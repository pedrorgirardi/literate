var shadow$provide = {};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};
$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&($jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+e,e=
$jscomp.propertyToPolyfillSymbol[e],$jscomp.defineProperty(d,e,{configurable:!0,writable:!0,value:b})))};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};
$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};
$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};
$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};
$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var c=a.next();$jscomp.generator.ensureIteratorResultIsObject_(c);if(c.done)this.yieldResult=c.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(c.value,b)};$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};
$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(c){return{value:c,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var d=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(d);if(!d.done)return this.context_.stop_(),d;var e=d.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&a.prototype&&$jscomp.setPrototypeOf(b,a.prototype);return b};
$jscomp.asyncExecutePromiseGenerator=function(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
(function(){
shadow$provide[0]=function(mc,Rb,Jc,Nb){var n=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,ca=Object.prototype.propertyIsEnumerable;Jc.exports=function(){try{if(!Object.assign)return!1;var Sa=new String("abc");Sa[5]="de";if("5"===Object.getOwnPropertyNames(Sa)[0])return!1;var Wb={};for(Sa=0;10>Sa;Sa++)Wb["_"+String.fromCharCode(Sa)]=Sa;if("0123456789"!==Object.getOwnPropertyNames(Wb).map(function(ub){return Wb[ub]}).join(""))return!1;var fb={};"abcdefghijklmnopqrst".split("").forEach(function(ub){fb[ub]=
ub});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},fb)).join("")?!1:!0}catch(ub){return!1}}()?Object.assign:function(Sa,Wb){if(null===Sa||void 0===Sa)throw new TypeError("Object.assign cannot be called with null or undefined");var fb=Object(Sa);for(var ub,Qb=1;Qb<arguments.length;Qb++){var Bb=Object(arguments[Qb]);for(var bb in Bb)x.call(Bb,bb)&&(fb[bb]=Bb[bb]);if(n){ub=n(Bb);for(var qb=0;qb<ub.length;qb++)ca.call(Bb,ub[qb])&&(fb[ub[qb]]=Bb[ub[qb]])}}return fb}};
shadow$provide[1]=function(mc,Rb,Jc,Nb){function n(W){for(var ea="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+W,pa=1;pa<arguments.length;pa++)ea+="\x26args[]\x3d"+encodeURIComponent(arguments[pa]);return"Minified React error #"+W+"; visit "+ea+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function x(W,ea,pa){this.props=W;this.context=ea;this.refs=ob;this.updater=pa||cb}function ca(){}function Sa(W,ea,pa){this.props=
W;this.context=ea;this.refs=ob;this.updater=pa||cb}function Wb(W,ea,pa){var Ua,db={},U=null,va=null;if(null!=ea)for(Ua in void 0!==ea.ref&&(va=ea.ref),void 0!==ea.key&&(U=""+ea.key),ea)Q.call(ea,Ua)&&!H.hasOwnProperty(Ua)&&(db[Ua]=ea[Ua]);var xa=arguments.length-2;if(1===xa)db.children=pa;else if(1<xa){for(var ma=Array(xa),R=0;R<xa;R++)ma[R]=arguments[R+2];db.children=ma}if(W&&W.defaultProps)for(Ua in xa=W.defaultProps,xa)void 0===db[Ua]&&(db[Ua]=xa[Ua]);return{$$typeof:jb,type:W,key:U,ref:va,props:db,
_owner:$a.current}}function fb(W,ea){return{$$typeof:jb,type:W.type,key:ea,ref:W.ref,props:W.props,_owner:W._owner}}function ub(W){return"object"===typeof W&&null!==W&&W.$$typeof===jb}function Qb(W){var ea={"\x3d":"\x3d0",":":"\x3d2"};return"$"+(""+W).replace(/[=:]/g,function(pa){return ea[pa]})}function Bb(W,ea,pa,Ua){if(na.length){var db=na.pop();db.result=W;db.keyPrefix=ea;db.func=pa;db.context=Ua;db.count=0;return db}return{result:W,keyPrefix:ea,func:pa,context:Ua,count:0}}function bb(W){W.result=
null;W.keyPrefix=null;W.func=null;W.context=null;W.count=0;10>na.length&&na.push(W)}function qb(W,ea,pa,Ua){var db=typeof W;if("undefined"===db||"boolean"===db)W=null;var U=!1;if(null===W)U=!0;else switch(db){case "string":case "number":U=!0;break;case "object":switch(W.$$typeof){case jb:case Ca:U=!0}}if(U)return pa(Ua,W,""===ea?"."+Wa(W,0):ea),1;U=0;ea=""===ea?".":ea+":";if(Array.isArray(W))for(var va=0;va<W.length;va++){db=W[va];var xa=ea+Wa(db,va);U+=qb(db,xa,pa,Ua)}else if(null===W||"object"!==
typeof W?xa=null:(xa=hb&&W[hb]||W["@@iterator"],xa="function"===typeof xa?xa:null),"function"===typeof xa)for(W=xa.call(W),va=0;!(db=W.next()).done;)db=db.value,xa=ea+Wa(db,va++),U+=qb(db,xa,pa,Ua);else if("object"===db)throw pa=""+W,Error(n(31,"[object Object]"===pa?"object with keys {"+Object.keys(W).join(", ")+"}":pa,""));return U}function sb(W,ea,pa){return null==W?0:qb(W,"",ea,pa)}function Wa(W,ea){return"object"===typeof W&&null!==W&&null!=W.key?Qb(W.key):ea.toString(36)}function Ha(W,ea){W.func.call(W.context,
ea,W.count++)}function Ia(W,ea,pa){var Ua=W.result,db=W.keyPrefix;W=W.func.call(W.context,ea,W.count++);Array.isArray(W)?Ya(W,Ua,pa,function(U){return U}):null!=W&&(ub(W)&&(W=fb(W,db+(!W.key||ea&&ea.key===W.key?"":(""+W.key).replace(T,"$\x26/")+"/")+pa)),Ua.push(W))}function Ya(W,ea,pa,Ua,db){var U="";null!=pa&&(U=(""+pa).replace(T,"$\x26/")+"/");ea=Bb(ea,U,Ua,db);sb(W,Ia,ea);bb(ea)}function mb(){var W=O.current;if(null===W)throw Error(n(321));return W}var Ea=Rb(0),Ga="function"===typeof Symbol&&
Symbol.for,jb=Ga?Symbol.for("react.element"):60103,Ca=Ga?Symbol.for("react.portal"):60106;mc=Ga?Symbol.for("react.fragment"):60107;Rb=Ga?Symbol.for("react.strict_mode"):60108;Jc=Ga?Symbol.for("react.profiler"):60114;var ab=Ga?Symbol.for("react.provider"):60109,Ma=Ga?Symbol.for("react.context"):60110,ja=Ga?Symbol.for("react.forward_ref"):60112,Aa=Ga?Symbol.for("react.suspense"):60113,Qa=Ga?Symbol.for("react.memo"):60115,Xa=Ga?Symbol.for("react.lazy"):60116,hb="function"===typeof Symbol&&Symbol.iterator,
cb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ob={};x.prototype.isReactComponent={};x.prototype.setState=function(W,ea){if("object"!==typeof W&&"function"!==typeof W&&null!=W)throw Error(n(85));this.updater.enqueueSetState(this,W,ea,"setState")};x.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};ca.prototype=x.prototype;Ga=Sa.prototype=new ca;Ga.constructor=Sa;Ea(Ga,x.prototype);
Ga.isPureReactComponent=!0;var $a={current:null},Q=Object.prototype.hasOwnProperty,H={key:!0,ref:!0,__self:!0,__source:!0},T=/\/+/g,na=[],O={current:null};Ga={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:$a,IsSomeRendererActing:{current:!1},assign:Ea};Nb.Children={map:function(W,ea,pa){if(null==W)return W;var Ua=[];Ya(W,Ua,null,ea,pa);return Ua},forEach:function(W,ea,pa){if(null==W)return W;ea=Bb(null,null,ea,pa);sb(W,Ha,ea);bb(ea)},count:function(W){return sb(W,
function(){return null},null)},toArray:function(W){var ea=[];Ya(W,ea,null,function(pa){return pa});return ea},only:function(W){if(!ub(W))throw Error(n(143));return W}};Nb.Component=x;Nb.Fragment=mc;Nb.Profiler=Jc;Nb.PureComponent=Sa;Nb.StrictMode=Rb;Nb.Suspense=Aa;Nb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ga;Nb.cloneElement=function(W,ea,pa){if(null===W||void 0===W)throw Error(n(267,W));var Ua=Ea({},W.props),db=W.key,U=W.ref,va=W._owner;if(null!=ea){void 0!==ea.ref&&(U=ea.ref,va=$a.current);
void 0!==ea.key&&(db=""+ea.key);if(W.type&&W.type.defaultProps)var xa=W.type.defaultProps;for(ma in ea)Q.call(ea,ma)&&!H.hasOwnProperty(ma)&&(Ua[ma]=void 0===ea[ma]&&void 0!==xa?xa[ma]:ea[ma])}var ma=arguments.length-2;if(1===ma)Ua.children=pa;else if(1<ma){xa=Array(ma);for(var R=0;R<ma;R++)xa[R]=arguments[R+2];Ua.children=xa}return{$$typeof:jb,type:W.type,key:db,ref:U,props:Ua,_owner:va}};Nb.createContext=function(W,ea){void 0===ea&&(ea=null);W={$$typeof:Ma,_calculateChangedBits:ea,_currentValue:W,
_currentValue2:W,_threadCount:0,Provider:null,Consumer:null};W.Provider={$$typeof:ab,_context:W};return W.Consumer=W};Nb.createElement=Wb;Nb.createFactory=function(W){var ea=Wb.bind(null,W);ea.type=W;return ea};Nb.createRef=function(){return{current:null}};Nb.forwardRef=function(W){return{$$typeof:ja,render:W}};Nb.isValidElement=ub;Nb.lazy=function(W){return{$$typeof:Xa,_ctor:W,_status:-1,_result:null}};Nb.memo=function(W,ea){return{$$typeof:Qa,type:W,compare:void 0===ea?null:ea}};Nb.useCallback=
function(W,ea){return mb().useCallback(W,ea)};Nb.useContext=function(W,ea){return mb().useContext(W,ea)};Nb.useDebugValue=function(){};Nb.useEffect=function(W,ea){return mb().useEffect(W,ea)};Nb.useImperativeHandle=function(W,ea,pa){return mb().useImperativeHandle(W,ea,pa)};Nb.useLayoutEffect=function(W,ea){return mb().useLayoutEffect(W,ea)};Nb.useMemo=function(W,ea){return mb().useMemo(W,ea)};Nb.useReducer=function(W,ea,pa){return mb().useReducer(W,ea,pa)};Nb.useRef=function(W){return mb().useRef(W)};
Nb.useState=function(W){return mb().useState(W)};Nb.version="16.13.1"};
shadow$provide[5]=function(mc,Rb,Jc,Nb){Jc.exports=Rb(1)};
shadow$provide[6]=function(mc,Rb,Jc,Nb){function n(O,W){var ea=O.length;O.push(W);a:for(;;){var pa=ea-1>>>1,Ua=O[pa];if(void 0!==Ua&&0<Sa(Ua,W))O[pa]=W,O[ea]=Ua,ea=pa;else break a}}function x(O){O=O[0];return void 0===O?null:O}function ca(O){var W=O[0];if(void 0!==W){var ea=O.pop();if(ea!==W){O[0]=ea;var pa=0,Ua=O.length;a:for(;pa<Ua;){var db=2*(pa+1)-1,U=O[db],va=db+1,xa=O[va];if(void 0!==U&&0>Sa(U,ea))void 0!==xa&&0>Sa(xa,U)?(O[pa]=xa,O[va]=ea,pa=va):(O[pa]=U,O[db]=ea,pa=db);else if(void 0!==xa&&
0>Sa(xa,ea))O[pa]=xa,O[va]=ea,pa=va;else break a}}return W}return null}function Sa(O,W){var ea=O.sortIndex-W.sortIndex;return 0!==ea?ea:O.id-W.id}function Wb(O){for(var W=x(cb);null!==W;){if(null===W.callback)ca(cb);else if(W.startTime<=O)ca(cb),W.sortIndex=W.expirationTime,n(hb,W);else break;W=x(cb)}}function fb(O){na=!1;Wb(O);if(!T)if(null!==x(hb))T=!0,Wa(ub);else{var W=x(cb);null!==W&&Ha(fb,W.startTime-O)}}function ub(O,W){T=!1;na&&(na=!1,Ia());H=!0;var ea=Q;try{Wb(W);for($a=x(hb);null!==$a&&(!($a.expirationTime>
W)||O&&!Ya());){var pa=$a.callback;if(null!==pa){$a.callback=null;Q=$a.priorityLevel;var Ua=pa($a.expirationTime<=W);W=Nb.unstable_now();"function"===typeof Ua?$a.callback=Ua:$a===x(hb)&&ca(hb);Wb(W)}else ca(hb);$a=x(hb)}if(null!==$a)var db=!0;else{var U=x(cb);null!==U&&Ha(fb,U.startTime-W);db=!1}return db}finally{$a=null,Q=ea,H=!1}}function Qb(O){switch(O){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1E4;default:return 5E3}}if("undefined"===typeof window||"function"!==
typeof MessageChannel){var Bb=null,bb=null,qb=function(){if(null!==Bb)try{var O=Nb.unstable_now();Bb(!0,O);Bb=null}catch(W){throw setTimeout(qb,0),W;}},sb=Date.now();Nb.unstable_now=function(){return Date.now()-sb};var Wa=function(O){null!==Bb?setTimeout(Wa,0,O):(Bb=O,setTimeout(qb,0))};var Ha=function(O,W){bb=setTimeout(O,W)};var Ia=function(){clearTimeout(bb)};var Ya=function(){return!1};mc=Nb.unstable_forceFrameRate=function(){}}else{var mb=window.performance,Ea=window.Date,Ga=window.setTimeout,
jb=window.clearTimeout;"undefined"!==typeof console&&(mc=window.cancelAnimationFrame,"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof mc&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));if("object"===typeof mb&&"function"===
typeof mb.now)Nb.unstable_now=function(){return mb.now()};else{var Ca=Ea.now();Nb.unstable_now=function(){return Ea.now()-Ca}}var ab=!1,Ma=null,ja=-1,Aa=5,Qa=0;Ya=function(){return Nb.unstable_now()>=Qa};mc=function(){};Nb.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):Aa=0<O?Math.floor(1E3/O):5};Rb=new MessageChannel;var Xa=Rb.port2;Rb.port1.onmessage=function(){if(null!==
Ma){var O=Nb.unstable_now();Qa=O+Aa;try{Ma(!0,O)?Xa.postMessage(null):(ab=!1,Ma=null)}catch(W){throw Xa.postMessage(null),W;}}else ab=!1};Wa=function(O){Ma=O;ab||(ab=!0,Xa.postMessage(null))};Ha=function(O,W){ja=Ga(function(){O(Nb.unstable_now())},W)};Ia=function(){jb(ja);ja=-1}}var hb=[],cb=[],ob=1,$a=null,Q=3,H=!1,T=!1,na=!1;Nb.unstable_IdlePriority=5;Nb.unstable_ImmediatePriority=1;Nb.unstable_LowPriority=4;Nb.unstable_NormalPriority=3;Nb.unstable_Profiling=null;Nb.unstable_UserBlockingPriority=
2;Nb.unstable_cancelCallback=function(O){O.callback=null};Nb.unstable_continueExecution=function(){T||H||(T=!0,Wa(ub))};Nb.unstable_getCurrentPriorityLevel=function(){return Q};Nb.unstable_getFirstCallbackNode=function(){return x(hb)};Nb.unstable_next=function(O){switch(Q){case 1:case 2:case 3:var W=3;break;default:W=Q}var ea=Q;Q=W;try{return O()}finally{Q=ea}};Nb.unstable_pauseExecution=function(){};Nb.unstable_requestPaint=mc;Nb.unstable_runWithPriority=function(O,W){switch(O){case 1:case 2:case 3:case 4:case 5:break;
default:O=3}var ea=Q;Q=O;try{return W()}finally{Q=ea}};Nb.unstable_scheduleCallback=function(O,W,ea){var pa=Nb.unstable_now();if("object"===typeof ea&&null!==ea){var Ua=ea.delay;Ua="number"===typeof Ua&&0<Ua?pa+Ua:pa;ea="number"===typeof ea.timeout?ea.timeout:Qb(O)}else ea=Qb(O),Ua=pa;ea=Ua+ea;O={id:ob++,callback:W,priorityLevel:O,startTime:Ua,expirationTime:ea,sortIndex:-1};Ua>pa?(O.sortIndex=Ua,n(cb,O),null===x(hb)&&O===x(cb)&&(na?Ia():na=!0,Ha(fb,Ua-pa))):(O.sortIndex=ea,n(hb,O),T||H||(T=!0,Wa(ub)));
return O};Nb.unstable_shouldYield=function(){var O=Nb.unstable_now();Wb(O);var W=x(hb);return W!==$a&&null!==$a&&null!==W&&null!==W.callback&&W.startTime<=O&&W.expirationTime<$a.expirationTime||Ya()};Nb.unstable_wrapCallback=function(O){var W=Q;return function(){var ea=Q;Q=W;try{return O.apply(this,arguments)}finally{Q=ea}}}};
shadow$provide[8]=function(mc,Rb,Jc,Nb){Jc.exports=Rb(6)};
shadow$provide[9]=function(mc,Rb,Jc,Nb){function n(e){for(var h="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+e,z=1;z<arguments.length;z++)h+="\x26args[]\x3d"+encodeURIComponent(arguments[z]);return"Minified React error #"+e+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function x(e,h,z,ba,Ba,yb,Jb,hc,dd){var Zc=Array.prototype.slice.call(arguments,3);try{h.apply(z,Zc)}catch(Qd){this.onError(Qd)}}function ca(e,
h,z,ba,Ba,yb,Jb,hc,dd){Pf=!1;Mi=null;x.apply(Sj,arguments)}function Sa(e,h,z,ba,Ba,yb,Jb,hc,dd){ca.apply(this,arguments);if(Pf){if(Pf){var Zc=Mi;Pf=!1;Mi=null}else throw Error(n(198));vh||(vh=!0,gj=Zc)}}function Wb(e,h,z){var ba=e.type||"unknown-event";e.currentTarget=ci(z);Sa(ba,h,void 0,e);e.currentTarget=null}function fb(){if(hj)for(var e in di){var h=di[e],z=hj.indexOf(e);if(!(-1<z))throw Error(n(96,e));if(!ij[z]){if(!h.extractEvents)throw Error(n(97,e));ij[z]=h;z=h.eventTypes;for(var ba in z){var Ba=
void 0,yb=z[ba],Jb=h,hc=ba;if(Bj.hasOwnProperty(hc))throw Error(n(99,hc));Bj[hc]=yb;var dd=yb.phasedRegistrationNames;if(dd){for(Ba in dd)dd.hasOwnProperty(Ba)&&ub(dd[Ba],Jb,hc);Ba=!0}else yb.registrationName?(ub(yb.registrationName,Jb,hc),Ba=!0):Ba=!1;if(!Ba)throw Error(n(98,ba,e));}}}}function ub(e,h,z){if(qi[e])throw Error(n(100,e));qi[e]=h;ei[e]=h.eventTypes[z].dependencies}function Qb(e){var h=!1,z;for(z in e)if(e.hasOwnProperty(z)){var ba=e[z];if(!di.hasOwnProperty(z)||di[z]!==ba){if(di[z])throw Error(n(102,
z));di[z]=ba;h=!0}}h&&fb()}function Bb(e){if(e=Ni(e)){if("function"!==typeof Oi)throw Error(n(280));var h=e.stateNode;h&&(h=jj(h),Oi(e.stateNode,e.type,h))}}function bb(e){ri?pg?pg.push(e):pg=[e]:ri=e}function qb(){if(ri){var e=ri,h=pg;pg=ri=null;Bb(e);if(h)for(e=0;e<h.length;e++)Bb(h[e])}}function sb(e,h){return e(h)}function Wa(e,h,z,ba,Ba){return e(h,z,ba,Ba)}function Ha(){}function Ia(){if(null!==ri||null!==pg)Ha(),qb()}function Ya(e,h,z){if(Pi)return e(h,z);Pi=!0;try{return Nh(e,h,z)}finally{Pi=
!1,Ia()}}function mb(e){if(kj.call(sf,e))return!0;if(kj.call(nf,e))return!1;if($g.test(e))return sf[e]=!0;nf[e]=!0;return!1}function Ea(e,h,z,ba){if(null!==z&&0===z.type)return!1;switch(typeof h){case "function":case "symbol":return!0;case "boolean":if(ba)return!1;if(null!==z)return!z.acceptsBooleans;e=e.toLowerCase().slice(0,5);return"data-"!==e&&"aria-"!==e;default:return!1}}function Ga(e,h,z,ba){if(null===h||"undefined"===typeof h||Ea(e,h,z,ba))return!0;if(ba)return!1;if(null!==z)switch(z.type){case 3:return!h;
case 4:return!1===h;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function jb(e,h,z,ba,Ba,yb){this.acceptsBooleans=2===h||3===h||4===h;this.attributeName=ba;this.attributeNamespace=Ba;this.mustUseProperty=z;this.propertyName=e;this.type=h;this.sanitizeURL=yb}function Ca(e){return e[1].toUpperCase()}function ab(e,h,z,ba){var Ba=yf.hasOwnProperty(h)?yf[h]:null;(null!==Ba?0===Ba.type:ba?0:2<h.length&&("o"===h[0]||"O"===h[0])&&("n"===h[1]||"N"===h[1]))||(Ga(h,z,Ba,ba)&&(z=null),ba||null===
Ba?mb(h)&&(null===z?e.removeAttribute(h):e.setAttribute(h,""+z)):Ba.mustUseProperty?e[Ba.propertyName]=null===z?3===Ba.type?!1:"":z:(h=Ba.attributeName,ba=Ba.attributeNamespace,null===z?e.removeAttribute(h):(Ba=Ba.type,z=3===Ba||4===Ba&&!0===z?"":""+z,ba?e.setAttributeNS(ba,h,z):e.setAttribute(h,z))))}function Ma(e){if(null===e||"object"!==typeof e)return null;e=lf&&e[lf]||e["@@iterator"];return"function"===typeof e?e:null}function ja(e){if(-1===e._status){e._status=0;var h=e._ctor;h=h();e._result=
h;h.then(function(z){0===e._status&&(z=z.default,e._status=1,e._result=z)},function(z){0===e._status&&(e._status=2,e._result=z)})}}function Aa(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ah:return"Fragment";case fi:return"Portal";case Oh:return"Profiler";case si:return"StrictMode";case Qi:return"Suspense";case ti:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case Tj:return"Context.Consumer";case Wg:return"Context.Provider";
case wh:var h=e.render;h=h.displayName||h.name||"";return e.displayName||(""!==h?"ForwardRef("+h+")":"ForwardRef");case Xg:return Aa(e.type);case ui:return Aa(e.render);case vi:if(e=1===e._status?e._result:null)return Aa(e)}return null}function Qa(e){var h="";do{a:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var z="";break a;default:var ba=e._debugOwner,Ba=e._debugSource,yb=Aa(e.type);z=null;ba&&(z=Aa(ba.type));ba=yb;yb="";Ba?yb=" (at "+Ba.fileName.replace(Kg,"")+":"+Ba.lineNumber+")":
z&&(yb=" (created by "+z+")");z="\n    in "+(ba||"Unknown")+yb}h+=z;e=e.return}while(e);return h}function Xa(e){switch(typeof e){case "boolean":case "number":case "object":case "string":case "undefined":return e;default:return""}}function hb(e){var h=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===h||"radio"===h)}function cb(e){var h=hb(e)?"checked":"value",z=Object.getOwnPropertyDescriptor(e.constructor.prototype,h),ba=""+e[h];if(!e.hasOwnProperty(h)&&"undefined"!==typeof z&&
"function"===typeof z.get&&"function"===typeof z.set){var Ba=z.get,yb=z.set;Object.defineProperty(e,h,{configurable:!0,get:function(){return Ba.call(this)},set:function(Jb){ba=""+Jb;yb.call(this,Jb)}});Object.defineProperty(e,h,{enumerable:z.enumerable});return{getValue:function(){return ba},setValue:function(Jb){ba=""+Jb},stopTracking:function(){e._valueTracker=null;delete e[h]}}}}function ob(e){e._valueTracker||(e._valueTracker=cb(e))}function $a(e){if(!e)return!1;var h=e._valueTracker;if(!h)return!0;
var z=h.getValue(),ba="";e&&(ba=hb(e)?e.checked?"true":"false":e.value);e=ba;return e!==z?(h.setValue(e),!0):!1}function Q(e,h){var z=h.checked;return Ag({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=z?z:e._wrapperState.initialChecked})}function H(e,h){var z=null==h.defaultValue?"":h.defaultValue,ba=null!=h.checked?h.checked:h.defaultChecked;z=Xa(null!=h.value?h.value:z);e._wrapperState={initialChecked:ba,initialValue:z,controlled:"checkbox"===h.type||"radio"===h.type?
null!=h.checked:null!=h.value}}function T(e,h){h=h.checked;null!=h&&ab(e,"checked",h,!1)}function na(e,h){T(e,h);var z=Xa(h.value),ba=h.type;if(null!=z)if("number"===ba){if(0===z&&""===e.value||e.value!=z)e.value=""+z}else e.value!==""+z&&(e.value=""+z);else if("submit"===ba||"reset"===ba){e.removeAttribute("value");return}h.hasOwnProperty("value")?W(e,h.type,z):h.hasOwnProperty("defaultValue")&&W(e,h.type,Xa(h.defaultValue));null==h.checked&&null!=h.defaultChecked&&(e.defaultChecked=!!h.defaultChecked)}
function O(e,h,z){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var ba=h.type;if(!("submit"!==ba&&"reset"!==ba||void 0!==h.value&&null!==h.value))return;h=""+e._wrapperState.initialValue;z||h===e.value||(e.value=h);e.defaultValue=h}z=e.name;""!==z&&(e.name="");e.defaultChecked=!!e._wrapperState.initialChecked;""!==z&&(e.name=z)}function W(e,h,z){if("number"!==h||e.ownerDocument.activeElement!==e)null==z?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+z&&(e.defaultValue=
""+z)}function ea(e){var h="";lj.Children.forEach(e,function(z){null!=z&&(h+=z)});return h}function pa(e,h){e=Ag({children:void 0},h);if(h=ea(h.children))e.children=h;return e}function Ua(e,h,z,ba){e=e.options;if(h){h={};for(var Ba=0;Ba<z.length;Ba++)h["$"+z[Ba]]=!0;for(z=0;z<e.length;z++)Ba=h.hasOwnProperty("$"+e[z].value),e[z].selected!==Ba&&(e[z].selected=Ba),Ba&&ba&&(e[z].defaultSelected=!0)}else{z=""+Xa(z);h=null;for(Ba=0;Ba<e.length;Ba++){if(e[Ba].value===z){e[Ba].selected=!0;ba&&(e[Ba].defaultSelected=
!0);return}null!==h||e[Ba].disabled||(h=e[Ba])}null!==h&&(h.selected=!0)}}function db(e,h){if(null!=h.dangerouslySetInnerHTML)throw Error(n(91));return Ag({},h,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function U(e,h){var z=h.value;if(null==z){z=h.children;h=h.defaultValue;if(null!=z){if(null!=h)throw Error(n(92));if(Array.isArray(z)){if(!(1>=z.length))throw Error(n(93));z=z[0]}h=z}null==h&&(h="");z=h}e._wrapperState={initialValue:Xa(z)}}function va(e,h){var z=Xa(h.value),
ba=Xa(h.defaultValue);null!=z&&(z=""+z,z!==e.value&&(e.value=z),null==h.defaultValue&&e.defaultValue!==z&&(e.defaultValue=z));null!=ba&&(e.defaultValue=""+ba)}function xa(e){var h=e.textContent;h===e._wrapperState.initialValue&&""!==h&&null!==h&&(e.value=h)}function ma(e){switch(e){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function R(e,h){return null==e||"http://www.w3.org/1999/xhtml"===e?ma(h):
"http://www.w3.org/2000/svg"===e&&"foreignObject"===h?"http://www.w3.org/1999/xhtml":e}function v(e,h){if(h){var z=e.firstChild;if(z&&z===e.lastChild&&3===z.nodeType){z.nodeValue=h;return}}e.textContent=h}function w(e,h){var z={};z[e.toLowerCase()]=h.toLowerCase();z["Webkit"+e]="webkit"+h;z["Moz"+e]="moz"+h;return z}function p(e){if(gi[e])return gi[e];if(!Gf[e])return e;var h=Gf[e],z;for(z in h)if(h.hasOwnProperty(z)&&z in mj)return gi[e]=h[z];return e}function r(e){var h=Ge.get(e);void 0===h&&(h=
new Map,Ge.set(e,h));return h}function C(e){var h=e,z=e;if(e.alternate)for(;h.return;)h=h.return;else{e=h;do h=e,0!==(h.effectTag&1026)&&(z=h.return),e=h.return;while(e)}return 3===h.tag?z:null}function D(e){if(13===e.tag){var h=e.memoizedState;null===h&&(e=e.alternate,null!==e&&(h=e.memoizedState));if(null!==h)return h.dehydrated}return null}function G(e){if(C(e)!==e)throw Error(n(188));}function B(e){var h=e.alternate;if(!h){h=C(e);if(null===h)throw Error(n(188));return h!==e?null:e}for(var z=e,
ba=h;;){var Ba=z.return;if(null===Ba)break;var yb=Ba.alternate;if(null===yb){ba=Ba.return;if(null!==ba){z=ba;continue}break}if(Ba.child===yb.child){for(yb=Ba.child;yb;){if(yb===z)return G(Ba),e;if(yb===ba)return G(Ba),h;yb=yb.sibling}throw Error(n(188));}if(z.return!==ba.return)z=Ba,ba=yb;else{for(var Jb=!1,hc=Ba.child;hc;){if(hc===z){Jb=!0;z=Ba;ba=yb;break}if(hc===ba){Jb=!0;ba=Ba;z=yb;break}hc=hc.sibling}if(!Jb){for(hc=yb.child;hc;){if(hc===z){Jb=!0;z=yb;ba=Ba;break}if(hc===ba){Jb=!0;ba=yb;z=Ba;
break}hc=hc.sibling}if(!Jb)throw Error(n(189));}}if(z.alternate!==ba)throw Error(n(190));}if(3!==z.tag)throw Error(n(188));return z.stateNode.current===z?e:h}function fa(e){e=B(e);if(!e)return null;for(var h=e;;){if(5===h.tag||6===h.tag)return h;if(h.child)h.child.return=h,h=h.child;else{if(h===e)break;for(;!h.sibling;){if(!h.return||h.return===e)return null;h=h.return}h.sibling.return=h.return;h=h.sibling}}return null}function wa(e,h){if(null==h)throw Error(n(30));if(null==e)return h;if(Array.isArray(e)){if(Array.isArray(h))return e.push.apply(e,
h),e;e.push(h);return e}return Array.isArray(h)?[e].concat(h):[e,h]}function la(e,h,z){Array.isArray(e)?e.forEach(h,z):e&&h.call(z,e)}function Ta(e){if(e){var h=e._dispatchListeners,z=e._dispatchInstances;if(Array.isArray(h))for(var ba=0;ba<h.length&&!e.isPropagationStopped();ba++)Wb(e,h[ba],z[ba]);else h&&Wb(e,h,z);e._dispatchListeners=null;e._dispatchInstances=null;e.isPersistent()||e.constructor.release(e)}}function Ja(e){null!==e&&(wi=wa(wi,e));e=wi;wi=null;if(e){la(e,Ta);if(wi)throw Error(n(95));
if(vh)throw e=gj,vh=!1,gj=null,e;}}function Z(e){e=e.target||e.srcElement||window;e.correspondingUseElement&&(e=e.correspondingUseElement);return 3===e.nodeType?e.parentNode:e}function sa(e){if(!xh)return!1;e="on"+e;var h=e in document;h||(h=document.createElement("div"),h.setAttribute(e,"return;"),h="function"===typeof h[e]);return h}function eb(e){e.topLevelType=null;e.nativeEvent=null;e.targetInst=null;e.ancestors.length=0;10>xi.length&&xi.push(e)}function xb(e,h,z,ba){if(xi.length){var Ba=xi.pop();
Ba.topLevelType=e;Ba.eventSystemFlags=ba;Ba.nativeEvent=h;Ba.targetInst=z;return Ba}return{topLevelType:e,eventSystemFlags:ba,nativeEvent:h,targetInst:z,ancestors:[]}}function Kb(e){var h=e.targetInst,z=h;do{if(!z){e.ancestors.push(z);break}var ba=z;if(3===ba.tag)ba=ba.stateNode.containerInfo;else{for(;ba.return;)ba=ba.return;ba=3!==ba.tag?null:ba.stateNode.containerInfo}if(!ba)break;h=z.tag;5!==h&&6!==h||e.ancestors.push(z);z=rb(ba)}while(z);for(z=0;z<e.ancestors.length;z++){h=e.ancestors[z];var Ba=
Z(e.nativeEvent);ba=e.topLevelType;var yb=e.nativeEvent,Jb=e.eventSystemFlags;0===z&&(Jb|=64);for(var hc=null,dd=0;dd<ij.length;dd++){var Zc=ij[dd];Zc&&(Zc=Zc.extractEvents(ba,h,yb,Ba,Jb))&&(hc=wa(hc,Zc))}Ja(hc)}}function ec(e,h,z){if(!z.has(e)){switch(e){case "scroll":Dd(h,"scroll",!0);break;case "focus":case "blur":Dd(h,"focus",!0);Dd(h,"blur",!0);z.set("blur",null);z.set("focus",null);break;case "cancel":case "close":sa(e)&&Dd(h,e,!0);break;case "invalid":case "submit":case "reset":break;default:-1===
yh.indexOf(e)&&Nc(e,h)}z.set(e,null)}}function Ec(e,h){var z=r(h);Xf.forEach(function(ba){ec(ba,h,z)});nj.forEach(function(ba){ec(ba,h,z)})}function gd(e,h,z,ba,Ba){return{blockedOn:e,topLevelType:h,eventSystemFlags:z|32,nativeEvent:Ba,container:ba}}function Dc(e,h){switch(e){case "focus":case "blur":Ph=null;break;case "dragenter":case "dragleave":Qh=null;break;case "mouseover":case "mouseout":zh=null;break;case "pointerover":case "pointerout":Ah.delete(h.pointerId);break;case "gotpointercapture":case "lostpointercapture":Bh.delete(h.pointerId)}}
function Sc(e,h,z,ba,Ba,yb){if(null===e||e.nativeEvent!==yb)return e=gd(h,z,ba,Ba,yb),null!==h&&(h=Lb(h),null!==h&&bl(h)),e;e.eventSystemFlags|=ba;return e}function Ra(e,h,z,ba,Ba){switch(h){case "focus":return Ph=Sc(Ph,e,h,z,ba,Ba),!0;case "dragenter":return Qh=Sc(Qh,e,h,z,ba,Ba),!0;case "mouseover":return zh=Sc(zh,e,h,z,ba,Ba),!0;case "pointerover":var yb=Ba.pointerId;Ah.set(yb,Sc(Ah.get(yb)||null,e,h,z,ba,Ba));return!0;case "gotpointercapture":return yb=Ba.pointerId,Bh.set(yb,Sc(Bh.get(yb)||null,
e,h,z,ba,Ba)),!0}return!1}function nc(e){var h=rb(e.target);if(null!==h){var z=C(h);if(null!==z)if(h=z.tag,13===h){if(h=D(z),null!==h){e.blockedOn=h;Bg.unstable_runWithPriority(e.priority,function(){yl(z)});return}}else if(3===h&&z.stateNode.hydrate){e.blockedOn=3===z.tag?z.stateNode.containerInfo:null;return}}e.blockedOn=null}function kc(e){if(null!==e.blockedOn)return!1;var h=ge(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==h){var z=Lb(h);null!==z&&bl(z);e.blockedOn=h;return!1}return!0}
function wc(e,h,z){kc(e)&&z.delete(h)}function Pc(){for(Ri=!1;0<bh.length;){var e=bh[0];if(null!==e.blockedOn){e=Lb(e.blockedOn);null!==e&&Lk(e);break}var h=ge(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==h?e.blockedOn=h:bh.shift()}null!==Ph&&kc(Ph)&&(Ph=null);null!==Qh&&kc(Qh)&&(Qh=null);null!==zh&&kc(zh)&&(zh=null);Ah.forEach(wc);Bh.forEach(wc)}function rc(e,h){e.blockedOn===h&&(e.blockedOn=null,Ri||(Ri=!0,Bg.unstable_scheduleCallback(Bg.unstable_NormalPriority,Pc)))}function Xc(e){function h(Ba){return rc(Ba,
e)}if(0<bh.length){rc(bh[0],e);for(var z=1;z<bh.length;z++){var ba=bh[z];ba.blockedOn===e&&(ba.blockedOn=null)}}null!==Ph&&rc(Ph,e);null!==Qh&&rc(Qh,e);null!==zh&&rc(zh,e);Ah.forEach(h);Bh.forEach(h);for(z=0;z<ch.length;z++)ba=ch[z],ba.blockedOn===e&&(ba.blockedOn=null);for(;0<ch.length&&(z=ch[0],null===z.blockedOn);)nc(z),null===z.blockedOn&&ch.shift()}function $c(e,h){for(var z=0;z<e.length;z+=2){var ba=e[z],Ba=e[z+1],yb="on"+(Ba[0].toUpperCase()+Ba.slice(1));yb={phasedRegistrationNames:{bubbled:yb,
captured:yb+"Capture"},dependencies:[ba],eventPriority:h};Cj.set(ba,h);Dj.set(ba,yb);kh[Ba]=yb}}function Nc(e,h){Dd(h,e,!1)}function Dd(e,h,z){var ba=Cj.get(h);switch(void 0===ba?2:ba){case 0:ba=we.bind(null,h,1,e);break;case 1:ba=ld.bind(null,h,1,e);break;default:ba=sd.bind(null,h,1,e)}z?e.addEventListener(h,ba,!0):e.addEventListener(h,ba,!1)}function we(e,h,z,ba){jg||Ha();var Ba=sd,yb=jg;jg=!0;try{Wa(Ba,e,h,z,ba)}finally{(jg=yb)||Ia()}}function ld(e,h,z,ba){yi(Uj,sd.bind(null,e,h,z,ba))}function sd(e,
h,z,ba){if(Rh)if(0<bh.length&&-1<Xf.indexOf(e))e=gd(null,e,h,z,ba),bh.push(e);else{var Ba=ge(e,h,z,ba);if(null===Ba)Dc(e,ba);else if(-1<Xf.indexOf(e))e=gd(Ba,e,h,z,ba),bh.push(e);else if(!Ra(Ba,e,h,z,ba)){Dc(e,ba);e=xb(e,ba,null,h);try{Ya(Kb,e)}finally{eb(e)}}}}function ge(e,h,z,ba){z=Z(ba);z=rb(z);if(null!==z){var Ba=C(z);if(null===Ba)z=null;else{var yb=Ba.tag;if(13===yb){z=D(Ba);if(null!==z)return z;z=null}else if(3===yb){if(Ba.stateNode.hydrate)return 3===Ba.tag?Ba.stateNode.containerInfo:null;
z=null}else Ba!==z&&(z=null)}}e=xb(e,ba,z,h);try{Ya(Kb,e)}finally{eb(e)}return null}function La(e,h,z){return null==h||"boolean"===typeof h||""===h?"":z||"number"!==typeof h||0===h||zi.hasOwnProperty(e)&&zi[e]?(""+h).trim():h+"px"}function vb(e,h){e=e.style;for(var z in h)if(h.hasOwnProperty(z)){var ba=0===z.indexOf("--"),Ba=La(z,h[z],ba);"float"===z&&(z="cssFloat");ba?e.setProperty(z,Ba):e[z]=Ba}}function $b(e,h){if(h){if(Ch[e]&&(null!=h.children||null!=h.dangerouslySetInnerHTML))throw Error(n(137,
e,""));if(null!=h.dangerouslySetInnerHTML){if(null!=h.children)throw Error(n(60));if(!("object"===typeof h.dangerouslySetInnerHTML&&"__html"in h.dangerouslySetInnerHTML))throw Error(n(61));}if(null!=h.style&&"object"!==typeof h.style)throw Error(n(62,""));}}function rd(e,h){if(-1===e.indexOf("-"))return"string"===typeof h.is;switch(e){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;
default:return!0}}function vd(e,h){e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument;var z=r(e);h=ei[h];for(var ba=0;ba<h.length;ba++)ec(h[ba],e,z)}function de(){}function oe(e){e=e||("undefined"!==typeof document?document:void 0);if("undefined"===typeof e)return null;try{return e.activeElement||e.body}catch(h){return e.body}}function X(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function za(e,h){var z=X(e);e=0;for(var ba;z;){if(3===z.nodeType){ba=e+z.textContent.length;if(e<=h&&ba>=h)return{node:z,
offset:h-e};e=ba}a:{for(;z;){if(z.nextSibling){z=z.nextSibling;break a}z=z.parentNode}z=void 0}z=X(z)}}function gb(e,h){return e&&h?e===h?!0:e&&3===e.nodeType?!1:h&&3===h.nodeType?gb(e,h.parentNode):"contains"in e?e.contains(h):e.compareDocumentPosition?!!(e.compareDocumentPosition(h)&16):!1:!1}function Db(){for(var e=window,h=oe();h instanceof e.HTMLIFrameElement;){try{var z="string"===typeof h.contentWindow.location.href}catch(ba){z=!1}if(z)e=h.contentWindow;else break;h=oe(e.document)}return h}
function Zb(e){var h=e&&e.nodeName&&e.nodeName.toLowerCase();return h&&("input"===h&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===h||"true"===e.contentEditable)}function Gb(e,h){switch(e){case "button":case "input":case "select":case "textarea":return!!h.autoFocus}return!1}function sc(e,h){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof h.children||"number"===typeof h.children||"object"===typeof h.dangerouslySetInnerHTML&&
null!==h.dangerouslySetInnerHTML&&null!=h.dangerouslySetInnerHTML.__html}function jc(e){for(;null!=e;e=e.nextSibling){var h=e.nodeType;if(1===h||3===h)break}return e}function Oa(e){e=e.previousSibling;for(var h=0;e;){if(8===e.nodeType){var z=e.data;if(z===lh||z===Ai||z===Vj){if(0===h)return e;h--}else z===Si&&h++}e=e.previousSibling}return null}function rb(e){var h=e[mh];if(h)return h;for(var z=e.parentNode;z;){if(h=z[Dh]||z[mh]){z=h.alternate;if(null!==h.child||null!==z&&null!==z.child)for(e=Oa(e);null!==
e;){if(z=e[mh])return z;e=Oa(e)}return h}e=z;z=e.parentNode}return null}function Lb(e){e=e[mh]||e[Dh];return!e||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function gc(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(n(33));}function tc(e){return e[Qg]||null}function Bc(e){do e=e.return;while(e&&5!==e.tag);return e?e:null}function Mc(e,h){var z=e.stateNode;if(!z)return null;var ba=jj(z);if(!ba)return null;z=ba[h];a:switch(h){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(ba=
!ba.disabled)||(e=e.type,ba=!("button"===e||"input"===e||"select"===e||"textarea"===e));e=!ba;break a;default:e=!1}if(e)return null;if(z&&"function"!==typeof z)throw Error(n(231,h,typeof z));return z}function Hb(e,h,z){if(h=Mc(e,z.dispatchConfig.phasedRegistrationNames[h]))z._dispatchListeners=wa(z._dispatchListeners,h),z._dispatchInstances=wa(z._dispatchInstances,e)}function yc(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var h=e._targetInst,z=[];h;)z.push(h),h=Bc(h);for(h=z.length;0<h--;)Hb(z[h],
"captured",e);for(h=0;h<z.length;h++)Hb(z[h],"bubbled",e)}}function Cc(e,h,z){e&&z&&z.dispatchConfig.registrationName&&(h=Mc(e,z.dispatchConfig.registrationName))&&(z._dispatchListeners=wa(z._dispatchListeners,h),z._dispatchInstances=wa(z._dispatchInstances,e))}function xc(e){e&&e.dispatchConfig.registrationName&&Cc(e._targetInst,null,e)}function Ic(e){la(e,yc)}function Yc(){if(Bi)return Bi;var e,h=ug,z=h.length,ba,Ba="value"in Sh?Sh.value:Sh.textContent,yb=Ba.length;for(e=0;e<z&&h[e]===Ba[e];e++);
var Jb=z-e;for(ba=1;ba<=Jb&&h[z-ba]===Ba[yb-ba];ba++);return Bi=Ba.slice(e,1<ba?1-ba:void 0)}function Uc(){return!0}function od(){return!1}function qd(e,h,z,ba){this.dispatchConfig=e;this._targetInst=h;this.nativeEvent=z;e=this.constructor.Interface;for(var Ba in e)e.hasOwnProperty(Ba)&&((h=e[Ba])?this[Ba]=h(z):"target"===Ba?this.target=ba:this[Ba]=z[Ba]);this.isDefaultPrevented=(null!=z.defaultPrevented?z.defaultPrevented:!1===z.returnValue)?Uc:od;this.isPropagationStopped=od;return this}function Id(e,
h,z,ba){if(this.eventPool.length){var Ba=this.eventPool.pop();this.call(Ba,e,h,z,ba);return Ba}return new this(e,h,z,ba)}function Ed(e){if(!(e instanceof this))throw Error(n(279));e.destructor();10>this.eventPool.length&&this.eventPool.push(e)}function Wd(e){e.eventPool=[];e.getPooled=Id;e.release=Ed}function me(e,h){switch(e){case "keyup":return-1!==Ti.indexOf(h.keyCode);case "keydown":return 229!==h.keyCode;case "keypress":case "mousedown":case "blur":return!0;default:return!1}}function ye(e){e=
e.detail;return"object"===typeof e&&"data"in e?e.data:null}function Ye(e,h){switch(e){case "compositionend":return ye(h);case "keypress":if(32!==h.which)return null;oj=!0;return Wj;case "textInput":return e=h.data,e===Wj&&oj?null:e;default:return null}}function Qe(e,h){if(nh)return"compositionend"===e||!Ci&&me(e,h)?(e=Yc(),Bi=ug=Sh=null,nh=!1,e):null;switch(e){case "paste":return null;case "keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;
if(h.which)return String.fromCharCode(h.which)}return null;case "compositionend":return Di&&"ko"!==h.locale?null:h.data;default:return null}}function Re(e){var h=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===h?!!Ui[e.type]:"textarea"===h?!0:!1}function Fd(e,h,z){e=qd.getPooled(Xj.change,e,h,z);e.type="change";bb(z);Ic(e);return e}function ee(e){Ja(e)}function ff(e){var h=gc(e);if($a(h))return e}function Oe(e,h){if("change"===e)return h}function Bf(){Th&&(Th.detachEvent("onpropertychange",
Yd),Uh=Th=null)}function Yd(e){if("value"===e.propertyName&&ff(Uh))if(e=Fd(Uh,e,Z(e)),jg)Ja(e);else{jg=!0;try{sb(ee,e)}finally{jg=!1,Ia()}}}function Ae(e,h,z){"focus"===e?(Bf(),Th=h,Uh=z,Th.attachEvent("onpropertychange",Yd)):"blur"===e&&Bf()}function cf(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return ff(Uh)}function re(e,h){if("click"===e)return ff(h)}function Ad(e,h){if("input"===e||"change"===e)return ff(h)}function Ld(e){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(e):
(e=Mk[e])?!!h[e]:!1}function ae(){return Ld}function Jf(e,h){return e===h&&(0!==e||1/e===1/h)||e!==e&&h!==h}function De(e,h){if(ra(e,h))return!0;if("object"!==typeof e||null===e||"object"!==typeof h||null===h)return!1;var z=Object.keys(e),ba=Object.keys(h);if(z.length!==ba.length)return!1;for(ba=0;ba<z.length;ba++)if(!ib.call(h,z[ba])||!ra(e[z[ba]],h[z[ba]]))return!1;return!0}function Jd(e,h){var z=h.window===h?h.document:9===h.nodeType?h:h.ownerDocument;if(ed||null==Hc||Hc!==oe(z))return null;z=
Hc;"selectionStart"in z&&Zb(z)?z={start:z.selectionStart,end:z.selectionEnd}:(z=(z.ownerDocument&&z.ownerDocument.defaultView||window).getSelection(),z={anchorNode:z.anchorNode,anchorOffset:z.anchorOffset,focusNode:z.focusNode,focusOffset:z.focusOffset});return oc&&De(oc,z)?null:(oc=z,e=qd.getPooled(Xb.select,qc,e,h),e.type="select",e.target=Hc,Ic(e),e)}function Se(e){var h=e.keyCode;"charCode"in e?(e=e.charCode,0===e&&13===h&&(e=13)):e=h;10===e&&(e=13);return 32<=e||13===e?e:0}function Ee(e){0>vg||
(e.current=Cg[vg],Cg[vg]=null,vg--)}function Ac(e,h){vg++;Cg[vg]=e.current;e.current=h}function Be(e,h){var z=e.type.contextTypes;if(!z)return Lg;var ba=e.stateNode;if(ba&&ba.__reactInternalMemoizedUnmaskedChildContext===h)return ba.__reactInternalMemoizedMaskedChildContext;var Ba={},yb;for(yb in z)Ba[yb]=h[yb];ba&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=Ba);return Ba}function Xd(e){e=e.childContextTypes;return null!==e&&void 0!==
e}function bc(){Ee(Dg);Ee(mg)}function Je(e,h,z){if(mg.current!==Lg)throw Error(n(168));Ac(mg,h);Ac(Dg,z)}function pe(e,h,z){var ba=e.stateNode;e=h.childContextTypes;if("function"!==typeof ba.getChildContext)return z;ba=ba.getChildContext();for(var Ba in ba)if(!(Ba in e))throw Error(n(108,Aa(h)||"Unknown",Ba));return Ag({},z,{},ba)}function Ke(e){e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Lg;Vi=mg.current;Ac(mg,e);Ac(Dg,Dg.current);return!0}function Cf(e,h,z){var ba=e.stateNode;
if(!ba)throw Error(n(169));z?(e=pe(e,h,Vi),ba.__reactInternalMemoizedMergedChildContext=e,Ee(Dg),Ee(mg),Ac(mg,e)):Ee(Dg);Ac(Dg,z)}function kf(){switch(zl()){case eg:return 99;case Eh:return 98;case tk:return 97;case pj:return 96;case Nk:return 95;default:throw Error(n(332));}}function tf(e){switch(e){case 99:return eg;case 98:return Eh;case 97:return tk;case 96:return pj;case 95:return Nk;default:throw Error(n(332));}}function Pe(e,h){e=tf(e);return cl(e,h)}function K(e,h,z){e=tf(e);return uk(e,h,
z)}function S(e){null===hi?(hi=[e],Ej=uk(eg,Ka)):hi.push(e);return dl}function ua(){if(null!==Ej){var e=Ej;Ej=null;el(e)}Ka()}function Ka(){if(!Fj&&null!==hi){Fj=!0;var e=0;try{var h=hi;Pe(99,function(){for(;e<h.length;e++){var z=h[e];do z=z(!0);while(null!==z)}});hi=null}catch(z){throw null!==hi&&(hi=hi.slice(e+1)),uk(eg,ua),z;}finally{Fj=!1}}}function Va(e,h,z){z/=10;return 1073741821-(((1073741821-e+h/10)/z|0)+1)*z}function Vb(e,h){if(e&&e.defaultProps){h=Ag({},h);e=e.defaultProps;for(var z in e)void 0===
h[z]&&(h[z]=e[z])}return h}function lc(e){var h=Yj.current;Ee(Yj);e.type._context._currentValue=h}function Gc(e,h){for(;null!==e;){var z=e.alternate;if(e.childExpirationTime<h)e.childExpirationTime=h,null!==z&&z.childExpirationTime<h&&(z.childExpirationTime=h);else if(null!==z&&z.childExpirationTime<h)z.childExpirationTime=h;else break;e=e.return}}function uc(e,h){Gj=e;Hj=Vh=null;e=e.dependencies;null!==e&&null!==e.firstContext&&(e.expirationTime>=h&&(dh=!0),e.firstContext=null)}function Fc(e,h){if(Hj!==
e&&!1!==h&&0!==h){if("number"!==typeof h||1073741823===h)Hj=e,h=1073741823;h={context:e,observedBits:h,next:null};if(null===Vh){if(null===Gj)throw Error(n(308));Vh=h;Gj.dependencies={expirationTime:0,firstContext:h,responders:null}}else Vh=Vh.next=h}return e._currentValue}function id(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function fd(e,h){e=e.updateQueue;h.updateQueue===e&&(h.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,
effects:e.effects})}function se(e,h){e={expirationTime:e,suspenseConfig:h,tag:0,payload:null,callback:null,next:null};return e.next=e}function xd(e,h){e=e.updateQueue;if(null!==e){e=e.shared;var z=e.pending;null===z?h.next=h:(h.next=z.next,z.next=h);e.pending=h}}function zd(e,h){var z=e.alternate;null!==z&&fd(z,e);e=e.updateQueue;z=e.baseQueue;null===z?(e.baseQueue=h.next=h,h.next=h):(h.next=z.next,z.next=h)}function le(e,h,z,ba){var Ba=e.updateQueue;Wi=!1;var yb=Ba.baseQueue,Jb=Ba.shared.pending;
if(null!==Jb){if(null!==yb){var hc=yb.next;yb.next=Jb.next;Jb.next=hc}yb=Jb;Ba.shared.pending=null;hc=e.alternate;null!==hc&&(hc=hc.updateQueue,null!==hc&&(hc.baseQueue=Jb))}if(null!==yb){hc=yb.next;var dd=Ba.baseState,Zc=0,Qd=null,Zd=null,Df=null;if(null!==hc){var Rf=hc;do{Jb=Rf.expirationTime;if(Jb<ba){var fg={expirationTime:Rf.expirationTime,suspenseConfig:Rf.suspenseConfig,tag:Rf.tag,payload:Rf.payload,callback:Rf.callback,next:null};null===Df?(Zd=Df=fg,Qd=dd):Df=Df.next=fg;Jb>Zc&&(Zc=Jb)}else{null!==
Df&&(Df=Df.next={expirationTime:1073741823,suspenseConfig:Rf.suspenseConfig,tag:Rf.tag,payload:Rf.payload,callback:Rf.callback,next:null});kg(Jb,Rf.suspenseConfig);a:{var Gg=e,Vc=Rf;Jb=h;fg=z;switch(Vc.tag){case 1:Gg=Vc.payload;if("function"===typeof Gg){dd=Gg.call(fg,dd,Jb);break a}dd=Gg;break a;case 3:Gg.effectTag=Gg.effectTag&-4097|64;case 0:Gg=Vc.payload;Jb="function"===typeof Gg?Gg.call(fg,dd,Jb):Gg;if(null===Jb||void 0===Jb)break a;dd=Ag({},dd,Jb);break a;case 2:Wi=!0}}null!==Rf.callback&&(e.effectTag|=
32,Jb=Ba.effects,null===Jb?Ba.effects=[Rf]:Jb.push(Rf))}Rf=Rf.next;if(null===Rf||Rf===hc)if(Jb=Ba.shared.pending,null===Jb)break;else Rf=yb.next=Jb.next,Jb.next=hc,Ba.baseQueue=yb=Jb,Ba.shared.pending=null}while(1)}null===Df?Qd=dd:Df.next=Zd;Ba.baseState=Qd;Ba.baseQueue=Df;Yf(Zc);e.expirationTime=Zc;e.memoizedState=dd}}function Te(e,h,z){e=h.effects;h.effects=null;if(null!==e)for(h=0;h<e.length;h++){var ba=e[h],Ba=ba.callback;if(null!==Ba){ba.callback=null;ba=Ba;Ba=z;if("function"!==typeof ba)throw Error(n(191,
ba));ba.call(Ba)}}}function Me(e,h,z,ba){h=e.memoizedState;z=z(ba,h);z=null===z||void 0===z?h:Ag({},h,z);e.memoizedState=z;0===e.expirationTime&&(e.updateQueue.baseState=z)}function uf(e,h,z,ba,Ba,yb,Jb){e=e.stateNode;return"function"===typeof e.shouldComponentUpdate?e.shouldComponentUpdate(ba,yb,Jb):h.prototype&&h.prototype.isPureReactComponent?!De(z,ba)||!De(Ba,yb):!0}function Zf(e,h,z){var ba=!1,Ba=Lg,yb=h.contextType;"object"===typeof yb&&null!==yb?yb=Fc(yb):(Ba=Xd(h)?Vi:mg.current,ba=h.contextTypes,
yb=(ba=null!==ba&&void 0!==ba)?Be(e,Ba):Lg);h=new h(z,yb);e.memoizedState=null!==h.state&&void 0!==h.state?h.state:null;h.updater=vk;e.stateNode=h;h._reactInternalFiber=e;ba&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=Ba,e.__reactInternalMemoizedMaskedChildContext=yb);return h}function pd(e,h,z,ba){e=h.state;"function"===typeof h.componentWillReceiveProps&&h.componentWillReceiveProps(z,ba);"function"===typeof h.UNSAFE_componentWillReceiveProps&&h.UNSAFE_componentWillReceiveProps(z,
ba);h.state!==e&&vk.enqueueReplaceState(h,h.state,null)}function Ue(e,h,z,ba){var Ba=e.stateNode;Ba.props=z;Ba.state=e.memoizedState;Ba.refs=fl;id(e);var yb=h.contextType;"object"===typeof yb&&null!==yb?Ba.context=Fc(yb):(yb=Xd(h)?Vi:mg.current,Ba.context=Be(e,yb));le(e,z,Ba,ba);Ba.state=e.memoizedState;yb=h.getDerivedStateFromProps;"function"===typeof yb&&(Me(e,h,yb,z),Ba.state=e.memoizedState);"function"===typeof h.getDerivedStateFromProps||"function"===typeof Ba.getSnapshotBeforeUpdate||"function"!==
typeof Ba.UNSAFE_componentWillMount&&"function"!==typeof Ba.componentWillMount||(h=Ba.state,"function"===typeof Ba.componentWillMount&&Ba.componentWillMount(),"function"===typeof Ba.UNSAFE_componentWillMount&&Ba.UNSAFE_componentWillMount(),h!==Ba.state&&vk.enqueueReplaceState(Ba,Ba.state,null),le(e,z,Ba,ba),Ba.state=e.memoizedState);"function"===typeof Ba.componentDidMount&&(e.effectTag|=4)}function Le(e,h,z){e=z.ref;if(null!==e&&"function"!==typeof e&&"object"!==typeof e){if(z._owner){if(z=z._owner){if(1!==
z.tag)throw Error(n(309));var ba=z.stateNode}if(!ba)throw Error(n(147,e));var Ba=""+e;if(null!==h&&null!==h.ref&&"function"===typeof h.ref&&h.ref._stringRef===Ba)return h.ref;h=function(yb){var Jb=ba.refs;Jb===fl&&(Jb=ba.refs={});null===yb?delete Jb[Ba]:Jb[Ba]=yb};h._stringRef=Ba;return h}if("string"!==typeof e)throw Error(n(284));if(!z._owner)throw Error(n(290,e));}return e}function Ze(e,h){if("textarea"!==e.type)throw Error(n(31,"[object Object]"===Object.prototype.toString.call(h)?"object with keys {"+
Object.keys(h).join(", ")+"}":h,""));}function $f(e){function h(Vc,Lc){if(e){var jd=Vc.lastEffect;null!==jd?(jd.nextEffect=Lc,Vc.lastEffect=Lc):Vc.firstEffect=Vc.lastEffect=Lc;Lc.nextEffect=null;Lc.effectTag=8}}function z(Vc,Lc){if(!e)return null;for(;null!==Lc;)h(Vc,Lc),Lc=Lc.sibling;return null}function ba(Vc,Lc){for(Vc=new Map;null!==Lc;)null!==Lc.key?Vc.set(Lc.key,Lc):Vc.set(Lc.index,Lc),Lc=Lc.sibling;return Vc}function Ba(Vc,Lc){Vc=Wh(Vc,Lc);Vc.index=0;Vc.sibling=null;return Vc}function yb(Vc,
Lc,jd){Vc.index=jd;if(!e)return Lc;jd=Vc.alternate;if(null!==jd)return jd=jd.index,jd<Lc?(Vc.effectTag=2,Lc):jd;Vc.effectTag=2;return Lc}function Jb(Vc){e&&null===Vc.alternate&&(Vc.effectTag=2);return Vc}function hc(Vc,Lc,jd,Gd){if(null===Lc||6!==Lc.tag)return Lc=Ij(jd,Vc.mode,Gd),Lc.return=Vc,Lc;Lc=Ba(Lc,jd);Lc.return=Vc;return Lc}function dd(Vc,Lc,jd,Gd){if(null!==Lc&&Lc.elementType===jd.type)return Gd=Ba(Lc,jd.props),Gd.ref=Le(Vc,Lc,jd),Gd.return=Vc,Gd;Gd=Ei(jd.type,jd.key,jd.props,null,Vc.mode,
Gd);Gd.ref=Le(Vc,Lc,jd);Gd.return=Vc;return Gd}function Zc(Vc,Lc,jd,Gd){if(null===Lc||4!==Lc.tag||Lc.stateNode.containerInfo!==jd.containerInfo||Lc.stateNode.implementation!==jd.implementation)return Lc=qg(jd,Vc.mode,Gd),Lc.return=Vc,Lc;Lc=Ba(Lc,jd.children||[]);Lc.return=Vc;return Lc}function Qd(Vc,Lc,jd,Gd,Ud){if(null===Lc||7!==Lc.tag)return Lc=eh(jd,Vc.mode,Gd,Ud),Lc.return=Vc,Lc;Lc=Ba(Lc,jd);Lc.return=Vc;return Lc}function Zd(Vc,Lc,jd){if("string"===typeof Lc||"number"===typeof Lc)return Lc=Ij(""+
Lc,Vc.mode,jd),Lc.return=Vc,Lc;if("object"===typeof Lc&&null!==Lc){switch(Lc.$$typeof){case qj:return jd=Ei(Lc.type,Lc.key,Lc.props,null,Vc.mode,jd),jd.ref=Le(Vc,null,Lc),jd.return=Vc,jd;case fi:return Lc=qg(Lc,Vc.mode,jd),Lc.return=Vc,Lc}if(wk(Lc)||Ma(Lc))return Lc=eh(Lc,Vc.mode,jd,null),Lc.return=Vc,Lc;Ze(Vc,Lc)}return null}function Df(Vc,Lc,jd,Gd){var Ud=null!==Lc?Lc.key:null;if("string"===typeof jd||"number"===typeof jd)return null!==Ud?null:hc(Vc,Lc,""+jd,Gd);if("object"===typeof jd&&null!==
jd){switch(jd.$$typeof){case qj:return jd.key===Ud?jd.type===ah?Qd(Vc,Lc,jd.props.children,Gd,Ud):dd(Vc,Lc,jd,Gd):null;case fi:return jd.key===Ud?Zc(Vc,Lc,jd,Gd):null}if(wk(jd)||Ma(jd))return null!==Ud?null:Qd(Vc,Lc,jd,Gd,null);Ze(Vc,jd)}return null}function Rf(Vc,Lc,jd,Gd,Ud){if("string"===typeof Gd||"number"===typeof Gd)return Vc=Vc.get(jd)||null,hc(Lc,Vc,""+Gd,Ud);if("object"===typeof Gd&&null!==Gd){switch(Gd.$$typeof){case qj:return Vc=Vc.get(null===Gd.key?jd:Gd.key)||null,Gd.type===ah?Qd(Lc,
Vc,Gd.props.children,Ud,Gd.key):dd(Lc,Vc,Gd,Ud);case fi:return Vc=Vc.get(null===Gd.key?jd:Gd.key)||null,Zc(Lc,Vc,Gd,Ud)}if(wk(Gd)||Ma(Gd))return Vc=Vc.get(jd)||null,Qd(Lc,Vc,Gd,Ud,null);Ze(Lc,Gd)}return null}function fg(Vc,Lc,jd,Gd){for(var Ud=null,qe=null,Ne=Lc,Hf=Lc=0,lg=null;null!==Ne&&Hf<jd.length;Hf++){Ne.index>Hf?(lg=Ne,Ne=null):lg=Ne.sibling;var pf=Df(Vc,Ne,jd[Hf],Gd);if(null===pf){null===Ne&&(Ne=lg);break}e&&Ne&&null===pf.alternate&&h(Vc,Ne);Lc=yb(pf,Lc,Hf);null===qe?Ud=pf:qe.sibling=pf;qe=
pf;Ne=lg}if(Hf===jd.length)return z(Vc,Ne),Ud;if(null===Ne){for(;Hf<jd.length;Hf++)Ne=Zd(Vc,jd[Hf],Gd),null!==Ne&&(Lc=yb(Ne,Lc,Hf),null===qe?Ud=Ne:qe.sibling=Ne,qe=Ne);return Ud}for(Ne=ba(Vc,Ne);Hf<jd.length;Hf++)lg=Rf(Ne,Vc,Hf,jd[Hf],Gd),null!==lg&&(e&&null!==lg.alternate&&Ne.delete(null===lg.key?Hf:lg.key),Lc=yb(lg,Lc,Hf),null===qe?Ud=lg:qe.sibling=lg,qe=lg);e&&Ne.forEach(function(ii){return h(Vc,ii)});return Ud}function Gg(Vc,Lc,jd,Gd){var Ud=Ma(jd);if("function"!==typeof Ud)throw Error(n(150));
jd=Ud.call(jd);if(null==jd)throw Error(n(151));for(var qe=Ud=null,Ne=Lc,Hf=Lc=0,lg=null,pf=jd.next();null!==Ne&&!pf.done;Hf++,pf=jd.next()){Ne.index>Hf?(lg=Ne,Ne=null):lg=Ne.sibling;var ii=Df(Vc,Ne,pf.value,Gd);if(null===ii){null===Ne&&(Ne=lg);break}e&&Ne&&null===ii.alternate&&h(Vc,Ne);Lc=yb(ii,Lc,Hf);null===qe?Ud=ii:qe.sibling=ii;qe=ii;Ne=lg}if(pf.done)return z(Vc,Ne),Ud;if(null===Ne){for(;!pf.done;Hf++,pf=jd.next())pf=Zd(Vc,pf.value,Gd),null!==pf&&(Lc=yb(pf,Lc,Hf),null===qe?Ud=pf:qe.sibling=pf,
qe=pf);return Ud}for(Ne=ba(Vc,Ne);!pf.done;Hf++,pf=jd.next())pf=Rf(Ne,Vc,Hf,pf.value,Gd),null!==pf&&(e&&null!==pf.alternate&&Ne.delete(null===pf.key?Hf:pf.key),Lc=yb(pf,Lc,Hf),null===qe?Ud=pf:qe.sibling=pf,qe=pf);e&&Ne.forEach(function(Ok){return h(Vc,Ok)});return Ud}return function(Vc,Lc,jd,Gd){var Ud="object"===typeof jd&&null!==jd&&jd.type===ah&&null===jd.key;Ud&&(jd=jd.props.children);var qe="object"===typeof jd&&null!==jd;if(qe)switch(jd.$$typeof){case qj:a:{qe=jd.key;for(Ud=Lc;null!==Ud;){if(Ud.key===
qe){switch(Ud.tag){case 7:if(jd.type===ah){z(Vc,Ud.sibling);Lc=Ba(Ud,jd.props.children);Lc.return=Vc;Vc=Lc;break a}break;default:if(Ud.elementType===jd.type){z(Vc,Ud.sibling);Lc=Ba(Ud,jd.props);Lc.ref=Le(Vc,Ud,jd);Lc.return=Vc;Vc=Lc;break a}}z(Vc,Ud);break}else h(Vc,Ud);Ud=Ud.sibling}jd.type===ah?(Lc=eh(jd.props.children,Vc.mode,Gd,jd.key),Lc.return=Vc,Vc=Lc):(Gd=Ei(jd.type,jd.key,jd.props,null,Vc.mode,Gd),Gd.ref=Le(Vc,Lc,jd),Gd.return=Vc,Vc=Gd)}return Jb(Vc);case fi:a:{for(Ud=jd.key;null!==Lc;){if(Lc.key===
Ud)if(4===Lc.tag&&Lc.stateNode.containerInfo===jd.containerInfo&&Lc.stateNode.implementation===jd.implementation){z(Vc,Lc.sibling);Lc=Ba(Lc,jd.children||[]);Lc.return=Vc;Vc=Lc;break a}else{z(Vc,Lc);break}else h(Vc,Lc);Lc=Lc.sibling}Lc=qg(jd,Vc.mode,Gd);Lc.return=Vc;Vc=Lc}return Jb(Vc)}if("string"===typeof jd||"number"===typeof jd)return jd=""+jd,null!==Lc&&6===Lc.tag?(z(Vc,Lc.sibling),Lc=Ba(Lc,jd),Lc.return=Vc,Vc=Lc):(z(Vc,Lc),Lc=Ij(jd,Vc.mode,Gd),Lc.return=Vc,Vc=Lc),Jb(Vc);if(wk(jd))return fg(Vc,
Lc,jd,Gd);if(Ma(jd))return Gg(Vc,Lc,jd,Gd);qe&&Ze(Vc,jd);if("undefined"===typeof jd&&!Ud)switch(Vc.tag){case 1:case 0:throw Vc=Vc.type,Error(n(152,Vc.displayName||Vc.name||"Component"));}return z(Vc,Lc)}}function vf(e){if(e===Zj)throw Error(n(174));return e}function ag(e,h){Ac(ak,h);Ac(bk,e);Ac(ji,Zj);e=h.nodeType;switch(e){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:R(null,"");break;default:e=8===e?h.parentNode:h,h=e.namespaceURI||null,e=e.tagName,h=R(h,e)}Ee(ji);Ac(ji,h)}function df(){Ee(ji);
Ee(bk);Ee(ak)}function J(e){vf(ak.current);var h=vf(ji.current),z=R(h,e.type);h!==z&&(Ac(bk,e),Ac(ji,z))}function da(e){bk.current===e&&(Ee(ji),Ee(bk))}function kb(e){for(var h=e;null!==h;){if(13===h.tag){var z=h.memoizedState;if(null!==z&&(z=z.dehydrated,null===z||z.data===Vj||z.data===Ai))return h}else if(19===h.tag&&void 0!==h.memoizedProps.revealOrder){if(0!==(h.effectTag&64))return h}else if(null!==h.child){h.child.return=h;h=h.child;continue}if(h===e)break;for(;null===h.sibling;){if(null===
h.return||h.return===e)return null;h=h.return}h.sibling.return=h.return;h=h.sibling}return null}function Pb(e,h){return{responder:e,props:h}}function Mb(){throw Error(n(321));}function ac(e,h){if(null===h)return!1;for(var z=0;z<h.length&&z<e.length;z++)if(!ra(e[z],h[z]))return!1;return!0}function ic(e,h,z,ba,Ba,yb){ki=yb;tg=h;h.memoizedState=null;h.updateQueue=null;h.expirationTime=0;xk.current=null===e||null===e.memoizedState?Jj:ck;e=z(ba,Ba);if(h.expirationTime===ki){yb=0;do{h.expirationTime=0;
if(!(25>yb))throw Error(n(301));yb+=1;Rg=Sg=null;h.updateQueue=null;xk.current=Kj;e=z(ba,Ba)}while(h.expirationTime===ki)}xk.current=te;h=null!==Sg&&null!==Sg.next;ki=0;Rg=Sg=tg=null;yk=!1;if(h)throw Error(n(300));return e}function Qc(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===Rg?tg.memoizedState=Rg=e:Rg=Rg.next=e;return Rg}function Kc(){if(null===Sg){var e=tg.alternate;e=null!==e?e.memoizedState:null}else e=Sg.next;var h=null===Rg?tg.memoizedState:Rg.next;
if(null!==h)Rg=h,Sg=e;else{if(null===e)throw Error(n(310));Sg=e;e={memoizedState:Sg.memoizedState,baseState:Sg.baseState,baseQueue:Sg.baseQueue,queue:Sg.queue,next:null};null===Rg?tg.memoizedState=Rg=e:Rg=Rg.next=e}return Rg}function ad(e,h){return"function"===typeof h?h(e):h}function ud(e){var h=Kc(),z=h.queue;if(null===z)throw Error(n(311));z.lastRenderedReducer=e;var ba=Sg,Ba=ba.baseQueue,yb=z.pending;if(null!==yb){if(null!==Ba){var Jb=Ba.next;Ba.next=yb.next;yb.next=Jb}ba.baseQueue=Ba=yb;z.pending=
null}if(null!==Ba){Ba=Ba.next;ba=ba.baseState;var hc=Jb=yb=null,dd=Ba;do{var Zc=dd.expirationTime;if(Zc<ki){var Qd={expirationTime:dd.expirationTime,suspenseConfig:dd.suspenseConfig,action:dd.action,eagerReducer:dd.eagerReducer,eagerState:dd.eagerState,next:null};null===hc?(Jb=hc=Qd,yb=ba):hc=hc.next=Qd;Zc>tg.expirationTime&&(tg.expirationTime=Zc,Yf(Zc))}else null!==hc&&(hc=hc.next={expirationTime:1073741823,suspenseConfig:dd.suspenseConfig,action:dd.action,eagerReducer:dd.eagerReducer,eagerState:dd.eagerState,
next:null}),kg(Zc,dd.suspenseConfig),ba=dd.eagerReducer===e?dd.eagerState:e(ba,dd.action);dd=dd.next}while(null!==dd&&dd!==Ba);null===hc?yb=ba:hc.next=Jb;ra(ba,h.memoizedState)||(dh=!0);h.memoizedState=ba;h.baseState=yb;h.baseQueue=hc;z.lastRenderedState=ba}return[h.memoizedState,z.dispatch]}function Nd(e){var h=Kc(),z=h.queue;if(null===z)throw Error(n(311));z.lastRenderedReducer=e;var ba=z.dispatch,Ba=z.pending,yb=h.memoizedState;if(null!==Ba){z.pending=null;var Jb=Ba=Ba.next;do yb=e(yb,Jb.action),
Jb=Jb.next;while(Jb!==Ba);ra(yb,h.memoizedState)||(dh=!0);h.memoizedState=yb;null===h.baseQueue&&(h.baseState=yb);z.lastRenderedState=yb}return[yb,ba]}function Td(e){var h=Qc();"function"===typeof e&&(e=e());h.memoizedState=h.baseState=e;e=h.queue={pending:null,dispatch:null,lastRenderedReducer:ad,lastRenderedState:e};e=e.dispatch=N.bind(null,tg,e);return[h.memoizedState,e]}function Bd(e,h,z,ba){e={tag:e,create:h,destroy:z,deps:ba,next:null};h=tg.updateQueue;null===h?(h={lastEffect:null},tg.updateQueue=
h,h.lastEffect=e.next=e):(z=h.lastEffect,null===z?h.lastEffect=e.next=e:(ba=z.next,z.next=e,e.next=ba,h.lastEffect=e));return e}function af(){return Kc().memoizedState}function Pd(e,h,z,ba){var Ba=Qc();tg.effectTag|=e;Ba.memoizedState=Bd(1|h,z,void 0,void 0===ba?null:ba)}function Fe(e,h,z,ba){var Ba=Kc();ba=void 0===ba?null:ba;var yb=void 0;if(null!==Sg){var Jb=Sg.memoizedState;yb=Jb.destroy;if(null!==ba&&ac(ba,Jb.deps)){Bd(h,z,yb,ba);return}}tg.effectTag|=e;Ba.memoizedState=Bd(1|h,z,yb,ba)}function he(e,
h){return Pd(516,4,e,h)}function ze(e,h){return Fe(516,4,e,h)}function Sf(e,h){return Fe(4,2,e,h)}function be(e,h){if("function"===typeof h)return e=e(),h(e),function(){h(null)};if(null!==h&&void 0!==h)return e=e(),h.current=e,function(){h.current=null}}function wf(e,h,z){z=null!==z&&void 0!==z?z.concat([e]):null;return Fe(4,2,be.bind(null,h,e),z)}function Ce(){}function Kf(e,h){Qc().memoizedState=[e,void 0===h?null:h];return e}function ef(e,h){var z=Kc();h=void 0===h?null:h;var ba=z.memoizedState;
if(null!==ba&&null!==h&&ac(h,ba[1]))return ba[0];z.memoizedState=[e,h];return e}function gg(e,h){var z=Kc();h=void 0===h?null:h;var ba=z.memoizedState;if(null!==ba&&null!==h&&ac(h,ba[1]))return ba[0];e=e();z.memoizedState=[e,h];return e}function M(e,h,z){var ba=kf();Pe(98>ba?98:ba,function(){e(!0)});Pe(97<ba?97:ba,function(){var Ba=fh.suspense;fh.suspense=void 0===h?null:h;try{e(!1),z()}finally{fh.suspense=Ba}})}function N(e,h,z){var ba=vc(),Ba=dk.suspense;ba=hd(ba,e,Ba);Ba={expirationTime:ba,suspenseConfig:Ba,
action:z,eagerReducer:null,eagerState:null,next:null};var yb=h.pending;null===yb?Ba.next=Ba:(Ba.next=yb.next,yb.next=Ba);h.pending=Ba;yb=e.alternate;if(e===tg||null!==yb&&yb===tg)yk=!0,Ba.expirationTime=ki,tg.expirationTime=ki;else{if(0===e.expirationTime&&(null===yb||0===yb.expirationTime)&&(yb=h.lastRenderedReducer,null!==yb))try{var Jb=h.lastRenderedState,hc=yb(Jb,z);Ba.eagerReducer=yb;Ba.eagerState=hc;if(ra(hc,Jb))return}catch(dd){}finally{}nd(e,ba)}}function Y(e,h){var z=Mg(5,null,null,0);z.elementType=
"DELETED";z.type="DELETED";z.stateNode=h;z.return=e;z.effectTag=8;null!==e.lastEffect?(e.lastEffect.nextEffect=z,e.lastEffect=z):e.firstEffect=e.lastEffect=z}function ia(e,h){switch(e.tag){case 5:var z=e.type;h=1!==h.nodeType||z.toLowerCase()!==h.nodeName.toLowerCase()?null:h;return null!==h?(e.stateNode=h,!0):!1;case 6:return h=""===e.pendingProps||3!==h.nodeType?null:h,null!==h?(e.stateNode=h,!0):!1;case 13:return!1;default:return!1}}function ya(e){if(td){var h=If;if(h){var z=h;if(!ia(e,h)){h=jc(z.nextSibling);
if(!h||!ia(e,h)){e.effectTag=e.effectTag&-1025|2;td=!1;Ve=e;return}Y(Ve,z)}Ve=e;If=jc(h.firstChild)}else e.effectTag=e.effectTag&-1025|2,td=!1,Ve=e}}function Da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ve=e}function Za(e){if(e!==Ve)return!1;if(!td)return Da(e),td=!0,!1;var h=e.type;if(5!==e.tag||"head"!==h&&"body"!==h&&!sc(h,e.memoizedProps))for(h=If;h;)Y(e,h),h=jc(h.nextSibling);Da(e);if(13===e.tag){e=e.memoizedState;e=null!==e?e.dehydrated:null;if(!e)throw Error(n(317));
a:{e=e.nextSibling;for(h=0;e;){if(8===e.nodeType){var z=e.data;if(z===Si){if(0===h){If=jc(e.nextSibling);break a}h--}else z!==lh&&z!==Ai&&z!==Vj||h++}e=e.nextSibling}If=null}}else If=Ve?jc(e.stateNode.nextSibling):null;return!0}function tb(e,h,z,ba){h.child=null===e?Pk(h,null,z,ba):Xi(h,e.child,z,ba)}function nb(e,h,z,ba,Ba){z=z.render;var yb=h.ref;uc(h,Ba);ba=ic(e,h,z,ba,yb,Ba);if(null!==e&&!dh)return h.updateQueue=e.updateQueue,h.effectTag&=-517,e.expirationTime<=Ba&&(e.expirationTime=0),fc(e,h,
Ba);h.effectTag|=1;tb(e,h,ba,Ba);return h.child}function zb(e,h,z,ba,Ba,yb){if(null===e){var Jb=z.type;if("function"===typeof Jb&&!Lj(Jb)&&void 0===Jb.defaultProps&&null===z.compare&&void 0===z.defaultProps)return h.tag=15,h.type=Jb,Eb(e,h,Jb,ba,Ba,yb);e=Ei(z.type,null,ba,null,h.mode,yb);e.ref=h.ref;e.return=h;return h.child=e}Jb=e.child;if(Ba<yb&&(Ba=Jb.memoizedProps,z=z.compare,z=null!==z?z:De,z(Ba,ba)&&e.ref===h.ref))return fc(e,h,yb);h.effectTag|=1;e=Wh(Jb,ba);e.ref=h.ref;e.return=h;return h.child=
e}function Eb(e,h,z,ba,Ba,yb){return null!==e&&De(e.memoizedProps,ba)&&e.ref===h.ref&&(dh=!1,Ba<yb)?(h.expirationTime=e.expirationTime,fc(e,h,yb)):pc(e,h,z,ba,yb)}function Yb(e,h){var z=h.ref;if(null===e&&null!==z||null!==e&&e.ref!==z)h.effectTag|=128}function pc(e,h,z,ba,Ba){var yb=Xd(z)?Vi:mg.current;yb=Be(h,yb);uc(h,Ba);z=ic(e,h,z,ba,yb,Ba);if(null!==e&&!dh)return h.updateQueue=e.updateQueue,h.effectTag&=-517,e.expirationTime<=Ba&&(e.expirationTime=0),fc(e,h,Ba);h.effectTag|=1;tb(e,h,z,Ba);return h.child}
function u(e,h,z,ba,Ba){if(Xd(z)){var yb=!0;Ke(h)}else yb=!1;uc(h,Ba);if(null===h.stateNode)null!==e&&(e.alternate=null,h.alternate=null,h.effectTag|=2),Zf(h,z,ba),Ue(h,z,ba,Ba),ba=!0;else if(null===e){var Jb=h.stateNode,hc=h.memoizedProps;Jb.props=hc;var dd=Jb.context,Zc=z.contextType;"object"===typeof Zc&&null!==Zc?Zc=Fc(Zc):(Zc=Xd(z)?Vi:mg.current,Zc=Be(h,Zc));var Qd=z.getDerivedStateFromProps,Zd="function"===typeof Qd||"function"===typeof Jb.getSnapshotBeforeUpdate;Zd||"function"!==typeof Jb.UNSAFE_componentWillReceiveProps&&
"function"!==typeof Jb.componentWillReceiveProps||(hc!==ba||dd!==Zc)&&pd(h,Jb,ba,Zc);Wi=!1;var Df=h.memoizedState;Jb.state=Df;le(h,ba,Jb,Ba);dd=h.memoizedState;hc!==ba||Df!==dd||Dg.current||Wi?("function"===typeof Qd&&(Me(h,z,Qd,ba),dd=h.memoizedState),(hc=Wi||uf(h,z,hc,ba,Df,dd,Zc))?(Zd||"function"!==typeof Jb.UNSAFE_componentWillMount&&"function"!==typeof Jb.componentWillMount||("function"===typeof Jb.componentWillMount&&Jb.componentWillMount(),"function"===typeof Jb.UNSAFE_componentWillMount&&
Jb.UNSAFE_componentWillMount()),"function"===typeof Jb.componentDidMount&&(h.effectTag|=4)):("function"===typeof Jb.componentDidMount&&(h.effectTag|=4),h.memoizedProps=ba,h.memoizedState=dd),Jb.props=ba,Jb.state=dd,Jb.context=Zc,ba=hc):("function"===typeof Jb.componentDidMount&&(h.effectTag|=4),ba=!1)}else Jb=h.stateNode,fd(e,h),hc=h.memoizedProps,Jb.props=h.type===h.elementType?hc:Vb(h.type,hc),dd=Jb.context,Zc=z.contextType,"object"===typeof Zc&&null!==Zc?Zc=Fc(Zc):(Zc=Xd(z)?Vi:mg.current,Zc=Be(h,
Zc)),Qd=z.getDerivedStateFromProps,(Zd="function"===typeof Qd||"function"===typeof Jb.getSnapshotBeforeUpdate)||"function"!==typeof Jb.UNSAFE_componentWillReceiveProps&&"function"!==typeof Jb.componentWillReceiveProps||(hc!==ba||dd!==Zc)&&pd(h,Jb,ba,Zc),Wi=!1,dd=h.memoizedState,Jb.state=dd,le(h,ba,Jb,Ba),Df=h.memoizedState,hc!==ba||dd!==Df||Dg.current||Wi?("function"===typeof Qd&&(Me(h,z,Qd,ba),Df=h.memoizedState),(Qd=Wi||uf(h,z,hc,ba,dd,Df,Zc))?(Zd||"function"!==typeof Jb.UNSAFE_componentWillUpdate&&
"function"!==typeof Jb.componentWillUpdate||("function"===typeof Jb.componentWillUpdate&&Jb.componentWillUpdate(ba,Df,Zc),"function"===typeof Jb.UNSAFE_componentWillUpdate&&Jb.UNSAFE_componentWillUpdate(ba,Df,Zc)),"function"===typeof Jb.componentDidUpdate&&(h.effectTag|=4),"function"===typeof Jb.getSnapshotBeforeUpdate&&(h.effectTag|=256)):("function"!==typeof Jb.componentDidUpdate||hc===e.memoizedProps&&dd===e.memoizedState||(h.effectTag|=4),"function"!==typeof Jb.getSnapshotBeforeUpdate||hc===e.memoizedProps&&
dd===e.memoizedState||(h.effectTag|=256),h.memoizedProps=ba,h.memoizedState=Df),Jb.props=ba,Jb.state=Df,Jb.context=Zc,ba=Qd):("function"!==typeof Jb.componentDidUpdate||hc===e.memoizedProps&&dd===e.memoizedState||(h.effectTag|=4),"function"!==typeof Jb.getSnapshotBeforeUpdate||hc===e.memoizedProps&&dd===e.memoizedState||(h.effectTag|=256),ba=!1);return E(e,h,z,ba,yb,Ba)}function E(e,h,z,ba,Ba,yb){Yb(e,h);var Jb=0!==(h.effectTag&64);if(!ba&&!Jb)return Ba&&Cf(h,z,!1),fc(e,h,yb);ba=h.stateNode;Fi.current=
h;var hc=Jb&&"function"!==typeof z.getDerivedStateFromError?null:ba.render();h.effectTag|=1;null!==e&&Jb?(h.child=Xi(h,e.child,null,yb),h.child=Xi(h,null,hc,yb)):tb(e,h,hc,yb);h.memoizedState=ba.state;Ba&&Cf(h,z,!0);return h.child}function aa(e){var h=e.stateNode;h.pendingContext?Je(e,h.pendingContext,h.pendingContext!==h.context):h.context&&Je(e,h.context,!1);ag(e,h.containerInfo)}function ka(e,h,z){var ba=h.mode,Ba=h.pendingProps,yb=rg.current,Jb=!1,hc;(hc=0!==(h.effectTag&64))||(hc=0!==(yb&2)&&
(null===e||null!==e.memoizedState));hc?(Jb=!0,h.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===Ba.fallback||!0===Ba.unstable_avoidThisFallback||(yb|=1);Ac(rg,yb&1);if(null===e){void 0!==Ba.fallback&&ya(h);if(Jb){Jb=Ba.fallback;Ba=eh(null,ba,0,null);Ba.return=h;if(0===(h.mode&2))for(e=null!==h.memoizedState?h.child.child:h.child,Ba.child=e;null!==e;)e.return=Ba,e=e.sibling;z=eh(Jb,ba,z,null);z.return=h;Ba.sibling=z;h.memoizedState=zk;h.child=Ba;return z}ba=Ba.children;h.memoizedState=null;
return h.child=Pk(h,null,ba,z)}if(null!==e.memoizedState){e=e.child;ba=e.sibling;if(Jb){Ba=Ba.fallback;z=Wh(e,e.pendingProps);z.return=h;if(0===(h.mode&2)&&(Jb=null!==h.memoizedState?h.child.child:h.child,Jb!==e.child))for(z.child=Jb;null!==Jb;)Jb.return=z,Jb=Jb.sibling;ba=Wh(ba,Ba);ba.return=h;z.sibling=ba;z.childExpirationTime=0;h.memoizedState=zk;h.child=z;return ba}z=Xi(h,e.child,Ba.children,z);h.memoizedState=null;return h.child=z}e=e.child;if(Jb){Jb=Ba.fallback;Ba=eh(null,ba,0,null);Ba.return=
h;Ba.child=e;null!==e&&(e.return=Ba);if(0===(h.mode&2))for(e=null!==h.memoizedState?h.child.child:h.child,Ba.child=e;null!==e;)e.return=Ba,e=e.sibling;z=eh(Jb,ba,z,null);z.return=h;Ba.sibling=z;z.effectTag|=2;Ba.childExpirationTime=0;h.memoizedState=zk;h.child=Ba;return z}h.memoizedState=null;return h.child=Xi(h,e,Ba.children,z)}function lb(e,h){e.expirationTime<h&&(e.expirationTime=h);var z=e.alternate;null!==z&&z.expirationTime<h&&(z.expirationTime=h);Gc(e.return,h)}function Ib(e,h,z,ba,Ba,yb){var Jb=
e.memoizedState;null===Jb?e.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:ba,tail:z,tailExpiration:0,tailMode:Ba,lastEffect:yb}:(Jb.isBackwards=h,Jb.rendering=null,Jb.renderingStartTime=0,Jb.last=ba,Jb.tail=z,Jb.tailExpiration=0,Jb.tailMode=Ba,Jb.lastEffect=yb)}function Sb(e,h,z){var ba=h.pendingProps,Ba=ba.revealOrder,yb=ba.tail;tb(e,h,ba.children,z);ba=rg.current;if(0!==(ba&2))ba=ba&1|2,h.effectTag|=64;else{if(null!==e&&0!==(e.effectTag&64))a:for(e=h.child;null!==e;){if(13===
e.tag)null!==e.memoizedState&&lb(e,z);else if(19===e.tag)lb(e,z);else if(null!==e.child){e.child.return=e;e=e.child;continue}if(e===h)break a;for(;null===e.sibling;){if(null===e.return||e.return===h)break a;e=e.return}e.sibling.return=e.return;e=e.sibling}ba&=1}Ac(rg,ba);if(0===(h.mode&2))h.memoizedState=null;else switch(Ba){case "forwards":z=h.child;for(Ba=null;null!==z;)e=z.alternate,null!==e&&null===kb(e)&&(Ba=z),z=z.sibling;z=Ba;null===z?(Ba=h.child,h.child=null):(Ba=z.sibling,z.sibling=null);
Ib(h,!1,Ba,z,yb,h.lastEffect);break;case "backwards":z=null;Ba=h.child;for(h.child=null;null!==Ba;){e=Ba.alternate;if(null!==e&&null===kb(e)){h.child=Ba;break}e=Ba.sibling;Ba.sibling=z;z=Ba;Ba=e}Ib(h,!0,z,null,yb,h.lastEffect);break;case "together":Ib(h,!1,null,null,void 0,h.lastEffect);break;default:h.memoizedState=null}return h.child}function fc(e,h,z){null!==e&&(h.dependencies=e.dependencies);var ba=h.expirationTime;0!==ba&&Yf(ba);if(h.childExpirationTime<z)return null;if(null!==e&&h.child!==e.child)throw Error(n(153));
if(null!==h.child){e=h.child;z=Wh(e,e.pendingProps);h.child=z;for(z.return=h;null!==e.sibling;)e=e.sibling,z=z.sibling=Wh(e,e.pendingProps),z.return=h;z.sibling=null}return h.child}function zc(e,h){switch(e.tailMode){case "hidden":h=e.tail;for(var z=null;null!==h;)null!==h.alternate&&(z=h),h=h.sibling;null===z?e.tail=null:z.sibling=null;break;case "collapsed":z=e.tail;for(var ba=null;null!==z;)null!==z.alternate&&(ba=z),z=z.sibling;null===ba?h||null===e.tail?e.tail=null:e.tail.sibling=null:ba.sibling=
null}}function Tc(e,h,z){var ba=h.pendingProps;switch(h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Xd(h.type)&&bc(),null;case 3:return df(),Ee(Dg),Ee(mg),z=h.stateNode,z.pendingContext&&(z.context=z.pendingContext,z.pendingContext=null),null!==e&&null!==e.child||!Za(h)||(h.effectTag|=4),Qk(h),null;case 5:da(h);z=vf(ak.current);var Ba=h.type;if(null!==e&&null!=h.stateNode)Al(e,h,Ba,ba,z),e.ref!==h.ref&&(h.effectTag|=128);else{if(!ba){if(null===
h.stateNode)throw Error(n(166));return null}e=vf(ji.current);if(Za(h)){ba=h.stateNode;Ba=h.type;var yb=h.memoizedProps;ba[mh]=h;ba[Qg]=yb;switch(Ba){case "iframe":case "object":case "embed":Nc("load",ba);break;case "video":case "audio":for(e=0;e<yh.length;e++)Nc(yh[e],ba);break;case "source":Nc("error",ba);break;case "img":case "image":case "link":Nc("error",ba);Nc("load",ba);break;case "form":Nc("reset",ba);Nc("submit",ba);break;case "details":Nc("toggle",ba);break;case "input":H(ba,yb);Nc("invalid",
ba);vd(z,"onChange");break;case "select":ba._wrapperState={wasMultiple:!!yb.multiple};Nc("invalid",ba);vd(z,"onChange");break;case "textarea":U(ba,yb),Nc("invalid",ba),vd(z,"onChange")}$b(Ba,yb);e=null;for(var Jb in yb)if(yb.hasOwnProperty(Jb)){var hc=yb[Jb];"children"===Jb?"string"===typeof hc?ba.textContent!==hc&&(e=["children",hc]):"number"===typeof hc&&ba.textContent!==""+hc&&(e=["children",""+hc]):qi.hasOwnProperty(Jb)&&null!=hc&&vd(z,Jb)}switch(Ba){case "input":ob(ba);O(ba,yb,!0);break;case "textarea":ob(ba);
xa(ba);break;case "select":case "option":break;default:"function"===typeof yb.onClick&&(ba.onclick=de)}z=e;h.updateQueue=z;null!==z&&(h.effectTag|=4)}else{Jb=9===z.nodeType?z:z.ownerDocument;"http://www.w3.org/1999/xhtml"===e&&(e=ma(Ba));"http://www.w3.org/1999/xhtml"===e?"script"===Ba?(e=Jb.createElement("div"),e.innerHTML="\x3cscript\x3e\x3c/script\x3e",e=e.removeChild(e.firstChild)):"string"===typeof ba.is?e=Jb.createElement(Ba,{is:ba.is}):(e=Jb.createElement(Ba),"select"===Ba&&(Jb=e,ba.multiple?
Jb.multiple=!0:ba.size&&(Jb.size=ba.size))):e=Jb.createElementNS(e,Ba);e[mh]=h;e[Qg]=ba;gl(e,h,!1,!1);h.stateNode=e;Jb=rd(Ba,ba);switch(Ba){case "iframe":case "object":case "embed":Nc("load",e);hc=ba;break;case "video":case "audio":for(hc=0;hc<yh.length;hc++)Nc(yh[hc],e);hc=ba;break;case "source":Nc("error",e);hc=ba;break;case "img":case "image":case "link":Nc("error",e);Nc("load",e);hc=ba;break;case "form":Nc("reset",e);Nc("submit",e);hc=ba;break;case "details":Nc("toggle",e);hc=ba;break;case "input":H(e,
ba);hc=Q(e,ba);Nc("invalid",e);vd(z,"onChange");break;case "option":hc=pa(e,ba);break;case "select":e._wrapperState={wasMultiple:!!ba.multiple};hc=Ag({},ba,{value:void 0});Nc("invalid",e);vd(z,"onChange");break;case "textarea":U(e,ba);hc=db(e,ba);Nc("invalid",e);vd(z,"onChange");break;default:hc=ba}$b(Ba,hc);var dd=hc;for(yb in dd)if(dd.hasOwnProperty(yb)){var Zc=dd[yb];"style"===yb?vb(e,Zc):"dangerouslySetInnerHTML"===yb?(Zc=Zc?Zc.__html:void 0,null!=Zc&&bg(e,Zc)):"children"===yb?"string"===typeof Zc?
("textarea"!==Ba||""!==Zc)&&v(e,Zc):"number"===typeof Zc&&v(e,""+Zc):"suppressContentEditableWarning"!==yb&&"suppressHydrationWarning"!==yb&&"autoFocus"!==yb&&(qi.hasOwnProperty(yb)?null!=Zc&&vd(z,yb):null!=Zc&&ab(e,yb,Zc,Jb))}switch(Ba){case "input":ob(e);O(e,ba,!1);break;case "textarea":ob(e);xa(e);break;case "option":null!=ba.value&&e.setAttribute("value",""+Xa(ba.value));break;case "select":e.multiple=!!ba.multiple;z=ba.value;null!=z?Ua(e,!!ba.multiple,z,!1):null!=ba.defaultValue&&Ua(e,!!ba.multiple,
ba.defaultValue,!0);break;default:"function"===typeof hc.onClick&&(e.onclick=de)}Gb(Ba,ba)&&(h.effectTag|=4)}null!==h.ref&&(h.effectTag|=128)}return null;case 6:if(e&&null!=h.stateNode)hl(e,h,e.memoizedProps,ba);else{if("string"!==typeof ba&&null===h.stateNode)throw Error(n(166));z=vf(ak.current);vf(ji.current);Za(h)?(z=h.stateNode,ba=h.memoizedProps,z[mh]=h,z.nodeValue!==ba&&(h.effectTag|=4)):(z=(9===z.nodeType?z:z.ownerDocument).createTextNode(ba),z[mh]=h,h.stateNode=z)}return null;case 13:Ee(rg);
ba=h.memoizedState;if(0!==(h.effectTag&64))return h.expirationTime=z,h;z=null!==ba;ba=!1;null===e?void 0!==h.memoizedProps.fallback&&Za(h):(Ba=e.memoizedState,ba=null!==Ba,z||null===Ba||(Ba=e.child.sibling,null!==Ba&&(yb=h.firstEffect,null!==yb?(h.firstEffect=Ba,Ba.nextEffect=yb):(h.firstEffect=h.lastEffect=Ba,Ba.nextEffect=null),Ba.effectTag=8)));if(z&&!ba&&0!==(h.mode&2))if(null===e&&!0!==h.memoizedProps.unstable_avoidThisFallback||0!==(rg.current&1))Hg===rj&&(Hg=Yg);else{if(Hg===rj||Hg===Yg)Hg=
sj;0!==Tg&&null!==oh&&(ph(oh,gh),wg(oh,Tg))}if(z||ba)h.effectTag|=4;return null;case 4:return df(),Qk(h),null;case 10:return lc(h),null;case 17:return Xd(h.type)&&bc(),null;case 19:Ee(rg);ba=h.memoizedState;if(null===ba)return null;Ba=0!==(h.effectTag&64);yb=ba.rendering;if(null===yb)if(Ba)zc(ba,!1);else{if(Hg!==rj||null!==e&&0!==(e.effectTag&64))for(yb=h.child;null!==yb;){e=kb(yb);if(null!==e){h.effectTag|=64;zc(ba,!1);Ba=e.updateQueue;null!==Ba&&(h.updateQueue=Ba,h.effectTag|=4);null===ba.lastEffect&&
(h.firstEffect=null);h.lastEffect=ba.lastEffect;for(ba=h.child;null!==ba;)Ba=ba,yb=z,Ba.effectTag&=2,Ba.nextEffect=null,Ba.firstEffect=null,Ba.lastEffect=null,e=Ba.alternate,null===e?(Ba.childExpirationTime=0,Ba.expirationTime=yb,Ba.child=null,Ba.memoizedProps=null,Ba.memoizedState=null,Ba.updateQueue=null,Ba.dependencies=null):(Ba.childExpirationTime=e.childExpirationTime,Ba.expirationTime=e.expirationTime,Ba.child=e.child,Ba.memoizedProps=e.memoizedProps,Ba.memoizedState=e.memoizedState,Ba.updateQueue=
e.updateQueue,yb=e.dependencies,Ba.dependencies=null===yb?null:{expirationTime:yb.expirationTime,firstContext:yb.firstContext,responders:yb.responders}),ba=ba.sibling;Ac(rg,rg.current&1|2);return h.child}yb=yb.sibling}}else{if(!Ba)if(e=kb(yb),null!==e){if(h.effectTag|=64,Ba=!0,z=e.updateQueue,null!==z&&(h.updateQueue=z,h.effectTag|=4),zc(ba,!0),null===ba.tail&&"hidden"===ba.tailMode&&!yb.alternate)return h=h.lastEffect=ba.lastEffect,null!==h&&(h.nextEffect=null),null}else 2*hh()-ba.renderingStartTime>
ba.tailExpiration&&1<z&&(h.effectTag|=64,Ba=!0,zc(ba,!1),h.expirationTime=h.childExpirationTime=z-1);ba.isBackwards?(yb.sibling=h.child,h.child=yb):(z=ba.last,null!==z?z.sibling=yb:h.child=yb,ba.last=yb)}return null!==ba.tail?(0===ba.tailExpiration&&(ba.tailExpiration=hh()+500),z=ba.tail,ba.rendering=z,ba.tail=z.sibling,ba.lastEffect=h.lastEffect,ba.renderingStartTime=hh(),z.sibling=null,h=rg.current,Ac(rg,Ba?h&1|2:h&1),z):null}throw Error(n(156,h.tag));}function Rc(e){switch(e.tag){case 1:Xd(e.type)&&
bc();var h=e.effectTag;return h&4096?(e.effectTag=h&-4097|64,e):null;case 3:df();Ee(Dg);Ee(mg);h=e.effectTag;if(0!==(h&64))throw Error(n(285));e.effectTag=h&-4097|64;return e;case 5:return da(e),null;case 13:return Ee(rg),h=e.effectTag,h&4096?(e.effectTag=h&-4097|64,e):null;case 19:return Ee(rg),null;case 4:return df(),null;case 10:return lc(e),null;default:return null}}function yd(e,h){return{value:e,source:h,stack:Qa(h)}}function Md(e,h){var z=h.source,ba=h.stack;null===ba&&null!==z&&(ba=Qa(z));
null!==z&&Aa(z.type);h=h.value;null!==e&&1===e.tag&&Aa(e.type);try{console.error(h)}catch(Ba){setTimeout(function(){throw Ba;})}}function bd(e,h){try{h.props=e.memoizedProps,h.state=e.memoizedState,h.componentWillUnmount()}catch(z){Xh(e,z)}}function Sd(e){var h=e.ref;if(null!==h)if("function"===typeof h)try{h(null)}catch(z){Xh(e,z)}else h.current=null}function je(e,h){switch(h.tag){case 0:case 11:case 15:case 22:return;case 1:if(h.effectTag&256&&null!==e){var z=e.memoizedProps,ba=e.memoizedState;
e=h.stateNode;h=e.getSnapshotBeforeUpdate(h.elementType===h.type?z:Vb(h.type,z),ba);e.__reactInternalSnapshotBeforeUpdate=h}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(n(163));}function We(e,h){h=h.updateQueue;h=null!==h?h.lastEffect:null;if(null!==h){var z=h=h.next;do{if((z.tag&e)===e){var ba=z.destroy;z.destroy=void 0;void 0!==ba&&ba()}z=z.next}while(z!==h)}}function oa(e,h){h=h.updateQueue;h=null!==h?h.lastEffect:null;if(null!==h){var z=h=h.next;do{if((z.tag&e)===e){var ba=z.create;
z.destroy=ba()}z=z.next}while(z!==h)}}function Pa(e,h,z){switch(z.tag){case 0:case 11:case 15:case 22:oa(3,z);return;case 1:e=z.stateNode;if(z.effectTag&4)if(null===h)e.componentDidMount();else{var ba=z.elementType===z.type?h.memoizedProps:Vb(z.type,h.memoizedProps);e.componentDidUpdate(ba,h.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}h=z.updateQueue;null!==h&&Te(z,h,e);return;case 3:h=z.updateQueue;if(null!==h){e=null;if(null!==z.child)switch(z.child.tag){case 5:e=z.child.stateNode;break;
case 1:e=z.child.stateNode}Te(z,h,e)}return;case 5:e=z.stateNode;null===h&&z.effectTag&4&&Gb(z.type,z.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:null===z.memoizedState&&(z=z.alternate,null!==z&&(z=z.memoizedState,null!==z&&(z=z.dehydrated,null!==z&&Xc(z))));return;case 19:case 17:case 20:case 21:return}throw Error(n(163));}function pb(e,h,z){"function"===typeof Ak&&Ak(h);switch(h.tag){case 0:case 11:case 14:case 15:case 22:e=h.updateQueue;if(null!==e&&(e=e.lastEffect,
null!==e)){var ba=e.next;Pe(97<z?97:z,function(){var Ba=ba;do{var yb=Ba.destroy;if(void 0!==yb){var Jb=h;try{yb()}catch(hc){Xh(Jb,hc)}}Ba=Ba.next}while(Ba!==ba)})}break;case 1:Sd(h);z=h.stateNode;"function"===typeof z.componentWillUnmount&&bd(h,z);break;case 5:Sd(h);break;case 4:ha(e,h,z)}}function Cb(e){var h=e.alternate;e.return=null;e.child=null;e.memoizedState=null;e.updateQueue=null;e.dependencies=null;e.alternate=null;e.firstEffect=null;e.lastEffect=null;e.pendingProps=null;e.memoizedProps=
null;e.stateNode=null;null!==h&&Cb(h)}function Ub(e){return 5===e.tag||3===e.tag||4===e.tag}function c(e){a:{for(var h=e.return;null!==h;){if(Ub(h)){var z=h;break a}h=h.return}throw Error(n(160));}h=z.stateNode;switch(z.tag){case 5:var ba=!1;break;case 3:h=h.containerInfo;ba=!0;break;case 4:h=h.containerInfo;ba=!0;break;default:throw Error(n(161));}z.effectTag&16&&(v(h,""),z.effectTag&=-17);z=e;a:b:for(;;){for(;null===z.sibling;){if(null===z.return||Ub(z.return)){z=null;break a}z=z.return}z.sibling.return=
z.return;for(z=z.sibling;5!==z.tag&&6!==z.tag&&18!==z.tag;){if(z.effectTag&2)continue b;if(null===z.child||4===z.tag)continue b;else z.child.return=z,z=z.child}if(!(z.effectTag&2)){z=z.stateNode;break a}}ba?m(e,z,h):F(e,z,h)}function m(e,h,z){var ba=e.tag,Ba=5===ba||6===ba;if(Ba)e=Ba?e.stateNode:e.stateNode.instance,h?8===z.nodeType?z.parentNode.insertBefore(e,h):z.insertBefore(e,h):(8===z.nodeType?(h=z.parentNode,h.insertBefore(e,z)):(h=z,h.appendChild(e)),z=z._reactRootContainer,null!==z&&void 0!==
z||null!==h.onclick||(h.onclick=de));else if(4!==ba&&(e=e.child,null!==e))for(m(e,h,z),e=e.sibling;null!==e;)m(e,h,z),e=e.sibling}function F(e,h,z){var ba=e.tag,Ba=5===ba||6===ba;if(Ba)e=Ba?e.stateNode:e.stateNode.instance,h?z.insertBefore(e,h):z.appendChild(e);else if(4!==ba&&(e=e.child,null!==e))for(F(e,h,z),e=e.sibling;null!==e;)F(e,h,z),e=e.sibling}function ha(e,h,z){for(var ba=h,Ba=!1,yb,Jb;;){if(!Ba){Ba=ba.return;a:for(;;){if(null===Ba)throw Error(n(160));yb=Ba.stateNode;switch(Ba.tag){case 5:Jb=
!1;break a;case 3:yb=yb.containerInfo;Jb=!0;break a;case 4:yb=yb.containerInfo;Jb=!0;break a}Ba=Ba.return}Ba=!0}if(5===ba.tag||6===ba.tag){var hc=e,dd=ba,Zc=z,Qd=dd;a:for(;;)if(pb(hc,Qd,Zc),null!==Qd.child&&4!==Qd.tag)Qd.child.return=Qd,Qd=Qd.child;else{if(Qd===dd)break a;for(;null===Qd.sibling;){if(null===Qd.return||Qd.return===dd)break a;Qd=Qd.return}Qd.sibling.return=Qd.return;Qd=Qd.sibling}Jb?(hc=yb,dd=ba.stateNode,8===hc.nodeType?hc.parentNode.removeChild(dd):hc.removeChild(dd)):yb.removeChild(ba.stateNode)}else if(4===
ba.tag){if(null!==ba.child){yb=ba.stateNode.containerInfo;Jb=!0;ba.child.return=ba;ba=ba.child;continue}}else if(pb(e,ba,z),null!==ba.child){ba.child.return=ba;ba=ba.child;continue}if(ba===h)break;for(;null===ba.sibling;){if(null===ba.return||ba.return===h)return;ba=ba.return;4===ba.tag&&(Ba=!1)}ba.sibling.return=ba.return;ba=ba.sibling}}function Fa(e,h){switch(h.tag){case 0:case 11:case 14:case 15:case 22:We(3,h);return;case 1:return;case 5:var z=h.stateNode;if(null!=z){var ba=h.memoizedProps,Ba=
null!==e?e.memoizedProps:ba;e=h.type;var yb=h.updateQueue;h.updateQueue=null;if(null!==yb){z[Qg]=ba;"input"===e&&"radio"===ba.type&&null!=ba.name&&T(z,ba);rd(e,Ba);h=rd(e,ba);for(Ba=0;Ba<yb.length;Ba+=2){var Jb=yb[Ba],hc=yb[Ba+1];"style"===Jb?vb(z,hc):"dangerouslySetInnerHTML"===Jb?bg(z,hc):"children"===Jb?v(z,hc):ab(z,Jb,hc,h)}switch(e){case "input":na(z,ba);break;case "textarea":va(z,ba);break;case "select":h=z._wrapperState.wasMultiple,z._wrapperState.wasMultiple=!!ba.multiple,e=ba.value,null!=
e?Ua(z,!!ba.multiple,e,!1):h!==!!ba.multiple&&(null!=ba.defaultValue?Ua(z,!!ba.multiple,ba.defaultValue,!0):Ua(z,!!ba.multiple,ba.multiple?[]:"",!1))}}}return;case 6:if(null===h.stateNode)throw Error(n(162));h.stateNode.nodeValue=h.memoizedProps;return;case 3:h=h.stateNode;h.hydrate&&(h.hydrate=!1,Xc(h.containerInfo));return;case 12:return;case 13:z=h;null===h.memoizedState?ba=!1:(ba=!0,z=h.child,Rk=hh());if(null!==z)a:for(e=z;;){if(5===e.tag)yb=e.stateNode,ba?(yb=yb.style,"function"===typeof yb.setProperty?
yb.setProperty("display","none","important"):yb.display="none"):(yb=e.stateNode,Ba=e.memoizedProps.style,Ba=void 0!==Ba&&null!==Ba&&Ba.hasOwnProperty("display")?Ba.display:null,yb.style.display=La("display",Ba));else if(6===e.tag)e.stateNode.nodeValue=ba?"":e.memoizedProps;else if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){yb=e.child.sibling;yb.return=e;e=yb;continue}else if(null!==e.child){e.child.return=e;e=e.child;continue}if(e===z)break;for(;null===e.sibling;){if(null===
e.return||e.return===z)break a;e=e.return}e.sibling.return=e.return;e=e.sibling}Ob(h);return;case 19:Ob(h);return;case 17:return}throw Error(n(163));}function Ob(e){var h=e.updateQueue;if(null!==h){e.updateQueue=null;var z=e.stateNode;null===z&&(z=e.stateNode=new il);h.forEach(function(ba){var Ba=Yi.bind(null,e,ba);z.has(ba)||(z.add(ba),ba.then(Ba,Ba))})}}function Tb(e,h,z){z=se(z,null);z.tag=3;z.payload={element:null};var ba=h.value;z.callback=function(){Bk||(Bk=!0,Yh=ba);Md(e,h)};return z}function cc(e,
h,z){z=se(z,null);z.tag=3;var ba=e.type.getDerivedStateFromError;if("function"===typeof ba){var Ba=h.value;z.payload=function(){Md(e,h);return ba(Ba)}}var yb=e.stateNode;null!==yb&&"function"===typeof yb.componentDidCatch&&(z.callback=function(){"function"!==typeof ba&&(null===Zh?Zh=new Set([this]):Zh.add(this),Md(e,h));var Jb=h.stack;this.componentDidCatch(h.value,{componentStack:null!==Jb?Jb:""})});return z}function vc(){return($e&(qh|Fh))!==Ig?1073741821-(hh()/10|0):0!==Ck?Ck:Ck=1073741821-(hh()/
10|0)}function hd(e,h,z){h=h.mode;if(0===(h&2))return 1073741823;var ba=kf();if(0===(h&4))return 99===ba?1073741823:1073741822;if(($e&qh)!==Ig)return gh;if(null!==z)e=Va(e,z.timeoutMs|0||5E3,250);else switch(ba){case 99:e=1073741823;break;case 98:e=Va(e,150,100);break;case 97:case 96:e=Va(e,5E3,250);break;case 95:e=2;break;default:throw Error(n(326));}null!==oh&&e===gh&&--e;return e}function nd(e,h){if(50<Zi)throw Zi=0,Dk=null,Error(n(185));e=ie(e,h);if(null!==e){var z=kf();1073741823===h?($e&Sk)!==
Ig&&($e&(qh|Fh))===Ig?md(e):(Vd(e),$e===Ig&&ua()):Vd(e);($e&4)===Ig||98!==z&&99!==z||(null===$i?$i=new Map([[e,h]]):(z=$i.get(e),(void 0===z||z>h)&&$i.set(e,h)))}}function ie(e,h){e.expirationTime<h&&(e.expirationTime=h);var z=e.alternate;null!==z&&z.expirationTime<h&&(z.expirationTime=h);var ba=e.return,Ba=null;if(null===ba&&3===e.tag)Ba=e.stateNode;else for(;null!==ba;){z=ba.alternate;ba.childExpirationTime<h&&(ba.childExpirationTime=h);null!==z&&z.childExpirationTime<h&&(z.childExpirationTime=
h);if(null===ba.return&&3===ba.tag){Ba=ba.stateNode;break}ba=ba.return}null!==Ba&&(oh===Ba&&(Yf(h),Hg===sj&&ph(Ba,gh)),wg(Ba,h));return Ba}function $d(e){var h=e.lastExpiredTime;if(0!==h)return h;h=e.firstPendingTime;if(!ek(e,h))return h;var z=e.lastPingedTime;e=e.nextKnownPendingLevel;e=z>e?z:e;return 2>=e&&h!==e?0:e}function Vd(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=S(md.bind(null,e));else{var h=$d(e),z=e.callbackNode;if(0===h)null!==
z&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var ba=vc();1073741823===h?ba=99:1===h||2===h?ba=95:(ba=10*(1073741821-h)-10*(1073741821-ba),ba=0>=ba?99:250>=ba?98:5250>=ba?97:95);if(null!==z){var Ba=e.callbackPriority;if(e.callbackExpirationTime===h&&Ba>=ba)return;z!==dl&&el(z)}e.callbackExpirationTime=h;e.callbackPriority=ba;h=1073741823===h?S(md.bind(null,e)):K(ba,Hd.bind(null,e),{timeout:10*(1073741821-h)-hh()});e.callbackNode=h}}}function Hd(e,h){Ck=0;if(h)return h=
vc(),aj(e,h),Vd(e),null;var z=$d(e);if(0!==z){h=e.callbackNode;if(($e&(qh|Fh))!==Ig)throw Error(n(327));rh();e===oh&&z===gh||ke(e,z);if(null!==gf){var ba=$e;$e|=qh;var Ba=hf();do try{for(;null!==gf&&!Bl();)gf=Lf(gf);break}catch(hc){Xe(e,hc)}while(1);Hj=Vh=Gj=null;$e=ba;Ek.current=Ba;if(Hg===fk)throw h=Ug,ke(e,z),ph(e,z),Vd(e),h;if(null===gf)switch(Ba=e.finishedWork=e.current.alternate,e.finishedExpirationTime=z,ba=Hg,oh=null,ba){case rj:case fk:throw Error(n(345));case Tk:aj(e,2<z?2:z);break;case Yg:ph(e,
z);ba=e.lastSuspendedTime;z===ba&&(e.nextKnownPendingLevel=Rd(Ba));if(1073741823===$h&&(Ba=Rk+li-hh(),10<Ba)){if(Mj){var yb=e.lastPingedTime;if(0===yb||yb>=z){e.lastPingedTime=z;ke(e,z);break}}yb=$d(e);if(0!==yb&&yb!==z)break;if(0!==ba&&ba!==z){e.lastPingedTime=ba;break}e.timeoutHandle=Ng(Ef.bind(null,e),Ba);break}Ef(e);break;case sj:ph(e,z);ba=e.lastSuspendedTime;z===ba&&(e.nextKnownPendingLevel=Rd(Ba));if(Mj&&(Ba=e.lastPingedTime,0===Ba||Ba>=z)){e.lastPingedTime=z;ke(e,z);break}Ba=$d(e);if(0!==
Ba&&Ba!==z)break;if(0!==ba&&ba!==z){e.lastPingedTime=ba;break}1073741823!==gk?ba=10*(1073741821-gk)-hh():1073741823===$h?ba=0:(ba=10*(1073741821-$h)-5E3,Ba=hh(),z=10*(1073741821-z)-Ba,ba=Ba-ba,0>ba&&(ba=0),ba=(120>ba?120:480>ba?480:1080>ba?1080:1920>ba?1920:3E3>ba?3E3:4320>ba?4320:1960*Cl(ba/1960))-ba,z<ba&&(ba=z));if(10<ba){e.timeoutHandle=Ng(Ef.bind(null,e),ba);break}Ef(e);break;case Uk:if(1073741823!==$h&&null!==xg){yb=$h;var Jb=xg;ba=Jb.busyMinDurationMs|0;0>=ba?ba=0:(Ba=Jb.busyDelayMs|0,yb=hh()-
(10*(1073741821-yb)-(Jb.timeoutMs|0||5E3)),ba=yb<=Ba?0:Ba+ba-yb);if(10<ba){ph(e,z);e.timeoutHandle=Ng(Ef.bind(null,e),ba);break}}Ef(e);break;default:throw Error(n(329));}Vd(e);if(e.callbackNode===h)return Hd.bind(null,e)}}return null}function md(e){var h=e.lastExpiredTime;h=0!==h?h:1073741823;if(($e&(qh|Fh))!==Ig)throw Error(n(327));rh();e===oh&&h===gh||ke(e,h);if(null!==gf){var z=$e;$e|=qh;var ba=hf();do try{for(;null!==gf;)gf=Lf(gf);break}catch(Ba){Xe(e,Ba)}while(1);Hj=Vh=Gj=null;$e=z;Ek.current=
ba;if(Hg===fk)throw z=Ug,ke(e,h),ph(e,h),Vd(e),z;if(null!==gf)throw Error(n(261));e.finishedWork=e.current.alternate;e.finishedExpirationTime=h;oh=null;Ef(e);Vd(e)}return null}function ce(){if(null!==$i){var e=$i;$i=null;e.forEach(function(h,z){aj(z,h);Vd(z)});ua()}}function bf(e,h){var z=$e;$e|=1;try{return e(h)}finally{$e=z,$e===Ig&&ua()}}function qf(e,h){var z=$e;$e&=-2;$e|=Sk;try{return e(h)}finally{$e=z,$e===Ig&&ua()}}function ke(e,h){e.finishedWork=null;e.finishedExpirationTime=0;var z=e.timeoutHandle;
-1!==z&&(e.timeoutHandle=-1,zf(z));if(null!==gf)for(z=gf.return;null!==z;){var ba=z;switch(ba.tag){case 1:ba=ba.type.childContextTypes;null!==ba&&void 0!==ba&&bc();break;case 3:df();Ee(Dg);Ee(mg);break;case 5:da(ba);break;case 4:df();break;case 13:Ee(rg);break;case 19:Ee(rg);break;case 10:lc(ba)}z=z.return}oh=e;gf=Wh(e.current,null);gh=h;Hg=rj;Ug=null;gk=$h=1073741823;xg=null;Tg=0;Mj=!1}function Xe(e,h){do{try{Hj=Vh=Gj=null;xk.current=te;if(yk)for(var z=tg.memoizedState;null!==z;){var ba=z.queue;
null!==ba&&(ba.pending=null);z=z.next}ki=0;Rg=Sg=tg=null;yk=!1;if(null===gf||null===gf.return)return Hg=fk,Ug=h,gf=null;a:{var Ba=e,yb=gf.return,Jb=gf,hc=h;h=gh;Jb.effectTag|=2048;Jb.firstEffect=Jb.lastEffect=null;if(null!==hc&&"object"===typeof hc&&"function"===typeof hc.then){var dd=hc;if(0===(Jb.mode&2)){var Zc=Jb.alternate;Zc?(Jb.updateQueue=Zc.updateQueue,Jb.memoizedState=Zc.memoizedState,Jb.expirationTime=Zc.expirationTime):(Jb.updateQueue=null,Jb.memoizedState=null)}var Qd=0!==(rg.current&
1),Zd=yb;do{var Df;if(Df=13===Zd.tag){var Rf=Zd.memoizedState;if(null!==Rf)Df=null!==Rf.dehydrated?!0:!1;else{var fg=Zd.memoizedProps;Df=void 0===fg.fallback?!1:!0!==fg.unstable_avoidThisFallback?!0:Qd?!1:!0}}if(Df){var Gg=Zd.updateQueue;if(null===Gg){var Vc=new Set;Vc.add(dd);Zd.updateQueue=Vc}else Gg.add(dd);if(0===(Zd.mode&2)){Zd.effectTag|=64;Jb.effectTag&=-2981;if(1===Jb.tag)if(null===Jb.alternate)Jb.tag=17;else{var Lc=se(1073741823,null);Lc.tag=2;xd(Jb,Lc)}Jb.expirationTime=1073741823;break a}hc=
void 0;Jb=h;var jd=Ba.pingCache;null===jd?(jd=Ba.pingCache=new jl,hc=new Set,jd.set(dd,hc)):(hc=jd.get(dd),void 0===hc&&(hc=new Set,jd.set(dd,hc)));if(!hc.has(Jb)){hc.add(Jb);var Gd=bj.bind(null,Ba,dd,Jb);dd.then(Gd,Gd)}Zd.effectTag|=4096;Zd.expirationTime=h;break a}Zd=Zd.return}while(null!==Zd);hc=Error((Aa(Jb.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a \x3cSuspense fallback\x3d...\x3e component higher in the tree to provide a loading indicator or placeholder to display."+
Qa(Jb))}Hg!==Uk&&(Hg=Tk);hc=yd(hc,Jb);Zd=yb;do{switch(Zd.tag){case 3:dd=hc;Zd.effectTag|=4096;Zd.expirationTime=h;var Ud=Tb(Zd,dd,h);zd(Zd,Ud);break a;case 1:dd=hc;var qe=Zd.type,Ne=Zd.stateNode;if(0===(Zd.effectTag&64)&&("function"===typeof qe.getDerivedStateFromError||null!==Ne&&"function"===typeof Ne.componentDidCatch&&(null===Zh||!Zh.has(Ne)))){Zd.effectTag|=4096;Zd.expirationTime=h;var Hf=cc(Zd,dd,h);zd(Zd,Hf);break a}}Zd=Zd.return}while(null!==Zd)}gf=Gh(gf)}catch(lg){h=lg;continue}break}while(1)}
function hf(){var e=Ek.current;Ek.current=te;return null===e?te:e}function kg(e,h){e<$h&&2<e&&($h=e);null!==h&&e<gk&&2<e&&(gk=e,xg=h)}function Yf(e){e>Tg&&(Tg=e)}function Lf(e){var h=kl(e.alternate,e,gh);e.memoizedProps=e.pendingProps;null===h&&(h=Gh(e));ll.current=null;return h}function Gh(e){gf=e;do{var h=gf.alternate;e=gf.return;if(0===(gf.effectTag&2048)){h=Tc(h,gf,gh);if(1===gh||1!==gf.childExpirationTime){for(var z=0,ba=gf.child;null!==ba;){var Ba=ba.expirationTime,yb=ba.childExpirationTime;
Ba>z&&(z=Ba);yb>z&&(z=yb);ba=ba.sibling}gf.childExpirationTime=z}if(null!==h)return h;null!==e&&0===(e.effectTag&2048)&&(null===e.firstEffect&&(e.firstEffect=gf.firstEffect),null!==gf.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=gf.firstEffect),e.lastEffect=gf.lastEffect),1<gf.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=gf:e.firstEffect=gf,e.lastEffect=gf))}else{h=Rc(gf);if(null!==h)return h.effectTag&=2047,h;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}h=
gf.sibling;if(null!==h)return h;gf=e}while(null!==gf);Hg===rj&&(Hg=Uk);return null}function Rd(e){var h=e.expirationTime;e=e.childExpirationTime;return h>e?h:e}function Ef(e){var h=kf();Pe(99,Hh.bind(null,e,h));return null}function Hh(e,h){do rh();while(null!==Nj);if(($e&(qh|Fh))!==Ig)throw Error(n(327));var z=e.finishedWork,ba=e.finishedExpirationTime;if(null===z)return null;e.finishedWork=null;e.finishedExpirationTime=0;if(z===e.current)throw Error(n(177));e.callbackNode=null;e.callbackExpirationTime=
0;e.callbackPriority=90;e.nextKnownPendingLevel=0;var Ba=Rd(z);e.firstPendingTime=Ba;ba<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:ba<=e.firstSuspendedTime&&(e.firstSuspendedTime=ba-1);ba<=e.lastPingedTime&&(e.lastPingedTime=0);ba<=e.lastExpiredTime&&(e.lastExpiredTime=0);e===oh&&(gf=oh=null,gh=0);1<z.effectTag?null!==z.lastEffect?(z.lastEffect.nextEffect=z,Ba=z.firstEffect):Ba=z:Ba=z.firstEffect;if(null!==Ba){var yb=$e;$e|=Fh;ll.current=null;Gi=Rh;var Jb=
Db();if(Zb(Jb)){if("selectionStart"in Jb)var hc={start:Jb.selectionStart,end:Jb.selectionEnd};else a:{hc=(hc=Jb.ownerDocument)&&hc.defaultView||window;var dd=hc.getSelection&&hc.getSelection();if(dd&&0!==dd.rangeCount){hc=dd.anchorNode;var Zc=dd.anchorOffset,Qd=dd.focusNode;dd=dd.focusOffset;try{hc.nodeType,Qd.nodeType}catch(pf){hc=null;break a}var Zd=0,Df=-1,Rf=-1,fg=0,Gg=0,Vc=Jb,Lc=null;b:for(;;){for(var jd;;){Vc!==hc||0!==Zc&&3!==Vc.nodeType||(Df=Zd+Zc);Vc!==Qd||0!==dd&&3!==Vc.nodeType||(Rf=Zd+
dd);3===Vc.nodeType&&(Zd+=Vc.nodeValue.length);if(null===(jd=Vc.firstChild))break;Lc=Vc;Vc=jd}for(;;){if(Vc===Jb)break b;Lc===hc&&++fg===Zc&&(Df=Zd);Lc===Qd&&++Gg===dd&&(Rf=Zd);if(null!==(jd=Vc.nextSibling))break;Vc=Lc;Lc=Vc.parentNode}Vc=jd}hc=-1===Df||-1===Rf?null:{start:Df,end:Rf}}else hc=null}hc=hc||{start:0,end:0}}else hc=null;Og={activeElementDetached:null,focusedElem:Jb,selectionRange:hc};Rh=!1;ue=Ba;do try{Zg()}catch(pf){if(null===ue)throw Error(n(330));Xh(ue,pf);ue=ue.nextEffect}while(null!==
ue);ue=Ba;do try{for(Jb=e,hc=h;null!==ue;){var Gd=ue.effectTag;Gd&16&&v(ue.stateNode,"");if(Gd&128){var Ud=ue.alternate;if(null!==Ud){var qe=Ud.ref;null!==qe&&("function"===typeof qe?qe(null):qe.current=null)}}switch(Gd&1038){case 2:c(ue);ue.effectTag&=-3;break;case 6:c(ue);ue.effectTag&=-3;Fa(ue.alternate,ue);break;case 1024:ue.effectTag&=-1025;break;case 1028:ue.effectTag&=-1025;Fa(ue.alternate,ue);break;case 4:Fa(ue.alternate,ue);break;case 8:Zc=ue,ha(Jb,Zc,hc),Cb(Zc)}ue=ue.nextEffect}}catch(pf){if(null===
ue)throw Error(n(330));Xh(ue,pf);ue=ue.nextEffect}while(null!==ue);qe=Og;Ud=Db();Gd=qe.focusedElem;hc=qe.selectionRange;if(Ud!==Gd&&Gd&&Gd.ownerDocument&&gb(Gd.ownerDocument.documentElement,Gd)){null!==hc&&Zb(Gd)&&(Ud=hc.start,qe=hc.end,void 0===qe&&(qe=Ud),"selectionStart"in Gd?(Gd.selectionStart=Ud,Gd.selectionEnd=Math.min(qe,Gd.value.length)):(qe=(Ud=Gd.ownerDocument||document)&&Ud.defaultView||window,qe.getSelection&&(qe=qe.getSelection(),Zc=Gd.textContent.length,Jb=Math.min(hc.start,Zc),hc=void 0===
hc.end?Jb:Math.min(hc.end,Zc),!qe.extend&&Jb>hc&&(Zc=hc,hc=Jb,Jb=Zc),Zc=za(Gd,Jb),Qd=za(Gd,hc),Zc&&Qd&&(1!==qe.rangeCount||qe.anchorNode!==Zc.node||qe.anchorOffset!==Zc.offset||qe.focusNode!==Qd.node||qe.focusOffset!==Qd.offset)&&(Ud=Ud.createRange(),Ud.setStart(Zc.node,Zc.offset),qe.removeAllRanges(),Jb>hc?(qe.addRange(Ud),qe.extend(Qd.node,Qd.offset)):(Ud.setEnd(Qd.node,Qd.offset),qe.addRange(Ud))))));Ud=[];for(qe=Gd;qe=qe.parentNode;)1===qe.nodeType&&Ud.push({element:qe,left:qe.scrollLeft,top:qe.scrollTop});
"function"===typeof Gd.focus&&Gd.focus();for(Gd=0;Gd<Ud.length;Gd++)qe=Ud[Gd],qe.element.scrollLeft=qe.left,qe.element.scrollTop=qe.top}Rh=!!Gi;Og=Gi=null;e.current=z;ue=Ba;do try{for(Gd=e;null!==ue;){var Ne=ue.effectTag;Ne&36&&Pa(Gd,ue.alternate,ue);if(Ne&128){Ud=void 0;var Hf=ue.ref;if(null!==Hf){var lg=ue.stateNode;switch(ue.tag){case 5:Ud=lg;break;default:Ud=lg}"function"===typeof Hf?Hf(Ud):Hf.current=Ud}}ue=ue.nextEffect}}catch(pf){if(null===ue)throw Error(n(330));Xh(ue,pf);ue=ue.nextEffect}while(null!==
ue);ue=null;ml();$e=yb}else e.current=z;if(hk)hk=!1,Nj=e,ik=h;else for(ue=Ba;null!==ue;)h=ue.nextEffect,ue.nextEffect=null,ue=h;h=e.firstPendingTime;0===h&&(Zh=null);1073741823===h?e===Dk?Zi++:(Zi=0,Dk=e):Zi=0;"function"===typeof Vk&&Vk(z.stateNode,ba);Vd(e);if(Bk)throw Bk=!1,e=Yh,Yh=null,e;if(($e&Sk)!==Ig)return null;ua();return null}function Zg(){for(;null!==ue;){var e=ue.effectTag;0!==(e&256)&&je(ue.alternate,ue);0===(e&512)||hk||(hk=!0,K(97,function(){rh();return null}));ue=ue.nextEffect}}function rh(){if(90!==
ik){var e=97<ik?97:ik;ik=90;return Pe(e,Hi)}}function Hi(){if(null===Nj)return!1;var e=Nj;Nj=null;if(($e&(qh|Fh))!==Ig)throw Error(n(331));var h=$e;$e|=Fh;for(e=e.current.firstEffect;null!==e;){try{var z=e;if(0!==(z.effectTag&512))switch(z.tag){case 0:case 11:case 15:case 22:We(5,z),oa(5,z)}}catch(ba){if(null===e)throw Error(n(330));Xh(e,ba)}z=e.nextEffect;e.nextEffect=null;e=z}$e=h;ua();return!0}function Ii(e,h,z){h=yd(z,h);h=Tb(e,h,1073741823);xd(e,h);e=ie(e,1073741823);null!==e&&Vd(e)}function Xh(e,
h){if(3===e.tag)Ii(e,e,h);else for(var z=e.return;null!==z;){if(3===z.tag){Ii(z,e,h);break}else if(1===z.tag){var ba=z.stateNode;if("function"===typeof z.type.getDerivedStateFromError||"function"===typeof ba.componentDidCatch&&(null===Zh||!Zh.has(ba))){e=yd(h,e);e=cc(z,e,1073741823);xd(z,e);z=ie(z,1073741823);null!==z&&Vd(z);break}}z=z.return}}function bj(e,h,z){var ba=e.pingCache;null!==ba&&ba.delete(h);oh===e&&gh===z?Hg===sj||Hg===Yg&&1073741823===$h&&hh()-Rk<li?ke(e,gh):Mj=!0:ek(e,z)&&(h=e.lastPingedTime,
0!==h&&h<z||(e.lastPingedTime=z,Vd(e)))}function Yi(e,h){var z=e.stateNode;null!==z&&z.delete(h);h=0;0===h&&(h=vc(),h=hd(h,e,null));e=ie(e,h);null!==e&&Vd(e)}function mi(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)return!0;try{var z=h.inject(e);Vk=function(ba){try{h.onCommitFiberRoot(z,ba,void 0,64===(ba.current.effectTag&64))}catch(Ba){}};Ak=function(ba){try{h.onCommitFiberUnmount(z,ba)}catch(Ba){}}}catch(ba){}return!0}
function tj(e,h,z,ba){this.tag=e;this.key=z;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=h;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=ba;this.effectTag=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childExpirationTime=this.expirationTime=0;this.alternate=null}function Mg(e,h,z,ba){return new tj(e,h,z,ba)}function Lj(e){e=e.prototype;return!(!e||!e.isReactComponent)}
function jk(e){if("function"===typeof e)return Lj(e)?1:0;if(void 0!==e&&null!==e){e=e.$$typeof;if(e===wh)return 11;if(e===Xg)return 14}return 2}function Wh(e,h){var z=e.alternate;null===z?(z=Mg(e.tag,h,e.key,e.mode),z.elementType=e.elementType,z.type=e.type,z.stateNode=e.stateNode,z.alternate=e,e.alternate=z):(z.pendingProps=h,z.effectTag=0,z.nextEffect=null,z.firstEffect=null,z.lastEffect=null);z.childExpirationTime=e.childExpirationTime;z.expirationTime=e.expirationTime;z.child=e.child;z.memoizedProps=
e.memoizedProps;z.memoizedState=e.memoizedState;z.updateQueue=e.updateQueue;h=e.dependencies;z.dependencies=null===h?null:{expirationTime:h.expirationTime,firstContext:h.firstContext,responders:h.responders};z.sibling=e.sibling;z.index=e.index;z.ref=e.ref;return z}function Ei(e,h,z,ba,Ba,yb){var Jb=2;ba=e;if("function"===typeof e)Lj(e)&&(Jb=1);else if("string"===typeof e)Jb=5;else a:switch(e){case ah:return eh(z.children,Ba,yb,h);case Vg:Jb=8;Ba|=7;break;case si:Jb=8;Ba|=1;break;case Oh:return e=
Mg(12,z,h,Ba|8),e.elementType=Oh,e.type=Oh,e.expirationTime=yb,e;case Qi:return e=Mg(13,z,h,Ba),e.type=Qi,e.elementType=Qi,e.expirationTime=yb,e;case ti:return e=Mg(19,z,h,Ba),e.elementType=ti,e.expirationTime=yb,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case Wg:Jb=10;break a;case Tj:Jb=9;break a;case wh:Jb=11;break a;case Xg:Jb=14;break a;case vi:Jb=16;ba=null;break a;case ui:Jb=22;break a}throw Error(n(130,null==e?e:typeof e,""));}h=Mg(Jb,z,h,Ba);h.elementType=e;h.type=ba;h.expirationTime=
yb;return h}function eh(e,h,z,ba){e=Mg(7,e,ba,h);e.expirationTime=z;return e}function Ij(e,h,z){e=Mg(6,e,null,h);e.expirationTime=z;return e}function qg(e,h,z){h=Mg(4,null!==e.children?e.children:[],e.key,h);h.expirationTime=z;h.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation};return h}function Fk(e,h,z){this.tag=h;this.current=null;this.containerInfo=e;this.pingCache=this.pendingChildren=null;this.finishedExpirationTime=0;this.finishedWork=null;this.timeoutHandle=
-1;this.pendingContext=this.context=null;this.hydrate=z;this.callbackNode=null;this.callbackPriority=90;this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function ek(e,h){var z=e.firstSuspendedTime;e=e.lastSuspendedTime;return 0!==z&&z>=h&&e<=h}function ph(e,h){var z=e.firstSuspendedTime,ba=e.lastSuspendedTime;z<h&&(e.firstSuspendedTime=h);if(ba>h||0===z)e.lastSuspendedTime=h;h<=e.lastPingedTime&&(e.lastPingedTime=
0);h<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function wg(e,h){h>e.firstPendingTime&&(e.firstPendingTime=h);var z=e.firstSuspendedTime;0!==z&&(h>=z?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:h>=e.lastSuspendedTime&&(e.lastSuspendedTime=h+1),h>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=h))}function aj(e,h){var z=e.lastExpiredTime;if(0===z||z>h)e.lastExpiredTime=h}function uj(e,h,z,ba){var Ba=h.current,yb=vc(),Jb=dk.suspense;yb=hd(yb,Ba,Jb);a:if(z){z=z._reactInternalFiber;
b:{if(C(z)!==z||1!==z.tag)throw Error(n(170));var hc=z;do{switch(hc.tag){case 3:hc=hc.stateNode.context;break b;case 1:if(Xd(hc.type)){hc=hc.stateNode.__reactInternalMemoizedMergedChildContext;break b}}hc=hc.return}while(null!==hc);throw Error(n(171));}if(1===z.tag){var dd=z.type;if(Xd(dd)){z=pe(z,dd,hc);break a}}z=hc}else z=Lg;null===h.context?h.context=z:h.pendingContext=z;h=se(yb,Jb);h.payload={element:e};ba=void 0===ba?null:ba;null!==ba&&(h.callback=ba);xd(Ba,h);nd(Ba,yb);return yb}function Ji(e){e=
e.current;if(!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kk(e,h){e=e.memoizedState;null!==e&&null!==e.dehydrated&&e.retryTime<h&&(e.retryTime=h)}function cj(e,h){kk(e,h);(e=e.alternate)&&kk(e,h)}function Ih(e,h,z){z=null!=z&&!0===z.hydrate;var ba=new Fk(e,h,z),Ba=Mg(3,null,null,2===h?7:1===h?3:0);ba.current=Ba;Ba.stateNode=ba;id(Ba);e[Dh]=ba.current;z&&0!==h&&Ec(e,9===e.nodeType?e:e.ownerDocument);this._internalRoot=ba}function Jh(e){return!(!e||
1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Gk(e,h){h||(h=e?9===e.nodeType?e.documentElement:e.firstChild:null,h=!(!h||1!==h.nodeType||!h.hasAttribute("data-reactroot")));if(!h)for(var z;z=e.lastChild;)e.removeChild(z);return new Ih(e,0,h?{hydrate:!0}:void 0)}function Pg(e,h,z,ba,Ba){var yb=z._reactRootContainer;if(yb){var Jb=yb._internalRoot;if("function"===typeof Ba){var hc=Ba;Ba=function(){var Zc=Ji(Jb);hc.call(Zc)}}uj(h,
Jb,e,Ba)}else{yb=z._reactRootContainer=Gk(z,ba);Jb=yb._internalRoot;if("function"===typeof Ba){var dd=Ba;Ba=function(){var Zc=Ji(Jb);dd.call(Zc)}}qf(function(){uj(h,Jb,e,Ba)})}return Ji(Jb)}function vj(e,h,z){var ba=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:fi,key:null==ba?null:""+ba,children:e,containerInfo:h,implementation:z}}function lk(e,h){var z=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jh(h))throw Error(n(200));return vj(e,h,null,z)}var lj=
Rb(5),Ag=Rb(0),Bg=Rb(8);if(!lj)throw Error(n(227));var Pf=!1,Mi=null,vh=!1,gj=null,Sj={onError:function(e){Pf=!0;Mi=e}},jj=null,Ni=null,ci=null,hj=null,di={},ij=[],Bj={},qi={},ei={},xh=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Oi=null,ri=null,pg=null,Nh=sb,jg=!1,Pi=!1,$g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,
kj=Object.prototype.hasOwnProperty,nf={},sf={},yf={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){yf[e]=new jb(e,0,!1,e,null,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var h=e[0];yf[h]=new jb(h,1,!1,e[1],null,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){yf[e]=
new jb(e,2,!1,e.toLowerCase(),null,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){yf[e]=new jb(e,2,!1,e,null,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){yf[e]=new jb(e,3,!1,e.toLowerCase(),null,!1)});["checked","multiple","muted","selected"].forEach(function(e){yf[e]=
new jb(e,3,!0,e,null,!1)});["capture","download"].forEach(function(e){yf[e]=new jb(e,4,!1,e,null,!1)});["cols","rows","size","span"].forEach(function(e){yf[e]=new jb(e,6,!1,e,null,!1)});["rowSpan","start"].forEach(function(e){yf[e]=new jb(e,5,!1,e.toLowerCase(),null,!1)});var Ki=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var h=
e.replace(Ki,Ca);yf[h]=new jb(h,1,!1,e,null,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var h=e.replace(Ki,Ca);yf[h]=new jb(h,1,!1,e,"http://www.w3.org/1999/xlink",!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var h=e.replace(Ki,Ca);yf[h]=new jb(h,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)});["tabIndex","crossOrigin"].forEach(function(e){yf[e]=new jb(e,1,!1,e.toLowerCase(),null,!1)});yf.xlinkHref=new jb("xlinkHref",
1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0);["src","href","action","formAction"].forEach(function(e){yf[e]=new jb(e,1,!1,e.toLowerCase(),null,!0)});var yg=lj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;yg.hasOwnProperty("ReactCurrentDispatcher")||(yg.ReactCurrentDispatcher={current:null});yg.hasOwnProperty("ReactCurrentBatchConfig")||(yg.ReactCurrentBatchConfig={suspense:null});var Kg=/^(.*)[\\\/]/,sg="function"===typeof Symbol&&Symbol.for,qj=sg?Symbol.for("react.element"):60103,fi=
sg?Symbol.for("react.portal"):60106,ah=sg?Symbol.for("react.fragment"):60107,si=sg?Symbol.for("react.strict_mode"):60108,Oh=sg?Symbol.for("react.profiler"):60114,Wg=sg?Symbol.for("react.provider"):60109,Tj=sg?Symbol.for("react.context"):60110,Vg=sg?Symbol.for("react.concurrent_mode"):60111,wh=sg?Symbol.for("react.forward_ref"):60112,Qi=sg?Symbol.for("react.suspense"):60113,ti=sg?Symbol.for("react.suspense_list"):60120,Xg=sg?Symbol.for("react.memo"):60115,vi=sg?Symbol.for("react.lazy"):60116,ui=sg?
Symbol.for("react.block"):60121,lf="function"===typeof Symbol&&Symbol.iterator,Kh,bg=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(h,z,ba,Ba){MSApp.execUnsafeLocalFunction(function(){return e(h,z,ba,Ba)})}:e}(function(e,h){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=h;else{Kh=Kh||document.createElement("div");Kh.innerHTML="\x3csvg\x3e"+h.valueOf().toString()+"\x3c/svg\x3e";for(h=Kh.firstChild;e.firstChild;)e.removeChild(e.firstChild);
for(;h.firstChild;)e.appendChild(h.firstChild)}}),Gf={animationend:w("Animation","AnimationEnd"),animationiteration:w("Animation","AnimationIteration"),animationstart:w("Animation","AnimationStart"),transitionend:w("Transition","TransitionEnd")},gi={},mj={};xh&&(mj=document.createElement("div").style,"AnimationEvent"in window||(delete Gf.animationend.animation,delete Gf.animationiteration.animation,delete Gf.animationstart.animation),"TransitionEvent"in window||delete Gf.transitionend.transition);
var mk=p("animationend"),wj=p("animationiteration"),Li=p("animationstart"),ni=p("transitionend"),yh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ge=new ("function"===typeof WeakMap?WeakMap:Map),wi=null,xi=[],Ri=!1,bh=[],Ph=null,Qh=null,zh=null,Ah=new Map,Bh=new Map,ch=[],Xf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),
nj="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" "),kh={},Dj=new Map,Cj=new Map,ai=["abort","abort",mk,"animationEnd",wj,"animationIteration",Li,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata",
"loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",ni,"transitionEnd","waiting","waiting"];$c("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),
0);$c("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);$c(ai,2);for(var bi="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),nk=0;nk<bi.length;nk++)Cj.set(bi[nk],0);var Uj=Bg.unstable_UserBlockingPriority,yi=Bg.unstable_runWithPriority,
Rh=!0,zi={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,
floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ih=["Webkit","ms","Moz","O"];Object.keys(zi).forEach(function(e){ih.forEach(function(h){h=h+e.charAt(0).toUpperCase()+e.substring(1);zi[h]=zi[e]})});var Ch=Ag({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),lh="$",Si="/$",Vj="$?",Ai="$!",Gi=null,Og=null,Ng="function"===typeof setTimeout?
setTimeout:void 0,zf="function"===typeof clearTimeout?clearTimeout:void 0,oi=Math.random().toString(36).slice(2),mh="__reactInternalInstance$"+oi,Qg="__reactEventHandlers$"+oi,Dh="__reactContainere$"+oi,Sh=null,ug=null,Bi=null;Ag(qd.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Uc)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?
e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Uc)},persist:function(){this.isPersistent=Uc},isPersistent:od,destructor:function(){var e=this.constructor.Interface,h;for(h in e)this[h]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null;this.isPropagationStopped=this.isDefaultPrevented=od;this._dispatchInstances=this._dispatchListeners=null}});qd.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,
bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};qd.extend=function(e){function h(){}function z(){return ba.apply(this,arguments)}var ba=this;h.prototype=ba.prototype;var Ba=new h;Ag(Ba,z.prototype);z.prototype=Ba;z.prototype.constructor=z;z.Interface=Ag({},ba.Interface,e);z.extend=ba.extend;Wd(z);return z};Wd(qd);var ok=qd.extend({data:null}),Lh=qd.extend({data:null}),Ti=[9,13,27,32],Ci=xh&&"CompositionEvent"in window,Mh=null;
xh&&"documentMode"in document&&(Mh=document.documentMode);var dj=xh&&"TextEvent"in window&&!Mh,Di=xh&&(!Ci||Mh&&8<Mh&&11>=Mh),Wj=String.fromCharCode(32),sh={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",
captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},oj=!1,nh=!1,xj={eventTypes:sh,extractEvents:function(e,h,z,ba){var Ba;if(Ci)a:{switch(e){case "compositionstart":var yb=sh.compositionStart;break a;case "compositionend":yb=sh.compositionEnd;
break a;case "compositionupdate":yb=sh.compositionUpdate;break a}yb=void 0}else nh?me(e,z)&&(yb=sh.compositionEnd):"keydown"===e&&229===z.keyCode&&(yb=sh.compositionStart);yb?(Di&&"ko"!==z.locale&&(nh||yb!==sh.compositionStart?yb===sh.compositionEnd&&nh&&(Ba=Yc()):(Sh=ba,ug="value"in Sh?Sh.value:Sh.textContent,nh=!0)),yb=ok.getPooled(yb,h,z,ba),Ba?yb.data=Ba:(Ba=ye(z),null!==Ba&&(yb.data=Ba)),Ic(yb),Ba=yb):Ba=null;(e=dj?Ye(e,z):Qe(e,z))?(h=Lh.getPooled(sh.beforeInput,h,z,ba),h.data=e,Ic(h)):h=null;
return null===Ba?h:null===h?Ba:[Ba,h]}},Ui={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Xj={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},Th=null,Uh=null,Eg=!1;xh&&(Eg=sa("input")&&(!document.documentMode||9<document.documentMode));var Mf={eventTypes:Xj,_isInputEventSupported:Eg,
extractEvents:function(e,h,z,ba){var Ba=h?gc(h):window,yb=Ba.nodeName&&Ba.nodeName.toLowerCase();if("select"===yb||"input"===yb&&"file"===Ba.type)var Jb=Oe;else if(Re(Ba))if(Eg)Jb=Ad;else{Jb=cf;var hc=Ae}else(yb=Ba.nodeName)&&"input"===yb.toLowerCase()&&("checkbox"===Ba.type||"radio"===Ba.type)&&(Jb=re);if(Jb&&(Jb=Jb(e,h)))return Fd(Jb,z,ba);hc&&hc(e,Ba,h);"blur"===e&&(e=Ba._wrapperState)&&e.controlled&&"number"===Ba.type&&W(Ba,"number",Ba.value)}},cg=qd.extend({view:null,detail:null}),Mk={Alt:"altKey",
Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},ej=0,a=0,f=!1,t=!1,q=cg.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:ae,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var h=ej;ej=e.screenX;return f?"mousemove"===e.type?e.screenX-h:0:(f=!0,0)},movementY:function(e){if("movementY"in
e)return e.movementY;var h=a;a=e.screenY;return t?"mousemove"===e.type?e.screenY-h:0:(t=!0,0)}}),y=q.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),V={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},
pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},qa={eventTypes:V,extractEvents:function(e,h,z,ba,Ba){var yb="mouseover"===e||"pointerover"===e,Jb="mouseout"===e||"pointerout"===e;if(yb&&0===(Ba&32)&&(z.relatedTarget||z.fromElement)||!Jb&&!yb)return null;yb=ba.window===ba?ba:(yb=ba.ownerDocument)?yb.defaultView||yb.parentWindow:window;if(Jb){if(Jb=h,h=(h=z.relatedTarget||z.toElement)?rb(h):null,null!==h){var hc=C(h);if(h!==hc||5!==h.tag&&6!==h.tag)h=null}}else Jb=
null;if(Jb===h)return null;if("mouseout"===e||"mouseover"===e)var dd=q,Zc=V.mouseLeave,Qd=V.mouseEnter,Zd="mouse";else if("pointerout"===e||"pointerover"===e)dd=y,Zc=V.pointerLeave,Qd=V.pointerEnter,Zd="pointer";e=null==Jb?yb:gc(Jb);yb=null==h?yb:gc(h);Zc=dd.getPooled(Zc,Jb,z,ba);Zc.type=Zd+"leave";Zc.target=e;Zc.relatedTarget=yb;z=dd.getPooled(Qd,h,z,ba);z.type=Zd+"enter";z.target=yb;z.relatedTarget=e;ba=Jb;Zd=h;if(ba&&Zd)a:{dd=ba;Qd=Zd;Jb=0;for(e=dd;e;e=Bc(e))Jb++;e=0;for(h=Qd;h;h=Bc(h))e++;for(;0<
Jb-e;)dd=Bc(dd),Jb--;for(;0<e-Jb;)Qd=Bc(Qd),e--;for(;Jb--;){if(dd===Qd||dd===Qd.alternate)break a;dd=Bc(dd);Qd=Bc(Qd)}dd=null}else dd=null;Qd=dd;for(dd=[];ba&&ba!==Qd;){Jb=ba.alternate;if(null!==Jb&&Jb===Qd)break;dd.push(ba);ba=Bc(ba)}for(ba=[];Zd&&Zd!==Qd;){Jb=Zd.alternate;if(null!==Jb&&Jb===Qd)break;ba.push(Zd);Zd=Bc(Zd)}for(Zd=0;Zd<dd.length;Zd++)Cc(dd[Zd],"bubbled",Zc);for(Zd=ba.length;0<Zd--;)Cc(ba[Zd],"captured",z);return 0===(Ba&64)?[Zc]:[Zc,z]}},ra="function"===typeof Object.is?Object.is:
Jf,ib=Object.prototype.hasOwnProperty,Ab=xh&&"documentMode"in document&&11>=document.documentMode,Xb={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Hc=null,qc=null,oc=null,ed=!1,Od={eventTypes:Xb,extractEvents:function(e,h,z,ba,Ba,yb){Ba=yb||(ba.window===ba?ba.document:9===ba.nodeType?ba:ba.ownerDocument);if(!(yb=!Ba)){a:{Ba=r(Ba);yb=ei.onSelect;for(var Jb=0;Jb<
yb.length;Jb++)if(!Ba.has(yb[Jb])){Ba=!1;break a}Ba=!0}yb=!Ba}if(yb)return null;Ba=h?gc(h):window;switch(e){case "focus":if(Re(Ba)||"true"===Ba.contentEditable)Hc=Ba,qc=h,oc=null;break;case "blur":oc=qc=Hc=null;break;case "mousedown":ed=!0;break;case "contextmenu":case "mouseup":case "dragend":return ed=!1,Jd(z,ba);case "selectionchange":if(Ab)break;case "keydown":case "keyup":return Jd(z,ba)}return null}},He=qd.extend({animationName:null,elapsedTime:null,pseudoElement:null}),xf=qd.extend({clipboardData:function(e){return"clipboardData"in
e?e.clipboardData:window.clipboardData}}),ve=cg.extend({relatedTarget:null}),Nf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Af={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",
45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tf=cg.extend({key:function(e){if(e.key){var h=Nf[e.key]||e.key;if("Unidentified"!==h)return h}return"keypress"===e.type?(e=Se(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?Af[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,
getModifierState:ae,charCode:function(e){return"keypress"===e.type?Se(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Se(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Wf=q.extend({dataTransfer:null}),jf=cg.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:ae}),Uf=qd.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),Ff=q.extend({deltaX:function(e){return"deltaX"in
e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),Of={eventTypes:kh,extractEvents:function(e,h,z,ba){var Ba=Dj.get(e);if(!Ba)return null;switch(e){case "keypress":if(0===Se(z))return null;case "keydown":case "keyup":e=Tf;break;case "blur":case "focus":e=ve;break;case "click":if(2===z.button)return null;case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":e=
q;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":e=Wf;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":e=jf;break;case mk:case wj:case Li:e=He;break;case ni:e=Uf;break;case "scroll":e=cg;break;case "wheel":e=Ff;break;case "copy":case "cut":case "paste":e=xf;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":e=
y;break;default:e=qd}h=e.getPooled(Ba,h,z,ba);Ic(h);return h}};if(hj)throw Error(n(101));hj=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" "));fb();var Jg=Lb;jj=tc;Ni=Jg;ci=gc;Qb({SimpleEventPlugin:Of,EnterLeaveEventPlugin:qa,ChangeEventPlugin:Mf,SelectEventPlugin:Od,BeforeInputEventPlugin:xj});var Cg=[],vg=-1,Lg={},mg={current:Lg},Dg={current:!1},Vi=Lg,cl=Bg.unstable_runWithPriority,uk=Bg.unstable_scheduleCallback,
el=Bg.unstable_cancelCallback,nl=Bg.unstable_requestPaint,Hk=Bg.unstable_now,zl=Bg.unstable_getCurrentPriorityLevel,eg=Bg.unstable_ImmediatePriority,Eh=Bg.unstable_UserBlockingPriority,tk=Bg.unstable_NormalPriority,pj=Bg.unstable_LowPriority,Nk=Bg.unstable_IdlePriority,dl={},Bl=Bg.unstable_shouldYield,ml=void 0!==nl?nl:function(){},hi=null,Ej=null,Fj=!1,ol=Hk(),hh=1E4>ol?Hk:function(){return Hk()-ol},Yj={current:null},Gj=null,Vh=null,Hj=null,Wi=!1,dk=yg.ReactCurrentBatchConfig,fl=(new lj.Component).refs,
vk={isMounted:function(e){return(e=e._reactInternalFiber)?C(e)===e:!1},enqueueSetState:function(e,h,z){e=e._reactInternalFiber;var ba=vc(),Ba=dk.suspense;ba=hd(ba,e,Ba);Ba=se(ba,Ba);Ba.payload=h;void 0!==z&&null!==z&&(Ba.callback=z);xd(e,Ba);nd(e,ba)},enqueueReplaceState:function(e,h,z){e=e._reactInternalFiber;var ba=vc(),Ba=dk.suspense;ba=hd(ba,e,Ba);Ba=se(ba,Ba);Ba.tag=1;Ba.payload=h;void 0!==z&&null!==z&&(Ba.callback=z);xd(e,Ba);nd(e,ba)},enqueueForceUpdate:function(e,h){e=e._reactInternalFiber;
var z=vc(),ba=dk.suspense;z=hd(z,e,ba);ba=se(z,ba);ba.tag=2;void 0!==h&&null!==h&&(ba.callback=h);xd(e,ba);nd(e,z)}},wk=Array.isArray,Xi=$f(!0),Pk=$f(!1),Zj={},ji={current:Zj},bk={current:Zj},ak={current:Zj},rg={current:0},xk=yg.ReactCurrentDispatcher,fh=yg.ReactCurrentBatchConfig,ki=0,tg=null,Sg=null,Rg=null,yk=!1,te={readContext:Fc,useCallback:Mb,useContext:Mb,useEffect:Mb,useImperativeHandle:Mb,useLayoutEffect:Mb,useMemo:Mb,useReducer:Mb,useRef:Mb,useState:Mb,useDebugValue:Mb,useResponder:Mb,useDeferredValue:Mb,
useTransition:Mb},Jj={readContext:Fc,useCallback:Kf,useContext:Fc,useEffect:he,useImperativeHandle:function(e,h,z){z=null!==z&&void 0!==z?z.concat([e]):null;return Pd(4,2,be.bind(null,h,e),z)},useLayoutEffect:function(e,h){return Pd(4,2,e,h)},useMemo:function(e,h){var z=Qc();h=void 0===h?null:h;e=e();z.memoizedState=[e,h];return e},useReducer:function(e,h,z){var ba=Qc();h=void 0!==z?z(h):h;ba.memoizedState=ba.baseState=h;e=ba.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:h};
e=e.dispatch=N.bind(null,tg,e);return[ba.memoizedState,e]},useRef:function(e){var h=Qc();e={current:e};return h.memoizedState=e},useState:Td,useDebugValue:Ce,useResponder:Pb,useDeferredValue:function(e,h){var z=Td(e),ba=z[0],Ba=z[1];he(function(){var yb=fh.suspense;fh.suspense=void 0===h?null:h;try{Ba(e)}finally{fh.suspense=yb}},[e,h]);return ba},useTransition:function(e){var h=Td(!1),z=h[0];h=h[1];return[Kf(M.bind(null,h,e),[h,e]),z]}},ck={readContext:Fc,useCallback:ef,useContext:Fc,useEffect:ze,
useImperativeHandle:wf,useLayoutEffect:Sf,useMemo:gg,useReducer:ud,useRef:af,useState:function(){return ud(ad)},useDebugValue:Ce,useResponder:Pb,useDeferredValue:function(e,h){var z=ud(ad),ba=z[0],Ba=z[1];ze(function(){var yb=fh.suspense;fh.suspense=void 0===h?null:h;try{Ba(e)}finally{fh.suspense=yb}},[e,h]);return ba},useTransition:function(e){var h=ud(ad),z=h[0];h=h[1];return[ef(M.bind(null,h,e),[h,e]),z]}},Kj={readContext:Fc,useCallback:ef,useContext:Fc,useEffect:ze,useImperativeHandle:wf,useLayoutEffect:Sf,
useMemo:gg,useReducer:Nd,useRef:af,useState:function(){return Nd(ad)},useDebugValue:Ce,useResponder:Pb,useDeferredValue:function(e,h){var z=Nd(ad),ba=z[0],Ba=z[1];ze(function(){var yb=fh.suspense;fh.suspense=void 0===h?null:h;try{Ba(e)}finally{fh.suspense=yb}},[e,h]);return ba},useTransition:function(e){var h=Nd(ad),z=h[0];h=h[1];return[ef(M.bind(null,h,e),[h,e]),z]}},Ve=null,If=null,td=!1,Fi=yg.ReactCurrentOwner,dh=!1,zk={dehydrated:null,retryTime:0};var gl=function(e,h){for(var z=h.child;null!==
z;){if(5===z.tag||6===z.tag)e.appendChild(z.stateNode);else if(4!==z.tag&&null!==z.child){z.child.return=z;z=z.child;continue}if(z===h)break;for(;null===z.sibling;){if(null===z.return||z.return===h)return;z=z.return}z.sibling.return=z.return;z=z.sibling}};var Qk=function(){};var Al=function(e,h,z,ba,Ba){var yb=e.memoizedProps;if(yb!==ba){var Jb=h.stateNode;vf(ji.current);e=null;switch(z){case "input":yb=Q(Jb,yb);ba=Q(Jb,ba);e=[];break;case "option":yb=pa(Jb,yb);ba=pa(Jb,ba);e=[];break;case "select":yb=
Ag({},yb,{value:void 0});ba=Ag({},ba,{value:void 0});e=[];break;case "textarea":yb=db(Jb,yb);ba=db(Jb,ba);e=[];break;default:"function"!==typeof yb.onClick&&"function"===typeof ba.onClick&&(Jb.onclick=de)}$b(z,ba);var hc,dd;z=null;for(hc in yb)if(!ba.hasOwnProperty(hc)&&yb.hasOwnProperty(hc)&&null!=yb[hc])if("style"===hc)for(dd in Jb=yb[hc],Jb)Jb.hasOwnProperty(dd)&&(z||(z={}),z[dd]="");else"dangerouslySetInnerHTML"!==hc&&"children"!==hc&&"suppressContentEditableWarning"!==hc&&"suppressHydrationWarning"!==
hc&&"autoFocus"!==hc&&(qi.hasOwnProperty(hc)?e||(e=[]):(e=e||[]).push(hc,null));for(hc in ba){var Zc=ba[hc];Jb=null!=yb?yb[hc]:void 0;if(ba.hasOwnProperty(hc)&&Zc!==Jb&&(null!=Zc||null!=Jb))if("style"===hc)if(Jb){for(dd in Jb)!Jb.hasOwnProperty(dd)||Zc&&Zc.hasOwnProperty(dd)||(z||(z={}),z[dd]="");for(dd in Zc)Zc.hasOwnProperty(dd)&&Jb[dd]!==Zc[dd]&&(z||(z={}),z[dd]=Zc[dd])}else z||(e||(e=[]),e.push(hc,z)),z=Zc;else"dangerouslySetInnerHTML"===hc?(Zc=Zc?Zc.__html:void 0,Jb=Jb?Jb.__html:void 0,null!=
Zc&&Jb!==Zc&&(e=e||[]).push(hc,Zc)):"children"===hc?Jb===Zc||"string"!==typeof Zc&&"number"!==typeof Zc||(e=e||[]).push(hc,""+Zc):"suppressContentEditableWarning"!==hc&&"suppressHydrationWarning"!==hc&&(qi.hasOwnProperty(hc)?(null!=Zc&&vd(Ba,hc),e||Jb===Zc||(e=[])):(e=e||[]).push(hc,Zc))}z&&(e=e||[]).push("style",z);if(h.updateQueue=e)h.effectTag|=4}};var hl=function(e,h,z,ba){z!==ba&&(h.effectTag|=4)};var il="function"===typeof WeakSet?WeakSet:Set,jl="function"===typeof WeakMap?WeakMap:Map,Cl=Math.ceil,
Ek=yg.ReactCurrentDispatcher,ll=yg.ReactCurrentOwner,Ig=0,Sk=8,qh=16,Fh=32,rj=0,fk=1,Tk=2,Yg=3,sj=4,Uk=5,$e=Ig,oh=null,gf=null,gh=0,Hg=rj,Ug=null,$h=1073741823,gk=1073741823,xg=null,Tg=0,Mj=!1,Rk=0,li=500,ue=null,Bk=!1,Yh=null,Zh=null,hk=!1,Nj=null,ik=90,$i=null,Zi=0,Dk=null,Ck=0;var kl=function(e,h,z){var ba=h.expirationTime;if(null!==e){var Ba=h.pendingProps;if(e.memoizedProps!==Ba||Dg.current)dh=!0;else{if(ba<z){dh=!1;switch(h.tag){case 3:aa(h);If=Ve=null;td=!1;break;case 5:J(h);if(h.mode&4&&1!==
z&&Ba.hidden)return h.expirationTime=h.childExpirationTime=1,null;break;case 1:Xd(h.type)&&Ke(h);break;case 4:ag(h,h.stateNode.containerInfo);break;case 10:ba=h.memoizedProps.value;Ba=h.type._context;Ac(Yj,Ba._currentValue);Ba._currentValue=ba;break;case 13:if(null!==h.memoizedState){ba=h.child.childExpirationTime;if(0!==ba&&ba>=z)return ka(e,h,z);Ac(rg,rg.current&1);h=fc(e,h,z);return null!==h?h.sibling:null}Ac(rg,rg.current&1);break;case 19:ba=h.childExpirationTime>=z;if(0!==(e.effectTag&64)){if(ba)return Sb(e,
h,z);h.effectTag|=64}Ba=h.memoizedState;null!==Ba&&(Ba.rendering=null,Ba.tail=null);Ac(rg,rg.current);if(!ba)return null}return fc(e,h,z)}dh=!1}}else dh=!1;h.expirationTime=0;switch(h.tag){case 2:ba=h.type;null!==e&&(e.alternate=null,h.alternate=null,h.effectTag|=2);e=h.pendingProps;Ba=Be(h,mg.current);uc(h,z);Ba=ic(null,h,ba,e,Ba,z);h.effectTag|=1;if("object"===typeof Ba&&null!==Ba&&"function"===typeof Ba.render&&void 0===Ba.$$typeof){h.tag=1;h.memoizedState=null;h.updateQueue=null;if(Xd(ba)){var yb=
!0;Ke(h)}else yb=!1;h.memoizedState=null!==Ba.state&&void 0!==Ba.state?Ba.state:null;id(h);var Jb=ba.getDerivedStateFromProps;"function"===typeof Jb&&Me(h,ba,Jb,e);Ba.updater=vk;h.stateNode=Ba;Ba._reactInternalFiber=h;Ue(h,ba,e,z);h=E(null,h,ba,!0,yb,z)}else h.tag=0,tb(null,h,Ba,z),h=h.child;return h;case 16:a:{Ba=h.elementType;null!==e&&(e.alternate=null,h.alternate=null,h.effectTag|=2);e=h.pendingProps;ja(Ba);if(1!==Ba._status)throw Ba._result;Ba=Ba._result;h.type=Ba;yb=h.tag=jk(Ba);e=Vb(Ba,e);
switch(yb){case 0:h=pc(null,h,Ba,e,z);break a;case 1:h=u(null,h,Ba,e,z);break a;case 11:h=nb(null,h,Ba,e,z);break a;case 14:h=zb(null,h,Ba,Vb(Ba.type,e),ba,z);break a}throw Error(n(306,Ba,""));}return h;case 0:return ba=h.type,Ba=h.pendingProps,Ba=h.elementType===ba?Ba:Vb(ba,Ba),pc(e,h,ba,Ba,z);case 1:return ba=h.type,Ba=h.pendingProps,Ba=h.elementType===ba?Ba:Vb(ba,Ba),u(e,h,ba,Ba,z);case 3:aa(h);ba=h.updateQueue;if(null===e||null===ba)throw Error(n(282));ba=h.pendingProps;Ba=h.memoizedState;Ba=
null!==Ba?Ba.element:null;fd(e,h);le(h,ba,null,z);ba=h.memoizedState.element;if(ba===Ba)If=Ve=null,td=!1,h=fc(e,h,z);else{if(Ba=h.stateNode.hydrate)If=jc(h.stateNode.containerInfo.firstChild),Ve=h,Ba=td=!0;if(Ba)for(z=Pk(h,null,ba,z),h.child=z;z;)z.effectTag=z.effectTag&-3|1024,z=z.sibling;else tb(e,h,ba,z),If=Ve=null,td=!1;h=h.child}return h;case 5:return J(h),null===e&&ya(h),ba=h.type,Ba=h.pendingProps,yb=null!==e?e.memoizedProps:null,Jb=Ba.children,sc(ba,Ba)?Jb=null:null!==yb&&sc(ba,yb)&&(h.effectTag|=
16),Yb(e,h),h.mode&4&&1!==z&&Ba.hidden?(h.expirationTime=h.childExpirationTime=1,h=null):(tb(e,h,Jb,z),h=h.child),h;case 6:return null===e&&ya(h),null;case 13:return ka(e,h,z);case 4:return ag(h,h.stateNode.containerInfo),ba=h.pendingProps,null===e?h.child=Xi(h,null,ba,z):tb(e,h,ba,z),h.child;case 11:return ba=h.type,Ba=h.pendingProps,Ba=h.elementType===ba?Ba:Vb(ba,Ba),nb(e,h,ba,Ba,z);case 7:return tb(e,h,h.pendingProps,z),h.child;case 8:return tb(e,h,h.pendingProps.children,z),h.child;case 12:return tb(e,
h,h.pendingProps.children,z),h.child;case 10:a:{ba=h.type._context;Ba=h.pendingProps;Jb=h.memoizedProps;yb=Ba.value;var hc=h.type._context;Ac(Yj,hc._currentValue);hc._currentValue=yb;if(null!==Jb)if(hc=Jb.value,yb=ra(hc,yb)?0:("function"===typeof ba._calculateChangedBits?ba._calculateChangedBits(hc,yb):1073741823)|0,0===yb){if(Jb.children===Ba.children&&!Dg.current){h=fc(e,h,z);break a}}else for(hc=h.child,null!==hc&&(hc.return=h);null!==hc;){var dd=hc.dependencies;if(null!==dd){Jb=hc.child;for(var Zc=
dd.firstContext;null!==Zc;){if(Zc.context===ba&&0!==(Zc.observedBits&yb)){1===hc.tag&&(Zc=se(z,null),Zc.tag=2,xd(hc,Zc));hc.expirationTime<z&&(hc.expirationTime=z);Zc=hc.alternate;null!==Zc&&Zc.expirationTime<z&&(Zc.expirationTime=z);Gc(hc.return,z);dd.expirationTime<z&&(dd.expirationTime=z);break}Zc=Zc.next}}else Jb=10===hc.tag?hc.type===h.type?null:hc.child:hc.child;if(null!==Jb)Jb.return=hc;else for(Jb=hc;null!==Jb;){if(Jb===h){Jb=null;break}hc=Jb.sibling;if(null!==hc){hc.return=Jb.return;Jb=hc;
break}Jb=Jb.return}hc=Jb}tb(e,h,Ba.children,z);h=h.child}return h;case 9:return Ba=h.type,yb=h.pendingProps,ba=yb.children,uc(h,z),Ba=Fc(Ba,yb.unstable_observedBits),ba=ba(Ba),h.effectTag|=1,tb(e,h,ba,z),h.child;case 14:return Ba=h.type,yb=Vb(Ba,h.pendingProps),yb=Vb(Ba.type,yb),zb(e,h,Ba,yb,ba,z);case 15:return Eb(e,h,h.type,h.pendingProps,ba,z);case 17:return ba=h.type,Ba=h.pendingProps,Ba=h.elementType===ba?Ba:Vb(ba,Ba),null!==e&&(e.alternate=null,h.alternate=null,h.effectTag|=2),h.tag=1,Xd(ba)?
(e=!0,Ke(h)):e=!1,uc(h,z),Zf(h,ba,Ba),Ue(h,ba,Ba,z),E(null,h,ba,!0,e,z);case 19:return Sb(e,h,z)}throw Error(n(156,h.tag));};var Vk=null,Ak=null;Ih.prototype.render=function(e){uj(e,this._internalRoot,null,null)};Ih.prototype.unmount=function(){var e=this._internalRoot,h=e.containerInfo;uj(null,e,null,function(){h[Dh]=null})};var Lk=function(e){if(13===e.tag){var h=Va(vc(),150,100);nd(e,h);cj(e,h)}};var bl=function(e){13===e.tag&&(nd(e,3),cj(e,3))};var yl=function(e){if(13===e.tag){var h=vc();h=hd(h,
e,null);nd(e,h);cj(e,h)}};Oi=function(e,h,z){switch(h){case "input":na(e,z);h=z.name;if("radio"===z.type&&null!=h){for(z=e;z.parentNode;)z=z.parentNode;z=z.querySelectorAll("input[name\x3d"+JSON.stringify(""+h)+'][type\x3d"radio"]');for(h=0;h<z.length;h++){var ba=z[h];if(ba!==e&&ba.form===e.form){var Ba=tc(ba);if(!Ba)throw Error(n(90));$a(ba);na(ba,Ba)}}}break;case "textarea":va(e,z);break;case "select":h=z.value,null!=h&&Ua(e,!!z.multiple,h,!1)}};sb=bf;Wa=function(e,h,z,ba,Ba){var yb=$e;$e|=4;try{return Pe(98,
e.bind(null,h,z,ba,Ba))}finally{$e=yb,$e===Ig&&ua()}};Ha=function(){($e&(1|qh|Fh))===Ig&&(ce(),rh())};Nh=function(e,h){var z=$e;$e|=2;try{return e(h)}finally{$e=z,$e===Ig&&ua()}};var Dl={Events:[Lb,gc,tc,Qb,Bj,Ic,function(e){la(e,xc)},bb,qb,sd,Ja,rh,{current:!1}]};(function(e){var h=e.findFiberByHostInstance;return mi(Ag({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yg.ReactCurrentDispatcher,findHostInstanceByFiber:function(z){z=fa(z);
return null===z?null:z.stateNode},findFiberByHostInstance:function(z){return h?h(z):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))})({findFiberByHostInstance:rb,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"});Nb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dl;Nb.createPortal=lk;Nb.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var h=e._reactInternalFiber;if(void 0===h){if("function"===
typeof e.render)throw Error(n(188));throw Error(n(268,Object.keys(e)));}e=fa(h);return e=null===e?null:e.stateNode};Nb.flushSync=function(e,h){if(($e&(qh|Fh))!==Ig)throw Error(n(187));var z=$e;$e|=1;try{return Pe(99,e.bind(null,h))}finally{$e=z,ua()}};Nb.hydrate=function(e,h,z){if(!Jh(h))throw Error(n(200));return Pg(null,e,h,!0,z)};Nb.render=function(e,h,z){if(!Jh(h))throw Error(n(200));return Pg(null,e,h,!1,z)};Nb.unmountComponentAtNode=function(e){if(!Jh(e))throw Error(n(40));return e._reactRootContainer?
(qf(function(){Pg(null,null,e,!1,function(){e._reactRootContainer=null;e[Dh]=null})}),!0):!1};Nb.unstable_batchedUpdates=bf;Nb.unstable_createPortal=function(e,h){return lk(e,h,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)};Nb.unstable_renderSubtreeIntoContainer=function(e,h,z,ba){if(!Jh(z))throw Error(n(200));if(null==e||void 0===e._reactInternalFiber)throw Error(n(38));return Pg(e,h,z,!1,ba)};Nb.version="16.13.1"};
shadow$provide[14]=function(mc,Rb,Jc,Nb){function n(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(x){console.error(x)}}n();Jc.exports=Rb(9)};
shadow$provide[15]=function(Yb,Ob,Lc,fc){function n(x,F,O){return parseInt(x.substr(F,O),16)}function v(x){x|=0;return 0>x?"00":16>x?"0"+x.toString(16):256>x?x.toString(16):"ff"}function Y(x,F,O){O=0>O?O+6:6<O?O-6:O;return v(255*(1>O?x+(F-x)*O:3>O?F:4>O?x+(F-x)*(4-O):x))}function Qa(x){if(/^#[0-9a-f]{3,8}$/i.test(x)){var F=x.length;if(6>F){var O=x[1];var K=x[2],ka=x[3],ia=x[4]||"";O="#"+O+O+K+K+ka+ka+ia+ia}if(7==F||8<F)O=x;return O}}function Qb(x){var F=n(x,7,2);if(isNaN(F))F=x;else{var O=n(x,1,2),
K=n(x,3,2);x=n(x,5,2);F="rgba("+O+","+K+","+x+","+(F/255).toFixed(2)+")"}return F}function db(x,F,O){var K=[.55,.5,.5,.46,.6,.55,.55][6*x+.5|0];O=.5>O?O*K*2:K+(O-.5)*(1-K)*2;0==F?(x=v(255*O),x=x+x+x):(F=.5>=O?O*(F+1):O+F-O*F,O=2*O-F,x=Y(O,F,6*x+2)+Y(O,F,6*x)+Y(O,F,6*x-2));return"#"+x}function pb(x,F){function O(S,qa){var ta=ka[S];ta&&1<ta.length||(ta=qa);return function(ha){ha=ta[0]+ha*(ta[1]-ta[0]);return 0>ha?0:1<ha?1:ha}}var K="object"==typeof x&&x||Ra[La.n]||wa[La.W]||{},ka=K.lightness||{},ia=
K.saturation||{},ma="color"in ia?ia.color:ia;ia=ia.grayscale;var Ya=K.backColor,Za=K.padding;return{X:function(S){var qa=K.hues,ta;qa&&0<qa.length&&(ta=qa[0|.999*S*qa.length]);return"number"==typeof ta?(ta/360%1+1)%1:S},o:"number"==typeof ma?ma:.5,F:"number"==typeof ia?ia:0,p:O("color",[.4,.8]),G:O("grayscale",[.3,.9]),H:Qa(Ya),Y:"number"==typeof x?x:"number"==typeof Za?Za:F}}function Ib(x,F){this.x=x;this.y=F}function Ab(x,F,O,K){this.q=x;this.t=F;this.I=O;this.Z=K}function Va(x){this.K=x;this.u=
fb}function nb(x,F,O,K){x%=14;var ka,ia,ma,Ya,Za,S;x?1==x?(ma=0|.5*O,Ya=0|.8*O,F.j(O-ma,0,ma,Ya,2)):2==x?(ma=0|O/3,F.i(ma,ma,O-ma,O-ma)):3==x?(Za=.1*O,S=6>O?1:8>O?2:0|.25*O,Za=1<Za?0|Za:.5<Za?1:Za,F.i(S,S,O-Za-S,O-Za-S)):4==x?(ia=0|.15*O,ma=0|.5*O,F.h(O-ma-ia,O-ma-ia,ma)):5==x?(Za=.1*O,S=4*Za,3<S&&(S|=0),F.i(0,0,O,O),F.g([S,S,O-Za,S,S+(O-S-Za)/2,O-Za],!0)):6==x?F.g([0,0,O,0,O,.7*O,.4*O,.4*O,.7*O,O,0,O]):7==x?F.j(O/2,O/2,O/2,O/2,3):8==x?(F.i(0,0,O,O/2),F.i(0,O/2,O/2,O/2),F.j(O/2,O/2,O/2,O/2,1)):9==
x?(Za=.14*O,S=4>O?1:6>O?2:0|.35*O,Za=8>O?Za:0|Za,F.i(0,0,O,O),F.i(S,S,O-S-Za,O-S-Za,!0)):10==x?(Za=.12*O,S=3*Za,F.i(0,0,O,O),F.h(S,S,O-Za-S,!0)):11==x?F.j(O/2,O/2,O/2,O/2,3):12==x?(ia=.25*O,F.i(0,0,O,O),F.L(ia,ia,O-ia,O-ia,!0)):!K&&(ia=.4*O,ma=1.2*O,F.h(ia,ia,ma)):(ka=.42*O,F.g([0,0,O,0,O,O-2*ka,O-ka,O,0,O]))}function mb(x,F,O){x%=4;var K;x?1==x?F.j(0,O/2,O,O/2,0):2==x?F.L(0,0,O,O):(K=O/6,F.h(K,K,O-2*K)):F.j(0,0,O,O,0)}function Pa(x,F){x=F.X(x);return[db(x,F.F,F.G(0)),db(x,F.o,F.p(.5)),db(x,F.F,F.G(1)),
db(x,F.o,F.p(1)),db(x,F.o,F.p(0))]}function Ba(x,F,O){function K(t,u,l,p,A){l=n(F,l,1);p=p?n(F,p,1):0;x.M(ta[ha[t]]);for(t=0;t<A.length;t++)Ya.u=new Ab(S+A[t][0]*Za,qa+A[t][1]*Za,Za,p++%4),u(l,Ya,Za,t);x.N()}function ka(t){if(0<=t.indexOf(P))for(var u=0;u<t.length;u++)if(0<=ha.indexOf(t[u]))return!0}O=pb(O,.08);O.H&&x.m(O.H);var ia=x.k,ma=.5+ia*O.Y|0;ia-=2*ma;var Ya=new Va(x),Za=0|ia/4,S=0|ma+ia/2-2*Za,qa=0|ma+ia/2-2*Za;ia=n(F,-7)/268435455;var ta=Pa(ia,O),ha=[];for(O=0;3>O;O++){var P=n(F,8+O,1)%
ta.length;if(ka([0,4])||ka([2,3]))P=1;ha.push(P)}K(0,mb,2,3,[[1,0],[2,0],[2,3],[1,3],[0,1],[3,1],[3,2],[0,2]]);K(1,mb,4,5,[[0,0],[3,0],[3,3],[0,3]]);K(2,nb,1,null,[[1,1],[2,1],[2,2],[1,2]]);x.finish()}function Ca(x){return/^[0-9a-f]{11,}$/i.test(x)&&x}function Sa(x){var F=0,O=0,K=encodeURI(null==x?"":""+x)+"%80";x=[];for(var ka=[],ia=1732584193,ma=4023233417,Ya=~ia,Za=~ma,S=3285377520,qa=[ia,ma,Ya,Za,S],ta=0,ha="";F<K.length;O++)x[O>>2]|=("%"==K[F]?parseInt(K.substring(F+1,F+=3),16):K.charCodeAt(F++))<<
8*(3-(O&3));K=16*((O+7>>6)+1);for(x[K-1]=8*O-8;ta<K;ta+=16){for(F=0;80>F;F++){O=(ia<<5|ia>>>27)+S+(20>F?(ma&Ya^~ma&Za)+1518500249:40>F?(ma^Ya^Za)+1859775393:60>F?(ma&Ya^ma&Za^Ya&Za)+2400959708:(ma^Ya^Za)+3395469782);S=F;if(16>F)var P=x[ta+F]|0;else P=ka[F-3]^ka[F-8]^ka[F-14]^ka[F-16],P=P<<1|P>>>31;O+=ka[S]=P;S=Za;Za=Ya;Ya=ma<<30|ma>>>2;ma=ia;ia=O}qa[0]=ia=qa[0]+ia|0;qa[1]=ma=qa[1]+ma|0;qa[2]=Ya=qa[2]+Ya|0;qa[3]=Za=qa[3]+Za|0;qa[4]=S=qa[4]+S|0}for(F=0;40>F;F++)ha+=(qa[F>>3]>>>4*(7-(F&7))&15).toString(16);
return ha}function kb(x,F){var O=x.canvas,K=O.width;O=O.height;x.save();F||(F=Math.min(K,O),x.translate((K-F)/2|0,(O-F)/2|0));this.l=x;this.k=F;x.clearRect(0,0,F,F)}function za(){this.v=""}function Ea(x){this.B={};this.O=x;this.k=x.k}function gb(x){this.k=x;this.C='\x3csvg xmlns\x3d"'+Wa.R+'" width\x3d"'+x+'" height\x3d"'+x+'" viewBox\x3d"0 0 '+x+" "+x+'"\x3e'}function xa(x,F){for(var O=[],K=arguments.length-2;0<K--;)O[K]=arguments[K+2];K=document.createElementNS(Wa.R,F);for(var ka=0;ka+1<O.length;ka+=
2)K.setAttribute(O[ka],O[ka+1]);x.appendChild(K)}function Ua(x){var F=this.k=Math.min(Number(x.getAttribute(Wa.S))||100,Number(x.getAttribute(Wa.T))||100);for(this.V=x;x.firstChild;)x.removeChild(x.firstChild);x.setAttribute("viewBox","0 0 "+F+" "+F);x.setAttribute("preserveAspectRatio","xMidYMid meet")}function Ja(x,F,O){da(x,F,O,function(K,ka){if(ka)return 1==ka?new Ea(new Ua(K)):new kb(K.getContext("2d"))})}function da(x,F,O,K){if("string"===typeof x){if(Q){x=Q(x);for(var ka=0;ka<x.length;ka++)da(x[ka],
F,O,K)}}else if(F=Ca(F)||null!=F&&Sa(F)||Ca(x.getAttribute(jb.U))||x.hasAttribute(jb.D)&&Sa(x.getAttribute(jb.D))){a:{if(x){ka=x.tagName;if(/^svg$/i.test(ka)){ka=1;break a}if(/^canvas$/i.test(ka)&&"getContext"in x){ka=2;break a}}ka=void 0}(K=K(x,ka))&&Ba(K,F,O)}}var wa="undefined"!==typeof window?window:"undefined"!==typeof self?self:"undefined"!==typeof Yb?Yb:{},La={W:"jdenticon_config",n:"config"},Ra={};Ab.prototype.J=function(x,F,O,K){var ka=this.q+this.I,ia=this.t+this.I,ma=this.Z;return 1===
ma?new Ib(ka-F-(K||0),this.t+x):2===ma?new Ib(ka-x-(O||0),ia-F-(K||0)):3===ma?new Ib(this.q+F,ia-x-(O||0)):new Ib(this.q+x,this.t+F)};var fb=new Ab(0,0,0,0);Yb=Va.prototype;Yb.g=function(x,F){var O=F?-2:2,K=[];for(F=F?x.length-2:0;F<x.length&&0<=F;F+=O)K.push(this.u.J(x[F],x[F+1]));this.K.g(K)};Yb.h=function(x,F,O,K){x=this.u.J(x,F,O,O);this.K.h(x,O,K)};Yb.i=function(x,F,O,K,ka){this.g([x,F,x+O,F,x+O,F+K,x,F+K],ka)};Yb.j=function(x,F,O,K,ka,ia){x=[x+O,F,x+O,F+K,x,F+K,x,F];x.splice((ka||0)%4*2,2);
this.g(x,ia)};Yb.L=function(x,F,O,K,ka){this.g([x+O/2,F,x+O,F+K/2,x+O/2,F+K,x,F+K/2],ka)};Yb=kb.prototype;Yb.m=function(x){var F=this.l,O=this.k;F.fillStyle=Qb(x);F.fillRect(0,0,O,O)};Yb.M=function(x){var F=this.l;F.fillStyle=Qb(x);F.beginPath()};Yb.N=function(){this.l.fill()};Yb.g=function(x){var F=this.l;F.moveTo(x[0].x,x[0].y);for(var O=1;O<x.length;O++)F.lineTo(x[O].x,x[O].y);F.closePath()};Yb.h=function(x,F,O){var K=this.l;F/=2;K.moveTo(x.x+F,x.y+F);K.arc(x.x+F,x.y+F,F,0,2*Math.PI,O);K.closePath()};
Yb.finish=function(){this.l.restore()};Yb=za.prototype;Yb.g=function(x){for(var F="",O=0;O<x.length;O++)F+=(O?"L":"M")+(10*x[O].x+.5|0)/10+" "+(10*x[O].y+.5|0)/10;this.v+=F+"Z"};Yb.h=function(x,F,O){var K=(F/2*10+.5|0)/10,ka=(10*F+.5|0)/10;O="a"+K+","+K+" 0 1,"+(O?0:1)+" ";this.v+="M"+(10*x.x+.5|0)/10+" "+(10*(x.y+F/2)+.5|0)/10+O+ka+",0"+O+-ka+",0"};Yb=Ea.prototype;Yb.m=function(x){x=/^(#......)(..)?/.exec(x);var F=x[2]?n(x[2],0)/255:1;this.O.m(x[1],F)};Yb.M=function(x){this.A=this.B[x]||(this.B[x]=
new za)};Yb.N=function(){};Yb.g=function(x){this.A.g(x)};Yb.h=function(x,F,O){this.A.h(x,F,O)};Yb.finish=function(){var x=this.B,F;for(F in x)x.hasOwnProperty(F)&&this.O.P(F,x[F].v)};var Wa={R:"http://www.w3.org/2000/svg",S:"width",T:"height"};Yb=gb.prototype;Yb.m=function(x,F){F&&(this.C+='\x3crect width\x3d"100%" height\x3d"100%" fill\x3d"'+x+'" opacity\x3d"'+F.toFixed(2)+'"/\x3e')};Yb.P=function(x,F){this.C+='\x3cpath fill\x3d"'+x+'" d\x3d"'+F+'"/\x3e'};Yb.toString=function(){return this.C+"\x3c/svg\x3e"};
var jb={U:"data-jdenticon-hash",D:"data-jdenticon-value"},Xa="["+jb.U+"],["+jb.D+"]",Q="undefined"!==typeof document&&document.querySelectorAll.bind(document);Yb=Ua.prototype;Yb.m=function(x,F){F&&xa(this.V,"rect",Wa.S,"100%",Wa.T,"100%","fill",x,"opacity",F)};Yb.P=function(x,F){xa(this.V,"path","fill",x,"d",F)};Ra=Yb=function(){Q&&Ja(Xa)};Yb.configure=function(x){arguments.length&&(Ra[La.n]=x);return Ra[La.n]};Yb.drawIcon=function(x,F,O,K){if(!x)throw Error("No canvas specified.");Ba(new kb(x,O),
Ca(F)||Sa(F),K)};Yb.toSvg=function(x,F,O){F=new gb(F);Ba(new Ea(F),Ca(x)||Sa(x),O);return F.toString()};Yb.update=Ja;Yb.updateCanvas=function(x,F,O){da(x,F,O,function(K,ka){if(2==ka)return new kb(K.getContext("2d"))})};Yb.updateSvg=function(x,F,O){da(x,F,O,function(K,ka){if(1==ka)return new Ea(new Ua(K))})};Yb.version="3.1.0";Yb.bundle="browser-cjs";Lc.exports=Yb};
shadow$provide[16]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?Lc.exports=v():"function"===typeof define&&define.amd?define(v):(n="undefined"!==typeof globalThis?globalThis:n||self,n.marked=v())})(this,function(){function n(B,E){for(var z=0;z<E.length;z++){var aa=E[z];aa.enumerable=aa.enumerable||!1;aa.configurable=!0;"value"in aa&&(aa.writable=!0);Object.defineProperty(B,aa.key,aa)}}function v(B,E,z){E&&n(B.prototype,E);z&&n(B,z);return B}function Y(B,E){if(B){if("string"===
typeof B)return Qa(B,E);var z=Object.prototype.toString.call(B).slice(8,-1);"Object"===z&&B.constructor&&(z=B.constructor.name);if("Map"===z||"Set"===z)return Array.from(B);if("Arguments"===z||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(z))return Qa(B,E)}}function Qa(B,E){if(null==E||E>B.length)E=B.length;for(var z=0,aa=Array(E);z<E;z++)aa[z]=B[z];return aa}function Qb(B,E){var z;if("undefined"===typeof Symbol||null==B[Symbol.iterator]){if(Array.isArray(B)||(z=Y(B))||E&&B&&"number"===typeof B.length){z&&
(B=z);var aa=0;return function(){return aa>=B.length?{done:!0}:{done:!1,value:B[aa++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}z=B[Symbol.iterator]();return z.next.bind(z)}function db(B){return B.replace(gb,function(E,z){z=z.toLowerCase();return"colon"===z?":":"#"===z.charAt(0)?"x"===z.charAt(1)?String.fromCharCode(parseInt(z.substring(2),16)):String.fromCharCode(+z.substring(1)):
""})}function pb(B,E,z){var aa=B.length;if(0===aa)return"";for(var sa=0;sa<aa;){var fa=B.charAt(aa-sa-1);if(fa!==E||z)if(fa!==E&&z)sa++;else break;else sa++}return B.substr(0,aa-sa)}function Ib(B,E,z){var aa=E.href;E=E.title?Q(E.title):null;var sa=B[1].replace(/\\([\[\]])/g,"$1");return"!"!==B[0].charAt(0)?{type:"link",raw:z,href:aa,title:E,text:sa}:{type:"image",raw:z,href:aa,title:E,text:Q(sa)}}function Ab(B,E){B=B.match(/^(\s+)(?:```)/);if(null===B)return E;var z=B[1];return E.split("\n").map(function(aa){var sa=
aa.match(/^\s+/);return null===sa?aa:sa[0].length>=z.length?aa.slice(z.length):aa}).join("\n")}function Va(B){return B.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function nb(B){var E="",z,aa=B.length;for(z=0;z<aa;z++){var sa=B.charCodeAt(z);.5<Math.random()&&(sa="x"+sa.toString(16));E+="\x26#"+sa+";"}return E}function mb(B,E,z){if("undefined"===typeof B||null===
B)throw Error("marked(): input parameter is undefined or null");if("string"!==typeof B)throw Error("marked(): input parameter is of type "+Object.prototype.toString.call(B)+", string expected");"function"===typeof E&&(z=E,E=null);E=u({},mb.defaults,E||{});l(E);if(z){var aa=E.highlight;try{var sa=Ya.lex(B,E)}catch(W){return z(W)}var fa=function(W){if(!W)try{var na=t.parse(sa,E)}catch($a){W=$a}E.highlight=aa;return W?z(W):z(null,na)};if(!aa||3>aa.length)return fa();delete E.highlight;if(!sa.length)return fa();
var Na=0;mb.walkTokens(sa,function(W){"code"===W.type&&(Na++,setTimeout(function(){aa(W.text,W.lang,function(na,$a){if(na)return fa(na);null!=$a&&$a!==W.text&&(W.text=$a,W.escaped=!0);Na--;0===Na&&fa()})},0))});0===Na&&fa()}else try{var Da=Ya.lex(B,E);E.walkTokens&&mb.walkTokens(Da,E.walkTokens);return t.parse(Da,E)}catch(W){W.message+="\nPlease report this to https://github.com/markedjs/marked.";if(E.silent)return"\x3cp\x3eAn error occurred:\x3c/p\x3e\x3cpre\x3e"+p(W.message+"",!0)+"\x3c/pre\x3e";
throw W;}}var Pa=function(B,E){return E={exports:{}},B(E,E.exports),E.exports}(function(B){function E(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}B.exports={defaults:E(),getDefaults:E,changeDefaults:function(z){B.exports.defaults=z}}}),Ba=/[&<>"']/,Ca=/[&<>"']/g,Sa=/[<>"']|&(?!#?\w+;)/,kb=/[<>"']|&(?!#?\w+;)/g,
za={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#39;"},Ea=function(B){return za[B]},gb=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,xa=/(^|[^\[])\^/g,Ua=/[^\w:]/g,Ja=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,da={},wa=/^[^:]+:\/*[^/]*$/,La=/^([^:]+:)[\s\S]*$/,Ra=/^([^:]+:\/*[^/]*)[\s\S]*$/,fb=function(B,E){if(E){if(Ba.test(B))return B.replace(Ca,Ea)}else if(Sa.test(B))return B.replace(kb,Ea);return B},Wa=function(B){for(var E=1,z,aa;E<arguments.length;E++)for(aa in z=arguments[E],
z)Object.prototype.hasOwnProperty.call(z,aa)&&(B[aa]=z[aa]);return B},jb=Pa.defaults,Xa=function(B,E){B=B.replace(/\|/g,function(aa,sa,fa){for(aa=!1;0<=--sa&&"\\"===fa[sa];)aa=!aa;return aa?"|":" |"}).split(/ \|/);var z=0;if(B.length>E)B.splice(E);else for(;B.length<E;)B.push("");for(;z<B.length;z++)B[z]=B[z].trim().replace(/\\\|/g,"|");return B},Q=fb,x=function(){function B(z){this.options=z||jb}var E=B.prototype;E.space=function(z){if(z=this.rules.block.newline.exec(z))return 1<z[0].length?{type:"space",
raw:z[0]}:{raw:"\n"}};E.code=function(z,aa){if(z=this.rules.block.code.exec(z)){if((aa=aa[aa.length-1])&&"paragraph"===aa.type)return{raw:z[0],text:z[0].trimRight()};aa=z[0].replace(/^ {4}/gm,"");return{type:"code",raw:z[0],codeBlockStyle:"indented",text:this.options.pedantic?aa:pb(aa,"\n")}}};E.fences=function(z){if(z=this.rules.block.fences.exec(z)){var aa=z[0],sa=Ab(aa,z[3]||"");return{type:"code",raw:aa,lang:z[2]?z[2].trim():z[2],text:sa}}};E.heading=function(z){if(z=this.rules.block.heading.exec(z)){var aa=
z[2].trim();if(/#$/.test(aa)){var sa=pb(aa,"#");if(this.options.pedantic)aa=sa.trim();else if(!sa||/ $/.test(sa))aa=sa.trim()}return{type:"heading",raw:z[0],depth:z[1].length,text:aa}}};E.nptable=function(z){if(z=this.rules.block.nptable.exec(z))if(z={type:"table",header:Xa(z[1].replace(/^ *| *\| *$/g,"")),align:z[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:z[3]?z[3].replace(/\n$/,"").split("\n"):[],raw:z[0]},z.header.length===z.align.length){var aa=z.align.length,sa;for(sa=0;sa<aa;sa++)/^ *-+: *$/.test(z.align[sa])?
z.align[sa]="right":/^ *:-+: *$/.test(z.align[sa])?z.align[sa]="center":/^ *:-+ *$/.test(z.align[sa])?z.align[sa]="left":z.align[sa]=null;aa=z.cells.length;for(sa=0;sa<aa;sa++)z.cells[sa]=Xa(z.cells[sa],z.header.length);return z}};E.hr=function(z){if(z=this.rules.block.hr.exec(z))return{type:"hr",raw:z[0]}};E.blockquote=function(z){if(z=this.rules.block.blockquote.exec(z)){var aa=z[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:z[0],text:aa}}};E.list=function(z){var aa=this.rules.block.list.exec(z);
if(aa){z=aa[0];var sa=aa[2],fa=1<sa.length,Na={type:"list",raw:z,ordered:fa,start:fa?+sa.slice(0,-1):"",loose:!1,items:[]};aa=aa[0].match(this.rules.block.item);var Da=!1,W,na=aa.length;var $a=this.rules.block.listItemStart.exec(aa[0]);for(var sb=0;sb<na;sb++){z=W=aa[sb];if(sb!==na-1){var Db=this.rules.block.listItemStart.exec(aa[sb+1]);if(Db[1].length>$a[0].length||3<Db[1].length){aa.splice(sb,2,aa[sb]+"\n"+aa[sb+1]);sb--;na--;continue}else if(!this.options.pedantic||this.options.smartLists?Db[2][Db[2].length-
1]!==sa[sa.length-1]:fa===(1===Db[2].length))$a=aa.slice(sb+1).join("\n"),Na.raw=Na.raw.substring(0,Na.raw.length-$a.length),sb=na-1;$a=Db}Db=W.length;W=W.replace(/^ *([*+-]|\d+[.)]) ?/,"");~W.indexOf("\n ")&&(Db-=W.length,W=this.options.pedantic?W.replace(/^ {1,4}/gm,""):W.replace(new RegExp("^ {1,"+Db+"}","gm"),""));Db=Da||/\n\n(?!\s*$)/.test(W);sb!==na-1&&(Da="\n"===W.charAt(W.length-1),Db||(Db=Da));Db&&(Na.loose=!0);if(this.options.gfm){var Xb=/^\[[ xX]\] /.test(W);var vc=void 0;Xb&&(vc=" "!==
W[1],W=W.replace(/^\[[ xX]\] +/,""))}Na.items.push({type:"list_item",raw:z,task:Xb,checked:vc,loose:Db,text:W})}return Na}};E.html=function(z){if(z=this.rules.block.html.exec(z))return{type:this.options.sanitize?"paragraph":"html",raw:z[0],pre:!this.options.sanitizer&&("pre"===z[1]||"script"===z[1]||"style"===z[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(z[0]):Q(z[0]):z[0]}};E.def=function(z){if(z=this.rules.block.def.exec(z))return z[3]&&(z[3]=z[3].substring(1,z[3].length-
1)),{tag:z[1].toLowerCase().replace(/\s+/g," "),raw:z[0],href:z[2],title:z[3]}};E.table=function(z){var aa=this.rules.block.table.exec(z);if(aa&&(z={type:"table",header:Xa(aa[1].replace(/^ *| *\| *$/g,"")),align:aa[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:aa[3]?aa[3].replace(/\n$/,"").split("\n"):[]},z.header.length===z.align.length)){z.raw=aa[0];aa=z.align.length;var sa;for(sa=0;sa<aa;sa++)/^ *-+: *$/.test(z.align[sa])?z.align[sa]="right":/^ *:-+: *$/.test(z.align[sa])?z.align[sa]="center":
/^ *:-+ *$/.test(z.align[sa])?z.align[sa]="left":z.align[sa]=null;aa=z.cells.length;for(sa=0;sa<aa;sa++)z.cells[sa]=Xa(z.cells[sa].replace(/^ *\| *| *\| *$/g,""),z.header.length);return z}};E.lheading=function(z){if(z=this.rules.block.lheading.exec(z))return{type:"heading",raw:z[0],depth:"\x3d"===z[2].charAt(0)?1:2,text:z[1]}};E.paragraph=function(z){if(z=this.rules.block.paragraph.exec(z))return{type:"paragraph",raw:z[0],text:"\n"===z[1].charAt(z[1].length-1)?z[1].slice(0,-1):z[1]}};E.text=function(z,
aa){if(z=this.rules.block.text.exec(z))return(aa=aa[aa.length-1])&&"text"===aa.type?{raw:z[0],text:z[0]}:{type:"text",raw:z[0],text:z[0]}};E.escape=function(z){if(z=this.rules.inline.escape.exec(z))return{type:"escape",raw:z[0],text:Q(z[1])}};E.tag=function(z,aa,sa){if(z=this.rules.inline.tag.exec(z))return!aa&&/^<a /i.test(z[0])?aa=!0:aa&&/^<\/a>/i.test(z[0])&&(aa=!1),!sa&&/^<(pre|code|kbd|script)(\s|>)/i.test(z[0])?sa=!0:sa&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(z[0])&&(sa=!1),{type:this.options.sanitize?
"text":"html",raw:z[0],inLink:aa,inRawBlock:sa,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(z[0]):Q(z[0]):z[0]}};E.link=function(z){if(z=this.rules.inline.link.exec(z)){var aa=z[2].trim();if(!this.options.pedantic&&/^</.test(aa)){if(!/>$/.test(aa))return;var sa=pb(aa.slice(0,-1),"\\");if(0===(aa.length-sa.length)%2)return}else{a:{sa=z[2];if(-1!==sa.indexOf(")"))for(var fa=sa.length,Na=0,Da=0;Da<fa;Da++)if("\\"===sa[Da])Da++;else if("("===sa[Da])Na++;else if(")"===sa[Da]&&
(Na--,0>Na)){sa=Da;break a}sa=-1}-1<sa&&(fa=(0===z[0].indexOf("!")?5:4)+z[1].length+sa,z[2]=z[2].substring(0,sa),z[0]=z[0].substring(0,fa).trim(),z[3]="")}sa=z[2];fa="";if(this.options.pedantic){if(Na=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(sa))sa=Na[1],fa=Na[3]}else fa=z[3]?z[3].slice(1,-1):"";sa=sa.trim();/^</.test(sa)&&(sa=this.options.pedantic&&!/>$/.test(aa)?sa.slice(1):sa.slice(1,-1));return Ib(z,{href:sa?sa.replace(this.rules.inline._escapes,"$1"):sa,title:fa?fa.replace(this.rules.inline._escapes,
"$1"):fa},z[0])}};E.reflink=function(z,aa){var sa;if((sa=this.rules.inline.reflink.exec(z))||(sa=this.rules.inline.nolink.exec(z)))return z=(sa[2]||sa[1]).replace(/\s+/g," "),z=aa[z.toLowerCase()],z&&z.href?Ib(sa,z,sa[0]):(aa=sa[0].charAt(0),{type:"text",raw:aa,text:aa})};E.strong=function(z,aa,sa){void 0===sa&&(sa="");var fa=this.rules.inline.strong.start.exec(z);if(fa&&(!fa[1]||fa[1]&&(""===sa||this.rules.inline.punctuation.exec(sa))))for(aa=aa.slice(-1*z.length),sa="**"===fa[0]?this.rules.inline.strong.endAst:
this.rules.inline.strong.endUnd,sa.lastIndex=0;null!=(fa=sa.exec(aa));)if(fa=this.rules.inline.strong.middle.exec(aa.slice(0,fa.index+3)))return{type:"strong",raw:z.slice(0,fa[0].length),text:z.slice(2,fa[0].length-2)}};E.em=function(z,aa,sa){void 0===sa&&(sa="");var fa=this.rules.inline.em.start.exec(z);if(fa&&(!fa[1]||fa[1]&&(""===sa||this.rules.inline.punctuation.exec(sa))))for(aa=aa.slice(-1*z.length),sa="*"===fa[0]?this.rules.inline.em.endAst:this.rules.inline.em.endUnd,sa.lastIndex=0;null!=
(fa=sa.exec(aa));)if(fa=this.rules.inline.em.middle.exec(aa.slice(0,fa.index+2)))return{type:"em",raw:z.slice(0,fa[0].length),text:z.slice(1,fa[0].length-1)}};E.codespan=function(z){if(z=this.rules.inline.code.exec(z)){var aa=z[2].replace(/\n/g," "),sa=/[^ ]/.test(aa),fa=/^ /.test(aa)&&/ $/.test(aa);sa&&fa&&(aa=aa.substring(1,aa.length-1));aa=Q(aa,!0);return{type:"codespan",raw:z[0],text:aa}}};E.br=function(z){if(z=this.rules.inline.br.exec(z))return{type:"br",raw:z[0]}};E.del=function(z){if(z=this.rules.inline.del.exec(z))return{type:"del",
raw:z[0],text:z[2]}};E.autolink=function(z,aa){if(z=this.rules.inline.autolink.exec(z)){if("@"===z[2]){aa=Q(this.options.mangle?aa(z[1]):z[1]);var sa="mailto:"+aa}else sa=aa=Q(z[1]);return{type:"link",raw:z[0],text:aa,href:sa,tokens:[{type:"text",raw:aa,text:aa}]}}};E.url=function(z,aa){if(z=this.rules.inline.url.exec(z)){if("@"===z[2]){aa=Q(this.options.mangle?aa(z[0]):z[0]);var sa="mailto:"+aa}else{do aa=z[0],z[0]=this.rules.inline._backpedal.exec(z[0])[0];while(aa!==z[0]);aa=Q(z[0]);sa="www."===
z[1]?"http://"+aa:aa}return{type:"link",raw:z[0],text:aa,href:sa,tokens:[{type:"text",raw:aa,text:aa}]}}};E.inlineText=function(z,aa,sa){if(z=this.rules.inline.text.exec(z))return aa=aa?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(z[0]):Q(z[0]):z[0]:Q(this.options.smartypants?sa(z[0]):z[0]),{type:"text",raw:z[0],text:aa}};return B}(),F={exec:function(){}},O=function(B,E){B=B.source||B;E=E||"";var z={replace:function(aa,sa){sa=sa.source||sa;sa=sa.replace(xa,"$1");B=B.replace(aa,
sa);return z},getRegex:function(){return new RegExp(B,E)}};return z},K={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:\x3c(script|pre|style)[\\s\x3e][\\s\\S]*?(?:\x3c/\\1\x3e[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|\x3c\\?[\\s\\S]*?(?:\\?\x3e\\n*|$)|\x3c![A-Z][\\s\\S]*?(?:\x3e\\n*|$)|\x3c!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]\x3e\\n*|$)|\x3c/?(tag)(?: +|\\n|/?\x3e)[\\s\\S]*?(?:\\n{2,}|$)|\x3c(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?\x3e(?\x3d[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|\x3c/(?!script|pre|style)[a-z][\\w-]*\\s*\x3e(?\x3d[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",
def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:F,table:F,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};K.def=O(K.def).replace("label",K._label).replace("title",K._title).getRegex();K.bullet=/(?:[*+-]|\d{1,9}[.)])/;K.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/;
K.item=O(K.item,"gm").replace(/bull/g,K.bullet).getRegex();K.listItemStart=O(/^( *)(bull)/).replace("bull",K.bullet).getRegex();K.list=O(K.list).replace(/bull/g,K.bullet).replace("hr","\\n+(?\x3d\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?\x3d"+K.def.source+")").getRegex();K._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";
K._comment=/\x3c!--(?!-?>)[\s\S]*?(?:--\x3e|$)/;K.html=O(K.html,"i").replace("comment",K._comment).replace("tag",K._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();K.paragraph=O(K._paragraph).replace("hr",K.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}\x3e").replace("fences"," {0,3}(?:`{3,}(?\x3d[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","\x3c/?(?:tag)(?: +|\\n|/?\x3e)|\x3c(?:script|pre|style|!--)").replace("tag",
K._tag).getRegex();K.blockquote=O(K.blockquote).replace("paragraph",K.paragraph).getRegex();K.normal=Wa({},K);K.gfm=Wa({},K.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});K.gfm.nptable=O(K.gfm.nptable).replace("hr",K.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote",
" {0,3}\x3e").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?\x3d[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","\x3c/?(?:tag)(?: +|\\n|/?\x3e)|\x3c(?:script|pre|style|!--)").replace("tag",K._tag).getRegex();K.gfm.table=O(K.gfm.table).replace("hr",K.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}\x3e").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?\x3d[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html",
"\x3c/?(?:tag)(?: +|\\n|/?\x3e)|\x3c(?:script|pre|style|!--)").replace("tag",K._tag).getRegex();K.pedantic=Wa({},K.normal,{html:O("^ *(?:comment *(?:\\n|\\s*$)|\x3c(tag)[\\s\\S]+?\x3c/\\1\x3e *(?:\\n{2,}|\\s*$)|\x3ctag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/\x3e\\s]*)*?/?\x3e *(?:\\n{2,}|\\s*$))").replace("comment",K._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),
def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:F,paragraph:O(K.normal._paragraph).replace("hr",K.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",K.lheading).replace("blockquote"," {0,3}\x3e").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var ka={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:F,tag:"^comment|^\x3c/[a-zA-Z][\\w:-]*\\s*\x3e|^\x3c[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?\x3e|^\x3c\\?[\\s\\S]*?\\?\x3e|^\x3c![a-zA-Z]+\\s[\\s\\S]*?\x3e|^\x3c!\\[CDATA\\[[\\s\\S]*?\\]\\]\x3e",
link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",strong:{start:/^(?:(\*\*(?=[*punctuation]))|\*\*)(?![\s])|__/,middle:/^\*\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*\*$|^__(?![\s])((?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?)__$/,
endAst:/[^punctuation\s]\*\*(?!\*)|[punctuation]\*\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]__(?!_)(?:(?=[punctuation*\s])|$)/},em:{start:/^(?:(\*(?=[punctuation]))|\*)(?![*\s])|_/,middle:/^\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*$|^_(?![_\s])(?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?_$/,endAst:/[^punctuation\s]\*(?!\*)|[punctuation]\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]_(?!_)(?:(?=[punctuation*\s])|$)/},
code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:F,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\s*punctuation])/,_punctuation:"!\"#$%\x26'()+\\-.,/:;\x3c\x3d\x3e?@\\[\\]`^{|}~"};ka.punctuation=O(ka.punctuation).replace(/punctuation/g,ka._punctuation).getRegex();ka._blockSkip="\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|\x3c[^\x3e]*?\x3e";ka._overlapSkip="__[^_]*?__|\\*\\*\\[^\\*\\]*?\\*\\*";ka._comment=O(K._comment).replace("(?:--\x3e|$)",
"--\x3e").getRegex();ka.em.start=O(ka.em.start).replace(/punctuation/g,ka._punctuation).getRegex();ka.em.middle=O(ka.em.middle).replace(/punctuation/g,ka._punctuation).replace(/overlapSkip/g,ka._overlapSkip).getRegex();ka.em.endAst=O(ka.em.endAst,"g").replace(/punctuation/g,ka._punctuation).getRegex();ka.em.endUnd=O(ka.em.endUnd,"g").replace(/punctuation/g,ka._punctuation).getRegex();ka.strong.start=O(ka.strong.start).replace(/punctuation/g,ka._punctuation).getRegex();ka.strong.middle=O(ka.strong.middle).replace(/punctuation/g,
ka._punctuation).replace(/overlapSkip/g,ka._overlapSkip).getRegex();ka.strong.endAst=O(ka.strong.endAst,"g").replace(/punctuation/g,ka._punctuation).getRegex();ka.strong.endUnd=O(ka.strong.endUnd,"g").replace(/punctuation/g,ka._punctuation).getRegex();ka.blockSkip=O(ka._blockSkip,"g").getRegex();ka.overlapSkip=O(ka._overlapSkip,"g").getRegex();ka._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;ka._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;ka._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;
ka.autolink=O(ka.autolink).replace("scheme",ka._scheme).replace("email",ka._email).getRegex();ka._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;ka.tag=O(ka.tag).replace("comment",ka._comment).replace("attribute",ka._attribute).getRegex();ka._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;ka._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;ka._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;ka.link=O(ka.link).replace("label",ka._label).replace("href",
ka._href).replace("title",ka._title).getRegex();ka.reflink=O(ka.reflink).replace("label",ka._label).getRegex();ka.reflinkSearch=O(ka.reflinkSearch,"g").replace("reflink",ka.reflink).replace("nolink",ka.nolink).getRegex();ka.normal=Wa({},ka);ka.pedantic=Wa({},ka.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,
endUnd:/_(?!_)/g},link:O(/^!?\[(label)\]\((.*?)\)/).replace("label",ka._label).getRegex(),reflink:O(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ka._label).getRegex()});ka.gfm=Wa({},ka.normal,{escape:O(ka.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,
text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/});ka.gfm.url=O(ka.gfm.url,"i").replace("email",ka.gfm._extended_email).getRegex();ka.breaks=Wa({},ka.gfm,{br:O(ka.br).replace("{2,}","*").getRegex(),text:O(ka.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var ia=Pa.defaults,ma=function(B,E){if(1>
E)return"";for(var z="";1<E;)E&1&&(z+=B),E>>=1,B+=B;return z+B},Ya=function(){function B(z){this.tokens=[];this.tokens.links=Object.create(null);this.options=z||ia;this.options.tokenizer=this.options.tokenizer||new x;this.tokenizer=this.options.tokenizer;this.tokenizer.options=this.options;z={block:K.normal,inline:ka.normal};this.options.pedantic?(z.block=K.pedantic,z.inline=ka.pedantic):this.options.gfm&&(z.block=K.gfm,z.inline=this.options.breaks?ka.breaks:ka.gfm);this.tokenizer.rules=z}B.lex=function(z,
aa){return(new B(aa)).lex(z)};B.lexInline=function(z,aa){return(new B(aa)).inlineTokens(z)};var E=B.prototype;E.lex=function(z){z=z.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ");this.blockTokens(z,this.tokens,!0);this.inline(this.tokens);return this.tokens};E.blockTokens=function(z,aa,sa){void 0===aa&&(aa=[]);void 0===sa&&(sa=!0);z=z.replace(/^ +$/gm,"");for(var fa,Na,Da;z;)if(fa=this.tokenizer.space(z))z=z.substring(fa.raw.length),fa.type&&aa.push(fa);else if(fa=this.tokenizer.code(z,aa))z=z.substring(fa.raw.length),
fa.type?aa.push(fa):(Na=aa[aa.length-1],Na.raw+="\n"+fa.raw,Na.text+="\n"+fa.text);else if(fa=this.tokenizer.fences(z))z=z.substring(fa.raw.length),aa.push(fa);else if(fa=this.tokenizer.heading(z))z=z.substring(fa.raw.length),aa.push(fa);else if(fa=this.tokenizer.nptable(z))z=z.substring(fa.raw.length),aa.push(fa);else if(fa=this.tokenizer.hr(z))z=z.substring(fa.raw.length),aa.push(fa);else if(fa=this.tokenizer.blockquote(z))z=z.substring(fa.raw.length),fa.tokens=this.blockTokens(fa.text,[],sa),aa.push(fa);
else if(fa=this.tokenizer.list(z)){z=z.substring(fa.raw.length);Da=fa.items.length;for(Na=0;Na<Da;Na++)fa.items[Na].tokens=this.blockTokens(fa.items[Na].text,[],!1);aa.push(fa)}else if(fa=this.tokenizer.html(z))z=z.substring(fa.raw.length),aa.push(fa);else if(sa&&(fa=this.tokenizer.def(z)))z=z.substring(fa.raw.length),this.tokens.links[fa.tag]||(this.tokens.links[fa.tag]={href:fa.href,title:fa.title});else if(fa=this.tokenizer.table(z))z=z.substring(fa.raw.length),aa.push(fa);else if(fa=this.tokenizer.lheading(z))z=
z.substring(fa.raw.length),aa.push(fa);else if(sa&&(fa=this.tokenizer.paragraph(z)))z=z.substring(fa.raw.length),aa.push(fa);else if(fa=this.tokenizer.text(z,aa))z=z.substring(fa.raw.length),fa.type?aa.push(fa):(Na=aa[aa.length-1],Na.raw+="\n"+fa.raw,Na.text+="\n"+fa.text);else if(z)if(z="Infinite loop on byte: "+z.charCodeAt(0),this.options.silent){console.error(z);break}else throw Error(z);return aa};E.inline=function(z){var aa,sa,fa,Na=z.length;for(aa=0;aa<Na;aa++){var Da=z[aa];switch(Da.type){case "paragraph":case "text":case "heading":Da.tokens=
[];this.inlineTokens(Da.text,Da.tokens);break;case "table":Da.tokens={header:[],cells:[]};var W=Da.header.length;for(sa=0;sa<W;sa++)Da.tokens.header[sa]=[],this.inlineTokens(Da.header[sa],Da.tokens.header[sa]);W=Da.cells.length;for(sa=0;sa<W;sa++){var na=Da.cells[sa];Da.tokens.cells[sa]=[];for(fa=0;fa<na.length;fa++)Da.tokens.cells[sa][fa]=[],this.inlineTokens(na[fa],Da.tokens.cells[sa][fa])}break;case "blockquote":this.inline(Da.tokens);break;case "list":for(W=Da.items.length,sa=0;sa<W;sa++)this.inline(Da.items[sa].tokens)}}return z};
E.inlineTokens=function(z,aa,sa,fa){void 0===aa&&(aa=[]);void 0===sa&&(sa=!1);void 0===fa&&(fa=!1);var Na,Da=z,W;if(this.tokens.links){var na=Object.keys(this.tokens.links);if(0<na.length)for(;null!=(Na=this.tokenizer.rules.inline.reflinkSearch.exec(Da));)na.includes(Na[0].slice(Na[0].lastIndexOf("[")+1,-1))&&(Da=Da.slice(0,Na.index)+"["+ma("a",Na[0].length-2)+"]"+Da.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(Na=this.tokenizer.rules.inline.blockSkip.exec(Da));)Da=Da.slice(0,
Na.index)+"["+ma("a",Na[0].length-2)+"]"+Da.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;z;){$a||(W="");var $a=!1;if(Na=this.tokenizer.escape(z))z=z.substring(Na.raw.length),aa.push(Na);else if(Na=this.tokenizer.tag(z,sa,fa))z=z.substring(Na.raw.length),sa=Na.inLink,fa=Na.inRawBlock,aa.push(Na);else if(Na=this.tokenizer.link(z))z=z.substring(Na.raw.length),"link"===Na.type&&(Na.tokens=this.inlineTokens(Na.text,[],!0,fa)),aa.push(Na);else if(Na=this.tokenizer.reflink(z,this.tokens.links))z=
z.substring(Na.raw.length),"link"===Na.type&&(Na.tokens=this.inlineTokens(Na.text,[],!0,fa)),aa.push(Na);else if(Na=this.tokenizer.strong(z,Da,W))z=z.substring(Na.raw.length),Na.tokens=this.inlineTokens(Na.text,[],sa,fa),aa.push(Na);else if(Na=this.tokenizer.em(z,Da,W))z=z.substring(Na.raw.length),Na.tokens=this.inlineTokens(Na.text,[],sa,fa),aa.push(Na);else if(Na=this.tokenizer.codespan(z))z=z.substring(Na.raw.length),aa.push(Na);else if(Na=this.tokenizer.br(z))z=z.substring(Na.raw.length),aa.push(Na);
else if(Na=this.tokenizer.del(z))z=z.substring(Na.raw.length),Na.tokens=this.inlineTokens(Na.text,[],sa,fa),aa.push(Na);else if(Na=this.tokenizer.autolink(z,nb))z=z.substring(Na.raw.length),aa.push(Na);else if(!sa&&(Na=this.tokenizer.url(z,nb)))z=z.substring(Na.raw.length),aa.push(Na);else if(Na=this.tokenizer.inlineText(z,fa,Va))z=z.substring(Na.raw.length),W=Na.raw.slice(-1),$a=!0,aa.push(Na);else if(z)if(z="Infinite loop on byte: "+z.charCodeAt(0),this.options.silent){console.error(z);break}else throw Error(z);
}return aa};v(B,null,[{key:"rules",get:function(){return{block:K,inline:ka}}}]);return B}(),Za=Pa.defaults,S=function(B,E,z){if(B){try{var aa=decodeURIComponent(db(z)).replace(Ua,"").toLowerCase()}catch(sa){return null}if(0===aa.indexOf("javascript:")||0===aa.indexOf("vbscript:")||0===aa.indexOf("data:"))return null}E&&!Ja.test(z)&&(B=E,da[" "+B]||(wa.test(B)?da[" "+B]=B+"/":da[" "+B]=pb(B,"/",!0)),B=da[" "+B],E=-1===B.indexOf(":"),z="//"===z.substring(0,2)?E?z:B.replace(La,"$1")+z:"/"===z.charAt(0)?
E?z:B.replace(Ra,"$1")+z:B+z);try{z=encodeURI(z).replace(/%25/g,"%")}catch(sa){return null}return z},qa=function(){function B(z){this.options=z||Za}var E=B.prototype;E.code=function(z,aa,sa){aa=(aa||"").match(/\S*/)[0];if(this.options.highlight){var fa=this.options.highlight(z,aa);null!=fa&&fa!==z&&(sa=!0,z=fa)}return aa?'\x3cpre\x3e\x3ccode class\x3d"'+this.options.langPrefix+fb(aa,!0)+'"\x3e'+(sa?z:fb(z,!0))+"\x3c/code\x3e\x3c/pre\x3e\n":"\x3cpre\x3e\x3ccode\x3e"+(sa?z:fb(z,!0))+"\x3c/code\x3e\x3c/pre\x3e\n"};
E.blockquote=function(z){return"\x3cblockquote\x3e\n"+z+"\x3c/blockquote\x3e\n"};E.html=function(z){return z};E.heading=function(z,aa,sa,fa){return this.options.headerIds?"\x3ch"+aa+' id\x3d"'+this.options.headerPrefix+fa.slug(sa)+'"\x3e'+z+"\x3c/h"+aa+"\x3e\n":"\x3ch"+aa+"\x3e"+z+"\x3c/h"+aa+"\x3e\n"};E.hr=function(){return this.options.xhtml?"\x3chr/\x3e\n":"\x3chr\x3e\n"};E.list=function(z,aa,sa){var fa=aa?"ol":"ul";return"\x3c"+fa+(aa&&1!==sa?' start\x3d"'+sa+'"':"")+"\x3e\n"+z+"\x3c/"+fa+"\x3e\n"};
E.listitem=function(z){return"\x3cli\x3e"+z+"\x3c/li\x3e\n"};E.checkbox=function(z){return"\x3cinput "+(z?'checked\x3d"" ':"")+'disabled\x3d"" type\x3d"checkbox"'+(this.options.xhtml?" /":"")+"\x3e "};E.paragraph=function(z){return"\x3cp\x3e"+z+"\x3c/p\x3e\n"};E.table=function(z,aa){aa&&(aa="\x3ctbody\x3e"+aa+"\x3c/tbody\x3e");return"\x3ctable\x3e\n\x3cthead\x3e\n"+z+"\x3c/thead\x3e\n"+aa+"\x3c/table\x3e\n"};E.tablerow=function(z){return"\x3ctr\x3e\n"+z+"\x3c/tr\x3e\n"};E.tablecell=function(z,aa){var sa=
aa.header?"th":"td";return(aa.align?"\x3c"+sa+' align\x3d"'+aa.align+'"\x3e':"\x3c"+sa+"\x3e")+z+"\x3c/"+sa+"\x3e\n"};E.strong=function(z){return"\x3cstrong\x3e"+z+"\x3c/strong\x3e"};E.em=function(z){return"\x3cem\x3e"+z+"\x3c/em\x3e"};E.codespan=function(z){return"\x3ccode\x3e"+z+"\x3c/code\x3e"};E.br=function(){return this.options.xhtml?"\x3cbr/\x3e":"\x3cbr\x3e"};E.del=function(z){return"\x3cdel\x3e"+z+"\x3c/del\x3e"};E.link=function(z,aa,sa){z=S(this.options.sanitize,this.options.baseUrl,z);if(null===
z)return sa;z='\x3ca href\x3d"'+fb(z)+'"';aa&&(z+=' title\x3d"'+aa+'"');return z+("\x3e"+sa+"\x3c/a\x3e")};E.image=function(z,aa,sa){z=S(this.options.sanitize,this.options.baseUrl,z);if(null===z)return sa;z='\x3cimg src\x3d"'+z+'" alt\x3d"'+sa+'"';aa&&(z+=' title\x3d"'+aa+'"');return z+=this.options.xhtml?"/\x3e":"\x3e"};E.text=function(z){return z};return B}(),ta=function(){function B(){}var E=B.prototype;E.strong=function(z){return z};E.em=function(z){return z};E.codespan=function(z){return z};
E.del=function(z){return z};E.html=function(z){return z};E.text=function(z){return z};E.link=function(z,aa,sa){return""+sa};E.image=function(z,aa,sa){return""+sa};E.br=function(){return""};return B}(),ha=function(){function B(){this.seen={}}var E=B.prototype;E.serialize=function(z){return z.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")};E.getNextSafeSlug=function(z,aa){var sa=z,fa=0;if(this.seen.hasOwnProperty(sa)){fa=
this.seen[z];do fa++,sa=z+"-"+fa;while(this.seen.hasOwnProperty(sa))}aa||(this.seen[z]=fa,this.seen[sa]=0);return sa};E.slug=function(z,aa){void 0===aa&&(aa={});z=this.serialize(z);return this.getNextSafeSlug(z,aa.dryrun)};return B}(),P=Pa.defaults,t=function(){function B(z){this.options=z||P;this.options.renderer=this.options.renderer||new qa;this.renderer=this.options.renderer;this.renderer.options=this.options;this.textRenderer=new ta;this.slugger=new ha}B.parse=function(z,aa){return(new B(aa)).parse(z)};
B.parseInline=function(z,aa){return(new B(aa)).parseInline(z)};var E=B.prototype;E.parse=function(z,aa){void 0===aa&&(aa=!0);var sa="",fa,Na,Da,W,na=z.length;for(fa=0;fa<na;fa++){var $a=z[fa];switch($a.type){case "space":continue;case "hr":sa+=this.renderer.hr();continue;case "heading":sa+=this.renderer.heading(this.parseInline($a.tokens),$a.depth,db(this.parseInline($a.tokens,this.textRenderer)),this.slugger);continue;case "code":sa+=this.renderer.code($a.text,$a.lang,$a.escaped);continue;case "table":var sb=
W="";var Db=$a.header.length;for(Na=0;Na<Db;Na++)sb+=this.renderer.tablecell(this.parseInline($a.tokens.header[Na]),{header:!0,align:$a.align[Na]});W+=this.renderer.tablerow(sb);var Xb="";Db=$a.cells.length;for(Na=0;Na<Db;Na++){var vc=$a.tokens.cells[Na];sb="";var Vc=vc.length;for(Da=0;Da<Vc;Da++)sb+=this.renderer.tablecell(this.parseInline(vc[Da]),{header:!1,align:$a.align[Da]});Xb+=this.renderer.tablerow(sb)}sa+=this.renderer.table(W,Xb);continue;case "blockquote":Xb=this.parse($a.tokens);sa+=this.renderer.blockquote(Xb);
continue;case "list":Da=$a.ordered;Vc=$a.start;vc=$a.loose;Db=$a.items.length;Xb="";for(Na=0;Na<Db;Na++){W=$a.items[Na];var tc=W.checked;var Hc=W.task;sb="";if(W.task){var Ma=this.renderer.checkbox(tc);vc?0<W.tokens.length&&"text"===W.tokens[0].type?(W.tokens[0].text=Ma+" "+W.tokens[0].text,W.tokens[0].tokens&&0<W.tokens[0].tokens.length&&"text"===W.tokens[0].tokens[0].type&&(W.tokens[0].tokens[0].text=Ma+" "+W.tokens[0].tokens[0].text)):W.tokens.unshift({type:"text",text:Ma}):sb+=Ma}sb+=this.parse(W.tokens,
vc);Xb+=this.renderer.listitem(sb,Hc,tc)}sa+=this.renderer.list(Xb,Da,Vc);continue;case "html":sa+=this.renderer.html($a.text);continue;case "paragraph":sa+=this.renderer.paragraph(this.parseInline($a.tokens));continue;case "text":for(Xb=$a.tokens?this.parseInline($a.tokens):$a.text;fa+1<na&&"text"===z[fa+1].type;)$a=z[++fa],Xb+="\n"+($a.tokens?this.parseInline($a.tokens):$a.text);sa+=aa?this.renderer.paragraph(Xb):Xb;continue;default:z='Token with "'+$a.type+'" type was not found.';if(this.options.silent){console.error(z);
return}throw Error(z);}}return sa};E.parseInline=function(z,aa){aa=aa||this.renderer;var sa="",fa,Na=z.length;for(fa=0;fa<Na;fa++){var Da=z[fa];switch(Da.type){case "escape":sa+=aa.text(Da.text);break;case "html":sa+=aa.html(Da.text);break;case "link":sa+=aa.link(Da.href,Da.title,this.parseInline(Da.tokens,aa));break;case "image":sa+=aa.image(Da.href,Da.title,Da.text);break;case "strong":sa+=aa.strong(this.parseInline(Da.tokens,aa));break;case "em":sa+=aa.em(this.parseInline(Da.tokens,aa));break;
case "codespan":sa+=aa.codespan(Da.text);break;case "br":sa+=aa.br();break;case "del":sa+=aa.del(this.parseInline(Da.tokens,aa));break;case "text":sa+=aa.text(Da.text);break;default:z='Token with "'+Da.type+'" type was not found.';if(this.options.silent){console.error(z);return}throw Error(z);}}return sa};return B}(),u=Wa,l=function(B){B&&B.sanitize&&!B.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},
p=fb;Wa=Pa.getDefaults;var A=Pa.changeDefaults;Pa=Pa.defaults;mb.options=mb.setOptions=function(B){u(mb.defaults,B);A(mb.defaults);return mb};mb.getDefaults=Wa;mb.defaults=Pa;mb.use=function(B){var E=u({},B);B.renderer&&function(){var aa=mb.defaults.renderer||new qa,sa=function(Na){var Da=aa[Na];aa[Na]=function(){for(var W=arguments.length,na=Array(W),$a=0;$a<W;$a++)na[$a]=arguments[$a];W=B.renderer[Na].apply(aa,na);!1===W&&(W=Da.apply(aa,na));return W}},fa;for(fa in B.renderer)sa(fa);E.renderer=
aa}();B.tokenizer&&function(){var aa=mb.defaults.tokenizer||new x,sa=function(Na){var Da=aa[Na];aa[Na]=function(){for(var W=arguments.length,na=Array(W),$a=0;$a<W;$a++)na[$a]=arguments[$a];W=B.tokenizer[Na].apply(aa,na);!1===W&&(W=Da.apply(aa,na));return W}},fa;for(fa in B.tokenizer)sa(fa);E.tokenizer=aa}();if(B.walkTokens){var z=mb.defaults.walkTokens;E.walkTokens=function(aa){B.walkTokens(aa);z&&z(aa)}}mb.setOptions(E)};mb.walkTokens=function(B,E){B=Qb(B);for(var z;!(z=B()).done;)switch(z=z.value,
E(z),z.type){case "table":for(var aa=Qb(z.tokens.header),sa;!(sa=aa()).done;)mb.walkTokens(sa.value,E);for(z=Qb(z.tokens.cells);!(aa=z()).done;)for(aa=Qb(aa.value);!(sa=aa()).done;)mb.walkTokens(sa.value,E);break;case "list":mb.walkTokens(z.items,E);break;default:z.tokens&&mb.walkTokens(z.tokens,E)}};mb.parseInline=function(B,E){if("undefined"===typeof B||null===B)throw Error("marked.parseInline(): input parameter is undefined or null");if("string"!==typeof B)throw Error("marked.parseInline(): input parameter is of type "+
Object.prototype.toString.call(B)+", string expected");E=u({},mb.defaults,E||{});l(E);try{var z=Ya.lexInline(B,E);E.walkTokens&&mb.walkTokens(z,E.walkTokens);return t.parseInline(z,E)}catch(aa){aa.message+="\nPlease report this to https://github.com/markedjs/marked.";if(E.silent)return"\x3cp\x3eAn error occurred:\x3c/p\x3e\x3cpre\x3e"+p(aa.message+"",!0)+"\x3c/pre\x3e";throw aa;}};mb.Parser=t;mb.parser=t.parse;mb.Renderer=qa;mb.TextRenderer=ta;mb.Lexer=Ya;mb.lexer=Ya.lex;mb.Tokenizer=x;mb.Slugger=
ha;return mb.parse=mb})};
shadow$provide[17]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc):"function"===typeof define&&define.amd?define(["exports"],v):(n="undefined"!==typeof globalThis?globalThis:n||self,v(n.vega={}))})(this,function(n){function v(P,t,u){P.fields=t||[];P.fname=u;return P}function Y(P){return null==P?null:P.fields}function Qa(P){return 1===P.length?wa(P[0]):La(P)}function Qb(P){throw Error(P);}function db(P){function t(){u.push(B+P.substring(E,z));B="";E=z+1}const u=
[],l=P.length;let p=null,A=0,B="",E,z,aa;P+="";for(E=z=0;z<l;++z)(aa=P[z],"\\"===aa)?(B+=P.substring(E,z),B+=P.substring(++z,++z),E=z):aa===p?(t(),p=null,A=-1):p||(E===A&&'"'===aa?(E=z+1,p=aa):E===A&&"'"===aa?(E=z+1,p=aa):"."!==aa||A?"["===aa?(z>E&&t(),A=E=z+1):"]"===aa&&(A||Qb("Access path missing open bracket: "+P),0<A&&t(),A=0,E=z+1):z>E?t():E=z+1);A&&Qb("Access path missing closing bracket: "+P);p&&Qb("Access path missing closing quote: "+P);z>E&&(z++,t());return u}function pb(P,t,u){const l=
db(P);P=1===l.length?l[0]:P;return v((u&&u.get||Qa)(l),[P],t||P)}function Ib(P,t,u){t=[t].concat([].slice.call(u));console[P].apply(console,t)}function Ab(P){return P===Object(P)}function Va(P,t,u,l){if("__proto__"!==t){var p;if(Ab(u)&&!x(u))for(p in P=Ab(P[t])?P[t]:P[t]={},u)l&&(!0===l||l[p])?Va(P,p,u[p]):"__proto__"!==p&&(P[p]=u[p]);else P[t]=u}}function nb(P,t){function u(A){l[A.name]||(l[A.name]=1,p.push(A))}if(null==P)return t;const l={},p=[];t.forEach(u);P.forEach(u);return p}function mb(P){return P[P.length-
1]}function Pa(P){return null==P||""===P?null:+P}function Ba(P,t,u,l){const p=u(P[0]);P=u(mb(P));t*=P-p;return[l(p-t),l(P-t)]}function Ca(P,t,u,l,p){const A=l(P[0]);P=l(mb(P));t=null!=t?l(t):(A+P)/2;return[p(t+(A-t)*u),p(t+(P-t)*u)]}function Sa(P){return null!=P?x(P)?P:[P]:[]}function kb(P){return"function"===typeof P}function za(P){for(let t,u,l=1,p=arguments.length;l<p;++l)for(u in t=arguments[l],t)P[u]=t[u];return P}function Ea(P,t){return qa.call(P,t)}function gb(P){return"[object Date]"===Object.prototype.toString.call(P)}
function xa(P){return"number"===typeof P}function Ua(P){return"string"===typeof P}function Ja(P,t){let u="";for(;0<=--t;)u+=P;return u}function da(P){return x(P)?"["+P.map(da)+"]":Ab(P)||Ua(P)?JSON.stringify(P).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):P}const wa=P=>function(t){return t[P]},La=P=>{const t=P.length;return function(u){for(let l=0;l<t;++l)u=u[P[l]];return u}},Ra=pb("id"),fb=v(P=>P,[],"identity"),Wa=v(()=>0,[],"zero"),jb=v(()=>1,[],"one"),Xa=v(()=>!0,[],"true"),Q=v(()=>
!1,[],"false");var x=Array.isArray;const F=P=>t=>P*Math.exp(t),O=P=>t=>Math.log(P*t),K=P=>t=>Math.sign(t)*Math.log1p(Math.abs(t/P)),ka=P=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*P,ia=P=>t=>0>t?-Math.pow(-t,P):Math.pow(t,P),ma=(P,t)=>(P<t||null==P)&&null!=t?-1:(P>t||null==t)&&null!=P?1:(t=t instanceof Date?+t:t,P=P instanceof Date?+P:P)!==P&&t===t?-1:t!==t&&P===P?1:0,Ya=(P,t)=>1===P.length?Za(P[0],t[0]):S(P,t,P.length),Za=(P,t)=>function(u,l){return ma(P(u),P(l))*t},S=(P,t,u)=>{t.push(0);return function(l,
p){var A=0;let B=-1;for(;0===A&&++B<u;)A=P[B],A=ma(A(l),A(p));return A*t[B]}},qa=Object.prototype.hasOwnProperty,ta={},ha=P=>xa(P)?P:gb(P)?P:Date.parse(P);n.Debug=4;n.Error=1;n.Info=3;n.None=0;n.Warn=2;n.accessor=v;n.accessorFields=Y;n.accessorName=function(P){return null==P?null:P.fname};n.array=Sa;n.ascending=ma;n.clampRange=function(P,t,u){let l=P[0];P=P[1];let p;P<l&&(p=P,P=l,l=p);p=P-l;return p>=u-t?[t,u]:[l=Math.min(Math.max(l,t),u-p),l+p]};n.compare=function(P,t,u){u=u||{};t=Sa(t)||[];const l=
[],p=[],A={},B=u.comparator||Ya;Sa(P).forEach((E,z)=>{null!=E&&(l.push("descending"===t[z]?-1:1),p.push(E=kb(E)?E:pb(E,null,u)),(Y(E)||[]).forEach(aa=>A[aa]=1))});return 0===p.length?null:v(B(p,l),Object.keys(A))};n.constant=function(P){return kb(P)?P:()=>P};n.debounce=function(P,t){let u;return l=>{u&&clearTimeout(u);u=setTimeout(()=>(t(l),u=null),P)}};n.error=Qb;n.extend=za;n.extent=function(P,t){let u=0,l,p,A,B;if(P&&(l=P.length))if(null==t){for(p=P[u];u<l&&(null==p||p!==p);p=P[++u]);for(A=B=p;u<
l;++u)p=P[u],null!=p&&(p<A&&(A=p),p>B&&(B=p))}else{for(p=t(P[u]);u<l&&(null==p||p!==p);p=t(P[++u]));for(A=B=p;u<l;++u)p=t(P[u]),null!=p&&(p<A&&(A=p),p>B&&(B=p))}return[A,B]};n.extentIndex=function(P,t){const u=P.length;let l=-1,p,A,B,E,z;if(null==t){for(;++l<u;)if(A=P[l],null!=A&&A>=A){p=B=A;break}if(l===u)return[-1,-1];for(E=z=l;++l<u;)A=P[l],null!=A&&(p>A&&(p=A,E=l),B<A&&(B=A,z=l))}else{for(;++l<u;)if(A=t(P[l],l,P),null!=A&&A>=A){p=B=A;break}if(l===u)return[-1,-1];for(E=z=l;++l<u;)A=t(P[l],l,P),
null!=A&&(p>A&&(p=A,E=l),B<A&&(B=A,z=l))}return[E,z]};n.falsy=Q;n.fastmap=function(P){function t(A){return Ea(u,A)&&u[A]!==ta}let u={},l;const p={size:0,empty:0,object:u,has:t,get(A){return t(A)?u[A]:void 0},set(A,B){t(A)||(++p.size,u[A]===ta&&--p.empty);u[A]=B;return this},delete(A){t(A)&&(--p.size,++p.empty,u[A]=ta);return this},clear(){p.size=p.empty=0;p.object=u={}},test(A){return arguments.length?(l=A,p):l},clean(){const A={};let B=0;for(const E in u){const z=u[E];z===ta||l&&l(z)||(A[E]=z,++B)}p.size=
B;p.empty=0;p.object=u=A}};P&&Object.keys(P).forEach(A=>{p.set(A,P[A])});return p};n.field=pb;n.flush=function(P,t,u,l,p,A){if(!u&&0!==u)return A;u=+u;let B=P[0],E=mb(P);E<B&&(P=B,B=E,E=P);P=Math.abs(t-B);t=Math.abs(E-t);return P<t&&P<=u?l:t<=u?p:A};n.hasOwnProperty=Ea;n.id=Ra;n.identity=fb;n.inherits=function(P,t,u){t=P.prototype=Object.create(t.prototype);t.constructor=P;return za(t,u)};n.inrange=function(P,t,u,l){let p=t[0];t=t[t.length-1];let A;p>t&&(A=p,p=t,t=A);return(void 0===u||u?p<=P:p<P)&&
(void 0===l||l?P<=t:P<t)};n.isArray=x;n.isBoolean=function(P){return"boolean"===typeof P};n.isDate=gb;n.isFunction=kb;n.isIterable=function(P){return P&&kb(P[Symbol.iterator])};n.isNumber=xa;n.isObject=Ab;n.isRegExp=function(P){return"[object RegExp]"===Object.prototype.toString.call(P)};n.isString=Ua;n.key=function(P,t,u){P&&(P=t?Sa(P).map(A=>A.replace(/\\(.)/g,"$1")):Sa(P));const l=P&&P.length,p=u&&u.get||Qa;u=A=>p(t?[A]:db(A));if(l)if(1===l){const A=u(P[0]);u=function(B){return""+A(B)}}else{const A=
P.map(u);u=function(B){let E=""+A[0](B),z=0;for(;++z<l;)E+="|"+A[z](B);return E}}else u=function(){return""};return v(u,P,"key")};n.lerp=function(P,t){const u=P[0];P=mb(P);return(t=+t)?1===t?P:u+t*(P-u):u};n.logger=function(P,t){let u=P||0;return{level(l){return arguments.length?(u=+l,this):u},error(){1<=u&&Ib(t||"error","ERROR",arguments);return this},warn(){2<=u&&Ib(t||"warn","WARN",arguments);return this},info(){3<=u&&Ib(t||"log","INFO",arguments);return this},debug(){4<=u&&Ib(t||"log","DEBUG",
arguments);return this}}};n.lruCache=function(P){P=+P||1E4;let t,u,l;const p=()=>{t={};u={};l=0},A=(B,E)=>{++l>P&&(u=t,t={},l=1);return t[B]=E};p();return{clear:p,has:B=>Ea(t,B)||Ea(u,B),get:B=>Ea(t,B)?t[B]:Ea(u,B)?A(B,u[B]):void 0,set:(B,E)=>Ea(t,B)?t[B]=E:A(B,E)}};n.merge=function(P,t,u,l){const p=t.length,A=u.length;if(!A)return t;if(!p)return u;l=l||new t.constructor(p+A);let B=0,E=0,z=0;for(;B<p&&E<A;++z)l[z]=0<P(t[B],u[E])?u[E++]:t[B++];for(;B<p;++B,++z)l[z]=t[B];for(;E<A;++E,++z)l[z]=u[E];
return l};n.mergeConfig=function(...P){return P.reduce((t,u)=>{for(const l in u)"signals"===l?t.signals=nb(t.signals,u.signals):Va(t,l,u[l],"legend"===l?{layout:1}:"style"===l?!0:null);return t},{})};n.one=jb;n.pad=function(P,t,u,l){u=u||" ";P+="";t-=P.length;return 0>=t?P:"left"===l?Ja(u,t)+P:"center"===l?Ja(u,~~(t/2))+P+Ja(u,Math.ceil(t/2)):P+Ja(u,t)};n.panLinear=function(P,t){return Ba(P,t,Pa,fb)};n.panLog=function(P,t){var u=Math.sign(P[0]);return Ba(P,t,O(u),F(u))};n.panPow=function(P,t,u){return Ba(P,
t,ia(u),ia(1/u))};n.panSymlog=function(P,t,u){return Ba(P,t,K(u),ka(u))};n.peek=mb;n.quarter=function(P){return 1+~~((new Date(P)).getMonth()/3)};n.repeat=Ja;n.span=function(P){return P&&mb(P)-P[0]||0};n.splitAccessPath=db;n.stringValue=da;n.toBoolean=function(P){return null==P||""===P?null:P&&"false"!==P&&"0"!==P?!!P:!1};n.toDate=function(P,t){t=t||ha;return null==P||""===P?null:t(P)};n.toNumber=Pa;n.toSet=function(P){const t={},u=P.length;for(let l=0;l<u;++l)t[P[l]]=!0;return t};n.toString=function(P){return null==
P||""===P?null:P+""};n.truncate=function(P,t,u,l){l=null!=l?l:"";P+="";const p=P.length,A=Math.max(0,t-l.length);return p<=t?P:"left"===u?l+P.slice(p-A):"center"===u?P.slice(0,Math.ceil(A/2))+l+P.slice(p-~~(A/2)):P.slice(0,A)+l};n.truthy=Xa;n.utcquarter=function(P){return 1+~~((new Date(P)).getUTCMonth()/3)};n.visitArray=function(P,t,u){if(P)if(t){const l=P.length;for(let p=0;p<l;++p){const A=t(P[p]);A&&u(A,p,P)}}else P.forEach(u)};n.writeConfig=Va;n.zero=Wa;n.zoomLinear=function(P,t,u){return Ca(P,
t,u,Pa,fb)};n.zoomLog=function(P,t,u){const l=Math.sign(P[0]);return Ca(P,t,u,O(l),F(l))};n.zoomPow=function(P,t,u,l){return Ca(P,t,u,ia(l),ia(1/l))};n.zoomSymlog=function(P,t,u,l){return Ca(P,t,u,K(l),ka(l))};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[18]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc):"function"===typeof define&&define.amd?define(["exports"],v):(n="undefined"!==typeof globalThis?globalThis:n||self,v(n.d3=n.d3||{}))})(this,function(n){function v(l,p){return l<p?-1:l>p?1:l>=p?0:NaN}function Y(l){function p(E,z,aa,sa){null==aa&&(aa=0);null==sa&&(sa=E.length);for(;aa<sa;){const fa=aa+sa>>>1;0>B(E[fa],z)?aa=fa+1:sa=fa}return aa}let A=l,B=l;1===l.length&&(A=(E,z)=>l(E)-z,B=Qa(l));
return{left:p,center:function(E,z,aa,sa){null==aa&&(aa=0);null==sa&&(sa=E.length);sa=p(E,z,aa,sa-1);return sa>aa&&A(E[sa-1],z)>-A(E[sa],z)?sa-1:sa},right:function(E,z,aa,sa){null==aa&&(aa=0);null==sa&&(sa=E.length);for(;aa<sa;){const fa=aa+sa>>>1;0<B(E[fa],z)?sa=fa:aa=fa+1}return aa}}}function Qa(l){return(p,A)=>v(l(p),A)}function Qb(l){return null===l?NaN:+l}function*db(l,p){if(void 0===p)for(var A of l)null!=A&&(A=+A)>=A&&(yield A);else{A=-1;for(let B of l)null!=(B=p(B,++A,l))&&(B=+B)>=B&&(yield B)}}
function pb(l,p){let A=0;if(void 0===p)for(var B of l)null!=B&&(B=+B)>=B&&++A;else{B=-1;for(let E of l)null!=(E=p(E,++B,l))&&(E=+E)>=E&&++A}return A}function Ib(l){return l.length|0}function Ab(l){return!(0<l)}function Va(l){return"object"!==typeof l||"length"in l?l:Array.from(l)}function nb(l){return p=>l(...p)}function mb(l,p){let A=0,B,E=0,z=0;if(void 0===p)for(var aa of l)null!=aa&&(aa=+aa)>=aa&&(B=aa-E,E+=B/++A,z+=B*(aa-E));else{aa=-1;for(let sa of l)null!=(sa=p(sa,++aa,l))&&(sa=+sa)>=sa&&(B=
sa-E,E+=B/++A,z+=B*(sa-E))}if(1<A)return z/(A-1)}function Pa(l,p){return(l=mb(l,p))?Math.sqrt(l):l}function Ba(l,p){let A,B;if(void 0===p)for(var E of l)null!=E&&(void 0===A?E>=E&&(A=B=E):(A>E&&(A=E),B<E&&(B=E)));else{E=-1;for(let z of l)null!=(z=p(z,++E,l))&&(void 0===A?z>=z&&(A=B=z):(A>z&&(A=z),B<z&&(B=z)))}return[A,B]}function Ca(l){return l}function Sa(l){if(1!==l.length)throw Error("duplicate key");return l[0]}function kb(l,p,A,B){return function sa(z,aa){if(aa>=B.length)return A(z);const fa=
new Map,Na=B[aa++];let Da=-1;for(const W of z){const na=Na(W,++Da,z),$a=fa.get(na);$a?$a.push(W):fa.set(na,[W])}for(const [W,na]of fa)fa.set(W,sa(na,aa));return p(fa)}(l,0)}function za(l){return function(){return l}}function Ea(l,p,A){var B,E=-1,z;p=+p;l=+l;A=+A;if(l===p&&0<A)return[l];if(B=p<l){var aa=l;l=p;p=aa}if(0===(z=gb(l,p,A))||!isFinite(z))return[];if(0<z)for(l=Math.ceil(l/z),p=Math.floor(p/z),p=Array(aa=Math.ceil(p-l+1));++E<aa;)p[E]=(l+E)*z;else for(z=-z,l=Math.ceil(l*z),p=Math.floor(p*
z),p=Array(aa=Math.ceil(p-l+1));++E<aa;)p[E]=(l+E)/z;B&&p.reverse();return p}function gb(l,p,A){p=(p-l)/Math.max(0,A);l=Math.floor(Math.log(p)/Math.LN10);p/=Math.pow(10,l);return 0<=l?(p>=ha?10:p>=P?5:p>=t?2:1)*Math.pow(10,l):-Math.pow(10,-l)/(p>=ha?10:p>=P?5:p>=t?2:1)}function xa(l,p,A){let B;for(;;){const E=gb(l,p,A);if(E===B||0===E||!isFinite(E))return[l,p];0<E?(l=Math.floor(l/E)*E,p=Math.ceil(p/E)*E):0>E&&(l=Math.ceil(l*E)/E,p=Math.floor(p*E)/E);B=E}}function Ua(l){return Math.ceil(Math.log(pb(l))/
Math.LN2)+1}function Ja(){function l(E){Array.isArray(E)||(E=Array.from(E));var z,aa=E.length,sa=Array(aa);for(z=0;z<aa;++z)sa[z]=p(E[z],z,E);var fa=A(sa),Na=fa[0];fa=fa[1];var Da=B(sa,Na,fa);if(!Array.isArray(Da)){z=fa;var W=+Da;A===Ba&&([Na,fa]=xa(Na,fa,W));Da=Ea(Na,fa,W);Da[Da.length-1]>=fa&&(z>=fa&&A===Ba?(z=gb(Na,fa,W),isFinite(z)&&(0<z?fa=(Math.floor(fa/z)+1)*z:0>z&&(fa=(Math.ceil(fa*-z)+1)/-z))):Da.pop())}for(W=Da.length;Da[0]<=Na;)Da.shift(),--W;for(;Da[W-1]>fa;)Da.pop(),--W;var na=Array(W+
1);for(z=0;z<=W;++z){var $a=na[z]=[];$a.x0=0<z?Da[z-1]:Na;$a.x1=z<W?Da[z]:fa}for(z=0;z<aa;++z)$a=sa[z],Na<=$a&&$a<=fa&&na[Za(Da,$a,0,W)].push(E[z]);return na}var p=Ca,A=Ba,B=Ua;l.value=function(E){return arguments.length?(p="function"===typeof E?E:za(E),l):p};l.domain=function(E){return arguments.length?(A="function"===typeof E?E:za([E[0],E[1]]),l):A};l.thresholds=function(E){return arguments.length?(B="function"===typeof E?E:Array.isArray(E)?za(ta.call(E)):za(E),l):B};return l}function da(l,p){let A;
if(void 0===p)for(var B of l)null!=B&&(A<B||void 0===A&&B>=B)&&(A=B);else{B=-1;for(let E of l)null!=(E=p(E,++B,l))&&(A<E||void 0===A&&E>=E)&&(A=E)}return A}function wa(l,p){let A;if(void 0===p)for(var B of l)null!=B&&(A>B||void 0===A&&B>=B)&&(A=B);else{B=-1;for(let E of l)null!=(E=p(E,++B,l))&&(A>E||void 0===A&&E>=E)&&(A=E)}return A}function La(l,p,A=0,B=l.length-1,E=v){for(;B>A;){if(600<B-A){var z=B-A+1,aa=p-A+1,sa=Math.log(z),fa=.5*Math.exp(2*sa/3);sa=.5*Math.sqrt(sa*fa*(z-fa)/z)*(0>aa-z/2?-1:1);
La(l,p,Math.max(A,Math.floor(p-aa*fa/z+sa)),Math.min(B,Math.floor(p+(z-aa)*fa/z+sa)),E)}z=l[p];aa=A;fa=B;Ra(l,A,p);for(0<E(l[B],z)&&Ra(l,A,B);aa<fa;){Ra(l,aa,fa);++aa;for(--fa;0>E(l[aa],z);)++aa;for(;0<E(l[fa],z);)--fa}0===E(l[A],z)?Ra(l,A,fa):(++fa,Ra(l,fa,B));fa<=p&&(A=fa+1);p<=fa&&(B=fa-1)}return l}function Ra(l,p,A){const B=l[p];l[p]=l[A];l[A]=B}function fb(l,p,A){l=Float64Array.from(db(l,A));if(A=l.length){if(0>=(p=+p)||2>A)return wa(l);if(1<=p)return da(l);p*=A-1;A=Math.floor(p);var B=da(La(l,
A).subarray(0,A+1));l=wa(l.subarray(A+1));return B+(l-B)*(p-A)}}function Wa(l,p){let A,B=-1,E=-1;if(void 0===p)for(const z of l)++E,null!=z&&(A<z||void 0===A&&z>=z)&&(A=z,B=E);else for(let z of l)null!=(z=p(z,++E,l))&&(A<z||void 0===A&&z>=z)&&(A=z,B=E);return B}function*jb(l){for(const p of l)yield*p}function Xa(l,p){let A,B=-1,E=-1;if(void 0===p)for(const z of l)++E,null!=z&&(A>z||void 0===A&&z>=z)&&(A=z,B=E);else for(let z of l)null!=(z=p(z,++E,l))&&(A>z||void 0===A&&z>=z)&&(A=z,B=E);return B}function Q(l,
p){return[l,p]}function x(l,p){return Array.from(p,A=>l[A])}function F(l,p=v){if(1===p.length)return Xa(l,p);let A,B=-1,E=-1;for(const z of l)if(++E,0>B?0===p(z,z):0>p(z,A))A=z,B=E;return B}function O(l){return function(p,A=0,B=p.length){for(B-=A=+A;B;){const E=l()*B--|0,z=p[B+A];p[B+A]=p[E+A];p[E+A]=z}return p}}function K(l){if(!(z=l.length))return[];for(var p=-1,A=wa(l,ka),B=Array(A);++p<A;)for(var E=-1,z,aa=B[p]=Array(z);++E<z;)aa[E]=l[E][p];return B}function ka(l){return l.length}function ia(l){return l instanceof
Set?l:new Set(l)}function ma(l,p){l=l[Symbol.iterator]();const A=new Set;for(const B of p){if(A.has(B))continue;let E;for(;{value:p,done:E}=l.next();){if(E)return!1;A.add(p);if(Object.is(B,p))break}}return!0}var Ya=Y(v);const Za=Ya.right;Ya=Ya.left;const S=Y(Qb).center;class qa{constructor(){this._partials=new Float64Array(32);this._n=0}add(l){const p=this._partials;let A=0;for(let B=0;B<this._n&&32>B;B++){const E=p[B],z=l+E;(l=Math.abs(l)<Math.abs(E)?l-(z-E):E-(z-l))&&(p[A++]=l);l=z}p[A]=l;this._n=
A+1;return this}valueOf(){const l=this._partials;let p=this._n;let A,B=0;if(0<p){for(B=l[--p];0<p;){var E=B;A=l[--p];B=E+A;if(E=A-(B-E))break}0<p&&(0>E&&0>l[p-1]||0<E&&0<l[p-1])&&(A=2*E,E=B+A,A==E-B&&(B=E))}return B}}var ta=Array.prototype.slice,ha=Math.sqrt(50),P=Math.sqrt(10),t=Math.sqrt(2),u=O(Math.random);n.Adder=qa;n.ascending=v;n.bin=Ja;n.bisect=Za;n.bisectCenter=S;n.bisectLeft=Ya;n.bisectRight=Za;n.bisector=Y;n.count=pb;n.cross=function(...l){const p="function"===typeof l[l.length-1]&&nb(l.pop());
l=l.map(Va);const A=l.map(Ib),B=l.length-1,E=Array(B+1).fill(0),z=[];if(0>B||A.some(Ab))return z;for(;;){z.push(E.map((sa,fa)=>l[fa][sa]));let aa=B;for(;++E[aa]===A[aa];){if(0===aa)return p?z.map(p):z;E[aa--]=0}}};n.cumsum=function(l,p){var A=0,B=0;return Float64Array.from(l,void 0===p?E=>A+=+E||0:E=>A+=+p(E,B++,l)||0)};n.descending=function(l,p){return p<l?-1:p>l?1:p>=l?0:NaN};n.deviation=Pa;n.difference=function(l,...p){l=new Set(l);for(const A of p)for(const B of A)l.delete(B);return l};n.disjoint=
function(l,p){p=p[Symbol.iterator]();const A=new Set;for(const B of l){if(A.has(B))return!1;let E;for(;({value:l,done:E}=p.next())&&!E;){if(Object.is(B,l))return!1;A.add(l)}}return!0};n.every=function(l,p){if("function"!==typeof p)throw new TypeError("test is not a function");let A=-1;for(const B of l)if(!p(B,++A,l))return!1;return!0};n.extent=Ba;n.filter=function(l,p){if("function"!==typeof p)throw new TypeError("test is not a function");const A=[];let B=-1;for(const E of l)p(E,++B,l)&&A.push(E);
return A};n.fsum=function(l,p){const A=new qa;if(void 0===p)for(var B of l)(B=+B)&&A.add(B);else{B=-1;for(let E of l)(E=+p(E,++B,l))&&A.add(E)}return+A};n.greatest=function(l,p=v){let A,B=!1;if(1===p.length){let E;for(const z of l)if(l=p(z),B?0<v(l,E):0===v(l,l))A=z,E=l,B=!0}else for(const E of l)if(B?0<p(E,A):0===p(E,E))A=E,B=!0;return A};n.greatestIndex=function(l,p=v){if(1===p.length)return Wa(l,p);let A,B=-1,E=-1;for(const z of l)if(++E,0>B?0===p(z,z):0<p(z,A))A=z,B=E;return B};n.group=function(l,
...p){return kb(l,Ca,Ca,p)};n.groups=function(l,...p){return kb(l,Array.from,Ca,p)};n.histogram=Ja;n.index=function(l,...p){return kb(l,Ca,Sa,p)};n.indexes=function(l,...p){return kb(l,Array.from,Sa,p)};n.intersection=function(l,...p){l=new Set(l);p=p.map(ia);a:for(const A of l)for(const B of p)if(!B.has(A)){l.delete(A);continue a}return l};n.least=function(l,p=v){let A,B=!1;if(1===p.length){let E;for(const z of l)if(l=p(z),B?0>v(l,E):0===v(l,l))A=z,E=l,B=!0}else for(const E of l)if(B?0>p(E,A):0===
p(E,E))A=E,B=!0;return A};n.leastIndex=F;n.map=function(l,p){if("function"!==typeof l[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!==typeof p)throw new TypeError("mapper is not a function");return Array.from(l,(A,B)=>p(A,B,l))};n.max=da;n.maxIndex=Wa;n.mean=function(l,p){let A=0,B=0;if(void 0===p)for(var E of l)null!=E&&(E=+E)>=E&&(++A,B+=E);else{E=-1;for(let z of l)null!=(z=p(z,++E,l))&&(z=+z)>=z&&(++A,B+=z)}if(A)return B/A};n.median=function(l,p){return fb(l,.5,p)};
n.merge=function(l){return Array.from(jb(l))};n.min=wa;n.minIndex=Xa;n.nice=xa;n.pairs=function(l,p=Q){const A=[];let B,E=!1;for(const z of l)E&&A.push(p(B,z)),B=z,E=!0;return A};n.permute=x;n.quantile=fb;n.quantileSorted=function(l,p,A=Qb){if(B=l.length){if(0>=(p=+p)||2>B)return+A(l[0],0,l);if(1<=p)return+A(l[B-1],B-1,l);var B;p*=B-1;B=Math.floor(p);var E=+A(l[B],B,l);l=+A(l[B+1],B+1,l);return E+(l-E)*(p-B)}};n.quickselect=La;n.range=function(l,p,A){l=+l;p=+p;A=2>(E=arguments.length)?(p=l,l=0,1):
3>E?1:+A;for(var B=-1,E=Math.max(0,Math.ceil((p-l)/A))|0,z=Array(E);++B<E;)z[B]=l+B*A;return z};n.reduce=function(l,p,A){if("function"!==typeof p)throw new TypeError("reducer is not a function");const B=l[Symbol.iterator]();let E,z,aa=-1;if(3>arguments.length){({done:E,value:A}=B.next());if(E)return;++aa}for(;{done:E,value:z}=B.next(),!E;)A=p(A,z,++aa,l);return A};n.reverse=function(l){if("function"!==typeof l[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(l).reverse()};
n.rollup=function(l,p,...A){return kb(l,Ca,p,A)};n.rollups=function(l,p,...A){return kb(l,Array.from,p,A)};n.scan=function(l,p){l=F(l,p);return 0>l?void 0:l};n.shuffle=u;n.shuffler=O;n.some=function(l,p){if("function"!==typeof p)throw new TypeError("test is not a function");let A=-1;for(const B of l)if(p(B,++A,l))return!0;return!1};n.sort=function(l,p=v){if("function"!==typeof l[Symbol.iterator])throw new TypeError("values is not iterable");l=Array.from(l);return 1===p.length?(p=l.map(p),x(l,l.map((A,
B)=>B).sort((A,B)=>v(p[A],p[B])))):l.sort(p)};n.subset=function(l,p){return ma(p,l)};n.sum=function(l,p){let A=0;if(void 0===p)for(var B of l){if(B=+B)A+=B}else{B=-1;for(let E of l)if(E=+p(E,++B,l))A+=E}return A};n.superset=ma;n.thresholdFreedmanDiaconis=function(l,p,A){return Math.ceil((A-p)/(2*(fb(l,.75)-fb(l,.25))*Math.pow(pb(l),-1/3)))};n.thresholdScott=function(l,p,A){return Math.ceil((A-p)/(3.5*Pa(l)*Math.pow(pb(l),-1/3)))};n.thresholdSturges=Ua;n.tickIncrement=gb;n.tickStep=function(l,p,A){var B=
Math.abs(p-l)/Math.max(0,A);A=Math.pow(10,Math.floor(Math.log(B)/Math.LN10));B/=A;B>=ha?A*=10:B>=P?A*=5:B>=t&&(A*=2);return p<l?-A:A};n.ticks=Ea;n.transpose=K;n.union=function(...l){const p=new Set;for(const A of l)for(const B of A)p.add(B);return p};n.variance=mb;n.zip=function(){return K(arguments)};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[19]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc):"function"===typeof define&&define.amd?define(["exports"],v):(n="undefined"!==typeof globalThis?globalThis:n||self,v(n.d3=n.d3||{}))})(this,function(n){function v(za,Ea){if(0>(Ea=(za=Ea?za.toExponential(Ea-1):za.toExponential()).indexOf("e")))return null;var gb=za.slice(0,Ea);return[1<gb.length?gb[0]+gb.slice(2):gb,+za.slice(Ea+1)]}function Y(za){return za=v(Math.abs(za)),za?za[1]:NaN}function Qa(za,
Ea){return function(gb,xa){for(var Ua=gb.length,Ja=[],da=0,wa=za[0],La=0;0<Ua&&0<wa;){La+wa+1>xa&&(wa=Math.max(1,xa-La));Ja.push(gb.substring(Ua-=wa,Ua+wa));if((La+=wa+1)>xa)break;wa=za[da=(da+1)%za.length]}return Ja.reverse().join(Ea)}}function Qb(za){return function(Ea){return Ea.replace(/[0-9]/g,function(gb){return za[+gb]})}}function db(za){if(!(Ea=mb.exec(za)))throw Error("invalid format: "+za);var Ea;return new pb({fill:Ea[1],align:Ea[2],sign:Ea[3],symbol:Ea[4],zero:Ea[5],width:Ea[6],comma:Ea[7],
precision:Ea[8]&&Ea[8].slice(1),trim:Ea[9],type:Ea[10]})}function pb(za){this.fill=void 0===za.fill?" ":za.fill+"";this.align=void 0===za.align?"\x3e":za.align+"";this.sign=void 0===za.sign?"-":za.sign+"";this.symbol=void 0===za.symbol?"":za.symbol+"";this.zero=!!za.zero;this.width=void 0===za.width?void 0:+za.width;this.comma=!!za.comma;this.precision=void 0===za.precision?void 0:+za.precision;this.trim=!!za.trim;this.type=void 0===za.type?"":za.type+""}function Ib(za,Ea){Ea=v(za,Ea);if(!Ea)return za+
"";za=Ea[0];Ea=Ea[1];return 0>Ea?"0."+Array(-Ea).join("0")+za:za.length>Ea+1?za.slice(0,Ea+1)+"."+za.slice(Ea+1):za+Array(Ea-za.length+2).join("0")}function Ab(za){return za}function Va(za){function Ea(fb){function Wa(ta){var ha=Ya,P=Za,t,u;if("c"===ma)P=S(ta)+P,ta="";else{ta=+ta;var l=0>ta||0>1/ta;ta=isNaN(ta)?Ra:S(Math.abs(ta),ka);if(ia){var p=ta.length,A=1,B=-1;a:for(;A<p;++A)switch(ta[A]){case ".":B=t=A;break;case "0":0===B&&(B=A);t=A;break;default:if(!+ta[A])break a;0<B&&(B=0)}ta=0<B?ta.slice(0,
B)+ta.slice(t+1):ta}l&&0===+ta&&"+"!==Q&&(l=!1);ha=(l?"("===Q?Q:La:"-"===Q||"("===Q?"":Q)+ha;P=("s"===ma?Sa[8+Pa/3]:"")+P+(l&&"("===Q?")":"");if(qa)for(l=-1,t=ta.length;++l<t;)if(u=ta.charCodeAt(l),48>u||57<u){P=(46===u?Ja+ta.slice(l+1):ta.slice(l))+P;ta=ta.slice(0,l);break}}K&&!F&&(ta=gb(ta,Infinity));u=ha.length+ta.length+P.length;l=u<O?Array(O-u+1).join(jb):"";K&&F&&(ta=gb(l+ta,l.length?O-P.length:Infinity),l="");switch(Xa){case "\x3c":ta=ha+ta+P+l;break;case "\x3d":ta=ha+l+ta+P;break;case "^":ta=
l.slice(0,u=l.length>>1)+ha+ta+P+l.slice(u);break;default:ta=l+ha+ta+P}return da(ta)}fb=db(fb);var jb=fb.fill,Xa=fb.align,Q=fb.sign,x=fb.symbol,F=fb.zero,O=fb.width,K=fb.comma,ka=fb.precision,ia=fb.trim,ma=fb.type;"n"===ma?(K=!0,ma="g"):Ba[ma]||(void 0===ka&&(ka=12),ia=!0,ma="g");if(F||"0"===jb&&"\x3d"===Xa)F=!0,jb="0",Xa="\x3d";var Ya="$"===x?xa:"#"===x&&/[boxX]/.test(ma)?"0"+ma.toLowerCase():"",Za="$"===x?Ua:/[%p]/.test(ma)?wa:"",S=Ba[ma],qa=/[defgprs%]/.test(ma);ka=void 0===ka?6:/[gprs]/.test(ma)?
Math.max(1,Math.min(21,ka)):Math.max(0,Math.min(20,ka));Wa.toString=function(){return fb+""};return Wa}var gb=void 0===za.grouping||void 0===za.thousands?Ab:Qa(Ca.call(za.grouping,Number),za.thousands+""),xa=void 0===za.currency?"":za.currency[0]+"",Ua=void 0===za.currency?"":za.currency[1]+"",Ja=void 0===za.decimal?".":za.decimal+"",da=void 0===za.numerals?Ab:Qb(Ca.call(za.numerals,String)),wa=void 0===za.percent?"%":za.percent+"",La=void 0===za.minus?"":za.minus+"",Ra=void 0===za.nan?"NaN":za.nan+
"";return{format:Ea,formatPrefix:function(fb,Wa){var jb=Ea((fb=db(fb),fb.type="f",fb));fb=3*Math.max(-8,Math.min(8,Math.floor(Y(Wa)/3)));var Xa=Math.pow(10,-fb),Q=Sa[8+fb/3];return function(x){return jb(Xa*x)+Q}}}}function nb(za){kb=Va(za);n.format=kb.format;n.formatPrefix=kb.formatPrefix;return kb}var mb=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;db.prototype=pb.prototype;pb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?
"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var Pa,Ba={"%":(za,Ea)=>(100*za).toFixed(Ea),b:za=>Math.round(za).toString(2),c:za=>za+"",d:function(za){return 1E21<=Math.abs(za=Math.round(za))?za.toLocaleString("en").replace(/,/g,""):za.toString(10)},e:(za,Ea)=>za.toExponential(Ea),f:(za,Ea)=>za.toFixed(Ea),g:(za,Ea)=>za.toPrecision(Ea),o:za=>Math.round(za).toString(8),p:(za,
Ea)=>Ib(100*za,Ea),r:Ib,s:function(za,Ea){var gb=v(za,Ea);if(!gb)return za+"";var xa=gb[0];gb=gb[1];gb=gb-(Pa=3*Math.max(-8,Math.min(8,Math.floor(gb/3))))+1;var Ua=xa.length;return gb===Ua?xa:gb>Ua?xa+Array(gb-Ua+1).join("0"):0<gb?xa.slice(0,gb)+"."+xa.slice(gb):"0."+Array(1-gb).join("0")+v(za,Math.max(0,Ea+gb-1))[0]},X:za=>Math.round(za).toString(16).toUpperCase(),x:za=>Math.round(za).toString(16)},Ca=Array.prototype.map,Sa="y z a f p n  m  k M G T P E Z Y".split(" "),kb;nb({thousands:",",grouping:[3],
currency:["$",""]});n.FormatSpecifier=pb;n.formatDefaultLocale=nb;n.formatLocale=Va;n.formatSpecifier=db;n.precisionFixed=function(za){return Math.max(0,-Y(Math.abs(za)))};n.precisionPrefix=function(za,Ea){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Y(Ea)/3)))-Y(Math.abs(za)))};n.precisionRound=function(za,Ea){za=Math.abs(za);Ea=Math.abs(Ea)-za;return Math.max(0,Y(Ea)-Y(za))+1};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[20]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc):"function"===typeof define&&define.amd?define(["exports"],v):(n=n||self,v(n.d3=n.d3||{}))})(this,function(n){function v(Da,W,na,$a){function sb(Db){return Da(Db=0===arguments.length?new Date:new Date(+Db)),Db}sb.floor=function(Db){return Da(Db=new Date(+Db)),Db};sb.ceil=function(Db){return Da(Db=new Date(Db-1)),W(Db,1),Da(Db),Db};sb.round=function(Db){var Xb=sb(Db),vc=sb.ceil(Db);return Db-
Xb<vc-Db?Xb:vc};sb.offset=function(Db,Xb){return W(Db=new Date(+Db),null==Xb?1:Math.floor(Xb)),Db};sb.range=function(Db,Xb,vc){var Vc=[],tc;Db=sb.ceil(Db);vc=null==vc?1:Math.floor(vc);if(!(Db<Xb&&0<vc))return Vc;do Vc.push(tc=new Date(+Db)),W(Db,vc),Da(Db);while(tc<Db&&Db<Xb);return Vc};sb.filter=function(Db){return v(function(Xb){if(Xb>=Xb)for(;Da(Xb),!Db(Xb);)Xb.setTime(Xb-1)},function(Xb,vc){if(Xb>=Xb)if(0>vc)for(;0>=++vc;)for(;W(Xb,-1),!Db(Xb););else for(;0<=--vc;)for(;W(Xb,1),!Db(Xb););})};na&&
(sb.count=function(Db,Xb){Qb.setTime(+Db);db.setTime(+Xb);Da(Qb);Da(db);return Math.floor(na(Qb,db))},sb.every=function(Db){Db=Math.floor(Db);return isFinite(Db)&&0<Db?1<Db?sb.filter($a?function(Xb){return 0===$a(Xb)%Db}:function(Xb){return 0===sb.count(0,Xb)%Db}):sb:null});return sb}function Y(Da){return v(function(W){W.setDate(W.getDate()-(W.getDay()+7-Da)%7);W.setHours(0,0,0,0)},function(W,na){W.setDate(W.getDate()+7*na)},function(W,na){return(na-W-6E4*(na.getTimezoneOffset()-W.getTimezoneOffset()))/
6048E5})}function Qa(Da){return v(function(W){W.setUTCDate(W.getUTCDate()-(W.getUTCDay()+7-Da)%7);W.setUTCHours(0,0,0,0)},function(W,na){W.setUTCDate(W.getUTCDate()+7*na)},function(W,na){return(na-W)/6048E5})}var Qb=new Date,db=new Date,pb=v(function(){},function(Da,W){Da.setTime(+Da+W)},function(Da,W){return W-Da});pb.every=function(Da){Da=Math.floor(Da);return isFinite(Da)&&0<Da?1<Da?v(function(W){W.setTime(Math.floor(W/Da)*Da)},function(W,na){W.setTime(+W+na*Da)},function(W,na){return(na-W)/Da}):
pb:null};var Ib=pb.range,Ab=v(function(Da){Da.setTime(Da-Da.getMilliseconds())},function(Da,W){Da.setTime(+Da+1E3*W)},function(Da,W){return(W-Da)/1E3},function(Da){return Da.getUTCSeconds()}),Va=Ab.range,nb=v(function(Da){Da.setTime(Da-Da.getMilliseconds()-1E3*Da.getSeconds())},function(Da,W){Da.setTime(+Da+6E4*W)},function(Da,W){return(W-Da)/6E4},function(Da){return Da.getMinutes()}),mb=nb.range,Pa=v(function(Da){Da.setTime(Da-Da.getMilliseconds()-1E3*Da.getSeconds()-6E4*Da.getMinutes())},function(Da,
W){Da.setTime(+Da+36E5*W)},function(Da,W){return(W-Da)/36E5},function(Da){return Da.getHours()}),Ba=Pa.range,Ca=v(Da=>Da.setHours(0,0,0,0),(Da,W)=>Da.setDate(Da.getDate()+W),(Da,W)=>(W-Da-6E4*(W.getTimezoneOffset()-Da.getTimezoneOffset()))/864E5,Da=>Da.getDate()-1),Sa=Ca.range,kb=Y(0),za=Y(1),Ea=Y(2),gb=Y(3),xa=Y(4),Ua=Y(5),Ja=Y(6),da=kb.range,wa=za.range,La=Ea.range,Ra=gb.range,fb=xa.range,Wa=Ua.range,jb=Ja.range,Xa=v(function(Da){Da.setDate(1);Da.setHours(0,0,0,0)},function(Da,W){Da.setMonth(Da.getMonth()+
W)},function(Da,W){return W.getMonth()-Da.getMonth()+12*(W.getFullYear()-Da.getFullYear())},function(Da){return Da.getMonth()}),Q=Xa.range,x=v(function(Da){Da.setMonth(0,1);Da.setHours(0,0,0,0)},function(Da,W){Da.setFullYear(Da.getFullYear()+W)},function(Da,W){return W.getFullYear()-Da.getFullYear()},function(Da){return Da.getFullYear()});x.every=function(Da){return isFinite(Da=Math.floor(Da))&&0<Da?v(function(W){W.setFullYear(Math.floor(W.getFullYear()/Da)*Da);W.setMonth(0,1);W.setHours(0,0,0,0)},
function(W,na){W.setFullYear(W.getFullYear()+na*Da)}):null};var F=x.range,O=v(function(Da){Da.setUTCSeconds(0,0)},function(Da,W){Da.setTime(+Da+6E4*W)},function(Da,W){return(W-Da)/6E4},function(Da){return Da.getUTCMinutes()}),K=O.range,ka=v(function(Da){Da.setUTCMinutes(0,0,0)},function(Da,W){Da.setTime(+Da+36E5*W)},function(Da,W){return(W-Da)/36E5},function(Da){return Da.getUTCHours()}),ia=ka.range,ma=v(function(Da){Da.setUTCHours(0,0,0,0)},function(Da,W){Da.setUTCDate(Da.getUTCDate()+W)},function(Da,
W){return(W-Da)/864E5},function(Da){return Da.getUTCDate()-1}),Ya=ma.range,Za=Qa(0),S=Qa(1),qa=Qa(2),ta=Qa(3),ha=Qa(4),P=Qa(5),t=Qa(6),u=Za.range,l=S.range,p=qa.range,A=ta.range,B=ha.range,E=P.range,z=t.range,aa=v(function(Da){Da.setUTCDate(1);Da.setUTCHours(0,0,0,0)},function(Da,W){Da.setUTCMonth(Da.getUTCMonth()+W)},function(Da,W){return W.getUTCMonth()-Da.getUTCMonth()+12*(W.getUTCFullYear()-Da.getUTCFullYear())},function(Da){return Da.getUTCMonth()}),sa=aa.range,fa=v(function(Da){Da.setUTCMonth(0,
1);Da.setUTCHours(0,0,0,0)},function(Da,W){Da.setUTCFullYear(Da.getUTCFullYear()+W)},function(Da,W){return W.getUTCFullYear()-Da.getUTCFullYear()},function(Da){return Da.getUTCFullYear()});fa.every=function(Da){return isFinite(Da=Math.floor(Da))&&0<Da?v(function(W){W.setUTCFullYear(Math.floor(W.getUTCFullYear()/Da)*Da);W.setUTCMonth(0,1);W.setUTCHours(0,0,0,0)},function(W,na){W.setUTCFullYear(W.getUTCFullYear()+na*Da)}):null};var Na=fa.range;n.timeDay=Ca;n.timeDays=Sa;n.timeFriday=Ua;n.timeFridays=
Wa;n.timeHour=Pa;n.timeHours=Ba;n.timeInterval=v;n.timeMillisecond=pb;n.timeMilliseconds=Ib;n.timeMinute=nb;n.timeMinutes=mb;n.timeMonday=za;n.timeMondays=wa;n.timeMonth=Xa;n.timeMonths=Q;n.timeSaturday=Ja;n.timeSaturdays=jb;n.timeSecond=Ab;n.timeSeconds=Va;n.timeSunday=kb;n.timeSundays=da;n.timeThursday=xa;n.timeThursdays=fb;n.timeTuesday=Ea;n.timeTuesdays=La;n.timeWednesday=gb;n.timeWednesdays=Ra;n.timeWeek=kb;n.timeWeeks=da;n.timeYear=x;n.timeYears=F;n.utcDay=ma;n.utcDays=Ya;n.utcFriday=P;n.utcFridays=
E;n.utcHour=ka;n.utcHours=ia;n.utcMillisecond=pb;n.utcMilliseconds=Ib;n.utcMinute=O;n.utcMinutes=K;n.utcMonday=S;n.utcMondays=l;n.utcMonth=aa;n.utcMonths=sa;n.utcSaturday=t;n.utcSaturdays=z;n.utcSecond=Ab;n.utcSeconds=Va;n.utcSunday=Za;n.utcSundays=u;n.utcThursday=ha;n.utcThursdays=B;n.utcTuesday=qa;n.utcTuesdays=p;n.utcWednesday=ta;n.utcWednesdays=A;n.utcWeek=Za;n.utcWeeks=u;n.utcYear=fa;n.utcYears=Na;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[21]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc,Ob(17),Ob(20),Ob(18)):"function"===typeof define&&define.amd?define(["exports","vega-util","d3-time","d3-array"],v):(n="undefined"!==typeof globalThis?globalThis:n||self,v(n.vega={},n.vega,n.d3,n.d3))})(this,function(n,v,Y,Qa){function Qb(ia){const ma=v.array(ia).slice(),Ya={};ma.length||v.error("Missing time unit.");ma.forEach(Za=>{v.hasOwnProperty(za,Za)?Ya[Za]=1:v.error(`Invalid time unit: ${Za}.`)});
1<(Ya.week||Ya.day?1:0)+(Ya.quarter||Ya.month||Ya.date?1:0)+(Ya.dayofyear?1:0)&&v.error(`Incompatible time units: ${ia}`);ma.sort((Za,S)=>za[Za]-za[S]);return ma}function db(ia){gb.setFullYear(ia);gb.setMonth(0);gb.setDate(1);gb.setHours(0,0,0,0);return gb}function pb(ia){return Y.timeDay.count(db(ia.getFullYear())-1,ia)}function Ib(ia){return Y.timeWeek.count(db(ia.getFullYear())-1,ia)}function Ab(ia,ma,Ya,Za,S,qa,ta){return 0<=ia&&100>ia?(ma=new Date(-1,ma,Ya,Za,S,qa,ta),ma.setFullYear(ia),ma):
new Date(ia,ma,Ya,Za,S,qa,ta)}function Va(ia){const ma=Date.UTC(ia.getUTCFullYear(),0,1);return Y.utcDay.count(ma-1,ia)}function nb(ia){const ma=Date.UTC(ia.getUTCFullYear(),0,1);return Y.utcWeek.count(ma-1,ia)}function mb(ia){gb.setTime(Date.UTC(ia,0,1));return gb.getUTCDay()}function Pa(ia,ma,Ya,Za,S,qa,ta){return 0<=ia&&100>ia?(ia=new Date(Date.UTC(-1,ma,Ya,Za,S,qa,ta)),ia.setUTCFullYear(Ya.y),ia):new Date(Date.UTC(ia,ma,Ya,Za,S,qa,ta))}function Ba(ia,ma,Ya,Za,S){const qa=ma||1,ta=v.peek(ia);ma=
(E,z,aa)=>{aa=aa||E;return Ca(Ya[aa],Za[aa],E===ta&&qa,z)};const ha=new Date;ia=v.toSet(ia);const P=ia.year?ma("year"):v.constant(2012),t=ia.month?ma("month"):ia.quarter?ma("quarter"):v.zero,u=ia.week&&ia.day?ma("day",1,"weekday"):ia.week?ma("week",1):ia.day?ma("day",1):ia.date?ma("date",1):ia.dayofyear?ma("dayofyear",1):v.one,l=ia.hours?ma("hours"):v.zero,p=ia.minutes?ma("minutes"):v.zero,A=ia.seconds?ma("seconds"):v.zero,B=ia.milliseconds?ma("milliseconds"):v.zero;return function(E){ha.setTime(+E);
E=P(ha);return S(E,t(ha),u(ha,E),l(ha),p(ha),A(ha),B(ha))}}function Ca(ia,ma,Ya,Za){const S=1>=Ya?ia:Za?(qa,ta)=>Za+Ya*Math.floor((ia(qa,ta)-Za)/Ya):(qa,ta)=>Ya*Math.floor(ia(qa,ta)/Ya);return ma?(qa,ta)=>ma(S(qa,ta),ta):S}function Sa(ia,ma,Ya){return ma+7*ia-(Ya+6)%7}const kb="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),za=kb.reduce((ia,ma,Ya)=>(ia[ma]=1+Ya,ia),{}),Ea={["year"]:"%Y ",["quarter"]:"Q%q ",["month"]:"%b ",["date"]:"%d ",["week"]:"W%U ",["day"]:"%a ",
["dayofyear"]:"%j ",["hours"]:"%H:00",["minutes"]:"00:%M",["seconds"]:":%S",["milliseconds"]:".%L",["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"},gb=new Date,xa={["year"]:ia=>ia.getFullYear(),["quarter"]:ia=>Math.floor(ia.getMonth()/3),["month"]:ia=>ia.getMonth(),["date"]:ia=>ia.getDate(),["hours"]:ia=>ia.getHours(),["minutes"]:ia=>ia.getMinutes(),["seconds"]:ia=>ia.getSeconds(),["milliseconds"]:ia=>ia.getMilliseconds(),["dayofyear"]:ia=>pb(ia),["week"]:ia=>Ib(ia),
["weekday"]:(ia,ma)=>Sa(Ib(ia),ia.getDay(),db(ma).getDay()),["day"]:(ia,ma)=>Sa(1,ia.getDay(),db(ma).getDay())},Ua={["quarter"]:ia=>3*ia,["week"]:(ia,ma)=>Sa(ia,0,db(ma).getDay())},Ja={["year"]:ia=>ia.getUTCFullYear(),["quarter"]:ia=>Math.floor(ia.getUTCMonth()/3),["month"]:ia=>ia.getUTCMonth(),["date"]:ia=>ia.getUTCDate(),["hours"]:ia=>ia.getUTCHours(),["minutes"]:ia=>ia.getUTCMinutes(),["seconds"]:ia=>ia.getUTCSeconds(),["milliseconds"]:ia=>ia.getUTCMilliseconds(),["dayofyear"]:ia=>Va(ia),["week"]:ia=>
nb(ia),["day"]:(ia,ma)=>Sa(1,ia.getUTCDay(),mb(ma)),["weekday"]:(ia,ma)=>Sa(nb(ia),ia.getUTCDay(),mb(ma))},da={["quarter"]:ia=>3*ia,["week"]:(ia,ma)=>Sa(ia,0,mb(ma))},wa={["year"]:Y.timeYear,["quarter"]:Y.timeMonth.every(3),["month"]:Y.timeMonth,["week"]:Y.timeWeek,["date"]:Y.timeDay,["day"]:Y.timeDay,["dayofyear"]:Y.timeDay,["hours"]:Y.timeHour,["minutes"]:Y.timeMinute,["seconds"]:Y.timeSecond,["milliseconds"]:Y.timeMillisecond},La={["year"]:Y.utcYear,["quarter"]:Y.utcMonth.every(3),["month"]:Y.utcMonth,
["week"]:Y.utcWeek,["date"]:Y.utcDay,["day"]:Y.utcDay,["dayofyear"]:Y.utcDay,["hours"]:Y.utcHour,["minutes"]:Y.utcMinute,["seconds"]:Y.utcSecond,["milliseconds"]:Y.utcMillisecond},Ra=6048E5,fb=2592E6,Wa=31536E6,jb="year month date hours minutes seconds milliseconds".split(" "),Xa=jb.slice(0,-1),Q=Xa.slice(0,-1),x=Q.slice(0,-1),F=x.slice(0,-1),O=["year","month"],K=["year"],ka=[[Xa,1,1E3],[Xa,5,5E3],[Xa,15,15E3],[Xa,30,3E4],[Q,1,6E4],[Q,5,3E5],[Q,15,9E5],[Q,30,18E5],[x,1,36E5],[x,3,108E5],[x,6,216E5],
[x,12,432E5],[F,1,864E5],[["year","week"],1,Ra],[O,1,fb],[O,3,3*fb],[K,1,Wa]];n.DATE="date";n.DAY="day";n.DAYOFYEAR="dayofyear";n.HOURS="hours";n.MILLISECONDS="milliseconds";n.MINUTES="minutes";n.MONTH="month";n.QUARTER="quarter";n.SECONDS="seconds";n.TIME_UNITS=kb;n.WEEK="week";n.YEAR="year";n.dayofyear=function(ia){return pb(new Date(ia))};n.timeBin=function(ia){var ma=ia.extent;ia=ia.maxbins||40;var Ya=Math.abs(v.span(ma))/ia;let Za=Qa.bisector(S=>S[2]).right(ka,Ya);Za===ka.length?(Ya=K,ma=Qa.tickStep(ma[0]/
Wa,ma[1]/Wa,ia)):Za?(Za=ka[Ya/ka[Za-1][2]<ka[Za][2]/Ya?Za-1:Za],Ya=Za[0],ma=Za[1]):(Ya=jb,ma=Math.max(Qa.tickStep(ma[0],ma[1],ia),1));return{units:Ya,step:ma}};n.timeFloor=function(ia,ma){return Ba(ia,ma||1,xa,Ua,Ab)};n.timeInterval=function(ia){return wa[ia]};n.timeOffset=function(ia,ma,Ya){return(ia=wa[ia])?ia.offset(ma,Ya):void 0};n.timeSequence=function(ia,ma,Ya,Za){return(ia=wa[ia])?ia.range(ma,Ya,Za):void 0};n.timeUnitSpecifier=function(ia,ma){ma=v.extend({},Ea,ma);ia=Qb(ia);const Ya=ia.length;
let Za="",S,qa,ta;for(S=0;S<Ya;)for(qa=ia.length;qa>S;--qa)if(ta=ia.slice(S,qa).join("-"),null!=ma[ta]){Za+=ma[ta];S=qa;break}return Za.trim()};n.timeUnits=Qb;n.utcFloor=function(ia,ma){return Ba(ia,ma||1,Ja,da,Pa)};n.utcInterval=function(ia){return La[ia]};n.utcOffset=function(ia,ma,Ya){return(ia=La[ia])?ia.offset(ma,Ya):void 0};n.utcSequence=function(ia,ma,Ya,Za){return(ia=La[ia])?ia.range(ma,Ya,Za):void 0};n.utcdayofyear=function(ia){return Va(new Date(ia))};n.utcweek=function(ia){return nb(new Date(ia))};
n.week=function(ia){return Ib(new Date(ia))};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[22]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc,Ob(20)):"function"===typeof define&&define.amd?define(["exports","d3-time"],v):(n=n||self,v(n.d3=n.d3||{},n.d3))})(this,function(n,v){function Y(Ha){if(0<=Ha.y&&100>Ha.y){var qb=new Date(-1,Ha.m,Ha.d,Ha.H,Ha.M,Ha.S,Ha.L);qb.setFullYear(Ha.y);return qb}return new Date(Ha.y,Ha.m,Ha.d,Ha.H,Ha.M,Ha.S,Ha.L)}function Qa(Ha){if(0<=Ha.y&&100>Ha.y){var qb=new Date(Date.UTC(-1,Ha.m,Ha.d,Ha.H,Ha.M,Ha.S,
Ha.L));qb.setUTCFullYear(Ha.y);return qb}return new Date(Date.UTC(Ha.y,Ha.m,Ha.d,Ha.H,Ha.M,Ha.S,Ha.L))}function Qb(Ha,qb,Sb){return{y:Ha,m:qb,d:Sb,H:0,M:0,S:0,L:0}}function db(Ha){function qb(mc,Bc){return function(Oc){var Kc=[],ad=-1,id=0,td=mc.length,qd,Fd;for(Oc instanceof Date||(Oc=new Date(+Oc));++ad<td;)if(37===mc.charCodeAt(ad)){Kc.push(mc.slice(id,ad));null!=(id=Rc[qd=mc.charAt(++ad)])?qd=mc.charAt(++ad):id="e"===qd?" ":"0";if(Fd=Bc[qd])qd=Fd(Oc,id);Kc.push(qd);id=ad+1}Kc.push(mc.slice(id,
ad));return Kc.join("")}}function Sb(mc,Bc){return function(Oc){var Kc=Qb(1900,void 0,1);if(dd(Kc,mc,Oc+="",0)!=Oc.length)return null;if("Q"in Kc)return new Date(Kc.Q);if("s"in Kc)return new Date(1E3*Kc.s+("L"in Kc?Kc.L:0));!Bc||"Z"in Kc||(Kc.Z=0);"p"in Kc&&(Kc.H=Kc.H%12+12*Kc.p);void 0===Kc.m&&(Kc.m="q"in Kc?Kc.q:0);if("V"in Kc){if(1>Kc.V||53<Kc.V)return null;"w"in Kc||(Kc.w=1);if("Z"in Kc){Oc=Qa(Qb(Kc.y,0,1));var ad=Oc.getUTCDay();Oc=4<ad||0===ad?v.utcMonday.ceil(Oc):v.utcMonday(Oc);Oc=v.utcDay.offset(Oc,
7*(Kc.V-1));Kc.y=Oc.getUTCFullYear();Kc.m=Oc.getUTCMonth();Kc.d=Oc.getUTCDate()+(Kc.w+6)%7}else Oc=Y(Qb(Kc.y,0,1)),ad=Oc.getDay(),Oc=4<ad||0===ad?v.timeMonday.ceil(Oc):v.timeMonday(Oc),Oc=v.timeDay.offset(Oc,7*(Kc.V-1)),Kc.y=Oc.getFullYear(),Kc.m=Oc.getMonth(),Kc.d=Oc.getDate()+(Kc.w+6)%7}else if("W"in Kc||"U"in Kc)"w"in Kc||(Kc.w="u"in Kc?Kc.u%7:"W"in Kc?1:0),ad="Z"in Kc?Qa(Qb(Kc.y,0,1)).getUTCDay():Y(Qb(Kc.y,0,1)).getDay(),Kc.m=0,Kc.d="W"in Kc?(Kc.w+6)%7+7*Kc.W-(ad+5)%7:Kc.w+7*Kc.U-(ad+6)%7;return"Z"in
Kc?(Kc.H+=Kc.Z/100|0,Kc.M+=Kc.Z%100,Qa(Kc)):Y(Kc)}}function dd(mc,Bc,Oc,Kc){for(var ad=0,id=Bc.length,td=Oc.length,qd;ad<id;){if(Kc>=td)return-1;qd=Bc.charCodeAt(ad++);if(37===qd){if(qd=Bc.charAt(ad++),qd=sc[qd in Rc?Bc.charAt(ad++):qd],!qd||0>(Kc=qd(mc,Oc,Kc)))return-1}else if(qd!=Oc.charCodeAt(Kc++))return-1}return Kc}var nd=Ha.dateTime,Nd=Ha.date,Wd=Ha.time,U=Ha.periods,va=Ha.days,ab=Ha.shortDays,xb=Ha.months,Rb=Ha.shortMonths,zb=Ab(U),kc=Va(U),bc=Ab(va),Ia=Va(va),lb=Ab(ab),Eb=Va(ab),Zb=Ab(xb),
lc=Va(xb),uc=Ab(Rb),Cc=Va(Rb),Bb={a:function(mc){return ab[mc.getDay()]},A:function(mc){return va[mc.getDay()]},b:function(mc){return Rb[mc.getMonth()]},B:function(mc){return xb[mc.getMonth()]},c:null,d:Xa,e:Xa,f:K,g:t,G:l,H:Q,I:x,j:F,L:O,m:ka,M:ia,p:function(mc){return U[+(12<=mc.getHours())]},q:function(mc){return 1+~~(mc.getMonth()/3)},Q:cc,s:nc,S:ma,u:Ya,U:Za,V:qa,w:ta,W:ha,x:null,X:null,y:P,Y:u,Z:p,"%":ec},pc={a:function(mc){return ab[mc.getUTCDay()]},A:function(mc){return va[mc.getUTCDay()]},
b:function(mc){return Rb[mc.getUTCMonth()]},B:function(mc){return xb[mc.getUTCMonth()]},c:null,d:A,e:A,f:sa,g:Vc,G:Hc,H:B,I:E,j:z,L:aa,m:fa,M:Na,p:function(mc){return U[+(12<=mc.getUTCHours())]},q:function(mc){return 1+~~(mc.getUTCMonth()/3)},Q:cc,s:nc,S:Da,u:W,U:na,V:sb,w:Db,W:Xb,x:null,X:null,y:vc,Y:tc,Z:Ma,"%":ec},sc={a:function(mc,Bc,Oc){return(Bc=lb.exec(Bc.slice(Oc)))?(mc.w=Eb.get(Bc[0].toLowerCase()),Oc+Bc[0].length):-1},A:function(mc,Bc,Oc){return(Bc=bc.exec(Bc.slice(Oc)))?(mc.w=Ia.get(Bc[0].toLowerCase()),
Oc+Bc[0].length):-1},b:function(mc,Bc,Oc){return(Bc=uc.exec(Bc.slice(Oc)))?(mc.m=Cc.get(Bc[0].toLowerCase()),Oc+Bc[0].length):-1},B:function(mc,Bc,Oc){return(Bc=Zb.exec(Bc.slice(Oc)))?(mc.m=lc.get(Bc[0].toLowerCase()),Oc+Bc[0].length):-1},c:function(mc,Bc,Oc){return dd(mc,nd,Bc,Oc)},d:xa,e:xa,f:Ra,g:kb,G:Sa,H:Ja,I:Ja,j:Ua,L:La,m:gb,M:da,p:function(mc,Bc,Oc){return(Bc=zb.exec(Bc.slice(Oc)))?(mc.p=kc.get(Bc[0].toLowerCase()),Oc+Bc[0].length):-1},q:Ea,Q:Wa,s:jb,S:wa,u:mb,U:Pa,V:Ba,w:nb,W:Ca,x:function(mc,
Bc,Oc){return dd(mc,Nd,Bc,Oc)},X:function(mc,Bc,Oc){return dd(mc,Wd,Bc,Oc)},y:kb,Y:Sa,Z:za,"%":fb};Bb.x=qb(Nd,Bb);Bb.X=qb(Wd,Bb);Bb.c=qb(nd,Bb);pc.x=qb(Nd,pc);pc.X=qb(Wd,pc);pc.c=qb(nd,pc);return{format:function(mc){var Bc=qb(mc+="",Bb);Bc.toString=function(){return mc};return Bc},parse:function(mc){var Bc=Sb(mc+="",!1);Bc.toString=function(){return mc};return Bc},utcFormat:function(mc){var Bc=qb(mc+="",pc);Bc.toString=function(){return mc};return Bc},utcParse:function(mc){var Bc=Sb(mc+="",!0);Bc.toString=
function(){return mc};return Bc}}}function pb(Ha,qb,Sb){var dd=0>Ha?"-":"";Ha=(dd?-Ha:Ha)+"";var nd=Ha.length;return dd+(nd<Sb?Array(Sb-nd+1).join(qb)+Ha:Ha)}function Ib(Ha){return Ha.replace(ce,"\\$\x26")}function Ab(Ha){return new RegExp("^(?:"+Ha.map(Ib).join("|")+")","i")}function Va(Ha){return new Map(Ha.map((qb,Sb)=>[qb.toLowerCase(),Sb]))}function nb(Ha,qb,Sb){return(qb=Nc.exec(qb.slice(Sb,Sb+1)))?(Ha.w=+qb[0],Sb+qb[0].length):-1}function mb(Ha,qb,Sb){return(qb=Nc.exec(qb.slice(Sb,Sb+1)))?
(Ha.u=+qb[0],Sb+qb[0].length):-1}function Pa(Ha,qb,Sb){return(qb=Nc.exec(qb.slice(Sb,Sb+2)))?(Ha.U=+qb[0],Sb+qb[0].length):-1}function Ba(Ha,qb,Sb){return(qb=Nc.exec(qb.slice(Sb,Sb+2)))?(Ha.V=+qb[0],Sb+qb[0].length):-1}function Ca(Ha,qb,Sb){return(qb=Nc.exec(qb.slice(Sb,Sb+2)))?(Ha.W=+qb[0],Sb+qb[0].length):-1}function Sa(Ha,qb,Sb){return(qb=Nc.exec(qb.slice(Sb,Sb+4)))?(Ha.y=+qb[0],Sb+qb[0].length):-1}function kb(Ha,qb,Sb){return(qb=Nc.exec(qb.slice(Sb,Sb+2)))?(Ha.y=+qb[0]+(68<+qb[0]?1900:2E3),Sb+
qb[0].length):-1}function za(Ha,qb,Sb){return(qb=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(qb.slice(Sb,Sb+6)))?(Ha.Z=qb[1]?0:-(qb[2]+(qb[3]||"00")),Sb+qb[0].length):-1}function Ea(Ha,qb,Sb){return(qb=Nc.exec(qb.slice(Sb,Sb+1)))?(Ha.q=3*qb[0]-3,Sb+qb[0].length):-1}function gb(Ha,qb,Sb){return(qb=Nc.exec(qb.slice(Sb,Sb+2)))?(Ha.m=qb[0]-1,Sb+qb[0].length):-1}function xa(Ha,qb,Sb){return(qb=Nc.exec(qb.slice(Sb,Sb+2)))?(Ha.d=+qb[0],Sb+qb[0].length):-1}function Ua(Ha,qb,Sb){return(qb=Nc.exec(qb.slice(Sb,Sb+3)))?
(Ha.m=0,Ha.d=+qb[0],Sb+qb[0].length):-1}function Ja(Ha,qb,Sb){return(qb=Nc.exec(qb.slice(Sb,Sb+2)))?(Ha.H=+qb[0],Sb+qb[0].length):-1}function da(Ha,qb,Sb){return(qb=Nc.exec(qb.slice(Sb,Sb+2)))?(Ha.M=+qb[0],Sb+qb[0].length):-1}function wa(Ha,qb,Sb){return(qb=Nc.exec(qb.slice(Sb,Sb+2)))?(Ha.S=+qb[0],Sb+qb[0].length):-1}function La(Ha,qb,Sb){return(qb=Nc.exec(qb.slice(Sb,Sb+3)))?(Ha.L=+qb[0],Sb+qb[0].length):-1}function Ra(Ha,qb,Sb){return(qb=Nc.exec(qb.slice(Sb,Sb+6)))?(Ha.L=Math.floor(qb[0]/1E3),Sb+
qb[0].length):-1}function fb(Ha,qb,Sb){return(Ha=ud.exec(qb.slice(Sb,Sb+1)))?Sb+Ha[0].length:-1}function Wa(Ha,qb,Sb){return(qb=Nc.exec(qb.slice(Sb)))?(Ha.Q=+qb[0],Sb+qb[0].length):-1}function jb(Ha,qb,Sb){return(qb=Nc.exec(qb.slice(Sb)))?(Ha.s=+qb[0],Sb+qb[0].length):-1}function Xa(Ha,qb){return pb(Ha.getDate(),qb,2)}function Q(Ha,qb){return pb(Ha.getHours(),qb,2)}function x(Ha,qb){return pb(Ha.getHours()%12||12,qb,2)}function F(Ha,qb){return pb(1+v.timeDay.count(v.timeYear(Ha),Ha),qb,3)}function O(Ha,
qb){return pb(Ha.getMilliseconds(),qb,3)}function K(Ha,qb){return O(Ha,qb)+"000"}function ka(Ha,qb){return pb(Ha.getMonth()+1,qb,2)}function ia(Ha,qb){return pb(Ha.getMinutes(),qb,2)}function ma(Ha,qb){return pb(Ha.getSeconds(),qb,2)}function Ya(Ha){Ha=Ha.getDay();return 0===Ha?7:Ha}function Za(Ha,qb){return pb(v.timeSunday.count(v.timeYear(Ha)-1,Ha),qb,2)}function S(Ha){var qb=Ha.getDay();return 4<=qb||0===qb?v.timeThursday(Ha):v.timeThursday.ceil(Ha)}function qa(Ha,qb){Ha=S(Ha);return pb(v.timeThursday.count(v.timeYear(Ha),
Ha)+(4===v.timeYear(Ha).getDay()),qb,2)}function ta(Ha){return Ha.getDay()}function ha(Ha,qb){return pb(v.timeMonday.count(v.timeYear(Ha)-1,Ha),qb,2)}function P(Ha,qb){return pb(Ha.getFullYear()%100,qb,2)}function t(Ha,qb){Ha=S(Ha);return pb(Ha.getFullYear()%100,qb,2)}function u(Ha,qb){return pb(Ha.getFullYear()%1E4,qb,4)}function l(Ha,qb){var Sb=Ha.getDay();Ha=4<=Sb||0===Sb?v.timeThursday(Ha):v.timeThursday.ceil(Ha);return pb(Ha.getFullYear()%1E4,qb,4)}function p(Ha){Ha=Ha.getTimezoneOffset();return(0<
Ha?"-":(Ha*=-1,"+"))+pb(Ha/60|0,"0",2)+pb(Ha%60,"0",2)}function A(Ha,qb){return pb(Ha.getUTCDate(),qb,2)}function B(Ha,qb){return pb(Ha.getUTCHours(),qb,2)}function E(Ha,qb){return pb(Ha.getUTCHours()%12||12,qb,2)}function z(Ha,qb){return pb(1+v.utcDay.count(v.utcYear(Ha),Ha),qb,3)}function aa(Ha,qb){return pb(Ha.getUTCMilliseconds(),qb,3)}function sa(Ha,qb){return aa(Ha,qb)+"000"}function fa(Ha,qb){return pb(Ha.getUTCMonth()+1,qb,2)}function Na(Ha,qb){return pb(Ha.getUTCMinutes(),qb,2)}function Da(Ha,
qb){return pb(Ha.getUTCSeconds(),qb,2)}function W(Ha){Ha=Ha.getUTCDay();return 0===Ha?7:Ha}function na(Ha,qb){return pb(v.utcSunday.count(v.utcYear(Ha)-1,Ha),qb,2)}function $a(Ha){var qb=Ha.getUTCDay();return 4<=qb||0===qb?v.utcThursday(Ha):v.utcThursday.ceil(Ha)}function sb(Ha,qb){Ha=$a(Ha);return pb(v.utcThursday.count(v.utcYear(Ha),Ha)+(4===v.utcYear(Ha).getUTCDay()),qb,2)}function Db(Ha){return Ha.getUTCDay()}function Xb(Ha,qb){return pb(v.utcMonday.count(v.utcYear(Ha)-1,Ha),qb,2)}function vc(Ha,
qb){return pb(Ha.getUTCFullYear()%100,qb,2)}function Vc(Ha,qb){Ha=$a(Ha);return pb(Ha.getUTCFullYear()%100,qb,2)}function tc(Ha,qb){return pb(Ha.getUTCFullYear()%1E4,qb,4)}function Hc(Ha,qb){var Sb=Ha.getUTCDay();Ha=4<=Sb||0===Sb?v.utcThursday(Ha):v.utcThursday.ceil(Ha);return pb(Ha.getUTCFullYear()%1E4,qb,4)}function Ma(){return"+0000"}function ec(){return"%"}function cc(Ha){return+Ha}function nc(Ha){return Math.floor(+Ha/1E3)}function Ec(Ha){Zc=db(Ha);n.timeFormat=Zc.format;n.timeParse=Zc.parse;
n.utcFormat=Zc.utcFormat;n.utcParse=Zc.utcParse;return Zc}function jc(Ha){return Ha.toISOString()}function Mc(Ha){Ha=new Date(Ha);return isNaN(Ha)?null:Ha}var Rc={"-":"",_:" ",0:"0"},Nc=/^\s*\d+/,ud=/^%/,ce=/[\\^$*+?|[\]().{}]/g,Zc;Ec({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),
shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var ed=Date.prototype.toISOString?jc:n.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),Pd=+new Date("2000-01-01T00:00:00.000Z")?Mc:n.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");n.isoFormat=ed;n.isoParse=Pd;n.timeFormatDefaultLocale=Ec;n.timeFormatLocale=db;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[23]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc,Ob(18),Ob(19),Ob(21),Ob(17),Ob(22)):"function"===typeof define&&define.amd?define("exports d3-array d3-format vega-time vega-util d3-time-format".split(" "),v):(n="undefined"!==typeof globalThis?globalThis:n||self,v(n.vega={},n.d3,n.d3,n.vega,n.vega,n.d3))})(this,function(n,v,Y,Qa,Qb,db){function pb(xa){const Ua={};return Ja=>Ua[Ja]||(Ua[Ja]=xa(Ja))}function Ib(xa,Ua){return Ja=>{Ja=xa(Ja);const da=
Ja.indexOf(Ua);if(0>da)return Ja;a:{var wa=Ja.lastIndexOf("e");if(!(0<wa)){for(wa=Ja.length;--wa>da;){var La=Ja.charCodeAt(wa);if(48<=La&&57>=La){wa+=1;break a}}wa=void 0}}for(La=wa<Ja.length?Ja.slice(wa):"";--wa>da;)if("0"!==Ja[wa]){++wa;break}return Ja.slice(0,wa)+La}}function Ab(xa){const Ua=pb(xa.format),Ja=xa.formatPrefix;return{format:Ua,formatPrefix:Ja,formatFloat(da){da=Y.formatSpecifier(da||",");if(null==da.precision){da.precision=12;switch(da.type){case "%":da.precision-=2;break;case "e":--da.precision}return Ib(Ua(da),
Ua(".1f")(1)[1])}return Ua(da)},formatSpan(da,wa,La,Ra){Ra=Y.formatSpecifier(null==Ra?",f":Ra);La=v.tickStep(da,wa,La);da=Math.max(Math.abs(da),Math.abs(wa));if(null==Ra.precision)switch(Ra.type){case "s":return isNaN(wa=Y.precisionPrefix(La,da))||(Ra.precision=wa),Ja(Ra,da);case "":case "e":case "g":case "p":case "r":isNaN(wa=Y.precisionRound(La,da))||(Ra.precision=wa-("e"===Ra.type));break;case "f":case "%":isNaN(wa=Y.precisionFixed(La))||(Ra.precision=wa-2*("%"===Ra.type))}return Ua(Ra)}}}function Va(){return Ea=
Ab({format:Y.format,formatPrefix:Y.formatPrefix})}function nb(xa){return Ab(Y.formatLocale(xa))}function mb(xa){return arguments.length?Ea=nb(xa):Ea}function Pa(xa,Ua,Ja){Ja=Ja||{};Qb.isObject(Ja)||Qb.error(`Invalid time multi-format specifier: ${Ja}`);const da=Ua(Qa.SECONDS),wa=Ua(Qa.MINUTES),La=Ua(Qa.HOURS),Ra=Ua(Qa.DATE),fb=Ua(Qa.WEEK),Wa=Ua(Qa.MONTH),jb=Ua(Qa.QUARTER),Xa=Ua(Qa.YEAR),Q=xa(Ja[Qa.MILLISECONDS]||".%L"),x=xa(Ja[Qa.SECONDS]||":%S"),F=xa(Ja[Qa.MINUTES]||"%I:%M"),O=xa(Ja[Qa.HOURS]||"%I %p"),
K=xa(Ja[Qa.DATE]||Ja[Qa.DAY]||"%a %d"),ka=xa(Ja[Qa.WEEK]||"%b %d"),ia=xa(Ja[Qa.MONTH]||"%B"),ma=xa(Ja[Qa.QUARTER]||"%B"),Ya=xa(Ja[Qa.YEAR]||"%Y");return Za=>(da(Za)<Za?Q:wa(Za)<Za?x:La(Za)<Za?F:Ra(Za)<Za?O:Wa(Za)<Za?fb(Za)<Za?K:ka:Xa(Za)<Za?jb(Za)<Za?ia:ma:Ya)(Za)}function Ba(xa){const Ua=pb(xa.format),Ja=pb(xa.utcFormat);return{timeFormat:da=>Qb.isString(da)?Ua(da):Pa(Ua,Qa.timeInterval,da),utcFormat:da=>Qb.isString(da)?Ja(da):Pa(Ja,Qa.utcInterval,da),timeParse:pb(xa.parse),utcParse:pb(xa.utcParse)}}
function Ca(){return gb=Ba({format:db.timeFormat,parse:db.timeParse,utcFormat:db.utcFormat,utcParse:db.utcParse})}function Sa(xa){return Ba(db.timeFormatLocale(xa))}function kb(xa){return arguments.length?gb=Sa(xa):gb}function za(xa,Ua){var Ja=arguments.length;Ja&&2!==Ja&&Qb.error("defaultLocale expects either zero or two arguments.");if(Ja){Ja=mb(xa);var da=kb(Ua);Ja=Qb.extend({},Ja,da)}else Ja=mb(),da=kb(),Ja=Qb.extend({},Ja,da);return Ja}let Ea;Va();let gb;Ca();n.defaultLocale=za;n.locale=function(xa,
Ua){xa=xa?nb(xa):mb();Ua=Ua?Sa(Ua):kb();return Qb.extend({},xa,Ua)};n.numberFormatDefaultLocale=mb;n.numberFormatLocale=nb;n.resetDefaultLocale=function(){Va();Ca();return za()};n.resetNumberFormatDefaultLocale=Va;n.resetTimeFormatDefaultLocale=Ca;n.timeFormatDefaultLocale=kb;n.timeFormatLocale=Sa;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[24]=function(Yb,Ob,Lc,fc){function n(db){var pb=db.length;if(0<pb%4)throw Error("Invalid string. Length must be a multiple of 4");db=db.indexOf("\x3d");-1===db&&(db=pb);return[db,db===pb?0:4-db%4]}function v(db,pb,Ib){for(var Ab=[],Va=pb;Va<Ib;Va+=3)pb=(db[Va]<<16&16711680)+(db[Va+1]<<8&65280)+(db[Va+2]&255),Ab.push(Y[pb>>18&63]+Y[pb>>12&63]+Y[pb>>6&63]+Y[pb&63]);return Ab.join("")}fc.byteLength=function(db){db=n(db);var pb=db[1];return 3*(db[0]+pb)/4-pb};fc.toByteArray=function(db){var pb=
n(db);var Ib=pb[0];pb=pb[1];var Ab=new Qb(3*(Ib+pb)/4-pb),Va=0,nb=0<pb?Ib-4:Ib,mb;for(mb=0;mb<nb;mb+=4)Ib=Qa[db.charCodeAt(mb)]<<18|Qa[db.charCodeAt(mb+1)]<<12|Qa[db.charCodeAt(mb+2)]<<6|Qa[db.charCodeAt(mb+3)],Ab[Va++]=Ib>>16&255,Ab[Va++]=Ib>>8&255,Ab[Va++]=Ib&255;2===pb&&(Ib=Qa[db.charCodeAt(mb)]<<2|Qa[db.charCodeAt(mb+1)]>>4,Ab[Va++]=Ib&255);1===pb&&(Ib=Qa[db.charCodeAt(mb)]<<10|Qa[db.charCodeAt(mb+1)]<<4|Qa[db.charCodeAt(mb+2)]>>2,Ab[Va++]=Ib>>8&255,Ab[Va++]=Ib&255);return Ab};fc.fromByteArray=
function(db){for(var pb=db.length,Ib=pb%3,Ab=[],Va=0,nb=pb-Ib;Va<nb;Va+=16383)Ab.push(v(db,Va,Va+16383>nb?nb:Va+16383));1===Ib?(db=db[pb-1],Ab.push(Y[db>>2]+Y[db<<4&63]+"\x3d\x3d")):2===Ib&&(db=(db[pb-2]<<8)+db[pb-1],Ab.push(Y[db>>10]+Y[db>>4&63]+Y[db<<2&63]+"\x3d"));return Ab.join("")};var Y=[],Qa=[],Qb="undefined"!==typeof Uint8Array?Uint8Array:Array;for(Yb=0;64>Yb;++Yb)Y[Yb]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Yb],Qa["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(Yb)]=
Yb;Qa[45]=62;Qa[95]=63};
shadow$provide[25]=function(Yb,Ob,Lc,fc){fc.read=function(n,v,Y,Qa,Qb){var db=8*Qb-Qa-1;var pb=(1<<db)-1,Ib=pb>>1,Ab=-7;Qb=Y?Qb-1:0;var Va=Y?-1:1,nb=n[v+Qb];Qb+=Va;Y=nb&(1<<-Ab)-1;nb>>=-Ab;for(Ab+=db;0<Ab;Y=256*Y+n[v+Qb],Qb+=Va,Ab-=8);db=Y&(1<<-Ab)-1;Y>>=-Ab;for(Ab+=Qa;0<Ab;db=256*db+n[v+Qb],Qb+=Va,Ab-=8);if(0===Y)Y=1-Ib;else{if(Y===pb)return db?NaN:Infinity*(nb?-1:1);db+=Math.pow(2,Qa);Y-=Ib}return(nb?-1:1)*db*Math.pow(2,Y-Qa)};fc.write=function(n,v,Y,Qa,Qb,db){var pb,Ib=8*db-Qb-1,Ab=(1<<Ib)-1,Va=
Ab>>1,nb=23===Qb?Math.pow(2,-24)-Math.pow(2,-77):0;db=Qa?0:db-1;var mb=Qa?1:-1,Pa=0>v||0===v&&0>1/v?1:0;v=Math.abs(v);isNaN(v)||Infinity===v?(v=isNaN(v)?1:0,Qa=Ab):(Qa=Math.floor(Math.log(v)/Math.LN2),1>v*(pb=Math.pow(2,-Qa))&&(Qa--,pb*=2),v=1<=Qa+Va?v+nb/pb:v+nb*Math.pow(2,1-Va),2<=v*pb&&(Qa++,pb/=2),Qa+Va>=Ab?(v=0,Qa=Ab):1<=Qa+Va?(v=(v*pb-1)*Math.pow(2,Qb),Qa+=Va):(v=v*Math.pow(2,Va-1)*Math.pow(2,Qb),Qa=0));for(;8<=Qb;n[Y+db]=v&255,db+=mb,v/=256,Qb-=8);Qa=Qa<<Qb|v;for(Ib+=Qb;0<Ib;n[Y+db]=Qa&255,
db+=mb,Qa/=256,Ib-=8);n[Y+db-mb]|=128*Pa}};
shadow$provide[26]=function(Yb,Ob,Lc,fc){var n={}.toString;Lc.exports=Array.isArray||function(v){return"[object Array]"==n.call(v)}};
shadow$provide[27]=function(Yb,Ob,Lc,fc){function n(){try{var Q=new Uint8Array(1);Q.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return 42===Q.foo()&&"function"===typeof Q.subarray&&0===Q.subarray(1,1).byteLength}catch(x){return!1}}function v(Q,x){if((Y.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<x)throw new RangeError("Invalid typed array length");Y.TYPED_ARRAY_SUPPORT?(Q=new Uint8Array(x),Q.__proto__=Y.prototype):(null===Q&&(Q=new Y(x)),Q.length=x);return Q}function Y(Q,x,
F){if(!(Y.TYPED_ARRAY_SUPPORT||this instanceof Y))return new Y(Q,x,F);if("number"===typeof Q){if("string"===typeof x)throw Error("If encoding is specified then the first argument must be a string");return db(this,Q)}return Qa(this,Q,x,F)}function Qa(Q,x,F,O){if("number"===typeof x)throw new TypeError('"value" argument must not be a number');if("undefined"!==typeof ArrayBuffer&&x instanceof ArrayBuffer){x.byteLength;if(0>F||x.byteLength<F)throw new RangeError("'offset' is out of bounds");if(x.byteLength<
F+(O||0))throw new RangeError("'length' is out of bounds");x=void 0===F&&void 0===O?new Uint8Array(x):void 0===O?new Uint8Array(x,F):new Uint8Array(x,F,O);Y.TYPED_ARRAY_SUPPORT?(Q=x,Q.__proto__=Y.prototype):Q=pb(Q,x);return Q}if("string"===typeof x){O=Q;Q=F;if("string"!==typeof Q||""===Q)Q="utf8";if(!Y.isEncoding(Q))throw new TypeError('"encoding" must be a valid string encoding');F=Va(x,Q)|0;O=v(O,F);x=O.write(x,Q);x!==F&&(O=O.slice(0,x));return O}return Ib(Q,x)}function Qb(Q){if("number"!==typeof Q)throw new TypeError('"size" argument must be a number');
if(0>Q)throw new RangeError('"size" argument must not be negative');}function db(Q,x){Qb(x);Q=v(Q,0>x?0:Ab(x)|0);if(!Y.TYPED_ARRAY_SUPPORT)for(var F=0;F<x;++F)Q[F]=0;return Q}function pb(Q,x){var F=0>x.length?0:Ab(x.length)|0;Q=v(Q,F);for(var O=0;O<F;O+=1)Q[O]=x[O]&255;return Q}function Ib(Q,x){if(Y.isBuffer(x)){var F=Ab(x.length)|0;Q=v(Q,F);if(0===Q.length)return Q;x.copy(Q,0,0,F);return Q}if(x){if("undefined"!==typeof ArrayBuffer&&x.buffer instanceof ArrayBuffer||"length"in x)return(F="number"!==
typeof x.length)||(F=x.length,F=F!==F),F?v(Q,0):pb(Q,x);if("Buffer"===x.type&&Wa(x.data))return pb(Q,x.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}function Ab(Q){if(Q>=(Y.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(Y.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return Q|0}function Va(Q,x){if(Y.isBuffer(Q))return Q.length;if("undefined"!==
typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(Q)||Q instanceof ArrayBuffer))return Q.byteLength;"string"!==typeof Q&&(Q=""+Q);var F=Q.length;if(0===F)return 0;for(var O=!1;;)switch(x){case "ascii":case "latin1":case "binary":return F;case "utf8":case "utf-8":case void 0:return da(Q).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*F;case "hex":return F>>>1;case "base64":return Ra.toByteArray(Ja(Q)).length;default:if(O)return da(Q).length;x=
(""+x).toLowerCase();O=!0}}function nb(Q,x,F){var O=!1;if(void 0===x||0>x)x=0;if(x>this.length)return"";if(void 0===F||F>this.length)F=this.length;if(0>=F)return"";F>>>=0;x>>>=0;if(F<=x)return"";for(Q||(Q="utf8");;)switch(Q){case "hex":Q=x;x=F;F=this.length;if(!Q||0>Q)Q=0;if(!x||0>x||x>F)x=F;O="";for(F=Q;F<x;++F)Q=O,O=this[F],O=16>O?"0"+O.toString(16):O.toString(16),O=Q+O;return O;case "utf8":case "utf-8":return Ca(this,x,F);case "ascii":Q="";for(F=Math.min(this.length,F);x<F;++x)Q+=String.fromCharCode(this[x]&
127);return Q;case "latin1":case "binary":Q="";for(F=Math.min(this.length,F);x<F;++x)Q+=String.fromCharCode(this[x]);return Q;case "base64":return x=0===x&&F===this.length?Ra.fromByteArray(this):Ra.fromByteArray(this.slice(x,F)),x;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":x=this.slice(x,F);F="";for(Q=0;Q<x.length;Q+=2)F+=String.fromCharCode(x[Q]+256*x[Q+1]);return F;default:if(O)throw new TypeError("Unknown encoding: "+Q);Q=(Q+"").toLowerCase();O=!0}}function mb(Q,x,F){var O=Q[x];Q[x]=
Q[F];Q[F]=O}function Pa(Q,x,F,O,K){if(0===Q.length)return-1;"string"===typeof F?(O=F,F=0):2147483647<F?F=2147483647:-2147483648>F&&(F=-2147483648);F=+F;isNaN(F)&&(F=K?0:Q.length-1);0>F&&(F=Q.length+F);if(F>=Q.length){if(K)return-1;F=Q.length-1}else if(0>F)if(K)F=0;else return-1;"string"===typeof x&&(x=Y.from(x,O));if(Y.isBuffer(x))return 0===x.length?-1:Ba(Q,x,F,O,K);if("number"===typeof x)return x&=255,Y.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?K?Uint8Array.prototype.indexOf.call(Q,
x,F):Uint8Array.prototype.lastIndexOf.call(Q,x,F):Ba(Q,[x],F,O,K);throw new TypeError("val must be string, number or Buffer");}function Ba(Q,x,F,O,K){function ka(Za,S){return 1===ia?Za[S]:Za.readUInt16BE(S*ia)}var ia=1,ma=Q.length,Ya=x.length;if(void 0!==O&&(O=String(O).toLowerCase(),"ucs2"===O||"ucs-2"===O||"utf16le"===O||"utf-16le"===O)){if(2>Q.length||2>x.length)return-1;ia=2;ma/=2;Ya/=2;F/=2}if(K)for(O=-1;F<ma;F++)if(ka(Q,F)===ka(x,-1===O?0:F-O)){if(-1===O&&(O=F),F-O+1===Ya)return O*ia}else-1!==
O&&(F-=F-O),O=-1;else for(F+Ya>ma&&(F=ma-Ya);0<=F;F--){ma=!0;for(O=0;O<Ya;O++)if(ka(Q,F+O)!==ka(x,O)){ma=!1;break}if(ma)return F}return-1}function Ca(Q,x,F){F=Math.min(Q.length,F);for(var O=[];x<F;){var K=Q[x],ka=null,ia=239<K?4:223<K?3:191<K?2:1;if(x+ia<=F)switch(ia){case 1:128>K&&(ka=K);break;case 2:var ma=Q[x+1];128===(ma&192)&&(K=(K&31)<<6|ma&63,127<K&&(ka=K));break;case 3:ma=Q[x+1];var Ya=Q[x+2];128===(ma&192)&&128===(Ya&192)&&(K=(K&15)<<12|(ma&63)<<6|Ya&63,2047<K&&(55296>K||57343<K)&&(ka=K));
break;case 4:ma=Q[x+1];Ya=Q[x+2];var Za=Q[x+3];128===(ma&192)&&128===(Ya&192)&&128===(Za&192)&&(K=(K&15)<<18|(ma&63)<<12|(Ya&63)<<6|Za&63,65535<K&&1114112>K&&(ka=K))}null===ka?(ka=65533,ia=1):65535<ka&&(ka-=65536,O.push(ka>>>10&1023|55296),ka=56320|ka&1023);O.push(ka);x+=ia}Q=O.length;if(Q<=jb)O=String.fromCharCode.apply(String,O);else{F="";for(x=0;x<Q;)F+=String.fromCharCode.apply(String,O.slice(x,x+=jb));O=F}return O}function Sa(Q,x,F){if(0!==Q%1||0>Q)throw new RangeError("offset is not uint");
if(Q+x>F)throw new RangeError("Trying to access beyond buffer length");}function kb(Q,x,F,O,K,ka){if(!Y.isBuffer(Q))throw new TypeError('"buffer" argument must be a Buffer instance');if(x>K||x<ka)throw new RangeError('"value" argument is out of bounds');if(F+O>Q.length)throw new RangeError("Index out of range");}function za(Q,x,F,O){0>x&&(x=65535+x+1);for(var K=0,ka=Math.min(Q.length-F,2);K<ka;++K)Q[F+K]=(x&255<<8*(O?K:1-K))>>>8*(O?K:1-K)}function Ea(Q,x,F,O){0>x&&(x=4294967295+x+1);for(var K=0,ka=
Math.min(Q.length-F,4);K<ka;++K)Q[F+K]=x>>>8*(O?K:3-K)&255}function gb(Q,x,F,O,K,ka){if(F+O>Q.length)throw new RangeError("Index out of range");if(0>F)throw new RangeError("Index out of range");}function xa(Q,x,F,O,K){K||gb(Q,x,F,4,3.4028234663852886E38,-3.4028234663852886E38);fb.write(Q,x,F,O,23,4);return F+4}function Ua(Q,x,F,O,K){K||gb(Q,x,F,8,1.7976931348623157E308,-1.7976931348623157E308);fb.write(Q,x,F,O,52,8);return F+8}function Ja(Q){Q=Q.trim?Q.trim():Q.replace(/^\s+|\s+$/g,"");Q=Q.replace(Xa,
"");if(2>Q.length)return"";for(;0!==Q.length%4;)Q+="\x3d";return Q}function da(Q,x){x=x||Infinity;for(var F,O=Q.length,K=null,ka=[],ia=0;ia<O;++ia){F=Q.charCodeAt(ia);if(55295<F&&57344>F){if(!K){if(56319<F){-1<(x-=3)&&ka.push(239,191,189);continue}else if(ia+1===O){-1<(x-=3)&&ka.push(239,191,189);continue}K=F;continue}if(56320>F){-1<(x-=3)&&ka.push(239,191,189);K=F;continue}F=(K-55296<<10|F-56320)+65536}else K&&-1<(x-=3)&&ka.push(239,191,189);K=null;if(128>F){if(0>--x)break;ka.push(F)}else if(2048>
F){if(0>(x-=2))break;ka.push(F>>6|192,F&63|128)}else if(65536>F){if(0>(x-=3))break;ka.push(F>>12|224,F>>6&63|128,F&63|128)}else if(1114112>F){if(0>(x-=4))break;ka.push(F>>18|240,F>>12&63|128,F>>6&63|128,F&63|128)}else throw Error("Invalid code point");}return ka}function wa(Q){for(var x=[],F=0;F<Q.length;++F)x.push(Q.charCodeAt(F)&255);return x}function La(Q,x,F,O){for(var K=0;K<O&&!(K+F>=x.length||K>=Q.length);++K)x[K+F]=Q[K];return K}var Ra=Ob(24),fb=Ob(25),Wa=Ob(26);fc.Buffer=Y;fc.SlowBuffer=function(Q){+Q!=
Q&&(Q=0);return Y.alloc(+Q)};fc.INSPECT_MAX_BYTES=50;Y.TYPED_ARRAY_SUPPORT=void 0!==Yb.TYPED_ARRAY_SUPPORT?Yb.TYPED_ARRAY_SUPPORT:n();fc.kMaxLength=Y.TYPED_ARRAY_SUPPORT?2147483647:1073741823;Y.poolSize=8192;Y._augment=function(Q){Q.__proto__=Y.prototype;return Q};Y.from=function(Q,x,F){return Qa(null,Q,x,F)};Y.TYPED_ARRAY_SUPPORT&&(Y.prototype.__proto__=Uint8Array.prototype,Y.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&Y[Symbol.species]===Y&&Object.defineProperty(Y,Symbol.species,
{value:null,configurable:!0}));Y.alloc=function(Q,x,F){Qb(Q);Q=0>=Q?v(null,Q):void 0!==x?"string"===typeof F?v(null,Q).fill(x,F):v(null,Q).fill(x):v(null,Q);return Q};Y.allocUnsafe=function(Q){return db(null,Q)};Y.allocUnsafeSlow=function(Q){return db(null,Q)};Y.isBuffer=function(Q){return!(null==Q||!Q._isBuffer)};Y.compare=function(Q,x){if(!Y.isBuffer(Q)||!Y.isBuffer(x))throw new TypeError("Arguments must be Buffers");if(Q===x)return 0;for(var F=Q.length,O=x.length,K=0,ka=Math.min(F,O);K<ka;++K)if(Q[K]!==
x[K]){F=Q[K];O=x[K];break}return F<O?-1:O<F?1:0};Y.isEncoding=function(Q){switch(String(Q).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};Y.concat=function(Q,x){if(!Wa(Q))throw new TypeError('"list" argument must be an Array of Buffers');if(0===Q.length)return Y.alloc(0);var F;if(void 0===x)for(F=x=0;F<Q.length;++F)x+=Q[F].length;x=Y.allocUnsafe(x);var O=0;
for(F=0;F<Q.length;++F){var K=Q[F];if(!Y.isBuffer(K))throw new TypeError('"list" argument must be an Array of Buffers');K.copy(x,O);O+=K.length}return x};Y.byteLength=Va;Y.prototype._isBuffer=!0;Y.prototype.swap16=function(){var Q=this.length;if(0!==Q%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var x=0;x<Q;x+=2)mb(this,x,x+1);return this};Y.prototype.swap32=function(){var Q=this.length;if(0!==Q%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var x=
0;x<Q;x+=4)mb(this,x,x+3),mb(this,x+1,x+2);return this};Y.prototype.swap64=function(){var Q=this.length;if(0!==Q%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var x=0;x<Q;x+=8)mb(this,x,x+7),mb(this,x+1,x+6),mb(this,x+2,x+5),mb(this,x+3,x+4);return this};Y.prototype.toString=function(){var Q=this.length|0;return 0===Q?"":0===arguments.length?Ca(this,0,Q):nb.apply(this,arguments)};Y.prototype.equals=function(Q){if(!Y.isBuffer(Q))throw new TypeError("Argument must be a Buffer");
return this===Q?!0:0===Y.compare(this,Q)};Y.prototype.inspect=function(){var Q="",x=fc.INSPECT_MAX_BYTES;0<this.length&&(Q=this.toString("hex",0,x).match(/.{2}/g).join(" "),this.length>x&&(Q+=" ... "));return"\x3cBuffer "+Q+"\x3e"};Y.prototype.compare=function(Q,x,F,O,K){if(!Y.isBuffer(Q))throw new TypeError("Argument must be a Buffer");void 0===x&&(x=0);void 0===F&&(F=Q?Q.length:0);void 0===O&&(O=0);void 0===K&&(K=this.length);if(0>x||F>Q.length||0>O||K>this.length)throw new RangeError("out of range index");
if(O>=K&&x>=F)return 0;if(O>=K)return-1;if(x>=F)return 1;x>>>=0;F>>>=0;O>>>=0;K>>>=0;if(this===Q)return 0;var ka=K-O,ia=F-x,ma=Math.min(ka,ia);O=this.slice(O,K);Q=Q.slice(x,F);for(x=0;x<ma;++x)if(O[x]!==Q[x]){ka=O[x];ia=Q[x];break}return ka<ia?-1:ia<ka?1:0};Y.prototype.includes=function(Q,x,F){return-1!==this.indexOf(Q,x,F)};Y.prototype.indexOf=function(Q,x,F){return Pa(this,Q,x,F,!0)};Y.prototype.lastIndexOf=function(Q,x,F){return Pa(this,Q,x,F,!1)};Y.prototype.write=function(Q,x,F,O){if(void 0===
x)O="utf8",F=this.length,x=0;else if(void 0===F&&"string"===typeof x)O=x,F=this.length,x=0;else if(isFinite(x))x|=0,isFinite(F)?(F|=0,void 0===O&&(O="utf8")):(O=F,F=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var K=this.length-x;if(void 0===F||F>K)F=K;if(0<Q.length&&(0>F||0>x)||x>this.length)throw new RangeError("Attempt to write outside buffer bounds");O||(O="utf8");for(K=!1;;)switch(O){case "hex":a:{x=Number(x)||0;O=this.length-x;F?(F=Number(F),
F>O&&(F=O)):F=O;O=Q.length;if(0!==O%2)throw new TypeError("Invalid hex string");F>O/2&&(F=O/2);for(O=0;O<F;++O){K=parseInt(Q.substr(2*O,2),16);if(isNaN(K)){Q=O;break a}this[x+O]=K}Q=O}return Q;case "utf8":case "utf-8":return La(da(Q,this.length-x),this,x,F);case "ascii":return La(wa(Q),this,x,F);case "latin1":case "binary":return La(wa(Q),this,x,F);case "base64":return La(Ra.toByteArray(Ja(Q)),this,x,F);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":O=Q;K=this.length-x;for(var ka=[],ia=0;ia<
O.length&&!(0>(K-=2));++ia){var ma=O.charCodeAt(ia);Q=ma>>8;ma%=256;ka.push(ma);ka.push(Q)}return La(ka,this,x,F);default:if(K)throw new TypeError("Unknown encoding: "+O);O=(""+O).toLowerCase();K=!0}};Y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var jb=4096;Y.prototype.slice=function(Q,x){var F=this.length;Q=~~Q;x=void 0===x?F:~~x;0>Q?(Q+=F,0>Q&&(Q=0)):Q>F&&(Q=F);0>x?(x+=F,0>x&&(x=0)):x>F&&(x=F);x<Q&&(x=Q);if(Y.TYPED_ARRAY_SUPPORT)x=this.subarray(Q,
x),x.__proto__=Y.prototype;else{F=x-Q;x=new Y(F,void 0);for(var O=0;O<F;++O)x[O]=this[O+Q]}return x};Y.prototype.readUIntLE=function(Q,x,F){Q|=0;x|=0;F||Sa(Q,x,this.length);F=this[Q];for(var O=1,K=0;++K<x&&(O*=256);)F+=this[Q+K]*O;return F};Y.prototype.readUIntBE=function(Q,x,F){Q|=0;x|=0;F||Sa(Q,x,this.length);F=this[Q+--x];for(var O=1;0<x&&(O*=256);)F+=this[Q+--x]*O;return F};Y.prototype.readUInt8=function(Q,x){x||Sa(Q,1,this.length);return this[Q]};Y.prototype.readUInt16LE=function(Q,x){x||Sa(Q,
2,this.length);return this[Q]|this[Q+1]<<8};Y.prototype.readUInt16BE=function(Q,x){x||Sa(Q,2,this.length);return this[Q]<<8|this[Q+1]};Y.prototype.readUInt32LE=function(Q,x){x||Sa(Q,4,this.length);return(this[Q]|this[Q+1]<<8|this[Q+2]<<16)+16777216*this[Q+3]};Y.prototype.readUInt32BE=function(Q,x){x||Sa(Q,4,this.length);return 16777216*this[Q]+(this[Q+1]<<16|this[Q+2]<<8|this[Q+3])};Y.prototype.readIntLE=function(Q,x,F){Q|=0;x|=0;F||Sa(Q,x,this.length);F=this[Q];for(var O=1,K=0;++K<x&&(O*=256);)F+=
this[Q+K]*O;F>=128*O&&(F-=Math.pow(2,8*x));return F};Y.prototype.readIntBE=function(Q,x,F){Q|=0;x|=0;F||Sa(Q,x,this.length);F=x;for(var O=1,K=this[Q+--F];0<F&&(O*=256);)K+=this[Q+--F]*O;K>=128*O&&(K-=Math.pow(2,8*x));return K};Y.prototype.readInt8=function(Q,x){x||Sa(Q,1,this.length);return this[Q]&128?-1*(255-this[Q]+1):this[Q]};Y.prototype.readInt16LE=function(Q,x){x||Sa(Q,2,this.length);Q=this[Q]|this[Q+1]<<8;return Q&32768?Q|4294901760:Q};Y.prototype.readInt16BE=function(Q,x){x||Sa(Q,2,this.length);
Q=this[Q+1]|this[Q]<<8;return Q&32768?Q|4294901760:Q};Y.prototype.readInt32LE=function(Q,x){x||Sa(Q,4,this.length);return this[Q]|this[Q+1]<<8|this[Q+2]<<16|this[Q+3]<<24};Y.prototype.readInt32BE=function(Q,x){x||Sa(Q,4,this.length);return this[Q]<<24|this[Q+1]<<16|this[Q+2]<<8|this[Q+3]};Y.prototype.readFloatLE=function(Q,x){x||Sa(Q,4,this.length);return fb.read(this,Q,!0,23,4)};Y.prototype.readFloatBE=function(Q,x){x||Sa(Q,4,this.length);return fb.read(this,Q,!1,23,4)};Y.prototype.readDoubleLE=
function(Q,x){x||Sa(Q,8,this.length);return fb.read(this,Q,!0,52,8)};Y.prototype.readDoubleBE=function(Q,x){x||Sa(Q,8,this.length);return fb.read(this,Q,!1,52,8)};Y.prototype.writeUIntLE=function(Q,x,F,O){Q=+Q;x|=0;F|=0;O||kb(this,Q,x,F,Math.pow(2,8*F)-1,0);O=1;var K=0;for(this[x]=Q&255;++K<F&&(O*=256);)this[x+K]=Q/O&255;return x+F};Y.prototype.writeUIntBE=function(Q,x,F,O){Q=+Q;x|=0;F|=0;O||kb(this,Q,x,F,Math.pow(2,8*F)-1,0);O=F-1;var K=1;for(this[x+O]=Q&255;0<=--O&&(K*=256);)this[x+O]=Q/K&255;return x+
F};Y.prototype.writeUInt8=function(Q,x,F){Q=+Q;x|=0;F||kb(this,Q,x,1,255,0);Y.TYPED_ARRAY_SUPPORT||(Q=Math.floor(Q));this[x]=Q&255;return x+1};Y.prototype.writeUInt16LE=function(Q,x,F){Q=+Q;x|=0;F||kb(this,Q,x,2,65535,0);Y.TYPED_ARRAY_SUPPORT?(this[x]=Q&255,this[x+1]=Q>>>8):za(this,Q,x,!0);return x+2};Y.prototype.writeUInt16BE=function(Q,x,F){Q=+Q;x|=0;F||kb(this,Q,x,2,65535,0);Y.TYPED_ARRAY_SUPPORT?(this[x]=Q>>>8,this[x+1]=Q&255):za(this,Q,x,!1);return x+2};Y.prototype.writeUInt32LE=function(Q,x,
F){Q=+Q;x|=0;F||kb(this,Q,x,4,4294967295,0);Y.TYPED_ARRAY_SUPPORT?(this[x+3]=Q>>>24,this[x+2]=Q>>>16,this[x+1]=Q>>>8,this[x]=Q&255):Ea(this,Q,x,!0);return x+4};Y.prototype.writeUInt32BE=function(Q,x,F){Q=+Q;x|=0;F||kb(this,Q,x,4,4294967295,0);Y.TYPED_ARRAY_SUPPORT?(this[x]=Q>>>24,this[x+1]=Q>>>16,this[x+2]=Q>>>8,this[x+3]=Q&255):Ea(this,Q,x,!1);return x+4};Y.prototype.writeIntLE=function(Q,x,F,O){Q=+Q;x|=0;O||(O=Math.pow(2,8*F-1),kb(this,Q,x,F,O-1,-O));O=0;var K=1,ka=0;for(this[x]=Q&255;++O<F&&(K*=
256);)0>Q&&0===ka&&0!==this[x+O-1]&&(ka=1),this[x+O]=(Q/K>>0)-ka&255;return x+F};Y.prototype.writeIntBE=function(Q,x,F,O){Q=+Q;x|=0;O||(O=Math.pow(2,8*F-1),kb(this,Q,x,F,O-1,-O));O=F-1;var K=1,ka=0;for(this[x+O]=Q&255;0<=--O&&(K*=256);)0>Q&&0===ka&&0!==this[x+O+1]&&(ka=1),this[x+O]=(Q/K>>0)-ka&255;return x+F};Y.prototype.writeInt8=function(Q,x,F){Q=+Q;x|=0;F||kb(this,Q,x,1,127,-128);Y.TYPED_ARRAY_SUPPORT||(Q=Math.floor(Q));0>Q&&(Q=255+Q+1);this[x]=Q&255;return x+1};Y.prototype.writeInt16LE=function(Q,
x,F){Q=+Q;x|=0;F||kb(this,Q,x,2,32767,-32768);Y.TYPED_ARRAY_SUPPORT?(this[x]=Q&255,this[x+1]=Q>>>8):za(this,Q,x,!0);return x+2};Y.prototype.writeInt16BE=function(Q,x,F){Q=+Q;x|=0;F||kb(this,Q,x,2,32767,-32768);Y.TYPED_ARRAY_SUPPORT?(this[x]=Q>>>8,this[x+1]=Q&255):za(this,Q,x,!1);return x+2};Y.prototype.writeInt32LE=function(Q,x,F){Q=+Q;x|=0;F||kb(this,Q,x,4,2147483647,-2147483648);Y.TYPED_ARRAY_SUPPORT?(this[x]=Q&255,this[x+1]=Q>>>8,this[x+2]=Q>>>16,this[x+3]=Q>>>24):Ea(this,Q,x,!0);return x+4};Y.prototype.writeInt32BE=
function(Q,x,F){Q=+Q;x|=0;F||kb(this,Q,x,4,2147483647,-2147483648);0>Q&&(Q=4294967295+Q+1);Y.TYPED_ARRAY_SUPPORT?(this[x]=Q>>>24,this[x+1]=Q>>>16,this[x+2]=Q>>>8,this[x+3]=Q&255):Ea(this,Q,x,!1);return x+4};Y.prototype.writeFloatLE=function(Q,x,F){return xa(this,Q,x,!0,F)};Y.prototype.writeFloatBE=function(Q,x,F){return xa(this,Q,x,!1,F)};Y.prototype.writeDoubleLE=function(Q,x,F){return Ua(this,Q,x,!0,F)};Y.prototype.writeDoubleBE=function(Q,x,F){return Ua(this,Q,x,!1,F)};Y.prototype.copy=function(Q,
x,F,O){F||(F=0);O||0===O||(O=this.length);x>=Q.length&&(x=Q.length);x||(x=0);0<O&&O<F&&(O=F);if(O===F||0===Q.length||0===this.length)return 0;if(0>x)throw new RangeError("targetStart out of bounds");if(0>F||F>=this.length)throw new RangeError("sourceStart out of bounds");if(0>O)throw new RangeError("sourceEnd out of bounds");O>this.length&&(O=this.length);Q.length-x<O-F&&(O=Q.length-x+F);var K=O-F;if(this===Q&&F<x&&x<O)for(O=K-1;0<=O;--O)Q[O+x]=this[O+F];else if(1E3>K||!Y.TYPED_ARRAY_SUPPORT)for(O=
0;O<K;++O)Q[O+x]=this[O+F];else Uint8Array.prototype.set.call(Q,this.subarray(F,F+K),x);return K};Y.prototype.fill=function(Q,x,F,O){if("string"===typeof Q){"string"===typeof x?(O=x,x=0,F=this.length):"string"===typeof F&&(O=F,F=this.length);if(1===Q.length){var K=Q.charCodeAt(0);256>K&&(Q=K)}if(void 0!==O&&"string"!==typeof O)throw new TypeError("encoding must be a string");if("string"===typeof O&&!Y.isEncoding(O))throw new TypeError("Unknown encoding: "+O);}else"number"===typeof Q&&(Q&=255);if(0>
x||this.length<x||this.length<F)throw new RangeError("Out of range index");if(F<=x)return this;x>>>=0;F=void 0===F?this.length:F>>>0;Q||(Q=0);if("number"===typeof Q)for(O=x;O<F;++O)this[O]=Q;else for(Q=Y.isBuffer(Q)?Q:da((new Y(Q,O)).toString()),K=Q.length,O=0;O<F-x;++O)this[O+x]=Q[O%K];return this};var Xa=/[^+\/0-9A-Za-z-_]/g};
shadow$provide[28]=function(Yb,Ob,Lc,fc){var n=Ob(27).Buffer;!function(v,Y){"object"==typeof fc&&"undefined"!=typeof Lc?Y(fc,Ob(17),Ob(23)):"function"==typeof define&&define.amd?define(["exports","vega-util","vega-format"],Y):Y((v="undefined"!=typeof globalThis?globalThis:v||self).vega={},v.vega,v.vega)}(this,function(v,Y,Qa){function Qb(S,qa){const ta=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const ha=yield ta.sanitize(S,qa),P=ha.href;return ha.localFile?ta.file(P):ta.http(P,
qa)})}function db(S,qa){const ta=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){qa=Y.extend({},ta.options,qa);const ha=ta.fileAccess,P={href:null};let t,u,l;var p=Xa.test(S.replace(Q,""));null!=S&&"string"==typeof S&&p||Y.error("Sanitize failure, invalid URI: "+Y.stringValue(S));p=jb.test(S);return(l=qa.baseURL)&&!p&&(S.startsWith("/")||"/"===l[l.length-1]||(S="/"+S),S=l+S),u=(t=S.startsWith("file://"))||"file"===qa.mode||"http"!==qa.mode&&!p&&ha,t?S=S.slice(7):S.startsWith("//")&&
("file"===qa.defaultProtocol?(S=S.slice(2),u=!0):S=(qa.defaultProtocol||"http")+":"+S),Object.defineProperty(P,"localFile",{value:!!u}),P.href=S,qa.target&&(P.target=qa.target+""),qa.rel&&(P.rel=qa.rel+""),"image"===qa.context&&qa.crossOrigin&&(P.crossOrigin=qa.crossOrigin+""),P})}function pb(S){return S?qa=>new Promise((ta,ha)=>{S.readFile(qa,(P,t)=>{P?ha(P):ta(t)})}):Ib}function Ib(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){Y.error("No file system access.")})}function Ab(S){return S?
function(qa,ta){const ha=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var P=Y.extend({},ha.options.http,ta);const t=ta&&ta.response;P=yield S(qa,P);return P.ok?Y.isFunction(P[t])?P[t]():P.text():Y.error(P.status+""+P.statusText)})}:Va}function Va(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){Y.error("No HTTP fetch method available.")})}function nb(S,qa){if(!S||!S.length)return"unknown";const ta=S.length,ha=O.length,P=O.map((u,l)=>l+1);for(let u,l,p=0,A=
0;p<ta;++p)for(l=qa?S[p][qa]:S[p],u=0;u<ha;++u)if(P[u]&&null!=(t=l)&&t==t&&!O[u](l)&&(P[u]=0,++A,A===O.length))return"string";var t;return K[P.reduce((u,l)=>0===u?l:u,0)-1]}function mb(S,qa){return qa.reduce((ta,ha)=>(ta[ha]=nb(S,ha),ta),{})}function Pa(S){return new Function("d","return {"+S.map(function(qa,ta){return JSON.stringify(qa)+": d["+ta+'] || ""'}).join(",")+"}")}function Ba(S){var qa=Object.create(null),ta=[];return S.forEach(function(ha){for(var P in ha)P in qa||ta.push(qa[P]=P)}),ta}
function Ca(S,qa){S+="";var ta=S.length;return ta<qa?Array(qa-ta+1).join(0)+S:S}function Sa(S){function qa(l,p){function A(){if(fa)return ia;if(Na)return Na=!1,ka;var W,na,$a=aa;if(34===l.charCodeAt($a)){for(;aa++<z&&34!==l.charCodeAt(aa)||34===l.charCodeAt(++aa););return(W=aa)>=z?fa=!0:10===(na=l.charCodeAt(aa++))?Na=!0:13===na&&(Na=!0,10===l.charCodeAt(aa)&&++aa),l.slice($a+1,W-1).replace(/""/g,'"')}for(;aa<z;){if(10===(na=l.charCodeAt(W=aa++)))Na=!0;else if(13===na)Na=!0,10===l.charCodeAt(aa)&&
++aa;else if(na!==u)continue;return l.slice($a,W)}return fa=!0,l.slice($a,z)}var B,E=[],z=l.length,aa=0,sa=0,fa=0>=z,Na=!1;10===l.charCodeAt(z-1)&&--z;for(13===l.charCodeAt(z-1)&&--z;(B=A())!==ia;){for(var Da=[];B!==ka&&B!==ia;)Da.push(B),B=A();p&&null==(Da=p(Da,sa++))||E.push(Da)}return E}function ta(l,p){return l.map(function(A){return p.map(function(B){return P(A[B])}).join(S)})}function ha(l){return l.map(P).join(S)}function P(l){if(null==l)var p="";else{if(l instanceof Date){var A=l.getUTCHours();
var B=l.getUTCMinutes(),E=l.getUTCSeconds(),z=l.getUTCMilliseconds();A=isNaN(l)?"Invalid Date":(0>(p=l.getUTCFullYear())?"-"+Ca(-p,6):9999<p?"+"+Ca(p,6):Ca(p,4))+"-"+Ca(l.getUTCMonth()+1,2)+"-"+Ca(l.getUTCDate(),2)+(z?"T"+Ca(A,2)+":"+Ca(B,2)+":"+Ca(E,2)+"."+Ca(z,3)+"Z":E?"T"+Ca(A,2)+":"+Ca(B,2)+":"+Ca(E,2)+"Z":B||A?"T"+Ca(A,2)+":"+Ca(B,2)+"Z":"")}else A=t.test(l+="")?'"'+l.replace(/"/g,'""')+'"':l;p=A}return p}var t=new RegExp('["'+S+"\n\r]"),u=S.charCodeAt(0);return{parse:function(l,p){var A,B;l=
qa(l,function(E,z){if(A)return A(E,z-1);B=E;A=p?function(aa,sa){var fa=Pa(aa);return function(Na,Da){return sa(fa(Na),Da,aa)}}(E,p):Pa(E)});return l.columns=B||[],l},parseRows:qa,format:function(l,p){return null==p&&(p=Ba(l)),[p.map(P).join(S)].concat(ta(l,p)).join("\n")},formatBody:function(l,p){return null==p&&(p=Ba(l)),ta(l,p).join("\n")},formatRows:function(l){return l.map(ha).join("\n")},formatRow:ha,formatValue:P}}function kb(S){const qa=function(ta,ha){const P={delimiter:S};return za(ta,ha?
Y.extend(ha,P):P)};return qa.responseType="text",qa}function za(S,qa){return qa.header&&(S=qa.header.map(Y.stringValue).join(qa.delimiter)+"\n"+S),Sa(qa.delimiter).parse(S+"")}function Ea(S,qa){const ta=qa&&qa.property?Y.field(qa.property):Y.identity;!Y.isObject(S)||(ha=S,"function"==typeof n&&Y.isFunction(n.isBuffer)&&n.isBuffer(ha))?qa=ta(JSON.parse(S)):(S=ta(S),!Y.isArray(S)&&Y.isIterable(S)&&(S=[...S]),qa=qa&&qa.copy?JSON.parse(JSON.stringify(S)):S);return qa;var ha}function gb(S){return S}function xa(S,
qa){return"string"==typeof qa&&(qa=S.objects[qa]),"GeometryCollection"===qa.type?{type:"FeatureCollection",features:qa.geometries.map(function(ta){return Ua(S,ta)})}:Ua(S,qa)}function Ua(S,qa){var ta=qa.id,ha=qa.bbox,P=null==qa.properties?{}:qa.properties;S=Ja(S,qa);return null==ta&&null==ha?{type:"Feature",properties:P,geometry:S}:null==ha?{type:"Feature",id:ta,properties:P,geometry:S}:{type:"Feature",id:ta,bbox:ha,properties:P,geometry:S}}function Ja(S,qa){function ta(p){return u(p)}function ha(p){for(var A=
[],B=0,E=p.length;B<E;++B){var z,aa=p[B],sa=A;sa.length&&sa.pop();var fa=l[0>aa?~aa:aa],Na=0;for(z=fa.length;Na<z;++Na)sa.push(u(fa[Na],Na));if(0>aa)for(aa=sa.length,fa=aa-z;fa<--aa;)z=sa[fa],sa[fa++]=sa[aa],sa[aa]=z}return 2>A.length&&A.push(A[0]),A}function P(p){for(p=ha(p);4>p.length;)p.push(p[0]);return p}function t(p){return p.map(P)}var u=function(p){if(null==p)return gb;var A,B,E=p.scale[0],z=p.scale[1],aa=p.translate[0],sa=p.translate[1];return function(fa,Na){Na||(A=B=0);Na=2;var Da=fa.length,
W=Array(Da);W[0]=(A+=fa[0])*E+aa;for(W[1]=(B+=fa[1])*z+sa;Na<Da;)W[Na]=fa[Na],++Na;return W}}(S.transform),l=S.arcs;return function B(A){var E=A.type;switch(E){case "GeometryCollection":return{type:E,geometries:A.geometries.map(B)};case "Point":A=u(A.coordinates);break;case "MultiPoint":A=A.coordinates.map(ta);break;case "LineString":A=ha(A.arcs);break;case "MultiLineString":A=A.arcs.map(ha);break;case "Polygon":A=t(A.arcs);break;case "MultiPolygon":A=A.arcs.map(t);break;default:return null}return{type:E,
coordinates:A}}(qa)}function da(S,qa){function ta(p,A){for(var B in p){var E=p[B];delete A[E.start];delete E.start;delete E.end;E.forEach(function(z){ha[0>z?~z:z]=1});u.push(E)}}var ha={},P={},t={},u=[],l=-1;return qa.forEach(function(p,A){var B,E=S.arcs[0>p?~p:p];3>E.length&&!E[1][0]&&!E[1][1]&&(B=qa[++l],qa[l]=p,qa[A]=B)}),qa.forEach(function(p){var A=function(z){var aa,sa=S.arcs[0>z?~z:z],fa=sa[0];S.transform?(aa=[0,0],sa.forEach(function(Na){aa[0]+=Na[0];aa[1]+=Na[1]})):aa=sa[sa.length-1];return 0>
z?[aa,fa]:[fa,aa]}(p);var B=A[0],E=A[1];(A=t[B])?(delete t[A.end],A.push(p),A.end=E,p=P[E])?(delete P[p.start],B=p===A?A:A.concat(p),P[B.start=A.start]=t[B.end=p.end]=B):P[A.start]=t[A.end]=A:(A=P[E])?(delete P[A.start],A.unshift(p),A.start=B,p=t[B])?(delete t[p.end],B=p===A?A:p.concat(A),P[B.start=p.start]=t[B.end=A.end]=B):P[A.start]=t[A.end]=A:P[(A=[p]).start=B]=t[A.end=E]=A}),ta(t,P),ta(P,t),qa.forEach(function(p){ha[0>p?~p:p]||u.push([p])}),u}function wa(S){return Ja(S,La.apply(this,arguments))}
function La(S,qa,ta){var ha;if(1<arguments.length)var P=Ra(S,qa,ta);else{var t=0;for(P=Array(ha=S.arcs.length);t<ha;++t)P[t]=t}return{type:"MultiLineString",arcs:da(S,P)}}function Ra(S,qa,ta){function ha(A){var B=0>A?~A:A;(p[B]||(p[B]=[])).push({i:A,g:u})}function P(A){A.forEach(ha)}function t(A){A.forEach(P)}var u,l=[],p=[];return function E(B){switch(u=B,B.type){case "GeometryCollection":B.geometries.forEach(E);break;case "LineString":P(B.arcs);break;case "MultiLineString":case "Polygon":t(B.arcs);
break;case "MultiPolygon":B.arcs.forEach(t),!0}}(qa),p.forEach(null==ta?function(B){l.push(B[0].i)}:function(B){ta(B[0].g,B[B.length-1].g)&&l.push(B[0].i)}),l}function fb(S,qa){let ta,ha,P,t;return S=Ea(S,qa),qa&&qa.feature?(ta=xa,P=qa.feature):qa&&qa.mesh?(ta=wa,P=qa.mesh,t=ma[qa.filter]):Y.error("Missing TopoJSON feature or mesh parameter."),ha=(ha=S.objects[P])?ta(S,ha,t):Y.error("Invalid TopoJSON object: "+P),ha&&ha.features||[ha]}function Wa(S,qa){return 1<arguments.length?(Ya[S]=qa,this):Y.hasOwnProperty(Ya,
S)?Ya[S]:null}const jb=/^([A-Za-z]+:)?\/\//,Xa=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,Q=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,x=S=>!(Number.isNaN(+S)||S instanceof Date),F={boolean:Y.toBoolean,integer:Y.toNumber,number:Y.toNumber,date:Y.toDate,string:Y.toString,unknown:Y.identity},O=[S=>"true"===S||"false"===S||!0===S||!1===S,S=>x(S)&&Number.isInteger(+S),x,S=>!Number.isNaN(Date.parse(S))],K=["boolean","integer","number",
"date"];var ka={},ia={};za.responseType="text";Ea.responseType="json";const ma={interior:(S,qa)=>S!==qa,exterior:(S,qa)=>S===qa};fb.responseType="json";const Ya={dsv:za,csv:kb(","),tsv:kb("\t"),json:Ea,topojson:fb},Za=function(S,qa){return ta=>({options:ta||{},sanitize:db,load:Qb,fileAccess:!!qa,file:pb(qa),http:Ab(S)})}("undefined"!=typeof fetch&&fetch,null);v.format=Ya;v.formats=Wa;v.inferType=nb;v.inferTypes=mb;v.loader=Za;v.read=function(S,qa,ta,ha){const P=Wa((qa=qa||{}).type||"json");return P||
Y.error("Unknown data format type: "+qa.type),S=P(S,qa),qa.parse&&function(t,u,l,p){if(t.length){var A=Qa.timeFormatDefaultLocale();l=l||A.timeParse;p=p||A.utcParse;var B,E,z=t.columns||Object.keys(t[0]);"auto"===u&&(u=mb(t,z));z=Object.keys(u);var aa=z.map(Da=>{var W=u[Da];if(W&&(W.startsWith("date:")||W.startsWith("utc:")))return Da=W.split(/:(.+)?/,2),W=Da[1],("'"===W[0]&&"'"===W[W.length-1]||'"'===W[0]&&'"'===W[W.length-1])&&(W=W.slice(1,-1)),("utc"===Da[0]?p:l)(W);if(!F[W])throw Error("Illegal format pattern: "+
Da+":"+W);return F[W]});var sa=0;var fa=t.length;for(E=z.length;sa<fa;++sa)for(A=t[sa],B=0;B<E;++B){var Na=z[B];A[Na]=aa[B](A[Na])}}}(S,qa.parse,ta,ha),Y.hasOwnProperty(S,"columns")&&delete S.columns,S};v.responseType=function(S){return(S=Wa(S))&&S.responseType||"text"};v.typeParsers=F;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[29]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc,Ob(17),Ob(28),Ob(23)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],v):(n="undefined"!==typeof globalThis?globalThis:n||self,v(n.vega={},n.vega,n.vega,n.vega))})(this,function(n,v,Y,Qa){function Qb(S){const qa=S||v.identity,ta=[],ha={};ta.add=P=>{const t=qa(P);ha[t]||(ha[t]=1,ta.push(P));return ta};ta.remove=P=>{const t=qa(P);ha[t]&&(ha[t]=
0,P=ta.indexOf(P),0<=P&&ta.splice(P,1));return ta};return ta}function db(S,qa){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield qa(S)}catch(ta){S.error(ta)}})}function pb(S){S=S===Object(S)?S:{data:S};if(!S[x]){var qa=F++;S[x]=qa}return S}function Ib(S,qa){for(const ta in S)qa[ta]=S[ta];return qa}function Ab(S){return S&&S.constructor===Va}function Va(){const S=[],qa=[],ta=[],ha=[],P=[];let t=null,u=!1;return{constructor:Va,insert(l){l=v.array(l);const p=l.length;for(let A=
0;A<p;++A)S.push(l[A]);return this},remove(l){const p=v.isFunction(l)?ha:qa;l=v.array(l);const A=l.length;for(let B=0;B<A;++B)p.push(l[B]);return this},modify(l,p,A){p={field:p,value:v.constant(A)};v.isFunction(l)?(p.filter=l,P.push(p)):(p.tuple=l,ta.push(p));return this},encode(l,p){v.isFunction(l)?P.push({filter:l,field:p}):ta.push({tuple:l,field:p});return this},clean(l){t=l;return this},reflow(){u=!0;return this},pulse(l,p){function A(W,na,$a){$a?W[na]=$a(W):l.encode=na;u||(E[W[x]]=W)}const B=
{},E={};let z,aa,sa,fa,Na,Da;z=0;for(aa=p.length;z<aa;++z)B[p[z][x]]=1;z=0;for(aa=qa.length;z<aa;++z)Na=qa[z],B[Na[x]]=-1;z=0;for(aa=ha.length;z<aa;++z)fa=ha[z],p.forEach(W=>{fa(W)&&(B[W[x]]=-1)});z=0;for(aa=S.length;z<aa;++z)Na=S[z],Da=Na[x],B[Da]?B[Da]=1:l.add.push(pb(S[z]));z=0;for(aa=p.length;z<aa;++z)Na=p[z],0>B[Na[x]]&&l.rem.push(Na);z=0;for(aa=ta.length;z<aa;++z)sa=ta[z],Na=sa.tuple,fa=sa.field,Da=B[Na[x]],0<Da&&(A(Na,fa,sa.value),l.modifies(fa));z=0;for(aa=P.length;z<aa;++z)sa=P[z],fa=sa.filter,
p.forEach(W=>{fa(W)&&0<B[W[x]]&&A(W,sa.field,sa.value)}),l.modifies(sa.field);if(u)l.mod=qa.length||ha.length?p.filter(W=>0<B[W[x]]):p.slice();else for(Da in E)l.mod.push(E[Da]);(t||null==t&&(qa.length||ha.length))&&l.clean(!0);return l}}}function nb(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function mb(S,qa,ta,ha){this.id=++O;this.value=S;this.qrank=this.rank=this.stamp=-1;this.flags=0;qa&&(this._update=qa);ta&&this.parameters(ta,ha)}function Pa(S){return function(qa){const ta=
this.flags;if(0===arguments.length)return!!(ta&S);this.flags=qa?ta|S:ta&~S;return this}}function Ba(S,qa,ta){this.id=++ka;this.value=null;ta&&(this.receive=ta);S&&(this._filter=S);qa&&(this._apply=qa)}function Ca(S,qa,ta){return new Ba(S,qa,ta)}function Sa(S){let qa;const ta=new Promise(ha=>qa=ha);ta.requests=0;ta.done=()=>{0===--ta.requests&&(S._pending=null,qa(S))};return S._pending=ta}function kb(S,qa,ta,ha,P,t){const u=v.extend({},t,ia);let l;v.isFunction(ta)||(ta=v.constant(ta));void 0===ha?
P=p=>S.touch(ta(p)):v.isFunction(ha)?(l=new mb(null,ha,P,!1),P=p=>{l.evaluate(p);p=ta(p);const A=l.value;Ab(A)?S.pulse(p,A,t):S.update(p,A,u)}):P=p=>S.update(ta(p),ha,u);qa.apply(P)}function za(S,qa,ta,ha,P,t){void 0===ha?qa.targets().add(ta):(t=t||{},ha=new mb(null,Ea(ta,ha),P,!1),ha.modified(t.force),ha.rank=qa.rank,qa.targets().add(ha),ta&&(ha.skip(!0),ha.value=ta.value,ha.targets().add(ta),S.connect(ta,[ha])))}function Ea(S,qa){qa=v.isFunction(qa)?qa:v.constant(qa);return S?function(ta,ha){ta=
qa(ta,ha);S.skip()||(S.skip(ta!==this.value).value=ta);return ta}:qa}function gb(S,qa,ta){this.dataflow=S;this.stamp=null==qa?-1:qa;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=ta||null}function xa(S,qa){const ta=[];v.visitArray(S,qa,ha=>ta.push(ha));return ta}function Ua(S,qa){const ta={};S.visit(qa,ha=>{ta[ha[x]]=1});return ha=>ta[ha[x]]?null:ha}function Ja(S,qa){return S?(ta,ha)=>S(ta,ha)&&qa(ta,ha):qa}function da(S,qa,ta,ha){const P=ta.length;let t=0;this.dataflow=S;this.stamp=
qa;this.fields=null;this.encode=ha||null;this.pulses=ta;for(S=0;S<P;++S)if(ha=ta[S],ha.stamp===qa){if(ha.fields){const u=this.fields||(this.fields={});for(const l in ha.fields)u[l]=1}ha.changed(this.ADD)&&(t|=this.ADD);ha.changed(this.REM)&&(t|=this.REM);ha.changed(this.MOD)&&(t|=this.MOD)}this.changes=t}function wa(S){S.error("Dataflow already running. Use runAsync() to chain invocations.");return S}function La(S,qa){if(qa&&qa.stamp===S.stamp)return qa;S=S.fork();qa&&qa!==ma&&(S.source=qa.source);
return S}function Ra(S){let qa=[];return{clear:()=>qa=[],size:()=>qa.length,peek:()=>qa[0],push:ta=>{qa.push(ta);return fb(qa,0,qa.length-1,S)},pop:()=>{var ta=qa.pop();let ha;if(qa.length){ha=qa[0];qa[0]=ta;{ta=qa;var P=0;const t=P,u=ta.length,l=ta[P];let p=(P<<1)+1,A;for(;p<u;)A=p+1,A<u&&0<=S(ta[p],ta[A])&&(p=A),ta[P]=ta[p],P=p,p=(P<<1)+1;ta[P]=l;fb(ta,t,P,S)}}else ha=ta;return ha}}}function fb(S,qa,ta,ha){let P,t;const u=S[ta];for(;ta>qa;)if(t=ta-1>>1,P=S[t],0>ha(u,P))S[ta]=P,ta=t;else break;return S[ta]=
u}function Wa(){this.logger(v.logger());this.logLevel(v.Error);this._rank=this._clock=0;this._locale=Qa.defaultLocale();try{this._loader=Y.loader()}catch(S){}this._touched=Qb(v.id);this._input={};this._pulse=null;this._heap=Ra((S,qa)=>S.qrank-qa.qrank);this._postrun=[]}function jb(S){return function(){return this._log[S].apply(this,arguments)}}function Xa(S,qa){mb.call(this,S,null,qa)}function Q(S){S=S&&S.toLowerCase();return v.hasOwnProperty(Za,S)?Za[S]:null}const x=Symbol("vega_id");let F=1;nb.prototype=
{set(S,qa,ta,ha){const P=this[S],t=this["_:mod:_"];if(null!=qa&&0<=qa){if(P[qa]!==ta||ha)P[qa]=ta,t[qa+":"+S]=-1,t[S]=-1}else if(P!==ta||ha)this[S]=ta,t[S]=v.isArray(ta)?1+ta.length:-1;return this},modified(S,qa){const ta=this["_:mod:_"];if(!arguments.length){for(var ha in ta)if(ta[ha])return!0;return!1}if(v.isArray(S)){for(ha=0;ha<S.length;++ha)if(ta[S[ha]])return!0;return!1}return null!=qa&&0<=qa?qa+1<ta[S]||!!ta[qa+":"+S]:!!ta[S]},clear(){this["_:mod:_"]={};return this}};let O=0;const K=new nb;
mb.prototype={targets(){return this._targets||(this._targets=Qb(v.id))},set(S){return this.value!==S?(this.value=S,1):0},skip:Pa(1),modified:Pa(2),parameters(S,qa,ta){qa=!1!==qa;const ha=this._argval=this._argval||new nb,P=this._argops=this._argops||[],t=[];let u,l,p,A;const B=(E,z,aa)=>{aa instanceof mb?(aa!==this&&(qa&&aa.targets().add(this),t.push(aa)),P.push({op:aa,name:E,index:z})):ha.set(E,z,aa)};for(u in S)if(l=S[u],"pulse"===u)v.array(l).forEach(E=>{E instanceof mb?E!==this&&(E.targets().add(this),
t.push(E)):v.error("Pulse parameters must be operator instances.")}),this.source=l;else if(v.isArray(l))for(ha.set(u,-1,Array(p=l.length)),A=0;A<p;++A)B(u,A,l[A]);else B(u,-1,l);this.marshall().clear();ta&&(P.initonly=!0);return t},marshall(S){const qa=this._argval||K,ta=this._argops;let ha,P,t,u;if(ta){const l=ta.length;for(P=0;P<l;++P)ha=ta[P],t=ha.op,u=t.modified()&&t.stamp===S,qa.set(ha.name,ha.index,t.value,u);if(ta.initonly){for(P=0;P<l;++P)ha=ta[P],ha.op.targets().remove(this);this._update=
this._argops=null}}return qa},detach(){const S=this._argops;let qa,ta;if(S)for(qa=0,ta=S.length;qa<ta;++qa){var ha=S[qa];ha=ha.op;ha._targets&&ha._targets.remove(this)}},evaluate(S){var qa=this._update;if(qa){const ta=this.marshall(S.stamp);qa=qa.call(this,ta,S);ta.clear();if(qa!==this.value)this.value=qa;else if(!this.modified())return S.StopPropagation}},run(S){if(S.stamp<this.stamp)return S.StopPropagation;let qa;this.skip()?(this.skip(!1),qa=0):qa=this.evaluate(S);return this.pulse=qa||S}};let ka=
0;Ba.prototype={_filter:v.truthy,_apply:v.identity,targets(){return this._targets||(this._targets=Qb(v.id))},consume(S){if(!arguments.length)return!!this._consume;this._consume=!!S;return this},receive(S){if(this._filter(S)){const qa=this.value=this._apply(S),ta=this._targets,ha=ta?ta.length:0;for(let P=0;P<ha;++P)ta[P].receive(qa);this._consume&&(S.preventDefault(),S.stopPropagation())}},filter(S){S=Ca(S);this.targets().add(S);return S},apply(S){S=Ca(null,S);this.targets().add(S);return S},merge(){const S=
Ca();this.targets().add(S);for(let qa=0,ta=arguments.length;qa<ta;++qa)arguments[qa].targets().add(S);return S},throttle(S){let qa=-1;return this.filter(()=>{const ta=Date.now();return ta-qa>S?(qa=ta,1):0})},debounce(S){const qa=Ca();this.targets().add(Ca(null,null,v.debounce(S,ta=>{const ha=ta.dataflow;qa.receive(ta);ha&&ha.run&&ha.run()})));return qa},between(S,qa){let ta=!1;S.targets().add(Ca(null,null,()=>ta=!0));qa.targets().add(Ca(null,null,()=>ta=!1));return this.filter(()=>ta)},detach(){}};
const ia={skip:!0},ma={};gb.prototype={StopPropagation:ma,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(S){return(new gb(this.dataflow)).init(this,S)},clone(){const S=this.fork(7);S.add=S.add.slice();S.rem=S.rem.slice();S.mod=S.mod.slice();S.source&&(S.source=S.source.slice());return S.materialize(23)},addAll(){let S=this;S.source&&S.add!==S.rem&&(S.rem.length||S.source.length!==S.add.length)&&(S=(new gb(this.dataflow)).init(this),S.add=S.source,S.rem=
[]);return S},init(S,qa){this.stamp=S.stamp;this.encode=S.encode;!S.fields||qa&64||(this.fields=S.fields);qa&1?(this.addF=S.addF,this.add=S.add):(this.addF=null,this.add=[]);qa&2?(this.remF=S.remF,this.rem=S.rem):(this.remF=null,this.rem=[]);qa&4?(this.modF=S.modF,this.mod=S.mod):(this.modF=null,this.mod=[]);qa&32?this.source=this.srcF=null:(this.srcF=S.srcF,this.source=S.source,S.cleans&&(this.cleans=S.cleans));return this},runAfter(S){this.dataflow.runAfter(S)},changed(S){S=S||7;return S&1&&this.add.length||
S&2&&this.rem.length||S&4&&this.mod.length},reflow(S){if(S)return this.fork(7).reflow();S=this.add.length;const qa=this.source&&this.source.length;qa&&qa!==S&&(this.mod=this.source,S&&this.filter(4,Ua(this,1)));return this},clean(S){return arguments.length?(this.cleans=!!S,this):this.cleans},modifies(S){const qa=this.fields||(this.fields={});v.isArray(S)?S.forEach(ta=>qa[ta]=!0):qa[S]=!0;return this},modified(S,qa){const ta=this.fields;return(qa||this.mod.length)&&ta?arguments.length?v.isArray(S)?
S.some(ha=>ta[ha]):ta[S]:!!ta:!1},filter(S,qa){S&1&&(this.addF=Ja(this.addF,qa));S&2&&(this.remF=Ja(this.remF,qa));S&4&&(this.modF=Ja(this.modF,qa));S&16&&(this.srcF=Ja(this.srcF,qa));return this},materialize(S){S=S||7;S&1&&this.addF&&(this.add=xa(this.add,this.addF),this.addF=null);S&2&&this.remF&&(this.rem=xa(this.rem,this.remF),this.remF=null);S&4&&this.modF&&(this.mod=xa(this.mod,this.modF),this.modF=null);S&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},
visit(S,qa){if(S&16)return v.visitArray(this.source,this.srcF,qa),this;S&1&&v.visitArray(this.add,this.addF,qa);S&2&&v.visitArray(this.rem,this.remF,qa);S&4&&v.visitArray(this.mod,this.modF,qa);const ta=this.source;S&8&&ta&&(S=this.add.length+this.mod.length,S!==ta.length&&(S?v.visitArray(ta,Ua(this,5),qa):v.visitArray(ta,this.srcF,qa)));return this}};v.inherits(da,gb,{fork(S){const qa=(new gb(this.dataflow)).init(this,S&this.NO_FIELDS);void 0!==S&&(S&qa.ADD&&this.visit(qa.ADD,ta=>qa.add.push(ta)),
S&qa.REM&&this.visit(qa.REM,ta=>qa.rem.push(ta)),S&qa.MOD&&this.visit(qa.MOD,ta=>qa.mod.push(ta)));return qa},changed(S){return this.changes&S},modified(S){const qa=this.fields;return qa&&this.changes&this.MOD?v.isArray(S)?S.some(ta=>qa[ta]):qa[S]:0},filter(){v.error("MultiPulse does not support filtering.")},materialize(){v.error("MultiPulse does not support materialization.")},visit(S,qa){const ta=this.pulses,ha=ta.length;let P=0;if(S&this.SOURCE)for(;P<ha;++P)ta[P].visit(S,qa);else for(;P<ha;++P)ta[P].stamp===
this.stamp&&ta[P].visit(S,qa);return this}});const Ya={skip:!1,force:!1};Wa.prototype={stamp(){return this._clock},loader(S){return arguments.length?(this._loader=S,this):this._loader},locale(S){return arguments.length?(this._locale=S,this):this._locale},logger(S){return arguments.length?(this._log=S,this):this._log},error:jb("error"),warn:jb("warn"),info:jb("info"),debug:jb("debug"),logLevel:jb("level"),cleanThreshold:1E4,add:function(S,qa,ta,ha){let P=1;S instanceof mb||(S&&S.prototype instanceof
mb?S=new S:v.isFunction(S)?S=new mb(null,S):(P=0,S=new mb(S,qa)));this.rank(S);P&&(ha=ta,ta=qa);ta&&this.connect(S,S.parameters(ta,ha));this.touch(S);return S},connect:function(S,qa){const ta=S.rank,ha=qa.length;for(let P=0;P<ha;++P)if(ta<qa[P].rank){this.rerank(S);break}},rank:function(S){S.rank=++this._rank},rerank:function(S){const qa=[S];let ta,ha,P;for(;qa.length;)if(this.rank(ta=qa.pop()),ha=ta._targets)for(P=ha.length;0<=--P;)qa.push(ta=ha[P]),ta===S&&v.error("Cycle detected in dataflow graph.")},
pulse:function(S,qa,ta){this.touch(S,ta||Ya);ta=new gb(this,this._clock+(this._pulse?0:1));const ha=S.pulse&&S.pulse.source||[];ta.target=S;this._input[S.id]=qa.pulse(ta,ha);return this},touch:function(S,qa){qa=qa||Ya;this._pulse?this._enqueue(S):this._touched.add(S);qa.skip&&S.skip(!0);return this},update:function(S,qa,ta){ta=ta||Ya;(S.set(qa)||ta.force)&&this.touch(S,ta);return this},changeset:Va,ingest:function(S,qa,ta){qa=this.parse(qa,ta);return this.pulse(S,this.changeset().insert(qa))},parse:function(S,
qa){const ta=this.locale();return Y.read(S,qa,ta.timeParse,ta.utcParse)},preload:function(S,qa,ta){const ha=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const P=ha._pending||Sa(ha);P.requests+=1;const t=yield ha.request(qa,ta);ha.pulse(S,ha.changeset().remove(v.truthy).insert(t.data||[]));P.done();return t})},request:function(S,qa){const ta=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let ha=0,P;try{P=yield ta.loader().load(S,{context:"dataflow",response:Y.responseType(qa&&
qa.type)});try{P=ta.parse(P,qa)}catch(t){ha=-2,ta.warn("Data ingestion failed",S,t)}}catch(t){ha=-1,ta.warn("Loading failed",S,t)}return{data:P,status:ha}})},events:function(S,qa,ta,ha){const P=this,t=Ca(ta,ha);ta=function(u){u.dataflow=P;try{t.receive(u)}catch(l){P.error(l)}finally{P.run()}};S="string"===typeof S&&"undefined"!==typeof document?document.querySelectorAll(S):v.array(S);ha=S.length;for(let u=0;u<ha;++u)S[u].addEventListener(qa,ta);return t},on:function(S,qa,ta,ha,P){(S instanceof mb?
za:kb)(this,S,qa,ta,ha,P);return this},evaluate:function(S,qa,ta){const ha=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const P=[];if(ha._pulse)return wa(ha);ha._pending&&(yield ha._pending);qa&&(yield db(ha,qa));if(!ha._touched.length)return ha.debug("Dataflow invoked, but nothing to do."),ha;var t=++ha._clock;ha._pulse=new gb(ha,t,S);ha._touched.forEach(B=>ha._enqueue(B,!0));ha._touched=Qb(v.id);var u=0;let l,p,A;try{for(;0<ha._heap.size();)l=ha._heap.pop(),l.rank!==l.qrank?
ha._enqueue(l,!0):(p=l.run(ha._getPulse(l,S)),p.then?p=yield p:p.async&&(P.push(p.async),p=ma),p!==ma&&l._targets&&l._targets.forEach(B=>ha._enqueue(B)),++u)}catch(B){ha._heap.clear(),A=B}ha._input={};ha._pulse=null;ha.debug(`Pulse ${t}: ${u} operators`);A&&(ha._postrun=[],ha.error(A));if(ha._postrun.length)for(t=ha._postrun.sort((B,E)=>E.priority-B.priority),ha._postrun=[],u=0;u<t.length;++u)yield db(ha,t[u].callback);ta&&(yield db(ha,ta));P.length&&Promise.all(P).then(B=>ha.runAsync(null,()=>{B.forEach(E=>
{try{E(ha)}catch(z){ha.error(z)}})}));return ha})},run:function(S,qa,ta){return this._pulse?wa(this):(this.evaluate(S,qa,ta),this)},runAsync:function(S,qa,ta){const ha=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;ha._running;)yield ha._running;const P=()=>ha._running=null;(ha._running=ha.evaluate(S,qa,ta)).then(P,P);return ha._running})},runAfter:function(S,qa,ta){if(this._pulse||qa)this._postrun.push({priority:ta||0,callback:S});else try{S(this)}catch(ha){this.error(ha)}},
_enqueue:function(S,qa){const ta=S.stamp<this._clock;ta&&(S.stamp=this._clock);if(ta||qa)S.qrank=S.rank,this._heap.push(S)},_getPulse:function(S,qa){const ta=S.source,ha=this._clock;return ta&&v.isArray(ta)?new da(this,ha,ta.map(P=>P.pulse),qa):this._input[S.id]||La(this._pulse,ta&&ta.pulse)}};v.inherits(Xa,mb,{run(S){if(S.stamp<this.stamp)return S.StopPropagation;let qa;this.skip()?this.skip(!1):qa=this.evaluate(S);qa=qa||S;qa.then?qa=qa.then(ta=>this.pulse=ta):qa!==S.StopPropagation&&(this.pulse=
qa);return qa},evaluate(S){const qa=this.marshall(S.stamp);S=this.transform(qa,S);qa.clear();return S},transform(){}});const Za={};n.Dataflow=Wa;n.EventStream=Ba;n.MultiPulse=da;n.Operator=mb;n.Parameters=nb;n.Pulse=gb;n.Transform=Xa;n.UniqueList=Qb;n.asyncCallback=db;n.changeset=Va;n.definition=function(S){return(S=Q(S))&&S.Definition||null};n.derive=function(S){return Ib(S,pb({}))};n.ingest=pb;n.isChangeSet=Ab;n.isTuple=function(S){return!(!S||!S[x])};n.rederive=Ib;n.replace=function(S,qa){qa[x]=
S[x];return qa};n.stableCompare=function(S,qa){return S?qa?(ta,ha)=>S(ta,ha)||qa(ta)[x]-qa(ha)[x]:(ta,ha)=>S(ta,ha)||ta[x]-ha[x]:null};n.transform=Q;n.transforms=Za;n.tupleid=function(S){return S[x]};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[30]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc,Ob(18)):"function"===typeof define&&define.amd?define(["exports","d3-array"],v):(n="undefined"!==typeof globalThis?globalThis:n||self,v(n.vega={},n.d3))})(this,function(n,v){function*Y(x,F){if(null==F)for(var O of x)null!=O&&""!==O&&(O=+O)>=O&&(yield O);else{O=-1;for(let K of x)K=F(K,++O,x),null!=K&&""!==K&&(K=+K)>=K&&(yield K)}}function Qa(x,F,O){const K=Float64Array.from(Y(x,O));K.sort(v.ascending);
return F.map(ka=>v.quantileSorted(K,ka))}function Qb(x,F){return Qa(x,[.25,.5,.75],F)}function db(x,F){const O=x.length,K=v.deviation(x,F);x=Qb(x,F);return 1.06*(Math.min(K,(x[2]-x[0])/1.34)||K||Math.abs(x[0])||1)*Math.pow(O,-.2)}function pb(x,F){const O=x.length;let K=0,ka=1,ia,ma;for(;x[K]===x[ka];)++ka;for(;ka<O;){for(ia=ka+1;x[ka]===x[ia];)++ia;if(x[ka]-x[ka-1]<F){for(ma=ka+(K+ia-ka-ka>>1);ma<ka;)x[ma++]=x[ka];for(;ma>ka;)x[ma--]=x[K]}K=ka;ka=ia}return x}function Ib(x,F){x=x||0;F=null==F?1:F;
let O,K;if(Xa===Xa)O=Xa,Xa=NaN;else{do{O=2*n.random()-1;K=2*n.random()-1;var ka=O*O+K*K}while(0===ka||1<ka);ka=Math.sqrt(-2*Math.log(ka)/ka);O*=ka;Xa=K*ka}return x+O*F}function Ab(x,F,O){O=null==O?1:O;x=(x-(F||0))/O;return Math.exp(-.5*x*x)/(O*Wa)}function Va(x,F,O){x=(x-(F||0))/(null==O?1:O);F=Math.abs(x);37<F?O=0:(O=Math.exp(-F*F/2),7.07106781186547>F?(O*=(((((.0352624965998911*F+.700383064443688)*F+6.37396220353165)*F+33.912866078383)*F+112.079291497871)*F+221.213596169931)*F+220.206867912376,
O/=((((((.0883883476483184*F+1.75566716318264)*F+16.064177579207)*F+86.7807322029461)*F+296.564248779674)*F+637.333633378831)*F+793.826512519948)*F+440.413735824752):O=O/(F+1/(F+2/(F+3/(F+4/(F+.65)))))/2.506628274631);return 0<x?1-O:O}function nb(x,F,O){if(0>x||1<x)return NaN;x=2*x-1;var K=-Math.log((1-x)*(1+x));6.25>K?(K-=3.125,K=1.6536545626831027+(.24015818242558962+(-.006033670871430149+(-7.40702534166267E-4+(1.8673420803405714E-4+(-1.3882523362786469E-5+(-1.3654692000834679E-6+(4.2347877827932404E-7+
(-2.9070369957882005E-8+(-4.112633980346984E-9+(1.0512122733215323E-9+(-5.415412054294628E-11+(-1.2975133253453532E-11+(2.6335093153082323E-12+(-8.151934197605472E-14+(-4.054566272975207E-14+(6.637638134358324E-15+(2.0972767875968562E-17+(-1.333171662854621E-16+(1.1157877678025181E-17+(1.28584807152564E-18+(-1.6850591381820166E-19+-3.64441206401782E-21*K)*K)*K)*K)*K)*K)*K)*K)*K)*K)*K)*K)*K)*K)*K)*K)*K)*K)*K)*K)*K)*K):16>K?(K=Math.sqrt(K)-3.25,K=3.0838856104922208+(1.0052589676941592+(.005370914553590064+
(-.003751208507569241+(.002491442096107851+(-.0016882755560235047+(9.532893797373805E-4+(-3.550375203628475E-4+(2.4031110387097894E-5+(6.828485145957318E-5+(-4.7318229009055734E-5+(1.2475304481671779E-5+(2.9234449089955446E-6+(-4.013867526981546E-6+(1.5027403968909828E-6+(1.8239629214389228E-8+(-2.7517406297064545E-7+(9.075656193888539E-8+2.2137376921775787E-9*K)*K)*K)*K)*K)*K)*K)*K)*K)*K)*K)*K)*K)*K)*K)*K)*K)*K):Number.isFinite(K)?(K=Math.sqrt(K)-5,K=4.849906401408584+(1.0103004648645344+(-1.3871931833623122E-4+
(-2.1503011930044477E-4+(7.599527703001776E-5+(-1.968177810553167E-5+(4.526062597223154E-6+(-9.9298272942317E-7+(2.2900482228026655E-7+(-6.771199775845234E-8+(2.914795345090108E-8+(-1.496002662714924E-8+(7.61570120807834E-9+(-3.789465440126737E-9+(1.5076572693500548E-9+(-2.555641816996525E-10+-2.7109920616438573E-11*K)*K)*K)*K)*K)*K)*K)*K)*K)*K)*K)*K)*K)*K)*K)*K):K=Infinity;x*=K;return(F||0)+(null==O?1:O)*jb*x}function mb(x,F){let O,K;const ka={mean(ia){return arguments.length?(O=ia||0,ka):O},stdev(ia){return arguments.length?
(K=null==ia?1:ia,ka):K},sample:()=>Ib(O,K),pdf:ia=>Ab(ia,O,K),cdf:ia=>Va(ia,O,K),icdf:ia=>nb(ia,O,K)};return ka.mean(x).stdev(F)}function Pa(x,F){F=null==F?1:F;return Math.exp((x||0)+Ib()*F)}function Ba(x,F,O){if(0>=x)return 0;O=null==O?1:O;F=(Math.log(x)-(F||0))/O;return Math.exp(-.5*F*F)/(O*Wa*x)}function Ca(x,F,O){return Va(Math.log(x),F,O)}function Sa(x,F,O){return Math.exp(nb(x,F,O))}function kb(x,F){null==F&&(F=null==x?1:x,x=0);return x+(F-x)*n.random()}function za(x,F,O){null==O&&(O=null==
F?1:F,F=0);return x>=F&&x<=O?1/(O-F):0}function Ea(x,F,O){null==O&&(O=null==F?1:F,F=0);return x<F?0:x>O?1:(x-F)/(O-F)}function gb(x,F,O){null==O&&(O=null==F?1:F,F=0);return 0<=x&&1>=x?F+x*(O-F):NaN}function xa(x,F,O,K){K-=x*x;O=1E-24>Math.abs(K)?0:(O-x*F)/K;return[F-O*x,O]}function Ua(x,F,O,K){x=x.filter(ta=>{let ha=F(ta);ta=O(ta);return null!=ha&&(ha=+ha)>=ha&&null!=ta&&(ta=+ta)>=ta});K&&x.sort((ta,ha)=>F(ta)-F(ha));K=x.length;const ka=new Float64Array(K),ia=new Float64Array(K);let ma=0,Ya=0,Za=
0,S,qa;for(qa of x)ka[ma]=x=+F(qa),ia[ma]=S=+O(qa),++ma,Ya+=(x-Ya)/ma,Za+=(S-Za)/ma;for(ma=0;ma<K;++ma)ka[ma]-=Ya,ia[ma]-=Za;return[ka,ia,Ya,Za]}function Ja(x,F,O,K){let ka=-1,ia;for(const ma of x)x=F(ma),ia=O(ma),null!=x&&(x=+x)>=x&&null!=ia&&(ia=+ia)>=ia&&K(x,ia,++ka)}function da(x,F,O,K,ka){let ia=0,ma=0;Ja(x,F,O,(Ya,Za)=>{Ya=Za-ka(Ya);Za-=K;ia+=Ya*Ya;ma+=Za*Za});return 1-ia/ma}function wa(x,F,O){let K=0,ka=0,ia=0,ma=0,Ya=0;Ja(x,F,O,(qa,ta)=>{++Ya;K+=(qa-K)/Ya;ka+=(ta-ka)/Ya;ia+=(qa*ta-ia)/Ya;
ma+=(qa*qa-ma)/Ya});const Za=xa(K,ka,ia,ma),S=qa=>Za[0]+Za[1]*qa;return{coef:Za,predict:S,rSquared:da(x,F,O,ka,S)}}function La(x,F,O){const [K,ka,ia,ma]=Ua(x,F,O);var Ya=K.length,Za=0;let S=0;var qa=0;let ta=0,ha=0,P,t,u,l;for(P=0;P<Ya;)t=K[P],u=ka[P++],l=t*t,Za+=(l-Za)/P,S+=(l*t-S)/P,qa+=(l*l-qa)/P,ta+=(t*u-ta)/P,ha+=(l*u-ha)/P;Ya=qa-Za*Za;qa=Za*Ya-S*S;const p=(ha*Za-ta*S)/qa,A=(ta*Ya-ha*S)/qa,B=-p*Za;Za=E=>{E-=ia;return p*E*E+A*E+B+ma};return{coef:[B-A*ia+p*ia*ia+ma,A-2*p*ia,p],predict:Za,rSquared:da(x,
F,O,ma,Za)}}function Ra(x,F,O,K){const ka=Array(x);let ia,ma,Ya;for(ia=0;ia<x;++ia)ka[ia]=0;for(ia=x-1;0<=ia;--ia)for(ma=F[ia],Ya=1,ka[ia]+=ma,x=1;x<=ia;++x)Ya*=(ia+1-x)/x,ka[ia-x]+=ma*Math.pow(O,x)*Ya;ka[0]+=K;return ka}function fb(x){const F=x.length-1,O=[];let K,ka,ia,ma,Ya;for(K=0;K<F;++K){ma=K;for(ka=K+1;ka<F;++ka)Math.abs(x[K][ka])>Math.abs(x[K][ma])&&(ma=ka);for(ia=K;ia<F+1;++ia)Ya=x[ia][K],x[ia][K]=x[ia][ma],x[ia][ma]=Ya;for(ka=K+1;ka<F;++ka)for(ia=F;ia>=K;ia--)x[ia][ka]-=x[ia][K]*x[K][ka]/
x[K][K]}for(ka=F-1;0<=ka;--ka){Ya=0;for(ia=ka+1;ia<F;++ia)Ya+=x[ia][ka]*O[ia];O[ka]=(x[F][ka]-Ya)/x[ka][ka]}return O}n.random=Math.random;const Wa=Math.sqrt(2*Math.PI),jb=Math.SQRT2;let Xa=NaN;const Q=.1*Math.PI/180;n.bandwidthNRD=db;n.bin=function(x){var F=x.maxbins||20;const O=x.base||10,K=Math.log(O),ka=x.divide||[5,2];let ia=x.extent[0],ma=x.extent[1];let Ya,Za,S,qa;const ta=x.span||ma-ia||Math.abs(ia)||1;if(x.step)var ha=x.step;else if(x.steps){Za=ta/F;S=0;for(qa=x.steps.length;S<qa&&x.steps[S]<
Za;++S);ha=x.steps[Math.max(0,S-1)]}else{ha=Math.ceil(Math.log(F)/K);Ya=x.minstep||0;for(ha=Math.max(Ya,Math.pow(O,Math.round(Math.log(ta)/K)-ha));Math.ceil(ta/ha)>F;)ha*=O;S=0;for(qa=ka.length;S<qa;++S)Za=ha/ka[S],Za>=Ya&&ta/Za<=F&&(ha=Za)}Za=Math.log(ha);F=Math.pow(O,-(0<=Za?0:~~(-Za/K)+1)-1);if(x.nice||void 0===x.nice)Za=Math.floor(ia/ha+F)*ha,ia=ia<Za?Za-ha:Za,ma=Math.ceil(ma/ha)*ha;return{start:ia,stop:ma===ia?ia+ha:ma,step:ha}};n.bootstrapCI=function(x,F,O,K){if(!x.length)return[void 0,void 0];
x=Float64Array.from(Y(x,K));K=x.length;let ka,ia,ma,Ya;ma=0;for(Ya=Array(F);ma<F;++ma){for(ia=ka=0;ia<K;++ia)ka+=x[~~(n.random()*K)];Ya[ma]=ka/K}Ya.sort(v.ascending);return[v.quantile(Ya,O/2),v.quantile(Ya,1-O/2)]};n.cumulativeLogNormal=Ca;n.cumulativeNormal=Va;n.cumulativeUniform=Ea;n.densityLogNormal=Ba;n.densityNormal=Ab;n.densityUniform=za;n.dotbin=function(x,F,O,K){K=K||(ha=>ha);const ka=x.length,ia=new Float64Array(ka);let ma=0,Ya=1,Za=K(x[0]),S=Za,qa=Za+F,ta;for(;Ya<ka;++Ya){ta=K(x[Ya]);if(ta>=
qa){for(S=(Za+S)/2;ma<Ya;++ma)ia[ma]=S;qa=ta+F;Za=ta}S=ta}for(S=(Za+S)/2;ma<Ya;++ma)ia[ma]=S;return O?pb(ia,F+F/4):ia};n.quantileLogNormal=Sa;n.quantileNormal=nb;n.quantileUniform=gb;n.quantiles=Qa;n.quartiles=Qb;n.randomInteger=function(x,F){null==F&&(F=x,x=0);let O,K,ka;const ia={min(ma){return arguments.length?(O=ma||0,ka=K-O,ia):O},max(ma){return arguments.length?(K=ma||0,ka=K-O,ia):K},sample(){return O+Math.floor(ka*n.random())},pdf(ma){return ma===Math.floor(ma)&&ma>=O&&ma<K?1/ka:0},cdf(ma){ma=
Math.floor(ma);return ma<O?0:ma>=K?1:(ma-O+1)/ka},icdf(ma){return 0<=ma&&1>=ma?O-1+Math.floor(ma*ka):NaN}};return ia.min(x).max(F)};n.randomKDE=function(x,F){const O=mb();let K=0;const ka={data(ia){return arguments.length?(K=(x=ia)?ia.length:0,ka.bandwidth(F)):x},bandwidth(ia){if(!arguments.length)return F;F=ia;!F&&x&&(F=db(x));return ka},sample(){return x[~~(n.random()*K)]+F*O.sample()},pdf(ia){let ma=0,Ya=0;for(;Ya<K;++Ya)ma+=O.pdf((ia-x[Ya])/F);return ma/F/K},cdf(ia){let ma=0,Ya=0;for(;Ya<K;++Ya)ma+=
O.cdf((ia-x[Ya])/F);return ma/K},icdf(){throw Error("KDE icdf not supported.");}};return ka.data(x)};n.randomLCG=function(x){return function(){x=(1103515245*x+12345)%2147483647;return x/2147483647}};n.randomLogNormal=function(x,F){let O,K;const ka={mean(ia){return arguments.length?(O=ia||0,ka):O},stdev(ia){return arguments.length?(K=null==ia?1:ia,ka):K},sample:()=>Pa(O,K),pdf:ia=>Ba(ia,O,K),cdf:ia=>Ca(ia,O,K),icdf:ia=>Sa(ia,O,K)};return ka.mean(x).stdev(F)};n.randomMixture=function(x,F){let O=0,K;
const ka={weights(ia){if(arguments.length){{var ma=F=ia||[];const Ya=[];let Za=0,S;for(S=0;S<O;++S)Za+=Ya[S]=null==ma[S]?1:+ma[S];for(S=0;S<O;++S)Ya[S]/=Za;K=Ya}return ka}return F},distributions(ia){return arguments.length?(ia?(O=ia.length,x=ia):(O=0,x=[]),ka.weights(F)):x},sample(){const ia=n.random();let ma=x[O-1],Ya=K[0],Za=0;for(;Za<O-1;Ya+=K[++Za])if(ia<Ya){ma=x[Za];break}return ma.sample()},pdf(ia){let ma=0,Ya=0;for(;Ya<O;++Ya)ma+=K[Ya]*x[Ya].pdf(ia);return ma},cdf(ia){let ma=0,Ya=0;for(;Ya<
O;++Ya)ma+=K[Ya]*x[Ya].cdf(ia);return ma},icdf(){throw Error("Mixture icdf not supported.");}};return ka.distributions(x).weights(F)};n.randomNormal=mb;n.randomUniform=function(x,F){let O,K;const ka={min(ia){return arguments.length?(O=ia||0,ka):O},max(ia){return arguments.length?(K=null==ia?1:ia,ka):K},sample:()=>kb(O,K),pdf:ia=>za(ia,O,K),cdf:ia=>Ea(ia,O,K),icdf:ia=>gb(ia,O,K)};null==F&&(F=null==x?1:x,x=0);return ka.min(x).max(F)};n.regressionExp=function(x,F,O){const [K,,ka,ia]=Ua(x,F,O);let ma=
0,Ya=0,Za=0,S=0,qa=0,ta,ha,P;Ja(x,F,O,(p,A)=>{ta=K[qa++];ha=Math.log(A);P=ta*A;ma+=(A*ha-ma)/qa;Ya+=(P-Ya)/qa;Za+=(P*ha-Za)/qa;S+=(ta*P-S)/qa});const [t,u]=xa(Ya/ia,ma/ia,Za/ia,S/ia),l=p=>Math.exp(t+u*(p-ka));return{coef:[Math.exp(t-u*ka),u],predict:l,rSquared:da(x,F,O,ia,l)}};n.regressionLinear=wa;n.regressionLoess=function(x,F,O,K){const [ka,ia,ma,Ya]=Ua(x,F,O,!0);x=ka.length;F=Math.max(2,~~(K*x));K=new Float64Array(x);O=new Float64Array(x);var Za=(new Float64Array(x)).fill(1);for(var S=-1;2>=++S;){var qa=
[0,F-1];for(let B=0;B<x;++B){var ta=ka[B],ha=qa[0],P=qa[1],t=0,u=0,l=0,p=0;let E=0;const z=1/Math.abs(ka[ta-ka[ha]>ka[P]-ta?ha:P]-ta||1);for(;ha<=P;++ha){const fa=ka[ha],Na=ia[ha];var A=Math.abs(ta-fa)*z;const Da=(A=1-A*A*A)*A*A*Za[ha];A=fa*Da;t+=Da;u+=A;l+=Na*Da;p+=Na*A;E+=fa*A}const [aa,sa]=xa(u/t,l/t,p/t,E/t);K[B]=aa+sa*ta;O[B]=Math.abs(ia[B]-K[B]);ta=ka;P=B+1;t=qa;u=ta[P];l=t[0];p=t[1]+1;if(!(p>=ta.length))for(;P>l&&ta[p]-u<=u-ta[l];)t[0]=++l,t[1]=p,++p}if(2===S)break;qa=v.median(O);if(1E-12>
Math.abs(qa))break;for(let B=0,E,z;B<x;++B)E=O[B]/(6*qa),Za[B]=1<=E?1E-12:(z=1-E*E)*z}x=ka.length;F=[];Za=O=0;for(S=[];O<x;++O)qa=ka[O]+ma,S[0]===qa?S[1]+=(K[O]-S[1])/++Za:(Za=0,S[1]+=Ya,S=[qa,K[O]],F.push(S));S[1]+=Ya;return K=F};n.regressionLog=function(x,F,O){let K=0,ka=0,ia=0,ma=0,Ya=0;Ja(x,F,O,(qa,ta)=>{++Ya;qa=Math.log(qa);K+=(qa-K)/Ya;ka+=(ta-ka)/Ya;ia+=(qa*ta-ia)/Ya;ma+=(qa*qa-ma)/Ya});const Za=xa(K,ka,ia,ma),S=qa=>Za[0]+Za[1]*Math.log(qa);return{coef:Za,predict:S,rSquared:da(x,F,O,ka,S)}};
n.regressionPoly=function(x,F,O,K){if(1===K)return wa(x,F,O);if(2===K)return La(x,F,O);const [ka,ia,ma,Ya]=Ua(x,F,O);var Za=ka.length;const S=[],qa=[],ta=K+1;let ha,P,t,u;for(ha=0;ha<ta;++ha){for(t=P=0;P<Za;++P)t+=Math.pow(ka[P],ha)*ia[P];S.push(t);u=new Float64Array(ta);for(K=0;K<ta;++K){for(t=P=0;P<Za;++P)t+=Math.pow(ka[P],ha+K);u[K]=t}qa.push(u)}qa.push(S);const l=fb(qa);Za=p=>{p-=ma;let A=Ya+l[0]+l[1]*p+l[2]*p*p;for(ha=3;ha<ta;++ha)A+=l[ha]*Math.pow(p,ha);return A};return{coef:Ra(ta,l,-ma,Ya),
predict:Za,rSquared:da(x,F,O,Ya,Za)}};n.regressionPow=function(x,F,O){let K=0,ka=0,ia=0,ma=0,Ya=0,Za=0;Ja(x,F,O,(ta,ha)=>{ta=Math.log(ta);const P=Math.log(ha);++Za;K+=(ta-K)/Za;ka+=(P-ka)/Za;ia+=(ta*P-ia)/Za;ma+=(ta*ta-ma)/Za;Ya+=(ha-Ya)/Za});const S=xa(K,ka,ia,ma),qa=ta=>S[0]*Math.pow(ta,S[1]);S[0]=Math.exp(S[0]);return{coef:S,predict:qa,rSquared:da(x,F,O,Ya,qa)}};n.regressionQuad=La;n.sampleCurve=function(x,F,O,K){O=O||25;K=Math.max(O,K||200);var ka=qa=>[qa,x(qa)],ia=F[0];const ma=F[1],Ya=ma-ia;
var Za=Ya/K;F=[[ia,x(ia)]];const S=[];if(O===K){for(Za=1;Za<K;++Za)F.push(ka(ia+Za/O*Ya));F.push([ma,x(ma)]);return F}S.push([ma,x(ma)]);for(K=O;0<--K;)S.push(ka(ia+K/O*Ya));O=F[0];for(ka=S[S.length-1];ka;)ia=(O[0]+ka[0])/2,ia=[ia,x(ia)],ia[0]-O[0]>=Za&&Math.abs(Math.atan2(ka[1]-O[1],ka[0]-O[0])-Math.atan2(ia[1]-O[1],ia[0]-O[0]))>Q?S.push(ia):(O=ka,F.push(ka),S.pop()),ka=S[S.length-1];return F};n.sampleLogNormal=Pa;n.sampleNormal=Ib;n.sampleUniform=kb;n.setRandom=function(x){n.random=x};Object.defineProperty(n,
"__esModule",{value:!0})})};
shadow$provide[31]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc,Ob(17),Ob(29),Ob(30),Ob(18),Ob(21)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-statistics d3-array vega-time".split(" "),v):(n="undefined"!==typeof globalThis?globalThis:n||self,v(n.vega={},n.vega,n.vega,n.vega,n.d3,n.vega))})(this,function(n,v,Y,Qa,Qb,db){function pb(U){return va=>{const ab=U.length;let xb=1,Rb=String(U[0](va));for(;xb<ab;++xb)Rb+="|"+
U[xb](va);return Rb}}function Ib(U){return U&&U.length?1===U.length?U[0]:pb(U):function(){return""}}function Ab(U,va){return ab=>v.extend({name:U,out:ab||U},ed,va)}function Va(U,va){return U.idx-va.idx}function nb(U){const va={};U.forEach(xb=>va[xb.name]=xb);const ab=xb=>{xb.req&&xb.req.forEach(Rb=>{va[Rb]||ab(va[Rb]=Pd[Rb]())})};U.forEach(ab);return Object.values(va).sort(Va)}function mb(){this.missing=this.valid=0;this._ops.forEach(U=>U.init(this))}function Pa(U,va){null==U||""===U?++this.missing:
U===U&&(++this.valid,this._ops.forEach(ab=>ab.add(this,U,va)))}function Ba(U,va){null==U||""===U?--this.missing:U===U&&(--this.valid,this._ops.forEach(ab=>ab.rem(this,U,va)))}function Ca(U){this._out.forEach(va=>U[va.out]=va.value(this));return U}function Sa(U,va){function ab(zb){this._ops=xb;this._out=Rb;this.cell=zb;this.init()}va=va||v.identity;const xb=nb(U),Rb=U.slice().sort(Va);ab.prototype.init=mb;ab.prototype.add=Pa;ab.prototype.rem=Ba;ab.prototype.set=Ca;ab.prototype.get=va;ab.fields=U.map(zb=>
zb.out);return ab}function kb(U){this._key=U?v.field(U):Y.tupleid;this.reset()}function za(U){Y.Transform.call(this,null,U);this._adds=[];this._mods=[];this._mlen=this._alen=0;this._drop=!0;this._cross=!1;this._dims=[];this._dnames=[];this._measures=[];this._countOnly=!1;this._outputs=this._inputs=this._prev=this._counts=null}function Ea(U){Y.Transform.call(this,null,U)}function gb(U,va,ab){let xb=va||[],Rb=ab||[],zb={},kc=0;return{add:bc=>Rb.push(bc),remove:bc=>zb[U(bc)]=++kc,size:()=>xb.length,
data:(bc,Ia)=>{kc&&(xb=xb.filter(lb=>!zb[U(lb)]),zb={},kc=0);Ia&&bc&&xb.sort(bc);Rb.length&&(xb=bc?v.merge(bc,xb,Rb.sort(bc)):xb.concat(Rb),Rb=[]);return xb}}}function xa(U){Y.Transform.call(this,[],U)}function Ua(U){Y.Operator.call(this,null,Ja,U)}function Ja(U){return this.value&&!U.modified()?this.value:v.compare(U.fields,U.orders)}function da(U){Y.Transform.call(this,null,U)}function wa(U){Y.Transform.call(this,null,U)}function La(U,va){var ab=U["function"];v.hasOwnProperty(qb,ab)||v.error("Unknown distribution function: "+
ab);ab=qb[ab]();for(const xb in U)if("field"===xb)ab.data((U.from||va()).map(U[xb]));else if("distributions"===xb)ab[xb](U[xb].map(Rb=>La(Rb,va)));else if("function"===typeof ab[xb])ab[xb](U[xb]);return ab}function Ra(U){Y.Transform.call(this,null,U)}function fb(U){return()=>U.materialize(U.SOURCE).source}function Wa(U,va){return U?U.map((ab,xb)=>va[xb]||v.accessorName(ab)):null}function jb(U,va,ab){const xb=[],Rb=Zb=>Zb(Ia);let zb,kc,bc,Ia,lb,Eb;if(null==va)xb.push(U.map(ab));else for(zb={},kc=0,
bc=U.length;kc<bc;++kc)Ia=U[kc],lb=va.map(Rb),Eb=zb[lb],Eb||(zb[lb]=Eb=[],Eb.dims=lb,xb.push(Eb)),Eb.push(ab(Ia));return xb}function Xa(U){Y.Transform.call(this,null,U)}function Q(U){Y.Operator.call(this,null,x,U);this.modified(!0)}function x(U){const va=U.expr;return this.value&&!U.modified("expr")?this.value:v.accessor(ab=>va(ab,U),v.accessorFields(va),v.accessorName(va))}function F(U){Y.Transform.call(this,[void 0,void 0],U)}function O(U,va){Y.Operator.call(this,U);this.parent=va;this.count=0}
function K(U){Y.Transform.call(this,{},U);this._keys=v.fastmap();const va=this._targets=[];va.active=0;va.forEach=ab=>{for(let xb=0,Rb=va.active;xb<Rb;++xb)ab(va[xb],xb,va)}}function ka(U){Y.Operator.call(this,null,ia,U)}function ia(U){return this.value&&!U.modified()?this.value:v.isArray(U.name)?v.array(U.name).map(va=>v.field(va)):v.field(U.name,U.as)}function ma(U){Y.Transform.call(this,v.fastmap(),U)}function Ya(U){Y.Transform.call(this,[],U)}function Za(U){Y.Transform.call(this,[],U)}function S(U){Y.Transform.call(this,
null,U)}function qa(U){Y.Transform.call(this,[],U)}function ta(U){Y.Transform.call(this,[],U)}function ha(U){var va=U.method||Sb.value;if(null==Sb[va])v.error("Unrecognized imputation method: "+va);else{if(va===Sb.value){var ab=void 0!==U.value?U.value:0;return()=>ab}return Sb[va]}}function P(U){const va=U.field;return ab=>ab?va(ab):NaN}function t(U,va,ab,xb){var Rb=Bb=>Bb(Zb),zb=[];xb=xb?xb.slice():[];var kc={},bc={},Ia,lb;xb.forEach((Bb,pc)=>kc[Bb]=pc+1);var Eb=0;for(lb=U.length;Eb<lb;++Eb){var Zb=
U[Eb];var lc=ab(Zb);var uc=kc[lc]||(kc[lc]=xb.push(lc));var Cc=(lc=va?va.map(Rb):dd)+"";(Ia=bc[Cc])||(Ia=bc[Cc]=[],zb.push(Ia),Ia.values=lc);Ia[uc-1]=Zb}zb.domain=xb;return zb}function u(U){za.call(this,U)}function l(U){Y.Transform.call(this,null,U)}function p(U){Y.Operator.call(this,null,A,U)}function A(U){return this.value&&!U.modified()?this.value:v.key(U.fields,U.flat)}function B(U){Y.Transform.call(this,[],U);this._pending=null}function E(U){return U.modified("async")&&!(U.modified("values")||
U.modified("url")||U.modified("format"))}function z(U,va,ab){ab.forEach(Y.ingest);va=va.fork(va.NO_FIELDS&va.NO_SOURCE);va.rem=U.value;U.value=va.source=va.add=ab;U._pending=null;va.rem.length&&va.clean(!0);return va}function aa(U){Y.Transform.call(this,{},U)}function sa(U){Y.Operator.call(this,null,fa,U)}function fa(U){if(this.value&&!U.modified())return this.value;U=U.extents;const va=U.length;let ab=Infinity,xb=-Infinity,Rb,zb;for(Rb=0;Rb<va;++Rb)zb=U[Rb],zb[0]<ab&&(ab=zb[0]),zb[1]>xb&&(xb=zb[1]);
return[ab,xb]}function Na(U){Y.Operator.call(this,null,Da,U)}function Da(U){return this.value&&!U.modified()?this.value:U.values.reduce((va,ab)=>va.concat(ab),[])}function W(U){Y.Transform.call(this,null,U)}function na(U){za.call(this,U)}function $a(U,va){const ab=U.field,xb=U.value,Rb=("count"===U.op?"__count__":U.op)||"sum",zb=v.accessorFields(ab).concat(v.accessorFields(xb)),kc=Db(ab,U.limit||0,va);va.changed()&&U.set("__pivot__",null,null,!0);return{key:U.key,groupby:U.groupby,ops:kc.map(()=>
Rb),fields:kc.map(bc=>sb(bc,ab,xb,zb)),as:kc.map(bc=>bc+""),modified:U.modified.bind(U)}}function sb(U,va,ab,xb){return v.accessor(Rb=>va(Rb)===U?ab(Rb):NaN,xb,U+"")}function Db(U,va,ab){const xb={},Rb=[];ab.visit(ab.SOURCE,zb=>{zb=U(zb);xb[zb]||(xb[zb]=1,Rb.push(zb))});Rb.sort(v.ascending);return va?Rb.slice(0,va):Rb}function Xb(U){K.call(this,U)}function vc(U){Y.Transform.call(this,null,U)}function Vc(U){Y.Transform.call(this,null,U)}function tc(U){Y.Transform.call(this,null,U)}function Hc(U){Y.Transform.call(this,
null,U)}function Ma(U){Y.Transform.call(this,[],U);this.count=0}function ec(U){Y.Transform.call(this,null,U)}function cc(U){Y.Transform.call(this,null,U);this.modified(!0)}function nc(U){Y.Transform.call(this,null,U)}function Ec(U){Y.Transform.call(this,v.fastmap(),U)}function jc(U){Y.Transform.call(this,null,U)}function Mc(U,va,ab,xb){const Rb=Nd[U](va,ab);return{init:Rb.init||v.zero,update:function(zb,kc){kc[xb]=Rb.next(zb)}}}function Rc(U){function va(uc){v.array(v.accessorFields(uc)).forEach(Cc=>
Ia[Cc]=1)}const ab=v.array(U.ops),xb=v.array(U.fields),Rb=v.array(U.params),zb=v.array(U.as),kc=this.outputs=[],bc=this.windows=[],Ia={},lb={},Eb=[],Zb=[];let lc=!0;va(U.sort);ab.forEach((uc,Cc)=>{const Bb=xb[Cc],pc=v.accessorName(Bb),sc=zb[Cc]||uc+(pc?"_"+pc:"");va(Bb);kc.push(sc);v.hasOwnProperty(Nd,uc)?bc.push(Mc(uc,xb[Cc],Rb[Cc],sc)):(null==Bb&&"count"!==uc&&v.error("Null aggregate field specified."),"count"===uc?Eb.push(sc):(lc=!1,Cc=lb[pc],Cc||(Cc=lb[pc]=[],Cc.field=Bb,Zb.push(Cc)),Cc.push(Pd[uc](sc))))});
if(Eb.length||Zb.length)this.cell=Nc(Zb,Eb,lc);this.inputs=Object.keys(Ia)}function Nc(U,va,ab){U=U.map(Ia=>Sa(Ia,Ia.field));const xb={num:0,agg:null,store:!1,count:va};if(!ab)for(var Rb=U.length,zb=xb.agg=Array(Rb),kc=0;kc<Rb;++kc)zb[kc]=new U[kc](xb);if(xb.store)var bc=xb.data=new kb;xb.add=function(Ia){xb.num+=1;if(!ab){bc&&bc.add(Ia);for(let lb=0;lb<Rb;++lb)zb[lb].add(zb[lb].get(Ia),Ia)}};xb.rem=function(Ia){--xb.num;if(!ab){bc&&bc.rem(Ia);for(let lb=0;lb<Rb;++lb)zb[lb].rem(zb[lb].get(Ia),Ia)}};
xb.set=function(Ia){let lb,Eb;bc&&bc.values();lb=0;for(Eb=va.length;lb<Eb;++lb)Ia[va[lb]]=xb.num;if(!ab)for(lb=0,Eb=zb.length;lb<Eb;++lb)zb[lb].set(Ia)};xb.init=function(){xb.num=0;bc&&bc.reset();for(let Ia=0;Ia<Rb;++Ia)zb[Ia].init()};return xb}function ud(U){Y.Transform.call(this,{},U);this._mlen=0;this._mods=[]}function ce(U,va,ab,xb){var Rb=xb.sort;const zb=Rb&&!xb.ignorePeers;xb=xb.frame||[null,0];U=U.data(ab);ab=U.length;const kc=zb?Qb.bisector(Rb):null;Rb={i0:0,i1:0,p0:0,p1:0,index:0,data:U,
compare:Rb||v.constant(-1)};va.init();for(let Zb=0;Zb<ab;++Zb){var bc=Rb,Ia=xb,lb=Zb,Eb=ab;bc.p0=bc.i0;bc.p1=bc.i1;bc.i0=null==Ia[0]?0:Math.max(0,lb-Math.abs(Ia[0]));bc.i1=null==Ia[1]?Eb:Math.min(Eb,lb+Math.abs(Ia[1])+1);bc.index=lb;if(zb){{bc=Rb;Ia=kc;lb=bc.i0;Eb=bc.i1-1;const lc=bc.compare,uc=bc.data,Cc=uc.length-1;0<lb&&!lc(uc[lb],uc[lb-1])&&(bc.i0=Ia.left(uc,uc[lb]));Eb<Cc&&!lc(uc[Eb],uc[Eb+1])&&(bc.i1=Ia.right(uc,uc[Eb]))}}va.update(Rb,U[Zb])}}var Zc=()=>{};const ed={init:Zc,add:Zc,rem:Zc,idx:0},
Pd={values:{init:U=>U.cell.store=!0,value:U=>U.cell.data.values(),idx:-1},count:{value:U=>U.cell.num},__count__:{value:U=>U.missing+U.valid},missing:{value:U=>U.missing},valid:{value:U=>U.valid},sum:{init:U=>U.sum=0,value:U=>U.sum,add:(U,va)=>U.sum+=+va,rem:(U,va)=>U.sum-=va},product:{init:U=>U.product=1,value:U=>U.valid?U.product:void 0,add:(U,va)=>U.product*=va,rem:(U,va)=>U.product/=va},mean:{init:U=>U.mean=0,value:U=>U.valid?U.mean:void 0,add:(U,va)=>(U.mean_d=va-U.mean,U.mean+=U.mean_d/U.valid),
rem:(U,va)=>(U.mean_d=va-U.mean,U.mean-=U.valid?U.mean_d/U.valid:U.mean)},average:{value:U=>U.valid?U.mean:void 0,req:["mean"],idx:1},variance:{init:U=>U.dev=0,value:U=>1<U.valid?U.dev/(U.valid-1):void 0,add:(U,va)=>U.dev+=U.mean_d*(va-U.mean),rem:(U,va)=>U.dev-=U.mean_d*(va-U.mean),req:["mean"],idx:1},variancep:{value:U=>1<U.valid?U.dev/U.valid:void 0,req:["variance"],idx:2},stdev:{value:U=>1<U.valid?Math.sqrt(U.dev/(U.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:U=>1<U.valid?Math.sqrt(U.dev/
U.valid):void 0,req:["variance"],idx:2},stderr:{value:U=>1<U.valid?Math.sqrt(U.dev/(U.valid*(U.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:U=>U.cell.data.distinct(U.get),req:["values"],idx:3},ci0:{value:U=>U.cell.data.ci0(U.get),req:["values"],idx:3},ci1:{value:U=>U.cell.data.ci1(U.get),req:["values"],idx:3},median:{value:U=>U.cell.data.q2(U.get),req:["values"],idx:3},q1:{value:U=>U.cell.data.q1(U.get),req:["values"],idx:3},q3:{value:U=>U.cell.data.q3(U.get),req:["values"],idx:3},min:{init:U=>
U.min=void 0,value:U=>U.min=Number.isNaN(U.min)?U.cell.data.min(U.get):U.min,add:(U,va)=>{if(va<U.min||void 0===U.min)U.min=va},rem:(U,va)=>{va<=U.min&&(U.min=NaN)},req:["values"],idx:4},max:{init:U=>U.max=void 0,value:U=>U.max=Number.isNaN(U.max)?U.cell.data.max(U.get):U.max,add:(U,va)=>{if(va>U.max||void 0===U.max)U.max=va},rem:(U,va)=>{va>=U.max&&(U.max=NaN)},req:["values"],idx:4},argmin:{init:U=>U.argmin=void 0,value:U=>U.argmin||U.cell.data.argmin(U.get),add:(U,va,ab)=>{va<U.min&&(U.argmin=ab)},
rem:(U,va)=>{va<=U.min&&(U.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:U=>U.argmax=void 0,value:U=>U.argmax||U.cell.data.argmax(U.get),add:(U,va,ab)=>{va>U.max&&(U.argmax=ab)},rem:(U,va)=>{va>=U.max&&(U.argmax=void 0)},req:["max","values"],idx:3}};Zc=Object.keys(Pd);Zc.forEach(U=>{Pd[U]=Ab(U,Pd[U])});var Ha=kb.prototype;Ha.reset=function(){this._add=[];this._rem=[];this._q=this._get=this._ext=null};Ha.add=function(U){this._add.push(U)};Ha.rem=function(U){this._rem.push(U)};Ha.values=
function(){this._get=null;if(0===this._rem.length)return this._add;const U=this._add;var va=this._rem;const ab=this._key,xb=U.length,Rb=va.length,zb=Array(xb-Rb),kc={};let bc,Ia;for(bc=0;bc<Rb;++bc)kc[ab(va[bc])]=1;for(va=bc=0;bc<xb;++bc)kc[ab(Ia=U[bc])]?kc[ab(Ia)]=0:zb[va++]=Ia;this._rem=[];return this._add=zb};Ha.distinct=function(U){const va=this.values(),ab={};let xb=va.length,Rb=0,zb;for(;0<=--xb;)zb=U(va[xb])+"",v.hasOwnProperty(ab,zb)||(ab[zb]=1,++Rb);return Rb};Ha.extent=function(U){if(this._get!==
U||!this._ext){const va=this.values(),ab=v.extentIndex(va,U);this._ext=[va[ab[0]],va[ab[1]]];this._get=U}return this._ext};Ha.argmin=function(U){return this.extent(U)[0]||{}};Ha.argmax=function(U){return this.extent(U)[1]||{}};Ha.min=function(U){const va=this.extent(U)[0];return null!=va?U(va):void 0};Ha.max=function(U){const va=this.extent(U)[1];return null!=va?U(va):void 0};Ha.quartile=function(U){this._get===U&&this._q||(this._q=Qa.quartiles(this.values(),U),this._get=U);return this._q};Ha.q1=
function(U){return this.quartile(U)[0]};Ha.q2=function(U){return this.quartile(U)[1]};Ha.q3=function(U){return this.quartile(U)[2]};Ha.ci=function(U){this._get===U&&this._ci||(this._ci=Qa.bootstrapCI(this.values(),1E3,.05,U),this._get=U);return this._ci};Ha.ci0=function(U){return this.ci(U)[0]};Ha.ci1=function(U){return this.ci(U)[1]};za.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Zc},{name:"fields",
type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"drop",type:"boolean","default":!0},{name:"cross",type:"boolean","default":!1},{name:"key",type:"field"}]};v.inherits(za,Y.Transform,{transform(U,va){const ab=this,xb=va.fork(va.NO_SOURCE|va.NO_FIELDS),Rb=U.modified();ab.stamp=xb.stamp;ab.value&&(Rb||va.modified(ab._inputs,!0))?(ab._prev=ab.value,ab.value=Rb?ab.init(U):{},va.visit(va.SOURCE,zb=>ab.add(zb))):(ab.value=ab.value||ab.init(U),va.visit(va.REM,zb=>ab.rem(zb)),
va.visit(va.ADD,zb=>ab.add(zb)));xb.modifies(ab._outputs);ab._drop=!1!==U.drop;U.cross&&1<ab._dims.length&&(ab._drop=!1,ab.cross());va.clean()&&ab._drop&&xb.clean(!0).runAfter(()=>this.clean());return ab.changes(xb)},cross(){function U(bc){let Ia,lb,Eb,Zb;for(Ia in bc)for(Eb=bc[Ia].tuple,lb=0;lb<kc;++lb)zb[lb][Zb=Eb[Rb[lb]]]=Zb}function va(bc,Ia,lb){const Eb=Rb[lb],Zb=zb[lb++];for(const lc in Zb){const uc=bc?bc+"|"+lc:lc;Ia[Eb]=Zb[lc];lb<kc?va(uc,Ia,lb):xb[uc]||ab.cell(uc,Ia)}}const ab=this,xb=ab.value,
Rb=ab._dnames,zb=Rb.map(()=>({})),kc=Rb.length;U(ab._prev);U(xb);va("",{},0)},init(U){function va(Bb){Bb=v.array(v.accessorFields(Bb));const pc=Bb.length;let sc=0,mc;for(;sc<pc;++sc)Rb[mc=Bb[sc]]||(Rb[mc]=1,ab.push(mc))}const ab=this._inputs=[],xb=this._outputs=[],Rb={};this._dims=v.array(U.groupby);this._dnames=this._dims.map(Bb=>{const pc=v.accessorName(Bb);va(Bb);xb.push(pc);return pc});this.cellkey=U.key?U.key:Ib(this._dims);this._countOnly=!0;this._counts=[];this._measures=[];const zb=U.fields||
[null],kc=U.ops||["count"];U=U.as||[];const bc=zb.length,Ia={};let lb,Eb,Zb,lc,uc,Cc;bc!==kc.length&&v.error("Unmatched number of fields and aggregate ops.");for(Cc=0;Cc<bc;++Cc)lb=zb[Cc],Eb=kc[Cc],null==lb&&"count"!==Eb&&v.error("Null aggregate field specified."),lc=v.accessorName(lb),uc=U[Cc]||Eb+(lc?"_"+lc:""),xb.push(uc),"count"===Eb?this._counts.push(uc):(Zb=Ia[lc],Zb||(va(lb),Zb=Ia[lc]=[],Zb.field=lb,this._measures.push(Zb)),"count"!==Eb&&(this._countOnly=!1),Zb.push(Pd[Eb](uc)));this._measures=
this._measures.map(Bb=>Sa(Bb,Bb.field));return{}},cellkey:Ib(),cell(U,va){let ab=this.value[U];ab?0===ab.num&&this._drop&&ab.stamp<this.stamp?(ab.stamp=this.stamp,this._adds[this._alen++]=ab):ab.stamp<this.stamp&&(ab.stamp=this.stamp,this._mods[this._mlen++]=ab):(ab=this.value[U]=this.newcell(U,va),this._adds[this._alen++]=ab);return ab},newcell(U,va){U={key:U,num:0,agg:null,tuple:this.newtuple(va,this._prev&&this._prev[U]),stamp:this.stamp,store:!1};if(!this._countOnly){va=this._measures;const ab=
va.length;U.agg=Array(ab);for(let xb=0;xb<ab;++xb)U.agg[xb]=new va[xb](U)}U.store&&(U.data=new kb);return U},newtuple(U,va){const ab=this._dnames,xb=this._dims,Rb=xb.length,zb={};for(let kc=0;kc<Rb;++kc)zb[ab[kc]]=xb[kc](U);return va?Y.replace(va.tuple,zb):Y.ingest(zb)},clean(){const U=this.value;for(const va in U)0===U[va].num&&delete U[va]},add(U){var va=this.cellkey(U);va=this.cell(va,U);va.num+=1;if(!this._countOnly){va.store&&va.data.add(U);va=va.agg;for(let ab=0,xb=va.length;ab<xb;++ab)va[ab].add(va[ab].get(U),
U)}},rem(U){var va=this.cellkey(U);va=this.cell(va,U);--va.num;if(!this._countOnly){va.store&&va.data.rem(U);va=va.agg;for(let ab=0,xb=va.length;ab<xb;++ab)va[ab].rem(va[ab].get(U),U)}},celltuple(U){const va=U.tuple,ab=this._counts;U.store&&U.data.values();for(let xb=0,Rb=ab.length;xb<Rb;++xb)va[ab[xb]]=U.num;if(!this._countOnly){U=U.agg;for(let xb=0,Rb=U.length;xb<Rb;++xb)U[xb].set(va)}return va},changes(U){const va=this._adds,ab=this._mods;var xb=this._prev;const Rb=this._drop,zb=U.add,kc=U.rem,
bc=U.mod;let Ia;var lb;if(xb)for(lb in xb)Ia=xb[lb],Rb&&!Ia.num||kc.push(Ia.tuple);xb=0;for(lb=this._alen;xb<lb;++xb)zb.push(this.celltuple(va[xb])),va[xb]=null;xb=0;for(lb=this._mlen;xb<lb;++xb)Ia=ab[xb],(0===Ia.num&&Rb?kc:bc).push(this.celltuple(Ia)),ab[xb]=null;this._alen=this._mlen=0;this._prev=null;return U}});Ea.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"anchor",type:"number"},{name:"maxbins",
type:"number","default":20},{name:"base",type:"number","default":10},{name:"divide",type:"number",array:!0,"default":[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number","default":0},{name:"nice",type:"boolean","default":!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,"default":["bin0","bin1"]}]};v.inherits(Ea,Y.Transform,{transform(U,
va){const ab=!1!==U.interval,xb=this._bins(U),Rb=xb.start,zb=xb.step,kc=U.as||["bin0","bin1"],bc=kc[0],Ia=kc[1];U.modified()?(va=va.reflow(!0),U=va.SOURCE):U=va.modified(v.accessorFields(U.field))?va.ADD_MOD:va.ADD;va.visit(U,ab?lb=>{const Eb=xb(lb);lb[bc]=Eb;lb[Ia]=null==Eb?null:Rb+zb*(1+(Eb-Rb)/zb)}:lb=>lb[bc]=xb(lb));return va.modifies(ab?kc:bc)},_bins(U){if(this.value&&!U.modified())return this.value;const va=U.field,ab=Qa.bin(U),xb=ab.step;let Rb=ab.start,zb=Rb+Math.ceil((ab.stop-Rb)/xb)*xb;
var kc;null!=(kc=U.anchor)&&(kc-=Rb+xb*Math.floor((kc-Rb)/xb),Rb+=kc,zb+=kc);kc=function(bc){bc=v.toNumber(va(bc));return null==bc?null:bc<Rb?-Infinity:bc>zb?Infinity:(bc=Math.max(Rb,Math.min(bc,zb-xb)),Rb+xb*Math.floor(1E-14+(bc-Rb)/xb))};kc.start=Rb;kc.stop=ab.stop;kc.step=xb;return this.value=v.accessor(kc,v.accessorFields(va),U.name||"bin_"+v.accessorName(va))}});xa.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};v.inherits(xa,Y.Transform,{transform(U,va){const ab=
va.fork(va.ALL),xb=gb(Y.tupleid,this.value,ab.materialize(ab.ADD).add),Rb=U.sort;U=va.changed()||Rb&&(U.modified("sort")||va.modified(Rb.fields));ab.visit(ab.REM,xb.remove);this.modified(U);this.value=ab.source=xb.data(Y.stableCompare(Rb),U);va.source&&va.source.root&&(this.value.root=va.source.root);return ab}});v.inherits(Ua,Y.Operator);da.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower",
"mixed"],"default":"mixed"},{name:"pattern",type:"string","default":'[\\w"]+'},{name:"stopwords",type:"string","default":""},{name:"as",type:"string",array:!0,length:2,"default":["text","count"]}]};v.inherits(da,Y.Transform,{transform(U,va){var ab=Eb=>Zb=>{Zb=bc(Zb);var lc=zb;switch(U.case){case "upper":Zb=Zb.toUpperCase();break;case "lower":Zb=Zb.toLowerCase()}Zb=Zb.match(lc)||[];var uc;lc=0;for(var Cc=Zb.length;lc<Cc;++lc)kc.test(uc=Zb[lc])||Eb(uc)};const xb=this._parameterCheck(U,va),Rb=this._counts,
zb=this._match,kc=this._stop,bc=U.field,Ia=U.as||["text","count"],lb=ab(Eb=>Rb[Eb]=1+(Rb[Eb]||0));ab=ab(Eb=>--Rb[Eb]);xb?va.visit(va.SOURCE,lb):(va.visit(va.ADD,lb),va.visit(va.REM,ab));return this._finish(va,Ia)},_parameterCheck(U,va){let ab=!1;if(U.modified("stopwords")||!this._stop)this._stop=new RegExp("^"+(U.stopwords||"")+"$","i"),ab=!0;if(U.modified("pattern")||!this._match)this._match=new RegExp(U.pattern||"[\\w']+","g"),ab=!0;if(U.modified("field")||va.modified(U.field.fields))ab=!0;ab&&
(this._counts={});return ab},_finish(U,va){const ab=this._counts,xb=this._tuples||(this._tuples={}),Rb=va[0],zb=va[1];U=U.fork(U.NO_SOURCE|U.NO_FIELDS);let kc,bc,Ia;for(kc in ab)bc=xb[kc],Ia=ab[kc]||0,!bc&&Ia?(xb[kc]=bc=Y.ingest({}),bc[Rb]=kc,bc[zb]=Ia,U.add.push(bc)):0===Ia?(bc&&U.rem.push(bc),ab[kc]=null,xb[kc]=null):bc[zb]!==Ia&&(bc[zb]=Ia,U.mod.push(bc));return U.modifies(va)}});wa.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,
length:2,"default":["a","b"]}]};v.inherits(wa,Y.Transform,{transform(U,va){const ab=va.fork(va.NO_SOURCE),xb=U.as||["a","b"],Rb=xb[0],zb=xb[1];var kc=!this.value||va.changed(va.ADD_REM)||U.modified("as")||U.modified("filter"),bc=this.value;if(kc){bc&&(ab.rem=bc);va=bc=va.materialize(va.SOURCE).source;U=U.filter||v.truthy;kc=[];bc={};for(var Ia=va.length,lb=0,Eb,Zb;lb<Ia;++lb)for(bc[Rb]=Zb=va[lb],Eb=0;Eb<Ia;++Eb)bc[zb]=va[Eb],U(bc)&&(kc.push(Y.ingest(bc)),bc={},bc[Rb]=Zb);ab.add=this.value=kc}else ab.mod=
bc;ab.source=this.value;return ab.modifies(xb)}});const qb={kde:Qa.randomKDE,mixture:Qa.randomMixture,normal:Qa.randomNormal,lognormal:Qa.randomLogNormal,uniform:Qa.randomUniform};Ha=[{key:{"function":"normal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"lognormal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"uniform"},params:[{name:"min",type:"number","default":0},{name:"max",
type:"number","default":1}]},{key:{"function":"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number","default":0}]}];Ra.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"method",type:"string","default":"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",
params:Ha.concat({key:{"function":"mixture"},params:[{name:"distributions",type:"param",array:!0,params:Ha},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,"default":["value","density"]}]};v.inherits(Ra,Y.Transform,{transform(U,va){const ab=va.fork(va.NO_SOURCE|va.NO_FIELDS);if(!this.value||va.changed()||U.modified()){const xb=La(U.distribution,fb(va));va=U.steps||U.minsteps||25;const Rb=U.steps||U.maxsteps||200;let zb=U.method||"pdf";"pdf"!==zb&&"cdf"!==zb&&v.error("Invalid density method: "+
zb);U.extent||xb.data||v.error("Missing density extent parameter.");zb=xb[zb];const kc=U.as||["value","density"];U=U.extent||v.extent(xb.data());U=Qa.sampleCurve(zb,U,va,Rb).map(bc=>{const Ia={};Ia[kc[0]]=bc[0];Ia[kc[1]]=bc[1];return Y.ingest(Ia)});this.value&&(ab.rem=this.value);this.value=ab.add=ab.source=U}return ab}});Xa.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",
type:"boolean","default":!1},{name:"as",type:"string","default":"bin"}]};v.inherits(Xa,Y.Transform,{transform(U,va){if(this.value&&!U.modified()&&!va.changed())return va;var ab=va.materialize(va.SOURCE).source;const xb=jb(va.source,U.groupby,v.identity),Rb=U.smooth||!1,zb=U.field;ab=U.step||v.span(v.extent(ab,zb))/30;const kc=Y.stableCompare((lc,uc)=>zb(lc)-zb(uc));U=U.as||"bin";const bc=xb.length;let Ia=Infinity,lb=-Infinity,Eb=0,Zb;for(;Eb<bc;++Eb){const lc=xb[Eb].sort(kc);Zb=-1;for(const uc of Qa.dotbin(lc,
ab,Rb,zb))uc<Ia&&(Ia=uc),uc>lb&&(lb=uc),lc[++Zb][U]=uc}this.value={start:Ia,stop:lb,step:ab};return va.reflow(!0).modifies(U)}});v.inherits(Q,Y.Operator);F.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};v.inherits(F,Y.Transform,{transform(U,va){var ab=this.value;const xb=U.field;U=va.changed()||va.modified(xb.fields)||U.modified("field");let Rb=ab[0],zb=ab[1];if(U||null==Rb)Rb=Infinity,zb=-Infinity;va.visit(U?va.SOURCE:va.ADD,kc=>{kc=v.toNumber(xb(kc));null!=
kc&&(kc<Rb&&(Rb=kc),kc>zb&&(zb=kc))});Number.isFinite(Rb)&&Number.isFinite(zb)||((ab=v.accessorName(xb))&&(ab=` for field "${ab}"`),va.dataflow.warn(`Infinite extent${ab}: [${Rb}, ${zb}]`),Rb=zb=void 0);this.value=[Rb,zb]}});v.inherits(O,Y.Operator,{connect(U){this.detachSubflow=U.detachSubflow;this.targets().add(U);return U.source=this},add(U){this.count+=1;this.value.add.push(U)},rem(U){--this.count;this.value.rem.push(U)},mod(U){this.value.mod.push(U)},init(U){this.value.init(U,U.NO_SOURCE)},evaluate(){return this.value}});
v.inherits(K,Y.Transform,{activate(U){this._targets[this._targets.active++]=U},subflow(U,va,ab,xb){const Rb=this.value;let zb=v.hasOwnProperty(Rb,U)&&Rb[U],kc;zb?zb.value.stamp<ab.stamp&&(zb.init(ab),this.activate(zb)):(kc=xb||(kc=this._group[U])&&kc.tuple,xb=ab.dataflow,zb=new O(ab.fork(ab.NO_SOURCE),this),xb.add(zb).connect(va(xb,U,kc)),Rb[U]=zb,this.activate(zb));return zb},clean(){const U=this.value;for(const va in U)if(0===U[va].count){const ab=U[va].detachSubflow;ab&&ab();delete U[va]}},initTargets(){const U=
this._targets,va=U.length;for(let ab=0;ab<va&&null!=U[ab];++ab)U[ab]=null;U.active=0},transform(U,va){const ab=va.dataflow,xb=U.key,Rb=U.subflow,zb=this._keys,kc=U.modified("key"),bc=Ia=>this.subflow(Ia,Rb,va);this._group=U.group||{};this.initTargets();va.visit(va.REM,Ia=>{const lb=Y.tupleid(Ia),Eb=zb.get(lb);void 0!==Eb&&(zb.delete(lb),bc(Eb).rem(Ia))});va.visit(va.ADD,Ia=>{const lb=xb(Ia);zb.set(Y.tupleid(Ia),lb);bc(lb).add(Ia)});kc||va.modified(xb.fields)?va.visit(va.MOD,Ia=>{const lb=Y.tupleid(Ia),
Eb=zb.get(lb),Zb=xb(Ia);Eb===Zb?bc(Zb).mod(Ia):(zb.set(lb,Zb),bc(Eb).rem(Ia),bc(Zb).add(Ia))}):va.changed(va.MOD)&&va.visit(va.MOD,Ia=>{bc(zb.get(Y.tupleid(Ia))).mod(Ia)});kc&&va.visit(va.REFLOW,Ia=>{const lb=Y.tupleid(Ia),Eb=zb.get(lb),Zb=xb(Ia);Eb!==Zb&&(zb.set(lb,Zb),bc(Eb).rem(Ia),bc(Zb).add(Ia))});va.clean()?ab.runAfter(()=>{this.clean();zb.clean()}):zb.empty>ab.cleanThreshold&&ab.runAfter(zb.clean);return va}});v.inherits(ka,Y.Operator);ma.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",
type:"expr",required:!0}]};v.inherits(ma,Y.Transform,{transform(U,va){function ab(Zb){const lc=Y.tupleid(Zb),uc=lb(Zb,U),Cc=Rb.get(lc);uc&&Cc?(Rb.delete(lc),kc.push(Zb)):uc||Cc?Eb&&uc&&!Cc&&Ia.push(Zb):(Rb.set(lc,1),bc.push(Zb))}const xb=va.dataflow,Rb=this.value,zb=va.fork(),kc=zb.add,bc=zb.rem,Ia=zb.mod,lb=U.expr;let Eb=!0;va.visit(va.REM,Zb=>{const lc=Y.tupleid(Zb);Rb.has(lc)?Rb.delete(lc):bc.push(Zb)});va.visit(va.ADD,Zb=>{lb(Zb,U)?kc.push(Zb):Rb.set(Y.tupleid(Zb),1)});va.visit(va.MOD,ab);U.modified()&&
(Eb=!1,va.visit(va.REFLOW,ab));Rb.empty>xb.cleanThreshold&&xb.runAfter(Rb.clean);return zb}});Ya.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};v.inherits(Ya,Y.Transform,{transform(U,va){const ab=va.fork(va.NO_SOURCE),xb=U.fields,Rb=Wa(xb,U.as||[]),zb=U.index||null,kc=Rb.length;ab.rem=this.value;va.visit(va.SOURCE,bc=>{const Ia=xb.map(Cc=>Cc(bc)),lb=Ia.reduce((Cc,Bb)=>Math.max(Cc,
Bb.length),0);let Eb=0,Zb,lc,uc;for(;Eb<lb;++Eb){lc=Y.derive(bc);for(Zb=0;Zb<kc;++Zb)lc[Rb[Zb]]=null==(uc=Ia[Zb][Eb])?null:uc;zb&&(lc[zb]=Eb);ab.add.push(lc)}});this.value=ab.source=ab.add;zb&&ab.modifies(zb);return ab.modifies(Rb)}});Za.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,"default":["key","value"]}]};v.inherits(Za,Y.Transform,{transform(U,va){const ab=va.fork(va.NO_SOURCE),xb=U.fields,
Rb=xb.map(v.accessorName);U=U.as||["key","value"];const zb=U[0],kc=U[1],bc=xb.length;ab.rem=this.value;va.visit(va.SOURCE,Ia=>{for(let lb=0,Eb;lb<bc;++lb)Eb=Y.derive(Ia),Eb[zb]=Rb[lb],Eb[kc]=xb[lb](Ia),ab.add.push(Eb)});this.value=ab.source=ab.add;return ab.modifies(U)}});S.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};v.inherits(S,Y.Transform,{transform(U,va){const ab=U.expr,
xb=U.as,Rb=U.modified(),zb=U.initonly?va.ADD:Rb?va.SOURCE:va.modified(ab.fields)||va.modified(xb)?va.ADD_MOD:va.ADD;Rb&&(va=va.materialize().reflow(!0));U.initonly||va.modifies(xb);return va.visit(zb,kc=>kc[xb]=ab(kc,U))}});v.inherits(qa,Y.Transform,{transform(U,va){va=va.fork(va.ALL);const ab=U.generator;let xb=this.value,Rb=U.size-xb.length,zb,kc;if(0<Rb){for(zb=[];0<=--Rb;)zb.push(kc=Y.ingest(ab(U))),xb.push(kc);va.add=va.add.length?va.materialize(va.ADD).add.concat(zb):zb}else U=xb.slice(0,-Rb),
va.rem=va.rem.length?va.materialize(va.REM).rem.concat(U):U,xb=xb.slice(-Rb);va.source=this.value=xb;return va}});const Sb={value:"value",median:Qb.median,mean:Qb.mean,min:Qb.min,max:Qb.max},dd=[];ta.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum","default":"value",values:["value","mean","median","max","min"]},{name:"value",
"default":0}]};v.inherits(ta,Y.Transform,{transform(U,va){var ab=va.fork(va.ALL),xb=ha(U),Rb=P(U),zb=v.accessorName(U.field),kc=v.accessorName(U.key),bc=(U.groupby||[]).map(v.accessorName);U=t(va.source,U.groupby,U.key,U.keyvals);va=[];var Ia=this.value,lb=U.domain.length,Eb,Zb,lc;var uc=0;for(Zb=U.length;uc<Zb;++uc){var Cc=U[uc];var Bb=Cc.values;var pc=NaN;for(Eb=0;Eb<lb;++Eb)if(null==Cc[Eb]){var sc=U.domain[Eb];var mc={_impute:!0};var Bc=0;for(lc=Bb.length;Bc<lc;++Bc)mc[bc[Bc]]=Bb[Bc];mc[kc]=sc;
mc[zb]=Number.isNaN(pc)?pc=xb(Cc,Rb):pc;va.push(Y.ingest(mc))}}va.length&&(ab.add=ab.materialize(ab.ADD).add.concat(va));Ia.length&&(ab.rem=ab.materialize(ab.REM).rem.concat(Ia));this.value=va;return ab}});u.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"ops",type:"enum",array:!0,values:Zc},{name:"as",type:"string","null":!0,array:!0},{name:"key",type:"field"}]};v.inherits(u,za,{transform(U,
va){const ab=this,xb=U.modified();let Rb;ab.value&&(xb||va.modified(ab._inputs,!0))?(Rb=ab.value=xb?ab.init(U):{},va.visit(va.SOURCE,zb=>ab.add(zb))):(Rb=ab.value=ab.value||this.init(U),va.visit(va.REM,zb=>ab.rem(zb)),va.visit(va.ADD,zb=>ab.add(zb)));ab.changes();va.visit(va.SOURCE,zb=>{v.extend(zb,Rb[ab.cellkey(zb)].tuple)});return va.reflow(xb).modifies(this._outputs)},changes(){const U=this._adds,va=this._mods;let ab,xb;ab=0;for(xb=this._alen;ab<xb;++ab)this.celltuple(U[ab]),U[ab]=null;ab=0;for(xb=
this._mlen;ab<xb;++ab)this.celltuple(va[ab]),va[ab]=null;this._alen=this._mlen=0}});l.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean","default":!1},{name:"counts",type:"boolean","default":!1},{name:"bandwidth",type:"number","default":0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"steps",
type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"as",type:"string",array:!0,"default":["value","density"]}]};v.inherits(l,Y.Transform,{transform(U,va){const ab=va.fork(va.NO_SOURCE|va.NO_FIELDS);if(!this.value||va.changed()||U.modified()){va=va.materialize(va.SOURCE).source;const xb=jb(va,U.groupby,U.field),Rb=(U.groupby||[]).map(v.accessorName),zb=U.bandwidth,kc=U.cumulative?"cdf":"pdf",bc=U.as||["value","density"],Ia=[];let lb=U.extent,
Eb=U.steps||U.minsteps||25,Zb=U.steps||U.maxsteps||200;"pdf"!==kc&&"cdf"!==kc&&v.error("Invalid density method: "+kc);"shared"===U.resolve&&(lb||(lb=v.extent(va,U.field)),Eb=Zb=U.steps||Zb);xb.forEach(lc=>{const uc=Qa.randomKDE(lc,zb)[kc],Cc=U.counts?lc.length:1,Bb=lb||v.extent(lc);Qa.sampleCurve(uc,Bb,Eb,Zb).forEach(pc=>{const sc={};for(let mc=0;mc<Rb.length;++mc)sc[Rb[mc]]=lc.dims[mc];sc[bc[0]]=pc[0];sc[bc[1]]=pc[1]*Cc;Ia.push(Y.ingest(sc))})});this.value&&(ab.rem=this.value);this.value=ab.add=
ab.source=Ia}return ab}});v.inherits(p,Y.Operator);v.inherits(B,Y.Transform,{transform(U,va){const ab=va.dataflow;return this._pending?z(this,va,this._pending):E(U)?va.StopPropagation:U.values?z(this,va,ab.parse(U.values,U.format)):U.async?{async:ab.request(U.url,U.format).then(xb=>{this._pending=v.array(xb.data);return Rb=>Rb.touch(this)})}:ab.request(U.url,U.format).then(xb=>z(this,va,v.array(xb.data)))}});aa.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",
type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default","default":null}]};v.inherits(aa,Y.Transform,{transform(U,va){const ab=U.fields,xb=U.index,Rb=U.values,zb=null==U.default?null:U.default;var kc=U.modified();const bc=ab.length;let Ia=kc?va.SOURCE:va.ADD,lb=va,Eb=U.as,Zb;Rb?(Zb=Rb.length,1<bc&&!Eb&&v.error('Multi-field lookup requires explicit "as" parameter.'),
Eb&&Eb.length!==bc*Zb&&v.error('The "as" parameter has too few output field names.'),Eb=Eb||Rb.map(v.accessorName),U=function(lc){for(var uc=0,Cc=0,Bb,pc;uc<bc;++uc)if(pc=xb.get(ab[uc](lc)),null==pc)for(Bb=0;Bb<Zb;++Bb,++Cc)lc[Eb[Cc]]=zb;else for(Bb=0;Bb<Zb;++Bb,++Cc)lc[Eb[Cc]]=Rb[Bb](pc)}):(Eb||v.error("Missing output field names."),U=function(lc){for(var uc=0,Cc;uc<bc;++uc)Cc=xb.get(ab[uc](lc)),lc[Eb[uc]]=null==Cc?zb:Cc});kc?lb=va.reflow(!0):(kc=ab.some(lc=>va.modified(lc.fields)),Ia|=kc?va.MOD:
0);va.visit(Ia,U);return lb.modifies(Eb)}});v.inherits(sa,Y.Operator);v.inherits(Na,Y.Operator);v.inherits(W,Y.Transform,{transform(U,va){this.modified(U.modified());this.value=U;return va.fork(va.NO_SOURCE|va.NO_FIELDS)}});na.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:Zc,"default":"sum"},{name:"limit",type:"number","default":0},
{name:"key",type:"field"}]};v.inherits(na,za,{_transform:za.prototype.transform,transform(U,va){return this._transform($a(U,va),va)}});v.inherits(Xb,K,{transform(U,va){const ab=U.subflow,xb=U.field,Rb=zb=>this.subflow(Y.tupleid(zb),ab,va,zb);(U.modified("field")||xb&&va.modified(v.accessorFields(xb)))&&v.error("PreFacet does not support field modification.");this.initTargets();xb?(va.visit(va.MOD,zb=>{const kc=Rb(zb);xb(zb).forEach(bc=>kc.mod(bc))}),va.visit(va.ADD,zb=>{const kc=Rb(zb);xb(zb).forEach(bc=>
kc.add(Y.ingest(bc)))}),va.visit(va.REM,zb=>{const kc=Rb(zb);xb(zb).forEach(bc=>kc.rem(bc))})):(va.visit(va.MOD,zb=>Rb(zb).mod(zb)),va.visit(va.ADD,zb=>Rb(zb).add(zb)),va.visit(va.REM,zb=>Rb(zb).rem(zb)));va.clean()&&va.runAfter(()=>this.clean());return va}});vc.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string","null":!0,array:!0}]};v.inherits(vc,Y.Transform,{transform(U,va){const ab=va.fork(va.NO_SOURCE),xb=U.fields,
Rb=Wa(U.fields,U.as||[]),zb=xb?(bc,Ia)=>{for(let lb=0,Eb=xb.length;lb<Eb;++lb)Ia[Rb[lb]]=xb[lb](bc);return Ia}:Y.rederive;let kc;this.value?kc=this.value:(va=va.addAll(),kc=this.value={});va.visit(va.REM,bc=>{bc=Y.tupleid(bc);ab.rem.push(kc[bc]);kc[bc]=null});va.visit(va.ADD,bc=>{const Ia=zb(bc,Y.ingest({}));kc[Y.tupleid(bc)]=Ia;ab.add.push(Ia)});va.visit(va.MOD,bc=>{ab.mod.push(zb(bc,kc[Y.tupleid(bc)]))});return ab}});v.inherits(Vc,Y.Transform,{transform(U,va){this.value=U.value;return U.modified("value")?
va.fork(va.NO_SOURCE|va.NO_FIELDS):va.StopPropagation}});tc.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number","default":.01},{name:"as",type:"string",array:!0,"default":["prob","value"]}]};v.inherits(tc,Y.Transform,{transform(U,va){const ab=va.fork(va.NO_SOURCE|va.NO_FIELDS),xb=U.as||["prob","value"];if(this.value&&!U.modified()&&!va.changed())return ab.source=
this.value,ab;va=va.materialize(va.SOURCE).source;va=jb(va,U.groupby,U.field);const Rb=(U.groupby||[]).map(v.accessorName),zb=[],kc=U.step||.01,bc=U.probs||Qb.range(kc/2,1-1E-14,kc),Ia=bc.length;va.forEach(lb=>{const Eb=Qa.quantiles(lb,bc);for(let Zb=0;Zb<Ia;++Zb){const lc={};for(let uc=0;uc<Rb.length;++uc)lc[Rb[uc]]=lb.dims[uc];lc[xb[0]]=bc[Zb];lc[xb[1]]=Eb[Zb];zb.push(Y.ingest(lc))}});this.value&&(ab.rem=this.value);this.value=ab.add=ab.source=zb;return ab}});v.inherits(Hc,Y.Transform,{transform(U,
va){let ab,xb;this.value?xb=this.value:(ab=va=va.addAll(),xb=this.value={});U.derive&&(ab=va.fork(va.NO_SOURCE),va.visit(va.REM,Rb=>{Rb=Y.tupleid(Rb);ab.rem.push(xb[Rb]);xb[Rb]=null}),va.visit(va.ADD,Rb=>{const zb=Y.derive(Rb);xb[Y.tupleid(Rb)]=zb;ab.add.push(zb)}),va.visit(va.MOD,Rb=>{const zb=xb[Y.tupleid(Rb)];for(const kc in Rb)zb[kc]=Rb[kc],ab.modifies(kc);ab.mod.push(zb)}));return ab}});Ma.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number","default":1E3}]};v.inherits(Ma,
Y.Transform,{transform(U,va){function ab(Eb){let Zb,lc;bc.length<zb?bc.push(Eb):(lc=~~((Ia+1)*Qa.random()),lc<bc.length&&lc>=lb&&(Zb=bc[lc],kc[Y.tupleid(Zb)]&&xb.rem.push(Zb),bc[lc]=Eb));++Ia}const xb=va.fork(va.NO_SOURCE);var Rb=U.modified("size");const zb=U.size,kc=this.value.reduce((Eb,Zb)=>(Eb[Y.tupleid(Zb)]=1,Eb),{});let bc=this.value,Ia=this.count,lb=0;va.rem.length&&(va.visit(va.REM,Eb=>{const Zb=Y.tupleid(Eb);kc[Zb]&&(kc[Zb]=-1,xb.rem.push(Eb));--Ia}),bc=bc.filter(Eb=>-1!==kc[Y.tupleid(Eb)]));
(va.rem.length||Rb)&&bc.length<zb&&va.source&&(lb=Ia=bc.length,va.visit(va.SOURCE,Eb=>{kc[Y.tupleid(Eb)]||ab(Eb)}),lb=-1);if(Rb&&bc.length>zb){U=bc.length-zb;for(Rb=0;Rb<U;++Rb)kc[Y.tupleid(bc[Rb])]=-1,xb.rem.push(bc[Rb]);bc=bc.slice(U)}va.mod.length&&va.visit(va.MOD,Eb=>{kc[Y.tupleid(Eb)]&&xb.mod.push(Eb)});va.add.length&&va.visit(va.ADD,ab);if(va.add.length||0>lb)xb.add=bc.filter(Eb=>!kc[Y.tupleid(Eb)]);this.count=Ia;this.value=xb.source=bc;return xb}});ec.Definition={type:"Sequence",metadata:{generates:!0,
changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number","default":1},{name:"as",type:"string","default":"data"}]};v.inherits(ec,Y.Transform,{transform(U,va){if(!this.value||U.modified()){var ab=va.materialize().fork(va.MOD),xb=U.as||"data";ab.rem=this.value?va.rem.concat(this.value):va.rem;this.value=Qb.range(U.start,U.stop,U.step||1).map(Rb=>{const zb={};zb[xb]=Rb;return Y.ingest(zb)});ab.add=va.add.concat(this.value);return ab}}});
v.inherits(cc,Y.Transform,{transform(U,va){this.value=va.source;return va.changed()?va.fork(va.NO_SOURCE|va.NO_FIELDS):va.StopPropagation}});const nd=["unit0","unit1"];nc.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"units",type:"enum",values:db.TIME_UNITS,array:!0},{name:"step",type:"number","default":1},{name:"maxbins",type:"number","default":40},{name:"extent",type:"date",array:!0},{name:"timezone",
type:"enum","default":"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,"default":nd}]};v.inherits(nc,Y.Transform,{transform(U,va){const ab=U.field,xb=!1!==U.interval;var Rb="utc"===U.timezone;const zb=this._floor(U,va),kc=(Rb?db.utcInterval:db.timeInterval)(zb.unit).offset;Rb=U.as||nd;const bc=Rb[0],Ia=Rb[1],lb=zb.step;let Eb=zb.start||Infinity,Zb=zb.stop||-Infinity,lc=va.ADD;if(U.modified()||va.modified(v.accessorFields(ab)))va=va.reflow(!0),lc=va.SOURCE,Eb=Infinity,Zb=
-Infinity;va.visit(lc,uc=>{var Cc=ab(uc);let Bb;null==Cc?(uc[bc]=null,xb&&(uc[Ia]=null)):(uc[bc]=Cc=Bb=zb(Cc),xb&&(uc[Ia]=Bb=kc(Cc,lb)),Cc<Eb&&(Eb=Cc),Bb>Zb&&(Zb=Bb))});zb.start=Eb;zb.stop=Zb;return va.modifies(xb?Rb:bc)},_floor(U,va){var ab="utc"===U.timezone;const {units:xb,step:Rb}=U.units?{units:U.units,step:U.step||1}:db.timeBin({extent:U.extent||v.extent(va.materialize(va.SOURCE).source,U.field),maxbins:U.maxbins});U=db.timeUnits(xb);va=this.value||{};ab=(ab?db.utcFloor:db.timeFloor)(U,Rb);
ab.unit=v.peek(U);ab.units=U;ab.step=Rb;ab.start=va.start;ab.stop=va.stop;return this.value=ab}});v.inherits(Ec,Y.Transform,{transform(U,va){const ab=va.dataflow,xb=U.field,Rb=this.value,zb=bc=>Rb.set(xb(bc),bc);let kc=!0;U.modified("field")||va.modified(xb.fields)?(Rb.clear(),va.visit(va.SOURCE,zb)):va.changed()?(va.visit(va.REM,bc=>Rb.delete(xb(bc))),va.visit(va.ADD,zb)):kc=!1;this.modified(kc);Rb.empty>ab.cleanThreshold&&ab.runAfter(Rb.clean);return va.fork()}});v.inherits(jc,Y.Transform,{transform(U,
va){if(!this.value||U.modified("field")||U.modified("sort")||va.changed()||U.sort&&va.modified(U.sort.fields))this.value=(U.sort?va.source.slice().sort(Y.stableCompare(U.sort)):va.source).map(U.field)}});const Nd={row_number:function(){return{next:U=>U.index+1}},rank:function(){let U;return{init:()=>U=1,next:va=>{const ab=va.index,xb=va.data;return ab&&va.compare(xb[ab-1],xb[ab])?U=ab+1:U}}},dense_rank:function(){let U;return{init:()=>U=1,next:va=>{const ab=va.index,xb=va.data;return ab&&va.compare(xb[ab-
1],xb[ab])?++U:U}}},percent_rank:function(){const U=Nd.rank(),va=U.next;return{init:U.init,next:ab=>(va(ab)-1)/(ab.data.length-1)}},cume_dist:function(){let U;return{init:()=>U=0,next:va=>{const ab=va.data,xb=va.compare;va=va.index;if(U<va){for(;va+1<ab.length&&!xb(ab[va],ab[va+1]);)++va;U=va}return(1+U)/ab.length}}},ntile:function(U,va){va=+va;0<va||v.error("ntile num must be greater than zero.");U=Nd.cume_dist();const ab=U.next;return{init:U.init,next:xb=>Math.ceil(va*ab(xb))}},lag:function(U,va){va=
+va||1;return{next:ab=>{const xb=ab.index-va;return 0<=xb?U(ab.data[xb]):null}}},lead:function(U,va){va=+va||1;return{next:ab=>{const xb=ab.index+va;ab=ab.data;return xb<ab.length?U(ab[xb]):null}}},first_value:function(U){return{next:va=>U(va.data[va.i0])}},last_value:function(U){return{next:va=>U(va.data[va.i1-1])}},nth_value:function(U,va){va=+va;0<va||v.error("nth_value nth must be greater than zero.");return{next:ab=>{const xb=ab.i0+(va-1);return xb<ab.i1?U(ab.data[xb]):null}}},prev_value:function(U){let va;
return{init:()=>va=null,next:ab=>{ab=U(ab.data[ab.index]);return null!=ab?va=ab:va}}},next_value:function(U){let va,ab;return{init:()=>(va=null,ab=-1),next:xb=>{var Rb=xb.data;if(xb.index<=ab)Rb=va;else{a:{xb=xb.index;for(let zb=Rb.length;xb<zb;++xb)if(null!=U(Rb[xb]))break a;xb=-1}Rb=0>(ab=xb)?(ab=Rb.length,va=null):va=U(Rb[ab])}return Rb}}}};Ha=Object.keys(Nd);const Wd=Rc.prototype;Wd.init=function(){this.windows.forEach(U=>U.init());this.cell&&this.cell.init()};Wd.update=function(U,va){const ab=
this.cell,xb=this.windows,Rb=U.data,zb=xb&&xb.length;let kc;if(ab){for(kc=U.p0;kc<U.i0;++kc)ab.rem(Rb[kc]);for(kc=U.p1;kc<U.i1;++kc)ab.add(Rb[kc]);ab.set(va)}for(kc=0;kc<zb;++kc)xb[kc].update(U,va)};ud.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Ha.concat(Zc)},{name:"params",type:"number","null":!0,array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string",
"null":!0,array:!0},{name:"frame",type:"number","null":!0,array:!0,length:2,"default":[null,0]},{name:"ignorePeers",type:"boolean","default":!1}]};v.inherits(ud,Y.Transform,{transform(U,va){this.stamp=va.stamp;const ab=U.modified(),xb=Y.stableCompare(U.sort),Rb=Ib(U.groupby),zb=bc=>this.group(Rb(bc));let kc=this.state;if(!kc||ab)kc=this.state=new Rc(U);ab||va.modified(kc.inputs)?(this.value={},va.visit(va.SOURCE,bc=>zb(bc).add(bc))):(va.visit(va.REM,bc=>zb(bc).remove(bc)),va.visit(va.ADD,bc=>zb(bc).add(bc)));
for(let bc=0,Ia=this._mlen;bc<Ia;++bc)ce(this._mods[bc],kc,xb,U);this._mlen=0;this._mods=[];return va.reflow(ab).modifies(kc.outputs)},group(U){let va=this.value[U];va||(va=this.value[U]=gb(Y.tupleid),va.stamp=-1);va.stamp<this.stamp&&(va.stamp=this.stamp,this._mods[this._mlen++]=va);return va}});n.aggregate=za;n.bin=Ea;n.collect=xa;n.compare=Ua;n.countpattern=da;n.cross=wa;n.density=Ra;n.dotbin=Xa;n.expression=Q;n.extent=F;n.facet=K;n.field=ka;n.filter=ma;n.flatten=Ya;n.fold=Za;n.formula=S;n.generate=
qa;n.impute=ta;n.joinaggregate=u;n.kde=l;n.key=p;n.load=B;n.lookup=aa;n.multiextent=sa;n.multivalues=Na;n.params=W;n.pivot=na;n.prefacet=Xb;n.project=vc;n.proxy=Vc;n.quantile=tc;n.relay=Hc;n.sample=Ma;n.sequence=ec;n.sieve=cc;n.subflow=O;n.timeunit=nc;n.tupleindex=Ec;n.values=jc;n.window=ud;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[32]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc):"function"===typeof define&&define.amd?define(["exports"],v):(n=n||self,v(n.d3=n.d3||{}))})(this,function(n){function v(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function Y(){return new v}const Qa=Math.PI,Qb=2*Qa,db=Qb-1E-6;v.prototype=Y.prototype={constructor:v,moveTo:function(pb,Ib){this._+="M"+(this._x0=this._x1=+pb)+","+(this._y0=this._y1=+Ib)},closePath:function(){null!==this._x1&&
(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(pb,Ib){this._+="L"+(this._x1=+pb)+","+(this._y1=+Ib)},quadraticCurveTo:function(pb,Ib,Ab,Va){this._+="Q"+ +pb+","+ +Ib+","+(this._x1=+Ab)+","+(this._y1=+Va)},bezierCurveTo:function(pb,Ib,Ab,Va,nb,mb){this._+="C"+ +pb+","+ +Ib+","+ +Ab+","+ +Va+","+(this._x1=+nb)+","+(this._y1=+mb)},arcTo:function(pb,Ib,Ab,Va,nb){pb=+pb;Ib=+Ib;Ab=+Ab;Va=+Va;nb=+nb;var mb=this._x1,Pa=this._y1,Ba=Ab-pb,Ca=Va-Ib,Sa=mb-pb,kb=Pa-Ib,za=Sa*Sa+kb*kb;if(0>nb)throw Error("negative radius: "+
nb);if(null===this._x1)this._+="M"+(this._x1=pb)+","+(this._y1=Ib);else if(1E-6<za)if(1E-6<Math.abs(kb*Ba-Ca*Sa)&&nb){Ab-=mb;Va-=Pa;var Ea=Ba*Ba+Ca*Ca;Pa=Math.sqrt(Ea);mb=Math.sqrt(za);za=nb*Math.tan((Qa-Math.acos((Ea+za-(Ab*Ab+Va*Va))/(2*Pa*mb)))/2);mb=za/mb;za/=Pa;1E-6<Math.abs(mb-1)&&(this._+="L"+(pb+mb*Sa)+","+(Ib+mb*kb));this._+="A"+nb+","+nb+",0,0,"+ +(kb*Ab>Sa*Va)+","+(this._x1=pb+za*Ba)+","+(this._y1=Ib+za*Ca)}else this._+="L"+(this._x1=pb)+","+(this._y1=Ib)},arc:function(pb,Ib,Ab,Va,nb,mb){pb=
+pb;Ib=+Ib;Ab=+Ab;mb=!!mb;var Pa=Ab*Math.cos(Va),Ba=Ab*Math.sin(Va),Ca=pb+Pa,Sa=Ib+Ba,kb=1^mb;Va=mb?Va-nb:nb-Va;if(0>Ab)throw Error("negative radius: "+Ab);if(null===this._x1)this._+="M"+Ca+","+Sa;else if(1E-6<Math.abs(this._x1-Ca)||1E-6<Math.abs(this._y1-Sa))this._+="L"+Ca+","+Sa;Ab&&(0>Va&&(Va=Va%Qb+Qb),Va>db?this._+="A"+Ab+","+Ab+",0,1,"+kb+","+(pb-Pa)+","+(Ib-Ba)+"A"+Ab+","+Ab+",0,1,"+kb+","+(this._x1=Ca)+","+(this._y1=Sa):1E-6<Va&&(this._+="A"+Ab+","+Ab+",0,"+ +(Va>=Qa)+","+kb+","+(this._x1=
pb+Ab*Math.cos(nb))+","+(this._y1=Ib+Ab*Math.sin(nb))))},rect:function(pb,Ib,Ab,Va){this._+="M"+(this._x0=this._x1=+pb)+","+(this._y0=this._y1=+Ib)+"h"+ +Ab+"v"+ +Va+"h"+-Ab+"Z"},toString:function(){return this._}};n.path=Y;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[33]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc,Ob(32)):"function"===typeof define&&define.amd?define(["exports","d3-path"],v):(n=n||self,v(n.d3=n.d3||{},n.d3))})(this,function(n,v){function Y(Ia){return function(){return Ia}}function Qa(Ia){return 1<=Ia?cc:-1>=Ia?-cc:Math.asin(Ia)}function Qb(Ia){return Ia.innerRadius}function db(Ia){return Ia.outerRadius}function pb(Ia){return Ia.startAngle}function Ib(Ia){return Ia.endAngle}function Ab(Ia){return Ia&&
Ia.padAngle}function Va(Ia,lb,Eb,Zb,lc,uc,Cc){var Bb=Ia-Eb,pc=lb-Zb;Cc=(Cc?uc:-uc)/Ma(Bb*Bb+pc*pc);pc*=Cc;Bb*=-Cc;var sc=Ia+pc,mc=lb+Bb,Bc=Eb+pc,Oc=Zb+Bb;Eb=(sc+Bc)/2;Zb=(mc+Oc)/2;lb=Bc-sc;Ia=Oc-mc;Cc=lb*lb+Ia*Ia;uc=lc-uc;Oc=sc*Oc-Bc*mc;var Kc=(0>Ia?-1:1)*Ma(Vc(0,uc*uc*Cc-Oc*Oc));sc=(Oc*Ia-lb*Kc)/Cc;mc=(-Oc*lb-Ia*Kc)/Cc;Bc=(Oc*Ia+lb*Kc)/Cc;lb=(-Oc*lb+Ia*Kc)/Cc;Ia=sc-Eb;Cc=mc-Zb;Eb=Bc-Eb;Zb=lb-Zb;Ia*Ia+Cc*Cc>Eb*Eb+Zb*Zb&&(sc=Bc,mc=lb);return{cx:sc,cy:mc,x01:-pc,y01:-Bb,x11:sc*(lc/uc-1),y11:mc*(lc/
uc-1)}}function nb(Ia){return"object"===typeof Ia&&"length"in Ia?Ia:Array.from(Ia)}function mb(Ia){this._context=Ia}function Pa(Ia){return new mb(Ia)}function Ba(Ia){return Ia[0]}function Ca(Ia){return Ia[1]}function Sa(Ia,lb){function Eb(Bb){var pc,sc=(Bb=nb(Bb)).length,mc,Bc=!1,Oc;null==lc&&(Cc=uc(Oc=v.path()));for(pc=0;pc<=sc;++pc)!(pc<sc&&Zb(mc=Bb[pc],pc,Bb))===Bc&&((Bc=!Bc)?Cc.lineStart():Cc.lineEnd()),Bc&&Cc.point(+Ia(mc,pc,Bb),+lb(mc,pc,Bb));if(Oc)return Cc=null,Oc+""||null}var Zb=Y(!0),lc=
null,uc=Pa,Cc=null;Ia="function"===typeof Ia?Ia:void 0===Ia?Ba:Y(Ia);lb="function"===typeof lb?lb:void 0===lb?Ca:Y(lb);Eb.x=function(Bb){return arguments.length?(Ia="function"===typeof Bb?Bb:Y(+Bb),Eb):Ia};Eb.y=function(Bb){return arguments.length?(lb="function"===typeof Bb?Bb:Y(+Bb),Eb):lb};Eb.defined=function(Bb){return arguments.length?(Zb="function"===typeof Bb?Bb:Y(!!Bb),Eb):Zb};Eb.curve=function(Bb){return arguments.length?(uc=Bb,null!=lc&&(Cc=uc(lc)),Eb):uc};Eb.context=function(Bb){return arguments.length?
(null==Bb?lc=Cc=null:Cc=uc(lc=Bb),Eb):lc};return Eb}function kb(Ia,lb,Eb){function Zb(mc){var Bc,Oc,Kc=(mc=nb(mc)).length,ad,id=!1,td,qd=Array(Kc),Fd=Array(Kc);null==Bb&&(sc=pc(td=v.path()));for(Bc=0;Bc<=Kc;++Bc){if(!(Bc<Kc&&Cc(ad=mc[Bc],Bc,mc))===id)if(id=!id){var Ud=Bc;sc.areaStart();sc.lineStart()}else{sc.lineEnd();sc.lineStart();for(Oc=Bc-1;Oc>=Ud;--Oc)sc.point(qd[Oc],Fd[Oc]);sc.lineEnd();sc.areaEnd()}id&&(qd[Bc]=+Ia(ad,Bc,mc),Fd[Bc]=+lb(ad,Bc,mc),sc.point(uc?+uc(ad,Bc,mc):qd[Bc],Eb?+Eb(ad,Bc,
mc):Fd[Bc]))}if(td)return sc=null,td+""||null}function lc(){return Sa().defined(Cc).curve(pc).context(Bb)}var uc=null,Cc=Y(!0),Bb=null,pc=Pa,sc=null;Ia="function"===typeof Ia?Ia:void 0===Ia?Ba:Y(+Ia);lb="function"===typeof lb?lb:void 0===lb?Y(0):Y(+lb);Eb="function"===typeof Eb?Eb:void 0===Eb?Ca:Y(+Eb);Zb.x=function(mc){return arguments.length?(Ia="function"===typeof mc?mc:Y(+mc),uc=null,Zb):Ia};Zb.x0=function(mc){return arguments.length?(Ia="function"===typeof mc?mc:Y(+mc),Zb):Ia};Zb.x1=function(mc){return arguments.length?
(uc=null==mc?null:"function"===typeof mc?mc:Y(+mc),Zb):uc};Zb.y=function(mc){return arguments.length?(lb="function"===typeof mc?mc:Y(+mc),Eb=null,Zb):lb};Zb.y0=function(mc){return arguments.length?(lb="function"===typeof mc?mc:Y(+mc),Zb):lb};Zb.y1=function(mc){return arguments.length?(Eb=null==mc?null:"function"===typeof mc?mc:Y(+mc),Zb):Eb};Zb.lineX0=Zb.lineY0=function(){return lc().x(Ia).y(lb)};Zb.lineY1=function(){return lc().x(Ia).y(Eb)};Zb.lineX1=function(){return lc().x(uc).y(lb)};Zb.defined=
function(mc){return arguments.length?(Cc="function"===typeof mc?mc:Y(!!mc),Zb):Cc};Zb.curve=function(mc){return arguments.length?(pc=mc,null!=Bb&&(sc=pc(Bb)),Zb):pc};Zb.context=function(mc){return arguments.length?(null==mc?Bb=sc=null:sc=pc(Bb=mc),Zb):Bb};return Zb}function za(Ia,lb){return lb<Ia?-1:lb>Ia?1:lb>=Ia?0:NaN}function Ea(Ia){return Ia}function gb(Ia){this._curve=Ia}function xa(Ia){function lb(Eb){return new gb(Ia(Eb))}lb._curve=Ia;return lb}function Ua(Ia){var lb=Ia.curve;Ia.angle=Ia.x;
delete Ia.x;Ia.radius=Ia.y;delete Ia.y;Ia.curve=function(Eb){return arguments.length?lb(xa(Eb)):lb()._curve};return Ia}function Ja(){return Ua(Sa().curve(jc))}function da(){var Ia=kb().curve(jc),lb=Ia.curve,Eb=Ia.lineX0,Zb=Ia.lineX1,lc=Ia.lineY0,uc=Ia.lineY1;Ia.angle=Ia.x;delete Ia.x;Ia.startAngle=Ia.x0;delete Ia.x0;Ia.endAngle=Ia.x1;delete Ia.x1;Ia.radius=Ia.y;delete Ia.y;Ia.innerRadius=Ia.y0;delete Ia.y0;Ia.outerRadius=Ia.y1;delete Ia.y1;Ia.lineStartAngle=function(){return Ua(Eb())};delete Ia.lineX0;
Ia.lineEndAngle=function(){return Ua(Zb())};delete Ia.lineX1;Ia.lineInnerRadius=function(){return Ua(lc())};delete Ia.lineY0;Ia.lineOuterRadius=function(){return Ua(uc())};delete Ia.lineY1;Ia.curve=function(Cc){return arguments.length?lb(xa(Cc)):lb()._curve};return Ia}function wa(Ia,lb){return[(lb=+lb)*Math.cos(Ia-=Math.PI/2),lb*Math.sin(Ia)]}function La(Ia){return Ia.source}function Ra(Ia){return Ia.target}function fb(Ia){function lb(){var Bb,pc=Ec.call(arguments),sc=Eb.apply(this,pc),mc=Zb.apply(this,
pc);Cc||(Cc=Bb=v.path());Ia(Cc,+lc.apply(this,(pc[0]=sc,pc)),+uc.apply(this,pc),+lc.apply(this,(pc[0]=mc,pc)),+uc.apply(this,pc));if(Bb)return Cc=null,Bb+""||null}var Eb=La,Zb=Ra,lc=Ba,uc=Ca,Cc=null;lb.source=function(Bb){return arguments.length?(Eb=Bb,lb):Eb};lb.target=function(Bb){return arguments.length?(Zb=Bb,lb):Zb};lb.x=function(Bb){return arguments.length?(lc="function"===typeof Bb?Bb:Y(+Bb),lb):lc};lb.y=function(Bb){return arguments.length?(uc="function"===typeof Bb?Bb:Y(+Bb),lb):uc};lb.context=
function(Bb){return arguments.length?(Cc=null==Bb?null:Bb,lb):Cc};return lb}function Wa(Ia,lb,Eb,Zb,lc){Ia.moveTo(lb,Eb);Ia.bezierCurveTo(lb=(lb+Zb)/2,Eb,lb,lc,Zb,lc)}function jb(Ia,lb,Eb,Zb,lc){Ia.moveTo(lb,Eb);Ia.bezierCurveTo(lb,Eb=(Eb+lc)/2,Zb,Eb,Zb,lc)}function Xa(Ia,lb,Eb,Zb,lc){var uc=wa(lb,Eb);lb=wa(lb,Eb=(Eb+lc)/2);Eb=wa(Zb,Eb);Zb=wa(Zb,lc);Ia.moveTo(uc[0],uc[1]);Ia.bezierCurveTo(lb[0],lb[1],Eb[0],Eb[1],Zb[0],Zb[1])}function Q(){}function x(Ia,lb,Eb){Ia._context.bezierCurveTo((2*Ia._x0+Ia._x1)/
3,(2*Ia._y0+Ia._y1)/3,(Ia._x0+2*Ia._x1)/3,(Ia._y0+2*Ia._y1)/3,(Ia._x0+4*Ia._x1+lb)/6,(Ia._y0+4*Ia._y1+Eb)/6)}function F(Ia){this._context=Ia}function O(Ia){this._context=Ia}function K(Ia){this._context=Ia}function ka(Ia,lb){this._basis=new F(Ia);this._beta=lb}function ia(Ia,lb,Eb){Ia._context.bezierCurveTo(Ia._x1+Ia._k*(Ia._x2-Ia._x0),Ia._y1+Ia._k*(Ia._y2-Ia._y0),Ia._x2+Ia._k*(Ia._x1-lb),Ia._y2+Ia._k*(Ia._y1-Eb),Ia._x2,Ia._y2)}function ma(Ia,lb){this._context=Ia;this._k=(1-lb)/6}function Ya(Ia,lb){this._context=
Ia;this._k=(1-lb)/6}function Za(Ia,lb){this._context=Ia;this._k=(1-lb)/6}function S(Ia,lb,Eb){var Zb=Ia._x1,lc=Ia._y1,uc=Ia._x2,Cc=Ia._y2;if(1E-12<Ia._l01_a){var Bb=2*Ia._l01_2a+3*Ia._l01_a*Ia._l12_a+Ia._l12_2a,pc=3*Ia._l01_a*(Ia._l01_a+Ia._l12_a);Zb=(Zb*Bb-Ia._x0*Ia._l12_2a+Ia._x2*Ia._l01_2a)/pc;lc=(lc*Bb-Ia._y0*Ia._l12_2a+Ia._y2*Ia._l01_2a)/pc}1E-12<Ia._l23_a&&(Bb=2*Ia._l23_2a+3*Ia._l23_a*Ia._l12_a+Ia._l12_2a,pc=3*Ia._l23_a*(Ia._l23_a+Ia._l12_a),uc=(uc*Bb+Ia._x1*Ia._l23_2a-lb*Ia._l12_2a)/pc,Cc=
(Cc*Bb+Ia._y1*Ia._l23_2a-Eb*Ia._l12_2a)/pc);Ia._context.bezierCurveTo(Zb,lc,uc,Cc,Ia._x2,Ia._y2)}function qa(Ia,lb){this._context=Ia;this._alpha=lb}function ta(Ia,lb){this._context=Ia;this._alpha=lb}function ha(Ia,lb){this._context=Ia;this._alpha=lb}function P(Ia){this._context=Ia}function t(Ia,lb,Eb){var Zb=Ia._x1-Ia._x0;lb-=Ia._x1;var lc=(Ia._y1-Ia._y0)/(Zb||0>lb&&-0);Ia=(Eb-Ia._y1)/(lb||0>Zb&&-0);return((0>lc?-1:1)+(0>Ia?-1:1))*Math.min(Math.abs(lc),Math.abs(Ia),.5*Math.abs((lc*lb+Ia*Zb)/(Zb+lb)))||
0}function u(Ia,lb){var Eb=Ia._x1-Ia._x0;return Eb?(3*(Ia._y1-Ia._y0)/Eb-lb)/2:lb}function l(Ia,lb,Eb){var Zb=Ia._x0,lc=Ia._x1,uc=Ia._y1,Cc=(lc-Zb)/3;Ia._context.bezierCurveTo(Zb+Cc,Ia._y0+Cc*lb,lc-Cc,uc-Cc*Eb,lc,uc)}function p(Ia){this._context=Ia}function A(Ia){this._context=new B(Ia)}function B(Ia){this._context=Ia}function E(Ia){this._context=Ia}function z(Ia){var lb,Eb=Ia.length-1,Zb=Array(Eb),lc=Array(Eb),uc=Array(Eb);Zb[0]=0;lc[0]=2;uc[0]=Ia[0]+2*Ia[1];for(lb=1;lb<Eb-1;++lb)Zb[lb]=1,lc[lb]=
4,uc[lb]=4*Ia[lb]+2*Ia[lb+1];Zb[Eb-1]=2;lc[Eb-1]=7;uc[Eb-1]=8*Ia[Eb-1]+Ia[Eb];for(lb=1;lb<Eb;++lb){var Cc=Zb[lb]/lc[lb-1];lc[lb]-=Cc;uc[lb]-=Cc*uc[lb-1]}Zb[Eb-1]=uc[Eb-1]/lc[Eb-1];for(lb=Eb-2;0<=lb;--lb)Zb[lb]=(uc[lb]-Zb[lb+1])/lc[lb];lc[Eb-1]=(Ia[Eb]+Zb[Eb-1])/2;for(lb=0;lb<Eb-1;++lb)lc[lb]=2*Ia[lb+1]-Zb[lb+1];return[Zb,lc]}function aa(Ia,lb){this._context=Ia;this._t=lb}function sa(Ia,lb){if(1<(Cc=Ia.length))for(var Eb=1,Zb,lc,uc=Ia[lb[0]],Cc,Bb=uc.length;Eb<Cc;++Eb)for(lc=uc,uc=Ia[lb[Eb]],Zb=0;Zb<
Bb;++Zb)uc[Zb][1]+=uc[Zb][0]=isNaN(lc[Zb][1])?lc[Zb][0]:lc[Zb][1]}function fa(Ia){Ia=Ia.length;for(var lb=Array(Ia);0<=--Ia;)lb[Ia]=Ia;return lb}function Na(Ia,lb){return Ia[lb]}function Da(Ia){const lb=[];lb.key=Ia;return lb}function W(Ia){var lb=Ia.map(na);return fa(Ia).sort(function(Eb,Zb){return lb[Eb]-lb[Zb]})}function na(Ia){for(var lb=-1,Eb=0,Zb=Ia.length,lc,uc=-Infinity;++lb<Zb;)(lc=+Ia[lb][1])>uc&&(uc=lc,Eb=lb);return Eb}function $a(Ia){var lb=Ia.map(sb);return fa(Ia).sort(function(Eb,Zb){return lb[Eb]-
lb[Zb]})}function sb(Ia){for(var lb=0,Eb=-1,Zb=Ia.length,lc;++Eb<Zb;)if(lc=+Ia[Eb][1])lb+=lc;return lb}var Db=Math.abs,Xb=Math.atan2,vc=Math.cos,Vc=Math.max,tc=Math.min,Hc=Math.sin,Ma=Math.sqrt,ec=Math.PI,cc=ec/2,nc=2*ec,Ec=Array.prototype.slice;mb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Ia,
lb){Ia=+Ia;lb=+lb;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Ia,lb):this._context.moveTo(Ia,lb);break;case 1:this._point=2;default:this._context.lineTo(Ia,lb)}}};var jc=xa(Pa);gb.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(Ia,lb){this._curve.point(lb*Math.sin(Ia),lb*-Math.cos(Ia))}};var Mc={draw:function(Ia,lb){lb=
Math.sqrt(lb/ec);Ia.moveTo(lb,0);Ia.arc(0,0,lb,0,nc)}},Rc={draw:function(Ia,lb){lb=Math.sqrt(lb/5)/2;Ia.moveTo(-3*lb,-lb);Ia.lineTo(-lb,-lb);Ia.lineTo(-lb,-3*lb);Ia.lineTo(lb,-3*lb);Ia.lineTo(lb,-lb);Ia.lineTo(3*lb,-lb);Ia.lineTo(3*lb,lb);Ia.lineTo(lb,lb);Ia.lineTo(lb,3*lb);Ia.lineTo(-lb,3*lb);Ia.lineTo(-lb,lb);Ia.lineTo(-3*lb,lb);Ia.closePath()}},Nc=Math.sqrt(1/3),ud=2*Nc,ce={draw:function(Ia,lb){lb=Math.sqrt(lb/ud);var Eb=lb*Nc;Ia.moveTo(0,-lb);Ia.lineTo(Eb,0);Ia.lineTo(0,lb);Ia.lineTo(-Eb,0);Ia.closePath()}},
Zc=Math.sin(ec/10)/Math.sin(7*ec/10),ed=Math.sin(nc/10)*Zc,Pd=-Math.cos(nc/10)*Zc;Zc={draw:function(Ia,lb){lb=Math.sqrt(.8908130915292852*lb);var Eb=ed*lb,Zb=Pd*lb;Ia.moveTo(0,-lb);Ia.lineTo(Eb,Zb);for(var lc=1;5>lc;++lc){var uc=nc*lc/5,Cc=Math.cos(uc);uc=Math.sin(uc);Ia.lineTo(uc*lb,-Cc*lb);Ia.lineTo(Cc*Eb-uc*Zb,uc*Eb+Cc*Zb)}Ia.closePath()}};var Ha={draw:function(Ia,lb){lb=Math.sqrt(lb);var Eb=-lb/2;Ia.rect(Eb,Eb,lb,lb)}},qb=Math.sqrt(3),Sb={draw:function(Ia,lb){lb=-Math.sqrt(lb/(3*qb));Ia.moveTo(0,
2*lb);Ia.lineTo(-qb*lb,-lb);Ia.lineTo(qb*lb,-lb);Ia.closePath()}},dd=Math.sqrt(3)/2,nd=1/Math.sqrt(12),Nd=3*(nd/2+1),Wd={draw:function(Ia,lb){var Eb=Math.sqrt(lb/Nd);lb=Eb/2;var Zb=Eb*nd;Eb=Eb*nd+Eb;var lc=-lb;Ia.moveTo(lb,Zb);Ia.lineTo(lb,Eb);Ia.lineTo(lc,Eb);Ia.lineTo(-.5*lb-dd*Zb,dd*lb+-.5*Zb);Ia.lineTo(-.5*lb-dd*Eb,dd*lb+-.5*Eb);Ia.lineTo(-.5*lc-dd*Eb,dd*lc+-.5*Eb);Ia.lineTo(-.5*lb+dd*Zb,-.5*Zb-dd*lb);Ia.lineTo(-.5*lb+dd*Eb,-.5*Eb-dd*lb);Ia.lineTo(-.5*lc+dd*Eb,-.5*Eb-dd*lc);Ia.closePath()}},U=
[Mc,Rc,ce,Ha,Zc,Sb,Wd];F.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:x(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Ia,lb){Ia=+Ia;lb=+lb;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Ia,
lb):this._context.moveTo(Ia,lb);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:x(this,Ia,lb)}this._x0=this._x1;this._x1=Ia;this._y0=this._y1;this._y1=lb}};O.prototype={areaStart:Q,areaEnd:Q,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();
break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(Ia,lb){Ia=+Ia;lb=+lb;switch(this._point){case 0:this._point=1;this._x2=Ia;this._y2=lb;break;case 1:this._point=2;this._x3=Ia;this._y3=lb;break;case 2:this._point=3;this._x4=Ia;this._y4=lb;this._context.moveTo((this._x0+
4*this._x1+Ia)/6,(this._y0+4*this._y1+lb)/6);break;default:x(this,Ia,lb)}this._x0=this._x1;this._x1=Ia;this._y0=this._y1;this._y1=lb}};K.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Ia,lb){Ia=+Ia;lb=+lb;switch(this._point){case 0:this._point=1;break;case 1:this._point=
2;break;case 2:this._point=3;var Eb=(this._x0+4*this._x1+Ia)/6,Zb=(this._y0+4*this._y1+lb)/6;this._line?this._context.lineTo(Eb,Zb):this._context.moveTo(Eb,Zb);break;case 3:this._point=4;default:x(this,Ia,lb)}this._x0=this._x1;this._x1=Ia;this._y0=this._y1;this._y1=lb}};ka.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var Ia=this._x,lb=this._y,Eb=Ia.length-1;if(0<Eb)for(var Zb=Ia[0],lc=lb[0],uc=Ia[Eb]-Zb,Cc=lb[Eb]-lc,Bb=-1,pc;++Bb<=Eb;)pc=Bb/Eb,
this._basis.point(this._beta*Ia[Bb]+(1-this._beta)*(Zb+pc*uc),this._beta*lb[Bb]+(1-this._beta)*(lc+pc*Cc));this._x=this._y=null;this._basis.lineEnd()},point:function(Ia,lb){this._x.push(+Ia);this._y.push(+lb)}};var va=function Eb(lb){function Zb(lc){return 1===lb?new F(lc):new ka(lc,lb)}Zb.beta=function(lc){return Eb(+lc)};return Zb}(.85);ma.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;
this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ia(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(lb,Eb){lb=+lb;Eb=+Eb;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(lb,Eb):this._context.moveTo(lb,Eb);break;case 1:this._point=2;this._x1=lb;this._y1=Eb;break;case 2:this._point=3;default:ia(this,lb,Eb)}this._x0=this._x1;
this._x1=this._x2;this._x2=lb;this._y0=this._y1;this._y1=this._y2;this._y2=Eb}};var ab=function Zb(Eb){function lc(uc){return new ma(uc,Eb)}lc.tension=function(uc){return Zb(+uc)};return lc}(0);Ya.prototype={areaStart:Q,areaEnd:Q,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,
this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(Eb,Zb){Eb=+Eb;Zb=+Zb;switch(this._point){case 0:this._point=1;this._x3=Eb;this._y3=Zb;break;case 1:this._point=2;this._context.moveTo(this._x4=Eb,this._y4=Zb);break;case 2:this._point=3;this._x5=Eb;this._y5=Zb;break;default:ia(this,Eb,Zb)}this._x0=this._x1;this._x1=this._x2;this._x2=Eb;this._y0=this._y1;this._y1=this._y2;this._y2=Zb}};var xb=function lc(Zb){function uc(Cc){return new Ya(Cc,
Zb)}uc.tension=function(Cc){return lc(+Cc)};return uc}(0);Za.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Zb,lc){Zb=+Zb;lc=+lc;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,
this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ia(this,Zb,lc)}this._x0=this._x1;this._x1=this._x2;this._x2=Zb;this._y0=this._y1;this._y1=this._y2;this._y2=lc}};var Rb=function uc(lc){function Cc(Bb){return new Za(Bb,lc)}Cc.tension=function(Bb){return uc(+Bb)};return Cc}(0);qa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=
this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(lc,uc){lc=+lc;uc=+uc;if(this._point){var Cc=this._x2-lc,Bb=this._y2-uc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Cc*Cc+Bb*Bb,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(lc,
uc):this._context.moveTo(lc,uc);break;case 1:this._point=2;break;case 2:this._point=3;default:S(this,lc,uc)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=lc;this._y0=this._y1;this._y1=this._y2;this._y2=uc}};var zb=function Cc(uc){function Bb(pc){return uc?new qa(pc,uc):new ma(pc,0)}Bb.alpha=function(pc){return Cc(+pc)};return Bb}(.5);ta.prototype={areaStart:Q,areaEnd:Q,lineStart:function(){this._x0=
this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(uc,
Cc){uc=+uc;Cc=+Cc;if(this._point){var Bb=this._x2-uc,pc=this._y2-Cc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Bb*Bb+pc*pc,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=uc;this._y3=Cc;break;case 1:this._point=2;this._context.moveTo(this._x4=uc,this._y4=Cc);break;case 2:this._point=3;this._x5=uc;this._y5=Cc;break;default:S(this,uc,Cc)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=uc;
this._y0=this._y1;this._y1=this._y2;this._y2=Cc}};var kc=function Bb(Cc){function pc(sc){return Cc?new ta(sc,Cc):new Ya(sc,0)}pc.alpha=function(sc){return Bb(+sc)};return pc}(.5);ha.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();
this._line=1-this._line},point:function(Cc,Bb){Cc=+Cc;Bb=+Bb;if(this._point){var pc=this._x2-Cc,sc=this._y2-Bb;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(pc*pc+sc*sc,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:S(this,Cc,Bb)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=
this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Cc;this._y0=this._y1;this._y1=this._y2;this._y2=Bb}};var bc=function pc(Bb){function sc(mc){return Bb?new ha(mc,Bb):new Za(mc,0)}sc.alpha=function(mc){return pc(+mc)};return sc}(.5);P.prototype={areaStart:Q,areaEnd:Q,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(Bb,pc){Bb=+Bb;pc=+pc;this._point?this._context.lineTo(Bb,pc):(this._point=1,this._context.moveTo(Bb,pc))}};p.prototype=
{areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:l(this,this._t0,u(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Bb,pc){var sc=NaN;Bb=+Bb;pc=+pc;if(Bb!==this._x1||pc!==this._y1){switch(this._point){case 0:this._point=
1;this._line?this._context.lineTo(Bb,pc):this._context.moveTo(Bb,pc);break;case 1:this._point=2;break;case 2:this._point=3;l(this,u(this,sc=t(this,Bb,pc)),sc);break;default:l(this,this._t0,sc=t(this,Bb,pc))}this._x0=this._x1;this._x1=Bb;this._y0=this._y1;this._y1=pc;this._t0=sc}}};(A.prototype=Object.create(p.prototype)).point=function(Bb,pc){p.prototype.point.call(this,pc,Bb)};B.prototype={moveTo:function(Bb,pc){this._context.moveTo(pc,Bb)},closePath:function(){this._context.closePath()},lineTo:function(Bb,
pc){this._context.lineTo(pc,Bb)},bezierCurveTo:function(Bb,pc,sc,mc,Bc,Oc){this._context.bezierCurveTo(pc,Bb,mc,sc,Oc,Bc)}};E.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var Bb=this._x,pc=this._y,sc=Bb.length;if(sc)if(this._line?this._context.lineTo(Bb[0],pc[0]):this._context.moveTo(Bb[0],pc[0]),2===sc)this._context.lineTo(Bb[1],pc[1]);else for(var mc=z(Bb),Bc=z(pc),Oc=0,Kc=1;Kc<sc;++Oc,++Kc)this._context.bezierCurveTo(mc[0][Oc],
Bc[0][Oc],mc[1][Oc],Bc[1][Oc],Bb[Kc],pc[Kc]);(this._line||0!==this._line&&1===sc)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(Bb,pc){this._x.push(+Bb);this._y.push(+pc)}};aa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();
0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(Bb,pc){Bb=+Bb;pc=+pc;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Bb,pc):this._context.moveTo(Bb,pc);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,pc),this._context.lineTo(Bb,pc);else{var sc=this._x*(1-this._t)+Bb*this._t;this._context.lineTo(sc,this._y);this._context.lineTo(sc,pc)}}this._x=Bb;this._y=pc}};n.arc=function(){function Bb(){var td,qd=+pc.apply(this,arguments),
Fd=+sc.apply(this,arguments),Ud=Oc.apply(this,arguments)-cc,ee=Kc.apply(this,arguments)-cc,we=Db(ee-Ud),re=ee>Ud;id||(id=td=v.path());if(Fd<qd){var te=Fd;Fd=qd;qd=te}if(1E-12<Fd)if(we>nc-1E-12)id.moveTo(Fd*vc(Ud),Fd*Hc(Ud)),id.arc(0,0,Fd,Ud,ee,!re),1E-12<qd&&(id.moveTo(qd*vc(ee),qd*Hc(ee)),id.arc(0,0,qd,ee,Ud,re));else{var rd=Ud,Jd=ee;te=Ud;var Me=ee,qe=we,bf=we,Hd=ad.apply(this,arguments)/2,fe=1E-12<Hd&&(Bc?+Bc.apply(this,arguments):Ma(qd*qd+Fd*Fd)),Ce=tc(Db(Fd-qd)/2,+mc.apply(this,arguments)),Xd=
Ce,md=Ce;if(1E-12<fe){var xd=Qa(fe/qd*Hc(Hd));Hd=Qa(fe/Fd*Hc(Hd));1E-12<(qe-=2*xd)?(xd*=re?1:-1,te+=xd,Me-=xd):(qe=0,te=Me=(Ud+ee)/2);1E-12<(bf-=2*Hd)?(Hd*=re?1:-1,rd+=Hd,Jd-=Hd):(bf=0,rd=Jd=(Ud+ee)/2)}Ud=Fd*vc(rd);ee=Fd*Hc(rd);xd=qd*vc(Me);Hd=qd*Hc(Me);if(1E-12<Ce){var Ld=Fd*vc(Jd),ff=Fd*Hc(Jd),ne=qd*vc(te),wd=qd*Hc(te);if(we=we<ec){var Ae=ne-Ud;we=wd-ee;fe=xd-Ld;var cf=Hd-ff,wc=cf*Ae-fe*we;1E-12>wc*wc?Ae=void 0:(wc=(fe*(ee-ff)-cf*(Ud-Ld))/wc,Ae=[Ud+wc*Ae,ee+wc*we]);we=Ae}we&&(Xd=Ud-Ae[0],md=ee-
Ae[1],we=Ld-Ae[0],fe=ff-Ae[1],Xd=(Xd*we+md*fe)/(Ma(Xd*Xd+md*md)*Ma(we*we+fe*fe)),md=1/Hc((1<Xd?0:-1>Xd?ec:Math.acos(Xd))/2),Ae=Ma(Ae[0]*Ae[0]+Ae[1]*Ae[1]),Xd=tc(Ce,(qd-Ae)/(md-1)),md=tc(Ce,(Fd-Ae)/(md+1)))}1E-12<bf?1E-12<md?(rd=Va(ne,wd,Ud,ee,Fd,md,re),Jd=Va(Ld,ff,xd,Hd,Fd,md,re),id.moveTo(rd.cx+rd.x01,rd.cy+rd.y01),md<Ce?id.arc(rd.cx,rd.cy,md,Xb(rd.y01,rd.x01),Xb(Jd.y01,Jd.x01),!re):(id.arc(rd.cx,rd.cy,md,Xb(rd.y01,rd.x01),Xb(rd.y11,rd.x11),!re),id.arc(0,0,Fd,Xb(rd.cy+rd.y11,rd.cx+rd.x11),Xb(Jd.cy+
Jd.y11,Jd.cx+Jd.x11),!re),id.arc(Jd.cx,Jd.cy,md,Xb(Jd.y11,Jd.x11),Xb(Jd.y01,Jd.x01),!re))):(id.moveTo(Ud,ee),id.arc(0,0,Fd,rd,Jd,!re)):id.moveTo(Ud,ee);1E-12<qd&&1E-12<qe?1E-12<Xd?(rd=Va(xd,Hd,Ld,ff,qd,-Xd,re),Jd=Va(Ud,ee,ne,wd,qd,-Xd,re),id.lineTo(rd.cx+rd.x01,rd.cy+rd.y01),Xd<Ce?id.arc(rd.cx,rd.cy,Xd,Xb(rd.y01,rd.x01),Xb(Jd.y01,Jd.x01),!re):(id.arc(rd.cx,rd.cy,Xd,Xb(rd.y01,rd.x01),Xb(rd.y11,rd.x11),!re),id.arc(0,0,qd,Xb(rd.cy+rd.y11,rd.cx+rd.x11),Xb(Jd.cy+Jd.y11,Jd.cx+Jd.x11),re),id.arc(Jd.cx,Jd.cy,
Xd,Xb(Jd.y11,Jd.x11),Xb(Jd.y01,Jd.x01),!re))):id.arc(0,0,qd,Me,te,re):id.lineTo(xd,Hd)}else id.moveTo(0,0);id.closePath();if(td)return id=null,td+""||null}var pc=Qb,sc=db,mc=Y(0),Bc=null,Oc=pb,Kc=Ib,ad=Ab,id=null;Bb.centroid=function(){var td=(+pc.apply(this,arguments)+ +sc.apply(this,arguments))/2,qd=(+Oc.apply(this,arguments)+ +Kc.apply(this,arguments))/2-ec/2;return[vc(qd)*td,Hc(qd)*td]};Bb.innerRadius=function(td){return arguments.length?(pc="function"===typeof td?td:Y(+td),Bb):pc};Bb.outerRadius=
function(td){return arguments.length?(sc="function"===typeof td?td:Y(+td),Bb):sc};Bb.cornerRadius=function(td){return arguments.length?(mc="function"===typeof td?td:Y(+td),Bb):mc};Bb.padRadius=function(td){return arguments.length?(Bc=null==td?null:"function"===typeof td?td:Y(+td),Bb):Bc};Bb.startAngle=function(td){return arguments.length?(Oc="function"===typeof td?td:Y(+td),Bb):Oc};Bb.endAngle=function(td){return arguments.length?(Kc="function"===typeof td?td:Y(+td),Bb):Kc};Bb.padAngle=function(td){return arguments.length?
(ad="function"===typeof td?td:Y(+td),Bb):ad};Bb.context=function(td){return arguments.length?(id=null==td?null:td,Bb):id};return Bb};n.area=kb;n.areaRadial=da;n.curveBasis=function(Bb){return new F(Bb)};n.curveBasisClosed=function(Bb){return new O(Bb)};n.curveBasisOpen=function(Bb){return new K(Bb)};n.curveBundle=va;n.curveCardinal=ab;n.curveCardinalClosed=xb;n.curveCardinalOpen=Rb;n.curveCatmullRom=zb;n.curveCatmullRomClosed=kc;n.curveCatmullRomOpen=bc;n.curveLinear=Pa;n.curveLinearClosed=function(Bb){return new P(Bb)};
n.curveMonotoneX=function(Bb){return new p(Bb)};n.curveMonotoneY=function(Bb){return new A(Bb)};n.curveNatural=function(Bb){return new E(Bb)};n.curveStep=function(Bb){return new aa(Bb,.5)};n.curveStepAfter=function(Bb){return new aa(Bb,1)};n.curveStepBefore=function(Bb){return new aa(Bb,0)};n.line=Sa;n.lineRadial=Ja;n.linkHorizontal=function(){return fb(Wa)};n.linkRadial=function(){var Bb=fb(Xa);Bb.angle=Bb.x;delete Bb.x;Bb.radius=Bb.y;delete Bb.y;return Bb};n.linkVertical=function(){return fb(jb)};
n.pie=function(){function Bb(ad){var id,td=(ad=nb(ad)).length;var qd=0;var Fd=Array(td),Ud=Array(td),ee=+Bc.apply(this,arguments);var we=Math.min(nc,Math.max(-nc,Oc.apply(this,arguments)-ee));var re=Math.min(Math.abs(we)/td,Kc.apply(this,arguments)),te=re*(0>we?-1:1),rd;for(id=0;id<td;++id)0<(rd=Ud[Fd[id]=id]=+pc(ad[id],id,ad))&&(qd+=rd);null!=sc?Fd.sort(function(Me,qe){return sc(Ud[Me],Ud[qe])}):null!=mc&&Fd.sort(function(Me,qe){return mc(ad[Me],ad[qe])});id=0;for(we=qd?(we-td*te)/qd:0;id<td;++id,
ee=Jd){qd=Fd[id];rd=Ud[qd];var Jd=ee+(0<rd?rd*we:0)+te;Ud[qd]={data:ad[qd],index:id,value:rd,startAngle:ee,endAngle:Jd,padAngle:re}}return Ud}var pc=Ea,sc=za,mc=null,Bc=Y(0),Oc=Y(nc),Kc=Y(0);Bb.value=function(ad){return arguments.length?(pc="function"===typeof ad?ad:Y(+ad),Bb):pc};Bb.sortValues=function(ad){return arguments.length?(sc=ad,mc=null,Bb):sc};Bb.sort=function(ad){return arguments.length?(mc=ad,sc=null,Bb):mc};Bb.startAngle=function(ad){return arguments.length?(Bc="function"===typeof ad?
ad:Y(+ad),Bb):Bc};Bb.endAngle=function(ad){return arguments.length?(Oc="function"===typeof ad?ad:Y(+ad),Bb):Oc};Bb.padAngle=function(ad){return arguments.length?(Kc="function"===typeof ad?ad:Y(+ad),Bb):Kc};return Bb};n.pointRadial=wa;n.radialArea=da;n.radialLine=Ja;n.stack=function(){function Bb(Oc){var Kc=Array.from(pc.apply(this,arguments),Da),ad=Kc.length,id=-1;for(const qd of Oc){var td=0;for(++id;td<ad;++td)(Kc[td][id]=[0,+Bc(qd,Kc[td].key,id,Oc)]).data=qd}td=0;for(id=nb(sc(Kc));td<ad;++td)Kc[id[td]].index=
td;mc(Kc,id);return Kc}var pc=Y([]),sc=fa,mc=sa,Bc=Na;Bb.keys=function(Oc){return arguments.length?(pc="function"===typeof Oc?Oc:Y(Array.from(Oc)),Bb):pc};Bb.value=function(Oc){return arguments.length?(Bc="function"===typeof Oc?Oc:Y(+Oc),Bb):Bc};Bb.order=function(Oc){return arguments.length?(sc=null==Oc?fa:"function"===typeof Oc?Oc:Y(Array.from(Oc)),Bb):sc};Bb.offset=function(Oc){return arguments.length?(mc=null==Oc?sa:Oc,Bb):mc};return Bb};n.stackOffsetDiverging=function(Bb,pc){if(0<(id=Bb.length))for(var sc,
mc=0,Bc,Oc,Kc,ad,id,td=Bb[pc[0]].length;mc<td;++mc)for(sc=Kc=ad=0;sc<id;++sc)0<(Oc=(Bc=Bb[pc[sc]][mc])[1]-Bc[0])?(Bc[0]=Kc,Bc[1]=Kc+=Oc):0>Oc?(Bc[1]=ad,Bc[0]=ad+=Oc):(Bc[0]=0,Bc[1]=Oc)};n.stackOffsetExpand=function(Bb,pc){if(0<(mc=Bb.length)){for(var sc,mc,Bc=0,Oc=Bb[0].length,Kc;Bc<Oc;++Bc){for(Kc=sc=0;sc<mc;++sc)Kc+=Bb[sc][Bc][1]||0;if(Kc)for(sc=0;sc<mc;++sc)Bb[sc][Bc][1]/=Kc}sa(Bb,pc)}};n.stackOffsetNone=sa;n.stackOffsetSilhouette=function(Bb,pc){if(0<(Bc=Bb.length)){for(var sc=0,mc=Bb[pc[0]],
Bc,Oc=mc.length;sc<Oc;++sc){for(var Kc=0,ad=0;Kc<Bc;++Kc)ad+=Bb[Kc][sc][1]||0;mc[sc][1]+=mc[sc][0]=-ad/2}sa(Bb,pc)}};n.stackOffsetWiggle=function(Bb,pc){if(0<(Kc=Bb.length)&&0<(Oc=(Bc=Bb[pc[0]]).length)){for(var sc=0,mc=1,Bc,Oc,Kc;mc<Oc;++mc){for(var ad=0,id=0,td=0;ad<Kc;++ad){var qd=Bb[pc[ad]],Fd=qd[mc][1]||0;qd=(Fd-(qd[mc-1][1]||0))/2;for(var Ud=0;Ud<ad;++Ud){var ee=Bb[pc[Ud]];qd+=(ee[mc][1]||0)-(ee[mc-1][1]||0)}id+=Fd;td+=qd*Fd}Bc[mc-1][1]+=Bc[mc-1][0]=sc;id&&(sc-=td/id)}Bc[mc-1][1]+=Bc[mc-1][0]=
sc;sa(Bb,pc)}};n.stackOrderAppearance=W;n.stackOrderAscending=$a;n.stackOrderDescending=function(Bb){return $a(Bb).reverse()};n.stackOrderInsideOut=function(Bb){var pc=Bb.length,sc=Bb.map(sb),mc=W(Bb),Bc=0,Oc=0,Kc=[],ad=[];for(Bb=0;Bb<pc;++Bb){var id=mc[Bb];Bc<Oc?(Bc+=sc[id],Kc.push(id)):(Oc+=sc[id],ad.push(id))}return ad.reverse().concat(Kc)};n.stackOrderNone=fa;n.stackOrderReverse=function(Bb){return fa(Bb).reverse()};n.symbol=function(Bb,pc){function sc(){var Bc;mc||(mc=Bc=v.path());Bb.apply(this,
arguments).draw(mc,+pc.apply(this,arguments));if(Bc)return mc=null,Bc+""||null}var mc=null;Bb="function"===typeof Bb?Bb:Y(Bb||Mc);pc="function"===typeof pc?pc:Y(void 0===pc?64:+pc);sc.type=function(Bc){return arguments.length?(Bb="function"===typeof Bc?Bc:Y(Bc),sc):Bb};sc.size=function(Bc){return arguments.length?(pc="function"===typeof Bc?Bc:Y(+Bc),sc):pc};sc.context=function(Bc){return arguments.length?(mc=null==Bc?null:Bc,sc):mc};return sc};n.symbolCircle=Mc;n.symbolCross=Rc;n.symbolDiamond=ce;
n.symbolSquare=Ha;n.symbolStar=Zc;n.symbolTriangle=Sb;n.symbolWye=Wd;n.symbols=U;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[34]=function(Yb,Ob,Lc,fc){!function(n,v){"object"==typeof fc&&"undefined"!=typeof Lc?v(fc):"function"==typeof define&&define.amd?define(["exports"],v):v((n="undefined"!=typeof globalThis?globalThis:n||self).vega={})}(this,function(n){function v(Y,Qa){if("undefined"!=typeof document&&document.createElement){const Qb=document.createElement("canvas");if(Qb&&Qb.getContext)return Qb.width=Y,Qb.height=Qa,Qb}return null}n.canvas=v;n.domCanvas=v;n.image=()=>"undefined"!=typeof Image?Image:
null;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[35]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc):"function"===typeof define&&define.amd?define(["exports"],v):(n=n||self,v(n.d3=n.d3||{}))})(this,function(n){function v(p,A,B){p.prototype=A.prototype=B;B.constructor=p}function Y(p,A){p=Object.create(p.prototype);for(var B in A)p[B]=A[B];return p}function Qa(){}function Qb(){return this.rgb().formatHex()}function db(){return this.rgb().formatRgb()}function pb(p){var A,B;p=(p+"").trim().toLowerCase();
return(A=O.exec(p))?(B=A[1].length,A=parseInt(A[1],16),6===B?Ib(A):3===B?new mb(A>>8&15|A>>4&240,A>>4&15|A&240,(A&15)<<4|A&15,1):8===B?Ab(A>>24&255,A>>16&255,A>>8&255,(A&255)/255):4===B?Ab(A>>12&15|A>>8&240,A>>8&15|A>>4&240,A>>4&15|A&240,((A&15)<<4|A&15)/255):null):(A=K.exec(p))?new mb(A[1],A[2],A[3],1):(A=ka.exec(p))?new mb(255*A[1]/100,255*A[2]/100,255*A[3]/100,1):(A=ia.exec(p))?Ab(A[1],A[2],A[3],A[4]):(A=ma.exec(p))?Ab(255*A[1]/100,255*A[2]/100,255*A[3]/100,A[4]):(A=Ya.exec(p))?Sa(A[1],A[2]/100,
A[3]/100,1):(A=Za.exec(p))?Sa(A[1],A[2]/100,A[3]/100,A[4]):S.hasOwnProperty(p)?Ib(S[p]):"transparent"===p?new mb(NaN,NaN,NaN,0):null}function Ib(p){return new mb(p>>16&255,p>>8&255,p&255,1)}function Ab(p,A,B,E){0>=E&&(p=A=B=NaN);return new mb(p,A,B,E)}function Va(p){p instanceof Qa||(p=pb(p));if(!p)return new mb;p=p.rgb();return new mb(p.r,p.g,p.b,p.opacity)}function nb(p,A,B,E){return 1===arguments.length?Va(p):new mb(p,A,B,null==E?1:E)}function mb(p,A,B,E){this.r=+p;this.g=+A;this.b=+B;this.opacity=
+E}function Pa(){return"#"+Ca(this.r)+Ca(this.g)+Ca(this.b)}function Ba(){var p=this.opacity;p=isNaN(p)?1:Math.max(0,Math.min(1,p));return(1===p?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===p?")":", "+p+")")}function Ca(p){p=Math.max(0,Math.min(255,Math.round(p)||0));return(16>p?"0":"")+p.toString(16)}function Sa(p,A,B,E){0>=E?p=A=B=NaN:0>=B||1<=B?p=A=NaN:0>=A&&(p=NaN);
return new Ea(p,A,B,E)}function kb(p){if(p instanceof Ea)return new Ea(p.h,p.s,p.l,p.opacity);p instanceof Qa||(p=pb(p));if(!p)return new Ea;if(p instanceof Ea)return p;p=p.rgb();var A=p.r/255,B=p.g/255,E=p.b/255,z=Math.min(A,B,E),aa=Math.max(A,B,E),sa=NaN,fa=aa-z,Na=(aa+z)/2;fa?(sa=A===aa?(B-E)/fa+6*(B<E):B===aa?(E-A)/fa+2:(A-B)/fa+4,fa/=.5>Na?aa+z:2-aa-z,sa*=60):fa=0<Na&&1>Na?0:sa;return new Ea(sa,fa,Na,p.opacity)}function za(p,A,B,E){return 1===arguments.length?kb(p):new Ea(p,A,B,null==E?1:E)}
function Ea(p,A,B,E){this.h=+p;this.s=+A;this.l=+B;this.opacity=+E}function gb(p,A,B){return 255*(60>p?A+(B-A)*p/60:180>p?B:240>p?A+(B-A)*(240-p)/60:A)}function xa(p){if(p instanceof Ja)return new Ja(p.l,p.a,p.b,p.opacity);if(p instanceof jb)return Xa(p);p instanceof mb||(p=Va(p));var A=Ra(p.r),B=Ra(p.g),E=Ra(p.b),z=da(.2225045*A+.7168786*B+.0606169*E);if(A===B&&B===E)var aa=A=z;else aa=da((.4360747*A+.3850649*B+.1430804*E)/.96422),A=da((.0139322*A+.0971045*B+.7141733*E)/.82521);return new Ja(116*
z-16,500*(aa-z),200*(z-A),p.opacity)}function Ua(p,A,B,E){return 1===arguments.length?xa(p):new Ja(p,A,B,null==E?1:E)}function Ja(p,A,B,E){this.l=+p;this.a=+A;this.b=+B;this.opacity=+E}function da(p){return p>u?Math.pow(p,1/3):p/t+ha}function wa(p){return p>P?p*p*p:t*(p-ha)}function La(p){return 255*(.0031308>=p?12.92*p:1.055*Math.pow(p,1/2.4)-.055)}function Ra(p){return.04045>=(p/=255)?p/12.92:Math.pow((p+.055)/1.055,2.4)}function fb(p){if(p instanceof jb)return new jb(p.h,p.c,p.l,p.opacity);p instanceof
Ja||(p=xa(p));if(0===p.a&&0===p.b)return new jb(NaN,0<p.l&&100>p.l?0:NaN,p.l,p.opacity);var A=Math.atan2(p.b,p.a)*ta;return new jb(0>A?A+360:A,Math.sqrt(p.a*p.a+p.b*p.b),p.l,p.opacity)}function Wa(p,A,B,E){return 1===arguments.length?fb(p):new jb(p,A,B,null==E?1:E)}function jb(p,A,B,E){this.h=+p;this.c=+A;this.l=+B;this.opacity=+E}function Xa(p){if(isNaN(p.h))return new Ja(p.l,0,0,p.opacity);var A=p.h*qa;return new Ja(p.l,Math.cos(A)*p.c,Math.sin(A)*p.c,p.opacity)}function Q(p,A,B,E){if(1===arguments.length){var z=
p;if(z instanceof x)z=new x(z.h,z.s,z.l,z.opacity);else{z instanceof mb||(z=Va(z));var aa=z.g/255,sa=z.b/255,fa=(l*sa+z.r/255*-1.7884503806-3.5172982438*aa)/(l+-1.7884503806-3.5172982438);sa-=fa;var Na=(1.97294*(aa-fa)- -.29227*sa)/-.90649;sa=(aa=Math.sqrt(Na*Na+sa*sa)/(1.97294*fa*(1-fa)))?Math.atan2(Na,sa)*ta-120:NaN;z=new x(0>sa?sa+360:sa,aa,fa,z.opacity)}}else z=new x(p,A,B,null==E?1:E);return z}function x(p,A,B,E){this.h=+p;this.s=+A;this.l=+B;this.opacity=+E}var F=1/.7,O=/^#([0-9a-f]{3,8})$/,
K=/^rgb\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*\)$/,ka=/^rgb\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,ia=/^rgba\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,ma=/^rgba\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,Ya=/^hsl\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,
Za=/^hsla\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,S={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,
crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,
floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,
lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,
moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,
sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};v(Qa,pb,{copy:function(p){return Object.assign(new this.constructor,this,p)},displayable:function(){return this.rgb().displayable()},hex:Qb,formatHex:Qb,formatHsl:function(){return kb(this).formatHsl()},
formatRgb:db,toString:db});v(mb,nb,Y(Qa,{brighter:function(p){p=null==p?F:Math.pow(F,p);return new mb(this.r*p,this.g*p,this.b*p,this.opacity)},darker:function(p){p=null==p?.7:Math.pow(.7,p);return new mb(this.r*p,this.g*p,this.b*p,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:Pa,formatHex:Pa,formatRgb:Ba,toString:Ba}));v(Ea,za,Y(Qa,{brighter:function(p){p=
null==p?F:Math.pow(F,p);return new Ea(this.h,this.s,this.l*p,this.opacity)},darker:function(p){p=null==p?.7:Math.pow(.7,p);return new Ea(this.h,this.s,this.l*p,this.opacity)},rgb:function(){var p=this.h%360+360*(0>this.h),A=isNaN(p)||isNaN(this.s)?0:this.s,B=this.l;A=B+(.5>B?B:1-B)*A;B=2*B-A;return new mb(gb(240<=p?p-240:p+120,B,A),gb(p,B,A),gb(120>p?p+240:p-120,B,A),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},
formatHsl:function(){var p=this.opacity;p=isNaN(p)?1:Math.max(0,Math.min(1,p));return(1===p?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===p?")":", "+p+")")}}));const qa=Math.PI/180,ta=180/Math.PI,ha=4/29,P=6/29,t=3*P*P,u=P*P*P;v(Ja,Ua,Y(Qa,{brighter:function(p){return new Ja(this.l+18*(null==p?1:p),this.a,this.b,this.opacity)},darker:function(p){return new Ja(this.l-18*(null==p?1:p),this.a,this.b,this.opacity)},rgb:function(){var p=(this.l+16)/116,A=isNaN(this.a)?
p:p+this.a/500,B=isNaN(this.b)?p:p-this.b/200;A=.96422*wa(A);p=1*wa(p);B=.82521*wa(B);return new mb(La(3.1338561*A-1.6168667*p-.4906146*B),La(-.9787684*A+1.9161415*p+.033454*B),La(.0719453*A-.2289914*p+1.4052427*B),this.opacity)}}));v(jb,Wa,Y(Qa,{brighter:function(p){return new jb(this.h,this.c,this.l+18*(null==p?1:p),this.opacity)},darker:function(p){return new jb(this.h,this.c,this.l-18*(null==p?1:p),this.opacity)},rgb:function(){return Xa(this).rgb()}}));var l=1.78277*-.29227-.1347134789;v(x,Q,
Y(Qa,{brighter:function(p){p=null==p?F:Math.pow(F,p);return new x(this.h,this.s,this.l*p,this.opacity)},darker:function(p){p=null==p?.7:Math.pow(.7,p);return new x(this.h,this.s,this.l*p,this.opacity)},rgb:function(){var p=isNaN(this.h)?0:(this.h+120)*qa,A=+this.l,B=isNaN(this.s)?0:this.s*A*(1-A),E=Math.cos(p);p=Math.sin(p);return new mb(255*(A+B*(-.14861*E+1.78277*p)),255*(A+B*(-.29227*E+-.90649*p)),255*(A+1.97294*B*E),this.opacity)}}));n.color=pb;n.cubehelix=Q;n.gray=function(p,A){return new Ja(p,
0,0,null==A?1:A)};n.hcl=Wa;n.hsl=za;n.lab=Ua;n.lch=function(p,A,B,E){return 1===arguments.length?fb(p):new jb(B,A,p,null==E?1:E)};n.rgb=nb;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[36]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc,Ob(35)):"function"===typeof define&&define.amd?define(["exports","d3-color"],v):(n=n||self,v(n.d3=n.d3||{},n.d3))})(this,function(n,v){function Y(P,t,u,l,p){var A=P*P,B=A*P;return((1-3*P+3*A-B)*t+(4-6*A+3*B)*u+(1+3*P+3*A-3*B)*l+B*p)/6}function Qa(P){var t=P.length-1;return function(u){var l=0>=u?u=0:1<=u?(u=1,t-1):Math.floor(u*t),p=P[l],A=P[l+1];return Y((u-l/t)*t,0<l?P[l-1]:2*p-A,p,A,l<t-1?
P[l+2]:2*A-p)}}function Qb(P){var t=P.length;return function(u){var l=Math.floor((0>(u%=1)?++u:u)*t);return Y((u-l/t)*t,P[(l+t-1)%t],P[l%t],P[(l+1)%t],P[(l+2)%t])}}function db(P,t){return function(u){return P+u*t}}function pb(P,t,u){return P=Math.pow(P,u),t=Math.pow(t,u)-P,u=1/u,function(l){return Math.pow(P+l*t,u)}}function Ib(P,t){var u=t-P;return u?db(P,180<u||-180>u?u-360*Math.round(u/360):u):fb(isNaN(P)?t:P)}function Ab(P){return 1===(P=+P)?Va:function(t,u){return u-t?pb(t,u,P):fb(isNaN(t)?u:
t)}}function Va(P,t){var u=t-P;return u?db(P,u):fb(isNaN(P)?t:P)}function nb(P){return function(t){var u=t.length,l=Array(u),p=Array(u),A=Array(u),B;for(B=0;B<u;++B){var E=v.rgb(t[B]);l[B]=E.r||0;p[B]=E.g||0;A[B]=E.b||0}l=P(l);p=P(p);A=P(A);E.opacity=1;return function(z){E.r=l(z);E.g=p(z);E.b=A(z);return E+""}}}function mb(P,t){t||(t=[]);var u=P?Math.min(t.length,P.length):0,l=t.slice(),p;return function(A){for(p=0;p<u;++p)l[p]=P[p]*(1-A)+t[p]*A;return l}}function Pa(P){return ArrayBuffer.isView(P)&&
!(P instanceof DataView)}function Ba(P,t){var u=t?t.length:0,l=P?Math.min(u,P.length):0,p=Array(l),A=Array(u),B;for(B=0;B<l;++B)p[B]=xa(P[B],t[B]);for(;B<u;++B)A[B]=t[B];return function(E){for(B=0;B<l;++B)A[B]=p[B](E);return A}}function Ca(P,t){var u=new Date;return P=+P,t=+t,function(l){return u.setTime(P*(1-l)+t*l),u}}function Sa(P,t){return P=+P,t=+t,function(u){return P*(1-u)+t*u}}function kb(P,t){var u={},l={},p;if(null===P||"object"!==typeof P)P={};if(null===t||"object"!==typeof t)t={};for(p in t)p in
P?u[p]=xa(P[p],t[p]):l[p]=t[p];return function(A){for(p in u)l[p]=u[p](A);return l}}function za(P){return function(){return P}}function Ea(P){return function(t){return P(t)+""}}function gb(P,t){var u=Q.lastIndex=x.lastIndex=0,l,p,A,B=-1,E=[],z=[];P+="";for(t+="";(l=Q.exec(P))&&(p=x.exec(t));)(A=p.index)>u&&(A=t.slice(u,A),E[B]?E[B]+=A:E[++B]=A),(l=l[0])===(p=p[0])?E[B]?E[B]+=p:E[++B]=p:(E[++B]=null,z.push({i:B,x:Sa(l,p)})),u=x.lastIndex;u<t.length&&(A=t.slice(u),E[B]?E[B]+=A:E[++B]=A);return 2>E.length?
z[0]?Ea(z[0].x):za(t):(t=z.length,function(aa){for(var sa=0,fa;sa<t;++sa)E[(fa=z[sa]).i]=fa.x(aa);return E.join("")})}function xa(P,t){var u=typeof t,l;return null==t||"boolean"===u?fb(t):("number"===u?Sa:"string"===u?(l=v.color(t))?(t=l,Wa):gb:t instanceof v.color?Wa:t instanceof Date?Ca:Pa(t)?mb:Array.isArray(t)?Ba:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?kb:Sa)(P,t)}function Ua(P,t,u,l,p,A){var B,E,z;if(B=Math.sqrt(P*P+t*t))P/=B,t/=B;if(z=P*u+t*l)u-=P*z,l-=t*z;if(E=
Math.sqrt(u*u+l*l))u/=E,l/=E,z/=E;P*l<t*u&&(P=-P,t=-t,z=-z,B=-B);return{translateX:p,translateY:A,rotate:Math.atan2(t,P)*F,skewX:Math.atan(z)*F,scaleX:B,scaleY:E}}function Ja(P,t,u,l){function p(aa){return aa.length?aa.pop()+" ":""}function A(aa,sa,fa,Na,Da,W){aa!==fa||sa!==Na?(Da=Da.push("translate(",null,t,null,u),W.push({i:Da-4,x:Sa(aa,fa)},{i:Da-2,x:Sa(sa,Na)})):(fa||Na)&&Da.push("translate("+fa+t+Na+u)}function B(aa,sa,fa,Na){aa!==sa?(180<aa-sa?sa+=360:180<sa-aa&&(aa+=360),Na.push({i:fa.push(p(fa)+
"rotate(",null,l)-2,x:Sa(aa,sa)})):sa&&fa.push(p(fa)+"rotate("+sa+l)}function E(aa,sa,fa,Na){aa!==sa?Na.push({i:fa.push(p(fa)+"skewX(",null,l)-2,x:Sa(aa,sa)}):sa&&fa.push(p(fa)+"skewX("+sa+l)}function z(aa,sa,fa,Na,Da,W){aa!==fa||sa!==Na?(Da=Da.push(p(Da)+"scale(",null,",",null,")"),W.push({i:Da-4,x:Sa(aa,fa)},{i:Da-2,x:Sa(sa,Na)})):1===fa&&1===Na||Da.push(p(Da)+"scale("+fa+","+Na+")")}return function(aa,sa){var fa=[],Na=[];aa=P(aa);sa=P(sa);A(aa.translateX,aa.translateY,sa.translateX,sa.translateY,
fa,Na);B(aa.rotate,sa.rotate,fa,Na);E(aa.skewX,sa.skewX,fa,Na);z(aa.scaleX,aa.scaleY,sa.scaleX,sa.scaleY,fa,Na);aa=sa=null;return function(Da){for(var W=-1,na=Na.length,$a;++W<na;)fa[($a=Na[W]).i]=$a.x(Da);return fa.join("")}}}function da(P){return((P=Math.exp(P))+1/P)/2}function wa(P){return function(t,u){var l=P((t=v.hsl(t)).h,(u=v.hsl(u)).h),p=Va(t.s,u.s),A=Va(t.l,u.l),B=Va(t.opacity,u.opacity);return function(E){t.h=l(E);t.s=p(E);t.l=A(E);t.opacity=B(E);return t+""}}}function La(P){return function(t,
u){var l=P((t=v.hcl(t)).h,(u=v.hcl(u)).h),p=Va(t.c,u.c),A=Va(t.l,u.l),B=Va(t.opacity,u.opacity);return function(E){t.h=l(E);t.c=p(E);t.l=A(E);t.opacity=B(E);return t+""}}}function Ra(P){return function l(u){function p(A,B){var E=P((A=v.cubehelix(A)).h,(B=v.cubehelix(B)).h),z=Va(A.s,B.s),aa=Va(A.l,B.l),sa=Va(A.opacity,B.opacity);return function(fa){A.h=E(fa);A.s=z(fa);A.l=aa(Math.pow(fa,u));A.opacity=sa(fa);return A+""}}u=+u;p.gamma=l;return p}(1)}var fb=P=>()=>P,Wa=function u(t){function l(A,B){var E=
p((A=v.rgb(A)).r,(B=v.rgb(B)).r),z=p(A.g,B.g),aa=p(A.b,B.b),sa=Va(A.opacity,B.opacity);return function(fa){A.r=E(fa);A.g=z(fa);A.b=aa(fa);A.opacity=sa(fa);return A+""}}var p=Ab(t);l.gamma=u;return l}(1),jb=nb(Qa),Xa=nb(Qb),Q=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,x=new RegExp(Q.source,"g"),F=180/Math.PI,O={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},K,ka=Ja(function(t){t=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return t.isIdentity?O:Ua(t.a,t.b,t.c,
t.d,t.e,t.f)},"px, ","px)","deg)"),ia=Ja(function(t){if(null==t)return O;K||(K=document.createElementNS("http://www.w3.org/2000/svg","g"));K.setAttribute("transform",t);if(!(t=K.transform.baseVal.consolidate()))return O;t=t.matrix;return Ua(t.a,t.b,t.c,t.d,t.e,t.f)},", ",")",")"),ma=function A(u,l,p){function B(E,z){var aa=E[0],sa=E[1],fa=E[2];E=z[2];var Na=z[0]-aa,Da=z[1]-sa,W=Na*Na+Da*Da;if(1E-12>W){var na=Math.log(E/fa)/u;E=function(Db){return[aa+Db*Na,sa+Db*Da,fa*Math.exp(u*Db*na)]}}else{var $a=
Math.sqrt(W);z=(E*E-fa*fa+p*W)/(2*fa*l*$a);E=(E*E-fa*fa-p*W)/(2*E*l*$a);var sb=Math.log(Math.sqrt(z*z+1)-z);na=(Math.log(Math.sqrt(E*E+1)-E)-sb)/u;E=function(Db){Db*=na;var Xb=da(sb),vc=u*Db+sb;var Vc=((vc=Math.exp(2*vc))-1)/(vc+1);var tc=sb;vc=((tc=Math.exp(tc))-1/tc)/2;Vc=fa/(l*$a)*(Xb*Vc-vc);return[aa+Vc*Na,sa+Vc*Da,fa*Xb/da(u*Db+sb)]}}E.duration=1E3*na*u/Math.SQRT2;return E}B.rho=function(E){E=Math.max(.001,+E);var z=E*E;return A(E,z,z*z)};return B}(Math.SQRT2,2,4),Ya=wa(Ib),Za=wa(Va),S=La(Ib),
qa=La(Va),ta=Ra(Ib),ha=Ra(Va);n.interpolate=xa;n.interpolateArray=function(u,l){return(Pa(l)?mb:Ba)(u,l)};n.interpolateBasis=Qa;n.interpolateBasisClosed=Qb;n.interpolateCubehelix=ta;n.interpolateCubehelixLong=ha;n.interpolateDate=Ca;n.interpolateDiscrete=function(u){var l=u.length;return function(p){return u[Math.max(0,Math.min(l-1,Math.floor(p*l)))]}};n.interpolateHcl=S;n.interpolateHclLong=qa;n.interpolateHsl=Ya;n.interpolateHslLong=Za;n.interpolateHue=function(u,l){var p=Ib(+u,+l);return function(A){A=
p(A);return A-360*Math.floor(A/360)}};n.interpolateLab=function(u,l){var p=Va((u=v.lab(u)).l,(l=v.lab(l)).l),A=Va(u.a,l.a),B=Va(u.b,l.b),E=Va(u.opacity,l.opacity);return function(z){u.l=p(z);u.a=A(z);u.b=B(z);u.opacity=E(z);return u+""}};n.interpolateNumber=Sa;n.interpolateNumberArray=mb;n.interpolateObject=kb;n.interpolateRgb=Wa;n.interpolateRgbBasis=jb;n.interpolateRgbBasisClosed=Xa;n.interpolateRound=function(u,l){return u=+u,l=+l,function(p){return Math.round(u*(1-p)+l*p)}};n.interpolateString=
gb;n.interpolateTransformCss=ka;n.interpolateTransformSvg=ia;n.interpolateZoom=ma;n.piecewise=function(u,l){void 0===l&&(l=u,u=xa);for(var p=0,A=l.length-1,B=l[0],E=Array(0>A?0:A);p<A;)E[p]=u(B,B=l[++p]);return function(z){var aa=Math.max(0,Math.min(A-1,Math.floor(z*=A)));return E[aa](z-aa)}};n.quantize=function(u,l){for(var p=Array(l),A=0;A<l;++A)p[A]=u(A/(l-1));return p};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[37]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc,Ob(18),Ob(36),Ob(19),Ob(20),Ob(22)):"function"===typeof define&&define.amd?define("exports d3-array d3-interpolate d3-format d3-time d3-time-format".split(" "),v):(n=n||self,v(n.d3=n.d3||{},n.d3,n.d3,n.d3,n.d3,n.d3))})(this,function(n,v,Y,Qa,Qb,db){function pb(Ma,ec){switch(arguments.length){case 0:break;case 1:this.range(Ma);break;default:this.range(ec).domain(Ma)}return this}function Ib(Ma,
ec){switch(arguments.length){case 0:break;case 1:"function"===typeof Ma?this.interpolator(Ma):this.range(Ma);break;default:this.domain(Ma),"function"===typeof ec?this.interpolator(ec):this.range(ec)}return this}function Ab(){function Ma(jc){var Mc=jc+"",Rc=ec.get(Mc);if(!Rc){if(Ec!==Xb)return Ec;ec.set(Mc,Rc=cc.push(jc))}return nc[(Rc-1)%nc.length]}var ec=new Map,cc=[],nc=[],Ec=Xb;Ma.domain=function(jc){if(!arguments.length)return cc.slice();cc=[];ec=new Map;for(const Mc of jc){const Rc=Mc+"";ec.has(Rc)||
ec.set(Rc,cc.push(Mc))}return Ma};Ma.range=function(jc){return arguments.length?(nc=Array.from(jc),Ma):nc.slice()};Ma.unknown=function(jc){return arguments.length?(Ec=jc,Ma):Ec};Ma.copy=function(){return Ab(cc,nc).unknown(Ec)};pb.apply(Ma,arguments);return Ma}function Va(){function Ma(){var ed=cc().length,Pd=jc<Ec,Ha=Pd?jc:Ec,qb=Pd?Ec:jc;Mc=(qb-Ha)/Math.max(1,ed-ud+2*ce);Nc&&(Mc=Math.floor(Mc));Ha+=(qb-Ha-Mc*(ed-ud))*Zc;Rc=Mc*(1-ud);Nc&&(Ha=Math.round(Ha),Rc=Math.round(Rc));ed=v.range(ed).map(function(Sb){return Ha+
Mc*Sb});return nc(Pd?ed.reverse():ed)}var ec=Ab().unknown(void 0),cc=ec.domain,nc=ec.range,Ec=0,jc=1,Mc,Rc,Nc=!1,ud=0,ce=0,Zc=.5;delete ec.unknown;ec.domain=function(ed){return arguments.length?(cc(ed),Ma()):cc()};ec.range=function(ed){return arguments.length?([Ec,jc]=ed,Ec=+Ec,jc=+jc,Ma()):[Ec,jc]};ec.rangeRound=function(ed){return[Ec,jc]=ed,Ec=+Ec,jc=+jc,Nc=!0,Ma()};ec.bandwidth=function(){return Rc};ec.step=function(){return Mc};ec.round=function(ed){return arguments.length?(Nc=!!ed,Ma()):Nc};
ec.padding=function(ed){return arguments.length?(ud=Math.min(1,ce=+ed),Ma()):ud};ec.paddingInner=function(ed){return arguments.length?(ud=Math.min(1,ed),Ma()):ud};ec.paddingOuter=function(ed){return arguments.length?(ce=+ed,Ma()):ce};ec.align=function(ed){return arguments.length?(Zc=Math.max(0,Math.min(1,ed)),Ma()):Zc};ec.copy=function(){return Va(cc(),[Ec,jc]).round(Nc).paddingInner(ud).paddingOuter(ce).align(Zc)};return pb.apply(Ma(),arguments)}function nb(Ma){var ec=Ma.copy;Ma.padding=Ma.paddingOuter;
delete Ma.paddingInner;delete Ma.paddingOuter;Ma.copy=function(){return nb(ec())};return Ma}function mb(Ma){return function(){return Ma}}function Pa(Ma){return+Ma}function Ba(Ma){return Ma}function Ca(Ma,ec){return(ec-=Ma=+Ma)?function(cc){return(cc-Ma)/ec}:mb(isNaN(ec)?NaN:.5)}function Sa(Ma,ec){if(Ma>ec){var cc=Ma;Ma=ec;ec=cc}return function(nc){return Math.max(Ma,Math.min(ec,nc))}}function kb(Ma,ec,cc){var nc=Ma[0];Ma=Ma[1];var Ec=ec[0];ec=ec[1];Ma<nc?(nc=Ca(Ma,nc),Ec=cc(ec,Ec)):(nc=Ca(nc,Ma),
Ec=cc(Ec,ec));return function(jc){return Ec(nc(jc))}}function za(Ma,ec,cc){var nc=Math.min(Ma.length,ec.length)-1,Ec=Array(nc),jc=Array(nc),Mc=-1;Ma[nc]<Ma[0]&&(Ma=Ma.slice().reverse(),ec=ec.slice().reverse());for(;++Mc<nc;)Ec[Mc]=Ca(Ma[Mc],Ma[Mc+1]),jc[Mc]=cc(ec[Mc],ec[Mc+1]);return function(Rc){var Nc=v.bisect(Ma,Rc,1,nc)-1;return jc[Nc](Ec[Nc](Rc))}}function Ea(Ma,ec){return ec.domain(Ma.domain()).range(Ma.range()).interpolate(Ma.interpolate()).clamp(Ma.clamp()).unknown(Ma.unknown())}function gb(){function Ma(){var ed=
Math.min(cc.length,nc.length);Nc!==Ba&&(Nc=Sa(cc[0],cc[ed-1]));ud=2<ed?za:kb;ce=Zc=null;return ec}function ec(ed){return isNaN(ed=+ed)?Rc:(ce||(ce=ud(cc.map(jc),nc,Ec)))(jc(Nc(ed)))}var cc=vc,nc=vc,Ec=Y.interpolate,jc,Mc,Rc,Nc=Ba,ud,ce,Zc;ec.invert=function(ed){return Nc(Mc((Zc||(Zc=ud(nc,cc.map(jc),Y.interpolateNumber)))(ed)))};ec.domain=function(ed){return arguments.length?(cc=Array.from(ed,Pa),Ma()):cc.slice()};ec.range=function(ed){return arguments.length?(nc=Array.from(ed),Ma()):nc.slice()};
ec.rangeRound=function(ed){return nc=Array.from(ed),Ec=Y.interpolateRound,Ma()};ec.clamp=function(ed){return arguments.length?(Nc=ed?!0:Ba,Ma()):Nc!==Ba};ec.interpolate=function(ed){return arguments.length?(Ec=ed,Ma()):Ec};ec.unknown=function(ed){return arguments.length?(Rc=ed,ec):Rc};return function(ed,Pd){jc=ed;Mc=Pd;return Ma()}}function xa(Ma,ec,cc,nc){cc=v.tickStep(Ma,ec,cc);var Ec;nc=Qa.formatSpecifier(null==nc?",f":nc);switch(nc.type){case "s":return Ma=Math.max(Math.abs(Ma),Math.abs(ec)),
null!=nc.precision||isNaN(Ec=Qa.precisionPrefix(cc,Ma))||(nc.precision=Ec),Qa.formatPrefix(nc,Ma);case "":case "e":case "g":case "p":case "r":null!=nc.precision||isNaN(Ec=Qa.precisionRound(cc,Math.max(Math.abs(Ma),Math.abs(ec))))||(nc.precision=Ec-("e"===nc.type));break;case "f":case "%":null!=nc.precision||isNaN(Ec=Qa.precisionFixed(cc))||(nc.precision=Ec-2*("%"===nc.type))}return Qa.format(nc)}function Ua(Ma){var ec=Ma.domain;Ma.ticks=function(cc){var nc=ec();return v.ticks(nc[0],nc[nc.length-1],
null==cc?10:cc)};Ma.tickFormat=function(cc,nc){var Ec=ec();return xa(Ec[0],Ec[Ec.length-1],null==cc?10:cc,nc)};Ma.nice=function(cc){null==cc&&(cc=10);var nc=ec(),Ec=0,jc=nc.length-1,Mc=nc[Ec],Rc=nc[jc],Nc=10;if(Rc<Mc){var ud=Mc;Mc=Rc;Rc=ud;ud=Ec;Ec=jc;jc=ud}for(;0<Nc--;){ud=v.tickIncrement(Mc,Rc,cc);if(ud===ce)return nc[Ec]=Mc,nc[jc]=Rc,ec(nc);if(0<ud)Mc=Math.floor(Mc/ud)*ud,Rc=Math.ceil(Rc/ud)*ud;else if(0>ud)Mc=Math.ceil(Mc*ud)/ud,Rc=Math.floor(Rc*ud)/ud;else break;var ce=ud}return Ma};return Ma}
function Ja(){var Ma=gb()(Ba,Ba);Ma.copy=function(){return Ea(Ma,Ja())};pb.apply(Ma,arguments);return Ua(Ma)}function da(Ma){function ec(nc){return isNaN(nc=+nc)?cc:nc}var cc;ec.invert=ec;ec.domain=ec.range=function(nc){return arguments.length?(Ma=Array.from(nc,Pa),ec):Ma.slice()};ec.unknown=function(nc){return arguments.length?(cc=nc,ec):cc};ec.copy=function(){return da(Ma).unknown(cc)};Ma=arguments.length?Array.from(Ma,Pa):[0,1];return Ua(ec)}function wa(Ma,ec){Ma=Ma.slice();var cc=0,nc=Ma.length-
1,Ec=Ma[cc],jc=Ma[nc];if(jc<Ec){var Mc=cc;cc=nc;nc=Mc;Mc=Ec;Ec=jc;jc=Mc}Ma[cc]=ec.floor(Ec);Ma[nc]=ec.ceil(jc);return Ma}function La(Ma){return Math.log(Ma)}function Ra(Ma){return Math.exp(Ma)}function fb(Ma){return-Math.log(-Ma)}function Wa(Ma){return-Math.exp(-Ma)}function jb(Ma){return isFinite(Ma)?+("1e"+Ma):0>Ma?0:Ma}function Xa(Ma){return 10===Ma?jb:Ma===Math.E?Math.exp:function(ec){return Math.pow(Ma,ec)}}function Q(Ma){return Ma===Math.E?Math.log:10===Ma&&Math.log10||2===Ma&&Math.log2||(Ma=
Math.log(Ma),function(ec){return Math.log(ec)/Ma})}function x(Ma){return function(ec){return-Ma(-ec)}}function F(Ma){function ec(){jc=Q(Ec);Mc=Xa(Ec);0>nc()[0]?(jc=x(jc),Mc=x(Mc),Ma(fb,Wa)):Ma(La,Ra);return cc}var cc=Ma(La,Ra),nc=cc.domain,Ec=10,jc,Mc;cc.base=function(Rc){return arguments.length?(Ec=+Rc,ec()):Ec};cc.domain=function(Rc){return arguments.length?(nc(Rc),ec()):nc()};cc.ticks=function(Rc){var Nc=nc(),ud=Nc[0];Nc=Nc[Nc.length-1];var ce;if(ce=Nc<ud)Zc=ud,ud=Nc,Nc=Zc;var Zc=jc(ud),ed=jc(Nc),
Pd=null==Rc?10:+Rc,Ha=[];if(!(Ec%1)&&ed-Zc<Pd){Zc=Math.floor(Zc);ed=Math.ceil(ed);if(0<ud)for(;Zc<=ed;++Zc){var qb=1;for(Rc=Mc(Zc);qb<Ec;++qb){var Sb=Rc*qb;if(!(Sb<ud)){if(Sb>Nc)break;Ha.push(Sb)}}}else for(;Zc<=ed;++Zc)for(qb=Ec-1,Rc=Mc(Zc);1<=qb;--qb)if(Sb=Rc*qb,!(Sb<ud)){if(Sb>Nc)break;Ha.push(Sb)}2*Ha.length<Pd&&(Ha=v.ticks(ud,Nc,Pd))}else Ha=v.ticks(Zc,ed,Math.min(ed-Zc,Pd)).map(Mc);return ce?Ha.reverse():Ha};cc.tickFormat=function(Rc,Nc){null==Nc&&(Nc=10===Ec?".0e":",");"function"!==typeof Nc&&
(Nc=Qa.format(Nc));if(Infinity===Rc)return Nc;null==Rc&&(Rc=10);var ud=Math.max(1,Ec*Rc/cc.ticks().length);return function(ce){var Zc=ce/Mc(Math.round(jc(ce)));Zc*Ec<Ec-.5&&(Zc*=Ec);return Zc<=ud?Nc(ce):""}};cc.nice=function(){return nc(wa(nc(),{floor:function(Rc){return Mc(Math.floor(jc(Rc)))},ceil:function(Rc){return Mc(Math.ceil(jc(Rc)))}}))};return cc}function O(){var Ma=F(gb()).domain([1,10]);Ma.copy=function(){return Ea(Ma,O()).base(Ma.base())};pb.apply(Ma,arguments);return Ma}function K(Ma){return function(ec){return Math.sign(ec)*
Math.log1p(Math.abs(ec/Ma))}}function ka(Ma){return function(ec){return Math.sign(ec)*Math.expm1(Math.abs(ec))*Ma}}function ia(Ma){var ec=1,cc=Ma(K(ec),ka(ec));cc.constant=function(nc){return arguments.length?Ma(K(ec=+nc),ka(ec)):ec};return Ua(cc)}function ma(){var Ma=ia(gb());Ma.copy=function(){return Ea(Ma,ma()).constant(Ma.constant())};return pb.apply(Ma,arguments)}function Ya(Ma){return function(ec){return 0>ec?-Math.pow(-ec,Ma):Math.pow(ec,Ma)}}function Za(Ma){return 0>Ma?-Math.sqrt(-Ma):Math.sqrt(Ma)}
function S(Ma){return 0>Ma?-Ma*Ma:Ma*Ma}function qa(Ma){var ec=Ma(Ba,Ba),cc=1;ec.exponent=function(nc){return arguments.length?(cc=+nc,1===cc?Ma(Ba,Ba):.5===cc?Ma(Za,S):Ma(Ya(cc),Ya(1/cc))):cc};return Ua(ec)}function ta(){var Ma=qa(gb());Ma.copy=function(){return Ea(Ma,ta()).exponent(Ma.exponent())};pb.apply(Ma,arguments);return Ma}function ha(Ma){return Math.sign(Ma)*Ma*Ma}function P(){function Ma(jc){jc=ec(jc);jc=Math.sign(jc)*Math.sqrt(Math.abs(jc));return isNaN(jc)?Ec:nc?Math.round(jc):jc}var ec=
gb()(Ba,Ba),cc=[0,1],nc=!1,Ec;Ma.invert=function(jc){return ec.invert(ha(jc))};Ma.domain=function(jc){return arguments.length?(ec.domain(jc),Ma):ec.domain()};Ma.range=function(jc){return arguments.length?(ec.range((cc=Array.from(jc,Pa)).map(ha)),Ma):cc.slice()};Ma.rangeRound=function(jc){return Ma.range(jc).round(!0)};Ma.round=function(jc){return arguments.length?(nc=!!jc,Ma):nc};Ma.clamp=function(jc){return arguments.length?(ec.clamp(jc),Ma):ec.clamp()};Ma.unknown=function(jc){return arguments.length?
(Ec=jc,Ma):Ec};Ma.copy=function(){return P(ec.domain(),cc).round(nc).clamp(ec.clamp()).unknown(Ec)};pb.apply(Ma,arguments);return Ua(Ma)}function t(){function Ma(){var Mc=0,Rc=Math.max(1,nc.length);for(Ec=Array(Rc-1);++Mc<Rc;)Ec[Mc-1]=v.quantileSorted(cc,Mc/Rc);return ec}function ec(Mc){return isNaN(Mc=+Mc)?jc:nc[v.bisect(Ec,Mc)]}var cc=[],nc=[],Ec=[],jc;ec.invertExtent=function(Mc){Mc=nc.indexOf(Mc);return 0>Mc?[NaN,NaN]:[0<Mc?Ec[Mc-1]:cc[0],Mc<Ec.length?Ec[Mc]:cc[cc.length-1]]};ec.domain=function(Mc){if(!arguments.length)return cc.slice();
cc=[];for(let Rc of Mc)null==Rc||isNaN(Rc=+Rc)||cc.push(Rc);cc.sort(v.ascending);return Ma()};ec.range=function(Mc){return arguments.length?(nc=Array.from(Mc),Ma()):nc.slice()};ec.unknown=function(Mc){return arguments.length?(jc=Mc,ec):jc};ec.quantiles=function(){return Ec.slice()};ec.copy=function(){return t().domain(cc).range(nc).unknown(jc)};return pb.apply(ec,arguments)}function u(){function Ma(Nc){return Nc<=Nc?Mc[v.bisect(jc,Nc,0,Ec)]:Rc}function ec(){var Nc=-1;for(jc=Array(Ec);++Nc<Ec;)jc[Nc]=
((Nc+1)*nc-(Nc-Ec)*cc)/(Ec+1);return Ma}var cc=0,nc=1,Ec=1,jc=[.5],Mc=[0,1],Rc;Ma.domain=function(Nc){return arguments.length?([cc,nc]=Nc,cc=+cc,nc=+nc,ec()):[cc,nc]};Ma.range=function(Nc){return arguments.length?(Ec=(Mc=Array.from(Nc)).length-1,ec()):Mc.slice()};Ma.invertExtent=function(Nc){Nc=Mc.indexOf(Nc);return 0>Nc?[NaN,NaN]:1>Nc?[cc,jc[0]]:Nc>=Ec?[jc[Ec-1],nc]:[jc[Nc-1],jc[Nc]]};Ma.unknown=function(Nc){return arguments.length?(Rc=Nc,Ma):Ma};Ma.thresholds=function(){return jc.slice()};Ma.copy=
function(){return u().domain([cc,nc]).range(Mc).unknown(Rc)};return pb.apply(Ua(Ma),arguments)}function l(){function Ma(jc){return jc<=jc?cc[v.bisect(ec,jc,0,Ec)]:nc}var ec=[.5],cc=[0,1],nc,Ec=1;Ma.domain=function(jc){return arguments.length?(ec=Array.from(jc),Ec=Math.min(ec.length,cc.length-1),Ma):ec.slice()};Ma.range=function(jc){return arguments.length?(cc=Array.from(jc),Ec=Math.min(ec.length,cc.length-1),Ma):cc.slice()};Ma.invertExtent=function(jc){jc=cc.indexOf(jc);return[ec[jc-1],ec[jc]]};Ma.unknown=
function(jc){return arguments.length?(nc=jc,Ma):nc};Ma.copy=function(){return l().domain(ec).range(cc).unknown(nc)};return pb.apply(Ma,arguments)}function p(Ma){return new Date(Ma)}function A(Ma){return Ma instanceof Date?+Ma:+new Date(+Ma)}function B(Ma,ec,cc,nc,Ec,jc,Mc,Rc,Nc){function ud(ab){return(Mc(ab)<ab?Ha:jc(ab)<ab?qb:Ec(ab)<ab?Sb:nc(ab)<ab?dd:ec(ab)<ab?cc(ab)<ab?nd:Nd:Ma(ab)<ab?Wd:U)(ab)}function ce(ab,xb,Rb){null==ab&&(ab=10);if("number"===typeof ab){var zb=Math.abs(Rb-xb)/ab,kc=v.bisector(function(bc){return bc[2]}).right(va,
zb);kc===va.length?(xb=v.tickStep(xb/Hc,Rb/Hc,ab),ab=Ma):kc?(kc=va[zb/va[kc-1][2]<va[kc][2]/zb?kc-1:kc],xb=kc[1],ab=kc[0]):(xb=Math.max(v.tickStep(xb,Rb,ab),1),ab=Rc);return ab.every(xb)}return ab}var Zc=gb()(Ba,Ba),ed=Zc.invert,Pd=Zc.domain,Ha=Nc(".%L"),qb=Nc(":%S"),Sb=Nc("%I:%M"),dd=Nc("%I %p"),nd=Nc("%a %d"),Nd=Nc("%b %d"),Wd=Nc("%B"),U=Nc("%Y"),va=[[Mc,1,1E3],[Mc,5,5E3],[Mc,15,15E3],[Mc,30,3E4],[jc,1,6E4],[jc,5,3E5],[jc,15,9E5],[jc,30,18E5],[Ec,1,36E5],[Ec,3,108E5],[Ec,6,216E5],[Ec,12,432E5],
[nc,1,864E5],[nc,2,1728E5],[cc,1,Vc],[ec,1,tc],[ec,3,3*tc],[Ma,1,Hc]];Zc.invert=function(ab){return new Date(ed(ab))};Zc.domain=function(ab){return arguments.length?Pd(Array.from(ab,A)):Pd().map(p)};Zc.ticks=function(ab){var xb=Pd(),Rb=xb[0];xb=xb[xb.length-1];var zb=xb<Rb;if(zb){var kc=Rb;Rb=xb;xb=kc}kc=(kc=ce(ab,Rb,xb))?kc.range(Rb,xb+1):[];return zb?kc.reverse():kc};Zc.tickFormat=function(ab,xb){return null==xb?ud:Nc(xb)};Zc.nice=function(ab){var xb=Pd();return(ab=ce(ab,xb[0],xb[xb.length-1]))?
Pd(wa(xb,ab)):Zc};Zc.copy=function(){return Ea(Zc,B(Ma,ec,cc,nc,Ec,jc,Mc,Rc,Nc))};return Zc}function E(){function Ma(Zc){return isNaN(Zc=+Zc)?ce:Nc(0===Mc?.5:(Zc=(Rc(Zc)-Ec)*Mc,ud?Math.max(0,Math.min(1,Zc)):Zc))}function ec(Zc){return function(ed){var Pd,Ha;return arguments.length?([Pd,Ha]=ed,Nc=Zc(Pd,Ha),Ma):[Nc(0),Nc(1)]}}var cc=0,nc=1,Ec,jc,Mc,Rc,Nc=Ba,ud=!1,ce;Ma.domain=function(Zc){return arguments.length?([cc,nc]=Zc,Ec=Rc(cc=+cc),jc=Rc(nc=+nc),Mc=Ec===jc?0:1/(jc-Ec),Ma):[cc,nc]};Ma.clamp=function(Zc){return arguments.length?
(ud=!!Zc,Ma):ud};Ma.interpolator=function(Zc){return arguments.length?(Nc=Zc,Ma):Nc};Ma.range=ec(Y.interpolate);Ma.rangeRound=ec(Y.interpolateRound);Ma.unknown=function(Zc){return arguments.length?(ce=Zc,Ma):ce};return function(Zc){Rc=Zc;Ec=Zc(cc);jc=Zc(nc);Mc=Ec===jc?0:1/(jc-Ec);return Ma}}function z(Ma,ec){return ec.domain(Ma.domain()).interpolator(Ma.interpolator()).clamp(Ma.clamp()).unknown(Ma.unknown())}function aa(){var Ma=Ua(E()(Ba));Ma.copy=function(){return z(Ma,aa())};return Ib.apply(Ma,
arguments)}function sa(){var Ma=F(E()).domain([1,10]);Ma.copy=function(){return z(Ma,sa()).base(Ma.base())};return Ib.apply(Ma,arguments)}function fa(){var Ma=ia(E());Ma.copy=function(){return z(Ma,fa()).constant(Ma.constant())};return Ib.apply(Ma,arguments)}function Na(){var Ma=qa(E());Ma.copy=function(){return z(Ma,Na()).exponent(Ma.exponent())};return Ib.apply(Ma,arguments)}function Da(){function Ma(nc){if(!isNaN(nc=+nc))return cc((v.bisect(ec,nc,1)-1)/(ec.length-1))}var ec=[],cc=Ba;Ma.domain=
function(nc){if(!arguments.length)return ec.slice();ec=[];for(let Ec of nc)null==Ec||isNaN(Ec=+Ec)||ec.push(Ec);ec.sort(v.ascending);return Ma};Ma.interpolator=function(nc){return arguments.length?(cc=nc,Ma):cc};Ma.range=function(){return ec.map((nc,Ec)=>cc(Ec/(ec.length-1)))};Ma.quantiles=function(nc){return Array.from({length:nc+1},(Ec,jc)=>v.quantile(ec,jc/nc))};Ma.copy=function(){return Da(cc).domain(ec)};return Ib.apply(Ma,arguments)}function W(){function Ma(qb){return isNaN(qb=+qb)?Ha:(qb=.5+
((qb=+ed(qb))-Rc)*(jc*qb<jc*Rc?ud:ce),Zc(Pd?Math.max(0,Math.min(1,qb)):qb))}function ec(qb){return function(Sb){var dd,nd,Nd;return arguments.length?([dd,nd,Nd]=Sb,Zc=Y.piecewise(qb,[dd,nd,Nd]),Ma):[Zc(0),Zc(.5),Zc(1)]}}var cc=0,nc=.5,Ec=1,jc=1,Mc,Rc,Nc,ud,ce,Zc=Ba,ed,Pd=!1,Ha;Ma.domain=function(qb){return arguments.length?([cc,nc,Ec]=qb,Mc=ed(cc=+cc),Rc=ed(nc=+nc),Nc=ed(Ec=+Ec),ud=Mc===Rc?0:.5/(Rc-Mc),ce=Rc===Nc?0:.5/(Nc-Rc),jc=Rc<Mc?-1:1,Ma):[cc,nc,Ec]};Ma.clamp=function(qb){return arguments.length?
(Pd=!!qb,Ma):Pd};Ma.interpolator=function(qb){return arguments.length?(Zc=qb,Ma):Zc};Ma.range=ec(Y.interpolate);Ma.rangeRound=ec(Y.interpolateRound);Ma.unknown=function(qb){return arguments.length?(Ha=qb,Ma):Ha};return function(qb){ed=qb;Mc=qb(cc);Rc=qb(nc);Nc=qb(Ec);ud=Mc===Rc?0:.5/(Rc-Mc);ce=Rc===Nc?0:.5/(Nc-Rc);jc=Rc<Mc?-1:1;return Ma}}function na(){var Ma=Ua(W()(Ba));Ma.copy=function(){return z(Ma,na())};return Ib.apply(Ma,arguments)}function $a(){var Ma=F(W()).domain([.1,1,10]);Ma.copy=function(){return z(Ma,
$a()).base(Ma.base())};return Ib.apply(Ma,arguments)}function sb(){var Ma=ia(W());Ma.copy=function(){return z(Ma,sb()).constant(Ma.constant())};return Ib.apply(Ma,arguments)}function Db(){var Ma=qa(W());Ma.copy=function(){return z(Ma,Db()).exponent(Ma.exponent())};return Ib.apply(Ma,arguments)}const Xb=Symbol("implicit");var vc=[0,1],Vc=6048E5,tc=2592E6,Hc=31536E6;n.scaleBand=Va;n.scaleDiverging=na;n.scaleDivergingLog=$a;n.scaleDivergingPow=Db;n.scaleDivergingSqrt=function(){return Db.apply(null,
arguments).exponent(.5)};n.scaleDivergingSymlog=sb;n.scaleIdentity=da;n.scaleImplicit=Xb;n.scaleLinear=Ja;n.scaleLog=O;n.scaleOrdinal=Ab;n.scalePoint=function(){return nb(Va.apply(null,arguments).paddingInner(1))};n.scalePow=ta;n.scaleQuantile=t;n.scaleQuantize=u;n.scaleRadial=P;n.scaleSequential=aa;n.scaleSequentialLog=sa;n.scaleSequentialPow=Na;n.scaleSequentialQuantile=Da;n.scaleSequentialSqrt=function(){return Na.apply(null,arguments).exponent(.5)};n.scaleSequentialSymlog=fa;n.scaleSqrt=function(){return ta.apply(null,
arguments).exponent(.5)};n.scaleSymlog=ma;n.scaleThreshold=l;n.scaleTime=function(){return pb.apply(B(Qb.timeYear,Qb.timeMonth,Qb.timeWeek,Qb.timeDay,Qb.timeHour,Qb.timeMinute,Qb.timeSecond,Qb.timeMillisecond,db.timeFormat).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)};n.scaleUtc=function(){return pb.apply(B(Qb.utcYear,Qb.utcMonth,Qb.utcWeek,Qb.utcDay,Qb.utcHour,Qb.utcMinute,Qb.utcSecond,Qb.utcMillisecond,db.utcFormat).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)};n.tickFormat=
xa;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[38]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc,Ob(17),Ob(18),Ob(37),Ob(36),Ob(21)):"function"===typeof define&&define.amd?define("exports vega-util d3-array d3-scale d3-interpolate vega-time".split(" "),v):(n="undefined"!==typeof globalThis?globalThis:n||self,v(n.vega={},n.vega,n.d3,n.d3,n.d3,n.vega))})(this,function(n,v,Y,Qa,Qb,db){function pb(t,u,l){u=t-u+2*l;return t?0<u?u:1:0}function Ib(t){return function(u){let l=u[0];u=u[1];let p;
u<l&&(p=l,l=u,u=p);return[t.invert(l),t.invert(u)]}}function Ab(t){return function(u){const l=t.range();let p=u[0];u=u[1];let A=-1,B;let E;if(u<p){var z=p;p=u;u=z}z=0;for(E=l.length;z<E;++z)l[z]>=p&&l[z]<=u&&(0>A&&(A=z),B=z);if(!(0>A))return p=t.invertExtent(l[A]),u=t.invertExtent(l[B]),[void 0===p[0]?p[1]:p[0],void 0===u[1]?u[0]:u[1]]}}function Va(){function t(){var Na=l().length;const Da=A[1]<A[0],W=A[1-Da],na=pb(Na,aa,sa);let $a=A[Da-0];B=(W-$a)/(na||1);z&&(B=Math.floor(B));$a+=(W-$a-B*(Na-aa))*
fa;E=B*(1-aa);z&&($a=Math.round($a),E=Math.round(E));Na=Y.range(Na).map(sb=>$a+B*sb);return p(Da?Na.reverse():Na)}const u=Qa.scaleOrdinal().unknown(void 0),l=u.domain,p=u.range;let A=[0,1],B,E,z=!1,aa=0,sa=0,fa=.5;delete u.unknown;u.domain=function(Na){return arguments.length?(l(Na),t()):l()};u.range=function(Na){return arguments.length?(A=[+Na[0],+Na[1]],t()):A.slice()};u.rangeRound=function(Na){A=[+Na[0],+Na[1]];z=!0;return t()};u.bandwidth=function(){return E};u.step=function(){return B};u.round=
function(Na){return arguments.length?(z=!!Na,t()):z};u.padding=function(Na){return arguments.length?(aa=sa=Math.max(0,Math.min(1,Na)),t()):aa};u.paddingInner=function(Na){return arguments.length?(aa=Math.max(0,Math.min(1,Na)),t()):aa};u.paddingOuter=function(Na){return arguments.length?(sa=Math.max(0,Math.min(1,Na)),t()):sa};u.align=function(Na){return arguments.length?(fa=Math.max(0,Math.min(1,Na)),t()):fa};u.invertRange=function(Na){if(null!=Na[0]&&null!=Na[1]){var Da=A[1]<A[0],W=Da?p().reverse():
p(),na=W.length-1,$a=+Na[0],sb=+Na[1];if($a===$a&&sb===sb){if(sb<$a){var Db=$a;$a=sb;sb=Db}if(!(sb<W[0]||$a>A[1-Da]))return Na=Math.max(0,Y.bisectRight(W,$a)-1),sb=$a===sb?Na:Y.bisectRight(W,sb)-1,$a-W[Na]>E+1E-10&&++Na,Da&&(Db=Na,Na=na-sb,sb=na-Db),Na>sb?void 0:l().slice(Na,sb+1)}}};u.invert=function(Na){return(Na=u.invertRange([Na,Na]))?Na[0]:Na};u.copy=function(){return Va().domain(l()).range(A).round(z).paddingInner(aa).paddingOuter(sa).align(fa)};return t()}function nb(t){const u=t.copy;t.padding=
t.paddingOuter;delete t.paddingInner;t.copy=function(){return nb(u())};return t}function mb(){function t(p){return null==p||p!==p?void 0:l[(Y.bisect(u,p)-1)%l.length]}let u=[],l=[];t.domain=function(p){return arguments.length?(u=F.call(p,v.toNumber),t):u.slice()};t.range=function(p){return arguments.length?(l=O.call(p),t):l.slice()};t.tickFormat=function(p,A){return Qa.tickFormat(u[0],v.peek(u),null==p?10:p,A)};t.copy=function(){return mb().domain(t.domain()).range(t.range())};return t}function Pa(t,
u,l){const p=function(){const A=u();A.invertRange||(A.invertRange=A.invert?Ib(A):A.invertExtent?Ab(A):void 0);A.type=t;return A};p.metadata=v.toSet(v.array(l));return p}function Ba(t,u,l){return 1<arguments.length?(K[t]=Pa(t,u,l),this):Ca(t)?K[t]:void 0}function Ca(t){return v.hasOwnProperty(K,t)}function Sa(t,u){return(t=K[t])&&t.metadata[u]}function kb(t){return Sa(t,"discrete")}function za(t){return Sa(t,"discretizing")}function Ea(t){return Sa(t,"log")}function gb(t){return Sa(t,"temporal")}function xa(t,
u,l){return Qb.piecewise(Ua(u||"rgb",l),t)}function Ua(t,u){t=x[Ja(t)];return null!=u&&t&&t.gamma?t.gamma(u):t}function Ja(t){return"interpolate"+t.toLowerCase().split("-").map(u=>u[0].toUpperCase()+u.slice(1)).join("")}function da(t){const u=t.length/6|0,l=Array(u);for(let p=0;p<u;)l[p]="#"+t.slice(6*p,6*++p);return l}function wa(t,u){for(const l in t)La(l,u(t[l]))}function La(t,u){t=t&&t.toLowerCase();return 1<arguments.length?(ia[t]=u,this):ia[t]}function Ra(t,u,l){var p=t.range();let A=p[0],B=
v.peek(p);p=Ya;A>B&&(p=B,B=A,A=p,p=Za);A=Math.floor(A);B=Math.ceil(B);u=u.map(E=>[E,t(E)]).filter(E=>A<=E[1]&&E[1]<=B).sort(p).map(E=>E[0]);if(0<l&&1<u.length){for(p=[u[0],v.peek(u)];u.length>l&&3<=u.length;)u=u.filter((E,z)=>!(z%2));3>u.length&&(u=p)}return u}function fb(t,u){return t.bins?Ra(t,t.bins):t.ticks?t.ticks(u):t.domain()}function Wa(t,u,l,p,A,B){const E=u.type;let z=ma;if("time"===E||"time"===A)z=t.timeFormat(p);else if("utc"===E||"utc"===A)z=t.utcFormat(p);else if(Ea(E)){const aa=t.formatFloat(p);
if(B||u.bins)z=aa;else{const sa=jb(u,l,!1);z=fa=>sa(fa)?aa(fa):""}}else u.tickFormat?(u=u.domain(),z=t.formatSpan(u[0],u[u.length-1],l,p)):p&&(z=t.format(p));return z}function jb(t,u,l){const p=fb(t,u),A=t.base(),B=Math.log(A),E=Math.max(1,A*u/p.length);t=z=>{z/=Math.pow(A,Math.round(Math.log(z)/B));z*A<A-.5&&(z*=A);return z<=E};return l?p.filter(t):t}function Xa(t,u){t.bins?(t=t.bins,u=t.slice(0,-1),u.max=v.peek(t),t=u):"log"===t.type?t=jb(t,u,!0):S[t.type]?(t=t[S[t.type]](),t=[-Infinity].concat(t),
t.max=Infinity):t=fb(t,u);return t}function Q(t,u,l,p,A,B,E){if(qa[u.type]&&"time"!==B&&"utc"!==B){{l=u[qa[u.type]]();B=l.length;E=1<B?l[1]-l[0]:l[0];let z;for(z=1;z<B;++z)E=Math.min(E,l[z]-l[z-1]);t=t.formatSpan(0,E,30,A)}}else t=Wa(t,u,l,A,B,E);return"symbol"===p&&(S[u.type]||u.bins)?ta(t):"discrete"===p?ha(t):P(t)}var x=function(t){if(t&&t.__esModule)return t;var u=Object.create(null);t&&Object.keys(t).forEach(function(l){if("default"!==l){var p=Object.getOwnPropertyDescriptor(t,l);Object.defineProperty(u,
l,p.get?p:{enumerable:!0,get:function(){return t[l]}})}});u["default"]=t;return Object.freeze(u)}(Qb),F=Array.prototype.map;const O=Array.prototype.slice,K={};Ba("identity",Qa.scaleIdentity);Ba("linear",Qa.scaleLinear,"continuous");Ba("log",Qa.scaleLog,["continuous","log"]);Ba("pow",Qa.scalePow,"continuous");Ba("sqrt",Qa.scaleSqrt,"continuous");Ba("symlog",Qa.scaleSymlog,"continuous");Ba("time",Qa.scaleTime,["continuous","temporal"]);Ba("utc",Qa.scaleUtc,["continuous","temporal"]);Ba("sequential",
Qa.scaleSequential,["continuous","interpolating"]);Ba("sequential-linear",Qa.scaleSequential,["continuous","interpolating"]);Ba("sequential-log",Qa.scaleSequentialLog,["continuous","interpolating","log"]);Ba("sequential-pow",Qa.scaleSequentialPow,["continuous","interpolating"]);Ba("sequential-sqrt",Qa.scaleSequentialSqrt,["continuous","interpolating"]);Ba("sequential-symlog",Qa.scaleSequentialSymlog,["continuous","interpolating"]);Ba("diverging-linear",Qa.scaleDiverging,["continuous","interpolating"]);
Ba("diverging-log",Qa.scaleDivergingLog,["continuous","interpolating","log"]);Ba("diverging-pow",Qa.scaleDivergingPow,["continuous","interpolating"]);Ba("diverging-sqrt",Qa.scaleDivergingSqrt,["continuous","interpolating"]);Ba("diverging-symlog",Qa.scaleDivergingSymlog,["continuous","interpolating"]);Ba("quantile",Qa.scaleQuantile,["discretizing","quantile"]);Ba("quantize",Qa.scaleQuantize,"discretizing");Ba("threshold",Qa.scaleThreshold,"discretizing");Ba("bin-ordinal",mb,["discrete","discretizing"]);
Ba("ordinal",Qa.scaleOrdinal,"discrete");Ba("band",Va,"discrete");Ba("point",function(){return nb(Va().paddingInner(1))},"discrete");const ka=["clamp","base","constant","exponent"],ia={};wa({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",
category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",
pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},da);wa({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",
oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",
purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",
blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",
redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",
magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",
cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",
sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},t=>xa(da(t)));const ma=t=>v.isArray(t)?t.map(u=>String(u)):String(t),Ya=(t,u)=>t[1]-u[1],Za=(t,u)=>u[1]-t[1],S={["quantile"]:"quantiles",["quantize"]:"thresholds",["threshold"]:"domain"},qa={["quantile"]:"quantiles",["quantize"]:"domain"},ta=t=>(u,l,p)=>{l=p[l+1];p=p.max;p=null!=p?p:Infinity;l=null!=l?l:p;
u=Number.isFinite(u)?t(u):null;l=Number.isFinite(l)?t(l):null;return u&&l?u+"  "+l:l?"\x3c "+l:" "+u},ha=t=>(u,l)=>l?t(u):null,P=t=>u=>t(u);Object.defineProperty(n,"scaleImplicit",{enumerable:!0,get:function(){return Qa.scaleImplicit}});n.Band="band";n.BinOrdinal="bin-ordinal";n.DiscreteLegend="discrete";n.Diverging="diverging";n.GradientLegend="gradient";n.Identity="identity";n.Linear="linear";n.Log="log";n.Ordinal="ordinal";n.Point="point";n.Pow="pow";n.Quantile="quantile";n.Quantize="quantize";
n.Sequential="sequential";n.Sqrt="sqrt";n.SymbolLegend="symbol";n.Symlog="symlog";n.Threshold="threshold";n.Time="time";n.UTC="utc";n.bandSpace=pb;n.domainCaption=function(t,u,l){l=l||{};var p=Math.max(3,l.maxlen||7);{var A=l.format;const B=(l=l.formatType)||u.type;v.isString(A)&&gb(B)&&(A=A.replace(/%a/g,"%A").replace(/%b/g,"%B"));t=A||"time"!==B?A||"utc"!==B?Q(t,u,5,null,A,l,!0):t.utcFormat("%A, %d %B %Y, %X UTC"):t.timeFormat("%A, %d %B %Y, %X")}if(za(u.type))return p=Xa(u).slice(1).map(t),u=p.length,
`${u} boundar${1===u?"y":"ies"}: ${p.join(", ")}`;if(kb(u.type))return A=u.domain(),u=A.length,p=u>p?A.slice(0,p-2).map(t).join(", ")+", ending with "+A.slice(-1).map(t):A.map(t).join(", "),`${u} value${1===u?"":"s"}: ${p}`;p=u.domain();return`values from ${t(p[0])} to ${t(v.peek(p))}`};n.interpolate=Ua;n.interpolateColors=xa;n.interpolateRange=function(t,u){const l=u[0],p=v.peek(u)-l;return function(A){return t(l+A*p)}};n.isContinuous=function(t){return Sa(t,"continuous")};n.isDiscrete=kb;n.isDiscretizing=
za;n.isInterpolating=function(t){return Sa(t,"interpolating")};n.isLogarithmic=Ea;n.isQuantile=function(t){return Sa(t,"quantile")};n.isTemporal=gb;n.isValidScaleType=Ca;n.labelFormat=Q;n.labelFraction=function(t){var u=t.domain();const l=u.length-1;let p=+u[0];u=+v.peek(u);let A=u-p;"threshold"===t.type&&(t=l?A/l:.1,p-=t,u+=t,A=u-p);return B=>(B-p)/A};n.labelValues=Xa;n.quantizeInterpolator=function(t,u){const l=Array(u),p=u+1;for(let A=0;A<u;)l[A]=t(++A/p);return l};n.scale=Ba;n.scaleCopy=function(t){const u=
t.type;t=t.copy();t.type=u;return t};n.scaleFraction=function(t,u,l){var p=l-u;let A,B;return p&&Number.isFinite(p)?(p=(A=t.type).indexOf("-"),A=0>p?A:A.slice(p+1),B=Ba(A)().domain([u,l]).range([0,1]),ka.forEach(E=>t[E]?B[E](t[E]()):0),B):v.constant(.5)};n.scheme=La;n.tickCount=function(t,u,l){let p;v.isNumber(u)&&(t.bins&&(u=Math.max(u,t.bins.length)),null!=l&&(u=Math.min(u,Math.floor(v.span(t.domain())/l||1))));v.isObject(u)&&(p=u.step,u=u.interval);v.isString(u)&&(u="time"===t.type?db.timeInterval(u):
"utc"==t.type?db.utcInterval(u):v.error("Only time and utc scales accept interval strings."),p&&(u=u.every(p)));return u};n.tickFormat=Wa;n.tickValues=fb;n.validTicks=Ra;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[39]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc,Ob(17),Ob(33),Ob(32),Ob(34),Ob(28),Ob(38)):"function"===typeof define&&define.amd?define("exports vega-util d3-shape d3-path vega-canvas vega-loader vega-scale".split(" "),v):(n="undefined"!==typeof globalThis?globalThis:n||self,v(n.vega={},n.vega,n.d3,n.d3,n.vega,n.vega,n.vega))})(this,function(n,v,Y,Qa,Qb,db,pb){function Ib(r,C,X){const ea=r.gradient;let eb=r.id,Cb="radial"===ea?"p_":"";eb||
(eb=r.id="gradient_"+Ld++,"radial"===ea?(r.x1=Ab(r.x1,.5),r.y1=Ab(r.y1,.5),r.r1=Ab(r.r1,0),r.x2=Ab(r.x2,.5),r.y2=Ab(r.y2,.5),r.r2=Ab(r.r2,.5),Cb="p_"):(r.x1=Ab(r.x1,0),r.y1=Ab(r.y1,0),r.x2=Ab(r.x2,1),r.y2=Ab(r.y2,0)));C[eb]=r;return"url("+(X||"")+"#"+Cb+eb+")"}function Ab(r,C){return null!=r?r:C}function Va(r,C,X){r=v.hasOwnProperty(ff,r)&&ff[r];var ea=null;r&&(ea=r.curve||r[C||"vertical"],r.tension&&null!=X&&(ea=ea[r.tension](X)));return ea}function nb(r){const C=[];let X,ea,eb,Cb;var Jb;const $b=
r.slice().replace(wd[0],"###$1").split(wd[1]).slice(1);r=0;for(Cb=$b.length;r<Cb;++r){var rc=$b[r];var Ic=rc.slice(1).trim().replace(wd[2],"$1###$2").replace(wd[3],"$1###$2").split(wd[4]);ea=rc.charAt(0);rc=[ea];eb=0;for(Jb=Ic.length;eb<Jb;++eb)(X=+Ic[eb])===X&&rc.push(X);Ic=ne[ea.toLowerCase()];if(rc.length-1>Ic)for(Jb=rc.length,eb=1,C.push([ea].concat(rc.slice(eb,eb+=Ic))),ea="M"===ea?"L":"m"===ea?"l":ea;eb<Jb;eb+=Ic)C.push([ea].concat(rc.slice(eb,eb+Ic)));else C.push(rc)}return C}function mb(r,
C,X,ea,eb,Cb,Jb,$b,rc){const Ic=oe.call(arguments);if(Vd[Ic])return Vd[Ic];var Fc=Jb*Ae;const hd=Math.sin(Fc);Fc=Math.cos(Fc);X=Math.abs(X);ea=Math.abs(ea);var yd=Fc*($b-r)*.5+hd*(rc-C)*.5,Qc=Fc*(rc-C)*.5-hd*($b-r)*.5;yd=yd*yd/(X*X)+Qc*Qc/(ea*ea);1<yd&&(yd=Math.sqrt(yd),X*=yd,ea*=yd);var Dd=Fc/X,Qd=hd/X,xe=-hd/ea,ja=Fc/ea;yd=Dd*$b+Qd*rc;Qc=xe*$b+ja*rc;Dd=Dd*r+Qd*C;Qd=xe*r+ja*C;xe=1/((Dd-yd)*(Dd-yd)+(Qd-Qc)*(Qd-Qc))-.25;0>xe&&(xe=0);ja=Math.sqrt(xe);Cb==eb&&(ja=-ja);xe=.5*(yd+Dd)-ja*(Qd-Qc);ja=.5*
(Qc+Qd)+ja*(Dd-yd);yd=Math.atan2(Qc-ja,yd-xe);Qc=Math.atan2(Qd-ja,Dd-xe)-yd;0>Qc&&1===Cb?Qc+=wc:0<Qc&&0===Cb&&(Qc-=wc);Dd=Math.ceil(Math.abs(Qc/(cf+.001)));Qd=[];for(let Ka=0;Ka<Dd;++Ka)Qd[Ka]=[xe,ja,yd+Ka*Qc/Dd,yd+(Ka+1)*Qc/Dd,X,ea,hd,Fc];return Vd[Ic]=Qd}function Pa(r,C,X,ea,eb,Cb){var Jb=null,$b=0,rc=0,Ic=0,Fc=0;null==X&&(X=0);null==ea&&(ea=0);null==eb&&(eb=1);null==Cb&&(Cb=eb);r.beginPath&&r.beginPath();for(var hd=0,yd=C.length;hd<yd;++hd){var Qc=C[hd];if(1!==eb||1!==Cb){var Dd=eb;var Qd=Cb;var xe=
Yd[0]=Qc[0];if("a"===xe||"A"===xe)Yd[1]=Dd*Qc[1],Yd[2]=Qd*Qc[2],Yd[3]=Qc[3],Yd[4]=Qc[4],Yd[5]=Qc[5],Yd[6]=Dd*Qc[6],Yd[7]=Qd*Qc[7];else if("h"===xe||"H"===xe)Yd[1]=Dd*Qc[1];else if("v"===xe||"V"===xe)Yd[1]=Qd*Qc[1];else{xe=1;for(var ja=Qc.length;xe<ja;++xe)Yd[xe]=(1==xe%2?Dd:Qd)*Qc[xe]}Qc=Yd}switch(Qc[0]){case "l":$b+=Qc[1];rc+=Qc[2];r.lineTo($b+X,rc+ea);break;case "L":$b=Qc[1];rc=Qc[2];r.lineTo($b+X,rc+ea);break;case "h":$b+=Qc[1];r.lineTo($b+X,rc+ea);break;case "H":$b=Qc[1];r.lineTo($b+X,rc+ea);
break;case "v":rc+=Qc[1];r.lineTo($b+X,rc+ea);break;case "V":rc=Qc[1];r.lineTo($b+X,rc+ea);break;case "m":$b+=Qc[1];rc+=Qc[2];r.moveTo($b+X,rc+ea);break;case "M":$b=Qc[1];rc=Qc[2];r.moveTo($b+X,rc+ea);break;case "c":Dd=$b+Qc[5];Qd=rc+Qc[6];Ic=$b+Qc[3];Fc=rc+Qc[4];r.bezierCurveTo($b+Qc[1]+X,rc+Qc[2]+ea,Ic+X,Fc+ea,Dd+X,Qd+ea);$b=Dd;rc=Qd;break;case "C":$b=Qc[5];rc=Qc[6];Ic=Qc[3];Fc=Qc[4];r.bezierCurveTo(Qc[1]+X,Qc[2]+ea,Ic+X,Fc+ea,$b+X,rc+ea);break;case "s":Dd=$b+Qc[3];Qd=rc+Qc[4];Ic=2*$b-Ic;Fc=2*rc-
Fc;r.bezierCurveTo(Ic+X,Fc+ea,$b+Qc[1]+X,rc+Qc[2]+ea,Dd+X,Qd+ea);Ic=$b+Qc[1];Fc=rc+Qc[2];$b=Dd;rc=Qd;break;case "S":Dd=Qc[3];Qd=Qc[4];Ic=2*$b-Ic;Fc=2*rc-Fc;r.bezierCurveTo(Ic+X,Fc+ea,Qc[1]+X,Qc[2]+ea,Dd+X,Qd+ea);$b=Dd;rc=Qd;Ic=Qc[1];Fc=Qc[2];break;case "q":Dd=$b+Qc[3];Qd=rc+Qc[4];Ic=$b+Qc[1];Fc=rc+Qc[2];r.quadraticCurveTo(Ic+X,Fc+ea,Dd+X,Qd+ea);$b=Dd;rc=Qd;break;case "Q":Dd=Qc[3];Qd=Qc[4];r.quadraticCurveTo(Qc[1]+X,Qc[2]+ea,Dd+X,Qd+ea);$b=Dd;rc=Qd;Ic=Qc[1];Fc=Qc[2];break;case "t":Dd=$b+Qc[1];Qd=rc+
Qc[2];null===Jb[0].match(/[QqTt]/)?(Ic=$b,Fc=rc):"t"===Jb[0]?(Ic=2*$b-Ka,Fc=2*rc-ib):"q"===Jb[0]&&(Ic=2*$b-Ic,Fc=2*rc-Fc);var Ka=Ic;var ib=Fc;r.quadraticCurveTo(Ic+X,Fc+ea,Dd+X,Qd+ea);$b=Dd;rc=Qd;Ic=$b+Qc[1];Fc=rc+Qc[2];break;case "T":Dd=Qc[1];Qd=Qc[2];Ic=2*$b-Ic;Fc=2*rc-Fc;r.quadraticCurveTo(Ic+X,Fc+ea,Dd+X,Qd+ea);$b=Dd;rc=Qd;break;case "a":Ba(r,$b+X,rc+ea,[Qc[1],Qc[2],Qc[3],Qc[4],Qc[5],Qc[6]+$b+X,Qc[7]+rc+ea]);$b+=Qc[6];rc+=Qc[7];break;case "A":Ba(r,$b+X,rc+ea,[Qc[1],Qc[2],Qc[3],Qc[4],Qc[5],Qc[6]+
X,Qc[7]+ea]);$b=Qc[6];rc=Qc[7];break;case "z":case "Z":r.closePath()}Jb=Qc}}function Ba(r,C,X,ea){C=mb(ea[5],ea[6],ea[0],ea[1],ea[3],ea[4],ea[2],C,X);for(X=0;X<C.length;++X){a:{var eb=C[X];ea=oe.call(eb);if(Ub[ea]){ea=Ub[ea];break a}var Cb=eb[0],Jb=eb[1],$b=eb[2],rc=eb[3],Ic=eb[4],Fc=eb[5],hd=eb[6],yd=eb[7];eb=yd*Ic;const Dd=-hd*Fc;Ic*=hd;Fc*=yd;var Qc=Math.cos($b);const Qd=Math.sin($b);hd=Math.cos(rc);yd=Math.sin(rc);$b=.5*(rc-$b);rc=Math.sin(.5*$b);rc=8/3*rc*rc/Math.sin($b);$b=Cb+Qc-rc*Qd;Qc=Jb+
Qd+rc*Qc;Cb+=hd;Jb+=yd;yd=Cb+rc*yd;hd=Jb-rc*hd;ea=Ub[ea]=[eb*$b+Dd*Qc,Ic*$b+Fc*Qc,eb*yd+Dd*hd,Ic*yd+Fc*hd,eb*Cb+Dd*Jb,Ic*Cb+Fc*Jb]}r.bezierCurveTo(ea[0],ea[1],ea[2],ea[3],ea[4],ea[5])}}function Ca(r){return v.hasOwnProperty(se,r)?se[r]:Sa(r)}function Sa(r){if(!v.hasOwnProperty(df,r)){const C=nb(r);df[r]={draw:function(X,ea){Pa(X,C,0,0,Math.sqrt(ea)/2)}}}return df[r]}function kb(r){return r.x}function za(r){return r.y}function Ea(r){return r.width}function gb(r){return r.height}function xa(r){return"function"===
typeof r?r:()=>+r}function Ua(r,C,X){return Math.max(C,Math.min(r,X))}function Ja(){function r(Fc,hd,yd){var Qc;hd=null!=hd?hd:+C.call(this,Fc);yd=null!=yd?yd:+X.call(this,Fc);var Dd=+ea.call(this,Fc),Qd=+eb.call(this,Fc),xe=Math.min(Dd,Qd)/2,ja=Ua(+Cb.call(this,Fc),0,xe),Ka=Ua(+Jb.call(this,Fc),0,xe),ib=Ua(+$b.call(this,Fc),0,xe);Fc=Ua(+rc.call(this,Fc),0,xe);Ic||(Ic=Qc=Qa.path());0>=ja&&0>=Ka&&0>=ib&&0>=Fc?Ic.rect(hd,yd,Dd,Qd):(Dd=hd+Dd,Qd=yd+Qd,Ic.moveTo(hd+ja,yd),Ic.lineTo(Dd-Ka,yd),Ic.bezierCurveTo(Dd-
.448084975506*Ka,yd,Dd,yd+.448084975506*Ka,Dd,yd+Ka),Ic.lineTo(Dd,Qd-Fc),Ic.bezierCurveTo(Dd,Qd-.448084975506*Fc,Dd-.448084975506*Fc,Qd,Dd-Fc,Qd),Ic.lineTo(hd+ib,Qd),Ic.bezierCurveTo(hd+.448084975506*ib,Qd,hd,Qd-.448084975506*ib,hd,Qd-ib),Ic.lineTo(hd,yd+ja),Ic.bezierCurveTo(hd,yd+.448084975506*ja,hd+.448084975506*ja,yd,hd+ja,yd),Ic.closePath());if(Qc)return Ic=null,Qc+""||null}var C=kb,X=za,ea=Ea,eb=gb,Cb=xa(0),Jb=Cb,$b=Cb,rc=Cb,Ic=null;r.x=function(Fc){return arguments.length?(C=xa(Fc),r):C};r.y=
function(Fc){return arguments.length?(X=xa(Fc),r):X};r.width=function(Fc){return arguments.length?(ea=xa(Fc),r):ea};r.height=function(Fc){return arguments.length?(eb=xa(Fc),r):eb};r.cornerRadius=function(Fc,hd,yd,Qc){return arguments.length?(Cb=xa(Fc),Jb=null!=hd?xa(hd):Cb,rc=null!=yd?xa(yd):Cb,$b=null!=Qc?xa(Qc):Jb,r):Cb};r.context=function(Fc){return arguments.length?(Ic=null==Fc?null:Fc,r):Ic};return r}function da(){function r(Fc){var hd,yd=Fc.length,Qc,Dd=!1,Qd;null==Cb&&(Cb=Qd=Qa.path());for(hd=
0;hd<=yd;++hd)if(!(hd<yd&&eb(Qc=Fc[hd],hd,Fc))===Dd&&(Dd=!Dd)&&(Jb=0),Dd){{var xe=+C(Qc,hd,Fc),ja=+X(Qc,hd,Fc);const k=+ea(Qc,hd,Fc)/2;if(Jb){var Ka=rc-ja,ib=xe-$b;if(Ka||ib){var vb=Math.sqrt(Ka*Ka+ib*ib),Lb=(Ka/=vb)*Ic;vb=(ib/=vb)*Ic;var c=Math.atan2(ib,Ka);Cb.moveTo($b-Lb,rc-vb);Cb.lineTo(xe-Ka*k,ja-ib*k);Cb.arc(xe,ja,k,c-Math.PI,c);Cb.lineTo($b+Lb,rc+vb);Cb.arc($b,rc,Ic,c,c+Math.PI)}else Cb.arc(xe,ja,k,0,wc);Cb.closePath()}else Jb=1;$b=xe;rc=ja;Ic=k}}if(Qd)return Cb=null,Qd+""||null}var C,X,ea,
eb,Cb=null,Jb,$b,rc,Ic;r.x=function(Fc){return arguments.length?(C=Fc,r):C};r.y=function(Fc){return arguments.length?(X=Fc,r):X};r.size=function(Fc){return arguments.length?(ea=Fc,r):ea};r.defined=function(Fc){return arguments.length?(eb=Fc,r):eb};r.context=function(Fc){return arguments.length?(Cb=null==Fc?null:Fc,r):Cb};return r}function wa(r,C){return null!=r?r:C}function La(r){return r.cornerRadius||r.cornerRadiusTopLeft||r.cornerRadiusTopRight||r.cornerRadiusBottomRight||r.cornerRadiusBottomLeft}
function Ra(r,C,X,ea){return Oa.context(r)(C,X,ea)}function fb(r,C,X){var ea=C.clip;r=r._defs;C=C.clip_id||(C.clip_id="clip"+xc++);r=r.clipping[C]||(r.clipping[C]={id:C});v.isFunction(ea)?r.path=ea(null):La(X)?r.path=Ra(null,X,0,0):(r.width=X.width||0,r.height=X.height||0);return"url(#"+C+")"}function Wa(r){this.clear();r&&this.union(r)}function jb(r){this.mark=r;this.bounds=this.bounds||new Wa}function Xa(r){jb.call(this,r);this.items=this.items||[]}function Q(r){this._pending=0;this._loader=r||
db.loader()}function x(r,C,X){if(C.stroke&&0!==C.opacity&&0!==C.strokeOpacity){const ea=null!=C.strokeWidth?+C.strokeWidth:1;r.expand(ea+(X?C.strokeJoin&&"miter"!==C.strokeJoin?0:ea:0))}return r}function F(r,C){yc=r;C?(he=C*Ae,od=ye=Math.cos(he),jd=Math.sin(he),Zd=-jd):(od=ye=1,he=jd=Zd=0);return ue}function O(r,C,X,ea){X=(r-C)/(r+X-2*C);0<X&&1>X&&ea(r+(C-r)*X)}function K(r,C,X,ea,eb){const Cb=ea-r+3*C-3*X,Jb=r+X-2*C;var $b=r-C;let rc=0,Ic=0;1E-14<Math.abs(Cb)?($b=Jb*Jb+$b*Cb,0<=$b&&($b=Math.sqrt($b),
rc=(-Jb+$b)/Cb,Ic=(-Jb-$b)/Cb)):rc=.5*$b/Jb;0<rc&&1>rc&&eb(ka(rc,r,C,X,ea));0<Ic&&1>Ic&&eb(ka(Ic,r,C,X,ea))}function ka(r,C,X,ea,eb){const Cb=1-r,Jb=Cb*Cb,$b=r*r;return Jb*Cb*C+3*Jb*r*X+3*Cb*$b*ea+$b*r*eb}function ia(r){return function(C,X){if(!De)return!0;r(De,C);vf.clear().union(C.bounds).intersect(X).round();const {x1:ea,y1:eb,x2:Cb,y2:Jb}=vf;for(C=eb;C<=Jb;++C)for(X=ea;X<=Cb;++X)if(De.isPointInPath(X,C))return!0;return!1}}function ma(r,C){return C.contains(r.x||0,r.y||0)}function Ya(r,C){const X=
r.x||0,ea=r.y||0;return C.intersects(vf.set(X,ea,X+(r.width||0),ea+(r.height||0)))}function Za(r,C){const X=r.x||0,ea=r.y||0;return S(C,X,ea,null!=r.x2?r.x2:X,null!=r.y2?r.y2:ea)}function S(r,C,X,ea,eb){const {x1:Cb,y1:Jb,x2:$b,y2:rc}=r;r=ea-C;eb-=X;ea=0;let Ic=1,Fc,hd,yd,Qc;for(Qc=0;4>Qc;++Qc){0===Qc&&(Fc=-r,hd=-(Cb-C));1===Qc&&(Fc=r,hd=$b-C);2===Qc&&(Fc=-eb,hd=-(Jb-X));3===Qc&&(Fc=eb,hd=rc-X);if(1E-10>Math.abs(Fc)&&0>hd)return!1;yd=hd/Fc;if(0>Fc){if(yd>Ic)return!1;yd>ea&&(ea=yd)}else if(0<Fc){if(yd<
ea)return!1;yd<Ic&&(Ic=yd)}}return!0}function qa(r,C){r.globalCompositeOperation=C.blend||"source-over"}function ta(r,C){return null==r?C:r}function ha(r,C){const X=C.length;for(let ea=0;ea<X;++ea)r.addColorStop(C[ea].offset,C[ea].color);return r}function P(r,C,X){const ea=X.width(),eb=X.height();if("radial"===C.gradient)r=r.createRadialGradient(X.x1+ta(C.x1,.5)*ea,X.y1+ta(C.y1,.5)*eb,Math.max(ea,eb)*ta(C.r1,0),X.x1+ta(C.x2,.5)*ea,X.y1+ta(C.y2,.5)*eb,Math.max(ea,eb)*ta(C.r2,.5));else{const Cb=ta(C.x1,
0),Jb=ta(C.y1,0),$b=ta(C.x2,1),rc=ta(C.y2,0);if(Cb===$b||Jb===rc||ea===eb)r=r.createLinearGradient(X.x1+Cb*ea,X.y1+Jb*eb,X.x1+$b*ea,X.y1+rc*eb);else{X=Qb.canvas(Math.ceil(ea),Math.ceil(eb));const Ic=X.getContext("2d");Ic.scale(ea,eb);Ic.fillStyle=ha(Ic.createLinearGradient(Cb,Jb,$b,rc),C.stops);Ic.fillRect(0,0,ea,eb);return r.createPattern(X,"no-repeat")}}return ha(r,C.stops)}function t(r,C,X){X*=null==C.fillOpacity?1:C.fillOpacity;return 0<X?(r.globalAlpha=X,C=(X=C.fill)&&X.gradient?P(r,X,C.bounds):
X,r.fillStyle=C,!0):!1}function u(r,C,X){var ea=null!=(ea=C.strokeWidth)?ea:1;if(0>=ea)return!1;X*=null==C.strokeOpacity?1:C.strokeOpacity;return 0<X?(r.globalAlpha=X,X=(X=C.stroke)&&X.gradient?P(r,X,C.bounds):X,r.strokeStyle=X,r.lineWidth=ea,r.lineCap=C.strokeCap||"butt",r.lineJoin=C.strokeJoin||"miter",r.miterLimit=C.strokeMiterLimit||10,r.setLineDash&&(r.setLineDash(C.strokeDash||nf),r.lineDashOffset=C.strokeDashOffset||0),!0):!1}function l(r,C){return r.zindex-C.zindex||r.index-C.index}function p(r){if(!r.zdirty)return r.zitems;
var C=r.items,X=[],ea;var eb=0;for(ea=C.length;eb<ea;++eb){var Cb=C[eb];Cb.index=eb;Cb.zindex&&X.push(Cb)}r.zdirty=!1;return r.zitems=X.sort(l)}function A(r,C){var X=r.items,ea;if(X&&X.length){var eb=p(r);if(eb&&eb.length){r=0;for(ea=X.length;r<ea;++r)X[r].zindex||C(X[r]);X=eb}r=0;for(ea=X.length;r<ea;++r)C(X[r])}}function B(r,C){var X=r.items,ea,eb;if(!X||!X.length)return null;const Cb=p(r);Cb&&Cb.length&&(X=Cb);for(eb=X.length;0<=--eb;)if(ea=C(X[eb]))return ea;if(X===Cb)for(X=r.items,eb=X.length;0<=
--eb;)if(!X[eb].zindex&&(ea=C(X[eb])))return ea;return null}function E(r){return function(C,X,ea){A(X,eb=>{ea&&!ea.intersects(eb.bounds)||aa(r,C,eb,eb)})}}function z(r){return function(C,X,ea){!X.items.length||ea&&!ea.intersects(X.bounds)||aa(r,C,X.items[0],X.items)}}function aa(r,C,X,ea){var eb=null==X.opacity?1:X.opacity;0===eb||r(C,ea)||(qa(C,X),X.fill&&t(C,X,eb)&&C.fill(),X.stroke&&u(C,X,eb)&&C.stroke())}function sa(r){r=r||v.truthy;return function(C,X,ea,eb,Cb,Jb){ea*=C.pixelRatio;eb*=C.pixelRatio;
return B(X,$b=>{const rc=$b.bounds;if((!rc||rc.contains(Cb,Jb))&&rc&&r(C,$b,ea,eb,Cb,Jb))return $b})}}function fa(r,C){return function(X,ea,eb,Cb){var Jb=Array.isArray(ea)?ea[0]:ea,$b=null==C?Jb.fill:C,rc=Jb.stroke&&X.isPointInStroke;if(rc){var Ic=Jb.strokeWidth;Jb=Jb.strokeCap;X.lineWidth=null!=Ic?Ic:1;X.lineCap=null!=Jb?Jb:"butt"}return r(X,ea)?!1:$b&&X.isPointInPath(eb,Cb)||rc&&X.isPointInStroke(eb,Cb)}}function Na(r,C){return"translate("+r+","+C+")"}function Da(r,C,X){function ea(eb,Cb){var Jb=
Cb.x||0,$b=Cb.y||0,rc=Cb.angle||0;eb.translate(Jb,$b);rc&&eb.rotate(rc*=Ae);eb.beginPath();C(eb,Cb);rc&&eb.rotate(-rc);eb.translate(-Jb,-$b)}return{type:r,tag:"path",nested:!1,attr:function(eb,Cb){var Jb=Na(Cb.x||0,Cb.y||0)+(Cb.angle?" rotate("+(Cb.angle+")"):"");eb("transform",Jb);eb("d",C(null,Cb))},bound:function(eb,Cb){C(F(eb,Cb.angle),Cb);return x(eb,Cb).translate(Cb.x||0,Cb.y||0)},draw:E(ea),pick:sa(fa(ea)),isect:X||ia(ea)}}function W(r,C,X){function ea(Cb,Jb){Cb.beginPath();C(Cb,Jb)}const eb=
fa(ea);return{type:r,tag:"path",nested:!0,attr:function(Cb,Jb){Jb=Jb.mark.items;Jb.length&&Cb("d",C(null,Jb))},bound:function(Cb,Jb){Jb=Jb.items;if(0===Jb.length)return Cb;C(F(Cb),Jb);return x(Cb,Jb[0])},draw:z(ea),pick:function(Cb,Jb,$b,rc,Ic,Fc){var hd=Jb.items;Jb=Jb.bounds;if(!hd||!hd.length||Jb&&!Jb.contains(Ic,Fc))return null;$b*=Cb.pixelRatio;rc*=Cb.pixelRatio;return eb(Cb,hd,$b,rc)?hd[0]:null},isect:ma,tip:X}}function na(r,C){r.beginPath();La(C)?Ra(r,C,0,0):r.rect(0,0,C.width||0,C.height||
0);r.clip()}function $a(r){const C=ta(r.strokeWidth,1);return null!=r.strokeOffset?r.strokeOffset:r.stroke&&.5<C&&1.5>C?.5-Math.abs(C-1):0}function sb(r,C,X,ea){const eb=$a(C);r.beginPath();Ra(r,C,(X||0)+eb,(ea||0)+eb)}function Db(r,C){var X=r.image;if(!X||r.url&&r.url!==X.url)X={complete:!1,width:0,height:0},C.loadImage(r.url).then(ea=>{r.image=ea;r.image.url=r.url});return X}function Xb(r,C){return null!=r.width?r.width:C&&C.width?!1!==r.aspect&&r.height?r.height*C.width/C.height:C.width:0}function vc(r,
C){return null!=r.height?r.height:C&&C.height?!1!==r.aspect&&r.width?r.width*C.height/C.width:C.height:0}function Vc(r,C){return"center"===r?C/2:"right"===r?C:0}function tc(r,C){return"middle"===r?C/2:"bottom"===r?C:0}function Hc(r,C){var X=C.path;if(null==X)return!0;var ea=C.x||0,eb=C.y||0,Cb=C.scaleX||1,Jb=C.scaleY||1,$b=(C.angle||0)*Ae,rc=C.pathCache;rc&&rc.path===X||((C.pathCache=rc=nb(X)).path=X);$b&&r.rotate&&r.translate?(r.translate(ea,eb),r.rotate($b),Pa(r,rc,0,0,Cb,Jb),r.rotate(-$b),r.translate(-ea,
-eb)):Pa(r,rc,ea,eb,Cb,Jb)}function Ma(r,C){r.beginPath();Ra(r,C)}function ec(r,C,X){if(C.stroke&&u(r,C,X)){X=C.x||0;var ea=C.y||0;var eb=null!=C.x2?C.x2:X;C=null!=C.y2?C.y2:ea;r.beginPath();r.moveTo(X,ea);r.lineTo(eb,C);return!0}return!1}function cc(r){pd.width=r&&De?Ec:nc}function nc(r,C){C=ud(r,C);r=Mc(r);return~~(.8*C.length*r)}function Ec(r,C){return 0>=Mc(r)||!(C=ud(r,C))?0:jc(C,ed(r))}function jc(r,C){const X=`(${C}) ${r}`;let ea=Ed.get(X);void 0===ea&&(De.font=C,ea=De.measureText(r).width,
Ed.set(X,ea));return ea}function Mc(r){return null!=r.fontSize?+r.fontSize||0:11}function Rc(r){return null!=r.lineHeight?r.lineHeight:Mc(r)+2}function Nc(r){r=r.lineBreak&&r.text&&!v.isArray(r.text)?r.text.split(r.lineBreak):r.text;return v.isArray(r)?1<r.length?r:r[0]:r}function ud(r,C){C=null==C?"":(C+"").trim();if(0<r.limit&&C.length){var X=+r.limit,ea=ce(r);if(!(ea(C)<X)){var eb=r.ellipsis||"",Cb="rtl"===r.dir;r=0;var Jb=C.length;X-=ea(eb);if(Cb){for(;r<Jb;)Cb=r+Jb>>>1,ea(C.slice(Cb))>X?r=Cb+
1:Jb=Cb;C=eb+C.slice(r)}else{for(;r<Jb;)Cb=1+(r+Jb>>>1),ea(C.slice(0,Cb))<X?r=Cb:Jb=Cb-1;C=C.slice(0,r)+eb}}}return C}function ce(r){if(pd.width===Ec){const C=ed(r);return X=>jc(X,C)}{const C=Mc(r);return X=>~~(.8*X.length*C)}}function Zc(r,C){r=r.font;return(C&&r?String(r).replace(/"/g,"'"):r)||"sans-serif"}function ed(r,C){return(r.fontStyle?r.fontStyle+" ":"")+(r.fontVariant?r.fontVariant+" ":"")+(r.fontWeight?r.fontWeight+" ":"")+Mc(r)+"px "+Zc(r,C)}function Pd(r){var C=r.baseline,X=Mc(r);return Math.round("top"===
C?.79*X:"middle"===C?.3*X:"bottom"===C?-.21*X:"line-top"===C?.29*X+.5*Rc(r):"line-bottom"===C?.29*X-.5*Rc(r):0)}function Ha(r){var C=r.x||0,X=r.y||0,ea=r.radius||0;ea&&(r=(r.theta||0)-cf,C+=ea*Math.cos(r),X+=ea*Math.sin(r));Bd.x1=C;Bd.y1=X;return Bd}function qb(r,C,X){var ea=pd.height(C),eb=C.align,Cb=Ha(C),Jb=Cb.x1;Cb=Cb.y1;var $b=C.dx||0,rc=(C.dy||0)+Pd(C)-Math.round(.8*ea),Ic=Nc(C);v.isArray(Ic)?(ea+=Rc(C)*(Ic.length-1),Ic=Ic.reduce((Fc,hd)=>Math.max(Fc,pd.width(C,hd)),0)):Ic=pd.width(C,Ic);"center"===
eb?$b-=Ic/2:"right"===eb&&($b-=Ic);r.set($b+=Jb,rc+=Cb,$b+Ic,rc+ea);if(C.angle&&!X)r.rotate(C.angle*Ae,Jb,Cb);else if(2===X)return r.rotatedPoints(C.angle*Ae,Jb,Cb);return r}function Sb(r,C,X){var ea=ie[r.mark.marktype];C=C||ea.bound;ea.nested&&(r=r.mark);return C(r.bounds||(r.bounds=new Wa),r,X)}function dd(r,C,X){var ea=ie[r.marktype],eb=ea.bound,Cb=r.items,Jb=Cb&&Cb.length;if(ea.nested)return Jb?r=Cb[0]:(qf.mark=r,r=qf),X=Sb(r,eb,X),C=C&&C.union(X)||X;C=C||r.bounds&&r.bounds.clear()||new Wa;if(Jb)for(ea=
0,Jb=Cb.length;ea<Jb;++ea)C.union(Sb(Cb[ea],eb,X));return r.bounds=C}function nd(r,C){return JSON.stringify(r,Kd,C)}function Nd(r){r="string"===typeof r?JSON.parse(r):r;return Wd(r)}function Wd(r){var C=r.marktype,X=r.items,ea;if(X){var eb=0;for(ea=X.length;eb<ea;++eb){var Cb=C?"mark":"group";X[eb][Cb]=r;X[eb].zindex&&(X[eb][Cb].zdirty=!0);"group"===(C||Cb)&&Wd(X[eb])}}C&&dd(r);return r}function U(r){arguments.length?this.root=Nd(r):(this.root=va({marktype:"group",name:"root",role:"frame"}),this.root.items=
[new Xa(this.root)])}function va(r,C){C={bounds:new Wa,clip:!!r.clip,group:C,interactive:!1===r.interactive?!1:!0,items:[],marktype:r.marktype,name:r.name||void 0,role:r.role||void 0,zindex:r.zindex||0};null!=r.aria&&(C.aria=r.aria);r.description&&(C.description=r.description);return C}function ab(r,C,X){!r&&"undefined"!==typeof document&&document.createElement&&(r=document);return r?X?r.createElementNS(X,C):r.createElement(C):null}function xb(r,C){C=C.toLowerCase();r=r.childNodes;for(var X=0,ea=
r.length;X<ea;++X)if(r[X].tagName.toLowerCase()===C)return r[X]}function Rb(r,C,X,ea){C=r.childNodes[C];if(!C||C.tagName.toLowerCase()!==X.toLowerCase()){var eb=C||null;C=ab(r.ownerDocument,X,ea);r.insertBefore(C,eb)}return C}function zb(r,C){for(var X=r.childNodes,ea=X.length;ea>C;)r.removeChild(X[--ea]);return r}function kc(r){return"mark-"+r.marktype+(r.role?" role-"+r.role:"")+(r.name?" "+r.name:"")}function bc(r,C){const X=C.getBoundingClientRect();return[r.clientX-X.left-(C.clientLeft||0),r.clientY-
X.top-(C.clientTop||0)]}function Ia(r,C){this._active=null;this._handlers={};this._loader=r||db.loader();this._tooltip=C||lb}function lb(r,C,X,ea){r.element().setAttribute("title",ea||"")}function Eb(r){this._bgcolor=this._el=null;this._loader=new Q(r)}function Zb(r,C){Ia.call(this,r,C);this._touch=this._down=null;this._first=!0;this._events={}}function lc(r,C){("touchstart"===C||"touchmove"===C||"touchend"===C?["touchstart","touchmove","touchend"]:[C]).forEach(X=>uc(r,X))}function uc(r,C){const X=
r.canvas();X&&!r._events[C]&&(r._events[C]=1,X.addEventListener(C,r[C]?ea=>r[C](ea):ea=>r.fire(C,ea)))}function Cc(r,C,X){return function(ea){const eb=this._active,Cb=this.pickEvent(ea);Cb!==eb&&(eb&&eb.exit||this.fire(X,ea),this._active=Cb,this.fire(C,ea));this.fire(r,ea)}}function Bb(r){return function(C){this.fire(r,C);this._active=null}}function pc(r){Eb.call(this,r);this._options={};this._redraw=!1;this._dirty=new Wa;this._tempb=new Wa}function sc(r,C){Ia.call(this,r,C);const X=this;X._hrefHandler=
lf(X,(ea,eb)=>{eb&&eb.href&&X.handleHref(ea,eb,eb.href)});X._tooltipHandler=lf(X,(ea,eb)=>{X.handleTooltip(ea,eb,"mouseout"!==ea.type)})}function mc(r,C){var X=!1===C.aria;r("aria-hidden",X||void 0);if(X||null==C.description)for(const ea in M)r(M[ea],void 0);else X=C.mark.marktype,r("aria-label",C.description),r("role",C.ariaRole||("group"===X?"graphics-object":"graphics-symbol")),r("aria-roledescription",C.ariaRoleDescription||`${X} mark`)}function Bc(r){return!1===r.aria?{["aria-hidden"]:!0}:Gf[r.role]?
null:J[r.role]?Kc(r,J[r.role]):Oc(r)}function Oc(r){const C=r.marktype,X="group"===C||"text"===C||r.items.some(ea=>null!=ea.description&&!1!==ea.aria);return He(X?"graphics-object":"graphics-symbol",`${C} mark container`,r.description)}function Kc(r,C){try{const X=r.items[0],ea=C.caption||(()=>"");return He(C.role||"graphics-symbol",C.desc,X.description||ea(X))}catch(X){return null}}function ad(r){try{return v.array(v.peek(r.items).items[0].text).join(" ")}catch(C){return null}}function id(r){r=r.map(C=>
C+("fill"===C||"stroke"===C?" color":""));return 2>r.length?r[0]:r.slice(0,-1).join(", ")+" and "+v.peek(r)}function td(){let r="",C="",X="";const ea=[],eb=(Jb,$b)=>{null!=$b&&(C+=` ${Jb}="${V($b).replace(/"/g,"\x26quot;").replace(/\t/g,"\x26#x9;").replace(/\n/g,"\x26#xA;").replace(/\r/g,"\x26#xD;")}"`);return Cb},Cb={open(Jb,...$b){C&&(r+=`${C}>${X}`,C=X="");ea.push(Jb);C="\x3c"+Jb;for(const rc of $b)for(const Ic in rc)eb(Ic,rc[Ic]);return Cb},close(){const Jb=ea.pop();r=C?r+(C+(X?`>${X}</${Jb}>`:
"/\x3e")):r+`</${Jb}>`;C=X="";return Cb},attr:eb,text:Jb=>(X+=V(Jb),Cb),toString:()=>r};return Cb}function qd(r,C){r.open(C.tagName);if(C.hasAttributes()){var X=C.attributes,ea=X.length;for(var eb=0;eb<ea;++eb)r.attr(X[eb].name,X[eb].value)}if(C.hasChildNodes())for(C=C.childNodes,X=C.length,ea=0;ea<X;ea++)eb=C[ea],3===eb.nodeType?r.text(eb.nodeValue):qd(r,eb);return r.close()}function Fd(r){Eb.call(this,r);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=null}function Ud(r,C){for(;r&&
r.dirty!==C;r=r.mark.group)if(r.dirty=C,r.mark&&r.mark.dirty!==C)r.mark.dirty=C;else break}function ee(r,C,X){C=C.lastChild.previousSibling;let ea,eb=0;A(X,Cb=>{ea=r.mark(C,Cb,ea);++eb});zb(C,1+eb)}function we(r,C,X,ea,eb){let Cb=r._svg;if(!Cb){var Jb=C.ownerDocument;Cb=ab(Jb,ea,Ta);r._svg=Cb;r.mark&&(Cb.__data__=r,Cb.__values__={fill:"default"},"g"===ea&&(ea=ab(Jb,"path",Ta),Cb.appendChild(ea),ea.__data__=r,ea=ab(Jb,"g",Ta),Cb.appendChild(ea),ea.__data__=r,Jb=ab(Jb,"path",Ta),Cb.appendChild(Jb),
Jb.__data__=r,Jb.__values__={fill:"default"}))}(Cb.ownerSVGElement!==eb||Cb.parentNode&&1<Cb.parentNode.childNodes.length&&Cb.previousSibling!=X)&&C.insertBefore(Cb,X?X.nextSibling:C.firstChild);return Cb}function re(r,C,X){if(C!==tb[r]){if(X){var ea=hb;null!=C?ea.setAttributeNS(X,r,C):ea.removeAttributeNS(X,r)}else Jd(hb,r,C);tb[r]=C}}function te(r,C,X){X!==tb[C]&&(null==X?r.style.removeProperty(C):r.style.setProperty(C,X+""),tb[C]=X)}function rd(r,C){for(const X in C)Jd(r,X,C[X])}function Jd(r,
C,X){null!=X?r.setAttribute(C,X):r.removeAttribute(C)}function Me(){let r;return"undefined"===typeof window?"":(r=window.location).hash?r.href.slice(0,-r.hash.length):r.href}function qe(r){Eb.call(this,r);this._text=null;this._defs={gradient:{},clipping:{}}}function bf(r,C,X,ea,eb){if(null==C)return r;"bgrect"===ea&&!1===X.interactive&&(r["pointer-events"]="none");if("bgfore"===ea&&(!1===X.interactive&&(r["pointer-events"]="none"),r.display="none",null!==C.fill))return r;"image"===ea&&!1===C.smooth&&
(r.style="image-rendering: optimizeSpeed; image-rendering: pixelated;");"text"===ea&&(r["font-family"]=Zc(C),r["font-size"]=Mc(C)+"px",r["font-style"]=C.fontStyle,r["font-variant"]=C.fontVariant,r["font-weight"]=C.fontWeight);for(const Cb in ua)X=C[Cb],ea=ua[Cb],("transparent"!==X||"fill"!==ea&&"stroke"!==ea)&&null!=X&&(X&&X.gradient&&(X=Ib(X,eb.gradient,"")),r[ea]=X);return r}function Hd(r,C,X,ea){if(r.bounds&&C.intersects(r.bounds)&&("group"===r.marktype||!1!==r.interactive&&(!X||X(r)))){const Cb=
r.items;var eb=r.marktype;r=Cb.length;let Jb=0;if("group"===eb)for(;Jb<r;++Jb)fe(Cb[Jb],C,X,ea);else for(X=ie[eb].isect;Jb<r;++Jb)eb=Cb[Jb],Ce(eb,C,X)&&ea.push(eb)}return ea}function fe(r,C,X,ea){X&&X(r.mark)&&Ce(r,C,ie.group.isect)&&ea.push(r);const eb=r.items,Cb=eb&&eb.length;if(Cb){const Jb=r.x||0;r=r.y||0;C.translate(-Jb,-r);for(let $b=0;$b<Cb;++$b)Hd(eb[$b],C,X,ea);C.translate(Jb,r)}return ea}function Ce(r,C,X){const ea=r.bounds;return C.encloses(ea)||C.intersects(ea)&&X(r,C)}function Xd(r,C,
X){return r===C?!0:"path"===X?md(r,C):r instanceof Date&&C instanceof Date?+r===+C:v.isNumber(r)&&v.isNumber(C)?1E-9>=Math.abs(r-C):r&&C&&(v.isObject(r)||v.isObject(C))?xd(r,C):r==C}function md(r,C){return Xd(nb(r),nb(C))}function xd(r,C){var X=Object.keys(r),ea=Object.keys(C),eb;if(X.length!==ea.length)return!1;X.sort();ea.sort();for(eb=X.length-1;0<=eb;eb--)if(X[eb]!=ea[eb])return!1;for(eb=X.length-1;0<=eb;eb--)if(ea=X[eb],!Xd(r[ea],C[ea],ea))return!1;return typeof r===typeof C}let Ld=0;const ff=
{basis:{curve:Y.curveBasis},"basis-closed":{curve:Y.curveBasisClosed},"basis-open":{curve:Y.curveBasisOpen},bundle:{curve:Y.curveBundle,tension:"beta",value:.85},cardinal:{curve:Y.curveCardinal,tension:"tension",value:0},"cardinal-open":{curve:Y.curveCardinalOpen,tension:"tension",value:0},"cardinal-closed":{curve:Y.curveCardinalClosed,tension:"tension",value:0},"catmull-rom":{curve:Y.curveCatmullRom,tension:"alpha",value:.5},"catmull-rom-closed":{curve:Y.curveCatmullRomClosed,tension:"alpha",value:.5},
"catmull-rom-open":{curve:Y.curveCatmullRomOpen,tension:"alpha",value:.5},linear:{curve:Y.curveLinear},"linear-closed":{curve:Y.curveLinearClosed},monotone:{horizontal:Y.curveMonotoneY,vertical:Y.curveMonotoneX},natural:{curve:Y.curveNatural},step:{curve:Y.curveStep},"step-after":{curve:Y.curveStepAfter},"step-before":{curve:Y.curveStepBefore}},ne={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},wd=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\.\d+)(\.\d)/g,/(\d)([-+])/g,/\s|,|###/],Ae=Math.PI/180,cf=Math.PI/2,wc=2*
Math.PI,pe=Math.sqrt(3)/2;var Vd={},Ub={},oe=[].join;const Yd=["l",0,0,0,0,0,0,0],se={circle:{draw:function(r,C){C=Math.sqrt(C)/2;r.moveTo(C,0);r.arc(0,0,C,0,wc)}},cross:{draw:function(r,C){C=Math.sqrt(C)/2;var X=C/2.5;r.moveTo(-C,-X);r.lineTo(-C,X);r.lineTo(-X,X);r.lineTo(-X,C);r.lineTo(X,C);r.lineTo(X,X);r.lineTo(C,X);r.lineTo(C,-X);r.lineTo(X,-X);r.lineTo(X,-C);r.lineTo(-X,-C);r.lineTo(-X,-X);r.closePath()}},diamond:{draw:function(r,C){C=Math.sqrt(C)/2;r.moveTo(-C,0);r.lineTo(0,-C);r.lineTo(C,
0);r.lineTo(0,C);r.closePath()}},square:{draw:function(r,C){C=Math.sqrt(C);var X=-C/2;r.rect(X,X,C,C)}},arrow:{draw:function(r,C){C=Math.sqrt(C)/2;var X=C/7,ea=C/2.5,eb=C/8;r.moveTo(-X,C);r.lineTo(X,C);r.lineTo(X,-eb);r.lineTo(ea,-eb);r.lineTo(0,-C);r.lineTo(-ea,-eb);r.lineTo(-X,-eb);r.closePath()}},wedge:{draw:function(r,C){var X=Math.sqrt(C)/2;C=pe*X;var ea=C-.5773502691896257*X;X/=4;r.moveTo(0,-C-ea);r.lineTo(-X,C-ea);r.lineTo(X,C-ea);r.closePath()}},triangle:{draw:function(r,C){C=Math.sqrt(C)/
2;var X=pe*C,ea=X-.5773502691896257*C;r.moveTo(0,-X-ea);r.lineTo(-C,X-ea);r.lineTo(C,X-ea);r.closePath()}},"triangle-up":{draw:function(r,C){C=Math.sqrt(C)/2;var X=pe*C;r.moveTo(0,-X);r.lineTo(-C,X);r.lineTo(C,X);r.closePath()}},"triangle-down":{draw:function(r,C){C=Math.sqrt(C)/2;var X=pe*C;r.moveTo(0,X);r.lineTo(-C,-X);r.lineTo(C,-X);r.closePath()}},"triangle-right":{draw:function(r,C){C=Math.sqrt(C)/2;var X=pe*C;r.moveTo(X,0);r.lineTo(-X,-C);r.lineTo(-X,C);r.closePath()}},"triangle-left":{draw:function(r,
C){C=Math.sqrt(C)/2;var X=pe*C;r.moveTo(-X,0);r.lineTo(X,-C);r.lineTo(X,C);r.closePath()}},stroke:{draw:function(r,C){C=Math.sqrt(C)/2;r.moveTo(-C,0);r.lineTo(C,0)}}};var df={};const Re=r=>r.x||0,Ve=r=>r.y||0,Ge=r=>!1!==r.defined,I=Y.arc().startAngle(r=>r.startAngle||0).endAngle(r=>r.endAngle||0).padAngle(r=>r.padAngle||0).innerRadius(r=>r.innerRadius||0).outerRadius(r=>r.outerRadius||0).cornerRadius(r=>r.cornerRadius||0),R=Y.area().x(Re).y1(Ve).y0(r=>(r.y||0)+(r.height||0)).defined(Ge),ra=Y.area().y(Ve).x1(Re).x0(r=>
(r.x||0)+(r.width||0)).defined(Ge),Fa=Y.line().x(Re).y(Ve).defined(Ge),Oa=Ja().x(Re).y(Ve).width(r=>r.width||0).height(r=>r.height||0).cornerRadius(r=>wa(r.cornerRadiusTopLeft,r.cornerRadius)||0,r=>wa(r.cornerRadiusTopRight,r.cornerRadius)||0,r=>wa(r.cornerRadiusBottomRight,r.cornerRadius)||0,r=>wa(r.cornerRadiusBottomLeft,r.cornerRadius)||0),Pb=Y.symbol().type(r=>Ca(r.shape||"circle")).size(r=>wa(r.size,64)),dc=da().x(Re).y(Ve).defined(Ge).size(r=>r.size||1);var xc=1;Wa.prototype={clone(){return new Wa(this)},
clear(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;return this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(r){return this.x1===r.x1&&this.y1===r.y1&&this.x2===r.x2&&this.y2===r.y2},set(r,C,X,ea){X<r?(this.x2=r,this.x1=X):(this.x1=r,this.x2=X);ea<C?(this.y2=C,this.y1=ea):(this.y1=C,this.y2=ea);return this},add(r,C){r<this.x1&&(this.x1=r);C<this.y1&&
(this.y1=C);r>this.x2&&(this.x2=r);C>this.y2&&(this.y2=C);return this},expand(r){this.x1-=r;this.y1-=r;this.x2+=r;this.y2+=r;return this},round(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);this.x2=Math.ceil(this.x2);this.y2=Math.ceil(this.y2);return this},scale(r){this.x1*=r;this.y1*=r;this.x2*=r;this.y2*=r;return this},translate(r,C){this.x1+=r;this.x2+=r;this.y1+=C;this.y2+=C;return this},rotate(r,C,X){r=this.rotatedPoints(r,C,X);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],
r[5]).add(r[6],r[7])},rotatedPoints(r,C,X){var {x1:ea,y1:eb,x2:Cb,y2:Jb}=this,$b=Math.cos(r);r=Math.sin(r);var rc=C-C*$b+X*r;C=X-C*r-X*$b;return[$b*ea-r*eb+rc,r*ea+$b*eb+C,$b*ea-r*Jb+rc,r*ea+$b*Jb+C,$b*Cb-r*eb+rc,r*Cb+$b*eb+C,$b*Cb-r*Jb+rc,r*Cb+$b*Jb+C]},union(r){r.x1<this.x1&&(this.x1=r.x1);r.y1<this.y1&&(this.y1=r.y1);r.x2>this.x2&&(this.x2=r.x2);r.y2>this.y2&&(this.y2=r.y2);return this},intersect(r){r.x1>this.x1&&(this.x1=r.x1);r.y1>this.y1&&(this.y1=r.y1);r.x2<this.x2&&(this.x2=r.x2);r.y2<this.y2&&
(this.y2=r.y2);return this},encloses(r){return r&&this.x1<=r.x1&&this.x2>=r.x2&&this.y1<=r.y1&&this.y2>=r.y2},alignsWith(r){return r&&(this.x1==r.x1||this.x2==r.x2||this.y1==r.y1||this.y2==r.y2)},intersects(r){return r&&!(this.x2<r.x1||this.x1>r.x2||this.y2<r.y1||this.y1>r.y2)},contains(r,C){return!(r<this.x1||r>this.x2||C<this.y1||C>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};v.inherits(Xa,jb);Q.prototype={pending(){return this._pending},sanitizeURL(r){const C=this;
C._pending+=1;return C._loader.sanitize(r,{context:"href"}).then(X=>{--C._pending;return X}).catch(()=>{--C._pending;return null})},loadImage(r){const C=this,X=Qb.image();C._pending+=1;return C._loader.sanitize(r,{context:"image"}).then(ea=>{const eb=ea.href;if(!eb||!X)throw{url:eb};const Cb=new X;ea=v.hasOwnProperty(ea,"crossOrigin")?ea.crossOrigin:"anonymous";null!=ea&&(Cb.crossOrigin=ea);Cb.onload=()=>{--C._pending};Cb.onerror=()=>{--C._pending};Cb.src=eb;return Cb}).catch(ea=>{--C._pending;return{complete:!1,
width:0,height:0,src:ea&&ea.url||""}})},ready(){const r=this;return new Promise(C=>{function X(ea){r.pending()?setTimeout(()=>{X(!0)},10):C(ea)}X(!1)})}};const oc=wc-1E-8;let yc,Wc,Tc,he,od,jd,Zd,ye;const ve=(r,C)=>{r=Wc=r;C=Tc=C;return yc.add(r,C)},We=r=>yc.add(r,yc.y1),wf=r=>yc.add(yc.x1,r),bd=(r,C)=>yc.add(od*r+Zd*C,jd*r+ye*C),Be=(r,C)=>ve(od*r+Zd*C,jd*r+ye*C),ue={beginPath(){},closePath(){},moveTo:Be,lineTo:Be,rect(r,C,X,ea){he?(bd(r+X,C),bd(r+X,C+ea),bd(r,C+ea),Be(r,C)):(yc.add(r+X,C+ea),ve(r,
C))},quadraticCurveTo(r,C,X,ea){const eb=jd*r+ye*C,Cb=od*X+Zd*ea;X=jd*X+ye*ea;O(Wc,od*r+Zd*C,Cb,We);O(Tc,eb,X,wf);ve(Cb,X)},bezierCurveTo(r,C,X,ea,eb,Cb){const Jb=jd*r+ye*C,$b=jd*X+ye*ea,rc=od*eb+Zd*Cb;eb=jd*eb+ye*Cb;K(Wc,od*r+Zd*C,od*X+Zd*ea,rc,We);K(Tc,Jb,$b,eb,wf);ve(rc,eb)},arc(r,C,X,ea,eb,Cb){ea+=he;eb+=he;Wc=X*Math.cos(eb)+r;Tc=X*Math.sin(eb)+C;if(Math.abs(eb-ea)>oc)yc.add(r-X,C-X),yc.add(r+X,C+X);else{const Jb=rc=>yc.add(X*Math.cos(rc)+r,X*Math.sin(rc)+C);let $b;Jb(ea);Jb(eb);if(eb!==ea)if(ea%=
wc,0>ea&&(ea+=wc),eb%=wc,0>eb&&(eb+=wc),eb<ea&&(Cb=!Cb,$b=ea,ea=eb,eb=$b),Cb)for(eb-=wc,$b=ea-ea%cf,ea=0;4>ea&&$b>eb;++ea,$b-=cf)Jb($b);else for($b=ea-ea%cf+cf,ea=0;4>ea&&$b<eb;++ea,$b+=cf)Jb($b)}}};var De=(De=Qb.canvas(1,1))?De.getContext("2d"):null;const vf=new Wa;var nf=[],Cf=Da("arc",function(r,C){return I.context(r)(C)}),Ne=W("area",function(r,C){const X=C[0];return("horizontal"===X.orient?ra:R).curve(Va(X.interpolate||"linear",X.orient,X.tension)).context(r)(C)},function(r,C){C="horizontal"===
r[0].orient?C[1]:C[0];for(var X="horizontal"===r[0].orient?"y":"x",ea=r.length,eb=Infinity,Cb,Jb;0<=--ea;)!1!==r[ea].defined&&(Jb=Math.abs(r[ea][X]-C),Jb<eb&&(eb=Jb,Cb=r[ea]));return Cb});const H=fa(sb),Z=fa(sb,!1),cb=fa(sb,!0);var Gb={type:"group",tag:"g",nested:!1,attr:function(r,C){r("transform",Na(C.x||0,C.y||0))},bound:function(r,C){if(!C.clip&&C.items){const X=C.items,ea=X.length;for(let eb=0;eb<ea;++eb)r.union(X[eb].bounds)}(C.clip||C.width||C.height)&&!C.noBound&&r.add(0,0).add(C.width||0,
C.height||0);x(r,C);return r.translate(C.x||0,C.y||0)},draw:function(r,C,X){A(C,ea=>{const eb=ea.x||0,Cb=ea.y||0,Jb=ea.strokeForeground,$b=null==ea.opacity?1:ea.opacity;(ea.stroke||ea.fill)&&$b&&(sb(r,ea,eb,Cb),qa(r,ea),ea.fill&&t(r,ea,$b)&&r.fill(),ea.stroke&&!Jb&&u(r,ea,$b)&&r.stroke());r.save();r.translate(eb,Cb);ea.clip&&na(r,ea);X&&X.translate(-eb,-Cb);A(ea,rc=>{this.draw(r,rc,X)});X&&X.translate(eb,Cb);r.restore();Jb&&ea.stroke&&$b&&(sb(r,ea,eb,Cb),qa(r,ea),u(r,ea,$b)&&r.stroke())})},pick:function(r,
C,X,ea,eb,Cb){if(C.bounds&&!C.bounds.contains(eb,Cb)||!C.items)return null;const Jb=X*r.pixelRatio,$b=ea*r.pixelRatio;return B(C,rc=>{let Ic,Fc;var hd=rc.bounds;if(!hd||hd.contains(eb,Cb)){Ic=rc.x||0;Fc=rc.y||0;hd=Ic+(rc.width||0);var yd=Fc+(rc.height||0),Qc=rc.clip;if(!Qc||!(eb<Ic||eb>hd||Cb<Fc||Cb>yd)){r.save();r.translate(Ic,Fc);Ic=eb-Ic;Fc=Cb-Fc;if(Qc&&La(rc)&&!cb(r,rc,Jb,$b))return r.restore(),null;yd=rc.strokeForeground;if((Qc=!1!==C.interactive)&&yd&&rc.stroke&&Z(r,rc,Jb,$b))return r.restore(),
rc;hd=B(rc,Dd=>(!1!==Dd.interactive||"group"===Dd.marktype)&&Dd.bounds&&Dd.bounds.contains(Ic,Fc)?this.pick(Dd,X,ea,Ic,Fc):null);!hd&&Qc&&(rc.fill||!yd&&rc.stroke)&&H(r,rc,Jb,$b)&&(hd=rc);r.restore();return hd||null}}})},isect:Ya,content:function(r,C,X){C=C.clip?fb(X,C,C):null;r("clip-path",C)},background:function(r,C){r("class","background");r("aria-hidden",!0);{const X=$a(C);r("d",Ra(null,C,X,X))}},foreground:function(r,C){r("class","foreground");r("aria-hidden",!0);if(C.strokeForeground){{const X=
$a(C);r("d",Ra(null,C,X,X))}}else r("d","")}},Hb={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"},Tb={type:"image",tag:"image",nested:!1,attr:function(r,C,X){var ea=Db(C,X);X=Xb(C,ea);const eb=vc(C,ea),Cb=(C.x||0)-Vc(C.align,X),Jb=(C.y||0)-tc(C.baseline,eb);ea=!ea.src&&ea.toDataURL?ea.toDataURL():ea.src||"";r("href",ea,Hb["xmlns:xlink"],"xlink:href");r("transform",Na(Cb,Jb));r("width",X);r("height",eb);r("preserveAspectRatio",!1===C.aspect?"none":"xMidYMid")},
bound:function(r,C){var X=C.image;const ea=Xb(C,X);X=vc(C,X);const eb=(C.x||0)-Vc(C.align,ea);C=(C.y||0)-tc(C.baseline,X);return r.set(eb,C,eb+ea,C+X)},draw:function(r,C,X){A(C,ea=>{if(!X||X.intersects(ea.bounds)){var eb=Db(ea,this),Cb=Xb(ea,eb),Jb=vc(ea,eb),$b=(ea.x||0)-Vc(ea.align,Cb),rc=(ea.y||0)-tc(ea.baseline,Jb),Ic;if(!1!==ea.aspect){var Fc=eb.width/eb.height;var hd=ea.width/ea.height;Fc===Fc&&hd===hd&&Fc!==hd&&(hd<Fc?(Fc=Cb/Fc,rc+=(Jb-Fc)/2,Jb=Fc):(Fc*=Jb,$b+=(Cb-Fc)/2,Cb=Fc))}if(eb.complete||
eb.toDataURL)qa(r,ea),r.globalAlpha=null!=(Ic=ea.opacity)?Ic:1,r.imageSmoothingEnabled=!1!==ea.smooth,r.drawImage(eb,$b,rc,Cb,Jb)}})},pick:sa(),isect:v.truthy,get:Db,xOffset:Vc,yOffset:tc},ac=W("line",function(r,C){const X=C[0];return Fa.curve(Va(X.interpolate||"linear",X.orient,X.tension)).context(r)(C)},function(r,C){for(var X=Math.pow(r[0].strokeWidth||1,2),ea=r.length,eb,Cb;0<=--ea;)if(!1!==r[ea].defined&&(eb=r[ea].x-C[0],Cb=r[ea].y-C[1],eb=eb*eb+Cb*Cb,eb<X))return r[ea];return null}),Gc={type:"path",
tag:"path",nested:!1,attr:function(r,C){var X=C.scaleY||1;1===(C.scaleX||1)&&1===X||r("vector-effect","non-scaling-stroke");X=Na(C.x||0,C.y||0)+(C.angle?" rotate("+(C.angle+")"):"")+(C.scaleX||C.scaleY?" scale("+((C.scaleX||1)+","+(C.scaleY||1)+")"):"");r("transform",X);r("d",C.path)},bound:function(r,C){return Hc(F(r,C.angle),C)?r.set(0,0,0,0):x(r,C,!0)},draw:E(Hc),pick:sa(fa(Hc)),isect:ia(Hc)},Dc={type:"rect",tag:"path",nested:!1,attr:function(r,C){r("d",Ra(null,C))},bound:function(r,C){var X,ea;
return x(r.set(X=C.x||0,ea=C.y||0,X+C.width||0,ea+C.height||0),C)},draw:E(Ma),pick:sa(fa(Ma)),isect:Ya},Sc={type:"rule",tag:"line",nested:!1,attr:function(r,C){r("transform",Na(C.x||0,C.y||0));r("x2",null!=C.x2?C.x2-(C.x||0):0);r("y2",null!=C.y2?C.y2-(C.y||0):0)},bound:function(r,C){var X,ea;return x(r.set(X=C.x||0,ea=C.y||0,null!=C.x2?C.x2:X,null!=C.y2?C.y2:ea),C)},draw:function(r,C,X){A(C,ea=>{if(!X||X.intersects(ea.bounds)){var eb=null==ea.opacity?1:ea.opacity;eb&&ec(r,ea,eb)&&(qa(r,ea),r.stroke())}})},
pick:sa(function(r,C,X,ea){return r.isPointInStroke?ec(r,C,1)&&r.isPointInStroke(X,ea):!1}),isect:Za},gd=Da("shape",function(r,C){return(C.mark.shape||C.shape).context(r)(C)}),zd=Da("symbol",function(r,C){return Pb.context(r)(C)},ma);const Ed=v.lruCache();var pd={height:Mc,measureWidth:Ec,estimateWidth:nc,width:nc,canvas:cc};cc(!0);const Ee={left:"start",center:"middle",right:"end"},Bd=new Wa;var ke={type:"text",tag:"text",nested:!1,attr:function(r,C){var X=C.dx||0,ea=(C.dy||0)+Pd(C),eb=Ha(C),Cb=
eb.x1;eb=eb.y1;var Jb=C.angle||0;r("text-anchor",Ee[C.align]||"start");if(Jb){if(C=Na(Cb,eb)+" rotate("+(Jb+")"),X||ea)C+=" "+Na(X,ea)}else C=Na(Cb+X,eb+ea);r("transform",C)},bound:qb,draw:function(r,C,X){A(C,ea=>{var eb=null==ea.opacity?1:ea.opacity,Cb;if(!(X&&!X.intersects(ea.bounds)||0===eb||0>=ea.fontSize||null==ea.text||0===ea.text.length)){r.font=ed(ea);r.textAlign=ea.align||"left";var Jb=Ha(ea);var $b=Jb.x1;Jb=Jb.y1;ea.angle&&(r.save(),r.translate($b,Jb),r.rotate(ea.angle*Ae),$b=Jb=0);$b+=
ea.dx||0;Jb+=(ea.dy||0)+Pd(ea);var rc=Nc(ea);qa(r,ea);if(v.isArray(rc)){var Ic=Rc(ea);for(Cb=0;Cb<rc.length;++Cb){var Fc=ud(ea,rc[Cb]);ea.fill&&t(r,ea,eb)&&r.fillText(Fc,$b,Jb);ea.stroke&&u(r,ea,eb)&&r.strokeText(Fc,$b,Jb);Jb+=Ic}}else Fc=ud(ea,rc),ea.fill&&t(r,ea,eb)&&r.fillText(Fc,$b,Jb),ea.stroke&&u(r,ea,eb)&&r.strokeText(Fc,$b,Jb);ea.angle&&r.restore()}})},pick:sa(function(r,C,X,ea,eb,Cb){if(0>=C.fontSize)return!1;if(!C.angle)return!0;X=Ha(C);r=X.x1;X=X.y1;ea=qb(Bd,C,1);var Jb=-C.angle*Ae;C=Math.cos(Jb);
Jb=Math.sin(Jb);return ea.contains(C*eb-Jb*Cb+(r-C*r+Jb*X),Jb*eb+C*Cb+(X-Jb*r-C*X))}),isect:function(r,C){r=qb(Bd,r,2);return S(C,r[0],r[1],r[2],r[3])||S(C,r[0],r[1],r[4],r[5])||S(C,r[4],r[5],r[6],r[7])||S(C,r[2],r[3],r[6],r[7])}},Od=W("trail",function(r,C){return dc.context(r)(C)},function(r,C){for(var X=r.length,ea,eb;0<=--X;)if(!1!==r[X].defined&&(ea=r[X].x-C[0],eb=r[X].y-C[1],eb=ea*ea+eb*eb,ea=r[X].size||1,eb<ea*ea))return r[X];return null}),ie={arc:Cf,area:Ne,group:Gb,image:Tb,line:ac,path:Gc,
rect:Dc,rule:Sc,shape:gd,symbol:zd,text:ke,trail:Od},qf={mark:null};const Kd="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription".split(" ");
U.prototype={toJSON(r){return nd(this.root,r||0)},mark(r,C,X){C=C||this.root.items[0];r=va(r,C);C.items[X]=r;r.zindex&&(r.group.zdirty=!0);return r}};Ia.prototype={initialize(r,C,X){this._el=r;this._obj=X||null;return this.origin(C)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(r){return arguments.length?(this._origin=r||[0,0],this):this._origin.slice()},scene(r){if(!arguments.length)return this._scene;this._scene=r;return this},on(){},off(){},_handlerIndex(r,C,
X){for(let ea=r?r.length:0;0<=--ea;)if(r[ea].type===C&&(!X||r[ea].handler===X))return ea;return-1},handlers(r){const C=this._handlers,X=[];if(r)X.push(...C[this.eventName(r)]);else for(const ea in C)X.push(...C[ea]);return X},eventName(r){const C=r.indexOf(".");return 0>C?r:r.slice(0,C)},handleHref(r,C,X){this._loader.sanitize(X,{context:"href"}).then(ea=>{const eb=new MouseEvent(r.type,r),Cb=ab(null,"a");for(const Jb in ea)Cb.setAttribute(Jb,ea[Jb]);Cb.dispatchEvent(eb)}).catch(()=>{})},handleTooltip(r,
C,X){if(C&&null!=C.tooltip){var ea=this.canvas(),eb=this._origin,Cb=C&&C.mark,Jb;if(Cb&&(Jb=ie[Cb.marktype]).tip){ea=bc(r,ea);ea[0]-=eb[0];for(ea[1]-=eb[1];C=C.mark.group;)ea[0]-=C.x||0,ea[1]-=C.y||0;C=Jb.tip(Cb.items,ea)}this._tooltip.call(this._obj,this,r,C,X&&C&&C.tooltip||null)}},getItemBoundingClientRect(r){var C=this.canvas();if(C){var X=C.getBoundingClientRect(),ea=this._origin,eb=r.bounds;C=eb.width();var Cb=eb.height(),Jb=eb.x1+ea[0]+X.left;for(X=eb.y1+ea[1]+X.top;r.mark&&(r=r.mark.group);)Jb+=
r.x||0,X+=r.y||0;return{x:Jb,y:X,width:C,height:Cb,left:Jb,top:X,right:Jb+C,bottom:X+Cb}}}};Eb.prototype={initialize(r,C,X,ea,eb){this._el=r;return this.resize(C,X,ea,eb)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(r){if(0===arguments.length)return this._bgcolor;this._bgcolor=r;return this},resize(r,C,X,ea){this._width=r;this._height=C;this._origin=X||[0,0];this._scale=ea||1;return this},dirty(){},render(r){const C=this;C._call=function(){C._render(r)};C._call();
C._call=null;return C},_render(){},renderAsync(r){const C=this.render(r);return this._ready?this._ready.then(()=>C):Promise.resolve(C)},_load(r,C){var X=this;r=X._loader[r](C);if(!X._ready){const ea=X._call;X._ready=X._loader.ready().then(eb=>{eb&&ea();X._ready=null})}return r},sanitizeURL(r){return this._load("sanitizeURL",r)},loadImage(r){return this._load("loadImage",r)}};v.inherits(Zb,Ia,{initialize(r,C,X){this._canvas=r&&xb(r,"canvas");["click","mousedown","mousemove","mouseout","dragleave"].forEach(ea=>
lc(this,ea));return Ia.prototype.initialize.call(this,r,C,X)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:"keydown keypress keyup dragenter dragleave dragover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" "),DOMMouseScroll(r){this.fire("mousewheel",r)},mousemove:Cc("mousemove","mouseover","mouseout"),dragover:Cc("dragover","dragenter","dragleave"),mouseout:Bb("mouseout"),dragleave:Bb("dragleave"),
mousedown(r){this._down=this._active;this.fire("mousedown",r)},click(r){this._down===this._active&&(this.fire("click",r),this._down=null)},touchstart(r){this._touch=this.pickEvent(r.changedTouches[0]);this._first&&(this._active=this._touch,this._first=!1);this.fire("touchstart",r,!0)},touchmove(r){this.fire("touchmove",r,!0)},touchend(r){this.fire("touchend",r,!0);this._touch=null},fire(r,C,X){X=X?this._touch:this._active;const ea=this._handlers[r];C.vegaType=r;"click"===r&&X&&X.href?this.handleHref(C,
X,X.href):("mousemove"===r||"mouseout"===r)&&this.handleTooltip(C,X,"mouseout"!==r);if(ea)for(let eb=0,Cb=ea.length;eb<Cb;++eb)ea[eb].handler.call(this._obj,C,X)},on(r,C){const X=this.eventName(r),ea=this._handlers;0>this._handlerIndex(ea[X],r,C)&&(lc(this,r),(ea[X]||(ea[X]=[])).push({type:r,handler:C}));return this},off(r,C){var X=this.eventName(r);X=this._handlers[X];r=this._handlerIndex(X,r,C);0<=r&&X.splice(r,1);return this},pickEvent(r){r=bc(r,this._canvas);const C=this._origin;return this.pick(this._scene,
r[0],r[1],r[0]-C[0],r[1]-C[1])},pick(r,C,X,ea,eb){const Cb=this.context();return ie[r.marktype].pick.call(this,Cb,r,C,X,ea,eb)}});var Xe="undefined"!==typeof window?window.devicePixelRatio||1:1;const je=Eb.prototype;v.inherits(pc,Eb,{initialize(r,C,X,ea,eb,Cb){this._options=Cb||{};this._canvas=this._options.externalContext?null:Qb.canvas(1,1,this._options.type);r&&this._canvas&&(zb(r,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks"));return je.initialize.call(this,r,C,X,ea,eb)},
resize(r,C,X,ea){je.resize.call(this,r,C,X,ea);if(this._canvas){{r=this._canvas;C=this._width;X=this._height;ea=this._origin;var eb=this._scale,Cb=this._options.context;const $b="undefined"!==typeof HTMLElement&&r instanceof HTMLElement&&null!=r.parentNode,rc=r.getContext("2d");eb=$b?Xe:eb;r.width=C*eb;r.height=X*eb;for(var Jb in Cb)rc[Jb]=Cb[Jb];$b&&1!==eb&&(r.style.width=C+"px",r.style.height=X+"px");rc.pixelRatio=eb;rc.setTransform(eb,0,0,eb,eb*ea[0],eb*ea[1])}}else(Jb=this._options.externalContext)||
v.error("CanvasRenderer is missing a valid canvas or context"),Jb.scale(this._scale,this._scale),Jb.translate(this._origin[0],this._origin[1]);this._redraw=!0;return this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(r){const C=this._tempb.clear().union(r.bounds);for(r=r.mark.group;r;)C.translate(r.x||0,r.y||0),r=r.mark.group;this._dirty.union(C)},_render(r){const C=this.context(),X=this._origin,ea=this._width,
eb=this._height,Cb=this._dirty;var Jb=(new Wa).set(0,0,ea,eb).translate(-X[0],-X[1]);C.save();this._redraw||Cb.empty()?Jb=(this._redraw=!1,Jb.expand(1)):(Jb=Jb.intersect(Cb),Jb.expand(1).round(),C.pixelRatio%1&&Jb.scale(C.pixelRatio).round().scale(1/C.pixelRatio),Jb.translate(-(X[0]%1),-(X[1]%1)),C.beginPath(),C.rect(Jb.x1,Jb.y1,Jb.width(),Jb.height()),C.clip());this.clear(-X[0],-X[1],ea,eb);this.draw(C,r,Jb);C.restore();Cb.clear();return this},draw(r,C,X){const ea=ie[C.marktype];if(C.clip){var eb=
C.clip;r.save();v.isFunction(eb)?(r.beginPath(),eb(r),r.clip()):na(r,C.group)}ea.draw.call(this,r,C,X);C.clip&&r.restore()},clear(r,C,X,ea){const eb=this._options,Cb=this.context();"pdf"===eb.type||eb.externalContext||Cb.clearRect(r,C,X,ea);null!=this._bgcolor&&(Cb.fillStyle=this._bgcolor,Cb.fillRect(r,C,X,ea))}});const lf=(r,C)=>X=>{let ea=X.target.__data__;ea=Array.isArray(ea)?ea[0]:ea;X.vegaType=X.type;C.call(r._obj,X,ea)};v.inherits(sc,Ia,{initialize(r,C,X){let ea=this._svg;ea&&(ea.removeEventListener("click",
this._hrefHandler),ea.removeEventListener("mousemove",this._tooltipHandler),ea.removeEventListener("mouseout",this._tooltipHandler));if(this._svg=ea=r&&xb(r,"svg"))ea.addEventListener("click",this._hrefHandler),ea.addEventListener("mousemove",this._tooltipHandler),ea.addEventListener("mouseout",this._tooltipHandler);return Ia.prototype.initialize.call(this,r,C,X)},canvas(){return this._svg},on(r,C){const X=this.eventName(r),ea=this._handlers;0>this._handlerIndex(ea[X],r,C)&&(r={type:r,handler:C,listener:lf(this,
C)},(ea[X]||(ea[X]=[])).push(r),this._svg&&this._svg.addEventListener(X,r.listener));return this},off(r,C){const X=this.eventName(r),ea=this._handlers[X];r=this._handlerIndex(ea,r,C);0<=r&&(this._svg&&this._svg.removeEventListener(X,ea[r].listener),ea.splice(r,1));return this}});const He=(r,C,X)=>({["role"]:r,["aria-roledescription"]:C,["aria-label"]:X||void 0}),Gf=v.toSet("axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title".split(" ")),
J={axis:{desc:"axis",caption:function(r){var C=r.datum;const X=r.orient,ea=C.title?ad(r):null;var eb=r.context;C=eb.scales[C.scale].value;eb=eb.dataflow.locale();const Cb=C.type;return`${"left"===X||"right"===X?"Y":"X"}-axis`+(ea?` titled '${ea}'`:"")+` for a ${pb.isDiscrete(Cb)?"discrete":Cb} scale`+` with ${pb.domainCaption(eb,C,r)}`}},legend:{desc:"legend",caption:function(r){var C=r.datum;const X=C.title?ad(r):null,ea=`${C.type||""} legend`.trim();var eb=C.scales;C=Object.keys(eb);var Cb=r.context;
eb=Cb.scales[eb[C[0]]].value;Cb=Cb.dataflow.locale();return(ea.length?ea[0].toUpperCase()+ea.slice(1):ea)+(X?` titled '${X}'`:"")+` for ${id(C)}`+` with ${pb.domainCaption(Cb,eb,r)}`}},"title-text":{desc:"title",caption:r=>`Title text '${v.array(r.text).join(" ")}'`},"title-subtitle":{desc:"subtitle",caption:r=>`Subtitle text '${v.array(r.text).join(" ")}'`}},M={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"},V=r=>(r+"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,
"\x26gt;"),ca=r=>qd(td(),r)+"",ua={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},ya={fill:"none","stroke-miterlimit":10},Ta=Hb.xmlns,ob=Eb.prototype;v.inherits(Fd,Eb,{initialize(r,C,X,ea,eb){this._defs={};this._clearDefs();r&&(this._svg=
Rb(r,0,"svg",Ta),rd(this._svg,Hb),this._svg.setAttribute("class","marks"),zb(r,1),this._root=Rb(this._svg,0,"g",Ta),rd(this._root,ya),zb(this._svg,1));this.background(this._bgcolor);return ob.initialize.call(this,r,C,X,ea,eb)},background(r){arguments.length&&this._svg&&this._svg.style.setProperty("background-color",r);return ob.background.apply(this,arguments)},resize(r,C,X,ea){ob.resize.call(this,r,C,X,ea);this._svg&&(rd(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),
this._root.setAttribute("transform",`translate(${this._origin})`));this._dirty=[];return this},canvas(){return this._svg},svg(){const r=this._svg,C=this._bgcolor;if(!r)return null;let X;C&&(r.removeAttribute("style"),X=Rb(r,0,"rect",Ta),rd(X,{width:this._width,height:this._height,fill:C}));const ea=ca(r);C&&(r.removeChild(X),this._svg.style.setProperty("background-color",C));return ea},_render(r){this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,r),zb(this._root,1));this.defs();
this._dirty=[];++this._dirtyID;return this},dirty(r){r.dirty!==this._dirtyID&&(r.dirty=this._dirtyID,this._dirty.push(r))},isDirty(r){return this._dirtyAll||!r._svg||r.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const r=this._dirty;if(!r.length||!this._dirtyID)return!0;const C=++this._dirtyID;let X;let ea,eb,Cb,Jb;Cb=0;for(Jb=r.length;Cb<Jb;++Cb){X=r[Cb];var $b=X.mark;$b.marktype!==ea&&(ea=$b.marktype,eb=ie[ea]);$b.zdirty&&$b.dirty!==C&&(this._dirtyAll=!1,Ud(X,C),$b.items.forEach(rc=>{rc.dirty=
C}));$b.zdirty||(X.exit?(eb.nested&&$b.items.length?($b=$b.items[0],$b._svg&&this._update(eb,$b._svg,$b)):X._svg&&($b=X._svg.parentNode)&&$b.removeChild(X._svg),X._svg=null):(X=eb.nested?$b.items[0]:X,X._update!==C&&(X._svg&&X._svg.ownerSVGElement?this._update(eb,X._svg,X):(this._dirtyAll=!1,Ud(X,C)),X._update=C)))}return!this._dirtyAll},mark(r,C,X){if(!this.isDirty(C))return C._svg;const ea=this._svg,eb=ie[C.marktype];var Cb=!1===C.interactive?"none":null;const Jb="g"===eb.tag;let $b=null,rc=0;const Ic=
we(C,r,X,"g",ea);Ic.setAttribute("class",kc(C));r=Bc(C);for(const Fc in r)Jd(Ic,Fc,r[Fc]);Jb||Jd(Ic,"pointer-events",Cb);Jd(Ic,"clip-path",C.clip?fb(this,C,C.group):null);Cb=Fc=>{const hd=this.isDirty(Fc),yd=we(Fc,Ic,$b,eb.tag,ea);hd&&(this._update(eb,yd,Fc),Jb&&ee(this,yd,Fc));$b=yd;++rc};eb.nested?C.items.length&&Cb(C.items[0]):A(C,Cb);zb(Ic,rc);return Ic},_update(r,C,X){hb=C;tb=C.__values__;mc(re,X);r.attr(re,X,this);const ea=yb[r.type];ea&&ea.call(this,r,C,X);hb&&this.style(hb,X)},style(r,C){if(null!=
C)for(const X in ua){let ea="font"===X?Zc(C):C[X];if(ea===tb[X])continue;const eb=ua[X];null==ea?r.removeAttribute(eb):(ea&&ea.gradient&&(ea=Ib(ea,this._defs.gradient,Me())),r.setAttribute(eb,ea+""));tb[X]=ea}},defs(){const r=this._svg,C=this._defs;let X=C.el;var ea=0;for(var eb in C.gradient){X||(C.el=X=Rb(r,1,"defs",Ta));{var Cb=void 0;let rc,Ic;var Jb=X,$b=C.gradient[eb];"radial"===$b.gradient?(Cb=Rb(Jb,ea++,"pattern",Ta),rd(Cb,{id:"p_"+$b.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),
Cb=Rb(Cb,0,"rect",Ta),rd(Cb,{width:1,height:1,fill:`url(${Me()}#${$b.id})`}),Jb=Rb(Jb,ea++,"radialGradient",Ta),rd(Jb,{id:$b.id,fx:$b.x1,fy:$b.y1,fr:$b.r1,cx:$b.x2,cy:$b.y2,r:$b.r2})):(Jb=Rb(Jb,ea++,"linearGradient",Ta),rd(Jb,{id:$b.id,x1:$b.x1,x2:$b.x2,y1:$b.y1,y2:$b.y2}));Ic=0;for(rc=$b.stops.length;Ic<rc;++Ic)Cb=Rb(Jb,Ic,"stop",Ta),Cb.setAttribute("offset",$b.stops[Ic].offset),Cb.setAttribute("stop-color",$b.stops[Ic].color);zb(Jb,Ic)}}for(const rc in C.clipping)X||(C.el=X=Rb(r,1,"defs",Ta)),Jb=
X,$b=C.clipping[rc],eb=ea,Jb=Rb(Jb,eb,"clipPath",Ta),Jb.setAttribute("id",$b.id),$b.path?(ea=Rb(Jb,0,"path",Ta),ea.setAttribute("d",$b.path)):(ea=Rb(Jb,0,"rect",Ta),rd(ea,{x:0,y:0,width:$b.width,height:$b.height})),zb(Jb,1),ea=eb+1;X&&(0===ea?(r.removeChild(X),C.el=null):zb(X,ea))},_clearDefs(){const r=this._defs;r.gradient={};r.clipping={}}});let hb=null,tb=null;const yb={group(r,C,X){const ea=hb=C.childNodes[2];tb=ea.__values__;r.foreground(re,X,this);tb=C.__values__;hb=C.childNodes[1];r.content(re,
X,this);C=hb=C.childNodes[0];r.background(re,X,this);r=!1===X.mark.interactive?"none":null;r!==tb.events&&(Jd(ea,"pointer-events",r),Jd(C,"pointer-events",r),tb.events=r);X.strokeForeground&&X.stroke?(r=X.fill,Jd(ea,"display",null),this.style(C,X),Jd(C,"stroke",null),r&&(X.fill=null),tb=ea.__values__,this.style(ea,X),r&&(X.fill=r),hb=null):Jd(ea,"display","none")},image(r,C,X){!1===X.smooth?(te(C,"image-rendering","optimizeSpeed"),te(C,"image-rendering","pixelated")):te(C,"image-rendering",null)},
text(r,C,X){r=Nc(X);let ea,eb,Cb;v.isArray(r)?(ea=r.map(Jb=>ud(X,Jb)),r=ea.join("\n"),r!==tb.text&&(zb(C,0),eb=C.ownerDocument,Cb=Rc(X),ea.forEach((Jb,$b)=>{const rc=ab(eb,"tspan",Ta);rc.__data__=X;rc.textContent=Jb;$b&&(rc.setAttribute("x",0),rc.setAttribute("dy",Cb));C.appendChild(rc)}),tb.text=r)):(ea=ud(X,r),ea!==tb.text&&(C.textContent=ea,tb.text=ea));Jd(C,"font-family",Zc(X));Jd(C,"font-size",Mc(X)+"px");Jd(C,"font-style",X.fontStyle);Jd(C,"font-variant",X.fontVariant);Jd(C,"font-weight",X.fontWeight)}};
v.inherits(qe,Eb,{svg(){return this._text},_render(r){const C=td();C.open("svg",v.extend({},Hb,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const X=this._bgcolor;X&&"transparent"!==X&&"none"!==X&&C.open("rect",{width:this._width,height:this._height,fill:X}).close();C.open("g",ya,{transform:"translate("+this._origin+")"});this.mark(C,r);C.close();this.defs(C);this._text=C.close()+"";return this},mark(r,C){const X=ie[C.marktype],
ea=X.tag,eb=[mc,X.attr];r.open("g",{"class":kc(C),"clip-path":C.clip?fb(this,C,C.group):null},Bc(C),{"pointer-events":"g"!==ea&&!1===C.interactive?"none":null});const Cb=Jb=>{const $b=this.href(Jb);$b&&r.open("a",$b);r.open(ea,this.attr(C,Jb,eb,"g"!==ea?ea:null));if("text"===ea){var rc=Nc(Jb);if(v.isArray(rc)){var Ic={x:0,dy:Rc(Jb)};for(var Fc=0;Fc<rc.length;++Fc)r.open("tspan",Fc?Ic:null).text(ud(Jb,rc[Fc])).close()}else r.text(ud(Jb,rc))}else"g"===ea&&(rc=Jb.strokeForeground,Ic=Jb.fill,Fc=Jb.stroke,
rc&&Fc&&(Jb.stroke=null),r.open("path",this.attr(C,Jb,X.background,"bgrect")).close(),r.open("g",this.attr(C,Jb,X.content)),A(Jb,hd=>this.mark(r,hd)),r.close(),rc&&Fc?(Ic&&(Jb.fill=null),Jb.stroke=Fc,r.open("path",this.attr(C,Jb,X.foreground,"bgrect")).close(),Ic&&(Jb.fill=Ic)):r.open("path",this.attr(C,Jb,X.foreground,"bgfore")).close());r.close();$b&&r.close()};X.nested?C.items&&C.items.length&&Cb(C.items[0]):A(C,Cb);return r.close()},href(r){const C=r.href;if(C){if(r=this._hrefs&&this._hrefs[C])return r;
this.sanitizeURL(C).then(X=>{X["xlink:href"]=X.href;X.href=null;(this._hrefs||(this._hrefs={}))[C]=X})}return null},attr(r,C,X,ea){const eb={},Cb=(Jb,$b,rc,Ic)=>{eb[Ic||Jb]=$b};Array.isArray(X)?X.forEach(Jb=>Jb(Cb,C,this)):X(Cb,C,this);ea&&bf(eb,C,r,ea,this._defs);return eb},defs(r){var C=this._defs.gradient;const X=this._defs.clipping;if(0!==Object.keys(C).length+Object.keys(X).length){r.open("defs");for(const eb in C){var ea=C[eb];const Cb=ea.stops;"radial"===ea.gradient?(r.open("pattern",{id:"p_"+
eb,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),r.open("rect",{width:"1",height:"1",fill:"url(#"+eb+")"}).close(),r.close(),r.open("radialGradient",{id:eb,fx:ea.x1,fy:ea.y1,fr:ea.r1,cx:ea.x2,cy:ea.y2,r:ea.r2})):r.open("linearGradient",{id:eb,x1:ea.x1,x2:ea.x2,y1:ea.y1,y2:ea.y2});for(ea=0;ea<Cb.length;++ea)r.open("stop",{offset:Cb[ea].offset,"stop-color":Cb[ea].color}).close();r.close()}for(const eb in X)C=X[eb],r.open("clipPath",{id:eb}),C.path?r.open("path",
{d:C.path}).close():r.open("rect",{x:0,y:0,width:C.width,height:C.height}).close(),r.close();r.close()}}});const Nb={};Nb.canvas=Nb.png={renderer:pc,headless:pc,handler:Zb};Nb.svg={renderer:Fd,headless:qe,handler:sc};Nb.none={};const gc=new Wa;n.Bounds=Wa;n.CanvasHandler=Zb;n.CanvasRenderer=pc;n.Gradient=function(r,C){var X=[],ea;return ea={gradient:"linear",x1:r?r[0]:0,y1:r?r[1]:0,x2:C?C[0]:1,y2:C?C[1]:0,stops:X,stop:function(eb,Cb){X.push({offset:eb,color:Cb});return ea}}};n.GroupItem=Xa;n.Handler=
Ia;n.Item=jb;n.Marks=ie;n.RenderType={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"};n.Renderer=Eb;n.ResourceLoader=Q;n.SVGHandler=sc;n.SVGRenderer=Fd;n.SVGStringRenderer=qe;n.Scenegraph=U;n.boundClip=function(r){const C=r.clip;if(v.isFunction(C))C(F(gc.clear()));else if(C)gc.set(0,0,r.group.width,r.group.height);else return;r.bounds.intersect(gc)};n.boundContext=F;n.boundItem=Sb;n.boundMark=dd;n.boundStroke=x;n.domChild=Rb;n.domClear=zb;n.domCreate=ab;n.domFind=xb;n.font=ed;n.fontFamily=Zc;n.fontSize=
Mc;n.intersect=function(r,C,X){const ea=[];C=(new Wa).union(C);const eb=r.marktype;return eb?Hd(r,C,X,ea):"group"===eb?fe(r,C,X,ea):v.error("Intersect scene must be mark node or group item.")};n.intersectBoxLine=S;n.intersectPath=ia;n.intersectPoint=ma;n.intersectRule=Za;n.lineHeight=Rc;n.markup=td;n.multiLineOffset=function(r){const C=Nc(r);return(v.isArray(C)?C.length-1:0)*Rc(r)};n.pathCurves=Va;n.pathEqual=md;n.pathParse=nb;n.pathRectangle=Ja;n.pathRender=Pa;n.pathSymbols=Ca;n.pathTrail=da;n.point=
bc;n.renderModule=function(r,C){r=String(r||"").toLowerCase();return 1<arguments.length?(Nb[r]=C,this):Nb[r]};n.resetSVGClipId=function(){xc=1};n.resetSVGDefIds=function(){xc=1;Ld=0};n.sceneEqual=Xd;n.sceneFromJSON=Nd;n.scenePickVisit=B;n.sceneToJSON=nd;n.sceneVisit=A;n.sceneZOrder=p;n.serializeXML=ca;n.textMetrics=pd;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[40]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc,Ob(29),Ob(39),Ob(17)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],v):(n="undefined"!==typeof globalThis?globalThis:n||self,v((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.vega))})(this,function(n,v,Y,Qa){function Qb(u){v.Transform.call(this,null,u)}function db(u,l,p){return l(u.bounds.clear(),u,p)}function pb(u){v.Transform.call(this,
0,u)}function Ib(u){return u._signals[":vega_identifier:"]||(u._signals[":vega_identifier:"]=u.add(0))}function Ab(u){v.Transform.call(this,null,u)}function Va(u){const l=u.groups;u=u.parent;return l&&1===l.size?l.get(Object.keys(l.object)[0]):l&&u?l.lookup(u):null}function nb(u){v.Transform.call(this,null,u)}function mb(u){v.Transform.call(this,null,u)}function Pa(u,l,p){return u[l]===p?0:(u[l]=p,1)}function Ba(u){u=u.items[0].orient;return"left"===u||"right"===u}function Ca(u,l,p,A){l=l.items[0];
var B=l.datum,E=null!=l.translate?l.translate:.5,z=l.orient,aa=+B.grid;var sa=[B.ticks?aa++:-1,B.labels?aa++:-1,aa+ +B.domain];aa=l.range;var fa=l.offset,Na=l.position,Da=l.minExtent,W=l.maxExtent;B=B.title&&l.items[sa[2]].items[0];var na=l.titlePadding,$a=l.bounds,sb=B&&Y.multiLineOffset(B),Db;ha.clear().union($a);$a.clear();-1<(Db=sa[0])&&$a.union(l.items[Db].bounds);-1<(Db=sa[1])&&$a.union(l.items[Db].bounds);switch(z){case "top":p=Na||0;A=-fa;Da=Math.max(Da,Math.min(W,-$a.y1));$a.add(0,-Da).add(aa,
0);B&&Sa(u,B,Da,na,sb,0,-1,$a);break;case "left":p=-fa;A=Na||0;Da=Math.max(Da,Math.min(W,-$a.x1));$a.add(-Da,0).add(0,aa);B&&Sa(u,B,Da,na,sb,1,-1,$a);break;case "right":p+=fa;A=Na||0;Da=Math.max(Da,Math.min(W,$a.x2));$a.add(0,0).add(Da,aa);B&&Sa(u,B,Da,na,sb,1,1,$a);break;case "bottom":p=Na||0;A+=fa;Da=Math.max(Da,Math.min(W,$a.y2));$a.add(0,0).add(aa,Da);B&&Sa(u,B,Da,na,0,0,1,$a);break;default:p=l.x,A=l.y}Y.boundStroke($a.translate(p,A),l);Pa(l,"x",p+E)|Pa(l,"y",A+E)&&(l.bounds=ha,u.dirty(l),l.bounds=
$a,u.dirty(l));return l.mark.bounds.clear().union($a)}function Sa(u,l,p,A,B,E,z,aa){const sa=l.bounds;l.auto&&(p=z*(p+B+A),B=A=0,u.dirty(l),E?A=(l.x||0)-(l.x=p):B=(l.y||0)-(l.y=p),l.mark.bounds.clear().union(sa.translate(-A,-B)),u.dirty(l));aa.union(sa)}function kb(u){return(new Y.Bounds).set(0,0,u.width||0,u.height||0)}function za(u){const l=u.bounds.clone();return l.empty()?l.set(0,0,0,0):l.translate(-(u.x||0),-(u.y||0))}function Ea(u,l,p){u=Qa.isObject(u)?u[l]:u;return null!=u?u:void 0!==p?p:0}
function gb(u){return 0>u?Math.ceil(-u):0}function xa(u,l,p){var A=!p.nodirty,B="flush"===p.bounds?kb:za,E=ha.set(0,0,0,0),z=Ea(p.align,"column"),aa=Ea(p.align,"row"),sa=Ea(p.padding,"column"),fa=Ea(p.padding,"row"),Na=p.columns||l.length,Da=0>=Na?1:Math.ceil(l.length/Na),W=l.length,na=Array(W),$a=Array(Na),sb=0,Db=Array(W),Xb=Array(Da),vc=0,Vc=Array(W),tc=Array(W),Hc=Array(W),Ma,ec,cc;for(Ma=0;Ma<Na;++Ma)$a[Ma]=0;for(Ma=0;Ma<Da;++Ma)Xb[Ma]=0;for(Ma=0;Ma<W;++Ma){var nc=l[Ma];var Ec=Hc[Ma]=B(nc);nc.x=
nc.x||0;Vc[Ma]=0;nc.y=nc.y||0;tc[Ma]=0;nc=Ma%Na;var jc=~~(Ma/Na);sb=Math.max(sb,ec=Math.ceil(Ec.x2));vc=Math.max(vc,cc=Math.ceil(Ec.y2));$a[nc]=Math.max($a[nc],ec);Xb[jc]=Math.max(Xb[jc],cc);na[Ma]=sa+gb(Ec.x1);Db[Ma]=fa+gb(Ec.y1);A&&u.dirty(l[Ma])}for(Ma=0;Ma<W;++Ma)0===Ma%Na&&(na[Ma]=0),Ma<Na&&(Db[Ma]=0);if("each"===z)for(nc=1;nc<Na;++nc){B=0;for(Ma=nc;Ma<W;Ma+=Na)B<na[Ma]&&(B=na[Ma]);for(Ma=nc;Ma<W;Ma+=Na)na[Ma]=B+$a[nc-1]}else if("all"===z){for(Ma=B=0;Ma<W;++Ma)Ma%Na&&B<na[Ma]&&(B=na[Ma]);for(Ma=
0;Ma<W;++Ma)Ma%Na&&(na[Ma]=B+sb)}else for(z=!1,nc=1;nc<Na;++nc)for(Ma=nc;Ma<W;Ma+=Na)na[Ma]+=$a[nc-1];if("each"===aa)for(jc=1;jc<Da;++jc){B=0;Ma=jc*Na;for(nc=Ma+Na;Ma<nc;++Ma)B<Db[Ma]&&(B=Db[Ma]);for(Ma=jc*Na;Ma<nc;++Ma)Db[Ma]=B+Xb[jc-1]}else if("all"===aa){B=0;for(Ma=Na;Ma<W;++Ma)B<Db[Ma]&&(B=Db[Ma]);for(Ma=Na;Ma<W;++Ma)Db[Ma]=B+vc}else for(aa=!1,jc=1;jc<Da;++jc)for(Ma=jc*Na,nc=Ma+Na;Ma<nc;++Ma)Db[Ma]+=Xb[jc-1];for(Ma=jc=0;Ma<W;++Ma)jc=na[Ma]+(Ma%Na?jc:0),Vc[Ma]+=jc-l[Ma].x;for(nc=0;nc<Na;++nc)for(na=
0,Ma=nc;Ma<W;Ma+=Na)na+=Db[Ma],tc[Ma]+=na-l[Ma].y;if(z&&Ea(p.center,"column")&&1<Da)for(Ma=0;Ma<W;++Ma)Ec="all"===z?sb:$a[Ma%Na],jc=Ec-Hc[Ma].x2-l[Ma].x-Vc[Ma],0<jc&&(Vc[Ma]+=jc/2);if(aa&&Ea(p.center,"row")&&1!==Na)for(Ma=0;Ma<W;++Ma)Ec="all"===aa?vc:Xb[~~(Ma/Na)],na=Ec-Hc[Ma].y2-l[Ma].y-tc[Ma],0<na&&(tc[Ma]+=na/2);for(Ma=0;Ma<W;++Ma)E.union(Hc[Ma].translate(Vc[Ma],tc[Ma]));jc=Ea(p.anchor,"x");na=Ea(p.anchor,"y");switch(Ea(p.anchor,"column")){case "end":jc-=E.width();break;case "middle":jc-=E.width()/
2}switch(Ea(p.anchor,"row")){case "end":na-=E.height();break;case "middle":na-=E.height()/2}jc=Math.round(jc);na=Math.round(na);E.clear();for(Ma=0;Ma<W;++Ma)l[Ma].mark.bounds.clear();for(Ma=0;Ma<W;++Ma)nc=l[Ma],nc.x+=Vc[Ma]+=jc,nc.y+=tc[Ma]+=na,E.union(nc.mark.bounds.union(nc.bounds.translate(Vc[Ma],tc[Ma]))),A&&u.dirty(nc);return E}function Ua(u,l){return"x1"===l?u.x||0:"y1"===l?u.y||0:"x2"===l?(u.x||0)+(u.width||0):"y2"===l?(u.y||0)+(u.height||0):void 0}function Ja(u,l){return u.bounds[l]}function da(u,
l,p,A,B,E,z,aa,sa,fa,Na,Da,W,na){var $a=p.length,sb=A=0,Db,Xb;if(!$a)return A;for(Db=Na;Db<$a;Db+=Da)p[Db]&&(A=z(A,sa(p[Db],fa)));if(!l.length)return A;l.length>B&&(u.warn("Grid headers exceed limit: "+B),l=l.slice(0,B));A+=E;B=0;for(E=l.length;B<E;++B)u.dirty(l[B]),l[B].mark.bounds.clear();Db=Na;B=0;for(E=l.length;B<E;++B,Db+=Da){sa=l[B];Na=sa.mark.bounds;for($a=Db;0<=$a&&null==(Xb=p[$a]);$a-=W);if(aa){$a=null==na?Xb.x:Math.round(Xb.bounds.x1+na*Xb.bounds.width());var vc=A}else $a=A,vc=null==na?
Xb.y:Math.round(Xb.bounds.y1+na*Xb.bounds.height());Na.union(sa.bounds.translate($a-(sa.x||0),vc-(sa.y||0)));sa.x=$a;sa.y=vc;u.dirty(sa);sb=z(sb,Na[fa])}return sb}function wa(u,l,p,A,B,E){if(l){u.dirty(l);var z=p;A?z=Math.round(B.x1+E*B.width()):p=Math.round(B.y1+E*B.height());l.bounds.translate(z-(l.x||0),p-(l.y||0));l.mark.bounds.clear().union(l.bounds);l.x=z;l.y=p;u.dirty(l)}}function La(u,l){const p=u[l]||{};return(A,B)=>null!=p[A]?p[A]:null!=u[A]?u[A]:B}function Ra(u,l){let p=-Infinity;u.forEach(A=>
{null!=A.offset&&(p=Math.max(p,A.offset))});return-Infinity<p?p:l}function fb(u,l,p,A,B,E,z){const aa=La(p,l);p=Ra(u,aa("offset",0));const sa=aa("anchor","start"),fa="end"===sa?1:"middle"===sa?.5:0;u={align:"each",bounds:aa("bounds","flush"),columns:"vertical"===aa("direction")?1:u.length,padding:aa("margin",8),center:aa("center"),nodirty:!0};switch(l){case "left":u.anchor={x:Math.floor(A.x1)-p,column:"end",y:fa*(z||A.height()+2*A.y1),row:sa};break;case "right":u.anchor={x:Math.ceil(A.x2)+p,y:fa*
(z||A.height()+2*A.y1),row:sa};break;case "top":u.anchor={y:Math.floor(B.y1)-p,row:"end",x:fa*(E||B.width()+2*B.x1),column:sa};break;case "bottom":u.anchor={y:Math.ceil(B.y2)+p,x:fa*(E||B.width()+2*B.x1),column:sa};break;case "top-left":u.anchor={x:p,y:p};break;case "top-right":u.anchor={x:E-p,y:p,column:"end"};break;case "bottom-left":u.anchor={x:p,y:z-p,row:"end"};break;case "bottom-right":u.anchor={x:E-p,y:z-p,column:"end",row:"end"}}return u}function Wa(u,l){l=l.items[0];var p=l.datum,A=l.orient,
B=l.bounds,E=l.x,z=l.y;l._bounds?l._bounds.clear().union(B):l._bounds=B.clone();B.clear();var aa=l.items[0].items[0];var sa=l.padding,fa=sa-aa.x,Na=sa-aa.y;if(l.datum.title){var Da=l.items[1].items[0],W=Da.anchor,na=l.titlePadding||0,$a=sa-Da.x,sb=sa-Da.y;switch(Da.orient){case "left":fa+=Math.ceil(Da.bounds.width())+na;break;case "right":case "bottom":break;default:Na+=Da.bounds.height()+na}(fa||Na)&&Q(u,aa,fa,Na);switch(Da.orient){case "left":sb+=Xa(l,aa,Da,W,1,1);break;case "right":$a+=Xa(l,aa,
Da,"end",0,0)+na;sb+=Xa(l,aa,Da,W,1,1);break;case "bottom":$a+=Xa(l,aa,Da,W,0,0);sb+=Xa(l,aa,Da,"end",-1,0,1)+na;break;default:$a+=Xa(l,aa,Da,W,0,0)}($a||sb)&&Q(u,Da,$a,sb);0>($a=Math.round(Da.bounds.x1-sa))&&(Q(u,aa,-$a,0),Q(u,Da,-$a,0))}else(fa||Na)&&Q(u,aa,fa,Na);B=jb(l,B);u=2*l.padding;aa=2*l.padding;B.empty()||(u=Math.ceil(B.width()+u),aa=Math.ceil(B.height()+aa));"symbol"===p.type&&x(l.items[0].items[0].items[0].items);"none"!==A&&(l.x=E=0,l.y=z=0);l.width=u;l.height=aa;Y.boundStroke(B.set(E,
z,E+u,z+aa),l);l.mark.bounds.clear().union(B);return l}function jb(u,l){u.items.forEach(p=>l.union(p.bounds));l.x1=u.padding;l.y1=u.padding;return l}function Xa(u,l,p,A,B,E,z){const aa=p.datum.vgrad;u=("symbol"===u.datum.type||!E&&aa||z?l:l.items[0]).bounds[B?"y2":"x2"]-u.padding;l=aa&&E?u:0;E=aa&&E?0:u;p=0>=B?0:Y.multiLineOffset(p);return Math.round("start"===A?l:"end"===A?E-p:.5*(u-p))}function Q(u,l,p,A){l.x+=p;l.y+=A;l.bounds.translate(p,A);l.mark.bounds.translate(p,A);u.dirty(l)}function x(u){const l=
u.reduce((p,A)=>{p[A.column]=Math.max(A.bounds.x2-A.x,p[A.column]||0);return p},{});u.forEach(p=>{p.width=l[p.column];p.height=p.bounds.y2-p.y})}function F(u,l,p,A,B){var E=l.items[0],z=E.orient,aa=E.anchor,sa=E.offset,fa=E.padding,Na=E.items[0].items[0],Da=E.items[1]&&E.items[1].items[0],W="left"===z||"right"===z?A:p,na=0,$a=p=0;"group"!==E.frame?"left"===z?(na=B.y2,W=B.y1):"right"===z?(na=B.y1,W=B.y2):(na=B.x1,W=B.x2):"left"===z&&(na=A,W=0);A="start"===aa?na:"end"===aa?W:(na+W)/2;if(Da&&Da.text){switch(z){case "top":case "bottom":$a=
Na.bounds.height()+fa;break;case "left":p=Na.bounds.width()+fa;break;case "right":p=-Na.bounds.width()-fa}ha.clear().union(Da.bounds);ha.translate(p-(Da.x||0),$a-(Da.y||0));Pa(Da,"x",p)|Pa(Da,"y",$a)&&(u.dirty(Da),Da.bounds.clear().union(ha),Da.mark.bounds.clear().union(ha),u.dirty(Da));ha.clear().union(Da.bounds)}else ha.clear();ha.union(Na.bounds);switch(z){case "top":z=A;B=B.y1-ha.height()-sa;break;case "left":z=B.x1-ha.width()-sa;B=A;break;case "right":z=B.x2+ha.width()+sa;B=A;break;case "bottom":z=
A;B=B.y2+sa;break;default:z=E.x,B=E.y}Pa(E,"x",z)|Pa(E,"y",B)&&(ha.translate(z,B),u.dirty(E),E.bounds.clear().union(ha),l.bounds.clear().union(ha),u.dirty(E));return E.bounds}function O(u){v.Transform.call(this,null,u)}function K(u){return u&&"legend-entry"!==u.mark.role}function ka(u,l,p){var A=l.items,B=Math.max(0,l.width||0),E=Math.max(0,l.height||0),z=(new Y.Bounds).set(0,0,B,E),aa=z.clone(),sa=z.clone(),fa=[],Na,Da;var W=0;for(Da=A.length;W<Da;++W){var na=A[W];switch(na.role){case "axis":var $a=
Ba(na)?aa:sa;$a.union(Ca(u,na,B,E));break;case "title":var sb=na;break;case "legend":fa.push(Wa(u,na));break;case "frame":case "scope":case "row-header":case "row-footer":case "row-title":case "column-header":case "column-footer":case "column-title":aa.union(na.bounds);sa.union(na.bounds);break;default:z.union(na.bounds)}}if(fa.length){const Db={};fa.forEach(Xb=>{Na=Xb.orient||"right";"none"!==Na&&(Db[Na]||(Db[Na]=[])).push(Xb)});for(const Xb in Db)A=Db[Xb],xa(u,A,fb(A,Xb,p.legends,aa,sa,B,E));fa.forEach(Xb=>
{const vc=Xb.bounds;vc.equals(Xb._bounds)||(Xb.bounds=Xb._bounds,u.dirty(Xb),Xb.bounds=vc,u.dirty(Xb));if(p.autosize&&"fit"===p.autosize.type)switch(Xb.orient){case "left":case "right":z.add(vc.x1,0).add(vc.x2,0);break;case "top":case "bottom":z.add(0,vc.y1).add(0,vc.y2)}else z.union(vc)})}z.union(aa).union(sa);sb&&z.union(F(u,sb,B,E,z));l.clip&&z.set(0,0,l.width||0,l.height||0);ia(u,l,z,p)}function ia(u,l,p,A){A=A.autosize||{};const B=A.type;if(!(1>u._autosize)&&B){var E=u._width,z=u._height,aa=
Math.max(0,l.width||0),sa=Math.max(0,Math.ceil(-p.x1));l=Math.max(0,l.height||0);var fa=Math.max(0,Math.ceil(-p.y1)),Na=Math.max(0,Math.ceil(p.x2-aa));p=Math.max(0,Math.ceil(p.y2-l));if("padding"===A.contains){const Da=u.padding();E-=Da.left+Da.right;z-=Da.top+Da.bottom}"none"===B?(fa=sa=0,aa=E,l=z):"fit"===B?(aa=Math.max(0,E-sa-Na),l=Math.max(0,z-fa-p)):"fit-x"===B?(aa=Math.max(0,E-sa-Na),z=l+fa+p):"fit-y"===B?(E=aa+sa+Na,l=Math.max(0,z-fa-p)):"pad"===B&&(E=aa+sa+Na,z=l+fa+p);u._resizeView(E,z,aa,
l,[sa,fa],A.resize)}}Qa.inherits(Qb,v.Transform,{transform(u,l){const p=l.dataflow,A=u.mark,B=A.marktype,E=Y.Marks[B],z=E.bound;let aa=A.bounds,sa;if(E.nested)A.items.length&&p.dirty(A.items[0]),aa=db(A,z),A.items.forEach(fa=>{fa.bounds.clear().union(aa)});else if("group"===B||u.modified())switch(l.visit(l.MOD,fa=>p.dirty(fa)),aa.clear(),A.items.forEach(fa=>aa.union(db(fa,z))),A.role){case "axis":case "legend":case "title":l.reflow()}else sa=l.changed(l.REM),l.visit(l.ADD,fa=>{aa.union(db(fa,z))}),
l.visit(l.MOD,fa=>{sa=sa||aa.alignsWith(fa.bounds);p.dirty(fa);aa.union(db(fa,z))}),sa&&(aa.clear(),A.items.forEach(fa=>aa.union(fa.bounds)));Y.boundClip(A);return l.modifies("bounds")}});pb.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};Qa.inherits(pb,v.Transform,{transform(u,l){const p=Ib(l.dataflow),A=u.as;let B=p.value;l.visit(l.ADD,E=>E[A]=E[A]||++B);p.set(this.value=B);return l}});Qa.inherits(Ab,v.Transform,{transform(u,l){let p=this.value;
p||(p=l.dataflow.scenegraph().mark(u.markdef,Va(u),u.index),p.group.context=u.context,u.context.group||(u.context.group=p.group),p.source=this.source,p.clip=u.clip,p.interactive=u.interactive,this.value=p);const A="group"===p.marktype?Y.GroupItem:Y.Item;l.visit(l.ADD,B=>A.call(B,p));if(u.modified("clip")||u.modified("interactive"))p.clip=u.clip,p.interactive=!!u.interactive,p.zdirty=!0,l.reflow();p.items=l.source;return l}});const ma={parity:u=>u.filter((l,p)=>p%2?l.opacity=0:1),greedy:(u,l)=>{let p;
return u.filter((A,B)=>B&&Ya(p.bounds,A.bounds,l)?A.opacity=0:(p=A,1))}},Ya=(u,l,p)=>p>Math.max(l.x1-u.x2,u.x1-l.x2,l.y1-u.y2,u.y1-l.y2),Za=(u,l)=>{for(var p=1,A=u.length,B=u[0].bounds;p<A;++p)if(Ya(B,B=u[p].bounds,l))return!0},S=u=>{u=u.bounds;return 1<u.width()&&1<u.height()},qa=(u,l,p)=>{u=u.range();var A=new Y.Bounds;"top"===l||"bottom"===l?A.set(u[0],-Infinity,u[1],Infinity):A.set(-Infinity,u[0],Infinity,u[1]);A.expand(p||1);return B=>A.encloses(B.bounds)},ta=u=>{u.forEach(l=>l.opacity=1);return u};
Qa.inherits(nb,v.Transform,{transform(u,l){const p=ma[u.method]||ma.parity,A=u.separation||0;let B=l.materialize(l.SOURCE).source,E,z;if(B&&B.length){if(!u.method)return u.modified("method")&&(ta(B),l=l.reflow(u.modified()).modifies("opacity")),l;B=B.filter(S);if(B.length){u.sort&&(B=B.slice().sort(u.sort));E=ta(B);l=l.reflow(u.modified()).modifies("opacity");if(3<=E.length&&Za(E,A)){do E=p(E,A);while(3<=E.length&&Za(E,A));3>E.length&&!Qa.peek(B).opacity&&(1<E.length&&(Qa.peek(E).opacity=0),Qa.peek(B).opacity=
1)}u.boundScale&&0<=u.boundTolerance&&(z=qa(u.boundScale,u.boundOrient,+u.boundTolerance),B.forEach(sa=>{z(sa)||(sa.opacity=0)}));var aa=E[0].mark.bounds.clear();B.forEach(sa=>{sa.opacity&&aa.union(sa.bounds)});return l}}}});Qa.inherits(mb,v.Transform,{transform(u,l){const p=l.dataflow;l.visit(l.ALL,A=>p.dirty(A));l.fields&&l.fields.zindex&&(u=l.source&&l.source[0])&&(u.mark.zdirty=!0)}});const ha=new Y.Bounds,P=(u,l)=>Math.floor(Math.min(u,l)),t=(u,l)=>Math.ceil(Math.max(u,l));Qa.inherits(O,v.Transform,
{transform(u,l){const p=l.dataflow;u.mark.items.forEach(A=>{if(u.layout){var B=u.layout;var E=A.items;for(var z=E.length,aa=0,sa,fa,Na={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};aa<z;++aa)if(sa=E[aa],fa=sa.items,"group"===sa.marktype)switch(sa.role){case "axis":case "legend":case "title":break;case "row-header":Na.rowheaders.push(...fa);break;case "row-footer":Na.rowfooters.push(...fa);break;case "column-header":Na.colheaders.push(...fa);break;case "column-footer":Na.colfooters.push(...fa);
break;case "row-title":Na.rowtitle=fa[0];break;case "column-title":Na.coltitle=fa[0];break;default:Na.marks.push(...fa)}E=Na;fa=E.marks;Na="flush"===B.bounds?Ua:Ja;z=B.offset;var Da=B.columns||fa.length,W=0>=Da?1:Math.ceil(fa.length/Da),na=W*Da;aa=xa(p,fa,B);aa.empty()&&aa.set(0,0,0,0);if(E.rowheaders){sa=Ea(B.headerBand,"row",null);var $a=da(p,E.rowheaders,fa,Da,W,-Ea(z,"rowHeader"),P,0,Na,"x1",0,Da,1,sa)}if(E.colheaders){sa=Ea(B.headerBand,"column",null);var sb=da(p,E.colheaders,fa,Da,Da,-Ea(z,
"columnHeader"),P,1,Na,"y1",0,1,Da,sa)}if(E.rowfooters){sa=Ea(B.footerBand,"row",null);var Db=da(p,E.rowfooters,fa,Da,W,Ea(z,"rowFooter"),t,0,Na,"x2",Da-1,Da,1,sa)}if(E.colfooters){sa=Ea(B.footerBand,"column",null);var Xb=da(p,E.colfooters,fa,Da,Da,Ea(z,"columnFooter"),t,1,Na,"y2",na-Da,1,Da,sa)}E.rowtitle&&(sa=Ea(B.titleAnchor,"row"),fa=Ea(z,"rowTitle"),fa="end"===sa?Db+fa:$a-fa,sa=Ea(B.titleBand,"row",.5),wa(p,E.rowtitle,fa,0,aa,sa));E.coltitle&&(sa=Ea(B.titleAnchor,"column"),fa=Ea(z,"columnTitle"),
fa="end"===sa?Xb+fa:sb-fa,sa=Ea(B.titleBand,"column",.5),wa(p,E.coltitle,fa,1,aa,sa))}ka(p,A,u)});return K(u.mark.group)?l.reflow():l}});n.bound=Qb;n.identifier=pb;n.mark=Ab;n.overlap=nb;n.render=mb;n.viewlayout=O;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[41]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc,Ob(29),Ob(38),Ob(17),Ob(18),Ob(36)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-scale vega-util d3-array d3-interpolate".split(" "),v):(n="undefined"!==typeof globalThis?globalThis:n||self,v(n.vega={},n.vega,n.vega,n.vega,n.d3,n.d3))})(this,function(n,v,Y,Qa,Qb,db){function pb(K){v.Transform.call(this,null,K)}function Ib(K){v.Transform.call(this,null,K)}function Ab(){return v.ingest({})}
function Va(K){const ka=Qa.fastmap().test(ia=>ia.exit);ka.lookup=ia=>ka.get(K(ia));return ka}function nb(K){v.Transform.call(this,null,K)}function mb(K){v.Transform.call(this,[],K)}function Pa(K){v.Transform.call(this,{},K)}function Ba(K){v.Transform.call(this,null,K)}function Ca(K){return Y.isContinuous(K)&&K!==Y.Sequential}function Sa(K){v.Transform.call(this,null,K);this.modified(!0)}function kb(K,ka,ia){Y.isLogarithmic(K)&&Math.abs(ka.reduce((ma,Ya)=>ma+(0>Ya?-1:0<Ya?1:0),0))!==ka.length&&ia.warn("Log scale domain includes zero: "+
Qa.stringValue(ka));return ka}function za(K,ka,ia){return Qa.isFunction(K)&&(ka||ia)?Y.interpolateRange(K,Ea(ka||[0,1],ia)):K}function Ea(K,ka){return ka?K.slice().reverse():K}function gb(K){v.Transform.call(this,null,K)}function xa(K){v.Transform.call(this,null,K)}function Ua(K,ka,ia,ma,Ya){ka=(ka-K.sum)/2;for(var Za=K.length,S=0,qa;S<Za;++S)qa=K[S],qa[ma]=ka,qa[Ya]=ka+=Math.abs(ia(qa))}function Ja(K,ka,ia,ma,Ya){ka=1/K.sum;for(var Za=0,S=K.length,qa=0,ta=0,ha;qa<S;++qa)ha=K[qa],ha[ma]=Za,ha[Ya]=
Za=ka*(ta+=Math.abs(ia(ha)))}function da(K,ka,ia,ma,Ya){for(var Za=ka=0,S=K.length,qa=0,ta,ha;qa<S;++qa)ha=K[qa],ta=+ia(ha),0>ta?(ha[ma]=Za,ha[Ya]=Za+=ta):(ha[ma]=ka,ha[Ya]=ka+=ta)}function wa(K,ka,ia,ma){var Ya=[],Za=u=>u(ha),S;if(null==ka)Ya.push(K.slice());else{var qa={};var ta=0;for(S=K.length;ta<S;++ta){var ha=K[ta];var P=ka.map(Za);var t=qa[P];t||(qa[P]=t=[],Ya.push(t));t.push(ha)}}Za=P=0;for(K=Ya.length;P<K;++P){t=Ya[P];ka=ta=0;for(S=t.length;ta<S;++ta)ka+=Math.abs(ma(t[ta]));t.sum=ka;ka>Za&&
(Za=ka);ia&&t.sort(ia)}Ya.max=Za;return Ya}Qa.inherits(pb,v.Transform,{transform(K,ka){if(this.value&&!K.modified())return ka.StopPropagation;var ia=ka.dataflow.locale();ka=ka.fork(ka.NO_SOURCE|ka.NO_FIELDS);var ma=this.value,Ya=K.scale,Za=Y.tickCount(Ya,null==K.count?K.values?K.values.length:10:K.count,K.minstep),S=K.format||Y.tickFormat(ia,Ya,Za,K.formatSpecifier,K.formatType,!!K.values),qa=K.values?Y.validTicks(Ya,K.values,Za):Y.tickValues(Ya,Za);ma&&(ka.rem=ma);ma=qa.map((ta,ha)=>v.ingest({index:ha/
(qa.length-1||1),value:ta,label:S(ta)}));K.extra&&ma.length&&ma.push(v.ingest({index:-1,extra:{value:ma[0].value},label:""}));ka.source=ma;this.value=ka.add=ma;return ka}});Qa.inherits(Ib,v.Transform,{transform(K,ka){var ia=ka.dataflow,ma=ka.fork(ka.NO_SOURCE|ka.NO_FIELDS),Ya=K.item||Ab,Za=K.key||v.tupleid,S=this.value;Qa.isArray(ma.encode)&&(ma.encode=null);S&&(K.modified("key")||ka.modified(Za))&&Qa.error("DataJoin does not support modified key function or fields.");S||(ka=ka.addAll(),this.value=
S=Va(Za));ka.visit(ka.ADD,qa=>{const ta=Za(qa);let ha=S.get(ta);ha?ha.exit?(S.empty--,ma.add.push(ha)):ma.mod.push(ha):(ha=Ya(qa),S.set(ta,ha),ma.add.push(ha));ha.datum=qa;ha.exit=!1});ka.visit(ka.MOD,qa=>{var ta=Za(qa);if(ta=S.get(ta))ta.datum=qa,ma.mod.push(ta)});ka.visit(ka.REM,qa=>{var ta=Za(qa);ta=S.get(ta);qa!==ta.datum||ta.exit||(ma.rem.push(ta),ta.exit=!0,++S.empty)});ka.changed(ka.ADD_MOD)&&ma.modifies("datum");(ka.clean()||K.clean&&S.empty>ia.cleanThreshold)&&ia.runAfter(S.clean);return ma}});
Qa.inherits(nb,v.Transform,{transform(K,ka){var ia=ka.fork(ka.ADD_REM),ma=K.mod||!1,Ya=K.encoders,Za=ka.encode;if(Qa.isArray(Za))if(ia.changed()||Za.every(t=>Ya[t]))Za=Za[0],ia.encode=null;else return ka.StopPropagation;var S="enter"===Za,qa=Ya.update||Qa.falsy,ta=Ya.enter||Qa.falsy,ha=Ya.exit||Qa.falsy,P=(Za&&!S?Ya[Za]:qa)||Qa.falsy;ka.changed(ka.ADD)&&(ka.visit(ka.ADD,t=>{ta(t,K);qa(t,K)}),ia.modifies(ta.output),ia.modifies(qa.output),P!==Qa.falsy&&P!==qa&&(ka.visit(ka.ADD,t=>{P(t,K)}),ia.modifies(P.output)));
ka.changed(ka.REM)&&ha!==Qa.falsy&&(ka.visit(ka.REM,t=>{ha(t,K)}),ia.modifies(ha.output));if(S||P!==Qa.falsy)Za=ka.MOD|(K.modified()?ka.REFLOW:0),S?(ka.visit(Za,t=>{const u=ta(t,K)||ma;(P(t,K)||u)&&ia.mod.push(t)}),ia.mod.length&&ia.modifies(ta.output)):ka.visit(Za,t=>{(P(t,K)||ma)&&ia.mod.push(t)}),ia.mod.length&&ia.modifies(P.output);return ia.changed()?ia:ka.StopPropagation}});Qa.inherits(mb,v.Transform,{transform(K,ka){if(null!=this.value&&!K.modified())return ka.StopPropagation;var ia=ka.dataflow.locale(),
ma=ka.fork(ka.NO_SOURCE|ka.NO_FIELDS),Ya=this.value,Za=K.type||Y.SymbolLegend,S=K.scale,qa=+K.limit,ta=Y.tickCount(S,null==K.count?5:K.count,K.minstep),ha=!!K.values||Za===Y.SymbolLegend,P=K.format||Y.labelFormat(ia,S,ta,Za,K.formatSpecifier,K.formatType,ha),t=K.values||Y.labelValues(S,ta),u;Ya&&(ma.rem=Ya);if(Za===Y.SymbolLegend){if(qa&&t.length>qa){ka.dataflow.warn("Symbol legend count exceeds limit, filtering items.");Ya=t.slice(0,qa-1);var l=!0}else Ya=t;if(Qa.isFunction(u=K.size)){K.values||
0!==S(Ya[0])||(Ya=Ya.slice(1));var p=Ya.reduce((B,E)=>Math.max(B,u(E,K)),0)}else u=Qa.constant(p=u||8);Ya=Ya.map((B,E)=>v.ingest({index:E,label:P(B,E,Ya),value:B,offset:p,size:u(B,K)}));l&&(l=t[Ya.length],Ya.push(v.ingest({index:Ya.length,label:`\u2026${t.length-Ya.length} entries`,value:l,offset:p,size:u(l,K)})))}else if(Za===Y.GradientLegend){ka=S.domain();var A=Y.scaleFraction(S,ka[0],Qa.peek(ka));3>t.length&&!K.values&&ka[0]!==Qa.peek(ka)&&(t=[ka[0],Qa.peek(ka)]);Ya=t.map((B,E)=>v.ingest({index:E,
label:P(B,E,t),value:B,perc:A(B)}))}else u=t.length-1,A=Y.labelFraction(S),Ya=t.map((B,E)=>v.ingest({index:E,label:P(B,E,t),value:B,perc:E?A(B):0,perc2:E===u?1:A(t[E+1])}));ma.source=Ya;this.value=ma.add=Ya;return ma}});const La=K=>K.source.x,Ra=K=>K.source.y,fb=K=>K.target.x,Wa=K=>K.target.y;Pa.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field","default":"source.x"},{name:"sourceY",type:"field","default":"source.y"},{name:"targetX",type:"field","default":"target.x"},
{name:"targetY",type:"field","default":"target.y"},{name:"orient",type:"enum","default":"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum","default":"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string","default":"path"}]};Qa.inherits(Pa,v.Transform,{transform(K,ka){var ia=K.sourceX||La,ma=K.sourceY||Ra,Ya=K.targetX||fb,Za=K.targetY||Wa,S=K.as||"path",qa=K.shape||"line",ta=x.get(qa+"-"+(K.orient||"vertical"))||
x.get(qa);ta||Qa.error("LinkPath unsupported type: "+K.shape+(K.orient?"-"+K.orient:""));ka.visit(ka.SOURCE,ha=>{ha[S]=ta(ia(ha),ma(ha),Ya(ha),Za(ha))});return ka.reflow(K.modified()).modifies(S)}});const jb=(K,ka,ia,ma)=>"M"+K+","+ka+"L"+ia+","+ma,Xa=(K,ka,ia,ma)=>{var Ya=ia-K,Za=ma-ka,S=Math.sqrt(Ya*Ya+Za*Za)/2;return"M"+K+","+ka+"A"+S+","+S+" "+180*Math.atan2(Za,Ya)/Math.PI+" 0 1 "+ia+","+ma},Q=(K,ka,ia,ma)=>{var Ya=ia-K;const Za=ma-ka,S=.2*(Ya+Za);Ya=.2*(Za-Ya);return"M"+K+","+ka+"C"+(K+S)+","+
(ka+Ya)+" "+(ia+Ya)+","+(ma-S)+" "+ia+","+ma},x=Qa.fastmap({line:jb,"line-radial":(K,ka,ia,ma)=>jb(ka*Math.cos(K),ka*Math.sin(K),ma*Math.cos(ia),ma*Math.sin(ia)),arc:Xa,"arc-radial":(K,ka,ia,ma)=>Xa(ka*Math.cos(K),ka*Math.sin(K),ma*Math.cos(ia),ma*Math.sin(ia)),curve:Q,"curve-radial":(K,ka,ia,ma)=>Q(ka*Math.cos(K),ka*Math.sin(K),ma*Math.cos(ia),ma*Math.sin(ia)),"orthogonal-horizontal":(K,ka,ia,ma)=>"M"+K+","+ka+"V"+ma+"H"+ia,"orthogonal-vertical":(K,ka,ia,ma)=>"M"+K+","+ka+"H"+ia+"V"+ma,"orthogonal-radial":(K,
ka,ia,ma)=>{const Ya=Math.cos(ia),Za=Math.sin(ia);return"M"+ka*Math.cos(K)+","+ka*Math.sin(K)+"A"+ka+","+ka+" 0 0,"+((Math.abs(ia-K)>Math.PI?ia<=K:ia>K)?1:0)+" "+ka*Ya+","+ka*Za+"L"+ma*Ya+","+ma*Za},"diagonal-horizontal":(K,ka,ia,ma)=>{const Ya=(K+ia)/2;return"M"+K+","+ka+"C"+Ya+","+ka+" "+Ya+","+ma+" "+ia+","+ma},"diagonal-vertical":(K,ka,ia,ma)=>{const Ya=(ka+ma)/2;return"M"+K+","+ka+"C"+K+","+Ya+" "+ia+","+Ya+" "+ia+","+ma},"diagonal-radial":(K,ka,ia,ma)=>{const Ya=Math.cos(K);K=Math.sin(K);const Za=
Math.cos(ia);ia=Math.sin(ia);const S=(ka+ma)/2;return"M"+ka*Ya+","+ka*K+"C"+S*Ya+","+S*K+" "+S*Za+","+S*ia+" "+ma*Za+","+ma*ia}});Ba.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number","default":0},{name:"endAngle",type:"number","default":6.283185307179586},{name:"sort",type:"boolean","default":!1},{name:"as",type:"string",array:!0,length:2,"default":["startAngle","endAngle"]}]};Qa.inherits(Ba,v.Transform,{transform(K,ka){var ia=K.as||
["startAngle","endAngle"],ma=ia[0],Ya=ia[1],Za=K.startAngle||0,S=null!=K.endAngle?K.endAngle:2*Math.PI,qa=ka.source,ta=qa.map(K.field||Qa.one),ha=ta.length,P=Za;Za=(S-Za)/Qb.sum(ta);S=Qb.range(ha);var t;K.sort&&S.sort((p,A)=>ta[p]-ta[A]);for(t=0;t<ha;++t){var u=ta[S[t]];var l=qa[S[t]];l[ma]=P;l[Ya]=P+=u*Za}this.value=ta;return ka.reflow(K.modified()).modifies(ia)}});const F=Qa.toSet("set modified clear type scheme schemeExtent schemeCount domain domainMin domainMid domainMax domainRaw domainImplicit nice zero bins range rangeStep round reverse interpolate interpolateGamma".split(" "));
Qa.inherits(Sa,v.Transform,{transform(K,ka){var ia=ka.dataflow,ma=this.value;var Ya=K.type;var Za="";if(Ya===Y.Sequential)Ya=Y.Sequential+"-"+Y.Linear;else{var S=K.type;if(S=Y.isContinuous(S)&&S!==Y.Time&&S!==Y.UTC&&(K.scheme||K.range&&K.range.length&&K.range.every(Qa.isString)))Za=K.rawDomain?K.rawDomain.length:K.domain?K.domain.length+ +(null!=K.domainMid):0,Za=2===Za?Y.Sequential+"-":3===Za?Y.Diverging+"-":"";Ya=(Za+Ya||Y.Linear).toLowerCase()}ma&&Ya===ma.type||(this.value=ma=Y.scale(Ya)());for(Ya in K)F[Ya]||
"padding"===Ya&&Ca(ma.type)||(Qa.isFunction(ma[Ya])?ma[Ya](K[Ya]):ia.warn("Unsupported scale property: "+Ya));Za=Ya=ma;(S=K.domainRaw)?(ma.domain(kb(ma.type,S,ia)),S=S.length):S=-1;if(-1<S)ia=S;else{var qa=K.domain;S=ma.type;var ta;!(ta=K.zero)&&(ta=void 0===K.zero)&&(ta=ma.type,ta=!ma.bins&&(ta===Y.Linear||ta===Y.Pow||ta===Y.Sqrt));if(qa){if(Ca(S)&&K.padding&&qa[0]!==Qa.peek(qa)){var ha=K.range,P=K.padding;var t=K.exponent;var u=K.constant;ha=Math.abs(Qa.peek(ha)-ha[0]);P=ha/(ha-2*P);t=S===Y.Log?
Qa.zoomLog(qa,null,P):S===Y.Sqrt?Qa.zoomPow(qa,null,P,.5):S===Y.Pow?Qa.zoomPow(qa,null,P,t||1):S===Y.Symlog?Qa.zoomSymlog(qa,null,P,u||1):Qa.zoomLinear(qa,null,P);qa=qa.slice();qa[0]=t[0];qa[qa.length-1]=t[1]}if(ta||null!=K.domainMin||null!=K.domainMax||null!=K.domainMid)t=(qa=qa.slice()).length-1||1,ta&&(0<qa[0]&&(qa[0]=0),0>qa[t]&&(qa[t]=0)),null!=K.domainMin&&(qa[0]=K.domainMin),null!=K.domainMax&&(qa[t]=K.domainMax),null!=K.domainMid&&(ta=K.domainMid,u=ta>qa[t]?t+1:ta<qa[0]?0:t,u!==t&&ia.warn("Scale domainMid exceeds domain min or max.",
ta),qa.splice(u,0,ta));ma.domain(kb(S,qa,ia));S===Y.Ordinal&&ma.unknown(K.domainImplicit?Y.scaleImplicit:void 0);K.nice&&ma.nice&&ma.nice(!0!==K.nice&&Y.tickCount(ma,K.nice)||null);ia=qa.length}else ia=0}(S=K.bins)&&!Qa.isArray(S)&&(ta=Za.domain(),ma=ta[0],ta=Qa.peek(ta),qa=S.step,t=null==S.start?ma:S.start,S=null==S.stop?ta:S.stop,qa||Qa.error("Scale bins parameter missing step property."),t<ma&&(t=qa*Math.ceil(ma/qa)),S>ta&&(S=qa*Math.floor(ta/qa)),S=Qb.range(t,S+qa/2,qa));S?Za.bins=S:Za.bins&&
delete Za.bins;Za.type===Y.BinOrdinal&&(S?K.domain||K.domainRaw||(Za.domain(S),ia=S.length):Za.bins=Za.domain());ma=ia;a:{Za=Ya.type;ia=K.round||!1;S=K.range;if(null!=K.rangeStep)Za!==Y.Band&&Za!==Y.Point&&Qa.error("Only band and point scales support rangeStep."),S=[0,K.rangeStep*Y.bandSpace(ma,Za===Y.Point?1:(null!=K.paddingInner?K.paddingInner:K.padding)||0,(null!=K.paddingOuter?K.paddingOuter:K.padding)||0)];else if(K.scheme&&(S=K.schemeExtent,Qa.isArray(K.scheme)?ta=Y.interpolateColors(K.scheme,
K.interpolate,K.interpolateGamma):(ta=K.scheme.toLowerCase(),(ta=Y.scheme(ta))||Qa.error(`Unrecognized scheme name: ${K.scheme}`)),ma=Za===Y.Threshold?ma+1:Za===Y.BinOrdinal?ma-1:Za===Y.Quantile||Za===Y.Quantize?+K.schemeCount||5:ma,S=Y.isInterpolating(Za)?za(ta,S,K.reverse):Qa.isFunction(ta)?Y.quantizeInterpolator(za(ta,S),ma):Za===Y.Ordinal?ta:ta.slice(0,ma),Qa.isFunction(S)))if(Ya.interpolator){Ya.interpolator(S);break a}else Qa.error(`Scale type ${Za} does not support interpolating color schemes.`);
S&&Y.isInterpolating(Za)?Ya.interpolator(Y.interpolateColors(Ea(S,K.reverse),K.interpolate,K.interpolateGamma)):(S&&K.interpolate&&Ya.interpolate?Ya.interpolate(Y.interpolate(K.interpolate,K.interpolateGamma)):Qa.isFunction(Ya.round)?Ya.round(ia):Qa.isFunction(Ya.rangeRound)&&Ya.interpolate(ia?db.interpolateRound:db.interpolate),S&&Ya.range(Ea(S,K.reverse)))}return ka.fork(ka.NO_SOURCE|ka.NO_FIELDS)}});Qa.inherits(gb,v.Transform,{transform(K,ka){const ia=K.modified("sort")||ka.changed(ka.ADD)||ka.modified(K.sort.fields)||
ka.modified("datum");ia&&ka.source.sort(v.stableCompare(K.sort));this.modified(ia);return ka}});const O=["y0","y1"];xa.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum","default":"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,"default":O}]};Qa.inherits(xa,v.Transform,{transform(K,ka){var ia=K.as||O,ma=ia[0],Ya=ia[1],Za=v.stableCompare(K.sort),
S=K.field||Qa.one,qa="center"===K.offset?Ua:"normalize"===K.offset?Ja:da,ta;Za=wa(ka.source,K.groupby,Za,S);var ha=0;var P=Za.length;for(ta=Za.max;ha<P;++ha)qa(Za[ha],ta,S,ma,Ya);return ka.reflow(K.modified()).modifies(ia)}});n.axisticks=pb;n.datajoin=Ib;n.encode=nb;n.legendentries=mb;n.linkpath=Pa;n.pie=Ba;n.scale=Sa;n.sortitems=gb;n.stack=xa;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[42]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc,Ob(18)):"function"===typeof define&&define.amd?define(["exports","d3-array"],v):(n=n||self,v(n.d3=n.d3||{},n.d3))})(this,function(n,v){function Y(ja){return 1<ja?0:-1>ja?Hd:Math.acos(ja)}function Qa(ja){return 1<ja?fe:-1>ja?-fe:Math.asin(ja)}function Qb(ja){return(ja=Ub(ja/2))*ja}function db(){}function pb(ja,Ka){if(ja&&Re.hasOwnProperty(ja.type))Re[ja.type](ja,Ka)}function Ib(ja,Ka,ib){var vb=
-1;ib=ja.length-ib;for(Ka.lineStart();++vb<ib;){var Lb=ja[vb];Ka.point(Lb[0],Lb[1],Lb[2])}Ka.lineEnd()}function Ab(ja,Ka){var ib=-1,vb=ja.length;for(Ka.polygonStart();++ib<vb;)Ib(ja[ib],Ka,1);Ka.polygonEnd()}function Va(ja,Ka){if(ja&&df.hasOwnProperty(ja.type))df[ja.type](ja,Ka);else pb(ja,Ka)}function nb(){Pb.point=Pa}function mb(){Ba(I,R)}function Pa(ja,Ka){Pb.point=Ba;I=ja;R=Ka;ja*=xd;Ka*=xd;ra=ja;Fa=wd(Ka=Ka/2+Ce);Oa=Ub(Ka)}function Ba(ja,Ka){ja*=xd;Ka*=xd;Ka=Ka/2+Ce;var ib=ja-ra,vb=0<=ib?1:-1,
Lb=vb*ib;ib=wd(Ka);Ka=Ub(Ka);var c=Oa*Ka,k=Fa*ib+c*wd(Lb);vb=c*vb*Ub(Lb);Ve.add(ne(vb,k));ra=ja;Fa=ib;Oa=Ka}function Ca(ja){return[ne(ja[1],ja[0]),Qa(ja[2])]}function Sa(ja){var Ka=ja[0];ja=ja[1];var ib=wd(ja);return[ib*wd(Ka),ib*Ub(Ka),Ub(ja)]}function kb(ja,Ka){return ja[0]*Ka[0]+ja[1]*Ka[1]+ja[2]*Ka[2]}function za(ja,Ka){return[ja[1]*Ka[2]-ja[2]*Ka[1],ja[2]*Ka[0]-ja[0]*Ka[2],ja[0]*Ka[1]-ja[1]*Ka[0]]}function Ea(ja,Ka){ja[0]+=Ka[0];ja[1]+=Ka[1];ja[2]+=Ka[2]}function gb(ja,Ka){return[ja[0]*Ka,ja[1]*
Ka,ja[2]*Ka]}function xa(ja){var Ka=Yd(ja[0]*ja[0]+ja[1]*ja[1]+ja[2]*ja[2]);ja[0]/=Ka;ja[1]/=Ka;ja[2]/=Ka}function Ua(ja,Ka){Zd.push(ye=[dc=ja,oc=ja]);Ka<xc&&(xc=Ka);Ka>yc&&(yc=Ka)}function Ja(ja,Ka){var ib=Sa([ja*xd,Ka*xd]);if(od){var vb=za(od,ib);vb=za([vb[1],-vb[0],0],vb);xa(vb);vb=Ca(vb);var Lb=ja-Wc,c=0<Lb?1:-1,k=vb[0]*md*c;Lb=180<Ld(Lb);Lb^(c*Wc<k&&k<c*ja)?(vb=vb[1]*md,vb>yc&&(yc=vb)):(k=(k+360)%360-180,Lb^(c*Wc<k&&k<c*ja))?(vb=-vb[1]*md,vb<xc&&(xc=vb)):(Ka<xc&&(xc=Ka),Ka>yc&&(yc=Ka));Lb?ja<
Wc?Wa(dc,ja)>Wa(dc,oc)&&(oc=ja):Wa(ja,oc)>Wa(dc,oc)&&(dc=ja):oc>=dc?(ja<dc&&(dc=ja),ja>oc&&(oc=ja)):ja>Wc?Wa(dc,ja)>Wa(dc,oc)&&(oc=ja):Wa(ja,oc)>Wa(dc,oc)&&(dc=ja)}else Zd.push(ye=[dc=ja,oc=ja]);Ka<xc&&(xc=Ka);Ka>yc&&(yc=Ka);od=ib;Wc=ja}function da(){ve.point=Ja}function wa(){ye[0]=dc;ye[1]=oc;ve.point=Ua;od=null}function La(ja,Ka){if(od){var ib=ja-Wc;jd.add(180<Ld(ib)?ib+(0<ib?360:-360):ib)}else Tc=ja,he=Ka;Pb.point(ja,Ka);Ja(ja,Ka)}function Ra(){Pb.lineStart()}function fb(){La(Tc,he);Pb.lineEnd();
1E-6<Ld(jd)&&(dc=-(oc=180));ye[0]=dc;ye[1]=oc;od=null}function Wa(ja,Ka){return 0>(Ka-=ja)?Ka+360:Ka}function jb(ja,Ka){return ja[0]-Ka[0]}function Xa(ja,Ka){return ja[0]<=ja[1]?ja[0]<=Ka&&Ka<=ja[1]:Ka<ja[0]||ja[1]<Ka}function Q(ja,Ka){ja*=xd;Ka*=xd;var ib=wd(Ka);x(ib*wd(ja),ib*Ub(ja),Ub(Ka))}function x(ja,Ka,ib){++We;bd+=(ja-bd)/We;Be+=(Ka-Be)/We;ue+=(ib-ue)/We}function F(){ac.point=O}function O(ja,Ka){ja*=xd;Ka*=xd;var ib=wd(Ka);Gb=ib*wd(ja);Hb=ib*Ub(ja);Tb=Ub(Ka);ac.point=K;x(Gb,Hb,Tb)}function K(ja,
Ka){ja*=xd;Ka*=xd;var ib=wd(Ka),vb=ib*wd(ja);ja=ib*Ub(ja);Ka=Ub(Ka);var Lb=ne(Yd((Lb=Hb*Ka-Tb*ja)*Lb+(Lb=Tb*vb-Gb*Ka)*Lb+(Lb=Gb*ja-Hb*vb)*Lb),Gb*vb+Hb*ja+Tb*Ka);wf+=Lb;De+=Lb*(Gb+(Gb=vb));vf+=Lb*(Hb+(Hb=ja));nf+=Lb*(Tb+(Tb=Ka));x(Gb,Hb,Tb)}function ka(){ac.point=Q}function ia(){ac.point=Ya}function ma(){Za(Z,cb);ac.point=Q}function Ya(ja,Ka){Z=ja;cb=Ka;ja*=xd;Ka*=xd;ac.point=Za;var ib=wd(Ka);Gb=ib*wd(ja);Hb=ib*Ub(ja);Tb=Ub(Ka);x(Gb,Hb,Tb)}function Za(ja,Ka){ja*=xd;Ka*=xd;var ib=wd(Ka),vb=ib*wd(ja);
ja=ib*Ub(ja);Ka=Ub(Ka);ib=Hb*Ka-Tb*ja;var Lb=Tb*vb-Gb*Ka,c=Gb*ja-Hb*vb,k=wc(ib,Lb,c),D=Qa(k);k=k&&-D/k;Cf.add(k*ib);Ne.add(k*Lb);H.add(k*c);wf+=D;De+=D*(Gb+(Gb=vb));vf+=D*(Hb+(Hb=ja));nf+=D*(Tb+(Tb=Ka));x(Gb,Hb,Tb)}function S(ja){return function(){return ja}}function qa(ja,Ka){function ib(vb,Lb){return vb=ja(vb,Lb),Ka(vb[0],vb[1])}ja.invert&&Ka.invert&&(ib.invert=function(vb,Lb){return vb=Ka.invert(vb,Lb),vb&&ja.invert(vb[0],vb[1])});return ib}function ta(ja,Ka){return[Ld(ja)>Hd?ja+Math.round(-ja/
Xd)*Xd:ja,Ka]}function ha(ja,Ka,ib){return(ja%=Xd)?Ka||ib?qa(t(ja),u(Ka,ib)):t(ja):Ka||ib?u(Ka,ib):ta}function P(ja){return function(Ka,ib){return Ka+=ja,[Ka>Hd?Ka-Xd:Ka<-Hd?Ka+Xd:Ka,ib]}}function t(ja){var Ka=P(ja);Ka.invert=P(-ja);return Ka}function u(ja,Ka){function ib(D,ba){var Aa=wd(ba),Fb=wd(D)*Aa;D=Ub(D)*Aa;ba=Ub(ba);Aa=ba*vb+Fb*Lb;return[ne(D*c-Aa*k,Fb*vb-ba*Lb),Qa(Aa*c+D*k)]}var vb=wd(ja),Lb=Ub(ja),c=wd(Ka),k=Ub(Ka);ib.invert=function(D,ba){var Aa=wd(ba),Fb=wd(D)*Aa;D=Ub(D)*Aa;ba=Ub(ba);
Aa=ba*c-D*k;return[ne(D*c+ba*k,Fb*vb+Aa*Lb),Qa(Aa*vb-Fb*Lb)]};return ib}function l(ja){function Ka(ib){ib=ja(ib[0]*xd,ib[1]*xd);return ib[0]*=md,ib[1]*=md,ib}ja=ha(ja[0]*xd,ja[1]*xd,2<ja.length?ja[2]*xd:0);Ka.invert=function(ib){ib=ja.invert(ib[0]*xd,ib[1]*xd);return ib[0]*=md,ib[1]*=md,ib};return Ka}function p(ja,Ka,ib,vb,Lb,c){if(ib){var k=wd(Ka),D=Ub(Ka);ib*=vb;if(null==Lb)Lb=Ka+vb*Xd,c=Ka-ib/2;else if(Lb=A(k,Lb),c=A(k,c),0<vb?Lb<c:Lb>c)Lb+=vb*Xd;for(;0<vb?Lb>c:Lb<c;Lb-=ib)Ka=Ca([k,-D*wd(Lb),-D*
Ub(Lb)]),ja.point(Ka[0],Ka[1])}}function A(ja,Ka){Ka=Sa(Ka);Ka[0]-=ja;xa(Ka);ja=Y(-Ka[1]);return((0>-Ka[2]?-ja:ja)+Xd-1E-6)%Xd}function B(){var ja=[],Ka;return{point:function(ib,vb,Lb){Ka.push([ib,vb,Lb])},lineStart:function(){ja.push(Ka=[])},lineEnd:db,rejoin:function(){1<ja.length&&ja.push(ja.pop().concat(ja.shift()))},result:function(){var ib=ja;ja=[];Ka=null;return ib}}}function E(ja,Ka){return 1E-6>Ld(ja[0]-Ka[0])&&1E-6>Ld(ja[1]-Ka[1])}function z(ja,Ka,ib,vb){this.x=ja;this.z=Ka;this.o=ib;this.e=
vb;this.v=!1;this.n=this.p=null}function aa(ja,Ka,ib,vb,Lb){var c=[],k=[];ja.forEach(function(Kb){if(!(0>=(Wb=Kb.length-1))){var Wb,qc=Kb[0],Yc=Kb[Wb];if(E(qc,Yc)){if(!qc[2]&&!Yc[2]){Lb.lineStart();for(D=0;D<Wb;++D)Lb.point((qc=Kb[D])[0],qc[1]);Lb.lineEnd();return}Yc[0]+=2E-6}c.push(Wb=new z(qc,Kb,null,!0));k.push(Wb.o=new z(qc,null,Wb,!1));c.push(Wb=new z(Yc,Kb,null,!1));k.push(Wb.o=new z(Yc,null,Wb,!0))}});if(c.length){k.sort(Ka);sa(c);sa(k);var D=0;for(ja=k.length;D<ja;++D)k[D].e=ib=!ib;ib=c[0];
for(var ba;;){for(var Aa=ib,Fb=!0;Aa.v;)if((Aa=Aa.n)===ib)return;Ka=Aa.z;Lb.lineStart();do{Aa.v=Aa.o.v=!0;if(Aa.e){if(Fb)for(D=0,ja=Ka.length;D<ja;++D)Lb.point((ba=Ka[D])[0],ba[1]);else vb(Aa.x,Aa.n.x,1,Lb);Aa=Aa.n}else{if(Fb)for(Ka=Aa.p.z,D=Ka.length-1;0<=D;--D)Lb.point((ba=Ka[D])[0],ba[1]);else vb(Aa.x,Aa.p.x,-1,Lb);Aa=Aa.p}Aa=Aa.o;Ka=Aa.z;Fb=!Fb}while(!Aa.v);Lb.lineEnd()}}}function sa(ja){if(Ka=ja.length){for(var Ka,ib=0,vb=ja[0],Lb;++ib<Ka;)vb.n=Lb=ja[ib],Lb.p=vb,vb=Lb;vb.n=Lb=ja[0];Lb.p=vb}}
function fa(ja){return Ld(ja[0])<=Hd?ja[0]:oe(ja[0])*((Ld(ja[0])+Hd)%Xd-Hd)}function Na(ja,Ka){var ib=fa(Ka);Ka=Ka[1];var vb=Ub(Ka),Lb=[Ub(ib),-wd(ib),0],c=0,k=0,D=new v.Adder;1===vb?Ka=fe+1E-6:-1===vb&&(Ka=-fe-1E-6);vb=0;for(var ba=ja.length;vb<ba;++vb)if(Fb=(Aa=ja[vb]).length){var Aa,Fb,Kb=Aa[Fb-1],Wb=fa(Kb),qc=Kb[1]/2+Ce,Yc=Ub(qc),cd=wd(qc);for(qc=0;qc<Fb;++qc,Wb=Md,Yc=Td,cd=vd,Kb=Rd){var Rd=Aa[qc],Md=fa(Rd);vd=Rd[1]/2+Ce;var Td=Ub(vd),vd=wd(vd),$c=Md-Wb,Id=0<=$c?1:-1,Fe=Id*$c,Te=Fe>Hd;Yc*=Td;
D.add(ne(Yc*Id*Ub(Fe),cd*vd+Yc*wd(Fe)));c+=Te?$c+Id*Xd:$c;Te^Wb>=ib^Md>=ib&&(Kb=za(Sa(Kb),Sa(Rd)),xa(Kb),Wb=za(Lb,Kb),xa(Wb),Wb=(Te^0<=$c?-1:1)*Qa(Wb[2]),Ka>Wb||Ka===Wb&&(Kb[0]||Kb[1]))&&(k+=Te^0<=$c?1:-1)}}return(-1E-6>c||1E-6>c&&-1E-12>D)^k&1}function Da(ja,Ka,ib,vb){return function(Lb){function c($c,Id){ja($c,Id)&&Lb.point($c,Id)}function k($c,Id){Wb.point($c,Id)}function D(){vd.point=k;Wb.lineStart()}function ba(){vd.point=c;Wb.lineEnd()}function Aa($c,Id){Td.push([$c,Id]);Yc.point($c,Id)}function Fb(){Yc.lineStart();
Td=[]}function Kb(){Aa(Td[0][0],Td[0][1]);Yc.lineEnd();var $c=Yc.clean(),Id=qc.result(),Fe=Id.length,Te;Td.pop();Rd.push(Td);Td=null;if(Fe)if($c&1){if(Fe=Id[0],0<(Id=Fe.length-1)){cd||(Lb.polygonStart(),cd=!0);Lb.lineStart();for($c=0;$c<Id;++$c)Lb.point((Te=Fe[$c])[0],Te[1]);Lb.lineEnd()}}else 1<Fe&&$c&2&&Id.push(Id.pop().concat(Id.shift())),Md.push(Id.filter(W))}var Wb=Ka(Lb),qc=B(),Yc=Ka(qc),cd=!1,Rd,Md,Td,vd={point:c,lineStart:D,lineEnd:ba,polygonStart:function(){vd.point=Aa;vd.lineStart=Fb;vd.lineEnd=
Kb;Md=[];Rd=[]},polygonEnd:function(){vd.point=c;vd.lineStart=D;vd.lineEnd=ba;Md=v.merge(Md);var $c=Na(Rd,vb);Md.length?(cd||(Lb.polygonStart(),cd=!0),aa(Md,na,$c,ib,Lb)):$c&&(cd||(Lb.polygonStart(),cd=!0),Lb.lineStart(),ib(null,null,1,Lb),Lb.lineEnd());cd&&(Lb.polygonEnd(),cd=!1);Md=Rd=null},sphere:function(){Lb.polygonStart();Lb.lineStart();ib(null,null,1,Lb);Lb.lineEnd();Lb.polygonEnd()}};return vd}}function W(ja){return 1<ja.length}function na(ja,Ka){return(0>(ja=ja.x)[0]?ja[1]-fe-1E-6:fe-ja[1])-
(0>(Ka=Ka.x)[0]?Ka[1]-fe-1E-6:fe-Ka[1])}function $a(ja){function Ka(ba,Aa){return wd(ba)*wd(Aa)>Lb}function ib(ba,Aa,Fb){var Kb=Sa(ba),Wb=Sa(Aa),qc=[1,0,0];Wb=za(Kb,Wb);var Yc=kb(Wb,Wb);Kb=Wb[0];var cd=Yc-Kb*Kb;if(!cd)return!Fb&&ba;Yc=Lb*Yc/cd;cd=-Lb*Kb/cd;Kb=za(qc,Wb);qc=gb(qc,Yc);Wb=gb(Wb,cd);Ea(qc,Wb);Wb=kb(qc,Kb);Yc=kb(Kb,Kb);cd=Wb*Wb-Yc*(kb(qc,qc)-1);if(!(0>cd)){var Rd=Yd(cd);cd=gb(Kb,(-Wb-Rd)/Yc);Ea(cd,qc);cd=Ca(cd);if(!Fb)return cd;Fb=ba[0];var Md=Aa[0];ba=ba[1];Aa=Aa[1];if(Md<Fb){var Td=Fb;
Fb=Md;Md=Td}var vd=Md-Fb,$c=1E-6>Ld(vd-Hd);!$c&&Aa<ba&&(Td=ba,ba=Aa,Aa=Td);if($c||1E-6>vd?$c?0<ba+Aa^cd[1]<(1E-6>Ld(cd[0]-Fb)?ba:Aa):ba<=cd[1]&&cd[1]<=Aa:vd>Hd^(Fb<=cd[0]&&cd[0]<=Md))return Aa=gb(Kb,(-Wb+Rd)/Yc),Ea(Aa,qc),[cd,Ca(Aa)]}}function vb(ba,Aa){var Fb=k?ja:Hd-ja,Kb=0;ba<-Fb?Kb|=1:ba>Fb&&(Kb|=2);Aa<-Fb?Kb|=4:Aa>Fb&&(Kb|=8);return Kb}var Lb=wd(ja),c=6*xd,k=0<Lb,D=1E-6<Ld(Lb);return Da(Ka,function(ba){var Aa,Fb,Kb,Wb,qc;return{lineStart:function(){Wb=Kb=!1;qc=1},point:function(Yc,cd){var Rd=
[Yc,cd],Md=Ka(Yc,cd);cd=k?Md?0:vb(Yc,cd):Md?vb(Yc+(0>Yc?Hd:-Hd),cd):0;!Aa&&(Wb=Kb=Md)&&ba.lineStart();Md!==Kb&&(Yc=ib(Aa,Rd),!Yc||E(Aa,Yc)||E(Rd,Yc))&&(Rd[2]=1);if(Md!==Kb)qc=0,Md?(ba.lineStart(),Yc=ib(Rd,Aa),ba.point(Yc[0],Yc[1])):(Yc=ib(Aa,Rd),ba.point(Yc[0],Yc[1],2),ba.lineEnd()),Aa=Yc;else if(D&&Aa&&k^Md){var Td;cd&Fb||!(Td=ib(Rd,Aa,!0))||(qc=0,k?(ba.lineStart(),ba.point(Td[0][0],Td[0][1]),ba.point(Td[1][0],Td[1][1]),ba.lineEnd()):(ba.point(Td[1][0],Td[1][1]),ba.lineEnd(),ba.lineStart(),ba.point(Td[0][0],
Td[0][1],3)))}!Md||Aa&&E(Aa,Rd)||ba.point(Rd[0],Rd[1]);Aa=Rd;Kb=Md;Fb=cd},lineEnd:function(){Kb&&ba.lineEnd();Aa=null},clean:function(){return qc|(Wb&&Kb)<<1}}},function(ba,Aa,Fb,Kb){p(Kb,ja,c,Fb,ba,Aa)},k?[0,-ja]:[-Hd,ja-Hd])}function sb(ja,Ka,ib,vb,Lb,c){var k=ja[0],D=ja[1],ba=0,Aa=1,Fb=Ka[0]-k,Kb=Ka[1]-D;ib-=k;if(Fb||!(0<ib)){ib/=Fb;if(0>Fb){if(ib<ba)return;ib<Aa&&(Aa=ib)}else if(0<Fb){if(ib>Aa)return;ib>ba&&(ba=ib)}ib=Lb-k;if(Fb||!(0>ib)){ib/=Fb;if(0>Fb){if(ib>Aa)return;ib>ba&&(ba=ib)}else if(0<
Fb){if(ib<ba)return;ib<Aa&&(Aa=ib)}ib=vb-D;if(Kb||!(0<ib)){ib/=Kb;if(0>Kb){if(ib<ba)return;ib<Aa&&(Aa=ib)}else if(0<Kb){if(ib>Aa)return;ib>ba&&(ba=ib)}ib=c-D;if(Kb||!(0>ib)){ib/=Kb;if(0>Kb){if(ib>Aa)return;ib>ba&&(ba=ib)}else if(0<Kb){if(ib<ba)return;ib<Aa&&(Aa=ib)}0<ba&&(ja[0]=k+ba*Fb,ja[1]=D+ba*Kb);1>Aa&&(Ka[0]=k+Aa*Fb,Ka[1]=D+Aa*Kb);return!0}}}}}function Db(ja,Ka,ib,vb){function Lb(ba,Aa,Fb,Kb){var Wb=0,qc=0;if(null==ba||(Wb=c(ba,Fb))!==(qc=c(Aa,Fb))||0>D(ba,Aa)^0<Fb){do Kb.point(0===Wb||3===Wb?
ja:ib,1<Wb?vb:Ka);while((Wb=(Wb+Fb+4)%4)!==qc)}else Kb.point(Aa[0],Aa[1])}function c(ba,Aa){return 1E-6>Ld(ba[0]-ja)?0<Aa?0:3:1E-6>Ld(ba[0]-ib)?0<Aa?2:1:1E-6>Ld(ba[1]-Ka)?0<Aa?1:0:0<Aa?3:2}function k(ba,Aa){return D(ba.x,Aa.x)}function D(ba,Aa){var Fb=c(ba,1),Kb=c(Aa,1);return Fb!==Kb?Fb-Kb:0===Fb?Aa[1]-ba[1]:1===Fb?ba[0]-Aa[0]:2===Fb?ba[1]-Aa[1]:Aa[0]-ba[0]}return function(ba){function Aa(ze,Ie){ja<=ze&&ze<=ib&&Ka<=Ie&&Ie<=vb&&Kb.point(ze,Ie)}function Fb(ze,Ie){var If=ja<=ze&&ze<=ib&&Ka<=Ie&&Ie<=
vb;Yc&&cd.push([ze,Ie]);if(Fe)Rd=ze,Md=Ie,Td=If,Fe=!1,If&&(Kb.lineStart(),Kb.point(ze,Ie));else if(If&&Id)Kb.point(ze,Ie);else{var Df=[vd=Math.max(-1E9,Math.min(1E9,vd)),$c=Math.max(-1E9,Math.min(1E9,$c))],mf=[ze=Math.max(-1E9,Math.min(1E9,ze)),Ie=Math.max(-1E9,Math.min(1E9,Ie))];sb(Df,mf,ja,Ka,ib,vb)?(Id||(Kb.lineStart(),Kb.point(Df[0],Df[1])),Kb.point(mf[0],mf[1]),If||Kb.lineEnd(),Te=!1):If&&(Kb.lineStart(),Kb.point(ze,Ie),Te=!1)}vd=ze;$c=Ie;Id=If}var Kb=ba,Wb=B(),qc,Yc,cd,Rd,Md,Td,vd,$c,Id,Fe,
Te,$d={point:Aa,lineStart:function(){$d.point=Fb;Yc&&Yc.push(cd=[]);Fe=!0;Id=!1;vd=$c=NaN},lineEnd:function(){qc&&(Fb(Rd,Md),Td&&Id&&Wb.rejoin(),qc.push(Wb.result()));$d.point=Aa;Id&&Kb.lineEnd()},polygonStart:function(){Kb=Wb;qc=[];Yc=[];Te=!0},polygonEnd:function(){for(var ze,Ie=ze=0,If=Yc.length;Ie<If;++Ie){var Df=Yc[Ie],mf=1,yg=Df.length,Cd=Df[0],tf=Cd[0];for(Cd=Cd[1];mf<yg;++mf){var pg=tf;var ag=Cd;Cd=Df[mf];tf=Cd[0];Cd=Cd[1];ag<=vb?Cd>vb&&(tf-pg)*(vb-ag)>(Cd-ag)*(ja-pg)&&++ze:Cd<=vb&&(tf-pg)*
(vb-ag)<(Cd-ag)*(ja-pg)&&--ze}}Ie=Te&&ze;If=(qc=v.merge(qc)).length;if(Ie||If)ba.polygonStart(),Ie&&(ba.lineStart(),Lb(null,null,1,ba),ba.lineEnd()),If&&aa(qc,k,ze,Lb,ba),ba.polygonEnd();Kb=ba;qc=Yc=cd=null}};return $d}}function Xb(){Ed.point=Ed.lineEnd=db}function vc(ja,Ka){ja*=xd;Ka*=xd;Sc=ja;gd=Ub(Ka);zd=wd(Ka);Ed.point=Vc}function Vc(ja,Ka){ja*=xd;Ka*=xd;var ib=Ub(Ka);Ka=wd(Ka);var vb=Ld(ja-Sc),Lb=wd(vb);vb=Ub(vb);vb*=Ka;var c=zd*ib-gd*Ka*Lb;Lb=gd*ib+zd*Ka*Lb;Dc.add(ne(Yd(vb*vb+c*c),Lb));Sc=ja;
gd=ib;zd=Ka}function tc(ja){Dc=new v.Adder;Va(ja,Ed);return+Dc}function Hc(ja,Ka){pd[0]=ja;pd[1]=Ka;return tc(Ee)}function Ma(ja,Ka){return ja&&ke.hasOwnProperty(ja.type)?ke[ja.type](ja,Ka):!1}function ec(ja,Ka){for(var ib,vb,Lb,c=0,k=ja.length;c<k;c++){vb=Hc(ja[c],Ka);if(0===vb||0<c&&(Lb=Hc(ja[c],ja[c-1]),0<Lb&&ib<=Lb&&vb<=Lb&&(ib+vb-Lb)*(1-Math.pow((ib-vb)/Lb,2))<1E-12*Lb))return!0;ib=vb}return!1}function cc(ja,Ka){return!!Na(ja.map(nc),Ec(Ka))}function nc(ja){return ja=ja.map(Ec),ja.pop(),ja}function Ec(ja){return[ja[0]*
xd,ja[1]*xd]}function jc(ja,Ka,ib){var vb=v.range(ja,Ka-1E-6,ib).concat(Ka);return function(Lb){return vb.map(function(c){return[Lb,c]})}}function Mc(ja,Ka,ib){var vb=v.range(ja,Ka-1E-6,ib).concat(Ka);return function(Lb){return vb.map(function(c){return[c,Lb]})}}function Rc(){function ja(){return{type:"MultiLineString",coordinates:Ka()}}function Ka(){return v.range(Ae(c/Wb)*Wb,Lb,Wb).map(Rd).concat(v.range(Ae(Aa/qc)*qc,ba,qc).map(Md)).concat(v.range(Ae(vb/Fb)*Fb,ib,Fb).filter(function(vd){return 1E-6<
Ld(vd%Wb)}).map(Yc)).concat(v.range(Ae(D/Kb)*Kb,k,Kb).filter(function(vd){return 1E-6<Ld(vd%qc)}).map(cd))}var ib,vb,Lb,c,k,D,ba,Aa,Fb=10,Kb=Fb,Wb=90,qc=360,Yc,cd,Rd,Md,Td=2.5;ja.lines=function(){return Ka().map(function(vd){return{type:"LineString",coordinates:vd}})};ja.outline=function(){return{type:"Polygon",coordinates:[Rd(c).concat(Md(ba).slice(1),Rd(Lb).reverse().slice(1),Md(Aa).reverse().slice(1))]}};ja.extent=function(vd){return arguments.length?ja.extentMajor(vd).extentMinor(vd):ja.extentMinor()};
ja.extentMajor=function(vd){if(!arguments.length)return[[c,Aa],[Lb,ba]];c=+vd[0][0];Lb=+vd[1][0];Aa=+vd[0][1];ba=+vd[1][1];c>Lb&&(vd=c,c=Lb,Lb=vd);Aa>ba&&(vd=Aa,Aa=ba,ba=vd);return ja.precision(Td)};ja.extentMinor=function(vd){if(!arguments.length)return[[vb,D],[ib,k]];vb=+vd[0][0];ib=+vd[1][0];D=+vd[0][1];k=+vd[1][1];vb>ib&&(vd=vb,vb=ib,ib=vd);D>k&&(vd=D,D=k,k=vd);return ja.precision(Td)};ja.step=function(vd){return arguments.length?ja.stepMajor(vd).stepMinor(vd):ja.stepMinor()};ja.stepMajor=function(vd){if(!arguments.length)return[Wb,
qc];Wb=+vd[0];qc=+vd[1];return ja};ja.stepMinor=function(vd){if(!arguments.length)return[Fb,Kb];Fb=+vd[0];Kb=+vd[1];return ja};ja.precision=function(vd){if(!arguments.length)return Td;Td=+vd;Yc=jc(D,k,90);cd=Mc(vb,ib,Td);Rd=jc(Aa,ba,90);Md=Mc(c,Lb,Td);return ja};return ja.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Nc(){He.point=ud}function ud(ja,Ka){He.point=ce;Kd=je=ja;Xe=lf=Ka}function ce(ja,Ka){qf.add(lf*ja-je*Ka);je=ja;lf=Ka}function Zc(){ce(Kd,
Xe)}function ed(ja,Ka){ua+=ja;ya+=Ka;++Ta}function Pd(){eb.point=Ha}function Ha(ja,Ka){eb.point=qb;ed(X=ja,ea=Ka)}function qb(ja,Ka){var ib=ja-X,vb=Ka-ea;ib=Yd(ib*ib+vb*vb);ob+=ib*(X+ja)/2;hb+=ib*(ea+Ka)/2;tb+=ib;ed(X=ja,ea=Ka)}function Sb(){eb.point=ed}function dd(){eb.point=Nd}function nd(){Wd(r,C)}function Nd(ja,Ka){eb.point=Wd;ed(r=X=ja,C=ea=Ka)}function Wd(ja,Ka){var ib=ja-X,vb=Ka-ea;ib=Yd(ib*ib+vb*vb);ob+=ib*(X+ja)/2;hb+=ib*(ea+Ka)/2;tb+=ib;ib=ea*ja-X*Ka;yb+=ib*(X+ja);Nb+=ib*(ea+Ka);gc+=3*ib;
ed(X=ja,ea=Ka)}function U(ja){this._context=ja}function va(ja,Ka){hd.point=ab;$b=Ic=ja;rc=Fc=Ka}function ab(ja,Ka){Ic-=ja;Fc-=Ka;Cb.add(Yd(Ic*Ic+Fc*Fc));Ic=ja;Fc=Ka}function xb(){this._string=[]}function Rb(ja){return"m0,"+ja+"a"+ja+","+ja+" 0 1,1 0,"+-2*ja+"a"+ja+","+ja+" 0 1,1 0,"+2*ja+"z"}function zb(ja){return function(Ka){var ib=new kc,vb;for(vb in ja)ib[vb]=ja[vb];ib.stream=Ka;return ib}}function kc(){}function bc(ja,Ka,ib){var vb=ja.clipExtent&&ja.clipExtent();ja.scale(150).translate([0,0]);
null!=vb&&ja.clipExtent(null);Va(ib,ja.stream(ca));Ka(ca.result());null!=vb&&ja.clipExtent(vb);return ja}function Ia(ja,Ka,ib){return bc(ja,function(vb){var Lb=Ka[1][0]-Ka[0][0],c=Ka[1][1]-Ka[0][1],k=Math.min(Lb/(vb[1][0]-vb[0][0]),c/(vb[1][1]-vb[0][1]));Lb=+Ka[0][0]+(Lb-k*(vb[1][0]+vb[0][0]))/2;vb=+Ka[0][1]+(c-k*(vb[1][1]+vb[0][1]))/2;ja.scale(150*k).translate([Lb,vb])},ib)}function lb(ja,Ka,ib){return bc(ja,function(vb){var Lb=+Ka,c=Lb/(vb[1][0]-vb[0][0]);Lb=(Lb-c*(vb[1][0]+vb[0][0]))/2;vb=-c*vb[0][1];
ja.scale(150*c).translate([Lb,vb])},ib)}function Eb(ja,Ka,ib){return bc(ja,function(vb){var Lb=+Ka,c=Lb/(vb[1][1]-vb[0][1]),k=-c*vb[0][0];vb=(Lb-c*(vb[1][1]+vb[0][1]))/2;ja.scale(150*c).translate([k,vb])},ib)}function Zb(ja){return zb({point:function(Ka,ib){Ka=ja(Ka,ib);this.stream.point(Ka[0],Ka[1])}})}function lc(ja,Ka){function ib(vb,Lb,c,k,D,ba,Aa,Fb,Kb,Wb,qc,Yc,cd,Rd){var Md=Aa-vb,Td=Fb-Lb,vd=Md*Md+Td*Td;if(vd>4*Ka&&cd--){var $c=k+Wb,Id=D+qc,Fe=ba+Yc,Te=Yd($c*$c+Id*Id+Fe*Fe),$d=Qa(Fe/=Te),ze=
1E-6>Ld(Ld(Fe)-1)||1E-6>Ld(c-Kb)?(c+Kb)/2:ne(Id,$c),Ie=ja(ze,$d);$d=Ie[0];Ie=Ie[1];var If=$d-vb,Df=Ie-Lb,mf=Td*If-Md*Df;if(mf*mf/vd>Ka||.3<Ld((Md*If+Td*Df)/vd-.5)||k*Wb+D*qc+ba*Yc<yd)ib(vb,Lb,c,k,D,ba,$d,Ie,ze,$c/=Te,Id/=Te,Fe,cd,Rd),Rd.point($d,Ie),ib($d,Ie,ze,$c,Id,Fe,Aa,Fb,Kb,Wb,qc,Yc,cd,Rd)}}return function(vb){function Lb($d,ze){$d=ja($d,ze);vb.point($d[0],$d[1])}function c(){Td=NaN;Te.point=k;vb.lineStart()}function k($d,ze){var Ie=Sa([$d,ze]);ze=ja($d,ze);ib(Td,vd,Md,$c,Id,Fe,Td=ze[0],vd=ze[1],
Md=$d,$c=Ie[0],Id=Ie[1],Fe=Ie[2],16,vb);vb.point(Td,vd)}function D(){Te.point=Lb;vb.lineEnd()}function ba(){c();Te.point=Aa;Te.lineEnd=Fb}function Aa($d,ze){k(Kb=$d,ze);Wb=Td;qc=vd;Yc=$c;cd=Id;Rd=Fe;Te.point=k}function Fb(){ib(Td,vd,Md,$c,Id,Fe,Wb,qc,Kb,Yc,cd,Rd,16,vb);Te.lineEnd=D;D()}var Kb,Wb,qc,Yc,cd,Rd,Md,Td,vd,$c,Id,Fe,Te={point:Lb,lineStart:c,lineEnd:D,polygonStart:function(){vb.polygonStart();Te.lineStart=ba},polygonEnd:function(){vb.polygonEnd();Te.lineStart=c}};return Te}}function uc(ja){return zb({point:function(Ka,
ib){Ka=ja(Ka,ib);return this.stream.point(Ka[0],Ka[1])}})}function Cc(ja,Ka,ib,vb,Lb){function c(k,D){k*=vb;D*=Lb;return[Ka+ja*k,ib-ja*D]}c.invert=function(k,D){return[(k-Ka)/ja*vb,(ib-D)/ja*Lb]};return c}function Bb(ja,Ka,ib,vb,Lb,c){function k(Yc,cd){Yc*=vb;cd*=Lb;return[ba*Yc-Aa*cd+Ka,ib-Aa*Yc-ba*cd]}if(!c)return Cc(ja,Ka,ib,vb,Lb);var D=wd(c);c=Ub(c);var ba=D*ja,Aa=c*ja,Fb=D/ja,Kb=c/ja,Wb=(c*ib-D*Ka)/ja,qc=(c*Ka+D*ib)/ja;k.invert=function(Yc,cd){return[vb*(Fb*Yc-Kb*cd+Wb),Lb*(qc-Kb*Yc-Fb*cd)]};
return k}function pc(ja){return sc(function(){return ja})()}function sc(ja){function Ka(Cd){return Df(Cd[0]*xd,Cd[1]*xd)}function ib(Cd){return(Cd=Df.invert(Cd[0],Cd[1]))&&[Cd[0]*md,Cd[1]*md]}function vb(){var Cd=Bb(k,0,0,Rd,Md,cd).apply(null,c(Aa,Fb));Cd=Bb(k,D-Cd[0],ba-Cd[1],Rd,Md,cd);Yc=ha(Kb,Wb,qc);If=qa(c,Cd);Df=qa(Yc,If);Cd=If;Ie=+ze?lc(Cd,ze):Zb(Cd);return Lb()}function Lb(){mf=yg=null;return Ka}var c,k=150,D=480,ba=250,Aa=0,Fb=0,Kb=0,Wb=0,qc=0,Yc,cd=0,Rd=1,Md=1,Td=null,vd=Gc,$c=null,Id,Fe,
Te,$d=Od,ze=.5,Ie,If,Df,mf,yg;Ka.stream=function(Cd){return mf&&yg===Cd?mf:mf=Qc(uc(Yc)(vd(Ie($d(yg=Cd)))))};Ka.preclip=function(Cd){return arguments.length?(vd=Cd,Td=void 0,Lb()):vd};Ka.postclip=function(Cd){return arguments.length?($d=Cd,$c=Id=Fe=Te=null,Lb()):$d};Ka.clipAngle=function(Cd){return arguments.length?(vd=+Cd?$a(Td=Cd*xd):(Td=null,Gc),Lb()):Td*md};Ka.clipExtent=function(Cd){return arguments.length?($d=null==Cd?($c=Id=Fe=Te=null,Od):Db($c=+Cd[0][0],Id=+Cd[0][1],Fe=+Cd[1][0],Te=+Cd[1][1]),
Lb()):null==$c?null:[[$c,Id],[Fe,Te]]};Ka.scale=function(Cd){return arguments.length?(k=+Cd,vb()):k};Ka.translate=function(Cd){return arguments.length?(D=+Cd[0],ba=+Cd[1],vb()):[D,ba]};Ka.center=function(Cd){return arguments.length?(Aa=Cd[0]%360*xd,Fb=Cd[1]%360*xd,vb()):[Aa*md,Fb*md]};Ka.rotate=function(Cd){return arguments.length?(Kb=Cd[0]%360*xd,Wb=Cd[1]%360*xd,qc=2<Cd.length?Cd[2]%360*xd:0,vb()):[Kb*md,Wb*md,qc*md]};Ka.angle=function(Cd){return arguments.length?(cd=Cd%360*xd,vb()):cd*md};Ka.reflectX=
function(Cd){return arguments.length?(Rd=Cd?-1:1,vb()):0>Rd};Ka.reflectY=function(Cd){return arguments.length?(Md=Cd?-1:1,vb()):0>Md};Ka.precision=function(Cd){if(arguments.length){var tf=If;var pg=ze=Cd*Cd;tf=(Ie=+pg?lc(tf,pg):Zb(tf),Lb())}else tf=Yd(ze);return tf};Ka.fitExtent=function(Cd,tf){return Ia(Ka,Cd,tf)};Ka.fitSize=function(Cd,tf){return Ia(Ka,[[0,0],Cd],tf)};Ka.fitWidth=function(Cd,tf){return lb(Ka,Cd,tf)};Ka.fitHeight=function(Cd,tf){return Eb(Ka,Cd,tf)};return function(){c=ja.apply(this,
arguments);Ka.invert=c.invert&&ib;return vb()}}function mc(ja){var Ka=0,ib=Hd/3,vb=sc(ja);ja=vb(Ka,ib);ja.parallels=function(Lb){return arguments.length?vb(Ka=Lb[0]*xd,ib=Lb[1]*xd):[Ka*md,ib*md]};return ja}function Bc(ja){function Ka(vb,Lb){return[vb*ib,Ub(Lb)/ib]}var ib=wd(ja);Ka.invert=function(vb,Lb){return[vb/ib,Qa(Lb*ib)]};return Ka}function Oc(ja,Ka){function ib(D,ba){ba=Yd(c-2*Lb*Ub(ba))/Lb;return[ba*Ub(D*=Lb),k-ba*wd(D)]}var vb=Ub(ja),Lb=(vb+Ub(Ka))/2;if(1E-6>Ld(Lb))return Bc(ja);var c=1+
vb*(2*Lb-vb),k=Yd(c)/Lb;ib.invert=function(D,ba){ba=k-ba;var Aa=ne(D,Ld(ba))*oe(ba);0>ba*Lb&&(Aa-=Hd*oe(D)*oe(ba));return[Aa/Lb,Qa((c-(D*D+ba*ba)*Lb*Lb)/(2*Lb))]};return ib}function Kc(){return mc(Oc).scale(155.424).center([0,33.6442])}function ad(){return Kc().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function id(ja){var Ka=ja.length;return{point:function(ib,vb){for(var Lb=-1;++Lb<Ka;)ja[Lb].point(ib,vb)},sphere:function(){for(var ib=-1;++ib<Ka;)ja[ib].sphere()},
lineStart:function(){for(var ib=-1;++ib<Ka;)ja[ib].lineStart()},lineEnd:function(){for(var ib=-1;++ib<Ka;)ja[ib].lineEnd()},polygonStart:function(){for(var ib=-1;++ib<Ka;)ja[ib].polygonStart()},polygonEnd:function(){for(var ib=-1;++ib<Ka;)ja[ib].polygonEnd()}}}function td(ja){return function(Ka,ib){var vb=wd(Ka),Lb=wd(ib);vb=ja(vb*Lb);return Infinity===vb?[2,0]:[vb*Lb*Ub(Ka),vb*Ub(ib)]}}function qd(ja){return function(Ka,ib){var vb=Yd(Ka*Ka+ib*ib),Lb=ja(vb),c=Ub(Lb);Lb=wd(Lb);return[ne(Ka*c,vb*Lb),
Qa(vb&&ib*c/vb)]}}function Fd(ja,Ka){return[ja,pe(se((fe+Ka)/2))]}function Ud(ja){function Ka(){var Kb=Hd*Lb(),Wb=ib(l(ib.rotate()).invert([0,0]));return k(null==D?[[Wb[0]-Kb,Wb[1]-Kb],[Wb[0]+Kb,Wb[1]+Kb]]:ja===Fd?[[Math.max(Wb[0]-Kb,D),ba],[Math.min(Wb[0]+Kb,Aa),Fb]]:[[D,Math.max(Wb[1]-Kb,ba)],[Aa,Math.min(Wb[1]+Kb,Fb)]])}var ib=pc(ja),vb=ib.center,Lb=ib.scale,c=ib.translate,k=ib.clipExtent,D=null,ba,Aa,Fb;ib.scale=function(Kb){return arguments.length?(Lb(Kb),Ka()):Lb()};ib.translate=function(Kb){return arguments.length?
(c(Kb),Ka()):c()};ib.center=function(Kb){return arguments.length?(vb(Kb),Ka()):vb()};ib.clipExtent=function(Kb){return arguments.length?(null==Kb?D=ba=Aa=Fb=null:(D=+Kb[0][0],ba=+Kb[0][1],Aa=+Kb[1][0],Fb=+Kb[1][1]),Ka()):null==D?null:[[D,ba],[Aa,Fb]]};return Ka()}function ee(ja,Ka){function ib(k,D){0<c?D<-fe+1E-6&&(D=-fe+1E-6):D>fe-1E-6&&(D=fe-1E-6);D=c/Vd(se((fe+D)/2),Lb);return[D*Ub(Lb*k),c-D*wd(Lb*k)]}var vb=wd(ja),Lb=ja===Ka?Ub(ja):pe(vb/wd(Ka))/pe(se((fe+Ka)/2)/se((fe+ja)/2)),c=vb*Vd(se((fe+
ja)/2),Lb)/Lb;if(!Lb)return Fd;ib.invert=function(k,D){D=c-D;var ba=oe(Lb)*Yd(k*k+D*D),Aa=ne(k,Ld(D))*oe(D);0>D*Lb&&(Aa-=Hd*oe(k)*oe(D));return[Aa/Lb,2*ff(Vd(c/ba,1/Lb))-fe]};return ib}function we(ja,Ka){return[ja,Ka]}function re(ja,Ka){function ib(k,D){D=c-D;k*=Lb;return[D*Ub(k),c-D*wd(k)]}var vb=wd(ja),Lb=ja===Ka?Ub(ja):(vb-wd(Ka))/(Ka-ja),c=vb/Lb+ja;if(1E-6>Ld(Lb))return we;ib.invert=function(k,D){D=c-D;var ba=ne(k,Ld(D))*oe(D);0>D*Lb&&(ba-=Hd*oe(k)*oe(D));return[ba/Lb,c-oe(Lb)*Yd(k*k+D*D)]};return ib}
function te(ja,Ka){Ka=Qa(xe*Ub(Ka));var ib=Ka*Ka,vb=ib*ib*ib;return[ja*wd(Ka)/(xe*(1.340264+3*-.081106*ib+vb*(7*8.93E-4+.034164*ib))),Ka*(1.340264+-.081106*ib+vb*(8.93E-4+.003796*ib))]}function rd(ja,Ka){var ib=wd(Ka),vb=wd(ja)*ib;return[ib*Ub(ja)/vb,Ub(Ka)/vb]}function Jd(ja,Ka){var ib=Ka*Ka,vb=ib*ib;return[ja*(.8707-.131979*ib+vb*(-.013791+vb*(.003971*ib-.001529*vb))),Ka*(1.007226+ib*(.015085+vb*(-.044475+.028874*ib-.005916*vb)))]}function Me(ja,Ka){return[wd(Ka)*Ub(ja),Ub(Ka)]}function qe(ja,Ka){var ib=
wd(Ka),vb=1+wd(ja)*ib;return[ib*Ub(ja)/vb,Ub(Ka)/vb]}function bf(ja,Ka){return[pe(se((fe+Ka)/2)),-ja]}var Hd=Math.PI,fe=Hd/2,Ce=Hd/4,Xd=2*Hd,md=180/Hd,xd=Hd/180,Ld=Math.abs,ff=Math.atan,ne=Math.atan2,wd=Math.cos,Ae=Math.ceil,cf=Math.exp,wc=Math.hypot,pe=Math.log,Vd=Math.pow,Ub=Math.sin,oe=Math.sign||function(ja){return 0<ja?1:0>ja?-1:0},Yd=Math.sqrt,se=Math.tan,df={Feature:function(ja,Ka){pb(ja.geometry,Ka)},FeatureCollection:function(ja,Ka){ja=ja.features;for(var ib=-1,vb=ja.length;++ib<vb;)pb(ja[ib].geometry,
Ka)}},Re={Sphere:function(ja,Ka){Ka.sphere()},Point:function(ja,Ka){ja=ja.coordinates;Ka.point(ja[0],ja[1],ja[2])},MultiPoint:function(ja,Ka){for(var ib=ja.coordinates,vb=-1,Lb=ib.length;++vb<Lb;)ja=ib[vb],Ka.point(ja[0],ja[1],ja[2])},LineString:function(ja,Ka){Ib(ja.coordinates,Ka,0)},MultiLineString:function(ja,Ka){ja=ja.coordinates;for(var ib=-1,vb=ja.length;++ib<vb;)Ib(ja[ib],Ka,0)},Polygon:function(ja,Ka){Ab(ja.coordinates,Ka)},MultiPolygon:function(ja,Ka){ja=ja.coordinates;for(var ib=-1,vb=
ja.length;++ib<vb;)Ab(ja[ib],Ka)},GeometryCollection:function(ja,Ka){ja=ja.geometries;for(var ib=-1,vb=ja.length;++ib<vb;)pb(ja[ib],Ka)}},Ve=new v.Adder,Ge=new v.Adder,I,R,ra,Fa,Oa,Pb={point:db,lineStart:db,lineEnd:db,polygonStart:function(){Ve=new v.Adder;Pb.lineStart=nb;Pb.lineEnd=mb},polygonEnd:function(){var ja=+Ve;Ge.add(0>ja?Xd+ja:ja);this.lineStart=this.lineEnd=this.point=db},sphere:function(){Ge.add(Xd)}},dc,xc,oc,yc,Wc,Tc,he,od,jd,Zd,ye,ve={point:Ua,lineStart:da,lineEnd:wa,polygonStart:function(){ve.point=
La;ve.lineStart=Ra;ve.lineEnd=fb;jd=new v.Adder;Pb.polygonStart()},polygonEnd:function(){Pb.polygonEnd();ve.point=Ua;ve.lineStart=da;ve.lineEnd=wa;0>Ve?(dc=-(oc=180),xc=-(yc=90)):1E-6<jd?yc=90:-1E-6>jd&&(xc=-90);ye[0]=dc;ye[1]=oc},sphere:function(){dc=-(oc=180);xc=-(yc=90)}},We,wf,bd,Be,ue,De,vf,nf,Cf,Ne,H,Z,cb,Gb,Hb,Tb,ac={sphere:db,point:Q,lineStart:F,lineEnd:ka,polygonStart:function(){ac.lineStart=ia;ac.lineEnd=ma},polygonEnd:function(){ac.lineStart=F;ac.lineEnd=ka}};ta.invert=ta;var Gc=Da(function(){return!0},
function(ja){var Ka=NaN,ib=NaN,vb=NaN,Lb;return{lineStart:function(){ja.lineStart();Lb=1},point:function(c,k){var D=0<c?Hd:-Hd,ba=Ld(c-Ka);if(1E-6>Ld(ba-Hd))ja.point(Ka,ib=0<(ib+k)/2?fe:-fe),ja.point(vb,ib),ja.lineEnd(),ja.lineStart(),ja.point(D,ib),ja.point(c,ib),Lb=0;else if(vb!==D&&ba>=Hd){1E-6>Ld(Ka-vb)&&(Ka-=1E-6*vb);1E-6>Ld(c-D)&&(c-=1E-6*D);ba=Ka;var Aa=ib,Fb=c,Kb,Wb,qc=Ub(ba-Fb);ib=1E-6<Ld(qc)?ff((Ub(Aa)*(Wb=wd(k))*Ub(Fb)-Ub(k)*(Kb=wd(Aa))*Ub(ba))/(Kb*Wb*qc)):(Aa+k)/2;ja.point(vb,ib);ja.lineEnd();
ja.lineStart();ja.point(D,ib);Lb=0}ja.point(Ka=c,ib=k);vb=D},lineEnd:function(){ja.lineEnd();Ka=ib=NaN},clean:function(){return 2-Lb}}},function(ja,Ka,ib,vb){null==ja?(ib*=fe,vb.point(-Hd,ib),vb.point(0,ib),vb.point(Hd,ib),vb.point(Hd,0),vb.point(Hd,-ib),vb.point(0,-ib),vb.point(-Hd,-ib),vb.point(-Hd,0),vb.point(-Hd,ib)):1E-6<Ld(ja[0]-Ka[0])?(ja=ja[0]<Ka[0]?Hd:-Hd,ib=ib*ja/2,vb.point(-ja,ib),vb.point(0,ib),vb.point(ja,ib)):vb.point(Ka[0],Ka[1])},[-Hd,-fe]),Dc,Sc,gd,zd,Ed={sphere:db,point:db,lineStart:function(){Ed.point=
vc;Ed.lineEnd=Xb},lineEnd:db,polygonStart:db,polygonEnd:db},pd=[null,null],Ee={type:"LineString",coordinates:pd},Bd={Feature:function(ja,Ka){return Ma(ja.geometry,Ka)},FeatureCollection:function(ja,Ka){ja=ja.features;for(var ib=-1,vb=ja.length;++ib<vb;)if(Ma(ja[ib].geometry,Ka))return!0;return!1}},ke={Sphere:function(){return!0},Point:function(ja,Ka){return 0===Hc(ja.coordinates,Ka)},MultiPoint:function(ja,Ka){ja=ja.coordinates;for(var ib=-1,vb=ja.length;++ib<vb;)if(0===Hc(ja[ib],Ka))return!0;return!1},
LineString:function(ja,Ka){return ec(ja.coordinates,Ka)},MultiLineString:function(ja,Ka){ja=ja.coordinates;for(var ib=-1,vb=ja.length;++ib<vb;)if(ec(ja[ib],Ka))return!0;return!1},Polygon:function(ja,Ka){return cc(ja.coordinates,Ka)},MultiPolygon:function(ja,Ka){ja=ja.coordinates;for(var ib=-1,vb=ja.length;++ib<vb;)if(cc(ja[ib],Ka))return!0;return!1},GeometryCollection:function(ja,Ka){ja=ja.geometries;for(var ib=-1,vb=ja.length;++ib<vb;)if(Ma(ja[ib],Ka))return!0;return!1}},Od=ja=>ja,ie=new v.Adder,
qf=new v.Adder,Kd,Xe,je,lf,He={point:db,lineStart:db,lineEnd:db,polygonStart:function(){He.lineStart=Nc;He.lineEnd=Zc},polygonEnd:function(){He.lineStart=He.lineEnd=He.point=db;ie.add(Ld(qf));qf=new v.Adder},result:function(){var ja=ie/2;ie=new v.Adder;return ja}},Gf=Infinity,J=Gf,M=-Gf,V=M,ca={point:function(ja,Ka){ja<Gf&&(Gf=ja);ja>M&&(M=ja);Ka<J&&(J=Ka);Ka>V&&(V=Ka)},lineStart:db,lineEnd:db,polygonStart:db,polygonEnd:db,result:function(){var ja=[[Gf,J],[M,V]];M=V=-(J=Gf=Infinity);return ja}},ua=
0,ya=0,Ta=0,ob=0,hb=0,tb=0,yb=0,Nb=0,gc=0,r,C,X,ea,eb={point:ed,lineStart:Pd,lineEnd:Sb,polygonStart:function(){eb.lineStart=dd;eb.lineEnd=nd},polygonEnd:function(){eb.point=ed;eb.lineStart=Pd;eb.lineEnd=Sb},result:function(){var ja=gc?[yb/gc,Nb/gc]:tb?[ob/tb,hb/tb]:Ta?[ua/Ta,ya/Ta]:[NaN,NaN];ua=ya=Ta=ob=hb=tb=yb=Nb=gc=0;return ja}};U.prototype={_radius:4.5,pointRadius:function(ja){return this._radius=ja,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=
0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(ja,Ka){switch(this._point){case 0:this._context.moveTo(ja,Ka);this._point=1;break;case 1:this._context.lineTo(ja,Ka);break;default:this._context.moveTo(ja+this._radius,Ka),this._context.arc(ja,Ka,this._radius,0,Xd)}},result:db};var Cb=new v.Adder,Jb,$b,rc,Ic,Fc,hd={point:db,lineStart:function(){hd.point=va},lineEnd:function(){Jb&&ab($b,rc);hd.point=db},polygonStart:function(){Jb=!0},polygonEnd:function(){Jb=
null},result:function(){var ja=+Cb;Cb=new v.Adder;return ja}};xb.prototype={_radius:4.5,_circle:Rb(4.5),pointRadius:function(ja){(ja=+ja)!==this._radius&&(this._radius=ja,this._circle=null);return this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z");this._point=NaN},point:function(ja,Ka){switch(this._point){case 0:this._string.push("M",ja,",",Ka);this._point=1;break;case 1:this._string.push("L",
ja,",",Ka);break;default:null==this._circle&&(this._circle=Rb(this._radius)),this._string.push("M",ja,",",Ka,this._circle)}},result:function(){if(this._string.length){var ja=this._string.join("");this._string=[];return ja}return null}};kc.prototype={constructor:kc,point:function(ja,Ka){this.stream.point(ja,Ka)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};
var yd=wd(30*xd),Qc=zb({point:function(ja,Ka){this.stream.point(ja*xd,Ka*xd)}}),Dd=td(function(ja){return Yd(2/(1+ja))});Dd.invert=qd(function(ja){return 2*Qa(ja/2)});var Qd=td(function(ja){return(ja=Y(ja))&&ja/Ub(ja)});Qd.invert=qd(function(ja){return ja});Fd.invert=function(ja,Ka){return[ja,2*ff(cf(Ka))-fe]};we.invert=we;var xe=Yd(3)/2;te.invert=function(ja,Ka){for(var ib=Ka,vb=ib*ib,Lb=vb*vb*vb,c=0,k;12>c&&!(k=ib*(1.340264+-.081106*vb+Lb*(8.93E-4+.003796*vb))-Ka,vb=1.340264+3*-.081106*vb+Lb*(7*
8.93E-4+.034164*vb),ib-=k/=vb,vb=ib*ib,Lb=vb*vb*vb,1E-12>Ld(k));++c);return[xe*ja*(1.340264+3*-.081106*vb+Lb*(7*8.93E-4+.034164*vb))/wd(ib),Qa(Ub(ib)/xe)]};rd.invert=qd(ff);Jd.invert=function(ja,Ka){var ib=Ka,vb=25;do{var Lb=ib*ib;var c=Lb*Lb;ib-=c=(ib*(1.007226+Lb*(.015085+c*(-.044475+.028874*Lb-.005916*c)))-Ka)/(1.007226+Lb*(.045255+c*(-.311325+.259866*Lb-.005916*11*c)))}while(1E-6<Ld(c)&&0<--vb);return[ja/(.8707+(Lb=ib*ib)*(-.131979+Lb*(-.013791+Lb*Lb*Lb*(.003971-.001529*Lb)))),ib]};Me.invert=
qd(Qa);qe.invert=qd(function(ja){return 2*ff(ja)});bf.invert=function(ja,Ka){return[-Ka,2*ff(cf(ja))-fe]};n.geoAlbers=ad;n.geoAlbersUsa=function(){function ja(Wb){var qc=Wb[0];Wb=Wb[1];return Fb=null,(c.point(qc,Wb),Fb)||(D.point(qc,Wb),Fb)||(Aa.point(qc,Wb),Fb)}function Ka(){ib=vb=null;return ja}var ib,vb,Lb=ad(),c,k=Kc().rotate([154,0]).center([-2,58.5]).parallels([55,65]),D,ba=Kc().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Aa,Fb,Kb={point:function(Wb,qc){Fb=[Wb,qc]}};ja.invert=function(Wb){var qc=
Lb.scale(),Yc=Lb.translate(),cd=(Wb[0]-Yc[0])/qc;qc=(Wb[1]-Yc[1])/qc;return(.12<=qc&&.234>qc&&-.425<=cd&&-.214>cd?k:.166<=qc&&.234>qc&&-.214<=cd&&-.115>cd?ba:Lb).invert(Wb)};ja.stream=function(Wb){return ib&&vb===Wb?ib:ib=id([Lb.stream(vb=Wb),k.stream(Wb),ba.stream(Wb)])};ja.precision=function(Wb){if(!arguments.length)return Lb.precision();Lb.precision(Wb);k.precision(Wb);ba.precision(Wb);return Ka()};ja.scale=function(Wb){if(!arguments.length)return Lb.scale();Lb.scale(Wb);k.scale(.35*Wb);ba.scale(Wb);
return ja.translate(Lb.translate())};ja.translate=function(Wb){if(!arguments.length)return Lb.translate();var qc=Lb.scale(),Yc=+Wb[0],cd=+Wb[1];c=Lb.translate(Wb).clipExtent([[Yc-.455*qc,cd-.238*qc],[Yc+.455*qc,cd+.238*qc]]).stream(Kb);D=k.translate([Yc-.307*qc,cd+.201*qc]).clipExtent([[Yc-.425*qc+1E-6,cd+.12*qc+1E-6],[Yc-.214*qc-1E-6,cd+.234*qc-1E-6]]).stream(Kb);Aa=ba.translate([Yc-.205*qc,cd+.212*qc]).clipExtent([[Yc-.214*qc+1E-6,cd+.166*qc+1E-6],[Yc-.115*qc-1E-6,cd+.234*qc-1E-6]]).stream(Kb);
return Ka()};ja.fitExtent=function(Wb,qc){return Ia(ja,Wb,qc)};ja.fitSize=function(Wb,qc){return Ia(ja,[[0,0],Wb],qc)};ja.fitWidth=function(Wb,qc){return lb(ja,Wb,qc)};ja.fitHeight=function(Wb,qc){return Eb(ja,Wb,qc)};return ja.scale(1070)};n.geoArea=function(ja){Ge=new v.Adder;Va(ja,Pb);return 2*Ge};n.geoAzimuthalEqualArea=function(){return pc(Dd).scale(124.75).clipAngle(179.999)};n.geoAzimuthalEqualAreaRaw=Dd;n.geoAzimuthalEquidistant=function(){return pc(Qd).scale(79.4188).clipAngle(179.999)};
n.geoAzimuthalEquidistantRaw=Qd;n.geoBounds=function(ja){var Ka,ib,vb;yc=oc=-(dc=xc=Infinity);Zd=[];Va(ja,ve);if(Ka=Zd.length){Zd.sort(jb);ja=1;var Lb=Zd[0];for(ib=[Lb];ja<Ka;++ja){var c=Zd[ja];Xa(Lb,c[0])||Xa(Lb,c[1])?(Wa(Lb[0],c[1])>Wa(Lb[0],Lb[1])&&(Lb[1]=c[1]),Wa(c[0],Lb[1])>Wa(Lb[0],Lb[1])&&(Lb[0]=c[0])):ib.push(Lb=c)}var k=-Infinity;Ka=ib.length-1;ja=0;for(Lb=ib[Ka];ja<=Ka;Lb=c,++ja)c=ib[ja],(vb=Wa(Lb[1],c[0]))>k&&(k=vb,dc=c[0],oc=Lb[1])}Zd=ye=null;return Infinity===dc||Infinity===xc?[[NaN,
NaN],[NaN,NaN]]:[[dc,xc],[oc,yc]]};n.geoCentroid=function(ja){We=wf=bd=Be=ue=De=vf=nf=0;Cf=new v.Adder;Ne=new v.Adder;H=new v.Adder;Va(ja,ac);ja=+Cf;var Ka=+Ne,ib=+H,vb=wc(ja,Ka,ib);return 1E-12>vb&&(ja=De,Ka=vf,ib=nf,1E-6>wf&&(ja=bd,Ka=Be,ib=ue),vb=wc(ja,Ka,ib),1E-12>vb)?[NaN,NaN]:[ne(Ka,ja)*md,Qa(ib/vb)*md]};n.geoCircle=function(){function ja(){var D=Ka.apply(this,arguments),ba=ib.apply(this,arguments)*xd,Aa=vb.apply(this,arguments)*xd;Lb=[];c=ha(-D[0]*xd,-D[1]*xd,0).invert;p(k,ba,Aa,1);D={type:"Polygon",
coordinates:[Lb]};Lb=c=null;return D}var Ka=S([0,0]),ib=S(90),vb=S(6),Lb,c,k={point:function(D,ba){Lb.push(D=c(D,ba));D[0]*=md;D[1]*=md}};ja.center=function(D){return arguments.length?(Ka="function"===typeof D?D:S([+D[0],+D[1]]),ja):Ka};ja.radius=function(D){return arguments.length?(ib="function"===typeof D?D:S(+D),ja):ib};ja.precision=function(D){return arguments.length?(vb="function"===typeof D?D:S(+D),ja):vb};return ja};n.geoClipAntimeridian=Gc;n.geoClipCircle=$a;n.geoClipExtent=function(){var ja=
0,Ka=0,ib=960,vb=500,Lb,c,k;return k={stream:function(D){return Lb&&c===D?Lb:Lb=Db(ja,Ka,ib,vb)(c=D)},extent:function(D){return arguments.length?(ja=+D[0][0],Ka=+D[0][1],ib=+D[1][0],vb=+D[1][1],Lb=c=null,k):[[ja,Ka],[ib,vb]]}}};n.geoClipRectangle=Db;n.geoConicConformal=function(){return mc(ee).scale(109.5).parallels([30,30])};n.geoConicConformalRaw=ee;n.geoConicEqualArea=Kc;n.geoConicEqualAreaRaw=Oc;n.geoConicEquidistant=function(){return mc(re).scale(131.154).center([0,13.9389])};n.geoConicEquidistantRaw=
re;n.geoContains=function(ja,Ka){return(ja&&Bd.hasOwnProperty(ja.type)?Bd[ja.type]:Ma)(ja,Ka)};n.geoDistance=Hc;n.geoEqualEarth=function(){return pc(te).scale(177.158)};n.geoEqualEarthRaw=te;n.geoEquirectangular=function(){return pc(we).scale(152.63)};n.geoEquirectangularRaw=we;n.geoGnomonic=function(){return pc(rd).scale(144.049).clipAngle(60)};n.geoGnomonicRaw=rd;n.geoGraticule=Rc;n.geoGraticule10=function(){return Rc()()};n.geoIdentity=function(){function ja(){Yc=ib*c;cd=ib*k;Td=vd=null;return Ka}
function Ka($c){var Id=$c[0]*Yc;$c=$c[1]*cd;if(D){var Fe=$c*ba-Id*Aa;Id=Id*ba+$c*Aa;$c=Fe}return[Id+vb,$c+Lb]}var ib=1,vb=0,Lb=0,c=1,k=1,D=0,ba,Aa,Fb=null,Kb,Wb,qc,Yc=1,cd=1,Rd=zb({point:function($c,Id){$c=Ka([$c,Id]);this.stream.point($c[0],$c[1])}}),Md=Od,Td,vd;Ka.invert=function($c){var Id=$c[0]-vb;$c=$c[1]-Lb;if(D){var Fe=$c*ba+Id*Aa;Id=Id*ba-$c*Aa;$c=Fe}return[Id/Yc,$c/cd]};Ka.stream=function($c){return Td&&vd===$c?Td:Td=Rd(Md(vd=$c))};Ka.postclip=function($c){return arguments.length?(Md=$c,
Fb=Kb=Wb=qc=null,ja()):Md};Ka.clipExtent=function($c){return arguments.length?(Md=null==$c?(Fb=Kb=Wb=qc=null,Od):Db(Fb=+$c[0][0],Kb=+$c[0][1],Wb=+$c[1][0],qc=+$c[1][1]),ja()):null==Fb?null:[[Fb,Kb],[Wb,qc]]};Ka.scale=function($c){return arguments.length?(ib=+$c,ja()):ib};Ka.translate=function($c){return arguments.length?(vb=+$c[0],Lb=+$c[1],ja()):[vb,Lb]};Ka.angle=function($c){return arguments.length?(D=$c%360*xd,Aa=Ub(D),ba=wd(D),ja()):D*md};Ka.reflectX=function($c){return arguments.length?(c=$c?
-1:1,ja()):0>c};Ka.reflectY=function($c){return arguments.length?(k=$c?-1:1,ja()):0>k};Ka.fitExtent=function($c,Id){return Ia(Ka,$c,Id)};Ka.fitSize=function($c,Id){return Ia(Ka,[[0,0],$c],Id)};Ka.fitWidth=function($c,Id){return lb(Ka,$c,Id)};Ka.fitHeight=function($c,Id){return Eb(Ka,$c,Id)};return Ka};n.geoInterpolate=function(ja,Ka){var ib=ja[0]*xd,vb=ja[1]*xd;ja=Ka[0]*xd;Ka=Ka[1]*xd;var Lb=wd(vb),c=Ub(vb),k=wd(Ka),D=Ub(Ka),ba=Lb*wd(ib),Aa=Lb*Ub(ib),Fb=k*wd(ja),Kb=k*Ub(ja),Wb=2*Qa(Yd(Qb(Ka-vb)+Lb*
k*Qb(ja-ib))),qc=Ub(Wb);ja=Wb?function(Yc){var cd=Ub(Yc*=Wb)/qc,Rd=Ub(Wb-Yc)/qc;Yc=Rd*ba+cd*Fb;var Md=Rd*Aa+cd*Kb;cd=Rd*c+cd*D;return[ne(Md,Yc)*md,ne(cd,Yd(Yc*Yc+Md*Md))*md]}:function(){return[ib*md,vb*md]};ja.distance=Wb;return ja};n.geoLength=tc;n.geoMercator=function(){return Ud(Fd).scale(961/Xd)};n.geoMercatorRaw=Fd;n.geoNaturalEarth1=function(){return pc(Jd).scale(175.295)};n.geoNaturalEarth1Raw=Jd;n.geoOrthographic=function(){return pc(Me).scale(249.5).clipAngle(90.000001)};n.geoOrthographicRaw=
Me;n.geoPath=function(ja,Ka){function ib(k){k&&("function"===typeof vb&&c.pointRadius(+vb.apply(this,arguments)),Va(k,Lb(c)));return c.result()}var vb=4.5,Lb,c;ib.area=function(k){Va(k,Lb(He));return He.result()};ib.measure=function(k){Va(k,Lb(hd));return hd.result()};ib.bounds=function(k){Va(k,Lb(ca));return ca.result()};ib.centroid=function(k){Va(k,Lb(eb));return eb.result()};ib.projection=function(k){return arguments.length?(Lb=null==k?(ja=null,Od):(ja=k).stream,ib):ja};ib.context=function(k){if(!arguments.length)return Ka;
c=null==k?(Ka=null,new xb):new U(Ka=k);"function"!==typeof vb&&c.pointRadius(vb);return ib};ib.pointRadius=function(k){if(!arguments.length)return vb;vb="function"===typeof k?k:(c.pointRadius(+k),+k);return ib};return ib.projection(ja).context(Ka)};n.geoProjection=pc;n.geoProjectionMutator=sc;n.geoRotation=l;n.geoStereographic=function(){return pc(qe).scale(250).clipAngle(142)};n.geoStereographicRaw=qe;n.geoStream=Va;n.geoTransform=function(ja){return{stream:zb(ja)}};n.geoTransverseMercator=function(){var ja=
Ud(bf),Ka=ja.center,ib=ja.rotate;ja.center=function(vb){return arguments.length?Ka([-vb[1],vb[0]]):(vb=Ka(),[vb[1],-vb[0]])};ja.rotate=function(vb){return arguments.length?ib([vb[0],vb[1],2<vb.length?vb[2]+90:90]):(vb=ib(),[vb[0],vb[1],vb[2]-90])};return ib([0,0,90]).scale(159.155)};n.geoTransverseMercatorRaw=bf;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[43]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc,Ob(42),Ob(18)):"function"===typeof define&&define.amd?define(["exports","d3-geo","d3-array"],v):v(n.d3=n.d3||{},n.d3,n.d3)})(this,function(n,v,Y){function Qa(J){return 1<J?Oa:-1>J?-Oa:Math.asin(J)}function Qb(J){return 1<J?0:-1>J?Fa:Math.acos(J)}function db(J){return 0<J?Math.sqrt(J):0}function pb(J){return(oe(J)-oe(-J))/2}function Ib(J){return(oe(J)+oe(-J))/2}function Ab(J){function M(ua,ya){var Ta=
Ub(ua),ob=Ub(ya);ya=R(ya);Ta*=ob;Ta=-((1-Ta?se((1+Ta)/2)/(1-Ta):-.5)+ca/(1+Ta));return[Ta*ob*R(ua),Ta*ya]}var V=ra(J/2),ca=2*se(Ub(J/2))/(V*V);M.invert=function(ua,ya){var Ta=db(ua*ua+ya*ya),ob=-J/2,hb=50;if(!Ta)return[0,0];do{var tb=ob/2;var yb=Ub(tb);tb=R(tb);var Nb=tb/yb,gc=-se(wc(yb));ob-=yb=(2/Nb*gc-ca*Nb-Ta)/(-gc/(tb*tb)+1-ca/(2*yb*yb))*(0>yb?.7:1)}while(1E-6<wc(yb)&&0<--hb);hb=R(ob);return[Vd(ua*hb,Ta*Ub(ob)),Qa(ya*hb/Ta)]};return M}function Va(J,M){var V=Ub(M);var ca=(ca=Qb(V*Ub(J/=2)))?ca/
Math.sin(ca):1;return[2*V*R(J)*ca,R(M)*ca]}function nb(J){function M(ob,hb){var tb=Ub(hb),yb=Ub(ob/=2);return[(1+tb)*R(ob),(ua*hb>-Vd(yb,ya)-.001?0:10*-ua)+Ta+R(hb)*ca-(1+tb)*V*yb]}var V=R(J),ca=Ub(J),ua=0<=J?1:-1,ya=ra(ua*J),Ta=(1+V-ca)/2;M.invert=function(ob,hb){var tb=0,yb=0,Nb=50;do{var gc=Ub(tb),r=R(tb),C=Ub(yb),X=R(yb),ea=1+C,eb=ea*r-ob,Cb=Ta+X*ca-ea*V*gc-hb,Jb=ea*gc/2,$b=-r*X;r=V*ea*r/2;C=ca*C+V*gc*X;gc=$b*r-C*Jb;$b=(Cb*$b-eb*C)/gc/2;eb=(eb*r-Cb*Jb)/gc;2<wc(eb)&&(eb/=2);tb-=$b;yb-=eb}while((1E-6<
wc($b)||1E-6<wc(eb))&&0<--Nb);return ua*yb>-Vd(Ub(tb),ya)-.001?[2*tb,yb]:null};return M}function mb(J,M){M=ra(M/2);var V=db(1-M*M),ca=1+V*Ub(J/=2);J=R(J)*V/ca;M/=ca;ca=J*J;V=M*M;return[4/3*J*(3+ca-3*V),4/3*M*(3+3*ca-V)]}function Pa(J,M){var V=wc(M);return V<Pb?[J,se(ra(Pb+M/2))]:[J*Ub(V)*(2*xc-1/R(V)),I(M)*(2*xc*(V-Pb)-se(ra(V/2)))]}function Ba(J){function M(ca,ua){ua=v.geoAzimuthalEquidistantRaw(ca,ua);if(wc(ca)>Oa){ca=Vd(ua[1],ua[0]);var ya=db(ua[0]*ua[0]+ua[1]*ua[1]),Ta=V*Ge((ca-Oa)/V)+Oa,ob=Vd(R(ca-=
Ta),2-Ub(ca));ca=Ta+Qa(Fa/ya*R(ob))-ob;ua[0]=ya*Ub(ca);ua[1]=ya*R(ca)}return ua}var V=2*Fa/J;M.invert=function(ca,ua){var ya=db(ca*ca+ua*ua);if(ya>Oa){var Ta=Vd(ua,ca);ca=V*Ge((Ta-Oa)/V)+Oa;ua=Ta>ca?-1:1;Ta=ya*Ub(ca-Ta);Ta=1/ra(ua*Qb((Ta-Fa)/db(Fa*(Fa-2*Ta)+ya*ya)));Ta=ca+2*pe((Ta+ua*db(Ta*Ta-3))/3);ca=ya*Ub(Ta);ua=ya*R(Ta)}return v.geoAzimuthalEquidistantRaw.invert(ca,ua)};return M}function Ca(J,M){function V(ca,ua){ca=v.geoAzimuthalEqualAreaRaw(ca/M,ua);ca[0]*=J;return ca}2>arguments.length&&(M=
J);if(1===M)return v.geoAzimuthalEqualAreaRaw;if(Infinity===M)return Sa;V.invert=function(ca,ua){ca=v.geoAzimuthalEqualAreaRaw.invert(ca/J,ua);ca[0]*=M;return ca};return V}function Sa(J,M){return[J*Ub(M)/Ub(M/=2),2*R(M)]}function kb(J,M,V){var ca=100;V=void 0===V?0:+V;M=+M;do{var ua=J(V);var ya=J(V+1E-6);ua===ya&&(ya=ua+1E-6);V-=ua=-1E-6*(ua-M)/(ua-ya)}while(0<ca--&&1E-6<wc(ua));return 0>ca?NaN:V}function za(J,M,V){void 0===M&&(M=40);void 0===V&&(V=1E-12);return function(ca,ua,ya,Ta){ya=void 0===
ya?0:+ya;Ta=void 0===Ta?0:+Ta;for(var ob=0;ob<M;ob++){var hb=J(ya,Ta),tb=hb[0]-ca,yb=hb[1]-ua;if(wc(tb)<V&&wc(yb)<V)break;var Nb=tb*tb+yb*yb;if(Nb>gc)ya-=C/=2,Ta-=ea/=2;else{var gc=Nb;Nb=(0<ya?-1:1)*V;var r=(0<Ta?-1:1)*V;var C=J(ya+Nb,Ta);var X=J(ya,Ta+r);var ea=(C[0]-hb[0])/Nb;Nb=(C[1]-hb[1])/Nb;C=(X[0]-hb[0])/r;hb=(X[1]-hb[1])/r;r=hb*ea-Nb*C;r=(.5>wc(r)?.5:1)/r;C=(yb*C-tb*hb)*r;ea=(tb*Nb-yb*ea)*r;ya+=C;Ta+=ea;if(wc(C)<V&&wc(ea)<V)break}}return[ya,Ta]}}function Ea(){function J(V,ca){if(-1.4>V+ca){var ua=
(V-ca+1.6)*(V+ca+1.4)/8;V+=ua;ca-=.8*ua*R(ca+Fa/2)}ua=M(V,ca);V=(1-Ub(V*ca))/12;0>ua[1]&&(ua[0]*=1+V);0<ua[1]&&(ua[1]*=1+V/1.5*ua[0]*ua[0]);return ua}var M=Ca(1.68,2);J.invert=za(J);return J}function gb(J,M){J*=R(M);var V=30,ca;do M-=ca=(M+R(M)-J)/(1+Ub(M));while(1E-6<wc(ca)&&0<--V);return M/2}function xa(J,M,V){function ca(ua,ya){return[J*ua*Ub(ya=gb(V,ya)),M*R(ya)]}ca.invert=function(ua,ya){return ya=Qa(ya/M),[ua/(J*Ub(ya)),Qa((2*ya+R(2*ya))/V)]};return ca}function Ua(J,M){var V=gb(Fa,M);return[2.00276*
J/(1/Ub(M)+1.11072/Ub(V)),(M+xc*R(V))/2.00276]}function Ja(J){var M=0,V=v.geoProjectionMutator(J);J=V(M);J.parallel=function(ca){return arguments.length?V(M=ca*Tc):M*Wc};return J}function da(J,M){return[J*Ub(M),M]}function wa(J){function M(ca,ua){var ya=V+J-ua;ca=ya?ca*Ub(ua)/ya:ya;return[ya*R(ca),V-ya*Ub(ca)]}if(!J)return da;var V=1/ra(J);M.invert=function(ca,ua){var ya=db(ca*ca+(ua=V-ua)*ua),Ta=V+J-ya;return[ya/Ub(Ta)*Vd(ca,ua),Ta]};return M}function La(J){function M(V,ca){V=(ca=Oa-ca)?V*J*R(ca)/
ca:ca;return[ca*R(V)/J,Oa-ca*Ub(V)]}M.invert=function(V,ca){V*=J;var ua=Oa-ca;ca=db(V*V+ua*ua);V=Vd(V,ua);return[(ca?ca/R(ca):1)*V/J,Oa-ca]};return M}function Ra(J,M,V,ca,ua,ya){var Ta=Ub(ya);if(1<wc(J)||1<wc(ya))J=Qb(V*ua+M*ca*Ta);else{J=R(J/2);var ob=R(ya/2);J=2*Qa(db(J*J+M*ca*ob*ob))}return 1E-6<wc(J)?[J,Vd(ca*R(ya),M*ua-V*ca*Ta)]:[0,0]}function fb(J,M,V){return Qb((J*J+M*M-V*V)/(2*J*M))}function Wa(J,M,V){var ca=[[J[0],J[1],R(J[1]),Ub(J[1])],[M[0],M[1],R(M[1]),Ub(M[1])],[V[0],V[1],R(V[1]),Ub(V[1])]];
J=ca[2];for(V=0;3>V;++V,J=M)M=ca[V],J.v=Ra(M[1]-J[1],J[3],J[2],M[3],M[2],M[0]-J[0]),J.point=[0,0];J=fb(ca[0].v[0],ca[2].v[0],ca[1].v[0]);var ua=fb(ca[0].v[0],ca[1].v[0],ca[2].v[0]),ya=Fa-J;ca[2].point[1]=0;ca[0].point[0]=-(ca[1].point[0]=ca[0].v[0]/2);var Ta=[ca[2].point[0]=ca[0].point[0]+ca[2].v[0]*Ub(J),2*(ca[0].point[1]=ca[1].point[1]=ca[2].v[0]*R(J))];return function(ob,hb){var tb=R(hb),yb=Ub(hb),Nb=Array(3),gc;for(gc=0;3>gc;++gc){var r=ca[gc];Nb[gc]=Ra(hb-r[1],r[3],r[2],yb,tb,ob-r[0]);if(!Nb[gc][0])return r.point;
var C=Nb[gc];r=Nb[gc][1]-r.v[1];r-=2*Fa*Yd((r+Fa)/(2*Fa));C[1]=r}ob=Ta.slice();for(gc=0;3>gc;++gc)hb=fb(ca[gc].v[0],Nb[gc][0],Nb[2==gc?0:gc+1][0]),0>Nb[gc][1]&&(hb=-hb),gc?1==gc?(hb=ua-hb,ob[0]-=Nb[gc][0]*Ub(hb),ob[1]-=Nb[gc][0]*R(hb)):(hb=ya-hb,ob[0]+=Nb[gc][0]*Ub(hb),ob[1]+=Nb[gc][0]*R(hb)):(ob[0]+=Nb[gc][0]*Ub(hb),ob[1]-=Nb[gc][0]*R(hb));ob[0]/=3;ob[1]/=3;return ob}}function jb(J){return J[0]*=Tc,J[1]*=Tc,J}function Xa(J,M,V){var ca=v.geoCentroid({type:"MultiPoint",coordinates:[J,M,V]});ca=[-ca[0],
-ca[1]];var ua=v.geoRotation(ca);J=Wa(jb(ua(J)),jb(ua(M)),jb(ua(V)));J.invert=za(J);J=v.geoProjection(J).rotate(ca);var ya=J.center;delete J.rotate;J.center=function(Ta){return arguments.length?ya(ua(Ta)):ua.invert(ya())};return J.clipAngle(90)}function Q(J,M){M=db(1-R(M));return[2/oc*J*M,oc*(1-M)]}function x(J){function M(ca,ua){return[ca,(ca?ca/R(ca):1)*(R(ua)*Ub(ca)-V*Ub(ua))]}var V=ra(J);M.invert=V?function(ca,ua){ca&&(ua*=R(ca)/ca);var ya=Ub(ca);return[ca,2*Vd(db(ya*ya+V*V-ua*ua)-ya,V-ua)]}:
function(ca,ua){return[ca,Qa(ca?ua*ra(ca)/ca:ua)]};return M}function F(J,M){return[ye*J*(2*Ub(2*M/3)-1)/oc,ye*oc*R(M/3)]}function O(J){function M(ca,ua){return[ca*V,R(ua)/V]}var V=Ub(J);M.invert=function(ca,ua){return[ca/V,Qa(ua*V)]};return M}function K(J){function M(ca,ua){return[ca*V,(1+V)*ra(ua/2)]}var V=Ub(J);M.invert=function(ca,ua){return[ca/V,2*pe(ua/(1+V))]};return M}function ka(J,M){var V=db(8/(3*Fa));return[V*J*(1-wc(M)/Fa),V*M]}function ia(J,M){var V=db(4-3*R(wc(M)));return[2/db(6*Fa)*
J*V,I(M)*db(2*Fa/3)*(2-V)]}function ma(J,M){var V=db(Fa*(4+Fa));return[2/V*J*(1+db(1-4*M*M/(Fa*Fa))),4/V*M]}function Ya(J,M){var V=(2+Oa)*R(M);M/=2;for(var ca=0,ua=Infinity;10>ca&&1E-6<wc(ua);ca++)ua=Ub(M),M-=ua=(M+R(M)*(ua+2)-V)/(2*ua*(1+ua));return[2/db(Fa*(4+Fa))*J*(1+Ub(M)),2*db(Fa/(4+Fa))*R(M)]}function Za(J,M){return[J*(1+Ub(M))/db(2+Fa),2*M/db(2+Fa)]}function S(J,M){for(var V=(1+Oa)*R(M),ca=0,ua=Infinity;10>ca&&1E-6<wc(ua);ca++)M-=ua=(M+R(M)-V)/(1+Ub(M));V=db(2+Fa);return[J*(1+Ub(M))/V,2*M/
V]}function qa(J,M){var V=R(J/=2);J=Ub(J);var ca=db(Ub(M)),ua=Ub(M/=2);M=R(M)/(ua+xc*J*ca);var ya=db(2/(1+M*M));V=db((xc*ua+(J+V)*ca)/(xc*ua+(J-V)*ca));return[ve*(ya*(V-1/V)-2*se(V)),ve*(ya*M*(V+1/V)-2*pe(M))]}function ta(J,M){M=ra(M/2);return[J*We*db(1-M*M),(1+We)*M]}function ha(J,M){var V=M/2,ca=Ub(V);return[2*J/oc*Ub(M)*ca*ca,oc*ra(V)]}function P(J){function M(hb,tb){var yb=Ub(tb),Nb=R(tb);return[yb/(ua+J*yb)*hb,ua*tb+J*Nb]}function V(hb,tb){hb=M(hb,tb);return[hb[0]*ob,hb[1]/ob]}function ca(hb){return V(0,
hb)[1]}var ua=1-J,ya=M(Fa,0)[0]-M(-Fa,0)[0],Ta=M(0,Oa)[1]-M(0,-Oa)[1],ob=db(2*Ta/ya);V.invert=function(hb,tb){tb=kb(ca,tb);return[hb/ob*(J+ua/Ub(tb)),tb]};return V}function t(J){return[2*J[0],2*pe(R(J[1]*Tc))*Wc]}function u(J,M){function V(ya,Ta){ya=v.geoAzimuthalEquidistantRaw(ya,Ta);Ta=ya[0];var ob=ya[1],hb=Ta*Ta+ob*ob;if(hb>ua){var tb=db(hb);Ta=Vd(ob,Ta);hb=ca*Ge(Ta/ca);ob=Ta-hb;var yb=J*Ub(ob),Nb=(J*R(ob)-ob*R(yb))/(Oa-yb),gc=l(ob,Nb),r=(Fa-J)/p(gc,yb,Fa);Ta=tb;var C=50,X;do Ta-=X=(J+p(gc,yb,
Ta)*r-tb)/(gc(Ta)*r);while(1E-6<wc(X)&&0<--C);ob*=R(Ta);Ta<Oa&&(ob-=Nb*(Ta-Oa));tb=R(hb);hb=Ub(hb);ya[0]=Ta*hb-ob*tb;ya[1]=Ta*tb+ob*hb}return ya}var ca=2*Fa/M,ua=J*J;V.invert=function(ya,Ta){var ob=ya*ya+Ta*Ta;if(ob>ua){var hb=db(ob);Ta=Vd(Ta,ya);ob=ca*Ge(Ta/ca);Ta-=ob;ya=hb*Ub(Ta);Ta=hb*R(Ta);hb=ya-Oa;for(var tb=R(ya),yb=Ta/tb,Nb=ya<Oa?Infinity:0,gc=10;;){var r=J*R(yb),C=J*Ub(yb),X=R(C),ea=Oa-C,eb=(r-yb*X)/ea,Cb=l(yb,eb);if(1E-12>wc(Nb)||!--gc)break;yb-=Nb=(yb*tb-eb*hb-Ta)/(tb-2*hb*(ea*(C+yb*r*Ub(C)-
X)-r*(r-yb*X))/(ea*ea))}hb=J+p(Cb,C,ya)*(Fa-J)/p(Cb,C,Fa);Ta=ob+yb;ya=hb*Ub(Ta);Ta=hb*R(Ta)}return v.geoAzimuthalEquidistantRaw.invert(ya,Ta)};return V}function l(J,M){return function(V){var ca=J*Ub(V);V<Oa&&(ca-=M);return db(1+ca*ca)}}function p(J,M,V){var ca=(V-M)/50;V=J(M)+J(V);for(var ua=1;50>ua;++ua)V+=2*J(M+=ca);return.5*V*ca}function A(J,M,V,ca,ua,ya,Ta,ob){function hb(tb,yb){if(!yb)return[J*tb/Fa,0];var Nb=yb*yb,gc=J+Nb*(M+Nb*(V+Nb*ca)),r=yb*(ua-1+Nb*(ya-ob+Nb*Ta));r=(gc*gc+r*r)/(2*r);tb=
tb*Qa(gc/r)/Fa;return[r*R(tb),yb*(1+Nb*ob)+r*(1-Ub(tb))]}8>arguments.length&&(ob=0);hb.invert=function(tb,yb){var Nb=Fa*tb/J,gc=yb,r=50;do{var C=gc*gc,X=J+C*(M+C*(V+C*ca)),ea=gc*(ua-1+C*(ya-ob+C*Ta)),eb=X*X+ea*ea,Cb=2*ea;var Jb=eb/Cb;var $b=Jb*Jb;var rc=Qa(X/Jb)/Fa;var Ic=Nb*rc,Fc=X*X,hd=(2*M+C*(4*V+6*C*ca))*gc,yd=ua+C*(3*ya+5*C*Ta);ea=(2*(X*hd+ea*(yd-1))*Cb-2*eb*(yd-1))/(Cb*Cb);eb=Ub(Ic);yd=R(Ic);Cb=Jb*eb;Ic=Jb*yd;$b=Nb/Fa*(1/db(1-Fc/$b))*(hd*Jb-X*ea)/$b;X=Ic-tb;C=gc*(1+C*ob)+Jb-Cb-yb;Jb=ea*yd+Cb*
$b;Fc=Cb*rc;ea=1+ea-(ea*eb-Ic*$b);rc*=Ic;eb=Jb*rc-ea*Fc;if(!eb)break;Nb-=Jb=(C*Jb-X*ea)/eb;gc-=rc=(X*rc-C*Fc)/eb}while((1E-6<wc(Jb)||1E-6<wc(rc))&&0<--r);return[Nb,gc]};return hb}function B(J,M){var V=J*J,ca=M*M;return[J*(1-.162388*ca)*(.87-9.52426E-4*V*V),M*(1+ca/12)]}function E(J){function M(ca,ua){var ya=0<ca?-.5:.5;ca=J(ca+ya*Fa,ua);ca[0]-=ya*V;return ca}var V=J(Oa,0)[0]-J(-Oa,0)[0];J.invert&&(M.invert=function(ca,ua){var ya=0<ca?-.5:.5;ca=J.invert(ca+ya*V,ua);ya=ca[0]-ya*Fa;ya<-Fa?ya+=2*Fa:ya>
Fa&&(ya-=2*Fa);ca[0]=ya;return ca});return M}function z(J,M){var V=I(J),ca=I(M),ua=Ub(M),ya=Ub(J)*ua;J=R(J)*ua;M=R(ca*M);J=wc(Vd(J,M));M=Qa(ya);1E-6<wc(J-Oa)&&(J%=Oa);ya=aa(J>Fa/4?Oa-J:J,M);J>Fa/4&&(M=ya[0],ya[0]=-ya[1],ya[1]=-M);return ya[0]*=V,ya[1]*=-ca,ya}function aa(J,M){if(M===Oa)return[0,0];var V=R(M),ca=V*V,ua=ca*ca,ya=1+ua,Ta=1+3*ua,ob=1-ua,hb=Qa(1/db(ya)),tb=ob+ca*ya*hb,yb=(1-V)/tb,Nb=db(yb),gc=yb*ya,r=db(gc),C=Nb*ob;if(0===J)return[0,-(C+ca*r)];var X=Ub(M),ea=1/X,eb=2*V*X;hb=(-tb*X-(1-
V)*(-3*ca+hb*Ta)*eb)/(tb*tb);V=-ea*eb;ya=-ea*(ca*ya*hb+yb*Ta*eb);ob=-2*ea*(.5*hb/Nb*ob-2*ca*Nb*eb);Nb=4*J/Fa;if(J>.222*Fa||M<Fa/4&&J>.175*Fa){M=(C+ca*db(gc*(1+ua)-C*C))/(1+ua);if(J>Fa/4)return[M,M];ua=M;ea=.5*M;M=.5*(ea+ua);J=50;do{eb=db(gc-M*M);eb=M*(ob+V*eb)+ya*Qa(M/r)-Nb;if(!eb)break;0>eb?ea=M:ua=M;M=.5*(ea+ua)}while(1E-6<wc(ua-ea)&&0<--J)}else{M=1E-6;J=25;do eb=M*M,ua=db(gc-eb),Ta=ob+V*ua,ea=M*Ta+ya*Qa(M/r)-Nb,eb=Ta+(ya-V*eb)/ua,M-=ua=ua?ea/eb:0;while(1E-6<wc(ua)&&0<--J)}return[M,-C-ca*db(gc-
M*M)]}function sa(J,M){if(1E-6>M){var V=R(J);var ca=Ub(J);var ua=M*(J-V*ca)/4;return[V-ua*ca,ca+ua*V,1-M*V*V/2,J-ua]}if(.999999<=M){ua=(1-M)/4;ca=Ib(J);V=oe(2*J);V=(V-1)/(V+1);M=1/ca;var ya=ca*pb(J);return[V+ua*(ya-J)/(ca*ca),M-ua*V*M*(ya-J),M+ua*V*M*(ya+J),2*pe(oe(J))-Oa+ua*(ya-J)/ca]}var Ta=[1,0,0,0,0,0,0,0,0],ob=[db(M),0,0,0,0,0,0,0,0],hb=0;ca=db(1-M);for(ya=1;1E-6<wc(ob[hb]/Ta[hb])&&8>hb;)ua=Ta[hb++],ob[hb]=(ua-ca)/2,Ta[hb]=(ua+ca)/2,ca=db(ua*ca),ya*=2;M=ya*Ta[hb]*J;do V=ob[hb]*R(ca=M)/Ta[hb],
M=(Qa(V)+M)/2;while(--hb);return[R(M),V=Ub(M),V/Ub(M-ca),M]}function fa(J,M){if(!M)return J;if(1===M)return se(ra(J/2+Pb));var V=1,ca=db(1-M),ua=db(M);for(M=0;1E-6<wc(ua);M++)J%Fa?(ua=pe(ca*ra(J)/V),0>ua&&(ua+=Fa),J+=ua+~~(J/Fa)*Fa):J+=J,ua=(V+ca)/2,ca=db(V*ca),ua=((V=ua)-ca)/2;return J/(Ve(2,M)*V)}function Na(J,M){var V=(xc-1)/(xc+1),ca=db(1-V*V),ua=fa(Oa,ca*ca),ya=se(ra(Fa/4+wc(M)/2));ya=oe(-1*ya)/db(V);V=ya*Ub(-1*J);var Ta=ya*R(-1*J);J=V*V;ya=Ta+1;Ta=1-J-Ta*Ta;J=[.5*((0<=V?Oa:-Oa)-Vd(Ta,2*V)),
-.25*se(Ta*Ta+4*J)+.5*se(ya*ya+J)];V=J[0];J=J[1];ca*=ca;ya=wc(V);Ta=wc(J);Ta=pb(Ta);if(ya){var ob=1/R(ya);ya=1/(ra(ya)*ra(ya));Ta=-(ya+ca*Ta*Ta*ob*ob-1+ca);Ta=(-Ta+db(Ta*Ta-4*(ca-1)*ya))/2;ca=[fa(pe(1/db(Ta)),ca)*I(V),fa(pe(db((Ta/ya-1)/ca)),1-ca)*I(J)]}else ca=[0,fa(pe(Ta),1-ca)*I(J)];return[-ca[1],(0<=M?1:-1)*(.5*ua-ca[0])]}function Da(J){function M(ya,Ta){var ob=ua(ya,Ta);ya=ob[0];Ta=ob[1];ob=R(Ta);Ta=Ub(Ta);var hb=Ub(ya),tb=Qb(V*ob+ca*Ta*hb),yb=R(tb);tb=1E-6<wc(yb)?tb/yb:1;return[tb*ca*R(ya),
(wc(ya)>Oa?tb:-tb)*(V*Ta-ca*ob*hb)]}var V=R(J),ca=Ub(J),ua=W(J);ua.invert=W(-J);M.invert=function(ya,Ta){var ob=db(ya*ya+Ta*Ta),hb=-R(ob),tb=Ub(ob),yb=ob*tb,Nb=-Ta*hb,gc=ob*V,r=db(yb*yb+Nb*Nb-gc*gc);yb=Vd(yb*gc+Nb*r,Nb*gc-yb*r);ya=(ob>Oa?-1:1)*Vd(ya*hb,ob*Ub(yb)*tb+Ta*R(yb)*hb);return ua.invert(ya,yb)};return M}function W(J){var M=R(J),V=Ub(J);return function(ca,ua){var ya=Ub(ua),Ta=Ub(ca)*ya;ca=R(ca)*ya;ua=R(ua);return[Vd(ca,Ta*V-ua*M),Qa(ua*V+Ta*M)]}}function na(J){function M(yb,Nb){var gc=wc(Nb);
if(gc>V){var r=Re(J-1,df(0,Yd((yb+Fa)/ob)));yb+=Fa*(J-1)/J-r*ob;yb=Q(yb,gc);yb[0]=yb[0]*yc/ca-yc*(J-1)/(2*J)+r*yc/J;yb[1]=ua+4*(yb[1]-ya)*Ta/yc;0>Nb&&(yb[1]=-yb[1])}else yb=vf(yb,Nb);yb[0]*=hb;yb[1]/=tb;return yb}var V=De*Tc,ca=Q(Fa,V)[0]-Q(-Fa,V)[0],ua=vf(0,V)[1],ya=Q(0,V)[1],Ta=oc-ya,ob=yc/J,hb=4/yc,tb=ua+Ta*Ta*4/yc;M.invert=function(yb,Nb){yb/=hb;Nb*=tb;var gc=wc(Nb);if(gc>ua){var r=Re(J-1,df(0,Yd((yb+Fa)/ob)));yb=(yb+Fa*(J-1)/J-r*ob)*ca/yc;yb=Q.invert(yb,.25*(gc-ua)*yc/Ta+ya);yb[0]-=Fa*(J-1)/
J-r*ob;0>Nb&&(yb[1]=-yb[1]);return yb}return vf.invert(yb,Nb)};return M}function $a(J,M){return[J,M&1?89.999999:De]}function sb(J,M){return[J,M&1?-89.999999:-De]}function Db(J){return[.999999*J[0],J[1]]}function Xb(J){var M=[].concat(Y.range(-180,180+J/2,J).map($a),Y.range(180,-180-J/2,-J).map(sb));return{type:"Polygon",coordinates:[180===J?M.map(Db):M]}}function vc(J){function M(yb,Nb){var gc=1-R(Nb);if(gc&&2>gc){var r=Oa-Nb,C=25;do{var X=R(r);var ea=Ub(r);Nb=ua+Vd(X,V-ea);ea=1+tb-2*V*ea;r-=X=(r-
hb*ua-V*X+ea*Nb-.5*gc*Ta)/(2*V*X*Nb)}while(1E-12<wc(X)&&0<--C);gc=ya*db(ea);yb=yb*Nb/Fa}else gc=ya*(J+gc),yb=yb*ua/Fa;return[gc*R(yb),ob-gc*Ub(yb)]}var V=1+J,ca=R(1/V),ua=Qa(ca),ya=2*db(Fa/(Ta=Fa+4*ua*V)),Ta,ob=.5*ya*(V+db(J*(2+J))),hb=J*J,tb=V*V;M.invert=function(yb,Nb){var gc=yb*yb+(Nb-=ob)*Nb;Nb=(1+tb-gc/(ya*ya))/(2*V);var r=Qb(Nb),C=R(r),X=ua+Vd(C,V-Nb);return[Qa(yb/db(gc))*Fa/X,Qa(1-2*(r-hb*ua-V*C+(1+tb-2*V*Nb)*X)/Ta)]};return M}function Vc(J,M){return-.7109889596207567<M?(J=jd(J,M),J[1]+=.0528035274542,
J):da(J,M)}function tc(J,M){return.7109889596207567<wc(M)?(J=jd(J,M),J[1]-=0<M?.0528035274542:-.0528035274542,J):da(J,M)}function Hc(J,M,V,ca){function ua(Nb){return db(1+J*Ub(2*Nb)+M*Ub(4*Nb))}function ya(Nb){Nb*=V;return(2*Nb+(1+J-M/2)*R(2*Nb)+(J+M)/2*R(4*Nb)+M/2*R(6*Nb))/V}function Ta(Nb){return ua(Nb)*R(Nb)}var ob=db(4*Fa/(2*V+(1+J-M/2)*R(2*V)+(J+M)/2*R(4*V)+M/2*R(6*V))),hb=db(ca*R(V)*db((1+J*Ub(2*V)+M*Ub(4*V))/(1+J+M))),tb=V*ya(1),yb=function(Nb,gc){var r=V*kb(ya,tb*R(gc)/V,gc/Fa);isNaN(r)&&
(r=V*I(gc));gc=ob*ua(r);return[gc*hb*Nb/Fa*Ub(r),gc/hb*R(r)]};yb.invert=function(Nb,gc){gc=kb(Ta,gc*hb/ob);return[Nb*Fa/(Ub(gc)*ob*hb*ua(gc)),Qa(V*ya(gc/V)/tb)]};0===V&&(ob=db(ca/Fa),yb=function(Nb,gc){return[Nb*ob,R(gc)/ob]},yb.invert=function(Nb,gc){return[Nb/ob,Qa(gc*ob)]});return yb}function Ma(J,M,V,ca,ua,ya,Ta,ob,hb,tb,yb){if(yb.nanEncountered)return NaN;var Nb=V-M;var gc=J(M+.25*Nb);var r=J(V-.25*Nb);if(isNaN(gc))yb.nanEncountered=!0;else if(isNaN(r))yb.nanEncountered=!0;else{var C=Nb*(ca+
4*gc+ua)/12;var X=Nb*(ua+4*r+ya)/12;var ea=C+X;Ta=(ea-Ta)/15;if(tb>hb)return yb.maxDepthCount++,ea+Ta;if(Math.abs(Ta)<ob)return ea+Ta;Nb=M+.5*Nb;M=Ma(J,M,Nb,ca,gc,ua,C,.5*ob,hb,tb+1,yb);if(isNaN(M))return yb.nanEncountered=!0,NaN;J=Ma(J,Nb,V,ua,r,ya,X,.5*ob,hb,tb+1,yb);return isNaN(J)?(yb.nanEncountered=!0,NaN):M+J}}function ec(J,M,V,ca,ua){void 0===ca&&(ca=1E-8);void 0===ua&&(ua=20);var ya=J(M),Ta=J(.5*(M+V)),ob=J(V);return Ma(J,M,V,ya,Ta,ob,(ya+4*Ta+ob)*(V-M)/6,ca,ua,1,{maxDepthCount:0,nanEncountered:!1})}
function cc(J,M,V){function ca(yb){return J+(1-J)*Ve(1-Ve(yb,M),1/M)}function ua(yb){var Nb=0,gc=1E3,r=500;do ob[r]>yb?gc=r:Nb=r,r=Nb+gc>>1;while(r>Nb);(Nb=ob[r+1]-ob[r])&&(Nb=(yb-ob[r+1])/Nb);return(r+1+Nb)/1E3}for(var ya=1/ec(ca,0,1,1E-4),Ta=1.00000001*ya,ob=[],hb=0;1E3>=hb;hb++)ob.push(ec(ca,0,hb/1E3,1E-4)*Ta);var tb=2*ua(1)/Fa*ya/V;V=function(yb,Nb){var gc=ua(wc(R(Nb)));yb*=ca(gc);gc/=tb;return[yb,0<=Nb?gc:-gc]};V.invert=function(yb,Nb){var gc;Nb*=tb;1>wc(Nb)&&(gc=I(Nb)*Qa(ec(ca,0,wc(Nb),1E-4)*
ya));return[yb/ca(wc(Nb)),gc]};return V}function nc(J,M){for(var V=-1,ca=J.length,ua=J[0],ya,Ta,ob,hb=[];++V<ca;){ya=J[V];Ta=(ya[0]-ua[0])/M;ob=(ya[1]-ua[1])/M;for(var tb=0;tb<M;++tb)hb.push([ua[0]+tb*Ta,ua[1]+tb*ob]);ua=ya}hb.push(ya);return hb}function Ec(J){var M=[],V,ca=J[0].length;for(V=0;V<ca;++V){var ua=J[0][V];var ya=ua[0][0];var Ta=ua[0][1];var ob=ua[1][1];var hb=ua[2][0];ua=ua[2][1];M.push(nc([[ya+1E-6,Ta+1E-6],[ya+1E-6,ob-1E-6],[hb-1E-6,ob-1E-6],[hb-1E-6,ua+1E-6]],30))}for(V=J[1].length-
1;0<=V;--V)ua=J[1][V],ya=ua[0][0],Ta=ua[0][1],ob=ua[1][1],hb=ua[2][0],ua=ua[2][1],M.push(nc([[hb-1E-6,ua-1E-6],[hb-1E-6,ob+1E-6],[ya+1E-6,ob+1E-6],[ya+1E-6,Ta-1E-6]],30));return{type:"Polygon",coordinates:[Y.merge(M)]}}function jc(J,M,V){function ca(hb,tb){for(var yb=0>tb?-1:1,Nb=M[+(0>tb)],gc=0,r=Nb.length-1;gc<r&&hb>Nb[gc][2][0];++gc);hb=J(hb-Nb[gc][1][0],tb);hb[0]+=J(Nb[gc][1][0],yb*tb>yb*Nb[gc][0][1]?Nb[gc][0][1]:tb)[0];return hb}var ua,ya;V?ca.invert=V(ca):J.invert&&(ca.invert=function(hb,tb){for(var yb=
ya[+(0>tb)],Nb=M[+(0>tb)],gc=0,r=yb.length;gc<r;++gc){var C=yb[gc];if(C[0][0]<=hb&&hb<C[1][0]&&C[0][1]<=tb&&tb<C[1][1])return yb=J.invert(hb-J(Nb[gc][1][0],0)[0],tb),yb[0]+=Nb[gc][1][0],Nb=ca(yb[0],yb[1]),hb=[hb,tb],1E-6>wc(Nb[0]-hb[0])&&1E-6>wc(Nb[1]-hb[1])?yb:null}});var Ta=v.geoProjection(ca),ob=Ta.stream;Ta.stream=function(hb){var tb=Ta.rotate(),yb=ob(hb),Nb=(Ta.rotate([0,0]),ob(hb));Ta.rotate(tb);yb.sphere=function(){v.geoStream(ua,Nb)};return yb};Ta.lobes=function(hb){if(!arguments.length)return M.map(function(tb){return tb.map(function(yb){return[[yb[0][0]*
Wc,yb[0][1]*Wc],[yb[1][0]*Wc,yb[1][1]*Wc],[yb[2][0]*Wc,yb[2][1]*Wc]]})});ua=Ec(hb);M=hb.map(function(tb){return tb.map(function(yb){return[[yb[0][0]*Tc,yb[0][1]*Tc],[yb[1][0]*Tc,yb[1][1]*Tc],[yb[2][0]*Tc,yb[2][1]*Tc]]})});ya=M.map(function(tb){return tb.map(function(yb){var Nb=J(yb[0][0],yb[0][1])[0],gc=J(yb[2][0],yb[2][1])[0],r=J(yb[1][0],yb[0][1])[1];yb=J(yb[1][0],yb[1][1])[1];if(r>yb){var C=r;r=yb;yb=C}return[[Nb,r],[gc,yb]]})});return Ta};null!=M&&Ta.lobes(M);return Ta}function Mc(J,M){return[3/
yc*J*db(Fa*Fa/3-M*M),M]}function Rc(J){function M(V,ca){if(1E-6>wc(wc(ca)-Oa))return[0,0>ca?-2:2];ca=R(ca);ca=Ve((1+ca)/(1-ca),J/2);var ua=.5*(ca+1/ca)+Ub(V*=J);return[2*R(V)/ua,(ca-1/ca)/ua]}M.invert=function(V,ca){var ua=wc(ca);if(1E-6>wc(ua-2))return V?null:[0,I(ca)*Oa];if(2<ua)return null;V/=2;ca/=2;ua=V*V;var ya=ca*ca;ca=2*ca/(1+ua+ya);ca=Ve((1+ca)/(1-ca),1/J);return[Vd(2*V,1-ua-ya)/J,Qa((ca-1)/(ca+1))]};return M}function Nc(J,M){return[J*(1+db(Ub(M)))/2,M/(Ub(M/2)*Ub(J/6))]}function ud(J,M){var V=
J*J,ca=M*M;return[J*(.975534+ca*(-.119161+-.0143059*V+-.0547009*ca)),M*(1.00384+V*(.0802894+-.02855*ca+1.99025E-4*V)+ca*(.0998909+-.0491032*ca))]}function ce(J,M){return[R(J)/Ub(M),ra(M)*Ub(J)]}function Zc(J){function M(ua,ya){var Ta=ya-J,ob=1E-6>wc(Ta)?ua*V:1E-6>wc(ob=Pb+ya/2)||1E-6>wc(wc(ob)-Oa)?0:ua*Ta/se(ra(ob)/ca);return[ob,Ta]}var V=Ub(J),ca=ra(Pb+J/2);M.invert=function(ua,ya){var Ta,ob=ya+J;return[1E-6>wc(ya)?ua/V:1E-6>wc(Ta=Pb+ob/2)||1E-6>wc(wc(Ta)-Oa)?0:ua*se(ra(Ta)/ca)/ya,ob]};return M}
function ed(J,M){return[J,1.25*se(ra(Pb+.4*M))]}function Pd(J){function M(ca,ua){var ya=Ub(ua),Ta=2/(1+ya*Ub(ca));ca=Ta*ya*R(ca);ua=Ta*R(ua);Ta=V;ya=J[Ta];for(var ob=ya[0],hb=ya[1],tb;0<=--Ta;)ya=J[Ta],ob=ya[0]+ca*(tb=ob)-ua*hb,hb=ya[1]+ca*hb+ua*tb;ob=ca*(tb=ob)-ua*hb;return[ob,ca*hb+ua*tb]}var V=J.length-1;M.invert=function(ca,ua){var ya=20,Ta=ca,ob=ua;do{for(var hb=V,tb=J[hb],yb=tb[0],Nb=tb[1],gc=0,r=0,C;0<=--hb;)tb=J[hb],gc=yb+Ta*(C=gc)-ob*r,r=Nb+Ta*r+ob*C,yb=tb[0]+Ta*(C=yb)-ob*Nb,Nb=tb[1]+Ta*
Nb+ob*C;gc=yb+Ta*(C=gc)-ob*r;r=Nb+Ta*r+ob*C;yb=Ta*(C=yb)-ob*Nb-ca;Nb=Ta*Nb+ob*C-ua;tb=gc*gc+r*r;Ta-=hb=(yb*gc+Nb*r)/tb;ob-=yb=(Nb*gc-yb*r)/tb}while(1E-12<wc(hb)+wc(yb)&&0<--ya);if(ya)return ca=db(Ta*Ta+ob*ob),ua=2*pe(.5*ca),ya=R(ua),[Vd(Ta*ya,ca*Ub(ua)),ca?Qa(ob*ya/ca):0]};return M}function Ha(J,M){J=v.geoProjection(Pd(J)).rotate(M).clipAngle(90);var V=v.geoRotation(M),ca=J.center;delete J.rotate;J.center=function(ua){return arguments.length?ca(V(ua)):V.invert(ca())};return J}function qb(J,M){M=Qa(7*
R(M)/(3*Sc));return[Sc*J*(2*Ub(2*M/3)-1)/gd,9*R(M/3)/gd]}function Sb(J,M){for(var V=(1+dc)*R(M),ca=0,ua;25>ca&&!(M-=ua=(R(M/2)+R(M)-V)/(.5*Ub(M/2)+Ub(M)),1E-6>wc(ua));ca++);return[J*(1+2*Ub(M)/Ub(M/2))/(3*xc),2*db(3)*R(M/2)/db(2+xc)]}function dd(J,M){var V=db(6/(4+Fa)),ca=(1+Fa/4)*R(M);M/=2;for(var ua=0,ya;25>ua&&!(M-=ya=(M/2+R(M)-ca)/(.5+Ub(M)),1E-6>wc(ya));ua++);return[V*(.5+Ub(M))*J/1.5,V*M]}function nd(J,M){var V=M*M,ca=V*V,ua=V*ca;return[J*(.84719-.13063*V+ua*ua*(-.04515+.05494*V-.02326*ca+.00331*
ua)),M*(1.01183+ca*ca*(-.02625+.01926*V-.00396*ca))]}function Nd(J,M){return[J*(1+Ub(M))/2,2*(M-ra(M/2))]}function Wd(J,M){var V=R(M),ca=Ub(M),ua=I(J);if(0===J||wc(M)===Oa)return[0,M];if(0===M)return[J,0];if(wc(J)===Oa)return[J*ca,Oa*V];J=Fa/(2*J)-2*J/Fa;var ya=2*M/Fa,Ta=(1-ya*ya)/(V-ya),ob=J*J,hb=Ta*Ta;ya=1+ob/hb;var tb=1+hb/ob,yb=(J*V/Ta-J/2)/ya,Nb=(hb*V/ob+Ta/2)/tb;V=Nb*Nb-(hb*V*V/ob+Ta*V-1)/tb;return[Oa*(yb+db(yb*yb+ca*ca/ya)*ua),Oa*(Nb+db(0>V?0:V)*I(-M*J)*ua)]}function U(J,M){var V=M*M;return[J,
M*(1.0148+V*V*(.23185+V*(-.14499+.02406*V)))]}function va(J,M){if(1E-6>wc(M))return[J,0];var V=ra(M);J*=R(M);return[R(J)/V,M+(1-Ub(J))/V]}function ab(J,M){var V=Rb(J[1],J[0]),ca=Rb(M[1],M[0]),ua=Vd(V[0]*ca[1]-V[1]*ca[0],V[0]*ca[0]+V[1]*ca[1]);V=db(V[0]*V[0]+V[1]*V[1])/db(ca[0]*ca[0]+ca[1]*ca[1]);return xb([1,0,J[0][0],0,1,J[0][1]],xb([V,0,0,0,V,0],xb([Ub(ua),R(ua),0,-R(ua),Ub(ua),0],[1,0,-M[0][0],0,1,-M[0][1]])))}function xb(J,M){return[J[0]*M[0]+J[1]*M[3],J[0]*M[1]+J[1]*M[4],J[0]*M[2]+J[1]*M[5]+
J[2],J[3]*M[0]+J[4]*M[3],J[3]*M[1]+J[4]*M[4],J[3]*M[2]+J[4]*M[5]+J[5]]}function Rb(J,M){return[J[0]-M[0],J[1]-M[1]]}function zb(J,M){function V(ob,hb){ob.edges=lb(ob.face);if(hb.face){var tb=ob.shared=Ia(ob.face,hb.face),yb=ab(tb.map(hb.project),tb.map(ob.project));ob.transform=hb.transform?xb(hb.transform,yb):yb;yb=hb.edges;for(var Nb=0,gc=yb.length;Nb<gc;++Nb)bc(tb[0],yb[Nb][1])&&bc(tb[1],yb[Nb][0])&&(yb[Nb]=ob),bc(tb[0],yb[Nb][0])&&bc(tb[1],yb[Nb][1])&&(yb[Nb]=ob);yb=ob.edges;Nb=0;for(gc=yb.length;Nb<
gc;++Nb)bc(tb[0],yb[Nb][0])&&bc(tb[1],yb[Nb][1])&&(yb[Nb]=hb),bc(tb[0],yb[Nb][1])&&bc(tb[1],yb[Nb][0])&&(yb[Nb]=hb)}else ob.transform=hb.transform;ob.children&&ob.children.forEach(function(r){V(r,ob)});return ob}function ca(ob,hb){var tb=M(ob,hb);ob=tb.project([ob*Wc,hb*Wc]);if(tb=tb.transform)return[tb[0]*ob[0]+tb[1]*ob[1]+tb[2],-(tb[3]*ob[0]+tb[4]*ob[1]+tb[5])];ob[1]=-ob[1];return ob}function ua(ob,hb){var tb=ob.project.invert,yb=ob.transform,Nb=hb;if(yb){var gc=1/(yb[0]*yb[4]-yb[1]*yb[3]);yb=[gc*
yb[4],-gc*yb[1],gc*(yb[1]*yb[5]-yb[2]*yb[4]),-gc*yb[3],gc*yb[0],gc*(yb[2]*yb[3]-yb[0]*yb[5])];Nb=[yb[0]*Nb[0]+yb[1]*Nb[1]+yb[2],yb[3]*Nb[0]+yb[4]*Nb[1]+yb[5]]}if(yb=tb)tb=r=tb(Nb),tb=M(tb[0]*Tc,tb[1]*Tc),yb=ob===tb;if(yb)return r;var r;ob=ob.children;tb=0;for(Nb=ob&&ob.length;tb<Nb;++tb)if(r=ua(ob[tb],hb))return r}V(J,{transform:null});Eb(J)&&(ca.invert=function(ob,hb){return(ob=ua(J,[ob,-hb]))&&(ob[0]*=Tc,ob[1]*=Tc,ob)});var ya=v.geoProjection(ca),Ta=ya.stream;ya.stream=function(ob){var hb=ya.rotate(),
tb=Ta(ob),yb=(ya.rotate([0,0]),Ta(ob));ya.rotate(hb);tb.sphere=function(){yb.polygonStart();yb.lineStart();kc(yb,J);yb.lineEnd();yb.polygonEnd()};return tb};return ya.angle(-30)}function kc(J,M,V){var ca,ua=M.edges,ya=ua.length;var Ta={type:"MultiPoint",coordinates:M.face};var ob=M.face.filter(function(Nb){return 90!==wc(Nb[1])}),hb=v.geoBounds({type:"MultiPoint",coordinates:ob});ob=!1;var tb=-1,yb=hb[1][0]-hb[0][0];hb=180===yb||360===yb?[(hb[0][0]+hb[1][0])/2,(hb[0][1]+hb[1][1])/2]:v.geoCentroid(Ta);
if(V)for(;++tb<ya&&ua[tb]!==V;);++tb;for(yb=0;yb<ya;++yb)Ta=ua[(yb+tb)%ya],Array.isArray(Ta)?(ob||(J.point((ca=v.geoInterpolate(Ta[0],hb)(1E-6))[0],ca[1]),ob=!0),J.point((ca=v.geoInterpolate(Ta[1],hb)(1E-6))[0],ca[1])):(ob=!1,Ta!==V&&kc(J,Ta,M))}function bc(J,M){return J&&M&&J[0]===M[0]&&J[1]===M[1]}function Ia(J,M){for(var V,ca,ua=J.length,ya=null,Ta=0;Ta<ua;++Ta){V=J[Ta];for(var ob=M.length;0<=--ob;)if(ca=M[ob],V[0]===ca[0]&&V[1]===ca[1]){if(ya)return[ya,V];ya=V}}}function lb(J){for(var M=J.length,
V=[],ca=J[M-1],ua=0;ua<M;++ua)V.push([ca,ca=J[ua]]);return V}function Eb(J){return J.project.invert||J.children&&J.children.some(Eb)}function Zb(J,M){J=Q(J,M);return[J[0]*Bd,J[1]]}function lc(J,M){for(var V=0,ca=J.length,ua=0;V<ca;++V)ua+=J[V]*M[V];return ua}function uc(J,M){return[J[1]*M[2]-J[2]*M[1],J[2]*M[0]-J[0]*M[2],J[0]*M[1]-J[1]*M[0]]}function Cc(J){return[Vd(J[1],J[0])*Wc,Qa(df(-1,Re(1,J[2])))*Wc]}function Bb(J){var M=J[0]*Tc;J=J[1]*Tc;var V=Ub(J);return[V*Ub(M),V*R(M),R(J)]}function pc(J,
M){return{type:"FeatureCollection",features:J.features.map(function(V){return sc(V,M)})}}function sc(J,M){return{type:"Feature",id:J.id,properties:J.properties,geometry:Bc(J.geometry,M)}}function mc(J,M){return{type:"GeometryCollection",geometries:J.geometries.map(function(V){return Bc(V,M)})}}function Bc(J,M){if(!J)return null;if("GeometryCollection"===J.type)return mc(J,M);switch(J.type){case "Point":var V=qf;break;case "MultiPoint":V=qf;break;case "LineString":V=Kd;break;case "MultiLineString":V=
Kd;break;case "Polygon":V=Xe;break;case "MultiPolygon":V=Xe;break;case "Sphere":V=Xe;break;default:return null}v.geoStream(J,M(V));return V.result()}function Oc(J){function M(ca,ua){var ya=wc(ca)<Oa;ua=J(ya?ca:0<ca?ca-Fa:ca+Fa,ua);ca=(ua[0]-ua[1])*dc;ua=(ua[0]+ua[1])*dc;if(ya)return[ca,ua];ya=V*dc;var Ta=0<ca^0<ua?-1:1;return[Ta*ca-I(ua)*ya,Ta*ua-I(ca)*ya]}var V=J(Oa,0)[0]-J(-Oa,0)[0];J.invert&&(M.invert=function(ca,ua){var ya=(ca+ua)*dc,Ta=(ua-ca)*dc,ob=wc(ya)<.5*V&&wc(Ta)<.5*V;if(!ob){var hb=V*
dc,tb=0<ya^0<Ta?-1:1;ca=-tb*ca+(0<Ta?1:-1)*hb;ua=-tb*ua+(0<ya?1:-1)*hb;ya=(-ca-ua)*dc;Ta=(ca-ua)*dc}ua=J.invert(ya,Ta);ob||(ua[0]+=0<ya?Fa:-Fa);return ua});return v.geoProjection(M).rotate([-90,-90,45]).clipAngle(179.999)}function Kc(J){function M(ca,ua){ca=V?ra(ca*V/2)/V:ca/2;if(!ua)return[2*ca,-J];ca=2*pe(ca*R(ua));var ya=1/ra(ua);return[R(ca)*ya,ua+(1-Ub(ca))*ya-J]}var V=R(J);M.invert=function(ca,ua){if(1E-6>wc(ua+=J))return[V?2*pe(V*ca/2)/V:ca,0];var ya=ca*ca+ua*ua,Ta=0,ob=10;do{var hb=ra(Ta);
var tb=1/Ub(Ta),yb=ya-2*ua*Ta+Ta*Ta;Ta-=hb=(hb*yb+2*(Ta-ua))/(2+yb*tb*tb+2*(Ta-ua)*hb)}while(1E-6<wc(hb)&&0<--ob);ca*=hb=ra(Ta);ua=ra(wc(ua)<wc(Ta+1/hb)?.5*Qa(ca):.5*Qb(ca)+Fa/4)/R(Ta);return[V?2*pe(V*ua)/V:2*ua,Ta]};return M}function ad(J,M){var V=Re(18,36*wc(M)/Fa),ca=Yd(V);V-=ca;var ua=(hb=je[ca])[0],ya=hb[1],Ta=(hb=je[++ca])[0],ob=hb[1];ca=(hb=je[Re(19,++ca)])[0];hb=hb[1];var hb;return[J*(Ta+V*(ca-ua)/2+V*V*(ca-2*Ta+ua)/2),(0<M?Oa:-Oa)*(ob+V*(hb-ya)/2+V*V*(hb-2*ob+ya)/2)]}function id(J){function M(V,
ca){var ua=Ub(ca),ya=(J-1)/(J-ua*Ub(V));return[ya*ua*R(V),ya*R(ca)]}M.invert=function(V,ca){var ua=V*V+ca*ca,ya=db(ua);ua=(J-db(1-ua*(J+1)/(J-1)))/((J-1)/ya+ya/(J-1));return[Vd(V*ua,ya*db(1-ua*ua)),ya?Qa(ca*ua/ya):0]};return M}function td(J,M){function V(Ta,ob){Ta=ca(Ta,ob);ob=Ta[1];var hb=ob*ya/(J-1)+ua;return[Ta[0]*ua/hb,ob/hb]}var ca=id(J);if(!M)return ca;var ua=Ub(M),ya=R(M);V.invert=function(Ta,ob){var hb=(J-1)/(J-1-ob*ya);return ca.invert(hb*Ta,hb*ob*ua)};return V}function qd(J){return 0<J.length}
function Fd(J){return-90===J||90===J?[0,J]:[-180,Math.floor(1E4*J)/1E4]}function Ud(J){var M=J[0],V=J[1],ca=!1;-179.9999>=M?(M=-180,ca=!0):179.9999<=M&&(M=180,ca=!0);-89.9999>=V?(V=-90,ca=!0):89.9999<=V&&(V=90,ca=!0);return ca?[M,V]:J}function ee(J){return J.map(Ud)}function we(J,M,V){for(var ca=0,ua=J.length;ca<ua;++ca){var ya=J[ca].slice();V.push({index:-1,polygon:M,ring:ya});for(var Ta=0,ob=ya.length;Ta<ob;++Ta){var hb=ya[Ta],tb=hb[0],yb=hb[1];if(-179.9999>=tb||179.9999<=tb||-89.9999>=yb||89.9999<=
yb){ya[Ta]=Ud(hb);for(hb=Ta+1;hb<ob;++hb){var Nb=ya[hb];tb=Nb[0];Nb=Nb[1];if(-179.9999<tb&&179.9999>tb&&-89.9999<Nb&&89.9999>Nb)break}if(hb!==Ta+1){Ta?(Ta={index:-1,polygon:M,ring:ya.slice(0,Ta+1)},Ta.ring[Ta.ring.length-1]=Fd(yb),V[V.length-1]=Ta):V.pop();if(hb>=ob)break;V.push({index:-1,polygon:M,ring:ya=ya.slice(hb-1)});ya[0]=Fd(ya[0][1]);Ta=-1;ob=ya.length}}}}}function re(J){var M,V=J.length,ca={},ua={};for(M=0;M<V;++M){var ya=J[M];var Ta=ya.ring[0];var ob=ya.ring[ya.ring.length-1];Ta[0]===ob[0]&&
Ta[1]===ob[1]?(ya.polygon.push(ya.ring),J[M]=null):(ya.index=M,ca[Ta]=ua[ob]=ya)}for(M=0;M<V;++M)if(ya=J[M]){Ta=ya.ring[0];ob=ya.ring[ya.ring.length-1];var hb=ua[Ta];var tb=ca[ob];delete ca[Ta];delete ua[ob];Ta[0]===ob[0]&&Ta[1]===ob[1]?ya.polygon.push(ya.ring):hb?(delete ua[Ta],delete ca[hb.ring[0]],hb.ring.pop(),J[hb.index]=null,ya={index:-1,polygon:hb.polygon,ring:hb.ring.concat(ya.ring)},hb===tb?ya.polygon.push(ya.ring):(ya.index=V++,J.push(ca[ya.ring[0]]=ua[ya.ring[ya.ring.length-1]]=ya))):tb?
(delete ca[ob],delete ua[tb.ring[tb.ring.length-1]],ya.ring.pop(),ya={index:V++,polygon:tb.polygon,ring:ya.ring.concat(tb.ring)},J[tb.index]=null,J.push(ca[ya.ring[0]]=ua[ya.ring[ya.ring.length-1]]=ya)):(ya.ring.push(ya.ring[0]),ya.polygon.push(ya.ring))}}function te(J){var M={type:"Feature",geometry:rd(J.geometry)};null!=J.id&&(M.id=J.id);null!=J.bbox&&(M.bbox=J.bbox);null!=J.properties&&(M.properties=J.properties);return M}function rd(J){if(null==J)return J;switch(J.type){case "GeometryCollection":var M=
{type:"GeometryCollection",geometries:J.geometries.map(rd)};break;case "Point":M={type:"Point",coordinates:Ud(J.coordinates)};break;case "MultiPoint":case "LineString":M={type:J.type,coordinates:ee(J.coordinates)};break;case "MultiLineString":M={type:"MultiLineString",coordinates:J.coordinates.map(ee)};break;case "Polygon":var V=[];we(J.coordinates,V,M=[]);re(M);M={type:"Polygon",coordinates:V};break;case "MultiPolygon":M=[];V=-1;var ca=J.coordinates.length;for(var ua=Array(ca);++V<ca;)we(J.coordinates[V],
ua[V]=[],M);re(M);M={type:"MultiPolygon",coordinates:ua.filter(qd)};break;default:return J}null!=J.bbox&&(M.bbox=J.bbox);return M}function Jd(J,M){M=ra(M/2);var V=R(Pb*M);return[J*(.74482-.34588*V*V),1.70711*M]}function Me(J,M,V){var ca=v.geoInterpolate(M,V);V=ca(.5);M=v.geoRotation([-V[0],-V[1]])(M);ca=ca.distance/2;var ua=-Qa(R(M[1]*Tc)/R(ca));V=[-V[0],-V[1],-(0<M[0]?Fa-ua:ua)*Wc];J=v.geoProjection(J(ca)).rotate(V);var ya=v.geoRotation(V),Ta=J.center;delete J.rotate;J.center=function(ob){return arguments.length?
Ta(ya(ob)):ya.invert(Ta())};return J.clipAngle(90)}function qe(J){function M(ca,ua){ca=v.geoGnomonicRaw(ca,ua);ca[0]*=V;return ca}var V=Ub(J);M.invert=function(ca,ua){return v.geoGnomonicRaw.invert(ca/V,ua)};return M}function bf(J,M){return Me(qe,J,M)}function Hd(J){function M(ob,hb){var tb=Qb(Ub(hb)*Ub(ob-V));ob=Qb(Ub(hb)*Ub(ob-ca));tb*=tb;ob*=ob;return[(tb-ob)/(2*J),(0>hb?-1:1)*db(4*ua*ob-(ua-tb+ob)*(ua-tb+ob))/(2*J)]}if(!(J*=2))return v.geoAzimuthalEquidistantRaw;var V=-J/2,ca=-V,ua=J*J,ya=ra(ca),
Ta=.5/R(ca);M.invert=function(ob,hb){var tb=hb*hb,yb=Ub(db(tb+(Nb=ob+V)*Nb));ob=Ub(db(tb+(Nb=ob+ca)*Nb));var Nb,gc;return[Vd(gc=yb-ob,Nb=(yb+ob)*ya),(0>hb?-1:1)*Qb(db(Nb*Nb+gc*gc)*Ta)]};return M}function fe(J,M){return Me(Hd,J,M)}function Ce(J,M){if(1E-6>wc(M))return[J,0];var V=wc(M/Oa),ca=Qa(V);if(1E-6>wc(J)||1E-6>wc(wc(M)-Oa))return[0,I(M)*Fa*ra(ca/2)];var ua=Ub(ca);ca=wc(Fa/J-J/Fa)/2;var ya=ca*ca;ua/=V+ua-1;V=ua*(2/V-1);var Ta=V*V,ob=Ta+ya,hb=ua-Ta,tb=ya+ua;return[I(J)*Fa*(ca*hb+db(ya*hb*hb-ob*
(ua*ua-Ta)))/ob,I(M)*Fa*(V*tb-ca*db((ya+1)*ob-tb*tb))/ob]}function Xd(J,M){if(1E-6>wc(M))return[J,0];var V=wc(M/Oa),ca=Qa(V);if(1E-6>wc(J)||1E-6>wc(wc(M)-Oa))return[0,I(M)*Fa*ra(ca/2)];var ua=Ub(ca);ca=wc(Fa/J-J/Fa)/2;var ya=ca*ca;V=ua*(db(1+ya)-ca*ua)/(1+ya*V*V);return[I(J)*Fa*V,I(M)*Fa*db(1-V*(2*ca+V))]}function md(J,M){if(1E-6>wc(M))return[J,0];var V=M/Oa,ca=Qa(V);if(1E-6>wc(J)||1E-6>wc(wc(M)-Oa))return[0,Fa*ra(ca/2)];M=(Fa/J-J/Fa)/2;V/=1+Ub(ca);return[Fa*(I(J)*db(M*M+1-V*V)-M),Fa*V]}function xd(J,
M){if(!M)return[J,0];var V=wc(M);if(!J||V===Oa)return[0,M];var ca=V/Oa;V=ca*ca;var ua=(8*ca-V*(V+2)-5)/(2*V*(ca-1)),ya=ua*ua,Ta=ca*ua,ob=V+ya+2*Ta;ca+=3*ua;ua=J/Oa;ua+=1/ua;ua=I(wc(J)-Oa)*db(ua*ua-4);var hb=ua*ua;V=(ua*(ob+ya-1)+2*db(ob*(V+ya*hb-1)+(1-V)*(V*(ca*ca+4*ya)+12*Ta*ya+4*ya*ya)))/(4*ob+hb);return[I(J)*Oa*V,I(M)*Oa*db(1+ua*wc(V)-V*V)]}function Ld(J,M,V,ca,ua){function ya(Ta,ob){ob=V*R(ca*ob);var hb=db(1-ob*ob),tb=db(2/(1+hb*Ub(Ta*=ua)));return[J*hb*tb*R(Ta),M*ob*tb]}ya.invert=function(Ta,
ob){var hb=Ta/J,tb=ob/M;hb=db(hb*hb+tb*tb);tb=2*Qa(hb/2);return[Vd(Ta*ra(tb),J*hb)/ua,hb&&Qa(ob*R(tb)/(M*V*hb))/ca]};return ya}function ff(J,M,V,ca){var ua=Fa/3;J=df(J,1E-6);M=df(M,1E-6);J=Re(J,Oa);M=Re(M,Fa-1E-6);V=df(V,0);V=Re(V,99.999999);ca=df(ca,1E-6);var ya=ca/100;V=Qb((V/100+1)*Ub(ua))/ua;ua=R(J)/R(V*Oa);ca=M/Fa;M=db(ya*R(J/2)/R(M/2));J=M/db(ca*ua*V);M=1/(M*db(ca*ua*V));return Ld(J,M,ua,V,ca)}function ne(){var J=65*Tc,M=60*Tc,V=20,ca=200,ua=v.geoProjectionMutator(ff),ya=ua(J,M,V,ca);ya.poleline=
function(Ta){return arguments.length?ua(J=+Ta*Tc,M,V,ca):J*Wc};ya.parallels=function(Ta){return arguments.length?ua(J,M=+Ta*Tc,V,ca):M*Wc};ya.inflation=function(Ta){return arguments.length?ua(J,M,V=+Ta,ca):V};ya.ratio=function(Ta){return arguments.length?ua(J,M,V,ca=+Ta):ca};return ya.scale(163.775)}function wd(J,M){return[J*db(1-3*M*M/(Fa*Fa)),M]}function Ae(J,M){var V=Ub(M),ca=Ub(J)*V,ua=1-ca;M=Ub(J=Vd(R(J)*V,-R(M)));J=R(J);V=db(1-ca*ca);return[J*V-M*ua,-M*V-J*ua]}function cf(J,M){var V=Va(J,M);
return[(V[0]+J/Oa)/2,(V[1]+M)/2]}var wc=Math.abs,pe=Math.atan,Vd=Math.atan2,Ub=Math.cos,oe=Math.exp,Yd=Math.floor,se=Math.log,df=Math.max,Re=Math.min,Ve=Math.pow,Ge=Math.round,I=Math.sign||function(J){return 0<J?1:0>J?-1:0},R=Math.sin,ra=Math.tan,Fa=Math.PI,Oa=Fa/2,Pb=Fa/4,dc=Math.SQRT1_2,xc=db(2),oc=db(Fa),yc=2*Fa,Wc=180/Fa,Tc=Fa/180;Va.invert=function(J,M){if(!(J*J+4*M*M>Fa*Fa+1E-6)){var V=J,ca=M,ua=25;do{var ya=R(V),Ta=R(V/2),ob=Ub(V/2),hb=R(ca),tb=Ub(ca),yb=R(2*ca),Nb=hb*hb,gc=tb*tb,r=Ta*Ta,C=
1-gc*ob*ob,X=C?Qb(tb*ob)*db(ea=1/C):ea=0,ea;C=2*X*tb*Ta-J;var eb=X*hb-M,Cb=ea*(gc*r+X*tb*ob*Nb),Jb=ea*(.5*ya*yb-2*X*hb*Ta);ya=.25*ea*(yb*Ta-X*hb*gc*ya);tb=ea*(Nb*ob+X*r*tb);ob=Jb*ya-tb*Cb;if(!ob)break;Jb=(eb*Jb-C*tb)/ob;C=(C*ya-eb*Cb)/ob;V-=Jb;ca-=C}while((1E-6<wc(Jb)||1E-6<wc(C))&&0<--ua);return[V,ca]}};mb.invert=function(J,M){J*=.375;M*=.375;if(!J&&1<wc(M))return null;var V=1+J*J+M*M,ca=db((V-db(V*V-4*M*M))/2);V=Qa(ca)/3;ca?(ca=wc(M/ca),ca=se(ca+db(ca*ca-1))/3):(ca=wc(J),ca=se(ca+db(ca*ca+1))/3);
var ua=Ub(V),ya=Ib(ca),Ta=ya*ya-ua*ua;return[2*I(J)*Vd(pb(ca)*ua,.25-Ta),2*I(M)*Vd(ya*R(V),.25+Ta)]};var he=db(8),od=se(1+xc);Pa.invert=function(J,M){if((ua=wc(M))<od)return[J,2*pe(oe(M))-Oa];var V=Pb,ca=25,ua;do{var ya=Ub(V/2);var Ta=ra(V/2);V-=ya=(he*(V-Pb)-se(Ta)-ua)/(he-ya*ya/(2*Ta))}while(1E-12<wc(ya)&&0<--ca);return[J/(Ub(V)*(he-1/R(V))),I(M)*V]};Sa.invert=function(J,M){M=2*Qa(M/2);return[J*Ub(M/2)/Ub(M),M]};var jd=xa(xc/Oa,xc,Fa);Ua.invert=function(J,M){var V=2.00276*M;M=0>M?-Pb:Pb;var ca=
25;do{var ua=V-xc*R(M);M-=ua=(R(2*M)+2*M-Fa*R(ua))/(2*Ub(2*M)+2+Fa*Ub(ua)*xc*Ub(M))}while(1E-6<wc(ua)&&0<--ca);ua=V-xc*R(M);return[J*(1/Ub(ua)+1.11072/Ub(M))/2.00276,ua]};da.invert=function(J,M){return[J/Ub(M),M]};var Zd=xa(1,4/Fa,Fa);Q.invert=function(J,M){var V=(V=M/oc-1)*V;return[0<V?J*db(Fa/V)/2:0,Qa(1-V)]};var ye=db(3);F.invert=function(J,M){M=3*Qa(M/(ye*oc));return[oc*J/(ye*(2*Ub(2*M/3)-1)),M]};ka.invert=function(J,M){var V=db(8/(3*Fa));M/=V;return[J/(V*(1-wc(M)/Fa)),M]};ia.invert=function(J,
M){var V=2-wc(M)/db(2*Fa/3);return[J*db(6*Fa)/(2*V),I(M)*Qa((4-V*V)/3)]};ma.invert=function(J,M){var V=db(Fa*(4+Fa))/2;return[J*V/(1+db(1-M*M*(4+Fa)/(4*Fa))),M*V/2]};Ya.invert=function(J,M){M=M*db((4+Fa)/Fa)/2;var V=Qa(M),ca=Ub(V);return[J/(2/db(Fa*(4+Fa))*(1+ca)),Qa((V+M*(ca+2))/(2+Oa))]};Za.invert=function(J,M){var V=db(2+Fa);M=M*V/2;return[V*J/(1+Ub(M)),M]};S.invert=function(J,M){var V=1+Oa,ca=db(V/2);return[2*J*ca/(1+Ub(M*=ca)),Qa((M+R(M))/V)]};var ve=3+2*xc;qa.invert=function(J,M){if(!(ua=mb.invert(J/
1.2,1.065*M)))return null;var V=ua[0];ua=ua[1];var ca=20,ua;J/=ve;M/=ve;do{var ya=V/2,Ta=ua/2,ob=R(ya),hb=Ub(ya),tb=R(Ta),yb=Ub(Ta),Nb=Ub(ua),gc=db(Nb),r=tb/(yb+xc*hb*gc),C=r*r,X=db(2/(1+C)),ea=(xc*yb+(hb+ob)*gc)/(xc*yb+(hb-ob)*gc),eb=db(ea),Cb=eb-1/eb,Jb=eb+1/eb;Ta=X*Cb-2*se(eb)-J;ya=X*r*Jb-2*pe(r)-M;var $b=tb&&dc*gc*ob*C/tb,rc=(xc*hb*yb+gc)/(2*(yb+xc*hb*gc)*(yb+xc*hb*gc)*gc),Ic=-.5*r*X*X*X,Fc=Ic*$b;Ic*=rc;var hd=(hd=2*yb+xc*gc*(hb-ob))*hd*eb;hb=(xc*hb*yb*gc+Nb)/hd;tb=-(xc*ob*tb)/(gc*hd);ob=Cb*Fc-
2*hb/eb+X*(hb+hb/ea);eb=Cb*Ic-2*tb/eb+X*(tb+tb/ea);$b=r*Jb*Fc-2*$b/(1+C)+X*Jb*$b+X*r*(hb-hb/ea);C=r*Jb*Ic-2*rc/(1+C)+X*Jb*rc+X*r*(tb-tb/ea);r=eb*$b-C*ob;if(!r)break;C=(ya*eb-Ta*C)/r;Ta=(Ta*$b-ya*ob)/r;V-=C;ua=df(-Oa,Re(Oa,ua-Ta))}while((1E-6<wc(C)||1E-6<wc(Ta))&&0<--ca);return 1E-6>wc(wc(ua)-Oa)?[0,ua]:ca&&[V,ua]};var We=Ub(35*Tc);ta.invert=function(J,M){M/=1+We;return[J&&J/(We*db(1-M*M)),2*pe(M)]};ha.invert=function(J,M){var V=pe(M/oc);M=Ub(V);V*=2;return[J*oc/2/(Ub(V)*M*M),V]};var wf=A(2.8284,-1.6988,
.75432,-.18071,1.76003,-.38914,.042555),bd=A(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742),Be=A(5/6*Fa,-.62636,-.0344,0,1.3493,-.05524,0,.045);B.invert=function(J,M){var V=J,ca=M,ua=50,ya;do{var Ta=ca*ca;ca-=ya=(ca*(1+Ta/12)-M)/(1+Ta/4)}while(1E-6<wc(ya)&&0<--ua);ua=50;J/=1-.162388*Ta;do{var ob=(ob=V*V)*ob;V-=ya=(V*(.87-9.52426E-4*ob)-J)/(.87-.00476213*ob)}while(1E-6<wc(ya)&&0<--ua);return[V,ca]};var ue=A(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);z.invert=function(J,
M){1<wc(J)&&(J=2*I(J)-J);1<wc(M)&&(M=2*I(M)-M);var V=I(J),ca=I(M),ua=-V*J,ya=-ca*M;M=1>ya/ua;J=M?ya:ua;var Ta=M?ua:ya,ob=0,hb=1;ua=.5;for(var tb=50;;){ya=ua*ua;var yb=db(ua),Nb=Qa(1/db(1+ya)),gc=1-ya+ua*(1+ya)*Nb,r=(1-yb)/gc,C=db(r),X=r*(1+ya),ea=C*(1-ya),eb=db(X-J*J);ea=Ta+ea+ua*eb;if(1E-12>wc(hb-ob)||0===--tb||0===ea)break;0<ea?ob=ua:hb=ua;ua=.5*(ob+hb)}tb?(Ta=Qa(yb),tb=Ub(Ta),ob=1/tb,hb=2*yb*tb,yb=(-gc*tb-(1-yb)*(-3*ua+Nb*(1+3*ya))*hb)/(gc*gc),ua=[Fa/4*(J*(-2*ob*(.5*yb/C*(1-ya)-2*ua*C*hb)+-ob*
hb*eb)+-ob*(ua*(1+ya)*yb+r*(1+3*ya)*hb)*Qa(J/db(X))),Ta]):ua=null;J=ua[0];ua=ua[1];ya=Ub(ua);M&&(J=-Oa-J);return[V*(Vd(R(J)*ya,-R(ua))+Fa),ca*Qa(Ub(J)*ya)]};Na.invert=function(J,M){var V=(xc-1)/(xc+1),ca=db(1-V*V);M=.5*fa(Oa,ca*ca)-M;J=-J;ca*=ca;if(M)if(M=sa(M,ca),J){J=sa(J,1-ca);var ua=J[1]*J[1]+ca*M[0]*M[0]*J[0]*J[0];M=[[M[0]*J[2]/ua,M[1]*M[2]*J[0]*J[1]/ua],[M[1]*J[1]/ua,-M[0]*M[2]*J[0]*J[2]/ua],[M[2]*J[1]*J[2]/ua,-ca*M[0]*M[1]*J[0]/ua]]}else M=[[M[0],0],[M[1],0],[M[2],0]];else J=sa(J,1-ca),M=[[0,
J[0]/J[1]],[1/J[1],0],[J[2]/J[1],0]];ca=M[0];M=M[1];J=M[0]*M[0]+M[1]*M[1];ca=[(ca[0]*M[0]+ca[1]*M[1])/J,(ca[1]*M[0]-ca[0]*M[1])/J];return[Vd(ca[1],ca[0])/-1,2*pe(oe(-.5*se(V*ca[0]*ca[0]+V*ca[1]*ca[1])))-Oa]};var De=Qa(1-1/3)*Wc,vf=O(0);Vc.invert=function(J,M){return-.7109889596207567<M?jd.invert(J,M-.0528035274542):da.invert(J,M)};tc.invert=function(J,M){return.7109889596207567<wc(M)?jd.invert(J,M+(0<M?.0528035274542:-.0528035274542)):da.invert(J,M)};var nf=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],
[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],Cf=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],Ne=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],H=[[[[-180,0],
[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]],Z=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]],cb=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];Mc.invert=function(J,M){return[yc/3*J/db(Fa*Fa/3-M*M),M]};var Gb=Fa/xc;Nc.invert=
function(J,M){var V=wc(J),ca=wc(M),ua=1E-6,ya=Oa;ca<Gb?ya*=ca/Gb:ua+=6*Qb(Gb/ca);for(var Ta=0;25>Ta;Ta++){var ob=R(ya),hb=db(Ub(ya)),tb=R(ya/2),yb=Ub(ya/2),Nb=R(ua/6),gc=Ub(ua/6),r=.5*ua*(1+hb)-V,C=ya/(yb*gc)-ca;ob=hb?-.25*ua*ob/hb:0;hb=.5*(1+hb);tb=(1+.5*ya*tb/yb)/(yb*gc);Nb=ya/yb*(Nb/6)/(gc*gc);yb=ob*Nb-tb*hb;Nb=(r*Nb-C*hb)/yb;r=(C*ob-r*tb)/yb;ya-=Nb;ua-=r;if(1E-6>wc(Nb)&&1E-6>wc(r))break}return[0>J?-ua:ua,0>M?-ya:ya]};ud.invert=function(J,M){var V=I(J)*Fa,ca=M/2,ua=50;do{var ya=V*V,Ta=ca*ca,ob=
V*ca,hb=V*(.975534+Ta*(-.119161+-.0143059*ya+-.0547009*Ta))-J,tb=ca*(1.00384+ya*(.0802894+-.02855*Ta+1.99025E-4*ya)+Ta*(.0998909+-.0491032*Ta))-M,yb=.975534-Ta*(.119161+.0429177*ya+.0547009*Ta),Nb=-ob*(.238322+.2188036*Ta+.0286118*ya);ob*=.1605788+7.961E-4*ya+-.0571*Ta;Ta=1.00384+ya*(.0802894+1.99025E-4*ya)+Ta*(3*(.0998909-.02855*ya)-.245516*Ta);ya=Nb*ob-Ta*yb;Nb=(tb*Nb-hb*Ta)/ya;hb=(hb*ob-tb*yb)/ya;V-=Nb;ca-=hb}while((1E-6<wc(Nb)||1E-6<wc(hb))&&0<--ua);return ua&&[V,ca]};ce.invert=function(J,M){var V=
J*J,ca=M*M+1,ua=V+ca;V=J?dc*db((ua-db(ua*ua-4*V))/V):1/db(ca);return[Qa(J*V),I(M)*Qb(V)]};ed.invert=function(J,M){return[J,2.5*pe(oe(.8*M))-.625*Fa]};var Hb=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Tb=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],ac=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7.388E-4,-.1435792],[.0075848,-.1334108],[-.0216473,
.0776645],[-.0225161,.0853673]],Gc=[[.9245,0],[0,0],[.01943,0]],Dc=[[.721316,0],[0,0],[-.00881625,-.00617325]],Sc=db(6),gd=db(7);qb.invert=function(J,M){M=3*Qa(M*gd/9);return[J*gd/(Sc*(2*Ub(2*M/3)-1)),Qa(3*R(M)*Sc/7)]};Sb.invert=function(J,M){M=M*db(2+xc)/(2*db(3));var V=2*Qa(M);return[3*xc*J/(1+2*Ub(V)/Ub(V/2)),Qa((M+R(V))/(1+dc))]};dd.invert=function(J,M){var V=db(6/(4+Fa));M/=V;1E-6>wc(wc(M)-Oa)&&(M=0>M?-Oa:Oa);return[1.5*J/(V*(.5+Ub(M))),Qa((M/2+R(M))/(1+Fa/4))]};nd.invert=function(J,M){var V=
M,ca=25;do{var ua=V*V;var ya=ua*ua;V-=ua=(V*(1.01183+ya*ya*(-.02625+.01926*ua-.00396*ya))-M)/(1.01183+ya*ya*(-.23625+.21186*ua+-.05148*ya))}while(1E-12<wc(ua)&&0<--ca);ua=V*V;ya=ua*ua;M=ua*ya;return[J/(.84719-.13063*ua+M*M*(-.04515+.05494*ua-.02326*ya+.00331*M)),V]};Nd.invert=function(J,M){for(var V=M/2,ca=0,ua=Infinity;10>ca&&1E-6<wc(ua);++ca)ua=Ub(M/2),M-=ua=(M-ra(M/2)-V)/(1-.5/(ua*ua));return[2*J/(1+Ub(M)),M]};var zd=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,
0]],[[0,0],[90,-90],[180,0]]]];Wd.invert=function(J,M){J/=Oa;M/=Oa;var V=J*J,ca=V+M*M,ua=Fa*Fa;return[J?(ca-1+db((1-ca)*(1-ca)+4*V))/(2*J)*Oa:0,kb(function(ya){return ca*(Fa*R(ya)-2*ya)*Fa+4*ya*ya*(M-R(ya))+2*Fa*ya-ua*M},0)]};var Ed=5*.23185;U.invert=function(J,M){1.790857183<M?M=1.790857183:-1.790857183>M&&(M=-1.790857183);var V=M;do{var ca=V*V;V-=ca=(V*(1.0148+ca*ca*(.23185+ca*(-.14499+.02406*ca)))-M)/(1.0148+ca*ca*(Ed+ca*(-1.01493+.21654*ca)))}while(1E-6<wc(ca));return[J,V]};va.invert=function(J,
M){if(1E-6>wc(M))return[J,0];var V=J*J+M*M,ca=.5*M,ua=10;do{var ya=ra(ca);var Ta=1/Ub(ca),ob=V-2*M*ca+ca*ca;ca-=ya=(ya*ob+2*(ca-M))/(2+ob*Ta*Ta+2*(ca-M)*ya)}while(1E-6<wc(ya)&&0<--ua);ya=ra(ca);return[(wc(M)<wc(ca+1/ya)?Qa(J*ya):I(M)*I(J)*(Qb(wc(J*ya))+Oa))/R(ca),ca]};var pd=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Ee=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(J){return J.map(function(M){return pd[M]})}),Bd=2/db(3);Zb.invert=function(J,M){return Q.invert(J/
Bd,M)};var ke=()=>{},Od=[],ie=[],qf={point:function(J,M){Od.push([J,M])},result:function(){var J=Od.length?2>Od.length?{type:"Point",coordinates:Od[0]}:{type:"MultiPoint",coordinates:Od}:null;Od=[];return J}},Kd={lineStart:ke,point:function(J,M){Od.push([J,M])},lineEnd:function(){Od.length&&(ie.push(Od),Od=[])},result:function(){var J=ie.length?2>ie.length?{type:"LineString",coordinates:ie[0]}:{type:"MultiLineString",coordinates:ie}:null;ie=[];return J}},Xe={polygonStart:ke,lineStart:ke,point:function(J,
M){Od.push([J,M])},lineEnd:function(){var J=Od.length;if(J){do Od.push(Od[0].slice());while(4>++J);ie.push(Od);Od=[]}},polygonEnd:ke,result:function(){if(!ie.length)return null;var J=[],M=[];ie.forEach(function(V){if(4>(ua=V.length))var ca=!1;else{ca=0;for(var ua,ya=V[ua-1][1]*V[0][0]-V[ua-1][0]*V[0][1];++ca<ua;)ya+=V[ca-1][1]*V[ca][0]-V[ca-1][0]*V[ca][1];ca=0>=ya}ca?J.push([V]):M.push(V)});M.forEach(function(V){var ca=V[0];J.some(function(ua){for(var ya=ua[0],Ta=ca[0],ob=ca[1],hb=!1,tb=0,yb=ya.length,
Nb=yb-1;tb<yb;Nb=tb++){var gc=ya[tb],r=gc[0];gc=gc[1];var C=ya[Nb];Nb=C[0];C=C[1];gc>ob^C>ob&&Ta<(Nb-r)*(ob-gc)/(C-gc)+r&&(hb=!hb)}if(hb)return ua.push(V),!0})||J.push([V])});ie=[];return J.length?1<J.length?{type:"MultiPolygon",coordinates:J}:{type:"Polygon",coordinates:J[0]}:null}},je=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],
[.6213,.9394],[.5722,.9761],[.5322,1]];je.forEach(function(J){J[1]*=1.0144});ad.invert=function(J,M){var V=M/Oa,ca=90*V,ua=Re(18,wc(ca/5)),ya=df(0,Yd(ua));do{var Ta=je[ya][1],ob=je[ya+1][1],hb=je[Re(19,ya+2)][1],tb=hb-Ta;Ta=hb-2*ob+Ta;ob=2*(wc(V)-ob)/tb;tb=Ta/tb;tb=ob*(1-tb*ob*(1-2*tb*ob));if(0<=tb||1===ya){ca=(0<=M?5:-5)*(tb+ua);V=50;do ua=Re(18,wc(ca)/5),ya=Yd(ua),tb=ua-ya,Ta=je[ya][1],ob=je[ya+1][1],hb=je[Re(19,ya+2)][1],ca-=(ua=(0<=M?Oa:-Oa)*(ob+tb*(hb-Ta)/2+tb*tb*(hb-2*ob+Ta)/2)-M)*Wc;while(1E-12<
wc(ua)&&0<--V);break}}while(0<=--ya);M=je[ya][0];ua=je[ya+1][0];ya=je[Re(19,ya+2)][0];return[J/(ua+tb*(ya-M)/2+tb*tb*(ya-2*ua+M)/2),ca*Tc]};Jd.invert=function(J,M){M/=1.70711;var V=R(Pb*M);return[J/(.74482-.34588*V*V),2*pe(M)]};Ce.invert=function(J,M){if(1E-6>wc(M))return[J,0];if(1E-6>wc(J))return[0,Oa*R(2*pe(M/Fa))];var V=(J/=Fa)*J,ca=(M/=Fa)*M,ua=V+ca,ya=ua*ua,Ta=-wc(M)*(1+ua),ob=Ta-2*ca+V,hb=-2*Ta+1+2*ca+ya,tb=ca/hb+(2*ob*ob*ob/(hb*hb*hb)-9*Ta*ob/(hb*hb))/27,yb=(Ta-ob*ob/(3*hb))/hb;Ta=2*db(-yb/
3);tb=Qb(3*tb/(yb*Ta))/3;return[Fa*(ua-1+db(1+2*(V-ca)+ya))/(2*J),I(M)*Fa*(-Ta*Ub(tb+Fa/3)-ob/(3*hb))]};Xd.invert=function(J,M){if(!J)return[0,Oa*R(2*pe(M/Fa))];var V=wc(J/Fa),ca=(1-V*V-(M/=Fa)*M)/(2*V),ua=db(ca*ca+1);return[I(J)*Fa*(ua-ca),I(M)*Oa*R(2*Vd(db((1-2*ca*V)*(ca+ua)-V),db(ua+ca+V)))]};md.invert=function(J,M){if(!M)return[J,0];M/=Fa;var V=(Fa*Fa*(1-M*M)-J*J)/(2*Fa*J);return[J?Fa*(I(J)*db(V*V+1)-V):0,Oa*R(2*pe(M))]};xd.invert=function(J,M){if(!J||!M)return[J,M];var V=I(M);M=wc(M)/Fa;var ca=
I(J)*J/Oa,ua=(ca*ca-1+4*M*M)/wc(ca),ya=ua*ua,Ta=M*(2-(.5<M?Re(M,wc(J)):0));M=J*J+M*M;var ob=50;do{var hb=Ta*Ta;var tb=(8*Ta-hb*(hb+2)-5)/(2*hb*(Ta-1));var yb=(3*Ta-hb*Ta-10)/(2*hb*Ta),Nb=tb*tb,gc=Ta*tb,r=Ta+tb,C=r*r,X=Ta+3*tb,ea=-2*r*(4*gc*Nb+(1-4*hb+3*hb*hb)*(1+yb)+Nb*(-6+14*hb-ya+(-8+8*hb-2*ya)*yb)+gc*(-8+12*hb+(-10+10*hb-ya)*yb));hb=db(C*(hb+Nb*ya-1)+(1-hb)*(hb*(X*X+4*Nb)+Nb*(12*gc+4*Nb)));Ta-=tb=(ua*(C+Nb-1)+2*hb-ca*(4*C+ya))/(ua*(2*tb*yb+2*r*(1+yb))+ea/hb-8*r*(ua*(-1+Nb+C)+2*hb)*(1+yb)/(ya+4*
C))}while(1E-6<tb*M*M&&0<--ob);return[I(J)*(db(ua*ua+4)+ua)*Fa/4,V*Oa*Ta]};var lf=4*Fa+3*db(3),He=2*db(2*Fa*db(3)/lf),Gf=xa(He*db(3)/Fa,He,lf/6);wd.invert=function(J,M){return[J/db(1-3*M*M/(Fa*Fa)),M]};Ae.invert=function(J,M){var V=(J*J+M*M)/-2,ca=db(-V*(2+V)),ua=M*V+J*ca;J=J*V-M*ca;M=db(J*J+ua*ua);return[Vd(ca*ua,M*(1+V)),M?-Qa(ca*J/M):0]};cf.invert=function(J,M){var V=J,ca=M,ua=25;do{var ya=Ub(ca),Ta=R(ca),ob=R(2*ca),hb=Ta*Ta,tb=ya*ya,yb=R(V),Nb=Ub(V/2),gc=R(V/2),r=gc*gc,C=1-tb*Nb*Nb,X=C?Qb(ya*
Nb)*db(ea=1/C):ea=0,ea;C=.5*(2*X*ya*gc+V/Oa)-J;var eb=.5*(X*Ta+ca)-M,Cb=.5*ea*(tb*r+X*ya*Nb*hb)+.5/Oa,Jb=ea*(yb*ob/4-X*Ta*gc);Ta=.125*ea*(ob*gc-X*Ta*tb*yb);hb=.5*ea*(hb*Nb+X*r*ya)+.5;ya=Jb*Ta-hb*Cb;Jb=(eb*Jb-C*hb)/ya;C=(C*Ta-eb*Cb)/ya;V-=Jb;ca-=C}while((1E-6<wc(Jb)||1E-6<wc(C))&&0<--ua);return[V,ca]};n.geoAiry=function(){var J=Oa,M=v.geoProjectionMutator(Ab),V=M(J);V.radius=function(ca){return arguments.length?M(J=ca*Tc):J*Wc};return V.scale(179.976).clipAngle(147)};n.geoAiryRaw=Ab;n.geoAitoff=function(){return v.geoProjection(Va).scale(152.63)};
n.geoAitoffRaw=Va;n.geoArmadillo=function(){var J=20*Tc,M=0<=J?1:-1,V=ra(M*J),ca=v.geoProjectionMutator(nb),ua=ca(J),ya=ua.stream;ua.parallel=function(Ta){if(!arguments.length)return J*Wc;V=ra((M=0<=(J=Ta*Tc)?1:-1)*J);return ca(J)};ua.stream=function(Ta){var ob=ua.rotate(),hb=ya(Ta),tb=(ua.rotate([0,0]),ya(Ta)),yb=ua.precision();ua.rotate(ob);hb.sphere=function(){tb.polygonStart();tb.lineStart();for(var Nb=-180*M;180>M*Nb;Nb+=90*M)tb.point(Nb,90*M);if(J)for(;-180<=M*(Nb-=3*M*yb);)tb.point(Nb,M*-Vd(Ub(Nb*
Tc/2),V)*Wc);tb.lineEnd();tb.polygonEnd()};return hb};return ua.scale(218.695).center([0,28.0974])};n.geoArmadilloRaw=nb;n.geoAugust=function(){return v.geoProjection(mb).scale(66.1603)};n.geoAugustRaw=mb;n.geoBaker=function(){return v.geoProjection(Pa).scale(112.314)};n.geoBakerRaw=Pa;n.geoBerghaus=function(){var J=5,M=v.geoProjectionMutator(Ba),V=M(J),ca=V.stream,ua=-Ub(.01*Tc),ya=R(.01*Tc);V.lobes=function(Ta){return arguments.length?M(J=+Ta):J};V.stream=function(Ta){var ob=V.rotate(),hb=ca(Ta),
tb=(V.rotate([0,0]),ca(Ta));V.rotate(ob);hb.sphere=function(){tb.polygonStart();tb.lineStart();for(var yb=0,Nb=360/J,gc=2*Fa/J,r=90-180/J,C=Oa;yb<J;++yb,r-=Nb,C-=gc)tb.point(Vd(ya*Ub(C),ua)*Wc,Qa(ya*R(C))*Wc),-90>r?(tb.point(-90,-180-r-.01),tb.point(-90,-180-r+.01)):(tb.point(90,r+.01),tb.point(90,r-.01));tb.lineEnd();tb.polygonEnd()};return hb};return V.scale(87.8076).center([0,17.1875]).clipAngle(179.999)};n.geoBerghausRaw=Ba;n.geoBertin1953=function(){return v.geoProjection(Ea()).rotate([-16.5,
-42]).scale(176.57).center([7.93,.09])};n.geoBertin1953Raw=Ea;n.geoBoggs=function(){return v.geoProjection(Ua).scale(160.857)};n.geoBoggsRaw=Ua;n.geoBonne=function(){return Ja(wa).scale(123.082).center([0,26.1441]).parallel(45)};n.geoBonneRaw=wa;n.geoBottomley=function(){var J=.5,M=v.geoProjectionMutator(La),V=M(J);V.fraction=function(ca){return arguments.length?M(J=+ca):J};return V.scale(158.837)};n.geoBottomleyRaw=La;n.geoBromley=function(){return v.geoProjection(Zd).scale(152.63)};n.geoBromleyRaw=
Zd;n.geoChamberlin=Xa;n.geoChamberlinRaw=Wa;n.geoChamberlinAfrica=function(){return Xa([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])};n.geoCollignon=function(){return v.geoProjection(Q).scale(95.6464).center([0,30])};n.geoCollignonRaw=Q;n.geoCraig=function(){return Ja(x).scale(249.828).clipAngle(90)};n.geoCraigRaw=x;n.geoCraster=function(){return v.geoProjection(F).scale(156.19)};n.geoCrasterRaw=F;n.geoCylindricalEqualArea=function(){return Ja(O).parallel(38.58).scale(195.044)};n.geoCylindricalEqualAreaRaw=
O;n.geoCylindricalStereographic=function(){return Ja(K).scale(124.75)};n.geoCylindricalStereographicRaw=K;n.geoEckert1=function(){return v.geoProjection(ka).scale(165.664)};n.geoEckert1Raw=ka;n.geoEckert2=function(){return v.geoProjection(ia).scale(165.664)};n.geoEckert2Raw=ia;n.geoEckert3=function(){return v.geoProjection(ma).scale(180.739)};n.geoEckert3Raw=ma;n.geoEckert4=function(){return v.geoProjection(Ya).scale(180.739)};n.geoEckert4Raw=Ya;n.geoEckert5=function(){return v.geoProjection(Za).scale(173.044)};
n.geoEckert5Raw=Za;n.geoEckert6=function(){return v.geoProjection(S).scale(173.044)};n.geoEckert6Raw=S;n.geoEisenlohr=function(){return v.geoProjection(qa).scale(62.5271)};n.geoEisenlohrRaw=qa;n.geoFahey=function(){return v.geoProjection(ta).scale(137.152)};n.geoFaheyRaw=ta;n.geoFoucaut=function(){return v.geoProjection(ha).scale(135.264)};n.geoFoucautRaw=ha;n.geoFoucautSinusoidal=function(){var J=.5,M=v.geoProjectionMutator(P),V=M(J);V.alpha=function(ca){return arguments.length?M(J=+ca):J};return V.scale(168.725)};
n.geoFoucautSinusoidalRaw=P;n.geoGilbert=function(J){function M(ya){return ca([ya[0]/2,Qa(ra(ya[1]/2*Tc))*Wc])}function V(ya){M[ya]=function(){return arguments.length?(ca[ya].apply(ca,arguments),M):ca[ya]()}}null==J&&(J=v.geoOrthographic);var ca=J(),ua=v.geoEquirectangular().scale(Wc).precision(0).clipAngle(null).translate([0,0]);ca.invert&&(M.invert=function(ya){return t(ca.invert(ya))});M.stream=function(ya){var Ta=ca.stream(ya);ya=ua.stream({point:function(ob,hb){Ta.point(ob/2,Qa(ra(-hb/2*Tc))*
Wc)},lineStart:function(){Ta.lineStart()},lineEnd:function(){Ta.lineEnd()},polygonStart:function(){Ta.polygonStart()},polygonEnd:function(){Ta.polygonEnd()}});ya.sphere=Ta.sphere;return ya};M.rotate=function(ya){return arguments.length?(ua.rotate(ya),M):ua.rotate()};M.center=function(ya){return arguments.length?(ca.center([ya[0]/2,Qa(ra(ya[1]/2*Tc))*Wc]),M):t(ca.center())};V("angle");V("clipAngle");V("clipExtent");V("fitExtent");V("fitHeight");V("fitSize");V("fitWidth");V("scale");V("translate");
V("precision");return M.scale(249.5)};n.geoGingery=function(){var J=6,M=30*Tc,V=Ub(M),ca=R(M),ua=v.geoProjectionMutator(u),ya=ua(M,J),Ta=ya.stream,ob=-Ub(.01*Tc),hb=R(.01*Tc);ya.radius=function(tb){if(!arguments.length)return M*Wc;V=Ub(M=tb*Tc);ca=R(M);return ua(M,J)};ya.lobes=function(tb){return arguments.length?ua(M,J=+tb):J};ya.stream=function(tb){var yb=ya.rotate(),Nb=Ta(tb),gc=(ya.rotate([0,0]),Ta(tb));ya.rotate(yb);Nb.sphere=function(){gc.polygonStart();gc.lineStart();for(var r=0,C=2*Fa/J,X=
0;r<J;++r,X-=C)gc.point(Vd(hb*Ub(X),ob)*Wc,Qa(hb*R(X))*Wc),gc.point(Vd(ca*Ub(X-C/2),V)*Wc,Qa(ca*R(X-C/2))*Wc);gc.lineEnd();gc.polygonEnd()};return Nb};return ya.rotate([90,-40]).scale(91.7095).clipAngle(179.999)};n.geoGingeryRaw=u;n.geoGinzburg4=function(){return v.geoProjection(wf).scale(149.995)};n.geoGinzburg4Raw=wf;n.geoGinzburg5=function(){return v.geoProjection(bd).scale(153.93)};n.geoGinzburg5Raw=bd;n.geoGinzburg6=function(){return v.geoProjection(Be).scale(130.945)};n.geoGinzburg6Raw=Be;n.geoGinzburg8=
function(){return v.geoProjection(B).scale(131.747)};n.geoGinzburg8Raw=B;n.geoGinzburg9=function(){return v.geoProjection(ue).scale(131.087)};n.geoGinzburg9Raw=ue;n.geoGringorten=function(){return v.geoProjection(E(z)).scale(239.75)};n.geoGringortenRaw=z;n.geoGuyou=function(){return v.geoProjection(E(Na)).scale(151.496)};n.geoGuyouRaw=Na;n.geoHammer=function(){var J=2,M=v.geoProjectionMutator(Ca),V=M(J);V.coefficient=function(ca){return arguments.length?M(J=+ca):J};return V.scale(169.529)};n.geoHammerRaw=
Ca;n.geoHammerRetroazimuthal=function(){var J=0,M=v.geoProjectionMutator(Da),V=M(J),ca=V.rotate,ua=V.stream,ya=v.geoCircle();V.parallel=function(Ta){if(!arguments.length)return J*Wc;var ob=V.rotate();return M(J=Ta*Tc).rotate(ob)};V.rotate=function(Ta){if(!arguments.length)return Ta=ca.call(V),Ta[1]+=J*Wc,Ta;ca.call(V,[Ta[0],Ta[1]-J*Wc]);ya.center([-Ta[0],-Ta[1]]);return V};V.stream=function(Ta){Ta=ua(Ta);Ta.sphere=function(){Ta.polygonStart();var ob=ya.radius(89.99)().coordinates[0],hb=ob.length-
1,tb=-1,yb;for(Ta.lineStart();++tb<hb;)Ta.point((yb=ob[tb])[0],yb[1]);Ta.lineEnd();ob=ya.radius(90.01)().coordinates[0];for(Ta.lineStart();0<=--tb;)Ta.point((yb=ob[tb])[0],yb[1]);Ta.lineEnd();Ta.polygonEnd()};return Ta};return V.scale(79.4187).parallel(45).clipAngle(179.999)};n.geoHammerRetroazimuthalRaw=Da;n.geoHealpix=function(){var J=4,M=v.geoProjectionMutator(na),V=M(J),ca=V.stream;V.lobes=function(ua){return arguments.length?M(J=+ua):J};V.stream=function(ua){var ya=V.rotate(),Ta=ca(ua),ob=(V.rotate([0,
0]),ca(ua));V.rotate(ya);Ta.sphere=function(){v.geoStream(Xb(180/J),ob)};return Ta};return V.scale(239.75)};n.geoHealpixRaw=na;n.geoHill=function(){var J=1,M=v.geoProjectionMutator(vc),V=M(J);V.ratio=function(ca){return arguments.length?M(J=+ca):J};return V.scale(167.774).center([0,18.67])};n.geoHillRaw=vc;n.geoHomolosine=function(){return v.geoProjection(tc).scale(152.63)};n.geoHomolosineRaw=tc;n.geoHufnagel=function(){var J=1,M=0,V=45*Tc,ca=2,ua=v.geoProjectionMutator(Hc),ya=ua(J,M,V,ca);ya.a=function(Ta){return arguments.length?
ua(J=+Ta,M,V,ca):J};ya.b=function(Ta){return arguments.length?ua(J,M=+Ta,V,ca):M};ya.psiMax=function(Ta){return arguments.length?ua(J,M,V=+Ta*Tc,ca):V*Wc};ya.ratio=function(Ta){return arguments.length?ua(J,M,V,ca=+Ta):ca};return ya.scale(180.739)};n.geoHufnagelRaw=Hc;n.geoHyperelliptical=function(){var J=0,M=2.5,V=1.183136,ca=v.geoProjectionMutator(cc),ua=ca(J,M,V);ua.alpha=function(ya){return arguments.length?ca(J=+ya,M,V):J};ua.k=function(ya){return arguments.length?ca(J,M=+ya,V):M};ua.gamma=function(ya){return arguments.length?
ca(J,M,V=+ya):V};return ua.scale(152.63)};n.geoHyperellipticalRaw=cc;n.geoInterrupt=jc;n.geoInterruptedBoggs=function(){return jc(Ua,nf).scale(160.857)};n.geoInterruptedHomolosine=function(){return jc(tc,Cf).scale(152.63)};n.geoInterruptedMollweide=function(){return jc(jd,Ne).scale(169.529)};n.geoInterruptedMollweideHemispheres=function(){return jc(jd,H).scale(169.529).rotate([20,0])};n.geoInterruptedSinuMollweide=function(){return jc(Vc,Z,za).rotate([-20,-55]).scale(164.263).center([0,-5.4036])};
n.geoInterruptedSinusoidal=function(){return jc(da,cb).scale(152.63).rotate([-20,0])};n.geoKavrayskiy7=function(){return v.geoProjection(Mc).scale(158.837)};n.geoKavrayskiy7Raw=Mc;n.geoLagrange=function(){var J=.5,M=v.geoProjectionMutator(Rc),V=M(J);V.spacing=function(ca){return arguments.length?M(J=+ca):J};return V.scale(124.75)};n.geoLagrangeRaw=Rc;n.geoLarrivee=function(){return v.geoProjection(Nc).scale(97.2672)};n.geoLarriveeRaw=Nc;n.geoLaskowski=function(){return v.geoProjection(ud).scale(139.98)};
n.geoLaskowskiRaw=ud;n.geoLittrow=function(){return v.geoProjection(ce).scale(144.049).clipAngle(89.999)};n.geoLittrowRaw=ce;n.geoLoximuthal=function(){return Ja(Zc).parallel(40).scale(158.837)};n.geoLoximuthalRaw=Zc;n.geoMiller=function(){return v.geoProjection(ed).scale(108.318)};n.geoMillerRaw=ed;n.geoModifiedStereographic=Ha;n.geoModifiedStereographicRaw=Pd;n.geoModifiedStereographicAlaska=function(){return Ha(Hb,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)};n.geoModifiedStereographicGs48=
function(){return Ha(Tb,[95,-38]).scale(1E3).clipAngle(55).center([-96.5563,38.8675])};n.geoModifiedStereographicGs50=function(){return Ha(ac,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])};n.geoModifiedStereographicMiller=function(){return Ha(Gc,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)};n.geoModifiedStereographicLee=function(){return Ha(Dc,[165,10]).scale(250).clipAngle(130).center([-165,-10])};n.geoMollweide=function(){return v.geoProjection(jd).scale(169.529)};
n.geoMollweideRaw=jd;n.geoMtFlatPolarParabolic=function(){return v.geoProjection(qb).scale(164.859)};n.geoMtFlatPolarParabolicRaw=qb;n.geoMtFlatPolarQuartic=function(){return v.geoProjection(Sb).scale(188.209)};n.geoMtFlatPolarQuarticRaw=Sb;n.geoMtFlatPolarSinusoidal=function(){return v.geoProjection(dd).scale(166.518)};n.geoMtFlatPolarSinusoidalRaw=dd;n.geoNaturalEarth2=function(){return v.geoProjection(nd).scale(175.295)};n.geoNaturalEarth2Raw=nd;n.geoNellHammer=function(){return v.geoProjection(Nd).scale(152.63)};
n.geoNellHammerRaw=Nd;n.geoInterruptedQuarticAuthalic=function(){return jc(Ca(Infinity),zd).rotate([20,0]).scale(152.63)};n.geoNicolosi=function(){return v.geoProjection(Wd).scale(127.267)};n.geoNicolosiRaw=Wd;n.geoPatterson=function(){return v.geoProjection(U).scale(139.319)};n.geoPattersonRaw=U;n.geoPolyconic=function(){return v.geoProjection(va).scale(103.74)};n.geoPolyconicRaw=va;n.geoPolyhedral=zb;n.geoPolyhedralButterfly=function(J){J=J||function(V){V=v.geoCentroid({type:"MultiPoint",coordinates:V});
return v.geoGnomonic().scale(1).translate([0,0]).rotate([-V[0],-V[1]])};var M=Ee.map(function(V){return{face:V,project:J(V)}});[-1,0,0,1,0,1,4,5].forEach(function(V,ca){(V=M[V])&&(V.children||(V.children=[])).push(M[ca])});return zb(M[0],function(V,ca){return M[V<-Fa/2?0>ca?6:4:0>V?0>ca?2:0:V<Fa/2?0>ca?3:1:0>ca?7:5]}).angle(-30).scale(101.858).center([0,45])};n.geoPolyhedralCollignon=function(J){J=J||function(V){V=v.geoCentroid({type:"MultiPoint",coordinates:V});return v.geoProjection(Zb).translate([0,
0]).scale(1).rotate(0<V[1]?[-V[0],0]:[180-V[0],180])};var M=Ee.map(function(V){return{face:V,project:J(V)}});[-1,0,0,1,0,1,4,5].forEach(function(V,ca){(V=M[V])&&(V.children||(V.children=[])).push(M[ca])});return zb(M[0],function(V,ca){return M[V<-Fa/2?0>ca?6:4:0>V?0>ca?2:0:V<Fa/2?0>ca?3:1:0>ca?7:5]}).angle(-30).scale(121.906).center([0,48.5904])};n.geoPolyhedralWaterman=function(J){J=J||function(ya){ya=6===ya.length?v.geoCentroid({type:"MultiPoint",coordinates:ya}):ya[0];return v.geoGnomonic().scale(1).translate([0,
0]).rotate([-ya[0],-ya[1]])};var M=Ee.map(function(ya){ya=ya.map(Bb);for(var Ta=ya.length,ob=ya[Ta-1],hb,tb=[],yb=0;yb<Ta;++yb)hb=ya[yb],tb.push(Cc([.9486832980505138*ob[0]+.31622776601683794*hb[0],.9486832980505138*ob[1]+.31622776601683794*hb[1],.9486832980505138*ob[2]+.31622776601683794*hb[2]]),Cc([.9486832980505138*hb[0]+.31622776601683794*ob[0],.9486832980505138*hb[1]+.31622776601683794*ob[1],.9486832980505138*hb[2]+.31622776601683794*ob[2]])),ob=hb;return tb}),V=[],ca=[-1,0,0,1,0,1,4,5];M.forEach(function(ya,
Ta){for(var ob=Ee[Ta],hb=ob.length,tb=V[Ta]=[],yb=0;yb<hb;++yb)M.push([ob[yb],ya[(2*yb+2)%(2*hb)],ya[(2*yb+1)%(2*hb)]]),ca.push(Ta),tb.push(uc(Bb(ya[(2*yb+2)%(2*hb)]),Bb(ya[(2*yb+1)%(2*hb)])))});var ua=M.map(function(ya){return{project:J(ya),face:ya}});ca.forEach(function(ya,Ta){(ya=ua[ya])&&(ya.children||(ya.children=[])).push(ua[Ta])});return zb(ua[0],function(ya,Ta){var ob=Ub(Ta);ob=[ob*Ub(ya),ob*R(ya),R(Ta)];ya=ya<-Fa/2?0>Ta?6:4:0>ya?0>Ta?2:0:ya<Fa/2?0>Ta?3:1:0>Ta?7:5;Ta=V[ya];return ua[0>lc(Ta[0],
ob)?8+3*ya:0>lc(Ta[1],ob)?3*ya+9:0>lc(Ta[2],ob)?3*ya+10:ya]}).angle(-30).scale(110.625).center([0,45])};n.geoProject=function(J,M){M=M.stream;if(!M)throw Error("invalid projection");switch(J&&J.type){case "Feature":var V=sc;break;case "FeatureCollection":V=pc;break;default:V=Bc}return V(J,M)};n.geoGringortenQuincuncial=function(){return Oc(z).scale(176.423)};n.geoPeirceQuincuncial=function(){return Oc(Na).scale(111.48)};n.geoQuantize=function(J,M){function V(hb){var tb=hb.length,yb=2,Nb=Array(tb);
Nb[0]=+hb[0].toFixed(M);for(Nb[1]=+hb[1].toFixed(M);yb<tb;)Nb[yb]=hb[yb],++yb;return Nb}function ca(hb){for(var tb=V(hb[0]),yb=[tb],Nb=1;Nb<hb.length;Nb++){var gc=V(hb[Nb]);if(2<gc.length||gc[0]!=tb[0]||gc[1]!=tb[1])yb.push(gc),tb=gc}1===yb.length&&1<hb.length&&yb.push(V(hb[hb.length-1]));return yb}function ua(hb){return hb.map(ca)}function ya(hb){if(null==hb)return hb;switch(hb.type){case "GeometryCollection":var tb={type:"GeometryCollection",geometries:hb.geometries.map(ya)};break;case "Point":tb=
{type:"Point",coordinates:V(hb.coordinates)};break;case "MultiPoint":tb={type:hb.type,coordinates:hb.coordinates.map(V)};break;case "LineString":tb={type:hb.type,coordinates:ca(hb.coordinates)};break;case "MultiLineString":case "Polygon":tb={type:hb.type,coordinates:ua(hb.coordinates)};break;case "MultiPolygon":tb={type:"MultiPolygon",coordinates:hb.coordinates.map(ua)};break;default:return hb}null!=hb.bbox&&(tb.bbox=hb.bbox);return tb}function Ta(hb){var tb={type:"Feature",properties:hb.properties,
geometry:ya(hb.geometry)};null!=hb.id&&(tb.id=hb.id);null!=hb.bbox&&(tb.bbox=hb.bbox);return tb}if(!(0<=(M=+M)&&20>=M))throw Error("invalid digits");if(null!=J)switch(J.type){case "Feature":return Ta(J);case "FeatureCollection":var ob={type:"FeatureCollection",features:J.features.map(Ta)};null!=J.bbox&&(ob.bbox=J.bbox);return ob;default:return ya(J)}return J};n.geoQuincuncial=Oc;n.geoRectangularPolyconic=function(){return Ja(Kc).scale(131.215)};n.geoRectangularPolyconicRaw=Kc;n.geoRobinson=function(){return v.geoProjection(ad).scale(152.63)};
n.geoRobinsonRaw=ad;n.geoSatellite=function(){var J=2,M=0,V=v.geoProjectionMutator(td),ca=V(J,M);ca.distance=function(ua){return arguments.length?V(J=+ua,M):J};ca.tilt=function(ua){return arguments.length?V(J,M=ua*Tc):M*Wc};return ca.scale(432.147).clipAngle(Qb(1/J)*Wc-1E-6)};n.geoSatelliteRaw=td;n.geoSinuMollweide=function(){return v.geoProjection(Vc).rotate([-20,-55]).scale(164.263).center([0,-5.4036])};n.geoSinuMollweideRaw=Vc;n.geoSinusoidal=function(){return v.geoProjection(da).scale(152.63)};
n.geoSinusoidalRaw=da;n.geoStitch=function(J){if(null==J)return J;switch(J.type){case "Feature":return te(J);case "FeatureCollection":var M={type:"FeatureCollection",features:J.features.map(te)};null!=J.bbox&&(M.bbox=J.bbox);return M;default:return rd(J)}};n.geoTimes=function(){return v.geoProjection(Jd).scale(146.153)};n.geoTimesRaw=Jd;n.geoTwoPointAzimuthal=bf;n.geoTwoPointAzimuthalRaw=qe;n.geoTwoPointAzimuthalUsa=function(){return bf([-158,21.5],[-77,39]).clipAngle(60).scale(400)};n.geoTwoPointEquidistant=
fe;n.geoTwoPointEquidistantRaw=Hd;n.geoTwoPointEquidistantUsa=function(){return fe([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)};n.geoVanDerGrinten=function(){return v.geoProjection(Ce).scale(79.4183)};n.geoVanDerGrintenRaw=Ce;n.geoVanDerGrinten2=function(){return v.geoProjection(Xd).scale(79.4183)};n.geoVanDerGrinten2Raw=Xd;n.geoVanDerGrinten3=function(){return v.geoProjection(md).scale(79.4183)};n.geoVanDerGrinten3Raw=md;n.geoVanDerGrinten4=function(){return v.geoProjection(xd).scale(127.16)};
n.geoVanDerGrinten4Raw=xd;n.geoWagner=ne;n.geoWagner7=function(){return ne().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)};n.geoWagnerRaw=ff;n.geoWagner4=function(){return v.geoProjection(Gf).scale(176.84)};n.geoWagner4Raw=Gf;n.geoWagner6=function(){return v.geoProjection(wd).scale(152.63)};n.geoWagner6Raw=wd;n.geoWiechel=function(){return v.geoProjection(Ae).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)};n.geoWiechelRaw=Ae;n.geoWinkel3=function(){return v.geoProjection(cf).scale(158.837)};
n.geoWinkel3Raw=cf;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[44]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc,Ob(42),Ob(43)):"function"===typeof define&&define.amd?define(["exports","d3-geo","d3-geo-projection"],v):(n="undefined"!==typeof globalThis?globalThis:n||self,v(n.vega={},n.d3,n.d3))})(this,function(n,v,Y){function Qa(Ab,Va){return function mb(){const Pa=Va();Pa.type=Ab;Pa.path=v.geoPath().projection(Pa);Pa.copy=Pa.copy||function(){const Ba=mb();pb.forEach(Ca=>{if(Pa[Ca])Ba[Ca](Pa[Ca]())});Ba.path.pointRadius(Pa.path.pointRadius());
return Ba};return Pa}}function Qb(Ab,Va){if(!Ab||"string"!==typeof Ab)throw Error("Projection type must be a name string.");Ab=Ab.toLowerCase();return 1<arguments.length?(Ib[Ab]=Qa(Ab,Va),this):Ib[Ab]||null}const db=v.geoPath(),pb="clipAngle clipExtent scale translate center rotate parallels precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" "),Ib={albers:v.geoAlbers,albersusa:v.geoAlbersUsa,azimuthalequalarea:v.geoAzimuthalEqualArea,azimuthalequidistant:v.geoAzimuthalEquidistant,
conicconformal:v.geoConicConformal,conicequalarea:v.geoConicEqualArea,conicequidistant:v.geoConicEquidistant,equalEarth:v.geoEqualEarth,equirectangular:v.geoEquirectangular,gnomonic:v.geoGnomonic,identity:v.geoIdentity,mercator:v.geoMercator,mollweide:Y.geoMollweide,naturalEarth1:v.geoNaturalEarth1,orthographic:v.geoOrthographic,stereographic:v.geoStereographic,transversemercator:v.geoTransverseMercator};for(const Ab in Ib)Qb(Ab,Ib[Ab]);n.getProjectionPath=function(Ab){return Ab&&Ab.path||db};n.projection=
Qb;n.projectionProperties=pb;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[45]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc,Ob(29),Ob(17),Ob(18),Ob(30),Ob(44),Ob(42),Ob(35),Ob(34)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-util d3-array vega-statistics vega-projection d3-geo d3-color vega-canvas".split(" "),v):(n="undefined"!==typeof globalThis?globalThis:n||self,v((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.d3,n.vega,n.vega,n.d3,n.d3,n.vega))})(this,function(n,v,Y,Qa,
Qb,db,pb,Ib,Ab){function Va(){}function nb(){function ha(B,E){return E.map(z=>P(B,z))}function P(B,E){var z=[],aa=[];t(B,E,sa=>{A(sa,B,E);for(var fa=0,Na=sa.length,Da=sa[Na-1][1]*sa[0][0]-sa[Na-1][0]*sa[0][1];++fa<Na;)Da+=sa[fa-1][1]*sa[fa][0]-sa[fa-1][0]*sa[fa][1];0<Da?z.push([sa]):aa.push(sa)});aa.forEach(sa=>{for(var fa=0,Na=z.length,Da;fa<Na;++fa){a:{var W=(Da=z[fa])[0];for(var na=sa,$a=-1,sb=na.length;++$a<sb;){b:{var Db=W;for(var Xb=na[$a],vc=Xb[0],Vc=Xb[1],tc=-1,Hc=0,Ma=Db.length,ec=Ma-1;Hc<
Ma;ec=Hc++){var cc=Db[Hc],nc=cc[0],Ec=cc[1],jc=Db[ec];ec=jc[0];var Mc=jc[1],Rc,Nc=cc;cc=jc;jc=Xb;if(Rc=(cc[0]-Nc[0])*(jc[1]-Nc[1])===(jc[0]-Nc[0])*(cc[1]-Nc[1]))Nc=Nc[Rc=+(Nc[0]===cc[0])],jc=jc[Rc],cc=cc[Rc],Rc=Nc<=jc&&jc<=cc||cc<=jc&&jc<=Nc;if(Rc){Db=0;break b}Ec>Vc!==Mc>Vc&&vc<(ec-nc)*(Vc-Ec)/(Mc-Ec)+nc&&(tc=-tc)}Db=tc}if(Db){W=Db;break a}}W=0}if(-1!==W){Da.push(sa);break}}});return{type:"MultiPolygon",value:E,coordinates:z}}function t(B,E,z){function aa(Db){var Xb=[Db[0][0]+Da,Db[0][1]+Na];Db=
[Db[1][0]+Da,Db[1][1]+Na];var vc=2*Xb[0]+Xb[1]*(l+1)*4,Vc=2*Db[0]+Db[1]*(l+1)*4,tc,Hc;(tc=fa[vc])?(Hc=sa[Vc])?(delete fa[tc.end],delete sa[Hc.start],tc===Hc?(tc.ring.push(Db),z(tc.ring)):sa[tc.start]=fa[Hc.end]={start:tc.start,end:Hc.end,ring:tc.ring.concat(Hc.ring)}):(delete fa[tc.end],tc.ring.push(Db),fa[tc.end=Vc]=tc):(tc=sa[Vc])?(Hc=fa[vc])?(delete sa[tc.start],delete fa[Hc.end],tc===Hc?(tc.ring.push(Db),z(tc.ring)):sa[Hc.start]=fa[tc.end]={start:Hc.start,end:tc.end,ring:Hc.ring.concat(tc.ring)}):
(delete sa[tc.start],tc.ring.unshift(Xb),sa[tc.start=vc]=tc):sa[vc]=fa[Vc]={start:vc,end:Vc,ring:[Xb,Db]}}var sa=[],fa=[],Na;var Da=Na=-1;var W=B[0]>=E;for(qa[W<<1].forEach(aa);++Da<l-1;){var na=W;W=B[Da+1]>=E;qa[na|W<<1].forEach(aa)}for(qa[W<<0].forEach(aa);++Na<p-1;){Da=-1;W=B[Na*l+l]>=E;var $a=B[Na*l]>=E;for(qa[W<<1|$a<<2].forEach(aa);++Da<l-1;){na=W;W=B[Na*l+l+Da+1]>=E;var sb=$a;$a=B[Na*l+Da+1]>=E;qa[na|W<<1|$a<<2|sb<<3].forEach(aa)}qa[W|$a<<3].forEach(aa)}Da=-1;$a=B[Na*l]>=E;for(qa[$a<<2].forEach(aa);++Da<
l-1;)sb=$a,$a=B[Na*l+Da+1]>=E,qa[$a<<2|sb<<3].forEach(aa);qa[$a<<3].forEach(aa)}function u(B,E,z){B.forEach(aa=>{var sa=aa[0],fa=aa[1],Na=sa|0,Da=fa|0,W=E[Da*l+Na];if(0<sa&&sa<l&&Na===sa){var na=E[Da*l+Na-1];aa[0]=sa+(z-na)/(W-na)-.5}0<fa&&fa<p&&Da===fa&&(na=E[(Da-1)*l+Na],aa[1]=fa+(z-na)/(W-na)-.5)})}var l=1,p=1,A=u;ha.contour=P;ha.size=function(B){if(!arguments.length)return[l,p];var E=Math.floor(B[0]),z=Math.floor(B[1]);0<=E&&0<=z||Y.error("invalid size");return l=E,p=z,ha};ha.smooth=function(B){return arguments.length?
(A=B?u:Va,ha):A===u};return ha}function mb(ha,P,t){return function(u){var l=Y.extent(u);u=t?Math.min(l[0],0):l[0];l=l[1];var p=l-u;p=P?Qa.tickStep(u,l,ha):p/(ha+1);return Qa.range(u+p,l,p)}}function Pa(ha){v.Transform.call(this,null,ha)}function Ba(ha,P,t){const u=mb(t.levels||10,t.nice,!1!==t.zero);return"shared"!==t.resolve?u:u(ha.map(l=>Qa.max(P(l).values)))}function Ca(ha,P,t,u){var l=u.scale||P.scale;let p=u.translate||P.translate;Y.isFunction(l)&&(l=l(t,u));Y.isFunction(p)&&(p=p(t,u));if(1!==
l&&null!=l||p)t=(Y.isNumber(l)?l:l[0])||1,l=(Y.isNumber(l)?l:l[1])||1,ha.forEach(Sa(P,t,l,p&&p[0]||0,p&&p[1]||0))}function Sa(ha,P,t,u,l){function p(sa){sa.forEach(A)}function A(sa){aa&&sa.reverse();sa.forEach(B)}function B(sa){sa[0]=(sa[0]-E)*P+u;sa[1]=(sa[1]-z)*t+l}const E=ha.x1||0,z=ha.y1||0,aa=0>P*t;return function(sa){sa.coordinates.forEach(p);return sa}}function kb(ha,P,t){ha=0<=ha?ha:Qb.bandwidthNRD(P,t);return Math.round((Math.sqrt(4*ha*ha+1)-1)/2)}function za(ha){return Y.isFunction(ha)?
ha:Y.constant(+ha)}function Ea(){function ha(E,z){const aa=kb(l[0],E,P)>>B,sa=kb(l[1],E,t)>>B,fa=aa?aa+2:0,Na=sa?sa+2:0,Da=2*fa+(p>>B),W=2*Na+(A>>B),na=new Float32Array(Da*W),$a=new Float32Array(Da*W);let sb=na;E.forEach(Db=>{const Xb=fa+(+P(Db)>>B),vc=Na+(+t(Db)>>B);0<=Xb&&Xb<Da&&0<=vc&&vc<W&&(na[Xb+vc*Da]+=+u(Db))});0<aa&&0<sa?(gb(Da,W,na,$a,aa),xa(Da,W,$a,na,sa),gb(Da,W,na,$a,aa),xa(Da,W,$a,na,sa),gb(Da,W,na,$a,aa),xa(Da,W,$a,na,sa)):0<aa?(gb(Da,W,na,$a,aa),gb(Da,W,$a,na,aa),gb(Da,W,na,$a,aa),
sb=$a):0<sa&&(xa(Da,W,na,$a,sa),xa(Da,W,$a,na,sa),xa(Da,W,na,$a,sa),sb=$a);E=z?Math.pow(2,-2*B):1/Qa.sum(sb);for(let Db=0,Xb=Da*W;Db<Xb;++Db)sb[Db]*=E;return{values:sb,scale:1<<B,width:Da,height:W,x1:fa,y1:Na,x2:fa+(p>>B),y2:Na+(A>>B)}}var P=E=>E[0],t=E=>E[1],u=Y.one,l=[-1,-1],p=960,A=500,B=2;ha.x=function(E){return arguments.length?(P=za(E),ha):P};ha.y=function(E){return arguments.length?(t=za(E),ha):t};ha.weight=function(E){return arguments.length?(u=za(E),ha):u};ha.size=function(E){if(!arguments.length)return[p,
A];var z=+E[0],aa=+E[1];0<=z&&0<=aa||Y.error("invalid size");return p=z,A=aa,ha};ha.cellSize=function(E){if(!arguments.length)return 1<<B;1<=(E=+E)||Y.error("invalid cell size");B=Math.floor(Math.log(E)/Math.LN2);return ha};ha.bandwidth=function(E){if(!arguments.length)return l;E=Y.array(E);1===E.length&&(E=[+E[0],+E[0]]);2!==E.length&&Y.error("invalid bandwidth");return l=E,ha};return ha}function gb(ha,P,t,u,l){const p=(l<<1)+1;for(let A=0;A<P;++A)for(let B=0,E=0;B<ha+l;++B)B<ha&&(E+=t[B+A*ha]),
B>=l&&(B>=p&&(E-=t[B-p+A*ha]),u[B-l+A*ha]=E/Math.min(B+1,ha-1+p-B,p))}function xa(ha,P,t,u,l){const p=(l<<1)+1;for(let A=0;A<ha;++A)for(let B=0,E=0;B<P+l;++B)B<P&&(E+=t[A+B*ha]),B>=l&&(B>=p&&(E-=t[A+(B-p)*ha]),u[A+(B-l)*ha]=E/Math.min(B+1,P-1+p-B,p))}function Ua(ha){v.Transform.call(this,null,ha)}function Ja(ha,P){ta.forEach(t=>null!=P[t]?ha[t](P[t]):0);return ha}function da(ha,P){var t=[],u=aa=>aa(B),l;if(null==P)t.push(ha);else{var p={};var A=0;for(l=ha.length;A<l;++A){var B=ha[A];var E=P.map(u);
var z=p[E];z||(p[E]=z=[],z.dims=E,t.push(z));z.push(B)}}return t}function wa(ha){v.Transform.call(this,null,ha)}function La(ha){v.Transform.call(this,null,ha)}function Ra(ha){v.Transform.call(this,null,ha)}function fb(ha,P){const t=ha.pointRadius();ha.context(null);null!=P&&ha.pointRadius(P);return t}function Wa(ha){v.Transform.call(this,null,ha)}function jb(ha){v.Transform.call(this,null,ha)}function Xa(ha,P,t){const u=null==t?l=>ha(P(l)):l=>{var p=ha.pointRadius();l=ha.pointRadius(t)(P(l));ha.pointRadius(p);
return l};u.context=l=>{ha.context(l);return u};return u}function Q(ha){v.Transform.call(this,[],ha);this.generator=pb.geoGraticule()}function x(ha){v.Transform.call(this,null,ha)}function F(ha,P){let t;Y.isFunction(ha)?(t=u=>Ib.rgb(ha(u,P)),t.dep=K(ha)):t=Y.constant(Ib.rgb(ha||"#888"));return t}function O(ha,P){let t;Y.isFunction(ha)?(t=u=>ha(u,P),t.dep=K(ha)):ha?t=Y.constant(ha):(t=u=>u.$value/u.$max||0,t.dep=!0);return t}function K(ha){if(!Y.isFunction(ha))return!1;ha=Y.toSet(Y.accessorFields(ha));
return ha.$x||ha.$y||ha.$value||ha.$max}function ka(ha,P,t,u){const l=ha.width;var p=ha.height;const A=ha.x1||0,B=ha.y1||0,E=ha.x2||l;p=ha.y2||p;const z=ha.values;ha=z?Da=>z[Da]:Y.zero;const aa=Ab.canvas(E-A,p-B),sa=aa.getContext("2d"),fa=sa.getImageData(0,0,E-A,p-B),Na=fa.data;for(let Da=B,W=0;Da<p;++Da){P.$y=Da-B;for(let na=A,$a=Da*l;na<E;++na,W+=4){P.$x=na-A;P.$value=ha(na+$a);const sb=t(P);Na[W+0]=sb.r;Na[W+1]=sb.g;Na[W+2]=sb.b;Na[W+3]=~~(255*u(P))}}sa.putImageData(fa,0,0);return aa}function ia(ha){v.Transform.call(this,
null,ha);this.modified(!0)}function ma(ha,P){const t=Za(P.fit);P.extent?ha.fitExtent(P.extent,t):P.size?ha.fitSize(P.size,t):0}function Ya(ha){const P=db.projection((ha||"mercator").toLowerCase());P||Y.error("Unrecognized projection type: "+ha);return P()}function Za(ha){ha=Y.array(ha);return 1===ha.length?ha[0]:{type:"FeatureCollection",features:ha.reduce((P,t)=>P.concat(S(t)),[])}}function S(ha){return"FeatureCollection"===ha.type?ha.features:Y.array(ha).filter(P=>null!=P).map(P=>"Feature"===P.type?
P:{type:"Feature",geometry:P})}const qa=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];Pa.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},
{name:"nice",type:"boolean","default":!1},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"zero",type:"boolean","default":!0},{name:"smooth",type:"boolean","default":!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string","null":!0,"default":"contour"}]};Y.inherits(Pa,v.Transform,{transform(ha,P){if(this.value&&!P.changed()&&!ha.modified())return P.StopPropagation;var t=P.fork(P.NO_SOURCE|P.NO_FIELDS);
P=P.materialize(P.SOURCE).source;var u=ha.field||Y.identity,l=nb().smooth(!1!==ha.smooth),p=ha.thresholds||Ba(P,u,ha),A=null===ha.as?null:ha.as||"contour",B=[];P.forEach(E=>{const z=u(E),aa=l.size([z.width,z.height])(z.values,Y.isArray(p)?p:p(z.values));Ca(aa,z,E,ha);aa.forEach(sa=>{B.push(v.rederive(E,v.ingest(null!=A?{[A]:sa}:sa)))})});this.value&&(t.rem=this.value);this.value=t.source=t.add=B;return t}});Ua.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,
length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean","default":!1},{name:"as",type:"string","default":"grid"}]};const ta="x y weight size cellSize bandwidth".split(" ");Y.inherits(Ua,v.Transform,{transform(ha,P){function t(E,z){for(let aa=0;aa<l.length;++aa)E[l[aa]]=z[aa];return E}
if(this.value&&!P.changed()&&!ha.modified())return P.StopPropagation;var u=P.fork(P.NO_SOURCE|P.NO_FIELDS);P=P.materialize(P.SOURCE).source;P=da(P,ha.groupby);var l=(ha.groupby||[]).map(Y.accessorName),p=Ja(Ea(),ha),A=ha.as||"grid",B=[];B=P.map(E=>v.ingest(t({[A]:p(E,ha.counts)},E.dims)));this.value&&(u.rem=this.value);this.value=u.source=u.add=B;return u}});wa.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",
array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean","default":!0}]};Y.inherits(wa,v.Transform,{transform(ha,P){if(this.value&&!P.changed()&&!ha.modified())return P.StopPropagation;var t=P.fork(P.NO_SOURCE|P.NO_FIELDS),u=nb().smooth(!1!==ha.smooth),l=ha.values,
p=ha.thresholds||mb(ha.count||10,ha.nice,!!l),A=ha.size;if(!l){l=P.materialize(P.SOURCE).source;ha=Ja(Ea(),ha)(l,!0);var B=Sa(ha,ha.scale||1,ha.scale||1,0,0);A=[ha.width,ha.height];l=ha.values}p=Y.isArray(p)?p:p(l);l=u.size(A)(l,p);B&&l.forEach(B);this.value&&(t.rem=this.value);this.value=t.source=t.add=(l||[]).map(v.ingest);return t}});La.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};Y.inherits(La,v.Transform,{transform(ha,
P){var t=this._features,u=this._points,l=ha.fields,p=l&&l[0],A=l&&l[1],B=ha.geojson||!l&&Y.identity;l=P.ADD;ha=ha.modified()||P.changed(P.REM)||P.modified(Y.accessorFields(B))||p&&P.modified(Y.accessorFields(p))||A&&P.modified(Y.accessorFields(A));if(!this.value||ha)l=P.SOURCE,this._features=t=[],this._points=u=[];B&&P.visit(l,E=>t.push(B(E)));p&&A&&(P.visit(l,E=>{var z=p(E);E=A(E);null!=z&&null!=E&&(z=+z)===z&&(E=+E)===E&&u.push([z,E])}),t=t.concat({type:"Feature",geometry:{type:"MultiPoint",coordinates:u}}));
this.value={type:"FeatureCollection",features:t}}});Ra.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"path"}]};Y.inherits(Ra,v.Transform,{transform(ha,P){var t=P.fork(P.ALL),u=this.value,l=ha.field||Y.identity,p=ha.as||"path",A=t.SOURCE;!u||ha.modified()?(this.value=u=db.getProjectionPath(ha.projection),t.materialize().reflow()):A=l===Y.identity||
P.modified(l.fields)?t.ADD_MOD:t.ADD;ha=fb(u,ha.pointRadius);t.visit(A,B=>B[p]=u(l(B)));u.pointRadius(ha);return t.modifies(p)}});Wa.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,"default":["x","y"]}]};Y.inherits(Wa,v.Transform,{transform(ha,P){function t(z){const aa=u([l(z),p(z)]);aa?(z[B]=aa[0],z[E]=aa[1]):(z[B]=void 0,z[E]=void 0)}
var u=ha.projection,l=ha.fields[0],p=ha.fields[1],A=ha.as||["x","y"],B=A[0],E=A[1];ha.modified()?P=P.materialize().reflow(!0).visit(P.SOURCE,t):(ha=P.modified(l.fields)||P.modified(p.fields),P.visit(ha?P.ADD_MOD:P.ADD,t));return P.modifies(A)}});jb.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field","default":"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"shape"}]};Y.inherits(jb,
v.Transform,{transform(ha,P){P=P.fork(P.ALL);var t=this.value,u=ha.as||"shape",l=P.ADD;if(!t||ha.modified())this.value=t=Xa(db.getProjectionPath(ha.projection),ha.field||Y.field("datum"),ha.pointRadius),P.materialize().reflow(),l=P.SOURCE;P.visit(l,p=>p[u]=t);return P.modifies(u)}});Q.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",
array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,"default":[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,"default":[10,10]},{name:"precision",type:"number","default":2.5}]};Y.inherits(Q,v.Transform,{transform(ha,P){var t=this.value,u=this.generator;if(!t.length||ha.modified())for(const l in ha)if(Y.isFunction(u[l]))u[l](ha[l]);
ha=u();t.length?P.mod.push(v.replace(t[0],ha)):P.add.push(v.ingest(ha));t[0]=ha;return P}});x.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"as",type:"string","default":"image"}]};Y.inherits(x,v.Transform,{transform(ha,P){if(!P.changed()&&!ha.modified())return P.StopPropagation;var t=P.materialize(P.SOURCE).source,
u="shared"===ha.resolve,l=ha.field||Y.identity,p=O(ha.opacity,ha),A=F(ha.color,ha),B=ha.as||"image",E={$x:0,$y:0,$value:0,$max:u?Qa.max(t.map(z=>Qa.max(l(z).values))):0};t.forEach(z=>{const aa=l(z),sa=Y.extend({},z,E);u||(sa.$max=Qa.max(aa.values||[]));z[B]=ka(aa,sa,A.dep?A:Y.constant(A(sa)),p.dep?p:Y.constant(p(sa)))});return P.reflow(!0).modifies(B)}});Y.inherits(ia,v.Transform,{transform(ha,P){let t=this.value;!t||ha.modified("type")?(this.value=t=Ya(ha.type),db.projectionProperties.forEach(u=>
{if(null!=ha[u]){var l=t,p=ha[u];if(Y.isFunction(l[u]))l[u](p)}})):db.projectionProperties.forEach(u=>{if(ha.modified(u)){var l=t,p=ha[u];if(Y.isFunction(l[u]))l[u](p)}});null!=ha.pointRadius&&t.path.pointRadius(ha.pointRadius);ha.fit&&ma(t,ha);return P.fork(P.NO_SOURCE|P.NO_FIELDS)}});n.contour=wa;n.geojson=La;n.geopath=Ra;n.geopoint=Wa;n.geoshape=jb;n.graticule=Q;n.heatmap=x;n.isocontour=Pa;n.kde2d=Ua;n.projection=ia;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[46]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc):"function"===typeof define&&define.amd?define(["exports"],v):(n=n||self,v(n.d3=n.d3||{}))})(this,function(n){function v(Va,nb,mb,Pa){if(isNaN(nb)||isNaN(mb))return Va;var Ba,Ca=Va._root;Pa={data:Pa};var Sa=Va._x0,kb=Va._y0,za=Va._x1,Ea=Va._y1,gb,xa,Ua,Ja;if(!Ca)return Va._root=Pa,Va;for(;Ca.length;)if((Ua=nb>=(gb=(Sa+za)/2))?Sa=gb:za=gb,(Ja=mb>=(xa=(kb+Ea)/2))?kb=xa:Ea=xa,Ba=Ca,!(Ca=Ca[Ua|=
Ja<<1]))return Ba[Ua]=Pa,Va;var da=+Va._x.call(null,Ca.data);var wa=+Va._y.call(null,Ca.data);if(nb===da&&mb===wa)return Pa.next=Ca,Ba?Ba[Ua]=Pa:Va._root=Pa,Va;do Ba=Ba?Ba[Ua]=Array(4):Va._root=Array(4),(Ua=nb>=(gb=(Sa+za)/2))?Sa=gb:za=gb,(Ja=mb>=(xa=(kb+Ea)/2))?kb=xa:Ea=xa;while((Ua|=Ja<<1)===(Ja=(wa>=xa)<<1|da>=gb));return Ba[Ja]=Ca,Ba[Ua]=Pa,Va}function Y(Va,nb,mb,Pa,Ba){this.node=Va;this.x0=nb;this.y0=mb;this.x1=Pa;this.y1=Ba}function Qa(Va){return Va[0]}function Qb(Va){return Va[1]}function db(Va,
nb,mb){nb=new pb(null==nb?Qa:nb,null==mb?Qb:mb,NaN,NaN,NaN,NaN);return null==Va?nb:nb.addAll(Va)}function pb(Va,nb,mb,Pa,Ba,Ca){this._x=Va;this._y=nb;this._x0=mb;this._y0=Pa;this._x1=Ba;this._y1=Ca;this._root=void 0}function Ib(Va){for(var nb={data:Va.data},mb=nb;Va=Va.next;)mb=mb.next={data:Va.data};return nb}var Ab=db.prototype=pb.prototype;Ab.copy=function(){var Va=new pb(this._x,this._y,this._x0,this._y0,this._x1,this._y1),nb=this._root,mb,Pa;if(!nb)return Va;if(!nb.length)return Va._root=Ib(nb),
Va;for(mb=[{source:nb,target:Va._root=Array(4)}];nb=mb.pop();)for(var Ba=0;4>Ba;++Ba)if(Pa=nb.source[Ba])Pa.length?mb.push({source:Pa,target:nb.target[Ba]=Array(4)}):nb.target[Ba]=Ib(Pa);return Va};Ab.add=function(Va){const nb=+this._x.call(null,Va),mb=+this._y.call(null,Va);return v(this.cover(nb,mb),nb,mb,Va)};Ab.addAll=function(Va){var nb,mb,Pa=Va.length,Ba,Ca,Sa=Array(Pa),kb=Array(Pa),za=Infinity,Ea=Infinity,gb=-Infinity,xa=-Infinity;for(mb=0;mb<Pa;++mb)isNaN(Ba=+this._x.call(null,nb=Va[mb]))||
isNaN(Ca=+this._y.call(null,nb))||(Sa[mb]=Ba,kb[mb]=Ca,Ba<za&&(za=Ba),Ba>gb&&(gb=Ba),Ca<Ea&&(Ea=Ca),Ca>xa&&(xa=Ca));if(za>gb||Ea>xa)return this;this.cover(za,Ea).cover(gb,xa);for(mb=0;mb<Pa;++mb)v(this,Sa[mb],kb[mb],Va[mb]);return this};Ab.cover=function(Va,nb){if(isNaN(Va=+Va)||isNaN(nb=+nb))return this;var mb=this._x0,Pa=this._y0,Ba=this._x1,Ca=this._y1;if(isNaN(mb))Ba=(mb=Math.floor(Va))+1,Ca=(Pa=Math.floor(nb))+1;else{for(var Sa=Ba-mb||1,kb=this._root,za,Ea;mb>Va||Va>=Ba||Pa>nb||nb>=Ca;)switch(Ea=
(nb<Pa)<<1|Va<mb,za=Array(4),za[Ea]=kb,kb=za,Sa*=2,Ea){case 0:Ba=mb+Sa;Ca=Pa+Sa;break;case 1:mb=Ba-Sa;Ca=Pa+Sa;break;case 2:Ba=mb+Sa;Pa=Ca-Sa;break;case 3:mb=Ba-Sa,Pa=Ca-Sa}this._root&&this._root.length&&(this._root=kb)}this._x0=mb;this._y0=Pa;this._x1=Ba;this._y1=Ca;return this};Ab.data=function(){var Va=[];this.visit(function(nb){if(!nb.length){do Va.push(nb.data);while(nb=nb.next)}});return Va};Ab.extent=function(Va){return arguments.length?this.cover(+Va[0][0],+Va[0][1]).cover(+Va[1][0],+Va[1][1]):
isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]};Ab.find=function(Va,nb,mb){var Pa=this._x0,Ba=this._y0,Ca,Sa,kb,za,Ea=this._x1,gb=this._y1,xa=[],Ua=this._root,Ja;Ua&&xa.push(new Y(Ua,Pa,Ba,Ea,gb));null==mb?mb=Infinity:(Pa=Va-mb,Ba=nb-mb,Ea=Va+mb,gb=nb+mb,mb*=mb);for(;Ja=xa.pop();)if(!(!(Ua=Ja.node)||(Ca=Ja.x0)>Ea||(Sa=Ja.y0)>gb||(kb=Ja.x1)<Pa||(za=Ja.y1)<Ba))if(Ua.length){Ja=(Ca+kb)/2;var da=(Sa+za)/2;xa.push(new Y(Ua[3],Ja,da,kb,za),new Y(Ua[2],Ca,da,Ja,za),new Y(Ua[1],Ja,Sa,kb,
da),new Y(Ua[0],Ca,Sa,Ja,da));if(Ua=(nb>=da)<<1|Va>=Ja)Ja=xa[xa.length-1],xa[xa.length-1]=xa[xa.length-1-Ua],xa[xa.length-1-Ua]=Ja}else if(Ja=Va-+this._x.call(null,Ua.data),da=nb-+this._y.call(null,Ua.data),Ja=Ja*Ja+da*da,Ja<mb){var wa=Math.sqrt(mb=Ja);Pa=Va-wa;Ba=nb-wa;Ea=Va+wa;gb=nb+wa;wa=Ua.data}return wa};Ab.remove=function(Va){if(isNaN(za=+this._x.call(null,Va))||isNaN(Ea=+this._y.call(null,Va)))return this;var nb,mb=this._root,Pa,Ba=this._x0,Ca=this._y0,Sa=this._x1,kb=this._y1,za,Ea,gb,xa,Ua,
Ja;if(!mb)return this;if(mb.length)for(;;){(Ua=za>=(gb=(Ba+Sa)/2))?Ba=gb:Sa=gb;(Ja=Ea>=(xa=(Ca+kb)/2))?Ca=xa:kb=xa;if(!(nb=mb,mb=mb[Ua|=Ja<<1]))return this;if(!mb.length)break;if(nb[Ua+1&3]||nb[Ua+2&3]||nb[Ua+3&3]){var da=nb;var wa=Ua}}for(;mb.data!==Va;)if(!(Pa=mb,mb=mb.next))return this;(Va=mb.next)&&delete mb.next;if(Pa)return Va?Pa.next=Va:delete Pa.next,this;if(!nb)return this._root=Va,this;Va?nb[Ua]=Va:delete nb[Ua];(mb=nb[0]||nb[1]||nb[2]||nb[3])&&mb===(nb[3]||nb[2]||nb[1]||nb[0])&&!mb.length&&
(da?da[wa]=mb:this._root=mb);return this};Ab.removeAll=function(Va){for(var nb=0,mb=Va.length;nb<mb;++nb)this.remove(Va[nb]);return this};Ab.root=function(){return this._root};Ab.size=function(){var Va=0;this.visit(function(nb){if(!nb.length){do++Va;while(nb=nb.next)}});return Va};Ab.visit=function(Va){var nb=[],mb,Pa=this._root,Ba,Ca,Sa,kb;for(Pa&&nb.push(new Y(Pa,this._x0,this._y0,this._x1,this._y1));mb=nb.pop();)if(!Va(Pa=mb.node,Ca=mb.x0,Sa=mb.y0,kb=mb.x1,mb=mb.y1)&&Pa.length){var za=(Ca+kb)/
2,Ea=(Sa+mb)/2;(Ba=Pa[3])&&nb.push(new Y(Ba,za,Ea,kb,mb));(Ba=Pa[2])&&nb.push(new Y(Ba,Ca,Ea,za,mb));(Ba=Pa[1])&&nb.push(new Y(Ba,za,Sa,kb,Ea));(Ba=Pa[0])&&nb.push(new Y(Ba,Ca,Sa,za,Ea))}return this};Ab.visitAfter=function(Va){var nb=[],mb=[],Pa;for(this._root&&nb.push(new Y(this._root,this._x0,this._y0,this._x1,this._y1));Pa=nb.pop();){var Ba=Pa.node;if(Ba.length){var Ca,Sa=Pa.x0,kb=Pa.y0,za=Pa.x1,Ea=Pa.y1,gb=(Sa+za)/2,xa=(kb+Ea)/2;(Ca=Ba[0])&&nb.push(new Y(Ca,Sa,kb,gb,xa));(Ca=Ba[1])&&nb.push(new Y(Ca,
gb,kb,za,xa));(Ca=Ba[2])&&nb.push(new Y(Ca,Sa,xa,gb,Ea));(Ca=Ba[3])&&nb.push(new Y(Ca,gb,xa,za,Ea))}mb.push(Pa)}for(;Pa=mb.pop();)Va(Pa.node,Pa.x0,Pa.y0,Pa.x1,Pa.y1);return this};Ab.x=function(Va){return arguments.length?(this._x=Va,this):this._x};Ab.y=function(Va){return arguments.length?(this._y=Va,this):this._y};n.quadtree=db;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[47]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc):"function"===typeof define&&define.amd?define(["exports"],v):(n=n||self,v(n.d3=n.d3||{}))})(this,function(n){function v(){for(var pb=0,Ib=arguments.length,Ab={},Va;pb<Ib;++pb){if(!(Va=arguments[pb]+"")||Va in Ab||/[\s.]/.test(Va))throw Error("illegal type: "+Va);Ab[Va]=[]}return new Y(Ab)}function Y(pb){this._=pb}function Qa(pb,Ib){return pb.trim().split(/^|\s+/).map(function(Ab){var Va="",
nb=Ab.indexOf(".");0<=nb&&(Va=Ab.slice(nb+1),Ab=Ab.slice(0,nb));if(Ab&&!Ib.hasOwnProperty(Ab))throw Error("unknown type: "+Ab);return{type:Ab,name:Va}})}function Qb(pb,Ib,Ab){for(var Va=0,nb=pb.length;Va<nb;++Va)if(pb[Va].name===Ib){pb[Va]=db;pb=pb.slice(0,Va).concat(pb.slice(Va+1));break}null!=Ab&&pb.push({name:Ib,value:Ab});return pb}var db={value:()=>{}};Y.prototype=v.prototype={constructor:Y,on:function(pb,Ib){var Ab=this._,Va=Qa(pb+"",Ab),nb,mb=-1,Pa=Va.length;if(2>arguments.length)for(;++mb<
Pa;){var Ba;if(Ba=nb=(pb=Va[mb]).type){a:{Ba=Ab[nb];for(var Ca=0,Sa=Ba.length;Ca<Sa;++Ca)if((nb=Ba[Ca]).name===pb.name){nb=nb.value;break a}nb=void 0}Ba=nb}if(Ba)return nb}else{if(null!=Ib&&"function"!==typeof Ib)throw Error("invalid callback: "+Ib);for(;++mb<Pa;)if(nb=(pb=Va[mb]).type)Ab[nb]=Qb(Ab[nb],pb.name,Ib);else if(null==Ib)for(nb in Ab)Ab[nb]=Qb(Ab[nb],pb.name,null);return this}},copy:function(){var pb={},Ib=this._,Ab;for(Ab in Ib)pb[Ab]=Ib[Ab].slice();return new Y(pb)},call:function(pb,Ib){if(0<
(nb=arguments.length-2))for(var Ab=Array(nb),Va=0,nb,mb;Va<nb;++Va)Ab[Va]=arguments[Va+2];if(!this._.hasOwnProperty(pb))throw Error("unknown type: "+pb);mb=this._[pb];Va=0;for(nb=mb.length;Va<nb;++Va)mb[Va].value.apply(Ib,Ab)},apply:function(pb,Ib,Ab){if(!this._.hasOwnProperty(pb))throw Error("unknown type: "+pb);pb=this._[pb];for(var Va=0,nb=pb.length;Va<nb;++Va)pb[Va].value.apply(Ib,Ab)}};n.dispatch=v;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[48]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc):"function"===typeof define&&define.amd?define(["exports"],v):(n=n||self,v(n.d3=n.d3||{}))})(this,function(n){function v(){return Sa||(Ea(Y),Sa=za.now()+kb)}function Y(){Sa=0}function Qa(){this._call=this._time=this._next=null}function Qb(gb,xa,Ua){var Ja=new Qa;Ja.restart(gb,xa,Ua);return Ja}function db(){v();++Va;for(var gb=Pa,xa;gb;)0<=(xa=Sa-gb._time)&&gb._call.call(null,xa),gb=gb._next;
--Va}function pb(){Sa=(Ca=za.now())+kb;Va=nb=0;try{db()}finally{Va=0;for(var gb,xa=Pa,Ua,Ja=Infinity;xa;)xa._call?(Ja>xa._time&&(Ja=xa._time),gb=xa,xa=xa._next):(Ua=xa._next,xa._next=null,xa=gb?gb._next=Ua:Pa=Ua);Ba=gb;Ab(Ja);Sa=0}}function Ib(){var gb=za.now(),xa=gb-Ca;1E3<xa&&(kb-=xa,Ca=gb)}function Ab(gb){Va||(nb&&(nb=clearTimeout(nb)),24<gb-Sa?(Infinity>gb&&(nb=setTimeout(pb,gb-za.now()-kb)),mb&&(mb=clearInterval(mb))):(mb||(Ca=za.now(),mb=setInterval(Ib,1E3)),Va=1,Ea(pb)))}var Va=0,nb=0,mb=0,
Pa,Ba,Ca=0,Sa=0,kb=0,za="object"===typeof performance&&performance.now?performance:Date,Ea="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(gb){setTimeout(gb,17)};Qa.prototype=Qb.prototype={constructor:Qa,restart:function(gb,xa,Ua){if("function"!==typeof gb)throw new TypeError("callback is not a function");Ua=(null==Ua?v():+Ua)+(null==xa?0:+xa);this._next||Ba===this||(Ba?Ba._next=this:Pa=this,Ba=this);this._call=gb;this._time=Ua;Ab()},stop:function(){this._call&&
(this._call=null,this._time=Infinity,Ab())}};n.interval=function(gb,xa,Ua){var Ja=new Qa,da=xa;if(null==xa)return Ja.restart(gb,xa,Ua),Ja;Ja._restart=Ja.restart;Ja.restart=function(wa,La,Ra){La=+La;Ra=null==Ra?v():+Ra;Ja._restart(function jb(Wa){Wa+=da;Ja._restart(jb,da+=La,Ra);wa(Wa)},La,Ra)};Ja.restart(gb,xa,Ua);return Ja};n.now=v;n.timeout=function(gb,xa,Ua){var Ja=new Qa;xa=null==xa?0:+xa;Ja.restart(da=>{Ja.stop();gb(da+xa)},xa,Ua);return Ja};n.timer=Qb;n.timerFlush=db;Object.defineProperty(n,
"__esModule",{value:!0})})};
shadow$provide[49]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc,Ob(46),Ob(47),Ob(48)):"function"===typeof define&&define.amd?define(["exports","d3-quadtree","d3-dispatch","d3-timer"],v):(n=n||self,v(n.d3=n.d3||{},n.d3,n.d3,n.d3))})(this,function(n,v,Y,Qa){function Qb(Ba){return function(){return Ba}}function db(Ba){return Ba.x+Ba.vx}function pb(Ba){return Ba.y+Ba.vy}function Ib(Ba){return Ba.index}function Ab(Ba,Ca){Ba=Ba.get(Ca);if(!Ba)throw Error("node not found: "+
Ca);return Ba}function Va(){let Ba=1;return()=>(Ba=(1664525*Ba+1013904223)%4294967296)/4294967296}function nb(Ba){return Ba.x}function mb(Ba){return Ba.y}var Pa=Math.PI*(3-Math.sqrt(5));n.forceCenter=function(Ba,Ca){function Sa(){var Ea,gb=kb.length,xa=0,Ua=0;for(Ea=0;Ea<gb;++Ea){var Ja=kb[Ea];xa+=Ja.x;Ua+=Ja.y}xa=(xa/gb-Ba)*za;Ua=(Ua/gb-Ca)*za;for(Ea=0;Ea<gb;++Ea)Ja=kb[Ea],Ja.x-=xa,Ja.y-=Ua}var kb,za=1;null==Ba&&(Ba=0);null==Ca&&(Ca=0);Sa.initialize=function(Ea){kb=Ea};Sa.x=function(Ea){return arguments.length?
(Ba=+Ea,Sa):Ba};Sa.y=function(Ea){return arguments.length?(Ca=+Ea,Sa):Ca};Sa.strength=function(Ea){return arguments.length?(za=+Ea,Sa):za};return Sa};n.forceCollide=function(Ba){function Ca(){function Ja(x,F,O,K,ka){var ia=x.data;x=x.r;var ma=jb+x;if(ia)ia.index>Ra.index&&(F=fb-ia.x-ia.vx,O=Wa-ia.y-ia.vy,K=F*F+O*O,K<ma*ma&&(0===F&&(F=1E-6*(gb()-.5),K+=F*F),0===O&&(O=1E-6*(gb()-.5),K+=O*O),K=(ma-(K=Math.sqrt(K)))/K*xa,Ra.vx+=(F*=K)*(ma=(x*=x)/(Xa+x)),Ra.vy+=(O*=K)*ma,ia.vx-=F*(ma=1-ma),ia.vy-=O*ma));
else return F>fb+ma||K<fb-ma||O>Wa+ma||ka<Wa-ma}for(var da,wa=za.length,La,Ra,fb,Wa,jb,Xa,Q=0;Q<Ua;++Q)for(La=v.quadtree(za,db,pb).visitAfter(Sa),da=0;da<wa;++da)Ra=za[da],jb=Ea[Ra.index],Xa=jb*jb,fb=Ra.x+Ra.vx,Wa=Ra.y+Ra.vy,La.visit(Ja)}function Sa(Ja){if(Ja.data)return Ja.r=Ea[Ja.data.index];for(var da=Ja.r=0;4>da;++da)Ja[da]&&Ja[da].r>Ja.r&&(Ja.r=Ja[da].r)}function kb(){if(za){var Ja,da=za.length;Ea=Array(da);for(Ja=0;Ja<da;++Ja){var wa=za[Ja];Ea[wa.index]=+Ba(wa,Ja,za)}}}var za,Ea,gb,xa=1,Ua=
1;"function"!==typeof Ba&&(Ba=Qb(null==Ba?1:+Ba));Ca.initialize=function(Ja,da){za=Ja;gb=da;kb()};Ca.iterations=function(Ja){return arguments.length?(Ua=+Ja,Ca):Ua};Ca.strength=function(Ja){return arguments.length?(xa=+Ja,Ca):xa};Ca.radius=function(Ja){return arguments.length?(Ba="function"===typeof Ja?Ja:Qb(+Ja),kb(),Ca):Ba};return Ca};n.forceLink=function(Ba){function Ca(Wa){for(var jb=0,Xa=Ba.length;jb<fb;++jb)for(var Q=0,x,F,O,K,ka;Q<Xa;++Q)x=Ba[Q],F=x.source,x=x.target,O=x.x+x.vx-F.x-F.vx||1E-6*
(Ra()-.5),K=x.y+x.vy-F.y-F.vy||1E-6*(Ra()-.5),ka=Math.sqrt(O*O+K*K),ka=(ka-Ja[Q])/ka*Wa*xa[Q],O*=ka,K*=ka,x.vx-=O*(ka=La[Q]),x.vy-=K*ka,F.vx+=O*(ka=1-ka),F.vy+=K*ka}function Sa(){if(da){var Wa=da.length,jb=Ba.length,Xa=new Map(da.map((x,F)=>[Ea(x,F,da),x]));var Q=0;for(wa=Array(Wa);Q<jb;++Q)Wa=Ba[Q],Wa.index=Q,"object"!==typeof Wa.source&&(Wa.source=Ab(Xa,Wa.source)),"object"!==typeof Wa.target&&(Wa.target=Ab(Xa,Wa.target)),wa[Wa.source.index]=(wa[Wa.source.index]||0)+1,wa[Wa.target.index]=(wa[Wa.target.index]||
0)+1;Q=0;for(La=Array(jb);Q<jb;++Q)Wa=Ba[Q],La[Q]=wa[Wa.source.index]/(wa[Wa.source.index]+wa[Wa.target.index]);xa=Array(jb);kb();Ja=Array(jb);za()}}function kb(){if(da)for(var Wa=0,jb=Ba.length;Wa<jb;++Wa)xa[Wa]=+gb(Ba[Wa],Wa,Ba)}function za(){if(da)for(var Wa=0,jb=Ba.length;Wa<jb;++Wa)Ja[Wa]=+Ua(Ba[Wa],Wa,Ba)}var Ea=Ib,gb=function(Wa){return 1/Math.min(wa[Wa.source.index],wa[Wa.target.index])},xa,Ua=Qb(30),Ja,da,wa,La,Ra,fb=1;null==Ba&&(Ba=[]);Ca.initialize=function(Wa,jb){da=Wa;Ra=jb;Sa()};Ca.links=
function(Wa){return arguments.length?(Ba=Wa,Sa(),Ca):Ba};Ca.id=function(Wa){return arguments.length?(Ea=Wa,Ca):Ea};Ca.iterations=function(Wa){return arguments.length?(fb=+Wa,Ca):fb};Ca.strength=function(Wa){return arguments.length?(gb="function"===typeof Wa?Wa:Qb(+Wa),kb(),Ca):gb};Ca.distance=function(Wa){return arguments.length?(Ua="function"===typeof Wa?Wa:Qb(+Wa),za(),Ca):Ua};return Ca};n.forceManyBody=function(){function Ba(Ra){var fb=za.length,Wa=v.quadtree(za,nb,mb).visitAfter(Sa);xa=Ra;for(Ra=
0;Ra<fb;++Ra)Ea=za[Ra],Wa.visit(kb)}function Ca(){if(za){var Ra,fb=za.length;Ja=Array(fb);for(Ra=0;Ra<fb;++Ra){var Wa=za[Ra];Ja[Wa.index]=+Ua(Wa,Ra,za)}}}function Sa(Ra){var fb=0,Wa,jb,Xa=0,Q,x,F;if(Ra.length){for(Q=x=F=0;4>F;++F)(Wa=Ra[F])&&(jb=Math.abs(Wa.value))&&(fb+=Wa.value,Xa+=jb,Q+=jb*Wa.x,x+=jb*Wa.y);Ra.x=Q/Xa;Ra.y=x/Xa}else{Wa=Ra;Wa.x=Wa.data.x;Wa.y=Wa.data.y;do fb+=Ja[Wa.data.index];while(Wa=Wa.next)}Ra.value=fb}function kb(Ra,fb,Wa,jb){if(!Ra.value)return!0;Wa=Ra.x-Ea.x;var Xa=Ra.y-Ea.y;
fb=jb-fb;jb=Wa*Wa+Xa*Xa;if(fb*fb/La<jb)return jb<wa&&(0===Wa&&(Wa=1E-6*(gb()-.5),jb+=Wa*Wa),0===Xa&&(Xa=1E-6*(gb()-.5),jb+=Xa*Xa),jb<da&&(jb=Math.sqrt(da*jb)),Ea.vx+=Wa*Ra.value*xa/jb,Ea.vy+=Xa*Ra.value*xa/jb),!0;if(!(Ra.length||jb>=wa)){if(Ra.data!==Ea||Ra.next)0===Wa&&(Wa=1E-6*(gb()-.5),jb+=Wa*Wa),0===Xa&&(Xa=1E-6*(gb()-.5),jb+=Xa*Xa),jb<da&&(jb=Math.sqrt(da*jb));do Ra.data!==Ea&&(fb=Ja[Ra.data.index]*xa/jb,Ea.vx+=Wa*fb,Ea.vy+=Xa*fb);while(Ra=Ra.next)}}var za,Ea,gb,xa,Ua=Qb(-30),Ja,da=1,wa=Infinity,
La=.81;Ba.initialize=function(Ra,fb){za=Ra;gb=fb;Ca()};Ba.strength=function(Ra){return arguments.length?(Ua="function"===typeof Ra?Ra:Qb(+Ra),Ca(),Ba):Ua};Ba.distanceMin=function(Ra){return arguments.length?(da=Ra*Ra,Ba):Math.sqrt(da)};Ba.distanceMax=function(Ra){return arguments.length?(wa=Ra*Ra,Ba):Math.sqrt(wa)};Ba.theta=function(Ra){return arguments.length?(La=Ra*Ra,Ba):Math.sqrt(La)};return Ba};n.forceRadial=function(Ba,Ca,Sa){function kb(Ja){for(var da=0,wa=Ea.length;da<wa;++da){var La=Ea[da],
Ra=La.x-Ca||1E-6,fb=La.y-Sa||1E-6,Wa=Math.sqrt(Ra*Ra+fb*fb);Wa=(Ua[da]-Wa)*xa[da]*Ja/Wa;La.vx+=Ra*Wa;La.vy+=fb*Wa}}function za(){if(Ea){var Ja,da=Ea.length;xa=Array(da);Ua=Array(da);for(Ja=0;Ja<da;++Ja)Ua[Ja]=+Ba(Ea[Ja],Ja,Ea),xa[Ja]=isNaN(Ua[Ja])?0:+gb(Ea[Ja],Ja,Ea)}}var Ea,gb=Qb(.1),xa,Ua;"function"!==typeof Ba&&(Ba=Qb(+Ba));null==Ca&&(Ca=0);null==Sa&&(Sa=0);kb.initialize=function(Ja){Ea=Ja;za()};kb.strength=function(Ja){return arguments.length?(gb="function"===typeof Ja?Ja:Qb(+Ja),za(),kb):gb};
kb.radius=function(Ja){return arguments.length?(Ba="function"===typeof Ja?Ja:Qb(+Ja),za(),kb):Ba};kb.x=function(Ja){return arguments.length?(Ca=+Ja,kb):Ca};kb.y=function(Ja){return arguments.length?(Sa=+Ja,kb):Sa};return kb};n.forceSimulation=function(Ba){function Ca(){Sa();Ra.call("tick",Ea);gb<xa&&(La.stop(),Ra.call("end",Ea))}function Sa(Wa){var jb,Xa=Ba.length;void 0===Wa&&(Wa=1);for(var Q=0;Q<Wa;++Q)for(gb+=(Ja-gb)*Ua,wa.forEach(function(F){F(gb)}),jb=0;jb<Xa;++jb){var x=Ba[jb];null==x.fx?x.x+=
x.vx*=da:(x.x=x.fx,x.vx=0);null==x.fy?x.y+=x.vy*=da:(x.y=x.fy,x.vy=0)}return Ea}function kb(){for(var Wa=0,jb=Ba.length,Xa;Wa<jb;++Wa){Xa=Ba[Wa];Xa.index=Wa;null!=Xa.fx&&(Xa.x=Xa.fx);null!=Xa.fy&&(Xa.y=Xa.fy);if(isNaN(Xa.x)||isNaN(Xa.y)){var Q=10*Math.sqrt(.5+Wa),x=Wa*Pa;Xa.x=Q*Math.cos(x);Xa.y=Q*Math.sin(x)}if(isNaN(Xa.vx)||isNaN(Xa.vy))Xa.vx=Xa.vy=0}}function za(Wa){Wa.initialize&&Wa.initialize(Ba,fb);return Wa}var Ea,gb=1,xa=.001,Ua=1-Math.pow(xa,1/300),Ja=0,da=.6,wa=new Map,La=Qa.timer(Ca),Ra=
Y.dispatch("tick","end"),fb=Va();null==Ba&&(Ba=[]);kb();return Ea={tick:Sa,restart:function(){return La.restart(Ca),Ea},stop:function(){return La.stop(),Ea},nodes:function(Wa){return arguments.length?(Ba=Wa,kb(),wa.forEach(za),Ea):Ba},alpha:function(Wa){return arguments.length?(gb=+Wa,Ea):gb},alphaMin:function(Wa){return arguments.length?(xa=+Wa,Ea):xa},alphaDecay:function(Wa){return arguments.length?(Ua=+Wa,Ea):+Ua},alphaTarget:function(Wa){return arguments.length?(Ja=+Wa,Ea):Ja},velocityDecay:function(Wa){return arguments.length?
(da=1-Wa,Ea):1-da},randomSource:function(Wa){return arguments.length?(fb=Wa,wa.forEach(za),Ea):fb},force:function(Wa,jb){return 1<arguments.length?(null==jb?wa.delete(Wa):wa.set(Wa,za(jb)),Ea):wa.get(Wa)},find:function(Wa,jb,Xa){var Q,x=Ba.length;Xa=null==Xa?Infinity:Xa*Xa;for(Q=0;Q<x;++Q){var F=Ba[Q];var O=Wa-F.x;var K=jb-F.y;O=O*O+K*K;if(O<Xa){var ka=F;Xa=O}}return ka},on:function(Wa,jb){return 1<arguments.length?(Ra.on(Wa,jb),Ea):Ra.on(Wa)}}};n.forceX=function(Ba){function Ca(xa){for(var Ua=0,
Ja=za.length,da;Ua<Ja;++Ua)da=za[Ua],da.vx+=(gb[Ua]-da.x)*Ea[Ua]*xa}function Sa(){if(za){var xa,Ua=za.length;Ea=Array(Ua);gb=Array(Ua);for(xa=0;xa<Ua;++xa)Ea[xa]=isNaN(gb[xa]=+Ba(za[xa],xa,za))?0:+kb(za[xa],xa,za)}}var kb=Qb(.1),za,Ea,gb;"function"!==typeof Ba&&(Ba=Qb(null==Ba?0:+Ba));Ca.initialize=function(xa){za=xa;Sa()};Ca.strength=function(xa){return arguments.length?(kb="function"===typeof xa?xa:Qb(+xa),Sa(),Ca):kb};Ca.x=function(xa){return arguments.length?(Ba="function"===typeof xa?xa:Qb(+xa),
Sa(),Ca):Ba};return Ca};n.forceY=function(Ba){function Ca(xa){for(var Ua=0,Ja=za.length,da;Ua<Ja;++Ua)da=za[Ua],da.vy+=(gb[Ua]-da.y)*Ea[Ua]*xa}function Sa(){if(za){var xa,Ua=za.length;Ea=Array(Ua);gb=Array(Ua);for(xa=0;xa<Ua;++xa)Ea[xa]=isNaN(gb[xa]=+Ba(za[xa],xa,za))?0:+kb(za[xa],xa,za)}}var kb=Qb(.1),za,Ea,gb;"function"!==typeof Ba&&(Ba=Qb(null==Ba?0:+Ba));Ca.initialize=function(xa){za=xa;Sa()};Ca.strength=function(xa){return arguments.length?(kb="function"===typeof xa?xa:Qb(+xa),Sa(),Ca):kb};Ca.y=
function(xa){return arguments.length?(Ba="function"===typeof xa?xa:Qb(+xa),Sa(),Ca):Ba};return Ca};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[50]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc,Ob(29),Ob(17),Ob(49)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-force"],v):(n="undefined"!==typeof globalThis?globalThis:n||self,v((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.d3))})(this,function(n,v,Y,Qa){function Qb(Ba){v.Transform.call(this,null,Ba)}function db(Ba,Ca){return()=>Ba.touch(Ca).run()}function pb(Ba,Ca){Ba=Qa.forceSimulation(Ba);
const Sa=Ba.stop,kb=Ba.restart;let za=!1;Ba.stopped=()=>za;Ba.restart=()=>(za=!1,kb());Ba.stop=()=>(za=!0,Sa());return Ib(Ba,Ca,!0).on("end",()=>za=!0)}function Ib(Ba,Ca,Sa,kb){var za=Y.array(Ca.forces),Ea;var gb=0;for(Ea=nb.length;gb<Ea;++gb){var xa=nb[gb];if("forces"!==xa&&Ca.modified(xa))Ba[xa](Ca[xa])}gb=0;for(Ea=za.length;gb<Ea;++gb){var Ua="forces"+gb;if(Sa||Ca.modified("forces",gb)){xa=void 0;var Ja=za[gb];Y.hasOwnProperty(Va,Ja.force)||Y.error("Unrecognized force: "+Ja.force);var da=Va[Ja.force]();
for(xa in Ja)Y.isFunction(da[xa])&&Ab(da[xa],Ja[xa],Ja);xa=da}else{if(xa=kb)a:{da=xa=void 0;Ja=za[gb];var wa=kb;for(da in Ja)if(Y.isFunction(xa=Ja[da])&&wa.modified(Y.accessorFields(xa))){xa=1;break a}xa=0}xa=xa?Ba.force(Ua):null}xa&&Ba.force(Ua,xa)}for(Ea=Ba.numForces||0;gb<Ea;++gb)Ba.force("forces"+gb,null);Ba.numForces=za.length;return Ba}function Ab(Ba,Ca,Sa){Ba(Y.isFunction(Ca)?kb=>Ca(kb,Sa):Ca)}const Va={center:Qa.forceCenter,collide:Qa.forceCollide,nbody:Qa.forceManyBody,link:Qa.forceLink,
x:Qa.forceX,y:Qa.forceY},nb=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],mb=["static","iterations"],Pa=["x","y","vx","vy"];Qb.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean","default":!1},{name:"restart",type:"boolean","default":!1},{name:"iterations",type:"number","default":300},{name:"alpha",type:"number","default":1},{name:"alphaMin",type:"number","default":.001},{name:"alphaTarget",type:"number","default":0},{name:"velocityDecay",type:"number",
"default":.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number","default":0},{name:"y",type:"number","default":0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number","default":.7},{name:"iterations",type:"number","default":1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number","default":-30},{name:"theta",type:"number","default":.9},{name:"distanceMin",type:"number","default":1},{name:"distanceMax",
type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number","default":30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number","default":1}]},{key:{force:"x"},params:[{name:"strength",type:"number","default":.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number","default":.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,"default":Pa}]};Y.inherits(Qb,
v.Transform,{transform(Ba,Ca){var Sa=this.value,kb=Ca.changed(Ca.ADD_REM),za=Ba.modified(nb),Ea=Ba.iterations||300;Sa?(kb&&(Ca.modifies("index"),Sa.nodes(Ca.source)),(za||Ca.changed(Ca.MOD))&&Ib(Sa,Ba,0,Ca)):(this.value=Sa=pb(Ca.source,Ba),Sa.on("tick",db(Ca.dataflow,this)),Ba.static||(kb=!0,Sa.tick()),Ca.modifies("index"));if(za||kb||Ba.modified(mb)||Ca.changed()&&Ba.restart)if(Sa.alpha(Math.max(Sa.alpha(),Ba.alpha||1)).alphaDecay(1-Math.pow(Sa.alphaMin(),1/Ea)),Ba.static)for(Sa.stop();0<=--Ea;)Sa.tick();
else if(Sa.stopped()&&Sa.restart(),!kb)return Ca.StopPropagation;return this.finish(Ba,Ca)},finish(Ba,Ca){const Sa=Ca.dataflow;for(let xa=this._argops,Ua=0,Ja=xa.length,da;Ua<Ja;++Ua)if(da=xa[Ua],"forces"===da.name&&"link"===da.op._argval.force)for(var kb=da.op._argops,za=0,Ea=kb.length,gb;za<Ea;++za)if("links"===kb[za].name&&(gb=kb[za].op.source)){Sa.pulse(gb,Sa.changeset().reflow());break}return Ca.reflow(Ba.modified()).modifies(Pa)}});n.force=Qb;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[51]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc):"function"===typeof define&&define.amd?define(["exports"],v):(n=n||self,v(n.d3=n.d3||{}))})(this,function(n){function v(t,u){return t.parent===u.parent?1:2}function Y(t,u){return t+u.x}function Qa(t,u){return Math.max(t,u.y)}function Qb(t){for(var u;u=t.children;)t=u[0];return t}function db(t){for(var u;u=t.children;)t=u[u.length-1];return t}function pb(t){var u=0,l=t.children,p=l&&l.length;
if(p)for(;0<=--p;)u+=l[p].value;else u=1;t.value=u}function Ib(t,u){t instanceof Map?(t=[void 0,t],void 0===u&&(u=Va)):void 0===u&&(u=Ab);t=new Pa(t);for(var l,p=[t],A,B,E,z;l=p.pop();)if((B=u(l.data))&&(z=(B=Array.from(B)).length))for(l.children=B,E=z-1;0<=E;--E)p.push(A=B[E]=new Pa(B[E])),A.parent=l,A.depth=l.depth+1;return t.eachBefore(mb)}function Ab(t){return t.children}function Va(t){return Array.isArray(t)?t[1]:null}function nb(t){void 0!==t.data.value&&(t.value=t.data.value);t.data=t.data.data}
function mb(t){var u=0;do t.height=u;while((t=t.parent)&&t.height<++u)}function Pa(t){this.data=t;this.depth=this.height=0;this.parent=null}function Ba(t){var u=0;t=Array.from(t);for(var l=t.length,p,A;l;)A=Math.random()*l--|0,p=t[l],t[l]=t[A],t[A]=p;l=t.length;p=[];for(var B;u<l;)if(A=t[u],B&&Sa(B,A))++u;else{a:if(u=p,kb(A,u))u=[A];else{for(p=0;p<u.length;++p)if(Ca(A,u[p])&&kb(za(u[p],A),u)){u=[u[p],A];break a}for(p=0;p<u.length-1;++p)for(B=p+1;B<u.length;++B)if(Ca(za(u[p],u[B]),A)&&Ca(za(u[p],A),
u[B])&&Ca(za(u[B],A),u[p])&&kb(Ea(u[p],u[B],A),u)){u=[u[p],u[B],A];break a}throw Error();}a:{u=p=u;switch(u.length){case 1:u=u[0];u={x:u.x,y:u.y,r:u.r};break a;case 2:u=za(u[0],u[1]);break a;case 3:u=Ea(u[0],u[1],u[2]);break a}u=void 0}B=u;u=0}return B}function Ca(t,u){var l=t.r-u.r,p=u.x-t.x;t=u.y-t.y;return 0>l||l*l<p*p+t*t}function Sa(t,u){var l=t.r-u.r+1E-9*Math.max(t.r,u.r,1),p=u.x-t.x;t=u.y-t.y;return 0<l&&l*l>p*p+t*t}function kb(t,u){for(var l=0;l<u.length;++l)if(!Sa(t,u[l]))return!1;return!0}
function za(t,u){var l=t.x,p=t.y;t=t.r;var A=u.x,B=u.y;u=u.r;var E=A-l,z=B-p,aa=u-t,sa=Math.sqrt(E*E+z*z);return{x:(l+A+E/sa*aa)/2,y:(p+B+z/sa*aa)/2,r:(sa+t+u)/2}}function Ea(t,u,l){var p=t.x,A=t.y;t=t.r;var B=u.x,E=u.y,z=u.r,aa=l.x,sa=l.y,fa=l.r;l=p-B;u=p-aa;var Na=A-E,Da=A-sa,W=z-t,na=fa-t,$a=p*p+A*A-t*t;E=$a-B*B-E*E+z*z;sa=$a-aa*aa-sa*sa+fa*fa;aa=u*Na-l*Da;B=(Na*sa-Da*E)/(2*aa)-p;Na=(Da*W-Na*na)/aa;Da=(u*E-l*sa)/(2*aa)-A;l=(l*na-u*W)/aa;u=Na*Na+l*l-1;W=2*(t+B*Na+Da*l);t=B*B+Da*Da-t*t;t=-(u?(W+
Math.sqrt(W*W-4*u*t))/(2*u):t/W);return{x:p+B+Na*t,y:A+Da+l*t,r:t}}function gb(t,u,l){var p=t.x-u.x,A=t.y-u.y,B=p*p+A*A;if(B){var E=u.r+l.r;E*=E;var z=t.r+l.r;z*=z;if(E>z){var aa=(B+z-E)/(2*B);E=Math.sqrt(Math.max(0,z/B-aa*aa));l.x=t.x-aa*p-E*A;l.y=t.y-aa*A+E*p}else aa=(B+E-z)/(2*B),E=Math.sqrt(Math.max(0,E/B-aa*aa)),l.x=u.x+aa*p-E*A,l.y=u.y+aa*A+E*p}else l.x=u.x+l.r,l.y=u.y}function xa(t,u){var l=t.r+u.r-1E-6,p=u.x-t.x;t=u.y-t.y;return 0<l&&l*l>p*p+t*t}function Ua(t){var u=t._,l=t.next._,p=u.r+l.r;
t=(u.x*l.r+l.x*u.r)/p;u=(u.y*l.r+l.y*u.r)/p;return t*t+u*u}function Ja(t){this._=t;this.previous=this.next=null}function da(t){if(!(l=(t="object"===typeof t&&"length"in t?t:Array.from(t)).length))return 0;var u,l;var p=t[0];p.x=0;p.y=0;if(!(1<l))return p.r;var A=t[1];p.x=-A.r;A.x=p.r;A.y=0;if(!(2<l))return p.r+A.r;gb(A,p,u=t[2]);p=new Ja(p);A=new Ja(A);u=new Ja(u);p.next=u.previous=A;A.next=p.previous=u;u.next=A.previous=p;var B=3;a:for(;B<l;++B){gb(p._,A._,u=t[B]);u=new Ja(u);var E=A.next;var z=
p.previous;var aa=A._.r;var sa=p._.r;do if(aa<=sa){if(xa(E._,u._)){A=E;p.next=A;A.previous=p;--B;continue a}aa+=E._.r;E=E.next}else{if(xa(z._,u._)){p=z;p.next=A;A.previous=p;--B;continue a}sa+=z._.r;z=z.previous}while(E!==z.next);u.previous=p;u.next=A;p.next=A.previous=A=u;for(E=Ua(p);(u=u.next)!==A;)(z=Ua(u))<E&&(p=u,E=z);A=p.next}p=[A._];for(u=A;(u=u.next)!==A;)p.push(u._);u=Ba(p);for(B=0;B<l;++B)p=t[B],p.x-=u.x,p.y-=u.y;return u.r}function wa(t){if("function"!==typeof t)throw Error();return t}
function La(){return 0}function Ra(t){return function(){return t}}function fb(t){return Math.sqrt(t.value)}function Wa(t){return function(u){u.children||(u.r=Math.max(0,+t(u)||0))}}function jb(t,u){return function(l){if(p=l.children){var p,A,B=p.length,E=t(l)*u||0;if(E)for(A=0;A<B;++A)p[A].r+=E;var z=da(p);if(E)for(A=0;A<B;++A)p[A].r-=E;l.r=z+E}}}function Xa(t){return function(u){var l=u.parent;u.r*=t;l&&(u.x=l.x+t*u.x,u.y=l.y+t*u.y)}}function Q(t){t.x0=Math.round(t.x0);t.y0=Math.round(t.y0);t.x1=
Math.round(t.x1);t.y1=Math.round(t.y1)}function x(t,u,l,p,A){var B=t.children,E=-1,z=B.length;for(p=t.value&&(p-u)/t.value;++E<z;)t=B[E],t.y0=l,t.y1=A,t.x0=u,t.x1=u+=t.value*p}function F(t){return t.id}function O(t){return t.parentId}function K(t,u){return t.parent===u.parent?1:2}function ka(t){var u=t.children;return u?u[0]:t.t}function ia(t){var u=t.children;return u?u[u.length-1]:t.t}function ma(t,u){this._=t;this.A=this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=
null;this.i=u}function Ya(t){t=new ma(t,0);for(var u,l=[t],p,A,B;u=l.pop();)if(A=u._.children)for(u.children=Array(p=A.length),B=p-1;0<=B;--B)l.push(p=u.children[B]=new ma(A[B],B)),p.parent=u;(t.parent=new ma(null,0)).children=[t];return t}function Za(t,u,l,p,A){var B=t.children,E=-1,z=B.length;for(A=t.value&&(A-l)/t.value;++E<z;)t=B[E],t.x0=u,t.x1=p,t.y0=l,t.y1=l+=t.value*A}function S(t,u,l,p,A,B){for(var E=[],z=u.children,aa,sa,fa=aa=0,Na=z.length,Da,W=u.value,na,$a,sb,Db,Xb,vc;aa<Na;){u=A-l;Da=
B-p;do na=z[fa++].value;while(!na&&fa<Na);$a=sb=na;vc=Math.max(Da/u,u/Da)/(W*t);Db=na*na*vc;for(Xb=Math.max(sb/Db,Db/$a);fa<Na;++fa){na+=sa=z[fa].value;sa<$a&&($a=sa);sa>sb&&(sb=sa);Db=na*na*vc;Db=Math.max(sb/Db,Db/$a);if(Db>Xb){na-=sa;break}Xb=Db}E.push(aa={value:na,dice:u<Da,children:z.slice(aa,fa)});aa.dice?x(aa,l,p,A,W?p+=Da*na/W:B):Za(aa,l,p,W?l+=u*na/W:A,B);W-=na;aa=fa}return E}Pa.prototype=Ib.prototype={constructor:Pa,count:function(){return this.eachAfter(pb)},each:function(t,u){let l=-1;
for(const p of this)t.call(u,p,++l,this);return this},eachAfter:function(t,u){for(var l,p=[this],A=[],B,E,z=-1;l=p.pop();)if(A.push(l),l=l.children)for(B=0,E=l.length;B<E;++B)p.push(l[B]);for(;l=A.pop();)t.call(u,l,++z,this);return this},eachBefore:function(t,u){for(var l,p=[this],A,B=-1;l=p.pop();)if(t.call(u,l,++B,this),l=l.children)for(A=l.length-1;0<=A;--A)p.push(l[A]);return this},find:function(t,u){let l=-1;for(const p of this)if(t.call(u,p,++l,this))return p},sum:function(t){return this.eachAfter(function(u){for(var l=
+t(u.data)||0,p=u.children,A=p&&p.length;0<=--A;)l+=p[A].value;u.value=l})},sort:function(t){return this.eachBefore(function(u){u.children&&u.children.sort(t)})},path:function(t){var u=this;var l=u;var p=t;if(l!==p){var A=l.ancestors(),B=p.ancestors(),E=null;l=A.pop();for(p=B.pop();l===p;)E=l,l=A.pop(),p=B.pop();l=E}for(p=[u];u!==l;)u=u.parent,p.push(u);for(u=p.length;t!==l;)p.splice(u,0,t),t=t.parent;return p},ancestors:function(){for(var t=this,u=[t];t=t.parent;)u.push(t);return u},descendants:function(){return Array.from(this)},
leaves:function(){var t=[];this.eachBefore(function(u){u.children||t.push(u)});return t},links:function(){var t=this,u=[];t.each(function(l){l!==t&&u.push({source:l.parent,target:l})});return u},copy:function(){return Ib(this).eachBefore(nb)},[Symbol.iterator]:function*(){var t,u=[this],l;do{var p=u.reverse();for(u=[];t=p.pop();)if(yield t,t=t.children){var A=0;for(l=t.length;A<l;++A)u.push(t[A])}}while(u.length)}};var qa={depth:-1},ta={};ma.prototype=Object.create(Pa.prototype);var ha=(1+Math.sqrt(5))/
2,P=function l(u){function p(A,B,E,z,aa){S(u,A,B,E,z,aa)}p.ratio=function(A){return l(1<(A=+A)?A:1)};return p}(ha);ha=function p(l){function A(B,E,z,aa,sa){if((fa=B._squarify)&&fa.ratio===l)for(var fa,Na,Da,W=-1,na,$a=fa.length,sb=B.value;++W<$a;){B=fa[W];Na=B.children;Da=B.value=0;for(na=Na.length;Da<na;++Da)B.value+=Na[Da].value;B.dice?x(B,E,z,aa,sb?z+=(sa-z)*B.value/sb:sa):Za(B,E,z,sb?E+=(aa-E)*B.value/sb:aa,sa);sb-=B.value}else B._squarify=fa=S(l,B,E,z,aa,sa),fa.ratio=l}A.ratio=function(B){return p(1<
(B=+B)?B:1)};return A}(ha);n.cluster=function(){function l(z){var aa,sa=0;z.eachAfter(function(na){var $a=na.children;if($a){var sb=$a.reduce(Y,0)/$a.length;na.x=sb;na.y=1+$a.reduce(Qa,0)}else na.x=aa?sa+=p(na,aa):0,na.y=0,aa=na});var fa=Qb(z),Na=db(z),Da=fa.x-p(fa,Na)/2,W=Na.x+p(Na,fa)/2;return z.eachAfter(E?function(na){na.x=(na.x-z.x)*A;na.y=(z.y-na.y)*B}:function(na){na.x=(na.x-Da)/(W-Da)*A;na.y=(1-(z.y?na.y/z.y:1))*B})}var p=v,A=1,B=1,E=!1;l.separation=function(z){return arguments.length?(p=
z,l):p};l.size=function(z){return arguments.length?(E=!1,A=+z[0],B=+z[1],l):E?null:[A,B]};l.nodeSize=function(z){return arguments.length?(E=!0,A=+z[0],B=+z[1],l):E?[A,B]:null};return l};n.hierarchy=Ib;n.pack=function(){function l(z){z.x=A/2;z.y=B/2;p?z.eachBefore(Wa(p)).eachAfter(jb(E,.5)).eachBefore(Xa(1)):z.eachBefore(Wa(fb)).eachAfter(jb(La,1)).eachAfter(jb(E,z.r/Math.min(A,B))).eachBefore(Xa(Math.min(A,B)/(2*z.r)));return z}var p=null,A=1,B=1,E=La;l.radius=function(z){return arguments.length?
(p=null==z?null:wa(z),l):p};l.size=function(z){return arguments.length?(A=+z[0],B=+z[1],l):[A,B]};l.padding=function(z){return arguments.length?(E="function"===typeof z?z:Ra(+z),l):E};return l};n.packEnclose=Ba;n.packSiblings=function(l){da(l);return l};n.partition=function(){function l(aa){var sa=aa.height+1;aa.x0=aa.y0=E;aa.x1=A;aa.y1=B/sa;aa.eachBefore(p(B,sa));z&&aa.eachBefore(Q);return aa}function p(aa,sa){return function(fa){fa.children&&x(fa,fa.x0,aa*(fa.depth+1)/sa,fa.x1,aa*(fa.depth+2)/sa);
var Na=fa.x0,Da=fa.y0,W=fa.x1-E,na=fa.y1-E;W<Na&&(Na=W=(Na+W)/2);na<Da&&(Da=na=(Da+na)/2);fa.x0=Na;fa.y0=Da;fa.x1=W;fa.y1=na}}var A=1,B=1,E=0,z=!1;l.round=function(aa){return arguments.length?(z=!!aa,l):z};l.size=function(aa){return arguments.length?(A=+aa[0],B=+aa[1],l):[A,B]};l.padding=function(aa){return arguments.length?(E=+aa,l):E};return l};n.stratify=function(){function l(B){var E=Array.from(B),z=E.length,aa,sa,fa=new Map;for(aa=0;aa<z;++aa){var Na=E[aa];var Da=E[aa]=new Pa(Na);if(null!=(sa=
p(Na,aa,B))&&(sa+="")){var W=Da.id=sa;fa.set(W,fa.has(W)?ta:Da)}null!=(sa=A(Na,aa,B))&&(sa+="")&&(Da.parent=sa)}for(aa=0;aa<z;++aa)if(Da=E[aa],sa=Da.parent){B=fa.get(sa);if(!B)throw Error("missing: "+sa);if(B===ta)throw Error("ambiguous: "+sa);B.children?B.children.push(Da):B.children=[Da];Da.parent=B}else{if(na)throw Error("multiple roots");var na=Da}if(!na)throw Error("no root");na.parent=qa;na.eachBefore(function($a){$a.depth=$a.parent.depth+1;--z}).eachBefore(mb);na.parent=null;if(0<z)throw Error("cycle");
return na}var p=F,A=O;l.id=function(B){return arguments.length?(p=wa(B),l):p};l.parentId=function(B){return arguments.length?(A=wa(B),l):A};return l};n.tree=function(){function l(fa){var Na=Ya(fa);Na.eachAfter(p);Na.parent.m=-Na.z;Na.eachBefore(A);if(sa)fa.eachBefore(B);else{var Da=fa,W=fa,na=fa;fa.eachBefore(function(Xb){Xb.x<Da.x&&(Da=Xb);Xb.x>W.x&&(W=Xb);Xb.depth>na.depth&&(na=Xb)});Na=Da===W?1:E(Da,W)/2;var $a=Na-Da.x,sb=z/(W.x+Na+$a),Db=aa/(na.depth||1);fa.eachBefore(function(Xb){Xb.x=(Xb.x+
$a)*sb;Xb.y=Xb.depth*Db})}return fa}function p(fa){var Na=fa.children,Da=fa.parent.children,W=fa.i?Da[fa.i-1]:null;if(Na){for(var na=0,$a=0,sb=fa.children,Db=sb.length,Xb;0<=--Db;)Xb=sb[Db],Xb.z+=na,Xb.m+=na,na+=Xb.s+($a+=Xb.c);Na=(Na[0].z+Na[Na.length-1].z)/2;W?(fa.z=W.z+E(fa._,W._),fa.m=fa.z-Na):fa.z=Na}else W&&(fa.z=W.z+E(fa._,W._));Na=fa.parent;Da=fa.parent.A||Da[0];if(W){$a=na=fa;sb=na.parent.children[0];Db=na.m;Xb=$a.m;for(var vc=W.m,Vc=sb.m,tc;W=ia(W),na=ka(na),W&&na;){sb=ka(sb);$a=ia($a);
$a.a=fa;tc=W.z+vc-na.z-Db+E(W._,na._);if(0<tc){var Hc=W.a.parent===fa.parent?W.a:Da,Ma=fa,ec=tc,cc=ec/(Ma.i-Hc.i);Ma.c-=cc;Ma.s+=ec;Hc.c+=cc;Ma.z+=ec;Ma.m+=ec;Db+=tc;Xb+=tc}vc+=W.m;Db+=na.m;Vc+=sb.m;Xb+=$a.m}W&&!ia($a)&&($a.t=W,$a.m+=vc-Xb);na&&!ka(sb)&&(sb.t=na,sb.m+=Db-Vc,Da=fa)}Na.A=Da}function A(fa){fa._.x=fa.z+fa.parent.m;fa.m+=fa.parent.m}function B(fa){fa.x*=z;fa.y=fa.depth*aa}var E=K,z=1,aa=1,sa=null;l.separation=function(fa){return arguments.length?(E=fa,l):E};l.size=function(fa){return arguments.length?
(sa=!1,z=+fa[0],aa=+fa[1],l):sa?null:[z,aa]};l.nodeSize=function(fa){return arguments.length?(sa=!0,z=+fa[0],aa=+fa[1],l):sa?[z,aa]:null};return l};n.treemap=function(){function l(na){na.x0=na.y0=0;na.x1=E;na.y1=z;na.eachBefore(p);aa=[0];B&&na.eachBefore(Q);return na}function p(na){var $a=aa[na.depth],sb=na.x0+$a,Db=na.y0+$a,Xb=na.x1-$a,vc=na.y1-$a;Xb<sb&&(sb=Xb=(sb+Xb)/2);vc<Db&&(Db=vc=(Db+vc)/2);na.x0=sb;na.y0=Db;na.x1=Xb;na.y1=vc;na.children&&($a=aa[na.depth+1]=sa(na)/2,sb+=W(na)-$a,Db+=fa(na)-
$a,Xb-=Na(na)-$a,vc-=Da(na)-$a,Xb<sb&&(sb=Xb=(sb+Xb)/2),vc<Db&&(Db=vc=(Db+vc)/2),A(na,sb,Db,Xb,vc))}var A=P,B=!1,E=1,z=1,aa=[0],sa=La,fa=La,Na=La,Da=La,W=La;l.round=function(na){return arguments.length?(B=!!na,l):B};l.size=function(na){return arguments.length?(E=+na[0],z=+na[1],l):[E,z]};l.tile=function(na){return arguments.length?(A=wa(na),l):A};l.padding=function(na){return arguments.length?l.paddingInner(na).paddingOuter(na):l.paddingInner()};l.paddingInner=function(na){return arguments.length?
(sa="function"===typeof na?na:Ra(+na),l):sa};l.paddingOuter=function(na){return arguments.length?l.paddingTop(na).paddingRight(na).paddingBottom(na).paddingLeft(na):l.paddingTop()};l.paddingTop=function(na){return arguments.length?(fa="function"===typeof na?na:Ra(+na),l):fa};l.paddingRight=function(na){return arguments.length?(Na="function"===typeof na?na:Ra(+na),l):Na};l.paddingBottom=function(na){return arguments.length?(Da="function"===typeof na?na:Ra(+na),l):Da};l.paddingLeft=function(na){return arguments.length?
(W="function"===typeof na?na:Ra(+na),l):W};return l};n.treemapBinary=function(l,p,A,B,E){function z(W,na,$a,sb,Db,Xb,vc){if(W>=na-1)W=aa[W],W.x0=sb,W.y0=Db,W.x1=Xb,W.y1=vc;else{for(var Vc=Da[W],tc=$a/2+Vc,Hc=W+1,Ma=na-1;Hc<Ma;){var ec=Hc+Ma>>>1;Da[ec]<tc?Hc=ec+1:Ma=ec}tc-Da[Hc-1]<Da[Hc]-tc&&W+1<Hc&&--Hc;Vc=Da[Hc]-Vc;tc=$a-Vc;Xb-sb>vc-Db?($a=$a?(sb*tc+Xb*Vc)/$a:Xb,z(W,Hc,Vc,sb,Db,$a,vc),z(Hc,na,tc,$a,Db,Xb,vc)):($a=$a?(Db*tc+vc*Vc)/$a:vc,z(W,Hc,Vc,sb,Db,Xb,$a),z(Hc,na,tc,sb,$a,Xb,vc))}}var aa=l.children,
sa,fa=aa.length,Na,Da=Array(fa+1);for(Da[0]=Na=sa=0;sa<fa;++sa)Da[sa+1]=Na+=aa[sa].value;z(0,fa,l.value,p,A,B,E)};n.treemapDice=x;n.treemapResquarify=ha;n.treemapSlice=Za;n.treemapSliceDice=function(l,p,A,B,E){(l.depth&1?Za:x)(l,p,A,B,E)};n.treemapSquarify=P;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[52]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc,Ob(29),Ob(17),Ob(51)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-hierarchy"],v):(n="undefined"!==typeof globalThis?globalThis:n||self,v(n.vega={},n.vega,n.vega,n.d3))})(this,function(n,v,Y,Qa){function Qb(xa,Ua,Ja){const da={};xa.each(wa=>{const La=wa.data;Ja(La)&&(da[Ua(La)]=wa)});xa.lookup=da;return xa}function db(xa){v.Transform.call(this,null,
xa)}function pb(){function xa(wa,La){if(La>=Ja.length)return wa;const Ra=wa.length,fb=Ja[La++],Wa={},jb={};let Xa=-1,Q,x,F;for(;++Xa<Ra;)Q=fb(x=wa[Xa])+"",(F=Wa[Q])?F.push(x):Wa[Q]=[x];for(Q in Wa)jb[Q]=xa(Wa[Q],La);return jb}function Ua(wa,La){if(++La>Ja.length)return wa;const Ra=[];for(const fb in wa)Ra.push({key:fb,values:Ua(wa[fb],La)});return Ra}const Ja=[],da={entries:wa=>Ua(xa(wa,0),0),key:wa=>(Ja.push(wa),da)};return da}function Ib(xa){v.Transform.call(this,null,xa)}function Ab(xa,Ua,Ja){for(let da,
wa=0,La=Ua.length;wa<La;++wa)if(da=Ua[wa],da in Ja)xa[da](Ja[da])}function Va(xa){Ib.call(this,xa)}function nb(xa){Ib.call(this,xa)}function mb(xa){v.Transform.call(this,null,xa)}function Pa(xa){Ib.call(this,xa)}function Ba(xa){v.Transform.call(this,[],xa)}function Ca(xa){Ib.call(this,xa)}db.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const Sa=xa=>xa.values;Y.inherits(db,v.Transform,{transform(xa,Ua){Ua.source||
Y.error("Nest transform requires an upstream data source.");var Ja=xa.generate,da=xa.modified(),wa=Ua.clone(),La=this.value;if(!La||da||Ua.changed())La&&La.each(Ra=>{Ra.children&&v.isTuple(Ra.data)&&wa.rem.push(Ra.data)}),this.value=La=Qa.hierarchy({values:Y.array(xa.keys).reduce((Ra,fb)=>{Ra.key(fb);return Ra},pb()).entries(wa.source)},Sa),Ja&&La.each(Ra=>{Ra.children&&(Ra=v.ingest(Ra.data),wa.add.push(Ra),wa.source.push(Ra))}),Qb(La,v.tupleid,v.tupleid);wa.source.root=La;return wa}});const kb=(xa,
Ua)=>xa.parent===Ua.parent?1:2;Y.inherits(Ib,v.Transform,{transform(xa,Ua){Ua.source&&Ua.source.root||Y.error(this.constructor.name+" transform requires a backing tree data source.");const Ja=this.layout(xa.method),da=this.fields,wa=Ua.source.root,La=xa.as||da;xa.field?wa.sum(xa.field):wa.count();xa.sort&&wa.sort(v.stableCompare(xa.sort,Ra=>Ra.data));Ab(Ja,this.params,xa);Ja.separation&&Ja.separation(!1!==xa.separation?kb:Y.one);try{this.value=Ja(wa)}catch(Ra){Y.error(Ra)}wa.each(Ra=>{{const fb=Ra.data,
Wa=da.length-1;for(let jb=0;jb<Wa;++jb)fb[La[jb]]=Ra[da[jb]];fb[La[Wa]]=Ra.children?Ra.children.length:0}});return Ua.reflow(xa.modified()).modifies(La).modifies("leaf")}});var za=["x","y","r","depth","children"];Va.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"radius",type:"field","default":null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,
length:za.length,"default":za}]};Y.inherits(Va,Ib,{layout:Qa.pack,params:["radius","size","padding"],fields:za});za="x0 y0 x1 y1 depth children".split(" ");nb.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:za.length,"default":za}]};Y.inherits(nb,Ib,{layout:Qa.partition,
params:["size","round","padding"],fields:za});mb.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};Y.inherits(mb,v.Transform,{transform(xa,Ua){Ua.source||Y.error("Stratify transform requires an upstream data source.");let Ja=this.value;const da=xa.modified(),wa=Ua.fork(Ua.ALL).materialize(Ua.SOURCE);Ua=!Ja||da||Ua.changed(Ua.ADD_REM)||Ua.modified(xa.key.fields)||Ua.modified(xa.parentKey.fields);wa.source=
wa.source.slice();Ua&&(Ja=wa.source.length?Qb(Qa.stratify().id(xa.key).parentId(xa.parentKey)(wa.source),xa.key,Y.truthy):Qb(Qa.stratify()([{}]),xa.key,xa.key));wa.source.root=this.value=Ja;return wa}});const Ea={tidy:Qa.tree,cluster:Qa.cluster};za=["x","y","depth","children"];Pa.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,
length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean","default":!0},{name:"as",type:"string",array:!0,length:za.length,"default":za}]};Y.inherits(Pa,Ib,{layout(xa){xa=xa||"tidy";if(Y.hasOwnProperty(Ea,xa))return Ea[xa]();Y.error("Unrecognized Tree layout method: "+xa)},params:["size","nodeSize"],fields:za});Ba.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};Y.inherits(Ba,v.Transform,{transform(xa,Ua){xa=this.value;const Ja=
Ua.source&&Ua.source.root,da=Ua.fork(Ua.NO_SOURCE),wa={};Ja||Y.error("TreeLinks transform requires a tree data source.");Ua.changed(Ua.ADD_REM)?(da.rem=xa,Ua.visit(Ua.SOURCE,La=>wa[v.tupleid(La)]=1),Ja.each(La=>{const Ra=La.data;(La=La.parent&&La.parent.data)&&wa[v.tupleid(Ra)]&&wa[v.tupleid(La)]&&da.add.push(v.ingest({source:La,target:Ra}))}),this.value=da.add):Ua.changed(Ua.MOD)&&(Ua.visit(Ua.MOD,La=>wa[v.tupleid(La)]=1),xa.forEach(La=>{(wa[v.tupleid(La.source)]||wa[v.tupleid(La.target)])&&da.mod.push(La)}));
return da}});const gb={binary:Qa.treemapBinary,dice:Qa.treemapDice,slice:Qa.treemapSlice,slicedice:Qa.treemapSliceDice,squarify:Qa.treemapSquarify,resquarify:Qa.treemapResquarify};za="x0 y0 x1 y1 depth children".split(" ");Ca.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"squarify",values:"squarify resquarify binary dice slice slicedice".split(" ")},{name:"padding",type:"number","default":0},
{name:"paddingInner",type:"number","default":0},{name:"paddingOuter",type:"number","default":0},{name:"paddingTop",type:"number","default":0},{name:"paddingRight",type:"number","default":0},{name:"paddingBottom",type:"number","default":0},{name:"paddingLeft",type:"number","default":0},{name:"ratio",type:"number","default":1.618033988749895},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:za.length,"default":za}]};Y.inherits(Ca,
Ib,{layout(){const xa=Qa.treemap();xa.ratio=Ua=>{const Ja=xa.tile();Ja.ratio&&xa.tile(Ja.ratio(Ua))};xa.method=Ua=>{Y.hasOwnProperty(gb,Ua)?xa.tile(gb[Ua]):Y.error("Unrecognized Treemap layout method: "+Ua)};return xa},params:"method ratio size round padding paddingInner paddingOuter paddingTop paddingRight paddingBottom paddingLeft".split(" "),fields:za});n.nest=db;n.pack=Va;n.partition=nb;n.stratify=mb;n.tree=Pa;n.treelinks=Ba;n.treemap=Ca;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[53]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc,Ob(34),Ob(29),Ob(39),Ob(17)):"function"===typeof define&&define.amd?define(["exports","vega-canvas","vega-dataflow","vega-scenegraph","vega-util"],v):(n="undefined"!==typeof globalThis?globalThis:n||self,v((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.vega,n.vega))})(this,function(n,v,Y,Qa,Qb){function db(Xa,Q){const x=Xa.bitmap();(Q||[]).forEach(F=>x.set(Xa(F.boundary[0]),Xa(F.boundary[3])));
return[x,void 0]}function pb(Xa,Q,x,F){const O=Xa.width,K=Xa.height,ka=x||F,ia=v.canvas(O,K).getContext("2d");Q.forEach(ha=>Ib(ia,ha,ka));Q=new Uint32Array(ia.getImageData(0,0,O,K).data.buffer);x=Xa.bitmap();const ma=ka&&Xa.bitmap();let Ya,Za,S,qa,ta;for(Za=0;Za<K;++Za)for(Ya=0;Ya<O;++Ya)if(ta=Q[Za*O+Ya]&4278190080)S=Xa(Ya),qa=Xa(Za),F||x.set(S,qa),ka&&ta^268435456&&ma.set(S,qa);return[x,ma]}function Ib(Xa,Q,x){if(Q.length){var F=Q[0].mark.marktype;"group"===F?Q.forEach(O=>{O.items.forEach(K=>Ib(Xa,
K.items,x))}):Qa.Marks[F].draw(Xa,{items:x?Q.map(Ab):Q})}}function Ab(Xa){Xa=Y.rederive(Xa,{});Xa.stroke&&(Xa.strokeOpacity=1);Xa.fill&&(Xa.fillOpacity=.0625,Xa.stroke="#000",Xa.strokeOpacity=1,Xa.strokeWidth=2);return Xa}function Va(Xa,Q){const x=new Uint32Array(~~((Xa*Q+32)/32));return{array:x,get:(F,O)=>{F=O*Xa+F;return x[F>>>5]&1<<(F&31)},set:(F,O)=>{F=O*Xa+F;x[F>>>5]|=1<<(F&31)},clear:(F,O)=>{F=O*Xa+F;x[F>>>5]&=~(1<<(F&31))},getRange:(F,O,K,ka)=>{let ia,ma,Ya;for(;ka>=O;--ka){var Za=ka*Xa+F;
ia=ka*Xa+K;ma=Za>>>5;Ya=ia>>>5;if(ma===Ya){if(x[ma]&xa[Za&31]&Ua[(ia&31)+1])return!0}else{if(x[ma]&xa[Za&31]||x[Ya]&Ua[(ia&31)+1])return!0;for(Za=ma+1;Za<Ya;++Za)if(x[Za])return!0}}return!1},setRange:(F,O,K,ka)=>{let ia,ma,Ya;for(;O<=ka;++O){var Za=O*Xa+F;ia=O*Xa+K;ma=Za>>>5;Ya=ia>>>5;if(ma===Ya)x[ma]|=xa[Za&31]&Ua[(ia&31)+1];else for(x[ma]|=xa[Za&31],x[Ya]|=Ua[(ia&31)+1],Za=ma+1;Za<Ya;++Za)x[Za]|=4294967295}},clearRange:(F,O,K,ka)=>{let ia,ma,Ya;for(;O<=ka;++O){var Za=O*Xa+F;ia=O*Xa+K;ma=Za>>>5;
Ya=ia>>>5;if(ma===Ya)x[ma]&=Ua[Za&31]|xa[(ia&31)+1];else for(x[ma]&=Ua[Za&31],x[Ya]&=xa[(ia&31)+1],Za=ma+1;Za<Ya;++Za)x[Za]&=0}},outOfBounds:(F,O,K,ka)=>0>F||0>O||ka>=Q||K>=Xa}}function nb(Xa,Q,x){const F=Math.max(1,Math.sqrt(Xa*Q/1E6)),O=~~((Xa+2*x+F)/F),K=~~((Q+2*x+F)/F),ka=ia=>~~((ia+x)/F);ka.invert=ia=>ia*F-x;ka.bitmap=()=>Va(O,K);ka.ratio=F;ka.padding=x;ka.width=Xa;ka.height=Q;return ka}function mb(Xa,Q,x,F,O,K){x/=2;return 0>Xa-x||Xa+x>O||0>Q-(x=F/2)||Q+x>K}function Pa(Xa,Q,x,F,O,K,ka,ia){O=
O*K/(2*F);F=Xa(Q-O);Q=Xa(Q+O);O=Xa(x-(K/=2));Xa=Xa(x+K);return ka.outOfBounds(F,O,Q,Xa)||ka.getRange(F,O,Q,Xa)||ia&&ia.getRange(F,O,Q,Xa)}function Ba(Xa,Q,x,F){const O=Xa.width,K=Xa.height,ka=Q[0],ia=Q[1],ma=F.length;return function(Ya){const Za=Ya.boundary,S=Ya.datum.fontSize;if(0>Za[2]||0>Za[5]||Za[0]>O||Za[3]>K)return!1;let qa=0,ta,ha;let P,t;let u;let l;let p,A;for(let Hc=0;Hc<ma;++Hc){ta=(x[Hc]&3)-1;ha=(x[Hc]>>>2&3)-1;var B=0===ta&&0===ha||0>F[Hc];var E=ta&&ha?Math.SQRT1_2:1;P=0>F[Hc]?-1:1;t=
Za[1+ta]+F[Hc]*ta*E;l=Za[4+ha]+P*S*ha/2+F[Hc]*ha*E;E=l-S/2;u=l+S/2;var z=Xa(t);p=Xa(E);A=Xa(u);if(!qa){var aa=z;var sa=p;var fa=A;var Na=ka,Da=ia,W=t,na=t,$a=E,sb=u,Db=Za,Xb=B;if(!Na.outOfBounds(aa,sa,z,fa)&&(Xb&&Da?!Da.getRange(aa,sa,z,fa)&&Db[0]<=W&&na<=Db[2]&&Db[3]<=$a&&sb<=Db[5]:!Na.getRange(aa,sa,z,fa)))qa=Qa.textMetrics.width(Ya.datum,Ya.datum.text);else continue}sa=t+P*qa*ta/2;t=sa-qa/2;aa=sa+qa/2;z=Xa(t);fa=Xa(aa);Na=z;Da=fa;W=p;na=A;$a=ka;sb=ia;Db=t;Xb=aa;var vc=E,Vc=u,tc=Za;if(!$a.outOfBounds(Na,
W,Da,na)&&(B&&sb?!sb.getRange(Na,W,Da,na)&&tc[0]<=Db&&Xb<=tc[2]&&tc[3]<=vc&&Vc<=tc[5]:!$a.getRange(Na,W,Da,na)))return Ya.x=ta?0>ta*P?aa:t:sa,Ya.y=ha?0>ha*P?u:E:l,Ya.align=wa[ta*P+1],Ya.baseline=La[ha*P+1],ka.setRange(z,p,fa,A),!0}return!1}}function Ca(Xa,Q,x,F,O,K,ka,ia,ma,Ya,Za){if(!Xa.length)return Xa;var S=Math.max(F.length,O.length);F=Sa(F,S);O=kb(O,S);S=za(Xa[0].datum);const qa="group"===S&&Xa[0].datum.items[ma].marktype,ta="area"===qa,ha=Ea(S,qa,ia,ma);Q=nb(Q[0],Q[1],Ya);Ya=ta&&"naive"===Za;
ia=Xa.map(u=>({datum:u,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:ha(u)}));if(!Ya){x&&ia.sort((u,l)=>x(u.datum,l.datum));var P=!1;for(Ya=0;Ya<O.length&&!P;++Ya)P=5===O[Ya]||0>F[Ya];S&&(ka||ta)&&(K=[Xa.map(u=>u.datum)].concat(K));P=K.length?pb(Q,K,P,ta):db(Q,ka&&ia)}const t=ta?fb[Za](Q,P,ka,ma):Ba(Q,P,O,F);ia.forEach(u=>u.opacity=+t(u));return ia}function Sa(Xa,Q){const x=new Float64Array(Q),F=Xa.length;for(let O=0;O<F;++O)x[O]=Xa[O]||0;for(Xa=F;Xa<Q;++Xa)x[Xa]=x[F-1];return x}
function kb(Xa,Q){const x=new Int8Array(Q),F=Xa.length;for(let O=0;O<F;++O)x[O]|=Ra[Xa[O]];for(Xa=F;Xa<Q;++Xa)x[Xa]=x[F-1];return x}function za(Xa){return Xa&&Xa.mark&&Xa.mark.marktype}function Ea(Xa,Q,x,F){const O=K=>[K.x,K.x,K.x,K.y,K.y,K.y];return Xa?"line"===Xa||"area"===Xa?K=>O(K.datum):"line"===Q?K=>{K=K.datum.items[F].items;return O(K.length?K["start"===x?0:K.length-1]:{x:NaN,y:NaN})}:K=>{K=K.datum.bounds;return[K.x1,(K.x1+K.x2)/2,K.x2,K.y1,(K.y1+K.y2)/2,K.y2]}:O}function gb(Xa){Y.Transform.call(this,
null,Xa)}const xa=new Uint32Array(33),Ua=new Uint32Array(33);Ua[0]=0;xa[0]=~Ua[0];for(let Xa=1;32>=Xa;++Xa)Ua[Xa]=Ua[Xa-1]<<1|1,xa[Xa]=~Ua[Xa];const Ja=[-1,-1,1,1],da=[-1,1,-1,1],wa=["right","center","left"],La=["bottom","middle","top"],Ra={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},fb={naive:function(Xa,Q,x,F){const O=Xa.width,K=Xa.height;return function(ka){const ia=ka.datum.datum.items[F].items,ma=ia.length,Ya=ka.datum.fontSize,Za=Qa.textMetrics.width(ka.datum,
ka.datum.text);let S=0;let qa,ta,ha,P,t;for(let l=0;l<ma;++l){var u=ia[l].x;ta=ia[l].y;qa=void 0===ia[l].x2?u:ia[l].x2;ha=void 0===ia[l].y2?ta:ia[l].y2;P=(u+qa)/2;t=(ta+ha)/2;u=Math.abs(qa-u+ha-ta);u>=S&&(S=u,ka.x=P,ka.y=t)}P=Za/2;t=Ya/2;u=ka.x-P;qa=ka.x+P;ta=ka.y-t;ha=ka.y+t;ka.align="center";0>u&&qa<=O?ka.align="left":0<=u&&O<qa&&(ka.align="right");ka.baseline="middle";0>ta&&ha<=K?ka.baseline="top":0<=ta&&K<ha&&(ka.baseline="bottom");return!0}},"reduced-search":function(Xa,Q,x,F){function O(Ya,
Za,S,qa,ta){Ya=Xa.invert(Ya);Za=Xa.invert(Za);let ha=S,P=ka,t;if(!mb(Ya,Za,qa,ta,K,ka)&&!Pa(Xa,Ya,Za,ta,qa,ha,ia,ma)&&!Pa(Xa,Ya,Za,ta,qa,ta,ia,null)){for(;1<=P-ha;)t=(ha+P)/2,Pa(Xa,Ya,Za,ta,qa,t,ia,ma)?P=t:ha=t;if(ha>S)return[Ya,Za,ha,!0]}}const K=Xa.width,ka=Xa.height,ia=Q[0],ma=Q[1];return function(Ya){const Za=Ya.datum.datum.items[F].items,S=Za.length,qa=Ya.datum.fontSize,ta=Qa.textMetrics.width(Ya.datum,Ya.datum.text);let ha=x?qa:0,P=!1,t=!1,u=0;let l;let p;let A,B,E,z,aa,sa,fa,Na;for(let $a=
0;$a<S;++$a){var Da=Za[$a].x;var W=Za[$a].y;l=void 0===Za[$a].x2?Da:Za[$a].x2;p=void 0===Za[$a].y2?W:Za[$a].y2;if(Da>l){var na=Da;Da=l;l=na}W>p&&(na=W,W=p,p=na);B=Xa(Da);z=Xa(l);E=~~((B+z)/2);aa=Xa(W);fa=Xa(p);sa=~~((aa+fa)/2);for(na=E;na>=B;--na)for(A=sa;A>=aa;--A)(Na=O(na,A,ha,ta,qa))&&([Ya.x,Ya.y,ha,P]=Na);for(na=E;na<=z;++na)for(A=sa;A<=fa;++A)(Na=O(na,A,ha,ta,qa))&&([Ya.x,Ya.y,ha,P]=Na);P||x||(na=Math.abs(l-Da+p-W),Da=(Da+l)/2,W=(W+p)/2,na>=u&&!mb(Da,W,ta,qa,K,ka)&&!Pa(Xa,Da,W,qa,ta,qa,ia,null)&&
(u=na,Ya.x=Da,Ya.y=W,t=!0))}return P||t?(Da=ta/2,W=qa/2,ia.setRange(Xa(Ya.x-Da),Xa(Ya.y-W),Xa(Ya.x+Da),Xa(Ya.y+W)),Ya.align="center",Ya.baseline="middle",!0):!1}},floodfill:function(Xa,Q,x,F){const O=Xa.width,K=Xa.height,ka=Q[0],ia=Q[1],ma=Xa.bitmap();return function(Ya){const Za=Ya.datum.datum.items[F].items,S=Za.length,qa=Ya.datum.fontSize,ta=Qa.textMetrics.width(Ya.datum,Ya.datum.text),ha=[];let P=x?qa:0,t=!1,u=!1,l=0,p,A,B,E,z,aa;var sa;for(let Da=0;Da<S;++Da){p=Za[Da].x;B=Za[Da].y;A=void 0===
Za[Da].x2?p:Za[Da].x2;E=void 0===Za[Da].y2?B:Za[Da].y2;for(ha.push([Xa((p+A)/2),Xa((B+E)/2)]);ha.length;)if([fa,Na]=ha.pop(),!(ka.get(fa,Na)||ia.get(fa,Na)||ma.get(fa,Na))){ma.set(fa,Na);for(sa=0;4>sa;++sa)z=fa+Ja[sa],aa=Na+da[sa],ma.outOfBounds(z,aa,z,aa)||ha.push([z,aa]);z=Xa.invert(fa);aa=Xa.invert(Na);var fa=P;var Na=K;if(!mb(z,aa,ta,qa,O,K)&&!Pa(Xa,z,aa,qa,ta,fa,ka,ia)&&!Pa(Xa,z,aa,qa,ta,qa,ka,null)){for(;1<=Na-fa;)sa=(fa+Na)/2,Pa(Xa,z,aa,qa,ta,sa,ka,ia)?Na=sa:fa=sa;fa>P&&(Ya.x=z,Ya.y=aa,P=fa,
t=!0)}}t||x||(fa=Math.abs(A-p+E-B),z=(p+A)/2,aa=(B+E)/2,fa>=l&&!mb(z,aa,ta,qa,O,K)&&!Pa(Xa,z,aa,qa,ta,qa,ka,null)&&(l=fa,Ya.x=z,Ya.y=aa,u=!0))}return t||u?(z=ta/2,aa=qa/2,ka.setRange(Xa(Ya.x-z),Xa(Ya.y-aa),Xa(Ya.x+z),Xa(Ya.y+aa)),Ya.align="center",Ya.baseline="middle",!0):!1}}},Wa=["x","y","opacity","align","baseline"],jb="top-left left bottom-left top bottom top-right right bottom-right".split(" ");gb.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,
required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:jb},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:Wa.length,default:Wa}]};Qb.inherits(gb,
Y.Transform,{transform(Xa,Q){function x(K){K=Xa[K];return Qb.isFunction(K)&&Q.modified(K.fields)}const F=Xa.modified();if(F||Q.changed(Q.ADD_REM)||x("sort")){Xa.size&&2===Xa.size.length||Qb.error("Size parameter should be specified as a [width, height] array.");var O=Xa.as||Wa;Ca(Q.materialize(Q.SOURCE).source,Xa.size,Xa.sort,Qb.array(Xa.offset||1),Qb.array(Xa.anchor||jb),Xa.avoidMarks||[],!1===Xa.avoidBaseMark?!1:!0,Xa.lineAnchor||"end",Xa.markIndex||0,Xa.padding||0,Xa.method||"naive").forEach(K=>
{const ka=K.datum;ka[O[0]]=K.x;ka[O[1]]=K.y;ka[O[2]]=K.opacity;ka[O[3]]=K.align;ka[O[4]]=K.baseline});return Q.reflow(F).modifies(O)}}});n.label=gb;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[54]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc,Ob(30),Ob(29),Ob(17)):"function"===typeof define&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],v):(n="undefined"!==typeof globalThis?globalThis:n||self,v(n.vega={},n.vega,n.vega,n.vega))})(this,function(n,v,Y,Qa){function Qb(Ab,Va){var nb=[],mb=function(Ea){return Ea(Sa)},Pa;if(null==Va)nb.push(Ab);else{var Ba={};var Ca=0;for(Pa=Ab.length;Ca<Pa;++Ca){var Sa=Ab[Ca];
var kb=Va.map(mb);var za=Ba[kb];za||(Ba[kb]=za=[],za.dims=kb,nb.push(za));za.push(Sa)}}return nb}function db(Ab){Y.Transform.call(this,null,Ab)}function pb(Ab){Y.Transform.call(this,null,Ab)}db.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number","default":.3},{name:"as",type:"string",array:!0}]};Qa.inherits(db,Y.Transform,{transform(Ab,Va){const nb=Va.fork(Va.NO_SOURCE|
Va.NO_FIELDS);if(!this.value||Va.changed()||Ab.modified()){Va=Va.materialize(Va.SOURCE).source;Va=Qb(Va,Ab.groupby);const mb=(Ab.groupby||[]).map(Qa.accessorName),Pa=mb.length,Ba=Ab.as||[Qa.accessorName(Ab.x),Qa.accessorName(Ab.y)],Ca=[];Va.forEach(Sa=>{v.regressionLoess(Sa,Ab.x,Ab.y,Ab.bandwidth||.3).forEach(kb=>{const za={};for(let Ea=0;Ea<Pa;++Ea)za[mb[Ea]]=Sa.dims[Ea];za[Ba[0]]=kb[0];za[Ba[1]]=kb[1];Ca.push(Y.ingest(za))})});this.value&&(nb.rem=this.value);this.value=nb.add=nb.source=Ca}return nb}});
const Ib={linear:v.regressionLinear,log:v.regressionLog,exp:v.regressionExp,pow:v.regressionPow,quad:v.regressionQuad,poly:v.regressionPoly};pb.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string","default":"linear",values:Object.keys(Ib)},{name:"order",type:"number","default":3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",
"default":!1},{name:"as",type:"string",array:!0}]};Qa.inherits(pb,Y.Transform,{transform(Ab,Va){const nb=Va.fork(Va.NO_SOURCE|Va.NO_FIELDS);if(!this.value||Va.changed()||Ab.modified()){var mb=Va.materialize(Va.SOURCE).source;mb=Qb(mb,Ab.groupby);const Pa=(Ab.groupby||[]).map(Qa.accessorName),Ba=Ab.method||"linear",Ca=Ab.order||3,Sa="poly"===Ba?Ca:"quad"===Ba?2:1,kb=Ab.as||[Qa.accessorName(Ab.x),Qa.accessorName(Ab.y)],za=Ib[Ba],Ea=[];let gb=Ab.extent;Qa.hasOwnProperty(Ib,Ba)||Qa.error("Invalid regression method: "+
Ba);null!=gb&&"log"===Ba&&0>=gb[0]&&(Va.dataflow.warn("Ignoring extent with values \x3c\x3d 0 for log regression."),gb=null);mb.forEach(xa=>{if(xa.length<=Sa)Va.dataflow.warn("Skipping regression with more parameters than data points.");else{var Ua=za(xa,Ab.x,Ab.y,Ca);if(Ab.params)Ea.push(Y.ingest({keys:xa.dims,coef:Ua.coef,rSquared:Ua.rSquared}));else{var Ja=gb||Qa.extent(xa,Ab.x),da=wa=>{const La={};for(let Ra=0;Ra<Pa.length;++Ra)La[Pa[Ra]]=xa.dims[Ra];La[kb[0]]=wa[0];La[kb[1]]=wa[1];Ea.push(Y.ingest(La))};
"linear"===Ba?Ja.forEach(wa=>da([wa,Ua.predict(wa)])):v.sampleCurve(Ua.predict,Ja,25,200).forEach(da)}}});this.value&&(nb.rem=this.value);this.value=nb.add=nb.source=Ea}return nb}});n.loess=db;n.regression=pb;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[55]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc):"function"===typeof define&&define.amd?define(["exports"],v):(n=n||self,v(n.d3=n.d3||{}))})(this,function(n){function v(da,wa){da/=Math.abs(da)+Math.abs(wa);return(0<wa?3-da:1+da)/4}function Y(da,wa,La,Ra){da-=La;wa-=Ra;return da*da+wa*wa}function Qa(da,wa,La,Ra,fb,Wa){Ra=(Ra-wa)*(fb-da);da=(La-da)*(Wa-wa);return Math.abs(Ra-da)>=3.3306690738754716E-16*Math.abs(Ra+da)?Ra-da:0}function Qb(da,
wa,La,Ra,fb,Wa){return 0>(Qa(fb,Wa,da,wa,La,Ra)||Qa(da,wa,La,Ra,fb,Wa)||Qa(La,Ra,fb,Wa,da,wa))}function db(da,wa,La,Ra){if(20>=Ra-La)for(var fb=La+1;fb<=Ra;fb++){for(var Wa=da[fb],jb=wa[Wa],Xa=fb-1;Xa>=La&&wa[da[Xa]]>jb;)da[Xa+1]=da[Xa--];da[Xa+1]=Wa}else{fb=La+1;Wa=Ra;pb(da,La+Ra>>1,fb);wa[da[La]]>wa[da[Ra]]&&pb(da,La,Ra);wa[da[fb]]>wa[da[Ra]]&&pb(da,fb,Ra);wa[da[La]]>wa[da[fb]]&&pb(da,La,fb);jb=da[fb];for(Xa=wa[jb];;){do fb++;while(wa[da[fb]]<Xa);do Wa--;while(wa[da[Wa]]>Xa);if(Wa<fb)break;pb(da,
fb,Wa)}da[La+1]=da[Wa];da[Wa]=jb;Ra-fb+1>=Wa-La?(db(da,wa,fb,Ra),db(da,wa,La,Wa-1)):(db(da,wa,La,Wa-1),db(da,wa,fb,Ra))}}function pb(da,wa,La){const Ra=da[wa];da[wa]=da[La];da[La]=Ra}function Ib(da){return da[0]}function Ab(da){return da[1]}function Va(da){return da[0]}function nb(da){return da[1]}function mb(da){const {triangles:wa,coords:La}=da;for(da=0;da<wa.length;da+=3){const Ra=2*wa[da],fb=2*wa[da+1],Wa=2*wa[da+2];if(1E-10<(La[Wa]-La[Ra])*(La[fb+1]-La[Ra+1])-(La[fb]-La[Ra])*(La[Wa+1]-La[Ra+
1]))return!1}return!0}function Pa(da,wa,La){return[da+Math.sin(da+wa)*La,wa+Math.cos(da-wa)*La]}function*Ba(da,wa,La,Ra){let fb=0;for(const Wa of da)yield wa.call(Ra,Wa,fb,da),yield La.call(Ra,Wa,fb,da),++fb}const Ca=Math.pow(2,-52),Sa=new Uint32Array(512);class kb{static from(da,wa=Ib,La=Ab){const Ra=da.length,fb=new Float64Array(2*Ra);for(let Wa=0;Wa<Ra;Wa++){const jb=da[Wa];fb[2*Wa]=wa(jb);fb[2*Wa+1]=La(jb)}return new kb(fb)}constructor(da){const wa=da.length>>1;if(0<wa&&"number"!==typeof da[0])throw Error("Expected coords to contain numbers.");
this.coords=da;da=Math.max(2*wa-5,0);this._triangles=new Uint32Array(3*da);this._halfedges=new Int32Array(3*da);this._hashSize=Math.ceil(Math.sqrt(wa));this._hullPrev=new Uint32Array(wa);this._hullNext=new Uint32Array(wa);this._hullTri=new Uint32Array(wa);this._hullHash=(new Int32Array(this._hashSize)).fill(-1);this._ids=new Uint32Array(wa);this._dists=new Float64Array(wa);this.update()}update(){const {coords:da,_hullPrev:wa,_hullNext:La,_hullTri:Ra,_hullHash:fb}=this;var Wa=da.length>>1,jb=Infinity,
Xa=Infinity,Q=-Infinity,x=-Infinity;for(var F=0;F<Wa;F++){var O=da[2*F];var K=da[2*F+1];O<jb&&(jb=O);K<Xa&&(Xa=K);O>Q&&(Q=O);K>x&&(x=K);this._ids[F]=F}Q=(jb+Q)/2;Xa=(Xa+x)/2;jb=Infinity;for(x=0;x<Wa;x++)if(F=Y(Q,Xa,da[2*x],da[2*x+1]),F<jb){var ka=x;jb=F}Xa=da[2*ka];x=da[2*ka+1];jb=Infinity;for(Q=0;Q<Wa;Q++)if(Q!==ka&&(F=Y(Xa,x,da[2*Q],da[2*Q+1]),F<jb&&0<F)){var ia=Q;jb=F}jb=da[2*ia];Q=da[2*ia+1];K=Infinity;for(F=0;F<Wa;F++)if(F!==ka&&F!==ia){O=jb-Xa;var ma=Q-x;var Ya=da[2*F]-Xa;var Za=da[2*F+1]-x,
S=O*O+ma*ma,qa=Ya*Ya+Za*Za,ta=.5/(O*Za-ma*Ya);ma=(Za*S-ma*qa)*ta;O=(O*qa-Ya*S)*ta;O=ma*ma+O*O;if(O<K){var ha=F;K=O}}F=da[2*ha];O=da[2*ha+1];if(Infinity===K){for(ka=0;ka<Wa;ka++)this._dists[ka]=da[2*ka]-da[0]||da[2*ka+1]-da[1];db(this._ids,this._dists,0,Wa-1);ka=new Uint32Array(Wa);ia=0;for(let P=0,t=-Infinity;P<Wa;P++)ha=this._ids[P],this._dists[ha]>t&&(ka[ia++]=ha,t=this._dists[ha]);this.hull=ka.subarray(0,ia);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0)}else{Qb(Xa,x,jb,Q,
F,O)&&(K=ia,Ya=jb,S=Q,ia=ha,jb=F,Q=O,ha=K,F=Ya,O=S);Ya=jb-Xa;K=Q-x;S=F-Xa;Za=O-x;qa=Ya*Ya+K*K;ta=S*S+Za*Za;ma=.5/(Ya*Za-K*S);K=Xa+(Za*qa-K*ta)*ma;Ya=x+(Ya*ta-S*qa)*ma;this._cx=K;this._cy=Ya;for(S=0;S<Wa;S++)this._dists[S]=Y(da[2*S],da[2*S+1],K,Ya);db(this._ids,this._dists,0,Wa-1);this._hullStart=ka;Wa=3;La[ka]=wa[ha]=ia;La[ia]=wa[ka]=ha;La[ha]=wa[ia]=ka;Ra[ka]=0;Ra[ia]=1;Ra[ha]=2;fb.fill(-1);fb[this._hashKey(Xa,x)]=ka;fb[this._hashKey(jb,Q)]=ia;fb[this._hashKey(F,O)]=ha;this.trianglesLen=0;this._addTriangle(ka,
ia,ha,-1,-1,-1);for(let P=0,t,u;P<this._ids.length;P++){Xa=this._ids[P];x=da[2*Xa];jb=da[2*Xa+1];if(0<P&&Math.abs(x-t)<=Ca&&Math.abs(jb-u)<=Ca)continue;t=x;u=jb;if(Xa===ka||Xa===ia||Xa===ha)continue;Q=0;for(let p=0,A=this._hashKey(x,jb);p<this._hashSize&&(Q=fb[(A+p)%this._hashSize],-1===Q||Q===La[Q]);p++);F=Q=wa[Q];let l;for(;l=La[F],!Qb(x,jb,da[2*F],da[2*F+1],da[2*l],da[2*l+1]);)if(F=l,F===Q){F=-1;break}if(-1!==F){O=this._addTriangle(F,Xa,La[F],-1,-1,Ra[F]);Ra[Xa]=this._legalize(O+2);Ra[F]=O;Wa++;
for(K=La[F];l=La[K],Qb(x,jb,da[2*K],da[2*K+1],da[2*l],da[2*l+1]);)O=this._addTriangle(K,Xa,l,Ra[Xa],-1,Ra[K]),Ra[Xa]=this._legalize(O+2),La[K]=K,Wa--,K=l;if(F===Q)for(;l=wa[F],Qb(x,jb,da[2*l],da[2*l+1],da[2*F],da[2*F+1]);)O=this._addTriangle(l,Xa,F,-1,Ra[F],Ra[l]),this._legalize(O+2),Ra[l]=O,La[F]=F,Wa--,F=l;this._hullStart=wa[Xa]=F;La[F]=wa[K]=Xa;La[Xa]=K;fb[this._hashKey(x,jb)]=Xa;fb[this._hashKey(da[2*F],da[2*F+1])]=F}}this.hull=new Uint32Array(Wa);for(let P=0,t=this._hullStart;P<Wa;P++)this.hull[P]=
t,t=La[t];this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}}_hashKey(da,wa){return Math.floor(v(da-this._cx,wa-this._cy)*this._hashSize)%this._hashSize}_legalize(da){const {_triangles:wa,_halfedges:La,coords:Ra}=this;let fb=0;for(var Wa;;){const ka=La[da];var jb=da-da%3;Wa=jb+(da+2)%3;if(-1===ka){if(0===fb)break;da=Sa[--fb];continue}const ia=ka-ka%3,ma=ia+(ka+2)%3;var Xa=wa[Wa],Q=wa[da],x=wa[jb+(da+1)%3];jb=wa[ma];{var F=Ra[2*
jb],O=Ra[2*jb+1];var K=Ra[2*Xa]-F;const Ya=Ra[2*Xa+1]-O,Za=Ra[2*Q]-F;Q=Ra[2*Q+1]-O;F=Ra[2*x]-F;O=Ra[2*x+1]-O;x=Za*Za+Q*Q;const S=F*F+O*O;K=0>K*(Q*S-x*O)-Ya*(Za*S-x*F)+(K*K+Ya*Ya)*(Za*O-Q*F)}if(K){wa[da]=jb;wa[ka]=Xa;Xa=La[ma];if(-1===Xa){jb=this._hullStart;do{if(this._hullTri[jb]===ma){this._hullTri[jb]=da;break}jb=this._hullPrev[jb]}while(jb!==this._hullStart)}this._link(da,Xa);this._link(ka,La[Wa]);this._link(Wa,ma);Wa=ia+(ka+1)%3;fb<Sa.length&&(Sa[fb++]=Wa)}else{if(0===fb)break;da=Sa[--fb]}}return Wa}_link(da,
wa){this._halfedges[da]=wa;-1!==wa&&(this._halfedges[wa]=da)}_addTriangle(da,wa,La,Ra,fb,Wa){const jb=this.trianglesLen;this._triangles[jb]=da;this._triangles[jb+1]=wa;this._triangles[jb+2]=La;this._link(jb,Ra);this._link(jb+1,fb);this._link(jb+2,Wa);this.trianglesLen+=3;return jb}}class za{constructor(){this._x0=this._y0=this._x1=this._y1=null;this._=""}moveTo(da,wa){this._+=`M${this._x0=this._x1=+da},${this._y0=this._y1=+wa}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+=
"Z")}lineTo(da,wa){this._+=`L${this._x1=+da},${this._y1=+wa}`}arc(da,wa,La){da=+da;wa=+wa;La=+La;const Ra=da+La,fb=wa;if(0>La)throw Error("negative radius");if(null===this._x1)this._+=`M${Ra},${fb}`;else if(1E-6<Math.abs(this._x1-Ra)||1E-6<Math.abs(this._y1-fb))this._+="L"+Ra+","+fb;La&&(this._+=`A${La},${La},0,1,1,${da-La},${wa}A${La},${La},0,1,1,${this._x1=Ra},${this._y1=fb}`)}rect(da,wa,La,Ra){this._+=`M${this._x0=this._x1=+da},${this._y0=this._y1=+wa}h${+La}v${+Ra}h${-La}Z`}value(){return this._||
null}}class Ea{constructor(){this._=[]}moveTo(da,wa){this._.push([da,wa])}closePath(){this._.push(this._[0].slice())}lineTo(da,wa){this._.push([da,wa])}value(){return this._.length?this._:null}}class gb{constructor(da,[wa,La,Ra,fb]=[0,0,960,500]){if(!((Ra=+Ra)>=(wa=+wa)&&(fb=+fb)>=(La=+La)))throw Error("invalid bounds");this.delaunay=da;this._circumcenters=new Float64Array(2*da.points.length);this.vectors=new Float64Array(2*da.points.length);this.xmax=Ra;this.xmin=wa;this.ymax=fb;this.ymin=La;this._init()}update(){this.delaunay.update();
this._init();return this}_init(){const {delaunay:{points:da,hull:wa,triangles:La},vectors:Ra}=this;var fb=this.circumcenters=this._circumcenters.subarray(0,La.length/3*2);for(let K=0,ka=0,ia=La.length,ma,Ya;K<ia;K+=3,ka+=2){var Wa=2*La[K],jb=2*La[K+1],Xa=2*La[K+2],Q=da[Wa];Wa=da[Wa+1];var x=da[Xa],F=da[Xa+1];Xa=da[jb]-Q;jb=da[jb+1]-Wa;var O=x-Q;const Za=F-Wa,S=Xa*Xa+jb*jb,qa=O*O+Za*Za,ta=2*(Xa*Za-jb*O);ta?1E-8>Math.abs(ta)?(ma=(Q+x)/2,Ya=(Wa+F)/2):(x=1/ta,ma=Q+(Za*S-jb*qa)*x,Ya=Wa+(Xa*qa-O*S)*x):
(ma=(Q+x)/2-1E8*Za,Ya=(Wa+F)/2+1E8*O);fb[ka]=ma;fb[ka+1]=Ya}fb=wa[wa.length-1];Wa=4*fb;Xa=da[2*fb];jb=da[2*fb+1];Ra.fill(0);for(O=0;O<wa.length;++O)fb=wa[O],Q=Wa,x=Xa,F=jb,Wa=4*fb,Xa=da[2*fb],jb=da[2*fb+1],Ra[Q+2]=Ra[Wa]=F-jb,Ra[Q+3]=Ra[Wa+1]=Xa-x}render(da){const wa=null==da?da=new za:void 0,{delaunay:{halfedges:La,inedges:Ra,hull:fb},circumcenters:Wa,vectors:jb}=this;if(1>=fb.length)return null;for(let O=0,K=La.length;O<K;++O){var Xa=La[O];if(!(Xa<O)){var Q=2*Math.floor(O/3);Xa=2*Math.floor(Xa/
3);this._renderSegment(Wa[Q],Wa[Q+1],Wa[Xa],Wa[Xa+1],da)}}Q=fb[fb.length-1];for(Xa=0;Xa<fb.length;++Xa){var x=Q;Q=fb[Xa];var F=2*Math.floor(Ra[Q]/3);const O=Wa[F];F=Wa[F+1];x*=4;(x=this._project(O,F,jb[x+2],jb[x+3]))&&this._renderSegment(O,F,x[0],x[1],da)}return wa&&wa.value()}renderBounds(da){const wa=null==da?da=new za:void 0;da.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin);return wa&&wa.value()}renderCell(da,wa){const La=null==wa?wa=new za:void 0;da=this._clip(da);if(null!==
da&&da.length){wa.moveTo(da[0],da[1]);for(var Ra=da.length;da[0]===da[Ra-2]&&da[1]===da[Ra-1]&&1<Ra;)Ra-=2;for(let fb=2;fb<Ra;fb+=2)da[fb]===da[fb-2]&&da[fb+1]===da[fb-1]||wa.lineTo(da[fb],da[fb+1]);wa.closePath();return La&&La.value()}}*cellPolygons(){var {delaunay:{points:da}}=this;for(let wa=0,La=da.length/2;wa<La;++wa)if(da=this.cellPolygon(wa))da.index=wa,yield da}cellPolygon(da){const wa=new Ea;this.renderCell(da,wa);return wa.value()}_renderSegment(da,wa,La,Ra,fb){const Wa=this._regioncode(da,
wa),jb=this._regioncode(La,Ra);if(0===Wa&&0===jb)fb.moveTo(da,wa),fb.lineTo(La,Ra);else if(da=this._clipSegment(da,wa,La,Ra,Wa,jb))fb.moveTo(da[0],da[1]),fb.lineTo(da[2],da[3])}contains(da,wa,La){return(wa=+wa,wa!==wa)||(La=+La,La!==La)?!1:this.delaunay._step(da,wa,La)===da}*neighbors(da){const wa=this._clip(da);if(wa)for(const La of this.delaunay.neighbors(da))if(da=this._clip(La))a:for(let Ra=0,fb=wa.length;Ra<fb;Ra+=2)for(let Wa=0,jb=da.length;Wa<jb;Wa+=2)if(wa[Ra]==da[Wa]&&wa[Ra+1]==da[Wa+1]&&
wa[(Ra+2)%fb]==da[(Wa+jb-2)%jb]&&wa[(Ra+3)%fb]==da[(Wa+jb-1)%jb]){yield La;break a}}_cell(da){const {circumcenters:wa,delaunay:{inedges:La,halfedges:Ra,triangles:fb}}=this,Wa=La[da];if(-1===Wa)return null;const jb=[];let Xa=Wa;do{const Q=Math.floor(Xa/3);jb.push(wa[2*Q],wa[2*Q+1]);Xa=2===Xa%3?Xa-2:Xa+1;if(fb[Xa]!==da)break;Xa=Ra[Xa]}while(Xa!==Wa&&-1!==Xa);return jb}_clip(da){if(0===da&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];
const wa=this._cell(da);if(null===wa)return null;const {vectors:La}=this,Ra=4*da;return La[Ra]||La[Ra+1]?this._clipInfinite(da,wa,La[Ra],La[Ra+1],La[Ra+2],La[Ra+3]):this._clipFinite(da,wa)}_clipFinite(da,wa){const La=wa.length;let Ra=null;let fb=wa[La-2],Wa=wa[La-1];let jb=this._regioncode(fb,Wa),Xa;for(let O=0;O<La;O+=2){var Q=fb;var x=Wa;fb=wa[O];Wa=wa[O+1];var F=jb;jb=this._regioncode(fb,Wa);if(0===F&&0===jb)Xa=0,Ra?Ra.push(fb,Wa):Ra=[fb,Wa];else{let K,ka;if(0===F){if(null===(Q=this._clipSegment(Q,
x,fb,Wa,F,jb)))continue;[x,F,K,ka]=Q}else{if(null===(Q=this._clipSegment(fb,Wa,Q,x,jb,F)))continue;[K,ka,x,F]=Q;Q=Xa;Xa=this._edgecode(x,F);Q&&Xa&&this._edge(da,Q,Xa,Ra,Ra.length);Ra?Ra.push(x,F):Ra=[x,F]}Q=Xa;Xa=this._edgecode(K,ka);Q&&Xa&&this._edge(da,Q,Xa,Ra,Ra.length);Ra?Ra.push(K,ka):Ra=[K,ka]}}if(Ra)Q=Xa,Xa=this._edgecode(Ra[0],Ra[1]),Q&&Xa&&this._edge(da,Q,Xa,Ra,Ra.length);else if(this.contains(da,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,
this.xmin,this.ymax,this.xmin,this.ymin];return Ra}_clipSegment(da,wa,La,Ra,fb,Wa){for(;;){if(0===fb&&0===Wa)return[da,wa,La,Ra];if(fb&Wa)return null;var jb=void 0;let Xa;jb=fb||Wa;jb&8?(jb=da+(La-da)*(this.ymax-wa)/(Ra-wa),Xa=this.ymax):jb&4?(jb=da+(La-da)*(this.ymin-wa)/(Ra-wa),Xa=this.ymin):jb&2?(Xa=wa+(Ra-wa)*(this.xmax-da)/(La-da),jb=this.xmax):(Xa=wa+(Ra-wa)*(this.xmin-da)/(La-da),jb=this.xmin);fb?(da=jb,wa=Xa,fb=this._regioncode(da,wa)):(La=jb,Ra=Xa,Wa=this._regioncode(La,Ra))}}_clipInfinite(da,
wa,La,Ra,fb,Wa){wa=Array.from(wa);let jb;(jb=this._project(wa[0],wa[1],La,Ra))&&wa.unshift(jb[0],jb[1]);(jb=this._project(wa[wa.length-2],wa[wa.length-1],fb,Wa))&&wa.push(jb[0],jb[1]);if(wa=this._clipFinite(da,wa))for(let Xa=0,Q=wa.length,x,F=this._edgecode(wa[Q-2],wa[Q-1]);Xa<Q;Xa+=2)x=F,F=this._edgecode(wa[Xa],wa[Xa+1]),x&&F&&(Xa=this._edge(da,x,F,wa,Xa),Q=wa.length);else this.contains(da,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(wa=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,
this.xmin,this.ymax]);return wa}_edge(da,wa,La,Ra,fb){for(;wa!==La;){let Wa,jb;switch(wa){case 5:wa=4;continue;case 4:wa=6;Wa=this.xmax;jb=this.ymin;break;case 6:wa=2;continue;case 2:wa=10;Wa=this.xmax;jb=this.ymax;break;case 10:wa=8;continue;case 8:wa=9;Wa=this.xmin;jb=this.ymax;break;case 9:wa=1;continue;case 1:wa=5,Wa=this.xmin,jb=this.ymin}Ra[fb]===Wa&&Ra[fb+1]===jb||!this.contains(da,Wa,jb)||(Ra.splice(fb,0,Wa,jb),fb+=2)}if(4<Ra.length)for(da=0;da<Ra.length;da+=2)if(wa=(da+2)%Ra.length,La=(da+
4)%Ra.length,Ra[da]===Ra[wa]&&Ra[wa]===Ra[La]||Ra[da+1]===Ra[wa+1]&&Ra[wa+1]===Ra[La+1])Ra.splice(wa,2),da-=2;return fb}_project(da,wa,La,Ra){let fb=Infinity,Wa,jb,Xa;if(0>Ra){if(wa<=this.ymin)return null;(Wa=(this.ymin-wa)/Ra)<fb&&(Xa=this.ymin,jb=da+(fb=Wa)*La)}else if(0<Ra){if(wa>=this.ymax)return null;(Wa=(this.ymax-wa)/Ra)<fb&&(Xa=this.ymax,jb=da+(fb=Wa)*La)}if(0<La){if(da>=this.xmax)return null;(Wa=(this.xmax-da)/La)<fb&&(jb=this.xmax,Xa=wa+Wa*Ra)}else if(0>La){if(da<=this.xmin)return null;
(Wa=(this.xmin-da)/La)<fb&&(jb=this.xmin,Xa=wa+Wa*Ra)}return[jb,Xa]}_edgecode(da,wa){return(da===this.xmin?1:da===this.xmax?2:0)|(wa===this.ymin?4:wa===this.ymax?8:0)}_regioncode(da,wa){return(da<this.xmin?1:da>this.xmax?2:0)|(wa<this.ymin?4:wa>this.ymax?8:0)}}const xa=2*Math.PI,Ua=Math.pow;class Ja{static from(da,wa=Va,La=nb,Ra){if("length"in da){{const fb=da.length,Wa=new Float64Array(2*fb);for(let jb=0;jb<fb;++jb){const Xa=da[jb];Wa[2*jb]=wa.call(Ra,Xa,jb,da);Wa[2*jb+1]=La.call(Ra,Xa,jb,da)}da=
Wa}}else da=Float64Array.from(Ba(da,wa,La,Ra));return new Ja(da)}constructor(da){this._delaunator=new kb(da);this.inedges=new Int32Array(da.length/2);this._hullIndex=new Int32Array(da.length/2);this.points=this._delaunator.coords;this._init()}update(){this._delaunator.update();this._init();return this}_init(){var da=this._delaunator;const wa=this.points;if(da.hull&&2<da.hull.length&&mb(da)){this.collinear=Int32Array.from({length:wa.length/2},(jb,Xa)=>Xa).sort((jb,Xa)=>wa[2*jb]-wa[2*Xa]||wa[2*jb+1]-
wa[2*Xa+1]);da=this.collinear[0];var La=this.collinear[this.collinear.length-1];da=[wa[2*da],wa[2*da+1],wa[2*La],wa[2*La+1]];da=1E-8*Math.hypot(da[3]-da[1],da[2]-da[0]);for(let jb=0,Xa=wa.length/2;jb<Xa;++jb)La=Pa(wa[2*jb],wa[2*jb+1],da),wa[2*jb]=La[0],wa[2*jb+1]=La[1];this._delaunator=new kb(wa)}else delete this.collinear;da=this.halfedges=this._delaunator.halfedges;La=this.hull=this._delaunator.hull;const Ra=this.triangles=this._delaunator.triangles,fb=this.inedges.fill(-1),Wa=this._hullIndex.fill(-1);
for(let jb=0,Xa=da.length;jb<Xa;++jb){const Q=Ra[2===jb%3?jb-2:jb+1];if(-1===da[jb]||-1===fb[Q])fb[Q]=jb}for(let jb=0,Xa=La.length;jb<Xa;++jb)Wa[La[jb]]=jb;2>=La.length&&0<La.length&&(this.triangles=(new Int32Array(3)).fill(-1),this.halfedges=(new Int32Array(3)).fill(-1),this.triangles[0]=La[0],this.triangles[1]=La[1],this.triangles[2]=La[1],fb[La[0]]=1,2===La.length&&(fb[La[1]]=0))}voronoi(da){return new gb(this,da)}*neighbors(da){const {inedges:wa,hull:La,_hullIndex:Ra,halfedges:fb,triangles:Wa,
collinear:jb}=this;if(jb){var Xa=jb.indexOf(da);0<Xa&&(yield jb[Xa-1]);Xa<jb.length-1&&(yield jb[Xa+1])}else{var Q=wa[da];if(-1!==Q){var x=Q;do{yield(Xa=Wa[x]);x=2===x%3?x-2:x+1;if(Wa[x]!==da)break;x=fb[x];if(-1===x){da=La[(Ra[da]+1)%La.length];da!==Xa&&(yield da);break}}while(x!==Q)}}}find(da,wa,La=0){if((da=+da,da!==da)||(wa=+wa,wa!==wa))return-1;const Ra=La;let fb;for(;0<=(fb=this._step(La,da,wa))&&fb!==La&&fb!==Ra;)La=fb;return fb}_step(da,wa,La){const {inedges:Ra,hull:fb,_hullIndex:Wa,halfedges:jb,
triangles:Xa,points:Q}=this;if(-1===Ra[da]||!Q.length)return(da+1)%(Q.length>>1);let x=da,F=Ua(wa-Q[2*da],2)+Ua(La-Q[2*da+1],2);const O=Ra[da];let K=O;do{let ka=Xa[K];const ia=Ua(wa-Q[2*ka],2)+Ua(La-Q[2*ka+1],2);ia<F&&(F=ia,x=ka);K=2===K%3?K-2:K+1;if(Xa[K]!==da)break;K=jb[K];if(-1===K){K=fb[(Wa[da]+1)%fb.length];if(K!==ka&&Ua(wa-Q[2*K],2)+Ua(La-Q[2*K+1],2)<F)return K;break}}while(K!==O);return x}render(da){const wa=null==da?da=new za:void 0,{points:La,halfedges:Ra,triangles:fb}=this;for(let jb=0,
Xa=Ra.length;jb<Xa;++jb){var Wa=Ra[jb];if(Wa<jb)continue;const Q=2*fb[jb];Wa=2*fb[Wa];da.moveTo(La[Q],La[Q+1]);da.lineTo(La[Wa],La[Wa+1])}this.renderHull(da);return wa&&wa.value()}renderPoints(da,wa=2){const La=null==da?da=new za:void 0,{points:Ra}=this;for(let fb=0,Wa=Ra.length;fb<Wa;fb+=2){const jb=Ra[fb],Xa=Ra[fb+1];da.moveTo(jb+wa,Xa);da.arc(jb,Xa,wa,0,xa)}return La&&La.value()}renderHull(da){const wa=null==da?da=new za:void 0,{hull:La,points:Ra}=this;var fb=2*La[0];const Wa=La.length;da.moveTo(Ra[fb],
Ra[fb+1]);for(fb=1;fb<Wa;++fb){const jb=2*La[fb];da.lineTo(Ra[jb],Ra[jb+1])}da.closePath();return wa&&wa.value()}hullPolygon(){const da=new Ea;this.renderHull(da);return da.value()}renderTriangle(da,wa){const La=null==wa?wa=new za:void 0,{points:Ra,triangles:fb}=this,Wa=2*fb[da*=3],jb=2*fb[da+1];da=2*fb[da+2];wa.moveTo(Ra[Wa],Ra[Wa+1]);wa.lineTo(Ra[jb],Ra[jb+1]);wa.lineTo(Ra[da],Ra[da+1]);wa.closePath();return La&&La.value()}*trianglePolygons(){const {triangles:da}=this;for(let wa=0,La=da.length/
3;wa<La;++wa)yield this.trianglePolygon(wa)}trianglePolygon(da){const wa=new Ea;this.renderTriangle(da,wa);return wa.value()}}n.Delaunay=Ja;n.Voronoi=gb;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[56]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc,Ob(29),Ob(17),Ob(55)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-delaunay"],v):(n="undefined"!==typeof globalThis?globalThis:n||self,v((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.d3))})(this,function(n,v,Y,Qa){function Qb(pb){v.Transform.call(this,null,pb)}Qb.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",
required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,"default":[[-1E5,-1E5],[1E5,1E5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string","default":"path"}]};const db=[-1E5,-1E5,1E5,1E5];Y.inherits(Qb,v.Transform,{transform(pb,Ib){const Ab=pb.as||"path",Va=Ib.source;if(!Va||!Va.length)return Ib;var nb=pb.size;nb=nb?[0,0,nb[0],nb[1]]:(nb=pb.extent)?[nb[0][0],nb[0][1],nb[1][0],nb[1][1]]:db;nb=this.value=
Qa.Delaunay.from(Va,pb.x,pb.y).voronoi(nb);for(let Ba=0,Ca=Va.length;Ba<Ca;++Ba){var mb=nb.cellPolygon(Ba),Pa=Va[Ba];if(mb){{const Sa=mb[0][0],kb=mb[0][1];let za=mb.length-1;for(;mb[za][0]===Sa&&mb[za][1]===kb;--za);mb="M"+mb.slice(0,za+1).join("L")+"Z"}}else mb=null;Pa[Ab]=mb}return Ib.reflow(pb.modified()).modifies(Ab)}});n.voronoi=Qb;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[57]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc,Ob(34),Ob(29),Ob(17),Ob(38),Ob(30)):"function"===typeof define&&define.amd?define("exports vega-canvas vega-dataflow vega-util vega-scale vega-statistics".split(" "),v):(n="undefined"!==typeof globalThis?globalThis:n||self,v((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.vega,n.vega,n.vega))})(this,function(n,v,Y,Qa,Qb,db){function pb(){function za(Q){Q.width=Q.height=1;var x=Math.sqrt(Q.getContext("2d").getImageData(0,
0,1,1).data.length>>2);Q.width=2048/x;Q.height=2048/x;Q=Q.getContext("2d");Q.fillStyle=Q.strokeStyle="red";Q.textAlign="center";return{context:Q,ratio:x}}function Ea(Q,x,F){for(var O=x.x,K=x.y,ka=Math.sqrt(gb[0]*gb[0]+gb[1]*gb[1]),ia=fb(gb),ma=.5>jb()?1:-1,Ya=-ma,Za,S;Za=ia(Ya+=ma);){S=~~Za[0];Za=~~Za[1];if(Math.min(Math.abs(S),Math.abs(Za))>=ka)break;x.x=O+S;x.y=K+Za;if(!(0>x.x+x.x0||0>x.y+x.y0||x.x+x.x1>gb[0]||x.y+x.y1>gb[1])){if(!(S=!F)){a:{S=gb[0];S>>=5;Za=x.sprite;var qa=x.width>>5;var ta=x.x-
(qa<<4);for(var ha=ta&127,P=32-ha,t=x.y1-x.y0,u=(x.y+x.y0)*S+(ta>>5),l=0;l<t;l++){for(var p=ta=0;p<=qa;p++)if((ta<<P|(p<qa?(ta=Za[l*qa+p])>>>ha:0))&Q[u+p]){S=!0;break a}u+=S}S=!1}S=!S}if(S&&(!F||x.x+x.x1>F[0].x&&x.x+x.x0<F[1].x&&x.y+x.y1>F[0].y&&x.y+x.y0<F[1].y)){F=x.sprite;O=x.width>>5;K=gb[0]>>5;Ya=x.x-(O<<4);ka=Ya&127;ia=32-ka;ma=x.y1-x.y0;Ya=(x.y+x.y0)*K+(Ya>>5);for(Za=0;Za<ma;Za++){for(qa=S=0;qa<=O;qa++)Q[Ya+qa]=Q[Ya+qa]|S<<ia|(qa<O?(S=F[Za*O+qa])>>>ka:0);Ya+=K}x.sprite=null;return!0}}}return!1}
var gb=[256,256],xa,Ua,Ja,da,wa,La,Ra,fb=Va,Wa=[],jb=Math.random,Xa={layout:function(){for(var Q=za(v.canvas()),x=nb((gb[0]>>5)*gb[1]),F=null,O=Wa.length,K=-1,ka=[],ia=Wa.map(Ya=>({text:xa(Ya),font:Ua(Ya),style:da(Ya),weight:wa(Ya),rotate:La(Ya),size:~~(Ja(Ya)+1E-14),padding:Ra(Ya),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:Ya})).sort((Ya,Za)=>Za.size-Ya.size);++K<O;){var ma=ia[K];ma.x=gb[0]*(jb()+.5)>>1;ma.y=gb[1]*(jb()+.5)>>1;Ib(Q,ma,ia,K);ma.hasText&&Ea(x,ma,F)&&(ka.push(ma),
F?Ab(F,ma):F=[{x:ma.x+ma.x0,y:ma.y+ma.y0},{x:ma.x+ma.x1,y:ma.y+ma.y1}],ma.x-=gb[0]>>1,ma.y-=gb[1]>>1)}return ka},words:function(Q){return arguments.length?(Wa=Q,Xa):Wa},size:function(Q){return arguments.length?(gb=[+Q[0],+Q[1]],Xa):gb},font:function(Q){return arguments.length?(Ua=mb(Q),Xa):Ua},fontStyle:function(Q){return arguments.length?(da=mb(Q),Xa):da},fontWeight:function(Q){return arguments.length?(wa=mb(Q),Xa):wa},rotate:function(Q){return arguments.length?(La=mb(Q),Xa):La},text:function(Q){return arguments.length?
(xa=mb(Q),Xa):xa},spiral:function(Q){return arguments.length?(fb=Ca[Q]||Q,Xa):fb},fontSize:function(Q){return arguments.length?(Ja=mb(Q),Xa):Ja},padding:function(Q){return arguments.length?(Ra=mb(Q),Xa):Ra},random:function(Q){return arguments.length?(jb=Q,Xa):jb}};return Xa}function Ib(za,Ea,gb,xa){if(!Ea.sprite){var Ua=za.context,Ja=za.ratio;Ua.clearRect(0,0,2048/Ja,2048/Ja);var da=za=0,wa=0,La=gb.length;for(--xa;++xa<La;){Ea=gb[xa];Ua.save();Ua.font=Ea.style+" "+Ea.weight+" "+~~((Ea.size+1)/Ja)+
"px "+Ea.font;var Ra=Ua.measureText(Ea.text+"m").width*Ja;var fb=Ea.size<<1;if(Ea.rotate){var Wa=Math.sin(Ea.rotate*Ba),jb=Math.cos(Ea.rotate*Ba),Xa=Ra*jb,Q=Ra*Wa;jb*=fb;Ra=fb*Wa;Ra=Math.max(Math.abs(Xa+Ra),Math.abs(Xa-Ra))+31>>5<<5;fb=~~Math.max(Math.abs(Q+jb),Math.abs(Q-jb))}else Ra=Ra+31>>5<<5;fb>wa&&(wa=fb);2048<=za+Ra&&(za=0,da+=wa,wa=0);if(2048<=da+fb)break;Ua.translate((za+(Ra>>1))/Ja,(da+(fb>>1))/Ja);Ea.rotate&&Ua.rotate(Ea.rotate*Ba);Ua.fillText(Ea.text,0,0);Ea.padding&&(Ua.lineWidth=2*Ea.padding,
Ua.strokeText(Ea.text,0,0));Ua.restore();Ea.width=Ra;Ea.height=fb;Ea.xoff=za;Ea.yoff=da;Ea.x1=Ra>>1;Ea.y1=fb>>1;Ea.x0=-Ea.x1;Ea.y0=-Ea.y1;Ea.hasText=!0;za+=Ra}La=Ua.getImageData(0,0,2048/Ja,2048/Ja).data;for(Xa=[];0<=--xa;)if(Ea=gb[xa],Ea.hasText){Ra=Ea.width;Ua=Ra>>5;fb=Ea.y1-Ea.y0;for(Ja=0;Ja<fb*Ua;Ja++)Xa[Ja]=0;za=Ea.xoff;if(null==za)break;da=Ea.yoff;Q=0;Wa=-1;for(wa=0;wa<fb;wa++){for(Ja=0;Ja<Ra;Ja++)jb=La[2048*(da+wa)+(za+Ja)<<2]?1<<31-Ja%32:0,Xa[Ua*wa+(Ja>>5)]|=jb,Q|=jb;Q?Wa=wa:(Ea.y0++,fb--,
wa--,da++)}Ea.y1=Ea.y0+Wa;Ea.sprite=Xa.slice(0,(Ea.y1-Ea.y0)*Ua)}}}function Ab(za,Ea){var gb=za[0];za=za[1];Ea.x+Ea.x0<gb.x&&(gb.x=Ea.x+Ea.x0);Ea.y+Ea.y0<gb.y&&(gb.y=Ea.y+Ea.y0);Ea.x+Ea.x1>za.x&&(za.x=Ea.x+Ea.x1);Ea.y+Ea.y1>za.y&&(za.y=Ea.y+Ea.y1)}function Va(za){var Ea=za[0]/za[1];return function(gb){return[Ea*(gb*=.1)*Math.cos(gb),gb*Math.sin(gb)]}}function nb(za){for(var Ea=[],gb=-1;++gb<za;)Ea[gb]=0;return Ea}function mb(za){return"function"===typeof za?za:function(){return za}}function Pa(za){Y.Transform.call(this,
pb(),za)}var Ba=Math.PI/180,Ca={archimedean:Va,rectangular:function(za){var Ea=4*za[0]/za[1],gb=0,xa=0;return function(Ua){var Ja=0>Ua?-1:1;switch(Math.sqrt(1+4*Ja*Ua)-Ja&3){case 0:gb+=Ea;break;case 1:xa+=4;break;case 2:gb-=Ea;break;default:xa-=4}return[gb,xa]}}};const Sa="x y font fontSize fontStyle fontWeight angle".split(" "),kb="text font rotate fontSize fontStyle fontWeight".split(" ");Pa.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},
{name:"font",type:"string",expr:!0,"default":"sans-serif"},{name:"fontStyle",type:"string",expr:!0,"default":"normal"},{name:"fontWeight",type:"string",expr:!0,"default":"normal"},{name:"fontSize",type:"number",expr:!0,"default":14},{name:"fontSizeRange",type:"number",array:"nullable","default":[10,50]},{name:"rotate",type:"number",expr:!0,"default":0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",
array:!0,length:7,"default":Sa}]};Qa.inherits(Pa,Y.Transform,{transform(za,Ea){function gb(Ra){Ra=za[Ra];return Qa.isFunction(Ra)&&Ea.modified(Ra.fields)}!za.size||za.size[0]&&za.size[1]||Qa.error("Wordcloud size dimensions must be non-zero.");const xa=za.modified();if(xa||Ea.changed(Ea.ADD_REM)||kb.some(gb)){var Ua=Ea.materialize(Ea.SOURCE).source,Ja=this.value,da=za.as||Sa,wa=za.fontSize||14,La;Qa.isFunction(wa)?La=za.fontSizeRange:wa=Qa.constant(wa);if(La){const Ra=wa,fb=Qb.scale("sqrt")().domain(Qa.extent(Ua,
Ra)).range(La);wa=Wa=>fb(Ra(Wa))}Ua.forEach(Ra=>{Ra[da[0]]=NaN;Ra[da[1]]=NaN;Ra[da[3]]=0});Ua=Ja.words(Ua).text(za.text).size(za.size||[500,500]).padding(za.padding||1).spiral(za.spiral||"archimedean").rotate(za.rotate||0).font(za.font||"sans-serif").fontStyle(za.fontStyle||"normal").fontWeight(za.fontWeight||"normal").fontSize(wa).random(db.random).layout();wa=Ja.size();Ja=wa[0]>>1;wa=wa[1]>>1;La=Ua.length;for(let Ra=0,fb,Wa;Ra<La;++Ra)fb=Ua[Ra],Wa=fb.datum,Wa[da[0]]=fb.x+Ja,Wa[da[1]]=fb.y+wa,Wa[da[2]]=
fb.font,Wa[da[3]]=fb.size,Wa[da[4]]=fb.style,Wa[da[5]]=fb.weight,Wa[da[6]]=fb.rotate;return Ea.reflow(xa).modifies(da)}}});n.wordcloud=Pa;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[58]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc,Ob(18),Ob(29),Ob(17)):"function"===typeof define&&define.amd?define(["exports","d3-array","vega-dataflow","vega-util"],v):(n="undefined"!==typeof globalThis?globalThis:n||self,v((n.vega=n.vega||{},n.vega.transforms={}),n.d3,n.vega,n.vega))})(this,function(n,v,Y,Qa){function Qb(){let Ca=8,Sa=[],kb=new Uint32Array(0),za=db(0,Ca),Ea=db(0,Ca);return{data:()=>Sa,seen:()=>{var gb=kb;var xa=Sa.length;
gb.length>=xa||(xa=new gb.constructor(xa),xa.set(gb),gb=xa);return kb=gb},add(gb){for(let xa=0,Ua=Sa.length,Ja=gb.length,da;xa<Ja;++xa)da=gb[xa],da._index=Ua++,Sa.push(da)},remove(gb,xa){const Ua=Sa.length;gb=Array(Ua-gb);const Ja=Sa;let da,wa,La;for(wa=0;!xa[wa]&&wa<Ua;++wa)gb[wa]=Sa[wa],Ja[wa]=wa;for(La=wa;wa<Ua;++wa)da=Sa[wa],xa[wa]?Ja[wa]=-1:(Ja[wa]=La,za[La]=za[wa],Ea[La]=Ea[wa],gb[La]=da,da._index=La++),za[wa]=0;Sa=gb;return Ja},size:()=>Sa.length,curr:()=>za,prev:()=>Ea,reset:gb=>Ea[gb]=za[gb],
all:()=>257>Ca?255:65537>Ca?65535:4294967295,set(gb,xa){za[gb]|=xa},clear(gb,xa){za[gb]&=~xa},resize(gb,xa){if(gb>za.length||xa>Ca)Ca=Math.max(xa,Ca),za=db(gb,Ca,za),Ea=db(gb,Ca)}}}function db(Ca,Sa,kb){Ca=(257>Sa?mb:65537>Sa?Pa:Ba)(Ca);kb&&Ca.set(kb);return Ca}function pb(Ca,Sa,kb){const za=1<<Sa;return{one:za,zero:~za,range:kb.slice(),bisect:Ca.bisect,index:Ca.index,size:Ca.size,onAdd(Ea,gb){var xa=this.bisect(this.range,Ea.value);Ea=Ea.index;const Ua=xa[0];xa=xa[1];const Ja=Ea.length;let da;for(da=
0;da<Ua;++da)gb[Ea[da]]|=za;for(da=xa;da<Ja;++da)gb[Ea[da]]|=za;return this}}}function Ib(){let Ca=new Uint32Array(0),Sa=[],kb=0;return{insert:function(za,Ea,gb){if(!Ea.length)return[];const xa=kb,Ua=Ea.length,Ja=new Uint32Array(Ua);let da=Array(Ua);var wa;for(wa=0;wa<Ua;++wa)da[wa]=za(Ea[wa]),Ja[wa]=wa;da=Ab(da,Ja);if(xa){za=Sa;Ea=Ca;Sa=Array(xa+Ua);Ca=new Uint32Array(xa+Ua);{wa=da;var La=Sa,Ra=Ca;let fb=0,Wa=0,jb;for(jb=0;fb<xa&&Wa<Ua;++jb)za[fb]<wa[Wa]?(La[jb]=za[fb],Ra[jb]=Ea[fb++]):(La[jb]=wa[Wa],
Ra[jb]=Ja[Wa++]+gb);for(;fb<xa;++fb,++jb)La[jb]=za[fb],Ra[jb]=Ea[fb];for(;Wa<Ua;++Wa,++jb)La[jb]=wa[Wa],Ra[jb]=Ja[Wa]+gb}}else{if(0<gb)for(wa=0;wa<Ua;++wa)Ja[wa]+=gb;Sa=da;Ca=Ja}kb=xa+Ua;return{index:Ja,value:da}},remove:function(za,Ea){const gb=kb;let xa,Ua,Ja;for(Ua=0;!Ea[Ca[Ua]]&&Ua<gb;++Ua);for(Ja=Ua;Ua<gb;++Ua)Ea[xa=Ca[Ua]]||(Ca[Ja]=xa,Sa[Ja]=Sa[Ua],++Ja);kb=gb-za},bisect:function(za,Ea){let gb;Ea?gb=Ea.length:(Ea=Sa,gb=kb);return[v.bisectLeft(Ea,za[0],0,gb),v.bisectRight(Ea,za[1],0,gb)]},reindex:function(za){for(let Ea=
0,gb=kb;Ea<gb;++Ea)Ca[Ea]=za[Ca[Ea]]},index:()=>Ca,size:()=>kb}}function Ab(Ca,Sa){Ca.sort.call(Sa,(kb,za)=>{kb=Ca[kb];za=Ca[za];return kb<za?-1:kb>za?1:0});return v.permute(Ca,Sa)}function Va(Ca){Y.Transform.call(this,Qb(),Ca);this._dims=this._indices=null}function nb(Ca){Y.Transform.call(this,null,Ca)}const mb=Ca=>new Uint8Array(Ca),Pa=Ca=>new Uint16Array(Ca),Ba=Ca=>new Uint32Array(Ca);Va.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",
type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};Qa.inherits(Va,Y.Transform,{transform(Ca,Sa){return this._dims?Ca.modified("fields")||Ca.fields.some(kb=>Sa.modified(kb.fields))?this.reinit(Ca,Sa):this.eval(Ca,Sa):this.init(Ca,Sa)},init(Ca,Sa){const kb=Ca.fields,za=Ca.query,Ea=this._indices={},gb=this._dims=[],xa=za.length;let Ua=0;for(var Ja;Ua<xa;++Ua)Ja=kb[Ua].fname,Ja=Ea[Ja]||(Ea[Ja]=Ib()),gb.push(pb(Ja,Ua,za[Ua]));return this.eval(Ca,Sa)},reinit(Ca,Sa){const kb=
Sa.materialize().fork(),za=Ca.fields,Ea=Ca.query,gb=this._indices,xa=this._dims,Ua=this.value,Ja=Ua.curr(),da=Ua.prev(),wa=Ua.all(),La=kb.rem=kb.add,Ra=kb.mod,fb=Ea.length,Wa={};let jb;var Xa;let Q,x,F,O;da.set(Ja);Sa.rem.length&&(Q=this.remove(Ca,Sa,kb));Sa.add.length&&Ua.add(Sa.add);if(Sa.mod.length){x={};var K=Sa.mod;F=0;for(Xa=K.length;F<Xa;++F)x[K[F]._index]=1}for(F=0;F<fb;++F)if(O=za[F],!xa[F]||Ca.modified("fields",F)||Sa.modified(O.fields))Xa=O.fname,(K=Wa[Xa])||(gb[Xa]=jb=Ib(),Wa[Xa]=K=jb.insert(O,
Sa.source,0)),xa[F]=pb(jb,F,Ea[F]).onAdd(K,Ja);F=0;for(Xa=Ua.data().length;F<Xa;++F)Q[F]||(da[F]!==Ja[F]?La.push(F):x[F]&&Ja[F]!==wa&&Ra.push(F));Ua.mask=(1<<fb)-1;return kb},eval(Ca,Sa){const kb=Sa.materialize().fork(),za=this._dims.length;let Ea=0;Sa.rem.length&&(this.remove(Ca,Sa,kb),Ea|=(1<<za)-1);Ca.modified("query")&&!Ca.modified("fields")&&(Ea|=this.update(Ca,Sa,kb));Sa.add.length&&(this.insert(Ca,Sa,kb),Ea|=(1<<za)-1);Sa.mod.length&&(this.modify(Sa,kb),Ea|=(1<<za)-1);this.value.mask=Ea;return kb},
insert(Ca,Sa,kb){Sa=Sa.add;var za=this.value;const Ea=this._dims,gb=this._indices;Ca=Ca.fields;const xa={};kb=kb.add;const Ua=za.size()+Sa.length,Ja=Ea.length;let da=za.size();za.resize(Ua,Ja);za.add(Sa);const wa=za.curr(),La=za.prev(),Ra=za.all();for(za=0;za<Ja;++za){var fb=Ca[za].fname;fb=xa[fb]||(xa[fb]=gb[fb].insert(Ca[za],Sa,da));Ea[za].onAdd(fb,wa)}for(;da<Ua;++da)La[da]=Ra,wa[da]!==Ra&&kb.push(da)},modify(Ca,Sa){Sa=Sa.mod;var kb=this.value;const za=kb.curr();kb=kb.all();Ca=Ca.mod;let Ea,gb,
xa;Ea=0;for(gb=Ca.length;Ea<gb;++Ea)xa=Ca[Ea]._index,za[xa]!==kb&&Sa.push(xa)},remove(Ca,Sa,kb){Ca=this._indices;var za=this.value;const Ea=za.curr(),gb=za.prev();za=za.all();const xa={};kb=kb.rem;const Ua=Sa.rem;let Ja,da,wa,La;Ja=0;for(da=Ua.length;Ja<da;++Ja)wa=Ua[Ja]._index,xa[wa]=1,gb[wa]=La=Ea[wa],Ea[wa]=za,La!==za&&kb.push(wa);for(wa in Ca)Ca[wa].remove(da,xa);this.reindex(Sa,da,xa);return xa},reindex(Ca,Sa,kb){const za=this._indices,Ea=this.value;Ca.runAfter(()=>{const gb=Ea.remove(Sa,kb);
for(const xa in za)za[xa].reindex(gb)})},update(Ca,Sa,kb){const za=this._dims,Ea=Ca.query;Sa=Sa.stamp;const gb=za.length;let xa=0,Ua,Ja;for(Ja=kb.filters=0;Ja<gb;++Ja)Ca.modified("query",Ja)&&(Ua=Ja,++xa);if(1===xa)xa=za[Ua].one,this.incrementOne(za[Ua],Ea[Ua],kb.add,kb.rem);else for(xa=Ja=0;Ja<gb;++Ja)Ca.modified("query",Ja)&&(xa|=za[Ja].one,this.incrementAll(za[Ja],Ea[Ja],Sa,kb.add),kb.rem=kb.add);return xa},incrementAll(Ca,Sa,kb,za){var Ea=this.value;const gb=Ea.seen(),xa=Ea.curr();Ea=Ea.prev();
const Ua=Ca.index();var Ja=Ca.bisect(Ca.range),da=Ca.bisect(Sa);const wa=da[0];da=da[1];const La=Ja[0];Ja=Ja[1];const Ra=Ca.one;let fb,Wa,jb;if(wa<La)for(fb=wa,Wa=Math.min(La,da);fb<Wa;++fb)jb=Ua[fb],gb[jb]!==kb&&(Ea[jb]=xa[jb],gb[jb]=kb,za.push(jb)),xa[jb]^=Ra;else if(wa>La)for(fb=La,Wa=Math.min(wa,Ja);fb<Wa;++fb)jb=Ua[fb],gb[jb]!==kb&&(Ea[jb]=xa[jb],gb[jb]=kb,za.push(jb)),xa[jb]^=Ra;if(da>Ja)for(fb=Math.max(wa,Ja),Wa=da;fb<Wa;++fb)jb=Ua[fb],gb[jb]!==kb&&(Ea[jb]=xa[jb],gb[jb]=kb,za.push(jb)),xa[jb]^=
Ra;else if(da<Ja)for(fb=Math.max(La,da),Wa=Ja;fb<Wa;++fb)jb=Ua[fb],gb[jb]!==kb&&(Ea[jb]=xa[jb],gb[jb]=kb,za.push(jb)),xa[jb]^=Ra;Ca.range=Sa.slice()},incrementOne(Ca,Sa,kb,za){const Ea=this.value.curr(),gb=Ca.index();var xa=Ca.bisect(Ca.range),Ua=Ca.bisect(Sa);const Ja=Ua[0];Ua=Ua[1];const da=xa[0];xa=xa[1];const wa=Ca.one;let La,Ra,fb;if(Ja<da)for(La=Ja,Ra=Math.min(da,Ua);La<Ra;++La)fb=gb[La],Ea[fb]^=wa,kb.push(fb);else if(Ja>da)for(La=da,Ra=Math.min(Ja,xa);La<Ra;++La)fb=gb[La],Ea[fb]^=wa,za.push(fb);
if(Ua>xa)for(La=Math.max(Ja,xa),Ra=Ua;La<Ra;++La)fb=gb[La],Ea[fb]^=wa,kb.push(fb);else if(Ua<xa)for(La=Math.max(da,Ua),Ra=xa;La<Ra;++La)fb=gb[La],Ea[fb]^=wa,za.push(fb);Ca.range=Sa.slice()}});nb.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};Qa.inherits(nb,Y.Transform,{transform(Ca,
Sa){const kb=~(Ca.ignore||0);Ca=Ca.filter;const za=Ca.mask;if(0===(za&kb))return Sa.StopPropagation;Sa=Sa.fork(Sa.ALL);const Ea=Ca.data(),gb=Ca.curr(),xa=Ca.prev(),Ua=Ja=>gb[Ja]&kb?null:Ea[Ja];Sa.filter(Sa.MOD,Ua);za&za-1?(Sa.filter(Sa.ADD,Ja=>{const da=gb[Ja]&kb;return!da&&da^xa[Ja]&kb?Ea[Ja]:null}),Sa.filter(Sa.REM,Ja=>{const da=gb[Ja]&kb;return!da||da^da^xa[Ja]&kb?null:Ea[Ja]})):(Sa.filter(Sa.ADD,Ua),Sa.filter(Sa.REM,Ja=>(gb[Ja]&kb)===za?Ea[Ja]:null));return Sa.filter(Sa.SOURCE,Ja=>Ua(Ja._index))}});
n.crossfilter=Va;n.resolvefilter=nb;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[59]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc,Ob(17)):"function"===typeof define&&define.amd?define(["exports","vega-util"],v):(n="undefined"!==typeof globalThis?globalThis:n||self,v(n.vega={},n.vega))})(this,function(n,v){function Y(t){this.type=t}function Qa(t){switch(t.type){case "ArrayExpression":return t.elements;case "BinaryExpression":case "LogicalExpression":return[t.left,t.right];case "CallExpression":return[t.callee].concat(t.arguments);
case "ConditionalExpression":return[t.test,t.consequent,t.alternate];case "MemberExpression":return[t.object,t.property];case "ObjectExpression":return t.properties;case "Property":return[t.key,t.value];case "UnaryExpression":return[t.argument];default:return[]}}function Qb(t,u){if(!t)throw Error("ASSERT: "+u);}function db(t){return 48<=t&&57>=t}function pb(t){return 0<="0123456789abcdefABCDEF".indexOf(t)}function Ib(t){return 0<="01234567".indexOf(t)}function Ab(t){return 10===t||13===t||8232===
t||8233===t}function Va(t){return 36===t||95===t||65<=t&&90>=t||97<=t&&122>=t||92===t||128<=t&&S.test(String.fromCharCode(t))}function nb(t){return 36===t||95===t||65<=t&&90>=t||97<=t&&122>=t||48<=t&&57>=t||92===t||128<=t&&qa.test(String.fromCharCode(t))}function mb(){for(;ma<Ya;){const t=ia.charCodeAt(ma);if(32===t||9===t||11===t||12===t||160===t||5760<=t&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(t)||Ab(t))++ma;else break}}function Pa(t){var u=
0;var l="u"===t?4:2;for(t=0;t<l;++t)if(ma<Ya&&pb(ia[ma])){var p=ia[ma++];u=16*u+"0123456789abcdef".indexOf(p.toLowerCase())}else La({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(u)}function Ba(){var t=ia.charCodeAt(ma++);var u=String.fromCharCode(t);92===t&&(117!==ia.charCodeAt(ma)&&La({},"Unexpected token %0","ILLEGAL"),++ma,(t=Pa("u"))&&"\\"!==t&&Va(t.charCodeAt(0))||La({},"Unexpected token %0","ILLEGAL"),u=t);for(;ma<Ya;){t=ia.charCodeAt(ma);if(!nb(t))break;++ma;u+=String.fromCharCode(t);
92===t&&(u=u.substr(0,u.length-1),117!==ia.charCodeAt(ma)&&La({},"Unexpected token %0","ILLEGAL"),++ma,(t=Pa("u"))&&"\\"!==t&&nb(t.charCodeAt(0))||La({},"Unexpected token %0","ILLEGAL"),u+=t)}return u}function Ca(){var t=ma,u=ia.charCodeAt(ma),l=ia[ma];switch(u){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++ma,{type:7,value:String.fromCharCode(u),start:t,end:ma};default:var p=ia.charCodeAt(ma+1);if(61===p)switch(u){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return ma+=
2,{type:7,value:String.fromCharCode(u)+String.fromCharCode(p),start:t,end:ma};case 33:case 61:return ma+=2,61===ia.charCodeAt(ma)&&++ma,{type:7,value:ia.slice(t,ma),start:t,end:ma}}}u=ia.substr(ma,4);if("\x3e\x3e\x3e\x3d"===u)return ma+=4,{type:7,value:u,start:t,end:ma};u=u.substr(0,3);if("\x3e\x3e\x3e"===u||"\x3c\x3c\x3d"===u||"\x3e\x3e\x3d"===u)return ma+=3,{type:7,value:u,start:t,end:ma};u=u.substr(0,2);if(l===u[1]&&0<="+-\x3c\x3e\x26|".indexOf(l)||"\x3d\x3e"===u)return ma+=2,{type:7,value:u,start:t,
end:ma};if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(l))return++ma,{type:7,value:l,start:t,end:ma};La({},"Unexpected token %0","ILLEGAL")}function Sa(){var t=ia[ma];Qb(db(t.charCodeAt(0))||"."===t,"Numeric literal must start with a decimal digit or a decimal point");var u=ma;var l="";if("."!==t){l=ia[ma++];t=ia[ma];if("0"===l){if("x"===t||"X"===t){++ma;for(l="";ma<Ya&&pb(ia[ma]);)l+=ia[ma++];0===l.length&&La({},"Unexpected token %0","ILLEGAL");Va(ia.charCodeAt(ma))&&La({},"Unexpected token %0","ILLEGAL");
return u={type:6,value:parseInt("0x"+l,16),start:u,end:ma}}if(Ib(t)){for(l="0"+ia[ma++];ma<Ya&&Ib(ia[ma]);)l+=ia[ma++];(Va(ia.charCodeAt(ma))||db(ia.charCodeAt(ma)))&&La({},"Unexpected token %0","ILLEGAL");return u={type:6,value:parseInt(l,8),octal:!0,start:u,end:ma}}t&&db(t.charCodeAt(0))&&La({},"Unexpected token %0","ILLEGAL")}for(;db(ia.charCodeAt(ma));)l+=ia[ma++];t=ia[ma]}if("."===t){for(l+=ia[ma++];db(ia.charCodeAt(ma));)l+=ia[ma++];t=ia[ma]}if("e"===t||"E"===t){l+=ia[ma++];t=ia[ma];if("+"===
t||"-"===t)l+=ia[ma++];if(db(ia.charCodeAt(ma)))for(;db(ia.charCodeAt(ma));)l+=ia[ma++];else La({},"Unexpected token %0","ILLEGAL")}Va(ia.charCodeAt(ma))&&La({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(l),start:u,end:ma}}function kb(t,u){let l=t;0<=u.indexOf("u")&&(l=l.replace(/\\u\{([0-9a-fA-F]+)\}/g,(p,A)=>{if(1114111>=parseInt(A,16))return"x";La({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(l)}catch(p){La({},"Invalid regular expression")}try{return new RegExp(t,
u)}catch(p){return null}}function za(){mb();if(ma>=Ya)return{type:2,start:ma,end:ma};var t=ia.charCodeAt(ma);if(Va(t)){t=ma;if(92===ia.charCodeAt(ma))var u=Ba();else a:{for(u=ma++;ma<Ya;){var l=ia.charCodeAt(ma);if(92===l){ma=u;u=Ba();break a}if(nb(l))++ma;else break}u=ia.slice(u,ma)}return{type:1===u.length?3:ta.hasOwnProperty(u)?4:"null"===u?5:"true"===u||"false"===u?1:3,value:u,start:t,end:ma}}if(40===t||41===t||59===t)return Ca();if(39===t||34===t){var p="";l=!1;t=ia[ma];Qb("'"===t||'"'===t,"String literal must starts with a quote");
u=ma;for(++ma;ma<Ya;){var A=ia[ma++];if(A===t){t="";break}else if("\\"===A)if((A=ia[ma++])&&Ab(A.charCodeAt(0)))"\r"===A&&"\n"===ia[ma]&&++ma;else switch(A){case "u":case "x":if("{"===ia[ma]){++ma;var B=ia[ma];A=0;for("}"===B&&La({},"Unexpected token %0","ILLEGAL");ma<Ya;){B=ia[ma++];if(!pb(B))break;A=16*A+"0123456789abcdef".indexOf(B.toLowerCase())}(1114111<A||"}"!==B)&&La({},"Unexpected token %0","ILLEGAL");A=65535>=A?String.fromCharCode(A):String.fromCharCode((A-65536>>10)+55296,(A-65536&1023)+
56320);p+=A}else p+=Pa(A);break;case "n":p+="\n";break;case "r":p+="\r";break;case "t":p+="\t";break;case "b":p+="\b";break;case "f":p+="\f";break;case "v":p+="\x0B";break;default:Ib(A)?(B="01234567".indexOf(A),0!==B&&(l=!0),ma<Ya&&Ib(ia[ma])&&(l=!0,B=8*B+"01234567".indexOf(ia[ma++]),0<="0123".indexOf(A)&&ma<Ya&&Ib(ia[ma])&&(B=8*B+"01234567".indexOf(ia[ma++]))),p+=String.fromCharCode(B)):p+=A}else if(Ab(A.charCodeAt(0)))break;else p+=A}""!==t&&La({},"Unexpected token %0","ILLEGAL");return{type:8,
value:p,octal:l,start:u,end:ma}}return 46===t?db(ia.charCodeAt(ma+1))?Sa():Ca():db(t)?Sa():Ca()}function Ea(){const t=Za;ma=t.end;Za=za();ma=t.end;return t}function gb(){const t=ma;Za=za();ma=t}function xa(t,u,l){const p=new Y("||"===t||"\x26\x26"===t?"LogicalExpression":"BinaryExpression");p.operator=t;p.left=u;p.right=l;return p}function Ua(t){const u=new Y("Identifier");u.name=t;return u}function Ja(t){const u=new Y("Literal");u.value=t.value;u.raw=ia.slice(t.start,t.end);t.regex&&("//"===u.raw&&
(u.raw="/(?:)/"),u.regex=t.regex);return u}function da(t,u,l){const p=new Y("MemberExpression");p.computed="["===t;p.object=u;p.property=l;p.computed||(l.member=!0);return p}function wa(t,u,l){const p=new Y("Property");p.key=u;p.value=l;p.kind=t;return p}function La(t,u){var l=Array.prototype.slice.call(arguments,2),p=u.replace(/%(\d)/g,(B,E)=>{Qb(E<l.length,"Message reference must be in range");return l[E]});var A=Error(p);A.index=ma;A.description=p;throw A;}function Ra(t){2===t.type&&La(t,"Unexpected end of input");
6===t.type&&La(t,"Unexpected number");8===t.type&&La(t,"Unexpected string");3===t.type&&La(t,"Unexpected identifier");4===t.type&&La(t,"Unexpected reserved word");La(t,"Unexpected token %0",t.value)}function fb(t){const u=Ea();7===u.type&&u.value===t||Ra(u)}function Wa(t){return 7===Za.type&&Za.value===t}function jb(){ma=Za.start;const t=Ea();return 8===t.type||6===t.type?(t.octal&&La(t,"Octal literals are not allowed in strict mode."),Ja(t)):Ua(t.value)}function Xa(){if(Wa("(")){fb("(");var t=K();
fb(")");return t}if(Wa("[")){t=[];ma=Za.start;for(fb("[");!Wa("]");)Wa(",")?(Ea(),t.push(null)):(t.push(O()),Wa("]")||fb(","));Ea();var u=new Y("ArrayExpression");u.elements=t;return t=u}if(Wa("{")){t=[];u={};var l=String;ma=Za.start;for(fb("{");!Wa("}");){ma=Za.start;var p=Za;if(3===p.type){var A=jb();fb(":");p=O();p=wa("init",A,p)}else 2===p.type||7===p.type?(Ra(p),p=void 0):(A=jb(),fb(":"),p=O(),p=wa("init",A,p));A="Identifier"===p.key.type?p.key.name:l(p.key.value);A="$"+A;Object.prototype.hasOwnProperty.call(u,
A)?La({},"Duplicate data property in object literal not allowed in strict mode"):u[A]=!0;t.push(p);Wa("}")||fb(",")}fb("}");u=new Y("ObjectExpression");u.properties=t;return t=u}t=Za.type;ma=Za.start;if(3===t||ha[Za.value])u=Ua(Ea().value);else if(8===t||6===t)Za.octal&&La(Za,"Octal literals are not allowed in strict mode."),u=Ja(Ea());else{if(4===t)throw Error("Disabled.");if(1===t)t=Ea(),t.value="true"===t.value,u=Ja(t);else if(5===t)t=Ea(),t.value=null,u=Ja(t);else if(Wa("/")||Wa("/\x3d")){var B;
Za=null;mb();t=ma;u=ia[ma];Qb("/"===u,"Regular expression literal must start with a slash");l=ia[ma++];for(A=p=!1;ma<Ya;)if(u=ia[ma++],l+=u,"\\"===u)u=ia[ma++],Ab(u.charCodeAt(0))&&La({},"Invalid regular expression: missing /"),l+=u;else if(Ab(u.charCodeAt(0)))La({},"Invalid regular expression: missing /");else if(p)"]"===u&&(p=!1);else if("/"===u){A=!0;break}else"["===u&&(p=!0);A||La({},"Invalid regular expression: missing /");u=l.substr(1,l.length-2);for(B=A="";ma<Ya;){p=ia[ma];if(!nb(p.charCodeAt(0)))break;
++ma;"\\"===p&&ma<Ya?La({},"Unexpected token %0","ILLEGAL"):(B+=p,A+=p)}0<=B.search(/[^gimuy]/g)&&La({},"Invalid regular expression",B);p=B;B=kb(u,p);u=Ja({literal:l+A,value:B,regex:{pattern:u,flags:p},start:t,end:ma});gb()}else Ra(Ea())}return u}function Q(){var t;for(t=Xa();;)if(Wa(".")){fb(".");ma=Za.start;var u=Ea();3===u.type||4===u.type||1===u.type||5===u.type||Ra(u);u=Ua(u.value);t=da(".",t,u)}else if(Wa("(")){u=[];fb("(");if(!Wa(")"))for(;ma<Ya;){u.push(O());if(Wa(")"))break;fb(",")}fb(")");
{const l=new Y("CallExpression");l.callee=t;l.arguments=u;t=l}}else if(Wa("["))fb("["),u=K(),fb("]"),t=da("[",t,u);else break;if(7===Za.type&&(Wa("++")||Wa("--")))throw Error("Disabled.");return t}function x(){if(7!==Za.type&&4!==Za.type)var t=Q();else{if(Wa("++")||Wa("--"))throw Error("Disabled.");if(Wa("+")||Wa("-")||Wa("~")||Wa("!")){var u=Ea();t=x();{u=u.value;const l=new Y("UnaryExpression");l.operator=u;l.argument=t;l.prefix=!0;t=l}}else{if(4===Za.type&&"delete"===Za.value||4===Za.type&&"void"===
Za.value||4===Za.type&&"typeof"===Za.value)throw Error("Disabled.");t=Q()}}return t}function F(t){let u=0;if(7!==t.type&&4!==t.type)return 0;switch(t.value){case "||":u=1;break;case "\x26\x26":u=2;break;case "|":u=3;break;case "^":u=4;break;case "\x26":u=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":u=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":u=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":u=8;break;case "+":case "-":u=
9;break;case "*":case "/":case "%":u=11}return u}function O(){var t=Za;var u=x();var l=Za;var p=F(l);if(0===p)var A=u;else{l.prec=p;Ea();t=[t,Za];var B=x();for(A=[u,l,B];0<(p=F(Za));){for(;2<A.length&&p<=A[A.length-2].prec;)B=A.pop(),l=A.pop().value,u=A.pop(),t.pop(),u=xa(l,u,B),A.push(u);l=Ea();l.prec=p;A.push(l);t.push(Za);u=x();A.push(u)}p=A.length-1;u=A[p];for(t.pop();1<p;)t.pop(),u=xa(A[p-1].value,A[p-2],u),p-=2;A=u}Wa("?")&&(Ea(),t=O(),fb(":"),p=O(),u=new Y("ConditionalExpression"),u.test=A,
u.consequent=t,u.alternate=p,A=u);return A}function K(){const t=O();if(Wa(","))throw Error("Disabled.");return t}function ka(t){function u(l,p,A){return B=>{{let E=t(B[0]);p&&(E=p+"("+E+")",0===p.lastIndexOf("new ",0)&&(E="("+E+")"));B=E+"."+l+(0>A?"":0===A?"()":"("+B.slice(1).map(t).join(",")+")")}return B}}return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",
log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(l){3>l.length&&v.error("Missing arguments to clamp function.");3<l.length&&v.error("Too many arguments to clamp function.");l=l.map(t);return"Math.max("+l[1]+", Math.min("+l[2]+","+l[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:"new Date",date:u("getDate","new Date",0),day:u("getDay","new Date",0),year:u("getFullYear","new Date",0),month:u("getMonth",
"new Date",0),hours:u("getHours","new Date",0),minutes:u("getMinutes","new Date",0),seconds:u("getSeconds","new Date",0),milliseconds:u("getMilliseconds","new Date",0),time:u("getTime","new Date",0),timezoneoffset:u("getTimezoneOffset","new Date",0),utcdate:u("getUTCDate","new Date",0),utcday:u("getUTCDay","new Date",0),utcyear:u("getUTCFullYear","new Date",0),utcmonth:u("getUTCMonth","new Date",0),utchours:u("getUTCHours","new Date",0),utcminutes:u("getUTCMinutes","new Date",0),utcseconds:u("getUTCSeconds",
"new Date",0),utcmilliseconds:u("getUTCMilliseconds","new Date",0),length:u("length",null,-1),join:u("join",null),indexof:u("indexOf",null),lastindexof:u("lastIndexOf",null),slice:u("slice",null),reverse:function(l){return"("+t(l[0])+").slice().reverse()"},parseFloat:"parseFloat",parseInt:"parseInt",upper:u("toUpperCase","String",0),lower:u("toLowerCase","String",0),substring:u("substring","String"),split:u("split","String"),replace:u("replace","String"),trim:u("trim","String",0),regexp:"RegExp",
test:u("test","RegExp"),if:function(l){3>l.length&&v.error("Missing arguments to if function.");3<l.length&&v.error("Too many arguments to if function.");l=l.map(t);return"("+l[0]+"?"+l[1]+":"+l[2]+")"}}}Y.prototype.visit=function(t){let u,l,p;if(t(this))return 1;u=Qa(this);l=0;for(p=u.length;l<p;++l)if(u[l].visit(t))return 1};var ia,ma,Ya,Za,S=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
qa=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/;
const ta={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},ha={"if":1};var P={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",
LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};n.ASTNode=Y;n.ArrayExpression="ArrayExpression";n.BinaryExpression="BinaryExpression";n.CallExpression="CallExpression";n.ConditionalExpression="ConditionalExpression";n.Identifier="Identifier";n.Literal="Literal";n.LogicalExpression="LogicalExpression";n.MemberExpression="MemberExpression";n.ObjectExpression="ObjectExpression";
n.Property="Property";n.RawCode="RawCode";n.UnaryExpression="UnaryExpression";n.codegen=function(t){function u(na){if(v.isString(na))return na;const $a=W[na.type];null==$a&&v.error("Unsupported type: "+na.type);return $a(na)}function l(na){na={code:u(na),globals:Object.keys(fa),fields:Object.keys(Na)};fa={};Na={};return na}t=t||{};const p=t.allowed?v.toSet(t.allowed):{},A=t.forbidden?v.toSet(t.forbidden):{},B=t.constants||P,E=(t.functions||ka)(u),z=t.globalvar,aa=t.fieldvar,sa=v.isFunction(z)?z:na=>
`${z}["${na}"]`;let fa={},Na={},Da=0;const W={Literal:na=>na.raw,Identifier:na=>{na=na.name;if(0<Da)return na;if(v.hasOwnProperty(A,na))return v.error("Illegal identifier: "+na);if(v.hasOwnProperty(B,na))return B[na];if(v.hasOwnProperty(p,na))return na;fa[na]=1;return sa(na)},MemberExpression:na=>{const $a=!na.computed,sb=u(na.object);$a&&(Da+=1);na=u(na.property);if(sb===aa){var Db=Na;var Xb=(Xb=na&&na.length-1)&&('"'===na[0]&&'"'===na[Xb]||"'"===na[0]&&"'"===na[Xb])?na.slice(1,-1):na;Db[Xb]=1}$a&&
--Da;return sb+($a?"."+na:"["+na+"]")},CallExpression:na=>{"Identifier"!==na.callee.type&&v.error("Illegal callee type: "+na.callee.type);const $a=na.callee.name;na=na.arguments;const sb=v.hasOwnProperty(E,$a)&&E[$a];sb||v.error("Unrecognized function: "+$a);return v.isFunction(sb)?sb(na):sb+"("+na.map(u).join(",")+")"},ArrayExpression:na=>"["+na.elements.map(u).join(",")+"]",BinaryExpression:na=>"("+u(na.left)+na.operator+u(na.right)+")",UnaryExpression:na=>"("+na.operator+u(na.argument)+")",ConditionalExpression:na=>
"("+u(na.test)+"?"+u(na.consequent)+":"+u(na.alternate)+")",LogicalExpression:na=>"("+u(na.left)+na.operator+u(na.right)+")",ObjectExpression:na=>"{"+na.properties.map(u).join(",")+"}",Property:na=>{Da+=1;const $a=u(na.key);--Da;return $a+":"+u(na.value)}};l.functions=E;l.constants=B;return l};n.constants=P;n.functions=ka;n.parse=function(t){ia=t;ma=0;Ya=ia.length;Za=null;gb();t=K();if(2!==Za.type)throw Error("Unexpect token after expression.");return t};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[60]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc,Ob(17),Ob(59)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-expression"],v):(n="undefined"!==typeof globalThis?globalThis:n||self,v(n.vega={},n.vega,n.vega))})(this,function(n,v,Y){function Qa(db,pb){var Ib=pb.fields;pb=pb.values;for(var Ab=Ib.length,Va=0,nb,mb;Va<Ab;++Va)if(mb=Ib[Va],mb.getter=v.field.getter||v.field(mb.field),nb=mb.getter(db),v.isDate(nb)&&(nb=
v.toNumber(nb)),v.isDate(pb[Va])&&(pb[Va]=v.toNumber(pb[Va])),v.isDate(pb[Va][0])&&(pb[Va]=pb[Va].map(v.toNumber)),"E"===mb.type){if(v.isArray(pb[Va])?0>pb[Va].indexOf(nb):nb!==pb[Va])return!1}else if("R"===mb.type){if(!v.inrange(nb,pb[Va]))return!1}else if("R-RE"===mb.type){if(!v.inrange(nb,pb[Va],!0,!1))return!1}else if("R-E"===mb.type){if(!v.inrange(nb,pb[Va],!1,!1))return!1}else if("R-LE"===mb.type&&!v.inrange(nb,pb[Va],!1,!0))return!1;return!0}var Qb={E_union:function(db,pb){if(!db.length)return pb;
for(var Ib=0,Ab=pb.length;Ib<Ab;++Ib)0>db.indexOf(pb[Ib])&&db.push(pb[Ib]);return db},E_intersect:function(db,pb){return db.length?db.filter(Ib=>0<=pb.indexOf(Ib)):pb},R_union:function(db,pb){var Ib=v.toNumber(pb[0]),Ab=v.toNumber(pb[1]);Ib>Ab&&(Ib=pb[1],Ab=pb[0]);if(!db.length)return[Ib,Ab];db[0]>Ib&&(db[0]=Ib);db[1]<Ab&&(db[1]=Ab);return db},R_intersect:function(db,pb){var Ib=v.toNumber(pb[0]),Ab=v.toNumber(pb[1]);Ib>Ab&&(Ib=pb[1],Ab=pb[0]);if(!db.length)return[Ib,Ab];if(Ab<db[0]||db[1]<Ib)return[];
db[0]<Ib&&(db[0]=Ib);db[1]>Ab&&(db[1]=Ab);return db}};n.selectionResolve=function(db,pb,Ib,Ab){db=(db=this.context.data[db])?db.values.value:[];for(var Va={},nb={},mb={},Pa,Ba,Ca,Sa,kb,za,Ea=db.length,gb=0,xa,Ua;gb<Ea;++gb){Pa=db[gb];Ca=Pa.unit;Ba=Pa.fields;Pa=Pa.values;xa=0;for(Ua=Ba.length;xa<Ua;++xa)Sa=Ba[xa],kb=Va[Sa.field]||(Va[Sa.field]={}),za=kb[Ca]||(kb[Ca]=[]),mb[Sa.field]=Sa=Sa.type.charAt(0),Sa=Qb[Sa+"_union"],kb[Ca]=Sa(za,v.array(Pa[xa]));Ib&&(za=nb[Ca]||(nb[Ca]=[]),za.push(v.array(Pa).reduce((Ja,
da,wa)=>(Ja[Ba[wa].field]=da,Ja),{})))}pb=pb||"union";Object.keys(Va).forEach(Ja=>{Va[Ja]=Object.keys(Va[Ja]).map(da=>Va[Ja][da]).reduce((da,wa)=>void 0===da?wa:Qb[mb[Ja]+"_"+pb](da,wa))});db=Object.keys(nb);Ib&&db.length&&(Va[Ab?"vlPoint":"vlMulti"]="union"===pb?{["or"]:db.reduce((Ja,da)=>(Ja.push(...nb[da]),Ja),[])}:{["and"]:db.map(Ja=>({["or"]:nb[Ja]}))});return Va};n.selectionTest=function(db,pb,Ib){var Ab=this.context.data[db];db=Ab?Ab.values.value:[];Ab=Ab?Ab["index:unit"]&&Ab["index:unit"].value:
void 0;Ib="intersect"===Ib;for(var Va=db.length,nb=0,mb,Pa,Ba,Ca;nb<Va;++nb)if(mb=db[nb],Ab&&Ib){if(Pa=Pa||{},Ba=Pa[Ca=mb.unit]||0,-1!==Ba){mb=Qa(pb,mb);Pa[Ca]=mb?-1:++Ba;if(mb&&1===Ab.size)return!0;if(!mb&&Ba===Ab.get(Ca).count)return!1}}else if(mb=Qa(pb,mb),Ib^mb)return mb;return Va&&Ib};n.selectionVisitor=function(db,pb,Ib,Ab){pb[0].type!==Y.Literal&&v.error("First argument to selection functions must be a string literal.");db=pb[0].value;pb=2<=pb.length&&v.peek(pb).value;const Va=":"+db;"intersect"!==
pb||v.hasOwnProperty(Ab,"@unit")||(Ab["@unit"]=Ib.getData(db).indataRef(Ib,"unit"));v.hasOwnProperty(Ab,Va)||(Ab[Va]=Ib.getData(db).tuplesRef())};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[61]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc,Ob(17),Ob(59),Ob(42),Ob(35),Ob(29),Ob(38),Ob(39),Ob(60),Ob(30),Ob(21),Ob(18)):"function"===typeof define&&define.amd?define("exports vega-util vega-expression d3-geo d3-color vega-dataflow vega-scale vega-scenegraph vega-selections vega-statistics vega-time d3-array".split(" "),v):(n="undefined"!==typeof globalThis?globalThis:n||self,v(n.vega={},n.vega,n.vega,n.d3,n.d3,n.vega,n.vega,n.vega,n.vega,
n.vega,n.vega,n.d3))})(this,function(n,v,Y,Qa,Qb,db,pb,Ib,Ab,Va,nb,mb){function Pa(Ha){return(Ha=this.context.data[Ha])?Ha.values.value:[]}function Ba(Ha,qb,Sb){return(Sb=(Ha=this.context.data[Ha]["index:"+qb])?Ha.value.get(Sb):void 0)?Sb.count:Sb}function Ca(Ha,qb){const Sb=this.context.dataflow;Sb.pulse(this.context.data[Ha].input,Sb.changeset().remove(v.truthy).insert(qb));return 1}function Sa(Ha,qb,Sb){if(Ha){const dd=this.context.dataflow;dd.pulse(Ha.mark.source,dd.changeset().encode(Ha,qb))}return void 0!==
Sb?Sb:Ha}function kb(Ha,qb,Sb){if(!Number.isInteger(Ha)||!Number.isInteger(qb))return"";jc.setYear(2E3);jc.setMonth(Ha);jc.setDate(qb);return cc.call(this,jc,Sb)}function za(Ha){return kb.call(this,Ha,1,"%B")}function Ea(Ha){return kb.call(this,Ha,1,"%b")}function gb(Ha){return kb.call(this,0,2+Ha,"%A")}function xa(Ha){return kb.call(this,0,2+Ha,"%a")}function Ua(Ha,qb,Sb,dd){qb[0].type!==Y.Literal&&v.error("First argument to data functions must be a string literal.");Ha=qb[0].value;qb=":"+Ha;if(!v.hasOwnProperty(qb,
dd))try{dd[qb]=Sb.getData(Ha).tuplesRef()}catch(nd){}}function Ja(Ha,qb,Sb,dd){qb[0].type!==Y.Literal&&v.error("First argument to indata must be a string literal.");qb[1].type!==Y.Literal&&v.error("Second argument to indata must be a string literal.");Ha=qb[0].value;qb=qb[1].value;const nd="@"+qb;v.hasOwnProperty(nd,dd)||(dd[nd]=Sb.getData(Ha).indataRef(Sb,qb))}function da(Ha,qb,Sb,dd){if(qb[0].type===Y.Literal)wa(Sb,dd,qb[0].value);else for(Ha in Sb.scales)wa(Sb,dd,Ha)}function wa(Ha,qb,Sb){const dd=
"%"+Sb;if(!v.hasOwnProperty(qb,dd))try{qb[dd]=Ha.scaleRef(Sb)}catch(nd){}}function La(Ha,qb){let Sb;return v.isFunction(Ha)?Ha:v.isString(Ha)?(Sb=qb.scales[Ha])&&Sb.value:void 0}function Ra(Ha,qb,Sb){qb.__bandwidth=nd=>nd&&nd.bandwidth?nd.bandwidth():0;Sb._bandwidth=da;Sb._range=da;Sb._scale=da;const dd=nd=>"_["+(nd.type===Y.Literal?v.stringValue("%"+nd.value):v.stringValue("%")+"+"+Ha(nd))+"]";return{_bandwidth:nd=>`this.__bandwidth(${dd(nd[0])})`,_range:nd=>`${dd(nd[0])}.range()`,_scale:nd=>`${dd(nd[0])}(${Ha(nd[1])})`}}
function fb(Ha,qb){return function(Sb,dd,nd){return Sb?(Sb=La(Sb,(nd||this).context))&&Sb.path[Ha](dd):qb(dd)}}function Wa(Ha){const qb=this.context.group;let Sb=!1;if(qb)for(;Ha;){if(Ha===qb){Sb=!0;break}Ha=Ha.mark.group}return Sb}function jb(Ha,qb,Sb){try{Ha[qb].apply(Ha,["EXPRESSION"].concat([].slice.call(Sb)))}catch(dd){Ha.warn(dd)}return Sb[Sb.length-1]}function Xa(){return jb(this.context.dataflow,"warn",arguments)}function Q(){return jb(this.context.dataflow,"info",arguments)}function x(){return jb(this.context.dataflow,
"debug",arguments)}function F(Ha){Ha/=255;return.03928>=Ha?Ha/12.92:Math.pow((Ha+.055)/1.055,2.4)}function O(Ha){var qb=Qb.rgb(Ha);Ha=F(qb.r);const Sb=F(qb.g);qb=F(qb.b);return.2126*Ha+.7152*Sb+.0722*qb}function K(Ha,qb){Ha=O(Ha);qb=O(qb);return(Math.max(Ha,qb)+.05)/(Math.min(Ha,qb)+.05)}function ka(){const Ha=[].slice.call(arguments);Ha.unshift({});return v.extend(...Ha)}function ia(Ha,qb){if(Ha===qb||Ha!==Ha&&qb!==qb)Ha=!0;else if(v.isArray(Ha))if(v.isArray(qb)&&Ha.length===qb.length)a:{for(let Sb=
0,dd=Ha.length;Sb<dd;++Sb)if(!ia(Ha[Sb],qb[Sb])){Ha=!1;break a}Ha=!0}else Ha=!1;else Ha=v.isObject(Ha)&&v.isObject(qb)?ma(Ha,qb):!1;return Ha}function ma(Ha,qb){for(const Sb in Ha)if(!ia(Ha[Sb],qb[Sb]))return!1;return!0}function Ya(Ha){return qb=>ma(Ha,qb)}function Za(Ha,qb,Sb,dd,nd,Nd){const Wd=this.context.dataflow,U=this.context.data[Ha],va=U.input;Ha=Wd.stamp();let ab=U.changes,xb;if(!1===Wd._trigger||!(va.value.length||qb||dd))return 0;if(!ab||ab.stamp<Ha)U.changes=ab=Wd.changeset(),ab.stamp=
Ha,Wd.runAfter(()=>{U.modified=!0;Wd.pulse(va,ab).run()},!0,1);Sb&&(Sb=!0===Sb?v.truthy:v.isArray(Sb)||db.isTuple(Sb)?Sb:Ya(Sb),ab.remove(Sb));qb&&ab.insert(qb);dd&&(Sb=Ya(dd),va.value.some(Sb)?ab.remove(Sb):ab.insert(dd));if(nd)for(xb in Nd)ab.modify(nd,xb,Nd[xb]);return 1}function S(Ha){var qb=Ha.touches;Ha=qb[0].clientX-qb[1].clientX;qb=qb[0].clientY-qb[1].clientY;return Math.sqrt(Ha*Ha+qb*qb)}function qa(Ha){Ha=Ha.touches;return Math.atan2(Ha[0].clientY-Ha[1].clientY,Ha[0].clientX-Ha[1].clientX)}
function ta(Ha){return v.isArray(Ha)||ArrayBuffer.isView(Ha)?Ha:null}function ha(Ha){return ta(Ha)||(v.isString(Ha)?Ha:null)}function P(Ha,...qb){return ta(Ha).join(...qb)}function t(Ha,...qb){return ha(Ha).indexOf(...qb)}function u(Ha,...qb){return ha(Ha).lastIndexOf(...qb)}function l(Ha,...qb){return ha(Ha).slice(...qb)}function p(Ha,qb,Sb){v.isFunction(Sb)&&v.error("Function argument passed to replace.");return String(Ha).replace(qb,Sb)}function A(Ha){return ta(Ha).slice().reverse()}function B(Ha,
qb,Sb){return pb.bandSpace(Ha||0,qb||0,Sb||0)}function E(Ha,qb){return(Ha=La(Ha,(qb||this).context))&&Ha.bandwidth?Ha.bandwidth():0}function z(Ha,qb){return(Ha=La(Ha,(qb||this).context))?Ha.copy():void 0}function aa(Ha,qb){return(Ha=La(Ha,(qb||this).context))?Ha.domain():[]}function sa(Ha,qb,Sb){return(Ha=La(Ha,(Sb||this).context))?v.isArray(qb)?(Ha.invertRange||Ha.invert)(qb):(Ha.invert||Ha.invertExtent)(qb):void 0}function fa(Ha,qb){return(Ha=La(Ha,(qb||this).context))&&Ha.range?Ha.range():[]}function Na(Ha,
qb,Sb){return(Ha=La(Ha,(Sb||this).context))?Ha(qb):void 0}function Da(Ha,qb,Sb,dd,nd){Ha=La(Ha,(nd||this).context);const Nd=Ib.Gradient(qb,Sb);qb=Ha.domain();Sb=qb[0];nd=v.peek(qb);let Wd=v.identity;nd-Sb?Wd=pb.scaleFraction(Ha,Sb,nd):Ha=(Ha.interpolator?pb.scale("sequential")().interpolator(Ha.interpolator()):pb.scale("linear")().interpolate(Ha.interpolate()).range(Ha.range())).domain([Sb=0,nd=1]);Ha.ticks&&(qb=Ha.ticks(+dd||15),Sb!==qb[0]&&qb.unshift(Sb),nd!==v.peek(qb)&&qb.push(nd));qb.forEach(U=>
Nd.stop(Wd(U),Ha(U)));return Nd}function W(Ha,qb,Sb){const dd=La(Ha,(Sb||this).context);return function(nd){return dd?dd.path.context(nd)(qb):""}}function na(Ha){let qb=null;return function(Sb){return Sb?Ib.pathRender(Sb,qb=qb||Ib.pathParse(Ha)):Ha}}function $a(Ha,qb){Ha=Pa.call(qb,Ha);return Ha.root&&Ha.root.lookup||{}}function sb(Ha,qb,Sb){Ha=$a(Ha,this);qb=Ha[qb];Sb=Ha[Sb];return qb&&Sb?qb.path(Sb).map(Nc):void 0}function Db(Ha,qb){return(Ha=$a(Ha,this)[qb])?Ha.ancestors().map(Nc):void 0}function Xb(){const Ha=
"undefined"!==typeof window&&window||null;return Ha?Ha.screen:{}}function vc(){const Ha="undefined"!==typeof window&&window||null;return Ha?[Ha.innerWidth,Ha.innerHeight]:[void 0,void 0]}function Vc(){var Ha=this.context.dataflow;return(Ha=Ha.container&&Ha.container())?[Ha.clientWidth,Ha.clientHeight]:[void 0,void 0]}function tc(Ha){let qb=null;if(Ha){const Sb=v.array(Ha.marktype),dd=v.array(Ha.markname);qb=nd=>(!Sb.length||Sb.some(Nd=>nd.marktype===Nd))&&(!dd.length||dd.some(Nd=>nd.name===Nd))}return qb}
function Hc(Ha,qb,Sb){if(1===arguments.length)return ud[Ha];ud[Ha]=qb;Sb&&(Zc[Ha]=Sb);Pd&&(Pd.functions[Ha]="this."+Ha);return this}var Ma=Ha=>function(qb,Sb){return this.context.dataflow.locale()[Ha](Sb)(qb)};const ec=Ma("format"),cc=Ma("timeFormat"),nc=Ma("utcFormat"),Ec=Ma("timeParse");Ma=Ma("utcParse");const jc=new Date(2E3,0,1),Mc=fb("area",Qa.geoArea),Rc=fb("bounds",Qa.geoBounds);Qa=fb("centroid",Qa.geoCentroid);const Nc=Ha=>Ha.data,ud={random(){return Va.random()},cumulativeNormal:Va.cumulativeNormal,
cumulativeLogNormal:Va.cumulativeLogNormal,cumulativeUniform:Va.cumulativeUniform,densityNormal:Va.densityNormal,densityLogNormal:Va.densityLogNormal,densityUniform:Va.densityUniform,quantileNormal:Va.quantileNormal,quantileLogNormal:Va.quantileLogNormal,quantileUniform:Va.quantileUniform,sampleNormal:Va.sampleNormal,sampleLogNormal:Va.sampleLogNormal,sampleUniform:Va.sampleUniform,isArray:v.isArray,isBoolean:v.isBoolean,isDate:v.isDate,isDefined(Ha){return void 0!==Ha},isNumber:v.isNumber,isObject:v.isObject,
isRegExp:v.isRegExp,isString:v.isString,isTuple:db.isTuple,isValid(Ha){return null!=Ha&&Ha===Ha},toBoolean:v.toBoolean,toDate:v.toDate,toNumber:v.toNumber,toString:v.toString,indexof:t,join:P,lastindexof:u,replace:p,reverse:A,slice:l,flush:v.flush,lerp:v.lerp,merge:ka,pad:v.pad,peek:v.peek,span:v.span,inrange:v.inrange,truncate:v.truncate,rgb:Qb.rgb,lab:Qb.lab,hcl:Qb.hcl,hsl:Qb.hsl,luminance:O,contrast:K,sequence:mb.range,format:ec,utcFormat:nc,utcParse:Ma,utcOffset:nb.utcOffset,utcSequence:nb.utcSequence,
timeFormat:cc,timeParse:Ec,timeOffset:nb.timeOffset,timeSequence:nb.timeSequence,timeUnitSpecifier:nb.timeUnitSpecifier,monthFormat:za,monthAbbrevFormat:Ea,dayFormat:gb,dayAbbrevFormat:xa,quarter:v.quarter,utcquarter:v.utcquarter,week:nb.week,utcweek:nb.utcweek,dayofyear:nb.dayofyear,utcdayofyear:nb.utcdayofyear,warn:Xa,info:Q,debug:x,extent:v.extent,inScope:Wa,intersect:function(Ha,qb,Sb){if(!Ha)return[];const [dd,nd]=Ha;Ha=(new Ib.Bounds).set(dd[0],dd[1],nd[0],nd[1]);Sb=Sb||this.context.dataflow.scenegraph().root;
return Ib.intersect(Sb,Ha,tc(qb))},clampRange:v.clampRange,pinchDistance:S,pinchAngle:qa,screen:Xb,containerSize:Vc,windowSize:vc,bandspace:B,setdata:Ca,pathShape:na,panLinear:v.panLinear,panLog:v.panLog,panPow:v.panPow,panSymlog:v.panSymlog,zoomLinear:v.zoomLinear,zoomLog:v.zoomLog,zoomPow:v.zoomPow,zoomSymlog:v.zoomSymlog,encode:Sa,modify:Za},ce="view item group xy x y".split(" "),Zc={},ed={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:Ha=>`_[${v.stringValue("$"+Ha)}]`,
functions:function(Ha){const qb=Y.functions(Ha);ce.forEach(Sb=>qb[Sb]="event.vega."+Sb);for(const Sb in ud)qb[Sb]="this."+Sb;v.extend(qb,Ra(Ha,ud,Zc));return qb},constants:Y.constants,visitors:Zc},Pd=Y.codegen(ed);Hc("bandwidth",E,da);Hc("copy",z,da);Hc("domain",aa,da);Hc("range",fa,da);Hc("invert",sa,da);Hc("scale",Na,da);Hc("gradient",Da,da);Hc("geoArea",Mc,da);Hc("geoBounds",Rc,da);Hc("geoCentroid",Qa,da);Hc("geoShape",W,da);Hc("indata",Ba,Ja);Hc("data",Pa,Ua);Hc("treePath",sb,Ua);Hc("treeAncestors",
Db,Ua);Hc("vlSelectionTest",Ab.selectionTest,Ab.selectionVisitor);Hc("vlSelectionResolve",Ab.selectionResolve,Ab.selectionVisitor);n.DataPrefix=":";n.IndexPrefix="@";n.ScalePrefix="%";n.SignalPrefix="$";n.bandspace=B;n.bandwidth=E;n.codeGenerator=Pd;n.codegenParams=ed;n.containerSize=Vc;n.contrast=K;n.copy=z;n.data=Pa;n.dataVisitor=Ua;n.dayAbbrevFormat=xa;n.dayFormat=gb;n.debug=x;n.domain=aa;n.encode=Sa;n.expressionFunction=Hc;n.format=ec;n.functionContext=ud;n.geoArea=Mc;n.geoBounds=Rc;n.geoCentroid=
Qa;n.geoShape=W;n.inScope=Wa;n.indata=Ba;n.indataVisitor=Ja;n.indexof=t;n.info=Q;n.invert=sa;n.join=P;n.lastindexof=u;n.luminance=O;n.merge=ka;n.modify=Za;n.monthAbbrevFormat=Ea;n.monthFormat=za;n.parseExpression=function(Ha,qb){const Sb={};let dd;try{Ha=v.isString(Ha)?Ha:v.stringValue(Ha)+"",dd=Y.parse(Ha)}catch(nd){v.error("Expression parse error: "+Ha)}dd.visit(nd=>{if(nd.type===Y.CallExpression){var Nd=nd.callee.name,Wd=ed.visitors[Nd];Wd&&Wd(Nd,nd.arguments,qb,Sb)}});Ha=Pd(dd);Ha.globals.forEach(nd=>
{const Nd="$"+nd;!v.hasOwnProperty(Sb,Nd)&&qb.getSignal(nd)&&(Sb[Nd]=qb.signalRef(nd))});return{$expr:v.extend({code:Ha.code},qb.options.ast?{ast:dd}:null),$fields:Ha.fields,$params:Sb}};n.pathShape=na;n.pinchAngle=qa;n.pinchDistance=S;n.range=fa;n.replace=p;n.reverse=A;n.scale=Na;n.scaleGradient=Da;n.scaleVisitor=da;n.screen=Xb;n.setdata=Ca;n.slice=l;n.timeFormat=cc;n.timeParse=Ec;n.treeAncestors=Db;n.treePath=sb;n.utcFormat=nc;n.utcParse=Ma;n.warn=Xa;n.windowSize=vc;Object.defineProperty(n,"__esModule",
{value:!0})})};
shadow$provide[62]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc,Ob(17),Ob(29)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow"],v):(n="undefined"!==typeof globalThis?globalThis:n||self,v(n.vega={},n.vega,n.vega))})(this,function(n,v,Y){function Qa(Pa,Ba,Ca){";"!==Ca[Ca.length-1]&&(Ca="return("+Ca+");");Ba=Function(...Ba.concat(Ca));return Pa&&Pa.functions?Ba.bind(Pa.functions):Ba}function Qb(Pa,Ba,Ca){if(!Pa||!v.isObject(Pa))return Pa;
for(let Sa=0,kb=nb.length,za;Sa<kb;++Sa)if(za=nb[Sa],v.hasOwnProperty(Pa,za.key))return za.parse(Pa,Ba,Ca);return Pa}function db(Pa,Ba,Ca,Sa){this.dataflow=Pa;this.transforms=Ba;this.events=Pa.events.bind(Pa);this.expr=Sa||Va;this.signals={};this.scales={};this.nodes={};this.data={};this.fn={};Ca&&(this.functions=Object.create(Ca),this.functions.context=this)}function pb(Pa){this.dataflow=Pa.dataflow;this.transforms=Pa.transforms;this.events=Pa.events;this.expr=Pa.expr;this.signals=Object.create(Pa.signals);
this.scales=Object.create(Pa.scales);this.nodes=Object.create(Pa.nodes);this.data=Object.create(Pa.data);this.fn=Object.create(Pa.fn);Pa.functions&&(this.functions=Object.create(Pa.functions),this.functions.context=this)}const Ib=v.toSet(["rule"]),Ab=v.toSet(["group","image","rect"]);var Va={operator:(Pa,Ba)=>Qa(Pa,["_"],Ba.code),parameter:(Pa,Ba)=>Qa(Pa,["datum","_"],Ba.code),event:(Pa,Ba)=>Qa(Pa,["event"],Ba.code),handler:(Pa,Ba)=>Qa(Pa,["_","event"],`var datum=event.item&&event.item.datum;return ${Ba.code};`),
encode:(Pa,Ba)=>{const {marktype:Ca,channels:Sa}=Ba;Ba="var o\x3ditem,datum\x3do.datum,m\x3d0,$;";for(var kb in Sa){const za="o["+v.stringValue(kb)+"]";Ba+=`$=${Sa[kb].code};if(${za}!==$)${za}=$,m=1;`}kb="";Ib[Ca]||(Sa.x2&&(Sa.x?(Ab[Ca]&&(kb+="if(o.x\x3eo.x2)$\x3do.x,o.x\x3do.x2,o.x2\x3d$;"),kb+="o.width\x3do.x2-o.x;"):kb+="o.x\x3do.x2-(o.width||0);"),Sa.xc&&(kb+="o.x\x3do.xc-(o.width||0)/2;"),Sa.y2&&(Sa.y?(Ab[Ca]&&(kb+="if(o.y\x3eo.y2)$\x3do.y,o.y\x3do.y2,o.y2\x3d$;"),kb+="o.height\x3do.y2-o.y;"):
kb+="o.y\x3do.y2-(o.height||0);"),Sa.yc&&(kb+="o.y\x3do.yc-(o.height||0)/2;"));Ba+=kb;return Qa(Pa,["item","_"],Ba+"return m;")},codegen:{get(Pa){Pa=`[${Pa.map(v.stringValue).join("][")}]`;const Ba=Function("_",`return _${Pa};`);Ba.path=Pa;return Ba},comparator(Pa,Ba){let Ca;Pa=Function("a","b","var u, v; return "+Pa.map((Sa,kb)=>{const za=Ba[kb];let Ea;Sa.path?(Ea=`a${Sa.path}`,Sa=`b${Sa.path}`):((Ca=Ca||{})["f"+kb]=Sa,Ea=`this.f${kb}(a)`,Sa=`this.f${kb}(b)`);kb=-za;return`((u = ${Ea}) < (v = ${Sa}) || u == null) && v != null ? ${kb}
  : (u > v || v == null) && u != null ? ${za}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${kb}
  : v !== v && u === u ? ${za} : `}).join("")+"0;");return Ca?Pa.bind(Ca):Pa}}},nb=[{key:"$ref",parse:function(Pa,Ba){return Ba.get(Pa.$ref)||v.error("Operator not defined: "+Pa.$ref)}},{key:"$key",parse:function(Pa,Ba){const Ca="k:"+Pa.$key+"_"+!!Pa.$flat;return Ba.fn[Ca]||(Ba.fn[Ca]=v.key(Pa.$key,Pa.$flat,Ba.expr.codegen))}},{key:"$expr",parse:function(Pa,Ba,Ca){Pa.$params&&Ba.parseParameters(Pa.$params,Ca);Ca="e:"+Pa.$expr.code+"_"+Pa.$name;return Ba.fn[Ca]||(Ba.fn[Ca]=v.accessor(Ba.parameterExpression(Pa.$expr),
Pa.$fields,Pa.$name))}},{key:"$field",parse:function(Pa,Ba){if(!Pa.$field)return null;const Ca="f:"+Pa.$field+"_"+Pa.$name;return Ba.fn[Ca]||(Ba.fn[Ca]=v.field(Pa.$field,Pa.$name,Ba.expr.codegen))}},{key:"$encode",parse:function(Pa,Ba){Pa=Pa.$encode;const Ca={};for(const Sa in Pa){const kb=Pa[Sa];Ca[Sa]=v.accessor(Ba.encodeExpression(kb.$expr),kb.$fields);Ca[Sa].output=kb.$output}return Ca}},{key:"$compare",parse:function(Pa,Ba){const Ca="c:"+Pa.$compare+"_"+Pa.$order,Sa=v.array(Pa.$compare).map(kb=>
kb&&kb.$tupleid?Y.tupleid:kb);return Ba.fn[Ca]||(Ba.fn[Ca]=v.compare(Sa,Pa.$order,Ba.expr.codegen))}},{key:"$context",parse:function(Pa,Ba){return Ba}},{key:"$subflow",parse:function(Pa,Ba){const Ca=Pa.$subflow;return function(Sa,kb,za){const Ea=Ba.fork().parse(Ca);Sa=Ea.get(Ca.operators[0].id);(kb=Ea.signals.parent)&&kb.set(za);Sa.detachSubflow=()=>Ba.detach(Ea);return Sa}}},{key:"$tupleid",parse:function(){return Y.tupleid}}];const mb={skip:!0};db.prototype=pb.prototype={fork(){const Pa=new pb(this);
(this.subcontext||(this.subcontext=[])).push(Pa);return Pa},detach(Pa){this.subcontext=this.subcontext.filter(Ca=>Ca!==Pa);const Ba=Object.keys(Pa.nodes);for(const Ca of Ba)Pa.nodes[Ca]._targets=null;for(const Ca of Ba)Pa.nodes[Ca].detach();Pa.nodes=null},get(Pa){return this.nodes[Pa]},set(Pa,Ba){return this.nodes[Pa]=Ba},add(Pa,Ba){const Ca=this,Sa=Ca.dataflow,kb=Pa.value;Ca.set(Pa.id,Ba);"collect"===(Pa.type+"").toLowerCase()&&kb&&(kb.$ingest?Sa.ingest(Ba,kb.$ingest,kb.$format):kb.$request?Sa.preload(Ba,
kb.$request,kb.$format):Sa.pulse(Ba,Sa.changeset().insert(kb)));Pa.root&&(Ca.root=Ba);if(Pa.parent){let za=Ca.get(Pa.parent.$ref);za?(Sa.connect(za,[Ba]),Ba.targets().add(za)):(Ca.unresolved=Ca.unresolved||[]).push(()=>{za=Ca.get(Pa.parent.$ref);Sa.connect(za,[Ba]);Ba.targets().add(za)})}Pa.signal&&(Ca.signals[Pa.signal]=Ba);Pa.scale&&(Ca.scales[Pa.scale]=Ba);if(Pa.data)for(const za in Pa.data){const Ea=Ca.data[za]||(Ca.data[za]={});Pa.data[za].forEach(gb=>Ea[gb]=Ba)}},resolve(){(this.unresolved||
[]).forEach(Pa=>Pa());delete this.unresolved;return this},operator(Pa,Ba){this.add(Pa,this.dataflow.add(Pa.value,Ba))},transform(Pa,Ba){this.add(Pa,this.dataflow.add(this.transforms[(Ba+"").toLowerCase()]))},stream(Pa,Ba){this.set(Pa.id,Ba)},update(Pa,Ba,Ca,Sa,kb){this.dataflow.on(Ba,Ca,Sa,kb,Pa.options)},operatorExpression(Pa){return this.expr.operator(this,Pa)},parameterExpression(Pa){return this.expr.parameter(this,Pa)},eventExpression(Pa){return this.expr.event(this,Pa)},handlerExpression(Pa){return this.expr.handler(this,
Pa)},encodeExpression(Pa){return this.expr.encode(this,Pa)},parse:function(Pa){const Ba=this,Ca=Pa.operators||[];Pa.background&&(Ba.background=Pa.background);Pa.eventConfig&&(Ba.eventConfig=Pa.eventConfig);Pa.locale&&(Ba.locale=Pa.locale);Ca.forEach(Sa=>Ba.parseOperator(Sa));Ca.forEach(Sa=>Ba.parseOperatorParameters(Sa));(Pa.streams||[]).forEach(Sa=>Ba.parseStream(Sa));(Pa.updates||[]).forEach(Sa=>Ba.parseUpdate(Sa));return Ba.resolve()},parseOperator:function(Pa){"operator"!==(Pa.type+"").toLowerCase()&&
Pa.type?this.transform(Pa,Pa.type):this.operator(Pa,Pa.update?this.operatorExpression(Pa.update):null)},parseOperatorParameters:function(Pa){if(Pa.params){const Ba=this.get(Pa.id);Ba||v.error("Invalid operator id: "+Pa.id);this.dataflow.connect(Ba,Ba.parameters(this.parseParameters(Pa.params),Pa.react,Pa.initonly))}},parseParameters:function(Pa,Ba){Ba=Ba||{};const Ca=this;for(const Sa in Pa){const kb=Pa[Sa];Ba[Sa]=v.isArray(kb)?kb.map(za=>Qb(za,Ca,Ba)):Qb(kb,Ca,Ba)}return Ba},parseStream:function(Pa){var Ba=
this,Ca=null!=Pa.filter?Ba.eventExpression(Pa.filter):void 0,Sa=null!=Pa.stream?Ba.get(Pa.stream):void 0;if(Pa.source)Sa=Ba.events(Pa.source,Pa.type,Ca);else if(Pa.merge){var kb=Pa.merge.map(za=>Ba.get(za));Sa=kb[0].merge.apply(kb[0],kb.slice(1))}Pa.between&&(kb=Pa.between.map(za=>Ba.get(za)),Sa=Sa.between(kb[0],kb[1]));Pa.filter&&(Sa=Sa.filter(Ca));null!=Pa.throttle&&(Sa=Sa.throttle(+Pa.throttle));null!=Pa.debounce&&(Sa=Sa.debounce(+Pa.debounce));null==Sa&&v.error("Invalid stream definition: "+JSON.stringify(Pa));
Pa.consume&&Sa.consume(!0);Ba.stream(Pa,Sa)},parseUpdate:function(Pa){var Ba=v.isObject(Ba=Pa.source)?Ba.$ref:Ba;Ba=this.get(Ba);var Ca=Pa.update,Sa=void 0;Ba||v.error("Source not defined: "+Pa.source);var kb=Pa.target&&Pa.target.$expr?this.eventExpression(Pa.target.$expr):this.get(Pa.target);Ca&&Ca.$expr&&(Ca.$params&&(Sa=this.parseParameters(Ca.$params)),Ca=this.handlerExpression(Ca.$expr));this.update(Pa,Ba,kb,Ca,Sa)},getState:function(Pa){var Ba=this,Ca={};if(Pa.signals){var Sa=Ca.signals={};
Object.keys(Ba.signals).forEach(za=>{const Ea=Ba.signals[za];Pa.signals(za,Ea)&&(Sa[za]=Ea.value)})}if(Pa.data){var kb=Ca.data={};Object.keys(Ba.data).forEach(za=>{const Ea=Ba.data[za];Pa.data(za,Ea)&&(kb[za]=Ea.input.value)})}Ba.subcontext&&!1!==Pa.recurse&&(Ca.subcontext=Ba.subcontext.map(za=>za.getState(Pa)));return Ca},setState:function(Pa){var Ba=this,Ca=Ba.dataflow,Sa=Pa.data,kb=Pa.signals;Object.keys(kb||{}).forEach(za=>{Ca.update(Ba.signals[za],kb[za],mb)});Object.keys(Sa||{}).forEach(za=>
{Ca.pulse(Ba.data[za].input,Ca.changeset().remove(v.truthy).insert(Sa[za]))});(Pa.subcontext||[]).forEach((za,Ea)=>{(Ea=Ba.subcontext[Ea])&&Ea.setState(za)})}};n.context=function(Pa,Ba,Ca,Sa){return new db(Pa,Ba,Ca,Sa)};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[63]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc,Ob(17),Ob(29),Ob(39),Ob(18),Ob(61),Ob(62),Ob(48),Ob(23)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-scenegraph d3-array vega-functions vega-runtime d3-timer vega-format".split(" "),v):(n="undefined"!==typeof globalThis?globalThis:n||self,v(n.vega={},n.vega,n.vega,n.vega,n.d3,n.vega,n.vega,n.d3,n.vega))})(this,function(n,v,Y,Qa,Qb,db,pb,Ib,Ab){function Va(W){const na=
W.container();na&&(na.setAttribute("role","graphics-document"),na.setAttribute("aria-roleDescription","visualization"),nb(na,W.description()))}function nb(W,na){W&&(null==na?W.removeAttribute("aria-label"):W.setAttribute("aria-label",na))}function mb(W){W.add(null,na=>{W._background=na.bg;W._resize=1;return na.bg},{bg:W._signals.background})}function Pa(W){const na=W._signals.cursor||(W._signals.cursor=W.add({user:"default",item:null}));W.on(W.events("view","mousemove"),na,($a,sb)=>{const Db=($a=
na.value)?v.isString($a)?$a:$a.user:"default";sb=sb.item&&sb.item.cursor||null;return $a&&Db===$a.user&&sb==$a.item?$a:{user:Db,item:sb}});W.add(null,function($a){$a=$a.cursor;let sb=this.value;v.isString($a)||(sb=$a.item,$a=$a.user);Ba(W,$a&&"default"!==$a?$a:sb||$a);return sb},{cursor:na})}function Ba(W,na){if(W=W.globalCursor()?"undefined"!==typeof document&&document.body:W.container())return null==na?W.style.removeProperty("cursor"):W.style.cursor=na}function Ca(W,na){W=W._runtime.data;v.hasOwnProperty(W,
na)||v.error("Unrecognized data set: "+na);return W[na]}function Sa(W,na){Y.isChangeSet(na)||v.error("Second argument to changes must be a changeset.");W=Ca(this,W);W.modified=!0;return this.pulse(W.input,na)}function kb(W){var na=W.padding();return Math.max(0,W._viewWidth+na.left+na.right)}function za(W){var na=W.padding();return Math.max(0,W._viewHeight+na.top+na.bottom)}function Ea(W){var na=W.padding();W=W._origin;return[na.left+W[0],na.top+W[1]]}function gb(W){var na=Ea(W),$a=kb(W),sb=za(W);
W._renderer.background(W.background());W._renderer.resize($a,sb,na);W._handler.origin(na);W._resizeListeners.forEach(Db=>{try{Db($a,sb)}catch(Xb){W.error(Xb)}})}function xa(W,na,$a){var sb=W._renderer;sb=sb&&sb.canvas();if(sb){var Db=Ea(W);var Xb=na.changedTouches?na.changedTouches[0]:na;Xb=Qa.point(Xb,sb);Xb[0]-=Db[0];Xb[1]-=Db[1]}na.dataflow=W;na.item=$a;na.vega=Ua(W,$a,Xb);return na}function Ua(W,na,$a){function sb(vc){var Vc=Xb,tc;if(vc)for(tc=na;tc;tc=tc.mark.group)if(tc.mark.name===vc){Vc=tc;
break}return Vc&&Vc.mark&&Vc.mark.interactive?Vc:{}}function Db(vc){if(!vc)return $a;v.isString(vc)&&(vc=sb(vc));const Vc=$a.slice();for(;vc;)Vc[0]-=vc.x||0,Vc[1]-=vc.y||0,vc=vc.mark&&vc.mark.group;return Vc}const Xb=na?"group"===na.mark.marktype?na:na.mark.group:null;return{view:v.constant(W),item:v.constant(na||{}),group:sb,xy:Db,x:vc=>Db(vc)[0],y:vc=>Db(vc)[1]}}function Ja(W){W=v.extend({defaults:{}},W);const na=($a,sb)=>{sb.forEach(Db=>{v.isArray($a[Db])&&($a[Db]=v.toSet($a[Db]))})};na(W.defaults,
["prevent","allow"]);na(W,["view","window","selector"]);return W}function da(W,na,$a){const sb=W._eventConfig&&W._eventConfig[na];return!1===sb||v.isObject(sb)&&!sb[$a]?(W.warn(`Blocked ${na} ${$a} event listener.`),!1):!0}function wa(W){return W.item}function La(W){return W.item.mark.source}function Ra(W){return function(na,$a){return $a.vega.view().changeset().encode($a.item,W)}}function fb(W,na,$a){W=document.createElement(W);for(const sb in na)W.setAttribute(sb,na[sb]);null!=$a&&(W.textContent=
$a);return W}function Wa(W,na,$a){if(na){var sb=$a.param,Db=$a.state;Db||(Db=$a.state={elements:null,active:!1,set:null,update:Xb=>{Xb!==W.signal(sb.signal)&&W.runAsync(null,()=>{Db.source=!0;W.signal(sb.signal,Xb)})}},sb.debounce&&(Db.update=v.debounce(sb.debounce,Db.update)));jb(Db,na,sb,W.signal(sb.signal));Db.active||(W.on(W._signals[sb.signal],null,()=>{Db.source?Db.source=!1:Db.set(W.signal(sb.signal))}),Db.active=!0);return Db}}function jb(W,na,$a,sb){const Db=fb("div",{"class":"vega-bind"}),
Xb="radio"===$a.input?Db:Db.appendChild(fb("label"));Xb.appendChild(fb("span",{"class":"vega-bind-name"},$a.name||$a.signal));na.appendChild(Db);na=Xa;switch($a.input){case "checkbox":na=Q;break;case "select":na=x;break;case "radio":na=F;break;case "range":na=O}na(W,Xb,$a,sb)}function Xa(W,na,$a,sb){const Db=fb("input");for(const Xb in $a)"signal"!==Xb&&"element"!==Xb&&Db.setAttribute("input"===Xb?"type":Xb,$a[Xb]);Db.setAttribute("name",$a.signal);Db.value=sb;na.appendChild(Db);Db.addEventListener("input",
()=>W.update(Db.value));W.elements=[Db];W.set=Xb=>Db.value=Xb}function Q(W,na,$a,sb){$a={type:"checkbox",name:$a.signal};sb&&($a.checked=!0);const Db=fb("input",$a);na.appendChild(Db);Db.addEventListener("change",()=>W.update(Db.checked));W.elements=[Db];W.set=Xb=>Db.checked=!!Xb||null}function x(W,na,$a,sb){const Db=fb("select",{name:$a.signal}),Xb=$a.labels||[];$a.options.forEach((vc,Vc)=>{const tc={value:vc};K(vc,sb)&&(tc.selected=!0);Db.appendChild(fb("option",tc,(Xb[Vc]||vc)+""))});na.appendChild(Db);
Db.addEventListener("change",()=>{W.update($a.options[Db.selectedIndex])});W.elements=[Db];W.set=vc=>{for(let Vc=0,tc=$a.options.length;Vc<tc;++Vc)if(K($a.options[Vc],vc)){Db.selectedIndex=Vc;break}}}function F(W,na,$a,sb){const Db=fb("span",{"class":"vega-bind-radio"}),Xb=$a.labels||[];na.appendChild(Db);W.elements=$a.options.map((vc,Vc)=>{var tc={type:"radio",name:$a.signal,value:vc};K(vc,sb)&&(tc.checked=!0);tc=fb("input",tc);tc.addEventListener("change",()=>W.update(vc));Vc=fb("label",{},(Xb[Vc]||
vc)+"");Vc.prepend(tc);Db.appendChild(Vc);return tc});W.set=vc=>{const Vc=W.elements,tc=Vc.length;for(let Hc=0;Hc<tc;++Hc)K(Vc[Hc].value,vc)&&(Vc[Hc].checked=!0)}}function O(W,na,$a,sb){sb=void 0!==sb?sb:(+$a.max+ +$a.min)/2;const Db=null!=$a.max?$a.max:Math.max(100,+sb)||100,Xb=$a.min||Math.min(0,Db,+sb)||0,vc=$a.step||Qb.tickStep(Xb,Db,100),Vc=fb("input",{type:"range",name:$a.signal,min:Xb,max:Db,step:vc});Vc.value=sb;const tc=fb("span",{},+sb);na.appendChild(Vc);na.appendChild(tc);na=()=>{tc.textContent=
Vc.value;W.update(+Vc.value)};Vc.addEventListener("input",na);Vc.addEventListener("change",na);W.elements=[Vc];W.set=Hc=>{Vc.value=Hc;tc.textContent=Hc}}function K(W,na){return W===na||W+""===na+""}function ka(W,na,$a,sb,Db,Xb){na=na||new sb(W.loader());return na.initialize($a,kb(W),za(W),Ea(W),Db,Xb).background(W.background())}function ia(W,na){return na?function(){try{na.apply(this,arguments)}catch($a){W.error($a)}}:null}function ma(W,na,$a,sb){const Db=(new sb(W.loader(),ia(W,W.tooltip()))).scene(W.scenegraph().root).initialize($a,
Ea(W),W);na&&na.handlers().forEach(Xb=>{Db.on(Xb.type,Xb.handler)});return Db}function Ya(W,na){if("string"===typeof na)if("undefined"!==typeof document){if(na=document.querySelector(na),!na)return W.error("Signal bind element not found: "+na),null}else return W.error("DOM document instance not found."),null;if(na)try{na.innerHTML=""}catch($a){na=null,W.error($a)}return na}function Za(W){v.isObject(W)?W={top:+W.top||0,bottom:+W.bottom||0,left:+W.left||0,right:+W.right||0}:(W=+W||0,W={top:W,bottom:W,
left:W,right:W});return W}function S(W,na,$a,sb){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var Db=Qa.renderModule(na);(Db=Db&&Db.headless)||v.error("Unrecognized renderer type: "+na);yield W.runAsync();return ka(W,null,null,Db,$a,sb).renderAsync(W._scenegraph.root)})}function qa(W,na,$a){return pb.context(W,Y.transforms,db.functionContext,$a).parse(na)}function ta(W,na){var $a=W.autosize();W=W.padding();return na-($a&&"padding"===$a.contains?W.left+W.right:0)}function ha(W,na){var $a=
W.autosize();W=W.padding();return na-($a&&"padding"===$a.contains?W.top+W.bottom:0)}function P(W){function na(){W._autosize=W._resize=1}var $a=W._signals,sb=$a.width,Db=$a.height;$a=$a.padding;W._resizeWidth=W.add(null,vc=>{W._width=vc.size;W._viewWidth=ta(W,vc.size);na()},{size:sb});W._resizeHeight=W.add(null,vc=>{W._height=vc.size;W._viewHeight=ha(W,vc.size);na()},{size:Db});const Xb=W.add(null,na,{pad:$a});W._resizeWidth.rank=sb.rank+1;W._resizeHeight.rank=Db.rank+1;Xb.rank=$a.rank+1}function t(W,
na){return na.modified&&v.isArray(na.input.value)&&W.indexOf("_:vega:_")}function u(W,na){return!("parent"===W||na instanceof Y.transforms.proxy)}function l(W,na,$a,sb){(W=W.element())&&W.setAttribute("title",p(sb))}function p(W){return null==W?"":v.isArray(W)?"["+W.map(B).join(", ")+"]":v.isObject(W)&&!v.isDate(W)?A(W):W+""}function A(W){return Object.keys(W).map(na=>{const $a=W[na];return na+": "+(v.isArray($a)?"["+$a.map(B).join(", ")+"]":B($a))}).join("\n")}function B(W){return v.isArray(W)?"[]":
v.isObject(W)&&!v.isDate(W)?"{}":W}function E(W,na){na=na||{};Y.Dataflow.call(this);na.loader&&this.loader(na.loader);na.logger&&this.logger(na.logger);null!=na.logLevel&&this.logLevel(na.logLevel);if(na.locale||W.locale){var $a=v.extend({},W.locale,na.locale);this.locale(Ab.locale($a.number,$a.time))}this._elBind=this._el=null;this._renderType=na.renderer||Qa.RenderType.Canvas;this._scenegraph=new Qa.Scenegraph;$a=this._scenegraph.root;this._renderer=null;this._tooltip=na.tooltip||l;this._redraw=
!0;this._handler=(new Qa.CanvasHandler).scene($a);this._preventDefault=this._globalCursor=!1;this._timers=[];this._eventListeners=[];this._resizeListeners=[];this._eventConfig=Ja(W.eventConfig);this.globalCursor(this._eventConfig.globalCursor);const sb=qa(this,W,na.expr);this._runtime=sb;this._signals=sb.signals;this._bind=(W.bindings||[]).map(Db=>({state:null,param:v.extend({},Db)}));sb.root&&sb.root.set($a);$a.source=sb.data.root.input;this.pulse(sb.data.root.input,this.changeset().insert($a.items));
this._width=this.width();this._height=this.height();this._viewWidth=ta(this,this._width);this._viewHeight=ha(this,this._height);this._origin=[0,0];this._resize=0;this._autosize=1;P(this);mb(this);Pa(this);this.description(W.description);na.hover&&this.hover();na.container&&this.initialize(na.container,na.bind)}function z(W,na){return v.hasOwnProperty(W._signals,na)?W._signals[na]:v.error("Unrecognized signal name: "+v.stringValue(na))}function aa(W,na){W=(W._targets||[]).filter($a=>$a._update&&$a._update.handler===
na);return W.length?W[0]:null}function sa(W,na,$a,sb){let Db=aa($a,sb);Db||(Db=ia(W,()=>sb(na,$a.value)),Db.handler=sb,W.on($a,null,Db));return W}function fa(W,na,$a){($a=aa(na,$a))&&na._targets.remove($a);return W}const Na={trap:!1};var Da={skip:!0};v.inherits(E,Y.Dataflow,{evaluate(W,na,$a){const sb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield Y.Dataflow.prototype.evaluate.call(sb,W,na);if(sb._redraw||sb._resize)try{sb._renderer&&(sb._resize&&(sb._resize=0,gb(sb)),
yield sb._renderer.renderAsync(sb._scenegraph.root)),sb._redraw=!1}catch(Db){sb.error(Db)}$a&&Y.asyncCallback(sb,$a);return sb})},dirty(W){this._redraw=!0;this._renderer&&this._renderer.dirty(W)},description(W){if(arguments.length){const na=null!=W?W+"":null;na!==this._desc&&nb(this._el,this._desc=na);return this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(W,na,$a){const sb=z(this,W);return 1===arguments.length?
sb.value:this.update(sb,na,$a)},width(W){return arguments.length?this.signal("width",W):this.signal("width")},height(W){return arguments.length?this.signal("height",W):this.signal("height")},padding(W){return arguments.length?this.signal("padding",Za(W)):Za(this.signal("padding"))},autosize(W){return arguments.length?this.signal("autosize",W):this.signal("autosize")},background(W){return arguments.length?this.signal("background",W):this.signal("background")},renderer(W){if(!arguments.length)return this._renderType;
Qa.renderModule(W)||v.error("Unrecognized renderer type: "+W);W!==this._renderType&&(this._renderType=W,this._resetRenderer());return this},tooltip(W){if(!arguments.length)return this._tooltip;W!==this._tooltip&&(this._tooltip=W,this._resetRenderer());return this},loader(W){if(!arguments.length)return this._loader;W!==this._loader&&(Y.Dataflow.prototype.loader.call(this,W),this._resetRenderer());return this},resize(){this._autosize=1;return this.touch(z(this,"autosize"))},_resetRenderer(){this._renderer&&
(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(W,na,$a,sb,Db,Xb){this.runAfter(vc=>{let Vc=0;vc._autosize=0;vc.width()!==$a&&(Vc=1,vc.signal("width",$a,Da),vc._resizeWidth.skip(!0));vc.height()!==sb&&(Vc=1,vc.signal("height",sb,Da),vc._resizeHeight.skip(!0));vc._viewWidth!==W&&(vc._resize=1,vc._viewWidth=W);vc._viewHeight!==na&&(vc._resize=1,vc._viewHeight=na);if(vc._origin[0]!==Db[0]||vc._origin[1]!==Db[1])vc._resize=1,vc._origin=Db;Vc&&vc.run("enter");Xb&&vc.runAfter(tc=>
tc.resize())},!1,1)},addEventListener(W,na,$a){let sb=na;$a&&!1===$a.trap||(sb=ia(this,na),sb.raw=na);this._handler.on(W,sb);return this},removeEventListener(W,na){for(var $a=this._handler.handlers(W),sb=$a.length,Db,Xb;0<=--sb;)if(Xb=$a[sb].type,Db=$a[sb].handler,W===Xb&&(na===Db||na===Db.raw)){this._handler.off(Xb,Db);break}return this},addResizeListener(W){const na=this._resizeListeners;0>na.indexOf(W)&&na.push(W);return this},removeResizeListener(W){var na=this._resizeListeners;W=na.indexOf(W);
0<=W&&na.splice(W,1);return this},addSignalListener(W,na){return sa(this,W,z(this,W),na)},removeSignalListener(W,na){return fa(this,z(this,W),na)},addDataListener(W,na){return sa(this,W,Ca(this,W).values,na)},removeDataListener(W,na){return fa(this,Ca(this,W).values,na)},globalCursor(W){if(arguments.length){if(this._globalCursor!==!!W){const na=Ba(this,null);this._globalCursor=!!W;na&&Ba(this,na)}return this}return this._globalCursor},preventDefault(W){return arguments.length?(this._preventDefault=
W,this):this._preventDefault},timer:function(W,na){this._timers.push(Ib.interval(function($a){W({timestamp:Date.now(),elapsed:$a})},na))},events:function(W,na,$a){var sb=this,Db=new Y.EventStream($a);$a=function(tc,Hc){sb.runAsync(null,()=>{var Ma;if(Ma="view"===W){var ec=sb._eventConfig.defaults;Ma=ec.prevent;ec=ec.allow;Ma=!1===Ma||!0===ec?!1:!0===Ma||!1===ec?!0:Ma?Ma[na]:ec?!ec[na]:sb.preventDefault()}Ma&&tc.preventDefault();Db.receive(xa(sb,tc,Hc))})};var Xb;if("timer"===W)da(sb,"timer",na)&&
sb.timer($a,na);else if("view"===W)da(sb,"view",na)&&sb.addEventListener(na,$a,Na);else if("window"===W?da(sb,"window",na)&&"undefined"!==typeof window&&(Xb=[window]):"undefined"!==typeof document&&da(sb,"selector",na)&&(Xb=document.querySelectorAll(W)),Xb){for(var vc=0,Vc=Xb.length;vc<Vc;++vc)Xb[vc].addEventListener(na,$a);sb._eventListeners.push({type:na,sources:Xb,handler:$a})}else sb.warn("Can not resolve event source: "+W);return Db},finalize:function(){var W=this._tooltip,na=this._timers,$a=
this._eventListeners,sb;for(sb=na.length;0<=--sb;)na[sb].stop();for(sb=$a.length;0<=--sb;){var Db=$a[sb];for(na=Db.sources.length;0<=--na;)Db.sources[na].removeEventListener(Db.type,Db.handler)}W&&W.call(this,this._handler,null,null,null);return this},hover:function(W,na){W=[W||"hover"];na=[na||"update",W[0]];this.on(this.events("view","mouseover",wa),La,Ra(W));this.on(this.events("view","mouseout",wa),La,Ra(na));return this},data:function(W,na){return 2>arguments.length?Ca(this,W).values.value:Sa.call(this,
W,Y.changeset().remove(v.truthy).insert(na))},change:Sa,insert:function(W,na){return Sa.call(this,W,Y.changeset().insert(na))},remove:function(W,na){return Sa.call(this,W,Y.changeset().remove(na))},scale:function(W){var na=this._runtime.scales;v.hasOwnProperty(na,W)||v.error("Unrecognized scale or projection: "+W);return na[W].value},initialize:function(W,na){const $a=this;var sb=$a._renderType;const Db=$a._eventConfig.bind;var Xb=Qa.renderModule(sb);W=$a._el=W?Ya($a,W):null;Va($a);Xb||$a.error("Unrecognized renderer type: "+
sb);sb=Xb.handler||Qa.CanvasHandler;Xb=W?Xb.renderer:Xb.headless;$a._renderer=Xb?ka($a,$a._renderer,W,Xb):null;$a._handler=ma($a,$a._handler,W,sb);$a._redraw=!0;W&&"none"!==Db&&(na=na?$a._elBind=Ya($a,na):W.appendChild(fb("form",{"class":"vega-bindings"})),$a._bind.forEach(vc=>{vc.param.element&&"container"!==Db&&(vc.element=Ya($a,vc.param.element))}),$a._bind.forEach(vc=>{Wa($a,vc.element||na,vc)}));return $a},toImageURL:function(W,na){const $a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){W!==
Qa.RenderType.Canvas&&W!==Qa.RenderType.SVG&&W!==Qa.RenderType.PNG&&v.error("Unrecognized image type: "+W);var sb=yield S($a,W,na);W===Qa.RenderType.SVG?(sb=sb.svg(),sb=new Blob([sb],{type:"image/svg+xml"}),sb=window.URL.createObjectURL(sb)):sb=sb.canvas().toDataURL("image/png");return sb})},toCanvas:function(W,na){const $a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield S($a,Qa.RenderType.Canvas,W,na)).canvas()})},toSVG:function(W){const na=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield S(na,
Qa.RenderType.SVG,W)).svg()})},getState:function(W){return this._runtime.getState(W||{data:t,signals:u,recurse:!0})},setState:function(W){this.runAsync(null,na=>{na._trigger=!1;na._runtime.setState(W)},na=>{na._trigger=!0});return this}});n.View=E;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[64]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc):"function"===typeof define&&define.amd?define(["exports"],v):(n="undefined"!==typeof globalThis?globalThis:n||self,v(n.vega={}))})(this,function(n){function v(Va,nb,mb,Pa,Ba){const Ca=Va.length;let Sa=0,kb;for(;nb<Ca;++nb)if(kb=Va[nb],Sa||kb!==mb)Ba&&0<=Ba.indexOf(kb)?--Sa:Pa&&0<=Pa.indexOf(kb)&&++Sa;else break;return nb}function Y(Va){const nb=[],mb=Va.length;let Pa=0,Ba=0;for(;Ba<mb;)Ba=v(Va,
Ba,",","[{","]}"),nb.push(Va.substring(Pa,Ba).trim()),Pa=++Ba;if(0===nb.length)throw"Empty event selector: "+Va;return nb}function Qa(Va){if("["===Va[0]){var nb=Va;var mb=nb.length;Va=v(nb,1,"]","[","]");if(Va===mb)throw"Empty between selector: "+nb;mb=Y(nb.substring(1,Va));if(2!==mb.length)throw"Between selector must have two elements: "+nb;nb=nb.slice(Va+1).trim();if("\x3e"!==nb[0])throw"Expected '\x3e' after between selector: "+nb;mb=mb.map(Qa);nb=Qa(nb.slice(1).trim());nb.between?nb={between:mb,
stream:nb}:nb.between=mb}else{{mb={source:Ib};const Pa=[];let Ba=[0,0],Ca=0,Sa=0,kb=Va.length,za=0,Ea;if("}"===Va[kb-1]){za=Va.lastIndexOf("{");if(0<=za){try{Ba=Qb(Va.substring(za+1,kb-1))}catch(gb){throw"Invalid throttle specification: "+Va;}Va=Va.slice(0,za).trim();kb=Va.length}else throw"Unmatched right brace: "+Va;za=0}if(!kb)throw Va;"@"===Va[0]&&(Ca=++za);Ea=v(Va,za,":");Ea<kb&&(Pa.push(Va.substring(Sa,Ea).trim()),Sa=za=++Ea);za=v(Va,za,"[");if(za===kb)Pa.push(Va.substring(Sa,kb).trim());else if(Pa.push(Va.substring(Sa,
za).trim()),nb=[],Sa=++za,Sa===kb)throw"Unmatched left bracket: "+Va;for(;za<kb;){za=v(Va,za,"]");if(za===kb)throw"Unmatched left bracket: "+Va;nb.push(Va.substring(Sa,za).trim());if(za<kb-1&&"["!==Va[++za])throw"Expected left bracket: "+Va;Sa=++za}if(!(kb=Pa.length)||db.test(Pa[kb-1]))throw"Invalid event selector: "+Va;1<kb?(mb.type=Pa[1],Ca?mb.markname=Pa[0].slice(1):Ab[Pa[0]]?mb.marktype=Pa[0]:mb.source=Pa[0]):mb.type=Pa[0];"!"===mb.type.slice(-1)&&(mb.consume=!0,mb.type=mb.type.slice(0,-1));null!=
nb&&(mb.filter=nb);Ba[0]&&(mb.throttle=Ba[0]);Ba[1]&&(mb.debounce=Ba[1]);nb=mb}}return nb}function Qb(Va){const nb=Va.split(",");if(!Va.length||2<nb.length)throw Va;return nb.map(mb=>{mb=+mb;if(mb!==mb)throw Va;return mb})}const db=/[[\]{}]/,pb={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let Ib,Ab;n.selector=function(Va,nb,mb){Ib=nb||"view";Ab=mb||pb;return Y(Va.trim()).map(Qa)};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[65]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc,Ob(17),Ob(61),Ob(64),Ob(38),Ob(29)):"function"===typeof define&&define.amd?define("exports vega-util vega-functions vega-event-selector vega-scale vega-dataflow".split(" "),v):(n="undefined"!==typeof globalThis?globalThis:n||self,v(n.vega={},n.vega,n.vega,n.vega,n.vega,n.vega))})(this,function(n,v,Y,Qa,Qb,db){function pb(H){return v.isObject(H)?H:{type:H||"pad"}}function Ib(H){v.isObject(H)?
H=H.signal?H:{top:+H.top||0,bottom:+H.bottom||0,left:+H.left||0,right:+H.right||0}:(H=+H||0,H={top:H,bottom:H,left:H,right:H});return H}function Ab(H,Z,cb,Gb){return null!=cb?(v.isObject(cb)&&!v.isArray(cb)||v.isArray(cb)&&cb.length&&v.isObject(cb[0])?H.update[Z]=cb:H[Gb||"enter"][Z]={value:cb},1):0}function Va(H,Z,cb){for(const Gb in Z)Ab(H,Gb,Z[Gb]);for(const Gb in cb)Ab(H,Gb,cb[Gb],"update")}function nb(H,Z,cb){for(const Gb in Z)cb&&v.hasOwnProperty(cb,Gb)||(H[Gb]=v.extend(H[Gb]||{},Z[Gb]));return H}
function mb(H,Z){return Z&&(Z.enter&&Z.enter[H]||Z.update&&Z.update[H])}function Pa(H,Z,cb,Gb,Hb){const Tb={},ac={};let Gc,Dc;Dc="lineBreak";"text"!==Z||null==Hb[Dc]||mb(Dc,H)||Ba(Tb,Dc,Hb[Dc]);if("legend"==cb||String(cb).startsWith("axis"))cb=null;cb="frame"===cb?Hb.group:"mark"===cb?v.extend({},Hb.mark,Hb[Z]):null;for(Dc in cb)(Z=mb(Dc,H)||("fill"===Dc||"stroke"===Dc)&&(mb("fill",H)||mb("stroke",H)))||Ba(Tb,Dc,cb[Dc]);v.array(Gb).forEach(Sc=>{Sc=Hb.style&&Hb.style[Sc];for(const gd in Sc)mb(gd,H)||
Ba(Tb,gd,Sc[gd])});H=v.extend({},H);for(Dc in Tb)cb=Tb[Dc],cb.signal?(Gc=Gc||{})[Dc]=cb:ac[Dc]=cb;H.enter=v.extend(ac,H.enter);Gc&&(H.update=v.extend(Gc,H.update));return H}function Ba(H,Z,cb){H[Z]=cb&&cb.signal?{signal:cb.signal}:{value:cb}}function Ca(H){if(null!=H.gradient)return Sa(H);if(H.signal)var Z=`(${H.signal})`;else H.color?(Z=H.color,Z=Z.c?Hd("hcl",Z.h,Z.c,Z.l):Z.h||Z.s?Hd("hsl",Z.h,Z.s,Z.l):Z.l||Z.a?Hd("lab",Z.l,Z.a,Z.b):Z.r||Z.g||Z.b?Hd("rgb",Z.r,Z.g,Z.b):null):Z=null!=H.field?za(H.field):
void 0!==H.value?v.stringValue(H.value):void 0;if(null!=H.scale){{const cb=bf(H.scale);null!=H.range?Z=`lerp(_range(${cb}), ${+H.range})`:(void 0!==Z&&(Z=`_scale(${cb}, ${Z})`),H.band&&(Z=(Z?Z+"+":"")+`_bandwidth(${cb})`+(1===+H.band?"":"*"+kb(H.band)),H.extra&&(Z=`(datum.extra ? _scale(${cb}, datum.extra.value) : ${Z})`)),null==Z&&(Z="0"))}}void 0===Z&&(Z=null);null!=H.exponent&&(Z=`pow(${Z},${kb(H.exponent)})`);null!=H.mult&&(Z+=`*${kb(H.mult)}`);null!=H.offset&&(Z+=`+${kb(H.offset)}`);H.round&&
(Z=`round(${Z})`);return Z}function Sa(H){const Z=[H.start,H.stop,H.count].map(cb=>null==cb?null:v.stringValue(cb));for(;Z.length&&null==v.peek(Z);)Z.pop();Z.unshift(bf(H.gradient));return`gradient(${Z.join(",")})`}function kb(H){return v.isObject(H)?"("+Ca(H)+")":H}function za(H){return Ea(v.isObject(H)?H:{datum:H})}function Ea(H){let Z;if(H.signal){Z="datum";var cb=H.signal}else if(H.group||H.parent){cb=Math.max(1,H.level||1);for(Z="item";0<cb--;)Z+=".mark.group";H.parent?(cb=H.parent,Z+=".datum"):
cb=H.group}else H.datum?(Z="datum",cb=H.datum):v.error("Invalid field reference: "+v.stringValue(H));H.signal||(cb=v.isString(cb)?v.splitAccessPath(cb).map(v.stringValue).join("]["):Ea(cb));return Z+"["+cb+"]"}function gb(H){let Z="";H.forEach(cb=>{const Gb=Ca(cb);Z+=cb.test?`(${cb.test})?${Gb}:`:Gb});":"===v.peek(Z)&&(Z+="null");return Z}function xa(H,Z,cb,Gb,Hb,Tb){const ac={};Tb=Tb||{};Tb.encoders={$encode:ac};H=Pa(H,Z,cb,Gb,Hb.config);for(const gd in H){{cb=H[gd];Gb=Z;var Gc=Tb,Dc=Hb;const zd=
{},Ed={};for(const pd in cb)if(null!=cb[pd]){var Sc=cb[pd];Sc=v.isArray(Sc)?gb(Sc):Ca(Sc);zd[pd]=Ua(Sc,Dc,Gc,Ed)}cb={$expr:{marktype:Gb,channels:zd},$fields:Object.keys(Ed),$output:Object.keys(cb)}}ac[gd]=cb}return Tb}function Ua(H,Z,cb,Gb){H=Y.parseExpression(H,Z);H.$fields.forEach(Hb=>Gb[Hb]=1);v.extend(cb,H.$params);return H.$expr}function Ja(H,Z){v.error(H+' for "outer" push: '+v.stringValue(Z))}function da(H,Z){const cb=H.name;if("outer"===H.push)Z.signals[cb]||Ja("No prior signal definition",
cb),fe.forEach(Gb=>{void 0!==H[Gb]&&Ja("Invalid property ",Gb)});else{const Gb=Z.addSignal(cb,H.value);!1===H.react&&(Gb.react=!1);H.bind&&Z.addBinding(cb,H.bind)}}function wa(H,Z,cb,Gb){this.id=-1;this.type=H;this.value=Z;this.params=cb;Gb&&(this.parent=Gb)}function La(H){const Z={$ref:H.id};0>H.id&&(H.refs=H.refs||[]).push(Z);return Z}function Ra(H,Z){return Z?{$field:H,$name:Z}:{$field:H}}function fb(H,Z){H={$key:H};Z&&(H.$flat=!0);return H}function Wa(H,Z){return(H&&H.signal?"$"+H.signal:H||"")+
(H&&Z?"_":"")+(Z&&Z.signal?"$"+Z.signal:Z||"")}function jb(H){return H&&H.signal}function Xa(H){if(jb(H))return!0;if(v.isObject(H))for(const Z in H)if(Xa(H[Z]))return!0;return!1}function Q(H,Z){return null!=H?H:Z}function x(H){return H&&H.signal||H}function F(H,Z){return(H.merge?K:H.stream?ka:H.type?ia:v.error("Invalid stream specification: "+v.stringValue(H)))(H,Z)}function O(H){return"scope"===H?"view":H||"view"}function K(H,Z){const cb=H.merge.map(Gb=>F(Gb,Z));H=ma({merge:cb},H,Z);return Z.addStream(H).id}
function ka(H,Z){const cb=F(H.stream,Z);H=ma({stream:cb},H,Z);return Z.addStream(H).id}function ia(H,Z){let cb;"timer"===H.type?(cb=Z.event("timer",H.throttle),H={between:H.between,filter:H.filter}):cb=Z.event(O(H.source),H.type);H=ma({stream:cb},H,Z);return 1===Object.keys(H).length?cb:Z.addStream(H).id}function ma(H,Z,cb){let Gb=Z.between;Gb&&(2!==Gb.length&&v.error('Stream "between" parameter must have 2 entries: '+v.stringValue(Z)),H.between=[F(Gb[0],cb),F(Gb[1],cb)]);Gb=Z.filter?[].concat(Z.filter):
[];(Z.marktype||Z.markname||Z.markrole)&&Gb.push(Ya(Z.marktype,Z.markname,Z.markrole));"scope"===Z.source&&Gb.push("inScope(event.item)");Gb.length&&(H.filter=Y.parseExpression("("+Gb.join(")\x26\x26(")+")",cb).$expr);null!=(Gb=Z.throttle)&&(H.throttle=+Gb);null!=(Gb=Z.debounce)&&(H.debounce=+Gb);Z.consume&&(H.consume=!0);return H}function Ya(H,Z,cb){return"event.item"+(H&&"*"!==H?"\x26\x26event.item.mark.marktype\x3d\x3d\x3d'"+H+"'":"")+(cb?"\x26\x26event.item.mark.role\x3d\x3d\x3d'"+cb+"'":"")+
(Z?"\x26\x26event.item.mark.name\x3d\x3d\x3d'"+Z+"'":"")}function Za(H,Z,cb){const Gb=H.encode,Hb={target:cb};cb=H.events;let Tb=H.update,ac=[];cb||v.error("Signal update missing events specification.");v.isString(cb)&&(cb=Qa.selector(cb,Z.isSubscope()?"scope":"view"));cb=v.array(cb).filter(Gc=>Gc.signal||Gc.scale?(ac.push(Gc),0):1);1<ac.length&&(ac=[qa(ac)]);cb.length&&ac.push(1<cb.length?{merge:cb}:cb[0]);null!=Gb&&(Tb&&v.error("Signal encode and update are mutually exclusive."),Tb="encode(item(),"+
v.stringValue(Gb)+")");Hb.update=v.isString(Tb)?Y.parseExpression(Tb,Z):null!=Tb.expr?Y.parseExpression(Tb.expr,Z):null!=Tb.value?Tb.value:null!=Tb.signal?{$expr:Xd,$params:{$value:Z.signalRef(Tb.signal)}}:v.error("Invalid signal update specification.");H.force&&(Hb.options={force:!0});ac.forEach(Gc=>Z.addUpdate(v.extend(S(Gc,Z),Hb)))}function S(H,Z){return{source:H.signal?Z.signalRef(H.signal):H.scale?Z.scaleRef(H.scale):F(H,Z)}}function qa(H){return{signal:"["+H.map(Z=>Z.scale?'scale("'+Z.scale+
'")':Z.signal)+"]"}}function ta(H,Z){const cb=Z.getSignal(H.name);let Gb=H.update;H.init&&(Gb?v.error("Signals can not include both init and update expressions."):(Gb=H.init,cb.initonly=!0));Gb&&(Gb=Y.parseExpression(Gb,Z),cb.update=Gb.$expr,cb.params=Gb.$params);H.on&&H.on.forEach(Hb=>Za(Hb,Z,cb.id))}function ha(H,Z){return v.isObject(H)?H.signal?Z.signalRef(H.signal):v.error("Unsupported object: "+v.stringValue(H)):H}function P(H,Z){return H.signal?Z.signalRef(H.signal):H.map(cb=>ha(cb,Z))}function t(H){v.error("Can not find data set: "+
v.stringValue(H))}function u(H,Z,cb){if(H)return H.signal?cb.signalRef(H.signal):(v.isArray(H)?l:H.fields?A:p)(H,Z,cb);null==Z.domainMin&&null==Z.domainMax||v.error("No scale domain defined for domainMin/domainMax to override.")}function l(H,Z,cb){return H.map(Gb=>ha(Gb,cb))}function p(H,Z,cb){const Gb=cb.getData(H.data);Gb||t(H.data);return Qb.isDiscrete(Z.type)?Gb.valuesRef(cb,H.field,E(H.sort,!1)):Qb.isQuantile(Z.type)?Gb.domainRef(cb,H.field):Gb.extentRef(cb,H.field)}function A(H,Z,cb){const Gb=
H.data,Hb=H.fields.reduce((Tb,ac)=>{if(v.isString(ac))ac={data:Gb,field:ac};else if(v.isArray(ac)||ac.signal){{var Gc=ac;ac="_:vega:_"+Wc++;const Dc=ne({});v.isArray(Gc)?Dc.value={$ingest:Gc}:Gc.signal&&(Gc="setdata("+v.stringValue(ac)+","+Gc.signal+")",Dc.params.input=cb.signalRef(Gc));cb.addDataPipeline(ac,[Dc,dc({})]);ac={data:ac,field:"data"}}}Tb.push(ac);return Tb},[]);return(Qb.isDiscrete(Z.type)?B:Qb.isQuantile(Z.type)?z:aa)(H,cb,Hb)}function B(H,Z,cb){const Gb=E(H.sort,!0);H=cb.map(Tb=>{const ac=
Z.getData(Tb.data);ac||t(Tb.data);return ac.countsRef(Z,Tb.field,Gb)});const Hb={groupby:Ce,pulse:H};Gb&&(H=Gb.op||"count",cb=Gb.field?Wa(H,Gb.field):"count",Hb.ops=[Tc[H]],Hb.fields=[Z.fieldRef(cb)],Hb.as=[cb]);H=Z.add(xd(Hb));H=Z.add(ne({pulse:La(H)}));cb=Z.add(yc({field:Ce,sort:Z.sortRef(Gb),pulse:La(H)}));return La(cb)}function E(H,Z){H&&(H.field||H.op?H.field||"count"===H.op?Z&&H.field&&H.op&&!Tc[H.op]&&v.error("Multiple domain scales can not be sorted using "+H.op):v.error("No field provided for sort aggregate op: "+
H.op):v.isObject(H)?H.field="key":H={field:"key"});return H}function z(H,Z,cb){H=cb.map(Gb=>{const Hb=Z.getData(Gb.data);Hb||t(Gb.data);return Hb.domainRef(Z,Gb.field)});return La(Z.add(Re({values:H})))}function aa(H,Z,cb){H=cb.map(Gb=>{const Hb=Z.getData(Gb.data);Hb||t(Gb.data);return Hb.extentRef(Z,Gb.field)});return La(Z.add(df({extents:H})))}function sa(H,Z,cb){const Gb=Z.config.range;let Hb=H.range;if(Hb.signal)return Z.signalRef(Hb.signal);if(v.isString(Hb)){if(Gb&&v.hasOwnProperty(Gb,Hb))return H=
v.extend({},H,{range:Gb[Hb]}),sa(H,Z,cb);"width"===Hb?Hb=[0,{signal:"width"}]:"height"===Hb?Hb=Qb.isDiscrete(H.type)?[0,{signal:"height"}]:[{signal:"height"},0]:v.error("Unrecognized scale range value: "+v.stringValue(Hb))}else{if(Hb.scheme){cb.scheme=v.isArray(Hb.scheme)?P(Hb.scheme,Z):ha(Hb.scheme,Z);Hb.extent&&(cb.schemeExtent=P(Hb.extent,Z));Hb.count&&(cb.schemeCount=ha(Hb.count,Z));return}if(Hb.step){cb.rangeStep=ha(Hb.step,Z);return}if(Qb.isDiscrete(H.type)&&!v.isArray(Hb))return u(Hb,H,Z);
v.isArray(Hb)||v.error("Unsupported range type: "+v.stringValue(Hb))}return Hb.map(Tb=>(v.isArray(Tb)?P:ha)(Tb,Z))}function fa(H,Z,cb){return v.isArray(H)?H.map(Gb=>fa(Gb,Z,cb)):v.isObject(H)?H.signal?cb.signalRef(H.signal):"fit"===Z?H:v.error("Unsupported parameter object: "+v.stringValue(H)):H}function Na(H){H.type="group";H.interactive=H.interactive||!1;return H}function Da(H,Z){const cb=(Gb,Hb)=>Q(H[Gb],Q(Z[Gb],Hb));cb.isVertical=Gb=>"vertical"===Q(H.direction,Z.direction||(Gb?Z.symbolDirection:
Z.gradientDirection));cb.gradientLength=()=>Q(H.gradientLength,Z.gradientLength||Z.gradientWidth);cb.gradientThickness=()=>Q(H.gradientThickness,Z.gradientThickness||Z.gradientHeight);cb.entryColumns=()=>Q(H.columns,Q(Z.columns,+cb.isVertical(!0)));return cb}function W(H,Z){return(H=Z&&(Z.update&&Z.update[H]||Z.enter&&Z.enter[H]))&&H.signal?H:H?H.value:null}function na(H,Z,cb){return`item.anchor === '${"start"}' ? ${H} : item.anchor === '${"end"}' ? ${Z} : ${cb}`}function $a(H,Z){return Z?H?v.isObject(H)?
Object.assign({},H,{offset:$a(H.offset,Z)}):{value:H,offset:Z}:Z:H}function sb(H,Z){Z?(H.name=Z.name,H.style=Z.style||H.style,H.interactive=!!Z.interactive,H.encode=nb(H.encode,Z,od)):H.interactive=!1;return H}function Db(H,Z,cb,Gb){H=Da(H,cb);var Hb=H.isVertical();cb=H.gradientThickness();const Tb=H.gradientLength();let ac,Gc,Dc;Hb?(Hb=[0,1],Gc=[0,0],Dc=cb,cb=Tb):(Hb=[0,0],Gc=[1,0],Dc=Tb);Z={enter:ac={opacity:jd,x:jd,y:jd,width:qe(Dc),height:qe(cb)},update:v.extend({},ac,{opacity:Zd,fill:{gradient:Z,
start:Hb,stop:Gc}}),exit:{opacity:jd}};Va(Z,{stroke:H("gradientStrokeColor"),strokeWidth:H("gradientStrokeWidth")},{opacity:H("gradientOpacity")});return sb({type:"rect",role:"legend-gradient",encode:Z},Gb)}function Xb(H,Z,cb,Gb,Hb){H=Da(H,cb);const Tb=H.isVertical();cb=H.gradientThickness();const ac=H.gradientLength();var Gc;let Dc,Sc,gd,zd="";Tb?(Gc="y",Sc="y2",Dc="x",gd="width",zd="1-"):(Gc="x",Sc="x2",Dc="y",gd="height");Z={opacity:jd,fill:{scale:Z,field:"value"}};Z[Gc]={signal:zd+"datum.perc",
mult:ac};Z[Dc]=jd;Z[Sc]={signal:zd+"datum.perc2",mult:ac};Z[gd]=qe(cb);Gc={enter:Z,update:v.extend({},Z,{opacity:Zd}),exit:{opacity:jd}};Va(Gc,{stroke:H("gradientStrokeColor"),strokeWidth:H("gradientStrokeWidth")},{opacity:H("gradientOpacity")});return sb({type:"rect",role:"legend-band",key:"value",from:Hb,encode:Gc},Gb)}function vc(H,Z,cb,Gb){const Hb=Da(H,Z);var Tb=Hb.isVertical();const ac=qe(Hb.gradientThickness()),Gc=Hb.gradientLength();let Dc=Hb("labelOverlap"),Sc,gd,zd,Ed="";const pd={enter:Sc=
{opacity:jd},update:gd={opacity:Zd,text:{field:"label"}},exit:{opacity:jd}};Va(pd,{fill:Hb("labelColor"),fillOpacity:Hb("labelOpacity"),font:Hb("labelFont"),fontSize:Hb("labelFontSize"),fontStyle:Hb("labelFontStyle"),fontWeight:Hb("labelFontWeight"),limit:Q(H.labelLimit,Z.gradientLabelLimit)});Tb?(Sc.align={value:"left"},Sc.baseline=gd.baseline={signal:'datum.perc\x3c\x3d0?"bottom":datum.perc\x3e\x3d1?"top":"middle"'},Tb="y",zd="x",Ed="1-"):(Sc.align=gd.align={signal:'datum.perc\x3c\x3d0?"left":datum.perc\x3e\x3d1?"right":"center"'},
Sc.baseline={value:"top"},Tb="x",zd="y");Sc[Tb]=gd[Tb]={signal:Ed+"datum.perc",mult:Gc};Sc[zd]=gd[zd]=ac;ac.offset=Q(H.labelOffset,Z.gradientLabelOffset)||0;Dc=Dc?{separation:Hb("labelSeparation"),method:Dc,order:"datum.index"}:void 0;return sb({type:"text",role:"legend-label",style:"guide-label",key:"value",from:Gb,encode:pd,overlap:Dc},cb)}function Vc(H,Z,cb,Gb,Hb){var Tb=Da(H,Z);const ac=cb.entries,Gc=!(!ac||!ac.interactive),Dc=ac?ac.name:void 0,Sc=Tb("clipHeight"),gd=Tb("symbolOffset"),zd={data:"value"},
Ed=`(${Hb}) ? datum.${"offset"} : datum.${"size"}`,pd=Sc?qe(Sc):{field:"size"},Ee=`max(1, ${Hb})`;let Bd,ke;pd.mult=.5;var Od={enter:Bd={opacity:jd,x:{signal:Ed,mult:.5,offset:gd},y:pd},update:ke={opacity:Zd,x:Bd.x,y:Bd.y},exit:{opacity:jd}};let ie=null,qf=null;H.fill||(ie=Z.symbolBaseFillColor,qf=Z.symbolBaseStrokeColor);Va(Od,{fill:Tb("symbolFillColor",ie),shape:Tb("symbolType"),size:Tb("symbolSize"),stroke:Tb("symbolStrokeColor",qf),strokeDash:Tb("symbolDash"),strokeDashOffset:Tb("symbolDashOffset"),
strokeWidth:Tb("symbolStrokeWidth")},{opacity:Tb("symbolOpacity")});he.forEach(Kd=>{H[Kd]&&(ke[Kd]=Bd[Kd]={scale:H[Kd],field:"value"})});Z=sb({type:"symbol",role:"legend-symbol",key:"value",from:zd,clip:Sc?!0:void 0,encode:Od},cb.symbols);Od=qe(gd);Od.offset=Tb("labelOffset");Od={enter:Bd={opacity:jd,x:{signal:Ed,offset:Od},y:pd},update:ke={opacity:Zd,text:{field:"label"},x:Bd.x,y:Bd.y},exit:{opacity:jd}};Va(Od,{align:Tb("labelAlign"),baseline:Tb("labelBaseline"),fill:Tb("labelColor"),fillOpacity:Tb("labelOpacity"),
font:Tb("labelFont"),fontSize:Tb("labelFontSize"),fontStyle:Tb("labelFontStyle"),fontWeight:Tb("labelFontWeight"),limit:Tb("labelLimit")});cb=sb({type:"text",role:"legend-label",style:"guide-label",key:"value",from:zd,encode:Od},cb.labels);Od={enter:{noBound:{value:!Sc},width:jd,height:Sc?qe(Sc):jd,opacity:jd},exit:{opacity:jd},update:ke={opacity:Zd,row:{signal:null},column:{signal:null}}};Tb.isVertical(!0)?(Tb=`ceil(item.mark.items.length / ${Ee})`,ke.row.signal=`${"datum.index"}%${Tb}`,ke.column.signal=
`floor(${"datum.index"} / ${Tb})`,Tb={field:["row","datum.index"]}):(ke.row.signal=`floor(${"datum.index"} / ${Ee})`,ke.column.signal=`${"datum.index"} % ${Ee}`,Tb={field:"datum.index"});ke.column.signal=`(${Hb})?${ke.column.signal}:${"datum.index"}`;Gb={facet:{data:Gb,name:"value",groupby:"index"}};return Na({role:"scope",from:Gb,encode:nb(Od,ac,od),marks:[Z,cb],name:Dc,interactive:Gc,sort:Tb})}function tc(H,Z){H=Da(H,Z);return{align:H("gridAlign"),columns:H.entryColumns(),center:{row:!0,column:!1},
padding:{row:H("rowPadding"),column:H("columnPadding")}}}function Hc(H,Z,cb,Gb){Z=Da(H,Z);const Hb={enter:{opacity:jd},update:{opacity:Zd,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:jd}};Va(Hb,{orient:Z("titleOrient"),_anchor:Z("titleAnchor"),anchor:{signal:'item._anchor || ((item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? "middle" : "start")'},angle:{signal:'datum.vgrad \x26\x26 (item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? (item.orient \x3d\x3d\x3d "left" ? -90 : 90) : 0'},
align:{signal:We},baseline:{signal:wf},text:H.title,fill:Z("titleColor"),fillOpacity:Z("titleOpacity"),font:Z("titleFont"),fontSize:Z("titleFontSize"),fontStyle:Z("titleFontStyle"),fontWeight:Z("titleFontWeight"),limit:Z("titleLimit"),lineHeight:Z("titleLineHeight")},{align:Z("titleAlign"),baseline:Z("titleBaseline")});return sb({type:"text",role:"legend-title",style:"guide-title",from:Gb,encode:Hb},cb)}function Ma(H,Z){let cb;v.isObject(H)&&(H.signal?cb=H.signal:H.path?cb="pathShape("+ec(H.path)+
")":H.sphere&&(cb="geoShape("+ec(H.sphere)+', {type: "Sphere"})'));return cb?Z.signalRef(cb):!!H}function ec(H){return v.isObject(H)&&H.signal?H.signal:v.stringValue(H)}function cc(H){const Z=H.role||"";return Z.indexOf("axis")&&Z.indexOf("legend")&&Z.indexOf("title")?"group"===H.type?"scope":Z||"mark":Z}function nc(H){return{marktype:H.type,name:H.name||void 0,role:H.role||cc(H),zindex:+H.zindex||void 0,aria:H.aria,description:H.description}}function Ec(H,Z){return H&&H.signal?Z.signalRef(H.signal):
!1===H?!1:!0}function jc(H,Z){const cb=db.definition(H.type);cb||v.error("Unrecognized transform type: "+v.stringValue(H.type));var Gb=cb.type.toLowerCase();var Hb=Mc(cb,H,Z);Gb=new wa(Gb,null,Hb,void 0);H.signal&&Z.addSignal(H.signal,Z.proxy(Gb));Gb.metadata=cb.metadata||{};return Gb}function Mc(H,Z,cb){const Gb={},Hb=H.params.length;for(let Tb=0;Tb<Hb;++Tb){const ac=H.params[Tb];Gb[ac.name]=Rc(ac,Z,cb)}return Gb}function Rc(H,Z,cb){const Gb=H.type,Hb=Z[H.name];if("index"===Gb)return ud(H,Z,cb);
if(void 0===Hb)H.required&&v.error("Missing required "+v.stringValue(Z.type)+" parameter: "+v.stringValue(H.name));else return"param"===Gb?ce(H,Z,cb):"projection"===Gb?cb.projectionRef(Z[H.name]):H.array&&!jb(Hb)?Hb.map(Tb=>Nc(H,Tb,cb)):Nc(H,Hb,cb)}function Nc(H,Z,cb){const Gb=H.type;return jb(Z)?"expr"===Gb?v.error("Expression references can not be signals."):"field"===Gb?cb.fieldRef(Z):"compare"===Gb?cb.compareRef(Z):cb.signalRef(Z.signal):(H=H.expr||"field"===Gb)&&Z&&Z.expr?cb.exprRef(Z.expr,Z.as):
H&&Z&&Z.field?Ra(Z.field,Z.as):"expr"===Gb?Y.parseExpression(Z,cb):"data"===Gb?La(cb.getData(Z).values):"field"===Gb?Ra(Z):"compare"===Gb?cb.compareRef(Z):Z}function ud(H,Z,cb){v.isString(Z.from)||v.error('Lookup "from" parameter must be a string literal.');return cb.getData(Z.from).lookupRef(cb,Z.key)}function ce(H,Z,cb){Z=Z[H.name];return H.array?(v.isArray(Z)||v.error("Expected an array of sub-parameters. Instead: "+v.stringValue(Z)),Z.map(Gb=>Zc(H,Gb,cb))):Zc(H,Z,cb)}function Zc(H,Z,cb){const Gb=
H.params.length;let Hb;for(let Tb=0;Tb<Gb;++Tb){Hb=H.params[Tb];for(const ac in Hb.key)if(Hb.key[ac]!==Z[ac]){Hb=null;break}if(Hb)break}Hb||v.error("Unsupported parameter: "+v.stringValue(Z));H=v.extend(Mc(Hb,Z,cb),Hb.key);return La(cb.add(Ge(H)))}function ed(H,Z,cb){let Gb,Hb,Tb,ac;if(!H)Tb=La(cb.add(ne(null,[{}])));else if(Gb=H.facet)Z||v.error("Only group marks can be faceted."),null!=Gb.field?Tb=ac=Pd(Gb,cb):(H.data?ac=La(cb.getData(H.data).aggregate):(Z=jc(v.extend({type:"aggregate",groupby:v.array(Gb.groupby)},
Gb.aggregate),cb),Z.params.key=cb.keyRef(Gb.groupby),Z.params.pulse=Pd(Gb,cb),Tb=ac=La(cb.add(Z))),Hb=cb.keyRef(Gb.groupby,!0));Tb||(Tb=Pd(H,cb));return{key:Hb,pulse:Tb,parent:ac}}function Pd(H,Z){return H.$ref?H:H.data&&H.data.$ref?H.data:La(Z.getData(H.data).output)}function Ha(H,Z,cb,Gb,Hb){this.scope=H;this.input=Z;this.output=cb;this.values=Gb;this.aggregate=Hb;this.index={}}function qb(H){return v.isString(H)?H:null}function Sb(H,Z,cb){const Gb=Wa(cb.op,cb.field);let Hb;if(Z.ops)for(let Tb=
0,ac=Z.as.length;Tb<ac;++Tb){if(Z.as[Tb]===Gb)return}else Z.ops=["count"],Z.fields=[null],Z.as=["count"];cb.op&&(Z.ops.push((Hb=cb.op.signal)?H.signalRef(Hb):cb.op),Z.fields.push(H.fieldRef(cb.field)),Z.as.push(Gb))}function dd(H,Z,cb,Gb,Hb,Tb,ac){cb=Z[cb]||(Z[cb]={});var Gc=v.isObject(Tb)?("descending"===Tb.order?"-":"+")+Wa(Tb.op,Tb.field):"";let Dc=qb(Hb);if(null!=Dc){H=Z.scope;Dc+=Gc?"|"+Gc:"";var Sc=cb[Dc]}Sc||(Sc=Tb?{field:Ce,pulse:Z.countsRef(H,Hb,Tb)}:{field:H.fieldRef(Hb),pulse:La(Z.output)},
Gc&&(Sc.sort=H.sortRef(Tb)),H=H.add(new wa(Gb,void 0,Sc,void 0)),ac&&(Z.index[Hb]=H),Sc=La(H),null!=Dc&&(cb[Dc]=Sc));return Sc}function nd(H,Z,cb){var Gb=H.from.facet;const Hb=Gb.name,Tb=Pd(Gb,Z);let ac;Gb.name||v.error("Facet must have a name: "+v.stringValue(Gb));Gb.data||v.error("Facet must reference a data set: "+v.stringValue(Gb));Gb.field?ac=Z.add(I({field:Z.fieldRef(Gb.field),pulse:Tb})):Gb.groupby?ac=Z.add(pe({key:Z.keyRef(Gb.groupby),group:La(Z.proxy(cb.parent)),pulse:Tb})):v.error("Facet must specify groupby or field: "+
v.stringValue(Gb));Z=Z.fork();cb=Z.add(ne());Gb=Z.add(dc({pulse:La(cb)}));Z.addData(Hb,new Ha(Z,cb,cb,Gb));Z.addSignal("parent",null);ac.params.subflow={$subflow:Z.parse(H).toRuntime()}}function Nd(H,Z,cb){cb=Z.add(I({pulse:cb.pulse}));Z=Z.fork();Z.add(dc());Z.addSignal("parent",null);cb.params.subflow={$subflow:Z.parse(H).toRuntime()}}function Wd(H,Z,cb){const Gb=H.remove,Hb=H.insert,Tb=H.toggle,ac=H.modify,Gc=H.values,Dc=Z.add(new wa("operator",void 0,void 0,void 0));H="if("+H.trigger+',modify("'+
cb+'",'+[Hb,Gb,Tb,ac,Gc].map(Sc=>null==Sc?"null":Sc).join(",")+"),0)";Z=Y.parseExpression(H,Z);Dc.update=Z.$expr;Dc.params=Z.$params}function U(H,Z){var cb=cc(H),Gb="group"===H.type,Hb=H.from&&H.from.facet;const Tb=H.overlap;let ac=H.layout||"scope"===cb||"frame"===cb,Gc,Dc,Sc,gd,zd,Ed;const pd="mark"===cb||ac||Hb,Ee=ed(H.from,Gb,Z);Dc=Z.add(Ae({key:Ee.key||(H.key?Ra(H.key):void 0),pulse:Ee.pulse,clean:!Gb}));const Bd=La(Dc);Dc=Sc=Z.add(ne({pulse:Bd}));Dc=Z.add(se({markdef:nc(H),interactive:Ec(H.interactive,
Z),clip:Ma(H.clip,Z),context:{$context:!0},groups:Z.lookup(),parent:Z.signals.parent?Z.signalRef("parent"):null,index:Z.markpath(),pulse:La(Dc)}));var ke=La(Dc);Dc=gd=Z.add(cf(xa(H.encode,H.type,cb,H.style,Z,{mod:!1,pulse:ke})));Dc.params.parent=Z.encode();H.transform&&H.transform.forEach(ie=>{ie=jc(ie,Z);const qf=ie.metadata;(qf.generates||qf.changes)&&v.error("Mark transforms should not generate new data.");qf.nomod||(gd.params.mod=!0);ie.params.pulse=La(Dc);Z.add(Dc=ie)});H.sort&&(Dc=Z.add(xc({sort:Z.compareRef(H.sort),
pulse:La(Dc)})));cb=La(Dc);if(Hb||ac)ac=Z.add(oc({layout:Z.objectProperty(H.layout),legends:Z.legends,mark:ke,pulse:cb})),Ed=La(ac);const Od=Z.add(ff({mark:ke,pulse:Ed||cb}));ke=La(Od);Gb&&(pd&&(Gc=Z.operators,Gc.pop(),ac&&Gc.pop()),Z.pushState(cb,Ed||ke,Bd),Hb?nd(H,Z,Ee):pd?Nd(H,Z,Ee):Z.parse(H),Z.popState(),pd&&(ac&&Gc.push(ac),Gc.push(Od)));Tb&&(ke=va(Tb,ke,Z));Gb=Z.add(Oa({pulse:ke}));Hb=Z.add(dc({pulse:La(Gb)},void 0,Z.parent()));null!=H.name&&(zd=H.name,Z.addData(zd,new Ha(Z,Sc,Gb,Hb)),H.on&&
H.on.forEach(ie=>{(ie.insert||ie.remove||ie.toggle)&&v.error("Marks only support modify triggers.");Wd(ie,Z,zd)}))}function va(H,Z,cb){const Gb=H.method,Hb=H.bound,Tb=H.separation;Z={separation:jb(Tb)?cb.signalRef(Tb.signal):Tb,method:jb(Gb)?cb.signalRef(Gb.signal):Gb,pulse:Z};H.order&&(Z.sort=cb.compareRef({field:H.order}));Hb&&(H=Hb.tolerance,Z.boundTolerance=jb(H)?cb.signalRef(H.signal):+H,Z.boundScale=cb.scaleRef(Hb.scale),Z.boundOrient=Hb.orient);return La(cb.add(Ve(Z)))}function ab(H,Z){const cb=
Z.config.legend,Gb=H.encode||{},Hb=Da(H,cb),Tb=Gb.legend||{},ac=Tb.name||void 0,Gc=Tb.interactive,Dc=Tb.style,Sc={};let gd=0,zd,Ed;he.forEach(Od=>H[Od]?(Sc[Od]=H[Od],gd=gd||H[Od]):0);gd||v.error("Missing valid scale for legend.");var pd=xb(H,Z.scaleType(gd));const Ee={title:null!=H.title,scales:Sc,type:pd,vgrad:"symbol"!==pd&&Hb.isVertical()},Bd=La(Z.add(ne(null,[Ee]))),ke=La(Z.add(oe(Ed={type:pd,scale:Z.scaleRef(gd),count:Z.objectProperty(Hb("tickCount")),limit:Z.property(Hb("symbolLimit")),values:Z.objectProperty(H.values),
minstep:Z.property(H.tickMinStep),formatType:Z.property(H.formatType),formatSpecifier:Z.property(H.format)})));"gradient"===pd?(pd=[Db(H,gd,cb,Gb.gradient),vc(H,cb,Gb.labels,ke)],Ed.count=Ed.count||Z.signalRef(`max(2,2*floor((${x(Hb.gradientLength())})/100))`)):"discrete"===pd?pd=[Xb(H,gd,cb,Gb.gradient,ke),vc(H,cb,Gb.labels,ke)]:(zd=tc(H,cb),pd=[Vc(H,cb,Gb,ke,x(zd.columns))],Ed.size=kc(H,Z,pd[0].marks));pd=[Na({role:"legend-entry",from:Bd,encode:{enter:{x:{value:0},y:{value:0}}},marks:pd,layout:zd,
interactive:Gc})];Ee.title&&pd.push(Hc(H,cb,Gb.title,Bd));return U(Na({role:"legend",from:Bd,encode:nb(zb(Hb,H,cb),Tb,od),marks:pd,aria:Hb("aria"),description:Hb("description"),zindex:Hb("zindex"),name:ac,interactive:Gc,style:Dc}),Z)}function xb(H,Z){let cb=H.type||"symbol";H.type||1!==Rb(H)||!H.fill&&!H.stroke||(cb=Qb.isContinuous(Z)?"gradient":Qb.isDiscretizing(Z)?"discrete":"symbol");return"gradient"!==cb?cb:Qb.isDiscretizing(Z)?"discrete":"gradient"}function Rb(H){return he.reduce((Z,cb)=>Z+(H[cb]?
1:0),0)}function zb(H,Z,cb){const Gb={enter:{},update:{}};Va(Gb,{orient:H("orient"),offset:H("offset"),padding:H("padding"),titlePadding:H("titlePadding"),cornerRadius:H("cornerRadius"),fill:H("fillColor"),stroke:H("strokeColor"),strokeWidth:cb.strokeWidth,strokeDash:cb.strokeDash,x:H("legendX"),y:H("legendY"),format:Z.format,formatType:Z.formatType});return Gb}function kc(H,Z,cb){const Gb=x(bc("size",H,cb));H=x(bc("strokeWidth",H,cb));(cb=W("fontSize",cb[1].encode))||(cb=(cb=Z.config.style["guide-label"])&&
cb.fontSize);cb=x(cb);return Y.parseExpression(`max(ceil(sqrt(${Gb})+${H}),${cb})`,Z)}function bc(H,Z,cb){return Z[H]?`scale("${Z[H]}",datum)`:W(H,cb[0].encode)}function Ia(H,Z){H=v.isString(H)?{text:H}:H;const cb=Da(H,Z.config.title),Gb=H.encode||{};var Hb=Gb.group||{};const Tb=Hb.name||void 0,ac=Hb.interactive,Gc=Hb.style,Dc=[],Sc=La(Z.add(ne(null,[{}])));Dc.push(Eb(H,cb,lb(H),Sc));H.subtitle&&Dc.push(Zb(H,cb,Gb.subtitle,Sc));H={enter:{},update:{}};Va(H,{orient:cb("orient"),anchor:cb("anchor"),
align:{signal:ye},angle:{signal:'item.orient\x3d\x3d\x3d"left"?-90:item.orient\x3d\x3d\x3d"right"?90:0'},limit:cb("limit"),frame:cb("frame"),offset:cb("offset")||0,padding:cb("subtitlePadding")});Hb=nb(H,Hb,od);return U(Na({role:"title",from:Sc,encode:Hb,marks:Dc,aria:cb("aria"),description:cb("description"),zindex:cb("zindex"),name:Tb,interactive:ac,style:Gc}),Z)}function lb(H){const Z=H.encode;return Z&&Z.title||v.extend({name:H.name,interactive:H.interactive,style:H.style},Z)}function Eb(H,Z,cb,
Gb){var Hb={value:0};Hb={enter:{opacity:Hb},update:{opacity:{value:1}},exit:{opacity:Hb}};Va(Hb,{text:H.text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:Z("dx"),dy:Z("dy"),fill:Z("color"),font:Z("font"),fontSize:Z("fontSize"),fontStyle:Z("fontStyle"),fontWeight:Z("fontWeight"),lineHeight:Z("lineHeight")},{align:Z("align"),angle:Z("angle"),baseline:Z("baseline")});return sb({type:"text",role:"title-text",style:"group-title",
from:Gb,encode:Hb},cb)}function Zb(H,Z,cb,Gb){var Hb={value:0};Hb={enter:{opacity:Hb},update:{opacity:{value:1}},exit:{opacity:Hb}};Va(Hb,{text:H.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:Z("dx"),dy:Z("dy"),fill:Z("subtitleColor"),font:Z("subtitleFont"),fontSize:Z("subtitleFontSize"),fontStyle:Z("subtitleFontStyle"),fontWeight:Z("subtitleFontWeight"),lineHeight:Z("subtitleLineHeight")},{align:Z("align"),
angle:Z("angle"),baseline:Z("baseline")});return sb({type:"text",role:"title-subtitle",style:"group-subtitle",from:Gb,encode:Hb},cb)}function lc(H,Z){const cb=[];H.transform&&H.transform.forEach(Gb=>{cb.push(jc(Gb,Z))});H.on&&H.on.forEach(Gb=>{Wd(Gb,Z,H.name)});Z.addDataPipeline(H.name,uc(H,Z,cb))}function uc(H,Z,cb){const Gb=[];let Hb=null,Tb=!1,ac=!1,Gc,Dc,Sc,gd;H.values?Xa(H.values)||Xa(H.format)?(Gb.push(Bb(Z,H)),Gb.push(Hb=Cc())):Gb.push(Hb=Cc({$ingest:H.values,$format:H.format})):H.url?Xa(H.url)||
Xa(H.format)?(Gb.push(Bb(Z,H)),Gb.push(Hb=Cc())):Gb.push(Hb=Cc({$request:H.url,$format:H.format})):H.source&&(Hb=Gc=v.array(H.source).map(zd=>La(Z.getData(zd).output)),Gb.push(null));H=0;for(Dc=cb.length;H<Dc;++H)Sc=cb[H],gd=Sc.metadata,Hb||gd.source||Gb.push(Hb=Cc()),Gb.push(Sc),gd.generates&&(ac=!0),gd.modifies&&!ac&&(Tb=!0),gd.source?Hb=Sc:gd.changes&&(Hb=null);Gc&&(Dc=Gc.length-1,Gb[0]=Fa({derive:Tb,pulse:Dc?Gc:Gc[0]}),(Tb||Dc)&&Gb.splice(1,0,Cc()));Hb||Gb.push(Cc());Gb.push(dc({}));return Gb}
function Cc(H){H=ne({},H);H.metadata={source:!0};return H}function Bb(H,Z){return Yd({url:Z.url?H.property(Z.url):void 0,async:Z.async?H.property(Z.async):void 0,values:Z.values?H.property(Z.values):void 0,format:H.objectProperty(Z.format)})}function pc(H,Z,cb,Gb){let Hb;if(Z&&v.hasOwnProperty(Z,H))return Z[H];if(v.hasOwnProperty(cb,H))return cb[H];if(H.startsWith("title")){switch(H){case "titleColor":Hb="fill";break;case "titleFont":case "titleFontSize":case "titleFontWeight":Hb=H[5].toLowerCase()+
H.slice(6)}return Gb["guide-title"][Hb]}if(H.startsWith("label")){switch(H){case "labelColor":Hb="fill";break;case "labelFont":case "labelFontSize":Hb=H[5].toLowerCase()+H.slice(6)}return Gb["guide-label"][Hb]}return null}function sc(H){const Z={};for(const cb of H)if(cb)for(const Gb in cb)Z[Gb]=1;return Object.keys(Z)}function mc(H,Z,cb,Gb){var Hb=Da(H,Z);Z=H.orient;let Tb,ac;const Gc={enter:Tb={opacity:jd},update:ac={opacity:Zd},exit:{opacity:jd}};Va(Gc,{stroke:Hb("domainColor"),strokeCap:Hb("domainCap"),
strokeDash:Hb("domainDash"),strokeDashOffset:Hb("domainDashOffset"),strokeWidth:Hb("domainWidth"),strokeOpacity:Hb("domainOpacity")});Hb={scale:H.scale,range:0};H={scale:H.scale,range:1};Tb.x=ac.x=Be(Z,Hb,jd);Tb.x2=ac.x2=Be(Z,H);Tb.y=ac.y=ue(Z,Hb,jd);Tb.y2=ac.y2=ue(Z,H);return sb({type:"rule",role:"axis-domain",from:Gb,encode:Gc},cb)}function Bc(H,Z,cb,Gb,Hb){var Tb=Da(H,Z);Z=H.orient;var ac=H.gridScale;const Gc=bd(Z,1,-1);a:{var Dc=H.offset;if(1!==Gc)if(v.isObject(Dc)){for(var Sc=Dc=v.extend({},
Dc);null!=Sc.mult;)if(v.isObject(Sc.mult))Sc=Sc.mult=v.extend({},Sc.mult);else{Sc.mult=jb(Gc)?{signal:`(${Sc.mult}) * (${Gc.signal})`}:Sc.mult*Gc;break a}Sc.mult=Gc}else Dc=jb(Gc)?{signal:`(${Gc.signal}) * (${Dc||0})`}:Gc*(Dc||0)}const gd=Dc;let zd;const Ed={enter:Dc={opacity:jd},update:zd={opacity:Zd},exit:Sc={opacity:jd}};Va(Ed,{stroke:Tb("gridColor"),strokeCap:Tb("gridCap"),strokeDash:Tb("gridDash"),strokeDashOffset:Tb("gridDashOffset"),strokeOpacity:Tb("gridOpacity"),strokeWidth:Tb("gridWidth")});
H={scale:H.scale,field:"value",band:Hb.band,extra:Hb.extra,offset:Hb.offset,round:Tb("tickRound")};Tb=Be(Z,{signal:"height"},{signal:"width"});Hb=ac?{scale:ac,range:0,mult:Gc,offset:gd}:{value:0,offset:gd};ac=ac?{scale:ac,range:1,mult:Gc,offset:gd}:v.extend(Tb,{mult:Gc,offset:gd});Dc.x=zd.x=Be(Z,H,Hb);Dc.y=zd.y=ue(Z,H,Hb);Dc.x2=zd.x2=ue(Z,ac);Dc.y2=zd.y2=Be(Z,ac);Sc.x=Be(Z,H);Sc.y=ue(Z,H);return sb({type:"rule",role:"axis-grid",key:"value",from:Gb,encode:Ed},cb)}function Oc(H,Z,cb,Gb,Hb,Tb){const ac=
Da(H,Z);Z=H.orient;const Gc=bd(Z,-1,1);let Dc,Sc,gd;const zd={enter:Dc={opacity:jd},update:gd={opacity:Zd},exit:Sc={opacity:jd}};Va(zd,{stroke:ac("tickColor"),strokeCap:ac("tickCap"),strokeDash:ac("tickDash"),strokeDashOffset:ac("tickDashOffset"),strokeOpacity:ac("tickOpacity"),strokeWidth:ac("tickWidth")});Hb=qe(Hb);Hb.mult=Gc;H={scale:H.scale,field:"value",band:Tb.band,extra:Tb.extra,offset:Tb.offset,round:ac("tickRound")};gd.y=Dc.y=Be(Z,jd,H);gd.y2=Dc.y2=Be(Z,Hb);Sc.x=Be(Z,H);gd.x=Dc.x=ue(Z,jd,
H);gd.x2=Dc.x2=ue(Z,Hb);Sc.y=ue(Z,H);return sb({type:"rule",role:"axis-tick",key:"value",from:Gb,encode:zd},cb)}function Kc(H,Z,cb,Gb,Hb){return{signal:'flush(range("'+H+'"), scale("'+H+'", datum.value), '+Z+","+cb+","+Gb+","+Hb+")"}}function ad(H,Z,cb,Gb,Hb,Tb){Z=Da(H,Z);const ac=H.orient;H=H.scale;var Gc=bd(ac,-1,1),Dc=x(Z("labelFlush")),Sc=x(Z("labelFlushOffset")),gd=Z("labelAlign"),zd=Z("labelBaseline");let Ed=0===Dc||!!Dc;var pd=qe(Hb);pd.mult=Gc;pd.offset=qe(Z("labelPadding")||0);pd.offset.mult=
Gc;Gc={scale:H,field:"value",band:.5,offset:$a(Tb.offset,Z("labelOffset"))};Tb=Ed?Kc(H,Dc,'"left"','"right"','"center"'):{value:"center"};Hb=jb(ac)?nf(`${ac.signal} === '${"right"}'`,"left","right"):"right"===ac?{value:"left"}:{value:"right"};Tb=Be(ac,Tb,Hb);Hb=Be(ac,De(ac,"bottom","top"),Ed?Kc(H,Dc,'"top"','"bottom"','"middle"'):{value:"middle"});Dc=Kc(H,Dc,`-(${Sc})`,Sc,0);Ed=Ed&&Sc;pd={opacity:jd,x:Be(ac,Gc,pd),y:ue(ac,Gc,pd)};pd={enter:pd,update:Sc={opacity:Zd,text:{field:"label"},x:pd.x,y:pd.y,
align:Tb,baseline:Hb},exit:{opacity:jd,x:pd.x,y:pd.y}};Va(pd,{dx:!gd&&Ed?Be(ac,Dc):null,dy:!zd&&Ed?ue(ac,Dc):null});Va(pd,{angle:Z("labelAngle"),fill:Z("labelColor"),fillOpacity:Z("labelOpacity"),font:Z("labelFont"),fontSize:Z("labelFontSize"),fontWeight:Z("labelFontWeight"),fontStyle:Z("labelFontStyle"),limit:Z("labelLimit"),lineHeight:Z("labelLineHeight")},{align:gd,baseline:zd});gd=Z("labelBound");zd=(zd=Z("labelOverlap"))||gd?{separation:Z("labelSeparation"),method:zd,order:"datum.index",bound:gd?
{scale:H,orient:ac,tolerance:gd}:null}:void 0;Sc.align!==Tb&&(Sc.align=Ne(Sc.align,Tb));Sc.baseline!==Hb&&(Sc.baseline=Ne(Sc.baseline,Hb));return sb({type:"text",role:"axis-label",style:"guide-label",key:"value",from:Gb,encode:pd,overlap:zd},cb)}function id(H,Z,cb,Gb){Z=Da(H,Z);const Hb=H.orient,Tb=bd(Hb,-1,1);let ac,Gc;const Dc={enter:ac={opacity:jd,anchor:qe(Z("titleAnchor",null)),align:{signal:ye}},update:Gc=v.extend({},ac,{opacity:Zd,text:qe(H.title)}),exit:{opacity:jd}};H={signal:`lerp(range("${H.scale}"), ${na(0,
1,.5)})`};Gc.x=Be(Hb,H);Gc.y=ue(Hb,H);H=jb(Tb)?{signal:`(${Tb.signal}) * ${90}`}:{value:90*Tb};ac.angle=Be(Hb,jd,H);ac.baseline=Be(Hb,De(Hb,"bottom","top"),{value:"bottom"});Gc.angle=ac.angle;Gc.baseline=ac.baseline;Va(Dc,{fill:Z("titleColor"),fillOpacity:Z("titleOpacity"),font:Z("titleFont"),fontSize:Z("titleFontSize"),fontStyle:Z("titleFontStyle"),fontWeight:Z("titleFontWeight"),limit:Z("titleLimit"),lineHeight:Z("titleLineHeight")},{align:Z("titleAlign"),angle:Z("titleAngle"),baseline:Z("titleBaseline")});
td(Z,Hb,Dc,cb);Dc.update.align=Ne(Dc.update.align,ac.align);Dc.update.angle=Ne(Dc.update.angle,ac.angle);Dc.update.baseline=Ne(Dc.update.baseline,ac.baseline);return sb({type:"text",role:"axis-title",style:"guide-title",from:Gb,encode:Dc},cb)}function td(H,Z,cb,Gb){const Hb=(ac,Gc)=>null!=ac?(cb.update[Gc]=Ne(qe(ac),cb.update[Gc]),!1):mb(Gc,Gb)?!1:!0,Tb=Hb(H("titleX"),"x");H=Hb(H("titleY"),"y");cb.enter.auto=H===Tb?qe(H):Be(Z,qe(H),qe(Tb))}function qd(H,Z,cb){const Gb=v.array(H.signals),Hb=v.array(H.scales);
cb||Gb.forEach(Tb=>da(Tb,Z));v.array(H.projections).forEach(Tb=>{{const ac=Z.config.projection||{},Gc={};for(const Dc in Tb)"name"!==Dc&&(Gc[Dc]=fa(Tb[Dc],Dc,Z));for(const Dc in ac)null==Gc[Dc]&&(Gc[Dc]=fa(ac[Dc],Dc,Z));Z.addProjection(Tb.name,Gc)}});Hb.forEach(Tb=>{{const ac=Tb.type||"linear";Qb.isValidScaleType(ac)||v.error("Unrecognized scale type: "+v.stringValue(ac));Z.addScale(Tb.name,{type:ac,domain:void 0})}});v.array(H.data).forEach(Tb=>lc(Tb,Z));Hb.forEach(Tb=>{{const Dc=Z.getScale(Tb.name).params;
let Sc;Dc.domain=u(Tb.domain,Tb,Z);null!=Tb.range&&(Dc.range=sa(Tb,Z,Dc));if(null!=Tb.interpolate){var ac=Tb.interpolate,Gc=Dc;Gc.interpolate=ha(ac.type||ac);null!=ac.gamma&&(Gc.interpolateGamma=ha(ac.gamma))}null!=Tb.nice&&(ac=Tb.nice,ac=v.isObject(ac)?{interval:ha(ac.interval),step:ha(ac.step)}:ha(ac),Dc.nice=ac);null!=Tb.bins&&(ac=Tb.bins,ac=ac.signal||v.isArray(ac)?P(ac,Z):Z.objectProperty(ac),Dc.bins=ac);for(Sc in Tb)v.hasOwnProperty(Dc,Sc)||"name"===Sc||(Dc[Sc]=ha(Tb[Sc],Z))}});(cb||Gb).forEach(Tb=>
ta(Tb,Z));v.array(H.axes).forEach(Tb=>{var ac=Z.config,Gc=ac.style,Dc=ac.axis,Sc="band"===Z.scaleType(Tb.scale)&&ac.axisBand,gd=Tb.orient;if(jb(gd)){var zd=sc([ac.axisX,ac.axisY]);var Ed=sc([ac.axisTop,ac.axisBottom,ac.axisLeft,ac.axisRight]);var pd={};for(Kd of zd)pd[Kd]=Be(gd,pc(Kd,ac.axisX,Dc,Gc),pc(Kd,ac.axisY,Dc,Gc));zd={};for(Kd of Ed){Ed=zd;var Ee=Kd;var Bd=gd.signal;var ke=pc(Kd,ac.axisTop,Dc,Gc),Od=pc(Kd,ac.axisBottom,Dc,Gc),ie=pc(Kd,ac.axisLeft,Dc,Gc),qf=pc(Kd,ac.axisRight,Dc,Gc);Bd={signal:(null!=
ie?`${Bd} === '${"left"}' ? (${Cf(ie)}) : `:"")+(null!=Od?`${Bd} === '${"bottom"}' ? (${Cf(Od)}) : `:"")+(null!=qf?`${Bd} === '${"right"}' ? (${Cf(qf)}) : `:"")+(null!=ke?`${Bd} === '${"top"}' ? (${Cf(ke)}) : `:"")+"(null)"};Ed[Ee]=Bd}}else pd="top"===gd||"bottom"===gd?ac.axisX:ac.axisY,zd=ac["axis"+gd[0].toUpperCase()+gd.slice(1)];pd=pd||zd||Sc?v.extend({},Dc,pd,zd,Sc):Dc;var Kd=Tb.encode||{};ac=Kd.axis||{};Gc=ac.name||void 0;Dc=ac.interactive;Sc=ac.style;Bd=gd=Da(Tb,pd);zd=Bd("tickBand");Ed=Bd("tickOffset");
zd?zd.signal?(Ee={signal:`(${zd.signal}) === 'extent' ? 1 : 0.5`},Bd={signal:`(${zd.signal}) === 'extent'`},v.isObject(Ed)||(Ed={signal:`(${zd.signal}) === 'extent' ? 0 : ${Ed}`})):"extent"===zd?(Ee=1,Bd=!0,Ed=0):(Ee=.5,Bd=!1):(Ee=Bd("bandPosition"),Bd=Bd("tickExtra"));Ee={extra:Bd,band:Ee,offset:Ed};Bd={scale:Tb.scale,ticks:!!gd("ticks"),labels:!!gd("labels"),grid:!!gd("grid"),domain:!!gd("domain"),title:null!=Tb.title};zd=La(Z.add(ne({},[Bd])));ke=La(Z.add(Ld({scale:Z.scaleRef(Tb.scale),extra:Z.property(Ee.extra),
count:Z.objectProperty(Tb.tickCount),values:Z.objectProperty(Tb.values),minstep:Z.property(Tb.tickMinStep),formatType:Z.property(Tb.formatType),formatSpecifier:Z.property(Tb.format)})));Ed=[];Bd.grid&&Ed.push(Bc(Tb,pd,Kd.grid,ke,Ee));if(Bd.ticks){var Xe=gd("tickSize");Ed.push(Oc(Tb,pd,Kd.ticks,ke,Xe,Ee))}Bd.labels&&(Xe=Bd.ticks?Xe:0,Ed.push(ad(Tb,pd,Kd.labels,ke,Xe,Ee)));Bd.domain&&Ed.push(mc(Tb,pd,Kd.domain,zd));Bd.title&&Ed.push(id(Tb,pd,Kd.title,zd));Xe=gd;pd={enter:{},update:{}};Va(pd,{orient:Xe("orient"),
offset:Xe("offset")||0,position:Q(Tb.position,0),titlePadding:Xe("titlePadding"),minExtent:Xe("minExtent"),maxExtent:Xe("maxExtent"),range:{signal:`abs(span(range("${Tb.scale}")))`},translate:Xe("translate"),format:Tb.format,formatType:Tb.formatType});Tb=pd;return Tb=U(Na({role:"axis",from:zd,encode:nb(Tb,ac,od),marks:Ed,aria:gd("aria"),description:gd("description"),zindex:gd("zindex"),name:Gc,interactive:Dc,style:Sc}),Z)});v.array(H.marks).forEach(Tb=>U(Tb,Z));v.array(H.legends).forEach(Tb=>ab(Tb,
Z));H.title&&Ia(H.title,Z);Z.parseLambdas();return Z}function Fd(H,Z){var cb=Z.config;const Gb=La(Z.root=Z.add(new wa("operator",void 0,void 0,void 0))),Hb=ee(H,cb);Hb.forEach(Gc=>da(Gc,Z));Z.description=H.description||cb.description;Z.eventConfig=cb.events;Z.legends=Z.objectProperty(cb.legend&&cb.legend.layout);Z.locale=cb.locale;cb=Z.add(ne());const Tb=Z.add(cf(xa(nb({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},H.encode),"group","frame",H.style,Z,{pulse:La(cb)}))),
ac=Z.add(oc({layout:Z.objectProperty(H.layout),legends:Z.legends,autosize:Z.signalRef("autosize"),mark:Gb,pulse:La(Tb)}));Z.operators.pop();Z.pushState(La(Tb),La(ac),null);qd(H,Z,Hb);Z.operators.push(ac);H=Z.add(ff({mark:Gb,pulse:La(ac)}));H=Z.add(Oa({pulse:La(H)}));H=Z.add(dc({pulse:La(H)}));Z.addData("root",new Ha(Z,cb,cb,H));return Z}function Ud(H,Z){return Z&&Z.signal?{name:H,update:Z.signal}:{name:H,value:Z}}function ee(H,Z){const cb=ac=>Q(H[ac],Z[ac]),Gb=[Ud("background",cb("background")),Ud("autosize",
pb(cb("autosize"))),Ud("padding",Ib(cb("padding"))),Ud("width",cb("width")||0),Ud("height",cb("height")||0)],Hb=Gb.reduce((ac,Gc)=>(ac[Gc.name]=Gc,ac),{}),Tb={};v.array(H.signals).forEach(ac=>{v.hasOwnProperty(Hb,ac.name)?ac=v.extend(Hb[ac.name],ac):Gb.push(ac);Tb[ac.name]=ac});v.array(Z.signals).forEach(ac=>{v.hasOwnProperty(Tb,ac.name)||v.hasOwnProperty(Hb,ac.name)||Gb.push(ac)});return Gb}function we(H,Z){this.config=H||{};this.options=Z||{};this.bindings=[];this.field={};this.signals={};this.lambdas=
{};this.scales={};this.events={};this.data={};this.streams=[];this.updates=[];this.operators=[];this.locale=this.eventConfig=null;this._subid=this._id=0;this._nextsub=[0];this._parent=[];this._encode=[];this._lookup=[];this._markpath=[]}function re(H){this.config=H.config;this.options=H.options;this.legends=H.legends;this.field=Object.create(H.field);this.signals=Object.create(H.signals);this.lambdas=Object.create(H.lambdas);this.scales=Object.create(H.scales);this.events=Object.create(H.events);
this.data=Object.create(H.data);this.streams=[];this.updates=[];this.operators=[];this._id=0;this._subid=++H._nextsub[0];this._nextsub=H._nextsub;this._parent=H._parent.slice();this._encode=H._encode.slice();this._lookup=H._lookup.slice();this._markpath=H._markpath}function te(H){return(v.isArray(H)?rd:Jd)(H)}function rd(H){const Z=H.length;let cb="[";for(let Gb=0;Gb<Z;++Gb){const Hb=H[Gb];cb+=(0<Gb?",":"")+(v.isObject(Hb)?Hb.signal||te(Hb):v.stringValue(Hb))}return cb+"]"}function Jd(H){let Z="{",
cb=0,Gb,Hb;for(Gb in H)Hb=H[Gb],Z+=(1<++cb?",":"")+v.stringValue(Gb)+":"+(v.isObject(Hb)?Hb.signal||te(Hb):v.stringValue(Hb));return Z+"}"}function Me(){return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},area:{fill:"#4c78a8"},image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",size:64},
text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",font:"sans-serif",fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",
stroke:"#ddd"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,
symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},
right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:"circle square triangle-up cross diamond triangle-right triangle-down triangle-left".split(" ")}}}const qe=H=>v.isObject(H)&&!v.isArray(H)?v.extend({},H):{value:H},bf=H=>v.isString(H)?v.stringValue(H):H.signal?`(${H.signal})`:za(H),Hd=(H,Z,cb,Gb)=>`(${H}(${[Z,cb,Gb].map(Ca).join(",")})+'')`,fe=["value",
"update","init","react","bind"],Ce=Ra("key"),Xd={code:"_.$value",ast:{type:"Identifier",value:"value"}},md=H=>(Z,cb,Gb)=>new wa(H,cb,Z||void 0,Gb),xd=md("aggregate"),Ld=md("axisticks"),ff=md("bound"),ne=md("collect"),wd=md("compare"),Ae=md("datajoin"),cf=md("encode"),wc=md("expression"),pe=md("facet"),Vd=md("field"),Ub=md("key"),oe=md("legendentries"),Yd=md("load"),se=md("mark"),df=md("multiextent"),Re=md("multivalues"),Ve=md("overlap"),Ge=md("params"),I=md("prefacet"),R=md("projection"),ra=md("proxy"),
Fa=md("relay"),Oa=md("render"),Pb=md("scale"),dc=md("sieve"),xc=md("sortitems"),oc=md("viewlayout"),yc=md("values");let Wc=0;const Tc={min:"min",max:"max",count:"sum"},he="size shape fill stroke strokeWidth strokeDash opacity".split(" "),od={name:1,style:1,interactive:1},jd={value:0},Zd={value:1},ye=na(v.stringValue("left"),v.stringValue("right"),v.stringValue("center")),ve=na('"top"','"bottom"','"middle"'),We=`datum.vgrad && ${'item.orient \x3d\x3d\x3d "right"'} ? (${na('"right"','"left"','"center"')}) : (${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} && !(datum.vgrad && ${'item.orient \x3d\x3d\x3d "left"'})) ? "left" : ${ye}`,
wf=`${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} ? (datum.vgrad ? (${'item.orient \x3d\x3d\x3d "right"'} ? "bottom" : "top") : ${ve}) : "top"`;Ha.fromEntries=function(H,Z){const cb=Z.length,Gb=Z[cb-1],Hb=Z[cb-2];let Tb=Z[0],ac=null,Gc=1;Tb&&"load"===Tb.type&&(Tb=Z[1]);for(H.add(Z[0]);Gc<cb;++Gc)Z[Gc].params.pulse=La(Z[Gc-1]),H.add(Z[Gc]),"aggregate"===Z[Gc].type&&(ac=Z[Gc]);return new Ha(H,Tb,Hb,Gb,ac)};Ha.prototype={countsRef(H,Z,cb){const Gb=this.counts||(this.counts=
{}),Hb=qb(Z);if(null!=Hb){H=this.scope;var Tb=Gb[Hb]}Tb?cb&&cb.field&&Sb(H,Tb.agg.params,cb):(Tb={groupby:H.fieldRef(Z,"key"),pulse:La(this.output)},cb&&cb.field&&Sb(H,Tb,cb),cb=H.add(xd(Tb)),Tb=H.add(ne({pulse:La(cb)})),Tb={agg:cb,ref:La(Tb)},null!=Hb&&(Gb[Hb]=Tb));return Tb.ref},tuplesRef(){return La(this.values)},extentRef(H,Z){return dd(H,this,"extent","extent",Z,!1)},domainRef(H,Z){return dd(H,this,"domain","values",Z,!1)},valuesRef(H,Z,cb){return dd(H,this,"vals","values",Z,cb||!0)},lookupRef(H,
Z){return dd(H,this,"lookup","tupleindex",Z,!1)},indataRef(H,Z){return dd(H,this,"indata","tupleindex",Z,!0,!0)}};const bd=(H,Z,cb)=>{jb(H)?(H=H.signal,Z=nf(`${H} === '${"left"}' || ${H} === '${"top"}'`,Z,cb)):Z="left"===H||"top"===H?Z:cb;return Z},Be=(H,Z,cb)=>{jb(H)?(H=H.signal,Z=vf(`${H} === '${"top"}' || ${H} === '${"bottom"}'`,Z,cb)):Z="bottom"===H||"top"===H?Z:cb;return Z},ue=(H,Z,cb)=>{jb(H)?(H=H.signal,Z=vf(`${H} !== '${"top"}' && ${H} !== '${"bottom"}'`,Z,cb)):Z="bottom"===H||"top"===H?cb:
Z;return Z},De=(H,Z,cb)=>jb(H)?nf(`${H.signal} === '${"top"}'`,Z,cb):"top"===H?{value:Z}:{value:cb},vf=(H,Z,cb)=>{Z=null!=Z?qe(Z):Z;cb=null!=cb?qe(cb):cb;if(null!=Z&&1!==Object.keys(Z).length||null!=cb&&1!==Object.keys(cb).length)return[v.extend({test:H},Z)].concat(cb||[]);Z=Z?Z.signal||v.stringValue(Z.value):null;cb=cb?cb.signal||v.stringValue(cb.value):null;return{signal:`${H} ? (${Z}) : (${cb})`}},nf=(H,Z,cb)=>({signal:`${H} ? (${Cf(Z)}) : (${Cf(cb)})`}),Cf=H=>jb(H)?H.signal:null==H?null:v.stringValue(H),
Ne=(H,Z)=>{const cb=H.signal;return cb&&cb.endsWith("(null)")?{signal:cb.slice(0,-6)+Z.signal}:H};we.prototype=re.prototype={parse(H){return qd(H,this)},fork(){return new re(this)},isSubscope(){return 0<this._subid},toRuntime(){this.finish();return{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(H){this.operators.push(H);
H.id=this.id();H.refs&&(H.refs.forEach(Z=>{Z.$ref=H.id}),H.refs=null);return H},proxy(H){H=H instanceof wa?La(H):H;return this.add(ra({value:H}))},addStream(H){this.streams.push(H);H.id=this.id();return H},addUpdate(H){this.updates.push(H);return H},finish(){function H(Gb,Hb,Tb){Gb&&(Gb=Gb.data||(Gb.data={}),Hb=Gb[Hb]||(Gb[Hb]=[]),Hb.push(Tb))}let Z,cb;this.root&&(this.root.root=!0);for(Z in this.signals)this.signals[Z].signal=Z;for(Z in this.scales)this.scales[Z].scale=Z;for(Z in this.data){cb=this.data[Z];
H(cb.input,Z,"input");H(cb.output,Z,"output");H(cb.values,Z,"values");for(const Gb in cb.index)H(cb.index[Gb],Z,"index:"+Gb)}return this},pushState(H,Z,cb){this._encode.push(La(this.add(dc({pulse:H}))));this._parent.push(Z);this._lookup.push(cb?La(this.proxy(cb)):null);this._markpath.push(-1)},popState(){this._encode.pop();this._parent.pop();this._lookup.pop();this._markpath.pop()},parent(){return v.peek(this._parent)},encode(){return v.peek(this._encode)},lookup(){return v.peek(this._lookup)},markpath(){const H=
this._markpath;return++H[H.length-1]},fieldRef(H,Z){if(v.isString(H))return Ra(H,Z);H.signal||v.error("Unsupported field reference: "+v.stringValue(H));H=H.signal;var cb=this.field[H];cb||(cb={name:this.signalRef(H)},Z&&(cb.as=Z),this.field[H]=cb=La(this.add(Vd(cb))));return cb},compareRef(H){let Z=!1;const cb=Hb=>jb(Hb)?(Z=!0,this.signalRef(Hb.signal)):Hb&&Hb.expr?(Z=!0,this.exprRef(Hb.expr)):Hb,Gb=v.array(H.field).map(cb);H=v.array(H.order).map(cb);return Z?La(this.add(wd({fields:Gb,orders:H}))):
{$compare:Gb,$order:H}},keyRef(H,Z){let cb=!1;const Gb=this.signals;H=v.array(H).map(Hb=>jb(Hb)?(cb=!0,La(Gb[Hb.signal])):Hb);return cb?La(this.add(Ub({fields:H,flat:Z}))):fb(H,Z)},sortRef(H){if(!H)return H;const Z=Wa(H.op,H.field);H=H.order||"ascending";return H.signal?La(this.add(wd({fields:Z,orders:this.signalRef(H.signal)}))):{$compare:Z,$order:H}},event(H,Z){const cb=H+":"+Z;if(!this.events[cb]){const Gb=this.id();this.streams.push({id:Gb,source:H,type:Z});this.events[cb]=Gb}return this.events[cb]},
hasOwnSignal(H){return v.hasOwnProperty(this.signals,H)},addSignal(H,Z){this.hasOwnSignal(H)&&v.error("Duplicate signal name: "+v.stringValue(H));Z=Z instanceof wa?Z:this.add(new wa("operator",Z,void 0,void 0));return this.signals[H]=Z},getSignal(H){this.signals[H]||v.error("Unrecognized signal name: "+v.stringValue(H));return this.signals[H]},signalRef(H){if(this.signals[H])return La(this.signals[H]);v.hasOwnProperty(this.lambdas,H)||(this.lambdas[H]=this.add(new wa("operator",null,void 0,void 0)));
return La(this.lambdas[H])},parseLambdas(){const H=Object.keys(this.lambdas);for(let cb=0,Gb=H.length;cb<Gb;++cb){var Z=H[cb];const Hb=Y.parseExpression(Z,this);Z=this.lambdas[Z];Z.params=Hb.$params;Z.update=Hb.$expr}},property(H){return H&&H.signal?this.signalRef(H.signal):H},objectProperty(H){return H&&v.isObject(H)?this.signalRef(H.signal||te(H)):H},exprRef(H,Z){H={expr:Y.parseExpression(H,this)};Z&&(H.expr.$name=Z);return La(this.add(wc(H)))},addBinding(H,Z){this.bindings||v.error("Nested signals do not support binding: "+
v.stringValue(H));this.bindings.push(v.extend({signal:H},Z))},addScaleProj(H,Z){v.hasOwnProperty(this.scales,H)&&v.error("Duplicate scale or projection name: "+v.stringValue(H));this.scales[H]=this.add(Z)},addScale(H,Z){this.addScaleProj(H,Pb(Z))},addProjection(H,Z){this.addScaleProj(H,R(Z))},getScale(H){this.scales[H]||v.error("Unrecognized scale name: "+v.stringValue(H));return this.scales[H]},scaleRef(H){return La(this.getScale(H))},scaleType(H){return this.getScale(H).params.type},projectionRef(H){return this.scaleRef(H)},
projectionType(H){return this.scaleType(H)},addData(H,Z){v.hasOwnProperty(this.data,H)&&v.error("Duplicate data set name: "+v.stringValue(H));return this.data[H]=Z},getData(H){this.data[H]||v.error("Undefined data set name: "+v.stringValue(H));return this.data[H]},addDataPipeline(H,Z){v.hasOwnProperty(this.data,H)&&v.error("Duplicate data set name: "+v.stringValue(H));return this.addData(H,Ha.fromEntries(this,Z))}};n.AxisDomainRole="axis-domain";n.AxisGridRole="axis-grid";n.AxisLabelRole="axis-label";
n.AxisRole="axis";n.AxisTickRole="axis-tick";n.AxisTitleRole="axis-title";n.DataScope=Ha;n.FrameRole="frame";n.LegendEntryRole="legend-entry";n.LegendLabelRole="legend-label";n.LegendRole="legend";n.LegendSymbolRole="legend-symbol";n.LegendTitleRole="legend-title";n.MarkRole="mark";n.Scope=we;n.ScopeRole="scope";n.config=Me;n.parse=function(H,Z,cb){v.isObject(H)||v.error("Input Vega specification must be an object.");Z=v.mergeConfig(Me(),Z,H.config);return Fd(H,new we(Z,cb)).toRuntime()};n.signal=
da;n.signalUpdates=ta;n.stream=F;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[66]=function(Yb,Ob,Lc,fc){function n(da){if(da&&da.__esModule)return da;var wa=Object.create(null);da&&Object.keys(da).forEach(function(La){if("default"!==La){var Ra=Object.getOwnPropertyDescriptor(da,La);Object.defineProperty(wa,La,Ra.get?Ra:{enumerable:!0,get:function(){return da[La]}})}});wa["default"]=da;return Object.freeze(wa)}Object.defineProperty(fc,"__esModule",{value:!0});var v=Ob(17),Y=Ob(29),Qa=Ob(31),Qb=Ob(40),db=Ob(41),pb=Ob(45),Ib=Ob(50),Ab=Ob(52),Va=Ob(53),nb=Ob(54),
mb=Ob(56);Lc=Ob(57);Yb=Ob(58);var Pa=Ob(30),Ba=Ob(21),Ca=Ob(28),Sa=Ob(39),kb=Ob(38),za=Ob(44),Ea=Ob(63),gb=Ob(23),xa=Ob(61),Ua=Ob(65),Ja=Ob(62);Ob=n(Qa);Qb=n(Qb);db=n(db);pb=n(pb);Ib=n(Ib);Ab=n(Ab);Va=n(Va);nb=n(nb);mb=n(mb);Lc=n(Lc);Yb=n(Yb);v.extend(Y.transforms,Ob,Qb,db,pb,Ib,Va,Ab,nb,mb,Lc,Yb);Object.keys(v).forEach(function(da){"default"!==da&&Object.defineProperty(fc,da,{enumerable:!0,get:function(){return v[da]}})});Object.keys(Pa).forEach(function(da){"default"!==da&&Object.defineProperty(fc,
da,{enumerable:!0,get:function(){return Pa[da]}})});Object.keys(Ba).forEach(function(da){"default"!==da&&Object.defineProperty(fc,da,{enumerable:!0,get:function(){return Ba[da]}})});Object.keys(Ca).forEach(function(da){"default"!==da&&Object.defineProperty(fc,da,{enumerable:!0,get:function(){return Ca[da]}})});Object.keys(Sa).forEach(function(da){"default"!==da&&Object.defineProperty(fc,da,{enumerable:!0,get:function(){return Sa[da]}})});Object.defineProperty(fc,"Dataflow",{enumerable:!0,get:function(){return Y.Dataflow}});
Object.defineProperty(fc,"EventStream",{enumerable:!0,get:function(){return Y.EventStream}});Object.defineProperty(fc,"MultiPulse",{enumerable:!0,get:function(){return Y.MultiPulse}});Object.defineProperty(fc,"Operator",{enumerable:!0,get:function(){return Y.Operator}});Object.defineProperty(fc,"Parameters",{enumerable:!0,get:function(){return Y.Parameters}});Object.defineProperty(fc,"Pulse",{enumerable:!0,get:function(){return Y.Pulse}});Object.defineProperty(fc,"Transform",{enumerable:!0,get:function(){return Y.Transform}});
Object.defineProperty(fc,"changeset",{enumerable:!0,get:function(){return Y.changeset}});Object.defineProperty(fc,"definition",{enumerable:!0,get:function(){return Y.definition}});Object.defineProperty(fc,"ingest",{enumerable:!0,get:function(){return Y.ingest}});Object.defineProperty(fc,"isTuple",{enumerable:!0,get:function(){return Y.isTuple}});Object.defineProperty(fc,"transform",{enumerable:!0,get:function(){return Y.transform}});Object.defineProperty(fc,"transforms",{enumerable:!0,get:function(){return Y.transforms}});
Object.defineProperty(fc,"tupleid",{enumerable:!0,get:function(){return Y.tupleid}});Object.defineProperty(fc,"interpolate",{enumerable:!0,get:function(){return kb.interpolate}});Object.defineProperty(fc,"interpolateColors",{enumerable:!0,get:function(){return kb.interpolateColors}});Object.defineProperty(fc,"interpolateRange",{enumerable:!0,get:function(){return kb.interpolateRange}});Object.defineProperty(fc,"quantizeInterpolator",{enumerable:!0,get:function(){return kb.quantizeInterpolator}});
Object.defineProperty(fc,"scale",{enumerable:!0,get:function(){return kb.scale}});Object.defineProperty(fc,"scheme",{enumerable:!0,get:function(){return kb.scheme}});Object.defineProperty(fc,"projection",{enumerable:!0,get:function(){return za.projection}});Object.defineProperty(fc,"View",{enumerable:!0,get:function(){return Ea.View}});Object.defineProperty(fc,"defaultLocale",{enumerable:!0,get:function(){return gb.defaultLocale}});Object.defineProperty(fc,"formatLocale",{enumerable:!0,get:function(){return gb.numberFormatDefaultLocale}});
Object.defineProperty(fc,"locale",{enumerable:!0,get:function(){return gb.locale}});Object.defineProperty(fc,"resetDefaultLocale",{enumerable:!0,get:function(){return gb.resetDefaultLocale}});Object.defineProperty(fc,"timeFormatLocale",{enumerable:!0,get:function(){return gb.timeFormatDefaultLocale}});Object.defineProperty(fc,"expressionFunction",{enumerable:!0,get:function(){return xa.expressionFunction}});Object.defineProperty(fc,"parse",{enumerable:!0,get:function(){return Ua.parse}});Object.defineProperty(fc,
"runtimeContext",{enumerable:!0,get:function(){return Ja.context}});fc.version="5.18.0"};
shadow$provide[67]=function(Yb,Ob,Lc,fc){var n=Ob(27).Buffer;(function(v,Y){"object"===typeof fc&&"undefined"!==typeof Lc?Y(fc):"function"===typeof define&&define.amd?define(["exports"],Y):(v="undefined"!==typeof globalThis?globalThis:v||self,Y(v.vegaLite={}))})(this,function(v){function Y(d,g,b){d.fields=g||[];d.fname=b;return d}function Qa(d){return 1===d.length?Bl(d[0]):Cl(d)}function Qb(d){function g(){b.push(G+d.substring(N,pa));G="";N=pa+1}const b=[],f=d.length;let h=null,y=0,G="",N,pa,Ga;d+=
"";for(N=pa=0;pa<f;++pa)if(Ga=d[pa],"\\"===Ga)G+=d.substring(N,pa),G+=d.substring(++pa,++pa),N=pa;else if(Ga===h)g(),h=null,y=-1;else if(!h)if(N===y&&'"'===Ga)N=pa+1,h=Ga;else if(N===y&&"'"===Ga)N=pa+1,h=Ga;else if("."===Ga&&!y)pa>N?g():N=pa+1;else if("["===Ga)pa>N&&g(),y=N=pa+1;else if("]"===Ga){if(!y)throw Error("Access path missing open bracket: "+d);0<y&&g();y=0;N=pa+1}if(y)throw Error("Access path missing closing bracket: "+d);if(h)throw Error("Access path missing closing quote: "+d);pa>N&&(pa++,
g());return b}function db(d,g,b){g=[g].concat([].slice.call(b));console[d].apply(console,g)}function pb(d){return d===Object(d)}function Ib(...d){return d.reduce((g,b)=>{for(const f in b)"signals"===f?g.signals=Va(g.signals,b.signals):Ab(g,f,b[f],"legend"===f?{layout:1}:"style"===f?!0:null);return g},{})}function Ab(d,g,b,f){if("__proto__"!==g){var h;if(pb(b)&&!de(b))for(h in d=pb(d[g])?d[g]:d[g]={},b)f&&(!0===f||f[h])?Ab(d,h,b[h]):"__proto__"!==h&&(d[h]=b[h]);else d[g]=b}}function Va(d,g){function b(y){f[y.name]||
(f[y.name]=1,h.push(y))}if(null==d)return g;const f={},h=[];g.forEach(b);d.forEach(b);return h}function nb(d){return null!=d?de(d)?d:[d]:[]}function mb(d){return"boolean"===typeof d}function Pa(d){return"number"===typeof d}function Ba(d){return"string"===typeof d}function Ca(d){return de(d)?"["+d.map(Ca)+"]":pb(d)||Ba(d)?JSON.stringify(d).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):d}function Sa(d){const g={},b=d.length;for(let f=0;f<b;++f)g[d[f]]=!0;return g}function kb(d,g){if(d.not)kb(d.not,
g);else if(d.and)for(const b of d.and)kb(b,g);else if(d.or)for(const b of d.or)kb(b,g);else g(d)}function za(d,g){return d.not?{not:za(d.not,g)}:d.and?{and:d.and.map(b=>za(b,g))}:d.or?{or:d.or.map(b=>za(b,g))}:g(d)}function Ea(d,g){const b={};for(const f of g)Yh.call(d,f)&&(b[f]=d[f]);return b}function gb(d,g){d=Object.assign({},d);for(const b of g)delete d[b];return d}function xa(d){if(Pa(d))return d;d=Ba(d)?d:ri(d);if(250>d.length)return d;let g=0;for(let b=0;b<d.length;b++){const f=d.charCodeAt(b);
g=(g<<5)-g+f;g&=g}return g}function Ua(d){return!1===d||null===d}function Ja(d,g){return-1<d.indexOf(g)}function da(d,g){let b=0;for(const f of d.entries()){const [h,y]=f;if(g(y,h,b++))return!0}return!1}function wa(d,g){let b=0;for(const f of d.entries()){const [h,y]=f;if(!g(y,h,b++))return!1}return!0}function La(d,...g){for(const f of g){g=d;var b=null!==f&&void 0!==f?f:{};for(const h of kd(b))Ab(g,h,b[h],!0)}return d}function Ra(d,g){const b=[],f={};for(const h of d)d=g(h),d in f||(f[d]=1,b.push(h));
return b}function fb(d,g){if(d.size!==g.size)return!1;for(const b of d)if(!g.has(b))return!1;return!0}function Wa(d,g){for(const b of d)if(g.has(b))return!0;return!1}function jb(d){const g=new Set;for(const b of d){const f=Qb(b).map((h,y)=>0===y?h:"[".concat(h,"]"));d=f.map((h,y)=>f.slice(0,y+1).join(""));for(const h of d)g.add(h)}return g}function Xa(d,g){return void 0===d||void 0===g?!0:Wa(jb(d),jb(g))}function Q(d){return 0===kd(d).length}function x(d){return!0===d||!1===d}function F(d){const g=
d.replace(/\W/g,"_");return(d.match(/^\d+/)?"_":"")+g}function O(d,g){return d.not?"!("+O(d.not,g)+")":d.and?"("+d.and.map(b=>O(b,g)).join(") \x26\x26 (")+")":d.or?"("+d.or.map(b=>O(b,g)).join(") || (")+")":g(d)}function K(d,g){if(0===g.length)return!0;const b=g.shift();b in d&&K(d[b],g)&&delete d[b];return Q(d)}function ka(d){return d.charAt(0).toUpperCase()+d.substr(1)}function ia(d,g){g=void 0===g?"datum":g;d=Qb(d);const b=[];for(let f=1;f<=d.length;f++){const h="[".concat(d.slice(0,f).map(Ca).join("]["),
"]");b.push("".concat(g).concat(h))}return b.join(" \x26\x26 ")}function ma(d,g){return"".concat(void 0===g?"datum":g,"[").concat(Ca(Qb(d).join(".")),"]")}function Ya(d){return d.replace(/(\[|\]|\.|'|")/g,"\\$1")}function Za(d){return"".concat(Qb(d).map(Ya).join("\\."))}function S(d,g,b){return d.replace(new RegExp(g.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$\x26"),"g"),b)}function qa(d){return"".concat(Qb(d).join("."))}function ta(d){return d?Qb(d).length:0}function ha(...d){for(const g of d)if(void 0!==
g)return g}function P(d){const g=++uk;return d?String(d)+g:g}function t(d){return u(d)?d:"__".concat(d)}function u(d){return 0===d.indexOf("__")}function l(d){if(void 0!==d)return(d%360+360)%360}function p(d){return Pa(d)?!0:!isNaN(d)&&!isNaN(parseFloat(d))}function A(d){return d&&d.condition}function B(d){return!!d&&!!d.argmin}function E(d){return!!d&&!!d.argmax}function z(d){return Ba(d)&&!!Dl[d]}function aa(d){return Ba(d)&&Ja(El,d)}function sa(d){switch(d){case "latitude":return"y";case "latitude2":return"y2";
case "longitude":return"x";case "longitude2":return"x2"}}function fa(d){return"color"===d||"fill"===d||"stroke"===d}function Na(d){return Da(d)!==d}function Da(d){switch(d){case "x2":return"x";case "y2":return"y";case "latitude2":return"latitude";case "longitude2":return"longitude";case "theta2":return"theta";case "radius2":return"radius"}return d}function W(d){if(d in Lj)switch(d){case "theta":return"startAngle";case "theta2":return"endAngle";case "radius":return"outerRadius";case "radius2":return"innerRadius"}return d}
function na(d){switch(d){case "x":return"x2";case "y":return"y2";case "latitude":return"latitude2";case "longitude":return"longitude2";case "theta":return"theta2";case "radius":return"radius2"}}function $a(d){switch(d){case "x":case "x2":return"width";case "y":case "y2":return"height"}}function sb(d){switch(d){case "x":return"xOffset";case "y":return"yOffset";case "x2":return"x2Offset";case "y2":return"y2Offset";case "theta":return"thetaOffset";case "radius":return"radiusOffset";case "theta2":return"theta2Offset";
case "radius2":return"radius2Offset"}}function Db(d){return"width"===d?"x":"y"}function Xb(d){switch(d){case "color":case "fill":case "stroke":case "description":case "detail":case "key":case "tooltip":case "href":case "order":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "facet":case "row":case "column":return vk;case "x":case "y":case "latitude":case "longitude":return Fl;case "x2":case "y2":case "latitude2":case "longitude2":return{area:"always",bar:"always",image:"always",
rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case "size":return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case "strokeDash":return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case "shape":return{point:"always",geoshape:"always"};case "text":return{text:"always"};
case "angle":return{point:"always",square:"always",text:"always"};case "url":return{image:"always"};case "theta":return{text:"always",arc:"always"};case "radius":return{text:"always",arc:"always"};case "theta2":case "radius2":return{arc:"always"}}}function vc(d){switch(d){case "facet":case "row":case "column":case "shape":case "strokeDash":case "text":case "tooltip":case "href":case "url":case "description":return"discrete";case "color":case "fill":case "stroke":return"flexible"}}function Vc(d){mb(d)&&
(d=Hb(d,void 0));return"bin"+kd(d).map(g=>Ma(d[g])?F("_".concat(g,"_").concat(si(d[g]))):F("_".concat(g,"_").concat(d[g]))).join("")}function tc(d){return!0===d||pb(d)&&!d.binned}function Hc(d){return"binned"===d||pb(d)&&!0===d.binned}function Ma(d){return null===d||void 0===d?void 0:d.selection}function ec(d){switch(d){case "row":case "column":case "size":case "color":case "fill":case "stroke":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "shape":return 6;case "strokeDash":return 4;
default:return 10}}function cc(d,g,b){g in d?Object.defineProperty(d,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):d[g]=b;return d}function nc(d,g,b){g=g.get(d);if(!g)throw new TypeError("attempted to set private field on non-instance");if(g.set)g.set.call(d,b);else{if(!g.writable)throw new TypeError("attempted to set read only private field");g.value=b}return b}function Ec(d){return"Invalid specification ".concat(JSON.stringify(d),'. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".')}
function jc(d){return"".concat("width"==d?"Width":"Height",' "container" only works for single views and layered views.')}function Mc(d){const g="width"==d?"x":"y";return"".concat("width"==d?"Width":"Height",' "container" only works well with autosize "fit" or "fit-').concat(g,'".')}function Rc(d){return d?'Dropping "fit-'.concat(d,'" because spec has discrete ').concat($a(d),"."):'Dropping "fit" because spec has discrete size.'}function Nc(d){return"Unknown field for ".concat(d,". Cannot calculate view size.")}
function ud(d){return'Cannot project a selection on encoding channel "'.concat(d,'", which has no field.')}function ce(d,g){return'Cannot project a selection on encoding channel "'.concat(d,'" as it uses an aggregate function ("').concat(g,'").')}function Zc(d){return"Selection not supported for ".concat(d," yet.")}function ed(d){return'The "columns" property cannot be used when "'.concat(d,'" has nested row/column.')}function Pd(d,g,b){return'An ancestor parsed field "'.concat(d,'" as ').concat(b,
" but a child wants to parse the field as ").concat(g,".")}function Ha(d){return"Config.customFormatTypes is not true, thus custom format type and format for channel ".concat(d," are dropped.")}function qb(d,g){const {fill:b,stroke:f}=g;return"Dropping color ".concat(d," as the plot also has ").concat(b&&f?"fill and stroke":b?"fill":"stroke",".")}function Sb(d,g){return"Dropping ".concat(Hf(d),' from channel "').concat(g,'" since it does not contain any data field, datum, value, or signal.')}function dd(d,
g,b){return"".concat(d,' dropped as it is incompatible with "').concat(g,'"').concat(b?" when ".concat(b):"",".")}function nd(d){return"".concat(d,"-encoding is dropped as ").concat(d," is not a valid encoding channel.")}function Nd(d,g){return'Using discrete channel "'.concat(d,'" to encode "').concat(g,'" field can be misleading as it does not encode ').concat("ordinal"===g?"order":"magnitude",".")}function Wd(d,g,b){return"".concat(b,"-scale's \"").concat(g,'" is dropped as it does not work with ').concat(d,
" scale.")}function U(d){return'The step for "'.concat(d,'" is dropped because the ').concat("width"===d?"x":"y"," is continuous.")}function va(d){return'Cannot stack "'.concat(d,'" if there is already "').concat(d,'2".')}function ab(d,g){return"Invalid ".concat(d,": ").concat(Hf(g),".")}function xb(d){return"1D error band does not support ".concat(d,".")}function Rb(d){return"Channel ".concat(d,' is required for "binned" bin.')}function zb(...d){Ti.warn(...d)}function kc(d){if(d&&pb(d))for(const g of Mj)if(g in
d)return!0;return!1}function bc(d){p(d)&&(d=+d);if(Pa(d))return d-1;{var g=d.toLowerCase();const b=wk.indexOf(g);if(-1!==b)return b;g=g.substr(0,3);g=Gl.indexOf(g);if(-1!==g)return g;throw Error(ab("month",d));}}function Ia(d){p(d)&&(d=+d);if(Pa(d))return d%7;{var g=d.toLowerCase();const b=xk.indexOf(g);if(-1!==b)return b;g=g.substr(0,3);g=Hl.indexOf(g);if(-1!==g)return g;throw Error(ab("day",d));}}function lb(d,g){const b=[];g&&void 0!==d.day&&1<kd(d).length&&(zb("Dropping day from datetime ".concat(Hf(d),
" as day cannot be combined with other units.")),d=Oe(d),delete d.day);void 0!==d.year?b.push(d.year):b.push(2012);if(void 0!==d.month){var f=g?bc(d.month):d.month;b.push(f)}else if(void 0!==d.quarter){if(g)if(f=d.quarter,p(f)&&(f=+f),Pa(f))4<f&&zb(ab("quarter",f)),--f;else throw Error(ab("quarter",f));else f=d.quarter;b.push(Pa(f)?3*f:f+"*3")}else b.push(0);void 0!==d.date?b.push(d.date):void 0!==d.day?(g=g?Ia(d.day):d.day,b.push(Pa(g)?g+1:g+"+1")):b.push(1);for(const h of["hours","minutes","seconds",
"milliseconds"])g=d[h],b.push("undefined"===typeof g?0:g);return b}function Eb(d){const g=lb(d,!0).join(", ");return d.utc?"utc(".concat(g,")"):"datetime(".concat(g,")")}function Zb(d){const g=lb(d,!0);return d.utc?+new Date(Date.UTC(...g)):+new Date(...g)}function lc(d){const g=[];for(const b of Mj)uc(d,b)&&g.push(b);return g}function uc(d,g){const b=d.indexOf(g);return 0>b||0<b&&"seconds"===g&&"i"===d.charAt(b-1)||d.length>b+3&&"day"===g&&"o"===d.charAt(b+3)||0<b&&"year"===g&&"f"===d.charAt(b-1)?
!1:!0}function Cc(d){if(d)return d=lc(d),"timeUnitSpecifier(".concat(ri(d),", ").concat(ri(Il),")")}function Bb(d){if(d){var g;Ba(d)?g={unit:d}:pb(d)&&(g=Object.assign({},d,d.unit?{unit:d.unit}:{}));g.unit.startsWith("utc")&&(g.utc=!0,g.unit=g.unit.substr(3));return g}}function pc(d){var g=Bb(d);d=Object.assign({},g);g=g.utc;const b=(delete d.utc,d);return b.unit?(g?"utc":"")+kd(b).map(f=>F("".concat("unit"===f?"":"_".concat(f,"_")).concat(b[f]))).join(""):(g?"utc":"")+"timeunit"+kd(b).map(f=>F("_".concat(f,
"_").concat(b[f]))).join("")}function sc(d){return d&&!!d.signal}function mc(d){return!!d.step}function Bc(d){return de(d)?!1:"field"in d&&"data"in d}function Oc(d){return d&&!!d.field&&void 0!==d.equal}function Kc(d){return d&&!!d.field&&void 0!==d.lt}function ad(d){return d&&!!d.field&&void 0!==d.lte}function id(d){return d&&!!d.field&&void 0!==d.gt}function td(d){return d&&!!d.field&&void 0!==d.gte}function qd(d){return d&&d.field&&(de(d.range)&&2===d.range.length||sc(d.range))?!0:!1}function Fd(d){return d&&
!!d.field&&(de(d.oneOf)||de(d.in))}function Ud(d){return Fd(d)||Oc(d)||qd(d)||Kc(d)||id(d)||ad(d)||td(d)}function ee(d,g){return Gc(d,{timeUnit:g,wrapTime:!0})}function we(d,g){return d.map(b=>ee(b,g))}function re(d,g){g=void 0===g?!0:g;var b,{field:f}=d;const h=null===(b=Bb(d.timeUnit))||void 0===b?void 0:b.unit;if(h){{({end:b}={end:!1});f=ia(f);const N=h.startsWith("utc")?"utc":"";const pa={};for(G of Mj)if(uc(h,G)){var y=G;y="quarter"===y?"(".concat(N,"quarter(").concat(f,")-1)"):"".concat(N).concat(y,
"(").concat(f,")");pa[G]=y;y=G}b&&(pa[y]+="+1");var G=pa;b=lb(G,!1).join(", ");G=G.utc?"utc(".concat(b,")"):"datetime(".concat(b,")")}G="time("+G+")"}else G=bd(d,{expr:"datum"});if(Oc(d))return G+"\x3d\x3d\x3d"+ee(d.equal,h);if(Kc(d))return g=d.lt,"".concat(G,"\x3c").concat(ee(g,h));if(id(d))return g=d.gt,"".concat(G,"\x3e").concat(ee(g,h));if(ad(d))return g=d.lte,"".concat(G,"\x3c\x3d").concat(ee(g,h));if(td(d))return g=d.gte,"".concat(G,"\x3e\x3d").concat(ee(g,h));if(Fd(d))return"indexof([".concat(we(d.oneOf,
h).join(","),"], ").concat(G,") !\x3d\x3d -1");if(d&&d.field&&void 0!==d.valid)return te(G,d.valid);if(qd(d)){({range:b}=d);d=sc(b)?{signal:"".concat(b.signal,"[0]")}:b[0];b=sc(b)?{signal:"".concat(b.signal,"[1]")}:b[1];if(null!==d&&null!==b&&g)return"inrange("+G+", ["+ee(d,h)+", "+ee(b,h)+"])";g=[];null!==d&&g.push("".concat(G," \x3e\x3d ").concat(ee(d,h)));null!==b&&g.push("".concat(G," \x3c\x3d ").concat(ee(b,h)));return 0<g.length?g.join(" \x26\x26 "):"true"}throw Error("Invalid field predicate: ".concat(JSON.stringify(d)));
}function te(d,g){return void 0===g||g?"isValid(".concat(d,") \x26\x26 isFinite(+").concat(d,")"):"!isValid(".concat(d,") || !isFinite(+").concat(d,")")}function rd(d){if(Ud(d)&&d.timeUnit){var g;return Object.assign({},d,{timeUnit:null===(g=Bb(d.timeUnit))||void 0===g?void 0:g.unit})}return d}function Jd(d){if(d)switch(d=d.toLowerCase(),d){case "q":case "quantitative":return"quantitative";case "t":case "temporal":return"temporal";case "o":case "ordinal":return"ordinal";case "n":case "nominal":return"nominal";
case "geojson":return"geojson"}}function Me(d){return null===d||void 0===d?void 0:d.selection}function qe(d,g){switch(g){case "type":case "domain":case "reverse":case "range":return!0;case "scheme":case "interpolate":return!Ja(["point","band","identity"],d);case "bins":return!Ja(["point","band","identity","ordinal"],d);case "round":return d in zg||"band"===d||"point"===d;case "padding":case "rangeMin":case "rangeMax":return d in zg||Ja(["point","band"],d);case "paddingOuter":case "align":return Ja(["point",
"band"],d);case "paddingInner":return"band"===d;case "domainMax":case "domainMid":case "domainMin":case "clamp":return d in zg;case "nice":return d in zg||"quantize"===d||"threshold"===d;case "exponent":return"pow"===d;case "base":return"log"===d;case "constant":return"symlog"===d;case "zero":return d in qg&&!Ja(["log","time","utc","threshold","quantile"],d)}}function bf(d,g){switch(g){case "interpolate":case "scheme":case "domainMid":if(!fa(d))return'Cannot use the scale property "'.concat(d,'" with non-color channel.')}}
function Hd(d,g){if(!Lg[d])return!1;switch(d){case "x":case "y":case "theta":case "radius":return g in zg||Ja(["band","point"],g);case "size":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "angle":return g in zg||g in Ui||Ja(["band","point","ordinal"],g);case "color":case "fill":case "stroke":return"band"!==g;case "strokeDash":return"ordinal"===g||g in Ui;case "shape":return"ordinal"===g}}function fe(d){return d&&!!d.expr}function Ce(d){const g=kd(d||{}),b={};for(const f of g)b[f]=
pd(d[f]);return b}function Xd(d){return Ja(["line","area","trail"],d)}function md(d){return d.type}function xd(d){const {channel:g,channelDef:b,markDef:f,scale:h,config:y}=d;d=Ae(d);return oc(b)&&!aa(b.aggregate)&&h&&h.get("type")in zg&&!1===h.get("zero")?Ld({fieldDef:b,channel:g,markDef:f,ref:d,config:y}):d}function Ld(d){var {fieldDef:g,channel:b,markDef:f,ref:h,config:y}=d;if(Xd(f.type)||null===Kd("invalid",f,y))return h;{d=ff(g,!0);const G="y"===Da(b)?{field:{group:"height"}}:{value:0};d=Object.assign({},
{test:d},G)}return[d,h]}function ff(d,g){g=void 0===g?!0:g;return te(Ba(d)?d:bd(d,{expr:"datum"}),!g)}function ne(d,g,b,f){const h={};g&&(h.scale=g);Wc(d)?({datum:d}=d,kc(d)?h.signal=Eb(d):sc(d)?h.signal=d.signal:fe(d)?h.signal=d.expr:h.value=d):h.field=bd(d,b);if(f){const {offset:y,band:G}=f;y&&(h.offset=y);G&&(h.band=G)}return h}function wd(d){var {scaleName:g,fieldOrDatumDef:b,fieldOrDatumDef2:f,offset:h,startSuffix:y,band:G=.5}=d,N=0<G&&1>G?"datum":void 0;d=bd(b,{expr:N,suffix:y});const pa=void 0!==
f?bd(f,{expr:N}):bd(b,{suffix:"end",expr:N});N={};0===G||1===G?(N.scale=g,N.field=0===G?d:pa):(d="".concat(G," * ").concat(d," + ").concat(1-G," * ").concat(pa),N.signal='scale("'.concat(g,'", ').concat(d,")"));h&&(N.offset=h);return N}function Ae(d){var {channel:g,channelDef:b,channel2Def:f,markDef:h,config:y,scaleName:G,scale:N,stack:pa,offset:Ga,defaultRef:rb,band:wb}=d;if(b){if(od(b)){var Vb,Ac;if(jd(b)){var Jc;wb=null!==(Jc=wb)&&void 0!==Jc?Jc:Oa({channel:g,fieldDef:b,fieldDef2:f,markDef:h,stack:pa,
config:y,isMidPoint:!0});const {bin:Pc,timeUnit:fd,type:ld}=b;if(tc(Pc)||wb&&fd&&"temporal"===ld)return pa&&pa.impute?ne(b,G,{binSuffix:"mid"},{offset:Ga}):wb?wd({scaleName:G,fieldOrDatumDef:b,band:wb,offset:Ga}):ne(b,G,Sc(b,g)?{binSuffix:"range"}:{},{offset:Ga});if(Hc(Pc)){if(oc(f))return wd({scaleName:G,fieldOrDatumDef:b,fieldOrDatumDef2:f,band:wb,offset:Ga});zb(Rb("x"===g?"x2":"y2"))}}d=null===N||void 0===N?void 0:N.get("type");return ne(b,G,d in hg?{binSuffix:"range"}:{},{offset:Ga,band:"band"===
d?null!==(Vb=null!==(Ac=wb)&&void 0!==Ac?Ac:b.band)&&void 0!==Vb?Vb:.5:void 0})}if(Zd(b))return Vb=Ga?{offset:Ga}:{},Object.assign({},cf(g,b.value),Vb)}"function"===typeof rb&&(rb=rb());return rb?Object.assign({},rb,Ga?{offset:Ga}:{}):rb}function cf(d,g){return Ja(["x","x2"],d)&&"width"===g?{field:{group:"width"}}:Ja(["y","y2"],d)&&"height"===g?{field:{group:"height"}}:Bd(g)}function wc(d){return d&&"number"!==d&&"time"!==d}function pe(d,g,b){return"".concat(d,"(").concat(g).concat(b?", ".concat(JSON.stringify(b)):
"",")")}function Vd(d){var {fieldOrDatumDef:g,format:b,formatType:f,expr:h,normalizeStack:y,config:G}=d;if(wc(f))return oe({fieldOrDatumDef:g,format:b,formatType:f,expr:h,config:G});d=Ub(g,h,y);if(ac(g)){var N,pa;var Ga=oc(g)?null===(N=Bb(g.timeUnit))||void 0===N?void 0:N.unit:void 0,rb=b,wb=G.timeFormat;N=ye(g)&&(null===(pa=g.scale)||void 0===pa?void 0:pa.type)===Of.UTC;!Ga||rb?(rb=Ba(rb)?rb:wb,d="".concat(N?"utc":"time","Format(").concat(d,", '").concat(rb,"')")):Ga?(pa=Cc(Ga),Ga=N||Ga.startsWith("utc"),
d="".concat(Ga?"utc":"time","Format(").concat(d,", ").concat(pa,")")):d=void 0;return d?{signal:d}:void 0}b=df(yc(g),b,G);return oc(g)&&tc(g.bin)?(pa=bd(g,{expr:h,binSuffix:"end"}),{signal:Ge(d,pa,b,f,G)}):b||"quantitative"===yc(g)?{signal:"".concat(Re(d,b))}:{signal:"isValid(".concat(d,") ? ").concat(d,' : ""+').concat(d)}}function Ub(d,g,b){if(oc(d))return b?"".concat(bd(d,{expr:g,suffix:"end"}),"-").concat(bd(d,{expr:g,suffix:"start"})):bd(d,{expr:g});({datum:d}=d);d=kc(d)?Eb(d):"".concat(JSON.stringify(d));
return d}function oe(d){var {fieldOrDatumDef:g,format:b,formatType:f,expr:h,normalizeStack:y,config:G,field:N}=d,pa;N=null!==(pa=N)&&void 0!==pa?pa:Ub(g,h,y);return oc(g)&&tc(g.bin)?(d=bd(g,{expr:h,binSuffix:"end"}),{signal:Ge(N,d,b,f,G)}):{signal:pe(f,N,b)}}function Yd(d,g,b,f,h,y){if(!wc(f)){if(ac(d)){var G;d=oc(d)?null===(G=Bb(d.timeUnit))||void 0===G?void 0:G.unit:void 0;b=b?b:d?{signal:Cc(d)}:y?void 0:h.timeFormat;return b}return df(g,b,h)}}function se(d,g,b){if(d&&(sc(d)||"number"===d||"time"===
d))return d;if(ac(g)&&"time"!==b&&"utc"!==b)return"time"}function df(d,g,b){if(Ba(g))return g;if("quantitative"===d)return b.numberFormat}function Re(d,g){return"format(".concat(d,', "').concat(g||"",'")')}function Ve(d,g,b,f){var h;return wc(b)?pe(b,d,g):Re(d,null!==(h=Ba(g)?g:void 0)&&void 0!==h?h:f.numberFormat)}function Ge(d,g,b,f,h){const y=Ve(d,b,f,h);g=Ve(g,b,f,h);return"".concat(te(d,!1),' ? "null" : ').concat(y,' + "').concat("  ",'" + ').concat(g)}function I(d){return!!d&&("count"===d.op||
!!d.field)}function R(d){return!!d&&de(d)}function ra(d){return"row"in d||"column"in d}function Fa(d){const {field:g,timeUnit:b,bin:f,aggregate:h}=d;return Object.assign({},b?{timeUnit:b}:{},f?{bin:f}:{},h?{aggregate:h}:{},{field:g})}function Oa(d){var {channel:g,fieldDef:b,fieldDef2:f,markDef:h,stack:y,config:G,isMidPoint:N}=d;if(od(b)&&void 0!==b.band)return b.band;if(oc(b)){const {timeUnit:pa,bin:Ga}=b;if(pa&&!f)return N?Xe("timeUnitBandPosition",h,G):Ja(["rect","bar","image","arc"],h.type)?Xe("timeUnitBand",
h,G):0;if(tc(Ga))return Ja(["rect","bar","image","arc"],h.type)&&!N?1:.5}if((null===y||void 0===y?void 0:y.fieldChannel)===g&&N)return.5}function Pb(d,g,b,f,h,y){return tc(g.bin)||g.timeUnit&&jd(g)&&"temporal"===g.type?!!Oa({channel:d,fieldDef:g,fieldDef2:b,stack:f,markDef:h,config:y}):!1}function dc(d){d=d&&d.condition;return!!d&&!de(d)&&oc(d)}function xc(d){d=d&&d.condition;return!!d&&!de(d)&&od(d)}function oc(d){return!!d&&(!!d.field||"count"===d.aggregate)}function yc(d){return d&&d.type}function Wc(d){return!!d&&
"datum"in d}function Tc(d){return jd(d)&&!Be(d)||he(d)}function he(d){return Wc(d)&&Pa(d.datum)}function od(d){return oc(d)||Wc(d)}function jd(d){return!!d&&("field"in d||"count"===d.aggregate)&&"type"in d}function Zd(d){return d&&"value"in d&&"value"in d}function ye(d){return!!d&&("scale"in d||"sort"in d)}function ve(d){return d&&("axis"in d||"stack"in d||"impute"in d)}function We(d){return!!d&&("format"in d||"formatType"in d)}function wf(d){return gb(d,["legend","axis","header","scale"])}function bd(d,
g){g=void 0===g?{}:g;let b=d.field;const f=g.prefix;let h=g.suffix,y="";if("count"===d.aggregate)b=t("count");else{let Ga;if(!g.nofn)if("op"in d)Ga=d.op;else{const {bin:rb,aggregate:wb,timeUnit:Vb}=d;if(tc(rb)){var G,N;Ga=Vc(rb);h=(null!==(G=g.binSuffix)&&void 0!==G?G:"")+(null!==(N=g.suffix)&&void 0!==N?N:"")}else if(wb)E(wb)?(y='["'.concat(b,'"]'),b="argmax_".concat(wb.argmax)):B(wb)?(y='["'.concat(b,'"]'),b="argmin_".concat(wb.argmin)):Ga=String(wb);else if(Vb){var pa;Ga=pc(Vb);h=(!Ja(["range",
"mid"],g.binSuffix)&&g.binSuffix||"")+(null!==(pa=g.suffix)&&void 0!==pa?pa:"")}}Ga&&(b=b?"".concat(Ga,"_").concat(b):Ga)}h&&(b="".concat(b,"_").concat(h));f&&(b="".concat(f,"_").concat(b));return g.forAs?qa(b):g.expr?ma(b,g.expr)+y:Za(b)+y}function Be(d){switch(d.type){case "nominal":case "ordinal":case "geojson":return!0;case "quantitative":return oc(d)&&!!d.bin;case "temporal":return!1}throw Error('Invalid field type "'.concat(d.type,'".'));}function ue(d,g){const {field:b,bin:f,timeUnit:h,aggregate:y}=
d;if("count"===y)return g.countTitle;if(tc(f))return"".concat(b," (binned)");if(h){var G;if(d=null===(G=Bb(h))||void 0===G?void 0:G.unit)return"".concat(b," (").concat(lc(d).join("-"),")")}else if(y)return E(y)?"".concat(b," for max ").concat(y.argmax):B(y)?"".concat(b," for min ").concat(y.argmin):"".concat(ka(y)," of ").concat(b);return b}function De(d,g,b){var {allowDisabling:f,includeDefault:h=!0}=b,y;b=null===(y=vf(d))||void 0===y?void 0:y.title;if(!oc(d))return b;g=h?ti(d,g):void 0;if(f)return ha(b,
d.title,g);var G;return null!==(G=null!==b&&void 0!==b?b:d.title)&&void 0!==G?G:g}function vf(d){if(ve(d)&&d.axis)return d.axis;if(d&&"legend"in d&&d.legend)return d.legend;if(d&&"header"in d&&d.header)return d.header}function nf(d){if(We(d)){const {format:b,formatType:f}=d;return{format:b,formatType:f}}{var g;d=null!==(g=vf(d))&&void 0!==g?g:{};const {format:b,formatType:f}=d;return{format:b,formatType:f}}}function Cf(d,g){var b;switch(g){case "latitude":case "longitude":return"quantitative";case "row":case "column":case "facet":case "shape":case "strokeDash":return"nominal";
case "order":return"ordinal"}if("sort"in d&&de(d.sort))return"ordinal";const {aggregate:f,bin:h,timeUnit:y}=d;if(y)return"temporal";if(h||f&&!E(f)&&!B(f))return"quantitative";if(ye(d)&&(null===(b=d.scale)||void 0===b?0:b.type))switch(Nj[d.scale.type]){case "numeric":case "discretizing":return"quantitative";case "time":return"temporal"}return"nominal"}function Ne(d){if(oc(d))return d;if(dc(d))return d.condition}function H(d){if(od(d))return d;if(xc(d))return d.condition}function Z(d,g,b,f){f=void 0===
f?{}:f;return Ba(d)||Pa(d)||mb(d)?(b=Ba(d)?"string":Pa(d)?"number":"boolean",g="Channel ".concat(g," is a ").concat(b,". Converted to {value: ").concat(Hf(d),"}."),zb(g),{value:d}):od(d)?cb(d,g,b,f):xc(d)?Object.assign({},d,{condition:cb(d.condition,g,b,f)}):d}function cb(d,g,b,f){if(We(d)){var h=Object.assign({},d),y=d.formatType;h=(delete h.format,delete h.formatType,h);if(wc(y)&&!b.customFormatTypes)return zb(Ha(g)),cb(h,g,b,f)}else if((y=ve(d)?"axis":d&&"legend"in d?"legend":d&&"header"in d?"header":
null)&&d[y]){var G=d[y];h=Object.assign({},G);G=G.formatType;h=(delete h.format,delete h.formatType,h);if(wc(G)&&!b.customFormatTypes)return zb(Ha(g)),cb(Object.assign({},d,{[y]:h}),g,b,f)}if(oc(d))return Gb(d,g,f);g=d.type;g||({datum:g}=d,g=Pa(g)?"quantitative":Ba(g)?"nominal":kc(g)?"temporal":void 0,d=Object.assign({},d,{type:g}));return d}function Gb(d,g,b){({compositeMark:b=!1}=void 0===b?{}:b);const {aggregate:f,timeUnit:h,bin:y,field:G}=d;d=Object.assign({},d);b||!f||z(f)||E(f)||B(f)||(zb('Invalid aggregation operator "'.concat(f,
'".')),delete d.aggregate);h&&(d.timeUnit=Bb(h));G&&(d.field="".concat(G));tc(y)&&(d.bin=Hb(y,g));!Hc(y)||g in Vf||zb("Channel ".concat(g,' should not be used with "binned" bin.'));if(jd(d)){({type:b}=d);var N=Jd(b);b!==N&&(d.type=N);"quantitative"!==b&&aa(f)&&(b='Invalid field type "'.concat(b,'" for aggregate: "').concat(f,'", using "quantitative" instead.'),zb(b),d.type="quantitative")}else Na(g)||(b=Cf(d,g),d.type=b);if(jd(d)){const {compatible:pa,warning:Ga}=Tb(d,g)||{};!1===pa&&zb(Ga)}if("sort"in
d&&Ba(d.sort)){({sort:g}=d);if(g in yk)return Object.assign({},d,{sort:{encoding:g}});b=g.substr(1);if("-"===g.charAt(0)&&b in yk)return Object.assign({},d,{sort:{encoding:b,order:"descending"}})}return d&&"header"in d&&({header:g}=d,N=g,b=Object.assign({},N),N=N.orient,b=(delete b.orient,b),N)?Object.assign({},d,{header:Object.assign({},b,{labelOrient:g.labelOrient||N,titleOrient:g.titleOrient||N})}):d}function Hb(d,g){return mb(d)?{maxbins:ec(g)}:"binned"===d?{binned:!0}:d.maxbins||d.step?d:Object.assign({},
d,{maxbins:ec(g)})}function Tb(d,g){const b=d.type;if("geojson"===b&&"shape"!==g)return{compatible:!1,warning:"Channel ".concat(g," should not be used with a geojson data.")};switch(g){case "row":case "column":case "facet":return Be(d)?Ch:{compatible:!1,warning:"".concat(g," encoding should be discrete (ordinal / nominal / binned).")};case "x":case "y":case "color":case "fill":case "stroke":case "text":case "detail":case "key":case "tooltip":case "href":case "url":case "angle":case "theta":case "radius":case "description":return Ch;
case "longitude":case "longitude2":case "latitude":case "latitude2":return"quantitative"!==b?{compatible:!1,warning:"Channel ".concat(g," should be used with a quantitative field only, not ").concat(d.type," field.")}:Ch;case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "size":case "theta2":case "radius2":case "x2":case "y2":return"nominal"!==b||d.sort?Ch:{compatible:!1,warning:"Channel ".concat(g," should not be used with an unsorted discrete field.")};case "strokeDash":return Ja(["ordinal",
"nominal"],d.type)?Ch:{compatible:!1,warning:"StrokeDash channel should be used with only discrete data."};case "shape":return Ja(["ordinal","nominal","geojson"],d.type)?Ch:{compatible:!1,warning:"Shape channel should be used with only either discrete or geojson data."};case "order":return"nominal"!==d.type||"sort"in d?Ch:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}function ac(d){var {formatType:g}=nf(d),b;if(!(b="time"===g)){if(g=!g)g=
d&&("temporal"===d.type||oc(d)&&!!d.timeUnit);b=g}return b}function Gc(d,g){var {timeUnit:b,type:f,wrapTime:h,undefinedIfExprNotRequired:y}=g;var G=(g=b&&(null===(G=Bb(b))||void 0===G?void 0:G.unit))||"temporal"===f;let N;fe(d)?N=d.expr:sc(d)?N=d.signal:kc(d)?(G=!0,N=Eb(d)):(Ba(d)||Pa(d))&&G&&(N="datetime(".concat(JSON.stringify(d),")"),zk[g]&&(Pa(d)&&1E4>d||Ba(d)&&isNaN(Date.parse(d)))&&(N=Eb({[g]:d})));return N?h&&G?"time(".concat(N,")"):N:y?void 0:JSON.stringify(d)}function Dc(d,g){const {type:b}=
d;return g.map(f=>{const h=Gc(f,{timeUnit:oc(d)?d.timeUnit:void 0,type:b,undefinedIfExprNotRequired:!0});return void 0!==h?{signal:h}:f})}function Sc(d,g){return tc(d.bin)?!!Lg[g]&&Ja(["ordinal","nominal"],d.type):(console.warn("Only call this method for binned field defs."),!1)}function gd(d){var g=Object.assign({},d),b=d.anchor;const f=d.frame,h=d.offset,y=d.orient;var G=d.color,N=d.subtitleColor,pa=d.subtitleFont;const Ga=d.subtitleFontSize,rb=d.subtitleFontStyle,wb=d.subtitleFontWeight,Vb=d.subtitleLineHeight;
d=d.subtitlePadding;g=(delete g.anchor,delete g.frame,delete g.offset,delete g.orient,delete g.color,delete g.subtitleColor,delete g.subtitleFont,delete g.subtitleFontSize,delete g.subtitleFontStyle,delete g.subtitleFontWeight,delete g.subtitleLineHeight,delete g.subtitlePadding,g);G=Object.assign({},g,G?{fill:G}:{});b=Object.assign({},b?{anchor:b}:{},f?{frame:f}:{},h?{offset:h}:{},y?{orient:y}:{});N=Object.assign({},N?{subtitleColor:N}:{},pa?{subtitleFont:pa}:{},Ga?{subtitleFontSize:Ga}:{},rb?{subtitleFontStyle:rb}:
{},wb?{subtitleFontWeight:wb}:{},Vb?{subtitleLineHeight:Vb}:{},d?{subtitlePadding:d}:{});pa=Ea(G,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:G,subtitleMarkConfig:pa,nonMark:b,subtitle:N}}function zd(d){return Ba(d)||de(d)&&Ba(d[0])}function Ed(d){const g=de(d.condition)?d.condition.map(Ee):Ee(d.condition);return Object.assign({},pd(d),{condition:g})}function pd(d){if(fe(d)){var g=Object.assign({},d);d=d.expr;g=(delete g.expr,g);return Object.assign({},{signal:d},g)}return d}function Ee(d){if(fe(d)){var g=
Object.assign({},d);d=d.expr;g=(delete g.expr,g);return Object.assign({},{signal:d},g)}return d}function Bd(d){if(fe(d)){var g=Object.assign({},d);d=d.expr;g=(delete g.expr,g);return Object.assign({},{signal:d},g)}return sc(d)?d:void 0!==d?{value:d}:void 0}function ke(d){return sc(d)?d.signal:Ca(d.value)}function Od(d){return sc(d)?d.signal:null==d?null:Ca(d)}function ie(d,g,b){for(const f of b)b=Xe(f,g.markDef,g.config),void 0!==b&&(d[f]=Bd(b));return d}function qf(d){var g;return[].concat(d.type,
null!==(g=d.style)&&void 0!==g?g:[])}function Kd(d,g,b,f){f=void 0===f?{}:f;const {vgChannel:h,ignoreVgConfig:y}=f;if(h&&void 0!==g[h])return g[h];if(void 0!==g[d])return g[d];if(!y||h&&h!==d)return Xe(d,g,b,f)}function Xe(d,g,b,f){({vgChannel:f}=void 0===f?{}:f);return ha(f?je(d,g,b.style):void 0,je(d,g,b.style),f?b[g.type][f]:void 0,b[g.type][d],f?b.mark[f]:b.mark[d])}function je(d,g,b){return lf(d,qf(g),b)}function lf(d,g,b){g=nb(g);let f;for(const h of g)(g=b[h])&&void 0!==g[d]&&(f=g[d]);return f}
function He(d,g){return nb(d).reduce((b,f)=>{var h;b.field.push(bd(f,g));b.order.push(null!==(h=f.sort)&&void 0!==h?h:"ascending");return b},{field:[],order:[]})}function Gf(d,g){const b=[...d];g.forEach(f=>{for(const h of b)if(Zh(h,f))return;b.push(f)});return b}function J(d,g){return Zh(d,g)||!g?d:d?[...nb(d),...nb(g)].join(", "):g}function M(d,g){const b=d.value;g=g.value;if(null==b||null===g)return{explicit:d.explicit,value:null};if((zd(b)||sc(b))&&(zd(g)||sc(g)))return{explicit:d.explicit,value:J(b,
g)};if(zd(b)||sc(b))return{explicit:d.explicit,value:b};if(zd(g)||sc(g))return{explicit:d.explicit,value:g};if(!(zd(b)||sc(b)||zd(g)||sc(g)))return{explicit:d.explicit,value:Gf(b,g)};throw Error("It should never reach here");}function V(d){return"mark"in d}function ca(d,g){return(d=d&&d[g])?de(d)?da(d,b=>!!b.field):oc(d)||dc(d):!1}function ua(d){return da(Jl,g=>ca(d,g)?(g=d[g],de(g)?da(g,b=>!!b.aggregate):(g=Ne(g))&&!!g.aggregate):!1)}function ya(d,g){const b=[],f=[],h=[],y=[],G={};yb(d,(N,pa)=>{if(oc(N)){var Ga=
Object.assign({},N),rb=N.field;const Vb=N.aggregate,Ac=N.bin,Jc=N.timeUnit;Ga=(delete Ga.field,delete Ga.aggregate,delete Ga.bin,delete Ga.timeUnit,Ga);if(Vb||Jc||Ac){var wb=vf(N);const Pc=wb&&wb.title;wb=bd(N,{forAs:!0});Ga=Object.assign({},Pc?[]:{title:De(N,g,{allowDisabling:!0})},Ga,{field:wb});if(Vb){let fd;E(Vb)?(fd="argmax",wb=bd({op:"argmax",field:Vb.argmax},{forAs:!0}),Ga.field="".concat(wb,".").concat(rb)):B(Vb)?(fd="argmin",wb=bd({op:"argmin",field:Vb.argmin},{forAs:!0}),Ga.field="".concat(wb,
".").concat(rb)):"boxplot"!==Vb&&"errorbar"!==Vb&&"errorband"!==Vb&&(fd=Vb);fd&&(N={op:fd,as:wb},rb&&(N.field=rb),y.push(N))}else b.push(wb),jd(N)&&tc(Ac)?(f.push({bin:Ac,field:rb,as:wb}),b.push(bd(N,{binSuffix:"end"})),Sc(N,pa)&&b.push(bd(N,{binSuffix:"range"})),pa in Vf&&(G[pa+"2"]={field:wb+"_end"}),Ga.bin="binned",Na(pa)||(Ga.type="quantitative")):Jc&&(h.push({timeUnit:Jc,field:rb,as:wb}),(rb=jd(N)&&"temporal"!==N.type&&"time")&&("text"===pa||"tooltip"===pa?Ga.formatType=rb:Oj[pa]?Ga.legend=Object.assign({},
{formatType:rb},Ga.legend):pa in Vf&&(Ga.axis=Object.assign({},{formatType:rb},Ga.axis))));G[pa]=Ga}else b.push(rb),G[pa]=d[pa]}else G[pa]=d[pa]});return{bins:f,timeUnits:h,aggregate:y,groupby:b,encoding:G}}function Ta(d,g,b){b=Xb(g)[b];return b&&("binned"!==b||(b=d["x2"===g?"x":"y"],oc(b)&&oc(d[g])&&Hc(b.bin)))?!0:!1}function ob(d,g,b,f){return kd(d).reduce((h,y)=>{if(!Vi[y])return zb(nd(y)),h;const G=d[y];"angle"!==y||"arc"!==g||d.theta||(zb("Arc marks uses theta channel rather than angle, replacing angle with theta."),
y="theta");if(!Ta(d,y,g))return zb(dd(y,g)),h;if("size"===y&&"line"===g){const N=Ne(d[y]);if(null===N||void 0===N?0:N.aggregate)return zb("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead."),h}if("color"===y&&(b?"fill"in d:"stroke"in d))return zb(qb("encoding",{fill:"fill"in d,stroke:"stroke"in d})),h;if("detail"===y||"order"===y&&!de(G)&&!Zd(G)||"tooltip"===y&&de(G))G&&(h[y]=nb(G).reduce((N,pa)=>{oc(pa)?N.push(Gb(pa,y)):zb(Sb(pa,y));return N},[]));else{if("tooltip"===
y&&null===G)h[y]=null;else if(!(oc(G)||Wc(G)||Zd(G)||G&&"condition"in G||sc(G)))return zb(Sb(G,y)),h;h[y]=Z(G,y,f)}return h},{})}function hb(d,g){const b={};for(const f of kd(d)){const h=Z(d[f],f,g,{compositeMark:!0});b[f]=h}return b}function tb(d){const g=[];for(const b of kd(d))if(ca(d,b)){const f=nb(d[b]);for(const h of f)oc(h)?g.push(h):dc(h)&&g.push(h.condition)}return g}function yb(d,g,b){if(d)for(const f of kd(d)){const h=d[f];if(de(h))for(const y of h)g.call(b,y,f);else g.call(b,h,f)}}function Nb(d,
g,b,f){return d?kd(d).reduce((h,y)=>{const G=d[y];return de(G)?G.reduce((N,pa)=>g.call(f,N,pa,y),h):g.call(f,h,G,y)},b):b}function gc(d,g){return kd(g).reduce((b,f)=>{switch(f){case "x":case "y":case "href":case "description":case "url":case "x2":case "y2":case "theta":case "theta2":case "radius":case "radius2":case "latitude":case "longitude":case "latitude2":case "longitude2":case "text":case "shape":case "angle":case "tooltip":return b;case "order":if("line"===d||"trail"===d)return b;case "detail":case "key":f=
g[f];if(de(f)||oc(f))for(var h of nb(f))h.aggregate||b.push(bd(h,{}));return b;case "size":if("trail"===d)return b;case "color":case "fill":case "stroke":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeDash":case "strokeWidth":return(h=Ne(g[f]))&&!h.aggregate&&b.push(bd(h,{})),b}},[])}function r(d,g,b,f){f=void 0===f?!0:f;if("tooltip"in b)return{tooltip:b.tooltip};d=d.map(h=>{var {fieldPrefix:y,titlePrefix:G}=h;h=f?" of ".concat(C(g)):"";return{field:y+g.field,type:g.type,title:sc(G)?
{signal:G+'"'.concat(escape(h),'"')}:G+h}});b=tb(b).map(wf);return{tooltip:[...d,...Ra(b,xa)]}}function C(d){const {title:g,field:b}=d;return ha(g,b)}function X(d,g,b,f,h){const {scale:y,axis:G}=b;return N=>{var {partName:pa,mark:Ga,positionPrefix:rb,endPositionPrefix:wb,extraEncoding:Vb={}}=N;N=C(b);return ea(d,pa,h,{mark:Ga,encoding:Object.assign({},{[g]:Object.assign({},{field:rb+"_"+b.field,type:b.type},void 0!==N?{title:N}:{},void 0!==y?{scale:y}:{},void 0!==G?{axis:G}:{})},Ba(wb)?{[g+"2"]:{field:wb+
"_"+b.field}}:{},f,Vb)})}}function ea(d,g,b,f){const {clip:h,color:y,opacity:G}=d,N=d.type;return d[g]||void 0===d[g]&&b[g]?[Object.assign({},f,{mark:Object.assign({},b[g],h?{clip:h}:{},y?{color:y}:{},G?{opacity:G}:{},md(f.mark)?f.mark:{type:f.mark},{style:"".concat(N,"-").concat(g)},mb(d[g])?{}:d[g])})]:[]}function eb(d,g,b){({encoding:d}=d);g="vertical"===g?"y":"x";const f=d[g+"2"],h=d[g+"Error"],y=d[g+"Error2"];return{continuousAxisChannelDef:Cb(d[g],b),continuousAxisChannelDef2:Cb(f,b),continuousAxisChannelDefError:Cb(h,
b),continuousAxisChannelDefError2:Cb(y,b),continuousAxis:g}}function Cb(d,g){if(d&&d.aggregate){var b=Object.assign({},d);d=d.aggregate;b=(delete b.aggregate,b);d!==g&&(g="Continuous axis should not have customized aggregation function ".concat(d,"; ").concat(g," already agregates the axis."),zb(g));return b}return d}function Jb(d,g){const {mark:b,encoding:f}=d,{x:h,y}=f;if(md(b)&&b.orient)return b.orient;if(Tc(h)){if(Tc(y)){d=oc(h)&&h.aggregate;const G=oc(y)&&y.aggregate;if(!d&&G===g)return"vertical";
if(G||d!==g){if(d===g&&G===g)throw Error("Both x and y cannot have aggregate");return ac(y)&&!ac(h)?"horizontal":"vertical"}}return"horizontal"}if(Tc(y))return"vertical";throw Error("Need a valid continuous axis for ".concat(g,"s"));}function $b(d){return Pa(d)?"tukey":d}function rc(d,g){var {config:b}=g,f,h=d=Object.assign({},d,{encoding:hb(d.encoding,b)});g=Object.assign({},h);var y=h.mark;h=h.selection;g=(delete g.mark,delete g.encoding,delete g.selection,delete g.projection,g);y=md(y)?y:{type:y};
h&&zb(Zc("boxplot"));h=null!==(f=y.extent)&&void 0!==f?f:b.boxplot.extent;var G=Kd("size",y,b);f=$b(h);var N;{var pa=d;d=Jb(pa,"boxplot");const {continuousAxisChannelDef:ef,continuousAxis:Mf}=eb(pa,d,"boxplot");var Ga=ef.field,rb=$b(h),wb=[...Ic(Ga),{op:"median",field:Ga,as:"mid_box_"+Ga},{op:"min",field:Ga,as:("min-max"===rb?"lower_whisker_":"min_")+Ga},{op:"max",field:Ga,as:("min-max"===rb?"upper_whisker_":"max_")+Ga}];Ga="min-max"===rb||"tukey"===rb?[]:[{calculate:'datum["upper_box_'.concat(Ga,
'"] - datum["lower_box_').concat(Ga,'"]'),as:"iqr_"+Ga},{calculate:'min(datum["upper_box_'.concat(Ga,'"] + datum["iqr_').concat(Ga,'"] * ').concat(h,', datum["max_').concat(Ga,'"])'),as:"upper_whisker_"+Ga},{calculate:'max(datum["lower_box_'.concat(Ga,'"] - datum["iqr_').concat(Ga,'"] * ').concat(h,', datum["min_').concat(Ga,'"])'),as:"lower_whisker_"+Ga}];pa=Object.assign({},pa.encoding);rb=(delete pa[Mf],pa);pa=Object.assign({},rb);rb=rb.tooltip;pa=(delete pa.tooltip,pa);if(rb){var Vb;if(de(rb)){for(var Ac of rb)Ac.aggregate?
(N||(N=[]),N.push(Ac)):(Vb||(Vb=[]),Vb.push(Ac));N&&(pa.tooltip=N)}else rb.aggregate?pa.tooltip=rb:Vb=rb;de(Vb)&&1===Vb.length&&(Vb=Vb[0]);N={customTooltipWithoutAggregatedField:Vb,filteredEncoding:pa}}else N={filteredEncoding:pa};const {customTooltipWithoutAggregatedField:Ef,filteredEncoding:Pj}=N,{bins:Zg,timeUnits:ui,aggregate:Ak,groupby:Bk,encoding:Kl}=ya(Pj,b);N=[...Zg,...ui,{aggregate:[...Ak,...wb],groupby:Bk},...Ga];N={bins:Zg,timeUnits:ui,transform:N,groupby:Bk,aggregate:Ak,continuousAxisChannelDef:ef,
continuousAxis:Mf,encodingWithoutContinuousAxis:Kl,ticksOrient:"vertical"===d?"horizontal":"vertical",boxOrient:d,customTooltipWithoutAggregatedField:Ef}}const {bins:Jc,timeUnits:Pc,transform:fd,continuousAxisChannelDef:ld,continuousAxis:Sd,groupby:Le,aggregate:Gd,encodingWithoutContinuousAxis:Je,ticksOrient:sd,boxOrient:xf,customTooltipWithoutAggregatedField:Pe}=N;Vb=Object.assign({},Je);N=Je.color;wb=Je.size;Vb=(delete Vb.color,delete Vb.size,Vb);Ac=X(y,Sd,ld,Vb,b.boxplot);d=X(y,Sd,ld,Je,b.boxplot);
wb=X(y,Sd,ld,Object.assign({},Vb,wb?{size:wb}:{}),b.boxplot);Ga=r([{fieldPrefix:"min-max"===f?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===f?"lower_whisker_":"min_",titlePrefix:"Min"}],ld,Je);pa={type:"tick",color:"black",opacity:1,orient:sd,invalid:null,aria:!1};rb="min-max"===f?Ga:r([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},
{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],ld,Je);Ac=[...Ac({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:rb}),...Ac({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:rb}),...Ac({partName:"ticks",mark:pa,positionPrefix:"lower_whisker",extraEncoding:rb}),...Ac({partName:"ticks",mark:pa,positionPrefix:"upper_whisker",
extraEncoding:rb})];G=[..."tukey"!==f?Ac:[],...d({partName:"box",mark:Object.assign({},{type:"bar"},G?{size:G}:{},{orient:xf,invalid:null,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:Ga}),...wb({partName:"median",mark:Object.assign({},{type:"tick",invalid:null},pb(b.boxplot.median)&&b.boxplot.median.color?{color:b.boxplot.median.color}:{},G?{size:G}:{},{orient:sd,aria:!1}),positionPrefix:"mid_box",extraEncoding:Ga})];if("min-max"===f){var ge;return Object.assign({},
g,{transform:(null!==(ge=g.transform)&&void 0!==ge?ge:[]).concat(fd),layer:G})}ge='datum["lower_box_'.concat(ld.field,'"]');f='datum["upper_box_'.concat(ld.field,'"]');d="(".concat(f," - ").concat(ge,")");ge="".concat(ge," - ").concat(h," * ").concat(d);d="".concat(f," + ").concat(h," * ").concat(d);wb='datum["'.concat(ld.field,'"]');h={joinaggregate:Ic(ld.field),groupby:Le};f={transform:[{filter:"(".concat(ge," \x3c\x3d ").concat(wb,") \x26\x26 (").concat(wb," \x3c\x3d ").concat(d,")")},{aggregate:[{op:"min",
field:ld.field,as:"lower_whisker_"+ld.field},{op:"max",field:ld.field,as:"upper_whisker_"+ld.field},{op:"min",field:"lower_box_"+ld.field,as:"lower_box_"+ld.field},{op:"max",field:"upper_box_"+ld.field,as:"upper_box_"+ld.field},...Gd],groupby:Le}],layer:Ac};Vb=Object.assign({},Vb);Vb=(delete Vb.tooltip,Vb);const {scale:rf,axis:Lf}=ld;Ac=C(ld);Ga=gb(Lf,["title"]);b=ea(y,"outliers",b.boxplot,{transform:[{filter:"(".concat(wb," \x3c ").concat(ge,") || (").concat(wb," \x3e ").concat(d,")")}],mark:"point",
encoding:Object.assign({},{[Sd]:Object.assign({},{field:ld.field,type:ld.type},void 0!==Ac?{title:Ac}:{},void 0!==rf?{scale:rf}:{},Q(Ga)?{}:{axis:Ga})},Vb,N?{color:N}:{},Pe?{tooltip:Pe}:{})})[0];y=[...Jc,...Pc,h];b?b={transform:y,layer:[b,f]}:(b=f,b.transform.unshift(...y));return Object.assign({},g,{layer:[b,{transform:fd,layer:G}]})}function Ic(d){return[{op:"q1",field:d,as:"lower_box_"+d},{op:"q3",field:d,as:"upper_box_"+d}]}function Fc(d,g){({config:g}=g);d=Object.assign({},d,{encoding:hb(d.encoding,
g)});const {transform:b,continuousAxisChannelDef:f,continuousAxis:h,encodingWithoutContinuousAxis:y,ticksOrient:G,markDef:N,outerSpec:pa,tooltipEncoding:Ga}=yd(d,"errorbar",g);delete y.size;d=X(N,h,f,y,g.errorbar);g=N.thickness;var rb=N.size;rb=Object.assign({},{type:"tick",orient:G,aria:!1},void 0!==g?{thickness:g}:{},void 0!==rb?{size:rb}:{});d=[...d({partName:"ticks",mark:rb,positionPrefix:"lower",extraEncoding:Ga}),...d({partName:"ticks",mark:rb,positionPrefix:"upper",extraEncoding:Ga}),...d({partName:"rule",
mark:Object.assign({},{type:"rule",ariaRoleDescription:"errorbar"},void 0!==g?{size:g}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:Ga})];return Object.assign({},pa,{transform:b},1<d.length?{layer:d}:Object.assign({},d[0]))}function hd(d,g){var {encoding:b}=d;if(!(!od(b.x)&&!od(b.y)||od(b.x2)||od(b.y2)||od(b.xError)||od(b.xError2)||od(b.yError)||od(b.yError2)))return{orient:Jb(d,g),inputType:"raw"};var f=od(b.x2)||od(b.y2);var h=od(b.xError)||od(b.xError2)||od(b.yError)||od(b.yError2);
d=b.x;const y=b.y;if(f){if(h)throw Error("".concat(g," cannot be both type aggregated-upper-lower and aggregated-error"));f=b.x2;b=b.y2;if(od(f)&&od(b))throw Error("".concat(g," cannot have both x2 and y2"));if(od(f)){if(Tc(d))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw Error("Both x and x2 have to be quantitative in ".concat(g));}if(od(b)){if(Tc(y))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw Error("Both y and y2 have to be quantitative in ".concat(g));
}}else{f=b.xError;h=b.yError;const G=b.yError2;if(od(b.xError2)&&!od(f))throw Error("".concat(g," cannot have xError2 without xError"));if(od(G)&&!od(h))throw Error("".concat(g," cannot have yError2 without yError"));if(od(f)&&od(h))throw Error("".concat(g," cannot have both xError and yError with both are quantiative"));if(od(f)){if(Tc(d))return{orient:"horizontal",inputType:"aggregated-error"};throw Error("All x, xError, and xError2 (if exist) have to be quantitative");}if(od(h)){if(Tc(y))return{orient:"vertical",
inputType:"aggregated-error"};throw Error("All y, yError, and yError2 (if exist) have to be quantitative");}}throw Error("No ranged axis");}function yd(d,g,b){var f,h=Object.assign({},d),y=d.mark,G=d.encoding,N=d.selection;h=(delete h.mark,delete h.encoding,delete h.selection,delete h.projection,h);y=md(y)?y:{type:y};N&&zb(Zc(g));const {orient:pa,inputType:Ga}=hd(d,g),{continuousAxisChannelDef:rb,continuousAxisChannelDef2:wb,continuousAxisChannelDefError:Vb,continuousAxisChannelDefError2:Ac,continuousAxis:Jc}=
eb(d,pa,g);N=[];d=[];var Pc=rb.field,fd=!1;if("raw"===Ga){var ld=y.center?y.center:y.extent?"iqr"===y.extent?"median":"mean":b.errorbar.center;var Sd=y.extent?y.extent:"mean"===ld?"stderr":"iqr";"median"===ld!==("iqr"===Sd)&&(N=Sd,N="".concat(ld," is not usually used with ").concat(N," for ").concat(g,"."),zb(N));"stderr"===Sd||"stdev"===Sd?(N=[{op:Sd,field:Pc,as:"extent_"+Pc},{op:ld,field:Pc,as:"center_"+Pc}],d=[{calculate:'datum["center_'.concat(Pc,'"] + datum["extent_').concat(Pc,'"]'),as:"upper_"+
Pc},{calculate:'datum["center_'.concat(Pc,'"] - datum["extent_').concat(Pc,'"]'),as:"lower_"+Pc}],Pc={fieldPrefix:"center_",titlePrefix:ka(ld)},fd=Sd,fd={fieldPrefix:"upper_",titlePrefix:ka(ld)+" + "+fd},g=Sd,g=ka(ld)+" - "+g,ld=[Pc,fd,{fieldPrefix:"lower_",titlePrefix:g}],fd=!0):("ci"===Sd?(g="mean",ld="ci0",Sd="ci1"):(g="median",ld="q1",Sd="q3"),N=[{op:ld,field:Pc,as:"lower_"+Pc},{op:Sd,field:Pc,as:"upper_"+Pc},{op:g,field:Pc,as:"center_"+Pc}],ld=[{fieldPrefix:"upper_",titlePrefix:De({field:Pc,
aggregate:Sd,type:"quantitative"},b,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:De({field:Pc,aggregate:ld,type:"quantitative"},b,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:De({field:Pc,aggregate:g,type:"quantitative"},b,{allowDisabling:!1})}])}else{if(y.center||y.extent){g=y.center;var Le=y.extent;g="".concat(Le?"extent ":"").concat(Le&&g?"and ":"").concat(g?"center ":"").concat(Le&&g?"are ":"is ","not needed when data are aggregated.");zb(g)}"aggregated-upper-lower"===Ga?
(ld=[],d=[{calculate:'datum["'.concat(wb.field,'"]'),as:"upper_"+Pc},{calculate:'datum["'.concat(Pc,'"]'),as:"lower_"+Pc}]):"aggregated-error"===Ga&&(ld=[{fieldPrefix:"",titlePrefix:Pc}],d=[{calculate:'datum["'.concat(Pc,'"] + datum["').concat(Vb.field,'"]'),as:"upper_"+Pc}],Ac?d.push({calculate:'datum["'.concat(Pc,'"] + datum["').concat(Ac.field,'"]'),as:"lower_"+Pc}):d.push({calculate:'datum["'.concat(Pc,'"] - datum["').concat(Vb.field,'"]'),as:"lower_"+Pc}));for(Sd of d)ld.push({fieldPrefix:Sd.as.substring(0,
6),titlePrefix:S(S(Sd.calculate,'datum["',""),'"]',"")})}d={postAggregateCalculates:d,errorBarSpecificAggregate:N,tooltipSummary:ld,tooltipTitleWithFieldName:fd};const {errorBarSpecificAggregate:Gd,postAggregateCalculates:Je,tooltipSummary:sd,tooltipTitleWithFieldName:xf}=d;G=Object.assign({},G);d="x"===Jc?"x2":"y2";N="x"===Jc?"xError":"yError";Pc="x"===Jc?"xError2":"yError2";G=(delete G[Jc],delete G[d],delete G[N],delete G[Pc],G);const {bins:Pe,timeUnits:ge,aggregate:rf,groupby:Lf,encoding:ef}=ya(G,
b);b=[...rf,...Gd];G="raw"!==Ga?[]:Lf;d=r(sd,rb,ef,xf);return{transform:[...null!==(f=h.transform)&&void 0!==f?f:[],...Pe,...ge,...0===b.length?[]:[{aggregate:b,groupby:G}],...Je],groupby:G,continuousAxisChannelDef:rb,continuousAxis:Jc,encodingWithoutContinuousAxis:ef,ticksOrient:"vertical"===pa?"horizontal":"vertical",markDef:y,outerSpec:h,tooltipEncoding:d}}function Qc(d,g){({config:g}=g);d=Object.assign({},d,{encoding:hb(d.encoding,g)});const {transform:b,continuousAxisChannelDef:f,continuousAxis:h,
encodingWithoutContinuousAxis:y,markDef:G,outerSpec:N,tooltipEncoding:pa}=yd(d,"errorband",g);g=X(G,h,f,y,g.errorband);d=void 0!==d.encoding.x&&void 0!==d.encoding.y;let Ga={type:d?"area":"rect"},rb={type:d?"line":"rule"};const wb=Object.assign({},G.interpolate?{interpolate:G.interpolate}:{},G.tension&&G.interpolate?{tension:G.tension}:{});d?(Ga=Object.assign({},Ga,wb,{ariaRoleDescription:"errorband"}),rb=Object.assign({},rb,wb,{aria:!1})):G.interpolate?zb(xb("interpolate")):G.tension&&zb(xb("tension"));
return Object.assign({},N,{transform:b,layer:[...g({partName:"band",mark:Ga,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:pa}),...g({partName:"borders",mark:rb,positionPrefix:"lower",extraEncoding:pa}),...g({partName:"borders",mark:rb,positionPrefix:"upper",extraEncoding:pa})]})}function Dd(d,g,b){g=new Wi(d,g);Ck[d]={normalizer:g,parts:b}}function Qd(d){const g=[];for(const h of d||[]){var b=h,f=Object.assign({},b);d=b.expr;b=b.bind;f=(delete f.expr,delete f.bind,f);b&&d?(d=Object.assign({},
f,{bind:b,init:d}),g.push(d)):(d=Object.assign({},f,d?{update:d}:{},b?{bind:b}:{}),g.push(d))}return g}function xe(d){return!!d&&("legend"===d||!!d.legend)}function ja(d){return xe(d)&&pb(d)}function Ka(d,g){const b={};for(const f of Ll)d&&void 0!==d[f]&&(b[f]=pd(d[f]));g&&(b.params=d.params);return b}function ib(d){return pb(d)&&void 0!==d.step}function vb(d){return d.view||d.width||d.height}function Lb(d,g,b){const f={},{spacing:h,columns:y}=b[g];void 0!==h&&(f.spacing=h);void 0!==y&&("facet"in
d&&!ra(d.facet)||"concat"in d)&&(f.columns=y);"vconcat"in d&&(f.columns=1);for(const pa of Ml)if(void 0!==d[pa])if("spacing"===pa){var G,N;g=d[pa];f[pa]=Pa(g)?g:{row:null!==(G=g.row)&&void 0!==G?G:h,column:null!==(N=g.column)&&void 0!==N?N:h}}else f[pa]=d[pa];return f}function c(d,g){var b;return null!==(b=d[g])&&void 0!==b?b:d["width"===g?"continuousWidth":"continuousHeight"]}function k(d,g){d=D(d,g);return ib(d)?d.step:20}function D(d,g){var b;g=null!==(b=d[g])&&void 0!==b?b:d["width"===g?"discreteWidth":
"discreteHeight"];return ha(g,{step:d.step})}function ba(d){var g=kd(d||{});const b={};for(const f of g)g=d[f],b[f]=A(g)?Ed(g):pd(g);return b}function Aa(d){d=void 0===d?{}:d;var g=Object.assign({},d),b=d.color,f=d.font;d=d.fontSize;g=(delete g.color,delete g.font,delete g.fontSize,g);f=f?{text:{font:f},style:{"guide-label":{font:f},"guide-title":{font:f},"group-title":{font:f},"group-subtitle":{font:f}}}:{};b?(b=void 0===b?{}:b,b={signals:[{name:"color",value:pb(b)?Object.assign({},Dk,b):Dk}],mark:{color:{signal:"color.blue"}},
rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},
{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}):b={};d=d?{signals:[{name:"fontSize",value:pb(d)?Object.assign({},Ek,d):Ek}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}:{};
d=Ib({},Nl,f,b,d,g||{});g=gb(d,Ol);for(var h of["background","lineBreak","padding"])d[h]&&(g[h]=pd(d[h]));for(var y of Fk)d[y]&&(g[y]=Ce(d[y]));for(var G of Gk)d[G]&&(g[G]=ba(d[G]));for(const pa of Hk)d[pa]&&(g[pa]=Ce(d[pa]));d.legend&&(g.legend=Ce(d.legend));d.scale&&(g.scale=Ce(d.scale));if(d.style){h=d.style;y=kd(h);G={};for(N of y)G[N]=ba(h[N]);var N=G;g.style=N}d.title&&(g.title=Ce(d.title));d.view&&(g.view=Ce(d.view));return g}function Fb(d){d=Oe(d);for(var g of Pl)delete d[g];if(d.axis)for(var b in d.axis)A(d.axis[b])&&
delete d.axis[b];if(d.legend)for(var f of Ql)delete d.legend[f];if(d.mark){for(var h of Ik)delete d.mark[h];d.mark.tooltip&&pb(d.mark.tooltip)&&delete d.mark.tooltip}d.params&&(d.signals=(d.signals||[]).concat(Qd(d.params)),delete d.params);for(var y of Rl){for(const pa of Ik)delete d[y][pa];if(g=Sl[y])for(const pa of g)delete d[y][pa];b=g=void 0;f=d;h=y;var G=void 0,N=f[h];"view"===h&&(G="cell");N=Object.assign({},N,f.style[null!==(b=G)&&void 0!==b?b:h]);Q(N)||(f.style[null!==(g=G)&&void 0!==g?g:
h]=N);delete f[h]}for(const pa of kd(Ck))delete d[pa];{y=d;const {titleMarkConfig:pa,subtitleMarkConfig:Ga,subtitle:rb}=gd(y.title);Q(pa)||(y.style["group-title"]=Object.assign({},y.style["group-title"],pa));Q(Ga)||(y.style["group-subtitle"]=Object.assign({},y.style["group-subtitle"],Ga));Q(rb)?delete y.title:y.title=rb}for(const pa in d)pb(d[pa])&&Q(d[pa])&&delete d[pa];return Q(d)?void 0:d}function Kb(d,g){const b="x"===g?"y":"radius";var f=d[g];d=d[b];if(oc(f)&&oc(d))if("quantitative"===yc(f)&&
"quantitative"===yc(d)){if(f.stack)return g;if(d.stack)return b;const G=oc(f)&&!!f.aggregate,N=oc(d)&&!!d.aggregate;if(G!==N)return G?g:b;var h,y;f=null===(h=f.scale)||void 0===h?void 0:h.type;h=null===(y=d.scale)||void 0===y?void 0:y.type;if(f&&"linear"!==f)return b;if(h&&"linear"!==h)return g}else{if("quantitative"===yc(f))return g;if("quantitative"===yc(d))return b}else{if("quantitative"===yc(f))return g;if("quantitative"===yc(d))return b}}function Wb(d){switch(d){case "x":return"y";case "y":return"x";
case "theta":return"radius";case "radius":return"theta"}}function qc(d,g,b){b=void 0===b?{}:b;d=md(d)?d.type:d;if(!Tl.has(d))return null;const f=Kb(g,"x")||Kb(g,"theta");if(!f)return null;const h=g[f];var y=oc(h)?bd(h,{}):void 0;let G=Wb(f),N=g[G],pa=oc(N)?bd(N,{}):void 0;pa===y&&(G=N=pa=void 0);y=Ul.reduce((rb,wb)=>{if("tooltip"!==wb&&ca(g,wb)){var Vb=g[wb];for(const Ac of nb(Vb)){Vb=Ne(Ac);if(Vb.aggregate)continue;const Jc=bd(Vb,{});Jc&&Jc===pa||rb.push({channel:wb,fieldDef:Vb})}}return rb},[]);
let Ga;void 0!==h.stack?Ga=mb(h.stack)?h.stack?"zero":null:h.stack:0<y.length&&Vl.has(d)&&(Ga="zero");if(!(Ga&&Ga in Wl)||ua(g)&&0===y.length)return null;if(h.scale&&h.scale.type&&h.scale.type!==Of.LINEAR){if(b.disallowNonLinearStack)return null;zb("Cannot stack non-linear scale (".concat(h.scale.type,")."))}if(od(g[na(f)]))return void 0!==h.stack&&zb(va(f)),null;oc(h)&&h.aggregate&&!Ja(Xl,h.aggregate)&&zb('Stacking is applied even though the aggregate function is non-summative ("'.concat(h.aggregate,
'").'));return{groupbyChannel:N?G:void 0,groupbyField:pa,fieldChannel:f,impute:null===h.impute?!1:Xd(d),stackBy:y,offset:Ga}}function Yc(d){d=Object.assign({},d);d=(delete d.point,delete d.line,d);return 1<kd(d).length?d:d.type}function cd(d){for(const g of["line","area","rule","trail"])d[g]&&(d=Object.assign({},d,{[g]:gb(d[g],["point","line"])}));return d}function Rd(d,g,b){g=void 0===g?{}:g;if("transparent"===d.point)return{opacity:0};if(d.point)return pb(d.point)?d.point:{};if(void 0!==d.point)return null;
if(g.point||b.shape)return pb(g.point)?g.point:{}}function Md(d,g){g=void 0===g?{}:g;if(d.line)return!0===d.line?{}:d.line;if(void 0!==d.line)return null;if(g.line)return!0===g.line?{}:g.line}function Td(d,g){return g?Te(d,g):d}function vd(d,g,b){const f=g[d];if(f&&!Ba(f)&&"repeat"in f){if(f.repeat in b)return Object.assign({},g,{[d]:b[f.repeat]});zb('Unknown repeated value "'.concat(f.repeat,'".'))}else return g}function $c(d,g){d=vd("field",d,g);if(void 0!==d){if(null===d)return null;"sort"in d&&
I(d.sort)&&(g=vd("field",d.sort,g),d=Object.assign({},d,g?{sort:g}:{}));return d}}function Id(d,g){if(oc(d))return $c(d,g);g=vd("datum",d,g);g===d||g.type||(g.type="nominal");return g}function Fe(d,g){if(od(d)){if(g=Id(d,g))return g;if(d&&"condition"in d)return{condition:d.condition}}else{if(xc(d)){if(g=Id(d.condition,g))return Object.assign({},d,{condition:g});d=Object.assign({},d);return delete d.condition,d}return d}}function Te(d,g){const b={};for(const h in d)if(Yh.call(d,h)){var f=d[h];de(f)?
b[h]=f.map(y=>Fe(y,g)).filter(y=>y):(f=Fe(f,g),void 0!==f&&(b[h]=f))}return b}function $d(d){var {parentEncoding:g,encoding:b={},layer:f}=d;d={};if(g){var h=new Set([...kd(g),...kd(b)]);for(const y of h){h=b[y];const G=g[y];if(od(h))h=Object.assign({},G,h),d[y]=h;else if(xc(h))d[y]=Object.assign({},h,{condition:Object.assign({},G,h.condition)});else if(h||null===h)d[y]=h;else if(f||Zd(G)||sc(G)||od(G)||de(G))d[y]=G}}else d=b;return!d||Q(d)?void 0:d}function ze(d){const {parentProjection:g,projection:b}=
d;if(g&&b){{const {parentProjection:f,projection:h}={parentProjection:g,projection:b};d="Layer's shared projection ".concat(Hf(f)," is overridden by a child projection ").concat(Hf(h),".")}zb(d)}return null!==b&&void 0!==b?b:g}function Ie(d,g){void 0===g&&(g=Aa(d.config));var b=g;b=void 0===b?{}:b;b=Yl.map(d,{config:b});const {width:f,height:h}=d;{let {width:y,height:G}={width:f,height:h,autosize:d.autosize};d=V(b)||"layer"in b;const N={};d?"container"==y&&"container"==G?(N.type="fit",N.contains=
"padding"):"container"==y?(N.type="fit-x",N.contains="padding"):"container"==G&&(N.type="fit-y",N.contains="padding"):("container"==y&&(zb(jc("width")),y=void 0),"container"==G&&(zb(jc("height")),G=void 0));g=Object.assign({},{type:"pad"},N,g?If(g.autosize):{},If(b.autosize));"fit"!==g.type||d||(zb('Autosize "fit" only works for single views and layered views.'),g.type="pad");"container"==y&&"fit"!=g.type&&"fit-x"!=g.type&&zb(Mc("width"));"container"==G&&"fit"!=g.type&&"fit-y"!=g.type&&zb(Mc("height"));
d=Zh(g,{type:"pad"})?void 0:g}return Object.assign({},b,d?{autosize:d}:{})}function If(d){return Ba(d)?{type:d}:null!==d&&void 0!==d?d:{}}function Df(d){return{explicit:!0,value:d}}function mf(d){return{explicit:!1,value:d}}function yg(d){return(g,b,f,h)=>{const y=d(g.value,b.value);return 0<y?g:0>y?b:Cd(g,b,f,h)}}function Cd(d,g,b,f){if(d.explicit&&g.explicit){var h=d.value;g=g.value;b="Conflicting ".concat(f.toString(),' property "').concat(b.toString(),'" (').concat(Hf(h)," and ").concat(Hf(g),
"). Using ").concat(Hf(h),".");zb(b)}return d}function tf(d,g,b,f,h){h=void 0===h?Cd:h;return void 0===d||void 0===d.value?g:d.explicit&&!g.explicit?d:g.explicit&&!d.explicit?g:Zh(d.value,g.value)?d:h(d,g,b,f)}function pg(d){return"name"in d&&!("url"in d)&&!("values"in d)&&!ag(d)}function ag(d){return d&&("sequence"in d||"sphere"in d||"graticule"in d)}function $g(d){return d.map(g=>"filter"in g?{filter:za(g.filter,rd)}:g)}function Mg(d,g,b){Jk=g||"view";Kk=b||Zl;return vi(d.trim()).map(ah)}function bh(d,
g,b,f,h){const y=d.length;let G=0,N;for(;g<y;++g)if(N=d[g],G||N!==b)h&&0<=h.indexOf(N)?--G:f&&0<=f.indexOf(N)&&++G;else break;return g}function vi(d){const g=[],b=d.length;let f=0,h=0;for(;h<b;)h=bh(d,h,",","[{","]}"),g.push(d.substring(f,h).trim()),f=++h;if(0===g.length)throw"Empty event selector: "+d;return g}function ah(d){if("["===d[0]){var g=d;var b=g.length;d=bh(g,1,"]","[","]");if(d===b)throw"Empty between selector: "+g;b=vi(g.substring(1,d));if(2!==b.length)throw"Between selector must have two elements: "+
g;g=g.slice(d+1).trim();if("\x3e"!==g[0])throw"Expected '\x3e' after between selector: "+g;b=b.map(ah);g=ah(g.slice(1).trim());g.between?g={between:b,stream:g}:g.between=b}else{{b={source:Jk};const f=[];let h=[0,0],y=0,G=0,N=d.length,pa=0,Ga;if("}"===d[N-1]){pa=d.lastIndexOf("{");if(0<=pa){try{h=ch(d.substring(pa+1,N-1))}catch(rb){throw"Invalid throttle specification: "+d;}d=d.slice(0,pa).trim();N=d.length}else throw"Unmatched right brace: "+d;pa=0}if(!N)throw d;"@"===d[0]&&(y=++pa);Ga=bh(d,pa,":");
Ga<N&&(f.push(d.substring(G,Ga).trim()),G=pa=++Ga);pa=bh(d,pa,"[");if(pa===N)f.push(d.substring(G,N).trim());else if(f.push(d.substring(G,pa).trim()),g=[],G=++pa,G===N)throw"Unmatched left bracket: "+d;for(;pa<N;){pa=bh(d,pa,"]");if(pa===N)throw"Unmatched left bracket: "+d;g.push(d.substring(G,pa).trim());if(pa<N-1&&"["!==d[++pa])throw"Expected left bracket: "+d;G=++pa}if(!(N=f.length)||$l.test(f[N-1]))throw"Invalid event selector: "+d;1<N?(b.type=f[1],y?b.markname=f[0].slice(1):Kk[f[0]]?b.marktype=
f[0]:b.source=f[0]):b.type=f[0];"!"===b.type.slice(-1)&&(b.consume=!0,b.type=b.type.slice(0,-1));null!=g&&(b.filter=g);h[0]&&(b.throttle=h[0]);h[1]&&(b.debounce=h[1]);g=b}}return g}function ch(d){const g=d.split(",");if(!d.length||2<g.length)throw d;return g.map(b=>{b=+b;if(b!==b)throw d;return b})}function Cg(d,g,b,f){var h=!!g&&"condition"in g&&g.condition;g=f(g);return h?(h=nb(h).map(y=>{const G=f(y);y=y.selection?Xi(d,y.selection):dh(d,y.test);return Object.assign({},{test:y},G)}),{[b]:[...h,
...void 0!==g?[g]:[]]}):void 0!==g?{[b]:g}:{}}function Dh(d,g){g=void 0===g?"text":g;return Cg(d,d.encoding[g],g,b=>eh(b,d.config))}function eh(d,g,b){b=void 0===b?"datum":b;if(d){if(Zd(d))return Bd(d.value);if(od(d)){const {format:f,formatType:h}=nf(d);return Vd({fieldOrDatumDef:d,format:f,formatType:h,expr:b,config:g})}}}function Yi(d,g){g=void 0===g?{}:g;const {encoding:b,markDef:f,config:h,stack:y}=d,G=b.tooltip;if(de(G))return{tooltip:wi({tooltip:G},y,h,g)};{const N=g.reactiveGeom?"datum.datum":
"datum";return Cg(d,G,"tooltip",pa=>{const Ga=eh(pa,h,N);if(Ga)return Ga;if(null!==pa){pa=Kd("tooltip",f,h);!0===pa&&(pa={content:"encoding"});if(Ba(pa))return{value:pa};if(pb(pa))return sc(pa)?pa:"encoding"===pa.content?wi(b,y,h,g):{signal:N}}})}}function xi(d,g,b,f){function h(pa,Ga){var rb,wb=Da(Ga);pa=jd(pa)?pa:Object.assign({},pa,{type:d[wb].type});wb=pa.title||ti(pa,b);wb=nb(wb).join(", ");if(Ga in Vf){const Jc="x"===Ga?"x2":"y2";var Vb=Ne(d[Jc]);if(Hc(pa.bin)&&Vb){var Ac=bd(pa,{expr:G});Vb=
bd(Vb,{expr:G});const {format:Pc,formatType:fd}=nf(pa);Ac=Ge(Ac,Vb,Pc,fd,b);y[Jc]=!0}else if(g&&g.fieldChannel===Ga&&"normalize"===g.offset){const {format:Pc,formatType:fd}=nf(pa);Ac=Vd({fieldOrDatumDef:pa,format:Pc,formatType:fd,expr:G,config:b,normalizeStack:!0}).signal}}Ac=null!==(rb=Ac)&&void 0!==rb?rb:eh(pa,b,G).signal;N.push({channel:Ga,key:wb,value:Ac})}({reactiveGeom:f}=void 0===f?{}:f);const y={},G=f?"datum.datum":"datum",N=[];yb(d,(pa,Ga)=>{oc(pa)?h(pa,Ga):dc(pa)&&h(pa.condition,Ga)});f=
{};for(const pa of N){const {channel:Ga,key:rb,value:wb}=pa;y[Ga]||f[rb]||(f[rb]=wb)}return f}function wi(d,g,b,f){({reactiveGeom:f}=void 0===f?{}:f);d=xi(d,g,b,{reactiveGeom:f});d=si(d).map(h=>{var [y,G]=h;return'"'.concat(y,'": ').concat(G)});return 0<d.length?{signal:"{".concat(d.join(", "),"}")}:void 0}function $h(d){const {markDef:g,config:b}=d,f=Kd("aria",g,b);return!1===f?{}:Object.assign({},f?{aria:f}:{},Eh(d),Zi(d))}function Eh(d){const {mark:g,markDef:b,config:f}=d;if(!1===f.aria)return{};
d=Kd("ariaRoleDescription",b,f);return null!=d?{ariaRoleDescription:{value:d}}:g in am?{}:{ariaRoleDescription:{value:g}}}function Zi(d){const {encoding:g,markDef:b,config:f,stack:h}=d;var y=g.description;if(y)return Cg(d,y,"description",G=>eh(G,d.config));y=Kd("description",b,f);if(null!=y)return{description:Bd(y)};if(!1===f.aria)return{};y=xi(g,h,f);if(!Q(y))return{description:{signal:si(y).map((G,N)=>{var [pa,Ga]=G;return'"'.concat(0<N?"; ":"").concat(pa,': " + (').concat(Ga,")")}).join(" + ")}}}
function Nf(d,g,b){b=void 0===b?{}:b;const {markDef:f,encoding:h,config:y}=g,{vgChannel:G}=b;let {defaultRef:N,defaultValue:pa}=b;if(void 0===N){var Ga;pa=null!==(Ga=pa)&&void 0!==Ga?Ga:Kd(d,f,y,{vgChannel:G,ignoreVgConfig:!0});void 0!==pa&&(N=Bd(pa))}return Cg(g,h[d],null!==G&&void 0!==G?G:d,rb=>Ae({channel:d,channelDef:rb,markDef:f,config:y,scaleName:g.scaleName(d),scale:g.getScaleComponent(d),stack:null,defaultRef:N}))}function $i(d,g){g=void 0===g?{filled:void 0}:g;var b,f,h,y;const {markDef:G,
encoding:N,config:pa}=d,{type:Ga}=G;g=null!==(b=g.filled)&&void 0!==b?b:Kd("filled",G,pa);b=Ja(["bar","point","circle","square","geoshape"],Ga)?"transparent":void 0;b=null!==(f=null!==(h=Kd(!0===g?"color":void 0,G,pa,{vgChannel:"fill"}))&&void 0!==h?h:pa.mark[!0===g&&"color"])&&void 0!==f?f:b;f=null!==(y=Kd(!1===g?"color":void 0,G,pa,{vgChannel:"stroke"}))&&void 0!==y?y:pa.mark[!1===g&&"color"];y=g?"fill":"stroke";h=Object.assign({},b?{fill:Bd(b)}:{},f?{stroke:Bd(f)}:{});G.color&&(g?G.fill:G.stroke)&&
zb(qb("property",{fill:"fill"in G,stroke:"stroke"in G}));return Object.assign({},h,Nf("color",d,{vgChannel:y,defaultValue:g?b:f}),Nf("fill",d,{defaultValue:N.fill?b:void 0}),Nf("stroke",d,{defaultValue:N.stroke?f:void 0}))}function aj(d){const {encoding:g,mark:b}=d,f=g.order;return!Xd(b)&&Zd(f)?Cg(d,f,"zindex",h=>Bd(h.value)):{}}function Fh(d,g){d=sb(d);if(g=g[d])return g}function Qf(d,g,b){var {defaultPos:f,vgChannel:h,isMidPoint:y}=b;const {encoding:G,markDef:N,config:pa,stack:Ga}=g;b=G[d];const rb=
G[na(d)],wb=g.scaleName(d),Vb=g.getScaleComponent(d),Ac=Fh(d,N),Jc=ai({model:g,defaultPos:f,channel:d,scaleName:wb,scale:Vb});if(!b&&d in Vf&&(G.latitude||G.longitude))g={field:g.getName(d)};else a:{g={channel:d,channelDef:b,channel2Def:rb,markDef:N,config:pa,isMidPoint:y,scaleName:wb,scale:Vb,stack:Ga,offset:Ac,defaultRef:Jc};const {channel:Pc,channelDef:fd,isMidPoint:ld,scaleName:Sd,stack:Le,offset:Gd,markDef:Je,config:sd}=g;if(od(fd)&&Le&&Pc===Le.fieldChannel){if(oc(fd)&&(g=Oa({channel:Pc,fieldDef:fd,
isMidPoint:ld,markDef:Je,stack:Le,config:sd}),void 0!==g)){g=wd({scaleName:Sd,fieldOrDatumDef:fd,startSuffix:"start",band:g,offset:Gd});break a}g=ne(fd,Sd,{suffix:"end"},{offset:Gd})}else g=xd(g)}return g?{[h||d]:g}:void 0}function ai(d){var {model:g,defaultPos:b,channel:f,scaleName:h,scale:y}=d;const {markDef:G,config:N}=g;return()=>{var pa=Da(f),Ga=W(f);Ga=Kd(f,G,N,{vgChannel:Ga});if(void 0!==Ga)return cf(f,Ga);switch(b){case "zeroOrMin":case "zeroOrMax":if(h&&(Ga=y.get("type"),!Ja([Of.LOG,Of.TIME,
Of.UTC],Ga)&&y.domainDefinitelyIncludesZero()))return{scale:h,value:0};if("zeroOrMin"===b)return"y"===pa?{field:{group:"height"}}:{value:0};switch(pa){case "radius":return{signal:"min(".concat(g.width.signal,",").concat(g.height.signal,")/2")};case "theta":return{signal:"2*PI"};case "x":return{field:{group:"width"}};case "y":return{value:0}}break;case "mid":return pa=g[$a(f)],Object.assign({},pa,{mult:.5})}}}function bj(d,g,b,f){f=void 0===f?"middle":f;if("radius"===d||"theta"===d)return W(d);var h=
"x"===d?"align":"baseline";g=Kd(h,g,b);sc(g)?(zb("The ".concat(h," for range marks cannot be an expression")),h=void 0):h=g;return"x"===d?bm[h||("top"===f?"left":"center")]:cm[h||f]}function Gh(d,g,b){var {defaultPos:f,defaultPos2:h,range:y}=b;return y?cj(d,g,{defaultPos:f,defaultPos2:h}):Qf(d,g,{defaultPos:f})}function cj(d,g,b){var {defaultPos:f,defaultPos2:h}=b;const {markDef:y,config:G}=g;var N=na(d);b=$a(d);{const {encoding:Gd,mark:Je,markDef:sd,stack:xf,config:Pe}=g;var pa=Da(N);const ge=$a(N),
rf=W(N);var Ga=Gd[pa];const Lf=g.scaleName(pa),ef=g.getScaleComponent(pa);pa=N in Gd||N in sd?Fh(N,g.markDef):Fh(pa,g.markDef);if(Ga||"x2"!==N&&"y2"!==N||!Gd.latitude&&!Gd.longitude){var {channel:rb,channelDef:wb,channel2Def:Vb,markDef:Ac,config:Jc,scaleName:Pc,scale:fd,stack:ld,offset:Sd,defaultRef:Le}={channel:N,channelDef:Ga,channel2Def:Gd[N],markDef:sd,config:Pe,scaleName:Lf,scale:ef,stack:xf,offset:pa,defaultRef:void 0};Ga=od(wb)&&ld&&rb.charAt(0)===ld.fieldChannel.charAt(0)?ne(wb,Pc,{suffix:"start"},
{offset:Sd}):xd({channel:rb,channelDef:Vb,scaleName:Pc,scale:fd,stack:ld,markDef:Ac,config:Jc,offset:Sd,defaultRef:Le});N=void 0!==Ga?{[rf]:Ga}:bi(N,sd)||bi(N,{[N]:je(N,sd,Pe.style),[ge]:je(ge,sd,Pe.style)})||bi(N,Pe[Je])||bi(N,Pe.mark)||{[rf]:ai({model:g,defaultPos:h,channel:N,scaleName:Lf,scale:ef})()}}else N={[rf]:{field:g.getName(N)}}}b=N[b]?bj(d,y,G):W(d);return Object.assign({},Qf(d,g,{defaultPos:f,vgChannel:b}),N)}function bi(d,g){const b=$a(d),f=W(d);if(void 0!==g[f])return{[f]:cf(d,g[f])};
if(void 0!==g[d])return{[f]:cf(d,g[d])};if(g[b])return{[b]:cf(d,g[b])}}function Dg(d,g,b){var f,h;const {config:y,encoding:G,markDef:N,stack:pa}=d;var Ga=na(g),rb=$a(g),wb=G[g];Ga=G[Ga];var Vb=d.getScaleComponent(g),Ac=Vb?Vb.get("type"):void 0,Jc=d.scaleName(g);const Pc=N.orient;rb=null!==(f=null!==(h=G[rb])&&void 0!==h?h:G.size)&&void 0!==f?f:Kd("size",N,y,{vgChannel:rb});f="bar"===b&&("x"===g?"vertical"===Pc:"horizontal"===Pc);if(oc(wb)&&(tc(wb.bin)||Hc(wb.bin)||wb.timeUnit&&!Ga)&&!rb&&!(Ac in hg)){var fd,
ld;b=Oa({channel:g,fieldDef:wb,stack:pa,markDef:N,config:y});d=null===(fd=d.component.axes[g])||void 0===fd?void 0:fd[0];d=null!==(ld=null===d||void 0===d?void 0:d.get("translate"))&&void 0!==ld?ld:.5;a:{g={fieldDef:wb,fieldDef2:Ga,channel:g,markDef:N,scaleName:Jc,band:b,axisTranslate:d,spacing:g in Vf?Kd("binSpacing",N,y):void 0,reverse:Vb.get("reverse"),config:y};var {fieldDef:Sd,fieldDef2:Le,channel:Gd,band:Je,scaleName:sd,markDef:xf,spacing:Pe=0,axisTranslate:ge,reverse:rf,config:Lf}=g;g=na(Gd);
wb=W(Gd);d=W(g);b=Fh(Gd,xf);if(tc(Sd.bin)||Sd.timeUnit)g={[d]:dj({channel:Gd,fieldDef:Sd,scaleName:sd,markDef:xf,band:(1-Je)/2,offset:fh(g,Pe,rf,ge,b),config:Lf}),[wb]:dj({channel:Gd,fieldDef:Sd,scaleName:sd,markDef:xf,band:1-(1-Je)/2,offset:fh(Gd,Pe,rf,ge,b),config:Lf})};else{if(Hc(Sd.bin)){var ef=ne(Sd,sd,{},{offset:fh(g,Pe,rf,ge,b)});if(oc(Le)){g={[d]:ef,[wb]:ne(Le,sd,{},{offset:fh(Gd,Pe,rf,ge,b)})};break a}if(pb(Sd.bin)&&Sd.bin.step){g={[d]:ef,[wb]:{signal:'scale("'.concat(sd,'", ').concat(bd(Sd,
{expr:"datum"})," + ").concat(Sd.bin.step,")"),offset:fh(Gd,Pe,rf,ge,b)}};break a}}zb(Rb(g));g=void 0}}return g}if((od(wb)&&Ac in hg||f)&&!Ga){{var Mf;const {markDef:Ef,encoding:Pj,config:Zg,stack:ui}=d;fd=Ef.orient;Vb=d.scaleName(g);Jc=d.getScaleComponent(g);ld=$a(g);Ga=na(g);fd="horizontal"===fd&&"y"===g||"vertical"===fd&&"x"===g;f=Kd(fd?"size":ld,Ef,Zg,{vgChannel:ld});if(Pj.size||void 0!==f)fd?ef=Nf("size",d,{vgChannel:ld,defaultValue:f}):zb('Cannot apply size to non-oriented mark "'.concat(Ef.type,
'".'));fd=null!==(Mf=od(wb)?Oa({channel:g,fieldDef:wb,markDef:Ef,stack:ui,config:Zg}):void 0)&&void 0!==Mf?Mf:1;ef||(Ac=ld,Mf=Vb,f=Jc,ef=Zg,h=fd,f?(Ac=f.get("type"),"point"===Ac||"band"===Ac?void 0!==ef[b].discreteBandSize?b={value:ef[b].discreteBandSize}:Ac===Of.POINT?(b=f.get("range"),b=mc(b)&&Pa(b.step)?{value:b.step-2}:{value:18}):b={scale:Mf,band:h}:b={value:ef[b].continuousBandSize}):(Mf=k(ef.view,Ac),b=ha(ef[b].discreteBandSize,Mf-2),b=void 0!==b?{value:b}:void 0),ef={[ld]:b});f="band"!==(null===
Jc||void 0===Jc?void 0:Jc.get("type"))||!("band"in ef[ld]);b=bj(g,Ef,Zg,f?"middle":"top");Mf=Fh(g,Ef);g=xd({channel:g,channelDef:wb,markDef:Ef,config:Zg,scaleName:Vb,scale:Jc,stack:ui,offset:Mf,defaultRef:ai({model:d,defaultPos:"mid",channel:g,scaleName:Vb,scale:Jc}),band:f?.5:(1-fd)/2});ld?g=Object.assign({},{[b]:g},ef):(wb=W(Ga),d=ef[ld],d=Mf?Object.assign({},d,{offset:Mf}):d,g={[b]:g,[wb]:de(g)?[g[0],Object.assign({},g[1],{offset:d})]:Object.assign({},g,{offset:d})})}return g}return cj(g,d,{defaultPos:"zeroOrMax",
defaultPos2:"zeroOrMin"})}function fh(d,g,b,f,h){if(d in Lj)return 0;d="x"===d||"y2"===d?-g/2:g/2;if(sc(b)||sc(h)||sc(f))return b=Od(b),h=Od(h),f=(f=Od(f))?"".concat(f," + "):"",b=b?"(".concat(b," ? -1 : 1) * "):"",d=h?"(".concat(h," + ").concat(d,")"):d,{signal:f+b+d};h=h||0;return f+(b?-h-d:+h+d)}function dj(d){var {channel:g,fieldDef:b,scaleName:f,markDef:h,band:y,offset:G,config:N}=d;d=wd({scaleName:f,fieldOrDatumDef:b,band:y,offset:G});return Ld({fieldDef:b,channel:g,markDef:h,ref:d,config:N})}
function ig(d,g){const {fill:b,stroke:f}="include"===g.color?$i(d):{};return Object.assign({},ej(d.markDef,g),Hh(d,"fill",b),Hh(d,"stroke",f),Nf("opacity",d),Nf("fillOpacity",d),Nf("strokeOpacity",d),Nf("strokeWidth",d),Nf("strokeDash",d),aj(d),Yi(d),Dh(d,"href"),$h(d))}function Hh(d,g,b){const {config:f,mark:h,markDef:y}=d;return"hide"===Kd("invalid",y,f)&&b&&!Xd(h)&&(d=fj(d,{invalid:!0,channels:gj}))?{[g]:[{test:d,value:null},...nb(b)]}:b?{[g]:b}:{}}function ej(d,g){return dm.reduce((b,f)=>{em.has(f)||
void 0===d[f]||"ignore"===g[f]||(b[f]=Bd(d[f]));return b},{})}function fj(d,g){var {invalid:b=!1,channels:f}=g;g=f.reduce((h,y)=>{var G=d.getScaleComponent(y);G&&(G=G.get("type"),(y=d.vgField(y,{expr:"datum"}))&&G in qg&&(h[y]=!0));return h},{});g=kd(g);if(0<g.length){const h=b?"||":"\x26\x26";return g.map(y=>ff(y,b)).join(" ".concat(h," "))}}function yi(d){const {config:g,markDef:b}=d;return Kd("invalid",b,g)&&(d=Qj(d,{channels:rg}))?{defined:{signal:d}}:{}}function Qj(d,g){var {invalid:b=!1,channels:f}=
g;g=f.reduce((h,y)=>{var G=d.getScaleComponent(y);G&&(G=G.get("type"),(y=d.vgField(y,{expr:"datum"}))&&G in qg&&(h[y]=!0));return h},{});g=kd(g);if(0<g.length){const h=b?"||":"\x26\x26";return g.map(y=>ff(y,b)).join(" ".concat(h," "))}}function yf(d,g){if(void 0!==g)return{[d]:Bd(g)}}function zi(d,g){d=Ca(d.scaleName(g));return"domain(".concat(d,")")}function Ng(d){var g;return d.parent&&ci(d.parent)&&(null!==(g=!d.parent.parent)&&void 0!==g?g:Ng(d.parent.parent))}function Ai(d,g,b){var f;const h=
null===(f=d.fieldDef(g))||void 0===f?void 0:f.field;Eg(d,y=>{var G;const N=null!==(G=y.project.hasField[h])&&void 0!==G?G:y.project.hasChannel[g];if(N&&Lk.has(y)){var pa;G=null!==(pa=b.get("selections"))&&void 0!==pa?pa:[];G.push(y.name);b.set("selections",G,!1);N.hasLegend=!0}})}function Bi(d,g,b,f,h){var y,G=g.name,N=G+"_translate_anchor";G+="_translate_delta";var pa=b.channel;const Ga=gh.has(g);g=h.filter(wb=>wb.name===b.signals[Ga?"data":"visual"])[0];f=d.getSizeSignalRef(f).signal;d=d.getScaleComponent(pa);
h=d.get("type");const rb=Ga&&"x"===pa?"-":"";N="".concat(N,".extent_").concat(pa);pa="".concat(rb).concat(G,".").concat(pa," / ")+(Ga?"".concat(f):"span(".concat(N,")"));N="".concat(Ga?"log"===h?"panLog":"pow"===h?"panPow":"panLinear":"panLinear","(").concat(N,", ").concat(pa)+(Ga&&"pow"===h?", ".concat(null!==(y=d.get("exponent"))&&void 0!==y?y:1):"")+")";g.on.push({events:{signal:G},update:Ga?N:"clampRange(".concat(N,", 0, ").concat(f,")")})}function Ci(d,g,b,f,h){var y,G=g.name;const N=b.channel,
pa=gh.has(g);g=h.filter(wb=>wb.name===b.signals[pa?"data":"visual"])[0];f=d.getSizeSignalRef(f).signal;h=d.getScaleComponent(N);const Ga=h.get("type"),rb=pa?zi(d,N):g.name;d=G+"_zoom_delta";G="".concat(G).concat("_zoom_anchor",".").concat(N);G="".concat(pa?"log"===Ga?"zoomLog":"pow"===Ga?"zoomPow":"zoomLinear":"zoomLinear","(").concat(rb,", ").concat(G,", ").concat(d)+(pa&&"pow"===Ga?", ".concat(null!==(y=h.get("exponent"))&&void 0!==y?y:1):"")+")";g.on.push({events:{signal:d},update:pa?G:"clampRange(".concat(G,
", 0, ").concat(f,")")})}function Ih(d,g){for(const b of fm)b.has(d)&&g(b)}function Og(d,g,b){g=void 0===g?!0:g;b=void 0===b?gm:b;return de(d)?(d=d.map(f=>Og(f,g,b)),g?"[".concat(d.join(", "),"]"):d):kc(d)?g?b(Eb(d)):b(Zb(d)):g?b(JSON.stringify(d)):d}function hj(d,g){Eg(d,(b,f)=>{const h=b.name;let y=f.modifyExpr(d,b);g.push(...f.signals(d,b));Ih(b,G=>{G.signals&&(g=G.signals(d,b,g));G.modifyExpr&&(y=G.modifyExpr(d,b,y))});g.push({name:h+"_modify",on:[{events:{signal:b.name+"_tuple"},update:"modify(".concat(Ca(b.name+
"_store"),", ").concat(y,")")}]})});return Di(g)}function Ei(d,g){d.component.selection&&kd(d.component.selection).length&&(d=Ca(d.getName("cell")),g.unshift({name:"facet",value:{},on:[{events:Mg("mousemove","scope"),update:"isTuple(facet) ? facet : group(".concat(d,").datum")}]}));return Di(g)}function ij(d,g){let b=!1;Eg(d,(f,h)=>{const y=f.name,G=Ca(y+"_store");if(0===g.filter(N=>N.name===y).length){const N="global"===f.resolve?"union":f.resolve,pa="multi"===f.type?", true)":")";g.push({name:f.name,
update:"".concat("vlSelectionResolve","(").concat(G,", ").concat(Ca(N)).concat(pa)})}b=!0;h.topLevelSignals&&(g=h.topLevelSignals(d,f,g));Ih(f,N=>{N.topLevelSignals&&(g=N.topLevelSignals(d,f,g))})});b&&0===g.filter(f=>"unit"===f.name).length&&g.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]});return Di(g)}function jj(d,g){const b=[...g];Eg(d,f=>{const h={name:f.name+"_store"};if(f.init){const y=f.project.items.map(N=>{N=Object.assign({},N);return delete N.signals,
N}),G=f.init.map(N=>Og(N,!1));h.values="interval"===f.type?[{unit:Rf(d,{escape:!1}),fields:y,values:G}]:G.map(N=>({unit:Rf(d,{escape:!1}),fields:y,values:N}))}b.filter(y=>y.name===f.name+"_store").length||b.push(h)});return b}function kj(d,g){Eg(d,(b,f)=>{g=f.marks?f.marks(d,b,g):g;Ih(b,h=>{h.marks&&(g=h.marks(d,b,g))})});return g}function hh(d,g){for(const b of d.children)Kf(b)&&(g=kj(b,g));return g}function Di(d){return d.map(g=>{g.on&&!g.on.length&&delete g.on;return g})}function di(d,g,b,f){const h=
b.channel,y=b.signals.visual;b=b.signals.data;const G=gh.has(g),N=Ca(d.scaleName(h));var pa=d.getScaleComponent(h);pa=pa?pa.get("type"):void 0;const Ga=Vb=>"scale(".concat(N,", ").concat(Vb,")"),rb=d.getSizeSignalRef("x"===h?"width":"height").signal,wb="".concat(h,"(unit)");d=lj(g,(Vb,Ac)=>[...Vb,{events:Ac.between[0],update:"[".concat(wb,", ").concat(wb,"]")},{events:Ac,update:"[".concat(y,"[0], clamp(").concat(wb,", 0, ").concat(rb,")]")}]);d.push({events:{signal:g.name+"_scale_trigger"},update:pa in
qg?"[".concat(Ga("".concat(b,"[0]")),", ").concat(Ga("".concat(b,"[1]")),"]"):"[0, 0]"});return G?[{name:b,on:[]}]:[Object.assign({},{name:y},f?{init:Og(f,!0,Ga)}:{value:[]},{on:d}),Object.assign({},{name:b},f?{init:Og(f)}:{},{on:[{events:{signal:y},update:"".concat(y,"[0] \x3d\x3d\x3d ").concat(y,"[1] ? null : invert(").concat(N,", ").concat(y,")")}]})]}function lj(d,g){return d.events.reduce((b,f)=>f.between?g(b,f):(zb("".concat(f," is not an ordered event stream for interval selections.")),b),
[])}function Sf(d,g){const b=g.name;var f=b+"_tuple_fields";const h=g.project.items.map(y=>{const G=d.fieldDef(y.channel);return G&&G.bin?"[".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(Ca(d.vgField(y.channel,{})),"], ")+"".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(Ca(d.vgField(y.channel,{binSuffix:"end"})),"]]"):"".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(Ca(y.field),"]")}).join(", ");f="unit: ".concat(Rf(d),", fields: ").concat(f,", values");
g=g.events;return[{name:b+"_tuple",on:g?[{events:g,update:"datum \x26\x26 item().mark.marktype !\x3d\x3d 'group' ? {".concat(f,": [").concat(h,"]} : null"),force:!0}]:[]}]}function Eg(d,g){if(d=d.component.selection)for(const b of Pg(d))if(!0===g(b,hm[b.type]))break}function Rf(d,g){({escape:g}=void 0===g?{escape:!0}:g);g=g?Ca(d.name):d.name;for(d=d.parent;d&&!Ag(d);)d=d.parent;if(d){const {facet:b}=d;for(const f of sg)b[f]&&(g+=" + '__facet_".concat(f,"_' + (facet[").concat(Ca(d.vgField(f)),"])"))}return g}
function ei(d){let g=!1;Eg(d,b=>{g=g||b.project.items.some(f=>"_vgsid_"===f.field)});return g}function jg(d){this.type=d}function fi(d){switch(d.type){case "ArrayExpression":return d.elements;case "BinaryExpression":case "LogicalExpression":return[d.left,d.right];case "CallExpression":return[d.callee].concat(d.arguments);case "ConditionalExpression":return[d.test,d.consequent,d.alternate];case "MemberExpression":return[d.object,d.property];case "ObjectExpression":return d.properties;case "Property":return[d.key,
d.value];case "UnaryExpression":return[d.argument];default:return[]}}function Se(d,g){if(!d)throw Error("ASSERT: "+g);}function Ye(d){return 48<=d&&57>=d}function Pf(d){return 0<="0123456789abcdefABCDEF".indexOf(d)}function Jh(d){return 0<="01234567".indexOf(d)}function Fg(d){return 10===d||13===d||8232===d||8233===d}function Wf(d){return 36===d||95===d||65<=d&&90>=d||97<=d&&122>=d||92===d||128<=d&&im.test(String.fromCharCode(d))}function Qg(d){return 36===d||95===d||65<=d&&90>=d||97<=d&&122>=d||
48<=d&&57>=d||92===d||128<=d&&jm.test(String.fromCharCode(d))}function mj(){for(;Xc<Zf;){const d=ae.charCodeAt(Xc);if(32===d||9===d||11===d||12===d||160===d||5760<=d&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(d)||Fg(d))++Xc;else break}}function Fi(d){var g=0;var b="u"===d?4:2;for(d=0;d<b;++d)if(Xc<Zf&&Pf(ae[Xc])){var f=ae[Xc++];g=16*g+"0123456789abcdef".indexOf(f.toLowerCase())}else Qe({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(g)}
function ih(){var d=ae.charCodeAt(Xc++);var g=String.fromCharCode(d);92===d&&(117!==ae.charCodeAt(Xc)&&Qe({},"Unexpected token %0","ILLEGAL"),++Xc,(d=Fi("u"))&&"\\"!==d&&Wf(d.charCodeAt(0))||Qe({},"Unexpected token %0","ILLEGAL"),g=d);for(;Xc<Zf;){d=ae.charCodeAt(Xc);if(!Qg(d))break;++Xc;g+=String.fromCharCode(d);92===d&&(g=g.substr(0,g.length-1),117!==ae.charCodeAt(Xc)&&Qe({},"Unexpected token %0","ILLEGAL"),++Xc,(d=Fi("u"))&&"\\"!==d&&Qg(d.charCodeAt(0))||Qe({},"Unexpected token %0","ILLEGAL"),
g+=d)}return g}function jh(){var d=Xc,g=ae.charCodeAt(Xc),b=ae[Xc];switch(g){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Xc,{type:7,value:String.fromCharCode(g),start:d,end:Xc};default:var f=ae.charCodeAt(Xc+1);if(61===f)switch(g){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Xc+=2,{type:7,value:String.fromCharCode(g)+String.fromCharCode(f),start:d,end:Xc};case 33:case 61:return Xc+=2,61===ae.charCodeAt(Xc)&&
++Xc,{type:7,value:ae.slice(d,Xc),start:d,end:Xc}}}g=ae.substr(Xc,4);if("\x3e\x3e\x3e\x3d"===g)return Xc+=4,{type:7,value:g,start:d,end:Xc};g=g.substr(0,3);if("\x3e\x3e\x3e"===g||"\x3c\x3c\x3d"===g||"\x3e\x3e\x3d"===g)return Xc+=3,{type:7,value:g,start:d,end:Xc};g=g.substr(0,2);if(b===g[1]&&0<="+-\x3c\x3e\x26|".indexOf(b)||"\x3d\x3e"===g)return Xc+=2,{type:7,value:g,start:d,end:Xc};if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(b))return++Xc,{type:7,value:b,start:d,end:Xc};Qe({},"Unexpected token %0","ILLEGAL")}
function kh(){var d=ae[Xc];Se(Ye(d.charCodeAt(0))||"."===d,"Numeric literal must start with a decimal digit or a decimal point");var g=Xc;var b="";if("."!==d){b=ae[Xc++];d=ae[Xc];if("0"===b){if("x"===d||"X"===d){++Xc;for(b="";Xc<Zf&&Pf(ae[Xc]);)b+=ae[Xc++];0===b.length&&Qe({},"Unexpected token %0","ILLEGAL");Wf(ae.charCodeAt(Xc))&&Qe({},"Unexpected token %0","ILLEGAL");return g={type:6,value:parseInt("0x"+b,16),start:g,end:Xc}}if(Jh(d)){for(b="0"+ae[Xc++];Xc<Zf&&Jh(ae[Xc]);)b+=ae[Xc++];(Wf(ae.charCodeAt(Xc))||
Ye(ae.charCodeAt(Xc)))&&Qe({},"Unexpected token %0","ILLEGAL");return g={type:6,value:parseInt(b,8),octal:!0,start:g,end:Xc}}d&&Ye(d.charCodeAt(0))&&Qe({},"Unexpected token %0","ILLEGAL")}for(;Ye(ae.charCodeAt(Xc));)b+=ae[Xc++];d=ae[Xc]}if("."===d){for(b+=ae[Xc++];Ye(ae.charCodeAt(Xc));)b+=ae[Xc++];d=ae[Xc]}if("e"===d||"E"===d){b+=ae[Xc++];d=ae[Xc];if("+"===d||"-"===d)b+=ae[Xc++];if(Ye(ae.charCodeAt(Xc)))for(;Ye(ae.charCodeAt(Xc));)b+=ae[Xc++];else Qe({},"Unexpected token %0","ILLEGAL")}Wf(ae.charCodeAt(Xc))&&
Qe({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(b),start:g,end:Xc}}function kg(d,g){let b=d;0<=g.indexOf("u")&&(b=b.replace(/\\u\{([0-9a-fA-F]+)\}/g,(f,h)=>{if(1114111>=parseInt(h,16))return"x";Qe({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(b)}catch(f){Qe({},"Invalid regular expression")}try{return new RegExp(d,g)}catch(f){return null}}function nj(){mj();if(Xc>=Zf)return{type:2,start:Xc,end:Xc};var d=ae.charCodeAt(Xc);if(Wf(d)){d=
Xc;if(92===ae.charCodeAt(Xc))var g=ih();else a:{for(g=Xc++;Xc<Zf;){var b=ae.charCodeAt(Xc);if(92===b){Xc=g;g=ih();break a}if(Qg(b))++Xc;else break}g=ae.slice(g,Xc)}return{type:1===g.length?3:km.hasOwnProperty(g)?4:"null"===g?5:"true"===g||"false"===g?1:3,value:g,start:d,end:Xc}}if(40===d||41===d||59===d)return jh();if(39===d||34===d){var f="";b=!1;d=ae[Xc];Se("'"===d||'"'===d,"String literal must starts with a quote");g=Xc;for(++Xc;Xc<Zf;){var h=ae[Xc++];if(h===d){d="";break}else if("\\"===h)if((h=
ae[Xc++])&&Fg(h.charCodeAt(0)))"\r"===h&&"\n"===ae[Xc]&&++Xc;else switch(h){case "u":case "x":if("{"===ae[Xc]){++Xc;var y=ae[Xc];h=0;for("}"===y&&Qe({},"Unexpected token %0","ILLEGAL");Xc<Zf;){y=ae[Xc++];if(!Pf(y))break;h=16*h+"0123456789abcdef".indexOf(y.toLowerCase())}(1114111<h||"}"!==y)&&Qe({},"Unexpected token %0","ILLEGAL");h=65535>=h?String.fromCharCode(h):String.fromCharCode((h-65536>>10)+55296,(h-65536&1023)+56320);f+=h}else f+=Fi(h);break;case "n":f+="\n";break;case "r":f+="\r";break;case "t":f+=
"\t";break;case "b":f+="\b";break;case "f":f+="\f";break;case "v":f+="\x0B";break;default:Jh(h)?(y="01234567".indexOf(h),0!==y&&(b=!0),Xc<Zf&&Jh(ae[Xc])&&(b=!0,y=8*y+"01234567".indexOf(ae[Xc++]),0<="0123".indexOf(h)&&Xc<Zf&&Jh(ae[Xc])&&(y=8*y+"01234567".indexOf(ae[Xc++]))),f+=String.fromCharCode(y)):f+=h}else if(Fg(h.charCodeAt(0)))break;else f+=h}""!==d&&Qe({},"Unexpected token %0","ILLEGAL");return{type:8,value:f,octal:b,start:g,end:Xc}}return 46===d?Ye(ae.charCodeAt(Xc+1))?kh():jh():Ye(d)?kh():
jh()}function $f(){const d=gf;Xc=d.end;gf=nj();Xc=d.end;return d}function Gg(){const d=Xc;gf=nj();Xc=d}function Gi(d,g,b){const f=new jg("||"===d||"\x26\x26"===d?"LogicalExpression":"BinaryExpression");f.operator=d;f.left=g;f.right=b;return f}function Kh(d){const g=new jg("Identifier");g.name=d;return g}function mg(d){const g=new jg("Literal");g.value=d.value;g.raw=ae.slice(d.start,d.end);d.regex&&("//"===g.raw&&(g.raw="/(?:)/"),g.regex=d.regex);return g}function lh(d,g,b){const f=new jg("MemberExpression");
f.computed="["===d;f.object=g;f.property=b;f.computed||(b.member=!0);return f}function mh(d,g,b){const f=new jg("Property");f.key=g;f.value=b;f.kind=d;return f}function Qe(d,g){var b=Array.prototype.slice.call(arguments,2),f=g.replace(/%(\d)/g,(y,G)=>{Se(G<b.length,"Message reference must be in range");return b[G]});var h=Error(f);h.index=Xc;h.description=f;throw h;}function Rg(d){2===d.type&&Qe(d,"Unexpected end of input");6===d.type&&Qe(d,"Unexpected number");8===d.type&&Qe(d,"Unexpected string");
3===d.type&&Qe(d,"Unexpected identifier");4===d.type&&Qe(d,"Unexpected reserved word");Qe(d,"Unexpected token %0",d.value)}function Af(d){const g=$f();7===g.type&&g.value===d||Rg(g)}function uf(d){return 7===gf.type&&gf.value===d}function nh(){Xc=gf.start;const d=$f();return 8===d.type||6===d.type?(d.octal&&Qe(d,"Octal literals are not allowed in strict mode."),mg(d)):Kh(d.value)}function gi(){if(uf("(")){Af("(");var d=oh();Af(")");return d}if(uf("[")){d=[];Xc=gf.start;for(Af("[");!uf("]");)uf(",")?
($f(),d.push(null)):(d.push(Sg()),uf("]")||Af(","));$f();var g=new jg("ArrayExpression");g.elements=d;return d=g}if(uf("{")){d=[];g={};var b=String;Xc=gf.start;for(Af("{");!uf("}");){Xc=gf.start;var f=gf;if(3===f.type){var h=nh();Af(":");f=Sg();f=mh("init",h,f)}else 2===f.type||7===f.type?(Rg(f),f=void 0):(h=nh(),Af(":"),f=Sg(),f=mh("init",h,f));h="Identifier"===f.key.type?f.key.name:b(f.key.value);h="$"+h;Object.prototype.hasOwnProperty.call(g,h)?Qe({},"Duplicate data property in object literal not allowed in strict mode"):
g[h]=!0;d.push(f);uf("}")||Af(",")}Af("}");g=new jg("ObjectExpression");g.properties=d;return d=g}d=gf.type;Xc=gf.start;if(3===d||lm[gf.value])g=Kh($f().value);else if(8===d||6===d)gf.octal&&Qe(gf,"Octal literals are not allowed in strict mode."),g=mg($f());else{if(4===d)throw Error("Disabled.");if(1===d)d=$f(),d.value="true"===d.value,g=mg(d);else if(5===d)d=$f(),d.value=null,g=mg(d);else if(uf("/")||uf("/\x3d")){var y;gf=null;mj();d=Xc;g=ae[Xc];Se("/"===g,"Regular expression literal must start with a slash");
b=ae[Xc++];for(h=f=!1;Xc<Zf;)if(g=ae[Xc++],b+=g,"\\"===g)g=ae[Xc++],Fg(g.charCodeAt(0))&&Qe({},"Invalid regular expression: missing /"),b+=g;else if(Fg(g.charCodeAt(0)))Qe({},"Invalid regular expression: missing /");else if(f)"]"===g&&(f=!1);else if("/"===g){h=!0;break}else"["===g&&(f=!0);h||Qe({},"Invalid regular expression: missing /");g=b.substr(1,b.length-2);for(y=h="";Xc<Zf;){f=ae[Xc];if(!Qg(f.charCodeAt(0)))break;++Xc;"\\"===f&&Xc<Zf?Qe({},"Unexpected token %0","ILLEGAL"):(y+=f,h+=f)}0<=y.search(/[^gimuy]/g)&&
Qe({},"Invalid regular expression",y);f=y;y=kg(g,f);g=mg({literal:b+h,value:y,regex:{pattern:g,flags:f},start:d,end:Xc});Gg()}else Rg($f())}return g}function oj(){var d;for(d=gi();;)if(uf(".")){Af(".");Xc=gf.start;var g=$f();3===g.type||4===g.type||1===g.type||5===g.type||Rg(g);g=Kh(g.value);d=lh(".",d,g)}else if(uf("(")){g=[];Af("(");if(!uf(")"))for(;Xc<Zf;){g.push(Sg());if(uf(")"))break;Af(",")}Af(")");{const b=new jg("CallExpression");b.callee=d;b.arguments=g;d=b}}else if(uf("["))Af("["),g=oh(),
Af("]"),d=lh("[",d,g);else break;if(7===gf.type&&(uf("++")||uf("--")))throw Error("Disabled.");return d}function hi(){if(7!==gf.type&&4!==gf.type)var d=oj();else{if(uf("++")||uf("--"))throw Error("Disabled.");if(uf("+")||uf("-")||uf("~")||uf("!")){var g=$f();d=hi();{g=g.value;const b=new jg("UnaryExpression");b.operator=g;b.argument=d;b.prefix=!0;d=b}}else{if(4===gf.type&&"delete"===gf.value||4===gf.type&&"void"===gf.value||4===gf.type&&"typeof"===gf.value)throw Error("Disabled.");d=oj()}}return d}
function ph(d){let g=0;if(7!==d.type&&4!==d.type)return 0;switch(d.value){case "||":g=1;break;case "\x26\x26":g=2;break;case "|":g=3;break;case "^":g=4;break;case "\x26":g=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":g=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":g=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":g=8;break;case "+":case "-":g=9;break;case "*":case "/":case "%":g=11}return g}function Sg(){var d=
gf;var g=hi();var b=gf;var f=ph(b);if(0===f)var h=g;else{b.prec=f;$f();d=[d,gf];var y=hi();for(h=[g,b,y];0<(f=ph(gf));){for(;2<h.length&&f<=h[h.length-2].prec;)y=h.pop(),b=h.pop().value,g=h.pop(),d.pop(),g=Gi(b,g,y),h.push(g);b=$f();b.prec=f;h.push(b);d.push(gf);g=hi();h.push(g)}f=h.length-1;g=h[f];for(d.pop();1<f;)d.pop(),g=Gi(h[f-1].value,h[f-2],g),f-=2;h=g}uf("?")&&($f(),d=Sg(),Af(":"),f=Sg(),g=new jg("ConditionalExpression"),g.test=h,g.consequent=d,g.alternate=f,h=g);return h}function oh(){const d=
Sg();if(uf(","))throw Error("Disabled.");return d}function le(d){ae=d;Xc=0;Zf=ae.length;gf=null;Gg();d=oh();if(2!==gf.type)throw Error("Unexpect token after expression.");return d}function Hi(d){const g=[];if("Identifier"===d.type)return[d.name];if("Literal"===d.type)return[d.value];"MemberExpression"===d.type&&(g.push(...Hi(d.object)),g.push(...Hi(d.property)));return g}function ii(d){return"MemberExpression"===d.object.type?ii(d.object):"datum"===d.object.name}function ji(d){d=le(d);const g=new Set;
d.visit(b=>{"MemberExpression"===b.type&&ii(b)&&g.add(Hi(b).slice(1).join("."))});return g}function Ii(d,g){const b={},f=d.config.selection;for(const G of kd(null!==g&&void 0!==g?g:{})){const N=Oe(g[G]);var h=Object.assign({},f[N.type]);h=(delete h.fields,delete h.encodings,h);for(const Ga in h)if(!("encodings"===Ga&&N.fields||"fields"===Ga&&N.encodings)&&("mark"===Ga&&(N[Ga]=Object.assign({},h[Ga],N[Ga])),void 0===N[Ga]||!0===N[Ga])){var y;N[Ga]=null!==(y=h[Ga])&&void 0!==y?y:N[Ga]}h=F(G);const pa=
b[h]=Object.assign({},N,{name:h,events:Ba(N.on)?Mg(N.on,"scope"):Oe(N.on)});Ih(pa,Ga=>{Ga.has(pa)&&Ga.parse&&Ga.parse(d,pa,N,g[G])})}return b}function Xi(d,g,b,f){f=void 0===f?"datum":f;const h=[];g=O(g,function(y){var G=F(y);y=d.getSelectionComponent(G,y);G=Ca(G+"_store");if(y.project.timeUnit){const N=null!==b&&void 0!==b?b:d.component.data.raw,pa=y.project.timeUnit.clone();N.parent?pa.insertAsParentOf(N):N.parent=pa}"none"!==y.empty&&h.push(G);return"vlSelectionTest(".concat(G,", ").concat(f)+
("global"===y.resolve?")":", ".concat(Ca(y.resolve),")"))});return(h.length?"!("+h.map(y=>"length(data(".concat(y,"))")).join(" || ")+") || ":"")+"(".concat(g,")")}function pj(d,g){const b=g.encoding;let f=g.field;if(!b&&!f)f=d.project.items[0].field,1<d.project.items.length&&zb('A "field" or "encoding" must be specified when using a selection as a scale domain. '+'Using "field": '.concat(Ca(f),"."));else if(b&&!f){const h=d.project.items.filter(y=>y.channel===b);!h.length||1<h.length?(f=d.project.items[0].field,
zb((h.length?"Multiple ":"No ")+"matching ".concat(Ca(b)," encoding found for selection ").concat(Ca(g.selection),". ")+'Using "field": '.concat(Ca(f),"."))):f=h[0].field}return"".concat(d.name,"[").concat(Ca(f),"]")}function Ji(d,g){Eg(d,b=>{const f=b.name,h=d.getName("lookup_".concat(f));d.component.data.outputNodes[h]=b.materialized=new bg(new Ki(g,d,{selection:f}),h,Ff.Lookup,d.component.data.outputNodeRefCounts)})}function dh(d,g,b){return O(g,f=>Ba(f)?f:(null===f||void 0===f?0:f.selection)?
Xi(d,f.selection,b):re(f))}function qh(d,g){if(d)return de(d)&&!zd(d)?d.map(b=>ti(b,g)).join(", "):d}function Hg(d,g,b,f){var h,y,G;d.encode=null!==(h=d.encode)&&void 0!==h?h:{};d.encode[g]=null!==(y=d.encode[g])&&void 0!==y?y:{};d.encode[g].update=null!==(G=d.encode[g].update)&&void 0!==G?G:{};d.encode[g].update[b]=f}function Bf(d,g,b,f){f=void 0===f?{header:!1}:f;var h=d.combine(),y=Object.assign({},h),G=h.disable;const N=h.orient,pa=h.scale,Ga=h.labelExpr,rb=h.title;h=h.zindex;y=(delete y.disable,
delete y.orient,delete y.scale,delete y.labelExpr,delete y.title,delete y.zindex,y);if(!G){for(const Jc in y){var wb=mm[Jc];G=y[Jc];if(wb&&wb!==g&&"both"!==wb)delete y[Jc];else if(A(G)){wb=G;G=Object.assign({},wb);wb=wb.condition;G=(delete G.condition,G);wb=nb(wb);const Pc=Mk[Jc];if(Pc){const {vgProp:fd,part:ld}=Pc;G=[...wb.map(Sd=>{var Le=Object.assign({},Sd);Sd=Sd.test;Le=(delete Le.test,Le);return Object.assign({},{test:dh(null,Sd)},Le)}),G];Hg(y,ld,fd,G);delete y[Jc]}else null===Pc&&(G={signal:wb.map(fd=>
{var ld=Object.assign({},fd);fd=fd.test;ld=(delete ld.test,ld);return"".concat(dh(null,fd)," ? ").concat(ke(ld)," : ")}).join("")+ke(G)},y[Jc]=G)}else if(sc(G)&&(wb=Mk[Jc])){const {vgProp:Pc,part:fd}=wb;Hg(y,fd,Pc,G);delete y[Jc]}}if("grid"===g){if(y.grid)return y.encode&&({grid:b}=y.encode,y.encode=Object.assign({},b?{grid:b}:{}),Q(y.encode)&&delete y.encode),Object.assign({},{scale:pa,orient:N},y,{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:ha(h,0)})}else if(f.header||!d.mainExtracted){if(void 0!==
Ga){var Vb,Ac;g=Ga;(null===(Vb=y.encode)||void 0===Vb?0:null===(Ac=Vb.labels)||void 0===Ac?0:Ac.update)&&sc(y.encode.labels.update.text)&&(g=S(Ga,"datum.label",y.encode.labels.update.text.signal));Hg(y,"labels","text",{signal:g})}null===y.labelAlign&&delete y.labelAlign;if(y.encode){for(const Jc of Nk)d.hasAxisPart(Jc)||delete y.encode[Jc];Q(y.encode)&&delete y.encode}d=qh(rb,b);return Object.assign({},{scale:pa,orient:N,grid:!1},d?{title:d}:{},y,!1===b.aria?{aria:!1}:{},{zindex:ha(h,0)})}}}function Lh(d){const {axes:g}=
d.component,b=[];for(const f of rg)if(g[f])for(const h of g[f])if(!h.get("disable")&&!h.get("gridScale")){const y="x"===f?"height":"width",G=d.getSizeSignalRef(y).signal;y!==G&&b.push({name:y,update:G})}return b}function tg(d,g){const {x:b=[],y:f=[]}=d;return[...b.map(h=>Bf(h,"grid",g)),...f.map(h=>Bf(h,"grid",g)),...b.map(h=>Bf(h,"main",g)),...f.map(h=>Bf(h,"main",g))].filter(h=>h)}function Li(d,g,b,f){return Object.assign.apply(null,[{},...d.map(h=>{if("axisOrient"===h){h="x"===b?"bottom":"left";
const y=g["x"===b?"axisBottom":"axisLeft"]||{},G=g["x"===b?"axisTop":"axisRight"]||{},N=new Set([...kd(y),...kd(G)]),pa={};for(const Ga of N.values())pa[Ga]={signal:"".concat(f.signal,' \x3d\x3d\x3d "').concat(h,'" ? ').concat(Od(y[Ga])," : ").concat(Od(G[Ga]))};return pa}return g[h]})])}function qj(d,g,b,f){var h="band"===g?["axisDiscrete","axisBand"]:"point"===g?["axisDiscrete","axisPoint"]:g in nm?["axisQuantitative"]:"time"===g||"utc"===g?["axisTemporal"]:[];const y="x"===d?"axisX":"axisY";g=
sc(b)?"axisOrient":"axis"+ka(b);h=[...h,...h.map(G=>y+G.substr(4))];g=["axis",g,y];return{vlOnlyAxisConfig:Li(h,f,d,b),vgAxisConfig:Li(g,f,d,b),axisConfigStyle:Bg([...g,...h],f)}}function Bg(d,g){const b=[{}];for(const h of d){var f;if(d=null===(f=g[h])||void 0===f?void 0:f.style){d=nb(d);for(const y of d)b.push(g.style[y])}}return Object.assign.apply(null,b)}function Ig(d,g,b,f){f=void 0===f?{}:f;g=lf(d,b,g);if(void 0!==g)return{configFrom:"style",configValue:g};for(const y of["vlOnlyAxisConfig",
"vgAxisConfig","axisConfigStyle"]){var h;if(void 0!==(null===(h=f[y])||void 0===h?void 0:h[d]))return{configFrom:y,configValue:f[y][d]}}return{}}function Rj(d,g,b,f,h){const y=null===g||void 0===g?void 0:g.labelAngle;if(void 0!==y)return sc(y)?y:l(y);({configValue:g}=Ig("labelAngle",f,null===g||void 0===g?void 0:g.style,h));if(void 0!==g)return l(g);if("x"===b&&Ja(["nominal","ordinal"],d.type)&&(!oc(d)||!d.timeUnit))return 270}function Mi(d){return"(((".concat(d.signal," % 360) + 360) % 360)")}function Tg(d,
g,b,f){if(void 0!==d)return"x"===b?sc(d)?(f=Mi(d),g=sc(g)?"(".concat(g.signal,' \x3d\x3d\x3d "top")'):"top"===g,{signal:"(45 \x3c ".concat(f," \x26\x26 ").concat(f," \x3c 135) || (225 \x3c ").concat(f," \x26\x26 ").concat(f,' \x3c 315) ? "middle" :')+"(".concat(f," \x3c\x3d 45 || 315 \x3c\x3d ").concat(f,") \x3d\x3d\x3d ").concat(g,' ? "bottom" : "top"')}):45<d&&135>d||225<d&&315>d?"middle":sc(g)?(f=45>=d||315<=d?"\x3d\x3d\x3d":"!\x3d\x3d",{signal:"".concat(g.signal," ").concat(f,' "top" ? "bottom" : "top"')}):
(45>=d||315<=d)===("top"===g)?"bottom":"top":sc(d)?(d=Mi(d),g=sc(g)?"(".concat(g.signal,' \x3d\x3d\x3d "left")'):"left"===g,f=f?'"middle"':"null",{signal:"".concat(d," \x3c\x3d 45 || 315 \x3c\x3d ").concat(d," || (135 \x3c\x3d ").concat(d," \x26\x26 ").concat(d," \x3c\x3d 225) ? ").concat(f," : (45 \x3c\x3d ").concat(d," \x26\x26 ").concat(d," \x3c\x3d 135) \x3d\x3d\x3d ").concat(g,' ? "top" : "bottom"')}):45>=d||315<=d||135<=d&&225>=d?f?"middle":null:sc(g)?(f=45<=d&&135>=d?"\x3d\x3d\x3d":"!\x3d\x3d",
{signal:"".concat(g.signal," ").concat(f,' "left" ? "top" : "bottom"')}):(45<=d&&135>=d)===("left"===g)?"top":"bottom"}function rh(d,g,b){if(void 0!==d){var f=(b="x"===b)?0:90,h=b?"bottom":"left";return sc(d)?(d=Mi(d),g=sc(g)?"(".concat(g.signal,' \x3d\x3d\x3d "').concat(h,'")'):g===h,{signal:"(".concat(f?"("+d+" + 90)":d," % 180 \x3d\x3d\x3d 0) ? ").concat(b?null:'"center"'," :")+"(".concat(f," \x3c ").concat(d," \x26\x26 ").concat(d," \x3c ").concat(180+f,") \x3d\x3d\x3d ").concat(g,' ? "left" : "right"')}):
0===(d+f)%180?b?null:"center":sc(g)?(b=f<d&&d<180+f?"\x3d\x3d\x3d":"!\x3d\x3d",g="".concat(g.signal," ").concat(b,' "').concat(h,'"'),{signal:"".concat(g,' ? "left" : "right"')}):(f<d&&d<180+f)===(g===h)?"left":"right"}}function Ni(d,g){var b="x"===g?"x2":"y2";g=d.fieldDef(g);d=d.fieldDef(b);b=g?g.title:void 0;d=d?d.title:void 0;if(b&&d)return J(b,d);if(b)return b;if(d)return d;if(void 0!==b)return b;if(void 0!==d)return d}function lg(d,g,b){return bd(d,Object.assign({},{prefix:g,suffix:"sort_index"},
null!==b&&void 0!==b?b:{}))}function ug(d,g){return Ja(["top","bottom"],g)?"column":Ja(["left","right"],g)?"row":"row"===d?"row":"column"}function vg(d,g,b,f){return ha((g||{})[d],("row"===f?b.headerRow:"column"===f?b.headerColumn:b.headerFacet)[d],b.header[d])}function Mh(d,g,b,f){const h={};for(const y of d)d=vg(y,g||{},b,f),void 0!==d&&(h[y]=d);return h}function Sj(d,g){const b=d.component.layoutHeaders[g].title,f=d.config?d.config:void 0;d=d.component.layoutHeaders[g].facetFieldDef?d.component.layoutHeaders[g].facetFieldDef:
void 0;const {titleAnchor:h,titleAngle:y,titleOrient:G}=Mh(["titleAnchor","titleAngle","titleOrient"],d.header,f,g),N=ug(g,G),pa=l(y);return{name:"".concat(g,"-title"),type:"group",role:"".concat(N,"-title"),title:Object.assign({},{text:b},"row"===g?{orient:"left"}:{},{style:"guide-title"},Nh(pa,N),Oh(N,pa,h),sh(f,d,g,om,Ok))}}function Oh(d,g,b){switch(void 0===b?"middle":b){case "start":return{align:"left"};case "end":return{align:"right"}}return(d=rh(g,"row"===d?"left":"top","row"===d?"y":"x"))?
{align:d}:{}}function Nh(d,g){return(d=Tg(d,"row"===g?"left":"top","row"===g?"y":"x",!0))?{baseline:d}:{}}function cg(d,g){const b=d.component.layoutHeaders[g],f=[];for(const wb of Tj)if(b[wb])for(const Vb of b[wb]){a:{var h=d;var y=g,G=wb,N=b,pa=Vb;if(pa){let Ac=null;const {facetFieldDef:Jc}=N;var Ga=h.config?h.config:void 0;if(Jc&&pa.labels){var {labelOrient:rb}=Mh(["labelOrient"],Jc.header,Ga,y);if("row"===y&&!Ja(["top","bottom"],rb)||"column"===y&&!Ja(["left","right"],rb))Ac=Ze(Jc,y,Ga)}Ga=Ag(h)&&
!ra(h.facet);rb=pa.axes;const Pc=0<(null===rb||void 0===rb?void 0:rb.length);if(Ac||Pc){const fd="row"===y?"height":"width";h=Object.assign({},{name:h.getName("".concat(y,"_").concat(G)),type:"group",role:"".concat(y,"-").concat(G)},N.facetFieldDef?{from:{data:h.getName(y+"_domain")},sort:dg(Jc,y)}:{},Pc&&Ga?{from:{data:h.getName("facet_domain_".concat(y))}}:{},Ac?{title:Ac}:{},pa.sizeSignal?{encode:{update:{[fd]:pa.sizeSignal}}}:{},Pc?{axes:rb}:{});break a}}h=null}null!=h&&f.push(h)}return f}function dg(d,
g){const {sort:b}=d;if(I(b)){var f;return{field:bd(b,{expr:"datum"}),order:null!==(f=b.order)&&void 0!==f?f:"ascending"}}return de(b)?{field:lg(d,g,{expr:"datum"}),order:"ascending"}:{field:bd(d,{expr:"datum"}),order:null!==b&&void 0!==b?b:"ascending"}}function Ze(d,g,b){const {format:f,formatType:h,labelAngle:y,labelAnchor:G,labelOrient:N,labelExpr:pa}=Mh("format formatType labelAngle labelAnchor labelOrient labelExpr".split(" "),d.header,b,g),Ga=Vd({fieldOrDatumDef:d,format:f,formatType:h,expr:"parent",
config:b}).signal,rb=ug(g,N);return Object.assign({},{text:{signal:pa?S(S(pa,"datum.label",Ga),"datum.value",bd(d,{expr:"parent"})):Ga}},"row"===g?{orient:"left"}:{},{style:"guide-label",frame:"group"},Nh(y,rb),Oh(rb,y,G),sh(b,d,g,pm,Pk))}function sh(d,g,b,f,h){const y={};for(const G of f)h[G]&&(f=vg(G,null===g||void 0===g?void 0:g.header,d,b),void 0!==f&&(y[h[G]]=f));return y}function ki(d){return[...ng(d,"width"),...ng(d,"height"),...ng(d,"childWidth"),...ng(d,"childHeight")]}function ng(d,g){var b=
"width"===g?"x":"y",f=d.component.layoutSize.get(g);if(!f||"merged"===f)return[];g=d.getSizeSignalRef(g).signal;if("step"===f){if(f=d.getScaleComponent(b)){var h=f.get("type");const y=f.get("range");if(h in hg&&mc(y))return h=d.scaleName(b),Ag(d.parent)&&"independent"===d.parent.component.resolve.scale[b]?[{name:h+"_step",value:y.step}]:[{name:h+"_step",value:y.step},{name:g,update:th(h,f,"domain('".concat(h,"').length"))}]}throw Error("layout size is step although width/height is not step.");}return"container"==
f?(b=(f=g.endsWith("width"))?"containerSize()[0]":"containerSize()[1]",d=c(d.config.view,f?"width":"height"),d="isFinite(".concat(b,") ? ").concat(b," : ").concat(d),[{name:g,init:d,on:[{update:d,events:"window:resize"}]}]):[{name:g,value:f}]}function th(d,g,b){const f=g.get("type"),h=g.get("padding"),y=ha(g.get("paddingOuter"),h);g=g.get("paddingInner");g="band"===f?void 0!==g?g:h:1;return"bandspace(".concat(b,", ").concat(Od(g),", ").concat(Od(y),") * ").concat(d,"_step")}function rj(d){return"childWidth"===
d?"width":"childHeight"===d?"height":d}function Tf(d,g){return kd(d).reduce((b,f)=>Object.assign({},b,Cg(g,d[f],f,h=>Bd(h.value))),{})}function li(d,g){const b=g in Vf?"axis":"legend";return"independent"===d.scale[g]?("shared"===d[b][g]&&zb('Setting the scale to be independent for "'.concat(g,'" means we also have to set the guide (axis or legend) to be independent.')),"independent"):d[b][g]||"shared"}function Oi(d){return uh(d,(g,b)=>Math.max(g,b.value))}function wg(d){return uh(d,(g,b)=>ha(g,b.value))}
function uh(d,g){var b=d&&d.condition;if(b=!!b&&(de(b)||Zd(b)))return nb(d.condition).reduce(g,d.value);if(Zd(d))return d.value}function Ph(d,g,b){d=g.get("selections");if(null!==d&&void 0!==d&&d.length){var f=Ca(b.field);return d.map(h=>{const y=Ca(F(h)+"_store");return"(!length(data(".concat(y,")) || (").concat(h,"[").concat(f,"] \x26\x26 indexof(").concat(h,"[").concat(f,"], datum.value) \x3e\x3d 0))")}).join(" || ")}}function vh(d,g,b,f){d=d.getSizeSignalRef(g).signal;return{signal:"clamp(".concat(d,
", ").concat(b,", ").concat(f,")")}}function wh(d){var g;if(Kf(d)){var {encoding:b}=d,f={};for(const Pe of["color",...Qk]){var h=H(b[Pe]);if(h&&d.getScaleComponent(Pe)&&("shape"!==Pe||!oc(h)||"geojson"!==h.type)){a:{var y=h=void 0,G=void 0,N=void 0,pa=void 0;var Ga=void 0;var rb=d,wb=Pe;let ge=rb.legend(wb);const {markDef:rf,encoding:Lf,config:ef}=rb;var Vb=ef.legend;b:{var Ac=rb;var Jc=wb,Pc=Ac.scaleName(Jc);if("trail"===Ac.mark){if("color"===Jc){Ac={stroke:Pc};break b}if("size"===Jc){Ac={strokeWidth:Pc};
break b}}Ac="color"===Jc?Ac.markDef.filled?{fill:Pc}:{stroke:Pc}:{[Jc]:Pc}}Ac=new qm({},Ac);Ai(rb,wb,Ac);Jc=void 0!==ge?!ge:Vb.disable;Ac.set("disable",Jc,void 0!==ge);if(Jc){h=Ac;break a}ge=ge||{};Pc=rb.getScaleComponent(wb).get("type");Jc=H(Lf[wb]);var fd=oc(Jc)?null===(Ga=Bb(Jc.timeUnit))||void 0===Ga?void 0:Ga.unit:void 0;const Mf=ge.orient||ef.legend.orient||"right";Ga={legend:ge,channel:wb,timeUnit:fd,scaleType:Pc};({legend:fd}=Ga);fd=fd.type;b:{var {channel:ld,timeUnit:Sd,scaleType:Le}=Ga;
if(fa(ld)){if(Ja(["quarter","month","day"],Sd)){Ga="symbol";break b}if(Le in zg){Ga="gradient";break b}}Ga="symbol"}Ga=ha(fd,Ga);var {legendConfig:Gd,legendType:Je,orient:sd,legend:xf}={legend:ge,legendType:Ga,orient:Mf,legendConfig:Vb};if(null!==(G=null!==(y=xf.direction)&&void 0!==y?y:Gd[Je?"gradientDirection":"symbolDirection"])&&void 0!==G)y=G;else b:{switch(sd){case "top":case "bottom":y="horizontal";break b;case "left":case "right":case "none":case void 0:break;default:y="gradient"===Je?"horizontal":
void 0;break b}y=void 0}Vb={legend:ge,channel:wb,model:rb,markDef:rf,encoding:Lf,fieldOrDatumDef:Jc,legendConfig:Vb,config:ef,scaleType:Pc,orient:Mf,legendType:Ga,direction:y};for(const Ef of Rk)if(!("gradient"===Ga&&Ef.startsWith("symbol")||"symbol"===Ga&&Ef.startsWith("gradient"))&&(y=Ef in Sk?Sk[Ef](Vb):ge[Ef],void 0!==y)){b:{G=rb.fieldDef(wb);switch(Ef){case "disable":G=void 0!==ge;break b;case "values":G=!(null===ge||void 0===ge||!ge.values);break b;case "title":if("title"===Ef&&y===(null===
G||void 0===G?void 0:G.title)){G=!0;break b}}G=y===(ge||{})[Ef]}(G||void 0===ef.legend[Ef])&&Ac.set(Ef,y,G)}Vb=null!==(pa=null===(N=ge)||void 0===N?void 0:N.encoding)&&void 0!==pa?pa:{};N=Ac.get("selections");pa={};wb={fieldOrDatumDef:Jc,model:rb,channel:wb,legendCmpt:Ac,legendType:Ga};for(const Ef of"labels legend title symbols gradient entries".split(" "))y=Tf(null!==(g=Vb[Ef])&&void 0!==g?g:{},rb),y=Ef in Tk?Tk[Ef](y,wb):y,void 0===y||Q(y)||(pa[Ef]=Object.assign({},(null===N||void 0===N?0:N.length)&&
oc(Jc)?{name:"".concat(F(Jc.field),"_legend_").concat(Ef)}:{},(null===N||void 0===N?0:N.length)?{interactive:!!N}:{},{update:y}));Q(pa)||Ac.set("encode",pa,!(null===(h=ge)||void 0===h||!h.encoding));h=Ac}f[Pe]=h}}g=f}else{{const {legends:Pe,resolve:ge}=d.component;for(b of d.children){wh(b);for(f of kd(b.component.legends))ge.legend[f]=li(d.component.resolve,f),"shared"===ge.legend[f]&&(Pe[f]=xh(Pe[f],b.component.legends[f]),Pe[f]||(ge.legend[f]="independent",delete Pe[f]))}for(h of kd(Pe))for(rb of d.children)rb.component.legends[h]&&
"shared"===ge.legend[h]&&delete rb.component.legends[h];g=Pe}}return d.component.legends=g}function xh(d,g){if(!d)return g.clone();var b=d.getWithExplicit("orient");const f=g.getWithExplicit("orient");if(!b.explicit||!f.explicit||b.value===f.value){var h=!1;for(const Ga of Rk)b=tf(d.getWithExplicit(Ga),g.getWithExplicit(Ga),Ga,"legend",(rb,wb)=>{switch(Ga){case "symbolType":return rb="circle"===wb.value?wb:rb,rb;case "title":return M(rb,wb);case "type":return h=!0,mf("symbol")}return Cd(rb,wb,Ga,
"legend")}),d.setWithExplicit(Ga,b);if(h){var y,G,N,pa;(null===(y=d.implicit)||void 0===y?0:null===(G=y.encode)||void 0===G?0:G.gradient)&&K(d.implicit,["encode","gradient"]);(null===(N=d.explicit)||void 0===N?0:null===(pa=N.encode)||void 0===pa?0:pa.gradient)&&K(d.explicit,["encode","gradient"])}return d}}function sj(d){const g=d.component.legends,b={};for(const h of kd(g)){var f=d.getScaleComponent(h);f=Hf(f.get("domains"));if(b[f])for(const y of b[f])xh(y,g[h])||b[f].push(g[h]);else b[f]=[g[h].clone()]}return Pg(b).flat().map(h=>
{{var y=d.config,G,N=h.combine();h=Object.assign({},N);const Jc=N.disable;N=N.labelExpr;h=(delete h.disable,delete h.labelExpr,delete h.selections,h);if(Jc)var pa=void 0;else{!1===y.aria&&void 0==h.aria&&(h.aria=!1);if(null===(G=h.encode)||void 0===G?0:G.symbols){y=h.encode.symbols.update;!y.fill||"transparent"===y.fill.value||y.stroke||h.stroke||(y.stroke={value:"transparent"});for(var Ga of Qk)h[Ga]&&delete y[Ga]}h.title||delete h.title;if(void 0!==N){var rb,wb;Ga=N;(null===(rb=h.encode)||void 0===
rb?0:null===(wb=rb.labels)||void 0===wb?0:wb.update)&&sc(h.encode.labels.update.text)&&(Ga=S(N,"datum.label",h.encode.labels.update.text.signal));rb=h;wb={signal:Ga};var Vb,Ac;rb.encode=null!==(pa=rb.encode)&&void 0!==pa?pa:{};rb.encode.labels=null!==(Vb=rb.encode.labels)&&void 0!==Vb?Vb:{};rb.encode.labels.update=null!==(Ac=rb.encode.labels.update)&&void 0!==Ac?Ac:{};rb.encode.labels.update.text=wb}pa=h}}return pa}).filter(h=>void 0!==h)}function Pi(d){return d.children.reduce((g,b)=>g.concat(b.assembleProjections()),
mi(d))}function mi(d){var g=d.component.projection;if(!g||g.merged)return[];const b=g.combine(),{name:f}=b;if(g.data){const h={signal:"[".concat(g.size.map(y=>y.signal).join(", "),"]")};g=g.data.reduce((y,G)=>{G=sc(G)?G.signal:"data('".concat(d.lookupDataSource(G),"')");Ja(y,G)||y.push(G);return y},[]);if(0>=g.length)throw Error("Projection's fit didn't find any data sources");return[Object.assign({},{name:f,size:h,fit:{signal:1<g.length?"[".concat(g.join(", "),"]"):g[0]}},b)]}return[Object.assign({},
{name:f},{translate:{signal:"[width / 2, height / 2]"}},b)]}function yh(d){var g=d.component;if(Kf(d))if(d.hasProjection){var b;const y=d.specifiedProjection;var f=!(y&&(null!=y.scale||null!=y.translate));const G=f?[d.getSizeSignalRef("width"),d.getSizeSignalRef("height")]:void 0;if(f){{f=[];const {encoding:N}=d;for(h of[["longitude","latitude"],["longitude2","latitude2"]])(H(N[h[0]])||H(N[h[1]]))&&f.push({signal:d.getName("geojson_".concat(f.length))});d.channelHasField("shape")&&"geojson"===d.typedFieldDef("shape").type&&
f.push({signal:d.getName("geojson_".concat(f.length))});0===f.length&&f.push(d.requestDataName(Ff.Main));var h=f}}else h=void 0;d=new Uk(d.projectionName(!0),Object.assign({},null!==(b=d.config.projection)&&void 0!==b?b:{},null!==y&&void 0!==y?y:{}),G,h)}else d=void 0;else d=zh(d);g.projection=d}function Qh(d,g){const b=wa(rm,f=>!Yh.call(d.explicit,f)&&!Yh.call(g.explicit,f)||Yh.call(d.explicit,f)&&Yh.call(g.explicit,f)&&Hf(d.get(f))===Hf(g.get(f))?!0:!1);if(Hf(d.size)===Hf(g.size)){if(b)return d;
if(Hf(d.explicit)===Hf({}))return g;if(Hf(g.explicit)===Hf({}))return d}return null}function zh(d){if(0!==d.children.length){var g;for(var b of d.children)yh(b);b=wa(d.children,f=>{if(f=f.component.projection){if(g)return(f=Qh(g,f))&&(g=f),!!f;g=f}return!0});if(g&&b){b=d.projectionName(!0);const f=new Uk(b,g.specifiedProjection,g.size,Oe(g.data));for(const h of d.children)if(d=h.component.projection)d.isFit&&f.data.push(...h.component.projection.data),h.renameProjection(d.get("name"),b),d.merged=
!0;return f}}}function tj(d,g,b,f){if(Sc(g,b)){var h,y;d=Kf(d)?null!==(h=null!==(y=d.axis(b))&&void 0!==y?y:d.legend(b))&&void 0!==h?h:{}:{};h=bd(g,{expr:"datum"});y=bd(g,{expr:"datum",binSuffix:"end"});return{formulaAs:bd(g,{binSuffix:"range",forAs:!0}),formula:Ge(h,y,d.format,d.formatType,f)}}return{}}function Rh(d,g){return"".concat(Vc(d),"_").concat(g)}function Sh(d,g,b){var f;b=null!==(f=Hb(b,void 0))&&void 0!==f?f:{};g=Rh(b,g);return d.getName("".concat(g,"_bins"))}function Xf(d,g,b){let f;
f="as"in d?Ba(d.as)?[d.as,"".concat(d.as,"_end")]:[d.as[0],d.as[1]]:[bd(d,{forAs:!0}),bd(d,{binSuffix:"end",forAs:!0})];const h=Object.assign({},Hb(g,void 0));g=Rh(h,d.field);var y={signal:b.getName("".concat(g,"_bins")),extentSignal:b.getName("".concat(g,"_extent"))};const {signal:G,extentSignal:N}=y;if(Ma(h.extent)){var pa=h.extent;y=pa.selection;pa=pj(b.getSelectionComponent(F(y),y),pa);delete h.extent}d=Object.assign({},{bin:h,field:d.field,as:[f]},G?{signal:G}:{},N?{extentSignal:N}:{},pa?{span:pa}:
{});return{key:g,binComponent:d}}function hf(d){return"'"===d[0]&&"'"===d[d.length-1]||'"'===d[0]&&'"'===d[d.length-1]?d.slice(1,-1):d}function Jf(d,g){d=ia(d);if("number"===g)return"toNumber(".concat(d,")");if("boolean"===g)return"toBoolean(".concat(d,")");if("string"===g)return"toString(".concat(d,")");if("date"===g)return"toDate(".concat(d,")");if("flatten"===g)return d;if(0===g.indexOf("date:"))return g=hf(g.slice(5,g.length)),"timeParse(".concat(d,",'").concat(g,"')");if(0===g.indexOf("utc:"))return g=
hf(g.slice(4,g.length)),"utcParse(".concat(d,",'").concat(g,"')");zb('Unrecognized parse "'.concat(g,'".'));return null}function Uj(d){const g={};kb(d.filter,b=>{if(Ud(b)){let h=null;if(Oc(b))h=pd(b.equal);else if(ad(b))h=pd(b.lte);else if(Kc(b))h=pd(b.lt);else if(id(b))h=pd(b.gt);else if(td(b))h=pd(b.gte);else if(qd(b))h=b.range[0];else if(Fd(b)){var f;h=(null!==(f=b.oneOf)&&void 0!==f?f:b["in"])[0]}h&&(kc(h)?g[b.field]="date":Pa(h)?g[b.field]="number":Ba(h)&&(g[b.field]="string"));b.timeUnit&&(g[b.field]=
"date")}});return g}function Th(d){function g(f){if(ac(f))b[f.field]="date";else{var h;if(h="quantitative"===f.type)h=f.aggregate,h=Ba(h)&&Ja(["min","max"],h);h?b[f.field]="number":1<ta(f.field)?f.field in b||(b[f.field]="flatten"):ye(f)&&I(f.sort)&&1<ta(f.sort.field)&&(f.sort.field in b||(b[f.sort.field]="flatten"))}}const b={};(Kf(d)||Ag(d))&&d.forEachFieldDef((f,h)=>{jd(f)?g(f):(h=Da(h),h=d.fieldDef(h),g(Object.assign({},f,{type:h.type})))});if(Kf(d)){const {mark:f,markDef:h,encoding:y}=d;if(Xd(f)&&
!d.encoding.order){const G=y["horizontal"===h.orient?"y":"x"];!oc(G)||"quantitative"!==G.type||G.field in b||(b[G.field]="number")}}return b}function a(d){return d instanceof Uh||d instanceof uj||d instanceof vj}function e(d){return d.stack.stackBy.reduce((g,b)=>{(b=bd(b.fieldDef))&&g.push(b);return g},[])}function q(d){return de(d)&&d.every(g=>Ba(g))&&1<d.length}function m(d){function g(b){if(!(b instanceof ni)){const f=b.clone();if(f instanceof bg){const h="scale_"+f.getSource();f.setSource(h);
d.model.component.data.outputNodes[h]=f}else(f instanceof Jg||f instanceof Ah||f instanceof Qi||f instanceof oi)&&f.addDimensions(d.fields);for(const h of b.children.flatMap(g))h.parent=f;return[f]}return b.children.flatMap(g)}return g}function w(d){if(d instanceof ni)if(1!==d.numChildren()||d.children[0]instanceof bg){var g=d.model.component.data.main;T(g);const b=m(d);d=d.children.map(b).flat();for(const f of d)f.parent=g}else g=d.children[0],(g instanceof Jg||g instanceof Ah||g instanceof Qi||
g instanceof oi)&&g.addDimensions(d.fields),g.swapWithParent(),w(d);else d.children.map(w)}function T(d){if(d instanceof bg&&d.type===Ff.Main&&1===d.numChildren()){const g=d.children[0];g instanceof ni||(g.swapWithParent(),T(d))}}function la(d){for(const g of d){for(const b of g.children)if(b.parent!==g)return!1;if(!la(g.children))return!1}return!0}function oa(d,g){let b=!1;for(const f of g)b=d.optimize(f)||b;return b}function bb(d,g,b){let f=d.sources,h=!1;h=oa(new sm,f)||h;h=oa(new tm(g),f)||h;
f=f.filter(y=>0<y.numChildren());h=oa(new um,f)||h;f=f.filter(y=>0<y.numChildren());b||(h=oa(new vm,f)||h,h=oa(new wm(g),f)||h,h=oa(new xm,f)||h,h=oa(new ym,f)||h,h=oa(new zm,f)||h,h=oa(new Am,f)||h,h=oa(new Bm,f)||h,h=oa(new Cm,f)||h);d.sources=f;return h}function ub(d){const g=d.component.scales;for(const Ga of kd(g)){var b=d;var f=Ga,h=b.getScaleComponent(f).get("type"),{encoding:y}=b;var G=b.scaleDomain(f);var N=b.typedFieldDef(f),pa=b.config.scale;if("unaggregated"===G){const {valid:rb,reason:wb}=
me(N,h);rb||(zb(wb),G=void 0)}else void 0===G&&pa.useUnaggregatedDomain&&({valid:N}=me(N,h),N&&(G="unaggregated"));G!==b.scaleDomain(f)&&(b.specifiedScales[f]=Object.assign({},b.specifiedScales[f],{domain:G}));b="x"===f&&H(y.x2)?H(y.x)?tf(hc(h,G,b,"x"),hc(h,G,b,"x2"),"domain","scale",Ue):hc(h,G,b,"x2"):"y"===f&&H(y.y2)?H(y.y)?tf(hc(h,G,b,"y"),hc(h,G,b,"y2"),"domain","scale",Ue):hc(h,G,b,"y2"):hc(h,G,b,f);g[Ga].setWithExplicit("domains",b);y=void 0;f=d.component.scales[Ga];G=d.specifiedScales[Ga].domain;
h=null===(y=d.fieldDef(Ga))||void 0===y?void 0:y.bin;y=Me(G)&&G;h=pb(h)&&Ma(h.extent)&&h.extent;(y||h)&&f.set("selectionExtent",null!==y&&void 0!==y?y:h,!0);if(d.component.data.isFaceted){for(f=d;!Ag(f)&&f.parent;)f=f.parent;if("shared"===f.component.resolve.scale[Ga])for(const rb of b.value)Bc(rb)&&(rb.data="scale_"+rb.data.replace("scale_",""))}}}function Mb(d){for(var g of d.children){var b=g;Kf(b)?ub(b):Mb(b)}b=d.component.scales;for(const h of kd(b)){let y;g=null;for(const G of d.children){var f=
G.component.scales[h];f&&(y=void 0===y?f.getWithExplicit("domains"):tf(y,f.getWithExplicit("domains"),"domains","scale",Ue),f=f.get("selectionExtent"),g&&f&&g.selection!==f.selection&&zb("The same selection must be used to override scale domains in a layered view."),g=f)}b[h].setWithExplicit("domains",y);g&&b[h].set("selectionExtent",g,!0)}}function zc(d,g,b){return d.map(f=>{f=Gc(f,{timeUnit:b,type:g});return{signal:"{data: ".concat(f,"}")}})}function ic(d,g,b){var f;b=null===(f=Bb(b))||void 0===
f?void 0:f.unit;return"temporal"===g||b?zc(d,g,b):[d]}function hc(d,g,b,f){var {encoding:h}=b;h=H(h[f]);const {type:y}=h,G=h.timeUnit;if(g&&g.unionWith)return f=hc(d,void 0,b,f),g=ic(g.unionWith,y,G),Df([...f.value,...g]);if(sc(g))return Df([g]);if(g&&"unaggregated"!==g&&!Me(g))return Df(ic(g,y,G));var N=b.stack;if(N&&f===N.fieldChannel){if("normalize"===N.offset)return mf([[0,1]]);g=b.requestDataName(Ff.Main);return mf([{data:g,field:b.vgField(f,{suffix:"start"})},{data:g,field:b.vgField(f,{suffix:"end"})}])}N=
Lg[f]&&oc(h)?Ad(b,f,d):void 0;if(Wc(h))return f=ic([h.datum],y,G),mf(f);if("unaggregated"===g)return f=b.requestDataName(Ff.Main),{field:g}=h,mf([{data:f,field:bd({field:g,aggregate:"min"})},{data:f,field:bd({field:g,aggregate:"max"})}]);if(tc(h.bin)){if(d in hg)return"bin-ordinal"===d?mf([]):mf([{data:x(N)?b.requestDataName(Ff.Main):b.requestDataName(Ff.Raw),field:b.vgField(f,Sc(h,f)?{binSuffix:"range"}:{}),sort:!0!==N&&pb(N)?N:{field:b.vgField(f,{}),op:"min"}}]);({bin:g}=h);if(tc(g)){const pa=Sh(b,
h.field,g);return mf([new xg(()=>{const Ga=b.getSignalName(pa);return"[".concat(Ga,".start, ").concat(Ga,".stop]")})])}return mf([{data:b.requestDataName(Ff.Main),field:b.vgField(f,{})}])}return h.timeUnit&&Ja(["time","utc"],d)&&Pb(f,h,Kf(b)?b.encoding[na(f)]:void 0,b.stack,b.markDef,b.config)?(g=b.requestDataName(Ff.Main),mf([{data:g,field:b.vgField(f)},{data:g,field:b.vgField(f,{suffix:"end"})}])):N?mf([{data:x(N)?b.requestDataName(Ff.Main):b.requestDataName(Ff.Raw),field:b.vgField(f),sort:N}]):
mf([{data:b.requestDataName(Ff.Main),field:b.vgField(f)}])}function Uc(d,g){const {op:b,field:f,order:h}=d;return Object.assign({},{op:null!==b&&void 0!==b?b:g?"sum":"min"},f?{field:Za(f)}:{},h?{order:h}:{})}function Ad(d,g,b){if(b in hg){var f=d.fieldDef(g);b=f.sort;if(R(b))return{op:"min",field:lg(f,g),order:"ascending"};({stack:f}=d);var h=f?[...f.groupbyField?[f.groupbyField]:[],...f.stackBy.map(y=>y.fieldDef.field)]:void 0;if(I(b))return d=f&&!Ja(h,b.field),Uc(b,d);if(b&&b.encoding){const {encoding:y,
order:G}=b;d=d.fieldDef(y);const {aggregate:N,field:pa}=d;g=f&&!Ja(h,pa);if(B(N)||E(N))return Uc({field:bd(d),order:G},g);if(z(N)||!N)return Uc({op:N,field:pa,order:G},g)}else{if("descending"===b)return{op:"min",field:d.vgField(g),order:"descending"};if(Ja(["ascending",void 0],b))return!0}}}function me(d,g){const {aggregate:b,type:f}=d;return b?Ba(b)&&!Dm[b]?{valid:!1,reason:'Unaggregated domain not applicable for "'.concat(b,'" since it produces values outside the origin domain of the source data.')}:
"quantitative"===f&&"log"===g?{valid:!1,reason:"Unaggregated domain is currently unsupported for log scale (".concat(Hf(d),").")}:{valid:!0}:{valid:!1,reason:"Using unaggregated domain with raw field has no effect (".concat(Hf(d),").")}}function Ue(d,g,b,f){if(d.explicit&&g.explicit){var h=d.value,y=g.value;b="Conflicting ".concat(f.toString(),' property "').concat(b.toString(),'" (').concat(Hf(h)," and ").concat(Hf(y),"). Using the union of the two domains.");zb(b)}return{explicit:d.explicit,value:[...d.value,
...g.value]}}function be(d){var g=Ra(d.map(h=>Bc(h)?(h=Object.assign({},h),delete h.sort,h):h),xa),b=Ra(d.map(h=>{if(Bc(h))return h=h.sort,void 0===h||x(h)||("op"in h&&"count"===h.op&&delete h.field,"ascending"===h.order&&delete h.order),h}).filter(h=>void 0!==h),xa);if(0!==g.length){if(1===g.length){g=d[0];if(Bc(g)&&0<b.length){var f=b[0];1<b.length?(zb("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),f=!0):pb(f)&&"field"in f&&g.field===f.field&&(f=f.order?
{order:f.order}:!0);return Object.assign({},g,{sort:f})}return g}b=Ra(b.map(h=>{if(x(h)||!("op"in h)||Ba(h.op)&&h.op in Em)return h;zb("Dropping sort property ".concat(Hf(h),' as unioned domains only support boolean or op "count", "min", and "max".'));return!0}),xa);1===b.length?f=b[0]:1<b.length&&(zb("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),f=!0);b=Ra(d.map(h=>Bc(h)?h.data:null),h=>h);return 1===b.length&&null!==b[0]?Object.assign({},{data:b[0],
fields:g.map(h=>h.field)},f?{sort:f}:{}):Object.assign({},{fields:g},f?{sort:f}:{})}}function jf(d){if(Bc(d)&&Ba(d.field))return d.field;var g=de(d)?!1:"fields"in d&&!("data"in d);if(g){let b;for(const f of d.fields)if(Bc(f)&&Ba(f.field))if(!b)b=f.field;else if(b!==f.field)return zb("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),b;zb("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.");
return b}g=de(d)?!1:"fields"in d&&"data"in d;if(g)return zb("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect."),d=d.fields[0],Ba(d)?d:void 0}function $e(d,g){g=d.component.scales[g].get("domains").map(b=>{Bc(b)&&(b.data=d.lookupDataSource(b.data));return b});return be(g)}function of(d){return ci(d)||Vj(d)?d.children.reduce((g,b)=>g.concat(of(b)),sf(d)):sf(d)}function sf(d){return kd(d.component.scales).reduce((g,
b)=>{var f=d.component.scales[b];if(f.merged)return g;var h=f.combine(),y=Object.assign({},h);f=h.name;const G=h.type,N=h.selectionExtent,pa=h.reverse;y=(delete y.name,delete y.type,delete y.selectionExtent,delete y.domains,delete y.range,delete y.reverse,y);h=h.range;b in Vf?mc(h)&&(h={step:{signal:f+"_step"}}):pb(h)&&Bc(h)&&(h=Object.assign({},h,{data:d.lookupDataSource(h.data)}));if(N){var Ga=N.selection;Ga=d.getSelectionComponent(Ga,F(Ga));Ga={signal:pj(Ga,N)}}b=$e(d,b);g.push(Object.assign({},
{name:f,type:G},b?{domain:b}:{},Ga?{domainRaw:Ga}:{},{range:h},void 0!==pa?{reverse:pa}:{},y));return g},[])}function Ke(d){return"x"===d?"width":"y"===d?"height":void 0}function pf(d,g){const b=d.fieldDef(g);if(b&&b.bin&&tc(b.bin)){const f=Sh(d,b.field,b.bin);g=Ke(g);const h=d.getName(g);return new xg(()=>{var y=d.getSignalName(f);y="(".concat(y,".stop - ").concat(y,".start) / ").concat(y,".step");return"".concat(d.getSignalName(h)," / (").concat(y,")")})}}function af(d,g){const b=g.specifiedScales[d];
var {size:f}=g,h=g.getScaleComponent(d).get("type");for(var y of Fm)if(void 0!==b[y]){const pa=qe(h,y),Ga=bf(d,y);if(pa)if(Ga)zb(Ga);else switch(y){case "range":h=b.range;if(de(h)){if(d in Vf)return Df(h.map(rb=>{if("width"===rb||"height"===rb){rb=g.getName(rb);const wb=g.getSignalName.bind(g);return xg.fromName(wb,rb)}return rb}))}else if(pb(h))return Df({data:g.requestDataName(Ff.Main),field:h.field,sort:{op:"min",field:g.vgField(d)}});return Df(h);case "scheme":return Df(kf(b[y]))}else zb(Wd(h,
y,d))}if("x"===d||"y"===d)if(y="x"===d?"width":"height",f=f[y],ib(f)){if(h in hg)return Df({step:f.step});zb(U(y))}const {rangeMin:G,rangeMax:N}=b;d=Uf(d,g);return(void 0!==G||void 0!==N)&&qe(h,"rangeMin")&&de(d)&&2===d.length?Df([null!==G&&void 0!==G?G:d[0],null!==N&&void 0!==N?N:d[1]]):mf(d)}function kf(d){return!Ba(d)&&d.name?Object.assign({},{scheme:d.name},gb(d,["name"])):{scheme:d}}function Uf(d,g){const {size:b,config:f,mark:h,encoding:y}=g;var G=g.getSignalName.bind(g),{type:N}=H(y[d]);const pa=
g.getScaleComponent(d).get("type"),{domain:Ga,domainMid:rb}=g.specifiedScales[d];switch(d){case "x":case "y":if(Ja(["point","band"],pa))if("x"===d&&!b.width){if(N=D(f.view,"width"),ib(N))return N}else if("y"===d&&!b.height&&(N=D(f.view,"height"),ib(N)))return N;N=Ke(d);N=g.getName(N);return"y"===d&&pa in qg?[xg.fromName(G,N),0]:[0,xg.fromName(G,N)];case "size":return G=g.component.scales[d].get("zero"),G=Kg(h,G,f),N=Ug(h,b,g,f),pa in Ui?eg(G,N,Yf(pa,f,Ga,d)):[G,N];case "theta":return[0,2*Math.PI];
case "angle":return[0,360];case "radius":return[0,new xg(()=>{const wb=g.getSignalName("width"),Vb=g.getSignalName("height");return"min(".concat(wb,",").concat(Vb,")/2")})];case "strokeWidth":return[f.scale.minStrokeWidth,f.scale.maxStrokeWidth];case "strokeDash":return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case "shape":return"symbol";case "color":case "fill":case "stroke":return"ordinal"===pa?"nominal"===N?"category":"ordinal":void 0!==rb?"diverging":"rect"===h||"geoshape"===h?"heatmap":"ramp";case "opacity":case "fillOpacity":case "strokeOpacity":return[f.scale.minOpacity,
f.scale.maxOpacity]}throw Error("Scale range undefined for channel ".concat(d));}function Yf(d,g,b,f){switch(d){case "quantile":return g.scale.quantileCount;case "quantize":return g.scale.quantizeCount;case "threshold":if(void 0!==b&&de(b))return b.length+1;zb("Domain for ".concat(f," is required for threshold scale."));return 3}}function eg(d,g,b){const f=()=>{const h=Od(g),y=Od(d),G="(".concat(h," - ").concat(y,") / (").concat(b," - 1)");return"sequence(".concat(y,", ").concat(h," + ").concat(G,
", ").concat(G,")")};return sc(g)?new xg(f):{signal:f()}}function Kg(d,g,b){if(g)return sc(g)?{signal:"".concat(g.signal," ? 0 : ").concat(Kg(d,!1,b))}:0;switch(d){case "bar":case "tick":return b.scale.minBandSize;case "line":case "trail":case "rule":return b.scale.minStrokeWidth;case "text":return b.scale.minFontSize;case "point":case "square":case "circle":return b.scale.minSize}throw Error(dd("size",d));}function Ug(d,g,b,f){b={x:pf(b,"x"),y:pf(b,"y")};switch(d){case "bar":case "tick":{if(void 0!==
f.scale.maxBandSize)return f.scale.maxBandSize;const h=pi(g,b,f.view);return Pa(h)?h-1:new xg(()=>"".concat(h.signal," - 1"))}case "line":case "trail":case "rule":return f.scale.maxStrokeWidth;case "text":return f.scale.maxFontSize;case "point":case "square":case "circle":{if(f.scale.maxSize)return f.scale.maxSize;const h=pi(g,b,f.view);return Pa(h)?Math.pow(.95*h,2):new xg(()=>"pow(".concat(.95," * ").concat(h.signal,", 2)"))}}throw Error(dd("size",d));}function pi(d,g,b){const f=ib(d.width)?d.width.step:
k(b,"width"),h=ib(d.height)?d.height.step:k(b,"height");return g.x||g.y?new xg(()=>"min(".concat([g.x?g.x.signal:f,g.y?g.y.signal:h].join(", "),")")):Math.min(f,h)}function Vk(d,g){if(Kf(d)){{const G=d.component.scales,{config:N,encoding:pa,markDef:Ga,specifiedScales:rb}=d;for(const wb of kd(G)){var b=rb[wb];const Vb=G[wb];var f=d.getScaleComponent(wb),h=H(pa[wb]),y=b[g];const Ac=f.get("type"),Jc=f.get("padding");f=f.get("paddingInner");const Pc=qe(Ac,g),fd=bf(wb,g);void 0!==y&&(Pc?fd&&zb(fd):zb(Wd(Ac,
g,wb)));if(Pc&&void 0===fd)if(void 0!==y)switch(y=h.timeUnit,h=h.type,g){case "domainMax":case "domainMin":kc(b[g])||"temporal"===h||y?Vb.set(g,{signal:Gc(b[g],{type:h,timeUnit:y})},!0):Vb.set(g,b[g],!0);break;default:Vb.copyKeyFromObject(g,b)}else b=g in Wk?Wk[g]({model:d,channel:wb,fieldOrDatumDef:h,scaleType:Ac,scalePadding:Jc,scalePaddingInner:f,domain:b.domain,markDef:Ga,config:N}):N.scale[g],void 0!==b&&Vb.set(g,b,!1)}}}else Xk(d,g)}function Yk(d){if(Kf(d)){{const g=d.component.scales;for(const b of gj){const f=
g[b];if(!f)continue;const h=af(b,d);f.setWithExplicit("range",h)}}}else Xk(d,"range")}function Xk(d,g){const b=d.component.scales;for(var f of d.children)"range"===g?Yk(f):Vk(f,g);for(const h of kd(b)){let y;for(const G of d.children)if(f=G.component.scales[h])f=f.getWithExplicit(g),y=tf(y,f,g,"scale",yg((N,pa)=>{switch(g){case "range":if(N.step&&pa.step)return N.step-pa.step}return 0}));b[h].setWithExplicit(g,y)}}function Gm(d,g){const b=g.bin;if(tc(b)){const f=Sh(d,g.field,b);return new xg(()=>
d.getSignalName(f))}if(Hc(b)&&pb(b)&&void 0!==b.step)return{step:b.step}}function Hm(d,g,b){var f;switch(g.type){case "nominal":case "ordinal":if(fa(d)||"discrete"===vc(d))return"shape"===d&&"ordinal"===g.type&&zb(Nd(d,"ordinal")),"ordinal";if(d in Vf){if(Ja(["rect","bar","image","rule"],b))return"band"}else if("arc"===b&&d in Wj)return"band";return void 0!==g.band||ve(g)&&(null===(f=g.axis)||void 0===f?0:f.tickBand)?"band":"point";case "temporal":if(!fa(d)){if("discrete"===vc(d))return zb(Nd(d,"temporal")),
"ordinal";if(oc(g)&&g.timeUnit&&Bb(g.timeUnit).utc)return"utc"}return"time";case "quantitative":if(fa(d)){if(oc(g)&&tc(g.bin))return"bin-ordinal"}else if("discrete"===vc(d))return zb(Nd(d,"quantitative")),"ordinal";return"linear";case "geojson":return}throw Error('Invalid field type "'.concat(g.type,'".'));}function Zk(d){if(Kf(d))d.component.scales=Im(d);else{var g=d.component;{const N=d.component.scales={},pa={};var b=d.component.resolve;for(const Ga of d.children){Zk(Ga);for(const rb of kd(Ga.component.scales)){var f,
h=b.scale;if(null!==(f=b.scale[rb])&&void 0!==f)var y=f;else{y=rb;var G=d;if(ci(G)||Ag(G))y="shared";else if(Vj(G))y=y in Vf?"independent":"shared";else throw Error("invalid model type for resolve");}h[rb]=y;if("shared"===b.scale[rb])if(h=pa[rb],y=Ga.component.scales[rb].getWithExplicit("type"),h){{G=Nj[h.value];const wb=Nj[y.value];G=G===wb||"ordinal-position"===G&&"time"===wb||"ordinal-position"===wb&&"time"===G}G?pa[rb]=tf(h,y,"type","scale",Jm):(b.scale[rb]="independent",delete pa[rb])}else pa[rb]=
y}}for(const Ga of kd(pa)){f=d.scaleName(Ga,!0);N[Ga]=new $k(f,pa[Ga]);for(const rb of d.children)if(b=rb.component.scales[Ga])rb.renameScale(b.get("name"),f),b.merged=!0}d=N}g.scales=d}}function Im(d){const {encoding:g,mark:b}=d;return gj.reduce((f,h)=>{var y=H(g[h]);if(y&&b===al&&"shape"===h&&"geojson"===y.type)return f;let G=y&&y.scale;if(y&&null!==G&&!1!==G){var N;G=null!==(N=G)&&void 0!==N?N:{};var pa=G;N=Hm(h,y,b);({type:pa}=pa);if(Lg[h]){if(void 0!==pa)if(Hd(h,pa)){var Ga;if(Ga=oc(y))Ga=pa,
y=y.type,Ga=!(Ja(["ordinal","nominal"],y)?void 0===Ga||Ga in hg:"temporal"===y?Ja([Of.TIME,Of.UTC,void 0],Ga):"quantitative"===y?Ja([Of.LOG,Of.POW,Of.SQRT,Of.SYMLOG,Of.QUANTILE,Of.QUANTIZE,Of.THRESHOLD,Of.LINEAR,void 0],Ga):1);Ga?(y=N,y='FieldDef does not work with "'.concat(pa,'" scale. We are using "').concat(y,'" scale instead.'),zb(y)):N=pa}else y=pa,pa=N,y='Channel "'.concat(h,'" does not work with "').concat(y,'" scale. We are using "').concat(pa,'" scale instead.'),zb(y)}else N=null;f[h]=new $k(d.scaleName(h+
"",!0),{value:N,explicit:G.type===N})}return f},{})}function Kf(d){return"unit"===(null===d||void 0===d?void 0:d.type)}function Ag(d){return"facet"===(null===d||void 0===d?void 0:d.type)}function Vj(d){return"concat"===(null===d||void 0===d?void 0:d.type)}function ci(d){return"layer"===(null===d||void 0===d?void 0:d.type)}function bl(d){function g(f,h){f instanceof Uh&&!(f.isGenerator||"url"in f.data)&&(d.push(h),h={name:null,source:h.name,transform:[]});if(f instanceof fg)if(f.parent instanceof Uh&&
!h.source){var y;h.format=Object.assign({},null!==(y=h.format)&&void 0!==y?y:{},{parse:f.assembleFormatParse()});h.transform.push(...f.assembleTransforms(!0))}else h.transform.push(...f.assembleTransforms());if(f instanceof ni){h.name||(h.name="data_".concat(b++));!h.source||0<h.transform.length?(d.push(h),f.data=h.name):f.data=h.source;for(const G of f.assemble())d.push(G)}else switch((f instanceof uj||f instanceof vj||f instanceof wj||f instanceof Ki||f instanceof Ri||f instanceof xj||f instanceof
Si||f instanceof Jg||f instanceof yj||f instanceof Qi||f instanceof oi||f instanceof Xj||f instanceof Yj||f instanceof Zj||f instanceof ak||f instanceof bk||f instanceof ck||f instanceof Vh||f instanceof dk||f instanceof ek)&&h.transform.push(f.assemble()),(f instanceof Vg||f instanceof Wg||f instanceof qi||f instanceof Ah)&&h.transform.push(...f.assemble()),f instanceof bg&&(h.source&&0===h.transform.length?f.setSource(h.source):f.parent instanceof bg?f.setSource(h.name):(h.name||(h.name="data_".concat(b++)),
f.setSource(h.name),1===f.numChildren()&&(d.push(h),h={name:null,source:h.name,transform:[]}))),f.numChildren()){case 0:f instanceof bg&&(!h.source||0<h.transform.length)&&d.push(h);break;case 1:g(f.children[0],h);break;default:h.name||(h.name="data_".concat(b++));y=h.name;!h.source||0<h.transform.length?d.push(h):y=h.source;for(const G of f.children)g(G,{name:null,source:y,transform:[]})}}let b=0;return g}function Km(d){const g=[],b=bl(g);for(const f of d.children)b(f,{source:d.name,name:null,transform:[]});
return g}function Lm(d,g){const b=[];var f=bl(b);let h=0;for(const N of d.sources){N.hasName()||(N.dataName="source_".concat(h++));const pa=N.assemble();f(N,pa)}for(const N of b)0===N.transform.length&&delete N.transform;f=0;for(const N of b.entries()){const [pa,Ga]=N;var y;0!==(null!==(y=Ga.transform)&&void 0!==y?y:[]).length||Ga.source||b.splice(f++,0,b.splice(pa,1)[0])}for(const N of b)for(const pa of null!==(G=N.transform)&&void 0!==G?G:[]){var G;"lookup"===pa.type&&(pa.from=d.outputNodes[pa.from].getSource())}for(const N of b)N.name in
g&&(N.values=g[N.name]);return b}function cl(d,g,b){g="row"===g?"height":"width";return{labels:b,sizeSignal:d.child.component.layoutSize.get(g)?d.child.getSizeSignalRef(g):void 0,axes:[]}}function dl(d,g){var {child:b}=d;if(b.component.axes[g]){const {layoutHeaders:h,resolve:y}=d.component;y.axis[g]=li(y,g);if("shared"===y.axis[g]){const G="x"===g?"column":"row",N=h[G];for(const pa of b.component.axes[g]){var f;g=pa.get("orient");g="top"===g||"left"===g||sc(g)?"header":"footer";N[g]=null!==(f=N[g])&&
void 0!==f?f:[cl(d,G,!1)];(b=Bf(pa,"main",d.config,{header:!0}))&&N[g][0].axes.push(b);pa.mainExtracted=!0}}}}function fk(d){for(const g of d.children)g.parseLayoutSize()}function zj(d,g){const b=rj(g),f=Db(b),h=d.component.resolve,y=d.component.layoutSize;let G;for(const N of d.children){const pa=N.component.layoutSize.getWithExplicit(b),Ga=h.scale[f];if("independent"===Ga&&"step"===pa.value){G=void 0;break}if(G){if("independent"===Ga&&G.value!==pa.value){G=void 0;break}G=tf(G,pa,b,"")}else G=pa}if(G){for(const N of d.children)d.renameSignal(N.getName(b),
d.getName(g)),N.component.layoutSize.set(b,"merged",!1);y.setWithExplicit(g,G)}else y.setWithExplicit(g,{explicit:!1,value:void 0})}function Mm(d,g){const b=d.config;var f=d.getScaleComponent("width"===g?"x":"y");if(f)return d=f.get("type"),f=f.get("range"),d in hg?(g=D(b.view,g),mc(f)||ib(g)?"step":g):c(b.view,g);if(d.hasProjection||"arc"===d.mark)return c(b.view,g);g=D(b.view,g);return ib(g)?g.step:g}function gk(d,g,b){return bd(g,Object.assign({},{suffix:"by_".concat(bd(d))},null!==b&&void 0!==
b?b:{}))}function el(d,g){for(const N of g){var b,f,h,y;g=N.data;if(d.name&&N.hasName()&&d.name!==N.dataName)continue;const pa=null===(b=d.format)||void 0===b?void 0:b.mesh;var G=null===(f=g.format)||void 0===f?void 0:f.feature;if(pa&&G)continue;const Ga=null===(h=d.format)||void 0===h?void 0:h.feature;if(!Ga&&!G||Ga===G)if(G=null===(y=g.format)||void 0===y?void 0:y.mesh,!pa&&!G||pa===G)if("values"in d&&"values"in g){if(Zh(d.values,g.values))return N}else if("url"in d&&"url"in g){if(d.url===g.url)return N}else if(pg(d)&&
d.name===N.dataName)return N}return null}function Nm(d,g){if(d.data||!d.parent){if(null===d.data)return d=new Uh({values:[]}),g.push(d),d;const b=el(d.data,g);if(b)return ag(d.data)||(b.data.format=La({},d.data.format,b.data.format)),!b.hasName()&&d.data.name&&(b.dataName=d.data.name),b;d=new Uh(d.data);g.push(d);return d}return d.parent.component.data.facetRoot?d.parent.component.data.facetRoot:d.parent.component.data.main}function Aj(d){var g,b,f,h=Nm(d,d.component.data.sources);const {outputNodes:y,
outputNodeRefCounts:G}=d.component.data,N=d.parent?d.parent.component.data.ancestorParse.clone():new Om,pa=d.data;ag(pa)?("sequence"in pa?h=new vj(h,pa.sequence):"graticule"in pa&&(h=new uj(h,pa.graticule)),N.parseNothing=!0):null===(null===pa||void 0===pa?void 0:null===(g=pa.format)||void 0===g?void 0:g.parse)&&(N.parseNothing=!0);h=null!==(b=fg.makeExplicit(h,d,N))&&void 0!==b?b:h;h=new Vh(h);g=d.parent&&ci(d.parent);if((Kf(d)||Ag(d))&&g){var Ga;h=null!==(Ga=Vg.makeFromEncoding(h,d))&&void 0!==
Ga?Ga:h}if(0<d.transforms.length){Ga=0;for(const sd of d.transforms){var rb=b=void 0;if("calculate"in sd)rb=h=new Ri(h,sd),b="derived";else if("filter"in sd){var wb;rb=Uj(sd);rb=h=null!==(wb=fg.makeWithAncestors(h,{},rb,N))&&void 0!==wb?wb:h;h=new Ki(h,d,sd.filter)}else if("bin"in sd)rb=h=Vg.makeFromTransform(h,sd,d),b="number";else if("timeUnit"in sd)b="date",void 0===N.getWithExplicit(sd.field).value&&(h=new fg(h,{[sd.field]:b}),N.set(sd.field,b,!1)),rb=h=Wg.makeFromTransform(h,sd);else if("aggregate"in
sd)rb=h=Jg.makeFromTransform(h,sd),b="number",ei(d)&&(h=new Vh(h));else if("lookup"in sd)rb=h=yj.make(h,d,sd,Ga++),b="derived";else if("window"in sd)rb=h=new Qi(h,sd),b="number";else if("joinaggregate"in sd)rb=h=new oi(h,sd),b="number";else if("stack"in sd)rb=h=Ah.makeFromTransform(h,sd),b="derived";else if("fold"in sd)rb=h=new Xj(h,sd),b="derived";else if("flatten"in sd)rb=h=new Yj(h,sd),b="derived";else if("pivot"in sd)rb=h=new ek(h,sd),b="derived";else if("sample"in sd)h=new dk(h,sd);else if("impute"in
sd)rb=h=qi.makeFromTransform(h,sd),b="derived";else if("density"in sd)rb=h=new Zj(h,sd),b="derived";else if("quantile"in sd)rb=h=new bk(h,sd),b="derived";else if("regression"in sd)rb=h=new ck(h,sd),b="derived";else if("loess"in sd)rb=h=new ak(h,sd),b="derived";else{zb("Ignoring an invalid transform: ".concat(Hf(sd),"."));continue}if(rb&&void 0!==b)for(const xf of null!==(Vb=rb.producedFields())&&void 0!==Vb?Vb:[]){var Vb;N.set(xf,b,!1)}}}wb={};if(Kf(d)&&d.component.selection)for(Jc of kd(d.component.selection)){Vb=
d.component.selection[Jc];for(var Ac of Vb.project.items)!Ac.channel&&1<ta(Ac.field)&&(wb[Ac.field]="flatten")}var Jc=wb;Ac=Th(d);h=null!==(f=fg.makeWithAncestors(h,{},Object.assign({},Jc,Ac),N))&&void 0!==f?f:h;Kf(d)&&(h=Si.parseAll(h,d),h=xj.parseAll(h,d));if(Kf(d)||Ag(d)){var Pc;if(!g){var fd;h=null!==(fd=Vg.makeFromEncoding(h,d))&&void 0!==fd?fd:h}h=null!==(Pc=Wg.makeFromEncoding(h,d))&&void 0!==Pc?Pc:h;h=Ri.parseAllForSortIndex(h,d)}Pc=d.getDataName(Ff.Raw);f=new bg(h,Pc,Ff.Raw,G);h=y[Pc]=f;
if(Kf(d)){var ld,Sd;if(Pc=Jg.makeFromEncoding(h,d))h=Pc,ei(d)&&(h=new Vh(h));h=null!==(ld=qi.makeFromEncoding(h,d))&&void 0!==ld?ld:h;h=null!==(Sd=Ah.makeFromEncoding(h,d))&&void 0!==Sd?Sd:h}if(Kf(d)){var Le;h=null!==(Le=wj.make(h,d))&&void 0!==Le?Le:h}Sd=d.getDataName(Ff.Main);ld=new bg(h,Sd,Ff.Main,G);h=y[Sd]=ld;Kf(d)&&Ji(d,ld);Le=null;if(Ag(d)){var Gd;Sd=d.getName("facet");{Le=h;const {row:sd,column:xf}=d.facet;if(sd&&xf){Pc=null;for(Je of[sd,xf])if(I(Je.sort)){const {field:Pe,op:ge="min"}=Je.sort;
Le=Pc=new oi(Le,{joinaggregate:[{op:ge,field:Pe,as:gk(Je,Je.sort,{forAs:!0})}],groupby:[bd(Je)]})}var Je=Pc}else Je=null}h=null!==(Gd=Je)&&void 0!==Gd?Gd:h;Le=new ni(h,d,Sd,ld.getSource());y[Sd]=Le}return Object.assign({},d.component.data,{outputNodes:y,outputNodeRefCounts:G,raw:f,main:ld,facetRoot:Le,ancestorParse:N})}function Pm(d){return rg.reduce((g,b)=>{d.component.scales[b]&&(g[b]=[Qm(b,d)]);return g},{})}function Rm(d,g){if(d){if(d.length!==g.length)return;const b=d.length;for(let f=0;f<b;f++){const h=
d[f],y=g[f];if(!!h!==!!y)return;if(h&&y){const G=h.getWithExplicit("orient"),N=y.getWithExplicit("orient");if(G.explicit&&N.explicit&&G.value!==N.value)return;d[f]=Sm(h,y)}}}else return g.map(b=>b.clone());return d}function Sm(d,g){for(const b of fl){const f=tf(d.getWithExplicit(b),g.getWithExplicit(b),b,"axis",(h,y)=>{switch(b){case "title":return M(h,y);case "gridScale":return{explicit:h.explicit,value:ha(h.value,y.value)}}return Cd(h,y,b,"axis")});d.setWithExplicit(b,f)}return d}function Tm(d,
g,b,f,h){if("disable"===g)return void 0!==b;b=b||{};switch(g){case "titleAngle":case "labelAngle":return d===(sc(b.labelAngle)?b.labelAngle:l(b.labelAngle));case "values":return!!b.values;case "encode":return!!b.encoding||!!b.labelAngle;case "title":if(d===Ni(f,h))return!0}return d===b[g]}function Qm(d,g){var b,f,h,y,G;let N=g.axis(d);const pa=new gl;var Ga=H(g.encoding[d]);const {mark:rb,config:wb}=g;var Vb=(null===(b=N)||void 0===b?void 0:b.orient)||(null===(f=wb["x"===d?"axisX":"axisY"])||void 0===
f?void 0:f.orient)||(null===(h=wb.axis)||void 0===h?void 0:h.orient)||("x"===d?"bottom":"left");f=g.getScaleComponent(d).get("type");b=qj(d,f,Vb,g.config);h=void 0!==N?!N:Ig("disable",wb.style,null===(y=N)||void 0===y?void 0:y.style,b).configValue;pa.set("disable",h,void 0!==N);if(h)return pa;N=N||{};y=Rj(Ga,N,d,wb.style,b);Ga={fieldOrDatumDef:Ga,axis:N,channel:d,model:g,scaleType:f,orient:Vb,labelAngle:y,mark:rb,config:wb};for(const Jc of fl)if(Vb=Jc in hl?hl[Jc](Ga):il[Jc]?N[Jc]:void 0,y=void 0!==
Vb,f=Tm(Vb,Jc,N,g,d),y&&f)pa.set(Jc,Vb,f);else{const {configValue:Pc,configFrom:fd}=il[Jc]&&"values"!==Jc?Ig(Jc,wb.style,N.style,b):{};h=void 0!==Pc;y&&!h?pa.set(Jc,Vb,f):("vgAxisConfig"!==fd||Um.has(Jc)&&h||A(Pc)||sc(Pc))&&pa.set(Jc,Pc,!1)}const Ac=null!==(G=N.encoding)&&void 0!==G?G:{};G=Nk.reduce((Jc,Pc)=>{var fd;if(!pa.hasAxisPart(Pc))return Jc;var ld=Tf(null!==(fd=Ac[Pc])&&void 0!==fd?fd:{},g);if("labels"===Pc){{var Sd;const {encoding:Le,config:Gd}=g;fd=null!==(Sd=H(Le[d]))&&void 0!==Sd?Sd:H(Le[na(d)]);
Sd=g.axis(d)||{};const {format:Je,formatType:sd}=Sd;ld=wc(sd)?Object.assign({},{text:oe({fieldOrDatumDef:fd,field:"datum.value",format:Je,formatType:sd,config:Gd})},ld):ld}}void 0===ld||Q(ld)||(Jc[Pc]={update:ld});return Jc},{});Q(G)||pa.set("encode",G,!!N.encoding||void 0!==N.labelAngle);return pa}function Vm(d,g,b){switch(d){case Bj:case hk:case ik:case jl:case Wm:case Xm:return}const {x:f,y:h,x2:y,y2:G}=g;switch(d){case Cj:if(oc(f)&&(Hc(f.bin)||oc(h)&&h.aggregate&&!f.aggregate))break;if(oc(h)&&
(Hc(h.bin)||oc(f)&&f.aggregate&&!h.aggregate))return"horizontal";if(G||y){if(b)return b;if(!y&&(oc(f)&&"quantitative"===f.type&&!tc(f.bin)||he(f)))return"horizontal";if(!G&&(oc(h)&&"quantitative"===h.type&&!tc(h.bin)||he(h)))break}case Dj:if(!(!y||oc(f)&&Hc(f.bin)||!G||oc(h)&&Hc(h.bin)))return;case Ej:if(G){if(oc(h)&&Hc(h.bin))return"horizontal";break}else if(y)if(oc(f)&&Hc(f.bin))break;else return"horizontal";else if(d===Dj)if(f&&!h)break;else if(h&&!f)return"horizontal";case Fj:case jk:g=Tc(f);
var N=Tc(h);if(g&&!N)return"tick"!==d?"horizontal":"vertical";if(!g&&N)return"tick"!==d?"vertical":"horizontal";if(g&&N){g="temporal"===f.type;N="temporal"===h.type;if(g&&!N)return"tick"!==d?"vertical":"horizontal";if(!g&&N)return"tick"!==d?"horizontal":"vertical";if(!f.aggregate&&h.aggregate)return"tick"!==d?"vertical":"horizontal";if(f.aggregate&&!h.aggregate)return"tick"!==d?"horizontal":"vertical";if(b)return b}else{if(b)return b;return}}return"vertical"}function kk(d,g){return Object.assign({},
ig(d,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),Qf("x",d,{defaultPos:"mid"}),Qf("y",d,{defaultPos:"mid"}),Nf("size",d),Nf("angle",d),g?{shape:{value:g}}:Nf("shape",d))}function Ym(d,g,b){if(void 0===Kd("align",d,b))return"center"}function Zm(d,g,b){if(void 0===Kd("baseline",d,b))return"middle"}function $m(d){var g;const {config:b,markDef:f}=d;var {orient:h}=f;const y="horizontal"===h?"width":"height";d=d.getScaleComponent("horizontal"===h?"x":
"y");h=null!==(g=Kd("size",f,b,{vgChannel:y}))&&void 0!==g?g:b.tick.bandSize;return void 0!==h?h:(g=d?d.get("range"):void 0)&&mc(g)&&Pa(g.step)?3*g.step/4:3*k(b.view,y)/4}function an(d){if(Ja([Fj,Ej,bn],d.mark)){var g=gc(d.mark,d.encoding);if(0<g.length)return cn(d,g)}else if(Ja([Cj],d.mark)&&(g=lk.some(b=>Kd(b,d.markDef,d.config)),d.stack&&!d.fieldDef("size")&&g))return dn(d);return mk(d)}function cn(d,g){return[{name:d.getName("pathgroup"),type:"group",from:{facet:{name:"faceted_path_"+d.requestDataName(Ff.Main),
data:d.requestDataName(Ff.Main),groupby:g}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:mk(d,{fromPrefix:"faceted_path_"})}]}function dn(d){const [g]=mk(d,{fromPrefix:"stack_group_"}),b=d.scaleName(d.stack.fieldChannel),f=pa=>{pa=void 0===pa?{}:pa;return d.vgField(d.stack.fieldChannel,pa)};var h=(pa,Ga)=>{Ga=[f({prefix:"min",suffix:"start",expr:Ga}),f({prefix:"max",suffix:"start",expr:Ga}),f({prefix:"min",suffix:"end",expr:Ga}),f({prefix:"max",suffix:"end",
expr:Ga})];return"".concat(pa,"(").concat(Ga.map(rb=>"scale('".concat(b,"',").concat(rb,")")).join(","),")")};let y;"x"===d.stack.fieldChannel?(h=Object.assign({},Ea(g.encode.update,["y","yc","y2","height",...lk]),{x:{signal:h("min","datum")},x2:{signal:h("max","datum")},clip:{value:!0}}),y={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},g.encode.update=Object.assign({},gb(g.encode.update,["y","yc","y2"]),{height:{field:{group:"height"}}})):(h=Object.assign({},Ea(g.encode.update,["x",
"xc","x2","width"]),{y:{signal:h("min","datum")},y2:{signal:h("max","datum")},clip:{value:!0}}),y={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},g.encode.update=Object.assign({},gb(g.encode.update,["x","xc","x2"]),{width:{field:{group:"width"}}}));for(var G of lk){var N=Xe(G,d.markDef,d.config);g.encode.update[G]?(h[G]=g.encode.update[G],delete g.encode.update[G]):N&&(h[G]=Bd(N));N&&(g.encode.update[G]={value:0})}G=d.fieldDef(d.stack.groupbyChannel);N=bd(G)?[bd(G)]:[];((null===G||void 0===
G?0:G.bin)||(null===G||void 0===G?0:G.timeUnit))&&N.push(bd(G,{binSuffix:"end"}));h="stroke strokeWidth strokeJoin strokeCap strokeDash strokeDashOffset strokeMiterLimit strokeOpacity".split(" ").reduce((pa,Ga)=>{if(g.encode.update[Ga])return Object.assign({},pa,{[Ga]:g.encode.update[Ga]});{const rb=Xe(Ga,d.markDef,d.config);return void 0!==rb?Object.assign({},pa,{[Ga]:Bd(rb)}):pa}},h);h.stroke&&(h.strokeForeground={value:!0},h.strokeOffset={value:0});return[{type:"group",from:{facet:{data:d.requestDataName(Ff.Main),
name:"stack_group_"+d.requestDataName(Ff.Main),groupby:N,aggregate:{fields:[f({suffix:"start"}),f({suffix:"start"}),f({suffix:"end"}),f({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:h},marks:[{type:"group",encode:{update:y},marks:[g]}]}]}function en(d){const {encoding:g,stack:b,mark:f,markDef:h,config:y}=d;var G=g.order;if(!(!de(G)&&Zd(G)&&Ua(G.value)||!G&&Ua(Kd("order",h,y)))){if((de(G)||oc(G))&&!b)return He(G,{expr:"datum"});if(Xd(f)){const N="horizontal"===h.orient?"y":"x",pa=
g[N];if(oc(pa)){G=pa.sort;if(de(G))return{field:bd(pa,{prefix:N,suffix:"sort_index",expr:"datum"})};if(I(G))return{field:bd({aggregate:ua(d.encoding)?G.op:void 0,field:G.field},{expr:"datum"})};if(G&&G.encoding)return d=d.fieldDef(G.encoding),{field:bd(d,{expr:"datum"}),order:G.order};if(null!==G)return{field:bd(pa,{binSuffix:d.stack&&d.stack.impute?"mid":void 0,expr:"datum"})}}}}}function mk(d,g){g=void 0===g?{fromPrefix:""}:g;const {mark:b,markDef:f,encoding:h,config:y}=d;var G=f.clip;var N=d.getScaleComponent("x");
var pa=d.getScaleComponent("y");N=N&&N.get("selectionExtent")||pa&&pa.get("selectionExtent")?!0:void 0;pa=(pa=d.component.projection)&&!pa.isFit?!0:void 0;G=ha(G,N,pa);N=qf(f);pa=h.key;const Ga=en(d);var rb;if(d.component.selection){for(var wb=rb=kd(d.component.selection).length,Vb=d.parent;Vb&&0===wb;)wb=kd(Vb.component.selection).length,Vb=Vb.parent;rb=wb?{interactive:0<rb||!!d.encoding.tooltip}:null}else rb=null;wb=Kd("aria",f,y);Vb=Gj[b].postEncodingTransform?Gj[b].postEncodingTransform(d):null;
return[Object.assign({},{name:d.getName("marks"),type:Gj[b].vgMark},G?{clip:!0}:{},N?{style:N}:{},pa?{key:pa.field}:{},Ga?{sort:Ga}:{},rb?rb:{},!1===wb?{aria:wb}:{},{from:{data:g.fromPrefix+d.requestDataName(Ff.Main)},encode:{update:Gj[b].encodeEntry(d)}},Vb?{transform:Vb}:{})]}function nk(d,g,b,f,h){if("facet"in d)return new Hj(d,g,b,h);if("layer"in d)return new kl(d,g,b,f,h);if(V(d))return new ll(d,g,b,f,h);if("vconcat"in d||"hconcat"in d||"concat"in d)return new fn(d,g,b,h);throw Error(Ec(d));
}function gn(d,g,b,f){b=void 0===b?{}:b;const h=d.config?Fb(d.config):void 0;b=[].concat(d.assembleSelectionData([]),Lm(d.component.data,b));const y=d.assembleProjections(),G=d.assembleTitle(),N=d.assembleGroupStyle(),pa=d.assembleGroupEncodeEntry(!0);let Ga=d.assembleLayoutSignals();Ga=Ga.filter(Vb=>"width"!==Vb.name&&"height"!==Vb.name||void 0===Vb.value?!0:(g[Vb.name]=+Vb.value,!1));var rb=Object.assign({},g);const wb=g.params;rb=(delete rb.params,rb);return Object.assign({},{$schema:"https://vega.github.io/schema/vega/v5.json"},
d.description?{description:d.description}:{},rb,G?{title:G}:{},N?{style:N}:{},pa?{encode:{update:pa}}:{},{data:b},0<y.length?{projections:y}:{},d.assembleGroup([...Ga,...d.assembleSelectionTopLevelSignals([]),...Qd(wb)]),h?{config:h}:{},f?{usermeta:f}:{})}const Bl=d=>function(g){return g[d]},Cl=d=>{const g=d.length;return function(b){for(let f=0;f<g;++f)b=b[d[f]];return b}};(function(d,g,b){const f=Qb(d);d=1===f.length?f[0]:d;return Y((b&&b.get||Qa)(f),[d],g||d)})("id");const gm=Y(d=>d,[],"identity");
Y(()=>0,[],"zero");Y(()=>1,[],"one");Y(()=>!0,[],"true");Y(()=>!1,[],"false");var de=Array.isArray;const Yh=Object.prototype.hasOwnProperty;Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function b(g){var f=isNaN(g)?1:Number(g);return f?Array.prototype.reduce.call(this,function(h,y){return Array.isArray(y)?h.push.apply(h,b.call(y,f-1)):h.push(y),h},[]):Array.prototype.slice.call(this)},writable:!0});Array.prototype.flatMap||Object.defineProperty(Array.prototype,
"flatMap",{configurable:!0,value:function(g){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var ri=function(g,b){b||(b={});"function"===typeof b&&(b={cmp:b});var f="boolean"===typeof b.cycles?b.cycles:!1,h=b.cmp&&function(G){return function(N){return function(pa,Ga){return G({key:pa,value:N[pa]},{key:Ga,value:N[Ga]})}}}(b.cmp),y=[];return function pa(N){N&&N.toJSON&&"function"===typeof N.toJSON&&(N=N.toJSON());if(void 0!==N){if("number"==typeof N)return isFinite(N)?""+N:"null";
if("object"!==typeof N)return JSON.stringify(N);var Ga;if(Array.isArray(N)){var rb="[";for(Ga=0;Ga<N.length;Ga++)Ga&&(rb+=","),rb+=pa(N[Ga])||"null";return rb+"]"}if(null===N)return"null";if(-1!==y.indexOf(N)){if(f)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var wb=y.push(N)-1,Vb=Object.keys(N).sort(h&&h(N));rb="";for(Ga=0;Ga<Vb.length;Ga++){var Ac=Vb[Ga],Jc=pa(N[Ac]);Jc&&(rb&&(rb+=","),rb+=JSON.stringify(Ac)+":"+Jc)}y.splice(wb,1);return"{"+rb+
"}"}}(g)};const Zh=function h(b,f){if(b===f)return!0;if(b&&f&&"object"==typeof b&&"object"==typeof f){if(b.constructor!==f.constructor)return!1;var y;if(Array.isArray(b)){var G=b.length;if(G!=f.length)return!1;for(y=G;0!==y--;)if(!h(b[y],f[y]))return!1;return!0}if(b.constructor===RegExp)return b.source===f.source&&b.flags===f.flags;if(b.valueOf!==Object.prototype.valueOf)return b.valueOf()===f.valueOf();if(b.toString!==Object.prototype.toString)return b.toString()===f.toString();var N=Object.keys(b);
G=N.length;if(G!==Object.keys(f).length)return!1;for(y=G;0!==y--;)if(!Object.prototype.hasOwnProperty.call(f,N[y]))return!1;for(y=G;0!==y--;)if(G=N[y],!h(b[G],f[G]))return!1;return!0}return b!==b&&f!==f},Oe=function(b,f,h){return h={path:f,exports:{},require:function(y,G){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs");}},b(h,h.exports),h.exports}(function(b){var f=function(){function h(wb,Vb){return null!=Vb&&wb instanceof Vb}function y(wb,Vb,Ac,Jc,Pc){function fd(Gd,
Je){if(null===Gd)return null;if(0===Je||"object"!=typeof Gd)return Gd;if(h(Gd,pa))var sd=new pa;else if(h(Gd,Ga))sd=new Ga;else if(h(Gd,rb))sd=new rb(function(Lf,ef){Gd.then(function(Mf){Lf(fd(Mf,Je-1))},function(Mf){ef(fd(Mf,Je-1))})});else if(y.__isArray(Gd))sd=[];else if(y.__isRegExp(Gd))sd=new RegExp(Gd.source,N(Gd)),Gd.lastIndex&&(sd.lastIndex=Gd.lastIndex);else if(y.__isDate(Gd))sd=new Date(Gd.getTime());else{if(Le&&n.isBuffer(Gd))return sd=n.allocUnsafe?n.allocUnsafe(Gd.length):new n(Gd.length),
Gd.copy(sd),sd;if(h(Gd,Error))sd=Object.create(Gd);else if("undefined"==typeof Jc){var xf=Object.getPrototypeOf(Gd);sd=Object.create(xf)}else sd=Object.create(Jc),xf=Jc}if(Vb){var Pe=ld.indexOf(Gd);if(-1!=Pe)return Sd[Pe];ld.push(Gd);Sd.push(sd)}h(Gd,pa)&&Gd.forEach(function(Lf,ef){ef=fd(ef,Je-1);Lf=fd(Lf,Je-1);sd.set(ef,Lf)});h(Gd,Ga)&&Gd.forEach(function(Lf){Lf=fd(Lf,Je-1);sd.add(Lf)});for(var ge in Gd){var rf;xf&&(rf=Object.getOwnPropertyDescriptor(xf,ge));rf&&null==rf.set||(sd[ge]=fd(Gd[ge],Je-
1))}if(Object.getOwnPropertySymbols)for(Pe=Object.getOwnPropertySymbols(Gd),ge=0;ge<Pe.length;ge++)if(rf=Pe[ge],xf=Object.getOwnPropertyDescriptor(Gd,rf),!xf||xf.enumerable||Pc)sd[rf]=fd(Gd[rf],Je-1),xf.enumerable||Object.defineProperty(sd,rf,{enumerable:!1});if(Pc)for(Pe=Object.getOwnPropertyNames(Gd),ge=0;ge<Pe.length;ge++)rf=Pe[ge],xf=Object.getOwnPropertyDescriptor(Gd,rf),xf&&xf.enumerable||(sd[rf]=fd(Gd[rf],Je-1),Object.defineProperty(sd,rf,{enumerable:!1}));return sd}"object"===typeof Vb&&(Ac=
Vb.depth,Jc=Vb.prototype,Pc=Vb.includeNonEnumerable,Vb=Vb.circular);var ld=[],Sd=[],Le="undefined"!=typeof n;"undefined"==typeof Vb&&(Vb=!0);"undefined"==typeof Ac&&(Ac=Infinity);return fd(wb,Ac)}function G(wb){return Object.prototype.toString.call(wb)}function N(wb){var Vb="";wb.global&&(Vb+="g");wb.ignoreCase&&(Vb+="i");wb.multiline&&(Vb+="m");return Vb}try{var pa=Map}catch(wb){pa=function(){}}try{var Ga=Set}catch(wb){Ga=function(){}}try{var rb=Promise}catch(wb){rb=function(){}}y.clonePrototype=
function(wb){if(null===wb)return null;var Vb=function(){};Vb.prototype=wb;return new Vb};y.__objToStr=G;y.__isDate=function(wb){return"object"===typeof wb&&"[object Date]"===G(wb)};y.__isArray=function(wb){return"object"===typeof wb&&"[object Array]"===G(wb)};y.__isRegExp=function(wb){return"object"===typeof wb&&"[object RegExp]"===G(wb)};y.__getRegExpFlags=N;return y}();b.exports&&(b.exports=f)});Set.prototype.toJSON=function(){return"Set(".concat([...this].map(b=>ri(b)).join(","),")")};const Hf=
ri,kd=Object.keys,Pg=Object.values,si=Object.entries;let uk=42;const Mk={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},
gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}},Nk=["domain","grid","labels","ticks","title"],mm={grid:"grid",gridCap:"grid",
gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",
labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"main",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",
titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},ml={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,
domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,
tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},il=Object.assign({},ml,{style:1,labelExpr:1,encoding:1}),Gk=kd({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,
axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1}),Dl={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},Em={count:1,min:1,max:1},El=["count","valid","missing","distinct"],Xl=["count","sum","distinct","valid","missing"],
Dm=Sa("mean average median q1 q3 min max".split(" ")),Lj={theta:1,theta2:1,radius:1,radius2:1},ok={longitude:1,longitude2:1,latitude:1,latitude2:1},hn=kd(ok),nl=Object.assign({},{x:1,y:1,x2:1,y2:1},Lj,ok,{color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1}),ol={row:1,column:1,facet:1},sg=kd(ol),Vi=Object.assign({},nl,ol),Jl=kd(Vi);var Ij=Object.assign({},Vi),jn=(delete Ij.order,
delete Ij.detail,delete Ij.tooltip,Ij),Jj=Object.assign({},jn);const kn=(delete Jj.row,delete Jj.column,delete Jj.facet,Jj),ln="x2 y2 latitude2 longitude2 theta2 radius2".split(" ");var og=Object.assign({},nl);const Oj=(delete og.x,delete og.y,delete og.x2,delete og.y2,delete og.latitude,delete og.longitude,delete og.latitude2,delete og.longitude2,delete og.theta,delete og.theta2,delete og.radius,delete og.radius2,og),Ul=kd(Oj),Vf={x:1,y:1},rg=kd(Vf),Wj={theta:1,radius:1},mn=kd(Wj);var Xg=Object.assign({},
Oj);const pl=(delete Xg.text,delete Xg.tooltip,delete Xg.href,delete Xg.url,delete Xg.description,delete Xg.detail,delete Xg.key,delete Xg.order,Xg),nn=kd(pl),Lg=Object.assign({},Vf,Wj,pl),gj=kd(Lg),vk={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"};var ql=Object.assign({},vk);const Fl=(delete ql.geoshape,ql),rl=function(b,f){let h=b||0;return{level(y){return arguments.length?
(h=+y,this):h},error(){1<=h&&db(f||"error","ERROR",arguments);return this},warn(){2<=h&&db(f||"warn","WARN",arguments);return this},info(){3<=h&&db(f||"log","INFO",arguments);return this},debug(){4<=h&&db(f||"log","DEBUG",arguments);return this}}}(2);let Ti=rl;const wk="january february march april may june july august september october november december".split(" "),Gl=wk.map(b=>b.substr(0,3)),xk="sunday monday tuesday wednesday thursday friday saturday".split(" "),Hl=xk.map(b=>b.substr(0,3)),zk=
{year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Mj=kd(zk),Il={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "},dm=kd({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,
orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),am={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},lk=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight",
"cornerRadiusBottomLeft","cornerRadiusBottomRight"],Of={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},Nj={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",
point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},sl={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0},tl="linear log pow sqrt symlog time utc".split(" "),zg=Sa(tl),nm=Sa(["linear","log","pow","sqrt","symlog"]),Ui=Sa(["quantile","quantize","threshold"]),on=tl.concat(["quantile","quantize","threshold","sequential","identity"]),
qg=Sa(on),hg=Sa(["ordinal","bin-ordinal","point","band"]);var Wh=Object.assign({},{type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1});const pn=(delete Wh.type,delete Wh.domain,delete Wh.range,delete Wh.rangeMax,delete Wh.rangeMin,delete Wh.scheme,Wh),qn=kd(pn),gg={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",
point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},ul=gg.arc,Ej=gg.area,Cj=gg.bar,Xm=gg.image,Fj=gg.line,Bj=gg.point,Wm=gg.rect,Dj=gg.rule,jl=gg.text,jk=gg.tick,bn=gg.trail,hk=gg.circle,ik=gg.square,al=gg.geoshape,vl=kd(gg);Sa(vl);const rn="stroke strokeWidth strokeDash strokeDashOffset strokeOpacity strokeJoin strokeMiterLimit fill fillOpacity".split(" "),Ik=kd({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBand:1,
timeUnitBandPosition:1}),Fk=kd({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1}),sn={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},yk={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1},wl=(b,f)=>{switch(f.fieldTitle){case "plain":return b.field;case "functional":{const {aggregate:h,bin:y,timeUnit:G,field:N}=
b;E(h)?b="".concat(N," for argmax(").concat(h.argmax,")"):B(h)?b="".concat(N," for argmin(").concat(h.argmin,")"):(b=Bb(G),b=(b=h||(null===b||void 0===b?void 0:b.unit)||(null===b||void 0===b?void 0:b.maxbins)&&"timeunit"||tc(y)&&"bin")?b.toUpperCase()+"("+N+")":N)}return b;default:return ue(b,f)}};let ti=wl;const Ch={compatible:!0};class Wi{constructor(b,f){this.name=b;this.run=f}hasMatchingType(b){return V(b)?(b=b.mark,(md(b)?b.type:b)===this.name):!1}}const tn=new Wi("boxplot",rc),un=new Wi("errorbar",
Fc),vn=new Wi("errorband",Qc),Ck={};Dd("boxplot",rc,["box","median","outliers","rule","ticks"]);Dd("errorbar",Fc,["ticks","rule"]);Dd("errorband",Qc,["band","borders"]);const Ql=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],Ok={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",
titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},Pk={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},om=kd(Ok),pm=kd(Pk),Hk=kd({header:1,headerRow:1,headerColumn:1,headerFacet:1}),Qk="size shape fill stroke strokeDash strokeWidth opacity".split(" "),
Ll=["background","padding"],Ml=kd({align:1,bounds:1,center:1,columns:1,spacing:1}),Nl={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:20},mark:{color:"#4c78a8",invalid:"filter",timeUnitBand:1},arc:{},area:{},bar:{binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},circle:{},geoshape:{},image:{},line:{},point:{},rect:{binSpacing:0,continuousBandSize:5,timeUnitBandPosition:.5},rule:{color:"black"},square:{},
text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,
gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:{single:{on:"click",fields:["_vgsid_"],resolve:"global",empty:"all",clear:"dblclick"},multi:{on:"click",fields:["_vgsid_"],toggle:"event.shiftKey",resolve:"global",empty:"all",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] \x3e window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] \x3e window:mousemove!",
zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}},style:{},title:{},facet:{spacing:20},concat:{spacing:20}},Yg="#4c78a8 #f58518 #e45756 #72b7b2 #54a24b #eeca3b #b279a2 #ff9da6 #9d755d #bab0ac".split(" "),Ek={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},Dk={blue:Yg[0],orange:Yg[1],red:Yg[2],teal:Yg[3],green:Yg[4],yellow:Yg[5],purple:Yg[6],pink:Yg[7],brown:Yg[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",
gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"},Ol=[...Fk,...Gk,...Hk,"background","padding","legend","lineBreak","scale","style","title","view"],Rl=["view",...vl],Pl="color fontSize background padding facet concat numberFormat timeFormat countTitle header axisQuantitative axisTemporal axisDiscrete axisPoint axisXBand axisXPoint axisXDiscrete axisXQuantitative axisXTemporal axisYBand axisYPoint axisYDiscrete axisYQuantitative axisYTemporal scale selection overlay".split(" "),
Sl=Object.assign({},{view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]});class wn{map(b,f){return"facet"in b?this.mapFacet(b,f):"repeat"in b?this.mapRepeat(b,f):"hconcat"in b?this.mapHConcat(b,f):"vconcat"in b?this.mapVConcat(b,f):"concat"in b?this.mapConcat(b,f):this.mapLayerOrUnit(b,
f)}mapLayerOrUnit(b,f){if("layer"in b)return this.mapLayer(b,f);if(V(b))return this.mapUnit(b,f);throw Error(Ec(b));}mapLayer(b,f){return Object.assign({},b,{layer:b.layer.map(h=>this.mapLayerOrUnit(h,f))})}mapHConcat(b,f){return Object.assign({},b,{hconcat:b.hconcat.map(h=>this.map(h,f))})}mapVConcat(b,f){return Object.assign({},b,{vconcat:b.vconcat.map(h=>this.map(h,f))})}mapConcat(b,f){var h=Object.assign({},b);b=b.concat;h=(delete h.concat,h);return Object.assign({},h,{concat:b.map(y=>this.map(y,
f))})}mapFacet(b,f){return Object.assign({},b,{spec:this.map(b.spec,f)})}mapRepeat(b,f){return Object.assign({},b,{spec:this.map(b.spec,f)})}}const Wl={zero:1,center:1,normalize:1},Tl=new Set([ul,Cj,Ej,Dj,Bj,hk,ik,Fj,jl,jk]),Vl=new Set([Cj,Ej,ul]);class xn{constructor(){cc(this,"name","path-overlay")}hasMatchingType(b,f){if(V(b)){const {mark:h,encoding:y}=b;b=md(h)?h:{type:h};switch(b.type){case "line":case "rule":case "trail":return!!Rd(b,f[b.type],y);case "area":return!!Rd(b,f[b.type],y)||!!Md(b,
f[b.type])}}return!1}run(b,f,h){const {config:y}=f;var G=Object.assign({},b),N=b.selection;const pa=b.projection;var Ga=b.mark;b=b.encoding;G=(delete G.selection,delete G.projection,delete G.mark,delete G.encoding,G);b=hb(b,y);Ga=md(Ga)?Ga:{type:Ga};const rb=Rd(Ga,y[Ga.type],b),wb="area"===Ga.type&&Md(Ga,y[Ga.type]);N=[Object.assign({},N?{selection:N}:{},{mark:Yc(Object.assign({},"area"===Ga.type&&void 0===Ga.opacity&&void 0===Ga.fillOpacity?{opacity:.7}:{},Ga)),encoding:gb(b,["shape"])})];const Vb=
qc(Ga,b);let Ac=b;if(Vb){const {fieldChannel:Jc,offset:Pc}=Vb;Ac=Object.assign({},b,{[Jc]:Object.assign({},b[Jc],Pc?{stack:Pc}:{})})}wb&&N.push(Object.assign({},pa?{projection:pa}:{},{mark:Object.assign({},{type:"line"},Ea(Ga,["clip","interpolate","tension","tooltip"]),wb),encoding:Ac}));rb&&N.push(Object.assign({},pa?{projection:pa}:{},{mark:Object.assign({},{type:"point",opacity:1,filled:!0},Ea(Ga,["clip","tooltip"]),rb),encoding:Ac}));return h(Object.assign({},G,{layer:N}),Object.assign({},f,{config:cd(y)}))}}
class yn{constructor(){cc(this,"name","RangeStep")}hasMatchingType(b){if(V(b)&&b.encoding)for(const h of rg){const y=b.encoding[h];if(y&&od(y)){var f;if(null===y||void 0===y?0:null===(f=y.scale)||void 0===f?0:f.rangeStep)return!0}}return!1}run(b){const f={};let h=Object.assign({},b.encoding);for(const Ga of rg){const rb=$a(Ga);var y=h[Ga];if(y&&od(y)){var G;if(null===y||void 0===y?0:null===(G=y.scale)||void 0===G?0:G.rangeStep){var N=Object.assign({},y);y=y.scale;N=(delete N.scale,N);var pa=Object.assign({},
y);pa=(delete pa.rangeStep,pa);f[rb]={step:y.rangeStep};zb('Scale\'s "rangeStep" is deprecated and will be removed in Vega-Lite 5.0. Please use "width"/"height": {"step": ...} instead. See https://vega.github.io/vega-lite/docs/size.html.');h=Object.assign({},h,{[Ga]:Object.assign({},N,Q(pa)?{}:{scale:pa})})}}}return Object.assign({},f,b,{encoding:h})}}class zn{constructor(){cc(this,"name","RuleForRangedLine")}hasMatchingType(b){if(V(b)){const {encoding:f,mark:h}=b;if("line"===h)for(const y of ln)if(b=
Da(y),b=f[b],f[y]&&(oc(b)&&!Hc(b.bin)||Wc(b)))return!0}return!1}run(b,f,h){var {encoding:y}=b,G=!!y.x2;y="Line mark is for continuous lines and thus cannot be used with ".concat(G&&y.y2?"x2 and y2":G?"x2":"y2",". We will use the rule mark (line segments) instead.");zb(y);return h(Object.assign({},b,{mark:"rule"}),f)}}class An extends wn{constructor(...b){super(...b);cc(this,"nonFacetUnitNormalizers",[tn,un,vn,new xn,new zn,new yn])}map(b,f){if(V(b)){const h=ca(b.encoding,"row"),y=ca(b.encoding,"column"),
G=ca(b.encoding,"facet");if(h||y||G)return this.mapFacetedUnit(b,f)}return super.map(b,f)}mapUnit(b,f){const {parentEncoding:h,parentProjection:y}=f;var G=Td(b.encoding,f.repeater);b=Object.assign({},b,G?{encoding:G}:{});if(h||y)return this.mapUnitWithParentEncodingOrProjection(b,f);G=this.mapLayerOrUnit.bind(this);for(const N of this.nonFacetUnitNormalizers)if(N.hasMatchingType(b,f.config))return N.run(b,f,G);return b}mapRepeat(b,f){return!de(b.repeat)&&b.repeat.layer?this.mapLayerRepeat(b,f):this.mapNonLayerRepeat(b,
f)}mapLayerRepeat(b,f){var h=Object.assign({},b);const y=b.repeat,G=b.spec;h=(delete h.repeat,delete h.spec,h);const {row:N,column:pa,layer:Ga}=y,{repeater:rb={},repeaterPrefix:wb=""}=f;return N||pa?this.mapRepeat(Object.assign({},b,{repeat:Object.assign({},N?{row:N}:{},pa?{column:pa}:{}),spec:{repeat:{layer:Ga},spec:G}}),f):Object.assign({},h,{layer:Ga.map(Vb=>{var Ac=Object.assign({},rb,{layer:Vb});Vb=(G.name||"")+wb+"child__layer_".concat(F(Vb));Ac=this.mapLayerOrUnit(G,Object.assign({},f,{repeater:Ac,
repeaterPrefix:Vb}));Ac.name=Vb;return Ac})})}mapNonLayerRepeat(b,f){var h,y=b,G=Object.assign({},y);const N=y.repeat,pa=y.spec;y=y.data;G=(delete G.repeat,delete G.spec,delete G.data,G);!de(N)&&b.columns&&(b=gb(b,["columns"]),zb(ed("repeat")));const Ga=[],{repeater:rb={},repeaterPrefix:wb=""}=f,Vb=!de(N)&&N.row||[rb?rb.row:null],Ac=!de(N)&&N.column||[rb?rb.column:null];var Jc=de(N)&&N||[rb?rb.repeat:null];for(const fd of Jc)for(const ld of Vb)for(const Sd of Ac){var Pc={repeat:fd,row:ld,column:Sd,
layer:rb.layer};Jc=(pa.name||"")+wb+"child__"+(de(N)?"".concat(F(fd)):(N.row?"row_".concat(F(ld)):"")+(N.column?"column_".concat(F(Sd)):""));Pc=this.map(pa,Object.assign({},f,{repeater:Pc,repeaterPrefix:Jc}));Pc.name=Jc;Ga.push(gb(Pc,["data"]))}b=de(N)?b.columns:N.column?N.column.length:1;return Object.assign({},{data:null!==(h=pa.data)&&void 0!==h?h:y,align:"all"},G,{columns:b,concat:Ga})}mapFacet(b,f){const {facet:h}=b;ra(h)&&b.columns&&(b=gb(b,["columns"]),zb(ed("facet")));return super.mapFacet(b,
f)}mapUnitWithParentEncodingOrProjection(b,f){const {encoding:h,projection:y}=b,{parentEncoding:G,parentProjection:N,config:pa}=f,Ga=ze({parentProjection:N,projection:y});f=$d({parentEncoding:G,encoding:Td(h,f.repeater)});return this.mapUnit(Object.assign({},b,Ga?{projection:Ga}:{},f?{encoding:f}:{}),{config:pa})}mapFacetedUnit(b,f){var h=b.encoding,y=Object.assign({},h),G=h.row;const N=h.column;h=h.facet;const pa=(delete y.row,delete y.column,delete y.facet,y);var Ga=Object.assign({},b);y=b.mark;
const rb=b.width,wb=b.projection,Vb=b.height,Ac=b.view;b=b.selection;Ga=(delete Ga.mark,delete Ga.width,delete Ga.projection,delete Ga.height,delete Ga.view,delete Ga.selection,delete Ga.encoding,Ga);const {facetMapping:Jc,layout:Pc}=this.getFacetMappingAndLayout({row:G,column:N,facet:h},f);G=Td(pa,f.repeater);return this.mapFacet(Object.assign({},Ga,Pc,{facet:Jc,spec:Object.assign({},rb?{width:rb}:{},Vb?{height:Vb}:{},Ac?{view:Ac}:{},wb?{projection:wb}:{},{mark:y,encoding:G},b?{selection:b}:{})}),
f)}getFacetMappingAndLayout(b,f){const {row:h,column:y,facet:G}=b;if(h||y){G&&(f=[...h?["row"]:[],...y?["column"]:[]],f="Facet encoding dropped as ".concat(f.join(" and ")," ").concat(1<f.length?"are":"is"," also specified."),zb(f));f={};var N={};for(var pa of["row","column"]){const Vb=b[pa];if(Vb){var Ga=Object.assign({},Vb);Ga=(delete Ga.align,delete Ga.center,delete Ga.spacing,delete Ga.columns,Ga);f[pa]=Ga;for(var rb of["align","center","spacing"])if(void 0!==Vb[rb]){var wb;N[rb]=null!==(wb=N[rb])&&
void 0!==wb?wb:{};N[rb][pa]=Vb[rb]}}}return{facetMapping:f,layout:N}}N=Object.assign({},G);b=G.align;wb=G.center;pa=G.spacing;rb=G.columns;N=(delete N.align,delete N.center,delete N.spacing,delete N.columns,N);f=(f=f.repeater)?ra(N)?Te(N,f):$c(N,f):N;return{facetMapping:f,layout:Object.assign({},b?{align:b}:{},wb?{center:wb}:{},pa?{spacing:pa}:{},rb?{columns:rb}:{})}}mapLayer(b,f){var h=Object.assign({},f),y=f.parentEncoding;f=f.parentProjection;h=(delete h.parentEncoding,delete h.parentProjection,
h);var G=Object.assign({},b);const N=b.encoding;b=b.projection;G=(delete G.encoding,delete G.projection,G);y=Object.assign({},h,{parentEncoding:$d({parentEncoding:y,encoding:N,layer:!0}),parentProjection:ze({parentProjection:f,projection:b})});return super.mapLayer(G,y)}}const Yl=new An;class Bh{constructor(b,f){b=void 0===b?{}:b;f=void 0===f?{}:f;this.explicit=b;this.implicit=f}clone(){return new Bh(Oe(this.explicit),Oe(this.implicit))}combine(){return Object.assign({},this.explicit,this.implicit)}get(b){return ha(this.explicit[b],
this.implicit[b])}getWithExplicit(b){return void 0!==this.explicit[b]?{explicit:!0,value:this.explicit[b]}:void 0!==this.implicit[b]?{explicit:!1,value:this.implicit[b]}:{explicit:!1,value:void 0}}setWithExplicit(b,f){void 0!==f.value&&this.set(b,f.value,f.explicit)}set(b,f,h){delete this[h?"implicit":"explicit"][b];this[h?"explicit":"implicit"][b]=f;return this}copyKeyFromSplit(b,f){void 0!==f.explicit[b]?this.set(b,f.explicit[b],!0):void 0!==f.implicit[b]&&this.set(b,f.implicit[b],!1)}copyKeyFromObject(b,
f){void 0!==f[b]&&this.set(b,f[b],!0)}copyAll(b){for(const f of kd(b.combine())){const h=b.getWithExplicit(f);this.setWithExplicit(f,h)}}}class Om extends Bh{constructor(b,f,h){b=void 0===b?{}:b;f=void 0===f?{}:f;h=void 0===h?!1:h;super(b,f);this.explicit=b;this.implicit=f;this.parseNothing=h}clone(){const b=super.clone();b.parseNothing=this.parseNothing;return b}}let Ff;(function(b){b[b.Raw=0]="Raw";b[b.Main=1]="Main";b[b.Row=2]="Row";b[b.Column=3]="Column";b[b.Lookup=4]="Lookup"})(Ff||(Ff={}));
const $l=/[[\]{}]/,Zl={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let Jk,Kk;const bm={left:"x",center:"xc",right:"x2"},cm={top:"y",middle:"yc",bottom:"y2"},em=new Set(["aria"]),xl={has:b=>"interval"!==b.type&&b.nearest,parse:(b,f)=>{if(f.events)for(const h of f.events)h.markname=b.getName("voronoi")},marks:(b,f,h)=>{const {x:y,y:G}=f.project.hasChannel;f=b.mark;if(Xd(f))return zb('The "nearest" transform is not supported for '.concat(f," marks.")),
h;f={name:b.getName("voronoi"),type:"path",interactive:!0,from:{data:b.getName("marks")},encode:{update:Object.assign({},{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},Yi(b,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:y||!G?"datum.datum.x || 0":"0"},y:{expr:G||!y?"datum.datum.y || 0":"0"},size:[b.getSizeSignalRef("width"),b.getSizeSignalRef("height")]}]};let N=0,pa=!1;h.forEach((Ga,rb)=>{var wb;Ga=null!==(wb=Ga.name)&&void 0!==wb?
wb:"";Ga===b.component.mark[0].name?N=rb:0<=Ga.indexOf("voronoi")&&(pa=!0)});pa||h.splice(N+1,0,f);return h}};class zf{constructor(b,f){this.debugName=f;cc(this,"_children",[]);cc(this,"_parent",null);cc(this,"_hash",void 0);b&&(this.parent=b)}clone(){throw Error("Cannot clone node");}get parent(){return this._parent}set parent(b){(this._parent=b)&&b.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(b,f){-1<this._children.indexOf(b)?zb("Attempt to add the same child twice."):
void 0!==f?this._children.splice(f,0,b):this._children.push(b)}removeChild(b){b=this._children.indexOf(b);this._children.splice(b,1);return b}remove(){let b=this._parent.removeChild(this);for(const f of this._children)f._parent=this._parent,this._parent.addChild(f,b++)}insertAsParentOf(b){const f=b.parent;f.removeChild(this);this.parent=f;b.parent=this}swapWithParent(){const b=this._parent,f=b.parent;for(const h of this._children)h.parent=b;this._children=[];b.removeChild(this);b.parent.removeChild(b);
this.parent=f;b.parent=this}}class bg extends zf{clone(){const b=new this.constructor;b.debugName="clone_"+this.debugName;b._source=this._source;b._name="clone_"+this._name;b.type=this.type;b.refCounts=this.refCounts;b.refCounts[b._name]=0;return b}constructor(b,f,h,y){super(b,f);this.type=h;this.refCounts=y;cc(this,"_source",void 0);cc(this,"_name",void 0);this._source=this._name=f;!this.refCounts||this._name in this.refCounts||(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){void 0===
this._hash&&(this._hash="Output ".concat(P()));return this._hash}getSource(){this.refCounts[this._name]++;return this._source}isRequired(){return!!this.refCounts[this._name]}setSource(b){this._source=b}}class Wg extends zf{clone(){return new Wg(null,Oe(this.formula))}constructor(b,f){super(b);this.formula=f}static makeFromEncoding(b,f){const h=f.reduceFieldDef((y,G,N)=>{const {field:pa,timeUnit:Ga}=G,rb=Kf(f)?f.encoding[na(N)]:void 0;N=Kf(f)&&Pb(N,G,rb,f.stack,f.markDef,f.config);Ga&&(G=bd(G,{forAs:!0}),
y[xa({as:G,field:pa,timeUnit:Ga})]=Object.assign({},{as:G,field:pa,timeUnit:Ga},N?{band:!0}:{}));return y},{});return Q(h)?null:new Wg(b,h)}static makeFromTransform(b,f){var h=Object.assign({},f);f=Object.assign({},h);h=h.timeUnit;f=(delete f.timeUnit,f);h=Bb(h);f=Object.assign({},f,{timeUnit:h});return new Wg(b,{[xa(f)]:f})}merge(b){this.formula=Object.assign({},this.formula);for(const f in b.formula)if(!this.formula[f]||b.formula[f].band)this.formula[f]=b.formula[f];for(const f of b.children)b.removeChild(f),
f.parent=this;b.remove()}removeFormulas(b){const f={};for(const h of si(this.formula)){const [y,G]=h;b.has(G.as)||(f[y]=G)}this.formula=f}producedFields(){return new Set(Pg(this.formula).map(b=>b.as))}dependentFields(){return new Set(Pg(this.formula).map(b=>b.field))}hash(){return"TimeUnit ".concat(xa(this.formula))}assemble(){const b=[];for(const y of Pg(this.formula)){const {field:G,as:N,timeUnit:pa}=y;var f=Bb(pa),h=Object.assign({},f);const Ga=f.unit;f=f.utc;h=(delete h.unit,delete h.utc,h);b.push(Object.assign({},
{field:Za(G),type:"timeunit"},Ga?{units:lc(Ga)}:{},f?{timezone:"utc"}:{},h,{as:[N,"".concat(N,"_end")]}))}return b}}class Bn{constructor(...b){cc(this,"hasChannel",void 0);cc(this,"hasField",void 0);cc(this,"timeUnit",void 0);cc(this,"items",void 0);this.items=b;this.hasChannel={};this.hasField={}}}const yl={has:b=>"single"===b.type&&"global"===b.resolve&&b.bind&&"scales"!==b.bind&&!xe(b.bind),parse:(b,f,h,y)=>{y.on||delete f.events;y.clear||delete f.clear},topLevelSignals:(b,f,h)=>{const y=f.name;
b=f.project;const G=f.bind,N=f.init&&f.init[0],pa=xl.has(f)?"(item().isVoronoi ? datum.datum : datum)":"datum";b.items.forEach((Ga,rb)=>{const wb=F("".concat(y,"_").concat(Ga.field));if(!h.filter(Jc=>Jc.name===wb).length){var Vb,Ac;h.unshift(Object.assign({},{name:wb},N?{init:Og(N[rb])}:{value:null},{on:f.events?[{events:f.events,update:"datum \x26\x26 item().mark.marktype !\x3d\x3d 'group' ? ".concat(pa,"[").concat(Ca(Ga.field),"] : null")}]:[],bind:null!==(Vb=null!==(Ac=G[Ga.field])&&void 0!==Ac?
Ac:G[Ga.channel])&&void 0!==Vb?Vb:G}))}});return h},signals:(b,f,h)=>{const y=f.name;var G=f.project;b=h.filter(pa=>pa.name===y+"_tuple")[0];f=y+"_tuple_fields";G=G.items.map(pa=>F("".concat(y,"_").concat(pa.field)));const N=G.map(pa=>"".concat(pa," !\x3d\x3d null")).join(" \x26\x26 ");G.length&&(b.update="".concat(N," ? {fields: ").concat(f,", values: [").concat(G.join(", "),"]} : null"));delete b.value;delete b.on;return h}},zl={has:b=>"multi"===b.type&&!!b.toggle,signals:(b,f,h)=>h.concat({name:f.name+
"_toggle",value:!1,on:[{events:f.events,update:f.toggle}]}),modifyExpr:(b,f)=>{const h=f.name+"_tuple",y=f.name+"_toggle";return"".concat(y," ? null : ").concat(h,", ")+("global"===f.resolve?"".concat(y," ? null : true, "):"".concat(y," ? null : {unit: ").concat(Rf(b),"}, "))+"".concat(y," ? ").concat(h," : null")}},gh={has:b=>"interval"===b.type&&"global"===b.resolve&&b.bind&&"scales"===b.bind,parse:(b,f)=>{const h=f.scales=[];for(const G of f.project.items){var y=G.channel;if(!Lg[y])continue;const N=
(y=b.getScaleComponent(y))?y.get("type"):void 0;y&&N in qg?(y.set("selectionExtent",{selection:f.name,field:G.field},!0),h.push(G)):zb("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}},topLevelSignals:(b,f,h)=>{const y=f.scales.filter(N=>0===h.filter(pa=>pa.name===N.signals.data).length);if(!b.parent||Ng(b)||0===y.length)return h;b=h.filter(N=>N.name===f.name)[0];let G=b.update;if(0<=G.indexOf("vlSelectionResolve"))b.update="{".concat(y.map(N=>"".concat(Ca(N.field),
": ").concat(N.signals.data)).join(", "),"}");else{for(const N of y){const pa="".concat(Ca(N.field),": ").concat(N.signals.data);0>G.indexOf(pa)&&(G="".concat(G.substring(0,G.length-1),", ").concat(pa,"}"))}b.update=G}return h.concat(y.map(N=>({name:N.signals.data})))},signals:(b,f,h)=>{if(b.parent&&!Ng(b))for(const y of f.scales)b=h.filter(G=>G.name===y.signals.data)[0],b.push="outer",delete b.value,delete b.update;return h}},Lk={has:b=>{const f="global"===b.resolve&&b.bind&&xe(b.bind);b=1===b.project.items.length&&
"_vgsid_"!==b.project.items[0].field;f&&!b&&zb("Legend bindings are only supported for selections over an individual field or encoding channel.");return f&&b},parse:(b,f,h,y)=>{y.on||delete f.events;y.clear||delete f.clear;if(y.on||y.clear)for(const N of f.events){var G;N.filter=nb(null!==(G=N.filter)&&void 0!==G?G:[]);0>N.filter.indexOf('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')&&N.filter.push('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')}b=ja(f.bind)?
f.bind.legend:"click";b=Ba(b)?Mg(b,"view"):nb(b);f.bind={legend:{merge:b}}},topLevelSignals:(b,f,h)=>{b=f.name;const y=ja(f.bind)&&f.bind.legend,G=pa=>Ga=>{Ga=Oe(Ga);Ga.markname=pa;return Ga};for(const pa of f.project.items){if(!pa.hasLegend)continue;var N="".concat(F(pa.field),"_legend");const Ga="".concat(b,"_").concat(N);0===h.filter(rb=>rb.name===Ga).length&&(N=y.merge.map(G("".concat(N,"_symbols"))).concat(y.merge.map(G("".concat(N,"_labels")))).concat(y.merge.map(G("".concat(N,"_entries")))),
h.unshift(Object.assign({},{name:Ga},f.init?{}:{value:null},{on:[{events:N,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:y.merge,update:"!event.item || !datum ? null : ".concat(Ga),force:!0}]})))}return h},signals:(b,f,h)=>{const y=f.name;var G=f.project;b=h.find(Ga=>Ga.name===y+"_tuple");var N=y+"_tuple_fields";G=G.items.filter(Ga=>Ga.hasLegend).map(Ga=>F("".concat(y,"_").concat(F(Ga.field),"_legend")));const pa=G.map(Ga=>"".concat(Ga," !\x3d\x3d null")).join(" \x26\x26 ");
N="".concat(pa," ? {fields: ").concat(N,", values: [").concat(G.join(", "),"]} : null");f.events&&0<G.length?b.on.push({events:G.map(Ga=>({signal:Ga})),update:N}):0<G.length&&(b.update=N,delete b.value,delete b.on);b=h.find(Ga=>Ga.name===y+"_toggle");N=ja(f.bind)&&f.bind.legend;b&&(f.events?b.on.push(Object.assign({},b.on[0],{events:N})):b.on[0].events=N);return h}},fm=[{has:()=>!0,parse:(b,f,h)=>{var y;const G=f.name,N=null!==(y=f.project)&&void 0!==y?y:f.project=new Bn,pa={};y={};const Ga=new Set,
rb=(Jc,Pc)=>{Jc="visual"===Pc?Jc.channel:Jc.field;let fd=F("".concat(G,"_").concat(Jc));for(let ld=1;Ga.has(fd);ld++)fd=F("".concat(G,"_").concat(Jc,"_").concat(ld));Ga.add(fd);return{[Pc]:fd}};if(!h.fields&&!h.encodings){const Jc=b.config.selection[h.type];if(h.init)for(const Pc of nb(h.init))for(const fd of kd(Pc))kn[fd]?(h.encodings||(h.encodings=[])).push(fd):"interval"===h.type?(zb('Interval selections should be initialized using "x" and/or "y" keys.'),h.encodings=Jc.encodings):(h.fields||(h.fields=
[])).push(fd);else h.encodings=Jc.encodings,h.fields=Jc.fields}for(var wb of null!==(Vb=h.fields)&&void 0!==Vb?Vb:[]){var Vb;Vb={type:"E",field:wb};Vb.signals=Object.assign({},rb(Vb,"data"));N.items.push(Vb);N.hasField[wb]=Vb}for(const Jc of null!==(Ac=h.encodings)&&void 0!==Ac?Ac:[]){var Ac;(wb=b.fieldDef(Jc))?(Ac=wb.field,wb.aggregate?zb(ce(Jc,wb.aggregate)):Ac?(wb.timeUnit&&(Ac=b.vgField(Jc),Vb={timeUnit:wb.timeUnit,as:Ac,field:wb.field},y[xa(Vb)]=Vb),pa[Ac]||(Vb="E","interval"===f.type?b.getScaleComponent(Jc).get("type")in
qg&&(Vb="R"):wb.bin&&(Vb="R-RE"),wb={field:Ac,channel:Jc,type:Vb},wb.signals=Object.assign({},rb(wb,"data"),rb(wb,"visual")),N.items.push(pa[Ac]=wb),N.hasField[Ac]=N.hasChannel[Jc]=pa[Ac])):zb(ud(Jc))):zb(ud(Jc))}h.init&&(b=Jc=>N.items.map(Pc=>void 0!==Jc[Pc.channel]?Jc[Pc.channel]:Jc[Pc.field]),"interval"===h.type?f.init=b(h.init):(h=nb(h.init),f.init=h.map(b)));Q(y)||(N.timeUnit=new Wg(null,y))},signals:(b,f,h)=>{const y=f.name+"_tuple_fields";return 0<h.filter(G=>G.name===y).length?h:h.concat({name:y,
value:f.project.items.map(G=>{G=Object.assign({},G);G=(delete G.signals,delete G.hasLegend,G);G.field=Za(G.field);return G})})}},zl,gh,Lk,{has:b=>"interval"===b.type&&b.translate,signals:(b,f,h)=>{const y=f.name,G=gh.has(f),N=y+"_translate_anchor",{x:pa,y:Ga}=f.project.hasChannel;let rb=Mg(f.translate,"scope");G||(rb=rb.map(wb=>(wb.between[0].markname=y+"_brush",wb)));h.push({name:N,value:{},on:[{events:rb.map(wb=>wb.between[0]),update:"{x: x(unit), y: y(unit)"+(void 0!==pa?", extent_x: "+(G?zi(b,
"x"):"slice(".concat(pa.signals.visual,")")):"")+(void 0!==Ga?", extent_y: "+(G?zi(b,"y"):"slice(".concat(Ga.signals.visual,")")):"")+"}"}]},{name:y+"_translate_delta",value:{},on:[{events:rb,update:"{x: ".concat(N,".x - x(unit), y: ").concat(N,".y - y(unit)}")}]});void 0!==pa&&Bi(b,f,pa,"width",h);void 0!==Ga&&Bi(b,f,Ga,"height",h);return h}},{has:b=>"interval"===b.type&&b.zoom,signals:(b,f,h)=>{const y=f.name,G=gh.has(f),N=y+"_zoom_delta",{x:pa,y:Ga}=f.project.hasChannel,rb=Ca(b.scaleName("x")),
wb=Ca(b.scaleName("y"));let Vb=Mg(f.zoom,"scope");G||(Vb=Vb.map(Ac=>(Ac.markname=y+"_brush",Ac)));h.push({name:y+"_zoom_anchor",on:[{events:Vb,update:G?"{"+[rb?"x: invert(".concat(rb,", x(unit))"):"",wb?"y: invert(".concat(wb,", y(unit))"):""].filter(Ac=>!!Ac).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:N,on:[{events:Vb,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]});void 0!==pa&&Ci(b,f,pa,"width",h);void 0!==Ga&&Ci(b,f,Ga,"height",h);return h}},yl,xl,{has:b=>void 0!==
b.clear&&!1!==b.clear,parse:(b,f,h)=>{h.clear&&(f.clear=Ba(h.clear)?Mg(h.clear,"scope"):h.clear)},topLevelSignals:(b,f,h)=>{if(yl.has(f))for(const y of f.project.items)b=h.findIndex(G=>G.name===F("".concat(f.name,"_").concat(y.field))),-1!==b&&h[b].on.push({events:f.clear,update:"null"});return h},signals:(b,f,h)=>{function y(G,N){-1!==G&&h[G].on&&h[G].on.push({events:f.clear,update:N})}if("interval"===f.type)for(const G of f.project.items)b=h.findIndex(N=>N.name===G.signals.visual),y(b,"[0, 0]"),
-1===b&&(b=h.findIndex(N=>N.name===G.signals.data),y(b,"null"));else b=h.findIndex(G=>G.name===f.name+"_tuple"),y(b,"null"),zl.has(f)&&(b=h.findIndex(G=>G.name===f.name+"_toggle"),y(b,"false"));return h}}],hm={single:{signals:Sf,modifyExpr:(b,f)=>f.name+"_tuple, "+("global"===f.resolve?"true":"{unit: ".concat(Rf(b),"}"))},multi:{signals:Sf,modifyExpr:(b,f)=>f.name+"_tuple, "+("global"===f.resolve?"null":"{unit: ".concat(Rf(b),"}"))},interval:{signals:(b,f)=>{const h=f.name;var y=h+"_tuple_fields",
G=gh.has(f);const N=[],pa=[],Ga=[];if(f.translate&&!G){const rb="!event.item || event.item.mark.name !\x3d\x3d ".concat(Ca(h+"_brush"));lj(f,(wb,Vb)=>{var Ac;Vb=nb(null!==(Ac=Vb.between[0].filter)&&void 0!==Ac?Ac:Vb.between[0].filter=[]);0>Vb.indexOf(rb)&&Vb.push(rb);return wb})}f.project.items.forEach((rb,wb)=>{const Vb=rb.channel;if("x"!==Vb&&"y"!==Vb)zb("Interval selections only support x and y encoding channels.");else{wb=di(b,f,rb,f.init?f.init[wb]:null);var Ac=rb.signals.data;rb=rb.signals.visual;
var Jc=Ca(b.scaleName(Vb)),Pc=b.getScaleComponent(Vb).get("type")in qg?"+":"";N.push(...wb);pa.push(Ac);Ga.push({scaleName:b.scaleName(Vb),expr:"(!isArray(".concat(Ac,") || ")+"(".concat(Pc,"invert(").concat(Jc,", ").concat(rb,")[0] \x3d\x3d\x3d ").concat(Pc).concat(Ac,"[0] \x26\x26 ")+"".concat(Pc,"invert(").concat(Jc,", ").concat(rb,")[1] \x3d\x3d\x3d ").concat(Pc).concat(Ac,"[1]))")})}});G||N.push({name:h+"_scale_trigger",value:{},on:[{events:Ga.map(rb=>({scale:rb.scaleName})),update:Ga.map(rb=>
rb.expr).join(" \x26\x26 ")+" ? ".concat(h+"_scale_trigger"," : {}")}]});G=f.init;y="unit: ".concat(Rf(b),", fields: ").concat(y,", values");return N.concat(Object.assign({},{name:h+"_tuple"},G?{init:"{".concat(y,": ").concat(Og(G),"}")}:{},{on:[{events:[{signal:pa.join(" || ")}],update:pa.join(" \x26\x26 ")+" ? {".concat(y,": [").concat(pa,"]} : null")}]}))},modifyExpr:(b,f)=>f.name+"_tuple, "+("global"===f.resolve?"true":"{unit: ".concat(Rf(b),"}")),marks:(b,f,h)=>{const y=f.name,{x:G,y:N}=f.project.hasChannel,
pa=G&&G.signals.visual,Ga=N&&N.signals.visual;var rb="data(".concat(Ca(f.name+"_store"),")");if(gh.has(f))return h;const wb={x:void 0!==G?{signal:"".concat(pa,"[0]")}:{value:0},y:void 0!==N?{signal:"".concat(Ga,"[0]")}:{value:0},x2:void 0!==G?{signal:"".concat(pa,"[1]")}:{field:{group:"width"}},y2:void 0!==N?{signal:"".concat(Ga,"[1]")}:{field:{group:"height"}}};if("global"===f.resolve)for(var Vb of kd(wb))wb[Vb]=[Object.assign({},{test:"".concat(rb,".length \x26\x26 ").concat(rb,"[0].unit \x3d\x3d\x3d ").concat(Rf(b))},
wb[Vb]),{value:0}];Vb=f.mark;rb=Object.assign({},Vb);b=Vb.fill;f=Vb.fillOpacity;Vb=Vb.cursor;const Ac=(delete rb.fill,delete rb.fillOpacity,delete rb.cursor,rb);rb=kd(Ac).reduce((Jc,Pc)=>{Jc[Pc]=[{test:[void 0!==G&&"".concat(pa,"[0] !\x3d\x3d ").concat(pa,"[1]"),void 0!==N&&"".concat(Ga,"[0] !\x3d\x3d ").concat(Ga,"[1]")].filter(fd=>fd).join(" \x26\x26 "),value:Ac[Pc]},{value:null}];return Jc},{});return[{name:y+"_brush_bg",type:"rect",clip:!0,encode:{enter:{fill:{value:b},fillOpacity:{value:f}},
update:wb}},...h,{name:y+"_brush",type:"rect",clip:!0,encode:{enter:Object.assign({},Vb?{cursor:{value:Vb}}:{},{fill:{value:"transparent"}}),update:Object.assign({},wb,rb)}}]}}};jg.prototype.visit=function(b){let f,h,y;if(b(this))return 1;f=fi(this);h=0;for(y=f.length;h<y;++h)if(f[h].visit(b))return 1};var ae,Xc,Zf,gf,im=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
jm=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/;
const km={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},lm={"if":1};class Ki extends zf{clone(){return new Ki(null,
this.model,Oe(this.filter))}constructor(b,f,h){super(b);this.model=f;this.filter=h;cc(this,"expr",void 0);cc(this,"_dependentFields",void 0);this.expr=dh(this.model,this.filter,this);this._dependentFields=ji(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return"Filter ".concat(this.expr)}}const hl={scale:b=>{var {model:f,channel:h}=b;return f.scaleName(h)},format:b=>{var {fieldOrDatumDef:f,config:h,axis:y}=
b;const {format:G,formatType:N}=y;return Yd(f,f.type,G,N,h,!0)},formatType:b=>{var {axis:f,fieldOrDatumDef:h,scaleType:y}=b;({formatType:b}=f);return se(b,h,y)},grid:b=>{var {fieldOrDatumDef:f,axis:h,scaleType:y}=b;if(oc(f)&&Hc(f.bin))return!1;var G;return null!==(G=h.grid)&&void 0!==G?G:!(y in hg)&&oc(f)&&!tc(null===f||void 0===f?void 0:f.bin)},gridScale:b=>{var {model:f,channel:h}=b;b="x"===h?"y":"x";b=f.getScaleComponent(b)?f.scaleName(b):void 0;return b},labelAlign:b=>{var {axis:f,labelAngle:h,
orient:y,channel:G}=b;return f.labelAlign||rh(h,y,G)},labelAngle:b=>{({labelAngle:b}=b);return b},labelBaseline:b=>{var {axis:f,labelAngle:h,orient:y,channel:G}=b;return f.labelBaseline||Tg(h,y,G)},labelFlush:b=>{var {axis:f,fieldOrDatumDef:h,channel:y}=b,G;b=null!==(G=f.labelFlush)&&void 0!==G?G:"x"===y&&Ja(["quantitative","temporal"],h.type)?!0:void 0;return b},labelOverlap:b=>{var {axis:f,fieldOrDatumDef:h,scaleType:y}=b,G;if(null!==(G=f.labelOverlap)&&void 0!==G)b=G;else{b=h.type;G=oc(h)&&!!h.timeUnit;
var N=oc(h)?h.sort:void 0;b=G&&!pb(N)||"nominal"!==b&&"ordinal"!==b?"log"===y||"symlog"===y?"greedy":!0:void 0}return b},orient:b=>{({orient:b}=b);return b},tickCount:b=>{var {channel:f,model:h,axis:y,fieldOrDatumDef:G,scaleType:N}=b,pa;b=(b="x"===f?"width":"y"===f?"height":void 0)?h.getSizeSignalRef(b):void 0;if(null===(pa=y.tickCount)||void 0===pa)a:{var {fieldOrDatumDef:Ga,scaleType:rb,size:wb,values:Vb}={fieldOrDatumDef:G,scaleType:N,size:b,values:y.values};if(Vb||rb in hg||"log"===rb)pa=void 0;
else{if(oc(Ga)){var Ac;if(tc(Ga.bin)){pa={signal:"ceil(".concat(wb.signal,"/10)")};break a}if(Ga.timeUnit&&Ja(["month","hours","day","quarter"],null===(Ac=Bb(Ga.timeUnit))||void 0===Ac?void 0:Ac.unit)){pa=void 0;break a}}pa={signal:"ceil(".concat(wb.signal,"/40)")}}}return pa},title:b=>{var {axis:f,model:h,channel:y}=b;if(void 0!==f.title)return f.title;b=Ni(h,y);if(void 0!==b)return b;b=h.typedFieldDef(y);const G=h.fieldDef("x"===y?"x2":"y2");return Gf(b?[Fa(b)]:[],oc(G)?[Fa(G)]:[])},values:b=>{var {axis:f,
fieldOrDatumDef:h}=b;b=f.values;b=de(b)?Dc(h,b):sc(b)?b:void 0;return b},zindex:b=>{var {axis:f,fieldOrDatumDef:h,mark:y}=b,G;b=null!==(G=f.zindex)&&void 0!==G?G:"rect"===y&&Be(h)?1:0;return b}};class Ri extends zf{clone(){return new Ri(null,Oe(this.transform))}constructor(b,f){super(b);this.transform=f;cc(this,"_dependentFields",void 0);this._dependentFields=ji(this.transform.calculate)}static parseAllForSortIndex(b,f){f.forEachFieldDef((h,y)=>{if(ye(h)&&R(h.sort)){const {field:N,timeUnit:pa}=h;
var G=h.sort;G=G.map((Ga,rb)=>"".concat(re({field:N,timeUnit:pa,equal:Ga})," ? ").concat(rb," : ")).join("")+G.length;b=new Ri(b,{calculate:G,as:lg(h,y,{forAs:!0})})}});return b}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return"Calculate ".concat(xa(this.transform))}}const pk=["row","column"],Tj=["header","footer"],Cn={column:{start:0,end:1},row:{start:1,
end:0}},Dn=Object.assign({},{aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,
rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,
fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),Rk=kd(Dn);class qm extends Bh{}const Tk={symbols:function(b,f){var {fieldOrDatumDef:h,model:y,channel:G,legendCmpt:N,legendType:pa}=f,Ga,rb,wb,Vb;if("symbol"===pa){var {markDef:Ac,encoding:Jc,config:Pc,mark:fd}=y,ld=Ac.filled&&"trail"!==fd;f=Object.assign({},ie({},y,rn),$i(y,{filled:ld}));var Sd=null!==(Ga=N.get("symbolOpacity"))&&void 0!==Ga?Ga:Pc.legend.symbolOpacity;Ga=null!==(rb=N.get("symbolFillColor"))&&void 0!==rb?rb:Pc.legend.symbolFillColor;
rb=null!==(wb=N.get("symbolStrokeColor"))&&void 0!==wb?wb:Pc.legend.symbolStrokeColor;wb=void 0===Sd?null!==(Vb=Oi(Jc.opacity))&&void 0!==Vb?Vb:Ac.opacity:void 0;if(f.fill)if("fill"===G||ld&&"color"===G)delete f.fill;else if(f.fill.field)if(Ga)delete f.fill;else{var Le;f.fill=Bd(null!==(Le=Pc.legend.symbolBaseFillColor)&&void 0!==Le?Le:"black");f.fillOpacity=Bd(null!==wb&&void 0!==wb?wb:1)}else if(de(f.fill)){var Gd,Je,sd;if(Vb=null!==(Gd=null!==(Je=wg(null!==(sd=Jc.fill)&&void 0!==sd?sd:Jc.color))&&
void 0!==Je?Je:Ac.fill)&&void 0!==Gd?Gd:ld&&Ac.color)f.fill=Bd(Vb)}f.stroke&&("stroke"===G||!ld&&"color"===G?delete f.stroke:f.stroke.field||rb?delete f.stroke:de(f.stroke)&&(Gd=ha(wg(Jc.stroke||Jc.color),Ac.stroke,ld?Ac.color:void 0))&&(f.stroke={value:Gd}));"opacity"!==G&&((Gd=oc(h)&&Ph(y,N,h))?f.opacity=[Object.assign({},{test:Gd},Bd(null!==wb&&void 0!==wb?wb:1)),Bd(Pc.legend.unselectedOpacity)]:wb&&(f.opacity=Bd(wb)));f=Object.assign({},f,b);return Q(f)?void 0:f}},gradient:function(b,f){var {model:h,
legendType:y,legendCmpt:G}=f,N;if("gradient"===y){var {config:pa,markDef:Ga,encoding:rb}=h;f={};var wb=void 0===(null!==(N=G.get("gradientOpacity"))&&void 0!==N?N:pa.legend.gradientOpacity)?Oi(rb.opacity)||Ga.opacity:void 0;wb&&(f.opacity=Bd(wb));f=Object.assign({},f,b);return Q(f)?void 0:f}},labels:function(b,f){var {fieldOrDatumDef:h,model:y,channel:G,legendCmpt:N}=f;f=y.legend(G)||{};const pa=y.config;var Ga=oc(h)?Ph(y,N,h):void 0;Ga=Ga?[{test:Ga,value:1},{value:pa.legend.unselectedOpacity}]:void 0;
const {format:rb,formatType:wb}=f;f=wc(wb)?oe({fieldOrDatumDef:h,field:"datum.value",format:rb,formatType:wb,config:pa}):void 0;b=Object.assign({},Ga?{opacity:Ga}:{},f?{text:f}:{},b);return Q(b)?void 0:b},entries:function(b,f){({legendCmpt:f}=f);f=f.get("selections");return(null===f||void 0===f?0:f.length)?Object.assign({},b,{fill:{value:"transparent"}}):b}},Sk={direction:b=>{({direction:b}=b);return b},format:b=>{var {fieldOrDatumDef:f,legend:h,config:y}=b;const {format:G,formatType:N}=h;return Yd(f,
f.type,G,N,y,!1)},formatType:b=>{var {legend:f,fieldOrDatumDef:h,scaleType:y}=b;({formatType:b}=f);return se(b,h,y)},gradientLength:b=>{var f,h;const {legend:y,legendConfig:G}=b;if(null!==(f=null!==(h=y.gradientLength)&&void 0!==h?h:G.gradientLength)&&void 0!==f)b=f;else{{var {legendConfig:N,model:pa,direction:Ga,orient:rb,scaleType:wb}=b;const {gradientHorizontalMaxLength:Vb,gradientHorizontalMinLength:Ac,gradientVerticalMaxLength:Jc,gradientVerticalMinLength:Pc}=N;b=wb in zg?"horizontal"===Ga?"top"===
rb||"bottom"===rb?vh(pa,"width",Ac,Vb):Ac:vh(pa,"height",Pc,Jc):void 0}}return b},labelOverlap:b=>{var {legend:f,legendConfig:h,scaleType:y}=b,G,N;b=null!==(G=null!==(N=f.labelOverlap)&&void 0!==N?N:h.labelOverlap)&&void 0!==G?G:Ja(["quantile","threshold","log","symlog"],y)?"greedy":void 0;return b},symbolType:b=>{var {legend:f,markDef:h,channel:y,encoding:G}=b,N;if(null!==(N=f.symbolType)&&void 0!==N)var pa=N;else a:{b=h.type;N=h.shape;if("shape"!==y&&(N=null!==(pa=wg(G.shape))&&void 0!==pa?pa:N)){pa=
N;break a}switch(b){case "bar":case "rect":case "image":case "square":pa="square";break a;case "line":case "trail":case "rule":pa="stroke";break a;case "arc":case "point":case "circle":case "tick":case "geoshape":case "area":case "text":pa="circle";break a}pa=void 0}return pa},title:b=>{var {fieldOrDatumDef:f,config:h}=b;return De(f,h,{allowDisabling:!0})},type:b=>{var {legendType:f,scaleType:h,channel:y}=b;if(fa(y)&&h in zg){if("gradient"===f)return}else if("symbol"===f)return;return f},values:b=>
{var {fieldOrDatumDef:f,legend:h}=b;b=h.values;b=de(b)?Dc(f,b):sc(b)?b:void 0;return b}},rm="type clipAngle clipExtent center rotate precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" ");class Uk extends Bh{constructor(b,f,h,y){super(Object.assign({},f),{name:b});this.specifiedProjection=f;this.size=h;this.data=y;cc(this,"merged",!1)}get isFit(){return!!this.data}}class Vg extends zf{clone(){return new Vg(null,Oe(this.bins))}constructor(b,f){super(b);
this.bins=f}static makeFromEncoding(b,f){const h=f.reduceFieldDef((y,G,N)=>{if(jd(G)&&tc(G.bin)){const {key:pa,binComponent:Ga}=Xf(G,G.bin,f);y[pa]=Object.assign({},Ga,y[pa],tj(f,G,N,f.config))}return y},{});return Q(h)?null:new Vg(b,h)}static makeFromTransform(b,f,h){const {key:y,binComponent:G}=Xf(f,f.bin,h);return new Vg(b,{[y]:G})}merge(b,f){for(const h of kd(b.bins))h in this.bins?(f(b.bins[h].signal,this.bins[h].signal),this.bins[h].as=Ra([...this.bins[h].as,...b.bins[h].as],xa)):this.bins[h]=
b.bins[h];for(const h of b.children)b.removeChild(h),h.parent=this;b.remove()}producedFields(){return new Set(Pg(this.bins).map(b=>b.as).flat(2))}dependentFields(){return new Set(Pg(this.bins).map(b=>b.field))}hash(){return"Bin ".concat(xa(this.bins))}assemble(){return Pg(this.bins).flatMap(b=>{const f=[],[h,...y]=b.as;var G=b.bin,N=Object.assign({},G);G=G.extent;N=(delete N.extent,N);N=Object.assign({},{type:"bin",field:Za(b.field),as:h,signal:b.signal},Ma(G)?{extent:null}:{extent:G},b.span?{span:{signal:"span(".concat(b.span,
")")}}:{},N);!G&&b.extentSignal&&(f.push({type:"extent",field:Za(b.field),signal:b.extentSignal}),N.extent={signal:b.extentSignal});f.push(N);for(const pa of y)for(G=0;2>G;G++)f.push({type:"formula",expr:bd({field:h[G]},{expr:"datum"}),as:pa[G]});b.formula&&f.push({type:"formula",expr:b.formula,as:b.formulaAs});return f})}}class Jg extends zf{clone(){return new Jg(null,new Set(this.dimensions),Oe(this.measures))}constructor(b,f,h){super(b);this.dimensions=f;this.measures=h}get groupBy(){return this.dimensions}static makeFromEncoding(b,
f){let h=!1;f.forEachFieldDef(N=>{N.aggregate&&(h=!0)});const y={},G=new Set;if(!h)return null;f.forEachFieldDef((N,pa)=>{const {aggregate:Ga,field:rb}=N;if(Ga)if("count"===Ga){var wb;y["*"]=null!==(wb=y["*"])&&void 0!==wb?wb:{};y["*"].count=new Set([bd(N,{forAs:!0})])}else{if(B(Ga)||E(Ga)){var Vb;N=B(Ga)?"argmin":"argmax";wb=Ga[N];y[wb]=null!==(Vb=y[wb])&&void 0!==Vb?Vb:{};y[wb][N]=new Set([bd({op:N,field:wb},{forAs:!0})])}else{var Ac;y[rb]=null!==(Ac=y[rb])&&void 0!==Ac?Ac:{};y[rb][Ga]=new Set([bd(N,
{forAs:!0})])}if(Lg[pa]&&"unaggregated"===f.scaleDomain(pa)){var Jc;y[rb]=null!==(Jc=y[rb])&&void 0!==Jc?Jc:{};y[rb].min=new Set([bd({field:rb,aggregate:"min"},{forAs:!0})]);y[rb].max=new Set([bd({field:rb,aggregate:"max"},{forAs:!0})])}}else Vb=Kf(f)?f.encoding[na(pa)]:void 0,jd(N)&&Kf(f)&&Pb(pa,N,Vb,f.stack,f.markDef,f.config)?(G.add(bd(N,{})),G.add(bd(N,{suffix:"end"})),N.bin&&Sc(N,pa)&&G.add(bd(N,{binSuffix:"range"}))):pa in ok?(pa=sa(pa),G.add(f.getName(pa))):G.add(bd(N))});return 0===G.size+
kd(y).length?null:new Jg(b,G,y)}static makeFromTransform(b,f){const h=new Set,y={};for(const Ga of f.aggregate){const {op:rb,field:wb,as:Vb}=Ga;if(rb)if("count"===rb){var G;y["*"]=null!==(G=y["*"])&&void 0!==G?G:{};y["*"].count=new Set([Vb?Vb:bd(Ga,{forAs:!0})])}else{var N;y[wb]=null!==(N=y[wb])&&void 0!==N?N:{};y[wb][rb]=new Set([Vb?Vb:bd(Ga,{forAs:!0})])}}for(const Ga of null!==(pa=f.groupby)&&void 0!==pa?pa:[]){var pa;h.add(Ga)}return 0===h.size+kd(y).length?null:new Jg(b,h,y)}merge(b){if(fb(this.dimensions,
b.dimensions)){var f=this.measures;b=b.measures;for(const y of kd(b)){const G=b[y];for(const N of kd(G))if(y in f){var h;f[y][N]=new Set([...null!==(h=f[y][N])&&void 0!==h?h:[],...G[N]])}else f[y]={[N]:G[N]}}return!0}Ti.debug(...["different dimensions, cannot merge"]);return!1}addDimensions(b){b.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...kd(this.measures)])}producedFields(){const b=new Set;for(const f of kd(this.measures))for(const h of kd(this.measures[f])){const y=
this.measures[f][h];0===y.size?b.add("".concat(h,"_").concat(f)):y.forEach(b.add,b)}return b}hash(){return"Aggregate ".concat(xa({dimensions:this.dimensions,measures:this.measures}))}assemble(){const b=[],f=[],h=[];for(const y of kd(this.measures))for(const G of kd(this.measures[y]))for(const N of this.measures[y][G])h.push(N),b.push(G),f.push("*"===y?null:Za(y));return{type:"aggregate",groupby:[...this.dimensions].map(Za),ops:b,fields:f,as:h}}}class ni extends zf{constructor(b,f,h,y){super(b);this.model=
f;this.name=h;this.data=y;cc(this,"column",void 0);cc(this,"row",void 0);cc(this,"facet",void 0);cc(this,"childModel",void 0);for(const G of sg)if(b=f.facet[G]){const {bin:N,sort:pa}=b;this[G]=Object.assign({},{name:f.getName("".concat(G,"_domain")),fields:[bd(b),...tc(N)?[bd(b,{binSuffix:"end"})]:[]]},I(pa)?{sortField:pa}:de(pa)?{sortIndexField:lg(b,G)}:{})}this.childModel=f.child}hash(){let b="Facet";for(const f of sg)this[f]&&(b+=" ".concat(f.charAt(0),":").concat(xa(this[f])));return b}get fields(){const b=
[];for(const h of sg){var f;(null===(f=this[h])||void 0===f?0:f.fields)&&b.push(...this[h].fields)}return b}dependentFields(){const b=new Set(this.fields);for(const f of sg)this[f]&&(this[f].sortField&&b.add(this[f].sortField.field),this[f].sortIndexField&&b.add(this[f].sortIndexField));return b}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const b={};for(const y of rg){var f=this.childModel.component.scales[y];if(f&&!f.merged){var h=f.get("type");
f=f.get("range");h in hg&&mc(f)&&(h=$e(this.childModel,y),(h=jf(h))?b[y]=h:zb(Nc(y)))}}return b}assembleRowColumnHeaderData(b,f,h){const y={row:"y",column:"x"}[b],G=[],N=[],pa=[];h&&h[y]&&(f?(G.push("distinct_".concat(h[y])),N.push("max")):(G.push(h[y]),N.push("distinct")),pa.push("distinct_".concat(h[y])));const {sortField:Ga,sortIndexField:rb}=this[b];if(Ga){const {op:wb="min",field:Vb}=Ga;G.push(Vb);N.push(wb);pa.push(bd(Ga,{forAs:!0}))}else rb&&(G.push(rb),N.push("max"),pa.push(rb));return{name:this[b].name,
source:null!==f&&void 0!==f?f:this.data,transform:[Object.assign({},{type:"aggregate",groupby:this[b].fields},G.length?{fields:G,ops:N,as:pa}:{})]}}assembleFacetHeaderData(b){const {columns:f}=this.model.layout,{layoutHeaders:h}=this.model.component,y=[],G={};for(const Vb of pk){for(const Ac of Tj){var N,pa=null!==(N=h[Vb]&&h[Vb][Ac])&&void 0!==N?N:[];for(const Jc of pa){var Ga;if(0<(null===(Ga=Jc.axes)||void 0===Ga?void 0:Ga.length)){G[Vb]=!0;break}}}G[Vb]&&(pa='length(data("'.concat(this.facet.name,
'"))'),pa="row"===Vb?f?{signal:"ceil(".concat(pa," / ").concat(f,")")}:1:f?{signal:"min(".concat(pa,", ").concat(f,")")}:{signal:pa},y.push({name:"".concat(this.facet.name,"_").concat(Vb),transform:[{type:"sequence",start:0,stop:pa}]}))}const {row:rb,column:wb}=G;(rb||wb)&&y.unshift(this.assembleRowColumnHeaderData("facet",null,b));return y}assemble(){const b=[];var f=null;const h=this.getChildIndependentFieldsWithStep(),{column:y,row:G,facet:N}=this;if(y&&G&&(h.x||h.y)){var pa,Ga;f="cross_".concat(this.column.name,
"_").concat(this.row.name);const rb=[].concat(null!==(pa=h.x)&&void 0!==pa?pa:[],null!==(Ga=h.y)&&void 0!==Ga?Ga:[]);pa=rb.map(()=>"distinct");b.push({name:f,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:rb,ops:pa}]})}for(const rb of["column","row"])this[rb]&&b.push(this.assembleRowColumnHeaderData(rb,f,h));N&&(f=this.assembleFacetHeaderData(h))&&b.push(...f);return b}}class fg extends zf{clone(){return new fg(null,Oe(this._parse))}constructor(b,f){super(b);cc(this,"_parse",
void 0);this._parse=f}hash(){return"Parse ".concat(xa(this._parse))}static makeExplicit(b,f,h){let y={};f=f.data;!ag(f)&&f&&f.format&&f.format.parse&&(y=f.format.parse);return this.makeWithAncestors(b,y,{},h)}static makeWithAncestors(b,f,h,y){for(var G of kd(h)){const pa=y.getWithExplicit(G);void 0!==pa.value&&(pa.explicit||pa.value===h[G]||"derived"===pa.value||"flatten"===h[G]?delete h[G]:zb(Pd(G,h[G],pa.value)))}for(var N of kd(f))G=y.get(N),void 0!==G&&(G===f[N]?delete f[N]:zb(Pd(N,f[N],G)));
f=new Bh(f,h);y.copyAll(f);h={};for(const pa of kd(f.combine()))N=f.get(pa),null!==N&&(h[pa]=N);return 0===kd(h).length||y.parseNothing?null:new fg(b,h)}get parse(){return this._parse}merge(b){this._parse=Object.assign({},this._parse,b.parse);b.remove()}assembleFormatParse(){const b={};for(const f of kd(this._parse)){const h=this._parse[f];1===ta(f)&&(b[f]=h)}return b}producedFields(){return new Set(kd(this._parse))}dependentFields(){return new Set(kd(this._parse))}assembleTransforms(b){b=void 0===
b?!1:b;return kd(this._parse).filter(f=>b?1<ta(f):!0).map(f=>{const h=Jf(f,this._parse[f]);return h?{type:"formula",expr:h,as:qa(f)}:null}).filter(f=>null!==f)}}class Vh extends zf{clone(){return new Vh(null)}constructor(b){super(b)}dependentFields(){return new Set}producedFields(){return new Set(["_vgsid_"])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:"_vgsid_"}}}class uj extends zf{clone(){return new uj(null,this.params)}constructor(b,f){super(b);this.params=f}dependentFields(){return new Set}producedFields(){}hash(){return"Graticule ".concat(xa(this.params))}assemble(){return Object.assign({},
{type:"graticule"},!0===this.params?{}:this.params)}}class vj extends zf{clone(){return new vj(null,this.params)}constructor(b,f){super(b);this.params=f}dependentFields(){return new Set}producedFields(){var b;return new Set([null!==(b=this.params.as)&&void 0!==b?b:"data"])}hash(){return"Hash ".concat(xa(this.params))}assemble(){return Object.assign({},{type:"sequence"},this.params)}}class Uh extends zf{constructor(b){var f;super(null);cc(this,"_data",void 0);cc(this,"_name",void 0);cc(this,"_generator",
void 0);b=null!==(f=b)&&void 0!==f?f:{name:"source"};let h;ag(b)||(h=b.format?Object.assign({},gb(b.format,["parse"])):{});if("values"in b)this._data={values:b.values};else if("url"in b)this._data={url:b.url},h.type||(f=/(?:\.([^.]+))?$/.exec(b.url)[1],Ja(["json","csv","tsv","dsv","topojson"],f)||(f="json"),h.type=f);else if("sphere"in b)this._data={values:[{type:"Sphere"}]};else if(pg(b)||ag(b))this._data={};this._generator=ag(b);b.name&&(this._name=b.name);h&&!Q(h)&&(this._data.format=h)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(b){this._name=
b}set parent(b){throw Error("Source nodes have to be roots.");}remove(){throw Error("Source nodes are roots and cannot be removed.");}hash(){throw Error("Cannot hash sources");}assemble(){return Object.assign({},{name:this._name},this._data,{transform:[]})}}var Kj=new WeakMap;class qk{constructor(){Kj.set(this,{writable:!0,value:void 0});nc(this,Kj,!1)}setModified(){nc(this,Kj,!0)}get modifiedFlag(){var b=Kj.get(this);if(!b)throw new TypeError("attempted to get private field on non-instance");b=b.get?
b.get.call(this):b.value;return b}}class Xh extends qk{getNodeDepths(b,f,h){h.set(b,f);for(const y of b.children)this.getNodeDepths(y,f+1,h);return h}optimize(b){b=[...this.getNodeDepths(b,0,new Map).entries()].sort((f,h)=>h[1]-f[1]);for(const f of b)this.run(f[0]);return this.modifiedFlag}}class rk extends qk{optimize(b){this.run(b);for(const f of b.children)this.optimize(f);return this.modifiedFlag}}class Bm extends rk{mergeNodes(b,f){const h=f.shift();for(const y of f)b.removeChild(y),y.parent=
h,y.remove()}run(b){const f=b.children.map(y=>y.hash()),h={};for(let y=0;y<f.length;y++)void 0===h[f[y]]?h[f[y]]=[b.children[y]]:h[f[y]].push(b.children[y]);for(const y of kd(h))1<h[y].length&&(this.setModified(),this.mergeNodes(b,h[y]))}}class tm extends rk{constructor(b){super();cc(this,"requiresSelectionId",void 0);this.requiresSelectionId=b&&ei(b)}run(b){!(b instanceof Vh)||this.requiresSelectionId&&(a(b.parent)||b.parent instanceof Jg||b.parent instanceof fg)||(this.setModified(),b.remove())}}
class xm extends qk{optimize(b){this.run(b,new Set);return this.modifiedFlag}run(b,f){let h=new Set;b instanceof Wg&&(h=b.producedFields(),Wa(h,f)&&(this.setModified(),b.removeFormulas(f),0===b.producedFields.length&&b.remove()));for(const y of b.children)this.run(y,new Set([...f,...h]))}}class sm extends rk{constructor(){super()}run(b){b instanceof bg&&!b.isRequired()&&(this.setModified(),b.remove())}}class vm extends Xh{run(b){if(!(a(b)||1<b.numChildren()))for(const f of b.children)f instanceof
fg&&(b instanceof fg?(this.setModified(),b.merge(f)):Xa(b.producedFields(),f.dependentFields())||(this.setModified(),f.swapWithParent()))}}class ym extends Xh{run(b){const f=[...b.children];var h=b.children.filter(G=>G instanceof fg);if(1<b.numChildren()&&1<=h.length){const G={};var y=new Set;for(const N of h){h=N.parse;for(const pa of kd(h))pa in G?G[pa]!==h[pa]&&y.add(pa):G[pa]=h[pa]}for(const N of y)delete G[N];if(!Q(G)){this.setModified();y=new fg(b,G);for(const N of f){if(N instanceof fg)for(const pa of kd(G))delete N.parse[pa];
b.removeChild(N);N.parent=y;N instanceof fg&&0===kd(N.parse).length&&N.remove()}}}}}class um extends Xh{run(b){b instanceof bg||0<b.numChildren()||b instanceof ni||b instanceof Uh||(this.setModified(),b.remove())}}class Am extends Xh{run(b){b=b.children.filter(h=>h instanceof Wg);const f=b.pop();for(const h of b)this.setModified(),f.merge(h)}}class zm extends Xh{run(b){var f=b.children.filter(G=>G instanceof Jg);const h={};for(var y of f)f=xa(y.groupBy),f in h||(h[f]=[]),h[f].push(y);for(const G of kd(h))if(y=
h[G],1<y.length){f=y.pop();for(const N of y)f.merge(N)&&(b.removeChild(N),N.parent=f,N.remove(),this.setModified())}}}class wm extends Xh{constructor(b){super();this.model=b}run(b){var f=!(a(b)||b instanceof Ki||b instanceof fg||b instanceof Vh);const h=[],y=[];for(const G of b.children)G instanceof Vg&&(f&&!Xa(b.producedFields(),G.dependentFields())?h.push(G):y.push(G));if(0<h.length){f=h.pop();for(const G of h)f.merge(G,this.model.renameSignal.bind(this.model));this.setModified();b instanceof Vg?
b.merge(f,this.model.renameSignal.bind(this.model)):f.swapWithParent()}if(1<y.length){b=y.pop();for(const G of y)b.merge(G,this.model.renameSignal.bind(this.model));this.setModified()}}}class Cm extends Xh{run(b){var f=[...b.children];if(da(f,G=>G instanceof bg)&&!(1>=b.numChildren())){var h=[];for(const G of f)if(G instanceof bg){for(f=G;1===f.numChildren();){const [N]=f.children;if(N instanceof bg)f=N;else break}h.push(...f.children);if(y)b.removeChild(G),G.parent=y.parent,y.parent.removeChild(y),
y.parent=f,this.setModified();else var y=f}else h.push(G);if(h.length){this.setModified();for(const G of h)G.parent.removeChild(G),G.parent=y}}}}class oi extends zf{clone(){return new oi(null,Oe(this.transform))}constructor(b,f){super(b);this.transform=f}addDimensions(b){this.transform.groupby=Ra(this.transform.groupby.concat(b),f=>f)}dependentFields(){const b=new Set;this.transform.groupby&&this.transform.groupby.forEach(b.add,b);this.transform.joinaggregate.map(f=>f.field).filter(f=>void 0!==f).forEach(b.add,
b);return b}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(b){var f;return null!==(f=b.as)&&void 0!==f?f:bd(b)}hash(){return"JoinAggregateTransform ".concat(xa(this.transform))}assemble(){const b=[],f=[],h=[];for(var y of this.transform.joinaggregate)f.push(y.op),h.push(this.getDefaultName(y)),b.push(void 0===y.field?null:y.field);y=this.transform.groupby;return Object.assign({},{type:"joinaggregate",as:h,ops:f,fields:b},void 0!==y?{groupby:y}:
{})}}class Ah extends zf{clone(){return new Ah(null,Oe(this._stack))}constructor(b,f){super(b);cc(this,"_stack",void 0);this._stack=f}static makeFromTransform(b,f){const {stack:h,groupby:y,as:G,offset:N="zero"}=f;var pa=[];const Ga=[];if(void 0!==f.sort)for(const rb of f.sort)pa.push(rb.field),Ga.push(ha(rb.order,"ascending"));pa={field:pa,order:Ga};f=q(G)?G:Ba(G)?[G,G+"_end"]:[f.stack+"_start",f.stack+"_end"];return new Ah(b,{stackField:h,groupby:y,offset:N,sort:pa,facetby:[],as:f})}static makeFromEncoding(b,
f){var h=f.stack,{encoding:y}=f;if(!h)return null;const {groupbyChannel:G,fieldChannel:N,offset:pa,impute:Ga}=h;let rb;G&&(rb=Ne(y[G]));h=e(f);y=f.encoding.order;y=de(y)||oc(y)?He(y):h.reduce((wb,Vb)=>{wb.field.push(Vb);wb.order.push("y"===N?"descending":"ascending");return wb},{field:[],order:[]});return new Ah(b,{dimensionFieldDef:rb,stackField:f.vgField(N),facetby:[],stackby:h,sort:y,offset:pa,impute:Ga,as:[f.vgField(N,{suffix:"start",forAs:!0}),f.vgField(N,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(b){this._stack.facetby.push(...b)}dependentFields(){const b=
new Set;b.add(this._stack.stackField);this.getGroupbyFields().forEach(b.add,b);this._stack.facetby.forEach(b.add,b);this._stack.sort.field.forEach(b.add,b);return b}producedFields(){return new Set(this._stack.as)}hash(){return"Stack ".concat(xa(this._stack))}getGroupbyFields(){const {dimensionFieldDef:b,impute:f,groupby:h}=this._stack;return b?b.bin?f?[bd(b,{binSuffix:"mid"})]:[bd(b,{}),bd(b,{binSuffix:"end"})]:[bd(b)]:null!==h&&void 0!==h?h:[]}assemble(){const b=[],{facetby:f,dimensionFieldDef:h,
stackField:y,stackby:G,sort:N,offset:pa,impute:Ga,as:rb}=this._stack;if(Ga&&h){const {band:wb=.5,bin:Vb}=h;Vb&&b.push({type:"formula",expr:"".concat(wb,"*")+bd(h,{expr:"datum"})+"+".concat(1-wb,"*")+bd(h,{expr:"datum",binSuffix:"end"}),as:bd(h,{binSuffix:"mid",forAs:!0})});b.push({type:"impute",field:y,groupby:[...G,...f],key:bd(h,{binSuffix:"mid"}),method:"value",value:0})}b.push({type:"stack",groupby:[...this.getGroupbyFields(),...f],field:y,sort:N,as:rb,offset:pa});return b}}class Qi extends zf{clone(){return new Qi(null,
Oe(this.transform))}constructor(b,f){super(b);this.transform=f}addDimensions(b){this.transform.groupby=Ra(this.transform.groupby.concat(b),f=>f)}dependentFields(){var b,f;const h=new Set;(null!==(b=this.transform.groupby)&&void 0!==b?b:[]).forEach(h.add,h);(null!==(f=this.transform.sort)&&void 0!==f?f:[]).forEach(y=>h.add(y.field));this.transform.window.map(y=>y.field).filter(y=>void 0!==y).forEach(h.add,h);return h}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(b){var f;
return null!==(f=b.as)&&void 0!==f?f:bd(b)}hash(){return"WindowTransform ".concat(xa(this.transform))}assemble(){const b=[],f=[],h=[],y=[];for(var G of this.transform.window)f.push(G.op),h.push(this.getDefaultName(G)),y.push(void 0===G.param?null:G.param),b.push(void 0===G.field?null:G.field);G=this.transform.frame;const N=this.transform.groupby;if(G&&null===G[0]&&null===G[1]&&f.every(wb=>z(wb)))return Object.assign({},{type:"joinaggregate",as:h,ops:f,fields:b},void 0!==N?{groupby:N}:{});const pa=
[],Ga=[];if(void 0!==this.transform.sort)for(const wb of this.transform.sort){var rb;pa.push(wb.field);Ga.push(null!==(rb=wb.order)&&void 0!==rb?rb:"ascending")}rb=this.transform.ignorePeers;return Object.assign({},{type:"window",params:y,as:h,ops:f,fields:b,sort:{field:pa,order:Ga}},void 0!==rb?{ignorePeers:rb}:{},void 0!==N?{groupby:N}:{},void 0!==G?{frame:G}:{})}}class xg{constructor(b){cc(this,"signal",void 0);Object.defineProperty(this,"signal",{enumerable:!0,get:b})}static fromName(b,f){return new xg(()=>
b(f))}}class $k extends Bh{constructor(b,f){super({},{name:b});cc(this,"merged",!1);this.setWithExplicit("type",f)}domainDefinitelyIncludesZero(){return!1!==this.get("zero")?!0:da(this.get("domains"),b=>de(b)&&2===b.length&&0>=b[0]&&0<=b[1])}}const Fm=["range","scheme"],Wk={bins:b=>{var {model:f,fieldOrDatumDef:h}=b;return oc(h)?Gm(f,h):void 0},interpolate:b=>{var {channel:f,fieldOrDatumDef:h}=b;b=h.type;b=Ja(["color","fill","stroke"],f)&&"nominal"!==b?"hcl":void 0;return b},nice:b=>{var {scaleType:f,
channel:h,fieldOrDatumDef:y}=b;var G;b=(null===(G=Ne(y))||void 0===G?0:G.bin)||Ja([Of.TIME,Of.UTC],f)?void 0:h in Vf?!0:void 0;return b},padding:b=>{var {channel:f,scaleType:h,fieldOrDatumDef:y,markDef:G,config:N}=b;a:{b=N.scale;var pa=N.bar;if(f in Vf){if(h in zg){if(void 0!==b.continuousPadding){b=b.continuousPadding;break a}const {type:Ga,orient:rb}=G;if("bar"===Ga&&(!oc(y)||!y.bin&&!y.timeUnit)&&("vertical"===rb&&"x"===f||"horizontal"===rb&&"y"===f)){b=pa.continuousBandSize;break a}}if(h===Of.POINT){b=
b.pointPadding;break a}}b=void 0}return b},paddingInner:b=>{var {scalePadding:f,channel:h,markDef:y,config:G}=b;if(void 0!==f)b=void 0;else if(h in Vf){const {bandPaddingInner:N,barBandPaddingInner:pa,rectBandPaddingInner:Ga}=G.scale;b=ha(N,"bar"===y.type?pa:Ga)}else b=void 0;return b},paddingOuter:b=>{var {scalePadding:f,channel:h,scaleType:y,scalePaddingInner:G,config:N}=b;void 0!==f?b=void 0:h in Vf&&y===Of.BAND?({bandPaddingOuter:b}=N.scale,b=ha(b,sc(G)?{signal:"".concat(G.signal,"/2")}:G/2)):
b=void 0;return b},reverse:b=>{var {fieldOrDatumDef:f,scaleType:h,channel:y,config:G}=b;b=oc(f)?f.sort:void 0;var N=G.scale;b="x"===y&&void 0!==N.xReverse?h in qg&&"descending"===b?sc(N.xReverse)?{signal:"!".concat(N.xReverse.signal)}:!N.xReverse:N.xReverse:h in qg&&"descending"===b?!0:void 0;return b},zero:b=>{var {channel:f,fieldOrDatumDef:h,domain:y,markDef:G,scaleType:N}=b;a:if(y&&"unaggregated"!==y&&N in qg){if(de(y)&&(b=y[y.length-1],0>=y[0]&&0<=b)){b=!0;break a}b=!1}else if("size"!==f||"quantitative"!==
h.type||N in Ui)if(oc(h)&&h.bin||!Ja([...rg,...mn],f))b=!1;else{const {orient:pa,type:Ga}=G;b=Ja(["bar","area","line","trail"],Ga)&&("horizontal"===pa&&"y"===f||"vertical"===pa&&"x"===f)?!1:!0}else b=!0;return b}},Jm=yg((b,f)=>sl[b]-sl[f]);class sk{constructor(){cc(this,"nameMap",void 0);this.nameMap={}}rename(b,f){this.nameMap[b]=f}has(b){return void 0!==this.nameMap[b]}get(b){for(;this.nameMap[b]&&b!==this.nameMap[b];)b=this.nameMap[b];return b}}class tk{constructor(b,f,h,y,G,N,pa){var Ga,rb;this.type=
f;this.parent=h;this.config=G;cc(this,"name",void 0);cc(this,"size",void 0);cc(this,"title",void 0);cc(this,"description",void 0);cc(this,"data",void 0);cc(this,"transforms",void 0);cc(this,"layout",void 0);cc(this,"scaleNameMap",void 0);cc(this,"projectionNameMap",void 0);cc(this,"signalNameMap",void 0);cc(this,"component",void 0);cc(this,"view",void 0);cc(this,"children",[]);cc(this,"correctDataNames",wb=>{wb.from&&wb.from.data&&(wb.from.data=this.lookupDataSource(wb.from.data));wb.from&&wb.from.facet&&
wb.from.facet.data&&(wb.from.facet.data=this.lookupDataSource(wb.from.facet.data));return wb});this.parent=h;this.config=G;this.view=Ce(pa);this.name=null!==(Ga=b.name)&&void 0!==Ga?Ga:y;this.title=zd(b.title)?{text:b.title}:b.title?this.initTitle(b.title):void 0;this.scaleNameMap=h?h.scaleNameMap:new sk;this.projectionNameMap=h?h.projectionNameMap:new sk;this.signalNameMap=h?h.signalNameMap:new sk;this.data=b.data;this.description=b.description;this.transforms=$g(null!==(rb=b.transform)&&void 0!==
rb?rb:[]);this.layout="layer"===f||"unit"===f?{}:Lb(b,f,G);this.component={data:{sources:h?h.component.data.sources:[],outputNodes:h?h.component.data.outputNodes:{},outputNodeRefCounts:h?h.component.data.outputNodeRefCounts:{},isFaceted:"facet"in b||h&&h.component.data.isFaceted&&void 0===b.data},layoutSize:new Bh,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({},{scale:{},axis:{},legend:{}},N?Oe(N):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}initTitle(b){const f=
kd(b),h={text:pd(b.text)};for(const y of f)h[y]=pd(b[y]);return h}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale();this.parseLayoutSize();this.renameTopLevelLayoutSizeSignal();this.parseSelections();this.parseProjection();this.parseData();this.parseAxesAndHeaders();this.parseLegends();this.parseMarkGroup()}parseScale(){var {ignoreRange:b}={};Zk(this);Kf(this)?ub(this):Mb(this);for(const f of qn)Vk(this,f);b||Yk(this)}parseProjection(){yh(this)}renameTopLevelLayoutSizeSignal(){"width"!==
this.getName("width")&&this.renameSignal(this.getName("width"),"width");"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){wh(this)}assembleGroupStyle(){if("unit"===this.type||"layer"===this.type){var b,f;return null!==(b=null===(f=this.view)||void 0===f?void 0:f.style)&&void 0!==b?b:"cell"}}assembleEncodeFromView(b){b=Object.assign({},b);b=(delete b.style,b);const f={};for(const h of kd(b)){const y=b[h];void 0!==y&&(f[h]=Bd(y))}return f}assembleGroupEncodeEntry(b){let f=
{};this.view&&(f=this.assembleEncodeFromView(this.view));if(!b&&(this.description&&(f.description=Bd(this.description)),"unit"===this.type||"layer"===this.type)){var h;return Object.assign({},{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!==(h=f)&&void 0!==h?h:{})}return Q(f)?void 0:f}assembleLayout(){if(this.layout){var b=this.layout,f=Object.assign({},b);b=b.spacing;f=(delete f.spacing,f);var {component:h,config:y}=this;{var G=h.layoutHeaders;const Ga={};for(pa of sg){var N=
G[pa];if(null===N||void 0===N?0:N.facetFieldDef){const {titleAnchor:rb,titleOrient:wb}=Mh(["titleAnchor","titleOrient"],N.facetFieldDef.header,y,pa);N=ug(pa,wb);const Vb=Cn[N][rb];void 0!==Vb&&(Ga[N]=Vb)}}var pa=Q(Ga)?void 0:Ga}return Object.assign({},{padding:b},this.assembleDefaultLayout(),f,pa?{titleBand:pa}:{})}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const {layoutHeaders:b}=this.component;let f=[];for(const h of sg)b[h].title&&f.push(Sj(this,h));for(const h of pk)f=f.concat(cg(this,
h));return f}assembleAxes(){return tg(this.component.axes,this.config)}assembleLegends(){return sj(this)}assembleProjections(){var b=ci(this)||Vj(this)?Pi(this):mi(this);return b}assembleTitle(){var b,f=null!==(b=this.title)&&void 0!==b?b:{};b=Object.assign({},f);f=f.encoding;b=(delete b.encoding,b);f=Object.assign({},gd(this.config.title).nonMark,b,f?{encode:{update:f}}:{});if(f.text){if(Ja(["unit","layer"],this.type)){if(Ja(["middle",void 0],f.anchor)){var h;f.frame=null!==(h=f.frame)&&void 0!==
h?h:"group"}}else{var y;f.anchor=null!==(y=f.anchor)&&void 0!==y?y:"start"}return Q(f)?void 0:f}}assembleGroup(b){b=void 0===b?[]:b;const f={};b=b.concat(this.assembleSignals());0<b.length&&(f.signals=b);if(b=this.assembleLayout())f.layout=b;f.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());b=!this.parent||Ag(this.parent)?of(this):[];0<b.length&&(f.scales=b);b=this.assembleAxes();0<b.length&&(f.axes=b);b=this.assembleLegends();0<b.length&&(f.legends=b);return f}getName(b){return F((this.name?
this.name+"_":"")+b)}getDataName(b){return this.getName(Ff[b].toLowerCase())}requestDataName(b){b=this.getDataName(b);const f=this.component.data.outputNodeRefCounts;f[b]=(f[b]||0)+1;return b}getSizeSignalRef(b){if(Ag(this.parent)){var f=rj(b),h=Db(f);if((f=this.component.scales[h])&&!f.merged){var y=f.get("type");const G=f.get("range");if(y in hg&&mc(G)){b=f.get("name");y=$e(this,h);if(y=jf(y))return h=bd({aggregate:"distinct",field:y},{expr:"datum"}),{signal:th(b,f,h)};zb(Nc(h));return null}}}return{signal:this.signalNameMap.get(this.getName(b))}}lookupDataSource(b){const f=
this.component.data.outputNodes[b];return f?f.getSource():b}getSignalName(b){return this.signalNameMap.get(b)}renameSignal(b,f){this.signalNameMap.rename(b,f)}renameScale(b,f){this.scaleNameMap.rename(b,f)}renameProjection(b,f){this.projectionNameMap.rename(b,f)}scaleName(b,f){if(f)return this.getName(b);if(Vi[b]&&Lg[b]&&this.component.scales[b]||this.scaleNameMap.has(this.getName(b)))return this.scaleNameMap.get(this.getName(b))}projectionName(b){if(b)return this.getName("projection");if(this.component.projection&&
!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(b){if(!this.component.scales)throw Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const f=this.component.scales[b];return f&&!f.merged?f:this.parent?this.parent.getScaleComponent(b):void 0}getSelectionComponent(b,f){let h=this.component.selection[b];
!h&&this.parent&&(h=this.parent.getSelectionComponent(b,f));if(!h)throw Error('Cannot find a selection named "'.concat(f,'".'));return h}hasAxisOrientSignalRef(){var b,f;return(null===(b=this.component.axes.x)||void 0===b?void 0:b.some(h=>h.hasOrientSignalRef()))||(null===(f=this.component.axes.y)||void 0===f?void 0:f.some(h=>h.hasOrientSignalRef()))}}class Al extends tk{vgField(b,f){f=void 0===f?{}:f;if(b=this.fieldDef(b))return bd(b,f)}reduceFieldDef(b,f){return Nb(this.getMapping(),(h,y,G)=>(y=
Ne(y))?b(h,y,G):h,f)}forEachFieldDef(b,f){yb(this.getMapping(),(h,y)=>{(h=Ne(h))&&b(h,y)},f)}}class Zj extends zf{clone(){return new Zj(null,Oe(this.transform))}constructor(b,f){var h,y,G;super(b);this.transform=f;this.transform=Oe(f);b=null!==(h=this.transform.as)&&void 0!==h?h:[void 0,void 0];this.transform.as=[null!==(y=b[0])&&void 0!==y?y:"value",null!==(G=b[1])&&void 0!==G?G:"density"]}dependentFields(){var b;return new Set([this.transform.density,...null!==(b=this.transform.groupby)&&void 0!==
b?b:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"DensityTransform ".concat(xa(this.transform))}assemble(){var b=this.transform,f=Object.assign({},b);b=b.density;f=(delete f.density,f);return Object.assign({},{type:"kde",field:b},f)}}class wj extends zf{clone(){return new wj(null,Object.assign({},this.filter))}constructor(b,f){super(b);this.filter=f}static make(b,f){const {config:h,mark:y,markDef:G}=f;if("filter"!==Kd("invalid",G,h))return null;const N=f.reduceFieldDef((pa,
Ga,rb)=>{(rb=!!Lg[rb]&&f.getScaleComponent(rb))&&rb.get("type")in qg&&"count"!==Ga.aggregate&&!Xd(y)&&(pa[Ga.field]=Ga);return pa},{});return kd(N).length?new wj(b,N):null}dependentFields(){return new Set(kd(this.filter))}producedFields(){return new Set}hash(){return"FilterInvalid ".concat(xa(this.filter))}assemble(){const b=kd(this.filter).reduce((f,h)=>{h=this.filter[h];const y=bd(h,{expr:"datum"});null!==h&&("temporal"===h.type?f.push("(isDate(".concat(y,") || (isValid(").concat(y,") \x26\x26 isFinite(+").concat(y,
")))")):"quantitative"===h.type&&(f.push("isValid(".concat(y,")")),f.push("isFinite(+".concat(y,")"))));return f},[]);return 0<b.length?{type:"filter",expr:b.join(" \x26\x26 ")}:null}}class Yj extends zf{clone(){return new Yj(this.parent,Oe(this.transform))}constructor(b,f){super(b);this.transform=f;this.transform=Oe(f);const {flatten:h,as:y=[]}=this.transform;this.transform.as=h.map((G,N)=>{var pa;return null!==(pa=y[N])&&void 0!==pa?pa:G})}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return"FlattenTransform ".concat(xa(this.transform))}assemble(){const {flatten:b,
as:f}=this.transform;return{type:"flatten",fields:b,as:f}}}class Xj extends zf{clone(){return new Xj(null,Oe(this.transform))}constructor(b,f){var h,y,G;super(b);this.transform=f;this.transform=Oe(f);b=null!==(h=this.transform.as)&&void 0!==h?h:[void 0,void 0];this.transform.as=[null!==(y=b[0])&&void 0!==y?y:"key",null!==(G=b[1])&&void 0!==G?G:"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return"FoldTransform ".concat(xa(this.transform))}assemble(){const {fold:b,
as:f}=this.transform;return{type:"fold",fields:b,as:f}}}class Si extends zf{clone(){return new Si(null,Oe(this.fields),this.geojson,this.signal)}static parseAll(b,f){if(f.component.projection&&!f.component.projection.isFit)return b;let h=0;for(var y of[["longitude","latitude"],["longitude2","latitude2"]]){const G=y.map(N=>{N=H(f.encoding[N]);return oc(N)?N.field:Wc(N)?{expr:"".concat(N.datum)}:Zd(N)?{expr:"".concat(N.value)}:void 0});if(G[0]||G[1])b=new Si(b,G,null,f.getName("geojson_".concat(h++)))}f.channelHasField("shape")&&
(y=f.typedFieldDef("shape"),"geojson"===y.type&&(b=new Si(b,null,y.field,f.getName("geojson_".concat(h++)))));return b}constructor(b,f,h,y){super(b);this.fields=f;this.geojson=h;this.signal=y}dependentFields(){var b;const f=(null!==(b=this.fields)&&void 0!==b?b:[]).filter(Ba);return new Set([...this.geojson?[this.geojson]:[],...f])}producedFields(){return new Set}hash(){return"GeoJSON ".concat(this.geojson," ").concat(this.signal," ").concat(xa(this.fields))}assemble(){return Object.assign({},{type:"geojson"},
this.fields?{fields:this.fields}:{},this.geojson?{geojson:this.geojson}:{},{signal:this.signal})}}class xj extends zf{clone(){return new xj(null,this.projection,Oe(this.fields),Oe(this.as))}constructor(b,f,h,y){super(b);this.projection=f;this.fields=h;this.as=y}static parseAll(b,f){if(!f.projectionName())return b;for(const h of[["longitude","latitude"],["longitude2","latitude2"]]){const y=h.map(N=>{N=H(f.encoding[N]);return oc(N)?N.field:Wc(N)?{expr:"".concat(N.datum)}:Zd(N)?{expr:"".concat(N.value)}:
void 0}),G="longitude2"===h[0]?"2":"";if(y[0]||y[1])b=new xj(b,f.projectionName(),y,[f.getName("x"+G),f.getName("y"+G)])}return b}dependentFields(){return new Set(this.fields.filter(Ba))}producedFields(){return new Set(this.as)}hash(){return"Geopoint ".concat(this.projection," ").concat(xa(this.fields)," ").concat(xa(this.as))}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class qi extends zf{clone(){return new qi(null,Oe(this.transform))}constructor(b,
f){super(b);this.transform=f}dependentFields(){var b;return new Set([this.transform.impute,this.transform.key,...null!==(b=this.transform.groupby)&&void 0!==b?b:[]])}producedFields(){return new Set([this.transform.impute])}processSequence(b){const {start:f=0,stop:h,step:y}=b;b=[f,h,...y?[y]:[]].join();return{signal:"sequence(".concat(b,")")}}static makeFromTransform(b,f){return new qi(b,f)}static makeFromEncoding(b,f){const h=f.encoding;var y=h.x;const G=h.y;if(oc(y)&&oc(G)){const N=y.impute?y:G.impute?
G:void 0;if(void 0===N)return;y=y.impute?G:G.impute?y:void 0;const {method:pa,value:Ga,frame:rb,keyvals:wb}=N.impute;f=gc(f.mark,h);return new qi(b,Object.assign({},{impute:N.field,key:y.field},pa?{method:pa}:{},void 0!==Ga?{value:Ga}:{},rb?{frame:rb}:{},void 0!==wb?{keyvals:wb}:{},f.length?{groupby:f}:{}))}return null}hash(){return"Impute ".concat(xa(this.transform))}assemble(){const {impute:b,key:f,keyvals:h,method:y,groupby:G,value:N,frame:pa=[null,null]}=this.transform,Ga=Object.assign({},{type:"impute",
field:b,key:f},h?{keyvals:void 0!==(null===h||void 0===h?void 0:h.stop)?this.processSequence(h):h}:{},{method:"value"},G?{groupby:G}:{},{value:y&&"value"!==y?null:N});if(y&&"value"!==y){const rb=Object.assign({},{type:"window",as:["imputed_".concat(b,"_value")],ops:[y],fields:[b],frame:pa,ignorePeers:!1},G?{groupby:G}:{}),wb={type:"formula",expr:"datum.".concat(b," \x3d\x3d\x3d null ? datum.imputed_").concat(b,"_value : datum.").concat(b),as:b};return[Ga,rb,wb]}return[Ga]}}class ak extends zf{clone(){return new ak(null,
Oe(this.transform))}constructor(b,f){var h,y,G;super(b);this.transform=f;this.transform=Oe(f);b=null!==(h=this.transform.as)&&void 0!==h?h:[void 0,void 0];this.transform.as=[null!==(y=b[0])&&void 0!==y?y:f.on,null!==(G=b[1])&&void 0!==G?G:f.loess]}dependentFields(){var b;return new Set([this.transform.loess,this.transform.on,...null!==(b=this.transform.groupby)&&void 0!==b?b:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"LoessTransform ".concat(xa(this.transform))}assemble(){var b=
this.transform,f=Object.assign({},b);const h=b.loess;b=b.on;f=(delete f.loess,delete f.on,f);return Object.assign({},{type:"loess",x:b,y:h},f)}}class yj extends zf{clone(){return new yj(null,Oe(this.transform),this.secondary)}constructor(b,f,h){super(b);this.transform=f;this.secondary=h}static make(b,f,h,y){const G=f.component.data.sources,{from:N}=h;var pa=null;if("data"in N)pa=el(N.data,G),pa||(pa=new Uh(N.data),G.push(pa)),y=f.getName("lookup_".concat(y)),pa=new bg(pa,y,Ff.Lookup,f.component.data.outputNodeRefCounts),
f.component.data.outputNodes[y]=pa;else if("selection"in N&&(y=N.selection,h=Object.assign({},{as:y},h),pa=f.getSelectionComponent(F(y),y).materialized,!pa))throw Error('Cannot define and lookup the "'.concat(y,'" selection in the same view. ')+"Try moving the lookup into a second, layered view?");return new yj(b,h,pa.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?nb(this.transform.as):this.transform.from.fields)}hash(){return"Lookup ".concat(xa({transform:this.transform,
secondary:this.secondary}))}assemble(){if(this.transform.from.fields)var b=Object.assign({},{values:this.transform.from.fields},this.transform.as?{as:nb(this.transform.as)}:{});else b=this.transform.as,Ba(b)||(zb('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),b="_lookup"),b={as:[b]};return Object.assign({},{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},b,this.transform.default?
{default:this.transform.default}:{})}}class bk extends zf{clone(){return new bk(null,Oe(this.transform))}constructor(b,f){var h,y,G;super(b);this.transform=f;this.transform=Oe(f);b=null!==(h=this.transform.as)&&void 0!==h?h:[void 0,void 0];this.transform.as=[null!==(y=b[0])&&void 0!==y?y:"prob",null!==(G=b[1])&&void 0!==G?G:"value"]}dependentFields(){var b;return new Set([this.transform.quantile,...null!==(b=this.transform.groupby)&&void 0!==b?b:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"QuantileTransform ".concat(xa(this.transform))}assemble(){var b=
this.transform,f=Object.assign({},b);b=b.quantile;f=(delete f.quantile,f);return Object.assign({},{type:"quantile",field:b},f)}}class ck extends zf{clone(){return new ck(null,Oe(this.transform))}constructor(b,f){var h,y,G;super(b);this.transform=f;this.transform=Oe(f);b=null!==(h=this.transform.as)&&void 0!==h?h:[void 0,void 0];this.transform.as=[null!==(y=b[0])&&void 0!==y?y:f.on,null!==(G=b[1])&&void 0!==G?G:f.regression]}dependentFields(){var b;return new Set([this.transform.regression,this.transform.on,
...null!==(b=this.transform.groupby)&&void 0!==b?b:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"RegressionTransform ".concat(xa(this.transform))}assemble(){var b=this.transform,f=Object.assign({},b);const h=b.regression;b=b.on;f=(delete f.regression,delete f.on,f);return Object.assign({},{type:"regression",x:b,y:h},f)}}class ek extends zf{clone(){return new ek(null,Oe(this.transform))}constructor(b,f){super(b);this.transform=f}addDimensions(b){var f;this.transform.groupby=
Ra((null!==(f=this.transform.groupby)&&void 0!==f?f:[]).concat(b),h=>h)}producedFields(){}dependentFields(){var b;return new Set([this.transform.pivot,this.transform.value,...null!==(b=this.transform.groupby)&&void 0!==b?b:[]])}hash(){return"PivotTransform ".concat(xa(this.transform))}assemble(){const {pivot:b,value:f,groupby:h,limit:y,op:G}=this.transform;return Object.assign({},{type:"pivot",field:b,value:f},void 0!==y?{limit:y}:{},void 0!==G?{op:G}:{},void 0!==h?{groupby:h}:{})}}class dk extends zf{clone(){return new dk(null,
Oe(this.transform))}constructor(b,f){super(b);this.transform=f}dependentFields(){return new Set}producedFields(){return new Set}hash(){return"SampleTransform ".concat(xa(this.transform))}assemble(){return{type:"sample",size:this.transform.sample}}}class Hj extends Al{constructor(b,f,h,y){super(b,"facet",f,h,y,b.resolve);cc(this,"facet",void 0);cc(this,"child",void 0);cc(this,"children",void 0);this.child=nk(b.spec,this,this.getName("child"),void 0,y);this.children=[this.child];this.facet=this.initFacet(b.facet)}initFacet(b){if(!ra(b))return{facet:this.initFacetFieldDef(b,
"facet")};var f=kd(b);const h={};for(const y of f){if(!Ja(["row","column"],y)){zb(dd(y,"facet"));break}f=b[y];if(void 0===f.field){zb(Sb(f,y));break}h[y]=this.initFacetFieldDef(f,y)}return h}initFacetFieldDef(b,f){var h=Object.assign({},b);b=b.header;h=(delete h.header,h);f=Gb(h,f);b&&(f.header=Ce(b));return f}channelHasField(b){return!!this.facet[b]}fieldDef(b){return this.facet[b]}parseData(){this.component.data=Aj(this);this.child.parseData()}parseLayoutSize(){fk(this)}parseSelections(){this.child.parseSelections();
this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders();for(const G of sg){{var b=void 0,f=G;const {facet:N,config:pa,child:Ga,component:rb}=this;if(this.channelHasField(f)){const wb=N[f];var h=vg("title",null,pa,f);h=De(wb,pa,{allowDisabling:!0,includeDefault:void 0===h||!!h});Ga.component.layoutHeaders[f].title&&(h=de(h)?h.join(", "):h,h+=" / "+Ga.component.layoutHeaders[f].title,Ga.component.layoutHeaders[f].title=
null);var y=vg("labelOrient",wb,pa,f);const Vb=null!==(b=wb.header)&&void 0!==b?b:{};b=ha(Vb.labels,pa.header.labels,!0);y=Ja(["bottom","right"],y)?"footer":"header";rb.layoutHeaders[f]={title:h,facetFieldDef:wb,[y]:"facet"===f?[]:[cl(this,f,b)]}}}}dl(this,"x");dl(this,"y")}assembleSelectionTopLevelSignals(b){return this.child.assembleSelectionTopLevelSignals(b)}assembleSignals(){this.child.assembleSignals();return[]}assembleSelectionData(b){return this.child.assembleSelectionData(b)}getHeaderLayoutMixins(){const b=
{};for(const pa of sg)for(const Ga of Tj){const rb=this.component.layoutHeaders[pa];var f=rb[Ga],{facetFieldDef:h}=rb;if(h&&(h=vg("titleOrient",h.header,this.config,pa),Ja(["right","bottom"],h))){var y;h=ug(pa,h);b.titleAnchor=null!==(y=b.titleAnchor)&&void 0!==y?y:{};b.titleAnchor[h]="end"}if(null===f||void 0===f?0:f[0]){f="row"===pa?"height":"width";h="header"===Ga?"headerBand":"footerBand";if("facet"!==pa&&!this.child.component.layoutSize.get(f)){var G;b[h]=null!==(G=b[h])&&void 0!==G?G:{};b[h][pa]=
.5}if(rb.title){var N;b.offset=null!==(N=b.offset)&&void 0!==N?N:{};b.offset["row"===pa?"rowTitle":"columnTitle"]=10}}}return b}assembleDefaultLayout(){const {column:b,row:f}=this.facet,h=b?this.columnDistinctSignal():f?1:void 0;let y="all";f||"independent"!==this.component.resolve.scale.x?b||"independent"!==this.component.resolve.scale.y||(y="none"):y="none";return Object.assign({},this.getHeaderLayoutMixins(),h?{columns:h}:{},{bounds:"full",align:y})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&
this.parent instanceof Hj)){const b=this.getName("column_domain");return{signal:"length(data('".concat(b,"'))")}}}assembleGroup(b){return this.parent&&this.parent instanceof Hj?Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:bd(this.facet.column,{prefix:"distinct"})}}}}:{},super.assembleGroup(b)):super.assembleGroup(b)}getCardinalityAggregateForChild(){const b=[],f=[],h=[];if(this.child instanceof Hj){if(this.child.channelHasField("column")){var y=bd(this.child.facet.column);
b.push(y);f.push("distinct");h.push("distinct_".concat(y))}}else for(y of rg){var G=this.child.component.scales[y];if(G&&!G.merged){var N=G.get("type");G=G.get("range");N in hg&&mc(G)&&(N=$e(this.child,y),(N=jf(N))?(b.push(N),f.push("distinct"),h.push("distinct_".concat(N))):zb(Nc(y)))}}return{fields:b,ops:f,as:h}}assembleFacet(){const {name:b,data:f}=this.component.data.facetRoot,{row:h,column:y}=this.facet,{fields:G,ops:N,as:pa}=this.getCardinalityAggregateForChild(),Ga=[];for(var rb of sg){var wb=
this.facet[rb];if(wb){Ga.push(bd(wb));const {bin:Vb,sort:Ac}=wb;tc(Vb)&&Ga.push(bd(wb,{binSuffix:"end"}));if(I(Ac)){const {field:Jc,op:Pc="min"}=Ac;wb=gk(wb,Ac);h&&y?(G.push(wb),N.push("max")):(G.push(Jc),N.push(Pc));pa.push(wb)}else de(Ac)&&(wb=lg(wb,rb),G.push(wb),N.push("max"),pa.push(wb))}}rb=!!h&&!!y;return Object.assign({},{name:b,data:f,groupby:Ga},rb||0<G.length?{aggregate:Object.assign({},rb?{cross:rb}:{},G.length?{fields:G,ops:N,as:pa}:{})}:{})}facetSortFields(b){var {facet:f}=this;return(f=
f[b])?I(f.sort)?[gk(f,f.sort,{expr:"datum"})]:de(f.sort)?[lg(f,b,{expr:"datum"})]:[bd(f,{expr:"datum"})]:[]}facetSortOrder(b){const {facet:f}=this;return(b=f[b])?({sort:b}=b,[(I(b)?b.order:!de(b)&&b)||"ascending"]):[]}assembleLabelTitle(){const {facet:b,config:f}=this;if(b.facet)return Ze(b.facet,"facet",f);const h={row:["top","bottom"],column:["left","right"]};for(const G of pk)if(b[G]){var y;const N=vg("labelOrient",null===(y=b[G])||void 0===y?void 0:y.header,f,G);if(Ja(h[G],N))return Ze(b[G],G,
f)}}assembleMarks(){const {child:b}=this,f=Km(this.component.data.facetRoot),h=b.assembleGroupEncodeEntry(!1),y=this.assembleLabelTitle()||b.assembleTitle(),G=b.assembleGroupStyle();return[Object.assign({},{name:this.getName("cell"),type:"group"},y?{title:y}:{},G?{style:G}:{},{from:{facet:this.assembleFacet()},sort:{field:sg.map(N=>this.facetSortFields(N)).flat(),order:sg.map(N=>this.facetSortOrder(N)).flat()}},0<f.length?{data:f}:{},h?{encode:{update:h}}:{},b.assembleGroup(Ei(this,[])))]}getMapping(){return this.facet}}
class fn extends tk{constructor(b,f,h,y){var G,N,pa,Ga;super(b,"concat",f,h,y,b.resolve);cc(this,"children",void 0);"shared"!==(null===(G=b.resolve)||void 0===G?void 0:null===(N=G.axis)||void 0===N?void 0:N.x)&&"shared"!==(null===(pa=b.resolve)||void 0===pa?void 0:null===(Ga=pa.axis)||void 0===Ga?void 0:Ga.y)||zb("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).");this.children=this.getChildren(b).map((rb,wb)=>nk(rb,this,this.getName("concat_"+
wb),void 0,y))}parseData(){this.component.data=Aj(this);for(const b of this.children)b.parseData()}parseSelections(){this.component.selection={};for(const b of this.children){b.parseSelections();for(const f of kd(b.component.selection))this.component.selection[f]=b.component.selection[f]}}parseMarkGroup(){for(const b of this.children)b.parseMarkGroup()}parseAxesAndHeaders(){for(const b of this.children)b.parseAxesAndHeaders()}getChildren(b){return"vconcat"in b?b.vconcat:"hconcat"in b?b.hconcat:b.concat}parseLayoutSize(){{fk(this);
const b=void 0===this.layout.columns?"height":"childHeight";zj(this,1===this.layout.columns?"width":"childWidth");zj(this,b)}}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(b){return this.children.reduce((f,h)=>h.assembleSelectionTopLevelSignals(f),b)}assembleSignals(){this.children.forEach(b=>b.assembleSignals());return[]}assembleLayoutSignals(){const b=ki(this);for(const f of this.children)b.push(...f.assembleLayoutSignals());return b}assembleSelectionData(b){return this.children.reduce((f,
h)=>h.assembleSelectionData(f),b)}assembleMarks(){return this.children.map(b=>{const f=b.assembleTitle(),h=b.assembleGroupStyle(),y=b.assembleGroupEncodeEntry(!1);return Object.assign({},{type:"group",name:b.getName("group")},f?{title:f}:{},h?{style:h}:{},y?{encode:{update:y}}:{},b.assembleGroup())})}assembleDefaultLayout(){const b=this.layout.columns;return Object.assign({},null!=b?{columns:b}:{},{bounds:"full",align:"each"})}}const En=Object.assign({},{disable:1,gridScale:1,scale:1},ml,{labelExpr:1,
encode:1}),fl=kd(En);class gl extends Bh{constructor(b,f,h){b=void 0===b?{}:b;f=void 0===f?{}:f;h=void 0===h?!1:h;super();this.explicit=b;this.implicit=f;this.mainExtracted=h}clone(){return new gl(Oe(this.explicit),Oe(this.implicit),this.mainExtracted)}hasAxisPart(b){if("axis"===b)return!0;if("grid"===b||"title"===b)return!!this.get(b);b=this.get(b);return!(!1===b||null===b)}hasOrientSignalRef(){return sc(this.explicit.orient)}}const Fn={bottom:"top",top:"bottom",left:"right",right:"left"},Um=new Set("grid translate format formatType orient labelExpr tickCount position tickMinStep".split(" ")),
Gj={arc:{vgMark:"arc",encodeEntry:b=>Object.assign({},ig(b,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),Qf("x",b,{defaultPos:"mid"}),Qf("y",b,{defaultPos:"mid"}),Dg(b,"radius","arc"),Dg(b,"theta","arc"))},area:{vgMark:"area",encodeEntry:b=>Object.assign({},ig(b,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),Gh("x",b,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===b.markDef.orient}),
Gh("y",b,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===b.markDef.orient}),yi(b))},bar:{vgMark:"rect",encodeEntry:b=>Object.assign({},ig(b,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Dg(b,"x","bar"),Dg(b,"y","bar"))},circle:{vgMark:"symbol",encodeEntry:b=>kk(b,"circle")},geoshape:{vgMark:"shape",encodeEntry:b=>Object.assign({},ig(b,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),
postEncodingTransform:b=>{var {encoding:f}=b;f=f.shape;return[Object.assign({},{type:"geoshape",projection:b.projectionName()},f&&oc(f)&&"geojson"===f.type?{field:bd(f,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:b=>Object.assign({},ig(b,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),Dg(b,"x","image"),Dg(b,"y","image"),Dh(b,"url"))},line:{vgMark:"line",encodeEntry:b=>Object.assign({},ig(b,{align:"ignore",baseline:"ignore",color:"include",
size:"ignore",orient:"ignore",theta:"ignore"}),Qf("x",b,{defaultPos:"mid"}),Qf("y",b,{defaultPos:"mid"}),Nf("size",b,{vgChannel:"strokeWidth"}),yi(b))},point:{vgMark:"symbol",encodeEntry:b=>kk(b)},rect:{vgMark:"rect",encodeEntry:b=>Object.assign({},ig(b,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Dg(b,"x","rect"),Dg(b,"y","rect"))},rule:{vgMark:"rule",encodeEntry:b=>{var {markDef:f}=b;f=f.orient;return b.encoding.x||b.encoding.y||b.encoding.latitude||
b.encoding.longitude?Object.assign({},ig(b,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Gh("x",b,{defaultPos:"horizontal"===f?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==f}),Gh("y",b,{defaultPos:"vertical"===f?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==f}),Nf("size",b,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:b=>kk(b,"square")},text:{vgMark:"text",encodeEntry:b=>{const {config:f,encoding:h}=
b;return Object.assign({},ig(b,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),Qf("x",b,{defaultPos:"mid"}),Qf("y",b,{defaultPos:"mid"}),Dh(b),Nf("size",b,{vgChannel:"fontSize"}),Nf("angle",b),yf("align",Ym(b.markDef,h,f)),yf("baseline",Zm(b.markDef,h,f)),Qf("radius",b,{defaultPos:null,isMidPoint:!0}),Qf("theta",b,{defaultPos:null,isMidPoint:!0}))}},tick:{vgMark:"rect",encodeEntry:b=>{const {config:f,markDef:h}=b;var y=h.orient;const G="horizontal"===
y?"width":"height";y="horizontal"===y?"height":"width";return Object.assign({},ig(b,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Qf("x",b,{defaultPos:"mid",vgChannel:"xc"}),Qf("y",b,{defaultPos:"mid",vgChannel:"yc"}),Nf("size",b,{defaultValue:$m(b),vgChannel:G}),{[y]:Bd(Kd("thickness",h,f))})}},trail:{vgMark:"trail",encodeEntry:b=>Object.assign({},ig(b,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),
Qf("x",b,{defaultPos:"mid"}),Qf("y",b,{defaultPos:"mid"}),Nf("size",b),yi(b))}};class ll extends Al{constructor(b,f,h,y,G){y=void 0===y?{}:y;super(b,"unit",f,h,G,void 0,vb(b)?b.view:void 0);cc(this,"markDef",void 0);cc(this,"encoding",void 0);cc(this,"specifiedScales",{});cc(this,"stack",void 0);cc(this,"specifiedAxes",{});cc(this,"specifiedLegends",{});cc(this,"specifiedProjection",{});cc(this,"selection",{});cc(this,"children",[]);var N=md(b.mark)?Object.assign({},b.mark):{type:b.mark};f=N.type;
if(void 0===N.filled){({graticule:h}={graticule:b.data&&"graticule"in b.data});if(h)h=!1;else{h=Xe("filled",N,G);var pa=N.type;h=ha(h,pa!==Bj&&pa!==Fj&&pa!==Dj)}N.filled=h}h=this.encoding=ob(b.encoding||{},f,N.filled,G);N=Ce(N);pa=Kd("orient",N,G);N.orient=Vm(N.type,h,pa);void 0!==pa&&pa!==N.orient&&(pa='Specified orient "'.concat(N.orient,'" overridden with "').concat(pa,'".'),zb(pa));if("bar"===N.type&&N.orient&&(pa=Kd("cornerRadiusEnd",N,G),void 0!==pa)){const Vb="horizontal"===N.orient&&h.x2||
"vertical"===N.orient&&h.y2?["cornerRadius"]:sn[N.orient];for(var Ga of Vb)N[Ga]=pa;void 0!==N.cornerRadiusEnd&&delete N.cornerRadiusEnd}void 0===Kd("opacity",N,G)&&(Ga=Ja([Bj,jk,hk,ik],N.type)&&!ua(h)?.7:void 0,N.opacity=Ga);void 0===Kd("cursor",N,G)&&(Ga=N,G=h.href||Ga.href||Kd("href",Ga,G)?"pointer":Ga.cursor,N.cursor=G);this.markDef=G=N;y={encoding:h,size:vb(b)?Object.assign({},y,b.width?{width:b.width}:{},b.height?{height:b.height}:{}):y};var {encoding:rb,size:wb}=y;for(const Vb of rg)y=$a(Vb),
ib(wb[y])&&Tc(rb[Vb])&&(delete wb[y],zb(U(y)));this.size=wb;this.stack=qc(f,h);this.specifiedScales=this.initScales(f,h);this.specifiedAxes=this.initAxes(h);this.specifiedLegends=this.initLegends(h);this.specifiedProjection=b.projection;this.selection=b.selection}get hasProjection(){const {encoding:b}=this,f=this.mark===al,h=b&&hn.some(y=>od(b[y]));return f||h}scaleDomain(b){return(b=this.specifiedScales[b])?b.domain:void 0}axis(b){return this.specifiedAxes[b]}legend(b){return this.specifiedLegends[b]}initScales(b,
f){return gj.reduce((h,y)=>{const G=H(f[y]);if(G){var N;h[y]=this.initScale(null!==(N=G.scale)&&void 0!==N?N:{})}return h},{})}initScale(b){const {domain:f,range:h}=b;b=Ce(b);de(f)&&(b.domain=f.map(pd));de(h)&&(b.range=h.map(pd));return b}initAxes(b){return rg.reduce((f,h)=>{var y=b[h];if(od(y)||"x"===h&&od(b.x2)||"y"===h&&od(b.y2))y=od(y)?y.axis:void 0,f[h]=y?this.initAxis(Object.assign({},y)):y;return f},{})}initAxis(b){var f=kd(b);const h={};for(const y of f)f=b[y],h[y]=A(f)?Ed(f):pd(f);return h}initLegends(b){return nn.reduce((f,
h)=>{var y=H(b[h]),G;if(G=y)a:{switch(h){case "color":case "fill":case "stroke":case "size":case "shape":case "opacity":case "strokeWidth":case "strokeDash":G=!0;break a;case "fillOpacity":case "strokeOpacity":case "angle":G=!1;break a}G=void 0}G&&(y=y.legend,f[h]=y?Ce(y):y);return f},{})}parseData(){this.component.data=Aj(this)}parseLayoutSize(){{const {size:f,component:h}=this;for(const y of rg){const G=$a(y);if(f[G]){var b=f[G];h.layoutSize.set(G,ib(b)?"step":b,!0)}else b=Mm(this,G),h.layoutSize.set(G,
b,!1)}}}parseSelections(){this.component.selection=Ii(this,this.selection)}parseMarkGroup(){this.component.mark=an(this)}parseAxesAndHeaders(){this.component.axes=Pm(this)}assembleSelectionTopLevelSignals(b){return ij(this,b)}assembleSignals(){return[...Lh(this),...hj(this,[])]}assembleSelectionData(b){return jj(this,b)}assembleLayout(){return null}assembleLayoutSignals(){return ki(this)}assembleMarks(){var b;let f=null!==(b=this.component.mark)&&void 0!==b?b:[];this.parent&&ci(this.parent)||(f=kj(this,
f));return f.map(this.correctDataNames)}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(b){return ca(this.encoding,b)}fieldDef(b){return Ne(this.encoding[b])}typedFieldDef(b){b=this.fieldDef(b);return jd(b)?b:null}}class kl extends tk{constructor(b,f,h,y,G){super(b,"layer",f,h,G,b.resolve,b.view);cc(this,"children",void 0);const N=Object.assign({},y,b.width?{width:b.width}:{},b.height?{height:b.height}:{});this.children=b.layer.map((pa,Ga)=>{if("layer"in pa)return new kl(pa,
this,this.getName("layer_"+Ga),N,G);if(V(pa))return new ll(pa,this,this.getName("layer_"+Ga),N,G);throw Error(Ec(pa));})}parseData(){this.component.data=Aj(this);for(const b of this.children)b.parseData()}parseLayoutSize(){fk(this);zj(this,"width");zj(this,"height")}parseSelections(){this.component.selection={};for(const b of this.children){b.parseSelections();for(const f of kd(b.component.selection))this.component.selection[f]=b.component.selection[f]}}parseMarkGroup(){for(const b of this.children)b.parseMarkGroup()}parseAxesAndHeaders(){{const {axes:h,
resolve:y}=this.component,G={top:0,bottom:0,right:0,left:0};for(var b of this.children){b.parseAxesAndHeaders();for(const N of kd(b.component.axes))y.axis[N]=li(this.component.resolve,N),"shared"===y.axis[N]&&(h[N]=Rm(h[N],b.component.axes[N]),h[N]||(y.axis[N]="independent",delete h[N]))}for(const N of rg){for(const pa of this.children)if(pa.component.axes[N]){if("independent"===y.axis[N]){var f;h[N]=(null!==(f=h[N])&&void 0!==f?f:[]).concat(pa.component.axes[N]);for(const Ga of pa.component.axes[N]){const {value:rb,
explicit:wb}=Ga.getWithExplicit("orient");sc(rb)||(0<G[rb]&&!wb&&(b=Fn[rb],G[rb]>G[b]&&Ga.set("orient",b,!1)),G[rb]++)}}delete pa.component.axes[N]}if("independent"===y.axis[N]&&h[N]&&1<h[N].length)for(const pa of h[N])pa.get("grid")&&!pa.explicit.grid&&(pa.implicit.grid=!1)}}}assembleSelectionTopLevelSignals(b){return this.children.reduce((f,h)=>h.assembleSelectionTopLevelSignals(f),b)}assembleSignals(){return this.children.reduce((b,f)=>b.concat(f.assembleSignals()),Lh(this))}assembleLayoutSignals(){return this.children.reduce((b,
f)=>b.concat(f.assembleLayoutSignals()),ki(this))}assembleSelectionData(b){return this.children.reduce((f,h)=>h.assembleSelectionData(f),b)}assembleTitle(){let b=super.assembleTitle();if(b)return b;for(const f of this.children)if(b=f.assembleTitle())return b}assembleLayout(){return null}assembleMarks(){return hh(this,this.children.flatMap(b=>b.assembleMarks()))}assembleLegends(){return this.children.reduce((b,f)=>b.concat(f.assembleLegends()),sj(this))}}v.accessPathDepth=ta;v.accessPathWithDatum=
ia;v.compile=function(b,f){f=void 0===f?{}:f;f.logger&&(Ti=f.logger);f.fieldTitle&&(ti=f.fieldTitle);try{const Vb=Aa(Ib(f.config,b.config)),Ac=Ie(b,Vb),Jc=nk(Ac,null,"",void 0,Vb);Jc.parse();{var h=Jc.component.data,y=Jc;la(h.sources);let Pc=0,fd=0;for(var G=0;5>G&&bb(h,y,!0);G++)Pc++;h.sources.map(w);for(G=0;5>G&&bb(h,y,!1);G++)fd++;la(h.sources);5===Math.max(Pc,fd)&&zb("Maximum optimization runs(".concat(5,") reached."))}{var N=Ac.autosize;h=Vb;y=Jc;const Pc=y.component.layoutSize.get("width"),
fd=y.component.layoutSize.get("height");void 0===N?(N={type:"pad"},y.hasAxisOrientSignalRef()&&(N.resize=!0)):Ba(N)&&(N={type:N});var pa;if(pa=Pc&&fd){var Ga=N.type;pa="fit"===Ga||"fit-x"===Ga||"fit-y"===Ga}if(pa)if("step"===Pc&&"step"===fd)zb(Rc()),N.type="pad";else if("step"===Pc||"step"===fd){Ga="step"===Pc?"width":"height";zb(Rc(Db(Ga)));pa=N;var rb=(Ga="width"===Ga?"height":"width","fit-".concat(Db(Ga)));pa.type=rb}var wb=Object.assign({},1===kd(N).length&&N.type?"pad"===N.type?{}:{autosize:N.type}:
{autosize:N},Ka(h,!1),Ka(b,!0))}return{spec:gn(Jc,wb,b.datasets,b.usermeta),normalized:Ac}}finally{f.logger&&(Ti=rl),f.fieldTitle&&(ti=wl)}};v.contains=Ja;v.deepEqual=Zh;v.deleteNestedProperty=K;v.duplicate=Oe;v.entries=si;v.every=wa;v.fieldIntersection=Xa;v.flatAccessWithDatum=ma;v.getFirstDefined=ha;v.hasIntersection=Wa;v.hash=xa;v.internalField=t;v.isBoolean=x;v.isEmpty=Q;v.isEqual=function(b,f){const h=kd(b),y=kd(f);if(h.length!==y.length)return!1;for(const G of h)if(b[G]!==f[G])return!1;return!0};
v.isInternalField=u;v.isNullOrFalse=Ua;v.isNumeric=p;v.keys=kd;v.logicalExpr=O;v.mergeDeep=La;v.normalize=Ie;v.normalizeAngle=l;v.omit=gb;v.pick=Ea;v.prefixGenerator=jb;v.removePathFromField=qa;v.replaceAll=S;v.replacePathInField=Za;v.resetIdCounter=function(){uk=42};v.setEqual=fb;v.some=da;v.stringify=Hf;v.titleCase=ka;v.unique=Ra;v.uniqueId=P;v.vals=Pg;v.varName=F;v.version="4.17.0";Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[68]=function(Yb,Ob,Lc,fc){function n(){throw Error("setTimeout has not been defined");}function v(){throw Error("clearTimeout has not been defined");}function Y(Ca){if(Ab===setTimeout)return setTimeout(Ca,0);if((Ab===n||!Ab)&&setTimeout)return Ab=setTimeout,setTimeout(Ca,0);try{return Ab(Ca,0)}catch(Sa){try{return Ab.call(null,Ca,0)}catch(kb){return Ab.call(this,Ca,0)}}}function Qa(Ca){if(Va===clearTimeout)return clearTimeout(Ca);if((Va===v||!Va)&&clearTimeout)return Va=clearTimeout,
clearTimeout(Ca);try{return Va(Ca)}catch(Sa){try{return Va.call(null,Ca)}catch(kb){return Va.call(this,Ca)}}}function Qb(){mb&&Pa&&(mb=!1,Pa.length?nb=Pa.concat(nb):Ba=-1,nb.length&&db())}function db(){if(!mb){var Ca=Y(Qb);mb=!0;for(var Sa=nb.length;Sa;){Pa=nb;for(nb=[];++Ba<Sa;)Pa&&Pa[Ba].run();Ba=-1;Sa=nb.length}Pa=null;mb=!1;Qa(Ca)}}function pb(Ca,Sa){this.fun=Ca;this.array=Sa}function Ib(){}Yb=Lc.exports={};try{var Ab="function"===typeof setTimeout?setTimeout:n}catch(Ca){Ab=n}try{var Va="function"===
typeof clearTimeout?clearTimeout:v}catch(Ca){Va=v}var nb=[],mb=!1,Pa,Ba=-1;Yb.nextTick=function(Ca){var Sa=Array(arguments.length-1);if(1<arguments.length)for(var kb=1;kb<arguments.length;kb++)Sa[kb-1]=arguments[kb];nb.push(new pb(Ca,Sa));1!==nb.length||mb||Y(db)};pb.prototype.run=function(){this.fun.apply(null,this.array)};Yb.title="browser";Yb.browser=!0;Yb.env={};Yb.argv=[];Yb.version="";Yb.versions={};Yb.on=Ib;Yb.addListener=Ib;Yb.once=Ib;Yb.off=Ib;Yb.removeListener=Ib;Yb.removeAllListeners=Ib;
Yb.emit=Ib;Yb.prependListener=Ib;Yb.prependOnceListener=Ib;Yb.listeners=function(Ca){return[]};Yb.binding=function(Ca){throw Error("process.binding is not supported");};Yb.cwd=function(){return"/"};Yb.chdir=function(Ca){throw Error("process.chdir is not supported");};Yb.umask=function(){return 0}};
shadow$provide[69]=function(Yb,Ob,Lc,fc){var n=Ob(68);(function(v,Y){"object"===typeof fc&&"undefined"!==typeof Lc?Lc.exports=Y(Ob(66),Ob(67)):"function"===typeof define&&define.amd?define(["vega","vega-lite"],Y):(v="undefined"!==typeof globalThis?globalThis:v||self,v.vegaEmbed=Y(v.vega,v.vegaLite))})(this,function(v,Y){function Qa(I){if(I&&I.__esModule)return I;var R=Object.create(null);I&&Object.keys(I).forEach(function(ra){if("default"!==ra){var Fa=Object.getOwnPropertyDescriptor(I,ra);Object.defineProperty(R,
ra,Fa.get?Fa:{enumerable:!0,get:function(){return I[ra]}})}});R["default"]=I;return Object.freeze(R)}function Qb(I,R,ra,Fa){function Oa(Pb){return Pb instanceof ra?Pb:new ra(function(dc){dc(Pb)})}return new (ra||(ra=Promise))(function(Pb,dc){function xc(Wc){try{yc(Fa.next(Wc))}catch(Tc){dc(Tc)}}function oc(Wc){try{yc(Fa["throw"](Wc))}catch(Tc){dc(Tc)}}function yc(Wc){Wc.done?Pb(Wc.value):Oa(Wc.value).then(xc,oc)}yc((Fa=Fa.apply(I,R||[])).next())})}function db(I,R){function ra(yc){return function(Wc){return Fa([yc,
Wc])}}function Fa(yc){if(Pb)throw new TypeError("Generator is already executing.");for(;Oa;)try{if(Pb=1,dc&&(xc=yc[0]&2?dc["return"]:yc[0]?dc["throw"]||((xc=dc["return"])&&xc.call(dc),0):dc.next)&&!(xc=xc.call(dc,yc[1])).done)return xc;if(dc=0,xc)yc=[yc[0]&2,xc.value];switch(yc[0]){case 0:case 1:xc=yc;break;case 4:return Oa.label++,{value:yc[1],done:!1};case 5:Oa.label++;dc=yc[1];yc=[0];continue;case 7:yc=Oa.ops.pop();Oa.trys.pop();continue;default:if(!(xc=Oa.trys,xc=0<xc.length&&xc[xc.length-1])&&
(6===yc[0]||2===yc[0])){Oa=0;continue}if(3===yc[0]&&(!xc||yc[1]>xc[0]&&yc[1]<xc[3]))Oa.label=yc[1];else if(6===yc[0]&&Oa.label<xc[1])Oa.label=xc[1],xc=yc;else if(xc&&Oa.label<xc[2])Oa.label=xc[2],Oa.ops.push(yc);else{xc[2]&&Oa.ops.pop();Oa.trys.pop();continue}}yc=R.call(I,Oa)}catch(Wc){yc=[6,Wc],dc=0}finally{Pb=xc=0}if(yc[0]&5)throw yc[1];return{value:yc[0]?yc[1]:void 0,done:!0}}var Oa={label:0,sent:function(){if(xc[0]&1)throw xc[1];return xc[1]},trys:[],ops:[]},Pb,dc,xc,oc;return oc={next:ra(0),
"throw":ra(1),"return":ra(2)},"function"===typeof Symbol&&(oc[Symbol.iterator]=function(){return this}),oc}function pb(I){if(Array.isArray(I)){var R=Array(I.length);for(I=0;I<R.length;I++)R[I]=""+I;return R}if(Object.keys)return Object.keys(I);R=[];for(var ra in I)ta.call(I,ra)&&R.push(ra);return R}function Ib(I){switch(typeof I){case "object":return JSON.parse(JSON.stringify(I));case "undefined":return null;default:return I}}function Ab(I){for(var R=0,ra=I.length,Fa;R<ra;)if(Fa=I.charCodeAt(R),48<=
Fa&&57>=Fa)R++;else return!1;return!0}function Va(I){return-1===I.indexOf("/")&&-1===I.indexOf("~")?I:I.replace(/~/g,"~0").replace(/\//g,"~1")}function nb(I){return I.replace(/~1/g,"/").replace(/~0/g,"~")}function mb(I){if(void 0===I)return!0;if(I)if(Array.isArray(I))for(var R=0,ra=I.length;R<ra;R++){if(mb(I[R]))return!0}else if("object"===typeof I){ra=pb(I);var Fa=ra.length;for(R=0;R<Fa;R++)if(mb(I[ra[R]]))return!0}return!1}function Pa(I,R){I=[I];for(var ra in R){var Fa="object"===typeof R[ra]?JSON.stringify(R[ra],
null,2):R[ra];"undefined"!==typeof Fa&&I.push(ra+": "+Fa)}return I.join("\n")}function Ba(I,R){if(""==R)return I;R={op:"_get",path:R};Ca(I,R);return R.value}function Ca(I,R,ra,Fa,Oa,Pb){void 0===ra&&(ra=!1);void 0===Fa&&(Fa=!0);void 0===Oa&&(Oa=!0);void 0===Pb&&(Pb=0);ra&&("function"==typeof ra?ra(R,0,I,R.path):kb(R,0));if(""===R.path){Oa={newDocument:I};if("add"===R.op)return Oa.newDocument=R.value,Oa;if("replace"===R.op)return Oa.newDocument=R.value,Oa.removed=I,Oa;if("move"===R.op||"copy"===R.op)return Oa.newDocument=
Ba(I,R.from),"move"===R.op&&(Oa.removed=I),Oa;if("test"===R.op){Oa.test=Ea(I,R.value);if(!1===Oa.test)throw new P("Test operation failed","TEST_OPERATION_FAILED",Pb,R,I);Oa.newDocument=I;return Oa}if("remove"===R.op)return Oa.removed=I,Oa.newDocument=null,Oa;if("_get"===R.op)return R.value=I,Oa;if(ra)throw new P("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",Pb,R,I);return Oa}Fa||(I=Ib(I));Fa=(R.path||"").split("/");var dc=I,xc=1,oc=Fa.length,yc=void 0,
Wc;for(Wc="function"==typeof ra?ra:kb;;){var Tc=Fa[xc];if(Oa&&"__proto__"==Tc)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");ra&&void 0===yc&&(void 0===dc[Tc]?yc=Fa.slice(0,xc).join("/"):xc==oc-1&&(yc=R.path),void 0!==yc&&Wc(R,0,I,yc));xc++;if(Array.isArray(dc)){if("-"===Tc)Tc=dc.length;else{if(ra&&!Ab(Tc))throw new P("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index",
"OPERATION_PATH_ILLEGAL_ARRAY_INDEX",Pb,R,I);Ab(Tc)&&(Tc=~~Tc)}if(xc>=oc){if(ra&&"add"===R.op&&Tc>dc.length)throw new P("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",Pb,R,I);Oa=u[R.op].call(R,dc,Tc,I);if(!1===Oa.test)throw new P("Test operation failed","TEST_OPERATION_FAILED",Pb,R,I);return Oa}}else if(Tc&&-1!=Tc.indexOf("~")&&(Tc=nb(Tc)),xc>=oc){Oa=t[R.op].call(R,dc,Tc,I);if(!1===Oa.test)throw new P("Test operation failed","TEST_OPERATION_FAILED",
Pb,R,I);return Oa}dc=dc[Tc]}}function Sa(I,R,ra,Fa,Oa){void 0===Fa&&(Fa=!0);void 0===Oa&&(Oa=!0);if(ra&&!Array.isArray(R))throw new P("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");Fa||(I=Ib(I));Fa=Array(R.length);for(var Pb=0,dc=R.length;Pb<dc;Pb++)Fa[Pb]=Ca(I,R[Pb],ra,!0,Oa,Pb),I=Fa[Pb].newDocument;Fa.newDocument=I;return Fa}function kb(I,R,ra,Fa){if("object"!==typeof I||null===I||Array.isArray(I))throw new P("Operation is not an object","OPERATION_NOT_AN_OBJECT",R,I,ra);if(t[I.op]){if("string"!==
typeof I.path)throw new P("Operation `path` property is not a string","OPERATION_PATH_INVALID",R,I,ra);if(0!==I.path.indexOf("/")&&0<I.path.length)throw new P('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",R,I,ra);if("move"!==I.op&&"copy"!==I.op||"string"===typeof I.from)if("add"!==I.op&&"replace"!==I.op&&"test"!==I.op||void 0!==I.value){if(("add"===I.op||"replace"===I.op||"test"===I.op)&&mb(I.value))throw new P("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)",
"OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",R,I,ra);if(ra)if("add"==I.op){var Oa=I.path.split("/").length;Fa=Fa.split("/").length;if(Oa!==Fa+1&&Oa!==Fa)throw new P("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",R,I,ra);}else if("replace"===I.op||"remove"===I.op||"_get"===I.op){if(I.path!==Fa)throw new P("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",R,I,ra);}else if(("move"===I.op||"copy"===I.op)&&(Oa=za([{op:"_get",path:I.from,
value:void 0}],ra))&&"OPERATION_PATH_UNRESOLVABLE"===Oa.name)throw new P("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",R,I,ra);}else throw new P("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",R,I,ra);else throw new P("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",R,I,ra);}else throw new P("Operation `op` property is not one of operations defined in RFC-6902",
"OPERATION_OP_INVALID",R,I,ra);}function za(I,R,ra){try{if(!Array.isArray(I))throw new P("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(R)Sa(Ib(R),Ib(I),ra||!0);else{ra=ra||kb;for(var Fa=0;Fa<I.length;Fa++)ra(I[Fa],Fa,R,void 0)}}catch(Oa){if(Oa instanceof P)return Oa;throw Oa;}}function Ea(I,R){if(I===R)return!0;if(I&&R&&"object"==typeof I&&"object"==typeof R){var ra=Array.isArray(I),Fa=Array.isArray(R);if(ra&&Fa){var Oa=I.length;if(Oa!=R.length)return!1;for(ra=Oa;0!==ra--;)if(!Ea(I[ra],
R[ra]))return!1;return!0}if(ra!=Fa)return!1;Fa=Object.keys(I);Oa=Fa.length;if(Oa!==Object.keys(R).length)return!1;for(ra=Oa;0!==ra--;)if(!R.hasOwnProperty(Fa[ra]))return!1;for(ra=Oa;0!==ra--;)if(Oa=Fa[ra],!Ea(I[Oa],R[Oa]))return!1;return!0}return I!==I&&R!==R}function gb(I,R){void 0===R&&(R=!1);var ra=p.get(I.object);xa(ra.value,I.object,I.patches,"",R);I.patches.length&&Sa(ra.value,I.patches);R=I.patches;0<R.length&&(I.patches=[],I.callback&&I.callback(R));return R}function xa(I,R,ra,Fa,Oa){if(R!==
I){"function"===typeof R.toJSON&&(R=R.toJSON());for(var Pb=pb(R),dc=pb(I),xc=!1,oc=dc.length-1;0<=oc;oc--){var yc=dc[oc],Wc=I[yc];if(!ta.call(R,yc)||void 0===R[yc]&&void 0!==Wc&&!1===Array.isArray(R))Array.isArray(I)===Array.isArray(R)?(Oa&&ra.push({op:"test",path:Fa+"/"+Va(yc),value:Ib(Wc)}),ra.push({op:"remove",path:Fa+"/"+Va(yc)}),xc=!0):(Oa&&ra.push({op:"test",path:Fa,value:I}),ra.push({op:"replace",path:Fa,value:R}));else{var Tc=R[yc];"object"==typeof Wc&&null!=Wc&&"object"==typeof Tc&&null!=
Tc?xa(Wc,Tc,ra,Fa+"/"+Va(yc),Oa):Wc!==Tc&&(Oa&&ra.push({op:"test",path:Fa+"/"+Va(yc),value:Ib(Wc)}),ra.push({op:"replace",path:Fa+"/"+Va(yc),value:Ib(Tc)}))}}if(xc||Pb.length!=dc.length)for(oc=0;oc<Pb.length;oc++)yc=Pb[oc],ta.call(I,yc)||void 0===R[yc]||ra.push({op:"add",path:Fa+"/"+Va(yc),value:Ib(R[yc])})}}function Ua(I){var R=this;R instanceof Ua||(R=new Ua);R.tail=null;R.head=null;R.length=0;if(I&&"function"===typeof I.forEach)I.forEach(function(Oa){R.push(Oa)});else if(0<arguments.length)for(var ra=
0,Fa=arguments.length;ra<Fa;ra++)R.push(arguments[ra]);return R}function Ja(I,R,ra,Fa){if(!(this instanceof Ja))return new Ja(I,R,ra,Fa);this.list=Fa;this.value=I;R?(R.next=this,this.prev=R):this.prev=null;ra?(ra.prev=this,this.next=ra):this.next=null}function da(I){const [R,ra]=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(I).slice(1,3);return{library:R,version:ra}}function wa(I,R,ra){I.fields=R||[];I.fname=ra;return I}function La(I){return 1===I.length?ne(I[0]):wd(I)}function Ra(I){function R(){ra.push(dc+
I.substring(xc,oc));dc="";xc=oc+1}const ra=[],Fa=I.length;let Oa=null,Pb=0,dc="",xc,oc,yc;I+="";for(xc=oc=0;oc<Fa;++oc)if(yc=I[oc],"\\"===yc)dc+=I.substring(xc,oc),dc+=I.substring(++oc,++oc),xc=oc;else if(yc===Oa)R(),Oa=null,Pb=-1;else if(!Oa)if(xc===Pb&&'"'===yc)xc=oc+1,Oa=yc;else if(xc===Pb&&"'"===yc)xc=oc+1,Oa=yc;else if("."===yc&&!Pb)oc>xc?R():xc=oc+1;else if("["===yc)oc>xc&&R(),Pb=xc=oc+1;else if("]"===yc){if(!Pb)throw Error("Access path missing open bracket: "+I);0<Pb&&R();Pb=0;xc=oc+1}if(Pb)throw Error("Access path missing closing bracket: "+
I);if(Oa)throw Error("Access path missing closing quote: "+I);oc>xc&&(oc++,R());return ra}function fb(I,R){var ra={},Fa;for(Fa in I)Object.prototype.hasOwnProperty.call(I,Fa)&&0>R.indexOf(Fa)&&(ra[Fa]=I[Fa]);if(null!=I&&"function"===typeof Object.getOwnPropertySymbols){var Oa=0;for(Fa=Object.getOwnPropertySymbols(I);Oa<Fa.length;Oa++)0>R.indexOf(Fa[Oa])&&Object.prototype.propertyIsEnumerable.call(I,Fa[Oa])&&(ra[Fa[Oa]]=I[Fa[Oa]])}return ra}function Wa(I,R,ra){if(Ae(I))return`[${I.map(Oa=>R("string"===
typeof Oa?Oa:JSON.stringify(Oa,jb(ra)))).join(", ")}]`;if(I===Object(I)){let Oa="";const {title:Pb,image:dc}=I;I=fb(I,["title","image"]);Pb&&(Oa+=`<h2>${R(Pb)}</h2>`);dc&&(Oa+=`<img src="${R(dc)}">`);var Fa=Object.keys(I);if(0<Fa.length){Oa+="\x3ctable\x3e";for(const xc of Fa)Fa=I[xc],void 0!==Fa&&(Fa===Object(Fa)&&(Fa=JSON.stringify(Fa,jb(ra))),Oa+=`<tr><td class="key">${R(xc)}:</td><td class="value">${R(Fa)}</td></tr>`);Oa+="\x3c/table\x3e"}return Oa||"{}"}return R(I)}function jb(I){const R=[];
return function(ra,Fa){if("object"!==typeof Fa||null===Fa)return Fa;ra=R.indexOf(this)+1;R.length=ra;if(R.length>I)return"[Object]";if(0<=R.indexOf(Fa))return"[Circular]";R.push(Fa);return Fa}}function Xa(I,R,ra){function Fa(oc){oc.source===Pb&&(xc=0,I.removeEventListener("message",Fa,!1))}function Oa(){0>=xc||(Pb.postMessage(ra,dc),setTimeout(Oa,250),--xc)}var Pb=I.open(R),dc=(new URL(R)).origin,xc=40;I.addEventListener("message",Fa,!1);setTimeout(Oa,250)}function Q(I){for(var R=[],ra=1;ra<arguments.length;ra++)R[ra-
1]=arguments[ra];for(ra=0;ra<R.length;ra++)for(var Fa=I,Oa=R[ra],Pb=0,dc=Object.keys(Oa);Pb<dc.length;Pb++){var xc=dc[Pb];v.writeConfig(Fa,xc,Oa[xc],!0)}return I}function x(I,R,ra,Fa){R="\x3chtml\x3e\x3chead\x3e"+R+'\x3c/head\x3e\x3cbody\x3e\x3cpre\x3e\x3ccode class\x3d"json"\x3e';ra="\x3c/code\x3e\x3c/pre\x3e"+ra+"\x3c/body\x3e\x3c/html\x3e";var Oa=window.open("");Oa.document.write(R+I+ra);Oa.document.title=df[Fa]+" JSON Source"}function F(I,R){var ra;return I.$schema?(I=da(I.$schema),R&&R!==I.library&&
console.warn("The given visualization spec is written in "+df[I.library]+", but mode argument sets "+(null!==(ra=df[R])&&void 0!==ra?ra:R)+"."),R=I.library,md.satisfies(Re[R],"^"+I.version.slice(1))||console.warn("The input spec uses "+df[R]+" "+I.version+", but the current version of "+df[R]+" is v"+Re[R]+"."),R):"mark"in I||"encoding"in I||"layer"in I||"hconcat"in I||"vconcat"in I||"facet"in I||"repeat"in I?"vega-lite":"marks"in I||"signals"in I||"scales"in I||"axes"in I?"vega":null!==R&&void 0!==
R?R:"vega"}function O(I,R,ra){var Fa,Oa,Pb;void 0===ra&&(ra={});return Qb(this,void 0,void 0,function(){var dc,xc,oc,yc,Wc,Tc,he,od;return db(this,function(jd){switch(jd.label){case 0:dc=(jd=ra.loader)&&"load"in jd?ra.loader:Vd.loader(ra.loader);if(!v.isString(R))return[3,2];Wc=(yc=JSON).parse;return[4,dc.load(R)];case 1:return oc=Wc.apply(yc,[jd.sent()]),[3,3];case 2:oc=R,jd.label=3;case 3:return xc=oc,[4,K(null!==(Fa=xc.usermeta&&xc.usermeta.embedOptions)&&void 0!==Fa?Fa:{},dc)];case 4:return Tc=
jd.sent(),[4,K(ra,dc)];case 5:return he=jd.sent(),od=S(S({},Q(he,Tc)),{config:v.mergeConfig(null!==(Oa=he.config)&&void 0!==Oa?Oa:{},null!==(Pb=Tc.config)&&void 0!==Pb?Pb:{})}),[4,ia(I,xc,od,dc)];case 6:return[2,jd.sent()]}})})}function K(I,R){var ra;return Qb(this,void 0,void 0,function(){var Fa,Oa,Pb,dc,xc,oc,yc,Wc;return db(this,function(Tc){switch(Tc.label){case 0:if(!v.isString(I.config))return[3,2];dc=(Pb=JSON).parse;return[4,R.load(I.config)];case 1:return Oa=dc.apply(Pb,[Tc.sent()]),[3,3];
case 2:Oa=null!==(ra=I.config)&&void 0!==ra?ra:{},Tc.label=3;case 3:Fa=Oa;if(!v.isString(I.patch))return[3,5];Wc=(yc=JSON).parse;return[4,R.load(I.patch)];case 4:return oc=Wc.apply(yc,[Tc.sent()]),[3,6];case 5:oc=I.patch,Tc.label=6;case 6:return xc=oc,[2,S(S(S({},I),xc?{patch:xc}:{}),Fa?{config:Fa}:{})]}})})}function ka(I){var R;I=I.getRootNode?I.getRootNode():document;return I instanceof ShadowRoot?{root:I,rootContainer:I}:{root:document,rootContainer:null!==(R=document.head)&&void 0!==R?R:document.body}}
function ia(I,R,ra,Fa){var Oa,Pb,dc,xc,oc,yc;void 0===ra&&(ra={});return Qb(this,void 0,void 0,function(){function Wc(){Dc&&document.removeEventListener("click",Dc);cb.finalize()}var Tc,he,od,jd,Zd,ye,ve,We,wf,bd,Be,ue,De,vf,nf,Cf,Ne,H,Z,cb,Gb,Hb,Tb,ac,Gc,Dc,Sc,gd,zd,Ed,pd,Ee,Bd,ke,Od,ie,qf,Kd;return db(this,function(Xe){switch(Xe.label){case 0:Tc=ra.theme?v.mergeConfig(ff[ra.theme],null!==(Oa=ra.config)&&void 0!==Oa?Oa:{}):ra.config;he=v.isBoolean(ra.actions)?ra.actions:Q({},Yd,null!==(Pb=ra.actions)&&
void 0!==Pb?Pb:{});od=S(S({},se),ra.i18n);jd=null!==(dc=ra.renderer)&&void 0!==dc?dc:"canvas";Zd=null!==(xc=ra.logLevel)&&void 0!==xc?xc:Vd.Warn;ye=null!==(oc=ra.downloadFileName)&&void 0!==oc?oc:"visualization";ve="string"===typeof I?document.querySelector(I):I;if(!ve)throw Error(I+" does not exist");!1!==ra.defaultStyle&&(We=ka(ve),wf=We.root,bd=We.rootContainer,wf.getElementById("vega-embed-style")||(Be=document.createElement("style"),Be.id="vega-embed-style",Be.innerText=void 0===ra.defaultStyle||
!0===ra.defaultStyle?'.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box; }\n  .vega-embed.has-actions {\n    padding-right: 38px; }\n  .vega-embed details:not([open]) \x3e :not(summary) {\n    display: none !important; }\n  .vega-embed summary {\n    list-style: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6px;\n    z-index: 1000;\n    background: white;\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n    color: #1b1e23;\n    border: 1px solid #aaa;\n    border-radius: 999px;\n    opacity: 0.2;\n    transition: opacity 0.4s ease-in;\n    outline: none;\n    cursor: pointer;\n    line-height: 0px; }\n    .vega-embed summary::-webkit-details-marker {\n      display: none; }\n    .vega-embed summary:active {\n      box-shadow: #aaa 0px 0px 0px 1px inset; }\n    .vega-embed summary svg {\n      width: 14px;\n      height: 14px; }\n  .vega-embed details[open] summary {\n    opacity: 0.7; }\n  .vega-embed:hover summary,\n  .vega-embed:focus summary {\n    opacity: 1 !important;\n    transition: opacity 0.2s ease; }\n  .vega-embed .vega-actions {\n    position: absolute;\n    z-index: 1001;\n    top: 35px;\n    right: -9px;\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 8px;\n    padding-top: 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n    border: 1px solid #d9d9d9;\n    background: white;\n    animation-duration: 0.15s;\n    animation-name: scale-in;\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n    text-align: left; }\n    .vega-embed .vega-actions a {\n      padding: 8px 16px;\n      font-family: sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      color: #434a56;\n      text-decoration: none; }\n      .vega-embed .vega-actions a:hover {\n        background-color: #f7f7f9;\n        color: black; }\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n      content: "";\n      display: inline-block;\n      position: absolute; }\n    .vega-embed .vega-actions::before {\n      left: auto;\n      right: 14px;\n      top: -16px;\n      border: 8px solid #0000;\n      border-bottom-color: #d9d9d9; }\n    .vega-embed .vega-actions::after {\n      left: auto;\n      right: 15px;\n      top: -14px;\n      border: 7px solid #0000;\n      border-bottom-color: #fff; }\n  .vega-embed .chart-wrapper {\n    width: 100%;\n    height: 100%; }\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px; }\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6); }\n  to {\n    opacity: 1;\n    transform: scale(1); } }\n'.toString():
ra.defaultStyle,bd.appendChild(Be)));ue=F(R,ra.mode);De=Ve[ue](R,Tc);"vega-lite"===ue&&De.$schema&&(vf=da(De.$schema),md.satisfies(Re.vega,"^"+vf.version.slice(1))||console.warn("The compiled spec uses Vega "+vf.version+", but current version is v"+Re.vega+"."));ve.classList.add("vega-embed");he&&ve.classList.add("has-actions");ve.innerHTML="";nf=ve;he&&(Cf=document.createElement("div"),Cf.classList.add("chart-wrapper"),ve.appendChild(Cf),nf=Cf);(Ne=ra.patch)&&(De=Ne instanceof Function?Ne(De):Sa(De,
Ne,!0,!1).newDocument);ra.formatLocale&&Vd.formatLocale(ra.formatLocale);ra.timeFormatLocale&&Vd.timeFormatLocale(ra.timeFormatLocale);H=ra.ast;Z=Vd.parse(De,"vega-lite"===ue?{}:Tc,{ast:H});cb=new Vd.View(Z,S({loader:Fa,logLevel:Zd,renderer:jd},H?{expr:Vd.expressionInterpreter}:{}));!1!==ra.tooltip&&(Gb=void 0,Gb="function"===typeof ra.tooltip?ra.tooltip:(new wc(!0===ra.tooltip?{}:ra.tooltip)).call,cb.tooltip(Gb));Hb=ra.hover;void 0===Hb&&(Hb="vega"===ue);Hb&&(Tb="boolean"===typeof Hb?{}:Hb,ac=Tb.hoverSet,
Gc=Tb.updateSet,cb.hover(ac,Gc));ra&&(null!=ra.width&&cb.width(ra.width),null!=ra.height&&cb.height(ra.height),null!=ra.padding&&cb.padding(ra.padding));return[4,cb.initialize(nf,ra.bind).runAsync()];case 1:Xe.sent();if(!1!==he){Sc=ve;!1!==ra.defaultStyle&&(gd=document.createElement("details"),gd.title=od.CLICK_TO_VIEW_ACTIONS,ve.append(gd),Sc=gd,zd=document.createElement("summary"),zd.innerHTML='\n\x3csvg viewBox\x3d"0 0 16 16" fill\x3d"currentColor" stroke\x3d"none" stroke-width\x3d"1" stroke-linecap\x3d"round" stroke-linejoin\x3d"round"\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"2"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"8"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"14"\x3e\x3c/circle\x3e\n\x3c/svg\x3e',
gd.append(zd),Dc=function(je){gd.contains(je.target)||gd.removeAttribute("open")},document.addEventListener("click",Dc));Ed=document.createElement("div");Sc.append(Ed);Ed.classList.add("vega-actions");if(!0===he||!1!==he["export"])for(pd=function(je){if(!0===he||!0===he["export"]||he["export"][je]){var lf=od[je.toUpperCase()+"_ACTION"],He=document.createElement("a");He.text=lf;He.href="#";He.target="_blank";He.download=ye+"."+je;He.addEventListener("mousedown",function(Gf){return Qb(this,void 0,void 0,
function(){var J;return db(this,function(M){switch(M.label){case 0:return Gf.preventDefault(),[4,cb.toImageURL(je,ra.scaleFactor)];case 1:return this.href=J=M.sent(),[2]}})})});Ed.append(He)}},Ee=0,Bd=["svg","png"];Ee<Bd.length;Ee++)ke=Bd[Ee],pd(ke);if(!0===he||!1!==he.source)Od=document.createElement("a"),Od.text=od.SOURCE_ACTION,Od.href="#",Od.addEventListener("click",function(je){var lf,He;x(aa(R),null!==(lf=ra.sourceHeader)&&void 0!==lf?lf:"",null!==(He=ra.sourceFooter)&&void 0!==He?He:"",ue);
je.preventDefault()}),Ed.append(Od);"vega-lite"!==ue||!0!==he&&!1===he.compiled||(ie=document.createElement("a"),ie.text=od.COMPILED_ACTION,ie.href="#",ie.addEventListener("click",function(je){var lf,He;x(aa(De),null!==(lf=ra.sourceHeader)&&void 0!==lf?lf:"",null!==(He=ra.sourceFooter)&&void 0!==He?He:"","vega");je.preventDefault()}),Ed.append(ie));if(!0===he||!1!==he.editor)qf=null!==(yc=ra.editorUrl)&&void 0!==yc?yc:"https://vega.github.io/editor/",Kd=document.createElement("a"),Kd.text=od.EDITOR_ACTION,
Kd.href="#",Kd.addEventListener("click",function(je){Xa(window,qf,{config:Tc,mode:ue,renderer:jd,spec:aa(R)});je.preventDefault()}),Ed.append(Kd)}return[2,{view:cb,spec:R,vgSpec:De,finalize:Wc}]}})})}function ma(I,R){var ra;void 0===R&&(R={});return Qb(this,void 0,void 0,function(){var Fa,Oa,Pb,dc;return db(this,function(xc){switch(xc.label){case 0:return Fa=document.createElement("div"),Fa.classList.add("vega-embed-wrapper"),Oa=document.createElement("div"),Fa.appendChild(Oa),Pb=!0===R.actions||
!1===R.actions?R.actions:S({"export":!0,source:!1,compiled:!0,editor:!0},null!==(ra=R.actions)&&void 0!==ra?ra:{}),[4,O(Oa,I,S({actions:Pb},null!==R&&void 0!==R?R:{}))];case 1:return dc=xc.sent(),Fa.value=dc.view,[2,Fa]}})})}var Ya=Qa(v),Za=Qa(Y),S=function(){S=Object.assign||function(I){for(var R,ra=1,Fa=arguments.length;ra<Fa;ra++){R=arguments[ra];for(var Oa in R)Object.prototype.hasOwnProperty.call(R,Oa)&&(I[Oa]=R[Oa])}return I};return S.apply(this,arguments)},qa=function(){var I=function(R,ra){I=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Fa,Oa){Fa.__proto__=Oa}||function(Fa,Oa){for(var Pb in Oa)Oa.hasOwnProperty(Pb)&&(Fa[Pb]=Oa[Pb])};return I(R,ra)};return function(R,ra){function Fa(){this.constructor=R}I(R,ra);R.prototype=null===ra?Object.create(ra):(Fa.prototype=ra.prototype,new Fa)}}(),ta=Object.prototype.hasOwnProperty,ha=function(I){function R(ra,Fa,Oa,Pb,dc){var xc=this.constructor,oc=I.call(this,Pa(ra,{name:Fa,index:Oa,operation:Pb,tree:dc}))||this;oc.name=Fa;
oc.index=Oa;oc.operation=Pb;oc.tree=dc;Object.setPrototypeOf(oc,xc.prototype);oc.message=Pa(ra,{name:Fa,index:Oa,operation:Pb,tree:dc});return oc}qa(R,I);return R}(Error),P=ha,t={add:function(I,R,ra){I[R]=this.value;return{newDocument:ra}},remove:function(I,R,ra){var Fa=I[R];delete I[R];return{newDocument:ra,removed:Fa}},replace:function(I,R,ra){var Fa=I[R];I[R]=this.value;return{newDocument:ra,removed:Fa}},move:function(I,R,ra){(I=Ba(ra,this.path))&&(I=Ib(I));R=Ca(ra,{op:"remove",path:this.from}).removed;
Ca(ra,{op:"add",path:this.path,value:R});return{newDocument:ra,removed:I}},copy:function(I,R,ra){I=Ba(ra,this.from);Ca(ra,{op:"add",path:this.path,value:Ib(I)});return{newDocument:ra}},test:function(I,R,ra){return{newDocument:ra,test:Ea(I[R],this.value)}},_get:function(I,R,ra){this.value=I[R];return{newDocument:ra}}},u={add:function(I,R,ra){Ab(R)?I.splice(R,0,this.value):I[R]=this.value;return{newDocument:ra,index:R}},remove:function(I,R,ra){I=I.splice(R,1);return{newDocument:ra,removed:I[0]}},replace:function(I,
R,ra){var Fa=I[R];I[R]=this.value;return{newDocument:ra,removed:Fa}},move:t.move,copy:t.copy,test:t.test,_get:t._get},l=Object.freeze({__proto__:null,JsonPatchError:P,deepClone:Ib,getValueByPointer:Ba,applyOperation:Ca,applyPatch:Sa,applyReducer:function(I,R,ra){var Fa=Ca(I,R);if(!1===Fa.test)throw new P("Test operation failed","TEST_OPERATION_FAILED",ra,R,I);return Fa.newDocument},validator:kb,validate:za,_areEquals:Ea}),p=new WeakMap,A=function(){return function(I){this.observers=new Map;this.obj=
I}}(),B=function(){return function(I,R){this.callback=I;this.observer=R}}(),E=Object.freeze({__proto__:null,unobserve:function(I,R){R.unobserve()},observe:function(I,R){var ra=p.get(I);if(ra){var Fa=ra.observers.get(R);var Oa=Fa&&Fa.observer}else ra=new A(I),p.set(I,ra);if(Oa)return Oa;Oa={};ra.value=Ib(I);if(R){Oa.callback=R;Oa.next=null;var Pb=function(){gb(Oa)},dc=function(){clearTimeout(Oa.next);Oa.next=setTimeout(Pb)};"undefined"!==typeof window&&(window.addEventListener("mouseup",dc),window.addEventListener("keyup",
dc),window.addEventListener("mousedown",dc),window.addEventListener("keydown",dc),window.addEventListener("change",dc))}Oa.patches=[];Oa.object=I;Oa.unobserve=function(){gb(Oa);clearTimeout(Oa.next);ra.observers.delete(Oa.callback);"undefined"!==typeof window&&(window.removeEventListener("mouseup",dc),window.removeEventListener("keyup",dc),window.removeEventListener("mousedown",dc),window.removeEventListener("keydown",dc),window.removeEventListener("change",dc))};ra.observers.set(R,new B(R,Oa));return Oa},
generate:gb,compare:function(I,R,ra){void 0===ra&&(ra=!1);var Fa=[];xa(I,R,Fa,"",ra);return Fa}});Object.assign({},l,E,{JsonPatchError:ha,deepClone:Ib,escapePathComponent:Va,unescapePathComponent:nb});var z=/("(?:[^\\"]|\\.)*")|[:,]/g,aa=function(I,R){R=R||{};var ra=JSON.stringify([1],void 0,void 0===R.indent?2:R.indent).slice(2,-3);var Fa=""===ra?Infinity:void 0===R.maxLength?80:R.maxLength;var Oa=R.replacer;return function yc(dc,xc,oc){dc&&"function"===typeof dc.toJSON&&(dc=dc.toJSON());var Wc=
JSON.stringify(dc,Oa);if(void 0===Wc)return Wc;oc=Fa-xc.length-oc;if(Wc.length<=oc){var Tc=Wc.replace(z,function(wf,bd){return bd||wf+" "});if(Tc.length<=oc)return Tc}null!=Oa&&(dc=JSON.parse(Wc),Oa=void 0);if("object"===typeof dc&&null!==dc){var he=xc+ra;var od=[];var jd=0;if(Array.isArray(dc)){var Zd="[";Tc="]";for(oc=dc.length;jd<oc;jd++)od.push(yc(dc[jd],he,jd===oc-1?0:1)||"null")}else{Zd="{";Tc="}";var ye=Object.keys(dc);for(oc=ye.length;jd<oc;jd++){var ve=ye[jd];var We=JSON.stringify(ve)+": ";
ve=yc(dc[ve],he,We.length+(jd===oc-1?0:1));void 0!==ve&&od.push(We+ve)}}if(0<od.length)return[Zd,ra+od.join(",\n"+he),Tc].join("\n"+xc)}return Wc}(I,"",0)},sa={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},fa="object"===typeof n&&n.env&&n.env.NODE_DEBUG&&/\bsemver\b/i.test(n.env.NODE_DEBUG)?(...I)=>console.error("SEMVER",...I):()=>{},Na=function(I){var R={exports:{}};return I(R,R.exports),R.exports}(function(I,R){const {MAX_SAFE_COMPONENT_LENGTH:ra}=
sa;R=I.exports={};const Fa=R.re=[],Oa=R.src=[],Pb=R.t={};let dc=0;I=(xc,oc,yc)=>{const Wc=dc++;fa(Wc,oc);Pb[xc]=Wc;Oa[Wc]=oc;Fa[Wc]=new RegExp(oc,yc?"g":void 0)};I("NUMERICIDENTIFIER","0|[1-9]\\d*");I("NUMERICIDENTIFIERLOOSE","[0-9]+");I("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");I("MAINVERSION",`(${Oa[Pb.NUMERICIDENTIFIER]})\\.`+`(${Oa[Pb.NUMERICIDENTIFIER]})\\.`+`(${Oa[Pb.NUMERICIDENTIFIER]})`);I("MAINVERSIONLOOSE",`(${Oa[Pb.NUMERICIDENTIFIERLOOSE]})\\.`+`(${Oa[Pb.NUMERICIDENTIFIERLOOSE]})\\.`+
`(${Oa[Pb.NUMERICIDENTIFIERLOOSE]})`);I("PRERELEASEIDENTIFIER",`(?:${Oa[Pb.NUMERICIDENTIFIER]}|${Oa[Pb.NONNUMERICIDENTIFIER]})`);I("PRERELEASEIDENTIFIERLOOSE",`(?:${Oa[Pb.NUMERICIDENTIFIERLOOSE]}|${Oa[Pb.NONNUMERICIDENTIFIER]})`);I("PRERELEASE",`(?:-(${Oa[Pb.PRERELEASEIDENTIFIER]}(?:\\.${Oa[Pb.PRERELEASEIDENTIFIER]})*))`);I("PRERELEASELOOSE",`(?:-?(${Oa[Pb.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Oa[Pb.PRERELEASEIDENTIFIERLOOSE]})*))`);I("BUILDIDENTIFIER","[0-9A-Za-z-]+");I("BUILD",`(?:\\+(${Oa[Pb.BUILDIDENTIFIER]}(?:\\.${Oa[Pb.BUILDIDENTIFIER]})*))`);
I("FULLPLAIN",`v?${Oa[Pb.MAINVERSION]}${Oa[Pb.PRERELEASE]}?${Oa[Pb.BUILD]}?`);I("FULL",`^${Oa[Pb.FULLPLAIN]}$`);I("LOOSEPLAIN",`[v=\\s]*${Oa[Pb.MAINVERSIONLOOSE]}${Oa[Pb.PRERELEASELOOSE]}?${Oa[Pb.BUILD]}?`);I("LOOSE",`^${Oa[Pb.LOOSEPLAIN]}$`);I("GTLT","((?:\x3c|\x3e)?\x3d?)");I("XRANGEIDENTIFIERLOOSE",`${Oa[Pb.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);I("XRANGEIDENTIFIER",`${Oa[Pb.NUMERICIDENTIFIER]}|x|X|\\*`);I("XRANGEPLAIN",`[v=\\s]*(${Oa[Pb.XRANGEIDENTIFIER]})`+`(?:\\.(${Oa[Pb.XRANGEIDENTIFIER]})`+`(?:\\.(${Oa[Pb.XRANGEIDENTIFIER]})`+
`(?:${Oa[Pb.PRERELEASE]})?${Oa[Pb.BUILD]}?`+")?)?");I("XRANGEPLAINLOOSE",`[v=\\s]*(${Oa[Pb.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${Oa[Pb.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${Oa[Pb.XRANGEIDENTIFIERLOOSE]})`+`(?:${Oa[Pb.PRERELEASELOOSE]})?${Oa[Pb.BUILD]}?`+")?)?");I("XRANGE",`^${Oa[Pb.GTLT]}\\s*${Oa[Pb.XRANGEPLAIN]}$`);I("XRANGELOOSE",`^${Oa[Pb.GTLT]}\\s*${Oa[Pb.XRANGEPLAINLOOSE]}$`);I("COERCE",`${"(^|[^\\d])(\\d{1,"}${ra}})`+`(?:\\.(\\d{1,${ra}}))?`+`(?:\\.(\\d{1,${ra}}))?`+"(?:$|[^\\d])");I("COERCERTL",
Oa[Pb.COERCE],!0);I("LONETILDE","(?:~\x3e?)");I("TILDETRIM",`(\\s*)${Oa[Pb.LONETILDE]}\\s+`,!0);R.tildeTrimReplace="$1~";I("TILDE",`^${Oa[Pb.LONETILDE]}${Oa[Pb.XRANGEPLAIN]}$`);I("TILDELOOSE",`^${Oa[Pb.LONETILDE]}${Oa[Pb.XRANGEPLAINLOOSE]}$`);I("LONECARET","(?:\\^)");I("CARETTRIM",`(\\s*)${Oa[Pb.LONECARET]}\\s+`,!0);R.caretTrimReplace="$1^";I("CARET",`^${Oa[Pb.LONECARET]}${Oa[Pb.XRANGEPLAIN]}$`);I("CARETLOOSE",`^${Oa[Pb.LONECARET]}${Oa[Pb.XRANGEPLAINLOOSE]}$`);I("COMPARATORLOOSE",`^${Oa[Pb.GTLT]}\\s*(${Oa[Pb.LOOSEPLAIN]})$|^$`);
I("COMPARATOR",`^${Oa[Pb.GTLT]}\\s*(${Oa[Pb.FULLPLAIN]})$|^$`);I("COMPARATORTRIM",`(\\s*)${Oa[Pb.GTLT]}\\s*(${Oa[Pb.LOOSEPLAIN]}|${Oa[Pb.XRANGEPLAIN]})`,!0);R.comparatorTrimReplace="$1$2$3";I("HYPHENRANGE",`^\\s*(${Oa[Pb.XRANGEPLAIN]})`+"\\s+-\\s+"+`(${Oa[Pb.XRANGEPLAIN]})`+"\\s*$");I("HYPHENRANGELOOSE",`^\\s*(${Oa[Pb.XRANGEPLAINLOOSE]})`+"\\s+-\\s+"+`(${Oa[Pb.XRANGEPLAINLOOSE]})`+"\\s*$");I("STAR","(\x3c|\x3e)?\x3d?\\s*\\*");I("GTE0","^\\s*\x3e\x3d\\s*0.0.0\\s*$");I("GTE0PRE","^\\s*\x3e\x3d\\s*0.0.0-0\\s*$")});
const Da=["includePrerelease","loose","rtl"];var W=I=>I?"object"!==typeof I?{loose:!0}:Da.filter(R=>I[R]).reduce((R,ra)=>{R[ra]=!0;return R},{}):{};const na=/^[0-9]+$/,$a=(I,R)=>{const ra=na.test(I),Fa=na.test(R);ra&&Fa&&(I=+I,R=+R);return I===R?0:ra&&!Fa?-1:Fa&&!ra?1:I<R?-1:1};var sb={compareIdentifiers:$a,rcompareIdentifiers:(I,R)=>$a(R,I)};const {MAX_LENGTH:Db,MAX_SAFE_INTEGER:Xb}=sa,{re:vc,t:Vc}=Na,{compareIdentifiers:tc}=sb;class Hc{constructor(I,R){R=W(R);if(I instanceof Hc){if(I.loose===!!R.loose&&
I.includePrerelease===!!R.includePrerelease)return I;I=I.version}else if("string"!==typeof I)throw new TypeError(`Invalid Version: ${I}`);if(I.length>Db)throw new TypeError(`version is longer than ${Db} characters`);fa("SemVer",I,R);this.options=R;this.loose=!!R.loose;this.includePrerelease=!!R.includePrerelease;R=I.trim().match(R.loose?vc[Vc.LOOSE]:vc[Vc.FULL]);if(!R)throw new TypeError(`Invalid Version: ${I}`);this.raw=I;this.major=+R[1];this.minor=+R[2];this.patch=+R[3];if(this.major>Xb||0>this.major)throw new TypeError("Invalid major version");
if(this.minor>Xb||0>this.minor)throw new TypeError("Invalid minor version");if(this.patch>Xb||0>this.patch)throw new TypeError("Invalid patch version");this.prerelease=R[4]?R[4].split(".").map(ra=>{if(/^[0-9]+$/.test(ra)){const Fa=+ra;if(0<=Fa&&Fa<Xb)return Fa}return ra}):[];this.build=R[5]?R[5].split("."):[];this.format()}format(){this.version=`${this.major}.${this.minor}.${this.patch}`;this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`);return this.version}toString(){return this.version}compare(I){fa("SemVer.compare",
this.version,this.options,I);if(!(I instanceof Hc)){if("string"===typeof I&&I===this.version)return 0;I=new Hc(I,this.options)}return I.version===this.version?0:this.compareMain(I)||this.comparePre(I)}compareMain(I){I instanceof Hc||(I=new Hc(I,this.options));return tc(this.major,I.major)||tc(this.minor,I.minor)||tc(this.patch,I.patch)}comparePre(I){I instanceof Hc||(I=new Hc(I,this.options));if(this.prerelease.length&&!I.prerelease.length)return-1;if(!this.prerelease.length&&I.prerelease.length)return 1;
if(!this.prerelease.length&&!I.prerelease.length)return 0;let R=0;do{const ra=this.prerelease[R],Fa=I.prerelease[R];fa("prerelease compare",R,ra,Fa);if(void 0===ra&&void 0===Fa)return 0;if(void 0===Fa)return 1;if(void 0===ra)return-1;if(ra!==Fa)return tc(ra,Fa)}while(++R)}compareBuild(I){I instanceof Hc||(I=new Hc(I,this.options));let R=0;do{const ra=this.build[R],Fa=I.build[R];fa("prerelease compare",R,ra,Fa);if(void 0===ra&&void 0===Fa)return 0;if(void 0===Fa)return 1;if(void 0===ra)return-1;if(ra!==
Fa)return tc(ra,Fa)}while(++R)}inc(I,R){switch(I){case "premajor":this.minor=this.patch=this.prerelease.length=0;this.major++;this.inc("pre",R);break;case "preminor":this.patch=this.prerelease.length=0;this.minor++;this.inc("pre",R);break;case "prepatch":this.prerelease.length=0;this.inc("patch",R);this.inc("pre",R);break;case "prerelease":0===this.prerelease.length&&this.inc("patch",R);this.inc("pre",R);break;case "major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++;this.patch=
this.minor=0;this.prerelease=[];break;case "minor":0===this.patch&&0!==this.prerelease.length||this.minor++;this.patch=0;this.prerelease=[];break;case "patch":0===this.prerelease.length&&this.patch++;this.prerelease=[];break;case "pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(I=this.prerelease.length;0<=--I;)"number"===typeof this.prerelease[I]&&(this.prerelease[I]++,I=-2);-1===I&&this.prerelease.push(0)}R&&(this.prerelease[0]===R?isNaN(this.prerelease[1])&&(this.prerelease=[R,0]):
this.prerelease=[R,0]);break;default:throw Error(`invalid increment argument: ${I}`);}this.format();this.raw=this.version;return this}}var Ma=Hc;const {MAX_LENGTH:ec}=sa,{re:cc,t:nc}=Na;var Ec=(I,R)=>{R=W(R);if(I instanceof Ma)return I;if("string"!==typeof I||I.length>ec||!(R.loose?cc[nc.LOOSE]:cc[nc.FULL]).test(I))return null;try{return new Ma(I,R)}catch(ra){return null}},jc=(I,R,ra)=>(new Ma(I,ra)).compare(new Ma(R,ra)),Mc=(I,R,ra)=>{I=new Ma(I,ra);R=new Ma(R,ra);return I.compare(R)||I.compareBuild(R)},
Rc=(I,R,ra)=>0<jc(I,R,ra),Nc=(I,R,ra)=>0>jc(I,R,ra),ud=(I,R,ra)=>0<=jc(I,R,ra),ce=(I,R,ra)=>0>=jc(I,R,ra),Zc=(I,R,ra,Fa)=>{switch(R){case "\x3d\x3d\x3d":return"object"===typeof I&&(I=I.version),"object"===typeof ra&&(ra=ra.version),I===ra;case "!\x3d\x3d":return"object"===typeof I&&(I=I.version),"object"===typeof ra&&(ra=ra.version),I!==ra;case "":case "\x3d":case "\x3d\x3d":return 0===jc(I,ra,Fa);case "!\x3d":return 0!==jc(I,ra,Fa);case "\x3e":return 0<jc(I,ra,Fa);case "\x3e\x3d":return 0<=jc(I,
ra,Fa);case "\x3c":return 0>jc(I,ra,Fa);case "\x3c\x3d":return 0>=jc(I,ra,Fa);default:throw new TypeError(`Invalid operator: ${R}`);}};const {re:ed,t:Pd}=Na;var Ha=function(I){I.prototype[Symbol.iterator]=function*(){for(let R=this.head;R;R=R.next)yield R.value}};Ua.Node=Ja;Ua.create=Ua;Ua.prototype.removeNode=function(I){if(I.list!==this)throw Error("removing node which does not belong to this list");var R=I.next,ra=I.prev;R&&(R.prev=ra);ra&&(ra.next=R);I===this.head&&(this.head=R);I===this.tail&&
(this.tail=ra);I.list.length--;I.next=null;I.prev=null;I.list=null;return R};Ua.prototype.unshiftNode=function(I){if(I!==this.head){I.list&&I.list.removeNode(I);var R=this.head;I.list=this;if(I.next=R)R.prev=I;this.head=I;this.tail||(this.tail=I);this.length++}};Ua.prototype.pushNode=function(I){if(I!==this.tail){I.list&&I.list.removeNode(I);var R=this.tail;I.list=this;if(I.prev=R)R.next=I;this.tail=I;this.head||(this.head=I);this.length++}};Ua.prototype.push=function(){for(var I=0,R=arguments.length;I<
R;I++)this.tail=new Ja(arguments[I],this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length};Ua.prototype.unshift=function(){for(var I=0,R=arguments.length;I<R;I++)this.head=new Ja(arguments[I],null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length};Ua.prototype.pop=function(){if(this.tail){var I=this.tail.value;(this.tail=this.tail.prev)?this.tail.next=null:this.head=null;this.length--;return I}};Ua.prototype.shift=function(){if(this.head){var I=
this.head.value;(this.head=this.head.next)?this.head.prev=null:this.tail=null;this.length--;return I}};Ua.prototype.forEach=function(I,R){R=R||this;for(var ra=this.head,Fa=0;null!==ra;Fa++)I.call(R,ra.value,Fa,this),ra=ra.next};Ua.prototype.forEachReverse=function(I,R){R=R||this;for(var ra=this.tail,Fa=this.length-1;null!==ra;Fa--)I.call(R,ra.value,Fa,this),ra=ra.prev};Ua.prototype.get=function(I){for(var R=0,ra=this.head;null!==ra&&R<I;R++)ra=ra.next;if(R===I&&null!==ra)return ra.value};Ua.prototype.getReverse=
function(I){for(var R=0,ra=this.tail;null!==ra&&R<I;R++)ra=ra.prev;if(R===I&&null!==ra)return ra.value};Ua.prototype.map=function(I,R){R=R||this;for(var ra=new Ua,Fa=this.head;null!==Fa;)ra.push(I.call(R,Fa.value,this)),Fa=Fa.next;return ra};Ua.prototype.mapReverse=function(I,R){R=R||this;for(var ra=new Ua,Fa=this.tail;null!==Fa;)ra.push(I.call(R,Fa.value,this)),Fa=Fa.prev;return ra};Ua.prototype.reduce=function(I,R){var ra=this.head;if(1<arguments.length)var Fa=R;else if(this.head)ra=this.head.next,
Fa=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var Oa=0;null!==ra;Oa++)Fa=I(Fa,ra.value,Oa),ra=ra.next;return Fa};Ua.prototype.reduceReverse=function(I,R){var ra=this.tail;if(1<arguments.length)var Fa=R;else if(this.tail)ra=this.tail.prev,Fa=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var Oa=this.length-1;null!==ra;Oa--)Fa=I(Fa,ra.value,Oa),ra=ra.prev;return Fa};Ua.prototype.toArray=function(){for(var I=
Array(this.length),R=0,ra=this.head;null!==ra;R++)I[R]=ra.value,ra=ra.next;return I};Ua.prototype.toArrayReverse=function(){for(var I=Array(this.length),R=0,ra=this.tail;null!==ra;R++)I[R]=ra.value,ra=ra.prev;return I};Ua.prototype.slice=function(I,R){R=R||this.length;0>R&&(R+=this.length);I=I||0;0>I&&(I+=this.length);var ra=new Ua;if(R<I||0>R)return ra;0>I&&(I=0);R>this.length&&(R=this.length);for(var Fa=0,Oa=this.head;null!==Oa&&Fa<I;Fa++)Oa=Oa.next;for(;null!==Oa&&Fa<R;Fa++,Oa=Oa.next)ra.push(Oa.value);
return ra};Ua.prototype.sliceReverse=function(I,R){R=R||this.length;0>R&&(R+=this.length);I=I||0;0>I&&(I+=this.length);var ra=new Ua;if(R<I||0>R)return ra;0>I&&(I=0);R>this.length&&(R=this.length);for(var Fa=this.length,Oa=this.tail;null!==Oa&&Fa>R;Fa--)Oa=Oa.prev;for(;null!==Oa&&Fa>I;Fa--,Oa=Oa.prev)ra.push(Oa.value);return ra};Ua.prototype.splice=function(I,R,...ra){I>this.length&&(I=this.length-1);0>I&&(I=this.length+I);for(var Fa=0,Oa=this.head;null!==Oa&&Fa<I;Fa++)Oa=Oa.next;I=[];for(Fa=0;Oa&&
Fa<R;Fa++)I.push(Oa.value),Oa=this.removeNode(Oa);null===Oa&&(Oa=this.tail);Oa!==this.head&&Oa!==this.tail&&(Oa=Oa.prev);for(Fa=0;Fa<ra.length;Fa++)R=Oa,Oa=ra[Fa],R=R===this.head?new Ja(Oa,null,R,this):new Ja(Oa,R,R.next,this),null===R.next&&(this.tail=R),null===R.prev&&(this.head=R),this.length++,Oa=R;return I};Ua.prototype.reverse=function(){for(var I=this.head,R=this.tail,ra=I;null!==ra;ra=ra.prev){var Fa=ra.prev;ra.prev=ra.next;ra.next=Fa}this.head=R;this.tail=I;return this};try{Ha(Ua)}catch(I){}const qb=
Symbol("max"),Sb=Symbol("length"),dd=Symbol("lengthCalculator"),nd=Symbol("allowStale"),Nd=Symbol("maxAge"),Wd=Symbol("dispose"),U=Symbol("noDisposeOnSet"),va=Symbol("lruList"),ab=Symbol("cache"),xb=Symbol("updateAgeOnGet"),Rb=()=>1;class zb{constructor(I){"number"===typeof I&&(I={max:I});I||(I={});if(I.max&&("number"!==typeof I.max||0>I.max))throw new TypeError("max must be a non-negative number");this[qb]=I.max||Infinity;const R=I.length||Rb;this[dd]="function"!==typeof R?Rb:R;this[nd]=I.stale||
!1;if(I.maxAge&&"number"!==typeof I.maxAge)throw new TypeError("maxAge must be a number");this[Nd]=I.maxAge||0;this[Wd]=I.dispose;this[U]=I.noDisposeOnSet||!1;this[xb]=I.updateAgeOnGet||!1;this.reset()}set max(I){if("number"!==typeof I||0>I)throw new TypeError("max must be a non-negative number");this[qb]=I||Infinity;Ia(this)}get max(){return this[qb]}set allowStale(I){this[nd]=!!I}get allowStale(){return this[nd]}set maxAge(I){if("number"!==typeof I)throw new TypeError("maxAge must be a non-negative number");
this[Nd]=I;Ia(this)}get maxAge(){return this[Nd]}set lengthCalculator(I){"function"!==typeof I&&(I=Rb);I!==this[dd]&&(this[dd]=I,this[Sb]=0,this[va].forEach(R=>{R.length=this[dd](R.value,R.key);this[Sb]+=R.length}));Ia(this)}get lengthCalculator(){return this[dd]}get length(){return this[Sb]}get itemCount(){return this[va].length}rforEach(I,R){R=R||this;for(let ra=this[va].tail;null!==ra;){const Fa=ra.prev;Zb(this,I,ra,R);ra=Fa}}forEach(I,R){R=R||this;for(let ra=this[va].head;null!==ra;){const Fa=
ra.next;Zb(this,I,ra,R);ra=Fa}}keys(){return this[va].toArray().map(I=>I.key)}values(){return this[va].toArray().map(I=>I.value)}reset(){this[Wd]&&this[va]&&this[va].length&&this[va].forEach(I=>this[Wd](I.key,I.value));this[ab]=new Map;this[va]=new Ua;this[Sb]=0}dump(){return this[va].map(I=>bc(this,I)?!1:{k:I.key,v:I.value,e:I.now+(I.maxAge||0)}).toArray().filter(I=>I)}dumpLru(){return this[va]}set(I,R,ra){if((ra=ra||this[Nd])&&"number"!==typeof ra)throw new TypeError("maxAge must be a number");
const Fa=ra?Date.now():0,Oa=this[dd](R,I);if(this[ab].has(I)){if(Oa>this[qb])return lb(this,this[ab].get(I)),!1;const Pb=this[ab].get(I).value;if(this[Wd]&&!this[U])this[Wd](I,Pb.value);Pb.now=Fa;Pb.maxAge=ra;Pb.value=R;this[Sb]+=Oa-Pb.length;Pb.length=Oa;this.get(I);Ia(this);return!0}ra=new Eb(I,R,Oa,Fa,ra);if(ra.length>this[qb]){if(this[Wd])this[Wd](I,R);return!1}this[Sb]+=ra.length;this[va].unshift(ra);this[ab].set(I,this[va].head);Ia(this);return!0}has(I){if(!this[ab].has(I))return!1;I=this[ab].get(I).value;
return!bc(this,I)}get(I){return kc(this,I,!0)}peek(I){return kc(this,I,!1)}pop(){const I=this[va].tail;if(!I)return null;lb(this,I);return I.value}del(I){lb(this,this[ab].get(I))}load(I){this.reset();const R=Date.now();for(let Fa=I.length-1;0<=Fa;Fa--){const Oa=I[Fa];var ra=Oa.e||0;0===ra?this.set(Oa.k,Oa.v):(ra-=R,0<ra&&this.set(Oa.k,Oa.v,ra))}}prune(){this[ab].forEach((I,R)=>kc(this,R,!1))}}const kc=(I,R,ra)=>{if(R=I[ab].get(R)){const Fa=R.value;if(bc(I,Fa)){if(lb(I,R),!I[nd])return}else ra&&(I[xb]&&
(R.value.now=Date.now()),I[va].unshiftNode(R));return Fa.value}},bc=(I,R)=>{if(!R||!R.maxAge&&!I[Nd])return!1;const ra=Date.now()-R.now;return R.maxAge?ra>R.maxAge:I[Nd]&&ra>I[Nd]},Ia=I=>{if(I[Sb]>I[qb])for(let R=I[va].tail;I[Sb]>I[qb]&&null!==R;){const ra=R.prev;lb(I,R);R=ra}},lb=(I,R)=>{if(R){const ra=R.value;if(I[Wd])I[Wd](ra.key,ra.value);I[Sb]-=ra.length;I[ab].delete(ra.key);I[va].removeNode(R)}};class Eb{constructor(I,R,ra,Fa,Oa){this.key=I;this.value=R;this.length=ra;this.now=Fa;this.maxAge=
Oa||0}}const Zb=(I,R,ra,Fa)=>{let Oa=ra.value;bc(I,Oa)&&(lb(I,ra),I[nd]||(Oa=void 0));Oa&&R.call(Fa,Oa.value,Oa.key,I)};class lc{constructor(I,R){R=W(R);if(I instanceof lc)return I.loose===!!R.loose&&I.includePrerelease===!!R.includePrerelease?I:new lc(I.raw,R);if(I instanceof te)return this.raw=I.value,this.set=[[I]],this.format(),this;this.options=R;this.loose=!!R.loose;this.includePrerelease=!!R.includePrerelease;this.raw=I;this.set=I.split(/\s*\|\|\s*/).map(ra=>this.parseRange(ra.trim())).filter(ra=>
ra.length);if(!this.set.length)throw new TypeError(`Invalid SemVer Range: ${I}`);if(1<this.set.length)if(I=this.set[0],this.set=this.set.filter(ra=>"\x3c0.0.0-0"!==ra[0].value),0===this.set.length)this.set=[I];else if(1<this.set.length)for(const ra of this.set)if(1===ra.length&&""===ra[0].value){this.set=[ra];break}this.format()}format(){return this.range=this.set.map(I=>I.join(" ").trim()).join("||").trim()}toString(){return this.range}parseRange(I){I=I.trim();const R=`parseRange:${Object.keys(this.options).join(",")}:${I}`;
var ra=Cc.get(R);if(ra)return ra;ra=this.options.loose;I=I.replace(ra?Bb[pc.HYPHENRANGELOOSE]:Bb[pc.HYPHENRANGE],ee(this.options.includePrerelease));fa("hyphen replace",I);I=I.replace(Bb[pc.COMPARATORTRIM],sc);fa("comparator trim",I,Bb[pc.COMPARATORTRIM]);I=I.replace(Bb[pc.TILDETRIM],mc);I=I.replace(Bb[pc.CARETTRIM],Bc);I=I.split(/\s+/).join(" ");const Fa=ra?Bb[pc.COMPARATORLOOSE]:Bb[pc.COMPARATOR];I=I.split(" ").map(Pb=>{var dc=Pb;Pb=this.options;fa("comp",dc,Pb);dc=td(dc,Pb);fa("caret",dc);dc=ad(dc,
Pb);fa("tildes",dc);dc=Fd(dc,Pb);fa("xrange",dc);fa("replaceStars",dc,Pb);dc=dc.trim().replace(Bb[pc.STAR],"");fa("stars",dc);return dc}).join(" ").split(/\s+/).map(Pb=>{var dc=this.options;fa("replaceGTE0",Pb,dc);return Pb.trim().replace(Bb[dc.includePrerelease?pc.GTE0PRE:pc.GTE0],"")}).filter(this.options.loose?Pb=>!!Pb.match(Fa):()=>!0).map(Pb=>new te(Pb,this.options));ra=new Map;for(var Oa of I){if("\x3c0.0.0-0"===Oa.value)return[Oa];ra.set(Oa.value,Oa)}1<ra.size&&ra.has("")&&ra.delete("");Oa=
[...ra.values()];Cc.set(R,Oa);return Oa}intersects(I,R){if(!(I instanceof lc))throw new TypeError("a Range is required");return this.set.some(ra=>Oc(ra,R)&&I.set.some(Fa=>Oc(Fa,R)&&ra.every(Oa=>Fa.every(Pb=>Oa.intersects(Pb,R)))))}test(I){if(!I)return!1;if("string"===typeof I)try{I=new Ma(I,this.options)}catch(Pb){return!1}for(let Pb=0;Pb<this.set.length;Pb++){a:{var R=this.set[Pb];var ra=I,Fa=this.options;for(var Oa=0;Oa<R.length;Oa++)if(!R[Oa].test(ra)){R=!1;break a}if(ra.prerelease.length&&!Fa.includePrerelease){for(Fa=
0;Fa<R.length;Fa++)if(fa(R[Fa].semver),R[Fa].semver!==te.ANY&&0<R[Fa].semver.prerelease.length&&(Oa=R[Fa].semver,Oa.major===ra.major&&Oa.minor===ra.minor&&Oa.patch===ra.patch)){R=!0;break a}R=!1}else R=!0}if(R)return!0}return!1}}var uc=lc;const Cc=new zb({max:1E3}),{re:Bb,t:pc,comparatorTrimReplace:sc,tildeTrimReplace:mc,caretTrimReplace:Bc}=Na,Oc=(I,R)=>{let ra=!0;I=I.slice();let Fa=I.pop();for(;ra&&I.length;)ra=I.every(Oa=>Fa.intersects(Oa,R)),Fa=I.pop();return ra},Kc=I=>!I||"x"===I.toLowerCase()||
"*"===I,ad=(I,R)=>I.trim().split(/\s+/).map(ra=>id(ra,R)).join(" "),id=(I,R)=>I.replace(R.loose?Bb[pc.TILDELOOSE]:Bb[pc.TILDE],(ra,Fa,Oa,Pb,dc)=>{fa("tilde",I,ra,Fa,Oa,Pb,dc);Kc(Fa)?ra="":Kc(Oa)?ra=`>=${Fa}.0.0 <${+Fa+1}.0.0-0`:Kc(Pb)?ra=`>=${Fa}.${Oa}.0 <${Fa}.${+Oa+1}.0-0`:dc?(fa("replaceTilde pr",dc),ra=`>=${Fa}.${Oa}.${Pb}-${dc} <${Fa}.${+Oa+1}.0-0`):ra=`>=${Fa}.${Oa}.${Pb} <${Fa}.${+Oa+1}.0-0`;fa("tilde return",ra);return ra}),td=(I,R)=>I.trim().split(/\s+/).map(ra=>qd(ra,R)).join(" "),qd=(I,
R)=>{fa("caret",I,R);const ra=R.includePrerelease?"-0":"";return I.replace(R.loose?Bb[pc.CARETLOOSE]:Bb[pc.CARET],(Fa,Oa,Pb,dc,xc)=>{fa("caret",I,Fa,Oa,Pb,dc,xc);Kc(Oa)?Fa="":Kc(Pb)?Fa=`>=${Oa}.0.0${ra} <${+Oa+1}.0.0-0`:Kc(dc)?Fa="0"===Oa?`>=${Oa}.${Pb}.0${ra} <${Oa}.${+Pb+1}.0-0`:`>=${Oa}.${Pb}.0${ra} <${+Oa+1}.0.0-0`:xc?(fa("replaceCaret pr",xc),Fa="0"===Oa?"0"===Pb?`>=${Oa}.${Pb}.${dc}-${xc} <${Oa}.${Pb}.${+dc+1}-0`:`>=${Oa}.${Pb}.${dc}-${xc} <${Oa}.${+Pb+1}.0-0`:`>=${Oa}.${Pb}.${dc}-${xc} <${+Oa+
1}.0.0-0`):(fa("no pr"),Fa="0"===Oa?"0"===Pb?`>=${Oa}.${Pb}.${dc}${ra} <${Oa}.${Pb}.${+dc+1}-0`:`>=${Oa}.${Pb}.${dc}${ra} <${Oa}.${+Pb+1}.0-0`:`>=${Oa}.${Pb}.${dc} <${+Oa+1}.0.0-0`);fa("caret return",Fa);return Fa})},Fd=(I,R)=>{fa("replaceXRanges",I,R);return I.split(/\s+/).map(ra=>Ud(ra,R)).join(" ")},Ud=(I,R)=>{I=I.trim();return I.replace(R.loose?Bb[pc.XRANGELOOSE]:Bb[pc.XRANGE],(ra,Fa,Oa,Pb,dc,xc)=>{fa("xRange",I,ra,Fa,Oa,Pb,dc,xc);const oc=Kc(Oa),yc=oc||Kc(Pb);dc=yc||Kc(dc);"\x3d"===Fa&&dc&&(Fa=
"");xc=R.includePrerelease?"-0":"";oc?ra="\x3e"===Fa||"\x3c"===Fa?"\x3c0.0.0-0":"*":Fa&&dc?(yc&&(Pb=0),dc=0,"\x3e"===Fa?(Fa="\x3e\x3d",yc?(Oa=+Oa+1,Pb=0):Pb=+Pb+1,dc=0):"\x3c\x3d"===Fa&&(Fa="\x3c",yc?Oa=+Oa+1:Pb=+Pb+1),"\x3c"===Fa&&(xc="-0"),ra=`${Fa+Oa}.${Pb}.${dc}${xc}`):yc?ra=`>=${Oa}.0.0${xc} <${+Oa+1}.0.0-0`:dc&&(ra=`>=${Oa}.${Pb}.0${xc} <${Oa}.${+Pb+1}.0-0`);fa("xRange return",ra);return ra})},ee=I=>(R,ra,Fa,Oa,Pb,dc,xc,oc,yc,Wc,Tc,he,od)=>{ra=Kc(Fa)?"":Kc(Oa)?`>=${Fa}.0.0${I?"-0":""}`:Kc(Pb)?
`>=${Fa}.${Oa}.0${I?"-0":""}`:dc?`>=${ra}`:`>=${ra}${I?"-0":""}`;oc=Kc(yc)?"":Kc(Wc)?`<${+yc+1}.0.0-0`:Kc(Tc)?`<${yc}.${+Wc+1}.0-0`:he?`<=${yc}.${Wc}.${Tc}-${he}`:I?`<${yc}.${Wc}.${+Tc+1}-0`:`<=${oc}`;return`${ra} ${oc}`.trim()},we=Symbol("SemVer ANY");class re{static get ANY(){return we}constructor(I,R){R=W(R);if(I instanceof re){if(I.loose===!!R.loose)return I;I=I.value}fa("comparator",I,R);this.options=R;this.loose=!!R.loose;this.parse(I);this.value=this.semver===we?"":this.operator+this.semver.version;
fa("comp",this)}parse(I){const R=I.match(this.options.loose?rd[Jd.COMPARATORLOOSE]:rd[Jd.COMPARATOR]);if(!R)throw new TypeError(`Invalid comparator: ${I}`);this.operator=void 0!==R[1]?R[1]:"";"\x3d"===this.operator&&(this.operator="");this.semver=R[2]?new Ma(R[2],this.options.loose):we}toString(){return this.value}test(I){fa("Comparator.test",I,this.options.loose);if(this.semver===we||I===we)return!0;if("string"===typeof I)try{I=new Ma(I,this.options)}catch(R){return!1}return Zc(I,this.operator,this.semver,
this.options)}intersects(I,R){if(!(I instanceof re))throw new TypeError("a Comparator is required");R&&"object"===typeof R||(R={loose:!!R,includePrerelease:!1});if(""===this.operator)return""===this.value?!0:(new uc(I.value,R)).test(this.value);if(""===I.operator)return""===I.value?!0:(new uc(this.value,R)).test(I.semver);const ra=("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3e\x3d"===I.operator||"\x3e"===I.operator),Fa=("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3c\x3d"===
I.operator||"\x3c"===I.operator),Oa=this.semver.version===I.semver.version,Pb=("\x3e\x3d"===this.operator||"\x3c\x3d"===this.operator)&&("\x3e\x3d"===I.operator||"\x3c\x3d"===I.operator),dc=Zc(this.semver,"\x3c",I.semver,R)&&("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3c\x3d"===I.operator||"\x3c"===I.operator);I=Zc(this.semver,"\x3e",I.semver,R)&&("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3e\x3d"===I.operator||"\x3e"===I.operator);return ra||Fa||Oa&&Pb||dc||I}}var te=
re;const {re:rd,t:Jd}=Na;var Me=(I,R,ra)=>{try{R=new uc(R,ra)}catch(Fa){return!1}return R.test(I)};const {ANY:qe}=te;var bf=(I,R,ra,Fa)=>{I=new Ma(I,Fa);R=new uc(R,Fa);let Oa,Pb,dc,xc;switch(ra){case "\x3e":Oa=Rc;ra=ce;Pb=Nc;dc="\x3e";xc="\x3e\x3d";break;case "\x3c":Oa=Nc;ra=ud;Pb=Rc;dc="\x3c";xc="\x3c\x3d";break;default:throw new TypeError('Must provide a hilo val of "\x3c" or "\x3e"');}if(Me(I,R,Fa))return!1;for(let oc=0;oc<R.set.length;++oc){let yc=null,Wc=null;R.set[oc].forEach(Tc=>{Tc.semver===
qe&&(Tc=new te("\x3e\x3d0.0.0"));yc=yc||Tc;Wc=Wc||Tc;Oa(Tc.semver,yc.semver,Fa)?yc=Tc:Pb(Tc.semver,Wc.semver,Fa)&&(Wc=Tc)});if(yc.operator===dc||yc.operator===xc||(!Wc.operator||Wc.operator===dc)&&ra(I,Wc.semver)||Wc.operator===xc&&Pb(I,Wc.semver))return!1}return!0};const {ANY:Hd}=te,fe=(I,R,ra)=>{if(I===R)return!0;if(1===I.length&&I[0].semver===Hd)return 1===R.length&&R[0].semver===Hd;const Fa=new Set;let Oa,Pb;for(const yc of I)"\x3e"===yc.operator||"\x3e\x3d"===yc.operator?Oa=Ce(Oa,yc,ra):"\x3c"===
yc.operator||"\x3c\x3d"===yc.operator?Pb=Xd(Pb,yc,ra):Fa.add(yc.semver);if(1<Fa.size)return null;let dc;if(Oa&&Pb&&(dc=jc(Oa.semver,Pb.semver,ra),0<dc||0===dc&&("\x3e\x3d"!==Oa.operator||"\x3c\x3d"!==Pb.operator)))return null;for(const yc of Fa){if(Oa&&!Me(yc,String(Oa),ra)||Pb&&!Me(yc,String(Pb),ra))return null;for(const Wc of R)if(!Me(yc,String(Wc),ra))return!1;return!0}let xc,oc;for(const yc of R){oc=oc||"\x3e"===yc.operator||"\x3e\x3d"===yc.operator;xc=xc||"\x3c"===yc.operator||"\x3c\x3d"===yc.operator;
if(Oa)if("\x3e"===yc.operator||"\x3e\x3d"===yc.operator){if(I=Ce(Oa,yc,ra),I===yc&&I!==Oa)return!1}else if("\x3e\x3d"===Oa.operator&&!Me(Oa.semver,String(yc),ra))return!1;if(Pb)if("\x3c"===yc.operator||"\x3c\x3d"===yc.operator){if(I=Xd(Pb,yc,ra),I===yc&&I!==Pb)return!1}else if("\x3c\x3d"===Pb.operator&&!Me(Pb.semver,String(yc),ra))return!1;if(!yc.operator&&(Pb||Oa)&&0!==dc)return!1}return Oa&&xc&&!Pb&&0!==dc||Pb&&oc&&!Oa&&0!==dc?!1:!0},Ce=(I,R,ra)=>{if(!I)return R;ra=jc(I.semver,R.semver,ra);return 0<
ra?I:0>ra?R:"\x3e"===R.operator&&"\x3e\x3d"===I.operator?R:I},Xd=(I,R,ra)=>{if(!I)return R;ra=jc(I.semver,R.semver,ra);return 0>ra?I:0<ra?R:"\x3c"===R.operator&&"\x3c\x3d"===I.operator?R:I};var md={re:Na.re,src:Na.src,tokens:Na.t,SEMVER_SPEC_VERSION:sa.SEMVER_SPEC_VERSION,SemVer:Ma,compareIdentifiers:sb.compareIdentifiers,rcompareIdentifiers:sb.rcompareIdentifiers,parse:Ec,valid:(I,R)=>(I=Ec(I,R))?I.version:null,clean:(I,R)=>(I=Ec(I.trim().replace(/^[=v]+/,""),R))?I.version:null,inc:(I,R,ra,Fa)=>
{"string"===typeof ra&&(Fa=ra,ra=void 0);try{return(new Ma(I,ra)).inc(R,Fa).version}catch(Oa){return null}},diff:(I,R)=>{if(0===jc(I,R,void 0))return null;{I=Ec(I);R=Ec(R);var ra=I.prerelease.length||R.prerelease.length;const Fa=ra?"pre":"";ra=ra?"prerelease":"";for(const Oa in I)if(("major"===Oa||"minor"===Oa||"patch"===Oa)&&I[Oa]!==R[Oa])return Fa+Oa;return ra}},major:(I,R)=>(new Ma(I,R)).major,minor:(I,R)=>(new Ma(I,R)).minor,patch:(I,R)=>(new Ma(I,R)).patch,prerelease:(I,R)=>(I=Ec(I,R))&&I.prerelease.length?
I.prerelease:null,compare:jc,rcompare:(I,R,ra)=>jc(R,I,ra),compareLoose:(I,R)=>jc(I,R,!0),compareBuild:Mc,sort:(I,R)=>I.sort((ra,Fa)=>Mc(ra,Fa,R)),rsort:(I,R)=>I.sort((ra,Fa)=>Mc(Fa,ra,R)),gt:Rc,lt:Nc,eq:(I,R,ra)=>0===jc(I,R,ra),neq:(I,R,ra)=>0!==jc(I,R,ra),gte:ud,lte:ce,cmp:Zc,coerce:(I,R)=>{if(I instanceof Ma)return I;"number"===typeof I&&(I=String(I));if("string"!==typeof I)return null;R=R||{};let ra=null;if(R.rtl){let Fa;for(;(Fa=ed[Pd.COERCERTL].exec(I))&&(!ra||ra.index+ra[0].length!==I.length);)ra&&
Fa.index+Fa[0].length===ra.index+ra[0].length||(ra=Fa),ed[Pd.COERCERTL].lastIndex=Fa.index+Fa[1].length+Fa[2].length;ed[Pd.COERCERTL].lastIndex=-1}else ra=I.match(ed[Pd.COERCE]);return null===ra?null:Ec(`${ra[2]}.${ra[3]||"0"}.${ra[4]||"0"}`,R)},Comparator:te,Range:uc,satisfies:Me,toComparators:(I,R)=>(new uc(I,R)).set.map(ra=>ra.map(Fa=>Fa.value).join(" ").trim().split(" ")),maxSatisfying:(I,R,ra)=>{let Fa=null,Oa=null,Pb=null;try{Pb=new uc(R,ra)}catch(dc){return null}I.forEach(dc=>{!Pb.test(dc)||
Fa&&-1!==Oa.compare(dc)||(Fa=dc,Oa=new Ma(Fa,ra))});return Fa},minSatisfying:(I,R,ra)=>{let Fa=null,Oa=null,Pb=null;try{Pb=new uc(R,ra)}catch(dc){return null}I.forEach(dc=>{!Pb.test(dc)||Fa&&1!==Oa.compare(dc)||(Fa=dc,Oa=new Ma(Fa,ra))});return Fa},minVersion:(I,R)=>{I=new uc(I,R);R=new Ma("0.0.0");if(I.test(R))return R;R=new Ma("0.0.0-0");if(I.test(R))return R;R=null;for(let ra=0;ra<I.set.length;++ra){let Fa=null;I.set[ra].forEach(Oa=>{const Pb=new Ma(Oa.semver.version);switch(Oa.operator){case "\x3e":0===
Pb.prerelease.length?Pb.patch++:Pb.prerelease.push(0),Pb.raw=Pb.format();case "":case "\x3e\x3d":if(!Fa||0<jc(Pb,Fa,void 0))Fa=Pb;break;case "\x3c":case "\x3c\x3d":break;default:throw Error(`Unexpected operation: ${Oa.operator}`);}});!Fa||R&&!(0<jc(R,Fa,void 0))||(R=Fa)}return R&&I.test(R)?R:null},validRange:(I,R)=>{try{return(new uc(I,R)).range||"*"}catch(ra){return null}},outside:bf,gtr:(I,R,ra)=>bf(I,R,"\x3e",ra),ltr:(I,R,ra)=>bf(I,R,"\x3c",ra),intersects:(I,R,ra)=>{I=new uc(I,ra);R=new uc(R,ra);
return I.intersects(R)},simplifyRange:(I,R,ra)=>{var Fa=[],Oa=null;let Pb=null;I=I.sort((dc,xc)=>jc(dc,xc,ra));for(const dc of I)Me(dc,R,ra)?(Pb=dc,Oa||(Oa=dc)):(Pb&&Fa.push([Oa,Pb]),Oa=Pb=null);Oa&&Fa.push([Oa,null]);Oa=[];for(const [dc,xc]of Fa)dc===xc?Oa.push(dc):xc||dc!==I[0]?xc?dc===I[0]?Oa.push(`<=${xc}`):Oa.push(`${dc} - ${xc}`):Oa.push(`>=${dc}`):Oa.push("*");Fa=Oa.join(" || ");return Fa.length<("string"===typeof R.raw?R.raw:String(R)).length?Fa:R},subset:(I,R,ra)=>{if(I===R)return!0;I=new uc(I,
ra);R=new uc(R,ra);let Fa=!1;a:for(const Oa of I.set){for(const Pb of R.set)if(I=fe(Oa,Pb,ra),Fa=Fa||null!==I,I)continue a;if(Fa)return!1}return!0}};const xd={"category-6":"#ec8431 #829eb1 #c89d29 #3580b1 #adc839 #ab7fb4".split(" "),"fire-7":"#fbf2c7 #f9e39c #f8d36e #f4bb6a #e68a4f #d15a40 #ab4232".split(" "),"fireandice-6":"#e68a4f #f4bb6a #f9e39c #dadfe2 #a6b7c6 #849eae".split(" "),"ice-7":"#edefee #dadfe2 #c4ccd2 #a6b7c6 #849eae #607785 #47525d".split(" ")},Ld={"main-colors":"#1696d2 #d2d2d2 #000000 #fdbf11 #ec008b #55b748 #5c5859 #db2b27".split(" "),
"shades-blue":"#CFE8F3 #A2D4EC #73BFE2 #46ABDB #1696D2 #12719E #0A4C6A #062635".split(" "),"shades-gray":"#F5F5F5 #ECECEC #E3E3E3 #DCDBDB #D2D2D2 #9D9D9D #696969 #353535".split(" "),"shades-yellow":"#FFF2CF #FCE39E #FDD870 #FCCB41 #FDBF11 #E88E2D #CA5800 #843215".split(" "),"shades-magenta":"#F5CBDF #EB99C2 #E46AA7 #E54096 #EC008B #AF1F6B #761548 #351123".split(" "),"shades-green":"#DCEDD9 #BCDEB4 #98CF90 #78C26D #55B748 #408941 #2C5C2D #1A2E19".split(" "),"shades-black":"#D5D5D4 #ADABAC #848081 #5C5859 #332D2F #262223 #1A1717 #0E0C0D".split(" "),
"shades-red":"#F8D5D4 #F1AAA9 #E9807D #E25552 #DB2B27 #A4201D #6E1614 #370B0A".split(" "),"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11",
"#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":"#1696d2 #ec008b #fdbf11 #000000 #d2d2d2 #55b748".split(" "),"six-groups-cat-2":"#1696d2 #d2d2d2 #ec008b #fdbf11 #332d2f #0a4c6a".split(" "),"six-groups-seq":"#cfe8f3 #a2d4ec #73bfe2 #46abdb #1696d2 #12719e".split(" "),
"diverging-colors":"#ca5800 #fdbf11 #fdd870 #fff2cf #cfe8f3 #73bfe2 #1696d2 #0a4c6a".split(" ")};var ff=Object.freeze({__proto__:null,dark:{background:"#333",title:{color:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},excel:{background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},symbol:{fill:"#4572a7",
strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:"#4572a7 #aa4643 #8aa453 #71598e #4598ae #d98445 #94aace #d09393 #b9cc98 #a99cbc".split(" ")}},fivethirtyeight:{arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",
labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:"#30a2da #fc4f30 #e5ae38 #6d904f #8b8b8b #b96db8 #ff9e27 #56cc60 #52d2ca #52689e #545454 #9fe4f8".split(" "),
diverging:"#cc0020 #e77866 #f6e7e1 #d6e8ed #91bfd9 #1d78b5".split(" "),heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},ggplot2:{group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,
gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:"#000000 #7F7F7F #1A1A1A #999999 #333333 #B0B0B0 #4D4D4D #C9C9C9 #666666 #DCDCDC".split(" ")}},googlecharts:{arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",
padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:"#4285F4 #DB4437 #F4B400 #0F9D58 #AB47BC #00ACC1 #FF7043 #9E9D24 #5C6BC0 #F06292 #00796B #C2185B".split(" "),heatmap:["#c6dafc","#5e97f6",
"#2a56c6"]}},latimes:{background:"#ffffff",title:{anchor:"start",color:"#000000",font:"Benton Gothic Bold, sans-serif",fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},
axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},range:{category:xd["category-6"],diverging:xd["fireandice-6"],heatmap:xd["fire-7"],ordinal:xd["fire-7"],ramp:xd["fire-7"]}},quartz:{background:"#f9f9f9",arc:{fill:"#ab5787"},
area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:"#ab5787 #51b2e5 #703c5c #168dd9 #d190b6 #00609f #d365ba #154866 #666666 #c4c4c4".split(" ")}},
urbaninstitute:{background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:"Lato"},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,
labelFont:"Lato",symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:"Lato",orient:"right",offset:10},view:{stroke:"transparent"},range:{category:Ld["six-groups-cat-1"],diverging:Ld["diverging-colors"],heatmap:Ld["diverging-colors"],ordinal:Ld["six-groups-seq"],ramp:Ld["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},
text:{font:"Lato",color:"#1696d2",fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},symbol:{fill:"#1696d2",size:30}},version:"2.9.1",vox:{background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},
axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:"#3e5c69 #6793a6 #182429 #0570b0 #3690c0 #74a9cf #a6bddb #e2ddf2".split(" ")}}});const ne=I=>function(R){return R[I]},wd=I=>{const R=I.length;return function(ra){for(let Fa=0;Fa<R;++Fa)ra=ra[I[Fa]];return ra}};(function(I,R,ra){const Fa=Ra(I);I=1===Fa.length?Fa[0]:I;return wa((ra&&ra.get||La)(Fa),[I],R||I)})("id");wa(I=>I,[],"identity");wa(()=>0,[],"zero");wa(()=>1,[],"one");
wa(()=>!0,[],"true");wa(()=>!1,[],"false");var Ae=Array.isArray;const cf={offsetX:10,offsetY:10,id:"vg-tooltip-element",styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(I){return String(I).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;")},maxDepth:2};class wc{constructor(I){this.options=Object.assign(Object.assign({},cf),I);I=this.options.id;this.call=this.tooltipHandler.bind(this);if(!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const ra=
document.createElement("style");ra.setAttribute("id",this.options.styleId);if(!/^[A-Za-z]+[-:.\w]*$/.test(I))throw Error("Invalid HTML ID");var R="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element img {\n    max-width: 200px;\n    max-height: 200px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n".toString().replace("vg-tooltip-element",
I);ra.innerHTML=R;R=document.head;0<R.childNodes.length?R.insertBefore(ra,R.childNodes[0]):R.appendChild(ra)}this.el=document.getElementById(I);this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",I),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))}tooltipHandler(I,R,ra,Fa){if(null==Fa||""===Fa)this.el.classList.remove("visible",`${this.options.theme}-theme`);else{this.el.innerHTML=Wa(Fa,this.options.sanitize,this.options.maxDepth);this.el.classList.add("visible",
`${this.options.theme}-theme`);I=this.el.getBoundingClientRect();var Oa=this.options.offsetX;ra=this.options.offsetY;Fa=R.clientX+Oa;Fa+I.width>window.innerWidth&&(Fa=+R.clientX-Oa-I.width);Oa=R.clientY+ra;Oa+I.height>window.innerHeight&&(Oa=+R.clientY-ra-I.height);R={x:Fa,y:Oa};var {x:Pb,y:dc}=R;this.el.setAttribute("style",`top: ${dc}px; left: ${Pb}px`)}}}String.prototype.startsWith||(String.prototype.startsWith=function(I,R){return this.substr(!R||0>R?0:+R,I.length)===I});var pe,Vd=Ya,Ub=Za,oe=
"undefined"!==typeof window?window:void 0;void 0===Ub&&(null===(pe=null===oe||void 0===oe?void 0:oe.vl)||void 0===pe?0:pe.compile)&&(Ub=oe.vl);var Yd={"export":{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},se={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},df={vega:"Vega","vega-lite":"Vega-Lite"},Re={vega:Vd.version,"vega-lite":Ub?Ub.version:"not available"},
Ve={vega:function(I){return I},"vega-lite":function(I,R){return Ub.compile(I,{config:R}).spec}},Ge=function(){for(var I=[],R=0;R<arguments.length;R++)I[R]=arguments[R];if(R=1<I.length){if(R=v.isString(I[0]))R=I[0],R=!(R.startsWith("http://")||R.startsWith("https://")||R.startsWith("//"));R=R||I[0]instanceof HTMLElement||3===I.length}return R?O(I[0],I[1],I[2]):ma(I[0],I[1])};Ge.vegaLite=Ub;Ge.vl=Ub;Ge.container=ma;Ge.embed=O;Ge.vega=Vd;Ge["default"]=O;Ge.version="6.15.0";return Ge})};
shadow$provide[70]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?v(fc):"function"===typeof define&&define.amd?define(["exports"],v):v(n.L={})})(this,function(n){function v(c){var k,D;var ba=1;for(D=arguments.length;ba<D;ba++){var Aa=arguments[ba];for(k in Aa)c[k]=Aa[k]}return c}function Y(c,k){var D=Array.prototype.slice;if(c.bind)return c.bind.apply(c,D.call(arguments,1));var ba=D.call(arguments,2);return function(){return c.apply(k,ba.length?ba.concat(D.call(arguments)):
arguments)}}function Qa(c){c._leaflet_id=c._leaflet_id||++Bb;return c._leaflet_id}function Qb(c,k,D){var ba,Aa,Fb;var Kb=function(){ba=!1;Aa&&(Fb.apply(D,Aa),Aa=!1)};return Fb=function(){ba?Aa=arguments:(c.apply(D,arguments),setTimeout(Kb,k),ba=!0)}}function db(c,k,D){var ba=k[1];k=k[0];var Aa=ba-k;return c===ba&&D?c:((c-k)%Aa+Aa)%Aa+k}function pb(){return!1}function Ib(c,k){k=Math.pow(10,void 0===k?6:k);return Math.round(c*k)/k}function Ab(c){return c.trim?c.trim():c.replace(/^\s+|\s+$/g,"")}function Va(c){return Ab(c).split(/\s+/)}
function nb(c,k){Object.prototype.hasOwnProperty.call(c,"options")||(c.options=c.options?Cc(c.options):{});for(var D in k)c.options[D]=k[D];return c.options}function mb(c,k,D){var ba=[],Aa;for(Aa in c)ba.push(encodeURIComponent(D?Aa.toUpperCase():Aa)+"\x3d"+encodeURIComponent(c[Aa]));return(k&&-1!==k.indexOf("?")?"\x26":"?")+ba.join("\x26")}function Pa(c,k){return c.replace(pc,function(D,ba){ba=k[ba];if(void 0===ba)throw Error("No value provided for variable "+D);"function"===typeof ba&&(ba=ba(k));
return ba})}function Ba(c,k){for(var D=0;D<c.length;D++)if(c[D]===k)return D;return-1}function Ca(c){return window["webkit"+c]||window["moz"+c]||window["ms"+c]}function Sa(c){var k=+new Date,D=Math.max(0,16-(k-mc));mc=k+D;return window.setTimeout(c,D)}function kb(c,k,D){if(D&&Bc===Sa)c.call(k);else return Bc.call(window,Y(c,k))}function za(c){c&&Oc.call(window,c)}function Ea(){}function gb(c){if("undefined"!==typeof L&&L&&L.Mixin){c=sc(c)?c:[c];for(var k=0;k<c.length;k++)c[k]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",
Error().stack)}}function xa(c,k,D){this.x=D?Math.round(c):c;this.y=D?Math.round(k):k}function Ua(c,k,D){return c instanceof xa?c:sc(c)?new xa(c[0],c[1]):void 0===c||null===c?c:"object"===typeof c&&"x"in c&&"y"in c?new xa(c.x,c.y):new xa(c,k,D)}function Ja(c,k){if(c){c=k?[c,k]:c;k=0;for(var D=c.length;k<D;k++)this.extend(c[k])}}function da(c,k){return!c||c instanceof Ja?c:new Ja(c,k)}function wa(c,k){if(c){c=k?[c,k]:c;k=0;for(var D=c.length;k<D;k++)this.extend(c[k])}}function La(c,k){return c instanceof
wa?c:new wa(c,k)}function Ra(c,k,D){if(isNaN(c)||isNaN(k))throw Error("Invalid LatLng object: ("+c+", "+k+")");this.lat=+c;this.lng=+k;void 0!==D&&(this.alt=+D)}function fb(c,k,D){return c instanceof Ra?c:sc(c)&&"object"!==typeof c[0]?3===c.length?new Ra(c[0],c[1],c[2]):2===c.length?new Ra(c[0],c[1]):null:void 0===c||null===c?c:"object"===typeof c&&"lat"in c?new Ra(c.lat,"lng"in c?c.lng:c.lon,c.alt):void 0===k?null:new Ra(c,k,D)}function Wa(c,k,D,ba){sc(c)?(this._a=c[0],this._b=c[1],this._c=c[2],
this._d=c[3]):(this._a=c,this._b=k,this._c=D,this._d=ba)}function jb(c,k,D,ba){return new Wa(c,k,D,ba)}function Xa(c){return document.createElementNS("http://www.w3.org/2000/svg",c)}function Q(c,k){var D="",ba,Aa;var Fb=0;for(ba=c.length;Fb<ba;Fb++){var Kb=c[Fb];var Wb=0;for(Aa=Kb.length;Wb<Aa;Wb++){var qc=Kb[Wb];D+=(Wb?"L":"M")+qc.x+" "+qc.y}D+=k?R?"z":"x":""}return D||"M0 0"}function x(c){return 0<=navigator.userAgent.toLowerCase().indexOf(c)}function F(c,k,D,ba){"touchstart"===k?K(c,D,ba):"touchmove"===
k?Za(c,D,ba):"touchend"===k&&S(c,D,ba);return this}function O(c,k,D){D=c["_leaflet_"+k+D];"touchstart"===k?c.removeEventListener(Oa,D,!1):"touchmove"===k?c.removeEventListener(Pb,D,!1):"touchend"===k&&(c.removeEventListener(dc,D,!1),c.removeEventListener(xc,D,!1));return this}function K(c,k,D){var ba=Y(function(Aa){Aa.MSPOINTER_TYPE_TOUCH&&Aa.pointerType===Aa.MSPOINTER_TYPE_TOUCH&&Mc(Aa);Ya(Aa,k)});c["_leaflet_touchstart"+D]=ba;c.addEventListener(Oa,ba,!1);yc||(document.addEventListener(Oa,ka,!0),
document.addEventListener(Pb,ia,!0),document.addEventListener(dc,ma,!0),document.addEventListener(xc,ma,!0),yc=!0)}function ka(c){oc[c.pointerId]=c}function ia(c){oc[c.pointerId]&&(oc[c.pointerId]=c)}function ma(c){delete oc[c.pointerId]}function Ya(c,k){c.touches=[];for(var D in oc)c.touches.push(oc[D]);c.changedTouches=[c];k(c)}function Za(c,k,D){var ba=function(Aa){Aa.pointerType===(Aa.MSPOINTER_TYPE_MOUSE||"mouse")&&0===Aa.buttons||Ya(Aa,k)};c["_leaflet_touchmove"+D]=ba;c.addEventListener(Pb,
ba,!1)}function S(c,k,D){var ba=function(Aa){Ya(Aa,k)};c["_leaflet_touchend"+D]=ba;c.addEventListener(dc,ba,!1);c.addEventListener(xc,ba,!1)}function qa(c,k,D){function ba(qc){if(Yd){if(!qc.isPrimary||"mouse"===qc.pointerType)return}else if(1<qc.touches.length)return;var Yc=Date.now(),cd=Yc-(Fb||Yc);Kb=qc.touches?qc.touches[0]:qc;Wb=0<cd&&250>=cd;Fb=Yc}function Aa(qc){if(Wb&&!Kb.cancelBubble){if(Yd){if("mouse"===qc.pointerType)return;qc={};var Yc;for(Yc in Kb){var cd=Kb[Yc];qc[Yc]=cd&&cd.bind?cd.bind(Kb):
cd}Kb=qc}Kb.type="dblclick";Kb.button=0;k(Kb);Fb=null}}var Fb,Kb,Wb=!1;c["_leaflet_"+Wc+D]=ba;c["_leaflet_"+Tc+D]=Aa;c["_leaflet_dblclick"+D]=k;c.addEventListener(Wc,ba,Ge?{passive:!1}:!1);c.addEventListener(Tc,Aa,Ge?{passive:!1}:!1);c.addEventListener("dblclick",k,!1);return this}function ta(c,k){var D=c["_leaflet_"+Tc+k],ba=c["_leaflet_dblclick"+k];c.removeEventListener(Wc,c["_leaflet_"+Wc+k],Ge?{passive:!1}:!1);c.removeEventListener(Tc,D,Ge?{passive:!1}:!1);c.removeEventListener("dblclick",ba,
!1);return this}function ha(c){return"string"===typeof c?document.getElementById(c):c}function P(c,k){var D=c.style[k]||c.currentStyle&&c.currentStyle[k];D&&"auto"!==D||!document.defaultView||(D=(c=document.defaultView.getComputedStyle(c,null))?c[k]:null);return"auto"===D?null:D}function t(c,k,D){c=document.createElement(c);c.className=k||"";D&&D.appendChild(c);return c}function u(c){var k=c.parentNode;k&&k.removeChild(c)}function l(c){for(;c.firstChild;)c.removeChild(c.firstChild)}function p(c){var k=
c.parentNode;k&&k.lastChild!==c&&k.appendChild(c)}function A(c){var k=c.parentNode;k&&k.firstChild!==c&&k.insertBefore(c,k.firstChild)}function B(c,k){if(void 0!==c.classList)return c.classList.contains(k);c=sa(c);return 0<c.length&&(new RegExp("(^|\\s)"+k+"(\\s|$)")).test(c)}function E(c,k){if(void 0!==c.classList){k=Va(k);for(var D=0,ba=k.length;D<ba;D++)c.classList.add(k[D])}else B(c,k)||(D=sa(c),aa(c,(D?D+" ":"")+k))}function z(c,k){void 0!==c.classList?c.classList.remove(k):aa(c,Ab((" "+sa(c)+
" ").replace(" "+k+" "," ")))}function aa(c,k){void 0===c.className.baseVal?c.className=k:c.className.baseVal=k}function sa(c){c.correspondingElement&&(c=c.correspondingElement);return void 0===c.className.baseVal?c.className:c.className.baseVal}function fa(c,k){if("opacity"in c.style)c.style.opacity=k;else if("filter"in c.style)a:{var D=!1;try{D=c.filters.item("DXImageTransform.Microsoft.Alpha")}catch(ba){if(1===k)break a}k=Math.round(100*k);D?(D.Enabled=100!==k,D.Opacity=k):c.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(opacity\x3d"+
k+")"}}function Na(c){for(var k=document.documentElement.style,D=0;D<c.length;D++)if(c[D]in k)return c[D];return!1}function Da(c,k,D){k=k||new xa(0,0);c.style[he]=(wd?"translate("+k.x+"px,"+k.y+"px)":"translate3d("+k.x+"px,"+k.y+"px,0)")+(D?" scale("+D+")":"")}function W(c,k){c._leaflet_pos=k;wc?Da(c,k):(c.style.left=k.x+"px",c.style.top=k.y+"px")}function na(c){return c._leaflet_pos||new xa(0,0)}function $a(){tc(window,"dragstart",Mc)}function sb(){Hc(window,"dragstart",Mc)}function Db(c){for(;-1===
c.tabIndex;)c=c.parentNode;c.style&&(Xb(),wf=c,bd=c.style.outline,c.style.outline="none",tc(window,"keydown",Xb))}function Xb(){wf&&(wf.style.outline=bd,bd=wf=void 0,Hc(window,"keydown",Xb))}function vc(c){do c=c.parentNode;while(!(c.offsetWidth&&c.offsetHeight||c===document.body));return c}function Vc(c){var k=c.getBoundingClientRect();return{x:k.width/c.offsetWidth||1,y:k.height/c.offsetHeight||1,boundingClientRect:k}}function tc(c,k,D,ba){if("object"===typeof k)for(var Aa in k)ec(c,Aa,k[Aa],D);
else{k=Va(k);Aa=0;for(var Fb=k.length;Aa<Fb;Aa++)ec(c,k[Aa],D,ba)}return this}function Hc(c,k,D,ba){if("object"===typeof k)for(var Aa in k)cc(c,Aa,k[Aa],D);else if(k){k=Va(k);Aa=0;for(var Fb=k.length;Aa<Fb;Aa++)cc(c,k[Aa],D,ba)}else{for(Fb in c[ue])cc(c,Fb,c[ue][Fb]);delete c[ue]}return this}function Ma(){if(Yd)return!(Jd||xd)}function ec(c,k,D,ba){var Aa=k+Qa(D)+(ba?"_"+Qa(ba):"");if(c[ue]&&c[ue][Aa])return this;var Fb=function(Wb){return D.call(ba||c,Wb||window.event)},Kb=Fb;Yd&&0===k.indexOf("touch")?
F(c,k,Fb,Aa):se&&"dblclick"===k&&!Ma()?qa(c,Fb,Aa):"addEventListener"in c?"touchstart"===k||"touchmove"===k||"wheel"===k||"mousewheel"===k?c.addEventListener(De[k]||k,Fb,Ge?{passive:!1}:!1):"mouseenter"===k||"mouseleave"===k?(Fb=function(Wb){Wb=Wb||window.event;ed(c,Wb)&&Kb(Wb)},c.addEventListener(De[k],Fb,!1)):c.addEventListener(k,Kb,!1):"attachEvent"in c&&c.attachEvent("on"+k,Fb);c[ue]=c[ue]||{};c[ue][Aa]=Fb}function cc(c,k,D,ba){D=k+Qa(D)+(ba?"_"+Qa(ba):"");ba=c[ue]&&c[ue][D];if(!ba)return this;
Yd&&0===k.indexOf("touch")?O(c,k,D):se&&"dblclick"===k&&!Ma()?ta(c,D):"removeEventListener"in c?c.removeEventListener(De[k]||k,ba,!1):"detachEvent"in c&&c.detachEvent("on"+k,ba);c[ue][D]=null}function nc(c){c.stopPropagation?c.stopPropagation():c.originalEvent?c.originalEvent._stopped=!0:c.cancelBubble=!0;Zc(c);return this}function Ec(c){ec(c,"wheel",nc);return this}function jc(c){tc(c,"mousedown touchstart dblclick",nc);ec(c,"click",ce);return this}function Mc(c){c.preventDefault?c.preventDefault():
c.returnValue=!1;return this}function Rc(c){Mc(c);nc(c);return this}function Nc(c,k){if(!k)return new xa(c.clientX,c.clientY);var D=Vc(k),ba=D.boundingClientRect;return new xa((c.clientX-ba.left)/D.x-k.clientLeft,(c.clientY-ba.top)/D.y-k.clientTop)}function ud(c){return Jd?c.wheelDeltaY/2:c.deltaY&&0===c.deltaMode?-c.deltaY/vf:c.deltaY&&1===c.deltaMode?20*-c.deltaY:c.deltaY&&2===c.deltaMode?60*-c.deltaY:c.deltaX||c.deltaZ?0:c.wheelDelta?(c.wheelDeltaY||c.wheelDelta)/2:c.detail&&32765>Math.abs(c.detail)?
20*-c.detail:c.detail?c.detail/-32765*60:0}function ce(c){nf[c.type]=!0}function Zc(c){var k=nf[c.type];nf[c.type]=!1;return k}function ed(c,k){k=k.relatedTarget;if(!k)return!0;try{for(;k&&k!==c;)k=k.parentNode}catch(D){return!1}return k!==c}function Pd(c,k){if(!k||!c.length)return c.slice();k*=k;for(var D=[c[0]],ba=1,Aa=0,Fb=c.length;ba<Fb;ba++){var Kb=c[ba],Wb=c[Aa],qc=Wb.x-Kb.x;Kb=Wb.y-Kb.y;qc*qc+Kb*Kb>k&&(D.push(c[ba]),Aa=ba)}Aa<Fb-1&&D.push(c[Fb-1]);c=D;D=c.length;ba=new ("undefined"!==typeof Uint8Array?
Uint8Array:Array)(D);ba[0]=ba[D-1]=1;qb(c,ba,k,0,D-1);Aa=[];for(k=0;k<D;k++)ba[k]&&Aa.push(c[k]);return Aa}function Ha(c,k,D){return Math.sqrt(Nd(c,k,D,!0))}function qb(c,k,D,ba,Aa){var Fb=0,Kb;for(Kb=ba+1;Kb<=Aa-1;Kb++){var Wb=Nd(c[Kb],c[ba],c[Aa],!0);if(Wb>Fb){var qc=Kb;Fb=Wb}}Fb>D&&(k[qc]=1,qb(c,k,D,ba,qc),qb(c,k,D,qc,Aa))}function Sb(c,k,D,ba,Aa){ba=ba?pd:nd(c,D);var Fb=nd(k,D);for(pd=Fb;;){if(!(ba|Fb))return[c,k];if(ba&Fb)return!1;var Kb=ba||Fb;var Wb=dd(c,k,Kb,D,Aa);var qc=nd(Wb,D);Kb===ba?
(c=Wb,ba=qc):(k=Wb,Fb=qc)}}function dd(c,k,D,ba,Aa){var Fb=k.x-c.x;k=k.y-c.y;var Kb=ba.min;ba=ba.max;if(D&8){var Wb=c.x+Fb*(ba.y-c.y)/k;var qc=ba.y}else D&4?(Wb=c.x+Fb*(Kb.y-c.y)/k,qc=Kb.y):D&2?(Wb=ba.x,qc=c.y+k*(ba.x-c.x)/Fb):D&1&&(Wb=Kb.x,qc=c.y+k*(Kb.x-c.x)/Fb);return new xa(Wb,qc,Aa)}function nd(c,k){var D=0;c.x<k.min.x?D|=1:c.x>k.max.x&&(D|=2);c.y<k.min.y?D|=4:c.y>k.max.y&&(D|=8);return D}function Nd(c,k,D,ba){var Aa=k.x;k=k.y;var Fb=D.x-Aa,Kb=D.y-k,Wb=Fb*Fb+Kb*Kb;0<Wb&&(Wb=((c.x-Aa)*Fb+(c.y-
k)*Kb)/Wb,1<Wb?(Aa=D.x,k=D.y):0<Wb&&(Aa+=Fb*Wb,k+=Kb*Wb));Fb=c.x-Aa;Kb=c.y-k;return ba?Fb*Fb+Kb*Kb:new xa(Aa,k)}function Wd(c){return!sc(c[0])||"object"!==typeof c[0][0]&&"undefined"!==typeof c[0][0]}function U(c){console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead.");return Wd(c)}function va(c,k,D){var ba=[1,4,2,8],Aa,Fb,Kb;var Wb=0;for(Kb=c.length;Wb<Kb;Wb++)c[Wb]._code=nd(c[Wb],k);for(Fb=0;4>Fb;Fb++){var qc=ba[Fb];var Yc=[];Wb=0;Kb=c.length;for(Aa=Kb-1;Wb<Kb;Aa=Wb++){var cd=
c[Wb];Aa=c[Aa];cd._code&qc?Aa._code&qc||(Aa=dd(Aa,cd,qc,k,D),Aa._code=nd(Aa,k),Yc.push(Aa)):(Aa._code&qc&&(Aa=dd(Aa,cd,qc,k,D),Aa._code=nd(Aa,k),Yc.push(Aa)),Yc.push(cd))}c=Yc}return c}function ab(c,k){var D="Feature"===c.type?c.geometry:c,ba=D?D.coordinates:null,Aa=[],Fb=k&&k.pointToLayer,Kb=k&&k.coordsToLatLng||Rb,Wb;if(!ba&&!D)return null;switch(D.type){case "Point":return D=Kb(ba),xb(Fb,c,D,k);case "MultiPoint":var qc=0;for(Wb=ba.length;qc<Wb;qc++)D=Kb(ba[qc]),Aa.push(xb(Fb,c,D,k));return new He(Aa);
case "LineString":case "MultiLineString":return c=zb(ba,"LineString"===D.type?0:1,Kb),new Ta(c,k);case "Polygon":case "MultiPolygon":return c=zb(ba,"Polygon"===D.type?1:2,Kb),new ob(c,k);case "GeometryCollection":qc=0;for(Wb=D.geometries.length;qc<Wb;qc++)(ba=ab({geometry:D.geometries[qc],type:"Feature",properties:c.properties},k))&&Aa.push(ba);return new He(Aa);default:throw Error("Invalid GeoJSON object.");}}function xb(c,k,D,ba){return c?c(k,D):new V(D,ba&&ba.markersInheritOptions&&ba)}function Rb(c){return new Ra(c[1],
c[0],c[2])}function zb(c,k,D){for(var ba=[],Aa=0,Fb=c.length,Kb;Aa<Fb;Aa++)Kb=k?zb(c[Aa],k-1,D):(D||Rb)(c[Aa]),ba.push(Kb);return ba}function kc(c,k){k="number"===typeof k?k:6;return void 0!==c.alt?[Ib(c.lng,k),Ib(c.lat,k),Ib(c.alt,k)]:[Ib(c.lng,k),Ib(c.lat,k)]}function bc(c,k,D,ba){for(var Aa=[],Fb=0,Kb=c.length;Fb<Kb;Fb++)Aa.push(k?bc(c[Fb],k-1,D,ba):kc(c[Fb],ba));!k&&D&&Aa.push(Aa[0]);return Aa}function Ia(c,k){return c.feature?v({},c.feature,{geometry:k}):lb(k)}function lb(c){return"Feature"===
c.type||"FeatureCollection"===c.type?c:{type:"Feature",properties:{},geometry:c}}function Eb(c,k){return new hb(c,k)}function Zb(c,k){return new Cb(c,k)}function lc(c){return I?new rc(c):null}function uc(c){return R||ra?new yd(c):null}var Cc=Object.create||function(){function c(){}return function(k){c.prototype=k;return new c}}(),Bb=0,pc=/\{ *([\w_-]+) *\}/g,sc=Array.isArray||function(c){return"[object Array]"===Object.prototype.toString.call(c)},mc=0,Bc=window.requestAnimationFrame||Ca("RequestAnimationFrame")||
Sa,Oc=window.cancelAnimationFrame||Ca("CancelAnimationFrame")||Ca("CancelRequestAnimationFrame")||function(c){window.clearTimeout(c)},Kc={extend:v,create:Cc,bind:Y,lastId:Bb,stamp:Qa,throttle:Qb,wrapNum:db,falseFn:pb,formatNum:Ib,trim:Ab,splitWords:Va,setOptions:nb,getParamString:mb,template:Pa,isArray:sc,indexOf:Ba,emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs\x3d",requestFn:Bc,cancelFn:Oc,requestAnimFrame:kb,cancelAnimFrame:za};Ea.extend=function(c){var k=function(){this.initialize&&
this.initialize.apply(this,arguments);this.callInitHooks()},D=k.__super__=this.prototype,ba=Cc(D);ba.constructor=k;k.prototype=ba;for(var Aa in this)Object.prototype.hasOwnProperty.call(this,Aa)&&"prototype"!==Aa&&"__super__"!==Aa&&(k[Aa]=this[Aa]);c.statics&&(v(k,c.statics),delete c.statics);c.includes&&(gb(c.includes),v.apply(null,[ba].concat(c.includes)),delete c.includes);ba.options&&(c.options=v(Cc(ba.options),c.options));v(ba,c);ba._initHooks=[];ba.callInitHooks=function(){if(!this._initHooksCalled){D.callInitHooks&&
D.callInitHooks.call(this);this._initHooksCalled=!0;for(var Fb=0,Kb=ba._initHooks.length;Fb<Kb;Fb++)ba._initHooks[Fb].call(this)}};return k};Ea.include=function(c){v(this.prototype,c);return this};Ea.mergeOptions=function(c){v(this.prototype.options,c);return this};Ea.addInitHook=function(c){var k=Array.prototype.slice.call(arguments,1);this.prototype._initHooks=this.prototype._initHooks||[];this.prototype._initHooks.push("function"===typeof c?c:function(){this[c].apply(this,k)});return this};var ad=
{on:function(c,k,D){if("object"===typeof c)for(var ba in c)this._on(ba,c[ba],k);else{c=Va(c);ba=0;for(var Aa=c.length;ba<Aa;ba++)this._on(c[ba],k,D)}return this},off:function(c,k,D){if(c)if("object"===typeof c)for(var ba in c)this._off(ba,c[ba],k);else{c=Va(c);ba=0;for(var Aa=c.length;ba<Aa;ba++)this._off(c[ba],k,D)}else delete this._events;return this},_on:function(c,k,D){this._events=this._events||{};var ba=this._events[c];ba||(ba=[],this._events[c]=ba);D===this&&(D=void 0);c={fn:k,ctx:D};for(var Aa=
0,Fb=ba.length;Aa<Fb;Aa++)if(ba[Aa].fn===k&&ba[Aa].ctx===D)return;ba.push(c)},_off:function(c,k,D){var ba,Aa;if(this._events&&(ba=this._events[c]))if(k){if(D===this&&(D=void 0),ba){var Fb=0;for(Aa=ba.length;Fb<Aa;Fb++){var Kb=ba[Fb];if(Kb.ctx===D&&Kb.fn===k){Kb.fn=pb;this._firingCount&&(this._events[c]=ba=ba.slice());ba.splice(Fb,1);break}}}}else{Fb=0;for(Aa=ba.length;Fb<Aa;Fb++)ba[Fb].fn=pb;delete this._events[c]}},fire:function(c,k,D){if(!this.listens(c,D))return this;k=v({},k,{type:c,target:this,
sourceTarget:k&&k.sourceTarget||this});if(this._events&&(c=this._events[c])){this._firingCount=this._firingCount+1||1;for(var ba=0,Aa=c.length;ba<Aa;ba++){var Fb=c[ba];Fb.fn.call(Fb.ctx||this,k)}this._firingCount--}D&&this._propagateEvent(k);return this},listens:function(c,k){var D=this._events&&this._events[c];if(D&&D.length)return!0;if(k)for(var ba in this._eventParents)if(this._eventParents[ba].listens(c,k))return!0;return!1},once:function(c,k,D){if("object"===typeof c){for(var ba in c)this.once(ba,
c[ba],k);return this}var Aa=Y(function(){this.off(c,k,D).off(c,Aa,D)},this);return this.on(c,k,D).on(c,Aa,D)},addEventParent:function(c){this._eventParents=this._eventParents||{};this._eventParents[Qa(c)]=c;return this},removeEventParent:function(c){this._eventParents&&delete this._eventParents[Qa(c)];return this},_propagateEvent:function(c){for(var k in this._eventParents)this._eventParents[k].fire(c.type,v({layer:c.target,propagatedFrom:c.target},c),!0)}};ad.addEventListener=ad.on;ad.removeEventListener=
ad.clearAllEventListeners=ad.off;ad.addOneTimeEventListener=ad.once;ad.fireEvent=ad.fire;ad.hasEventListeners=ad.listens;var id=Ea.extend(ad),td=Math.trunc||function(c){return 0<c?Math.floor(c):Math.ceil(c)};xa.prototype={clone:function(){return new xa(this.x,this.y)},add:function(c){return this.clone()._add(Ua(c))},_add:function(c){this.x+=c.x;this.y+=c.y;return this},subtract:function(c){return this.clone()._subtract(Ua(c))},_subtract:function(c){this.x-=c.x;this.y-=c.y;return this},divideBy:function(c){return this.clone()._divideBy(c)},
_divideBy:function(c){this.x/=c;this.y/=c;return this},multiplyBy:function(c){return this.clone()._multiplyBy(c)},_multiplyBy:function(c){this.x*=c;this.y*=c;return this},scaleBy:function(c){return new xa(this.x*c.x,this.y*c.y)},unscaleBy:function(c){return new xa(this.x/c.x,this.y/c.y)},round:function(){return this.clone()._round()},_round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},floor:function(){return this.clone()._floor()},_floor:function(){this.x=Math.floor(this.x);
this.y=Math.floor(this.y);return this},ceil:function(){return this.clone()._ceil()},_ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},trunc:function(){return this.clone()._trunc()},_trunc:function(){this.x=td(this.x);this.y=td(this.y);return this},distanceTo:function(c){c=Ua(c);var k=c.x-this.x;c=c.y-this.y;return Math.sqrt(k*k+c*c)},equals:function(c){c=Ua(c);return c.x===this.x&&c.y===this.y},contains:function(c){c=Ua(c);return Math.abs(c.x)<=Math.abs(this.x)&&Math.abs(c.y)<=
Math.abs(this.y)},toString:function(){return"Point("+Ib(this.x)+", "+Ib(this.y)+")"}};Ja.prototype={extend:function(c){c=Ua(c);this.min||this.max?(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)):(this.min=c.clone(),this.max=c.clone());return this},getCenter:function(c){return new xa((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,c)},getBottomLeft:function(){return new xa(this.min.x,this.max.y)},getTopRight:function(){return new xa(this.max.x,
this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(c){c="number"===typeof c[0]||c instanceof xa?Ua(c):da(c);if(c instanceof Ja){var k=c.min;c=c.max}else k=c;return k.x>=this.min.x&&c.x<=this.max.x&&k.y>=this.min.y&&c.y<=this.max.y},intersects:function(c){c=da(c);var k=this.min,D=this.max,ba=c.min;c=c.max;var Aa=c.y>=k.y&&ba.y<=D.y;return c.x>=k.x&&ba.x<=D.x&&Aa},overlaps:function(c){c=
da(c);var k=this.min,D=this.max,ba=c.min;c=c.max;var Aa=c.y>k.y&&ba.y<D.y;return c.x>k.x&&ba.x<D.x&&Aa},isValid:function(){return!(!this.min||!this.max)}};wa.prototype={extend:function(c){var k=this._southWest,D=this._northEast;if(c instanceof Ra)var ba=c;else if(c instanceof wa){if(ba=c._southWest,c=c._northEast,!ba||!c)return this}else return c?this.extend(fb(c)||La(c)):this;k||D?(k.lat=Math.min(ba.lat,k.lat),k.lng=Math.min(ba.lng,k.lng),D.lat=Math.max(c.lat,D.lat),D.lng=Math.max(c.lng,D.lng)):
(this._southWest=new Ra(ba.lat,ba.lng),this._northEast=new Ra(c.lat,c.lng));return this},pad:function(c){var k=this._southWest,D=this._northEast,ba=Math.abs(k.lat-D.lat)*c;c*=Math.abs(k.lng-D.lng);return new wa(new Ra(k.lat-ba,k.lng-c),new Ra(D.lat+ba,D.lng+c))},getCenter:function(){return new Ra((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ra(this.getNorth(),
this.getWest())},getSouthEast:function(){return new Ra(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(c){c="number"===typeof c[0]||c instanceof Ra||"lat"in c?fb(c):La(c);var k=this._southWest,D=this._northEast;if(c instanceof wa){var ba=c.getSouthWest();c=c.getNorthEast()}else ba=c;return ba.lat>=k.lat&&c.lat<=
D.lat&&ba.lng>=k.lng&&c.lng<=D.lng},intersects:function(c){c=La(c);var k=this._southWest,D=this._northEast,ba=c.getSouthWest();c=c.getNorthEast();var Aa=c.lng>=k.lng&&ba.lng<=D.lng;return c.lat>=k.lat&&ba.lat<=D.lat&&Aa},overlaps:function(c){c=La(c);var k=this._southWest,D=this._northEast,ba=c.getSouthWest();c=c.getNorthEast();var Aa=c.lng>k.lng&&ba.lng<D.lng;return c.lat>k.lat&&ba.lat<D.lat&&Aa},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join()},
equals:function(c,k){if(!c)return!1;c=La(c);return this._southWest.equals(c.getSouthWest(),k)&&this._northEast.equals(c.getNorthEast(),k)},isValid:function(){return!(!this._southWest||!this._northEast)}};Ra.prototype={equals:function(c,k){if(!c)return!1;c=fb(c);return Math.max(Math.abs(this.lat-c.lat),Math.abs(this.lng-c.lng))<=(void 0===k?1E-9:k)},toString:function(c){return"LatLng("+Ib(this.lat,c)+", "+Ib(this.lng,c)+")"},distanceTo:function(c){return Fd.distance(this,fb(c))},wrap:function(){return Fd.wrapLatLng(this)},
toBounds:function(c){c=180*c/40075017;var k=c/Math.cos(Math.PI/180*this.lat);return La([this.lat-c,this.lng-k],[this.lat+c,this.lng+k])},clone:function(){return new Ra(this.lat,this.lng,this.alt)}};var qd={latLngToPoint:function(c,k){c=this.projection.project(c);k=this.scale(k);return this.transformation._transform(c,k)},pointToLatLng:function(c,k){k=this.scale(k);c=this.transformation.untransform(c,k);return this.projection.unproject(c)},project:function(c){return this.projection.project(c)},unproject:function(c){return this.projection.unproject(c)},
scale:function(c){return 256*Math.pow(2,c)},zoom:function(c){return Math.log(c/256)/Math.LN2},getProjectedBounds:function(c){if(this.infinite)return null;var k=this.projection.bounds,D=this.scale(c);c=this.transformation.transform(k.min,D);k=this.transformation.transform(k.max,D);return new Ja(c,k)},infinite:!1,wrapLatLng:function(c){var k=this.wrapLng?db(c.lng,this.wrapLng,!0):c.lng,D=this.wrapLat?db(c.lat,this.wrapLat,!0):c.lat;return new Ra(D,k,c.alt)},wrapLatLngBounds:function(c){var k=c.getCenter(),
D=this.wrapLatLng(k),ba=k.lat-D.lat;k=k.lng-D.lng;if(0===ba&&0===k)return c;D=c.getSouthWest();c=c.getNorthEast();D=new Ra(D.lat-ba,D.lng-k);ba=new Ra(c.lat-ba,c.lng-k);return new wa(D,ba)}},Fd=v({},qd,{wrapLng:[-180,180],R:6371E3,distance:function(c,k){var D=Math.PI/180,ba=Math.sin((k.lat-c.lat)*D/2),Aa=Math.sin((k.lng-c.lng)*D/2);c=ba*ba+Math.cos(c.lat*D)*Math.cos(k.lat*D)*Aa*Aa;return 2*this.R*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))}}),Ud={R:6378137,MAX_LATITUDE:85.0511287798,project:function(c){var k=
Math.PI/180,D=this.MAX_LATITUDE;D=Math.sin(Math.max(Math.min(D,c.lat),-D)*k);return new xa(this.R*c.lng*k,this.R*Math.log((1+D)/(1-D))/2)},unproject:function(c){var k=180/Math.PI;return new Ra((2*Math.atan(Math.exp(c.y/this.R))-Math.PI/2)*k,c.x*k/this.R)},bounds:function(){var c=6378137*Math.PI;return new Ja([-c,-c],[c,c])}()};Wa.prototype={transform:function(c,k){return this._transform(c.clone(),k)},_transform:function(c,k){k=k||1;c.x=k*(this._a*c.x+this._b);c.y=k*(this._c*c.y+this._d);return c},
untransform:function(c,k){k=k||1;return new xa((c.x/k-this._b)/this._a,(c.y/k-this._d)/this._c)}};var ee=v({},Fd,{code:"EPSG:3857",projection:Ud,transformation:function(){var c=.5/(Math.PI*Ud.R);return jb(c,.5,-c,.5)}()}),we=v({},ee,{code:"EPSG:900913"}),re=document.documentElement.style,te="ActiveXObject"in window,rd=te&&!document.addEventListener,Jd="msLaunchUri"in navigator&&!("documentMode"in document),Me=x("webkit"),qe=x("android"),bf=x("android 2")||x("android 3"),Hd=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],
10),fe=qe&&x("Google")&&537>Hd&&!("AudioNode"in window),Ce=!!window.opera,Xd=!Jd&&x("chrome"),md=x("gecko")&&!Me&&!Ce&&!te,xd=!Xd&&x("safari"),Ld=x("phantom"),ff="OTransition"in re,ne=0===navigator.platform.indexOf("Win"),wd=te&&"transition"in re,Ae="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!bf,cf="MozPerspective"in re,wc=!window.L_DISABLE_3D&&(wd||Ae||cf)&&!ff&&!Ld,pe="undefined"!==typeof orientation||x("mobile"),Vd=pe&&Me,Ub=pe&&Ae,oe=!window.PointerEvent&&window.MSPointerEvent,
Yd=!(!window.PointerEvent&&!oe),se=!window.L_NO_TOUCH&&(Yd||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),df=pe&&Ce,Re=pe&&md,Ve=1<(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI),Ge=function(){var c=!1;try{var k=Object.defineProperty({},"passive",{get:function(){c=!0}});window.addEventListener("testPassiveEventSupport",pb,k);window.removeEventListener("testPassiveEventSupport",pb,k)}catch(D){}return c}(),I=!!document.createElement("canvas").getContext,
R=!(!document.createElementNS||!Xa("svg").createSVGRect),ra=!R&&function(){try{var c=document.createElement("div");c.innerHTML='\x3cv:shape adj\x3d"1"/\x3e';var k=c.firstChild;k.style.behavior="url(#default#VML)";return k&&"object"===typeof k.adj}catch(D){return!1}}(),Fa={ie:te,ielt9:rd,edge:Jd,webkit:Me,android:qe,android23:bf,androidStock:fe,opera:Ce,chrome:Xd,gecko:md,safari:xd,phantom:Ld,opera12:ff,win:ne,ie3d:wd,webkit3d:Ae,gecko3d:cf,any3d:wc,mobile:pe,mobileWebkit:Vd,mobileWebkit3d:Ub,msPointer:oe,
pointer:Yd,touch:se,mobileOpera:df,mobileGecko:Re,retina:Ve,passiveEvents:Ge,canvas:I,svg:R,vml:ra},Oa=oe?"MSPointerDown":"pointerdown",Pb=oe?"MSPointerMove":"pointermove",dc=oe?"MSPointerUp":"pointerup",xc=oe?"MSPointerCancel":"pointercancel",oc={},yc=!1,Wc=oe?"MSPointerDown":Yd?"pointerdown":"touchstart",Tc=oe?"MSPointerUp":Yd?"pointerup":"touchend",he=Na(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),od=Na(["webkitTransition","transition","OTransition","MozTransition",
"msTransition"]),jd="webkitTransition"===od||"OTransition"===od?od+"End":"transitionend",Zd;if("onselectstart"in document){var ye=function(){tc(window,"selectstart",Mc)};var ve=function(){Hc(window,"selectstart",Mc)}}else{var We=Na(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ye=function(){if(We){var c=document.documentElement.style;Zd=c[We];c[We]="none"}};ve=function(){We&&(document.documentElement.style[We]=Zd,Zd=void 0)}}var wf,bd,Be={TRANSFORM:he,TRANSITION:od,
TRANSITION_END:jd,get:ha,getStyle:P,create:t,remove:u,empty:l,toFront:p,toBack:A,hasClass:B,addClass:E,removeClass:z,setClass:aa,getClass:sa,setOpacity:fa,testProp:Na,setTransform:Da,setPosition:W,getPosition:na,disableTextSelection:ye,enableTextSelection:ve,disableImageDrag:$a,enableImageDrag:sb,preventOutline:Db,restoreOutline:Xb,getSizedParentNode:vc,getScale:Vc},ue="_leaflet_events",De={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"},vf=ne&&Xd?2*window.devicePixelRatio:
md?window.devicePixelRatio:1,nf={},Cf={on:tc,off:Hc,stopPropagation:nc,disableScrollPropagation:Ec,disableClickPropagation:jc,preventDefault:Mc,stop:Rc,getMousePosition:Nc,getWheelDelta:ud,fakeStop:ce,skipped:Zc,isExternalTarget:ed,addListener:tc,removeListener:Hc},Ne=id.extend({run:function(c,k,D,ba){this.stop();this._el=c;this._inProgress=!0;this._duration=D||.25;this._easeOutPower=1/Math.max(ba||.5,.2);this._startPos=na(c);this._offset=k.subtract(this._startPos);this._startTime=+new Date;this.fire("start");
this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=kb(this._animate,this);this._step()},_step:function(c){var k=+new Date-this._startTime,D=1E3*this._duration;k<D?this._runFrame(this._easeOut(k/D),c):(this._runFrame(1),this._complete())},_runFrame:function(c,k){c=this._startPos.add(this._offset.multiplyBy(c));k&&c._round();W(this._el,c);this.fire("step")},_complete:function(){za(this._animId);this._inProgress=!1;this.fire("end")},
_easeOut:function(c){return 1-Math.pow(1-c,this._easeOutPower)}}),H=id.extend({options:{crs:ee,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(c,k){k=nb(this,k);this._handlers=[];this._layers={};this._zoomBoundLayers={};this._sizeChanged=!0;this._initContainer(c);this._initLayout();this._onResize=
Y(this._onResize,this);this._initEvents();k.maxBounds&&this.setMaxBounds(k.maxBounds);void 0!==k.zoom&&(this._zoom=this._limitZoom(k.zoom));k.center&&void 0!==k.zoom&&this.setView(fb(k.center),k.zoom,{reset:!0});this.callInitHooks();if(this._zoomAnimated=od&&wc&&!df&&this.options.zoomAnimation)this._createAnimProxy(),tc(this._proxy,jd,this._catchTransitionEnd,this);this._addLayers(this.options.layers)},setView:function(c,k,D){k=void 0===k?this._zoom:this._limitZoom(k);c=this._limitCenter(fb(c),k,
this.options.maxBounds);D=D||{};this._stop();if(this._loaded&&!D.reset&&!0!==D&&(void 0!==D.animate&&(D.zoom=v({animate:D.animate},D.zoom),D.pan=v({animate:D.animate,duration:D.duration},D.pan)),this._zoom!==k?this._tryAnimatedZoom&&this._tryAnimatedZoom(c,k,D.zoom):this._tryAnimatedPan(c,D.pan)))return clearTimeout(this._sizeTimer),this;this._resetView(c,k);return this},setZoom:function(c,k){return this._loaded?this.setView(this.getCenter(),c,{zoom:k}):(this._zoom=c,this)},zoomIn:function(c,k){c=
c||(wc?this.options.zoomDelta:1);return this.setZoom(this._zoom+c,k)},zoomOut:function(c,k){c=c||(wc?this.options.zoomDelta:1);return this.setZoom(this._zoom-c,k)},setZoomAround:function(c,k,D){var ba=this.getZoomScale(k),Aa=this.getSize().divideBy(2);c=(c instanceof xa?c:this.latLngToContainerPoint(c)).subtract(Aa).multiplyBy(1-1/ba);Aa=this.containerPointToLatLng(Aa.add(c));return this.setView(Aa,k,{zoom:D})},_getBoundsCenterZoom:function(c,k){k=k||{};c=c.getBounds?c.getBounds():La(c);var D=Ua(k.paddingTopLeft||
k.padding||[0,0]),ba=Ua(k.paddingBottomRight||k.padding||[0,0]),Aa=this.getBoundsZoom(c,!1,D.add(ba));Aa="number"===typeof k.maxZoom?Math.min(k.maxZoom,Aa):Aa;if(Infinity===Aa)return{center:c.getCenter(),zoom:Aa};k=ba.subtract(D).divideBy(2);D=this.project(c.getSouthWest(),Aa);c=this.project(c.getNorthEast(),Aa);return{center:this.unproject(D.add(c).divideBy(2).add(k),Aa),zoom:Aa}},fitBounds:function(c,k){c=La(c);if(!c.isValid())throw Error("Bounds are not valid.");c=this._getBoundsCenterZoom(c,k);
return this.setView(c.center,c.zoom,k)},fitWorld:function(c){return this.fitBounds([[-90,-180],[90,180]],c)},panTo:function(c,k){return this.setView(c,this._zoom,{pan:k})},panBy:function(c,k){c=Ua(c).round();k=k||{};if(!c.x&&!c.y)return this.fire("moveend");if(!0!==k.animate&&!this.getSize().contains(c))return this._resetView(this.unproject(this.project(this.getCenter()).add(c)),this.getZoom()),this;this._panAnim||(this._panAnim=new Ne,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},
this));k.noMoveStart||this.fire("movestart");!1!==k.animate?(E(this._mapPane,"leaflet-pan-anim"),c=this._getMapPanePos().subtract(c).round(),this._panAnim.run(this._mapPane,c,k.duration||.25,k.easeLinearity)):(this._rawPanBy(c),this.fire("move").fire("moveend"));return this},flyTo:function(c,k,D){function ba($d){$d=(Td*Td-Md*Md+2.0164*($d?-1:1)*2.0164*vd*vd)/(4.0328*($d?Td:Md)*vd);$d=Math.sqrt($d*$d+1)-$d;return 1E-9>$d?-18:Math.log($d)}function Aa($d){return(Math.exp($d)+Math.exp(-$d))/2}function Fb($d){return Md*
(Aa($c)/Aa($c+1.42*$d))}function Kb($d){var ze=Aa($c);$d=$c+1.42*$d;$d=(Math.exp($d)-Math.exp(-$d))/2/Aa($d);return Md*(ze*$d-(Math.exp($c)-Math.exp(-$c))/2)/2.0164}function Wb(){var $d=(Date.now()-Id)/Te,ze=(1-Math.pow(1-$d,1.5))*Fe;1>=$d?(this._flyToFrame=kb(Wb,this),this._move(this.unproject(qc.add(Yc.subtract(qc).multiplyBy(Kb(ze)/vd)),Rd),this.getScaleZoom(Md/Fb(ze),Rd),{flyTo:!0})):this._move(c,k)._moveEnd(!0)}D=D||{};if(!1===D.animate||!wc)return this.setView(c,k,D);this._stop();var qc=this.project(this.getCenter()),
Yc=this.project(c),cd=this.getSize(),Rd=this._zoom;c=fb(c);k=void 0===k?Rd:k;var Md=Math.max(cd.x,cd.y),Td=Md*this.getZoomScale(Rd,k),vd=Yc.distanceTo(qc)||1,$c=ba(0),Id=Date.now(),Fe=(ba(1)-$c)/1.42,Te=D.duration?1E3*D.duration:800*Fe;this._moveStart(!0,D.noMoveStart);Wb.call(this);return this},flyToBounds:function(c,k){c=this._getBoundsCenterZoom(c,k);return this.flyTo(c.center,c.zoom,k)},setMaxBounds:function(c){c=La(c);if(c.isValid())this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds);
else return this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds);this.options.maxBounds=c;this._loaded&&this._panInsideMaxBounds();return this.on("moveend",this._panInsideMaxBounds)},setMinZoom:function(c){var k=this.options.minZoom;this.options.minZoom=c;return this._loaded&&k!==c&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(c):this},setMaxZoom:function(c){var k=this.options.maxZoom;this.options.maxZoom=c;return this._loaded&&k!==c&&(this.fire("zoomlevelschange"),
this.getZoom()>this.options.maxZoom)?this.setZoom(c):this},panInsideBounds:function(c,k){this._enforcingBounds=!0;var D=this.getCenter();c=this._limitCenter(D,this._zoom,La(c));D.equals(c)||this.panTo(c,k);this._enforcingBounds=!1;return this},panInside:function(c,k){k=k||{};var D=Ua(k.paddingTopLeft||k.padding||[0,0]),ba=Ua(k.paddingBottomRight||k.padding||[0,0]),Aa=this.getCenter();Aa=this.project(Aa);c=this.project(c);var Fb=this.getPixelBounds(),Kb=Fb.getSize().divideBy(2);Fb=da([Fb.min.add(D),
Fb.max.subtract(ba)]);if(!Fb.contains(c)){this._enforcingBounds=!0;var Wb=Aa.subtract(c),qc=Ua(c.x+Wb.x,c.y+Wb.y);if(c.x<Fb.min.x||c.x>Fb.max.x)qc.x=Aa.x-Wb.x,qc.x=0<Wb.x?qc.x+(Kb.x-D.x):qc.x-(Kb.x-ba.x);if(c.y<Fb.min.y||c.y>Fb.max.y)qc.y=Aa.y-Wb.y,qc.y=0<Wb.y?qc.y+(Kb.y-D.y):qc.y-(Kb.y-ba.y);this.panTo(this.unproject(qc),k);this._enforcingBounds=!1}return this},invalidateSize:function(c){if(!this._loaded)return this;c=v({animate:!1,pan:!0},!0===c?{animate:!0}:c);var k=this.getSize();this._sizeChanged=
!0;this._lastCenter=null;var D=this.getSize(),ba=k.divideBy(2).round(),Aa=D.divideBy(2).round();ba=ba.subtract(Aa);if(!ba.x&&!ba.y)return this;c.animate&&c.pan?this.panBy(ba):(c.pan&&this._rawPanBy(ba),this.fire("move"),c.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(Y(this.fire,this,"moveend"),200)):this.fire("moveend"));return this.fire("resize",{oldSize:k,newSize:D})},stop:function(){this.setZoom(this._limitZoom(this._zoom));this.options.zoomSnap||this.fire("viewreset");
return this._stop()},locate:function(c){c=this._locateOptions=v({timeout:1E4,watch:!1},c);if(!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var k=Y(this._handleGeolocationResponse,this),D=Y(this._handleGeolocationError,this);c.watch?this._locationWatchId=navigator.geolocation.watchPosition(k,D,c):navigator.geolocation.getCurrentPosition(k,D,c);return this},stopLocate:function(){navigator.geolocation&&navigator.geolocation.clearWatch&&
navigator.geolocation.clearWatch(this._locationWatchId);this._locateOptions&&(this._locateOptions.setView=!1);return this},_handleGeolocationError:function(c){var k=c.code;c=c.message||(1===k?"permission denied":2===k?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld();this.fire("locationerror",{code:k,message:"Geolocation error: "+c+"."})},_handleGeolocationResponse:function(c){var k=new Ra(c.coords.latitude,c.coords.longitude),D=k.toBounds(2*c.coords.accuracy),
ba=this._locateOptions;if(ba.setView){var Aa=this.getBoundsZoom(D);this.setView(k,ba.maxZoom?Math.min(Aa,ba.maxZoom):Aa)}k={latlng:k,bounds:D,timestamp:c.timestamp};for(var Fb in c.coords)"number"===typeof c.coords[Fb]&&(k[Fb]=c.coords[Fb]);this.fire("locationfound",k)},addHandler:function(c,k){if(!k)return this;k=this[c]=new k(this);this._handlers.push(k);this.options[c]&&k.enable();return this},remove:function(){this._initEvents(!0);this.off("moveend",this._panInsideMaxBounds);if(this._containerId!==
this._container._leaflet_id)throw Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(k){this._containerId=this._container._leaflet_id=void 0}void 0!==this._locationWatchId&&this.stopLocate();this._stop();u(this._mapPane);this._clearControlPos&&this._clearControlPos();this._resizeRequest&&(za(this._resizeRequest),this._resizeRequest=null);this._clearHandlers();this._loaded&&this.fire("unload");for(var c in this._layers)this._layers[c].remove();
for(c in this._panes)u(this._panes[c]);this._layers=[];this._panes=[];delete this._mapPane;delete this._renderer;return this},createPane:function(c,k){var D="leaflet-pane"+(c?" leaflet-"+c.replace("Pane","")+"-pane":"");k=t("div",D,k||this._mapPane);c&&(this._panes[c]=k);return k},getCenter:function(){this._checkIfLoaded();return this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var c=
this.getPixelBounds(),k=this.unproject(c.getBottomLeft());c=this.unproject(c.getTopRight());return new wa(k,c)},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?Infinity:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(c,k,D){c=La(c);D=Ua(D||[0,0]);var ba=this.getZoom()||0,Aa=this.getMinZoom(),Fb=this.getMaxZoom(),Kb=c.getNorthWest();c=c.getSouthEast();
D=this.getSize().subtract(D);var Wb=da(this.project(c,ba),this.project(Kb,ba)).getSize();Kb=wc?this.options.zoomSnap:1;c=D.x/Wb.x;D=D.y/Wb.y;ba=this.getScaleZoom(k?Math.max(c,D):Math.min(c,D),ba);Kb&&(ba=Kb/100*Math.round(ba/(Kb/100)),ba=k?Math.ceil(ba/Kb)*Kb:Math.floor(ba/Kb)*Kb);return Math.max(Aa,Math.min(Fb,ba))},getSize:function(){if(!this._size||this._sizeChanged)this._size=new xa(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1;return this._size.clone()},
getPixelBounds:function(c,k){c=this._getTopLeftPoint(c,k);return new Ja(c,c.add(this.getSize()))},getPixelOrigin:function(){this._checkIfLoaded();return this._pixelOrigin},getPixelWorldBounds:function(c){return this.options.crs.getProjectedBounds(void 0===c?this.getZoom():c)},getPane:function(c){return"string"===typeof c?this._panes[c]:c},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(c,k){var D=this.options.crs;k=void 0===k?this._zoom:
k;return D.scale(c)/D.scale(k)},getScaleZoom:function(c,k){var D=this.options.crs;k=void 0===k?this._zoom:k;c=D.zoom(c*D.scale(k));return isNaN(c)?Infinity:c},project:function(c,k){k=void 0===k?this._zoom:k;return this.options.crs.latLngToPoint(fb(c),k)},unproject:function(c,k){k=void 0===k?this._zoom:k;return this.options.crs.pointToLatLng(Ua(c),k)},layerPointToLatLng:function(c){c=Ua(c).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(c){return this.project(fb(c))._round()._subtract(this.getPixelOrigin())},
wrapLatLng:function(c){return this.options.crs.wrapLatLng(fb(c))},wrapLatLngBounds:function(c){return this.options.crs.wrapLatLngBounds(La(c))},distance:function(c,k){return this.options.crs.distance(fb(c),fb(k))},containerPointToLayerPoint:function(c){return Ua(c).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(c){return Ua(c).add(this._getMapPanePos())},containerPointToLatLng:function(c){c=this.containerPointToLayerPoint(Ua(c));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(c){return this.layerPointToContainerPoint(this.latLngToLayerPoint(fb(c)))},
mouseEventToContainerPoint:function(c){return Nc(c,this._container)},mouseEventToLayerPoint:function(c){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(c))},mouseEventToLatLng:function(c){return this.layerPointToLatLng(this.mouseEventToLayerPoint(c))},_initContainer:function(c){c=this._container=ha(c);if(!c)throw Error("Map container not found.");if(c._leaflet_id)throw Error("Map container is already initialized.");tc(c,"scroll",this._onScroll,this);this._containerId=Qa(c)},
_initLayout:function(){var c=this._container;this._fadeAnimated=this.options.fadeAnimation&&wc;E(c,"leaflet-container"+(se?" leaflet-touch":"")+(Ve?" leaflet-retina":"")+(rd?" leaflet-oldie":"")+(xd?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var k=P(c,"position");"absolute"!==k&&"relative"!==k&&"fixed"!==k&&(c.style.position="relative");this._initPanes();this._initControlPos&&this._initControlPos()},_initPanes:function(){var c=this._panes={};this._paneRenderers={};this._mapPane=
this.createPane("mapPane",this._container);W(this._mapPane,new xa(0,0));this.createPane("tilePane");this.createPane("shadowPane");this.createPane("overlayPane");this.createPane("markerPane");this.createPane("tooltipPane");this.createPane("popupPane");this.options.markerZoomAnimation||(E(c.markerPane,"leaflet-zoom-hide"),E(c.shadowPane,"leaflet-zoom-hide"))},_resetView:function(c,k){W(this._mapPane,new xa(0,0));var D=!this._loaded;this._loaded=!0;k=this._limitZoom(k);this.fire("viewprereset");var ba=
this._zoom!==k;this._moveStart(ba,!1)._move(c,k)._moveEnd(ba);this.fire("viewreset");D&&this.fire("load")},_moveStart:function(c,k){c&&this.fire("zoomstart");k||this.fire("movestart");return this},_move:function(c,k,D){void 0===k&&(k=this._zoom);var ba=this._zoom!==k;this._zoom=k;this._lastCenter=c;this._pixelOrigin=this._getNewPixelOrigin(c);(ba||D&&D.pinch)&&this.fire("zoom",D);return this.fire("move",D)},_moveEnd:function(c){c&&this.fire("zoomend");return this.fire("moveend")},_stop:function(){za(this._flyToFrame);
this._panAnim&&this._panAnim.stop();return this},_rawPanBy:function(c){W(this._mapPane,this._getMapPanePos().subtract(c))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw Error("Set map center and zoom first.");},_initEvents:function(c){this._targets={};this._targets[Qa(this._container)]=this;var k=c?Hc:tc;k(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",
this._handleDOMEvent,this);this.options.trackResize&&k(window,"resize",this._onResize,this);wc&&this.options.transform3DLimit&&(c?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){za(this._resizeRequest);this._resizeRequest=kb(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0;this._container.scrollLeft=0},_onMoveEnd:function(){var c=this._getMapPanePos();Math.max(Math.abs(c.x),Math.abs(c.y))>=this.options.transform3DLimit&&
this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(c,k){for(var D=[],ba,Aa="mouseout"===k||"mouseover"===k,Fb=c.target||c.srcElement,Kb=!1;Fb;){if((ba=this._targets[Qa(Fb)])&&("click"===k||"preclick"===k)&&!c._simulated&&this._draggableMoved(ba)){Kb=!0;break}if(ba&&ba.listens(k,!0)){if(Aa&&!ed(Fb,c))break;D.push(ba);if(Aa)break}if(Fb===this._container)break;Fb=Fb.parentNode}D.length||Kb||Aa||!ed(Fb,c)||(D=[this]);return D},_handleDOMEvent:function(c){if(this._loaded&&!Zc(c)){var k=
c.type;"mousedown"!==k&&"keypress"!==k&&"keyup"!==k&&"keydown"!==k||Db(c.target||c.srcElement);this._fireDOMEvent(c,k)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(c,k,D){if("click"===c.type){var ba=v({},c);ba.type="preclick";this._fireDOMEvent(ba,ba.type,D)}if(!c._stopped&&(D=(D||[]).concat(this._findEventTargets(c,k)),D.length)){var Aa=D[0];"contextmenu"===k&&Aa.listens(k,!0)&&Mc(c);ba={originalEvent:c};if("keypress"!==c.type&&"keydown"!==c.type&&
"keyup"!==c.type){var Fb=Aa.getLatLng&&(!Aa._radius||10>=Aa._radius);ba.containerPoint=Fb?this.latLngToContainerPoint(Aa.getLatLng()):this.mouseEventToContainerPoint(c);ba.layerPoint=this.containerPointToLayerPoint(ba.containerPoint);ba.latlng=Fb?Aa.getLatLng():this.layerPointToLatLng(ba.layerPoint)}for(c=0;c<D.length&&!(D[c].fire(k,ba,!0),ba.originalEvent._stopped||!1===D[c].options.bubblingMouseEvents&&-1!==Ba(this._mouseEvents,k));c++);}},_draggableMoved:function(c){c=c.dragging&&c.dragging.enabled()?
c:this;return c.dragging&&c.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var c=0,k=this._handlers.length;c<k;c++)this._handlers[c].disable()},whenReady:function(c,k){if(this._loaded)c.call(k||this,{target:this});else this.on("load",c,k);return this},_getMapPanePos:function(){return na(this._mapPane)||new xa(0,0)},_moved:function(){var c=this._getMapPanePos();return c&&!c.equals([0,0])},_getTopLeftPoint:function(c,k){return(c&&void 0!==k?this._getNewPixelOrigin(c,
k):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(c,k){var D=this.getSize()._divideBy(2);return this.project(c,k)._subtract(D)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(c,k,D){D=this._getNewPixelOrigin(D,k);return this.project(c,k)._subtract(D)},_latLngBoundsToNewLayerBounds:function(c,k,D){D=this._getNewPixelOrigin(D,k);return da([this.project(c.getSouthWest(),k)._subtract(D),this.project(c.getNorthWest(),k)._subtract(D),this.project(c.getSouthEast(),
k)._subtract(D),this.project(c.getNorthEast(),k)._subtract(D)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(c){return this.latLngToLayerPoint(c).subtract(this._getCenterLayerPoint())},_limitCenter:function(c,k,D){if(!D)return c;var ba=this.project(c,k),Aa=this.getSize().divideBy(2);Aa=new Ja(ba.subtract(Aa),ba.add(Aa));D=this._getBoundsOffset(Aa,D,k);return D.round().equals([0,0])?c:this.unproject(ba.add(D),k)},_limitOffset:function(c,
k){if(!k)return c;var D=this.getPixelBounds();D=new Ja(D.min.add(c),D.max.add(c));return c.add(this._getBoundsOffset(D,k))},_getBoundsOffset:function(c,k,D){D=da(this.project(k.getNorthEast(),D),this.project(k.getSouthWest(),D));k=D.min.subtract(c.min);D=D.max.subtract(c.max);c=this._rebound(k.x,-D.x);k=this._rebound(k.y,-D.y);return new xa(c,k)},_rebound:function(c,k){return 0<c+k?Math.round(c-k)/2:Math.max(0,Math.ceil(c))-Math.max(0,Math.floor(k))},_limitZoom:function(c){var k=this.getMinZoom(),
D=this.getMaxZoom(),ba=wc?this.options.zoomSnap:1;ba&&(c=Math.round(c/ba)*ba);return Math.max(k,Math.min(D,c))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){z(this._mapPane,"leaflet-pan-anim");this.fire("moveend")},_tryAnimatedPan:function(c,k){c=this._getCenterOffset(c)._trunc();if(!0!==(k&&k.animate)&&!this.getSize().contains(c))return!1;this.panBy(c,k);return!0},_createAnimProxy:function(){var c=this._proxy=t("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(c);
this.on("zoomanim",function(k){var D=he,ba=this._proxy.style[D];Da(this._proxy,this.project(k.center,k.zoom),this.getZoomScale(k.zoom,1));ba===this._proxy.style[D]&&this._animatingZoom&&this._onZoomTransitionEnd()},this);this.on("load moveend",this._animMoveEnd,this);this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){u(this._proxy);this.off("load moveend",this._animMoveEnd,this);delete this._proxy},_animMoveEnd:function(){var c=this.getCenter(),k=this.getZoom();Da(this._proxy,
this.project(c,k),this.getZoomScale(k,1))},_catchTransitionEnd:function(c){this._animatingZoom&&0<=c.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(c,k,D){if(this._animatingZoom)return!0;D=D||{};if(!this._zoomAnimated||!1===D.animate||this._nothingToAnimate()||Math.abs(k-this._zoom)>this.options.zoomAnimationThreshold)return!1;var ba=this.getZoomScale(k);
ba=this._getCenterOffset(c)._divideBy(1-1/ba);if(!0!==D.animate&&!this.getSize().contains(ba))return!1;kb(function(){this._moveStart(!0,!1)._animateZoom(c,k,!0)},this);return!0},_animateZoom:function(c,k,D,ba){this._mapPane&&(D&&(this._animatingZoom=!0,this._animateToCenter=c,this._animateToZoom=k,E(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:c,zoom:k,noUpdate:ba}),setTimeout(Y(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&
z(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),kb(function(){this._moveEnd(!0)},this))}}),Z=Ea.extend({options:{position:"topright"},initialize:function(c){nb(this,c)},getPosition:function(){return this.options.position},setPosition:function(c){var k=this._map;k&&k.removeControl(this);this.options.position=c;k&&k.addControl(this);return this},getContainer:function(){return this._container},addTo:function(c){this.remove();this._map=
c;var k=this._container=this.onAdd(c),D=this.getPosition();c=c._controlCorners[D];E(k,"leaflet-control");-1!==D.indexOf("bottom")?c.insertBefore(k,c.firstChild):c.appendChild(k);this._map.on("unload",this.remove,this);return this},remove:function(){if(!this._map)return this;u(this._container);if(this.onRemove)this.onRemove(this._map);this._map.off("unload",this.remove,this);this._map=null;return this},_refocusOnMap:function(c){this._map&&c&&0<c.screenX&&0<c.screenY&&this._map.getContainer().focus()}}),
cb=function(c){return new Z(c)};H.include({addControl:function(c){c.addTo(this);return this},removeControl:function(c){c.remove();return this},_initControlPos:function(){function c(ba,Aa){k[ba+Aa]=t("div","leaflet-"+ba+" leaflet-"+Aa,D)}var k=this._controlCorners={},D=this._controlContainer=t("div","leaflet-control-container",this._container);c("top","left");c("top","right");c("bottom","left");c("bottom","right")},_clearControlPos:function(){for(var c in this._controlCorners)u(this._controlCorners[c]);
u(this._controlContainer);delete this._controlCorners;delete this._controlContainer}});var Gb=Z.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(c,k,D,ba){return D<ba?-1:ba<D?1:0}},initialize:function(c,k,D){nb(this,D);this._layerControlInputs=[];this._layers=[];this._lastZIndex=0;this._handlingClick=!1;for(var ba in c)this._addLayer(c[ba],ba);for(ba in k)this._addLayer(k[ba],ba,!0)},onAdd:function(c){this._initLayout();this._update();
this._map=c;c.on("zoomend",this._checkDisabledLayers,this);for(c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(c){Z.prototype.addTo.call(this,c);return this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(c,k){this._addLayer(c,k);return this._map?
this._update():this},addOverlay:function(c,k){this._addLayer(c,k,!0);return this._map?this._update():this},removeLayer:function(c){c.off("add remove",this._onLayerChange,this);(c=this._getLayer(Qa(c)))&&this._layers.splice(this._layers.indexOf(c),1);return this._map?this._update():this},expand:function(){E(this._container,"leaflet-control-layers-expanded");this._section.style.height=null;var c=this._map.getSize().y-(this._container.offsetTop+50);c<this._section.clientHeight?(E(this._section,"leaflet-control-layers-scrollbar"),
this._section.style.height=c+"px"):z(this._section,"leaflet-control-layers-scrollbar");this._checkDisabledLayers();return this},collapse:function(){z(this._container,"leaflet-control-layers-expanded");return this},_initLayout:function(){var c=this._container=t("div","leaflet-control-layers"),k=this.options.collapsed;c.setAttribute("aria-haspopup",!0);jc(c);Ec(c);var D=this._section=t("section","leaflet-control-layers-list");k&&(this._map.on("click",this.collapse,this),qe||tc(c,{mouseenter:this.expand,
mouseleave:this.collapse},this));var ba=this._layersLink=t("a","leaflet-control-layers-toggle",c);ba.href="#";ba.title="Layers";se?(tc(ba,"click",Rc),tc(ba,"click",this.expand,this)):tc(ba,"focus",this.expand,this);k||this.expand();this._baseLayersList=t("div","leaflet-control-layers-base",D);this._separator=t("div","leaflet-control-layers-separator",D);this._overlaysList=t("div","leaflet-control-layers-overlays",D);c.appendChild(D)},_getLayer:function(c){for(var k=0;k<this._layers.length;k++)if(this._layers[k]&&
Qa(this._layers[k].layer)===c)return this._layers[k]},_addLayer:function(c,k,D){if(this._map)c.on("add remove",this._onLayerChange,this);this._layers.push({layer:c,name:k,overlay:D});this.options.sortLayers&&this._layers.sort(Y(function(ba,Aa){return this.options.sortFunction(ba.layer,Aa.layer,ba.name,Aa.name)},this));this.options.autoZIndex&&c.setZIndex&&(this._lastZIndex++,c.setZIndex(this._lastZIndex));this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;l(this._baseLayersList);
l(this._overlaysList);this._layerControlInputs=[];var c,k=0;for(c=0;c<this._layers.length;c++){var D=this._layers[c];this._addItem(D);var ba=ba||D.overlay;var Aa=Aa||!D.overlay;k+=D.overlay?0:1}this.options.hideSingleBase&&(Aa=Aa&&1<k,this._baseLayersList.style.display=Aa?"":"none");this._separator.style.display=ba&&Aa?"":"none";return this},_onLayerChange:function(c){this._handlingClick||this._update();var k=this._getLayer(Qa(c.target));(c=k.overlay?"add"===c.type?"overlayadd":"overlayremove":"add"===
c.type?"baselayerchange":null)&&this._map.fire(c,k)},_createRadioElement:function(c,k){c='\x3cinput type\x3d"radio" class\x3d"leaflet-control-layers-selector" name\x3d"'+c+'"'+(k?' checked\x3d"checked"':"")+"/\x3e";k=document.createElement("div");k.innerHTML=c;return k.firstChild},_addItem:function(c){var k=document.createElement("label"),D=this._map.hasLayer(c.layer);if(c.overlay){var ba=document.createElement("input");ba.type="checkbox";ba.className="leaflet-control-layers-selector";ba.defaultChecked=
D}else ba=this._createRadioElement("leaflet-base-layers_"+Qa(this),D);this._layerControlInputs.push(ba);ba.layerId=Qa(c.layer);tc(ba,"click",this._onInputClick,this);D=document.createElement("span");D.innerHTML=" "+c.name;var Aa=document.createElement("div");k.appendChild(Aa);Aa.appendChild(ba);Aa.appendChild(D);(c.overlay?this._overlaysList:this._baseLayersList).appendChild(k);this._checkDisabledLayers();return k},_onInputClick:function(){var c=this._layerControlInputs,k=[],D=[];this._handlingClick=
!0;for(var ba=c.length-1;0<=ba;ba--){var Aa=c[ba];var Fb=this._getLayer(Aa.layerId).layer;Aa.checked?k.push(Fb):Aa.checked||D.push(Fb)}for(ba=0;ba<D.length;ba++)this._map.hasLayer(D[ba])&&this._map.removeLayer(D[ba]);for(ba=0;ba<k.length;ba++)this._map.hasLayer(k[ba])||this._map.addLayer(k[ba]);this._handlingClick=!1;this._refocusOnMap()},_checkDisabledLayers:function(){for(var c=this._layerControlInputs,k,D,ba=this._map.getZoom(),Aa=c.length-1;0<=Aa;Aa--)k=c[Aa],D=this._getLayer(k.layerId).layer,
k.disabled=void 0!==D.options.minZoom&&ba<D.options.minZoom||void 0!==D.options.maxZoom&&ba>D.options.maxZoom},_expandIfNotCollapsed:function(){this._map&&!this.options.collapsed&&this.expand();return this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Hb=Z.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"\x26#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(c){var k=t("div","leaflet-control-zoom leaflet-bar"),D=this.options;
this._zoomInButton=this._createButton(D.zoomInText,D.zoomInTitle,"leaflet-control-zoom-in",k,this._zoomIn);this._zoomOutButton=this._createButton(D.zoomOutText,D.zoomOutTitle,"leaflet-control-zoom-out",k,this._zoomOut);this._updateDisabled();c.on("zoomend zoomlevelschange",this._updateDisabled,this);return k},onRemove:function(c){c.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){this._disabled=!0;this._updateDisabled();return this},enable:function(){this._disabled=!1;
this._updateDisabled();return this},_zoomIn:function(c){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(c.shiftKey?3:1))},_zoomOut:function(c){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(c.shiftKey?3:1))},_createButton:function(c,k,D,ba,Aa){D=t("a",D,ba);D.innerHTML=c;D.href="#";D.title=k;D.setAttribute("role","button");D.setAttribute("aria-label",k);jc(D);tc(D,"click",Rc);tc(D,"click",
Aa,this);tc(D,"click",this._refocusOnMap,this);return D},_updateDisabled:function(){var c=this._map;z(this._zoomInButton,"leaflet-disabled");z(this._zoomOutButton,"leaflet-disabled");(this._disabled||c._zoom===c.getMinZoom())&&E(this._zoomOutButton,"leaflet-disabled");(this._disabled||c._zoom===c.getMaxZoom())&&E(this._zoomInButton,"leaflet-disabled")}});H.mergeOptions({zoomControl:!0});H.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Hb,this.addControl(this.zoomControl))});
var Tb=Z.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(c){var k=t("div","leaflet-control-scale"),D=this.options;this._addScales(D,"leaflet-control-scale-line",k);c.on(D.updateWhenIdle?"moveend":"move",this._update,this);c.whenReady(this._update,this);return k},onRemove:function(c){c.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(c,k,D){c.metric&&(this._mScale=t("div",k,D));c.imperial&&(this._iScale=t("div",k,D))},
_update:function(){var c=this._map,k=c.getSize().y/2;c=c.distance(c.containerPointToLatLng([0,k]),c.containerPointToLatLng([this.options.maxWidth,k]));this._updateScales(c)},_updateScales:function(c){this.options.metric&&c&&this._updateMetric(c);this.options.imperial&&c&&this._updateImperial(c)},_updateMetric:function(c){var k=this._getRoundNum(c);this._updateScale(this._mScale,1E3>k?k+" m":k/1E3+" km",k/c)},_updateImperial:function(c){c*=3.2808399;if(5280<c){c/=5280;var k=this._getRoundNum(c);this._updateScale(this._iScale,
k+" mi",k/c)}else k=this._getRoundNum(c),this._updateScale(this._iScale,k+" ft",k/c)},_updateScale:function(c,k,D){c.style.width=Math.round(this.options.maxWidth*D)+"px";c.innerHTML=k},_getRoundNum:function(c){var k=Math.pow(10,(Math.floor(c)+"").length-1);c/=k;return k*(10<=c?10:5<=c?5:3<=c?3:2<=c?2:1)}}),ac=Z.extend({options:{position:"bottomright",prefix:'\x3ca href\x3d"https://leafletjs.com" title\x3d"A JS library for interactive maps"\x3eLeaflet\x3c/a\x3e'},initialize:function(c){nb(this,c);
this._attributions={}},onAdd:function(c){c.attributionControl=this;this._container=t("div","leaflet-control-attribution");jc(this._container);for(var k in c._layers)c._layers[k].getAttribution&&this.addAttribution(c._layers[k].getAttribution());this._update();return this._container},setPrefix:function(c){this.options.prefix=c;this._update();return this},addAttribution:function(c){if(!c)return this;this._attributions[c]||(this._attributions[c]=0);this._attributions[c]++;this._update();return this},
removeAttribution:function(c){if(!c)return this;this._attributions[c]&&(this._attributions[c]--,this._update());return this},_update:function(){if(this._map){var c=[];for(k in this._attributions)this._attributions[k]&&c.push(k);var k=[];this.options.prefix&&k.push(this.options.prefix);c.length&&k.push(c.join(", "));this._container.innerHTML=k.join(" | ")}}});H.mergeOptions({attributionControl:!0});H.addInitHook(function(){this.options.attributionControl&&(new ac).addTo(this)});Z.Layers=Gb;Z.Zoom=
Hb;Z.Scale=Tb;Z.Attribution=ac;cb.layers=function(c,k,D){return new Gb(c,k,D)};cb.zoom=function(c){return new Hb(c)};cb.scale=function(c){return new Tb(c)};cb.attribution=function(c){return new ac(c)};var Gc=Ea.extend({initialize:function(c){this._map=c},enable:function(){if(this._enabled)return this;this._enabled=!0;this.addHooks();return this},disable:function(){if(!this._enabled)return this;this._enabled=!1;this.removeHooks();return this},enabled:function(){return!!this._enabled}});Gc.addTo=function(c,
k){c.addHandler(k,this);return this};var Dc={Events:ad},Sc=se?"touchstart mousedown":"mousedown",gd={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},zd={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},Ed=id.extend({options:{clickTolerance:3},initialize:function(c,k,D,ba){nb(this,ba);this._element=c;this._dragStartTarget=k||c;this._preventOutline=D},enable:function(){this._enabled||(tc(this._dragStartTarget,
Sc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ed._dragging===this&&this.finishDrag(),Hc(this._dragStartTarget,Sc,this._onDown,this),this._moved=this._enabled=!1)},_onDown:function(c){if(!c._simulated&&this._enabled&&(this._moved=!1,!(B(this._element,"leaflet-zoom-anim")||Ed._dragging||c.shiftKey||1!==c.which&&1!==c.button&&!c.touches||(Ed._dragging=this,this._preventOutline&&Db(this._element),$a(),ye(),this._moving)))){this.fire("down");var k=c.touches?c.touches[0]:c,
D=vc(this._element);this._startPoint=new xa(k.clientX,k.clientY);this._parentScale=Vc(D);tc(document,zd[c.type],this._onMove,this);tc(document,gd[c.type],this._onUp,this)}},_onMove:function(c){if(!c._simulated&&this._enabled)if(c.touches&&1<c.touches.length)this._moved=!0;else{var k=c.touches&&1===c.touches.length?c.touches[0]:c;k=(new xa(k.clientX,k.clientY))._subtract(this._startPoint);!k.x&&!k.y||Math.abs(k.x)+Math.abs(k.y)<this.options.clickTolerance||(k.x/=this._parentScale.x,k.y/=this._parentScale.y,
Mc(c),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=na(this._element).subtract(k),E(document.body,"leaflet-dragging"),this._lastTarget=c.target||c.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),E(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(k),this._moving=!0,za(this._animRequest),this._lastEvent=c,this._animRequest=kb(this._updatePosition,this,
!0))}},_updatePosition:function(){var c={originalEvent:this._lastEvent};this.fire("predrag",c);W(this._element,this._newPos);this.fire("drag",c)},_onUp:function(c){!c._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){z(document.body,"leaflet-dragging");this._lastTarget&&(z(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var c in zd)Hc(document,zd[c],this._onMove,this),Hc(document,gd[c],this._onUp,this);sb();ve();this._moved&&this._moving&&(za(this._animRequest),
this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)}));this._moving=!1;Ed._dragging=!1}}),pd,Ee={simplify:Pd,pointToSegmentDistance:Ha,closestPointOnSegment:function(c,k,D){return Nd(c,k,D)},clipSegment:Sb,_getEdgeIntersection:dd,_getBitCode:nd,_sqClosestPointOnSegment:Nd,isFlat:Wd,_flat:U},Bd={clipPolygon:va},ke={project:function(c){return new xa(c.lng,c.lat)},unproject:function(c){return new Ra(c.y,c.x)},bounds:new Ja([-180,-90],[180,90])},Od={R:6378137,R_MINOR:6356752.314245179,
bounds:new Ja([-2.003750834279E7,-1.549657073972E7],[2.003750834279E7,1.876465623138E7]),project:function(c){var k=Math.PI/180,D=this.R,ba=c.lat*k,Aa=this.R_MINOR/D;Aa=Math.sqrt(1-Aa*Aa);var Fb=Aa*Math.sin(ba);ba=-D*Math.log(Math.max(Math.tan(Math.PI/4-ba/2)/Math.pow((1-Fb)/(1+Fb),Aa/2),1E-10));return new xa(c.lng*k*D,ba)},unproject:function(c){var k=180/Math.PI,D=this.R,ba=this.R_MINOR/D;ba=Math.sqrt(1-ba*ba);for(var Aa=Math.exp(-c.y/D),Fb=Math.PI/2-2*Math.atan(Aa),Kb=0,Wb=.1;15>Kb&&1E-7<Math.abs(Wb);Kb++)Wb=
ba*Math.sin(Fb),Wb=Math.pow((1-Wb)/(1+Wb),ba/2),Wb=Math.PI/2-2*Math.atan(Aa*Wb)-Fb,Fb+=Wb;return new Ra(Fb*k,c.x*k/D)}},ie={LonLat:ke,Mercator:Od,SphericalMercator:Ud},qf=v({},Fd,{code:"EPSG:3395",projection:Od,transformation:function(){var c=.5/(Math.PI*Od.R);return jb(c,.5,-c,.5)}()}),Kd=v({},Fd,{code:"EPSG:4326",projection:ke,transformation:jb(1/180,1,-1/180,.5)}),Xe=v({},qd,{projection:ke,transformation:jb(1,0,-1,0),scale:function(c){return Math.pow(2,c)},zoom:function(c){return Math.log(c)/Math.LN2},
distance:function(c,k){var D=k.lng-c.lng;c=k.lat-c.lat;return Math.sqrt(D*D+c*c)},infinite:!0});qd.Earth=Fd;qd.EPSG3395=qf;qd.EPSG3857=ee;qd.EPSG900913=we;qd.EPSG4326=Kd;qd.Simple=Xe;var je=id.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(c){c.addLayer(this);return this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(c){c&&c.removeLayer(this);return this},getPane:function(c){return this._map.getPane(c?this.options[c]||
c:this.options.pane)},addInteractiveTarget:function(c){this._map._targets[Qa(c)]=this;return this},removeInteractiveTarget:function(c){delete this._map._targets[Qa(c)];return this},getAttribution:function(){return this.options.attribution},_layerAdd:function(c){var k=c.target;if(k.hasLayer(this)){this._map=k;this._zoomAnimated=k._zoomAnimated;if(this.getEvents){var D=this.getEvents();k.on(D,this);this.once("remove",function(){k.off(D,this)},this)}this.onAdd(k);this.getAttribution&&k.attributionControl&&
k.attributionControl.addAttribution(this.getAttribution());this.fire("add");k.fire("layeradd",{layer:this})}}});H.include({addLayer:function(c){if(!c._layerAdd)throw Error("The provided object is not a Layer.");var k=Qa(c);if(this._layers[k])return this;this._layers[k]=c;c._mapToAdd=this;c.beforeAdd&&c.beforeAdd(this);this.whenReady(c._layerAdd,c);return this},removeLayer:function(c){var k=Qa(c);if(!this._layers[k])return this;if(this._loaded)c.onRemove(this);c.getAttribution&&this.attributionControl&&
this.attributionControl.removeAttribution(c.getAttribution());delete this._layers[k];this._loaded&&(this.fire("layerremove",{layer:c}),c.fire("remove"));c._map=c._mapToAdd=null;return this},hasLayer:function(c){return!!c&&Qa(c)in this._layers},eachLayer:function(c,k){for(var D in this._layers)c.call(k,this._layers[D]);return this},_addLayers:function(c){c=c?sc(c)?c:[c]:[];for(var k=0,D=c.length;k<D;k++)this.addLayer(c[k])},_addZoomLimit:function(c){if(isNaN(c.options.maxZoom)||!isNaN(c.options.minZoom))this._zoomBoundLayers[Qa(c)]=
c,this._updateZoomLevels()},_removeZoomLimit:function(c){c=Qa(c);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var c=Infinity,k=-Infinity,D=this._getZoomSpan(),ba;for(ba in this._zoomBoundLayers){var Aa=this._zoomBoundLayers[ba].options;c=void 0===Aa.minZoom?c:Math.min(c,Aa.minZoom);k=void 0===Aa.maxZoom?k:Math.max(k,Aa.maxZoom)}this._layersMaxZoom=-Infinity===k?void 0:k;this._layersMinZoom=Infinity===c?void 0:c;D!==this._getZoomSpan()&&
this.fire("zoomlevelschange");void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom);void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var lf=je.extend({initialize:function(c,k){nb(this,k);this._layers={};var D;if(c)for(k=0,D=c.length;k<D;k++)this.addLayer(c[k])},addLayer:function(c){var k=this.getLayerId(c);this._layers[k]=c;this._map&&this._map.addLayer(c);
return this},removeLayer:function(c){c=c in this._layers?c:this.getLayerId(c);this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]);delete this._layers[c];return this},hasLayer:function(c){return c?("number"===typeof c?c:this.getLayerId(c))in this._layers:!1},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(c){var k=Array.prototype.slice.call(arguments,1),D;for(D in this._layers){var ba=this._layers[D];ba[c]&&ba[c].apply(ba,k)}return this},onAdd:function(c){this.eachLayer(c.addLayer,
c)},onRemove:function(c){this.eachLayer(c.removeLayer,c)},eachLayer:function(c,k){for(var D in this._layers)c.call(k,this._layers[D]);return this},getLayer:function(c){return this._layers[c]},getLayers:function(){var c=[];this.eachLayer(c.push,c);return c},setZIndex:function(c){return this.invoke("setZIndex",c)},getLayerId:function(c){return Qa(c)}}),He=lf.extend({addLayer:function(c){if(this.hasLayer(c))return this;c.addEventParent(this);lf.prototype.addLayer.call(this,c);return this.fire("layeradd",
{layer:c})},removeLayer:function(c){if(!this.hasLayer(c))return this;c in this._layers&&(c=this._layers[c]);c.removeEventParent(this);lf.prototype.removeLayer.call(this,c);return this.fire("layerremove",{layer:c})},setStyle:function(c){return this.invoke("setStyle",c)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var c=new wa,k;for(k in this._layers){var D=this._layers[k];c.extend(D.getBounds?D.getBounds():
D.getLatLng())}return c}}),Gf=Ea.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(c){nb(this,c)},createIcon:function(c){return this._createIcon("icon",c)},createShadow:function(c){return this._createIcon("shadow",c)},_createIcon:function(c,k){var D=this._getIconUrl(c);if(!D){if("icon"===c)throw Error("iconUrl not set in Icon options (see the docs).");return null}k=this._createImg(D,k&&"IMG"===k.tagName?k:null);this._setIconStyles(k,c);return k},_setIconStyles:function(c,
k){var D=this.options,ba=D[k+"Size"];"number"===typeof ba&&(ba=[ba,ba]);ba=Ua(ba);var Aa=Ua("shadow"===k&&D.shadowAnchor||D.iconAnchor||ba&&ba.divideBy(2,!0));c.className="leaflet-marker-"+k+" "+(D.className||"");Aa&&(c.style.marginLeft=-Aa.x+"px",c.style.marginTop=-Aa.y+"px");ba&&(c.style.width=ba.x+"px",c.style.height=ba.y+"px")},_createImg:function(c,k){k=k||document.createElement("img");k.src=c;return k},_getIconUrl:function(c){return Ve&&this.options[c+"RetinaUrl"]||this.options[c+"Url"]}}),
J=Gf.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(c){J.imagePath||(J.imagePath=this._detectIconPath());return(this.options.imagePath||J.imagePath)+Gf.prototype._getIconUrl.call(this,c)},_detectIconPath:function(){var c=t("div","leaflet-default-icon-path",document.body),k=P(c,"background-image")||P(c,"backgroundImage");
document.body.removeChild(c);return k=null===k||0!==k.indexOf("url")?"":k.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),M=Gc.extend({initialize:function(c){this._marker=c},addHooks:function(){var c=this._marker._icon;this._draggable||(this._draggable=new Ed(c,c,!0));this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable();E(c,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,
predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable();this._marker._icon&&z(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(c){var k=this._marker,D=k._map,ba=this._marker.options.autoPanSpeed,Aa=this._marker.options.autoPanPadding,Fb=na(k._icon),Kb=D.getPixelBounds(),Wb=D.getPixelOrigin();Aa=da(Kb.min._subtract(Wb).add(Aa),Kb.max._subtract(Wb).subtract(Aa));Aa.contains(Fb)||(ba=Ua((Math.max(Aa.max.x,
Fb.x)-Aa.max.x)/(Kb.max.x-Aa.max.x)-(Math.min(Aa.min.x,Fb.x)-Aa.min.x)/(Kb.min.x-Aa.min.x),(Math.max(Aa.max.y,Fb.y)-Aa.max.y)/(Kb.max.y-Aa.max.y)-(Math.min(Aa.min.y,Fb.y)-Aa.min.y)/(Kb.min.y-Aa.min.y)).multiplyBy(ba),D.panBy(ba,{animate:!1}),this._draggable._newPos._add(ba),this._draggable._startPos._add(ba),W(k._icon,this._draggable._newPos),this._onDrag(c),this._panRequest=kb(this._adjustPan.bind(this,c)))},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng();this._marker.closePopup&&
this._marker.closePopup();this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(c){this._marker.options.autoPan&&(za(this._panRequest),this._panRequest=kb(this._adjustPan.bind(this,c)))},_onDrag:function(c){var k=this._marker,D=k._shadow,ba=na(k._icon),Aa=k._map.layerPointToLatLng(ba);D&&W(D,ba);k._latlng=Aa;c.latlng=Aa;c.oldLatLng=this._oldLatLng;k.fire("move",c).fire("drag",c)},_onDragEnd:function(c){za(this._panRequest);delete this._oldLatLng;this._marker.fire("moveend").fire("dragend",
c)}}),V=je.extend({options:{icon:new J,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(c,k){nb(this,k);this._latlng=fb(c)},onAdd:function(c){if(this._zoomAnimated=this._zoomAnimated&&c.options.markerZoomAnimation)c.on("zoomanim",this._animateZoom,this);this._initIcon();this.update()},onRemove:function(c){this.dragging&&
this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks());delete this.dragging;this._zoomAnimated&&c.off("zoomanim",this._animateZoom,this);this._removeIcon();this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(c){var k=this._latlng;this._latlng=fb(c);this.update();return this.fire("move",{oldLatLng:k,latlng:this._latlng})},setZIndexOffset:function(c){this.options.zIndexOffset=
c;return this.update()},getIcon:function(){return this.options.icon},setIcon:function(c){this.options.icon=c;this._map&&(this._initIcon(),this.update());this._popup&&this.bindPopup(this._popup,this._popup.options);return this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var c=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(c)}return this},_initIcon:function(){var c=this.options,k="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),D=c.icon.createIcon(this._icon),
ba=!1;D!==this._icon&&(this._icon&&this._removeIcon(),ba=!0,c.title&&(D.title=c.title),"IMG"===D.tagName&&(D.alt=c.alt||""));E(D,k);c.keyboard&&(D.tabIndex="0");this._icon=D;if(c.riseOnHover)this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});D=c.icon.createShadow(this._shadow);var Aa=!1;D!==this._shadow&&(this._removeShadow(),Aa=!0);D&&(E(D,k),D.alt="");this._shadow=D;1>c.opacity&&this._updateOpacity();ba&&this.getPane().appendChild(this._icon);this._initInteraction();D&&Aa&&this.getPane(c.shadowPane).appendChild(this._shadow)},
_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex});u(this._icon);this.removeInteractiveTarget(this._icon);this._icon=null},_removeShadow:function(){this._shadow&&u(this._shadow);this._shadow=null},_setPos:function(c){this._icon&&W(this._icon,c);this._shadow&&W(this._shadow,c);this._zIndex=c.y+this.options.zIndexOffset;this._resetZIndex()},_updateZIndex:function(c){this._icon&&(this._icon.style.zIndex=this._zIndex+c)},_animateZoom:function(c){c=
this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(E(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),M)){var c=this.options.draggable;this.dragging&&(c=this.dragging.enabled(),this.dragging.disable());this.dragging=new M(this);c&&this.dragging.enable()}},setOpacity:function(c){this.options.opacity=c;this._map&&this._updateOpacity();return this},_updateOpacity:function(){var c=this.options.opacity;
this._icon&&fa(this._icon,c);this._shadow&&fa(this._shadow,c)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),ca=je.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,
fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(c){this._renderer=c.getRenderer(this)},onAdd:function(){this._renderer._initPath(this);this._reset();this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){this._map&&this._renderer._updatePath(this);return this},setStyle:function(c){nb(this,c);this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&c&&Object.prototype.hasOwnProperty.call(c,"weight")&&this._updateBounds());
return this},bringToFront:function(){this._renderer&&this._renderer._bringToFront(this);return this},bringToBack:function(){this._renderer&&this._renderer._bringToBack(this);return this},getElement:function(){return this._path},_reset:function(){this._project();this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),ua=ca.extend({options:{fill:!0,radius:10},initialize:function(c,k){nb(this,k);this._latlng=fb(c);this._radius=
this.options.radius},setLatLng:function(c){var k=this._latlng;this._latlng=fb(c);this.redraw();return this.fire("move",{oldLatLng:k,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(c){this.options.radius=this._radius=c;return this.redraw()},getRadius:function(){return this._radius},setStyle:function(c){var k=c&&c.radius||this._radius;ca.prototype.setStyle.call(this,c);this.setRadius(k);return this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng);
this._updateBounds()},_updateBounds:function(){var c=this._radius,k=this._radiusY||c,D=this._clickTolerance();c=[c+D,k+D];this._pxBounds=new Ja(this._point.subtract(c),this._point.add(c))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(c){return c.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),ya=ua.extend({initialize:function(c,
k,D){"number"===typeof k&&(k=v({},D,{radius:k}));nb(this,k);this._latlng=fb(c);if(isNaN(this.options.radius))throw Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(c){this._mRadius=c;return this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var c=[this._radius,this._radiusY||this._radius];return new wa(this._map.layerPointToLatLng(this._point.subtract(c)),this._map.layerPointToLatLng(this._point.add(c)))},setStyle:ca.prototype.setStyle,
_project:function(){var c=this._latlng.lng,k=this._latlng.lat,D=this._map,ba=D.options.crs;if(ba.distance===Fd.distance){var Aa=Math.PI/180;ba=this._mRadius/Fd.R/Aa;var Fb=D.project([k+ba,c]),Kb=D.project([k-ba,c]);Kb=Fb.add(Kb).divideBy(2);var Wb=D.unproject(Kb).lat;Aa=Math.acos((Math.cos(ba*Aa)-Math.sin(k*Aa)*Math.sin(Wb*Aa))/(Math.cos(k*Aa)*Math.cos(Wb*Aa)))/Aa;if(isNaN(Aa)||0===Aa)Aa=ba/Math.cos(Math.PI/180*k);this._point=Kb.subtract(D.getPixelOrigin());this._radius=isNaN(Aa)?0:Kb.x-D.project([Wb,
c-Aa]).x;this._radiusY=Kb.y-Fb.y}else c=ba.unproject(ba.project(this._latlng).subtract([this._mRadius,0])),this._point=D.latLngToLayerPoint(this._latlng),this._radius=this._point.x-D.latLngToLayerPoint(c).x;this._updateBounds()}}),Ta=ca.extend({options:{smoothFactor:1,noClip:!1},initialize:function(c,k){nb(this,k);this._setLatLngs(c)},getLatLngs:function(){return this._latlngs},setLatLngs:function(c){this._setLatLngs(c);return this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(c){for(var k=
Infinity,D=null,ba=Nd,Aa,Fb,Kb=0,Wb=this._parts.length;Kb<Wb;Kb++)for(var qc=this._parts[Kb],Yc=1,cd=qc.length;Yc<cd;Yc++){Aa=qc[Yc-1];Fb=qc[Yc];var Rd=ba(c,Aa,Fb,!0);Rd<k&&(k=Rd,D=ba(c,Aa,Fb))}D&&(D.distance=Math.sqrt(k));return D},getCenter:function(){if(!this._map)throw Error("Must add layer to map before using getCenter()");var c,k,D,ba=this._rings[0],Aa=ba.length;if(!Aa)return null;for(k=c=0;c<Aa-1;c++)k+=ba[c].distanceTo(ba[c+1])/2;if(0===k)return this._map.layerPointToLatLng(ba[0]);for(D=c=
0;c<Aa-1;c++){var Fb=ba[c];var Kb=ba[c+1];var Wb=Fb.distanceTo(Kb);D+=Wb;if(D>k)return c=(D-k)/Wb,this._map.layerPointToLatLng([Kb.x-c*(Kb.x-Fb.x),Kb.y-c*(Kb.y-Fb.y)])}},getBounds:function(){return this._bounds},addLatLng:function(c,k){k=k||this._defaultShape();c=fb(c);k.push(c);this._bounds.extend(c);return this.redraw()},_setLatLngs:function(c){this._bounds=new wa;this._latlngs=this._convertLatLngs(c)},_defaultShape:function(){return Wd(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(c){for(var k=
[],D=Wd(c),ba=0,Aa=c.length;ba<Aa;ba++)D?(k[ba]=fb(c[ba]),this._bounds.extend(k[ba])):k[ba]=this._convertLatLngs(c[ba]);return k},_project:function(){var c=new Ja;this._rings=[];this._projectLatlngs(this._latlngs,this._rings,c);this._bounds.isValid()&&c.isValid()&&(this._rawPxBounds=c,this._updateBounds())},_updateBounds:function(){var c=this._clickTolerance();c=new xa(c,c);this._pxBounds=new Ja([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)])},_projectLatlngs:function(c,k,D){var ba=
c.length,Aa;if(c[0]instanceof Ra){var Fb=[];for(Aa=0;Aa<ba;Aa++)Fb[Aa]=this._map.latLngToLayerPoint(c[Aa]),D.extend(Fb[Aa]);k.push(Fb)}else for(Aa=0;Aa<ba;Aa++)this._projectLatlngs(c[Aa],k,D)},_clipPoints:function(){var c=this._renderer._bounds;this._parts=[];if(this._pxBounds&&this._pxBounds.intersects(c))if(this.options.noClip)this._parts=this._rings;else{var k=this._parts,D,ba,Aa,Fb;var Kb=D=0;for(ba=this._rings.length;D<ba;D++){var Wb=this._rings[D];var qc=0;for(Aa=Wb.length;qc<Aa-1;qc++)if(Fb=
Sb(Wb[qc],Wb[qc+1],c,qc,!0))if(k[Kb]=k[Kb]||[],k[Kb].push(Fb[0]),Fb[1]!==Wb[qc+1]||qc===Aa-2)k[Kb].push(Fb[1]),Kb++}}},_simplifyPoints:function(){for(var c=this._parts,k=this.options.smoothFactor,D=0,ba=c.length;D<ba;D++)c[D]=Pd(c[D],k)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(c,k){var D,ba,Aa=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(c))return!1;
var Fb=0;for(ba=this._parts.length;Fb<ba;Fb++){var Kb=this._parts[Fb];var Wb=0;var qc=Kb.length;for(D=qc-1;Wb<qc;D=Wb++)if((k||0!==Wb)&&Ha(c,Kb[D],Kb[Wb])<=Aa)return!0}return!1}});Ta._flat=U;var ob=Ta.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw Error("Must add layer to map before using getCenter()");var c,k,D,ba,Aa=this._rings[0],Fb=Aa.length;if(!Fb)return null;var Kb=k=D=ba=0;for(c=Fb-1;Kb<Fb;c=Kb++){var Wb=
Aa[Kb];c=Aa[c];var qc=Wb.y*c.x-c.y*Wb.x;D+=(Wb.x+c.x)*qc;ba+=(Wb.y+c.y)*qc;k+=3*qc}return this._map.layerPointToLatLng(0===k?Aa[0]:[D/k,ba/k])},_convertLatLngs:function(c){c=Ta.prototype._convertLatLngs.call(this,c);var k=c.length;2<=k&&c[0]instanceof Ra&&c[0].equals(c[k-1])&&c.pop();return c},_setLatLngs:function(c){Ta.prototype._setLatLngs.call(this,c);Wd(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Wd(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var c=
this._renderer._bounds,k=this.options.weight;k=new xa(k,k);c=new Ja(c.min.subtract(k),c.max.add(k));this._parts=[];if(this._pxBounds&&this._pxBounds.intersects(c))if(this.options.noClip)this._parts=this._rings;else{k=0;for(var D=this._rings.length,ba;k<D;k++)ba=va(this._rings[k],c,!0),ba.length&&this._parts.push(ba)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(c){var k=!1,D,ba;if(!this._pxBounds||!this._pxBounds.contains(c))return!1;var Aa=0;for(ba=this._parts.length;Aa<
ba;Aa++){var Fb=this._parts[Aa];var Kb=0;var Wb=Fb.length;for(D=Wb-1;Kb<Wb;D=Kb++){var qc=Fb[Kb];D=Fb[D];qc.y>c.y!==D.y>c.y&&c.x<(D.x-qc.x)*(c.y-qc.y)/(D.y-qc.y)+qc.x&&(k=!k)}}return k||Ta.prototype._containsPoint.call(this,c,!0)}}),hb=He.extend({initialize:function(c,k){nb(this,k);this._layers={};c&&this.addData(c)},addData:function(c){var k=sc(c)?c:c.features,D;if(k){c=0;for(D=k.length;c<D;c++){var ba=k[c];(ba.geometries||ba.geometry||ba.features||ba.coordinates)&&this.addData(ba)}return this}k=
this.options;if(k.filter&&!k.filter(c))return this;D=ab(c,k);if(!D)return this;D.feature=lb(c);D.defaultOptions=D.options;this.resetStyle(D);if(k.onEachFeature)k.onEachFeature(c,D);return this.addLayer(D)},resetStyle:function(c){if(void 0===c)return this.eachLayer(this.resetStyle,this);c.options=v({},c.defaultOptions);this._setLayerStyle(c,this.options.style);return this},setStyle:function(c){return this.eachLayer(function(k){this._setLayerStyle(k,c)},this)},_setLayerStyle:function(c,k){c.setStyle&&
("function"===typeof k&&(k=k(c.feature)),c.setStyle(k))}}),tb={toGeoJSON:function(c){return Ia(this,{type:"Point",coordinates:kc(this.getLatLng(),c)})}};V.include(tb);ya.include(tb);ua.include(tb);Ta.include({toGeoJSON:function(c){var k=!Wd(this._latlngs);c=bc(this._latlngs,k?1:0,!1,c);return Ia(this,{type:(k?"Multi":"")+"LineString",coordinates:c})}});ob.include({toGeoJSON:function(c){var k=!Wd(this._latlngs),D=k&&!Wd(this._latlngs[0]);c=bc(this._latlngs,D?2:k?1:0,!0,c);k||(c=[c]);return Ia(this,
{type:(D?"Multi":"")+"Polygon",coordinates:c})}});lf.include({toMultiPoint:function(c){var k=[];this.eachLayer(function(D){k.push(D.toGeoJSON(c).geometry.coordinates)});return Ia(this,{type:"MultiPoint",coordinates:k})},toGeoJSON:function(c){var k=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===k)return this.toMultiPoint(c);var D="GeometryCollection"===k,ba=[];this.eachLayer(function(Aa){Aa.toGeoJSON&&(Aa=Aa.toGeoJSON(c),D?ba.push(Aa.geometry):(Aa=lb(Aa),"FeatureCollection"===
Aa.type?ba.push.apply(ba,Aa.features):ba.push(Aa)))});return D?Ia(this,{geometries:ba,type:"GeometryCollection"}):{type:"FeatureCollection",features:ba}}});var yb=je.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(c,k,D){this._url=c;this._bounds=La(k);nb(this,D)},onAdd:function(){this._image||(this._initImage(),1>this.options.opacity&&this._updateOpacity());this.options.interactive&&(E(this._image,"leaflet-interactive"),
this.addInteractiveTarget(this._image));this.getPane().appendChild(this._image);this._reset()},onRemove:function(){u(this._image);this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(c){this.options.opacity=c;this._image&&this._updateOpacity();return this},setStyle:function(c){c.opacity&&this.setOpacity(c.opacity);return this},bringToFront:function(){this._map&&p(this._image);return this},bringToBack:function(){this._map&&A(this._image);return this},setUrl:function(c){this._url=
c;this._image&&(this._image.src=c);return this},setBounds:function(c){this._bounds=La(c);this._map&&this._reset();return this},getEvents:function(){var c={zoom:this._reset,viewreset:this._reset};this._zoomAnimated&&(c.zoomanim=this._animateZoom);return c},setZIndex:function(c){this.options.zIndex=c;this._updateZIndex();return this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var c="IMG"===this._url.tagName,k=this._image=c?this._url:t("img");
E(k,"leaflet-image-layer");this._zoomAnimated&&E(k,"leaflet-zoom-animated");this.options.className&&E(k,this.options.className);k.onselectstart=pb;k.onmousemove=pb;k.onload=Y(this.fire,this,"load");k.onerror=Y(this._overlayOnError,this,"error");if(this.options.crossOrigin||""===this.options.crossOrigin)k.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin;this.options.zIndex&&this._updateZIndex();c?this._url=k.src:(k.src=this._url,k.alt=this.options.alt)},_animateZoom:function(c){var k=
this._map.getZoomScale(c.zoom);c=this._map._latLngBoundsToNewLayerBounds(this._bounds,c.zoom,c.center).min;Da(this._image,c,k)},_reset:function(){var c=this._image,k=new Ja(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),D=k.getSize();W(c,k.min);c.style.width=D.x+"px";c.style.height=D.y+"px"},_updateOpacity:function(){fa(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==
this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var c=this.options.errorOverlayUrl;c&&this._url!==c&&(this._url=c,this._image.src=c)}}),Nb=yb.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1},_initImage:function(){var c="VIDEO"===this._url.tagName,k=this._image=c?this._url:t("video");E(k,"leaflet-image-layer");this._zoomAnimated&&E(k,"leaflet-zoom-animated");this.options.className&&E(k,this.options.className);k.onselectstart=
pb;k.onmousemove=pb;k.onloadeddata=Y(this.fire,this,"load");if(c){c=k.getElementsByTagName("source");for(var D=[],ba=0;ba<c.length;ba++)D.push(c[ba].src);this._url=0<c.length?D:[k.src]}else for(sc(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(k.style,"objectFit")&&(k.style.objectFit="fill"),k.autoplay=!!this.options.autoplay,k.loop=!!this.options.loop,k.muted=!!this.options.muted,c=0;c<this._url.length;c++)D=t("source"),D.src=this._url[c],
k.appendChild(D)}}),gc=yb.extend({_initImage:function(){var c=this._image=this._url;E(c,"leaflet-image-layer");this._zoomAnimated&&E(c,"leaflet-zoom-animated");this.options.className&&E(c,this.options.className);c.onselectstart=pb;c.onmousemove=pb}}),r=je.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(c,k){nb(this,c);this._source=k},onAdd:function(c){this._zoomAnimated=c._zoomAnimated;this._container||this._initLayout();c._fadeAnimated&&fa(this._container,0);clearTimeout(this._removeTimeout);
this.getPane().appendChild(this._container);this.update();c._fadeAnimated&&fa(this._container,1);this.bringToFront()},onRemove:function(c){c._fadeAnimated?(fa(this._container,0),this._removeTimeout=setTimeout(Y(u,void 0,this._container),200)):u(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(c){this._latlng=fb(c);this._map&&(this._updatePosition(),this._adjustPan());return this},getContent:function(){return this._content},setContent:function(c){this._content=c;this.update();
return this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var c={zoom:this._updatePosition,viewreset:this._updatePosition};this._zoomAnimated&&(c.zoomanim=this._animateZoom);return c},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){this._map&&p(this._container);
return this},bringToBack:function(){this._map&&A(this._container);return this},_prepareOpen:function(c,k,D){k instanceof je||(D=k,k=c);if(k instanceof He)for(var ba in c._layers){k=c._layers[ba];break}if(!D)if(k.getCenter)D=k.getCenter();else if(k.getLatLng)D=k.getLatLng();else throw Error("Unable to get source layer LatLng.");this._source=k;this.update();return D},_updateContent:function(){if(this._content){var c=this._contentNode,k="function"===typeof this._content?this._content(this._source||this):
this._content;if("string"===typeof k)c.innerHTML=k;else{for(;c.hasChildNodes();)c.removeChild(c.firstChild);c.appendChild(k)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var c=this._map.latLngToLayerPoint(this._latlng),k=Ua(this.options.offset),D=this._getAnchor();this._zoomAnimated?W(this._container,c.add(D)):k=k.add(c).add(D);c=this._containerBottom=-k.y;k=this._containerLeft=-Math.round(this._containerWidth/2)+k.x;this._container.style.bottom=c+"px";this._container.style.left=
k+"px"}},_getAnchor:function(){return[0,0]}}),C=r.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(c){c.openPopup(this);return this},onAdd:function(c){r.prototype.onAdd.call(this,c);c.fire("popupopen",{popup:this});if(this._source&&(this._source.fire("popupopen",{popup:this},!0),!(this._source instanceof ca)))this._source.on("preclick",
nc)},onRemove:function(c){r.prototype.onRemove.call(this,c);c.fire("popupclose",{popup:this});this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ca||this._source.off("preclick",nc))},getEvents:function(){var c=r.prototype.getEvents.call(this);if(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)c.preclick=this._close;this.options.keepInView&&(c.moveend=this._adjustPan);return c},_close:function(){this._map&&this._map.closePopup(this)},
_initLayout:function(){var c=this._container=t("div","leaflet-popup "+(this.options.className||"")+" leaflet-zoom-animated"),k=this._wrapper=t("div","leaflet-popup-content-wrapper",c);this._contentNode=t("div","leaflet-popup-content",k);jc(c);Ec(this._contentNode);tc(c,"contextmenu",nc);this._tipContainer=t("div","leaflet-popup-tip-container",c);this._tip=t("div","leaflet-popup-tip",this._tipContainer);this.options.closeButton&&(c=this._closeButton=t("a","leaflet-popup-close-button",c),c.href="#close",
c.innerHTML="\x26#215;",tc(c,"click",this._onCloseButtonClick,this))},_updateLayout:function(){var c=this._contentNode,k=c.style;k.width="";k.whiteSpace="nowrap";var D=c.offsetWidth;D=Math.min(D,this.options.maxWidth);D=Math.max(D,this.options.minWidth);k.width=D+1+"px";k.whiteSpace="";k.height="";D=c.offsetHeight;var ba=this.options.maxHeight;ba&&D>ba?(k.height=ba+"px",E(c,"leaflet-popup-scrolled")):z(c,"leaflet-popup-scrolled");this._containerWidth=this._container.offsetWidth},_animateZoom:function(c){c=
this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center);var k=this._getAnchor();W(this._container,c.add(k))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var c=this._map,k=parseInt(P(this._container,"marginBottom"),10)||0;k=this._container.offsetHeight+k;var D=this._containerWidth,ba=new xa(this._containerLeft,-k-this._containerBottom);ba._add(na(this._container));ba=c.layerPointToContainerPoint(ba);var Aa=Ua(this.options.autoPanPadding),Fb=Ua(this.options.autoPanPaddingTopLeft||
Aa);Aa=Ua(this.options.autoPanPaddingBottomRight||Aa);var Kb=c.getSize(),Wb=0,qc=0;ba.x+D+Aa.x>Kb.x&&(Wb=ba.x+D-Kb.x+Aa.x);0>ba.x-Wb-Fb.x&&(Wb=ba.x-Fb.x);ba.y+k+Aa.y>Kb.y&&(qc=ba.y+k-Kb.y+Aa.y);0>ba.y-qc-Fb.y&&(qc=ba.y-Fb.y);(Wb||qc)&&c.fire("autopanstart").panBy([Wb,qc])}},_onCloseButtonClick:function(c){this._close();Rc(c)},_getAnchor:function(){return Ua(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});H.mergeOptions({closePopupOnClick:!0});H.include({openPopup:function(c,
k,D){c instanceof C||(c=(new C(D)).setContent(c));k&&c.setLatLng(k);if(this.hasLayer(c))return this;this._popup&&this._popup.options.autoClose&&this.closePopup();this._popup=c;return this.addLayer(c)},closePopup:function(c){c&&c!==this._popup||(c=this._popup,this._popup=null);c&&this.removeLayer(c);return this}});je.include({bindPopup:function(c,k){if(c instanceof C)nb(c,k),this._popup=c,c._source=this;else{if(!this._popup||k)this._popup=new C(k,this);this._popup.setContent(c)}this._popupHandlersAdded||
(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0);return this},unbindPopup:function(){this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null);return this},openPopup:function(c,k){this._popup&&this._map&&(k=this._popup._prepareOpen(this,c,k),this._map.openPopup(this._popup,k));return this},closePopup:function(){this._popup&&
this._popup._close();return this},togglePopup:function(c){this._popup&&(this._popup._map?this.closePopup():this.openPopup(c));return this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(c){this._popup&&this._popup.setContent(c);return this},getPopup:function(){return this._popup},_openPopup:function(c){var k=c.layer||c.target;this._popup&&this._map&&(Rc(c),k instanceof ca?this.openPopup(c.layer||c.target,c.latlng):this._map.hasLayer(this._popup)&&this._popup._source===
k?this.closePopup():this.openPopup(k,c.latlng))},_movePopup:function(c){this._popup.setLatLng(c.latlng)},_onKeyPress:function(c){13===c.originalEvent.keyCode&&this._openPopup(c)}});var X=r.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(c){r.prototype.onAdd.call(this,c);this.setOpacity(this.options.opacity);c.fire("tooltipopen",{tooltip:this});this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(c){r.prototype.onRemove.call(this,
c);c.fire("tooltipclose",{tooltip:this});this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var c=r.prototype.getEvents.call(this);se&&!this.options.permanent&&(c.preclick=this._close);return c},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){this._contentNode=this._container=t("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"))},_updateLayout:function(){},_adjustPan:function(){},
_setPosition:function(c){var k=this._map,D=this._container;var ba=k.latLngToContainerPoint(k.getCenter());var Aa=k.layerPointToContainerPoint(c);k=this.options.direction;var Fb=D.offsetWidth;var Kb=D.offsetHeight;var Wb=Ua(this.options.offset),qc=this._getAnchor();"top"===k?ba=Fb/2:"bottom"===k?(ba=Fb/2,Kb=0):("center"===k?ba=Fb/2:"right"===k?ba=0:"left"===k?ba=Fb:Aa.x<ba.x?(k="right",ba=0):(k="left",ba=Fb+2*(Wb.x+qc.x)),Kb/=2);c=c.subtract(Ua(ba,Kb,!0)).add(Wb).add(qc);z(D,"leaflet-tooltip-right");
z(D,"leaflet-tooltip-left");z(D,"leaflet-tooltip-top");z(D,"leaflet-tooltip-bottom");E(D,"leaflet-tooltip-"+k);W(D,c)},_updatePosition:function(){var c=this._map.latLngToLayerPoint(this._latlng);this._setPosition(c)},setOpacity:function(c){this.options.opacity=c;this._container&&fa(this._container,c)},_animateZoom:function(c){c=this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center);this._setPosition(c)},_getAnchor:function(){return Ua(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?
this._source._getTooltipAnchor():[0,0])}});H.include({openTooltip:function(c,k,D){c instanceof X||(c=(new X(D)).setContent(c));k&&c.setLatLng(k);return this.hasLayer(c)?this:this.addLayer(c)},closeTooltip:function(c){c&&this.removeLayer(c);return this}});je.include({bindTooltip:function(c,k){if(c instanceof X)nb(c,k),this._tooltip=c,c._source=this;else{if(!this._tooltip||k)this._tooltip=new X(k,this);this._tooltip.setContent(c)}this._initTooltipInteractions();this._tooltip.options.permanent&&this._map&&
this._map.hasLayer(this)&&this.openTooltip();return this},unbindTooltip:function(){this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null);return this},_initTooltipInteractions:function(c){if(c||!this._tooltipHandlersAdded){var k={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?k.add=this._openTooltip:(k.mouseover=this._openTooltip,k.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(k.mousemove=this._moveTooltip),se&&(k.click=
this._openTooltip));this[c?"off":"on"](k);this._tooltipHandlersAdded=!c}},openTooltip:function(c,k){this._tooltip&&this._map&&(k=this._tooltip._prepareOpen(this,c,k),this._map.openTooltip(this._tooltip,k),this._tooltip.options.interactive&&this._tooltip._container&&(E(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container)));return this},closeTooltip:function(){this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&
(z(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container)));return this},toggleTooltip:function(c){this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(c));return this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(c){this._tooltip&&this._tooltip.setContent(c);return this},getTooltip:function(){return this._tooltip},_openTooltip:function(c){this._tooltip&&this._map&&this.openTooltip(c.layer||c.target,
this._tooltip.options.sticky?c.latlng:void 0)},_moveTooltip:function(c){var k=c.latlng;this._tooltip.options.sticky&&c.originalEvent&&(c=this._map.mouseEventToContainerPoint(c.originalEvent),c=this._map.containerPointToLayerPoint(c),k=this._map.layerPointToLatLng(c));this._tooltip.setLatLng(k)}});var ea=Gf.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(c){c=c&&"DIV"===c.tagName?c:document.createElement("div");var k=this.options;k.html instanceof
Element?(l(c),c.appendChild(k.html)):c.innerHTML=!1!==k.html?k.html:"";k.bgPos&&(k=Ua(k.bgPos),c.style.backgroundPosition=-k.x+"px "+-k.y+"px");this._setIconStyles(c,"icon");return c},createShadow:function(){return null}});Gf.Default=J;var eb=je.extend({options:{tileSize:256,opacity:1,updateWhenIdle:pe,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(c){nb(this,
c)},onAdd:function(){this._initContainer();this._levels={};this._tiles={};this._resetView();this._update()},beforeAdd:function(c){c._addZoomLimit(this)},onRemove:function(c){this._removeAllTiles();u(this._container);c._removeZoomLimit(this);this._container=null;this._tileZoom=void 0},bringToFront:function(){this._map&&(p(this._container),this._setAutoZIndex(Math.max));return this},bringToBack:function(){this._map&&(A(this._container),this._setAutoZIndex(Math.min));return this},getContainer:function(){return this._container},
setOpacity:function(c){this.options.opacity=c;this._updateOpacity();return this},setZIndex:function(c){this.options.zIndex=c;this._updateZIndex();return this},isLoading:function(){return this._loading},redraw:function(){this._map&&(this._removeAllTiles(),this._update());return this},getEvents:function(){var c={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};this.options.updateWhenIdle||(this._onMove||(this._onMove=Qb(this._onMoveEnd,this.options.updateInterval,
this)),c.move=this._onMove);this._zoomAnimated&&(c.zoomanim=this._animateZoom);return c},createTile:function(){return document.createElement("div")},getTileSize:function(){var c=this.options.tileSize;return c instanceof xa?c:new xa(c,c)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(c){for(var k=this.getPane().children,D=-c(-Infinity,Infinity),ba=0,Aa=k.length,Fb;ba<Aa;ba++)Fb=
k[ba].style.zIndex,k[ba]!==this._container&&Fb&&(D=c(D,+Fb));isFinite(D)&&(this.options.zIndex=D+c(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!rd){fa(this._container,this.options.opacity);var c=+new Date,k=!1,D=!1,ba;for(ba in this._tiles){var Aa=this._tiles[ba];if(Aa.current&&Aa.loaded){var Fb=Math.min(1,(c-Aa.loaded)/200);fa(Aa.el,Fb);1>Fb?k=!0:(Aa.active?D=!0:this._onOpaqueTile(Aa),Aa.active=!0)}}D&&!this._noPrune&&this._pruneTiles();k&&(za(this._fadeFrame),this._fadeFrame=
kb(this._updateOpacity,this))}},_onOpaqueTile:pb,_initContainer:function(){this._container||(this._container=t("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),1>this.options.opacity&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var c=this._tileZoom,k=this.options.maxZoom;if(void 0!==c){for(var D in this._levels)D=Number(D),this._levels[D].el.children.length||D===c?(this._levels[D].el.style.zIndex=k-Math.abs(c-D),this._onUpdateLevel(D)):
(u(this._levels[D].el),this._removeTilesAtZoom(D),this._onRemoveLevel(D),delete this._levels[D]);D=this._levels[c];var ba=this._map;D||(D=this._levels[c]={},D.el=t("div","leaflet-tile-container leaflet-zoom-animated",this._container),D.el.style.zIndex=k,D.origin=ba.project(ba.unproject(ba.getPixelOrigin()),c).round(),D.zoom=c,this._setZoomTransform(D,ba.getCenter(),ba.getZoom()),this._onCreateLevel(D));return this._level=D}},_onUpdateLevel:pb,_onRemoveLevel:pb,_onCreateLevel:pb,_pruneTiles:function(){if(this._map){var c;
var k=this._map.getZoom();if(k>this.options.maxZoom||k<this.options.minZoom)this._removeAllTiles();else{for(c in this._tiles)k=this._tiles[c],k.retain=k.current;for(c in this._tiles)k=this._tiles[c],k.current&&!k.active&&(k=k.coords,this._retainParent(k.x,k.y,k.z,k.z-5)||this._retainChildren(k.x,k.y,k.z,k.z+2));for(c in this._tiles)this._tiles[c].retain||this._removeTile(c)}}},_removeTilesAtZoom:function(c){for(var k in this._tiles)this._tiles[k].coords.z===c&&this._removeTile(k)},_removeAllTiles:function(){for(var c in this._tiles)this._removeTile(c)},
_invalidateAll:function(){for(var c in this._levels)u(this._levels[c].el),this._onRemoveLevel(Number(c)),delete this._levels[c];this._removeAllTiles();this._tileZoom=void 0},_retainParent:function(c,k,D,ba){c=Math.floor(c/2);k=Math.floor(k/2);--D;var Aa=new xa(+c,+k);Aa.z=+D;Aa=this._tileCoordsToKey(Aa);if((Aa=this._tiles[Aa])&&Aa.active)return Aa.retain=!0;Aa&&Aa.loaded&&(Aa.retain=!0);return D>ba?this._retainParent(c,k,D,ba):!1},_retainChildren:function(c,k,D,ba){for(var Aa=2*c;Aa<2*c+2;Aa++)for(var Fb=
2*k;Fb<2*k+2;Fb++){var Kb=new xa(Aa,Fb);Kb.z=D+1;Kb=this._tileCoordsToKey(Kb);(Kb=this._tiles[Kb])&&Kb.active?Kb.retain=!0:(Kb&&Kb.loaded&&(Kb.retain=!0),D+1<ba&&this._retainChildren(Aa,Fb,D+1,ba))}},_resetView:function(c){c=c&&(c.pinch||c.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(c){this._setView(c.center,c.zoom,!0,c.noUpdate)},_clampZoom:function(c){var k=this.options;return void 0!==k.minNativeZoom&&c<k.minNativeZoom?k.minNativeZoom:void 0!==k.maxNativeZoom&&
k.maxNativeZoom<c?k.maxNativeZoom:c},_setView:function(c,k,D,ba){var Aa=Math.round(k);Aa=void 0!==this.options.maxZoom&&Aa>this.options.maxZoom||void 0!==this.options.minZoom&&Aa<this.options.minZoom?void 0:this._clampZoom(Aa);var Fb=this.options.updateWhenZooming&&Aa!==this._tileZoom;if(!ba||Fb)this._tileZoom=Aa,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==Aa&&this._update(c),D||this._pruneTiles(),this._noPrune=!!D;this._setZoomTransforms(c,k)},_setZoomTransforms:function(c,
k){for(var D in this._levels)this._setZoomTransform(this._levels[D],c,k)},_setZoomTransform:function(c,k,D){var ba=this._map.getZoomScale(D,c.zoom);k=c.origin.multiplyBy(ba).subtract(this._map._getNewPixelOrigin(k,D)).round();wc?Da(c.el,k,ba):W(c.el,k)},_resetGrid:function(){var c=this._map,k=c.options.crs,D=this._tileSize=this.getTileSize(),ba=this._tileZoom,Aa=this._map.getPixelWorldBounds(this._tileZoom);Aa&&(this._globalTileRange=this._pxBoundsToTileRange(Aa));this._wrapX=k.wrapLng&&!this.options.noWrap&&
[Math.floor(c.project([0,k.wrapLng[0]],ba).x/D.x),Math.ceil(c.project([0,k.wrapLng[1]],ba).x/D.y)];this._wrapY=k.wrapLat&&!this.options.noWrap&&[Math.floor(c.project([k.wrapLat[0],0],ba).y/D.x),Math.ceil(c.project([k.wrapLat[1],0],ba).y/D.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(c){var k=this._map,D=k._animatingZoom?Math.max(k._animateToZoom,k.getZoom()):k.getZoom();D=k.getZoomScale(D,this._tileZoom);c=k.project(c,this._tileZoom).floor();
k=k.getSize().divideBy(2*D);return new Ja(c.subtract(k),c.add(k))},_update:function(c){var k=this._map;if(k){var D=this._clampZoom(k.getZoom());void 0===c&&(c=k.getCenter());if(void 0!==this._tileZoom){k=this._getTiledPixelBounds(c);var ba=this._pxBoundsToTileRange(k),Aa=ba.getCenter();k=[];var Fb=this.options.keepBuffer;Fb=new Ja(ba.getBottomLeft().subtract([Fb,-Fb]),ba.getTopRight().add([Fb,-Fb]));if(!(isFinite(ba.min.x)&&isFinite(ba.min.y)&&isFinite(ba.max.x)&&isFinite(ba.max.y)))throw Error("Attempted to load an infinite number of tiles");
for(var Kb in this._tiles){var Wb=this._tiles[Kb].coords;Wb.z===this._tileZoom&&Fb.contains(new xa(Wb.x,Wb.y))||(this._tiles[Kb].current=!1)}if(1<Math.abs(D-this._tileZoom))this._setView(c,D);else{for(D=ba.min.y;D<=ba.max.y;D++)for(c=ba.min.x;c<=ba.max.x;c++)Kb=new xa(c,D),Kb.z=this._tileZoom,this._isValidTile(Kb)&&((Fb=this._tiles[this._tileCoordsToKey(Kb)])?Fb.current=!0:k.push(Kb));k.sort(function(qc,Yc){return qc.distanceTo(Aa)-Yc.distanceTo(Aa)});if(0!==k.length){this._loading||(this._loading=
!0,this.fire("loading"));ba=document.createDocumentFragment();for(c=0;c<k.length;c++)this._addTile(k[c],ba);this._level.el.appendChild(ba)}}}}},_isValidTile:function(c){var k=this._map.options.crs;if(!k.infinite){var D=this._globalTileRange;if(!k.wrapLng&&(c.x<D.min.x||c.x>D.max.x)||!k.wrapLat&&(c.y<D.min.y||c.y>D.max.y))return!1}if(!this.options.bounds)return!0;c=this._tileCoordsToBounds(c);return La(this.options.bounds).overlaps(c)},_keyToBounds:function(c){return this._tileCoordsToBounds(this._keyToTileCoords(c))},
_tileCoordsToNwSe:function(c){var k=this._map,D=this.getTileSize(),ba=c.scaleBy(D);D=ba.add(D);ba=k.unproject(ba,c.z);c=k.unproject(D,c.z);return[ba,c]},_tileCoordsToBounds:function(c){c=this._tileCoordsToNwSe(c);c=new wa(c[0],c[1]);this.options.noWrap||(c=this._map.wrapLatLngBounds(c));return c},_tileCoordsToKey:function(c){return c.x+":"+c.y+":"+c.z},_keyToTileCoords:function(c){c=c.split(":");var k=new xa(+c[0],+c[1]);k.z=+c[2];return k},_removeTile:function(c){var k=this._tiles[c];k&&(u(k.el),
delete this._tiles[c],this.fire("tileunload",{tile:k.el,coords:this._keyToTileCoords(c)}))},_initTile:function(c){E(c,"leaflet-tile");var k=this.getTileSize();c.style.width=k.x+"px";c.style.height=k.y+"px";c.onselectstart=pb;c.onmousemove=pb;rd&&1>this.options.opacity&&fa(c,this.options.opacity);qe&&!bf&&(c.style.WebkitBackfaceVisibility="hidden")},_addTile:function(c,k){var D=this._getTilePos(c),ba=this._tileCoordsToKey(c),Aa=this.createTile(this._wrapCoords(c),Y(this._tileReady,this,c));this._initTile(Aa);
2>this.createTile.length&&kb(Y(this._tileReady,this,c,null,Aa));W(Aa,D);this._tiles[ba]={el:Aa,coords:c,current:!0};k.appendChild(Aa);this.fire("tileloadstart",{tile:Aa,coords:c})},_tileReady:function(c,k,D){k&&this.fire("tileerror",{error:k,tile:D,coords:c});D=this._tileCoordsToKey(c);if(D=this._tiles[D])D.loaded=+new Date,this._map._fadeAnimated?(fa(D.el,0),za(this._fadeFrame),this._fadeFrame=kb(this._updateOpacity,this)):(D.active=!0,this._pruneTiles()),k||(E(D.el,"leaflet-tile-loaded"),this.fire("tileload",
{tile:D.el,coords:c})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),rd||!this._map._fadeAnimated?kb(this._pruneTiles,this):setTimeout(Y(this._pruneTiles,this),250))},_getTilePos:function(c){return c.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(c){var k=new xa(this._wrapX?db(c.x,this._wrapX):c.x,this._wrapY?db(c.y,this._wrapY):c.y);k.z=c.z;return k},_pxBoundsToTileRange:function(c){var k=this.getTileSize();return new Ja(c.min.unscaleBy(k).floor(),c.max.unscaleBy(k).ceil().subtract([1,
1]))},_noTilesToLoad:function(){for(var c in this._tiles)if(!this._tiles[c].loaded)return!1;return!0}}),Cb=eb.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(c,k){this._url=c;k=nb(this,k);k.detectRetina&&Ve&&0<k.maxZoom&&(k.tileSize=Math.floor(k.tileSize/2),k.zoomReverse?(k.zoomOffset--,k.minZoom++):(k.zoomOffset++,k.maxZoom--),k.minZoom=Math.max(0,k.minZoom));"string"===typeof k.subdomains&&
(k.subdomains=k.subdomains.split(""));if(!qe)this.on("tileunload",this._onTileRemove)},setUrl:function(c,k){this._url===c&&void 0===k&&(k=!0);this._url=c;k||this.redraw();return this},createTile:function(c,k){var D=document.createElement("img");tc(D,"load",Y(this._tileOnLoad,this,k,D));tc(D,"error",Y(this._tileOnError,this,k,D));if(this.options.crossOrigin||""===this.options.crossOrigin)D.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin;D.alt="";D.setAttribute("role","presentation");
D.src=this.getTileUrl(c);return D},getTileUrl:function(c){var k={r:Ve?"@2x":"",s:this._getSubdomain(c),x:c.x,y:c.y,z:this._getZoomForUrl()};this._map&&!this._map.options.crs.infinite&&(c=this._globalTileRange.max.y-c.y,this.options.tms&&(k.y=c),k["-y"]=c);return Pa(this._url,v(k,this.options))},_tileOnLoad:function(c,k){rd?setTimeout(Y(c,this,null,k),0):c(null,k)},_tileOnError:function(c,k,D){var ba=this.options.errorTileUrl;ba&&k.getAttribute("src")!==ba&&(k.src=ba);c(D,k)},_onTileRemove:function(c){c.tile.onload=
null},_getZoomForUrl:function(){var c=this._tileZoom,k=this.options.maxZoom,D=this.options.zoomOffset;this.options.zoomReverse&&(c=k-c);return c+D},_getSubdomain:function(c){return this.options.subdomains[Math.abs(c.x+c.y)%this.options.subdomains.length]},_abortLoading:function(){var c;for(c in this._tiles)if(this._tiles[c].coords.z!==this._tileZoom){var k=this._tiles[c].el;k.onload=pb;k.onerror=pb;k.complete||(k.src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs\x3d",u(k),delete this._tiles[c])}},
_removeTile:function(c){var k=this._tiles[c];if(k)return fe||k.el.setAttribute("src","data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs\x3d"),eb.prototype._removeTile.call(this,c)},_tileReady:function(c,k,D){if(this._map&&(!D||"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs\x3d"!==D.getAttribute("src")))return eb.prototype._tileReady.call(this,c,k,D)}}),Jb=Cb.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},
options:{crs:null,uppercase:!1},initialize:function(c,k){this._url=c;c=v({},this.defaultWmsParams);for(var D in k)D in this.options||(c[D]=k[D]);k=nb(this,k);k=k.detectRetina&&Ve?2:1;D=this.getTileSize();c.width=D.x*k;c.height=D.y*k;this.wmsParams=c},onAdd:function(c){this._crs=this.options.crs||c.options.crs;this._wmsVersion=parseFloat(this.wmsParams.version);this.wmsParams[1.3<=this._wmsVersion?"crs":"srs"]=this._crs.code;Cb.prototype.onAdd.call(this,c)},getTileUrl:function(c){var k=this._tileCoordsToNwSe(c),
D=this._crs;D=da(D.project(k[0]),D.project(k[1]));k=D.min;D=D.max;k=(1.3<=this._wmsVersion&&this._crs===Kd?[k.y,k.x,D.y,D.x]:[k.x,k.y,D.x,D.y]).join(",");c=Cb.prototype.getTileUrl.call(this,c);return c+mb(this.wmsParams,c,this.options.uppercase)+(this.options.uppercase?"\x26BBOX\x3d":"\x26bbox\x3d")+k},setParams:function(c,k){v(this.wmsParams,c);k||this.redraw();return this}});Cb.WMS=Jb;Zb.wms=function(c,k){return new Jb(c,k)};var $b=je.extend({options:{padding:.1,tolerance:0},initialize:function(c){nb(this,
c);Qa(this);this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&E(this._container,"leaflet-zoom-animated"));this.getPane().appendChild(this._container);this._update();this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this);this._destroyContainer()},getEvents:function(){var c={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};this._zoomAnimated&&(c.zoomanim=this._onAnimZoom);
return c},_onAnimZoom:function(c){this._updateTransform(c.center,c.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(c,k){var D=this._map.getZoomScale(k,this._zoom),ba=na(this._container),Aa=this._map.getSize().multiplyBy(.5+this.options.padding),Fb=this._map.project(this._center,k);c=this._map.project(c,k).subtract(Fb);ba=Aa.multiplyBy(-D).add(ba).add(Aa).subtract(c);wc?Da(this._container,ba,D):W(this._container,ba)},_reset:function(){this._update();
this._updateTransform(this._center,this._zoom);for(var c in this._layers)this._layers[c]._reset()},_onZoomEnd:function(){for(var c in this._layers)this._layers[c]._project()},_updatePaths:function(){for(var c in this._layers)this._layers[c]._update()},_update:function(){var c=this.options.padding,k=this._map.getSize(),D=this._map.containerPointToLayerPoint(k.multiplyBy(-c)).round();this._bounds=new Ja(D,D.add(k.multiplyBy(1+2*c)).round());this._center=this._map.getCenter();this._zoom=this._map.getZoom()}}),
rc=$b.extend({getEvents:function(){var c=$b.prototype.getEvents.call(this);c.viewprereset=this._onViewPreReset;return c},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){$b.prototype.onAdd.call(this);this._draw()},_initContainer:function(){var c=this._container=document.createElement("canvas");tc(c,"mousemove",this._onMouseMove,this);tc(c,"click dblclick mousedown mouseup contextmenu",this._onClick,this);tc(c,"mouseout",this._handleMouseOut,this);this._ctx=c.getContext("2d")},
_destroyContainer:function(){za(this._redrawRequest);delete this._ctx;u(this._container);Hc(this._container);delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){this._redrawBounds=null;for(var c in this._layers){var k=this._layers[c];k._update()}this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){$b.prototype._update.call(this);var c=this._bounds,k=this._container,D=c.getSize(),ba=Ve?2:1;W(k,c.min);k.width=ba*D.x;k.height=ba*D.y;k.style.width=
D.x+"px";k.style.height=D.y+"px";Ve&&this._ctx.scale(2,2);this._ctx.translate(-c.min.x,-c.min.y);this.fire("update")}},_reset:function(){$b.prototype._reset.call(this);this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(c){this._updateDashArray(c);this._layers[Qa(c)]=c;c=c._order={layer:c,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c);this._drawLast=c;this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(c){this._requestRedraw(c)},
_removePath:function(c){var k=c._order,D=k.next;k=k.prev;D?D.prev=k:this._drawLast=k;k?k.next=D:this._drawFirst=D;delete c._order;delete this._layers[Qa(c)];this._requestRedraw(c)},_updatePath:function(c){this._extendRedrawBounds(c);c._project();c._update();this._requestRedraw(c)},_updateStyle:function(c){this._updateDashArray(c);this._requestRedraw(c)},_updateDashArray:function(c){if("string"===typeof c.options.dashArray){var k=c.options.dashArray.split(/[, ]+/),D=[],ba;for(ba=0;ba<k.length;ba++){var Aa=
Number(k[ba]);if(isNaN(Aa))return;D.push(Aa)}c.options._dashArray=D}else c.options._dashArray=c.options.dashArray},_requestRedraw:function(c){this._map&&(this._extendRedrawBounds(c),this._redrawRequest=this._redrawRequest||kb(this._redraw,this))},_extendRedrawBounds:function(c){if(c._pxBounds){var k=(c.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Ja;this._redrawBounds.extend(c._pxBounds.min.subtract([k,k]));this._redrawBounds.extend(c._pxBounds.max.add([k,k]))}},_redraw:function(){this._redrawRequest=
null;this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil());this._clear();this._draw();this._redrawBounds=null},_clear:function(){var c=this._redrawBounds;if(c){var k=c.getSize();this._ctx.clearRect(c.min.x,c.min.y,k.x,k.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var c=this._redrawBounds;this._ctx.save();if(c){var k=c.getSize();this._ctx.beginPath();
this._ctx.rect(c.min.x,c.min.y,k.x,k.y);this._ctx.clip()}this._drawing=!0;for(var D=this._drawFirst;D;D=D.next)k=D.layer,(!c||k._pxBounds&&k._pxBounds.intersects(c))&&k._updatePath();this._drawing=!1;this._ctx.restore()},_updatePoly:function(c,k){if(this._drawing){var D,ba,Aa=c._parts,Fb=Aa.length,Kb=this._ctx;if(Fb){Kb.beginPath();for(D=0;D<Fb;D++){var Wb=0;for(ba=Aa[D].length;Wb<ba;Wb++){var qc=Aa[D][Wb];Kb[Wb?"lineTo":"moveTo"](qc.x,qc.y)}k&&Kb.closePath()}this._fillStroke(Kb,c)}}},_updateCircle:function(c){if(this._drawing&&
!c._empty()){var k=c._point,D=this._ctx,ba=Math.max(Math.round(c._radius),1),Aa=(Math.max(Math.round(c._radiusY),1)||ba)/ba;1!==Aa&&(D.save(),D.scale(1,Aa));D.beginPath();D.arc(k.x,k.y/Aa,ba,0,2*Math.PI,!1);1!==Aa&&D.restore();this._fillStroke(D,c)}},_fillStroke:function(c,k){var D=k.options;D.fill&&(c.globalAlpha=D.fillOpacity,c.fillStyle=D.fillColor||D.color,c.fill(D.fillRule||"evenodd"));D.stroke&&0!==D.weight&&(c.setLineDash&&c.setLineDash(k.options&&k.options._dashArray||[]),c.globalAlpha=D.opacity,
c.lineWidth=D.weight,c.strokeStyle=D.color,c.lineCap=D.lineCap,c.lineJoin=D.lineJoin,c.stroke())},_onClick:function(c){for(var k=this._map.mouseEventToLayerPoint(c),D,ba,Aa=this._drawFirst;Aa;Aa=Aa.next)D=Aa.layer,D.options.interactive&&D._containsPoint(k)&&("click"!==c.type&&"preclick"===c.type||!this._map._draggableMoved(D))&&(ba=D);ba&&(ce(c),this._fireEvent([ba],c))},_onMouseMove:function(c){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var k=this._map.mouseEventToLayerPoint(c);
this._handleMouseHover(c,k)}},_handleMouseOut:function(c){var k=this._hoveredLayer;k&&(z(this._container,"leaflet-interactive"),this._fireEvent([k],c,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(c,k){if(!this._mouseHoverThrottled){for(var D,ba,Aa=this._drawFirst;Aa;Aa=Aa.next)D=Aa.layer,D.options.interactive&&D._containsPoint(k)&&(ba=D);ba!==this._hoveredLayer&&(this._handleMouseOut(c),ba&&(E(this._container,"leaflet-interactive"),this._fireEvent([ba],
c,"mouseover"),this._hoveredLayer=ba));this._hoveredLayer&&this._fireEvent([this._hoveredLayer],c);this._mouseHoverThrottled=!0;setTimeout(Y(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(c,k,D){this._map._fireDOMEvent(k,D||k.type,c)},_bringToFront:function(c){var k=c._order;if(k){var D=k.next,ba=k.prev;D&&((D.prev=ba)?ba.next=D:D&&(this._drawFirst=D),k.prev=this._drawLast,this._drawLast.next=k,k.next=null,this._drawLast=k,this._requestRedraw(c))}},_bringToBack:function(c){var k=
c._order;if(k){var D=k.next,ba=k.prev;ba&&((ba.next=D)?D.prev=ba:ba&&(this._drawLast=ba),k.prev=null,k.next=this._drawFirst,this._drawFirst=this._drawFirst.prev=k,this._requestRedraw(c))}}}),Ic=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(c){return document.createElement("\x3clvml:"+c+' class\x3d"lvml"\x3e')}}catch(c){return function(k){return document.createElement("\x3c"+k+' xmlns\x3d"urn:schemas-microsoft.com:vml" class\x3d"lvml"\x3e')}}}(),Fc=
{_initContainer:function(){this._container=t("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||($b.prototype._update.call(this),this.fire("update"))},_initPath:function(c){var k=c._container=Ic("shape");E(k,"leaflet-vml-shape "+(this.options.className||""));k.coordsize="1 1";c._path=Ic("path");k.appendChild(c._path);this._updateStyle(c);this._layers[Qa(c)]=c},_addPath:function(c){var k=c._container;this._container.appendChild(k);c.options.interactive&&c.addInteractiveTarget(k)},
_removePath:function(c){var k=c._container;u(k);c.removeInteractiveTarget(k);delete this._layers[Qa(c)]},_updateStyle:function(c){var k=c._stroke,D=c._fill,ba=c.options,Aa=c._container;Aa.stroked=!!ba.stroke;Aa.filled=!!ba.fill;ba.stroke?(k||(k=c._stroke=Ic("stroke")),Aa.appendChild(k),k.weight=ba.weight+"px",k.color=ba.color,k.opacity=ba.opacity,k.dashStyle=ba.dashArray?sc(ba.dashArray)?ba.dashArray.join(" "):ba.dashArray.replace(/( *, *)/g," "):"",k.endcap=ba.lineCap.replace("butt","flat"),k.joinstyle=
ba.lineJoin):k&&(Aa.removeChild(k),c._stroke=null);ba.fill?(D||(D=c._fill=Ic("fill")),Aa.appendChild(D),D.color=ba.fillColor||ba.color,D.opacity=ba.fillOpacity):D&&(Aa.removeChild(D),c._fill=null)},_updateCircle:function(c){var k=c._point.round(),D=Math.round(c._radius),ba=Math.round(c._radiusY||D);this._setPath(c,c._empty()?"M0 0":"AL "+k.x+","+k.y+" "+D+","+ba+" 0,23592600")},_setPath:function(c,k){c._path.v=k},_bringToFront:function(c){p(c._container)},_bringToBack:function(c){A(c._container)}},
hd=ra?Ic:Xa,yd=$b.extend({getEvents:function(){var c=$b.prototype.getEvents.call(this);c.zoomstart=this._onZoomStart;return c},_initContainer:function(){this._container=hd("svg");this._container.setAttribute("pointer-events","none");this._rootGroup=hd("g");this._container.appendChild(this._rootGroup)},_destroyContainer:function(){u(this._container);Hc(this._container);delete this._container;delete this._rootGroup;delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||
!this._bounds){$b.prototype._update.call(this);var c=this._bounds,k=c.getSize(),D=this._container;this._svgSize&&this._svgSize.equals(k)||(this._svgSize=k,D.setAttribute("width",k.x),D.setAttribute("height",k.y));W(D,c.min);D.setAttribute("viewBox",[c.min.x,c.min.y,k.x,k.y].join(" "));this.fire("update")}},_initPath:function(c){var k=c._path=hd("path");c.options.className&&E(k,c.options.className);c.options.interactive&&E(k,"leaflet-interactive");this._updateStyle(c);this._layers[Qa(c)]=c},_addPath:function(c){this._rootGroup||
this._initContainer();this._rootGroup.appendChild(c._path);c.addInteractiveTarget(c._path)},_removePath:function(c){u(c._path);c.removeInteractiveTarget(c._path);delete this._layers[Qa(c)]},_updatePath:function(c){c._project();c._update()},_updateStyle:function(c){var k=c._path;c=c.options;k&&(c.stroke?(k.setAttribute("stroke",c.color),k.setAttribute("stroke-opacity",c.opacity),k.setAttribute("stroke-width",c.weight),k.setAttribute("stroke-linecap",c.lineCap),k.setAttribute("stroke-linejoin",c.lineJoin),
c.dashArray?k.setAttribute("stroke-dasharray",c.dashArray):k.removeAttribute("stroke-dasharray"),c.dashOffset?k.setAttribute("stroke-dashoffset",c.dashOffset):k.removeAttribute("stroke-dashoffset")):k.setAttribute("stroke","none"),c.fill?(k.setAttribute("fill",c.fillColor||c.color),k.setAttribute("fill-opacity",c.fillOpacity),k.setAttribute("fill-rule",c.fillRule||"evenodd")):k.setAttribute("fill","none"))},_updatePoly:function(c,k){this._setPath(c,Q(c._parts,k))},_updateCircle:function(c){var k=
c._point,D=Math.max(Math.round(c._radius),1),ba="a"+D+","+(Math.max(Math.round(c._radiusY),1)||D)+" 0 1,0 ";k=c._empty()?"M0 0":"M"+(k.x-D)+","+k.y+ba+2*D+",0 "+ba+2*-D+",0 ";this._setPath(c,k)},_setPath:function(c,k){c._path.setAttribute("d",k)},_bringToFront:function(c){p(c._path)},_bringToBack:function(c){A(c._path)}});ra&&yd.include(Fc);H.include({getRenderer:function(c){c=c.options.renderer||this._getPaneRenderer(c.options.pane)||this.options.renderer||this._renderer;c||(c=this._renderer=this._createRenderer());
this.hasLayer(c)||this.addLayer(c);return c},_getPaneRenderer:function(c){if("overlayPane"===c||void 0===c)return!1;var k=this._paneRenderers[c];void 0===k&&(k=this._createRenderer({pane:c}),this._paneRenderers[c]=k);return k},_createRenderer:function(c){return this.options.preferCanvas&&lc(c)||uc(c)}});var Qc=ob.extend({initialize:function(c,k){ob.prototype.initialize.call(this,this._boundsToLatLngs(c),k)},setBounds:function(c){return this.setLatLngs(this._boundsToLatLngs(c))},_boundsToLatLngs:function(c){c=
La(c);return[c.getSouthWest(),c.getNorthWest(),c.getNorthEast(),c.getSouthEast()]}});yd.create=hd;yd.pointsToPath=Q;hb.geometryToLayer=ab;hb.coordsToLatLng=Rb;hb.coordsToLatLngs=zb;hb.latLngToCoords=kc;hb.latLngsToCoords=bc;hb.getFeature=Ia;hb.asFeature=lb;H.mergeOptions({boxZoom:!0});var Dd=Gc.extend({initialize:function(c){this._map=c;this._container=c._container;this._pane=c._panes.overlayPane;this._resetStateTimeout=0;c.on("unload",this._destroy,this)},addHooks:function(){tc(this._container,"mousedown",
this._onMouseDown,this)},removeHooks:function(){Hc(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){u(this._pane);delete this._pane},_resetState:function(){this._resetStateTimeout=0;this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(c){if(!c.shiftKey||1!==c.which&&1!==c.button)return!1;this._clearDeferredResetState();this._resetState();
ye();$a();this._startPoint=this._map.mouseEventToContainerPoint(c);tc(document,{contextmenu:Rc,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(c){this._moved||(this._moved=!0,this._box=t("div","leaflet-zoom-box",this._container),E(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart"));this._point=this._map.mouseEventToContainerPoint(c);c=new Ja(this._point,this._startPoint);var k=c.getSize();W(this._box,c.min);this._box.style.width=
k.x+"px";this._box.style.height=k.y+"px"},_finish:function(){this._moved&&(u(this._box),z(this._container,"leaflet-crosshair"));ve();sb();Hc(document,{contextmenu:Rc,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(c){if(1===c.which||1===c.button)this._finish(),this._moved&&(this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(Y(this._resetState,this),0),c=new wa(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point)),
this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c}))},_onKeyDown:function(c){27===c.keyCode&&this._finish()}});H.addInitHook("addHandler","boxZoom",Dd);H.mergeOptions({doubleClickZoom:!0});var Qd=Gc.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(c){var k=this._map,D=k.getZoom(),ba=k.options.zoomDelta;D=c.originalEvent.shiftKey?D-ba:D+ba;"center"===k.options.doubleClickZoom?
k.setZoom(D):k.setZoomAround(c.containerPoint,D)}});H.addInitHook("addHandler","doubleClickZoom",Qd);H.mergeOptions({dragging:!0,inertia:!bf,inertiaDeceleration:3400,inertiaMaxSpeed:Infinity,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var xe=Gc.extend({addHooks:function(){if(!this._draggable){var c=this._map;this._draggable=new Ed(c._mapPane,c._container);this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this);this._draggable.on("predrag",this._onPreDragLimit,
this);c.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),c.on("zoomend",this._onZoomEnd,this),c.whenReady(this._onZoomEnd,this))}E(this._map._container,"leaflet-grab leaflet-touch-drag");this._draggable.enable();this._positions=[];this._times=[]},removeHooks:function(){z(this._map._container,"leaflet-grab");z(this._map._container,"leaflet-touch-drag");this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&
this._draggable._moving},_onDragStart:function(){var c=this._map;c._stop();if(this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var k=La(this._map.options.maxBounds);this._offsetLimit=da(this._map.latLngToContainerPoint(k.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(k.getSouthEast()).multiplyBy(-1).add(this._map.getSize()));this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;c.fire("movestart").fire("dragstart");
c.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(c){if(this._map.options.inertia){var k=this._lastTime=+new Date,D=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(D);this._times.push(k);this._prunePositions(k)}this._map.fire("move",c).fire("drag",c)},_prunePositions:function(c){for(;1<this._positions.length&&50<c-this._times[0];)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var c=this._map.getSize().divideBy(2);this._initialWorldOffset=
this._map.latLngToLayerPoint([0,0]).subtract(c).x;this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(c,k){return c-(c-k)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var c=this._draggable._newPos.subtract(this._draggable._startPos),k=this._offsetLimit;c.x<k.min.x&&(c.x=this._viscousLimit(c.x,k.min.x));c.y<k.min.y&&(c.y=this._viscousLimit(c.y,k.min.y));c.x>k.max.x&&(c.x=this._viscousLimit(c.x,k.max.x));c.y>k.max.y&&(c.y=this._viscousLimit(c.y,
k.max.y));this._draggable._newPos=this._draggable._startPos.add(c)}},_onPreDragWrap:function(){var c=this._worldWidth,k=Math.round(c/2),D=this._initialWorldOffset,ba=this._draggable._newPos.x,Aa=(ba-k+D)%c+k-D;c=(ba+k+D)%c-k-D;D=Math.abs(Aa+D)<Math.abs(c+D)?Aa:c;this._draggable._absPos=this._draggable._newPos.clone();this._draggable._newPos.x=D},_onDragEnd:function(c){var k=this._map,D=k.options,ba=!D.inertia||2>this._times.length;k.fire("dragend",c);if(ba)k.fire("moveend");else{this._prunePositions(+new Date);
c=this._lastPos.subtract(this._positions[0]);var Aa=D.easeLinearity;ba=c.multiplyBy(Aa/((this._lastTime-this._times[0])/1E3));var Fb=ba.distanceTo([0,0]);c=Math.min(D.inertiaMaxSpeed,Fb);ba=ba.multiplyBy(c/Fb);var Kb=c/(D.inertiaDeceleration*Aa),Wb=ba.multiplyBy(-Kb/2).round();Wb.x||Wb.y?(Wb=k._limitOffset(Wb,k.options.maxBounds),kb(function(){k.panBy(Wb,{duration:Kb,easeLinearity:Aa,noMoveStart:!0,animate:!0})})):k.fire("moveend")}}});H.addInitHook("addHandler","dragging",xe);H.mergeOptions({keyboard:!0,
keyboardPanDelta:80});var ja=Gc.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(c){this._map=c;this._setPanDelta(c.options.keyboardPanDelta);this._setZoomDelta(c.options.zoomDelta)},addHooks:function(){var c=this._map._container;0>=c.tabIndex&&(c.tabIndex="0");tc(c,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks();
Hc(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var c=document.body,k=document.documentElement,D=c.scrollTop||k.scrollTop;c=c.scrollLeft||k.scrollLeft;this._map._container.focus();window.scrollTo(c,D)}},_onFocus:function(){this._focused=!0;this._map.fire("focus")},_onBlur:function(){this._focused=!1;this._map.fire("blur")},_setPanDelta:function(c){var k=
this._panKeys={},D=this.keyCodes,ba;var Aa=0;for(ba=D.left.length;Aa<ba;Aa++)k[D.left[Aa]]=[-1*c,0];Aa=0;for(ba=D.right.length;Aa<ba;Aa++)k[D.right[Aa]]=[c,0];Aa=0;for(ba=D.down.length;Aa<ba;Aa++)k[D.down[Aa]]=[0,c];Aa=0;for(ba=D.up.length;Aa<ba;Aa++)k[D.up[Aa]]=[0,-1*c]},_setZoomDelta:function(c){var k=this._zoomKeys={},D=this.keyCodes,ba;var Aa=0;for(ba=D.zoomIn.length;Aa<ba;Aa++)k[D.zoomIn[Aa]]=c;Aa=0;for(ba=D.zoomOut.length;Aa<ba;Aa++)k[D.zoomOut[Aa]]=-c},_addHooks:function(){tc(document,"keydown",
this._onKeyDown,this)},_removeHooks:function(){Hc(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(c){if(!(c.altKey||c.ctrlKey||c.metaKey)){var k=c.keyCode,D=this._map;if(k in this._panKeys)D._panAnim&&D._panAnim._inProgress||(k=this._panKeys[k],c.shiftKey&&(k=Ua(k).multiplyBy(3)),D.panBy(k),D.options.maxBounds&&D.panInsideBounds(D.options.maxBounds));else if(k in this._zoomKeys)D.setZoom(D.getZoom()+(c.shiftKey?3:1)*this._zoomKeys[k]);else if(27===k&&D._popup&&D._popup.options.closeOnEscapeKey)D.closePopup();
else return;Rc(c)}}});H.addInitHook("addHandler","keyboard",ja);H.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ka=Gc.extend({addHooks:function(){tc(this._map._container,"wheel",this._onWheelScroll,this);this._delta=0},removeHooks:function(){Hc(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(c){var k=ud(c),D=this._map.options.wheelDebounceTime;this._delta+=k;this._lastMousePos=this._map.mouseEventToContainerPoint(c);this._startTime||
(this._startTime=+new Date);k=Math.max(D-(+new Date-this._startTime),0);clearTimeout(this._timer);this._timer=setTimeout(Y(this._performZoom,this),k);Rc(c)},_performZoom:function(){var c=this._map,k=c.getZoom(),D=this._map.options.zoomSnap||0;c._stop();var ba=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2;D=D?Math.ceil(ba/D)*D:ba;D=c._limitZoom(k+(0<this._delta?D:-D))-k;this._delta=0;this._startTime=null;D&&("center"===c.options.scrollWheelZoom?
c.setZoom(k+D):c.setZoomAround(this._lastMousePos,k+D))}});H.addInitHook("addHandler","scrollWheelZoom",Ka);H.mergeOptions({tap:!0,tapTolerance:15});var ib=Gc.extend({addHooks:function(){tc(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Hc(this._map._container,"touchstart",this._onDown,this)},_onDown:function(c){if(c.touches)if(Mc(c),this._fireClick=!0,1<c.touches.length)this._fireClick=!1,clearTimeout(this._holdTimeout);else{var k=c.touches[0];c=k.target;this._startPos=
this._newPos=new xa(k.clientX,k.clientY);c.tagName&&"a"===c.tagName.toLowerCase()&&E(c,"leaflet-active");this._holdTimeout=setTimeout(Y(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",k))},this),1E3);this._simulateEvent("mousedown",k);tc(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(c){clearTimeout(this._holdTimeout);Hc(document,{touchmove:this._onMove,touchend:this._onUp},this);if(this._fireClick&&c&&c.changedTouches){c=
c.changedTouches[0];var k=c.target;k&&k.tagName&&"a"===k.tagName.toLowerCase()&&z(k,"leaflet-active");this._simulateEvent("mouseup",c);this._isTapValid()&&this._simulateEvent("click",c)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(c){c=c.touches[0];this._newPos=new xa(c.clientX,c.clientY);this._simulateEvent("mousemove",c)},_simulateEvent:function(c,k){var D=document.createEvent("MouseEvents");D._simulated=!0;k.target._simulatedClick=
!0;D.initMouseEvent(c,!0,!0,window,1,k.screenX,k.screenY,k.clientX,k.clientY,!1,!1,!1,!1,0,null);k.target.dispatchEvent(D)}});!se||Yd&&!xd||H.addInitHook("addHandler","tap",ib);H.mergeOptions({touchZoom:se&&!bf,bounceAtZoomLimits:!0});var vb=Gc.extend({addHooks:function(){E(this._map._container,"leaflet-touch-zoom");tc(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){z(this._map._container,"leaflet-touch-zoom");Hc(this._map._container,"touchstart",this._onTouchStart,
this)},_onTouchStart:function(c){var k=this._map;if(c.touches&&2===c.touches.length&&!k._animatingZoom&&!this._zooming){var D=k.mouseEventToContainerPoint(c.touches[0]),ba=k.mouseEventToContainerPoint(c.touches[1]);this._centerPoint=k.getSize()._divideBy(2);this._startLatLng=k.containerPointToLatLng(this._centerPoint);"center"!==k.options.touchZoom&&(this._pinchStartLatLng=k.containerPointToLatLng(D.add(ba)._divideBy(2)));this._startDist=D.distanceTo(ba);this._startZoom=k.getZoom();this._moved=!1;
this._zooming=!0;k._stop();tc(document,"touchmove",this._onTouchMove,this);tc(document,"touchend",this._onTouchEnd,this);Mc(c)}},_onTouchMove:function(c){if(c.touches&&2===c.touches.length&&this._zooming){var k=this._map,D=k.mouseEventToContainerPoint(c.touches[0]),ba=k.mouseEventToContainerPoint(c.touches[1]),Aa=D.distanceTo(ba)/this._startDist;this._zoom=k.getScaleZoom(Aa,this._startZoom);!k.options.bounceAtZoomLimits&&(this._zoom<k.getMinZoom()&&1>Aa||this._zoom>k.getMaxZoom()&&1<Aa)&&(this._zoom=
k._limitZoom(this._zoom));if("center"===k.options.touchZoom){if(this._center=this._startLatLng,1===Aa)return}else{D=D._add(ba)._divideBy(2)._subtract(this._centerPoint);if(1===Aa&&0===D.x&&0===D.y)return;this._center=k.unproject(k.project(this._pinchStartLatLng,this._zoom).subtract(D),this._zoom)}this._moved||(k._moveStart(!0,!1),this._moved=!0);za(this._animRequest);k=Y(k._move,k,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=kb(k,this,!0);Mc(c)}},_onTouchEnd:function(){this._moved&&
this._zooming?(this._zooming=!1,za(this._animRequest),Hc(document,"touchmove",this._onTouchMove,this),Hc(document,"touchend",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});H.addInitHook("addHandler","touchZoom",vb);H.BoxZoom=Dd;H.DoubleClickZoom=Qd;H.Drag=xe;H.Keyboard=ja;H.ScrollWheelZoom=Ka;H.Tap=ib;H.TouchZoom=
vb;n.version="1.7.1";n.Control=Z;n.control=cb;n.Browser=Fa;n.Evented=id;n.Mixin=Dc;n.Util=Kc;n.Class=Ea;n.Handler=Gc;n.extend=v;n.bind=Y;n.stamp=Qa;n.setOptions=nb;n.DomEvent=Cf;n.DomUtil=Be;n.PosAnimation=Ne;n.Draggable=Ed;n.LineUtil=Ee;n.PolyUtil=Bd;n.Point=xa;n.point=Ua;n.Bounds=Ja;n.bounds=da;n.Transformation=Wa;n.transformation=jb;n.Projection=ie;n.LatLng=Ra;n.latLng=fb;n.LatLngBounds=wa;n.latLngBounds=La;n.CRS=qd;n.GeoJSON=hb;n.geoJSON=Eb;n.geoJson=Eb;n.Layer=je;n.LayerGroup=lf;n.layerGroup=
function(c,k){return new lf(c,k)};n.FeatureGroup=He;n.featureGroup=function(c,k){return new He(c,k)};n.ImageOverlay=yb;n.imageOverlay=function(c,k,D){return new yb(c,k,D)};n.VideoOverlay=Nb;n.videoOverlay=function(c,k,D){return new Nb(c,k,D)};n.SVGOverlay=gc;n.svgOverlay=function(c,k,D){return new gc(c,k,D)};n.DivOverlay=r;n.Popup=C;n.popup=function(c,k){return new C(c,k)};n.Tooltip=X;n.tooltip=function(c,k){return new X(c,k)};n.Icon=Gf;n.icon=function(c){return new Gf(c)};n.DivIcon=ea;n.divIcon=
function(c){return new ea(c)};n.Marker=V;n.marker=function(c,k){return new V(c,k)};n.TileLayer=Cb;n.tileLayer=Zb;n.GridLayer=eb;n.gridLayer=function(c){return new eb(c)};n.SVG=yd;n.svg=uc;n.Renderer=$b;n.Canvas=rc;n.canvas=lc;n.Path=ca;n.CircleMarker=ua;n.circleMarker=function(c,k){return new ua(c,k)};n.Circle=ya;n.circle=function(c,k,D){return new ya(c,k,D)};n.Polyline=Ta;n.polyline=function(c,k){return new Ta(c,k)};n.Polygon=ob;n.polygon=function(c,k){return new ob(c,k)};n.Rectangle=Qc;n.rectangle=
function(c,k){return new Qc(c,k)};n.Map=H;n.map=function(c,k){return new H(c,k)};var Lb=window.L;n.noConflict=function(){window.L=Lb;return this};window.L=n})};
shadow$provide[71]=function(Yb,Ob,Lc,fc){(function(n,v){"object"===typeof fc&&"undefined"!==typeof Lc?Lc.exports=v():"function"===typeof define&&define.amd?define(v):(n=n||self,n.CodeMirror=v())})(this,function(){function n(a){return new RegExp("(^|\\s)"+a+"(?:$|\\s)\\s*")}function v(a){for(var e=a.childNodes.length;0<e;--e)a.removeChild(a.firstChild);return a}function Y(a,e){return v(a).appendChild(e)}function Qa(a,e,q,m){a=document.createElement(a);q&&(a.className=q);m&&(a.style.cssText=m);if("string"==
typeof e)a.appendChild(document.createTextNode(e));else if(e)for(q=0;q<e.length;++q)a.appendChild(e[q]);return a}function Qb(a,e,q,m){a=Qa(a,e,q,m);a.setAttribute("role","presentation");return a}function db(a,e){3==e.nodeType&&(e=e.parentNode);if(a.contains)return a.contains(e);do if(11==e.nodeType&&(e=e.host),e==a)return!0;while(e=e.parentNode)}function pb(){try{var a=document.activeElement}catch(e){a=document.body||null}for(;a&&a.shadowRoot&&a.shadowRoot.activeElement;)a=a.shadowRoot.activeElement;
return a}function Ib(a,e){var q=a.className;n(e).test(q)||(a.className+=(q?" ":"")+e)}function Ab(a,e){a=a.split(" ");for(var q=0;q<a.length;q++)a[q]&&!n(a[q]).test(e)&&(e+=" "+a[q]);return e}function Va(a){var e=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,e)}}function nb(a,e,q){e||(e={});for(var m in a)!a.hasOwnProperty(m)||!1===q&&e.hasOwnProperty(m)||(e[m]=a[m]);return e}function mb(a,e,q,m,w){null==e&&(e=a.search(/[^\s\u00a0]/),-1==e&&(e=a.length));m=m||0;for(w=
w||0;;){var T=a.indexOf("\t",m);if(0>T||T>=e)return w+(e-m);w+=T-m;w+=q-w%q;m=T+1}}function Pa(a,e){for(var q=0;q<a.length;++q)if(a[q]==e)return q;return-1}function Ba(a,e,q){for(var m=0,w=0;;){var T=a.indexOf("\t",m);-1==T&&(T=a.length);var la=T-m;if(T==a.length||w+la>=e)return m+Math.min(la,e-w);w+=T-m;w+=q-w%q;m=T+1;if(w>=e)return m}}function Ca(a){for(;gi.length<=a;)gi.push(Sa(gi)+" ");return gi[a]}function Sa(a){return a[a.length-1]}function kb(a,e){for(var q=[],m=0;m<a.length;m++)q[m]=e(a[m],
m);return q}function za(a,e,q){for(var m=0,w=q(e);m<a.length&&q(a[m])<=w;)m++;a.splice(m,0,e)}function Ea(){}function gb(a,e){Object.create?a=Object.create(a):(Ea.prototype=a,a=new Ea);e&&nb(e,a);return a}function xa(a){return/\w/.test(a)||""<a&&(a.toUpperCase()!=a.toLowerCase()||oj.test(a))}function Ua(a,e){return e?-1<e.source.indexOf("\\w")&&xa(a)?!0:e.test(a):xa(a)}function Ja(a){for(var e in a)if(a.hasOwnProperty(e)&&a[e])return!1;return!0}function da(a){return 768<=a.charCodeAt(0)&&hi.test(a)}
function wa(a,e,q){for(;(0>q?0<e:e<a.length)&&da(a.charAt(e));)e+=q;return e}function La(a,e,q){for(var m=e>q?-1:1;;){if(e==q)return e;var w=(e+q)/2;w=0>m?Math.ceil(w):Math.floor(w);if(w==e)return a(w)?e:q;a(w)?q=w:e=w+m}}function Ra(a,e,q,m){if(!a)return m(e,q,"ltr",0);for(var w=!1,T=0;T<a.length;++T){var la=a[T];if(la.from<q&&la.to>e||e==q&&la.to==e)m(Math.max(la.from,e),Math.min(la.to,q),1==la.level?"rtl":"ltr",T),w=!0}w||m(e,q,"ltr")}function fb(a,e,q){var m;ph=null;for(var w=0;w<a.length;++w){var T=
a[w];if(T.from<e&&T.to>e)return w;T.to==e&&(T.from!=T.to&&"before"==q?m=w:ph=w);T.from==e&&(T.from!=T.to&&"before"!=q?m=w:ph=w)}return null!=m?m:ph}function Wa(a,e){var q=a.order;null==q&&(q=a.order=Sg(a.text,e));return q}function jb(a,e,q){if(a.removeEventListener)a.removeEventListener(e,q,!1);else if(a.detachEvent)a.detachEvent("on"+e,q);else{var m=(a=a._handlers)&&a[e];m&&(q=Pa(m,q),-1<q&&(a[e]=m.slice(0,q).concat(m.slice(q+1))))}}function Xa(a,e){var q=a._handlers&&a._handlers[e]||oh;if(q.length)for(var m=
Array.prototype.slice.call(arguments,2),w=0;w<q.length;++w)q[w].apply(null,m)}function Q(a,e,q){"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}});Xa(a,q||e.type,a,e);return ia(e)||e.codemirrorIgnore}function x(a){var e=a._handlers&&a._handlers.cursorActivity;if(e){a=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]);for(var q=0;q<e.length;++q)-1==Pa(a,e[q])&&a.push(e[q])}}function F(a,e){return 0<(a._handlers&&a._handlers[e]||oh).length}function O(a){a.prototype.on=
function(e,q){le(this,e,q)};a.prototype.off=function(e,q){jb(this,e,q)}}function K(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function ka(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function ia(a){return null!=a.defaultPrevented?a.defaultPrevented:0==a.returnValue}function ma(a){K(a);ka(a)}function Ya(a){var e=a.which;null==e&&(a.button&1?e=1:a.button&2?e=3:a.button&4&&(e=2));kg&&a.ctrlKey&&1==e&&(e=3);return e}function Za(a){if(null==ii){var e=Qa("span","");Y(a,Qa("span",
[e,document.createTextNode("x")]));0!=a.firstChild.offsetHeight&&(ii=1>=e.offsetWidth&&2<e.offsetHeight&&!(Se&&8>Ye))}a=ii?Qa("span",""):Qa("span","",null,"display: inline-block; width: 1px; margin-right: -1px");a.setAttribute("cm-text","");return a}function S(a,e){2<arguments.length&&(e.dependencies=Array.prototype.slice.call(arguments,2));dh[a]=e}function qa(a){if("string"==typeof a&&qh.hasOwnProperty(a))a=qh[a];else if(a&&"string"==typeof a.name&&qh.hasOwnProperty(a.name)){var e=qh[a.name];"string"==
typeof e&&(e={name:e});a=gb(e,a);a.name=e.name}else{if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return qa("application/xml");if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+json$/.test(a))return qa("application/json")}return"string"==typeof a?{name:a}:a||{name:"null"}}function ta(a,e){e=qa(e);var q=dh[e.name];if(!q)return ta(a,"text/plain");a=q(a,e);if(Hg.hasOwnProperty(e.name)){q=Hg[e.name];for(var m in q)q.hasOwnProperty(m)&&(a.hasOwnProperty(m)&&(a["_"+m]=a[m]),a[m]=q[m])}a.name=e.name;
e.helperType&&(a.helperType=e.helperType);if(e.modeProps)for(var w in e.modeProps)a[w]=e.modeProps[w];return a}function ha(a,e){a=Hg.hasOwnProperty(a)?Hg[a]:Hg[a]={};nb(e,a)}function P(a,e){if(!0===e)return e;if(a.copyState)return a.copyState(e);a={};for(var q in e){var m=e[q];m instanceof Array&&(m=m.concat([]));a[q]=m}return a}function t(a,e){for(var q;a.innerMode;){q=a.innerMode(e);if(!q||q.mode==a)break;e=q.state;a=q.mode}return q||{mode:a,state:e}}function u(a,e,q){return a.startState?a.startState(e,
q):!0}function l(a,e){e-=a.first;if(0>e||e>=a.size)throw Error("There is no line "+(e+a.first)+" in the document.");for(;!a.lines;)for(var q=0;;++q){var m=a.children[q],w=m.chunkSize();if(e<w){a=m;break}e-=w}return a.lines[e]}function p(a,e,q){var m=[],w=e.line;a.iter(e.line,q.line+1,function(T){T=T.text;w==q.line&&(T=T.slice(0,q.ch));w==e.line&&(T=T.slice(e.ch));m.push(T);++w});return m}function A(a,e,q){var m=[];a.iter(e,q,function(w){m.push(w.text)});return m}function B(a,e){if(e-=a.height)for(;a;a=
a.parent)a.height+=e}function E(a){if(null==a.parent)return null;var e=a.parent;a=Pa(e.lines,a);for(var q=e.parent;q;e=q,q=q.parent)for(var m=0;q.children[m]!=e;++m)a+=q.children[m].chunkSize();return a+e.first}function z(a,e){var q=a.first;a:do{for(var m=0;m<a.children.length;++m){var w=a.children[m],T=w.height;if(e<T){a=w;continue a}e-=T;q+=w.chunkSize()}return q}while(!a.lines);for(m=0;m<a.lines.length;++m){w=a.lines[m].height;if(e<w)break;e-=w}return q+m}function aa(a,e){return e>=a.first&&e<
a.first+a.size}function sa(a,e){return String(a.lineNumberFormatter(e+a.firstLineNumber))}function fa(a,e,q){void 0===q&&(q=null);if(!(this instanceof fa))return new fa(a,e,q);this.line=a;this.ch=e;this.sticky=q}function Na(a,e){return a.line-e.line||a.ch-e.ch}function Da(a,e){return a.sticky==e.sticky&&0==Na(a,e)}function W(a){return fa(a.line,a.ch)}function na(a,e){return 0>Na(a,e)?e:a}function $a(a,e){return 0>Na(a,e)?a:e}function sb(a,e){if(e.line<a.first)return fa(a.first,0);var q=a.first+a.size-
1;if(e.line>q)return fa(q,l(a,q).text.length);a=l(a,e.line).text.length;q=e.ch;e=null==q||q>a?fa(e.line,a):0>q?fa(e.line,0):e;return e}function Db(a,e){for(var q=[],m=0;m<e.length;m++)q[m]=sb(a,e[m]);return q}function Xb(a,e,q,m){var w=[a.state.modeGen],T={};nc(a,e.text,a.doc.mode,q,function(bb,ub){return w.push(bb,ub)},T,m);var la=q.state;m=function(bb){q.baseTokens=w;var ub=a.state.overlays[bb],Mb=1,zc=0;q.state=!0;nc(a,e.text,ub.mode,q,function(ic,hc){for(var Uc=Mb;zc<ic;){var Ad=w[Mb];Ad>ic&&
w.splice(Mb,1,ic,w[Mb+1],Ad);Mb+=2;zc=Math.min(ic,Ad)}if(hc)if(ub.opaque)w.splice(Uc,Mb-Uc,ic,"overlay "+hc),Mb=Uc+2;else for(;Uc<Mb;Uc+=2)ic=w[Uc+1],w[Uc+1]=(ic?ic+" ":"")+"overlay "+hc},T);q.state=la;q.baseTokens=null;q.baseTokenPos=1};for(var oa=0;oa<a.state.overlays.length;++oa)m(oa);return{styles:w,classes:T.bgClass||T.textClass?T:null}}function vc(a,e,q){if(!e.styles||e.styles[0]!=a.state.modeGen){var m=Vc(a,E(e)),w=e.text.length>a.options.maxHighlightLength&&P(a.doc.mode,m.state),T=Xb(a,e,
m);w&&(m.state=w);e.stateAfter=m.save(!w);e.styles=T.styles;T.classes?e.styleClasses=T.classes:e.styleClasses&&(e.styleClasses=null);q===a.doc.highlightFrontier&&(a.doc.modeFrontier=Math.max(a.doc.modeFrontier,++a.doc.highlightFrontier))}return e.styles}function Vc(a,e,q){var m=a.doc,w=a.display;if(!m.mode.startState)return new tg(m,!0,e);var T=Ec(a,e,q),la=T>m.first&&l(m,T-1).stateAfter,oa=la?tg.fromSaved(m,la,T):new tg(m,u(m.mode),T);m.iter(T,e,function(bb){tc(a,bb.text,oa);var ub=oa.line;bb.stateAfter=
ub==e-1||0==ub%5||ub>=w.viewFrom&&ub<w.viewTo?oa.save():null;oa.nextLine()});q&&(m.modeFrontier=oa.line);return oa}function tc(a,e,q,m){var w=a.doc.mode;a=new Bf(e,a.options.tabSize,q);a.start=a.pos=m||0;for(""==e&&Hc(w,q.state);!a.eol();)Ma(w,a,q.state),a.start=a.pos}function Hc(a,e){if(a.blankLine)return a.blankLine(e);if(a.innerMode&&(a=t(a,e),a.mode.blankLine))return a.mode.blankLine(a.state)}function Ma(a,e,q,m){for(var w=0;10>w;w++){m&&(m[0]=t(a,q).mode);var T=a.token(e,q);if(e.pos>e.start)return T}throw Error("Mode "+
a.name+" failed to advance stream.");}function ec(a,e,q,m){var w=a.doc,T=w.mode;e=sb(w,e);var la=l(w,e.line);q=Vc(a,e.line,q);a=new Bf(la.text,a.options.tabSize,q);var oa;for(m&&(oa=[]);(m||a.pos<e.ch)&&!a.eol();){a.start=a.pos;var bb=Ma(T,a,q.state);m&&oa.push(new Li(a,bb,P(w.mode,q.state)))}return m?oa:new Li(a,bb,q.state)}function cc(a,e){if(a)for(;;){var q=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!q)break;a=a.slice(0,q.index)+a.slice(q.index+q[0].length);var m=q[1]?"bgClass":"textClass";
null==e[m]?e[m]=q[2]:(new RegExp("(?:^|\\s)"+q[2]+"(?:$|\\s)")).test(e[m])||(e[m]+=" "+q[2])}return a}function nc(a,e,q,m,w,T,la){var oa=q.flattenSpans;null==oa&&(oa=a.options.flattenSpans);var bb=0,ub=null,Mb=new Bf(e,a.options.tabSize,m),zc=a.options.addModeClass&&[null];for(""==e&&cc(Hc(q,m.state),T);!Mb.eol();){if(Mb.pos>a.options.maxHighlightLength){oa=!1;la&&tc(a,e,m,Mb.pos);Mb.pos=e.length;var ic=null}else ic=cc(Ma(q,Mb,m.state,zc),T);if(zc){var hc=zc[0].name;hc&&(ic="m-"+(ic?hc+" "+ic:hc))}if(!oa||
ub!=ic){for(;bb<Mb.start;)bb=Math.min(Mb.start,bb+5E3),w(bb,ub);ub=ic}Mb.start=Mb.pos}for(;bb<Mb.pos;)a=Math.min(Mb.pos,bb+5E3),w(a,ub),bb=a}function Ec(a,e,q){for(var m,w,T=a.doc,la=q?-1:e-(a.doc.mode.innerMode?1E3:100);e>la;--e){if(e<=T.first)return T.first;var oa=l(T,e-1),bb=oa.stateAfter;if(bb&&(!q||e+(bb instanceof Lh?bb.lookAhead:0)<=T.modeFrontier))return e;oa=mb(oa.text,null,a.options.tabSize);if(null==w||m>oa)w=e-1,m=oa}return w}function jc(a,e){a.modeFrontier=Math.min(a.modeFrontier,e);
if(!(a.highlightFrontier<e-10)){for(var q=a.first,m=e-1;m>q;m--){var w=l(a,m).stateAfter;if(w&&(!(w instanceof Lh)||m+w.lookAhead<e)){q=m+1;break}}a.highlightFrontier=Math.min(a.highlightFrontier,q)}}function Mc(a,e,q){this.marker=a;this.from=e;this.to=q}function Rc(a,e){if(a)for(var q=0;q<a.length;++q){var m=a[q];if(m.marker==e)return m}}function Nc(a,e){if(e.full)return null;var q=aa(a,e.from.line)&&l(a,e.from.line).markedSpans,m=aa(a,e.to.line)&&l(a,e.to.line).markedSpans;if(!q&&!m)return null;
a=e.from.ch;var w=e.to.ch,T=0==Na(e.from,e.to),la;if(q)for(var oa=0;oa<q.length;++oa){var bb=q[oa],ub=bb.marker;if(null==bb.from||(ub.inclusiveLeft?bb.from<=a:bb.from<a)||!(bb.from!=a||"bookmark"!=ub.type||T&&bb.marker.insertLeft)){var Mb=null==bb.to||(ub.inclusiveRight?bb.to>=a:bb.to>a);(la||(la=[])).push(new Mc(ub,bb.from,Mb?null:bb.to))}}q=la;var zc;if(m)for(la=0;la<m.length;++la)if(oa=m[la],bb=oa.marker,null==oa.to||(bb.inclusiveRight?oa.to>=w:oa.to>w)||oa.from==w&&"bookmark"==bb.type&&(!T||oa.marker.insertLeft))ub=
null==oa.from||(bb.inclusiveLeft?oa.from<=w:oa.from<w),(zc||(zc=[])).push(new Mc(bb,ub?null:oa.from-w,null==oa.to?null:oa.to-w));m=1==e.text.length;w=Sa(e.text).length+(m?a:0);if(q)for(T=0;T<q.length;++T)if(la=q[T],null==la.to)(oa=Rc(zc,la.marker),oa)?m&&(la.to=null==oa.to?null:oa.to+w):la.to=a;if(zc)for(a=0;a<zc.length;++a)T=zc[a],null!=T.to&&(T.to+=w),null==T.from?Rc(q,T.marker)||(T.from=w,m&&(q||(q=[])).push(T)):(T.from+=w,m&&(q||(q=[])).push(T));q&&(q=ud(q));zc&&zc!=q&&(zc=ud(zc));a=[q];if(!m){e=
e.text.length-2;var ic;if(0<e&&q)for(m=0;m<q.length;++m)null==q[m].to&&(ic||(ic=[])).push(new Mc(q[m].marker,null,null));for(q=0;q<e;++q)a.push(ic);a.push(zc)}return a}function ud(a){for(var e=0;e<a.length;++e){var q=a[e];null!=q.from&&q.from==q.to&&!1!==q.marker.clearWhenEmpty&&a.splice(e--,1)}return a.length?a:null}function ce(a,e,q){var m=null;a.iter(e.line,q.line+1,function(Mb){if(Mb.markedSpans)for(var zc=0;zc<Mb.markedSpans.length;++zc){var ic=Mb.markedSpans[zc].marker;!ic.readOnly||m&&-1!=
Pa(m,ic)||(m||(m=[])).push(ic)}});if(!m)return null;a=[{from:e,to:q}];for(e=0;e<m.length;++e){q=m[e];for(var w=q.find(0),T=0;T<a.length;++T){var la=a[T];if(!(0>Na(la.to,w.from)||0<Na(la.from,w.to))){var oa=[T,1],bb=Na(la.from,w.from),ub=Na(la.to,w.to);(0>bb||!q.inclusiveLeft&&!bb)&&oa.push({from:la.from,to:w.from});(0<ub||!q.inclusiveRight&&!ub)&&oa.push({from:w.to,to:la.to});a.splice.apply(a,oa);T+=oa.length-3}}}return a}function Zc(a){var e=a.markedSpans;if(e){for(var q=0;q<e.length;++q)e[q].marker.detachLine(a);
a.markedSpans=null}}function ed(a,e){if(e){for(var q=0;q<e.length;++q)e[q].marker.attachLine(a);a.markedSpans=e}}function Pd(a,e){var q=a.lines.length-e.lines.length;if(0!=q)return q;q=a.find();var m=e.find(),w=Na(q.from,m.from)||(a.inclusiveLeft?-1:0)-(e.inclusiveLeft?-1:0);return w?-w:(q=Na(q.to,m.to)||(a.inclusiveRight?1:0)-(e.inclusiveRight?1:0))?q:e.id-a.id}function Ha(a,e){a=Bg&&a.markedSpans;if(a)for(var q,m=0;m<a.length;++m)if(q=a[m],q.marker.collapsed&&null==(e?q.from:q.to)&&(!w||0>Pd(w,
q.marker)))var w=q.marker;return w}function qb(a,e,q,m,w){a=l(a,e);if(a=Bg&&a.markedSpans)for(e=0;e<a.length;++e){var T=a[e];if(T.marker.collapsed){var la=T.marker.find(0),oa=Na(la.from,q)||(T.marker.inclusiveLeft?-1:0)-(w.inclusiveLeft?-1:0),bb=Na(la.to,m)||(T.marker.inclusiveRight?1:0)-(w.inclusiveRight?1:0);if(!(0<=oa&&0>=bb||0>=oa&&0<=bb)&&(0>=oa&&(T.marker.inclusiveRight&&w.inclusiveLeft?0<=Na(la.to,q):0<Na(la.to,q))||0<=oa&&(T.marker.inclusiveRight&&w.inclusiveLeft?0>=Na(la.from,m):0>Na(la.from,
m))))return!0}}}function Sb(a){for(var e;e=Ha(a,!0);)a=e.find(-1,!0).line;return a}function dd(a,e){a=l(a,e);var q=Sb(a);return a==q?e:E(q)}function nd(a,e){if(e>a.lastLine())return e;var q=l(a,e);if(!Nd(a,q))return e;for(;a=Ha(q,!1);)q=a.find(1,!0).line;return E(q)+1}function Nd(a,e){var q=Bg&&e.markedSpans;if(q)for(var m,w=0;w<q.length;++w)if(m=q[w],m.marker.collapsed&&(null==m.from||!m.marker.widgetNode&&0==m.from&&m.marker.inclusiveLeft&&Wd(a,e,m)))return!0}function Wd(a,e,q){if(null==q.to)return e=
q.marker.find(1,!0),Wd(a,e.line,Rc(e.line.markedSpans,q.marker));if(q.marker.inclusiveRight&&q.to==e.text.length)return!0;for(var m,w=0;w<e.markedSpans.length;++w)if(m=e.markedSpans[w],m.marker.collapsed&&!m.marker.widgetNode&&m.from==q.to&&(null==m.to||m.to!=q.from)&&(m.marker.inclusiveLeft||q.marker.inclusiveRight)&&Wd(a,e,m))return!0}function U(a){a=Sb(a);for(var e=0,q=a.parent,m=0;m<q.lines.length;++m){var w=q.lines[m];if(w==a)break;else e+=w.height}for(a=q.parent;a;q=a,a=q.parent)for(m=0;m<a.children.length&&
(w=a.children[m],w!=q);++m)e+=w.height;return e}function va(a){if(0==a.height)return 0;for(var e=a.text.length,q,m=a;q=Ha(m,!0);)q=q.find(0,!0),m=q.from.line,e+=q.from.ch-q.to.ch;for(m=a;q=Ha(m,!1);)a=q.find(0,!0),e-=m.text.length-a.from.ch,m=a.to.line,e+=m.text.length-a.to.ch;return e}function ab(a){var e=a.display;a=a.doc;e.maxLine=l(a,a.first);e.maxLineLength=va(e.maxLine);e.maxLineChanged=!0;a.iter(function(q){var m=va(q);m>e.maxLineLength&&(e.maxLineLength=m,e.maxLine=q)})}function xb(a,e){if(!a||
/^\s*$/.test(a))return null;e=e.addModeClass?Mi:Rj;return e[a]||(e[a]=a.replace(/\S+/g,"cm-$\x26"))}function Rb(a,e){var q=Qb("span",null,null,Pf?"padding-right: .1px":null);q={pre:Qb("pre",[q],"CodeMirror-line"),content:q,col:0,pos:0,cm:a,trailingSpace:!1,splitSpaces:a.getOption("lineWrapping")};e.measure={};for(var m=0;m<=(e.rest?e.rest.length:0);m++){var w=m?e.rest[m-1]:e.line,T=void 0;q.pos=0;q.addToken=kc;var la=a.display.measure;if(null!=ji)la=ji;else{var oa=Y(la,document.createTextNode("AA")),
bb=lh(oa,0,1).getBoundingClientRect();oa=lh(oa,1,2).getBoundingClientRect();v(la);la=bb&&bb.left!=bb.right?ji=3>oa.right-bb.right:!1}la&&(T=Wa(w,a.doc.direction))&&(q.addToken=bc(q.addToken,T));q.map=[];var ub=e!=a.display.externalMeasured&&E(w);a:{var Mb=oa=bb=la=void 0,zc=void 0,ic=void 0,hc=void 0;T=q;ub=vc(a,w,ub);var Uc=w.markedSpans,Ad=w.text,me=0;if(Uc)for(var Ue=Ad.length,be=0,jf=1,$e="",of=0;;){if(of==be){zc=Mb=oa=ic="";bb=la=null;of=Infinity;for(var sf=[],Ke=void 0,pf=0;pf<Uc.length;++pf){var af=
Uc[pf],kf=af.marker;if("bookmark"==kf.type&&af.from==be&&kf.widgetNode)sf.push(kf);else if(af.from<=be&&(null==af.to||af.to>be||kf.collapsed&&af.to==be&&af.from==be)){null!=af.to&&af.to!=be&&of>af.to&&(of=af.to,Mb="");kf.className&&(zc+=" "+kf.className);kf.css&&(ic=(ic?ic+";":"")+kf.css);kf.startStyle&&af.from==be&&(oa+=" "+kf.startStyle);kf.endStyle&&af.to==of&&(Ke||(Ke=[])).push(kf.endStyle,af.to);kf.title&&((la||(la={})).title=kf.title);if(kf.attributes)for(var Uf in kf.attributes)(la||(la={}))[Uf]=
kf.attributes[Uf];kf.collapsed&&(!bb||0>Pd(bb.marker,kf))&&(bb=af)}else af.from>be&&of>af.from&&(of=af.from)}if(Ke)for(pf=0;pf<Ke.length;pf+=2)Ke[pf+1]==of&&(Mb+=" "+Ke[pf]);if(!bb||bb.from==be)for(Ke=0;Ke<sf.length;++Ke)Ia(T,0,sf[Ke]);if(bb&&(bb.from||0)==be){Ia(T,(null==bb.to?Ue+1:bb.to)-be,bb.marker,null==bb.from);if(null==bb.to)break a;bb.to==be&&(bb=!1)}}if(be>=Ue)break;for(sf=Math.min(Ue,of);;){if($e){Ke=be+$e.length;bb||(pf=Ke>sf?$e.slice(0,sf-be):$e,T.addToken(T,pf,hc?hc+zc:zc,oa,be+pf.length==
of?Mb:"",ic,la));if(Ke>=sf){$e=$e.slice(sf-be);be=sf;break}be=Ke;oa=""}$e=Ad.slice(me,me=ub[jf++]);hc=xb(ub[jf++],T.cm.options)}}else for(la=1;la<ub.length;la+=2)T.addToken(T,Ad.slice(me,me=ub[la]),xb(ub[la+1],T.cm.options))}w.styleClasses&&(w.styleClasses.bgClass&&(q.bgClass=Ab(w.styleClasses.bgClass,q.bgClass||"")),w.styleClasses.textClass&&(q.textClass=Ab(w.styleClasses.textClass,q.textClass||"")));0==q.map.length&&q.map.push(0,0,q.content.appendChild(Za(a.display.measure)));0==m?(e.measure.map=
q.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(q.map),(e.measure.caches||(e.measure.caches=[])).push({}))}Pf&&(Uf=q.content.lastChild,/\bcm-tab\b/.test(Uf.className)||Uf.querySelector&&Uf.querySelector(".cm-tab"))&&(q.content.className="cm-tab-wrap-hack");Xa(a,"renderLine",a,e.line,q.pre);q.pre.className&&(q.textClass=Ab(q.pre.className,q.textClass||""));return q}function zb(a){var e=Qa("span","","cm-invalidchar");e.title="\\u"+a.charCodeAt(0).toString(16);e.setAttribute("aria-label",
e.title);return e}function kc(a,e,q,m,w,T,la){if(e){if(a.splitSpaces){var oa=a.trailingSpace;if(1<e.length&&!/  /.test(e))oa=e;else{for(var bb="",ub=0;ub<e.length;ub++){var Mb=e.charAt(ub);" "!=Mb||!oa||ub!=e.length-1&&32!=e.charCodeAt(ub+1)||(Mb="");bb+=Mb;oa=" "==Mb}oa=bb}}else oa=e;bb=oa;ub=a.cm.state.specialChars;Mb=!1;if(ub.test(e)){oa=document.createDocumentFragment();for(var zc=0;;){ub.lastIndex=zc;var ic=ub.exec(e),hc=ic?ic.index-zc:e.length-zc;if(hc){var Uc=document.createTextNode(bb.slice(zc,
zc+hc));Se&&9>Ye?oa.appendChild(Qa("span",[Uc])):oa.appendChild(Uc);a.map.push(a.pos,a.pos+hc,Uc);a.col+=hc;a.pos+=hc}if(!ic)break;zc+=hc+1;"\t"==ic[0]?(ic=a.cm.options.tabSize,ic-=a.col%ic,hc=oa.appendChild(Qa("span",Ca(ic),"cm-tab")),hc.setAttribute("role","presentation"),hc.setAttribute("cm-text","\t"),a.col+=ic):("\r"==ic[0]||"\n"==ic[0]?(hc=oa.appendChild(Qa("span","\r"==ic[0]?"":"","cm-invalidchar")),hc.setAttribute("cm-text",ic[0])):(hc=a.cm.options.specialCharPlaceholder(ic[0]),hc.setAttribute("cm-text",
ic[0]),Se&&9>Ye?oa.appendChild(Qa("span",[hc])):oa.appendChild(hc)),a.col+=1);a.map.push(a.pos,a.pos+1,hc);a.pos++}}else a.col+=e.length,oa=document.createTextNode(bb),a.map.push(a.pos,a.pos+e.length,oa),Se&&9>Ye&&(Mb=!0),a.pos+=e.length;a.trailingSpace=32==bb.charCodeAt(e.length-1);if(q||m||w||Mb||T||la){e=q||"";m&&(e+=m);w&&(e+=w);m=Qa("span",[oa],e,T);if(la)for(var Ad in la)la.hasOwnProperty(Ad)&&"style"!=Ad&&"class"!=Ad&&m.setAttribute(Ad,la[Ad]);return a.content.appendChild(m)}a.content.appendChild(oa)}}
function bc(a,e){return function(q,m,w,T,la,oa,bb){w=w?w+" cm-force-border":"cm-force-border";for(var ub=q.pos,Mb=ub+m.length;;){for(var zc=void 0,ic=0;ic<e.length&&!(zc=e[ic],zc.to>ub&&zc.from<=ub);ic++);if(zc.to>=Mb)return a(q,m,w,T,la,oa,bb);a(q,m.slice(0,zc.to-ub),w,T,null,oa,bb);T=null;m=m.slice(zc.to-ub);ub=zc.to}}}function Ia(a,e,q,m){var w=!m&&q.widgetNode;w&&a.map.push(a.pos,a.pos+e,w);!m&&a.cm.display.input.needsContentAttribute&&(w||(w=a.content.appendChild(document.createElement("span"))),
w.setAttribute("cm-marker",q.id));w&&(a.cm.display.input.setUneditable(w),a.content.appendChild(w));a.pos+=e;a.trailingSpace=!1}function lb(a,e,q){for(var m=this.line=e,w;m=Ha(m,!1);)m=m.find(1,!0).line,(w||(w=[])).push(m);this.size=(this.rest=w)?E(Sa(this.rest))-q+1:1;this.node=this.text=null;this.hidden=Nd(a,e)}function Eb(a,e,q){var m=[],w;for(w=e;w<q;)e=new lb(a.doc,l(a.doc,w),w),w+=e.size,m.push(e);return m}function Zb(a,e){if(a=a.ownsGroup)try{var q=a.delayedCallbacks,m=0;do{for(;m<q.length;m++)q[m].call(null);
for(var w=0;w<a.ops.length;w++){var T=a.ops[w];if(T.cursorActivityHandlers)for(;T.cursorActivityCalled<T.cursorActivityHandlers.length;)T.cursorActivityHandlers[T.cursorActivityCalled++].call(null,T.cm)}}while(m<q.length)}finally{Tg=null,e(a)}}function lc(a,e){var q=a._handlers&&a._handlers[e]||oh;if(q.length){var m=Array.prototype.slice.call(arguments,2);if(Tg)var w=Tg.delayedCallbacks;else rh?w=rh:(w=rh=[],setTimeout(uc,0));for(var T=function(oa){w.push(function(){return q[oa].apply(null,m)})},
la=0;la<q.length;++la)T(la)}}function uc(){var a=rh;rh=null;for(var e=0;e<a.length;++e)a[e]()}function Cc(a,e,q,m){for(var w=0;w<e.changes.length;w++){var T=e.changes[w];if("text"==T){T=a;var la=e,oa=la.text.className,bb=pc(T,la);la.text==la.node&&(la.node=bb.pre);la.text.parentNode.replaceChild(bb.pre,la.text);la.text=bb.pre;bb.bgClass!=la.bgClass||bb.textClass!=la.textClass?(la.bgClass=bb.bgClass,la.textClass=bb.textClass,sc(T,la)):oa&&(la.text.className=oa)}else if("gutter"==T)mc(a,e,q,m);else if("class"==
T)sc(a,e);else if("widget"==T){T=a;la=e;oa=m;la.alignable&&(la.alignable=null);bb=n("CodeMirror-linewidget");for(var ub=la.node.firstChild,Mb;ub;ub=Mb)Mb=ub.nextSibling,bb.test(ub.className)&&la.node.removeChild(ub);Oc(T,la,oa)}}e.changes=null}function Bb(a){a.node==a.text&&(a.node=Qa("div",null,null,"position: relative"),a.text.parentNode&&a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),Se&&8>Ye&&(a.node.style.zIndex=2));return a.node}function pc(a,e){var q=a.display.externalMeasured;
return q&&q.line==e.line?(a.display.externalMeasured=null,e.measure=q.measure,q.built):Rb(a,e)}function sc(a,e){var q=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;q&&(q+=" CodeMirror-linebackground");if(e.background)q?e.background.className=q:(e.background.parentNode.removeChild(e.background),e.background=null);else if(q){var m=Bb(e);e.background=m.insertBefore(Qa("div",null,q),m.firstChild);a.display.input.setUneditable(e.background)}e.line.wrapClass?Bb(e).className=e.line.wrapClass:
e.node!=e.text&&(e.node.className="");e.text.className=(e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass)||""}function mc(a,e,q,m){e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null);e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null);if(e.line.gutterClass){var w=Bb(e);e.gutterBackground=Qa("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(a.options.fixedGutter?m.fixedPos:-m.gutterTotalWidth)+"px; width: "+m.gutterTotalWidth+
"px");a.display.input.setUneditable(e.gutterBackground);w.insertBefore(e.gutterBackground,e.text)}w=e.line.gutterMarkers;if(a.options.lineNumbers||w){var T=Bb(e),la=e.gutter=Qa("div",null,"CodeMirror-gutter-wrapper","left: "+(a.options.fixedGutter?m.fixedPos:-m.gutterTotalWidth)+"px");a.display.input.setUneditable(la);T.insertBefore(la,e.text);e.line.gutterClass&&(la.className+=" "+e.line.gutterClass);!a.options.lineNumbers||w&&w["CodeMirror-linenumbers"]||(e.lineNumber=la.appendChild(Qa("div",sa(a.options,
q),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+m.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.display.lineNumInnerWidth+"px")));if(w)for(e=0;e<a.display.gutterSpecs.length;++e)q=a.display.gutterSpecs[e].className,(T=w.hasOwnProperty(q)&&w[q])&&la.appendChild(Qa("div",[T],"CodeMirror-gutter-elt","left: "+m.gutterLeft[q]+"px; width: "+m.gutterWidth[q]+"px"))}}function Bc(a,e,q,m){var w=pc(a,e);e.text=e.node=w.pre;w.bgClass&&(e.bgClass=w.bgClass);w.textClass&&(e.textClass=w.textClass);
sc(a,e);mc(a,e,q,m);Oc(a,e,m);return e.node}function Oc(a,e,q){Kc(a,e.line,e,q,!0);if(e.rest)for(var m=0;m<e.rest.length;m++)Kc(a,e.rest[m],e,q,!1)}function Kc(a,e,q,m,w){if(e.widgets){var T=Bb(q),la=0;for(e=e.widgets;la<e.length;++la){var oa=e[la],bb=Qa("div",[oa.node],"CodeMirror-linewidget"+(oa.className?" "+oa.className:""));oa.handleMouseEvents||bb.setAttribute("cm-ignore-events","true");var ub=oa,Mb=bb,zc=m;if(ub.noHScroll){(q.alignable||(q.alignable=[])).push(Mb);var ic=zc.wrapperWidth;Mb.style.left=
zc.fixedPos+"px";ub.coverGutter||(ic-=zc.gutterTotalWidth,Mb.style.paddingLeft=zc.gutterTotalWidth+"px");Mb.style.width=ic+"px"}ub.coverGutter&&(Mb.style.zIndex=5,Mb.style.position="relative",ub.noHScroll||(Mb.style.marginLeft=-zc.gutterTotalWidth+"px"));a.display.input.setUneditable(bb);w&&oa.above?T.insertBefore(bb,q.gutter||q.text):T.appendChild(bb);lc(oa,"redraw")}}}function ad(a){if(null!=a.height)return a.height;var e=a.doc.cm;if(!e)return 0;if(!db(document.body,a.node)){var q="position: relative;";
a.coverGutter&&(q+="margin-left: -"+e.display.gutters.offsetWidth+"px;");a.noHScroll&&(q+="width: "+e.display.wrapper.clientWidth+"px;");Y(e.display.measure,Qa("div",[a.node],null,q))}return a.height=a.node.parentNode.offsetHeight}function id(a,e){for(e=e.target||e.srcElement;e!=a.wrapper;e=e.parentNode)if(!e||1==e.nodeType&&"true"==e.getAttribute("cm-ignore-events")||e.parentNode==a.sizer&&e!=a.mover)return!0}function td(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function qd(a){if(a.cachedPaddingH)return a.cachedPaddingH;
var e=Y(a.measure,Qa("pre","x","CodeMirror-line-like"));e=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle;e={left:parseInt(e.paddingLeft),right:parseInt(e.paddingRight)};isNaN(e.left)||isNaN(e.right)||(a.cachedPaddingH=e);return e}function Fd(a){return 50-a.display.nativeBarWidth}function Ud(a){return a.display.scroller.clientWidth-Fd(a)-a.display.barWidth}function ee(a){return a.display.scroller.clientHeight-Fd(a)-a.display.barHeight}function we(a,e,q){if(a.line==e)return{map:a.measure.map,
cache:a.measure.cache};for(var m=0;m<a.rest.length;m++)if(a.rest[m]==e)return{map:a.measure.maps[m],cache:a.measure.caches[m]};for(e=0;e<a.rest.length;e++)if(E(a.rest[e])>q)return{map:a.measure.maps[e],cache:a.measure.caches[e],before:!0}}function re(a,e){if(e>=a.display.viewFrom&&e<a.display.viewTo)return a.display.view[I(a,e)];if((a=a.display.externalMeasured)&&e>=a.lineN&&e<a.lineN+a.size)return a}function te(a,e){var q=E(e),m=re(a,q);m&&!m.text?m=null:m&&m.changes&&(Cc(a,m,q,se(a)),a.curOp.forceUpdate=
!0);if(!m){var w=Sb(e);m=E(w);w=a.display.externalMeasured=new lb(a.doc,w,m);w.lineN=m;m=w.built=Rb(a,w);w.text=m.pre;Y(a.display.lineMeasure,m.pre);m=w}a=we(m,e,q);return{line:e,view:m,rect:null,map:a.map,cache:a.cache,before:a.before,hasHeights:!1}}function rd(a,e,q,m,w){e.before&&(q=-1);var T=q+(m||"");if(e.cache.hasOwnProperty(T))a=e.cache[T];else{e.rect||(e.rect=e.view.text.getBoundingClientRect());if(!e.hasHeights){var la=e.view,oa=e.rect,bb=a.options.lineWrapping,ub=bb&&Ud(a);if(!la.measure.heights||
bb&&la.measure.width!=ub){var Mb=la.measure.heights=[];if(bb)for(la.measure.width=ub,la=la.text.firstChild.getClientRects(),bb=0;bb<la.length-1;bb++){ub=la[bb];var zc=la[bb+1];2<Math.abs(ub.bottom-zc.bottom)&&Mb.push((ub.bottom+zc.top)/2-oa.top)}Mb.push(oa.bottom-oa.top)}e.hasHeights=!0}Mb=m;la=Jd(e.map,q,Mb);m=la.node;oa=la.start;bb=la.end;q=la.collapse;if(3==m.nodeType){for(var ic=0;4>ic;ic++){for(;oa&&da(e.line.text.charAt(la.coverStart+oa));)--oa;for(;la.coverStart+bb<la.coverEnd&&da(e.line.text.charAt(la.coverStart+
bb));)++bb;if(Se&&9>Ye&&0==oa&&bb==la.coverEnd-la.coverStart)var hc=m.parentNode.getBoundingClientRect();else{hc=lh(m,oa,bb).getClientRects();bb=Ni;if("left"==Mb)for(ub=0;ub<hc.length&&(bb=hc[ub]).left==bb.right;ub++);else for(ub=hc.length-1;0<=ub&&(bb=hc[ub]).left==bb.right;ub--);hc=bb}if(hc.left||hc.right||0==oa)break;bb=oa;--oa;q="right"}Se&&11>Ye&&((ic=!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI)||(null!=Ji?ic=Ji:(Mb=Y(a.display.measure,Qa("span","x")),ic=Mb.getBoundingClientRect(),
Mb=lh(Mb,0,1).getBoundingClientRect(),ic=Ji=1<Math.abs(ic.left-Mb.left)),ic=!ic),ic||(ic=screen.logicalXDPI/screen.deviceXDPI,Mb=screen.logicalYDPI/screen.deviceYDPI,hc={left:hc.left*ic,right:hc.right*ic,top:hc.top*Mb,bottom:hc.bottom*Mb}))}else 0<oa&&(q=Mb="right"),hc=a.options.lineWrapping&&1<(ic=m.getClientRects()).length?ic["right"==Mb?ic.length-1:0]:m.getBoundingClientRect();!(Se&&9>Ye)||oa||hc&&(hc.left||hc.right)||(hc=(hc=m.parentNode.getClientRects()[0])?{left:hc.left,right:hc.left+Yd(a.display),
top:hc.top,bottom:hc.bottom}:Ni);m=hc.top-e.rect.top;oa=hc.bottom-e.rect.top;ic=(m+oa)/2;Mb=e.view.measure.heights;for(la=0;la<Mb.length-1&&!(ic<Mb[la]);la++);q={left:("right"==q?hc.right:hc.left)-e.rect.left,right:("left"==q?hc.left:hc.right)-e.rect.left,top:la?Mb[la-1]:0,bottom:Mb[la]};hc.left||hc.right||(q.bogus=!0);a.options.singleCursorHeightPerLine||(q.rtop=m,q.rbottom=oa);a=q;a.bogus||(e.cache[T]=a)}return{left:a.left,right:a.right,top:w?a.rtop:a.top,bottom:w?a.rbottom:a.bottom}}function Jd(a,
e,q){for(var m,w,T,la,oa,bb,ub=0;ub<a.length;ub+=3){oa=a[ub];bb=a[ub+1];if(e<oa)w=0,T=1,la="left";else if(e<bb)w=e-oa,T=w+1;else if(ub==a.length-3||e==bb&&a[ub+3]>e)T=bb-oa,w=T-1,e>=bb&&(la="right");if(null!=w){m=a[ub+2];oa==bb&&q==(m.insertLeft?"left":"right")&&(la=q);if("left"==q&&0==w)for(;ub&&a[ub-2]==a[ub-3]&&a[ub-1].insertLeft;)m=a[(ub-=3)+2],la="left";if("right"==q&&w==bb-oa)for(;ub<a.length-3&&a[ub+3]==a[ub+4]&&!a[ub+5].insertLeft;)m=a[(ub+=3)+2],la="right";break}}return{node:m,start:w,end:T,
collapse:la,coverStart:oa,coverEnd:bb}}function Me(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var e=0;e<a.rest.length;e++)a.measure.caches[e]={}}function qe(a){a.display.externalMeasure=null;v(a.display.lineMeasure);for(var e=0;e<a.display.view.length;e++)Me(a.display.view[e])}function bf(a){qe(a);a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null;a.options.lineWrapping||(a.display.maxLineChanged=!0);a.display.lineNumChars=null}function Hd(){return Fg&&
jh?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function fe(){return Fg&&jh?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Ce(a){var e=0;if(a.widgets)for(var q=0;q<a.widgets.length;++q)a.widgets[q].above&&(e+=ad(a.widgets[q]));return e}function Xd(a,
e,q,m,w){w||(w=Ce(e),q.top+=w,q.bottom+=w);if("line"==m)return q;m||(m="local");e=U(e);e="local"==m?e+a.display.lineSpace.offsetTop:e-a.display.viewOffset;if("page"==m||"window"==m)a=a.display.lineSpace.getBoundingClientRect(),e+=a.top+("window"==m?0:fe()),m=a.left+("window"==m?0:Hd()),q.left+=m,q.right+=m;q.top+=e;q.bottom+=e;return q}function md(a,e,q){if("div"==q)return e;var m=e.left;e=e.top;"page"==q?(m-=Hd(),e-=fe()):"local"!=q&&q||(q=a.display.sizer.getBoundingClientRect(),m+=q.left,e+=q.top);
a=a.display.lineSpace.getBoundingClientRect();return{left:m-a.left,top:e-a.top}}function xd(a,e,q,m,w){m||(m=l(a.doc,e.line));var T=m;e=e.ch;m=rd(a,te(a,m),e,w);return Xd(a,T,m,q)}function Ld(a,e,q,m,w,T){function la(ic,hc){ic=rd(a,w,ic,hc?"right":"left",T);hc?ic.left=ic.right:ic.right=ic.left;return Xd(a,m,ic,q)}function oa(ic,hc,Uc){return la(Uc?ic-1:ic,1==bb[hc].level!=Uc)}m=m||l(a.doc,e.line);w||(w=te(a,m));var bb=Wa(m,a.doc.direction),ub=e.ch;e=e.sticky;ub>=m.text.length?(ub=m.text.length,e=
"before"):0>=ub&&(ub=0,e="after");if(!bb)return la("before"==e?ub-1:ub,"before"==e);var Mb=fb(bb,ub,e),zc=ph;Mb=oa(ub,Mb,"before"==e);null!=zc&&(Mb.other=oa(ub,zc,"before"!=e));return Mb}function ff(a,e){var q=0;e=sb(a.doc,e);a.options.lineWrapping||(q=Yd(a.display)*e.ch);e=l(a.doc,e.line);a=U(e)+a.display.lineSpace.offsetTop;return{left:q,right:q,top:a,bottom:a+e.height}}function ne(a,e,q,m,w){a=fa(a,e,q);a.xRel=w;m&&(a.outside=m);return a}function wd(a,e,q){var m=a.doc;q+=a.display.viewOffset;if(0>
q)return ne(m.first,0,null,-1,-1);var w=z(m,q),T=m.first+m.size-1;if(w>T)return ne(m.first+m.size-1,l(m,T).text.length,null,1,1);0>e&&(e=0);for(var la=l(m,w);;){T=pe(a,la,w,e,q);var oa=void 0;var bb=T.ch+(0<T.xRel||0<T.outside?1:0);if(la=Bg&&la.markedSpans)for(var ub=0;ub<la.length;++ub){var Mb=la[ub];Mb.marker.collapsed&&(null==Mb.from||Mb.from<bb)&&(null==Mb.to||Mb.to>bb)&&(!oa||0>Pd(oa,Mb.marker))&&(oa=Mb.marker)}if(!oa)return T;T=oa.find(1);if(T.line==w)return T;la=l(m,w=T.line)}}function Ae(a,
e,q,m){m-=Ce(e);e=e.text.length;var w=La(function(T){return rd(a,q,T-1).bottom<=m},e,0);e=La(function(T){return rd(a,q,T).top>m},w,e);return{begin:w,end:e}}function cf(a,e,q,m){q||(q=te(a,e));m=Xd(a,e,rd(a,q,m),"line").top;return Ae(a,e,q,m)}function wc(a,e,q,m){return a.bottom<=q?!1:a.top>q?!0:(m?a.left:a.right)>e}function pe(a,e,q,m,w){w-=U(e);var T=te(a,e),la=Ce(e),oa=0,bb=e.text.length,ub=!0,Mb=Wa(e,a.doc.direction);Mb&&(Mb=(a.options.lineWrapping?Ub:Vd)(a,e,q,T,Mb,m,w),oa=(ub=1!=Mb.level)?Mb.from:
Mb.to-1,bb=ub?Mb.to:Mb.from-1);var zc=null,ic=null;Mb=La(function(Uc){var Ad=rd(a,T,Uc);Ad.top+=la;Ad.bottom+=la;if(!wc(Ad,m,w,!1))return!1;Ad.top<=w&&Ad.left<=m&&(zc=Uc,ic=Ad);return!0},oa,bb);var hc=!1;ic?(oa=m-ic.left<ic.right-m,ub=oa==ub,Mb=zc+(ub?0:1),ub=ub?"after":"before",oa=oa?ic.left:ic.right):(ub||Mb!=bb&&Mb!=oa||Mb++,ub=0==Mb?"after":Mb==e.text.length?"before":rd(a,T,Mb-(ub?1:0)).bottom+la<=w==ub?"after":"before",hc=Ld(a,fa(q,Mb,ub),"line",e,T),oa=hc.left,hc=w<hc.top?-1:w>=hc.bottom?1:
0);Mb=wa(e.text,Mb,1);return ne(q,Mb,ub,hc,m-oa)}function Vd(a,e,q,m,w,T,la){var oa=La(function(Mb){Mb=w[Mb];var zc=1!=Mb.level;return wc(Ld(a,fa(q,zc?Mb.to:Mb.from,zc?"before":"after"),"line",e,m),T,la,!0)},0,w.length-1),bb=w[oa];if(0<oa){var ub=1!=bb.level;ub=Ld(a,fa(q,ub?bb.from:bb.to,ub?"after":"before"),"line",e,m);wc(ub,T,la,!0)&&ub.top>la&&(bb=w[oa-1])}return bb}function Ub(a,e,q,m,w,T,la){la=Ae(a,e,m,la);q=la.begin;la=la.end;/\s/.test(e.text.charAt(la-1))&&la--;for(var oa=e=null,bb=0;bb<w.length;bb++){var ub=
w[bb];if(!(ub.from>=la||ub.to<=q)){var Mb=rd(a,m,1!=ub.level?Math.min(la,ub.to)-1:Math.max(q,ub.from)).right;Mb=Mb<T?T-Mb+1E9:Mb-T;if(!e||oa>Mb)e=ub,oa=Mb}}e||(e=w[w.length-1]);e.from<q&&(e={from:q,to:e.to,level:e.level});e.to>la&&(e={from:e.from,to:la,level:e.level});return e}function oe(a){if(null!=a.cachedTextHeight)return a.cachedTextHeight;if(null==lg){lg=Qa("pre",null,"CodeMirror-line-like");for(var e=0;49>e;++e)lg.appendChild(document.createTextNode("x")),lg.appendChild(Qa("br"));lg.appendChild(document.createTextNode("x"))}Y(a.measure,
lg);e=lg.offsetHeight/50;3<e&&(a.cachedTextHeight=e);v(a.measure);return e||1}function Yd(a){if(null!=a.cachedCharWidth)return a.cachedCharWidth;var e=Qa("span","xxxxxxxxxx"),q=Qa("pre",[e],"CodeMirror-line-like");Y(a.measure,q);e=e.getBoundingClientRect();e=(e.right-e.left)/10;2<e&&(a.cachedCharWidth=e);return e||10}function se(a){for(var e=a.display,q={},m={},w=e.gutters.clientLeft,T=e.gutters.firstChild,la=0;T;T=T.nextSibling,++la){var oa=a.display.gutterSpecs[la].className;q[oa]=T.offsetLeft+
T.clientLeft+w;m[oa]=T.clientWidth}return{fixedPos:df(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:q,gutterWidth:m,wrapperWidth:e.wrapper.clientWidth}}function df(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function Re(a){var e=oe(a.display),q=a.options.lineWrapping,m=q&&Math.max(5,a.display.scroller.clientWidth/Yd(a.display)-3);return function(w){if(Nd(a.doc,w))return 0;var T=0;if(w.widgets)for(var la=0;la<w.widgets.length;la++)w.widgets[la].height&&
(T+=w.widgets[la].height);return q?T+(Math.ceil(w.text.length/m)||1)*e:T+e}}function Ve(a){var e=a.doc,q=Re(a);e.iter(function(m){var w=q(m);w!=m.height&&B(m,w)})}function Ge(a,e,q,m){var w=a.display;if(!q&&"true"==(e.target||e.srcElement).getAttribute("cm-not-content"))return null;q=w.lineSpace.getBoundingClientRect();try{var T=e.clientX-q.left;var la=e.clientY-q.top}catch(bb){return null}e=wd(a,T,la);var oa;m&&0<e.xRel&&(oa=l(a.doc,e.line).text).length==e.ch&&(m=mb(oa,oa.length,a.options.tabSize)-
oa.length,e=fa(e.line,Math.max(0,Math.round((T-qd(a.display).left)/Yd(a.display))-m)));return e}function I(a,e){if(e>=a.display.viewTo)return null;e-=a.display.viewFrom;if(0>e)return null;a=a.display.view;for(var q=0;q<a.length;q++)if(e-=a[q].size,0>e)return q}function R(a,e,q,m){null==e&&(e=a.doc.first);null==q&&(q=a.doc.first+a.doc.size);m||(m=0);var w=a.display;m&&q<w.viewTo&&(null==w.updateLineNumbers||w.updateLineNumbers>e)&&(w.updateLineNumbers=e);a.curOp.viewChanged=!0;if(e>=w.viewTo)Bg&&dd(a.doc,
e)<w.viewTo&&Fa(a);else if(q<=w.viewFrom)Bg&&nd(a.doc,q+m)>w.viewFrom?Fa(a):(w.viewFrom+=m,w.viewTo+=m);else if(e<=w.viewFrom&&q>=w.viewTo)Fa(a);else if(e<=w.viewFrom){var T=Oa(a,q,q+m,1);T?(w.view=w.view.slice(T.index),w.viewFrom=T.lineN,w.viewTo+=m):Fa(a)}else if(q>=w.viewTo)(T=Oa(a,e,e,-1))?(w.view=w.view.slice(0,T.index),w.viewTo=T.lineN):Fa(a);else{T=Oa(a,e,e,-1);var la=Oa(a,q,q+m,1);T&&la?(w.view=w.view.slice(0,T.index).concat(Eb(a,T.lineN,la.lineN)).concat(w.view.slice(la.index)),w.viewTo+=
m):Fa(a)}if(a=w.externalMeasured)q<a.lineN?a.lineN+=m:e<a.lineN+a.size&&(w.externalMeasured=null)}function ra(a,e,q){a.curOp.viewChanged=!0;var m=a.display,w=a.display.externalMeasured;w&&e>=w.lineN&&e<w.lineN+w.size&&(m.externalMeasured=null);e<m.viewFrom||e>=m.viewTo||(a=m.view[I(a,e)],null!=a.node&&(a=a.changes||(a.changes=[]),-1==Pa(a,q)&&a.push(q)))}function Fa(a){a.display.viewFrom=a.display.viewTo=a.doc.first;a.display.view=[];a.display.viewOffset=0}function Oa(a,e,q,m){var w=I(a,e),T=a.display.view;
if(!Bg||q==a.doc.first+a.doc.size)return{index:w,lineN:q};for(var la=a.display.viewFrom,oa=0;oa<w;oa++)la+=T[oa].size;if(la!=e){if(0<m){if(w==T.length-1)return null;e=la+T[w].size-e;w++}else e=la-e;q+=e}for(;dd(a.doc,q)!=q;){if(w==(0>m?0:T.length-1))return null;q+=m*T[w-(0>m?1:0)].size;w+=m}return{index:w,lineN:q}}function Pb(a){a=a.display.view;for(var e=0,q=0;q<a.length;q++){var m=a[q];m.hidden||m.node&&!m.changes||++e}return e}function dc(a){a.display.input.showSelection(a.display.input.prepareSelection())}
function xc(a,e){void 0===e&&(e=!0);for(var q=a.doc,m={},w=m.cursors=document.createDocumentFragment(),T=m.selection=document.createDocumentFragment(),la=0;la<q.sel.ranges.length;la++)if(e||la!=q.sel.primIndex){var oa=q.sel.ranges[la];if(!(oa.from().line>=a.display.viewTo||oa.to().line<a.display.viewFrom)){var bb=oa.empty();(bb||a.options.showCursorWhenSelecting)&&oc(a,oa.head,w);bb||Wc(a,oa,T)}}return m}function oc(a,e,q){e=Ld(a,e,"div",null,null,!a.options.singleCursorHeightPerLine);var m=q.appendChild(Qa("div",
"","CodeMirror-cursor"));m.style.left=e.left+"px";m.style.top=e.top+"px";m.style.height=Math.max(0,e.bottom-e.top)*a.options.cursorHeight+"px";e.other&&(a=q.appendChild(Qa("div","","CodeMirror-cursor CodeMirror-secondarycursor")),a.style.display="",a.style.left=e.other.left+"px",a.style.top=e.other.top+"px",a.style.height=.85*(e.other.bottom-e.other.top)+"px")}function yc(a,e){return a.top-e.top||a.left-e.left}function Wc(a,e,q){function m(hc,Uc,Ad,me){0>Uc&&(Uc=0);Uc=Math.round(Uc);me=Math.round(me);
oa.appendChild(Qa("div",null,"CodeMirror-selected","position: absolute; left: "+hc+"px;\n                             top: "+Uc+"px; width: "+(null==Ad?Mb-hc:Ad)+"px;\n                             height: "+(me-Uc)+"px"))}function w(hc,Uc,Ad){function me(Ke,pf){return xd(a,fa(hc,Ke),"div",be,pf)}function Ue(Ke,pf,af){Ke=cf(a,be,null,Ke);pf="ltr"==pf==("after"==af)?"left":"right";af="after"==af?Ke.begin:Ke.end-(/\s/.test(be.text.charAt(Ke.end-1))?2:1);return me(af,pf)[pf]}var be=l(la,hc),jf=be.text.length,
$e,of,sf=Wa(be,la.direction);Ra(sf,Uc||0,null==Ad?jf:Ad,function(Ke,pf,af,kf){var Uf="ltr"==af,Yf=me(Ke,Uf?"left":"right"),eg=me(pf-1,Uf?"right":"left"),Kg=null==Uc&&0==Ke,Ug=null==Ad&&pf==jf,pi=0==kf;kf=!sf||kf==sf.length-1;3>=eg.top-Yf.top?(pf=(zc?Kg:Ug)&&pi?ub:(Uf?Yf:eg).left,m(pf,Yf.top,((zc?Ug:Kg)&&kf?Mb:(Uf?eg:Yf).right)-pf,Yf.bottom)):(Uf?(Uf=zc&&Kg&&pi?ub:Yf.left,Kg=zc?Mb:Ue(Ke,af,"before"),Ke=zc?ub:Ue(pf,af,"after"),Ug=zc&&Ug&&kf?Mb:eg.right):(Uf=zc?Ue(Ke,af,"before"):ub,Kg=!zc&&Kg&&pi?Mb:
Yf.right,Ke=!zc&&Ug&&kf?ub:eg.left,Ug=zc?Ue(pf,af,"after"):Mb),m(Uf,Yf.top,Kg-Uf,Yf.bottom),Yf.bottom<eg.top&&m(ub,Yf.bottom,null,eg.top),m(Ke,eg.top,Ug-Ke,eg.bottom));if(!$e||0>yc(Yf,$e))$e=Yf;0>yc(eg,$e)&&($e=eg);if(!of||0>yc(Yf,of))of=Yf;0>yc(eg,of)&&(of=eg)});return{start:$e,end:of}}var T=a.display,la=a.doc,oa=document.createDocumentFragment(),bb=qd(a.display),ub=bb.left,Mb=Math.max(T.sizerWidth,Ud(a)-T.sizer.offsetLeft)-bb.right,zc="ltr"==la.direction;T=e.from();e=e.to();if(T.line==e.line)w(T.line,
T.ch,e.ch);else{var ic=l(la,T.line);bb=l(la,e.line);bb=Sb(ic)==Sb(bb);T=w(T.line,T.ch,bb?ic.text.length+1:null).end;e=w(e.line,bb?0:null,e.ch).start;bb&&(T.top<e.top-2?(m(T.right,T.top,null,T.bottom),m(ub,e.top,e.left,e.bottom)):m(T.right,T.top,e.left-T.right,T.bottom));T.bottom<e.top&&m(ub,T.bottom,null,e.top)}q.appendChild(oa)}function Tc(a){if(a.state.focused){var e=a.display;clearInterval(e.blinker);var q=!0;e.cursorDiv.style.visibility="";0<a.options.cursorBlinkRate?e.blinker=setInterval(function(){a.hasFocus()||
Zd(a);e.cursorDiv.style.visibility=(q=!q)?"":"hidden"},a.options.cursorBlinkRate):0>a.options.cursorBlinkRate&&(e.cursorDiv.style.visibility="hidden")}}function he(a){a.hasFocus()||(a.display.input.focus(),a.state.focused||jd(a))}function od(a){a.state.delayingBlurEvent=!0;setTimeout(function(){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1,a.state.focused&&Zd(a))},100)}function jd(a,e){a.state.delayingBlurEvent&&!a.state.draggingText&&(a.state.delayingBlurEvent=!1);"nocursor"!=a.options.readOnly&&
(a.state.focused||(Xa(a,"focus",a,e),a.state.focused=!0,Ib(a.display.wrapper,"CodeMirror-focused"),a.curOp||a.display.selForContextMenu==a.doc.sel||(a.display.input.reset(),Pf&&setTimeout(function(){return a.display.input.reset(!0)},20)),a.display.input.receivedFocus()),Tc(a))}function Zd(a,e){a.state.delayingBlurEvent||(a.state.focused&&(Xa(a,"blur",a,e),a.state.focused=!1,mg(a.display.wrapper,"CodeMirror-focused")),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.display.shift=
!1)},150))}function ye(a){for(var e=a.display,q=e.lineDiv.offsetTop,m=0;m<e.view.length;m++){var w=e.view[m],T=a.options.lineWrapping,la=0;if(!w.hidden){if(Se&&8>Ye){T=w.node.offsetTop+w.node.offsetHeight;var oa=T-q;q=T}else{var bb=w.node.getBoundingClientRect();oa=bb.bottom-bb.top;!T&&w.text.firstChild&&(la=w.text.firstChild.getBoundingClientRect().right-bb.left-1)}T=w.line.height-oa;if(.005<T||-.005>T)if(B(w.line,oa),ve(w.line),w.rest)for(oa=0;oa<w.rest.length;oa++)ve(w.rest[oa]);la>a.display.sizerWidth&&
(la=Math.ceil(la/Yd(a.display)),la>a.display.maxLineLength&&(a.display.maxLineLength=la,a.display.maxLine=w.line,a.display.maxLineChanged=!0))}}}function ve(a){if(a.widgets)for(var e=0;e<a.widgets.length;++e){var q=a.widgets[e],m=q.node.parentNode;m&&(q.height=m.offsetHeight)}}function We(a,e,q){var m=q&&null!=q.top?Math.max(0,q.top):a.scroller.scrollTop;m=Math.floor(m-a.lineSpace.offsetTop);var w=q&&null!=q.bottom?q.bottom:m+a.wrapper.clientHeight;m=z(e,m);w=z(e,w);if(q&&q.ensure){var T=q.ensure.from.line;
q=q.ensure.to.line;T<m?(m=T,w=z(e,U(l(e,T))+a.wrapper.clientHeight)):Math.min(q,e.lastLine())>=w&&(m=z(e,U(l(e,q))-a.wrapper.clientHeight),w=q)}return{from:m,to:Math.max(w,m+1)}}function wf(a,e){var q=a.display,m=oe(a.display);0>e.top&&(e.top=0);var w=a.curOp&&null!=a.curOp.scrollTop?a.curOp.scrollTop:q.scroller.scrollTop,T=ee(a),la={};e.bottom-e.top>T&&(e.bottom=e.top+T);var oa=a.doc.height+td(q),bb=e.top<m;m=e.bottom>oa-m;e.top<w?la.scrollTop=bb?0:e.top:e.bottom>w+T&&(T=Math.min(e.top,(m?oa:e.bottom)-
T),T!=w&&(la.scrollTop=T));w=a.options.fixedGutter?0:q.gutters.offsetWidth;T=a.curOp&&null!=a.curOp.scrollLeft?a.curOp.scrollLeft:q.scroller.scrollLeft-w;a=Ud(a)-q.gutters.offsetWidth;if(q=e.right-e.left>a)e.right=e.left+a;10>e.left?la.scrollLeft=0:e.left<T?la.scrollLeft=Math.max(0,e.left+w-(q?0:10)):e.right>a+T-3&&(la.scrollLeft=e.right+(q?0:10)-a);return la}function bd(a,e){null!=e&&(De(a),a.curOp.scrollTop=(null==a.curOp.scrollTop?a.doc.scrollTop:a.curOp.scrollTop)+e)}function Be(a){De(a);var e=
a.getCursor();a.curOp.scrollToPos={from:e,to:e,margin:a.options.cursorScrollMargin}}function ue(a,e,q){null==e&&null==q||De(a);null!=e&&(a.curOp.scrollLeft=e);null!=q&&(a.curOp.scrollTop=q)}function De(a){var e=a.curOp.scrollToPos;if(e){a.curOp.scrollToPos=null;var q=ff(a,e.from),m=ff(a,e.to);vf(a,q,m,e.margin)}}function vf(a,e,q,m){e=wf(a,{left:Math.min(e.left,q.left),top:Math.min(e.top,q.top)-m,right:Math.max(e.right,q.right),bottom:Math.max(e.bottom,q.bottom)+m});ue(a,e.scrollLeft,e.scrollTop)}
function nf(a,e){2>Math.abs(a.doc.scrollTop-e)||(Rf||Ee(a,{top:e}),Cf(a,e,!0),Rf&&Ee(a),gd(a,100))}function Cf(a,e,q){e=Math.max(0,Math.min(a.display.scroller.scrollHeight-a.display.scroller.clientHeight,e));if(a.display.scroller.scrollTop!=e||q)a.doc.scrollTop=e,a.display.scrollbars.setScrollTop(e),a.display.scroller.scrollTop!=e&&(a.display.scroller.scrollTop=e)}function Ne(a,e,q,m){e=Math.max(0,Math.min(e,a.display.scroller.scrollWidth-a.display.scroller.clientWidth));(q?e==a.doc.scrollLeft:2>
Math.abs(a.doc.scrollLeft-e))&&!m||(a.doc.scrollLeft=e,ie(a),a.display.scroller.scrollLeft!=e&&(a.display.scroller.scrollLeft=e),a.display.scrollbars.setScrollLeft(e))}function H(a){var e=a.display,q=e.gutters.offsetWidth,m=Math.round(a.doc.height+td(a.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:a.options.fixedGutter?q:0,docHeight:m,scrollHeight:m+
Fd(a)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:q}}function Z(a,e){e||(e=H(a));var q=a.display.barWidth,m=a.display.barHeight;cb(a,e);for(e=0;4>e&&q!=a.display.barWidth||m!=a.display.barHeight;e++)q!=a.display.barWidth&&a.options.lineWrapping&&ye(a),cb(a,H(a)),q=a.display.barWidth,m=a.display.barHeight}function cb(a,e){var q=a.display,m=q.scrollbars.update(e);q.sizer.style.paddingRight=(q.barWidth=m.right)+"px";q.sizer.style.paddingBottom=(q.barHeight=m.bottom)+"px";q.heightForcer.style.borderBottom=
m.bottom+"px solid transparent";m.right&&m.bottom?(q.scrollbarFiller.style.display="block",q.scrollbarFiller.style.height=m.bottom+"px",q.scrollbarFiller.style.width=m.right+"px"):q.scrollbarFiller.style.display="";m.bottom&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(q.gutterFiller.style.display="block",q.gutterFiller.style.height=m.bottom+"px",q.gutterFiller.style.width=e.gutterWidth+"px"):q.gutterFiller.style.display=""}function Gb(a){a.display.scrollbars&&(a.display.scrollbars.clear(),
a.display.scrollbars.addClass&&mg(a.display.wrapper,a.display.scrollbars.addClass));a.display.scrollbars=new Mh[a.options.scrollbarStyle](function(e){a.display.wrapper.insertBefore(e,a.display.scrollbarFiller);le(e,"mousedown",function(){a.state.focused&&setTimeout(function(){return a.display.input.focus()},0)});e.setAttribute("cm-not-content","true")},function(e,q){"horizontal"==q?Ne(a,e):nf(a,e)},a);a.display.scrollbars.addClass&&Ib(a.display.wrapper,a.display.scrollbars.addClass)}function Hb(a){a.curOp=
{cm:a,viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Sj};a=a.curOp;Tg?Tg.ops.push(a):a.ownsGroup=Tg={ops:[a],delayedCallbacks:[]}}function Tb(a){(a=a.curOp)&&Zb(a,function(e){for(var q=0;q<e.ops.length;q++)e.ops[q].cm.curOp=null;e=e.ops;for(q=0;q<e.length;q++){var m=e[q],w=m.cm,T=w.display,la=w.display;
!la.scrollbarsClipped&&la.scroller.offsetWidth&&(la.nativeBarWidth=la.scroller.offsetWidth-la.scroller.clientWidth,la.heightForcer.style.height=Fd(w)+"px",la.sizer.style.marginBottom=-la.nativeBarWidth+"px",la.sizer.style.borderRightWidth=Fd(w)+"px",la.scrollbarsClipped=!0);m.updateMaxLine&&ab(w);m.mustUpdate=m.viewChanged||m.forceUpdate||null!=m.scrollTop||m.scrollToPos&&(m.scrollToPos.from.line<T.viewFrom||m.scrollToPos.to.line>=T.viewTo)||T.maxLineChanged&&w.options.lineWrapping;m.update=m.mustUpdate&&
new Oh(w,m.mustUpdate&&{top:m.scrollTop,ensure:m.scrollToPos},m.forceUpdate)}for(q=0;q<e.length;q++)m=e[q],m.updatedDisplay=m.mustUpdate&&Ed(m.cm,m.update);for(q=0;q<e.length;q++)if(m=e[q],w=m.cm,T=w.display,m.updatedDisplay&&ye(w),m.barMeasure=H(w),T.maxLineChanged&&!w.options.lineWrapping&&(la=T.maxLine.text.length,la=rd(w,te(w,T.maxLine),la,void 0),m.adjustWidthTo=la.left+3,w.display.sizerWidth=m.adjustWidthTo,m.barMeasure.scrollWidth=Math.max(T.scroller.clientWidth,T.sizer.offsetLeft+m.adjustWidthTo+
Fd(w)+w.display.barWidth),m.maxScrollLeft=Math.max(0,T.sizer.offsetLeft+m.adjustWidthTo-Ud(w))),m.updatedDisplay||m.selectionChanged)m.preparedSelection=T.input.prepareSelection();for(q=0;q<e.length;q++)m=e[q],w=m.cm,null!=m.adjustWidthTo&&(w.display.sizer.style.minWidth=m.adjustWidthTo+"px",m.maxScrollLeft<w.doc.scrollLeft&&Ne(w,Math.min(w.display.scroller.scrollLeft,m.maxScrollLeft),!0),w.display.maxLineChanged=!1),T=m.focus&&m.focus==pb(),m.preparedSelection&&w.display.input.showSelection(m.preparedSelection,
T),(m.updatedDisplay||m.startHeight!=w.doc.height)&&Z(w,m.barMeasure),m.updatedDisplay&&Od(w,m.barMeasure),m.selectionChanged&&Tc(w),w.state.focused&&m.updateInput&&w.display.input.reset(m.typing),T&&he(m.cm);for(q=0;q<e.length;q++){var oa=void 0;m=e[q];w=m.cm;T=w.display;la=w.doc;m.updatedDisplay&&pd(w,m.update);null==T.wheelStartX||null==m.scrollTop&&null==m.scrollLeft&&!m.scrollToPos||(T.wheelStartX=T.wheelStartY=null);null!=m.scrollTop&&Cf(w,m.scrollTop,m.forceScroll);null!=m.scrollLeft&&Ne(w,
m.scrollLeft,!0,!0);if(m.scrollToPos){var bb=sb(la,m.scrollToPos.from);var ub=sb(la,m.scrollToPos.to);var Mb=m.scrollToPos.margin;null==Mb&&(Mb=0);w.options.lineWrapping||bb!=ub||(bb=bb.ch?fa(bb.line,"before"==bb.sticky?bb.ch-1:bb.ch,"after"):bb,ub="before"==bb.sticky?fa(bb.line,bb.ch+1,"before"):bb);for(var zc=0;5>zc;zc++){var ic=!1;oa=Ld(w,bb);var hc=ub&&ub!=bb?Ld(w,ub):oa;oa={left:Math.min(oa.left,hc.left),top:Math.min(oa.top,hc.top)-Mb,right:Math.max(oa.left,hc.left),bottom:Math.max(oa.bottom,
hc.bottom)+Mb};hc=wf(w,oa);var Uc=w.doc.scrollTop,Ad=w.doc.scrollLeft;null!=hc.scrollTop&&(nf(w,hc.scrollTop),1<Math.abs(w.doc.scrollTop-Uc)&&(ic=!0));null!=hc.scrollLeft&&(Ne(w,hc.scrollLeft),1<Math.abs(w.doc.scrollLeft-Ad)&&(ic=!0));if(!ic)break}ub=oa;Q(w,"scrollCursorIntoView")||(Mb=w.display,zc=Mb.sizer.getBoundingClientRect(),bb=null,0>ub.top+zc.top?bb=!0:ub.bottom+zc.top>(window.innerHeight||document.documentElement.clientHeight)&&(bb=!1),null==bb||Fi||(ub=Qa("div","",null,"position: absolute;\n                         top: "+
(ub.top-Mb.viewOffset-w.display.lineSpace.offsetTop)+"px;\n                         height: "+(ub.bottom-ub.top+Fd(w)+Mb.barHeight)+"px;\n                         left: "+ub.left+"px; width: "+Math.max(2,ub.right-ub.left)+"px;"),w.display.lineSpace.appendChild(ub),ub.scrollIntoView(bb),w.display.lineSpace.removeChild(ub)))}ub=m.maybeHiddenMarkers;bb=m.maybeUnhiddenMarkers;if(ub)for(Mb=0;Mb<ub.length;++Mb)ub[Mb].lines.length||Xa(ub[Mb],"hide");if(bb)for(ub=0;ub<bb.length;++ub)bb[ub].lines.length&&
Xa(bb[ub],"unhide");T.wrapper.offsetHeight&&(la.scrollTop=w.display.scroller.scrollTop);m.changeObjs&&Xa(w,"changes",w,m.changeObjs);m.update&&m.update.finish()}})}function ac(a,e){if(a.curOp)return e();Hb(a);try{return e()}finally{Tb(a)}}function Gc(a,e){return function(){if(a.curOp)return e.apply(a,arguments);Hb(a);try{return e.apply(a,arguments)}finally{Tb(a)}}}function Dc(a){return function(){if(this.curOp)return a.apply(this,arguments);Hb(this);try{return a.apply(this,arguments)}finally{Tb(this)}}}
function Sc(a){return function(){var e=this.cm;if(!e||e.curOp)return a.apply(this,arguments);Hb(e);try{return a.apply(this,arguments)}finally{Tb(e)}}}function gd(a,e){a.doc.highlightFrontier<a.display.viewTo&&a.state.highlight.set(e,Va(zd,a))}function zd(a){var e=a.doc;if(!(e.highlightFrontier>=a.display.viewTo)){var q=+new Date+a.options.workTime,m=Vc(a,e.highlightFrontier),w=[];e.iter(m.line,Math.min(e.first+e.size,a.display.viewTo+500),function(T){if(m.line>=a.display.viewFrom){var la=T.styles,
oa=T.text.length>a.options.maxHighlightLength?P(e.mode,m.state):null,bb=Xb(a,T,m,!0);oa&&(m.state=oa);T.styles=bb.styles;oa=T.styleClasses;(bb=bb.classes)?T.styleClasses=bb:oa&&(T.styleClasses=null);bb=!la||la.length!=T.styles.length||oa!=bb&&(!oa||!bb||oa.bgClass!=bb.bgClass||oa.textClass!=bb.textClass);for(oa=0;!bb&&oa<la.length;++oa)bb=la[oa]!=T.styles[oa];bb&&w.push(m.line);T.stateAfter=m.save()}else T.text.length<=a.options.maxHighlightLength&&tc(a,T.text,m),T.stateAfter=0==m.line%5?m.save():
null;m.nextLine();if(+new Date>q)return gd(a,a.options.workDelay),!0});e.highlightFrontier=m.line;e.modeFrontier=Math.max(e.modeFrontier,m.line);w.length&&ac(a,function(){for(var T=0;T<w.length;T++)ra(a,w[T],"text")})}}function Ed(a,e){var q=a.display,m=a.doc;if(e.editorIsHidden)return Fa(a),!1;if(!e.force&&e.visible.from>=q.viewFrom&&e.visible.to<=q.viewTo&&(null==q.updateLineNumbers||q.updateLineNumbers>=q.viewTo)&&q.renderedView==q.view&&0==Pb(a))return!1;qf(a)&&(Fa(a),e.dims=se(a));var w=m.first+
m.size,T=Math.max(e.visible.from-a.options.viewportMargin,m.first),la=Math.min(w,e.visible.to+a.options.viewportMargin);q.viewFrom<T&&20>T-q.viewFrom&&(T=Math.max(m.first,q.viewFrom));q.viewTo>la&&20>q.viewTo-la&&(la=Math.min(w,q.viewTo));Bg&&(T=dd(a.doc,T),la=nd(a.doc,la));m=T!=q.viewFrom||la!=q.viewTo||q.lastWrapHeight!=e.wrapperHeight||q.lastWrapWidth!=e.wrapperWidth;w=a.display;0==w.view.length||T>=w.viewTo||la<=w.viewFrom?(w.view=Eb(a,T,la),w.viewFrom=T):(w.viewFrom>T?w.view=Eb(a,T,w.viewFrom).concat(w.view):
w.viewFrom<T&&(w.view=w.view.slice(I(a,T))),w.viewFrom=T,w.viewTo<la?w.view=w.view.concat(Eb(a,w.viewTo,la)):w.viewTo>la&&(w.view=w.view.slice(0,I(a,la))));w.viewTo=la;q.viewOffset=U(l(a.doc,q.viewFrom));a.display.mover.style.top=q.viewOffset+"px";la=Pb(a);if(!m&&0==la&&!e.force&&q.renderedView==q.view&&(null==q.updateLineNumbers||q.updateLineNumbers>=q.viewTo))return!1;a.hasFocus()?T=null:(T=pb())&&db(a.display.lineDiv,T)?(T={activeElt:T},window.getSelection&&(w=window.getSelection(),w.anchorNode&&
w.extend&&db(a.display.lineDiv,w.anchorNode)&&(T.anchorNode=w.anchorNode,T.anchorOffset=w.anchorOffset,T.focusNode=w.focusNode,T.focusOffset=w.focusOffset))):T=null;4<la&&(q.lineDiv.style.display="none");Bd(a,q.updateLineNumbers,e.dims);4<la&&(q.lineDiv.style.display="");q.renderedView=q.view;(la=T)&&la.activeElt&&la.activeElt!=pb()&&(la.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(la.activeElt.nodeName)&&la.anchorNode&&db(document.body,la.anchorNode)&&db(document.body,la.focusNode)&&(T=window.getSelection(),
w=document.createRange(),w.setEnd(la.anchorNode,la.anchorOffset),w.collapse(!1),T.removeAllRanges(),T.addRange(w),T.extend(la.focusNode,la.focusOffset)));v(q.cursorDiv);v(q.selectionDiv);q.gutters.style.height=q.sizer.style.minHeight=0;m&&(q.lastWrapHeight=e.wrapperHeight,q.lastWrapWidth=e.wrapperWidth,gd(a,400));q.updateLineNumbers=null;return!0}function pd(a,e){for(var q=e.viewport,m=!0;;m=!1){if(m&&a.options.lineWrapping&&e.oldDisplayWidth!=Ud(a))m&&(e.visible=We(a.display,a.doc,q));else if(q&&
null!=q.top&&(q={top:Math.min(a.doc.height+td(a.display)-ee(a),q.top)}),e.visible=We(a.display,a.doc,q),e.visible.from>=a.display.viewFrom&&e.visible.to<=a.display.viewTo)break;if(!Ed(a,e))break;ye(a);m=H(a);dc(a);Z(a,m);Od(a,m);e.force=!1}e.signal(a,"update",a);if(a.display.viewFrom!=a.display.reportedViewFrom||a.display.viewTo!=a.display.reportedViewTo)e.signal(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo),a.display.reportedViewFrom=a.display.viewFrom,a.display.reportedViewTo=a.display.viewTo}
function Ee(a,e){e=new Oh(a,e);if(Ed(a,e)){ye(a);pd(a,e);var q=H(a);dc(a);Z(a,q);Od(a,q);e.finish()}}function Bd(a,e,q){function m(ic){var hc=ic.nextSibling;Pf&&kg&&a.display.currentWheelTarget==ic?ic.style.display="none":ic.parentNode.removeChild(ic);return hc}var w=a.display,T=a.options.lineNumbers,la=w.lineDiv,oa=la.firstChild,bb=w.view;w=w.viewFrom;for(var ub=0;ub<bb.length;ub++){var Mb=bb[ub];if(!Mb.hidden)if(Mb.node&&Mb.node.parentNode==la){for(;oa!=Mb.node;)oa=m(oa);oa=T&&null!=e&&e<=w&&Mb.lineNumber;
Mb.changes&&(-1<Pa(Mb.changes,"gutter")&&(oa=!1),Cc(a,Mb,w,q));oa&&(v(Mb.lineNumber),Mb.lineNumber.appendChild(document.createTextNode(sa(a.options,w))));oa=Mb.node.nextSibling}else{var zc=Bc(a,Mb,w,q);la.insertBefore(zc,oa)}w+=Mb.size}for(;oa;)oa=m(oa)}function ke(a){a.sizer.style.marginLeft=a.gutters.offsetWidth+"px"}function Od(a,e){a.display.sizer.style.minHeight=e.docHeight+"px";a.display.heightForcer.style.top=e.docHeight+"px";a.display.gutters.style.height=e.docHeight+a.display.barHeight+Fd(a)+
"px"}function ie(a){var e=a.display,q=e.view;if(e.alignWidgets||e.gutters.firstChild&&a.options.fixedGutter){for(var m=df(e)-e.scroller.scrollLeft+a.doc.scrollLeft,w=e.gutters.offsetWidth,T=m+"px",la=0;la<q.length;la++)if(!q[la].hidden){a.options.fixedGutter&&(q[la].gutter&&(q[la].gutter.style.left=T),q[la].gutterBackground&&(q[la].gutterBackground.style.left=T));var oa=q[la].alignable;if(oa)for(var bb=0;bb<oa.length;bb++)oa[bb].style.left=T}a.options.fixedGutter&&(e.gutters.style.left=m+w+"px")}}
function qf(a){if(!a.options.lineNumbers)return!1;var e=a.doc;e=sa(a.options,e.first+e.size-1);var q=a.display;if(e.length!=q.lineNumChars){var m=q.measure.appendChild(Qa("div",[Qa("div",e)],"CodeMirror-linenumber CodeMirror-gutter-elt")),w=m.firstChild.offsetWidth;m=m.offsetWidth-w;q.lineGutter.style.width="";q.lineNumInnerWidth=Math.max(w,q.lineGutter.offsetWidth-m)+1;q.lineNumWidth=q.lineNumInnerWidth+m;q.lineNumChars=q.lineNumInnerWidth?e.length:-1;q.lineGutter.style.width=q.lineNumWidth+"px";
ke(a.display);return!0}return!1}function Kd(a,e){for(var q=[],m=!1,w=0;w<a.length;w++){var T=a[w],la=null;"string"!=typeof T&&(la=T.style,T=T.className);if("CodeMirror-linenumbers"==T)if(e)m=!0;else continue;q.push({className:T,style:la})}e&&!m&&q.push({className:"CodeMirror-linenumbers",style:null});return q}function Xe(a){var e=a.gutters,q=a.gutterSpecs;v(e);a.lineGutter=null;for(var m=0;m<q.length;++m){var w=q[m],T=w.className;w=w.style;var la=e.appendChild(Qa("div",null,"CodeMirror-gutter "+T));
w&&(la.style.cssText=w);"CodeMirror-linenumbers"==T&&(a.lineGutter=la,la.style.width=(a.lineNumWidth||1)+"px")}e.style.display=q.length?"":"none";ke(a)}function je(a){Xe(a.display);R(a);ie(a)}function lf(a,e,q,m){this.input=q;this.scrollbarFiller=Qa("div",null,"CodeMirror-scrollbar-filler");this.scrollbarFiller.setAttribute("cm-not-content","true");this.gutterFiller=Qa("div",null,"CodeMirror-gutter-filler");this.gutterFiller.setAttribute("cm-not-content","true");this.lineDiv=Qb("div",null,"CodeMirror-code");
this.selectionDiv=Qa("div",null,null,"position: relative; z-index: 1");this.cursorDiv=Qa("div",null,"CodeMirror-cursors");this.measure=Qa("div",null,"CodeMirror-measure");this.lineMeasure=Qa("div",null,"CodeMirror-measure");this.lineSpace=Qb("div",[this.measure,this.lineMeasure,this.selectionDiv,this.cursorDiv,this.lineDiv],null,"position: relative; outline: none");var w=Qb("div",[this.lineSpace],"CodeMirror-lines");this.mover=Qa("div",[w],null,"position: relative");this.sizer=Qa("div",[this.mover],
"CodeMirror-sizer");this.sizerWidth=null;this.heightForcer=Qa("div",null,null,"position: absolute; height: 50px; width: 1px;");this.gutters=Qa("div",null,"CodeMirror-gutters");this.lineGutter=null;this.scroller=Qa("div",[this.sizer,this.heightForcer,this.gutters],"CodeMirror-scroll");this.scroller.setAttribute("tabIndex","-1");this.wrapper=Qa("div",[this.scrollbarFiller,this.gutterFiller,this.scroller],"CodeMirror");Se&&8>Ye&&(this.gutters.style.zIndex=-1,this.scroller.style.paddingRight=0);Pf||Rf&&
kh||(this.scroller.draggable=!0);a&&(a.appendChild?a.appendChild(this.wrapper):a(this.wrapper));this.reportedViewFrom=this.reportedViewTo=this.viewFrom=this.viewTo=e.first;this.view=[];this.externalMeasured=this.renderedView=null;this.lastWrapHeight=this.lastWrapWidth=this.viewOffset=0;this.updateLineNumbers=null;this.nativeBarWidth=this.barHeight=this.barWidth=0;this.scrollbarsClipped=!1;this.lineNumWidth=this.lineNumInnerWidth=this.lineNumChars=null;this.alignWidgets=!1;this.maxLine=this.cachedCharWidth=
this.cachedTextHeight=this.cachedPaddingH=null;this.maxLineLength=0;this.maxLineChanged=!1;this.wheelDX=this.wheelDY=this.wheelStartX=this.wheelStartY=null;this.shift=!1;this.activeTouch=this.selForContextMenu=null;this.gutterSpecs=Kd(m.gutters,m.lineNumbers);Xe(this);q.init(this)}function He(a){var e=a.wheelDeltaX,q=a.wheelDeltaY;null==e&&a.detail&&a.axis==a.HORIZONTAL_AXIS&&(e=a.detail);null==q&&a.detail&&a.axis==a.VERTICAL_AXIS?q=a.detail:null==q&&(q=a.wheelDelta);return{x:e,y:q}}function Gf(a){a=
He(a);a.x*=cg;a.y*=cg;return a}function J(a,e){var q=He(e),m=q.x;q=q.y;var w=a.display,T=w.scroller,la=T.scrollWidth>T.clientWidth,oa=T.scrollHeight>T.clientHeight;if(m&&la||q&&oa){if(q&&kg&&Pf){la=e.target;var bb=w.view;a:for(;la!=T;la=la.parentNode)for(var ub=0;ub<bb.length;ub++)if(bb[ub].node==la){a.display.currentWheelTarget=la;break a}}!m||Rf||Wf||null==cg?(q&&null!=cg&&(e=q*cg,oa=a.doc.scrollTop,la=oa+w.wrapper.clientHeight,0>e?oa=Math.max(0,oa+e-50):la=Math.min(a.doc.height,la+e+50),Ee(a,{top:oa,
bottom:la})),20>Nh&&(null==w.wheelStartX?(w.wheelStartX=T.scrollLeft,w.wheelStartY=T.scrollTop,w.wheelDX=m,w.wheelDY=q,setTimeout(function(){if(null!=w.wheelStartX){var Mb=T.scrollLeft-w.wheelStartX,zc=T.scrollTop-w.wheelStartY;Mb=zc&&w.wheelDY&&zc/w.wheelDY||Mb&&w.wheelDX&&Mb/w.wheelDX;w.wheelStartX=w.wheelStartY=null;Mb&&(cg=(cg*Nh+Mb)/(Nh+1),++Nh)}},200)):(w.wheelDX+=m,w.wheelDY+=q))):(q&&oa&&nf(a,Math.max(0,T.scrollTop+q*cg)),Ne(a,Math.max(0,T.scrollLeft+m*cg)),(!q||q&&oa)&&K(e),w.wheelStartX=
null)}}function M(a,e,q){a=a&&a.options.selectionsMayTouch;q=e[q];e.sort(function(bb,ub){return Na(bb.from(),ub.from())});q=Pa(e,q);for(var m=1;m<e.length;m++){var w=e[m],T=e[m-1],la=Na(T.to(),w.from());if(a&&!w.empty()?0<la:0<=la){la=$a(T.from(),w.from());var oa=na(T.to(),w.to());w=T.empty()?w.from()==w.head:T.from()==T.head;m<=q&&--q;e.splice(--m,2,new Ze(w?oa:la,w?la:oa))}}return new dg(e,q)}function V(a,e){return new dg([new Ze(a,e||a)],0)}function ca(a){return a.text?fa(a.from.line+a.text.length-
1,Sa(a.text).length+(1==a.text.length?a.from.ch:0)):a.to}function ua(a,e){if(0>Na(a,e.from))return a;if(0>=Na(a,e.to))return ca(e);var q=a.line+e.text.length-(e.to.line-e.from.line)-1,m=a.ch;a.line==e.to.line&&(m+=ca(e).ch-e.to.ch);return fa(q,m)}function ya(a,e){for(var q=[],m=0;m<a.sel.ranges.length;m++){var w=a.sel.ranges[m];q.push(new Ze(ua(w.anchor,e),ua(w.head,e)))}return M(a.cm,q,a.sel.primIndex)}function Ta(a,e,q){return a.line==e.line?fa(q.line,a.ch-e.ch+q.ch):fa(q.line+(a.line-e.line),a.ch)}
function ob(a){a.doc.mode=ta(a.options,a.doc.modeOption);hb(a)}function hb(a){a.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null);e.styles&&(e.styles=null)});a.doc.modeFrontier=a.doc.highlightFrontier=a.doc.first;gd(a,100);a.state.modeGen++;a.curOp&&R(a)}function tb(a,e){return 0==e.from.ch&&0==e.to.ch&&""==Sa(e.text)&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function yb(a,e,q,m){function w(Uc,Ad,me){Uc.text=Ad;Uc.stateAfter&&(Uc.stateAfter=null);Uc.styles&&(Uc.styles=null);null!=Uc.order&&
(Uc.order=null);Zc(Uc);ed(Uc,me);Ad=m?m(Uc):1;Ad!=Uc.height&&B(Uc,Ad);lc(Uc,"change",Uc,e)}function T(Uc,Ad){for(var me=[];Uc<Ad;++Uc)me.push(new Ig(bb[Uc],q?q[Uc]:null,m));return me}var la=e.from,oa=e.to,bb=e.text,ub=l(a,la.line),Mb=l(a,oa.line),zc=Sa(bb),ic=q?q[bb.length-1]:null,hc=oa.line-la.line;e.full?(a.insert(0,T(0,bb.length)),a.remove(bb.length,a.size-bb.length)):tb(a,e)?(oa=T(0,bb.length-1),w(Mb,Mb.text,ic),hc&&a.remove(la.line,hc),oa.length&&a.insert(la.line,oa)):ub==Mb?1==bb.length?w(ub,
ub.text.slice(0,la.ch)+zc+ub.text.slice(oa.ch),ic):(hc=T(1,bb.length-1),hc.push(new Ig(zc+ub.text.slice(oa.ch),ic,m)),w(ub,ub.text.slice(0,la.ch)+bb[0],q?q[0]:null),a.insert(la.line+1,hc)):1==bb.length?(w(ub,ub.text.slice(0,la.ch)+bb[0]+Mb.text.slice(oa.ch),q?q[0]:null),a.remove(la.line+1,hc)):(w(ub,ub.text.slice(0,la.ch)+bb[0],q?q[0]:null),w(Mb,zc+Mb.text.slice(oa.ch),ic),ic=T(1,bb.length-1),1<hc&&a.remove(la.line+1,hc-1),a.insert(la.line+1,ic));lc(a,"change",a,e)}function Nb(a,e,q){function m(w,
T,la){if(w.linked)for(var oa=0;oa<w.linked.length;++oa){var bb=w.linked[oa];if(bb.doc!=T){var ub=la&&bb.sharedHist;if(!q||ub)e(bb.doc,ub),m(bb.doc,w,ub)}}}m(a,null,!0)}function gc(a,e){if(e.cm)throw Error("This document is already in use.");a.doc=e;e.cm=a;Ve(a);ob(a);r(a);a.options.lineWrapping||ab(a);a.options.mode=e.modeOption;R(a)}function r(a){("rtl"==a.doc.direction?Ib:mg)(a.display.lineDiv,"CodeMirror-rtl")}function C(a){ac(a,function(){r(a);R(a)})}function X(a){this.done=[];this.undone=[];
this.undoDepth=Infinity;this.lastModTime=this.lastSelTime=0;this.lastOrigin=this.lastSelOrigin=this.lastOp=this.lastSelOp=null;this.generation=this.maxGeneration=a||1}function ea(a,e){var q={from:W(e.from),to:ca(e),text:p(a,e.from,e.to)};$b(a,q,e.from.line,e.to.line+1);Nb(a,function(m){return $b(m,q,e.from.line,e.to.line+1)},!0);return q}function eb(a){for(;a.length;)if(Sa(a).ranges)a.pop();else break}function Cb(a,e,q,m){var w=a.history;w.undone.length=0;var T=+new Date,la;if(la=w.lastOp==m||w.lastOrigin==
e.origin&&e.origin&&("+"==e.origin.charAt(0)&&w.lastModTime>T-(a.cm?a.cm.options.historyEventDelay:500)||"*"==e.origin.charAt(0))){if(w.lastOp==m){eb(w.done);var oa=Sa(w.done)}else w.done.length&&!Sa(w.done).ranges?oa=Sa(w.done):1<w.done.length&&!w.done[w.done.length-2].ranges?(w.done.pop(),oa=Sa(w.done)):oa=void 0;la=oa}if(la){var bb=Sa(oa.changes);0==Na(e.from,e.to)&&0==Na(e.from,bb.to)?bb.to=ca(e):oa.changes.push(ea(a,e))}else for((oa=Sa(w.done))&&oa.ranges||Jb(a.sel,w.done),oa={changes:[ea(a,
e)],generation:w.generation},w.done.push(oa);w.done.length>w.undoDepth;)w.done.shift(),w.done[0].ranges||w.done.shift();w.done.push(q);w.generation=++w.maxGeneration;w.lastModTime=w.lastSelTime=T;w.lastOp=w.lastSelOp=m;w.lastOrigin=w.lastSelOrigin=e.origin;bb||Xa(a,"historyAdded")}function Jb(a,e){var q=Sa(e);q&&q.ranges&&q.equals(a)||e.push(a)}function $b(a,e,q,m){var w=e["spans_"+a.id],T=0;a.iter(Math.max(a.first,q),Math.min(a.first+a.size,m),function(la){la.markedSpans&&((w||(w=e["spans_"+a.id]=
{}))[T]=la.markedSpans);++T})}function rc(a){if(!a)return null;for(var e,q=0;q<a.length;++q)a[q].marker.explicitlyCleared?e||(e=a.slice(0,q)):e&&e.push(a[q]);return e?e.length?e:null:a}function Ic(a,e){var q;if(q=e["spans_"+a.id]){for(var m=[],w=0;w<e.text.length;++w)m.push(rc(q[w]));q=m}else q=null;a=Nc(a,e);if(!q)return a;if(!a)return q;for(e=0;e<q.length;++e)if(m=q[e],w=a[e],m&&w){var T=0;a:for(;T<w.length;++T){for(var la=w[T],oa=0;oa<m.length;++oa)if(m[oa].marker==la.marker)continue a;m.push(la)}}else w&&
(q[e]=w);return q}function Fc(a,e,q){for(var m=[],w=0;w<a.length;++w){var T=a[w];if(T.ranges)m.push(q?dg.prototype.deepCopy.call(T):T);else{T=T.changes;var la=[];m.push({changes:la});for(var oa=0;oa<T.length;++oa){var bb=T[oa],ub;la.push({from:bb.from,to:bb.to,text:bb.text});if(e)for(var Mb in bb)(ub=Mb.match(/^spans_(\d+)$/))&&-1<Pa(e,Number(ub[1]))&&(Sa(la)[Mb]=bb[Mb],delete bb[Mb])}}}return m}function hd(a,e,q,m){return m?(a=a.anchor,q&&(m=0>Na(e,a),m!=0>Na(q,a)?(a=e,e=q):m!=0>Na(e,q)&&(e=q)),
new Ze(a,e)):new Ze(q||e,e)}function yd(a,e,q,m,w){null==w&&(w=a.cm&&(a.cm.display.shift||a.extend));ja(a,new dg([hd(a.sel.primary(),e,q,w)],0),m)}function Qc(a,e,q){for(var m=[],w=a.cm&&(a.cm.display.shift||a.extend),T=0;T<a.sel.ranges.length;T++)m[T]=hd(a.sel.ranges[T],e[T],null,w);e=M(a.cm,m,a.sel.primIndex);ja(a,e,q)}function Dd(a,e,q,m){var w=a.sel.ranges.slice(0);w[e]=q;ja(a,M(a.cm,w,a.sel.primIndex),m)}function Qd(a,e,q){q={ranges:e.ranges,update:function(m){this.ranges=[];for(var w=0;w<m.length;w++)this.ranges[w]=
new Ze(sb(a,m[w].anchor),sb(a,m[w].head))},origin:q&&q.origin};Xa(a,"beforeSelectionChange",a,q);a.cm&&Xa(a.cm,"beforeSelectionChange",a.cm,q);return q.ranges!=e.ranges?M(a.cm,q.ranges,q.ranges.length-1):e}function xe(a,e,q){var m=a.history.done,w=Sa(m);w&&w.ranges?(m[m.length-1]=e,Ka(a,e,q)):ja(a,e,q)}function ja(a,e,q){Ka(a,e,q);e=a.sel;var m=a.cm?a.cm.curOp.id:NaN,w=a.history,T=q&&q.origin,la;if(!(la=m==w.lastSelOp)&&(la=T&&w.lastSelOrigin==T)&&!(la=w.lastModTime==w.lastSelTime&&w.lastOrigin==
T)){la=Sa(w.done);var oa=T.charAt(0);la="*"==oa||"+"==oa&&la.ranges.length==e.ranges.length&&la.somethingSelected()==e.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}la?w.done[w.done.length-1]=e:Jb(e,w.done);w.lastSelTime=+new Date;w.lastSelOrigin=T;w.lastSelOp=m;q&&!1!==q.clearRedo&&eb(w.undone)}function Ka(a,e,q){if(F(a,"beforeSelectionChange")||a.cm&&F(a.cm,"beforeSelectionChange"))e=Qd(a,e,q);var m=q&&q.bias||(0>Na(e.primary().head,a.sel.primary().head)?
-1:1);ib(a,Lb(a,e,m,!0));q&&!1===q.scroll||!a.cm||Be(a.cm)}function ib(a,e){e.equals(a.sel)||(a.sel=e,a.cm&&(a.cm.curOp.updateInput=1,a.cm.curOp.selectionChanged=!0,x(a.cm)),lc(a,"cursorActivity",a))}function vb(a){ib(a,Lb(a,a.sel,null,!1))}function Lb(a,e,q,m){for(var w,T=0;T<e.ranges.length;T++){var la=e.ranges[T],oa=e.ranges.length==a.sel.ranges.length&&a.sel.ranges[T],bb=k(a,la.anchor,oa&&oa.anchor,q,m);oa=k(a,la.head,oa&&oa.head,q,m);if(w||bb!=la.anchor||oa!=la.head)w||(w=e.ranges.slice(0,T)),
w[T]=new Ze(bb,oa)}return w?M(a.cm,w,e.primIndex):e}function c(a,e,q,m,w){var T=l(a,e.line);if(T.markedSpans)for(var la=0;la<T.markedSpans.length;++la){var oa=T.markedSpans[la],bb=oa.marker,ub="selectLeft"in bb?!bb.selectLeft:bb.inclusiveLeft,Mb="selectRight"in bb?!bb.selectRight:bb.inclusiveRight;if((null==oa.from||(ub?oa.from<=e.ch:oa.from<e.ch))&&(null==oa.to||(Mb?oa.to>=e.ch:oa.to>e.ch))){if(w&&(Xa(bb,"beforeCursorEnter"),bb.explicitlyCleared))if(T.markedSpans){--la;continue}else break;if(bb.atomic){if(q){la=
bb.find(0>m?1:-1);oa=void 0;if(0>m?Mb:ub)la=D(a,la,-m,la&&la.line==e.line?T:null);if(la&&la.line==e.line&&(oa=Na(la,q))&&(0>m?0>oa:0<oa))return c(a,la,e,m,w)}q=bb.find(0>m?-1:1);if(0>m?ub:Mb)q=D(a,q,m,q.line==e.line?T:null);return q?c(a,q,e,m,w):null}}}return e}function k(a,e,q,m,w){m=m||1;e=c(a,e,q,m,w)||!w&&c(a,e,q,m,!0)||c(a,e,q,-m,w)||!w&&c(a,e,q,-m,!0);return e?e:(a.cantEdit=!0,fa(a.first,0))}function D(a,e,q,m){return 0>q&&0==e.ch?e.line>a.first?sb(a,fa(e.line-1)):null:0<q&&e.ch==(m||l(a,e.line)).text.length?
e.line<a.first+a.size-1?fa(e.line+1,0):null:new fa(e.line,e.ch+q)}function ba(a){a.setSelection(fa(a.firstLine(),0),fa(a.lastLine()),Af)}function Aa(a,e,q){var m={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return m.canceled=!0}};q&&(m.update=function(w,T,la,oa){w&&(m.from=sb(a,w));T&&(m.to=sb(a,T));la&&(m.text=la);void 0!==oa&&(m.origin=oa)});Xa(a,"beforeChange",a,m);a.cm&&Xa(a.cm,"beforeChange",a.cm,m);return m.canceled?(a.cm&&(a.cm.curOp.updateInput=2),null):{from:m.from,
to:m.to,text:m.text,origin:m.origin}}function Fb(a,e,q){if(a.cm){if(!a.cm.curOp)return Gc(a.cm,Fb)(a,e,q);if(a.cm.state.suppressEdits)return}if(F(a,"beforeChange")||a.cm&&F(a.cm,"beforeChange"))if(e=Aa(a,e,!0),!e)return;if(q=qj&&!q&&ce(a,e.from,e.to))for(var m=q.length-1;0<=m;--m)Kb(a,{from:q[m].from,to:q[m].to,text:m?[""]:e.text,origin:e.origin});else Kb(a,e)}function Kb(a,e){if(1!=e.text.length||""!=e.text[0]||0!=Na(e.from,e.to)){var q=ya(a,e);Cb(a,e,q,a.cm?a.cm.curOp.id:NaN);Yc(a,e,q,Nc(a,e));
var m=[];Nb(a,function(w,T){T||-1!=Pa(m,w.history)||(vd(w.history,e),m.push(w.history));Yc(w,e,null,Nc(w,e))})}}function Wb(a,e,q){var m=a.cm&&a.cm.state.suppressEdits;if(!m||q){for(var w=a.history,T,la=a.sel,oa="undo"==e?w.done:w.undone,bb="undo"==e?w.undone:w.done,ub=0;ub<oa.length&&(T=oa[ub],q?!T.ranges||T.equals(a.sel):T.ranges);ub++);if(ub!=oa.length){for(w.lastOrigin=w.lastSelOrigin=null;;)if(T=oa.pop(),T.ranges){Jb(T,bb);if(q&&!T.equals(a.sel)){ja(a,T,{clearRedo:!1});return}la=T}else{if(m){oa.push(T);
return}break}var Mb=[];Jb(la,bb);bb.push({changes:Mb,generation:w.generation});w.generation=T.generation||++w.maxGeneration;var zc=F(a,"beforeChange")||a.cm&&F(a.cm,"beforeChange");q=function(ic){var hc=T.changes[ic];hc.origin=e;if(zc&&!Aa(a,hc,!1))return oa.length=0,{};Mb.push(ea(a,hc));var Uc=ic?ya(a,hc):Sa(oa);Yc(a,hc,Uc,Ic(a,hc));!ic&&a.cm&&a.cm.scrollIntoView({from:hc.from,to:ca(hc)});var Ad=[];Nb(a,function(me,Ue){Ue||-1!=Pa(Ad,me.history)||(vd(me.history,hc),Ad.push(me.history));Yc(me,hc,null,
Ic(me,hc))})};for(m=T.changes.length-1;0<=m;--m)if(w=q(m))return w.v}}}function qc(a,e){if(0!=e&&(a.first+=e,a.sel=new dg(kb(a.sel.ranges,function(w){return new Ze(fa(w.anchor.line+e,w.anchor.ch),fa(w.head.line+e,w.head.ch))}),a.sel.primIndex),a.cm)){R(a.cm,a.first,a.first-e,e);for(var q=a.cm.display,m=q.viewFrom;m<q.viewTo;m++)ra(a.cm,m,"gutter")}}function Yc(a,e,q,m){if(a.cm&&!a.cm.curOp)return Gc(a.cm,Yc)(a,e,q,m);if(e.to.line<a.first)qc(a,e.text.length-1-(e.to.line-e.from.line));else if(!(e.from.line>
a.lastLine())){if(e.from.line<a.first){var w=e.text.length-1-(a.first-e.from.line);qc(a,w);e={from:fa(a.first,0),to:fa(e.to.line+w,e.to.ch),text:[Sa(e.text)],origin:e.origin}}w=a.lastLine();e.to.line>w&&(e={from:e.from,to:fa(w,l(a,w).text.length),text:[e.text[0]],origin:e.origin});e.removed=p(a,e.from,e.to);q||(q=ya(a,e));a.cm?cd(a.cm,e,m):yb(a,e,m);Ka(a,q,Af);a.cantEdit&&k(a,fa(a.firstLine(),0))&&(a.cantEdit=!1)}}function cd(a,e,q){var m=a.doc,w=a.display,T=e.from,la=e.to,oa=!1,bb=T.line;a.options.lineWrapping||
(bb=E(Sb(l(m,T.line))),m.iter(bb,la.line+1,function(ub){if(ub==w.maxLine)return oa=!0}));-1<m.sel.contains(e.from,e.to)&&x(a);yb(m,e,q,Re(a));a.options.lineWrapping||(m.iter(bb,T.line+e.text.length,function(ub){var Mb=va(ub);Mb>w.maxLineLength&&(w.maxLine=ub,w.maxLineLength=Mb,w.maxLineChanged=!0,oa=!1)}),oa&&(a.curOp.updateMaxLine=!0));jc(m,T.line);gd(a,400);q=e.text.length-(la.line-T.line)-1;e.full?R(a):T.line!=la.line||1!=e.text.length||tb(a.doc,e)?R(a,T.line,la.line+1,q):ra(a,T.line,"text");q=
F(a,"changes");if((m=F(a,"change"))||q)e={from:T,to:la,text:e.text,removed:e.removed,origin:e.origin},m&&lc(a,"change",a,e),q&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(e);a.display.selForContextMenu=null}function Rd(a,e,q,m,w){m||(m=q);0>Na(m,q)&&(m=[m,q],q=m[0],m=m[1]);"string"==typeof e&&(e=a.splitLines(e));Fb(a,{from:q,to:m,text:e,origin:w})}function Md(a,e,q,m){q<a.line?a.line+=m:e<a.line&&(a.line=e,a.ch=0)}function Td(a,e,q,m){for(var w=0;w<a.length;++w){var T=a[w],la=!0;if(T.ranges)for(T.copied||
(T=a[w]=T.deepCopy(),T.copied=!0),la=0;la<T.ranges.length;la++)Md(T.ranges[la].anchor,e,q,m),Md(T.ranges[la].head,e,q,m);else{for(var oa=0;oa<T.changes.length;++oa){var bb=T.changes[oa];if(q<bb.from.line)bb.from=fa(bb.from.line+m,bb.from.ch),bb.to=fa(bb.to.line+m,bb.to.ch);else if(e<=bb.to.line){la=!1;break}}la||(a.splice(0,w+1),w=0)}}}function vd(a,e){var q=e.from.line,m=e.to.line;e=e.text.length-(m-q)-1;Td(a.done,q,m,e);Td(a.undone,q,m,e)}function $c(a,e,q,m){var w=e,T=e;"number"==typeof e?T=l(a,
Math.max(a.first,Math.min(e,a.first+a.size-1))):w=E(e);if(null==w)return null;m(T,w)&&a.cm&&ra(a.cm,w,q);return T}function Id(a){this.lines=a;this.parent=null;for(var e=0,q=0;q<a.length;++q)a[q].parent=this,e+=a[q].height;this.height=e}function Fe(a){this.children=a;for(var e=0,q=0,m=0;m<a.length;++m){var w=a[m];e+=w.chunkSize();q+=w.height;w.parent=this}this.size=e;this.height=q;this.parent=null}function Te(a,e,q,m){var w=new sh(a,q,m),T=a.cm;T&&w.noHScroll&&(T.display.alignWidgets=!0);$c(a,e,"widget",
function(la){var oa=la.widgets||(la.widgets=[]);null==w.insertAt?oa.push(w):oa.splice(Math.min(oa.length,Math.max(0,w.insertAt)),0,w);w.line=la;T&&!Nd(a,la)&&(oa=U(la)<a.scrollTop,B(la,la.height+ad(w)),oa&&bd(T,w.height),T.curOp.forceUpdate=!0);return!0});T&&lc(T,"lineWidgetAdded",T,w,"number"==typeof e?e:E(e));return w}function $d(a,e,q,m,w){if(m&&m.shared)return ze(a,e,q,m,w);if(a.cm&&!a.cm.curOp)return Gc(a.cm,$d)(a,e,q,m,w);var T=new ng(a,w);w=Na(e,q);m&&nb(m,T,!1);if(0<w||0==w&&!1!==T.clearWhenEmpty)return T;
T.replacedWith&&(T.collapsed=!0,T.widgetNode=Qb("span",[T.replacedWith],"CodeMirror-widget"),m.handleMouseEvents||T.widgetNode.setAttribute("cm-ignore-events","true"),m.insertLeft&&(T.widgetNode.insertLeft=!0));if(T.collapsed){if(qb(a,e.line,e,q,T)||e.line!=q.line&&qb(a,q.line,e,q,T))throw Error("Inserting collapsed marker partially overlapping an existing one");Bg=!0}T.addToHistory&&Cb(a,{from:e,to:q,origin:"markText"},a.sel,NaN);var la=e.line,oa=a.cm,bb;a.iter(la,q.line+1,function(ub){oa&&T.collapsed&&
!oa.options.lineWrapping&&Sb(ub)==oa.display.maxLine&&(bb=!0);T.collapsed&&la!=e.line&&B(ub,0);var Mb=new Mc(T,la==e.line?e.ch:null,la==q.line?q.ch:null);ub.markedSpans=ub.markedSpans?ub.markedSpans.concat([Mb]):[Mb];Mb.marker.attachLine(ub);++la});T.collapsed&&a.iter(e.line,q.line+1,function(ub){Nd(a,ub)&&B(ub,0)});T.clearOnEnter&&le(T,"beforeCursorEnter",function(){return T.clear()});T.readOnly&&(qj=!0,(a.history.done.length||a.history.undone.length)&&a.clearHistory());T.collapsed&&(T.id=++ki,T.atomic=
!0);if(oa){bb&&(oa.curOp.updateMaxLine=!0);if(T.collapsed)R(oa,e.line,q.line+1);else if(T.className||T.startStyle||T.endStyle||T.css||T.attributes||T.title)for(m=e.line;m<=q.line;m++)ra(oa,m,"text");T.atomic&&vb(oa.doc);lc(oa,"markerAdded",oa,T)}return T}function ze(a,e,q,m,w){m=nb(m);m.shared=!1;var T=[$d(a,e,q,m,w)],la=T[0],oa=m.widgetNode;Nb(a,function(bb){oa&&(m.widgetNode=oa.cloneNode(!0));T.push($d(bb,sb(bb,e),sb(bb,q),m,w));for(var ub=0;ub<bb.linked.length;++ub)if(bb.linked[ub].isParent)return;
la=Sa(T)});return new th(T,la)}function Ie(a){return a.findMarks(fa(a.first,0),a.clipPos(fa(a.lastLine())),function(e){return e.parent})}function If(a){for(var e=function(m){m=a[m];var w=[m.primary.doc];Nb(m.primary.doc,function(oa){return w.push(oa)});for(var T=0;T<m.markers.length;T++){var la=m.markers[T];-1==Pa(w,la.doc)&&(la.parent=null,m.markers.splice(T--,1))}},q=0;q<a.length;q++)e(q)}function Df(a){var e=this;mf(e);if(!Q(e,a)&&!id(e.display,a)){K(a);Se&&(li=+new Date);var q=Ge(e,a,!0),m=a.dataTransfer.files;
if(q&&!e.isReadOnly())if(m&&m.length&&window.FileReader&&window.File)for(var w=m.length,T=Array(w),la=0,oa=function(){++la==w&&Gc(e,function(){q=sb(e.doc,q);var Mb={from:q,to:q,text:e.doc.splitLines(T.filter(function(zc){return null!=zc}).join(e.doc.lineSeparator())),origin:"paste"};Fb(e.doc,Mb);xe(e.doc,V(sb(e.doc,q),sb(e.doc,ca(Mb))))})()},bb=function(Mb,zc){if(e.options.allowDropFileTypes&&-1==Pa(e.options.allowDropFileTypes,Mb.type))oa();else{var ic=new FileReader;ic.onerror=function(){return oa()};
ic.onload=function(){var hc=ic.result;/[\x00-\x08\x0e-\x1f]{2}/.test(hc)||(T[zc]=hc);oa()};ic.readAsText(Mb)}},ub=0;ub<m.length;ub++)bb(m[ub],ub);else if(e.state.draggingText&&-1<e.doc.sel.contains(q))e.state.draggingText(a),setTimeout(function(){return e.display.input.focus()},20);else try{if(bb=a.dataTransfer.getData("Text")){e.state.draggingText&&!e.state.draggingText.copy&&(ub=e.listSelections());Ka(e.doc,V(q,q));if(ub)for(m=0;m<ub.length;++m)Rd(e.doc,"",ub[m].anchor,ub[m].head,"drag");e.replaceSelection(bb,
"around","paste");e.display.input.focus()}}catch(Mb){}}}function mf(a){a.display.dragCursor&&(a.display.lineSpace.removeChild(a.display.dragCursor),a.display.dragCursor=null)}function yg(a){if(document.getElementsByClassName){for(var e=document.getElementsByClassName("CodeMirror"),q=[],m=0;m<e.length;m++){var w=e[m].CodeMirror;w&&q.push(w)}q.length&&q[0].operation(function(){for(var T=0;T<q.length;T++)a(q[T])})}}function Cd(){var a;le(window,"resize",function(){null==a&&(a=setTimeout(function(){a=
null;yg(tf)},100))});le(window,"blur",function(){return yg(Zd)})}function tf(a){var e=a.display;e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null;e.scrollbarsClipped=!1;a.setSize()}function pg(a){var e=a.split(/-(?!$)/);a=e[e.length-1];for(var q,m,w,T,la=0;la<e.length-1;la++){var oa=e[la];if(/^(cmd|meta|m)$/i.test(oa))T=!0;else if(/^a(lt)?$/i.test(oa))q=!0;else if(/^(c|ctrl|control)$/i.test(oa))m=!0;else if(/^s(hift)?$/i.test(oa))w=!0;else throw Error("Unrecognized modifier name: "+oa);}q&&
(a="Alt-"+a);m&&(a="Ctrl-"+a);T&&(a="Cmd-"+a);w&&(a="Shift-"+a);return a}function ag(a){var e={},q;for(q in a)if(a.hasOwnProperty(q)){var m=a[q];if(!/^(name|fallthrough|(de|at)tach)$/.test(q)){if("..."!=m)for(var w=kb(q.split(" "),pg),T=0;T<w.length;T++){if(T==w.length-1){var la=w.join(" ");var oa=m}else la=w.slice(0,T+1).join(" "),oa="...";var bb=e[la];if(!bb)e[la]=oa;else if(bb!=oa)throw Error("Inconsistent bindings for "+la);}delete a[q]}}for(var ub in e)a[ub]=e[ub];return a}function $g(a,e,q,
m){e=ah(e);var w=e.call?e.call(a,m):e[a];if(!1===w)return"nothing";if("..."===w)return"multi";if(null!=w&&q(w))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return $g(a,e.fallthrough,q,m);for(w=0;w<e.fallthrough.length;w++){var T=$g(a,e.fallthrough[w],q,m);if(T)return T}}}function Mg(a){a="string"==typeof a?a:wg[a.keyCode];return"Ctrl"==a||"Alt"==a||"Shift"==a||"Mod"==a}function bh(a,e,q){var m=a;e.altKey&&"Alt"!=m&&(a="Alt-"+a);(Gi?e.metaKey:
e.ctrlKey)&&"Ctrl"!=m&&(a="Ctrl-"+a);(Gi?e.ctrlKey:e.metaKey)&&"Mod"!=m&&(a="Cmd-"+a);!q&&e.shiftKey&&"Shift"!=m&&(a="Shift-"+a);return a}function vi(a,e){if(Wf&&34==a.keyCode&&a["char"])return!1;var q=wg[a.keyCode];if(null==q||a.altGraphKey)return!1;3==a.keyCode&&a.code&&(q=a.code);return bh(q,a,e)}function ah(a){return"string"==typeof a?wh[a]:a}function ch(a,e){for(var q=a.doc.sel.ranges,m=[],w=0;w<q.length;w++){for(var T=e(q[w]);m.length&&0>=Na(T.from,Sa(m).to);){var la=m.pop();if(0>Na(la.from,
T.from)){T.from=la.from;break}}m.push(T)}ac(a,function(){for(var oa=m.length-1;0<=oa;oa--)Rd(a.doc,"",m[oa].from,m[oa].to,"+delete");Be(a)})}function Cg(a,e,q){e=wa(a.text,e+q,q);return 0>e||e>a.text.length?null:e}function Dh(a,e,q){a=Cg(a,e.ch,q);return null==a?null:new fa(e.line,a,0>q?"after":"before")}function eh(a,e,q,m,w){if(a&&("rtl"==e.doc.direction&&(w=-w),a=Wa(q,e.doc.direction))){a=0>w?Sa(a):a[0];var T=0>w==(1==a.level)?"after":"before";if(0<a.level||"rtl"==e.doc.direction){var la=te(e,
q);var oa=0>w?q.text.length-1:0;var bb=rd(e,la,oa).top;oa=La(function(ub){return rd(e,la,ub).top==bb},0>w==(1==a.level)?a.from:a.to-1,oa);"before"==T&&(oa=Cg(q,oa,1))}else oa=0>w?a.to:a.from;return new fa(m,oa,T)}return new fa(m,0>w?q.text.length:0,0>w?"before":"after")}function Yi(a,e,q,m){var w=Wa(e,a.doc.direction);if(!w)return Dh(e,q,m);q.ch>=e.text.length?(q.ch=e.text.length,q.sticky="before"):0>=q.ch&&(q.ch=0,q.sticky="after");var T=fb(w,q.ch,q.sticky),la=w[T];if("ltr"==a.doc.direction&&0==
la.level%2&&(0<m?la.to>q.ch:la.from<q.ch))return Dh(e,q,m);var oa=function(hc,Uc){return Cg(e,hc instanceof fa?hc.ch:hc,Uc)},bb,ub=function(hc){if(!a.options.lineWrapping)return{begin:0,end:e.text.length};bb=bb||te(a,e);return cf(a,e,bb,hc)},Mb=ub("before"==q.sticky?oa(q,-1):q.ch);if("rtl"==a.doc.direction||1==la.level){var zc=1==la.level==0>m,ic=oa(q,zc?1:-1);if(null!=ic&&(zc?ic<=la.to&&ic<=Mb.end:ic>=la.from&&ic>=Mb.begin))return new fa(q.line,ic,zc?"before":"after")}la=function(hc,Uc,Ad){for(var me=
function($e,of){return of?new fa(q.line,oa($e,1),"before"):new fa(q.line,$e,"after")};0<=hc&&hc<w.length;hc+=Uc){var Ue=w[hc],be=0<Uc==(1!=Ue.level),jf=be?Ad.begin:oa(Ad.end,-1);if(Ue.from<=jf&&jf<Ue.to)return me(jf,be);jf=be?Ue.from:oa(Ue.to,-1);if(Ad.begin<=jf&&jf<Ad.end)return me(jf,be)}};if(T=la(T+m,m,Mb))return T;Mb=0<m?Mb.end:oa(Mb.begin,-1);return null==Mb||0<m&&Mb==e.text.length||!(T=la(0<m?0:w.length-1,m,ub(Mb)))?null:T}function xi(a,e){var q=l(a.doc,e),m=Sb(q);m!=q&&(e=E(m));return eh(!0,
a,m,e,1)}function wi(a,e){var q=xi(a,e.line),m=l(a.doc,q.line);a=Wa(m,a.doc.direction);return a&&0!=a[0].level?q:(m=Math.max(q.ch,m.text.search(/\S/)),fa(q.line,e.line==q.line&&e.ch<=m&&e.ch?0:m,q.sticky))}function $h(a,e,q){if("string"==typeof e&&(e=xh[e],!e))return!1;a.display.input.ensurePolled();var m=a.display.shift,w=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),q&&(a.display.shift=!1),w=e(a)!=Rg}finally{a.display.shift=m,a.state.suppressEdits=!1}return w}function Eh(a,e,q,m){var w=a.state.keySeq;
if(w){if(Mg(e))return"handled";/'$/.test(e)?a.state.keySeq=null:sj.set(50,function(){a.state.keySeq==w&&(a.state.keySeq=null,a.display.input.reset())});if(Zi(a,w+" "+e,q,m))return!0}return Zi(a,e,q,m)}function Zi(a,e,q,m){a:{for(var w=0;w<a.state.keyMaps.length;w++){var T=$g(e,a.state.keyMaps[w],m,a);if(T){m=T;break a}}m=a.options.extraKeys&&$g(e,a.options.extraKeys,m,a)||$g(e,a.options.keyMap,m,a)}"multi"==m&&(a.state.keySeq=e);"handled"==m&&lc(a,"keyHandled",a,e,q);if("handled"==m||"multi"==m)K(q),
Tc(a);return!!m}function Nf(a,e){var q=vi(e,!0);return q?e.shiftKey&&!a.state.keySeq?Eh(a,"Shift-"+q,e,function(m){return $h(a,m,!0)})||Eh(a,q,e,function(m){if("string"==typeof m?/^go[A-Z]/.test(m):m.motion)return $h(a,m)}):Eh(a,q,e,function(m){return $h(a,m)}):!1}function $i(a,e,q){return Eh(a,"'"+q+"'",e,function(m){return $h(a,m,!0)})}function aj(a){if(!a.target||a.target==this.display.input.getField())if(this.curOp.focus=pb(),!Q(this,a)){Se&&11>Ye&&27==a.keyCode&&(a.returnValue=!1);var e=a.keyCode;
this.display.shift=16==e||a.shiftKey;var q=Nf(this,a);Wf&&(Pi=q?e:null,!q&&88==e&&!pj&&(kg?a.metaKey:a.ctrlKey)&&this.replaceSelection("",null,"cut"));Rf&&!kg&&!q&&46==e&&a.shiftKey&&!a.ctrlKey&&document.execCommand&&document.execCommand("cut");18!=e||/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)||Fh(this)}}function Fh(a){function e(m){18!=m.keyCode&&m.altKey||(mg(q,"CodeMirror-crosshair"),jb(document,"keyup",e),jb(document,"mouseover",e))}var q=a.display.lineDiv;Ib(q,"CodeMirror-crosshair");
le(document,"keyup",e);le(document,"mouseover",e)}function Qf(a){16==a.keyCode&&(this.doc.sel.shift=!1);Q(this,a)}function ai(a){if(!(a.target&&a.target!=this.display.input.getField()||id(this.display,a)||Q(this,a)||a.ctrlKey&&!a.altKey||kg&&a.metaKey)){var e=a.keyCode,q=a.charCode;if(Wf&&e==Pi)Pi=null,K(a);else if(!Wf||a.which&&!(10>a.which)||!Nf(this,a))if(e=String.fromCharCode(null==q?e:q),"\b"!=e&&!$i(this,a,e))this.display.input.onKeyPress(a)}}function bj(a,e){var q=+new Date;if(Qh&&Qh.compare(q,
a,e))return yh=Qh=null,"triple";if(yh&&yh.compare(q,a,e))return Qh=new mi(q,a,e),yh=null,"double";yh=new mi(q,a,e);Qh=null;return"single"}function Gh(a){var e=this.display;if(!(Q(this,a)||e.activeTouch&&e.input.supportsTouch()))if(e.input.ensurePolled(),e.shift=a.shiftKey,id(e,a))Pf||(e.scroller.draggable=!1,setTimeout(function(){return e.scroller.draggable=!0},100));else if(!Hh(this,a,"gutterClick",!0)){var q=Ge(this,a),m=Ya(a),w=q?bj(q,m):"single";window.focus();1==m&&this.state.selectingText&&
this.state.selectingText(a);if(!q||!cj(this,m,q,w,a))if(1==m)q?bi(this,q,w,a):(a.target||a.srcElement)==e.scroller&&K(a);else if(2==m)q&&yd(this.doc,q),setTimeout(function(){return e.input.focus()},20);else if(3==m)if(Kh)this.display.input.onContextMenu(a);else od(this)}}function cj(a,e,q,m,w){var T="Click";"double"==m?T="Double"+T:"triple"==m&&(T="Triple"+T);return Eh(a,bh((1==e?"Left":2==e?"Middle":"Right")+T,w),w,function(la){"string"==typeof la&&(la=xh[la]);if(!la)return!1;var oa=!1;try{a.isReadOnly()&&
(a.state.suppressEdits=!0),oa=la(a,q)!=Rg}finally{a.state.suppressEdits=!1}return oa})}function bi(a,e,q,m){Se?setTimeout(Va(he,a),0):a.curOp.focus=pb();var w=a.getOption("configureMouse");w=w?w(a,q,m):{};null==w.unit&&(w.unit=(nj?m.shiftKey&&m.metaKey:m.altKey)?"rectangle":"single"==q?"char":"double"==q?"word":"line");if(null==w.extend||a.doc.extend)w.extend=a.doc.extend||m.shiftKey;null==w.addNew&&(w.addNew=kg?m.metaKey:m.ctrlKey);null==w.moveOnDrag&&(w.moveOnDrag=!(kg?m.altKey:m.ctrlKey));var T=
a.doc.sel,la;a.options.dragDrop&&Hi&&!a.isReadOnly()&&"single"==q&&-1<(la=T.contains(e))&&(0>Na((la=T.ranges[la]).from(),e)||0<e.xRel)&&(0<Na(la.to(),e)||0>e.xRel)?Dg(a,m,e,w):dj(a,m,e,w)}function Dg(a,e,q,m){var w=a.display,T=!1,la=Gc(a,function(ub){Pf&&(w.scroller.draggable=!1);a.state.draggingText=!1;a.state.delayingBlurEvent&&(a.hasFocus()?a.state.delayingBlurEvent=!1:od(a));jb(w.wrapper.ownerDocument,"mouseup",la);jb(w.wrapper.ownerDocument,"mousemove",oa);jb(w.scroller,"dragstart",bb);jb(w.scroller,
"drop",la);T||(K(ub),m.addNew||yd(a.doc,q,null,null,m.extend),Pf&&!Qg||Se&&9==Ye?setTimeout(function(){w.wrapper.ownerDocument.body.focus({preventScroll:!0});w.input.focus()},20):w.input.focus())}),oa=function(ub){T=T||10<=Math.abs(e.clientX-ub.clientX)+Math.abs(e.clientY-ub.clientY)},bb=function(){return T=!0};Pf&&(w.scroller.draggable=!0);a.state.draggingText=la;la.copy=!m.moveOnDrag;le(w.wrapper.ownerDocument,"mouseup",la);le(w.wrapper.ownerDocument,"mousemove",oa);le(w.scroller,"dragstart",bb);
le(w.scroller,"drop",la);a.state.delayingBlurEvent=!0;setTimeout(function(){return w.input.focus()},20);w.scroller.dragDrop&&w.scroller.dragDrop()}function fh(a,e,q){if("char"==q)return new Ze(e,e);if("word"==q)return a.findWordAt(e);if("line"==q)return new Ze(fa(e.line,0),sb(a.doc,fa(e.line+1,0)));a=q(a,e);return new Ze(a.from,a.to)}function dj(a,e,q,m){function w(be){if(0!=Na(hc,be))if(hc=be,"rectangle"==m.unit){var jf=[],$e=a.options.tabSize,of=mb(l(bb,q.line).text,q.ch,$e),sf=mb(l(bb,be.line).text,
be.ch,$e),Ke=Math.min(of,sf);of=Math.max(of,sf);sf=Math.min(q.line,be.line);for(var pf=Math.min(a.lastLine(),Math.max(q.line,be.line));sf<=pf;sf++){var af=l(bb,sf).text,kf=Ba(af,Ke,$e);Ke==of?jf.push(new Ze(fa(sf,kf),fa(sf,kf))):af.length>kf&&jf.push(new Ze(fa(sf,kf),fa(sf,Ba(af,of,$e))))}jf.length||jf.push(new Ze(q,q));ja(bb,M(a,ub.ranges.slice(0,zc).concat(jf),zc),{origin:"*mouse",scroll:!1});a.scrollIntoView(be)}else jf=ic,Ke=fh(a,be,m.unit),be=jf.anchor,0<Na(Ke.anchor,be)?($e=Ke.head,be=$a(jf.from(),
Ke.anchor)):($e=Ke.anchor,be=na(jf.to(),Ke.head)),jf=ub.ranges.slice(0),jf[zc]=ig(a,new Ze(sb(bb,be),$e)),ja(bb,M(a,jf,zc),uf)}function T(be){var jf=++Ad,$e=Ge(a,be,!0,"rectangle"==m.unit);if($e)if(0!=Na($e,hc)){a.curOp.focus=pb();w($e);var of=We(oa,bb);($e.line>=of.to||$e.line<of.from)&&setTimeout(Gc(a,function(){Ad==jf&&T(be)}),150)}else{var sf=be.clientY<Uc.top?-20:be.clientY>Uc.bottom?20:0;sf&&setTimeout(Gc(a,function(){Ad==jf&&(oa.scroller.scrollTop+=sf,T(be))}),50)}}function la(be){a.state.selectingText=
!1;Ad=Infinity;be&&(K(be),oa.input.focus());jb(oa.wrapper.ownerDocument,"mousemove",me);jb(oa.wrapper.ownerDocument,"mouseup",Ue);bb.history.lastSelOrigin=null}Se&&od(a);var oa=a.display,bb=a.doc;K(e);var ub=bb.sel,Mb=ub.ranges;if(m.addNew&&!m.extend){var zc=bb.sel.contains(q);var ic=-1<zc?Mb[zc]:new Ze(q,q)}else ic=bb.sel.primary(),zc=bb.sel.primIndex;"rectangle"==m.unit?(m.addNew||(ic=new Ze(q,q)),q=Ge(a,e,!0,!0),zc=-1):(e=fh(a,q,m.unit),ic=m.extend?hd(ic,e.anchor,e.head,m.extend):e);m.addNew?-1==
zc?(zc=Mb.length,ja(bb,M(a,Mb.concat([ic]),zc),{scroll:!1,origin:"*mouse"})):1<Mb.length&&Mb[zc].empty()&&"char"==m.unit&&!m.extend?(ja(bb,M(a,Mb.slice(0,zc).concat(Mb.slice(zc+1)),0),{scroll:!1,origin:"*mouse"}),ub=bb.sel):Dd(bb,zc,ic,uf):(zc=0,ja(bb,new dg([ic],0),uf),ub=bb.sel);var hc=q,Uc=oa.wrapper.getBoundingClientRect(),Ad=0,me=Gc(a,function(be){0!==be.buttons&&Ya(be)?T(be):la(be)}),Ue=Gc(a,la);a.state.selectingText=Ue;le(oa.wrapper.ownerDocument,"mousemove",me);le(oa.wrapper.ownerDocument,
"mouseup",Ue)}function ig(a,e){var q=e.anchor,m=e.head,w=l(a.doc,q.line);if(0==Na(q,m)&&q.sticky==m.sticky)return e;w=Wa(w);if(!w)return e;var T=fb(w,q.ch,q.sticky),la=w[T];if(la.from!=q.ch&&la.to!=q.ch)return e;var oa=T+(la.from==q.ch==(1!=la.level)?0:1);if(0==oa||oa==w.length)return e;m.line!=q.line?a=0<(m.line-q.line)*("ltr"==a.doc.direction?1:-1):(a=fb(w,m.ch,m.sticky),T=a-T||(m.ch-q.ch)*(1==la.level?-1:1),a=a==oa-1||a==oa?0>T:0<T);w=w[oa+(a?-1:0)];w=(oa=a==(1==w.level))?w.from:w.to;oa=oa?"after":
"before";return q.ch==w&&q.sticky==oa?e:new Ze(new fa(q.line,w,oa),m)}function Hh(a,e,q,m){if(e.touches){var w=e.touches[0].clientX;var T=e.touches[0].clientY}else try{w=e.clientX,T=e.clientY}catch(bb){return!1}if(w>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;m&&K(e);m=a.display;var la=m.lineDiv.getBoundingClientRect();if(T>la.bottom||!F(a,q))return ia(e);T-=la.top-m.viewOffset;for(la=0;la<a.display.gutterSpecs.length;++la){var oa=m.gutters.childNodes[la];if(oa&&oa.getBoundingClientRect().right>=
w)return w=z(a.doc,T),Xa(a,q,a,w,a.display.gutterSpecs[la].className,e),ia(e)}}function ej(a,e){var q;(q=id(a.display,e))||(q=F(a,"gutterContextMenu")?Hh(a,e,"gutterContextMenu",!1):!1);if(!q&&!Q(a,e,"contextmenu")&&!Kh)a.display.input.onContextMenu(e)}function fj(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-");bf(a)}function yi(a,e,q){!e!=!(q&&q!=zh)&&(q=a.display.dragFunctions,e=e?le:jb,e(a.display.scroller,"dragstart",
q.start),e(a.display.scroller,"dragenter",q.enter),e(a.display.scroller,"dragover",q.over),e(a.display.scroller,"dragleave",q.leave),e(a.display.scroller,"drop",q.drop))}function Qj(a){a.options.lineWrapping?(Ib(a.display.wrapper,"CodeMirror-wrap"),a.display.sizer.style.minWidth="",a.display.sizerWidth=null):(mg(a.display.wrapper,"CodeMirror-wrap"),ab(a));Ve(a);R(a);bf(a);setTimeout(function(){return Z(a)},100)}function yf(a,e){var q=this;if(!(this instanceof yf))return new yf(a,e);this.options=e=
e?nb(e):{};nb(tj,e,!1);var m=e.value;"string"==typeof m?m=new Tf(m,e.mode,null,e.lineSeparator,e.direction):e.mode&&(m.modeOption=e.mode);this.doc=m;var w=new yf.inputStyles[e.inputStyle](this);a=this.display=new lf(a,m,w,e);a.wrapper.CodeMirror=this;fj(this);e.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");Gb(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,
highlight:new Qe,keySeq:null,specialChars:null};e.autofocus&&!kh&&a.input.focus();Se&&11>Ye&&setTimeout(function(){return q.display.input.reset(!0)},20);zi(this);Oi||(Cd(),Oi=!0);Hb(this);this.curOp.forceUpdate=!0;gc(this,m);e.autofocus&&!kh||this.hasFocus()?setTimeout(function(){q.hasFocus()&&!q.state.focused&&jd(q)},20):Zd(this);for(var T in Rh)if(Rh.hasOwnProperty(T))Rh[T](this,e[T],zh);qf(this);e.finishInit&&e.finishInit(this);for(m=0;m<Sh.length;++m)Sh[m](this);Tb(this);Pf&&e.lineWrapping&&"optimizelegibility"==
getComputedStyle(a.lineDiv).textRendering&&(a.lineDiv.style.textRendering="auto")}function zi(a){function e(){m.activeTouch&&(w=setTimeout(function(){return m.activeTouch=null},1E3),T=m.activeTouch,T.end=+new Date)}function q(oa,bb){if(null==bb.left)return!0;var ub=bb.left-oa.left;oa=bb.top-oa.top;return 400<ub*ub+oa*oa}var m=a.display;le(m.scroller,"mousedown",Gc(a,Gh));Se&&11>Ye?le(m.scroller,"dblclick",Gc(a,function(oa){if(!Q(a,oa)){var bb=Ge(a,oa);!bb||Hh(a,oa,"gutterClick",!0)||id(a.display,
oa)||(K(oa),oa=a.findWordAt(bb),yd(a.doc,oa.anchor,oa.head))}})):le(m.scroller,"dblclick",function(oa){return Q(a,oa)||K(oa)});le(m.scroller,"contextmenu",function(oa){return ej(a,oa)});le(m.input.getField(),"contextmenu",function(oa){m.scroller.contains(oa.target)||ej(a,oa)});var w,T={end:0};le(m.scroller,"touchstart",function(oa){var bb;if(bb=!Q(a,oa))1!=oa.touches.length?bb=!1:(bb=oa.touches[0],bb=1>=bb.radiusX&&1>=bb.radiusY),bb=!bb;bb&&!Hh(a,oa,"gutterClick",!0)&&(m.input.ensurePolled(),clearTimeout(w),
bb=+new Date,m.activeTouch={start:bb,moved:!1,prev:300>=bb-T.end?T:null},1==oa.touches.length&&(m.activeTouch.left=oa.touches[0].pageX,m.activeTouch.top=oa.touches[0].pageY))});le(m.scroller,"touchmove",function(){m.activeTouch&&(m.activeTouch.moved=!0)});le(m.scroller,"touchend",function(oa){var bb=m.activeTouch;if(bb&&!id(m,oa)&&null!=bb.left&&!bb.moved&&300>new Date-bb.start){var ub=a.coordsChar(m.activeTouch,"page");bb=!bb.prev||q(bb,bb.prev)?new Ze(ub,ub):!bb.prev.prev||q(bb,bb.prev.prev)?a.findWordAt(ub):
new Ze(fa(ub.line,0),sb(a.doc,fa(ub.line+1,0)));a.setSelection(bb.anchor,bb.head);a.focus();K(oa)}e()});le(m.scroller,"touchcancel",e);le(m.scroller,"scroll",function(){m.scroller.clientHeight&&(nf(a,m.scroller.scrollTop),Ne(a,m.scroller.scrollLeft,!0),Xa(a,"scroll",a))});le(m.scroller,"mousewheel",function(oa){return J(a,oa)});le(m.scroller,"DOMMouseScroll",function(oa){return J(a,oa)});le(m.wrapper,"scroll",function(){return m.wrapper.scrollTop=m.wrapper.scrollLeft=0});m.dragFunctions={enter:function(oa){Q(a,
oa)||ma(oa)},over:function(oa){if(!Q(a,oa)){var bb=Ge(a,oa);if(bb){var ub=document.createDocumentFragment();oc(a,bb,ub);a.display.dragCursor||(a.display.dragCursor=Qa("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),a.display.lineSpace.insertBefore(a.display.dragCursor,a.display.cursorDiv));Y(a.display.dragCursor,ub)}ma(oa)}},start:function(oa){if(Se&&(!a.state.draggingText||100>+new Date-li))ma(oa);else if(!Q(a,oa)&&!id(a.display,oa)&&(oa.dataTransfer.setData("Text",a.getSelection()),oa.dataTransfer.effectAllowed=
"copyMove",oa.dataTransfer.setDragImage&&!Qg)){var bb=Qa("img",null,null,"position: fixed; left: 0; top: 0;");bb.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw\x3d\x3d";Wf&&(bb.width=bb.height=1,a.display.wrapper.appendChild(bb),bb._top=bb.offsetTop);oa.dataTransfer.setDragImage(bb,0,0);Wf&&bb.parentNode.removeChild(bb)}},drop:Gc(a,Df),leave:function(oa){Q(a,oa)||mf(a)}};var la=m.input.getField();le(la,"keyup",function(oa){return Qf.call(a,oa)});le(la,"keydown",Gc(a,
aj));le(la,"keypress",Gc(a,ai));le(la,"focus",function(oa){return jd(a,oa)});le(la,"blur",function(oa){return Zd(a,oa)})}function Ng(a,e,q,m){var w=a.doc,T;null==q&&(q="add");"smart"==q&&(w.mode.indent?T=Vc(a,e).state:q="prev");var la=a.options.tabSize,oa=l(w,e),bb=mb(oa.text,null,la);oa.stateAfter&&(oa.stateAfter=null);var ub=oa.text.match(/^\s*/)[0];if(!m&&!/\S/.test(oa.text)){var Mb=0;q="not"}else if("smart"==q&&(Mb=w.mode.indent(T,oa.text.slice(ub.length),oa.text),Mb==Rg||150<Mb)){if(!m)return;
q="prev"}"prev"==q?Mb=e>w.first?mb(l(w,e-1).text,null,la):0:"add"==q?Mb=bb+a.options.indentUnit:"subtract"==q?Mb=bb-a.options.indentUnit:"number"==typeof q&&(Mb=bb+q);Mb=Math.max(0,Mb);q="";m=0;if(a.options.indentWithTabs)for(a=Math.floor(Mb/la);a;--a)m+=la,q+="\t";m<Mb&&(q+=Ca(Mb-m));if(q!=ub)return Rd(w,q,fa(e,0),fa(e,ub.length),"+input"),oa.stateAfter=null,!0;for(la=0;la<w.sel.ranges.length;la++)if(oa=w.sel.ranges[la],oa.head.line==e&&oa.head.ch<ub.length){e=fa(e,ub.length);Dd(w,la,new Ze(e,e));
break}}function Ai(a,e,q,m,w){var T=a.doc;a.display.shift=!1;m||(m=T.sel);var la=+new Date-200,oa="paste"==w||a.state.pasteIncoming>la,bb=Ii(e),ub=null;if(oa&&1<m.ranges.length)if(Xf&&Xf.text.join("\n")==e){if(0==m.ranges.length%Xf.text.length){ub=[];for(var Mb=0;Mb<Xf.text.length;Mb++)ub.push(T.splitLines(Xf.text[Mb]))}}else bb.length==m.ranges.length&&a.options.pasteLinesPerSelection&&(ub=kb(bb,function(Ad){return[Ad]}));Mb=a.curOp.updateInput;for(var zc=m.ranges.length-1;0<=zc;zc--){var ic=m.ranges[zc],
hc=ic.from(),Uc=ic.to();ic.empty()&&(q&&0<q?hc=fa(hc.line,hc.ch-q):a.state.overwrite&&!oa?Uc=fa(Uc.line,Math.min(l(T,Uc.line).text.length,Uc.ch+Sa(bb).length)):oa&&Xf&&Xf.lineWise&&Xf.text.join("\n")==bb.join("\n")&&(hc=Uc=fa(hc.line,0)));ic={from:hc,to:Uc,text:ub?ub[zc%ub.length]:bb,origin:w||(oa?"paste":a.state.cutIncoming>la?"cut":"+input")};Fb(a.doc,ic);lc(a,"inputRead",a,ic)}e&&!oa&&Ci(a,e);Be(a);2>a.curOp.updateInput&&(a.curOp.updateInput=Mb);a.curOp.typing=!0;a.state.pasteIncoming=a.state.cutIncoming=
-1}function Bi(a,e){var q=a.clipboardData&&a.clipboardData.getData("Text");if(q)return a.preventDefault(),e.isReadOnly()||e.options.disableInput||ac(e,function(){return Ai(e,q,0,null,"paste")}),!0}function Ci(a,e){if(a.options.electricChars&&a.options.smartIndent)for(var q=a.doc.sel,m=q.ranges.length-1;0<=m;m--){var w=q.ranges[m];if(!(100<w.head.ch||m&&q.ranges[m-1].head.line==w.head.line)){var T=a.getModeAt(w.head),la=!1;if(T.electricChars)for(var oa=0;oa<T.electricChars.length;oa++){if(-1<e.indexOf(T.electricChars.charAt(oa))){la=
Ng(a,w.head.line,"smart");break}}else T.electricInput&&T.electricInput.test(l(a.doc,w.head.line).text.slice(0,w.head.ch))&&(la=Ng(a,w.head.line,"smart"));la&&lc(a,"electricInput",a,w.head.line)}}}function Ih(a){for(var e=[],q=[],m=0;m<a.doc.sel.ranges.length;m++){var w=a.doc.sel.ranges[m].head.line;w={anchor:fa(w,0),head:fa(w+1,0)};q.push(w);e.push(a.getRange(w.anchor,w.head))}return{text:e,ranges:q}}function Og(a,e,q,m){a.setAttribute("autocorrect",q?"":"off");a.setAttribute("autocapitalize",m?"":
"off");a.setAttribute("spellcheck",!!e)}function hj(){var a=Qa("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),e=Qa("div",[a],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");Pf?a.style.width="1000px":a.setAttribute("wrap","off");ih&&(a.style.border="1px solid black");Og(a);return e}function Ei(a,e,q,m,w){function T(Ad){if("codepoint"==m){var me=bb.text.charCodeAt(e.ch+(0<m?0:-1));me=isNaN(me)?null:new fa(e.line,Math.max(0,
Math.min(bb.text.length,e.ch+q*((0<q?55296<=me&&56320>me:56320<=me&&57343>me)?2:1))),-q)}else me=w?Yi(a.cm,bb,e,q):Dh(bb,e,q);if(null==me){if(Ad=!Ad)Ad=e.line+ub,Ad<a.first||Ad>=a.first+a.size?Ad=!1:(e=new fa(Ad,e.ch,e.sticky),Ad=bb=l(a,Ad));if(Ad)e=eh(w,a.cm,bb,e.line,ub);else return!1}else e=me;return!0}var la=e,oa=q,bb=l(a,e.line),ub=w&&"rtl"==a.direction?-q:q;if("char"==m||"codepoint"==m)T();else if("column"==m)T(!0);else if("word"==m||"group"==m)for(var Mb=null,zc="group"==m,ic=a.cm&&a.cm.getHelper(e,
"wordChars"),hc=!0;!(0>q)||T(!hc);hc=!1){var Uc=bb.text.charAt(e.ch)||"\n";Uc=Ua(Uc,ic)?"w":zc&&"\n"==Uc?"n":!zc||/\s/.test(Uc)?null:"p";!zc||hc||Uc||(Uc="s");if(Mb&&Mb!=Uc){0>q&&(q=1,T(),e.sticky="after");break}Uc&&(Mb=Uc);if(0<q&&!T(!hc))break}oa=k(a,e,la,oa,!0);Da(la,oa)&&(oa.hitSide=!0);return oa}function ij(a,e,q,m){var w=a.doc,T=e.left;if("page"==m){var la=Math.max(Math.min(a.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight)-.5*oe(a.display),3);la=(0<q?
e.bottom:e.top)+q*la}else"line"==m&&(la=0<q?e.bottom+3:e.top-3);for(;;){e=wd(a,T,la);if(!e.outside)break;if(0>q?0>=la:la>=w.height){e.hitSide=!0;break}la+=5*q}return e}function jj(a,e){var q=re(a,e.line);if(!q||q.hidden)return null;var m=l(a.doc,e.line);q=we(q,m,e.line);a=Wa(m,a.doc.direction);m="left";a&&(m=fb(a,e.ch)%2?"right":"left");e=Jd(q.map,e.ch,m);e.offset="right"==e.collapse?e.end:e.start;return e}function kj(a){for(;a;a=a.parentNode)if(/CodeMirror-gutter-wrapper/.test(a.className))return!0;
return!1}function hh(a,e){e&&(a.bad=!0);return a}function Di(a,e,q,m,w){function T(hc){return function(Uc){return Uc.id==hc}}function la(){Mb&&(ub+=zc,ic&&(ub+=zc),Mb=ic=!1)}function oa(hc){hc&&(la(),ub+=hc)}function bb(hc){if(1==hc.nodeType){var Uc=hc.getAttribute("cm-text");if(Uc)oa(Uc);else{Uc=hc.getAttribute("cm-marker");var Ad;if(Uc)hc=a.findMarks(fa(m,0),fa(w+1,0),T(+Uc)),hc.length&&(Ad=hc[0].find(0))&&oa(p(a.doc,Ad.from,Ad.to).join(zc));else if("false"!=hc.getAttribute("contenteditable")&&
(Ad=/^(pre|div|p|li|table|br)$/i.test(hc.nodeName),/^br$/i.test(hc.nodeName)||0!=hc.textContent.length)){Ad&&la();for(Uc=0;Uc<hc.childNodes.length;Uc++)bb(hc.childNodes[Uc]);/^(pre|p)$/i.test(hc.nodeName)&&(ic=!0);Ad&&(Mb=!0)}}}else 3==hc.nodeType&&oa(hc.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(var ub="",Mb=!1,zc=a.doc.lineSeparator(),ic=!1;;){bb(e);if(e==q)break;e=e.nextSibling;ic=!1}return ub}function di(a,e,q){if(e==a.display.lineDiv){var m=a.display.lineDiv.childNodes[q];if(!m)return hh(a.clipPos(fa(a.display.viewTo-
1)),!0);e=null;q=0}else for(m=e;;m=m.parentNode){if(!m||m==a.display.lineDiv)return null;if(m.parentNode&&m.parentNode==a.display.lineDiv)break}for(var w=0;w<a.display.view.length;w++){var T=a.display.view[w];if(T.node==m)return lj(T,e,q)}}function lj(a,e,q){function m(Mb,zc,ic){for(var hc=-1;hc<(ub?ub.length:0);hc++)for(var Uc=0>hc?bb.map:ub[hc],Ad=0;Ad<Uc.length;Ad+=3){var me=Uc[Ad+2];if(me==Mb||me==zc){zc=E(0>hc?a.line:a.rest[hc]);hc=Uc[Ad]+ic;if(0>ic||me!=Mb)hc=Uc[Ad+(ic?1:0)];return fa(zc,hc)}}}
var w=a.text.firstChild,T=!1;if(!e||!db(w,e))return hh(fa(E(a.line),0),!0);if(e==w&&(T=!0,e=w.childNodes[q],q=0,!e))return q=a.rest?Sa(a.rest):a.line,hh(fa(E(q),q.text.length),T);var la=3==e.nodeType?e:null,oa=e;la||1!=e.childNodes.length||3!=e.firstChild.nodeType||(la=e.firstChild,q&&(q=la.nodeValue.length));for(;oa.parentNode!=w;)oa=oa.parentNode;var bb=a.measure,ub=bb.maps;if(e=m(la,oa,q))return hh(e,T);w=oa.nextSibling;for(la=la?la.nodeValue.length-q:0;w;w=w.nextSibling){if(e=m(w,w.firstChild,
0))return hh(fa(e.line,e.ch-la),T);la+=w.textContent.length}for(oa=oa.previousSibling;oa;oa=oa.previousSibling){if(e=m(oa,oa.firstChild,-1))return hh(fa(e.line,e.ch+q),T);q+=oa.textContent.length}}var Sf=navigator.userAgent,Eg=navigator.platform,Rf=/gecko\/\d/i.test(Sf),ei=/MSIE \d/.test(Sf),jg=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Sf),fi=/Edge\/(\d+)/.exec(Sf),Se=ei||jg||fi,Ye=Se&&(ei?document.documentMode||6:+(fi||jg)[1]),Pf=!fi&&/WebKit\//.test(Sf),Jh=Pf&&/Qt\/\d+\.\d+/.test(Sf),Fg=!fi&&
/Chrome\//.test(Sf),Wf=/Opera\//.test(Sf),Qg=/Apple Computer/.test(navigator.vendor),mj=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(Sf),Fi=/PhantomJS/.test(Sf),ih=Qg&&(/Mobile\/\w+/.test(Sf)||2<navigator.maxTouchPoints),jh=/Android/.test(Sf),kh=ih||jh||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(Sf),kg=ih||/Mac/.test(Eg),nj=/\bCrOS\b/.test(Sf),$f=/win/i.test(Eg),Gg=Wf&&Sf.match(/Version\/(\d*\.\d*)/);Gg&&(Gg=Number(Gg[1]));Gg&&15<=Gg&&(Wf=!1,Pf=!0);var Gi=kg&&(Jh||Wf&&(null==Gg||12.11>Gg)),Kh=
Rf||Se&&9<=Ye,mg=function(a,e){var q=a.className;if(e=n(e).exec(q)){var m=q.slice(e.index+e[0].length);a.className=q.slice(0,e.index)+(m?e[1]+m:"")}};var lh=document.createRange?function(a,e,q,m){var w=document.createRange();w.setEnd(m||a,q);w.setStart(a,e);return w}:function(a,e,q){var m=document.body.createTextRange();try{m.moveToElementText(a.parentNode)}catch(w){return m}m.collapse(!0);m.moveEnd("character",q);m.moveStart("character",e);return m};var mh=function(a){a.select()};ih?mh=function(a){a.selectionStart=
0;a.selectionEnd=a.value.length}:Se&&(mh=function(a){try{a.select()}catch(e){}});var Qe=function(){this.f=this.id=null;this.time=0;this.handler=Va(this.onTimeout,this)};Qe.prototype.onTimeout=function(a){a.id=0;a.time<=+new Date?a.f():setTimeout(a.handler,a.time-+new Date)};Qe.prototype.set=function(a,e){this.f=e;e=+new Date+a;if(!this.id||e<this.time)clearTimeout(this.id),this.id=setTimeout(this.handler,a),this.time=e};var Rg={toString:function(){return"CodeMirror.Pass"}},Af={scroll:!1},uf={origin:"*mouse"},
nh={origin:"+move"},gi=[""],oj=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,hi=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,
ph=null,Sg=function(){function a(oa){return 247>=oa?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(oa):1424<=oa&&1524>=oa?"R":1536<=oa&&1785>=oa?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(oa-
1536):1774<=oa&&2220>=oa?"r":8192<=oa&&8203>=oa?"w":8204==oa?"b":"L"}function e(oa,bb,ub){this.level=oa;this.from=bb;this.to=ub}var q=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,m=/[stwN]/,w=/[LRr]/,T=/[Lb1n]/,la=/[1n]/;return function(oa,bb){var ub="ltr"==bb?"L":"R";if(0==oa.length||"ltr"==bb&&!q.test(oa))return!1;for(var Mb=oa.length,zc=[],ic=0;ic<Mb;++ic)zc.push(a(oa.charCodeAt(ic)));ic=0;for(var hc=ub;ic<Mb;++ic){var Uc=zc[ic];"m"==Uc?zc[ic]=hc:hc=Uc}ic=0;for(hc=ub;ic<Mb;++ic)Uc=zc[ic],"1"==Uc&&
"r"==hc?zc[ic]="n":w.test(Uc)&&(hc=Uc,"r"==Uc&&(zc[ic]="R"));ic=1;for(hc=zc[0];ic<Mb-1;++ic)Uc=zc[ic],"+"==Uc&&"1"==hc&&"1"==zc[ic+1]?zc[ic]="1":","!=Uc||hc!=zc[ic+1]||"1"!=hc&&"n"!=hc||(zc[ic]=hc),hc=Uc;for(ic=0;ic<Mb;++ic)if(hc=zc[ic],","==hc)zc[ic]="N";else if("%"==hc){for(hc=ic+1;hc<Mb&&"%"==zc[hc];++hc);for(Uc=ic&&"!"==zc[ic-1]||hc<Mb&&"1"==zc[hc]?"1":"N";ic<hc;++ic)zc[ic]=Uc;ic=hc-1}ic=0;for(hc=ub;ic<Mb;++ic)Uc=zc[ic],"L"==hc&&"1"==Uc?zc[ic]="L":w.test(Uc)&&(hc=Uc);for(hc=0;hc<Mb;++hc)if(m.test(zc[hc])){for(ic=
hc+1;ic<Mb&&m.test(zc[ic]);++ic);Uc="L"==(hc?zc[hc-1]:ub);for(Uc=Uc==("L"==(ic<Mb?zc[ic]:ub))?Uc?"L":"R":ub;hc<ic;++hc)zc[hc]=Uc;hc=ic-1}ub=[];var Ad;for(ic=0;ic<Mb;)if(T.test(zc[ic])){hc=ic;for(++ic;ic<Mb&&T.test(zc[ic]);++ic);ub.push(new e(0,hc,ic))}else{var me=ic;hc=ub.length;Uc="rtl"==bb?1:0;for(++ic;ic<Mb&&"L"!=zc[ic];++ic);for(var Ue=me;Ue<ic;)if(la.test(zc[Ue])){me<Ue&&(ub.splice(hc,0,new e(1,me,Ue)),hc+=Uc);me=Ue;for(++Ue;Ue<ic&&la.test(zc[Ue]);++Ue);ub.splice(hc,0,new e(2,me,Ue));hc+=Uc;
me=Ue}else++Ue;me<ic&&ub.splice(hc,0,new e(1,me,ic))}"ltr"==bb&&(1==ub[0].level&&(Ad=oa.match(/^\s+/))&&(ub[0].from=Ad[0].length,ub.unshift(new e(0,0,Ad[0].length))),1==Sa(ub).level&&(Ad=oa.match(/\s+$/))&&(Sa(ub).to-=Ad[0].length,ub.push(new e(0,Mb-Ad[0].length,Mb))));return"rtl"==bb?ub.reverse():ub}}(),oh=[],le=function(a,e,q){a.addEventListener?a.addEventListener(e,q,!1):a.attachEvent?a.attachEvent("on"+e,q):(a=a._handlers||(a._handlers={}),a[e]=(a[e]||oh).concat(q))},Hi=function(){if(Se&&9>Ye)return!1;
var a=Qa("div");return"draggable"in a||"dragDrop"in a}(),ii,ji,Ii=3!="\n\nb".split(/\n/).length?function(a){for(var e=0,q=[],m=a.length;e<=m;){var w=a.indexOf("\n",e);-1==w&&(w=a.length);var T=a.slice(e,"\r"==a.charAt(w-1)?w-1:w),la=T.indexOf("\r");-1!=la?(q.push(T.slice(0,la)),e+=la+1):(q.push(T),e=w+1)}return q}:function(a){return a.split(/\r\n?|\n/)},Xi=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(e){return!1}}:function(a){try{var e=a.ownerDocument.selection.createRange()}catch(q){}return e&&
e.parentElement()==a?0!=e.compareEndPoints("StartToEnd",e):!1},pj=function(){var a=Qa("div");if("oncopy"in a)return!0;a.setAttribute("oncopy","return;");return"function"==typeof a.oncopy}(),Ji=null,dh={},qh={},Hg={},Bf=function(a,e,q){this.pos=this.start=0;this.string=a;this.tabSize=e||8;this.lineStart=this.lastColumnPos=this.lastColumnValue=0;this.lineOracle=q};Bf.prototype.eol=function(){return this.pos>=this.string.length};Bf.prototype.sol=function(){return this.pos==this.lineStart};Bf.prototype.peek=
function(){return this.string.charAt(this.pos)||void 0};Bf.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)};Bf.prototype.eat=function(a){var e=this.string.charAt(this.pos);if("string"==typeof a?e==a:e&&(a.test?a.test(e):a(e)))return++this.pos,e};Bf.prototype.eatWhile=function(a){for(var e=this.pos;this.eat(a););return this.pos>e};Bf.prototype.eatSpace=function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>
a};Bf.prototype.skipToEnd=function(){this.pos=this.string.length};Bf.prototype.skipTo=function(a){a=this.string.indexOf(a,this.pos);if(-1<a)return this.pos=a,!0};Bf.prototype.backUp=function(a){this.pos-=a};Bf.prototype.column=function(){this.lastColumnPos<this.start&&(this.lastColumnValue=mb(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start);return this.lastColumnValue-(this.lineStart?mb(this.string,this.lineStart,this.tabSize):0)};Bf.prototype.indentation=
function(){return mb(this.string,null,this.tabSize)-(this.lineStart?mb(this.string,this.lineStart,this.tabSize):0)};Bf.prototype.match=function(a,e,q){if("string"==typeof a){var m=function(T){return q?T.toLowerCase():T},w=this.string.substr(this.pos,a.length);if(m(w)==m(a))return!1!==e&&(this.pos+=a.length),!0}else{if((a=this.string.slice(this.pos).match(a))&&0<a.index)return null;a&&!1!==e&&(this.pos+=a[0].length);return a}};Bf.prototype.current=function(){return this.string.slice(this.start,this.pos)};
Bf.prototype.hideFirstChars=function(a,e){this.lineStart+=a;try{return e()}finally{this.lineStart-=a}};Bf.prototype.lookAhead=function(a){var e=this.lineOracle;return e&&e.lookAhead(a)};Bf.prototype.baseToken=function(){var a=this.lineOracle;return a&&a.baseToken(this.pos)};var Lh=function(a,e){this.state=a;this.lookAhead=e},tg=function(a,e,q,m){this.state=e;this.doc=a;this.line=q;this.maxLookAhead=m||0;this.baseTokens=null;this.baseTokenPos=1};tg.prototype.lookAhead=function(a){var e=this.doc.getLine(this.line+
a);null!=e&&a>this.maxLookAhead&&(this.maxLookAhead=a);return e};tg.prototype.baseToken=function(a){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=a;)this.baseTokenPos+=2;var e=this.baseTokens[this.baseTokenPos+1];return{type:e&&e.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-a}};tg.prototype.nextLine=function(){this.line++;0<this.maxLookAhead&&this.maxLookAhead--};tg.fromSaved=function(a,e,q){return e instanceof Lh?new tg(a,P(a.mode,e.state),q,e.lookAhead):
new tg(a,P(a.mode,e),q)};tg.prototype.save=function(a){a=!1!==a?P(this.doc.mode,this.state):this.state;return 0<this.maxLookAhead?new Lh(a,this.maxLookAhead):a};var Li=function(a,e,q){this.start=a.start;this.end=a.pos;this.string=a.current();this.type=e||null;this.state=q},qj=!1,Bg=!1,Ig=function(a,e,q){this.text=a;ed(this,e);this.height=q?q(this):1};Ig.prototype.lineNo=function(){return E(this)};O(Ig);var Rj={},Mi={},Tg=null,rh=null,Ni={left:0,right:0,top:0,bottom:0},lg,ug=function(a,e,q){this.cm=
q;var m=this.vert=Qa("div",[Qa("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),w=this.horiz=Qa("div",[Qa("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");m.tabIndex=w.tabIndex=-1;a(m);a(w);le(m,"scroll",function(){m.clientHeight&&e(m.scrollTop,"vertical")});le(w,"scroll",function(){w.clientWidth&&e(w.scrollLeft,"horizontal")});this.checkedZeroWidth=!1;Se&&8>Ye&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};ug.prototype.update=function(a){var e=
a.scrollWidth>a.clientWidth+1,q=a.scrollHeight>a.clientHeight+1,m=a.nativeBarWidth;q?(this.vert.style.display="block",this.vert.style.bottom=e?m+"px":"0",this.vert.firstChild.style.height=Math.max(0,a.scrollHeight-a.clientHeight+(a.viewHeight-(e?m:0)))+"px"):(this.vert.style.display="",this.vert.firstChild.style.height="0");e?(this.horiz.style.display="block",this.horiz.style.right=q?m+"px":"0",this.horiz.style.left=a.barLeft+"px",this.horiz.firstChild.style.width=Math.max(0,a.scrollWidth-a.clientWidth+
(a.viewWidth-a.barLeft-(q?m:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0");!this.checkedZeroWidth&&0<a.clientHeight&&(0==m&&this.zeroWidthHack(),this.checkedZeroWidth=!0);return{right:q?m:0,bottom:e?m:0}};ug.prototype.setScrollLeft=function(a){this.horiz.scrollLeft!=a&&(this.horiz.scrollLeft=a);this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")};ug.prototype.setScrollTop=function(a){this.vert.scrollTop!=a&&(this.vert.scrollTop=a);this.disableVert&&
this.enableZeroWidthBar(this.vert,this.disableVert,"vert")};ug.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=kg&&!mj?"12px":"18px";this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none";this.disableHoriz=new Qe;this.disableVert=new Qe};ug.prototype.enableZeroWidthBar=function(a,e,q){function m(){var w=a.getBoundingClientRect();("vert"==q?document.elementFromPoint(w.right-1,(w.top+w.bottom)/2):document.elementFromPoint((w.right+w.left)/2,w.bottom-1))!=
a?a.style.pointerEvents="none":e.set(1E3,m)}a.style.pointerEvents="auto";e.set(1E3,m)};ug.prototype.clear=function(){var a=this.horiz.parentNode;a.removeChild(this.horiz);a.removeChild(this.vert)};var vg=function(){};vg.prototype.update=function(){return{bottom:0,right:0}};vg.prototype.setScrollLeft=function(){};vg.prototype.setScrollTop=function(){};vg.prototype.clear=function(){};var Mh={"native":ug,"null":vg},Sj=0,Oh=function(a,e,q){var m=a.display;this.viewport=e;this.visible=We(m,a.doc,e);this.editorIsHidden=
!m.wrapper.offsetWidth;this.wrapperHeight=m.wrapper.clientHeight;this.wrapperWidth=m.wrapper.clientWidth;this.oldDisplayWidth=Ud(a);this.force=q;this.dims=se(a);this.events=[]};Oh.prototype.signal=function(a,e){F(a,e)&&this.events.push(arguments)};Oh.prototype.finish=function(){for(var a=0;a<this.events.length;a++)Xa.apply(null,this.events[a])};var Nh=0,cg=null;Se?cg=-.53:Rf?cg=15:Fg?cg=-.7:Qg&&(cg=-1/3);var dg=function(a,e){this.ranges=a;this.primIndex=e};dg.prototype.primary=function(){return this.ranges[this.primIndex]};
dg.prototype.equals=function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var q=this.ranges[e],m=a.ranges[e];if(!Da(q.anchor,m.anchor)||!Da(q.head,m.head))return!1}return!0};dg.prototype.deepCopy=function(){for(var a=[],e=0;e<this.ranges.length;e++)a[e]=new Ze(W(this.ranges[e].anchor),W(this.ranges[e].head));return new dg(a,this.primIndex)};dg.prototype.somethingSelected=function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;
return!1};dg.prototype.contains=function(a,e){e||(e=a);for(var q=0;q<this.ranges.length;q++){var m=this.ranges[q];if(0<=Na(e,m.from())&&0>=Na(a,m.to()))return q}return-1};var Ze=function(a,e){this.anchor=a;this.head=e};Ze.prototype.from=function(){return $a(this.anchor,this.head)};Ze.prototype.to=function(){return na(this.anchor,this.head)};Ze.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};Id.prototype={chunkSize:function(){return this.lines.length},
removeInner:function(a,e){for(var q=a,m=a+e;q<m;++q){var w=this.lines[q];this.height-=w.height;var T=w;T.parent=null;Zc(T);lc(w,"delete")}this.lines.splice(a,e)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,e,q){this.height+=q;this.lines=this.lines.slice(0,a).concat(e).concat(this.lines.slice(a));for(a=0;a<e.length;++a)e[a].parent=this},iterN:function(a,e,q){for(e=a+e;a<e;++a)if(q(this.lines[a]))return!0}};Fe.prototype={chunkSize:function(){return this.size},removeInner:function(a,
e){this.size-=e;for(var q=0;q<this.children.length;++q){var m=this.children[q],w=m.chunkSize();if(a<w){var T=Math.min(e,w-a),la=m.height;m.removeInner(a,T);this.height-=la-m.height;w==T&&(this.children.splice(q--,1),m.parent=null);if(0==(e-=T))break;a=0}else a-=w}25>this.size-e&&(1<this.children.length||!(this.children[0]instanceof Id))&&(a=[],this.collapse(a),this.children=[new Id(a)],this.children[0].parent=this)},collapse:function(a){for(var e=0;e<this.children.length;++e)this.children[e].collapse(a)},
insertInner:function(a,e,q){this.size+=e.length;this.height+=q;for(var m=0;m<this.children.length;++m){var w=this.children[m],T=w.chunkSize();if(a<=T){w.insertInner(a,e,q);if(w.lines&&50<w.lines.length){for(e=a=w.lines.length%25+25;e<w.lines.length;)q=new Id(w.lines.slice(e,e+=25)),w.height-=q.height,this.children.splice(++m,0,q),q.parent=this;w.lines=w.lines.slice(0,a);this.maybeSpill()}break}a-=T}},maybeSpill:function(){if(!(10>=this.children.length)){var a=this;do{var e=a.children.splice(a.children.length-
5,5);e=new Fe(e);if(a.parent){a.size-=e.size;a.height-=e.height;var q=Pa(a.parent.children,a);a.parent.children.splice(q+1,0,e)}else q=new Fe(a.children),q.parent=a,a.children=[q,e],a=q;e.parent=a.parent}while(10<a.children.length);a.parent.maybeSpill()}},iterN:function(a,e,q){for(var m=0;m<this.children.length;++m){var w=this.children[m],T=w.chunkSize();if(a<T){T=Math.min(e,T-a);if(w.iterN(a,T,q))return!0;if(0==(e-=T))break;a=0}else a-=T}}};var sh=function(a,e,q){if(q)for(var m in q)q.hasOwnProperty(m)&&
(this[m]=q[m]);this.doc=a;this.node=e};sh.prototype.clear=function(){var a=this.doc.cm,e=this.line.widgets,q=this.line,m=E(q);if(null!=m&&e){for(var w=0;w<e.length;++w)e[w]==this&&e.splice(w--,1);e.length||(q.widgets=null);var T=ad(this);B(q,Math.max(0,q.height-T));a&&(ac(a,function(){var la=-T;U(q)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&bd(a,la);ra(a,m,"widget")}),lc(a,"lineWidgetCleared",a,this,m))}};sh.prototype.changed=function(){var a=this,e=this.height,q=this.doc.cm,m=this.line;this.height=
null;var w=ad(this)-e;w&&(Nd(this.doc,m)||B(m,m.height+w),q&&ac(q,function(){q.curOp.forceUpdate=!0;U(m)<(q.curOp&&q.curOp.scrollTop||q.doc.scrollTop)&&bd(q,w);lc(q,"lineWidgetChanged",q,a,E(m))}))};O(sh);var ki=0,ng=function(a,e){this.lines=[];this.type=e;this.doc=a;this.id=++ki};ng.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,e=a&&!a.curOp;e&&Hb(a);if(F(this,"clear")){var q=this.find();q&&lc(this,"clear",q.from,q.to)}for(var m=q=null,w=0;w<this.lines.length;++w){var T=
this.lines[w],la=Rc(T.markedSpans,this);a&&!this.collapsed?ra(a,E(T),"text"):a&&(null!=la.to&&(m=E(T)),null!=la.from&&(q=E(T)));for(var oa=T,bb=void 0,ub=T.markedSpans,Mb=la,zc=0;zc<ub.length;++zc)ub[zc]!=Mb&&(bb||(bb=[])).push(ub[zc]);oa.markedSpans=bb;null==la.from&&this.collapsed&&!Nd(this.doc,T)&&a&&B(T,oe(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(w=0;w<this.lines.length;++w)T=Sb(this.lines[w]),la=va(T),la>a.display.maxLineLength&&(a.display.maxLine=T,a.display.maxLineLength=
la,a.display.maxLineChanged=!0);null!=q&&a&&this.collapsed&&R(a,q,m+1);this.lines.length=0;this.explicitlyCleared=!0;this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&vb(a.doc));a&&lc(a,"markerCleared",a,this,q,m);e&&Tb(a);this.parent&&this.parent.clear()}};ng.prototype.find=function(a,e){null==a&&"bookmark"==this.type&&(a=1);for(var q,m,w=0;w<this.lines.length;++w){var T=this.lines[w],la=Rc(T.markedSpans,this);if(null!=la.from&&(q=fa(e?T:E(T),la.from),-1==a))return q;if(null!=la.to&&(m=fa(e?
T:E(T),la.to),1==a))return m}return q&&{from:q,to:m}};ng.prototype.changed=function(){var a=this,e=this.find(-1,!0),q=this,m=this.doc.cm;e&&m&&ac(m,function(){var w=e.line,T=E(e.line);if(T=re(m,T))Me(T),m.curOp.selectionChanged=m.curOp.forceUpdate=!0;m.curOp.updateMaxLine=!0;Nd(q.doc,w)||null==q.height||(T=q.height,q.height=null,(T=ad(q)-T)&&B(w,w.height+T));lc(m,"markerChanged",m,a)})};ng.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&
-1!=Pa(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)};ng.prototype.detachLine=function(a){this.lines.splice(Pa(this.lines,a),1);!this.lines.length&&this.doc.cm&&(a=this.doc.cm.curOp,(a.maybeHiddenMarkers||(a.maybeHiddenMarkers=[])).push(this))};O(ng);var th=function(a,e){this.markers=a;this.primary=e;for(e=0;e<a.length;++e)a[e].parent=this};th.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=
0;a<this.markers.length;++a)this.markers[a].clear();lc(this,"clear")}};th.prototype.find=function(a,e){return this.primary.find(a,e)};O(th);var rj=0,Tf=function(a,e,q,m,w){if(!(this instanceof Tf))return new Tf(a,e,q,m,w);null==q&&(q=0);Fe.call(this,[new Id([new Ig("",null)])]);this.first=q;this.scrollTop=this.scrollLeft=0;this.cantEdit=!1;this.cleanGeneration=1;this.modeFrontier=this.highlightFrontier=q;q=fa(q,0);this.sel=V(q);this.history=new X(null);this.id=++rj;this.modeOption=e;this.lineSep=
m;this.direction="rtl"==w?"rtl":"ltr";this.extend=!1;"string"==typeof a&&(a=this.splitLines(a));yb(this,{from:q,to:q,text:a});ja(this,V(q),Af)};Tf.prototype=gb(Fe.prototype,{constructor:Tf,iter:function(a,e,q){q?this.iterN(a-this.first,e-a,q):this.iterN(this.first,this.first+this.size,a)},insert:function(a,e){for(var q=0,m=0;m<e.length;++m)q+=e[m].height;this.insertInner(a-this.first,e,q)},remove:function(a,e){this.removeInner(a-this.first,e)},getValue:function(a){var e=A(this,this.first,this.first+
this.size);return!1===a?e:e.join(a||this.lineSeparator())},setValue:Sc(function(a){var e=fa(this.first,0),q=this.first+this.size-1;Fb(this,{from:e,to:fa(q,l(this,q).text.length),text:this.splitLines(a),origin:"setValue",full:!0},!0);this.cm&&ue(this.cm,0,0);ja(this,V(e),Af)}),replaceRange:function(a,e,q,m){e=sb(this,e);q=q?sb(this,q):e;Rd(this,a,e,q,m)},getRange:function(a,e,q){a=p(this,sb(this,a),sb(this,e));return!1===q?a:a.join(q||this.lineSeparator())},getLine:function(a){return(a=this.getLineHandle(a))&&
a.text},getLineHandle:function(a){if(aa(this,a))return l(this,a)},getLineNumber:function(a){return E(a)},getLineHandleVisualStart:function(a){"number"==typeof a&&(a=l(this,a));return Sb(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return sb(this,a)},getCursor:function(a){var e=this.sel.primary();return null==a||"head"==a?e.head:"anchor"==a?e.anchor:"end"==a||"to"==a||!1===a?e.to():e.from()},
listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Sc(function(a,e,q){a=sb(this,"number"==typeof a?fa(a,e||0):a);ja(this,V(a,null),q)}),setSelection:Sc(function(a,e,q){var m=sb(this,a);a=sb(this,e||a);ja(this,V(m,a),q)}),extendSelection:Sc(function(a,e,q){yd(this,sb(this,a),e&&sb(this,e),q)}),extendSelections:Sc(function(a,e){Qc(this,Db(this,a),e)}),extendSelectionsBy:Sc(function(a,e){a=kb(this.sel.ranges,a);Qc(this,Db(this,
a),e)}),setSelections:Sc(function(a,e,q){if(a.length){for(var m=[],w=0;w<a.length;w++)m[w]=new Ze(sb(this,a[w].anchor),sb(this,a[w].head));null==e&&(e=Math.min(a.length-1,this.sel.primIndex));ja(this,M(this.cm,m,e),q)}}),addSelection:Sc(function(a,e,q){var m=this.sel.ranges.slice(0);m.push(new Ze(sb(this,a),sb(this,e||a)));ja(this,M(this.cm,m,m.length-1),q)}),getSelection:function(a){for(var e=this.sel.ranges,q,m=0;m<e.length;m++){var w=p(this,e[m].from(),e[m].to());q=q?q.concat(w):w}return!1===a?
q:q.join(a||this.lineSeparator())},getSelections:function(a){for(var e=[],q=this.sel.ranges,m=0;m<q.length;m++){var w=p(this,q[m].from(),q[m].to());!1!==a&&(w=w.join(a||this.lineSeparator()));e[m]=w}return e},replaceSelection:function(a,e,q){for(var m=[],w=0;w<this.sel.ranges.length;w++)m[w]=a;this.replaceSelections(m,e,q||"+input")},replaceSelections:Sc(function(a,e,q){for(var m=[],w=this.sel,T=0;T<w.ranges.length;T++){var la=w.ranges[T];m[T]={from:la.from(),to:la.to(),text:this.splitLines(a[T]),
origin:q}}if(a=e&&"end"!=e){a=[];w=q=fa(this.first,0);for(T=0;T<m.length;T++){var oa=m[T];la=Ta(oa.from,q,w);var bb=Ta(ca(oa),q,w);q=oa.to;w=bb;"around"==e?(oa=this.sel.ranges[T],oa=0>Na(oa.head,oa.anchor),a[T]=new Ze(oa?bb:la,oa?la:bb)):a[T]=new Ze(la,la)}a=new dg(a,this.sel.primIndex)}e=a;for(a=m.length-1;0<=a;a--)Fb(this,m[a]);e?xe(this,e):this.cm&&Be(this.cm)}),undo:Sc(function(){Wb(this,"undo")}),redo:Sc(function(){Wb(this,"redo")}),undoSelection:Sc(function(){Wb(this,"undo",!0)}),redoSelection:Sc(function(){Wb(this,
"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,e=0,q=0,m=0;m<a.done.length;m++)a.done[m].ranges||++e;for(m=0;m<a.undone.length;m++)a.undone[m].ranges||++q;return{undo:e,redo:q}},clearHistory:function(){var a=this;this.history=new X(this.history.maxGeneration);Nb(this,function(e){return e.history=a.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){a&&
(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null);return this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:Fc(this.history.done),undone:Fc(this.history.undone)}},setHistory:function(a){var e=this.history=new X(this.history.maxGeneration);e.done=Fc(a.done.slice(0),null,!0);e.undone=Fc(a.undone.slice(0),null,!0)},setGutterMarker:Sc(function(a,e,q){return $c(this,a,"gutter",function(m){var w=
m.gutterMarkers||(m.gutterMarkers={});w[e]=q;!q&&Ja(w)&&(m.gutterMarkers=null);return!0})}),clearGutter:Sc(function(a){var e=this;this.iter(function(q){q.gutterMarkers&&q.gutterMarkers[a]&&$c(e,q,"gutter",function(){q.gutterMarkers[a]=null;Ja(q.gutterMarkers)&&(q.gutterMarkers=null);return!0})})}),lineInfo:function(a){if("number"==typeof a){if(!aa(this,a))return null;var e=a;a=l(this,a);if(!a)return null}else if(e=E(a),null==e)return null;return{line:e,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,
textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},addLineClass:Sc(function(a,e,q){return $c(this,a,"gutter"==e?"gutter":"class",function(m){var w="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass";if(m[w]){if(n(q).test(m[w]))return!1;m[w]+=" "+q}else m[w]=q;return!0})}),removeLineClass:Sc(function(a,e,q){return $c(this,a,"gutter"==e?"gutter":"class",function(m){var w="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":
"wrapClass",T=m[w];if(T)if(null==q)m[w]=null;else{var la=T.match(n(q));if(!la)return!1;var oa=la.index+la[0].length;m[w]=T.slice(0,la.index)+(la.index&&oa!=T.length?" ":"")+T.slice(oa)||null}else return!1;return!0})}),addLineWidget:Sc(function(a,e,q){return Te(this,a,e,q)}),removeLineWidget:function(a){a.clear()},markText:function(a,e,q){return $d(this,sb(this,a),sb(this,e),q,q&&q.type||"range")},setBookmark:function(a,e){e={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,
clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};a=sb(this,a);return $d(this,a,a,e,"bookmark")},findMarksAt:function(a){a=sb(this,a);var e=[],q=l(this,a.line).markedSpans;if(q)for(var m=0;m<q.length;++m){var w=q[m];(null==w.from||w.from<=a.ch)&&(null==w.to||w.to>=a.ch)&&e.push(w.marker.parent||w.marker)}return e},findMarks:function(a,e,q){a=sb(this,a);e=sb(this,e);var m=[],w=a.line;this.iter(a.line,e.line+1,function(T){if(T=T.markedSpans)for(var la=0;la<T.length;la++){var oa=
T[la];null!=oa.to&&w==a.line&&a.ch>=oa.to||null==oa.from&&w!=a.line||null!=oa.from&&w==e.line&&oa.from>=e.ch||q&&!q(oa.marker)||m.push(oa.marker.parent||oa.marker)}++w});return m},getAllMarks:function(){var a=[];this.iter(function(e){if(e=e.markedSpans)for(var q=0;q<e.length;++q)null!=e[q].from&&a.push(e[q].marker)});return a},posFromIndex:function(a){var e,q=this.first,m=this.lineSeparator().length;this.iter(function(w){w=w.text.length+m;if(w>a)return e=a,!0;a-=w;++q});return sb(this,fa(q,e))},indexFromPos:function(a){a=
sb(this,a);var e=a.ch;if(a.line<this.first||0>a.ch)return 0;var q=this.lineSeparator().length;this.iter(this.first,a.line,function(m){e+=m.text.length+q});return e},copy:function(a){var e=new Tf(A(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);e.scrollTop=this.scrollTop;e.scrollLeft=this.scrollLeft;e.sel=this.sel;e.extend=!1;a&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory()));return e},linkedDoc:function(a){a||(a={});var e=
this.first,q=this.first+this.size;null!=a.from&&a.from>e&&(e=a.from);null!=a.to&&a.to<q&&(q=a.to);e=new Tf(A(this,e,q),a.mode||this.modeOption,e,this.lineSep,this.direction);a.sharedHist&&(e.history=this.history);(this.linked||(this.linked=[])).push({doc:e,sharedHist:a.sharedHist});e.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}];a=Ie(this);for(q=0;q<a.length;q++){var m=a[q],w=m.find(),T=e.clipPos(w.from);w=e.clipPos(w.to);Na(T,w)&&(T=$d(e,T,w,m.primary,m.primary.type),m.markers.push(T),
T.parent=m)}return e},unlinkDoc:function(a){a instanceof yf&&(a=a.doc);if(this.linked)for(var e=0;e<this.linked.length;++e)if(this.linked[e].doc==a){this.linked.splice(e,1);a.unlinkDoc(this);If(Ie(this));break}if(a.history==this.history){var q=[a.id];Nb(a,function(m){return q.push(m.id)},!0);a.history=new X(null);a.history.done=Fc(this.history.done,q);a.history.undone=Fc(this.history.undone,q)}},iterLinkedDocs:function(a){Nb(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm},
splitLines:function(a){return this.lineSep?a.split(this.lineSep):Ii(a)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Sc(function(a){"rtl"!=a&&(a="ltr");a!=this.direction&&(this.direction=a,this.iter(function(e){return e.order=null}),this.cm&&C(this.cm))})});Tf.prototype.eachLine=Tf.prototype.iter;for(var li=0,Oi=!1,wg={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",
37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"\x3d",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"\x3d",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"\x3d",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},uh=0;10>uh;uh++)wg[uh+48]=wg[uh+96]=String(uh);for(var Ph=65;90>=Ph;Ph++)wg[Ph]=
String.fromCharCode(Ph);for(var vh=1;12>=vh;vh++)wg[vh+111]=wg[vh+63235]="F"+vh;var wh={basic:{Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},pcDefault:{"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo",
"Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection",
"Alt-U":"redoSelection",fallthrough:"basic"},emacsy:{"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},macDefault:{"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo",
"Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft",
"Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]}};wh["default"]=kg?wh.macDefault:wh.pcDefault;var xh={selectAll:ba,singleSelection:function(a){return a.setSelection(a.getCursor("anchor"),a.getCursor("head"),Af)},killLine:function(a){return ch(a,function(e){if(e.empty()){var q=l(a.doc,e.head.line).text.length;return e.head.ch==q&&e.head.line<a.lastLine()?{from:e.head,to:fa(e.head.line+
1,0)}:{from:e.head,to:fa(e.head.line,q)}}return{from:e.from(),to:e.to()}})},deleteLine:function(a){return ch(a,function(e){return{from:fa(e.from().line,0),to:sb(a.doc,fa(e.to().line+1,0))}})},delLineLeft:function(a){return ch(a,function(e){return{from:fa(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(a){return ch(a,function(e){var q=a.charCoords(e.head,"div").top+5;return{from:a.coordsChar({left:0,top:q},"div"),to:e.from()}})},delWrappedLineRight:function(a){return ch(a,function(e){var q=
a.charCoords(e.head,"div").top+5;q=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:q},"div");return{from:e.from(),to:q}})},undo:function(a){return a.undo()},redo:function(a){return a.redo()},undoSelection:function(a){return a.undoSelection()},redoSelection:function(a){return a.redoSelection()},goDocStart:function(a){return a.extendSelection(fa(a.firstLine(),0))},goDocEnd:function(a){return a.extendSelection(fa(a.lastLine()))},goLineStart:function(a){return a.extendSelectionsBy(function(e){return xi(a,
e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){return a.extendSelectionsBy(function(e){return wi(a,e.head)},{origin:"+move",bias:1})},goLineEnd:function(a){return a.extendSelectionsBy(function(e){e=e.head.line;var q=l(a.doc,e);var m=q;for(var w;w=Ha(m,!1);)m=w.find(1,!0).line;m!=q&&(e=E(m));return eh(!0,a,q,e,-1)},{origin:"+move",bias:-1})},goLineRight:function(a){return a.extendSelectionsBy(function(e){e=a.cursorCoords(e.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+
100,top:e},"div")},nh)},goLineLeft:function(a){return a.extendSelectionsBy(function(e){e=a.cursorCoords(e.head,"div").top+5;return a.coordsChar({left:0,top:e},"div")},nh)},goLineLeftSmart:function(a){return a.extendSelectionsBy(function(e){var q=a.cursorCoords(e.head,"div").top+5;q=a.coordsChar({left:0,top:q},"div");return q.ch<a.getLine(q.line).search(/\S/)?wi(a,e.head):q},nh)},goLineUp:function(a){return a.moveV(-1,"line")},goLineDown:function(a){return a.moveV(1,"line")},goPageUp:function(a){return a.moveV(-1,
"page")},goPageDown:function(a){return a.moveV(1,"page")},goCharLeft:function(a){return a.moveH(-1,"char")},goCharRight:function(a){return a.moveH(1,"char")},goColumnLeft:function(a){return a.moveH(-1,"column")},goColumnRight:function(a){return a.moveH(1,"column")},goWordLeft:function(a){return a.moveH(-1,"word")},goGroupRight:function(a){return a.moveH(1,"group")},goGroupLeft:function(a){return a.moveH(-1,"group")},goWordRight:function(a){return a.moveH(1,"word")},delCharBefore:function(a){return a.deleteH(-1,
"codepoint")},delCharAfter:function(a){return a.deleteH(1,"char")},delWordBefore:function(a){return a.deleteH(-1,"word")},delWordAfter:function(a){return a.deleteH(1,"word")},delGroupBefore:function(a){return a.deleteH(-1,"group")},delGroupAfter:function(a){return a.deleteH(1,"group")},indentAuto:function(a){return a.indentSelection("smart")},indentMore:function(a){return a.indentSelection("add")},indentLess:function(a){return a.indentSelection("subtract")},insertTab:function(a){return a.replaceSelection("\t")},
insertSoftTab:function(a){for(var e=[],q=a.listSelections(),m=a.options.tabSize,w=0;w<q.length;w++){var T=q[w].from();T=mb(a.getLine(T.line),T.ch,m);e.push(Ca(m-T%m))}a.replaceSelections(e)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){return ac(a,function(){for(var e=a.listSelections(),q=[],m=0;m<e.length;m++)if(e[m].empty()){var w=e[m].head,T=l(a.doc,w.line).text;if(T)if(w.ch==T.length&&(w=new fa(w.line,w.ch-1)),0<w.ch)w=
new fa(w.line,w.ch+1),a.replaceRange(T.charAt(w.ch-1)+T.charAt(w.ch-2),fa(w.line,w.ch-2),w,"+transpose");else if(w.line>a.doc.first){var la=l(a.doc,w.line-1).text;la&&(w=new fa(w.line,1),a.replaceRange(T.charAt(0)+a.doc.lineSeparator()+la.charAt(la.length-1),fa(w.line-1,la.length-1),w,"+transpose"))}q.push(new Ze(w,w))}a.setSelections(q)})},newlineAndIndent:function(a){return ac(a,function(){for(var e=a.listSelections(),q=e.length-1;0<=q;q--)a.replaceRange(a.doc.lineSeparator(),e[q].anchor,e[q].head,
"+input");e=a.listSelections();for(q=0;q<e.length;q++)a.indentLine(e[q].from().line,null,!0);Be(a)})},openLine:function(a){return a.replaceSelection("\n","start")},toggleOverwrite:function(a){return a.toggleOverwrite()}},sj=new Qe,Pi=null,mi=function(a,e,q){this.time=a;this.pos=e;this.button=q};mi.prototype.compare=function(a,e,q){return this.time+400>a&&0==Na(e,this.pos)&&q==this.button};var yh,Qh,zh={toString:function(){return"CodeMirror.Init"}},tj={},Rh={};yf.defaults=tj;yf.optionHandlers=Rh;var Sh=
[];yf.defineInitHook=function(a){return Sh.push(a)};var Xf=null,hf=function(a){this.cm=a;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new Qe;this.composing=null;this.gracePeriod=!1;this.readDOMTimeout=null};hf.prototype.init=function(a){function e(oa){for(oa=oa.target;oa;oa=oa.parentNode){if(oa==la)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(oa.className))break}return!1}function q(oa){if(e(oa)&&!Q(T,oa)){if(T.somethingSelected())Xf={lineWise:!1,
text:T.getSelections()},"cut"==oa.type&&T.replaceSelection("",null,"cut");else if(T.options.lineWiseCopyCut){var bb=Ih(T);Xf={lineWise:!0,text:bb.text};"cut"==oa.type&&T.operation(function(){T.setSelections(bb.ranges,0,Af);T.replaceSelection("",null,"cut")})}else return;if(oa.clipboardData){oa.clipboardData.clearData();var ub=Xf.text.join("\n");oa.clipboardData.setData("Text",ub);if(oa.clipboardData.getData("Text")==ub){oa.preventDefault();return}}var Mb=hj();oa=Mb.firstChild;T.display.lineSpace.insertBefore(Mb,
T.display.lineSpace.firstChild);oa.value=Xf.text.join("\n");var zc=document.activeElement;mh(oa);setTimeout(function(){T.display.lineSpace.removeChild(Mb);zc.focus();zc==la&&w.showPrimarySelection()},50)}}var m=this,w=this,T=w.cm,la=w.div=a.lineDiv;Og(la,T.options.spellcheck,T.options.autocorrect,T.options.autocapitalize);le(la,"paste",function(oa){!e(oa)||Q(T,oa)||Bi(oa,T)||11>=Ye&&setTimeout(Gc(T,function(){return m.updateFromDOM()}),20)});le(la,"compositionstart",function(oa){m.composing={data:oa.data,
done:!1}});le(la,"compositionupdate",function(oa){m.composing||(m.composing={data:oa.data,done:!1})});le(la,"compositionend",function(oa){m.composing&&(oa.data!=m.composing.data&&m.readFromDOMSoon(),m.composing.done=!0)});le(la,"touchstart",function(){return w.forceCompositionEnd()});le(la,"input",function(){m.composing||m.readFromDOMSoon()});le(la,"copy",q);le(la,"cut",q)};hf.prototype.screenReaderLabelChanged=function(a){a?this.div.setAttribute("aria-label",a):this.div.removeAttribute("aria-label")};
hf.prototype.prepareSelection=function(){var a=xc(this.cm,!1);a.focus=document.activeElement==this.div;return a};hf.prototype.showSelection=function(a,e){a&&this.cm.display.view.length&&((a.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(a))};hf.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()};hf.prototype.showPrimarySelection=function(){var a=this.getSelection(),e=this.cm,q=e.doc.sel.primary(),m=q.from();q=q.to();if(e.display.viewTo==
e.display.viewFrom||m.line>=e.display.viewTo||q.line<e.display.viewFrom)a.removeAllRanges();else{var w=di(e,a.anchorNode,a.anchorOffset),T=di(e,a.focusNode,a.focusOffset);if(!w||w.bad||!T||T.bad||0!=Na($a(w,T),m)||0!=Na(na(w,T),q))if(w=e.display.view,m=m.line>=e.display.viewFrom&&jj(e,m)||{node:w[0].measure.map[2],offset:0},q=q.line<e.display.viewTo&&jj(e,q),q||(q=w[w.length-1].measure,q=q.maps?q.maps[q.maps.length-1]:q.map,q={node:q[q.length-1],offset:q[q.length-2]-q[q.length-3]}),m&&q){w=a.rangeCount&&
a.getRangeAt(0);try{var la=lh(m.node,m.offset,q.offset,q.node)}catch(oa){}la&&(!Rf&&e.state.focused?(a.collapse(m.node,m.offset),la.collapsed||(a.removeAllRanges(),a.addRange(la))):(a.removeAllRanges(),a.addRange(la)),w&&null==a.anchorNode?a.addRange(w):Rf&&this.startGracePeriod());this.rememberSelection()}else a.removeAllRanges()}};hf.prototype.startGracePeriod=function(){var a=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){a.gracePeriod=!1;a.selectionChanged()&&a.cm.operation(function(){return a.cm.curOp.selectionChanged=
!0})},20)};hf.prototype.showMultipleSelections=function(a){Y(this.cm.display.cursorDiv,a.cursors);Y(this.cm.display.selectionDiv,a.selection)};hf.prototype.rememberSelection=function(){var a=this.getSelection();this.lastAnchorNode=a.anchorNode;this.lastAnchorOffset=a.anchorOffset;this.lastFocusNode=a.focusNode;this.lastFocusOffset=a.focusOffset};hf.prototype.selectionInEditor=function(){var a=this.getSelection();if(!a.rangeCount)return!1;a=a.getRangeAt(0).commonAncestorContainer;return db(this.div,
a)};hf.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&document.activeElement==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())};hf.prototype.blur=function(){this.div.blur()};hf.prototype.getField=function(){return this.div};hf.prototype.supportsTouch=function(){return!0};hf.prototype.receivedFocus=function(){function a(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,a))}var e=this;this.selectionInEditor()?
this.pollSelection():ac(this.cm,function(){return e.cm.curOp.selectionChanged=!0});this.polling.set(this.cm.options.pollInterval,a)};hf.prototype.selectionChanged=function(){var a=this.getSelection();return a.anchorNode!=this.lastAnchorNode||a.anchorOffset!=this.lastAnchorOffset||a.focusNode!=this.lastFocusNode||a.focusOffset!=this.lastFocusOffset};hf.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var a=this.getSelection(),e=this.cm;if(jh&&
Fg&&this.cm.display.gutterSpecs.length&&kj(a.anchorNode))this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();else if(!this.composing){this.rememberSelection();var q=di(e,a.anchorNode,a.anchorOffset),m=di(e,a.focusNode,a.focusOffset);q&&m&&ac(e,function(){ja(e.doc,V(q,m),Af);if(q.bad||m.bad)e.curOp.selectionChanged=!0})}}};hf.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var a=
this.cm,e=a.display,q=a.doc.sel.primary(),m=q.from(),w=q.to();0==m.ch&&m.line>a.firstLine()&&(m=fa(m.line-1,l(a.doc,m.line-1).length));w.ch==l(a.doc,w.line).text.length&&w.line<a.lastLine()&&(w=fa(w.line+1,0));if(m.line<e.viewFrom||w.line>e.viewTo-1)return!1;var T;m.line==e.viewFrom||0==(T=I(a,m.line))?(q=E(e.view[0].line),T=e.view[0].node):(q=E(e.view[T].line),T=e.view[T-1].node.nextSibling);var la=I(a,w.line);la==e.view.length-1?(w=e.viewTo-1,e=e.lineDiv.lastChild):(w=E(e.view[la+1].line)-1,e=e.view[la+
1].node.previousSibling);if(!T)return!1;e=a.doc.splitLines(Di(a,T,e,q,w));for(T=p(a.doc,fa(q,0),fa(w,l(a.doc,w).text.length));1<e.length&&1<T.length;)if(Sa(e)==Sa(T))e.pop(),T.pop(),w--;else if(e[0]==T[0])e.shift(),T.shift(),q++;else break;var oa=0;la=0;for(var bb=e[0],ub=T[0],Mb=Math.min(bb.length,ub.length);oa<Mb&&bb.charCodeAt(oa)==ub.charCodeAt(oa);)++oa;bb=Sa(e);ub=Sa(T);for(Mb=Math.min(bb.length-(1==e.length?oa:0),ub.length-(1==T.length?oa:0));la<Mb&&bb.charCodeAt(bb.length-la-1)==ub.charCodeAt(ub.length-
la-1);)++la;if(1==e.length&&1==T.length&&q==m.line)for(;oa&&oa>m.ch&&bb.charCodeAt(bb.length-la-1)==ub.charCodeAt(ub.length-la-1);)oa--,la++;e[e.length-1]=bb.slice(0,bb.length-la).replace(/^\u200b+/,"");e[0]=e[0].slice(oa).replace(/\u200b+$/,"");m=fa(q,oa);q=fa(w,T.length?Sa(T).length-la:0);if(1<e.length||e[0]||Na(m,q))return Rd(a.doc,e,m,q,"+input"),!0};hf.prototype.ensurePolled=function(){this.forceCompositionEnd()};hf.prototype.reset=function(){this.forceCompositionEnd()};hf.prototype.forceCompositionEnd=
function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())};hf.prototype.readFromDOMSoon=function(){var a=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){a.readDOMTimeout=null;if(a.composing)if(a.composing.done)a.composing=null;else return;a.updateFromDOM()},80))};hf.prototype.updateFromDOM=function(){var a=this;!this.cm.isReadOnly()&&this.pollContent()||ac(this.cm,function(){return R(a.cm)})};
hf.prototype.setUneditable=function(a){a.contentEditable="false"};hf.prototype.onKeyPress=function(a){0==a.charCode||this.composing||(a.preventDefault(),this.cm.isReadOnly()||Gc(this.cm,Ai)(this.cm,String.fromCharCode(null==a.charCode?a.keyCode:a.charCode),0))};hf.prototype.readOnlyChanged=function(a){this.div.contentEditable=String("nocursor"!=a)};hf.prototype.onContextMenu=function(){};hf.prototype.resetPosition=function(){};hf.prototype.needsContentAttribute=!0;var Jf=function(a){this.cm=a;this.prevInput=
"";this.pollingFast=!1;this.polling=new Qe;this.hasSelection=!1;this.composing=null};Jf.prototype.init=function(a){function e(la){if(!Q(w,la)){if(w.somethingSelected())Xf={lineWise:!1,text:w.getSelections()};else if(w.options.lineWiseCopyCut){var oa=Ih(w);Xf={lineWise:!0,text:oa.text};"cut"==la.type?w.setSelections(oa.ranges,null,Af):(m.prevInput="",T.value=oa.text.join("\n"),mh(T))}else return;"cut"==la.type&&(w.state.cutIncoming=+new Date)}}var q=this,m=this,w=this.cm;this.createField(a);var T=
this.textarea;a.wrapper.insertBefore(this.wrapper,a.wrapper.firstChild);ih&&(T.style.width="0px");le(T,"input",function(){Se&&9<=Ye&&q.hasSelection&&(q.hasSelection=null);m.poll()});le(T,"paste",function(la){Q(w,la)||Bi(la,w)||(w.state.pasteIncoming=+new Date,m.fastPoll())});le(T,"cut",e);le(T,"copy",e);le(a.scroller,"paste",function(la){if(!id(a,la)&&!Q(w,la))if(T.dispatchEvent){var oa=new Event("paste");oa.clipboardData=la.clipboardData;T.dispatchEvent(oa)}else w.state.pasteIncoming=+new Date,m.focus()});
le(a.lineSpace,"selectstart",function(la){id(a,la)||K(la)});le(T,"compositionstart",function(){var la=w.getCursor("from");m.composing&&m.composing.range.clear();m.composing={start:la,range:w.markText(la,w.getCursor("to"),{className:"CodeMirror-composing"})}});le(T,"compositionend",function(){m.composing&&(m.poll(),m.composing.range.clear(),m.composing=null)})};Jf.prototype.createField=function(a){this.wrapper=hj();this.textarea=this.wrapper.firstChild};Jf.prototype.screenReaderLabelChanged=function(a){a?
this.textarea.setAttribute("aria-label",a):this.textarea.removeAttribute("aria-label")};Jf.prototype.prepareSelection=function(){var a=this.cm,e=a.display,q=a.doc,m=xc(a);if(a.options.moveInputWithCursor){a=Ld(a,q.sel.primary().head,"div");q=e.wrapper.getBoundingClientRect();var w=e.lineDiv.getBoundingClientRect();m.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,a.top+w.top-q.top));m.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,a.left+w.left-q.left))}return m};Jf.prototype.showSelection=
function(a){var e=this.cm.display;Y(e.cursorDiv,a.cursors);Y(e.selectionDiv,a.selection);null!=a.teTop&&(this.wrapper.style.top=a.teTop+"px",this.wrapper.style.left=a.teLeft+"px")};Jf.prototype.reset=function(a){if(!this.contextMenuPending&&!this.composing){var e=this.cm;e.somethingSelected()?(this.prevInput="",a=e.getSelection(),this.textarea.value=a,e.state.focused&&mh(this.textarea),Se&&9<=Ye&&(this.hasSelection=a)):a||(this.prevInput=this.textarea.value="",Se&&9<=Ye&&(this.hasSelection=null))}};
Jf.prototype.getField=function(){return this.textarea};Jf.prototype.supportsTouch=function(){return!1};Jf.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!kh||pb()!=this.textarea))try{this.textarea.focus()}catch(a){}};Jf.prototype.blur=function(){this.textarea.blur()};Jf.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0};Jf.prototype.receivedFocus=function(){this.slowPoll()};Jf.prototype.slowPoll=function(){var a=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,
function(){a.poll();a.cm.state.focused&&a.slowPoll()})};Jf.prototype.fastPoll=function(){function a(){q.poll()||e?(q.pollingFast=!1,q.slowPoll()):(e=!0,q.polling.set(60,a))}var e=!1,q=this;q.pollingFast=!0;q.polling.set(20,a)};Jf.prototype.poll=function(){var a=this,e=this.cm,q=this.textarea,m=this.prevInput;if(this.contextMenuPending||!e.state.focused||Xi(q)&&!m&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var w=q.value;if(w==m&&!e.somethingSelected())return!1;
if(Se&&9<=Ye&&this.hasSelection===w||kg&&/[\uf700-\uf7ff]/.test(w))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var T=w.charCodeAt(0);8203!=T||m||(m="");if(8666==T)return this.reset(),this.cm.execCommand("undo")}var la=0;for(T=Math.min(m.length,w.length);la<T&&m.charCodeAt(la)==w.charCodeAt(la);)++la;ac(e,function(){Ai(e,w.slice(la),m.length-la,null,a.composing?"*compose":null);1E3<w.length||-1<w.indexOf("\n")?q.value=a.prevInput="":a.prevInput=w;a.composing&&(a.composing.range.clear(),
a.composing.range=e.markText(a.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))});return!0};Jf.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)};Jf.prototype.onKeyPress=function(){Se&&9<=Ye&&(this.hasSelection=null);this.fastPoll()};Jf.prototype.onContextMenu=function(a){function e(){if(null!=la.selectionStart){var hc=w.somethingSelected(),Uc=""+(hc?la.value:"");la.value="";la.value=Uc;m.prevInput=hc?"":"";la.selectionStart=1;la.selectionEnd=
Uc.length;T.selForContextMenu=w.doc.sel}}function q(){if(m.contextMenuPending==q&&(m.contextMenuPending=!1,m.wrapper.style.cssText=Mb,la.style.cssText=ub,Se&&9>Ye&&T.scrollbars.setScrollTop(T.scroller.scrollTop=bb),null!=la.selectionStart)){(!Se||Se&&9>Ye)&&e();var hc=0,Uc=function(){T.selForContextMenu==w.doc.sel&&0==la.selectionStart&&0<la.selectionEnd&&""==m.prevInput?Gc(w,ba)(w):10>hc++?T.detectingSelectAll=setTimeout(Uc,500):(T.selForContextMenu=null,T.input.reset())};T.detectingSelectAll=setTimeout(Uc,
200)}}var m=this,w=m.cm,T=w.display,la=m.textarea;m.contextMenuPending&&m.contextMenuPending();var oa=Ge(w,a),bb=T.scroller.scrollTop;if(oa&&!Wf){w.options.resetSelectionOnContextMenu&&-1==w.doc.sel.contains(oa)&&Gc(w,ja)(w.doc,V(oa),Af);var ub=la.style.cssText,Mb=m.wrapper.style.cssText;oa=m.wrapper.offsetParent.getBoundingClientRect();m.wrapper.style.cssText="position: static";la.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(a.clientY-oa.top-5)+"px; left: "+(a.clientX-
oa.left-5)+"px;\n      z-index: 1000; background: "+(Se?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity\x3d5);";if(Pf)var zc=window.scrollY;T.input.focus();Pf&&window.scrollTo(null,zc);T.input.reset();w.somethingSelected()||(la.value=m.prevInput=" ");m.contextMenuPending=q;T.selForContextMenu=w.doc.sel;clearTimeout(T.detectingSelectAll);Se&&9<=Ye&&e();if(Kh){ma(a);var ic=function(){jb(window,"mouseup",
ic);setTimeout(q,20)};le(window,"mouseup",ic)}else setTimeout(q,50)}};Jf.prototype.readOnlyChanged=function(a){a||this.reset();this.textarea.disabled="nocursor"==a;this.textarea.readOnly=!!a};Jf.prototype.setUneditable=function(){};Jf.prototype.needsContentAttribute=!1;(function(a){function e(m,w,T,la){a.defaults[m]=w;T&&(q[m]=la?function(oa,bb,ub){ub!=zh&&T(oa,bb,ub)}:T)}var q=a.optionHandlers;a.defineOption=e;a.Init=zh;e("value","",function(m,w){return m.setValue(w)},!0);e("mode",null,function(m,
w){m.doc.modeOption=w;ob(m)},!0);e("indentUnit",2,ob,!0);e("indentWithTabs",!1);e("smartIndent",!0);e("tabSize",4,function(m){hb(m);bf(m);R(m)},!0);e("lineSeparator",null,function(m,w){if(m.doc.lineSep=w){var T=[],la=m.doc.first;m.doc.iter(function(bb){for(var ub=0;;){var Mb=bb.text.indexOf(w,ub);if(-1==Mb)break;ub=Mb+w.length;T.push(fa(la,Mb))}la++});for(var oa=T.length-1;0<=oa;oa--)Rd(m.doc,w,T[oa],fa(T[oa].line,T[oa].ch+w.length))}});e("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200c\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,
function(m,w,T){m.state.specialChars=new RegExp(w.source+(w.test("\t")?"":"|\t"),"g");T!=zh&&m.refresh()});e("specialCharPlaceholder",zb,function(m){return m.refresh()},!0);e("electricChars",!0);e("inputStyle",kh?"contenteditable":"textarea",function(){throw Error("inputStyle can not (yet) be changed in a running editor");},!0);e("spellcheck",!1,function(m,w){return m.getInputField().spellcheck=w},!0);e("autocorrect",!1,function(m,w){return m.getInputField().autocorrect=w},!0);e("autocapitalize",
!1,function(m,w){return m.getInputField().autocapitalize=w},!0);e("rtlMoveVisually",!$f);e("wholeLineUpdateBefore",!0);e("theme","default",function(m){fj(m);je(m)},!0);e("keyMap","default",function(m,w,T){w=ah(w);(T=T!=zh&&ah(T))&&T.detach&&T.detach(m,w);w.attach&&w.attach(m,T||null)});e("extraKeys",null);e("configureMouse",null);e("lineWrapping",!1,Qj,!0);e("gutters",[],function(m,w){m.display.gutterSpecs=Kd(w,m.options.lineNumbers);je(m)},!0);e("fixedGutter",!0,function(m,w){m.display.gutters.style.left=
w?df(m.display)+"px":"0";m.refresh()},!0);e("coverGutterNextToScrollbar",!1,function(m){return Z(m)},!0);e("scrollbarStyle","native",function(m){Gb(m);Z(m);m.display.scrollbars.setScrollTop(m.doc.scrollTop);m.display.scrollbars.setScrollLeft(m.doc.scrollLeft)},!0);e("lineNumbers",!1,function(m,w){m.display.gutterSpecs=Kd(m.options.gutters,w);je(m)},!0);e("firstLineNumber",1,je,!0);e("lineNumberFormatter",function(m){return m},je,!0);e("showCursorWhenSelecting",!1,dc,!0);e("resetSelectionOnContextMenu",
!0);e("lineWiseCopyCut",!0);e("pasteLinesPerSelection",!0);e("selectionsMayTouch",!1);e("readOnly",!1,function(m,w){"nocursor"==w&&(Zd(m),m.display.input.blur());m.display.input.readOnlyChanged(w)});e("screenReaderLabel",null,function(m,w){m.display.input.screenReaderLabelChanged(""===w?null:w)});e("disableInput",!1,function(m,w){w||m.display.input.reset()},!0);e("dragDrop",!0,yi);e("allowDropFileTypes",null);e("cursorBlinkRate",530);e("cursorScrollMargin",0);e("cursorHeight",1,dc,!0);e("singleCursorHeightPerLine",
!0,dc,!0);e("workTime",100);e("workDelay",100);e("flattenSpans",!0,hb,!0);e("addModeClass",!1,hb,!0);e("pollInterval",100);e("undoDepth",200,function(m,w){return m.doc.history.undoDepth=w});e("historyEventDelay",1250);e("viewportMargin",10,function(m){return m.refresh()},!0);e("maxHighlightLength",1E4,hb,!0);e("moveInputWithCursor",!0,function(m,w){w||m.display.input.resetPosition()});e("tabindex",null,function(m,w){return m.display.input.getField().tabIndex=w||""});e("autofocus",null);e("direction",
"ltr",function(m,w){return m.doc.setDirection(w)},!0);e("phrases",null)})(yf);(function(a){var e=a.optionHandlers,q=a.helpers={};a.prototype={constructor:a,focus:function(){window.focus();this.display.input.focus()},setOption:function(m,w){var T=this.options,la=T[m];if(T[m]!=w||"mode"==m)T[m]=w,e.hasOwnProperty(m)&&Gc(this,e[m])(this,w,la),Xa(this,"optionChange",this,m)},getOption:function(m){return this.options[m]},getDoc:function(){return this.doc},addKeyMap:function(m,w){this.state.keyMaps[w?"push":
"unshift"](ah(m))},removeKeyMap:function(m){for(var w=this.state.keyMaps,T=0;T<w.length;++T)if(w[T]==m||w[T].name==m)return w.splice(T,1),!0},addOverlay:Dc(function(m,w){var T=m.token?m:a.getMode(this.options,m);if(T.startState)throw Error("Overlays may not be stateful.");za(this.state.overlays,{mode:T,modeSpec:m,opaque:w&&w.opaque,priority:w&&w.priority||0},function(la){return la.priority});this.state.modeGen++;R(this)}),removeOverlay:Dc(function(m){for(var w=this.state.overlays,T=0;T<w.length;++T){var la=
w[T].modeSpec;if(la==m||"string"==typeof m&&la.name==m){w.splice(T,1);this.state.modeGen++;R(this);break}}}),indentLine:Dc(function(m,w,T){"string"!=typeof w&&"number"!=typeof w&&(w=null==w?this.options.smartIndent?"smart":"prev":w?"add":"subtract");aa(this.doc,m)&&Ng(this,m,w,T)}),indentSelection:Dc(function(m){for(var w=this.doc.sel.ranges,T=-1,la=0;la<w.length;la++){var oa=w[la];if(oa.empty())oa.head.line>T&&(Ng(this,oa.head.line,m,!0),T=oa.head.line,la==this.doc.sel.primIndex&&Be(this));else{var bb=
oa.from();oa=oa.to();var ub=Math.max(T,bb.line);T=Math.min(this.lastLine(),oa.line-(oa.ch?0:1))+1;for(oa=ub;oa<T;++oa)Ng(this,oa,m);oa=this.doc.sel.ranges;0==bb.ch&&w.length==oa.length&&0<oa[la].from().ch&&Dd(this.doc,la,new Ze(bb,oa[la].to()),Af)}}}),getTokenAt:function(m,w){return ec(this,m,w)},getLineTokens:function(m,w){return ec(this,fa(m),w,!0)},getTokenTypeAt:function(m){m=sb(this.doc,m);var w=vc(this,l(this.doc,m.line)),T=0,la=(w.length-1)/2;m=m.ch;if(0==m)w=w[2];else for(;;){var oa=T+la>>
1;if((oa?w[2*oa-1]:0)>=m)la=oa;else if(w[2*oa+1]<m)T=oa+1;else{w=w[2*oa+2];break}}T=w?w.indexOf("overlay "):-1;return 0>T?w:0==T?null:w.slice(0,T-1)},getModeAt:function(m){var w=this.doc.mode;return w.innerMode?a.innerMode(w,this.getTokenAt(m).state).mode:w},getHelper:function(m,w){return this.getHelpers(m,w)[0]},getHelpers:function(m,w){var T=[];if(!q.hasOwnProperty(w))return T;var la=q[w];m=this.getModeAt(m);if("string"==typeof m[w])la[m[w]]&&T.push(la[m[w]]);else if(m[w])for(var oa=0;oa<m[w].length;oa++){var bb=
la[m[w][oa]];bb&&T.push(bb)}else m.helperType&&la[m.helperType]?T.push(la[m.helperType]):la[m.name]&&T.push(la[m.name]);for(w=0;w<la._global.length;w++)oa=la._global[w],oa.pred(m,this)&&-1==Pa(T,oa.val)&&T.push(oa.val);return T},getStateAfter:function(m,w){var T=this.doc;m=Math.max(T.first,Math.min(null==m?T.first+T.size-1:m,T.first+T.size-1));return Vc(this,m+1,w).state},cursorCoords:function(m,w){var T=this.doc.sel.primary();m=null==m?T.head:"object"==typeof m?sb(this.doc,m):m?T.from():T.to();return Ld(this,
m,w||"page")},charCoords:function(m,w){return xd(this,sb(this.doc,m),w||"page")},coordsChar:function(m,w){m=md(this,m,w||"page");return wd(this,m.left,m.top)},lineAtHeight:function(m,w){m=md(this,{top:m,left:0},w||"page").top;return z(this.doc,m+this.display.viewOffset)},heightAtLine:function(m,w,T){var la=!1;if("number"==typeof m){var oa=this.doc.first+this.doc.size-1;m<this.doc.first?m=this.doc.first:m>oa&&(m=oa,la=!0);m=l(this.doc,m)}return Xd(this,m,{top:0,left:0},w||"page",T||la).top+(la?this.doc.height-
U(m):0)},defaultTextHeight:function(){return oe(this.display)},defaultCharWidth:function(){return Yd(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(m,w,T,la,oa){var bb=this.display;m=Ld(this,sb(this.doc,m));var ub=m.bottom,Mb=m.left;w.style.position="absolute";w.setAttribute("cm-ignore-events","true");this.display.input.setUneditable(w);bb.sizer.appendChild(w);if("over"==la)ub=m.top;else if("above"==la||"near"==la){var zc=Math.max(bb.wrapper.clientHeight,
this.doc.height),ic=Math.max(bb.sizer.clientWidth,bb.lineSpace.clientWidth);("above"==la||m.bottom+w.offsetHeight>zc)&&m.top>w.offsetHeight?ub=m.top-w.offsetHeight:m.bottom+w.offsetHeight<=zc&&(ub=m.bottom);Mb+w.offsetWidth>ic&&(Mb=ic-w.offsetWidth)}w.style.top=ub+"px";w.style.left=w.style.right="";"right"==oa?(Mb=bb.sizer.clientWidth-w.offsetWidth,w.style.right="0px"):("left"==oa?Mb=0:"middle"==oa&&(Mb=(bb.sizer.clientWidth-w.offsetWidth)/2),w.style.left=Mb+"px");T&&(m=wf(this,{left:Mb,top:ub,right:Mb+
w.offsetWidth,bottom:ub+w.offsetHeight}),null!=m.scrollTop&&nf(this,m.scrollTop),null!=m.scrollLeft&&Ne(this,m.scrollLeft))},triggerOnKeyDown:Dc(aj),triggerOnKeyPress:Dc(ai),triggerOnKeyUp:Qf,triggerOnMouseDown:Dc(Gh),execCommand:function(m){if(xh.hasOwnProperty(m))return xh[m].call(null,this)},triggerElectric:Dc(function(m){Ci(this,m)}),findPosH:function(m,w,T,la){var oa=1;0>w&&(oa=-1,w=-w);m=sb(this.doc,m);for(var bb=0;bb<w&&(m=Ei(this.doc,m,oa,T,la),!m.hitSide);++bb);return m},moveH:Dc(function(m,
w){var T=this;this.extendSelectionsBy(function(la){return T.display.shift||T.doc.extend||la.empty()?Ei(T.doc,la.head,m,w,T.options.rtlMoveVisually):0>m?la.from():la.to()},nh)}),deleteH:Dc(function(m,w){var T=this.doc;this.doc.sel.somethingSelected()?T.replaceSelection("",null,"+delete"):ch(this,function(la){var oa=Ei(T,la.head,m,w,!1);return 0>m?{from:oa,to:la.head}:{from:la.head,to:oa}})}),findPosV:function(m,w,T,la){var oa=1;0>w&&(oa=-1,w=-w);var bb=sb(this.doc,m);for(m=0;m<w&&(bb=Ld(this,bb,"div"),
null==la?la=bb.left:bb.left=la,bb=ij(this,bb,oa,T),!bb.hitSide);++m);return bb},moveV:Dc(function(m,w){var T=this,la=this.doc,oa=[],bb=!this.display.shift&&!la.extend&&la.sel.somethingSelected();la.extendSelectionsBy(function(Mb){if(bb)return 0>m?Mb.from():Mb.to();var zc=Ld(T,Mb.head,"div");null!=Mb.goalColumn&&(zc.left=Mb.goalColumn);oa.push(zc.left);var ic=ij(T,zc,m,w);"page"==w&&Mb==la.sel.primary()&&bd(T,xd(T,ic,"div").top-zc.top);return ic},nh);if(oa.length)for(var ub=0;ub<la.sel.ranges.length;ub++)la.sel.ranges[ub].goalColumn=
oa[ub]}),findWordAt:function(m){var w=l(this.doc,m.line).text,T=m.ch,la=m.ch;if(w){var oa=this.getHelper(m,"wordChars");"before"!=m.sticky&&la!=w.length||!T?++la:--T;var bb=w.charAt(T);for(bb=Ua(bb,oa)?function(ub){return Ua(ub,oa)}:/\s/.test(bb)?function(ub){return/\s/.test(ub)}:function(ub){return!/\s/.test(ub)&&!Ua(ub)};0<T&&bb(w.charAt(T-1));)--T;for(;la<w.length&&bb(w.charAt(la));)++la}return new Ze(fa(m.line,T),fa(m.line,la))},toggleOverwrite:function(m){if(null==m||m!=this.state.overwrite)(this.state.overwrite=
!this.state.overwrite)?Ib(this.display.cursorDiv,"CodeMirror-overwrite"):mg(this.display.cursorDiv,"CodeMirror-overwrite"),Xa(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==pb()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Dc(function(m,w){ue(this,m,w)}),getScrollInfo:function(){var m=this.display.scroller;return{left:m.scrollLeft,top:m.scrollTop,height:m.scrollHeight-Fd(this)-this.display.barHeight,
width:m.scrollWidth-Fd(this)-this.display.barWidth,clientHeight:ee(this),clientWidth:Ud(this)}},scrollIntoView:Dc(function(m,w){null==m?(m={from:this.doc.sel.primary().head,to:null},null==w&&(w=this.options.cursorScrollMargin)):"number"==typeof m?m={from:fa(m,0),to:null}:null==m.from&&(m={from:m,to:null});m.to||(m.to=m.from);m.margin=w||0;null!=m.from.line?(De(this),this.curOp.scrollToPos=m):vf(this,m.from,m.to,m.margin)}),setSize:Dc(function(m,w){var T=this,la=function(bb){return"number"==typeof bb||
/^\d+$/.test(String(bb))?bb+"px":bb};null!=m&&(this.display.wrapper.style.width=la(m));null!=w&&(this.display.wrapper.style.height=la(w));this.options.lineWrapping&&qe(this);var oa=this.display.viewFrom;this.doc.iter(oa,this.display.viewTo,function(bb){if(bb.widgets)for(var ub=0;ub<bb.widgets.length;ub++)if(bb.widgets[ub].noHScroll){ra(T,oa,"widget");break}++oa});this.curOp.forceUpdate=!0;Xa(this,"refresh",this)}),operation:function(m){return ac(this,m)},startOperation:function(){return Hb(this)},
endOperation:function(){return Tb(this)},refresh:Dc(function(){var m=this.display.cachedTextHeight;R(this);this.curOp.forceUpdate=!0;bf(this);ue(this,this.doc.scrollLeft,this.doc.scrollTop);ke(this.display);(null==m||.5<Math.abs(m-oe(this.display))||this.options.lineWrapping)&&Ve(this);Xa(this,"refresh",this)}),swapDoc:Dc(function(m){var w=this.doc;w.cm=null;this.state.selectingText&&this.state.selectingText();gc(this,m);bf(this);this.display.input.reset();ue(this,m.scrollLeft,m.scrollTop);this.curOp.forceScroll=
!0;lc(this,"swapDoc",this,w);return w}),phrase:function(m){var w=this.options.phrases;return w&&Object.prototype.hasOwnProperty.call(w,m)?w[m]:m},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};O(a);a.registerHelper=function(m,w,T){q.hasOwnProperty(m)||(q[m]=a[m]={_global:[]});q[m][w]=T};a.registerGlobalHelper=
function(m,w,T,la){a.registerHelper(m,w,la);q[m]._global.push({pred:T,val:la})}})(yf);var Uj="iter insert remove copy getEditor constructor".split(" "),Th;for(Th in Tf.prototype)Tf.prototype.hasOwnProperty(Th)&&0>Pa(Uj,Th)&&(yf.prototype[Th]=function(a){return function(){return a.apply(this.doc,arguments)}}(Tf.prototype[Th]));O(Tf);yf.inputStyles={textarea:Jf,contenteditable:hf};yf.defineMode=function(a){yf.defaults.mode||"null"==a||(yf.defaults.mode=a);S.apply(this,arguments)};yf.defineMIME=function(a,
e){qh[a]=e};yf.defineMode("null",function(){return{token:function(a){return a.skipToEnd()}}});yf.defineMIME("text/plain","null");yf.defineExtension=function(a,e){yf.prototype[a]=e};yf.defineDocExtension=function(a,e){Tf.prototype[a]=e};yf.fromTextArea=function(a,e){function q(){a.value=oa.getValue()}e=e?nb(e):{};e.value=a.value;!e.tabindex&&a.tabIndex&&(e.tabindex=a.tabIndex);!e.placeholder&&a.placeholder&&(e.placeholder=a.placeholder);if(null==e.autofocus){var m=pb();e.autofocus=m==a||null!=a.getAttribute("autofocus")&&
m==document.body}if(a.form&&(le(a.form,"submit",q),!e.leaveSubmitMethodAlone)){var w=a.form;var T=w.submit;try{var la=w.submit=function(){q();w.submit=T;w.submit();w.submit=la}}catch(bb){}}e.finishInit=function(bb){bb.save=q;bb.getTextArea=function(){return a};bb.toTextArea=function(){bb.toTextArea=isNaN;q();a.parentNode.removeChild(bb.getWrapperElement());a.style.display="";a.form&&(jb(a.form,"submit",q),e.leaveSubmitMethodAlone||"function"!=typeof a.form.submit||(a.form.submit=T))}};a.style.display=
"none";var oa=yf(function(bb){return a.parentNode.insertBefore(bb,a.nextSibling)},e);return oa};(function(a){a.off=jb;a.on=le;a.wheelEventPixels=Gf;a.Doc=Tf;a.splitLines=Ii;a.countColumn=mb;a.findColumn=Ba;a.isWordChar=xa;a.Pass=Rg;a.signal=Xa;a.Line=Ig;a.changeEnd=ca;a.scrollbarModel=Mh;a.Pos=fa;a.cmpPos=Na;a.modes=dh;a.mimeModes=qh;a.resolveMode=qa;a.getMode=ta;a.modeExtensions=Hg;a.extendMode=ha;a.copyState=P;a.startState=u;a.innerMode=t;a.commands=xh;a.keyMap=wh;a.keyName=vi;a.isModifierKey=Mg;
a.lookupKey=$g;a.normalizeKeyMap=ag;a.StringStream=Bf;a.SharedTextMarker=th;a.TextMarker=ng;a.LineWidget=sh;a.e_preventDefault=K;a.e_stopPropagation=ka;a.e_stop=ma;a.addClass=Ib;a.contains=db;a.rmClass=mg;a.keyNames=wg})(yf);yf.version="5.59.1";return yf})};
shadow$provide[72]=function(Yb,Ob,Lc,fc){(function(n){"object"===typeof fc&&"object"===typeof Lc?n(Ob(71)):"function"===typeof define&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)})(function(n){n.defineMode("clojure",function(v){function Y(Ea,gb){if(Ea.eatSpace()||Ea.eat(","))return["space",null];if(Ea.match(Sa))return[null,"number"];if(Ea.match(kb))return[null,"string-2"];if(Ea.eat(/^"/))return(gb.tokenize=Qa)(Ea,gb);if(Ea.eat(/^[(\[{]/))return["open","bracket"];if(Ea.eat(/^[)\]}]/))return["close",
"bracket"];if(Ea.eat(/^;/))return Ea.skipToEnd(),["space","comment"];if(Ea.eat(/^[#'@^`~]/))return[null,"meta"];var xa=Ea.match(za);xa=xa&&xa[0];return xa?"comment"===xa&&"("===gb.lastToken?(gb.tokenize=Qb)(Ea,gb):pb(xa,nb)||":"===xa.charAt(0)?["symbol","atom"]:pb(xa,mb)||pb(xa,Pa)?["symbol","keyword"]:"("===gb.lastToken?["symbol","builtin"]:["symbol","variable"]:(Ea.next(),Ea.eatWhile(function(Ua){return!pb(Ua,Ca)}),[null,"error"])}function Qa(Ea,gb){for(var xa=!1,Ua;Ua=Ea.next();){if('"'===Ua&&
!xa){gb.tokenize=Y;break}xa=!xa&&"\\"===Ua}return[null,"string"]}function Qb(Ea,gb){for(var xa=1,Ua;Ua=Ea.next();)if(")"===Ua&&xa--,"("===Ua&&xa++,0===xa){Ea.backUp(1);gb.tokenize=Y;break}return["space","comment"]}function db(Ea){for(var gb={},xa=0;xa<Ea.length;++xa)gb[Ea[xa]]=!0;return gb}function pb(Ea,gb){if(gb instanceof RegExp)return gb.test(Ea);if(gb instanceof Object)return gb.propertyIsEnumerable(Ea)}var Ib=["false","nil","true"],Ab=". catch def do if monitor-enter monitor-exit new quote recur set! throw try var".split(" "),
Va="* *' *1 *2 *3 *agent* *allow-unresolved-vars* *assert* *clojure-version* *command-line-args* *compile-files* *compile-path* *compiler-options* *data-readers* *default-data-reader-fn* *e *err* *file* *flush-on-newline* *fn-loader* *in* *math-context* *ns* *out* *print-dup* *print-length* *print-level* *print-meta* *print-namespace-maps* *print-readably* *read-eval* *reader-resolver* *source-path* *suppress-read* *unchecked-math* *use-context-classloader* *verbose-defrecords* *warn-on-reflection* + +' - -' -\x3e -\x3e\x3e -\x3eArrayChunk -\x3eEduction -\x3eVec -\x3eVecNode -\x3eVecSeq -cache-protocol-fn -reset-methods .. / \x3c \x3c\x3d \x3d \x3d\x3d \x3e \x3e\x3d EMPTY-NODE Inst StackTraceElement-\x3evec Throwable-\x3emap accessor aclone add-classpath add-watch agent agent-error agent-errors aget alength alias all-ns alter alter-meta! alter-var-root amap ancestors and any? apply areduce array-map as-\x3e aset aset-boolean aset-byte aset-char aset-double aset-float aset-int aset-long aset-short assert assoc assoc! assoc-in associative? atom await await-for await1 bases bean bigdec bigint biginteger binding bit-and bit-and-not bit-clear bit-flip bit-not bit-or bit-set bit-shift-left bit-shift-right bit-test bit-xor boolean boolean-array boolean? booleans bound-fn bound-fn* bound? bounded-count butlast byte byte-array bytes bytes? case cast cat char char-array char-escape-string char-name-string char? chars chunk chunk-append chunk-buffer chunk-cons chunk-first chunk-next chunk-rest chunked-seq? class class? clear-agent-errors clojure-version coll? comment commute comp comparator compare compare-and-set! compile complement completing concat cond cond-\x3e cond-\x3e\x3e condp conj conj! cons constantly construct-proxy contains? count counted? create-ns create-struct cycle dec dec' decimal? declare dedupe default-data-readers definline definterface defmacro defmethod defmulti defn defn- defonce defprotocol defrecord defstruct deftype delay delay? deliver denominator deref derive descendants destructure disj disj! dissoc dissoc! distinct distinct? doall dorun doseq dosync dotimes doto double double-array double? doubles drop drop-last drop-while eduction empty empty? ensure ensure-reduced enumeration-seq error-handler error-mode eval even? every-pred every? ex-data ex-info extend extend-protocol extend-type extenders extends? false? ffirst file-seq filter filterv find find-keyword find-ns find-protocol-impl find-protocol-method find-var first flatten float float-array float? floats flush fn fn? fnext fnil for force format frequencies future future-call future-cancel future-cancelled? future-done? future? gen-class gen-interface gensym get get-in get-method get-proxy-class get-thread-bindings get-validator group-by halt-when hash hash-combine hash-map hash-ordered-coll hash-set hash-unordered-coll ident? identical? identity if-let if-not if-some ifn? import in-ns inc inc' indexed? init-proxy inst-ms inst-ms* inst? instance? int int-array int? integer? interleave intern interpose into into-array ints io! isa? iterate iterator-seq juxt keep keep-indexed key keys keyword keyword? last lazy-cat lazy-seq let letfn line-seq list list* list? load load-file load-reader load-string loaded-libs locking long long-array longs loop macroexpand macroexpand-1 make-array make-hierarchy map map-entry? map-indexed map? mapcat mapv max max-key memfn memoize merge merge-with meta method-sig methods min min-key mix-collection-hash mod munge name namespace namespace-munge nat-int? neg-int? neg? newline next nfirst nil? nnext not not-any? not-empty not-every? not\x3d ns ns-aliases ns-imports ns-interns ns-map ns-name ns-publics ns-refers ns-resolve ns-unalias ns-unmap nth nthnext nthrest num number? numerator object-array odd? or parents partial partition partition-all partition-by pcalls peek persistent! pmap pop pop! pop-thread-bindings pos-int? pos? pr pr-str prefer-method prefers primitives-classnames print print-ctor print-dup print-method print-simple print-str printf println println-str prn prn-str promise proxy proxy-call-with-super proxy-mappings proxy-name proxy-super push-thread-bindings pvalues qualified-ident? qualified-keyword? qualified-symbol? quot rand rand-int rand-nth random-sample range ratio? rational? rationalize re-find re-groups re-matcher re-matches re-pattern re-seq read read-line read-string reader-conditional reader-conditional? realized? record? reduce reduce-kv reduced reduced? reductions ref ref-history-count ref-max-history ref-min-history ref-set refer refer-clojure reify release-pending-sends rem remove remove-all-methods remove-method remove-ns remove-watch repeat repeatedly replace replicate require reset! reset-meta! reset-vals! resolve rest restart-agent resultset-seq reverse reversible? rseq rsubseq run! satisfies? second select-keys send send-off send-via seq seq? seqable? seque sequence sequential? set set-agent-send-executor! set-agent-send-off-executor! set-error-handler! set-error-mode! set-validator! set? short short-array shorts shuffle shutdown-agents simple-ident? simple-keyword? simple-symbol? slurp some some-\x3e some-\x3e\x3e some-fn some? sort sort-by sorted-map sorted-map-by sorted-set sorted-set-by sorted? special-symbol? spit split-at split-with str string? struct struct-map subs subseq subvec supers swap! swap-vals! symbol symbol? sync tagged-literal tagged-literal? take take-last take-nth take-while test the-ns thread-bound? time to-array to-array-2d trampoline transduce transient tree-seq true? type unchecked-add unchecked-add-int unchecked-byte unchecked-char unchecked-dec unchecked-dec-int unchecked-divide-int unchecked-double unchecked-float unchecked-inc unchecked-inc-int unchecked-int unchecked-long unchecked-multiply unchecked-multiply-int unchecked-negate unchecked-negate-int unchecked-remainder-int unchecked-short unchecked-subtract unchecked-subtract-int underive unquote unquote-splicing unreduced unsigned-bit-shift-right update update-in update-proxy uri? use uuid? val vals var-get var-set var? vary-meta vec vector vector-of vector? volatile! volatile? vreset! vswap! when when-first when-let when-not when-some while with-bindings with-bindings* with-in-str with-loading-context with-local-vars with-meta with-open with-out-str with-precision with-redefs with-redefs-fn xml-seq zero? zipmap".split(" ");
n.registerHelper("hintWords","clojure",[].concat(Ib,Ab,Va));var nb=db(Ib),mb=db(Ab),Pa=db(Va),Ba=db("-\x3e -\x3e\x3e as-\x3e binding bound-fn case catch comment cond cond-\x3e cond-\x3e\x3e condp def definterface defmethod defn defmacro defprotocol defrecord defstruct deftype do doseq dotimes doto extend extend-protocol extend-type fn for future if if-let if-not if-some let letfn locking loop ns proxy reify struct-map some-\x3e some-\x3e\x3e try when when-first when-let when-not when-some while with-bindings with-bindings* with-in-str with-loading-context with-local-vars with-meta with-open with-out-str with-precision with-redefs with-redefs-fn".split(" ")),
Ca=/^(?:[\\\[\]\s"(),;@^`{}~]|$)/,Sa=/^(?:[+\-]?\d+(?:(?:N|(?:[eE][+\-]?\d+))|(?:\.?\d*(?:M|(?:[eE][+\-]?\d+))?)|\/\d+|[xX][0-9a-fA-F]+|r[0-9a-zA-Z]+)?(?=[\\\[\]\s"#'(),;@^`{}~]|$))/,kb=/^(?:\\(?:backspace|formfeed|newline|return|space|tab|o[0-7]{3}|u[0-9A-Fa-f]{4}|x[0-9A-Fa-f]{4}|.)?(?=[\\\[\]\s"(),;@^`{}~]|$))/,za=/^(?:(?:[^\\\/\[\]\d\s"#'(),;@^`{}~.][^\\\[\]\s"(),;@^`{}~.\/]*(?:\.[^\\\/\[\]\d\s"#'(),;@^`{}~.][^\\\[\]\s"(),;@^`{}~.\/]*)*\/)?(?:\/|[^\\\/\[\]\d\s"#'(),;@^`{}~][^\\\[\]\s"(),;@^`{}~]*)*(?=[\\\[\]\s"(),;@^`{}~]|$))/;
return{startState:function(){return{ctx:{prev:null,start:0,indentTo:0},lastToken:null,tokenize:Y}},token:function(Ea,gb){Ea.sol()&&"number"!==typeof gb.ctx.indentTo&&(gb.ctx.indentTo=gb.ctx.start+1);var xa=gb.tokenize(Ea,gb),Ua=xa[0];xa=xa[1];var Ja=Ea.current();"space"!==Ua&&("("===gb.lastToken&&null===gb.ctx.indentTo?"symbol"===Ua&&pb(Ja,Ba)?gb.ctx.indentTo=gb.ctx.start+v.indentUnit:gb.ctx.indentTo="next":"next"===gb.ctx.indentTo&&(gb.ctx.indentTo=Ea.column()),gb.lastToken=Ja);"open"===Ua?gb.ctx=
{prev:gb.ctx,start:Ea.column(),indentTo:null}:"close"===Ua&&(gb.ctx=gb.ctx.prev||gb.ctx);return xa},indent:function(Ea){var gb=Ea.ctx.indentTo;return"number"===typeof gb?gb:Ea.ctx.start+1},closeBrackets:{pairs:'()[]{}""'},lineComment:";;"}});n.defineMIME("text/x-clojure","clojure");n.defineMIME("text/x-clojurescript","clojure");n.defineMIME("application/edn","clojure")})};
var aa="cljs.core",ba="cljs.pprint",ca="cljs.spec.alpha",da="clojure.string",fa="datascript.db",ha="datascript.pull-api",ia="literate.app",ja="taoensso.sente",g,la=la||{},ma=this||self;function na(){}
function pa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function qa(a){return"array"==pa(a)}function ra(a){var b=pa(a);return"array"==b||"object"==b&&"number"==typeof a.length}function sa(a){return"function"==pa(a)}function ta(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ya(a){return a[za]||(a[za]=++Aa)}var za="closure_uid_"+(1E9*Math.random()>>>0),Aa=0;function Da(a,b,c){return a.call.apply(a.bind,arguments)}
function Ea(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}return function(){return a.apply(b,arguments)}}function Fa(a,b,c){Fa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Da:Ea;return Fa.apply(null,arguments)}var Ga=Date.now||function(){return+new Date};
function Ha(a,b){a=a.split(".");var c=ma;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}:c[d]=b}function Ia(a,b){function c(){}c.prototype=b.prototype;a.qd=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(d,e,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[e].apply(d,h)}};function Ja(a){Ja[" "](a);return a}Ja[" "]=na;function Ka(a,b){var c=La;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};function Ma(a){let b=!1,c;return function(){b||(c=a(),b=!0);return c}};var Na=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,0);for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Oa=Array.prototype.lastIndexOf?function(a,b){return Array.prototype.lastIndexOf.call(a,b,a.length-1)}:function(a,b){var c=a.length-1;0>c&&(c=Math.max(0,a.length+c));if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.lastIndexOf(b,c);
for(;0<=c;c--)if(c in a&&a[c]===b)return c;return-1},Pa=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e="string"===typeof a?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Qa=Array.prototype.some?function(a,b){return Array.prototype.some.call(a,b,void 0)}:function(a,b){for(var c=a.length,d="string"===typeof a?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a))return!0;return!1},Sa=Array.prototype.every?function(a,b,
c){return Array.prototype.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e="string"===typeof a?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function Ta(a){a:{var b=Va;for(var c=a.length,d="string"===typeof a?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:"string"===typeof a?a.charAt(b):a[b]}function Wa(a){if(!qa(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0}
function Xa(a,b){b=Na(a,b);var c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c}function Ya(a){return Array.prototype.concat.apply([],arguments)}function Za(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function $a(a,b){a.sort(b||ab)}function bb(a,b){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]={index:d,value:a[d]};var e=b||ab;$a(c,function(f,h){return e(f.value,h.value)||f.index-h.index});for(d=0;d<a.length;d++)a[d]=c[d].value}
function ab(a,b){return a>b?1:a<b?-1:0}function cb(a){for(var b=Math.random,c=a.length-1;0<c;c--){var d=Math.floor(b()*(c+1)),e=a[c];a[c]=a[d];a[d]=e}};function db(a){this.ti=a}db.prototype.toString=function(){return this.ti};var eb=new db("IFRAME"),fb=new db("SCRIPT");function gb(a){const b=[];let c=0;for(const d in a)b[c++]=a[d];return b}function hb(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b}function ib(a,b,c){return null!==a&&b in a?a[b]:c}function jb(a,b,c){a[b]=c}var kb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function lb(a,b){let c,d;for(let e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(let f=0;f<kb.length;f++)c=kb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function mb(a,b){this.si=a===nb&&b||"";this.Xg=ob}var ob={},nb={},pb=new mb(nb,"");function qb(){}qb.prototype.nd=function(){return this};(new qb).nd("");function rb(a,b){this.li=a===sb&&b||"";this.Yg=tb}var tb={},sb={};function ub(a,b){const c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c}function vb(a){return/^[\s\xa0]*$/.test(a)}var wb=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function xb(a){return-1!=zb.toLowerCase().indexOf(a.toLowerCase())}function Ab(a,b){return a<b?-1:a>b?1:0};function Bb(){}Bb.prototype.nd=function(){return this};(new Bb).nd("");function Cb(){}Cb.prototype.nd=function(){return this};(new Cb).nd("");var zb;a:{var Db=ma.navigator;if(Db){var Eb=Db.userAgent;if(Eb){zb=Eb;break a}}zb=""}function Fb(a){return-1!=zb.indexOf(a)};function Gb(){this.Jg="";this.Wg=Hb}function Ib(){var a=Jb;if(a instanceof Gb&&a.constructor===Gb&&a.Wg===Hb)return a.Jg;pa(a);return"type_error:SafeHtml"}var Hb={};Gb.prototype.nd=function(a){this.Jg=a;return this};(new Gb).nd("\x3c!DOCTYPE html\x3e");var Jb=(new Gb).nd("");(new Gb).nd("\x3cbr\x3e");function Kb(a){var b=new rb(sb,pb instanceof mb&&pb.constructor===mb&&pb.Xg===ob?pb.si:"type_error:Const");b instanceof rb&&b.constructor===rb&&b.Yg===tb?b=b.li:(pa(b),b="type_error:TrustedResourceUrl");a.src=b.toString()};function Lb(a){return 1==a.length&&" "<=a&&"~">=a||""<=a&&"">=a}var Mb=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};function Nb(a){return String(a.charAt(0)).toUpperCase()+String(a.substr(1)).toLowerCase()};function Ob(a){if(a.jb&&"function"==typeof a.jb)a=a.jb();else if(ra(a)||"string"===typeof a)a=a.length;else{{let b=0;for(const c in a)b++;a=b}}return a}function Pb(a){if(a.Yb&&"function"==typeof a.Yb)return a.Yb();if("string"===typeof a)return a.split("");if(ra(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return gb(a)}
function Qb(a){if(a.Lc&&"function"==typeof a.Lc)return a.Lc();if(!a.Yb||"function"!=typeof a.Yb){if(ra(a)||"string"===typeof a){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return hb(a)}}function Rb(a,b,c){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,c);else if(ra(a)||"string"===typeof a)Pa(a,b,c);else for(var d=Qb(a),e=Pb(a),f=e.length,h=0;h<f;h++)b.call(c,e[h],d&&d[h],a)}
function Sb(a,b){if("function"==typeof a.every)return a.every(b,void 0);if(ra(a)||"string"===typeof a)return Sa(a,b,void 0);for(var c=Qb(a),d=Pb(a),e=d.length,f=0;f<e;f++)if(!b.call(void 0,d[f],c&&c[f],a))return!1;return!0};function Tb(a,b){this.ob={};this.nb=[];this.$a=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)}g=Tb.prototype;g.jb=function(){return this.$a};g.Yb=function(){Ub(this);for(var a=[],b=0;b<this.nb.length;b++)a.push(this.ob[this.nb[b]]);return a};g.Lc=function(){Ub(this);return this.nb.concat()};g.Gd=function(a){return Vb(this.ob,a)};
g.te=function(a){for(var b=0;b<this.nb.length;b++){var c=this.nb[b];if(Vb(this.ob,c)&&this.ob[c]==a)return!0}return!1};g.equals=function(a,b){if(this===a)return!0;if(this.$a!=a.jb())return!1;b=b||Wb;Ub(this);for(var c,d=0;c=this.nb[d];d++)if(!b(this.get(c),a.get(c)))return!1;return!0};function Wb(a,b){return a===b}g.isEmpty=function(){return 0==this.$a};g.clear=function(){this.ob={};this.$a=this.nb.length=0};
g.remove=function(a){return Vb(this.ob,a)?(delete this.ob[a],this.$a--,this.nb.length>2*this.$a&&Ub(this),!0):!1};function Ub(a){if(a.$a!=a.nb.length){for(var b=0,c=0;b<a.nb.length;){var d=a.nb[b];Vb(a.ob,d)&&(a.nb[c++]=d);b++}a.nb.length=c}if(a.$a!=a.nb.length){var e={};for(c=b=0;b<a.nb.length;)d=a.nb[b],Vb(e,d)||(a.nb[c++]=d,e[d]=1),b++;a.nb.length=c}}g.get=function(a,b){return Vb(this.ob,a)?this.ob[a]:b};g.set=function(a,b){Vb(this.ob,a)||(this.$a++,this.nb.push(a));this.ob[a]=b};
g.addAll=function(a){if(a instanceof Tb)for(var b=a.Lc(),c=0;c<b.length;c++)this.set(b[c],a.get(b[c]));else for(b in a)this.set(b,a[b])};g.forEach=function(a,b){for(var c=this.Lc(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};g.clone=function(){return new Tb(this)};g.transpose=function(){for(var a=new Tb,b=0;b<this.nb.length;b++){var c=this.nb[b];a.set(this.ob[c],c)}return a};function Vb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var Yb=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Zb(a,b){if(a){a=a.split("\x26");for(var c=0;c<a.length;c++){var d=a[c].indexOf("\x3d"),e=null;if(0<=d){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?decodeURIComponent(e.replace(/\+/g," ")):"")}}};function $b(a,b){this.$a=this.mb=null;this.zc=a||null;this.Bh=!!b}function bc(a){a.mb||(a.mb=new Tb,a.$a=0,a.zc&&Zb(a.zc,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))}g=$b.prototype;g.jb=function(){bc(this);return this.$a};g.add=function(a,b){bc(this);this.zc=null;a=cc(this,a);var c=this.mb.get(a);c||this.mb.set(a,c=[]);c.push(b);this.$a+=1;return this};
g.remove=function(a){bc(this);a=cc(this,a);return this.mb.Gd(a)?(this.zc=null,this.$a-=this.mb.get(a).length,this.mb.remove(a)):!1};g.clear=function(){this.mb=this.zc=null;this.$a=0};g.isEmpty=function(){bc(this);return 0==this.$a};g.Gd=function(a){bc(this);a=cc(this,a);return this.mb.Gd(a)};g.te=function(a){var b=this.Yb();return 0<=Na(b,a)};g.forEach=function(a,b){bc(this);this.mb.forEach(function(c,d){Pa(c,function(e){a.call(b,e,d,this)},this)},this)};
g.Lc=function(){bc(this);for(var a=this.mb.Yb(),b=this.mb.Lc(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};g.Yb=function(a){bc(this);var b=[];if("string"===typeof a)this.Gd(a)&&(b=Ya(b,this.mb.get(cc(this,a))));else{a=this.mb.Yb();for(var c=0;c<a.length;c++)b=Ya(b,a[c])}return b};g.set=function(a,b){bc(this);this.zc=null;a=cc(this,a);this.Gd(a)&&(this.$a-=this.mb.get(a).length);this.mb.set(a,[b]);this.$a+=1;return this};
g.get=function(a,b){if(!a)return b;a=this.Yb(a);return 0<a.length?String(a[0]):b};g.toString=function(){if(this.zc)return this.zc;if(!this.mb)return"";for(var a=[],b=this.mb.Lc(),c=0;c<b.length;c++){var d=b[c],e=encodeURIComponent(String(d));d=this.Yb(d);for(var f=0;f<d.length;f++){var h=e;""!==d[f]&&(h+="\x3d"+encodeURIComponent(String(d[f])));a.push(h)}}return this.zc=a.join("\x26")};g.clone=function(){var a=new $b;a.zc=this.zc;this.mb&&(a.mb=this.mb.clone(),a.$a=this.$a);return a};
function cc(a,b){b=String(b);a.Bh&&(b=b.toLowerCase());return b}g.extend=function(a){for(var b=0;b<arguments.length;b++)Rb(arguments[b],function(c,d){this.add(d,c)},this)};function dc(a,b){null!=a&&this.append.apply(this,arguments)}g=dc.prototype;g.ud="";g.set=function(a){this.ud=""+a};g.append=function(a,b,c){this.ud+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.ud+=arguments[d];return this};g.clear=function(){this.ud=""};g.getLength=function(){return this.ud.length};g.toString=function(){return this.ud};var fc={},gc={},hc,l={},ic=null,jc=null,kc=!0,lc=!0,mc=null,nc=null;function oc(){return new p(null,5,[pc,!0,qc,lc,rc,!1,sc,!1,tc,mc],null)}function uc(){kc=!1;jc=function(){return console.log.apply(console,Za(arguments))}}function q(a){return null!=a&&!1!==a}function vc(a){return null==a}function wc(a){return a instanceof Array}function xc(a){return"number"===typeof a}function yc(a){return null==a?!0:!1===a?!0:!1}function zc(a){return null!=a}
function Ac(a,b){return a[pa(null==b?null:b)]?!0:a._?!0:!1}function Bc(a){return null==a?null:a.constructor}function Cc(a,b){var c=Bc(b);c=q(q(c)?c.Mb:c)?c.wb:pa(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function Dc(a){var b=a.wb;return q(b)?b:t.Mi(a)}
var Ec="undefined"!==typeof Symbol&&"function"===pa(Symbol)?Symbol.iterator:"@@iterator",Fc={_RBRACE_:"}",_COLON_:":",_BANG_:"!",_QMARK_:"?",_BSLASH_:"\\\\",_SLASH_:"/",_PERCENT_:"%",_PLUS_:"+",_SHARP_:"#",_LBRACE_:"{",_BAR_:"|",_LBRACK_:"[",_EQ_:"\x3d",_:"-",_TILDE_:"~",_RBRACK_:"]",_GT_:"\x3e",_SINGLEQUOTE_:"'",_CIRCA_:"@",_AMPERSAND_:"\x26",_DOUBLEQUOTE_:'\\"',_CARET_:"^",_LT_:"\x3c",_STAR_:"*"},Gc=null;
function Hc(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function Ic(a){function b(d,e){d.push(e);return d}var c=[];return v.Ni?v.Ni(b,c,a):v.call(null,b,c,a)}function Jc(a){return"symbol"===pa(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function Kc(){}function Lc(){}function Mc(){}
function Nc(a){if(null!=a&&null!=a.ha)a=a.ha(a);else{var b=Nc[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=Nc._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("ICounted.-count",a);}return a}function Oc(){}function Pc(a){if(null!=a&&null!=a.Ka)a=a.Ka(a);else{var b=Pc[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=Pc._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("IEmptyableCollection.-empty",a);}return a}function Qc(){}
function Rc(a,b){if(null!=a&&null!=a.ja)a=a.ja(a,b);else{var c=Rc[pa(null==a?null:a)];if(null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else if(c=Rc._,null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else throw Cc("ICollection.-conj",a);}return a}function Sc(){}
var Tc=function(){function a(d,e,f){var h=x[pa(null==d?null:d)];if(null!=h)return h.Ni?h.Ni(d,e,f):h.call(null,d,e,f);h=x._;if(null!=h)return h.Ni?h.Ni(d,e,f):h.call(null,d,e,f);throw Cc("IIndexed.-nth",d);}function b(d,e){var f=x[pa(null==d?null:d)];if(null!=f)return f.Li?f.Li(d,e):f.call(null,d,e);f=x._;if(null!=f)return f.Li?f.Li(d,e):f.call(null,d,e);throw Cc("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,
f)}throw Error("Invalid arity: "+arguments.length);};c.Li=b;c.Ni=a;return c}(),x=function x(a){switch(arguments.length){case 2:return x.Li(arguments[0],arguments[1]);case 3:return x.Ni(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length)].join(""));}};x.Li=function(a,b){return null!=a&&null!=a.xa?a.xa(a,b):Tc(a,b)};x.Ni=function(a,b,c){return null!=a&&null!=a.Sa?a.Sa(a,b,c):Tc(a,b,c)};x.$=3;function Uc(){}
function Vc(a){if(null!=a&&null!=a.Va)a=a.Va(a);else{var b=Vc[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=Vc._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("ISeq.-first",a);}return a}function Wc(a){if(null!=a&&null!=a.eb)a=a.eb(a);else{var b=Wc[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=Wc._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("ISeq.-rest",a);}return a}function Xc(){}
function Zc(a){if(null!=a&&null!=a.Oa)a=a.Oa(a);else{var b=Zc[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=Zc._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("INext.-next",a);}return a}function $c(){}
var bd=function(){function a(d,e,f){var h=ad[pa(null==d?null:d)];if(null!=h)return h.Ni?h.Ni(d,e,f):h.call(null,d,e,f);h=ad._;if(null!=h)return h.Ni?h.Ni(d,e,f):h.call(null,d,e,f);throw Cc("ILookup.-lookup",d);}function b(d,e){var f=ad[pa(null==d?null:d)];if(null!=f)return f.Li?f.Li(d,e):f.call(null,d,e);f=ad._;if(null!=f)return f.Li?f.Li(d,e):f.call(null,d,e);throw Cc("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,
d,e,f)}throw Error("Invalid arity: "+arguments.length);};c.Li=b;c.Ni=a;return c}(),ad=function ad(a){switch(arguments.length){case 2:return ad.Li(arguments[0],arguments[1]);case 3:return ad.Ni(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length)].join(""));}};ad.Li=function(a,b){return null!=a&&null!=a.ka?a.ka(a,b):bd(a,b)};ad.Ni=function(a,b,c){return null!=a&&null!=a.Wi?a.Wi(a,b,c):bd(a,b,c)};ad.$=3;
function cd(a,b,c){if(null!=a&&null!=a.ba)a=a.ba(a,b,c);else{var d=cd[pa(null==a?null:a)];if(null!=d)a=d.Ni?d.Ni(a,b,c):d.call(null,a,b,c);else if(d=cd._,null!=d)a=d.Ni?d.Ni(a,b,c):d.call(null,a,b,c);else throw Cc("IAssociative.-assoc",a);}return a}function dd(a,b){if(null!=a&&null!=a.cd)a=a.cd(a,b);else{var c=dd[pa(null==a?null:a)];if(null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else if(c=dd._,null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else throw Cc("IFind.-find",a);}return a}function ed(){}
function fd(a,b){if(null!=a&&null!=a.wa)a=a.wa(a,b);else{var c=fd[pa(null==a?null:a)];if(null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else if(c=fd._,null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else throw Cc("IMap.-dissoc",a);}return a}function gd(a){if(null!=a&&null!=a.rf)a=a.key;else{var b=gd[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=gd._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("IMapEntry.-key",a);}return a}
function hd(a){if(null!=a&&null!=a.sf)a=a.val;else{var b=hd[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=hd._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("IMapEntry.-val",a);}return a}function id(){}function jd(a,b){if(null!=a&&null!=a.uf)a=a.uf(a,b);else{var c=jd[pa(null==a?null:a)];if(null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else if(c=jd._,null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else throw Cc("ISet.-disjoin",a);}return a}
function kd(a){if(null!=a&&null!=a.dd)a=a.dd(a);else{var b=kd[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=kd._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("IStack.-peek",a);}return a}function ld(a){if(null!=a&&null!=a.ed)a=a.ed(a);else{var b=ld[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=ld._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("IStack.-pop",a);}return a}function md(){}
function nd(a,b,c){if(null!=a&&null!=a.Ic)a=a.Ic(a,b,c);else{var d=nd[pa(null==a?null:a)];if(null!=d)a=d.Ni?d.Ni(a,b,c):d.call(null,a,b,c);else if(d=nd._,null!=d)a=d.Ni?d.Ni(a,b,c):d.call(null,a,b,c);else throw Cc("IVector.-assoc-n",a);}return a}function od(){}function y(a){if(null!=a&&null!=a.ub)a=a.ub(a);else{var b=y[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=y._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("IDeref.-deref",a);}return a}function pd(){}
function qd(a){if(null!=a&&null!=a.da)a=a.da(a);else{var b=qd[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=qd._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("IMeta.-meta",a);}return a}function rd(a,b){if(null!=a&&null!=a.ea)a=a.ea(a,b);else{var c=rd[pa(null==a?null:a)];if(null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else if(c=rd._,null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else throw Cc("IWithMeta.-with-meta",a);}return a}function sd(){}
var ud=function(){function a(d,e,f){var h=td[pa(null==d?null:d)];if(null!=h)return h.Ni?h.Ni(d,e,f):h.call(null,d,e,f);h=td._;if(null!=h)return h.Ni?h.Ni(d,e,f):h.call(null,d,e,f);throw Cc("IReduce.-reduce",d);}function b(d,e){var f=td[pa(null==d?null:d)];if(null!=f)return f.Li?f.Li(d,e):f.call(null,d,e);f=td._;if(null!=f)return f.Li?f.Li(d,e):f.call(null,d,e);throw Cc("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,
d,e,f)}throw Error("Invalid arity: "+arguments.length);};c.Li=b;c.Ni=a;return c}(),td=function td(a){switch(arguments.length){case 2:return td.Li(arguments[0],arguments[1]);case 3:return td.Ni(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length)].join(""));}};td.Li=function(a,b){return null!=a&&null!=a.Ta?a.Ta(a,b):ud(a,b)};td.Ni=function(a,b,c){return null!=a&&null!=a.Ua?a.Ua(a,b,c):ud(a,b,c)};td.$=3;function vd(){}
function wd(a,b,c){if(null!=a&&null!=a.ua)a=a.ua(a,b,c);else{var d=wd[pa(null==a?null:a)];if(null!=d)a=d.Ni?d.Ni(a,b,c):d.call(null,a,b,c);else if(d=wd._,null!=d)a=d.Ni?d.Ni(a,b,c):d.call(null,a,b,c);else throw Cc("IKVReduce.-kv-reduce",a);}return a}function xd(a,b){if(null!=a&&null!=a.aa)a=a.aa(a,b);else{var c=xd[pa(null==a?null:a)];if(null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else if(c=xd._,null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else throw Cc("IEquiv.-equiv",a);}return a}
function yd(a){if(null!=a&&null!=a.ia)a=a.ia(a);else{var b=yd[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=yd._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("IHash.-hash",a);}return a}function zd(){}function Dd(a){if(null!=a&&null!=a.ga)a=a.ga(a);else{var b=Dd[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=Dd._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("ISeqable.-seq",a);}return a}function Ed(){}function Fd(){}function Gd(){}
function Hd(){}function Id(a){if(null!=a&&null!=a.vc)a=a.vc(a);else{var b=Id[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=Id._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("IReversible.-rseq",a);}return a}function Jd(a,b){if(null!=a&&null!=a.xd)a=a.xd(a,b);else{var c=Jd[pa(null==a?null:a)];if(null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else if(c=Jd._,null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else throw Cc("IWriter.-write",a);}return a}
function Kd(a){if(null!=a&&null!=a.Tc)a=a.Tc(a);else{var b=Kd[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=Kd._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("IWriter.-flush",a);}return a}function Ld(){}function Md(a,b,c){if(null!=a&&null!=a.fa)a=a.fa(a,b,c);else{var d=Md[pa(null==a?null:a)];if(null!=d)a=d.Ni?d.Ni(a,b,c):d.call(null,a,b,c);else if(d=Md._,null!=d)a=d.Ni?d.Ni(a,b,c):d.call(null,a,b,c);else throw Cc("IPrintWithWriter.-pr-writer",a);}return a}
function Nd(){}function Od(a){if(null!=a&&null!=a.Pe)a=a.Pe(a);else{var b=Od[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=Od._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("IPending.-realized?",a);}return a}function Qd(a,b){var c=Rd;if(null!=a&&null!=a.pg)a.pg(a,c,b);else{var d=Qd[pa(null==a?null:a)];if(null!=d)d.Ni?d.Ni(a,c,b):d.call(null,a,c,b);else if(d=Qd._,null!=d)d.Ni?d.Ni(a,c,b):d.call(null,a,c,b);else throw Cc("IWatchable.-add-watch",a);}}
function Sd(a){var b=Rd;if(null!=a&&null!=a.qg)a.qg(a,b);else{var c=Sd[pa(null==a?null:a)];if(null!=c)c.Li?c.Li(a,b):c.call(null,a,b);else if(c=Sd._,null!=c)c.Li?c.Li(a,b):c.call(null,a,b);else throw Cc("IWatchable.-remove-watch",a);}}function Td(a){if(null!=a&&null!=a.vd)a=a.vd(a);else{var b=Td[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=Td._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("IEditableCollection.-as-transient",a);}return a}
function Ud(a,b){if(null!=a&&null!=a.wd)a=a.wd(a,b);else{var c=Ud[pa(null==a?null:a)];if(null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else if(c=Ud._,null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else throw Cc("ITransientCollection.-conj!",a);}return a}function Vd(a){if(null!=a&&null!=a.Ed)a=a.Ed(a);else{var b=Vd[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=Vd._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("ITransientCollection.-persistent!",a);}return a}
function Wd(a,b,c){if(null!=a&&null!=a.Rd)a=a.Rd(a,b,c);else{var d=Wd[pa(null==a?null:a)];if(null!=d)a=d.Ni?d.Ni(a,b,c):d.call(null,a,b,c);else if(d=Wd._,null!=d)a=d.Ni?d.Ni(a,b,c):d.call(null,a,b,c);else throw Cc("ITransientAssociative.-assoc!",a);}return a}function Xd(a,b){if(null!=a&&null!=a.vf)a=a.vf(a,b);else{var c=Xd[pa(null==a?null:a)];if(null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else if(c=Xd._,null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else throw Cc("ITransientMap.-dissoc!",a);}return a}
function Yd(){}function Zd(a,b){if(null!=a&&null!=a.Sc)a=a.Sc(a,b);else{var c=Zd[pa(null==a?null:a)];if(null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else if(c=Zd._,null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else throw Cc("IComparable.-compare",a);}return a}function $d(a){if(null!=a&&null!=a.ee)a=a.ee(a);else{var b=$d[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=$d._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("IChunk.-drop-first",a);}return a}
function ae(a){if(null!=a&&null!=a.ge)a=a.ge(a);else{var b=ae[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=ae._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("IChunkedSeq.-chunked-first",a);}return a}function be(a){if(null!=a&&null!=a.Dd)a=a.Dd(a);else{var b=be[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=be._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("IChunkedSeq.-chunked-rest",a);}return a}
function ce(a){if(null!=a&&null!=a.ke)a=a.ke(a);else{var b=ce[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=ce._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("INamed.-name",a);}return a}function de(a){if(null!=a&&null!=a.le)a=a.le(a);else{var b=de[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=de._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("INamed.-namespace",a);}return a}
function ee(a,b){if(null!=a&&null!=a.jh)a=a.jh(a,b);else{var c=ee[pa(null==a?null:a)];if(null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else if(c=ee._,null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else throw Cc("IReset.-reset!",a);}return a}
var ge=function(){function a(f,h,k,m,n){var r=fe[pa(null==f?null:f)];if(null!=r)return r.la?r.la(f,h,k,m,n):r.call(null,f,h,k,m,n);r=fe._;if(null!=r)return r.la?r.la(f,h,k,m,n):r.call(null,f,h,k,m,n);throw Cc("ISwap.-swap!",f);}function b(f,h,k,m){var n=fe[pa(null==f?null:f)];if(null!=n)return n.Vi?n.Vi(f,h,k,m):n.call(null,f,h,k,m);n=fe._;if(null!=n)return n.Vi?n.Vi(f,h,k,m):n.call(null,f,h,k,m);throw Cc("ISwap.-swap!",f);}function c(f,h,k){var m=fe[pa(null==f?null:f)];if(null!=m)return m.Ni?m.Ni(f,
h,k):m.call(null,f,h,k);m=fe._;if(null!=m)return m.Ni?m.Ni(f,h,k):m.call(null,f,h,k);throw Cc("ISwap.-swap!",f);}function d(f,h){var k=fe[pa(null==f?null:f)];if(null!=k)return k.Li?k.Li(f,h):k.call(null,f,h);k=fe._;if(null!=k)return k.Li?k.Li(f,h):k.call(null,f,h);throw Cc("ISwap.-swap!",f);}var e=null;e=function(f,h,k,m,n){switch(arguments.length){case 2:return d.call(this,f,h);case 3:return c.call(this,f,h,k);case 4:return b.call(this,f,h,k,m);case 5:return a.call(this,f,h,k,m,n)}throw Error("Invalid arity: "+
arguments.length);};e.Li=d;e.Ni=c;e.Vi=b;e.la=a;return e}(),fe=function fe(a){switch(arguments.length){case 2:return fe.Li(arguments[0],arguments[1]);case 3:return fe.Ni(arguments[0],arguments[1],arguments[2]);case 4:return fe.Vi(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return fe.la(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length)].join(""));}};
fe.Li=function(a,b){return null!=a&&null!=a.lh?a.lh(a,b):ge(a,b)};fe.Ni=function(a,b,c){return null!=a&&null!=a.mh?a.mh(a,b,c):ge(a,b,c)};fe.Vi=function(a,b,c,d){return null!=a&&null!=a.nh?a.nh(a,b,c,d):ge(a,b,c,d)};fe.la=function(a,b,c,d,e){return null!=a&&null!=a.oh?a.oh(a,b,c,d,e):ge(a,b,c,d,e)};fe.$=5;
function he(a,b){if(null!=a&&null!=a.Jc)a=a.Jc(a,b);else{var c=he[pa(null==a?null:a)];if(null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else if(c=he._,null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else throw Cc("IVolatile.-vreset!",a);}return a}function ie(){}function je(a){if(null!=a&&null!=a.na)a=a.na(a);else{var b=je[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=je._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("IIterable.-iterator",a);}return a}
function ke(a){this.ri=a;this.Si=1073741824;this.Xi=0}ke.prototype.xd=function(a,b){return this.ri.append(b)};ke.prototype.Tc=function(){return null};function le(a){var b=new dc,c=new ke(b);a.fa(null,c,oc());c.Tc(null);return t.Mi(b)}var me="undefined"!==typeof Math&&"undefined"!==typeof Math.imul&&0!==Math.imul(4294967295,5)?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};
function ne(a){a=me(a|0,-862048943);return me(a<<15|a>>>-15,461845907)}function oe(a,b){a=(a|0)^(b|0);return me(a<<13|a>>>-13,5)+-430675100|0}function pe(a,b){a=(a|0)^b;a=me(a^a>>>16,-2048144789);a=me(a^a>>>13,-1028477387);return a^a>>>16}var qe={},re=0;
function se(a){255<re&&(qe={},re=0);if(null==a)return 0;var b=qe[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=me(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;qe[a]=b;re+=1;a=b}return a}
function ve(a){if(null!=a&&(a.Si&4194304||l===a.gh))return a.ia(null)^0;if("number"===typeof a){if(q(isFinite(a)))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=se(a),a=0===a?a:pe(oe(0,ne(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:yd(a)^0,a}function we(a){return a instanceof z}
function xe(a){var b=a.name;a:{var c=1;for(var d=0;;)if(c<b.length)d=oe(d,ne(b.charCodeAt(c-1)|b.charCodeAt(c)<<16)),c+=2;else{c=d;break a}}b=pe(1===(b.length&1)?c^ne(b.charCodeAt(b.length-1)):c,me(2,b.length));a=se(a.Qb);return b^a+2654435769+(b<<6)+(b>>2)}function ye(a,b){if(a.$c===b.$c)return 0;if(q(yc(a.Qb)?b.Qb:!1))return-1;if(q(a.Qb)){if(yc(b.Qb))return 1;var c=ab(a.Qb,b.Qb);return 0===c?ab(a.name,b.name):c}return ab(a.name,b.name)}
function z(a,b,c,d,e){this.Qb=a;this.name=b;this.$c=c;this._hash=d;this.sc=e;this.Si=2154168321;this.Xi=4096}g=z.prototype;g.toString=function(){return this.$c};g.equiv=function(a){return this.aa(null,a)};g.aa=function(a,b){return b instanceof z?this.$c===b.$c:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.Mi(arguments[1]);case 2:return this.Li(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.Mi=function(a){return B.Li?B.Li(a,this):B.call(null,a,this)};g.Li=function(a,b){return B.Ni?B.Ni(a,this,b):B.call(null,a,this,b)};g.da=function(){return this.sc};g.ea=function(a,b){return new z(this.Qb,this.name,this.$c,this._hash,b)};g.ia=function(){var a=this._hash;return null!=a?a:this._hash=a=xe(this)};g.ke=function(){return this.name};g.le=function(){return this.Qb};g.fa=function(a,b){return Jd(b,this.$c)};
var ze=function ze(a){switch(arguments.length){case 1:return ze.Mi(arguments[0]);case 2:return ze.Li(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length)].join(""));}};ze.Mi=function(a){for(;;){if(a instanceof z)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?ze.Li(null,a):ze.Li(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof Ae)return a.Od;if(a instanceof C)a=a.ma;else throw Error("no conversion to symbol");}};
ze.Li=function(a,b){var c=null!=a?[t.Mi(a),"/",t.Mi(b)].join(""):b;return new z(a,b,c,null,null)};ze.$=2;function Ae(a,b,c){this.val=a;this.Od=b;this.sc=c;this.Si=6717441;this.Xi=0}g=Ae.prototype;g.toString=function(){return["#'",t.Mi(this.Od)].join("")};g.ub=function(){return this.val.Ui?this.val.Ui():this.val.call(null)};g.da=function(){return this.sc};g.ea=function(a,b){return new Ae(this.val,this.Od,b)};
g.aa=function(a,b){return b instanceof Ae?(a=this.Od,b=b.Od,D.Li?D.Li(a,b):D.call(null,a,b)):!1};g.ia=function(){return xe(this.Od)};g.hg=l;
g.call=function(a){switch(arguments.length-1){case 0:return this.Ui();case 1:return this.Mi(arguments[1]);case 2:return this.Li(arguments[1],arguments[2]);case 3:return this.Ni(arguments[1],arguments[2],arguments[3]);case 4:return this.Vi(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.la(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Kb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.vb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Lb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.zb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Ab(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Bb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Cb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Db(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Eb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Fb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Gb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Hb(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Ib(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Jb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.he(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.Ui=function(){var a=this.val.Ui?this.val.Ui():this.val.call(null);return a.Ui?a.Ui():a.call(null)};g.Mi=function(a){var b=this.val.Ui?this.val.Ui():this.val.call(null);return b.Mi?b.Mi(a):b.call(null,a)};
g.Li=function(a,b){var c=this.val.Ui?this.val.Ui():this.val.call(null);return c.Li?c.Li(a,b):c.call(null,a,b)};g.Ni=function(a,b,c){var d=this.val.Ui?this.val.Ui():this.val.call(null);return d.Ni?d.Ni(a,b,c):d.call(null,a,b,c)};g.Vi=function(a,b,c,d){var e=this.val.Ui?this.val.Ui():this.val.call(null);return e.Vi?e.Vi(a,b,c,d):e.call(null,a,b,c,d)};g.la=function(a,b,c,d,e){var f=this.val.Ui?this.val.Ui():this.val.call(null);return f.la?f.la(a,b,c,d,e):f.call(null,a,b,c,d,e)};
g.Za=function(a,b,c,d,e,f){var h=this.val.Ui?this.val.Ui():this.val.call(null);return h.Za?h.Za(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f)};g.Kb=function(a,b,c,d,e,f,h){var k=this.val.Ui?this.val.Ui():this.val.call(null);return k.Kb?k.Kb(a,b,c,d,e,f,h):k.call(null,a,b,c,d,e,f,h)};g.vb=function(a,b,c,d,e,f,h,k){var m=this.val.Ui?this.val.Ui():this.val.call(null);return m.vb?m.vb(a,b,c,d,e,f,h,k):m.call(null,a,b,c,d,e,f,h,k)};
g.Lb=function(a,b,c,d,e,f,h,k,m){var n=this.val.Ui?this.val.Ui():this.val.call(null);return n.Lb?n.Lb(a,b,c,d,e,f,h,k,m):n.call(null,a,b,c,d,e,f,h,k,m)};g.zb=function(a,b,c,d,e,f,h,k,m,n){var r=this.val.Ui?this.val.Ui():this.val.call(null);return r.zb?r.zb(a,b,c,d,e,f,h,k,m,n):r.call(null,a,b,c,d,e,f,h,k,m,n)};g.Ab=function(a,b,c,d,e,f,h,k,m,n,r){var u=this.val.Ui?this.val.Ui():this.val.call(null);return u.Ab?u.Ab(a,b,c,d,e,f,h,k,m,n,r):u.call(null,a,b,c,d,e,f,h,k,m,n,r)};
g.Bb=function(a,b,c,d,e,f,h,k,m,n,r,u){var w=this.val.Ui?this.val.Ui():this.val.call(null);return w.Bb?w.Bb(a,b,c,d,e,f,h,k,m,n,r,u):w.call(null,a,b,c,d,e,f,h,k,m,n,r,u)};g.Cb=function(a,b,c,d,e,f,h,k,m,n,r,u,w){var A=this.val.Ui?this.val.Ui():this.val.call(null);return A.Cb?A.Cb(a,b,c,d,e,f,h,k,m,n,r,u,w):A.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w)};
g.Db=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A){var G=this.val.Ui?this.val.Ui():this.val.call(null);return G.Db?G.Db(a,b,c,d,e,f,h,k,m,n,r,u,w,A):G.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A)};g.Eb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G){var I=this.val.Ui?this.val.Ui():this.val.call(null);return I.Eb?I.Eb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G):I.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G)};
g.Fb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I){var F=this.val.Ui?this.val.Ui():this.val.call(null);return F.Fb?F.Fb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I):F.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I)};g.Gb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F){var N=this.val.Ui?this.val.Ui():this.val.call(null);return N.Gb?N.Gb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F):N.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F)};
g.Hb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N){var O=this.val.Ui?this.val.Ui():this.val.call(null);return O.Hb?O.Hb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N):O.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N)};g.Ib=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O){var U=this.val.Ui?this.val.Ui():this.val.call(null);return U.Ib?U.Ib(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O):U.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O)};
g.Jb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U){var ea=this.val.Ui?this.val.Ui():this.val.call(null);return ea.Jb?ea.Jb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U):ea.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U)};g.he=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea){var va=this.val.Ui?this.val.Ui():this.val.call(null);return Be.qf?Be.qf(va,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea):Be.call(null,va,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea)};
function Ce(a){return null!=a?a.Xi&131072||l===a.zi?!0:a.Xi?!1:Ac(ie,a):Ac(ie,a)}function E(a){if(null==a)return null;if(null!=a&&(a.Si&8388608||l===a.tf))return a.ga(null);if(wc(a)||"string"===typeof a)return 0===a.length?null:new De(a,0,null);if(null!=a&&null!=a[Ec])return a=ib(a,Ec).call(a),Ee.Mi?Ee.Mi(a):Ee.call(null,a);if(Ac(zd,a))return Dd(a);throw Error([t.Mi(a)," is not ISeqable"].join(""));}
function H(a){if(null==a)return null;if(null!=a&&(a.Si&64||l===a.va))return a.Va(null);a=E(a);return null==a?null:Vc(a)}function Fe(a){return null!=a?null!=a&&(a.Si&64||l===a.va)?a.eb(null):(a=E(a))?a.eb(null):Ge:Ge}function J(a){return null==a?null:null!=a&&(a.Si&128||l===a.me)?a.Oa(null):E(Fe(a))}
var D=function D(a){switch(arguments.length){case 1:return D.Mi(arguments[0]);case 2:return D.Li(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return D.Pi(arguments[0],arguments[1],c)}};D.Mi=function(){return!0};D.Li=function(a,b){return null==a?null==b:a===b||xd(a,b)};D.Pi=function(a,b,c){for(;;)if(D.Li(a,b))if(J(c))a=b,b=H(c),c=J(c);else return D.Li(b,H(c));else return!1};
D.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.Pi(b,a,c)};D.$=2;function He(a){this.s=a}He.prototype.next=function(){if(null!=this.s){var a=H(this.s);this.s=J(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function Ie(a){return new He(E(a))}function Je(a,b){this.value=a;this.iter=b;this.lf=null;this.Si=8388672;this.Xi=0}Je.prototype.ga=function(){return this};Je.prototype.Va=function(){return this.value};
Je.prototype.eb=function(){null==this.lf&&(this.lf=Ee.Mi?Ee.Mi(this.iter):Ee.call(null,this.iter));return this.lf};function Ee(a){var b=a.next();return q(b.done)?null:new Je(b.value,a)}function Ke(a){var b=0,c=1;for(a=E(a);;)if(null!=a)b+=1,c=me(31,c)+ve(H(a))|0,a=J(a);else return pe(oe(0,ne(c)),b)}var Le=pe(oe(0,ne(1)),0);function Me(a){var b=0,c=0;for(a=E(a);;)if(null!=a)b+=1,c=c+ve(H(a))|0,a=J(a);else return pe(oe(0,ne(c)),b)}var Ne=pe(oe(0,ne(0)),0);Mc["null"]=!0;Nc["null"]=function(){return 0};
Date.prototype.aa=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};Date.prototype.bd=l;Date.prototype.Sc=function(a,b){if(b instanceof Date)return ab(this.valueOf(),b.valueOf());throw Error(["Cannot compare ",t.Mi(this)," to ",t.Mi(b)].join(""));};xd.number=function(a,b){return a===b};Kc["function"]=!0;pd["function"]=!0;qd["function"]=function(){return null};yd._=function(a){return ya(a)};function Oe(a){return a+1}function Pe(a){this.val=a;this.Si=32768;this.Xi=0}
Pe.prototype.ub=function(){return this.val};function Qe(a){return new Pe(a)}function Re(a){return a instanceof Pe}function Se(a){return Re(a)?Te.Mi?Te.Mi(a):Te.call(null,a):a}function Te(a){return y(a)}function Ue(a,b){var c=a.ha(null);if(0===c)return b.Ui?b.Ui():b.call(null);for(var d=a.xa(null,0),e=1;;)if(e<c){var f=a.xa(null,e);d=b.Li?b.Li(d,f):b.call(null,d,f);if(Re(d))return y(d);e+=1}else return d}
function Ve(a,b,c){var d=a.ha(null),e=c;for(c=0;;)if(c<d){var f=a.xa(null,c);e=b.Li?b.Li(e,f):b.call(null,e,f);if(Re(e))return y(e);c+=1}else return e}function We(a,b){var c=a.length;if(0===a.length)return b.Ui?b.Ui():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.Li?b.Li(d,f):b.call(null,d,f);if(Re(d))return y(d);e+=1}else return d}function Xe(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.Li?b.Li(e,f):b.call(null,e,f);if(Re(e))return y(e);c+=1}else return e}
function Ye(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.Li?b.Li(c,f):b.call(null,c,f);if(Re(c))return y(c);d+=1}else return c}function Ze(a){return null!=a?a.Si&2||l===a.ig?!0:a.Si?!1:Ac(Mc,a):Ac(Mc,a)}function $e(a){return null!=a?a.Si&16||l===a.mg?!0:a.Si?!1:Ac(Sc,a):Ac(Sc,a)}function af(a,b,c){var d=K.Mi?K.Mi(a):K.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(D.Li(bf?bf(a,c):cf.call(null,a,c),b))return c;c+=1}else return-1}
function df(a,b,c){var d=K.Mi?K.Mi(a):K.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(D.Li(bf?bf(a,c):cf.call(null,a,c),b))return c;--c}else return-1}function ef(a,b){this.Ti=a;this.i=b}ef.prototype.ab=function(){return this.i<this.Ti.length};ef.prototype.next=function(){var a=this.Ti[this.i];this.i+=1;return a};function De(a,b,c){this.Ti=a;this.i=b;this.meta=c;this.Si=166592766;this.Xi=139264}g=De.prototype;g.toString=function(){return le(this)};
g.equiv=function(a){return this.aa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Mi=function(b){return af(this,b,0)};a.Li=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K.Mi?K.Mi(this):K.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Mi=a;b.Li=function(c,d){return df(this,c,d)};return b}();g.xa=function(a,b){a=b+this.i;if(0<=a&&a<this.Ti.length)return this.Ti[a];throw Error("Index out of bounds");};g.Sa=function(a,b,c){a=b+this.i;return 0<=a&&a<this.Ti.length?this.Ti[a]:c};
g.na=function(){return new ef(this.Ti,this.i)};g.da=function(){return this.meta};g.Oa=function(){return this.i+1<this.Ti.length?new De(this.Ti,this.i+1,null):null};g.ha=function(){var a=this.Ti.length-this.i;return 0>a?0:a};g.vc=function(){var a=this.ha(null);return 0<a?new ff(this,a-1,null):null};g.ia=function(){return Ke(this)};g.aa=function(a,b){return gf.Li?gf.Li(this,b):gf.call(null,this,b)};g.Ka=function(){return Ge};g.Ta=function(a,b){return Ye(this.Ti,b,this.Ti[this.i],this.i+1)};
g.Ua=function(a,b,c){return Ye(this.Ti,b,c,this.i)};g.Va=function(){return this.Ti[this.i]};g.eb=function(){return this.i+1<this.Ti.length?new De(this.Ti,this.i+1,null):Ge};g.ga=function(){return this.i<this.Ti.length?this:null};g.ea=function(a,b){return b===this.meta?this:new De(this.Ti,this.i,b)};g.ja=function(a,b){return hf.Li?hf.Li(b,this):hf.call(null,b,this)};De.prototype[Ec]=function(){return Ie(this)};function M(a){return 0<a.length?new De(a,0,null):null}
function ff(a,b,c){this.ci=a;this.i=b;this.meta=c;this.Si=32374990;this.Xi=8192}g=ff.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.aa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Mi=function(b){return af(this,b,0)};a.Li=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K.Mi?K.Mi(this):K.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Mi=a;b.Li=function(c,d){return df(this,c,d)};return b}();g.da=function(){return this.meta};g.Oa=function(){return 0<this.i?new ff(this.ci,this.i-1,null):null};g.ha=function(){return this.i+1};g.ia=function(){return Ke(this)};
g.aa=function(a,b){return gf.Li?gf.Li(this,b):gf.call(null,this,b)};g.Ka=function(){return Ge};g.Ta=function(a,b){return jf?jf(b,this):kf.call(null,b,this)};g.Ua=function(a,b,c){return lf?lf(b,c,this):kf.call(null,b,c,this)};g.Va=function(){return x(this.ci,this.i)};g.eb=function(){return 0<this.i?new ff(this.ci,this.i-1,null):Ge};g.ga=function(){return this};g.ea=function(a,b){return b===this.meta?this:new ff(this.ci,this.i,b)};g.ja=function(a,b){return hf.Li?hf.Li(b,this):hf.call(null,b,this)};
ff.prototype[Ec]=function(){return Ie(this)};function mf(a){return H(J(a))}function nf(a){return H(H(a))}function of(a){for(;;){var b=J(a);if(null!=b)a=b;else return H(a)}}xd._=function(a,b){return a===b};
var pf=function pf(a){switch(arguments.length){case 0:return pf.Ui();case 1:return pf.Mi(arguments[0]);case 2:return pf.Li(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return pf.Pi(arguments[0],arguments[1],c)}};pf.Ui=function(){return qf};pf.Mi=function(a){return a};pf.Li=function(a,b){return null!=a?Rc(a,b):new rf(null,b,null,1,null)};
pf.Pi=function(a,b,c){for(;;)if(q(c))a=pf.Li(a,b),b=H(c),c=J(c);else return pf.Li(a,b)};pf.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.Pi(b,a,c)};pf.$=2;function sf(a){return null==a?null:null!=a&&(a.Si&4||l===a.lg)?a.Ka(null):(null!=a?a.Si&4||l===a.lg||(a.Si?0:Ac(Oc,a)):Ac(Oc,a))?Pc(a):null}
function K(a){if(null!=a)if(null!=a&&(a.Si&2||l===a.ig))a=a.ha(null);else if(wc(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.Si&8388608||l===a.tf))a:{a=E(a);for(var b=0;;){if(Ze(a)){a=b+Nc(a);break a}a=J(a);b+=1}}else a=Nc(a);else a=0;return a}function tf(a,b,c){for(;;){if(null==a)return c;if(0===b)return E(a)?H(a):c;if($e(a))return x(a,b,c);if(E(a))a=J(a),--b;else return c}}
function cf(a){switch(arguments.length){case 2:return bf(arguments[0],arguments[1]);case 3:return P(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length)].join(""));}}
function bf(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.Si&16||l===a.mg))return a.xa(null,b);if(wc(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.Si&64||l===a.va)||null!=a&&(a.Si&16777216||l===a.og)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(E(a)){a=H(a);break a}throw Error("Index out of bounds");}if($e(a)){a=x(a,b);break a}if(E(a))a=J(a),--b;else throw Error("Index out of bounds");}return a}if(Ac(Sc,a))return x(a,b);throw Error(["nth not supported on this type ",t.Mi(Dc(Bc(a)))].join(""));}
function P(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.Si&16||l===a.mg))return a.Sa(null,b,c);if(wc(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.Si&64||l===a.va)||null!=a&&(a.Si&16777216||l===a.og))return 0>b?c:tf(a,b,c);if(Ac(Sc,a))return x(a,b,c);throw Error(["nth not supported on this type ",t.Mi(Dc(Bc(a)))].join(""));}
var B=function B(a){switch(arguments.length){case 2:return B.Li(arguments[0],arguments[1]);case 3:return B.Ni(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length)].join(""));}};B.Li=function(a,b){return null==a?null:null!=a&&(a.Si&256||l===a.hh)?a.ka(null,b):wc(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:Ac($c,a)?ad(a,b):null};
B.Ni=function(a,b,c){return null!=a?null!=a&&(a.Si&256||l===a.hh)?a.Wi(null,b,c):wc(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:Ac($c,a)?ad(a,b,c):c:c};B.$=3;var Q=function Q(a){switch(arguments.length){case 3:return Q.Ni(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(3),0,null);return Q.Pi(arguments[0],arguments[1],arguments[2],c)}};
Q.Ni=function(a,b,c){return null!=a&&(a.Si&512||l===a.ui)?a.ba(null,b,c):null!=a?cd(a,b,c):uf([b,c])};Q.Pi=function(a,b,c,d){for(;;)if(a=Q.Ni(a,b,c),q(d))b=H(d),c=mf(d),d=J(J(d));else return a};Q.ca=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);d=J(d);return this.Pi(b,a,c,d)};Q.$=3;
var R=function R(a){switch(arguments.length){case 1:return R.Mi(arguments[0]);case 2:return R.Li(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return R.Pi(arguments[0],arguments[1],c)}};R.Mi=function(a){return a};R.Li=function(a,b){return null==a?null:fd(a,b)};R.Pi=function(a,b,c){for(;;){if(null==a)return null;a=R.Li(a,b);if(q(c))b=H(c),c=J(c);else return a}};
R.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.Pi(b,a,c)};R.$=2;function vf(a){var b=sa(a);return b?b:null!=a?l===a.hg?!0:a.yd?!1:Ac(Kc,a):Ac(Kc,a)}function wf(a,b){this.oa=a;this.meta=b;this.Si=393217;this.Xi=0}g=wf.prototype;g.da=function(){return this.meta};g.ea=function(a,b){return new wf(this.oa,b)};g.hg=l;
g.call=function(a){switch(arguments.length-1){case 0:return this.Ui();case 1:return this.Mi(arguments[1]);case 2:return this.Li(arguments[1],arguments[2]);case 3:return this.Ni(arguments[1],arguments[2],arguments[3]);case 4:return this.Vi(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.la(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Kb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.vb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Lb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.zb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Ab(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Bb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Cb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Db(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Eb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Fb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Gb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Hb(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Ib(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Jb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.he(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.Ui=function(){return this.oa.Ui?this.oa.Ui():this.oa.call(null)};g.Mi=function(a){return this.oa.Mi?this.oa.Mi(a):this.oa.call(null,a)};g.Li=function(a,b){return this.oa.Li?this.oa.Li(a,b):this.oa.call(null,a,b)};
g.Ni=function(a,b,c){return this.oa.Ni?this.oa.Ni(a,b,c):this.oa.call(null,a,b,c)};g.Vi=function(a,b,c,d){return this.oa.Vi?this.oa.Vi(a,b,c,d):this.oa.call(null,a,b,c,d)};g.la=function(a,b,c,d,e){return this.oa.la?this.oa.la(a,b,c,d,e):this.oa.call(null,a,b,c,d,e)};g.Za=function(a,b,c,d,e,f){return this.oa.Za?this.oa.Za(a,b,c,d,e,f):this.oa.call(null,a,b,c,d,e,f)};g.Kb=function(a,b,c,d,e,f,h){return this.oa.Kb?this.oa.Kb(a,b,c,d,e,f,h):this.oa.call(null,a,b,c,d,e,f,h)};
g.vb=function(a,b,c,d,e,f,h,k){return this.oa.vb?this.oa.vb(a,b,c,d,e,f,h,k):this.oa.call(null,a,b,c,d,e,f,h,k)};g.Lb=function(a,b,c,d,e,f,h,k,m){return this.oa.Lb?this.oa.Lb(a,b,c,d,e,f,h,k,m):this.oa.call(null,a,b,c,d,e,f,h,k,m)};g.zb=function(a,b,c,d,e,f,h,k,m,n){return this.oa.zb?this.oa.zb(a,b,c,d,e,f,h,k,m,n):this.oa.call(null,a,b,c,d,e,f,h,k,m,n)};g.Ab=function(a,b,c,d,e,f,h,k,m,n,r){return this.oa.Ab?this.oa.Ab(a,b,c,d,e,f,h,k,m,n,r):this.oa.call(null,a,b,c,d,e,f,h,k,m,n,r)};
g.Bb=function(a,b,c,d,e,f,h,k,m,n,r,u){return this.oa.Bb?this.oa.Bb(a,b,c,d,e,f,h,k,m,n,r,u):this.oa.call(null,a,b,c,d,e,f,h,k,m,n,r,u)};g.Cb=function(a,b,c,d,e,f,h,k,m,n,r,u,w){return this.oa.Cb?this.oa.Cb(a,b,c,d,e,f,h,k,m,n,r,u,w):this.oa.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w)};g.Db=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A){return this.oa.Db?this.oa.Db(a,b,c,d,e,f,h,k,m,n,r,u,w,A):this.oa.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A)};
g.Eb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G){return this.oa.Eb?this.oa.Eb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G):this.oa.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G)};g.Fb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I){return this.oa.Fb?this.oa.Fb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I):this.oa.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I)};g.Gb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F){return this.oa.Gb?this.oa.Gb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F):this.oa.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F)};
g.Hb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N){return this.oa.Hb?this.oa.Hb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N):this.oa.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N)};g.Ib=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O){return this.oa.Ib?this.oa.Ib(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O):this.oa.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O)};
g.Jb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U){return this.oa.Jb?this.oa.Jb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U):this.oa.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U)};g.he=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea){return Be.qf?Be.qf(this.oa,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea):Be.call(null,this.oa,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea)};function xf(a,b){return sa(a)?new wf(a,b):null==a?null:rd(a,b)}
function yf(a){return null!=a&&(null!=a?a.Si&131072||l===a.je||(a.Si?0:Ac(pd,a)):Ac(pd,a))?qd(a):null}var Af=function Af(a){switch(arguments.length){case 1:return Af.Mi(arguments[0]);case 2:return Af.Li(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return Af.Pi(arguments[0],arguments[1],c)}};Af.Mi=function(a){return a};Af.Li=function(a,b){return null==a?null:jd(a,b)};
Af.Pi=function(a,b,c){for(;;){if(null==a)return null;a=Af.Li(a,b);if(q(c))b=H(c),c=J(c);else return a}};Af.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.Pi(b,a,c)};Af.$=2;function Bf(a){return null==a||yc(E(a))}function Cf(a){return null==a?!1:null!=a?a.Si&8||l===a.wi?!0:a.Si?!1:Ac(Qc,a):Ac(Qc,a)}function Df(a){return null==a?!1:null!=a?a.Si&4096||l===a.Gi?!0:a.Si?!1:Ac(id,a):Ac(id,a)}function Ef(a){return null!=a?a.Si&16777216||l===a.og?!0:a.Si?!1:Ac(Ed,a):Ac(Ed,a)}
function Ff(a){return null==a?!1:null!=a?a.Si&1024||l===a.Ci?!0:a.Si?!1:Ac(ed,a):Ac(ed,a)}function Gf(a){return null!=a?a.Si&67108864||l===a.Fi?!0:a.Si?!1:Ac(Gd,a):Ac(Gd,a)}function Hf(a){return null!=a?a.Si&16384||l===a.Hi?!0:a.Si?!1:Ac(md,a):Ac(md,a)}function If(a){return null!=a?a.Xi&512||l===a.vi?!0:!1:!1}function Jf(a,b,c,d,e){for(;0!==e;)c[d]=a[b],d+=1,--e,b+=1}var Kf={};function Lf(a){return null==a?!1:null!=a?a.Si&64||l===a.va?!0:a.Si?!1:Ac(Uc,a):Ac(Uc,a)}
function Mf(a){return null==a?!1:!1===a?!1:!0}function Nf(a){var b=vf(a);return b?b:null!=a?a.Si&1||l===a.yi?!0:a.Si?!1:Ac(Lc,a):Ac(Lc,a)}function Of(a){return"number"===typeof a&&!isNaN(a)&&Infinity!==a&&parseFloat(a)===parseInt(a,10)}function Pf(a,b){return B.Ni(a,b,Kf)===Kf?!1:!0}
var Qf=function Qf(a){switch(arguments.length){case 1:return Qf.Mi(arguments[0]);case 2:return Qf.Li(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return Qf.Pi(arguments[0],arguments[1],c)}};Qf.Mi=function(){return!0};Qf.Li=function(a,b){return!D.Li(a,b)};Qf.Pi=function(a,b,c){if(D.Li(a,b))return!1;a=Rf([a,b]);for(b=c;;){var d=H(b);c=J(b);if(q(b)){if(Pf(a,d))return!1;a=pf.Li(a,d);b=c}else return!0}};
Qf.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.Pi(b,a,c)};Qf.$=2;function Sf(a,b){if(a===b)return 0;if(null==a)return-1;if(null==b)return 1;if("number"===typeof a){if("number"===typeof b)return ab(a,b);throw Error(["Cannot compare ",t.Mi(a)," to ",t.Mi(b)].join(""));}if(null!=a?a.Xi&2048||l===a.bd||(a.Xi?0:Ac(Yd,a)):Ac(Yd,a))return Zd(a,b);if("string"!==typeof a&&!wc(a)&&!0!==a&&!1!==a||Bc(a)!==Bc(b))throw Error(["Cannot compare ",t.Mi(a)," to ",t.Mi(b)].join(""));return ab(a,b)}
function Tf(a,b){var c=K(a),d=K(b);if(c<d)a=-1;else if(c>d)a=1;else if(0===c)a=0;else a:for(d=0;;){var e=Sf(bf(a,d),bf(b,d));if(0===e&&d+1<c)d+=1;else{a=e;break a}}return a}function Uf(a){return D.Li(a,Sf)?Sf:function(b,c){var d=a.Li?a.Li(b,c):a.call(null,b,c);return"number"===typeof d?d:q(d)?-1:q(a.Li?a.Li(c,b):a.call(null,c,b))?1:0}}function Vf(a,b){return E(b)?(b=Wf.Mi?Wf.Mi(b):Wf.call(null,b),bb(b,Uf(a)),E(b)):Ge}
function kf(a){switch(arguments.length){case 2:return jf(arguments[0],arguments[1]);case 3:return lf(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length)].join(""));}}function jf(a,b){var c=E(b);return c?(b=H(c),c=J(c),v.Ni?v.Ni(a,b,c):v.call(null,a,b,c)):a.Ui?a.Ui():a.call(null)}function lf(a,b,c){for(c=E(c);;)if(c){var d=H(c);b=a.Li?a.Li(b,d):a.call(null,b,d);if(Re(b))return y(b);c=J(c)}else return b}
function Xf(a){a=Wf.Mi?Wf.Mi(a):Wf.call(null,a);cb(a);return Yf.Mi?Yf.Mi(a):Yf.call(null,a)}function ag(a,b){a=je(a);if(q(a.ab()))for(var c=a.next();;)if(a.ab()){var d=a.next();c=b.Li?b.Li(c,d):b.call(null,c,d);if(Re(c))return y(c)}else return c;else return b.Ui?b.Ui():b.call(null)}function bg(a,b,c){for(a=je(a);;)if(a.ab()){var d=a.next();c=b.Li?b.Li(c,d):b.call(null,c,d);if(Re(c))return y(c)}else return c}
var v=function v(a){switch(arguments.length){case 2:return v.Li(arguments[0],arguments[1]);case 3:return v.Ni(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length)].join(""));}};v.Li=function(a,b){return null!=b&&(b.Si&524288||l===b.ih)?b.Ta(null,a):wc(b)?We(b,a):"string"===typeof b?We(b,a):Ac(sd,b)?td(b,a):Ce(b)?ag(b,a):jf(a,b)};
v.Ni=function(a,b,c){return null!=c&&(c.Si&524288||l===c.ih)?c.Ua(null,a,b):wc(c)?Xe(c,a,b):"string"===typeof c?Xe(c,a,b):Ac(sd,c)?td(c,a,b):Ce(c)?bg(c,a,b):lf(a,b,c)};v.$=3;function cg(a,b,c){return null!=c?wd(c,a,b):b}function dg(a){return a}
function eg(a,b){return function(){function c(h,k){return a.Li?a.Li(h,k):a.call(null,h,k)}function d(h){return b.Mi?b.Mi(h):b.call(null,h)}function e(){return a.Ui?a.Ui():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.Ui=e;f.Mi=d;f.Li=c;return f}()}function fg(a,b,c){return gg(a,b,b.Ui?b.Ui():b.call(null),c)}
function gg(a,b,c,d){a=a.Mi?a.Mi(b):a.call(null,b);c=v.Ni(a,c,d);return a.Mi?a.Mi(c):a.call(null,c)}var hg=function hg(a){switch(arguments.length){case 0:return hg.Ui();case 1:return hg.Mi(arguments[0]);case 2:return hg.Li(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return hg.Pi(arguments[0],arguments[1],c)}};hg.Ui=function(){return 0};hg.Mi=function(a){return a};hg.Li=function(a,b){return a+b};
hg.Pi=function(a,b,c){return v.Ni(hg,a+b,c)};hg.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.Pi(b,a,c)};hg.$=2;var ig=function ig(a){switch(arguments.length){case 1:return ig.Mi(arguments[0]);case 2:return ig.Li(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return ig.Pi(arguments[0],arguments[1],c)}};ig.Mi=function(a){return-a};ig.Li=function(a,b){return a-b};
ig.Pi=function(a,b,c){return v.Ni(ig,a-b,c)};ig.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.Pi(b,a,c)};ig.$=2;var jg=function jg(a){switch(arguments.length){case 0:return jg.Ui();case 1:return jg.Mi(arguments[0]);case 2:return jg.Li(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return jg.Pi(arguments[0],arguments[1],c)}};jg.Ui=function(){return 1};jg.Mi=function(a){return a};
jg.Li=function(a,b){return a*b};jg.Pi=function(a,b,c){return v.Ni(jg,a*b,c)};jg.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.Pi(b,a,c)};jg.$=2;var kg=function kg(a){switch(arguments.length){case 1:return kg.Mi(arguments[0]);case 2:return kg.Li(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return kg.Pi(arguments[0],arguments[1],c)}};kg.Mi=function(a){return 1/a};
kg.Li=function(a,b){return a/b};kg.Pi=function(a,b,c){return v.Ni(kg,a/b,c)};kg.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.Pi(b,a,c)};kg.$=2;var lg=function lg(a){switch(arguments.length){case 1:return lg.Mi(arguments[0]);case 2:return lg.Li(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return lg.Pi(arguments[0],arguments[1],c)}};lg.Mi=function(){return!0};
lg.Li=function(a,b){return a<b};lg.Pi=function(a,b,c){for(;;)if(a<b)if(J(c))a=b,b=H(c),c=J(c);else return b<H(c);else return!1};lg.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.Pi(b,a,c)};lg.$=2;var mg=function mg(a){switch(arguments.length){case 1:return mg.Mi(arguments[0]);case 2:return mg.Li(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return mg.Pi(arguments[0],arguments[1],c)}};
mg.Mi=function(){return!0};mg.Li=function(a,b){return a<=b};mg.Pi=function(a,b,c){for(;;)if(a<=b)if(J(c))a=b,b=H(c),c=J(c);else return b<=H(c);else return!1};mg.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.Pi(b,a,c)};mg.$=2;
var ng=function ng(a){switch(arguments.length){case 1:return ng.Mi(arguments[0]);case 2:return ng.Li(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return ng.Pi(arguments[0],arguments[1],c)}};ng.Mi=function(){return!0};ng.Li=function(a,b){return a>b};ng.Pi=function(a,b,c){for(;;)if(a>b)if(J(c))a=b,b=H(c),c=J(c);else return b>H(c);else return!1};
ng.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.Pi(b,a,c)};ng.$=2;var og=function og(a){switch(arguments.length){case 1:return og.Mi(arguments[0]);case 2:return og.Li(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return og.Pi(arguments[0],arguments[1],c)}};og.Mi=function(){return!0};og.Li=function(a,b){return a>=b};
og.Pi=function(a,b,c){for(;;)if(a>=b)if(J(c))a=b,b=H(c),c=J(c);else return b>=H(c);else return!1};og.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.Pi(b,a,c)};og.$=2;var pg=function pg(a){switch(arguments.length){case 1:return pg.Mi(arguments[0]);case 2:return pg.Li(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return pg.Pi(arguments[0],arguments[1],c)}};pg.Mi=function(a){return a};
pg.Li=function(a,b){return a>b?a:b};pg.Pi=function(a,b,c){return v.Ni(pg,a>b?a:b,c)};pg.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.Pi(b,a,c)};pg.$=2;var qg=function qg(a){switch(arguments.length){case 1:return qg.Mi(arguments[0]);case 2:return qg.Li(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return qg.Pi(arguments[0],arguments[1],c)}};qg.Mi=function(a){return a};
qg.Li=function(a,b){return a<b?a:b};qg.Pi=function(a,b,c){return v.Ni(qg,a<b?a:b,c)};qg.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.Pi(b,a,c)};qg.$=2;function rg(a){if("number"===typeof a)return String.fromCharCode(a);if("string"===typeof a&&1===a.length)return a;throw Error("Argument to char must be a character or number");}function sg(a){return 0<=a?Math.floor(a):Math.ceil(a)}function tg(a,b){return(a%b+b)%b}function ug(a,b){return sg((a-a%b)/b)}
function vg(a,b){return a-b*ug(a,b)}function wg(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}var xg=function xg(a){switch(arguments.length){case 1:return xg.Mi(arguments[0]);case 2:return xg.Li(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return xg.Pi(arguments[0],arguments[1],c)}};xg.Mi=function(){return!0};xg.Li=function(a,b){return xd(a,b)};
xg.Pi=function(a,b,c){for(;;)if(a===b)if(J(c))a=b,b=H(c),c=J(c);else return b===H(c);else return!1};xg.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.Pi(b,a,c)};xg.$=2;var t=function t(a){switch(arguments.length){case 0:return t.Ui();case 1:return t.Mi(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(1),0,null);return t.Pi(arguments[0],c)}};t.Ui=function(){return""};t.Mi=function(a){return null==a?"":[a].join("")};
t.Pi=function(a,b){for(a=new dc(t.Mi(a));;)if(q(b))a=a.append(t.Mi(H(b))),b=J(b);else return a.toString()};t.ca=function(a){var b=H(a);a=J(a);return this.Pi(b,a)};t.$=1;var yg=function yg(a){switch(arguments.length){case 2:return yg.Li(arguments[0],arguments[1]);case 3:return yg.Ni(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length)].join(""));}};yg.Li=function(a,b){return a.substring(b)};yg.Ni=function(a,b,c){return a.substring(b,c)};yg.$=3;
function gf(a,b){if(Ef(b))if(Ze(a)&&Ze(b)&&K(a)!==K(b))a=!1;else a:for(a=E(a),b=E(b);;){if(null==a){a=null==b;break a}if(null!=b&&D.Li(H(a),H(b)))a=J(a),b=J(b);else{a=!1;break a}}else a=null;return Mf(a)}function rf(a,b,c,d,e){this.meta=a;this.first=b;this.rest=c;this.count=d;this.Ri=e;this.Si=65937646;this.Xi=8192}g=rf.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.aa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Mi=function(b){return af(this,b,0)};a.Li=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Mi=a;b.Li=function(c,d){return df(this,c,d)};return b}();g.da=function(){return this.meta};g.Oa=function(){return 1===this.count?null:this.rest};g.ha=function(){return this.count};g.dd=function(){return this.first};g.ed=function(){return this.eb(null)};
g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=Ke(this)};g.aa=function(a,b){return gf(this,b)};g.Ka=function(){return rd(Ge,this.meta)};g.Ta=function(a,b){return jf(b,this)};g.Ua=function(a,b,c){return lf(b,c,this)};g.Va=function(){return this.first};g.eb=function(){return 1===this.count?Ge:this.rest};g.ga=function(){return this};g.ea=function(a,b){return b===this.meta?this:new rf(b,this.first,this.rest,this.count,this.Ri)};
g.ja=function(a,b){return new rf(this.meta,b,this,this.count+1,null)};function zg(a){return null!=a?a.Si&33554432||l===a.Bi?!0:a.Si?!1:Ac(Fd,a):Ac(Fd,a)}rf.prototype[Ec]=function(){return Ie(this)};function Ag(a){this.meta=a;this.Si=65937614;this.Xi=8192}g=Ag.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.aa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Mi=function(b){return af(this,b,0)};a.Li=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Mi=a;b.Li=function(c,d){return df(this,c,d)};return b}();g.da=function(){return this.meta};g.Oa=function(){return null};g.ha=function(){return 0};g.dd=function(){return null};g.ed=function(){throw Error("Can't pop empty list");};g.ia=function(){return Le};
g.aa=function(a,b){return zg(b)||Ef(b)?null==E(b):!1};g.Ka=function(){return this};g.Ta=function(a,b){return jf(b,this)};g.Ua=function(a,b,c){return lf(b,c,this)};g.Va=function(){return null};g.eb=function(){return Ge};g.ga=function(){return null};g.ea=function(a,b){return b===this.meta?this:new Ag(b)};g.ja=function(a,b){return new rf(this.meta,b,null,1,null)};var Ge=new Ag(null);Ag.prototype[Ec]=function(){return Ie(this)};
function Bg(a){return(null!=a?a.Si&134217728||l===a.kh||(a.Si?0:Ac(Hd,a)):Ac(Hd,a))?(a=Id(a))?a:Ge:v.Ni(pf,Ge,a)}var Cg=function Cg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return Cg.Pi(c)};Cg.Pi=function(a){if(a instanceof De&&0===a.i)var b=a.Ti;else a:for(b=[];;)if(null!=a)b.push(Vc(a)),a=Zc(a);else break a;a=b.length;for(var c=Ge;;)if(0<a){var d=a-1;c=Rc(c,b[a-1]);a=d}else return c};Cg.$=0;Cg.ca=function(a){return this.Pi(E(a))};
function Dg(a,b,c,d){this.meta=a;this.first=b;this.rest=c;this.Ri=d;this.Si=65929452;this.Xi=8192}g=Dg.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.aa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Mi=function(b){return af(this,b,0)};a.Li=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Mi=a;b.Li=function(c,d){return df(this,c,d)};return b}();g.da=function(){return this.meta};g.Oa=function(){return null==this.rest?null:E(this.rest)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=Ke(this)};g.aa=function(a,b){return gf(this,b)};g.Ka=function(){return Ge};
g.Ta=function(a,b){return jf(b,this)};g.Ua=function(a,b,c){return lf(b,c,this)};g.Va=function(){return this.first};g.eb=function(){return null==this.rest?Ge:this.rest};g.ga=function(){return this};g.ea=function(a,b){return b===this.meta?this:new Dg(b,this.first,this.rest,this.Ri)};g.ja=function(a,b){return new Dg(null,b,this,null)};Dg.prototype[Ec]=function(){return Ie(this)};
function hf(a,b){return null==b?new rf(null,a,null,1,null):null!=b&&(b.Si&64||l===b.va)?new Dg(null,a,b,null):new Dg(null,a,E(b),null)}function Eg(a,b){if(a.ma===b.ma)return 0;if(q(yc(a.Qb)?b.Qb:!1))return-1;if(q(a.Qb)){if(yc(b.Qb))return 1;var c=ab(a.Qb,b.Qb);return 0===c?ab(a.name,b.name):c}return ab(a.name,b.name)}function C(a,b,c,d){this.Qb=a;this.name=b;this.ma=c;this._hash=d;this.Si=2153775105;this.Xi=4096}g=C.prototype;g.toString=function(){return[":",t.Mi(this.ma)].join("")};
g.equiv=function(a){return this.aa(null,a)};g.aa=function(a,b){return b instanceof C?this.ma===b.ma:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.Mi(arguments[1]);case 2:return this.Li(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.Mi=function(a){return B.Li(a,this)};g.Li=function(a,b){return B.Ni(a,this,b)};
g.ia=function(){var a=this._hash;return null!=a?a:this._hash=a=xe(this)+2654435769|0};g.ke=function(){return this.name};g.le=function(){return this.Qb};g.fa=function(a,b){return Jd(b,[":",t.Mi(this.ma)].join(""))};function S(a,b){return a===b?!0:a instanceof C&&b instanceof C?a.ma===b.ma:!1}function Fg(a){if(null!=a&&(a.Xi&4096||l===a.ng))return a.le(null);throw Error(["Doesn't support namespace: ",t.Mi(a)].join(""));}function Gg(a){return a instanceof C||a instanceof z}
var Hg=function Hg(a){switch(arguments.length){case 1:return Hg.Mi(arguments[0]);case 2:return Hg.Li(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length)].join(""));}};Hg.Mi=function(a){if(a instanceof C)return a;if(a instanceof z)return new C(Fg(a),Ig.Mi?Ig.Mi(a):Ig.call(null,a),a.$c,null);if(D.Li("/",a))return new C(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new C(b[0],b[1],a,null):new C(null,b[0],a,null)}return null};
Hg.Li=function(a,b){a=a instanceof C?Ig.Mi?Ig.Mi(a):Ig.call(null,a):a instanceof z?Ig.Mi?Ig.Mi(a):Ig.call(null,a):a;b=b instanceof C?Ig.Mi?Ig.Mi(b):Ig.call(null,b):b instanceof z?Ig.Mi?Ig.Mi(b):Ig.call(null,b):b;return new C(a,b,[q(a)?[t.Mi(a),"/"].join(""):null,t.Mi(b)].join(""),null)};Hg.$=2;function Jg(a,b,c,d){this.meta=a;this.fn=b;this.s=c;this.Ri=d;this.Si=32374988;this.Xi=1}g=Jg.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.aa(null,a)};
function Kg(a){null!=a.fn&&(a.s=a.fn.Ui?a.fn.Ui():a.fn.call(null),a.fn=null);return a.s}g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Mi=function(b){return af(this,b,0)};a.Li=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Mi=a;b.Li=function(c,d){return df(this,c,d)};return b}();g.da=function(){return this.meta};g.Oa=function(){this.ga(null);return null==this.s?null:J(this.s)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=Ke(this)};g.aa=function(a,b){return gf(this,b)};
g.Ka=function(){return rd(Ge,this.meta)};g.Pe=function(){return yc(this.fn)};g.Ta=function(a,b){return jf(b,this)};g.Ua=function(a,b,c){return lf(b,c,this)};g.Va=function(){this.ga(null);return null==this.s?null:H(this.s)};g.eb=function(){this.ga(null);return null!=this.s?Fe(this.s):Ge};g.ga=function(){Kg(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof Jg)a=Kg(a);else return this.s=a,E(this.s)};
g.ea=function(a,b){var c=this;return b===this.meta?c:new Jg(b,function(){return c.ga(null)},null,this.Ri)};g.ja=function(a,b){return hf(b,this)};Jg.prototype[Ec]=function(){return Ie(this)};function Lg(a){this.Da=a;this.end=0;this.Si=2;this.Xi=0}Lg.prototype.add=function(a){this.Da[this.end]=a;return this.end+=1};Lg.prototype.ac=function(){var a=new Mg(this.Da,0,this.end);this.Da=null;return a};Lg.prototype.ha=function(){return this.end};function Ng(a){return new Lg(Array(a))}
function Mg(a,b,c){this.Ti=a;this.off=b;this.end=c;this.Si=524306;this.Xi=0}g=Mg.prototype;g.ha=function(){return this.end-this.off};g.xa=function(a,b){return this.Ti[this.off+b]};g.Sa=function(a,b,c){return 0<=b&&b<this.end-this.off?this.Ti[this.off+b]:c};g.ee=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Mg(this.Ti,this.off+1,this.end)};g.Ta=function(a,b){return Ye(this.Ti,b,this.Ti[this.off],this.off+1)};g.Ua=function(a,b,c){return Ye(this.Ti,b,c,this.off)};
function Pg(a,b,c,d){this.ac=a;this.Pc=b;this.meta=c;this.Ri=d;this.Si=31850732;this.Xi=1536}g=Pg.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.aa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Mi=function(b){return af(this,b,0)};a.Li=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Mi=a;b.Li=function(c,d){return df(this,c,d)};return b}();g.da=function(){return this.meta};g.Oa=function(){return 1<Nc(this.ac)?new Pg($d(this.ac),this.Pc,null,null):null==this.Pc?null:Dd(this.Pc)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=Ke(this)};
g.aa=function(a,b){return gf(this,b)};g.Ka=function(){return Ge};g.Va=function(){return x(this.ac,0)};g.eb=function(){return 1<Nc(this.ac)?new Pg($d(this.ac),this.Pc,null,null):null==this.Pc?Ge:this.Pc};g.ga=function(){return this};g.ge=function(){return this.ac};g.Dd=function(){return null==this.Pc?Ge:this.Pc};g.ea=function(a,b){return b===this.meta?this:new Pg(this.ac,this.Pc,b,this.Ri)};g.ja=function(a,b){return hf(b,this)};g.fe=function(){return null==this.Pc?null:this.Pc};Pg.prototype[Ec]=function(){return Ie(this)};
function Qg(a,b){return 0===Nc(a)?b:new Pg(a,b,null,null)}function Rg(a,b){a.add(b)}function Sg(a){return a.ac()}function Wf(a){var b=[];for(a=E(a);;)if(null!=a)b.push(H(a)),a=J(a);else return b}function Tg(a,b){if(Ze(b))return K(b);var c=0;for(b=E(b);;)if(null!=b&&c<a)c+=1,b=J(b);else return c}
var Ug=function Ug(a){if(null==a)return null;var c=J(a);return null==c?E(H(a)):hf(H(a),Ug.Mi?Ug.Mi(c):Ug.call(null,c))},T=function T(a){switch(arguments.length){case 0:return T.Ui();case 1:return T.Mi(arguments[0]);case 2:return T.Li(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return T.Pi(arguments[0],arguments[1],c)}};T.Ui=function(){return new Jg(null,function(){return null},null,null)};
T.Mi=function(a){return new Jg(null,function(){return a},null,null)};T.Li=function(a,b){return new Jg(null,function(){var c=E(a);return c?If(c)?Qg(ae(c),T.Li(be(c),b)):hf(H(c),T.Li(Fe(c),b)):b},null,null)};T.Pi=function(a,b,c){return function h(e,f){return new Jg(null,function(){var k=E(e);return k?If(k)?Qg(ae(k),h(be(k),f)):hf(H(k),h(Fe(k),f)):q(f)?h(H(f),J(f)):null},null,null)}(T.Li(a,b),c)};T.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.Pi(b,a,c)};T.$=2;
function Vg(a,b,c){return hf(a,hf(b,c))}function Wg(a){return Td(a)}function Xg(a){return Vd(a)}var Zg=function Zg(a){switch(arguments.length){case 0:return Zg.Ui();case 1:return Zg.Mi(arguments[0]);case 2:return Zg.Li(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return Zg.Pi(arguments[0],arguments[1],c)}};Zg.Ui=function(){return Td(qf)};Zg.Mi=function(a){return a};Zg.Li=function(a,b){return Ud(a,b)};
Zg.Pi=function(a,b,c){for(;;)if(a=Ud(a,b),q(c))b=H(c),c=J(c);else return a};Zg.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.Pi(b,a,c)};Zg.$=2;var $g=function $g(a){switch(arguments.length){case 3:return $g.Ni(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(3),0,null);return $g.Pi(arguments[0],arguments[1],arguments[2],c)}};$g.Ni=function(a,b,c){return Wd(a,b,c)};
$g.Pi=function(a,b,c,d){for(;;)if(a=Wd(a,b,c),q(d))b=H(d),c=mf(d),d=J(J(d));else return a};$g.ca=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);d=J(d);return this.Pi(b,a,c,d)};$g.$=3;
function ah(a,b,c){var d=E(c);if(0===b)return a.Ui?a.Ui():a.call(null);c=Vc(d);var e=Wc(d);if(1===b)return a.Mi?a.Mi(c):a.call(null,c);d=Vc(e);var f=Wc(e);if(2===b)return a.Li?a.Li(c,d):a.call(null,c,d);e=Vc(f);var h=Wc(f);if(3===b)return a.Ni?a.Ni(c,d,e):a.call(null,c,d,e);f=Vc(h);var k=Wc(h);if(4===b)return a.Vi?a.Vi(c,d,e,f):a.call(null,c,d,e,f);h=Vc(k);var m=Wc(k);if(5===b)return a.la?a.la(c,d,e,f,h):a.call(null,c,d,e,f,h);k=Vc(m);var n=Wc(m);if(6===b)return a.Za?a.Za(c,d,e,f,h,k):a.call(null,
c,d,e,f,h,k);m=Vc(n);var r=Wc(n);if(7===b)return a.Kb?a.Kb(c,d,e,f,h,k,m):a.call(null,c,d,e,f,h,k,m);n=Vc(r);var u=Wc(r);if(8===b)return a.vb?a.vb(c,d,e,f,h,k,m,n):a.call(null,c,d,e,f,h,k,m,n);r=Vc(u);var w=Wc(u);if(9===b)return a.Lb?a.Lb(c,d,e,f,h,k,m,n,r):a.call(null,c,d,e,f,h,k,m,n,r);u=Vc(w);var A=Wc(w);if(10===b)return a.zb?a.zb(c,d,e,f,h,k,m,n,r,u):a.call(null,c,d,e,f,h,k,m,n,r,u);w=Vc(A);var G=Wc(A);if(11===b)return a.Ab?a.Ab(c,d,e,f,h,k,m,n,r,u,w):a.call(null,c,d,e,f,h,k,m,n,r,u,w);A=Vc(G);
var I=Wc(G);if(12===b)return a.Bb?a.Bb(c,d,e,f,h,k,m,n,r,u,w,A):a.call(null,c,d,e,f,h,k,m,n,r,u,w,A);G=Vc(I);var F=Wc(I);if(13===b)return a.Cb?a.Cb(c,d,e,f,h,k,m,n,r,u,w,A,G):a.call(null,c,d,e,f,h,k,m,n,r,u,w,A,G);I=Vc(F);var N=Wc(F);if(14===b)return a.Db?a.Db(c,d,e,f,h,k,m,n,r,u,w,A,G,I):a.call(null,c,d,e,f,h,k,m,n,r,u,w,A,G,I);F=Vc(N);var O=Wc(N);if(15===b)return a.Eb?a.Eb(c,d,e,f,h,k,m,n,r,u,w,A,G,I,F):a.call(null,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F);N=Vc(O);var U=Wc(O);if(16===b)return a.Fb?a.Fb(c,
d,e,f,h,k,m,n,r,u,w,A,G,I,F,N):a.call(null,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N);O=Vc(U);var ea=Wc(U);if(17===b)return a.Gb?a.Gb(c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O):a.call(null,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O);U=Vc(ea);var va=Wc(ea);if(18===b)return a.Hb?a.Hb(c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U):a.call(null,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U);ea=Vc(va);va=Wc(va);if(19===b)return a.Ib?a.Ib(c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea):a.call(null,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea);var wa=Vc(va);Wc(va);
if(20===b)return a.Jb?a.Jb(c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea,wa):a.call(null,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea,wa);throw Error("Only up to 20 arguments supported on functions");}function bh(a){return null!=a&&(a.Si&128||l===a.me)?a.Oa(null):E(Fe(a))}function ch(a,b,c){return null==c?a.Mi?a.Mi(b):a.call(a,b):dh(a,b,Vc(c),bh(c))}function dh(a,b,c,d){return null==d?a.Li?a.Li(b,c):a.call(a,b,c):eh(a,b,c,Vc(d),bh(d))}
function eh(a,b,c,d,e){return null==e?a.Ni?a.Ni(b,c,d):a.call(a,b,c,d):fh(a,b,c,d,Vc(e),bh(e))}
function fh(a,b,c,d,e,f){if(null==f)return a.Vi?a.Vi(b,c,d,e):a.call(a,b,c,d,e);var h=Vc(f),k=J(f);if(null==k)return a.la?a.la(b,c,d,e,h):a.call(a,b,c,d,e,h);f=Vc(k);var m=J(k);if(null==m)return a.Za?a.Za(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=Vc(m);var n=J(m);if(null==n)return a.Kb?a.Kb(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);m=Vc(n);var r=J(n);if(null==r)return a.vb?a.vb(b,c,d,e,h,f,k,m):a.call(a,b,c,d,e,h,f,k,m);n=Vc(r);var u=J(r);if(null==u)return a.Lb?a.Lb(b,c,d,e,h,f,k,m,n):a.call(a,b,c,d,e,h,
f,k,m,n);r=Vc(u);var w=J(u);if(null==w)return a.zb?a.zb(b,c,d,e,h,f,k,m,n,r):a.call(a,b,c,d,e,h,f,k,m,n,r);u=Vc(w);var A=J(w);if(null==A)return a.Ab?a.Ab(b,c,d,e,h,f,k,m,n,r,u):a.call(a,b,c,d,e,h,f,k,m,n,r,u);w=Vc(A);var G=J(A);if(null==G)return a.Bb?a.Bb(b,c,d,e,h,f,k,m,n,r,u,w):a.call(a,b,c,d,e,h,f,k,m,n,r,u,w);A=Vc(G);var I=J(G);if(null==I)return a.Cb?a.Cb(b,c,d,e,h,f,k,m,n,r,u,w,A):a.call(a,b,c,d,e,h,f,k,m,n,r,u,w,A);G=Vc(I);var F=J(I);if(null==F)return a.Db?a.Db(b,c,d,e,h,f,k,m,n,r,u,w,A,G):
a.call(a,b,c,d,e,h,f,k,m,n,r,u,w,A,G);I=Vc(F);var N=J(F);if(null==N)return a.Eb?a.Eb(b,c,d,e,h,f,k,m,n,r,u,w,A,G,I):a.call(a,b,c,d,e,h,f,k,m,n,r,u,w,A,G,I);F=Vc(N);var O=J(N);if(null==O)return a.Fb?a.Fb(b,c,d,e,h,f,k,m,n,r,u,w,A,G,I,F):a.call(a,b,c,d,e,h,f,k,m,n,r,u,w,A,G,I,F);N=Vc(O);var U=J(O);if(null==U)return a.Gb?a.Gb(b,c,d,e,h,f,k,m,n,r,u,w,A,G,I,F,N):a.call(a,b,c,d,e,h,f,k,m,n,r,u,w,A,G,I,F,N);O=Vc(U);var ea=J(U);if(null==ea)return a.Hb?a.Hb(b,c,d,e,h,f,k,m,n,r,u,w,A,G,I,F,N,O):a.call(a,b,
c,d,e,h,f,k,m,n,r,u,w,A,G,I,F,N,O);U=Vc(ea);var va=J(ea);if(null==va)return a.Ib?a.Ib(b,c,d,e,h,f,k,m,n,r,u,w,A,G,I,F,N,O,U):a.call(a,b,c,d,e,h,f,k,m,n,r,u,w,A,G,I,F,N,O,U);ea=Vc(va);va=J(va);if(null==va)return a.Jb?a.Jb(b,c,d,e,h,f,k,m,n,r,u,w,A,G,I,F,N,O,U,ea):a.call(a,b,c,d,e,h,f,k,m,n,r,u,w,A,G,I,F,N,O,U,ea);b=[b,c,d,e,h,f,k,m,n,r,u,w,A,G,I,F,N,O,U,ea];for(c=va;;)if(c)b.push(Vc(c)),c=J(c);else break;return a.apply(a,b)}
function Be(a){switch(arguments.length){case 2:return gh(arguments[0],arguments[1]);case 3:return hh(arguments[0],arguments[1],arguments[2]);case 4:return ih(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return jh(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=new De(b.slice(5),0,null);return kh(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)}}
function gh(a,b){if(a.ca){var c=a.$,d=Tg(c+1,b);return d<=c?ah(a,d,b):a.ca(b)}b=E(b);return null==b?a.Ui?a.Ui():a.call(a):ch(a,Vc(b),bh(b))}function hh(a,b,c){if(a.ca){b=hf(b,c);var d=a.$;c=Tg(d,c)+1;return c<=d?ah(a,c,b):a.ca(b)}return ch(a,b,E(c))}function ih(a,b,c,d){return a.ca?(b=Vg(b,c,d),c=a.$,d=2+Tg(c-1,d),d<=c?ah(a,d,b):a.ca(b)):dh(a,b,c,E(d))}function jh(a,b,c,d,e){return a.ca?(b=hf(b,hf(c,hf(d,e))),c=a.$,e=3+Tg(c-2,e),e<=c?ah(a,e,b):a.ca(b)):eh(a,b,c,d,E(e))}
function kh(a,b,c,d,e,f){return a.ca?(f=Ug(f),b=hf(b,hf(c,hf(d,hf(e,f)))),c=a.$,f=4+Tg(c-3,f),f<=c?ah(a,f,b):a.ca(b)):fh(a,b,c,d,e,Ug(f))}var lh=function lh(a){switch(arguments.length){case 1:return lh.Mi(arguments[0]);case 2:return lh.Li(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return lh.Pi(arguments[0],arguments[1],c)}};lh.Mi=function(){return!1};lh.Li=function(a,b){return!D.Li(a,b)};
lh.Pi=function(a,b,c){return yc(ih(D,a,b,c))};lh.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.Pi(b,a,c)};lh.$=2;function mh(a){return E(a)?a:null}
function nh(){if("undefined"===typeof fc||"undefined"===typeof gc||"undefined"===typeof hc)hc=function(a){this.Jh=a;this.Si=393216;this.Xi=0},hc.prototype.ea=function(a,b){return new hc(b)},hc.prototype.da=function(){return this.Jh},hc.prototype.ab=function(){return!1},hc.prototype.next=function(){return Error("No such element")},hc.prototype.remove=function(){return Error("Unsupported operation")},hc.Mb=!0,hc.wb="cljs.core/t_cljs$core19718",hc.Wb=function(a){return Jd(a,"cljs.core/t_cljs$core19718")};
return new hc(V)}var oh={},ph={};function qh(a){this.be=oh;this._next=a}qh.prototype.ab=function(){this.be===oh?(this.be=ph,this._next=E(this._next)):this.be===this._next&&(this._next=J(this.be));return null!=this._next};qh.prototype.next=function(){if(this.ab())return this.be=this._next,H(this._next);throw Error("No such element");};qh.prototype.remove=function(){return Error("Unsupported operation")};
function rh(a,b){for(;;){if(null==E(b))return!0;var c=H(b);c=a.Mi?a.Mi(c):a.call(null,c);if(q(c))b=J(b);else return!1}}function sh(a,b){for(;;)if(b=E(b)){var c=H(b);c=a.Mi?a.Mi(c):a.call(null,c);if(q(c))return c;b=J(b)}else return null}function th(a){if(Of(a))return 0===(a&1);throw Error(["Argument must be an integer: ",t.Mi(a)].join(""));}
function uh(a){return function(){function b(h,k){return yc(a.Li?a.Li(h,k):a.call(null,h,k))}function c(h){return yc(a.Mi?a.Mi(h):a.call(null,h))}function d(){return yc(a.Ui?a.Ui():a.call(null))}var e=null,f=function(){function h(m,n,r){var u=null;if(2<arguments.length){u=0;for(var w=Array(arguments.length-2);u<w.length;)w[u]=arguments[u+2],++u;u=new De(w,0,null)}return k.call(this,m,n,u)}function k(m,n,r){return yc(ih(a,m,n,r))}h.$=2;h.ca=function(m){var n=H(m);m=J(m);var r=H(m);m=Fe(m);return k(n,
r,m)};h.Pi=k;return h}();e=function(h,k,m){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,h);case 2:return b.call(this,h,k);default:var n=null;if(2<arguments.length){n=0;for(var r=Array(arguments.length-2);n<r.length;)r[n]=arguments[n+2],++n;n=new De(r,0,null)}return f.Pi(h,k,n)}throw Error("Invalid arity: "+arguments.length);};e.$=2;e.ca=f.ca;e.Ui=d;e.Mi=c;e.Li=b;e.Pi=f.Pi;return e}()}
function vh(a){return function(){function b(c){if(0<arguments.length)for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;return a}b.$=0;b.ca=function(c){E(c);return a};b.Pi=function(){return a};return b}()}
var wh=function wh(a){switch(arguments.length){case 0:return wh.Ui();case 1:return wh.Mi(arguments[0]);case 2:return wh.Li(arguments[0],arguments[1]);case 3:return wh.Ni(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(3),0,null);return wh.Pi(arguments[0],arguments[1],arguments[2],c)}};wh.Ui=function(){return dg};wh.Mi=function(a){return a};
wh.Li=function(a,b){return function(){function c(m,n,r){m=b.Ni?b.Ni(m,n,r):b.call(null,m,n,r);return a.Mi?a.Mi(m):a.call(null,m)}function d(m,n){m=b.Li?b.Li(m,n):b.call(null,m,n);return a.Mi?a.Mi(m):a.call(null,m)}function e(m){m=b.Mi?b.Mi(m):b.call(null,m);return a.Mi?a.Mi(m):a.call(null,m)}function f(){var m=b.Ui?b.Ui():b.call(null);return a.Mi?a.Mi(m):a.call(null,m)}var h=null,k=function(){function m(r,u,w,A){var G=null;if(3<arguments.length){G=0;for(var I=Array(arguments.length-3);G<I.length;)I[G]=
arguments[G+3],++G;G=new De(I,0,null)}return n.call(this,r,u,w,G)}function n(r,u,w,A){r=jh(b,r,u,w,A);return a.Mi?a.Mi(r):a.call(null,r)}m.$=3;m.ca=function(r){var u=H(r);r=J(r);var w=H(r);r=J(r);var A=H(r);r=Fe(r);return n(u,w,A,r)};m.Pi=n;return m}();h=function(m,n,r,u){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,m,n,r);default:var w=null;if(3<arguments.length){w=0;for(var A=Array(arguments.length-3);w<
A.length;)A[w]=arguments[w+3],++w;w=new De(A,0,null)}return k.Pi(m,n,r,w)}throw Error("Invalid arity: "+arguments.length);};h.$=3;h.ca=k.ca;h.Ui=f;h.Mi=e;h.Li=d;h.Ni=c;h.Pi=k.Pi;return h}()};
wh.Ni=function(a,b,c){return function(){function d(n,r,u){n=c.Ni?c.Ni(n,r,u):c.call(null,n,r,u);n=b.Mi?b.Mi(n):b.call(null,n);return a.Mi?a.Mi(n):a.call(null,n)}function e(n,r){n=c.Li?c.Li(n,r):c.call(null,n,r);n=b.Mi?b.Mi(n):b.call(null,n);return a.Mi?a.Mi(n):a.call(null,n)}function f(n){n=c.Mi?c.Mi(n):c.call(null,n);n=b.Mi?b.Mi(n):b.call(null,n);return a.Mi?a.Mi(n):a.call(null,n)}function h(){var n=c.Ui?c.Ui():c.call(null);n=b.Mi?b.Mi(n):b.call(null,n);return a.Mi?a.Mi(n):a.call(null,n)}var k=null,
m=function(){function n(u,w,A,G){var I=null;if(3<arguments.length){I=0;for(var F=Array(arguments.length-3);I<F.length;)F[I]=arguments[I+3],++I;I=new De(F,0,null)}return r.call(this,u,w,A,I)}function r(u,w,A,G){u=jh(c,u,w,A,G);u=b.Mi?b.Mi(u):b.call(null,u);return a.Mi?a.Mi(u):a.call(null,u)}n.$=3;n.ca=function(u){var w=H(u);u=J(u);var A=H(u);u=J(u);var G=H(u);u=Fe(u);return r(w,A,G,u)};n.Pi=r;return n}();k=function(n,r,u,w){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,
n);case 2:return e.call(this,n,r);case 3:return d.call(this,n,r,u);default:var A=null;if(3<arguments.length){A=0;for(var G=Array(arguments.length-3);A<G.length;)G[A]=arguments[A+3],++A;A=new De(G,0,null)}return m.Pi(n,r,u,A)}throw Error("Invalid arity: "+arguments.length);};k.$=3;k.ca=m.ca;k.Ui=h;k.Mi=f;k.Li=e;k.Ni=d;k.Pi=m.Pi;return k}()};
wh.Pi=function(a,b,c,d){var e=Bg(hf(a,hf(b,hf(c,d))));return function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new De(n,0,null)}return h.call(this,m)}function h(k){k=gh(H(e),k);for(var m=J(e);;)if(m){var n=H(m);k=n.Mi?n.Mi(k):n.call(null,k);m=J(m)}else return k}f.$=0;f.ca=function(k){k=E(k);return h(k)};f.Pi=h;return f}()};
wh.ca=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);d=J(d);return this.Pi(b,a,c,d)};wh.$=3;
function xh(a,b){return function(){function c(m,n,r){return a.Vi?a.Vi(b,m,n,r):a.call(null,b,m,n,r)}function d(m,n){return a.Ni?a.Ni(b,m,n):a.call(null,b,m,n)}function e(m){return a.Li?a.Li(b,m):a.call(null,b,m)}function f(){return a.Mi?a.Mi(b):a.call(null,b)}var h=null,k=function(){function m(r,u,w,A){var G=null;if(3<arguments.length){G=0;for(var I=Array(arguments.length-3);G<I.length;)I[G]=arguments[G+3],++G;G=new De(I,0,null)}return n.call(this,r,u,w,G)}function n(r,u,w,A){return kh(a,b,r,u,w,
M([A]))}m.$=3;m.ca=function(r){var u=H(r);r=J(r);var w=H(r);r=J(r);var A=H(r);r=Fe(r);return n(u,w,A,r)};m.Pi=n;return m}();h=function(m,n,r,u){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,m,n,r);default:var w=null;if(3<arguments.length){w=0;for(var A=Array(arguments.length-3);w<A.length;)A[w]=arguments[w+3],++w;w=new De(A,0,null)}return k.Pi(m,n,r,w)}throw Error("Invalid arity: "+arguments.length);};h.$=
3;h.ca=k.ca;h.Ui=f;h.Mi=e;h.Li=d;h.Ni=c;h.Pi=k.Pi;return h}()}
function yh(a,b){return function(){function c(k,m,n){k=null==k?b:k;return a.Ni?a.Ni(k,m,n):a.call(null,k,m,n)}function d(k,m){k=null==k?b:k;return a.Li?a.Li(k,m):a.call(null,k,m)}function e(k){k=null==k?b:k;return a.Mi?a.Mi(k):a.call(null,k)}var f=null,h=function(){function k(n,r,u,w){var A=null;if(3<arguments.length){A=0;for(var G=Array(arguments.length-3);A<G.length;)G[A]=arguments[A+3],++A;A=new De(G,0,null)}return m.call(this,n,r,u,A)}function m(n,r,u,w){return jh(a,null==n?b:n,r,u,w)}k.$=3;k.ca=
function(n){var r=H(n);n=J(n);var u=H(n);n=J(n);var w=H(n);n=Fe(n);return m(r,u,w,n)};k.Pi=m;return k}();f=function(k,m,n,r){switch(arguments.length){case 1:return e.call(this,k);case 2:return d.call(this,k,m);case 3:return c.call(this,k,m,n);default:var u=null;if(3<arguments.length){u=0;for(var w=Array(arguments.length-3);u<w.length;)w[u]=arguments[u+3],++u;u=new De(w,0,null)}return h.Pi(k,m,n,u)}throw Error("Invalid arity: "+arguments.length);};f.$=3;f.ca=h.ca;f.Mi=e;f.Li=d;f.Ni=c;f.Pi=h.Pi;return f}()}
function zh(a){return function(b){return function(){function c(h,k){k=a.Mi?a.Mi(k):a.call(null,k);return null==k?h:b.Li?b.Li(h,k):b.call(null,h,k)}function d(h){return b.Mi?b.Mi(h):b.call(null,h)}function e(){return b.Ui?b.Ui():b.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.Ui=e;f.Mi=d;f.Li=c;return f}()}}
function Ah(a,b){return new Jg(null,function(){var c=E(b);if(c){if(If(c)){for(var d=ae(c),e=K(d),f=Ng(e),h=0;;)if(h<e){var k=function(){var m=x(d,h);return a.Mi?a.Mi(m):a.call(null,m)}();null!=k&&f.add(k);h+=1}else break;return Qg(Sg(f),Ah(a,be(c)))}e=function(){var m=H(c);return a.Mi?a.Mi(m):a.call(null,m)}();return null==e?Ah(a,Fe(c)):hf(e,Ah(a,Fe(c)))}return null},null,null)}function Bh(a,b,c){this.state=a;this.meta=b;this.validator=c;this.$d=null;this.Xi=16386;this.Si=6455296}g=Bh.prototype;
g.equiv=function(a){return this.aa(null,a)};g.aa=function(a,b){return this===b};g.ub=function(){return this.state};g.da=function(){return this.meta};g.pg=function(a,b,c){this.$d=Q.Ni(this.$d,b,c);return this};g.qg=function(a,b){return this.$d=R.Li(this.$d,b)};g.ia=function(){return ya(this)};function Ch(a){return new Bh(a,null,null)}
function Dh(a,b){if(a instanceof Bh){var c=a.validator;if(null!=c&&!q(c.Mi?c.Mi(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;if(null!=a.$d)a:for(var d=E(a.$d),e=null,f=0,h=0;;)if(h<f){var k=e.xa(null,h),m=P(k,0,null);k=P(k,1,null);k.Vi?k.Vi(m,a,c,b):k.call(null,m,a,c,b);h+=1}else if(d=E(d))If(d)?(e=ae(d),d=be(d),m=e,f=K(e),e=m):(e=H(d),m=P(e,0,null),k=P(e,1,null),k.Vi?k.Vi(m,a,c,b):k.call(null,m,a,c,b),d=J(d),e=null,f=0),h=0;else break a;return b}return ee(a,
b)}var Eh=function Eh(a){switch(arguments.length){case 2:return Eh.Li(arguments[0],arguments[1]);case 3:return Eh.Ni(arguments[0],arguments[1],arguments[2]);case 4:return Eh.Vi(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(4),0,null);return Eh.Pi(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
Eh.Li=function(a,b){if(a instanceof Bh){var c=a.state;b=b.Mi?b.Mi(c):b.call(null,c);a=Dh(a,b)}else a=fe(a,b);return a};Eh.Ni=function(a,b,c){if(a instanceof Bh){var d=a.state;b=b.Li?b.Li(d,c):b.call(null,d,c);a=Dh(a,b)}else a=fe(a,b,c);return a};Eh.Vi=function(a,b,c,d){if(a instanceof Bh){var e=a.state;b=b.Ni?b.Ni(e,c,d):b.call(null,e,c,d);a=Dh(a,b)}else a=fe(a,b,c,d);return a};Eh.Pi=function(a,b,c,d,e){return a instanceof Bh?Dh(a,jh(b,a.state,c,d,e)):fe(a,b,c,d,e)};
Eh.ca=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);e=J(e);return this.Pi(b,a,c,d,e)};Eh.$=4;function Fh(a){return D.Li(a.ub(null),!1)?(Dh(a,!0),!0):!1}function Gh(a){this.state=a;this.Si=32768;this.Xi=0}Gh.prototype.Jc=function(a,b){return this.state=b};Gh.prototype.ub=function(){return this.state};function Hh(a){return new Gh(a)}
function Ih(){var a=Jh,b=Kh;return function(){function c(k,m,n){var r=a.Mi?a.Mi(k):a.call(null,k);if(q(r))return r;r=a.Mi?a.Mi(m):a.call(null,m);if(q(r))return r;r=a.Mi?a.Mi(n):a.call(null,n);if(q(r))return r;k=b.Mi?b.Mi(k):b.call(null,k);if(q(k))return k;m=b.Mi?b.Mi(m):b.call(null,m);return q(m)?m:b.Mi?b.Mi(n):b.call(null,n)}function d(k,m){var n=a.Mi?a.Mi(k):a.call(null,k);if(q(n))return n;n=a.Mi?a.Mi(m):a.call(null,m);if(q(n))return n;k=b.Mi?b.Mi(k):b.call(null,k);return q(k)?k:b.Mi?b.Mi(m):b.call(null,
m)}function e(k){var m=a.Mi?a.Mi(k):a.call(null,k);return q(m)?m:b.Mi?b.Mi(k):b.call(null,k)}var f=null,h=function(){function k(n,r,u,w){var A=null;if(3<arguments.length){A=0;for(var G=Array(arguments.length-3);A<G.length;)G[A]=arguments[A+3],++A;A=new De(G,0,null)}return m.call(this,n,r,u,A)}function m(n,r,u,w){n=f.Ni(n,r,u);return q(n)?n:sh(function(A){var G=a.Mi?a.Mi(A):a.call(null,A);return q(G)?G:b.Mi?b.Mi(A):b.call(null,A)},w)}k.$=3;k.ca=function(n){var r=H(n);n=J(n);var u=H(n);n=J(n);var w=
H(n);n=Fe(n);return m(r,u,w,n)};k.Pi=m;return k}();f=function(k,m,n,r){switch(arguments.length){case 0:return null;case 1:return e.call(this,k);case 2:return d.call(this,k,m);case 3:return c.call(this,k,m,n);default:var u=null;if(3<arguments.length){u=0;for(var w=Array(arguments.length-3);u<w.length;)w[u]=arguments[u+3],++u;u=new De(w,0,null)}return h.Pi(k,m,n,u)}throw Error("Invalid arity: "+arguments.length);};f.$=3;f.ca=h.ca;f.Ui=function(){return null};f.Mi=e;f.Li=d;f.Ni=c;f.Pi=h.Pi;return f}()}
var Lh=function Lh(a){switch(arguments.length){case 1:return Lh.Mi(arguments[0]);case 2:return Lh.Li(arguments[0],arguments[1]);case 3:return Lh.Ni(arguments[0],arguments[1],arguments[2]);case 4:return Lh.Vi(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(4),0,null);return Lh.Pi(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
Lh.Mi=function(a){return function(b){return function(){function c(k,m){m=a.Mi?a.Mi(m):a.call(null,m);return b.Li?b.Li(k,m):b.call(null,k,m)}function d(k){return b.Mi?b.Mi(k):b.call(null,k)}function e(){return b.Ui?b.Ui():b.call(null)}var f=null,h=function(){function k(n,r,u){var w=null;if(2<arguments.length){w=0;for(var A=Array(arguments.length-2);w<A.length;)A[w]=arguments[w+2],++w;w=new De(A,0,null)}return m.call(this,n,r,w)}function m(n,r,u){r=hh(a,r,u);return b.Li?b.Li(n,r):b.call(null,n,r)}k.$=
2;k.ca=function(n){var r=H(n);n=J(n);var u=H(n);n=Fe(n);return m(r,u,n)};k.Pi=m;return k}();f=function(k,m,n){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,m);default:var r=null;if(2<arguments.length){r=0;for(var u=Array(arguments.length-2);r<u.length;)u[r]=arguments[r+2],++r;r=new De(u,0,null)}return h.Pi(k,m,r)}throw Error("Invalid arity: "+arguments.length);};f.$=2;f.ca=h.ca;f.Ui=e;f.Mi=d;f.Li=c;f.Pi=h.Pi;return f}()}};
Lh.Li=function(a,b){return new Jg(null,function(){var c=E(b);if(c){if(If(c)){for(var d=ae(c),e=K(d),f=Ng(e),h=0;;)if(h<e)Rg(f,function(){var k=x(d,h);return a.Mi?a.Mi(k):a.call(null,k)}()),h+=1;else break;return Qg(Sg(f),Lh.Li(a,be(c)))}return hf(function(){var k=H(c);return a.Mi?a.Mi(k):a.call(null,k)}(),Lh.Li(a,Fe(c)))}return null},null,null)};
Lh.Ni=function(a,b,c){return new Jg(null,function(){var d=E(b),e=E(c);if(d&&e){var f=H(d);var h=H(e);f=a.Li?a.Li(f,h):a.call(null,f,h);d=hf(f,Lh.Ni(a,Fe(d),Fe(e)))}else d=null;return d},null,null)};Lh.Vi=function(a,b,c,d){return new Jg(null,function(){var e=E(b),f=E(c),h=E(d);if(e&&f&&h){var k=H(e);var m=H(f),n=H(h);k=a.Ni?a.Ni(k,m,n):a.call(null,k,m,n);e=hf(k,Lh.Vi(a,Fe(e),Fe(f),Fe(h)))}else e=null;return e},null,null)};
Lh.Pi=function(a,b,c,d,e){return Lh.Li(function(f){return gh(a,f)},function k(h){return new Jg(null,function(){var m=Lh.Li(E,h);return rh(dg,m)?hf(Lh.Li(H,m),k(Lh.Li(Fe,m))):null},null,null)}(pf.Pi(e,d,M([c,b]))))};Lh.ca=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);e=J(e);return this.Pi(b,a,c,d,e)};Lh.$=4;
var Mh=function Mh(a){switch(arguments.length){case 1:return Mh.Mi(arguments[0]);case 2:return Mh.Li(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length)].join(""));}};
Mh.Mi=function(a){return function(b){var c=Hh(a);return function(){function d(k,m){var n=y(c),r=c.Jc(null,c.ub(null)-1);k=0<n?b.Li?b.Li(k,m):b.call(null,k,m):k;return 0<r?k:Re(k)?k:Qe(k)}function e(k){return b.Mi?b.Mi(k):b.call(null,k)}function f(){return b.Ui?b.Ui():b.call(null)}var h=null;h=function(k,m){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,k);case 2:return d.call(this,k,m)}throw Error("Invalid arity: "+arguments.length);};h.Ui=f;h.Mi=e;h.Li=d;return h}()}};
Mh.Li=function(a,b){return new Jg(null,function(){if(0<a){var c=E(b);return c?hf(H(c),Mh.Li(a-1,Fe(c))):null}return null},null,null)};Mh.$=2;function Nh(a,b){return new Jg(null,function(){a:for(var c=a,d=b;;)if(d=E(d),0<c&&d)--c,d=Fe(d);else break a;return d},null,null)}function Oh(a,b){return Lh.Ni(function(c){return c},b,Nh(a,b))}
function Ph(a,b){return new Jg(null,function(){a:for(var c=a,d=b;;){d=E(d);var e;if(e=d)e=H(d),e=c.Mi?c.Mi(e):c.call(null,e);if(q(e))d=Fe(d);else break a}return d},null,null)}function Qh(a,b,c,d){this.meta=a;this.count=b;this.val=c;this.next=d;this.Ri=null;this.Si=32374988;this.Xi=1}g=Qh.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.aa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Mi=function(b){return af(this,b,0)};a.Li=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Mi=a;b.Li=function(c,d){return df(this,c,d)};return b}();g.da=function(){return this.meta};g.Oa=function(){return null==this.next?1<this.count?this.next=new Qh(null,this.count-1,this.val,null):-1===this.count?this:null:this.next};
g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=Ke(this)};g.aa=function(a,b){return gf(this,b)};g.Ka=function(){return Ge};g.Pe=function(){return!1};g.Ta=function(a,b){if(-1===this.count)for(var c=b.Li?b.Li(this.val,this.val):b.call(null,this.val,this.val);;){if(Re(c))return y(c);c=b.Li?b.Li(c,this.val):b.call(null,c,this.val)}else for(a=1,c=this.val;;)if(a<this.count){c=b.Li?b.Li(c,this.val):b.call(null,c,this.val);if(Re(c))return y(c);a+=1}else return c};
g.Ua=function(a,b,c){if(-1===this.count)for(c=b.Li?b.Li(c,this.val):b.call(null,c,this.val);;){if(Re(c))return y(c);c=b.Li?b.Li(c,this.val):b.call(null,c,this.val)}else for(a=0;;)if(a<this.count){c=b.Li?b.Li(c,this.val):b.call(null,c,this.val);if(Re(c))return y(c);a+=1}else return c};g.Va=function(){return this.val};g.eb=function(){return null==this.next?1<this.count?this.next=new Qh(null,this.count-1,this.val,null):-1===this.count?this:Ge:this.next};g.ga=function(){return this};
g.ea=function(a,b){return b===this.meta?this:new Qh(b,this.count,this.val,this.next)};g.ja=function(a,b){return hf(b,this)};function Rh(a){return new Qh(null,-1,a,null)}function Sh(a,b){return 0<a?new Qh(null,a,b,null):Ge}function Th(a){return new Jg(null,function(){return hf(a.Ui?a.Ui():a.call(null),Th(a))},null,null)}function Uh(a,b){return Mh.Li(a,Th(b))}
var Vh=function Vh(a){switch(arguments.length){case 0:return Vh.Ui();case 1:return Vh.Mi(arguments[0]);case 2:return Vh.Li(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return Vh.Pi(arguments[0],arguments[1],c)}};Vh.Ui=function(){return Ge};Vh.Mi=function(a){return new Jg(null,function(){return a},null,null)};
Vh.Li=function(a,b){return new Jg(null,function(){var c=E(a),d=E(b);return c&&d?hf(H(c),hf(H(d),Vh.Li(Fe(c),Fe(d)))):null},null,null)};Vh.Pi=function(a,b,c){return new Jg(null,function(){var d=Lh.Li(E,pf.Pi(c,b,M([a])));return rh(dg,d)?T.Li(Lh.Li(H,d),gh(Vh,Lh.Li(Fe,d))):null},null,null)};Vh.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.Pi(b,a,c)};Vh.$=2;
function Wh(){return function(a){var b=Hh(!1);return function(){function c(h,k){if(q(y(b)))return h=a.Li?a.Li(h," "):a.call(null,h," "),Re(h)?h:a.Li?a.Li(h,k):a.call(null,h,k);he(b,!0);return a.Li?a.Li(h,k):a.call(null,h,k)}function d(h){return a.Mi?a.Mi(h):a.call(null,h)}function e(){return a.Ui?a.Ui():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);
};f.Ui=e;f.Mi=d;f.Li=c;return f}()}}function Xh(a,b){return gh(T,hh(Lh,a,b))}
function Yh(a){return function(b){return function(){function c(h,k){return q(a.Mi?a.Mi(k):a.call(null,k))?b.Li?b.Li(h,k):b.call(null,h,k):h}function d(h){return b.Mi?b.Mi(h):b.call(null,h)}function e(){return b.Ui?b.Ui():b.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.Ui=e;f.Mi=d;f.Li=c;return f}()}}
function Zh(a,b){return new Jg(null,function(){var c=E(b);if(c){if(If(c)){for(var d=ae(c),e=K(d),f=Ng(e),h=0;;)if(h<e){var k=x(d,h);k=a.Mi?a.Mi(k):a.call(null,k);q(k)&&(k=x(d,h),f.add(k));h+=1}else break;return Qg(Sg(f),Zh(a,be(c)))}d=H(c);c=Fe(c);return q(a.Mi?a.Mi(d):a.call(null,d))?hf(d,Zh(a,c)):Zh(a,c)}return null},null,null)}function $h(a,b){return Zh(uh(a),b)}
var ai=function ai(a){switch(arguments.length){case 0:return ai.Ui();case 1:return ai.Mi(arguments[0]);case 2:return ai.Li(arguments[0],arguments[1]);case 3:return ai.Ni(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length)].join(""));}};ai.Ui=function(){return qf};ai.Mi=function(a){return a};ai.Li=function(a,b){return null!=a?null!=a&&(a.Xi&4||l===a.kg)?rd(Vd(v.Ni(Ud,Td(a),b)),yf(a)):v.Ni(Rc,a,b):v.Ni(pf,a,b)};
ai.Ni=function(a,b,c){return null!=a&&(a.Xi&4||l===a.kg)?rd(Vd(gg(b,Zg,Td(a),c)),yf(a)):gg(b,pf,a,c)};ai.$=3;
var bi=function bi(a){switch(arguments.length){case 2:return bi.Li(arguments[0],arguments[1]);case 3:return bi.Ni(arguments[0],arguments[1],arguments[2]);case 4:return bi.Vi(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(4),0,null);return bi.Pi(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
bi.Li=function(a,b){return Vd(v.Ni(function(c,d){return Zg.Li(c,a.Mi?a.Mi(d):a.call(null,d))},Td(qf),b))};bi.Ni=function(a,b,c){return ai.Li(qf,Lh.Ni(a,b,c))};bi.Vi=function(a,b,c,d){return ai.Li(qf,Lh.Vi(a,b,c,d))};bi.Pi=function(a,b,c,d,e){return ai.Li(qf,kh(Lh,a,b,c,d,M([e])))};bi.ca=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);e=J(e);return this.Pi(b,a,c,d,e)};bi.$=4;
function ci(a,b){return Vd(v.Ni(function(c,d){return q(a.Mi?a.Mi(d):a.call(null,d))?Zg.Li(c,d):c},Td(qf),b))}function di(a,b,c){return new Jg(null,function(){var d=E(c);if(d){var e=Mh.Li(a,d);return a===K(e)?hf(e,di(a,b,Nh(b,d))):null}return null},null,null)}function ei(a,b){return v.Ni(B,a,b)}function fi(a,b,c){var d=Kf;for(b=E(b);;)if(null!=b){a=B.Ni(a,H(b),d);if(d===a)return c;b=J(b)}else return a}
var gi=function gi(a,b,c){b=E(b);var e=H(b),f=J(b);return f?Q.Ni(a,e,function(){var h=B.Li(a,e);return gi.Ni?gi.Ni(h,f,c):gi.call(null,h,f,c)}()):Q.Ni(a,e,c)},hi=function hi(a){switch(arguments.length){case 3:return hi.Ni(arguments[0],arguments[1],arguments[2]);case 4:return hi.Vi(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return hi.la(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return hi.Za(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],
arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(6),0,null);return hi.Pi(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};hi.Ni=function(a,b,c){b=E(b);var d=H(b);return(b=J(b))?Q.Ni(a,d,hi.Ni(B.Li(a,d),b,c)):Q.Ni(a,d,function(){var e=B.Li(a,d);return c.Mi?c.Mi(e):c.call(null,e)}())};
hi.Vi=function(a,b,c,d){b=E(b);var e=H(b);return(b=J(b))?Q.Ni(a,e,hi.Vi(B.Li(a,e),b,c,d)):Q.Ni(a,e,function(){var f=B.Li(a,e);return c.Li?c.Li(f,d):c.call(null,f,d)}())};hi.la=function(a,b,c,d,e){b=E(b);var f=H(b);return(b=J(b))?Q.Ni(a,f,hi.la(B.Li(a,f),b,c,d,e)):Q.Ni(a,f,function(){var h=B.Li(a,f);return c.Ni?c.Ni(h,d,e):c.call(null,h,d,e)}())};
hi.Za=function(a,b,c,d,e,f){b=E(b);var h=H(b);return(b=J(b))?Q.Ni(a,h,hi.Za(B.Li(a,h),b,c,d,e,f)):Q.Ni(a,h,function(){var k=B.Li(a,h);return c.Vi?c.Vi(k,d,e,f):c.call(null,k,d,e,f)}())};hi.Pi=function(a,b,c,d,e,f,h){var k=E(b);b=H(k);return(k=J(k))?Q.Ni(a,b,kh(hi,B.Li(a,b),k,c,d,M([e,f,h]))):Q.Ni(a,b,kh(c,B.Li(a,b),d,e,f,M([h])))};hi.ca=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);var f=J(e);e=H(f);var h=J(f);f=H(h);h=J(h);return this.Pi(b,a,c,d,e,f,h)};hi.$=6;
var ii=function ii(a){switch(arguments.length){case 3:return ii.Ni(arguments[0],arguments[1],arguments[2]);case 4:return ii.Vi(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return ii.la(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return ii.Za(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(6),0,null);return ii.Pi(arguments[0],
arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};ii.Ni=function(a,b,c){return Q.Ni(a,b,function(){var d=B.Li(a,b);return c.Mi?c.Mi(d):c.call(null,d)}())};ii.Vi=function(a,b,c,d){return Q.Ni(a,b,function(){var e=B.Li(a,b);return c.Li?c.Li(e,d):c.call(null,e,d)}())};ii.la=function(a,b,c,d,e){return Q.Ni(a,b,function(){var f=B.Li(a,b);return c.Ni?c.Ni(f,d,e):c.call(null,f,d,e)}())};
ii.Za=function(a,b,c,d,e,f){return Q.Ni(a,b,function(){var h=B.Li(a,b);return c.Vi?c.Vi(h,d,e,f):c.call(null,h,d,e,f)}())};ii.Pi=function(a,b,c,d,e,f,h){return Q.Ni(a,b,kh(c,B.Li(a,b),d,e,f,M([h])))};ii.ca=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);var f=J(e);e=H(f);var h=J(f);f=H(h);h=J(h);return this.Pi(b,a,c,d,e,f,h)};ii.$=6;function ji(a,b){this.Na=a;this.Ti=b}
function ki(a){return new ji(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function li(a){return new ji(a.Na,Hc(a.Ti))}function mi(a){a=a.Yi;return 32>a?0:a-1>>>5<<5}function ni(a,b,c){for(;;){if(0===b)return c;var d=ki(a);d.Ti[0]=c;c=d;b-=5}}
var oi=function oi(a,b,c,d){var f=li(c),h=a.Yi-1>>>b&31;5===b?f.Ti[h]=d:(c=c.Ti[h],null!=c?(b-=5,a=oi.Vi?oi.Vi(a,b,c,d):oi.call(null,a,b,c,d)):a=ni(null,b-5,d),f.Ti[h]=a);return f};function pi(a,b){throw Error(["No item ",t.Mi(a)," in vector of length ",t.Mi(b)].join(""));}function qi(a,b){if(b>=mi(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.Ti[b>>>a&31];a=d}else return c.Ti}function ri(a,b){return 0<=b&&b<a.Yi?qi(a,b):pi(b,a.Yi)}
var si=function si(a,b,c,d,e){var h=li(c);if(0===b)h.Ti[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.Ti[k];a=si.la?si.la(a,b,c,d,e):si.call(null,a,b,c,d,e);h.Ti[k]=a}return h},ti=function ti(a,b,c){var e=a.Yi-2>>>b&31;if(5<b){b-=5;var f=c.Ti[e];a=ti.Ni?ti.Ni(a,b,f):ti.call(null,a,b,f);if(null==a&&0===e)return null;c=li(c);c.Ti[e]=a;return c}if(0===e)return null;c=li(c);c.Ti[e]=null;return c};function ui(a,b,c,d,e,f){this.i=a;this.base=b;this.Ti=c;this.v=d;this.start=e;this.end=f}
ui.prototype.ab=function(){return this.i<this.end};ui.prototype.next=function(){32===this.i-this.base&&(this.Ti=qi(this.v,this.i),this.base+=32);var a=this.Ti[this.i&31];this.i+=1;return a};function vi(a,b,c){return new ui(b,b-b%32,b<K(a)?qi(a,b):null,a,b,c)}function wi(a,b,c,d){return c<d?xi(a,b,bf(a,c),c+1,d):b.Ui?b.Ui():b.call(null)}
function xi(a,b,c,d,e){var f=c;c=d;for(d=qi(a,d);;)if(c<e){var h=c&31;d=0===h?qi(a,c):d;h=d[h];f=b.Li?b.Li(f,h):b.call(null,f,h);if(Re(f))return y(f);c+=1}else return f}function W(a,b,c,d,e,f){this.meta=a;this.Yi=b;this.shift=c;this.root=d;this.tail=e;this.Ri=f;this.Si=167666463;this.Xi=139268}g=W.prototype;g.cd=function(a,b){return 0<=b&&b<this.Yi?new X(b,qi(this,b)[b&31]):null};g.toString=function(){return le(this)};g.equiv=function(a){return this.aa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Mi=function(b){return af(this,b,0)};a.Li=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Mi=a;b.Li=function(c,d){return df(this,c,d)};return b}();g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){return"number"===typeof b?this.Sa(null,b,c):c};
g.ua=function(a,b,c){a=0;for(var d=c;;)if(a<this.Yi){var e=qi(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.Ni?b.Ni(d,h,k):b.call(null,d,h,k);if(Re(d)){e=d;break a}f+=1}else{e=d;break a}if(Re(e))return y(e);a+=c;d=e}else return d};g.pf=l;g.xa=function(a,b){return ri(this,b)[b&31]};g.Sa=function(a,b,c){return 0<=b&&b<this.Yi?qi(this,b)[b&31]:c};
g.Ic=function(a,b,c){if(0<=b&&b<this.Yi)return mi(this)<=b?(a=Hc(this.tail),a[b&31]=c,new W(this.meta,this.Yi,this.shift,this.root,a,null)):new W(this.meta,this.Yi,this.shift,si(this,this.shift,this.root,b,c),this.tail,null);if(b===this.Yi)return this.ja(null,c);throw Error(["Index ",t.Mi(b)," out of bounds  [0,",t.Mi(this.Yi),"]"].join(""));};g.na=function(){return vi(this,0,this.Yi)};g.da=function(){return this.meta};g.ha=function(){return this.Yi};
g.dd=function(){return 0<this.Yi?this.xa(null,this.Yi-1):null};g.ed=function(){if(0===this.Yi)throw Error("Can't pop empty vector");if(1===this.Yi)return rd(qf,this.meta);if(1<this.Yi-mi(this))return new W(this.meta,this.Yi-1,this.shift,this.root,this.tail.slice(0,-1),null);var a=qi(this,this.Yi-2),b=ti(this,this.shift,this.root);b=null==b?Y:b;var c=this.Yi-1;return 5<this.shift&&null==b.Ti[1]?new W(this.meta,c,this.shift-5,b.Ti[0],a,null):new W(this.meta,c,this.shift,b,a,null)};
g.vc=function(){return 0<this.Yi?new ff(this,this.Yi-1,null):null};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=Ke(this)};g.aa=function(a,b){if(b instanceof W)if(this.Yi===K(b))for(a=this.na(null),b=b.na(null);;)if(a.ab()){var c=a.next(),d=b.next();if(!D.Li(c,d))return!1}else return!0;else return!1;else return gf(this,b)};g.vd=function(){return new yi(this.Yi,this.shift,zi.Mi?zi.Mi(this.root):zi.call(null,this.root),Ai.Mi?Ai.Mi(this.tail):Ai.call(null,this.tail))};
g.Ka=function(){return rd(qf,this.meta)};g.Ta=function(a,b){return wi(this,b,0,this.Yi)};g.Ua=function(a,b,c){a=0;for(var d=c;;)if(a<this.Yi){var e=qi(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.Li?b.Li(d,h):b.call(null,d,h);if(Re(d)){e=d;break a}f+=1}else{e=d;break a}if(Re(e))return y(e);a+=c;d=e}else return d};g.ba=function(a,b,c){if("number"===typeof b)return this.Ic(null,b,c);throw Error("Vector's key for assoc must be a number.");};
g.ga=function(){if(0===this.Yi)return null;if(32>=this.Yi)return new De(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.Ti[0];else{a=a.Ti;break a}}return Bi?Bi(this,a,0,0):Ci.call(null,this,a,0,0)};g.ea=function(a,b){return b===this.meta?this:new W(b,this.Yi,this.shift,this.root,this.tail,this.Ri)};
g.ja=function(a,b){if(32>this.Yi-mi(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new W(this.meta,this.Yi+1,this.shift,this.root,c,null)}a=(c=this.Yi>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=ki(null),c.Ti[0]=this.root,d=ni(null,this.shift,new ji(null,this.tail)),c.Ti[1]=d):c=oi(this,this.shift,this.root,new ji(null,this.tail));return new W(this.meta,this.Yi+1,a,c,[b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.Mi(arguments[1]);case 2:return this.Li(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.Mi=function(a){return this.xa(null,a)};g.Li=function(a,b){return this.Sa(null,a,b)};
var Y=new ji(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),qf=new W(null,0,5,Y,[],Le);function Di(a,b){var c=a.length;a=b?a:Hc(a);if(32>c)return new W(null,c,5,Y,a,null);var d=a.slice(0,32);b=32;for(var e=(new W(null,32,5,Y,d,null)).vd(null);;)if(b<c)d=b+1,e=Zg.Li(e,a[b]),b=d;else return Vd(e)}W.prototype[Ec]=function(){return Ie(this)};
function Yf(a){return q(Ei.Mi?Ei.Mi(a):Ei.call(null,a))?new W(null,2,5,Y,[Fi.Mi?Fi.Mi(a):Fi.call(null,a),Gi.Mi?Gi.Mi(a):Gi.call(null,a)],null):Hf(a)?xf(a,null):wc(a)?Di(a,!0):Vd(v.Ni(Ud,Td(qf),a))}var Hi=function Hi(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return Hi.Pi(c)};Hi.Pi=function(a){return a instanceof De&&0===a.i?Di(a.Ti,!wc(a.Ti)):Yf(a)};Hi.$=0;Hi.ca=function(a){return this.Pi(E(a))};
function Ii(a,b,c,d,e){this.mc=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.Ri=null;this.Si=32375020;this.Xi=1536}g=Ii.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.aa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Mi=function(b){return af(this,b,0)};a.Li=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Mi=a;b.Li=function(c,d){return df(this,c,d)};return b}();g.da=function(){return this.meta};g.Oa=function(){if(this.off+1<this.node.length){var a=this.mc;var b=this.node,c=this.i,d=this.off+1;a=Bi?Bi(a,b,c,d):Ci.call(null,a,b,c,d);return null==a?null:a}return this.fe()};
g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=Ke(this)};g.aa=function(a,b){return gf(this,b)};g.Ka=function(){return Ge};g.Ta=function(a,b){return wi(this.mc,b,this.i+this.off,K(this.mc))};g.Ua=function(a,b,c){return xi(this.mc,b,c,this.i+this.off,K(this.mc))};g.Va=function(){return this.node[this.off]};g.eb=function(){if(this.off+1<this.node.length){var a=this.mc;var b=this.node,c=this.i,d=this.off+1;a=Bi?Bi(a,b,c,d):Ci.call(null,a,b,c,d);return null==a?Ge:a}return this.Dd(null)};
g.ga=function(){return this};g.ge=function(){var a=this.node;return new Mg(a,this.off,a.length)};g.Dd=function(){var a=this.i+this.node.length;if(a<Nc(this.mc)){var b=this.mc,c=qi(this.mc,a);return Bi?Bi(b,c,a,0):Ci.call(null,b,c,a,0)}return Ge};g.ea=function(a,b){return b===this.meta?this:Ji?Ji(this.mc,this.node,this.i,this.off,b):Ci.call(null,this.mc,this.node,this.i,this.off,b)};g.ja=function(a,b){return hf(b,this)};
g.fe=function(){var a=this.i+this.node.length;if(a<Nc(this.mc)){var b=this.mc,c=qi(this.mc,a);return Bi?Bi(b,c,a,0):Ci.call(null,b,c,a,0)}return null};Ii.prototype[Ec]=function(){return Ie(this)};
function Ci(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new Ii(b,ri(b,c),c,d,null);case 4:return Bi(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Ji(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length)].join(""));}}function Bi(a,b,c,d){return new Ii(a,b,c,d,null)}function Ji(a,b,c,d,e){return new Ii(a,b,c,d,e)}
function Ki(a,b,c,d,e){this.meta=a;this.v=b;this.start=c;this.end=d;this.Ri=e;this.Si=167666463;this.Xi=139264}g=Ki.prototype;g.cd=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new X(b,ad(this.v,a)):null};g.toString=function(){return le(this)};g.equiv=function(a){return this.aa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Mi=function(b){return af(this,b,0)};a.Li=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Mi=a;b.Li=function(c,d){return df(this,c,d)};return b}();g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){return"number"===typeof b?this.Sa(null,b,c):c};
g.ua=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,f=x(this.v,a);c=b.Ni?b.Ni(c,e,f):b.call(null,c,e,f);if(Re(c))return y(c);d+=1;a+=1}else return c};g.xa=function(a,b){return 0>b||this.end<=this.start+b?pi(b,this.end-this.start):x(this.v,this.start+b)};g.Sa=function(a,b,c){return 0>b||this.end<=this.start+b?c:x(this.v,this.start+b,c)};
g.Ic=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",t.Mi(b)," out of bounds [0,",t.Mi(this.ha(null)),"]"].join(""));b=this.meta;c=Q.Ni(this.v,a,c);var d=this.start,e=this.end;a+=1;a=e>a?e:a;return Li.la?Li.la(b,c,d,a,null):Li.call(null,b,c,d,a,null)};g.na=function(){return null!=this.v&&l===this.v.pf?vi(this.v,this.start,this.end):new qh(this)};g.da=function(){return this.meta};g.ha=function(){return this.end-this.start};
g.dd=function(){return this.start===this.end?null:x(this.v,this.end-1)};g.ed=function(){if(this.start===this.end)throw Error("Can't pop empty vector");var a=this.meta,b=this.v,c=this.start,d=this.end-1;return Li.la?Li.la(a,b,c,d,null):Li.call(null,a,b,c,d,null)};g.vc=function(){return this.start!==this.end?new ff(this,this.end-this.start-1,null):null};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=Ke(this)};g.aa=function(a,b){return gf(this,b)};g.Ka=function(){return rd(qf,this.meta)};
g.Ta=function(a,b){return null!=this.v&&l===this.v.pf?wi(this.v,b,this.start,this.end):Ue(this,b)};g.Ua=function(a,b,c){return null!=this.v&&l===this.v.pf?xi(this.v,b,c,this.start,this.end):Ve(this,b,c)};g.ba=function(a,b,c){if("number"===typeof b)return this.Ic(null,b,c);throw Error("Subvec's key for assoc must be a number.");};g.ga=function(){var a=this;return function d(c){return c===a.end?null:hf(x(a.v,c),new Jg(null,function(){return d(c+1)},null,null))}(a.start)};
g.ea=function(a,b){return b===this.meta?this:Li.la?Li.la(b,this.v,this.start,this.end,this.Ri):Li.call(null,b,this.v,this.start,this.end,this.Ri)};g.ja=function(a,b){a=this.meta;b=nd(this.v,this.end,b);var c=this.start,d=this.end+1;return Li.la?Li.la(a,b,c,d,null):Li.call(null,a,b,c,d,null)};g.call=function(a){switch(arguments.length-1){case 1:return this.Mi(arguments[1]);case 2:return this.Li(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.Mi=function(a){return this.xa(null,a)};g.Li=function(a,b){return this.Sa(null,a,b)};Ki.prototype[Ec]=function(){return Ie(this)};function Li(a,b,c,d,e){for(;;)if(b instanceof Ki)c=b.start+c,d=b.start+d,b=b.v;else{if(!Hf(b))throw Error("v must satisfy IVector");if(0>c||d<c||d>K(b))throw Error("Index out of bounds");return new Ki(a,b,c,d,e)}}function Mi(a,b,c){return Li(null,a,b|0,c|0,null)}
function Ni(a,b){return a===b.Na?b:new ji(a,Hc(b.Ti))}function zi(a){return new ji({},Hc(a.Ti))}function Ai(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];Jf(a,0,b,0,a.length);return b}var Oi=function Oi(a,b,c,d){c=Ni(a.root.Na,c);var f=a.Yi-1>>>b&31;if(5===b)a=d;else{var h=c.Ti[f];null!=h?(b-=5,a=Oi.Vi?Oi.Vi(a,b,h,d):Oi.call(null,a,b,h,d)):a=ni(a.root.Na,b-5,d)}c.Ti[f]=a;return c};
function yi(a,b,c,d){this.Yi=a;this.shift=b;this.root=c;this.tail=d;this.Xi=88;this.Si=275}g=yi.prototype;
g.wd=function(a,b){if(this.root.Na){if(32>this.Yi-mi(this))this.tail[this.Yi&31]=b;else{a=new ji(this.root.Na,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.Yi>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=
this.shift+5,b[0]=this.root,b[1]=ni(this.root.Na,this.shift,a),this.root=new ji(this.root.Na,b),this.shift=c):this.root=Oi(this,this.shift,this.root,a)}this.Yi+=1;return this}throw Error("conj! after persistent!");};g.Ed=function(){if(this.root.Na){this.root.Na=null;var a=this.Yi-mi(this),b=Array(a);Jf(this.tail,0,b,0,a);return new W(null,this.Yi,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.Rd=function(a,b,c){if("number"===typeof b)return Pi(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function Pi(a,b,c){if(a.root.Na){if(0<=b&&b<a.Yi){if(mi(a)<=b)a.tail[b&31]=c;else{var d=function k(f,h){h=Ni(a.root.Na,h);if(0===f)h.Ti[b&31]=c;else{var m=b>>>f&31;f=k(f-5,h.Ti[m]);h.Ti[m]=f}return h}(a.shift,a.root);a.root=d}return a}if(b===a.Yi)return a.wd(null,c);throw Error(["Index ",t.Mi(b)," out of bounds for TransientVector of length",t.Mi(a.Yi)].join(""));}throw Error("assoc! after persistent!");}g.ha=function(){if(this.root.Na)return this.Yi;throw Error("count after persistent!");};
g.xa=function(a,b){if(this.root.Na)return ri(this,b)[b&31];throw Error("nth after persistent!");};g.Sa=function(a,b,c){return 0<=b&&b<this.Yi?this.xa(null,b):c};g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){if(this.root.Na)return"number"===typeof b?this.Sa(null,b,c):c;throw Error("lookup after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.Mi(arguments[1]);case 2:return this.Li(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.Mi=function(a){return this.ka(null,a)};g.Li=function(a,b){return this.Wi(null,a,b)};function Qi(a,b){this.Td=a;this.He=b}
Qi.prototype.ab=function(){var a=null!=this.Td&&E(this.Td);return a?a:null!=this.He?this.He.ab():!1};Qi.prototype.next=function(){if(null!=this.Td){var a=H(this.Td);this.Td=J(this.Td);return a}if(null!=this.He&&this.He.ab())return this.He.next();throw Error("No such element");};Qi.prototype.remove=function(){return Error("Unsupported operation")};function Ri(a,b,c,d){this.meta=a;this.Xb=b;this.lc=c;this.Ri=d;this.Si=31850700;this.Xi=0}g=Ri.prototype;g.toString=function(){return le(this)};
g.equiv=function(a){return this.aa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Mi=function(b){return af(this,b,0)};a.Li=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Mi=a;b.Li=function(c,d){return df(this,c,d)};return b}();g.da=function(){return this.meta};g.Oa=function(){var a=J(this.Xb);return a?new Ri(this.meta,a,this.lc,null):null!=this.lc?new Ri(this.meta,this.lc,null,null):null};
g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=Ke(this)};g.aa=function(a,b){return gf(this,b)};g.Ka=function(){return rd(Ge,this.meta)};g.Va=function(){return H(this.Xb)};g.eb=function(){var a=J(this.Xb);return a?new Ri(this.meta,a,this.lc,null):null==this.lc?this.Ka(null):new Ri(this.meta,this.lc,null,null)};g.ga=function(){return this};g.ea=function(a,b){return b===this.meta?this:new Ri(b,this.Xb,this.lc,this.Ri)};g.ja=function(a,b){return hf(b,this)};Ri.prototype[Ec]=function(){return Ie(this)};
function Si(a,b,c,d,e){this.meta=a;this.count=b;this.Xb=c;this.lc=d;this.Ri=e;this.Xi=139264;this.Si=31858766}g=Si.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.aa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Mi=function(b){return af(this,b,0)};a.Li=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,this.count.Mi?this.count.Mi(this):this.count.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Mi=a;b.Li=function(c,d){return df(this,c,d)};return b}();g.na=function(){return new Qi(this.Xb,je(this.lc))};g.da=function(){return this.meta};g.ha=function(){return this.count};g.dd=function(){return H(this.Xb)};
g.ed=function(){if(q(this.Xb)){var a=J(this.Xb);return a?new Si(this.meta,this.count-1,a,this.lc,null):new Si(this.meta,this.count-1,E(this.lc),qf,null)}return this};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=Ke(this)};g.aa=function(a,b){return gf(this,b)};g.Ka=function(){return rd(Ti,this.meta)};g.Va=function(){return H(this.Xb)};g.eb=function(){return Fe(E(this))};g.ga=function(){var a=E(this.lc),b=this.Xb;return q(q(b)?b:a)?new Ri(null,this.Xb,E(a),null):null};
g.ea=function(a,b){return b===this.meta?this:new Si(b,this.count,this.Xb,this.lc,this.Ri)};g.ja=function(a,b){q(this.Xb)?(a=this.lc,b=new Si(this.meta,this.count+1,this.Xb,pf.Li(q(a)?a:qf,b),null)):b=new Si(this.meta,this.count+1,pf.Li(this.Xb,b),qf,null);return b};var Ti=new Si(null,0,null,qf,Le);Si.prototype[Ec]=function(){return Ie(this)};function Ui(){this.Si=2097152;this.Xi=0}Ui.prototype.equiv=function(a){return this.aa(null,a)};Ui.prototype.aa=function(){return!1};var Vi=new Ui;
function Wi(a,b){return Mf(Ff(b)&&!Gf(b)?K(a)===K(b)?(null!=a?a.Si&1048576||l===a.Ai||(a.Si?0:Ac(vd,a)):Ac(vd,a))?cg(function(c,d,e){return D.Li(B.Ni(b,d,Vi),e)?!0:Qe(!1)},!0,a):rh(function(c){return D.Li(B.Ni(b,H(c),Vi),mf(c))},a):null:null)}function Xi(a,b,c,d){this.i=0;this.mi=a;this.dg=b;this.fields=c;this.zg=d}Xi.prototype.ab=function(){var a=this.i<this.dg;return a?a:this.zg.ab()};
Xi.prototype.next=function(){if(this.i<this.dg){var a=bf(this.fields,this.i);this.i+=1;return new X(a,ad(this.mi,a))}return this.zg.next()};Xi.prototype.remove=function(){return Error("Unsupported operation")};function Yi(a){this.s=a}Yi.prototype.next=function(){if(null!=this.s){var a=H(this.s),b=P(a,0,null);a=P(a,1,null);this.s=J(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function Zi(a){this.s=a}
Zi.prototype.next=function(){if(null!=this.s){var a=H(this.s);this.s=J(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function $i(a,b){if(b instanceof C)a:{var c=a.length;b=b.ma;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof C&&b===a[d].ma){a=d;break a}d+=2}}else if("string"==typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof z)a:for(c=a.length,b=b.$c,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof z&&b===a[d].$c){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(D.Li(b,a[d])){a=d;break a}d+=2}return a}function X(a,b){this.key=a;this.val=b;this.Ri=null;this.Si=166619935;this.Xi=0}g=X.prototype;g.cd=function(a,b){switch(b){case 0:return new X(0,this.key);case 1:return new X(1,this.val);default:return null}};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Mi=function(b){return af(this,b,0)};a.Li=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Mi=a;b.Li=function(c,d){return df(this,c,d)};return b}();g.ka=function(a,b){return this.Sa(null,b,null)};g.Wi=function(a,b,c){return this.Sa(null,b,c)};g.xa=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};
g.Sa=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.Ic=function(a,b,c){return(new W(null,2,5,Y,[this.key,this.val],null)).Ic(null,b,c)};g.da=function(){return null};g.ha=function(){return 2};g.rf=function(){return this.key};g.sf=function(){return this.val};g.dd=function(){return this.val};g.ed=function(){return new W(null,1,5,Y,[this.key],null)};g.vc=function(){return new De([this.val,this.key],0,null)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=Ke(this)};
g.aa=function(a,b){return gf(this,b)};g.Ka=function(){return null};g.Ta=function(a,b){return Ue(this,b)};g.Ua=function(a,b,c){return Ve(this,b,c)};g.ba=function(a,b,c){return Q.Ni(new W(null,2,5,Y,[this.key,this.val],null),b,c)};g.ga=function(){return new De([this.key,this.val],0,null)};g.ea=function(a,b){return xf(new W(null,2,5,Y,[this.key,this.val],null),b)};g.ja=function(a,b){return new W(null,3,5,Y,[this.key,this.val,b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.Mi(arguments[1]);case 2:return this.Li(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.Mi=function(a){return this.xa(null,a)};g.Li=function(a,b){return this.Sa(null,a,b)};function Ei(a){return null!=a?a.Si&2048||l===a.Di?!0:!1:!1}
function aj(a,b,c){this.Ti=a;this.i=b;this.sc=c;this.Si=32374990;this.Xi=0}g=aj.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.aa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Mi=function(b){return af(this,b,0)};a.Li=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Mi=a;b.Li=function(c,d){return df(this,c,d)};return b}();g.da=function(){return this.sc};g.Oa=function(){return this.i<this.Ti.length-2?new aj(this.Ti,this.i+2,null):null};g.ha=function(){return(this.Ti.length-this.i)/2};g.ia=function(){return Ke(this)};
g.aa=function(a,b){return gf(this,b)};g.Ka=function(){return Ge};g.Ta=function(a,b){return jf(b,this)};g.Ua=function(a,b,c){return lf(b,c,this)};g.Va=function(){return new X(this.Ti[this.i],this.Ti[this.i+1])};g.eb=function(){return this.i<this.Ti.length-2?new aj(this.Ti,this.i+2,null):Ge};g.ga=function(){return this};g.ea=function(a,b){return b===this.sc?this:new aj(this.Ti,this.i,b)};g.ja=function(a,b){return hf(b,this)};aj.prototype[Ec]=function(){return Ie(this)};
function bj(a,b){this.Ti=a;this.i=0;this.Yi=b}bj.prototype.ab=function(){return this.i<this.Yi};bj.prototype.next=function(){var a=new X(this.Ti[this.i],this.Ti[this.i+1]);this.i+=2;return a};function p(a,b,c,d){this.meta=a;this.Yi=b;this.Ti=c;this.Ri=d;this.Si=16647951;this.Xi=139268}g=p.prototype;g.cd=function(a,b){a=$i(this.Ti,b);return-1===a?null:new X(this.Ti[a],this.Ti[a+1])};g.toString=function(){return le(this)};g.equiv=function(a){return this.aa(null,a)};
g.keys=function(){return Ie(cj.Mi?cj.Mi(this):cj.call(null,this))};g.entries=function(){return new Yi(E(E(this)))};g.values=function(){return Ie(dj.Mi?dj.Mi(this):dj.call(null,this))};g.has=function(a){return Pf(this,a)};g.get=function(a,b){return this.Wi(null,a,b)};
g.forEach=function(a){for(var b=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e),h=P(f,0,null);f=P(f,1,null);a.Li?a.Li(f,h):a.call(null,f,h);e+=1}else if(b=E(b))If(b)?(c=ae(b),b=be(b),h=c,d=K(c),c=h):(c=H(b),h=P(c,0,null),f=P(c,1,null),a.Li?a.Li(f,h):a.call(null,f,h),b=J(b),c=null,d=0),e=0;else return null};g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){a=$i(this.Ti,b);return-1===a?c:this.Ti[a+1]};
g.ua=function(a,b,c){a=this.Ti.length;for(var d=0;;)if(d<a){var e=this.Ti[d],f=this.Ti[d+1];c=b.Ni?b.Ni(c,e,f):b.call(null,c,e,f);if(Re(c))return y(c);d+=2}else return c};g.na=function(){return new bj(this.Ti,2*this.Yi)};g.da=function(){return this.meta};g.ha=function(){return this.Yi};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=Me(this)};
g.aa=function(a,b){if(Ff(b)&&!Gf(b))if(a=this.Ti.length,this.Yi===b.ha(null))for(var c=0;;)if(c<a){var d=b.Wi(null,this.Ti[c],Kf);if(d!==Kf)if(D.Li(this.Ti[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.vd=function(){return new ej(this.Ti.length,Hc(this.Ti))};g.Ka=function(){return rd(V,this.meta)};g.Ta=function(a,b){return ag(this,b)};g.Ua=function(a,b,c){return bg(this,b,c)};
g.wa=function(a,b){if(0<=$i(this.Ti,b)){a=this.Ti.length;var c=a-2;if(0===c)return this.Ka(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new p(this.meta,this.Yi-1,c,null);D.Li(b,this.Ti[d])?d+=2:(c[e]=this.Ti[d],c[e+1]=this.Ti[d+1],e+=2,d+=2)}}else return this};
g.ba=function(a,b,c){a=$i(this.Ti,b);if(-1===a){if(this.Yi<fj){a=this.Ti;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new p(this.meta,this.Yi+1,e,null)}return rd(cd(ai.Li(gj,this),b,c),this.meta)}if(c===this.Ti[a+1])return this;b=Hc(this.Ti);b[a+1]=c;return new p(this.meta,this.Yi,b,null)};g.ga=function(){var a=this.Ti;return 0<=a.length-2?new aj(a,0,null):null};g.ea=function(a,b){return b===this.meta?this:new p(b,this.Yi,this.Ti,this.Ri)};
g.ja=function(a,b){if(Hf(b))return this.ba(null,x(b,0),x(b,1));a=this;for(b=E(b);;){if(null==b)return a;var c=H(b);if(Hf(c))a=cd(a,x(c,0),x(c,1)),b=J(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.Mi(arguments[1]);case 2:return this.Li(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};
g.Mi=function(a){return this.ka(null,a)};g.Li=function(a,b){return this.Wi(null,a,b)};var V=new p(null,0,[],Ne),fj=8;function uf(a){for(var b=[],c=0;;)if(c<a.length){var d=a[c],e=a[c+1],f=$i(b,d);-1===f?(f=b,f.push(d),f.push(e)):b[f+1]=e;c+=2}else break;return new p(null,b.length/2,b,null)}p.prototype[Ec]=function(){return Ie(this)};function ej(a,b){this.Hd={};this.Oc=a;this.Ti=b;this.Si=259;this.Xi=56}g=ej.prototype;
g.ha=function(){if(this.Hd)return ug(this.Oc,2);throw Error("count after persistent!");};g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){if(this.Hd)return a=$i(this.Ti,b),-1===a?c:this.Ti[a+1];throw Error("lookup after persistent!");};
g.wd=function(a,b){if(this.Hd){if(Ei(b))return this.Rd(null,Fi.Mi?Fi.Mi(b):Fi.call(null,b),Gi.Mi?Gi.Mi(b):Gi.call(null,b));if(Hf(b))return this.Rd(null,b.Mi?b.Mi(0):b.call(null,0),b.Mi?b.Mi(1):b.call(null,1));a=E(b);for(b=this;;){var c=H(a);if(q(c))a=J(a),b=Wd(b,Fi.Mi?Fi.Mi(c):Fi.call(null,c),Gi.Mi?Gi.Mi(c):Gi.call(null,c));else return b}}else throw Error("conj! after persistent!");};
g.Ed=function(){if(this.Hd)return this.Hd=!1,new p(null,ug(this.Oc,2),this.Ti,null);throw Error("persistent! called twice");};g.Rd=function(a,b,c){if(this.Hd){a=$i(this.Ti,b);if(-1===a)return this.Oc+2<=2*fj?(this.Oc+=2,this.Ti.push(b),this.Ti.push(c),this):$g.Ni(hj.Li?hj.Li(this.Oc,this.Ti):hj.call(null,this.Oc,this.Ti),b,c);c!==this.Ti[a+1]&&(this.Ti[a+1]=c);return this}throw Error("assoc! after persistent!");};
g.vf=function(a,b){if(this.Hd)return a=$i(this.Ti,b),0<=a&&(this.Ti[a]=this.Ti[this.Oc-2],this.Ti[a+1]=this.Ti[this.Oc-1],a=this.Ti,a.pop(),a.pop(),this.Oc-=2),this;throw Error("dissoc! after persistent!");};g.call=function(a){switch(arguments.length-1){case 1:return this.Mi(arguments[1]);case 2:return this.Li(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};
g.Mi=function(a){return this.Wi(null,a,null)};g.Li=function(a,b){return this.Wi(null,a,b)};function hj(a,b){for(var c=Td(gj),d=0;;)if(d<a)c=$g.Ni(c,b[d],b[d+1]),d+=2;else return c}function ij(){this.val=!1}function jj(a,b){return a===b?!0:S(a,b)?!0:D.Li(a,b)}function kj(a,b,c){a=Hc(a);a[b]=c;return a}function lj(a,b){var c=Array(a.length-2);Jf(a,0,c,0,2*b);Jf(a,2*(b+1),c,2*b,c.length-2*b);return c}function pj(a,b,c,d){a=a.kd(b);a.Ti[c]=d;return a}
function qj(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.Ni?b.Ni(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.Md(b,f):f;if(Re(c))return c;e+=2;f=c}else return f}function rj(a){this.Ti=a;this.i=0;this.Qc=this.Fe=null}rj.prototype.advance=function(){for(var a=this.Ti.length;;)if(this.i<a){var b=this.Ti[this.i],c=this.Ti[this.i+1];null!=b?b=this.Fe=new X(b,c):null!=c?(b=je(c),b=b.ab()?this.Qc=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};
rj.prototype.ab=function(){var a=null!=this.Fe;return a?a:(a=null!=this.Qc)?a:this.advance()};rj.prototype.next=function(){if(null!=this.Fe){var a=this.Fe;this.Fe=null;return a}if(null!=this.Qc)return a=this.Qc.next(),this.Qc.ab()||(this.Qc=null),a;if(this.advance())return this.next();throw Error("No such element");};rj.prototype.remove=function(){return Error("Unsupported operation")};function sj(a,b,c){this.Na=a;this.bitmap=b;this.Ti=c;this.Xi=131072;this.Si=0}g=sj.prototype;
g.kd=function(a){if(a===this.Na)return this;var b=wg(this.bitmap),c=Array(0>b?4:2*(b+1));Jf(this.Ti,0,c,0,2*b);return new sj(a,this.bitmap,c)};g.De=function(a,b,c,d,e){var f=1<<(c>>>b&31);if(0===(this.bitmap&f))return this;var h=wg(this.bitmap&f-1),k=this.Ti[2*h],m=this.Ti[2*h+1];return null==k?(b=m.De(a,b+5,c,d,e),b===m?this:null!=b?pj(this,a,2*h+1,b):this.bitmap===f?null:tj(this,a,f,h)):jj(d,k)?(e.val=!0,tj(this,a,f,h)):this};
function tj(a,b,c,d){if(a.bitmap===c)return null;a=a.kd(b);b=a.Ti;var e=b.length;a.bitmap^=c;Jf(b,2*(d+1),b,2*d,e-2*(d+1));b[e-2]=null;b[e-1]=null;return a}g.Be=function(){return uj?uj(this.Ti):vj.call(null,this.Ti)};g.Md=function(a,b){return qj(this.Ti,a,b)};g.Ld=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=wg(this.bitmap&e-1);e=this.Ti[2*f];f=this.Ti[2*f+1];return null==e?f.Ld(a+5,b,c,d):jj(c,e)?f:d};
g.Nc=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=wg(this.bitmap&h-1);if(0===(this.bitmap&h)){var m=wg(this.bitmap);if(2*m<this.Ti.length){a=this.kd(a);b=a.Ti;f.val=!0;c=2*(m-k);f=2*k+(c-1);for(m=2*(k+1)+(c-1);0!==c;)b[m]=b[f],--m,--c,--f;b[2*k]=d;b[2*k+1]=e;a.bitmap|=h;return a}if(16<=m){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=wj.Nc(a,b+5,c,d,e,f);for(e=d=0;;)if(32>
d)0===(this.bitmap>>>d&1)?d+=1:(k[d]=null!=this.Ti[e]?wj.Nc(a,b+5,ve(this.Ti[e]),this.Ti[e],this.Ti[e+1],f):this.Ti[e+1],e+=2,d+=1);else break;return new xj(a,m+1,k)}b=Array(2*(m+4));Jf(this.Ti,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;Jf(this.Ti,2*k,b,2*(k+1),2*(m-k));f.val=!0;a=this.kd(a);a.Ti=b;a.bitmap|=h;return a}m=this.Ti[2*k];h=this.Ti[2*k+1];if(null==m)return m=h.Nc(a,b+5,c,d,e,f),m===h?this:pj(this,a,2*k+1,m);if(jj(d,m))return e===h?this:pj(this,a,2*k+1,e);f.val=!0;f=b+5;d=yj?yj(a,f,m,h,c,d,e):zj.call(null,
a,f,m,h,c,d,e);e=2*k;k=2*k+1;a=this.kd(a);a.Ti[e]=null;a.Ti[k]=d;return a};
g.Mc=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=wg(this.bitmap&f-1);if(0===(this.bitmap&f)){var k=wg(this.bitmap);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=wj.Mc(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.bitmap>>>c&1)?c+=1:(h[c]=null!=this.Ti[d]?wj.Mc(a+5,ve(this.Ti[d]),this.Ti[d],this.Ti[d+1],e):this.Ti[d+1],d+=2,c+=1);else break;return new xj(null,k+1,h)}a=
Array(2*(k+1));Jf(this.Ti,0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;Jf(this.Ti,2*h,a,2*(h+1),2*(k-h));e.val=!0;return new sj(null,this.bitmap|f,a)}var m=this.Ti[2*h];f=this.Ti[2*h+1];if(null==m)return k=f.Mc(a+5,b,c,d,e),k===f?this:new sj(null,this.bitmap,kj(this.Ti,2*h+1,k));if(jj(c,m))return d===f?this:new sj(null,this.bitmap,kj(this.Ti,2*h+1,d));e.val=!0;e=this.bitmap;k=this.Ti;a+=5;a=Aj?Aj(a,m,f,b,c,d):zj.call(null,a,m,f,b,c,d);c=2*h;h=2*h+1;d=Hc(k);d[c]=null;d[h]=a;return new sj(null,e,d)};
g.Ae=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=wg(this.bitmap&e-1);e=this.Ti[2*f];f=this.Ti[2*f+1];return null==e?f.Ae(a+5,b,c,d):jj(c,e)?new X(e,f):d};
g.Ce=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.bitmap&d))return this;var e=wg(this.bitmap&d-1),f=this.Ti[2*e],h=this.Ti[2*e+1];return null==f?(a=h.Ce(a+5,b,c),a===h?this:null!=a?new sj(null,this.bitmap,kj(this.Ti,2*e+1,a)):this.bitmap===d?null:new sj(null,this.bitmap^d,lj(this.Ti,e))):jj(c,f)?new sj(null,this.bitmap^d,lj(this.Ti,e)):this};g.na=function(){return new rj(this.Ti)};var wj=new sj(null,0,[]);
function Bj(a,b,c){var d=a.Ti,e=d.length;a=Array(2*(a.Yi-1));for(var f=0,h=1,k=0;;)if(f<e)f!==c&&null!=d[f]?(a[h]=d[f],h+=2,k|=1<<f,f+=1):f+=1;else return new sj(b,k,a)}function Cj(a){this.Ti=a;this.i=0;this.Qc=null}Cj.prototype.ab=function(){for(var a=this.Ti.length;;){if(null!=this.Qc&&this.Qc.ab())return!0;if(this.i<a){var b=this.Ti[this.i];this.i+=1;null!=b&&(this.Qc=je(b))}else return!1}};Cj.prototype.next=function(){if(this.ab())return this.Qc.next();throw Error("No such element");};
Cj.prototype.remove=function(){return Error("Unsupported operation")};function xj(a,b,c){this.Na=a;this.Yi=b;this.Ti=c;this.Xi=131072;this.Si=0}g=xj.prototype;g.kd=function(a){return a===this.Na?this:new xj(a,this.Yi,Hc(this.Ti))};g.De=function(a,b,c,d,e){var f=c>>>b&31,h=this.Ti[f];if(null==h)return this;b=h.De(a,b+5,c,d,e);if(b===h)return this;if(null==b){if(8>=this.Yi)return Bj(this,a,f);a=pj(this,a,f,b);--a.Yi;return a}return pj(this,a,f,b)};
g.Be=function(){return Dj?Dj(this.Ti):Ej.call(null,this.Ti)};g.Md=function(a,b){for(var c=this.Ti.length,d=0;;)if(d<c){var e=this.Ti[d];if(null!=e){b=e.Md(a,b);if(Re(b))return b;d+=1}else d+=1}else return b};g.Ld=function(a,b,c,d){var e=this.Ti[b>>>a&31];return null!=e?e.Ld(a+5,b,c,d):d};g.Nc=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.Ti[h];if(null==k)return a=pj(this,a,h,wj.Nc(a,b+5,c,d,e,f)),a.Yi+=1,a;b=k.Nc(a,b+5,c,d,e,f);return b===k?this:pj(this,a,h,b)};
g.Mc=function(a,b,c,d,e){var f=b>>>a&31,h=this.Ti[f];if(null==h)return new xj(null,this.Yi+1,kj(this.Ti,f,wj.Mc(a+5,b,c,d,e)));a=h.Mc(a+5,b,c,d,e);return a===h?this:new xj(null,this.Yi,kj(this.Ti,f,a))};g.Ae=function(a,b,c,d){var e=this.Ti[b>>>a&31];return null!=e?e.Ae(a+5,b,c,d):d};g.Ce=function(a,b,c){var d=b>>>a&31,e=this.Ti[d];return null!=e?(a=e.Ce(a+5,b,c),a===e?this:null==a?8>=this.Yi?Bj(this,null,d):new xj(null,this.Yi-1,kj(this.Ti,d,a)):new xj(null,this.Yi,kj(this.Ti,d,a))):this};g.na=function(){return new Cj(this.Ti)};
function Fj(a,b,c){b*=2;for(var d=0;;)if(d<b){if(jj(c,a[d]))return d;d+=2}else return-1}function Gj(a,b,c,d){this.Na=a;this.fd=b;this.Yi=c;this.Ti=d;this.Xi=131072;this.Si=0}g=Gj.prototype;g.kd=function(a){if(a===this.Na)return this;var b=Array(2*(this.Yi+1));Jf(this.Ti,0,b,0,2*this.Yi);return new Gj(a,this.fd,this.Yi,b)};
g.De=function(a,b,c,d,e){b=Fj(this.Ti,this.Yi,d);if(-1===b)return this;e.val=!0;if(1===this.Yi)return null;a=this.kd(a);e=a.Ti;e[b]=e[2*this.Yi-2];e[b+1]=e[2*this.Yi-1];e[2*this.Yi-1]=null;e[2*this.Yi-2]=null;--a.Yi;return a};g.Be=function(){return uj?uj(this.Ti):vj.call(null,this.Ti)};g.Md=function(a,b){return qj(this.Ti,a,b)};g.Ld=function(a,b,c,d){a=Fj(this.Ti,this.Yi,c);return 0>a?d:jj(c,this.Ti[a])?this.Ti[a+1]:d};
g.Nc=function(a,b,c,d,e,f){if(c===this.fd){b=Fj(this.Ti,this.Yi,d);if(-1===b){if(this.Ti.length>2*this.Yi)return b=2*this.Yi,c=2*this.Yi+1,a=this.kd(a),a.Ti[b]=d,a.Ti[c]=e,f.val=!0,a.Yi+=1,a;c=this.Ti.length;b=Array(c+2);Jf(this.Ti,0,b,0,c);b[c]=d;b[c+1]=e;f.val=!0;d=this.Yi+1;a===this.Na?(this.Ti=b,this.Yi=d,a=this):a=new Gj(this.Na,this.fd,d,b);return a}return this.Ti[b+1]===e?this:pj(this,a,b+1,e)}return(new sj(a,1<<(this.fd>>>b&31),[null,this,null,null])).Nc(a,b,c,d,e,f)};
g.Mc=function(a,b,c,d,e){return b===this.fd?(a=Fj(this.Ti,this.Yi,c),-1===a?(a=2*this.Yi,b=Array(a+2),Jf(this.Ti,0,b,0,a),b[a]=c,b[a+1]=d,e.val=!0,new Gj(null,this.fd,this.Yi+1,b)):D.Li(this.Ti[a+1],d)?this:new Gj(null,this.fd,this.Yi,kj(this.Ti,a+1,d))):(new sj(null,1<<(this.fd>>>a&31),[null,this])).Mc(a,b,c,d,e)};g.Ae=function(a,b,c,d){a=Fj(this.Ti,this.Yi,c);return 0>a?d:jj(c,this.Ti[a])?new X(this.Ti[a],this.Ti[a+1]):d};
g.Ce=function(a,b,c){a=Fj(this.Ti,this.Yi,c);return-1===a?this:1===this.Yi?null:new Gj(null,this.fd,this.Yi-1,lj(this.Ti,ug(a,2)))};g.na=function(){return new rj(this.Ti)};function zj(a){switch(arguments.length){case 6:return Aj(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return yj(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length)].join(""));}}
function Aj(a,b,c,d,e,f){var h=ve(b);if(h===d)return new Gj(null,h,2,[b,c,e,f]);var k=new ij;return wj.Mc(a,h,b,c,k).Mc(a,d,e,f,k)}function yj(a,b,c,d,e,f,h){var k=ve(c);if(k===e)return new Gj(null,k,2,[c,d,f,h]);var m=new ij;return wj.Nc(a,b,k,c,d,m).Nc(a,b,e,f,h,m)}function Hj(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.Ri=e;this.Si=32374988;this.Xi=0}g=Hj.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.aa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Mi=function(b){return af(this,b,0)};a.Li=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Mi=a;b.Li=function(c,d){return df(this,c,d)};return b}();g.da=function(){return this.meta};g.Oa=function(){if(null==this.s){var a=this.nodes,b=this.i+2;return Ij?Ij(a,b,null):vj.call(null,a,b,null)}a=this.nodes;b=this.i;var c=J(this.s);return Ij?Ij(a,b,c):vj.call(null,a,b,c)};
g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=Ke(this)};g.aa=function(a,b){return gf(this,b)};g.Ka=function(){return Ge};g.Ta=function(a,b){return jf(b,this)};g.Ua=function(a,b,c){return lf(b,c,this)};g.Va=function(){return null==this.s?new X(this.nodes[this.i],this.nodes[this.i+1]):H(this.s)};
g.eb=function(){var a=this,b=null==a.s?function(){var c=a.nodes,d=a.i+2;return Ij?Ij(c,d,null):vj.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=J(a.s);return Ij?Ij(c,d,e):vj.call(null,c,d,e)}();return null!=b?b:Ge};g.ga=function(){return this};g.ea=function(a,b){return b===this.meta?this:new Hj(b,this.nodes,this.i,this.s,this.Ri)};g.ja=function(a,b){return hf(b,this)};Hj.prototype[Ec]=function(){return Ie(this)};
function vj(a){switch(arguments.length){case 1:return uj(arguments[0]);case 3:return Ij(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length)].join(""));}}function uj(a){return Ij(a,0,null)}function Ij(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new Hj(null,a,b,null,null);var d=a[b+1];if(q(d)&&(d=d.Be(),q(d)))return new Hj(null,a,b+2,d,null);b+=2}else return null;else return new Hj(null,a,b,c,null)}
function Jj(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.Ri=e;this.Si=32374988;this.Xi=0}g=Jj.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.aa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Mi=function(b){return af(this,b,0)};a.Li=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Mi=a;b.Li=function(c,d){return df(this,c,d)};return b}();g.da=function(){return this.meta};g.Oa=function(){var a=this.nodes,b=this.i,c=J(this.s);return Kj?Kj(a,b,c):Ej.call(null,a,b,c)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=Ke(this)};
g.aa=function(a,b){return gf(this,b)};g.Ka=function(){return Ge};g.Ta=function(a,b){return jf(b,this)};g.Ua=function(a,b,c){return lf(b,c,this)};g.Va=function(){return H(this.s)};g.eb=function(){var a=this.nodes;var b=this.i,c=J(this.s);a=Kj?Kj(a,b,c):Ej.call(null,a,b,c);return null!=a?a:Ge};g.ga=function(){return this};g.ea=function(a,b){return b===this.meta?this:new Jj(b,this.nodes,this.i,this.s,this.Ri)};g.ja=function(a,b){return hf(b,this)};Jj.prototype[Ec]=function(){return Ie(this)};
function Ej(a){switch(arguments.length){case 1:return Dj(arguments[0]);case 3:return Kj(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length)].join(""));}}function Dj(a){return Kj(a,0,null)}function Kj(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(q(d)&&(d=d.Be(),q(d)))return new Jj(null,a,b+1,d,null);b+=1}else return null;else return new Jj(null,a,b,c,null)}function Lj(a,b){this.sb=a;this.Og=b;this.seen=!1}
Lj.prototype.ab=function(){return!this.seen||this.Og.ab()};Lj.prototype.next=function(){if(this.seen)return this.Og.next();this.seen=!0;return new X(null,this.sb)};Lj.prototype.remove=function(){return Error("Unsupported operation")};function Mj(a,b,c,d,e,f){this.meta=a;this.Yi=b;this.root=c;this.rb=d;this.sb=e;this.Ri=f;this.Si=16123663;this.Xi=139268}g=Mj.prototype;g.cd=function(a,b){return null==b?this.rb?new X(null,this.sb):null:null==this.root?null:this.root.Ae(0,ve(b),b,null)};g.toString=function(){return le(this)};
g.equiv=function(a){return this.aa(null,a)};g.keys=function(){return Ie(cj.Mi?cj.Mi(this):cj.call(null,this))};g.entries=function(){return new Yi(E(E(this)))};g.values=function(){return Ie(dj.Mi?dj.Mi(this):dj.call(null,this))};g.has=function(a){return Pf(this,a)};g.get=function(a,b){return this.Wi(null,a,b)};
g.forEach=function(a){for(var b=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e),h=P(f,0,null);f=P(f,1,null);a.Li?a.Li(f,h):a.call(null,f,h);e+=1}else if(b=E(b))If(b)?(c=ae(b),b=be(b),h=c,d=K(c),c=h):(c=H(b),h=P(c,0,null),f=P(c,1,null),a.Li?a.Li(f,h):a.call(null,f,h),b=J(b),c=null,d=0),e=0;else return null};g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){return null==b?this.rb?this.sb:c:null==this.root?c:this.root.Ld(0,ve(b),b,c)};
g.ua=function(a,b,c){a=this.rb?b.Ni?b.Ni(c,null,this.sb):b.call(null,c,null,this.sb):c;return Re(a)?y(a):null!=this.root?Se(this.root.Md(b,a)):a};g.na=function(){var a=this.root?je(this.root):nh();return this.rb?new Lj(this.sb,a):a};g.da=function(){return this.meta};g.ha=function(){return this.Yi};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=Me(this)};g.aa=function(a,b){return Wi(this,b)};g.vd=function(){return new Nj(this.root,this.Yi,this.rb,this.sb)};g.Ka=function(){return rd(gj,this.meta)};
g.wa=function(a,b){if(null==b)return this.rb?new Mj(this.meta,this.Yi-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.Ce(0,ve(b),b);return a===this.root?this:new Mj(this.meta,this.Yi-1,a,this.rb,this.sb,null)};
g.ba=function(a,b,c){if(null==b)return this.rb&&c===this.sb?this:new Mj(this.meta,this.rb?this.Yi:this.Yi+1,this.root,!0,c,null);a=new ij;b=(null==this.root?wj:this.root).Mc(0,ve(b),b,c,a);return b===this.root?this:new Mj(this.meta,a.val?this.Yi+1:this.Yi,b,this.rb,this.sb,null)};g.ga=function(){if(0<this.Yi){var a=null!=this.root?this.root.Be():null;return this.rb?hf(new X(null,this.sb),a):a}return null};g.ea=function(a,b){return b===this.meta?this:new Mj(b,this.Yi,this.root,this.rb,this.sb,this.Ri)};
g.ja=function(a,b){if(Hf(b))return this.ba(null,x(b,0),x(b,1));a=this;for(b=E(b);;){if(null==b)return a;var c=H(b);if(Hf(c))a=cd(a,x(c,0),x(c,1)),b=J(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.Mi(arguments[1]);case 2:return this.Li(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};
g.Mi=function(a){return this.ka(null,a)};g.Li=function(a,b){return this.Wi(null,a,b)};var gj=new Mj(null,0,null,!1,null,Ne);function Oj(a,b){for(var c=a.length,d=0,e=Td(gj);;)if(d<c){var f=d+1;e=Wd(e,a[d],b[d]);d=f}else return Vd(e)}Mj.prototype[Ec]=function(){return Ie(this)};function Nj(a,b,c,d){this.Na={};this.root=a;this.count=b;this.rb=c;this.sb=d;this.Si=259;this.Xi=56}
function Pj(a,b,c){if(a.Na){if(null==b)a.sb!==c&&(a.sb=c),a.rb||(a.count+=1,a.rb=!0);else{var d=new ij;b=(null==a.root?wj:a.root).Nc(a.Na,0,ve(b),b,c,d);b!==a.root&&(a.root=b);d.val&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=Nj.prototype;g.ha=function(){if(this.Na)return this.count;throw Error("count after persistent!");};g.ka=function(a,b){return null==b?this.rb?this.sb:null:null==this.root?null:this.root.Ld(0,ve(b),b)};
g.Wi=function(a,b,c){return null==b?this.rb?this.sb:c:null==this.root?c:this.root.Ld(0,ve(b),b,c)};g.wd=function(a,b){a:if(this.Na)if(Ei(b))a=Pj(this,Fi.Mi?Fi.Mi(b):Fi.call(null,b),Gi.Mi?Gi.Mi(b):Gi.call(null,b));else if(Hf(b))a=Pj(this,b.Mi?b.Mi(0):b.call(null,0),b.Mi?b.Mi(1):b.call(null,1));else for(a=E(b),b=this;;){var c=H(a);if(q(c))a=J(a),b=Pj(b,Fi.Mi?Fi.Mi(c):Fi.call(null,c),Gi.Mi?Gi.Mi(c):Gi.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
g.Ed=function(){if(this.Na){this.Na=null;var a=new Mj(null,this.count,this.root,this.rb,this.sb,null)}else throw Error("persistent! called twice");return a};g.Rd=function(a,b,c){return Pj(this,b,c)};g.vf=function(a,b){if(this.Na)null==b?this.rb&&(this.rb=!1,this.sb=null,--this.count):null!=this.root&&(a=new ij,b=this.root.De(this.Na,0,ve(b),b,a),b!==this.root&&(this.root=b),a.val&&--this.count);else throw Error("dissoc! after persistent!");return this};
g.call=function(a){switch(arguments.length-1){case 1:return this.Mi(arguments[1]);case 2:return this.Li(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.Mi=function(a){return this.ka(null,a)};g.Li=function(a,b){return this.Wi(null,a,b)};function Qj(a,b,c){for(var d=b;;)if(null!=a)b=c?a.left:a.right,d=pf.Li(d,a),a=b;else return d}
function Rj(a,b,c,d,e){this.meta=a;this.stack=b;this.Cd=c;this.Yi=d;this.Ri=e;this.Si=32374990;this.Xi=0}g=Rj.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.aa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Mi=function(b){return af(this,b,0)};a.Li=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Mi=a;b.Li=function(c,d){return df(this,c,d)};return b}();g.da=function(){return this.meta};g.Oa=function(){var a=H(this.stack);a=Qj(this.Cd?a.right:a.left,J(this.stack),this.Cd);return null==a?null:new Rj(null,a,this.Cd,this.Yi-1,null)};
g.ha=function(){return 0>this.Yi?K(J(this))+1:this.Yi};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=Ke(this)};g.aa=function(a,b){return gf(this,b)};g.Ka=function(){return Ge};g.Ta=function(a,b){return jf(b,this)};g.Ua=function(a,b,c){return lf(b,c,this)};g.Va=function(){var a=this.stack;return null==a?null:kd(a)};g.eb=function(){var a=H(this.stack);a=Qj(this.Cd?a.right:a.left,J(this.stack),this.Cd);return null!=a?new Rj(null,a,this.Cd,this.Yi-1,null):Ge};g.ga=function(){return this};
g.ea=function(a,b){return b===this.meta?this:new Rj(b,this.stack,this.Cd,this.Yi,this.Ri)};g.ja=function(a,b){return hf(b,this)};Rj.prototype[Ec]=function(){return Ie(this)};function Sj(a,b,c){return new Rj(null,Qj(a,null,b),b,c,null)}
function Tj(a,b,c,d){return c instanceof Uj?c.left instanceof Uj?new Uj(c.key,c.val,c.left.ad(),new Vj(a,b,c.right,d)):c.right instanceof Uj?new Uj(c.right.key,c.right.val,new Vj(c.key,c.val,c.left,c.right.left),new Vj(a,b,c.right.right,d)):new Vj(a,b,c,d):new Vj(a,b,c,d)}
function Wj(a,b,c,d){return d instanceof Uj?d.right instanceof Uj?new Uj(d.key,d.val,new Vj(a,b,c,d.left),d.right.ad()):d.left instanceof Uj?new Uj(d.left.key,d.left.val,new Vj(a,b,c,d.left.left),new Vj(d.key,d.val,d.left.right,d.right)):new Vj(a,b,c,d):new Vj(a,b,c,d)}
function Xj(a,b,c,d){if(c instanceof Uj)return new Uj(a,b,c.ad(),d);if(d instanceof Vj)return Wj(a,b,c,d.Ge());if(d instanceof Uj&&d.left instanceof Vj)return new Uj(d.left.key,d.left.val,new Vj(a,b,c,d.left.left),Wj(d.key,d.val,d.left.right,d.right.Ge()));throw Error("red-black tree invariant violation");}
function Yj(a,b,c,d){if(d instanceof Uj)return new Uj(a,b,c,d.ad());if(c instanceof Vj)return Tj(a,b,c.Ge(),d);if(c instanceof Uj&&c.right instanceof Vj)return new Uj(c.right.key,c.right.val,Tj(c.key,c.val,c.left.Ge(),c.right.left),new Vj(a,b,c.right.right,d));throw Error("red-black tree invariant violation");}
var Zj=function Zj(a,b,c){var e=null!=a.left?function(){var k=a.left;return Zj.Ni?Zj.Ni(k,b,c):Zj.call(null,k,b,c)}():c;if(Re(e))return e;var f=function(){var k=a.key,m=a.val;return b.Ni?b.Ni(e,k,m):b.call(null,e,k,m)}();if(Re(f))return f;if(null!=a.right){var h=a.right;return Zj.Ni?Zj.Ni(h,b,f):Zj.call(null,h,b,f)}return f};function Vj(a,b,c,d){this.key=a;this.val=b;this.left=c;this.right=d;this.Ri=null;this.Si=166619935;this.Xi=0}g=Vj.prototype;
g.cd=function(a,b){switch(b){case 0:return new X(0,this.key);case 1:return new X(1,this.val);default:return null}};g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Mi=a;b.Li=function(c,d){return df(this,c,d)};return b}();
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Mi=function(b){return af(this,b,0)};a.Li=function(b,c){return af(this,b,c)};return a}();g.Zf=function(a){return a.cg(this)};g.Ge=function(){return new Uj(this.key,this.val,this.left,this.right)};g.ad=function(){return this};g.Yf=function(a){return a.ag(this)};g.replace=function(a,b,c,d){return new Vj(a,b,c,d)};
g.ag=function(a){return new Vj(a.key,a.val,this,a.right)};g.cg=function(a){return new Vj(a.key,a.val,a.left,this)};g.Md=function(a,b){return Zj(this,a,b)};g.ka=function(a,b){return this.Sa(null,b,null)};g.Wi=function(a,b,c){return this.Sa(null,b,c)};g.xa=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};g.Sa=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.Ic=function(a,b,c){return(new W(null,2,5,Y,[this.key,this.val],null)).Ic(null,b,c)};
g.da=function(){return null};g.ha=function(){return 2};g.rf=function(){return this.key};g.sf=function(){return this.val};g.dd=function(){return this.val};g.ed=function(){return new W(null,1,5,Y,[this.key],null)};g.vc=function(){return new De([this.val,this.key],0,null)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=Ke(this)};g.aa=function(a,b){return gf(this,b)};g.Ka=function(){return null};g.Ta=function(a,b){return Ue(this,b)};g.Ua=function(a,b,c){return Ve(this,b,c)};
g.ba=function(a,b,c){return Q.Ni(new W(null,2,5,Y,[this.key,this.val],null),b,c)};g.ga=function(){return new De([this.key,this.val],0,null)};g.ea=function(a,b){return rd(new W(null,2,5,Y,[this.key,this.val],null),b)};g.ja=function(a,b){return new W(null,3,5,Y,[this.key,this.val,b],null)};g.call=function(a){switch(arguments.length-1){case 1:return this.Mi(arguments[1]);case 2:return this.Li(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.Mi=function(a){return this.xa(null,a)};g.Li=function(a,b){return this.Sa(null,a,b)};Vj.prototype[Ec]=function(){return Ie(this)};function Uj(a,b,c,d){this.key=a;this.val=b;this.left=c;this.right=d;this.Ri=null;this.Si=166619935;this.Xi=0}g=Uj.prototype;g.cd=function(a,b){switch(b){case 0:return new X(0,this.key);case 1:return new X(1,this.val);default:return null}};
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Mi=a;b.Li=function(c,d){return df(this,c,d)};return b}();
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Mi=function(b){return af(this,b,0)};a.Li=function(b,c){return af(this,b,c)};return a}();g.Zf=function(a){return new Uj(this.key,this.val,this.left,a)};g.Ge=function(){throw Error("red-black tree invariant violation");};g.ad=function(){return new Vj(this.key,this.val,this.left,this.right)};
g.Yf=function(a){return new Uj(this.key,this.val,a,this.right)};g.replace=function(a,b,c,d){return new Uj(a,b,c,d)};g.ag=function(a){return this.left instanceof Uj?new Uj(this.key,this.val,this.left.ad(),new Vj(a.key,a.val,this.right,a.right)):this.right instanceof Uj?new Uj(this.right.key,this.right.val,new Vj(this.key,this.val,this.left,this.right.left),new Vj(a.key,a.val,this.right.right,a.right)):new Vj(a.key,a.val,this,a.right)};
g.cg=function(a){return this.right instanceof Uj?new Uj(this.key,this.val,new Vj(a.key,a.val,a.left,this.left),this.right.ad()):this.left instanceof Uj?new Uj(this.left.key,this.left.val,new Vj(a.key,a.val,a.left,this.left.left),new Vj(this.key,this.val,this.left.right,this.right)):new Vj(a.key,a.val,a.left,this)};g.Md=function(a,b){return Zj(this,a,b)};g.ka=function(a,b){return this.Sa(null,b,null)};g.Wi=function(a,b,c){return this.Sa(null,b,c)};
g.xa=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};g.Sa=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.Ic=function(a,b,c){return(new W(null,2,5,Y,[this.key,this.val],null)).Ic(null,b,c)};g.da=function(){return null};g.ha=function(){return 2};g.rf=function(){return this.key};g.sf=function(){return this.val};g.dd=function(){return this.val};g.ed=function(){return new W(null,1,5,Y,[this.key],null)};
g.vc=function(){return new De([this.val,this.key],0,null)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=Ke(this)};g.aa=function(a,b){return gf(this,b)};g.Ka=function(){return null};g.Ta=function(a,b){return Ue(this,b)};g.Ua=function(a,b,c){return Ve(this,b,c)};g.ba=function(a,b,c){return Q.Ni(new W(null,2,5,Y,[this.key,this.val],null),b,c)};g.ga=function(){return new De([this.key,this.val],0,null)};g.ea=function(a,b){return rd(new W(null,2,5,Y,[this.key,this.val],null),b)};
g.ja=function(a,b){return new W(null,3,5,Y,[this.key,this.val,b],null)};g.call=function(a){switch(arguments.length-1){case 1:return this.Mi(arguments[1]);case 2:return this.Li(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.Mi=function(a){return this.xa(null,a)};g.Li=function(a,b){return this.Sa(null,a,b)};Uj.prototype[Ec]=function(){return Ie(this)};
var ak=function ak(a,b,c,d,e){if(null==b)return new Uj(c,d,null,null);var h=function(){var k=b.key;return a.Li?a.Li(c,k):a.call(null,c,k)}();if(0===h)return e[0]=b,null;if(0>h)return h=function(){var k=b.left;return ak.la?ak.la(a,k,c,d,e):ak.call(null,a,k,c,d,e)}(),null!=h?b.Yf(h):null;h=function(){var k=b.right;return ak.la?ak.la(a,k,c,d,e):ak.call(null,a,k,c,d,e)}();return null!=h?b.Zf(h):null},bk=function bk(a,b){if(null==a)return b;if(null==b)return a;if(a instanceof Uj){if(b instanceof Uj){var d=
function(){var e=a.right,f=b.left;return bk.Li?bk.Li(e,f):bk.call(null,e,f)}();return d instanceof Uj?new Uj(d.key,d.val,new Uj(a.key,a.val,a.left,d.left),new Uj(b.key,b.val,d.right,b.right)):new Uj(a.key,a.val,a.left,new Uj(b.key,b.val,d,b.right))}return new Uj(a.key,a.val,a.left,function(){var e=a.right;return bk.Li?bk.Li(e,b):bk.call(null,e,b)}())}if(b instanceof Uj)return new Uj(b.key,b.val,function(){var e=b.left;return bk.Li?bk.Li(a,e):bk.call(null,a,e)}(),b.right);d=function(){var e=a.right,
f=b.left;return bk.Li?bk.Li(e,f):bk.call(null,e,f)}();return d instanceof Uj?new Uj(d.key,d.val,new Vj(a.key,a.val,a.left,d.left),new Vj(b.key,b.val,d.right,b.right)):Xj(a.key,a.val,a.left,new Vj(b.key,b.val,d,b.right))},ck=function ck(a,b,c,d){if(null!=b){var f=function(){var h=b.key;return a.Li?a.Li(c,h):a.call(null,c,h)}();if(0===f)return d[0]=b,bk(b.left,b.right);if(0>f)return f=function(){var h=b.left;return ck.Vi?ck.Vi(a,h,c,d):ck.call(null,a,h,c,d)}(),null!=f||null!=d[0]?b.left instanceof Vj?
Xj(b.key,b.val,f,b.right):new Uj(b.key,b.val,f,b.right):null;f=function(){var h=b.right;return ck.Vi?ck.Vi(a,h,c,d):ck.call(null,a,h,c,d)}();return null!=f||null!=d[0]?b.right instanceof Vj?Yj(b.key,b.val,b.left,f):new Uj(b.key,b.val,b.left,f):null}return null},dk=function dk(a,b,c,d){var f=b.key,h=a.Li?a.Li(c,f):a.call(null,c,f);return 0===h?b.replace(f,d,b.left,b.right):0>h?b.replace(f,b.val,function(){var k=b.left;return dk.Vi?dk.Vi(a,k,c,d):dk.call(null,a,k,c,d)}(),b.right):b.replace(f,b.val,
b.left,function(){var k=b.right;return dk.Vi?dk.Vi(a,k,c,d):dk.call(null,a,k,c,d)}())};function ek(a,b,c,d,e){this.wc=a;this.tree=b;this.Yi=c;this.meta=d;this.Ri=e;this.Si=418776847;this.Xi=8192}g=ek.prototype;g.cd=function(a,b){return fk(this,b)};
g.forEach=function(a){for(var b=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e),h=P(f,0,null);f=P(f,1,null);a.Li?a.Li(f,h):a.call(null,f,h);e+=1}else if(b=E(b))If(b)?(c=ae(b),b=be(b),h=c,d=K(c),c=h):(c=H(b),h=P(c,0,null),f=P(c,1,null),a.Li?a.Li(f,h):a.call(null,f,h),b=J(b),c=null,d=0),e=0;else return null};g.get=function(a,b){return this.Wi(null,a,b)};g.entries=function(){return new Yi(E(E(this)))};g.toString=function(){return le(this)};
g.keys=function(){return Ie(cj.Mi?cj.Mi(this):cj.call(null,this))};g.values=function(){return Ie(dj.Mi?dj.Mi(this):dj.call(null,this))};g.equiv=function(a){return this.aa(null,a)};function fk(a,b){for(var c=a.tree;;)if(null!=c){var d=c.key;d=a.wc.Li?a.wc.Li(b,d):a.wc.call(null,b,d);if(0===d)return c;c=0>d?c.left:c.right}else return null}g.has=function(a){return Pf(this,a)};g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){a=fk(this,b);return null!=a?a.val:c};
g.ua=function(a,b,c){return null!=this.tree?Se(Zj(this.tree,b,c)):c};g.da=function(){return this.meta};g.ha=function(){return this.Yi};g.vc=function(){return 0<this.Yi?Sj(this.tree,!1,this.Yi):null};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=Me(this)};g.aa=function(a,b){return Wi(this,b)};g.Ka=function(){return new ek(this.wc,null,0,this.meta,0)};
g.wa=function(a,b){a=[null];b=ck(this.wc,this.tree,b,a);return null==b?null==bf(a,0)?this:new ek(this.wc,null,0,this.meta,null):new ek(this.wc,b.ad(),this.Yi-1,this.meta,null)};g.ba=function(a,b,c){a=[null];var d=ak(this.wc,this.tree,b,c,a);return null==d?(a=bf(a,0),D.Li(c,a.val)?this:new ek(this.wc,dk(this.wc,this.tree,b,c),this.Yi,this.meta,null)):new ek(this.wc,d.ad(),this.Yi+1,this.meta,null)};g.ga=function(){return 0<this.Yi?Sj(this.tree,!0,this.Yi):null};
g.ea=function(a,b){return b===this.meta?this:new ek(this.wc,this.tree,this.Yi,b,this.Ri)};g.ja=function(a,b){if(Hf(b))return this.ba(null,x(b,0),x(b,1));a=this;for(b=E(b);;){if(null==b)return a;var c=H(b);if(Hf(c))a=cd(a,x(c,0),x(c,1)),b=J(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.Mi(arguments[1]);case 2:return this.Li(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.Mi=function(a){return this.ka(null,a)};g.Li=function(a,b){return this.Wi(null,a,b)};var gk=new ek(Sf,null,0,null,Ne);ek.prototype[Ec]=function(){return Ie(this)};
var hk=function hk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return hk.Pi(c)};hk.Pi=function(a){a=E(a);for(var b=Td(gj);;)if(a){var c=J(J(a));b=$g.Ni(b,H(a),mf(a));a=c}else return Vd(b)};hk.$=0;hk.ca=function(a){return this.Pi(E(a))};var ik=function ik(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return ik.Pi(c)};
ik.Pi=function(a){a=a instanceof De&&0===a.i?a.Ti:Ic(a);return uf(a)};ik.$=0;ik.ca=function(a){return this.Pi(E(a))};function jk(a,b){this.Ja=a;this.sc=b;this.Si=32374988;this.Xi=0}g=jk.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.aa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Mi=function(b){return af(this,b,0)};a.Li=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Mi=a;b.Li=function(c,d){return df(this,c,d)};return b}();g.da=function(){return this.sc};g.Oa=function(){var a=(null!=this.Ja?this.Ja.Si&128||l===this.Ja.me||(this.Ja.Si?0:Ac(Xc,this.Ja)):Ac(Xc,this.Ja))?this.Ja.Oa(null):J(this.Ja);return null==a?null:new jk(a,null)};g.ia=function(){return Ke(this)};
g.aa=function(a,b){return gf(this,b)};g.Ka=function(){return Ge};g.Ta=function(a,b){return jf(b,this)};g.Ua=function(a,b,c){return lf(b,c,this)};g.Va=function(){return this.Ja.Va(null).key};g.eb=function(){var a=(null!=this.Ja?this.Ja.Si&128||l===this.Ja.me||(this.Ja.Si?0:Ac(Xc,this.Ja)):Ac(Xc,this.Ja))?this.Ja.Oa(null):J(this.Ja);return null!=a?new jk(a,null):Ge};g.ga=function(){return this};g.ea=function(a,b){return b===this.sc?this:new jk(this.Ja,b)};g.ja=function(a,b){return hf(b,this)};
jk.prototype[Ec]=function(){return Ie(this)};function cj(a){return(a=E(a))?new jk(a,null):null}function Fi(a){return gd(a)}function kk(a,b){this.Ja=a;this.sc=b;this.Si=32374988;this.Xi=0}g=kk.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.aa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Mi=function(b){return af(this,b,0)};a.Li=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Mi=a;b.Li=function(c,d){return df(this,c,d)};return b}();g.da=function(){return this.sc};g.Oa=function(){var a=(null!=this.Ja?this.Ja.Si&128||l===this.Ja.me||(this.Ja.Si?0:Ac(Xc,this.Ja)):Ac(Xc,this.Ja))?this.Ja.Oa(null):J(this.Ja);return null==a?null:new kk(a,null)};g.ia=function(){return Ke(this)};
g.aa=function(a,b){return gf(this,b)};g.Ka=function(){return Ge};g.Ta=function(a,b){return jf(b,this)};g.Ua=function(a,b,c){return lf(b,c,this)};g.Va=function(){return this.Ja.Va(null).val};g.eb=function(){var a=(null!=this.Ja?this.Ja.Si&128||l===this.Ja.me||(this.Ja.Si?0:Ac(Xc,this.Ja)):Ac(Xc,this.Ja))?this.Ja.Oa(null):J(this.Ja);return null!=a?new kk(a,null):Ge};g.ga=function(){return this};g.ea=function(a,b){return b===this.sc?this:new kk(this.Ja,b)};g.ja=function(a,b){return hf(b,this)};
kk.prototype[Ec]=function(){return Ie(this)};function dj(a){return(a=E(a))?new kk(a,null):null}function Gi(a){return hd(a)}var lk=function lk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return lk.Pi(c)};lk.Pi=function(a){return q(sh(dg,a))?v.Li(function(b,c){return pf.Li(q(b)?b:V,c)},a):null};lk.$=0;lk.ca=function(a){return this.Pi(E(a))};
var mk=function mk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new De(c.slice(1),0,null):null;return mk.Pi(arguments[0],c)};mk.Pi=function(a,b){if(q(sh(dg,b))){var c=function(d,e){var f=gd(e),h=hd(e);return Pf(d,f)?Q.Ni(d,f,function(){var k=B.Li(d,f);return a.Li?a.Li(k,h):a.call(null,k,h)}()):Q.Ni(d,f,h)};return v.Li(function(d,e){return v.Ni(c,q(d)?d:V,E(e))},b)}return null};mk.$=1;mk.ca=function(a){var b=H(a);a=J(a);return this.Pi(b,a)};
function nk(a,b){var c=V;for(b=E(b);;)if(b){var d=H(b),e=B.Ni(a,d,ok);c=lh.Li(e,ok)?Q.Ni(c,d,e):c;b=J(b)}else return rd(c,yf(a))}function pk(a){this.iter=a}pk.prototype.ab=function(){return this.iter.ab()};pk.prototype.next=function(){if(this.iter.ab())return this.iter.next().key;throw Error("No such element");};pk.prototype.remove=function(){return Error("Unsupported operation")};function qk(a,b,c){this.meta=a;this.md=b;this.Ri=c;this.Si=15077647;this.Xi=139268}g=qk.prototype;g.toString=function(){return le(this)};
g.equiv=function(a){return this.aa(null,a)};g.keys=function(){return Ie(E(this))};g.entries=function(){return new Zi(E(E(this)))};g.values=function(){return Ie(E(this))};g.has=function(a){return Pf(this,a)};
g.forEach=function(a){for(var b=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e),h=P(f,0,null);f=P(f,1,null);a.Li?a.Li(f,h):a.call(null,f,h);e+=1}else if(b=E(b))If(b)?(c=ae(b),b=be(b),h=c,d=K(c),c=h):(c=H(b),h=P(c,0,null),f=P(c,1,null),a.Li?a.Li(f,h):a.call(null,f,h),b=J(b),c=null,d=0),e=0;else return null};g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){a=dd(this.md,b);return q(a)?gd(a):c};g.na=function(){return new pk(je(this.md))};g.da=function(){return this.meta};
g.ha=function(){return Nc(this.md)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=Me(this)};g.aa=function(a,b){if(Df(b))if(K(this)===K(b))try{return cg(function(c,d){return(c=Pf(b,d))?c:Qe(!1)},!0,this.md)}catch(c){if(c instanceof Error)return!1;throw c;}else return!1;else return!1};g.vd=function(){return new rk(Td(this.md))};g.Ka=function(){return rd(sk,this.meta)};g.uf=function(a,b){return new qk(this.meta,fd(this.md,b),null)};g.ga=function(){return cj(this.md)};
g.ea=function(a,b){return b===this.meta?this:new qk(b,this.md,this.Ri)};g.ja=function(a,b){return new qk(this.meta,Q.Ni(this.md,b,null),null)};g.call=function(a){switch(arguments.length-1){case 1:return this.Mi(arguments[1]);case 2:return this.Li(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.Mi=function(a){return this.ka(null,a)};
g.Li=function(a,b){return this.Wi(null,a,b)};var sk=new qk(null,V,Ne);function Rf(a){for(var b=a.length,c=Td(sk),d=0;;)if(d<b)Ud(c,a[d]),d+=1;else break;return Vd(c)}qk.prototype[Ec]=function(){return Ie(this)};function rk(a){this.Pd=a;this.Xi=136;this.Si=259}g=rk.prototype;g.wd=function(a,b){this.Pd=$g.Ni(this.Pd,b,null);return this};g.Ed=function(){return new qk(null,Vd(this.Pd),null)};g.ha=function(){return K(this.Pd)};g.ka=function(a,b){return this.Wi(null,b,null)};
g.Wi=function(a,b,c){return ad(this.Pd,b,Kf)===Kf?c:b};g.call=function(a){switch(arguments.length-1){case 1:return this.Mi(arguments[1]);case 2:return this.Li(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.Mi=function(a){return ad(this.Pd,a,Kf)===Kf?null:a};g.Li=function(a,b){return ad(this.Pd,a,Kf)===Kf?b:a};
function tk(a){if(Df(a))return xf(a,null);a=E(a);if(null==a)return sk;if(a instanceof De&&0===a.i)return Rf(a.Ti);for(var b=Td(sk);;)if(null!=a){var c=J(a);b=Ud(b,Vc(a));a=c}else return Vd(b)}function uk(a){return function e(c,d){return new Jg(null,function(){var f;a:{var h=c;for(f=d;;){var k=h;h=P(k,0,null);if(k=E(k))if(Pf(f,h))h=Fe(k);else{f=hf(h,e(Fe(k),pf.Li(f,h)));break a}else{f=null;break a}}}return f},null,null)}(a,sk)}
function vk(a){for(var b=qf;;)if(J(a))b=pf.Li(b,H(a)),a=J(a);else return E(b)}function Ig(a){if(null!=a&&(a.Xi&4096||l===a.ng))return a.ke(null);if("string"===typeof a)return a;throw Error(["Doesn't support name: ",t.Mi(a)].join(""));}function wk(a,b){var c=Td(V);a=E(a);for(b=E(b);;)if(a&&b)c=$g.Ni(c,H(a),H(b)),a=J(a),b=J(b);else return Vd(c)}
var xk=function xk(a){switch(arguments.length){case 2:return xk.Li(arguments[0],arguments[1]);case 3:return xk.Ni(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(3),0,null);return xk.Pi(arguments[0],arguments[1],arguments[2],c)}};xk.Li=function(a,b){return b};xk.Ni=function(a,b,c){return(a.Mi?a.Mi(b):a.call(null,b))>(a.Mi?a.Mi(c):a.call(null,c))?b:c};
xk.Pi=function(a,b,c,d){return v.Ni(function(e,f){return xk.Ni(a,e,f)},xk.Ni(a,b,c),d)};xk.ca=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);d=J(d);return this.Pi(b,a,c,d)};xk.$=3;function yk(){this.Ti=[]}g=yk.prototype;g.add=function(a){return this.Ti.push(a)};g.size=function(){return this.Ti.length};g.clear=function(){return this.Ti=[]};g.isEmpty=function(){return 0===this.Ti.length};g.toArray=function(){return this.Ti};
function zk(){return function(a){var b=new yk;return function(){function c(h,k){b.add(k);return 2===b.size()?(k=Yf(b.toArray()),b.clear(),a.Li?a.Li(h,k):a.call(null,h,k)):h}function d(h){if(!q(b.isEmpty())){var k=Yf(b.toArray());b.clear();h=Se(a.Li?a.Li(h,k):a.call(null,h,k))}return a.Mi?a.Mi(h):a.call(null,h)}function e(){return a.Ui?a.Ui():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+
arguments.length);};f.Ui=e;f.Mi=d;f.Li=c;return f}()}}function Bk(a,b){return new Jg(null,function(){var c=E(b);if(c){var d=H(c);d=a.Mi?a.Mi(d):a.call(null,d);c=q(d)?hf(H(c),Bk(a,Fe(c))):null}else c=null;return c},null,null)}function Ck(a,b,c){this.start=a;this.step=b;this.count=c;this.Si=82;this.Xi=0}g=Ck.prototype;g.ha=function(){return this.count};g.Va=function(){return this.start};g.xa=function(a,b){return this.start+b*this.step};
g.Sa=function(a,b,c){return 0<=b&&b<this.count?this.start+b*this.step:c};g.ee=function(){if(1>=this.count)throw Error("-drop-first of empty chunk");return new Ck(this.start+this.step,this.step,this.count-1)};function Dk(a,b,c){this.i=a;this.end=b;this.step=c}Dk.prototype.ab=function(){return 0<this.step?this.i<this.end:this.i>this.end};Dk.prototype.next=function(){var a=this.i;this.i+=this.step;return a};
function Ek(a,b,c,d,e,f,h){this.meta=a;this.start=b;this.end=c;this.step=d;this.ac=e;this.Oe=f;this.Ri=h;this.Si=32375006;this.Xi=140800}g=Ek.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.aa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Mi=function(b){return af(this,b,0)};a.Li=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Mi=a;b.Li=function(c,d){return df(this,c,d)};return b}();function Fk(a){if(null==a.ac){var b=a.ha(null);32<b?(a.Oe=new Ek(null,a.start+32*a.step,a.end,a.step,null,null,null),a.ac=new Ck(a.start,a.step,32)):a.ac=new Ck(a.start,a.step,b)}}
g.xa=function(a,b){if(0<=b&&b<this.ha(null))return this.start+b*this.step;if(0<=b&&this.start>this.end&&0===this.step)return this.start;throw Error("Index out of bounds");};g.Sa=function(a,b,c){return 0<=b&&b<this.ha(null)?this.start+b*this.step:0<=b&&this.start>this.end&&0===this.step?this.start:c};g.na=function(){return new Dk(this.start,this.end,this.step)};g.da=function(){return this.meta};
g.Oa=function(){return 0<this.step?this.start+this.step<this.end?new Ek(null,this.start+this.step,this.end,this.step,null,null,null):null:this.start+this.step>this.end?new Ek(null,this.start+this.step,this.end,this.step,null,null,null):null};g.ha=function(){return Math.ceil((this.end-this.start)/this.step)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=Ke(this)};g.aa=function(a,b){return gf(this,b)};g.Ka=function(){return Ge};g.Ta=function(a,b){return Ue(this,b)};
g.Ua=function(a,b,c){for(a=this.start;;)if(0<this.step?a<this.end:a>this.end){c=b.Li?b.Li(c,a):b.call(null,c,a);if(Re(c))return y(c);a+=this.step}else return c};g.Va=function(){return this.start};g.eb=function(){var a=this.Oa(null);return null==a?Ge:a};g.ga=function(){return this};g.ge=function(){Fk(this);return this.ac};g.Dd=function(){Fk(this);return null==this.Oe?Ge:this.Oe};g.ea=function(a,b){return b===this.meta?this:new Ek(b,this.start,this.end,this.step,this.ac,this.Oe,this.Ri)};
g.ja=function(a,b){return hf(b,this)};g.fe=function(){return E(this.Dd(null))};Ek.prototype[Ec]=function(){return Ie(this)};var Gk=function Gk(a){switch(arguments.length){case 0:return Gk.Ui();case 1:return Gk.Mi(arguments[0]);case 2:return Gk.Li(arguments[0],arguments[1]);case 3:return Gk.Ni(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length)].join(""));}};Gk.Ui=function(){return Gk.Ni(0,Number.MAX_VALUE,1)};Gk.Mi=function(a){return Gk.Ni(0,a,1)};
Gk.Li=function(a,b){return Gk.Ni(a,b,1)};Gk.Ni=function(a,b,c){return 0<c?b<=a?Ge:new Ek(null,a,b,c,null,null,null):0>c?b>=a?Ge:new Ek(null,a,b,c,null,null,null):b===a?Ge:Rh(a)};Gk.$=3;function Hk(a,b){return new Jg(null,function(){var c=E(b);return c?hf(H(c),Hk(a,Nh(a,c))):null},null,null)}function Ik(a,b){return new W(null,2,5,Y,[Bk(a,b),Ph(a,b)],null)}
function Jk(a,b){return new Jg(null,function(){var c=E(b);if(c){var d=H(c),e=a.Mi?a.Mi(d):a.call(null,d),f=hf(d,Bk(function(h){return D.Li(e,a.Mi?a.Mi(h):a.call(null,h))},J(c)));return hf(f,Jk(a,new Jg(null,function(){return Nh(K(f),c)},null,null)))}return null},null,null)}function Kk(a){return Vd(v.Ni(function(b,c){return $g.Ni(b,c,B.Ni(b,c,0)+1)},Td(V),a))}
function Lk(a,b){return function(){function c(m,n,r){return new W(null,2,5,Y,[a.Ni?a.Ni(m,n,r):a.call(null,m,n,r),b.Ni?b.Ni(m,n,r):b.call(null,m,n,r)],null)}function d(m,n){return new W(null,2,5,Y,[a.Li?a.Li(m,n):a.call(null,m,n),b.Li?b.Li(m,n):b.call(null,m,n)],null)}function e(m){return new W(null,2,5,Y,[a.Mi?a.Mi(m):a.call(null,m),b.Mi?b.Mi(m):b.call(null,m)],null)}function f(){return new W(null,2,5,Y,[a.Ui?a.Ui():a.call(null),b.Ui?b.Ui():b.call(null)],null)}var h=null,k=function(){function m(r,
u,w,A){var G=null;if(3<arguments.length){G=0;for(var I=Array(arguments.length-3);G<I.length;)I[G]=arguments[G+3],++G;G=new De(I,0,null)}return n.call(this,r,u,w,G)}function n(r,u,w,A){return new W(null,2,5,Y,[jh(a,r,u,w,A),jh(b,r,u,w,A)],null)}m.$=3;m.ca=function(r){var u=H(r);r=J(r);var w=H(r);r=J(r);var A=H(r);r=Fe(r);return n(u,w,A,r)};m.Pi=n;return m}();h=function(m,n,r,u){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,
m,n,r);default:var w=null;if(3<arguments.length){w=0;for(var A=Array(arguments.length-3);w<A.length;)A[w]=arguments[w+3],++w;w=new De(A,0,null)}return k.Pi(m,n,r,w)}throw Error("Invalid arity: "+arguments.length);};h.$=3;h.ca=k.ca;h.Ui=f;h.Mi=e;h.Li=d;h.Ni=c;h.Pi=k.Pi;return h}()}function Mk(a){a:for(var b=a;;)if(b=E(b))b=J(b);else break a;return a}
function Nk(a,b){if("string"===typeof b)return a=a.exec(b),null!=a&&D.Li(a[0],b)?1===a.length?a[0]:Yf(a):null;throw new TypeError("re-matches must match against a string.");}function Ok(a,b){if("string"===typeof b)return a=a.exec(b),null==a?null:1===a.length?a[0]:Yf(a);throw new TypeError("re-find must match against a string.");}
var Pk=function Pk(a,b){var d=a.exec(b);if(null==d)return null;var e=d[0],f=1===d.length?e:Yf(d);return hf(f,new Jg(null,function(){var h=e.length;h=d.index+(1>h?1:h);return h<=b.length?(h=yg.Li(b,h),Pk.Li?Pk.Li(a,h):Pk.call(null,a,h)):null},null,null))};function Qk(a,b){if("string"===typeof b)return Pk(a,b);throw new TypeError("re-seq must match against a string.");}
function Rk(a){if(a instanceof RegExp)return a;var b=Ok(/^\(\?([idmsux]*)\)/,a),c=P(b,0,null);b=P(b,1,null);a=yg.Li(a,null==c?0:c.length);return new RegExp(a,q(b)?b:"")}
function Z(a,b,c,d,e,f,h){var k=nc;nc=null==nc?null:nc-1;try{if(null!=nc&&0>nc)return Jd(a,"#");Jd(a,c);if(0===tc.Mi(f))E(h)&&Jd(a,function(){var A=Sk.Mi(f);return q(A)?A:"..."}());else{if(E(h)){var m=H(h);b.Ni?b.Ni(m,a,f):b.call(null,m,a,f)}for(var n=J(h),r=tc.Mi(f)-1;;)if(!n||null!=r&&0===r){E(n)&&0===r&&(Jd(a,d),Jd(a,function(){var A=Sk.Mi(f);return q(A)?A:"..."}()));break}else{Jd(a,d);var u=H(n);c=a;h=f;b.Ni?b.Ni(u,c,h):b.call(null,u,c,h);var w=J(n);c=r-1;n=w;r=c}}return Jd(a,e)}finally{nc=k}}
function Tk(a,b){b=E(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e);Jd(a,f);e+=1}else if(b=E(b))c=b,If(c)?(b=ae(c),d=be(c),c=b,f=K(b),b=d,d=f):(f=H(c),Jd(a,f),b=J(c),c=null,d=0),e=0;else return null}function Uk(a){if(null==jc)throw Error("No *print-fn* fn set for evaluation environment");jc.call(null,a);return null}var Vk={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};
function Wk(a){return['"',t.Mi(a.replace(/[\\"\b\f\n\r\t]/g,function(b){return Vk[b]})),'"'].join("")}function Xk(a,b){return Mf(B.Li(a,rc))?null!=b&&(b.Si&131072||l===b.je)?null!=yf(b):!1:!1}
function Yk(a,b,c){if(null==a)return Jd(b,"nil");if(Xk(c,a)){Jd(b,"^");var d=yf(a);Zk.Ni?Zk.Ni(d,b,c):Zk.call(null,d,b,c);Jd(b," ")}if(a.Mb)return a.Wb(b);if(null!=a?a.Si&2147483648||l===a.La||(a.Si?0:Ac(Ld,a)):Ac(Ld,a))return Md(a,b,c);if(!0===a||!1===a)return Jd(b,t.Mi(a));if("number"===typeof a)return Jd(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":t.Mi(a));if(null!=a&&a.constructor===Object)return Jd(b,"#js "),d=Lh.Li(function(f){return new X(null!=
Nk(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,f)?Hg.Mi(f):f,a[f])},hb(a)),$k.Vi?$k.Vi(d,Zk,b,c):$k.call(null,d,Zk,b,c);if(wc(a))return Z(b,Zk,"#js ["," ","]",c,a);if("string"==typeof a)return q(qc.Mi(c))?Jd(b,Wk(a)):Jd(b,a);if(sa(a)){var e=a.name;c=q(function(){var f=null==e;return f?f:vb(e)}())?"Function":e;return Tk(b,M(["#object[",c,q(!1)?[' "',t.Mi(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,h){for(f=t.Mi(f);;)if(f.length<h)f=["0",f].join("");else return f},Tk(b,M(['#inst "',
t.Mi(a.getUTCFullYear()),"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return Tk(b,M(['#"',a.source,'"']));if(Jc(a))return Tk(b,M(["#object[",a.toString(),"]"]));if(q(function(){var f=null==a?null:a.constructor;return null==f?null:f.wb}()))return Tk(b,M(["#object[",a.constructor.wb.replace(/\//g,"."),"]"]));e=function(){var f=null==a?null:a.constructor;
return null==f?null:f.name}();c=q(function(){var f=null==e;return f?f:vb(e)}())?"Object":e;return null==a.constructor?Tk(b,M(["#object[",c,"]"])):Tk(b,M(["#object[",c," ",t.Mi(a),"]"]))}function Zk(a,b,c){var d=al.Mi(c);return q(d)?(c=Q.Ni(c,bl,Yk),d.Ni?d.Ni(a,b,c):d.call(null,a,b,c)):Yk(a,b,c)}
function cl(a,b){var c=new dc,d=new ke(c);a:{Zk(H(a),d,b);a=E(J(a));for(var e=null,f=0,h=0;;)if(h<f){var k=e.xa(null,h);Jd(d," ");Zk(k,d,b);h+=1}else if(a=E(a))e=a,If(e)?(a=ae(e),f=be(e),e=a,k=K(a),a=f,f=k):(k=H(e),Jd(d," "),Zk(k,d,b),a=J(e),e=null,f=0),h=0;else break a}d.Tc(null);return c}function dl(a,b){return Bf(a)?"":t.Mi(cl(a,b))}function el(a,b){if(Bf(a))return"\n";a=cl(a,b);a.append("\n");return t.Mi(a)}
var fl=function fl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return fl.Pi(c)};fl.Pi=function(a){return dl(a,oc())};fl.$=0;fl.ca=function(a){return this.Pi(E(a))};var gl=function gl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return gl.Pi(c)};gl.Pi=function(a){return el(a,oc())};gl.$=0;gl.ca=function(a){return this.Pi(E(a))};
var hl=function hl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return hl.Pi(c)};hl.Pi=function(a){return dl(a,Q.Ni(oc(),qc,!1))};hl.$=0;hl.ca=function(a){return this.Pi(E(a))};var il=function il(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return il.Pi(c)};il.Pi=function(a){return el(a,Q.Ni(oc(),qc,!1))};il.$=0;il.ca=function(a){return this.Pi(E(a))};
function jl(a){Uk(dl(a,oc()));q(kc)&&(a=oc(),Uk("\n"),B.Li(a,pc))}function kl(a){return a instanceof z?ze.Li(null,Ig(a)):Hg.Li(null,Ig(a))}
function ll(a){if(q(!1)){var b=E(a),c=E(b),d=H(c);J(c);P(d,0,null);P(d,1,null);c=sf(a);for(a=null;;){d=a;b=E(b);a=H(b);var e=J(b),f=a;a=P(f,0,null);b=P(f,1,null);if(q(f))if(a instanceof C||a instanceof z)if(q(d))if(D.Li(d,Fg(a)))c=Q.Ni(c,kl(a),b),a=d,b=e;else return null;else if(d=Fg(a),q(d))c=Q.Ni(c,kl(a),b),a=d,b=e;else return null;else return null;else return new W(null,2,5,Y,[d,c],null)}}else return null}
function ml(a,b,c,d,e){return Z(d,function(f,h,k){var m=gd(f);c.Ni?c.Ni(m,h,k):c.call(null,m,h,k);Jd(h," ");f=hd(f);return c.Ni?c.Ni(f,h,k):c.call(null,f,h,k)},[t.Mi(a),"{"].join(""),", ","}",e,E(b))}function $k(a,b,c,d){var e=Ff(a)?ll(a):null,f=P(e,0,null);e=P(e,1,null);return q(f)?ml(["#:",t.Mi(f)].join(""),e,b,c,d):ml(null,a,b,c,d)}Gh.prototype.La=l;Gh.prototype.fa=function(a,b,c){Jd(b,"#object[cljs.core.Volatile ");Zk(new p(null,1,[nl,this.state],null),b,c);return Jd(b,"]")};Ae.prototype.La=l;
Ae.prototype.fa=function(a,b,c){Jd(b,"#'");return Zk(this.Od,b,c)};De.prototype.La=l;De.prototype.fa=function(a,b,c){return Z(b,Zk,"("," ",")",c,this)};Jg.prototype.La=l;Jg.prototype.fa=function(a,b,c){return Z(b,Zk,"("," ",")",c,this)};X.prototype.La=l;X.prototype.fa=function(a,b,c){return Z(b,Zk,"["," ","]",c,this)};Rj.prototype.La=l;Rj.prototype.fa=function(a,b,c){return Z(b,Zk,"("," ",")",c,this)};Hj.prototype.La=l;Hj.prototype.fa=function(a,b,c){return Z(b,Zk,"("," ",")",c,this)};
Vj.prototype.La=l;Vj.prototype.fa=function(a,b,c){return Z(b,Zk,"["," ","]",c,this)};aj.prototype.La=l;aj.prototype.fa=function(a,b,c){return Z(b,Zk,"("," ",")",c,this)};Je.prototype.La=l;Je.prototype.fa=function(a,b,c){return Z(b,Zk,"("," ",")",c,this)};Ii.prototype.La=l;Ii.prototype.fa=function(a,b,c){return Z(b,Zk,"("," ",")",c,this)};Dg.prototype.La=l;Dg.prototype.fa=function(a,b,c){return Z(b,Zk,"("," ",")",c,this)};ff.prototype.La=l;
ff.prototype.fa=function(a,b,c){return Z(b,Zk,"("," ",")",c,this)};Mj.prototype.La=l;Mj.prototype.fa=function(a,b,c){return $k(this,Zk,b,c)};Jj.prototype.La=l;Jj.prototype.fa=function(a,b,c){return Z(b,Zk,"("," ",")",c,this)};Ki.prototype.La=l;Ki.prototype.fa=function(a,b,c){return Z(b,Zk,"["," ","]",c,this)};ek.prototype.La=l;ek.prototype.fa=function(a,b,c){return $k(this,Zk,b,c)};qk.prototype.La=l;qk.prototype.fa=function(a,b,c){return Z(b,Zk,"#{"," ","}",c,this)};Pg.prototype.La=l;
Pg.prototype.fa=function(a,b,c){return Z(b,Zk,"("," ",")",c,this)};Bh.prototype.La=l;Bh.prototype.fa=function(a,b,c){Jd(b,"#object[cljs.core.Atom ");Zk(new p(null,1,[nl,this.state],null),b,c);return Jd(b,"]")};kk.prototype.La=l;kk.prototype.fa=function(a,b,c){return Z(b,Zk,"("," ",")",c,this)};Uj.prototype.La=l;Uj.prototype.fa=function(a,b,c){return Z(b,Zk,"["," ","]",c,this)};Qh.prototype.La=l;Qh.prototype.fa=function(a,b,c){return Z(b,Zk,"("," ",")",c,this)};W.prototype.La=l;
W.prototype.fa=function(a,b,c){return Z(b,Zk,"["," ","]",c,this)};Ri.prototype.La=l;Ri.prototype.fa=function(a,b,c){return Z(b,Zk,"("," ",")",c,this)};Ag.prototype.La=l;Ag.prototype.fa=function(a,b){return Jd(b,"()")};Si.prototype.La=l;Si.prototype.fa=function(a,b,c){return Z(b,Zk,"#queue ["," ","]",c,E(this))};p.prototype.La=l;p.prototype.fa=function(a,b,c){return $k(this,Zk,b,c)};Ek.prototype.La=l;Ek.prototype.fa=function(a,b,c){return Z(b,Zk,"("," ",")",c,this)};jk.prototype.La=l;
jk.prototype.fa=function(a,b,c){return Z(b,Zk,"("," ",")",c,this)};rf.prototype.La=l;rf.prototype.fa=function(a,b,c){return Z(b,Zk,"("," ",")",c,this)};z.prototype.bd=l;z.prototype.Sc=function(a,b){if(b instanceof z)return ye(this,b);throw Error(["Cannot compare ",t.Mi(this)," to ",t.Mi(b)].join(""));};C.prototype.bd=l;C.prototype.Sc=function(a,b){if(b instanceof C)return Eg(this,b);throw Error(["Cannot compare ",t.Mi(this)," to ",t.Mi(b)].join(""));};Ki.prototype.bd=l;
Ki.prototype.Sc=function(a,b){if(Hf(b))return Tf(this,b);throw Error(["Cannot compare ",t.Mi(this)," to ",t.Mi(b)].join(""));};W.prototype.bd=l;W.prototype.Sc=function(a,b){if(Hf(b))return Tf(this,b);throw Error(["Cannot compare ",t.Mi(this)," to ",t.Mi(b)].join(""));};X.prototype.bd=l;X.prototype.Sc=function(a,b){if(Hf(b))return Tf(this,b);throw Error(["Cannot compare ",t.Mi(this)," to ",t.Mi(b)].join(""));};Vj.prototype.bd=l;
Vj.prototype.Sc=function(a,b){if(Hf(b))return Tf(this,b);throw Error(["Cannot compare ",t.Mi(this)," to ",t.Mi(b)].join(""));};Uj.prototype.bd=l;Uj.prototype.Sc=function(a,b){if(Hf(b))return Tf(this,b);throw Error(["Cannot compare ",t.Mi(this)," to ",t.Mi(b)].join(""));};function ol(a,b){Qd(a,b)}function pl(a){this.f=a;this.value=null;this.Si=2147516416;this.Xi=1}pl.prototype.ub=function(){q(this.f)&&(this.value=this.f.Ui?this.f.Ui():this.f.call(null),this.f=null);return this.value};
pl.prototype.Pe=function(){return yc(this.f)};pl.prototype.fa=function(a,b,c){Jd(b,"#object[cljs.core.Delay ");Zk(new p(null,2,[ql,null==this.f?rl:sl,nl,this.value],null),b,c);return Jd(b,"]")};function tl(a){return a instanceof pl?y(a):a}function ul(a){return function(b,c){b=a.Li?a.Li(b,c):a.call(null,b,c);return Re(b)?Qe(b):b}}
function vl(a){var b=ul(a);return function(){function c(h,k){return v.Ni(b,h,k)}function d(h){return a.Mi?a.Mi(h):a.call(null,h)}function e(){return a.Ui?a.Ui():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.Ui=e;f.Mi=d;f.Li=c;return f}()}function wl(){}
function xl(a){if(null!=a&&null!=a.fh)a=a.fh(a);else{var b=xl[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=xl._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("IEncodeJS.-clj-\x3ejs",a);}return a}function yl(a,b){return(null!=a?l===a.eh||(a.yd?0:Ac(wl,a)):Ac(wl,a))?xl(a):"string"===typeof a||"number"===typeof a||a instanceof C||a instanceof z?b.Mi?b.Mi(a):b.call(null,a):fl.Pi(M([a]))}
var zl=function zl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new De(c.slice(1),0,null):null;return zl.Pi(arguments[0],c)};
zl.Pi=function(a,b){b=null!=b&&(b.Si&64||l===b.va)?gh(hk,b):b;var c=B.Ni(b,Al,Ig),d=function h(f){if(null==f)return null;if(null!=f?l===f.eh||(f.yd?0:Ac(wl,f)):Ac(wl,f))return xl(f);if(f instanceof C)return c.Mi?c.Mi(f):c.call(null,f);if(f instanceof z)return t.Mi(f);if(Ff(f)){var k={};f=E(f);for(var m=null,n=0,r=0;;)if(r<n){var u=m.xa(null,r),w=P(u,0,null);u=P(u,1,null);w=yl(w,d);u=h(u);k[w]=u;r+=1}else if(f=E(f))If(f)?(n=ae(f),f=be(f),m=n,n=K(n)):(n=H(f),m=P(n,0,null),n=P(n,1,null),m=yl(m,d),n=
h(n),k[m]=n,f=J(f),m=null,n=0),r=0;else break;return k}if(Cf(f)){k=[];f=E(Lh.Li(h,f));m=null;for(r=n=0;;)if(r<n)w=m.xa(null,r),k.push(w),r+=1;else if(f=E(f))m=f,If(m)?(f=ae(m),r=be(m),m=f,n=K(f),f=r):(f=H(m),k.push(f),f=J(m),m=null,n=0),r=0;else break;return k}return f};return d(a)};zl.$=1;zl.ca=function(a){var b=H(a);a=J(a);return this.Pi(b,a)};function Bl(){}
function Cl(a,b){if(null!=a&&null!=a.dh)a=a.dh(a,b);else{var c=Cl[pa(null==a?null:a)];if(null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else if(c=Cl._,null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else throw Cc("IEncodeClojure.-js-\x3eclj",a);}return a}
function Dl(a){var b=M([El,!1]),c=null!=b&&(b.Si&64||l===b.va)?gh(hk,b):b;c=B.Li(c,El);var d=q(c)?Hg:t;return function h(f){return(null!=f?l===f.xi||(f.yd?0:Ac(Bl,f)):Ac(Bl,f))?Cl(f,gh(ik,b)):Lf(f)?Mk(Lh.Li(h,f)):Ei(f)?new X(h(gd(f)),h(hd(f))):Cf(f)?ai.Ni(sf(f),Lh.Mi(h),f):wc(f)?Vd(v.Ni(function(k,m){return Zg.Li(k,h(m))},Td(qf),f)):Bc(f)===Object?Vd(v.Ni(function(k,m){return $g.Ni(k,d.Mi?d.Mi(m):d.call(null,m),h(ib(f,m)))},Td(V),hb(f))):f}(a)}
function Fl(a){var b=Ch(V);return function(){function c(e){var f=null;if(0<arguments.length){f=0;for(var h=Array(arguments.length-0);f<h.length;)h[f]=arguments[f+0],++f;f=new De(h,0,null)}return d.call(this,f)}function d(e){var f=B.Ni(y(b),e,Kf);return f===Kf?(f=gh(a,e),Eh.Vi(b,Q,e,f),f):f}c.$=0;c.ca=function(e){e=E(e);return d(e)};c.Pi=d;return c}()}
var Gl=function Gl(a){switch(arguments.length){case 0:return Gl.Ui();case 1:return Gl.Mi(arguments[0]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length)].join(""));}};Gl.Ui=function(){return Gl.Mi(1)};Gl.Mi=function(a){return Math.random()*a};Gl.$=1;function Hl(a){return Math.floor(Math.random()*a)}function Il(a,b){return Vd(v.Ni(function(c,d){var e=a.Mi?a.Mi(d):a.call(null,d);return $g.Ni(c,e,pf.Li(B.Ni(c,e,qf),d))},Td(V),b))}var Jl=null;
function Kl(){null==Jl&&(Jl=Ch(new p(null,3,[Ll,V,Ml,V,Nl,V],null)));return Jl}function Ol(a,b,c){var d=D.Li(b,c);if(d)return d;d=Nl.Mi(a);d=d.Mi?d.Mi(b):d.call(null,b);if(d=Pf(d,c))return d;if(Hf(c))if(Hf(b))if(K(c)===K(b)){d=!0;for(var e=0;;)if(d&&e!==K(c))d=Ol(a,b.Mi?b.Mi(e):b.call(null,e),c.Mi?c.Mi(e):c.call(null,e)),e+=1;else return d}else return!1;else return!1;else return!1}function Pl(a){var b=y(Kl());return mh(B.Li(Ll.Mi(b),a))}
function Ql(a,b,c,d){Eh.Li(a,function(){return y(b)});Eh.Li(c,function(){return y(d)})}
var Rl=function Rl(a,b,c){var e=function(){var f=y(c);return f.Mi?f.Mi(a):f.call(null,a)}();e=q(q(e)?e.Mi?e.Mi(b):e.call(null,b):e)?!0:null;if(q(e))return e;e=function(){for(var f=Pl(b);;)if(0<K(f)){var h=H(f);Rl.Ni?Rl.Ni(a,h,c):Rl.call(null,a,h,c);f=Fe(f)}else return null}();if(q(e))return e;e=function(){for(var f=Pl(a);;)if(0<K(f)){var h=H(f);Rl.Ni?Rl.Ni(h,b,c):Rl.call(null,h,b,c);f=Fe(f)}else return null}();return q(e)?e:!1};function Sl(a,b,c,d){c=Rl(a,b,c);return q(c)?c:Ol(d,a,b)}
var Tl=function Tl(a,b,c,d,e,f,h,k){var n=v.Ni(function(u,w){var A=P(w,0,null);P(w,1,null);if(Ol(y(c),b,A)){u=null==u||Sl(A,H(u),e,y(c))?w:u;if(!Sl(H(u),A,e,y(c)))throw Error(["Multiple methods in multimethod '",t.Mi(a),"' match dispatch value: ",t.Mi(b)," -\x3e ",t.Mi(A)," and ",t.Mi(H(u)),", and neither is preferred"].join(""));return u}return u},null,y(d)),r=function(){if(null==n){var u=y(d);u=u.Mi?u.Mi(k):u.call(null,k)}else u=!1;return q(u)?new W(null,2,5,Y,[k,u],null):n}();if(q(r)){if(D.Li(y(h),
y(c)))return Eh.Vi(f,Q,b,mf(r)),mf(r);Ql(f,d,h,c);return Tl.vb?Tl.vb(a,b,c,d,e,f,h,k):Tl.call(null,a,b,c,d,e,f,h,k)}return null};function Ul(a,b,c){if(null!=a&&null!=a.ib)a.ib(a,b,c);else{var d=Ul[pa(null==a?null:a)];if(null!=d)d.Ni?d.Ni(a,b,c):d.call(null,a,b,c);else if(d=Ul._,null!=d)d.Ni?d.Ni(a,b,c):d.call(null,a,b,c);else throw Cc("IMultiFn.-add-method",a);}}function Vl(a,b){throw Error(["No method in multimethod '",t.Mi(a),"' for dispatch value: ",t.Mi(b)].join(""));}
function Wl(a,b,c,d,e,f,h){var k=Xl;this.name=a;this.qa=b;this.wh=k;this.hierarchy=c;this.df=d;this.ki=e;this.cf=f;this.Le=h;this.Si=4194305;this.Xi=4352}g=Wl.prototype;
g.call=function(a){switch(arguments.length-1){case 0:return this.Ui();case 1:return this.Mi(arguments[1]);case 2:return this.Li(arguments[1],arguments[2]);case 3:return this.Ni(arguments[1],arguments[2],arguments[3]);case 4:return this.Vi(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.la(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Kb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.vb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Lb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.zb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Ab(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Bb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Cb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Db(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Eb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Fb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Gb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Hb(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Ib(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Jb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.he(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.Ui=function(){var a=this.qa.Ui?this.qa.Ui():this.qa.call(null),b=Yl(this,a);q(b)||Vl(this.name,a);return b.Ui?b.Ui():b.call(null)};g.Mi=function(a){var b=this.qa.Mi?this.qa.Mi(a):this.qa.call(null,a),c=Yl(this,b);q(c)||Vl(this.name,b);return c.Mi?c.Mi(a):c.call(null,a)};
g.Li=function(a,b){var c=this.qa.Li?this.qa.Li(a,b):this.qa.call(null,a,b),d=Yl(this,c);q(d)||Vl(this.name,c);return d.Li?d.Li(a,b):d.call(null,a,b)};g.Ni=function(a,b,c){var d=this.qa.Ni?this.qa.Ni(a,b,c):this.qa.call(null,a,b,c),e=Yl(this,d);q(e)||Vl(this.name,d);return e.Ni?e.Ni(a,b,c):e.call(null,a,b,c)};g.Vi=function(a,b,c,d){var e=this.qa.Vi?this.qa.Vi(a,b,c,d):this.qa.call(null,a,b,c,d),f=Yl(this,e);q(f)||Vl(this.name,e);return f.Vi?f.Vi(a,b,c,d):f.call(null,a,b,c,d)};
g.la=function(a,b,c,d,e){var f=this.qa.la?this.qa.la(a,b,c,d,e):this.qa.call(null,a,b,c,d,e),h=Yl(this,f);q(h)||Vl(this.name,f);return h.la?h.la(a,b,c,d,e):h.call(null,a,b,c,d,e)};g.Za=function(a,b,c,d,e,f){var h=this.qa.Za?this.qa.Za(a,b,c,d,e,f):this.qa.call(null,a,b,c,d,e,f),k=Yl(this,h);q(k)||Vl(this.name,h);return k.Za?k.Za(a,b,c,d,e,f):k.call(null,a,b,c,d,e,f)};
g.Kb=function(a,b,c,d,e,f,h){var k=this.qa.Kb?this.qa.Kb(a,b,c,d,e,f,h):this.qa.call(null,a,b,c,d,e,f,h),m=Yl(this,k);q(m)||Vl(this.name,k);return m.Kb?m.Kb(a,b,c,d,e,f,h):m.call(null,a,b,c,d,e,f,h)};g.vb=function(a,b,c,d,e,f,h,k){var m=this.qa.vb?this.qa.vb(a,b,c,d,e,f,h,k):this.qa.call(null,a,b,c,d,e,f,h,k),n=Yl(this,m);q(n)||Vl(this.name,m);return n.vb?n.vb(a,b,c,d,e,f,h,k):n.call(null,a,b,c,d,e,f,h,k)};
g.Lb=function(a,b,c,d,e,f,h,k,m){var n=this.qa.Lb?this.qa.Lb(a,b,c,d,e,f,h,k,m):this.qa.call(null,a,b,c,d,e,f,h,k,m),r=Yl(this,n);q(r)||Vl(this.name,n);return r.Lb?r.Lb(a,b,c,d,e,f,h,k,m):r.call(null,a,b,c,d,e,f,h,k,m)};g.zb=function(a,b,c,d,e,f,h,k,m,n){var r=this.qa.zb?this.qa.zb(a,b,c,d,e,f,h,k,m,n):this.qa.call(null,a,b,c,d,e,f,h,k,m,n),u=Yl(this,r);q(u)||Vl(this.name,r);return u.zb?u.zb(a,b,c,d,e,f,h,k,m,n):u.call(null,a,b,c,d,e,f,h,k,m,n)};
g.Ab=function(a,b,c,d,e,f,h,k,m,n,r){var u=this.qa.Ab?this.qa.Ab(a,b,c,d,e,f,h,k,m,n,r):this.qa.call(null,a,b,c,d,e,f,h,k,m,n,r),w=Yl(this,u);q(w)||Vl(this.name,u);return w.Ab?w.Ab(a,b,c,d,e,f,h,k,m,n,r):w.call(null,a,b,c,d,e,f,h,k,m,n,r)};g.Bb=function(a,b,c,d,e,f,h,k,m,n,r,u){var w=this.qa.Bb?this.qa.Bb(a,b,c,d,e,f,h,k,m,n,r,u):this.qa.call(null,a,b,c,d,e,f,h,k,m,n,r,u),A=Yl(this,w);q(A)||Vl(this.name,w);return A.Bb?A.Bb(a,b,c,d,e,f,h,k,m,n,r,u):A.call(null,a,b,c,d,e,f,h,k,m,n,r,u)};
g.Cb=function(a,b,c,d,e,f,h,k,m,n,r,u,w){var A=this.qa.Cb?this.qa.Cb(a,b,c,d,e,f,h,k,m,n,r,u,w):this.qa.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w),G=Yl(this,A);q(G)||Vl(this.name,A);return G.Cb?G.Cb(a,b,c,d,e,f,h,k,m,n,r,u,w):G.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w)};
g.Db=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A){var G=this.qa.Db?this.qa.Db(a,b,c,d,e,f,h,k,m,n,r,u,w,A):this.qa.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A),I=Yl(this,G);q(I)||Vl(this.name,G);return I.Db?I.Db(a,b,c,d,e,f,h,k,m,n,r,u,w,A):I.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A)};
g.Eb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G){var I=this.qa.Eb?this.qa.Eb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G):this.qa.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G),F=Yl(this,I);q(F)||Vl(this.name,I);return F.Eb?F.Eb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G):F.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G)};
g.Fb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I){var F=this.qa.Fb?this.qa.Fb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I):this.qa.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I),N=Yl(this,F);q(N)||Vl(this.name,F);return N.Fb?N.Fb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I):N.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I)};
g.Gb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F){var N=this.qa.Gb?this.qa.Gb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F):this.qa.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F),O=Yl(this,N);q(O)||Vl(this.name,N);return O.Gb?O.Gb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F):O.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F)};
g.Hb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N){var O=this.qa.Hb?this.qa.Hb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N):this.qa.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N),U=Yl(this,O);q(U)||Vl(this.name,O);return U.Hb?U.Hb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N):U.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N)};
g.Ib=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O){var U=this.qa.Ib?this.qa.Ib(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O):this.qa.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O),ea=Yl(this,U);q(ea)||Vl(this.name,U);return ea.Ib?ea.Ib(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O):ea.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O)};
g.Jb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U){var ea=this.qa.Jb?this.qa.Jb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U):this.qa.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U),va=Yl(this,ea);q(va)||Vl(this.name,ea);return va.Jb?va.Jb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U):va.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U)};
g.he=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea){var va=kh(this.qa,a,b,c,d,M([e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea])),wa=Yl(this,va);q(wa)||Vl(this.name,va);return kh(wa,a,b,c,d,M([e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea]))};g.ib=function(a,b,c){Eh.Vi(this.df,Q,b,c);Ql(this.cf,this.df,this.Le,this.hierarchy);return this};
function Yl(a,b){D.Li(y(a.Le),y(a.hierarchy))||Ql(a.cf,a.df,a.Le,a.hierarchy);var c=y(a.cf);c=c.Mi?c.Mi(b):c.call(null,b);return q(c)?c:Tl(a.name,b,a.hierarchy,a.df,a.ki,a.cf,a.Le,a.wh)}g.ke=function(){return ce(this.name)};g.le=function(){return de(this.name)};g.ia=function(){return ya(this)};function am(a){this.Qd=a;this.Ri=null;this.Si=2153775104;this.Xi=2048}g=am.prototype;g.toString=function(){return this.Qd};g.equiv=function(a){return this.aa(null,a)};
g.aa=function(a,b){return b instanceof am&&this.Qd===b.Qd};g.fa=function(a,b){return Jd(b,['#uuid "',t.Mi(this.Qd),'"'].join(""))};g.ia=function(){null==this.Ri&&(this.Ri=ve(this.Qd));return this.Ri};g.Sc=function(a,b){return ab(this.Qd,b.Qd)};
function bm(){function a(){return Hl(16).toString(16)}var b=(8|3&Hl(16)).toString(16);return new am([t.Mi(a()),t.Mi(a()),t.Mi(a()),t.Mi(a()),t.Mi(a()),t.Mi(a()),t.Mi(a()),t.Mi(a()),"-",t.Mi(a()),t.Mi(a()),t.Mi(a()),t.Mi(a()),"-4",t.Mi(a()),t.Mi(a()),t.Mi(a()),"-",t.Mi(b),t.Mi(a()),t.Mi(a()),t.Mi(a()),"-",t.Mi(a()),t.Mi(a()),t.Mi(a()),t.Mi(a()),t.Mi(a()),t.Mi(a()),t.Mi(a()),t.Mi(a()),t.Mi(a()),t.Mi(a()),t.Mi(a()),t.Mi(a())].join("").toLowerCase())}
function cm(a,b,c){var d=Error(a);this.message=a;this.data=b;this.gg=c;this.name=d.name;this.description=d.description;this.number=d.number;this.fileName=d.fileName;this.lineNumber=d.lineNumber;this.columnNumber=d.columnNumber;this.stack=d.stack;return this}cm.prototype.__proto__=Error.prototype;cm.prototype.La=l;
cm.prototype.fa=function(a,b,c){Jd(b,"#error {:message ");Zk(this.message,b,c);q(this.data)&&(Jd(b,", :data "),Zk(this.data,b,c));q(this.gg)&&(Jd(b,", :cause "),Zk(this.gg,b,c));return Jd(b,"}")};cm.prototype.toString=function(){return le(this)};function dm(a,b){return new cm(a,b,null)}
function em(){q(Gc)||(Gc=function(){for(var a=Vf(function(e,f){return f.length-e.length},hb(Fc)),b="";;)if(E(a)){var c=J(a),d=[function(){var e=b;return""!==b?[e,"|"].join(""):e}(),t.Mi(H(a))].join("");a=c;b=d}else return[b,"|\\$"].join("")}());return Gc}
function fm(a){var b=t.Mi(a);if("_DOT__DOT_"===b)var c="..";else a:{c=new RegExp(em(),"g");b=q(ub(b,"$"))?b.substring(0,b.length-1):b;for(var d="",e=0;;){var f=c.exec(b);if(q(f))f=P(f,0,null),d=[d,t.Mi(b.substring(e,c.lastIndex-f.length)),t.Mi("$"===f?"/":ib(Fc,f))].join(""),e=c.lastIndex;else{c=[d,t.Mi(b.substring(e,b.length))].join("");break a}}}a=a instanceof z?ze:t;return a.Mi?a.Mi(c):a.call(null,c)}"undefined"!==typeof console&&uc();uc();var gm=new C(null,"ns","ns",441598760),hm=new C(null,"expected","expected",1583670997),im=new C(null,"components","components",-1073188942),jm=new C(null,"data-error","data-error",-1058016301),km=new C(null,"apparent-success","apparent-success",242592222),lm=new z(null,aa,aa,770546058,null),mm=new C("chsk","error","chsk/error",-984175439),nm=new C(null,"p2","p2",905500641),om=new z(null,"defrecord*","defrecord*",-1936366207,null),pm=new C(null,"p1","p1",-936759954),qm=new C(null,"level","level",1290497552),
rm=new C("db","current-tx","db/current-tx",1600722132),sm=new C(null,"type-tag","type-tag",-1873863267),tm=new C(null,"?err_","?err_",789480858),um=new C(null,"ms","ms",-1152709733),vm=new C(null,"middleware-fn","middleware-fn",-61585752),wm=new C("widget","zoom","widget/zoom",1173909758),xm=new C(null,"class-properties","class-properties",1351279702),ym=new C(null,"readers","readers",-2118263030),zm=new C(null,"line","line",212345235),Am=new z(null,"!\x3d","!\x3d",-201205829,null),Bm=new C("db",
"unique","db/unique",329396388),Cm=new C("db","isComponent","db/isComponent",423352398),Dm=new C(fa,"flush-tuples","datascript.db/flush-tuples",-797350002),Em=new z(null,"ns*","ns*",1840949383,null),Fm=new C(null,"lp-timeout","lp-timeout",1149461302),Gm=new C(null,"start-block-t","start-block-t",-373430594),Hm=new C(null,"limit","limit",-1355822363),Im=new C(null,"per-line-prefix","per-line-prefix",846941813),Jm=new C(null,"form-str","form-str",871608859),Km=new C("db.type","tuple","db.type/tuple",
938234914),Lm=new C("lookup-ref","unique","lookup-ref/unique",-960647710),Mm=new C(fa,"value-tempids","datascript.db/value-tempids",244806162),Nm=new z(da,"ends-with?","clojure.string/ends-with?",-745964149,null),Om=new C(null,"headers","headers",-835030129),Pm=new C(null,"string","string",-1989541586),Qm=new C(null,"avet","avet",1383857032),Rm=new C(null,"data","data",-232669377),Sm=new C(null,"factor","factor",-2103172748),Tm=new z(null,"identity","identity",-1007039734,null),Um=new z(null,"max",
"max",1701898075,null),Vm=new C(null,"did-update","did-update",-2143702256),Wm=new C(null,"end-line","end-line",1837326455),Xm=new z(null,"fn*","fn*",-752876845,null),Ym=new C(null,"ks","ks",1900203942),Zm=new C(ca,"amp","cljs.spec.alpha/amp",831147508),$m=new C("transact","syntax","transact/syntax",-299207078),an=new C(null,"abort","abort",521193198),bn=new C(null,"allow","allow",-1857325745),cn=new C(null,"source","source",-433931539),dn=new C(null,"done-nl","done-nl",-381024340),en=new C(null,
"private","private",-558947994),fn=new C(null,"bindings","bindings",1271397192),gn=new C(ca,"alt","cljs.spec.alpha/alt",523685437),hn=new C(null,"?status","?status",938730360),jn=new z(aa,"fn","cljs.core/fn",-1065745098,null),kn=new z(null,"median","median",-2084869638,null),ql=new C(null,"status","status",-1997798413),ln=new C(null,"version","version",425292698),mn=new C(null,"circle","circle",1903212362),nn=new C(null,"htmlFor","htmlFor",-1050291720),Ml=new C(null,"descendants","descendants",1824886031),
on=new C(null,"report","report",1394055010),pn=new C(null,"strs","strs",1175537277),qn=new C(null,"start","start",-355208981),rn=new C(null,"days","days",-1394072564),sn=new C(null,"ns-whitelist","ns-whitelist",-1717299774),tn=new z(null,"identical?","identical?",-745864205,null),un=new z(null,"complement","complement",-913606051,null),vn=new z(aa,"deref","cljs.core/deref",1901963335,null),wn=new C("transact","cas","transact/cas",816687170),xn=new C(null,"recur","recur",-437573268),yn=new C(ca,"nil",
"cljs.spec.alpha/nil",1733813950),zn=new C(ca,"kind-form","cljs.spec.alpha/kind-form",-1047104697),An=new C("db.fn","cas","db.fn/cas",-379352172),Bn=new C(null,"deny-spec","deny-spec",-1074984268),Cn=new C(null,"port","port",1534937262),Dn=new C("chsk","timeout","chsk/timeout",-319776489),En=new C(null,"*?data*","*?data*",1047537922),Fn=new C(null,"child-context","child-context",-1375270295),Gn=new C(null,"http","http",382524695),Hn=new C(null,"mandatory","mandatory",542802336),In=new z(null,"resolve-datom",
"resolve-datom",-294110827,null),Jn=new C(null,"ajax-chsk-opts","ajax-chsk-opts",1602591327),Kn=new C(null,"udt","udt",2011712751),Ln=new C(null,"length","length",588987862),Mn=new C(null,"end-column","end-column",1425389514),Nn=new C(null,"appender-id","appender-id",-1917983538),On=new z(null,"with-open","with-open",172119667,null),Pn=new C(null,"timeout-ms","timeout-ms",754221406),Qn=new C(null,"ps","ps",292358046),Rd=new C("chsk","auto-ajax-downgrade","chsk/auto-ajax-downgrade",-831528080),Rn=
new C(null,"opts","opts",155075701),Sn=new z(null,"list","list",-1889078086,null),Tn=new C(null,"downgrading-ws-to-ajax","downgrading-ws-to-ajax",402136720),Un=new C(null,"not-delivered","not-delivered",1599158697),Vn=new z(null,"if-not","if-not",-265415609,null),Wn=new C(ia,"M","literate.app/M",893000259),Xn=new C(null,"blacklist","blacklist",1248093170),Yn=new C(ha,"expand-rev","datascript.pull-api/expand-rev",2143627459),Zn=new C(null,"state","state",-1988618099),$n=new C(null,"base-args","base-args",
-1268706822),ao=new C(null,"db-before","db-before",-553691536),bo=new z(null,"\x3d\x3d","\x3d\x3d",-234118149,null),co=new z(aa,"unquote","cljs.core/unquote",1013085760,null),eo=new C(null,"return-map","return-map",1620104901),ok=new C(aa,"not-found","cljs.core/not-found",-1572889185),fo=new C(null,"eids","eids",1546550700),go=new z(null,"compare","compare",1109853757,null),ho=new C(null,"vargs_","vargs_",552132148),io=new C(null,"server","server",1499190120),jo=new C(null,"expand-rev","expand-rev",
1249112650),ko=new C(null,"def","def",-1043430536),lo=new z(null,"dotimes","dotimes",-818708397,null),mo=new C(null,"raw-console?","raw-console?",-2061489061),no=new C(null,"conform-keys","conform-keys",-1800041814),to=new C("widget.type","vega-lite","widget.type/vega-lite",1594251738),uo=new C(null,"exception","exception",-335277064),vo=new C("rum","react-component","rum/react-component",-1879897248),wo=new C(null,"op","op",-1882987955),xo=new z(null,"finally","finally",-1065347064,null),yo=new z(null,
"str","str",-1564826950,null),zo=new z(null,"/","/",-1371932971,null),Ao=new z(null,"stddev","stddev",775056588,null),Bo=new C(null,"buffering","buffering",-876713613),Co=new z(aa,"string?","cljs.core/string?",-2072921719,null),Do=new C("ajax","bad-response-type","ajax/bad-response-type",789441015),Eo=new C("db","tupleAttrs","db/tupleAttrs",250080092),Fo=new C(null,"clean?","clean?",-1675631009),Go=new C(null,"tx-meta","tx-meta",1159283194),Ho=new C(null,"prefix-clauses","prefix-clauses",1294180028),
Io=new C(null,"illegal-argument","illegal-argument",-1845493170),Jo=new C("mem","all","mem/all",892075139),Ko=new C(null,"opt-un","opt-un",883442496),Lo=new C(null,"first-open?","first-open?",396686530),Mo=new C("chsk","ws-ping","chsk/ws-ping",191675304),No=new C(null,"rule","rule",729973257),Oo=new C("debug","timeout","debug/timeout",309499949),Po=new C("schema","validation","schema/validation",1178447161),Qo=new C(null,"right-margin","right-margin",-810413306),Ro=new C(null,"wildcard?","wildcard?",
-686044101),So=new z(null,"pos?","pos?",-244377722,null),To=new C("query","inputs","query/inputs",1042810394),Uo=new C(null,"wrong-id-type","wrong-id-type",-1213601689),Vo=new C(null,"exponentchar","exponentchar",1986664222),Wo=new C(null,"attribute","attribute",-2074029119),Xo=new z(null,"default","default",-347290801,null),Yo=new z(da,"includes?","clojure.string/includes?",-1842146260,null),Zo=new C(null,"tx","tx",466630418),$o=new C("taoensso.encore","dynamic","taoensso.encore/dynamic",-1726758399),
ap=new z(null,"locking","locking",1542862874,null),bp=new C(null,"uid","uid",-1447769400),cp=new C(null,"directive","directive",793559132),dp=new z(null,"subs","subs",1453849536,null),ep=new C(null,"seq","seq",-1817803783),fp=new C(null,"qname","qname",-1983612179),gp=new C(null,"where","where",-2044795965),hp=new z(null,"pr-str","pr-str",-2066912145,null),ip=new C(null,"set","set",304602554),jp=new C(null,"flush?","flush?",-108887231),kp=new z(null,"or-join","or-join",591375469,null),lp=new C(null,
"handshake?","handshake?",-423743093),mp=new C(ca,"name","cljs.spec.alpha/name",205233570),np=new z(null,"sum","sum",1777518341,null),op=new z(null,"some?","some?",234752293,null),pp=new z(null,"min","min",2085523049,null),qp=new C(null,"handshake","handshake",68079331),rp=new C(null,"error","error",-978969032),sp=new C(null,"xhr-pool-depleted","xhr-pool-depleted",-1812092376),tp=new C(null,"base","base",185279322),up=new C(null,"actual","actual",107306363),vp=new C(null,"event","event",301435442),
wp=new C("widget.type","leaflet","widget.type/leaflet",-1837279356),xp=new C(null,"noop","noop",-673731258),yp=new C(null,"trailing-white-space","trailing-white-space",1496006996),zp=new z(null,"letfn*","letfn*",-110097810,null),Ap=new C(null,"handshake-data","handshake-data",-278378864),Bp=new C(null,"prefix","prefix",-265908465),Cp=new C("parser","binding","parser/binding",-346395752),Dp=new z(null,"$","$",-1580747756,null),Ep=new C("query","binding","query/binding",698240489),Fp=new C(null,"right-params",
"right-params",-1790676237),Gp=new C(null,"start-pos","start-pos",668789086),Al=new C(null,"keyword-fn","keyword-fn",-64566675),Hp=new C(null,"first","first",-644103046),Ip=new z(null,"let*","let*",1920721458,null),Jp=new C("widget.type","hiccup","widget.type/hiccup",48060386),Kp=new C(null,"for","for",-1323786319),Lp=new C(null,"pathname","pathname",-1420497528),Mp=new z(null,"limit","limit",284709164,null),Np=new C("widget","children","widget/children",485181574),Op=new C("db.fn","retractEntity",
"db.fn/retractEntity",-1423535441),Pp=new z(null,"re-seq","re-seq",-2105554076,null),Qp=new z(null,"when-first","when-first",821699168,null),Rp=new C(null,"ns-blacklist","ns-blacklist",1957763142),Sp=new C(null,"?err","?err",549653299),Tp=new C(null,"depth","depth",1768663640),Up=new C(null,"multi?","multi?",-749311069),Vp=new C(null,"onmessage-fn","onmessage-fn",1633804172),Wp=new C(null,"?error","?error",1070752222),Xp=new C(null,"href","href",-793805698),Yp=new z(null,"recur","recur",1202958259,
null),Zp=new C("widget.type","markdown","widget.type/markdown",177221797),$p=new z(null,"variance","variance",-1522424942,null),aq=new C(null,"type","type",1174270348),cq=new C(null,"none","none",1333468478),dq=new z(null,"_","_",-1201019570,null),eq=new C(null,"style","style",-496642736),fq=new C(null,"impl_","impl_",1218818179),gq=new C("parser","rule-var","parser/rule-var",-1584354459),hq=new C(null,"reader-error","reader-error",1610253121),iq=new z(null,"v","v",1661996586,null),jq=new C(ca,"op",
"cljs.spec.alpha/op",-1269055252),kq=new z(null,"m","m",-1021758608,null),lq=new z(null,"k","k",-505765866,null),mq=new C(null,"ws","ws",86841443),nq=new C(null,"span","span",1394872991),oq=new C("widget","code","widget/code",-845791534),pq=new C(null,"async?","async?",1523057758),qq=new C("entity-id","missing","entity-id/missing",1234588374),rq=new z(null,"count","count",-514511684,null),sq=new C(null,"no-stacktrace?","no-stacktrace?",1701072694),tq=new C(null,"code","code",1586293142),uq=new C("widget",
"geojson","widget/geojson",-434759602),vq=new C(null,"keys","keys",1068423698),wq=new C(null,"qfind","qfind",1529332972),xq=new z(null,"p1__23995#","p1__23995#",1852665597,null),yq=new C(null,"intra-block-nl","intra-block-nl",1808826875),zq=new C("parser","rule-vars","parser/rule-vars",-1493174969),Aq=new C(null,"gen-max","gen-max",-793680445),rc=new C(null,"meta","meta",1499536964),Bq=new z(null,"not-join","not-join",-645515756,null),Cq=new C(null,"deny","deny",1589338523),Dq=new C(null,"wrap-render",
"wrap-render",1782000986),Eq=new C("widget.type","html","widget.type/html",-2034153477),Fq=new C(null,"subpattern","subpattern",45002743),Gq=new C(null,"datoms","datoms",-290874434),Hq=new C(null,"search","search",1564939822),Iq=new C("literate","widget","literate/widget",-1743430817),Qq=new C(null,"right","right",-452581833),Sq=new z(null,"println-str","println-str",-2049216703,null),Tq=new C(null,"host","host",-1558485167),Uq=new C(null,"err","err",-2089457205),Vq=new z(null,"when","when",1064114221,
null),Wq=new z(ca,"coll-of","cljs.spec.alpha/coll-of",1019430407,null),Xq=new z(aa,"set?","cljs.core/set?",-1176684971,null),Yq=new C(null,"logical-blocks","logical-blocks",-1466339776),Zq=new C(null,"\x3cserver","\x3cserver",-2135373537),$q=new z(null,"quot","quot",-1125214196,null),ar=new C(null,"colinc","colinc",-584873385),br=new C(null,"auto","auto",-566279492),cr=new C(null,"find","find",496279456),dr=new z(null,"\x3e\x3d","\x3e\x3d",1016916022,null),er=new C(null,"fatal","fatal",1874419888),
fr=new C(null,"logical-block","logical-block",-581022564),gr=new C(null,"rate-limit","rate-limit",1748082022),hr=new z(null,"nil?","nil?",1612038930,null),ir=new C(null,"namespaced-keyword","namespaced-keyword",131372895),jr=new C(null,"your-version","your-version",-351781765),kr=new z(null,"or","or",1876275696,null),lr=new C(null,"col","col",-1959363084),mr=new C("db","fn","db/fn",-1175261470),nr=new C(null,"?ns-str","?ns-str",2012733966),or=new C("entity-id","syntax","entity-id/syntax",1921317045),
pr=new C(null,"current","current",-1088038603),qr=new C(null,"writing","writing",-1486865108),rr=new C(null,"ch-recv","ch-recv",-990916861),sr=new C(null,"start-col","start-col",668080143),tr=new C(null,"into","into",-150836029),ur=new C(null,"suppress-namespaces","suppress-namespaces",2130686956),vr=new z(null,"set!","set!",250714521,null),wr=new C(null,"uri-str","uri-str",304128675),xr=new C(null,"parent","parent",-878878779),yr=new C(null,"instance-handle_","instance-handle_",-1923384457),zr=new C(null,
"new","new",-2085437848),Ar=new C("query","where","query/where",-1935159429),Br=new C("db","retract","db/retract",-1549825231),Cr=new C(null,"free","free",801364328),Dr=new z(null,"missing?","missing?",-1710383910,null),Er=new z(aa,"map?","cljs.core/map?",-1390345523,null),Fr=new C(null,"seen","seen",-518999789),Gr=new C(null,"instant","instant",655498374),Hr=new z(null,"\x3c\x3d","\x3c\x3d",1244895369,null),Ir=new z(null,"\x26","\x26",-2144855648,null),Jr=new C(null,"ex-kind","ex-kind",1581199296),
Kr=new C(null,"internal","internal",-854870097),Lr=new C(null,"right-bracket","right-bracket",951856080),Mr=new C(null,"last-ws-error","last-ws-error",-820288502),Nr=new C(null,"req-id","req-id",-471642231),Or=new C(null,"schema","schema",-1582001791),Pr=new C(null,"tx-data","tx-data",934159761),Qr=new C(null,"amp","amp",271690571),Rr=new C("db.unique","value","db.unique/value",276903088),Sr=new C(null,"csrf-token","csrf-token",-1872302856),Tr=new C(ca,"cpred","cljs.spec.alpha/cpred",-693471218),
Ur=new C(null,"will-update","will-update",328062998),Vr=new C("chsk","state","chsk/state",-1991397620),Wr=new z(null,"-Inf","-Inf",-2123243689,null),Xr=new C("db","id","db/id",-1388397098),Yr=new C(null,"vars","vars",-2046957217),Zr=new C(null,"any","any",1705907423),$r=new C(null,"client-uuid","client-uuid",-1717531965),as=new C(null,"will-unmount","will-unmount",-808051550),bs=new z(null,"name","name",-810760592,null),cs=new C(null,"operation","operation",-1267664310),ds=new C(null,"after-render",
"after-render",1997533433),Xl=new C(null,"default","default",-1987822328),es=new C(null,"secs","secs",1532330091),fs=new z("clojure.core","deref","clojure.core/deref",188719157,null),gs=new C(null,"padchar","padchar",2018584530),hs=new C(null,"unexpected","unexpected",-1137752424),is=new C(null,"elidable?","elidable?",248362249),js=new C(null,"cache?","cache?",-1601953949),tc=new C(null,"print-length","print-length",1931866356),ks=new C(null,"nil","nil",99600501),ls=new z(null,"odd?","odd?",-1458588199,
null),ms=new C(null,"*","*",-1294732318),ns=new C(null,"json","json",1279968570),os=new C(null,"allow-spec","allow-spec",448749872),ps=new C("db","retractEntity","db/retractEntity",-1452737935),qs=new C(null,"no-op","no-op",-93046065),rs=new z(null,"zero?","zero?",325758897,null),ss=new C(null,"buffer-block","buffer-block",-10937307),ts=new C(null,"reader-exception","reader-exception",-1938323098),us=new C(null,"remaining-arg-count","remaining-arg-count",-1216589335),vs=new C(null,"recursion","recursion",
-749738765),ws=new z(null,"-","-",-471816912,null),xs=new C(null,"req-un","req-un",1074571008),ys=new z(null,"keyword","keyword",-1843046022,null),zs=new C(null,"forms","forms",2045992350),As=new C("db","attrTuples","db/attrTuples",860541631),Bs=new C(null,"cur","cur",1153190599),Cs=new C(null,"init","init",-1875481434),Ds=new C(null,"branches","branches",-1240337268),Es=new z(null,"def","def",597100991,null),Fs=new z(null,"dec","dec",-766002333,null),Gs=new C(fa,"internal","datascript.db/internal",
-249301114),Hs=new z(null,"rand","rand",-1745930995,null),Is=new C("rum","class","rum/class",-2030775258),El=new C(null,"keywordize-keys","keywordize-keys",1310784252),Js=new C("widget","type","widget/type",-1894308144),Ks=new C(null,"pos","pos",-864607220),Ls=new C(ca,"v","cljs.spec.alpha/v",552625740),Ms=new C("transact","upsert","transact/upsert",412688078),Ns=new C(ca,"k","cljs.spec.alpha/k",-1602615178),Os=new C(null,"kvps","kvps",65308317),Ps=new C(null,"info","info",-317069002),Qs=new C(null,
"output-fn","output-fn",1600951539),Rs=new z(null,"set","set",1945134081,null),Ss=new C(null,"commainterval","commainterval",-1980061083),Ts=new C("mem","del","mem/del",574870667),Us=new C("db.fn","retractAttribute","db.fn/retractAttribute",937402164),Vs=new C(null,"elements","elements",657646735),Ws=new C(null,"send-buffers","send-buffers",-1788003787),Xs=new C(null,"total","total",1916810418),Ys=new C(null,"separator","separator",-1628749125),Zs=new z("datascript","Datom","datascript/Datom",-901340080,
null),$s=new z(null,"defonce","defonce",-1681484013,null),at=new C(null,"?content","?content",1697782054),bt=new z(null,"%","%",-950237169,null),ct=new C(null,"form","form",-1624062471),dt=new C(null,"pretty-writer","pretty-writer",-1222834267),et=new z(null,"..","..",-300507420,null),ft=new C(fa,"tx-redundant","datascript.db/tx-redundant",-1117921977),gt=new C(null,"length-computable?","length-computable?",1915473276),ht=new z(null,"not\x3d","not\x3d",1466536204,null),it=new C(null,"validator","validator",
-1966190681),jt=new C(null,"pretty","pretty",-1916372486),kt=new C(null,"unnamespaced-id","unnamespaced-id",1976189772),lt=new C(null,"buffer-level","buffer-level",928864731),mt=new z(null,"range","range",-1014743483,null),nt=new z(da,"blank?","clojure.string/blank?",1772874244,null),ot=new C("rl","all","rl/all",892118056),pt=new C(null,"ever-opened?","ever-opened?",1128459732),qt=new C(null,"fragment","fragment",826775688),sl=new C(null,"pending","pending",-220036727),rt=new C(ca,"invalid","cljs.spec.alpha/invalid",
-1220295119),st=new C(ca,"pcat","cljs.spec.alpha/pcat",26406623),qc=new C(null,"readably","readably",1129599760),tt=new C(null,"chsk","chsk",-863703081),ut=new C(null,"file","file",-1269645878),vt=new C(null,"error-handler","error-handler",-484945776),wt=new C(null,"rschema","rschema",-1196134054),xt=new C(null,"progress-fn","progress-fn",-1146547855),yt=new C(null,"fill","fill",883462889),zt=new C("widget","center","widget/center",9752908),At=new C("widget","html","widget/html",-1786567845),Bt=new C(null,
"client-id","client-id",-464622140),Ct=new C(null,"attrs","attrs",-2090668713),Dt=new C(ha,"recursion","datascript.pull-api/recursion",-1897884534),Et=new C(null,"months","months",-45571637),Ft=new C(null,"radix","radix",857016463),Gt=new C(null,"send-fn","send-fn",351002041),Ht=new C("parser","with","parser/with",-386255821),It=new C(null,"text","text",-1790561697),Jt=new C(null,"distinct","distinct",-1788879121),Kt=new C(null,"ns-str","ns-str",-2062616499),Lt=new z(null,"uuid","uuid",-504564192,
null),Mt=new C(null,"udt-last-comms_","udt-last-comms_",-145799639),Nt=new C(null,"entity-id","entity-id",1485898093),Ot=new C(null,"wildcard","wildcard",-622473020),Pt=new z(null,"queue","queue",-1198599890,null),St=new C(null,"block","block",664686210),Ut=new C(null,"else","else",-1508377146),Vt=new C(null,"variable","variable",-281346492),Wt=new z(null,"case*","case*",-1938255072,null),Xt=new C(null,"params","params",710516235),Nl=new C(null,"ancestors","ancestors",-776045424),Yt=new C(null,"tuples",
"tuples",-676032639),Zt=new C(null,"listeners","listeners",394544445),$t=new C(null,"retry-count_","retry-count_",20238093),au=new C("db","cardinality","db/cardinality",-104975659),bu=new z(null,"struct-map","struct-map",-1387540878,null),cu=new C(null,"hostname","hostname",2105669933),du=new C(null,"rest","rest",-1241696419),eu=new C(null,"min-remaining","min-remaining",962687677),fu=new C(null,"?data","?data",-9471433),gu=new C(null,"offset","offset",296498311),hu=new C(null,"var","var",-769682797),
iu=new C(null,"commachar","commachar",652859327),ju=new C(null,"error-level?","error-level?",778415885),ku=new C(null,"content","content",15833224),lu=new C(null,"ring-req","ring-req",-747861961),mu=new C(null,"loaded","loaded",-1246482293),nu=new z(null,"re-find","re-find",1143444147,null),nl=new C(null,"val","val",128701612),ou=new z(aa,"zipmap","cljs.core/zipmap",-1902130674,null),pu=new z(null,"-\x3e","-\x3e",-2139605430,null),qu=new C(null,"db-after","db-after",-571884666),ru=new C(null,"entity",
"entity",-450970276),su=new C(null,"timeout","timeout",-318625318),tu=new C(null,"arglists","arglists",1661989754),uu=new z(null,"js*","js*",-1134233646,null),vu=new C(null,"end-pos","end-pos",-1643883926),wu=new C(null,"min-version","min-version",-1697197126),xu=new C(null,"pred-forms","pred-forms",172611832),yu=new C(null,"hours","hours",58380855),zu=new C(null,"trace-evs?","trace-evs?",1502453512),Au=new z(null,"catch","catch",-1616370245,null),Bu=new z(null,"tuple","tuple",1167864243,null),Cu=
new z(null,"count-distinct","count-distinct",-1566572514,null),Du=new C(null,"get","get",1683182755),Eu=new C(ca,"kvs-\x3emap","cljs.spec.alpha/kvs-\x3emap",579713455),Fu=new C(null,"kind","kind",-717265803),Gu=new C(null,"method","method",55703592),Hu=new C(null,"val-type","val-type",-279850094),Iu=new z(null,"defn","defn",-126010802,null),Ju=new C(null,"specs","specs",1426570741),Ku=new z(null,"struct","struct",325972931,null),Lu=new C("db.fn","call","db.fn/call",-151594418),Mu=new C("widget.type",
"code","widget.type/code",-673996494),Nu=new C(null,"gfn","gfn",791517474),Ou=new C(null,"years","years",-1298579689),Pu=new C(null,"namespaced-map","namespaced-map",1235665380),Qu=new z(null,"prn-str","prn-str",-145225943,null),Ru=new C(ca,"accept","cljs.spec.alpha/accept",370988198),Su=new z(null,"...","...",-1926939749,null),Tu=new C("widget","style","widget/style",963211268),Uu=new C(null,"onerror-fn","onerror-fn",1069372505),Vu=new C(null,"xhr","xhr",-177710851),Wu=new C(null,"eavt","eavt",-666437073),
Xu=new C(null,"mins","mins",467369676),Yu=new C(null,"tag","tag",-1290361223),Zu=new C(null,"hostname_","hostname_",-2091647379),$u=new C(null,"linear","linear",872268697),av=new z(null,"new","new",-444906321,null),bv=new C("db","cas","db/cas",-451542322),cv=new C(null,"other","other",995793544),dv=new z(null,"\x3e","\x3e",1085014381,null),ev=new C(null,"?msg-fmt","?msg-fmt",-852453891),fv=new C(null,"sections","sections",-886710106),gv=new C(null,"lines","lines",-700165781),hv=new z(null,"do","do",
1686842252,null),iv=new C(null,"colon","colon",-965200945),jv=new C("literate","widgets","literate/widgets",1235755088),kv=new C(null,"edn","edn",1317840885),lv=new C(null,"keys-pred","keys-pred",858984739),VU=new C("widget.type","identicon","widget.type/identicon",-1604205816),mv=new C(null,"?line","?line",-631853385),nv=new C(null,"test","test",577538877),ov=new z(null,"\x3d","\x3d",-1501502141,null),pv=new C(null,"minpad","minpad",323570901),qv=new z("datascript","DB","datascript/DB",-487332776,
null),al=new C(null,"alt-impl","alt-impl",670969595),rv=new z(null,"not-empty","not-empty",2029453590,null),sv=new C(null,"conflict","conflict",1978796605),tv=new C(null,"datom","datom",-371556090),uv=new z(ca,"keys","cljs.spec.alpha/keys",1109346032,null),vv=new C(null,"given","given",716253602),wv=new C(null,"did-remount","did-remount",1362550500),xv=new z(null,"db","db",-1661185010,null),yv=new z(null,"with-local-vars","with-local-vars",837642072,null),zv=new C(null,"did-catch","did-catch",2139522313),
Av=new z(null,"aggregate","aggregate",-1142967327,null),Bv=new C(null,"udt-next-reconnect","udt-next-reconnect",-1990375733),Cv=new z(null,"and","and",668631710,null),Dv=new z(null,"try","try",-1273693247,null),Ev=new C(null,"location","location",1815599388),Fv=new C(null,"xml","xml",-1170142052),Gv=new z(null,"throw","throw",595905694,null),Hv=new C(null,"before-render","before-render",71256781),WU=new C("widget.identicon","hash-or-value","widget.identicon/hash-or-value",1817940673),Iv=new z(null,
"array-map","array-map",1555038968,null),Jv=new C(null,"?reply-fn","?reply-fn",-1479510592),Kv=new z(null,"let","let",358118826,null),pc=new C(null,"flush-on-newline","flush-on-newline",-151457939),Lv=new z(null,"print-str","print-str",-699700354,null),Mv=new C(null,"opt-specs","opt-specs",-384905450),Nv=new z(null,"meta","meta",-1154898805,null),Ov=new C(null,"wrong-length","wrong-length",1367572281),Pv=new C(null,"rules","rules",1198912366),Qv=new C(null,"rels","rels",1770187185),Rv=new C(null,
"pred-exprs","pred-exprs",1792271395),Sv=new z(null,"if","if",1181717262,null),Tv=new z(null,"get-some","get-some",409442058,null),Uv=new C("rum","args","rum/args",1315791754),Vv=new C(null,"binding","binding",539932593),Wv=new C(null,"character","character",380652989),Xv=new C(ca,"kfn","cljs.spec.alpha/kfn",672643897),Yv=new C(null,"eid","eid",559519930),Zv=new C(null,"wrap-recv-evs?","wrap-recv-evs?",-1996694153),$v=new z(null,"hash-map","hash-map",-439030950,null),aw=new z(null,"loop*","loop*",
615029416,null),bw=new C(null,"min-count","min-count",1594709013),cw=new C(null,"last","last",1105735132),dw=new z(null,"quote","quote",1377916282,null),ew=new z(aa,"vector?","cljs.core/vector?",-1550392028,null),fw=new z(aa,"lift-ns","cljs.core/lift-ns",463499081,null),gw=new C(null,"k","k",-2146297393),hw=new C(null,"hierarchy","hierarchy",-1053470341),iw=new C(null,"qreturn-map","qreturn-map",1841215994),jw=new C(null,"e","e",1381269198),kw=new C(null,"f","f",-1597136552),lw=new C(null,"trace",
"trace",-1082747415),mw=new C(null,"d","d",1972142424),nw=new C(null,"a","a",-2123407586),ow=new C("rl","reset","rl/reset",-800926172),pw=new z(null,"pull","pull",779986722,null),qw=new C(null,"ajax-cb","ajax-cb",-807060321),rw=new z(da,"starts-with?","clojure.string/starts-with?",656256322,null),sw=new C(null,"w","w",354169001),tw=new z(null,"fn","fn",465265323,null),uw=new C(null,"v","v",21465059),vw=new C(ia,"geojson-layer","literate.app/geojson-layer",-1636567316),ww=new C(null,"last-close","last-close",
-2054255782),xw=new C(null,"strable","strable",1877668047),yw=new z(null,"p1__23996#","p1__23996#",-800655542,null),zw=new C(null,"p","p",151049309),Aw=new C(null,"n","n",562130025),Bw=new C(ia,"tile-layer","literate.app/tile-layer",-1851953253),Cw=new C(null,"func","func",-238706040),Dw=new C(null,"symbol","symbol",-1038572696),Ew=new C(null,"got","got",-1674745710),Fw=new z(aa,"contains?","cljs.core/contains?",-976526835,null),Gw=new C(null,"indent-t","indent-t",528318969),Hw=new z(null,"lift-ns",
"lift-ns",602311926,null),Iw=new C(null,"middleware","middleware",1462115504),Jw=new C(null,"value","value",305978217),Kw=new C(null,"ws-chsk-opts","ws-chsk-opts",-1990170104),bl=new C(null,"fallback-impl","fallback-impl",-1501286995),Lw=new C(null,"sources","sources",-321166424),Mw=new C(null,"enabled?","enabled?",-1376075057),Nw=new z(null,"ns","ns",2082130287,null),Ow=new C(null,"req","req",-326448303),Pw=new C(null,"height","height",1025178622),Qw=new C(null,"ret","ret",-468222814),Rw=new C("parser",
"rule","parser/rule",-464044566),Sw=new C(null,"done","done",-889844188),Tw=new C(null,"chs","chs",376886120),Uw=new C(null,"both","both",-393648840),Vw=new C(null,"debug","debug",-1608172596),Ww=new C(null,"vector","vector",1902966158),Xw=new C(null,"req-specs","req-specs",553962313),Yw=new C(null,"end","end",-268185958),Zw=new C(null,"wrong-type","wrong-type",929556915),$w=new C(null,"connected-uids","connected-uids",1454332231),ax=new z(null,"distinct","distinct",-148347594,null),bx=new z(null,
"get-else","get-else",1312024065,null),cx=new C(null,"className","className",-1983287057),dx=new C(null,"buffer-blob","buffer-blob",-1830112173),ex=new C(null,"allows-separator","allows-separator",-818967742),fx=new z("clojure.core","unquote","clojure.core/unquote",843087510,null),gx=new C(null,"appenders","appenders",1245583998),hx=new C(null,"colon-up-arrow","colon-up-arrow",244853007),ix=new z(null,"*","*",345799209,null),jx=new C("rl","peek","rl/peek",-291391771),kx=new C(null,"flags","flags",
1775418075),lx=new C(null,"eof","eof",-489063237),mx=new z(null,"-differ?","-differ?",1465687357,null),nx=new C(null,"ws-kalive-ms","ws-kalive-ms",1442179968),ox=new z(null,"js","js",-886355190,null),px=new C(null,"relative-to","relative-to",-470100051),qx=new z(null,"doseq","doseq",221164135,null),rx=new C("widget","parent","widget/parent",-1665940103),sx=new z(null,"avg","avg",1837937727,null),tx=new z(ca,"conformer","cljs.spec.alpha/conformer",2140085535,null),ux=new z(null,"not","not",1044554643,
null),vx=new z(aa,"list?","cljs.core/list?",-684796618,null),wx=new C(null,"max-eid","max-eid",2134868075),xx=new C(null,"expand-kvps","expand-kvps",44141154),yx=new C(null,"unknown","unknown",-935977881),Sk=new C(null,"more-marker","more-marker",-14717935),zx=new C(null,"index-access","index-access",-1548960265),Ax=new C(null,"X-CSRF-Token","X-CSRF-Token",1562992453),Bx=new C("parser","where","parser/where",-966053850),Cx=new C(null,"aevt","aevt",-585148059),Dx=new C(null,"used-args","used-args",
23596256),Ex=new C(null,"nl-t","nl-t",-1608382114),Fx=new C(null,"symbols","symbols",1211743),Gx=new z(null,"var","var",870848730,null),Hx=new C(null,"qualifier","qualifier",125841738),Ix=new C(null,"attr","attr",-604132353),Jx=new C(null,"doc","doc",1913296891),Kx=new C("chsk","bad-package","chsk/bad-package",501893679),Lx=new C(null,"cbs-waiting_","cbs-waiting_",-1519029061),rl=new C(null,"ready","ready",1086465795),Mx=new z(null,"neg?","neg?",-1902175577,null),Nx=new C(null,"hash_","hash_",-827203612),
Ox=new C(null,"http-error","http-error",-1040049553),Px=new C("db.cardinality","one","db.cardinality/one",1428352190),Qx=new z(null,"untuple","untuple",-606149900,null),Rx=new C("parser","query","parser/query",1877320671),Sx=new C(ca,"gfn","cljs.spec.alpha/gfn",-593120375),Tx=new C(null,"added","added",2057651688),Ux=new C(null,"?file","?file",1533429675),Vx=new z(null,"mod","mod",1510044207,null),Wx=new C(null,"qin","qin",1372651151),Xx=new z(null,"cond","cond",1606708055,null),Yx=new z(null,"\x3c",
"\x3c",993667236,null),Zx=new C(null,"map","map",1371690461),$x=new C(null,"open?","open?",1238443125),ay=new C(null,"element","element",1974019749),by=new C(null,"char-format","char-format",-1016499218),cy=new z(null,"type","type",-1480165421,null),dy=new C("parser","pull","parser/pull",-2147427204),ey=new C(null,"mode","mode",654403691),fy=new C(null,"max-columns","max-columns",1742323262),gy=new C(null,"will-mount","will-mount",-434633071),hy=new C(null,"max","max",61366548),iy=new C(null,"pending-guards",
"pending-guards",-1255527308),XU=new C("widget.identicon","size","widget.identicon/size",-1395443248),jy=new C(null,"last-ws-close","last-ws-close",-798104932),ky=new z(null,"when-let","when-let",-1383043480,null),ly=new C("db","index","db/index",-1531680669),my=new C(null,"url","url",276297046),ny=new C(null,"rattr","rattr",-1122345563),oy=new C(null,"qwhere","qwhere",-1645067378),py=new C(null,"count","count",2139924085),qy=new C(null,"clauses","clauses",1454841241),ry=new z(null,"empty?","empty?",
76408555,null),sy=new z(null,"re-matches","re-matches",-1865705768,null),ty=new C(null,"static-properties","static-properties",-577838503),uy=new C(null,"ever-opened?_","ever-opened?_",1641338913),vy=new C(null,"miser-width","miser-width",-1310049437),wy=new C(null,"expand","expand",595248157),xy=new z(null,"binding","binding",-2114503176,null),yy=new z(null,"ground","ground",-1460862835,null),zy=new C(null,"state_","state_",957667102),Ay=new C("rum","component-stack","rum/component-stack",2037541138),
By=new C(null,"index","index",-1531685915),Cy=new C(null,"class","class",-2030961996),Dy=new C(null,"packer","packer",66077544),Jy=new C("db.unique","identity","db.unique/identity",1675950722),Ky=new C(null,"success?","success?",-122854052),Ly=new C(fa,"queued-tuples","datascript.db/queued-tuples",-762852029),My=new z(null,".",".",1975675962,null),Ny=new C(null,"at","at",1476951349),Oy=new C("transact","unique","transact/unique",-940992320),Py=new C(null,"splice","splice",449588165),Qy=new C(null,
"dispatch","dispatch",1319337009),Ry=new z(null,"inst","inst",-2008473268,null),Sy=new C(ca,"describe","cljs.spec.alpha/describe",1883026911),Ty=new z(null,"sample","sample",1719555128,null),Uy=new C("widget","markdown","widget/markdown",-145862203),Vy=new C(null,"max-tx","max-tx",1119558339),Wy=new C("lookup-ref","syntax","lookup-ref/syntax",-317304012),Xy=new C(null,"as","as",1148689641),Yy=new C(null,"?meta","?meta",-793560773),Zy=new C(null,"name","name",1843675177),$y=new C(null,"syms","syms",
-1575891762),az=new C(null,"vargs","vargs",-966597273),bz=new C("chsk","bad-event","chsk/bad-event",-565206930),cz=new C("db.type","ref","db.type/ref",-1728373079),dz=new C(null,"queue","queue",1455835879),ez=new C(null,"stacktrace-fonts","stacktrace-fonts",830799382),fz=new C(null,"warn","warn",-436710552),gz=new z(null,"loop","loop",1244978678,null),hz=new C("parser","find","parser/find",-801023103),iz=new C(null,"appender","appender",1267426510),jz=new C(null,"selector","selector",762528866),kz=
new C(null,"key-fn","key-fn",-636154479),lz=new C(null,"parameter-from-args","parameter-from-args",-758446196),mz=new C(null,"miser","miser",-556060186),nz=new C("mem","fresh","mem/fresh",-1179989133),oz=new C(null,"ajax","ajax",814345549),pz=new z(null,"inc","inc",324505433,null),qz=new C(null,"rule-vars","rule-vars",1665972520),rz=new C(null,"backoff-ms-fn","backoff-ms-fn",772895955),sz=new C(null,"context","context",-830191113),tz=new C(null,"chsk-url-fn","chsk-url-fn",1968894294),uz=new C(null,
"colnum","colnum",2023796854),vz=new C(null,"raw-resp","raw-resp",-1924342506),wz=new C(null,"section","section",-300141526),xz=new C(null,"bracket-info","bracket-info",-1600092774),yz=new z(null,"even?","even?",-1827825394,null),zz=new z(null,"Inf","Inf",647172781,null),Az=new z(aa,"map","cljs.core/map",-338988913,null),Bz=new C(null,"did-mount","did-mount",918232960),sc=new C(null,"dup","dup",556298533),Cz=new C(null,"prefix-context","prefix-context",-1269613591),Dz=new C(null,"init-db","init-db",
1595181278),Ez=new C(null,"should-update","should-update",-1292781795),Fz=new C(null,"timestamp_","timestamp_",-954533417),Gz=new C("ajax","resp-as-text","ajax/resp-as-text",141416819),Hz=new C(null,"socket_","socket_",-361048908),Iz=new C(ca,"rep","cljs.spec.alpha/rep",1483217317),Jz=new C(null,"fn","fn",-1175266204),Kz=new C(null,"args","args",1315556576),Lz=new C(null,"suffix","suffix",367373057),Mz=new C(null,"old","old",-1825222690),Nz=new C(null,"qwith","qwith",-45809392),Oz=new z(null,"defn-",
"defn-",1097765044,null),Pz=new C(null,"pattern","pattern",242135423),Qz=new C(null,"div.p-2","div.p-2",-325121057),Rz=new C(null,"required","required",1807647006),Sz=new C(null,"priority","priority",1431093715),Tz=new C(null,"buffer","buffer",617295198),Uz=new C(null,"inherit","inherit",-1840815422),Vz=new C(null,"msg_","msg_",-1925147E3),Wz=new C(null,"opt-keys","opt-keys",1262688261),Xz=new z(null,"when-not","when-not",-1223136340,null),Yz=new C(null,"ev","ev",-406827324),Zz=new C(null,"console",
"console",1228072057),$z=new C("parser","in","parser/in",1617442048),aA=new C(null,"hash","hash",-13781596),bA=new z(null,"namespace","namespace",1263021155,null),cA=new C(null,"?content-type","?content-type",-2129759049),dA=new C(null,"post","post",269697687),eA=new C(null,"simple-auto-threading?","simple-auto-threading?",1950754184),fA=new C(null,"arg3","arg3",-1486822496),gA=new C(null,"min-level","min-level",1634684919),hA=new C(null,"arg1","arg1",951899358),iA=new C("db","valueType","db/valueType",
1827971944),jA=new C(null,"arg2","arg2",1729550917),kA=new C(null,"list","list",765357683),lA=new C("db","ident","db/ident",-737096),mA=new C(null,"dt","dt",-368444759),nA=new C(null,"min","min",444991522),oA=new C("literate","!transact","literate/!transact",758397308),pA=new z(null,"re-pattern","re-pattern",1047705161,null),qA=new C(null,"column","column",2078222095),rA=new C(null,"key","key",-1516042587),sA=new z(null,"rand-int","rand-int",-495012157,null),tA=new C("chsk","recv","chsk/recv",561097091),
uA=new C(null,"up-arrow","up-arrow",1705310333),vA=new z(null,"contains?","contains?",-1676812576,null),wA=new z(null,"true?","true?",-1600332395,null),xA=new C(null,"?ratio","?ratio",-1275760831),yA=new z(null,"+","+",-740910886,null),zA=new C(null,"generator-fn","generator-fn",811851656),AA=new C(null,"req-keys","req-keys",514319221),BA=new C(null,"logical-block-callback","logical-block-callback",1612691194),CA=new C(null,"resp-type","resp-type",1050675962),DA=new C("db.cardinality","many","db.cardinality/many",
772806234),EA=new C(null,"weeks","weeks",1844596125),FA=new C(null,"overflowchar","overflowchar",-1620088106),GA=new C(null,"with","with",-1536296876),HA=new C(null,"cb","cb",589947841),IA=new C("swap","dissoc","swap/dissoc",-605373782),JA=new C(null,"ppstr","ppstr",1557495252),Ll=new C(null,"parents","parents",-2027538891),KA=new C("chsk","handshake","chsk/handshake",64910686),LA=new C(null,"with-credentials?","with-credentials?",-1773202222),MA=new C(null,"mincol","mincol",1230695445),NA=new C(null,
"protocol","protocol",652470118),OA=new C(null,"curr-xhr_","curr-xhr_",-1318773696),PA=new z(null,"if-let","if-let",1803593690,null),QA=new C(null,"*assert*","*assert*",-160895053),RA=new C("chsk","dummy-cb-200","chsk/dummy-cb-200",-1663130337),SA=new z(null,"condp","condp",1054325175,null),TA=new z(null,"rem","rem",664046770,null),UA=new C("widget","vega-lite-spec","widget/vega-lite-spec",1203345650),VA=new C(null,"deref","deref",-145586795),WA=new C(null,"in","in",-1531184865),XA=new C(ca,"unknown",
"cljs.spec.alpha/unknown",651034818),YA=new C(null,"max-iterations","max-iterations",2021275563),ZA=new C(null,"output_","output_",-36797880),$A=new C(null,"opt","opt",-794706369),aB=new C(null,"reason","reason",-2070751759),bB=new C(null,"assertion","assertion",-1645134882),cB=new C(null,"config","config",994861415),dB=new C(null,"id","id",-1388402092),eB=new z(null,"?e","?e",-1194391683,null),fB=new C(null,"onclose-fn","onclose-fn",-1388163785),gB=new C(null,"stream","stream",1534941648),hB=new C(null,
"results","results",-1134170113),iB=new z(null,"false?","false?",-1522377573,null),jB=new C("widget","uuid","widget/uuid",-585315811),kB=new z(null,"deftype*","deftype*",962659890,null),lB=new C(null,"rep+","rep+",-281382396),mB=new C(null,"ajax-opts","ajax-opts",-518239109),nB=new z(null,"NaN","NaN",666918153,null),oB=new C(null,"indent","indent",-148200125),pB=new C("chsk","closed","chsk/closed",-922855264),qB=new C(null,"msecs","msecs",1711980553),rB=new z(null,"defmacro","defmacro",2054157304,
null),sB=new C("db","add","db/add",235286841),tB=new z(null,"vector","vector",-751469611,null),uB=new C(null,"recv-buf-or-n","recv-buf-or-n",1363950355),vB=new C(null,"porrl","porrl",-1693905102),wB=new C(ca,"conform-all","cljs.spec.alpha/conform-all",45201917),xB=new C(null,"else-params","else-params",-832171646),yB=new C(null,"keyword","keyword",811389747),zB=new C(null,"whitelist","whitelist",-979294437),AB=new C(null,"end-block-t","end-block-t",1544648735),BB=new C(null,"tempids","tempids",1767509089),
CB=new C(null,"errors","errors",-908790718),DB=new C(null,"max-count","max-count",1539185305);function EB(a,b,c){if(zg(c)){var d=gh(Cg,Lh.Li(a,c));return b.Mi?b.Mi(d):b.call(null,d)}return Ei(c)?(d=new X(function(){var e=gd(c);return a.Mi?a.Mi(e):a.call(null,e)}(),function(){var e=hd(c);return a.Mi?a.Mi(e):a.call(null,e)}()),b.Mi?b.Mi(d):b.call(null,d)):Lf(c)?(d=Mk(Lh.Li(a,c)),b.Mi?b.Mi(d):b.call(null,d)):Gf(c)?(d=v.Ni(function(e,f){return pf.Li(e,a.Mi?a.Mi(f):a.call(null,f))},c,c),b.Mi?b.Mi(d):b.call(null,d)):Cf(c)?(d=ai.Li(sf(c),Lh.Li(a,c)),b.Mi?b.Mi(d):b.call(null,d)):b.Mi?b.Mi(c):b.call(null,
c)}var FB=function FB(a,b){return EB(xh(FB,a),a,b)};var GB={};function HB(a,b,c){var d=RegExp,e=b.source,f=q(b.ignoreCase)?"gi":"g";f=q(b.multiline)?[f,"m"].join(""):f;b=q(b.Ki)?[f,"u"].join(""):f;d=new d(e,b);return a.replace(d,c)}
function IB(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new De(f,0,null)}return c.call(this,e)}function c(d){d=Oh(2,d);if(D.Li(K(d),1))return d=H(d),a.Mi?a.Mi(d):a.call(null,d);d=Yf(d);return a.Mi?a.Mi(d):a.call(null,d)}b.$=0;b.ca=function(d){d=E(d);return c(d)};b.Pi=c;return b}()}
function JB(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?HB(a,b,c):HB(a,b,IB(c));throw["Invalid match arg: ",t.Mi(b)].join("");}function KB(a){var b=new dc;for(a=E(a);;)if(null!=a)b=b.append(t.Mi(H(a))),a=J(a);else return b.toString()}
function LB(a,b){var c=new dc;for(b=E(b);;)if(null!=b)c.append(t.Mi(H(b))),b=J(b),null!=b&&c.append(a);else return c.toString()}function MB(a){return Nb(a)}function NB(a,b){if(0>=b||b>=2+K(a))return pf.Li(Yf(hf("",Lh.Li(t,E(a)))),"");if(q(xg.Li?xg.Li(1,b):xg.call(null,1,b)))return new W(null,1,5,Y,[a],null);if(q(xg.Li?xg.Li(2,b):xg.call(null,2,b)))return new W(null,2,5,Y,["",a],null);b-=2;return pf.Li(Yf(hf("",Mi(Yf(Lh.Li(t,E(a))),0,b))),yg.Li(a,b))}function OB(a,b){return PB(a,b,0)}
function PB(a,b,c){if("/(?:)/"===t.Mi(b))b=NB(a,c);else if(1>c)b=Yf(t.Mi(a).split(b));else a:for(var d=c,e=qf;;){if(1===d){b=pf.Li(e,a);break a}var f=Ok(b,a);if(null!=f){var h=a.indexOf(f);f=a.substring(h+K(f));--d;e=pf.Li(e,a.substring(0,h));a=f}else{b=pf.Li(e,a);break a}}if(0===c&&1<K(b))a:for(c=b;;)if(""===(null==c?null:kd(c)))c=null==c?null:ld(c);else break a;else c=b;return c}function QB(a){return vb(null==a?"":String(a))};var RB={},SB,TB,UB,VB;function WB(a,b){if(null!=a&&null!=a.pe)a=a.pe(a,b);else{var c=WB[pa(null==a?null:a)];if(null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else if(c=WB._,null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else throw Cc("Spec.conform*",a);}return a}function XB(a,b){if(null!=a&&null!=a.qe)a=a.qe(a,b);else{var c=XB[pa(null==a?null:a)];if(null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else if(c=XB._,null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else throw Cc("Spec.with-gen*",a);}return a}var YB=Ch(V);
function ZB(a){if(Gg(a)){var b=y(YB);a=B.Li(b,a);if(Gg(a))a:for(;;)if(Gg(a))a=B.Li(b,a);else{b=a;break a}else b=a;return b}return a}function $B(a){if(Gg(a)){var b=ZB(a);if(q(b))return b;throw Error(["Unable to resolve spec: ",t.Mi(a)].join(""));}return a}function aC(a){return null!=a&&l===a.Se?a:null}function bC(a){var b=jq.Mi(a);return q(b)?a:b}function cC(a,b){return Gg(a)?a:q(bC(a))?Q.Ni(a,mp,b):null!=a&&(a.Si&131072||l===a.je)?xf(a,Q.Ni(yf(a),mp,b)):null}
function dC(a){return Gg(a)?a:q(bC(a))?mp.Mi(a):null!=a&&(a.Si&131072||l===a.je)?mp.Mi(yf(a)):null}function eC(a){var b=function(){var c=Gg(a)?ZB(a):!1;if(q(c))return c;c=aC(a);if(q(c))return c;c=bC(a);return q(c)?c:null}();return q(bC(b))?cC(fC(b,null),dC(b)):b}function gC(a){var b=eC(a);if(q(b))return b;if(Gg(a))throw Error(["Unable to resolve spec: ",t.Mi(a)].join(""));return null}
function hC(a){if(QB(a))return null;a=Lh.Li(fm,OB(a,"$"));if(2<=K(a)&&rh(function(c){return!QB(c)},a)){var b=Lk(vk,of)(a);a=P(b,0,null);b=P(b,1,null);return ze.Mi([LB(".",a),"/",t.Mi(b)].join(""))}return null}
var jC=function(){function a(d,e){var f=iC[pa(null==d?null:d)];if(null!=f)return f.Li?f.Li(d,e):f.call(null,d,e);f=iC._;if(null!=f)return f.Li?f.Li(d,e):f.call(null,d,e);throw Cc("Specize.specize*",d);}function b(d){var e=iC[pa(null==d?null:d)];if(null!=e)return e.Mi?e.Mi(d):e.call(null,d);e=iC._;if(null!=e)return e.Mi?e.Mi(d):e.call(null,d);throw Cc("Specize.specize*",d);}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+
arguments.length);};c.Mi=b;c.Li=a;return c}(),iC=function iC(a){switch(arguments.length){case 1:return iC.Mi(arguments[0]);case 2:return iC.Li(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length)].join(""));}};iC.Mi=function(a){return null!=a&&null!=a.zd?a.zd(a):jC(a)};iC.Li=function(a,b){return null!=a&&null!=a.Ad?a.Ad(a,b):jC(a,b)};iC.$=2;C.prototype.zd=function(){return iC($B(this))};C.prototype.Ad=function(){return iC($B(this))};z.prototype.zd=function(){return iC($B(this))};
z.prototype.Ad=function(){return iC($B(this))};qk.prototype.zd=function(){return kC(this,this,null,null,null)};qk.prototype.Ad=function(a,b){return kC(b,this,null,null,null)};
iC._=function(){function a(c){var d=vf(c)?hC(c.name):!1;return q(d)?kC(d,c,null,null,null):kC(XA,c,null,null,null)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return kC(d,c,null,null,null)}throw Error("Invalid arity: "+arguments.length);};b.Mi=a;b.Li=function(c,d){return kC(d,c,null,null,null)};return b}();
var lC=function lC(a){switch(arguments.length){case 1:return lC.Mi(arguments[0]);case 2:return lC.Li(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length)].join(""));}};lC.Mi=function(a){var b=aC(a);return q(b)?b:iC(a)};lC.Li=function(a,b){var c=aC(a);return q(c)?c:iC(a,b)};lC.$=2;function mC(a,b){a=ZB(a);return q(bC(a))?Q.Ni(a,Sx,b):XB(lC.Mi(a),b)}
function nC(a,b,c){if(null==c)Eh.Ni(YB,R,a);else{var d=aC(c);q(d)||(d=bC(c),d=q(d)?d:B.Li(y(YB),c));b=q(d)?c:kC(b,c,null,null,null);Eh.Vi(YB,Q,a,cC(b,a))}}function oC(a,b,c){if(q(a)){var d=gC(a);if(q(d))return WB(lC.Mi(d),b);if(Nf(a))return q(null)?a.Mi?a.Mi(b):a.call(null,b):q(a.Mi?a.Mi(b):a.call(null,b))?b:rt;throw Error([fl.Pi(M([c]))," is not a fn, expected predicate fn"].join(""));}return b}function pC(a,b){a=lC.Mi(a);return!S(rt,WB(a,b))}
function kC(a,b,c,d,e){if(q(aC(b)))return q(c)?mC(b,c):b;if(q(bC(b)))return fC(b,c);if(Gg(b))return a=gC(b),q(c)?mC(a,c):a;if("undefined"===typeof fc||"undefined"===typeof GB||"undefined"===typeof RB||"undefined"===typeof TB)TB=function(f,h,k,m,n,r){this.form=f;this.pred=h;this.Jd=k;this.zf=m;this.Tg=n;this.Nh=r;this.Si=393216;this.Xi=0},TB.prototype.ea=function(f,h){return new TB(this.form,this.pred,this.Jd,this.zf,this.Tg,h)},TB.prototype.da=function(){return this.Nh},TB.prototype.zd=function(){return this},
TB.prototype.Ad=function(){return this},TB.prototype.Se=l,TB.prototype.pe=function(f,h){f=this.pred.Mi?this.pred.Mi(h):this.pred.call(null,h);return q(this.zf)?f:q(f)?h:rt},TB.prototype.qe=function(f,h){return kC(this.form,this.pred,h,this.zf,this.Tg)},TB.Mb=!0,TB.wb="cljs.spec.alpha/t_cljs$spec$alpha22415",TB.Wb=function(f){return Jd(f,"cljs.spec.alpha/t_cljs$spec$alpha22415")};return new TB(a,b,c,d,e,V)}
function qC(a,b,c){var d=E(b);H(d);J(d);d=E(c);H(d);J(d);for(d=c;;){c=a;b=E(b);a=H(b);b=J(b);var e=E(d);d=H(e);e=J(e);var f=d;d=e;if(q(a)){c=oC(a,c,f);if(S(rt,c))return rt;a=c}else return c}}var rC=new p(null,4,[ew,qf,Xq,sk,vx,Ge,Er,V],null);
function sC(a,b,c,d){function e(wa,xa,Ra,ka){return pf.Li(wa,ka)}var f=null!=c&&(c.Si&64||l===c.va)?gh(hk,c):c,h=B.Li(f,DB),k=B.Li(f,zn),m=B.Ni(f,Aq,20),n=B.Li(f,Tr),r=B.Li(f,no),u=B.Li(f,Sy),w=B.Li(f,Jt),A=B.Li(f,Xv),G=B.Li(f,py),I=B.Li(f,bw),F=B.Li(f,Fu),N=B.Li(f,wB),O=B.Li(f,tr),U=q(O)?sf(O):B.Li(rC,k),ea=new pl(function(){return lC.Mi(b)}),va=function(){return q(A)?A:function(wa){return wa}}();if("undefined"===typeof fc||"undefined"===typeof GB||"undefined"===typeof RB||"undefined"===typeof UB)UB=
function(wa,xa,Ra,ka,oa,Ca,ua,Ba,Ua,ac,yb,ec,Xb,Pd,Zf,zf,Og,Yc,Ad,te,$f,Bd,ue,Cd,bq){this.form=wa;this.Ih=xa;this.bh=Ra;this.Jd=ka;this.zh=oa;this.pred=Ca;this.Te=ua;this.th=Ba;this.Eh=Ua;this.$g=ac;this.hi=yb;this.Ne=ec;this.xh=Xb;this.distinct=Pd;this.spec=Zf;this.Dh=zf;this.yh=Og;this.count=Yc;this.Zh=Ad;this.pc=te;this.kind=$f;this.Hh=Bd;this.sg=ue;this.sh=Cd;this.Oh=bq;this.Si=393216;this.Xi=0},UB.prototype.ea=function(wa,xa){return new UB(this.form,this.Ih,this.bh,this.Jd,this.zh,this.pred,
this.Te,this.th,this.Eh,this.$g,this.hi,this.Ne,this.xh,this.distinct,this.spec,this.Dh,this.yh,this.count,this.Zh,this.pc,this.kind,this.Hh,this.sg,this.sh,xa)},UB.prototype.da=function(){return this.Oh},UB.prototype.zd=function(){return this},UB.prototype.Ad=function(){return this},UB.prototype.Se=l,UB.prototype.pe=function(wa,xa){wa=y(this.spec);if(yc(this.Te.Mi?this.Te.Mi(xa):this.Te.call(null,xa)))return rt;if(q(this.sg)){var Ra=this.Ne.Mi?this.Ne.Mi(xa):this.Ne.call(null,xa),ka=P(Ra,0,null),
oa=P(Ra,1,null);Ra=P(Ra,2,null);var Ca=ka.Mi?ka.Mi(xa):ka.call(null,xa);ka=0;var ua=E(xa);xa=E(ua);H(xa);J(xa);for(xa=Ca;;){var Ba=ua;Ca=E(Ba);ua=H(Ca);Ca=J(Ca);if(Ba){Ba=WB(wa,ua);if(S(rt,Ba))return rt;xa=oa.Vi?oa.Vi(xa,ka,ua,Ba):oa.call(null,xa,ka,ua,Ba);ka+=1;ua=Ca}else return Ra.Mi?Ra.Mi(xa):Ra.call(null,xa)}}else if($e(xa))for(oa=sg(K(xa)/101),oa=1>oa?1:oa,ka=0;;){if(ka>=K(xa))return xa;if(pC(wa,bf(xa,ka)))ka+=oa;else return rt}else for(ka=0,oa=E(xa),Ra=E(oa),H(Ra),J(Ra);;){ua=E(oa);Ra=H(ua);
Ca=J(ua);ua=Ra;Ba=oa;if(null==Ba||D.Li(ka,101))return xa;if(pC(wa,ua))oa=Ca,ka+=1;else return rt}},UB.prototype.qe=function(wa,xa){return sC(this.form,this.pred,this.pc,xa)},UB.Mb=!0,UB.wb="cljs.spec.alpha/t_cljs$spec$alpha23066",UB.Wb=function(wa){return Jd(wa,"cljs.spec.alpha/t_cljs$spec$alpha23066")};return new UB(a,h,function(wa){return pC(y(ea),wa)},d,m,b,n,r,k,e,c,function(wa){return Hf(wa)&&(yc(O)||Hf(O))?new W(null,3,5,Y,[dg,function(xa,Ra,ka,oa){return ka===oa?xa:Q.Ni(xa,Ra,oa)},dg],null):
q(Ff(wa)?function(){var xa=q(F)?yc(O):F;return q(xa)?xa:Ff(O)}():!1)?new W(null,3,5,Y,[q(r)?sf:dg,function(xa,Ra,ka,oa){return ka===oa&&yc(r)?xa:Q.Ni(xa,bf(q(r)?oa:ka,0),bf(oa,1))},dg],null):zg(O)||Lf(O)||yc(O)&&(zg(wa)||Lf(wa))?new W(null,3,5,Y,[sf,e,Bg],null):new W(null,3,5,Y,[function(xa){return sf(q(O)?O:xa)},e,dg],null)},u,w,ea,va,U,G,I,f,F,f,N,O,V)}function tC(a){return new p(null,2,[jq,Ru,Qw,a],null)}function uC(a){a=null!=a&&(a.Si&64||l===a.va)?gh(hk,a):a;a=B.Li(a,jq);return D.Li(Ru,a)}
var vC=function vC(a){var c=null!=a&&(a.Si&64||l===a.va)?gh(hk,a):a,d=B.Li(c,Qn);a=E(d);var e=H(a);a=J(a);var f=B.Li(c,Ym),h=E(f),k=H(h);h=J(h);var m=B.Li(c,zs),n=E(m);H(n);n=J(n);var r=B.Li(c,Qw);c=B.Li(c,lB);return rh(dg,d)?uC(e)?(d=Qw.Mi(e),d=pf.Li(r,q(f)?uf([k,d]):d),a?(a=new p(null,4,[Qn,a,Ym,h,zs,n,Qw,d],null),vC.Mi?vC.Mi(a):vC.call(null,a)):tC(d)):new p(null,6,[jq,st,Qn,d,Qw,r,Ym,f,zs,m,lB,c],null):null};
function wC(a,b,c,d,e){return q(a)?(d=new p(null,5,[jq,Iz,nm,b,Py,d,zs,e,dB,bm()],null),uC(a)?Q.Pi(d,pm,b,M([Qw,pf.Li(c,Qw.Mi(a))])):Q.Pi(d,pm,a,M([Qw,c]))):null}
function xC(a,b,c,d){return q(q(b)?b:c)?(a=Zh(function(e){e=H(e);return d.Mi?d.Mi(e):d.call(null,e)},Lh.Vi(Hi,a,function(){var e=E(b);return e?e:Rh(null)}(),function(){var e=E(c);return e?e:Rh(null)}())),new W(null,3,5,Y,[E(Lh.Li(H,a)),q(b)?E(Lh.Li(mf,a)):null,q(c)?E(Lh.Li(function(e){return bf(e,2)},a)):null],null)):new W(null,3,5,Y,[E(Zh(d,a)),b,c],null)}
function yC(a,b,c){var d=xC(a,b,c,dg);c=P(d,0,null);b=E(c);a=H(b);var e=J(b),f=P(d,1,null);b=P(f,0,null);d=P(d,2,null);return q(c)?(c=new p(null,4,[jq,gn,Qn,c,Ym,f,zs,d],null),null==e?q(b)&&(uC(a)?(a=Qw.Mi(a),a=tC(new X(b,a))):a=c):a=c,a):null}function zC(a,b){return q(q(a)?b:a)?yC(M([a,b]),null,null):q(a)?a:b}
var AC=function AC(a){a=$B(a);var c=null!=a&&(a.Si&64||l===a.va)?gh(hk,a):a,d=B.Li(c,jq),e=B.Li(c,Qn);a=B.Li(c,pm);var f=B.Li(c,nm);c=B.Li(c,zs);if(D.Li(Ru,d))return!0;if(D.Li(null,d))return null;if(D.Li(Zm,d))return d=AC.Mi?AC.Mi(a):AC.call(null,a),q(d)?(a=qC(BC(a),e,J(c)),!S(rt,a)):d;if(D.Li(Iz,d))return(e=a===f)?e:AC.Mi?AC.Mi(a):AC.call(null,a);if(D.Li(st,d))return rh(AC,e);if(D.Li(gn,d))return sh(AC,e);throw Error(["No matching clause: ",t.Mi(d)].join(""));},BC=function BC(a){a=$B(a);var c=null!=
a&&(a.Si&64||l===a.va)?gh(hk,a):a;a=B.Li(c,Qn);var d=E(a),e=H(d);J(d);var f=B.Li(c,Ym),h=P(f,0,null),k=B.Li(c,jq);d=B.Li(c,pm);var m=B.Li(c,Qw);c=B.Li(c,zs);if(D.Li(Ru,k))return m;if(D.Li(null,k))return null;if(D.Li(Zm,k))return e=BC.Mi?BC.Mi(d):BC.call(null,d),(f=D.Li(e,yn))?d=f:(d=jq.Mi($B(d)),f=new qk(null,new p(null,2,[Iz,null,st,null],null),null),d=f.Mi?f.Mi(d):f.call(null,d),d=q(d)?Bf(e):d,d=q(d)?d:null),q(d)?yn:qC(e,a,c);if(D.Li(Iz,k))return CC(d,m,h);if(D.Li(st,k))return CC(e,m,h);if(D.Li(gn,
k))return c=xC(a,f,c,AC),a=P(c,0,null),a=P(a,0,null),c=P(c,1,null),c=P(c,0,null),a=null==a?yn:BC.Mi?BC.Mi(a):BC.call(null,a),q(c)?new X(c,a):a;throw Error(["No matching clause: ",t.Mi(k)].join(""));};
function CC(a,b,c){a=$B(a);var d=null!=a&&(a.Si&64||l===a.va)?gh(hk,a):a,e=B.Li(d,jq);B.Li(d,Qn);a=B.Li(d,Py);if(D.Li(null,e))return b;if(D.Li(gn,e)||D.Li(Ru,e)||D.Li(Zm,e))return a=BC(d),D.Li(a,yn)?b:pf.Li(b,q(c)?uf([c,a]):a);if(D.Li(Iz,e)||D.Li(st,e))return d=BC(d),Bf(d)||(c=q(c)?uf([c,d]):d,a=q(a)?ai:pf,b=a.Li?a.Li(b,c):a.call(null,b,c)),b;throw Error(["No matching clause: ",t.Mi(e)].join(""));}
var DC=function DC(a,b){a=$B(a);var d=null!=a&&(a.Si&64||l===a.va)?gh(hk,a):a,e=B.Li(d,zs),f=B.Li(d,nm);a=B.Li(d,Qn);var h=E(a),k=H(h),m=J(h),n=B.Li(d,Qw);h=B.Li(d,jq);var r=B.Li(d,Py),u=B.Li(d,Ym),w=E(u),A=H(w),G=J(w);w=B.Li(d,Qr);var I=B.Li(d,pm);if(q(d)){if(D.Li(Ru,h))return null;if(D.Li(null,h))return a=oC(d,b,d),S(rt,a)?null:tC(a);if(D.Li(Zm,h))return d=DC.Li?DC.Li(I,b):DC.call(null,I,b),q(d)?D.Li(Ru,jq.Mi(d))?(a=qC(BC(d),a,J(e)),S(rt,a)?null:tC(a)):new p(null,5,[jq,Zm,pm,d,Qr,w,Qn,a,zs,e],null):
null;if(D.Li(st,h))return zC(vC(new p(null,4,[Qn,hf(DC.Li?DC.Li(k,b):DC.call(null,k,b),m),Ym,u,zs,e,Qw,n],null)),q(AC(k))?function(){var F=vC(new p(null,4,[Qn,m,Ym,G,zs,J(e),Qw,CC(k,n,A)],null));return DC.Li?DC.Li(F,b):DC.call(null,F,b)}():null);if(D.Li(gn,h))return yC(Lh.Li(function(F){return DC.Li?DC.Li(F,b):DC.call(null,F,b)},a),u,e);if(D.Li(Iz,h))return zC(wC(DC.Li?DC.Li(I,b):DC.call(null,I,b),f,n,r,e),q(AC(I))?function(){var F=wC(f,f,CC(I,n,null),r,e);return DC.Li?DC.Li(F,b):DC.call(null,F,b)}():
null);throw Error(["No matching clause: ",t.Mi(h)].join(""));}return null};function EC(a,b){for(;;){var c=E(b),d=H(c);c=J(c);if(Bf(b))return q(AC(a))?(a=BC(a),D.Li(a,yn)?null:a):rt;a=DC(a,d);if(q(a))b=c;else return rt}}
var fC=function fC(a,b){if("undefined"===typeof fc||"undefined"===typeof GB||"undefined"===typeof RB||"undefined"===typeof VB)VB=function(d,e,f){this.re=d;this.Jd=e;this.Th=f;this.Si=393216;this.Xi=0},VB.prototype.ea=function(d,e){return new VB(this.re,this.Jd,e)},VB.prototype.da=function(){return this.Th},VB.prototype.zd=function(){return this},VB.prototype.Ad=function(){return this},VB.prototype.Se=l,VB.prototype.pe=function(d,e){return null==e||Ef(e)?EC(this.re,E(e)):rt},VB.prototype.qe=function(d,
e){return fC.Li?fC.Li(this.re,e):fC.call(null,this.re,e)},VB.Mb=!0,VB.wb="cljs.spec.alpha/t_cljs$spec$alpha23903",VB.Wb=function(d){return Jd(d,"cljs.spec.alpha/t_cljs$spec$alpha23903")};return new VB(a,b,V)};
nC(Eu,Cg(tx,Cg(Xm,new W(null,1,5,Y,[xq],null),Cg(ou,Cg(Az,Ns,xq),Cg(Az,Ls,xq))),Cg(Xm,new W(null,1,5,Y,[yw],null),Cg(Az,Cg(jn,new W(null,1,5,Y,[new W(null,2,5,Y,[lq,iq],null)],null),new p(null,2,[Ns,lq,Ls,iq],null)),yw))),kC(Cg(tx,Cg(jn,new W(null,1,5,Y,[bt],null),Cg(ou,Cg(Az,Ns,bt),Cg(Az,Ls,bt))),Cg(jn,new W(null,1,5,Y,[bt],null),Cg(Az,Cg(jn,new W(null,1,5,Y,[new W(null,2,5,Y,[lq,iq],null)],null),new p(null,2,[Ns,lq,Ls,iq],null)),bt))),function(a){return wk(Lh.Li(Ns,a),Lh.Li(Ls,a))},null,!0,function(a){return Lh.Li(function(b){var c=
P(b,0,null);b=P(b,1,null);return new p(null,2,[Ns,c,Ls,b],null)},a)}));var FC={},GC,HC,IC,JC,KC,LC,MC=function MC(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return MC.Pi(c)};MC.Pi=function(a){return Jd(ic,gh(hl,a))};MC.$=0;MC.ca=function(a){return this.Pi(E(a))};var NC=function NC(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return NC.Pi(c)};NC.Pi=function(a){return Jd(ic,gh(fl,a))};NC.$=0;NC.ca=function(a){return this.Pi(E(a))};
function OC(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new De(b.slice(0),0,null):null;gh(NC,b);Jd(ic,"\n")}function PC(a){if("number"===typeof a)return a;if("string"===typeof a&&1===a.length)return a.charCodeAt(0);throw Error("Argument to char must be a character or number");}
function QC(a,b,c){var d=c;for(c=qf;;){if(Bf(d))return new W(null,2,5,Y,[c,b],null);var e=H(d);d=J(d);e=gh(a,new W(null,2,5,Y,[e,b],null));b=P(e,0,null);e=P(e,1,null);c=pf.Li(c,b);b=e}}function RC(a,b){var c=b;for(b=qf;;){var d=gh(a,new W(null,1,5,Y,[c],null));c=P(d,0,null);d=P(d,1,null);if(yc(c))return new W(null,2,5,Y,[b,d],null);b=pf.Li(b,c);c=d}}
function SC(a){return new W(null,2,5,Y,[ai.Li(V,function(){return function d(c){return new Jg(null,function(){for(;;){var e=E(c);if(e){if(If(e)){var f=ae(e),h=K(f),k=Ng(h);a:for(var m=0;;)if(m<h){var n=x(f,m),r=P(n,0,null);n=P(n,1,null);var u=P(n,0,null);P(n,1,null);k.add(new W(null,2,5,Y,[r,u],null));m+=1}else{f=!0;break a}return f?Qg(Sg(k),d(be(e))):Qg(Sg(k),null)}f=H(e);k=P(f,0,null);f=P(f,1,null);h=P(f,0,null);P(f,1,null);return hf(new W(null,2,5,Y,[k,h],null),d(Fe(e)))}return null}},null,null)}(a)}()),
ai.Li(V,function(){return function d(c){return new Jg(null,function(){for(;;){var e=E(c);if(e){if(If(e)){var f=ae(e),h=K(f),k=Ng(h);a:for(var m=0;;)if(m<h){var n=x(f,m),r=P(n,0,null);n=P(n,1,null);P(n,0,null);n=P(n,1,null);k.add(new W(null,2,5,Y,[r,n],null));m+=1}else{f=!0;break a}return f?Qg(Sg(k),d(be(e))):Qg(Sg(k),null)}f=H(e);k=P(f,0,null);f=P(f,1,null);P(f,0,null);f=P(f,1,null);return hf(new W(null,2,5,Y,[k,f],null),d(Fe(e)))}return null}},null,null)}(a)}())],null)}
function TC(a,b){return ai.Li(V,function(){return function e(d){return new Jg(null,function(){for(;;){var f=E(d);if(f){if(If(f)){var h=ae(f),k=K(h),m=Ng(k);a:for(var n=0;;)if(n<k){var r=x(h,n),u=P(r,0,null);r=P(r,1,null);m.add(new W(null,2,5,Y,[u,new W(null,2,5,Y,[r,b],null)],null));n+=1}else{h=!0;break a}return h?Qg(Sg(m),e(be(f))):Qg(Sg(m),null)}h=H(f);m=P(h,0,null);h=P(h,1,null);return hf(new W(null,2,5,Y,[m,new W(null,2,5,Y,[h,b],null)],null),e(Fe(f)))}return null}},null,null)}(a)}())}
function UC(){var a=ic;if(null!=a&&null!=a.yf)a.yf(a);else{var b=UC[pa(null==a?null:a)];if(null!=b)b.Mi?b.Mi(a):b.call(null,a);else if(b=UC._,null!=b)b.Mi?b.Mi(a):b.call(null,a);else throw Cc("IPrettyFlush.-ppflush",a);}}function VC(a,b){a=y(y(a));return b.Mi?b.Mi(a):b.call(null,a)}function WC(a,b,c){Eh.Vi(y(a),Q,b,c)}function XC(a,b){D.Li(b,"\n")?(WC(a,Bs,0),WC(a,zm,VC(a,zm)+1)):WC(a,Bs,VC(a,Bs)+1);return Jd(VC(a,tp),b)}
function YC(a,b){var c=Ch(new p(null,4,[hy,b,Bs,0,zm,0,tp,a],null));if("undefined"===typeof fc||"undefined"===typeof FC||"undefined"===typeof GC)GC=function(d,e,f,h){this.Xa=d;this.Hf=e;this.fields=f;this.Kh=h;this.Si=1074167808;this.Xi=0},GC.prototype.ea=function(d,e){return new GC(this.Xa,this.Hf,this.fields,e)},GC.prototype.da=function(){return this.Kh},GC.prototype.ub=function(){return this.fields},GC.prototype.Tc=function(){return Kd(this.Xa)},GC.prototype.xd=function(d,e){d=Bc(e);if(q(D.Li?
D.Li(String,d):D.call(null,String,d)))return d=e.lastIndexOf("\n"),0>d?WC(this,Bs,VC(this,Bs)+K(e)):(WC(this,Bs,K(e)-d-1),WC(this,zm,VC(this,zm)+K(Zh(function(f){return D.Li(f,"\n")},e)))),Jd(VC(this,tp),e);if(q(D.Li?D.Li(Number,d):D.call(null,Number,d)))return XC(this,e);throw Error(["No matching clause: ",t.Mi(d)].join(""));},GC.Mb=!0,GC.wb="cljs.pprint/t_cljs$pprint21079",GC.Wb=function(d){return Jd(d,"cljs.pprint/t_cljs$pprint21079")};return new GC(a,b,c,V)}
function ZC(a,b,c,d,e,f,h,k,m,n,r,u,w){this.parent=a;this.Sb=b;this.yb=c;this.indent=d;this.Nb=e;this.Ob=f;this.prefix=h;this.Rb=k;this.suffix=m;this.Pb=n;this.Qi=r;this.Oi=u;this.Ri=w;this.Si=2230716170;this.Xi=139264}g=ZC.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};
g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "parent":return this.parent;case "section":return this.Sb;case "start-col":return this.yb;case "indent":return this.indent;case "done-nl":return this.Nb;case "intra-block-nl":return this.Ob;case "prefix":return this.prefix;case "per-line-prefix":return this.Rb;case "suffix":return this.suffix;case "logical-block-callback":return this.Pb;default:return B.Ni(this.Oi,b,c)}};
g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#cljs.pprint.logical-block{",", ","}",c,T.Li(new W(null,10,5,Y,[new W(null,2,5,Y,[xr,this.parent],null),new W(null,2,5,Y,[wz,this.Sb],null),new W(null,2,5,Y,[sr,this.yb],null),new W(null,2,5,Y,[oB,this.indent],null),new W(null,2,5,Y,[dn,this.Nb],null),new W(null,2,5,Y,[yq,this.Ob],null),new W(null,2,5,Y,[Bp,this.prefix],null),new W(null,2,5,Y,[Im,this.Rb],null),new W(null,2,5,Y,[Lz,this.suffix],null),new W(null,2,5,Y,[BA,this.Pb],
null)],null),this.Oi))};g.na=function(){return new Xi(this,10,new W(null,10,5,Y,[xr,wz,sr,oB,dn,yq,Bp,Im,Lz,BA],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 10+K(this.Oi)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=1977012399^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.parent,b.parent)&&D.Li(this.Sb,b.Sb)&&D.Li(this.yb,b.yb)&&D.Li(this.indent,b.indent)&&D.Li(this.Nb,b.Nb)&&D.Li(this.Ob,b.Ob)&&D.Li(this.prefix,b.prefix)&&D.Li(this.Rb,b.Rb)&&D.Li(this.suffix,b.suffix)&&D.Li(this.Pb,b.Pb)&&D.Li(this.Oi,b.Oi)};
g.wa=function(a,b){return Pf(new qk(null,new p(null,10,[Lz,null,oB,null,xr,null,wz,null,dn,null,sr,null,Bp,null,Im,null,BA,null,yq,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new ZC(this.parent,this.Sb,this.yb,this.indent,this.Nb,this.Ob,this.prefix,this.Rb,this.suffix,this.Pb,this.Qi,mh(R.Li(this.Oi,b)),null)};
g.ba=function(a,b,c){return q(S.Li?S.Li(xr,b):S.call(null,xr,b))?new ZC(c,this.Sb,this.yb,this.indent,this.Nb,this.Ob,this.prefix,this.Rb,this.suffix,this.Pb,this.Qi,this.Oi,null):q(S.Li?S.Li(wz,b):S.call(null,wz,b))?new ZC(this.parent,c,this.yb,this.indent,this.Nb,this.Ob,this.prefix,this.Rb,this.suffix,this.Pb,this.Qi,this.Oi,null):q(S.Li?S.Li(sr,b):S.call(null,sr,b))?new ZC(this.parent,this.Sb,c,this.indent,this.Nb,this.Ob,this.prefix,this.Rb,this.suffix,this.Pb,this.Qi,this.Oi,null):q(S.Li?S.Li(oB,
b):S.call(null,oB,b))?new ZC(this.parent,this.Sb,this.yb,c,this.Nb,this.Ob,this.prefix,this.Rb,this.suffix,this.Pb,this.Qi,this.Oi,null):q(S.Li?S.Li(dn,b):S.call(null,dn,b))?new ZC(this.parent,this.Sb,this.yb,this.indent,c,this.Ob,this.prefix,this.Rb,this.suffix,this.Pb,this.Qi,this.Oi,null):q(S.Li?S.Li(yq,b):S.call(null,yq,b))?new ZC(this.parent,this.Sb,this.yb,this.indent,this.Nb,c,this.prefix,this.Rb,this.suffix,this.Pb,this.Qi,this.Oi,null):q(S.Li?S.Li(Bp,b):S.call(null,Bp,b))?new ZC(this.parent,
this.Sb,this.yb,this.indent,this.Nb,this.Ob,c,this.Rb,this.suffix,this.Pb,this.Qi,this.Oi,null):q(S.Li?S.Li(Im,b):S.call(null,Im,b))?new ZC(this.parent,this.Sb,this.yb,this.indent,this.Nb,this.Ob,this.prefix,c,this.suffix,this.Pb,this.Qi,this.Oi,null):q(S.Li?S.Li(Lz,b):S.call(null,Lz,b))?new ZC(this.parent,this.Sb,this.yb,this.indent,this.Nb,this.Ob,this.prefix,this.Rb,c,this.Pb,this.Qi,this.Oi,null):q(S.Li?S.Li(BA,b):S.call(null,BA,b))?new ZC(this.parent,this.Sb,this.yb,this.indent,this.Nb,this.Ob,
this.prefix,this.Rb,this.suffix,c,this.Qi,this.Oi,null):new ZC(this.parent,this.Sb,this.yb,this.indent,this.Nb,this.Ob,this.prefix,this.Rb,this.suffix,this.Pb,this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(new W(null,10,5,Y,[new X(xr,this.parent),new X(wz,this.Sb),new X(sr,this.yb),new X(oB,this.indent),new X(dn,this.Nb),new X(yq,this.Ob),new X(Bp,this.prefix),new X(Im,this.Rb),new X(Lz,this.suffix),new X(BA,this.Pb)],null),this.Oi))};
g.ea=function(a,b){return new ZC(this.parent,this.Sb,this.yb,this.indent,this.Nb,this.Ob,this.prefix,this.Rb,this.suffix,this.Pb,b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};function $C(a,b){for(b=xr.Mi(b);;){if(null==b)return!1;if(a===b)return!0;b=xr.Mi(b)}}function aD(a,b,c,d,e,f,h,k){this.ta=a;this.data=b;this.Cc=c;this.sa=d;this.ra=e;this.Qi=f;this.Oi=h;this.Ri=k;this.Si=2230716170;this.Xi=139264}g=aD.prototype;
g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "type-tag":return this.ta;case "data":return this.data;case "trailing-white-space":return this.Cc;case "start-pos":return this.sa;case "end-pos":return this.ra;default:return B.Ni(this.Oi,b,c)}};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#cljs.pprint.buffer-blob{",", ","}",c,T.Li(new W(null,5,5,Y,[new W(null,2,5,Y,[sm,this.ta],null),new W(null,2,5,Y,[Rm,this.data],null),new W(null,2,5,Y,[yp,this.Cc],null),new W(null,2,5,Y,[Gp,this.sa],null),new W(null,2,5,Y,[vu,this.ra],null)],null),this.Oi))};g.na=function(){return new Xi(this,5,new W(null,5,5,Y,[sm,Rm,yp,Gp,vu],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 5+K(this.Oi)};
g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=1809113693^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.ta,b.ta)&&D.Li(this.data,b.data)&&D.Li(this.Cc,b.Cc)&&D.Li(this.sa,b.sa)&&D.Li(this.ra,b.ra)&&D.Li(this.Oi,b.Oi)};g.wa=function(a,b){return Pf(new qk(null,new p(null,5,[vu,null,yp,null,sm,null,Gp,null,Rm,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new aD(this.ta,this.data,this.Cc,this.sa,this.ra,this.Qi,mh(R.Li(this.Oi,b)),null)};
g.ba=function(a,b,c){return q(S.Li?S.Li(sm,b):S.call(null,sm,b))?new aD(c,this.data,this.Cc,this.sa,this.ra,this.Qi,this.Oi,null):q(S.Li?S.Li(Rm,b):S.call(null,Rm,b))?new aD(this.ta,c,this.Cc,this.sa,this.ra,this.Qi,this.Oi,null):q(S.Li?S.Li(yp,b):S.call(null,yp,b))?new aD(this.ta,this.data,c,this.sa,this.ra,this.Qi,this.Oi,null):q(S.Li?S.Li(Gp,b):S.call(null,Gp,b))?new aD(this.ta,this.data,this.Cc,c,this.ra,this.Qi,this.Oi,null):q(S.Li?S.Li(vu,b):S.call(null,vu,b))?new aD(this.ta,this.data,this.Cc,
this.sa,c,this.Qi,this.Oi,null):new aD(this.ta,this.data,this.Cc,this.sa,this.ra,this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(new W(null,5,5,Y,[new X(sm,this.ta),new X(Rm,this.data),new X(yp,this.Cc),new X(Gp,this.sa),new X(vu,this.ra)],null),this.Oi))};g.ea=function(a,b){return new aD(this.ta,this.data,this.Cc,this.sa,this.ra,b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};
function bD(a,b,c,d,e,f,h,k){this.ta=a;this.type=b;this.za=c;this.sa=d;this.ra=e;this.Qi=f;this.Oi=h;this.Ri=k;this.Si=2230716170;this.Xi=139264}g=bD.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "type-tag":return this.ta;case "type":return this.type;case "logical-block":return this.za;case "start-pos":return this.sa;case "end-pos":return this.ra;default:return B.Ni(this.Oi,b,c)}};
g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#cljs.pprint.nl-t{",", ","}",c,T.Li(new W(null,5,5,Y,[new W(null,2,5,Y,[sm,this.ta],null),new W(null,2,5,Y,[aq,this.type],null),new W(null,2,5,Y,[fr,this.za],null),new W(null,2,5,Y,[Gp,this.sa],null),new W(null,2,5,Y,[vu,this.ra],null)],null),this.Oi))};
g.na=function(){return new Xi(this,5,new W(null,5,5,Y,[sm,aq,fr,Gp,vu],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 5+K(this.Oi)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=-1640656800^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.ta,b.ta)&&D.Li(this.type,b.type)&&D.Li(this.za,b.za)&&D.Li(this.sa,b.sa)&&D.Li(this.ra,b.ra)&&D.Li(this.Oi,b.Oi)};
g.wa=function(a,b){return Pf(new qk(null,new p(null,5,[vu,null,aq,null,fr,null,sm,null,Gp,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new bD(this.ta,this.type,this.za,this.sa,this.ra,this.Qi,mh(R.Li(this.Oi,b)),null)};
g.ba=function(a,b,c){return q(S.Li?S.Li(sm,b):S.call(null,sm,b))?new bD(c,this.type,this.za,this.sa,this.ra,this.Qi,this.Oi,null):q(S.Li?S.Li(aq,b):S.call(null,aq,b))?new bD(this.ta,c,this.za,this.sa,this.ra,this.Qi,this.Oi,null):q(S.Li?S.Li(fr,b):S.call(null,fr,b))?new bD(this.ta,this.type,c,this.sa,this.ra,this.Qi,this.Oi,null):q(S.Li?S.Li(Gp,b):S.call(null,Gp,b))?new bD(this.ta,this.type,this.za,c,this.ra,this.Qi,this.Oi,null):q(S.Li?S.Li(vu,b):S.call(null,vu,b))?new bD(this.ta,this.type,this.za,
this.sa,c,this.Qi,this.Oi,null):new bD(this.ta,this.type,this.za,this.sa,this.ra,this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(new W(null,5,5,Y,[new X(sm,this.ta),new X(aq,this.type),new X(fr,this.za),new X(Gp,this.sa),new X(vu,this.ra)],null),this.Oi))};g.ea=function(a,b){return new bD(this.ta,this.type,this.za,this.sa,this.ra,b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};
function cD(a,b,c,d,e,f,h){this.ta=a;this.za=b;this.sa=c;this.ra=d;this.Qi=e;this.Oi=f;this.Ri=h;this.Si=2230716170;this.Xi=139264}g=cD.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "type-tag":return this.ta;case "logical-block":return this.za;case "start-pos":return this.sa;case "end-pos":return this.ra;default:return B.Ni(this.Oi,b,c)}};
g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#cljs.pprint.start-block-t{",", ","}",c,T.Li(new W(null,4,5,Y,[new W(null,2,5,Y,[sm,this.ta],null),new W(null,2,5,Y,[fr,this.za],null),new W(null,2,5,Y,[Gp,this.sa],null),new W(null,2,5,Y,[vu,this.ra],null)],null),this.Oi))};
g.na=function(){return new Xi(this,4,new W(null,4,5,Y,[sm,fr,Gp,vu],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 4+K(this.Oi)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=-414877272^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.ta,b.ta)&&D.Li(this.za,b.za)&&D.Li(this.sa,b.sa)&&D.Li(this.ra,b.ra)&&D.Li(this.Oi,b.Oi)};
g.wa=function(a,b){return Pf(new qk(null,new p(null,4,[vu,null,fr,null,sm,null,Gp,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new cD(this.ta,this.za,this.sa,this.ra,this.Qi,mh(R.Li(this.Oi,b)),null)};
g.ba=function(a,b,c){return q(S.Li?S.Li(sm,b):S.call(null,sm,b))?new cD(c,this.za,this.sa,this.ra,this.Qi,this.Oi,null):q(S.Li?S.Li(fr,b):S.call(null,fr,b))?new cD(this.ta,c,this.sa,this.ra,this.Qi,this.Oi,null):q(S.Li?S.Li(Gp,b):S.call(null,Gp,b))?new cD(this.ta,this.za,c,this.ra,this.Qi,this.Oi,null):q(S.Li?S.Li(vu,b):S.call(null,vu,b))?new cD(this.ta,this.za,this.sa,c,this.Qi,this.Oi,null):new cD(this.ta,this.za,this.sa,this.ra,this.Qi,Q.Ni(this.Oi,b,c),null)};
g.ga=function(){return E(T.Li(new W(null,4,5,Y,[new X(sm,this.ta),new X(fr,this.za),new X(Gp,this.sa),new X(vu,this.ra)],null),this.Oi))};g.ea=function(a,b){return new cD(this.ta,this.za,this.sa,this.ra,b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};function dD(a,b,c,d,e,f,h){this.ta=a;this.za=b;this.sa=c;this.ra=d;this.Qi=e;this.Oi=f;this.Ri=h;this.Si=2230716170;this.Xi=139264}g=dD.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};
g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "type-tag":return this.ta;case "logical-block":return this.za;case "start-pos":return this.sa;case "end-pos":return this.ra;default:return B.Ni(this.Oi,b,c)}};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#cljs.pprint.end-block-t{",", ","}",c,T.Li(new W(null,4,5,Y,[new W(null,2,5,Y,[sm,this.ta],null),new W(null,2,5,Y,[fr,this.za],null),new W(null,2,5,Y,[Gp,this.sa],null),new W(null,2,5,Y,[vu,this.ra],null)],null),this.Oi))};g.na=function(){return new Xi(this,4,new W(null,4,5,Y,[sm,fr,Gp,vu],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 4+K(this.Oi)};
g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=1365867980^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.ta,b.ta)&&D.Li(this.za,b.za)&&D.Li(this.sa,b.sa)&&D.Li(this.ra,b.ra)&&D.Li(this.Oi,b.Oi)};g.wa=function(a,b){return Pf(new qk(null,new p(null,4,[vu,null,fr,null,sm,null,Gp,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new dD(this.ta,this.za,this.sa,this.ra,this.Qi,mh(R.Li(this.Oi,b)),null)};
g.ba=function(a,b,c){return q(S.Li?S.Li(sm,b):S.call(null,sm,b))?new dD(c,this.za,this.sa,this.ra,this.Qi,this.Oi,null):q(S.Li?S.Li(fr,b):S.call(null,fr,b))?new dD(this.ta,c,this.sa,this.ra,this.Qi,this.Oi,null):q(S.Li?S.Li(Gp,b):S.call(null,Gp,b))?new dD(this.ta,this.za,c,this.ra,this.Qi,this.Oi,null):q(S.Li?S.Li(vu,b):S.call(null,vu,b))?new dD(this.ta,this.za,this.sa,c,this.Qi,this.Oi,null):new dD(this.ta,this.za,this.sa,this.ra,this.Qi,Q.Ni(this.Oi,b,c),null)};
g.ga=function(){return E(T.Li(new W(null,4,5,Y,[new X(sm,this.ta),new X(fr,this.za),new X(Gp,this.sa),new X(vu,this.ra)],null),this.Oi))};g.ea=function(a,b){return new dD(this.ta,this.za,this.sa,this.ra,b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};function eD(a,b,c,d,e,f,h,k,m){this.ta=a;this.za=b;this.qc=c;this.offset=d;this.sa=e;this.ra=f;this.Qi=h;this.Oi=k;this.Ri=m;this.Si=2230716170;this.Xi=139264}g=eD.prototype;
g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "type-tag":return this.ta;case "logical-block":return this.za;case "relative-to":return this.qc;case "offset":return this.offset;case "start-pos":return this.sa;case "end-pos":return this.ra;default:return B.Ni(this.Oi,b,c)}};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#cljs.pprint.indent-t{",", ","}",c,T.Li(new W(null,6,5,Y,[new W(null,2,5,Y,[sm,this.ta],null),new W(null,2,5,Y,[fr,this.za],null),new W(null,2,5,Y,[px,this.qc],null),new W(null,2,5,Y,[gu,this.offset],null),new W(null,2,5,Y,[Gp,this.sa],null),new W(null,2,5,Y,[vu,this.ra],null)],null),this.Oi))};g.na=function(){return new Xi(this,6,new W(null,6,5,Y,[sm,fr,px,gu,Gp,vu],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};
g.ha=function(){return 6+K(this.Oi)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=-1602780238^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.ta,b.ta)&&D.Li(this.za,b.za)&&D.Li(this.qc,b.qc)&&D.Li(this.offset,b.offset)&&D.Li(this.sa,b.sa)&&D.Li(this.ra,b.ra)&&D.Li(this.Oi,b.Oi)};
g.wa=function(a,b){return Pf(new qk(null,new p(null,6,[gu,null,vu,null,px,null,fr,null,sm,null,Gp,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new eD(this.ta,this.za,this.qc,this.offset,this.sa,this.ra,this.Qi,mh(R.Li(this.Oi,b)),null)};
g.ba=function(a,b,c){return q(S.Li?S.Li(sm,b):S.call(null,sm,b))?new eD(c,this.za,this.qc,this.offset,this.sa,this.ra,this.Qi,this.Oi,null):q(S.Li?S.Li(fr,b):S.call(null,fr,b))?new eD(this.ta,c,this.qc,this.offset,this.sa,this.ra,this.Qi,this.Oi,null):q(S.Li?S.Li(px,b):S.call(null,px,b))?new eD(this.ta,this.za,c,this.offset,this.sa,this.ra,this.Qi,this.Oi,null):q(S.Li?S.Li(gu,b):S.call(null,gu,b))?new eD(this.ta,this.za,this.qc,c,this.sa,this.ra,this.Qi,this.Oi,null):q(S.Li?S.Li(Gp,b):S.call(null,
Gp,b))?new eD(this.ta,this.za,this.qc,this.offset,c,this.ra,this.Qi,this.Oi,null):q(S.Li?S.Li(vu,b):S.call(null,vu,b))?new eD(this.ta,this.za,this.qc,this.offset,this.sa,c,this.Qi,this.Oi,null):new eD(this.ta,this.za,this.qc,this.offset,this.sa,this.ra,this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(new W(null,6,5,Y,[new X(sm,this.ta),new X(fr,this.za),new X(px,this.qc),new X(gu,this.offset),new X(Gp,this.sa),new X(vu,this.ra)],null),this.Oi))};
g.ea=function(a,b){return new eD(this.ta,this.za,this.qc,this.offset,this.sa,this.ra,b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};var fD=function(){var a=Ch(V),b=Ch(V),c=Ch(V),d=Ch(V),e=B.Ni(V,hw,Kl.Ui?Kl.Ui():Kl.call(null));return new Wl(ze.Li(ba,"write-token"),function(f,h){return sm.Mi(h)},e,a,b,c,d)}();
fD.ib(null,Gm,function(a,b){var c=BA.Mi(y(y(a)));q(c)&&(c.Mi?c.Mi(qn):c.call(null,qn));b=fr.Mi(b);c=Bp.Mi(b);q(c)&&Jd(tp.Mi(y(y(a))),c);a=VC(tp.Mi(y(y(a))),Bs);Dh(sr.Mi(b),a);return Dh(oB.Mi(b),a)});fD.ib(null,AB,function(a,b){var c=BA.Mi(y(y(a)));q(c)&&(c.Mi?c.Mi(Yw):c.call(null,Yw));b=Lz.Mi(fr.Mi(b));return q(b)?Jd(tp.Mi(y(y(a))),b):null});
fD.ib(null,Gw,function(a,b){var c=fr.Mi(b),d=oB.Mi(c),e=gu.Mi(b);b=px.Mi(b);if(q(D.Li?D.Li(St,b):D.call(null,St,b)))a=y(sr.Mi(c));else if(q(D.Li?D.Li(pr,b):D.call(null,pr,b)))a=VC(tp.Mi(y(y(a))),Bs);else throw Error(["No matching clause: ",t.Mi(b)].join(""));return Dh(d,e+a)});fD.ib(null,dx,function(a,b){return Jd(tp.Mi(y(y(a))),Rm.Mi(b))});
fD.ib(null,Ex,function(a,b){var c=(c=D.Li(aq.Mi(b),Hn))?c:D.Li(aq.Mi(b),yt)?!1:y(dn.Mi(fr.Mi(b)));q(c)?gD.Li?gD.Li(a,b):gD.call(null,a,b):(b=yp.Mi(y(y(a))),q(b)&&Jd(tp.Mi(y(y(a))),b));return Eh.Vi(y(a),Q,yp,null)});
function hD(a,b,c){b=E(b);for(var d=null,e=0,f=0;;)if(f<e){var h=d.xa(null,f);if(!D.Li(sm.Mi(h),Ex)){var k=yp.Mi(y(y(a)));q(k)&&Jd(tp.Mi(y(y(a))),k)}fD.Li(a,h);Eh.Vi(y(a),Q,yp,yp.Mi(h));h=yp.Mi(y(y(a)));q(q(c)?h:c)&&(Jd(tp.Mi(y(y(a))),h),Eh.Vi(y(a),Q,yp,null));f+=1}else if(b=E(b))If(b)?(d=ae(b),b=be(b),h=d,e=K(d),d=h):(h=H(b),D.Li(sm.Mi(h),Ex)||(d=yp.Mi(y(y(a))),q(d)&&Jd(tp.Mi(y(y(a))),d)),fD.Li(a,h),Eh.Vi(y(a),Q,yp,yp.Mi(h)),h=yp.Mi(y(y(a))),q(q(c)?h:c)&&(Jd(tp.Mi(y(y(a))),h),Eh.Vi(y(a),Q,yp,null)),
b=J(b),d=null,e=0),f=0;else break}function iD(a,b){var c=VC(tp.Mi(y(y(a))),hy),d;(d=null==c)||(a=VC(tp.Mi(y(y(a))),Bs),b=(b=E(b))?vu.Mi(of(b))-Gp.Mi(H(b)):0,d=a+b<c);return d}function jD(a,b,c){b=y(dn.Mi(b));return q(b)?b:!iD(a,c)}function kD(a,b,c){var d=vy.Mi(y(y(a))),e=VC(tp.Mi(y(y(a))),hy);return q(d)?q(e)?y(sr.Mi(b))>=e-d?jD(a,b,c):!1:e:d}
var lD=function(){var a=Ch(V),b=Ch(V),c=Ch(V),d=Ch(V),e=B.Ni(V,hw,Kl.Ui?Kl.Ui():Kl.call(null));return new Wl(ze.Li(ba,"emit-nl?"),function(f){return aq.Mi(f)},e,a,b,c,d)}();lD.ib(null,$u,function(a,b,c){a=fr.Mi(a);return jD(b,a,c)});lD.ib(null,mz,function(a,b,c){a=fr.Mi(a);return kD(b,a,c)});lD.ib(null,yt,function(a,b,c,d){a=fr.Mi(a);var e=y(yq.Mi(a));return q(e)?e:(d=!iD(b,d))?d:kD(b,a,c)});lD.ib(null,Hn,function(){return!0});
function mD(a){var b=H(a),c=fr.Mi(b);b=E(Bk(function(d){return!(D.Li(sm.Mi(d),Ex)&&$C(fr.Mi(d),c))},J(a)));return new W(null,2,5,Y,[b,E(Nh(K(b)+1,a))],null)}function nD(a){var b=H(a),c=fr.Mi(b);return E(Bk(function(d){var e=fr.Mi(d);return!(D.Li(sm.Mi(d),Ex)&&(D.Li(e,c)||$C(e,c)))},J(a)))}
function gD(a,b){Jd(tp.Mi(y(y(a))),"\n");Eh.Vi(y(a),Q,yp,null);b=fr.Mi(b);var c=Im.Mi(b);q(c)&&Jd(tp.Mi(y(y(a))),c);c=gh(t,Sh(y(oB.Mi(b))-K(c)," "));Jd(tp.Mi(y(y(a))),c);a:for(Dh(yq.Mi(b),!0),Dh(dn.Mi(b),!0),a=xr.Mi(b);;)if(q(a))Dh(dn.Mi(a),!0),Dh(yq.Mi(a),!0),a=xr.Mi(a);else break a;return null}function oD(a){var b=E(Bk(function(c){return!D.Li(sm.Mi(c),Ex)},a));return new W(null,2,5,Y,[b,E(Nh(K(b),a))],null)}
var pD=function pD(a,b){var d=oD(b);b=P(d,0,null);var e=P(d,1,null);q(b)&&hD(a,b,!1);if(q(e)){d=mD(e);b=P(d,0,null);d=P(d,1,null);var f=H(e),h=lD.Vi(f,a,b,nD(e));q(h)&&(gD(a,f),e=J(e));iD(a,e)?a=e:(e=pD.Li?pD.Li(a,b):pD.call(null,a,b),D.Li(e,b)?(hD(a,b,!1),a=d):a=ai.Li(qf,T.Li(e,d)));return a}return null};function qD(a){for(var b=Tz.Mi(y(y(a)));;){Eh.Vi(y(a),Q,Tz,ai.Li(qf,b));if(iD(a,b))return null;var c=pD(a,b);if(b!==c)b=c;else return null}}
function rD(a,b){Eh.Vi(y(a),Q,Tz,pf.Li(Tz.Mi(y(y(a))),b));return iD(a,Tz.Mi(y(y(a))))?null:qD(a)}function sD(a){var b=yp.Mi(y(y(a)));return q(b)?(Jd(tp.Mi(y(y(a))),b),Eh.Vi(y(a),Q,yp,null)):null}
function tD(a,b){var c=PB(b,"\n",-1);if(D.Li(K(c),1))return b;b=Im.Mi(H(Yq.Mi(y(y(a)))));var d=H(c);if(D.Li(Bo,ey.Mi(y(y(a))))){var e=Ks.Mi(y(y(a))),f=e+K(d);Eh.Vi(y(a),Q,Ks,f);rD(a,new aD(dx,d,null,e,f,null,null,null));qD(a);d=Tz.Mi(y(y(a)));q(d)&&(hD(a,d,!0),Eh.Vi(y(a),Q,Tz,qf))}else sD(a),Jd(tp.Mi(y(y(a))),d);Jd(tp.Mi(y(y(a))),"\n");d=E(J(vk(c)));e=null;for(var h=f=0;;)if(h<f){var k=e.xa(null,h);Jd(tp.Mi(y(y(a))),k);Jd(tp.Mi(y(y(a))),"\n");q(b)&&Jd(tp.Mi(y(y(a))),b);h+=1}else if(d=E(d))e=d,If(e)?
(d=ae(e),h=be(e),e=d,f=K(d),d=h):(d=H(e),Jd(tp.Mi(y(y(a))),d),Jd(tp.Mi(y(y(a))),"\n"),q(b)&&Jd(tp.Mi(y(y(a))),b),d=J(e),e=null,f=0),h=0;else break;Eh.Vi(y(a),Q,Bo,qr);return of(c)}
function uD(a){var b=vD,c=wD,d=new ZC(null,null,Ch(0),Ch(0),Ch(!1),Ch(!1),null,null,null,null,null,null,null),e=Ch(Oj([Yq,vy,ss,dt,fv,ey,Ks,yp,tp,lt,Tz],[d,c,d,!0,null,qr,0,null,YC(a,b),1,qf]));if("undefined"===typeof fc||"undefined"===typeof FC||"undefined"===typeof HC)HC=function(f,h,k,m,n,r){this.Xa=f;this.Hf=h;this.$h=k;this.Fh=m;this.fields=n;this.Lh=r;this.Si=1074167808;this.Xi=0},HC.prototype.ea=function(f,h){return new HC(this.Xa,this.Hf,this.$h,this.Fh,this.fields,h)},HC.prototype.da=function(){return this.Lh},
HC.prototype.ub=function(){return this.fields},HC.prototype.xd=function(f,h){f=Bc(h);if(q(D.Li?D.Li(String,f):D.call(null,String,f))){var k=tD(this,h);h=k.replace(/\s+$/,"");f=yg.Li(k,h.length);var m=ey.Mi(y(y(this)));if(D.Li(m,qr))return sD(this),Jd(tp.Mi(y(y(this))),h),Eh.Vi(y(this),Q,yp,f);m=Ks.Mi(y(y(this)));k=m+K(k);Eh.Vi(y(this),Q,Ks,k);return rD(this,new aD(dx,h,f,m,k,null,null,null))}if(q(D.Li?D.Li(Number,f):D.call(null,Number,f)))return D.Li(ey.Mi(y(y(this))),qr)?(sD(this),h=Jd(tp.Mi(y(y(this))),
h)):D.Li(h,"\n")?h=tD(this,"\n"):(f=Ks.Mi(y(y(this))),k=f+1,Eh.Vi(y(this),Q,Ks,k),h=rg(h),h=rD(this,new aD(dx,h,null,f,k,null,null,null))),h;throw Error(["No matching clause: ",t.Mi(f)].join(""));},HC.prototype.Tc=function(){this.yf(null);return Kd(tp.Mi(y(y(this))))},HC.prototype.yf=function(){return D.Li(ey.Mi(y(y(this))),Bo)?(hD(this,Tz.Mi(y(y(this))),!0),Eh.Vi(y(this),Q,Tz,qf)):sD(this)},HC.Mb=!0,HC.wb="cljs.pprint/t_cljs$pprint21946",HC.Wb=function(f){return Jd(f,"cljs.pprint/t_cljs$pprint21946")};
return new HC(a,b,c,d,e,V)}function xD(a,b){var c=ic;b=new ZC(Yq.Mi(y(y(c))),null,Ch(0),Ch(0),Ch(!1),Ch(!1),a,null,b,null,null,null,null);Eh.Vi(y(c),Q,Yq,b);if(D.Li(ey.Mi(y(y(c))),qr)){sD(c);var d=BA.Mi(y(y(c)));q(d)&&(d.Mi?d.Mi(qn):d.call(null,qn));q(a)&&Jd(tp.Mi(y(y(c))),a);c=VC(tp.Mi(y(y(c))),Bs);Dh(b.yb,c);Dh(b.indent,c)}else d=Ks.Mi(y(y(c))),a=d+(q(a)?K(a):0),Eh.Vi(y(c),Q,Ks,a),rD(c,new cD(Gm,b,d,a,null,null,null))}
function yD(){var a=ic,b=Yq.Mi(y(y(a))),c=Lz.Mi(b);if(D.Li(ey.Mi(y(y(a))),qr)){sD(a);q(c)&&Jd(tp.Mi(y(y(a))),c);var d=BA.Mi(y(y(a)));q(d)&&(d.Mi?d.Mi(Yw):d.call(null,Yw))}else d=Ks.Mi(y(y(a))),c=d+(q(c)?K(c):0),Eh.Vi(y(a),Q,Ks,c),rD(a,new dD(AB,b,d,c,null,null,null));Eh.Vi(y(a),Q,Yq,xr.Mi(b))}var zD=!0,AD=null,vD=72,wD=40,BD=null,CD=null,DD=null,ED=null,FD=10,GD=0,HD=null;function ID(a){return(null!=a?a.Si&32768||l===a.jg||(a.Si?0:Ac(od,a)):Ac(od,a))?dt.Mi(y(y(a))):!1}
function JD(a){var b=HD;q(b)&&(b=mc,b=q(b)?HD>=mc:b);yc(zD)?NC.call(null,a):q(b)?Jd(ic,"..."):(q(HD)&&(HD+=1),AD.call(null,a));return b}var KD=function KD(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new De(c.slice(1),0,null):null;return KD.Pi(arguments[0],c)};
KD.Pi=function(a,b){var c=lk.Pi(M([new p(null,1,[gB,!0],null),gh(hk,b)]));b=FD;var d=CD,e=mc,f=nc,h=BD,k=wD,m=AD,n=zD,r=ED,u=lc,w=vD,A=DD,G=tp.Li(c,FD),I=mn.Li(c,CD),F=Ln.Li(c,mc),N=qm.Li(c,nc),O=gv.Li(c,BD),U=vy.Li(c,wD),ea=Qy.Li(c,AD),va=jt.Li(c,zD),wa=Ft.Li(c,ED),xa=qc.Li(c,lc),Ra=Qo.Li(c,vD),ka=ur.Li(c,DD);FD=G;CD=I;mc=F;nc=N;BD=O;wD=U;AD=ea;zD=va;ED=wa;lc=xa;vD=Ra;DD=ka;try{var oa=new dc,Ca=Pf(c,gB)?gB.Mi(c):!0,ua=!0===Ca||null==Ca?new ke(oa):Ca;if(q(zD)){var Ba=yc(ID(ua));c=ic;ic=Ba?uD(ua):
ua;try{JD(a),UC()}finally{ic=c}}else{Ba=ic;ic=ua;try{NC.call(null,a)}finally{ic=Ba}}!0===Ca&&Uk(t.Mi(oa));return null==Ca?t.Mi(oa):null}finally{DD=A,vD=w,lc=u,ED=r,zD=n,AD=m,wD=k,BD=h,nc=f,mc=e,CD=d,FD=b}};KD.$=1;KD.ca=function(a){var b=H(a);a=J(a);return this.Pi(b,a)};
function LD(){var a=new W(null,6,5,Y,[cr,new W(null,2,5,Y,[Cg(pw,eB,new W(null,1,5,Y,[ms],null)),Su],null),WA,Dp,gp,new W(null,2,5,Y,[eB,jB],null)],null);var b=y(MD);a=ND.Li?ND.Li(a,b):ND.call(null,a,b);b=new dc;var c=ic;ic=new ke(b);try{var d=ic,e=yc(ID(d)),f=ic;ic=e?uD(d):d;try{e=zD;zD=!0;try{JD(a)}finally{zD=e}D.Li(0,VC(ic,Bs))||Jd(ic,"\n");UC()}finally{ic=f}Uk(t.Mi(b))}finally{ic=c}}
function OD(a,b){if(yc(b.Mi?b.Mi(a):b.call(null,a)))throw Error(["Bad argument: ",t.Mi(a),". It must be one of ",t.Mi(b)].join(""));}function PD(){var a=nc;return q(a)?GD>=nc:a}function QD(a){OD(a,new qk(null,new p(null,4,[Hn,null,mz,null,yt,null,$u,null],null),null));var b=ic;Eh.Vi(y(b),Q,ey,Bo);var c=Ks.Mi(y(y(b))),d=Yq.Mi(y(y(b)));rD(b,new bD(Ex,a,d,c,c,null,null,null))}
function RD(a,b){OD(a,new qk(null,new p(null,2,[St,null,pr,null],null),null));var c=ic,d=Yq.Mi(y(y(c)));if(D.Li(ey.Mi(y(y(c))),qr)){sD(c);var e=oB.Mi(d);if(q(D.Li?D.Li(St,a):D.call(null,St,a)))a=y(sr.Mi(d));else if(q(D.Li?D.Li(pr,a):D.call(null,pr,a)))a=VC(tp.Mi(y(y(c))),Bs);else throw Error(["No matching clause: ",t.Mi(a)].join(""));Dh(e,b+a)}else e=Ks.Mi(y(y(c))),rD(c,new eD(Gw,d,a,b,e,e,null,null,null))}
function SD(a,b,c){b="string"===typeof b?TD(b):b;c=UD(c);a:{var d=new dc,e=yc(a)||!0===a?new ke(d):a,f=VD(b)&&yc(ID(e))?q(ID(e))?e:uD(e):e,h=ic;ic=f;try{try{WD(b,c)}finally{e!==f&&Kd(f)}var k=yc(a)?t.Mi(d):!0===a?Uk(t.Mi(d)):null;break a}finally{ic=h}k=void 0}return k}var XD=null;function YD(a,b){a=[t.Mi(a),"\n",t.Mi(XD),"\n",t.Mi(gh(t,Sh(b," "))),"^\n"].join("");throw Error(a);}
function ZD(a,b,c,d,e,f){this.Zc=a;this.rest=b;this.pos=c;this.Qi=d;this.Oi=e;this.Ri=f;this.Si=2230716170;this.Xi=139264}g=ZD.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "seq":return this.Zc;case "rest":return this.rest;case "pos":return this.pos;default:return B.Ni(this.Oi,b,c)}};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#cljs.pprint.arg-navigator{",", ","}",c,T.Li(new W(null,3,5,Y,[new W(null,2,5,Y,[ep,this.Zc],null),new W(null,2,5,Y,[du,this.rest],null),new W(null,2,5,Y,[Ks,this.pos],null)],null),this.Oi))};g.na=function(){return new Xi(this,3,new W(null,3,5,Y,[ep,du,Ks],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 3+K(this.Oi)};
g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=-402038447^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.Zc,b.Zc)&&D.Li(this.rest,b.rest)&&D.Li(this.pos,b.pos)&&D.Li(this.Oi,b.Oi)};g.wa=function(a,b){return Pf(new qk(null,new p(null,3,[Ks,null,ep,null,du,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new ZD(this.Zc,this.rest,this.pos,this.Qi,mh(R.Li(this.Oi,b)),null)};
g.ba=function(a,b,c){return q(S.Li?S.Li(ep,b):S.call(null,ep,b))?new ZD(c,this.rest,this.pos,this.Qi,this.Oi,null):q(S.Li?S.Li(du,b):S.call(null,du,b))?new ZD(this.Zc,c,this.pos,this.Qi,this.Oi,null):q(S.Li?S.Li(Ks,b):S.call(null,Ks,b))?new ZD(this.Zc,this.rest,c,this.Qi,this.Oi,null):new ZD(this.Zc,this.rest,this.pos,this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(new W(null,3,5,Y,[new X(ep,this.Zc),new X(du,this.rest),new X(Ks,this.pos)],null),this.Oi))};
g.ea=function(a,b){return new ZD(this.Zc,this.rest,this.pos,b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};function UD(a){a=E(a);return new ZD(a,a,0,null,null,null)}function $D(a){var b=du.Mi(a);if(q(b))return new W(null,2,5,Y,[H(b),new ZD(ep.Mi(a),J(b),Ks.Mi(a)+1,null,null,null)],null);throw Error("Not enough arguments for format definition");}
function aE(a){var b=$D(a);a=P(b,0,null);b=P(b,1,null);a="string"===typeof a?TD(a):a;return new W(null,2,5,Y,[a,b],null)}function bE(a,b){return b>=Ks.Mi(a)?(b=Ks.Mi(a)-b,cE.Li?cE.Li(a,b):cE.call(null,a,b)):new ZD(ep.Mi(a),Nh(b,ep.Mi(a)),b,null,null,null)}function cE(a,b){var c=Ks.Mi(a)+b;return 0>b?bE(a,c):new ZD(ep.Mi(a),Nh(b,du.Mi(a)),c,null,null,null)}function dE(a,b,c,d,e,f,h){this.func=a;this.def=b;this.params=c;this.offset=d;this.Qi=e;this.Oi=f;this.Ri=h;this.Si=2230716170;this.Xi=139264}
g=dE.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "func":return this.func;case "def":return this.def;case "params":return this.params;case "offset":return this.offset;default:return B.Ni(this.Oi,b,c)}};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#cljs.pprint.compiled-directive{",", ","}",c,T.Li(new W(null,4,5,Y,[new W(null,2,5,Y,[Cw,this.func],null),new W(null,2,5,Y,[ko,this.def],null),new W(null,2,5,Y,[Xt,this.params],null),new W(null,2,5,Y,[gu,this.offset],null)],null),this.Oi))};g.na=function(){return new Xi(this,4,new W(null,4,5,Y,[Cw,ko,Xt,gu],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 4+K(this.Oi)};
g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=-829256337^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.func,b.func)&&D.Li(this.def,b.def)&&D.Li(this.params,b.params)&&D.Li(this.offset,b.offset)&&D.Li(this.Oi,b.Oi)};g.wa=function(a,b){return Pf(new qk(null,new p(null,4,[gu,null,Cw,null,Xt,null,ko,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new dE(this.func,this.def,this.params,this.offset,this.Qi,mh(R.Li(this.Oi,b)),null)};
g.ba=function(a,b,c){return q(S.Li?S.Li(Cw,b):S.call(null,Cw,b))?new dE(c,this.def,this.params,this.offset,this.Qi,this.Oi,null):q(S.Li?S.Li(ko,b):S.call(null,ko,b))?new dE(this.func,c,this.params,this.offset,this.Qi,this.Oi,null):q(S.Li?S.Li(Xt,b):S.call(null,Xt,b))?new dE(this.func,this.def,c,this.offset,this.Qi,this.Oi,null):q(S.Li?S.Li(gu,b):S.call(null,gu,b))?new dE(this.func,this.def,this.params,c,this.Qi,this.Oi,null):new dE(this.func,this.def,this.params,this.offset,this.Qi,Q.Ni(this.Oi,b,
c),null)};g.ga=function(){return E(T.Li(new W(null,4,5,Y,[new X(Cw,this.func),new X(ko,this.def),new X(Xt,this.params),new X(gu,this.offset)],null),this.Oi))};g.ea=function(a,b){return new dE(this.func,this.def,this.params,this.offset,b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};
function eE(a,b){var c=P(a,0,null);a=P(a,1,null);var d=P(a,0,null);a=P(a,1,null);d=Pf(new qk(null,new p(null,2,[iv,null,Ny,null],null),null),c)?new W(null,2,5,Y,[d,b],null):D.Li(d,lz)?$D(b):D.Li(d,us)?new W(null,2,5,Y,[K(du.Mi(b)),b],null):new W(null,2,5,Y,[d,b],null);b=P(d,0,null);d=P(d,1,null);return new W(null,2,5,Y,[new W(null,2,5,Y,[c,new W(null,2,5,Y,[b,a],null)],null),d],null)}function fE(a,b){b=QC(eE,b,a);a=P(b,0,null);b=P(b,1,null);return new W(null,2,5,Y,[ai.Li(V,a),b],null)}
var gE=new p(null,3,[2,"#b",8,"#o",16,"#x"],null);function hE(a){return Of(a)?D.Li(FD,10)?[t.Mi(a),q(ED)?".":null].join(""):[t.Mi(q(ED)?function(){var b=B.Li(gE,FD);return q(b)?b:["#",t.Mi(FD),"r"].join("")}():null),t.Mi(iE(FD,a))].join(""):null}
function jE(a,b,c){c=$D(c);var d=P(c,0,null);c=P(c,1,null);var e=hE(d);a=q(e)?e:a.Mi?a.Mi(d):a.call(null,d);d=a.length;e=d+pv.Mi(b);e=e>=MA.Mi(b)?e:e+(ug(MA.Mi(b)-e-1,ar.Mi(b))+1)*ar.Mi(b);d=gh(t,Sh(e-d,gs.Mi(b)));q(Ny.Mi(b))?MC.Pi(M([[t.Mi(d),t.Mi(a)].join("")])):MC.Pi(M([[t.Mi(a),t.Mi(d)].join("")]));return c}function kE(a,b){return Bg(H(RC(function(c){return 0<c?new W(null,2,5,Y,[vg(c,a),ug(c,a)],null):new W(null,2,5,Y,[null,null],null)},b)))}
function iE(a,b){return 0===b?"0":gh(t,Lh.Li(function(c){return 10>c?rg(PC("0")+c):rg(PC("a")+(c-10))},kE(a,b)))}function lE(a,b){return Bg(H(RC(function(c){return new W(null,2,5,Y,[E(Bg(Mh.Li(a,c))),E(Nh(a,c))],null)},Bg(b))))}
function mE(a,b,c){c=$D(c);var d=P(c,0,null);c=P(c,1,null);if(Of(d)||"number"===typeof d&&!isNaN(d)&&Infinity!==d&&parseFloat(d)!==parseInt(d,10)&&D.Li(d,Math.floor(d))){var e=0>d,f=iE(a,e?-d:d);a=q(iv.Mi(b))?function(){var h=Lh.Li(function(m){return gh(t,m)},lE(Ss.Mi(b),f)),k=Sh(K(h),iu.Mi(b));return gh(t,J(Vh.Li(k,h)))}():f;a=e?["-",t.Mi(a)].join(""):q(Ny.Mi(b))?["+",t.Mi(a)].join(""):a;a=a.length<MA.Mi(b)?[t.Mi(gh(t,Sh(MA.Mi(b)-a.length,gs.Mi(b)))),t.Mi(a)].join(""):a;MC.Pi(M([a]))}else jE(hl,
new p(null,5,[MA,MA.Mi(b),ar,1,pv,0,gs,gs.Mi(b),Ny,!0],null),UD(new W(null,1,5,Y,[d],null)));return c}
var nE=new W(null,20,5,Y,"zero one two three four five six seven eight nine ten eleven twelve thirteen fourteen fifteen sixteen seventeen eighteen nineteen".split(" "),null),oE=new W(null,20,5,Y,"zeroth first second third fourth fifth sixth seventh eighth ninth tenth eleventh twelfth thirteenth fourteenth fifteenth sixteenth seventeenth eighteenth nineteenth".split(" "),null),pE=new W(null,10,5,Y,"  twenty thirty forty fifty sixty seventy eighty ninety".split(" "),null),qE=new W(null,10,5,Y,"  twentieth thirtieth fortieth fiftieth sixtieth seventieth eightieth ninetieth".split(" "),
null),rE=new W(null,22,5,Y," thousand million billion trillion quadrillion quintillion sextillion septillion octillion nonillion decillion undecillion duodecillion tredecillion quattuordecillion quindecillion sexdecillion septendecillion octodecillion novemdecillion vigintillion".split(" "),null);
function sE(a){var b=ug(a,100),c=vg(a,100);return[0<b?[t.Mi(bf(nE,b))," hundred"].join(""):null,0<b&&0<c?" ":null,t.Mi(0<c?20>c?bf(nE,c):function(){var d=ug(c,10),e=vg(c,10);return[t.Mi(0<d?bf(pE,d):null),0<d&&0<e?"-":null,t.Mi(0<e?bf(nE,e):null)].join("")}():null)].join("")}
function tE(a,b){var c=K(a),d=qf;--c;var e=H(a);for(a=J(a);;){if(null==a)return[t.Mi(gh(t,Nh(1,Vh.Li(Rh(", "),d)))),Bf(e)||Bf(d)?null:", ",t.Mi(e),!Bf(e)&&0<c+b?[" ",t.Mi(bf(rE,c+b))].join(""):null].join("");d=Bf(e)?d:pf.Li(d,[t.Mi(e)," ",t.Mi(bf(rE,c+b))].join(""));--c;e=H(a);a=J(a)}}
function uE(a){var b=ug(a,100),c=vg(a,100);return[0<b?[t.Mi(bf(nE,b))," hundred"].join(""):null,0<b&&0<c?" ":null,t.Mi(0<c?20>c?bf(oE,c):function(){var d=ug(c,10),e=vg(c,10);return 0<d&&!(0<e)?bf(qE,d):[t.Mi(0<d?bf(pE,d):null),0<d&&0<e?"-":null,t.Mi(0<e?bf(oE,e):null)].join("")}():0<b?"th":null)].join("")}
var vE=new W(null,4,5,Y,[new W(null,9,5,Y,"I II III IIII V VI VII VIII VIIII".split(" "),null),new W(null,9,5,Y,"X XX XXX XXXX L LX LXX LXXX LXXXX".split(" "),null),new W(null,9,5,Y,"C CC CCC CCCC D DC DCC DCCC DCCCC".split(" "),null),new W(null,3,5,Y,["M","MM","MMM"],null)],null),wE=new W(null,4,5,Y,[new W(null,9,5,Y,"I II III IV V VI VII VIII IX".split(" "),null),new W(null,9,5,Y,"X XX XXX XL L LX LXX LXXX XC".split(" "),null),new W(null,9,5,Y,"C CC CCC CD D DC DCC DCCC CM".split(" "),null),new W(null,
3,5,Y,["M","MM","MMM"],null)],null);function xE(a,b){b=$D(b);var c=P(b,0,null);b=P(b,1,null);if("number"===typeof c&&0<c&&4E3>c){var d=kE(10,c);c=qf;for(var e=K(d)-1;;)if(Bf(d)){MC.Pi(M([gh(t,c)]));break}else{var f=H(d);c=D.Li(0,f)?c:pf.Li(c,bf(bf(a,e),f-1));--e;d=J(d)}}else mE(10,new p(null,5,[MA,0,gs," ",iu,",",Ss,3,iv,!0],null),UD(new W(null,1,5,Y,[c],null)));return b}var yE=new p(null,5,[8,"Backspace",9,"Tab",10,"Newline",13,"Return",32,"Space"],null);
function zE(a,b){a=$D(b);b=P(a,0,null);a=P(a,1,null);var c=PC(b);b=c&127;c&=128;var d=B.Li(yE,b);0<c&&MC.Pi(M(["Meta-"]));MC.Pi(M([q(d)?d:32>b?["Control-",t.Mi(rg(b+64))].join(""):D.Li(b,127)?"Control-?":rg(b)]));return a}
function AE(a,b){var c=$D(b);b=P(c,0,null);c=P(c,1,null);a=by.Mi(a);if(q(D.Li?D.Li("o",a):D.call(null,"o",a)))SD(!0,"\\o~3, '0o",M([PC(b)]));else if(q(D.Li?D.Li("u",a):D.call(null,"u",a)))SD(!0,"\\u~4, '0x",M([PC(b)]));else if(q(D.Li?D.Li(null,a):D.call(null,null,a)))Jd(ic,q(D.Li?D.Li("\b",b):D.call(null,"\b",b))?"\\backspace":q(D.Li?D.Li(" ",b):D.call(null," ",b))?"\\space":q(D.Li?D.Li("\t",b):D.call(null,"\t",b))?"\\tab":q(D.Li?D.Li("\n",b):D.call(null,"\n",b))?"\\newline":q(D.Li?D.Li("\f",b):D.call(null,
"\f",b))?"\\formfeed":q(D.Li?D.Li("\r",b):D.call(null,"\r",b))?"\\return":q(D.Li?D.Li('"',b):D.call(null,'"',b))?'\\"':q(D.Li?D.Li("\\",b):D.call(null,"\\",b))?"\\\\":["\\",t.Mi(b)].join(""));else throw Error(["No matching clause: ",t.Mi(a)].join(""));return c}function BE(a,b){b=$D(b);a=P(b,0,null);b=P(b,1,null);MC.Pi(M([a]));return b}function CE(a){a=H(a);return D.Li(uA,a)||D.Li(hx,a)}
function DE(a,b,c){return mf(QC(function(d,e){if(CE(e))return new W(null,2,5,Y,[null,e],null);e=fE(Xt.Mi(d),e);var f=P(e,0,null);e=P(e,1,null);var h=SC(f);f=P(h,0,null);h=P(h,1,null);f=Q.Ni(f,$n,c);return new W(null,2,5,Y,[null,gh(Cw.Mi(d),new W(null,3,5,Y,[f,e,h],null))],null)},b,a))}
function EE(a){a=t.Mi(a).toLowerCase();var b=a.indexOf("e"),c=a.indexOf(".");a=0>b?0>c?new W(null,2,5,Y,[a,t.Mi(a.length-1)],null):new W(null,2,5,Y,[[yg.Ni(a,0,c),yg.Li(a,c+1)].join(""),t.Mi(c-1)],null):0>c?new W(null,2,5,Y,[yg.Ni(a,0,b),yg.Li(a,b+1)],null):new W(null,2,5,Y,[[yg.Ni(a,0,1),yg.Ni(a,2,b)].join(""),yg.Li(a,b+1)],null);b=P(a,0,null);a=P(a,1,null);a:if(c=K(b),0<c&&D.Li(bf(b,K(b)-1),"0"))for(--c;;){if(0>c){b="";break a}if(D.Li(bf(b,c),"0"))--c;else{b=yg.Ni(b,0,c+1);break a}}a:{c=b;var d=
K(c);if(0<d&&D.Li(bf(c,0),"0"))for(var e=0;;){if(D.Li(e,d)||!D.Li(bf(c,e),"0")){c=yg.Li(c,e);break a}e+=1}}b=K(b)-K(c);a=0<K(a)&&D.Li(bf(a,0),"+")?yg.Li(a,1):a;return Bf(c)?new W(null,2,5,Y,["0",0],null):new W(null,2,5,Y,[c,parseInt(a,10)-b],null)}
function FE(a,b,c,d){if(q(q(c)?c:d)){var e=K(a);d=q(d)?2>d?2:d:0;q(c)?c=b+c+1:0<=b?(c=b+1,--d,c=c>d?c:d):c=d+b;var f=D.Li(c,0)?new W(null,4,5,Y,[["0",t.Mi(a)].join(""),b+1,1,e+1],null):new W(null,4,5,Y,[a,b,c,e],null);c=P(f,0,null);e=P(f,1,null);d=P(f,2,null);f=P(f,3,null);if(q(d)){if(0>d)return new W(null,3,5,Y,["0",0,!1],null);if(f>d){b=bf(c,d);a=yg.Ni(c,0,d);if(PC(b)>=PC("5")){a:for(b=K(a)-1,c=b|0;;){if(0>c){b=hh(t,"1",Sh(b+1,"0"));break a}if(D.Li("9",a.charAt(c)))--c;else{b=ih(t,yg.Ni(a,0,c),
rg(PC(a.charAt(c))+1),Sh(b-c,"0"));break a}}a=K(b)>a.length;return new W(null,3,5,Y,[a?yg.Ni(b,0,K(b)-1):b,e,a],null)}return new W(null,3,5,Y,[a,e,!1],null)}}}return new W(null,3,5,Y,[a,b,!1],null)}
function GE(a,b,c){var d=0>b?new W(null,2,5,Y,[[t.Mi(gh(t,Sh(-b-1,"0"))),t.Mi(a)].join(""),-1],null):new W(null,2,5,Y,[a,b],null);a=P(d,0,null);var e=P(d,1,null);d=K(a);c=q(c)?e+c+1:e+1;c=d<c?[t.Mi(a),t.Mi(gh(t,Sh(c-d,"0")))].join(""):a;0>b?b=[".",t.Mi(c)].join(""):(b+=1,b=[yg.Ni(c,0,b),".",yg.Li(c,b)].join(""));return b}function HE(a,b){return 0>b?[".",t.Mi(a)].join(""):[yg.Ni(a,0,b),".",yg.Li(a,b)].join("")}
function IE(a,b){var c=sw.Mi(a),d=mw.Mi(a);b=$D(b);var e=P(b,0,null);b=P(b,1,null);var f=0>e?new W(null,2,5,Y,["-",-e],null):new W(null,2,5,Y,["+",e],null),h=P(f,0,null);f=P(f,1,null);f=EE(f);var k=P(f,0,null),m=P(f,1,null)+gw.Mi(a);f=Ny.Mi(a);e=q(f)?f:0>e;f=yc(d)&&K(k)-1<=m;var n=FE(k,m,d,q(c)?c-(q(e)?1:0):null);k=P(n,0,null);m=P(n,1,null);n=P(n,2,null);k=GE(k,q(n)?m+1:m,d);d=q(q(c)?q(d)?1<=d&&D.Li(k.charAt(0),"0")&&D.Li(k.charAt(1),".")&&k.length>c-(q(e)?1:0):d:c)?yg.Li(k,1):k;m=D.Li(H(d),".");
q(c)?(k=d.length,k=q(e)?k+1:k,m=m&&!(k>=c),f=f&&!(k>=c),k=m||f?k+1:k,q(k>c?FA.Mi(a):!1)?MC.Pi(M([gh(t,Sh(c,FA.Mi(a)))])):MC.Pi(M([[t.Mi(gh(t,Sh(c-k,gs.Mi(a)))),t.Mi(q(e)?h:null),m?"0":null,d,f?"0":null].join("")]))):MC.Pi(M([[t.Mi(q(e)?h:null),m?"0":null,d,f?"0":null].join("")]));return b}
function JE(a,b){b=$D(b);var c=P(b,0,null);b=P(b,1,null);var d=EE(0>c?-c:c);P(d,0,null);for(P(d,1,null);;){var e=P(d,0,null),f=P(d,1,null),h=sw.Mi(a),k=mw.Mi(a),m=jw.Mi(a),n=gw.Mi(a),r=function(){var F=Vo.Mi(a);return q(F)?F:"E"}();d=function(){var F=Ny.Mi(a);return q(F)?F:0>c}();var u=0>=n,w=f-(n-1),A=t.Mi(Math.abs(w));r=[t.Mi(r),0>w?"-":"+",t.Mi(q(m)?gh(t,Sh(m-A.length,"0")):null),A].join("");var G=r.length;w=K(e);e=[t.Mi(gh(t,Sh(-n,"0"))),t.Mi(e),t.Mi(q(k)?gh(t,Sh(k-(w-1)-(0>n?-n:0),"0")):null)].join("");
w=q(h)?h-G:null;e=FE(e,0,D.Li(n,0)?k-1:0<n?k:0>n?k-1:null,q(w)?w-(q(d)?1:0):null);w=P(e,0,null);P(e,1,null);A=P(e,2,null);e=HE(w,n);k=D.Li(n,K(w))&&null==k;if(yc(A)){if(q(h)){f=e.length+G;f=q(d)?f+1:f;var I=(u=u&&!D.Li(f,h))?f+1:f;f=k&&I<h;q(function(){var F=I>h;F||(F=m,F=q(F)?G-2>m:F);return q(F)?FA.Mi(a):F}())?MC.Pi(M([gh(t,Sh(h,FA.Mi(a)))])):MC.Pi(M([[t.Mi(gh(t,Sh(h-I-(f?1:0),gs.Mi(a)))),q(d)?0>c?"-":"+":null,u?"0":null,e,f?"0":null,r].join("")]))}else MC.Pi(M([[q(d)?0>c?"-":"+":null,u?"0":null,
e,k?"0":null,r].join("")]));break}else d=new W(null,2,5,Y,[w,f+1],null)}return b}function KE(a,b,c){var d=$D(b),e=P(d,0,null);P(d,1,null);d=EE(0>e?-e:e);var f=P(d,0,null);d=P(d,1,null);var h=sw.Mi(a),k=mw.Mi(a),m=jw.Mi(a);d=D.Li(e,0)?0:d+1;e=q(m)?m+2:4;h=q(h)?h-e:null;q(k)?f=k:(f=K(f),k=7>d?d:7,f=f>k?f:k);d=f-d;return 0<=d&&d<=f?(a=IE(new p(null,6,[sw,h,mw,d,gw,0,FA,FA.Mi(a),gs,gs.Mi(a),Ny,Ny.Mi(a)],null),b,c),MC.Pi(M([gh(t,Sh(e," "))])),a):JE(a,b,c)}
function LE(a,b){b=$D(b);var c=P(b,0,null);b=P(b,1,null);var d=EE(Math.abs(c)),e=P(d,0,null),f=P(d,1,null),h=mw.Mi(a),k=Aw.Mi(a);d=sw.Mi(a);var m=function(){var r=Ny.Mi(a);return q(r)?r:0>c}(),n=FE(e,f,h,null);e=P(n,0,null);f=P(n,1,null);n=P(n,2,null);h=GE(e,q(n)?f+1:f,h);k=[t.Mi(gh(t,Sh(k-h.indexOf("."),"0"))),h].join("");h=k.length+(q(m)?1:0);MC.Pi(M([[q(function(){var r=iv.Mi(a);return q(r)?m:r}())?0>c?"-":"+":null,t.Mi(gh(t,Sh(d-h,gs.Mi(a)))),q(yc(iv.Mi(a))?m:!1)?0>c?"-":"+":null,k].join("")]));
return b}function ME(a,b){var c=jz.Mi(a);c=q(c)?new W(null,2,5,Y,[c,b],null):$D(b);b=P(c,0,null);c=P(c,1,null);var d=qy.Mi(a);b=0>b||b>=K(d)?H(Ut.Mi(a)):bf(d,b);return q(b)?DE(b,c,$n.Mi(a)):c}function NE(a,b){var c=$D(b);b=P(c,0,null);c=P(c,1,null);var d=qy.Mi(a);b=q(b)?mf(d):H(d);return q(b)?DE(b,c,$n.Mi(a)):c}function OE(a,b){var c=$D(b),d=P(c,0,null);c=P(c,1,null);var e=qy.Mi(a);e=q(d)?H(e):null;return q(d)?q(e)?DE(e,b,$n.Mi(a)):b:c}
function PE(a,b){var c=YA.Mi(a),d=H(qy.Mi(a));d=Bf(d)?aE(b):new W(null,2,5,Y,[d,b],null);b=P(d,0,null);d=P(d,1,null);d=$D(d);var e=P(d,0,null);d=P(d,1,null);var f=0;e=UD(e);for(var h=-1;;){if(yc(c)&&D.Li(Ks.Mi(e),h)&&1<f)throw Error("%{ construct not consuming any arguments: Infinite loop!");h=Bf(du.Mi(e))&&(yc(iv.Mi(Fp.Mi(a)))||0<f);if(q(h?h:q(c)?f>=c:c))return d;h=DE(b,e,$n.Mi(a));if(D.Li(uA,H(h)))return d;f+=1;var k=Ks.Mi(e);e=h;h=k}}
function QE(a,b){var c=YA.Mi(a),d=H(qy.Mi(a));d=Bf(d)?aE(b):new W(null,2,5,Y,[d,b],null);b=P(d,0,null);d=P(d,1,null);d=$D(d);var e=P(d,0,null);d=P(d,1,null);for(var f=0;;){var h=Bf(e)&&(yc(iv.Mi(Fp.Mi(a)))||0<f);if(q(h?h:q(c)?f>=c:c))return d;h=DE(b,UD(H(e)),UD(J(e)));if(D.Li(hx,H(h)))return d;f+=1;e=J(e)}}
function RE(a,b){var c=YA.Mi(a),d=H(qy.Mi(a)),e=Bf(d)?aE(b):new W(null,2,5,Y,[d,b],null);b=P(e,0,null);d=0;e=P(e,1,null);for(var f=-1;;){if(yc(c)&&D.Li(Ks.Mi(e),f)&&1<d)throw Error("%@{ construct not consuming any arguments: Infinite loop!");f=Bf(du.Mi(e))&&(yc(iv.Mi(Fp.Mi(a)))||0<d);if(q(f?f:q(c)?d>=c:c))return e;f=DE(b,e,$n.Mi(a));if(D.Li(uA,H(f)))return mf(f);d+=1;var h=Ks.Mi(e);e=f;f=h}}
function SE(a,b){var c=YA.Mi(a),d=H(qy.Mi(a)),e=Bf(d)?aE(b):new W(null,2,5,Y,[d,b],null);b=P(e,0,null);d=0;for(e=P(e,1,null);;){var f=Bf(du.Mi(e))&&(yc(iv.Mi(Fp.Mi(a)))||0<d);if(q(f?f:q(c)?d>=c:c))return e;f=du.Mi(e);f=q(f)?new W(null,2,5,Y,[H(f),new ZD(ep.Mi(e),J(f),Ks.Mi(e)+1,null,null,null)],null):new W(null,2,5,Y,[null,e],null);e=P(f,0,null);f=P(f,1,null);e=DE(b,UD(e),f);if(D.Li(hx,H(e)))return f;e=f;d+=1}}
function TE(a,b){if(q(iv.Mi(Fp.Mi(a)))){var c=qy.Mi(a),d=K(c),e=1<d?Pm.Mi(Xt.Mi(H(H(c)))):q(iv.Mi(a))?"(":null,f=bf(c,1<d?1:0);c=2<d?Pm.Mi(Xt.Mi(H(bf(c,2)))):q(iv.Mi(a))?")":null;d=$D(b);b=P(d,0,null);d=P(d,1,null);if(q(PD()))Jd(ic,"#");else{var h=GD,k=HD;GD+=1;HD=0;try{xD(e,c),DE(f,UD(b),$n.Mi(a)),yD()}finally{HD=k,GD=h}}a=d}else a=UE(a,b);return a}
function VE(a,b,c){for(var d=qf;;){if(Bf(a))return new W(null,2,5,Y,[d,b],null);var e=H(a);a:{var f=new dc,h=ic;ic=new ke(f);try{var k=new W(null,2,5,Y,[DE(e,b,c),t.Mi(f)],null);break a}finally{ic=h}k=void 0}b=P(k,0,null);e=P(k,1,null);if(D.Li(uA,H(b)))return new W(null,2,5,Y,[d,mf(b)],null);a=J(a);d=pf.Li(d,e)}}
function UE(a,b){var c=function(){var O=Ut.Mi(a);return q(O)?VE(O,b,$n.Mi(a)):null}(),d=P(c,0,null);d=P(d,0,null);c=P(c,1,null);var e=q(c)?c:b;c=function(){var O=xB.Mi(a);return q(O)?fE(O,e):null}();var f=P(c,0,null);c=P(c,1,null);var h=q(c)?c:e;c=function(){var O=H(eu.Mi(f));return q(O)?O:0}();var k=function(){var O=H(fy.Mi(f));return q(O)?O:VC(ic,hy)}(),m=qy.Mi(a);h=VE(m,h,$n.Mi(a));var n=P(h,0,null);h=P(h,1,null);var r=function(){var O=K(n)-1+(q(iv.Mi(a))?1:0)+(q(Ny.Mi(a))?1:0);return 1>O?1:O}();
m=v.Li(hg,Lh.Li(K,n));var u=MA.Mi(a),w=pv.Mi(a),A=ar.Mi(a),G=m+r*w;u=G<=u?u:u+A*(1+ug(G-u-1,A));var I=u-m;m=function(){var O=ug(I,r);return w>O?w:O}();A=I-m*r;m=gh(t,Sh(m,gs.Mi(a)));q(q(d)?VC(tp.Mi(y(y(ic))),Bs)+c+u>k:d)&&MC.Pi(M([d]));c=A;for(var F=n,N=function(){var O=iv.Mi(a);return q(O)?O:D.Li(K(F),1)&&yc(Ny.Mi(a))}();;)if(E(F))MC.Pi(M([[t.Mi(yc(N)?H(F):null),t.Mi(q(function(){var O=N;return q(O)?O:(O=J(F))?O:Ny.Mi(a)}())?m:null),t.Mi(0<c?gs.Mi(a):null)].join("")])),--c,F=d=q(N)?F:J(F),N=!1;else break;
return h}
function WE(a){if("undefined"===typeof fc||"undefined"===typeof FC||"undefined"===typeof IC)IC=function(b,c){this.Xa=b;this.Ph=c;this.Si=1074135040;this.Xi=0},IC.prototype.ea=function(b,c){return new IC(this.Xa,c)},IC.prototype.da=function(){return this.Ph},IC.prototype.Tc=function(){return Kd(this.Xa)},IC.prototype.xd=function(b,c){b=Bc(c);if(q(D.Li?D.Li(String,b):D.call(null,String,b)))return Jd(this.Xa,c.toLowerCase());if(q(D.Li?D.Li(Number,b):D.call(null,Number,b)))return Jd(this.Xa,rg(c).toLowerCase());
throw Error(["No matching clause: ",t.Mi(b)].join(""));},IC.Mb=!0,IC.wb="cljs.pprint/t_cljs$pprint23626",IC.Wb=function(b){return Jd(b,"cljs.pprint/t_cljs$pprint23626")};return new IC(a,V)}
function XE(a){if("undefined"===typeof fc||"undefined"===typeof FC||"undefined"===typeof JC)JC=function(b,c){this.Xa=b;this.Qh=c;this.Si=1074135040;this.Xi=0},JC.prototype.ea=function(b,c){return new JC(this.Xa,c)},JC.prototype.da=function(){return this.Qh},JC.prototype.Tc=function(){return Kd(this.Xa)},JC.prototype.xd=function(b,c){b=Bc(c);if(q(D.Li?D.Li(String,b):D.call(null,String,b)))return Jd(this.Xa,c.toUpperCase());if(q(D.Li?D.Li(Number,b):D.call(null,Number,b)))return Jd(this.Xa,rg(c).toUpperCase());
throw Error(["No matching clause: ",t.Mi(b)].join(""));},JC.Mb=!0,JC.wb="cljs.pprint/t_cljs$pprint23681",JC.Wb=function(b){return Jd(b,"cljs.pprint/t_cljs$pprint23681")};return new JC(a,V)}
function YE(a,b){var c=H(a);a=q(q(b)?q(c)?Lb(c):c:b)?[c.toUpperCase(),yg.Li(a,1)].join(""):a;return gh(t,H(RC(function(d){if(Bf(d))return new W(null,2,5,Y,[null,null],null);var e=/\W\w/g.exec(d);e=q(e)?e.index+1:e;return q(e)?new W(null,2,5,Y,[[yg.Ni(d,0,e),bf(d,e).toUpperCase()].join(""),yg.Li(d,e+1)],null):new W(null,2,5,Y,[d,null],null)},a)))}
function ZE(a){var b=Ch(!0);if("undefined"===typeof fc||"undefined"===typeof FC||"undefined"===typeof KC)KC=function(c,d,e){this.Xa=c;this.Ee=d;this.Rh=e;this.Si=1074135040;this.Xi=0},KC.prototype.ea=function(c,d){return new KC(this.Xa,this.Ee,d)},KC.prototype.da=function(){return this.Rh},KC.prototype.Tc=function(){return Kd(this.Xa)},KC.prototype.xd=function(c,d){c=Bc(d);if(q(D.Li?D.Li(String,c):D.call(null,String,c)))return Jd(this.Xa,YE(d.toLowerCase(),y(this.Ee))),0<d.length?Dh(this.Ee,vb(bf(d,
K(d)-1))):null;if(q(D.Li?D.Li(Number,c):D.call(null,Number,c)))return d=rg(d),c=q(y(this.Ee))?d.toUpperCase():d,Jd(this.Xa,c),Dh(this.Ee,vb(d));throw Error(["No matching clause: ",t.Mi(c)].join(""));},KC.Mb=!0,KC.wb="cljs.pprint/t_cljs$pprint23712",KC.Wb=function(c){return Jd(c,"cljs.pprint/t_cljs$pprint23712")};return new KC(a,b,V)}
function $E(a){var b=Ch(!1);if("undefined"===typeof fc||"undefined"===typeof FC||"undefined"===typeof LC)LC=function(c,d,e){this.Xa=c;this.ce=d;this.Sh=e;this.Si=1074135040;this.Xi=0},LC.prototype.ea=function(c,d){return new LC(this.Xa,this.ce,d)},LC.prototype.da=function(){return this.Sh},LC.prototype.Tc=function(){return Kd(this.Xa)},LC.prototype.xd=function(c,d){c=Bc(d);if(q(D.Li?D.Li(String,c):D.call(null,String,c)))return d=d.toLowerCase(),yc(y(this.ce))?(c=/\S/g.exec(d),c=q(c)?c.index:c,q(c)?
(Jd(this.Xa,[yg.Ni(d,0,c),bf(d,c).toUpperCase(),yg.Li(d,c+1).toLowerCase()].join("")),Dh(this.ce,!0)):Jd(this.Xa,d)):Jd(this.Xa,d.toLowerCase());if(q(D.Li?D.Li(Number,c):D.call(null,Number,c)))return d=rg(d),q(yc(y(this.ce))?Lb(d):!1)?(Dh(this.ce,!0),Jd(this.Xa,d.toUpperCase())):Jd(this.Xa,d.toLowerCase());throw Error(["No matching clause: ",t.Mi(c)].join(""));},LC.Mb=!0,LC.wb="cljs.pprint/t_cljs$pprint23765",LC.Wb=function(c){return Jd(c,"cljs.pprint/t_cljs$pprint23765")};return new LC(a,b,V)}
function aF(a,b){var c=q(iv.Mi(a))?pr:St;RD(c,Aw.Mi(a));return b}function bF(a,b){a=q(iv.Mi(a))?q(Ny.Mi(a))?Hn:yt:q(Ny.Mi(a))?mz:$u;QD(a);return b}
var cF=Oj("ASDBOXRPCFEG$%\x26|~\nT*?()[;]{}\x3c\x3e^W_I".split(""),[new p(null,5,[cp,"A",Xt,new p(null,4,[MA,new W(null,2,5,Y,[0,Number],null),ar,new W(null,2,5,Y,[1,Number],null),pv,new W(null,2,5,Y,[0,Number],null),gs,new W(null,2,5,Y,[" ",String],null)],null),kx,new qk(null,new p(null,3,[iv,null,Ny,null,Uw,null],null),null),xz,V,zA,function(){return function(a,b){return jE(hl,a,b)}}],null),new p(null,5,[cp,"S",Xt,new p(null,4,[MA,new W(null,2,5,Y,[0,Number],null),ar,new W(null,2,5,Y,[1,Number],
null),pv,new W(null,2,5,Y,[0,Number],null),gs,new W(null,2,5,Y,[" ",String],null)],null),kx,new qk(null,new p(null,3,[iv,null,Ny,null,Uw,null],null),null),xz,V,zA,function(){return function(a,b){return jE(fl,a,b)}}],null),new p(null,5,[cp,"D",Xt,new p(null,4,[MA,new W(null,2,5,Y,[0,Number],null),gs,new W(null,2,5,Y,[" ",String],null),iu,new W(null,2,5,Y,[",",String],null),Ss,new W(null,2,5,Y,[3,Number],null)],null),kx,new qk(null,new p(null,3,[iv,null,Ny,null,Uw,null],null),null),xz,V,zA,function(){return function(a,
b){return mE(10,a,b)}}],null),new p(null,5,[cp,"B",Xt,new p(null,4,[MA,new W(null,2,5,Y,[0,Number],null),gs,new W(null,2,5,Y,[" ",String],null),iu,new W(null,2,5,Y,[",",String],null),Ss,new W(null,2,5,Y,[3,Number],null)],null),kx,new qk(null,new p(null,3,[iv,null,Ny,null,Uw,null],null),null),xz,V,zA,function(){return function(a,b){return mE(2,a,b)}}],null),new p(null,5,[cp,"O",Xt,new p(null,4,[MA,new W(null,2,5,Y,[0,Number],null),gs,new W(null,2,5,Y,[" ",String],null),iu,new W(null,2,5,Y,[",",String],
null),Ss,new W(null,2,5,Y,[3,Number],null)],null),kx,new qk(null,new p(null,3,[iv,null,Ny,null,Uw,null],null),null),xz,V,zA,function(){return function(a,b){return mE(8,a,b)}}],null),new p(null,5,[cp,"X",Xt,new p(null,4,[MA,new W(null,2,5,Y,[0,Number],null),gs,new W(null,2,5,Y,[" ",String],null),iu,new W(null,2,5,Y,[",",String],null),Ss,new W(null,2,5,Y,[3,Number],null)],null),kx,new qk(null,new p(null,3,[iv,null,Ny,null,Uw,null],null),null),xz,V,zA,function(){return function(a,b){return mE(16,a,b)}}],
null),new p(null,5,[cp,"R",Xt,new p(null,5,[tp,new W(null,2,5,Y,[null,Number],null),MA,new W(null,2,5,Y,[0,Number],null),gs,new W(null,2,5,Y,[" ",String],null),iu,new W(null,2,5,Y,[",",String],null),Ss,new W(null,2,5,Y,[3,Number],null)],null),kx,new qk(null,new p(null,3,[iv,null,Ny,null,Uw,null],null),null),xz,V,zA,function(a){return q(H(tp.Mi(a)))?function(b,c){return mE(tp.Mi(b),b,c)}:q(function(){var b=Ny.Mi(a);return q(b)?iv.Mi(a):b}())?function(b,c){return xE(vE,c)}:q(Ny.Mi(a))?function(b,c){return xE(wE,
c)}:q(iv.Mi(a))?function(b,c){b=$D(c);c=P(b,0,null);b=P(b,1,null);if(D.Li(0,c))MC.Pi(M(["zeroth"]));else{var d=kE(1E3,0>c?-c:c);if(K(d)<=K(rE)){var e=Lh.Li(sE,Oh(1,d));e=tE(e,1);d=uE(of(d));MC.Pi(M([[0>c?"minus ":null,Bf(e)||Bf(d)?Bf(e)?d:[e,"th"].join(""):[e,", ",d].join("")].join("")]))}else mE(10,new p(null,5,[MA,0,gs," ",iu,",",Ss,3,iv,!0],null),UD(new W(null,1,5,Y,[c],null))),d=vg(c,100),c=11<d||19>d,d=vg(d,10),MC.Pi(M([1===d&&c?"st":2===d&&c?"nd":3===d&&c?"rd":"th"]))}return b}:function(b,c){c=
$D(c);b=P(c,0,null);c=P(c,1,null);if(D.Li(0,b))MC.Pi(M(["zero"]));else{var d=kE(1E3,0>b?-b:b);K(d)<=K(rE)?(d=Lh.Li(sE,d),d=tE(d,0),MC.Pi(M([[0>b?"minus ":null,d].join("")]))):mE(10,new p(null,5,[MA,0,gs," ",iu,",",Ss,3,iv,!0],null),UD(new W(null,1,5,Y,[b],null)))}return c}}],null),new p(null,5,[cp,"P",Xt,V,kx,new qk(null,new p(null,3,[iv,null,Ny,null,Uw,null],null),null),xz,V,zA,function(){return function(a,b){b=q(iv.Mi(a))?cE(b,-1):b;a=q(Ny.Mi(a))?new W(null,2,5,Y,["y","ies"],null):new W(null,2,
5,Y,["","s"],null);var c=$D(b);b=P(c,0,null);c=P(c,1,null);MC.Pi(M([D.Li(b,1)?H(a):mf(a)]));return c}}],null),new p(null,5,[cp,"C",Xt,new p(null,1,[by,new W(null,2,5,Y,[null,String],null)],null),kx,new qk(null,new p(null,3,[iv,null,Ny,null,Uw,null],null),null),xz,V,zA,function(a){return q(iv.Mi(a))?zE:q(Ny.Mi(a))?AE:BE}],null),new p(null,5,[cp,"F",Xt,new p(null,5,[sw,new W(null,2,5,Y,[null,Number],null),mw,new W(null,2,5,Y,[null,Number],null),gw,new W(null,2,5,Y,[0,Number],null),FA,new W(null,2,5,
Y,[null,String],null),gs,new W(null,2,5,Y,[" ",String],null)],null),kx,new qk(null,new p(null,1,[Ny,null],null),null),xz,V,zA,function(){return IE}],null),new p(null,5,[cp,"E",Xt,new p(null,7,[sw,new W(null,2,5,Y,[null,Number],null),mw,new W(null,2,5,Y,[null,Number],null),jw,new W(null,2,5,Y,[null,Number],null),gw,new W(null,2,5,Y,[1,Number],null),FA,new W(null,2,5,Y,[null,String],null),gs,new W(null,2,5,Y,[" ",String],null),Vo,new W(null,2,5,Y,[null,String],null)],null),kx,new qk(null,new p(null,
1,[Ny,null],null),null),xz,V,zA,function(){return JE}],null),new p(null,5,[cp,"G",Xt,new p(null,7,[sw,new W(null,2,5,Y,[null,Number],null),mw,new W(null,2,5,Y,[null,Number],null),jw,new W(null,2,5,Y,[null,Number],null),gw,new W(null,2,5,Y,[1,Number],null),FA,new W(null,2,5,Y,[null,String],null),gs,new W(null,2,5,Y,[" ",String],null),Vo,new W(null,2,5,Y,[null,String],null)],null),kx,new qk(null,new p(null,1,[Ny,null],null),null),xz,V,zA,function(){return KE}],null),new p(null,5,[cp,"$",Xt,new p(null,
4,[mw,new W(null,2,5,Y,[2,Number],null),Aw,new W(null,2,5,Y,[1,Number],null),sw,new W(null,2,5,Y,[0,Number],null),gs,new W(null,2,5,Y,[" ",String],null)],null),kx,new qk(null,new p(null,3,[iv,null,Ny,null,Uw,null],null),null),xz,V,zA,function(){return LE}],null),new p(null,5,[cp,"%",Xt,new p(null,1,[py,new W(null,2,5,Y,[1,Number],null)],null),kx,sk,xz,V,zA,function(){return function(a,b){a=py.Mi(a);for(var c=0;;)if(c<a)OC(),c+=1;else break;return b}}],null),new p(null,5,[cp,"\x26",Xt,new p(null,1,
[py,new W(null,2,5,Y,[1,Number],null)],null),kx,new qk(null,new p(null,1,[jt,null],null),null),xz,V,zA,function(){return function(a,b){a=py.Mi(a);0<a&&((null!=ic?ic.Si&32768||l===ic.jg||(ic.Si?0:Ac(od,ic)):Ac(od,ic))?D.Li(0,VC(tp.Mi(y(y(ic))),Bs))||OC():OC());--a;for(var c=0;;)if(c<a)OC(),c+=1;else break;return b}}],null),new p(null,5,[cp,"|",Xt,new p(null,1,[py,new W(null,2,5,Y,[1,Number],null)],null),kx,sk,xz,V,zA,function(){return function(a,b){a=py.Mi(a);for(var c=0;;)if(c<a)MC.Pi(M(["\f"])),
c+=1;else break;return b}}],null),new p(null,5,[cp,"~",Xt,new p(null,1,[Aw,new W(null,2,5,Y,[1,Number],null)],null),kx,sk,xz,V,zA,function(){return function(a,b){a=Aw.Mi(a);MC.Pi(M([gh(t,Sh(a,"~"))]));return b}}],null),new p(null,5,[cp,"\n",Xt,V,kx,new qk(null,new p(null,2,[iv,null,Ny,null],null),null),xz,V,zA,function(){return function(a,b){q(Ny.Mi(a))&&OC();return b}}],null),new p(null,5,[cp,"T",Xt,new p(null,2,[uz,new W(null,2,5,Y,[1,Number],null),ar,new W(null,2,5,Y,[1,Number],null)],null),kx,
new qk(null,new p(null,2,[Ny,null,jt,null],null),null),xz,V,zA,function(a){return q(Ny.Mi(a))?function(b,c){var d=uz.Mi(b);b=ar.Mi(b);var e=d+VC(tp.Mi(y(y(ic))),Bs);e=0<b?vg(e,b):0;d+=D.Li(0,e)?0:b-e;MC.Pi(M([gh(t,Sh(d," "))]));return c}:function(b,c){var d=uz.Mi(b);b=ar.Mi(b);var e=VC(tp.Mi(y(y(ic))),Bs);d=e<d?d-e:D.Li(b,0)?0:b-vg(e-d,b);MC.Pi(M([gh(t,Sh(d," "))]));return c}}],null),new p(null,5,[cp,"*",Xt,new p(null,1,[Aw,new W(null,2,5,Y,[1,Number],null)],null),kx,new qk(null,new p(null,2,[iv,
null,Ny,null],null),null),xz,V,zA,function(){return function(a,b){var c=Aw.Mi(a);return q(Ny.Mi(a))?bE(b,c):cE(b,q(iv.Mi(a))?-c:c)}}],null),new p(null,5,[cp,"?",Xt,V,kx,new qk(null,new p(null,1,[Ny,null],null),null),xz,V,zA,function(a){return q(Ny.Mi(a))?function(b,c){var d=aE(c);c=P(d,0,null);d=P(d,1,null);return DE(c,d,$n.Mi(b))}:function(b,c){var d=aE(c);c=P(d,0,null);d=P(d,1,null);var e=$D(d);d=P(e,0,null);e=P(e,1,null);d=UD(d);DE(c,d,$n.Mi(b));return e}}],null),new p(null,5,[cp,"(",Xt,V,kx,new qk(null,
new p(null,3,[iv,null,Ny,null,Uw,null],null),null),xz,new p(null,3,[Qq,")",ex,null,Ut,null],null),zA,function(a){var b=q(function(){var c=Ny.Mi(a);return q(c)?iv.Mi(a):c}())?XE:q(iv.Mi(a))?ZE:q(Ny.Mi(a))?$E:WE;return function(c,d){a:{var e=H(qy.Mi(c)),f=ic;ic=b.Mi?b.Mi(ic):b.call(null,ic);try{var h=DE(e,d,$n.Mi(c));break a}finally{ic=f}h=void 0}return h}}],null),new p(null,5,[cp,")",Xt,V,kx,sk,xz,V,zA,function(){return null}],null),new p(null,5,[cp,"[",Xt,new p(null,1,[jz,new W(null,2,5,Y,[null,Number],
null)],null),kx,new qk(null,new p(null,2,[iv,null,Ny,null],null),null),xz,new p(null,3,[Qq,"]",ex,!0,Ut,cw],null),zA,function(a){return q(iv.Mi(a))?NE:q(Ny.Mi(a))?OE:ME}],null),new p(null,5,[cp,";",Xt,new p(null,2,[eu,new W(null,2,5,Y,[null,Number],null),fy,new W(null,2,5,Y,[null,Number],null)],null),kx,new qk(null,new p(null,1,[iv,null],null),null),xz,new p(null,1,[Ys,!0],null),zA,function(){return null}],null),new p(null,5,[cp,"]",Xt,V,kx,sk,xz,V,zA,function(){return null}],null),new p(null,5,[cp,
"{",Xt,new p(null,1,[YA,new W(null,2,5,Y,[null,Number],null)],null),kx,new qk(null,new p(null,3,[iv,null,Ny,null,Uw,null],null),null),xz,new p(null,2,[Qq,"}",ex,!1],null),zA,function(a){var b=Ny.Mi(a);b=q(b)?iv.Mi(a):b;return q(b)?SE:q(iv.Mi(a))?QE:q(Ny.Mi(a))?RE:PE}],null),new p(null,5,[cp,"}",Xt,V,kx,new qk(null,new p(null,1,[iv,null],null),null),xz,V,zA,function(){return null}],null),new p(null,5,[cp,"\x3c",Xt,new p(null,4,[MA,new W(null,2,5,Y,[0,Number],null),ar,new W(null,2,5,Y,[1,Number],null),
pv,new W(null,2,5,Y,[0,Number],null),gs,new W(null,2,5,Y,[" ",String],null)],null),kx,new qk(null,new p(null,4,[iv,null,Ny,null,Uw,null,jt,null],null),null),xz,new p(null,3,[Qq,"\x3e",ex,!0,Ut,Hp],null),zA,function(){return TE}],null),new p(null,5,[cp,"\x3e",Xt,V,kx,new qk(null,new p(null,1,[iv,null],null),null),xz,V,zA,function(){return null}],null),new p(null,5,[cp,"^",Xt,new p(null,3,[hA,new W(null,2,5,Y,[null,Number],null),jA,new W(null,2,5,Y,[null,Number],null),fA,new W(null,2,5,Y,[null,Number],
null)],null),kx,new qk(null,new p(null,1,[iv,null],null),null),xz,V,zA,function(){return function(a,b){var c=hA.Mi(a),d=jA.Mi(a),e=fA.Mi(a),f=q(iv.Mi(a))?hx:uA;return q(q(c)?q(d)?e:d:c)?c<=d&&d<=e?new W(null,2,5,Y,[f,b],null):b:q(q(c)?d:c)?D.Li(c,d)?new W(null,2,5,Y,[f,b],null):b:q(c)?D.Li(c,0)?new W(null,2,5,Y,[f,b],null):b:(q(iv.Mi(a))?Bf(du.Mi($n.Mi(a))):Bf(du.Mi(b)))?new W(null,2,5,Y,[f,b],null):b}}],null),new p(null,5,[cp,"W",Xt,V,kx,new qk(null,new p(null,4,[iv,null,Ny,null,Uw,null,jt,null],
null),null),xz,V,zA,function(a){if(q(function(){var c=Ny.Mi(a);return q(c)?c:iv.Mi(a)}())){var b=T.Li(q(Ny.Mi(a))?new W(null,4,5,Y,[qm,null,Ln,null],null):qf,q(iv.Mi(a))?new W(null,2,5,Y,[jt,!0],null):qf);return function(c,d){d=$D(d);c=P(d,0,null);d=P(d,1,null);return q(hh(KD,c,b))?new W(null,2,5,Y,[uA,d],null):d}}return function(c,d){d=$D(d);c=P(d,0,null);d=P(d,1,null);return q(JD(c))?new W(null,2,5,Y,[uA,d],null):d}}],null),new p(null,5,[cp,"_",Xt,V,kx,new qk(null,new p(null,3,[iv,null,Ny,null,
Uw,null],null),null),xz,V,zA,function(){return bF}],null),new p(null,5,[cp,"I",Xt,new p(null,1,[Aw,new W(null,2,5,Y,[0,Number],null)],null),kx,new qk(null,new p(null,1,[iv,null],null),null),xz,V,zA,function(){return aF}],null)]),dF=/^([vV]|#|('.)|([+-]?\d+)|(?=,))/,eF=new qk(null,new p(null,2,[us,null,lz,null],null),null);
function fF(a){var b=P(a,0,null),c=P(a,1,null),d=P(a,2,null);a=new RegExp(dF.source,"g");var e=a.exec(b);return q(e)?(d=H(e),b=yg.Li(b,a.lastIndex),a=c+a.lastIndex,D.Li(",",bf(b,0))?new W(null,2,5,Y,[new W(null,2,5,Y,[d,c],null),new W(null,3,5,Y,[yg.Li(b,1),a+1,!0],null)],null):new W(null,2,5,Y,[new W(null,2,5,Y,[d,c],null),new W(null,3,5,Y,[b,a,!1],null)],null)):q(d)?YD("Badly formed parameters in format directive",c):new W(null,2,5,Y,[null,new W(null,2,5,Y,[b,c],null)],null)}
function gF(a){var b=P(a,0,null);a=P(a,1,null);return new W(null,2,5,Y,[D.Li(b.length,0)?null:D.Li(b.length,1)&&Pf(new qk(null,new p(null,2,["V",null,"v",null],null),null),bf(b,0))?lz:D.Li(b.length,1)&&D.Li("#",bf(b,0))?us:D.Li(b.length,2)&&D.Li("'",bf(b,0))?bf(b,1):parseInt(b,10),a],null)}var hF=new p(null,2,[":",iv,"@",Ny],null);
function iF(a,b){return RC(function(c){var d=P(c,0,null),e=P(c,1,null);c=P(c,2,null);if(Bf(d))return new W(null,2,5,Y,[null,new W(null,3,5,Y,[d,e,c],null)],null);var f=B.Li(hF,H(d));return q(f)?Pf(c,f)?YD(['Flag "',t.Mi(H(d)),'" appears more than once in a directive'].join(""),e):new W(null,2,5,Y,[!0,new W(null,3,5,Y,[yg.Li(d,1),e+1,Q.Ni(c,f,new W(null,2,5,Y,[!0,e],null))],null)],null):new W(null,2,5,Y,[null,new W(null,3,5,Y,[d,e,c],null)],null)},new W(null,3,5,Y,[a,b,V],null))}
function jF(a,b){var c=kx.Mi(a);q(yc(Ny.Mi(c))?Ny.Mi(b):!1)&&YD(['"@" is an illegal flag for format directive "',t.Mi(cp.Mi(a)),'"'].join(""),bf(Ny.Mi(b),1));q(yc(iv.Mi(c))?iv.Mi(b):!1)&&YD(['":" is an illegal flag for format directive "',t.Mi(cp.Mi(a)),'"'].join(""),bf(iv.Mi(b),1));q(yc(Uw.Mi(c))?function(){var d=Ny.Mi(b);return q(d)?iv.Mi(b):d}():!1)&&YD(['Cannot combine "@" and ":" flags for format directive "',t.Mi(cp.Mi(a)),'"'].join(""),function(){var d=bf(iv.Mi(b),1),e=bf(Ny.Mi(b),1);return d<
e?d:e}())}
function kF(a,b,c,d){jF(a,c);K(b)>K(Xt.Mi(a))&&YD(SD(null,'Too many parameters for directive "~C": ~D~:* ~[were~;was~:;were~] specified but only ~D~:* ~[are~;is~:;are~] allowed',M([cp.Mi(a),K(b),K(Xt.Mi(a))])),mf(H(b)));Mk(Lh.Ni(function(e,f){var h=H(e);return null==h||Pf(eF,h)||D.Li(mf(mf(f)),Bc(h))?null:YD(["Parameter ",Ig(H(f)),' has bad type in directive "',t.Mi(cp.Mi(a)),'": ',t.Mi(Bc(h))].join(""),mf(e))},b,Xt.Mi(a)));return lk.Pi(M([ai.Li(V,Bg(function(){return function h(f){return new Jg(null,function(){for(;;){var k=
E(f);if(k){if(If(k)){var m=ae(k),n=K(m),r=Ng(n);a:for(var u=0;;)if(u<n){var w=x(m,u),A=P(w,0,null);w=P(w,1,null);w=P(w,0,null);r.add(new W(null,2,5,Y,[A,new W(null,2,5,Y,[w,d],null)],null));u+=1}else{m=!0;break a}return m?Qg(Sg(r),h(be(k))):Qg(Sg(r),null)}m=H(k);r=P(m,0,null);m=P(m,1,null);m=P(m,0,null);return hf(new W(null,2,5,Y,[r,new W(null,2,5,Y,[m,d],null)],null),h(Fe(k)))}return null}},null,null)}(Xt.Mi(a))}())),v.Ni(function(e,f){return hh(Q,e,f)},V,Zh(function(e){return H(bf(e,1))},wk(cj(Xt.Mi(a)),
b))),c]))}
function lF(a,b){b=RC(fF,new W(null,3,5,Y,[a,b,!1],null));a=P(b,0,null);var c=P(b,1,null);b=P(c,0,null);c=P(c,1,null);b=iF(b,c);P(b,0,null);b=P(b,1,null);var d=P(b,0,null),e=P(b,1,null);b=P(b,2,null);c=H(d);var f=B.Li(cF,c.toUpperCase()),h=q(f)?kF(f,Lh.Li(gF,a),b,e):null;yc(c)&&YD("Format string ended in the middle of a directive",e);yc(f)&&YD(['Directive "',t.Mi(c),'" is undefined'].join(""),e);return new W(null,2,5,Y,[new dE(function(){var k=zA.Mi(f);return k.Li?k.Li(h,e):k.call(null,h,e)}(),f,
h,e,null,null,null),function(){var k=yg.Li(d,1),m=e+1;if(D.Li("\n",cp.Mi(f))&&yc(iv.Mi(h)))a:{var n=new W(null,2,5,Y,[" ","\t"],null);n=Cf(n)?tk(n):Rf([n]);for(var r=0;;){var u;(u=D.Li(r,K(k)))||(u=bf(k,r),u=n.Mi?n.Mi(u):n.call(null,u),u=yc(u));if(u){n=r;break a}r+=1}}else n=0;k=yg.Li(k,n);return new W(null,2,5,Y,[k,m+n],null)}()],null)}function mF(a,b){return new dE(function(c,d){MC.Pi(M([a]));return d},null,new p(null,1,[Pm,a],null),b,null,null,null)}
function nF(a,b){var c=oF(xz.Mi(ko.Mi(a)),gu.Mi(a),b);b=P(c,0,null);c=P(c,1,null);return new W(null,2,5,Y,[new dE(Cw.Mi(a),ko.Mi(a),lk.Pi(M([Xt.Mi(a),TC(b,gu.Mi(a))])),gu.Mi(a),null,null,null),c],null)}
function pF(a,b,c){return RC(function(d){if(Bf(d))return YD("No closing bracket found.",b);var e=H(d);d=J(d);if(q(Qq.Mi(xz.Mi(ko.Mi(e)))))e=nF(e,d);else if(D.Li(Qq.Mi(a),cp.Mi(ko.Mi(e))))e=new W(null,2,5,Y,[null,new W(null,4,5,Y,[Lr,Xt.Mi(e),null,d],null)],null);else{var f=Ys.Mi(xz.Mi(ko.Mi(e)));f=q(f)?iv.Mi(Xt.Mi(e)):f;e=q(f)?new W(null,2,5,Y,[null,new W(null,4,5,Y,[Ut,null,Xt.Mi(e),d],null)],null):q(Ys.Mi(xz.Mi(ko.Mi(e))))?new W(null,2,5,Y,[null,new W(null,4,5,Y,[Ys,null,null,d],null)],null):new W(null,
2,5,Y,[e,d],null)}return e},c)}
function oF(a,b,c){return mf(RC(function(d){var e=P(d,0,null),f=P(d,1,null);d=P(d,2,null);var h=pF(a,b,d);d=P(h,0,null);var k=P(h,1,null);h=P(k,0,null);var m=P(k,1,null),n=P(k,2,null);k=P(k,3,null);return D.Li(h,Lr)?new W(null,2,5,Y,[null,new W(null,2,5,Y,[mk.Pi(T,M([e,uf([q(f)?Ut:qy,new W(null,1,5,Y,[d],null),Fp,m])])),k],null)],null):D.Li(h,Ut)?q(Ut.Mi(e))?YD('Two else clauses ("~:;") inside bracket construction.',b):yc(Ut.Mi(a))?YD('An else clause ("~:;") is in a bracket type that doesn\'t support it.',b):
D.Li(Hp,Ut.Mi(a))&&E(qy.Mi(e))?YD('The else clause ("~:;") is only allowed in the first position for this directive.',b):D.Li(Hp,Ut.Mi(a))?new W(null,2,5,Y,[!0,new W(null,3,5,Y,[mk.Pi(T,M([e,new p(null,2,[Ut,new W(null,1,5,Y,[d],null),xB,n],null)])),!1,k],null)],null):new W(null,2,5,Y,[!0,new W(null,3,5,Y,[mk.Pi(T,M([e,new p(null,1,[qy,new W(null,1,5,Y,[d],null)],null)])),!0,k],null)],null):D.Li(h,Ys)?q(f)?YD('A plain clause (with "~;") follows an else clause ("~:;") inside bracket construction.',
b):yc(ex.Mi(a))?YD('A separator ("~;") is in a bracket type that doesn\'t support it.',b):new W(null,2,5,Y,[!0,new W(null,3,5,Y,[mk.Pi(T,M([e,new p(null,1,[qy,new W(null,1,5,Y,[d],null)],null)])),!1,k],null)],null):null},new W(null,3,5,Y,[new p(null,1,[qy,qf],null),!1,c],null)))}function qF(a){return H(RC(function(b){var c=H(b);b=J(b);var d=xz.Mi(ko.Mi(c));return q(Qq.Mi(d))?nF(c,b):new W(null,2,5,Y,[c,b],null)},a))}
function TD(a){var b=XD;XD=a;try{return qF(H(RC(function(c){var d=P(c,0,null);c=P(c,1,null);if(Bf(d))return new W(null,2,5,Y,[null,d],null);var e=d.indexOf("~");return 0>e?new W(null,2,5,Y,[mF(d,c),new W(null,2,5,Y,["",c+d.length],null)],null):0===e?lF(yg.Li(d,1),c+1):new W(null,2,5,Y,[mF(yg.Ni(d,0,e),c),new W(null,2,5,Y,[yg.Li(d,e),e+c],null)],null)},new W(null,2,5,Y,[a,0],null))))}finally{XD=b}}
var VD=function VD(a){for(;;){if(Bf(a))return!1;var c=jt.Mi(kx.Mi(ko.Mi(H(a))));q(c)||(c=sh(VD,H(qy.Mi(Xt.Mi(H(a))))),c=q(c)?c:sh(VD,H(Ut.Mi(Xt.Mi(H(a))))));if(q(c))return!0;a=J(a)}};function WD(a,b){QC(function(c,d){if(CE(d))return new W(null,2,5,Y,[null,d],null);d=fE(Xt.Mi(c),d);var e=P(d,0,null);d=P(d,1,null);var f=SC(e);e=P(f,0,null);f=P(f,1,null);e=Q.Ni(e,$n,d);return new W(null,2,5,Y,[null,gh(Cw.Mi(c),new W(null,3,5,Y,[e,d,f],null))],null)},b,a);return null}
var rF=Fl(TD),sF=new p(null,6,[dw,"'",Gx,"#'",fs,"@",fx,"~",vn,"@",co,"~"],null);function tF(a){var b=H(a);b=sF.Mi?sF.Mi(b):sF.call(null,b);return q(q(b)?D.Li(2,K(a)):b)?(Jd(ic,b),JD(mf(a)),!0):null}function uF(a){if(q(PD()))Jd(ic,"#");else{var b=GD,c=HD;GD+=1;HD=0;try{xD("[","]");for(var d=0,e=E(a);;){if(yc(mc)||d<mc){if(e&&(JD(H(e)),J(e))){Jd(ic," ");QD($u);a=d+1;var f=J(e);d=a;e=f;continue}}else Jd(ic,"...");break}yD()}finally{HD=c,GD=b}}return null}
(function(){var a=rF("~\x3c[~;~@{~w~^, ~:_~}~;]~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new De(f,0,null)}return c.call(this,e)}function c(d){d=UD(d);return WD(a,d)}b.$=0;b.ca=function(d){d=E(d);return c(d)};b.Pi=c;return b}()})();
function vF(a){var b=Gf(a)?null:function(){var m=new Ae(function(){return ll},fw,Oj([en,gm,Zy,ut,Mn,qA,zm,Wm,tu,Jx,nv],[!0,lm,Hw,"cljs/core.cljs",15,1,10307,10307,Cg(new W(null,1,5,Y,[kq],null)),"Returns [lifted-ns lifted-map] or nil if m can't be lifted.",q(ll)?ll.Ii:null]));return m.Mi?m.Mi(a):m.call(null,a)}(),c=P(b,0,null);b=P(b,1,null);var d=q(b)?b:a,e=q(c)?["#:",t.Mi(c),"{"].join(""):"{";if(q(PD()))Jd(ic,"#");else{c=GD;b=HD;GD+=1;HD=0;try{xD(e,"}");e=0;for(var f=E(d);;){if(yc(mc)||e<mc){if(f){if(q(PD()))Jd(ic,
"#");else{d=GD;var h=HD;GD+=1;HD=0;try{xD(null,null),JD(nf(f)),Jd(ic," "),QD($u),HD=0,JD(H(J(H(f)))),yD()}finally{HD=h,GD=d}}if(J(f)){Jd(ic,", ");QD($u);d=e+1;var k=J(f);e=d;f=k;continue}}}else Jd(ic,"...");break}yD()}finally{HD=b,GD=c}}return null}function wF(a){return Jd(ic,fl.Pi(M([a])))}
var xF=function(){var a=rF("~\x3c#{~;~@{~w~^ ~:_~}~;}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new De(f,0,null)}return c.call(this,e)}function c(d){d=UD(d);return WD(a,d)}b.$=0;b.ca=function(d){d=E(d);return c(d)};b.Pi=c;return b}()}(),yF=new p(null,2,["core$future_call","Future","core$promise","Promise"],null);
function zF(a){var b=Ok(/^[^$]+\$[^$]+/,a);b=q(b)?yF.Mi?yF.Mi(b):yF.call(null,b):null;return q(b)?b:a}var AF=function(){var a=rF("~\x3c\x3c-(~;~@{~w~^ ~_~}~;)-\x3c~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new De(f,0,null)}return c.call(this,e)}function c(d){d=UD(d);return WD(a,d)}b.$=0;b.ca=function(d){d=E(d);return c(d)};b.Pi=c;return b}()}();
function BF(a){return a instanceof Si?dz:(null!=a?a.Si&32768||l===a.jg||(a.Si?0:Ac(od,a)):Ac(od,a))?VA:a instanceof z?Dw:Lf(a)?kA:Ff(a)?Zx:Hf(a)?Ww:Df(a)?ip:null==a?null:Xl}var CF,DF=Ch(V),EF=Ch(V),FF=Ch(V),GF=Ch(V),HF=B.Ni(V,hw,Kl.Ui?Kl.Ui():Kl.call(null));CF=new Wl(ze.Li(ba,"simple-dispatch"),BF,HF,DF,EF,FF,GF);
Ul(CF,kA,function(a){if(yc(tF(a)))if(q(PD()))Jd(ic,"#");else{var b=GD,c=HD;GD+=1;HD=0;try{xD("(",")");for(var d=0,e=E(a);;){if(yc(mc)||d<mc){if(e&&(JD(H(e)),J(e))){Jd(ic," ");QD($u);a=d+1;var f=J(e);d=a;e=f;continue}}else Jd(ic,"...");break}yD()}finally{HD=c,GD=b}}return null});Ul(CF,Ww,uF);Ul(CF,Zx,vF);Ul(CF,ip,xF);Ul(CF,null,function(){return Jd(ic,fl.Pi(M([null])))});Ul(CF,Xl,wF);AD=CF;function IF(a){return Hf(a)?new W(null,2,5,Y,["[","]"],null):new W(null,2,5,Y,["(",")"],null)}
function JF(a){if(Ef(a)){var b=IF(a),c=P(b,0,null),d=P(b,1,null),e=E(a),f=H(e),h=J(e);if(q(PD()))Jd(ic,"#");else{var k=GD,m=HD,n=GD+1;GD=n;HD=0;try{xD(c,d);(function(){var wa=rF("~w~:i");return function(){function xa(ka){var oa=null;if(0<arguments.length){oa=0;for(var Ca=Array(arguments.length-0);oa<Ca.length;)Ca[oa]=arguments[oa+0],++oa;oa=new De(Ca,0,null)}return Ra.call(this,oa)}function Ra(ka){ka=UD(ka);return WD(wa,ka)}xa.$=0;xa.ca=function(ka){ka=E(ka);return Ra(ka)};xa.Pi=Ra;return xa}()})()(f);
for(var r=h;;)if(E(r)){(function(){var wa=rF(" ");return function(xa,Ra,ka){return function(){function oa(ua){var Ba=null;if(0<arguments.length){Ba=0;for(var Ua=Array(arguments.length-0);Ba<Ua.length;)Ua[Ba]=arguments[Ba+0],++Ba;Ba=new De(Ua,0,null)}return Ca.call(this,Ba)}function Ca(ua){ua=UD(ua);return WD(ka,ua)}oa.$=0;oa.ca=function(ua){ua=E(ua);return Ca(ua)};oa.Pi=Ca;return oa}()}(r," ",wa,k,m,n,0,b,c,d,a,e,f,h,f,h)})()();var u=H(r);if(Ef(u)){var w=IF(u),A=P(w,0,null),G=P(w,1,null);if(q(PD()))Jd(ic,
"#");else{var I=GD,F=HD,N=GD+1;GD=N;HD=0;try{xD(A,G);if(D.Li(K(u),3)&&mf(u)instanceof C){var O=u,U=P(O,0,null),ea=P(O,1,null),va=P(O,2,null);(function(){var wa=rF("~w ~w ");return function(xa,Ra,ka){return function(){function oa(ua){var Ba=null;if(0<arguments.length){Ba=0;for(var Ua=Array(arguments.length-0);Ba<Ua.length;)Ua[Ba]=arguments[Ba+0],++Ba;Ba=new De(Ua,0,null)}return Ca.call(this,Ba)}function Ca(ua){ua=UD(ua);return WD(ka,ua)}oa.$=0;oa.ca=function(ua){ua=E(ua);return Ca(ua)};oa.Pi=Ca;return oa}()}(r,
"~w ~w ",wa,O,U,ea,va,I,F,N,0,w,A,G,u,k,m,n,0,b,c,d,a,e,f,h,f,h)})()(U,ea);Ef(va)?function(){var wa=Hf(va)?"~\x3c[~;~@{~w~^ ~:_~}~;]~:\x3e":"~\x3c(~;~@{~w~^ ~:_~}~;)~:\x3e",xa="string"===typeof wa?rF(wa):wa;return function(Ra,ka,oa){return function(){function Ca(Ba){var Ua=null;if(0<arguments.length){Ua=0;for(var ac=Array(arguments.length-0);Ua<ac.length;)ac[Ua]=arguments[Ua+0],++Ua;Ua=new De(ac,0,null)}return ua.call(this,Ua)}function ua(Ba){Ba=UD(Ba);return WD(oa,Ba)}Ca.$=0;Ca.ca=function(Ba){Ba=
E(Ba);return ua(Ba)};Ca.Pi=ua;return Ca}()}(r,wa,xa,O,U,ea,va,I,F,N,0,w,A,G,u,k,m,n,0,b,c,d,a,e,f,h,f,h)}()(va):JD(va)}else gh(function(){var wa=rF("~w ~:i~@{~w~^ ~:_~}");return function(xa,Ra,ka){return function(){function oa(ua){var Ba=null;if(0<arguments.length){Ba=0;for(var Ua=Array(arguments.length-0);Ba<Ua.length;)Ua[Ba]=arguments[Ba+0],++Ba;Ba=new De(Ua,0,null)}return Ca.call(this,Ba)}function Ca(ua){ua=UD(ua);return WD(ka,ua)}oa.$=0;oa.ca=function(ua){ua=E(ua);return Ca(ua)};oa.Pi=Ca;return oa}()}(r,
"~w ~:i~@{~w~^ ~:_~}",wa,I,F,N,0,w,A,G,u,k,m,n,0,b,c,d,a,e,f,h,f,h)}(),u);yD()}finally{HD=F,GD=I}}J(r)&&function(){var wa=rF("~_");return function(xa,Ra,ka){return function(){function oa(ua){var Ba=null;if(0<arguments.length){Ba=0;for(var Ua=Array(arguments.length-0);Ba<Ua.length;)Ua[Ba]=arguments[Ba+0],++Ba;Ba=new De(Ua,0,null)}return Ca.call(this,Ba)}function Ca(ua){ua=UD(ua);return WD(ka,ua)}oa.$=0;oa.ca=function(ua){ua=E(ua);return Ca(ua)};oa.Pi=Ca;return oa}()}(r,"~_",wa,w,A,G,u,k,m,n,0,b,c,
d,a,e,f,h,f,h)}()()}else JD(u),J(r)&&function(){var wa=rF("~:_");return function(xa,Ra,ka){return function(){function oa(ua){var Ba=null;if(0<arguments.length){Ba=0;for(var Ua=Array(arguments.length-0);Ba<Ua.length;)Ua[Ba]=arguments[Ba+0],++Ba;Ba=new De(Ua,0,null)}return Ca.call(this,Ba)}function Ca(ua){ua=UD(ua);return WD(ka,ua)}oa.$=0;oa.ca=function(ua){ua=E(ua);return Ca(ua)};oa.Pi=Ca;return oa}()}(r,"~:_",wa,u,k,m,n,0,b,c,d,a,e,f,h,f,h)}()();r=J(r)}else break;yD()}finally{HD=m,GD=k}}}else JD(a)}
var KF=function(){var a=rF("~:\x3c~w~^ ~@_~w~^ ~_~@{~w~^ ~_~}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new De(f,0,null)}return c.call(this,e)}function c(d){d=UD(d);return WD(a,d)}b.$=0;b.ca=function(d){d=E(d);return c(d)};b.Pi=c;return b}()}();
function LF(a,b){E(a)&&(q(b)?function(){var c=rF(" ~_");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+0],++h;h=new De(k,0,null)}return e.call(this,h)}function e(f){f=UD(f);return WD(c,f)}d.$=0;d.ca=function(f){f=E(f);return e(f)};d.Pi=e;return d}()}()():function(){var c=rF(" ~@_");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+
0],++h;h=new De(k,0,null)}return e.call(this,h)}function e(f){f=UD(f);return WD(c,f)}d.$=0;d.ca=function(f){f=E(f);return e(f)};d.Pi=e;return d}()}()(),function(){var c=rF("~{~w~^ ~_~}");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+0],++h;h=new De(k,0,null)}return e.call(this,h)}function e(f){f=UD(f);return WD(c,f)}d.$=0;d.ca=function(f){f=E(f);return e(f)};d.Pi=e;return d}()}()(a))}
function MF(a){E(a)&&function(){var b=rF(" ~_~{~w~^ ~_~}");return function(){function c(e){var f=null;if(0<arguments.length){f=0;for(var h=Array(arguments.length-0);f<h.length;)h[f]=arguments[f+0],++f;f=new De(h,0,null)}return d.call(this,f)}function d(e){e=UD(e);return WD(b,e)}c.$=0;c.ca=function(e){e=E(e);return d(e)};c.Pi=d;return c}()}()(a)}
function NF(a){if(J(a)){var b=E(a);a=H(b);var c=J(b);b=H(c);c=J(c);var d="string"===typeof H(c)?new W(null,2,5,Y,[H(c),J(c)],null):new W(null,2,5,Y,[null,c],null);c=P(d,0,null);d=P(d,1,null);var e=Ff(H(d))?new W(null,2,5,Y,[H(d),J(d)],null):new W(null,2,5,Y,[null,d],null);d=P(e,0,null);e=P(e,1,null);if(q(PD()))Jd(ic,"#");else{var f=GD,h=HD;GD+=1;HD=0;try{xD("(",")"),function(){var k=rF("~w ~1I~@_~w");return function(){function m(r){var u=null;if(0<arguments.length){u=0;for(var w=Array(arguments.length-
0);u<w.length;)w[u]=arguments[u+0],++u;u=new De(w,0,null)}return n.call(this,u)}function n(r){r=UD(r);return WD(k,r)}m.$=0;m.ca=function(r){r=E(r);return n(r)};m.Pi=n;return m}()}()(a,b),q(c)&&function(){var k=rF(" ~_~w");return function(){function m(r){var u=null;if(0<arguments.length){u=0;for(var w=Array(arguments.length-0);u<w.length;)w[u]=arguments[u+0],++u;u=new De(w,0,null)}return n.call(this,u)}function n(r){r=UD(r);return WD(k,r)}m.$=0;m.ca=function(r){r=E(r);return n(r)};m.Pi=n;return m}()}()(c),
q(d)&&function(){var k=rF(" ~_~w");return function(){function m(r){var u=null;if(0<arguments.length){u=0;for(var w=Array(arguments.length-0);u<w.length;)w[u]=arguments[u+0],++u;u=new De(w,0,null)}return n.call(this,u)}function n(r){r=UD(r);return WD(k,r)}m.$=0;m.ca=function(r){r=E(r);return n(r)};m.Pi=n;return m}()}()(d),Hf(H(e))?LF(e,q(c)?c:d):MF(e),yD()}finally{HD=h,GD=f}}return null}return OF(a)}
function PF(a){if(q(PD()))Jd(ic,"#");else{var b=GD,c=HD;GD+=1;HD=0;try{xD("[","]");for(var d=0;;){if(yc(mc)||d<mc){if(E(a)){if(q(PD()))Jd(ic,"#");else{var e=GD,f=HD;GD+=1;HD=0;try{xD(null,null),JD(H(a)),J(a)&&(Jd(ic," "),QD(mz),JD(mf(a))),yD()}finally{HD=f,GD=e}}if(J(Fe(a))){Jd(ic," ");QD($u);e=d+1;var h=J(Fe(a));d=e;a=h;continue}}}else Jd(ic,"...");break}yD()}finally{HD=c,GD=b}}}
function QF(a){var b=H(a);if(q(PD()))Jd(ic,"#");else{var c=GD,d=HD;GD+=1;HD=0;try{xD("(",")"),J(a)&&Hf(mf(a))?(function(){var e=rF("~w ~1I~@_");return function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new De(n,0,null)}return h.call(this,m)}function h(k){k=UD(k);return WD(e,k)}f.$=0;f.ca=function(k){k=E(k);return h(k)};f.Pi=h;return f}()}()(b),PF(mf(a)),function(){var e=rF(" ~_~{~w~^ ~_~}");return function(){function f(k){var m=
null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new De(n,0,null)}return h.call(this,m)}function h(k){k=UD(k);return WD(e,k)}f.$=0;f.ca=function(k){k=E(k);return h(k)};f.Pi=h;return f}()}()(J(Fe(a)))):OF(a),yD()}finally{HD=d,GD=c}}return null}
var RF=function(){var a=rF("~:\x3c~1I~w~^ ~@_~w~@{ ~_~w~}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new De(f,0,null)}return c.call(this,e)}function c(d){d=UD(d);return WD(a,d)}b.$=0;b.ca=function(d){d=E(d);return c(d)};b.Pi=c;return b}()}(),SF=V;
function OF(a){if(q(PD()))Jd(ic,"#");else{var b=GD,c=HD;GD+=1;HD=0;try{xD("(",")");RD(St,1);for(var d=0,e=E(a);;){if(yc(mc)||d<mc){if(e&&(JD(H(e)),J(e))){Jd(ic," ");QD($u);a=d+1;var f=J(e);d=a;e=f;continue}}else Jd(ic,"...");break}yD()}finally{HD=c,GD=b}}return null}
var TF=function(a){return ai.Li(V,Xh(dg,M([function(){return function d(c){return new Jg(null,function(){for(;;){var e=E(c);if(e){if(If(e)){var f=ae(e),h=K(f),k=Ng(h);a:for(var m=0;;)if(m<h){var n=x(f,m);n=new W(null,2,5,Y,[n,new W(null,2,5,Y,[ze.Mi(Ig(H(n))),mf(n)],null)],null);k.add(n);m+=1}else{f=!0;break a}return f?Qg(Sg(k),d(be(e))):Qg(Sg(k),null)}k=H(e);return hf(new W(null,2,5,Y,[k,new W(null,2,5,Y,[ze.Mi(Ig(H(k))),mf(k)],null)],null),d(Fe(e)))}return null}},null,null)}(a)}()])))}(function(a){return ai.Li(V,
Lh.Li(function(b){var c=P(b,0,null),d=P(b,1,null);var e=Fg(c);e=q(e)?e:Pf(new qk(null,new p(null,24,[Ir,"null",Wt,"null",om,"null",Dv,"null",Em,"null",xo,"null",aw,"null",hv,"null",zp,"null",Sv,"null",av,"null",Nw,"null",kB,"null",Ip,"null",uu,"null",Xm,"null",Yp,"null",vr,"null",My,"null",Gx,"null",dw,"null",Au,"null",Gv,"null",Es,"null"],null),null),c);return yc(e)?new W(null,2,5,Y,[ze.Li("clojure.core",Ig(c)),d],null):b},a))}(Oj([My,Xm,Qp,Sv,SA,et,rB,Iu,gz,Ku,qx,Vn,Xz,Es,Vq,On,yv,$s,ky,Nw,lo,Xx,
Kv,tw,Oz,ap,pu,PA,xy,bu],[KF,function(a){var b=mf(a),c=H(Fe(Fe(a)));if(Hf(b)){a=SF;SF=D.Li(1,K(b))?uf([H(b),"%"]):ai.Li(V,Lh.Ni(function(d,e){return new W(null,2,5,Y,[d,["%",t.Mi(e)].join("")],null)},b,Gk.Li(1,K(b)+1)));try{return function(){var d=rF("~\x3c#(~;~@{~w~^ ~_~}~;)~:\x3e");return function(){function e(h){var k=null;if(0<arguments.length){k=0;for(var m=Array(arguments.length-0);k<m.length;)m[k]=arguments[k+0],++k;k=new De(m,0,null)}return f.call(this,k)}function f(h){h=UD(h);return WD(d,
h)}e.$=0;e.ca=function(h){h=E(h);return f(h)};e.Pi=f;return e}()}()(c)}finally{SF=a}}else return OF(a)},QF,RF,function(a){if(3<K(a)){if(q(PD()))Jd(ic,"#");else{var b=GD,c=HD;GD+=1;HD=0;try{xD("(",")");RD(St,1);gh(function(){var k=rF("~w ~@_~w ~@_~w ~_");return function(){function m(r){var u=null;if(0<arguments.length){u=0;for(var w=Array(arguments.length-0);u<w.length;)w[u]=arguments[u+0],++u;u=new De(w,0,null)}return n.call(this,u)}function n(r){r=UD(r);return WD(k,r)}m.$=0;m.ca=function(r){r=E(r);
return n(r)};m.Pi=n;return m}()}(),a);for(var d=0,e=E(Nh(3,a));;){if(yc(mc)||d<mc){if(e){if(q(PD()))Jd(ic,"#");else{a=GD;var f=HD;GD+=1;HD=0;try{xD(null,null),JD(H(e)),J(e)&&(Jd(ic," "),QD(mz),JD(mf(e))),yD()}finally{HD=f,GD=a}}if(J(Fe(e))){Jd(ic," ");QD($u);a=d+1;var h=J(Fe(e));d=a;e=h;continue}}}else Jd(ic,"...");break}yD()}finally{HD=c,GD=b}}return null}return OF(a)},KF,NF,NF,QF,KF,QF,RF,RF,KF,RF,QF,QF,KF,QF,function(a){if(J(a)){var b=E(a);a=H(b);var c=J(b);b=H(c);c=J(c);var d="string"===typeof H(c)?
new W(null,2,5,Y,[H(c),J(c)],null):new W(null,2,5,Y,[null,c],null);c=P(d,0,null);d=P(d,1,null);d=Ff(H(d))?new W(null,2,5,Y,[H(d),J(d)],null):new W(null,2,5,Y,[null,d],null);var e=P(d,0,null),f=P(d,1,null);if(q(PD()))Jd(ic,"#");else{d=GD;var h=HD;GD+=1;HD=0;try{xD("(",")");(function(){var m=rF("~w ~1I~@_~w");return function(){function n(u){var w=null;if(0<arguments.length){w=0;for(var A=Array(arguments.length-0);w<A.length;)A[w]=arguments[w+0],++w;w=new De(A,0,null)}return r.call(this,w)}function r(u){u=
UD(u);return WD(m,u)}n.$=0;n.ca=function(u){u=E(u);return r(u)};n.Pi=r;return n}()})()(a,b);q(q(c)?c:q(e)?e:E(f))&&function(){var m=rF("~@:_");return function(){function n(u){var w=null;if(0<arguments.length){w=0;for(var A=Array(arguments.length-0);w<A.length;)A[w]=arguments[w+0],++w;w=new De(A,0,null)}return r.call(this,w)}function r(u){u=UD(u);return WD(m,u)}n.$=0;n.ca=function(u){u=E(u);return r(u)};n.Pi=r;return n}()}()();q(c)&&SD(!0,'"~a"~:[~;~:@_~]',M([c,q(e)?e:E(f)]));q(e)&&function(){var m=
rF("~w~:[~;~:@_~]");return function(){function n(u){var w=null;if(0<arguments.length){w=0;for(var A=Array(arguments.length-0);w<A.length;)A[w]=arguments[w+0],++w;w=new De(A,0,null)}return r.call(this,w)}function r(u){u=UD(u);return WD(m,u)}n.$=0;n.ca=function(u){u=E(u);return r(u)};n.Pi=r;return n}()}()(e,E(f));for(a=f;;){JF(H(a));var k=J(a);if(k)b=k,QD($u),a=b;else break}yD()}finally{HD=h,GD=d}}return null}return JD(a)},QF,function(a){if(q(PD()))Jd(ic,"#");else{var b=GD,c=HD;GD+=1;HD=0;try{xD("(",
")");RD(St,1);JD(H(a));if(J(a)){Jd(ic," ");QD($u);for(var d=0,e=J(a);;){if(yc(mc)||d<mc){if(e){if(q(PD()))Jd(ic,"#");else{a=GD;var f=HD;GD+=1;HD=0;try{xD(null,null),JD(H(e)),J(e)&&(Jd(ic," "),QD(mz),JD(mf(e))),yD()}finally{HD=f,GD=a}}if(J(Fe(e))){Jd(ic," ");QD($u);a=d+1;var h=J(Fe(e));d=a;e=h;continue}}}else Jd(ic,"...");break}}yD()}finally{HD=c,GD=b}}return null},QF,NF,NF,KF,KF,QF,QF,KF]))),UF,VF=Ch(V),WF=Ch(V),XF=Ch(V),YF=Ch(V),ZF=B.Ni(V,hw,Kl.Ui?Kl.Ui():Kl.call(null));
UF=new Wl(ze.Li(ba,"code-dispatch"),BF,ZF,VF,WF,XF,YF);Ul(UF,kA,function(a){if(yc(tF(a))){var b=TF.call(null,H(a));return q(b)?b.Mi?b.Mi(a):b.call(null,a):OF(a)}return null});Ul(UF,Dw,function(a){var b=a.Mi?a.Mi(SF):a.call(null,SF);return q(b)?MC.Pi(M([b])):q(DD)?MC.Pi(M([Ig(a)])):NC.call(null,a)});Ul(UF,Ww,uF);Ul(UF,Zx,vF);Ul(UF,ip,xF);Ul(UF,dz,AF);
Ul(UF,VA,function(a){var b=["#\x3c",t.Mi(zF(Bc(a).name)),"@",t.Mi(ya(a)),": "].join("");if(q(PD()))Jd(ic,"#");else{var c=GD,d=HD;GD+=1;HD=0;try{xD(b,"\x3e"),RD(St,-(b.length-2)),QD($u),JD((null!=a?a.Xi&1||l===a.Ei||(a.Xi?0:Ac(Nd,a)):Ac(Nd,a))&&!Od(a)?Un:y(a)),yD()}finally{HD=d,GD=c}}return null});Ul(UF,null,NC);Ul(UF,Xl,wF);AD=CF;var $F=/[\s]/;function aG(a){return null==a?null:","===a?!0:$F.test(a)}function bG(a){return null==a?null:!/[^0-9]/.test(a)}
function cG(a,b){return function e(d){return new Jg(null,function(){for(;;){var f=E(d);if(f){if(If(f)){var h=ae(f),k=K(h),m=Ng(k);return function(){for(var r=0;;)if(r<k){var u=x(h,r),w=m;if(u instanceof z||u instanceof C){var A=Lk(Fg,Ig)(u),G=P(A,0,null);A=P(A,1,null);var I=u instanceof z?ze:Hg;u=null==G?I.Li?I.Li(a,A):I.call(null,a,A):D.Li("_",G)?I.Mi?I.Mi(A):I.call(null,A):u}w.add(u);r+=1}else return!0}()?Qg(Sg(m),e(be(f))):Qg(Sg(m),null)}var n=H(f);return hf(n instanceof z||n instanceof C?function(){var r=
Lk(Fg,Ig)(n),u=P(r,0,null);r=P(r,1,null);var w=n instanceof z?ze:Hg;return null==u?w.Li?w.Li(a,r):w.call(null,a,r):D.Li("_",u)?w.Mi?w.Mi(r):w.call(null,r):n}():n,e(Fe(f)))}return null}},null,null)}(b)}function dG(a,b){a=parseInt(a,b);return q(isNaN(a))?-1:a};function eG(a){if(null!=a&&null!=a.Fd)a=a.Fd(a);else{var b=eG[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=eG._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("Reader.read-char",a);}return a}function fG(a){if(null!=a&&null!=a.se)a=a.se(a);else{var b=fG[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=fG._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("Reader.peek-char",a);}return a}
function gG(a,b){if(null!=a&&null!=a.rg)a.rg(a,b);else{var c=gG[pa(null==a?null:a)];if(null!=c)c.Li?c.Li(a,b):c.call(null,a,b);else if(c=gG._,null!=c)c.Li?c.Li(a,b):c.call(null,a,b);else throw Cc("IPushbackReader.unread",a);}}function hG(a){if(null!=a&&null!=a.rh)a=a.rh(a);else{var b=hG[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=hG._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("IndexingReader.get-line-number",a);}return a}
function iG(a){if(null!=a&&null!=a.ph)a=a.ph(a);else{var b=iG[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=iG._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("IndexingReader.get-column-number",a);}return a}function jG(a){if(null!=a&&null!=a.qh)a=a.qh(a);else{var b=jG[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=jG._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("IndexingReader.get-file-name",a);}return a}
function kG(a,b){this.s=a;this.Pg=b;this.Xd=0}kG.prototype.Fd=function(){if(this.Pg>this.Xd){var a=this.s.charAt(this.Xd);this.Xd+=1;return a}return null};kG.prototype.se=function(){return this.Pg>this.Xd?this.s.charAt(this.Xd):null};function lG(a,b){this.Lg=a;this.Da=b;this.Hc=this.nf=1}lG.prototype.Fd=function(){var a=this.Hc<this.nf?this.Da[this.Hc]:this.Lg.Fd(null);this.Hc<this.nf&&(this.Hc+=1);return null==a?null:rg(a)};
lG.prototype.se=function(){var a=this.Hc<this.nf?this.Da[this.Hc]:this.Lg.se(null);return null==a?null:rg(a)};lG.prototype.rg=function(a,b){if(q(b)){if(0===this.Hc)throw Error("Pushback buffer is full");--this.Hc;return this.Da[this.Hc]=b}return null};function mG(a){return null!=a?l===a.Ji?!0:!1:!1};function nG(a,b,c,d){var e=K(b);a=q(a)?0:10<e?10:e;b=Lh.Li(xh(oG,!0),Mh.Li(a,b));b=gh(t,Nh(1,Vh.Li(Rh(" "),b)));e=a<e?"...":null;return[t.Mi(c),t.Mi(b),e,t.Mi(d)].join("")}var oG,pG=Ch(V),qG=Ch(V),rG=Ch(V),sG=Ch(V),tG=B.Ni(V,hw,Kl.Ui?Kl.Ui():Kl.call(null));
oG=new Wl(ze.Li("cljs.tools.reader.impl.inspect","inspect*"),function(a,b){return null==b?ks:"string"===typeof b?Pm:b instanceof C?xw:"number"===typeof b?xw:b instanceof z?xw:Hf(b)?Ww:zg(b)?kA:Ff(b)?Zx:Df(b)?ip:D.Li(b,!0)?xw:D.Li(b,!1)?xw:Bc(b)},tG,pG,qG,rG,sG);oG.ib(null,Pm,function(a,b){a=q(a)?5:20;var c=b.length>a?'..."':'"',d=b.length;return['"',t.Mi(b.substring(0,a<d?a:d)),c].join("")});oG.ib(null,xw,function(a,b){return t.Mi(b)});oG.ib(null,De,function(){return"\x3cindexed seq\x3e"});
oG.ib(null,aj,function(){return"\x3cmap seq\x3e"});oG.ib(null,Hj,function(){return"\x3cmap seq\x3e"});oG.ib(null,Dg,function(){return"\x3ccons\x3e"});oG.ib(null,Jg,function(){return"\x3clazy seq\x3e"});oG.ib(null,ks,function(){return"nil"});oG.ib(null,kA,function(a,b){return nG(a,b,"(",")")});oG.ib(null,Zx,function(a,b){var c=K(b),d=q(a)?0:c;b=gh(T,Mh.Li(d,b));return nG(a,b,"{",c>d?"...}":"}")});oG.ib(null,ip,function(a,b){return nG(a,b,"#{","}")});oG.ib(null,Ww,function(a,b){return nG(a,b,"[","]")});
oG.ib(null,Xl,function(a,b){return fl.Pi(M([Bc(b)]))});function uG(a,b,c){b=new p(null,2,[aq,ts,Jr,b],null);a=mG(a)?Q.Pi(b,ut,jG(a),M([zm,hG(a),lr,iG(a)])):b;var d=ut.Mi(a);b=zm.Mi(a);var e=lr.Mi(a);d=q(d)?[t.Mi(d)," "].join(""):null;b=q(b)?["[line ",t.Mi(b),", col ",t.Mi(e),"]"].join(""):null;c=jh(t,d,b,q(q(d)?d:b)?" ":null,c);throw dm(c,a);}function vG(a,b){return uG(a,hq,M([gh(t,b)]))}function wG(a,b){return uG(a,Io,M([gh(t,b)]))}function xG(a,b){return uG(a,lx,M([gh(t,b)]))}
function yG(a,b,c,d){vG(a,M(["The map literal starting with ",oG.Li(!1,H(d)),q(b)?[" on line ",t.Mi(b)," column ",t.Mi(c)].join(""):null," contains ",K(d)," form(s). Map literals must contain an even number of forms."]))}function zG(a,b,c){return vG(a,M(["Invalid ",Ig(b),": ",c,"."]))}function AG(a,b,c){return vG(a,M(["Invalid character: ",c," found while reading ",Ig(b),"."]))}
function BG(a,b){a:{var c=Pm instanceof C?Pm.ma:null;switch(c){case "regex":c='#"';break a;case "string":c='"';break a;default:throw Error(["No matching clause: ",t.Mi(c)].join(""));}}return xG(a,M(["Unexpected EOF reading ",Ig(Pm)," starting ",hh(t,c,b),"."]))}function CG(a,b){return wG(a,M(["Invalid digit ",b," in unicode character."]))}function DG(a){return vG(a,M(["Octal escape sequence must be in range [0, 377]."]))}
function EG(a,b){b=function(c){return function f(e){return new Jg(null,function(){for(var h=e;;)if(h=E(h)){if(If(h)){var k=ae(h),m=K(k),n=Ng(m);a:for(var r=0;;)if(r<m){var u=x(k,r),w=P(u,0,null);1<P(u,1,null)&&n.add(w);r+=1}else{k=!0;break a}return k?Qg(Sg(n),f(be(h))):Qg(Sg(n),null)}n=H(h);k=P(n,0,null);if(1<P(n,1,null))return hf(k,f(Fe(h)));h=Fe(h)}else return null},null,null)}(Kk(c))}(b);return jh(t,a,1<K(b)?"s":null,": ",Nh(1,Vh.Li(Rh(", "),b)))}
function FG(a,b,c){vG(a,M([EG([Nb(Ig(b))," literal contains duplicate key"].join(""),c)]))};function GG(a){for(var b=a.Fd(null);;)if(aG.Mi?aG.Mi(b):aG.call(null,b))b=a.Fd(null);else return b}var HG=/^([-+]?)(?:(0)|([1-9][0-9]*)|0[xX]([0-9A-Fa-f]+)|0([0-7]+)|([1-9][0-9]?)[rR]([0-9A-Za-z]+)|0[0-9]+)(N)?$/,IG=/([-+]?[0-9]+)\/([0-9]+)/,JG=/([-+]?[0-9]+(\.[0-9]*)?([eE][-+]?[0-9]+)?)(M)?/;function KG(a,b){a=Ok(a,b);return P(a,0,null)===b}
function LG(a){if(KG(HG,a)){var b=Yf(Ok(HG,a));if(null!=(b.Mi?b.Mi(2):b.call(null,2)))a=0;else{a="-"===(b.Mi?b.Mi(1):b.call(null,1));b=null!=(b.Mi?b.Mi(3):b.call(null,3))?new W(null,2,5,Y,[b.Mi?b.Mi(3):b.call(null,3),10],null):null!=(b.Mi?b.Mi(4):b.call(null,4))?new W(null,2,5,Y,[b.Mi?b.Mi(4):b.call(null,4),16],null):null!=(b.Mi?b.Mi(5):b.call(null,5))?new W(null,2,5,Y,[b.Mi?b.Mi(5):b.call(null,5),8],null):null!=(b.Mi?b.Mi(7):b.call(null,7))?new W(null,2,5,Y,[b.Mi?b.Mi(7):b.call(null,7),parseInt(b.Mi?
b.Mi(6):b.call(null,6))],null):new W(null,2,5,Y,[null,null],null);var c=b.Mi?b.Mi(0):b.call(null,0);null==c?a=null:(b=parseInt(c,b.Mi?b.Mi(1):b.call(null,1)),a=a?-1*b:b,a=q(isNaN(a))?null:a)}}else KG(JG,a)?(b=Yf(Ok(JG,a)),a=null!=(b.Mi?b.Mi(4):b.call(null,4))?parseFloat(b.Mi?b.Mi(1):b.call(null,1)):parseFloat(a)):KG(IG,a)?(b=Yf(Ok(IG,a)),a=b.Mi?b.Mi(1):b.call(null,1),b=b.Mi?b.Mi(2):b.call(null,2),a=q(Ok(/^\+/,a))?yg.Li(a,1):a,a=parseInt(a)/parseInt(b)):a=null;return a}
function MG(a){if(""===a||!0===/:$/.test(a)||!0===/^::/.test(a))return null;var b=a.indexOf("/"),c=0<b?yg.Ni(a,0,b):null;if(null!=c){b+=1;if(b===K(a))return null;a=yg.Li(a,b);return bG(bf(a,0))||""===a||!1!==/:$/.test(c)||"/"!==a&&-1!==a.indexOf("/")?null:new W(null,2,5,Y,[c,a],null)}return"/"===a||-1===a.indexOf("/")?new W(null,2,5,Y,[null,a],null):null}
var SG=function SG(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new De(c.slice(1),0,null):null;return SG.Pi(arguments[0],c)};SG.Pi=function(a){for(;;){var b=a.Fd(null);if("\n"===b||"\n"===b||null==b)break}return a};SG.$=1;SG.ca=function(a){var b=H(a);a=J(a);return this.Pi(b,a)};
function TG(){return function(){function a(c,d){var e=null;if(1<arguments.length){e=0;for(var f=Array(arguments.length-1);e<f.length;)f[e]=arguments[e+1],++e;e=new De(f,0,null)}return b.call(this,c,e)}function b(c){return vG(c,M(["Unreadable form"]))}a.$=1;a.ca=function(c){var d=H(c);c=Fe(c);return b(d,c)};a.Pi=b;return a}()};new dc;function UG(a){return"#"!==a?"'"!==a?":"!==a?VG.Mi?VG.Mi(a):VG.call(null,a):!1:!1:!1}function WG(a){return"@"===a||"`"===a||"~"===a}function XG(a,b,c,d){if(yc(c))return xG(a,M(["Unexpected EOF while reading start of ",Ig(b),"."]));if(q(q(d)?WG(c):d))return AG(a,b,c);d=new dc;for(gG(a,c);;){if(aG(c)||UG(c)||null==c)return t.Mi(d);if(WG(c))return AG(a,b,c);d.append(eG(a));c=fG(a)}}
function YG(a,b,c){b=eG(a);if(q(b)){var d=ZG.Mi?ZG.Mi(b):ZG.call(null,b);if(q(d))return d.Ni?d.Ni(a,b,c):d.call(null,a,b,c);gG(a,b);return $G.Ni?$G.Ni(a,b,c):$G.call(null,a,b,c)}return xG(a,M(["Unexpected EOF while reading dispatch character."]))}function aH(a,b){return vG(a,M(["Unmatched delimiter ",b,"."]))}
function bH(a,b,c){b=1+b;if(K(a)!==b)throw wG(null,M(["Invalid unicode literal: \\",a,"."]));for(var d=1,e=0;;){if(d===b)return String.fromCharCode(e);var f=dG(bf(a,d),c);if(-1===f)return c=bf(a,d),wG(null,M(["Invalid digit ",c," in unicode character \\",a,"."]));e=f+e*c;d+=1}}
function cH(a,b,c,d,e){for(var f=1,h=dG(b,c);;){if(-1===h)return CG(a,b);if(f!==d){var k=fG(a);var m=aG(k);m||(m=VG.Mi?VG.Mi(k):VG.call(null,k),m=q(m)?m:null==k);if(q(m))return q(e)?wG(a,M(["Invalid unicode literal. Unicode literals should be ",d,"characters long.  ","value suppled is ",f,"characters long."])):String.fromCharCode(h);m=dG(k,c);eG(a);if(-1===m)return CG(a,k);h=m+h*c;f+=1}else return String.fromCharCode(h)}}
function dH(a){var b=eG(a);if(null!=b){b=UG(b)||WG(b)||aG(b)?t.Mi(b):XG(a,Wv,b,!1);var c=b.length;if(1===c)return bf(b,0);if("newline"===b)return"\n";if("space"===b)return" ";if("tab"===b)return"\t";if("backspace"===b)return"\b";if("formfeed"===b)return"\f";if("return"===b)return"\r";if(q(0==b.lastIndexOf("u",0)))return b=bH(b,4,16),c=b.charCodeAt(),55295<c&&57344>c?(b=c.toString(16),a=vG(a,M(["Invalid character literal \\u",b,"."]))):a=b,a;if(q(0==b.lastIndexOf("o",0))){--c;if(3<c)return vG(a,M(["Invalid octal escape sequence in a character literal:",
b,". Octal escape sequences must be 3 or fewer digits."]));b=bH(b,c,8);return 255<(b|0)?DG(a):b}return vG(a,M(["Unsupported character: ",b,"."]))}return xG(a,M(["Unexpected EOF while reading character."]))}function eH(a){return mG(a)?new W(null,2,5,Y,[hG(a),(iG(a)|0)-1|0],null):null}
function fH(a,b,c,d){var e=eH(c),f=P(e,0,null);e=P(e,1,null);b=null==b?null:rg(b);for(var h=Td(qf);;){var k=GG(c);if(!q(k)){var m=a,n=f,r=e,u=K(h);xG(c,M(["Unexpected EOF while reading ",q(u)?["item ",t.Mi(u)," of "].join(""):null,Ig(m),q(n)?[", starting at line ",t.Mi(n)," and column ",t.Mi(r)].join(""):null,"."]))}if(D.Li(b,null==k?null:rg(k)))return Vd(h);m=VG.Mi?VG.Mi(k):VG.call(null,k);q(m)?(k=m.Ni?m.Ni(c,k,d):m.call(null,c,k,d),h=k!==c?Zg.Li(h,k):h):(gG(c,k),k=gH?gH(c,!0,null,d):hH.call(null,
c,!0,null,d),h=k!==c?Zg.Li(h,k):h)}}function iH(a,b,c){a=fH(kA,")",a,c);return Bf(a)?Ge:gh(Cg,a)}function jH(a,b,c){return fH(Ww,"]",a,c)}function kH(a,b,c){var d=eH(a);b=P(d,0,null);d=P(d,1,null);c=fH(Zx,"}",a,c);var e=K(c),f=Hk(2,c),h=tk(f);!th(e)&&yG(a,b,d,c);D.Li(K(h),K(f))||FG(a,Zx,f);if(e<=2*fj)a=Wf(c),a=new p(null,a.length/2,a,null);else a:for(a=Wf(c),b=a.length,d=0,e=Td(gj);;)if(d<b)c=d+2,e=Wd(e,a[d],a[d+1]),d=c;else{a=Vd(e);break a}return a}
function lH(a,b){for(var c=function(){var h=new dc;h.append(b);return h}(),d=eG(a);;){if(q(function(){var h=aG(d);if(h)return h;h=VG.Mi?VG.Mi(d):VG.call(null,d);return q(h)?h:null==d}())){var e=t.Mi(c);gG(a,d);var f=LG(e);return q(f)?f:vG(a,M(["Invalid number: ",e,"."]))}e=function(){var h=c;h.append(d);return h}();f=eG(a);c=e;d=f}}
function mH(a){var b=eG(a);switch(b){case "t":return"\t";case "r":return"\r";case "n":return"\n";case "\\":return"\\";case '"':return'"';case "b":return"\b";case "f":return"\f";case "u":return b=eG(a),-1===parseInt(b|0,16)?vG(a,M(["Invalid unicode escape: \\u",b,"."])):cH(a,b,16,4,!0);default:return bG(b)?(b=cH(a,b,8,3,!1),255<(b|0)?DG(a):b):vG(a,M(["Unsupported escape character: \\",b,"."]))}}
function nH(a){for(var b=new dc,c=eG(a);;){var d=c;if(D.Li(null,d))return BG(a,M(['"',b]));if(D.Li("\\",d)){d=function(){var f=b;f.append(mH(a));return f}();var e=eG(a);b=d;c=e}else{if(D.Li('"',d))return t.Mi(b);d=function(){var f=b;f.append(c);return f}();e=eG(a);b=d;c=e}}}
function oH(a,b){b=XG(a,Dw,b,!0);if(q(b))switch(b){case "nil":return null;case "true":return!0;case "false":return!1;case "/":return zo;default:var c=MG(b);c=q(c)?ze.Li(c.Mi?c.Mi(0):c.call(null,0),c.Mi?c.Mi(1):c.call(null,1)):null;return q(c)?c:zG(a,Dw,b)}else return null}
function pH(a){var b=eG(a);if(aG(b))return vG(a,M(["A single colon is not a valid keyword."]));b=XG(a,yB,b,!0);var c=MG(b);if(q(q(c)?-1===b.indexOf("::"):c)){var d=c.Mi?c.Mi(0):c.call(null,0);c=c.Mi?c.Mi(1):c.call(null,1);return":"===bf(b,0)?zG(a,yB,b):Hg.Li(d,c)}return zG(a,yB,b)}
function qH(a,b,c){b=gH?gH(a,!0,null,c):hH.call(null,a,!0,null,c);b=b instanceof C?uf([b,!0]):b instanceof z?new p(null,1,[Yu,b],null):"string"===typeof b?new p(null,1,[Yu,b],null):b;Ff(b)||vG(a,M(["Metadata cannot be ",oG.Li(!1,b),". Metadata must be a Symbol, Keyword, String or Map."]));c=gH?gH(a,!0,null,c):hH.call(null,a,!0,null,c);return null!=c&&(c.Si&131072||l===c.je)?xf(c,lk.Pi(M([yf(c),b]))):vG(a,M(["Metadata can not be applied to ",oG.Li(!1,c),". ","Metadata can only be applied to IMetas."]))}
function rH(a,b,c){b=fH(ip,"}",a,c);c=tk(b);D.Li(K(b),K(c))||FG(a,ip,b);return c}function sH(a){gH?gH(a,!0,null,!0):hH.call(null,a,!0,null,!0);return a}
function tH(a,b,c){b=eG(a);b=XG(a,Pu,b,!0);var d=null==b?null:MG(b);if(null==d)var e=null;else e=P(d,0,null),d=P(d,1,null),e=q(e)?null:d;return q(e)?"{"===GG(a)?(c=fH(Pu,"}",a,c),!th(K(c))&&yG(a,null,null,c),b=cG(t.Mi(e),Hk(2,c)),c=Hk(2,Fe(c)),D.Li(K(tk(b)),K(b))||FG(a,Pu,b),wk(b,c)):vG(a,M(["Namespaced map with namespace ",b," does not specify a map."])):vG(a,M(["Invalid value used as namespace in namespaced map: ",b,"."]))}
function uH(a,b,c){b=gH?gH(a,!0,null,c):hH.call(null,a,!0,null,c);return D.Li(nB,b)?Number.NaN:D.Li(Wr,b)?Number.NEGATIVE_INFINITY:D.Li(zz,b)?Number.POSITIVE_INFINITY:vG(a,M([["Invalid token: ##",t.Mi(b)].join("")]))}function VG(a){switch(a){case '"':return nH;case ":":return pH;case ";":return SG;case "^":return qH;case "(":return iH;case ")":return aH;case "[":return jH;case "]":return aH;case "{":return kH;case "}":return aH;case "\\":return dH;case "#":return YG;default:return null}}
function ZG(a){switch(a){case "^":return qH;case "{":return rH;case "\x3c":return TG();case "!":return SG;case "_":return sH;case ":":return tH;case "#":return uH;default:return null}}
function $G(a,b,c){b=gH?gH(a,!0,null,c):hH.call(null,a,!0,null,c);var d=gH?gH(a,!0,null,c):hH.call(null,a,!0,null,c);b instanceof z||vG(a,M(["Invalid reader tag: ",oG.Li(!1,"Reader tag must be a symbol"),". Reader tags must be symbols."]));var e=B.Li(ym.Mi(c),b);e=q(e)?e:V.Mi?V.Mi(b):V.call(null,b);if(q(e))return e.Mi?e.Mi(d):e.call(null,d);c=Xl.Mi(c);return q(c)?c.Li?c.Li(b,d):c.call(null,b,d):vG(a,M(["No reader function for tag ",oG.Li(!1,b),"."]))}
function hH(a){switch(arguments.length){case 1:return vH(V,arguments[0]);case 2:return vH(arguments[0],arguments[1]);case 4:return gH(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length)].join(""));}}function vH(a,b){a=null!=a&&(a.Si&64||l===a.va)?gh(hk,a):a;var c=B.Li(a,lx),d=!Pf(a,lx);return gH(b,d,c,a)}
function gH(a,b,c,d){try{for(;;){var e=eG(a);if(!aG(e)){if(null==e){if(q(b)){b=a;var f=q(null)?xG(b,M(["EOF while reading, starting at line ",null,"."])):xG(b,M(["EOF while reading."]))}else f=c;return f}if(bG(e)||("+"===e||"-"===e)&&bG(a.se(null)))return lH(a,e);var h=VG(e);if(q(h)){var k=h.Ni?h.Ni(a,e,d):h.call(null,a,e,d);if(k!==a)return k}else return oH(a,e)}}}catch(m){if(m instanceof Error){f=m;if(f instanceof cm){b=f instanceof cm?f.data:null;if(D.Li(ts,aq.Mi(b)))throw f;a=lk.Pi(M([new p(null,
1,[aq,ts],null),b,mG(a)?new p(null,3,[zm,hG(a),qA,iG(a),ut,jG(a)],null):null]));throw new cm(f.message,a,f);}a=lk.Pi(M([new p(null,1,[aq,ts],null),mG(a)?new p(null,3,[zm,hG(a),qA,iG(a),ut,jG(a)],null):null]));throw new cm(f.message,a,f);}throw m;}}function wH(a,b){if(q(q(b)?lh.Li(b,""):b)){b=new kG(b,K(b));a:{var c=Array(1);if(Lf(null))for(var d=0,e=E(null);;)if(e&&1>d)c[d]=H(e),d+=1,e=J(e);else break a;else for(d=0;;)if(1>d)c[d]=null,d+=1;else break}a=vH(a,new lG(b,c))}else a=null;return a};var xH=function(){var a=new W(null,13,5,Y,[null,31,28,31,30,31,30,31,31,30,31,30,31],null),b=new W(null,13,5,Y,[null,31,29,31,30,31,30,31,31,30,31,30,31],null);return function(c,d){return B.Li(q(d)?b:a,c)}}(),yH=/(\d\d\d\d)(?:-(\d\d)(?:-(\d\d)(?:[T](\d\d)(?::(\d\d)(?::(\d\d)(?:[.](\d+))?)?)?)?)?)?(?:[Z]|([-+])(\d\d):(\d\d))?/;function zH(a){a=parseInt(a,10);return yc(isNaN(a))?a:null}
function AH(a,b,c,d){if(!(a<=b&&b<=c))throw Error([t.Mi(d)," Failed:  ",t.Mi(a),"\x3c\x3d",t.Mi(b),"\x3c\x3d",t.Mi(c)].join(""));return b}
function BH(a){var b=Nk(yH,a);P(b,0,null);var c=P(b,1,null),d=P(b,2,null),e=P(b,3,null),f=P(b,4,null),h=P(b,5,null),k=P(b,6,null),m=P(b,7,null),n=P(b,8,null),r=P(b,9,null),u=P(b,10,null);if(yc(b))throw Error(["Unrecognized date/time syntax: ",t.Mi(a)].join(""));a=zH(c);b=function(){var F=zH(d);return q(F)?F:1}();c=function(){var F=zH(e);return q(F)?F:1}();var w=function(){var F=zH(f);return q(F)?F:0}(),A=function(){var F=zH(h);return q(F)?F:0}(),G=function(){var F=zH(k);return q(F)?F:0}(),I=function(){a:if(D.Li(3,
K(m)))var F=m;else if(3<K(m))F=yg.Ni(m,0,3);else for(F=new dc(m);;)if(3>F.getLength())F=F.append("0");else{F=F.toString();break a}F=zH(F);return q(F)?F:0}();n=(D.Li(n,"-")?-1:1)*(60*function(){var F=zH(r);return q(F)?F:0}()+function(){var F=zH(u);return q(F)?F:0}());return new W(null,8,5,Y,[a,AH(1,b,12,"timestamp month field must be in range 1..12"),AH(1,c,xH(b,0===tg(a,4)&&(0!==tg(a,100)||0===tg(a,400))),"timestamp day field must be in range 1..last day in month"),AH(0,w,23,"timestamp hour field must be in range 0..23"),
AH(0,A,59,"timestamp minute field must be in range 0..59"),AH(0,G,D.Li(A,59)?60:59,"timestamp second field must be in range 0..60"),AH(0,I,999,"timestamp millisecond field must be in range 0..999"),n],null)}
var CH=Ch(null),DH=Ch(lk.Pi(M([new p(null,4,[Ry,function(a){if("string"===typeof a){var b=BH(a);if(q(b)){a=P(b,0,null);var c=P(b,1,null),d=P(b,2,null),e=P(b,3,null),f=P(b,4,null),h=P(b,5,null),k=P(b,6,null);b=P(b,7,null);b=new Date(Date.UTC(a,c-1,d,e,f,h,k)-6E4*b)}else throw Error(["Unrecognized date/time syntax: ",t.Mi(a)].join(""));return b}throw Error("Instance literal expects a string for its timestamp.");},Lt,function(a){if("string"===typeof a)return new am(a.toLowerCase());throw Error("UUID literal expects a string as its representation.");
},Pt,function(a){if(Hf(a))return ai.Li(Ti,a);throw Error("Queue literal expects a vector for its elements.");},ox,function(a){if(Hf(a)){var b=[];a=E(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e);b.push(f);e+=1}else if(a=E(a))c=a,If(c)?(a=ae(c),e=be(c),c=a,d=K(a),a=e):(a=H(c),b.push(a),a=J(c),c=null,d=0),e=0;else break;return b}if(Ff(a)){b={};a=E(a);c=null;for(e=d=0;;)if(e<d){var h=c.xa(null,e);f=P(h,0,null);h=P(h,1,null);f=Ig(f);b[f]=h;e+=1}else if(a=E(a))If(a)?(d=ae(a),a=be(a),c=d,d=K(d)):
(d=H(a),c=P(d,0,null),d=P(d,1,null),c=Ig(c),b[c]=d,a=J(a),c=null,d=0),e=0;else break;return b}throw Error("JS literal expects a vector or map containing only string or unqualified keyword keys");}],null),V])));function EH(a,b){var c=hh(xk,a,b);return hf(c,$h(function(d){return c===d},b))}function FH(a,b){return K(a)<K(b)?v.Ni(pf,b,a):v.Ni(pf,a,b)}var GH=function GH(a){switch(arguments.length){case 1:return GH.Mi(arguments[0]);case 2:return GH.Li(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return GH.Pi(arguments[0],arguments[1],c)}};GH.Mi=function(a){return a};
GH.Li=function(a,b){for(;;)if(K(b)<K(a)){var c=a;a=b;b=c}else return v.Ni(function(d,e){return function(f,h){return Pf(e,h)?f:Af.Li(f,h)}}(a,b),a,a)};GH.Pi=function(a,b,c){a=EH(function(d){return-K(d)},pf.Pi(c,b,M([a])));return v.Ni(GH,H(a),Fe(a))};GH.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.Pi(b,a,c)};GH.$=2;
var HH=function HH(a){switch(arguments.length){case 1:return HH.Mi(arguments[0]);case 2:return HH.Li(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return HH.Pi(arguments[0],arguments[1],c)}};HH.Mi=function(a){return a};HH.Li=function(a,b){return K(a)<K(b)?v.Ni(function(c,d){return Pf(b,d)?Af.Li(c,d):c},a,a):v.Ni(Af,a,b)};HH.Pi=function(a,b,c){return v.Ni(HH,a,pf.Li(c,b))};
HH.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.Pi(b,a,c)};HH.$=2;function IH(a){var b=new p(null,2,[Cy,cx,Kp,nn],null);return v.Ni(function(c,d){var e=P(d,0,null);d=P(d,1,null);return Pf(a,e)?Q.Ni(c,d,B.Li(a,e)):c},hh(R,a,cj(b)),b)}function JH(a,b){return K(a)<=K(b)&&rh(function(c){return Pf(b,c)},a)}function KH(a,b){return K(a)>=K(b)&&rh(function(c){return Pf(a,c)},b)};function LH(a){return v.Ni(function(b,c){b.push(c);return b},[],a)}function MH(a){return a instanceof Array};var NH=H(Zh(function(a){return 0!=(32&1<<a)},Gk.Ni(31,-1,-1)))+1,OH=(1<<NH)-1;function PH(a,b,c,d){for(var e=0,f=sg(c);;)if(e<=f){c=e+f>>>1;var h=b[c];0>(a.Li?a.Li(h,d):a.call(null,h,d))?e=c+1:f=c-1}else return e}function QH(a,b,c,d){for(var e=0,f=sg(c);;)if(e<=f){c=e+f>>>1;var h=b[c];0<(a.Li?a.Li(h,d):a.call(null,h,d))?f=c-1:e=c+1}else return e}function RH(a,b,c){var d=b.length,e=PH(a,b,d-1,c);if(d=e<d)b=b[e],d=0===(a.Li?a.Li(b,c):a.call(null,b,c));return d?e:-1}
function SH(a,b,c){var d=b.length;a=PH(a,b,d-1,c);return a===d?-1:a}function TH(a,b,c,d,e,f){var h=f.length,k=d-b,m=k+h,n=Array(k+h+(c-e));d-=b;for(var r=0;;)if(r<d)n[r+0]=a[r+b],r+=1;else break;b=h-0;for(h=0;;)if(h<b)n[h+k]=f[h+0],h+=1;else break;c-=e;for(f=0;;)if(f<c)n[f+m]=a[f+e],f+=1;else break;return n}function UH(a,b,c,d){return TH(a,0,a.length,b,c,d)}
function VH(a,b){var c=a.length,d=b.length,e=c+d,f=e>>>1,h=Array(f);e=Array(e-f);if(c<=f){for(var k=c-0,m=0;;)if(m<k)h[m+0]=a[m+0],m+=1;else break;a=f-c;for(k=0;;)if(k<a)h[k+c]=b[k+0],k+=1;else break;d-=f-c;for(a=0;;)if(a<d)e[a+0]=b[a+(f-c)],a+=1;else break}else{k=f-0;for(m=0;;)if(m<k)h[m+0]=a[m+0],m+=1;else break;k=c-f;for(m=0;;)if(m<k)e[m+0]=a[m+f],m+=1;else break;d-=0;for(a=0;;)if(a<d)e[a+(c-f)]=b[a+0],a+=1;else break}return[h,e]}
function WH(a,b,c,d,e,f){d-=c;if(d===f-0)for(f=0;;){if(f===d)return!0;var h=b[f+c],k=e[f+0];if(0!==(a.Li?a.Li(h,k):a.call(null,h,k)))return!1;f+=1}else return!1}function XH(a,b){return q(a)?q(b)?[a,b]:[a]:[b]}function YH(a,b,c){return q(a)?q(b)?q(c)?[a,b,c]:[a,b]:q(c)?[a,c]:[a]:q(b)?q(c)?[b,c]:[b]:[c]}
function ZH(a){if(null!=a&&null!=a.Kf)a=a.Kf(a);else{var b=ZH[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=ZH._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("INode.node-lim-key",a);}return a}function $H(a){if(null!=a&&null!=a.Fg)a=a.keys.length;else{var b=$H[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=$H._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("INode.node-len",a);}return a}
function aI(a,b){if(null!=a&&null!=a.Mf)a=a.Mf(a,b);else{var c=aI[pa(null==a?null:a)];if(null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else if(c=aI._,null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else throw Cc("INode.node-merge",a);}return a}function bI(a,b){if(null!=a&&null!=a.Nf)a=a.Nf(a,b);else{var c=bI[pa(null==a?null:a)];if(null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else if(c=bI._,null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else throw Cc("INode.node-merge-n-split",a);}return a}
function cI(a,b,c){if(null!=a&&null!=a.Lf)a=a.Lf(a,b,c);else{var d=cI[pa(null==a?null:a)];if(null!=d)a=d.Ni?d.Ni(a,b,c):d.call(null,a,b,c);else if(d=cI._,null!=d)a=d.Ni?d.Ni(a,b,c):d.call(null,a,b,c);else throw Cc("INode.node-lookup",a);}return a}function dI(a,b,c){if(null!=a&&null!=a.If)a=a.If(a,b,c);else{var d=dI[pa(null==a?null:a)];if(null!=d)a=d.Ni?d.Ni(a,b,c):d.call(null,a,b,c);else if(d=dI._,null!=d)a=d.Ni?d.Ni(a,b,c):d.call(null,a,b,c);else throw Cc("INode.node-conj",a);}return a}
function eI(a,b,c,d,e,f){if(null!=a&&null!=a.Jf)a=a.Jf(a,b,c,d,e,f);else{var h=eI[pa(null==a?null:a)];if(null!=h)a=h.Za?h.Za(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f);else if(h=eI._,null!=h)a=h.Za?h.Za(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f);else throw Cc("INode.node-disj",a);}return a}
function fI(a,b,c,d){if(q(b))return[a];if(16<$H(a))return YH(c,a,d);if(q(q(c)?16>=$H(c):c))return XH(aI(c,a),d);if(q(q(d)?16>=$H(d):d))return XH(c,aI(a,d));if(q(q(c)?null==d||$H(c)<$H(d):c))return a=bI(c,a),YH(a[0],a[1],d);a=bI(a,d);return YH(c,a[0],a[1])}function gI(a,b){this.keys=a;this.kb=b}g=gI.prototype;g.Kf=function(){var a=this.keys;return a[a.length-1]};g.Fg=function(){return this.keys.length};g.Mf=function(a,b){return new gI(this.keys.concat(b.keys),this.kb.concat(b.kb))};
g.Nf=function(a,b){a=VH(this.keys,b.keys);b=VH(this.kb,b.kb);return XH(new gI(a[0],b[0]),new gI(a[1],b[1]))};g.Lf=function(a,b,c){a=SH(b,this.keys,c);return-1===a?null:cI(this.kb[a],b,c)};g.If=function(a,b,c){a=PH(b,this.keys,this.keys.length-2,c);c=dI(this.kb[a],b,c);if(q(c)){var d=this.keys,e=a+1,f=c.map(ZH);b=WH(b,d,a,e,f,f.length)?d:UH(d,a,e,f);a=UH(this.kb,a,a+1,c);if(32>=a.length)return[new gI(b,a)];c=a.length>>>1;return[new gI(b.slice(0,c),a.slice(0,c)),new gI(b.slice(c),a.slice(c))]}return null};
g.Jf=function(a,b,c,d,e,f){var h=SH(b,this.keys,c);if(-1===h)return null;a=0<=h-1?this.kb[h-1]:null;var k=h+1<this.kb.length?this.kb[h+1]:null;c=eI(this.kb[h],b,c,!1,a,k);if(q(c)){a=q(a)?h-1:h;h=q(k)?2+h:1+h;k=this.keys;var m=c.map(ZH);b=WH(b,k,a,h,m,m.length)?k:UH(k,a,h,m);c=UH(this.kb,a,h,c);return fI(new gI(b,c),d,e,f)}return null};function hI(a){this.keys=a}g=hI.prototype;g.Kf=function(){var a=this.keys;return a[a.length-1]};g.Fg=function(){return this.keys.length};g.Mf=function(a,b){return new hI(this.keys.concat(b.keys))};
g.Nf=function(a,b){a=VH(this.keys,b.keys);return XH(new hI(a[0]),new hI(a[1]))};g.Lf=function(a,b,c){a=RH(b,this.keys,c);return-1===a?null:this.keys[a]};g.If=function(a,b,c){a=PH(b,this.keys,this.keys.length-1,c);var d=this.keys.length,e;if(e=a<d)e=this.keys[a],e=0===(b.Li?b.Li(c,e):b.call(null,c,e));return e?null:32===d?(b=d+1>>>1,a>b?[new hI(this.keys.slice(0,b)),new hI(TH(this.keys,b,d,a,a,[c]))]:[new hI(TH(this.keys,0,b,a,a,[c])),new hI(this.keys.slice(b,d))]):[new hI(UH(this.keys,a,a,[c]))]};
g.Jf=function(a,b,c,d,e,f){a=RH(b,this.keys,c);if(-1===a)return null;a=UH(this.keys,a,a+1,[]);return fI(new hI(a),d,e,f)};function iI(a,b,c,d,e,f){this.root=a;this.shift=b;this.Yi=c;this.nc=d;this.meta=e;this._hash=f;this.Si=2297303311;this.Xi=8332}g=iI.prototype;g.toString=function(){return le(this)};g.ka=function(a,b){return cI(this.root,this.nc,b)};g.Wi=function(a,b,c){a=cI(this.root,this.nc,b);return q(a)?a:c};g.fa=function(a,b,c){return Z(b,Zk,"#{"," ","}",c,E(this))};g.da=function(){return this.meta};
g.ha=function(){return this.Yi};g.vc=function(){return Id(jI.Mi?jI.Mi(this):jI.call(null,this))};g.ia=function(){var a=this._hash;return null!=a?a:this._hash=a=Me(this)};g.aa=function(a,b){var c=this;return Df(b)&&this.Yi===K(b)&&rh(function(d){return Pf(c,d)},b)};g.vd=function(){return this};g.Ka=function(){return new iI(new hI([]),0,0,this.nc,this.meta,null)};g.uf=function(a,b){return kI.Ni?kI.Ni(this,b,this.nc):kI.call(null,this,b,this.nc)};
g.Ta=function(a,b){a=jI.Mi?jI.Mi(this):jI.call(null,this);return q(a)?td(a,b):b.Ui?b.Ui():b.call(null)};g.Ua=function(a,b,c){a=jI.Mi?jI.Mi(this):jI.call(null,this);return q(a)?td(a,b,c):c};g.wd=function(a,b){return lI.Ni?lI.Ni(this,b,this.nc):lI.call(null,this,b,this.nc)};g.Ed=function(){return this};g.ga=function(){return jI.Mi?jI.Mi(this):jI.call(null,this)};g.ea=function(a,b){return new iI(this.root,this.shift,this.Yi,this.nc,b,this._hash)};
g.ja=function(a,b){return lI.Ni?lI.Ni(this,b,this.nc):lI.call(null,this,b,this.nc)};g.call=function(a){switch(arguments.length-1){case 1:return this.Mi(arguments[1]);case 2:return this.Li(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.Mi=function(a){return this.ka(null,a)};g.Li=function(a,b){return this.Wi(null,a,b)};
function mI(a,b){var c=a.shift;for(a=a.root;;)if(0<c)a=a.kb[OH&b>>>c],c-=NH;else return a.keys}function nI(a,b,c,d){return new iI(b,c,d,a.nc,a.meta,null)}var oI=function oI(a,b,c){var e=OH&b>>>c;if(0<c){var f=a.kb[e],h=c-NH;b=oI.Ni?oI.Ni(f,b,h):oI.call(null,f,b,h);return-1===b?e+1<a.kb.length?0|e+1<<c:-1:b|e<<c}return e+1<a.keys.length?0|e+1<<0:-1};function pI(a,b){return oI(a.root,b,a.shift)}
function qI(a,b){for(var c=0;;)if(0<b)c|=a.kb.length-1<<b,b-=NH,a=a.kb,a=a[a.length-1];else return c|a.keys.length-1<<0}var rI=function rI(a,b,c){var e=OH&b>>>c;if(0<c){var f=c-NH,h=a.kb[e];b=rI.Ni?rI.Ni(h,b,f):rI.call(null,h,b,f);return-1===b?0<=e-1?(--e,qI(a.kb[e],f)|e<<c):-1:b|e<<c}return 0<=e-1?0|e-1<<0:-1};function sI(a,b){return rI(a.root,b,a.shift)}function jI(a){if(0<$H(a.root)){var b=qI(a.root,a.shift)+1;return tI.Ni?tI.Ni(a,0,b):tI.call(null,a,0,b)}return null}
function uI(a,b,c){this.Ti=a;this.off=b;this.end=c;this.Si=524306;this.Xi=0}g=uI.prototype;g.ha=function(){return this.end-this.off};g.xa=function(a,b){return this.Ti[this.off+b]};g.Sa=function(a,b,c){return 0<=b&&b<this.end-this.off?this.Ti[this.off+b]:c};g.ee=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Mg(this.Ti,this.off+1,this.end)};g.Ta=function(a,b){return this.off===this.end?b.Ui?b.Ui():b.call(null):td(this.ee(null),b,this.Ti[this.off])};
g.Ua=function(a,b,c){for(a=this.off;;)if(a<this.end){var d=this.Ti[a];c=b.Li?b.Li(c,d):b.call(null,c,d);if(Re(c))return y(c);a+=1}else return c};function vI(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.Si=2309488832;this.Xi=1536}g=vI.prototype;g.toString=function(){return le(this)};g.fa=function(a,b,c){return Z(b,Zk,"("," ",")",c,E(this))};
g.Oa=function(){if(q(this.keys)){if(this.idx+1<this.keys.length)return this.left+1<this.right?new vI(this.set,this.left+1,this.right,this.keys,this.idx+1):null;var a=pI(this.set,this.left);return lh.Li(-1,a)&&a<this.right?this.bf(a,this.right):null}return null};g.vc=function(){if(q(this.keys)){var a=this.set,b=sI(this.set,this.left),c=sI(this.set,this.right);return wI.Ni?wI.Ni(a,b,c):wI.call(null,a,b,c)}return null};g.aa=function(a,b){return gf(this,b)};
g.Ta=function(a,b){if(null==this.keys)return b.Ui?b.Ui():b.call(null);a=this.Va(null);var c=this.Oa(null);return null==c?a:td(c,b,a)};g.Ua=function(a,b,c){a=this.left;for(var d=this.keys,e=this.idx;;){if(null==d)return c;var f=d[e];c=b.Li?b.Li(c,f):b.call(null,c,f);if(Re(c))return y(c);if(e+1<d.length)if(a+1<this.right)e+=1,a+=1;else return c;else if(a=pI(this.set,a),-1!==a&&a<this.right)d=mI(this.set,a),e=OH&a>>>0;else return c}};g.Va=function(){return q(this.keys)?this.keys[this.idx]:null};
g.eb=function(){var a=this.Oa(null);return q(a)?a:Ge};g.ga=function(){return q(this.keys)?this:null};g.ge=function(){var a=D.Li(this.left|OH,this.right|OH)?this.right&OH:this.keys.length;return new uI(this.keys,this.idx,a)};g.Dd=function(){var a=this.fe();return q(a)?a:Ge};g.bf=function(a,b){return new vI(this.set,a,b,mI(this.set,a),OH&a>>>0)};g.fe=function(){var a=pI(this.set,this.left+(this.keys.length-this.idx-1));return lh.Li(-1,a)&&a<this.right?this.bf(a,this.right):null};
function tI(a,b,c){return new vI(a,b,c,mI(a,b),OH&b>>>0)}function xI(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.Si=2308964544;this.Xi=0}g=xI.prototype;g.toString=function(){return le(this)};g.fa=function(a,b,c){return Z(b,Zk,"("," ",")",c,E(this))};
g.Oa=function(){if(q(this.keys)){if(0<=this.idx-1)return this.right-1>this.left?new xI(this.set,this.left,this.right-1,this.keys,this.idx-1):null;var a=sI(this.set,this.right);return lh.Li(-1,a)&&a>this.left?this.bf(this.left,a):null}return null};g.vc=function(){if(q(this.keys)){var a=-1===this.left?0:pI(this.set,this.left),b=pI(this.set,this.right);return tI(this.set,a,-1===b?this.right+1:b)}return null};g.aa=function(a,b){return gf(this,b)};
g.Va=function(){return q(this.keys)?this.keys[this.idx]:null};g.eb=function(){var a=this.Oa(null);return q(a)?a:Ge};g.ga=function(){return q(this.keys)?this:null};g.bf=function(a,b){return new xI(this.set,a,b,mI(this.set,b),OH&b>>>0)};function wI(a,b,c){return new xI(a,b,c,mI(a,c),OH&c>>>0)}
function yI(a,b,c,d){a:for(var e=a.root,f=0,h=a.shift;;){var k=$H(e);if(0===h){var m=e.keys;m=PH(d,m,k-1,b);b=k===m?-1:f|m<<0;break a}m=e.keys;m=PH(d,m,k-2,b);f|=m<<h;h-=NH;e=e.kb[m]}if(0>b)return null;a:for(e=a.root,f=0,h=a.shift;;){m=$H(e);if(0===h){k=e.keys;m=QH(d,k,m-1,c);c=f|m<<0;break a}k=e.keys;m=QH(d,k,m-2,c);f|=m<<h;h-=NH;e=e.kb[m]}return c>b?new vI(a,b,c,mI(a,b),OH&b>>>0):null}
function zI(a,b){for(var c=b.length,d=0;;)if(d<c){var e=d;var f=b[d];f=a.Mi?a.Mi(f):a.call(null,f);b[e]=f;d+=1}else break;return b}function AI(a){var b=a.length,c=Td(qf);if(0<b)for(var d=0;;){var e=b-d;if(32>=e){Zg.Li(c,a.slice(d));break}else 40<=e?(Zg.Li(c,a.slice(d,d+24)),d+=24):(e>>>=1,Zg.Li(c,a.slice(d,d+e)),d+=e)}return Wf(Vd(c))}function lI(a,b,c){b=dI(a.root,c,b);return null==b?a:1===b.length?nI(a,b[0],a.shift,a.Yi+1):nI(a,new gI(b.map(ZH),b),a.shift+NH,a.Yi+1)}
function kI(a,b,c){b=eI(a.root,c,b,!0,null,null);if(null==b)return a;b=b[0];return b instanceof gI&&1===b.kb.length?nI(a,b.kb[0],a.shift-NH,a.Yi-1):nI(a,b,a.shift,a.Yi-1)}function BI(a,b,c){return yI(a,b,c,a.nc)}function CI(a){var b=DI.Vi(536870911,null,null,2147483647),c=DI.Vi(0,null,null,536870912);a=yI(a,c,b,a.nc);return null==a?null:Id(a)}
function EI(a,b){for(var c=zI(function(h){return new hI(h)},AI(b)),d=c,e=0;;){var f=K(d);switch(f){case 0:return new iI(new hI([]),0,0,a,null,null);case 1:return new iI(H(d),e,b.length,a,null,null);default:d=zI(function(){return function(h){return new gI(h.map(ZH),h)}}(d,e,f,c),AI(d)),e+=NH}}}function FI(a){return new iI(new hI([]),0,0,a,null,null)};var GI=Error;function HI(a){var b;if(b="string"!==typeof a)b=null==a,b||(b=(b=null!=a?a.Si&8388608||l===a.tf?!0:a.Si?!1:Ac(zd,a):Ac(zd,a))?b:wc(a)||"string"===typeof a),b=b||MH(a);return b}var II=yh(pf,qf),JI=yh(pf,sk);function KI(a,b,c){return H(v.Ni(function(d,e){var f=P(d,0,null);d=P(d,1,null);e=a.Ni?a.Ni(f,e,d):a.call(null,f,e,d);return Re(e)?Qe(new W(null,2,5,Y,[e,d],null)):new W(null,2,5,Y,[e,d+1],null)},new W(null,2,5,Y,[b,0],null),c))}function LI(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function MI(a){if(null!=a&&null!=a.Ma)a=a.Ma(a);else{var b=MI[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=MI._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("IDatom.datom-tx",a);}return a}function NI(a){if(null!=a&&null!=a.ec)a=a.ec(a);else{var b=NI[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=NI._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("IDatom.datom-added",a);}return a}
function OI(a,b,c,d,e){this.e=a;this.a=b;this.v=c;this.hf=d;this._hash=e;this.Si=2162164496;this.Xi=0}g=OI.prototype;g.Ma=function(){return 0<this.hf?this.hf:-this.hf};g.ec=function(){return 0<this.hf};g.ia=function(){return 0===this._hash?this._hash=PI.Mi?PI.Mi(this):PI.call(null,this):this._hash};g.aa=function(a,b){return b instanceof OI?QI.Li?QI.Li(this,b):QI.call(null,this,b):!1};g.ga=function(){return RI.Mi?RI.Mi(this):RI.call(null,this)};
g.ka=function(a,b){return SI.Ni?SI.Ni(this,b,null):SI.call(null,this,b,null)};g.Wi=function(a,b,c){return SI.Ni?SI.Ni(this,b,c):SI.call(null,this,b,c)};g.xa=function(a,b){return TI?TI(this,b):UI.call(null,this,b)};g.Sa=function(a,b,c){return VI?VI(this,b,c):UI.call(null,this,b,c)};g.ba=function(a,b,c){return WI.Ni?WI.Ni(this,b,c):WI.call(null,this,b,c)};g.fa=function(a,b,c){return Z(b,Zk,"#datascript/Datom ["," ","]",c,new W(null,5,5,Y,[this.e,this.a,this.v,this.Ma(null),this.ec(null)],null))};
Ha("datascript.db.Datom",OI);var DI=function DI(a){switch(arguments.length){case 3:return DI.Ni(arguments[0],arguments[1],arguments[2]);case 4:return DI.Vi(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return DI.la(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length)].join(""));}};DI.Ni=function(a,b,c){return new OI(a,b,c,536870912,0)};DI.Vi=function(a,b,c,d){return new OI(a,b,c,d,0)};
DI.la=function(a,b,c,d,e){return new OI(a,b,c,q(e)?d:-d,0)};DI.$=5;function XI(a){return a instanceof OI}function PI(a){return LI(LI(ve(a.e),ve(a.a)),ve(a.v))}function QI(a,b){return a.e===b.e&&D.Li(a.a,b.a)&&D.Li(a.v,b.v)}function RI(a){return new rf(null,a.e,new rf(null,a.a,new rf(null,a.v,new rf(null,a.Ma(null),new rf(null,a.ec(null),null,1,null),2,null),3,null),4,null),5,null)}
function SI(a,b,c){return D.Li(uw,b)?a.v:D.Li("e",b)?a.e:D.Li(Tx,b)?a.ec(null):D.Li("v",b)?a.v:D.Li(jw,b)?a.e:D.Li("a",b)?a.a:D.Li(Zo,b)?a.Ma(null):D.Li("added",b)?a.ec(null):D.Li("tx",b)?a.Ma(null):D.Li(nw,b)?a.a:c}function UI(a){switch(arguments.length){case 2:return TI(arguments[0],arguments[1]);case 3:return VI(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length)].join(""));}}
function TI(a,b){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.Ma(null);case 4:return a.ec(null);default:throw Error(["Datom/-nth: Index out of bounds: ",t.Mi(b)].join(""));}}function VI(a,b,c){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.Ma(null);case 4:return a.ec(null);default:return c}}
function WI(a,b,c){switch(b instanceof C?b.ma:null){case "e":return DI.la(c,a.a,a.v,a.Ma(null),a.ec(null));case "a":return DI.la(a.e,c,a.v,a.Ma(null),a.ec(null));case "v":return DI.la(a.e,a.a,c,a.Ma(null),a.ec(null));case "tx":return DI.la(a.e,a.a,a.v,c,a.ec(null));case "added":return DI.la(a.e,a.a,a.v,a.Ma(null),c);default:throw new GI(["invalid key for #datascript/Datom: ",t.Mi(b)].join(""));}}function YI(a,b){return null==a?0:null==b?0:Sf(a,b)}
function ZI(a,b){return D.Li(a,b)?0:(null!=a?a.Xi&2048||l===a.bd||(a.Xi?0:Ac(Yd,a)):Ac(Yd,a))?Zd(a,b):"string"!==typeof a&&!wc(a)&&!0!==a&&!1!==a||Bc(a)!==Bc(b)?ve(a)-ve(b):ab(a,b)}function $I(a,b){return null==a?0:null==b?0:ZI(a,b)}function aJ(a,b){var c=a.e-b.e;return 0===c?(c=YI(a.a,b.a),0===c?(c=$I(a.v,b.v),0===c?(a=a.Ma(null)-b.Ma(null),0===a?0:a):c):c):c}function bJ(a,b){var c=YI(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=$I(a.v,b.v),0===c?(a=a.Ma(null)-b.Ma(null),0===a?0:a):c):c):c}
function cJ(a,b){var c=YI(a.a,b.a);return 0===c?(c=$I(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.Ma(null)-b.Ma(null),0===a?0:a):c):c):c}function dJ(a,b){return a instanceof C?Zd(a,b):ab(a,b)}function eJ(a,b){var c=a.e-b.e;return 0===c?(c=dJ(a.a,b.a),0===c?(c=ZI(a.v,b.v),0===c?(a=a.Ma(null)-b.Ma(null),0===a?0:a):c):c):c}function fJ(a,b){var c=dJ(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=ZI(a.v,b.v),0===c?(a=a.Ma(null)-b.Ma(null),0===a?0:a):c):c):c}
function gJ(a,b){var c=dJ(a.a,b.a);return 0===c?(c=ZI(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.Ma(null)-b.Ma(null),0===a?0:a):c):c):c}function hJ(){}function iJ(a,b){if(null!=a&&null!=a.wg)a=a.wg(a,b);else{var c=iJ[pa(null==a?null:a)];if(null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else if(c=iJ._,null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else throw Cc("ISearch.-search",a);}return a}function jJ(a,b){return H(iJ(a,b))}
function kJ(a,b,c){if(null!=a&&null!=a.vg)a=a.vg(a,b,c);else{var d=kJ[pa(null==a?null:a)];if(null!=d)a=d.Ni?d.Ni(a,b,c):d.call(null,a,b,c);else if(d=kJ._,null!=d)a=d.Ni?d.Ni(a,b,c):d.call(null,a,b,c);else throw Cc("IIndexAccess.-datoms",a);}return a}function lJ(){}function mJ(a){if(null!=a&&null!=a.uh)a=a.xb;else{var b=mJ[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=mJ._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("IDB.-schema",a);}return a}
function nJ(a,b){if(null!=a&&null!=a.ug)a=a.ug(a,b);else{var c=nJ[pa(null==a?null:a)];if(null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else if(c=nJ._,null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else throw Cc("IDB.-attrs-by",a);}return a}function oJ(a,b,c,d,e,f,h,k,m,n,r){this.xb=a;this.qb=b;this.Tb=c;this.Ub=d;this.bc=e;this.cc=f;this.$b=h;this.hash=k;this.Qi=m;this.Oi=n;this.Ri=r;this.Si=2230716170;this.Xi=139264}g=oJ.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};
g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "schema":return this.xb;case "eavt":return this.qb;case "aevt":return this.Tb;case "avet":return this.Ub;case "max-eid":return this.bc;case "max-tx":return this.cc;case "rschema":return this.$b;case "hash":return this.hash;default:return B.Ni(this.Oi,b,c)}};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.db.DB{",", ","}",c,T.Li(new W(null,8,5,Y,[new W(null,2,5,Y,[Or,this.xb],null),new W(null,2,5,Y,[Wu,this.qb],null),new W(null,2,5,Y,[Cx,this.Tb],null),new W(null,2,5,Y,[Qm,this.Ub],null),new W(null,2,5,Y,[wx,this.bc],null),new W(null,2,5,Y,[Vy,this.cc],null),new W(null,2,5,Y,[wt,this.$b],null),new W(null,2,5,Y,[aA,this.hash],null)],null),this.Oi))};
g.na=function(){return new Xi(this,8,new W(null,8,5,Y,[Or,Wu,Cx,Qm,wx,Vy,wt,aA],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 8+K(this.Oi)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=-1515640948^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.xb,b.xb)&&D.Li(this.qb,b.qb)&&D.Li(this.Tb,b.Tb)&&D.Li(this.Ub,b.Ub)&&D.Li(this.bc,b.bc)&&D.Li(this.cc,b.cc)&&D.Li(this.$b,b.$b)&&D.Li(this.hash,b.hash)&&D.Li(this.Oi,b.Oi)};
g.wa=function(a,b){return Pf(new qk(null,new p(null,8,[Or,null,Vy,null,aA,null,Cx,null,Qm,null,wx,null,Wu,null,wt,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new oJ(this.xb,this.qb,this.Tb,this.Ub,this.bc,this.cc,this.$b,this.hash,this.Qi,mh(R.Li(this.Oi,b)),null)};
g.ba=function(a,b,c){return q(S.Li?S.Li(Or,b):S.call(null,Or,b))?new oJ(c,this.qb,this.Tb,this.Ub,this.bc,this.cc,this.$b,this.hash,this.Qi,this.Oi,null):q(S.Li?S.Li(Wu,b):S.call(null,Wu,b))?new oJ(this.xb,c,this.Tb,this.Ub,this.bc,this.cc,this.$b,this.hash,this.Qi,this.Oi,null):q(S.Li?S.Li(Cx,b):S.call(null,Cx,b))?new oJ(this.xb,this.qb,c,this.Ub,this.bc,this.cc,this.$b,this.hash,this.Qi,this.Oi,null):q(S.Li?S.Li(Qm,b):S.call(null,Qm,b))?new oJ(this.xb,this.qb,this.Tb,c,this.bc,this.cc,this.$b,this.hash,
this.Qi,this.Oi,null):q(S.Li?S.Li(wx,b):S.call(null,wx,b))?new oJ(this.xb,this.qb,this.Tb,this.Ub,c,this.cc,this.$b,this.hash,this.Qi,this.Oi,null):q(S.Li?S.Li(Vy,b):S.call(null,Vy,b))?new oJ(this.xb,this.qb,this.Tb,this.Ub,this.bc,c,this.$b,this.hash,this.Qi,this.Oi,null):q(S.Li?S.Li(wt,b):S.call(null,wt,b))?new oJ(this.xb,this.qb,this.Tb,this.Ub,this.bc,this.cc,c,this.hash,this.Qi,this.Oi,null):q(S.Li?S.Li(aA,b):S.call(null,aA,b))?new oJ(this.xb,this.qb,this.Tb,this.Ub,this.bc,this.cc,this.$b,c,
this.Qi,this.Oi,null):new oJ(this.xb,this.qb,this.Tb,this.Ub,this.bc,this.cc,this.$b,this.hash,this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(new W(null,8,5,Y,[new X(Or,this.xb),new X(Wu,this.qb),new X(Cx,this.Tb),new X(Qm,this.Ub),new X(wx,this.bc),new X(Vy,this.cc),new X(wt,this.$b),new X(aA,this.hash)],null),this.Oi))};g.ea=function(a,b){return new oJ(this.xb,this.qb,this.Tb,this.Ub,this.bc,this.cc,this.$b,this.hash,b,this.Oi,this.Ri)};
g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};function pJ(a){var b=R.Pi(a,Or,M([Wu,Cx,Qm,wx,Vy,wt,aA]));b=Gf(a)?ai.Li(V,b):b;return new oJ(Or.Mi(a),Wu.Mi(a),Cx.Mi(a),Qm.Mi(a),wx.Mi(a),Vy.Mi(a),wt.Mi(a),aA.Mi(a),null,mh(b),null)}g.La=l;g.fa=function(a,b,c){return qJ.Ni?qJ.Ni(this,b,c):qJ.call(null,this,b,c)};g.ig=l;g.ha=function(){return K(this.qb)};g.kh=l;g.vc=function(){return Id(this.qb)};g.gh=l;g.ia=function(){return rJ.Mi?rJ.Mi(this):rJ.call(null,this)};
g.aa=function(a,b){return sJ.Li?sJ.Li(this,b):sJ.call(null,this,b)};g.kg=l;g.vd=function(){return ii.Ni(ii.Ni(ii.Ni(this,Wu,Wg),Cx,Wg),Qm,Wg)};g.lg=l;g.Ka=function(){var a=this.xb;a=tJ?tJ(a):uJ.call(null,a);return xf(a,yf(this))};g.wd=function(){throw dm("datascript.DB/conj! is not supported",V);};g.Ed=function(){return ii.Ni(ii.Ni(ii.Ni(this,Wu,Xg),Cx,Xg),Qm,Xg)};g.tf=l;g.ga=function(){return Dd(this.qb)};
g.vg=function(a,b,c){if(D.Li(b,Qm)&&(a=H(c),null!=a&&!q(vJ.Li?vJ.Li(this,a):vJ.call(null,this,a))))throw dm(["Attribute ",fl.Pi(M([a]))," should be marked as :db/index true"].join(""),new p(null,3,[rp,zx,By,Qm,im,c],null));return BI(B.Li(this,b),wJ.la?wJ.la(this,b,c,0,536870912):wJ.call(null,this,b,c,0,536870912),wJ.la?wJ.la(this,b,c,2147483647,2147483647):wJ.call(null,this,b,c,2147483647,2147483647))};g.tg=l;g.uh=function(){return this.xb};
g.ug=function(a,b){a=this.$b;return a.Mi?a.Mi(b):a.call(null,b)};g.vh=l;
g.wg=function(a,b){a=P(b,0,null);var c=P(b,1,null),d=P(b,2,null),e=P(b,3,null);b=this.qb;var f=this.Tb,h=this.Ub;Pf(nJ(this,DA),c);return q(a)?q(c)?null!=d?q(e)?BI(b,DI.Vi(a,c,d,e),DI.Vi(a,c,d,e)):BI(b,DI.Vi(a,c,d,536870912),DI.Vi(a,c,d,2147483647)):q(e)?Zh(function(k){return D.Li(e,k.Ma(null))},BI(b,DI.Vi(a,c,null,536870912),DI.Vi(a,c,null,2147483647))):BI(b,DI.Vi(a,c,null,536870912),DI.Vi(a,c,null,2147483647)):null!=d?q(e)?Zh(function(k){return D.Li(d,k.v)&&D.Li(e,k.Ma(null))},BI(b,DI.Vi(a,null,
null,536870912),DI.Vi(a,null,null,2147483647))):Zh(function(k){return D.Li(d,k.v)},BI(b,DI.Vi(a,null,null,536870912),DI.Vi(a,null,null,2147483647))):q(e)?Zh(function(k){return D.Li(e,k.Ma(null))},BI(b,DI.Vi(a,null,null,536870912),DI.Vi(a,null,null,2147483647))):BI(b,DI.Vi(a,null,null,536870912),DI.Vi(a,null,null,2147483647)):q(c)?null!=d?q(e)?q(vJ.Li?vJ.Li(this,c):vJ.call(null,this,c))?Zh(function(k){return D.Li(e,k.Ma(null))},BI(h,DI.Vi(0,c,d,536870912),DI.Vi(2147483647,c,d,2147483647))):Zh(function(k){return D.Li(d,
k.v)&&D.Li(e,k.Ma(null))},BI(f,DI.Vi(0,c,null,536870912),DI.Vi(2147483647,c,null,2147483647))):q(vJ.Li?vJ.Li(this,c):vJ.call(null,this,c))?BI(h,DI.Vi(0,c,d,536870912),DI.Vi(2147483647,c,d,2147483647)):Zh(function(k){return D.Li(d,k.v)},BI(f,DI.Vi(0,c,null,536870912),DI.Vi(2147483647,c,null,2147483647))):q(e)?Zh(function(k){return D.Li(e,k.Ma(null))},BI(f,DI.Vi(0,c,null,536870912),DI.Vi(2147483647,c,null,2147483647))):BI(f,DI.Vi(0,c,null,536870912),DI.Vi(2147483647,c,null,2147483647)):null!=d?q(e)?
Zh(function(k){return D.Li(d,k.v)&&D.Li(e,k.Ma(null))},b):Zh(function(k){return D.Li(d,k.v)},b):q(e)?Zh(function(k){return D.Li(e,k.Ma(null))},b):b};
function xJ(a,b){switch(b instanceof C?b.ma:null){case "db.unique/identity":return new W(null,3,5,Y,[Bm,Jy,ly],null);case "db.unique/value":return new W(null,3,5,Y,[Bm,Rr,ly],null);case "db.cardinality/many":return new W(null,1,5,Y,[DA],null);case "db.type/ref":return new W(null,2,5,Y,[cz,ly],null);default:return D.Li(Cm,a)&&!0===b?new W(null,1,5,Y,[Cm],null):D.Li(ly,a)&&!0===b?new W(null,1,5,Y,[ly],null):D.Li(Eo,a)?new W(null,2,5,Y,[Km,ly],null):qf}}
function yJ(a,b){return v.Ni(function(c,d){return KI(function(e,f,h){return ii.la(e,f,Q,d,h)},c,Eo.Mi(d.Mi?d.Mi(a):d.call(null,a)))},V,Km.Mi(b))}function zJ(a){var b=cg(function(c,d,e){return cg(function(f,h,k){return v.Ni(function(m,n){return ii.Vi(m,n,JI,d)},f,xJ(h,k))},c,e)},V,a);return Q.Ni(b,As,yJ(a,b))}
function AJ(a,b,c,d){if(null!=c&&!Pf(d,c))throw dm(["Bad attribute specification for ",fl.Pi(M([uf([a,uf([b,c])])])),", expected one of ",t.Mi(d)].join(""),new p(null,4,[rp,Po,Wo,a,rA,b,Jw,c],null));}
function BJ(a){for(var b=E(a),c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e),h=P(f,0,null),k=P(f,1,null),m=Cm.Li(k,!1);AJ(h,Cm,Cm.Mi(k),new qk(null,new p(null,2,[!0,null,!1,null],null),null));if(q(function(){var F=m;return q(F)?lh.Li(iA.Mi(k),cz):F}()))throw dm(["Bad attribute specification for ",fl.Pi(M([h])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new p(null,3,[rp,Po,Wo,h,rA,Cm],null));AJ(h,Bm,Bm.Mi(k),new qk(null,new p(null,2,[Jy,null,Rr,null],null),null));
AJ(h,iA,iA.Mi(k),new qk(null,new p(null,1,[cz,null],null),null));AJ(h,au,au.Mi(k),new qk(null,new p(null,2,[DA,null,Px,null],null),null));if(Pf(k,Eo)){f=new p(null,3,[rp,Po,Wo,h,rA,Eo],null);if(D.Li(DA,au.Mi(k)))throw dm([fl.Pi(M([h]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),f);var n=Eo.Mi(k);if(!Ef(n))throw dm([fl.Pi(M([h]))," :db/tupleAttrs must be a sequential collection, got: ",fl.Pi(M([n]))].join(""),f);if(Bf(n))throw dm([fl.Pi(M([h]))," :db/tupleAttrs cant be empty"].join(""),
f);n=E(n);for(var r=null,u=0,w=0;;)if(w<u){var A=r.xa(null,w),G=Q.Ni(f,Jw,A);if(Pf(B.Li(a,A),Eo))throw dm([fl.Pi(M([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",fl.Pi(M([A]))].join(""),G);if(D.Li(DA,au.Mi(B.Li(a,A))))throw dm([fl.Pi(M([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",fl.Pi(M([A]))].join(""),G);w+=1}else if(n=E(n)){if(If(n))u=ae(n),n=be(n),r=u,u=K(u);else{r=H(n);u=Q.Ni(f,Jw,r);if(Pf(B.Li(a,r),Eo))throw dm([fl.Pi(M([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",
fl.Pi(M([r]))].join(""),u);if(D.Li(DA,au.Mi(B.Li(a,r))))throw dm([fl.Pi(M([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",fl.Pi(M([r]))].join(""),u);n=J(n);r=null;u=0}w=0}else break}e+=1}else if(h=E(b)){b=h;if(If(b))c=ae(b),b=be(b),h=c,d=K(c),c=h;else{c=H(b);h=P(c,0,null);k=P(c,1,null);var I=Cm.Li(k,!1);AJ(h,Cm,Cm.Mi(k),new qk(null,new p(null,2,[!0,null,!1,null],null),null));if(q(function(){var F=I;return q(F)?lh.Li(iA.Mi(k),cz):F}()))throw dm(["Bad attribute specification for ",
fl.Pi(M([h])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new p(null,3,[rp,Po,Wo,h,rA,Cm],null));AJ(h,Bm,Bm.Mi(k),new qk(null,new p(null,2,[Jy,null,Rr,null],null),null));AJ(h,iA,iA.Mi(k),new qk(null,new p(null,1,[cz,null],null),null));AJ(h,au,au.Mi(k),new qk(null,new p(null,2,[DA,null,Px,null],null),null));if(Pf(k,Eo)){c=new p(null,3,[rp,Po,Wo,h,rA,Eo],null);if(D.Li(DA,au.Mi(k)))throw dm([fl.Pi(M([h]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),
c);d=Eo.Mi(k);if(!Ef(d))throw dm([fl.Pi(M([h]))," :db/tupleAttrs must be a sequential collection, got: ",fl.Pi(M([d]))].join(""),c);if(Bf(d))throw dm([fl.Pi(M([h]))," :db/tupleAttrs cant be empty"].join(""),c);d=E(d);e=null;for(n=f=0;;)if(n<f){r=e.xa(null,n);u=Q.Ni(c,Jw,r);if(Pf(B.Li(a,r),Eo))throw dm([fl.Pi(M([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",fl.Pi(M([r]))].join(""),u);if(D.Li(DA,au.Mi(B.Li(a,r))))throw dm([fl.Pi(M([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",
fl.Pi(M([r]))].join(""),u);n+=1}else if(d=E(d)){if(If(d))f=ae(d),d=be(d),e=f,f=K(f);else{e=H(d);f=Q.Ni(c,Jw,e);if(Pf(B.Li(a,e),Eo))throw dm([fl.Pi(M([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",fl.Pi(M([e]))].join(""),f);if(D.Li(DA,au.Mi(B.Li(a,e))))throw dm([fl.Pi(M([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",fl.Pi(M([e]))].join(""),f);d=J(d);e=null;f=0}n=0}else break}b=J(b);c=null;d=0}e=0}else break}
function uJ(a){switch(arguments.length){case 0:return tJ(null);case 1:return tJ(arguments[0]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length)].join(""));}}function tJ(a){BJ(a);return pJ(new p(null,8,[Or,a,wt,zJ(lk.Pi(M([new p(null,1,[lA,new p(null,1,[Bm,Jy],null)],null),a]))),Wu,FI(aJ),Cx,FI(bJ),Qm,FI(cJ),wx,0,Vy,536870912,aA,Ch(0)],null))}function CJ(a){a=jw.Mi(H(CI(a)));return q(a)?a:0}
function DJ(a,b){var c=H(Ph(XI,a));if(null!=c)throw dm(["init-db expects list of Datoms, got ",fl.Pi(M([Bc(c)]))].join(""),new p(null,1,[rp,Dz],null));BJ(b);c=zJ(lk.Pi(M([new p(null,1,[lA,new p(null,1,[Bm,Jy],null)],null),b])));var d=ly.Mi(c),e=MH(a)?a:LH(a);e.sort(eJ);var f=EI(aJ,e);e.sort(fJ);e=EI(bJ,e);a=Wf(Zh(function(m){return Pf(d,m.a)},a));a.sort(gJ);a=EI(cJ,a);var h=CJ(f),k=gg(Lh.Mi(function(m){return m.Ma(null)}),pg,536870912,f);return pJ(new p(null,8,[Or,b,wt,c,Wu,f,Cx,e,Qm,a,wx,h,Vy,k,
aA,Ch(0)],null))}function rJ(a){var b=y(a.hash);return 0===b?Dh(a.hash,LI(ve(a.xb),ve(a.qb))):b}function sJ(a,b){var c;if(c=(b instanceof oJ||!1)&&D.Li(mJ(a),mJ(b)))a:for(a=kJ(a,Wu,qf),c=kJ(b,Wu,qf),b=E(a),a=E(c);;){if(null==b){c=null==a;break a}if(D.Li(H(b),H(a)))b=J(b),a=J(a);else{c=!1;break a}}return c}
function qJ(a,b,c){Jd(b,"#datascript/DB {");Jd(b,":schema ");Zk(mJ(a),b,c);Jd(b,", :datoms ");Z(b,function(d,e,f){return Z(e,Zk,"["," ","]",f,new W(null,4,5,Y,[d.e,d.a,d.v,MI(d)],null))},"["," ","]",c,kJ(a,Wu,qf));return Jd(b,"}")}
function EJ(a,b,c,d,e,f,h){if(q(c)){var k=new rf(null,In,new rf(null,xv,new rf(null,b,new rf(null,c,new rf(null,d,new rf(null,e,null,1,null),2,null),3,null),4,null),5,null),6,null);FJ.Li?FJ.Li(c,k):FJ.call(null,c,k)}return DI.Vi(function(){var m=GJ.Li?GJ.Li(a,b):GJ.call(null,a,b);return q(m)?m:f}(),c,q(null!=d?HJ.Li?HJ.Li(a,c):HJ.call(null,a,c):!1)?IJ.Li?IJ.Li(a,d):IJ.call(null,a,d):d,function(){var m=GJ.Li?GJ.Li(a,e):GJ.call(null,a,e);return q(m)?m:h}())}
function wJ(a,b,c,d,e){var f=P(c,0,null),h=P(c,1,null),k=P(c,2,null);c=P(c,3,null);b=b instanceof C?b.ma:null;switch(b){case "eavt":return EJ(a,f,h,k,c,d,e);case "aevt":return EJ(a,h,f,k,c,d,e);case "avet":return EJ(a,k,f,h,c,d,e);default:throw Error(["No matching clause: ",t.Mi(b)].join(""));}}function JJ(a,b,c,d,e,f,h,k){this.yc=a;this.xc=b;this.Dc=c;this.Bc=d;this.Ec=e;this.Qi=f;this.Oi=h;this.Ri=k;this.Si=2230716170;this.Xi=139264}g=JJ.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};
g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "db-before":return this.yc;case "db-after":return this.xc;case "tx-data":return this.Dc;case "tempids":return this.Bc;case "tx-meta":return this.Ec;default:return B.Ni(this.Oi,b,c)}};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.db.TxReport{",", ","}",c,T.Li(new W(null,5,5,Y,[new W(null,2,5,Y,[ao,this.yc],null),new W(null,2,5,Y,[qu,this.xc],null),new W(null,2,5,Y,[Pr,this.Dc],null),new W(null,2,5,Y,[BB,this.Bc],null),new W(null,2,5,Y,[Go,this.Ec],null)],null),this.Oi))};g.na=function(){return new Xi(this,5,new W(null,5,5,Y,[ao,qu,Pr,BB,Go],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 5+K(this.Oi)};
g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=-2022644885^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.yc,b.yc)&&D.Li(this.xc,b.xc)&&D.Li(this.Dc,b.Dc)&&D.Li(this.Bc,b.Bc)&&D.Li(this.Ec,b.Ec)&&D.Li(this.Oi,b.Oi)};g.wa=function(a,b){return Pf(new qk(null,new p(null,5,[BB,null,qu,null,ao,null,Pr,null,Go,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new JJ(this.yc,this.xc,this.Dc,this.Bc,this.Ec,this.Qi,mh(R.Li(this.Oi,b)),null)};
g.ba=function(a,b,c){return q(S.Li?S.Li(ao,b):S.call(null,ao,b))?new JJ(c,this.xc,this.Dc,this.Bc,this.Ec,this.Qi,this.Oi,null):q(S.Li?S.Li(qu,b):S.call(null,qu,b))?new JJ(this.yc,c,this.Dc,this.Bc,this.Ec,this.Qi,this.Oi,null):q(S.Li?S.Li(Pr,b):S.call(null,Pr,b))?new JJ(this.yc,this.xc,c,this.Bc,this.Ec,this.Qi,this.Oi,null):q(S.Li?S.Li(BB,b):S.call(null,BB,b))?new JJ(this.yc,this.xc,this.Dc,c,this.Ec,this.Qi,this.Oi,null):q(S.Li?S.Li(Go,b):S.call(null,Go,b))?new JJ(this.yc,this.xc,this.Dc,this.Bc,
c,this.Qi,this.Oi,null):new JJ(this.yc,this.xc,this.Dc,this.Bc,this.Ec,this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(new W(null,5,5,Y,[new X(ao,this.yc),new X(qu,this.xc),new X(Pr,this.Dc),new X(BB,this.Bc),new X(Go,this.Ec)],null),this.Oi))};g.ea=function(a,b){return new JJ(this.yc,this.xc,this.Dc,this.Bc,this.Ec,b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};function KJ(a,b,c){return Pf(nJ(a,c),b)}
function HJ(a,b){return KJ(a,b,cz)}function vJ(a,b){return KJ(a,b,ly)}
function LJ(a,b){for(;;){if("number"===typeof b&&0<b){if(2147483647<b)throw dm(["Highest supported entity id is ",fl.Pi(M([2147483647])),", got ",fl.Pi(M([b]))].join(""),new p(null,2,[rp,Nt,Jw,b],null));return b}if(Ef(b)){var c=b,d=P(c,0,null);c=P(c,1,null);if(lh.Li(K(b),2))throw dm(["Lookup ref should contain 2 elements: ",fl.Pi(M([b]))].join(""),new p(null,2,[rp,Wy,Nt,b],null));if(KJ(a,d,Bm))return null==c?null:jw.Mi(H(kJ(a,Qm,b)));throw dm(["Lookup ref attribute should be marked as :db/unique: ",
fl.Pi(M([b]))].join(""),new p(null,2,[rp,Lm,Nt,b],null));}if(wc(b))b=M(b);else{if(b instanceof C)return jw.Mi(H(kJ(a,Qm,new W(null,2,5,Y,[lA,b],null))));throw dm(["Expected number or lookup ref for entity id, got ",fl.Pi(M([b]))].join(""),new p(null,2,[rp,or,Nt,b],null));}}}function IJ(a,b){a=LJ(a,b);if(q(a))return a;throw dm(["Nothing found for entity id ",fl.Pi(M([b]))].join(""),new p(null,2,[rp,qq,Nt,b],null));}function GJ(a,b){return q(b)?IJ(a,b):null}
function FJ(a,b){if(a instanceof C||"string"===typeof a)return null;throw dm(["Bad entity attribute ",fl.Pi(M([a]))," at ",fl.Pi(M([b])),", expected keyword or string"].join(""),new p(null,3,[rp,$m,Wo,a,sz,b],null));}function MJ(a,b){if(null==a)throw dm(["Cannot store nil as a value at ",fl.Pi(M([b]))].join(""),new p(null,3,[rp,$m,Jw,a,sz,b],null));return null}function NJ(a){return ei(a,new W(null,2,5,Y,[ao,Vy],null))+1}
function OJ(a){return D.Li(a,rm)||D.Li(a,":db/current-tx")||D.Li(a,"datomic.tx")||D.Li(a,"datascript.tx")}function PJ(a){return"number"===typeof a&&0>a||"string"===typeof a}function QJ(a,b){return b>wx.Mi(a)&&536870912>b?Q.Ni(a,wx,b):a}function RJ(a,b,c){var d=OJ(b)?ii.la(a,BB,Q,b,c):a;d=PJ(b)?ii.la(d,BB,Q,b,c):d;if(b=!PJ(b))a=qu.Mi(a),b=c>wx.Mi(a)&&536870912>c;a=b?ii.la(d,BB,Q,c,c):d;return ii.Vi(a,qu,QJ,c)}
function SJ(a,b){var c=b.ec(null);c=q(c)?KJ(a,b.a,Bm):c;if(q(c)&&(c=mh(kJ(a,Qm,new W(null,2,5,Y,[b.a,b.v],null))),null!=c))throw dm(["Cannot add ",fl.Pi(M([b]))," because of unique constraint: ",fl.Pi(M([c]))].join(""),new p(null,3,[rp,Oy,Wo,b.a,tv,b],null));c=vJ(a,b.a);if(q(b.ec(null)))return a=ii.la(a,Wu,lI,b,eJ),a=ii.la(a,Cx,lI,b,fJ),c=c?ii.la(a,Qm,lI,b,gJ):a,b=QJ(c,b.e),Q.Ni(b,aA,Ch(0));b=jJ(a,new W(null,3,5,Y,[b.e,b.a,b.v],null));if(null==b)return a;a=ii.la(a,Wu,kI,b,eJ);a=ii.la(a,Cx,kI,b,fJ);
b=c?ii.la(a,Qm,kI,b,gJ):a;return Q.Ni(b,aA,Ch(0))}function TJ(a,b,c,d,e){return cg(function(f,h,k){var m=B.Li(f,h);q(m)||(m=uw.Mi(H(kJ(c,Wu,new W(null,2,5,Y,[d,h],null)))),m=q(m)?m:Yf(Sh(K(Eo.Mi(B.Li(mJ(c),h))),null)));k=Q.Ni(m,k,e);return Q.Ni(f,h,k)},a,b)}function UJ(a,b){var c=qu.Mi(a),d=nw.Mi(b);a=ii.Vi(Q.Ni(a,qu,SJ(c,b)),Pr,pf,b);if(KJ(c,d,As)){var e=jw.Mi(b);b=q(NI(b))?uw.Mi(b):null;var f=B.Li(Ly.Mi(a),e);f=q(f)?f:V;d=B.Li(nJ(c,As),d);c=TJ(f,d,c,e,b);return ii.la(a,Ly,Q,e,c)}return a}
function VJ(a){if(a instanceof C)return D.Li("_",bf(Ig(a),0));if("string"===typeof a)return Mf(Nk(/(?:([^\/]+)\/)?_([^\/]+)/,a));throw dm(["Bad attribute type: ",fl.Pi(M([a])),", expected keyword or string"].join(""),new p(null,2,[rp,$m,Wo,a],null));}
function WJ(a){if(a instanceof C)return VJ(a)?Hg.Li(Fg(a),yg.Li(Ig(a),1)):Hg.Li(Fg(a),["_",Ig(a)].join(""));if("string"===typeof a){var b=Nk(/(?:([^\/]+)\/)?([^\/]+)/,a);P(b,0,null);a=P(b,1,null);b=P(b,2,null);return D.Li("_",bf(b,0))?q(a)?[t.Mi(a),"/",yg.Li(b,1)].join(""):yg.Li(b,1):q(a)?[t.Mi(a),"/_",t.Mi(b)].join(""):["_",t.Mi(b)].join("")}throw dm(["Bad attribute type: ",fl.Pi(M([a])),", expected keyword or string"].join(""),new p(null,2,[rp,$m,Wo,a],null));}
function XJ(a,b){function c(f,h){return v.Ni(function(k,m){var n=d(f,m);return null==n?ii.Vi(k,0,pf,m):ii.la(k,1,Q,m,n)},new W(null,2,5,Y,[qf,V],null),h)}function d(f,h){return jw.Mi(H(kJ(a,Qm,new W(null,2,5,Y,[f,h],null))))}var e=mh(nJ(a,Jy));return null==e?new W(null,2,5,Y,[b,null],null):cg(function(f,h,k){var m=P(f,0,null);f=P(f,1,null);if(Pf(e,h)){if(KJ(a,h,DA)&&(MH(k)||Cf(k)&&!Ff(k))){var n=c(h,k);k=P(n,0,null);n=P(n,1,null);return new W(null,2,5,Y,[Bf(k)?m:Q.Ni(m,h,k),Bf(n)?f:Q.Ni(f,h,n)],null)}n=
d(h,k);return null==n?new W(null,2,5,Y,[Q.Ni(m,h,k),f],null):new W(null,2,5,Y,[m,Q.Ni(f,h,uf([k,n]))],null)}return new W(null,2,5,Y,[Q.Ni(m,h,k),f],null)},new W(null,2,5,Y,[V,V],null),b)}
function YJ(a,b){var c=cg(function(h,k,m){return cg(function(n,r,u){return Q.Ni(n,u,new W(null,2,5,Y,[k,r],null))},h,m)},V,b);if(2<=K(c)){b=H(c);a=P(b,0,null);var d=P(b,1,null);b=P(d,0,null);d=P(d,1,null);var e=mf(c);c=P(e,0,null);var f=P(e,1,null);e=P(f,0,null);f=P(f,1,null);throw dm(["Conflicting upserts: ",fl.Pi(M([new W(null,2,5,Y,[b,d],null)]))," resolves to ",fl.Pi(M([a])),", but ",fl.Pi(M([new W(null,2,5,Y,[e,f],null)]))," resolves to ",fl.Pi(M([c]))].join(""),new p(null,3,[rp,Ms,bB,new W(null,
3,5,Y,[a,b,d],null),sv,new W(null,3,5,Y,[c,e,f],null)],null));}d=H(c);b=P(d,0,null);c=P(d,1,null);d=P(c,0,null);c=P(c,1,null);a=Xr.Mi(a);if(null!=b&&null!=a&&!PJ(a)&&lh.Li(b,a))throw dm(["Conflicting upsert: ",fl.Pi(M([new W(null,2,5,Y,[d,c],null)]))," resolves to ",fl.Pi(M([b])),", but entity already has :db/id ",fl.Pi(M([a]))].join(""),new p(null,3,[rp,Ms,bB,new W(null,3,5,Y,[b,d,c],null),sv,new p(null,1,[Xr,a],null)],null));return b}
function ZJ(a,b,c){return VJ(b)||KJ(a,b,DA)?MH(c)||Cf(c)&&!Ff(c)?D.Li(K(c),2)&&KJ(a,H(c),Jy)?new W(null,1,5,Y,[c],null):c:new W(null,1,5,Y,[c],null):new W(null,1,5,Y,[c],null)}
function $J(a,b){var c=Xr.Mi(b);return function f(e){return new Jg(null,function(){for(var h=e;;){var k=E(h);if(k){var m=k,n=H(m),r=P(n,0,null),u=P(n,1,null);if(lh.Li(r,Xr)){var w=FJ(r,uf([Xr,c,r,u])),A=VJ(r),G=A?WJ(r):r;if(A&&!HJ(a,G))throw dm(["Bad attribute ",fl.Pi(M([r])),": reverse attribute name requires {:db/valueType :db.type/ref} in schema"].join(""),new p(null,3,[rp,$m,Wo,r,sz,uf([Xr,c,r,u])],null));if(k=E(function(I,F,N,O,U,ea,va,wa,xa,Ra,ka){return function ua(Ca){return new Jg(null,function(Ba,
Ua,ac,yb,ec,Xb,Pd,Zf,zf,Og,Yc){return function(){for(;;){var Ad=E(Ca);if(Ad){if(If(Ad)){var te=ae(Ad),$f=K(te),Bd=Ng($f);a:for(var ue=0;;)if(ue<$f){var Cd=x(te,ue);Cd=HJ(a,yb)&&Ff(Cd)?Q.Ni(Cd,WJ(Pd),Yc):ac?new W(null,4,5,Y,[sB,Cd,yb,Yc],null):new W(null,4,5,Y,[sB,Yc,yb,Cd],null);Bd.add(Cd);ue+=1}else{te=!0;break a}return te?Qg(Sg(Bd),ua(be(Ad))):Qg(Sg(Bd),null)}Bd=H(Ad);return hf(HJ(a,yb)&&Ff(Bd)?Q.Ni(Bd,WJ(Pd),Yc):ac?new W(null,4,5,Y,[sB,Bd,yb,Yc],null):new W(null,4,5,Y,[sB,Yc,yb,Bd],null),ua(Fe(Ad)))}return null}}}(I,
F,N,O,U,ea,va,wa,xa,Ra,ka),null,null)}}(h,w,A,G,null,n,r,u,m,k,c)(ZJ(a,r,u))))return T.Li(k,f(Fe(h)))}h=Fe(h)}else return null}},null,null)}(b)}function aK(a,b){P(b,0,null);var c=P(b,1,null),d=P(b,2,null),e=P(b,3,null),f=P(b,4,null);FJ(d,b);MJ(e,b);b=q(f)?f:NJ(a);f=qu.Mi(a);c=IJ(f,c);e=HJ(f,d)?IJ(f,e):e;var h=DI.Vi(c,d,e,b);f=KJ(f,d,DA)?jJ(f,new W(null,3,5,Y,[c,d,e],null)):jJ(f,new W(null,2,5,Y,[c,d],null));return null==f?UJ(a,h):D.Li(f.v,e)?ii.Vi(a,ft,II,h):UJ(UJ(a,DI.la(c,d,f.v,b,!1)),h)}
function bK(a,b){var c=NJ(a);return UJ(a,DI.la(b.e,b.a,b.v,c,!1))}function cK(a,b){return ai.Ni(sk,wh.Li(Yh(function(c){return KJ(a,c.a,Cm)}),Lh.Mi(function(c){return new W(null,2,5,Y,[Op,c.v],null)})),b)}function dK(a,b,c,d,e){if(Pf(BB.Mi(a),d))throw dm(["Conflicting upsert: ",fl.Pi(M([d]))," resolves both to ",fl.Pi(M([e]))," and ",fl.Pi(M([ei(a,new W(null,2,5,Y,[BB,d],null))]))].join(""),new p(null,1,[rp,Ms],null));b=Q.Ni(BB.Mi(b),d,e);a=Q.Ni(a,BB,b);return eK.Li?eK.Li(a,c):eK.call(null,a,c)}
var fK=new qk(null,new p(null,8,[Lu,null,bv,null,Op,null,ps,null,Br,null,Us,null,An,null,sB,null],null),null);function gK(a){var b=qu.Mi(a);mJ(b);nJ(b,As);return cg(function(c,d,e){return cg(function(f,h,k){k=rh(vc,k)?null:k;var m=uw.Mi(H(kJ(b,Wu,new W(null,2,5,Y,[d,h],null))));return D.Li(k,m)?f:null==k?pf.Li(f,xf(new W(null,4,5,Y,[Br,d,h,m],null),new p(null,1,[Gs,!0],null))):pf.Li(f,xf(new W(null,4,5,Y,[sB,d,h,k],null),new p(null,1,[Gs,!0],null)))},c,e)},qf,Ly.Mi(a))}
function hK(a){var b=Mm.Mi(a);b=v.Ni(function(c,d){return q(NI(d))?R.Li(c,jw.Mi(d)):c},b,T.Li(Pr.Mi(a),ft.Mi(a)));if(Bf(b))return R.Pi(a,Mm,M([ft]));throw dm(["Tempids used only as value in transaction: ",fl.Pi(M([Vf(Sf,dj(b))]))].join(""),new p(null,2,[rp,$m,BB,b],null));}
function eK(a,b){if(null!=b&&!Ef(b))throw dm(["Bad transaction data ",fl.Pi(M([b])),", expected sequential collection"].join(""),new p(null,2,[rp,$m,Pr,b],null));for(var c=!Bf(nJ(qu.Mi(a),Km)),d=c?Vh.Li(b,Rh(Dm)):b,e=a,f=d;;){if(Bf(f))return ii.la(ii.la(hK(e),BB,Q,rm,NJ(e)),qu,ii,Vy,Oe);var h=f,k=E(h),m=H(k),n=J(k),r=m,u=n;if(null==r)f=u;else if(D.Li(Dm,r))if(Pf(e,Ly)){var w=R.Li(e,Ly);u=T.Li(gK(e),u);e=w;f=u}else f=u;else{var A=qu.Mi(e),G=BB.Mi(e);if(Ff(r)){var I=Xr.Mi(r);if(OJ(I))w=NJ(e),e=RJ(e,
I,w),f=u=hf(Q.Ni(r,Xr,w),u);else if(Ef(I))w=IJ(A,I),f=u=hf(Q.Ni(r,Xr,w),u);else{var F=XJ(A,r);w=P(F,0,null);F=P(F,1,null);var N=YJ(w,F);if(null!=N){if(PJ(I)&&Pf(G,I)&&lh.Li(N,B.Li(G,I)))return dK(a,e,b,I,N);e=RJ(e,I,N);f=u=T.Li($J(A,Q.Ni(w,Xr,N)),u)}else if("number"===typeof I||null==I||"string"===typeof I)w=null==I?wx.Mi(A)+1:PJ(I)?function(){var Xb=B.Li(G,I);return q(Xb)?Xb:wx.Mi(A)+1}():I,r=Q.Ni(r,Xr,w),e=RJ(e,I,w),f=u=T.Li($J(A,r),u);else throw dm(["Expected number, string or lookup ref for :db/id, got ",
fl.Pi(M([I]))].join(""),new p(null,2,[rp,or,ru,r],null));}}else if(Ef(r)){var O=r;F=P(O,0,null);var U=P(O,1,null);w=P(O,2,null);var ea=P(O,3,null);if(D.Li(F,Lu)){w=E(r);r=H(w);w=J(w);var va=r;r=H(w);w=J(w);f=u=T.Li(hh(r,A,w),u)}else if(F instanceof C&&yc(fK.Mi?fK.Mi(F):fK.call(null,F))){va=LJ(A,F);if(null==va)throw dm(["Cant find entity for transaction fn ",fl.Pi(M([F]))].join(""),new p(null,3,[rp,$m,cs,Lu,Pr,r],null));U=uw.Mi(jJ(A,new W(null,2,5,Y,[va,mr],null)));w=J(r);if(vf(U))f=u=T.Li(hh(U,A,
w),u);else throw dm(["Entity ",fl.Pi(M([F]))," expected to have :db/fn attribute with fn? value"].join(""),new p(null,3,[rp,$m,cs,Lu,Pr,r],null));}else{if(PJ(U)&&lh.Li(F,sB))throw dm(["Can't use tempid in '",fl.Pi(M([r])),"'. Tempids are allowed in :db/add only"].join(""),new p(null,2,[rp,$m,wo,r],null));if(D.Li(F,An)||D.Li(F,bv)){var wa=r;va=P(wa,0,null);var xa=P(wa,1,null),Ra=P(wa,2,null),ka=P(wa,3,null),oa=P(wa,4,null),Ca=IJ(A,xa),ua=FJ(Ra,r),Ba=HJ(A,Ra)?IJ(A,ka):ka,Ua=HJ(A,Ra)?IJ(A,oa):oa,ac=
MJ(Ua,r),yb=Yf(iJ(A,new W(null,2,5,Y,[Ca,Ra],null)));if(KJ(A,Ra,DA))if(q(sh(function(Xb,Pd,Zf,zf,Og,Yc,Ad,te,$f,Bd,ue){return function(Cd){return D.Li(Cd.v,ue)}}(e,f,wa,va,xa,Ra,ka,oa,Ca,ua,Ba,Ua,ac,yb,O,F,U,w,ea,A,G,h,k,m,n,r,u,a,c,d),yb)))e=aK(e,new W(null,4,5,Y,[sB,Ca,Ra,Ua],null)),f=u;else throw dm([":db.fn/cas failed on datom [",fl.Pi(M([Ca]))," ",fl.Pi(M([Ra]))," ",fl.Pi(M([Lh.Li(uw,yb)])),"], expected ",fl.Pi(M([Ba]))].join(""),new p(null,4,[rp,wn,Mz,yb,hm,Ba,zr,Ua],null));else if(F=uw.Mi(H(yb)),
D.Li(F,Ba))e=aK(e,new W(null,4,5,Y,[sB,Ca,Ra,Ua],null)),f=u;else throw dm([":db.fn/cas failed on datom [",fl.Pi(M([Ca]))," ",fl.Pi(M([Ra]))," ",fl.Pi(M([F])),"], expected ",fl.Pi(M([Ba]))].join(""),new p(null,4,[rp,wn,Mz,H(yb),hm,Ba,zr,Ua],null));}else if(OJ(U))r=RJ(e,U,NJ(e)),u=hf(new W(null,4,5,Y,[F,NJ(e),w,ea],null),u),e=r,f=u;else if(HJ(A,w)&&OJ(ea))r=RJ(e,ea,NJ(e)),u=hf(new W(null,4,5,Y,[F,U,w,NJ(e)],null),u),e=r,f=u;else if(HJ(A,w)&&PJ(ea))va=B.Li(G,ea),null==va?(r=wx.Mi(A)+1,e=ii.la(RJ(e,ea,
r),Mm,Q,r,ea),f=u=f):(r=va,e=ii.la(e,Mm,Q,r,ea),f=u=hf(new W(null,4,5,Y,[F,U,w,r],null),u));else if(PJ(U)){N=KJ(A,w,Jy)?jw.Mi(H(kJ(A,Qm,new W(null,2,5,Y,[w,ea],null)))):null;var ec=B.Li(G,U);if(q(function(){var Xb=N;return q(Xb)?(Xb=ec,q(Xb)?lh.Li(N,ec):Xb):Xb}()))return dK(a,e,b,U,N);r=function(){var Xb=N;if(q(Xb))return Xb;Xb=ec;return q(Xb)?Xb:wx.Mi(A)+1}();e=RJ(e,U,r);f=u=hf(new W(null,4,5,Y,[F,r,w,ea],null),u)}else{if(yc(Gs.Mi(yf(r)))&&KJ(A,w,Km))throw dm(["Cant modify tuple attrs directly: ",
fl.Pi(M([r]))].join(""),new p(null,2,[rp,$m,Pr,r],null));if(D.Li(F,sB))e=aK(e,r),f=u;else if(D.Li(F,Br)&&null!=ea)va=LJ(A,U),null==va?f=u:(xa=va,F=HJ(A,w)?IJ(A,ea):ea,FJ(w,r),MJ(F,r),w=jJ(A,new W(null,3,5,Y,[xa,w,F],null)),null==w?f=u:(e=bK(e,w),f=u));else if(D.Li(F,Us)||D.Li(F,Br))va=LJ(A,U),null==va?f=u:(xa=va,va=FJ(w,r),yb=Yf(iJ(A,new W(null,2,5,Y,[xa,w],null))),e=v.Ni(bK,e,yb),f=u=T.Li(cK(A,yb),u));else if(D.Li(F,Op)||D.Li(F,ps))va=LJ(A,U),null==va?f=u:(xa=va,yb=Yf(iJ(A,new W(null,1,5,Y,[xa],
null))),w=Yf(Xh(function(Xb,Pd,Zf,zf,Og,Yc,Ad,te,$f,Bd,ue){return function(Cd){return iJ(ue,new W(null,3,5,Y,[null,Cd,zf],null))}}(e,f,yb,xa,va,O,F,U,w,ea,A,G,h,k,m,n,r,u,a,c,d),M([nJ(A,cz)]))),e=v.Ni(bK,e,T.Li(yb,w)),f=u=T.Li(cK(A,yb),u));else throw dm(["Unknown operation at ",fl.Pi(M([r])),", expected :db/add, :db/retract, :db.fn/call, :db.fn/retractAttribute, :db.fn/retractEntity or an ident corresponding to an installed transaction function (e.g. {:db/ident \x3ckeyword\x3e :db/fn \x3cIfn\x3e}, usage of :db/ident requires {:db/unique :db.unique/identity} in schema)"].join(""),
new p(null,3,[rp,$m,cs,F,Pr,r],null));}}}else if(XI(r))F=r,U=P(F,0,null),w=P(F,1,null),ea=P(F,2,null),r=P(F,3,null),F=P(F,4,null),q(F)?(e=aK(e,new W(null,5,5,Y,[sB,U,w,ea,r],null)),f=u):f=u=hf(new W(null,4,5,Y,[Br,U,w,ea],null),u);else throw dm(["Bad entity type at ",fl.Pi(M([r])),", expected map or vector"].join(""),new p(null,2,[rp,$m,Pr,r],null));}}};function iK(a,b,c,d,e){this.sd=a;this.tb=b;this.Qi=c;this.Oi=d;this.Ri=e;this.Si=2230716170;this.Xi=139264}g=iK.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "wildcard?":return this.sd;case "attrs":return this.tb;default:return B.Ni(this.Oi,b,c)}};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.pull-parser.PullSpec{",", ","}",c,T.Li(new W(null,2,5,Y,[new W(null,2,5,Y,[Ro,this.sd],null),new W(null,2,5,Y,[Ct,this.tb],null)],null),this.Oi))};g.na=function(){return new Xi(this,2,new W(null,2,5,Y,[Ro,Ct],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 2+K(this.Oi)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=90253489^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.sd,b.sd)&&D.Li(this.tb,b.tb)&&D.Li(this.Oi,b.Oi)};g.wa=function(a,b){return Pf(new qk(null,new p(null,2,[Ct,null,Ro,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new iK(this.sd,this.tb,this.Qi,mh(R.Li(this.Oi,b)),null)};
g.ba=function(a,b,c){return q(S.Li?S.Li(Ro,b):S.call(null,Ro,b))?new iK(c,this.tb,this.Qi,this.Oi,null):q(S.Li?S.Li(Ct,b):S.call(null,Ct,b))?new iK(this.sd,c,this.Qi,this.Oi,null):new iK(this.sd,this.tb,this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(new W(null,2,5,Y,[new X(Ro,this.sd),new X(Ct,this.tb)],null),this.Oi))};g.ea=function(a,b){return new iK(this.sd,this.tb,b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};
function jK(a){if(null!=a&&null!=a.gd)a=a.gd(a);else{var b=jK[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=jK._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("IPullSpecComponent.-as-spec",a);}return a}function kK(a,b,c,d){this.attr=a;this.Qi=b;this.Oi=c;this.Ri=d;this.Si=2230716170;this.Xi=139264}g=kK.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};
g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "attr":return this.attr;default:return B.Ni(this.Oi,b,c)}};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.pull-parser.PullAttrName{",", ","}",c,T.Li(new W(null,1,5,Y,[new W(null,2,5,Y,[Ix,this.attr],null)],null),this.Oi))};
g.na=function(){return new Xi(this,1,new W(null,1,5,Y,[Ix],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 1+K(this.Oi)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=-838771693^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.attr,b.attr)&&D.Li(this.Oi,b.Oi)};g.gd=function(){return new W(null,2,5,Y,[this.attr,new p(null,1,[Ix,this.attr],null)],null)};
g.wa=function(a,b){return Pf(new qk(null,new p(null,1,[Ix,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new kK(this.attr,this.Qi,mh(R.Li(this.Oi,b)),null)};g.ba=function(a,b,c){return q(S.Li?S.Li(Ix,b):S.call(null,Ix,b))?new kK(c,this.Qi,this.Oi,null):new kK(this.attr,this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(new W(null,1,5,Y,[new X(Ix,this.attr)],null),this.Oi))};g.ea=function(a,b){return new kK(this.attr,b,this.Oi,this.Ri)};
g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};function lK(a,b,c,d,e){this.attr=a;this.Xc=b;this.Qi=c;this.Oi=d;this.Ri=e;this.Si=2230716170;this.Xi=139264}g=lK.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "attr":return this.attr;case "rattr":return this.Xc;default:return B.Ni(this.Oi,b,c)}};
g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.pull-parser.PullReverseAttrName{",", ","}",c,T.Li(new W(null,2,5,Y,[new W(null,2,5,Y,[Ix,this.attr],null),new W(null,2,5,Y,[ny,this.Xc],null)],null),this.Oi))};g.na=function(){return new Xi(this,2,new W(null,2,5,Y,[Ix,ny],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};
g.ha=function(){return 2+K(this.Oi)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=158820207^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.attr,b.attr)&&D.Li(this.Xc,b.Xc)&&D.Li(this.Oi,b.Oi)};g.gd=function(){return new W(null,2,5,Y,[this.Xc,new p(null,1,[Ix,this.attr],null)],null)};
g.wa=function(a,b){return Pf(new qk(null,new p(null,2,[ny,null,Ix,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new lK(this.attr,this.Xc,this.Qi,mh(R.Li(this.Oi,b)),null)};g.ba=function(a,b,c){return q(S.Li?S.Li(Ix,b):S.call(null,Ix,b))?new lK(c,this.Xc,this.Qi,this.Oi,null):q(S.Li?S.Li(ny,b):S.call(null,ny,b))?new lK(this.attr,c,this.Qi,this.Oi,null):new lK(this.attr,this.Xc,this.Qi,Q.Ni(this.Oi,b,c),null)};
g.ga=function(){return E(T.Li(new W(null,2,5,Y,[new X(Ix,this.attr),new X(ny,this.Xc)],null),this.Oi))};g.ea=function(a,b){return new lK(this.attr,this.Xc,b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};function mK(a,b,c,d,e){this.attr=a;this.limit=b;this.Qi=c;this.Oi=d;this.Ri=e;this.Si=2230716170;this.Xi=139264}g=mK.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};
g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "attr":return this.attr;case "limit":return this.limit;default:return B.Ni(this.Oi,b,c)}};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.pull-parser.PullLimitExpr{",", ","}",c,T.Li(new W(null,2,5,Y,[new W(null,2,5,Y,[Ix,this.attr],null),new W(null,2,5,Y,[Hm,this.limit],null)],null),this.Oi))};g.na=function(){return new Xi(this,2,new W(null,2,5,Y,[Ix,Hm],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 2+K(this.Oi)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=2109320956^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.attr,b.attr)&&D.Li(this.limit,b.limit)&&D.Li(this.Oi,b.Oi)};g.gd=function(){return gi(jK(this.attr),new W(null,2,5,Y,[1,Hm],null),this.limit)};g.wa=function(a,b){return Pf(new qk(null,new p(null,2,[Hm,null,Ix,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new mK(this.attr,this.limit,this.Qi,mh(R.Li(this.Oi,b)),null)};
g.ba=function(a,b,c){return q(S.Li?S.Li(Ix,b):S.call(null,Ix,b))?new mK(c,this.limit,this.Qi,this.Oi,null):q(S.Li?S.Li(Hm,b):S.call(null,Hm,b))?new mK(this.attr,c,this.Qi,this.Oi,null):new mK(this.attr,this.limit,this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(new W(null,2,5,Y,[new X(Ix,this.attr),new X(Hm,this.limit)],null),this.Oi))};g.ea=function(a,b){return new mK(this.attr,this.limit,b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};
function nK(a,b,c,d,e){this.attr=a;this.value=b;this.Qi=c;this.Oi=d;this.Ri=e;this.Si=2230716170;this.Xi=139264}g=nK.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "attr":return this.attr;case "value":return this.value;default:return B.Ni(this.Oi,b,c)}};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.pull-parser.PullDefaultExpr{",", ","}",c,T.Li(new W(null,2,5,Y,[new W(null,2,5,Y,[Ix,this.attr],null),new W(null,2,5,Y,[Jw,this.value],null)],null),this.Oi))};g.na=function(){return new Xi(this,2,new W(null,2,5,Y,[Ix,Jw],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 2+K(this.Oi)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=-1499761615^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.attr,b.attr)&&D.Li(this.value,b.value)&&D.Li(this.Oi,b.Oi)};g.gd=function(){return gi(jK(this.attr),new W(null,2,5,Y,[1,Xl],null),this.value)};g.wa=function(a,b){return Pf(new qk(null,new p(null,2,[Jw,null,Ix,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new nK(this.attr,this.value,this.Qi,mh(R.Li(this.Oi,b)),null)};
g.ba=function(a,b,c){return q(S.Li?S.Li(Ix,b):S.call(null,Ix,b))?new nK(c,this.value,this.Qi,this.Oi,null):q(S.Li?S.Li(Jw,b):S.call(null,Jw,b))?new nK(this.attr,c,this.Qi,this.Oi,null):new nK(this.attr,this.value,this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(new W(null,2,5,Y,[new X(Ix,this.attr),new X(Jw,this.value)],null),this.Oi))};g.ea=function(a,b){return new nK(this.attr,this.value,b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};
function oK(a,b,c){this.Qi=a;this.Oi=b;this.Ri=c;this.Si=2230716170;this.Xi=139264}g=oK.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){return B.Ni(this.Oi,b,c)};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.pull-parser.PullWildcard{",", ","}",c,T.Li(qf,this.Oi))};
g.na=function(){return new Xi(this,0,qf,q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 0+K(this.Oi)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=-163917799^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.Oi,b.Oi)};g.wa=function(a,b){return Pf(sk,b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new oK(this.Qi,mh(R.Li(this.Oi,b)),null)};g.ba=function(a,b,c){return new oK(this.Qi,Q.Ni(this.Oi,b,c),null)};
g.ga=function(){return E(T.Li(qf,this.Oi))};g.ea=function(a,b){return new oK(b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};function pK(a,b,c,d){this.limit=a;this.Qi=b;this.Oi=c;this.Ri=d;this.Si=2230716170;this.Xi=139264}g=pK.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "limit":return this.limit;default:return B.Ni(this.Oi,b,c)}};
g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.pull-parser.PullRecursionLimit{",", ","}",c,T.Li(new W(null,1,5,Y,[new W(null,2,5,Y,[Hm,this.limit],null)],null),this.Oi))};g.na=function(){return new Xi(this,1,new W(null,1,5,Y,[Hm],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 1+K(this.Oi)};
g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=1552688154^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.limit,b.limit)&&D.Li(this.Oi,b.Oi)};g.gd=function(){return new W(null,2,5,Y,[vs,this.limit],null)};g.wa=function(a,b){return Pf(new qk(null,new p(null,1,[Hm,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new pK(this.limit,this.Qi,mh(R.Li(this.Oi,b)),null)};
g.ba=function(a,b,c){return q(S.Li?S.Li(Hm,b):S.call(null,Hm,b))?new pK(c,this.Qi,this.Oi,null):new pK(this.limit,this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(new W(null,1,5,Y,[new X(Hm,this.limit)],null),this.Oi))};g.ea=function(a,b){return new pK(this.limit,b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};function qK(a,b,c,d,e){this.attr=a;this.Wc=b;this.Qi=c;this.Oi=d;this.Ri=e;this.Si=2230716170;this.Xi=139264}g=qK.prototype;
g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "attr":return this.attr;case "porrl":return this.Wc;default:return B.Ni(this.Oi,b,c)}};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.pull-parser.PullMapSpecEntry{",", ","}",c,T.Li(new W(null,2,5,Y,[new W(null,2,5,Y,[Ix,this.attr],null),new W(null,2,5,Y,[vB,this.Wc],null)],null),this.Oi))};g.na=function(){return new Xi(this,2,new W(null,2,5,Y,[Ix,vB],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 2+K(this.Oi)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=152088668^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.attr,b.attr)&&D.Li(this.Wc,b.Wc)&&D.Li(this.Oi,b.Oi)};g.gd=function(){return ii.Vi(jK(this.attr),1,pf,jK(this.Wc))};g.wa=function(a,b){return Pf(new qk(null,new p(null,2,[vB,null,Ix,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new qK(this.attr,this.Wc,this.Qi,mh(R.Li(this.Oi,b)),null)};
g.ba=function(a,b,c){return q(S.Li?S.Li(Ix,b):S.call(null,Ix,b))?new qK(c,this.Wc,this.Qi,this.Oi,null):q(S.Li?S.Li(vB,b):S.call(null,vB,b))?new qK(this.attr,c,this.Qi,this.Oi,null):new qK(this.attr,this.Wc,this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(new W(null,2,5,Y,[new X(Ix,this.attr),new X(vB,this.Wc)],null),this.Oi))};g.ea=function(a,b){return new qK(this.attr,this.Wc,b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};
function rK(a,b,c,d,e){this.attr=a;this.pc=b;this.Qi=c;this.Oi=d;this.Ri=e;this.Si=2230716170;this.Xi=139264}g=rK.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "attr":return this.attr;case "opts":return this.pc;default:return B.Ni(this.Oi,b,c)}};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.pull-parser.PullAttrWithOpts{",", ","}",c,T.Li(new W(null,2,5,Y,[new W(null,2,5,Y,[Ix,this.attr],null),new W(null,2,5,Y,[Rn,this.pc],null)],null),this.Oi))};g.na=function(){return new Xi(this,2,new W(null,2,5,Y,[Ix,Rn],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 2+K(this.Oi)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=-429987476^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.attr,b.attr)&&D.Li(this.pc,b.pc)&&D.Li(this.Oi,b.Oi)};g.gd=function(){return ii.Vi(jK(this.attr),1,lk,this.pc)};g.wa=function(a,b){return Pf(new qk(null,new p(null,2,[Rn,null,Ix,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new rK(this.attr,this.pc,this.Qi,mh(R.Li(this.Oi,b)),null)};
g.ba=function(a,b,c){return q(S.Li?S.Li(Ix,b):S.call(null,Ix,b))?new rK(c,this.pc,this.Qi,this.Oi,null):q(S.Li?S.Li(Rn,b):S.call(null,Rn,b))?new rK(this.attr,c,this.Qi,this.Oi,null):new rK(this.attr,this.pc,this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(new W(null,2,5,Y,[new X(Ix,this.attr),new X(Rn,this.pc)],null),this.Oi))};g.ea=function(a,b){return new rK(this.attr,this.pc,b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};
function sK(a,b){return b instanceof oK?Q.Ni(a,Ro,!0):ii.Vi(a,Ct,Zg,jK(b))}function tK(a,b,c,d){this.pd=a;this.Qi=b;this.Oi=c;this.Ri=d;this.Si=2230716170;this.Xi=139264}g=tK.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "specs":return this.pd;default:return B.Ni(this.Oi,b,c)}};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.pull-parser.PullPattern{",", ","}",c,T.Li(new W(null,1,5,Y,[new W(null,2,5,Y,[Ju,this.pd],null)],null),this.Oi))};g.na=function(){return new Xi(this,1,new W(null,1,5,Y,[Ju],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 1+K(this.Oi)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=-795554044^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.pd,b.pd)&&D.Li(this.Oi,b.Oi)};g.gd=function(){var a=new iK(!1,Td(V),null,null,null);a=v.Ni(sK,a,this.pd);return new W(null,2,5,Y,[Fq,ii.Ni(a,Ct,Xg)],null)};g.wa=function(a,b){return Pf(new qk(null,new p(null,1,[Ju,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new tK(this.pd,this.Qi,mh(R.Li(this.Oi,b)),null)};
g.ba=function(a,b,c){return q(S.Li?S.Li(Ju,b):S.call(null,Ju,b))?new tK(c,this.Qi,this.Oi,null):new tK(this.pd,this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(new W(null,1,5,Y,[new X(Ju,this.pd)],null),this.Oi))};g.ea=function(a,b){return new tK(this.pd,b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};var uK=new qk(null,new p(null,3,[ms,null,"*",null,ix,null],null),null);
function vK(a){return a instanceof C||"string"===typeof a?VJ(a)?new lK(WJ(a),a,null,null,null):new kK(a,null,null,null):null}var wK=new qk(null,new p(null,2,["...",null,Su,null],null),null);function xK(a){return Ef(a)&&D.Li(3,K(a))}var yK=new qk(null,new p(null,3,[Mp,null,Hm,null,"limit",null],null),null);
function zK(a){var b=P(a,0,null),c=P(a,1,null),d=P(a,2,null);if(q(yK.Mi?yK.Mi(b):yK.call(null,b))){b=null==d||"number"===typeof d&&0<d?vK(c):!1;if(q(b))return new mK(b,d,null,null,null);throw dm('Expected ["limit" attr-name (positive-number | nil)]',new p(null,2,[rp,dy,qt,a],null));}return null}var AK=new qk(null,new p(null,3,[Xo,null,Xl,null,"default",null],null),null);
function BK(a){if(Ef(a)){a=E(a);var b=H(a);a=J(a);b=vK(b);if(null==b)a=null;else{var c;if(c=th(K(a)))c=rh(new qk(null,new p(null,3,[Hm,null,Xl,null,Xy,null],null),null),Lh.Li(H,di(2,2,a)));a=c?new rK(b,gh(ik,a),null,null,null):null}return a}return null}
function CK(a){var b=P(a,0,null),c=P(a,1,null);a=function(){var e=vK(b);if(q(e))return e;e=BK(b);return q(e)?e:xK(b)?zK(b):null}();if(q(a)){var d=function(){var e=q(wK.Mi?wK.Mi(c):wK.call(null,c))?new pK(null,null,null,null):"number"===typeof c&&0<c?new pK(c,null,null,null):null;return q(e)?e:DK.Mi?DK.Mi(c):DK.call(null,c)}();if(q(d))return new qK(a,d,null,null,null);throw dm("Expected (pattern | recursion-limit)",new p(null,2,[rp,dy,qt,new W(null,2,5,Y,[b,c],null)],null));}throw dm("Expected (attr-name | limit-expr)",
new p(null,2,[rp,dy,qt,new W(null,2,5,Y,[b,c],null)],null));}
function EK(a){var b=vK(a);if(q(b))return b;b=q(uK.Mi?uK.Mi(a):uK.call(null,a))?new oK(null,null,null):null;if(q(b))return b;b=Ff(a)?CK(H(a)):null;if(q(b))return b;b=BK(a);if(q(b))return b;if(xK(a)){if(b=zK(a),!q(b))b:{var c=P(a,0,null),d=P(a,1,null);b=P(a,2,null);if(q(AK.Mi?AK.Mi(c):AK.call(null,c))){c=vK(d);if(q(c)){b=new nK(c,b,null,null,null);break b}throw dm('Expected ["default" attr-name any-value]',new p(null,2,[rp,dy,qt,a],null));}b=null}}else b=null;if(q(b))return b;throw dm("Cannot parse attr-spec, expected: (attr-name | wildcard | map-spec | attr-expr)",
new p(null,2,[rp,dy,qt,a],null));}function FK(a){return Ff(a)?Zx:q(uK.Mi?uK.Mi(a):uK.call(null,a))?Ot:cv}function GK(a){return ai.Ni(qf,Lh.Mi(function(b){return pf.Li(V,b)}),a)}function HK(a){a=Il(FK,a);var b=q(mh(B.Li(a,Ot)))?new W(null,1,5,Y,[ix],null):qf;return ai.Ni(ai.Li(b,B.Li(a,cv)),wh.Li(Lh.Mi(GK),vl),B.Li(a,Zx))}function DK(a){return Ef(a)?new tK(ai.Ni(qf,Lh.Mi(EK),HK(a)),null,null,null):null}
function IK(a){var b=null==a?null:DK(a);b=null==b?null:mf(jK(b));if(q(b))return b;throw dm("Cannot parse pull pattern, expected: [attr-spec+]",new p(null,2,[rp,dy,qt,a],null));};function JK(a,b){return v.Ni(Zg,a,b)}function KK(a,b,c){return Oj([Up,fo,Zn,vs,Ju,Ro,Os,Pz,hB],[c,b,Pz,new p(null,2,[Tp,V,Fr,sk],null),E(Ct.Mi(a)),Ro.Mi(a),Td(V),a,Td(qf)])}function LK(a,b,c,d){return Q.Ni(KK(a,b,c),Ix,d)}function MK(a,b,c){var d=Pz.Mi(a);return Q.Pi(a,fo,b,M([Ju,E(Ct.Mi(d)),Ro,Ro.Mi(d),Os,Td(V),hB,function(){var e=hB.Mi(a);return E(c)?Zg.Li(e,c):e}()]))}
function NK(a,b,c){var d=null!=a&&(a.Si&64||l===a.va)?gh(hk,a):a,e=B.Li(d,Tp);d=B.Li(d,Fr);return Q.Pi(a,Tp,ii.Ni(e,b,yh(Oe,0)),M([Fr,pf.Li(d,c)]))}function OK(a,b,c){return Pf(fi(a,new W(null,2,5,Y,[vs,Fr],null),sk),c)?pf.Li(b,ii.Vi(a,hB,Zg,new p(null,1,[Xr,c],null))):null}function PK(a,b){b=Os.Mi(b);b=null==b?null:Vd(b);return null==b?null:B.Li(b,a)}function QK(a,b){var c=Ix.Mi(a);c=NK(vs.Mi(a),c,b);return Q.Ni(LK(Pz.Mi(a),new W(null,1,5,Y,[b],null),!1,Dt),vs,c)}
function RK(a){a=E(a);var b=H(a);a=J(a);var c=E(fo.Mi(b));if(c){b=MK(b,Fe(c),PK(Dt,b));c=H(c);var d=OK(b,a,c);return q(d)?d:pf.Pi(a,b,M([QK(b,c)]))}c=PK(Dt,b);d=hB.Mi(b);c=E(c)?Zg.Li(d,c):d;return pf.Li(a,Q.Pi(b,Zn,Sw,M([hB,c])))}function SK(a,b,c,d,e){var f=null!=d&&(d.Si&64||l===d.va)?gh(hk,d):d,h=B.Li(f,vs);f=B.Li(f,Pz);var k=B.Ni(B.Li(h,Tp),a,0);return D.Li(vs.Mi(B.Li(Ct.Mi(f),a)),k)?pf.Li(e,d):RK(pf.Pi(e,d,M([new p(null,7,[Zn,vs,Pz,f,Ix,a,Up,b,fo,c,vs,h,hB,Td(qf)],null)])))}
var TK=new iK(!0,V,null,null,null);function UK(a,b,c,d,e){a=NK(vs.Mi(a),c,b);return Q.Ni(LK(TK,e,d,c),vs,a)}
function VK(a,b,c,d,e,f,h,k){var m=E(k);k=H(m);m=J(m);var n=B.Ni(h,Hm,1E3),r=function(){var F=Xy.Mi(h);return q(F)?F:b}(),u=mh(q(n)?ai.Ni(qf,Mh.Mi(n),f):f);if(q(u)){var w=HJ(a,c);f=w&&KJ(a,c,Cm);a=q(e)?KJ(a,c,DA):!f;var A=q(e)?function(F){return F.v}:function(F){return F.e};if(Pf(h,Fq))return pf.Pi(m,k,M([LK(Fq.Mi(h),bi.Li(A,u),a,r)]));if(Pf(h,vs))return SK(r,a,bi.Li(A,u),k,m);if(q(f?e:!1))return pf.Pi(m,k,M([UK(k,d,r,a,bi.Li(A,u))]));var G=function(){return w?wh.Li(function(F){return Oj([Xr],[F])},
A):A}(),I=!a;return pf.Li(m,ii.la(k,Os,$g,r,function(){var F=ai.Ni(qf,Lh.Mi(G),u);return I?H(F):F}()))}return pf.Li(m,Pf(h,Xl)?ii.la(k,Os,$g,r,Xl.Mi(h)):k)}var WK=Yh(function(a){var b=P(a,0,null);a=P(a,1,null);return lh.Li(b,Ix.Mi(a))});function XK(a,b,c){return LK(Q.Pi(Pz.Mi(a),Ct,c,M([Ro,!1])),new W(null,1,5,Y,[b],null),!1,Yn)}function YK(a,b){return pf.Li(Fe(a),ii.Vi(H(a),Os,JK,Vd(b)))}function ZK(a){var b=E(a);a=H(b);b=J(b);var c=xx.Mi(a);a=PK(Yn,a);return YK(b,JK(c,q(a)?a:V))}
function $K(a,b){var c=E(b);b=H(c);c=J(c);var d=E(Gq.Mi(b));if(d){var e=H(d);d=P(e,0,null);e=P(e,1,null);var f=B.Ni(ei(b,new W(null,2,5,Y,[Pz,Ct],null)),d,V);return VK(a,d,d,Yv.Mi(b),!0,e,f,pf.Li(c,ii.Ni(b,Gq,Fe)))}a=mh(ai.Ni(V,WK,ei(b,new W(null,2,5,Y,[Pz,Ct],null))));return q(a)?(b=Q.Pi(b,Zn,jo,M([xx,Os.Mi(b),Os,Td(V)])),pf.Pi(c,b,M([XK(b,Yv.Mi(b),a)]))):YK(c,Os.Mi(b))}
function aL(a,b,c,d,e){var f=Il(function(m){return m.a},kJ(a,Wu,new W(null,1,5,Y,[d],null))),h=null!=b&&(b.Si&64||l===b.va)?gh(hk,b):b,k=B.Li(h,Ix);h=B.Li(h,vs);k=null!=k?NK(h,k,d):h;return $K(a,pf.Pi(c,b,M([new p(null,6,[Zn,wy,Os,Td(new p(null,1,[Xr,d],null)),Yv,d,Pz,e,Gq,E(f),vs,k],null)])))}
function bL(a,b){for(;;){var c=E(b);b=H(c);var d=J(c);c=b;if(b=E(fo.Mi(c))){if(q(Ro.Mi(c))){b=Q.Pi(c,Ju,qf,M([Yv,H(b),Ro,!1]));c=d;var e=null!=b&&(b.Si&64||l===b.va)?gh(hk,b):b;d=B.Li(e,Yv);e=B.Li(e,Pz);var f=OK(b,c,d);return q(f)?f:aL(a,b,c,d,e)}if(e=E(Ju.Mi(c))){f=e;e=H(f);Pz.Mi(c);c=pf.Li(d,Q.Ni(c,Ju,Fe(f)));b=H(b);d=P(e,0,null);e=P(e,1,null);if(D.Li(Xr,d))a=q(mh(kJ(a,Wu,new W(null,1,5,Y,[b],null))))?pf.Li(Fe(c),ii.la(H(c),Os,$g,Xr,b)):c;else{f=Ix.Mi(e);var h=D.Li(d,f),k=h?kJ(a,Wu,new W(null,2,
5,Y,[b,f],null)):kJ(a,Qm,new W(null,2,5,Y,[f,b],null));a=VK(a,d,f,b,h,k,e,c)}return a}b=pf.Li(d,MK(c,Fe(b),mh(Vd(Os.Mi(c)))))}else return pf.Li(d,Q.Ni(c,Zn,Sw))}}
function cL(a,b){for(;;){var c=Zn.Mi(H(b));c=c instanceof C?c.ma:null;switch(c){case "expand":c=a;b=$K(a,b);a=c;continue;case "expand-rev":b=ZK(b);continue;case "pattern":c=a;b=bL(a,b);a=c;continue;case "recursion":b=RK(b);continue;case "done":c=E(b);b=H(c);c=J(c);var d=b,e=c,f=function(){var h=Vd(hB.Mi(d));return yc(Up.Mi(d))?H(h):h}();if(E(e)){b=pf.Li(Fe(e),function(){var h=H(e);return q(f)?ii.la(h,Os,$g,Ix.Mi(d),f):h}());continue}else return f;default:throw Error(["No matching clause: ",t.Mi(c)].join(""));
}}}function dL(a,b,c){c=ai.Ni(qf,Lh.Mi(function(d){return IJ(a,d)}),c);return cL(a,new rf(null,KK(b,c,!1),null,1,null))};function eL(a,b,c,d,e){this.Ud=a;this.Bg=b;this.Eg=c;this.Ag=d;this.limit=e;this.Si=2147484416;this.Xi=0}eL.prototype.ba=function(a,b,c){return fL.Ni?fL.Ni(this,b,c):fL.call(null,this,b,c)};eL.prototype.ka=function(a,b){return ad(this.Ud,b,null)};eL.prototype.Wi=function(a,b,c){return ad(this.Ud,b,c)};eL.prototype.fa=function(a,b,c){return Md(this.Ud,b,c)};function gL(a,b,c,d,e){return new eL(a,b,c,d,e)}
function fL(a,b,c){var d=a.Ud,e=a.Bg,f=a.Eg,h=a.Ag;a=a.limit;var k=f.Li?f.Li(b,null):f.call(null,b,null);if(q(k))return gL(d,Q.Ni(R.Li(e,k),h,b),Q.Ni(f,b,h),h+1,a);b=gL(Q.Ni(d,b,c),Q.Ni(e,h,b),Q.Ni(f,b,h),h+1,a);return hL.Mi?hL.Mi(b):hL.call(null,b)}function hL(a){if(K(a.Ud)>a.limit){var b=a.Ud,c=a.Bg,d=a.Eg,e=a.Ag;a=a.limit;var f=H(c),h=P(f,0,null);f=P(f,1,null);return gL(R.Li(b,f),R.Li(c,h),R.Li(d,f),e,a)}return a};function iL(a,b){b="number"===typeof b||Ef(b)||b instanceof C?LJ(a,b):null;if(q(b)){var c=Hh(!1),d=Hh(V);return jL.Vi?jL.Vi(a,b,c,d):jL.call(null,a,b,c,d)}return null}function kL(a,b,c){return KJ(a,b,DA)?HJ(a,b)?v.Ni(function(d,e){return pf.Li(d,iL(a,uw.Mi(e)))},sk,c):v.Ni(function(d,e){return pf.Li(d,uw.Mi(e))},sk,c):HJ(a,b)?iL(a,uw.Mi(H(c))):uw.Mi(H(c))}
function lL(a,b,c,d){b=mh(iJ(a,new W(null,3,5,Y,[null,c,b],null)));return q(b)?KJ(a,c,Cm)?iL(a,jw.Mi(H(b))):v.Ni(function(e,f){return pf.Li(e,iL(a,jw.Mi(f)))},sk,b):d}function mL(a){return q(a)?Wf(a):null}
function nL(a){oL.Mi?oL.Mi(a):oL.call(null,a);return function d(c){return new Jg(null,function(){for(;;){var e=E(c);if(e){if(If(e)){var f=ae(e),h=K(f),k=Ng(h);a:for(var m=0;;)if(m<h){var n=x(f,m),r=P(n,0,null);n=P(n,1,null);r=KJ(a.db,r,DA)?new W(null,2,5,Y,[r,mL(n)],null):new W(null,2,5,Y,[r,n],null);k.add(r);m+=1}else{f=!0;break a}return f?Qg(Sg(k),d(be(e))):Qg(Sg(k),null)}f=H(e);k=P(f,0,null);f=P(f,1,null);return hf(KJ(a.db,k,DA)?new W(null,2,5,Y,[k,mL(f)],null):new W(null,2,5,Y,[k,f],null),d(Fe(e)))}return null}},
null,null)}(y(a.cache))}function pL(a,b,c,d){this.db=a;this.Uc=b;this.Uf=c;this.cache=d;this.Si=2162164483;this.Xi=0}g=pL.prototype;g.entry_set=function(){return Wf(Lh.Li(Wf,nL(this)))};
g.forEach=function(){function a(d,e){for(var f=E(nL(this)),h=null,k=0,m=0;;)if(m<k){var n=h.xa(null,m),r=P(n,0,null);n=P(n,1,null);d.call(e,n,r,this);m+=1}else if(f=E(f))If(f)?(h=ae(f),f=be(f),r=h,k=K(h),h=r):(h=H(f),r=P(h,0,null),n=P(h,1,null),d.call(e,n,r,this),f=J(f),h=null,k=0),m=0;else return null}function b(d){for(var e=E(nL(this)),f=null,h=0,k=0;;)if(k<h){var m=f.xa(null,k),n=P(m,0,null);m=P(m,1,null);d.Ni?d.Ni(m,n,this):d.call(null,m,n,this);k+=1}else if(e=E(e))If(e)?(f=ae(e),e=be(e),n=f,
h=K(f),f=n):(f=H(e),n=P(f,0,null),m=P(f,1,null),d.Ni?d.Ni(m,n,this):d.call(null,m,n,this),e=J(e),f=null,h=0),k=0;else return null}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+arguments.length);};c.Mi=b;c.Li=a;return c}();g.get=function(a){if(D.Li(a,":db/id"))return this.Uc;if(VJ(a))return mL(lL(this.db,this.Uc,WJ(a),null));var b=qL?qL(this,a):rL.call(null,this,a);return KJ(this.db,a,DA)?mL(b):b};
g.key_set=function(){return Wf(cj(this))};g.entries=function(){return new Yi(E(nL(this)))};g.value_set=function(){return Wf(Lh.Li(mf,nL(this)))};g.toString=function(){return le(this)};g.keys=function(){return Ie(cj(this))};g.values=function(){return Ie(Lh.Li(mf,nL(this)))};g.equiv=function(a){return sL.Li?sL.Li(this,a):sL.call(null,this,a)};g.has=function(a){return null!=this.get(a)};g.ka=function(a,b){return tL?tL(this,b,null):rL.call(null,this,b,null)};
g.Wi=function(a,b,c){return tL?tL(this,b,c):rL.call(null,this,b,c)};g.fa=function(a,b,c){return Md(Q.Ni(y(this.cache),Xr,this.Uc),b,c)};g.ha=function(){oL.Mi?oL.Mi(this):oL.call(null,this);return K(y(this.cache))};g.ia=function(){return ve(this.Uc)};g.aa=function(a,b){return sL.Li?sL.Li(this,b):sL.call(null,this,b)};g.ga=function(){oL.Mi?oL.Mi(this):oL.call(null,this);return E(y(this.cache))};
g.call=function(a){switch(arguments.length-1){case 1:return this.Mi(arguments[1]);case 2:return this.Li(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.Mi=function(a){return qL?qL(this,a):rL.call(null,this,a)};g.Li=function(a,b){return tL?tL(this,a,b):rL.call(null,this,a,b)};function jL(a,b,c,d){return new pL(a,b,c,d)}
function sL(a,b){return b instanceof pL&&D.Li(a.Uc,b.Uc)}function rL(a){switch(arguments.length){case 2:return qL(arguments[0],arguments[1]);case 3:return tL(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length)].join(""));}}function qL(a,b){return tL(a,b,null)}
function tL(a,b,c){if(D.Li(b,Xr))return a.Uc;if(VJ(b))return lL(a.db,a.Uc,WJ(b),c);var d=y(a.cache);d=d.Mi?d.Mi(b):d.call(null,b);if(null==d){if(q(y(a.Uf)))return c;d=mh(iJ(a.db,new W(null,2,5,Y,[a.Uc,b],null)));if(null==d)return c;c=kL(a.db,b,d);b=Q.Ni(y(a.cache),b,c);he(a.cache,b);return c}return d}function uL(a,b){return cg(function(c,d,e){return Q.Ni(c,d,KJ(a,d,Cm)?KJ(a,d,DA)?tk(Lh.Li(oL,e)):oL.Mi?oL.Mi(e):oL.call(null,e):e)},V,b)}
function vL(a,b){return v.Ni(function(c,d){var e=nw.Mi(H(d));return Q.Ni(c,e,kL(a,e,d))},V,Jk(nw,b))}function oL(a){if(!q(y(a.Uf))){var b=mh(iJ(a.db,new W(null,1,5,Y,[a.Uc],null)));q(b)&&(b=uL(a.db,vL(a.db,b)),he(a.cache,b),he(a.Uf,!0))}return a}Ha("datascript.impl.entity.Entity",pL);function wL(){}function xL(a,b,c){if(null!=a&&null!=a.Qa)a=a.Qa(a,b,c);else{var d=xL[pa(null==a?null:a)];if(null!=d)a=d.Ni?d.Ni(a,b,c):d.call(null,a,b,c);else if(d=xL._,null!=d)a=d.Ni?d.Ni(a,b,c):d.call(null,a,b,c);else throw Cc("ITraversable.-collect",a);}return a}
function yL(a,b){if(null!=a&&null!=a.Ra)a=a.Ra(a,b);else{var c=yL[pa(null==a?null:a)];if(null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else if(c=yL._,null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else throw Cc("ITraversable.-collect-vars",a);}return a}function zL(a,b){return Ef(a)&&D.Li(K(a),b)}function AL(a,b){return Ef(b)?v.Ni(function(c,d){d=a.Mi?a.Mi(d):a.call(null,d);return q(d)?pf.Li(c,d):Qe(null)},qf,b):null}function BL(a,b){return CL(a,b,qf)}
function CL(a,b,c){return q(a.Mi?a.Mi(b):a.call(null,b))?pf.Li(c,b):(null!=b?l===b.Pa||(b.yd?0:Ac(wL,b)):Ac(wL,b))?xL(b,a,c):HI(b)?v.Ni(function(d,e){return CL(a,e,d)},c,b):c}function DL(a){var b=Bf(a);return b?b:gh(Qf,a)}function EL(a,b){return xf(a,new p(null,1,[cn,b],null))}function FL(a){var b=cn.Mi(yf(a));return q(b)?b:a}function GL(a,b,c){this.Qi=a;this.Oi=b;this.Ri=c;this.Si=2230716170;this.Xi=139264}g=GL.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};
g.Wi=function(a,b,c){return B.Ni(this.Oi,b,c)};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.Placeholder{",", ","}",c,T.Li(qf,this.Oi))};g.na=function(){return new Xi(this,0,qf,q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 0+K(this.Oi)};
g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=-528488587^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.Oi,b.Oi)};g.wa=function(a,b){return Pf(sk,b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new GL(this.Qi,mh(R.Li(this.Oi,b)),null)};g.ba=function(a,b,c){return new GL(this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(qf,this.Oi))};g.ea=function(a,b){return new GL(b,this.Oi,this.Ri)};
g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return c};g.Ra=function(a,b){return b};function HL(a,b,c,d){this.symbol=a;this.Qi=b;this.Oi=c;this.Ri=d;this.Si=2230716170;this.Xi=139264}g=HL.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "symbol":return this.symbol;default:return B.Ni(this.Oi,b,c)}};
g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.Variable{",", ","}",c,T.Li(new W(null,1,5,Y,[new W(null,2,5,Y,[Dw,this.symbol],null)],null),this.Oi))};g.na=function(){return new Xi(this,1,new W(null,1,5,Y,[Dw],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 1+K(this.Oi)};
g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=736891289^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.symbol,b.symbol)&&D.Li(this.Oi,b.Oi)};g.wa=function(a,b){return Pf(new qk(null,new p(null,1,[Dw,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new HL(this.symbol,this.Qi,mh(R.Li(this.Oi,b)),null)};
g.ba=function(a,b,c){return q(S.Li?S.Li(Dw,b):S.call(null,Dw,b))?new HL(c,this.Qi,this.Oi,null):new HL(this.symbol,this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(new W(null,1,5,Y,[new X(Dw,this.symbol)],null),this.Oi))};g.ea=function(a,b){return new HL(this.symbol,b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return CL(b,this.symbol,c)};
g.Ra=function(a,b){return IL.Li?IL.Li(b,this.symbol):IL.call(null,b,this.symbol)};function JL(a,b,c,d){this.symbol=a;this.Qi=b;this.Oi=c;this.Ri=d;this.Si=2230716170;this.Xi=139264}g=JL.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "symbol":return this.symbol;default:return B.Ni(this.Oi,b,c)}};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.SrcVar{",", ","}",c,T.Li(new W(null,1,5,Y,[new W(null,2,5,Y,[Dw,this.symbol],null)],null),this.Oi))};g.na=function(){return new Xi(this,1,new W(null,1,5,Y,[Dw],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 1+K(this.Oi)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=-1648766309^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.symbol,b.symbol)&&D.Li(this.Oi,b.Oi)};g.wa=function(a,b){return Pf(new qk(null,new p(null,1,[Dw,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new JL(this.symbol,this.Qi,mh(R.Li(this.Oi,b)),null)};g.ba=function(a,b,c){return q(S.Li?S.Li(Dw,b):S.call(null,Dw,b))?new JL(c,this.Qi,this.Oi,null):new JL(this.symbol,this.Qi,Q.Ni(this.Oi,b,c),null)};
g.ga=function(){return E(T.Li(new W(null,1,5,Y,[new X(Dw,this.symbol)],null),this.Oi))};g.ea=function(a,b){return new JL(this.symbol,b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return CL(b,this.symbol,c)};g.Ra=function(a,b){return IL.Li?IL.Li(b,this.symbol):IL.call(null,b,this.symbol)};function KL(a,b,c){this.Qi=a;this.Oi=b;this.Ri=c;this.Si=2230716170;this.Xi=139264}g=KL.prototype;
g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){return B.Ni(this.Oi,b,c)};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.DefaultSrc{",", ","}",c,T.Li(qf,this.Oi))};g.na=function(){return new Xi(this,0,qf,q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 0+K(this.Oi)};
g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=-350962559^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.Oi,b.Oi)};g.wa=function(a,b){return Pf(sk,b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new KL(this.Qi,mh(R.Li(this.Oi,b)),null)};g.ba=function(a,b,c){return new KL(this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(qf,this.Oi))};g.ea=function(a,b){return new KL(b,this.Oi,this.Ri)};
g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return c};g.Ra=function(a,b){return b};function LL(a,b,c){this.Qi=a;this.Oi=b;this.Ri=c;this.Si=2230716170;this.Xi=139264}g=LL.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){return B.Ni(this.Oi,b,c)};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.RulesVar{",", ","}",c,T.Li(qf,this.Oi))};g.na=function(){return new Xi(this,0,qf,q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 0+K(this.Oi)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=-1504050517^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.Oi,b.Oi)};
g.wa=function(a,b){return Pf(sk,b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new LL(this.Qi,mh(R.Li(this.Oi,b)),null)};g.ba=function(a,b,c){return new LL(this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(qf,this.Oi))};g.ea=function(a,b){return new LL(b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return c};g.Ra=function(a,b){return b};
function ML(a,b,c,d){this.value=a;this.Qi=b;this.Oi=c;this.Ri=d;this.Si=2230716170;this.Xi=139264}g=ML.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "value":return this.value;default:return B.Ni(this.Oi,b,c)}};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.Constant{",", ","}",c,T.Li(new W(null,1,5,Y,[new W(null,2,5,Y,[Jw,this.value],null)],null),this.Oi))};g.na=function(){return new Xi(this,1,new W(null,1,5,Y,[Jw],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 1+K(this.Oi)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=-812884714^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.value,b.value)&&D.Li(this.Oi,b.Oi)};g.wa=function(a,b){return Pf(new qk(null,new p(null,1,[Jw,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new ML(this.value,this.Qi,mh(R.Li(this.Oi,b)),null)};g.ba=function(a,b,c){return q(S.Li?S.Li(Jw,b):S.call(null,Jw,b))?new ML(c,this.Qi,this.Oi,null):new ML(this.value,this.Qi,Q.Ni(this.Oi,b,c),null)};
g.ga=function(){return E(T.Li(new W(null,1,5,Y,[new X(Jw,this.value)],null),this.Oi))};g.ea=function(a,b){return new ML(this.value,b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return CL(b,this.value,c)};g.Ra=function(a,b){return IL.Li?IL.Li(b,this.value):IL.call(null,b,this.value)};function NL(a,b,c,d){this.symbol=a;this.Qi=b;this.Oi=c;this.Ri=d;this.Si=2230716170;this.Xi=139264}g=NL.prototype;
g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "symbol":return this.symbol;default:return B.Ni(this.Oi,b,c)}};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.PlainSymbol{",", ","}",c,T.Li(new W(null,1,5,Y,[new W(null,2,5,Y,[Dw,this.symbol],null)],null),this.Oi))};
g.na=function(){return new Xi(this,1,new W(null,1,5,Y,[Dw],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 1+K(this.Oi)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=1509921913^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.symbol,b.symbol)&&D.Li(this.Oi,b.Oi)};
g.wa=function(a,b){return Pf(new qk(null,new p(null,1,[Dw,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new NL(this.symbol,this.Qi,mh(R.Li(this.Oi,b)),null)};g.ba=function(a,b,c){return q(S.Li?S.Li(Dw,b):S.call(null,Dw,b))?new NL(c,this.Qi,this.Oi,null):new NL(this.symbol,this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(new W(null,1,5,Y,[new X(Dw,this.symbol)],null),this.Oi))};g.ea=function(a,b){return new NL(this.symbol,b,this.Oi,this.Ri)};
g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return CL(b,this.symbol,c)};g.Ra=function(a,b){return IL.Li?IL.Li(b,this.symbol):IL.call(null,b,this.symbol)};function OL(a){return a instanceof z&&D.Li(H(Ig(a)),"?")?new HL(a,null,null,null):null}function PL(a){var b=OL(a);if(q(b))return b;throw dm(["Cannot parse var, expected symbol starting with ?, got: ",fl.Pi(M([a]))].join(""),new p(null,2,[rp,gq,ct,a],null));}
function QL(a){return a instanceof z&&D.Li(H(Ig(a)),"$")?new JL(a,null,null,null):null}function RL(a){return a instanceof z?null:new ML(a,null,null,null)}function SL(a){return a instanceof z&&yc(OL(a))&&yc(QL(a))&&yc(D.Li(bt,a)?new LL(null,null,null):null)&&yc(D.Li(dq,a)?new GL(null,null,null):null)?new NL(a,null,null,null):null}function TL(a){return q(SL(a))?new HL(a,null,null,null):null}function UL(a){var b=OL(a);if(q(b))return b;b=RL(a);return q(b)?b:QL(a)}
function VL(a,b,c,d,e){this.required=a;this.Kc=b;this.Qi=c;this.Oi=d;this.Ri=e;this.Si=2230716170;this.Xi=139264}g=VL.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "required":return this.required;case "free":return this.Kc;default:return B.Ni(this.Oi,b,c)}};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.RuleVars{",", ","}",c,T.Li(new W(null,2,5,Y,[new W(null,2,5,Y,[Rz,this.required],null),new W(null,2,5,Y,[Cr,this.Kc],null)],null),this.Oi))};g.na=function(){return new Xi(this,2,new W(null,2,5,Y,[Rz,Cr],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 2+K(this.Oi)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=892963297^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.required,b.required)&&D.Li(this.Kc,b.Kc)&&D.Li(this.Oi,b.Oi)};g.wa=function(a,b){return Pf(new qk(null,new p(null,2,[Cr,null,Rz,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new VL(this.required,this.Kc,this.Qi,mh(R.Li(this.Oi,b)),null)};
g.ba=function(a,b,c){return q(S.Li?S.Li(Rz,b):S.call(null,Rz,b))?new VL(c,this.Kc,this.Qi,this.Oi,null):q(S.Li?S.Li(Cr,b):S.call(null,Cr,b))?new VL(this.required,c,this.Qi,this.Oi,null):new VL(this.required,this.Kc,this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(new W(null,2,5,Y,[new X(Rz,this.required),new X(Cr,this.Kc)],null),this.Oi))};g.ea=function(a,b){return new VL(this.required,this.Kc,b,this.Oi,this.Ri)};
g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return CL(b,this.Kc,CL(b,this.required,c))};g.Ra=function(a,b){a=IL.Li?IL.Li(b,this.required):IL.call(null,b,this.required);b=this.Kc;return IL.Li?IL.Li(a,b):IL.call(null,a,b)};
function WL(a){if(Ef(a)){var b=Ef(H(a))?new W(null,2,5,Y,[H(a),J(a)],null):new W(null,2,5,Y,[null,a],null),c=P(b,0,null);b=P(b,1,null);c=AL(PL,c);b=AL(PL,b);if(Bf(c)&&Bf(b))throw dm("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",new p(null,2,[rp,zq,ct,a],null));if(!q(DL(T.Li(c,b))))throw dm("Rule variables should be distinct",new p(null,2,[rp,zq,ct,a],null));return new VL(c,b,null,null,null)}throw dm("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",
new p(null,2,[rp,zq,ct,a],null));}function XL(a){return T.Mi(q(Rz.Mi(a))?function(){bi.Li(Dw,Rz.Mi(a));return bi.Li(Dw,Cr.Mi(a))}():null)}function YL(a){return new W(null,2,5,Y,[K(Rz.Mi(a)),K(Cr.Mi(a))],null)}function ZL(a,b,c){this.Qi=a;this.Oi=b;this.Ri=c;this.Si=2230716170;this.Xi=139264}g=ZL.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){return B.Ni(this.Oi,b,c)};
g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.BindIgnore{",", ","}",c,T.Li(qf,this.Oi))};g.na=function(){return new Xi(this,0,qf,q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 0+K(this.Oi)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=-890522983^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.Oi,b.Oi)};g.wa=function(a,b){return Pf(sk,b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new ZL(this.Qi,mh(R.Li(this.Oi,b)),null)};g.ba=function(a,b,c){return new ZL(this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(qf,this.Oi))};g.ea=function(a,b){return new ZL(b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return c};g.Ra=function(a,b){return b};
function $L(a,b,c,d){this.Wa=a;this.Qi=b;this.Oi=c;this.Ri=d;this.Si=2230716170;this.Xi=139264}g=$L.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "variable":return this.Wa;default:return B.Ni(this.Oi,b,c)}};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.BindScalar{",", ","}",c,T.Li(new W(null,1,5,Y,[new W(null,2,5,Y,[Vt,this.Wa],null)],null),this.Oi))};g.na=function(){return new Xi(this,1,new W(null,1,5,Y,[Vt],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 1+K(this.Oi)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=-1522792445^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.Wa,b.Wa)&&D.Li(this.Oi,b.Oi)};g.wa=function(a,b){return Pf(new qk(null,new p(null,1,[Vt,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new $L(this.Wa,this.Qi,mh(R.Li(this.Oi,b)),null)};g.ba=function(a,b,c){return q(S.Li?S.Li(Vt,b):S.call(null,Vt,b))?new $L(c,this.Qi,this.Oi,null):new $L(this.Wa,this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(new W(null,1,5,Y,[new X(Vt,this.Wa)],null),this.Oi))};
g.ea=function(a,b){return new $L(this.Wa,b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return CL(b,this.Wa,c)};g.Ra=function(a,b){return IL.Li?IL.Li(b,this.Wa):IL.call(null,b,this.Wa)};function aM(a,b,c,d){this.bindings=a;this.Qi=b;this.Oi=c;this.Ri=d;this.Si=2230716170;this.Xi=139264}g=aM.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};
g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "bindings":return this.bindings;default:return B.Ni(this.Oi,b,c)}};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.BindTuple{",", ","}",c,T.Li(new W(null,1,5,Y,[new W(null,2,5,Y,[fn,this.bindings],null)],null),this.Oi))};
g.na=function(){return new Xi(this,1,new W(null,1,5,Y,[fn],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 1+K(this.Oi)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=-1637239347^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.bindings,b.bindings)&&D.Li(this.Oi,b.Oi)};
g.wa=function(a,b){return Pf(new qk(null,new p(null,1,[fn,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new aM(this.bindings,this.Qi,mh(R.Li(this.Oi,b)),null)};g.ba=function(a,b,c){return q(S.Li?S.Li(fn,b):S.call(null,fn,b))?new aM(c,this.Qi,this.Oi,null):new aM(this.bindings,this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(new W(null,1,5,Y,[new X(fn,this.bindings)],null),this.Oi))};g.ea=function(a,b){return new aM(this.bindings,b,this.Oi,this.Ri)};
g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return CL(b,this.bindings,c)};g.Ra=function(a,b){return IL.Li?IL.Li(b,this.bindings):IL.call(null,b,this.bindings)};function bM(a,b,c,d){this.binding=a;this.Qi=b;this.Oi=c;this.Ri=d;this.Si=2230716170;this.Xi=139264}g=bM.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};
g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "binding":return this.binding;default:return B.Ni(this.Oi,b,c)}};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.BindColl{",", ","}",c,T.Li(new W(null,1,5,Y,[new W(null,2,5,Y,[Vv,this.binding],null)],null),this.Oi))};
g.na=function(){return new Xi(this,1,new W(null,1,5,Y,[Vv],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 1+K(this.Oi)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=-1930368089^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.binding,b.binding)&&D.Li(this.Oi,b.Oi)};
g.wa=function(a,b){return Pf(new qk(null,new p(null,1,[Vv,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new bM(this.binding,this.Qi,mh(R.Li(this.Oi,b)),null)};g.ba=function(a,b,c){return q(S.Li?S.Li(Vv,b):S.call(null,Vv,b))?new bM(c,this.Qi,this.Oi,null):new bM(this.binding,this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(new W(null,1,5,Y,[new X(Vv,this.binding)],null),this.Oi))};g.ea=function(a,b){return new bM(this.binding,b,this.Oi,this.Ri)};
g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return CL(b,this.binding,c)};g.Ra=function(a,b){return IL.Li?IL.Li(b,this.binding):IL.call(null,b,this.binding)};function cM(a){return D.Li(dq,a)?EL(new ZL(null,null,null),a):null}function dM(a){var b=cM(a);return q(b)?b:eM.Mi?eM.Mi(a):eM.call(null,a)}
function fM(a){var b=AL(dM,a);if(q(b)){if(Bf(b))throw dm("Tuple binding cannot be empty",new p(null,2,[rp,Cp,ct,a],null));return EL(new aM(b,null,null,null),a)}return null}
function eM(a){a:{if(zL(a,2)&&D.Li(mf(a),Su)){var b=H(a);b=eM.Mi?eM.Mi(b):eM.call(null,b);if(q(b)){b=EL(new bM(b,null,null,null),a);break a}throw dm("Cannot parse collection binding",new p(null,2,[rp,Cp,ct,a],null));}b=null}if(q(b))return b;b=zL(a,1)&&Ef(H(a))?EL(new bM(fM(H(a)),null,null,null),a):null;if(q(b))return b;b=fM(a);if(q(b))return b;b=cM(a);if(q(b))return b;b=OL(a);b=q(b)?EL(new $L(b,null,null,null),a):null;if(q(b))return b;throw dm("Cannot parse binding, expected (bind-scalar | bind-tuple | bind-coll | bind-rel)",
new p(null,2,[rp,Cp,ct,a],null));}function gM(a){if(null!=a&&null!=a.Ue)a=a.Ue(a);else{var b=gM[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=gM._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("IFindVars.-find-vars",a);}return a}HL.prototype.Ue=function(){return new W(null,1,5,Y,[this.symbol],null)};function hM(a,b,c,d,e){this.fn=a;this.ya=b;this.Qi=c;this.Oi=d;this.Ri=e;this.Si=2230716170;this.Xi=139264}g=hM.prototype;g.Ue=function(){return gM(of(this.ya))};
g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "fn":return this.fn;case "args":return this.ya;default:return B.Ni(this.Oi,b,c)}};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.Aggregate{",", ","}",c,T.Li(new W(null,2,5,Y,[new W(null,2,5,Y,[Jz,this.fn],null),new W(null,2,5,Y,[Kz,this.ya],null)],null),this.Oi))};g.na=function(){return new Xi(this,2,new W(null,2,5,Y,[Jz,Kz],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 2+K(this.Oi)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=-91097383^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.fn,b.fn)&&D.Li(this.ya,b.ya)&&D.Li(this.Oi,b.Oi)};g.wa=function(a,b){return Pf(new qk(null,new p(null,2,[Kz,null,Jz,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new hM(this.fn,this.ya,this.Qi,mh(R.Li(this.Oi,b)),null)};
g.ba=function(a,b,c){return q(S.Li?S.Li(Jz,b):S.call(null,Jz,b))?new hM(c,this.ya,this.Qi,this.Oi,null):q(S.Li?S.Li(Kz,b):S.call(null,Kz,b))?new hM(this.fn,c,this.Qi,this.Oi,null):new hM(this.fn,this.ya,this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(new W(null,2,5,Y,[new X(Jz,this.fn),new X(Kz,this.ya)],null),this.Oi))};g.ea=function(a,b){return new hM(this.fn,this.ya,b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};g.Pa=l;
g.Qa=function(a,b,c){return CL(b,this.ya,CL(b,this.fn,c))};g.Ra=function(a,b){a=IL.Li?IL.Li(b,this.fn):IL.call(null,b,this.fn);b=this.ya;return IL.Li?IL.Li(a,b):IL.call(null,a,b)};function iM(a,b,c,d,e,f){this.source=a;this.Wa=b;this.pattern=c;this.Qi=d;this.Oi=e;this.Ri=f;this.Si=2230716170;this.Xi=139264}g=iM.prototype;g.Ue=function(){return gM(this.Wa)};g.ka=function(a,b){return this.Wi(null,b,null)};
g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "source":return this.source;case "variable":return this.Wa;case "pattern":return this.pattern;default:return B.Ni(this.Oi,b,c)}};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.Pull{",", ","}",c,T.Li(new W(null,3,5,Y,[new W(null,2,5,Y,[cn,this.source],null),new W(null,2,5,Y,[Vt,this.Wa],null),new W(null,2,5,Y,[Pz,this.pattern],null)],null),this.Oi))};g.na=function(){return new Xi(this,3,new W(null,3,5,Y,[cn,Vt,Pz],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 3+K(this.Oi)};
g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=-2108867663^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.source,b.source)&&D.Li(this.Wa,b.Wa)&&D.Li(this.pattern,b.pattern)&&D.Li(this.Oi,b.Oi)};g.wa=function(a,b){return Pf(new qk(null,new p(null,3,[Vt,null,cn,null,Pz,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new iM(this.source,this.Wa,this.pattern,this.Qi,mh(R.Li(this.Oi,b)),null)};
g.ba=function(a,b,c){return q(S.Li?S.Li(cn,b):S.call(null,cn,b))?new iM(c,this.Wa,this.pattern,this.Qi,this.Oi,null):q(S.Li?S.Li(Vt,b):S.call(null,Vt,b))?new iM(this.source,c,this.pattern,this.Qi,this.Oi,null):q(S.Li?S.Li(Pz,b):S.call(null,Pz,b))?new iM(this.source,this.Wa,c,this.Qi,this.Oi,null):new iM(this.source,this.Wa,this.pattern,this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(new W(null,3,5,Y,[new X(cn,this.source),new X(Vt,this.Wa),new X(Pz,this.pattern)],null),this.Oi))};
g.ea=function(a,b){return new iM(this.source,this.Wa,this.pattern,b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return CL(b,this.pattern,CL(b,this.Wa,CL(b,this.source,c)))};g.Ra=function(a,b){a=IL.Li?IL.Li(b,this.source):IL.call(null,b,this.source);b=this.Wa;a=IL.Li?IL.Li(a,b):IL.call(null,a,b);b=this.pattern;return IL.Li?IL.Li(a,b):IL.call(null,a,b)};
function jM(a){if(null!=a&&null!=a.ue)a=a.ue(a);else{var b=jM[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=jM._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("IFindElements.find-elements",a);}return a}function kM(a,b,c,d){this.elements=a;this.Qi=b;this.Oi=c;this.Ri=d;this.Si=2230716170;this.Xi=139264}g=kM.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};
g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "elements":return this.elements;default:return B.Ni(this.Oi,b,c)}};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.FindRel{",", ","}",c,T.Li(new W(null,1,5,Y,[new W(null,2,5,Y,[Vs,this.elements],null)],null),this.Oi))};
g.na=function(){return new Xi(this,1,new W(null,1,5,Y,[Vs],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 1+K(this.Oi)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=744809563^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.elements,b.elements)&&D.Li(this.Oi,b.Oi)};
g.wa=function(a,b){return Pf(new qk(null,new p(null,1,[Vs,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new kM(this.elements,this.Qi,mh(R.Li(this.Oi,b)),null)};g.ue=function(){return this.elements};g.ba=function(a,b,c){return q(S.Li?S.Li(Vs,b):S.call(null,Vs,b))?new kM(c,this.Qi,this.Oi,null):new kM(this.elements,this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(new W(null,1,5,Y,[new X(Vs,this.elements)],null),this.Oi))};
g.ea=function(a,b){return new kM(this.elements,b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return CL(b,this.elements,c)};g.Ra=function(a,b){return IL.Li?IL.Li(b,this.elements):IL.call(null,b,this.elements)};function lM(a,b,c,d){this.element=a;this.Qi=b;this.Oi=c;this.Ri=d;this.Si=2230716170;this.Xi=139264}g=lM.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};
g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "element":return this.element;default:return B.Ni(this.Oi,b,c)}};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.FindColl{",", ","}",c,T.Li(new W(null,1,5,Y,[new W(null,2,5,Y,[ay,this.element],null)],null),this.Oi))};
g.na=function(){return new Xi(this,1,new W(null,1,5,Y,[ay],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 1+K(this.Oi)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=124241361^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.element,b.element)&&D.Li(this.Oi,b.Oi)};
g.wa=function(a,b){return Pf(new qk(null,new p(null,1,[ay,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new lM(this.element,this.Qi,mh(R.Li(this.Oi,b)),null)};g.ue=function(){return new W(null,1,5,Y,[this.element],null)};g.ba=function(a,b,c){return q(S.Li?S.Li(ay,b):S.call(null,ay,b))?new lM(c,this.Qi,this.Oi,null):new lM(this.element,this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(new W(null,1,5,Y,[new X(ay,this.element)],null),this.Oi))};
g.ea=function(a,b){return new lM(this.element,b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return CL(b,this.element,c)};g.Ra=function(a,b){return IL.Li?IL.Li(b,this.element):IL.call(null,b,this.element)};function mM(a,b,c,d){this.element=a;this.Qi=b;this.Oi=c;this.Ri=d;this.Si=2230716170;this.Xi=139264}g=mM.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};
g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "element":return this.element;default:return B.Ni(this.Oi,b,c)}};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.FindScalar{",", ","}",c,T.Li(new W(null,1,5,Y,[new W(null,2,5,Y,[ay,this.element],null)],null),this.Oi))};
g.na=function(){return new Xi(this,1,new W(null,1,5,Y,[ay],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 1+K(this.Oi)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=-661542332^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.element,b.element)&&D.Li(this.Oi,b.Oi)};
g.wa=function(a,b){return Pf(new qk(null,new p(null,1,[ay,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new mM(this.element,this.Qi,mh(R.Li(this.Oi,b)),null)};g.ue=function(){return new W(null,1,5,Y,[this.element],null)};g.ba=function(a,b,c){return q(S.Li?S.Li(ay,b):S.call(null,ay,b))?new mM(c,this.Qi,this.Oi,null):new mM(this.element,this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(new W(null,1,5,Y,[new X(ay,this.element)],null),this.Oi))};
g.ea=function(a,b){return new mM(this.element,b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return CL(b,this.element,c)};g.Ra=function(a,b){return IL.Li?IL.Li(b,this.element):IL.call(null,b,this.element)};function nM(a,b,c,d){this.elements=a;this.Qi=b;this.Oi=c;this.Ri=d;this.Si=2230716170;this.Xi=139264}g=nM.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};
g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "elements":return this.elements;default:return B.Ni(this.Oi,b,c)}};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.FindTuple{",", ","}",c,T.Li(new W(null,1,5,Y,[new W(null,2,5,Y,[Vs,this.elements],null)],null),this.Oi))};
g.na=function(){return new Xi(this,1,new W(null,1,5,Y,[Vs],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 1+K(this.Oi)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=681530371^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.elements,b.elements)&&D.Li(this.Oi,b.Oi)};
g.wa=function(a,b){return Pf(new qk(null,new p(null,1,[Vs,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new nM(this.elements,this.Qi,mh(R.Li(this.Oi,b)),null)};g.ue=function(){return this.elements};g.ba=function(a,b,c){return q(S.Li?S.Li(Vs,b):S.call(null,Vs,b))?new nM(c,this.Qi,this.Oi,null):new nM(this.elements,this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(new W(null,1,5,Y,[new X(Vs,this.elements)],null),this.Oi))};
g.ea=function(a,b){return new nM(this.elements,b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return CL(b,this.elements,c)};g.Ra=function(a,b){return IL.Li?IL.Li(b,this.elements):IL.call(null,b,this.elements)};function oM(a){return a instanceof hM}function pM(a){return a instanceof iM}
function qM(a){var b=OL(a);if(q(b))return b;a:{if(Ef(a)&&D.Li(H(a),pw)){if(3<=K(a)&&4>=K(a)){var c=(b=D.Li(K(a),4))?bf(a,1):Dp;b=b?J(J(a)):J(a);var d=P(b,0,null);b=P(b,1,null);c=QL(c);d=OL(d);var e=OL(b);q(e)?b=e:(e=TL(b),b=q(e)?e:RL(b));if(q(q(c)?q(d)?b:d:c)){b=new iM(c,d,b,null,null,null);break a}}throw dm("Cannot parse pull expression, expect ['pull' src-var? variable (constant | variable | plain-symbol)]",new p(null,2,[rp,hz,qt,a],null));}b=null}if(q(b))return b;a:{if(Ef(a)&&D.Li(H(a),Av)){if(3<=
K(a)&&(b=E(a),H(b),c=J(b),b=H(c),c=J(c),b=OL(b),c=AL(UL,c),q(q(b)?c:b))){b=new hM(b,c,null,null,null);break a}throw dm("Cannot parse custom aggregate call, expect ['aggregate' variable fn-arg+]",new p(null,2,[rp,hz,qt,a],null));}b=null}q(b)?a=b:Ef(a)&&2<=K(a)?(b=E(a),a=H(b),b=J(b),a=SL(a),b=AL(UL,b),a=q(q(a)?b:a)?new hM(a,b,null,null,null):null):a=null;return a}
function rM(a){var b=AL(qM,a);b=null==b?null:new kM(b,null,null,null);if(q(b))return b;a:{if(Ef(a)&&D.Li(K(a),1)&&(b=H(a),Ef(b)&&D.Li(K(b),2)&&D.Li(mf(b),Su))){b=qM(H(b));b=null==b?null:new lM(b,null,null,null);break a}b=null}if(q(b))return b;Ef(a)&&D.Li(K(a),2)&&D.Li(mf(a),My)?(b=qM(H(a)),b=null==b?null:new mM(b,null,null,null)):b=null;if(q(b))return b;Ef(a)&&D.Li(K(a),1)?(b=H(a),b=AL(qM,b),b=null==b?null:new nM(b,null,null,null)):b=null;if(q(b))return b;throw dm("Cannot parse :find, expected: (find-rel | find-coll | find-tuple | find-scalar)",
new p(null,2,[rp,hz,qt,a],null));}function sM(a,b,c,d,e){this.type=a;this.symbols=b;this.Qi=c;this.Oi=d;this.Ri=e;this.Si=2230716170;this.Xi=139264}g=sM.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "type":return this.type;case "symbols":return this.symbols;default:return B.Ni(this.Oi,b,c)}};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.ReturnMap{",", ","}",c,T.Li(new W(null,2,5,Y,[new W(null,2,5,Y,[aq,this.type],null),new W(null,2,5,Y,[Fx,this.symbols],null)],null),this.Oi))};g.na=function(){return new Xi(this,2,new W(null,2,5,Y,[aq,Fx],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 2+K(this.Oi)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=-2025547471^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.type,b.type)&&D.Li(this.symbols,b.symbols)&&D.Li(this.Oi,b.Oi)};g.wa=function(a,b){return Pf(new qk(null,new p(null,2,[aq,null,Fx,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new sM(this.type,this.symbols,this.Qi,mh(R.Li(this.Oi,b)),null)};
g.ba=function(a,b,c){return q(S.Li?S.Li(aq,b):S.call(null,aq,b))?new sM(c,this.symbols,this.Qi,this.Oi,null):q(S.Li?S.Li(Fx,b):S.call(null,Fx,b))?new sM(this.type,c,this.Qi,this.Oi,null):new sM(this.type,this.symbols,this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(new W(null,2,5,Y,[new X(aq,this.type),new X(Fx,this.symbols)],null),this.Oi))};g.ea=function(a,b){return new sM(this.type,this.symbols,b,this.Oi,this.Ri)};
g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return CL(b,this.symbols,CL(b,this.type,c))};g.Ra=function(a,b){a=IL.Li?IL.Li(b,this.type):IL.call(null,b,this.type);b=this.symbols;return IL.Li?IL.Li(a,b):IL.call(null,a,b)};
function tM(a,b){if(!Bf(b)&&rh(we,b))switch(a instanceof C?a.ma:null){case "keys":return new sM(a,bi.Li(Hg,b),null,null,null);case "syms":return new sM(a,Yf(b),null,null,null);case "strs":return new sM(a,bi.Li(t,b),null,null,null);default:return null}else return null}function uM(a){var b=QL(a);q(b)||(b=D.Li(bt,a)?new LL(null,null,null):null,b=q(b)?b:TL(a));return q(b)?EL(new $L(b,null,null,null),a):eM(a)}
function vM(a){var b=AL(uM,a);if(q(b))return b;throw dm("Cannot parse :in clause, expected (src-var | % | plain-symbol | bind-scalar | bind-tuple | bind-coll | bind-rel)",new p(null,2,[rp,$z,ct,a],null));}function wM(a,b,c,d,e){this.source=a;this.pattern=b;this.Qi=c;this.Oi=d;this.Ri=e;this.Si=2230716170;this.Xi=139264}g=wM.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};
g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "source":return this.source;case "pattern":return this.pattern;default:return B.Ni(this.Oi,b,c)}};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.Pattern{",", ","}",c,T.Li(new W(null,2,5,Y,[new W(null,2,5,Y,[cn,this.source],null),new W(null,2,5,Y,[Pz,this.pattern],null)],null),this.Oi))};g.na=function(){return new Xi(this,2,new W(null,2,5,Y,[cn,Pz],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 2+K(this.Oi)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=575220587^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.source,b.source)&&D.Li(this.pattern,b.pattern)&&D.Li(this.Oi,b.Oi)};g.wa=function(a,b){return Pf(new qk(null,new p(null,2,[cn,null,Pz,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new wM(this.source,this.pattern,this.Qi,mh(R.Li(this.Oi,b)),null)};
g.ba=function(a,b,c){return q(S.Li?S.Li(cn,b):S.call(null,cn,b))?new wM(c,this.pattern,this.Qi,this.Oi,null):q(S.Li?S.Li(Pz,b):S.call(null,Pz,b))?new wM(this.source,c,this.Qi,this.Oi,null):new wM(this.source,this.pattern,this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(new W(null,2,5,Y,[new X(cn,this.source),new X(Pz,this.pattern)],null),this.Oi))};g.ea=function(a,b){return new wM(this.source,this.pattern,b,this.Oi,this.Ri)};
g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return CL(b,this.pattern,CL(b,this.source,c))};g.Ra=function(a,b){a=IL.Li?IL.Li(b,this.source):IL.call(null,b,this.source);b=this.pattern;return IL.Li?IL.Li(a,b):IL.call(null,a,b)};function xM(a,b,c,d,e){this.fn=a;this.ya=b;this.Qi=c;this.Oi=d;this.Ri=e;this.Si=2230716170;this.Xi=139264}g=xM.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};
g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "fn":return this.fn;case "args":return this.ya;default:return B.Ni(this.Oi,b,c)}};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.Predicate{",", ","}",c,T.Li(new W(null,2,5,Y,[new W(null,2,5,Y,[Jz,this.fn],null),new W(null,2,5,Y,[Kz,this.ya],null)],null),this.Oi))};
g.na=function(){return new Xi(this,2,new W(null,2,5,Y,[Jz,Kz],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 2+K(this.Oi)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=-1523376880^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.fn,b.fn)&&D.Li(this.ya,b.ya)&&D.Li(this.Oi,b.Oi)};
g.wa=function(a,b){return Pf(new qk(null,new p(null,2,[Kz,null,Jz,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new xM(this.fn,this.ya,this.Qi,mh(R.Li(this.Oi,b)),null)};g.ba=function(a,b,c){return q(S.Li?S.Li(Jz,b):S.call(null,Jz,b))?new xM(c,this.ya,this.Qi,this.Oi,null):q(S.Li?S.Li(Kz,b):S.call(null,Kz,b))?new xM(this.fn,c,this.Qi,this.Oi,null):new xM(this.fn,this.ya,this.Qi,Q.Ni(this.Oi,b,c),null)};
g.ga=function(){return E(T.Li(new W(null,2,5,Y,[new X(Jz,this.fn),new X(Kz,this.ya)],null),this.Oi))};g.ea=function(a,b){return new xM(this.fn,this.ya,b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return CL(b,this.ya,CL(b,this.fn,c))};g.Ra=function(a,b){a=IL.Li?IL.Li(b,this.fn):IL.call(null,b,this.fn);b=this.ya;return IL.Li?IL.Li(a,b):IL.call(null,a,b)};
function yM(a,b,c,d,e,f){this.fn=a;this.ya=b;this.binding=c;this.Qi=d;this.Oi=e;this.Ri=f;this.Si=2230716170;this.Xi=139264}g=yM.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "fn":return this.fn;case "args":return this.ya;case "binding":return this.binding;default:return B.Ni(this.Oi,b,c)}};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.Function{",", ","}",c,T.Li(new W(null,3,5,Y,[new W(null,2,5,Y,[Jz,this.fn],null),new W(null,2,5,Y,[Kz,this.ya],null),new W(null,2,5,Y,[Vv,this.binding],null)],null),this.Oi))};g.na=function(){return new Xi(this,3,new W(null,3,5,Y,[Jz,Kz,Vv],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 3+K(this.Oi)};
g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=589494199^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.fn,b.fn)&&D.Li(this.ya,b.ya)&&D.Li(this.binding,b.binding)&&D.Li(this.Oi,b.Oi)};g.wa=function(a,b){return Pf(new qk(null,new p(null,3,[Kz,null,Jz,null,Vv,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new yM(this.fn,this.ya,this.binding,this.Qi,mh(R.Li(this.Oi,b)),null)};
g.ba=function(a,b,c){return q(S.Li?S.Li(Jz,b):S.call(null,Jz,b))?new yM(c,this.ya,this.binding,this.Qi,this.Oi,null):q(S.Li?S.Li(Kz,b):S.call(null,Kz,b))?new yM(this.fn,c,this.binding,this.Qi,this.Oi,null):q(S.Li?S.Li(Vv,b):S.call(null,Vv,b))?new yM(this.fn,this.ya,c,this.Qi,this.Oi,null):new yM(this.fn,this.ya,this.binding,this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(new W(null,3,5,Y,[new X(Jz,this.fn),new X(Kz,this.ya),new X(Vv,this.binding)],null),this.Oi))};
g.ea=function(a,b){return new yM(this.fn,this.ya,this.binding,b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return CL(b,this.binding,CL(b,this.ya,CL(b,this.fn,c)))};g.Ra=function(a,b){a=IL.Li?IL.Li(b,this.fn):IL.call(null,b,this.fn);b=this.ya;a=IL.Li?IL.Li(a,b):IL.call(null,a,b);b=this.binding;return IL.Li?IL.Li(a,b):IL.call(null,a,b)};
function zM(a,b,c,d,e,f){this.source=a;this.name=b;this.ya=c;this.Qi=d;this.Oi=e;this.Ri=f;this.Si=2230716170;this.Xi=139264}g=zM.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "source":return this.source;case "name":return this.name;case "args":return this.ya;default:return B.Ni(this.Oi,b,c)}};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.RuleExpr{",", ","}",c,T.Li(new W(null,3,5,Y,[new W(null,2,5,Y,[cn,this.source],null),new W(null,2,5,Y,[Zy,this.name],null),new W(null,2,5,Y,[Kz,this.ya],null)],null),this.Oi))};g.na=function(){return new Xi(this,3,new W(null,3,5,Y,[cn,Zy,Kz],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 3+K(this.Oi)};
g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=-444662011^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.source,b.source)&&D.Li(this.name,b.name)&&D.Li(this.ya,b.ya)&&D.Li(this.Oi,b.Oi)};g.wa=function(a,b){return Pf(new qk(null,new p(null,3,[Kz,null,Zy,null,cn,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new zM(this.source,this.name,this.ya,this.Qi,mh(R.Li(this.Oi,b)),null)};
g.ba=function(a,b,c){return q(S.Li?S.Li(cn,b):S.call(null,cn,b))?new zM(c,this.name,this.ya,this.Qi,this.Oi,null):q(S.Li?S.Li(Zy,b):S.call(null,Zy,b))?new zM(this.source,c,this.ya,this.Qi,this.Oi,null):q(S.Li?S.Li(Kz,b):S.call(null,Kz,b))?new zM(this.source,this.name,c,this.Qi,this.Oi,null):new zM(this.source,this.name,this.ya,this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(new W(null,3,5,Y,[new X(cn,this.source),new X(Zy,this.name),new X(Kz,this.ya)],null),this.Oi))};
g.ea=function(a,b){return new zM(this.source,this.name,this.ya,b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return CL(b,this.ya,CL(b,this.name,CL(b,this.source,c)))};g.Ra=function(a,b){a=IL.Li?IL.Li(b,this.source):IL.call(null,b,this.source);b=this.name;a=IL.Li?IL.Li(a,b):IL.call(null,a,b);b=this.ya;return IL.Li?IL.Li(a,b):IL.call(null,a,b)};
function AM(a,b,c,d,e,f){this.source=a;this.gb=b;this.Aa=c;this.Qi=d;this.Oi=e;this.Ri=f;this.Si=2230716170;this.Xi=139264}g=AM.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "source":return this.source;case "vars":return this.gb;case "clauses":return this.Aa;default:return B.Ni(this.Oi,b,c)}};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.Not{",", ","}",c,T.Li(new W(null,3,5,Y,[new W(null,2,5,Y,[cn,this.source],null),new W(null,2,5,Y,[Yr,this.gb],null),new W(null,2,5,Y,[qy,this.Aa],null)],null),this.Oi))};g.na=function(){return new Xi(this,3,new W(null,3,5,Y,[cn,Yr,qy],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 3+K(this.Oi)};
g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=1394671061^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.source,b.source)&&D.Li(this.gb,b.gb)&&D.Li(this.Aa,b.Aa)&&D.Li(this.Oi,b.Oi)};g.wa=function(a,b){return Pf(new qk(null,new p(null,3,[cn,null,qy,null,Yr,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new AM(this.source,this.gb,this.Aa,this.Qi,mh(R.Li(this.Oi,b)),null)};
g.ba=function(a,b,c){return q(S.Li?S.Li(cn,b):S.call(null,cn,b))?new AM(c,this.gb,this.Aa,this.Qi,this.Oi,null):q(S.Li?S.Li(Yr,b):S.call(null,Yr,b))?new AM(this.source,c,this.Aa,this.Qi,this.Oi,null):q(S.Li?S.Li(qy,b):S.call(null,qy,b))?new AM(this.source,this.gb,c,this.Qi,this.Oi,null):new AM(this.source,this.gb,this.Aa,this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(new W(null,3,5,Y,[new X(cn,this.source),new X(Yr,this.gb),new X(qy,this.Aa)],null),this.Oi))};
g.ea=function(a,b){return new AM(this.source,this.gb,this.Aa,b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return CL(b,this.Aa,CL(b,this.gb,CL(b,this.source,c)))};g.Ra=function(a,b){a=IL.Li?IL.Li(b,this.source):IL.call(null,b,this.source);b=this.gb;a=IL.Li?IL.Li(a,b):IL.call(null,a,b);b=this.Aa;return IL.Li?IL.Li(a,b):IL.call(null,a,b)};
function BM(a,b,c,d,e,f){this.source=a;this.rc=b;this.Aa=c;this.Qi=d;this.Oi=e;this.Ri=f;this.Si=2230716170;this.Xi=139264}g=BM.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "source":return this.source;case "rule-vars":return this.rc;case "clauses":return this.Aa;default:return B.Ni(this.Oi,b,c)}};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.Or{",", ","}",c,T.Li(new W(null,3,5,Y,[new W(null,2,5,Y,[cn,this.source],null),new W(null,2,5,Y,[qz,this.rc],null),new W(null,2,5,Y,[qy,this.Aa],null)],null),this.Oi))};g.na=function(){return new Xi(this,3,new W(null,3,5,Y,[cn,qz,qy],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 3+K(this.Oi)};
g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=1461934571^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.source,b.source)&&D.Li(this.rc,b.rc)&&D.Li(this.Aa,b.Aa)&&D.Li(this.Oi,b.Oi)};g.wa=function(a,b){return Pf(new qk(null,new p(null,3,[qz,null,cn,null,qy,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new BM(this.source,this.rc,this.Aa,this.Qi,mh(R.Li(this.Oi,b)),null)};
g.ba=function(a,b,c){return q(S.Li?S.Li(cn,b):S.call(null,cn,b))?new BM(c,this.rc,this.Aa,this.Qi,this.Oi,null):q(S.Li?S.Li(qz,b):S.call(null,qz,b))?new BM(this.source,c,this.Aa,this.Qi,this.Oi,null):q(S.Li?S.Li(qy,b):S.call(null,qy,b))?new BM(this.source,this.rc,c,this.Qi,this.Oi,null):new BM(this.source,this.rc,this.Aa,this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(new W(null,3,5,Y,[new X(cn,this.source),new X(qz,this.rc),new X(qy,this.Aa)],null),this.Oi))};
g.ea=function(a,b){return new BM(this.source,this.rc,this.Aa,b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return CL(b,this.Aa,CL(b,this.rc,CL(b,this.source,c)))};g.Ra=function(a,b){a=IL.Li?IL.Li(b,this.source):IL.call(null,b,this.source);b=this.rc;a=IL.Li?IL.Li(a,b):IL.call(null,a,b);b=this.Aa;return IL.Li?IL.Li(a,b):IL.call(null,a,b)};
function CM(a,b,c,d){this.Aa=a;this.Qi=b;this.Oi=c;this.Ri=d;this.Si=2230716170;this.Xi=139264}g=CM.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "clauses":return this.Aa;default:return B.Ni(this.Oi,b,c)}};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.And{",", ","}",c,T.Li(new W(null,1,5,Y,[new W(null,2,5,Y,[qy,this.Aa],null)],null),this.Oi))};g.na=function(){return new Xi(this,1,new W(null,1,5,Y,[qy],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 1+K(this.Oi)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=-131856804^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.Aa,b.Aa)&&D.Li(this.Oi,b.Oi)};g.wa=function(a,b){return Pf(new qk(null,new p(null,1,[qy,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new CM(this.Aa,this.Qi,mh(R.Li(this.Oi,b)),null)};g.ba=function(a,b,c){return q(S.Li?S.Li(qy,b):S.call(null,qy,b))?new CM(c,this.Qi,this.Oi,null):new CM(this.Aa,this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(new W(null,1,5,Y,[new X(qy,this.Aa)],null),this.Oi))};
g.ea=function(a,b){return new CM(this.Aa,b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return CL(b,this.Aa,c)};g.Ra=function(a,b){return IL.Li?IL.Li(b,this.Aa):IL.call(null,b,this.Aa)};function DM(a){var b=D.Li(dq,a)?new GL(null,null,null):null;if(q(b))return b;b=OL(a);return q(b)?b:RL(a)}
function EM(a){if(Ef(a)){var b=QL(H(a));return q(b)?new W(null,2,5,Y,[b,J(a)],null):new W(null,2,5,Y,[new KL(null,null,null),a],null)}return null}function FM(a){if(Ef(a)){var b=E(a);a=H(b);b=J(b);b=null==b?qf:b;var c=SL(a);a=q(c)?c:OL(a);b=AL(UL,b);return q(q(a)?b:a)?new W(null,2,5,Y,[a,b],null):null}return null}
var IL=function IL(a,b){return b instanceof HL?pf.Li(a,b):b instanceof AM?ai.Li(a,b.gb):b instanceof BM?(b=b.rc,IL.Li?IL.Li(a,b):IL.call(null,a,b)):(null!=b?l===b.Pa||(b.yd?0:Ac(wL,b)):Ac(wL,b))?yL(b,a):Ef(b)?v.Ni(IL,a,b):a};function GM(a,b,c){if(Bf(a)&&Bf(b))throw dm("Join variables should not be empty",new p(null,2,[rp,Bx,ct,c],null));}function HM(a,b){GM(null,Yr.Mi(a),b);return a}
function IM(a,b){var c=null!=a&&(a.Si&64||l===a.va)?gh(hk,a):a;c=B.Li(c,qz);var d=null!=c&&(c.Si&64||l===c.va)?gh(hk,c):c;c=B.Li(d,Rz);d=B.Li(d,Cr);GM(c,d,b);return a}function Jh(a){if(Ef(a)&&D.Li(Cv,H(a))){var b=J(a);b=JM.Mi?JM.Mi(b):JM.call(null,b);if(q(mh(b)))return new CM(b,null,null,null);throw dm("Cannot parse 'and' clause, expected [ 'and' clause+ ]",new p(null,2,[rp,Bx,ct,a],null));}return null}
function Kh(a){a:{var b=EM(a);if(q(b)){var c=P(b,0,null);b=P(b,1,null);var d=E(b);b=H(d);d=J(d);if(D.Li(ux,b)){b=JM.Mi?JM.Mi(d):JM.call(null,d);if(q(b)){c=HM(EL(new AM(c,Yf(uk(IL(qf,b))),b,null,null,null),a),a);break a}throw dm("Cannot parse 'not' clause, expected [ src-var? 'not' clause+ ]",new p(null,2,[rp,Bx,ct,a],null));}}c=null}if(q(c))return c;a:{b=EM(a);if(q(b)){c=P(b,0,null);b=P(b,1,null);d=E(b);b=H(d);var e=J(d);d=H(e);e=J(e);if(D.Li(Bq,b)){b=AL(OL,d);d=JM.Mi?JM.Mi(e):JM.call(null,e);if(q(q(b)?
d:b)){c=HM(EL(new AM(c,b,d,null,null,null),a),a);break a}throw dm("Cannot parse 'not-join' clause, expected [ src-var? 'not-join' [variable+] clause+ ]",new p(null,2,[rp,Bx,ct,a],null));}}c=null}if(q(c))return c;a:{b=EM(a);if(q(b)&&(c=P(b,0,null),b=P(b,1,null),d=E(b),b=H(d),d=J(d),D.Li(kr,b))){b=AL(Ih(),d);if(q(b)){c=IM(EL(new BM(c,new VL(null,Yf(uk(IL(qf,b))),null,null,null),b,null,null,null),a),a);break a}throw dm("Cannot parse 'or' clause, expected [ src-var? 'or' clause+ ]",new p(null,2,[rp,Bx,
ct,a],null));}c=null}if(q(c))return c;a:{b=EM(a);if(q(b)&&(c=P(b,0,null),b=P(b,1,null),d=E(b),b=H(d),e=J(d),d=H(e),e=J(e),D.Li(kp,b))){b=WL(d);d=AL(Ih(),e);if(q(q(b)?d:b)){c=IM(EL(new BM(c,b,d,null,null,null),a),a);break a}throw dm("Cannot parse 'or-join' clause, expected [ src-var? 'or-join' [variable+] clause+ ]",new p(null,2,[rp,Bx,ct,a],null));}c=null}if(q(c))return c;a:{if(zL(a,1)&&(b=FM(H(a)),q(b))){c=P(b,0,null);b=P(b,1,null);c=EL(new xM(c,b,null,null,null),a);break a}c=null}if(q(c))return c;
a:{if(zL(a,2)&&(b=P(a,0,null),c=P(a,1,null),d=FM(b),q(d))){b=P(d,0,null);d=P(d,1,null);c=eM(c);c=q(c)?EL(new yM(b,d,c,null,null,null),a):null;break a}c=null}if(q(c))return c;a:{b=EM(a);if(q(b)&&(c=P(b,0,null),b=P(b,1,null),b=E(b),d=H(b),b=J(b),d=SL(d),e=AL(DM,b),q(d))){if(Bf(b))throw dm("rule-expr requires at least one argument",new p(null,2,[rp,Bx,ct,a],null));if(null==e)throw dm("Cannot parse rule-expr arguments, expected [ (variable | constant | '_')+ ]",new p(null,2,[rp,Bx,ct,a],null));c=new zM(c,
d,e,null,null,null);break a}c=null}if(q(c))return c;a:{b=EM(a);if(q(b)&&(c=P(b,0,null),b=P(b,1,null),b=AL(DM,b),q(b))){if(Bf(b))throw dm("Pattern could not be empty",new p(null,2,[rp,Bx,ct,a],null));c=EL(new wM(c,b,null,null,null),a);break a}c=null}if(q(c))return c;throw dm("Cannot parse clause, expected (data-pattern | pred-expr | fn-expr | rule-expr | not-clause | not-join-clause | or-clause | or-join-clause)",new p(null,2,[rp,Bx,ct,a],null));}function JM(a){return AL(Kh,a)}
function KM(a){var b=JM(a);if(q(b))return b;throw dm("Cannot parse :where clause, expected [clause+]",new p(null,2,[rp,Bx,ct,a],null));}function LM(a,b,c,d,e){this.gb=a;this.Aa=b;this.Qi=c;this.Oi=d;this.Ri=e;this.Si=2230716170;this.Xi=139264}g=LM.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "vars":return this.gb;case "clauses":return this.Aa;default:return B.Ni(this.Oi,b,c)}};
g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.RuleBranch{",", ","}",c,T.Li(new W(null,2,5,Y,[new W(null,2,5,Y,[Yr,this.gb],null),new W(null,2,5,Y,[qy,this.Aa],null)],null),this.Oi))};g.na=function(){return new Xi(this,2,new W(null,2,5,Y,[Yr,qy],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};
g.ha=function(){return 2+K(this.Oi)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=1024755006^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.gb,b.gb)&&D.Li(this.Aa,b.Aa)&&D.Li(this.Oi,b.Oi)};g.wa=function(a,b){return Pf(new qk(null,new p(null,2,[qy,null,Yr,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new LM(this.gb,this.Aa,this.Qi,mh(R.Li(this.Oi,b)),null)};
g.ba=function(a,b,c){return q(S.Li?S.Li(Yr,b):S.call(null,Yr,b))?new LM(c,this.Aa,this.Qi,this.Oi,null):q(S.Li?S.Li(qy,b):S.call(null,qy,b))?new LM(this.gb,c,this.Qi,this.Oi,null):new LM(this.gb,this.Aa,this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(new W(null,2,5,Y,[new X(Yr,this.gb),new X(qy,this.Aa)],null),this.Oi))};g.ea=function(a,b){return new LM(this.gb,this.Aa,b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};g.Pa=l;
g.Qa=function(a,b,c){return CL(b,this.Aa,CL(b,this.gb,c))};g.Ra=function(a,b){return IL(IL(b,this.gb),this.Aa)};function MM(a,b,c,d,e){this.name=a;this.Gc=b;this.Qi=c;this.Oi=d;this.Ri=e;this.Si=2230716170;this.Xi=139264}g=MM.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "name":return this.name;case "branches":return this.Gc;default:return B.Ni(this.Oi,b,c)}};
g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.Rule{",", ","}",c,T.Li(new W(null,2,5,Y,[new W(null,2,5,Y,[Zy,this.name],null),new W(null,2,5,Y,[Ds,this.Gc],null)],null),this.Oi))};g.na=function(){return new Xi(this,2,new W(null,2,5,Y,[Zy,Ds],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};
g.ha=function(){return 2+K(this.Oi)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=-900273052^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.name,b.name)&&D.Li(this.Gc,b.Gc)&&D.Li(this.Oi,b.Oi)};g.wa=function(a,b){return Pf(new qk(null,new p(null,2,[Zy,null,Ds,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new MM(this.name,this.Gc,this.Qi,mh(R.Li(this.Oi,b)),null)};
g.ba=function(a,b,c){return q(S.Li?S.Li(Zy,b):S.call(null,Zy,b))?new MM(c,this.Gc,this.Qi,this.Oi,null):q(S.Li?S.Li(Ds,b):S.call(null,Ds,b))?new MM(this.name,c,this.Qi,this.Oi,null):new MM(this.name,this.Gc,this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(new W(null,2,5,Y,[new X(Zy,this.name),new X(Ds,this.Gc)],null),this.Oi))};g.ea=function(a,b){return new MM(this.name,this.Gc,b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};g.Pa=l;
g.Qa=function(a,b,c){return CL(b,this.Gc,CL(b,this.name,c))};g.Ra=function(a,b){return IL(IL(b,this.name),this.Gc)};
function NM(a){if(Ef(a)){var b=E(a),c=H(b),d=J(b);if(Ef(c)){b=E(c);var e=H(b);c=J(b);b=function(){var h=SL(e);if(q(h))return h;throw dm("Cannot parse rule name, expected plain-symbol",new p(null,2,[rp,Rw,ct,a],null));}();c=WL(c);var f=function(){var h=mh(JM(d));if(q(h))return h;throw dm("Rule branch should have clauses",new p(null,2,[rp,Rw,ct,a],null));}();return new p(null,3,[Zy,b,Yr,c,qy,f],null)}throw dm(["Cannot parse rule head, expected [rule-name rule-vars], got: ",fl.Pi(M([c]))].join(""),new p(null,
2,[rp,Rw,ct,a],null));}throw dm("Cannot parse rule, expected [rule-head clause+]",new p(null,2,[rp,Rw,ct,a],null));}
function OM(a,b){var c=Yr.Mi(H(b)),d=YL(c);b=E(J(b));for(var e=null,f=0,h=0;;)if(h<f){var k=e.xa(null,h);k=Yr.Mi(k);if(lh.Li(d,YL(k)))throw dm(["Arity mismatch for rule '",fl.Pi(M([Dw.Mi(a)])),"': ",fl.Pi(M([XL(c)]))," vs. ",fl.Pi(M([XL(k)]))].join(""),new p(null,2,[rp,Rw,No,a],null));h+=1}else if(b=E(b)){if(If(b))f=ae(b),b=be(b),e=f,f=K(f);else{k=H(b);e=Yr.Mi(k);if(lh.Li(d,YL(e)))throw dm(["Arity mismatch for rule '",fl.Pi(M([Dw.Mi(a)])),"': ",fl.Pi(M([XL(c)]))," vs. ",fl.Pi(M([XL(e)]))].join(""),
new p(null,2,[rp,Rw,No,a],null));b=J(b);e=null;f=0}h=0}else break}
function PM(a){Yf(function(){return function d(c){return new Jg(null,function(){for(;;){var e=E(c);if(e){var f=e;if(If(f)){var h=ae(f),k=K(h),m=Ng(k);return function(){for(var w=0;;)if(w<k){var A=x(h,w),G=P(A,0,null),I=P(A,1,null);A=bi.Li(function(){return function(F){return new LM(Yr.Mi(F),qy.Mi(F),null,null,null)}}(w,A,G,I,h,k,m,f,e),I);I=m;OM(G,A);I.add(new MM(G,A,null,null,null));w+=1}else return!0}()?Qg(Sg(m),d(be(f))):Qg(Sg(m),null)}var n=H(f),r=P(n,0,null),u=P(n,1,null);n=bi.Li(function(){return function(w){return new LM(Yr.Mi(w),
qy.Mi(w),null,null,null)}}(n,r,u,f,e),u);OM(r,n);return hf(new MM(r,n,null,null,null),d(Fe(f)))}return null}},null,null)}(Il(Zy,AL(NM,a)))}())}function QM(a,b,c,d,e,f,h,k){this.fc=a;this.kc=b;this.ic=c;this.hc=d;this.jc=e;this.Qi=f;this.Oi=h;this.Ri=k;this.Si=2230716170;this.Xi=139264}g=QM.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};
g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "qfind":return this.fc;case "qwith":return this.kc;case "qreturn-map":return this.ic;case "qin":return this.hc;case "qwhere":return this.jc;default:return B.Ni(this.Oi,b,c)}};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.Query{",", ","}",c,T.Li(new W(null,5,5,Y,[new W(null,2,5,Y,[wq,this.fc],null),new W(null,2,5,Y,[Nz,this.kc],null),new W(null,2,5,Y,[iw,this.ic],null),new W(null,2,5,Y,[Wx,this.hc],null),new W(null,2,5,Y,[oy,this.jc],null)],null),this.Oi))};g.na=function(){return new Xi(this,5,new W(null,5,5,Y,[wq,Nz,iw,Wx,oy],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 5+K(this.Oi)};
g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=181307977^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.fc,b.fc)&&D.Li(this.kc,b.kc)&&D.Li(this.ic,b.ic)&&D.Li(this.hc,b.hc)&&D.Li(this.jc,b.jc)&&D.Li(this.Oi,b.Oi)};g.wa=function(a,b){return Pf(new qk(null,new p(null,5,[wq,null,oy,null,Wx,null,Nz,null,iw,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new QM(this.fc,this.kc,this.ic,this.hc,this.jc,this.Qi,mh(R.Li(this.Oi,b)),null)};
g.ba=function(a,b,c){return q(S.Li?S.Li(wq,b):S.call(null,wq,b))?new QM(c,this.kc,this.ic,this.hc,this.jc,this.Qi,this.Oi,null):q(S.Li?S.Li(Nz,b):S.call(null,Nz,b))?new QM(this.fc,c,this.ic,this.hc,this.jc,this.Qi,this.Oi,null):q(S.Li?S.Li(iw,b):S.call(null,iw,b))?new QM(this.fc,this.kc,c,this.hc,this.jc,this.Qi,this.Oi,null):q(S.Li?S.Li(Wx,b):S.call(null,Wx,b))?new QM(this.fc,this.kc,this.ic,c,this.jc,this.Qi,this.Oi,null):q(S.Li?S.Li(oy,b):S.call(null,oy,b))?new QM(this.fc,this.kc,this.ic,this.hc,
c,this.Qi,this.Oi,null):new QM(this.fc,this.kc,this.ic,this.hc,this.jc,this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(new W(null,5,5,Y,[new X(wq,this.fc),new X(Nz,this.kc),new X(iw,this.ic),new X(Wx,this.hc),new X(oy,this.jc)],null),this.Oi))};g.ea=function(a,b){return new QM(this.fc,this.kc,this.ic,this.hc,this.jc,b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};g.Pa=l;
g.Qa=function(a,b,c){return CL(b,this.jc,CL(b,this.hc,CL(b,this.ic,CL(b,this.kc,CL(b,this.fc,c)))))};g.Ra=function(a,b){return IL(IL(IL(IL(IL(b,this.fc),this.kc),this.ic),this.hc),this.jc)};function RM(a){var b=R.Pi(a,wq,M([Nz,iw,Wx,oy]));b=Gf(a)?ai.Li(V,b):b;return new QM(wq.Mi(a),Nz.Mi(a),iw.Mi(a),Wx.Mi(a),oy.Mi(a),null,mh(b),null)}function SM(a){for(var b=V,c=null;;){var d=H(a);if(q(d))d instanceof C?(c=d,a=J(a)):(b=hi.Vi(b,new W(null,1,5,Y,[c],null),yh(pf,qf),d),a=J(a));else return b}}
function TM(a){var b=cn.Mi(a);return a instanceof wM?b:null!=b?b instanceof KL?null:b:null}
function UM(a,b,c){var d=tk(IL(qf,wq.Mi(a))),e=tk(Nz.Mi(a)),f=tk(IL(qf,Wx.Mi(a))),h=tk(IL(qf,oy.Mi(a)));f=HH.Li(FH(d,e),FH(h,f));d=GH.Li(d,e);if(!Bf(f))throw dm(["Query for unknown vars: ",fl.Pi(M([bi.Li(Dw,f)]))].join(""),new p(null,3,[rp,Rx,Yr,f,ct,b],null));if(!Bf(d))throw dm([":find and :with should not use same variables: ",fl.Pi(M([bi.Li(Dw,d)]))].join(""),new p(null,3,[rp,Rx,Yr,d,ct,b],null));d=iw.Mi(a);if(null!=d){if(wq.Mi(a)instanceof mM)throw dm([fl.Pi(M([aq.Mi(d)]))," does not work with single-scalar :find"].join(""),
new p(null,2,[rp,Rx,ct,b],null));if(wq.Mi(a)instanceof lM)throw dm([fl.Pi(M([aq.Mi(d)]))," does not work with collection :find"].join(""),new p(null,2,[rp,Rx,ct,b],null));}d=Fx.Mi(iw.Mi(a));if(null!=d&&(e=jM(wq.Mi(a)),!D.Li(K(d),K(e))))throw dm(["Count of ",fl.Pi(M([aq.Mi(iw.Mi(a))]))," must match count of :find"].join(""),new p(null,4,[rp,Rx,eo,hf(aq.Mi(iw.Mi(a)),d),cr,e,ct,b],null));if(1<K(Zh(zc,new W(null,3,5,Y,[vq.Mi(c),$y.Mi(c),pn.Mi(c)],null))))throw dm("Only one of :keys/:syms/:strs must be present",
new p(null,2,[rp,Rx,ct,b],null));var k=IL(qf,Wx.Mi(a)),m=BL(function(r){return r instanceof JL},Wx.Mi(a)),n=BL(function(r){return r instanceof LL},Wx.Mi(a));if(!q(function(){var r=DL(k);return q(r)?(r=DL(m),q(r)?DL(n):r):r}()))throw dm("Vars used in :in should be distinct",new p(null,2,[rp,Rx,ct,b],null));c=IL(qf,Nz.Mi(a));if(!q(DL(c)))throw dm("Vars used in :with should be distinct",new p(null,2,[rp,Rx,ct,b],null));c=CL(function(r){return r instanceof JL},Wx.Mi(a),sk);d=CL(function(r){return r instanceof
JL},oy.Mi(a),sk);c=HH.Li(d,c);if(!Bf(c))throw dm(["Where uses unknown source vars: ",fl.Pi(M([bi.Li(Dw,c)]))].join(""),new p(null,3,[rp,Rx,Yr,c,ct,b],null));c=BL(function(r){return r instanceof zM},oy.Mi(a));a=BL(function(r){return r instanceof LL},Wx.Mi(a));if(!Bf(c)&&Bf(a))throw dm("Missing rules var '%' in :in",new p(null,2,[rp,Rx,ct,b],null));}
function VM(a){if(Ff(a))var b=a;else if(Ef(a))b=SM(a);else throw dm("Query should be a vector or a map",new p(null,2,[rp,Rx,ct,a],null));var c=b,d=KM(gp.Li(c,qf));b=RM(new p(null,5,[wq,rM(cr.Mi(c)),Nz,function(){var e=GA.Mi(c);if(q(e)){var f=AL(OL,e);if(q(f))e=f;else throw dm("Cannot parse :with clause, expected [ variable+ ]",new p(null,2,[rp,Ht,ct,e],null));}else e=null;return e}(),iw,function(){var e=tM(vq,vq.Mi(c));if(q(e))return e;e=tM($y,$y.Mi(c));return q(e)?e:tM(pn,pn.Mi(c))}(),Wx,vM(function(){var e=
WA.Mi(c);return q(e)?e:Bf(BL(TM,d))?qf:new W(null,1,5,Y,[Dp],null)}()),oy,d],null));UM(b,a,c);return b};function WM(a,b,c,d,e,f){this.Yc=a;this.sources=b;this.rules=c;this.Qi=d;this.Oi=e;this.Ri=f;this.Si=2230716170;this.Xi=139264}g=WM.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "rels":return this.Yc;case "sources":return this.sources;case "rules":return this.rules;default:return B.Ni(this.Oi,b,c)}};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.query.Context{",", ","}",c,T.Li(new W(null,3,5,Y,[new W(null,2,5,Y,[Qv,this.Yc],null),new W(null,2,5,Y,[Lw,this.sources],null),new W(null,2,5,Y,[Pv,this.rules],null)],null),this.Oi))};g.na=function(){return new Xi(this,3,new W(null,3,5,Y,[Qv,Lw,Pv],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 3+K(this.Oi)};
g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=1014232958^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.Yc,b.Yc)&&D.Li(this.sources,b.sources)&&D.Li(this.rules,b.rules)&&D.Li(this.Oi,b.Oi)};g.wa=function(a,b){return Pf(new qk(null,new p(null,3,[Lw,null,Pv,null,Qv,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new WM(this.Yc,this.sources,this.rules,this.Qi,mh(R.Li(this.Oi,b)),null)};
g.ba=function(a,b,c){return q(S.Li?S.Li(Qv,b):S.call(null,Qv,b))?new WM(c,this.sources,this.rules,this.Qi,this.Oi,null):q(S.Li?S.Li(Lw,b):S.call(null,Lw,b))?new WM(this.Yc,c,this.rules,this.Qi,this.Oi,null):q(S.Li?S.Li(Pv,b):S.call(null,Pv,b))?new WM(this.Yc,this.sources,c,this.Qi,this.Oi,null):new WM(this.Yc,this.sources,this.rules,this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(new W(null,3,5,Y,[new X(Qv,this.Yc),new X(Lw,this.sources),new X(Pv,this.rules)],null),this.Oi))};
g.ea=function(a,b){return new WM(this.Yc,this.sources,this.rules,b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};function XM(a,b,c,d,e){this.tb=a;this.rd=b;this.Qi=c;this.Oi=d;this.Ri=e;this.Si=2230716170;this.Xi=139264}g=XM.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "attrs":return this.tb;case "tuples":return this.rd;default:return B.Ni(this.Oi,b,c)}};
g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.query.Relation{",", ","}",c,T.Li(new W(null,2,5,Y,[new W(null,2,5,Y,[Ct,this.tb],null),new W(null,2,5,Y,[Yt,this.rd],null)],null),this.Oi))};g.na=function(){return new Xi(this,2,new W(null,2,5,Y,[Ct,Yt],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};
g.ha=function(){return 2+K(this.Oi)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=1107093117^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.tb,b.tb)&&D.Li(this.rd,b.rd)&&D.Li(this.Oi,b.Oi)};g.wa=function(a,b){return Pf(new qk(null,new p(null,2,[Yt,null,Ct,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new XM(this.tb,this.rd,this.Qi,mh(R.Li(this.Oi,b)),null)};
g.ba=function(a,b,c){return q(S.Li?S.Li(Ct,b):S.call(null,Ct,b))?new XM(c,this.rd,this.Qi,this.Oi,null):q(S.Li?S.Li(Yt,b):S.call(null,Yt,b))?new XM(this.tb,c,this.Qi,this.Oi,null):new XM(this.tb,this.rd,this.Qi,Q.Ni(this.Oi,b,c),null)};g.ga=function(){return E(T.Li(new W(null,2,5,Y,[new X(Ct,this.tb),new X(Yt,this.rd)],null),this.Oi))};g.ea=function(a,b){return new XM(this.tb,this.rd,b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};
function YM(a,b){return GH.Li(tk(cj(a)),tk(cj(b)))}function ZM(a,b){return D.Li(K(a),K(b))&&rh(function(c){return Pf(b,c)},cj(a))&&rh(function(c){return Pf(b,c)},cj(a))}
var $M=function $M(a,b){return D.Li(dq,a)?!0:D.Li(new W(null,1,5,Y,[ix],null),a)?Ef(b):a instanceof z?D.Li(b,a):Ef(a)?D.Li(of(a),ix)?Ef(b)&&rh(function(d){var e=P(d,0,null);d=P(d,1,null);return $M.Li?$M.Li(e,d):$M.call(null,e,d)},Lh.Ni(Hi,vk(a),b)):Ef(b)&&D.Li(K(b),K(a))&&rh(function(d){var e=P(d,0,null);d=P(d,1,null);return $M.Li?$M.Li(e,d):$M.call(null,e,d)},Lh.Ni(Hi,a,b)):a.Mi?a.Mi(b):a.call(null,b)};function aN(a){return a instanceof z&&D.Li("$",H(Ig(a)))}
function bN(a){return a instanceof z&&D.Li("?",H(Ig(a)))}function cN(a){return a instanceof C||"string"===typeof a}function dN(a){return $M(new W(null,2,5,Y,[cN,dq],null),a)}function eN(a,b,c,d){for(var e=b.length,f=d.length,h=Array(e+f),k=0;;)if(k<e)h[k]=a[b[k]],k+=1;else break;for(a=0;;)if(a<f)h[e+a]=c[d[a]],a+=1;else break;return h}
var fN=function fN(a,b){var d=null!=a&&(a.Si&64||l===a.va)?gh(hk,a):a,e=B.Li(d,Ct);d=B.Li(d,Yt);var f=null!=b&&(b.Si&64||l===b.va)?gh(hk,b):b,h=B.Li(f,Ct);f=B.Li(f,Yt);if(D.Li(e,h))return new XM(e,ai.Li(Yf(d),f),null,null,null);if(ZM(e,h)){if(rh(xc,dj(e))){var k=Yf(function(){return function w(u){return new Jg(null,function(){for(;;){var A=E(u);if(A){if(If(A)){var G=ae(A),I=K(G),F=Ng(I);a:for(var N=0;;)if(N<I){var O=x(G,N),U=P(O,0,null);O=P(O,1,null);U=new W(null,2,5,Y,[O,e.Mi?e.Mi(U):e.call(null,
U)],null);F.add(U);N+=1}else{G=!0;break a}return G?Qg(Sg(F),w(be(A))):Qg(Sg(F),null)}G=H(A);F=P(G,0,null);G=P(G,1,null);return hf(new W(null,2,5,Y,[G,e.Mi?e.Mi(F):e.call(null,F)],null),w(Fe(A)))}return null}},null,null)}(h)}()),m=v.Li(pg,dj(e))+1;b=Vd(v.Ni(function(r,u){for(var w=Array(m),A=E(k),G=null,I=0,F=0;;)if(F<I){var N=G.xa(null,F),O=P(N,0,null);N=P(N,1,null);w[N]=u[O];F+=1}else if(A=E(A))If(A)?(I=ae(A),A=be(A),G=I,I=K(I)):(I=H(A),G=P(I,0,null),I=P(I,1,null),w[I]=u[G],A=J(A),G=null,I=0),F=
0;else break;return Zg.Li(r,w)},Td(Yf(d)),f));return new XM(e,b,null,null,null)}var n=wk(cj(lk.Pi(M([e,h]))),Gk.Ui());d=function(){var r=new XM(n,qf,null,null,null);return fN.Li?fN.Li(r,a):fN.call(null,r,a)}();return fN.Li?fN.Li(d,b):fN.call(null,d,b)}throw dm(["Cant sum relations with different attrs: ",fl.Pi(M([e]))," and ",fl.Pi(M([h]))].join(""),new p(null,1,[rp,Ar],null));},gN=function gN(a){switch(arguments.length){case 0:return gN.Ui();case 2:return gN.Li(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",
t.Mi(arguments.length)].join(""));}};gN.Ui=function(){return new XM(V,new W(null,1,5,Y,[[]],null),null,null,null)};gN.Li=function(a,b){var c=cj(Ct.Mi(a)),d=cj(Ct.Mi(b)),e=Wf(Lh.Li(Ct.Mi(a),c)),f=Wf(Lh.Li(Ct.Mi(b),d));return new XM(wk(T.Li(c,d),Gk.Ui()),Vd(v.Ni(function(h,k){return v.Ni(function(m,n){return Zg.Li(m,eN(k,e,n,f))},h,Yt.Mi(b))},Td(qf),Yt.Mi(a))),null,null,null)};gN.$=2;
var hN=function hN(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return hN.Pi(c)};hN.Pi=function(a){var b=K(a);return lh.Li(Mh.Li(b/2,a),Nh(b/2,a))};hN.$=0;hN.ca=function(a){return this.Pi(E(a))};var iN=function iN(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new De(c.slice(2),0,null):null;return iN.Pi(arguments[0],arguments[1],c)};
iN.Pi=function(a,b,c){return v.Ni(function(d,e){d=H(iJ(a,new W(null,2,5,Y,[b,e],null)));return null==d?null:Qe(new W(null,2,5,Y,[nw.Mi(d),uw.Mi(d)],null))},null,c)};iN.$=2;iN.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.Pi(b,a,c)};var jN=function jN(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return jN.Pi(c)};jN.Pi=function(a){return v.Ni(function(b,c){return q(c)?c:Qe(c)},!0,a)};jN.$=0;jN.ca=function(a){return this.Pi(E(a))};
var kN=function kN(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return kN.Pi(c)};kN.Pi=function(a){return v.Ni(function(b,c){return q(c)?Qe(c):c},null,a)};kN.$=0;kN.ca=function(a){return this.Pi(E(a))};
var lN=Oj([wA,Cv,ls,bx,dr,Lv,dv,rq,Tv,hr,Qx,pz,zo,$q,iB,ux,Tm,mx,Bu,Pp,Hr,rw,ov,pp,yA,bs,Dr,yy,sA,un,bo,$v,go,mt,Um,ry,ix,hp,Sq,Nv,rs,Am,Qu,Fs,pA,tB,ht,yo,Yx,bA,ys,ws,op,So,Hs,sy,Sn,vA,Nm,dp,Vx,Yo,Iv,TA,yz,cy,Mx,nt,rv,kr,tn,Rs,nu],[function(a){return!0===a},jN,function(a){return!th(a)},function(a,b,c,d){if(null==d)throw dm("get-else: nil default value is not supported",new p(null,1,[rp,Ar],null));a=H(iJ(a,new W(null,2,5,Y,[b,c],null)));return null==a?d:uw.Mi(a)},og,hl,ng,K,iN,vc,dg,Oe,kg,ug,function(a){return!1===
a},yc,dg,hN,Hi,Qk,mg,function(a,b){return 0==a.lastIndexOf(b,0)},D,qg,hg,Ig,function(a,b,c){return null==B.Li(iL(a,b),c)},dg,Hl,uh,xg,hk,Sf,Gk,pg,Bf,jg,fl,il,yf,function(a){return 0===a},lh,gl,function(a){return a-1},Rk,Hi,lh,t,lg,Fg,Hg,ig,zc,function(a){return 0<a},Gl,Nk,Cg,Pf,function(a,b){return ub(a,b)},yg,tg,function(a,b){return-1!=a.indexOf(b)},ik,vg,th,Bc,function(a){return 0>a},QB,mh,kN,function(a,b){return a===b},tk,Ok]),mN=function(){function a(d){var e=b(d);return c(function(){return function k(h){return new Jg(null,
function(){for(;;){var m=E(h);if(m){if(If(m)){var n=ae(m),r=K(n),u=Ng(r);a:for(var w=0;;)if(w<r){var A=x(n,w)-e;u.add(A*A);w+=1}else{n=!0;break a}return n?Qg(Sg(u),k(be(m))):Qg(Sg(u),null)}u=H(m)-e;return hf(u*u,k(Fe(m)))}return null}},null,null)}(d)}())/K(d)}function b(d){return c(d)/K(d)}function c(d){return v.Ni(hg,0,d)}return Oj([$p,rq,kn,np,pp,Um,Cu,ax,sx,Ao,Hs,Ty],[a,K,function(d){var e=Vf(Sf,d);d=K(d);var f=d>>1,h=bf(e,f);return th(d)?(h+bf(e,f-1))/2:h},c,function(){function d(h,k){return Yf(v.Ni(function(m,
n){return K(m)<h?Vf(Sf,pf.Li(m,n)):0>Sf(n,of(m))?Vf(Sf,pf.Li(vk(m),n)):m},qf,k))}function e(h){return v.Ni(function(k,m){return 0>Sf(m,k)?m:k},H(h),J(h))}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return d.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.Mi=e;f.Li=d;return f}(),function(){function d(h,k){return Yf(v.Ni(function(m,n){return K(m)<h?Vf(Sf,pf.Li(m,n)):0<Sf(n,H(m))?Vf(Sf,pf.Li(J(m),n)):m},qf,k))}function e(h){return v.Ni(function(k,
m){return 0<Sf(m,k)?m:k},H(h),J(h))}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return d.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.Mi=e;f.Li=d;return f}(),function(d){return K(uk(d))},tk,b,function(d){return Math.sqrt(a(d))},function(){function d(f,h){return Yf(Uh(f,function(){return bf(h,Hl(K(h)))}))}var e=null;e=function(f,h){switch(arguments.length){case 1:return bf(f,Hl(K(f)));case 2:return d.call(this,f,h)}throw Error("Invalid arity: "+
arguments.length);};e.Mi=function(f){return bf(f,Hl(K(f)))};e.Li=d;return e}(),function(d,e){return Yf(Mh.Li(d,Xf(e)))}])}();function nN(a){a="string"===typeof a?wH(new p(null,3,[ym,y(DH),Xl,y(CH),lx,null],null),a):a;PM(a);return Il(nf,a)}function oN(a){a=Lh.Li(Dw,Yf(uk(IL(qf,a))));return new XM(wk(a,Gk.Ui()),qf,null,null,null)}
function pN(a,b){if(null!=a&&null!=a.ve)a=a.ve(a,b);else{var c=pN[pa(null==a?null:a)];if(null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else if(c=pN._,null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else throw Cc("IBinding.in-\x3erel",a);}return a}ZL.prototype.ve=function(){return gN.Ui()};$L.prototype.ve=function(a,b){return new XM(uf([ei(this,new W(null,2,5,Y,[Vt,Dw],null)),0]),new W(null,1,5,Y,[Ic(new W(null,1,5,Y,[b],null))],null),null,null,null)};
bM.prototype.ve=function(a,b){var c=this;if(HI(b))return Bf(b)?oN(c):v.Li(fN,Lh.Li(function(d){return pN(c.binding,d)},b));throw dm(["Cannot bind value ",fl.Pi(M([b]))," to collection ",fl.Pi(M([FL(c)]))].join(""),new p(null,3,[rp,Ep,Jw,b,Vv,FL(c)],null));};
aM.prototype.ve=function(a,b){if(HI(b)){if(K(b)<K(this.bindings))throw dm(["Not enough elements in a collection ",fl.Pi(M([b]))," to bind tuple ",fl.Pi(M([FL(this)]))].join(""),new p(null,3,[rp,Ep,Jw,b,Vv,FL(this)],null));return v.Li(gN,Lh.Ni(function(c,d){return pN(c,d)},this.bindings,b))}throw dm(["Cannot bind value ",fl.Pi(M([b]))," to tuple ",fl.Pi(M([FL(this)]))].join(""),new p(null,3,[rp,Ep,Jw,b,Vv,FL(this)],null));};
function qN(a,b){var c=P(b,0,null);b=P(b,1,null);return c instanceof $L&&c.Wa instanceof JL?ii.la(a,Lw,Q,ei(c,new W(null,2,5,Y,[Vt,Dw],null)),b):c instanceof $L&&c.Wa instanceof LL?Q.Ni(a,Pv,nN(b)):ii.Vi(a,Qv,pf,pN(c,b))}
function rN(a,b,c){var d=K(b),e=K(c);if(d<e)throw dm(["Extra inputs passed, expected: ",fl.Pi(M([bi.Li(function(f){return cn.Mi(yf(f))},b)])),", got: ",fl.Pi(M([e]))].join(""),new p(null,3,[rp,To,hm,b,Ew,c],null));if(d>e)throw dm(["Too few inputs passed, expected: ",fl.Pi(M([bi.Li(function(f){return cn.Mi(yf(f))},b)])),", got: ",fl.Pi(M([e]))].join(""),new p(null,3,[rp,To,hm,b,Ew,c],null));return v.Ni(qN,a,wk(b,c))}var sN=null,tN=null;
function uN(a,b){var c=a.Mi?a.Mi(b):a.call(null,b);return Pf(sN,b)?function(d){d=d[c];return"number"===typeof d?d:Ef(d)?LJ(tN,d):MH(d)?LJ(tN,d):d}:function(d){return d[c]}}function vN(a){if(1===K(a))return H(a);var b=Wf(a);return function(c){return E(b.map(function(d){return d.Mi?d.Mi(c):d.call(null,c)}))}}function wN(a,b){for(var c=Td(V);;){var d=H(b);if(null==d)return Vd(c);var e=a.Mi?a.Mi(d):a.call(null,d);b=J(b);c=$g.Ni(c,e,pf.Li(B.Ni(c,e,Ge),d))}}
function xN(a,b){var c=Yt.Mi(a),d=Yt.Mi(b),e=Ct.Mi(a),f=Ct.Mi(b);a=Yf(YM(Ct.Mi(a),Ct.Mi(b)));var h=Lh.Li(function(w){return uN(e,w)},a),k=Lh.Li(function(w){return uN(f,w)},a);a=cj(e);b=Yf(HH.Li(tk(cj(f)),tk(cj(e))));var m=Wf(Lh.Li(e,a)),n=Wf(Lh.Li(f,b));h=vN(h);var r=wN(h,c),u=vN(k);c=Vd(v.Ni(function(w,A){var G=u.Mi?u.Mi(A):u.call(null,A);G=B.Li(r,G);return null==G?w:v.Ni(function(I,F){return Zg.Li(I,eN(F,m,A,n))},w,G)},Td(qf),d));return new XM(wk(T.Li(a,b),Gk.Ui()),c,null,null,null)}
function yN(a,b){var c=null!=a&&(a.Si&64||l===a.va)?gh(hk,a):a,d=B.Li(c,Ct);c=B.Li(c,Yt);b=null!=b&&(b.Si&64||l===b.va)?gh(hk,b):b;var e=B.Li(b,Ct);b=B.Li(b,Yt);var f=YM(d,e),h=Lh.Li(function(n){return uN(e,n)},f);h=vN(h);var k=wN(h,b);b=Lh.Li(function(n){return uN(d,n)},f);var m=vN(b);return Q.Ni(a,Yt,ci(function(n){n=m.Mi?m.Mi(n):m.call(null,n);return null==(k.Mi?k.Mi(n):k.call(null,n))},c))}
function zN(a,b){var c=bi.Li(function(d){return d instanceof z?null:d},b);a=iJ(a,c);b=ai.Li(V,Zh(function(d){var e=P(d,0,null);P(d,1,null);return bN(e)},Lh.Ni(Hi,b,new W(null,4,5,Y,["e","a","v","tx"],null))));return new XM(b,a,null,null,null)}
function AN(a,b){a=Zh(function(d){a:for(var e=b;;){var f=d;if(q(q(f)?e:f)){f=H(d);var h=H(e);if(h instanceof z||D.Li(f,h))d=J(d),e=J(e);else{d=!1;break a}}else{d=!0;break a}}return d},a);var c=ai.Li(V,Zh(function(d){var e=P(d,0,null);P(d,1,null);return bN(e)},Lh.Ni(Hi,b,Gk.Ui())));return new XM(c,bi.Li(Wf,a),null,null,null)}function BN(a,b){return(null!=a?l===a.vh||(a.yd?0:Ac(hJ,a)):Ac(hJ,a))?zN(a,b):AN(a,b)}
function CN(a,b){for(var c=qf;;){var d=H(a);if(null==d)return pf.Li(c,b);q(mh(YM(Ct.Mi(b),Ct.Mi(d))))?(a=J(a),b=xN(d,b)):(a=J(a),c=pf.Li(c,d))}}function DN(a,b){return sh(function(c){return Pf(Ct.Mi(c),b)?c:null},Qv.Mi(a))}function EN(a,b){var c=DN(a,b);if(null==c)return null;a=H(Yt.Mi(c));null==a?b=null:(c=Ct.Mi(c),b=c.Mi?c.Mi(b):c.call(null,b),b=a[b]);return b}function FN(a,b){return sh(function(c){return Pf(Ct.Mi(a),c)},b)}
function GN(a,b){var c=Zh(function(e){return FN(e,b)},Qv.Mi(a)),d=v.Li(gN,c);return new W(null,2,5,Y,[ii.Ni(a,Qv,function(e){return $h(tk(c),e)}),d],null)}
function HN(a,b,c,d){a=Lw.Mi(a);b=Ct.Mi(b);for(var e=K(d),f=Array(e),h=Array(e),k=0;;)if(k<e){var m=bf(d,k);if(m instanceof z){var n=B.Li(a,m);null==n?h[k]=B.Li(b,m):f[k]=n}else f[k]=m;k+=1}else break;return c===Hi?function(r){for(var u=f.slice(0),w=0;;)if(w<e){var A=h[w];null!=A&&(u[w]=r[A]);w+=1}else break;return gh(c,u)}:function(r){for(var u=0;;)if(u<e){var w=h[u];null!=w&&(f[u]=r[w]);u+=1}else break;return gh(c,f)}}
function IN(a,b){var c=P(b,0,null);c=E(c);var d=H(c),e=J(c),f=function(){var m=B.Li(lN,d);if(q(m))return m;m=EN(a,d);if(q(m))return m;if(q(null))return null;if(null==DN(a,d))throw dm(["Unknown predicate '",fl.Pi(M([d]))," in ",fl.Pi(M([b]))].join(""),new p(null,3,[rp,Ar,ct,b,hu,d],null));return null}();c=GN(a,Zh(we,e));var h=P(c,0,null),k=P(c,1,null);c=q(f)?function(){var m=HN(h,k,f,e);return ii.Ni(k,Yt,function(n){return Zh(m,n)})}():Q.Ni(k,Yt,qf);return ii.Vi(h,Qv,pf,c)}
function JN(a,b){var c=P(b,0,null);c=E(c);var d=H(c),e=J(c);c=P(b,1,null);var f=eM(c),h=function(){var n=B.Li(lN,d);if(q(n))return n;n=EN(a,d);if(q(n))return n;if(q(null))return null;if(null==DN(a,d))throw dm(["Unknown function '",fl.Pi(M([d]))," in ",fl.Pi(M([b]))].join(""),new p(null,3,[rp,Ar,ct,b,hu,d],null));return null}();c=GN(a,Zh(we,e));var k=P(c,0,null),m=P(c,1,null);c=q(h)?function(){var n=HN(k,m,h,e),r=function(){return function A(w){return new Jg(null,function(){for(var G=w;;)if(G=E(G)){if(If(G)){var I=
ae(G),F=K(I),N=Ng(F);a:for(var O=0;;)if(O<F){var U=x(I,O),ea=n(U);null!=ea&&(U=gN.Li(new XM(Ct.Mi(m),new W(null,1,5,Y,[U],null),null,null,null),pN(f,ea)),N.add(U));O+=1}else{I=!0;break a}return I?Qg(Sg(N),A(be(G))):Qg(Sg(N),null)}N=H(G);I=n(N);if(null!=I)return hf(gN.Li(new XM(Ct.Mi(m),new W(null,1,5,Y,[N],null),null,null,null),pN(f,I)),A(Fe(G)));G=Fe(G)}else return null},null,null)}(Yt.Mi(m))}();return Bf(r)?gN.Li(m,oN(f)):v.Li(fN,r)}():gN.Li(Q.Ni(m,Yt,qf),oN(f));return ii.Vi(k,Qv,CN,c)}
function KN(a,b){if(Ef(b)){var c=aN(H(b))?mf(b):H(b);if(c instanceof z){if(bN(c)||Pf(new qk(null,new p(null,6,[Cv,null,ux,null,Bq,null,kp,null,kr,null,dq,null],null),null),c))return!1;if(Pf(Pv.Mi(a),c))return!0;throw dm(["Unknown rule '",fl.Pi(M([c]))," in ",fl.Pi(M([b]))].join(""),new p(null,2,[rp,Ar,ct,b],null));}}return!1}var LN=Ch(0);
function MN(a,b){var c=E(a),d=H(c),e=J(c),f=Eh.Li(LN,Oe),h=B.Li(Pv.Mi(b),d);return function n(m){return new Jg(null,function(){for(;;){var r=E(m);if(r){var u=r;if(If(u)){var w=ae(u),A=K(w),G=Ng(A);return function(){for(var ua=0;;)if(ua<A){var Ba=x(w,ua),Ua=Ba,ac=E(Ua),yb=H(ac),ec=J(ac),Xb=yb,Pd=E(Xb),Zf=H(Pd),zf=J(Pd),Og=Zf,Yc=zf,Ad=ec,te=wk(Yc,e);Rg(G,FB(function($f,Bd,ue,Cd,bq,Jq,oo,Kq,mj,po,Ey,Lq,qo,Fy,Mq,Nq,nj,Oq,Pq,ro,Qt,Zl,oj,Ak,Rt,$l){return function(Yg){if(bN(Yg)){var Gy=qo.Mi?qo.Mi(Yg):qo.call(null,
Yg);return null==Gy?ze.Mi([Ig(Yg),"__auto__",t.Mi($l)].join("")):Gy}return Yg}}(ua,Ua,ac,yb,ec,Xb,Pd,Zf,zf,Og,Yc,Ad,te,Ba,w,A,G,u,r,a,c,d,e,d,e,f,h),Ad));ua+=1}else return!0}()?Qg(Sg(G),n(be(u))):Qg(Sg(G),null)}var I=H(u),F=I,N=E(F),O=H(N),U=J(N),ea=O,va=E(ea),wa=H(va),xa=J(va),Ra=wa,ka=xa,oa=U,Ca=wk(ka,e);return hf(FB(function(ua,Ba,Ua,ac,yb,ec,Xb,Pd,Zf,zf,Og,Yc,Ad,te,$f,Bd,ue,Cd,bq,Jq,oo,Kq){return function(mj){if(bN(mj)){var po=Yc.Mi?Yc.Mi(mj):Yc.call(null,mj);return null==po?ze.Mi([Ig(mj),"__auto__",
t.Mi(Kq)].join("")):po}return mj}}(F,N,O,U,ea,va,wa,xa,Ra,ka,oa,Ca,I,u,r,a,c,d,e,d,e,f,h),oa),n(Fe(u)))}return null}},null,null)}(h)}function NN(a,b){a=$h(function(c){var d=P(c,0,null);c=P(c,1,null);return D.Li(d,c)},Lh.Ni(Hi,a,b));return new W(null,2,5,Y,[Lh.Li(H,a),Lh.Li(mf,a)],null)}
function ON(a,b){a=E(a);var c=H(a),d=J(a);return function h(f){return new Jg(null,function(){for(;;){var k=E(f);if(k){if(If(k)){var m=ae(k),n=K(m),r=Ng(n);a:for(var u=0;;)if(u<n){var w=x(m,u),A=NN(d,w);w=P(A,0,null);A=P(A,1,null);w=new W(null,1,5,Y,[T.Pi(new W(null,1,5,Y,[mx],null),w,M([A]))],null);r.add(w);u+=1}else{m=!0;break a}return m?Qg(Sg(r),h(be(k))):Qg(Sg(r),null)}r=H(k);m=NN(d,r);r=P(m,0,null);m=P(m,1,null);return hf(new W(null,1,5,Y,[T.Pi(new W(null,1,5,Y,[mx],null),r,M([m]))],null),h(Fe(k)))}return null}},
null,null)}(B.Li(b,c))}function PN(a){var b=Ch(qf);FB(function(c){q(bN.Mi?bN.Mi(c):bN.call(null,c))&&Eh.Ni(b,pf,c);return c},a);return y(b)}function QN(a,b){function c(e){e=P(e,0,null);e=E(e);H(e);e=J(e);return rh(d,e)}var d=tk(PN(a));return new W(null,2,5,Y,[Zh(c,b),$h(c,b)],null)}
function RN(a,b){function c(ec){return sh(function(Xb){return Bf(Yt.Mi(Xb))},Qv.Mi(ec))}function d(ec,Xb){return v.Ni(SN,ec,Xb)}for(var e=Zh(bN,b),f=wk(e,Gk.Ui()),h=new rf(null,new p(null,5,[Ho,qf,Cz,a,qy,new W(null,1,5,Y,[b],null),Dx,V,iy,V],null),null,1,null),k=new XM(f,qf,null,null,null);;){var m=H(h);if(null==m)return k;var n=m,r=Ik(function(){return function(ec){return!KN(a,ec)}}(h,k,n,m,e,f,d,c),qy.Mi(n)),u=P(r,0,null),w=P(r,1,null),A=E(w),G=H(A),I=J(A),F=G,N=I;if(null==F){b=d(Cz.Mi(n),u);b=
TN?TN(b,e):UN.call(null,b,e);var O=new XM(f,b,null,null,null);b=J(h);O=fN(k,O);h=b;k=O}else{var U=F,ea=E(U),va=H(ea),wa=J(ea),xa=va,Ra=wa,ka=ON(F,Dx.Mi(n)),oa=QN(T.Li(Ho.Mi(n),u),T.Li(ka,iy.Mi(n))),Ca=P(oa,0,null),ua=P(oa,1,null);if(q(sh(function(){return function(ec){return D.Li(ec,new W(null,1,5,Y,[Cg(mx)],null))}}(h,k,U,ea,va,wa,xa,Ra,ka,oa,Ca,ua,r,u,w,A,G,I,F,N,n,m,e,f,d,c),Ca)))b=J(h),O=k,h=b,k=O;else{var Ba=T.Li(u,Ca),Ua=d(Cz.Mi(n),Ba);if(q(c(Ua)))b=J(h),O=k,h=b,k=O;else{var ac=Q.Ni(Dx.Mi(n),
xa,pf.Li(B.Ni(Dx.Mi(n),xa,qf),Ra)),yb=MN(F,a);b=T.Li(function(){return function(ec,Xb,Pd,Zf,zf,Og,Yc,Ad,te,$f,Bd,ue,Cd,bq,Jq,oo,Kq,mj,po,Ey,Lq,qo,Fy,Mq,Nq,nj,Oq,Pq,ro,Qt){return function Ak(oj){return new Jg(null,function(Rt,$l,Yg,Gy,NG,OG,iV,jV,kV,lV,mV,nV,oV,pV,qV,PG,rV,sV,tV,uV,vV,wV,xV,QG){return function(){for(;;){var so=E(oj);if(so){if(If(so)){var Tt=ae(so),RG=K(Tt),Rq=Ng(RG);a:for(var Hy=0;;)if(Hy<RG){var Iy=x(Tt,Hy);Iy=new p(null,5,[Ho,NG,Cz,OG,qy,ai.Ni(qf,vl,M([Iy,QG])),Dx,Yg,iy,PG],null);
Rq.add(Iy);Hy+=1}else{Tt=!0;break a}return Tt?Qg(Sg(Rq),Ak(be(so))):Qg(Sg(Rq),null)}Rq=H(so);return hf(new p(null,5,[Ho,NG,Cz,OG,qy,ai.Ni(qf,vl,M([Rq,QG])),Dx,Yg,iy,PG],null),Ak(Fe(so)))}return null}}}(ec,Xb,Pd,Zf,zf,Og,Yc,Ad,te,$f,Bd,ue,Cd,bq,Jq,oo,Kq,mj,po,Ey,Lq,qo,Fy,Mq,Nq,nj,Oq,Pq,ro,Qt),null,null)}}(h,k,ac,yb,Ba,Ua,U,ea,va,wa,xa,Ra,ka,oa,Ca,ua,r,u,w,A,G,I,F,N,n,m,e,f,d,c)(yb)}(),J(h));O=k;h=b;k=O}}}}}
function VN(a,b){if(null!=a?l===a.tg||(a.yd?0:Ac(lJ,a)):Ac(lJ,a)){var c=P(b,0,null),d=P(b,1,null),e=P(b,2,null),f=P(b,3,null);return Mi(new W(null,4,5,Y,[q(function(){var h=dN(c);return q(h)?h:cN(c)}())?IJ(a,c):c,d,q(function(){if(q(e)){if(cN(d)&&HJ(a,d)){var h=dN(e);return q(h)?h:cN(e)}return!1}return e}())?IJ(a,e):e,q(dN(f))?IJ(a,f):f],null),0,K(b))}return b}
function WN(a,b){var c=P(b,0,null),d=P(b,1,null),e=P(b,2,null);b=P(b,3,null);c=bN(c)?pf.Li(sk,c):sk;c=bN(b)?pf.Li(c,b):c;return bN(e)&&!bN(d)&&HJ(a,d)?pf.Li(c,e):c}function XN(a,b){return Q.Ni(a,Qv,Ah(function(c){var d=mh(nk(Ct.Mi(c),b));return null==d?null:Q.Ni(c,Ct,d)},Qv.Mi(a)))}function YN(a){return ai.Li(sk,Xh(function(b){return cj(Ct.Mi(b))},M([Qv.Mi(a)])))}
function ZN(a,b,c){if(JH(b,a))return null;a=HH.Li(tk(b),a);throw dm(["Insufficient bindings: ",fl.Pi(M([a]))," not bound in ",fl.Pi(M([c]))].join(""),new p(null,3,[rp,Ar,ct,c,Yr,a],null));}function $N(a,b,c){b=bi.Li(function(d){return HH.Li(tk(PN(d)),a)},b);if(q(gh(D,b)))return null;throw dm(["All clauses in 'or' must use same set of free vars, had ",fl.Pi(M([b]))," in ",fl.Pi(M([c]))].join(""),new p(null,3,[rp,Ar,ct,c,Yr,b],null));}
function aO(a,b,c){for(var d=tk($h(a,b)),e=E(c),f=null,h=0,k=0;;)if(k<h){c=f.xa(null,k);var m=mh(HH.Li(d,tk(PN(c))));if(null!=m)throw e=m,jl(M([c,a,b,d])),dm(["All clauses in 'or' must use same set of free vars, had ",fl.Pi(M([e]))," not bound in ",fl.Pi(M([c]))].join(""),new p(null,3,[rp,Ar,ct,c,Yr,e],null));k+=1}else if(c=E(e)){e=c;if(If(e))f=ae(e),e=be(e),c=f,h=K(f),f=c;else{c=H(e);f=mh(HH.Li(d,tk(PN(c))));if(null!=f)throw e=f,jl(M([c,a,b,d])),dm(["All clauses in 'or' must use same set of free vars, had ",
fl.Pi(M([e]))," not bound in ",fl.Pi(M([c]))].join(""),new p(null,3,[rp,Ar,ct,c,Yr,e],null));e=J(e);f=null;h=0}k=0}else return null}var SN=function SN(a){switch(arguments.length){case 2:return SN.Li(arguments[0],arguments[1]);case 3:return SN.Ni(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length)].join(""));}};SN.Li=function(a,b){return SN.Ni(a,b,b)};
SN.Ni=function(a,b,c){for(;;){var d=$M,e=b;if(q(function(){var O=new W(null,1,5,Y,[new W(null,2,5,Y,[we,ix],null)],null),U=e;return d.Li?d.Li(O,U):d.call(null,O,U)}()))return ZN(YN(a),Zh(bN,J(H(b))),b),IN(a,b);if(q(function(){var O=new W(null,2,5,Y,[new W(null,2,5,Y,[we,ix],null),dq],null),U=e;return d.Li?d.Li(O,U):d.call(null,O,U)}()))return ZN(YN(a),Zh(bN,J(H(b))),b),JN(a,b);if(q(function(){var O=new W(null,2,5,Y,[aN,ix],null),U=e;return d.Li?d.Li(O,U):d.call(null,O,U)}())){var f=E(b);c=H(f);f=
J(f);var h=tN;tN=B.Li(Lw.Mi(a),c);try{return SN.Ni(a,f,b)}finally{tN=h}}else{if(q(function(){var O=new W(null,2,5,Y,[kr,ix],null),U=e;return d.Li?d.Li(O,U):d.call(null,O,U)}())){var k=b,m=E(k),n=H(m),r=J(m);f=n;h=r;var u=$N(YN(a),h,b),w=Lh.Li(function(O){return function(U){return bO.Li?bO.Li(O,U):bO.call(null,O,U)}}(a,b,c,k,m,n,r,f,h,u,d,e),h);b=Lh.Li(function(){return function(O){return v.Li(xN,Qv.Mi(O))}}(a,b,c,k,m,n,r,f,h,u,w,d,e),w);return Q.Ni(H(w),Qv,new W(null,1,5,Y,[v.Li(fN,b)],null))}if(q(function(){var O=
new W(null,3,5,Y,[kp,new W(null,2,5,Y,[new W(null,1,5,Y,[ix],null),ix],null),ix],null),U=e;return d.Li?d.Li(O,U):d.call(null,O,U)}())){h=E(b);f=H(h);h=J(h);k=H(h);f=J(h);k=E(k);h=H(k);k=J(k);u=h;h=f;f=YN(a);ZN(f,u,c);aO(f,k,h);c=Vg(kp,T.Li(u,k),h);f=b;b=c;c=f;continue}else{if(q(function(){var O=new W(null,3,5,Y,[kp,new W(null,1,5,Y,[ix],null),ix],null),U=e;return d.Li?d.Li(O,U):d.call(null,O,U)}())){n=b;r=E(n);var A=H(r),G=J(r);f=A;var I=H(G),F=J(G);k=I;h=F;var N=tk(k);u=aO(YN(a),N,h);m=XN(a,N);w=
Lh.Li(function(O,U,ea,va,wa,xa,Ra,ka,oa,Ca,ua,Ba,Ua,ac,yb){return function(ec){return XN(bO.Li?bO.Li(yb,ec):bO.call(null,yb,ec),Ua)}}(a,b,c,n,r,A,G,f,I,F,k,h,N,u,m,d,e),h);b=Lh.Li(function(){return function(O){return v.Li(xN,Qv.Mi(O))}}(a,b,c,n,r,A,G,f,I,F,k,h,N,u,m,w,d,e),w);b=v.Li(fN,b);return ii.Vi(a,Qv,CN,b)}if(q(function(){var O=new W(null,2,5,Y,[Cv,ix],null),U=e;return d.Li?d.Li(O,U):d.call(null,O,U)}()))return c=E(b),b=H(c),c=J(c),f=b,b=c,v.Ni(bO,a,b);if(q(function(){var O=new W(null,2,5,Y,
[ux,ix],null),U=e;return d.Li?d.Li(O,U):d.call(null,O,U)}())){f=E(b);b=H(f);h=J(f);f=b;b=h;f=YN(a);h=tk(PN(b));if(Bf(GH.Li(f,h)))throw dm(["Insufficient bindings: none of ",fl.Pi(M([h]))," is bound in ",fl.Pi(M([c]))].join(""),new p(null,2,[rp,Ar,ct,c],null));u=null;a=Q.Ni(a,Qv,new W(null,1,5,Y,[v.Li(xN,Qv.Mi(a))],null));b=v.Ni(bO,a,b);b=yN(H(Qv.Mi(a)),v.Li(xN,Qv.Mi(b)));return Q.Ni(a,Qv,new W(null,1,5,Y,[b],null))}if(q(function(){var O=new W(null,3,5,Y,[Bq,new W(null,1,5,Y,[ix],null),ix],null),U=
e;return d.Li?d.Li(O,U):d.call(null,O,U)}()))return b=E(b),f=H(b),b=J(b),f=H(b),b=J(b),k=f,f=YN(a),u=ZN(f,k,c),a=Q.Ni(a,Qv,new W(null,1,5,Y,[v.Li(xN,Qv.Mi(a))],null)),m=XN(a,k),b=XN(v.Ni(bO,m,b),k),b=yN(H(Qv.Mi(a)),v.Li(xN,Qv.Mi(b))),Q.Ni(a,Qv,new W(null,1,5,Y,[b],null));if(q(function(){var O=new W(null,1,5,Y,[ix],null),U=e;return d.Li?d.Li(O,U):d.call(null,O,U)}())){c=tN;b=VN(c,b);f=BN(c,b);h=sN;sN=(null!=c?l===c.tg||(c.yd?0:Ac(lJ,c)):Ac(lJ,c))?WN(c,b):sN;try{return ii.Vi(a,Qv,CN,f)}finally{sN=h}}else throw Error(["No matching clause: ",
t.Mi(e)].join(""));}}break}};SN.$=3;var bO=function bO(a,b){if(KN(a,b))if(aN(H(b))){var d=tN;tN=B.Li(Lw.Mi(a),H(b));try{var e=J(b);return bO.Li?bO.Li(a,e):bO.call(null,a,e)}finally{tN=d}}else return ii.Vi(a,Qv,CN,RN(a,b));else return SN.Li(a,b)};function cO(a,b){var c=tN;tN=B.Li(Lw.Mi(a),Dp);try{return v.Ni(bO,a,b)}finally{tN=c}}
function UN(a){switch(arguments.length){case 2:return TN(arguments[0],arguments[1]);case 3:return dO(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length)].join(""));}}function TN(a,b){a=Qv.Mi(a);return dO(new W(null,1,5,Y,[Array(K(b))],null),a,b)}
function dO(a,b,c){for(;;){var d=H(b);if(null==d)return a;var e=d,f=nk(Ct.Mi(e),c);if(Bf(f)){var h=a,k=J(b),m=c;a=h;b=k;c=m}else{var n=Wf(Lh.Li(function(u,w,A,G){return function(I){return B.Li(G,I)}}(a,b,c,f,e,d),c)),r=K(c);h=function(){return function(u,w,A,G,I,F,N,O){return function va(ea){return new Jg(null,function(wa,xa,Ra,ka,oa,Ca,ua,Ba){return function(){for(var Ua=ea;;){var ac=E(Ua);if(ac){var yb=ac,ec=H(yb);if(ac=E(function(Xb,Pd,Zf,zf,Og,Yc,Ad,te,$f,Bd,ue,Cd){return function oo(Jq){return new Jg(null,
function(Kq,mj,po,Ey,Lq,qo,Fy,Mq,Nq){return function(){for(;;){var nj=E(Jq);if(nj){if(If(nj)){var Oq=ae(nj),Pq=K(Oq),ro=Ng(Pq);return function(){for(var Zl=0;;)if(Zl<Pq){for(var oj=x(Oq,Zl),Ak=ro,Rt=Hc(Lq),$l=0;;)if($l<Nq){var Yg=Mq[$l];null!=Yg&&(Rt[$l]=oj[Yg]);$l+=1}else break;Ak.add(Rt);Zl+=1}else return!0}()?Qg(Sg(ro),oo(be(nj))):Qg(Sg(ro),null)}var Qt=H(nj);return hf(function(){for(var Zl=Hc(Lq),oj=0;;)if(oj<Nq){var Ak=Mq[oj];null!=Ak&&(Zl[oj]=Qt[Ak]);oj+=1}else break;return Zl}(),oo(Fe(nj)))}return null}}}(Xb,
Pd,Zf,zf,Og,Yc,Ad,te,$f,Bd,ue,Cd),null,null)}}(Ua,wa,xa,Ra,ec,yb,ac,ka,oa,Ca,ua,Ba)(Yt.Mi(ua))))return T.Li(ac,va(Fe(Ua)));Ua=Fe(Ua)}else return null}}}(u,w,A,G,I,F,N,O),null,null)}}(a,b,c,n,r,f,e,d)(a)}();k=J(b);m=c;a=h;b=k;c=m}}}function eO(a,b){return tk(Lh.Li(Yf,TN(a,b)))}
function fO(a,b){if(null!=a&&null!=a.we)a=a.we(a,b);else{var c=fO[pa(null==a?null:a)];if(null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else if(c=fO._,null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else throw Cc("IContextResolve.-context-resolve",a);}return a}HL.prototype.we=function(a,b){return EN(b,this.symbol)};JL.prototype.we=function(a,b){return ei(b,new W(null,2,5,Y,[Lw,this.symbol],null))};NL.prototype.we=function(){var a=B.Li(mN,this.symbol);return q(a)?a:null};ML.prototype.we=function(){return this.value};
function gO(a,b,c){return bi.Vi(function(d,e,f){if(oM(d)){e=fO(Jz.Mi(d),b);d=Lh.Li(function(k){return fO(k,b)},vk(Kz.Mi(d)));var h=Lh.Li(function(k){return bf(k,f)},c);return gh(e,T.Li(d,new W(null,1,5,Y,[h],null)))}return e},a,H(c),Gk.Ui())}function hO(a){var b=uh(oM);return $h(vc,Lh.Ni(function(c,d){return q(b.Mi?b.Mi(c):b.call(null,c))?d:null},a,Gk.Ui()))}
function iO(a,b,c){var d=hO(a);return function h(f){return new Jg(null,function(){for(;;){var k=E(f);if(k){if(If(k)){var m=ae(k),n=K(m),r=Ng(n);a:for(var u=0;;)if(u<n){var w=x(m,u);P(w,0,null);w=P(w,1,null);w=gO(a,b,w);r.add(w);u+=1}else{m=!0;break a}return m?Qg(Sg(r),h(be(k))):Qg(Sg(r),null)}r=H(k);P(r,0,null);r=P(r,1,null);return hf(gO(a,b,r),h(Fe(k)))}return null}},null,null)}(Il(function(f){return Lh.Li(function(h){return bf(f,h)},d)},c))}
function jO(a,b){return v.Ni(function(c,d){return pf.Li(c,a.Mi?a.Mi(d):a.call(null,d))},sf(b),b)}function kO(a,b){var c=Fx.Mi(a),d=Gk.Li(0,K(c));return jO(function(e){return v.Ni(function(f,h){return Q.Ni(f,bf(c,h),bf(e,h))},V,d)},b)}function lO(a,b,c){if(null!=a&&null!=a.xe)a=a.xe(a,b,c);else{var d=lO[pa(null==a?null:a)];if(null!=d)a=d.Ni?d.Ni(a,b,c):d.call(null,a,b,c);else if(d=lO._,null!=d)a=d.Ni?d.Ni(a,b,c):d.call(null,a,b,c);else throw Cc("IPostProcess.-post-process",a);}return a}
kM.prototype.xe=function(a,b,c){return null==b?c:kO(b,c)};lM.prototype.xe=function(a,b,c){return ai.Ni(qf,Lh.Mi(H),c)};mM.prototype.xe=function(a,b,c){return nf(c)};nM.prototype.xe=function(a,b,c){return null!=b?H(kO(b,new W(null,1,5,Y,[H(c)],null))):H(c)};
function mO(a,b,c){var d=function(){return function h(f){return new Jg(null,function(){for(;;){var k=E(f);if(k){if(If(k)){var m=ae(k),n=K(m),r=Ng(n);a:for(var u=0;;)if(u<n){var w=x(m,u);w=pM(w)?new W(null,2,5,Y,[fO(cn.Mi(w),b),IK(fO(Pz.Mi(w),b))],null):null;r.add(w);u+=1}else{m=!0;break a}return m?Qg(Sg(r),h(be(k))):Qg(Sg(r),null)}r=H(k);return hf(pM(r)?new W(null,2,5,Y,[fO(cn.Mi(r),b),IK(fO(Pz.Mi(r),b))],null):null,h(Fe(k)))}return null}},null,null)}(a)}();return function h(f){return new Jg(null,
function(){for(;;){var k=E(f);if(k){var m=k;if(If(m)){var n=ae(m),r=K(n),u=Ng(r);return function(){for(var A=0;;)if(A<r){var G=x(n,A);Rg(u,bi.Ni(function(){return function(I,F){if(q(I)){var N=P(I,0,null);I=P(I,1,null);return dL(N,I,new W(null,1,5,Y,[F],null))}return F}}(A,G,n,r,u,m,k,d),d,G));A+=1}else return!0}()?Qg(Sg(u),h(be(m))):Qg(Sg(u),null)}var w=H(m);return hf(bi.Ni(function(){return function(A,G){if(q(A)){var I=P(A,0,null);A=P(A,1,null);return dL(I,A,new W(null,1,5,Y,[G],null))}return G}}(w,
m,k,d),d,w),h(Fe(m)))}return null}},null,null)}(c)}var nO=Hh(gL(V,function(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new De(b.slice(0),0,null):null;a:for(b=E(b),d=gk;;)if(b)c=J(J(b)),d=Q.Ni(d,H(b),mf(b)),b=c;else break a;return d}(),V,0,100));function oO(a){var b=B.Ni(y(nO),a,null);return null==b?(b=VM(a),nO.Jc(null,Q.Ni(nO.ub(null),a,b)),b):b}
function ND(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new De(b.slice(1),0,null):null;return pO(arguments[0],b)}function pO(a,b){var c=oO(a),d=wq.Mi(c),e=jM(d),f=Xh(gM,M([jM(d)])),h=K(e),k=Nz.Mi(c);f=T.Li(f,Lh.Li(Dw,k));a=Ef(a)?SM(a):a;k=gp.Mi(a);b=rN(new WM(qf,V,V,null,null,null),Wx.Mi(c),b);f=eO(cO(b,k),f);f=q(GA.Mi(a))?bi.Li(function(m){return Yf(Mi(m,0,h))},f):f;f=q(sh(oM,e))?iO(e,b,f):f;e=q(sh(pM,e))?mO(e,b,f):f;return lO(d,iw.Mi(c),e)};function qO(a,b){var c=Ch(null);Eh.Li(a,function(d){var e=eK;d=new p(null,5,[ao,d,qu,d,Pr,qf,BB,V,Go,null],null);var f=R.Pi(d,ao,M([qu,Pr,BB,Go]));f=Gf(d)?ai.Li(V,f):f;d=new JJ(ao.Mi(d),qu.Mi(d),Pr.Mi(d),BB.Mi(d),Go.Mi(d),null,mh(f),null);e=e(d,b);Dh(c,e);return qu.Mi(e)});return y(c)}
function rO(a){var b=MD;a=qO(b,a);b=Zt.Mi(yf(b));b=null==b?null:y(b);b=E(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e);P(f,0,null);f=P(f,1,null);f.Mi?f.Mi(a):f.call(null,a);e+=1}else if(b=E(b))If(b)?(d=ae(b),b=be(b),c=d,d=K(d)):(c=H(b),P(c,0,null),c=P(c,1,null),c.Mi?c.Mi(a):c.call(null,a),b=J(b),c=null,d=0),e=0;else break;return a}function sO(a){var b=MD,c=Gl.Ui();Eh.Vi(Zt.Mi(yf(b)),Q,c,a)}
for(var tO=E(new p(null,2,[Zs,function(a){return gh(DI,a)},qv,function(a){var b=null!=a&&(a.Si&64||l===a.va)?gh(hk,a):a;a=B.Li(b,Or);b=B.Li(b,Gq);return DJ(Lh.Li(function(c){var d=P(c,0,null),e=P(c,1,null),f=P(c,2,null);c=P(c,3,null);return DI.Vi(d,e,f,c)},b),a)}],null)),uO=null,vO=0,wO=0;;)if(wO<vO){var xO=uO.xa(null,wO),yO=P(xO,0,null),zO=P(xO,1,null),AO=yO,BO=zO;B.Li(y(DH),AO);Eh.Vi(DH,Q,AO,BO);wO+=1}else{var CO=E(tO);if(CO){var DO=CO;if(If(DO)){var EO=ae(DO),FO=be(DO),GO=EO,HO=K(EO);tO=FO;uO=
GO;vO=HO}else{var IO=H(DO),JO=P(IO,0,null),KO=P(IO,1,null),LO=JO,MO=KO;B.Li(y(DH),LO);Eh.Vi(DH,Q,LO,MO);tO=J(DO);uO=null;vO=0}wO=0}else break};var MD,NO=new p(null,3,[jB,new p(null,1,[Bm,Jy],null),rx,new p(null,2,[iA,cz,au,Px],null),Np,new p(null,2,[iA,cz,au,DA],null)],null),OO=tJ?tJ(NO):uJ.call(null,NO),PO=M([rc,new p(null,1,[Zt,Ch(V)],null)]),QO=null!=PO&&(PO.Si&64||l===PO.va)?gh(hk,PO):PO,RO=B.Li(QO,rc),SO=B.Li(QO,it);MD=new Bh(OO,RO,SO);function TO(a){return rO(new W(null,1,5,Y,[new W(null,2,5,Y,[Op,a],null)],null))}
function UO(){var a=new W(null,7,5,Y,[cr,new W(null,2,5,Y,[Cg(pw,eB,new W(null,2,5,Y,[ms,new p(null,1,[Np,new W(null,1,5,Y,[ix],null)],null)],null)),Su],null),WA,Dp,gp,new W(null,2,5,Y,[eB,jB],null),new W(null,1,5,Y,[Cg(Dr,Dp,eB,rx)],null)],null),b=y(MD);return ND.Li?ND.Li(a,b):ND.call(null,a,b)};nC(jB,Co,function(a){return"string"==typeof a});nC(Js,new qk(null,new p(null,7,[Jp,"null",wp,"null",Zp,"null",VU,"null",Mu,"null",to,"null",Eq,"null"],null),null),new qk(null,new p(null,7,[Jp,null,wp,null,Zp,null,VU,null,Mu,null,to,null,Eq,null],null),null));
nC(Iq,Cg(uv,Ow,new W(null,2,5,Y,[jB,Js],null)),function VO(a){var c=null!=a&&(a.Si&64||l===a.va)?gh(hk,a):a,d=B.Li(c,$A),e=B.Li(c,xs),f=B.Li(c,Ko),h=B.Li(c,Nu),k=B.Li(c,Rv),m=B.Li(c,lv),n=B.Li(c,Wz),r=B.Li(c,Xw),u=B.Li(c,Ow),w=B.Li(c,AA),A=B.Li(c,Mv),G=B.Li(c,xu),I=wk(T.Li(w,n),T.Li(r,A)),F=bm();if("undefined"===typeof fc||"undefined"===typeof GB||"undefined"===typeof RB||"undefined"===typeof SB)SB=function(N,O,U,ea,va,wa,xa,Ra,ka,oa,Ca,ua,Ba,Ua,ac,yb,ec,Xb,Pd){this.Ze=N;this.bi=O;this.pi=U;this.fi=
ea;this.Jd=va;this.ii=wa;this.$e=xa;this.$f=Ra;this.di=ka;this.Gh=oa;this.oi=Ca;this.req=ua;this.id=Ba;this.ni=Ua;this.ei=ac;this.Ch=yb;this.ji=ec;this.gi=Xb;this.Mh=Pd;this.Si=393216;this.Xi=0},SB.prototype.ea=function(N,O){return new SB(this.Ze,this.bi,this.pi,this.fi,this.Jd,this.ii,this.$e,this.$f,this.di,this.Gh,this.oi,this.req,this.id,this.ni,this.ei,this.Ch,this.ji,this.gi,O)},SB.prototype.da=function(){return this.Mh},SB.prototype.zd=function(){return this},SB.prototype.Ad=function(){return this},
SB.prototype.Se=l,SB.prototype.pe=function(N,O){if(q(this.$e.Mi?this.$e.Mi(O):this.$e.call(null,O))){N=y(YB);var U=E(O),ea=H(U);J(U);P(ea,0,null);P(ea,1,null);for(ea=U=O;;){O=U;var va=ea;ea=E(va);U=H(ea);var wa=J(ea);ea=U;U=P(ea,0,null);ea=P(ea,1,null);if(q(va))if(va=this.Ze.Mi?this.Ze.Mi(U):this.Ze.call(null,U),va=B.Li(N,va),q(va)){var xa=ea;va=WB(lC.Mi(va),xa);if(S(rt,va))return rt;O=va===ea?O:Q.Ni(O,U,va);ea=wa;U=O}else ea=wa,U=O;else return O}}else return rt},SB.prototype.qe=function(N,O){N=Q.Ni(this.$f,
Nu,O);return VO.Mi?VO.Mi(N):VO.call(null,N)},SB.Mb=!0,SB.wb="cljs.spec.alpha/t_cljs$spec$alpha22229",SB.Wb=function(N){return Jd(N,"cljs.spec.alpha/t_cljs$spec$alpha22229")};return new SB(function(N){var O=I.Mi?I.Mi(N):I.call(null,N);return q(O)?O:N},d,e,f,h,k,m,c,n,c,r,u,F,w,A,I,G,a,V)}(Oj([xs,Ko,Nu,Rv,lv,Wz,Xw,Ow,AA,Mv,xu,$A],[null,null,null,new W(null,3,5,Y,[function(a){return Ff(a)},function(a){return Pf(a,jB)},function(a){return Pf(a,Js)}],null),function(a){return Ff(a)&&Pf(a,jB)&&Pf(a,Js)},
qf,new W(null,2,5,Y,[jB,Js],null),new W(null,2,5,Y,[jB,Js],null),new W(null,2,5,Y,[jB,Js],null),qf,new W(null,3,5,Y,[Cg(jn,new W(null,1,5,Y,[bt],null),Cg(Er,bt)),Cg(jn,new W(null,1,5,Y,[bt],null),Cg(Fw,bt,jB)),Cg(jn,new W(null,1,5,Y,[bt],null),Cg(Fw,bt,Js))],null),null])));nC(jv,Cg(Wq,Iq),sC(Iq,Iq,new p(null,4,[zn,null,Tr,function(a){return Cf(a)},wB,!0,Sy,Cg(Wq,Iq)],null),null));var WO={},XO,YO,ZO,$O={};function aP(a,b){if(null!=a&&null!=a.xf)a=a.xf(a,b);else{var c=aP[pa(null==a?null:a)];if(null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else if(c=aP._,null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else throw Cc("ReadPort.take!",a);}return a}
function bP(a,b,c){if(null!=a&&null!=a.Re)a=a.Re(a,b,c);else{var d=bP[pa(null==a?null:a)];if(null!=d)a=d.Ni?d.Ni(a,b,c):d.call(null,a,b,c);else if(d=bP._,null!=d)a=d.Ni?d.Ni(a,b,c):d.call(null,a,b,c);else throw Cc("WritePort.put!",a);}return a}function cP(a){if(null!=a&&null!=a.ne)a=a.ne(a);else{var b=cP[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=cP._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("Channel.close!",a);}return a}
function dP(a){if(null!=a&&null!=a.dc)a=a.dc(a);else{var b=dP[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=dP._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("Handler.active?",a);}return a}function eP(a){if(null!=a&&null!=a.Vb)a=a.Vb(a);else{var b=eP[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=eP._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("Handler.commit",a);}return a}
function fP(a,b){if(null!=a&&null!=a.wf)a=a.wf(a,b);else{var c=fP[pa(null==a?null:a)];if(null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else if(c=fP._,null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else throw Cc("Buffer.add!*",a);}return a}var gP=function gP(a){switch(arguments.length){case 1:return gP.Mi(arguments[0]);case 2:return gP.Li(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length)].join(""));}};gP.Mi=function(a){return a};gP.Li=function(a,b){return fP(a,b)};
gP.$=2;function hP(a,b,c,d,e){for(var f=0;;)if(f<e)c[d+f]=a[b+f],f+=1;else break}function iP(a){this.length=this.tail=this.head=0;this.Ti=a}g=iP.prototype;g.pop=function(){if(0===this.length)return null;var a=this.Ti[this.tail];this.Ti[this.tail]=null;this.tail=(this.tail+1)%this.Ti.length;--this.length;return a};g.unshift=function(a){this.Ti[this.head]=a;this.head=(this.head+1)%this.Ti.length;this.length+=1;return null};g.unbounded_unshift=function(a){this.length+1===this.Ti.length&&this.resize();return this.unshift(a)};
g.resize=function(){var a=Array(2*this.Ti.length);return this.tail<this.head?(hP(this.Ti,this.tail,a,0,this.length),this.tail=0,this.head=this.length,this.Ti=a):this.tail>this.head?(hP(this.Ti,this.tail,a,0,this.Ti.length-this.tail),hP(this.Ti,0,a,this.Ti.length-this.tail,this.head),this.tail=0,this.head=this.length,this.Ti=a):this.tail===this.head?(this.head=this.tail=0,this.Ti=a):null};
g.cleanup=function(a){for(var b=this.length,c=0;;)if(c<b){var d=this.pop();(a.Mi?a.Mi(d):a.call(null,d))&&this.unshift(d);c+=1}else return null};function jP(a){return new iP(Array(a))}function kP(a,b){this.Da=a;this.n=b;this.Si=2;this.Xi=0}kP.prototype.Qe=function(){return this.Da.length>=this.n};kP.prototype.wf=function(a,b){this.Da.unbounded_unshift(b);return this};kP.prototype.ha=function(){return this.Da.length};function lP(a,b){this.Da=a;this.n=b;this.Si=2;this.Xi=0}lP.prototype.Qe=function(){return!1};
lP.prototype.wf=function(a,b){this.Da.length===this.n&&this.Da.pop();this.Da.unshift(b);return this};lP.prototype.ha=function(){return this.Da.length};function mP(a){return new lP(jP(a),a)};function nP(){return Fb("iPhone")&&!Fb("iPod")&&!Fb("iPad")};var oP=Fb("Opera"),pP=Fb("Trident")||Fb("MSIE"),qP=Fb("Edge"),rP=Fb("Gecko")&&!(xb("WebKit")&&!Fb("Edge"))&&!(Fb("Trident")||Fb("MSIE"))&&!Fb("Edge"),sP=xb("WebKit")&&!Fb("Edge");sP&&Fb("Mobile");Fb("Macintosh");Fb("Windows");Fb("Linux")||Fb("CrOS");var tP=ma.navigator||null;tP&&(tP.appVersion||"").indexOf("X11");Fb("Android");nP();Fb("iPad");Fb("iPod");nP()||Fb("iPad")||Fb("iPod");xb("KaiOS");xb("GAFP");function uP(){var a=ma.document;return a?a.documentMode:void 0}var vP;
a:{var wP="",xP=function(){var a=zb;if(rP)return/rv:([^\);]+)(\)|;)/.exec(a);if(qP)return/Edge\/([\d\.]+)/.exec(a);if(pP)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(sP)return/WebKit\/(\S+)/.exec(a);if(oP)return/(?:Version)[ \/]?(\S+)/.exec(a)}();xP&&(wP=xP?xP[1]:"");if(pP){var yP=uP();if(null!=yP&&yP>parseFloat(wP)){vP=String(yP);break a}}vP=wP}var La={};
function zP(a){return Ka(a,function(){{var b=0;const e=wb(String(vP)).split("."),f=wb(String(a)).split("."),h=Math.max(e.length,f.length);for(let k=0;0==b&&k<h;k++){var c=e[k]||"",d=f[k]||"";do{c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""];d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""];if(0==c[0].length&&0==d[0].length)break;b=Ab(0==c[1].length?0:parseInt(c[1],10),0==d[1].length?0:parseInt(d[1],10))||Ab(0==c[2].length,0==d[2].length)||Ab(c[2],d[2]);c=c[3];d=d[3]}while(0==b)}}return 0<=b})}var AP;
AP=ma.document&&pP?uP():void 0;!rP&&!pP||pP&&9<=Number(AP)||rP&&zP("1.9.1");pP&&zP("9");function BP(a){var b=document;a=String(a);"application/xhtml+xml"===b.contentType&&(a=a.toLowerCase());return b.createElement(a)};var CP;
function DP(){var a=ma.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!Fb("Presto")&&(a=function(){var e=BP(eb);e.style.display="none";Kb(e);document.documentElement.appendChild(e);var f=e.contentWindow;e=f.document;e.open();e.write(Ib());e.close();var h="callImmediate"+Math.random(),k="file:"==f.location.protocol?"*":f.location.protocol+"//"+f.location.host;e=Fa(function(m){if(("*"==k||m.origin==k)&&m.data==h)this.port1.onmessage()},this);
f.addEventListener("message",e,!1);this.port1={};this.port2={postMessage:function(){f.postMessage(h,k)}}});if("undefined"!==typeof a&&!Fb("Trident")&&!Fb("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var e=c.de;c.de=null;e()}};return function(e){d.next={de:e};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in BP(fb)?function(e){var f=BP(fb);f.onreadystatechange=function(){f.onreadystatechange=null;f.parentNode.removeChild(f);
f=null;e();e=null};document.documentElement.appendChild(f)}:function(e){ma.setTimeout(e,0)}};var EP=jP(32),FP=!1,GP=!1;function HP(){FP=!0;GP=!1;for(var a=0;;){var b=EP.pop();if(null!=b&&(b.Ui?b.Ui():b.call(null),1024>a)){a+=1;continue}break}FP=!1;return 0<EP.length?IP.Ui?IP.Ui():IP.call(null):null}function IP(){if(GP&&FP)return null;GP=!0;!sa(ma.setImmediate)||ma.Window&&ma.Window.prototype&&!Fb("Edge")&&ma.Window.prototype.setImmediate==ma.setImmediate?(CP||(CP=DP()),CP(HP)):ma.setImmediate(HP)}function JP(a){EP.unbounded_unshift(a);IP()}function KP(a,b){setTimeout(a,b)};var LP={},MP;
function NP(a){if("undefined"===typeof fc||"undefined"===typeof gc||"undefined"===typeof WO||"undefined"===typeof $O||"undefined"===typeof LP||"undefined"===typeof MP)MP=function(b,c){this.val=b;this.Uh=c;this.Si=425984;this.Xi=0},MP.prototype.ea=function(b,c){return new MP(this.val,c)},MP.prototype.da=function(){return this.Uh},MP.prototype.ub=function(){return this.val},MP.Mb=!0,MP.wb="cljs.core.async.impl.channels/t_cljs$core$async$impl$channels25128",MP.Wb=function(b){return Jd(b,"cljs.core.async.impl.channels/t_cljs$core$async$impl$channels25128")};
return new MP(a,V)}function OP(a,b){this.handler=a;this.val=b}function PP(a){return dP(a.handler)}function QP(a,b,c,d){this.Yd=a;this.We=0;this.od=b;this.Ve=0;this.Da=c;this.closed=!1;this.tc=d}function RP(a){for(;;){var b=a.od.pop();if(null!=b){var c=b.handler,d=b.val;if(c.dc(null)){var e=c.Vb(null);JP(function(f){return function(){return f.Mi?f.Mi(!0):f.call(null,!0)}}(e,c,d,b,a))}else continue}break}a.od.cleanup(vh(!1));a.ne(null)}
QP.prototype.Re=function(a,b,c){var d=this,e=this,f=d.closed;if(f||!c.dc(null))return NP(!f);if(q(function(){var u=d.Da;return q(u)?yc(d.Da.Qe()):u}())){c.Vb(null);var h=Re(d.tc.Li?d.tc.Li(d.Da,b):d.tc.call(null,d.Da,b));c=function(){for(var u=qf;;)if(0<d.Yd.length&&0<K(d.Da)){var w=d.Yd.pop();if(w.dc(null)){var A=w.Vb(null),G=d.Da.Da.pop();u=pf.Li(u,function(I,F,N){return function(){return F.Mi?F.Mi(N):F.call(null,N)}}(u,A,G,w,h,f,e))}}else return u}();h&&RP(e);if(E(c)){c=E(c);a=null;for(var k=0,
m=0;;)if(m<k){var n=a.xa(null,m);JP(n);m+=1}else if(c=E(c))a=c,If(a)?(c=ae(a),m=be(a),a=c,k=K(c),c=m):(c=H(a),JP(c),c=J(a),a=null,k=0),m=0;else break}return NP(!0)}a=function(){for(;;){var u=d.Yd.pop();if(q(u)){if(q(u.dc(null)))return u}else return null}}();if(q(a)){var r=a.Vb(null);c.Vb(null);JP(function(){return r.Mi?r.Mi(b):r.call(null,b)});return NP(!0)}64<d.Ve?(d.Ve=0,d.od.cleanup(PP)):d.Ve+=1;q(c.oe())&&d.od.unbounded_unshift(new OP(c,b));return null};
QP.prototype.xf=function(a,b){var c=this;if(b.dc(null)){if(null!=c.Da&&0<K(c.Da)){a=b.Vb(null);if(q(a)){var d=c.Da.Da.pop(),e=yc(c.Da.Qe())&&0<c.od.length?function(){for(var I=qf;;){var F=c.od.pop(),N=F.handler;F=F.val;N=N.dc(null)?N.Vb(null):!1;I=q(N)?pf.Li(I,N):I;F=q(N)?Re(c.tc.Li?c.tc.Li(c.Da,F):c.tc.call(null,c.Da,F)):null;if(!(yc(F)&&yc(c.Da.Qe())&&0<c.od.length))return new W(null,2,5,Y,[F,I],null)}}():null,f=P(e,0,null),h=P(e,1,null);q(f)&&RP(this);for(var k=E(h),m=null,n=0,r=0;;)if(r<n){var u=
m.xa(null,r);JP(function(I,F,N,O,U){return function(){return U.Mi?U.Mi(!0):U.call(null,!0)}}(k,m,n,r,u,d,e,f,h,a,a,this));r+=1}else{var w=E(k);if(w){u=w;if(If(u))k=ae(u),r=be(u),m=k,n=K(k),k=r;else{var A=H(u);JP(function(I,F,N,O,U){return function(){return U.Mi?U.Mi(!0):U.call(null,!0)}}(k,m,n,r,A,u,w,d,e,f,h,a,a,this));k=J(u);m=null;n=0}r=0}else break}return NP(d)}return null}a=function(){for(;;){var I=c.od.pop();if(q(I)){if(dP(I.handler))return I}else return null}}();if(q(a)){var G=eP(a.handler);
b.Vb(null);JP(function(){return G.Mi?G.Mi(!0):G.call(null,!0)});return NP(a.val)}if(q(c.closed))return q(c.Da)&&(c.tc.Mi?c.tc.Mi(c.Da):c.tc.call(null,c.Da)),q(function(){var I=b.dc(null);return q(I)?b.Vb(null):I}())?(a=function(){var I=c.Da;return q(I)?0<K(c.Da):I}(),d=q(a)?c.Da.Da.pop():null,NP(d)):null;64<c.We?(c.We=0,c.Yd.cleanup(dP)):c.We+=1;q(b.oe())&&c.Yd.unbounded_unshift(b)}return null};
QP.prototype.ne=function(){var a=this;if(!a.closed)for(a.closed=!0,q(function(){var e=a.Da;return q(e)?0===a.od.length:e}())&&(a.tc.Mi?a.tc.Mi(a.Da):a.tc.call(null,a.Da));;){var b=a.Yd.pop();if(null!=b){if(b.dc(null)){var c=b.Vb(null),d=q(function(){var e=a.Da;return q(e)?0<K(a.Da):e}())?a.Da.Da.pop():null;JP(function(e,f){return function(){return e.Mi?e.Mi(f):e.call(null,f)}}(c,d,b,this))}}else break}return null};function SP(a){console.log(a);return null}
function TP(a,b){var c=q(null)?null:SP;b=c.Mi?c.Mi(b):c.call(null,b);return null==b?a:gP.Li(a,b)}
function UP(a,b){return new QP(jP(32),jP(32),a,function(){var c=q(b)?b.Mi?b.Mi(gP):b.call(null,gP):gP;return function(){function d(h,k){try{return c.Li?c.Li(h,k):c.call(null,h,k)}catch(m){return TP(h,m)}}function e(h){try{return c.Mi?c.Mi(h):c.call(null,h)}catch(k){return TP(h,k)}}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return d.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.Mi=e;f.Li=d;return f}()}())};function VP(a,b,c){this.key=a;this.val=b;this.forward=c;this.Si=2155872256;this.Xi=0}VP.prototype.ga=function(){return new rf(null,this.key,new rf(null,this.val,null,1,null),2,null)};VP.prototype.fa=function(a,b,c){return Z(b,Zk,"["," ","]",c,this)};function WP(a,b,c){c=Array(c+1);for(var d=0;;)if(d<c.length)c[d]=null,d+=1;else break;return new VP(a,b,c)}
function XP(a,b,c,d){for(;;){if(0>c)return a;a:for(;;){var e=c<a.forward.length?a.forward[c]:null;if(q(e))if(e.key<b)a=e;else break a;else break a}null!=d&&(d[c]=a);--c}}function YP(){this.header=WP(null,null,0);this.level=0;this.Si=2155872256;this.Xi=0}g=YP.prototype;
g.put=function(a,b){var c=Array(15),d=XP(this.header,a,this.level,c).forward[0];if(null!=d&&d.key===a)return d.val=b;a:for(d=0;;)if(.5>Math.random()&&15>d)d+=1;else break a;if(d>this.level){for(var e=this.level+1;;)if(e<=d+1)c[e]=this.header,e+=1;else break;this.level=d}a=WP(a,b,Array(d));for(b=0;;)if(b<=this.level)d=c[b].forward,a.forward[b]=d[b],d[b]=a,b+=1;else return null};
g.remove=function(a){var b=Array(15),c=XP(this.header,a,this.level,b);c=0===c.forward.length?null:c.forward[0];if(null!=c&&c.key===a){for(a=0;;)if(a<=this.level){var d=b[a].forward;c===(a<d.length?d[a]:null)&&(d[a]=c.forward[a]);a+=1}else break;for(;;)if(0<this.level&&this.level<this.header.forward.length&&null==this.header.forward[this.level])--this.level;else return null}else return null};
g.ceilingEntry=function(a){for(var b=this.header,c=this.level;;){if(0>c)return D.Li(b.key,a)?b:b.forward[0];var d;a:for(d=b;;){var e=c<d.forward.length?d.forward[c]:null;if(null!=e){if(e.key>a)break a;d=e}else{d=0===c?d:null;break a}}q(d)?(--c,b=d):--c}};g.floorEntry=function(a){for(var b=this.header,c=this.level;;){if(0>c)return b===this.header?null:b;var d;a:for(d=b;;){var e=c<d.forward.length?d.forward[c]:null;if(null!=e){if(e.key>a)break a;d=e}else{d=0===c?d:null;break a}}q(d)?(--c,b=d):--c}};
g.ga=function(){return function c(b){return new Jg(null,function(){return null==b?null:hf(new W(null,2,5,Y,[b.key,b.val],null),c(b.forward[0]))},null,null)}(this.header.forward[0])};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"{",", ","}",c,this)};var ZP=new YP;function $P(a){var b=(new Date).valueOf()+a,c=ZP.ceilingEntry(b);c=q(q(c)?c.key<b+10:c)?c.val:null;if(q(c))return c;var d=UP(null,null);ZP.put(b,d);KP(function(){ZP.remove(b);return cP(d)},a);return d};var aQ={},bQ;
function cQ(a){if("undefined"===typeof fc||"undefined"===typeof gc||"undefined"===typeof WO||"undefined"===typeof $O||"undefined"===typeof aQ||"undefined"===typeof bQ)bQ=function(b,c){this.f=b;this.Vh=c;this.Si=393216;this.Xi=0},bQ.prototype.ea=function(b,c){return new bQ(this.f,c)},bQ.prototype.da=function(){return this.Vh},bQ.prototype.dc=function(){return!0},bQ.prototype.oe=function(){return!0},bQ.prototype.Vb=function(){return this.f},bQ.Mb=!0,bQ.wb="cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers29639",bQ.Wb=
function(b){return Jd(b,"cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers29639")};return new bQ(a,V)}function dQ(a){try{var b=a[0];return b.Mi?b.Mi(a):b.call(null,a)}catch(c){if(c instanceof Object)throw b=c,a[6].ne(null),b;throw c;}}function eQ(a,b,c){c=c.xf(null,cQ(function(d){a[2]=d;a[1]=b;return dQ(a)}));return q(c)?(a[2]=y(c),a[1]=b,xn):null}function fQ(a,b,c){b=b.Re(null,c,cQ(function(d){a[2]=d;a[1]=11;return dQ(a)}));return q(b)?(a[2]=y(b),a[1]=11,xn):null}
function gQ(a,b){a=a[6];null!=b&&a.Re(null,b,cQ(function(){return null}));a.ne(null);return a};function hQ(a,b){return iQ(a,b)}function iQ(a,b){a=D.Li(a,0)?null:a;return UP("number"===typeof a?new kP(jP(a),a):a,b)}
var jQ=function(a){if("undefined"===typeof fc||"undefined"===typeof gc||"undefined"===typeof WO||"undefined"===typeof XO)XO=function(b,c,d){this.f=b;this.eg=c;this.Wh=d;this.Si=393216;this.Xi=0},XO.prototype.ea=function(b,c){return new XO(this.f,this.eg,c)},XO.prototype.da=function(){return this.Wh},XO.prototype.dc=function(){return!0},XO.prototype.oe=function(){return this.eg},XO.prototype.Vb=function(){return this.f},XO.Mb=!0,XO.wb="cljs.core.async/t_cljs$core$async32232",XO.Wb=function(b){return Jd(b,
"cljs.core.async/t_cljs$core$async32232")};return new XO(a,!0,V)}(function(){return null});function kQ(a,b){a=bP(a,b,jQ);return q(a)?y(a):!0}function lQ(a){for(var b=Array(a),c=0;;)if(c<a)b[c]=c,c+=1;else break;cb(b);return b}
function mQ(){var a=Ch(!0);if("undefined"===typeof fc||"undefined"===typeof gc||"undefined"===typeof WO||"undefined"===typeof YO)YO=function(b,c){this.Id=b;this.Xh=c;this.Si=393216;this.Xi=0},YO.prototype.ea=function(b,c){return new YO(this.Id,c)},YO.prototype.da=function(){return this.Xh},YO.prototype.dc=function(){return y(this.Id)},YO.prototype.oe=function(){return!0},YO.prototype.Vb=function(){Dh(this.Id,null);return!0},YO.Mb=!0,YO.wb="cljs.core.async/t_cljs$core$async32308",YO.Wb=function(b){return Jd(b,
"cljs.core.async/t_cljs$core$async32308")};return new YO(a,V)}
function nQ(a,b){if("undefined"===typeof fc||"undefined"===typeof gc||"undefined"===typeof WO||"undefined"===typeof ZO)ZO=function(c,d,e){this.Id=c;this.de=d;this.Yh=e;this.Si=393216;this.Xi=0},ZO.prototype.ea=function(c,d){return new ZO(this.Id,this.de,d)},ZO.prototype.da=function(){return this.Yh},ZO.prototype.dc=function(){return dP(this.Id)},ZO.prototype.oe=function(){return!0},ZO.prototype.Vb=function(){eP(this.Id);return this.de},ZO.Mb=!0,ZO.wb="cljs.core.async/t_cljs$core$async32317",ZO.Wb=
function(c){return Jd(c,"cljs.core.async/t_cljs$core$async32317")};return new ZO(a,b,V)}
function oQ(a,b,c){var d=mQ(),e=K(b),f=lQ(e),h=Sz.Mi(c),k=function(){for(var m=0;;)if(m<e){var n=q(h)?m:f[m],r=bf(b,n),u=Hf(r)?r.Mi?r.Mi(0):r.call(null,0):null,w=q(u)?function(){var A=r.Mi?r.Mi(1):r.call(null,1);return bP(u,A,nQ(d,function(G,I,F,N,O){return function(U){U=new W(null,2,5,Y,[U,O],null);return a.Mi?a.Mi(U):a.call(null,U)}}(m,A,n,r,u,d,e,f,h)))}():aP(r,nQ(d,function(A,G,I){return function(F){F=new W(null,2,5,Y,[F,I],null);return a.Mi?a.Mi(F):a.call(null,F)}}(m,n,r,u,d,e,f,h)));if(q(w))return NP(new W(null,
2,5,Y,[y(w),function(){var A=u;return q(A)?A:r}()],null));m+=1}else return null}();return q(k)?k:Pf(c,Xl)?(k=function(){var m=d.dc(null);return q(m)?d.Vb(null):m}(),q(k)?NP(new W(null,2,5,Y,[Xl.Mi(c),Xl],null)):null):null}
function pQ(a,b){var c=iQ(1,null);JP(function(){var d=function(){function f(h){var k=h[1];return 7===k?(h[2]=h[2],h[1]=3,xn):1===k?(h[2]=null,h[1]=2,xn):4===k?(k=h[2],h[7]=k,h[1]=q(null==k)?5:6,xn):13===k?(h[2]=null,h[1]=14,xn):6===k?(k=h[7],fQ(h,b,k)):3===k?gQ(h,h[2]):12===k?(h[2]=null,h[1]=2,xn):2===k?eQ(h,4,a):11===k?(h[1]=q(h[2])?12:13,xn):9===k?(h[2]=null,h[1]=10,xn):5===k?(h[1]=q(!0)?8:9,xn):14===k||10===k?(h[2]=h[2],h[1]=7,xn):8===k?(k=cP(b),h[2]=k,h[1]=10,xn):null}return function(){function h(n){for(;;){a:try{for(;;){var r=
f(n);if(!S(r,xn)){var u=r;break a}}}catch(w){u=w;n[2]=u;if(E(n[4]))n[1]=H(n[4]);else throw u;u=xn}if(!S(u,xn))return u}}function k(){var n=[null,null,null,null,null,null,null,null];n[0]=m;n[1]=1;return n}var m=null;m=function(n){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,n)}throw Error("Invalid arity: "+arguments.length);};m.Ui=k;m.Mi=h;return m}()}(),e=function(){var f=d();f[6]=c;return f}();return dQ(e)})}
function qQ(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=3<b.length?new De(b.slice(3),0,null):null;return rQ(arguments[0],arguments[1],arguments[2],b)}function rQ(a,b,c,d){d=null!=d&&(d.Si&64||l===d.va)?gh(hk,d):d;a[1]=b;b=oQ(function(e){a[2]=e;return dQ(a)},c,d);return q(b)?(a[2]=y(b),xn):null}
function sQ(a,b){var c=iQ(b,null),d=iQ(1,null);JP(function(){var e=function(){function h(k){var m=k[1];if(7===m){m=k[7];m=k[2];var n=P(m,0,null),r=P(m,1,null);k[7]=n;k[8]=m;k[9]=r;k[1]=q(null==n)?8:9;return xn}return 1===m?(m=Yf(a),k[10]=m,k[2]=null,k[1]=2,xn):4===m?(m=k[10],qQ(k,7,m)):6===m?(k[2]=k[2],k[1]=3,xn):3===m?gQ(k,k[2]):2===m?(m=k[10],m=0<K(m),k[1]=q(m)?4:5,xn):11===m?(m=k[10],n=k[2],k[10]=m,k[11]=n,k[2]=null,k[1]=2,xn):9===m?(m=k[7],fQ(k,c,m)):5===m?(m=cP(c),k[2]=m,k[1]=6,xn):10===m?(k[2]=
k[2],k[1]=6,xn):8===m?(m=k[7],m=k[10],r=k[9],m=ci(function(){var u=r;return function(w){return lh.Li(u,w)}}(),m),k[10]=m,k[2]=null,k[1]=2,xn):null}return function(){function k(r){for(;;){a:try{for(;;){var u=h(r);if(!S(u,xn)){var w=u;break a}}}catch(A){w=A;r[2]=w;if(E(r[4]))r[1]=H(r[4]);else throw w;w=xn}if(!S(w,xn))return w}}function m(){var r=[null,null,null,null,null,null,null,null,null,null,null,null];r[0]=n;r[1]=1;return r}var n=null;n=function(r){switch(arguments.length){case 0:return m.call(this);
case 1:return k.call(this,r)}throw Error("Invalid arity: "+arguments.length);};n.Ui=m;n.Mi=k;return n}()}(),f=function(){var h=e();h[6]=d;return h}();return dQ(f)});return c};function tQ(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");return d.replace(/%([0\- \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(e,f,h,k,m,n,r,u){if("%"==n)return"%";var w=c.shift();if("undefined"==typeof w)throw Error("[goog.string.format] Not enough arguments");arguments[0]=w;return tQ.hd[n].apply(null,arguments)})}tQ.hd={};
tQ.hd.s=function(a,b,c){return isNaN(c)||""==c||a.length>=Number(c)?a:a=-1<b.indexOf("-",0)?a+Mb(" ",Number(c)-a.length):Mb(" ",Number(c)-a.length)+a};
tQ.hd.f=function(a,b,c,d,e){d=a.toString();isNaN(e)||""==e||(d=parseFloat(a).toFixed(e));var f=0>Number(a)?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=Number(a)&&(d=f+d);if(isNaN(c)||d.length>=Number(c))return d;d=isNaN(e)?Math.abs(Number(a)).toString():Math.abs(Number(a)).toFixed(e);a=Number(c)-d.length-f.length;0<=b.indexOf("-",0)?d=f+d+Mb(" ",a):(b=0<=b.indexOf("0",0)?"0":" ",d=f+Mb(b,a)+d);return d};tQ.hd.d=function(a,b,c,d,e,f,h,k){return tQ.hd.f(parseInt(a,10),b,c,d,0,f,h,k)};
tQ.hd.i=tQ.hd.d;tQ.hd.u=tQ.hd.d;var uQ=!pP||9<=Number(AP),vQ=pP&&!zP("9");!sP||zP("528");rP&&zP("1.9b")||pP&&zP("8")||oP&&zP("9.5")||sP&&zP("528");rP&&!zP("8")||pP&&zP("9");var wQ=function(){if(!ma.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{ma.addEventListener("test",na,b),ma.removeEventListener("test",na,b)}catch(c){}return a}();function xQ(){0!=yQ&&(zQ[ya(this)]=this);this.Sd=this.Sd;this.Wd=this.Wd}var yQ=0,zQ={};xQ.prototype.Sd=!1;xQ.prototype.yg=function(){if(!this.Sd&&(this.Sd=!0,this.jd(),0!=yQ)){var a=ya(this);if(0!=yQ&&this.Wd&&0<this.Wd.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete zQ[a]}};xQ.prototype.jd=function(){if(this.Wd)for(;this.Wd.length;)this.Wd.shift()()};function AQ(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.Nd=!1;this.Ng=!0}AQ.prototype.stopPropagation=function(){this.Nd=!0};AQ.prototype.preventDefault=function(){this.defaultPrevented=!0;this.Ng=!1};function BQ(a,b){AQ.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.ze=null;a&&this.init(a,b)}Ia(BQ,AQ);var CQ={2:"touch",3:"pen",4:"mouse"};
BQ.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(rP){a:{try{Ja(b.nodeName);var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=
d.screenY||0):(this.offsetX=sP||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=sP||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.pointerId=
a.pointerId||0;this.pointerType="string"===typeof a.pointerType?a.pointerType:CQ[a.pointerType]||"";this.state=a.state;this.ze=a;a.defaultPrevented&&this.preventDefault()};BQ.prototype.stopPropagation=function(){BQ.qd.stopPropagation.call(this);this.ze.stopPropagation?this.ze.stopPropagation():this.ze.cancelBubble=!0};
BQ.prototype.preventDefault=function(){BQ.qd.preventDefault.call(this);var a=this.ze;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,vQ)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var DQ="closure_listenable_"+(1E6*Math.random()|0),EQ=0;function FQ(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.handler=e;this.key=++EQ;this.removed=this.Me=!1}function GQ(a){a.removed=!0;a.listener=null;a.proxy=null;a.src=null;a.handler=null};function HQ(a){this.src=a;this.listeners={};this.Je=0}HQ.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.listeners[f];a||(a=this.listeners[f]=[],this.Je++);var h=IQ(a,b,d,e);-1<h?(b=a[h],c||(b.Me=!1)):(b=new FQ(b,this.src,f,!!d,e),b.Me=c,a.push(b));return b};
HQ.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.listeners))return!1;var e=this.listeners[a];b=IQ(e,b,c,d);return-1<b?(GQ(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.listeners[a],this.Je--),!0):!1};function JQ(a,b){var c=b.type;c in a.listeners&&Xa(a.listeners[c],b)&&(GQ(b),0==a.listeners[c].length&&(delete a.listeners[c],a.Je--))}
HQ.prototype.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.listeners)if(!a||c==a){for(var d=this.listeners[c],e=0;e<d.length;e++)++b,GQ(d[e]);delete this.listeners[c];this.Je--}return b};HQ.prototype.Cf=function(a,b,c,d){a=this.listeners[a.toString()];var e=-1;a&&(e=IQ(a,b,c,d));return-1<e?a[e]:null};function IQ(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.listener==b&&f.capture==!!c&&f.handler==d)return e}return-1};var KQ="closure_lm_"+(1E6*Math.random()|0),LQ={},MQ=0;function NQ(a,b,c,d,e){if(d&&d.once)return OQ(a,b,c,d,e);if(qa(b)){for(var f=0;f<b.length;f++)NQ(a,b[f],c,d,e);return null}c=PQ(c);return a&&a[DQ]?a.ld.add(String(b),c,!1,ta(d)?!!d.capture:!!d,e):QQ(a,b,c,!1,d,e)}
function QQ(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var h=ta(e)?!!e.capture:!!e,k=RQ(a);k||(a[KQ]=k=new HQ(a));c=k.add(b,c,d,h,f);if(c.proxy)return c;d=SQ();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)wQ||(e=h),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(TQ(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");MQ++;return c}
function SQ(){var a=UQ,b=uQ?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function OQ(a,b,c,d,e){if(qa(b)){for(var f=0;f<b.length;f++)OQ(a,b[f],c,d,e);return null}c=PQ(c);return a&&a[DQ]?a.ld.add(String(b),c,!0,ta(d)?!!d.capture:!!d,e):QQ(a,b,c,!0,d,e)}
function VQ(a,b,c,d,e){if(qa(b))for(var f=0;f<b.length;f++)VQ(a,b[f],c,d,e);else d=ta(d)?!!d.capture:!!d,c=PQ(c),a&&a[DQ]?a.ld.remove(String(b),c,d,e):a&&(a=RQ(a))&&(b=a.Cf(b,c,d,e))&&WQ(b)}
function WQ(a){if("number"!==typeof a&&a&&!a.removed){var b=a.src;if(b&&b[DQ])JQ(b.ld,a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(TQ(c),d):b.addListener&&b.removeListener&&b.removeListener(d);MQ--;(c=RQ(b))?(JQ(c,a),0==c.Je&&(c.src=null,b[KQ]=null)):GQ(a)}}}function TQ(a){return a in LQ?LQ[a]:LQ[a]="on"+a}
function XQ(a,b,c,d){var e=!0;if(a=RQ(a))if(b=a.listeners[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.removed&&(f=YQ(f,d),e=e&&!1!==f)}return e}function YQ(a,b){var c=a.listener,d=a.handler||a.src;a.Me&&WQ(a);return c.call(d,b)}
function UQ(a,b){if(a.removed)return!0;if(!uQ){if(!b)a:{b=["window","event"];for(var c=ma,d=0;d<b.length;d++)if(c=c[b[d]],null==c){b=null;break a}b=c}d=b;b=new BQ(d,this);c=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var e=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(h){e=!0}if(e||void 0==d.returnValue)d.returnValue=!0}d=[];for(e=b.currentTarget;e;e=e.parentNode)d.push(e);a=a.type;for(e=d.length-1;!b.Nd&&0<=e;e--){b.currentTarget=d[e];var f=XQ(d[e],a,!0,b);c=c&&f}for(e=0;!b.Nd&&e<d.length;e++)b.currentTarget=
d[e],f=XQ(d[e],a,!1,b),c=c&&f}return c}return YQ(a,new BQ(b,this))}function RQ(a){a=a[KQ];return a instanceof HQ?a:null}var ZQ="__closure_events_fn_"+(1E9*Math.random()>>>0);function PQ(a){if(sa(a))return a;a[ZQ]||(a[ZQ]=function(b){return a.handleEvent(b)});return a[ZQ]};function $Q(){xQ.call(this);this.ld=new HQ(this);this.Zg=this;this.Rf=null}Ia($Q,xQ);$Q.prototype[DQ]=!0;g=$Q.prototype;g.addEventListener=function(a,b,c,d){NQ(this,a,b,c,d)};g.removeEventListener=function(a,b,c,d){VQ(this,a,b,c,d)};
g.dispatchEvent=function(a){var b,c=this.Rf;if(c)for(b=[];c;c=c.Rf)b.push(c);c=this.Zg;var d=a.type||a;if("string"===typeof a)a=new AQ(a,c);else if(a instanceof AQ)a.target=a.target||c;else{var e=a;a=new AQ(d,c);lb(a,e)}e=!0;if(b)for(var f=b.length-1;!a.Nd&&0<=f;f--){var h=a.currentTarget=b[f];e=aR(h,d,!0,a)&&e}a.Nd||(h=a.currentTarget=c,e=aR(h,d,!0,a)&&e,a.Nd||(e=aR(h,d,!1,a)&&e));if(b)for(f=0;!a.Nd&&f<b.length;f++)h=a.currentTarget=b[f],e=aR(h,d,!1,a)&&e;return e};
g.jd=function(){$Q.qd.jd.call(this);this.removeAllListeners();this.Rf=null};g.removeAllListeners=function(a){return this.ld?this.ld.removeAll(a):0};function aR(a,b,c,d){b=a.ld.listeners[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var h=b[f];if(h&&!h.removed&&h.capture==c){var k=h.listener,m=h.handler||h.src;h.Me&&JQ(a.ld,h);e=!1!==k.call(m,d)&&e}}return e&&0!=d.Ng}g.Cf=function(a,b,c,d){return this.ld.Cf(String(a),b,c,d)};function bR(a,b,c){if(sa(a))c&&(a=Fa(a,c));else if(a&&"function"==typeof a.handleEvent)a=Fa(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:ma.setTimeout(a,b||0)};function cR(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};function dR(){}dR.prototype.fg=null;function eR(a){var b;(b=a.fg)||(b={},fR(a)&&(b[0]=!0,b[1]=!0),b=a.fg=b);return b};var gR;function hR(){}Ia(hR,dR);function iR(a){return(a=fR(a))?new ActiveXObject(a):new XMLHttpRequest}function fR(a){if(!a.Cg&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Cg=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.Cg}gR=new hR;function jR(a){$Q.call(this);this.headers=new Tb;this.kf=a||null;this.td=!1;this.jf=this.Ha=null;this.Gf="";this.Vd=0;this.Kd=this.Ef=this.Ye=this.Bf=!1;this.gf=0;this.ff=null;this.Mg=kR;this.Wf=this.Kg=this.ae=!1}Ia(jR,$Q);var kR="",lR=/^https?$/i,mR=["POST","PUT"];g=jR.prototype;
g.send=function(a,b,c,d){if(this.Ha)throw Error("[goog.net.XhrIo] Object is active with another request\x3d"+this.Gf+"; newUri\x3d"+a);b=b?b.toUpperCase():"GET";this.Gf=a;this.Vd=0;this.Bf=!1;this.td=!0;this.Ha=this.kf?iR(this.kf):iR(gR);this.jf=this.kf?eR(this.kf):eR(gR);this.Ha.onreadystatechange=Fa(this.Ig,this);this.Kg&&"onprogress"in this.Ha&&(this.Ha.onprogress=Fa(function(f){this.Hg(f,!0)},this),this.Ha.upload&&(this.Ha.upload.onprogress=Fa(this.Hg,this)));try{this.Ef=!0,this.Ha.open(b,String(a),
!0),this.Ef=!1}catch(f){nR(this);return}a=c||"";var e=this.headers.clone();d&&Rb(d,function(f,h){e.set(h,f)});d=Ta(e.Lc());c=ma.FormData&&a instanceof ma.FormData;!(0<=Na(mR,b))||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset\x3dutf-8");e.forEach(function(f,h){this.Ha.setRequestHeader(h,f)},this);this.Mg&&(this.Ha.responseType=this.Mg);"withCredentials"in this.Ha&&this.Ha.withCredentials!==this.ae&&(this.Ha.withCredentials=this.ae);try{oR(this),0<this.gf&&((this.Wf=pR(this.Ha))?
(this.Ha.timeout=this.gf,this.Ha.ontimeout=Fa(this.Sg,this)):this.ff=bR(this.Sg,this.gf,this)),this.Ye=!0,this.Ha.send(a),this.Ye=!1}catch(f){nR(this)}};function pR(a){return pP&&zP(9)&&"number"===typeof a.timeout&&void 0!==a.ontimeout}function Va(a){return"content-type"==a.toLowerCase()}g.Sg=function(){"undefined"!=typeof la&&this.Ha&&(this.Vd=8,this.dispatchEvent("timeout"),this.abort(8))};function nR(a){a.td=!1;a.Ha&&(a.Kd=!0,a.Ha.abort(),a.Kd=!1);a.Vd=5;qR(a);rR(a)}
function qR(a){a.Bf||(a.Bf=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}g.abort=function(a){this.Ha&&this.td&&(this.td=!1,this.Kd=!0,this.Ha.abort(),this.Kd=!1,this.Vd=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),rR(this))};g.jd=function(){this.Ha&&(this.td&&(this.td=!1,this.Kd=!0,this.Ha.abort(),this.Kd=!1),rR(this,!0));jR.qd.jd.call(this)};g.Ig=function(){this.Sd||(this.Ef||this.Ye||this.Kd?sR(this):this.ai())};g.ai=function(){sR(this)};
function sR(a){if(a.td&&"undefined"!=typeof la&&(!a.jf[1]||4!=tR(a)||2!=uR(a)))if(a.Ye&&4==tR(a))bR(a.Ig,0,a);else if(a.dispatchEvent("readystatechange"),4==tR(a)){a.td=!1;try{vR(a)?(a.dispatchEvent("complete"),a.dispatchEvent("success")):(a.Vd=6,qR(a))}finally{rR(a)}}}g.Hg=function(a,b){this.dispatchEvent(wR(a,"progress"));this.dispatchEvent(wR(a,b?"downloadprogress":"uploadprogress"))};function wR(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}}
function rR(a,b){if(a.Ha){oR(a);var c=a.Ha,d=a.jf[0]?na:null;a.Ha=null;a.jf=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){}}}function oR(a){a.Ha&&a.Wf&&(a.Ha.ontimeout=null);a.ff&&(ma.clearTimeout(a.ff),a.ff=null)}
function vR(a){var b=uR(a);a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break a;default:c=!1}if(!c){if(b=0===b)a=String(a.Gf).match(Yb)[1]||null,!a&&ma.self&&ma.self.location&&(a=ma.self.location.protocol,a=a.substr(0,a.length-1)),b=!lR.test(a?a.toLowerCase():"");c=b}return c}function tR(a){return a.Ha?a.Ha.readyState:0}function uR(a){try{return 2<tR(a)?a.Ha.status:-1}catch(b){return-1}}
function xR(a){try{return a.Ha?a.Ha.responseText:""}catch(b){return""}}g.getResponseHeader=function(a){if(this.Ha&&4==tR(this))return a=this.Ha.getResponseHeader(a),null===a?void 0:a};g.getAllResponseHeaders=function(){return this.Ha&&4==tR(this)?this.Ha.getAllResponseHeaders()||"":""};function yR(){this.Ac=[];this.Rc=[]}function zR(a){0==a.Ac.length&&(a.Ac=a.Rc,a.Ac.reverse(),a.Rc=[])}g=yR.prototype;g.enqueue=function(a){this.Rc.push(a)};g.ye=function(){zR(this);return this.Ac.pop()};g.peek=function(){zR(this);var a=this.Ac;return a[a.length-1]};g.jb=function(){return this.Ac.length+this.Rc.length};g.isEmpty=function(){return 0==this.Ac.length&&0==this.Rc.length};g.clear=function(){this.Ac=[];this.Rc=[]};g.contains=function(a){return 0<=Na(this.Ac,a)||0<=Na(this.Rc,a)};
g.remove=function(a){var b=this.Ac;var c=Oa(b,a);0<=c?(Array.prototype.splice.call(b,c,1),b=!0):b=!1;return b||Xa(this.Rc,a)};g.Yb=function(){for(var a=[],b=this.Ac.length-1;0<=b;--b)a.push(this.Ac[b]);var c=this.Rc.length;for(b=0;b<c;++b)a.push(this.Rc[b]);return a};function AR(a){this.ob=new Tb;a&&this.addAll(a)}function BR(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+ya(a):b.substr(0,1)+a}g=AR.prototype;g.jb=function(){return this.ob.jb()};g.add=function(a){this.ob.set(BR(a),a)};g.addAll=function(a){a=Pb(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};g.removeAll=function(a){a=Pb(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};g.remove=function(a){return this.ob.remove(BR(a))};g.clear=function(){this.ob.clear()};g.isEmpty=function(){return this.ob.isEmpty()};
g.contains=function(a){return this.ob.Gd(BR(a))};g.intersection=function(a){var b=new AR;a=Pb(a);for(var c=0;c<a.length;c++){var d=a[c];this.contains(d)&&b.add(d)}return b};g.difference=function(a){var b=this.clone();b.removeAll(a);return b};g.Yb=function(){return this.ob.Yb()};g.clone=function(){return new AR(this)};g.equals=function(a){return this.jb()==Ob(a)&&CR(this,a)};
function CR(a,b){var c=Ob(b);if(a.jb()>c)return!1;!(b instanceof AR)&&5<c&&(b=new AR(b));return Sb(a,function(d){var e=b;if(e.contains&&"function"==typeof e.contains)d=e.contains(d);else if(e.te&&"function"==typeof e.te)d=e.te(d);else if(ra(e)||"string"===typeof e)d=0<=Na(e,d);else a:{for(const f in e)if(e[f]==d){d=!0;break a}d=!1}return d})};function DR(a,b){xQ.call(this);this.Gg=a||0;this.af=b||10;if(this.Gg>this.af)throw Error(ER);this.Vc=new yR;this.Bd=new AR;this.delay=0;this.Ff=null;this.Ke()}Ia(DR,xQ);var ER="[goog.structs.Pool] Min can not be greater than max";g=DR.prototype;g.Xe=function(){var a=Ga();if(!(null!=this.Ff&&a-this.Ff<this.delay)){for(var b;0<this.Vc.jb()&&(b=this.Vc.ye(),!this.Qf(b));)this.Ke();!b&&this.jb()<this.af&&(b=this.Af());b&&(this.Ff=a,this.Bd.add(b));return b}};
function FR(a,b){return a.Bd.remove(b)?(a.mf(b),!0):!1}g.mf=function(a){this.Bd.remove(a);this.Qf(a)&&this.jb()<this.af?this.Vc.enqueue(a):GR(a)};g.Ke=function(){for(var a=this.Vc;this.jb()<this.Gg;)a.enqueue(this.Af());for(;this.jb()>this.af&&0<this.Vc.jb();)GR(a.ye())};g.Af=function(){return{}};function GR(a){if("function"==typeof a.yg)a.yg();else for(var b in a)a[b]=null}g.Qf=function(a){return"function"==typeof a.ah?a.ah():!0};g.contains=function(a){return this.Vc.contains(a)||this.Bd.contains(a)};
g.jb=function(){return this.Vc.jb()+this.Bd.jb()};g.isEmpty=function(){return this.Vc.isEmpty()&&this.Bd.isEmpty()};g.jd=function(){DR.qd.jd.call(this);if(0<this.Bd.jb())throw Error("[goog.structs.Pool] Objects not released");delete this.Bd;for(var a=this.Vc;!a.isEmpty();)GR(a.ye());delete this.Vc};function HR(a,b){this.Dg=a;this.Ug=b}HR.prototype.getKey=function(){return this.Dg};HR.prototype.getValue=function(){return this.Ug};HR.prototype.clone=function(){return new HR(this.Dg,this.Ug)};function IR(a){this.oc=[];if(a)a:{if(a instanceof IR){var b=a.Lc();a=a.Yb();if(0>=this.jb()){for(var c=this.oc,d=0;d<b.length;d++)c.push(new HR(b[d],a[d]));break a}}else b=hb(a),a=gb(a);for(d=0;d<b.length;d++)this.insert(b[d],a[d])}}g=IR.prototype;g.insert=function(a,b){var c=this.oc;c.push(new HR(a,b));a=c.length-1;b=this.oc;for(c=b[a];0<a;){var d=a-1>>1;if(b[d].getKey()>c.getKey())b[a]=b[d],a=d;else break}b[a]=c};
g.remove=function(){var a=this.oc,b=a.length,c=a[0];if(!(0>=b)){if(1==b)Wa(a);else{a[0]=a.pop();a=0;b=this.oc;for(var d=b.length,e=b[a];a<d>>1;){var f=2*a+1,h=2*a+2;f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};g.peek=function(){var a=this.oc;if(0!=a.length)return a[0].getValue()};g.Yb=function(){for(var a=this.oc,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getValue());return b};
g.Lc=function(){for(var a=this.oc,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getKey());return b};g.te=function(a){return Qa(this.oc,function(b){return b.getValue()==a})};g.Gd=function(a){return Qa(this.oc,function(b){return b.getKey()==a})};g.clone=function(){return new IR(this)};g.jb=function(){return this.oc.length};g.isEmpty=function(){return 0==this.oc.length};g.clear=function(){Wa(this.oc)};function JR(){IR.call(this)}Ia(JR,IR);JR.prototype.enqueue=function(a,b){this.insert(a,b)};JR.prototype.ye=function(){return this.remove()};function KR(a,b){this.xg=void 0;this.Sf=new JR;DR.call(this,a,b)}Ia(KR,DR);g=KR.prototype;g.Xe=function(){var a=KR.qd.Xe.call(this);a&&this.delay&&(this.xg=ma.setTimeout(Fa(this.Df,this),this.delay));return a};g.Df=function(){for(var a=this.Sf;0<a.jb();){var b=this.Xe();if(b)a.ye().apply(this,[b]);else break}};g.mf=function(a){KR.qd.mf.call(this,a);this.Df()};g.Ke=function(){KR.qd.Ke.call(this);this.Df()};g.jd=function(){KR.qd.jd.call(this);ma.clearTimeout(this.xg);this.Sf.clear();this.Sf=null};function LR(a,b,c,d){this.Ah=a;this.ae=!!d;KR.call(this,b,c)}Ia(LR,KR);LR.prototype.Af=function(){var a=new jR,b=this.Ah;b&&b.forEach(function(c,d){a.headers.set(d,c)});this.ae&&(a.ae=!0);return a};LR.prototype.Qf=function(a){return!a.Sd&&!a.Ha};function MR(a){a=y(a);throw dm(y(Vz.Mi(a)),R.Li(a,Vz));}var NR={};
function OR(a,b,c,d){if(q(MR)){var e=new pl(function(){var f=new Date,h=q(a)?a:"?",k=t.Mi(b),m=null==c?"\x3ctruss/nil\x3e":fl.Pi(M([c])),n=NR===d?null:d,r=new pl(function(){var w=q(n)?t.Mi(n):null;var A=["Invariant violation in `",t.Mi(ja),":",t.Mi(h),"`. Test form `",t.Mi(k),"` failed against input val `",t.Mi(m),"`."].join("");return yc(n)?A:[A," An error was thrown while evaluating test form: [",w,"]."].join("")}),u=function(){if(q(null))try{return null.Ui?null.Ui():null.call(null)}catch(w){if(w instanceof
Error)return new p(null,1,[jm,w],null);throw w;}else return null}();return Oj([En,Vz,is,mA,nl,Kt,Hu,Sp,QA,fu,mv,Jm],[null,r,null,f,c,ja,Bc(c),n,!0,u,a,k])});return MR.Mi?MR.Mi(e):MR.call(null,e)}return null};var PR=new W(null,3,5,Y,[3,1,0],null);function QR(a){if(null==a||""===a)return null;if("string"===typeof a){var b=B.Ni(null,ym,$o),c=B.Ni(null,Xl,$o);q(S.Li?S.Li(b,$o):S.call(null,b,$o))&&(b=y(DH),b=RR.Li?RR.Li(ze,b):RR.call(null,ze,b));c=q(S.Li?S.Li(c,$o):S.call(null,c,$o))?y(CH):c;c=Q.Pi(null,ym,b,M([Xl,c]));return wH(c,a)}throw dm("`read-edn` attempt against non-nil, non-string arg",new p(null,2,[vv,a,aq,Bc(a)],null));}
function SR(a){if(null!=a&&(a.Xi&4096||l===a.ng)){var b=Ig(a);a=Fg(a);return q(a)?[a,"/",b].join(""):b}return"string"===typeof a?a:null}function TR(a){return"string"===typeof a?D.Li(a,"")?null:a:null}function UR(a){return"number"===typeof a?sg(a):"string"===typeof a?(a=parseInt(a,10),q(isNaN(a))?null:a):null}function VR(a){var b=SR(a);if(!q(b))throw dm(["`as-",Ig(fp),"` failed against: `",fl.Pi(M([a])),"`"].join(""),new p(null,2,[vv,a,aq,Bc(a)],null));return b}
function WR(a,b,c){return gg(zk(),eg(function(d,e){var f=P(e,0,null);e=P(e,1,null);return a.Ni?a.Ni(d,f,e):a.call(null,d,f,e)},dg),b,c)}function YR(a,b){return v.Ni(function(c,d){c=a.Mi?a.Mi(d):a.call(null,d);return q(c)?Qe(c):null},null,b)}
function ZR(){var a=Hh(-1);return function(){function b(e){return a.Jc(null,a.ub(null)+e)}function c(){return a.Jc(null,a.ub(null)+1)}var d=null;d=function(e){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,e)}throw Error("Invalid arity: "+arguments.length);};d.Ui=c;d.Mi=b;return d}()}
var $R=function $R(a){switch(arguments.length){case 1:return $R.Mi(arguments[0]);case 2:return $R.Li(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length)].join(""));}};$R.Mi=function(a){return $R.Li(a,null)};$R.Li=function(a,b){var c=null!=b&&(b.Si&64||l===b.va)?gh(hk,b):b,d=B.Li(c,nA);b=B.Li(c,hy);c=B.Ni(c,Sm,1E3);a=Math.pow(2,36<a?36:a);a=sg(.5*(a+Gl.Mi(a))*c);d=sg(q(d)?a<d?d:a:a);return sg(q(b)?d>b?b:d:d)};$R.$=2;D.Li("default","nodejs");
var aS="undefined"!==typeof window?window:null;function bS(a){a=PB(t.Mi(a),/-/,2);var b=P(a,0,null);a=P(a,1,null);b=Qk(/\d+/,b);b=q(b)?bi.Li(UR,b):null;return new p(null,2,[ln,b,Hx,q(a)?a.toLowerCase():null],null)}
function cS(a){var b=P(PR,0,null),c=P(PR,1,null),d=P(PR,2,null),e=Hf(a)?a:ln.Mi(bS(a));a=P(e,0,null);var f=P(e,1,null);e=P(e,2,null);e=bi.Li(function(h){return q(h)?h:0},new W(null,3,5,Y,[a,f,e],null));a=P(e,0,null);f=P(e,1,null);e=P(e,2,null);if(!(b>a||D.Li(b,a)&&(c>f||D.Li(c,f)&&d>=e)))throw dm("Insufficient `com.taoensso/encore` version, you may have a dependency conflict: see http://goo.gl/qBbLvC for solutions.",new p(null,2,[wu,LB(".",new W(null,3,5,Y,[a,f,e],null)),jr,LB(".",new W(null,3,5,
Y,[b,c,d],null))],null));}function dS(a,b){return ib(a,Ig(b),null)}function eS(a,b){return null==b?null==a?V:a:Q.Ni(a,"x-requested-with",b)}var fS=function fS(a){switch(arguments.length){case 3:return fS.Ni(arguments[0],arguments[1],arguments[2]);case 2:return fS.Li(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(3),0,null);return fS.Pi(arguments[0],arguments[1],arguments[2],c)}};
fS.Ni=function(a,b,c){return Pf(a,b)?a:Q.Ni(a,b,c)};fS.Pi=function(a,b,c,d){return WR(fS,fS.Ni(a,b,c),d)};fS.ca=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);d=J(d);return this.Pi(b,a,c,d)};fS.Li=function(a,b){return cg(function(c,d,e){return Pf(c,d)?c:Q.Ni(c,d,e)},null==a?V:a,b)};fS.$=3;
var gS=function gS(a){switch(arguments.length){case 2:return gS.Li(arguments[0],arguments[1]);case 3:return gS.Ni(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length)].join(""));}};gS.Li=function(a,b){b=0>b?0:b;var c=K(a);return b>=c?qf:Mi(a,b,c)};gS.Ni=function(a,b,c){b=0>b?0:b;var d=sg(K(a));c=c>d?d:c;return b>=c?qf:Mi(a,b,c)};gS.$=3;
var hS=function hS(a){switch(arguments.length){case 2:return hS.Li(arguments[0],arguments[1]);case 3:return hS.Ni(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length)].join(""));}};hS.Li=function(a,b){var c=K(a);return 0>b?(b+=c,Mi(a,0>b?0:b,c)):b>=c?qf:Mi(a,b,c)};hS.Ni=function(a,b,c){if(0>=c)return qf;var d=sg(K(a));if(0>b)return b+=d,b=0>b?0:b,c=b+c,Mi(a,b,c>d?d:c);c=b+c;d=c>d?d:c;return b>=d?qf:Mi(a,b,d)};hS.$=3;
function iS(a,b){for(var c=qf;;){var d=E(b);b=H(d);if(d=J(d))c=pf.Li(c,b),b=d;else return a.Li?a.Li(c,b):a.call(null,c,b)}}function RR(a,b){b=cg(function(c,d,e){return $g.Ni(c,a.Mi?a.Mi(d):a.call(null,d),e)},Wg.Mi?Wg.Mi(V):Wg.call(null,V),b);return Xg.Mi?Xg.Mi(b):Xg.call(null,b)}function jS(a,b){b=tk(cj(b));a=Df(a)?a:tk(a);return KH(b,a)}
function kS(a,b,c,d){var e=E(b);if(e){b=bf(b,0);if(e=J(e))return Q.Ni(a,b,kS(B.Li(a,b),e,c,d));if(q(S.Li?S.Li(d,IA):S.call(null,d,IA)))return R.Li(a,b);c=B.Ni(a,b,c);d=d.Mi?d.Mi(c):d.call(null,c);return q(S.Li?S.Li(d,IA):S.call(null,d,IA))?R.Li(a,b):Q.Ni(a,b,d)}return d.Mi?d.Mi(a):d.call(null,a)}function lS(a,b,c){return kS(a,b,null,function(d){return R.Li(d,c)})}var mS={};
function nS(a,b){return v.Ni(function(c,d){return null==d?c:cg(function m(f,h,k){var n=B.Ni(f,h,mS);if(n===mS)return Q.Ni(f,h,k);if(q(S.Li?S.Li(k,IA):S.call(null,k,IA)))return R.Li(f,h);if(q(q(!1)?Ff(k)&&Ff(n):!1))return Q.Ni(f,h,cg(m,n,k));k=a.Li?a.Li(n,k):a.call(null,n,k);return q(S.Li?S.Li(k,IA):S.call(null,k,IA))?R.Li(f,h):Q.Ni(f,h,k)},q(c)?c:V,d)},null,b)}function oS(a){return nS(function(b,c){return c},a)}function pS(a,b){this.Pf=a;this.Tf=b}
function qS(a,b,c){for(;;){var d=y(b);c=c.Mi?c.Mi(d):c.call(null,d);var e=c instanceof pS,f=e?c.Pf:c;Dh(b,f);return e?c.Tf:a.Li?a.Li(d,f):a.call(null,d,f)}}
function rS(a,b,c,d){if(q(S.Li?S.Li(d,IA):S.call(null,d,IA)))for(;;){var e=y(b);d=R.Li(e,c);Dh(b,d);b=B.Ni(e,c,null);c=IA;return a.Li?a.Li(b,c):a.call(null,b,c)}else for(;;){e=y(b);var f=B.Ni(e,c,null),h=d.Mi?d.Mi(f):d.call(null,f),k=h instanceof pS,m=k?h.Pf:h;d=q(S.Li?S.Li(m,IA):S.call(null,m,IA))?R.Li(e,c):Q.Ni(e,c,m);Dh(b,d);return k?h.Tf:a.Li?a.Li(f,m):a.call(null,f,m)}}
function sS(a,b,c){var d=tS,e=E(b);if(e)if(J(e))if(q(S.Li?S.Li(c,IA):S.call(null,c,IA)))for(;;){var f=y(a);e=iS(function(n){return function(r,u){return lS(n,r,u)}}(f,e,e),b);Dh(a,e);a=fi(f,b,null);b=IA;return d.Li?d.Li(a,b):d.call(null,a,b)}else for(;;){f=y(a);var h=fi(f,b,null);c=c.Mi?c.Mi(h):c.call(null,h);var k=c instanceof pS,m=k?c.Pf:c;e=q(S.Li?S.Li(m,IA):S.call(null,m,IA))?iS(function(n){return function(r,u){return lS(n,r,u)}}(f,h,c,k,m,e,e),b):gi(f,b,m);Dh(a,e);return k?c.Tf:d.Li?d.Li(h,m):
d.call(null,h,m)}else return rS(d,a,bf(b,0),c);else return qS(d,a,c)}function tS(a,b){return b}function uS(a,b){return qS(tS,a,b)}function vS(a,b,c){return sS(a,b,c)}function wS(a){return a}
function xS(a,b,c){a:{var d=E(b);if(d)if(J(d))for(;;){d=y(a);var e=gi(d,b,c);Dh(a,e);a=fi(d,b,null);wS.Li?wS.Li(a,c):wS.call(null,a,c);break a}else b:for(b=bf(b,0);;){d=y(a);e=Q.Ni(d,b,c);Dh(a,e);a=B.Ni(d,b,null);wS.Li?wS.Li(a,c):wS.call(null,a,c);break b}else b:for(;;){b=y(a);Dh(a,c);wS.Li?wS.Li(b,c):wS.call(null,b,c);break b}}}function yS(){return(new Date).getTime()}
(function(){var a=dS(aS,"performance");if(q(a)){var b=function(){var c=dS(a,"now");if(q(c))return c;c=dS(a,"mozNow");if(q(c))return c;c=dS(a,"msNow");if(q(c))return c;c=dS(a,"oNow");return q(c)?c:dS(a,"webkitNow")}();return q(b)?function(){return 1E6*sg(b.call(a))}:function(){return 1E6*(new Date).getTime()}}return function(){return 1E6*(new Date).getTime()}})();
function zS(a){var b=Hh(V),c={};return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+0],++h;h=new De(k,0,null)}return e.call(this,h)}function e(f){var h=H(f);if(q(S.Li?S.Li(h,Ts):S.call(null,h,Ts)))return f=J(f),h=H(f),q(S.Li?S.Li(h,Jo):S.call(null,h,Jo))?he(b,V):b.Jc(null,R.Li(b.ub(null),f)),null;if(q(S.Li?S.Li(h,nz):S.call(null,h,nz)))return f=J(f),h=gh(a,f),b.Jc(null,Q.Ni(b.ub(null),f,h)),h;h=B.Ni(y(b),f,c);return h===
c?(h=gh(a,f),b.Jc(null,Q.Ni(b.ub(null),f,h)),h):h}d.$=0;d.ca=function(f){f=E(f);return e(f)};d.Pi=e;return d}()}function AS(a,b){this.n=a;this.Of=b}function BS(a,b){this.n=a;this.Vf=b}function CS(a,b,c){this.m=a;this.Vg=b;this.Xf=c}
function DS(a){if(Ff(a))return cg(function(c,d,e){var f=P(e,0,null);e=P(e,1,null);return Q.Ni(c,d,new AS(f,e))},V,a);if(Hf(a)){var b=Hh(-1);return v.Ni(function(c,d){var e=P(d,0,null),f=P(d,1,null);d=P(d,2,null);return Q.Ni(c,q(d)?d:b.Jc(null,b.ub(null)+1),new AS(e,f))},V,a)}throw dm("No matching `encore/cond!` clause",V);}
function ES(a){function b(f,h){var k=(new Date).getTime();yc(h)&&6.25E-5>=Math.random()&&(Dh(c,null),Eh.Li(d,function(u){return Vd(cg(function(w,A,G){G=cg(function(I,F,N){var O=B.Li(e,F);return q(O)?k>=N.Vf+O.Of?R.Li(I,F):I:R.Li(I,F)},G,G);return Bf(G)?Xd(w,A):$g.Ni(w,A,G)},Td(q(u)?u:V),u))}));for(;;){var m=y(d),n=B.Li(m,f),r=null==n?null:cg(function(u,w,A,G,I,F){return function(N,O,U){var ea=B.Li(F,O);if(q(ea)){if(U.n<ea.n)return N;U=U.Vf+ea.Of-A;return 0>=U?N:null==N?new CS(uf([O,U]),O,U):U>N.Xf?
new CS(Q.Ni(N.m,O,U),O,U):new CS(Q.Ni(N.m,O,U),N.Vg,N.Xf)}return N}}(m,n,k,c,d,e),null,n);if(q(q(h)?h:r))return h=r,q(h)?(f=h,new W(null,3,5,Y,[f.Vg,f.Xf,f.m],null)):null;h=y(c);q(h)||(n=cg(function(u,w,A,G,I){return function(F,N,O){return Q.Ni(F,N,function(){var U=B.Li(A,N);if(q(U)){var ea=U.Vf;return I>=ea+O.Of?new BS(1,I):new BS(U.n+1,ea)}return new BS(1,I)}())}}(h,m,n,r,k,c,d,e),n,e),Dh(d,Q.Ni(m,f,n)));return null}}if(Bf(a))return new W(null,2,5,Y,[null,vh(null)],null);var c=Ch(null),d=Ch(null),
e=DS(a);return new W(null,2,5,Y,[d,function(){function f(n,r){if(q(S.Li?S.Li(n,ow):S.call(null,n,ow)))return q(S.Li?S.Li(r,ot):S.call(null,r,ot))?Dh(d,null):Eh.Ni(d,R,r),null;if(q(S.Li?S.Li(n,jx):S.call(null,n,jx)))return b(r,!0);throw dm("Unrecognized rate limiter command",new p(null,2,[vv,n,Nr,r],null));}function h(n){return b(n,!1)}function k(){return b(null,!1)}var m=null;m=function(n,r){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,n);case 2:return f.call(this,
n,r)}throw Error("Invalid arity: "+arguments.length);};m.Ui=k;m.Mi=h;m.Li=f;return m}()],null)}
var FS=function(){function a(d){return new dc(d)}function b(){return new dc}var c=null;c=function(d){switch(arguments.length){case 0:return b.call(this);case 1:return a.call(this,d)}throw Error("Invalid arity: "+arguments.length);};c.Ui=b;c.Mi=a;return c}(),GS=function(){function a(e,f){e=e instanceof dc?e:FS.Mi(t.Mi(e));f=t.Mi(f);return e.append(f)}function b(e){return e instanceof dc?e:FS.Mi(t.Mi(e))}function c(){return FS.Ui()}var d=null;d=function(e,f){switch(arguments.length){case 0:return c.call(this);
case 1:return b.call(this,e);case 2:return a.call(this,e,f)}throw Error("Invalid arity: "+arguments.length);};d.Ui=c;d.Mi=b;d.Li=a;return d}();function HS(a,b){if(q(q(" ")?lh.Li(" ",""):" ")){var c=Wh(),d=eg(GS,t);return q(a)?fg(wh.Li(a,c),d,b):fg(c,d,b)}return q(a)?fg(a,eg(GS,t),b):t.Mi(v.Li(GS,b))}
var IS=function IS(a){switch(arguments.length){case 2:return IS.Li(arguments[0],arguments[1]);case 3:return IS.Ni(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length)].join(""));}};IS.Li=function(a,b){return a.substring(b)};IS.Ni=function(a,b,c){return b>=c?"":a.substring(b,c)};IS.$=3;
var JS=function JS(a){switch(arguments.length){case 2:return JS.Li(arguments[0],arguments[1]);case 3:return JS.Ni(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length)].join(""));}};JS.Li=function(a,b){return TR(a.substr(b))};JS.Ni=function(a,b,c){return TR(a.substr(b,c))};JS.$=3;function KS(a){return void 0===a||null==a?"nil":a}
function LS(a){if(QB("/"))return t.Mi(v.Ni(GS,"",a));var b=Hh(!1),c=Hh(!0);return t.Mi(v.Ni(function(d,e){e=t.Mi(e);var f=D.Li(e,""),h=0===e.indexOf("/");var k=e.length;k=1<=k?lh.Li(-1,e.indexOf("/",k-1)):null;var m=y(b),n=y(c);he(b,k);q(n)&&he(c,f);if(q(m))return h?(e=e.substring(1),d=d.append(e)):d=d.append(e),d;h||q(q(n)?n:f)||d.append("/");return d.append(e)},FS.Ui(),a))}
function MS(){function a(){return Hl(16).toString(16)}var b=(8|3&Hl(16)).toString(16);return[t.Mi(a()),t.Mi(a()),t.Mi(a()),t.Mi(a()),t.Mi(a()),t.Mi(a()),t.Mi(a()),t.Mi(a()),"-",t.Mi(a()),t.Mi(a()),t.Mi(a()),t.Mi(a()),"-4",t.Mi(a()),t.Mi(a()),t.Mi(a()),"-",t.Mi(b),t.Mi(a()),t.Mi(a()),t.Mi(a()),"-",t.Mi(a()),t.Mi(a()),t.Mi(a()),t.Mi(a()),t.Mi(a()),t.Mi(a()),t.Mi(a()),t.Mi(a()),t.Mi(a()),t.Mi(a()),t.Mi(a()),t.Mi(a())].join("")}bi.Li(t,"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_");
var NS=function NS(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return NS.Pi(c)};
NS.Pi=function(a){var b=null!=a&&(a.Si&64||l===a.va)?gh(hk,a):a;a=B.Li(b,um);var c=B.Li(b,EA),d=B.Li(b,qB),e=B.Li(b,Et),f=B.Li(b,es),h=B.Li(b,Xu),k=B.Li(b,rn),m=B.Li(b,yu);b=B.Li(b,Ou);return Math.round((q(b)?31536E6*b:0)+(q(e)?2551392E3*e:0)+(q(c)?6048E5*c:0)+(q(k)?864E5*k:0)+(q(m)?36E5*m:0)+(q(h)?6E4*h:0)+(q(f)?1E3*f:0)+(q(d)?d:0)+(q(a)?a:0))};NS.$=0;NS.ca=function(a){return this.Pi(E(a))};wh.Li(function(a){return ug(sg(a),1E3)},NS);var OS=new pl(function(){return new LR});
function PS(){var a=y(OS).Xe();return void 0===a?null:a}
var QS="undefined"!==typeof FormData?function(a){return a instanceof FormData}:function(){return null},RS="undefined"!==typeof File?function(a){return a instanceof File}:function(){return null},SS=function(){function a(c,d){if(q(QS(d)))return new W(null,2,5,Y,[c,d],null);if(q("undefined"!==typeof FormData?YR(RS,dj(d)):!1)){var e=new FormData;d=E(d);for(var f=null,h=0,k=0;;)if(k<h){var m=f.xa(null,k),n=P(m,0,null);m=P(m,1,null);e.append(Ig(n),m);k+=1}else if(d=E(d))If(d)?(h=ae(d),d=be(d),f=h,h=K(h)):
(h=H(d),f=P(h,0,null),h=P(h,1,null),e.append(Ig(f),h),d=J(d),f=null,h=0),k=0;else break;return new W(null,2,5,Y,[c,e],null)}return new W(null,2,5,Y,[c,b(d)],null)}var b=function(){function c(f,h){h=e.Mi(h);f=QB(h)?f:[t.Mi(f),"?",t.Mi(h)].join("");return new W(null,2,5,Y,[f,null],null)}function d(f){if(E(f)){var h=zl(f);f=Qb(h);if("undefined"==typeof f)throw Error("Keys are undefined");var k=new $b(null,void 0);h=Pb(h);for(var m=0;m<f.length;m++){var n=f[m],r=h[m];if(qa(r)){var u=k;u.remove(n);0<r.length&&
(u.zc=null,u.mb.set(cc(u,n),Za(r)),u.$a+=r.length)}else k.add(n,r)}f=k.toString()}else f=null;return f}var e=null;e=function(f,h){switch(arguments.length){case 1:return d.call(this,f);case 2:return c.call(this,f,h)}throw Error("Invalid arity: "+arguments.length);};e.Mi=d;e.Li=c;return e}();return function(c,d,e){d=d instanceof C?d.ma:null;switch(d){case "get":return b(c,e);case "post":return a(c,e);case "put":return a(c,e);default:throw Error(["No matching clause: ",t.Mi(d)].join(""));}}}();
function TS(a,b,c){var d=null!=b&&(b.Si&64||l===b.va)?gh(hk,b):b,e=B.Ni(d,Gu,Du);b=B.Li(d,Xt);var f=B.Li(d,Om),h=B.Ni(d,Pn,1E4),k=B.Ni(d,CA,br),m=B.Li(d,LA),n=PS();if(q(n))try{var r=function(){var N=su.Mi(d);return q(N)?N:h}(),u=function(){var N=e instanceof C?e.ma:null;switch(N){case "get":return"GET";case "post":return"POST";case "put":return"PUT";default:throw Error(["No matching clause: ",t.Mi(N)].join(""));}}(),w=SS(a,e,b),A=P(w,0,null),G=P(w,1,null),I=function(){var N=RR(function(O){return Ig(O).toLowerCase()},
f);N=eS(N,B.Ni(N,"x-requested-with","XMLHTTPRequest"));return zl(N)}(),F=function(){var N=xt.Mi(d);return q(N)?(n.Kg=!0,NQ(n,"progress",function(O){var U=O.lengthComputable,ea=O.loaded,va=O.total,wa=q(q(U)?lh.Li(va,0):U)?ea/va:null;O=new p(null,5,[xA,wa,gt,U,mu,ea,Xs,va,Yz,O],null);return N.Mi?N.Mi(O):N.call(null,O)})):null}();OQ(n,"ready",function(){return FR(y(OS),n)});OQ(n,"complete",function(N){var O=vR(n),U=uR(n),ea=lh.Li(U,-1)?function(){var xa=n.getResponseHeader("content-type"),Ra=function(){if(lh.Li(k,
br))var ka=k;else null==xa?ka=It:(ka=t.Mi(xa).toLowerCase(),ka=lh.Li(-1,ka.indexOf("/edn"))?kv:lh.Li(-1,ka.indexOf("/json"))?ns:lh.Li(-1,ka.indexOf("/xml"))?Fv:It);try{var oa=ka instanceof C?ka.ma:null;switch(oa){case "edn":return QR(xR(n));case "json":if(n.Ha){b:{var Ca=n.Ha.responseText;if(ma.JSON)try{var ua=ma.JSON.parse(Ca);break b}catch(ac){}ua=cR(Ca)}var Ba=ua}else Ba=void 0;return Ba;case "xml":try{var Ua=n.Ha?n.Ha.responseXML:null}catch(ac){Ua=null}return Ua;case "text":return xR(n);default:throw Error(["No matching clause: ",
t.Mi(oa)].join(""));}}catch(ac){return new p(null,2,[Do,ka,Gz,xR(n)],null)}}();return new W(null,3,5,Y,[U,xa,Ra],null)}():null,va=P(ea,0,null),wa=P(ea,1,null);ea=P(ea,2,null);q(F)&&WQ(F);N=new p(null,7,[vz,N,Vu,n,Ky,O,hn,va,cA,wa,at,ea,Wp,q(O)?null:q(va)?va:B.Ni(uf([0,null,5,uo,6,Ox,7,an,8,su]),n.Vd,yx)],null);return c.Mi?c.Mi(N):c.call(null,N)});n.gf=Math.max(0,q(r)?r:0);q(m)&&(n.ae=!0);n.send(A,u,G,I);return n}catch(N){return a=N,FR(y(OS),n),a=new p(null,1,[Wp,a],null),c.Mi?c.Mi(a):c.call(null,
a),null}else return a=new p(null,1,[Wp,sp],null),c.Mi?c.Mi(a):c.call(null,a),null}function US(a){return q(a)?JB(encodeURIComponent(t.Mi(a),a),"*","%2A"):null}function VS(a,b){P(b,0,null);return q(a)?decodeURIComponent(t.Mi(a)):null}
function WS(a){function b(c,d){return[US(VR(c)),"\x3d",US(function(){var e=SR(d);return q(e)?e:t.Mi(d)}())].join("")}return Bf(a)?"":LB("\x26",function(){return function e(d){return new Jg(null,function(){for(var f=d;;)if(f=E(f)){if(If(f)){var h=ae(f),k=K(h),m=Ng(k);return function(){for(var w=0;;)if(w<k){var A=x(h,w),G=P(A,0,null),I=P(A,1,null);null!=I&&Rg(m,Ef(I)?LB("\x26",bi.Li(xh(b,G),function(){var F=E(I);return F?F:new W(null,1,5,Y,[""],null)}())):b(G,I));w+=1}else return!0}()?Qg(Sg(m),e(be(f))):
Qg(Sg(m),null)}var n=H(f),r=P(n,0,null),u=P(n,1,null);if(null!=u)return hf(Ef(u)?LB("\x26",bi.Li(xh(b,r),function(){var w=E(u);return w?w:new W(null,1,5,Y,[""],null)}())):b(r,u),e(Fe(f)));f=Fe(f)}else return null},null,null)}(a)}())}function XS(a,b,c){return Q.Ni(a,b,function(){var d=B.Li(a,b);return q(d)?Hf(d)?pf.Li(d,c):new W(null,2,5,Y,[d,c],null):c}())}
function YS(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new De(b.slice(1),0,null):null;return ZS(arguments[0],b)}function ZS(a,b){var c=P(b,0,null),d=P(b,1,null);if(QB(a)||!lh.Li(-1,a.indexOf("\x3d")))return V;a=0===a.indexOf("?")?yg.Li(a,1):a;a=v.Ni(function(e,f){var h=PB(f,/=/,2);return q(h)?(f=P(h,0,null),h=P(h,1,null),XS(e,VS(f,M([d])),VS(h,M([d])))):e},V,OB(a,/&/));return q(c)?RR(Hg,a):a}
function $S(a,b){var c=PB(t.Mi(a),/\?/,2);a=P(c,0,null);c=P(c,1,null);b=oS(M([q(c)?RR(Hg,YS(c)):null,RR(Hg,b)]));b=WS(b);b="string"===typeof b?QB(b)?null:b:null;return q(b)?[t.Mi(a),"?",b].join(""):a}function aT(){return!0}function bT(){return!1}function cT(a){return lh.Li(-1,a.indexOf("*"))?Rk(JB(JB(["^",t.Mi(a),"$"].join(""),".","\\."),"*","(.*)")):null}
function dT(a,b){for(;;){if(q(function(){var n=new qk(null,new p(null,2,["*",null,Zr,null],null),null);return n.Mi?n.Mi(a):n.call(null,a)}()))return aT;if(q(function(){var n=Rf([qf,sk,cq]);return n.Mi?n.Mi(a):n.call(null,a)}()))return bT;if(a instanceof RegExp)return function(n){return function(r){return Ok(n,r)}}(a,b,aT,bT,cT);if("string"===typeof a){var c=cT(a);if(q(c)){var d=b;a=c;b=d}else return function(n){return function(r){return D.Li(r,n)}}(a,b,c,aT,bT,cT)}else if(Hf(a)||Df(a)){if(q(function(){var n=
tk(a);return n.Mi?n.Mi("*"):n.call(null,"*")}()))return aT;if(D.Li(K(a),1))c=H(a),d=b,a=c,b=d;else{var e=v.Ni(function(n,r,u,w,A){return function(G,I){var F=P(G,0,null);G=P(G,1,null);var N=I instanceof RegExp?I:A(I);return q(N)?new W(null,2,5,Y,[F,pf.Li(G,N)],null):new W(null,2,5,Y,[pf.Li(F,I),G],null)}}(a,b,aT,bT,cT),new W(null,2,5,Y,[sk,qf],null),a),f=P(e,0,null),h=P(e,1,null),k=mh(f),m=function(){var n=mh(h);return q(n)?(n=function(r,u,w,A,G,I,F,N,O,U,ea){return function(va){return YR(function(){return function(wa){return Ok(wa,
va)}}(r,u,w,A,G,I,F,N,O,U,ea),w)}}(a,b,n,n,e,f,h,k,aT,bT,cT),q(b)?Fl(n):n):null}();if(q(function(){var n=k;return q(n)?m:n}()))return function(n,r,u,w,A,G,I){return function(F){var N=G.Mi?G.Mi(F):G.call(null,F);return q(N)?N:I.Mi?I.Mi(F):I.call(null,F)}}(a,b,e,f,h,k,m,aT,bT,cT);if(q(k))return k;if(q(m))return m;throw dm("No matching `encore/cond!` clause",V);}}else throw dm("Unexpected compile spec type",new p(null,2,[vv,a,aq,Bc(a)],null));}}
function eT(a){for(;;){if(Ff(a)){var b=B.Li(a,js),c=function(){var h=B.Li(a,bn);return q(h)?h:B.Li(a,zB)}(),d=function(){var h=B.Li(a,Cq);return q(h)?h:B.Li(a,Xn)}(),e=function(){var h=c;return q(h)?dT(h,b):null}(),f=function(){var h=d;return q(h)?dT(h,b):null}();if(D.Li(f,aT)||D.Li(e,bT))return bT;if(q(function(){var h=e;return q(h)?f:h}()))return function(h,k,m,n,r,u){return function(w){w=t.Mi(w);return q(r.Mi?r.Mi(w):r.call(null,w))?q(u.Mi?u.Mi(w):u.call(null,w))?!1:!0:!1}}(a,b,c,d,e,f,aT,bT,cT,
dT);if(q(e))return D.Li(e,aT)?aT:function(h,k,m,n,r){return function(u){u=t.Mi(u);u=r.Mi?r.Mi(u):r.call(null,u);return q(u)?!0:!1}}(a,b,c,d,e,f,aT,bT,cT,dT);if(q(f))return D.Li(f,bT)?aT:function(h,k,m,n,r,u){return function(w){w=t.Mi(w);w=u.Mi?u.Mi(w):u.call(null,w);return q(w)?!0:!1}}(a,b,c,d,e,f,aT,bT,cT,dT);throw dm("compile-str-filter: `allow-spec` and `deny-spec` cannot both be nil",new p(null,2,[os,c,Bn,d],null));}a=new p(null,2,[bn,a,Cq,null],null)}}wh.Li(mh,gS);wh.Li(mh,hS);wh.Li(TR,IS);
wh.Li(TR,JS);function fT(a){return Pf(Rf([null,qf,sk]),a)}var gT=function gT(a){switch(arguments.length){case 1:return gT.Mi(arguments[0]);case 2:return gT.Li(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length)].join(""));}};gT.Mi=function(a){return gT.Li(a,null)};gT.Li=function(a,b){return fT(a)&&fT(b)?function(){return!0}:eT(new p(null,2,[bn,a,Cq,b],null))};gT.$=2;function hT(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new De(b.slice(0),0,null):null;return iT(b)}
function iT(a){P(a,0,null);return new p(null,6,[Mw,!0,pq,!1,gA,null,gr,null,Qs,Uz,Jz,"undefined"!==typeof console?function(){function b(c){var d=function(){var e=c instanceof C?c.ma:null;switch(e){case "trace":return console.trace;case "debug":return console.debug;case "info":return console.info;case "warn":return console.warn;case "error":return console.error;case "fatal":return console.error;case "report":return console.info;default:throw Error(["No matching clause: ",t.Mi(e)].join(""));}}();return q(d)?
d:console.log}return function(c){var d=b(qm.Mi(c));if(q(d)){if(q(function(){var h=mo.Mi(c);return q(h)?h:ei(c,new W(null,2,5,Y,[Yy,mo],null))}())){var e=function(){var h=Q.Pi(c,Vz,"",M([Sp,null])),k=Qs.Mi(c);return k.Mi?k.Mi(h):k.call(null,h)}(),f=function(){var h=az.Mi(c),k=Sp.Mi(c);return q(k)?hf(e,hf(k,h)):hf(e,h)}();return d.apply(console,Ic(f))}return d.call(console,tl(ZA.Mi(c)))}return null}}():function(){return null}],null)};Hf(PR)?cS(new W(null,3,5,Y,[2,87,0],null)):cS(2.87);var jT=function jT(a){switch(arguments.length){case 1:return jT.Mi(arguments[0]);case 2:return jT.Li(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length)].join(""));}};jT.Mi=function(a){return jT.Li(null,a)};
jT.Li=function(a,b){var c=null!=a&&(a.Si&64||l===a.va)?gh(hk,a):a,d=B.Li(c,sq);B.Li(c,ez);var e=null!=b&&(b.Si&64||l===b.va)?gh(hk,b):b;b=B.Li(e,qm);c=B.Li(e,Sp);var f=B.Li(e,Vz),h=B.Li(e,nr),k=B.Li(e,Ux);B.Li(e,Zu);B.Li(e,Fz);e=B.Li(e,mv);return[Ig(b).toUpperCase()," [",t.Mi(q(h)?h:q(k)?k:"?"),":",t.Mi(q(e)?e:"?"),"] - ",t.Mi(tl(f)),q(d)?null:q(c)?["\n",t.Mi(kT?kT(c,a):lT.call(null,c,a))].join(""):null].join("")};jT.$=2;
var mT=new p(null,6,[qm,Vw,sn,qf,Rp,qf,Iw,qf,Qs,jT,gx,new p(null,1,[Zz,hT.Mi?hT.Mi(V):hT.call(null,V)],null)],null),nT=tk(new W(null,7,5,Y,[lw,Vw,Ps,fz,rp,er,on],null)),oT=wk(new W(null,7,5,Y,[lw,Vw,Ps,fz,rp,er,on],null),J(Gk.Ui()));function pT(a){var b=nT.Mi?nT.Mi(a):nT.call(null,a);if(q(b))return b;throw dm("Invalid Timbre logging level",new p(null,1,[vv,a],null));}
function qT(a,b){return function(){var c=pT(a);return oT.Mi?oT.Mi(c):oT.call(null,c)}()>=function(){var c=pT(b);return oT.Mi?oT.Mi(c):oT.call(null,c)}()}var rT=zS(gT),sT=zS(function(a,b,c){a=rT(a,b);return a.Mi?a.Mi(c):a.call(null,c)});function tT(a){var b=B.Ni(mT,qm,on);return qT(a,b)&&Mf(sT(B.Li(mT,sn),B.Li(mT,Rp),ja))&&!0}function uT(a){return HS(Lh.Mi(function(b){b=KS(b);return Gf(b)?fl.Pi(M([b])):b}),a)}var vT=zS(function(a,b){a=ES(b);P(a,0,null);return P(a,1,null)});
function wT(a){return 1<K(a)?Mi(a,1,K(a)):qf}function xT(a){var b=S.Li?S.Li(br,br):S.call(null,br,br),c=S.Li?S.Li(kw,kw):S.call(null,kw,kw),d=P(a,0,null);if(q(q(b)?d instanceof Error:b)){b=d;d=null;var e=wT(a);a=q(c)?P(e,0,null):null;c=q(c)?wT(e):e;return new W(null,4,5,Y,[b,d,a,c],null)}d=q(Ff(d)?rc.Mi(yf(d)):!1)?d:null;e=Uq.Mi(d);b=q(e)?e:q(b)?null:br;d=R.Li(d,Uq);e=q(d)?wT(a):a;a=q(c)?P(e,0,null):null;c=q(c)?wT(e):e;return new W(null,4,5,Y,[b,d,a,c],null)}
function yT(a,b,c,d){if(tT(a)){var e=new Date;c=y(c);c=xT(c);var f=P(c,0,null),h=P(c,1,null),k=P(c,2,null);c=P(c,3,null);e=pf.Li(q(null)?null:V,Oj([Gr,cB,az,Ux,ju,nr,qm,Sp,sz,mv,tm,Yy,ev],[e,mT,c,null,function(){var u=new qk(null,new p(null,2,[er,null,rp,null],null),null);return u.Mi?u.Mi(a):u.call(null,a)}(),ja,a,f,null,b,new pl(function(){return f}),h,k]));e=v.Ni(function(u,w){u=w.Mi?w.Mi(u):w.call(null,u);return null==u?Qe(null):u},e,Iw.Mi(mT));if(q(e)){c=null!=e&&(e.Si&64||l===e.va)?gh(hk,e):
e;var m=B.Li(c,az);e=Q.Ni(e,ho,new pl(function(){return m}));var n=fS.Pi(e,Vz,new pl(function(){if(D.Li(null,kw))return"";if(D.Li(zw,kw))return uT(m);if(D.Li(kw,kw)){if("string"!==typeof k)throw dm("Timbre format-style logging call without a format pattern (string)",new p(null,2,[qm,a,Ev,[t.Mi(q(ja)?ja:q(null)?null:"?"),":",t.Mi(q(b)?b:"?")].join("")],null));var u=q(k)?k:"",w=bi.Li(KS,m);return hh(tQ,u,w)}throw Error(["No matching clause: ",t.Mi(kw)].join(""));}),M([Nx,new pl(function(){return ve(new W(null,
3,5,Y,[d,k,B.Ni(h,aA,m)],null))})])),r=zS(B.Ni(mT,Qs,jT));cg(function(u,w,A){if(q(function(){var O=Mw.Mi(A);q(O)&&(O=gA.Mi(A),O=qT(a,q(O)?O:lw));return O}())&&q(sT(sn.Mi(A),Rp.Mi(A),ja))){var G=gr.Mi(A);if(function(){var O=Bf(G);if(O)return O;O=vT(w,G);var U=tl(Nx.Mi(n));O=O.Mi?O.Mi(U):O.call(null,U);return yc(O)}()){var I=null!=A&&(A.Si&64||l===A.va)?gh(hk,A):A;u=B.Li(I,Jz);B.Li(I,pq);var F=function(){var O=Qs.Mi(A);var U=(U=null==O)?U:S.Li?S.Li(O,Uz):S.call(null,O,Uz);return q(U)?r:O}(),N=pf.Li(n,
new p(null,4,[Nn,w,iz,A,Qs,F,ZA,new pl(function(){return F.Mi?F.Mi(n):F.call(null,n)})],null));I=function(){var O=vm.Mi(A);return q(O)?O.Mi?O.Mi(N):O.call(null,N):N}();return q(I)?u.Mi?u.Mi(I):u.call(null,I):null}}return null},null,gx.Mi(mT))}}return null}function lT(a){switch(arguments.length){case 1:return kT(arguments[0],null);case 2:return kT(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length)].join(""));}}function kT(a){return t.Mi(a)};function zT(a,b){if(null!=a&&null!=a.Qg)a=a.Qg(a,b);else{var c=zT[pa(null==a?null:a)];if(null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else if(c=zT._,null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else throw Cc("IPacker.pack",a);}return a}function AT(a,b){if(null!=a&&null!=a.Rg)a=a.Rg(a,b);else{var c=AT[pa(null==a?null:a)];if(null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else if(c=AT._,null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else throw Cc("IPacker.unpack",a);}return a};Hf(PR)?cS(new W(null,3,5,Y,[2,105,0],null)):cS(2.105);var BT=D.Li("default","nodejs"),CT=Ch(!1);function DT(a,b){return new p(null,2,[hm,a,up,new p(null,2,[aq,Bc(b),Jw,b],null)],null)}
function ET(a){if(Hf(a)){var b=K(a);var c=new qk(null,new p(null,2,[1,null,2,null],null),null);b=c.Mi?c.Mi(b):c.call(null,b);if(yc(b))return new p(null,1,[Ov,DT(new qk(null,new p(null,2,[1,null,2,null],null),null),a)],null);b=P(a,0,null);P(a,1,null);return b instanceof C?yc(Fg(b))?new p(null,1,[kt,DT(ir,b)],null):null:new p(null,1,[Uo,DT(yB,b)],null)}return new p(null,1,[Zw,DT(Ww,a)],null)}function FT(a){var b=ET(a);if(q(b))throw dm("Invalid event",new p(null,2,[vv,a,CB,b],null));}
function GT(a,b){var c=0===b.indexOf("+"),d=yg.Li(b,1),e=function(){try{return AT(a,d)}catch(m){var k=m;yT(Vw,215,new pl(function(){return new W(null,3,5,Y,["Bad package: %s (%s)",d,k],null)}),1153455204);return new W(null,2,5,Y,[Kx,d],null)}}();c=c?e:new W(null,2,5,Y,[e,null],null);var f=P(c,0,null);c=P(c,1,null);var h=D.Li(0,c)?qw:c;yT(lw,221,new pl(function(){return new W(null,3,5,Y,["Unpacking: %s -\x3e %s",b,new W(null,2,5,Y,[f,h],null)],null)}),2096032365);return new W(null,2,5,Y,[f,h],null)}
function HT(a,b,c){c=D.Li(c,qw)?0:c;var d=q(c)?new W(null,2,5,Y,[b,c],null):new W(null,1,5,Y,[b],null),e=["+",t.Mi(zT(a,d))].join("");yT(lw,237,new pl(function(){return new W(null,3,5,Y,["Packing (wrapped): %s -\x3e %s",d,e],null)}),-735088921);return e}function IT(){}IT.prototype.Qg=function(a,b){a:{a=nc;var c=mc;mc=nc=null;try{var d=fl.Pi(M([b]));break a}finally{mc=c,nc=a}d=void 0}return d};IT.prototype.Rg=function(a,b){return QR(b)};var JT=new IT;function KT(a){return D.Li(a,kv)?JT:a}ZR.Ui&&ZR.Ui();
function LT(a){if(null!=a&&null!=a.Zd)a=a.Zd(a);else{var b=LT[pa(null==a?null:a)];if(null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else if(b=LT._,null!=b)a=b.Mi?b.Mi(a):b.call(null,a);else throw Cc("IChSocket.-chsk-connect!",a);}return a}function MT(a,b){if(null!=a&&null!=a.ef)a=a.ef(a,b);else{var c=MT[pa(null==a?null:a)];if(null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else if(c=MT._,null!=c)a=c.Li?c.Li(a,b):c.call(null,a,b);else throw Cc("IChSocket.-chsk-disconnect!",a);}return a}
function NT(a,b,c){if(null!=a&&null!=a.Ie)a=a.Ie(a,b,c);else{var d=NT[pa(null==a?null:a)];if(null!=d)a=d.Ni?d.Ni(a,b,c):d.call(null,a,b,c);else if(d=NT._,null!=d)a=d.Ni?d.Ni(a,b,c):d.call(null,a,b,c);else throw Cc("IChSocket.-chsk-send!",a);}return a}
var OT=function OT(a){switch(arguments.length){case 2:return OT.Li(arguments[0],arguments[1]);case 4:return OT.Vi(arguments[0],arguments[1],arguments[2],arguments[3]);case 3:return OT.Ni(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.Mi(arguments.length)].join(""));}};OT.Li=function(a,b){return OT.Ni(a,b,V)};OT.Vi=function(a,b,c,d){return OT.Ni(a,b,new p(null,2,[Pn,c,HA,d],null))};
OT.Ni=function(a,b,c){yT(lw,877,new pl(function(){return new W(null,3,5,Y,["Chsk send: (%s) %s",Q.Ni(c,HA,Mf(HA.Mi(c))),b],null)}),-1180508482);return NT(a,b,c)};OT.$=4;function PT(a){yT(fz,881,new pl(function(){return new W(null,1,5,Y,["Chsk send against closed chsk."],null)}),1829068121);q(a)&&(a.Mi?a.Mi(pB):a.call(null,pB));return!1}function QT(a,b){return q(b)?vS(a,new W(null,1,5,Y,[b],null),function(c){return new pS(IA,c)}):null}
function RT(a,b){var c=uS(zy.Mi(a),function(e){var f=b.Mi?b.Mi(e):b.call(null,e);f=q(Lo.Mi(e))?Q.Ni(f,Lo,!1):f;f=q($x.Mi(f))?R.Li(f,Bv):f;return new pS(f,new W(null,2,5,Y,[e,f],null))}),d=P(c,0,null);c=P(c,1,null);return lh.Li(d,c)?(d=new W(null,2,5,Y,[d,c],null),kQ(ei(a,new W(null,2,5,Y,[Tw,Zn],null)),new W(null,2,5,Y,[Vr,d],null)),d):null}function ST(a,b){var c=$x.Mi(a);c=q(c)?c:lh.Li(b,hs);return q(c)?Q.Pi(R.Li(a,Bv),$x,!1,M([ww,new p(null,2,[Kn,yS(),aB,b],null)])):a}
function TT(a,b){if(null==a||Nf(a))return a;FT(b);var c=P(b,0,null);P(b,1,null);return function(d){return kQ(a,new W(null,2,5,Y,[Hg.Mi([VR(c),".cb"].join("")),d],null))}}
function UT(a,b){yT(lw,955,new pl(function(){return new W(null,2,5,Y,["receive-buffered-evs!: %s",b],null)}),1746500629);for(var c=E(b),d=null,e=0,f=0;;)if(f<e){var h=d.xa(null,f);FT(h);P(h,0,null);kQ(Zq.Mi(a),h);f+=1}else if(c=E(c))d=c,If(d)?(c=ae(d),e=be(d),d=c,h=K(c),c=e,e=h):(h=H(d),FT(h),P(h,0,null),kQ(Zq.Mi(a),h),c=J(d),d=null,e=0),f=0;else return null}function VT(a){return Hf(a)?(a=P(a,0,null),D.Li(a,KA)):!1}
function WT(a,b,c){yT(lw,970,new pl(function(){return new W(null,3,5,Y,["receive-handshake! (%s): %s",a,c],null)}),-26097906);P(c,0,null);var d=P(c,1,null),e=P(d,0,null);P(d,1,null);var f=P(d,2,null),h=null!=b&&(b.Si&64||l===b.va)?gh(hk,b):b;d=B.Li(h,Tw);h=B.Li(h,uy);h=Fh(h);var k=new p(null,6,[aq,a,$x,!0,pt,!0,bp,e,Ap,f,Lo,h],null);e=new W(null,2,5,Y,[KA,new W(null,4,5,Y,[e,null,f,h],null)],null);FT(e);RT(b,function(m){return lk.Pi(M([m,k]))});kQ(Kr.Mi(d),e)}
var XT=function(){var a="undefined"!==typeof require?require:vh(qs);return new pl(function(){if(BT&&"undefined"!==typeof require)try{var b=[t.Mi("web"),"socket"].join("");return a.Mi?a.Mi(b):a.call(null,b)}catch(c){return null}else return null})}();
function YT(a){a=null!=a&&(a.Si&64||l===a.va)?gh(hk,a):a;B.Li(a,Uu);B.Li(a,Vp);B.Li(a,fB);B.Li(a,wr);B.Li(a,Om);var b=null!=a&&(a.Si&64||l===a.va)?gh(hk,a):a;a=B.Li(b,Uu);var c=B.Li(b,Vp),d=B.Li(b,fB),e=B.Li(b,wr);B.Li(b,Om);b=dS(ma,"WebSocket");q(b)||(b=dS(ma,"MozWebSocket"),b=q(b)?b:dS(y(XT),"w3cwebsocket"));q(b)?(e=new b(e),e.onerror=a,e.onmessage=c,e.onclose=d,a=e):a=null;return a}
function ZT(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N){this.Ga=a;this.Fa=b;this.params=c;this.headers=d;this.Ea=e;this.url=f;this.lb=h;this.pa=k;this.Ba=m;this.fb=n;this.Ia=r;this.Ca=u;this.Ya=w;this.bb=A;this.cb=G;this.Qi=I;this.Oi=F;this.Ri=N;this.Si=2230716170;this.Xi=139264}g=ZT.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};
g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "client-id":return this.Ga;case "chs":return this.Fa;case "params":return this.params;case "headers":return this.headers;case "packer":return this.Ea;case "url":return this.url;case "ws-kalive-ms":return this.lb;case "state_":return this.pa;case "instance-handle_":return this.Ba;case "retry-count_":return this.fb;case "ever-opened?_":return this.Ia;case "backoff-ms-fn":return this.Ca;case "cbs-waiting_":return this.Ya;case "socket_":return this.bb;
case "udt-last-comms_":return this.cb;default:return B.Ni(this.Oi,b,c)}};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#taoensso.sente.ChWebSocket{",", ","}",c,T.Li(new W(null,15,5,Y,[new W(null,2,5,Y,[Bt,this.Ga],null),new W(null,2,5,Y,[Tw,this.Fa],null),new W(null,2,5,Y,[Xt,this.params],null),new W(null,2,5,Y,[Om,this.headers],null),new W(null,2,5,Y,[Dy,this.Ea],null),new W(null,2,5,Y,[my,this.url],null),new W(null,2,5,Y,[nx,this.lb],null),new W(null,2,5,Y,[zy,this.pa],null),new W(null,2,5,Y,[yr,this.Ba],null),new W(null,2,5,Y,[$t,this.fb],
null),new W(null,2,5,Y,[uy,this.Ia],null),new W(null,2,5,Y,[rz,this.Ca],null),new W(null,2,5,Y,[Lx,this.Ya],null),new W(null,2,5,Y,[Hz,this.bb],null),new W(null,2,5,Y,[Mt,this.cb],null)],null),this.Oi))};g.na=function(){return new Xi(this,15,new W(null,15,5,Y,[Bt,Tw,Xt,Om,Dy,my,nx,zy,yr,$t,uy,rz,Lx,Hz,Mt],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 15+K(this.Oi)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=1998688700^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.Ga,b.Ga)&&D.Li(this.Fa,b.Fa)&&D.Li(this.params,b.params)&&D.Li(this.headers,b.headers)&&D.Li(this.Ea,b.Ea)&&D.Li(this.url,b.url)&&D.Li(this.lb,b.lb)&&D.Li(this.pa,b.pa)&&D.Li(this.Ba,b.Ba)&&D.Li(this.fb,b.fb)&&D.Li(this.Ia,b.Ia)&&D.Li(this.Ca,b.Ca)&&D.Li(this.Ya,b.Ya)&&D.Li(this.bb,b.bb)&&D.Li(this.cb,b.cb)&&D.Li(this.Oi,b.Oi)};
g.wa=function(a,b){return Pf(new qk(null,new p(null,15,[nx,null,uy,null,Bt,null,Dy,null,Tw,null,Mt,null,Xt,null,$t,null,Om,null,rz,null,Hz,null,my,null,yr,null,Lx,null,zy,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new ZT(this.Ga,this.Fa,this.params,this.headers,this.Ea,this.url,this.lb,this.pa,this.Ba,this.fb,this.Ia,this.Ca,this.Ya,this.bb,this.cb,this.Qi,mh(R.Li(this.Oi,b)),null)};
g.ba=function(a,b,c){return q(S.Li?S.Li(Bt,b):S.call(null,Bt,b))?new ZT(c,this.Fa,this.params,this.headers,this.Ea,this.url,this.lb,this.pa,this.Ba,this.fb,this.Ia,this.Ca,this.Ya,this.bb,this.cb,this.Qi,this.Oi,null):q(S.Li?S.Li(Tw,b):S.call(null,Tw,b))?new ZT(this.Ga,c,this.params,this.headers,this.Ea,this.url,this.lb,this.pa,this.Ba,this.fb,this.Ia,this.Ca,this.Ya,this.bb,this.cb,this.Qi,this.Oi,null):q(S.Li?S.Li(Xt,b):S.call(null,Xt,b))?new ZT(this.Ga,this.Fa,c,this.headers,this.Ea,this.url,this.lb,
this.pa,this.Ba,this.fb,this.Ia,this.Ca,this.Ya,this.bb,this.cb,this.Qi,this.Oi,null):q(S.Li?S.Li(Om,b):S.call(null,Om,b))?new ZT(this.Ga,this.Fa,this.params,c,this.Ea,this.url,this.lb,this.pa,this.Ba,this.fb,this.Ia,this.Ca,this.Ya,this.bb,this.cb,this.Qi,this.Oi,null):q(S.Li?S.Li(Dy,b):S.call(null,Dy,b))?new ZT(this.Ga,this.Fa,this.params,this.headers,c,this.url,this.lb,this.pa,this.Ba,this.fb,this.Ia,this.Ca,this.Ya,this.bb,this.cb,this.Qi,this.Oi,null):q(S.Li?S.Li(my,b):S.call(null,my,b))?new ZT(this.Ga,
this.Fa,this.params,this.headers,this.Ea,c,this.lb,this.pa,this.Ba,this.fb,this.Ia,this.Ca,this.Ya,this.bb,this.cb,this.Qi,this.Oi,null):q(S.Li?S.Li(nx,b):S.call(null,nx,b))?new ZT(this.Ga,this.Fa,this.params,this.headers,this.Ea,this.url,c,this.pa,this.Ba,this.fb,this.Ia,this.Ca,this.Ya,this.bb,this.cb,this.Qi,this.Oi,null):q(S.Li?S.Li(zy,b):S.call(null,zy,b))?new ZT(this.Ga,this.Fa,this.params,this.headers,this.Ea,this.url,this.lb,c,this.Ba,this.fb,this.Ia,this.Ca,this.Ya,this.bb,this.cb,this.Qi,
this.Oi,null):q(S.Li?S.Li(yr,b):S.call(null,yr,b))?new ZT(this.Ga,this.Fa,this.params,this.headers,this.Ea,this.url,this.lb,this.pa,c,this.fb,this.Ia,this.Ca,this.Ya,this.bb,this.cb,this.Qi,this.Oi,null):q(S.Li?S.Li($t,b):S.call(null,$t,b))?new ZT(this.Ga,this.Fa,this.params,this.headers,this.Ea,this.url,this.lb,this.pa,this.Ba,c,this.Ia,this.Ca,this.Ya,this.bb,this.cb,this.Qi,this.Oi,null):q(S.Li?S.Li(uy,b):S.call(null,uy,b))?new ZT(this.Ga,this.Fa,this.params,this.headers,this.Ea,this.url,this.lb,
this.pa,this.Ba,this.fb,c,this.Ca,this.Ya,this.bb,this.cb,this.Qi,this.Oi,null):q(S.Li?S.Li(rz,b):S.call(null,rz,b))?new ZT(this.Ga,this.Fa,this.params,this.headers,this.Ea,this.url,this.lb,this.pa,this.Ba,this.fb,this.Ia,c,this.Ya,this.bb,this.cb,this.Qi,this.Oi,null):q(S.Li?S.Li(Lx,b):S.call(null,Lx,b))?new ZT(this.Ga,this.Fa,this.params,this.headers,this.Ea,this.url,this.lb,this.pa,this.Ba,this.fb,this.Ia,this.Ca,c,this.bb,this.cb,this.Qi,this.Oi,null):q(S.Li?S.Li(Hz,b):S.call(null,Hz,b))?new ZT(this.Ga,
this.Fa,this.params,this.headers,this.Ea,this.url,this.lb,this.pa,this.Ba,this.fb,this.Ia,this.Ca,this.Ya,c,this.cb,this.Qi,this.Oi,null):q(S.Li?S.Li(Mt,b):S.call(null,Mt,b))?new ZT(this.Ga,this.Fa,this.params,this.headers,this.Ea,this.url,this.lb,this.pa,this.Ba,this.fb,this.Ia,this.Ca,this.Ya,this.bb,c,this.Qi,this.Oi,null):new ZT(this.Ga,this.Fa,this.params,this.headers,this.Ea,this.url,this.lb,this.pa,this.Ba,this.fb,this.Ia,this.Ca,this.Ya,this.bb,this.cb,this.Qi,Q.Ni(this.Oi,b,c),null)};
g.ga=function(){return E(T.Li(new W(null,15,5,Y,[new X(Bt,this.Ga),new X(Tw,this.Fa),new X(Xt,this.params),new X(Om,this.headers),new X(Dy,this.Ea),new X(my,this.url),new X(nx,this.lb),new X(zy,this.pa),new X(yr,this.Ba),new X($t,this.fb),new X(uy,this.Ia),new X(rz,this.Ca),new X(Lx,this.Ya),new X(Hz,this.bb),new X(Mt,this.cb)],null),this.Oi))};
g.ea=function(a,b){return new ZT(this.Ga,this.Fa,this.params,this.headers,this.Ea,this.url,this.lb,this.pa,this.Ba,this.fb,this.Ia,this.Ca,this.Ya,this.bb,this.cb,b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};g.ef=function(a,b){Dh(this.Ba,null);RT(this,function(c){return ST(c,b)});a=y(this.bb);return q(a)?a.close(1E3,"CLOSE_NORMAL"):null};
g.Ie=function(a,b,c){var d=this;a=null!=c&&(c.Si&64||l===c.va)?gh(hk,c):c;var e=B.Li(a,Pn);c=B.Li(a,HA);B.Li(a,jp);FT(b);var f=TT(c,b);if(yc($x.Mi(y(d.pa))))return PT(f);var h=q(f)?JS.Ni(MS(),0,6):null;b=HT(d.Ea,b,h);if(q(h)&&(xS(d.Ya,new W(null,1,5,Y,[h],null),f),q(e))){var k=iQ(1,null);JP(function(){var n=function(){function u(w){var A=w[1];if(1===A)return A=$P(e),eQ(w,2,A);if(2===A){A=w[2];var G=QT(d.Ya,h);w[8]=A;w[7]=G;w[1]=q(G)?3:4;return xn}return 3===A?(A=w[7],A=A.Mi?A.Mi(Dn):A.call(null,Dn),
w[2]=A,w[1]=5,xn):4===A?(w[2]=null,w[1]=5,xn):5===A?gQ(w,w[2]):null}return function(){function w(I){for(;;){a:try{for(;;){var F=u(I);if(!S(F,xn)){var N=F;break a}}}catch(O){N=O;I[2]=N;if(E(I[4]))I[1]=H(I[4]);else throw N;N=xn}if(!S(N,xn))return N}}function A(){var I=[null,null,null,null,null,null,null,null,null];I[0]=G;I[1]=1;return I}var G=null;G=function(I){switch(arguments.length){case 0:return A.call(this);case 1:return w.call(this,I)}throw Error("Invalid arity: "+arguments.length);};G.Ui=A;G.Mi=
w;return G}()}(),r=function(){var u=n();u[6]=k;return u}();return dQ(r)})}try{return y(d.bb).send(b),Dh(d.cb,yS()),km}catch(n){var m=n;yT(rp,1128,new pl(function(){return new W(null,2,5,Y,[m,"Chsk send error"],null)}),1191745897);q(h)&&(b=function(){var r=QT(d.Ya,h);return q(r)?r:f}(),b.Mi?b.Mi(mm):b.call(null,mm));return!1}};
g.Zd=function(){function a(){return D.Li(y(b.Ba),d)}var b=this,c=this,d=Dh(b.Ba,MS()),e=b.lb;if(q(e)){var f=iQ(1,null);JP(function(){var h=function(){function m(n){var r=n[1];if(7===r)return n[2]=n[2],n[1]=3,xn;if(1===r)return n[2]=null,n[1]=2,xn;if(4===r){r=n[2];var u=a();n[7]=r;n[1]=u?5:6;return xn}return 6===r?(n[2]=null,n[1]=7,xn):3===r?gQ(n,n[2]):2===r?(r=y(b.cb),u=$P(e),n[8]=r,eQ(n,4,u)):9===r?(n[2]=null,n[1]=10,xn):5===r?(r=n[8],u=y(b.cb),r=D.Li(r,u),n[1]=r?8:9,xn):10===r?(n[9]=n[2],n[2]=null,
n[1]=2,xn):8===r?(r=new W(null,1,5,Y,[Mo],null),u=Oj([jp],[!0]),r=c.Ie(null,r,u),n[2]=r,n[1]=10,xn):null}return function(){function n(w){for(;;){a:try{for(;;){var A=m(w);if(!S(A,xn)){var G=A;break a}}}catch(I){G=I;w[2]=G;if(E(w[4]))w[1]=H(w[4]);else throw G;G=xn}if(!S(G,xn))return G}}function r(){var w=[null,null,null,null,null,null,null,null,null,null];w[0]=u;w[1]=1;return w}var u=null;u=function(w){switch(arguments.length){case 0:return r.call(this);case 1:return n.call(this,w)}throw Error("Invalid arity: "+
arguments.length);};u.Ui=r;u.Mi=n;return u}()}(),k=function(){var m=h();m[6]=f;return m}();return dQ(k)})}Dh(b.fb,0);(function k(){if(a()){var m=function(){if(a()){var G=Eh.Li(b.fb,Oe),I=b.Ca.Mi?b.Ca.Mi(G):b.Ca.call(null,G),F=yS()+I;yT(fz,1147,new pl(function(){return new W(null,3,5,Y,["Chsk is closed: will try reconnect attempt (%s) in %s ms",G,I],null)}),1086769159);ma.setTimeout(k,I);return RT(c,function(N){return Q.Ni(N,Bv,F)})}return null},n=function(G){yT(rp,1160,new pl(function(){var I=Y;try{var F=
Dl(G)}catch(N){F=G}return new W(null,2,5,I,["WebSocket error: %s",F],null)}),1565359536);return RT(c,function(I){return Q.Ni(I,Mr,new p(null,2,[Kn,yS(),Yz,G],null))})},r=function(G){G=dS(G,"data");G=GT(b.Ea,G);var I=P(G,0,null);G=P(G,1,null);Dh(b.cb,yS());if(VT(I)){WT(mq,c,I);Dh(b.fb,0);var F=qp}else F=null;if(q(F))return F;D.Li(I,Mo)?(kQ(Zq.Mi(b.Fa),new W(null,1,5,Y,[Mo],null)),F=xp):F=null;return q(F)?F:q(G)?(G=QT(b.Ya,G),q(G)?G.Mi?G.Mi(I):G.call(null,I):yT(fz,1204,new pl(function(){return new W(null,
2,5,Y,["Cb reply w/o local cb-fn: %s",I],null)}),-1551103082)):UT(b.Fa,I)},u=function(G){var I=new p(null,5,[Kn,yS(),Yz,G,Fo,dS(G,"wasClean"),tq,dS(G,"code"),aB,dS(G,"reason")],null);if(q(Fo.Mi(I)))return yT(Vw,1230,new pl(function(){return new W(null,1,5,Y,["Clean WebSocket close, will not attempt reconnect"],null)}),1911547371),RT(c,function(F){return Q.Ni(F,jy,I)});RT(c,function(F){return Q.Ni(ST(F,hs),jy,I)});return m()},w=function(){try{return YT(new p(null,5,[Uu,n,Vp,r,fB,u,Om,b.headers,wr,
$S(b.url,lk.Pi(M([b.params,new p(null,2,[Bt,b.Ga,Sr,Sr.Mi(y(b.pa))],null)])))],null))}catch(I){var G=I;yT(rp,1253,new pl(function(){return new W(null,2,5,Y,[G,"WebSocket error"],null)}),258652951);return null}}();if(yc(w))return m();var A=y(b.bb);q(A)&&A.close();return Dh(b.bb,w)}return null})();return c};
function $T(a,b){a=lk.Pi(M([new p(null,7,[zy,Ch(new p(null,4,[aq,mq,$x,!1,pt,!1,Sr,b],null)),yr,Ch(null),$t,Ch(0),uy,Ch(!1),Lx,Ch(V),Hz,Ch(null),Mt,Ch(null)],null),a]));b=R.Pi(a,Bt,M([Tw,Xt,Om,Dy,my,nx,zy,yr,$t,uy,rz,Lx,Hz,Mt]));b=Gf(a)?ai.Li(V,b):b;return new ZT(Bt.Mi(a),Tw.Mi(a),Xt.Mi(a),Om.Mi(a),Dy.Mi(a),my.Mi(a),nx.Mi(a),zy.Mi(a),yr.Mi(a),$t.Mi(a),uy.Mi(a),rz.Mi(a),Lx.Mi(a),Hz.Mi(a),Mt.Mi(a),null,mh(b),null)}var aU=NS.Pi(M([es,60]));
function bU(a,b,c,d,e,f,h,k,m,n,r,u,w,A){this.Ga=a;this.Fa=b;this.params=c;this.Ea=d;this.url=e;this.pa=f;this.Ba=h;this.Ia=k;this.Ca=m;this.hb=n;this.pb=r;this.Qi=u;this.Oi=w;this.Ri=A;this.Si=2230716170;this.Xi=139264}g=bU.prototype;g.ka=function(a,b){return this.Wi(null,b,null)};
g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "client-id":return this.Ga;case "chs":return this.Fa;case "params":return this.params;case "packer":return this.Ea;case "url":return this.url;case "state_":return this.pa;case "instance-handle_":return this.Ba;case "ever-opened?_":return this.Ia;case "backoff-ms-fn":return this.Ca;case "ajax-opts":return this.hb;case "curr-xhr_":return this.pb;default:return B.Ni(this.Oi,b,c)}};
g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#taoensso.sente.ChAjaxSocket{",", ","}",c,T.Li(new W(null,11,5,Y,[new W(null,2,5,Y,[Bt,this.Ga],null),new W(null,2,5,Y,[Tw,this.Fa],null),new W(null,2,5,Y,[Xt,this.params],null),new W(null,2,5,Y,[Dy,this.Ea],null),new W(null,2,5,Y,[my,this.url],null),new W(null,2,5,Y,[zy,this.pa],null),new W(null,2,5,Y,[yr,this.Ba],null),new W(null,2,5,Y,[uy,this.Ia],null),new W(null,2,5,Y,[rz,this.Ca],null),new W(null,2,5,Y,[mB,this.hb],null),
new W(null,2,5,Y,[OA,this.pb],null)],null),this.Oi))};g.na=function(){return new Xi(this,11,new W(null,11,5,Y,[Bt,Tw,Xt,Dy,my,zy,yr,uy,rz,mB,OA],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 11+K(this.Oi)};g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=-266770752^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.Ga,b.Ga)&&D.Li(this.Fa,b.Fa)&&D.Li(this.params,b.params)&&D.Li(this.Ea,b.Ea)&&D.Li(this.url,b.url)&&D.Li(this.pa,b.pa)&&D.Li(this.Ba,b.Ba)&&D.Li(this.Ia,b.Ia)&&D.Li(this.Ca,b.Ca)&&D.Li(this.hb,b.hb)&&D.Li(this.pb,b.pb)&&D.Li(this.Oi,b.Oi)};
g.wa=function(a,b){return Pf(new qk(null,new p(null,11,[OA,null,uy,null,Bt,null,Dy,null,Tw,null,Xt,null,rz,null,my,null,yr,null,mB,null,zy,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new bU(this.Ga,this.Fa,this.params,this.Ea,this.url,this.pa,this.Ba,this.Ia,this.Ca,this.hb,this.pb,this.Qi,mh(R.Li(this.Oi,b)),null)};
g.ba=function(a,b,c){return q(S.Li?S.Li(Bt,b):S.call(null,Bt,b))?new bU(c,this.Fa,this.params,this.Ea,this.url,this.pa,this.Ba,this.Ia,this.Ca,this.hb,this.pb,this.Qi,this.Oi,null):q(S.Li?S.Li(Tw,b):S.call(null,Tw,b))?new bU(this.Ga,c,this.params,this.Ea,this.url,this.pa,this.Ba,this.Ia,this.Ca,this.hb,this.pb,this.Qi,this.Oi,null):q(S.Li?S.Li(Xt,b):S.call(null,Xt,b))?new bU(this.Ga,this.Fa,c,this.Ea,this.url,this.pa,this.Ba,this.Ia,this.Ca,this.hb,this.pb,this.Qi,this.Oi,null):q(S.Li?S.Li(Dy,b):
S.call(null,Dy,b))?new bU(this.Ga,this.Fa,this.params,c,this.url,this.pa,this.Ba,this.Ia,this.Ca,this.hb,this.pb,this.Qi,this.Oi,null):q(S.Li?S.Li(my,b):S.call(null,my,b))?new bU(this.Ga,this.Fa,this.params,this.Ea,c,this.pa,this.Ba,this.Ia,this.Ca,this.hb,this.pb,this.Qi,this.Oi,null):q(S.Li?S.Li(zy,b):S.call(null,zy,b))?new bU(this.Ga,this.Fa,this.params,this.Ea,this.url,c,this.Ba,this.Ia,this.Ca,this.hb,this.pb,this.Qi,this.Oi,null):q(S.Li?S.Li(yr,b):S.call(null,yr,b))?new bU(this.Ga,this.Fa,this.params,
this.Ea,this.url,this.pa,c,this.Ia,this.Ca,this.hb,this.pb,this.Qi,this.Oi,null):q(S.Li?S.Li(uy,b):S.call(null,uy,b))?new bU(this.Ga,this.Fa,this.params,this.Ea,this.url,this.pa,this.Ba,c,this.Ca,this.hb,this.pb,this.Qi,this.Oi,null):q(S.Li?S.Li(rz,b):S.call(null,rz,b))?new bU(this.Ga,this.Fa,this.params,this.Ea,this.url,this.pa,this.Ba,this.Ia,c,this.hb,this.pb,this.Qi,this.Oi,null):q(S.Li?S.Li(mB,b):S.call(null,mB,b))?new bU(this.Ga,this.Fa,this.params,this.Ea,this.url,this.pa,this.Ba,this.Ia,this.Ca,
c,this.pb,this.Qi,this.Oi,null):q(S.Li?S.Li(OA,b):S.call(null,OA,b))?new bU(this.Ga,this.Fa,this.params,this.Ea,this.url,this.pa,this.Ba,this.Ia,this.Ca,this.hb,c,this.Qi,this.Oi,null):new bU(this.Ga,this.Fa,this.params,this.Ea,this.url,this.pa,this.Ba,this.Ia,this.Ca,this.hb,this.pb,this.Qi,Q.Ni(this.Oi,b,c),null)};
g.ga=function(){return E(T.Li(new W(null,11,5,Y,[new X(Bt,this.Ga),new X(Tw,this.Fa),new X(Xt,this.params),new X(Dy,this.Ea),new X(my,this.url),new X(zy,this.pa),new X(yr,this.Ba),new X(uy,this.Ia),new X(rz,this.Ca),new X(mB,this.hb),new X(OA,this.pb)],null),this.Oi))};g.ea=function(a,b){return new bU(this.Ga,this.Fa,this.params,this.Ea,this.url,this.pa,this.Ba,this.Ia,this.Ca,this.hb,this.pb,b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};
g.ef=function(a,b){Dh(this.Ba,null);RT(this,function(c){return ST(c,b)});a=y(this.pb);return q(a)?a.abort():null};
g.Ie=function(a,b,c){function d(n){var r=null!=n&&(n.Si&64||l===n.va)?gh(hk,n):n;n=B.Li(r,Wp);r=B.Li(r,at);if(q(n)){if(D.Li(n,su))return q(k)?k.Mi?k.Mi(Dn):k.call(null,Dn):null;RT(f,function(w){return ST(w,hs)});return q(k)?k.Mi?k.Mi(mm):k.call(null,mm):null}n=GT(e.Ea,r);var u=P(n,0,null);P(n,1,null);q(k)?k.Mi?k.Mi(u):k.call(null,u):lh.Li(u,RA)&&yT(fz,1377,new pl(function(){return new W(null,2,5,Y,["Cb reply w/o local cb-fn: %s",u],null)}),610902985);return RT(f,function(w){return Q.Ni(w,$x,!0)})}
var e=this,f=this;a=null!=c&&(c.Si&64||l===c.va)?gh(hk,c):c;var h=B.Li(a,Pn);c=B.Li(a,HA);B.Li(a,jp);FT(b);var k=TT(c,b);if(yc($x.Mi(y(e.pa))))return PT(k);var m=Sr.Mi(y(e.pa));a=e.url;c=lk.Pi(M([e.hb,new p(null,5,[Gu,dA,Pn,function(){if(q(h))return h;var n=Pn.Mi(e.hb);return q(n)?n:aU}(),CA,It,Om,lk.Pi(M([Om.Mi(e.hb),new p(null,1,[Ax,m],null)])),Xt,function(){var n=HT(e.Ea,b,q(k)?qw:null);return lk.Pi(M([e.params,new p(null,4,[Kn,yS(),Sr,m,Bt,e.Ga,JA,n],null)]))}()],null)]));TS.Ni?TS.Ni(a,c,d):TS.call(null,
a,c,d);return km};
g.Zd=function(){var a=this,b=this,c=Dh(a.Ba,MS());(function f(e){yT(lw,1387,new pl(function(){return new W(null,1,5,Y,["async-poll-for-update!"],null)}),1320874251);if(D.Li(y(a.Ba),c)){var h=function(){if(D.Li(y(a.Ba),c)){var k=e+1,m=a.Ca.Mi?a.Ca.Mi(k):a.Ca.call(null,k),n=yS()+m;yT(fz,1395,new pl(function(){return new W(null,3,5,Y,["Chsk is closed: will try reconnect attempt (%s) in %s ms",k,m],null)}),1659082848);ma.setTimeout(function(){return f(k)},m);return RT(b,function(r){return Q.Ni(r,Bv,n)})}return null};
return Dh(a.pb,function(){function k(r){var u=null!=r&&(r.Si&64||l===r.va)?gh(hk,r):r;r=B.Li(u,Wp);u=B.Li(u,at);if(q(r)){if(D.Li(r,su))return f(0);RT(b,function(w){return ST(w,hs)});return h()}r=GT(a.Ea,u);r=P(r,0,null);(u=VT(r))&&WT(oz,b,r);RT(b,function(w){return Q.Ni(w,$x,!0)});f(0);if(u)return null;D.Li(r,Dn)?(q(y(CT))&&UT(a.Fa,new W(null,1,5,Y,[new W(null,1,5,Y,[Oo],null)],null)),u=xp):u=null;return q(u)?u:UT(a.Fa,r)}var m=a.url,n=lk.Pi(M([a.hb,new p(null,5,[Gu,Du,Pn,function(){var r=Pn.Mi(a.hb);
return q(r)?r:aU}(),CA,It,Xt,lk.Pi(M([a.params,new p(null,2,[Kn,yS(),Bt,a.Ga],null),q($x.Mi(y(a.pa)))?null:new p(null,1,[lp,!0],null)])),Om,lk.Pi(M([Om.Mi(a.hb),new p(null,1,[Ax,Sr.Mi(y(a.pa))],null)]))],null)]));return TS.Ni?TS.Ni(m,n,k):TS.call(null,m,n,k)}())}return null})(0);return b};
function cU(a,b){a=lk.Pi(M([new p(null,4,[zy,Ch(new p(null,4,[aq,oz,$x,!1,pt,!1,Sr,b],null)),yr,Ch(null),uy,Ch(!1),OA,Ch(null)],null),a]));b=R.Pi(a,Bt,M([Tw,Xt,Dy,my,zy,yr,uy,rz,mB,OA]));b=Gf(a)?ai.Li(V,b):b;return new bU(Bt.Mi(a),Tw.Mi(a),Xt.Mi(a),Dy.Mi(a),my.Mi(a),zy.Mi(a),yr.Mi(a),uy.Mi(a),rz.Mi(a),mB.Mi(a),OA.Mi(a),null,mh(b),null)}function dU(a,b,c,d,e,f,h){this.Fc=a;this.uc=b;this.pa=c;this.Zb=d;this.Qi=e;this.Oi=f;this.Ri=h;this.Si=2230716170;this.Xi=139264}g=dU.prototype;
g.ka=function(a,b){return this.Wi(null,b,null)};g.Wi=function(a,b,c){switch(b instanceof C?b.ma:null){case "ws-chsk-opts":return this.Fc;case "ajax-chsk-opts":return this.uc;case "state_":return this.pa;case "impl_":return this.Zb;default:return B.Ni(this.Oi,b,c)}};g.ua=function(a,b,c){return v.Ni(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Ni?b.Ni(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#taoensso.sente.ChAutoSocket{",", ","}",c,T.Li(new W(null,4,5,Y,[new W(null,2,5,Y,[Kw,this.Fc],null),new W(null,2,5,Y,[Jn,this.uc],null),new W(null,2,5,Y,[zy,this.pa],null),new W(null,2,5,Y,[fq,this.Zb],null)],null),this.Oi))};g.na=function(){return new Xi(this,4,new W(null,4,5,Y,[Kw,Jn,zy,fq],null),q(this.Oi)?je(this.Oi):nh())};g.da=function(){return this.Qi};g.ha=function(){return 4+K(this.Oi)};
g.ia=function(){var a=this.Ri;return null!=a?a:this.Ri=a=-1193508708^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Li(this.Fc,b.Fc)&&D.Li(this.uc,b.uc)&&D.Li(this.pa,b.pa)&&D.Li(this.Zb,b.Zb)&&D.Li(this.Oi,b.Oi)};g.wa=function(a,b){return Pf(new qk(null,new p(null,4,[fq,null,Kw,null,zy,null,Jn,null],null),null),b)?R.Li(rd(ai.Li(V,this),this.Qi),b):new dU(this.Fc,this.uc,this.pa,this.Zb,this.Qi,mh(R.Li(this.Oi,b)),null)};
g.ba=function(a,b,c){return q(S.Li?S.Li(Kw,b):S.call(null,Kw,b))?new dU(c,this.uc,this.pa,this.Zb,this.Qi,this.Oi,null):q(S.Li?S.Li(Jn,b):S.call(null,Jn,b))?new dU(this.Fc,c,this.pa,this.Zb,this.Qi,this.Oi,null):q(S.Li?S.Li(zy,b):S.call(null,zy,b))?new dU(this.Fc,this.uc,c,this.Zb,this.Qi,this.Oi,null):q(S.Li?S.Li(fq,b):S.call(null,fq,b))?new dU(this.Fc,this.uc,this.pa,c,this.Qi,this.Oi,null):new dU(this.Fc,this.uc,this.pa,this.Zb,this.Qi,Q.Ni(this.Oi,b,c),null)};
g.ga=function(){return E(T.Li(new W(null,4,5,Y,[new X(Kw,this.Fc),new X(Jn,this.uc),new X(zy,this.pa),new X(fq,this.Zb)],null),this.Oi))};g.ea=function(a,b){return new dU(this.Fc,this.uc,this.pa,this.Zb,b,this.Oi,this.Ri)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.Ni(Rc,this,b)};g.ef=function(a,b){a=y(this.Zb);return q(a)?MT(a,b):null};g.Ie=function(a,b,c){a=y(this.Zb);if(q(a))return NT(a,b,c);c=null!=c&&(c.Si&64||l===c.va)?gh(hk,c):c;c=B.Li(c,HA);b=TT(c,b);return PT(b)};
g.Zd=function(){function a(){var f=Ch(!1);ol(c.pa,function(h,k,m,n){h=y(c.Zb);if(q(h)&&(k=uy.Mi(h),q(k))){if(q(y(k)))return null;if(q(Mr.Mi(n))&&Fh(f))return yT(fz,1528,new pl(function(){return new W(null,1,5,Y,["Permanently downgrading :auto chsk -\x3e :ajax"],null)}),1588421522),MT(h,Tn),Dh(c.Zb,b())}return null});return $T(e,Sr.Mi(y(c.pa))).Zd(null)}function b(){Sd(c.pa);return cU(d,Sr.Mi(y(c.pa))).Zd(null)}var c=this,d=Q.Ni(c.uc,zy,c.pa),e=Q.Ni(c.Fc,zy,c.pa);Dh(c.Zb,function(){var f=a();return q(f)?
f:b()}());return this};function eU(a,b,c,d){var e=function(){switch(a instanceof C?a.ma:null){case "http":return"http:";case "https":return"https:";default:return a}}(),f=function(){var h=d instanceof C?d.ma:null;switch(h){case "ajax":return e;case "ws":switch(e){case "https:":return"wss:";case "http:":return"ws:";default:throw Error(["No matching clause: ",t.Mi(e)].join(""));}default:throw Error(["No matching clause: ",t.Mi(h)].join(""));}}();return[t.Mi(f),"//",LS(M([b,c]))].join("")}
function fU(a,b,c){function d(n){return n.Ui?n.Ui():n.call(null)}var e=yc(io);c=null!=c&&(c.Si&64||l===c.va)?gh(hk,c):c;var f=B.Li(c,zu),h=B.Li(c,vt);B.Li(c,eA);var k=iQ(null,null),m=iQ(1,null);JP(function(){var n=function(){function u(w){var A=w[1];if(7===A)return w[2]=w[2],w[1]=3,xn;if(1===A)return w[2]=null,w[1]=2,xn;if(4===A){A=w[10];A=w[2];var G=P(A,0,null),I=P(A,1,null),F=D.Li(I,k)||null==G;w[7]=F;w[8]=I;w[9]=A;w[10]=G;w[1]=q(F)?5:6;return xn}if(15===A)return A=w[10],w[2]=A,w[1]=16,xn;if(13===
A)return w[2]=w[2],w[1]=10,xn;if(6===A)return A=w[10],w[1]=yc(null==A)?8:9,xn;if(3===A)return gQ(w,w[2]);if(12===A)return w[2]=!1,w[1]=13,xn;if(2===A)return qQ(w,4,new W(null,2,5,Y,[a,k],null));if(11===A)return w[2]=!0,w[1]=13,xn;if(9===A)return w[2]=!1,w[1]=10,xn;if(5===A)return w[2]=null,w[1]=7,xn;if(14===A)return A=w[10],A=gh(hk,A),w[2]=A,w[1]=16,xn;if(16===A){A=w[10];var N=w[2],O=B.Li(N,vp);A=d(function(){return function(){try{q(f)&&yT(lw,1727,new pl(function(){return new W(null,2,5,Y,["Pre-handler event: %s",
O],null)}),-1474159948);var U=q(e)?function(){try{if(Ff(N)&&jS(new qk(null,new p(null,11,[Jv,null,rr,null,Bt,null,$w,null,bp,null,vp,null,dB,null,Ws,null,lu,null,fu,null,Gt,null],null),null),N)){var wa=null!=N&&(N.Si&64||l===N.va)?gh(hk,N):N,xa=B.Li(wa,rr),Ra=B.Li(wa,Gt),ka=B.Li(wa,$w),oa=B.Li(wa,Ws),Ca=B.Li(wa,lu),ua=B.Li(wa,Bt),Ba=B.Li(wa,vp),Ua=B.Li(wa,Jv);var ac=xa instanceof QP&&Nf(Ra)&&ka instanceof Bh&&oa instanceof Bh&&Ff(Ca)&&"string"===typeof ua&&!QB(ua)&&null==ET(Ba)&&(null==Ua||Nf(Ua))}else ac=
!1;var yb=ac?null:NR}catch(ec){if(ec instanceof Error)yb=ec;else throw ec;}return null==yb?N:OR(1730,"(server-event-msg? event-msg)",N,yb)}():function(){try{if(Ff(N)&&jS(new qk(null,new p(null,6,[rr,null,Zn,null,vp,null,dB,null,fu,null,Gt,null],null),null),N)){var wa=null!=N&&(N.Si&64||l===N.va)?gh(hk,N):N,xa=B.Li(wa,rr),Ra=B.Li(wa,Gt),ka=B.Li(wa,Zn),oa=B.Li(wa,vp);var Ca=xa instanceof QP&&Nf(Ra)&&ka instanceof Bh&&null==ET(oa)}else Ca=!1;var ua=Ca?null:NR}catch(Ba){if(Ba instanceof Error)ua=Ba;else throw Ba;
}return null==ua?N:OR(1731,"(client-event-msg? event-msg)",N,ua)}();return b.Mi?b.Mi(U):b.call(null,U)}catch(wa){var ea=wa;try{return q(h)?h.Li?h.Li(ea,N):h.call(null,ea,N):yT(rp,1736,new pl(function(){return new W(null,3,5,Y,[ea,"Chsk router `event-msg-handler` error: %s",O],null)}),712847101)}catch(xa){var va=xa;return yT(rp,1737,new pl(function(){return new W(null,3,5,Y,[va,"Chsk router `error-handler` error: %s",O],null)}),1039885376)}}}}());w[11]=A;w[2]=null;w[1]=2;return xn}return 10===A?(w[1]=
q(w[2])?14:15,xn):8===A?(A=w[10],G=l===A.va,w[1]=q(A.Si&64||G)?11:12,xn):null}return function(){function w(I){for(;;){a:try{for(;;){var F=u(I);if(!S(F,xn)){var N=F;break a}}}catch(O){N=O;I[2]=N;if(E(I[4]))I[1]=H(I[4]);else throw N;N=xn}if(!S(N,xn))return N}}function A(){var I=[null,null,null,null,null,null,null,null,null,null,null,null];I[0]=G;I[1]=1;return I}var G=null;G=function(I){switch(arguments.length){case 0:return A.call(this);case 1:return w.call(this,I)}throw Error("Invalid arity: "+arguments.length);
};G.Ui=A;G.Mi=w;return G}()}(),r=function(){var u=n();u[6]=m;return u}();return dQ(r)});return function(){return cP(k)}}function gU(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;d=2<b.length?new De(b.slice(2),0,null):null;b=arguments[0];c=arguments[1];d=P(d,0,null);d=null!=d&&(d.Si&64||l===d.va)?gh(hk,d):d;B.Li(d,zu);B.Li(d,vt);return fU(b,c,d)};var hU={},iU={},jU=[];function kU(a,b){var c=iU[a];if(void 0!==c)return c;try{jU.push(a);var d=hU[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};hU[a]=d}if(e){delete shadow$provide[a];try{e.call(d,ma,kU,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),h;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{jU.pop()}return d.exports}kU.cache={};kU.resolve=function(a){return a};var lU=kU(5,{});Ha("React",lU);var mU=kU(14,{});lU.DOM=mU;Ha("ReactDOM",mU);var nU=Hh(V);function oU(a){if(a instanceof C||"string"===typeof a||a instanceof z){var b=B.Li(y(nU),a);if(q(b))return b;if("string"===typeof a)b=a;else{b=Ig(a).split("-");var c=E(b);b=H(c);c=J(c);b=Bf(c)||D.Li("aria",b)||D.Li("data",b)?a:Hg.Mi(KB(pf.Li(Lh.Li(MB,c),b)))}nU.Jc(null,Q.Ni(nU.ub(null),a,b));return b}return a}var pU=function pU(a){return Ff(a)?(a=Vd(cg(function(c,d,e){return $g.Ni(c,oU(d),e)},Td(V),a)),Ff(eq.Mi(a))?ii.Ni(a,eq,pU):a):a};
function qU(a){return Hf(a)&&P(a,0,null)instanceof C};function rU(a){return"string"===typeof a?a:a instanceof C?Ig(a):a}function sU(a){return zg(a)&&H(a)instanceof C}function tU(a){return null==a?null:sU(a)?new W(null,1,5,Y,[a],null):zg(a)?H(a)instanceof z?new W(null,1,5,Y,[a],null):Lh.Li(rU,a):a instanceof z?new W(null,1,5,Y,[a],null):"string"===typeof a?new W(null,1,5,Y,[a],null):a instanceof C?new W(null,1,5,Y,[rU(a)],null):(Df(a)||Ef(a))&&rh(function(b){return b instanceof C||"string"===typeof b},a)?bi.Li(rU,a):Df(a)||Ef(a)?bi.Li(rU,a):a}
function uU(a){return q(Cy.Mi(a))?ii.Ni(a,Cy,tU):a}function vU(a){return q(a)?JB(a,/^[.#]/,""):null}
function wU(a){var b=Qk(/[#.]?[^#.]+/,Ig(a));if(Bf(b))throw dm(["Can't match CSS tag: ",t.Mi(a)].join(""),new p(null,1,[Yu,a],null));b=Pf(new qk(null,new p(null,2,["#",null,".",null],null),null),nf(b))?new W(null,2,5,Y,["div",b],null):new W(null,2,5,Y,[H(b),Fe(b)],null);a=P(b,0,null);b=P(b,1,null);return new W(null,3,5,Y,[a,vU(sh(function(c){return D.Li("#",H(c))?c:null},b)),ai.Ni(qf,zh(function(c){return D.Li(".",H(c))?vU(c):null}),b)],null)}
var xU=function xU(a){null==a?a=Ge:"string"===typeof a?a=new rf(null,a,null,1,null):qU(a)?a=new rf(null,a,null,1,null):zg(a)&&H(a)instanceof z?a=new rf(null,a,null,1,null):zg(a)||(Ef(a)&&D.Li(K(a),1)&&Ef(H(a))&&"string"!==typeof H(a)&&!qU(H(a))?(a=H(a),a=xU.Mi?xU.Mi(a):xU.call(null,a)):a=Ef(a)?a:new rf(null,a,null,1,null));return $h(vc,a)};function yU(a){return v.Ni(function(b,c){b.push(zU.Mi?zU.Mi(c):zU.call(null,c));return b},[],a)}
function zU(a){if(Hf(a))if(qU(a)){a=E(a);var b=H(a);a=J(a);if(!(b instanceof C||b instanceof z||"string"===typeof b))throw dm([t.Mi(b)," is not a valid element name."].join(""),new p(null,2,[Yu,b,ku,a],null));var c=wU(b);b=P(c,0,null);var d=P(c,1,null);c=P(c,2,null);d=Bf(d)?V:Q.Ni(V,dB,d);c=Bf(c)?d:Q.Ni(d,Cy,c);var e=H(a);Ff(e)?(d=Y,e=Lh.Li(uU,M([c,e])),c=Xh(Cy,M([e])),E(e)?(e=v.Ni(ai,V,e),c=Bf(c)?e:Q.Ni(e,Cy,Yf(c))):c=null,a=new W(null,3,5,d,[b,c,xU(J(a))],null)):a=new W(null,3,5,Y,[b,uU(c),xU(a)],
null);b=a;a=P(b,0,null);d=P(b,1,null);b=P(b,2,null);d=zl(IH(pU(d)));q(d)?(c=d.className,c=wc(c)?LB(" ",c):c,QB(c)?delete d.className:d.className=c):d=null;b=yU(b);a=React.createElement.apply(null,[a,d].concat(b))}else a=yU(a);else a=Lf(a)?yU(a):a;return a};function AU(a,b,c){return c?React.createElement.apply(null,[a,b].concat(c)):React.createElement(a,b)};function BU(a,b){return ai.Ni(qf,zh(function(c){return B.Li(c,a)}),b)}function CU(a,b){return ai.Ni(qf,wh.Li(Lh.Mi(function(c){return Ah(function(d){return B.Li(c,d)},a)}),vl),b)}function DU(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=2<b.length?new De(b.slice(2),0,null):null;return EU(arguments[0],arguments[1],b)}function EU(a,b,c){return v.Ni(function(d,e){return hh(e,d,c)},a,b)};function FU(a){return ib(a.state,":rum/state")}function GU(a,b){b=E(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e),h=P(f,0,null);f=P(f,1,null);null!=f&&(h=Ig(h),f=zl(f),a[h]=f);e+=1}else if(b=E(b))If(b)?(d=ae(b),b=be(b),c=d,d=K(d)):(c=H(b),h=P(c,0,null),f=P(c,1,null),null!=f&&(c=Ig(h),d=zl(f),a[c]=d),b=J(b),c=null,d=0),e=0;else break}
function HU(a,b,c){function d(F){this.state={":rum/state":Hh(EU(Q.Ni(ib(F,":rum/initial-state"),vo,this),e,M([F])))};return React.Component.call(this,F)}tk(Xh(cj,M([b])));var e=BU(Cs,b),f=CU(new W(null,2,5,Y,[gy,Hv],null),b),h=BU(Dq,b),k=v.Ni(function(F,N){return N.Mi?N.Mi(F):N.call(null,F)},a,h),m=CU(new W(null,2,5,Y,[Bz,ds],null),b),n=BU(wv,b),r=BU(Ez,b),u=CU(new W(null,2,5,Y,[Ur,Hv],null),b),w=CU(new W(null,2,5,Y,[Vm,ds],null),b),A=BU(zv,b),G=BU(as,b),I=BU(Fn,b);a=v.Li(lk,BU(xm,b));b=v.Li(lk,BU(ty,
b));Ia(d,React.Component);h=ib(d,"prototype");Bf(f)||jb(h,"componentWillMount",function(){return he(FU(this),DU(y(FU(this)),f))});Bf(m)||jb(h,"componentDidMount",function(){return he(FU(this),DU(y(FU(this)),m))});jb(h,"componentWillReceiveProps",function(F){var N=y(FU(this));F=lk.Pi(M([N,ib(F,":rum/initial-state")]));F=v.Ni(function(O,U){return U.Li?U.Li(N,O):U.call(null,N,O)},F,n);return this.setState({":rum/state":Hh(F)})});Bf(r)||jb(h,"shouldComponentUpdate",function(F,N){var O=y(FU(this)),U=y(ib(N,
":rum/state"));F=sh(function(ea){return ea.Li?ea.Li(O,U):ea.call(null,O,U)},r);return q(F)?F:!1});Bf(u)||jb(h,"componentWillUpdate",function(F,N){F=ib(N,":rum/state");return he(F,DU(y(F),u))});jb(h,"render",function(){var F=FU(this),N=y(F);var O=k.Mi?k.Mi(N):k.call(null,N);N=P(O,0,null);O=P(O,1,null);he(F,O);return N});Bf(w)||jb(h,"componentDidUpdate",function(){return he(FU(this),DU(y(FU(this)),w))});Bf(A)||jb(h,"componentDidCatch",function(F,N){he(FU(this),EU(y(FU(this)),A,M([F,new p(null,1,[Ay,
ib(N,"componentStack")],null)])));return this.forceUpdate()});jb(h,"componentWillUnmount",function(){Bf(G)||he(FU(this),DU(y(FU(this)),G));this[":rum/unmounted?"]=!0});Bf(I)||jb(h,"getChildContext",function(){var F=y(FU(this));return zl(gg(Lh.Mi(function(N){return N.Mi?N.Mi(F):N.call(null,F)}),lk,V,I))});GU(h,a);d.displayName=c;GU(d,b);return d}
function IU(a){function b(){var c=a.Ui?a.Ui():a.call(null);return c.apply(c,arguments)}b.je=l;b.da=function(){return yf(a.Ui?a.Ui():a.call(null))};return b}function JU(a,b,c){var d=KU;return IU(Ma(function(){return d.Ni?d.Ni(a,b,c):d.call(null,a,b,c)}))}
function LU(a,b,c){var d=HU(a,b,c),e=H(BU(kz,b));return xf(null!=e?function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new De(n,0,null)}return h.call(this,m)}function h(k){k={":rum/initial-state":new p(null,1,[Uv,k],null),key:gh(e,k)};return React.createElement(d,k)}f.$=0;f.ca=function(k){k=E(k);return h(k)};f.Pi=h;return f}():function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-
0);m<n.length;)n[m]=arguments[m+0],++m;m=new De(n,0,null)}return h.call(this,m)}function h(k){return React.createElement(d,{":rum/initial-state":new p(null,1,[Uv,k],null)})}f.$=0;f.ca=function(k){k=E(k);return h(k)};f.Pi=h;return f}(),new p(null,1,[Is,d],null))}function MU(a,b){return D.Li(a[":rum/args"],b[":rum/args"])}function NU(a){var b=React.memo;return null==b?a:b.Li?b.Li(a,MU):b.call(null,a,MU)}
function KU(a,b,c){if(D.Li(b,new W(null,1,5,Y,[OU],null))){var d=function(f){return gh(a,f[":rum/args"])};d.displayName=c;var e=NU(d);b=function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new De(n,0,null)}return h.call(this,m)}function h(k){return React.createElement(e,{":rum/args":k})}f.$=0;f.ca=function(k){k=E(k);return h(k)};f.Pi=h;return f}();return xf(b,new p(null,1,[Is,e],null))}return Bf(b)?(d=function(f){return gh(a,
f[":rum/args"])},d.displayName=c,b=function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new De(n,0,null)}return h.call(this,m)}function h(k){return React.createElement(d,{":rum/args":k})}f.$=0;f.ca=function(k){k=E(k);return h(k)};f.Pi=h;return f}(),xf(b,new p(null,1,[Is,d],null))):LU(function(f){return new W(null,2,5,Y,[gh(a,Uv.Mi(f)),f],null)},b,c)}
function PU(){var a=QU();ReactDOM.render(a,document.getElementById("app"));return null}var OU=new p(null,1,[Ez,function(a,b){return lh.Li(Uv.Mi(a),Uv.Mi(b))}],null);var yV=kU(15,{});var RU=kU(16,{});var SU=kU(69,{});var TU=kU(70,{});var UU=kU(71,{});kU(72,{});var zV=function(a,b,c){var d=P(c,0,null),e=null!=d&&(d.Si&64||l===d.va)?gh(hk,d):d,f=B.Li(e,mB),h=B.Ni(e,nx,NS.Pi(M([es,20]))),k=B.Ni(e,Bt,function(){var ka=$r.Mi(e);return q(ka)?ka:MS()}()),m=B.Li(e,NA),n=B.Ni(e,Dy,kv),r=B.Li(e,Xt),u=B.Ni(e,aq,br),w=B.Li(e,Cn),A=B.Li(e,Om),G=B.Li(e,Tq);d=B.Ni(e,uB,mP(2048));var I=B.Ni(e,rz,$R),F=B.Ni(e,Zv,!0);null!=P(c,1,null)&&yT(fz,1594,new pl(function(){return new W(null,1,5,Y,["`make-channel-socket-client!` fn signature CHANGED with Sente v0.10.0."],null)}),
-1503948976);Pf(e,Fm)&&yT(fz,1595,new pl(function(){return new W(null,1,5,Y,[":lp-timeout opt has CHANGED; please use :lp-timout-ms."],null)}),-1145047839);("string"!==typeof b||QB(b))&&yT(fz,1598,new pl(function(){return new W(null,1,5,Y,["WARNING: no CSRF token provided. Connections will FAIL if server-side CSRF check is enabled (as it is by default)."],null)}),1231895819);var N=KT(n);n=function(){if(q(aS)){var ka=aS.location;var oa=q(ka)?new p(null,7,[Xp,ka.href,NA,ka.protocol,cu,ka.hostname,Tq,
ka.host,Lp,ka.pathname,Hq,ka.search,aA,ka.hash],null):null}else oa=null;ka=q(a)?a:Lp.Mi(oa);var Ca=tz.Mi(e);if(q(Ca))return new W(null,2,5,Y,[Ca.Ni?Ca.Ni(ka,oa,mq):Ca.call(null,ka,oa,mq),Ca.Ni?Ca.Ni(ka,oa,oz):Ca.call(null,ka,oa,oz)],null);q(m)?Ca=m:(Ca=NA.Mi(oa),Ca=q(Ca)?Ca:Gn);oa=q(G)?q(w)?[t.Mi(G),":",t.Mi(w)].join(""):G:q(w)?[t.Mi(cu.Mi(oa)),":",t.Mi(w)].join(""):Tq.Mi(oa);return new W(null,2,5,Y,[eU(Ca,oa,ka,mq),eU(Ca,oa,ka,oz)],null)}();c=P(n,0,null);var O=P(n,1,null);n=new p(null,3,[Kr,iQ(mP(128),
null),Zn,iQ(mP(10),null),Zq,function(){var ka=mP(512);return q(F)?hQ(ka,Lh.Mi(function(oa){return new W(null,2,5,Y,[tA,oa],null)})):iQ(ka,null)}()],null);h=new p(null,6,[Bt,k,Tw,n,Xt,r,Om,A,Dy,N,nx,h],null);var U=lk.Pi(M([h,new p(null,2,[my,c,rz,I],null)])),ea=lk.Pi(M([h,new p(null,3,[my,O,mB,f,rz,I],null)])),va=new p(null,2,[Kw,U,Jn,ea],null);f=LT(function(){var ka=u instanceof C?u.ma:null;switch(ka){case "ws":return $T(U,b);case "ajax":return cU(ea,b);case "auto":ka=lk.Pi(M([new p(null,2,[zy,Ch(new p(null,
4,[aq,br,$x,!1,pt,!1,Sr,b],null)),fq,Ch(null)],null),va]));var oa=R.Pi(ka,Kw,M([Jn,zy,fq]));oa=Gf(ka)?ai.Li(V,oa):oa;return new dU(Kw.Mi(ka),Jn.Mi(ka),zy.Mi(ka),fq.Mi(ka),null,mh(oa),null);default:throw Error(["No matching clause: ",t.Mi(ka)].join(""));}}());if(q(f)){var wa=zy.Mi(f),xa=Kr.Mi(n),Ra=xh(OT,f);d=sQ(new W(null,3,5,Y,[Kr.Mi(n),Zn.Mi(n),Zq.Mi(n)],null),d);I=hQ(1,Lh.Mi(function(ka){var oa=ET(ka);ka=q(oa)?new W(null,2,5,Y,[bz,ka],null):ka;oa=P(ka,0,null);var Ca=P(ka,1,null);return new p(null,
6,[rr,xa,Gt,Ra,Zn,wa,vp,ka,dB,oa,fu,Ca],null)}));pQ(d,I);return new p(null,4,[tt,f,rr,I,Gt,Ra,Zn,zy.Mi(f)],null)}return yT(fz,1700,new pl(function(){return new W(null,1,5,Y,["Failed to create channel socket"],null)}),-942736873)}("/chsk",null,M([new p(null,1,[aq,br],null)])),AV=null!=zV&&(zV.Si&64||l===zV.va)?gh(hk,zV):zV;B.Li(AV,tt);var BV=B.Li(AV,rr);B.Li(AV,Gt);B.Li(AV,Zn);
var YU=Ch(function(){return null}),ZU=JU(function(){return AU("div",{className:"w-full"},null)},new W(null,1,5,Y,[new p(null,1,[Bz,function(a){var b=H(Uv.Mi(a));b=null!=b&&(b.Si&64||l===b.va)?gh(hk,b):b;b=B.Li(b,oq);UU(ReactDOM.findDOMNode(vo.Mi(a)),{value:b,mode:"clojure",lineNumbers:!1});return a}],null)],null),"literate.app/Code"),$U=JU(function(){return AU("div",null,null)},new W(null,1,5,Y,[new p(null,1,[Bz,function(a){var b=H(Uv.Mi(a));b=null!=b&&(b.Si&64||l===b.va)?gh(hk,b):b;b=B.Li(b,UA);
SU(ReactDOM.findDOMNode(vo.Mi(a)),zl(b));return a}],null)],null),"literate.app/VegaLite"),aV=JU(function(a){return AU("div",{dangerouslySetInnerHTML:{__html:RU(Uy.Mi(a))},className:"flex-1 bg-white px-3 py-1 font-thin"},[])},null,"literate.app/Markdown"),bV=JU(function(a){return AU("div",{dangerouslySetInnerHTML:{__html:At.Mi(a)},className:"flex-1"},[])},null,"literate.app/Html"),CV=JU(function(a){return AU("div",{dangerouslySetInnerHTML:{__html:yV.toSvg(WU.Mi(a),XU.Li(a,30))}},[])},null,"literate.app/Identicon"),
cV=JU(function(a){a=ei(a,new W(null,2,5,Y,[Tu,Pw],null));return AU("div",{style:{height:q(a)?a:"320px"},className:"flex-1"},[])},new W(null,1,5,Y,[new p(null,2,[Bz,function(a){var b=Uv.Mi(a);b=P(b,0,null);b=null!=b&&(b.Si&64||l===b.va)?gh(hk,b):b;var c=B.Li(b,zt),d=B.Li(b,wm);b=B.Li(b,uq);c=TU.map(ReactDOM.findDOMNode(vo.Mi(a))).setView(zl(c),d);d=TU.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'\x26copy; \x3ca href\x3d"https://www.openstreetmap.org/copyright"\x3eOpenStreetMap\x3c/a\x3e contributors'});
b=q(b)?TU.geoJSON(zl(b)):null;d.addTo(c);q(b)&&b.addTo(c);return Q.Pi(a,Wn,c,M([Bw,d,vw,b]))},Vm,function(a){var b=null!=a&&(a.Si&64||l===a.va)?gh(hk,a):a,c=B.Li(b,Wn),d=B.Li(b,vw);b=B.Li(b,Uv);b=H(b);b=null!=b&&(b.Si&64||l===b.va)?gh(hk,b):b;B.Li(b,zt);B.Li(b,wm);b=B.Li(b,uq);b=q(b)?TU.geoJSON(zl(b)):null;q(d)&&c.removeLayer(d);q(b)&&b.addTo(c);return Q.Ni(a,vw,b)}],null)],null),"literate.app/Leaflet"),eV=JU(function(a){return AU("div",{className:"flex flex-1 space-x-2"},[Ic(function(){return function d(c){return new Jg(null,
function(){for(;;){var e=E(c);if(e){if(If(e)){var f=ae(e),h=K(f),k=Ng(h);a:for(var m=0;;)if(m<h){var n=x(f,m);n=AU("div",{key:jB.Mi(n),className:"flex-1"},[zU(dV.Mi?dV.Mi(n):dV.call(null,n))]);k.add(n);m+=1}else{f=!0;break a}return f?Qg(Sg(k),d(be(e))):Qg(Sg(k),null)}k=H(e);return hf(AU("div",{key:jB.Mi(k),className:"flex-1"},[zU(dV.Mi?dV.Mi(k):dV.call(null,k))]),d(Fe(e)))}return null}},null,null)}(Np.Mi(a))}())])},null,"literate.app/Row"),fV=JU(function(a){return AU("div",{className:"flex flex-col flex-1 space-y-2"},
[Ic(function(){return function d(c){return new Jg(null,function(){for(;;){var e=E(c);if(e){if(If(e)){var f=ae(e),h=K(f),k=Ng(h);a:for(var m=0;;)if(m<h){var n=x(f,m);n=AU("div",{key:jB.Mi(n),className:"flex-1"},[zU(dV.Mi?dV.Mi(n):dV.call(null,n))]);k.add(n);m+=1}else{f=!0;break a}return f?Qg(Sg(k),d(be(e))):Qg(Sg(k),null)}k=H(e);return hf(AU("div",{key:jB.Mi(k),className:"flex-1"},[zU(dV.Mi?dV.Mi(k):dV.call(null,k))]),d(Fe(e)))}return null}},null,null)}(Np.Mi(a))}())])},null,"literate.app/Column"),
dV=JU(function(a){var b=null!=a&&(a.Si&64||l===a.va)?gh(hk,a):a,c=B.Li(b,jB),d=B.Li(b,Js);b=function(){switch(d instanceof C?d.ma:null){case "widget.type/row":return eV(a);case "widget.type/column":return fV(a);case "widget.type/vega-lite":return $U(a);case "widget.type/code":return ZU(a);case "widget.type/markdown":return aV(a);case "widget.type/hiccup":return bV(a);case "widget.type/html":return bV(a);case "widget.type/leaflet":return cV(a);case "widget.type/identicon":return CV(a);default:return new W(null,
2,5,Y,[Qz,new W(null,3,5,Y,[nq,"Unknown Widget type ",new W(null,2,5,Y,[tq,t.Mi(d)],null)],null)],null)}}();return React.cloneElement(b,{key:c},null)},null,"literate.app/Widget"),QU=JU(function(){return AU("div",{className:"flex flex-col"},[AU("span",{style:{fontFamily:"Cinzel"},className:"text-lg text-gray-700 py-6"},["Literate"]),Ic(function(){return function c(b){return new Jg(null,function(){for(;;){var d=E(b);if(d){var e=d;if(If(e)){var f=ae(e),h=K(f),k=Ng(h);return function(){for(var w=0;;)if(w<
h){var A=x(f,w),G=null!=A&&(A.Si&64||l===A.va)?gh(hk,A):A,I=G,F=B.Li(G,Xr);Rg(k,AU("div",{key:F,className:"flex mb-6 shadow"},[AU("div",{className:"bg-gray-200 px-2 py-1"},[AU("div",{onClick:function(N,O,U,ea,va){return function(){return TO(va)}}(w,A,G,I,F,f,h,k,e,d),className:"rounded-full hover:bg-gray-400 h-5 w-5 flex items-center justify-center"},[AU("i",{className:"zmdi zmdi-close text-gray-600"},null)])]),dV(I)]));w+=1}else return!0}()?Qg(Sg(k),c(be(e))):Qg(Sg(k),null)}var m=H(e),n=null!=m&&
(m.Si&64||l===m.va)?gh(hk,m):m,r=n,u=B.Li(n,Xr);return hf(AU("div",{key:u,className:"flex mb-6 shadow"},[AU("div",{className:"bg-gray-200 px-2 py-1"},[AU("div",{onClick:function(w,A,G,I){return function(){return TO(I)}}(m,n,r,u,e,d),className:"rounded-full hover:bg-gray-400 h-5 w-5 flex items-center justify-center"},[AU("i",{className:"zmdi zmdi-close text-gray-600"},null)])]),dV(r)]),c(Fe(e)))}return null}},null,null)}(UO())}()),AU("div",{className:"fixed bottom-0 right-0 mr-4 mb-4"},[AU("div",{onClick:function(){return rO(new W(null,
1,5,Y,[new p(null,3,[jB,t.Mi(bm()),Js,Mu,oq,function(){var a=new dc,b=kc,c=jc;kc=!0;jc=function(d){return a.append(d)};try{LD()}finally{jc=c,kc=b}return t.Mi(a)}()],null)],null))},className:"rounded-full h-8 w-8 flex items-center justify-center text-2xl hover:bg-green-200"},[AU("i",{className:"zmdi zmdi-bug text-green-500"},null)])])])},null,"literate.app/App");
function gV(a){a=null!=a&&(a.Si&64||l===a.va)?gh(hk,a):a;var b=B.Li(a,fu),c=P(b,0,null);b=P(b,1,null);console.group("Sente");console.log(nk(a,new W(null,2,5,Y,[dB,fu],null)));console.groupEnd();return D.Li(oA,c)?rO(b):null}function hV(){Dh(YU,gU(BV,gV));sO(function(){console.log("Will re-render...");return PU()});return PU()}Ha("literate.app.init",hV);try{hV()}catch(a){throw console.error("An error occurred when calling (literate.app/init)"),a;};
}).call(this);