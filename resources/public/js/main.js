var shadow$provide = {};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};
$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&($jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+e,e=
$jscomp.propertyToPolyfillSymbol[e],$jscomp.defineProperty(d,e,{configurable:!0,writable:!0,value:b})))};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};
$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};
$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};
$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};
$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var c=a.next();$jscomp.generator.ensureIteratorResultIsObject_(c);if(c.done)this.yieldResult=c.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(c.value,b)};$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};
$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(c){return{value:c,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var d=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(d);if(!d.done)return this.context_.stop_(),d;var e=d.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&a.prototype&&$jscomp.setPrototypeOf(b,a.prototype);return b};
$jscomp.asyncExecutePromiseGenerator=function(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
(function(){
shadow$provide[0]=function(Ha,B,rb,E){var g=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;rb.exports=function(){try{if(!Object.assign)return!1;var F=new String("abc");F[5]="de";if("5"===Object.getOwnPropertyNames(F)[0])return!1;var O={};for(F=0;10>F;F++)O["_"+String.fromCharCode(F)]=F;if("0123456789"!==Object.getOwnPropertyNames(O).map(function(y){return O[y]}).join(""))return!1;var x={};"abcdefghijklmnopqrst".split("").forEach(function(y){x[y]=
y});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},x)).join("")?!1:!0}catch(y){return!1}}()?Object.assign:function(F,O){if(null===F||void 0===F)throw new TypeError("Object.assign cannot be called with null or undefined");var x=Object(F);for(var y,q=1;q<arguments.length;q++){var l=Object(arguments[q]);for(var h in l)m.call(l,h)&&(x[h]=l[h]);if(g){y=g(l);for(var c=0;c<y.length;c++)n.call(l,y[c])&&(x[y[c]]=l[y[c]])}}return x}};
shadow$provide[1]=function(Ha,B,rb,E){function g(Z){if(null===Z||"object"!==typeof Z)return null;Z=J&&Z[J]||Z["@@iterator"];return"function"===typeof Z?Z:null}function m(Z){for(var Q="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+Z,r=1;r<arguments.length;r++)Q+="\x26args[]\x3d"+encodeURIComponent(arguments[r]);return"Minified React error #"+Z+"; visit "+Q+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(Z,Q,r){this.props=
Z;this.context=Q;this.refs=R;this.updater=r||K}function F(){}function O(Z,Q,r){this.props=Z;this.context=Q;this.refs=R;this.updater=r||K}function x(Z,Q,r){var N,ea={},aa=null,va=null;if(null!=Q)for(N in void 0!==Q.ref&&(va=Q.ref),void 0!==Q.key&&(aa=""+Q.key),Q)ka.call(Q,N)&&!ba.hasOwnProperty(N)&&(ea[N]=Q[N]);var ta=arguments.length-2;if(1===ta)ea.children=r;else if(1<ta){for(var Da=Array(ta),$a=0;$a<ta;$a++)Da[$a]=arguments[$a+2];ea.children=Da}if(Z&&Z.defaultProps)for(N in ta=Z.defaultProps,ta)void 0===
ea[N]&&(ea[N]=ta[N]);return{$$typeof:A,type:Z,key:aa,ref:va,props:ea,_owner:U.current}}function y(Z,Q){return{$$typeof:A,type:Z.type,key:Q,ref:Z.ref,props:Z.props,_owner:Z._owner}}function q(Z){return"object"===typeof Z&&null!==Z&&Z.$$typeof===A}function l(Z){var Q={"\x3d":"\x3d0",":":"\x3d2"};return"$"+Z.replace(/[=:]/g,function(r){return Q[r]})}function h(Z,Q){return"object"===typeof Z&&null!==Z&&null!=Z.key?l(""+Z.key):Q.toString(36)}function c(Z,Q,r,N,ea){var aa=typeof Z;if("undefined"===aa||
"boolean"===aa)Z=null;var va=!1;if(null===Z)va=!0;else switch(aa){case "string":case "number":va=!0;break;case "object":switch(Z.$$typeof){case A:case C:va=!0}}if(va)return va=Z,ea=ea(va),Z=""===N?"."+h(va,0):N,Array.isArray(ea)?(r="",null!=Z&&(r=Z.replace(da,"$\x26/")+"/"),c(ea,Q,r,"",function($a){return $a})):null!=ea&&(q(ea)&&(ea=y(ea,r+(!ea.key||va&&va.key===ea.key?"":(""+ea.key).replace(da,"$\x26/")+"/")+Z)),Q.push(ea)),1;va=0;N=""===N?".":N+":";if(Array.isArray(Z))for(var ta=0;ta<Z.length;ta++){aa=
Z[ta];var Da=N+h(aa,ta);va+=c(aa,Q,r,Da,ea)}else if(Da=g(Z),"function"===typeof Da)for(Z=Da.call(Z),ta=0;!(aa=Z.next()).done;)aa=aa.value,Da=N+h(aa,ta++),va+=c(aa,Q,r,Da,ea);else if("object"===aa)throw Q=""+Z,Error(m(31,"[object Object]"===Q?"object with keys {"+Object.keys(Z).join(", ")+"}":Q));return va}function e(Z,Q,r){if(null==Z)return Z;var N=[],ea=0;c(Z,N,"","",function(aa){return Q.call(r,aa,ea++)});return N}function a(Z){if(-1===Z._status){var Q=Z._result;Q=Q();Z._status=0;Z._result=Q;Q.then(function(r){0===
Z._status&&(r=r.default,Z._status=1,Z._result=r)},function(r){0===Z._status&&(Z._status=2,Z._result=r)})}if(1===Z._status)return Z._result;throw Z._result;}function f(){var Z=ja.current;if(null===Z)throw Error(m(321));return Z}var p=B(0),A=60103,C=60106;E.Fragment=60107;E.StrictMode=60108;E.Profiler=60114;var D=60109,P=60110,L=60112;E.Suspense=60113;var G=60115,z=60116;"function"===typeof Symbol&&Symbol.for&&(Ha=Symbol.for,A=Ha("react.element"),C=Ha("react.portal"),E.Fragment=Ha("react.fragment"),
E.StrictMode=Ha("react.strict_mode"),E.Profiler=Ha("react.profiler"),D=Ha("react.provider"),P=Ha("react.context"),L=Ha("react.forward_ref"),E.Suspense=Ha("react.suspense"),G=Ha("react.memo"),z=Ha("react.lazy"));var J="function"===typeof Symbol&&Symbol.iterator,K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R={};n.prototype.isReactComponent={};n.prototype.setState=function(Z,Q){if("object"!==typeof Z&&"function"!==typeof Z&&
null!=Z)throw Error(m(85));this.updater.enqueueSetState(this,Z,Q,"setState")};n.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};F.prototype=n.prototype;Ha=O.prototype=new F;Ha.constructor=O;p(Ha,n.prototype);Ha.isPureReactComponent=!0;var U={current:null},ka=Object.prototype.hasOwnProperty,ba={key:!0,ref:!0,__self:!0,__source:!0},da=/\/+/g,ja={current:null};Ha={ReactCurrentDispatcher:ja,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:U,IsSomeRendererActing:{current:!1},
assign:p};E.Children={map:e,forEach:function(Z,Q,r){e(Z,function(){Q.apply(this,arguments)},r)},count:function(Z){var Q=0;e(Z,function(){Q++});return Q},toArray:function(Z){return e(Z,function(Q){return Q})||[]},only:function(Z){if(!q(Z))throw Error(m(143));return Z}};E.Component=n;E.PureComponent=O;E.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ha;E.cloneElement=function(Z,Q,r){if(null===Z||void 0===Z)throw Error(m(267,Z));var N=p({},Z.props),ea=Z.key,aa=Z.ref,va=Z._owner;if(null!=Q){void 0!==
Q.ref&&(aa=Q.ref,va=U.current);void 0!==Q.key&&(ea=""+Q.key);if(Z.type&&Z.type.defaultProps)var ta=Z.type.defaultProps;for(Da in Q)ka.call(Q,Da)&&!ba.hasOwnProperty(Da)&&(N[Da]=void 0===Q[Da]&&void 0!==ta?ta[Da]:Q[Da])}var Da=arguments.length-2;if(1===Da)N.children=r;else if(1<Da){ta=Array(Da);for(var $a=0;$a<Da;$a++)ta[$a]=arguments[$a+2];N.children=ta}return{$$typeof:A,type:Z.type,key:ea,ref:aa,props:N,_owner:va}};E.createContext=function(Z,Q){void 0===Q&&(Q=null);Z={$$typeof:P,_calculateChangedBits:Q,
_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null};Z.Provider={$$typeof:D,_context:Z};return Z.Consumer=Z};E.createElement=x;E.createFactory=function(Z){var Q=x.bind(null,Z);Q.type=Z;return Q};E.createRef=function(){return{current:null}};E.forwardRef=function(Z){return{$$typeof:L,render:Z}};E.isValidElement=q;E.lazy=function(Z){return{$$typeof:z,_payload:{_status:-1,_result:Z},_init:a}};E.memo=function(Z,Q){return{$$typeof:G,type:Z,compare:void 0===Q?null:Q}};E.useCallback=
function(Z,Q){return f().useCallback(Z,Q)};E.useContext=function(Z,Q){return f().useContext(Z,Q)};E.useDebugValue=function(){};E.useEffect=function(Z,Q){return f().useEffect(Z,Q)};E.useImperativeHandle=function(Z,Q,r){return f().useImperativeHandle(Z,Q,r)};E.useLayoutEffect=function(Z,Q){return f().useLayoutEffect(Z,Q)};E.useMemo=function(Z,Q){return f().useMemo(Z,Q)};E.useReducer=function(Z,Q,r){return f().useReducer(Z,Q,r)};E.useRef=function(Z){return f().useRef(Z)};E.useState=function(Z){return f().useState(Z)};
E.version="17.0.1"};
shadow$provide[3]=function(Ha,B,rb,E){rb.exports=B(1)};
shadow$provide[4]=function(Ha,B,rb,E){function g(r,N){var ea=r.length;r.push(N);a:for(;;){var aa=ea-1>>>1,va=r[aa];if(void 0!==va&&0<F(va,N))r[aa]=N,r[ea]=va,ea=aa;else break a}}function m(r){r=r[0];return void 0===r?null:r}function n(r){var N=r[0];if(void 0!==N){var ea=r.pop();if(ea!==N){r[0]=ea;var aa=0,va=r.length;a:for(;aa<va;){var ta=2*(aa+1)-1,Da=r[ta],$a=ta+1,kb=r[$a];if(void 0!==Da&&0>F(Da,ea))void 0!==kb&&0>F(kb,Da)?(r[aa]=kb,r[$a]=ea,aa=$a):(r[aa]=Da,r[ta]=ea,aa=ta);else if(void 0!==kb&&
0>F(kb,ea))r[aa]=kb,r[$a]=ea,aa=$a;else break a}}return N}return null}function F(r,N){var ea=r.sortIndex-N.sortIndex;return 0!==ea?ea:r.id-N.id}function O(r){for(var N=m(U);null!==N;){if(null===N.callback)n(U);else if(N.startTime<=r)n(U),N.sortIndex=N.expirationTime,g(R,N);else break;N=m(U)}}function x(r){Q=!1;O(r);if(!Z)if(null!==m(R))Z=!0,f(y);else{var N=m(U);null!==N&&p(x,N.startTime-r)}}function y(r,N){Z=!1;Q&&(Q=!1,A());ja=!0;var ea=da;try{O(N);for(ba=m(R);null!==ba&&(!(ba.expirationTime>N)||
r&&!E.unstable_shouldYield());){var aa=ba.callback;if("function"===typeof aa){ba.callback=null;da=ba.priorityLevel;var va=aa(ba.expirationTime<=N);N=E.unstable_now();"function"===typeof va?ba.callback=va:ba===m(R)&&n(R);O(N)}else n(R);ba=m(R)}if(null!==ba)var ta=!0;else{var Da=m(U);null!==Da&&p(x,Da.startTime-N);ta=!1}return ta}finally{ba=null,da=ea,ja=!1}}if("object"===typeof performance&&"function"===typeof performance.now){var q=performance;E.unstable_now=function(){return q.now()}}else{var l=
Date,h=l.now();E.unstable_now=function(){return l.now()-h}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,e=null,a=function(){if(null!==c)try{var r=E.unstable_now();c(!0,r);c=null}catch(N){throw setTimeout(a,0),N;}};var f=function(r){null!==c?setTimeout(f,0,r):(c=r,setTimeout(a,0))};var p=function(r,N){e=setTimeout(r,N)};var A=function(){clearTimeout(e)};E.unstable_shouldYield=function(){return!1};Ha=E.unstable_forceFrameRate=function(){}}else{var C=window.setTimeout,
D=window.clearTimeout;"undefined"!==typeof console&&(Ha=window.cancelAnimationFrame,"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof Ha&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"));var P=!1,L=null,
G=-1,z=5,J=0;E.unstable_shouldYield=function(){return E.unstable_now()>=J};Ha=function(){};E.unstable_forceFrameRate=function(r){0>r||125<r?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<r?Math.floor(1E3/r):5};B=new MessageChannel;var K=B.port2;B.port1.onmessage=function(){if(null!==L){var r=E.unstable_now();J=r+z;try{L(!0,r)?K.postMessage(null):(P=!1,L=null)}catch(N){throw K.postMessage(null),N;}}else P=!1};f=function(r){L=
r;P||(P=!0,K.postMessage(null))};p=function(r,N){G=C(function(){r(E.unstable_now())},N)};A=function(){D(G);G=-1}}var R=[],U=[],ka=1,ba=null,da=3,ja=!1,Z=!1,Q=!1;E.unstable_IdlePriority=5;E.unstable_ImmediatePriority=1;E.unstable_LowPriority=4;E.unstable_NormalPriority=3;E.unstable_Profiling=null;E.unstable_UserBlockingPriority=2;E.unstable_cancelCallback=function(r){r.callback=null};E.unstable_continueExecution=function(){Z||ja||(Z=!0,f(y))};E.unstable_getCurrentPriorityLevel=function(){return da};
E.unstable_getFirstCallbackNode=function(){return m(R)};E.unstable_next=function(r){switch(da){case 1:case 2:case 3:var N=3;break;default:N=da}var ea=da;da=N;try{return r()}finally{da=ea}};E.unstable_pauseExecution=function(){};E.unstable_requestPaint=Ha;E.unstable_runWithPriority=function(r,N){switch(r){case 1:case 2:case 3:case 4:case 5:break;default:r=3}var ea=da;da=r;try{return N()}finally{da=ea}};E.unstable_scheduleCallback=function(r,N,ea){var aa=E.unstable_now();"object"===typeof ea&&null!==
ea?(ea=ea.delay,ea="number"===typeof ea&&0<ea?aa+ea:aa):ea=aa;switch(r){case 1:var va=-1;break;case 2:va=250;break;case 5:va=1073741823;break;case 4:va=1E4;break;default:va=5E3}va=ea+va;r={id:ka++,callback:N,priorityLevel:r,startTime:ea,expirationTime:va,sortIndex:-1};ea>aa?(r.sortIndex=ea,g(U,r),null===m(R)&&r===m(U)&&(Q?A():Q=!0,p(x,ea-aa))):(r.sortIndex=va,g(R,r),Z||ja||(Z=!0,f(y)));return r};E.unstable_wrapCallback=function(r){var N=da;return function(){var ea=da;da=N;try{return r.apply(this,
arguments)}finally{da=ea}}}};
shadow$provide[6]=function(Ha,B,rb,E){rb.exports=B(4)};
shadow$provide[7]=function(Ha,B,rb,E){function g(v){for(var H="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+v,ha=1;ha<arguments.length;ha++)H+="\x26args[]\x3d"+encodeURIComponent(arguments[ha]);return"Minified React error #"+v+"; visit "+H+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(v,H){n(v,H);n(v+"Capture",H)}function n(v,H){vi[v]=H;for(v=0;v<H.length;v++)ah.add(H[v])}function F(v){if(hj.call(Zj,v))return!0;
if(hj.call(ak,v))return!1;if(bk.test(v))return Zj[v]=!0;ak[v]=!0;return!1}function O(v,H,ha,Qa){if(null!==ha&&0===ha.type)return!1;switch(typeof H){case "function":case "symbol":return!0;case "boolean":if(Qa)return!1;if(null!==ha)return!ha.acceptsBooleans;v=v.toLowerCase().slice(0,5);return"data-"!==v&&"aria-"!==v;default:return!1}}function x(v,H,ha,Qa){if(null===H||"undefined"===typeof H||O(v,H,ha,Qa))return!0;if(Qa)return!1;if(null!==ha)switch(ha.type){case 3:return!H;case 4:return!1===H;case 5:return isNaN(H);
case 6:return isNaN(H)||1>H}return!1}function y(v,H,ha,Qa,ib,Ab,Pb){this.acceptsBooleans=2===H||3===H||4===H;this.attributeName=Qa;this.attributeNamespace=ib;this.mustUseProperty=ha;this.propertyName=v;this.type=H;this.sanitizeURL=Ab;this.removeEmptyString=Pb}function q(v){return v[1].toUpperCase()}function l(v,H,ha,Qa){var ib=rg.hasOwnProperty(H)?rg[H]:null;(null!==ib?0===ib.type:Qa?0:2<H.length&&("o"===H[0]||"O"===H[0])&&("n"===H[1]||"N"===H[1]))||(x(H,ha,ib,Qa)&&(ha=null),Qa||null===ib?F(H)&&(null===
ha?v.removeAttribute(H):v.setAttribute(H,""+ha)):ib.mustUseProperty?v[ib.propertyName]=null===ha?3===ib.type?!1:"":ha:(H=ib.attributeName,Qa=ib.attributeNamespace,null===ha?v.removeAttribute(H):(ib=ib.type,ha=3===ib||4===ib&&!0===ha?"":""+ha,Qa?v.setAttributeNS(Qa,H,ha):v.setAttribute(H,ha))))}function h(v){if(null===v||"object"!==typeof v)return null;v=Gg&&v[Gg]||v["@@iterator"];return"function"===typeof v?v:null}function c(v){if(void 0===Wg)try{throw Error();}catch(ha){var H=ha.stack.trim().match(/\n( *(at )?)/);
Wg=H&&H[1]||""}return"\n"+Wg+v}function e(v,H){if(!v||yj)return"";yj=!0;var ha=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(H)if(H=function(){throw Error();},Object.defineProperty(H.prototype,"props",{set:function(){throw Error();}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(H,[])}catch(Hc){var Qa=Hc}Reflect.construct(v,[],H)}else{try{H.call()}catch(Hc){Qa=Hc}v.call(H.prototype)}else{try{throw Error();}catch(Hc){Qa=Hc}v()}}catch(Hc){if(Hc&&Qa&&"string"===
typeof Hc.stack){for(var ib=Hc.stack.split("\n"),Ab=Qa.stack.split("\n"),Pb=ib.length-1,fc=Ab.length-1;1<=Pb&&0<=fc&&ib[Pb]!==Ab[fc];)fc--;for(;1<=Pb&&0<=fc;Pb--,fc--)if(ib[Pb]!==Ab[fc]){if(1!==Pb||1!==fc){do if(Pb--,fc--,0>fc||ib[Pb]!==Ab[fc])return"\n"+ib[Pb].replace(" at new "," at ");while(1<=Pb&&0<=fc)}break}}}finally{yj=!1,Error.prepareStackTrace=ha}return(v=v?v.displayName||v.name:"")?c(v):""}function a(v){switch(v.tag){case 5:return c(v.type);case 16:return c("Lazy");case 13:return c("Suspense");
case 19:return c("SuspenseList");case 0:case 2:case 15:return v=e(v.type,!1),v;case 11:return v=e(v.type.render,!1),v;case 22:return v=e(v.type._render,!1),v;case 1:return v=e(v.type,!0),v;default:return""}}function f(v){if(null==v)return null;if("function"===typeof v)return v.displayName||v.name||null;if("string"===typeof v)return v;switch(v){case Hg:return"Fragment";case ug:return"Portal";case Vh:return"Profiler";case vh:return"StrictMode";case Wf:return"Suspense";case sg:return"SuspenseList"}if("object"===
typeof v)switch(v.$$typeof){case fi:return(v.displayName||"Context")+".Consumer";case qh:return(v._context.displayName||"Context")+".Provider";case vf:var H=v.render;H=H.displayName||H.name||"";return v.displayName||(""!==H?"ForwardRef("+H+")":"ForwardRef");case wi:return f(v.type);case Xg:return f(v._render);case xi:H=v._payload;v=v._init;try{return f(v(H))}catch(ha){}}return null}function p(v){switch(typeof v){case "boolean":case "number":case "object":case "string":case "undefined":return v;default:return""}}
function A(v){var H=v.type;return(v=v.nodeName)&&"input"===v.toLowerCase()&&("checkbox"===H||"radio"===H)}function C(v){var H=A(v)?"checked":"value",ha=Object.getOwnPropertyDescriptor(v.constructor.prototype,H),Qa=""+v[H];if(!v.hasOwnProperty(H)&&"undefined"!==typeof ha&&"function"===typeof ha.get&&"function"===typeof ha.set){var ib=ha.get,Ab=ha.set;Object.defineProperty(v,H,{configurable:!0,get:function(){return ib.call(this)},set:function(Pb){Qa=""+Pb;Ab.call(this,Pb)}});Object.defineProperty(v,
H,{enumerable:ha.enumerable});return{getValue:function(){return Qa},setValue:function(Pb){Qa=""+Pb},stopTracking:function(){v._valueTracker=null;delete v[H]}}}}function D(v){v._valueTracker||(v._valueTracker=C(v))}function P(v){if(!v)return!1;var H=v._valueTracker;if(!H)return!0;var ha=H.getValue(),Qa="";v&&(Qa=A(v)?v.checked?"true":"false":v.value);v=Qa;return v!==ha?(H.setValue(v),!0):!1}function L(v){v=v||("undefined"!==typeof document?document:void 0);if("undefined"===typeof v)return null;try{return v.activeElement||
v.body}catch(H){return v.body}}function G(v,H){var ha=H.checked;return eg({},H,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=ha?ha:v._wrapperState.initialChecked})}function z(v,H){var ha=null==H.defaultValue?"":H.defaultValue,Qa=null!=H.checked?H.checked:H.defaultChecked;ha=p(null!=H.value?H.value:ha);v._wrapperState={initialChecked:Qa,initialValue:ha,controlled:"checkbox"===H.type||"radio"===H.type?null!=H.checked:null!=H.value}}function J(v,H){H=H.checked;null!=H&&l(v,"checked",
H,!1)}function K(v,H){J(v,H);var ha=p(H.value),Qa=H.type;if(null!=ha)if("number"===Qa){if(0===ha&&""===v.value||v.value!=ha)v.value=""+ha}else v.value!==""+ha&&(v.value=""+ha);else if("submit"===Qa||"reset"===Qa){v.removeAttribute("value");return}H.hasOwnProperty("value")?U(v,H.type,ha):H.hasOwnProperty("defaultValue")&&U(v,H.type,p(H.defaultValue));null==H.checked&&null!=H.defaultChecked&&(v.defaultChecked=!!H.defaultChecked)}function R(v,H,ha){if(H.hasOwnProperty("value")||H.hasOwnProperty("defaultValue")){var Qa=
H.type;if(!("submit"!==Qa&&"reset"!==Qa||void 0!==H.value&&null!==H.value))return;H=""+v._wrapperState.initialValue;ha||H===v.value||(v.value=H);v.defaultValue=H}ha=v.name;""!==ha&&(v.name="");v.defaultChecked=!!v._wrapperState.initialChecked;""!==ha&&(v.name=ha)}function U(v,H,ha){if("number"!==H||L(v.ownerDocument)!==v)null==ha?v.defaultValue=""+v._wrapperState.initialValue:v.defaultValue!==""+ha&&(v.defaultValue=""+ha)}function ka(v){var H="";Ui.Children.forEach(v,function(ha){null!=ha&&(H+=ha)});
return H}function ba(v,H){v=eg({children:void 0},H);if(H=ka(H.children))v.children=H;return v}function da(v,H,ha,Qa){v=v.options;if(H){H={};for(var ib=0;ib<ha.length;ib++)H["$"+ha[ib]]=!0;for(ha=0;ha<v.length;ha++)ib=H.hasOwnProperty("$"+v[ha].value),v[ha].selected!==ib&&(v[ha].selected=ib),ib&&Qa&&(v[ha].defaultSelected=!0)}else{ha=""+p(ha);H=null;for(ib=0;ib<v.length;ib++){if(v[ib].value===ha){v[ib].selected=!0;Qa&&(v[ib].defaultSelected=!0);return}null!==H||v[ib].disabled||(H=v[ib])}null!==H&&
(H.selected=!0)}}function ja(v,H){if(null!=H.dangerouslySetInnerHTML)throw Error(g(91));return eg({},H,{value:void 0,defaultValue:void 0,children:""+v._wrapperState.initialValue})}function Z(v,H){var ha=H.value;if(null==ha){ha=H.children;H=H.defaultValue;if(null!=ha){if(null!=H)throw Error(g(92));if(Array.isArray(ha)){if(!(1>=ha.length))throw Error(g(93));ha=ha[0]}H=ha}null==H&&(H="");ha=H}v._wrapperState={initialValue:p(ha)}}function Q(v,H){var ha=p(H.value),Qa=p(H.defaultValue);null!=ha&&(ha=""+
ha,ha!==v.value&&(v.value=ha),null==H.defaultValue&&v.defaultValue!==ha&&(v.defaultValue=ha));null!=Qa&&(v.defaultValue=""+Qa)}function r(v){var H=v.textContent;H===v._wrapperState.initialValue&&""!==H&&null!==H&&(v.value=H)}function N(v){switch(v){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ea(v,H){return null==v||"http://www.w3.org/1999/xhtml"===v?N(H):"http://www.w3.org/2000/svg"===v&&
"foreignObject"===H?"http://www.w3.org/1999/xhtml":v}function aa(v,H){if(H){var ha=v.firstChild;if(ha&&ha===v.lastChild&&3===ha.nodeType){ha.nodeValue=H;return}}v.textContent=H}function va(v,H,ha){return null==H||"boolean"===typeof H||""===H?"":ha||"number"!==typeof H||0===H||gi.hasOwnProperty(v)&&gi[v]?(""+H).trim():H+"px"}function ta(v,H){v=v.style;for(var ha in H)if(H.hasOwnProperty(ha)){var Qa=0===ha.indexOf("--"),ib=va(ha,H[ha],Qa);"float"===ha&&(ha="cssFloat");Qa?v.setProperty(ha,ib):v[ha]=
ib}}function Da(v,H){if(H){if(hi[v]&&(null!=H.children||null!=H.dangerouslySetInnerHTML))throw Error(g(137,v));if(null!=H.dangerouslySetInnerHTML){if(null!=H.children)throw Error(g(60));if(!("object"===typeof H.dangerouslySetInnerHTML&&"__html"in H.dangerouslySetInnerHTML))throw Error(g(61));}if(null!=H.style&&"object"!==typeof H.style)throw Error(g(62));}}function $a(v,H){if(-1===v.indexOf("-"))return"string"===typeof H.is;switch(v){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;
default:return!0}}function kb(v){v=v.target||v.srcElement||window;v.correspondingUseElement&&(v=v.correspondingUseElement);return 3===v.nodeType?v.parentNode:v}function sa(v){if(v=Pe(v)){if("function"!==typeof vg)throw Error(g(280));var H=v.stateNode;H&&(H=Qe(H),vg(v.stateNode,v.type,H))}}function Ta(v){Ef?Kh?Kh.push(v):Kh=[v]:Ef=v}function Wa(){if(Ef){var v=Ef,H=Kh;Kh=Ef=null;sa(v);if(H)for(v=0;v<H.length;v++)sa(H[v])}}function Ea(v,H){return v(H)}function ua(v,H,ha,Qa,ib){return v(H,ha,Qa,ib)}function V(){}
function W(){if(null!==Ef||null!==Kh)V(),Wa()}function ca(v,H,ha){if(Lh)return v(H,ha);Lh=!0;try{return wh(v,H,ha)}finally{Lh=!1,W()}}function fa(v,H){var ha=v.stateNode;if(null===ha)return null;var Qa=Qe(ha);if(null===Qa)return null;ha=Qa[H];a:switch(H){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(Qa=!Qa.disabled)||
(v=v.type,Qa=!("button"===v||"input"===v||"select"===v||"textarea"===v));v=!Qa;break a;default:v=!1}if(v)return null;if(ha&&"function"!==typeof ha)throw Error(g(231,H,typeof ha));return ha}function qa(v,H,ha,Qa,ib,Ab,Pb,fc,Hc){var rd=Array.prototype.slice.call(arguments,3);try{H.apply(ha,rd)}catch(oe){this.onError(oe)}}function pa(v,H,ha,Qa,ib,Ab,Pb,fc,Hc){yi=!1;ii=null;qa.apply(Se,arguments)}function Ga(v,H,ha,Qa,ib,Ab,Pb,fc,Hc){pa.apply(this,arguments);if(yi){if(yi){var rd=ii;yi=!1;ii=null}else throw Error(g(198));
Vi||(Vi=!0,zi=rd)}}function na(v){var H=v,ha=v;if(v.alternate)for(;H.return;)H=H.return;else{v=H;do H=v,0!==(H.flags&1026)&&(ha=H.return),v=H.return;while(v)}return 3===H.tag?ha:null}function Oa(v){if(13===v.tag){var H=v.memoizedState;null===H&&(v=v.alternate,null!==v&&(H=v.memoizedState));if(null!==H)return H.dehydrated}return null}function cb(v){if(na(v)!==v)throw Error(g(188));}function Za(v){var H=v.alternate;if(!H){H=na(v);if(null===H)throw Error(g(188));return H!==v?null:v}for(var ha=v,Qa=H;;){var ib=
ha.return;if(null===ib)break;var Ab=ib.alternate;if(null===Ab){Qa=ib.return;if(null!==Qa){ha=Qa;continue}break}if(ib.child===Ab.child){for(Ab=ib.child;Ab;){if(Ab===ha)return cb(ib),v;if(Ab===Qa)return cb(ib),H;Ab=Ab.sibling}throw Error(g(188));}if(ha.return!==Qa.return)ha=ib,Qa=Ab;else{for(var Pb=!1,fc=ib.child;fc;){if(fc===ha){Pb=!0;ha=ib;Qa=Ab;break}if(fc===Qa){Pb=!0;Qa=ib;ha=Ab;break}fc=fc.sibling}if(!Pb){for(fc=Ab.child;fc;){if(fc===ha){Pb=!0;ha=Ab;Qa=ib;break}if(fc===Qa){Pb=!0;Qa=Ab;ha=ib;break}fc=
fc.sibling}if(!Pb)throw Error(g(189));}}if(ha.alternate!==Qa)throw Error(g(190));}if(3!==ha.tag)throw Error(g(188));return ha.stateNode.current===ha?v:H}function Aa(v){v=Za(v);if(!v)return null;for(var H=v;;){if(5===H.tag||6===H.tag)return H;if(H.child)H.child.return=H,H=H.child;else{if(H===v)break;for(;!H.sibling;){if(!H.return||H.return===v)return null;H=H.return}H.sibling.return=H.return;H=H.sibling}}return null}function Fa(v,H){for(var ha=v.alternate;null!==H;){if(H===v||H===ha)return!0;H=H.return}return!1}
function Ra(v,H,ha,Qa,ib){return{blockedOn:v,domEventName:H,eventSystemFlags:ha|16,nativeEvent:ib,targetContainers:[Qa]}}function ab(v,H){switch(v){case "focusin":case "focusout":ih=null;break;case "dragenter":case "dragleave":Mh=null;break;case "mouseover":case "mouseout":Nh=null;break;case "pointerover":case "pointerout":Wh.delete(H.pointerId);break;case "gotpointercapture":case "lostpointercapture":ji.delete(H.pointerId)}}function lb(v,H,ha,Qa,ib,Ab){if(null===v||v.nativeEvent!==Ab)return v=Ra(H,
ha,Qa,ib,Ab),null!==H&&(H=Pe(H),null!==H&&ck(H)),v;v.eventSystemFlags|=Qa;H=v.targetContainers;null!==ib&&-1===H.indexOf(ib)&&H.push(ib);return v}function Ma(v,H,ha,Qa,ib){switch(H){case "focusin":return ih=lb(ih,v,H,ha,Qa,ib),!0;case "dragenter":return Mh=lb(Mh,v,H,ha,Qa,ib),!0;case "mouseover":return Nh=lb(Nh,v,H,ha,Qa,ib),!0;case "pointerover":var Ab=ib.pointerId;Wh.set(Ab,lb(Wh.get(Ab)||null,v,H,ha,Qa,ib));return!0;case "gotpointercapture":return Ab=ib.pointerId,ji.set(Ab,lb(ji.get(Ab)||null,
v,H,ha,Qa,ib)),!0}return!1}function nb(v){var H=nf(v.target);if(null!==H){var ha=na(H);if(null!==ha)if(H=ha.tag,13===H){if(H=Oa(ha),null!==H){v.blockedOn=H;Jl(v.lanePriority,function(){Cg.unstable_runWithPriority(v.priority,function(){Bk(ha)})});return}}else if(3===H&&ha.stateNode.hydrate){v.blockedOn=3===ha.tag?ha.stateNode.containerInfo:null;return}}v.blockedOn=null}function zb(v){if(null!==v.blockedOn)return!1;for(var H=v.targetContainers;0<H.length;){var ha=Ib(v.domEventName,v.eventSystemFlags,
H[0],v.nativeEvent);if(null!==ha)return H=Pe(ha),null!==H&&ck(H),v.blockedOn=ha,!1;H.shift()}return!0}function Sb(v,H,ha){zb(v)&&ha.delete(H)}function vc(){for(zj=!1;0<jh.length;){var v=jh[0];if(null!==v.blockedOn){v=Pe(v.blockedOn);null!==v&&Kl(v);break}for(var H=v.targetContainers;0<H.length;){var ha=Ib(v.domEventName,v.eventSystemFlags,H[0],v.nativeEvent);if(null!==ha){v.blockedOn=ha;break}H.shift()}null===v.blockedOn&&jh.shift()}null!==ih&&zb(ih)&&(ih=null);null!==Mh&&zb(Mh)&&(Mh=null);null!==
Nh&&zb(Nh)&&(Nh=null);Wh.forEach(Sb);ji.forEach(Sb)}function lc(v,H){v.blockedOn===H&&(v.blockedOn=null,zj||(zj=!0,Cg.unstable_scheduleCallback(Cg.unstable_NormalPriority,vc)))}function kc(v){function H(ib){return lc(ib,v)}if(0<jh.length){lc(jh[0],v);for(var ha=1;ha<jh.length;ha++){var Qa=jh[ha];Qa.blockedOn===v&&(Qa.blockedOn=null)}}null!==ih&&lc(ih,v);null!==Mh&&lc(Mh,v);null!==Nh&&lc(Nh,v);Wh.forEach(H);ji.forEach(H);for(ha=0;ha<Ai.length;ha++)Qa=Ai[ha],Qa.blockedOn===v&&(Qa.blockedOn=null);for(;0<
Ai.length&&(ha=Ai[0],null===ha.blockedOn);)nb(ha),null===ha.blockedOn&&Ai.shift()}function jb(v,H){var ha={};ha[v.toLowerCase()]=H.toLowerCase();ha["Webkit"+v]="webkit"+H;ha["Moz"+v]="moz"+H;return ha}function $b(v){if(tg[v])return tg[v];if(!xh[v])return v;var H=xh[v],ha;for(ha in H)if(H.hasOwnProperty(ha)&&ha in Bi)return tg[v]=H[ha];return v}function yc(v,H){for(var ha=0;ha<v.length;ha+=2){var Qa=v[ha],ib=v[ha+1];ib="on"+(ib[0].toUpperCase()+ib.slice(1));ki.set(Qa,H);li.set(Qa,ib);m(ib,[Qa])}}function nc(v){if(0!==
(1&v))return Xf=15,1;if(0!==(2&v))return Xf=14,2;if(0!==(4&v))return Xf=13,4;var H=24&v;if(0!==H)return Xf=12,H;if(0!==(v&32))return Xf=11,32;H=192&v;if(0!==H)return Xf=10,H;if(0!==(v&256))return Xf=9,256;H=3584&v;if(0!==H)return Xf=8,H;if(0!==(v&4096))return Xf=7,4096;H=4186112&v;if(0!==H)return Xf=6,H;H=62914560&v;if(0!==H)return Xf=5,H;if(v&67108864)return Xf=4,67108864;if(0!==(v&134217728))return Xf=3,134217728;H=805306368&v;if(0!==H)return Xf=2,H;if(0!==(1073741824&v))return Xf=1,1073741824;
Xf=8;return v}function zc(v){switch(v){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function qc(v){switch(v){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(g(358,v));}}function Vc(v,H){var ha=v.pendingLanes;if(0===ha)return Xf=0;var Qa=0,ib=0,Ab=v.expiredLanes,Pb=v.suspendedLanes,fc=v.pingedLanes;if(0!==Ab)Qa=
Ab,ib=Xf=15;else if(Ab=ha&134217727,0!==Ab){var Hc=Ab&~Pb;0!==Hc?(Qa=nc(Hc),ib=Xf):(fc&=Ab,0!==fc&&(Qa=nc(fc),ib=Xf))}else Ab=ha&~Pb,0!==Ab?(Qa=nc(Ab),ib=Xf):0!==fc&&(Qa=nc(fc),ib=Xf);if(0===Qa)return 0;Qa=31-Xh(Qa);Qa=ha&((0>Qa?0:1<<Qa)<<1)-1;if(0!==H&&H!==Qa&&0===(H&Pb)){nc(H);if(ib<=Xf)return H;Xf=ib}H=v.entangledLanes;if(0!==H)for(v=v.entanglements,H&=Qa;0<H;)ha=31-Xh(H),ib=1<<ha,Qa|=v[ha],H&=~ib;return Qa}function Uc(v){v=v.pendingLanes&-1073741825;return 0!==v?v:v&1073741824?1073741824:0}function Lc(v,
H){switch(v){case 15:return 1;case 14:return 2;case 12:return v=Fd(24&~H),0===v?Lc(10,H):v;case 10:return v=Fd(192&~H),0===v?Lc(8,H):v;case 8:return v=Fd(3584&~H),0===v&&(v=Fd(4186112&~H),0===v&&(v=512)),v;case 2:return H=Fd(805306368&~H),0===H&&(H=268435456),H}throw Error(g(358,v));}function Fd(v){return v&-v}function fe(v){for(var H=[],ha=0;31>ha;ha++)H.push(v);return H}function vd(v,H,ha){v.pendingLanes|=H;var Qa=H-1;v.suspendedLanes&=Qa;v.pingedLanes&=Qa;v=v.eventTimes;H=31-Xh(H);v[H]=ha}function Sc(v){return 0===
v?32:31-(mi(v)/ni|0)|0}function Yd(v,H,ha,Qa){Oh||V();var ib=gc,Ab=Oh;Oh=!0;try{ua(ib,v,H,ha,Qa)}finally{(Oh=Ab)||W()}}function Qb(v,H,ha,Qa){Ck(ij,gc.bind(null,v,H,ha,Qa))}function gc(v,H,ha,Qa){if(Wi){var ib;if((ib=0===(H&4))&&0<jh.length&&-1<oi.indexOf(v))v=Ra(null,v,H,ha,Qa),jh.push(v);else{var Ab=Ib(v,H,ha,Qa);if(null===Ab)ib&&ab(v,Qa);else{if(ib){if(-1<oi.indexOf(v)){v=Ra(Ab,v,H,ha,Qa);jh.push(v);return}if(Ma(Ab,v,H,ha,Qa))return;ab(v,Qa)}Vd(v,H,Qa,null,ha)}}}}function Ib(v,H,ha,Qa){var ib=
kb(Qa);ib=nf(ib);if(null!==ib){var Ab=na(ib);if(null===Ab)ib=null;else{var Pb=Ab.tag;if(13===Pb){ib=Oa(Ab);if(null!==ib)return ib;ib=null}else if(3===Pb){if(Ab.stateNode.hydrate)return 3===Ab.tag?Ab.stateNode.containerInfo:null;ib=null}else Ab!==ib&&(ib=null)}}Vd(v,H,Qa,ib,ha);return null}function Cc(){if(Ig)return Ig;var v,H=pi,ha=H.length,Qa,ib="value"in rh?rh.value:rh.textContent,Ab=ib.length;for(v=0;v<ha&&H[v]===ib[v];v++);var Pb=ha-v;for(Qa=1;Qa<=Pb&&H[ha-Qa]===ib[Ab-Qa];Qa++);return Ig=ib.slice(v,
1<Qa?1-Qa:void 0)}function Wc(v){var H=v.keyCode;"charCode"in v?(v=v.charCode,0===v&&13===H&&(v=13)):v=H;10===v&&(v=13);return 32<=v||13===v?v:0}function Gd(){return!0}function Wd(){return!1}function Ja(v){function H(ha,Qa,ib,Ab,Pb){this._reactName=ha;this._targetInst=ib;this.type=Qa;this.nativeEvent=Ab;this.target=Pb;this.currentTarget=null;for(var fc in v)v.hasOwnProperty(fc)&&(ha=v[fc],this[fc]=ha?ha(Ab):Ab[fc]);this.isDefaultPrevented=(null!=Ab.defaultPrevented?Ab.defaultPrevented:!1===Ab.returnValue)?
Gd:Wd;this.isPropagationStopped=Wd;return this}eg(H.prototype,{preventDefault:function(){this.defaultPrevented=!0;var ha=this.nativeEvent;ha&&(ha.preventDefault?ha.preventDefault():"unknown"!==typeof ha.returnValue&&(ha.returnValue=!1),this.isDefaultPrevented=Gd)},stopPropagation:function(){var ha=this.nativeEvent;ha&&(ha.stopPropagation?ha.stopPropagation():"unknown"!==typeof ha.cancelBubble&&(ha.cancelBubble=!0),this.isPropagationStopped=Gd)},persist:function(){},isPersistent:Gd});return H}function eb(v){var H=
this.nativeEvent;return H.getModifierState?H.getModifierState(v):(v=qi[v])?!!H[v]:!1}function xb(){return eb}function Jb(v,H){switch(v){case "keyup":return-1!==X.indexOf(H.keyCode);case "keydown":return 229!==H.keyCode;case "keypress":case "mousedown":case "focusout":return!0;default:return!1}}function ac(v){v=v.detail;return"object"===typeof v&&"data"in v?v.data:null}function jc(v,H){switch(v){case "compositionend":return ac(H);case "keypress":if(32!==H.which)return null;ub=!0;return bb;case "textInput":return v=
H.data,v===bb&&ub?null:v;default:return null}}function Ec(v,H){if(Lb)return"compositionend"===v||!T&&Jb(v,H)?(v=Cc(),Ig=pi=rh=null,Lb=!1,v):null;switch(v){case "paste":return null;case "keypress":if(!(H.ctrlKey||H.altKey||H.metaKey)||H.ctrlKey&&H.altKey){if(H.char&&1<H.char.length)return H.char;if(H.which)return String.fromCharCode(H.which)}return null;case "compositionend":return Xa&&"ko"!==H.locale?null:H.data;default:return null}}function sc(v){var H=v&&v.nodeName&&v.nodeName.toLowerCase();return"input"===
H?!!cc[v.type]:"textarea"===H?!0:!1}function ob(v,H,ha,Qa){Ta(Qa);H=yf(H,"onChange");0<H.length&&(ha=new Pf("onChange","change",null,ha,Qa),v.push({event:ha,listeners:H}))}function Db(v){Ce(v,0)}function Vb(v){var H=Qd(v);if(P(H))return v}function mc(v,H){if("change"===v)return H}function Dc(){Rc&&(Rc.detachEvent("onpropertychange",Fc),tc=Rc=null)}function Fc(v){if("value"===v.propertyName&&Vb(tc)){var H=[];ob(H,tc,v,kb(v));v=Db;if(Oh)v(H);else{Oh=!0;try{Ea(v,H)}finally{Oh=!1,W()}}}}function Xc(v,
H,ha){"focusin"===v?(Dc(),Rc=H,tc=ha,Rc.attachEvent("onpropertychange",Fc)):"focusout"===v&&Dc()}function Fb(v){if("selectionchange"===v||"keyup"===v||"keydown"===v)return Vb(tc)}function Ic(v,H){if("click"===v)return Vb(H)}function fd(v,H){if("input"===v||"change"===v)return Vb(H)}function wc(v,H){return v===H&&(0!==v||1/v===1/H)||v!==v&&H!==H}function $c(v,H){if(ef(v,H))return!0;if("object"!==typeof v||null===v||"object"!==typeof H||null===H)return!1;var ha=Object.keys(v),Qa=Object.keys(H);if(ha.length!==
Qa.length)return!1;for(Qa=0;Qa<ha.length;Qa++)if(!Ie.call(H,ha[Qa])||!ef(v[ha[Qa]],H[ha[Qa]]))return!1;return!0}function ad(v){for(;v&&v.firstChild;)v=v.firstChild;return v}function nd(v,H){var ha=ad(v);v=0;for(var Qa;ha;){if(3===ha.nodeType){Qa=v+ha.textContent.length;if(v<=H&&Qa>=H)return{node:ha,offset:H-v};v=Qa}a:{for(;ha;){if(ha.nextSibling){ha=ha.nextSibling;break a}ha=ha.parentNode}ha=void 0}ha=ad(ha)}}function Cd(v,H){return v&&H?v===H?!0:v&&3===v.nodeType?!1:H&&3===H.nodeType?Cd(v,H.parentNode):
"contains"in v?v.contains(H):v.compareDocumentPosition?!!(v.compareDocumentPosition(H)&16):!1:!1}function Ed(){for(var v=window,H=L();H instanceof v.HTMLIFrameElement;){try{var ha="string"===typeof H.contentWindow.location.href}catch(Qa){ha=!1}if(ha)v=H.contentWindow;else break;H=L(v.document)}return H}function Xd(v){var H=v&&v.nodeName&&v.nodeName.toLowerCase();return H&&("input"===H&&("text"===v.type||"search"===v.type||"tel"===v.type||"url"===v.type||"password"===v.type)||"textarea"===H||"true"===
v.contentEditable)}function $d(v,H,ha){var Qa=ha.window===ha?ha.document:9===ha.nodeType?ha:ha.ownerDocument;qf||null==Ff||Ff!==L(Qa)||(Qa=Ff,"selectionStart"in Qa&&Xd(Qa)?Qa={start:Qa.selectionStart,end:Qa.selectionEnd}:(Qa=(Qa.ownerDocument&&Qa.ownerDocument.defaultView||window).getSelection(),Qa={anchorNode:Qa.anchorNode,anchorOffset:Qa.anchorOffset,focusNode:Qa.focusNode,focusOffset:Qa.focusOffset}),ag&&$c(ag,Qa)||(ag=Qa,Qa=yf(bg,"onSelect"),0<Qa.length&&(H=new Pf("onSelect","select",null,H,ha),
v.push({event:H,listeners:Qa}),H.target=Ff)))}function ae(v,H,ha){var Qa=v.type||"unknown-event";v.currentTarget=ha;Ga(Qa,H,void 0,v);v.currentTarget=null}function Ce(v,H){H=0!==(H&4);for(var ha=0;ha<v.length;ha++){var Qa=v[ha],ib=Qa.event;Qa=Qa.listeners;a:{var Ab=void 0;if(H)for(var Pb=Qa.length-1;0<=Pb;Pb--){var fc=Qa[Pb],Hc=fc.instance,rd=fc.currentTarget;fc=fc.listener;if(Hc!==Ab&&ib.isPropagationStopped())break a;ae(ib,fc,rd);Ab=Hc}else for(Pb=0;Pb<Qa.length;Pb++){fc=Qa[Pb];Hc=fc.instance;rd=
fc.currentTarget;fc=fc.listener;if(Hc!==Ab&&ib.isPropagationStopped())break a;ae(ib,fc,rd);Ab=Hc}}}if(Vi)throw v=zi,Vi=!1,zi=null,v;}function me(v,H){var ha=Yf(H),Qa=v+"__bubble";ha.has(Qa)||(hf(H,v,2,!1),ha.add(Qa))}function ff(v){v[Sg]||(v[Sg]=!0,ah.forEach(function(H){Ng.has(H)||Ze(H,!1,v,null);Ze(H,!0,v,null)}))}function Ze(v,H,ha,Qa){var ib=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,Ab=ha;"selectionchange"===v&&9!==ha.nodeType&&(Ab=ha.ownerDocument);if(null!==Qa&&!H&&Ng.has(v)){if("scroll"!==
v)return;ib|=2;Ab=Qa}var Pb=Yf(Ab),fc=v+"__"+(H?"capture":"bubble");Pb.has(fc)||(H&&(ib|=4),hf(Ab,v,ib,H),Pb.add(fc))}function hf(v,H,ha,Qa){var ib=ki.get(H);switch(void 0===ib?2:ib){case 0:ib=Yd;break;case 1:ib=Qb;break;default:ib=gc}ha=ib.bind(null,H,ha,v);ib=void 0;!Ci||"touchstart"!==H&&"touchmove"!==H&&"wheel"!==H||(ib=!0);Qa?void 0!==ib?v.addEventListener(H,ha,{capture:!0,passive:ib}):v.addEventListener(H,ha,!0):void 0!==ib?v.addEventListener(H,ha,{passive:ib}):v.addEventListener(H,ha,!1)}function Vd(v,
H,ha,Qa,ib){var Ab=Qa;if(0===(H&1)&&0===(H&2)&&null!==Qa)a:for(;;){if(null===Qa)return;var Pb=Qa.tag;if(3===Pb||4===Pb){var fc=Qa.stateNode.containerInfo;if(fc===ib||8===fc.nodeType&&fc.parentNode===ib)break;if(4===Pb)for(Pb=Qa.return;null!==Pb;){var Hc=Pb.tag;if(3===Hc||4===Hc)if(Hc=Pb.stateNode.containerInfo,Hc===ib||8===Hc.nodeType&&Hc.parentNode===ib)return;Pb=Pb.return}for(;null!==fc;){Pb=nf(fc);if(null===Pb)return;Hc=Pb.tag;if(5===Hc||6===Hc){Qa=Ab=Pb;continue a}fc=fc.parentNode}}Qa=Qa.return}ca(function(){var rd=
Ab,oe=kb(ha),$e=[];a:{var Jd=li.get(v);if(void 0!==Jd){var Ke=Pf,kf=v;switch(v){case "keypress":if(0===Wc(ha))break a;case "keydown":case "keyup":Ke=jj;break;case "focusin":kf="focus";Ke=Di;break;case "focusout":kf="blur";Ke=Di;break;case "beforeblur":case "afterblur":Ke=Di;break;case "click":if(2===ha.button)break a;case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":Ke=Aj;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":Ke=
Yh;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":Ke=og;break;case yh:case kj:case Bj:Ke=lj;break;case zh:Ke=mj;break;case "scroll":Ke=dk;break;case "wheel":Ke=t;break;case "copy":case "cut":case "paste":Ke=Dk;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":Ke=Yg}var af=0!==(H&4),cd=!af&&"scroll"===v,Nc=af?null!==Jd?Jd+"Capture":null:Jd;af=[];for(var Yc=
rd,Dd;null!==Yc;){Dd=Yc;var Id=Dd.stateNode;5===Dd.tag&&null!==Id&&(Dd=Id,null!==Nc&&(Id=fa(Yc,Nc),null!=Id&&af.push(ge(Yc,Id,Dd))));if(cd)break;Yc=Yc.return}0<af.length&&(Jd=new Ke(Jd,kf,null,ha,oe),$e.push({event:Jd,listeners:af}))}}if(0===(H&7)){Jd="mouseover"===v||"pointerover"===v;Ke="mouseout"===v||"pointerout"===v;if(!Jd||0!==(H&16)||!(kf=ha.relatedTarget||ha.fromElement)||!nf(kf)&&!kf[pg])if(Ke||Jd){Jd=oe.window===oe?oe:(Jd=oe.ownerDocument)?Jd.defaultView||Jd.parentWindow:window;if(Ke){if(kf=
ha.relatedTarget||ha.toElement,Ke=rd,kf=kf?nf(kf):null,null!==kf&&(cd=na(kf),kf!==cd||5!==kf.tag&&6!==kf.tag))kf=null}else Ke=null,kf=rd;if(Ke!==kf){af=Aj;Id="onMouseLeave";Nc="onMouseEnter";Yc="mouse";if("pointerout"===v||"pointerover"===v)af=Yg,Id="onPointerLeave",Nc="onPointerEnter",Yc="pointer";cd=null==Ke?Jd:Qd(Ke);Dd=null==kf?Jd:Qd(kf);Jd=new af(Id,Yc+"leave",Ke,ha,oe);Jd.target=cd;Jd.relatedTarget=Dd;Id=null;nf(oe)===rd&&(af=new af(Nc,Yc+"enter",kf,ha,oe),af.target=Dd,af.relatedTarget=cd,Id=
af);cd=Id;if(Ke&&kf)b:{af=Ke;Nc=kf;Yc=0;for(Dd=af;Dd;Dd=Ue(Dd))Yc++;Dd=0;for(Id=Nc;Id;Id=Ue(Id))Dd++;for(;0<Yc-Dd;)af=Ue(af),Yc--;for(;0<Dd-Yc;)Nc=Ue(Nc),Dd--;for(;Yc--;){if(af===Nc||null!==Nc&&af===Nc.alternate)break b;af=Ue(af);Nc=Ue(Nc)}af=null}else af=null;null!==Ke&&of($e,Jd,Ke,af,!1);null!==kf&&null!==cd&&of($e,cd,kf,af,!0)}}Jd=rd?Qd(rd):window;Ke=Jd.nodeName&&Jd.nodeName.toLowerCase();if("select"===Ke||"input"===Ke&&"file"===Jd.type)var rf=mc;else if(sc(Jd))if(Ac)rf=fd;else{rf=Fb;var Ee=Xc}else(Ke=
Jd.nodeName)&&"input"===Ke.toLowerCase()&&("checkbox"===Jd.type||"radio"===Jd.type)&&(rf=Ic);rf&&(rf=rf(v,rd))?ob($e,rf,ha,oe):(Ee&&Ee(v,Jd,rd),"focusout"===v&&(Ee=Jd._wrapperState)&&Ee.controlled&&"number"===Jd.type&&U(Jd,"number",Jd.value));Ee=rd?Qd(rd):window;switch(v){case "focusin":if(sc(Ee)||"true"===Ee.contentEditable)Ff=Ee,bg=rd,ag=null;break;case "focusout":ag=bg=Ff=null;break;case "mousedown":qf=!0;break;case "contextmenu":case "mouseup":case "dragend":qf=!1;$d($e,ha,oe);break;case "selectionchange":if(cg)break;
case "keydown":case "keyup":$d($e,ha,oe)}var sf;if(T)a:{switch(v){case "compositionstart":var Gf="onCompositionStart";break a;case "compositionend":Gf="onCompositionEnd";break a;case "compositionupdate":Gf="onCompositionUpdate";break a}Gf=void 0}else Lb?Jb(v,ha)&&(Gf="onCompositionEnd"):"keydown"===v&&229===ha.keyCode&&(Gf="onCompositionStart");Gf&&(Xa&&"ko"!==ha.locale&&(Lb||"onCompositionStart"!==Gf?"onCompositionEnd"===Gf&&Lb&&(sf=Cc()):(rh=oe,pi="value"in rh?rh.value:rh.textContent,Lb=!0)),Ee=
yf(rd,Gf),0<Ee.length&&(Gf=new Cj(Gf,v,null,ha,oe),$e.push({event:Gf,listeners:Ee}),sf?Gf.data=sf:(sf=ac(ha),null!==sf&&(Gf.data=sf))));if(sf=Ka?jc(v,ha):Ec(v,ha))rd=yf(rd,"onBeforeInput"),0<rd.length&&(oe=new Cj("onBeforeInput","beforeinput",null,ha,oe),$e.push({event:oe,listeners:rd}),oe.data=sf)}Ce($e,H)})}function ge(v,H,ha){return{instance:v,listener:H,currentTarget:ha}}function yf(v,H){for(var ha=H+"Capture",Qa=[];null!==v;){var ib=v,Ab=ib.stateNode;5===ib.tag&&null!==Ab&&(ib=Ab,Ab=fa(v,ha),
null!=Ab&&Qa.unshift(ge(v,Ab,ib)),Ab=fa(v,H),null!=Ab&&Qa.push(ge(v,Ab,ib)));v=v.return}return Qa}function Ue(v){if(null===v)return null;do v=v.return;while(v&&5!==v.tag);return v?v:null}function of(v,H,ha,Qa,ib){for(var Ab=H._reactName,Pb=[];null!==ha&&ha!==Qa;){var fc=ha,Hc=fc.alternate,rd=fc.stateNode;if(null!==Hc&&Hc===Qa)break;5===fc.tag&&null!==rd&&(fc=rd,ib?(Hc=fa(ha,Ab),null!=Hc&&Pb.unshift(ge(ha,Hc,fc))):ib||(Hc=fa(ha,Ab),null!=Hc&&Pb.push(ge(ha,Hc,fc))));ha=ha.return}0!==Pb.length&&v.push({event:H,
listeners:Pb})}function le(){}function ye(v,H){switch(v){case "button":case "input":case "select":case "textarea":return!!H.autoFocus}return!1}function Mf(v,H){return"textarea"===v||"option"===v||"noscript"===v||"string"===typeof H.children||"number"===typeof H.children||"object"===typeof H.dangerouslySetInnerHTML&&null!==H.dangerouslySetInnerHTML&&null!=H.dangerouslySetInnerHTML.__html}function Ge(v){1===v.nodeType?v.textContent="":9===v.nodeType&&(v=v.body,null!=v&&(v.textContent=""))}function Td(v){for(;null!=
v;v=v.nextSibling){var H=v.nodeType;if(1===H||3===H)break}return v}function Zd(v){v=v.previousSibling;for(var H=0;v;){if(8===v.nodeType){var ha=v.data;if("$"===ha||"$!"===ha||"$?"===ha){if(0===H)return v;H--}else"/$"===ha&&H++}v=v.previousSibling}return null}function we(v){return{$$typeof:Ei,toString:v,valueOf:v}}function nf(v){var H=v[Fi];if(H)return H;for(var ha=v.parentNode;ha;){if(H=ha[pg]||ha[Fi]){ha=H.alternate;if(null!==H.child||null!==ha&&null!==ha.child)for(v=Zd(v);null!==v;){if(ha=v[Fi])return ha;
v=Zd(v)}return H}v=ha;ha=v.parentNode}return null}function Pe(v){v=v[Fi]||v[pg];return!v||5!==v.tag&&6!==v.tag&&13!==v.tag&&3!==v.tag?null:v}function Qd(v){if(5===v.tag||6===v.tag)return v.stateNode;throw Error(g(33));}function Qe(v){return v[Ek]||null}function Yf(v){var H=v[Ph];void 0===H&&(H=v[Ph]=new Set);return H}function Jc(v){return{current:v}}function xe(v){0>Zh||(v.current=ek[Zh],ek[Zh]=null,Zh--)}function je(v,H){Zh++;ek[Zh]=v.current;v.current=H}function hc(v,H){var ha=v.type.contextTypes;
if(!ha)return Gi;var Qa=v.stateNode;if(Qa&&Qa.__reactInternalMemoizedUnmaskedChildContext===H)return Qa.__reactInternalMemoizedMaskedChildContext;var ib={},Ab;for(Ab in ha)ib[Ab]=H[Ab];Qa&&(v=v.stateNode,v.__reactInternalMemoizedUnmaskedChildContext=H,v.__reactInternalMemoizedMaskedChildContext=ib);return ib}function De(v){v=v.childContextTypes;return null!==v&&void 0!==v}function re(){xe(sh);xe(bh)}function gf(v,H,ha){if(bh.current!==Gi)throw Error(g(168));je(bh,H);je(sh,ha)}function Hf(v,H,ha){var Qa=
v.stateNode;v=H.childContextTypes;if("function"!==typeof Qa.getChildContext)return ha;Qa=Qa.getChildContext();for(var ib in Qa)if(!(ib in v))throw Error(g(108,f(H)||"Unknown",ib));return eg({},ha,Qa)}function If(v){v=(v=v.stateNode)&&v.__reactInternalMemoizedMergedChildContext||Gi;Xi=bh.current;je(bh,v);je(sh,sh.current);return!0}function Qf(v,H,ha){var Qa=v.stateNode;if(!Qa)throw Error(g(169));ha?(v=Hf(v,H,Xi),Qa.__reactInternalMemoizedMergedChildContext=v,xe(sh),xe(bh),je(bh,v)):xe(sh);je(sh,ha)}
function Jf(){switch(Ll()){case Fk:return 99;case ql:return 98;case rl:return 97;case sl:return 96;case tl:return 95;default:throw Error(g(332));}}function Ae(v){switch(v){case 99:return Fk;case 98:return ql;case 97:return rl;case 96:return sl;case 95:return tl;default:throw Error(g(332));}}function Bc(v,H){v=Ae(v);return Gk(v,H)}function xa(v,H,ha){v=Ae(v);return $k(v,H,ha)}function Ba(){if(null!==Dj){var v=Dj;Dj=null;fk(v)}Ya()}function Ya(){if(!al&&null!==Hi){al=!0;var v=0;try{var H=Hi;Bc(99,function(){for(;v<
H.length;v++){var ha=H[v];do ha=ha(!0);while(null!==ha)}});Hi=null}catch(ha){throw null!==Hi&&(Hi=Hi.slice(v+1)),$k(Fk,Ba),ha;}finally{al=!1}}}function Hb(v,H){if(v&&v.defaultProps){H=eg({},H);v=v.defaultProps;for(var ha in v)void 0===H[ha]&&(H[ha]=v[ha])}return H}function vb(v){var H=Hk.current;xe(Hk);v.type._context._currentValue=H}function Xb(v,H){for(;null!==v;){var ha=v.alternate;if((v.childLanes&H)===H)if(null===ha||(ha.childLanes&H)===H)break;else ha.childLanes|=H;else v.childLanes|=H,null!==
ha&&(ha.childLanes|=H);v=v.return}}function xc(v,H){Ej=v;Yi=Zi=null;v=v.dependencies;null!==v&&null!==v.firstContext&&(0!==(v.lanes&H)&&(Ah=!0),v.firstContext=null)}function Oc(v,H){if(Yi!==v&&!1!==H&&0!==H){if("number"!==typeof H||1073741823===H)Yi=v,H=1073741823;H={context:v,observedBits:H,next:null};if(null===Zi){if(null===Ej)throw Error(g(308));Zi=H;Ej.dependencies={lanes:0,firstContext:H,responders:null}}else Zi=Zi.next=H}return v._currentValue}function ld(v){v.updateQueue={baseState:v.memoizedState,
firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Qc(v,H){v=v.updateQueue;H.updateQueue===v&&(H.updateQueue={baseState:v.baseState,firstBaseUpdate:v.firstBaseUpdate,lastBaseUpdate:v.lastBaseUpdate,shared:v.shared,effects:v.effects})}function Ld(v,H){return{eventTime:v,lane:H,tag:0,payload:null,callback:null,next:null}}function Nd(v,H){v=v.updateQueue;if(null!==v){v=v.shared;var ha=v.pending;null===ha?H.next=H:(H.next=ha.next,ha.next=H);v.pending=H}}function Od(v,
H){var ha=v.updateQueue,Qa=v.alternate;if(null!==Qa&&(Qa=Qa.updateQueue,ha===Qa)){var ib=null,Ab=null;ha=ha.firstBaseUpdate;if(null!==ha){do{var Pb={eventTime:ha.eventTime,lane:ha.lane,tag:ha.tag,payload:ha.payload,callback:ha.callback,next:null};null===Ab?ib=Ab=Pb:Ab=Ab.next=Pb;ha=ha.next}while(null!==ha);null===Ab?ib=Ab=H:Ab=Ab.next=H}else ib=Ab=H;ha={baseState:Qa.baseState,firstBaseUpdate:ib,lastBaseUpdate:Ab,shared:Qa.shared,effects:Qa.effects};v.updateQueue=ha}else v=ha.lastBaseUpdate,null===
v?ha.firstBaseUpdate=H:v.next=H,ha.lastBaseUpdate=H}function od(v,H,ha,Qa){var ib=v.updateQueue;ri=!1;var Ab=ib.firstBaseUpdate,Pb=ib.lastBaseUpdate,fc=ib.shared.pending;if(null!==fc){ib.shared.pending=null;var Hc=fc,rd=Hc.next;Hc.next=null;null===Pb?Ab=rd:Pb.next=rd;Pb=Hc;var oe=v.alternate;if(null!==oe){oe=oe.updateQueue;var $e=oe.lastBaseUpdate;$e!==Pb&&(null===$e?oe.firstBaseUpdate=rd:$e.next=rd,oe.lastBaseUpdate=Hc)}}if(null!==Ab){$e=ib.baseState;Pb=0;oe=rd=Hc=null;do{fc=Ab.lane;var Jd=Ab.eventTime;
if((Qa&fc)===fc){null!==oe&&(oe=oe.next={eventTime:Jd,lane:0,tag:Ab.tag,payload:Ab.payload,callback:Ab.callback,next:null});a:{var Ke=v,kf=Ab;fc=H;Jd=ha;switch(kf.tag){case 1:Ke=kf.payload;if("function"===typeof Ke){$e=Ke.call(Jd,$e,fc);break a}$e=Ke;break a;case 3:Ke.flags=Ke.flags&-4097|64;case 0:Ke=kf.payload;fc="function"===typeof Ke?Ke.call(Jd,$e,fc):Ke;if(null===fc||void 0===fc)break a;$e=eg({},$e,fc);break a;case 2:ri=!0}}null!==Ab.callback&&(v.flags|=32,fc=ib.effects,null===fc?ib.effects=
[Ab]:fc.push(Ab))}else Jd={eventTime:Jd,lane:fc,tag:Ab.tag,payload:Ab.payload,callback:Ab.callback,next:null},null===oe?(rd=oe=Jd,Hc=$e):oe=oe.next=Jd,Pb|=fc;Ab=Ab.next;if(null===Ab)if(fc=ib.shared.pending,null===fc)break;else Ab=fc.next,fc.next=null,ib.lastBaseUpdate=fc,ib.shared.pending=null}while(1);null===oe&&(Hc=$e);ib.baseState=Hc;ib.firstBaseUpdate=rd;ib.lastBaseUpdate=oe;Fj|=Pb;v.lanes=Pb;v.memoizedState=$e}}function Rd(v,H,ha){v=H.effects;H.effects=null;if(null!==v)for(H=0;H<v.length;H++){var Qa=
v[H],ib=Qa.callback;if(null!==ib){Qa.callback=null;Qa=ha;if("function"!==typeof ib)throw Error(g(191,ib));ib.call(Qa)}}}function kd(v,H,ha,Qa){H=v.memoizedState;ha=ha(Qa,H);ha=null===ha||void 0===ha?H:eg({},H,ha);v.memoizedState=ha;0===v.lanes&&(v.updateQueue.baseState=ha)}function lf(v,H,ha,Qa,ib,Ab,Pb){v=v.stateNode;return"function"===typeof v.shouldComponentUpdate?v.shouldComponentUpdate(Qa,Ab,Pb):H.prototype&&H.prototype.isPureReactComponent?!$c(ha,Qa)||!$c(ib,Ab):!0}function bf(v,H,ha){var Qa=
!1,ib=Gi,Ab=H.contextType;"object"===typeof Ab&&null!==Ab?Ab=Oc(Ab):(ib=De(H)?Xi:bh.current,Qa=H.contextTypes,Ab=(Qa=null!==Qa&&void 0!==Qa)?hc(v,ib):Gi);H=new H(ha,Ab);v.memoizedState=null!==H.state&&void 0!==H.state?H.state:null;H.updater=Gj;v.stateNode=H;H._reactInternals=v;Qa&&(v=v.stateNode,v.__reactInternalMemoizedUnmaskedChildContext=ib,v.__reactInternalMemoizedMaskedChildContext=Ab);return H}function ee(v,H,ha,Qa){v=H.state;"function"===typeof H.componentWillReceiveProps&&H.componentWillReceiveProps(ha,
Qa);"function"===typeof H.UNSAFE_componentWillReceiveProps&&H.UNSAFE_componentWillReceiveProps(ha,Qa);H.state!==v&&Gj.enqueueReplaceState(H,H.state,null)}function Ve(v,H,ha,Qa){var ib=v.stateNode;ib.props=ha;ib.state=v.memoizedState;ib.refs=ul;ld(v);var Ab=H.contextType;"object"===typeof Ab&&null!==Ab?ib.context=Oc(Ab):(Ab=De(H)?Xi:bh.current,ib.context=hc(v,Ab));od(v,ha,ib,Qa);ib.state=v.memoizedState;Ab=H.getDerivedStateFromProps;"function"===typeof Ab&&(kd(v,H,Ab,ha),ib.state=v.memoizedState);
"function"===typeof H.getDerivedStateFromProps||"function"===typeof ib.getSnapshotBeforeUpdate||"function"!==typeof ib.UNSAFE_componentWillMount&&"function"!==typeof ib.componentWillMount||(H=ib.state,"function"===typeof ib.componentWillMount&&ib.componentWillMount(),"function"===typeof ib.UNSAFE_componentWillMount&&ib.UNSAFE_componentWillMount(),H!==ib.state&&Gj.enqueueReplaceState(ib,ib.state,null),od(v,ha,ib,Qa),ib.state=v.memoizedState);"function"===typeof ib.componentDidMount&&(v.flags|=4)}function ce(v,
H,ha){v=ha.ref;if(null!==v&&"function"!==typeof v&&"object"!==typeof v){if(ha._owner){if(ha=ha._owner){if(1!==ha.tag)throw Error(g(309));var Qa=ha.stateNode}if(!Qa)throw Error(g(147,v));var ib=""+v;if(null!==H&&null!==H.ref&&"function"===typeof H.ref&&H.ref._stringRef===ib)return H.ref;H=function(Ab){var Pb=Qa.refs;Pb===ul&&(Pb=Qa.refs={});null===Ab?delete Pb[ib]:Pb[ib]=Ab};H._stringRef=ib;return H}if("string"!==typeof v)throw Error(g(284));if(!ha._owner)throw Error(g(290,v));}return v}function Xe(v,
H){if("textarea"!==v.type)throw Error(g(31,"[object Object]"===Object.prototype.toString.call(H)?"object with keys {"+Object.keys(H).join(", ")+"}":H));}function zf(v){function H(cd,Nc){if(v){var Yc=cd.lastEffect;null!==Yc?(Yc.nextEffect=Nc,cd.lastEffect=Nc):cd.firstEffect=cd.lastEffect=Nc;Nc.nextEffect=null;Nc.flags=8}}function ha(cd,Nc){if(!v)return null;for(;null!==Nc;)H(cd,Nc),Nc=Nc.sibling;return null}function Qa(cd,Nc){for(cd=new Map;null!==Nc;)null!==Nc.key?cd.set(Nc.key,Nc):cd.set(Nc.index,
Nc),Nc=Nc.sibling;return cd}function ib(cd,Nc){cd=th(cd,Nc);cd.index=0;cd.sibling=null;return cd}function Ab(cd,Nc,Yc){cd.index=Yc;if(!v)return Nc;Yc=cd.alternate;if(null!==Yc)return Yc=Yc.index,Yc<Nc?(cd.flags=2,Nc):Yc;cd.flags=2;return Nc}function Pb(cd){v&&null===cd.alternate&&(cd.flags=2);return cd}function fc(cd,Nc,Yc,Dd){if(null===Nc||6!==Nc.tag)return Nc=gk(Yc,cd.mode,Dd),Nc.return=cd,Nc;Nc=ib(Nc,Yc);Nc.return=cd;return Nc}function Hc(cd,Nc,Yc,Dd){if(null!==Nc&&Nc.elementType===Yc.type)return Dd=
ib(Nc,Yc.props),Dd.ref=ce(cd,Nc,Yc),Dd.return=cd,Dd;Dd=$i(Yc.type,Yc.key,Yc.props,null,cd.mode,Dd);Dd.ref=ce(cd,Nc,Yc);Dd.return=cd;return Dd}function rd(cd,Nc,Yc,Dd){if(null===Nc||4!==Nc.tag||Nc.stateNode.containerInfo!==Yc.containerInfo||Nc.stateNode.implementation!==Yc.implementation)return Nc=hk(Yc,cd.mode,Dd),Nc.return=cd,Nc;Nc=ib(Nc,Yc.children||[]);Nc.return=cd;return Nc}function oe(cd,Nc,Yc,Dd,Id){if(null===Nc||7!==Nc.tag)return Nc=Ii(Yc,cd.mode,Dd,Id),Nc.return=cd,Nc;Nc=ib(Nc,Yc);Nc.return=
cd;return Nc}function $e(cd,Nc,Yc){if("string"===typeof Nc||"number"===typeof Nc)return Nc=gk(""+Nc,cd.mode,Yc),Nc.return=cd,Nc;if("object"===typeof Nc&&null!==Nc){switch(Nc.$$typeof){case Ji:return Yc=$i(Nc.type,Nc.key,Nc.props,null,cd.mode,Yc),Yc.ref=ce(cd,null,Nc),Yc.return=cd,Yc;case ug:return Nc=hk(Nc,cd.mode,Yc),Nc.return=cd,Nc}if(Bh(Nc)||h(Nc))return Nc=Ii(Nc,cd.mode,Yc,null),Nc.return=cd,Nc;Xe(cd,Nc)}return null}function Jd(cd,Nc,Yc,Dd){var Id=null!==Nc?Nc.key:null;if("string"===typeof Yc||
"number"===typeof Yc)return null!==Id?null:fc(cd,Nc,""+Yc,Dd);if("object"===typeof Yc&&null!==Yc){switch(Yc.$$typeof){case Ji:return Yc.key===Id?Yc.type===Hg?oe(cd,Nc,Yc.props.children,Dd,Id):Hc(cd,Nc,Yc,Dd):null;case ug:return Yc.key===Id?rd(cd,Nc,Yc,Dd):null}if(Bh(Yc)||h(Yc))return null!==Id?null:oe(cd,Nc,Yc,Dd,null);Xe(cd,Yc)}return null}function Ke(cd,Nc,Yc,Dd,Id){if("string"===typeof Dd||"number"===typeof Dd)return cd=cd.get(Yc)||null,fc(Nc,cd,""+Dd,Id);if("object"===typeof Dd&&null!==Dd){switch(Dd.$$typeof){case Ji:return cd=
cd.get(null===Dd.key?Yc:Dd.key)||null,Dd.type===Hg?oe(Nc,cd,Dd.props.children,Id,Dd.key):Hc(Nc,cd,Dd,Id);case ug:return cd=cd.get(null===Dd.key?Yc:Dd.key)||null,rd(Nc,cd,Dd,Id)}if(Bh(Dd)||h(Dd))return cd=cd.get(Yc)||null,oe(Nc,cd,Dd,Id,null);Xe(Nc,Dd)}return null}function kf(cd,Nc,Yc,Dd){for(var Id=null,rf=null,Ee=Nc,sf=Nc=0,Gf=null;null!==Ee&&sf<Yc.length;sf++){Ee.index>sf?(Gf=Ee,Ee=null):Gf=Ee.sibling;var wf=Jd(cd,Ee,Yc[sf],Dd);if(null===wf){null===Ee&&(Ee=Gf);break}v&&Ee&&null===wf.alternate&&
H(cd,Ee);Nc=Ab(wf,Nc,sf);null===rf?Id=wf:rf.sibling=wf;rf=wf;Ee=Gf}if(sf===Yc.length)return ha(cd,Ee),Id;if(null===Ee){for(;sf<Yc.length;sf++)Ee=$e(cd,Yc[sf],Dd),null!==Ee&&(Nc=Ab(Ee,Nc,sf),null===rf?Id=Ee:rf.sibling=Ee,rf=Ee);return Id}for(Ee=Qa(cd,Ee);sf<Yc.length;sf++)Gf=Ke(Ee,cd,sf,Yc[sf],Dd),null!==Gf&&(v&&null!==Gf.alternate&&Ee.delete(null===Gf.key?sf:Gf.key),Nc=Ab(Gf,Nc,sf),null===rf?Id=Gf:rf.sibling=Gf,rf=Gf);v&&Ee.forEach(function(aj){return H(cd,aj)});return Id}function af(cd,Nc,Yc,Dd){var Id=
h(Yc);if("function"!==typeof Id)throw Error(g(150));Yc=Id.call(Yc);if(null==Yc)throw Error(g(151));for(var rf=Id=null,Ee=Nc,sf=Nc=0,Gf=null,wf=Yc.next();null!==Ee&&!wf.done;sf++,wf=Yc.next()){Ee.index>sf?(Gf=Ee,Ee=null):Gf=Ee.sibling;var aj=Jd(cd,Ee,wf.value,Dd);if(null===aj){null===Ee&&(Ee=Gf);break}v&&Ee&&null===aj.alternate&&H(cd,Ee);Nc=Ab(aj,Nc,sf);null===rf?Id=aj:rf.sibling=aj;rf=aj;Ee=Gf}if(wf.done)return ha(cd,Ee),Id;if(null===Ee){for(;!wf.done;sf++,wf=Yc.next())wf=$e(cd,wf.value,Dd),null!==
wf&&(Nc=Ab(wf,Nc,sf),null===rf?Id=wf:rf.sibling=wf,rf=wf);return Id}for(Ee=Qa(cd,Ee);!wf.done;sf++,wf=Yc.next())wf=Ke(Ee,cd,sf,wf.value,Dd),null!==wf&&(v&&null!==wf.alternate&&Ee.delete(null===wf.key?sf:wf.key),Nc=Ab(wf,Nc,sf),null===rf?Id=wf:rf.sibling=wf,rf=wf);v&&Ee.forEach(function(Ml){return H(cd,Ml)});return Id}return function(cd,Nc,Yc,Dd){var Id="object"===typeof Yc&&null!==Yc&&Yc.type===Hg&&null===Yc.key;Id&&(Yc=Yc.props.children);var rf="object"===typeof Yc&&null!==Yc;if(rf)switch(Yc.$$typeof){case Ji:a:{rf=
Yc.key;for(Id=Nc;null!==Id;){if(Id.key===rf){switch(Id.tag){case 7:if(Yc.type===Hg){ha(cd,Id.sibling);Nc=ib(Id,Yc.props.children);Nc.return=cd;cd=Nc;break a}break;default:if(Id.elementType===Yc.type){ha(cd,Id.sibling);Nc=ib(Id,Yc.props);Nc.ref=ce(cd,Id,Yc);Nc.return=cd;cd=Nc;break a}}ha(cd,Id);break}else H(cd,Id);Id=Id.sibling}Yc.type===Hg?(Nc=Ii(Yc.props.children,cd.mode,Dd,Yc.key),Nc.return=cd,cd=Nc):(Dd=$i(Yc.type,Yc.key,Yc.props,null,cd.mode,Dd),Dd.ref=ce(cd,Nc,Yc),Dd.return=cd,cd=Dd)}return Pb(cd);
case ug:a:{for(Id=Yc.key;null!==Nc;){if(Nc.key===Id)if(4===Nc.tag&&Nc.stateNode.containerInfo===Yc.containerInfo&&Nc.stateNode.implementation===Yc.implementation){ha(cd,Nc.sibling);Nc=ib(Nc,Yc.children||[]);Nc.return=cd;cd=Nc;break a}else{ha(cd,Nc);break}else H(cd,Nc);Nc=Nc.sibling}Nc=hk(Yc,cd.mode,Dd);Nc.return=cd;cd=Nc}return Pb(cd)}if("string"===typeof Yc||"number"===typeof Yc)return Yc=""+Yc,null!==Nc&&6===Nc.tag?(ha(cd,Nc.sibling),Nc=ib(Nc,Yc),Nc.return=cd,cd=Nc):(ha(cd,Nc),Nc=gk(Yc,cd.mode,
Dd),Nc.return=cd,cd=Nc),Pb(cd);if(Bh(Yc))return kf(cd,Nc,Yc,Dd);if(h(Yc))return af(cd,Nc,Yc,Dd);rf&&Xe(cd,Yc);if("undefined"===typeof Yc&&!Id)switch(cd.tag){case 1:case 22:case 0:case 11:case 15:throw Error(g(152,f(cd.type)||"Component"));}return ha(cd,Nc)}}function tf(v){if(v===Md)throw Error(g(174));return v}function Oe(v,H){je(Hj,H);je(Qh,v);je(wg,Md);v=H.nodeType;switch(v){case 9:case 11:H=(H=H.documentElement)?H.namespaceURI:ea(null,"");break;default:v=8===v?H.parentNode:H,H=v.namespaceURI||
null,v=v.tagName,H=ea(H,v)}xe(wg);je(wg,H)}function Nf(){xe(wg);xe(Qh);xe(Hj)}function za(v){tf(Hj.current);var H=tf(wg.current),ha=ea(H,v.type);H!==ha&&(je(Qh,v),je(wg,ha))}function Ia(v){Qh.current===v&&(xe(wg),xe(Qh))}function wb(v){for(var H=v;null!==H;){if(13===H.tag){var ha=H.memoizedState;if(null!==ha&&(ha=ha.dehydrated,null===ha||"$?"===ha.data||"$!"===ha.data))return H}else if(19===H.tag&&void 0!==H.memoizedProps.revealOrder){if(0!==(H.flags&64))return H}else if(null!==H.child){H.child.return=
H;H=H.child;continue}if(H===v)break;for(;null===H.sibling;){if(null===H.return||H.return===v)return null;H=H.return}H.sibling.return=H.return;H=H.sibling}return null}function Yb(v,H){var ha=kh(5,null,null,0);ha.elementType="DELETED";ha.type="DELETED";ha.stateNode=H;ha.return=v;ha.flags=8;null!==v.lastEffect?(v.lastEffect.nextEffect=ha,v.lastEffect=ha):v.firstEffect=v.lastEffect=ha}function Ub(v,H){switch(v.tag){case 5:var ha=v.type;H=1!==H.nodeType||ha.toLowerCase()!==H.nodeName.toLowerCase()?null:
H;return null!==H?(v.stateNode=H,!0):!1;case 6:return H=""===v.pendingProps||3!==H.nodeType?null:H,null!==H?(v.stateNode=H,!0):!1;case 13:return!1;default:return!1}}function ic(v){if(Ch){var H=si;if(H){var ha=H;if(!Ub(v,H)){H=Td(ha.nextSibling);if(!H||!Ub(v,H)){v.flags=v.flags&-1025|2;Ch=!1;Dh=v;return}Yb(Dh,ha)}Dh=v;si=Td(H.firstChild)}else v.flags=v.flags&-1025|2,Ch=!1,Dh=v}}function oc(v){for(v=v.return;null!==v&&5!==v.tag&&3!==v.tag&&13!==v.tag;)v=v.return;Dh=v}function id(v){if(v!==Dh)return!1;
if(!Ch)return oc(v),Ch=!0,!1;var H=v.type;if(5!==v.tag||"head"!==H&&"body"!==H&&!Mf(H,v.memoizedProps))for(H=si;H;)Yb(v,H),H=Td(H.nextSibling);oc(v);if(13===v.tag){v=v.memoizedState;v=null!==v?v.dehydrated:null;if(!v)throw Error(g(317));a:{v=v.nextSibling;for(H=0;v;){if(8===v.nodeType){var ha=v.data;if("/$"===ha){if(0===H){si=Td(v.nextSibling);break a}H--}else"$"!==ha&&"$!"!==ha&&"$?"!==ha||H++}v=v.nextSibling}si=null}}else si=Dh?Td(v.stateNode.nextSibling):null;return!0}function Tc(){for(var v=0;v<
nj.length;v++)nj[v]._workInProgressVersionPrimary=null;nj.length=0}function gd(){throw Error(g(321));}function Hd(v,H){if(null===H)return!1;for(var ha=0;ha<H.length&&ha<v.length;ha++)if(!ef(v[ha],H[ha]))return!1;return!0}function he(v,H,ha,Qa,ib,Ab){ik=Ab;lg=H;H.memoizedState=null;H.updateQueue=null;H.lanes=0;ch.current=null===v||null===v.memoizedState?bl:Nl;v=ha(Qa,ib);if(jk){Ab=0;do{jk=!1;if(!(25>Ab))throw Error(g(301));Ab+=1;Og=dh=null;H.updateQueue=null;ch.current=Zg;v=ha(Qa,ib)}while(jk)}ch.current=
eh;H=null!==dh&&null!==dh.next;ik=0;Og=dh=lg=null;Ik=!1;if(H)throw Error(g(300));return v}function ie(){var v={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===Og?lg.memoizedState=Og=v:Og=Og.next=v;return Og}function Pd(){if(null===dh){var v=lg.alternate;v=null!==v?v.memoizedState:null}else v=dh.next;var H=null===Og?lg.memoizedState:Og.next;if(null!==H)Og=H,dh=v;else{if(null===v)throw Error(g(310));dh=v;v={memoizedState:dh.memoizedState,baseState:dh.baseState,baseQueue:dh.baseQueue,
queue:dh.queue,next:null};null===Og?lg.memoizedState=Og=v:Og=Og.next=v}return Og}function Ne(v,H){return"function"===typeof H?H(v):H}function pe(v){var H=Pd(),ha=H.queue;if(null===ha)throw Error(g(311));ha.lastRenderedReducer=v;var Qa=dh,ib=Qa.baseQueue,Ab=ha.pending;if(null!==Ab){if(null!==ib){var Pb=ib.next;ib.next=Ab.next;Ab.next=Pb}Qa.baseQueue=ib=Ab;ha.pending=null}if(null!==ib){ib=ib.next;Qa=Qa.baseState;var fc=Pb=Ab=null,Hc=ib;do{var rd=Hc.lane;if((ik&rd)===rd)null!==fc&&(fc=fc.next={lane:0,
action:Hc.action,eagerReducer:Hc.eagerReducer,eagerState:Hc.eagerState,next:null}),Qa=Hc.eagerReducer===v?Hc.eagerState:v(Qa,Hc.action);else{var oe={lane:rd,action:Hc.action,eagerReducer:Hc.eagerReducer,eagerState:Hc.eagerState,next:null};null===fc?(Pb=fc=oe,Ab=Qa):fc=fc.next=oe;lg.lanes|=rd;Fj|=rd}Hc=Hc.next}while(null!==Hc&&Hc!==ib);null===fc?Ab=Qa:fc.next=Pb;ef(Qa,H.memoizedState)||(Ah=!0);H.memoizedState=Qa;H.baseState=Ab;H.baseQueue=fc;ha.lastRenderedState=Qa}return[H.memoizedState,ha.dispatch]}
function He(v){var H=Pd(),ha=H.queue;if(null===ha)throw Error(g(311));ha.lastRenderedReducer=v;var Qa=ha.dispatch,ib=ha.pending,Ab=H.memoizedState;if(null!==ib){ha.pending=null;var Pb=ib=ib.next;do Ab=v(Ab,Pb.action),Pb=Pb.next;while(Pb!==ib);ef(Ab,H.memoizedState)||(Ah=!0);H.memoizedState=Ab;null===H.baseQueue&&(H.baseState=Ab);ha.lastRenderedState=Ab}return[Ab,Qa]}function Je(v,H,ha){var Qa=H._getVersion;Qa=Qa(H._source);var ib=H._workInProgressVersionPrimary;if(null!==ib)v=ib===Qa;else if(v=v.mutableReadLanes,
v=(ik&v)===v)H._workInProgressVersionPrimary=Qa,nj.push(H);if(v)return ha(H._source);nj.push(H);throw Error(g(350));}function Le(v,H,ha,Qa){var ib=lh;if(null===ib)throw Error(g(349));var Ab=H._getVersion,Pb=Ab(H._source),fc=ch.current,Hc=fc.useState(function(){return Je(ib,H,ha)}),rd=Hc[1],oe=Hc[0];Hc=Og;var $e=v.memoizedState,Jd=$e.refs,Ke=Jd.getSnapshot,kf=$e.source;$e=$e.subscribe;var af=lg;v.memoizedState={refs:Jd,source:H,subscribe:Qa};fc.useEffect(function(){Jd.getSnapshot=ha;Jd.setSnapshot=
rd;var cd=Ab(H._source);if(!ef(Pb,cd)){cd=ha(H._source);ef(oe,cd)||(rd(cd),cd=Kc(af),ib.mutableReadLanes|=cd&ib.pendingLanes);cd=ib.mutableReadLanes;ib.entangledLanes|=cd;for(var Nc=ib.entanglements,Yc=cd;0<Yc;){var Dd=31-Xh(Yc),Id=1<<Dd;Nc[Dd]|=cd;Yc&=~Id}}},[ha,H,Qa]);fc.useEffect(function(){return Qa(H._source,function(){var cd=Jd.getSnapshot,Nc=Jd.setSnapshot;try{Nc(cd(H._source));var Yc=Kc(af);ib.mutableReadLanes|=Yc&ib.pendingLanes}catch(Dd){Nc(function(){throw Dd;})}})},[H,Qa]);ef(Ke,ha)&&
ef(kf,H)&&ef($e,Qa)||(v={pending:null,dispatch:null,lastRenderedReducer:Ne,lastRenderedState:oe},v.dispatch=rd=Nb.bind(null,lg,v),Hc.queue=v,Hc.baseQueue=null,oe=Je(ib,H,ha),Hc.memoizedState=Hc.baseState=oe);return oe}function Of(v,H,ha){var Qa=Pd();return Le(Qa,v,H,ha)}function Te(v){var H=ie();"function"===typeof v&&(v=v());H.memoizedState=H.baseState=v;v=H.queue={pending:null,dispatch:null,lastRenderedReducer:Ne,lastRenderedState:v};v=v.dispatch=Nb.bind(null,lg,v);return[H.memoizedState,v]}function uf(v,
H,ha,Qa){v={tag:v,create:H,destroy:ha,deps:Qa,next:null};H=lg.updateQueue;null===H?(H={lastEffect:null},lg.updateQueue=H,H.lastEffect=v.next=v):(ha=H.lastEffect,null===ha?H.lastEffect=v.next=v:(Qa=ha.next,ha.next=v,v.next=Qa,H.lastEffect=v));return v}function Bf(v){var H=ie();v={current:v};return H.memoizedState=v}function Ag(){return Pd().memoizedState}function Rf(v,H,ha,Qa){var ib=ie();lg.flags|=v;ib.memoizedState=uf(1|H,ha,void 0,void 0===Qa?null:Qa)}function jg(v,H,ha,Qa){var ib=Pd();Qa=void 0===
Qa?null:Qa;var Ab=void 0;if(null!==dh){var Pb=dh.memoizedState;Ab=Pb.destroy;if(null!==Qa&&Hd(Qa,Pb.deps)){uf(H,ha,Ab,Qa);return}}lg.flags|=v;ib.memoizedState=uf(1|H,ha,Ab,Qa)}function wa(v,H){return Rf(516,4,v,H)}function ya(v,H){return jg(516,4,v,H)}function Na(v,H){return jg(4,2,v,H)}function Sa(v,H){if("function"===typeof H)return v=v(),H(v),function(){H(null)};if(null!==H&&void 0!==H)return v=v(),H.current=v,function(){H.current=null}}function fb(v,H,ha){ha=null!==ha&&void 0!==ha?ha.concat([v]):
null;return jg(4,2,Sa.bind(null,H,v),ha)}function hb(){}function sb(v,H){var ha=Pd();H=void 0===H?null:H;var Qa=ha.memoizedState;if(null!==Qa&&null!==H&&Hd(H,Qa[1]))return Qa[0];ha.memoizedState=[v,H];return v}function Gb(v,H){var ha=Pd();H=void 0===H?null:H;var Qa=ha.memoizedState;if(null!==Qa&&null!==H&&Hd(H,Qa[1]))return Qa[0];v=v();ha.memoizedState=[v,H];return v}function Bb(v,H){var ha=Jf();Bc(98>ha?98:ha,function(){v(!0)});Bc(97<ha?97:ha,function(){var Qa=mh.transition;mh.transition=1;try{v(!1),
H()}finally{mh.transition=Qa}})}function Nb(v,H,ha){var Qa=bd(),ib=Kc(v),Ab={lane:ib,action:ha,eagerReducer:null,eagerState:null,next:null},Pb=H.pending;null===Pb?Ab.next=Ab:(Ab.next=Pb.next,Pb.next=Ab);H.pending=Ab;Pb=v.alternate;if(v===lg||null!==Pb&&Pb===lg)jk=Ik=!0;else{if(0===v.lanes&&(null===Pb||0===Pb.lanes)&&(Pb=H.lastRenderedReducer,null!==Pb))try{var fc=H.lastRenderedState,Hc=Pb(fc,ha);Ab.eagerReducer=Pb;Ab.eagerState=Hc;if(ef(Hc,fc))return}catch(rd){}finally{}ud(v,ib,Qa)}}function Mb(v,
H,ha,Qa){H.child=null===v?ng(H,null,ha,Qa):pf(H,v.child,ha,Qa)}function dc(v,H,ha,Qa,ib){ha=ha.render;var Ab=H.ref;xc(H,ib);Qa=he(v,H,ha,Qa,Ab,ib);if(null!==v&&!Ah)return H.updateQueue=v.updateQueue,H.flags&=-517,v.lanes&=~ib,Bd(v,H,ib);H.flags|=1;Mb(v,H,Qa,ib);return H.child}function uc(v,H,ha,Qa,ib,Ab){if(null===v){var Pb=ha.type;if("function"===typeof Pb&&!$h(Pb)&&void 0===Pb.defaultProps&&null===ha.compare&&void 0===ha.defaultProps)return H.tag=15,H.type=Pb,Y(v,H,Pb,Qa,ib,Ab);v=$i(ha.type,null,
Qa,H,H.mode,Ab);v.ref=H.ref;v.return=H;return H.child=v}Pb=v.child;if(0===(ib&Ab)&&(ib=Pb.memoizedProps,ha=ha.compare,ha=null!==ha?ha:$c,ha(ib,Qa)&&v.ref===H.ref))return Bd(v,H,Ab);H.flags|=1;v=th(Pb,Qa);v.ref=H.ref;v.return=H;return H.child=v}function Y(v,H,ha,Qa,ib,Ab){if(null!==v&&$c(v.memoizedProps,Qa)&&v.ref===H.ref)if(Ah=!1,0!==(Ab&ib))0!==(v.flags&16384)&&(Ah=!0);else return H.lanes=v.lanes,Bd(v,H,Ab);return Ua(v,H,ha,Qa,Ab)}function oa(v,H,ha){var Qa=H.pendingProps,ib=Qa.children,Ab=null!==
v?v.memoizedState:null;if("hidden"===Qa.mode||"unstable-defer-without-hiding"===Qa.mode)if(0===(H.mode&4))H.memoizedState={baseLanes:0},wd(H,ha);else if(0!==(ha&1073741824))H.memoizedState={baseLanes:0},wd(H,null!==Ab?Ab.baseLanes:ha);else return v=null!==Ab?Ab.baseLanes|ha:ha,H.lanes=H.childLanes=1073741824,H.memoizedState={baseLanes:v},wd(H,v),null;else null!==Ab?(Qa=Ab.baseLanes|ha,H.memoizedState=null):Qa=ha,wd(H,Qa);Mb(v,H,ib,ha);return H.child}function Pa(v,H){var ha=H.ref;if(null===v&&null!==
ha||null!==v&&v.ref!==ha)H.flags|=128}function Ua(v,H,ha,Qa,ib){var Ab=De(ha)?Xi:bh.current;Ab=hc(H,Ab);xc(H,ib);ha=he(v,H,ha,Qa,Ab,ib);if(null!==v&&!Ah)return H.updateQueue=v.updateQueue,H.flags&=-517,v.lanes&=~ib,Bd(v,H,ib);H.flags|=1;Mb(v,H,ha,ib);return H.child}function yb(v,H,ha,Qa,ib){if(De(ha)){var Ab=!0;If(H)}else Ab=!1;xc(H,ib);if(null===H.stateNode)null!==v&&(v.alternate=null,H.alternate=null,H.flags|=2),bf(H,ha,Qa),Ve(H,ha,Qa,ib),Qa=!0;else if(null===v){var Pb=H.stateNode,fc=H.memoizedProps;
Pb.props=fc;var Hc=Pb.context,rd=ha.contextType;"object"===typeof rd&&null!==rd?rd=Oc(rd):(rd=De(ha)?Xi:bh.current,rd=hc(H,rd));var oe=ha.getDerivedStateFromProps,$e="function"===typeof oe||"function"===typeof Pb.getSnapshotBeforeUpdate;$e||"function"!==typeof Pb.UNSAFE_componentWillReceiveProps&&"function"!==typeof Pb.componentWillReceiveProps||(fc!==Qa||Hc!==rd)&&ee(H,Pb,Qa,rd);ri=!1;var Jd=H.memoizedState;Pb.state=Jd;od(H,Qa,Pb,ib);Hc=H.memoizedState;fc!==Qa||Jd!==Hc||sh.current||ri?("function"===
typeof oe&&(kd(H,ha,oe,Qa),Hc=H.memoizedState),(fc=ri||lf(H,ha,fc,Qa,Jd,Hc,rd))?($e||"function"!==typeof Pb.UNSAFE_componentWillMount&&"function"!==typeof Pb.componentWillMount||("function"===typeof Pb.componentWillMount&&Pb.componentWillMount(),"function"===typeof Pb.UNSAFE_componentWillMount&&Pb.UNSAFE_componentWillMount()),"function"===typeof Pb.componentDidMount&&(H.flags|=4)):("function"===typeof Pb.componentDidMount&&(H.flags|=4),H.memoizedProps=Qa,H.memoizedState=Hc),Pb.props=Qa,Pb.state=Hc,
Pb.context=rd,Qa=fc):("function"===typeof Pb.componentDidMount&&(H.flags|=4),Qa=!1)}else{Pb=H.stateNode;Qc(v,H);fc=H.memoizedProps;rd=H.type===H.elementType?fc:Hb(H.type,fc);Pb.props=rd;$e=H.pendingProps;Jd=Pb.context;Hc=ha.contextType;"object"===typeof Hc&&null!==Hc?Hc=Oc(Hc):(Hc=De(ha)?Xi:bh.current,Hc=hc(H,Hc));var Ke=ha.getDerivedStateFromProps;(oe="function"===typeof Ke||"function"===typeof Pb.getSnapshotBeforeUpdate)||"function"!==typeof Pb.UNSAFE_componentWillReceiveProps&&"function"!==typeof Pb.componentWillReceiveProps||
(fc!==$e||Jd!==Hc)&&ee(H,Pb,Qa,Hc);ri=!1;Jd=H.memoizedState;Pb.state=Jd;od(H,Qa,Pb,ib);var kf=H.memoizedState;fc!==$e||Jd!==kf||sh.current||ri?("function"===typeof Ke&&(kd(H,ha,Ke,Qa),kf=H.memoizedState),(rd=ri||lf(H,ha,rd,Qa,Jd,kf,Hc))?(oe||"function"!==typeof Pb.UNSAFE_componentWillUpdate&&"function"!==typeof Pb.componentWillUpdate||("function"===typeof Pb.componentWillUpdate&&Pb.componentWillUpdate(Qa,kf,Hc),"function"===typeof Pb.UNSAFE_componentWillUpdate&&Pb.UNSAFE_componentWillUpdate(Qa,kf,
Hc)),"function"===typeof Pb.componentDidUpdate&&(H.flags|=4),"function"===typeof Pb.getSnapshotBeforeUpdate&&(H.flags|=256)):("function"!==typeof Pb.componentDidUpdate||fc===v.memoizedProps&&Jd===v.memoizedState||(H.flags|=4),"function"!==typeof Pb.getSnapshotBeforeUpdate||fc===v.memoizedProps&&Jd===v.memoizedState||(H.flags|=256),H.memoizedProps=Qa,H.memoizedState=kf),Pb.props=Qa,Pb.state=kf,Pb.context=Hc,Qa=rd):("function"!==typeof Pb.componentDidUpdate||fc===v.memoizedProps&&Jd===v.memoizedState||
(H.flags|=4),"function"!==typeof Pb.getSnapshotBeforeUpdate||fc===v.memoizedProps&&Jd===v.memoizedState||(H.flags|=256),Qa=!1)}return Tb(v,H,ha,Qa,Ab,ib)}function Tb(v,H,ha,Qa,ib,Ab){Pa(v,H);var Pb=0!==(H.flags&64);if(!Qa&&!Pb)return ib&&Qf(H,ha,!1),Bd(v,H,Ab);Qa=H.stateNode;ti.current=H;var fc=Pb&&"function"!==typeof ha.getDerivedStateFromError?null:Qa.render();H.flags|=1;null!==v&&Pb?(H.child=pf(H,v.child,null,Ab),H.child=pf(H,null,fc,Ab)):Mb(v,H,fc,Ab);H.memoizedState=Qa.state;ib&&Qf(H,ha,!0);
return H.child}function Zb(v){var H=v.stateNode;H.pendingContext?gf(v,H.pendingContext,H.pendingContext!==H.context):H.context&&gf(v,H.context,!1);Oe(v,H.containerInfo)}function rc(v,H,ha){var Qa=H.pendingProps,ib=xg.current,Ab=!1,Pb;(Pb=0!==(H.flags&64))||(Pb=null!==v&&null===v.memoizedState?!1:0!==(ib&2));Pb?(Ab=!0,H.flags&=-65):null!==v&&null===v.memoizedState||void 0===Qa.fallback||!0===Qa.unstable_avoidThisFallback||(ib|=1);je(xg,ib&1);if(null===v){void 0!==Qa.fallback&&ic(H);v=Qa.children;ib=
Qa.fallback;if(Ab)return v=Gc(H,v,ib,ha),H.child.memoizedState={baseLanes:ha},H.memoizedState=Jk,v;if("number"===typeof Qa.unstable_expectedLoadTime)return v=Gc(H,v,ib,ha),H.child.memoizedState={baseLanes:ha},H.memoizedState=Jk,H.lanes=33554432,v;ha=oj({mode:"visible",children:v},H.mode,ha,null);ha.return=H;return H.child=ha}if(null!==v.memoizedState){if(Ab)return Qa=Zc(v,H,Qa.children,Qa.fallback,ha),Ab=H.child,ib=v.child.memoizedState,Ab.memoizedState=null===ib?{baseLanes:ha}:{baseLanes:ib.baseLanes|
ha},Ab.childLanes=v.childLanes&~ha,H.memoizedState=Jk,Qa;ha=dd(v,H,Qa.children,ha);H.memoizedState=null;return ha}if(Ab)return Qa=Zc(v,H,Qa.children,Qa.fallback,ha),Ab=H.child,ib=v.child.memoizedState,Ab.memoizedState=null===ib?{baseLanes:ha}:{baseLanes:ib.baseLanes|ha},Ab.childLanes=v.childLanes&~ha,H.memoizedState=Jk,Qa;ha=dd(v,H,Qa.children,ha);H.memoizedState=null;return ha}function Gc(v,H,ha,Qa){var ib=v.mode,Ab=v.child;H={mode:"hidden",children:H};0===(ib&2)&&null!==Ab?(Ab.childLanes=0,Ab.pendingProps=
H):Ab=oj(H,ib,0,null);ha=Ii(ha,ib,Qa,null);Ab.return=v;ha.return=v;Ab.sibling=ha;v.child=Ab;return ha}function dd(v,H,ha,Qa){var ib=v.child;v=ib.sibling;ha=th(ib,{mode:"visible",children:ha});0===(H.mode&2)&&(ha.lanes=Qa);ha.return=H;ha.sibling=null;null!==v&&(v.nextEffect=null,v.flags=8,H.firstEffect=H.lastEffect=v);return H.child=ha}function Zc(v,H,ha,Qa,ib){var Ab=H.mode,Pb=v.child;v=Pb.sibling;var fc={mode:"hidden",children:ha};0===(Ab&2)&&H.child!==Pb?(ha=H.child,ha.childLanes=0,ha.pendingProps=
fc,Pb=ha.lastEffect,null!==Pb?(H.firstEffect=ha.firstEffect,H.lastEffect=Pb,Pb.nextEffect=null):H.firstEffect=H.lastEffect=null):ha=th(Pb,fc);null!==v?Qa=th(v,Qa):(Qa=Ii(Qa,Ab,ib,null),Qa.flags|=2);Qa.return=H;ha.return=H;ha.sibling=Qa;H.child=ha;return Qa}function Kd(v,H){v.lanes|=H;var ha=v.alternate;null!==ha&&(ha.lanes|=H);Xb(v.return,H)}function Ud(v,H,ha,Qa,ib,Ab){var Pb=v.memoizedState;null===Pb?v.memoizedState={isBackwards:H,rendering:null,renderingStartTime:0,last:Qa,tail:ha,tailMode:ib,
lastEffect:Ab}:(Pb.isBackwards=H,Pb.rendering=null,Pb.renderingStartTime=0,Pb.last=Qa,Pb.tail=ha,Pb.tailMode=ib,Pb.lastEffect=Ab)}function pd(v,H,ha){var Qa=H.pendingProps,ib=Qa.revealOrder,Ab=Qa.tail;Mb(v,H,Qa.children,ha);Qa=xg.current;if(0!==(Qa&2))Qa=Qa&1|2,H.flags|=64;else{if(null!==v&&0!==(v.flags&64))a:for(v=H.child;null!==v;){if(13===v.tag)null!==v.memoizedState&&Kd(v,ha);else if(19===v.tag)Kd(v,ha);else if(null!==v.child){v.child.return=v;v=v.child;continue}if(v===H)break a;for(;null===v.sibling;){if(null===
v.return||v.return===H)break a;v=v.return}v.sibling.return=v.return;v=v.sibling}Qa&=1}je(xg,Qa);if(0===(H.mode&2))H.memoizedState=null;else switch(ib){case "forwards":ha=H.child;for(ib=null;null!==ha;)v=ha.alternate,null!==v&&null===wb(v)&&(ib=ha),ha=ha.sibling;ha=ib;null===ha?(ib=H.child,H.child=null):(ib=ha.sibling,ha.sibling=null);Ud(H,!1,ib,ha,Ab,H.lastEffect);break;case "backwards":ha=null;ib=H.child;for(H.child=null;null!==ib;){v=ib.alternate;if(null!==v&&null===wb(v)){H.child=ib;break}v=ib.sibling;
ib.sibling=ha;ha=ib;ib=v}Ud(H,!0,ha,null,Ab,H.lastEffect);break;case "together":Ud(H,!1,null,null,void 0,H.lastEffect);break;default:H.memoizedState=null}return H.child}function Bd(v,H,ha){null!==v&&(H.dependencies=v.dependencies);Fj|=H.lanes;if(0!==(ha&H.childLanes)){if(null!==v&&H.child!==v.child)throw Error(g(153));if(null!==H.child){v=H.child;ha=th(v,v.pendingProps);H.child=ha;for(ha.return=H;null!==v.sibling;)v=v.sibling,ha=ha.sibling=th(v,v.pendingProps),ha.return=H;ha.sibling=null}return H.child}return null}
function jd(v,H){if(!Ch)switch(v.tailMode){case "hidden":H=v.tail;for(var ha=null;null!==H;)null!==H.alternate&&(ha=H),H=H.sibling;null===ha?v.tail=null:ha.sibling=null;break;case "collapsed":ha=v.tail;for(var Qa=null;null!==ha;)null!==ha.alternate&&(Qa=ha),ha=ha.sibling;null===Qa?H||null===v.tail?v.tail=null:v.tail.sibling=null:Qa.sibling=null}}function cf(v,H,ha){var Qa=H.pendingProps;switch(H.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return De(H.type)&&
re(),null;case 3:Nf();xe(sh);xe(bh);Tc();Qa=H.stateNode;Qa.pendingContext&&(Qa.context=Qa.pendingContext,Qa.pendingContext=null);if(null===v||null===v.child)id(H)?H.flags|=4:Qa.hydrate||(H.flags|=256);cl(H);return null;case 5:Ia(H);var ib=tf(Hj.current);ha=H.type;if(null!==v&&null!=H.stateNode)Ol(v,H,ha,Qa,ib),v.ref!==H.ref&&(H.flags|=128);else{if(!Qa){if(null===H.stateNode)throw Error(g(166));return null}v=tf(wg.current);if(id(H)){Qa=H.stateNode;ha=H.type;var Ab=H.memoizedProps;Qa[Fi]=H;Qa[Ek]=Ab;
switch(ha){case "dialog":me("cancel",Qa);me("close",Qa);break;case "iframe":case "object":case "embed":me("load",Qa);break;case "video":case "audio":for(v=0;v<Sf.length;v++)me(Sf[v],Qa);break;case "source":me("error",Qa);break;case "img":case "image":case "link":me("error",Qa);me("load",Qa);break;case "details":me("toggle",Qa);break;case "input":z(Qa,Ab);me("invalid",Qa);break;case "select":Qa._wrapperState={wasMultiple:!!Ab.multiple};me("invalid",Qa);break;case "textarea":Z(Qa,Ab),me("invalid",Qa)}Da(ha,
Ab);v=null;for(var Pb in Ab)Ab.hasOwnProperty(Pb)&&(ib=Ab[Pb],"children"===Pb?"string"===typeof ib?Qa.textContent!==ib&&(v=["children",ib]):"number"===typeof ib&&Qa.textContent!==""+ib&&(v=["children",""+ib]):vi.hasOwnProperty(Pb)&&null!=ib&&"onScroll"===Pb&&me("scroll",Qa));switch(ha){case "input":D(Qa);R(Qa,Ab,!0);break;case "textarea":D(Qa);r(Qa);break;case "select":case "option":break;default:"function"===typeof Ab.onClick&&(Qa.onclick=le)}Qa=v;H.updateQueue=Qa;null!==Qa&&(H.flags|=4)}else{Pb=
9===ib.nodeType?ib:ib.ownerDocument;v===pj.html&&(v=N(ha));v===pj.html?"script"===ha?(v=Pb.createElement("div"),v.innerHTML="\x3cscript\x3e\x3c/script\x3e",v=v.removeChild(v.firstChild)):"string"===typeof Qa.is?v=Pb.createElement(ha,{is:Qa.is}):(v=Pb.createElement(ha),"select"===ha&&(Pb=v,Qa.multiple?Pb.multiple=!0:Qa.size&&(Pb.size=Qa.size))):v=Pb.createElementNS(v,ha);v[Fi]=H;v[Ek]=Qa;Ki(v,H,!1,!1);H.stateNode=v;Pb=$a(ha,Qa);switch(ha){case "dialog":me("cancel",v);me("close",v);ib=Qa;break;case "iframe":case "object":case "embed":me("load",
v);ib=Qa;break;case "video":case "audio":for(ib=0;ib<Sf.length;ib++)me(Sf[ib],v);ib=Qa;break;case "source":me("error",v);ib=Qa;break;case "img":case "image":case "link":me("error",v);me("load",v);ib=Qa;break;case "details":me("toggle",v);ib=Qa;break;case "input":z(v,Qa);ib=G(v,Qa);me("invalid",v);break;case "option":ib=ba(v,Qa);break;case "select":v._wrapperState={wasMultiple:!!Qa.multiple};ib=eg({},Qa,{value:void 0});me("invalid",v);break;case "textarea":Z(v,Qa);ib=ja(v,Qa);me("invalid",v);break;
default:ib=Qa}Da(ha,ib);var fc=ib;for(Ab in fc)if(fc.hasOwnProperty(Ab)){var Hc=fc[Ab];"style"===Ab?ta(v,Hc):"dangerouslySetInnerHTML"===Ab?(Hc=Hc?Hc.__html:void 0,null!=Hc&&Ij(v,Hc)):"children"===Ab?"string"===typeof Hc?("textarea"!==ha||""!==Hc)&&aa(v,Hc):"number"===typeof Hc&&aa(v,""+Hc):"suppressContentEditableWarning"!==Ab&&"suppressHydrationWarning"!==Ab&&"autoFocus"!==Ab&&(vi.hasOwnProperty(Ab)?null!=Hc&&"onScroll"===Ab&&me("scroll",v):null!=Hc&&l(v,Ab,Hc,Pb))}switch(ha){case "input":D(v);
R(v,Qa,!1);break;case "textarea":D(v);r(v);break;case "option":null!=Qa.value&&v.setAttribute("value",""+p(Qa.value));break;case "select":v.multiple=!!Qa.multiple;Ab=Qa.value;null!=Ab?da(v,!!Qa.multiple,Ab,!1):null!=Qa.defaultValue&&da(v,!!Qa.multiple,Qa.defaultValue,!0);break;default:"function"===typeof ib.onClick&&(v.onclick=le)}ye(ha,Qa)&&(H.flags|=4)}null!==H.ref&&(H.flags|=128)}return null;case 6:if(v&&null!=H.stateNode)Li(v,H,v.memoizedProps,Qa);else{if("string"!==typeof Qa&&null===H.stateNode)throw Error(g(166));
ha=tf(Hj.current);tf(wg.current);id(H)?(Qa=H.stateNode,ha=H.memoizedProps,Qa[Fi]=H,Qa.nodeValue!==ha&&(H.flags|=4)):(Qa=(9===ha.nodeType?ha:ha.ownerDocument).createTextNode(Qa),Qa[Fi]=H,H.stateNode=Qa)}return null;case 13:xe(xg);Qa=H.memoizedState;if(0!==(H.flags&64))return H.lanes=ha,H;Qa=null!==Qa;ha=!1;null===v?void 0!==H.memoizedProps.fallback&&id(H):ha=null!==v.memoizedState;if(Qa&&!ha&&0!==(H.mode&2))if(null===v&&!0!==H.memoizedProps.unstable_avoidThisFallback||0!==(xg.current&1))0===Qg&&(Qg=
3);else{if(0===Qg||3===Qg)Qg=4;null===lh||0===(Fj&134217727)&&0===(Jj&134217727)||ne(lh,fh)}if(Qa||ha)H.flags|=4;return null;case 4:return Nf(),cl(H),null===v&&ff(H.stateNode.containerInfo),null;case 10:return vb(H),null;case 17:return De(H.type)&&re(),null;case 19:xe(xg);Qa=H.memoizedState;if(null===Qa)return null;Ab=0!==(H.flags&64);Pb=Qa.rendering;if(null===Pb)if(Ab)jd(Qa,!1);else{if(0!==Qg||null!==v&&0!==(v.flags&64))for(v=H.child;null!==v;){Pb=wb(v);if(null!==Pb){H.flags|=64;jd(Qa,!1);Ab=Pb.updateQueue;
null!==Ab&&(H.updateQueue=Ab,H.flags|=4);null===Qa.lastEffect&&(H.firstEffect=null);H.lastEffect=Qa.lastEffect;Qa=ha;for(ha=H.child;null!==ha;)Ab=ha,v=Qa,Ab.flags&=2,Ab.nextEffect=null,Ab.firstEffect=null,Ab.lastEffect=null,Pb=Ab.alternate,null===Pb?(Ab.childLanes=0,Ab.lanes=v,Ab.child=null,Ab.memoizedProps=null,Ab.memoizedState=null,Ab.updateQueue=null,Ab.dependencies=null,Ab.stateNode=null):(Ab.childLanes=Pb.childLanes,Ab.lanes=Pb.lanes,Ab.child=Pb.child,Ab.memoizedProps=Pb.memoizedProps,Ab.memoizedState=
Pb.memoizedState,Ab.updateQueue=Pb.updateQueue,Ab.type=Pb.type,v=Pb.dependencies,Ab.dependencies=null===v?null:{lanes:v.lanes,firstContext:v.firstContext}),ha=ha.sibling;je(xg,xg.current&1|2);return H.child}v=v.sibling}null!==Qa.tail&&gh()>kk&&(H.flags|=64,Ab=!0,jd(Qa,!1),H.lanes=33554432)}else{if(!Ab)if(v=wb(Pb),null!==v){if(H.flags|=64,Ab=!0,ha=v.updateQueue,null!==ha&&(H.updateQueue=ha,H.flags|=4),jd(Qa,!0),null===Qa.tail&&"hidden"===Qa.tailMode&&!Pb.alternate&&!Ch)return H=H.lastEffect=Qa.lastEffect,
null!==H&&(H.nextEffect=null),null}else 2*gh()-Qa.renderingStartTime>kk&&1073741824!==ha&&(H.flags|=64,Ab=!0,jd(Qa,!1),H.lanes=33554432);Qa.isBackwards?(Pb.sibling=H.child,H.child=Pb):(ha=Qa.last,null!==ha?ha.sibling=Pb:H.child=Pb,Qa.last=Pb)}return null!==Qa.tail?(ha=Qa.tail,Qa.rendering=ha,Qa.tail=ha.sibling,Qa.lastEffect=H.lastEffect,Qa.renderingStartTime=gh(),ha.sibling=null,H=xg.current,je(xg,Ab?H&1|2:H&1),ha):null;case 23:case 24:return We(),null!==v&&null!==v.memoizedState!==(null!==H.memoizedState)&&
"unstable-defer-without-hiding"!==Qa.mode&&(H.flags|=4),null}throw Error(g(156,H.tag));}function Va(v){switch(v.tag){case 1:De(v.type)&&re();var H=v.flags;return H&4096?(v.flags=H&-4097|64,v):null;case 3:Nf();xe(sh);xe(bh);Tc();H=v.flags;if(0!==(H&64))throw Error(g(285));v.flags=H&-4097|64;return v;case 5:return Ia(v),null;case 13:return xe(xg),H=v.flags,H&4096?(v.flags=H&-4097|64,v):null;case 19:return xe(xg),null;case 4:return Nf(),null;case 10:return vb(v),null;case 23:case 24:return We(),null;
default:return null}}function pb(v,H){try{var ha="",Qa=H;do ha+=a(Qa),Qa=Qa.return;while(Qa)}catch(ib){ha="\nError generating stack: "+ib.message+"\n"+ib.stack}return{value:v,source:H,stack:ha}}function Cb(v,H){try{console.error(H.value)}catch(ha){setTimeout(function(){throw ha;})}}function Ob(v,H,ha){ha=Ld(-1,ha);ha.tag=3;ha.payload={element:null};var Qa=H.value;ha.callback=function(){Dg||(Dg=!0,lk=Qa);Cb(v,H)};return ha}function bc(v,H,ha){ha=Ld(-1,ha);ha.tag=3;var Qa=v.type.getDerivedStateFromError;
if("function"===typeof Qa){var ib=H.value;ha.payload=function(){Cb(v,H);return Qa(ib)}}var Ab=v.stateNode;null!==Ab&&"function"===typeof Ab.componentDidCatch&&(ha.callback=function(){"function"!==typeof Qa&&(null===ai?ai=new Set([this]):ai.add(this),Cb(v,H));var Pb=H.stack;this.componentDidCatch(H.value,{componentStack:null!==Pb?Pb:""})});return ha}function Mc(v){var H=v.ref;if(null!==H)if("function"===typeof H)try{H(null)}catch(ha){nh(v,ha)}else H.current=null}function w(v,H){switch(H.tag){case 0:case 11:case 15:case 22:return;
case 1:if(H.flags&256&&null!==v){var ha=v.memoizedProps,Qa=v.memoizedState;v=H.stateNode;H=v.getSnapshotBeforeUpdate(H.elementType===H.type?ha:Hb(H.type,ha),Qa);v.__reactInternalSnapshotBeforeUpdate=H}return;case 3:H.flags&256&&Ge(H.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(g(163));}function S(v,H,ha){switch(ha.tag){case 0:case 11:case 15:case 22:H=ha.updateQueue;H=null!==H?H.lastEffect:null;if(null!==H){v=H=H.next;do{if(3===(v.tag&3)){var Qa=v.create;v.destroy=
Qa()}v=v.next}while(v!==H)}H=ha.updateQueue;H=null!==H?H.lastEffect:null;if(null!==H){v=H=H.next;do{var ib=v;Qa=ib.next;ib=ib.tag;0!==(ib&4)&&0!==(ib&1)&&(Kk(ha,v),mk(ha,v));v=Qa}while(v!==H)}return;case 1:v=ha.stateNode;ha.flags&4&&(null===H?v.componentDidMount():(Qa=ha.elementType===ha.type?H.memoizedProps:Hb(ha.type,H.memoizedProps),v.componentDidUpdate(Qa,H.memoizedState,v.__reactInternalSnapshotBeforeUpdate)));H=ha.updateQueue;null!==H&&Rd(ha,H,v);return;case 3:H=ha.updateQueue;if(null!==H){v=
null;if(null!==ha.child)switch(ha.child.tag){case 5:v=ha.child.stateNode;break;case 1:v=ha.child.stateNode}Rd(ha,H,v)}return;case 5:v=ha.stateNode;null===H&&ha.flags&4&&ye(ha.type,ha.memoizedProps)&&v.focus();return;case 6:return;case 4:return;case 12:return;case 13:null===ha.memoizedState&&(ha=ha.alternate,null!==ha&&(ha=ha.memoizedState,null!==ha&&(ha=ha.dehydrated,null!==ha&&kc(ha))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(g(163));}function ma(v,H){for(var ha=
v;;){if(5===ha.tag){var Qa=ha.stateNode;if(H)Qa=Qa.style,"function"===typeof Qa.setProperty?Qa.setProperty("display","none","important"):Qa.display="none";else{Qa=ha.stateNode;var ib=ha.memoizedProps.style;ib=void 0!==ib&&null!==ib&&ib.hasOwnProperty("display")?ib.display:null;Qa.style.display=va("display",ib)}}else if(6===ha.tag)ha.stateNode.nodeValue=H?"":ha.memoizedProps;else if((23!==ha.tag&&24!==ha.tag||null===ha.memoizedState||ha===v)&&null!==ha.child){ha.child.return=ha;ha=ha.child;continue}if(ha===
v)break;for(;null===ha.sibling;){if(null===ha.return||ha.return===v)return;ha=ha.return}ha.sibling.return=ha.return;ha=ha.sibling}}function La(v,H){if(Mi&&"function"===typeof Mi.onCommitFiberUnmount)try{Mi.onCommitFiberUnmount(Lk,H)}catch(Ab){}switch(H.tag){case 0:case 11:case 14:case 15:case 22:v=H.updateQueue;if(null!==v&&(v=v.lastEffect,null!==v)){var ha=v=v.next;do{var Qa=ha,ib=Qa.destroy;Qa=Qa.tag;if(void 0!==ib)if(0!==(Qa&4))Kk(H,ha);else{Qa=H;try{ib()}catch(Ab){nh(Qa,Ab)}}ha=ha.next}while(ha!==
v)}break;case 1:Mc(H);v=H.stateNode;if("function"===typeof v.componentWillUnmount)try{v.props=H.memoizedProps,v.state=H.memoizedState,v.componentWillUnmount()}catch(Ab){nh(H,Ab)}break;case 5:Mc(H);break;case 4:Wb(v,H)}}function gb(v){v.alternate=null;v.child=null;v.dependencies=null;v.firstEffect=null;v.lastEffect=null;v.memoizedProps=null;v.memoizedState=null;v.pendingProps=null;v.return=null;v.updateQueue=null}function mb(v){return 5===v.tag||3===v.tag||4===v.tag}function tb(v){a:{for(var H=v.return;null!==
H;){if(mb(H))break a;H=H.return}throw Error(g(160));}var ha=H;H=ha.stateNode;switch(ha.tag){case 5:var Qa=!1;break;case 3:H=H.containerInfo;Qa=!0;break;case 4:H=H.containerInfo;Qa=!0;break;default:throw Error(g(161));}ha.flags&16&&(aa(H,""),ha.flags&=-17);ha=v;a:b:for(;;){for(;null===ha.sibling;){if(null===ha.return||mb(ha.return)){ha=null;break a}ha=ha.return}ha.sibling.return=ha.return;for(ha=ha.sibling;5!==ha.tag&&6!==ha.tag&&18!==ha.tag;){if(ha.flags&2)continue b;if(null===ha.child||4===ha.tag)continue b;
else ha.child.return=ha,ha=ha.child}if(!(ha.flags&2)){ha=ha.stateNode;break a}}Qa?Rb(v,ha,H):ec(v,ha,H)}function Rb(v,H,ha){var Qa=v.tag,ib=5===Qa||6===Qa;if(ib)v=ib?v.stateNode:v.stateNode.instance,H?8===ha.nodeType?ha.parentNode.insertBefore(v,H):ha.insertBefore(v,H):(8===ha.nodeType?(H=ha.parentNode,H.insertBefore(v,ha)):(H=ha,H.appendChild(v)),ha=ha._reactRootContainer,null!==ha&&void 0!==ha||null!==H.onclick||(H.onclick=le));else if(4!==Qa&&(v=v.child,null!==v))for(Rb(v,H,ha),v=v.sibling;null!==
v;)Rb(v,H,ha),v=v.sibling}function ec(v,H,ha){var Qa=v.tag,ib=5===Qa||6===Qa;if(ib)v=ib?v.stateNode:v.stateNode.instance,H?ha.insertBefore(v,H):ha.appendChild(v);else if(4!==Qa&&(v=v.child,null!==v))for(ec(v,H,ha),v=v.sibling;null!==v;)ec(v,H,ha),v=v.sibling}function Wb(v,H){for(var ha=H,Qa=!1,ib,Ab;;){if(!Qa){Qa=ha.return;a:for(;;){if(null===Qa)throw Error(g(160));ib=Qa.stateNode;switch(Qa.tag){case 5:Ab=!1;break a;case 3:ib=ib.containerInfo;Ab=!0;break a;case 4:ib=ib.containerInfo;Ab=!0;break a}Qa=
Qa.return}Qa=!0}if(5===ha.tag||6===ha.tag){var Pb=v,fc=ha,Hc=fc;a:for(;;)if(La(Pb,Hc),null!==Hc.child&&4!==Hc.tag)Hc.child.return=Hc,Hc=Hc.child;else{if(Hc===fc)break a;for(;null===Hc.sibling;){if(null===Hc.return||Hc.return===fc)break a;Hc=Hc.return}Hc.sibling.return=Hc.return;Hc=Hc.sibling}Ab?(Pb=ib,fc=ha.stateNode,8===Pb.nodeType?Pb.parentNode.removeChild(fc):Pb.removeChild(fc)):ib.removeChild(ha.stateNode)}else if(4===ha.tag){if(null!==ha.child){ib=ha.stateNode.containerInfo;Ab=!0;ha.child.return=
ha;ha=ha.child;continue}}else if(La(v,ha),null!==ha.child){ha.child.return=ha;ha=ha.child;continue}if(ha===H)break;for(;null===ha.sibling;){if(null===ha.return||ha.return===H)return;ha=ha.return;4===ha.tag&&(Qa=!1)}ha.sibling.return=ha.return;ha=ha.sibling}}function Pc(v,H){switch(H.tag){case 0:case 11:case 14:case 15:case 22:var ha=H.updateQueue;ha=null!==ha?ha.lastEffect:null;if(null!==ha){var Qa=ha=ha.next;do 3===(Qa.tag&3)&&(v=Qa.destroy,Qa.destroy=void 0,void 0!==v&&v()),Qa=Qa.next;while(Qa!==
ha)}return;case 1:return;case 5:ha=H.stateNode;if(null!=ha){Qa=H.memoizedProps;var ib=null!==v?v.memoizedProps:Qa;v=H.type;var Ab=H.updateQueue;H.updateQueue=null;if(null!==Ab){ha[Ek]=Qa;"input"===v&&"radio"===Qa.type&&null!=Qa.name&&J(ha,Qa);$a(v,ib);H=$a(v,Qa);for(ib=0;ib<Ab.length;ib+=2){var Pb=Ab[ib],fc=Ab[ib+1];"style"===Pb?ta(ha,fc):"dangerouslySetInnerHTML"===Pb?Ij(ha,fc):"children"===Pb?aa(ha,fc):l(ha,Pb,fc,H)}switch(v){case "input":K(ha,Qa);break;case "textarea":Q(ha,Qa);break;case "select":v=
ha._wrapperState.wasMultiple,ha._wrapperState.wasMultiple=!!Qa.multiple,Ab=Qa.value,null!=Ab?da(ha,!!Qa.multiple,Ab,!1):v!==!!Qa.multiple&&(null!=Qa.defaultValue?da(ha,!!Qa.multiple,Qa.defaultValue,!0):da(ha,!!Qa.multiple,Qa.multiple?[]:"",!1))}}}return;case 6:if(null===H.stateNode)throw Error(g(162));H.stateNode.nodeValue=H.memoizedProps;return;case 3:ha=H.stateNode;ha.hydrate&&(ha.hydrate=!1,kc(ha.containerInfo));return;case 12:return;case 13:null!==H.memoizedState&&(Mk=gh(),ma(H.child,!0));ed(H);
return;case 19:ed(H);return;case 17:return;case 23:case 24:ma(H,null!==H.memoizedState);return}throw Error(g(163));}function ed(v){var H=v.updateQueue;if(null!==H){v.updateQueue=null;var ha=v.stateNode;null===ha&&(ha=v.stateNode=new vl);H.forEach(function(Qa){var ib=Kj.bind(null,v,Qa);ha.has(Qa)||(ha.add(Qa),Qa.then(ib,ib))})}}function zd(v,H){return null!==v&&(v=v.memoizedState,null===v||null!==v.dehydrated)?(H=H.memoizedState,null!==H&&null===H.dehydrated):!1}function qd(){kk=gh()+500}function bd(){return 0!==
(mf&48)?gh():-1!==Nk?Nk:Nk=gh()}function Kc(v){v=v.mode;if(0===(v&2))return 1;if(0===(v&4))return 99===Jf()?1:2;0===Ni&&(Ni=Oi);if(0!==Pl.transition){0!==Tg&&(Tg=null!==dl?dl.pendingLanes:0);v=Ni;var H=4186112&~Tg;H&=-H;0===H&&(v=4186112&~v,H=v&-v,0===H&&(H=8192));return H}v=Jf();0!==(mf&4)&&98===v?v=Lc(12,Ni):(v=zc(v),v=Lc(v,Ni));return v}function ud(v,H,ha){if(50<Pg)throw Pg=0,Pi=null,Error(g(185));v=de(v,H);if(null===v)return null;vd(v,H,ha);v===lh&&(Jj|=H,4===Qg&&ne(v,fh));var Qa=Jf();1===H?0!==
(mf&8)&&0===(mf&48)?Tf(v):(Sd(v,ha),0===mf&&(qd(),Ba())):(0===(mf&4)||98!==Qa&&99!==Qa||(null===Jg?Jg=new Set([v]):Jg.add(v)),Sd(v,ha));dl=v}function de(v,H){v.lanes|=H;var ha=v.alternate;null!==ha&&(ha.lanes|=H);ha=v;for(v=v.return;null!==v;)v.childLanes|=H,ha=v.alternate,null!==ha&&(ha.childLanes|=H),ha=v,v=v.return;return 3===ha.tag?ha.stateNode:null}function Sd(v,H){for(var ha=v.callbackNode,Qa=v.suspendedLanes,ib=v.pingedLanes,Ab=v.expirationTimes,Pb=v.pendingLanes;0<Pb;){var fc=31-Xh(Pb),Hc=
1<<fc,rd=Ab[fc];if(-1===rd){if(0===(Hc&Qa)||0!==(Hc&ib)){rd=H;nc(Hc);var oe=Xf;Ab[fc]=10<=oe?rd+250:6<=oe?rd+5E3:-1}}else rd<=H&&(v.expiredLanes|=Hc);Pb&=~Hc}Qa=Vc(v,v===lh?fh:0);H=Xf;if(0===Qa)null!==ha&&(ha!==el&&fk(ha),v.callbackNode=null,v.callbackPriority=0);else{if(null!==ha){if(v.callbackPriority===H)return;ha!==el&&fk(ha)}15===H?(ha=Tf.bind(null,v),null===Hi?(Hi=[ha],Dj=$k(Fk,Ya)):Hi.push(ha),ha=el):14===H?ha=xa(99,Tf.bind(null,v)):(ha=qc(H),ha=xa(ha,ve.bind(null,v)));v.callbackPriority=H;
v.callbackNode=ha}}function ve(v){Nk=-1;Tg=Ni=0;if(0!==(mf&48))throw Error(g(327));var H=v.callbackNode;if(Rh()&&v.callbackNode!==H)return null;var ha=Vc(v,v===lh?fh:0);if(0===ha)return null;var Qa=ha,ib=mf;mf|=16;var Ab=Cf();if(lh!==v||fh!==Qa)qd(),Kf(v,Qa);do try{for(;null!==Rg&&!wl();)Af(Rg);break}catch(fc){jf(v,fc)}while(1);Yi=Zi=Ej=null;Ok.current=Ab;mf=ib;null!==Rg?Qa=0:(lh=null,fh=0,Qa=Qg);if(0!==(Oi&Jj))Kf(v,0);else if(0!==Qa){2===Qa&&(mf|=64,v.hydrate&&(v.hydrate=!1,Ge(v.containerInfo)),
ha=Uc(v),0!==ha&&(Qa=xf(v,ha)));if(1===Qa)throw H=nk,Kf(v,0),ne(v,ha),Sd(v,gh()),H;v.finishedWork=v.current.alternate;v.finishedLanes=ha;switch(Qa){case 0:case 1:throw Error(g(345));case 2:Zf(v);break;case 3:ne(v,ha);if((ha&62914560)===ha&&(Qa=Mk+500-gh(),10<Qa)){if(0!==Vc(v,0))break;ib=v.suspendedLanes;if((ib&ha)!==ha){bd();v.pingedLanes|=v.suspendedLanes&ib;break}v.timeoutHandle=bi(Zf.bind(null,v),Qa);break}Zf(v);break;case 4:ne(v,ha);if((ha&4186112)===ha)break;Qa=v.eventTimes;for(ib=-1;0<ha;){var Pb=
31-Xh(ha);Ab=1<<Pb;Pb=Qa[Pb];Pb>ib&&(ib=Pb);ha&=~Ab}ha=ib;ha=gh()-ha;ha=(120>ha?120:480>ha?480:1080>ha?1080:1920>ha?1920:3E3>ha?3E3:4320>ha?4320:1960*xl(ha/1960))-ha;if(10<ha){v.timeoutHandle=bi(Zf.bind(null,v),ha);break}Zf(v);break;case 5:Zf(v);break;default:throw Error(g(329));}}Sd(v,gh());return v.callbackNode===H?ve.bind(null,v):null}function ne(v,H){H&=~Pk;H&=~Jj;v.suspendedLanes|=H;v.pingedLanes&=~H;for(v=v.expirationTimes;0<H;){var ha=31-Xh(H),Qa=1<<ha;v[ha]=-1;H&=~Qa}}function Tf(v){if(0!==
(mf&48))throw Error(g(327));Rh();if(v===lh&&0!==(v.expiredLanes&fh)){var H=fh,ha=xf(v,H);0!==(Oi&Jj)&&(H=Vc(v,H),ha=xf(v,H))}else H=Vc(v,0),ha=xf(v,H);0!==v.tag&&2===ha&&(mf|=64,v.hydrate&&(v.hydrate=!1,Ge(v.containerInfo)),H=Uc(v),0!==H&&(ha=xf(v,H)));if(1===ha)throw ha=nk,Kf(v,0),ne(v,H),Sd(v,gh()),ha;v.finishedWork=v.current.alternate;v.finishedLanes=H;Zf(v);Sd(v,gh());return null}function se(){if(null!==Jg){var v=Jg;Jg=null;v.forEach(function(H){H.expiredLanes|=24&H.pendingLanes;Sd(H,gh())})}Ba()}
function te(v,H){var ha=mf;mf|=1;try{return v(H)}finally{mf=ha,0===mf&&(qd(),Ba())}}function Be(v,H){var ha=mf;mf&=-2;mf|=8;try{return v(H)}finally{mf=ha,0===mf&&(qd(),Ba())}}function wd(v,H){je(fl,qj);qj|=H;Oi|=H}function We(){qj=fl.current;xe(fl)}function Kf(v,H){v.finishedWork=null;v.finishedLanes=0;var ha=v.timeoutHandle;-1!==ha&&(v.timeoutHandle=-1,Lj(ha));if(null!==Rg)for(ha=Rg.return;null!==ha;){var Qa=ha;switch(Qa.tag){case 1:Qa=Qa.type.childContextTypes;null!==Qa&&void 0!==Qa&&re();break;
case 3:Nf();xe(sh);xe(bh);Tc();break;case 5:Ia(Qa);break;case 4:Nf();break;case 13:xe(xg);break;case 19:xe(xg);break;case 10:vb(Qa);break;case 23:case 24:We()}ha=ha.return}lh=v;Rg=th(v.current,null);fh=qj=Oi=H;Qg=0;nk=null;Pk=Jj=Fj=0}function jf(v,H){do{var ha=Rg;try{Yi=Zi=Ej=null;ch.current=eh;if(Ik){for(var Qa=lg.memoizedState;null!==Qa;){var ib=Qa.queue;null!==ib&&(ib.pending=null);Qa=Qa.next}Ik=!1}ik=0;Og=dh=lg=null;jk=!1;gl.current=null;if(null===ha||null===ha.return){Qg=1;nk=H;Rg=null;break}a:{var Ab=
v,Pb=ha.return,fc=ha,Hc=H;H=fh;fc.flags|=2048;fc.firstEffect=fc.lastEffect=null;if(null!==Hc&&"object"===typeof Hc&&"function"===typeof Hc.then){var rd=Hc;if(0===(fc.mode&2)){var oe=fc.alternate;oe?(fc.updateQueue=oe.updateQueue,fc.memoizedState=oe.memoizedState,fc.lanes=oe.lanes):(fc.updateQueue=null,fc.memoizedState=null)}var $e=0!==(xg.current&1),Jd=Pb;do{var Ke;if(Ke=13===Jd.tag){var kf=Jd.memoizedState;if(null!==kf)Ke=null!==kf.dehydrated?!0:!1;else{var af=Jd.memoizedProps;Ke=void 0===af.fallback?
!1:!0!==af.unstable_avoidThisFallback?!0:$e?!1:!0}}if(Ke){var cd=Jd.updateQueue;if(null===cd){var Nc=new Set;Nc.add(rd);Jd.updateQueue=Nc}else cd.add(rd);if(0===(Jd.mode&2)){Jd.flags|=64;fc.flags|=16384;fc.flags&=-2981;if(1===fc.tag)if(null===fc.alternate)fc.tag=17;else{var Yc=Ld(-1,1);Yc.tag=2;Nd(fc,Yc)}fc.lanes|=1;break a}Hc=void 0;fc=H;var Dd=Ab.pingCache;null===Dd?(Dd=Ab.pingCache=new Qk,Hc=new Set,Dd.set(rd,Hc)):(Hc=Dd.get(rd),void 0===Hc&&(Hc=new Set,Dd.set(rd,Hc)));if(!Hc.has(fc)){Hc.add(fc);
var Id=Qi.bind(null,Ab,rd,fc);rd.then(Id,Id)}Jd.flags|=4096;Jd.lanes=H;break a}Jd=Jd.return}while(null!==Jd);Hc=Error((f(fc.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a \x3cSuspense fallback\x3d...\x3e component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Qg&&(Qg=2);Hc=pb(Hc,fc);Jd=Pb;do{switch(Jd.tag){case 3:Ab=Hc;Jd.flags|=4096;H&=-H;Jd.lanes|=H;var rf=Ob(Jd,Ab,H);Od(Jd,rf);break a;case 1:Ab=Hc;var Ee=
Jd.type,sf=Jd.stateNode;if(0===(Jd.flags&64)&&("function"===typeof Ee.getDerivedStateFromError||null!==sf&&"function"===typeof sf.componentDidCatch&&(null===ai||!ai.has(sf)))){Jd.flags|=4096;H&=-H;Jd.lanes|=H;var Gf=bc(Jd,Ab,H);Od(Jd,Gf);break a}}Jd=Jd.return}while(null!==Jd)}Uf(ha)}catch(wf){H=wf;Rg===ha&&null!==ha&&(Rg=ha.return);continue}break}while(1)}function Cf(){var v=Ok.current;Ok.current=eh;return null===v?eh:v}function xf(v,H){var ha=mf;mf|=16;var Qa=Cf();lh===v&&fh===H||Kf(v,H);do try{for(;null!==
Rg;)Af(Rg);break}catch(ib){jf(v,ib)}while(1);Yi=Zi=Ej=null;mf=ha;Ok.current=Qa;if(null!==Rg)throw Error(g(261));lh=null;fh=0;return Qg}function Af(v){var H=Rk(v.alternate,v,qj);v.memoizedProps=v.pendingProps;null===H?Uf(v):Rg=H;gl.current=null}function Uf(v){var H=v;do{var ha=H.alternate;v=H.return;if(0===(H.flags&2048)){ha=cf(ha,H,qj);if(null!==ha){Rg=ha;return}ha=H;if(24!==ha.tag&&23!==ha.tag||null===ha.memoizedState||0!==(qj&1073741824)||0===(ha.mode&4)){for(var Qa=0,ib=ha.child;null!==ib;)Qa|=
ib.lanes|ib.childLanes,ib=ib.sibling;ha.childLanes=Qa}null!==v&&0===(v.flags&2048)&&(null===v.firstEffect&&(v.firstEffect=H.firstEffect),null!==H.lastEffect&&(null!==v.lastEffect&&(v.lastEffect.nextEffect=H.firstEffect),v.lastEffect=H.lastEffect),1<H.flags&&(null!==v.lastEffect?v.lastEffect.nextEffect=H:v.firstEffect=H,v.lastEffect=H))}else{ha=Va(H);if(null!==ha){ha.flags&=2047;Rg=ha;return}null!==v&&(v.firstEffect=v.lastEffect=null,v.flags|=2048)}H=H.sibling;if(null!==H){Rg=H;return}Rg=H=v}while(null!==
H);0===Qg&&(Qg=5)}function Zf(v){var H=Jf();Bc(99,Ug.bind(null,v,H));return null}function Ug(v,H){do Rh();while(null!==oh);if(0!==(mf&48))throw Error(g(327));var ha=v.finishedWork;if(null===ha)return null;v.finishedWork=null;v.finishedLanes=0;if(ha===v.current)throw Error(g(177));v.callbackNode=null;var Qa=ha.lanes|ha.childLanes,ib=Qa,Ab=v.pendingLanes&~ib;v.pendingLanes=ib;v.suspendedLanes=0;v.pingedLanes=0;v.expiredLanes&=ib;v.mutableReadLanes&=ib;v.entangledLanes&=ib;ib=v.entanglements;for(var Pb=
v.eventTimes,fc=v.expirationTimes;0<Ab;){var Hc=31-Xh(Ab),rd=1<<Hc;ib[Hc]=0;Pb[Hc]=-1;fc[Hc]=-1;Ab&=~rd}null!==Jg&&0===(Qa&24)&&Jg.has(v)&&Jg.delete(v);v===lh&&(Rg=lh=null,fh=0);1<ha.flags?null!==ha.lastEffect?(ha.lastEffect.nextEffect=ha,Qa=ha.firstEffect):Qa=ha:Qa=ha.firstEffect;if(null!==Qa){ib=mf;mf|=32;gl.current=null;Vg=Wi;Pb=Ed();if(Xd(Pb)){if("selectionStart"in Pb)fc={start:Pb.selectionStart,end:Pb.selectionEnd};else a:if(fc=(fc=Pb.ownerDocument)&&fc.defaultView||window,(rd=fc.getSelection&&
fc.getSelection())&&0!==rd.rangeCount){fc=rd.anchorNode;Ab=rd.anchorOffset;Hc=rd.focusNode;rd=rd.focusOffset;try{fc.nodeType,Hc.nodeType}catch(wf){fc=null;break a}var oe=0,$e=-1,Jd=-1,Ke=0,kf=0,af=Pb,cd=null;b:for(;;){for(var Nc;;){af!==fc||0!==Ab&&3!==af.nodeType||($e=oe+Ab);af!==Hc||0!==rd&&3!==af.nodeType||(Jd=oe+rd);3===af.nodeType&&(oe+=af.nodeValue.length);if(null===(Nc=af.firstChild))break;cd=af;af=Nc}for(;;){if(af===Pb)break b;cd===fc&&++Ke===Ab&&($e=oe);cd===Hc&&++kf===rd&&(Jd=oe);if(null!==
(Nc=af.nextSibling))break;af=cd;cd=af.parentNode}af=Nc}fc=-1===$e||-1===Jd?null:{start:$e,end:Jd}}else fc=null;fc=fc||{start:0,end:0}}else fc=null;Sh={focusedElem:Pb,selectionRange:fc};Wi=!1;Mj=null;rj=!1;ze=Qa;do try{Eh()}catch(wf){if(null===ze)throw Error(g(330));nh(ze,wf);ze=ze.nextEffect}while(null!==ze);Mj=null;ze=Qa;do try{for(Pb=v;null!==ze;){var Yc=ze.flags;Yc&16&&aa(ze.stateNode,"");if(Yc&128){var Dd=ze.alternate;if(null!==Dd){var Id=Dd.ref;null!==Id&&("function"===typeof Id?Id(null):Id.current=
null)}}switch(Yc&1038){case 2:tb(ze);ze.flags&=-3;break;case 6:tb(ze);ze.flags&=-3;Pc(ze.alternate,ze);break;case 1024:ze.flags&=-1025;break;case 1028:ze.flags&=-1025;Pc(ze.alternate,ze);break;case 4:Pc(ze.alternate,ze);break;case 8:fc=ze;Wb(Pb,fc);var rf=fc.alternate;gb(fc);null!==rf&&gb(rf)}ze=ze.nextEffect}}catch(wf){if(null===ze)throw Error(g(330));nh(ze,wf);ze=ze.nextEffect}while(null!==ze);Id=Sh;Dd=Ed();Yc=Id.focusedElem;Pb=Id.selectionRange;if(Dd!==Yc&&Yc&&Yc.ownerDocument&&Cd(Yc.ownerDocument.documentElement,
Yc)){null!==Pb&&Xd(Yc)&&(Dd=Pb.start,Id=Pb.end,void 0===Id&&(Id=Dd),"selectionStart"in Yc?(Yc.selectionStart=Dd,Yc.selectionEnd=Math.min(Id,Yc.value.length)):(Id=(Dd=Yc.ownerDocument||document)&&Dd.defaultView||window,Id.getSelection&&(Id=Id.getSelection(),fc=Yc.textContent.length,rf=Math.min(Pb.start,fc),Pb=void 0===Pb.end?rf:Math.min(Pb.end,fc),!Id.extend&&rf>Pb&&(fc=Pb,Pb=rf,rf=fc),fc=nd(Yc,rf),Ab=nd(Yc,Pb),fc&&Ab&&(1!==Id.rangeCount||Id.anchorNode!==fc.node||Id.anchorOffset!==fc.offset||Id.focusNode!==
Ab.node||Id.focusOffset!==Ab.offset)&&(Dd=Dd.createRange(),Dd.setStart(fc.node,fc.offset),Id.removeAllRanges(),rf>Pb?(Id.addRange(Dd),Id.extend(Ab.node,Ab.offset)):(Dd.setEnd(Ab.node,Ab.offset),Id.addRange(Dd))))));Dd=[];for(Id=Yc;Id=Id.parentNode;)1===Id.nodeType&&Dd.push({element:Id,left:Id.scrollLeft,top:Id.scrollTop});"function"===typeof Yc.focus&&Yc.focus();for(Yc=0;Yc<Dd.length;Yc++)Id=Dd[Yc],Id.element.scrollLeft=Id.left,Id.element.scrollTop=Id.top}Wi=!!Vg;Sh=Vg=null;v.current=ha;ze=Qa;do try{for(Yc=
v;null!==ze;){var Ee=ze.flags;Ee&36&&S(Yc,ze.alternate,ze);if(Ee&128){Dd=void 0;var sf=ze.ref;if(null!==sf){var Gf=ze.stateNode;switch(ze.tag){case 5:Dd=Gf;break;default:Dd=Gf}"function"===typeof sf?sf(Dd):sf.current=Dd}}ze=ze.nextEffect}}catch(wf){if(null===ze)throw Error(g(330));nh(ze,wf);ze=ze.nextEffect}while(null!==ze);ze=null;Ql();mf=ib}else v.current=ha;if(Ri)Ri=!1,oh=v,ok=H;else for(ze=Qa;null!==ze;)H=ze.nextEffect,ze.nextEffect=null,ze.flags&8&&(Ee=ze,Ee.sibling=null,Ee.stateNode=null),ze=
H;Qa=v.pendingLanes;0===Qa&&(ai=null);1===Qa?v===Pi?Pg++:(Pg=0,Pi=v):Pg=0;ha=ha.stateNode;if(Mi&&"function"===typeof Mi.onCommitFiberRoot)try{Mi.onCommitFiberRoot(Lk,ha,void 0,64===(ha.current.flags&64))}catch(wf){}Sd(v,gh());if(Dg)throw Dg=!1,v=lk,lk=null,v;if(0!==(mf&8))return null;Ba();return null}function Eh(){for(;null!==ze;){var v=ze.alternate;rj||null===Mj||(0!==(ze.flags&8)?Fa(ze,Mj)&&(rj=!0):13===ze.tag&&zd(v,ze)&&Fa(ze,Mj)&&(rj=!0));var H=ze.flags;0!==(H&256)&&w(v,ze);0===(H&512)||Ri||(Ri=
!0,xa(97,function(){Rh();return null}));ze=ze.nextEffect}}function Rh(){if(90!==ok){var v=97<ok?97:ok;ok=90;return Bc(v,pk)}return!1}function mk(v,H){sj.push(H,v);Ri||(Ri=!0,xa(97,function(){Rh();return null}))}function Kk(v,H){hl.push(H,v);Ri||(Ri=!0,xa(97,function(){Rh();return null}))}function pk(){if(null===oh)return!1;var v=oh;oh=null;if(0!==(mf&48))throw Error(g(331));var H=mf;mf|=32;var ha=hl;hl=[];for(var Qa=0;Qa<ha.length;Qa+=2){var ib=ha[Qa],Ab=ha[Qa+1],Pb=ib.destroy;ib.destroy=void 0;if("function"===
typeof Pb)try{Pb()}catch(Hc){if(null===Ab)throw Error(g(330));nh(Ab,Hc)}}ha=sj;sj=[];for(Qa=0;Qa<ha.length;Qa+=2){ib=ha[Qa];Ab=ha[Qa+1];try{var fc=ib.create;ib.destroy=fc()}catch(Hc){if(null===Ab)throw Error(g(330));nh(Ab,Hc)}}for(fc=v.current.firstEffect;null!==fc;)v=fc.nextEffect,fc.nextEffect=null,fc.flags&8&&(fc.sibling=null,fc.stateNode=null),fc=v;mf=H;Ba();return!0}function qk(v,H,ha){H=pb(ha,H);H=Ob(v,H,1);Nd(v,H);H=bd();v=de(v,1);null!==v&&(vd(v,1,H),Sd(v,H))}function nh(v,H){if(3===v.tag)qk(v,
v,H);else for(var ha=v.return;null!==ha;){if(3===ha.tag){qk(ha,v,H);break}else if(1===ha.tag){var Qa=ha.stateNode;if("function"===typeof ha.type.getDerivedStateFromError||"function"===typeof Qa.componentDidCatch&&(null===ai||!ai.has(Qa))){v=pb(H,v);var ib=bc(ha,v,1);Nd(ha,ib);ib=bd();ha=de(ha,1);if(null!==ha)vd(ha,1,ib),Sd(ha,ib);else if("function"===typeof Qa.componentDidCatch&&(null===ai||!ai.has(Qa)))try{Qa.componentDidCatch(H,v)}catch(Ab){}break}}ha=ha.return}}function Qi(v,H,ha){var Qa=v.pingCache;
null!==Qa&&Qa.delete(H);H=bd();v.pingedLanes|=v.suspendedLanes&ha;lh===v&&(fh&ha)===ha&&(4===Qg||3===Qg&&(fh&62914560)===fh&&500>gh()-Mk?Kf(v,0):Pk|=ha);Sd(v,H)}function Kj(v,H){var ha=v.stateNode;null!==ha&&ha.delete(H);H=0;0===H&&(H=v.mode,0===(H&2)?H=1:0===(H&4)?H=99===Jf()?1:2:(0===Ni&&(Ni=Oi),H=Fd(62914560&~Ni),0===H&&(H=4194304)));ha=bd();v=de(v,H);null!==v&&(vd(v,H,ha),Sd(v,ha))}function Sk(v,H,ha,Qa){this.tag=v;this.key=ha;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=
null;this.index=0;this.ref=null;this.pendingProps=H;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=Qa;this.flags=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childLanes=this.lanes=0;this.alternate=null}function kh(v,H,ha,Qa){return new Sk(v,H,ha,Qa)}function $h(v){v=v.prototype;return!(!v||!v.isReactComponent)}function rk(v){if("function"===typeof v)return $h(v)?1:0;if(void 0!==v&&null!==v){v=v.$$typeof;if(v===vf)return 11;if(v===wi)return 14}return 2}
function th(v,H){var ha=v.alternate;null===ha?(ha=kh(v.tag,H,v.key,v.mode),ha.elementType=v.elementType,ha.type=v.type,ha.stateNode=v.stateNode,ha.alternate=v,v.alternate=ha):(ha.pendingProps=H,ha.type=v.type,ha.flags=0,ha.nextEffect=null,ha.firstEffect=null,ha.lastEffect=null);ha.childLanes=v.childLanes;ha.lanes=v.lanes;ha.child=v.child;ha.memoizedProps=v.memoizedProps;ha.memoizedState=v.memoizedState;ha.updateQueue=v.updateQueue;H=v.dependencies;ha.dependencies=null===H?null:{lanes:H.lanes,firstContext:H.firstContext};
ha.sibling=v.sibling;ha.index=v.index;ha.ref=v.ref;return ha}function $i(v,H,ha,Qa,ib,Ab){var Pb=2;Qa=v;if("function"===typeof v)$h(v)&&(Pb=1);else if("string"===typeof v)Pb=5;else a:switch(v){case Hg:return Ii(ha.children,ib,Ab,H);case Nj:Pb=8;ib|=16;break;case vh:Pb=8;ib|=1;break;case Vh:return v=kh(12,ha,H,ib|8),v.elementType=Vh,v.type=Vh,v.lanes=Ab,v;case Wf:return v=kh(13,ha,H,ib),v.type=Wf,v.elementType=Wf,v.lanes=Ab,v;case sg:return v=kh(19,ha,H,ib),v.elementType=sg,v.lanes=Ab,v;case Oj:return oj(ha,
ib,Ab,H);case Si:return v=kh(24,ha,H,ib),v.elementType=Si,v.lanes=Ab,v;default:if("object"===typeof v&&null!==v)switch(v.$$typeof){case qh:Pb=10;break a;case fi:Pb=9;break a;case vf:Pb=11;break a;case wi:Pb=14;break a;case xi:Pb=16;Qa=null;break a;case Xg:Pb=22;break a}throw Error(g(130,null==v?v:typeof v,""));}H=kh(Pb,ha,H,ib);H.elementType=v;H.type=Qa;H.lanes=Ab;return H}function Ii(v,H,ha,Qa){v=kh(7,v,Qa,H);v.lanes=ha;return v}function oj(v,H,ha,Qa){v=kh(23,v,Qa,H);v.elementType=Oj;v.lanes=ha;
return v}function gk(v,H,ha){v=kh(6,v,null,H);v.lanes=ha;return v}function hk(v,H,ha){H=kh(4,null!==v.children?v.children:[],v.key,H);H.lanes=ha;H.stateNode={containerInfo:v.containerInfo,pendingChildren:null,implementation:v.implementation};return H}function il(v,H,ha){this.tag=H;this.containerInfo=v;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.pendingContext=this.context=null;this.hydrate=ha;this.callbackNode=null;this.callbackPriority=0;this.eventTimes=
fe(0);this.expirationTimes=fe(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=fe(0);this.mutableSourceEagerHydrationData=null}function Kg(v,H,ha){var Qa=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ug,key:null==Qa?null:""+Qa,children:v,containerInfo:H,implementation:ha}}function tj(v,H,ha,Qa){var ib=H.current,Ab=bd(),Pb=Kc(ib);a:if(ha){ha=ha._reactInternals;
b:{if(na(ha)!==ha||1!==ha.tag)throw Error(g(170));var fc=ha;do{switch(fc.tag){case 3:fc=fc.stateNode.context;break b;case 1:if(De(fc.type)){fc=fc.stateNode.__reactInternalMemoizedMergedChildContext;break b}}fc=fc.return}while(null!==fc);throw Error(g(171));}if(1===ha.tag){var Hc=ha.type;if(De(Hc)){ha=Hf(ha,Hc,fc);break a}}ha=fc}else ha=Gi;null===H.context?H.context=ha:H.pendingContext=ha;H=Ld(Ab,Pb);H.payload={element:v};Qa=void 0===Qa?null:Qa;null!==Qa&&(H.callback=Qa);Nd(ib,H);ud(ib,Pb,Ab);return Pb}
function sk(v){v=v.current;if(!v.child)return null;switch(v.child.tag){case 5:return v.child.stateNode;default:return v.child.stateNode}}function ci(v,H){v=v.memoizedState;if(null!==v&&null!==v.dehydrated){var ha=v.retryLane;v.retryLane=0!==ha&&ha<H?ha:H}}function Lg(v,H){ci(v,H);(v=v.alternate)&&ci(v,H)}function Pj(){return null}function Qj(v,H,ha){var Qa=null!=ha&&null!=ha.hydrationOptions&&ha.hydrationOptions.mutableSources||null;ha=new il(v,H,null!=ha&&!0===ha.hydrate);H=kh(3,null,null,2===H?
7:1===H?3:0);ha.current=H;H.stateNode=ha;ld(H);v[pg]=ha.current;ff(8===v.nodeType?v.parentNode:v);if(Qa)for(v=0;v<Qa.length;v++){H=Qa[v];var ib=H._getVersion;ib=ib(H._source);null==ha.mutableSourceEagerHydrationData?ha.mutableSourceEagerHydrationData=[H,ib]:ha.mutableSourceEagerHydrationData.push(H,ib)}this._internalRoot=ha}function ui(v){return!(!v||1!==v.nodeType&&9!==v.nodeType&&11!==v.nodeType&&(8!==v.nodeType||" react-mount-point-unstable "!==v.nodeValue))}function mg(v,H){H||(H=v?9===v.nodeType?
v.documentElement:v.firstChild:null,H=!(!H||1!==H.nodeType||!H.hasAttribute("data-reactroot")));if(!H)for(var ha;ha=v.lastChild;)v.removeChild(ha);return new Qj(v,0,H?{hydrate:!0}:void 0)}function Ti(v,H,ha,Qa,ib){var Ab=ha._reactRootContainer;if(Ab){var Pb=Ab._internalRoot;if("function"===typeof ib){var fc=ib;ib=function(){var rd=sk(Pb);fc.call(rd)}}tj(H,Pb,v,ib)}else{Ab=ha._reactRootContainer=mg(ha,Qa);Pb=Ab._internalRoot;if("function"===typeof ib){var Hc=ib;ib=function(){var rd=sk(Pb);Hc.call(rd)}}Be(function(){tj(H,
Pb,v,ib)})}return sk(Pb)}function ph(v,H){var ha=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ui(H))throw Error(g(200));return Kg(v,H,null,ha)}var Ui=B(3),eg=B(0),Cg=B(6);if(!Ui)throw Error(g(227));var ah=new Set,vi={},Th=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),bk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,
hj=Object.prototype.hasOwnProperty,ak={},Zj={},rg={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(v){rg[v]=new y(v,0,!1,v,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(v){var H=v[0];rg[H]=new y(H,1,!1,v[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(v){rg[v]=
new y(v,2,!1,v.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(v){rg[v]=new y(v,2,!1,v,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(v){rg[v]=new y(v,3,!1,v.toLowerCase(),null,!1,!1)});["checked","multiple",
"muted","selected"].forEach(function(v){rg[v]=new y(v,3,!0,v,null,!1,!1)});["capture","download"].forEach(function(v){rg[v]=new y(v,4,!1,v,null,!1,!1)});["cols","rows","size","span"].forEach(function(v){rg[v]=new y(v,6,!1,v,null,!1,!1)});["rowSpan","start"].forEach(function(v){rg[v]=new y(v,5,!1,v.toLowerCase(),null,!1,!1)});var Rj=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(v){var H=
v.replace(Rj,q);rg[H]=new y(H,1,!1,v,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(v){var H=v.replace(Rj,q);rg[H]=new y(H,1,!1,v,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(v){var H=v.replace(Rj,q);rg[H]=new y(H,1,!1,v,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(v){rg[v]=new y(v,1,!1,v.toLowerCase(),null,!1,!1)});rg.xlinkHref=new y("xlinkHref",
1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(v){rg[v]=new y(v,1,!1,v.toLowerCase(),null,!0,!0)});var $g=Ui.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ji=60103,ug=60106,Hg=60107,vh=60108,Vh=60114,qh=60109,fi=60110,vf=60112,Wf=60113,sg=60120,wi=60115,xi=60116,Xg=60121,Ei=60128,Nj=60129,Oj=60130,Si=60131;if("function"===typeof Symbol&&Symbol.for){var yg=Symbol.for;Ji=yg("react.element");ug=yg("react.portal");Hg=yg("react.fragment");
vh=yg("react.strict_mode");Vh=yg("react.profiler");qh=yg("react.provider");fi=yg("react.context");vf=yg("react.forward_ref");Wf=yg("react.suspense");sg=yg("react.suspense_list");wi=yg("react.memo");xi=yg("react.lazy");Xg=yg("react.block");yg("react.scope");Ei=yg("react.opaque.id");Nj=yg("react.debug_trace_mode");Oj=yg("react.offscreen");Si=yg("react.legacy_hidden")}var Gg="function"===typeof Symbol&&Symbol.iterator,Wg,yj=!1,pj={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",
svg:"http://www.w3.org/2000/svg"},hh,Ij=function(v){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(H,ha,Qa,ib){MSApp.execUnsafeLocalFunction(function(){return v(H,ha,Qa,ib)})}:v}(function(v,H){if(v.namespaceURI!==pj.svg||"innerHTML"in v)v.innerHTML=H;else{hh=hh||document.createElement("div");hh.innerHTML="\x3csvg\x3e"+H.valueOf().toString()+"\x3c/svg\x3e";for(H=hh.firstChild;v.firstChild;)v.removeChild(v.firstChild);for(;H.firstChild;)v.appendChild(H.firstChild)}}),gi={animationIterationCount:!0,
borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,
strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Df=["Webkit","ms","Moz","O"];Object.keys(gi).forEach(function(v){Df.forEach(function(H){H=H+v.charAt(0).toUpperCase()+v.substring(1);gi[H]=gi[v]})});var hi=eg({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),vg=null,Ef=null,Kh=null,wh=Ea,Oh=!1,Lh=!1,Ci=!1;if(Th)try{var Fh={};Object.defineProperty(Fh,"passive",{get:function(){Ci=
!0}});window.addEventListener("test",Fh,Fh);window.removeEventListener("test",Fh,Fh)}catch(v){Ci=!1}var yi=!1,ii=null,Vi=!1,zi=null,Se={onError:function(v){yi=!0;ii=v}},zj=!1,jh=[],ih=null,Mh=null,Nh=null,Wh=new Map,ji=new Map,Ai=[],oi="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" "),xh=
{animationend:jb("Animation","AnimationEnd"),animationiteration:jb("Animation","AnimationIteration"),animationstart:jb("Animation","AnimationStart"),transitionend:jb("Transition","TransitionEnd")},tg={},Bi={};Th&&(Bi=document.createElement("div").style,"AnimationEvent"in window||(delete xh.animationend.animation,delete xh.animationiteration.animation,delete xh.animationstart.animation),"TransitionEvent"in window||delete xh.transitionend.transition);var yh=$b("animationend"),kj=$b("animationiteration"),
Bj=$b("animationstart"),zh=$b("transitionend"),li=new Map,ki=new Map,Sj=["abort","abort",yh,"animationEnd",kj,"animationIteration",Bj,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing",
"playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",zh,"transitionEnd","waiting","waiting"],Gh=Cg.unstable_now;Gh();var Xf=8,Xh=Math.clz32?Math.clz32:Sc,mi=Math.log,ni=Math.LN2,ij=Cg.unstable_UserBlockingPriority,Ck=Cg.unstable_runWithPriority,Wi=!0,rh=null,pi=null,Ig=null,Mg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(v){return v.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pf=Ja(Mg),Uh=eg({},Mg,{view:0,detail:0}),
dk=Ja(Uh),Hh,di,bj,Eg=eg({},Uh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xb,button:0,buttons:0,relatedTarget:function(v){return void 0===v.relatedTarget?v.fromElement===v.srcElement?v.toElement:v.fromElement:v.relatedTarget},movementX:function(v){if("movementX"in v)return v.movementX;v!==bj&&(bj&&"mousemove"===v.type?(Hh=v.screenX-bj.screenX,di=v.screenY-bj.screenY):di=Hh=0,bj=v);return Hh},movementY:function(v){return"movementY"in
v?v.movementY:di}}),Aj=Ja(Eg),tk=eg({},Eg,{dataTransfer:0}),Yh=Ja(tk),cj=eg({},Uh,{relatedTarget:0}),Di=Ja(cj),dj=eg({},Mg,{animationName:0,elapsedTime:0,pseudoElement:0}),lj=Ja(dj),ej=eg({},Mg,{clipboardData:function(v){return"clipboardData"in v?v.clipboardData:window.clipboardData}}),Dk=Ja(ej),uk=eg({},Mg,{data:0}),Cj=Ja(uk),uj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",
MozPrintableKey:"Unidentified"},fj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},
vk=eg({},Uh,{key:function(v){if(v.key){var H=uj[v.key]||v.key;if("Unidentified"!==H)return H}return"keypress"===v.type?(v=Wc(v),13===v?"Enter":String.fromCharCode(v)):"keydown"===v.type||"keyup"===v.type?fj[v.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xb,charCode:function(v){return"keypress"===v.type?Wc(v):0},keyCode:function(v){return"keydown"===v.type||"keyup"===v.type?v.keyCode:0},which:function(v){return"keypress"===
v.type?Wc(v):"keydown"===v.type||"keyup"===v.type?v.keyCode:0}}),jj=Ja(vk),wk=eg({},Eg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yg=Ja(wk),dg=eg({},Uh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xb}),og=Ja(dg),jl=eg({},Mg,{propertyName:0,elapsedTime:0,pseudoElement:0}),mj=Ja(jl),b=eg({},Eg,{deltaX:function(v){return"deltaX"in v?v.deltaX:"wheelDeltaX"in v?-v.wheelDeltaX:
0},deltaY:function(v){return"deltaY"in v?v.deltaY:"wheelDeltaY"in v?-v.wheelDeltaY:"wheelDelta"in v?-v.wheelDelta:0},deltaZ:0,deltaMode:0}),t=Ja(b),X=[9,13,27,32],T=Th&&"CompositionEvent"in window,ia=null;Th&&"documentMode"in document&&(ia=document.documentMode);var Ka=Th&&"TextEvent"in window&&!ia,Xa=Th&&(!T||ia&&8<ia&&11>=ia),bb=String.fromCharCode(32),ub=!1,Lb=!1,cc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,
url:!0,week:!0},Rc=null,tc=null,Ac=!1;if(Th){if(Th){var td="oninput"in document;if(!td){var be=document.createElement("div");be.setAttribute("oninput","return;");td="function"===typeof be.oninput}var Re=td}else Re=!1;Ac=Re&&(!document.documentMode||9<document.documentMode)}var ef="function"===typeof Object.is?Object.is:wc,Ie=Object.prototype.hasOwnProperty,cg=Th&&"documentMode"in document&&11>=document.documentMode,Ff=null,bg=null,ag=null,qf=!1;yc("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),
0);yc("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);yc(Sj,2);for(var fg="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Vf=0;Vf<fg.length;Vf++)ki.set(fg[Vf],0);n("onMouseEnter",["mouseout","mouseover"]);n("onMouseLeave",
["mouseout","mouseover"]);n("onPointerEnter",["pointerout","pointerover"]);n("onPointerLeave",["pointerout","pointerover"]);m("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));m("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));m("onBeforeInput",["compositionend","keypress","textInput","paste"]);m("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));m("onCompositionStart",
"compositionstart focusout keydown keypress keyup mousedown".split(" "));m("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ng=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sf)),Sg="_reactListening"+Math.random().toString(36).slice(2),
Vg=null,Sh=null,bi="function"===typeof setTimeout?setTimeout:void 0,Lj="function"===typeof clearTimeout?clearTimeout:void 0,kl=0,Tk=Math.random().toString(36).slice(2),Fi="__reactFiber$"+Tk,Ek="__reactProps$"+Tk,pg="__reactContainer$"+Tk,Ph="__reactEvents$"+Tk,ek=[],Zh=-1,Gi={},bh=Jc(Gi),sh=Jc(!1),Xi=Gi,Lk=null,Mi=null,Gk=Cg.unstable_runWithPriority,$k=Cg.unstable_scheduleCallback,fk=Cg.unstable_cancelCallback,wl=Cg.unstable_shouldYield,yl=Cg.unstable_requestPaint,Tj=Cg.unstable_now,Ll=Cg.unstable_getCurrentPriorityLevel,
Fk=Cg.unstable_ImmediatePriority,ql=Cg.unstable_UserBlockingPriority,rl=Cg.unstable_NormalPriority,sl=Cg.unstable_LowPriority,tl=Cg.unstable_IdlePriority,el={},Ql=void 0!==yl?yl:function(){},Hi=null,Dj=null,al=!1,zl=Tj(),gh=1E4>zl?Tj:function(){return Tj()-zl},Pl=$g.ReactCurrentBatchConfig,Hk=Jc(null),Ej=null,Zi=null,Yi=null,ri=!1,ul=(new Ui.Component).refs,Gj={isMounted:function(v){return(v=v._reactInternals)?na(v)===v:!1},enqueueSetState:function(v,H,ha){v=v._reactInternals;var Qa=bd(),ib=Kc(v),
Ab=Ld(Qa,ib);Ab.payload=H;void 0!==ha&&null!==ha&&(Ab.callback=ha);Nd(v,Ab);ud(v,ib,Qa)},enqueueReplaceState:function(v,H,ha){v=v._reactInternals;var Qa=bd(),ib=Kc(v),Ab=Ld(Qa,ib);Ab.tag=1;Ab.payload=H;void 0!==ha&&null!==ha&&(Ab.callback=ha);Nd(v,Ab);ud(v,ib,Qa)},enqueueForceUpdate:function(v,H){v=v._reactInternals;var ha=bd(),Qa=Kc(v),ib=Ld(ha,Qa);ib.tag=2;void 0!==H&&null!==H&&(ib.callback=H);Nd(v,ib);ud(v,Qa,ha)}},Bh=Array.isArray,pf=zf(!0),ng=zf(!1),Md={},wg=Jc(Md),Qh=Jc(Md),Hj=Jc(Md),xg=Jc(0),
Dh=null,si=null,Ch=!1,nj=[],ch=$g.ReactCurrentDispatcher,mh=$g.ReactCurrentBatchConfig,ik=0,lg=null,dh=null,Og=null,Ik=!1,jk=!1,eh={readContext:Oc,useCallback:gd,useContext:gd,useEffect:gd,useImperativeHandle:gd,useLayoutEffect:gd,useMemo:gd,useReducer:gd,useRef:gd,useState:gd,useDebugValue:gd,useDeferredValue:gd,useTransition:gd,useMutableSource:gd,useOpaqueIdentifier:gd,unstable_isNewReconciler:!1},bl={readContext:Oc,useCallback:function(v,H){ie().memoizedState=[v,void 0===H?null:H];return v},useContext:Oc,
useEffect:wa,useImperativeHandle:function(v,H,ha){ha=null!==ha&&void 0!==ha?ha.concat([v]):null;return Rf(4,2,Sa.bind(null,H,v),ha)},useLayoutEffect:function(v,H){return Rf(4,2,v,H)},useMemo:function(v,H){var ha=ie();H=void 0===H?null:H;v=v();ha.memoizedState=[v,H];return v},useReducer:function(v,H,ha){var Qa=ie();H=void 0!==ha?ha(H):H;Qa.memoizedState=Qa.baseState=H;v=Qa.queue={pending:null,dispatch:null,lastRenderedReducer:v,lastRenderedState:H};v=v.dispatch=Nb.bind(null,lg,v);return[Qa.memoizedState,
v]},useRef:Bf,useState:Te,useDebugValue:hb,useDeferredValue:function(v){var H=Te(v),ha=H[0],Qa=H[1];wa(function(){var ib=mh.transition;mh.transition=1;try{Qa(v)}finally{mh.transition=ib}},[v]);return ha},useTransition:function(){var v=Te(!1),H=v[0];v=Bb.bind(null,v[1]);Bf(v);return[v,H]},useMutableSource:function(v,H,ha){var Qa=ie();Qa.memoizedState={refs:{getSnapshot:H,setSnapshot:null},source:v,subscribe:ha};return Le(Qa,v,H,ha)},useOpaqueIdentifier:function(){if(Ch){var v=!1,H=we(function(){v||
(v=!0,ha("r:"+(kl++).toString(36)));throw Error(g(355));}),ha=Te(H)[1];0===(lg.mode&2)&&(lg.flags|=516,uf(5,function(){ha("r:"+(kl++).toString(36))},void 0,null));return H}H="r:"+(kl++).toString(36);Te(H);return H},unstable_isNewReconciler:!1},Nl={readContext:Oc,useCallback:sb,useContext:Oc,useEffect:ya,useImperativeHandle:fb,useLayoutEffect:Na,useMemo:Gb,useReducer:pe,useRef:Ag,useState:function(){return pe(Ne)},useDebugValue:hb,useDeferredValue:function(v){var H=pe(Ne),ha=H[0],Qa=H[1];ya(function(){var ib=
mh.transition;mh.transition=1;try{Qa(v)}finally{mh.transition=ib}},[v]);return ha},useTransition:function(){var v=pe(Ne)[0];return[Ag().current,v]},useMutableSource:Of,useOpaqueIdentifier:function(){return pe(Ne)[0]},unstable_isNewReconciler:!1},Zg={readContext:Oc,useCallback:sb,useContext:Oc,useEffect:ya,useImperativeHandle:fb,useLayoutEffect:Na,useMemo:Gb,useReducer:He,useRef:Ag,useState:function(){return He(Ne)},useDebugValue:hb,useDeferredValue:function(v){var H=He(Ne),ha=H[0],Qa=H[1];ya(function(){var ib=
mh.transition;mh.transition=1;try{Qa(v)}finally{mh.transition=ib}},[v]);return ha},useTransition:function(){var v=He(Ne)[0];return[Ag().current,v]},useMutableSource:Of,useOpaqueIdentifier:function(){return He(Ne)[0]},unstable_isNewReconciler:!1},ti=$g.ReactCurrentOwner,Ah=!1,Jk={dehydrated:null,retryLane:0};var Ki=function(v,H){for(var ha=H.child;null!==ha;){if(5===ha.tag||6===ha.tag)v.appendChild(ha.stateNode);else if(4!==ha.tag&&null!==ha.child){ha.child.return=ha;ha=ha.child;continue}if(ha===H)break;
for(;null===ha.sibling;){if(null===ha.return||ha.return===H)return;ha=ha.return}ha.sibling.return=ha.return;ha=ha.sibling}};var cl=function(){};var Ol=function(v,H,ha,Qa){var ib=v.memoizedProps;if(ib!==Qa){v=H.stateNode;tf(wg.current);var Ab=null;switch(ha){case "input":ib=G(v,ib);Qa=G(v,Qa);Ab=[];break;case "option":ib=ba(v,ib);Qa=ba(v,Qa);Ab=[];break;case "select":ib=eg({},ib,{value:void 0});Qa=eg({},Qa,{value:void 0});Ab=[];break;case "textarea":ib=ja(v,ib);Qa=ja(v,Qa);Ab=[];break;default:"function"!==
typeof ib.onClick&&"function"===typeof Qa.onClick&&(v.onclick=le)}Da(ha,Qa);var Pb;ha=null;for(rd in ib)if(!Qa.hasOwnProperty(rd)&&ib.hasOwnProperty(rd)&&null!=ib[rd])if("style"===rd){var fc=ib[rd];for(Pb in fc)fc.hasOwnProperty(Pb)&&(ha||(ha={}),ha[Pb]="")}else"dangerouslySetInnerHTML"!==rd&&"children"!==rd&&"suppressContentEditableWarning"!==rd&&"suppressHydrationWarning"!==rd&&"autoFocus"!==rd&&(vi.hasOwnProperty(rd)?Ab||(Ab=[]):(Ab=Ab||[]).push(rd,null));for(rd in Qa){var Hc=Qa[rd];fc=null!=ib?
ib[rd]:void 0;if(Qa.hasOwnProperty(rd)&&Hc!==fc&&(null!=Hc||null!=fc))if("style"===rd)if(fc){for(Pb in fc)!fc.hasOwnProperty(Pb)||Hc&&Hc.hasOwnProperty(Pb)||(ha||(ha={}),ha[Pb]="");for(Pb in Hc)Hc.hasOwnProperty(Pb)&&fc[Pb]!==Hc[Pb]&&(ha||(ha={}),ha[Pb]=Hc[Pb])}else ha||(Ab||(Ab=[]),Ab.push(rd,ha)),ha=Hc;else"dangerouslySetInnerHTML"===rd?(Hc=Hc?Hc.__html:void 0,fc=fc?fc.__html:void 0,null!=Hc&&fc!==Hc&&(Ab=Ab||[]).push(rd,Hc)):"children"===rd?"string"!==typeof Hc&&"number"!==typeof Hc||(Ab=Ab||[]).push(rd,
""+Hc):"suppressContentEditableWarning"!==rd&&"suppressHydrationWarning"!==rd&&(vi.hasOwnProperty(rd)?(null!=Hc&&"onScroll"===rd&&me("scroll",v),Ab||fc===Hc||(Ab=[])):"object"===typeof Hc&&null!==Hc&&Hc.$$typeof===Ei?Hc.toString():(Ab=Ab||[]).push(rd,Hc))}ha&&(Ab=Ab||[]).push("style",ha);var rd;if(H.updateQueue=Ab)H.flags|=4}};var Li=function(v,H,ha,Qa){ha!==Qa&&(H.flags|=4)};var Qk="function"===typeof WeakMap?WeakMap:Map,vl="function"===typeof WeakSet?WeakSet:Set,xl=Math.ceil,Ok=$g.ReactCurrentDispatcher,
gl=$g.ReactCurrentOwner,mf=0,lh=null,Rg=null,fh=0,qj=0,fl=Jc(0),Qg=0,nk=null,Oi=0,Fj=0,Jj=0,Pk=0,dl=null,Mk=0,kk=Infinity,ze=null,Dg=!1,lk=null,ai=null,Ri=!1,oh=null,ok=90,sj=[],hl=[],Jg=null,Pg=0,Pi=null,Nk=-1,Ni=0,Tg=0,Mj=null,rj=!1;var Rk=function(v,H,ha){var Qa=H.lanes;if(null!==v)if(v.memoizedProps!==H.pendingProps||sh.current)Ah=!0;else if(0!==(ha&Qa))Ah=0!==(v.flags&16384)?!0:!1;else{Ah=!1;switch(H.tag){case 3:Zb(H);si=Dh=null;Ch=!1;break;case 5:za(H);break;case 1:De(H.type)&&If(H);break;case 4:Oe(H,
H.stateNode.containerInfo);break;case 10:Qa=H.memoizedProps.value;var ib=H.type._context;je(Hk,ib._currentValue);ib._currentValue=Qa;break;case 13:if(null!==H.memoizedState){if(0!==(ha&H.child.childLanes))return rc(v,H,ha);je(xg,xg.current&1);H=Bd(v,H,ha);return null!==H?H.sibling:null}je(xg,xg.current&1);break;case 19:Qa=0!==(ha&H.childLanes);if(0!==(v.flags&64)){if(Qa)return pd(v,H,ha);H.flags|=64}ib=H.memoizedState;null!==ib&&(ib.rendering=null,ib.tail=null,ib.lastEffect=null);je(xg,xg.current);
if(Qa)break;else return null;case 23:case 24:return H.lanes=0,oa(v,H,ha)}return Bd(v,H,ha)}else Ah=!1;H.lanes=0;switch(H.tag){case 2:Qa=H.type;null!==v&&(v.alternate=null,H.alternate=null,H.flags|=2);v=H.pendingProps;ib=hc(H,bh.current);xc(H,ha);ib=he(null,H,Qa,v,ib,ha);H.flags|=1;if("object"===typeof ib&&null!==ib&&"function"===typeof ib.render&&void 0===ib.$$typeof){H.tag=1;H.memoizedState=null;H.updateQueue=null;if(De(Qa)){var Ab=!0;If(H)}else Ab=!1;H.memoizedState=null!==ib.state&&void 0!==ib.state?
ib.state:null;ld(H);var Pb=Qa.getDerivedStateFromProps;"function"===typeof Pb&&kd(H,Qa,Pb,v);ib.updater=Gj;H.stateNode=ib;ib._reactInternals=H;Ve(H,Qa,v,ha);H=Tb(null,H,Qa,!0,Ab,ha)}else H.tag=0,Mb(null,H,ib,ha),H=H.child;return H;case 16:ib=H.elementType;a:{null!==v&&(v.alternate=null,H.alternate=null,H.flags|=2);v=H.pendingProps;Ab=ib._init;ib=Ab(ib._payload);H.type=ib;Ab=H.tag=rk(ib);v=Hb(ib,v);switch(Ab){case 0:H=Ua(null,H,ib,v,ha);break a;case 1:H=yb(null,H,ib,v,ha);break a;case 11:H=dc(null,
H,ib,v,ha);break a;case 14:H=uc(null,H,ib,Hb(ib.type,v),Qa,ha);break a}throw Error(g(306,ib,""));}return H;case 0:return Qa=H.type,ib=H.pendingProps,ib=H.elementType===Qa?ib:Hb(Qa,ib),Ua(v,H,Qa,ib,ha);case 1:return Qa=H.type,ib=H.pendingProps,ib=H.elementType===Qa?ib:Hb(Qa,ib),yb(v,H,Qa,ib,ha);case 3:Zb(H);Qa=H.updateQueue;if(null===v||null===Qa)throw Error(g(282));Qa=H.pendingProps;ib=H.memoizedState;ib=null!==ib?ib.element:null;Qc(v,H);od(H,Qa,null,ha);Qa=H.memoizedState.element;if(Qa===ib)si=Dh=
null,Ch=!1,H=Bd(v,H,ha);else{ib=H.stateNode;if(Ab=ib.hydrate)si=Td(H.stateNode.containerInfo.firstChild),Dh=H,Ab=Ch=!0;if(Ab){v=ib.mutableSourceEagerHydrationData;if(null!=v)for(ib=0;ib<v.length;ib+=2)Ab=v[ib],Ab._workInProgressVersionPrimary=v[ib+1],nj.push(Ab);ha=ng(H,null,Qa,ha);for(H.child=ha;ha;)ha.flags=ha.flags&-3|1024,ha=ha.sibling}else Mb(v,H,Qa,ha),si=Dh=null,Ch=!1;H=H.child}return H;case 5:return za(H),null===v&&ic(H),Qa=H.type,ib=H.pendingProps,Ab=null!==v?v.memoizedProps:null,Pb=ib.children,
Mf(Qa,ib)?Pb=null:null!==Ab&&Mf(Qa,Ab)&&(H.flags|=16),Pa(v,H),Mb(v,H,Pb,ha),H.child;case 6:return null===v&&ic(H),null;case 13:return rc(v,H,ha);case 4:return Oe(H,H.stateNode.containerInfo),Qa=H.pendingProps,null===v?H.child=pf(H,null,Qa,ha):Mb(v,H,Qa,ha),H.child;case 11:return Qa=H.type,ib=H.pendingProps,ib=H.elementType===Qa?ib:Hb(Qa,ib),dc(v,H,Qa,ib,ha);case 7:return Mb(v,H,H.pendingProps,ha),H.child;case 8:return Mb(v,H,H.pendingProps.children,ha),H.child;case 12:return Mb(v,H,H.pendingProps.children,
ha),H.child;case 10:a:{Qa=H.type._context;ib=H.pendingProps;Pb=H.memoizedProps;Ab=ib.value;var fc=H.type._context;je(Hk,fc._currentValue);fc._currentValue=Ab;if(null!==Pb)if(fc=Pb.value,Ab=ef(fc,Ab)?0:("function"===typeof Qa._calculateChangedBits?Qa._calculateChangedBits(fc,Ab):1073741823)|0,0===Ab){if(Pb.children===ib.children&&!sh.current){H=Bd(v,H,ha);break a}}else for(fc=H.child,null!==fc&&(fc.return=H);null!==fc;){var Hc=fc.dependencies;if(null!==Hc){Pb=fc.child;for(var rd=Hc.firstContext;null!==
rd;){if(rd.context===Qa&&0!==(rd.observedBits&Ab)){1===fc.tag&&(rd=Ld(-1,ha&-ha),rd.tag=2,Nd(fc,rd));fc.lanes|=ha;rd=fc.alternate;null!==rd&&(rd.lanes|=ha);Xb(fc.return,ha);Hc.lanes|=ha;break}rd=rd.next}}else Pb=10===fc.tag?fc.type===H.type?null:fc.child:fc.child;if(null!==Pb)Pb.return=fc;else for(Pb=fc;null!==Pb;){if(Pb===H){Pb=null;break}fc=Pb.sibling;if(null!==fc){fc.return=Pb.return;Pb=fc;break}Pb=Pb.return}fc=Pb}Mb(v,H,ib.children,ha);H=H.child}return H;case 9:return ib=H.type,Ab=H.pendingProps,
Qa=Ab.children,xc(H,ha),ib=Oc(ib,Ab.unstable_observedBits),Qa=Qa(ib),H.flags|=1,Mb(v,H,Qa,ha),H.child;case 14:return ib=H.type,Ab=Hb(ib,H.pendingProps),Ab=Hb(ib.type,Ab),uc(v,H,ib,Ab,Qa,ha);case 15:return Y(v,H,H.type,H.pendingProps,Qa,ha);case 17:return Qa=H.type,ib=H.pendingProps,ib=H.elementType===Qa?ib:Hb(Qa,ib),null!==v&&(v.alternate=null,H.alternate=null,H.flags|=2),H.tag=1,De(Qa)?(v=!0,If(H)):v=!1,xc(H,ha),bf(H,Qa,ib),Ve(H,Qa,ib,ha),Tb(null,H,Qa,!0,v,ha);case 19:return pd(v,H,ha);case 23:return oa(v,
H,ha);case 24:return oa(v,H,ha)}throw Error(g(156,H.tag));};Qj.prototype.render=function(v){tj(v,this._internalRoot,null,null)};Qj.prototype.unmount=function(){var v=this._internalRoot,H=v.containerInfo;tj(null,v,null,function(){H[pg]=null})};var Kl=function(v){if(13===v.tag){var H=bd();ud(v,4,H);Lg(v,4)}};var ck=function(v){if(13===v.tag){var H=bd();ud(v,67108864,H);Lg(v,67108864)}};var Bk=function(v){if(13===v.tag){var H=bd(),ha=Kc(v);ud(v,ha,H);Lg(v,ha)}};var Jl=function(v,H){return H()};vg=function(v,
H,ha){switch(H){case "input":K(v,ha);H=ha.name;if("radio"===ha.type&&null!=H){for(ha=v;ha.parentNode;)ha=ha.parentNode;ha=ha.querySelectorAll("input[name\x3d"+JSON.stringify(""+H)+'][type\x3d"radio"]');for(H=0;H<ha.length;H++){var Qa=ha[H];if(Qa!==v&&Qa.form===v.form){var ib=Qe(Qa);if(!ib)throw Error(g(90));P(Qa);K(Qa,ib)}}}break;case "textarea":Q(v,ha);break;case "select":H=ha.value,null!=H&&da(v,!!ha.multiple,H,!1)}};Ea=te;ua=function(v,H,ha,Qa,ib){var Ab=mf;mf|=4;try{return Bc(98,v.bind(null,H,
ha,Qa,ib))}finally{mf=Ab,0===mf&&(qd(),Ba())}};V=function(){0===(mf&49)&&(se(),Rh())};wh=function(v,H){var ha=mf;mf|=2;try{return v(H)}finally{mf=ha,0===mf&&(qd(),Ba())}};var Uk={Events:[Pe,Qd,Qe,Ta,Wa,Rh,{current:!1}]},Uj={findFiberByHostInstance:nf,bundleType:0,version:"17.0.1",rendererPackageName:"react-dom"},ll={bundleType:Uj.bundleType,version:Uj.version,rendererPackageName:Uj.rendererPackageName,rendererConfig:Uj.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,
overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$g.ReactCurrentDispatcher,findHostInstanceByFiber:function(v){v=Aa(v);return null===v?null:v.stateNode},findFiberByHostInstance:Uj.findFiberByHostInstance||Pj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Vk=__REACT_DEVTOOLS_GLOBAL_HOOK__;
if(!Vk.isDisabled&&Vk.supportsFiber)try{Lk=Vk.inject(ll),Mi=Vk}catch(v){}}E.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Uk;E.createPortal=ph;E.findDOMNode=function(v){if(null==v)return null;if(1===v.nodeType)return v;var H=v._reactInternals;if(void 0===H){if("function"===typeof v.render)throw Error(g(188));throw Error(g(268,Object.keys(v)));}v=Aa(H);return v=null===v?null:v.stateNode};E.flushSync=function(v,H){var ha=mf;if(0!==(ha&48))return v(H);mf|=1;try{if(v)return Bc(99,v.bind(null,H))}finally{mf=
ha,Ba()}};E.hydrate=function(v,H,ha){if(!ui(H))throw Error(g(200));return Ti(null,v,H,!0,ha)};E.render=function(v,H,ha){if(!ui(H))throw Error(g(200));return Ti(null,v,H,!1,ha)};E.unmountComponentAtNode=function(v){if(!ui(v))throw Error(g(40));return v._reactRootContainer?(Be(function(){Ti(null,null,v,!1,function(){v._reactRootContainer=null;v[pg]=null})}),!0):!1};E.unstable_batchedUpdates=te;E.unstable_createPortal=function(v,H){return ph(v,H,2<arguments.length&&void 0!==arguments[2]?arguments[2]:
null)};E.unstable_renderSubtreeIntoContainer=function(v,H,ha,Qa){if(!ui(ha))throw Error(g(200));if(null==v||void 0===v._reactInternals)throw Error(g(38));return Ti(v,H,ha,!1,Qa)};E.version="17.0.1"};
shadow$provide[12]=function(Ha,B,rb,E){function g(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(g)}catch(m){console.error(m)}}g();rb.exports=B(7)};
shadow$provide[13]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?rb.exports=m():"function"===typeof define&&define.amd?define(m):(g="undefined"!==typeof globalThis?globalThis:g||self,g.marked=m())})(this,function(){function g(pa,Ga){for(var na=0;na<Ga.length;na++){var Oa=Ga[na];Oa.enumerable=Oa.enumerable||!1;Oa.configurable=!0;"value"in Oa&&(Oa.writable=!0);Object.defineProperty(pa,Oa.key,Oa)}}function m(pa,Ga,na){Ga&&g(pa.prototype,Ga);na&&g(pa,na);return pa}function n(pa,
Ga){if(pa){if("string"===typeof pa)return F(pa,Ga);var na=Object.prototype.toString.call(pa).slice(8,-1);"Object"===na&&pa.constructor&&(na=pa.constructor.name);if("Map"===na||"Set"===na)return Array.from(pa);if("Arguments"===na||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(na))return F(pa,Ga)}}function F(pa,Ga){if(null==Ga||Ga>pa.length)Ga=pa.length;for(var na=0,Oa=Array(Ga);na<Ga;na++)Oa[na]=pa[na];return Oa}function O(pa,Ga){var na;if("undefined"===typeof Symbol||null==pa[Symbol.iterator]){if(Array.isArray(pa)||
(na=n(pa))||Ga&&pa&&"number"===typeof pa.length){na&&(pa=na);var Oa=0;return function(){return Oa>=pa.length?{done:!0}:{done:!1,value:pa[Oa++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}na=pa[Symbol.iterator]();return na.next.bind(na)}function x(pa){return pa.replace(L,function(Ga,na){na=na.toLowerCase();return"colon"===na?":":"#"===na.charAt(0)?"x"===na.charAt(1)?String.fromCharCode(parseInt(na.substring(2),
16)):String.fromCharCode(+na.substring(1)):""})}function y(pa,Ga,na){var Oa=pa.length;if(0===Oa)return"";for(var cb=0;cb<Oa;){var Za=pa.charAt(Oa-cb-1);if(Za!==Ga||na)if(Za!==Ga&&na)cb++;else break;else cb++}return pa.substr(0,Oa-cb)}function q(pa,Ga,na){var Oa=Ga.href;Ga=Ga.title?Q(Ga.title):null;var cb=pa[1].replace(/\\([\[\]])/g,"$1");return"!"!==pa[0].charAt(0)?{type:"link",raw:na,href:Oa,title:Ga,text:cb}:{type:"image",raw:na,href:Oa,title:Ga,text:Q(cb)}}function l(pa,Ga){pa=pa.match(/^(\s+)(?:```)/);
if(null===pa)return Ga;var na=pa[1];return Ga.split("\n").map(function(Oa){var cb=Oa.match(/^\s+/);return null===cb?Oa:cb[0].length>=na.length?Oa.slice(na.length):Oa}).join("\n")}function h(pa){return pa.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function c(pa){var Ga="",na,Oa=pa.length;for(na=0;na<Oa;na++){var cb=pa.charCodeAt(na);.5<Math.random()&&(cb="x"+
cb.toString(16));Ga+="\x26#"+cb+";"}return Ga}function e(pa,Ga,na){if("undefined"===typeof pa||null===pa)throw Error("marked(): input parameter is undefined or null");if("string"!==typeof pa)throw Error("marked(): input parameter is of type "+Object.prototype.toString.call(pa)+", string expected");"function"===typeof Ga&&(na=Ga,Ga=null);Ga=W({},e.defaults,Ga||{});ca(Ga);if(na){var Oa=Ga.highlight;try{var cb=$a.lex(pa,Ga)}catch(Ra){return na(Ra)}var Za=function(Ra){if(!Ra)try{var ab=V.parse(cb,Ga)}catch(lb){Ra=
lb}Ga.highlight=Oa;return Ra?na(Ra):na(null,ab)};if(!Oa||3>Oa.length)return Za();delete Ga.highlight;if(!cb.length)return Za();var Aa=0;e.walkTokens(cb,function(Ra){"code"===Ra.type&&(Aa++,setTimeout(function(){Oa(Ra.text,Ra.lang,function(ab,lb){if(ab)return Za(ab);null!=lb&&lb!==Ra.text&&(Ra.text=lb,Ra.escaped=!0);Aa--;0===Aa&&Za()})},0))});0===Aa&&Za()}else try{var Fa=$a.lex(pa,Ga);Ga.walkTokens&&e.walkTokens(Fa,Ga.walkTokens);return V.parse(Fa,Ga)}catch(Ra){Ra.message+="\nPlease report this to https://github.com/markedjs/marked.";
if(Ga.silent)return"\x3cp\x3eAn error occurred:\x3c/p\x3e\x3cpre\x3e"+fa(Ra.message+"",!0)+"\x3c/pre\x3e";throw Ra;}}var a=function(pa){var Ga={exports:{}};return pa(Ga,Ga.exports),Ga.exports}(function(pa){function Ga(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}pa.exports={defaults:Ga(),getDefaults:Ga,
changeDefaults:function(na){pa.exports.defaults=na}}}),f=/[&<>"']/,p=/[&<>"']/g,A=/[<>"']|&(?!#?\w+;)/,C=/[<>"']|&(?!#?\w+;)/g,D={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#39;"},P=function(pa){return D[pa]},L=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,G=/(^|[^\[])\^/g,z=/[^\w:]/g,J=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,K={},R=/^[^:]+:\/*[^/]*$/,U=/^([^:]+:)[\s\S]*$/,ka=/^([^:]+:\/*[^/]*)[\s\S]*$/,ba=function(pa,Ga){if(Ga){if(f.test(pa))return pa.replace(p,P)}else if(A.test(pa))return pa.replace(C,
P);return pa},da=function(pa){for(var Ga=1,na,Oa;Ga<arguments.length;Ga++)for(Oa in na=arguments[Ga],na)Object.prototype.hasOwnProperty.call(na,Oa)&&(pa[Oa]=na[Oa]);return pa},ja=a.defaults,Z=function(pa,Ga){pa=pa.replace(/\|/g,function(Oa,cb,Za){for(Oa=!1;0<=--cb&&"\\"===Za[cb];)Oa=!Oa;return Oa?"|":" |"}).split(/ \|/);var na=0;if(pa.length>Ga)pa.splice(Ga);else for(;pa.length<Ga;)pa.push("");for(;na<pa.length;na++)pa[na]=pa[na].trim().replace(/\\\|/g,"|");return pa},Q=ba,r=function(){function pa(na){this.options=
na||ja}var Ga=pa.prototype;Ga.space=function(na){if(na=this.rules.block.newline.exec(na))return 1<na[0].length?{type:"space",raw:na[0]}:{raw:"\n"}};Ga.code=function(na){if(na=this.rules.block.code.exec(na)){var Oa=na[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:na[0],codeBlockStyle:"indented",text:this.options.pedantic?Oa:y(Oa,"\n")}}};Ga.fences=function(na){if(na=this.rules.block.fences.exec(na)){var Oa=na[0],cb=l(Oa,na[3]||"");return{type:"code",raw:Oa,lang:na[2]?na[2].trim():na[2],text:cb}}};
Ga.heading=function(na){if(na=this.rules.block.heading.exec(na)){var Oa=na[2].trim();if(/#$/.test(Oa)){var cb=y(Oa,"#");if(this.options.pedantic)Oa=cb.trim();else if(!cb||/ $/.test(cb))Oa=cb.trim()}return{type:"heading",raw:na[0],depth:na[1].length,text:Oa}}};Ga.nptable=function(na){if(na=this.rules.block.nptable.exec(na))if(na={type:"table",header:Z(na[1].replace(/^ *| *\| *$/g,"")),align:na[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:na[3]?na[3].replace(/\n$/,"").split("\n"):[],raw:na[0]},
na.header.length===na.align.length){var Oa=na.align.length,cb;for(cb=0;cb<Oa;cb++)/^ *-+: *$/.test(na.align[cb])?na.align[cb]="right":/^ *:-+: *$/.test(na.align[cb])?na.align[cb]="center":/^ *:-+ *$/.test(na.align[cb])?na.align[cb]="left":na.align[cb]=null;Oa=na.cells.length;for(cb=0;cb<Oa;cb++)na.cells[cb]=Z(na.cells[cb],na.header.length);return na}};Ga.hr=function(na){if(na=this.rules.block.hr.exec(na))return{type:"hr",raw:na[0]}};Ga.blockquote=function(na){if(na=this.rules.block.blockquote.exec(na)){var Oa=
na[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:na[0],text:Oa}}};Ga.list=function(na){var Oa=this.rules.block.list.exec(na);if(Oa){na=Oa[0];var cb=Oa[2],Za=1<cb.length,Aa={type:"list",raw:na,ordered:Za,start:Za?+cb.slice(0,-1):"",loose:!1,items:[]};Oa=Oa[0].match(this.rules.block.item);var Fa=!1,Ra,ab,lb=Oa.length;var Ma=this.rules.block.listItemStart.exec(Oa[0]);for(var nb=0;nb<lb;nb++){na=Ra=Oa[nb];if(!this.options.pedantic&&(ab=Ra.match(new RegExp("\\n\\s*\\n {0,"+(Ma[0].length-1)+"}\\S")))){var zb=
Ra.length-ab.index+Oa.slice(nb+1).join("\n").length;Aa.raw=Aa.raw.substring(0,Aa.raw.length-zb);na=Ra=Ra.substring(0,ab.index);lb=nb+1}if(nb!==lb-1){ab=this.rules.block.listItemStart.exec(Oa[nb+1]);if(this.options.pedantic?ab[1].length>Ma[1].length:ab[1].length>=Ma[0].length||3<ab[1].length){Oa.splice(nb,2,Oa[nb]+(!this.options.pedantic&&ab[1].length<Ma[0].length&&!Oa[nb].match(/\n$/)?"":"\n")+Oa[nb+1]);nb--;lb--;continue}else if(!this.options.pedantic||this.options.smartLists?ab[2][ab[2].length-
1]!==cb[cb.length-1]:Za===(1===ab[2].length))zb=Oa.slice(nb+1).join("\n").length,Aa.raw=Aa.raw.substring(0,Aa.raw.length-zb),nb=lb-1;Ma=ab}zb=Ra.length;Ra=Ra.replace(/^ *([*+-]|\d+[.)]) ?/,"");~Ra.indexOf("\n ")&&(zb-=Ra.length,Ra=this.options.pedantic?Ra.replace(/^ {1,4}/gm,""):Ra.replace(new RegExp("^ {1,"+zb+"}","gm"),""));Ra=y(Ra,"\n");nb!==lb-1&&(na+="\n");zb=Fa||/\n\n(?!\s*$)/.test(na);nb!==lb-1&&(Fa="\n\n"===na.slice(-2),zb||(zb=Fa));zb&&(Aa.loose=!0);if(this.options.gfm){var Sb=/^\[[ xX]\] /.test(Ra);
var vc=void 0;Sb&&(vc=" "!==Ra[1],Ra=Ra.replace(/^\[[ xX]\] +/,""))}Aa.items.push({type:"list_item",raw:na,task:Sb,checked:vc,loose:zb,text:Ra})}return Aa}};Ga.html=function(na){if(na=this.rules.block.html.exec(na))return{type:this.options.sanitize?"paragraph":"html",raw:na[0],pre:!this.options.sanitizer&&("pre"===na[1]||"script"===na[1]||"style"===na[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(na[0]):Q(na[0]):na[0]}};Ga.def=function(na){if(na=this.rules.block.def.exec(na))return na[3]&&
(na[3]=na[3].substring(1,na[3].length-1)),{tag:na[1].toLowerCase().replace(/\s+/g," "),raw:na[0],href:na[2],title:na[3]}};Ga.table=function(na){var Oa=this.rules.block.table.exec(na);if(Oa&&(na={type:"table",header:Z(Oa[1].replace(/^ *| *\| *$/g,"")),align:Oa[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:Oa[3]?Oa[3].replace(/\n$/,"").split("\n"):[]},na.header.length===na.align.length)){na.raw=Oa[0];Oa=na.align.length;var cb;for(cb=0;cb<Oa;cb++)/^ *-+: *$/.test(na.align[cb])?na.align[cb]="right":
/^ *:-+: *$/.test(na.align[cb])?na.align[cb]="center":/^ *:-+ *$/.test(na.align[cb])?na.align[cb]="left":na.align[cb]=null;Oa=na.cells.length;for(cb=0;cb<Oa;cb++)na.cells[cb]=Z(na.cells[cb].replace(/^ *\| *| *\| *$/g,""),na.header.length);return na}};Ga.lheading=function(na){if(na=this.rules.block.lheading.exec(na))return{type:"heading",raw:na[0],depth:"\x3d"===na[2].charAt(0)?1:2,text:na[1]}};Ga.paragraph=function(na){if(na=this.rules.block.paragraph.exec(na))return{type:"paragraph",raw:na[0],text:"\n"===
na[1].charAt(na[1].length-1)?na[1].slice(0,-1):na[1]}};Ga.text=function(na){if(na=this.rules.block.text.exec(na))return{type:"text",raw:na[0],text:na[0]}};Ga.escape=function(na){if(na=this.rules.inline.escape.exec(na))return{type:"escape",raw:na[0],text:Q(na[1])}};Ga.tag=function(na,Oa,cb){if(na=this.rules.inline.tag.exec(na))return!Oa&&/^<a /i.test(na[0])?Oa=!0:Oa&&/^<\/a>/i.test(na[0])&&(Oa=!1),!cb&&/^<(pre|code|kbd|script)(\s|>)/i.test(na[0])?cb=!0:cb&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(na[0])&&
(cb=!1),{type:this.options.sanitize?"text":"html",raw:na[0],inLink:Oa,inRawBlock:cb,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(na[0]):Q(na[0]):na[0]}};Ga.link=function(na){if(na=this.rules.inline.link.exec(na)){var Oa=na[2].trim();if(!this.options.pedantic&&/^</.test(Oa)){if(!/>$/.test(Oa))return;var cb=y(Oa.slice(0,-1),"\\");if(0===(Oa.length-cb.length)%2)return}else{a:{cb=na[2];if(-1!==cb.indexOf(")"))for(var Za=cb.length,Aa=0,Fa=0;Fa<Za;Fa++)if("\\"===cb[Fa])Fa++;
else if("("===cb[Fa])Aa++;else if(")"===cb[Fa]&&(Aa--,0>Aa)){cb=Fa;break a}cb=-1}-1<cb&&(Za=(0===na[0].indexOf("!")?5:4)+na[1].length+cb,na[2]=na[2].substring(0,cb),na[0]=na[0].substring(0,Za).trim(),na[3]="")}cb=na[2];Za="";if(this.options.pedantic){if(Aa=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(cb))cb=Aa[1],Za=Aa[3]}else Za=na[3]?na[3].slice(1,-1):"";cb=cb.trim();/^</.test(cb)&&(cb=this.options.pedantic&&!/>$/.test(Oa)?cb.slice(1):cb.slice(1,-1));return q(na,{href:cb?cb.replace(this.rules.inline._escapes,
"$1"):cb,title:Za?Za.replace(this.rules.inline._escapes,"$1"):Za},na[0])}};Ga.reflink=function(na,Oa){var cb;if((cb=this.rules.inline.reflink.exec(na))||(cb=this.rules.inline.nolink.exec(na)))return na=(cb[2]||cb[1]).replace(/\s+/g," "),na=Oa[na.toLowerCase()],na&&na.href?q(cb,na,cb[0]):(Oa=cb[0].charAt(0),{type:"text",raw:Oa,text:Oa})};Ga.emStrong=function(na,Oa,cb){void 0===cb&&(cb="");var Za=this.rules.inline.emStrong.lDelim.exec(na);if(Za&&(!Za[3]||!cb.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var Aa=
Za[1]||Za[2]||"";if(!Aa||Aa&&(""===cb||this.rules.inline.punctuation.exec(cb))){cb=Za[0].length-1;var Fa;Aa=cb;var Ra=0,ab="*"===Za[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;ab.lastIndex=0;for(Oa=Oa.slice(-1*na.length+cb);null!=(Za=ab.exec(Oa));)if(Fa=Za[1]||Za[2]||Za[3]||Za[4]||Za[5]||Za[6])if(Fa=Fa.length,Za[3]||Za[4])Aa+=Fa;else if((Za[5]||Za[6])&&cb%3&&!((cb+Fa)%3))Ra+=Fa;else if(Aa-=Fa,!(0<Aa)){0>=Aa+Ra-Fa&&!Oa.slice(ab.lastIndex).match(ab)&&(Fa=Math.min(Fa,
Fa+Aa+Ra));if(Math.min(cb,Fa)%2)return{type:"em",raw:na.slice(0,cb+Za.index+Fa+1),text:na.slice(1,cb+Za.index+Fa)};if(0===Math.min(cb,Fa)%2)return{type:"strong",raw:na.slice(0,cb+Za.index+Fa+1),text:na.slice(2,cb+Za.index+Fa-1)}}}}};Ga.codespan=function(na){if(na=this.rules.inline.code.exec(na)){var Oa=na[2].replace(/\n/g," "),cb=/[^ ]/.test(Oa),Za=/^ /.test(Oa)&&/ $/.test(Oa);cb&&Za&&(Oa=Oa.substring(1,Oa.length-1));Oa=Q(Oa,!0);return{type:"codespan",raw:na[0],text:Oa}}};Ga.br=function(na){if(na=
this.rules.inline.br.exec(na))return{type:"br",raw:na[0]}};Ga.del=function(na){if(na=this.rules.inline.del.exec(na))return{type:"del",raw:na[0],text:na[2]}};Ga.autolink=function(na,Oa){if(na=this.rules.inline.autolink.exec(na)){if("@"===na[2]){Oa=Q(this.options.mangle?Oa(na[1]):na[1]);var cb="mailto:"+Oa}else cb=Oa=Q(na[1]);return{type:"link",raw:na[0],text:Oa,href:cb,tokens:[{type:"text",raw:Oa,text:Oa}]}}};Ga.url=function(na,Oa){if(na=this.rules.inline.url.exec(na)){if("@"===na[2]){Oa=Q(this.options.mangle?
Oa(na[0]):na[0]);var cb="mailto:"+Oa}else{do Oa=na[0],na[0]=this.rules.inline._backpedal.exec(na[0])[0];while(Oa!==na[0]);Oa=Q(na[0]);cb="www."===na[1]?"http://"+Oa:Oa}return{type:"link",raw:na[0],text:Oa,href:cb,tokens:[{type:"text",raw:Oa,text:Oa}]}}};Ga.inlineText=function(na,Oa,cb){if(na=this.rules.inline.text.exec(na))return Oa=Oa?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(na[0]):Q(na[0]):na[0]:Q(this.options.smartypants?cb(na[0]):na[0]),{type:"text",raw:na[0],text:Oa}};
return pa}(),N={exec:function(){}},ea=function(pa,Ga){pa=pa.source||pa;Ga=Ga||"";var na={replace:function(Oa,cb){cb=cb.source||cb;cb=cb.replace(G,"$1");pa=pa.replace(Oa,cb);return na},getRegex:function(){return new RegExp(pa,Ga)}};return na},aa={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,
blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:\x3c(script|pre|style)[\\s\x3e][\\s\\S]*?(?:\x3c/\\1\x3e[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|\x3c\\?[\\s\\S]*?(?:\\?\x3e\\n*|$)|\x3c![A-Z][\\s\\S]*?(?:\x3e\\n*|$)|\x3c!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]\x3e\\n*|$)|\x3c/?(tag)(?: +|\\n|/?\x3e)[\\s\\S]*?(?:\\n{2,}|$)|\x3c(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?\x3e(?\x3d[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|\x3c/(?!script|pre|style)[a-z][\\w-]*\\s*\x3e(?\x3d[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",
def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:N,table:N,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};aa.def=ea(aa.def).replace("label",aa._label).replace("title",aa._title).getRegex();aa.bullet=/(?:[*+-]|\d{1,9}[.)])/;aa.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/;
aa.item=ea(aa.item,"gm").replace(/bull/g,aa.bullet).getRegex();aa.listItemStart=ea(/^( *)(bull) */).replace("bull",aa.bullet).getRegex();aa.list=ea(aa.list).replace(/bull/g,aa.bullet).replace("hr","\\n+(?\x3d\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?\x3d"+aa.def.source+")").getRegex();aa._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";
aa._comment=/\x3c!--(?!-?>)[\s\S]*?(?:--\x3e|$)/;aa.html=ea(aa.html,"i").replace("comment",aa._comment).replace("tag",aa._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();aa.paragraph=ea(aa._paragraph).replace("hr",aa.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}\x3e").replace("fences"," {0,3}(?:`{3,}(?\x3d[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html",
"\x3c/?(?:tag)(?: +|\\n|/?\x3e)|\x3c(?:script|pre|style|!--)").replace("tag",aa._tag).getRegex();aa.blockquote=ea(aa.blockquote).replace("paragraph",aa.paragraph).getRegex();aa.normal=da({},aa);aa.gfm=da({},aa.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});aa.gfm.nptable=
ea(aa.gfm.nptable).replace("hr",aa.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}\x3e").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?\x3d[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","\x3c/?(?:tag)(?: +|\\n|/?\x3e)|\x3c(?:script|pre|style|!--)").replace("tag",aa._tag).getRegex();aa.gfm.table=ea(aa.gfm.table).replace("hr",aa.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}\x3e").replace("code"," {4}[^\\n]").replace("fences",
" {0,3}(?:`{3,}(?\x3d[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","\x3c/?(?:tag)(?: +|\\n|/?\x3e)|\x3c(?:script|pre|style|!--)").replace("tag",aa._tag).getRegex();aa.pedantic=da({},aa.normal,{html:ea("^ *(?:comment *(?:\\n|\\s*$)|\x3c(tag)[\\s\\S]+?\x3c/\\1\x3e *(?:\\n{2,}|\\s*$)|\x3ctag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/\x3e\\s]*)*?/?\x3e *(?:\\n{2,}|\\s*$))").replace("comment",aa._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),
def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:N,paragraph:ea(aa.normal._paragraph).replace("hr",aa.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",aa.lheading).replace("blockquote"," {0,3}\x3e").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var va={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:N,tag:"^comment|^\x3c/[a-zA-Z][\\w:-]*\\s*\x3e|^\x3c[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?\x3e|^\x3c\\?[\\s\\S]*?\\?\x3e|^\x3c![a-zA-Z]+\\s[\\s\\S]*?\x3e|^\x3c!\\[CDATA\\[[\\s\\S]*?\\]\\]\x3e",
link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/__[^_]*?\*[^_]*?__|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,
rDelimUnd:/\*\*[^*]*?_[^*]*?\*\*|[punct*](_+)(?=[\s]|$)|[^punct*_\s](_+)(?=[punct*\s]|$)|[punct*\s](_+)(?=[^punct*_\s])|[\s](_+)(?=[punct*])|[punct*](_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:N,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%\x26'()+\\-.,/:;\x3c\x3d\x3e?@\\[\\]`^{|}~"};va.punctuation=ea(va.punctuation).replace(/punctuation/g,va._punctuation).getRegex();
va.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;va.escapedEmSt=/\\\*|\\_/g;va._comment=ea(aa._comment).replace("(?:--\x3e|$)","--\x3e").getRegex();va.emStrong.lDelim=ea(va.emStrong.lDelim).replace(/punct/g,va._punctuation).getRegex();va.emStrong.rDelimAst=ea(va.emStrong.rDelimAst,"g").replace(/punct/g,va._punctuation).getRegex();va.emStrong.rDelimUnd=ea(va.emStrong.rDelimUnd,"g").replace(/punct/g,va._punctuation).getRegex();va._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;va._scheme=
/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;va._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;va.autolink=ea(va.autolink).replace("scheme",va._scheme).replace("email",va._email).getRegex();va._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;va.tag=ea(va.tag).replace("comment",va._comment).replace("attribute",va._attribute).getRegex();va._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;
va._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;va._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;va.link=ea(va.link).replace("label",va._label).replace("href",va._href).replace("title",va._title).getRegex();va.reflink=ea(va.reflink).replace("label",va._label).getRegex();va.reflinkSearch=ea(va.reflinkSearch,"g").replace("reflink",va.reflink).replace("nolink",va.nolink).getRegex();va.normal=da({},va);va.pedantic=da({},va.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,
endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ea(/^!?\[(label)\]\((.*?)\)/).replace("label",va._label).getRegex(),reflink:ea(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",va._label).getRegex()});va.gfm=da({},va.normal,{escape:ea(va.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,
_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/});va.gfm.url=ea(va.gfm.url,"i").replace("email",va.gfm._extended_email).getRegex();va.breaks=da({},va.gfm,{br:ea(va.br).replace("{2,}","*").getRegex(),
text:ea(va.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var ta=a.defaults,Da=function(pa,Ga){if(1>Ga)return"";for(var na="";1<Ga;)Ga&1&&(na+=pa),Ga>>=1,pa+=pa;return na+pa},$a=function(){function pa(na){this.tokens=[];this.tokens.links=Object.create(null);this.options=na||ta;this.options.tokenizer=this.options.tokenizer||new r;this.tokenizer=this.options.tokenizer;this.tokenizer.options=this.options;na={block:aa.normal,inline:va.normal};this.options.pedantic?(na.block=
aa.pedantic,na.inline=va.pedantic):this.options.gfm&&(na.block=aa.gfm,na.inline=this.options.breaks?va.breaks:va.gfm);this.tokenizer.rules=na}pa.lex=function(na,Oa){return(new pa(Oa)).lex(na)};pa.lexInline=function(na,Oa){return(new pa(Oa)).inlineTokens(na)};var Ga=pa.prototype;Ga.lex=function(na){na=na.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ");this.blockTokens(na,this.tokens,!0);this.inline(this.tokens);return this.tokens};Ga.blockTokens=function(na,Oa,cb){void 0===Oa&&(Oa=[]);void 0===cb&&
(cb=!0);this.options.pedantic&&(na=na.replace(/^ +$/gm,""));for(var Za,Aa,Fa;na;)if(Za=this.tokenizer.space(na))na=na.substring(Za.raw.length),Za.type&&Oa.push(Za);else if(Za=this.tokenizer.code(na))na=na.substring(Za.raw.length),(Aa=Oa[Oa.length-1])&&"paragraph"===Aa.type?(Aa.raw+="\n"+Za.raw,Aa.text+="\n"+Za.text):Oa.push(Za);else if(Za=this.tokenizer.fences(na))na=na.substring(Za.raw.length),Oa.push(Za);else if(Za=this.tokenizer.heading(na))na=na.substring(Za.raw.length),Oa.push(Za);else if(Za=
this.tokenizer.nptable(na))na=na.substring(Za.raw.length),Oa.push(Za);else if(Za=this.tokenizer.hr(na))na=na.substring(Za.raw.length),Oa.push(Za);else if(Za=this.tokenizer.blockquote(na))na=na.substring(Za.raw.length),Za.tokens=this.blockTokens(Za.text,[],cb),Oa.push(Za);else if(Za=this.tokenizer.list(na)){na=na.substring(Za.raw.length);Fa=Za.items.length;for(Aa=0;Aa<Fa;Aa++)Za.items[Aa].tokens=this.blockTokens(Za.items[Aa].text,[],!1);Oa.push(Za)}else if(Za=this.tokenizer.html(na))na=na.substring(Za.raw.length),
Oa.push(Za);else if(cb&&(Za=this.tokenizer.def(na)))na=na.substring(Za.raw.length),this.tokens.links[Za.tag]||(this.tokens.links[Za.tag]={href:Za.href,title:Za.title});else if(Za=this.tokenizer.table(na))na=na.substring(Za.raw.length),Oa.push(Za);else if(Za=this.tokenizer.lheading(na))na=na.substring(Za.raw.length),Oa.push(Za);else if(cb&&(Za=this.tokenizer.paragraph(na)))na=na.substring(Za.raw.length),Oa.push(Za);else if(Za=this.tokenizer.text(na))na=na.substring(Za.raw.length),(Aa=Oa[Oa.length-
1])&&"text"===Aa.type?(Aa.raw+="\n"+Za.raw,Aa.text+="\n"+Za.text):Oa.push(Za);else if(na)if(na="Infinite loop on byte: "+na.charCodeAt(0),this.options.silent){console.error(na);break}else throw Error(na);return Oa};Ga.inline=function(na){var Oa,cb,Za,Aa=na.length;for(Oa=0;Oa<Aa;Oa++){var Fa=na[Oa];switch(Fa.type){case "paragraph":case "text":case "heading":Fa.tokens=[];this.inlineTokens(Fa.text,Fa.tokens);break;case "table":Fa.tokens={header:[],cells:[]};var Ra=Fa.header.length;for(cb=0;cb<Ra;cb++)Fa.tokens.header[cb]=
[],this.inlineTokens(Fa.header[cb],Fa.tokens.header[cb]);Ra=Fa.cells.length;for(cb=0;cb<Ra;cb++){var ab=Fa.cells[cb];Fa.tokens.cells[cb]=[];for(Za=0;Za<ab.length;Za++)Fa.tokens.cells[cb][Za]=[],this.inlineTokens(ab[Za],Fa.tokens.cells[cb][Za])}break;case "blockquote":this.inline(Fa.tokens);break;case "list":for(Ra=Fa.items.length,cb=0;cb<Ra;cb++)this.inline(Fa.items[cb].tokens)}}return na};Ga.inlineTokens=function(na,Oa,cb,Za){void 0===Oa&&(Oa=[]);void 0===cb&&(cb=!1);void 0===Za&&(Za=!1);var Aa,
Fa=na,Ra;if(this.tokens.links){var ab=Object.keys(this.tokens.links);if(0<ab.length)for(;null!=(Aa=this.tokenizer.rules.inline.reflinkSearch.exec(Fa));)ab.includes(Aa[0].slice(Aa[0].lastIndexOf("[")+1,-1))&&(Fa=Fa.slice(0,Aa.index)+"["+Da("a",Aa[0].length-2)+"]"+Fa.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(Aa=this.tokenizer.rules.inline.blockSkip.exec(Fa));)Fa=Fa.slice(0,Aa.index)+"["+Da("a",Aa[0].length-2)+"]"+Fa.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);
for(;null!=(Aa=this.tokenizer.rules.inline.escapedEmSt.exec(Fa));)Fa=Fa.slice(0,Aa.index)+"++"+Fa.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;na;){lb||(Ra="");var lb=!1;if(Aa=this.tokenizer.escape(na))na=na.substring(Aa.raw.length),Oa.push(Aa);else if(Aa=this.tokenizer.tag(na,cb,Za))na=na.substring(Aa.raw.length),cb=Aa.inLink,Za=Aa.inRawBlock,(ab=Oa[Oa.length-1])&&"text"===Aa.type&&"text"===ab.type?(ab.raw+=Aa.raw,ab.text+=Aa.text):Oa.push(Aa);else if(Aa=this.tokenizer.link(na))na=
na.substring(Aa.raw.length),"link"===Aa.type&&(Aa.tokens=this.inlineTokens(Aa.text,[],!0,Za)),Oa.push(Aa);else if(Aa=this.tokenizer.reflink(na,this.tokens.links))na=na.substring(Aa.raw.length),ab=Oa[Oa.length-1],"link"===Aa.type?(Aa.tokens=this.inlineTokens(Aa.text,[],!0,Za),Oa.push(Aa)):ab&&"text"===Aa.type&&"text"===ab.type?(ab.raw+=Aa.raw,ab.text+=Aa.text):Oa.push(Aa);else if(Aa=this.tokenizer.emStrong(na,Fa,Ra))na=na.substring(Aa.raw.length),Aa.tokens=this.inlineTokens(Aa.text,[],cb,Za),Oa.push(Aa);
else if(Aa=this.tokenizer.codespan(na))na=na.substring(Aa.raw.length),Oa.push(Aa);else if(Aa=this.tokenizer.br(na))na=na.substring(Aa.raw.length),Oa.push(Aa);else if(Aa=this.tokenizer.del(na))na=na.substring(Aa.raw.length),Aa.tokens=this.inlineTokens(Aa.text,[],cb,Za),Oa.push(Aa);else if(Aa=this.tokenizer.autolink(na,c))na=na.substring(Aa.raw.length),Oa.push(Aa);else if(!cb&&(Aa=this.tokenizer.url(na,c)))na=na.substring(Aa.raw.length),Oa.push(Aa);else if(Aa=this.tokenizer.inlineText(na,Za,h))na=na.substring(Aa.raw.length),
"_"!==Aa.raw.slice(-1)&&(Ra=Aa.raw.slice(-1)),lb=!0,(ab=Oa[Oa.length-1])&&"text"===ab.type?(ab.raw+=Aa.raw,ab.text+=Aa.text):Oa.push(Aa);else if(na)if(na="Infinite loop on byte: "+na.charCodeAt(0),this.options.silent){console.error(na);break}else throw Error(na);}return Oa};m(pa,null,[{key:"rules",get:function(){return{block:aa,inline:va}}}]);return pa}(),kb=a.defaults,sa=function(pa,Ga,na){if(pa){try{var Oa=decodeURIComponent(x(na)).replace(z,"").toLowerCase()}catch(cb){return null}if(0===Oa.indexOf("javascript:")||
0===Oa.indexOf("vbscript:")||0===Oa.indexOf("data:"))return null}Ga&&!J.test(na)&&(pa=Ga,K[" "+pa]||(R.test(pa)?K[" "+pa]=pa+"/":K[" "+pa]=y(pa,"/",!0)),pa=K[" "+pa],Ga=-1===pa.indexOf(":"),na="//"===na.substring(0,2)?Ga?na:pa.replace(U,"$1")+na:"/"===na.charAt(0)?Ga?na:pa.replace(ka,"$1")+na:pa+na);try{na=encodeURI(na).replace(/%25/g,"%")}catch(cb){return null}return na},Ta=function(){function pa(na){this.options=na||kb}var Ga=pa.prototype;Ga.code=function(na,Oa,cb){Oa=(Oa||"").match(/\S*/)[0];if(this.options.highlight){var Za=
this.options.highlight(na,Oa);null!=Za&&Za!==na&&(cb=!0,na=Za)}na=na.replace(/\n$/,"")+"\n";return Oa?'\x3cpre\x3e\x3ccode class\x3d"'+this.options.langPrefix+ba(Oa,!0)+'"\x3e'+(cb?na:ba(na,!0))+"\x3c/code\x3e\x3c/pre\x3e\n":"\x3cpre\x3e\x3ccode\x3e"+(cb?na:ba(na,!0))+"\x3c/code\x3e\x3c/pre\x3e\n"};Ga.blockquote=function(na){return"\x3cblockquote\x3e\n"+na+"\x3c/blockquote\x3e\n"};Ga.html=function(na){return na};Ga.heading=function(na,Oa,cb,Za){return this.options.headerIds?"\x3ch"+Oa+' id\x3d"'+
this.options.headerPrefix+Za.slug(cb)+'"\x3e'+na+"\x3c/h"+Oa+"\x3e\n":"\x3ch"+Oa+"\x3e"+na+"\x3c/h"+Oa+"\x3e\n"};Ga.hr=function(){return this.options.xhtml?"\x3chr/\x3e\n":"\x3chr\x3e\n"};Ga.list=function(na,Oa,cb){var Za=Oa?"ol":"ul";return"\x3c"+Za+(Oa&&1!==cb?' start\x3d"'+cb+'"':"")+"\x3e\n"+na+"\x3c/"+Za+"\x3e\n"};Ga.listitem=function(na){return"\x3cli\x3e"+na+"\x3c/li\x3e\n"};Ga.checkbox=function(na){return"\x3cinput "+(na?'checked\x3d"" ':"")+'disabled\x3d"" type\x3d"checkbox"'+(this.options.xhtml?
" /":"")+"\x3e "};Ga.paragraph=function(na){return"\x3cp\x3e"+na+"\x3c/p\x3e\n"};Ga.table=function(na,Oa){Oa&&(Oa="\x3ctbody\x3e"+Oa+"\x3c/tbody\x3e");return"\x3ctable\x3e\n\x3cthead\x3e\n"+na+"\x3c/thead\x3e\n"+Oa+"\x3c/table\x3e\n"};Ga.tablerow=function(na){return"\x3ctr\x3e\n"+na+"\x3c/tr\x3e\n"};Ga.tablecell=function(na,Oa){var cb=Oa.header?"th":"td";return(Oa.align?"\x3c"+cb+' align\x3d"'+Oa.align+'"\x3e':"\x3c"+cb+"\x3e")+na+"\x3c/"+cb+"\x3e\n"};Ga.strong=function(na){return"\x3cstrong\x3e"+
na+"\x3c/strong\x3e"};Ga.em=function(na){return"\x3cem\x3e"+na+"\x3c/em\x3e"};Ga.codespan=function(na){return"\x3ccode\x3e"+na+"\x3c/code\x3e"};Ga.br=function(){return this.options.xhtml?"\x3cbr/\x3e":"\x3cbr\x3e"};Ga.del=function(na){return"\x3cdel\x3e"+na+"\x3c/del\x3e"};Ga.link=function(na,Oa,cb){na=sa(this.options.sanitize,this.options.baseUrl,na);if(null===na)return cb;na='\x3ca href\x3d"'+ba(na)+'"';Oa&&(na+=' title\x3d"'+Oa+'"');return na+("\x3e"+cb+"\x3c/a\x3e")};Ga.image=function(na,Oa,cb){na=
sa(this.options.sanitize,this.options.baseUrl,na);if(null===na)return cb;na='\x3cimg src\x3d"'+na+'" alt\x3d"'+cb+'"';Oa&&(na+=' title\x3d"'+Oa+'"');return na+=this.options.xhtml?"/\x3e":"\x3e"};Ga.text=function(na){return na};return pa}(),Wa=function(){function pa(){}var Ga=pa.prototype;Ga.strong=function(na){return na};Ga.em=function(na){return na};Ga.codespan=function(na){return na};Ga.del=function(na){return na};Ga.html=function(na){return na};Ga.text=function(na){return na};Ga.link=function(na,
Oa,cb){return""+cb};Ga.image=function(na,Oa,cb){return""+cb};Ga.br=function(){return""};return pa}(),Ea=function(){function pa(){this.seen={}}var Ga=pa.prototype;Ga.serialize=function(na){return na.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")};Ga.getNextSafeSlug=function(na,Oa){var cb=na,Za=0;if(this.seen.hasOwnProperty(cb)){Za=this.seen[na];do Za++,cb=na+"-"+Za;while(this.seen.hasOwnProperty(cb))}Oa||
(this.seen[na]=Za,this.seen[cb]=0);return cb};Ga.slug=function(na,Oa){void 0===Oa&&(Oa={});na=this.serialize(na);return this.getNextSafeSlug(na,Oa.dryrun)};return pa}(),ua=a.defaults,V=function(){function pa(na){this.options=na||ua;this.options.renderer=this.options.renderer||new Ta;this.renderer=this.options.renderer;this.renderer.options=this.options;this.textRenderer=new Wa;this.slugger=new Ea}pa.parse=function(na,Oa){return(new pa(Oa)).parse(na)};pa.parseInline=function(na,Oa){return(new pa(Oa)).parseInline(na)};
var Ga=pa.prototype;Ga.parse=function(na,Oa){void 0===Oa&&(Oa=!0);var cb="",Za,Aa,Fa,Ra,ab=na.length;for(Za=0;Za<ab;Za++){var lb=na[Za];switch(lb.type){case "space":continue;case "hr":cb+=this.renderer.hr();continue;case "heading":cb+=this.renderer.heading(this.parseInline(lb.tokens),lb.depth,x(this.parseInline(lb.tokens,this.textRenderer)),this.slugger);continue;case "code":cb+=this.renderer.code(lb.text,lb.lang,lb.escaped);continue;case "table":var Ma=Ra="";var nb=lb.header.length;for(Aa=0;Aa<nb;Aa++)Ma+=
this.renderer.tablecell(this.parseInline(lb.tokens.header[Aa]),{header:!0,align:lb.align[Aa]});Ra+=this.renderer.tablerow(Ma);var zb="";nb=lb.cells.length;for(Aa=0;Aa<nb;Aa++){var Sb=lb.tokens.cells[Aa];Ma="";var vc=Sb.length;for(Fa=0;Fa<vc;Fa++)Ma+=this.renderer.tablecell(this.parseInline(Sb[Fa]),{header:!1,align:lb.align[Fa]});zb+=this.renderer.tablerow(Ma)}cb+=this.renderer.table(Ra,zb);continue;case "blockquote":zb=this.parse(lb.tokens);cb+=this.renderer.blockquote(zb);continue;case "list":Fa=
lb.ordered;vc=lb.start;Sb=lb.loose;nb=lb.items.length;zb="";for(Aa=0;Aa<nb;Aa++){Ra=lb.items[Aa];var lc=Ra.checked;var kc=Ra.task;Ma="";if(Ra.task){var jb=this.renderer.checkbox(lc);Sb?0<Ra.tokens.length&&"text"===Ra.tokens[0].type?(Ra.tokens[0].text=jb+" "+Ra.tokens[0].text,Ra.tokens[0].tokens&&0<Ra.tokens[0].tokens.length&&"text"===Ra.tokens[0].tokens[0].type&&(Ra.tokens[0].tokens[0].text=jb+" "+Ra.tokens[0].tokens[0].text)):Ra.tokens.unshift({type:"text",text:jb}):Ma+=jb}Ma+=this.parse(Ra.tokens,
Sb);zb+=this.renderer.listitem(Ma,kc,lc)}cb+=this.renderer.list(zb,Fa,vc);continue;case "html":cb+=this.renderer.html(lb.text);continue;case "paragraph":cb+=this.renderer.paragraph(this.parseInline(lb.tokens));continue;case "text":for(zb=lb.tokens?this.parseInline(lb.tokens):lb.text;Za+1<ab&&"text"===na[Za+1].type;)lb=na[++Za],zb+="\n"+(lb.tokens?this.parseInline(lb.tokens):lb.text);cb+=Oa?this.renderer.paragraph(zb):zb;continue;default:na='Token with "'+lb.type+'" type was not found.';if(this.options.silent){console.error(na);
return}throw Error(na);}}return cb};Ga.parseInline=function(na,Oa){Oa=Oa||this.renderer;var cb="",Za,Aa=na.length;for(Za=0;Za<Aa;Za++){var Fa=na[Za];switch(Fa.type){case "escape":cb+=Oa.text(Fa.text);break;case "html":cb+=Oa.html(Fa.text);break;case "link":cb+=Oa.link(Fa.href,Fa.title,this.parseInline(Fa.tokens,Oa));break;case "image":cb+=Oa.image(Fa.href,Fa.title,Fa.text);break;case "strong":cb+=Oa.strong(this.parseInline(Fa.tokens,Oa));break;case "em":cb+=Oa.em(this.parseInline(Fa.tokens,Oa));break;
case "codespan":cb+=Oa.codespan(Fa.text);break;case "br":cb+=Oa.br();break;case "del":cb+=Oa.del(this.parseInline(Fa.tokens,Oa));break;case "text":cb+=Oa.text(Fa.text);break;default:na='Token with "'+Fa.type+'" type was not found.';if(this.options.silent){console.error(na);return}throw Error(na);}}return cb};return pa}(),W=da,ca=function(pa){pa&&pa.sanitize&&!pa.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},
fa=ba;da=a.getDefaults;var qa=a.changeDefaults;a=a.defaults;e.options=e.setOptions=function(pa){W(e.defaults,pa);qa(e.defaults);return e};e.getDefaults=da;e.defaults=a;e.use=function(pa){var Ga=W({},pa);pa.renderer&&function(){var Oa=e.defaults.renderer||new Ta,cb=function(Aa){var Fa=Oa[Aa];Oa[Aa]=function(){for(var Ra=arguments.length,ab=Array(Ra),lb=0;lb<Ra;lb++)ab[lb]=arguments[lb];Ra=pa.renderer[Aa].apply(Oa,ab);!1===Ra&&(Ra=Fa.apply(Oa,ab));return Ra}},Za;for(Za in pa.renderer)cb(Za);Ga.renderer=
Oa}();pa.tokenizer&&function(){var Oa=e.defaults.tokenizer||new r,cb=function(Aa){var Fa=Oa[Aa];Oa[Aa]=function(){for(var Ra=arguments.length,ab=Array(Ra),lb=0;lb<Ra;lb++)ab[lb]=arguments[lb];Ra=pa.tokenizer[Aa].apply(Oa,ab);!1===Ra&&(Ra=Fa.apply(Oa,ab));return Ra}},Za;for(Za in pa.tokenizer)cb(Za);Ga.tokenizer=Oa}();if(pa.walkTokens){var na=e.defaults.walkTokens;Ga.walkTokens=function(Oa){pa.walkTokens(Oa);na&&na(Oa)}}e.setOptions(Ga)};e.walkTokens=function(pa,Ga){pa=O(pa);for(var na;!(na=pa()).done;)switch(na=
na.value,Ga(na),na.type){case "table":for(var Oa=O(na.tokens.header),cb;!(cb=Oa()).done;)e.walkTokens(cb.value,Ga);for(na=O(na.tokens.cells);!(Oa=na()).done;)for(Oa=O(Oa.value);!(cb=Oa()).done;)e.walkTokens(cb.value,Ga);break;case "list":e.walkTokens(na.items,Ga);break;default:na.tokens&&e.walkTokens(na.tokens,Ga)}};e.parseInline=function(pa,Ga){if("undefined"===typeof pa||null===pa)throw Error("marked.parseInline(): input parameter is undefined or null");if("string"!==typeof pa)throw Error("marked.parseInline(): input parameter is of type "+
Object.prototype.toString.call(pa)+", string expected");Ga=W({},e.defaults,Ga||{});ca(Ga);try{var na=$a.lexInline(pa,Ga);Ga.walkTokens&&e.walkTokens(na,Ga.walkTokens);return V.parseInline(na,Ga)}catch(Oa){Oa.message+="\nPlease report this to https://github.com/markedjs/marked.";if(Ga.silent)return"\x3cp\x3eAn error occurred:\x3c/p\x3e\x3cpre\x3e"+fa(Oa.message+"",!0)+"\x3c/pre\x3e";throw Oa;}};e.Parser=V;e.parser=V.parse;e.Renderer=Ta;e.TextRenderer=Wa;e.Lexer=$a;e.lexer=$a.lex;e.Tokenizer=r;e.Slugger=
Ea;return e.parse=e})};
shadow$provide[14]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E):"function"===typeof define&&define.amd?define(["exports"],m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.vega={}))})(this,function(g){function m(ua,V,W){ua.fields=V||[];ua.fname=W;return ua}function n(ua){return null==ua?null:ua.fields}function F(ua){return 1===ua.length?R(ua[0]):U(ua)}function O(ua){throw Error(ua);}function x(ua){function V(){W.push(pa+ua.substring(Ga,na));pa="";
Ga=na+1}const W=[],ca=ua.length;let fa=null,qa=0,pa="",Ga,na,Oa;ua+="";for(Ga=na=0;na<ca;++na)(Oa=ua[na],"\\"===Oa)?(pa+=ua.substring(Ga,na),pa+=ua.substring(++na,++na),Ga=na):Oa===fa?(V(),fa=null,qa=-1):fa||(Ga===qa&&'"'===Oa?(Ga=na+1,fa=Oa):Ga===qa&&"'"===Oa?(Ga=na+1,fa=Oa):"."!==Oa||qa?"["===Oa?(na>Ga&&V(),qa=Ga=na+1):"]"===Oa&&(qa||O("Access path missing open bracket: "+ua),0<qa&&V(),qa=0,Ga=na+1):na>Ga?V():Ga=na+1);qa&&O("Access path missing closing bracket: "+ua);fa&&O("Access path missing closing quote: "+
ua);na>Ga&&(na++,V());return W}function y(ua,V,W){const ca=x(ua);ua=1===ca.length?ca[0]:ua;return m((W&&W.get||F)(ca),[ua],V||ua)}function q(ua,V,W){V=[V].concat([].slice.call(W));console[ua].apply(console,V)}function l(ua){return ua===Object(ua)}function h(ua,V,W,ca){if("__proto__"!==V){var fa;if(l(W)&&!r(W))for(fa in ua=l(ua[V])?ua[V]:ua[V]={},W)ca&&(!0===ca||ca[fa])?h(ua,fa,W[fa]):"__proto__"!==fa&&(ua[fa]=W[fa]);else ua[V]=W}}function c(ua,V){function W(qa){ca[qa.name]||(ca[qa.name]=1,fa.push(qa))}
if(null==ua)return V;const ca={},fa=[];V.forEach(W);ua.forEach(W);return fa}function e(ua){return ua[ua.length-1]}function a(ua){return null==ua||""===ua?null:+ua}function f(ua,V,W,ca){const fa=W(ua[0]);ua=W(e(ua));V*=ua-fa;return[ca(fa-V),ca(ua-V)]}function p(ua,V,W,ca,fa){const qa=ca(ua[0]);ua=ca(e(ua));V=null!=V?ca(V):(qa+ua)/2;return[fa(V+(qa-V)*W),fa(V+(ua-V)*W)]}function A(ua){return null!=ua?r(ua)?ua:[ua]:[]}function C(ua){return"function"===typeof ua}function D(ua){for(let V,W,ca=1,fa=arguments.length;ca<
fa;++ca)for(W in V=arguments[ca],V)ua[W]=V[W];return ua}function P(ua,V){return Ta.call(ua,V)}function L(ua){return"[object Date]"===Object.prototype.toString.call(ua)}function G(ua){return"number"===typeof ua}function z(ua){return"string"===typeof ua}function J(ua,V){let W="";for(;0<=--V;)W+=ua;return W}function K(ua){return r(ua)?"["+ua.map(K)+"]":l(ua)||z(ua)?JSON.stringify(ua).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):ua}const R=ua=>function(V){return V[ua]},U=ua=>{const V=ua.length;
return function(W){for(let ca=0;ca<V;++ca)W=W[ua[ca]];return W}},ka=y("id"),ba=m(ua=>ua,[],"identity"),da=m(()=>0,[],"zero"),ja=m(()=>1,[],"one"),Z=m(()=>!0,[],"true"),Q=m(()=>!1,[],"false");var r=Array.isArray;const N=ua=>V=>ua*Math.exp(V),ea=ua=>V=>Math.log(ua*V),aa=ua=>V=>Math.sign(V)*Math.log1p(Math.abs(V/ua)),va=ua=>V=>Math.sign(V)*Math.expm1(Math.abs(V))*ua,ta=ua=>V=>0>V?-Math.pow(-V,ua):Math.pow(V,ua),Da=(ua,V)=>(ua<V||null==ua)&&null!=V?-1:(ua>V||null==V)&&null!=ua?1:(V=V instanceof Date?
+V:V,ua=ua instanceof Date?+ua:ua)!==ua&&V===V?-1:V!==V&&ua===ua?1:0,$a=(ua,V)=>1===ua.length?kb(ua[0],V[0]):sa(ua,V,ua.length),kb=(ua,V)=>function(W,ca){return Da(ua(W),ua(ca))*V},sa=(ua,V,W)=>{V.push(0);return function(ca,fa){var qa=0;let pa=-1;for(;0===qa&&++pa<W;)qa=ua[pa],qa=Da(qa(ca),qa(fa));return qa*V[pa]}},Ta=Object.prototype.hasOwnProperty,Wa={},Ea=ua=>G(ua)?ua:L(ua)?ua:Date.parse(ua);g.Debug=4;g.Error=1;g.Info=3;g.None=0;g.Warn=2;g.accessor=m;g.accessorFields=n;g.accessorName=function(ua){return null==
ua?null:ua.fname};g.array=A;g.ascending=Da;g.clampRange=function(ua,V,W){let ca=ua[0];ua=ua[1];let fa;ua<ca&&(fa=ua,ua=ca,ca=fa);fa=ua-ca;return fa>=W-V?[V,W]:[ca=Math.min(Math.max(ca,V),W-fa),ca+fa]};g.compare=function(ua,V,W){W=W||{};V=A(V)||[];const ca=[],fa=[],qa={},pa=W.comparator||$a;A(ua).forEach((Ga,na)=>{null!=Ga&&(ca.push("descending"===V[na]?-1:1),fa.push(Ga=C(Ga)?Ga:y(Ga,null,W)),(n(Ga)||[]).forEach(Oa=>qa[Oa]=1))});return 0===fa.length?null:m(pa(fa,ca),Object.keys(qa))};g.constant=function(ua){return C(ua)?
ua:()=>ua};g.debounce=function(ua,V){let W;return ca=>{W&&clearTimeout(W);W=setTimeout(()=>(V(ca),W=null),ua)}};g.error=O;g.extend=D;g.extent=function(ua,V){let W=0,ca,fa,qa,pa;if(ua&&(ca=ua.length))if(null==V){for(fa=ua[W];W<ca&&(null==fa||fa!==fa);fa=ua[++W]);for(qa=pa=fa;W<ca;++W)fa=ua[W],null!=fa&&(fa<qa&&(qa=fa),fa>pa&&(pa=fa))}else{for(fa=V(ua[W]);W<ca&&(null==fa||fa!==fa);fa=V(ua[++W]));for(qa=pa=fa;W<ca;++W)fa=V(ua[W]),null!=fa&&(fa<qa&&(qa=fa),fa>pa&&(pa=fa))}return[qa,pa]};g.extentIndex=
function(ua,V){const W=ua.length;let ca=-1,fa,qa,pa,Ga,na;if(null==V){for(;++ca<W;)if(qa=ua[ca],null!=qa&&qa>=qa){fa=pa=qa;break}if(ca===W)return[-1,-1];for(Ga=na=ca;++ca<W;)qa=ua[ca],null!=qa&&(fa>qa&&(fa=qa,Ga=ca),pa<qa&&(pa=qa,na=ca))}else{for(;++ca<W;)if(qa=V(ua[ca],ca,ua),null!=qa&&qa>=qa){fa=pa=qa;break}if(ca===W)return[-1,-1];for(Ga=na=ca;++ca<W;)qa=V(ua[ca],ca,ua),null!=qa&&(fa>qa&&(fa=qa,Ga=ca),pa<qa&&(pa=qa,na=ca))}return[Ga,na]};g.falsy=Q;g.fastmap=function(ua){function V(qa){return P(W,
qa)&&W[qa]!==Wa}let W={},ca;const fa={size:0,empty:0,object:W,has:V,get(qa){return V(qa)?W[qa]:void 0},set(qa,pa){V(qa)||(++fa.size,W[qa]===Wa&&--fa.empty);W[qa]=pa;return this},delete(qa){V(qa)&&(--fa.size,++fa.empty,W[qa]=Wa);return this},clear(){fa.size=fa.empty=0;fa.object=W={}},test(qa){return arguments.length?(ca=qa,fa):ca},clean(){const qa={};let pa=0;for(const Ga in W){const na=W[Ga];na===Wa||ca&&ca(na)||(qa[Ga]=na,++pa)}fa.size=pa;fa.empty=0;fa.object=W=qa}};ua&&Object.keys(ua).forEach(qa=>
{fa.set(qa,ua[qa])});return fa};g.field=y;g.flush=function(ua,V,W,ca,fa,qa){if(!W&&0!==W)return qa;W=+W;let pa=ua[0],Ga=e(ua);Ga<pa&&(ua=pa,pa=Ga,Ga=ua);ua=Math.abs(V-pa);V=Math.abs(Ga-V);return ua<V&&ua<=W?ca:V<=W?fa:qa};g.hasOwnProperty=P;g.id=ka;g.identity=ba;g.inherits=function(ua,V,W){V=ua.prototype=Object.create(V.prototype);Object.defineProperty(V,"constructor",{value:ua,writable:!0,enumerable:!0,configurable:!0});return D(V,W)};g.inrange=function(ua,V,W,ca){let fa=V[0];V=V[V.length-1];let qa;
fa>V&&(qa=fa,fa=V,V=qa);return(void 0===W||W?fa<=ua:fa<ua)&&(void 0===ca||ca?ua<=V:ua<V)};g.isArray=r;g.isBoolean=function(ua){return"boolean"===typeof ua};g.isDate=L;g.isFunction=C;g.isIterable=function(ua){return ua&&C(ua[Symbol.iterator])};g.isNumber=G;g.isObject=l;g.isRegExp=function(ua){return"[object RegExp]"===Object.prototype.toString.call(ua)};g.isString=z;g.key=function(ua,V,W){ua&&(ua=V?A(ua).map(qa=>qa.replace(/\\(.)/g,"$1")):A(ua));const ca=ua&&ua.length,fa=W&&W.get||F;W=qa=>fa(V?[qa]:
x(qa));if(ca)if(1===ca){const qa=W(ua[0]);W=function(pa){return""+qa(pa)}}else{const qa=ua.map(W);W=function(pa){let Ga=""+qa[0](pa),na=0;for(;++na<ca;)Ga+="|"+qa[na](pa);return Ga}}else W=function(){return""};return m(W,ua,"key")};g.lerp=function(ua,V){const W=ua[0];ua=e(ua);return(V=+V)?1===V?ua:W+V*(ua-W):W};g.logger=function(ua,V){let W=ua||0;return{level(ca){return arguments.length?(W=+ca,this):W},error(){1<=W&&q(V||"error","ERROR",arguments);return this},warn(){2<=W&&q(V||"warn","WARN",arguments);
return this},info(){3<=W&&q(V||"log","INFO",arguments);return this},debug(){4<=W&&q(V||"log","DEBUG",arguments);return this}}};g.lruCache=function(ua){ua=+ua||1E4;let V,W,ca;const fa=()=>{V={};W={};ca=0},qa=(pa,Ga)=>{++ca>ua&&(W=V,V={},ca=1);return V[pa]=Ga};fa();return{clear:fa,has:pa=>P(V,pa)||P(W,pa),get:pa=>P(V,pa)?V[pa]:P(W,pa)?qa(pa,W[pa]):void 0,set:(pa,Ga)=>P(V,pa)?V[pa]=Ga:qa(pa,Ga)}};g.merge=function(ua,V,W,ca){const fa=V.length,qa=W.length;if(!qa)return V;if(!fa)return W;ca=ca||new V.constructor(fa+
qa);let pa=0,Ga=0,na=0;for(;pa<fa&&Ga<qa;++na)ca[na]=0<ua(V[pa],W[Ga])?W[Ga++]:V[pa++];for(;pa<fa;++pa,++na)ca[na]=V[pa];for(;Ga<qa;++Ga,++na)ca[na]=W[Ga];return ca};g.mergeConfig=function(...ua){return ua.reduce((V,W)=>{for(const ca in W)"signals"===ca?V.signals=c(V.signals,W.signals):h(V,ca,W[ca],"legend"===ca?{layout:1}:"style"===ca?!0:null);return V},{})};g.one=ja;g.pad=function(ua,V,W,ca){W=W||" ";ua+="";V-=ua.length;return 0>=V?ua:"left"===ca?J(W,V)+ua:"center"===ca?J(W,~~(V/2))+ua+J(W,Math.ceil(V/
2)):ua+J(W,V)};g.panLinear=function(ua,V){return f(ua,V,a,ba)};g.panLog=function(ua,V){var W=Math.sign(ua[0]);return f(ua,V,ea(W),N(W))};g.panPow=function(ua,V,W){return f(ua,V,ta(W),ta(1/W))};g.panSymlog=function(ua,V,W){return f(ua,V,aa(W),va(W))};g.peek=e;g.quarter=function(ua){return 1+~~((new Date(ua)).getMonth()/3)};g.repeat=J;g.span=function(ua){return ua&&e(ua)-ua[0]||0};g.splitAccessPath=x;g.stringValue=K;g.toBoolean=function(ua){return null==ua||""===ua?null:ua&&"false"!==ua&&"0"!==ua?!!ua:
!1};g.toDate=function(ua,V){V=V||Ea;return null==ua||""===ua?null:V(ua)};g.toNumber=a;g.toSet=function(ua){const V={},W=ua.length;for(let ca=0;ca<W;++ca)V[ua[ca]]=!0;return V};g.toString=function(ua){return null==ua||""===ua?null:ua+""};g.truncate=function(ua,V,W,ca){ca=null!=ca?ca:"";ua+="";const fa=ua.length,qa=Math.max(0,V-ca.length);return fa<=V?ua:"left"===W?ca+ua.slice(fa-qa):"center"===W?ua.slice(0,Math.ceil(qa/2))+ca+ua.slice(fa-~~(qa/2)):ua.slice(0,qa)+ca};g.truthy=Z;g.utcquarter=function(ua){return 1+
~~((new Date(ua)).getUTCMonth()/3)};g.visitArray=function(ua,V,W){if(ua)if(V){const ca=ua.length;for(let fa=0;fa<ca;++fa){const qa=V(ua[fa]);qa&&W(qa,fa,ua)}}else ua.forEach(W)};g.writeConfig=h;g.zero=da;g.zoomLinear=function(ua,V,W){return p(ua,V,W,a,ba)};g.zoomLog=function(ua,V,W){const ca=Math.sign(ua[0]);return p(ua,V,W,ea(ca),N(ca))};g.zoomPow=function(ua,V,W,ca){return p(ua,V,W,ta(ca),ta(1/ca))};g.zoomSymlog=function(ua,V,W,ca){return p(ua,V,W,aa(ca),va(ca))};Object.defineProperty(g,"__esModule",
{value:!0})})};
shadow$provide[15]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E):"function"===typeof define&&define.amd?define(["exports"],m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.d3=g.d3||{}))})(this,function(g){function m(Aa,Fa){return Aa<Fa?-1:Aa>Fa?1:Aa>=Fa?0:NaN}function n(Aa){function Fa(lb,Ma,nb,zb){null==nb&&(nb=0);null==zb&&(zb=lb.length);for(;nb<zb;){const Sb=nb+zb>>>1;0>ab(lb[Sb],Ma)?nb=Sb+1:zb=Sb}return nb}let Ra=Aa,ab=Aa;1===Aa.length&&(Ra=(lb,
Ma)=>Aa(lb)-Ma,ab=F(Aa));return{left:Fa,center:function(lb,Ma,nb,zb){null==nb&&(nb=0);null==zb&&(zb=lb.length);zb=Fa(lb,Ma,nb,zb-1);return zb>nb&&Ra(lb[zb-1],Ma)>-Ra(lb[zb],Ma)?zb-1:zb},right:function(lb,Ma,nb,zb){null==nb&&(nb=0);null==zb&&(zb=lb.length);for(;nb<zb;){const Sb=nb+zb>>>1;0<ab(lb[Sb],Ma)?zb=Sb:nb=Sb+1}return nb}}}function F(Aa){return(Fa,Ra)=>m(Aa(Fa),Ra)}function O(Aa){return null===Aa?NaN:+Aa}function*x(Aa,Fa){if(void 0===Fa)for(var Ra of Aa)null!=Ra&&(Ra=+Ra)>=Ra&&(yield Ra);else{Ra=
-1;for(let ab of Aa)null!=(ab=Fa(ab,++Ra,Aa))&&(ab=+ab)>=ab&&(yield ab)}}function y(Aa,Fa){let Ra=0;if(void 0===Fa)for(var ab of Aa)null!=ab&&(ab=+ab)>=ab&&++Ra;else{ab=-1;for(let lb of Aa)null!=(lb=Fa(lb,++ab,Aa))&&(lb=+lb)>=lb&&++Ra}return Ra}function q(Aa){return Aa.length|0}function l(Aa){return!(0<Aa)}function h(Aa){return"object"!==typeof Aa||"length"in Aa?Aa:Array.from(Aa)}function c(Aa){return Fa=>Aa(...Fa)}function e(Aa,Fa){let Ra=0,ab,lb=0,Ma=0;if(void 0===Fa)for(var nb of Aa)null!=nb&&
(nb=+nb)>=nb&&(ab=nb-lb,lb+=ab/++Ra,Ma+=ab*(nb-lb));else{nb=-1;for(let zb of Aa)null!=(zb=Fa(zb,++nb,Aa))&&(zb=+zb)>=zb&&(ab=zb-lb,lb+=ab/++Ra,Ma+=ab*(zb-lb))}if(1<Ra)return Ma/(Ra-1)}function a(Aa,Fa){return(Aa=e(Aa,Fa))?Math.sqrt(Aa):Aa}function f(Aa,Fa){let Ra,ab;if(void 0===Fa)for(var lb of Aa)null!=lb&&(void 0===Ra?lb>=lb&&(Ra=ab=lb):(Ra>lb&&(Ra=lb),ab<lb&&(ab=lb)));else{lb=-1;for(let Ma of Aa)null!=(Ma=Fa(Ma,++lb,Aa))&&(void 0===Ra?Ma>=Ma&&(Ra=ab=Ma):(Ra>Ma&&(Ra=Ma),ab<Ma&&(ab=Ma)))}return[Ra,
ab]}function p({_intern:Aa,_key:Fa},Ra){Fa=Fa(Ra);return Aa.has(Fa)?Aa.get(Fa):Ra}function A({_intern:Aa,_key:Fa},Ra){Fa=Fa(Ra);if(Aa.has(Fa))return Aa.get(Fa);Aa.set(Fa,Ra);return Ra}function C({_intern:Aa,_key:Fa},Ra){Fa=Fa(Ra);Aa.has(Fa)&&(Ra=Aa.get(Ra),Aa.delete(Fa));return Ra}function D(Aa){return null!==Aa&&"object"===typeof Aa?Aa.valueOf():Aa}function P(Aa){return Aa}function L(Aa,...Fa){return J(Aa,P,P,Fa)}function G(Aa,Fa,...Ra){return J(Aa,P,Fa,Ra)}function z(Aa){if(1!==Aa.length)throw Error("duplicate key");
return Aa[0]}function J(Aa,Fa,Ra,ab){return function zb(Ma,nb){if(nb>=ab.length)return Ra(Ma);const Sb=new qa,vc=ab[nb++];let lc=-1;for(const kc of Ma){const jb=vc(kc,++lc,Ma),$b=Sb.get(jb);$b?$b.push(kc):Sb.set(jb,[kc])}for(const [kc,jb]of Sb)Sb.set(kc,zb(jb,nb));return Fa(Sb)}(Aa,0)}function K(Aa,Fa){return Array.from(Fa,Ra=>Aa[Ra])}function R(Aa,...Fa){if("function"!==typeof Aa[Symbol.iterator])throw new TypeError("values is not iterable");Aa=Array.from(Aa);let [Ra=m]=Fa;if(1===Ra.length||1<Fa.length){const ab=
Uint32Array.from(Aa,(lb,Ma)=>Ma);1<Fa.length?(Fa=Fa.map(lb=>Aa.map(lb)),ab.sort((lb,Ma)=>{for(const nb of Fa){const zb=m(nb[lb],nb[Ma]);if(zb)return zb}})):(Ra=Aa.map(Ra),ab.sort((lb,Ma)=>m(Ra[lb],Ra[Ma])));return K(Aa,ab)}return Aa.sort(Ra)}function U(Aa){return function(){return Aa}}function ka(Aa,Fa,Ra){var ab,lb=-1,Ma;Fa=+Fa;Aa=+Aa;Ra=+Ra;if(Aa===Fa&&0<Ra)return[Aa];if(ab=Fa<Aa){var nb=Aa;Aa=Fa;Fa=nb}if(0===(Ma=ba(Aa,Fa,Ra))||!isFinite(Ma))return[];if(0<Ma)for(Aa=Math.ceil(Aa/Ma),Fa=Math.floor(Fa/
Ma),Fa=Array(nb=Math.ceil(Fa-Aa+1));++lb<nb;)Fa[lb]=(Aa+lb)*Ma;else for(Ma=-Ma,Aa=Math.ceil(Aa*Ma),Fa=Math.floor(Fa*Ma),Fa=Array(nb=Math.ceil(Fa-Aa+1));++lb<nb;)Fa[lb]=(Aa+lb)/Ma;ab&&Fa.reverse();return Fa}function ba(Aa,Fa,Ra){Fa=(Fa-Aa)/Math.max(0,Ra);Aa=Math.floor(Math.log(Fa)/Math.LN10);Fa/=Math.pow(10,Aa);return 0<=Aa?(Fa>=na?10:Fa>=Oa?5:Fa>=cb?2:1)*Math.pow(10,Aa):-Math.pow(10,-Aa)/(Fa>=na?10:Fa>=Oa?5:Fa>=cb?2:1)}function da(Aa,Fa,Ra){let ab;for(;;){const lb=ba(Aa,Fa,Ra);if(lb===ab||0===lb||
!isFinite(lb))return[Aa,Fa];0<lb?(Aa=Math.floor(Aa/lb)*lb,Fa=Math.ceil(Fa/lb)*lb):0>lb&&(Aa=Math.ceil(Aa*lb)/lb,Fa=Math.floor(Fa*lb)/lb);ab=lb}}function ja(Aa){return Math.ceil(Math.log(y(Aa))/Math.LN2)+1}function Z(){function Aa(lb){Array.isArray(lb)||(lb=Array.from(lb));var Ma,nb=lb.length,zb=Array(nb);for(Ma=0;Ma<nb;++Ma)zb[Ma]=Fa(lb[Ma],Ma,lb);var Sb=Ra(zb),vc=Sb[0];Sb=Sb[1];var lc=ab(zb,vc,Sb);if(!Array.isArray(lc)){Ma=Sb;var kc=+lc;Ra===f&&([vc,Sb]=da(vc,Sb,kc));lc=ka(vc,Sb,kc);lc[lc.length-
1]>=Sb&&(Ma>=Sb&&Ra===f?(Ma=ba(vc,Sb,kc),isFinite(Ma)&&(0<Ma?Sb=(Math.floor(Sb/Ma)+1)*Ma:0>Ma&&(Sb=(Math.ceil(Sb*-Ma)+1)/-Ma))):lc.pop())}for(kc=lc.length;lc[0]<=vc;)lc.shift(),--kc;for(;lc[kc-1]>Sb;)lc.pop(),--kc;var jb=Array(kc+1);for(Ma=0;Ma<=kc;++Ma){var $b=jb[Ma]=[];$b.x0=0<Ma?lc[Ma-1]:vc;$b.x1=Ma<kc?lc[Ma]:Sb}for(Ma=0;Ma<nb;++Ma)$b=zb[Ma],vc<=$b&&$b<=Sb&&jb[W(lc,$b,0,kc)].push(lb[Ma]);return jb}var Fa=P,Ra=f,ab=ja;Aa.value=function(lb){return arguments.length?(Fa="function"===typeof lb?lb:U(lb),
Aa):Fa};Aa.domain=function(lb){return arguments.length?(Ra="function"===typeof lb?lb:U([lb[0],lb[1]]),Aa):Ra};Aa.thresholds=function(lb){return arguments.length?(ab="function"===typeof lb?lb:Array.isArray(lb)?U(Ga.call(lb)):U(lb),Aa):ab};return Aa}function Q(Aa,Fa){let Ra;if(void 0===Fa)for(var ab of Aa)null!=ab&&(Ra<ab||void 0===Ra&&ab>=ab)&&(Ra=ab);else{ab=-1;for(let lb of Aa)null!=(lb=Fa(lb,++ab,Aa))&&(Ra<lb||void 0===Ra&&lb>=lb)&&(Ra=lb)}return Ra}function r(Aa,Fa){let Ra;if(void 0===Fa)for(var ab of Aa)null!=
ab&&(Ra>ab||void 0===Ra&&ab>=ab)&&(Ra=ab);else{ab=-1;for(let lb of Aa)null!=(lb=Fa(lb,++ab,Aa))&&(Ra>lb||void 0===Ra&&lb>=lb)&&(Ra=lb)}return Ra}function N(Aa,Fa,Ra=0,ab=Aa.length-1,lb=m){for(;ab>Ra;){if(600<ab-Ra){var Ma=ab-Ra+1,nb=Fa-Ra+1,zb=Math.log(Ma),Sb=.5*Math.exp(2*zb/3);zb=.5*Math.sqrt(zb*Sb*(Ma-Sb)/Ma)*(0>nb-Ma/2?-1:1);N(Aa,Fa,Math.max(Ra,Math.floor(Fa-nb*Sb/Ma+zb)),Math.min(ab,Math.floor(Fa+(Ma-nb)*Sb/Ma+zb)),lb)}Ma=Aa[Fa];nb=Ra;Sb=ab;ea(Aa,Ra,Fa);for(0<lb(Aa[ab],Ma)&&ea(Aa,Ra,ab);nb<Sb;){ea(Aa,
nb,Sb);++nb;for(--Sb;0>lb(Aa[nb],Ma);)++nb;for(;0<lb(Aa[Sb],Ma);)--Sb}0===lb(Aa[Ra],Ma)?ea(Aa,Ra,Sb):(++Sb,ea(Aa,Sb,ab));Sb<=Fa&&(Ra=Sb+1);Fa<=Sb&&(ab=Sb-1)}return Aa}function ea(Aa,Fa,Ra){const ab=Aa[Fa];Aa[Fa]=Aa[Ra];Aa[Ra]=ab}function aa(Aa,Fa,Ra){Aa=Float64Array.from(x(Aa,Ra));if(Ra=Aa.length){if(0>=(Fa=+Fa)||2>Ra)return r(Aa);if(1<=Fa)return Q(Aa);Fa*=Ra-1;Ra=Math.floor(Fa);var ab=Q(N(Aa,Ra).subarray(0,Ra+1));Aa=r(Aa.subarray(Ra+1));return ab+(Aa-ab)*(Fa-Ra)}}function va(Aa,Fa){let Ra,ab=-1,
lb=-1;if(void 0===Fa)for(const Ma of Aa)++lb,null!=Ma&&(Ra<Ma||void 0===Ra&&Ma>=Ma)&&(Ra=Ma,ab=lb);else for(let Ma of Aa)null!=(Ma=Fa(Ma,++lb,Aa))&&(Ra<Ma||void 0===Ra&&Ma>=Ma)&&(Ra=Ma,ab=lb);return ab}function*ta(Aa){for(const Fa of Aa)yield*Fa}function Da(Aa,Fa){let Ra,ab=-1,lb=-1;if(void 0===Fa)for(const Ma of Aa)++lb,null!=Ma&&(Ra>Ma||void 0===Ra&&Ma>=Ma)&&(Ra=Ma,ab=lb);else for(let Ma of Aa)null!=(Ma=Fa(Ma,++lb,Aa))&&(Ra>Ma||void 0===Ra&&Ma>=Ma)&&(Ra=Ma,ab=lb);return ab}function $a(Aa,Fa){return[Aa,
Fa]}function kb(Aa,Fa=m){if(1===Fa.length)return Da(Aa,Fa);let Ra,ab=-1,lb=-1;for(const Ma of Aa)if(++lb,0>ab?0===Fa(Ma,Ma):0>Fa(Ma,Ra))Ra=Ma,ab=lb;return ab}function sa(Aa){return function(Fa,Ra=0,ab=Fa.length){for(ab-=Ra=+Ra;ab;){const lb=Aa()*ab--|0,Ma=Fa[ab+Ra];Fa[ab+Ra]=Fa[lb+Ra];Fa[lb+Ra]=Ma}return Fa}}function Ta(Aa){if(!(Ma=Aa.length))return[];for(var Fa=-1,Ra=r(Aa,Wa),ab=Array(Ra);++Fa<Ra;)for(var lb=-1,Ma,nb=ab[Fa]=Array(Ma);++lb<Ma;)nb[lb]=Aa[lb][Fa];return ab}function Wa(Aa){return Aa.length}
function Ea(Aa){return Aa instanceof Set?Aa:new Set(Aa)}function ua(Aa,Fa){Aa=Aa[Symbol.iterator]();const Ra=new Set;for(const ab of Fa){if(Ra.has(ab))continue;let lb;for(;{value:Fa,done:lb}=Aa.next();){if(lb)return!1;Ra.add(Fa);if(Object.is(ab,Fa))break}}return!0}var V=n(m);const W=V.right;V=V.left;const ca=n(O).center;class fa{constructor(){this._partials=new Float64Array(32);this._n=0}add(Aa){const Fa=this._partials;let Ra=0;for(let ab=0;ab<this._n&&32>ab;ab++){const lb=Fa[ab],Ma=Aa+lb;(Aa=Math.abs(Aa)<
Math.abs(lb)?Aa-(Ma-lb):lb-(Ma-Aa))&&(Fa[Ra++]=Aa);Aa=Ma}Fa[Ra]=Aa;this._n=Ra+1;return this}valueOf(){const Aa=this._partials;let Fa=this._n;let Ra,ab=0;if(0<Fa){for(ab=Aa[--Fa];0<Fa;){var lb=ab;Ra=Aa[--Fa];ab=lb+Ra;if(lb=Ra-(ab-lb))break}0<Fa&&(0>lb&&0>Aa[Fa-1]||0<lb&&0<Aa[Fa-1])&&(Ra=2*lb,lb=ab+Ra,Ra==lb-ab&&(ab=lb))}return ab}}class qa extends Map{constructor(Aa=[],Fa=D){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:Fa}});for(const [Ra,ab]of Aa)this.set(Ra,ab)}get(Aa){return super.get(p(this,
Aa))}has(Aa){return super.has(p(this,Aa))}set(Aa,Fa){return super.set(A(this,Aa),Fa)}delete(Aa){return super.delete(C(this,Aa))}}class pa extends Set{constructor(Aa=[],Fa=D){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:Fa}});for(const Ra of Aa)this.add(Ra)}has(Aa){return super.has(p(this,Aa))}add(Aa){return super.add(A(this,Aa))}delete(Aa){return super.delete(C(this,Aa))}}var Ga=Array.prototype.slice,na=Math.sqrt(50),Oa=Math.sqrt(10),cb=Math.sqrt(2),Za=sa(Math.random);
g.Adder=fa;g.InternMap=qa;g.InternSet=pa;g.ascending=m;g.bin=Z;g.bisect=W;g.bisectCenter=ca;g.bisectLeft=V;g.bisectRight=W;g.bisector=n;g.count=y;g.cross=function(...Aa){const Fa="function"===typeof Aa[Aa.length-1]&&c(Aa.pop());Aa=Aa.map(h);const Ra=Aa.map(q),ab=Aa.length-1,lb=Array(ab+1).fill(0),Ma=[];if(0>ab||Ra.some(l))return Ma;for(;;){Ma.push(lb.map((zb,Sb)=>Aa[Sb][zb]));let nb=ab;for(;++lb[nb]===Ra[nb];){if(0===nb)return Fa?Ma.map(Fa):Ma;lb[nb--]=0}}};g.cumsum=function(Aa,Fa){var Ra=0,ab=0;
return Float64Array.from(Aa,void 0===Fa?lb=>Ra+=+lb||0:lb=>Ra+=+Fa(lb,ab++,Aa)||0)};g.descending=function(Aa,Fa){return Fa<Aa?-1:Fa>Aa?1:Fa>=Aa?0:NaN};g.deviation=a;g.difference=function(Aa,...Fa){Aa=new Set(Aa);for(const Ra of Fa)for(const ab of Ra)Aa.delete(ab);return Aa};g.disjoint=function(Aa,Fa){Fa=Fa[Symbol.iterator]();const Ra=new Set;for(const ab of Aa){if(Ra.has(ab))return!1;let lb;for(;({value:Aa,done:lb}=Fa.next())&&!lb;){if(Object.is(ab,Aa))return!1;Ra.add(Aa)}}return!0};g.every=function(Aa,
Fa){if("function"!==typeof Fa)throw new TypeError("test is not a function");let Ra=-1;for(const ab of Aa)if(!Fa(ab,++Ra,Aa))return!1;return!0};g.extent=f;g.filter=function(Aa,Fa){if("function"!==typeof Fa)throw new TypeError("test is not a function");const Ra=[];let ab=-1;for(const lb of Aa)Fa(lb,++ab,Aa)&&Ra.push(lb);return Ra};g.fsum=function(Aa,Fa){const Ra=new fa;if(void 0===Fa)for(var ab of Aa)(ab=+ab)&&Ra.add(ab);else{ab=-1;for(let lb of Aa)(lb=+Fa(lb,++ab,Aa))&&Ra.add(lb)}return+Ra};g.greatest=
function(Aa,Fa=m){let Ra,ab=!1;if(1===Fa.length){let lb;for(const Ma of Aa)if(Aa=Fa(Ma),ab?0<m(Aa,lb):0===m(Aa,Aa))Ra=Ma,lb=Aa,ab=!0}else for(const lb of Aa)if(ab?0<Fa(lb,Ra):0===Fa(lb,lb))Ra=lb,ab=!0;return Ra};g.greatestIndex=function(Aa,Fa=m){if(1===Fa.length)return va(Aa,Fa);let Ra,ab=-1,lb=-1;for(const Ma of Aa)if(++lb,0>ab?0===Fa(Ma,Ma):0<Fa(Ma,Ra))Ra=Ma,ab=lb;return ab};g.group=L;g.groupSort=function(Aa,Fa,Ra){return(1===Fa.length?R(G(Aa,Fa,Ra),([ab,lb],[Ma,nb])=>m(lb,nb)||m(ab,Ma)):R(L(Aa,
Ra),([ab,lb],[Ma,nb])=>Fa(lb,nb)||m(ab,Ma))).map(([ab])=>ab)};g.groups=function(Aa,...Fa){return J(Aa,Array.from,P,Fa)};g.histogram=Z;g.index=function(Aa,...Fa){return J(Aa,P,z,Fa)};g.indexes=function(Aa,...Fa){return J(Aa,Array.from,z,Fa)};g.intersection=function(Aa,...Fa){Aa=new Set(Aa);Fa=Fa.map(Ea);a:for(const Ra of Aa)for(const ab of Fa)if(!ab.has(Ra)){Aa.delete(Ra);continue a}return Aa};g.least=function(Aa,Fa=m){let Ra,ab=!1;if(1===Fa.length){let lb;for(const Ma of Aa)if(Aa=Fa(Ma),ab?0>m(Aa,
lb):0===m(Aa,Aa))Ra=Ma,lb=Aa,ab=!0}else for(const lb of Aa)if(ab?0>Fa(lb,Ra):0===Fa(lb,lb))Ra=lb,ab=!0;return Ra};g.leastIndex=kb;g.map=function(Aa,Fa){if("function"!==typeof Aa[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!==typeof Fa)throw new TypeError("mapper is not a function");return Array.from(Aa,(Ra,ab)=>Fa(Ra,ab,Aa))};g.max=Q;g.maxIndex=va;g.mean=function(Aa,Fa){let Ra=0,ab=0;if(void 0===Fa)for(var lb of Aa)null!=lb&&(lb=+lb)>=lb&&(++Ra,ab+=lb);else{lb=-1;for(let Ma of Aa)null!=
(Ma=Fa(Ma,++lb,Aa))&&(Ma=+Ma)>=Ma&&(++Ra,ab+=Ma)}if(Ra)return ab/Ra};g.median=function(Aa,Fa){return aa(Aa,.5,Fa)};g.merge=function(Aa){return Array.from(ta(Aa))};g.min=r;g.minIndex=Da;g.nice=da;g.pairs=function(Aa,Fa=$a){const Ra=[];let ab,lb=!1;for(const Ma of Aa)lb&&Ra.push(Fa(ab,Ma)),ab=Ma,lb=!0;return Ra};g.permute=K;g.quantile=aa;g.quantileSorted=function(Aa,Fa,Ra=O){if(ab=Aa.length){if(0>=(Fa=+Fa)||2>ab)return+Ra(Aa[0],0,Aa);if(1<=Fa)return+Ra(Aa[ab-1],ab-1,Aa);var ab;Fa*=ab-1;ab=Math.floor(Fa);
var lb=+Ra(Aa[ab],ab,Aa);Aa=+Ra(Aa[ab+1],ab+1,Aa);return lb+(Aa-lb)*(Fa-ab)}};g.quickselect=N;g.range=function(Aa,Fa,Ra){Aa=+Aa;Fa=+Fa;Ra=2>(lb=arguments.length)?(Fa=Aa,Aa=0,1):3>lb?1:+Ra;for(var ab=-1,lb=Math.max(0,Math.ceil((Fa-Aa)/Ra))|0,Ma=Array(lb);++ab<lb;)Ma[ab]=Aa+ab*Ra;return Ma};g.reduce=function(Aa,Fa,Ra){if("function"!==typeof Fa)throw new TypeError("reducer is not a function");const ab=Aa[Symbol.iterator]();let lb,Ma,nb=-1;if(3>arguments.length){({done:lb,value:Ra}=ab.next());if(lb)return;
++nb}for(;{done:lb,value:Ma}=ab.next(),!lb;)Ra=Fa(Ra,Ma,++nb,Aa);return Ra};g.reverse=function(Aa){if("function"!==typeof Aa[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(Aa).reverse()};g.rollup=G;g.rollups=function(Aa,Fa,...Ra){return J(Aa,Array.from,Fa,Ra)};g.scan=function(Aa,Fa){Aa=kb(Aa,Fa);return 0>Aa?void 0:Aa};g.shuffle=Za;g.shuffler=sa;g.some=function(Aa,Fa){if("function"!==typeof Fa)throw new TypeError("test is not a function");let Ra=-1;for(const ab of Aa)if(Fa(ab,
++Ra,Aa))return!0;return!1};g.sort=R;g.subset=function(Aa,Fa){return ua(Fa,Aa)};g.sum=function(Aa,Fa){let Ra=0;if(void 0===Fa)for(var ab of Aa){if(ab=+ab)Ra+=ab}else{ab=-1;for(let lb of Aa)if(lb=+Fa(lb,++ab,Aa))Ra+=lb}return Ra};g.superset=ua;g.thresholdFreedmanDiaconis=function(Aa,Fa,Ra){return Math.ceil((Ra-Fa)/(2*(aa(Aa,.75)-aa(Aa,.25))*Math.pow(y(Aa),-1/3)))};g.thresholdScott=function(Aa,Fa,Ra){return Math.ceil((Ra-Fa)/(3.5*a(Aa)*Math.pow(y(Aa),-1/3)))};g.thresholdSturges=ja;g.tickIncrement=ba;
g.tickStep=function(Aa,Fa,Ra){var ab=Math.abs(Fa-Aa)/Math.max(0,Ra);Ra=Math.pow(10,Math.floor(Math.log(ab)/Math.LN10));ab/=Ra;ab>=na?Ra*=10:ab>=Oa?Ra*=5:ab>=cb&&(Ra*=2);return Fa<Aa?-Ra:Ra};g.ticks=ka;g.transpose=Ta;g.union=function(...Aa){const Fa=new Set;for(const Ra of Aa)for(const ab of Ra)Fa.add(ab);return Fa};g.variance=e;g.zip=function(){return Ta(arguments)};Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[16]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E):"function"===typeof define&&define.amd?define(["exports"],m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.d3=g.d3||{}))})(this,function(g){function m(D,P){if(0>(P=(D=P?D.toExponential(P-1):D.toExponential()).indexOf("e")))return null;var L=D.slice(0,P);return[1<L.length?L[0]+L.slice(2):L,+D.slice(P+1)]}function n(D){return D=m(Math.abs(D)),D?D[1]:NaN}function F(D,P){return function(L,
G){for(var z=L.length,J=[],K=0,R=D[0],U=0;0<z&&0<R;){U+R+1>G&&(R=Math.max(1,G-U));J.push(L.substring(z-=R,z+R));if((U+=R+1)>G)break;R=D[K=(K+1)%D.length]}return J.reverse().join(P)}}function O(D){return function(P){return P.replace(/[0-9]/g,function(L){return D[+L]})}}function x(D){if(!(P=e.exec(D)))throw Error("invalid format: "+D);var P;return new y({fill:P[1],align:P[2],sign:P[3],symbol:P[4],zero:P[5],width:P[6],comma:P[7],precision:P[8]&&P[8].slice(1),trim:P[9],type:P[10]})}function y(D){this.fill=
void 0===D.fill?" ":D.fill+"";this.align=void 0===D.align?"\x3e":D.align+"";this.sign=void 0===D.sign?"-":D.sign+"";this.symbol=void 0===D.symbol?"":D.symbol+"";this.zero=!!D.zero;this.width=void 0===D.width?void 0:+D.width;this.comma=!!D.comma;this.precision=void 0===D.precision?void 0:+D.precision;this.trim=!!D.trim;this.type=void 0===D.type?"":D.type+""}function q(D,P){P=m(D,P);if(!P)return D+"";D=P[0];P=P[1];return 0>P?"0."+Array(-P).join("0")+D:D.length>P+1?D.slice(0,P+1)+"."+D.slice(P+1):D+
Array(P-D.length+2).join("0")}function l(D){return D}function h(D){function P(ba){function da(Wa){var Ea=$a,ua=kb,V,W;if("c"===Da)ua=sa(Wa)+ua,Wa="";else{Wa=+Wa;var ca=0>Wa||0>1/Wa;Wa=isNaN(Wa)?ka:sa(Math.abs(Wa),va);if(ta){var fa=Wa.length,qa=1,pa=-1;a:for(;qa<fa;++qa)switch(Wa[qa]){case ".":pa=V=qa;break;case "0":0===pa&&(pa=qa);V=qa;break;default:if(!+Wa[qa])break a;0<pa&&(pa=0)}Wa=0<pa?Wa.slice(0,pa)+Wa.slice(V+1):Wa}ca&&0===+Wa&&"+"!==Q&&(ca=!1);Ea=(ca?"("===Q?Q:U:"-"===Q||"("===Q?"":Q)+Ea;ua=
("s"===Da?A[8+a/3]:"")+ua+(ca&&"("===Q?")":"");if(Ta)for(ca=-1,V=Wa.length;++ca<V;)if(W=Wa.charCodeAt(ca),48>W||57<W){ua=(46===W?J+Wa.slice(ca+1):Wa.slice(ca))+ua;Wa=Wa.slice(0,ca);break}}aa&&!N&&(Wa=L(Wa,Infinity));W=Ea.length+Wa.length+ua.length;ca=W<ea?Array(ea-W+1).join(ja):"";aa&&N&&(Wa=L(ca+Wa,ca.length?ea-ua.length:Infinity),ca="");switch(Z){case "\x3c":Wa=Ea+Wa+ua+ca;break;case "\x3d":Wa=Ea+ca+Wa+ua;break;case "^":Wa=ca.slice(0,W=ca.length>>1)+Ea+Wa+ua+ca.slice(W);break;default:Wa=ca+Ea+Wa+
ua}return K(Wa)}ba=x(ba);var ja=ba.fill,Z=ba.align,Q=ba.sign,r=ba.symbol,N=ba.zero,ea=ba.width,aa=ba.comma,va=ba.precision,ta=ba.trim,Da=ba.type;"n"===Da?(aa=!0,Da="g"):f[Da]||(void 0===va&&(va=12),ta=!0,Da="g");if(N||"0"===ja&&"\x3d"===Z)N=!0,ja="0",Z="\x3d";var $a="$"===r?G:"#"===r&&/[boxX]/.test(Da)?"0"+Da.toLowerCase():"",kb="$"===r?z:/[%p]/.test(Da)?R:"",sa=f[Da],Ta=/[defgprs%]/.test(Da);va=void 0===va?6:/[gprs]/.test(Da)?Math.max(1,Math.min(21,va)):Math.max(0,Math.min(20,va));da.toString=function(){return ba+
""};return da}var L=void 0===D.grouping||void 0===D.thousands?l:F(p.call(D.grouping,Number),D.thousands+""),G=void 0===D.currency?"":D.currency[0]+"",z=void 0===D.currency?"":D.currency[1]+"",J=void 0===D.decimal?".":D.decimal+"",K=void 0===D.numerals?l:O(p.call(D.numerals,String)),R=void 0===D.percent?"%":D.percent+"",U=void 0===D.minus?"":D.minus+"",ka=void 0===D.nan?"NaN":D.nan+"";return{format:P,formatPrefix:function(ba,da){var ja=P((ba=x(ba),ba.type="f",ba));ba=3*Math.max(-8,Math.min(8,Math.floor(n(da)/
3)));var Z=Math.pow(10,-ba),Q=A[8+ba/3];return function(r){return ja(Z*r)+Q}}}}function c(D){C=h(D);g.format=C.format;g.formatPrefix=C.formatPrefix;return C}var e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;x.prototype=y.prototype;y.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?
"~":"")+this.type};var a,f={"%":(D,P)=>(100*D).toFixed(P),b:D=>Math.round(D).toString(2),c:D=>D+"",d:function(D){return 1E21<=Math.abs(D=Math.round(D))?D.toLocaleString("en").replace(/,/g,""):D.toString(10)},e:(D,P)=>D.toExponential(P),f:(D,P)=>D.toFixed(P),g:(D,P)=>D.toPrecision(P),o:D=>Math.round(D).toString(8),p:(D,P)=>q(100*D,P),r:q,s:function(D,P){var L=m(D,P);if(!L)return D+"";var G=L[0];L=L[1];L=L-(a=3*Math.max(-8,Math.min(8,Math.floor(L/3))))+1;var z=G.length;return L===z?G:L>z?G+Array(L-
z+1).join("0"):0<L?G.slice(0,L)+"."+G.slice(L):"0."+Array(1-L).join("0")+m(D,Math.max(0,P+L-1))[0]},X:D=>Math.round(D).toString(16).toUpperCase(),x:D=>Math.round(D).toString(16)},p=Array.prototype.map,A="y z a f p n  m  k M G T P E Z Y".split(" "),C;c({thousands:",",grouping:[3],currency:["$",""]});g.FormatSpecifier=y;g.formatDefaultLocale=c;g.formatLocale=h;g.formatSpecifier=x;g.precisionFixed=function(D){return Math.max(0,-n(Math.abs(D)))};g.precisionPrefix=function(D,P){return Math.max(0,3*Math.max(-8,
Math.min(8,Math.floor(n(P)/3)))-n(Math.abs(D)))};g.precisionRound=function(D,P){D=Math.abs(D);P=Math.abs(P)-D;return Math.max(0,n(P)-n(D))+1};Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[17]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E):"function"===typeof define&&define.amd?define(["exports"],m):(g=g||self,m(g.d3=g.d3||{}))})(this,function(g){function m(Fa,Ra,ab,lb){function Ma(nb){return Fa(nb=0===arguments.length?new Date:new Date(+nb)),nb}Ma.floor=function(nb){return Fa(nb=new Date(+nb)),nb};Ma.ceil=function(nb){return Fa(nb=new Date(nb-1)),Ra(nb,1),Fa(nb),nb};Ma.round=function(nb){var zb=Ma(nb),Sb=Ma.ceil(nb);return nb-zb<
Sb-nb?zb:Sb};Ma.offset=function(nb,zb){return Ra(nb=new Date(+nb),null==zb?1:Math.floor(zb)),nb};Ma.range=function(nb,zb,Sb){var vc=[],lc;nb=Ma.ceil(nb);Sb=null==Sb?1:Math.floor(Sb);if(!(nb<zb&&0<Sb))return vc;do vc.push(lc=new Date(+nb)),Ra(nb,Sb),Fa(nb);while(lc<nb&&nb<zb);return vc};Ma.filter=function(nb){return m(function(zb){if(zb>=zb)for(;Fa(zb),!nb(zb);)zb.setTime(zb-1)},function(zb,Sb){if(zb>=zb)if(0>Sb)for(;0>=++Sb;)for(;Ra(zb,-1),!nb(zb););else for(;0<=--Sb;)for(;Ra(zb,1),!nb(zb););})};
ab&&(Ma.count=function(nb,zb){O.setTime(+nb);x.setTime(+zb);Fa(O);Fa(x);return Math.floor(ab(O,x))},Ma.every=function(nb){nb=Math.floor(nb);return isFinite(nb)&&0<nb?1<nb?Ma.filter(lb?function(zb){return 0===lb(zb)%nb}:function(zb){return 0===Ma.count(0,zb)%nb}):Ma:null});return Ma}function n(Fa){return m(function(Ra){Ra.setDate(Ra.getDate()-(Ra.getDay()+7-Fa)%7);Ra.setHours(0,0,0,0)},function(Ra,ab){Ra.setDate(Ra.getDate()+7*ab)},function(Ra,ab){return(ab-Ra-6E4*(ab.getTimezoneOffset()-Ra.getTimezoneOffset()))/
6048E5})}function F(Fa){return m(function(Ra){Ra.setUTCDate(Ra.getUTCDate()-(Ra.getUTCDay()+7-Fa)%7);Ra.setUTCHours(0,0,0,0)},function(Ra,ab){Ra.setUTCDate(Ra.getUTCDate()+7*ab)},function(Ra,ab){return(ab-Ra)/6048E5})}var O=new Date,x=new Date,y=m(function(){},function(Fa,Ra){Fa.setTime(+Fa+Ra)},function(Fa,Ra){return Ra-Fa});y.every=function(Fa){Fa=Math.floor(Fa);return isFinite(Fa)&&0<Fa?1<Fa?m(function(Ra){Ra.setTime(Math.floor(Ra/Fa)*Fa)},function(Ra,ab){Ra.setTime(+Ra+ab*Fa)},function(Ra,ab){return(ab-
Ra)/Fa}):y:null};var q=y.range,l=m(function(Fa){Fa.setTime(Fa-Fa.getMilliseconds())},function(Fa,Ra){Fa.setTime(+Fa+1E3*Ra)},function(Fa,Ra){return(Ra-Fa)/1E3},function(Fa){return Fa.getUTCSeconds()}),h=l.range,c=m(function(Fa){Fa.setTime(Fa-Fa.getMilliseconds()-1E3*Fa.getSeconds())},function(Fa,Ra){Fa.setTime(+Fa+6E4*Ra)},function(Fa,Ra){return(Ra-Fa)/6E4},function(Fa){return Fa.getMinutes()}),e=c.range,a=m(function(Fa){Fa.setTime(Fa-Fa.getMilliseconds()-1E3*Fa.getSeconds()-6E4*Fa.getMinutes())},
function(Fa,Ra){Fa.setTime(+Fa+36E5*Ra)},function(Fa,Ra){return(Ra-Fa)/36E5},function(Fa){return Fa.getHours()}),f=a.range,p=m(Fa=>Fa.setHours(0,0,0,0),(Fa,Ra)=>Fa.setDate(Fa.getDate()+Ra),(Fa,Ra)=>(Ra-Fa-6E4*(Ra.getTimezoneOffset()-Fa.getTimezoneOffset()))/864E5,Fa=>Fa.getDate()-1),A=p.range,C=n(0),D=n(1),P=n(2),L=n(3),G=n(4),z=n(5),J=n(6),K=C.range,R=D.range,U=P.range,ka=L.range,ba=G.range,da=z.range,ja=J.range,Z=m(function(Fa){Fa.setDate(1);Fa.setHours(0,0,0,0)},function(Fa,Ra){Fa.setMonth(Fa.getMonth()+
Ra)},function(Fa,Ra){return Ra.getMonth()-Fa.getMonth()+12*(Ra.getFullYear()-Fa.getFullYear())},function(Fa){return Fa.getMonth()}),Q=Z.range,r=m(function(Fa){Fa.setMonth(0,1);Fa.setHours(0,0,0,0)},function(Fa,Ra){Fa.setFullYear(Fa.getFullYear()+Ra)},function(Fa,Ra){return Ra.getFullYear()-Fa.getFullYear()},function(Fa){return Fa.getFullYear()});r.every=function(Fa){return isFinite(Fa=Math.floor(Fa))&&0<Fa?m(function(Ra){Ra.setFullYear(Math.floor(Ra.getFullYear()/Fa)*Fa);Ra.setMonth(0,1);Ra.setHours(0,
0,0,0)},function(Ra,ab){Ra.setFullYear(Ra.getFullYear()+ab*Fa)}):null};var N=r.range,ea=m(function(Fa){Fa.setUTCSeconds(0,0)},function(Fa,Ra){Fa.setTime(+Fa+6E4*Ra)},function(Fa,Ra){return(Ra-Fa)/6E4},function(Fa){return Fa.getUTCMinutes()}),aa=ea.range,va=m(function(Fa){Fa.setUTCMinutes(0,0,0)},function(Fa,Ra){Fa.setTime(+Fa+36E5*Ra)},function(Fa,Ra){return(Ra-Fa)/36E5},function(Fa){return Fa.getUTCHours()}),ta=va.range,Da=m(function(Fa){Fa.setUTCHours(0,0,0,0)},function(Fa,Ra){Fa.setUTCDate(Fa.getUTCDate()+
Ra)},function(Fa,Ra){return(Ra-Fa)/864E5},function(Fa){return Fa.getUTCDate()-1}),$a=Da.range,kb=F(0),sa=F(1),Ta=F(2),Wa=F(3),Ea=F(4),ua=F(5),V=F(6),W=kb.range,ca=sa.range,fa=Ta.range,qa=Wa.range,pa=Ea.range,Ga=ua.range,na=V.range,Oa=m(function(Fa){Fa.setUTCDate(1);Fa.setUTCHours(0,0,0,0)},function(Fa,Ra){Fa.setUTCMonth(Fa.getUTCMonth()+Ra)},function(Fa,Ra){return Ra.getUTCMonth()-Fa.getUTCMonth()+12*(Ra.getUTCFullYear()-Fa.getUTCFullYear())},function(Fa){return Fa.getUTCMonth()}),cb=Oa.range,Za=
m(function(Fa){Fa.setUTCMonth(0,1);Fa.setUTCHours(0,0,0,0)},function(Fa,Ra){Fa.setUTCFullYear(Fa.getUTCFullYear()+Ra)},function(Fa,Ra){return Ra.getUTCFullYear()-Fa.getUTCFullYear()},function(Fa){return Fa.getUTCFullYear()});Za.every=function(Fa){return isFinite(Fa=Math.floor(Fa))&&0<Fa?m(function(Ra){Ra.setUTCFullYear(Math.floor(Ra.getUTCFullYear()/Fa)*Fa);Ra.setUTCMonth(0,1);Ra.setUTCHours(0,0,0,0)},function(Ra,ab){Ra.setUTCFullYear(Ra.getUTCFullYear()+ab*Fa)}):null};var Aa=Za.range;g.timeDay=p;
g.timeDays=A;g.timeFriday=z;g.timeFridays=da;g.timeHour=a;g.timeHours=f;g.timeInterval=m;g.timeMillisecond=y;g.timeMilliseconds=q;g.timeMinute=c;g.timeMinutes=e;g.timeMonday=D;g.timeMondays=R;g.timeMonth=Z;g.timeMonths=Q;g.timeSaturday=J;g.timeSaturdays=ja;g.timeSecond=l;g.timeSeconds=h;g.timeSunday=C;g.timeSundays=K;g.timeThursday=G;g.timeThursdays=ba;g.timeTuesday=P;g.timeTuesdays=U;g.timeWednesday=L;g.timeWednesdays=ka;g.timeWeek=C;g.timeWeeks=K;g.timeYear=r;g.timeYears=N;g.utcDay=Da;g.utcDays=
$a;g.utcFriday=ua;g.utcFridays=Ga;g.utcHour=va;g.utcHours=ta;g.utcMillisecond=y;g.utcMilliseconds=q;g.utcMinute=ea;g.utcMinutes=aa;g.utcMonday=sa;g.utcMondays=ca;g.utcMonth=Oa;g.utcMonths=cb;g.utcSaturday=V;g.utcSaturdays=na;g.utcSecond=l;g.utcSeconds=h;g.utcSunday=kb;g.utcSundays=W;g.utcThursday=Ea;g.utcThursdays=pa;g.utcTuesday=Ta;g.utcTuesdays=fa;g.utcWednesday=Wa;g.utcWednesdays=qa;g.utcWeek=kb;g.utcWeeks=W;g.utcYear=Za;g.utcYears=Aa;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[18]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E,B(14),B(17),B(15)):"function"===typeof define&&define.amd?define(["exports","vega-util","d3-time","d3-array"],m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.vega={},g.vega,g.d3,g.d3))})(this,function(g,m,n,F){function O(ta){const Da=m.array(ta).slice(),$a={};Da.length||m.error("Missing time unit.");Da.forEach(kb=>{m.hasOwnProperty(D,kb)?$a[kb]=1:m.error(`Invalid time unit: ${kb}.`)});
1<($a.week||$a.day?1:0)+($a.quarter||$a.month||$a.date?1:0)+($a.dayofyear?1:0)&&m.error(`Incompatible time units: ${ta}`);Da.sort((kb,sa)=>D[kb]-D[sa]);return Da}function x(ta){L.setFullYear(ta);L.setMonth(0);L.setDate(1);L.setHours(0,0,0,0);return L}function y(ta){return n.timeDay.count(x(ta.getFullYear())-1,ta)}function q(ta){return n.timeWeek.count(x(ta.getFullYear())-1,ta)}function l(ta,Da,$a,kb,sa,Ta,Wa){return 0<=ta&&100>ta?(Da=new Date(-1,Da,$a,kb,sa,Ta,Wa),Da.setFullYear(ta),Da):new Date(ta,
Da,$a,kb,sa,Ta,Wa)}function h(ta){const Da=Date.UTC(ta.getUTCFullYear(),0,1);return n.utcDay.count(Da-1,ta)}function c(ta){const Da=Date.UTC(ta.getUTCFullYear(),0,1);return n.utcWeek.count(Da-1,ta)}function e(ta){L.setTime(Date.UTC(ta,0,1));return L.getUTCDay()}function a(ta,Da,$a,kb,sa,Ta,Wa){return 0<=ta&&100>ta?(ta=new Date(Date.UTC(-1,Da,$a,kb,sa,Ta,Wa)),ta.setUTCFullYear($a.y),ta):new Date(Date.UTC(ta,Da,$a,kb,sa,Ta,Wa))}function f(ta,Da,$a,kb,sa){const Ta=Da||1,Wa=m.peek(ta);Da=(Ga,na,Oa)=>
{Oa=Oa||Ga;return p($a[Oa],kb[Oa],Ga===Wa&&Ta,na)};const Ea=new Date;ta=m.toSet(ta);const ua=ta.year?Da("year"):m.constant(2012),V=ta.month?Da("month"):ta.quarter?Da("quarter"):m.zero,W=ta.week&&ta.day?Da("day",1,"weekday"):ta.week?Da("week",1):ta.day?Da("day",1):ta.date?Da("date",1):ta.dayofyear?Da("dayofyear",1):m.one,ca=ta.hours?Da("hours"):m.zero,fa=ta.minutes?Da("minutes"):m.zero,qa=ta.seconds?Da("seconds"):m.zero,pa=ta.milliseconds?Da("milliseconds"):m.zero;return function(Ga){Ea.setTime(+Ga);
Ga=ua(Ea);return sa(Ga,V(Ea),W(Ea,Ga),ca(Ea),fa(Ea),qa(Ea),pa(Ea))}}function p(ta,Da,$a,kb){const sa=1>=$a?ta:kb?(Ta,Wa)=>kb+$a*Math.floor((ta(Ta,Wa)-kb)/$a):(Ta,Wa)=>$a*Math.floor(ta(Ta,Wa)/$a);return Da?(Ta,Wa)=>Da(sa(Ta,Wa),Wa):sa}function A(ta,Da,$a){return Da+7*ta-($a+6)%7}const C="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),D=C.reduce((ta,Da,$a)=>(ta[Da]=1+$a,ta),{}),P={["year"]:"%Y ",["quarter"]:"Q%q ",["month"]:"%b ",["date"]:"%d ",["week"]:"W%U ",
["day"]:"%a ",["dayofyear"]:"%j ",["hours"]:"%H:00",["minutes"]:"00:%M",["seconds"]:":%S",["milliseconds"]:".%L",["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"},L=new Date,G={["year"]:ta=>ta.getFullYear(),["quarter"]:ta=>Math.floor(ta.getMonth()/3),["month"]:ta=>ta.getMonth(),["date"]:ta=>ta.getDate(),["hours"]:ta=>ta.getHours(),["minutes"]:ta=>ta.getMinutes(),["seconds"]:ta=>ta.getSeconds(),["milliseconds"]:ta=>ta.getMilliseconds(),["dayofyear"]:ta=>y(ta),["week"]:ta=>
q(ta),["weekday"]:(ta,Da)=>A(q(ta),ta.getDay(),x(Da).getDay()),["day"]:(ta,Da)=>A(1,ta.getDay(),x(Da).getDay())},z={["quarter"]:ta=>3*ta,["week"]:(ta,Da)=>A(ta,0,x(Da).getDay())},J={["year"]:ta=>ta.getUTCFullYear(),["quarter"]:ta=>Math.floor(ta.getUTCMonth()/3),["month"]:ta=>ta.getUTCMonth(),["date"]:ta=>ta.getUTCDate(),["hours"]:ta=>ta.getUTCHours(),["minutes"]:ta=>ta.getUTCMinutes(),["seconds"]:ta=>ta.getUTCSeconds(),["milliseconds"]:ta=>ta.getUTCMilliseconds(),["dayofyear"]:ta=>h(ta),["week"]:ta=>
c(ta),["day"]:(ta,Da)=>A(1,ta.getUTCDay(),e(Da)),["weekday"]:(ta,Da)=>A(c(ta),ta.getUTCDay(),e(Da))},K={["quarter"]:ta=>3*ta,["week"]:(ta,Da)=>A(ta,0,e(Da))},R={["year"]:n.timeYear,["quarter"]:n.timeMonth.every(3),["month"]:n.timeMonth,["week"]:n.timeWeek,["date"]:n.timeDay,["day"]:n.timeDay,["dayofyear"]:n.timeDay,["hours"]:n.timeHour,["minutes"]:n.timeMinute,["seconds"]:n.timeSecond,["milliseconds"]:n.timeMillisecond},U={["year"]:n.utcYear,["quarter"]:n.utcMonth.every(3),["month"]:n.utcMonth,["week"]:n.utcWeek,
["date"]:n.utcDay,["day"]:n.utcDay,["dayofyear"]:n.utcDay,["hours"]:n.utcHour,["minutes"]:n.utcMinute,["seconds"]:n.utcSecond,["milliseconds"]:n.utcMillisecond},ka=6048E5,ba=2592E6,da=31536E6,ja="year month date hours minutes seconds milliseconds".split(" "),Z=ja.slice(0,-1),Q=Z.slice(0,-1),r=Q.slice(0,-1),N=r.slice(0,-1),ea=["year","month"],aa=["year"],va=[[Z,1,1E3],[Z,5,5E3],[Z,15,15E3],[Z,30,3E4],[Q,1,6E4],[Q,5,3E5],[Q,15,9E5],[Q,30,18E5],[r,1,36E5],[r,3,108E5],[r,6,216E5],[r,12,432E5],[N,1,864E5],
[["year","week"],1,ka],[ea,1,ba],[ea,3,3*ba],[aa,1,da]];g.DATE="date";g.DAY="day";g.DAYOFYEAR="dayofyear";g.HOURS="hours";g.MILLISECONDS="milliseconds";g.MINUTES="minutes";g.MONTH="month";g.QUARTER="quarter";g.SECONDS="seconds";g.TIME_UNITS=C;g.WEEK="week";g.YEAR="year";g.dayofyear=function(ta){return y(new Date(ta))};g.timeBin=function(ta){var Da=ta.extent;ta=ta.maxbins||40;var $a=Math.abs(m.span(Da))/ta;let kb=F.bisector(sa=>sa[2]).right(va,$a);kb===va.length?($a=aa,Da=F.tickStep(Da[0]/da,Da[1]/
da,ta)):kb?(kb=va[$a/va[kb-1][2]<va[kb][2]/$a?kb-1:kb],$a=kb[0],Da=kb[1]):($a=ja,Da=Math.max(F.tickStep(Da[0],Da[1],ta),1));return{units:$a,step:Da}};g.timeFloor=function(ta,Da){return f(ta,Da||1,G,z,l)};g.timeInterval=function(ta){return R[ta]};g.timeOffset=function(ta,Da,$a){return(ta=R[ta])?ta.offset(Da,$a):void 0};g.timeSequence=function(ta,Da,$a,kb){return(ta=R[ta])?ta.range(Da,$a,kb):void 0};g.timeUnitSpecifier=function(ta,Da){Da=m.extend({},P,Da);ta=O(ta);const $a=ta.length;let kb="",sa,Ta,
Wa;for(sa=0;sa<$a;)for(Ta=ta.length;Ta>sa;--Ta)if(Wa=ta.slice(sa,Ta).join("-"),null!=Da[Wa]){kb+=Da[Wa];sa=Ta;break}return kb.trim()};g.timeUnits=O;g.utcFloor=function(ta,Da){return f(ta,Da||1,J,K,a)};g.utcInterval=function(ta){return U[ta]};g.utcOffset=function(ta,Da,$a){return(ta=U[ta])?ta.offset(Da,$a):void 0};g.utcSequence=function(ta,Da,$a,kb){return(ta=U[ta])?ta.range(Da,$a,kb):void 0};g.utcdayofyear=function(ta){return h(new Date(ta))};g.utcweek=function(ta){return c(new Date(ta))};g.week=
function(ta){return q(new Date(ta))};Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[19]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E,B(17)):"function"===typeof define&&define.amd?define(["exports","d3-time"],m):(g=g||self,m(g.d3=g.d3||{},g.d3))})(this,function(g,m){function n(Qb){if(0<=Qb.y&&100>Qb.y){var gc=new Date(-1,Qb.m,Qb.d,Qb.H,Qb.M,Qb.S,Qb.L);gc.setFullYear(Qb.y);return gc}return new Date(Qb.y,Qb.m,Qb.d,Qb.H,Qb.M,Qb.S,Qb.L)}function F(Qb){if(0<=Qb.y&&100>Qb.y){var gc=new Date(Date.UTC(-1,Qb.m,Qb.d,Qb.H,Qb.M,Qb.S,Qb.L));
gc.setUTCFullYear(Qb.y);return gc}return new Date(Date.UTC(Qb.y,Qb.m,Qb.d,Qb.H,Qb.M,Qb.S,Qb.L))}function O(Qb,gc,Ib){return{y:Qb,m:gc,d:Ib,H:0,M:0,S:0,L:0}}function x(Qb){function gc(wc,$c){return function(ad){var nd=[],Cd=-1,Ed=0,Xd=wc.length,$d,ae;for(ad instanceof Date||(ad=new Date(+ad));++Cd<Xd;)if(37===wc.charCodeAt(Cd)){nd.push(wc.slice(Ed,Cd));null!=(Ed=Uc[$d=wc.charAt(++Cd)])?$d=wc.charAt(++Cd):Ed="e"===$d?" ":"0";if(ae=$c[$d])$d=ae(ad,Ed);nd.push($d);Ed=Cd+1}nd.push(wc.slice(Ed,Cd));return nd.join("")}}
function Ib(wc,$c){return function(ad){var nd=O(1900,void 0,1);if(Cc(nd,wc,ad+="",0)!=ad.length)return null;if("Q"in nd)return new Date(nd.Q);if("s"in nd)return new Date(1E3*nd.s+("L"in nd?nd.L:0));!$c||"Z"in nd||(nd.Z=0);"p"in nd&&(nd.H=nd.H%12+12*nd.p);void 0===nd.m&&(nd.m="q"in nd?nd.q:0);if("V"in nd){if(1>nd.V||53<nd.V)return null;"w"in nd||(nd.w=1);if("Z"in nd){ad=F(O(nd.y,0,1));var Cd=ad.getUTCDay();ad=4<Cd||0===Cd?m.utcMonday.ceil(ad):m.utcMonday(ad);ad=m.utcDay.offset(ad,7*(nd.V-1));nd.y=
ad.getUTCFullYear();nd.m=ad.getUTCMonth();nd.d=ad.getUTCDate()+(nd.w+6)%7}else ad=n(O(nd.y,0,1)),Cd=ad.getDay(),ad=4<Cd||0===Cd?m.timeMonday.ceil(ad):m.timeMonday(ad),ad=m.timeDay.offset(ad,7*(nd.V-1)),nd.y=ad.getFullYear(),nd.m=ad.getMonth(),nd.d=ad.getDate()+(nd.w+6)%7}else if("W"in nd||"U"in nd)"w"in nd||(nd.w="u"in nd?nd.u%7:"W"in nd?1:0),Cd="Z"in nd?F(O(nd.y,0,1)).getUTCDay():n(O(nd.y,0,1)).getDay(),nd.m=0,nd.d="W"in nd?(nd.w+6)%7+7*nd.W-(Cd+5)%7:nd.w+7*nd.U-(Cd+6)%7;return"Z"in nd?(nd.H+=nd.Z/
100|0,nd.M+=nd.Z%100,F(nd)):n(nd)}}function Cc(wc,$c,ad,nd){for(var Cd=0,Ed=$c.length,Xd=ad.length,$d;Cd<Ed;){if(nd>=Xd)return-1;$d=$c.charCodeAt(Cd++);if(37===$d){if($d=$c.charAt(Cd++),$d=fd[$d in Uc?$c.charAt(Cd++):$d],!$d||0>(nd=$d(wc,ad,nd)))return-1}else if($d!=ad.charCodeAt(nd++))return-1}return nd}var Wc=Qb.dateTime,Gd=Qb.date,Wd=Qb.time,Ja=Qb.periods,eb=Qb.days,xb=Qb.shortDays,Jb=Qb.months,ac=Qb.shortMonths,jc=l(Ja),Ec=h(Ja),sc=l(eb),ob=h(eb),Db=l(xb),Vb=h(xb),mc=l(Jb),Dc=h(Jb),Fc=l(ac),Xc=
h(ac),Fb={a:function(wc){return xb[wc.getDay()]},A:function(wc){return eb[wc.getDay()]},b:function(wc){return ac[wc.getMonth()]},B:function(wc){return Jb[wc.getMonth()]},c:null,d:Z,e:Z,f:aa,g:V,G:ca,H:Q,I:r,j:N,L:ea,m:va,M:ta,p:function(wc){return Ja[+(12<=wc.getHours())]},q:function(wc){return 1+~~(wc.getMonth()/3)},Q:yc,s:nc,S:Da,u:$a,U:kb,V:Ta,w:Wa,W:Ea,x:null,X:null,y:ua,Y:W,Z:fa,"%":$b},Ic={a:function(wc){return xb[wc.getUTCDay()]},A:function(wc){return eb[wc.getUTCDay()]},b:function(wc){return ac[wc.getUTCMonth()]},
B:function(wc){return Jb[wc.getUTCMonth()]},c:null,d:qa,e:qa,f:cb,g:vc,G:kc,H:pa,I:Ga,j:na,L:Oa,m:Za,M:Aa,p:function(wc){return Ja[+(12<=wc.getUTCHours())]},q:function(wc){return 1+~~(wc.getUTCMonth()/3)},Q:yc,s:nc,S:Fa,u:Ra,U:ab,V:Ma,w:nb,W:zb,x:null,X:null,y:Sb,Y:lc,Z:jb,"%":$b},fd={a:function(wc,$c,ad){return($c=Db.exec($c.slice(ad)))?(wc.w=Vb.get($c[0].toLowerCase()),ad+$c[0].length):-1},A:function(wc,$c,ad){return($c=sc.exec($c.slice(ad)))?(wc.w=ob.get($c[0].toLowerCase()),ad+$c[0].length):-1},
b:function(wc,$c,ad){return($c=Fc.exec($c.slice(ad)))?(wc.m=Xc.get($c[0].toLowerCase()),ad+$c[0].length):-1},B:function(wc,$c,ad){return($c=mc.exec($c.slice(ad)))?(wc.m=Dc.get($c[0].toLowerCase()),ad+$c[0].length):-1},c:function(wc,$c,ad){return Cc(wc,Wc,$c,ad)},d:G,e:G,f:ka,g:C,G:A,H:J,I:J,j:z,L:U,m:L,M:K,p:function(wc,$c,ad){return($c=jc.exec($c.slice(ad)))?(wc.p=Ec.get($c[0].toLowerCase()),ad+$c[0].length):-1},q:P,Q:da,s:ja,S:R,u:e,U:a,V:f,w:c,W:p,x:function(wc,$c,ad){return Cc(wc,Gd,$c,ad)},X:function(wc,
$c,ad){return Cc(wc,Wd,$c,ad)},y:C,Y:A,Z:D,"%":ba};Fb.x=gc(Gd,Fb);Fb.X=gc(Wd,Fb);Fb.c=gc(Wc,Fb);Ic.x=gc(Gd,Ic);Ic.X=gc(Wd,Ic);Ic.c=gc(Wc,Ic);return{format:function(wc){var $c=gc(wc+="",Fb);$c.toString=function(){return wc};return $c},parse:function(wc){var $c=Ib(wc+="",!1);$c.toString=function(){return wc};return $c},utcFormat:function(wc){var $c=gc(wc+="",Ic);$c.toString=function(){return wc};return $c},utcParse:function(wc){var $c=Ib(wc+="",!0);$c.toString=function(){return wc};return $c}}}function y(Qb,
gc,Ib){var Cc=0>Qb?"-":"";Qb=(Cc?-Qb:Qb)+"";var Wc=Qb.length;return Cc+(Wc<Ib?Array(Ib-Wc+1).join(gc)+Qb:Qb)}function q(Qb){return Qb.replace(fe,"\\$\x26")}function l(Qb){return new RegExp("^(?:"+Qb.map(q).join("|")+")","i")}function h(Qb){return new Map(Qb.map((gc,Ib)=>[gc.toLowerCase(),Ib]))}function c(Qb,gc,Ib){return(gc=Lc.exec(gc.slice(Ib,Ib+1)))?(Qb.w=+gc[0],Ib+gc[0].length):-1}function e(Qb,gc,Ib){return(gc=Lc.exec(gc.slice(Ib,Ib+1)))?(Qb.u=+gc[0],Ib+gc[0].length):-1}function a(Qb,gc,Ib){return(gc=
Lc.exec(gc.slice(Ib,Ib+2)))?(Qb.U=+gc[0],Ib+gc[0].length):-1}function f(Qb,gc,Ib){return(gc=Lc.exec(gc.slice(Ib,Ib+2)))?(Qb.V=+gc[0],Ib+gc[0].length):-1}function p(Qb,gc,Ib){return(gc=Lc.exec(gc.slice(Ib,Ib+2)))?(Qb.W=+gc[0],Ib+gc[0].length):-1}function A(Qb,gc,Ib){return(gc=Lc.exec(gc.slice(Ib,Ib+4)))?(Qb.y=+gc[0],Ib+gc[0].length):-1}function C(Qb,gc,Ib){return(gc=Lc.exec(gc.slice(Ib,Ib+2)))?(Qb.y=+gc[0]+(68<+gc[0]?1900:2E3),Ib+gc[0].length):-1}function D(Qb,gc,Ib){return(gc=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(gc.slice(Ib,
Ib+6)))?(Qb.Z=gc[1]?0:-(gc[2]+(gc[3]||"00")),Ib+gc[0].length):-1}function P(Qb,gc,Ib){return(gc=Lc.exec(gc.slice(Ib,Ib+1)))?(Qb.q=3*gc[0]-3,Ib+gc[0].length):-1}function L(Qb,gc,Ib){return(gc=Lc.exec(gc.slice(Ib,Ib+2)))?(Qb.m=gc[0]-1,Ib+gc[0].length):-1}function G(Qb,gc,Ib){return(gc=Lc.exec(gc.slice(Ib,Ib+2)))?(Qb.d=+gc[0],Ib+gc[0].length):-1}function z(Qb,gc,Ib){return(gc=Lc.exec(gc.slice(Ib,Ib+3)))?(Qb.m=0,Qb.d=+gc[0],Ib+gc[0].length):-1}function J(Qb,gc,Ib){return(gc=Lc.exec(gc.slice(Ib,Ib+2)))?
(Qb.H=+gc[0],Ib+gc[0].length):-1}function K(Qb,gc,Ib){return(gc=Lc.exec(gc.slice(Ib,Ib+2)))?(Qb.M=+gc[0],Ib+gc[0].length):-1}function R(Qb,gc,Ib){return(gc=Lc.exec(gc.slice(Ib,Ib+2)))?(Qb.S=+gc[0],Ib+gc[0].length):-1}function U(Qb,gc,Ib){return(gc=Lc.exec(gc.slice(Ib,Ib+3)))?(Qb.L=+gc[0],Ib+gc[0].length):-1}function ka(Qb,gc,Ib){return(gc=Lc.exec(gc.slice(Ib,Ib+6)))?(Qb.L=Math.floor(gc[0]/1E3),Ib+gc[0].length):-1}function ba(Qb,gc,Ib){return(Qb=Fd.exec(gc.slice(Ib,Ib+1)))?Ib+Qb[0].length:-1}function da(Qb,
gc,Ib){return(gc=Lc.exec(gc.slice(Ib)))?(Qb.Q=+gc[0],Ib+gc[0].length):-1}function ja(Qb,gc,Ib){return(gc=Lc.exec(gc.slice(Ib)))?(Qb.s=+gc[0],Ib+gc[0].length):-1}function Z(Qb,gc){return y(Qb.getDate(),gc,2)}function Q(Qb,gc){return y(Qb.getHours(),gc,2)}function r(Qb,gc){return y(Qb.getHours()%12||12,gc,2)}function N(Qb,gc){return y(1+m.timeDay.count(m.timeYear(Qb),Qb),gc,3)}function ea(Qb,gc){return y(Qb.getMilliseconds(),gc,3)}function aa(Qb,gc){return ea(Qb,gc)+"000"}function va(Qb,gc){return y(Qb.getMonth()+
1,gc,2)}function ta(Qb,gc){return y(Qb.getMinutes(),gc,2)}function Da(Qb,gc){return y(Qb.getSeconds(),gc,2)}function $a(Qb){Qb=Qb.getDay();return 0===Qb?7:Qb}function kb(Qb,gc){return y(m.timeSunday.count(m.timeYear(Qb)-1,Qb),gc,2)}function sa(Qb){var gc=Qb.getDay();return 4<=gc||0===gc?m.timeThursday(Qb):m.timeThursday.ceil(Qb)}function Ta(Qb,gc){Qb=sa(Qb);return y(m.timeThursday.count(m.timeYear(Qb),Qb)+(4===m.timeYear(Qb).getDay()),gc,2)}function Wa(Qb){return Qb.getDay()}function Ea(Qb,gc){return y(m.timeMonday.count(m.timeYear(Qb)-
1,Qb),gc,2)}function ua(Qb,gc){return y(Qb.getFullYear()%100,gc,2)}function V(Qb,gc){Qb=sa(Qb);return y(Qb.getFullYear()%100,gc,2)}function W(Qb,gc){return y(Qb.getFullYear()%1E4,gc,4)}function ca(Qb,gc){var Ib=Qb.getDay();Qb=4<=Ib||0===Ib?m.timeThursday(Qb):m.timeThursday.ceil(Qb);return y(Qb.getFullYear()%1E4,gc,4)}function fa(Qb){Qb=Qb.getTimezoneOffset();return(0<Qb?"-":(Qb*=-1,"+"))+y(Qb/60|0,"0",2)+y(Qb%60,"0",2)}function qa(Qb,gc){return y(Qb.getUTCDate(),gc,2)}function pa(Qb,gc){return y(Qb.getUTCHours(),
gc,2)}function Ga(Qb,gc){return y(Qb.getUTCHours()%12||12,gc,2)}function na(Qb,gc){return y(1+m.utcDay.count(m.utcYear(Qb),Qb),gc,3)}function Oa(Qb,gc){return y(Qb.getUTCMilliseconds(),gc,3)}function cb(Qb,gc){return Oa(Qb,gc)+"000"}function Za(Qb,gc){return y(Qb.getUTCMonth()+1,gc,2)}function Aa(Qb,gc){return y(Qb.getUTCMinutes(),gc,2)}function Fa(Qb,gc){return y(Qb.getUTCSeconds(),gc,2)}function Ra(Qb){Qb=Qb.getUTCDay();return 0===Qb?7:Qb}function ab(Qb,gc){return y(m.utcSunday.count(m.utcYear(Qb)-
1,Qb),gc,2)}function lb(Qb){var gc=Qb.getUTCDay();return 4<=gc||0===gc?m.utcThursday(Qb):m.utcThursday.ceil(Qb)}function Ma(Qb,gc){Qb=lb(Qb);return y(m.utcThursday.count(m.utcYear(Qb),Qb)+(4===m.utcYear(Qb).getUTCDay()),gc,2)}function nb(Qb){return Qb.getUTCDay()}function zb(Qb,gc){return y(m.utcMonday.count(m.utcYear(Qb)-1,Qb),gc,2)}function Sb(Qb,gc){return y(Qb.getUTCFullYear()%100,gc,2)}function vc(Qb,gc){Qb=lb(Qb);return y(Qb.getUTCFullYear()%100,gc,2)}function lc(Qb,gc){return y(Qb.getUTCFullYear()%
1E4,gc,4)}function kc(Qb,gc){var Ib=Qb.getUTCDay();Qb=4<=Ib||0===Ib?m.utcThursday(Qb):m.utcThursday.ceil(Qb);return y(Qb.getUTCFullYear()%1E4,gc,4)}function jb(){return"+0000"}function $b(){return"%"}function yc(Qb){return+Qb}function nc(Qb){return Math.floor(+Qb/1E3)}function zc(Qb){vd=x(Qb);g.timeFormat=vd.format;g.timeParse=vd.parse;g.utcFormat=vd.utcFormat;g.utcParse=vd.utcParse;return vd}function qc(Qb){return Qb.toISOString()}function Vc(Qb){Qb=new Date(Qb);return isNaN(Qb)?null:Qb}var Uc={"-":"",
_:" ",0:"0"},Lc=/^\s*\d+/,Fd=/^%/,fe=/[\\^$*+?|[\]().{}]/g,vd;zc({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var Sc=Date.prototype.toISOString?qc:g.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),
Yd=+new Date("2000-01-01T00:00:00.000Z")?Vc:g.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");g.isoFormat=Sc;g.isoParse=Yd;g.timeFormatDefaultLocale=zc;g.timeFormatLocale=x;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[20]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E,B(15),B(16),B(18),B(14),B(19)):"function"===typeof define&&define.amd?define("exports d3-array d3-format vega-time vega-util d3-time-format".split(" "),m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.vega={},g.d3,g.d3,g.vega,g.vega,g.d3))})(this,function(g,m,n,F,O,x){function y(G){const z={};return J=>z[J]||(z[J]=G(J))}function q(G,z){return J=>{J=G(J);const K=J.indexOf(z);if(0>K)return J;
a:{var R=J.lastIndexOf("e");if(!(0<R)){for(R=J.length;--R>K;){var U=J.charCodeAt(R);if(48<=U&&57>=U){R+=1;break a}}R=void 0}}for(U=R<J.length?J.slice(R):"";--R>K;)if("0"!==J[R]){++R;break}return J.slice(0,R)+U}}function l(G){const z=y(G.format),J=G.formatPrefix;return{format:z,formatPrefix:J,formatFloat(K){K=n.formatSpecifier(K||",");if(null==K.precision){K.precision=12;switch(K.type){case "%":K.precision-=2;break;case "e":--K.precision}return q(z(K),z(".1f")(1)[1])}return z(K)},formatSpan(K,R,U,
ka){ka=n.formatSpecifier(null==ka?",f":ka);U=m.tickStep(K,R,U);K=Math.max(Math.abs(K),Math.abs(R));if(null==ka.precision)switch(ka.type){case "s":return isNaN(R=n.precisionPrefix(U,K))||(ka.precision=R),J(ka,K);case "":case "e":case "g":case "p":case "r":isNaN(R=n.precisionRound(U,K))||(ka.precision=R-("e"===ka.type));break;case "f":case "%":isNaN(R=n.precisionFixed(U))||(ka.precision=R-2*("%"===ka.type))}return z(ka)}}}function h(){return P=l({format:n.format,formatPrefix:n.formatPrefix})}function c(G){return l(n.formatLocale(G))}
function e(G){return arguments.length?P=c(G):P}function a(G,z,J){J=J||{};O.isObject(J)||O.error(`Invalid time multi-format specifier: ${J}`);const K=z(F.SECONDS),R=z(F.MINUTES),U=z(F.HOURS),ka=z(F.DATE),ba=z(F.WEEK),da=z(F.MONTH),ja=z(F.QUARTER),Z=z(F.YEAR),Q=G(J[F.MILLISECONDS]||".%L"),r=G(J[F.SECONDS]||":%S"),N=G(J[F.MINUTES]||"%I:%M"),ea=G(J[F.HOURS]||"%I %p"),aa=G(J[F.DATE]||J[F.DAY]||"%a %d"),va=G(J[F.WEEK]||"%b %d"),ta=G(J[F.MONTH]||"%B"),Da=G(J[F.QUARTER]||"%B"),$a=G(J[F.YEAR]||"%Y");return kb=>
(K(kb)<kb?Q:R(kb)<kb?r:U(kb)<kb?N:ka(kb)<kb?ea:da(kb)<kb?ba(kb)<kb?aa:va:Z(kb)<kb?ja(kb)<kb?ta:Da:$a)(kb)}function f(G){const z=y(G.format),J=y(G.utcFormat);return{timeFormat:K=>O.isString(K)?z(K):a(z,F.timeInterval,K),utcFormat:K=>O.isString(K)?J(K):a(J,F.utcInterval,K),timeParse:y(G.parse),utcParse:y(G.utcParse)}}function p(){return L=f({format:x.timeFormat,parse:x.timeParse,utcFormat:x.utcFormat,utcParse:x.utcParse})}function A(G){return f(x.timeFormatLocale(G))}function C(G){return arguments.length?
L=A(G):L}function D(G,z){var J=arguments.length;J&&2!==J&&O.error("defaultLocale expects either zero or two arguments.");if(J){J=e(G);var K=C(z);J=O.extend({},J,K)}else J=e(),K=C(),J=O.extend({},J,K);return J}let P;h();let L;p();g.defaultLocale=D;g.locale=function(G,z){G=G?c(G):e();z=z?A(z):C();return O.extend({},G,z)};g.numberFormatDefaultLocale=e;g.numberFormatLocale=c;g.resetDefaultLocale=function(){h();p();return D()};g.resetNumberFormatDefaultLocale=h;g.resetTimeFormatDefaultLocale=p;g.timeFormatDefaultLocale=
C;g.timeFormatLocale=A;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[21]=function(Ha,B,rb,E){function g(x){var y=x.length;if(0<y%4)throw Error("Invalid string. Length must be a multiple of 4");x=x.indexOf("\x3d");-1===x&&(x=y);return[x,x===y?0:4-x%4]}function m(x,y,q){for(var l=[],h=y;h<q;h+=3)y=(x[h]<<16&16711680)+(x[h+1]<<8&65280)+(x[h+2]&255),l.push(n[y>>18&63]+n[y>>12&63]+n[y>>6&63]+n[y&63]);return l.join("")}E.byteLength=function(x){x=g(x);var y=x[1];return 3*(x[0]+y)/4-y};E.toByteArray=function(x){var y=g(x);var q=y[0];y=y[1];var l=new O(3*(q+
y)/4-y),h=0,c=0<y?q-4:q,e;for(e=0;e<c;e+=4)q=F[x.charCodeAt(e)]<<18|F[x.charCodeAt(e+1)]<<12|F[x.charCodeAt(e+2)]<<6|F[x.charCodeAt(e+3)],l[h++]=q>>16&255,l[h++]=q>>8&255,l[h++]=q&255;2===y&&(q=F[x.charCodeAt(e)]<<2|F[x.charCodeAt(e+1)]>>4,l[h++]=q&255);1===y&&(q=F[x.charCodeAt(e)]<<10|F[x.charCodeAt(e+1)]<<4|F[x.charCodeAt(e+2)]>>2,l[h++]=q>>8&255,l[h++]=q&255);return l};E.fromByteArray=function(x){for(var y=x.length,q=y%3,l=[],h=0,c=y-q;h<c;h+=16383)l.push(m(x,h,h+16383>c?c:h+16383));1===q?(x=x[y-
1],l.push(n[x>>2]+n[x<<4&63]+"\x3d\x3d")):2===q&&(x=(x[y-2]<<8)+x[y-1],l.push(n[x>>10]+n[x>>4&63]+n[x<<2&63]+"\x3d"));return l.join("")};var n=[],F=[],O="undefined"!==typeof Uint8Array?Uint8Array:Array;for(Ha=0;64>Ha;++Ha)n[Ha]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ha],F["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(Ha)]=Ha;F[45]=62;F[95]=63};
shadow$provide[22]=function(Ha,B,rb,E){E.read=function(g,m,n,F,O){var x=8*O-F-1;var y=(1<<x)-1,q=y>>1,l=-7;O=n?O-1:0;var h=n?-1:1,c=g[m+O];O+=h;n=c&(1<<-l)-1;c>>=-l;for(l+=x;0<l;n=256*n+g[m+O],O+=h,l-=8);x=n&(1<<-l)-1;n>>=-l;for(l+=F;0<l;x=256*x+g[m+O],O+=h,l-=8);if(0===n)n=1-q;else{if(n===y)return x?NaN:Infinity*(c?-1:1);x+=Math.pow(2,F);n-=q}return(c?-1:1)*x*Math.pow(2,n-F)};E.write=function(g,m,n,F,O,x){var y,q=8*x-O-1,l=(1<<q)-1,h=l>>1,c=23===O?Math.pow(2,-24)-Math.pow(2,-77):0;x=F?0:x-1;var e=
F?1:-1,a=0>m||0===m&&0>1/m?1:0;m=Math.abs(m);isNaN(m)||Infinity===m?(m=isNaN(m)?1:0,F=l):(F=Math.floor(Math.log(m)/Math.LN2),1>m*(y=Math.pow(2,-F))&&(F--,y*=2),m=1<=F+h?m+c/y:m+c*Math.pow(2,1-h),2<=m*y&&(F++,y/=2),F+h>=l?(m=0,F=l):1<=F+h?(m=(m*y-1)*Math.pow(2,O),F+=h):(m=m*Math.pow(2,h-1)*Math.pow(2,O),F=0));for(;8<=O;g[n+x]=m&255,x+=e,m/=256,O-=8);F=F<<O|m;for(q+=O;0<q;g[n+x]=F&255,x+=e,F/=256,q-=8);g[n+x-e]|=128*a}};
shadow$provide[23]=function(Ha,B,rb,E){var g={}.toString;rb.exports=Array.isArray||function(m){return"[object Array]"==g.call(m)}};
shadow$provide[24]=function(Ha,B,rb,E){function g(){try{var Q=new Uint8Array(1);Q.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return 42===Q.foo()&&"function"===typeof Q.subarray&&0===Q.subarray(1,1).byteLength}catch(r){return!1}}function m(Q,r){if((n.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<r)throw new RangeError("Invalid typed array length");n.TYPED_ARRAY_SUPPORT?(Q=new Uint8Array(r),Q.__proto__=n.prototype):(null===Q&&(Q=new n(r)),Q.length=r);return Q}function n(Q,r,N){if(!(n.TYPED_ARRAY_SUPPORT||
this instanceof n))return new n(Q,r,N);if("number"===typeof Q){if("string"===typeof r)throw Error("If encoding is specified then the first argument must be a string");return x(this,Q)}return F(this,Q,r,N)}function F(Q,r,N,ea){if("number"===typeof r)throw new TypeError('"value" argument must not be a number');if("undefined"!==typeof ArrayBuffer&&r instanceof ArrayBuffer){r.byteLength;if(0>N||r.byteLength<N)throw new RangeError("'offset' is out of bounds");if(r.byteLength<N+(ea||0))throw new RangeError("'length' is out of bounds");
r=void 0===N&&void 0===ea?new Uint8Array(r):void 0===ea?new Uint8Array(r,N):new Uint8Array(r,N,ea);n.TYPED_ARRAY_SUPPORT?(Q=r,Q.__proto__=n.prototype):Q=y(Q,r);return Q}if("string"===typeof r){ea=Q;Q=N;if("string"!==typeof Q||""===Q)Q="utf8";if(!n.isEncoding(Q))throw new TypeError('"encoding" must be a valid string encoding');N=h(r,Q)|0;ea=m(ea,N);r=ea.write(r,Q);r!==N&&(ea=ea.slice(0,r));return ea}return q(Q,r)}function O(Q){if("number"!==typeof Q)throw new TypeError('"size" argument must be a number');
if(0>Q)throw new RangeError('"size" argument must not be negative');}function x(Q,r){O(r);Q=m(Q,0>r?0:l(r)|0);if(!n.TYPED_ARRAY_SUPPORT)for(var N=0;N<r;++N)Q[N]=0;return Q}function y(Q,r){var N=0>r.length?0:l(r.length)|0;Q=m(Q,N);for(var ea=0;ea<N;ea+=1)Q[ea]=r[ea]&255;return Q}function q(Q,r){if(n.isBuffer(r)){var N=l(r.length)|0;Q=m(Q,N);if(0===Q.length)return Q;r.copy(Q,0,0,N);return Q}if(r){if("undefined"!==typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return(N="number"!==
typeof r.length)||(N=r.length,N=N!==N),N?m(Q,0):y(Q,r);if("Buffer"===r.type&&da(r.data))return y(Q,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}function l(Q){if(Q>=(n.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(n.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return Q|0}function h(Q,r){if(n.isBuffer(Q))return Q.length;if("undefined"!==
typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(Q)||Q instanceof ArrayBuffer))return Q.byteLength;"string"!==typeof Q&&(Q=""+Q);var N=Q.length;if(0===N)return 0;for(var ea=!1;;)switch(r){case "ascii":case "latin1":case "binary":return N;case "utf8":case "utf-8":case void 0:return K(Q).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*N;case "hex":return N>>>1;case "base64":return ka.toByteArray(J(Q)).length;default:if(ea)return K(Q).length;r=(""+
r).toLowerCase();ea=!0}}function c(Q,r,N){var ea=!1;if(void 0===r||0>r)r=0;if(r>this.length)return"";if(void 0===N||N>this.length)N=this.length;if(0>=N)return"";N>>>=0;r>>>=0;if(N<=r)return"";for(Q||(Q="utf8");;)switch(Q){case "hex":Q=r;r=N;N=this.length;if(!Q||0>Q)Q=0;if(!r||0>r||r>N)r=N;ea="";for(N=Q;N<r;++N)Q=ea,ea=this[N],ea=16>ea?"0"+ea.toString(16):ea.toString(16),ea=Q+ea;return ea;case "utf8":case "utf-8":return p(this,r,N);case "ascii":Q="";for(N=Math.min(this.length,N);r<N;++r)Q+=String.fromCharCode(this[r]&
127);return Q;case "latin1":case "binary":Q="";for(N=Math.min(this.length,N);r<N;++r)Q+=String.fromCharCode(this[r]);return Q;case "base64":return r=0===r&&N===this.length?ka.fromByteArray(this):ka.fromByteArray(this.slice(r,N)),r;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":r=this.slice(r,N);N="";for(Q=0;Q<r.length;Q+=2)N+=String.fromCharCode(r[Q]+256*r[Q+1]);return N;default:if(ea)throw new TypeError("Unknown encoding: "+Q);Q=(Q+"").toLowerCase();ea=!0}}function e(Q,r,N){var ea=Q[r];
Q[r]=Q[N];Q[N]=ea}function a(Q,r,N,ea,aa){if(0===Q.length)return-1;"string"===typeof N?(ea=N,N=0):2147483647<N?N=2147483647:-2147483648>N&&(N=-2147483648);N=+N;isNaN(N)&&(N=aa?0:Q.length-1);0>N&&(N=Q.length+N);if(N>=Q.length){if(aa)return-1;N=Q.length-1}else if(0>N)if(aa)N=0;else return-1;"string"===typeof r&&(r=n.from(r,ea));if(n.isBuffer(r))return 0===r.length?-1:f(Q,r,N,ea,aa);if("number"===typeof r)return r&=255,n.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?aa?Uint8Array.prototype.indexOf.call(Q,
r,N):Uint8Array.prototype.lastIndexOf.call(Q,r,N):f(Q,[r],N,ea,aa);throw new TypeError("val must be string, number or Buffer");}function f(Q,r,N,ea,aa){function va(kb,sa){return 1===ta?kb[sa]:kb.readUInt16BE(sa*ta)}var ta=1,Da=Q.length,$a=r.length;if(void 0!==ea&&(ea=String(ea).toLowerCase(),"ucs2"===ea||"ucs-2"===ea||"utf16le"===ea||"utf-16le"===ea)){if(2>Q.length||2>r.length)return-1;ta=2;Da/=2;$a/=2;N/=2}if(aa)for(ea=-1;N<Da;N++)if(va(Q,N)===va(r,-1===ea?0:N-ea)){if(-1===ea&&(ea=N),N-ea+1===$a)return ea*
ta}else-1!==ea&&(N-=N-ea),ea=-1;else for(N+$a>Da&&(N=Da-$a);0<=N;N--){Da=!0;for(ea=0;ea<$a;ea++)if(va(Q,N+ea)!==va(r,ea)){Da=!1;break}if(Da)return N}return-1}function p(Q,r,N){N=Math.min(Q.length,N);for(var ea=[];r<N;){var aa=Q[r],va=null,ta=239<aa?4:223<aa?3:191<aa?2:1;if(r+ta<=N)switch(ta){case 1:128>aa&&(va=aa);break;case 2:var Da=Q[r+1];128===(Da&192)&&(aa=(aa&31)<<6|Da&63,127<aa&&(va=aa));break;case 3:Da=Q[r+1];var $a=Q[r+2];128===(Da&192)&&128===($a&192)&&(aa=(aa&15)<<12|(Da&63)<<6|$a&63,2047<
aa&&(55296>aa||57343<aa)&&(va=aa));break;case 4:Da=Q[r+1];$a=Q[r+2];var kb=Q[r+3];128===(Da&192)&&128===($a&192)&&128===(kb&192)&&(aa=(aa&15)<<18|(Da&63)<<12|($a&63)<<6|kb&63,65535<aa&&1114112>aa&&(va=aa))}null===va?(va=65533,ta=1):65535<va&&(va-=65536,ea.push(va>>>10&1023|55296),va=56320|va&1023);ea.push(va);r+=ta}Q=ea.length;if(Q<=ja)ea=String.fromCharCode.apply(String,ea);else{N="";for(r=0;r<Q;)N+=String.fromCharCode.apply(String,ea.slice(r,r+=ja));ea=N}return ea}function A(Q,r,N){if(0!==Q%1||
0>Q)throw new RangeError("offset is not uint");if(Q+r>N)throw new RangeError("Trying to access beyond buffer length");}function C(Q,r,N,ea,aa,va){if(!n.isBuffer(Q))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>aa||r<va)throw new RangeError('"value" argument is out of bounds');if(N+ea>Q.length)throw new RangeError("Index out of range");}function D(Q,r,N,ea){0>r&&(r=65535+r+1);for(var aa=0,va=Math.min(Q.length-N,2);aa<va;++aa)Q[N+aa]=(r&255<<8*(ea?aa:1-aa))>>>8*(ea?aa:1-aa)}
function P(Q,r,N,ea){0>r&&(r=4294967295+r+1);for(var aa=0,va=Math.min(Q.length-N,4);aa<va;++aa)Q[N+aa]=r>>>8*(ea?aa:3-aa)&255}function L(Q,r,N,ea,aa,va){if(N+ea>Q.length)throw new RangeError("Index out of range");if(0>N)throw new RangeError("Index out of range");}function G(Q,r,N,ea,aa){aa||L(Q,r,N,4,3.4028234663852886E38,-3.4028234663852886E38);ba.write(Q,r,N,ea,23,4);return N+4}function z(Q,r,N,ea,aa){aa||L(Q,r,N,8,1.7976931348623157E308,-1.7976931348623157E308);ba.write(Q,r,N,ea,52,8);return N+
8}function J(Q){Q=Q.trim?Q.trim():Q.replace(/^\s+|\s+$/g,"");Q=Q.replace(Z,"");if(2>Q.length)return"";for(;0!==Q.length%4;)Q+="\x3d";return Q}function K(Q,r){r=r||Infinity;for(var N,ea=Q.length,aa=null,va=[],ta=0;ta<ea;++ta){N=Q.charCodeAt(ta);if(55295<N&&57344>N){if(!aa){if(56319<N){-1<(r-=3)&&va.push(239,191,189);continue}else if(ta+1===ea){-1<(r-=3)&&va.push(239,191,189);continue}aa=N;continue}if(56320>N){-1<(r-=3)&&va.push(239,191,189);aa=N;continue}N=(aa-55296<<10|N-56320)+65536}else aa&&-1<
(r-=3)&&va.push(239,191,189);aa=null;if(128>N){if(0>--r)break;va.push(N)}else if(2048>N){if(0>(r-=2))break;va.push(N>>6|192,N&63|128)}else if(65536>N){if(0>(r-=3))break;va.push(N>>12|224,N>>6&63|128,N&63|128)}else if(1114112>N){if(0>(r-=4))break;va.push(N>>18|240,N>>12&63|128,N>>6&63|128,N&63|128)}else throw Error("Invalid code point");}return va}function R(Q){for(var r=[],N=0;N<Q.length;++N)r.push(Q.charCodeAt(N)&255);return r}function U(Q,r,N,ea){for(var aa=0;aa<ea&&!(aa+N>=r.length||aa>=Q.length);++aa)r[aa+
N]=Q[aa];return aa}var ka=B(21),ba=B(22),da=B(23);E.Buffer=n;E.SlowBuffer=function(Q){+Q!=Q&&(Q=0);return n.alloc(+Q)};E.INSPECT_MAX_BYTES=50;n.TYPED_ARRAY_SUPPORT=void 0!==Ha.TYPED_ARRAY_SUPPORT?Ha.TYPED_ARRAY_SUPPORT:g();E.kMaxLength=n.TYPED_ARRAY_SUPPORT?2147483647:1073741823;n.poolSize=8192;n._augment=function(Q){Q.__proto__=n.prototype;return Q};n.from=function(Q,r,N){return F(null,Q,r,N)};n.TYPED_ARRAY_SUPPORT&&(n.prototype.__proto__=Uint8Array.prototype,n.__proto__=Uint8Array,"undefined"!==
typeof Symbol&&Symbol.species&&n[Symbol.species]===n&&Object.defineProperty(n,Symbol.species,{value:null,configurable:!0}));n.alloc=function(Q,r,N){O(Q);Q=0>=Q?m(null,Q):void 0!==r?"string"===typeof N?m(null,Q).fill(r,N):m(null,Q).fill(r):m(null,Q);return Q};n.allocUnsafe=function(Q){return x(null,Q)};n.allocUnsafeSlow=function(Q){return x(null,Q)};n.isBuffer=function(Q){return!(null==Q||!Q._isBuffer)};n.compare=function(Q,r){if(!n.isBuffer(Q)||!n.isBuffer(r))throw new TypeError("Arguments must be Buffers");
if(Q===r)return 0;for(var N=Q.length,ea=r.length,aa=0,va=Math.min(N,ea);aa<va;++aa)if(Q[aa]!==r[aa]){N=Q[aa];ea=r[aa];break}return N<ea?-1:ea<N?1:0};n.isEncoding=function(Q){switch(String(Q).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};n.concat=function(Q,r){if(!da(Q))throw new TypeError('"list" argument must be an Array of Buffers');if(0===Q.length)return n.alloc(0);
var N;if(void 0===r)for(N=r=0;N<Q.length;++N)r+=Q[N].length;r=n.allocUnsafe(r);var ea=0;for(N=0;N<Q.length;++N){var aa=Q[N];if(!n.isBuffer(aa))throw new TypeError('"list" argument must be an Array of Buffers');aa.copy(r,ea);ea+=aa.length}return r};n.byteLength=h;n.prototype._isBuffer=!0;n.prototype.swap16=function(){var Q=this.length;if(0!==Q%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<Q;r+=2)e(this,r,r+1);return this};n.prototype.swap32=function(){var Q=this.length;
if(0!==Q%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<Q;r+=4)e(this,r,r+3),e(this,r+1,r+2);return this};n.prototype.swap64=function(){var Q=this.length;if(0!==Q%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<Q;r+=8)e(this,r,r+7),e(this,r+1,r+6),e(this,r+2,r+5),e(this,r+3,r+4);return this};n.prototype.toString=function(){var Q=this.length|0;return 0===Q?"":0===arguments.length?p(this,0,Q):c.apply(this,arguments)};n.prototype.equals=
function(Q){if(!n.isBuffer(Q))throw new TypeError("Argument must be a Buffer");return this===Q?!0:0===n.compare(this,Q)};n.prototype.inspect=function(){var Q="",r=E.INSPECT_MAX_BYTES;0<this.length&&(Q=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(Q+=" ... "));return"\x3cBuffer "+Q+"\x3e"};n.prototype.compare=function(Q,r,N,ea,aa){if(!n.isBuffer(Q))throw new TypeError("Argument must be a Buffer");void 0===r&&(r=0);void 0===N&&(N=Q?Q.length:0);void 0===ea&&(ea=0);void 0===aa&&(aa=
this.length);if(0>r||N>Q.length||0>ea||aa>this.length)throw new RangeError("out of range index");if(ea>=aa&&r>=N)return 0;if(ea>=aa)return-1;if(r>=N)return 1;r>>>=0;N>>>=0;ea>>>=0;aa>>>=0;if(this===Q)return 0;var va=aa-ea,ta=N-r,Da=Math.min(va,ta);ea=this.slice(ea,aa);Q=Q.slice(r,N);for(r=0;r<Da;++r)if(ea[r]!==Q[r]){va=ea[r];ta=Q[r];break}return va<ta?-1:ta<va?1:0};n.prototype.includes=function(Q,r,N){return-1!==this.indexOf(Q,r,N)};n.prototype.indexOf=function(Q,r,N){return a(this,Q,r,N,!0)};n.prototype.lastIndexOf=
function(Q,r,N){return a(this,Q,r,N,!1)};n.prototype.write=function(Q,r,N,ea){if(void 0===r)ea="utf8",N=this.length,r=0;else if(void 0===N&&"string"===typeof r)ea=r,N=this.length,r=0;else if(isFinite(r))r|=0,isFinite(N)?(N|=0,void 0===ea&&(ea="utf8")):(ea=N,N=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var aa=this.length-r;if(void 0===N||N>aa)N=aa;if(0<Q.length&&(0>N||0>r)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");
ea||(ea="utf8");for(aa=!1;;)switch(ea){case "hex":a:{r=Number(r)||0;ea=this.length-r;N?(N=Number(N),N>ea&&(N=ea)):N=ea;ea=Q.length;if(0!==ea%2)throw new TypeError("Invalid hex string");N>ea/2&&(N=ea/2);for(ea=0;ea<N;++ea){aa=parseInt(Q.substr(2*ea,2),16);if(isNaN(aa)){Q=ea;break a}this[r+ea]=aa}Q=ea}return Q;case "utf8":case "utf-8":return U(K(Q,this.length-r),this,r,N);case "ascii":return U(R(Q),this,r,N);case "latin1":case "binary":return U(R(Q),this,r,N);case "base64":return U(ka.toByteArray(J(Q)),
this,r,N);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":ea=Q;aa=this.length-r;for(var va=[],ta=0;ta<ea.length&&!(0>(aa-=2));++ta){var Da=ea.charCodeAt(ta);Q=Da>>8;Da%=256;va.push(Da);va.push(Q)}return U(va,this,r,N);default:if(aa)throw new TypeError("Unknown encoding: "+ea);ea=(""+ea).toLowerCase();aa=!0}};n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ja=4096;n.prototype.slice=function(Q,r){var N=this.length;Q=~~Q;r=void 0===
r?N:~~r;0>Q?(Q+=N,0>Q&&(Q=0)):Q>N&&(Q=N);0>r?(r+=N,0>r&&(r=0)):r>N&&(r=N);r<Q&&(r=Q);if(n.TYPED_ARRAY_SUPPORT)r=this.subarray(Q,r),r.__proto__=n.prototype;else{N=r-Q;r=new n(N,void 0);for(var ea=0;ea<N;++ea)r[ea]=this[ea+Q]}return r};n.prototype.readUIntLE=function(Q,r,N){Q|=0;r|=0;N||A(Q,r,this.length);N=this[Q];for(var ea=1,aa=0;++aa<r&&(ea*=256);)N+=this[Q+aa]*ea;return N};n.prototype.readUIntBE=function(Q,r,N){Q|=0;r|=0;N||A(Q,r,this.length);N=this[Q+--r];for(var ea=1;0<r&&(ea*=256);)N+=this[Q+
--r]*ea;return N};n.prototype.readUInt8=function(Q,r){r||A(Q,1,this.length);return this[Q]};n.prototype.readUInt16LE=function(Q,r){r||A(Q,2,this.length);return this[Q]|this[Q+1]<<8};n.prototype.readUInt16BE=function(Q,r){r||A(Q,2,this.length);return this[Q]<<8|this[Q+1]};n.prototype.readUInt32LE=function(Q,r){r||A(Q,4,this.length);return(this[Q]|this[Q+1]<<8|this[Q+2]<<16)+16777216*this[Q+3]};n.prototype.readUInt32BE=function(Q,r){r||A(Q,4,this.length);return 16777216*this[Q]+(this[Q+1]<<16|this[Q+
2]<<8|this[Q+3])};n.prototype.readIntLE=function(Q,r,N){Q|=0;r|=0;N||A(Q,r,this.length);N=this[Q];for(var ea=1,aa=0;++aa<r&&(ea*=256);)N+=this[Q+aa]*ea;N>=128*ea&&(N-=Math.pow(2,8*r));return N};n.prototype.readIntBE=function(Q,r,N){Q|=0;r|=0;N||A(Q,r,this.length);N=r;for(var ea=1,aa=this[Q+--N];0<N&&(ea*=256);)aa+=this[Q+--N]*ea;aa>=128*ea&&(aa-=Math.pow(2,8*r));return aa};n.prototype.readInt8=function(Q,r){r||A(Q,1,this.length);return this[Q]&128?-1*(255-this[Q]+1):this[Q]};n.prototype.readInt16LE=
function(Q,r){r||A(Q,2,this.length);Q=this[Q]|this[Q+1]<<8;return Q&32768?Q|4294901760:Q};n.prototype.readInt16BE=function(Q,r){r||A(Q,2,this.length);Q=this[Q+1]|this[Q]<<8;return Q&32768?Q|4294901760:Q};n.prototype.readInt32LE=function(Q,r){r||A(Q,4,this.length);return this[Q]|this[Q+1]<<8|this[Q+2]<<16|this[Q+3]<<24};n.prototype.readInt32BE=function(Q,r){r||A(Q,4,this.length);return this[Q]<<24|this[Q+1]<<16|this[Q+2]<<8|this[Q+3]};n.prototype.readFloatLE=function(Q,r){r||A(Q,4,this.length);return ba.read(this,
Q,!0,23,4)};n.prototype.readFloatBE=function(Q,r){r||A(Q,4,this.length);return ba.read(this,Q,!1,23,4)};n.prototype.readDoubleLE=function(Q,r){r||A(Q,8,this.length);return ba.read(this,Q,!0,52,8)};n.prototype.readDoubleBE=function(Q,r){r||A(Q,8,this.length);return ba.read(this,Q,!1,52,8)};n.prototype.writeUIntLE=function(Q,r,N,ea){Q=+Q;r|=0;N|=0;ea||C(this,Q,r,N,Math.pow(2,8*N)-1,0);ea=1;var aa=0;for(this[r]=Q&255;++aa<N&&(ea*=256);)this[r+aa]=Q/ea&255;return r+N};n.prototype.writeUIntBE=function(Q,
r,N,ea){Q=+Q;r|=0;N|=0;ea||C(this,Q,r,N,Math.pow(2,8*N)-1,0);ea=N-1;var aa=1;for(this[r+ea]=Q&255;0<=--ea&&(aa*=256);)this[r+ea]=Q/aa&255;return r+N};n.prototype.writeUInt8=function(Q,r,N){Q=+Q;r|=0;N||C(this,Q,r,1,255,0);n.TYPED_ARRAY_SUPPORT||(Q=Math.floor(Q));this[r]=Q&255;return r+1};n.prototype.writeUInt16LE=function(Q,r,N){Q=+Q;r|=0;N||C(this,Q,r,2,65535,0);n.TYPED_ARRAY_SUPPORT?(this[r]=Q&255,this[r+1]=Q>>>8):D(this,Q,r,!0);return r+2};n.prototype.writeUInt16BE=function(Q,r,N){Q=+Q;r|=0;N||
C(this,Q,r,2,65535,0);n.TYPED_ARRAY_SUPPORT?(this[r]=Q>>>8,this[r+1]=Q&255):D(this,Q,r,!1);return r+2};n.prototype.writeUInt32LE=function(Q,r,N){Q=+Q;r|=0;N||C(this,Q,r,4,4294967295,0);n.TYPED_ARRAY_SUPPORT?(this[r+3]=Q>>>24,this[r+2]=Q>>>16,this[r+1]=Q>>>8,this[r]=Q&255):P(this,Q,r,!0);return r+4};n.prototype.writeUInt32BE=function(Q,r,N){Q=+Q;r|=0;N||C(this,Q,r,4,4294967295,0);n.TYPED_ARRAY_SUPPORT?(this[r]=Q>>>24,this[r+1]=Q>>>16,this[r+2]=Q>>>8,this[r+3]=Q&255):P(this,Q,r,!1);return r+4};n.prototype.writeIntLE=
function(Q,r,N,ea){Q=+Q;r|=0;ea||(ea=Math.pow(2,8*N-1),C(this,Q,r,N,ea-1,-ea));ea=0;var aa=1,va=0;for(this[r]=Q&255;++ea<N&&(aa*=256);)0>Q&&0===va&&0!==this[r+ea-1]&&(va=1),this[r+ea]=(Q/aa>>0)-va&255;return r+N};n.prototype.writeIntBE=function(Q,r,N,ea){Q=+Q;r|=0;ea||(ea=Math.pow(2,8*N-1),C(this,Q,r,N,ea-1,-ea));ea=N-1;var aa=1,va=0;for(this[r+ea]=Q&255;0<=--ea&&(aa*=256);)0>Q&&0===va&&0!==this[r+ea+1]&&(va=1),this[r+ea]=(Q/aa>>0)-va&255;return r+N};n.prototype.writeInt8=function(Q,r,N){Q=+Q;r|=
0;N||C(this,Q,r,1,127,-128);n.TYPED_ARRAY_SUPPORT||(Q=Math.floor(Q));0>Q&&(Q=255+Q+1);this[r]=Q&255;return r+1};n.prototype.writeInt16LE=function(Q,r,N){Q=+Q;r|=0;N||C(this,Q,r,2,32767,-32768);n.TYPED_ARRAY_SUPPORT?(this[r]=Q&255,this[r+1]=Q>>>8):D(this,Q,r,!0);return r+2};n.prototype.writeInt16BE=function(Q,r,N){Q=+Q;r|=0;N||C(this,Q,r,2,32767,-32768);n.TYPED_ARRAY_SUPPORT?(this[r]=Q>>>8,this[r+1]=Q&255):D(this,Q,r,!1);return r+2};n.prototype.writeInt32LE=function(Q,r,N){Q=+Q;r|=0;N||C(this,Q,r,
4,2147483647,-2147483648);n.TYPED_ARRAY_SUPPORT?(this[r]=Q&255,this[r+1]=Q>>>8,this[r+2]=Q>>>16,this[r+3]=Q>>>24):P(this,Q,r,!0);return r+4};n.prototype.writeInt32BE=function(Q,r,N){Q=+Q;r|=0;N||C(this,Q,r,4,2147483647,-2147483648);0>Q&&(Q=4294967295+Q+1);n.TYPED_ARRAY_SUPPORT?(this[r]=Q>>>24,this[r+1]=Q>>>16,this[r+2]=Q>>>8,this[r+3]=Q&255):P(this,Q,r,!1);return r+4};n.prototype.writeFloatLE=function(Q,r,N){return G(this,Q,r,!0,N)};n.prototype.writeFloatBE=function(Q,r,N){return G(this,Q,r,!1,N)};
n.prototype.writeDoubleLE=function(Q,r,N){return z(this,Q,r,!0,N)};n.prototype.writeDoubleBE=function(Q,r,N){return z(this,Q,r,!1,N)};n.prototype.copy=function(Q,r,N,ea){N||(N=0);ea||0===ea||(ea=this.length);r>=Q.length&&(r=Q.length);r||(r=0);0<ea&&ea<N&&(ea=N);if(ea===N||0===Q.length||0===this.length)return 0;if(0>r)throw new RangeError("targetStart out of bounds");if(0>N||N>=this.length)throw new RangeError("sourceStart out of bounds");if(0>ea)throw new RangeError("sourceEnd out of bounds");ea>
this.length&&(ea=this.length);Q.length-r<ea-N&&(ea=Q.length-r+N);var aa=ea-N;if(this===Q&&N<r&&r<ea)for(ea=aa-1;0<=ea;--ea)Q[ea+r]=this[ea+N];else if(1E3>aa||!n.TYPED_ARRAY_SUPPORT)for(ea=0;ea<aa;++ea)Q[ea+r]=this[ea+N];else Uint8Array.prototype.set.call(Q,this.subarray(N,N+aa),r);return aa};n.prototype.fill=function(Q,r,N,ea){if("string"===typeof Q){"string"===typeof r?(ea=r,r=0,N=this.length):"string"===typeof N&&(ea=N,N=this.length);if(1===Q.length){var aa=Q.charCodeAt(0);256>aa&&(Q=aa)}if(void 0!==
ea&&"string"!==typeof ea)throw new TypeError("encoding must be a string");if("string"===typeof ea&&!n.isEncoding(ea))throw new TypeError("Unknown encoding: "+ea);}else"number"===typeof Q&&(Q&=255);if(0>r||this.length<r||this.length<N)throw new RangeError("Out of range index");if(N<=r)return this;r>>>=0;N=void 0===N?this.length:N>>>0;Q||(Q=0);if("number"===typeof Q)for(ea=r;ea<N;++ea)this[ea]=Q;else for(Q=n.isBuffer(Q)?Q:K((new n(Q,ea)).toString()),aa=Q.length,ea=0;ea<N-r;++ea)this[ea+r]=Q[ea%aa];
return this};var Z=/[^+\/0-9A-Za-z-_]/g};
shadow$provide[25]=function(Ha,B,rb,E){var g=B(24).Buffer;!function(m,n){"object"==typeof E&&"undefined"!=typeof rb?n(E,B(14),B(20)):"function"==typeof define&&define.amd?define(["exports","vega-util","vega-format"],n):n((m="undefined"!=typeof globalThis?globalThis:m||self).vega={},m.vega,m.vega)}(this,function(m,n,F){function O(sa,Ta){const Wa=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const Ea=yield Wa.sanitize(sa,Ta),ua=Ea.href;return Ea.localFile?Wa.file(ua):Wa.http(ua,
Ta)})}function x(sa,Ta){const Wa=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){Ta=n.extend({},Wa.options,Ta);const Ea=Wa.fileAccess,ua={href:null};let V,W,ca;var fa=Z.test(sa.replace(Q,""));null!=sa&&"string"==typeof sa&&fa||n.error("Sanitize failure, invalid URI: "+n.stringValue(sa));fa=ja.test(sa);return(ca=Ta.baseURL)&&!fa&&(sa.startsWith("/")||"/"===ca[ca.length-1]||(sa="/"+sa),sa=ca+sa),W=(V=sa.startsWith("file://"))||"file"===Ta.mode||"http"!==Ta.mode&&!fa&&Ea,V?sa=sa.slice(7):
sa.startsWith("//")&&("file"===Ta.defaultProtocol?(sa=sa.slice(2),W=!0):sa=(Ta.defaultProtocol||"http")+":"+sa),Object.defineProperty(ua,"localFile",{value:!!W}),ua.href=sa,Ta.target&&(ua.target=Ta.target+""),Ta.rel&&(ua.rel=Ta.rel+""),"image"===Ta.context&&Ta.crossOrigin&&(ua.crossOrigin=Ta.crossOrigin+""),ua})}function y(sa){return sa?Ta=>new Promise((Wa,Ea)=>{sa.readFile(Ta,(ua,V)=>{ua?Ea(ua):Wa(V)})}):q}function q(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){n.error("No file system access.")})}
function l(sa){return sa?function(Ta,Wa){const Ea=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var ua=n.extend({},Ea.options.http,Wa);const V=Wa&&Wa.response;ua=yield sa(Ta,ua);return ua.ok?n.isFunction(ua[V])?ua[V]():ua.text():n.error(ua.status+""+ua.statusText)})}:h}function h(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){n.error("No HTTP fetch method available.")})}function c(sa,Ta){if(!sa||!sa.length)return"unknown";const Wa=sa.length,Ea=ea.length,ua=
ea.map((W,ca)=>ca+1);for(let W,ca,fa=0,qa=0;fa<Wa;++fa)for(ca=Ta?sa[fa][Ta]:sa[fa],W=0;W<Ea;++W)if(ua[W]&&null!=(V=ca)&&V==V&&!ea[W](ca)&&(ua[W]=0,++qa,qa===ea.length))return"string";var V;return aa[ua.reduce((W,ca)=>0===W?ca:W,0)-1]}function e(sa,Ta){return Ta.reduce((Wa,Ea)=>(Wa[Ea]=c(sa,Ea),Wa),{})}function a(sa){return new Function("d","return {"+sa.map(function(Ta,Wa){return JSON.stringify(Ta)+": d["+Wa+'] || ""'}).join(",")+"}")}function f(sa){var Ta=Object.create(null),Wa=[];return sa.forEach(function(Ea){for(var ua in Ea)ua in
Ta||Wa.push(Ta[ua]=ua)}),Wa}function p(sa,Ta){sa+="";var Wa=sa.length;return Wa<Ta?Array(Ta-Wa+1).join(0)+sa:sa}function A(sa){function Ta(ca,fa){function qa(){if(Za)return ta;if(Aa)return Aa=!1,va;var Ra,ab,lb=Oa;if(34===ca.charCodeAt(lb)){for(;Oa++<na&&34!==ca.charCodeAt(Oa)||34===ca.charCodeAt(++Oa););return(Ra=Oa)>=na?Za=!0:10===(ab=ca.charCodeAt(Oa++))?Aa=!0:13===ab&&(Aa=!0,10===ca.charCodeAt(Oa)&&++Oa),ca.slice(lb+1,Ra-1).replace(/""/g,'"')}for(;Oa<na;){if(10===(ab=ca.charCodeAt(Ra=Oa++)))Aa=
!0;else if(13===ab)Aa=!0,10===ca.charCodeAt(Oa)&&++Oa;else if(ab!==W)continue;return ca.slice(lb,Ra)}return Za=!0,ca.slice(lb,na)}var pa,Ga=[],na=ca.length,Oa=0,cb=0,Za=0>=na,Aa=!1;10===ca.charCodeAt(na-1)&&--na;for(13===ca.charCodeAt(na-1)&&--na;(pa=qa())!==ta;){for(var Fa=[];pa!==va&&pa!==ta;)Fa.push(pa),pa=qa();fa&&null==(Fa=fa(Fa,cb++))||Ga.push(Fa)}return Ga}function Wa(ca,fa){return ca.map(function(qa){return fa.map(function(pa){return ua(qa[pa])}).join(sa)})}function Ea(ca){return ca.map(ua).join(sa)}
function ua(ca){if(null==ca)var fa="";else{if(ca instanceof Date){var qa=ca.getUTCHours();var pa=ca.getUTCMinutes(),Ga=ca.getUTCSeconds(),na=ca.getUTCMilliseconds();qa=isNaN(ca)?"Invalid Date":(0>(fa=ca.getUTCFullYear())?"-"+p(-fa,6):9999<fa?"+"+p(fa,6):p(fa,4))+"-"+p(ca.getUTCMonth()+1,2)+"-"+p(ca.getUTCDate(),2)+(na?"T"+p(qa,2)+":"+p(pa,2)+":"+p(Ga,2)+"."+p(na,3)+"Z":Ga?"T"+p(qa,2)+":"+p(pa,2)+":"+p(Ga,2)+"Z":pa||qa?"T"+p(qa,2)+":"+p(pa,2)+"Z":"")}else qa=V.test(ca+="")?'"'+ca.replace(/"/g,'""')+
'"':ca;fa=qa}return fa}var V=new RegExp('["'+sa+"\n\r]"),W=sa.charCodeAt(0);return{parse:function(ca,fa){var qa,pa;ca=Ta(ca,function(Ga,na){if(qa)return qa(Ga,na-1);pa=Ga;qa=fa?function(Oa,cb){var Za=a(Oa);return function(Aa,Fa){return cb(Za(Aa),Fa,Oa)}}(Ga,fa):a(Ga)});return ca.columns=pa||[],ca},parseRows:Ta,format:function(ca,fa){return null==fa&&(fa=f(ca)),[fa.map(ua).join(sa)].concat(Wa(ca,fa)).join("\n")},formatBody:function(ca,fa){return null==fa&&(fa=f(ca)),Wa(ca,fa).join("\n")},formatRows:function(ca){return ca.map(Ea).join("\n")},
formatRow:Ea,formatValue:ua}}function C(sa){const Ta=function(Wa,Ea){const ua={delimiter:sa};return D(Wa,Ea?n.extend(Ea,ua):ua)};return Ta.responseType="text",Ta}function D(sa,Ta){return Ta.header&&(sa=Ta.header.map(n.stringValue).join(Ta.delimiter)+"\n"+sa),A(Ta.delimiter).parse(sa+"")}function P(sa,Ta){const Wa=Ta&&Ta.property?n.field(Ta.property):n.identity;!n.isObject(sa)||(Ea=sa,"function"==typeof g&&n.isFunction(g.isBuffer)&&g.isBuffer(Ea))?Ta=Wa(JSON.parse(sa)):(sa=Wa(sa),!n.isArray(sa)&&n.isIterable(sa)&&
(sa=[...sa]),Ta=Ta&&Ta.copy?JSON.parse(JSON.stringify(sa)):sa);return Ta;var Ea}function L(sa){return sa}function G(sa,Ta){return"string"==typeof Ta&&(Ta=sa.objects[Ta]),"GeometryCollection"===Ta.type?{type:"FeatureCollection",features:Ta.geometries.map(function(Wa){return z(sa,Wa)})}:z(sa,Ta)}function z(sa,Ta){var Wa=Ta.id,Ea=Ta.bbox,ua=null==Ta.properties?{}:Ta.properties;sa=J(sa,Ta);return null==Wa&&null==Ea?{type:"Feature",properties:ua,geometry:sa}:null==Ea?{type:"Feature",id:Wa,properties:ua,
geometry:sa}:{type:"Feature",id:Wa,bbox:Ea,properties:ua,geometry:sa}}function J(sa,Ta){function Wa(fa){return W(fa)}function Ea(fa){for(var qa=[],pa=0,Ga=fa.length;pa<Ga;++pa){var na,Oa=fa[pa],cb=qa;cb.length&&cb.pop();var Za=ca[0>Oa?~Oa:Oa],Aa=0;for(na=Za.length;Aa<na;++Aa)cb.push(W(Za[Aa],Aa));if(0>Oa)for(Oa=cb.length,Za=Oa-na;Za<--Oa;)na=cb[Za],cb[Za++]=cb[Oa],cb[Oa]=na}return 2>qa.length&&qa.push(qa[0]),qa}function ua(fa){for(fa=Ea(fa);4>fa.length;)fa.push(fa[0]);return fa}function V(fa){return fa.map(ua)}
var W=function(fa){if(null==fa)return L;var qa,pa,Ga=fa.scale[0],na=fa.scale[1],Oa=fa.translate[0],cb=fa.translate[1];return function(Za,Aa){Aa||(qa=pa=0);Aa=2;var Fa=Za.length,Ra=Array(Fa);Ra[0]=(qa+=Za[0])*Ga+Oa;for(Ra[1]=(pa+=Za[1])*na+cb;Aa<Fa;)Ra[Aa]=Za[Aa],++Aa;return Ra}}(sa.transform),ca=sa.arcs;return function pa(qa){var Ga=qa.type;switch(Ga){case "GeometryCollection":return{type:Ga,geometries:qa.geometries.map(pa)};case "Point":qa=W(qa.coordinates);break;case "MultiPoint":qa=qa.coordinates.map(Wa);
break;case "LineString":qa=Ea(qa.arcs);break;case "MultiLineString":qa=qa.arcs.map(Ea);break;case "Polygon":qa=V(qa.arcs);break;case "MultiPolygon":qa=qa.arcs.map(V);break;default:return null}return{type:Ga,coordinates:qa}}(Ta)}function K(sa,Ta){function Wa(fa,qa){for(var pa in fa){var Ga=fa[pa];delete qa[Ga.start];delete Ga.start;delete Ga.end;Ga.forEach(function(na){Ea[0>na?~na:na]=1});W.push(Ga)}}var Ea={},ua={},V={},W=[],ca=-1;return Ta.forEach(function(fa,qa){var pa,Ga=sa.arcs[0>fa?~fa:fa];3>
Ga.length&&!Ga[1][0]&&!Ga[1][1]&&(pa=Ta[++ca],Ta[ca]=fa,Ta[qa]=pa)}),Ta.forEach(function(fa){var qa=function(na){var Oa,cb=sa.arcs[0>na?~na:na],Za=cb[0];sa.transform?(Oa=[0,0],cb.forEach(function(Aa){Oa[0]+=Aa[0];Oa[1]+=Aa[1]})):Oa=cb[cb.length-1];return 0>na?[Oa,Za]:[Za,Oa]}(fa);var pa=qa[0],Ga=qa[1];(qa=V[pa])?(delete V[qa.end],qa.push(fa),qa.end=Ga,fa=ua[Ga])?(delete ua[fa.start],pa=fa===qa?qa:qa.concat(fa),ua[pa.start=qa.start]=V[pa.end=fa.end]=pa):ua[qa.start]=V[qa.end]=qa:(qa=ua[Ga])?(delete ua[qa.start],
qa.unshift(fa),qa.start=pa,fa=V[pa])?(delete V[fa.end],pa=fa===qa?qa:fa.concat(qa),ua[pa.start=fa.start]=V[pa.end=qa.end]=pa):ua[qa.start]=V[qa.end]=qa:ua[(qa=[fa]).start=pa]=V[qa.end=Ga]=qa}),Wa(V,ua),Wa(ua,V),Ta.forEach(function(fa){Ea[0>fa?~fa:fa]||W.push([fa])}),W}function R(sa){return J(sa,U.apply(this,arguments))}function U(sa,Ta,Wa){var Ea;if(1<arguments.length)var ua=ka(sa,Ta,Wa);else{var V=0;for(ua=Array(Ea=sa.arcs.length);V<Ea;++V)ua[V]=V}return{type:"MultiLineString",arcs:K(sa,ua)}}function ka(sa,
Ta,Wa){function Ea(qa){var pa=0>qa?~qa:qa;(fa[pa]||(fa[pa]=[])).push({i:qa,g:W})}function ua(qa){qa.forEach(Ea)}function V(qa){qa.forEach(ua)}var W,ca=[],fa=[];return function Ga(pa){switch(W=pa,pa.type){case "GeometryCollection":pa.geometries.forEach(Ga);break;case "LineString":ua(pa.arcs);break;case "MultiLineString":case "Polygon":V(pa.arcs);break;case "MultiPolygon":pa.arcs.forEach(V),!0}}(Ta),fa.forEach(null==Wa?function(pa){ca.push(pa[0].i)}:function(pa){Wa(pa[0].g,pa[pa.length-1].g)&&ca.push(pa[0].i)}),
ca}function ba(sa,Ta){let Wa,Ea,ua,V;return sa=P(sa,Ta),Ta&&Ta.feature?(Wa=G,ua=Ta.feature):Ta&&Ta.mesh?(Wa=R,ua=Ta.mesh,V=Da[Ta.filter]):n.error("Missing TopoJSON feature or mesh parameter."),Ea=(Ea=sa.objects[ua])?Wa(sa,Ea,V):n.error("Invalid TopoJSON object: "+ua),Ea&&Ea.features||[Ea]}function da(sa,Ta){return 1<arguments.length?($a[sa]=Ta,this):n.hasOwnProperty($a,sa)?$a[sa]:null}const ja=/^([A-Za-z]+:)?\/\//,Z=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,
Q=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,r=sa=>!(Number.isNaN(+sa)||sa instanceof Date),N={boolean:n.toBoolean,integer:n.toNumber,number:n.toNumber,date:n.toDate,string:n.toString,unknown:n.identity},ea=[sa=>"true"===sa||"false"===sa||!0===sa||!1===sa,sa=>r(sa)&&Number.isInteger(+sa),r,sa=>!Number.isNaN(Date.parse(sa))],aa=["boolean","integer","number","date"];var va={},ta={};D.responseType="text";P.responseType="json";const Da={interior:(sa,Ta)=>sa!==Ta,exterior:(sa,Ta)=>sa===
Ta};ba.responseType="json";const $a={dsv:D,csv:C(","),tsv:C("\t"),json:P,topojson:ba},kb=function(sa,Ta){return Wa=>({options:Wa||{},sanitize:x,load:O,fileAccess:!!Ta,file:y(Ta),http:l(sa)})}("undefined"!=typeof fetch&&fetch,null);m.format=$a;m.formats=da;m.inferType=c;m.inferTypes=e;m.loader=kb;m.read=function(sa,Ta,Wa,Ea){const ua=da((Ta=Ta||{}).type||"json");return ua||n.error("Unknown data format type: "+Ta.type),sa=ua(sa,Ta),Ta.parse&&function(V,W,ca,fa){if(V.length){var qa=F.timeFormatDefaultLocale();
ca=ca||qa.timeParse;fa=fa||qa.utcParse;var pa,Ga,na=V.columns||Object.keys(V[0]);"auto"===W&&(W=e(V,na));na=Object.keys(W);var Oa=na.map(Fa=>{var Ra=W[Fa];if(Ra&&(Ra.startsWith("date:")||Ra.startsWith("utc:")))return Fa=Ra.split(/:(.+)?/,2),Ra=Fa[1],("'"===Ra[0]&&"'"===Ra[Ra.length-1]||'"'===Ra[0]&&'"'===Ra[Ra.length-1])&&(Ra=Ra.slice(1,-1)),("utc"===Fa[0]?fa:ca)(Ra);if(!N[Ra])throw Error("Illegal format pattern: "+Fa+":"+Ra);return N[Ra]});var cb=0;var Za=V.length;for(Ga=na.length;cb<Za;++cb)for(qa=
V[cb],pa=0;pa<Ga;++pa){var Aa=na[pa];qa[Aa]=Oa[pa](qa[Aa])}}}(sa,Ta.parse,Wa,Ea),n.hasOwnProperty(sa,"columns")&&delete sa.columns,sa};m.responseType=function(sa){return(sa=da(sa))&&sa.responseType||"text"};m.typeParsers=N;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[26]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E,B(14),B(25),B(20)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.vega={},g.vega,g.vega,g.vega))})(this,function(g,m,n,F){function O(sa){const Ta=sa||m.identity,Wa=[],Ea={};Wa.add=ua=>{const V=Ta(ua);Ea[V]||(Ea[V]=1,Wa.push(ua));return Wa};Wa.remove=ua=>{const V=Ta(ua);Ea[V]&&(Ea[V]=0,
ua=Wa.indexOf(ua),0<=ua&&Wa.splice(ua,1));return Wa};return Wa}function x(sa,Ta){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield Ta(sa)}catch(Wa){sa.error(Wa)}})}function y(sa){sa=sa===Object(sa)?sa:{data:sa};if(!sa[r]){var Ta=N++;sa[r]=Ta}return sa}function q(sa,Ta){for(const Wa in sa)Ta[Wa]=sa[Wa];return Ta}function l(sa){return sa&&sa.constructor===h}function h(){const sa=[],Ta=[],Wa=[],Ea=[],ua=[];let V=null,W=!1;return{constructor:h,insert(ca){ca=m.array(ca);const fa=
ca.length;for(let qa=0;qa<fa;++qa)sa.push(ca[qa]);return this},remove(ca){const fa=m.isFunction(ca)?Ea:Ta;ca=m.array(ca);const qa=ca.length;for(let pa=0;pa<qa;++pa)fa.push(ca[pa]);return this},modify(ca,fa,qa){fa={field:fa,value:m.constant(qa)};m.isFunction(ca)?(fa.filter=ca,ua.push(fa)):(fa.tuple=ca,Wa.push(fa));return this},encode(ca,fa){m.isFunction(ca)?ua.push({filter:ca,field:fa}):Wa.push({tuple:ca,field:fa});return this},clean(ca){V=ca;return this},reflow(){W=!0;return this},pulse(ca,fa){function qa(Ra,
ab,lb){lb?Ra[ab]=lb(Ra):ca.encode=ab;W||(Ga[Ra[r]]=Ra)}const pa={},Ga={};let na,Oa,cb,Za,Aa,Fa;na=0;for(Oa=fa.length;na<Oa;++na)pa[fa[na][r]]=1;na=0;for(Oa=Ta.length;na<Oa;++na)Aa=Ta[na],pa[Aa[r]]=-1;na=0;for(Oa=Ea.length;na<Oa;++na)Za=Ea[na],fa.forEach(Ra=>{Za(Ra)&&(pa[Ra[r]]=-1)});na=0;for(Oa=sa.length;na<Oa;++na)Aa=sa[na],Fa=Aa[r],pa[Fa]?pa[Fa]=1:ca.add.push(y(sa[na]));na=0;for(Oa=fa.length;na<Oa;++na)Aa=fa[na],0>pa[Aa[r]]&&ca.rem.push(Aa);na=0;for(Oa=Wa.length;na<Oa;++na)cb=Wa[na],Aa=cb.tuple,
Za=cb.field,Fa=pa[Aa[r]],0<Fa&&(qa(Aa,Za,cb.value),ca.modifies(Za));na=0;for(Oa=ua.length;na<Oa;++na)cb=ua[na],Za=cb.filter,fa.forEach(Ra=>{Za(Ra)&&0<pa[Ra[r]]&&qa(Ra,cb.field,cb.value)}),ca.modifies(cb.field);if(W)ca.mod=Ta.length||Ea.length?fa.filter(Ra=>0<pa[Ra[r]]):fa.slice();else for(Fa in Ga)ca.mod.push(Ga[Fa]);(V||null==V&&(Ta.length||Ea.length))&&ca.clean(!0);return ca}}}function c(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function e(sa,Ta,Wa,Ea){this.id=++ea;this.value=
sa;this.qrank=this.rank=this.stamp=-1;this.flags=0;Ta&&(this._update=Ta);Wa&&this.parameters(Wa,Ea)}function a(sa){return function(Ta){const Wa=this.flags;if(0===arguments.length)return!!(Wa&sa);this.flags=Ta?Wa|sa:Wa&~sa;return this}}function f(sa,Ta,Wa){this.id=++va;this.value=null;Wa&&(this.receive=Wa);sa&&(this._filter=sa);Ta&&(this._apply=Ta)}function p(sa,Ta,Wa){return new f(sa,Ta,Wa)}function A(sa){let Ta;const Wa=new Promise(Ea=>Ta=Ea);Wa.requests=0;Wa.done=()=>{0===--Wa.requests&&(sa._pending=
null,Ta(sa))};return sa._pending=Wa}function C(sa,Ta,Wa,Ea,ua,V){const W=m.extend({},V,ta);let ca;m.isFunction(Wa)||(Wa=m.constant(Wa));void 0===Ea?ua=fa=>sa.touch(Wa(fa)):m.isFunction(Ea)?(ca=new e(null,Ea,ua,!1),ua=fa=>{ca.evaluate(fa);fa=Wa(fa);const qa=ca.value;l(qa)?sa.pulse(fa,qa,V):sa.update(fa,qa,W)}):ua=fa=>sa.update(Wa(fa),Ea,W);Ta.apply(ua)}function D(sa,Ta,Wa,Ea,ua,V){void 0===Ea?Ta.targets().add(Wa):(V=V||{},Ea=new e(null,P(Wa,Ea),ua,!1),Ea.modified(V.force),Ea.rank=Ta.rank,Ta.targets().add(Ea),
Wa&&(Ea.skip(!0),Ea.value=Wa.value,Ea.targets().add(Wa),sa.connect(Wa,[Ea])))}function P(sa,Ta){Ta=m.isFunction(Ta)?Ta:m.constant(Ta);return sa?function(Wa,Ea){Wa=Ta(Wa,Ea);sa.skip()||(sa.skip(Wa!==this.value).value=Wa);return Wa}:Ta}function L(sa,Ta,Wa){this.dataflow=sa;this.stamp=null==Ta?-1:Ta;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=Wa||null}function G(sa,Ta){const Wa=[];m.visitArray(sa,Ta,Ea=>Wa.push(Ea));return Wa}function z(sa,Ta){const Wa={};sa.visit(Ta,Ea=>{Wa[Ea[r]]=
1});return Ea=>Wa[Ea[r]]?null:Ea}function J(sa,Ta){return sa?(Wa,Ea)=>sa(Wa,Ea)&&Ta(Wa,Ea):Ta}function K(sa,Ta,Wa,Ea){const ua=Wa.length;let V=0;this.dataflow=sa;this.stamp=Ta;this.fields=null;this.encode=Ea||null;this.pulses=Wa;for(sa=0;sa<ua;++sa)if(Ea=Wa[sa],Ea.stamp===Ta){if(Ea.fields){const W=this.fields||(this.fields={});for(const ca in Ea.fields)W[ca]=1}Ea.changed(this.ADD)&&(V|=this.ADD);Ea.changed(this.REM)&&(V|=this.REM);Ea.changed(this.MOD)&&(V|=this.MOD)}this.changes=V}function R(sa){sa.error("Dataflow already running. Use runAsync() to chain invocations.");
return sa}function U(sa,Ta){if(Ta&&Ta.stamp===sa.stamp)return Ta;sa=sa.fork();Ta&&Ta!==Da&&(sa.source=Ta.source);return sa}function ka(sa){let Ta=[];return{clear:()=>Ta=[],size:()=>Ta.length,peek:()=>Ta[0],push:Wa=>{Ta.push(Wa);return ba(Ta,0,Ta.length-1,sa)},pop:()=>{var Wa=Ta.pop();let Ea;if(Ta.length){Ea=Ta[0];Ta[0]=Wa;{Wa=Ta;var ua=0;const V=ua,W=Wa.length,ca=Wa[ua];let fa=(ua<<1)+1,qa;for(;fa<W;)qa=fa+1,qa<W&&0<=sa(Wa[fa],Wa[qa])&&(fa=qa),Wa[ua]=Wa[fa],ua=fa,fa=(ua<<1)+1;Wa[ua]=ca;ba(Wa,V,ua,
sa)}}else Ea=Wa;return Ea}}}function ba(sa,Ta,Wa,Ea){let ua,V;const W=sa[Wa];for(;Wa>Ta;)if(V=Wa-1>>1,ua=sa[V],0>Ea(W,ua))sa[Wa]=ua,Wa=V;else break;return sa[Wa]=W}function da(){this.logger(m.logger());this.logLevel(m.Error);this._rank=this._clock=0;this._locale=F.defaultLocale();try{this._loader=n.loader()}catch(sa){}this._touched=O(m.id);this._input={};this._pulse=null;this._heap=ka((sa,Ta)=>sa.qrank-Ta.qrank);this._postrun=[]}function ja(sa){return function(){return this._log[sa].apply(this,arguments)}}
function Z(sa,Ta){e.call(this,sa,null,Ta)}function Q(sa){sa=sa&&sa.toLowerCase();return m.hasOwnProperty(kb,sa)?kb[sa]:null}const r=Symbol("vega_id");let N=1;c.prototype={set(sa,Ta,Wa,Ea){const ua=this[sa],V=this["_:mod:_"];if(null!=Ta&&0<=Ta){if(ua[Ta]!==Wa||Ea)ua[Ta]=Wa,V[Ta+":"+sa]=-1,V[sa]=-1}else if(ua!==Wa||Ea)this[sa]=Wa,V[sa]=m.isArray(Wa)?1+Wa.length:-1;return this},modified(sa,Ta){const Wa=this["_:mod:_"];if(!arguments.length){for(var Ea in Wa)if(Wa[Ea])return!0;return!1}if(m.isArray(sa)){for(Ea=
0;Ea<sa.length;++Ea)if(Wa[sa[Ea]])return!0;return!1}return null!=Ta&&0<=Ta?Ta+1<Wa[sa]||!!Wa[Ta+":"+sa]:!!Wa[sa]},clear(){this["_:mod:_"]={};return this}};let ea=0;const aa=new c;e.prototype={targets(){return this._targets||(this._targets=O(m.id))},set(sa){return this.value!==sa?(this.value=sa,1):0},skip:a(1),modified:a(2),parameters(sa,Ta,Wa){Ta=!1!==Ta;const Ea=this._argval=this._argval||new c,ua=this._argops=this._argops||[],V=[];let W,ca,fa,qa;const pa=(Ga,na,Oa)=>{Oa instanceof e?(Oa!==this&&
(Ta&&Oa.targets().add(this),V.push(Oa)),ua.push({op:Oa,name:Ga,index:na})):Ea.set(Ga,na,Oa)};for(W in sa)if(ca=sa[W],"pulse"===W)m.array(ca).forEach(Ga=>{Ga instanceof e?Ga!==this&&(Ga.targets().add(this),V.push(Ga)):m.error("Pulse parameters must be operator instances.")}),this.source=ca;else if(m.isArray(ca))for(Ea.set(W,-1,Array(fa=ca.length)),qa=0;qa<fa;++qa)pa(W,qa,ca[qa]);else pa(W,-1,ca);this.marshall().clear();Wa&&(ua.initonly=!0);return V},marshall(sa){const Ta=this._argval||aa,Wa=this._argops;
let Ea,ua,V,W;if(Wa){const ca=Wa.length;for(ua=0;ua<ca;++ua)Ea=Wa[ua],V=Ea.op,W=V.modified()&&V.stamp===sa,Ta.set(Ea.name,Ea.index,V.value,W);if(Wa.initonly){for(ua=0;ua<ca;++ua)Ea=Wa[ua],Ea.op.targets().remove(this);this._update=this._argops=null}}return Ta},detach(){const sa=this._argops;let Ta,Wa;if(sa)for(Ta=0,Wa=sa.length;Ta<Wa;++Ta){var Ea=sa[Ta];Ea=Ea.op;Ea._targets&&Ea._targets.remove(this)}},evaluate(sa){var Ta=this._update;if(Ta){const Wa=this.marshall(sa.stamp);Ta=Ta.call(this,Wa,sa);Wa.clear();
if(Ta!==this.value)this.value=Ta;else if(!this.modified())return sa.StopPropagation}},run(sa){if(sa.stamp<this.stamp)return sa.StopPropagation;let Ta;this.skip()?(this.skip(!1),Ta=0):Ta=this.evaluate(sa);return this.pulse=Ta||sa}};let va=0;f.prototype={_filter:m.truthy,_apply:m.identity,targets(){return this._targets||(this._targets=O(m.id))},consume(sa){if(!arguments.length)return!!this._consume;this._consume=!!sa;return this},receive(sa){if(this._filter(sa)){const Ta=this.value=this._apply(sa),
Wa=this._targets,Ea=Wa?Wa.length:0;for(let ua=0;ua<Ea;++ua)Wa[ua].receive(Ta);this._consume&&(sa.preventDefault(),sa.stopPropagation())}},filter(sa){sa=p(sa);this.targets().add(sa);return sa},apply(sa){sa=p(null,sa);this.targets().add(sa);return sa},merge(){const sa=p();this.targets().add(sa);for(let Ta=0,Wa=arguments.length;Ta<Wa;++Ta)arguments[Ta].targets().add(sa);return sa},throttle(sa){let Ta=-1;return this.filter(()=>{const Wa=Date.now();return Wa-Ta>sa?(Ta=Wa,1):0})},debounce(sa){const Ta=
p();this.targets().add(p(null,null,m.debounce(sa,Wa=>{const Ea=Wa.dataflow;Ta.receive(Wa);Ea&&Ea.run&&Ea.run()})));return Ta},between(sa,Ta){let Wa=!1;sa.targets().add(p(null,null,()=>Wa=!0));Ta.targets().add(p(null,null,()=>Wa=!1));return this.filter(()=>Wa)},detach(){}};const ta={skip:!0},Da={};L.prototype={StopPropagation:Da,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(sa){return(new L(this.dataflow)).init(this,sa)},clone(){const sa=this.fork(7);
sa.add=sa.add.slice();sa.rem=sa.rem.slice();sa.mod=sa.mod.slice();sa.source&&(sa.source=sa.source.slice());return sa.materialize(23)},addAll(){let sa=this;sa.source&&sa.add!==sa.rem&&(sa.rem.length||sa.source.length!==sa.add.length)&&(sa=(new L(this.dataflow)).init(this),sa.add=sa.source,sa.rem=[]);return sa},init(sa,Ta){this.stamp=sa.stamp;this.encode=sa.encode;!sa.fields||Ta&64||(this.fields=sa.fields);Ta&1?(this.addF=sa.addF,this.add=sa.add):(this.addF=null,this.add=[]);Ta&2?(this.remF=sa.remF,
this.rem=sa.rem):(this.remF=null,this.rem=[]);Ta&4?(this.modF=sa.modF,this.mod=sa.mod):(this.modF=null,this.mod=[]);Ta&32?this.source=this.srcF=null:(this.srcF=sa.srcF,this.source=sa.source,sa.cleans&&(this.cleans=sa.cleans));return this},runAfter(sa){this.dataflow.runAfter(sa)},changed(sa){sa=sa||7;return sa&1&&this.add.length||sa&2&&this.rem.length||sa&4&&this.mod.length},reflow(sa){if(sa)return this.fork(7).reflow();sa=this.add.length;const Ta=this.source&&this.source.length;Ta&&Ta!==sa&&(this.mod=
this.source,sa&&this.filter(4,z(this,1)));return this},clean(sa){return arguments.length?(this.cleans=!!sa,this):this.cleans},modifies(sa){const Ta=this.fields||(this.fields={});m.isArray(sa)?sa.forEach(Wa=>Ta[Wa]=!0):Ta[sa]=!0;return this},modified(sa,Ta){const Wa=this.fields;return(Ta||this.mod.length)&&Wa?arguments.length?m.isArray(sa)?sa.some(Ea=>Wa[Ea]):Wa[sa]:!!Wa:!1},filter(sa,Ta){sa&1&&(this.addF=J(this.addF,Ta));sa&2&&(this.remF=J(this.remF,Ta));sa&4&&(this.modF=J(this.modF,Ta));sa&16&&(this.srcF=
J(this.srcF,Ta));return this},materialize(sa){sa=sa||7;sa&1&&this.addF&&(this.add=G(this.add,this.addF),this.addF=null);sa&2&&this.remF&&(this.rem=G(this.rem,this.remF),this.remF=null);sa&4&&this.modF&&(this.mod=G(this.mod,this.modF),this.modF=null);sa&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit(sa,Ta){if(sa&16)return m.visitArray(this.source,this.srcF,Ta),this;sa&1&&m.visitArray(this.add,this.addF,Ta);sa&2&&m.visitArray(this.rem,this.remF,Ta);sa&4&&
m.visitArray(this.mod,this.modF,Ta);const Wa=this.source;sa&8&&Wa&&(sa=this.add.length+this.mod.length,sa!==Wa.length&&(sa?m.visitArray(Wa,z(this,5),Ta):m.visitArray(Wa,this.srcF,Ta)));return this}};m.inherits(K,L,{fork(sa){const Ta=(new L(this.dataflow)).init(this,sa&this.NO_FIELDS);void 0!==sa&&(sa&Ta.ADD&&this.visit(Ta.ADD,Wa=>Ta.add.push(Wa)),sa&Ta.REM&&this.visit(Ta.REM,Wa=>Ta.rem.push(Wa)),sa&Ta.MOD&&this.visit(Ta.MOD,Wa=>Ta.mod.push(Wa)));return Ta},changed(sa){return this.changes&sa},modified(sa){const Ta=
this.fields;return Ta&&this.changes&this.MOD?m.isArray(sa)?sa.some(Wa=>Ta[Wa]):Ta[sa]:0},filter(){m.error("MultiPulse does not support filtering.")},materialize(){m.error("MultiPulse does not support materialization.")},visit(sa,Ta){const Wa=this.pulses,Ea=Wa.length;let ua=0;if(sa&this.SOURCE)for(;ua<Ea;++ua)Wa[ua].visit(sa,Ta);else for(;ua<Ea;++ua)Wa[ua].stamp===this.stamp&&Wa[ua].visit(sa,Ta);return this}});const $a={skip:!1,force:!1};da.prototype={stamp(){return this._clock},loader(sa){return arguments.length?
(this._loader=sa,this):this._loader},locale(sa){return arguments.length?(this._locale=sa,this):this._locale},logger(sa){return arguments.length?(this._log=sa,this):this._log},error:ja("error"),warn:ja("warn"),info:ja("info"),debug:ja("debug"),logLevel:ja("level"),cleanThreshold:1E4,add:function(sa,Ta,Wa,Ea){let ua=1;sa instanceof e||(sa&&sa.prototype instanceof e?sa=new sa:m.isFunction(sa)?sa=new e(null,sa):(ua=0,sa=new e(sa,Ta)));this.rank(sa);ua&&(Ea=Wa,Wa=Ta);Wa&&this.connect(sa,sa.parameters(Wa,
Ea));this.touch(sa);return sa},connect:function(sa,Ta){const Wa=sa.rank,Ea=Ta.length;for(let ua=0;ua<Ea;++ua)if(Wa<Ta[ua].rank){this.rerank(sa);break}},rank:function(sa){sa.rank=++this._rank},rerank:function(sa){const Ta=[sa];let Wa,Ea,ua;for(;Ta.length;)if(this.rank(Wa=Ta.pop()),Ea=Wa._targets)for(ua=Ea.length;0<=--ua;)Ta.push(Wa=Ea[ua]),Wa===sa&&m.error("Cycle detected in dataflow graph.")},pulse:function(sa,Ta,Wa){this.touch(sa,Wa||$a);Wa=new L(this,this._clock+(this._pulse?0:1));const Ea=sa.pulse&&
sa.pulse.source||[];Wa.target=sa;this._input[sa.id]=Ta.pulse(Wa,Ea);return this},touch:function(sa,Ta){Ta=Ta||$a;this._pulse?this._enqueue(sa):this._touched.add(sa);Ta.skip&&sa.skip(!0);return this},update:function(sa,Ta,Wa){Wa=Wa||$a;(sa.set(Ta)||Wa.force)&&this.touch(sa,Wa);return this},changeset:h,ingest:function(sa,Ta,Wa){Ta=this.parse(Ta,Wa);return this.pulse(sa,this.changeset().insert(Ta))},parse:function(sa,Ta){const Wa=this.locale();return n.read(sa,Ta,Wa.timeParse,Wa.utcParse)},preload:function(sa,
Ta,Wa){const Ea=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const ua=Ea._pending||A(Ea);ua.requests+=1;const V=yield Ea.request(Ta,Wa);Ea.pulse(sa,Ea.changeset().remove(m.truthy).insert(V.data||[]));ua.done();return V})},request:function(sa,Ta){const Wa=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let Ea=0,ua;try{ua=yield Wa.loader().load(sa,{context:"dataflow",response:n.responseType(Ta&&Ta.type)});try{ua=Wa.parse(ua,Ta)}catch(V){Ea=-2,Wa.warn("Data ingestion failed",
sa,V)}}catch(V){Ea=-1,Wa.warn("Loading failed",sa,V)}return{data:ua,status:Ea}})},events:function(sa,Ta,Wa,Ea){const ua=this,V=p(Wa,Ea);Wa=function(W){W.dataflow=ua;try{V.receive(W)}catch(ca){ua.error(ca)}finally{ua.run()}};sa="string"===typeof sa&&"undefined"!==typeof document?document.querySelectorAll(sa):m.array(sa);Ea=sa.length;for(let W=0;W<Ea;++W)sa[W].addEventListener(Ta,Wa);return V},on:function(sa,Ta,Wa,Ea,ua){(sa instanceof e?D:C)(this,sa,Ta,Wa,Ea,ua);return this},evaluate:function(sa,Ta,
Wa){const Ea=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const ua=[];if(Ea._pulse)return R(Ea);Ea._pending&&(yield Ea._pending);Ta&&(yield x(Ea,Ta));if(!Ea._touched.length)return Ea.debug("Dataflow invoked, but nothing to do."),Ea;var V=++Ea._clock;Ea._pulse=new L(Ea,V,sa);Ea._touched.forEach(pa=>Ea._enqueue(pa,!0));Ea._touched=O(m.id);var W=0;let ca,fa,qa;try{for(;0<Ea._heap.size();)ca=Ea._heap.pop(),ca.rank!==ca.qrank?Ea._enqueue(ca,!0):(fa=ca.run(Ea._getPulse(ca,sa)),fa.then?
fa=yield fa:fa.async&&(ua.push(fa.async),fa=Da),fa!==Da&&ca._targets&&ca._targets.forEach(pa=>Ea._enqueue(pa)),++W)}catch(pa){Ea._heap.clear(),qa=pa}Ea._input={};Ea._pulse=null;Ea.debug(`Pulse ${V}: ${W} operators`);qa&&(Ea._postrun=[],Ea.error(qa));if(Ea._postrun.length)for(V=Ea._postrun.sort((pa,Ga)=>Ga.priority-pa.priority),Ea._postrun=[],W=0;W<V.length;++W)yield x(Ea,V[W].callback);Wa&&(yield x(Ea,Wa));ua.length&&Promise.all(ua).then(pa=>Ea.runAsync(null,()=>{pa.forEach(Ga=>{try{Ga(Ea)}catch(na){Ea.error(na)}})}));
return Ea})},run:function(sa,Ta,Wa){return this._pulse?R(this):(this.evaluate(sa,Ta,Wa),this)},runAsync:function(sa,Ta,Wa){const Ea=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;Ea._running;)yield Ea._running;const ua=()=>Ea._running=null;(Ea._running=Ea.evaluate(sa,Ta,Wa)).then(ua,ua);return Ea._running})},runAfter:function(sa,Ta,Wa){if(this._pulse||Ta)this._postrun.push({priority:Wa||0,callback:sa});else try{sa(this)}catch(Ea){this.error(Ea)}},_enqueue:function(sa,Ta){const Wa=
sa.stamp<this._clock;Wa&&(sa.stamp=this._clock);if(Wa||Ta)sa.qrank=sa.rank,this._heap.push(sa)},_getPulse:function(sa,Ta){const Wa=sa.source,Ea=this._clock;return Wa&&m.isArray(Wa)?new K(this,Ea,Wa.map(ua=>ua.pulse),Ta):this._input[sa.id]||U(this._pulse,Wa&&Wa.pulse)}};m.inherits(Z,e,{run(sa){if(sa.stamp<this.stamp)return sa.StopPropagation;let Ta;this.skip()?this.skip(!1):Ta=this.evaluate(sa);Ta=Ta||sa;Ta.then?Ta=Ta.then(Wa=>this.pulse=Wa):Ta!==sa.StopPropagation&&(this.pulse=Ta);return Ta},evaluate(sa){const Ta=
this.marshall(sa.stamp);sa=this.transform(Ta,sa);Ta.clear();return sa},transform(){}});const kb={};g.Dataflow=da;g.EventStream=f;g.MultiPulse=K;g.Operator=e;g.Parameters=c;g.Pulse=L;g.Transform=Z;g.UniqueList=O;g.asyncCallback=x;g.changeset=h;g.definition=function(sa){return(sa=Q(sa))&&sa.Definition||null};g.derive=function(sa){return q(sa,y({}))};g.ingest=y;g.isChangeSet=l;g.isTuple=function(sa){return!(!sa||!sa[r])};g.rederive=q;g.replace=function(sa,Ta){Ta[r]=sa[r];return Ta};g.stableCompare=function(sa,
Ta){return sa?Ta?(Wa,Ea)=>sa(Wa,Ea)||Ta(Wa)[r]-Ta(Ea)[r]:(Wa,Ea)=>sa(Wa,Ea)||Wa[r]-Ea[r]:null};g.transform=Q;g.transforms=kb;g.tupleid=function(sa){return sa[r]};Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[27]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E,B(15)):"function"===typeof define&&define.amd?define(["exports","d3-array"],m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.vega={},g.d3))})(this,function(g,m){function*n(r,N){if(null==N)for(var ea of r)null!=ea&&""!==ea&&(ea=+ea)>=ea&&(yield ea);else{ea=-1;for(let aa of r)aa=N(aa,++ea,r),null!=aa&&""!==aa&&(aa=+aa)>=aa&&(yield aa)}}function F(r,N,ea){const aa=Float64Array.from(n(r,
ea));aa.sort(m.ascending);return N.map(va=>m.quantileSorted(aa,va))}function O(r,N){return F(r,[.25,.5,.75],N)}function x(r,N){const ea=r.length,aa=m.deviation(r,N);r=O(r,N);return 1.06*(Math.min(aa,(r[2]-r[0])/1.34)||aa||Math.abs(r[0])||1)*Math.pow(ea,-.2)}function y(r,N){const ea=r.length;let aa=0,va=1,ta,Da;for(;r[aa]===r[va];)++va;for(;va<ea;){for(ta=va+1;r[va]===r[ta];)++ta;if(r[va]-r[va-1]<N){for(Da=va+(aa+ta-va-va>>1);Da<va;)r[Da++]=r[va];for(;Da>va;)r[Da--]=r[aa]}aa=va;va=ta}return r}function q(r,
N){r=r||0;N=null==N?1:N;let ea,aa;if(Z===Z)ea=Z,Z=NaN;else{do{ea=2*g.random()-1;aa=2*g.random()-1;var va=ea*ea+aa*aa}while(0===va||1<va);va=Math.sqrt(-2*Math.log(va)/va);ea*=va;Z=aa*va}return r+ea*N}function l(r,N,ea){ea=null==ea?1:ea;r=(r-(N||0))/ea;return Math.exp(-.5*r*r)/(ea*da)}function h(r,N,ea){r=(r-(N||0))/(null==ea?1:ea);N=Math.abs(r);37<N?ea=0:(ea=Math.exp(-N*N/2),7.07106781186547>N?(ea*=(((((.0352624965998911*N+.700383064443688)*N+6.37396220353165)*N+33.912866078383)*N+112.079291497871)*
N+221.213596169931)*N+220.206867912376,ea/=((((((.0883883476483184*N+1.75566716318264)*N+16.064177579207)*N+86.7807322029461)*N+296.564248779674)*N+637.333633378831)*N+793.826512519948)*N+440.413735824752):ea=ea/(N+1/(N+2/(N+3/(N+4/(N+.65)))))/2.506628274631);return 0<r?1-ea:ea}function c(r,N,ea){if(0>r||1<r)return NaN;r=2*r-1;var aa=-Math.log((1-r)*(1+r));6.25>aa?(aa-=3.125,aa=1.6536545626831027+(.24015818242558962+(-.006033670871430149+(-7.40702534166267E-4+(1.8673420803405714E-4+(-1.3882523362786469E-5+
(-1.3654692000834679E-6+(4.2347877827932404E-7+(-2.9070369957882005E-8+(-4.112633980346984E-9+(1.0512122733215323E-9+(-5.415412054294628E-11+(-1.2975133253453532E-11+(2.6335093153082323E-12+(-8.151934197605472E-14+(-4.054566272975207E-14+(6.637638134358324E-15+(2.0972767875968562E-17+(-1.333171662854621E-16+(1.1157877678025181E-17+(1.28584807152564E-18+(-1.6850591381820166E-19+-3.64441206401782E-21*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa):16>aa?(aa=Math.sqrt(aa)-
3.25,aa=3.0838856104922208+(1.0052589676941592+(.005370914553590064+(-.003751208507569241+(.002491442096107851+(-.0016882755560235047+(9.532893797373805E-4+(-3.550375203628475E-4+(2.4031110387097894E-5+(6.828485145957318E-5+(-4.7318229009055734E-5+(1.2475304481671779E-5+(2.9234449089955446E-6+(-4.013867526981546E-6+(1.5027403968909828E-6+(1.8239629214389228E-8+(-2.7517406297064545E-7+(9.075656193888539E-8+2.2137376921775787E-9*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa):
Number.isFinite(aa)?(aa=Math.sqrt(aa)-5,aa=4.849906401408584+(1.0103004648645344+(-1.3871931833623122E-4+(-2.1503011930044477E-4+(7.599527703001776E-5+(-1.968177810553167E-5+(4.526062597223154E-6+(-9.9298272942317E-7+(2.2900482228026655E-7+(-6.771199775845234E-8+(2.914795345090108E-8+(-1.496002662714924E-8+(7.61570120807834E-9+(-3.789465440126737E-9+(1.5076572693500548E-9+(-2.555641816996525E-10+-2.7109920616438573E-11*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa):aa=Infinity;r*=
aa;return(N||0)+(null==ea?1:ea)*ja*r}function e(r,N){let ea,aa;const va={mean(ta){return arguments.length?(ea=ta||0,va):ea},stdev(ta){return arguments.length?(aa=null==ta?1:ta,va):aa},sample:()=>q(ea,aa),pdf:ta=>l(ta,ea,aa),cdf:ta=>h(ta,ea,aa),icdf:ta=>c(ta,ea,aa)};return va.mean(r).stdev(N)}function a(r,N){N=null==N?1:N;return Math.exp((r||0)+q()*N)}function f(r,N,ea){if(0>=r)return 0;ea=null==ea?1:ea;N=(Math.log(r)-(N||0))/ea;return Math.exp(-.5*N*N)/(ea*da*r)}function p(r,N,ea){return h(Math.log(r),
N,ea)}function A(r,N,ea){return Math.exp(c(r,N,ea))}function C(r,N){null==N&&(N=null==r?1:r,r=0);return r+(N-r)*g.random()}function D(r,N,ea){null==ea&&(ea=null==N?1:N,N=0);return r>=N&&r<=ea?1/(ea-N):0}function P(r,N,ea){null==ea&&(ea=null==N?1:N,N=0);return r<N?0:r>ea?1:(r-N)/(ea-N)}function L(r,N,ea){null==ea&&(ea=null==N?1:N,N=0);return 0<=r&&1>=r?N+r*(ea-N):NaN}function G(r,N,ea,aa){aa-=r*r;ea=1E-24>Math.abs(aa)?0:(ea-r*N)/aa;return[N-ea*r,ea]}function z(r,N,ea,aa){r=r.filter(Wa=>{let Ea=N(Wa);
Wa=ea(Wa);return null!=Ea&&(Ea=+Ea)>=Ea&&null!=Wa&&(Wa=+Wa)>=Wa});aa&&r.sort((Wa,Ea)=>N(Wa)-N(Ea));aa=r.length;const va=new Float64Array(aa),ta=new Float64Array(aa);let Da=0,$a=0,kb=0,sa,Ta;for(Ta of r)va[Da]=r=+N(Ta),ta[Da]=sa=+ea(Ta),++Da,$a+=(r-$a)/Da,kb+=(sa-kb)/Da;for(Da=0;Da<aa;++Da)va[Da]-=$a,ta[Da]-=kb;return[va,ta,$a,kb]}function J(r,N,ea,aa){let va=-1,ta;for(const Da of r)r=N(Da),ta=ea(Da),null!=r&&(r=+r)>=r&&null!=ta&&(ta=+ta)>=ta&&aa(r,ta,++va)}function K(r,N,ea,aa,va){let ta=0,Da=0;J(r,
N,ea,($a,kb)=>{$a=kb-va($a);kb-=aa;ta+=$a*$a;Da+=kb*kb});return 1-ta/Da}function R(r,N,ea){let aa=0,va=0,ta=0,Da=0,$a=0;J(r,N,ea,(Ta,Wa)=>{++$a;aa+=(Ta-aa)/$a;va+=(Wa-va)/$a;ta+=(Ta*Wa-ta)/$a;Da+=(Ta*Ta-Da)/$a});const kb=G(aa,va,ta,Da),sa=Ta=>kb[0]+kb[1]*Ta;return{coef:kb,predict:sa,rSquared:K(r,N,ea,va,sa)}}function U(r,N,ea){const [aa,va,ta,Da]=z(r,N,ea);var $a=aa.length,kb=0;let sa=0;var Ta=0;let Wa=0,Ea=0,ua,V,W,ca;for(ua=0;ua<$a;)V=aa[ua],W=va[ua++],ca=V*V,kb+=(ca-kb)/ua,sa+=(ca*V-sa)/ua,Ta+=
(ca*ca-Ta)/ua,Wa+=(V*W-Wa)/ua,Ea+=(ca*W-Ea)/ua;$a=Ta-kb*kb;Ta=kb*$a-sa*sa;const fa=(Ea*kb-Wa*sa)/Ta,qa=(Wa*$a-Ea*sa)/Ta,pa=-fa*kb;kb=Ga=>{Ga-=ta;return fa*Ga*Ga+qa*Ga+pa+Da};return{coef:[pa-qa*ta+fa*ta*ta+Da,qa-2*fa*ta,fa],predict:kb,rSquared:K(r,N,ea,Da,kb)}}function ka(r,N,ea,aa){const va=Array(r);let ta,Da,$a;for(ta=0;ta<r;++ta)va[ta]=0;for(ta=r-1;0<=ta;--ta)for(Da=N[ta],$a=1,va[ta]+=Da,r=1;r<=ta;++r)$a*=(ta+1-r)/r,va[ta-r]+=Da*Math.pow(ea,r)*$a;va[0]+=aa;return va}function ba(r){const N=r.length-
1,ea=[];let aa,va,ta,Da,$a;for(aa=0;aa<N;++aa){Da=aa;for(va=aa+1;va<N;++va)Math.abs(r[aa][va])>Math.abs(r[aa][Da])&&(Da=va);for(ta=aa;ta<N+1;++ta)$a=r[ta][aa],r[ta][aa]=r[ta][Da],r[ta][Da]=$a;for(va=aa+1;va<N;++va)for(ta=N;ta>=aa;ta--)r[ta][va]-=r[ta][aa]*r[aa][va]/r[aa][aa]}for(va=N-1;0<=va;--va){$a=0;for(ta=va+1;ta<N;++ta)$a+=r[ta][va]*ea[ta];ea[va]=(r[N][va]-$a)/r[va][va]}return ea}g.random=Math.random;const da=Math.sqrt(2*Math.PI),ja=Math.SQRT2;let Z=NaN;const Q=.1*Math.PI/180;g.bandwidthNRD=
x;g.bin=function(r){var N=r.maxbins||20;const ea=r.base||10,aa=Math.log(ea),va=r.divide||[5,2];let ta=r.extent[0],Da=r.extent[1];let $a,kb,sa,Ta;const Wa=r.span||Da-ta||Math.abs(ta)||1;if(r.step)var Ea=r.step;else if(r.steps){kb=Wa/N;sa=0;for(Ta=r.steps.length;sa<Ta&&r.steps[sa]<kb;++sa);Ea=r.steps[Math.max(0,sa-1)]}else{Ea=Math.ceil(Math.log(N)/aa);$a=r.minstep||0;for(Ea=Math.max($a,Math.pow(ea,Math.round(Math.log(Wa)/aa)-Ea));Math.ceil(Wa/Ea)>N;)Ea*=ea;sa=0;for(Ta=va.length;sa<Ta;++sa)kb=Ea/va[sa],
kb>=$a&&Wa/kb<=N&&(Ea=kb)}kb=Math.log(Ea);N=Math.pow(ea,-(0<=kb?0:~~(-kb/aa)+1)-1);if(r.nice||void 0===r.nice)kb=Math.floor(ta/Ea+N)*Ea,ta=ta<kb?kb-Ea:kb,Da=Math.ceil(Da/Ea)*Ea;return{start:ta,stop:Da===ta?ta+Ea:Da,step:Ea}};g.bootstrapCI=function(r,N,ea,aa){if(!r.length)return[void 0,void 0];r=Float64Array.from(n(r,aa));aa=r.length;let va,ta,Da,$a;Da=0;for($a=Array(N);Da<N;++Da){for(ta=va=0;ta<aa;++ta)va+=r[~~(g.random()*aa)];$a[Da]=va/aa}$a.sort(m.ascending);return[m.quantile($a,ea/2),m.quantile($a,
1-ea/2)]};g.cumulativeLogNormal=p;g.cumulativeNormal=h;g.cumulativeUniform=P;g.densityLogNormal=f;g.densityNormal=l;g.densityUniform=D;g.dotbin=function(r,N,ea,aa){aa=aa||(Ea=>Ea);const va=r.length,ta=new Float64Array(va);let Da=0,$a=1,kb=aa(r[0]),sa=kb,Ta=kb+N,Wa;for(;$a<va;++$a){Wa=aa(r[$a]);if(Wa>=Ta){for(sa=(kb+sa)/2;Da<$a;++Da)ta[Da]=sa;Ta=Wa+N;kb=Wa}sa=Wa}for(sa=(kb+sa)/2;Da<$a;++Da)ta[Da]=sa;return ea?y(ta,N+N/4):ta};g.quantileLogNormal=A;g.quantileNormal=c;g.quantileUniform=L;g.quantiles=
F;g.quartiles=O;g.randomInteger=function(r,N){null==N&&(N=r,r=0);let ea,aa,va;const ta={min(Da){return arguments.length?(ea=Da||0,va=aa-ea,ta):ea},max(Da){return arguments.length?(aa=Da||0,va=aa-ea,ta):aa},sample(){return ea+Math.floor(va*g.random())},pdf(Da){return Da===Math.floor(Da)&&Da>=ea&&Da<aa?1/va:0},cdf(Da){Da=Math.floor(Da);return Da<ea?0:Da>=aa?1:(Da-ea+1)/va},icdf(Da){return 0<=Da&&1>=Da?ea-1+Math.floor(Da*va):NaN}};return ta.min(r).max(N)};g.randomKDE=function(r,N){const ea=e();let aa=
0;const va={data(ta){return arguments.length?(aa=(r=ta)?ta.length:0,va.bandwidth(N)):r},bandwidth(ta){if(!arguments.length)return N;N=ta;!N&&r&&(N=x(r));return va},sample(){return r[~~(g.random()*aa)]+N*ea.sample()},pdf(ta){let Da=0,$a=0;for(;$a<aa;++$a)Da+=ea.pdf((ta-r[$a])/N);return Da/N/aa},cdf(ta){let Da=0,$a=0;for(;$a<aa;++$a)Da+=ea.cdf((ta-r[$a])/N);return Da/aa},icdf(){throw Error("KDE icdf not supported.");}};return va.data(r)};g.randomLCG=function(r){return function(){r=(1103515245*r+12345)%
2147483647;return r/2147483647}};g.randomLogNormal=function(r,N){let ea,aa;const va={mean(ta){return arguments.length?(ea=ta||0,va):ea},stdev(ta){return arguments.length?(aa=null==ta?1:ta,va):aa},sample:()=>a(ea,aa),pdf:ta=>f(ta,ea,aa),cdf:ta=>p(ta,ea,aa),icdf:ta=>A(ta,ea,aa)};return va.mean(r).stdev(N)};g.randomMixture=function(r,N){let ea=0,aa;const va={weights(ta){if(arguments.length){{var Da=N=ta||[];const $a=[];let kb=0,sa;for(sa=0;sa<ea;++sa)kb+=$a[sa]=null==Da[sa]?1:+Da[sa];for(sa=0;sa<ea;++sa)$a[sa]/=
kb;aa=$a}return va}return N},distributions(ta){return arguments.length?(ta?(ea=ta.length,r=ta):(ea=0,r=[]),va.weights(N)):r},sample(){const ta=g.random();let Da=r[ea-1],$a=aa[0],kb=0;for(;kb<ea-1;$a+=aa[++kb])if(ta<$a){Da=r[kb];break}return Da.sample()},pdf(ta){let Da=0,$a=0;for(;$a<ea;++$a)Da+=aa[$a]*r[$a].pdf(ta);return Da},cdf(ta){let Da=0,$a=0;for(;$a<ea;++$a)Da+=aa[$a]*r[$a].cdf(ta);return Da},icdf(){throw Error("Mixture icdf not supported.");}};return va.distributions(r).weights(N)};g.randomNormal=
e;g.randomUniform=function(r,N){let ea,aa;const va={min(ta){return arguments.length?(ea=ta||0,va):ea},max(ta){return arguments.length?(aa=null==ta?1:ta,va):aa},sample:()=>C(ea,aa),pdf:ta=>D(ta,ea,aa),cdf:ta=>P(ta,ea,aa),icdf:ta=>L(ta,ea,aa)};null==N&&(N=null==r?1:r,r=0);return va.min(r).max(N)};g.regressionExp=function(r,N,ea){const [aa,,va,ta]=z(r,N,ea);let Da=0,$a=0,kb=0,sa=0,Ta=0,Wa,Ea,ua;J(r,N,ea,(fa,qa)=>{Wa=aa[Ta++];Ea=Math.log(qa);ua=Wa*qa;Da+=(qa*Ea-Da)/Ta;$a+=(ua-$a)/Ta;kb+=(ua*Ea-kb)/Ta;
sa+=(Wa*ua-sa)/Ta});const [V,W]=G($a/ta,Da/ta,kb/ta,sa/ta),ca=fa=>Math.exp(V+W*(fa-va));return{coef:[Math.exp(V-W*va),W],predict:ca,rSquared:K(r,N,ea,ta,ca)}};g.regressionLinear=R;g.regressionLoess=function(r,N,ea,aa){const [va,ta,Da,$a]=z(r,N,ea,!0);r=va.length;N=Math.max(2,~~(aa*r));aa=new Float64Array(r);ea=new Float64Array(r);var kb=(new Float64Array(r)).fill(1);for(var sa=-1;2>=++sa;){var Ta=[0,N-1];for(let pa=0;pa<r;++pa){var Wa=va[pa],Ea=Ta[0],ua=Ta[1],V=0,W=0,ca=0,fa=0;let Ga=0;const na=1/
Math.abs(va[Wa-va[Ea]>va[ua]-Wa?Ea:ua]-Wa||1);for(;Ea<=ua;++Ea){const Za=va[Ea],Aa=ta[Ea];var qa=Math.abs(Wa-Za)*na;const Fa=(qa=1-qa*qa*qa)*qa*qa*kb[Ea];qa=Za*Fa;V+=Fa;W+=qa;ca+=Aa*Fa;fa+=Aa*qa;Ga+=Za*qa}const [Oa,cb]=G(W/V,ca/V,fa/V,Ga/V);aa[pa]=Oa+cb*Wa;ea[pa]=Math.abs(ta[pa]-aa[pa]);Wa=va;ua=pa+1;V=Ta;W=Wa[ua];ca=V[0];fa=V[1]+1;if(!(fa>=Wa.length))for(;ua>ca&&Wa[fa]-W<=W-Wa[ca];)V[0]=++ca,V[1]=fa,++fa}if(2===sa)break;Ta=m.median(ea);if(1E-12>Math.abs(Ta))break;for(let pa=0,Ga,na;pa<r;++pa)Ga=
ea[pa]/(6*Ta),kb[pa]=1<=Ga?1E-12:(na=1-Ga*Ga)*na}r=va.length;N=[];kb=ea=0;for(sa=[];ea<r;++ea)Ta=va[ea]+Da,sa[0]===Ta?sa[1]+=(aa[ea]-sa[1])/++kb:(kb=0,sa[1]+=$a,sa=[Ta,aa[ea]],N.push(sa));sa[1]+=$a;return aa=N};g.regressionLog=function(r,N,ea){let aa=0,va=0,ta=0,Da=0,$a=0;J(r,N,ea,(Ta,Wa)=>{++$a;Ta=Math.log(Ta);aa+=(Ta-aa)/$a;va+=(Wa-va)/$a;ta+=(Ta*Wa-ta)/$a;Da+=(Ta*Ta-Da)/$a});const kb=G(aa,va,ta,Da),sa=Ta=>kb[0]+kb[1]*Math.log(Ta);return{coef:kb,predict:sa,rSquared:K(r,N,ea,va,sa)}};g.regressionPoly=
function(r,N,ea,aa){if(1===aa)return R(r,N,ea);if(2===aa)return U(r,N,ea);const [va,ta,Da,$a]=z(r,N,ea);var kb=va.length;const sa=[],Ta=[],Wa=aa+1;let Ea,ua,V,W;for(Ea=0;Ea<Wa;++Ea){for(V=ua=0;ua<kb;++ua)V+=Math.pow(va[ua],Ea)*ta[ua];sa.push(V);W=new Float64Array(Wa);for(aa=0;aa<Wa;++aa){for(V=ua=0;ua<kb;++ua)V+=Math.pow(va[ua],Ea+aa);W[aa]=V}Ta.push(W)}Ta.push(sa);const ca=ba(Ta);kb=fa=>{fa-=Da;let qa=$a+ca[0]+ca[1]*fa+ca[2]*fa*fa;for(Ea=3;Ea<Wa;++Ea)qa+=ca[Ea]*Math.pow(fa,Ea);return qa};return{coef:ka(Wa,
ca,-Da,$a),predict:kb,rSquared:K(r,N,ea,$a,kb)}};g.regressionPow=function(r,N,ea){let aa=0,va=0,ta=0,Da=0,$a=0,kb=0;J(r,N,ea,(Wa,Ea)=>{Wa=Math.log(Wa);const ua=Math.log(Ea);++kb;aa+=(Wa-aa)/kb;va+=(ua-va)/kb;ta+=(Wa*ua-ta)/kb;Da+=(Wa*Wa-Da)/kb;$a+=(Ea-$a)/kb});const sa=G(aa,va,ta,Da),Ta=Wa=>sa[0]*Math.pow(Wa,sa[1]);sa[0]=Math.exp(sa[0]);return{coef:sa,predict:Ta,rSquared:K(r,N,ea,$a,Ta)}};g.regressionQuad=U;g.sampleCurve=function(r,N,ea,aa){ea=ea||25;aa=Math.max(ea,aa||200);var va=Ta=>[Ta,r(Ta)],
ta=N[0];const Da=N[1],$a=Da-ta;var kb=$a/aa;N=[[ta,r(ta)]];const sa=[];if(ea===aa){for(kb=1;kb<aa;++kb)N.push(va(ta+kb/ea*$a));N.push([Da,r(Da)]);return N}sa.push([Da,r(Da)]);for(aa=ea;0<--aa;)sa.push(va(ta+aa/ea*$a));ea=N[0];for(va=sa[sa.length-1];va;)ta=(ea[0]+va[0])/2,ta=[ta,r(ta)],ta[0]-ea[0]>=kb&&Math.abs(Math.atan2(va[1]-ea[1],va[0]-ea[0])-Math.atan2(ta[1]-ea[1],ta[0]-ea[0]))>Q?sa.push(ta):(ea=va,N.push(va),sa.pop()),va=sa[sa.length-1];return N};g.sampleLogNormal=a;g.sampleNormal=q;g.sampleUniform=
C;g.setRandom=function(r){g.random=r};Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[28]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E,B(14),B(26),B(27),B(15),B(18)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-statistics d3-array vega-time".split(" "),m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.vega={},g.vega,g.vega,g.vega,g.d3,g.vega))})(this,function(g,m,n,F,O,x){function y(Ja){return eb=>{const xb=Ja.length;let Jb=1,ac=String(Ja[0](eb));for(;Jb<xb;++Jb)ac+="|"+Ja[Jb](eb);
return ac}}function q(Ja){return Ja&&Ja.length?1===Ja.length?Ja[0]:y(Ja):function(){return""}}function l(Ja,eb){return xb=>m.extend({name:Ja,out:xb||Ja},Sc,eb)}function h(Ja,eb){return Ja.idx-eb.idx}function c(Ja){const eb={};Ja.forEach(Jb=>eb[Jb.name]=Jb);const xb=Jb=>{Jb.req&&Jb.req.forEach(ac=>{eb[ac]||xb(eb[ac]=Yd[ac]())})};Ja.forEach(xb);return Object.values(eb).sort(h)}function e(){this.missing=this.valid=0;this._ops.forEach(Ja=>Ja.init(this))}function a(Ja,eb){null==Ja||""===Ja?++this.missing:
Ja===Ja&&(++this.valid,this._ops.forEach(xb=>xb.add(this,Ja,eb)))}function f(Ja,eb){null==Ja||""===Ja?--this.missing:Ja===Ja&&(--this.valid,this._ops.forEach(xb=>xb.rem(this,Ja,eb)))}function p(Ja){this._out.forEach(eb=>Ja[eb.out]=eb.value(this));return Ja}function A(Ja,eb){function xb(jc){this._ops=Jb;this._out=ac;this.cell=jc;this.init()}eb=eb||m.identity;const Jb=c(Ja),ac=Ja.slice().sort(h);xb.prototype.init=e;xb.prototype.add=a;xb.prototype.rem=f;xb.prototype.set=p;xb.prototype.get=eb;xb.fields=
Ja.map(jc=>jc.out);return xb}function C(Ja){this._key=Ja?m.field(Ja):n.tupleid;this.reset()}function D(Ja){n.Transform.call(this,null,Ja);this._adds=[];this._mods=[];this._mlen=this._alen=0;this._drop=!0;this._cross=!1;this._dims=[];this._dnames=[];this._measures=[];this._countOnly=!1;this._outputs=this._inputs=this._prev=this._counts=null}function P(Ja){n.Transform.call(this,null,Ja)}function L(Ja,eb,xb){let Jb=eb||[],ac=xb||[],jc={},Ec=0;return{add:sc=>ac.push(sc),remove:sc=>jc[Ja(sc)]=++Ec,size:()=>
Jb.length,data:(sc,ob)=>{Ec&&(Jb=Jb.filter(Db=>!jc[Ja(Db)]),jc={},Ec=0);ob&&sc&&Jb.sort(sc);ac.length&&(Jb=sc?m.merge(sc,Jb,ac.sort(sc)):Jb.concat(ac),ac=[]);return Jb}}}function G(Ja){n.Transform.call(this,[],Ja)}function z(Ja){n.Operator.call(this,null,J,Ja)}function J(Ja){return this.value&&!Ja.modified()?this.value:m.compare(Ja.fields,Ja.orders)}function K(Ja){n.Transform.call(this,null,Ja)}function R(Ja){n.Transform.call(this,null,Ja)}function U(Ja,eb){var xb=Ja["function"];m.hasOwnProperty(gc,
xb)||m.error("Unknown distribution function: "+xb);xb=gc[xb]();for(const Jb in Ja)if("field"===Jb)xb.data((Ja.from||eb()).map(Ja[Jb]));else if("distributions"===Jb)xb[Jb](Ja[Jb].map(ac=>U(ac,eb)));else if("function"===typeof xb[Jb])xb[Jb](Ja[Jb]);return xb}function ka(Ja){n.Transform.call(this,null,Ja)}function ba(Ja){return()=>Ja.materialize(Ja.SOURCE).source}function da(Ja,eb){return Ja?Ja.map((xb,Jb)=>eb[Jb]||m.accessorName(xb)):null}function ja(Ja,eb,xb){const Jb=[],ac=mc=>mc(ob);let jc,Ec,sc,
ob,Db,Vb;if(null==eb)Jb.push(Ja.map(xb));else for(jc={},Ec=0,sc=Ja.length;Ec<sc;++Ec)ob=Ja[Ec],Db=eb.map(ac),Vb=jc[Db],Vb||(jc[Db]=Vb=[],Vb.dims=Db,Jb.push(Vb)),Vb.push(xb(ob));return Jb}function Z(Ja){n.Transform.call(this,null,Ja)}function Q(Ja){n.Operator.call(this,null,r,Ja);this.modified(!0)}function r(Ja){const eb=Ja.expr;return this.value&&!Ja.modified("expr")?this.value:m.accessor(xb=>eb(xb,Ja),m.accessorFields(eb),m.accessorName(eb))}function N(Ja){n.Transform.call(this,[void 0,void 0],Ja)}
function ea(Ja,eb){n.Operator.call(this,Ja);this.parent=eb;this.count=0}function aa(Ja){n.Transform.call(this,{},Ja);this._keys=m.fastmap();const eb=this._targets=[];eb.active=0;eb.forEach=xb=>{for(let Jb=0,ac=eb.active;Jb<ac;++Jb)xb(eb[Jb],Jb,eb)}}function va(Ja){n.Operator.call(this,null,ta,Ja)}function ta(Ja){return this.value&&!Ja.modified()?this.value:m.isArray(Ja.name)?m.array(Ja.name).map(eb=>m.field(eb)):m.field(Ja.name,Ja.as)}function Da(Ja){n.Transform.call(this,m.fastmap(),Ja)}function $a(Ja){n.Transform.call(this,
[],Ja)}function kb(Ja){n.Transform.call(this,[],Ja)}function sa(Ja){n.Transform.call(this,null,Ja)}function Ta(Ja){n.Transform.call(this,[],Ja)}function Wa(Ja){n.Transform.call(this,[],Ja)}function Ea(Ja){var eb=Ja.method||Ib.value;if(null==Ib[eb])m.error("Unrecognized imputation method: "+eb);else{if(eb===Ib.value){var xb=void 0!==Ja.value?Ja.value:0;return()=>xb}return Ib[eb]}}function ua(Ja){const eb=Ja.field;return xb=>xb?eb(xb):NaN}function V(Ja,eb,xb,Jb){var ac=Fb=>Fb(mc),jc=[];Jb=Jb?Jb.slice():
[];var Ec={},sc={},ob,Db;Jb.forEach((Fb,Ic)=>Ec[Fb]=Ic+1);var Vb=0;for(Db=Ja.length;Vb<Db;++Vb){var mc=Ja[Vb];var Dc=xb(mc);var Fc=Ec[Dc]||(Ec[Dc]=Jb.push(Dc));var Xc=(Dc=eb?eb.map(ac):Cc)+"";(ob=sc[Xc])||(ob=sc[Xc]=[],jc.push(ob),ob.values=Dc);ob[Fc-1]=mc}jc.domain=Jb;return jc}function W(Ja){D.call(this,Ja)}function ca(Ja){n.Transform.call(this,null,Ja)}function fa(Ja){n.Operator.call(this,null,qa,Ja)}function qa(Ja){return this.value&&!Ja.modified()?this.value:m.key(Ja.fields,Ja.flat)}function pa(Ja){n.Transform.call(this,
[],Ja);this._pending=null}function Ga(Ja){return Ja.modified("async")&&!(Ja.modified("values")||Ja.modified("url")||Ja.modified("format"))}function na(Ja,eb,xb){xb.forEach(n.ingest);eb=eb.fork(eb.NO_FIELDS&eb.NO_SOURCE);eb.rem=Ja.value;Ja.value=eb.source=eb.add=xb;Ja._pending=null;eb.rem.length&&eb.clean(!0);return eb}function Oa(Ja){n.Transform.call(this,{},Ja)}function cb(Ja){n.Operator.call(this,null,Za,Ja)}function Za(Ja){if(this.value&&!Ja.modified())return this.value;Ja=Ja.extents;const eb=
Ja.length;let xb=Infinity,Jb=-Infinity,ac,jc;for(ac=0;ac<eb;++ac)jc=Ja[ac],jc[0]<xb&&(xb=jc[0]),jc[1]>Jb&&(Jb=jc[1]);return[xb,Jb]}function Aa(Ja){n.Operator.call(this,null,Fa,Ja)}function Fa(Ja){return this.value&&!Ja.modified()?this.value:Ja.values.reduce((eb,xb)=>eb.concat(xb),[])}function Ra(Ja){n.Transform.call(this,null,Ja)}function ab(Ja){D.call(this,Ja)}function lb(Ja,eb){const xb=Ja.field,Jb=Ja.value,ac=("count"===Ja.op?"__count__":Ja.op)||"sum",jc=m.accessorFields(xb).concat(m.accessorFields(Jb)),
Ec=nb(xb,Ja.limit||0,eb);eb.changed()&&Ja.set("__pivot__",null,null,!0);return{key:Ja.key,groupby:Ja.groupby,ops:Ec.map(()=>ac),fields:Ec.map(sc=>Ma(sc,xb,Jb,jc)),as:Ec.map(sc=>sc+""),modified:Ja.modified.bind(Ja)}}function Ma(Ja,eb,xb,Jb){return m.accessor(ac=>eb(ac)===Ja?xb(ac):NaN,Jb,Ja+"")}function nb(Ja,eb,xb){const Jb={},ac=[];xb.visit(xb.SOURCE,jc=>{jc=Ja(jc);Jb[jc]||(Jb[jc]=1,ac.push(jc))});ac.sort(m.ascending);return eb?ac.slice(0,eb):ac}function zb(Ja){aa.call(this,Ja)}function Sb(Ja){n.Transform.call(this,
null,Ja)}function vc(Ja){n.Transform.call(this,null,Ja)}function lc(Ja){n.Transform.call(this,null,Ja)}function kc(Ja){n.Transform.call(this,null,Ja)}function jb(Ja){n.Transform.call(this,[],Ja);this.count=0}function $b(Ja){n.Transform.call(this,null,Ja)}function yc(Ja){n.Transform.call(this,null,Ja);this.modified(!0)}function nc(Ja){n.Transform.call(this,null,Ja)}function zc(Ja){n.Transform.call(this,m.fastmap(),Ja)}function qc(Ja){n.Transform.call(this,null,Ja)}function Vc(Ja,eb,xb,Jb){const ac=
Gd[Ja](eb,xb);return{init:ac.init||m.zero,update:function(jc,Ec){Ec[Jb]=ac.next(jc)}}}function Uc(Ja){function eb(Fc){m.array(m.accessorFields(Fc)).forEach(Xc=>ob[Xc]=1)}const xb=m.array(Ja.ops),Jb=m.array(Ja.fields),ac=m.array(Ja.params),jc=m.array(Ja.as),Ec=this.outputs=[],sc=this.windows=[],ob={},Db={},Vb=[],mc=[];let Dc=!0;eb(Ja.sort);xb.forEach((Fc,Xc)=>{const Fb=Jb[Xc],Ic=m.accessorName(Fb),fd=jc[Xc]||Fc+(Ic?"_"+Ic:"");eb(Fb);Ec.push(fd);m.hasOwnProperty(Gd,Fc)?sc.push(Vc(Fc,Jb[Xc],ac[Xc],fd)):
(null==Fb&&"count"!==Fc&&m.error("Null aggregate field specified."),"count"===Fc?Vb.push(fd):(Dc=!1,Xc=Db[Ic],Xc||(Xc=Db[Ic]=[],Xc.field=Fb,mc.push(Xc)),Xc.push(Yd[Fc](fd))))});if(Vb.length||mc.length)this.cell=Lc(mc,Vb,Dc);this.inputs=Object.keys(ob)}function Lc(Ja,eb,xb){Ja=Ja.map(ob=>A(ob,ob.field));const Jb={num:0,agg:null,store:!1,count:eb};if(!xb)for(var ac=Ja.length,jc=Jb.agg=Array(ac),Ec=0;Ec<ac;++Ec)jc[Ec]=new Ja[Ec](Jb);if(Jb.store)var sc=Jb.data=new C;Jb.add=function(ob){Jb.num+=1;if(!xb){sc&&
sc.add(ob);for(let Db=0;Db<ac;++Db)jc[Db].add(jc[Db].get(ob),ob)}};Jb.rem=function(ob){--Jb.num;if(!xb){sc&&sc.rem(ob);for(let Db=0;Db<ac;++Db)jc[Db].rem(jc[Db].get(ob),ob)}};Jb.set=function(ob){let Db,Vb;sc&&sc.values();Db=0;for(Vb=eb.length;Db<Vb;++Db)ob[eb[Db]]=Jb.num;if(!xb)for(Db=0,Vb=jc.length;Db<Vb;++Db)jc[Db].set(ob)};Jb.init=function(){Jb.num=0;sc&&sc.reset();for(let ob=0;ob<ac;++ob)jc[ob].init()};return Jb}function Fd(Ja){n.Transform.call(this,{},Ja);this._mlen=0;this._mods=[]}function fe(Ja,
eb,xb,Jb){var ac=Jb.sort;const jc=ac&&!Jb.ignorePeers;Jb=Jb.frame||[null,0];Ja=Ja.data(xb);xb=Ja.length;const Ec=jc?O.bisector(ac):null;ac={i0:0,i1:0,p0:0,p1:0,index:0,data:Ja,compare:ac||m.constant(-1)};eb.init();for(let mc=0;mc<xb;++mc){var sc=ac,ob=Jb,Db=mc,Vb=xb;sc.p0=sc.i0;sc.p1=sc.i1;sc.i0=null==ob[0]?0:Math.max(0,Db-Math.abs(ob[0]));sc.i1=null==ob[1]?Vb:Math.min(Vb,Db+Math.abs(ob[1])+1);sc.index=Db;if(jc){{sc=ac;ob=Ec;Db=sc.i0;Vb=sc.i1-1;const Dc=sc.compare,Fc=sc.data,Xc=Fc.length-1;0<Db&&
!Dc(Fc[Db],Fc[Db-1])&&(sc.i0=ob.left(Fc,Fc[Db]));Vb<Xc&&!Dc(Fc[Vb],Fc[Vb+1])&&(sc.i1=ob.right(Fc,Fc[Vb]))}}eb.update(ac,Ja[mc])}}var vd=()=>{};const Sc={init:vd,add:vd,rem:vd,idx:0},Yd={values:{init:Ja=>Ja.cell.store=!0,value:Ja=>Ja.cell.data.values(),idx:-1},count:{value:Ja=>Ja.cell.num},__count__:{value:Ja=>Ja.missing+Ja.valid},missing:{value:Ja=>Ja.missing},valid:{value:Ja=>Ja.valid},sum:{init:Ja=>Ja.sum=0,value:Ja=>Ja.sum,add:(Ja,eb)=>Ja.sum+=+eb,rem:(Ja,eb)=>Ja.sum-=eb},product:{init:Ja=>Ja.product=
1,value:Ja=>Ja.valid?Ja.product:void 0,add:(Ja,eb)=>Ja.product*=eb,rem:(Ja,eb)=>Ja.product/=eb},mean:{init:Ja=>Ja.mean=0,value:Ja=>Ja.valid?Ja.mean:void 0,add:(Ja,eb)=>(Ja.mean_d=eb-Ja.mean,Ja.mean+=Ja.mean_d/Ja.valid),rem:(Ja,eb)=>(Ja.mean_d=eb-Ja.mean,Ja.mean-=Ja.valid?Ja.mean_d/Ja.valid:Ja.mean)},average:{value:Ja=>Ja.valid?Ja.mean:void 0,req:["mean"],idx:1},variance:{init:Ja=>Ja.dev=0,value:Ja=>1<Ja.valid?Ja.dev/(Ja.valid-1):void 0,add:(Ja,eb)=>Ja.dev+=Ja.mean_d*(eb-Ja.mean),rem:(Ja,eb)=>Ja.dev-=
Ja.mean_d*(eb-Ja.mean),req:["mean"],idx:1},variancep:{value:Ja=>1<Ja.valid?Ja.dev/Ja.valid:void 0,req:["variance"],idx:2},stdev:{value:Ja=>1<Ja.valid?Math.sqrt(Ja.dev/(Ja.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:Ja=>1<Ja.valid?Math.sqrt(Ja.dev/Ja.valid):void 0,req:["variance"],idx:2},stderr:{value:Ja=>1<Ja.valid?Math.sqrt(Ja.dev/(Ja.valid*(Ja.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:Ja=>Ja.cell.data.distinct(Ja.get),req:["values"],idx:3},ci0:{value:Ja=>Ja.cell.data.ci0(Ja.get),
req:["values"],idx:3},ci1:{value:Ja=>Ja.cell.data.ci1(Ja.get),req:["values"],idx:3},median:{value:Ja=>Ja.cell.data.q2(Ja.get),req:["values"],idx:3},q1:{value:Ja=>Ja.cell.data.q1(Ja.get),req:["values"],idx:3},q3:{value:Ja=>Ja.cell.data.q3(Ja.get),req:["values"],idx:3},min:{init:Ja=>Ja.min=void 0,value:Ja=>Ja.min=Number.isNaN(Ja.min)?Ja.cell.data.min(Ja.get):Ja.min,add:(Ja,eb)=>{if(eb<Ja.min||void 0===Ja.min)Ja.min=eb},rem:(Ja,eb)=>{eb<=Ja.min&&(Ja.min=NaN)},req:["values"],idx:4},max:{init:Ja=>Ja.max=
void 0,value:Ja=>Ja.max=Number.isNaN(Ja.max)?Ja.cell.data.max(Ja.get):Ja.max,add:(Ja,eb)=>{if(eb>Ja.max||void 0===Ja.max)Ja.max=eb},rem:(Ja,eb)=>{eb>=Ja.max&&(Ja.max=NaN)},req:["values"],idx:4},argmin:{init:Ja=>Ja.argmin=void 0,value:Ja=>Ja.argmin||Ja.cell.data.argmin(Ja.get),add:(Ja,eb,xb)=>{eb<Ja.min&&(Ja.argmin=xb)},rem:(Ja,eb)=>{eb<=Ja.min&&(Ja.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:Ja=>Ja.argmax=void 0,value:Ja=>Ja.argmax||Ja.cell.data.argmax(Ja.get),add:(Ja,eb,xb)=>{eb>Ja.max&&
(Ja.argmax=xb)},rem:(Ja,eb)=>{eb>=Ja.max&&(Ja.argmax=void 0)},req:["max","values"],idx:3}};vd=Object.keys(Yd);vd.forEach(Ja=>{Yd[Ja]=l(Ja,Yd[Ja])});var Qb=C.prototype;Qb.reset=function(){this._add=[];this._rem=[];this._q=this._get=this._ext=null};Qb.add=function(Ja){this._add.push(Ja)};Qb.rem=function(Ja){this._rem.push(Ja)};Qb.values=function(){this._get=null;if(0===this._rem.length)return this._add;const Ja=this._add;var eb=this._rem;const xb=this._key,Jb=Ja.length,ac=eb.length,jc=Array(Jb-ac),
Ec={};let sc,ob;for(sc=0;sc<ac;++sc)Ec[xb(eb[sc])]=1;for(eb=sc=0;sc<Jb;++sc)Ec[xb(ob=Ja[sc])]?Ec[xb(ob)]=0:jc[eb++]=ob;this._rem=[];return this._add=jc};Qb.distinct=function(Ja){const eb=this.values(),xb={};let Jb=eb.length,ac=0,jc;for(;0<=--Jb;)jc=Ja(eb[Jb])+"",m.hasOwnProperty(xb,jc)||(xb[jc]=1,++ac);return ac};Qb.extent=function(Ja){if(this._get!==Ja||!this._ext){const eb=this.values(),xb=m.extentIndex(eb,Ja);this._ext=[eb[xb[0]],eb[xb[1]]];this._get=Ja}return this._ext};Qb.argmin=function(Ja){return this.extent(Ja)[0]||
{}};Qb.argmax=function(Ja){return this.extent(Ja)[1]||{}};Qb.min=function(Ja){const eb=this.extent(Ja)[0];return null!=eb?Ja(eb):void 0};Qb.max=function(Ja){const eb=this.extent(Ja)[1];return null!=eb?Ja(eb):void 0};Qb.quartile=function(Ja){this._get===Ja&&this._q||(this._q=F.quartiles(this.values(),Ja),this._get=Ja);return this._q};Qb.q1=function(Ja){return this.quartile(Ja)[0]};Qb.q2=function(Ja){return this.quartile(Ja)[1]};Qb.q3=function(Ja){return this.quartile(Ja)[2]};Qb.ci=function(Ja){this._get===
Ja&&this._ci||(this._ci=F.bootstrapCI(this.values(),1E3,.05,Ja),this._get=Ja);return this._ci};Qb.ci0=function(Ja){return this.ci(Ja)[0]};Qb.ci1=function(Ja){return this.ci(Ja)[1]};D.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:vd},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"drop",type:"boolean","default":!0},{name:"cross",type:"boolean",
"default":!1},{name:"key",type:"field"}]};m.inherits(D,n.Transform,{transform(Ja,eb){const xb=this,Jb=eb.fork(eb.NO_SOURCE|eb.NO_FIELDS),ac=Ja.modified();xb.stamp=Jb.stamp;xb.value&&(ac||eb.modified(xb._inputs,!0))?(xb._prev=xb.value,xb.value=ac?xb.init(Ja):{},eb.visit(eb.SOURCE,jc=>xb.add(jc))):(xb.value=xb.value||xb.init(Ja),eb.visit(eb.REM,jc=>xb.rem(jc)),eb.visit(eb.ADD,jc=>xb.add(jc)));Jb.modifies(xb._outputs);xb._drop=!1!==Ja.drop;Ja.cross&&1<xb._dims.length&&(xb._drop=!1,xb.cross());eb.clean()&&
xb._drop&&Jb.clean(!0).runAfter(()=>this.clean());return xb.changes(Jb)},cross(){function Ja(sc){let ob,Db,Vb,mc;for(ob in sc)for(Vb=sc[ob].tuple,Db=0;Db<Ec;++Db)jc[Db][mc=Vb[ac[Db]]]=mc}function eb(sc,ob,Db){const Vb=ac[Db],mc=jc[Db++];for(const Dc in mc){const Fc=sc?sc+"|"+Dc:Dc;ob[Vb]=mc[Dc];Db<Ec?eb(Fc,ob,Db):Jb[Fc]||xb.cell(Fc,ob)}}const xb=this,Jb=xb.value,ac=xb._dnames,jc=ac.map(()=>({})),Ec=ac.length;Ja(xb._prev);Ja(Jb);eb("",{},0)},init(Ja){function eb(Fb){Fb=m.array(m.accessorFields(Fb));
const Ic=Fb.length;let fd=0,wc;for(;fd<Ic;++fd)ac[wc=Fb[fd]]||(ac[wc]=1,xb.push(wc))}const xb=this._inputs=[],Jb=this._outputs=[],ac={};this._dims=m.array(Ja.groupby);this._dnames=this._dims.map(Fb=>{const Ic=m.accessorName(Fb);eb(Fb);Jb.push(Ic);return Ic});this.cellkey=Ja.key?Ja.key:q(this._dims);this._countOnly=!0;this._counts=[];this._measures=[];const jc=Ja.fields||[null],Ec=Ja.ops||["count"];Ja=Ja.as||[];const sc=jc.length,ob={};let Db,Vb,mc,Dc,Fc,Xc;sc!==Ec.length&&m.error("Unmatched number of fields and aggregate ops.");
for(Xc=0;Xc<sc;++Xc)Db=jc[Xc],Vb=Ec[Xc],null==Db&&"count"!==Vb&&m.error("Null aggregate field specified."),Dc=m.accessorName(Db),Fc=Ja[Xc]||Vb+(Dc?"_"+Dc:""),Jb.push(Fc),"count"===Vb?this._counts.push(Fc):(mc=ob[Dc],mc||(eb(Db),mc=ob[Dc]=[],mc.field=Db,this._measures.push(mc)),"count"!==Vb&&(this._countOnly=!1),mc.push(Yd[Vb](Fc)));this._measures=this._measures.map(Fb=>A(Fb,Fb.field));return{}},cellkey:q(),cell(Ja,eb){let xb=this.value[Ja];xb?0===xb.num&&this._drop&&xb.stamp<this.stamp?(xb.stamp=
this.stamp,this._adds[this._alen++]=xb):xb.stamp<this.stamp&&(xb.stamp=this.stamp,this._mods[this._mlen++]=xb):(xb=this.value[Ja]=this.newcell(Ja,eb),this._adds[this._alen++]=xb);return xb},newcell(Ja,eb){Ja={key:Ja,num:0,agg:null,tuple:this.newtuple(eb,this._prev&&this._prev[Ja]),stamp:this.stamp,store:!1};if(!this._countOnly){eb=this._measures;const xb=eb.length;Ja.agg=Array(xb);for(let Jb=0;Jb<xb;++Jb)Ja.agg[Jb]=new eb[Jb](Ja)}Ja.store&&(Ja.data=new C);return Ja},newtuple(Ja,eb){const xb=this._dnames,
Jb=this._dims,ac=Jb.length,jc={};for(let Ec=0;Ec<ac;++Ec)jc[xb[Ec]]=Jb[Ec](Ja);return eb?n.replace(eb.tuple,jc):n.ingest(jc)},clean(){const Ja=this.value;for(const eb in Ja)0===Ja[eb].num&&delete Ja[eb]},add(Ja){var eb=this.cellkey(Ja);eb=this.cell(eb,Ja);eb.num+=1;if(!this._countOnly){eb.store&&eb.data.add(Ja);eb=eb.agg;for(let xb=0,Jb=eb.length;xb<Jb;++xb)eb[xb].add(eb[xb].get(Ja),Ja)}},rem(Ja){var eb=this.cellkey(Ja);eb=this.cell(eb,Ja);--eb.num;if(!this._countOnly){eb.store&&eb.data.rem(Ja);eb=
eb.agg;for(let xb=0,Jb=eb.length;xb<Jb;++xb)eb[xb].rem(eb[xb].get(Ja),Ja)}},celltuple(Ja){const eb=Ja.tuple,xb=this._counts;Ja.store&&Ja.data.values();for(let Jb=0,ac=xb.length;Jb<ac;++Jb)eb[xb[Jb]]=Ja.num;if(!this._countOnly){Ja=Ja.agg;for(let Jb=0,ac=Ja.length;Jb<ac;++Jb)Ja[Jb].set(eb)}return eb},changes(Ja){const eb=this._adds,xb=this._mods;var Jb=this._prev;const ac=this._drop,jc=Ja.add,Ec=Ja.rem,sc=Ja.mod;let ob;var Db;if(Jb)for(Db in Jb)ob=Jb[Db],ac&&!ob.num||Ec.push(ob.tuple);Jb=0;for(Db=this._alen;Jb<
Db;++Jb)jc.push(this.celltuple(eb[Jb])),eb[Jb]=null;Jb=0;for(Db=this._mlen;Jb<Db;++Jb)ob=xb[Jb],(0===ob.num&&ac?Ec:sc).push(this.celltuple(ob)),xb[Jb]=null;this._alen=this._mlen=0;this._prev=null;return Ja}});P.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number","default":20},{name:"base",type:"number","default":10},{name:"divide",type:"number",array:!0,
"default":[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number","default":0},{name:"nice",type:"boolean","default":!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,"default":["bin0","bin1"]}]};m.inherits(P,n.Transform,{transform(Ja,eb){const xb=!1!==Ja.interval,Jb=this._bins(Ja),ac=Jb.start,jc=Jb.step,Ec=Ja.as||["bin0","bin1"],sc=Ec[0],
ob=Ec[1];Ja.modified()?(eb=eb.reflow(!0),Ja=eb.SOURCE):Ja=eb.modified(m.accessorFields(Ja.field))?eb.ADD_MOD:eb.ADD;eb.visit(Ja,xb?Db=>{const Vb=Jb(Db);Db[sc]=Vb;Db[ob]=null==Vb?null:ac+jc*(1+(Vb-ac)/jc)}:Db=>Db[sc]=Jb(Db));return eb.modifies(xb?Ec:sc)},_bins(Ja){if(this.value&&!Ja.modified())return this.value;const eb=Ja.field,xb=F.bin(Ja),Jb=xb.step;let ac=xb.start,jc=ac+Math.ceil((xb.stop-ac)/Jb)*Jb;var Ec;null!=(Ec=Ja.anchor)&&(Ec-=ac+Jb*Math.floor((Ec-ac)/Jb),ac+=Ec,jc+=Ec);Ec=function(sc){sc=
m.toNumber(eb(sc));return null==sc?null:sc<ac?-Infinity:sc>jc?Infinity:(sc=Math.max(ac,Math.min(sc,jc-Jb)),ac+Jb*Math.floor(1E-14+(sc-ac)/Jb))};Ec.start=ac;Ec.stop=xb.stop;Ec.step=Jb;return this.value=m.accessor(Ec,m.accessorFields(eb),Ja.name||"bin_"+m.accessorName(eb))}});G.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};m.inherits(G,n.Transform,{transform(Ja,eb){const xb=eb.fork(eb.ALL),Jb=L(n.tupleid,this.value,xb.materialize(xb.ADD).add),ac=Ja.sort;Ja=eb.changed()||
ac&&(Ja.modified("sort")||eb.modified(ac.fields));xb.visit(xb.REM,Jb.remove);this.modified(Ja);this.value=xb.source=Jb.data(n.stableCompare(ac),Ja);eb.source&&eb.source.root&&(this.value.root=eb.source.root);return xb}});m.inherits(z,n.Operator);K.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],"default":"mixed"},{name:"pattern",type:"string","default":'[\\w"]+'},{name:"stopwords",
type:"string","default":""},{name:"as",type:"string",array:!0,length:2,"default":["text","count"]}]};m.inherits(K,n.Transform,{transform(Ja,eb){var xb=Vb=>mc=>{mc=sc(mc);var Dc=jc;switch(Ja.case){case "upper":mc=mc.toUpperCase();break;case "lower":mc=mc.toLowerCase()}mc=mc.match(Dc)||[];var Fc;Dc=0;for(var Xc=mc.length;Dc<Xc;++Dc)Ec.test(Fc=mc[Dc])||Vb(Fc)};const Jb=this._parameterCheck(Ja,eb),ac=this._counts,jc=this._match,Ec=this._stop,sc=Ja.field,ob=Ja.as||["text","count"],Db=xb(Vb=>ac[Vb]=1+(ac[Vb]||
0));xb=xb(Vb=>--ac[Vb]);Jb?eb.visit(eb.SOURCE,Db):(eb.visit(eb.ADD,Db),eb.visit(eb.REM,xb));return this._finish(eb,ob)},_parameterCheck(Ja,eb){let xb=!1;if(Ja.modified("stopwords")||!this._stop)this._stop=new RegExp("^"+(Ja.stopwords||"")+"$","i"),xb=!0;if(Ja.modified("pattern")||!this._match)this._match=new RegExp(Ja.pattern||"[\\w']+","g"),xb=!0;if(Ja.modified("field")||eb.modified(Ja.field.fields))xb=!0;xb&&(this._counts={});return xb},_finish(Ja,eb){const xb=this._counts,Jb=this._tuples||(this._tuples=
{}),ac=eb[0],jc=eb[1];Ja=Ja.fork(Ja.NO_SOURCE|Ja.NO_FIELDS);let Ec,sc,ob;for(Ec in xb)sc=Jb[Ec],ob=xb[Ec]||0,!sc&&ob?(Jb[Ec]=sc=n.ingest({}),sc[ac]=Ec,sc[jc]=ob,Ja.add.push(sc)):0===ob?(sc&&Ja.rem.push(sc),xb[Ec]=null,Jb[Ec]=null):sc[jc]!==ob&&(sc[jc]=ob,Ja.mod.push(sc));return Ja.modifies(eb)}});R.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,"default":["a","b"]}]};m.inherits(R,n.Transform,{transform(Ja,eb){const xb=
eb.fork(eb.NO_SOURCE),Jb=Ja.as||["a","b"],ac=Jb[0],jc=Jb[1];var Ec=!this.value||eb.changed(eb.ADD_REM)||Ja.modified("as")||Ja.modified("filter"),sc=this.value;if(Ec){sc&&(xb.rem=sc);eb=sc=eb.materialize(eb.SOURCE).source;Ja=Ja.filter||m.truthy;Ec=[];sc={};for(var ob=eb.length,Db=0,Vb,mc;Db<ob;++Db)for(sc[ac]=mc=eb[Db],Vb=0;Vb<ob;++Vb)sc[jc]=eb[Vb],Ja(sc)&&(Ec.push(n.ingest(sc)),sc={},sc[ac]=mc);xb.add=this.value=Ec}else xb.mod=sc;xb.source=this.value;return xb.modifies(Jb)}});const gc={kde:F.randomKDE,
mixture:F.randomMixture,normal:F.randomNormal,lognormal:F.randomLogNormal,uniform:F.randomUniform};Qb=[{key:{"function":"normal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"lognormal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"uniform"},params:[{name:"min",type:"number","default":0},{name:"max",type:"number","default":1}]},{key:{"function":"kde"},params:[{name:"field",
type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number","default":0}]}];ka.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"method",type:"string","default":"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:Qb.concat({key:{"function":"mixture"},params:[{name:"distributions",
type:"param",array:!0,params:Qb},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,"default":["value","density"]}]};m.inherits(ka,n.Transform,{transform(Ja,eb){const xb=eb.fork(eb.NO_SOURCE|eb.NO_FIELDS);if(!this.value||eb.changed()||Ja.modified()){const Jb=U(Ja.distribution,ba(eb));eb=Ja.steps||Ja.minsteps||25;const ac=Ja.steps||Ja.maxsteps||200;let jc=Ja.method||"pdf";"pdf"!==jc&&"cdf"!==jc&&m.error("Invalid density method: "+jc);Ja.extent||Jb.data||m.error("Missing density extent parameter.");
jc=Jb[jc];const Ec=Ja.as||["value","density"];Ja=Ja.extent||m.extent(Jb.data());Ja=F.sampleCurve(jc,Ja,eb,ac).map(sc=>{const ob={};ob[Ec[0]]=sc[0];ob[Ec[1]]=sc[1];return n.ingest(ob)});this.value&&(xb.rem=this.value);this.value=xb.add=xb.source=Ja}return xb}});Z.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean","default":!1},{name:"as",type:"string","default":"bin"}]};
m.inherits(Z,n.Transform,{transform(Ja,eb){if(this.value&&!Ja.modified()&&!eb.changed())return eb;var xb=eb.materialize(eb.SOURCE).source;const Jb=ja(eb.source,Ja.groupby,m.identity),ac=Ja.smooth||!1,jc=Ja.field;xb=Ja.step||m.span(m.extent(xb,jc))/30;const Ec=n.stableCompare((Dc,Fc)=>jc(Dc)-jc(Fc));Ja=Ja.as||"bin";const sc=Jb.length;let ob=Infinity,Db=-Infinity,Vb=0,mc;for(;Vb<sc;++Vb){const Dc=Jb[Vb].sort(Ec);mc=-1;for(const Fc of F.dotbin(Dc,xb,ac,jc))Fc<ob&&(ob=Fc),Fc>Db&&(Db=Fc),Dc[++mc][Ja]=
Fc}this.value={start:ob,stop:Db,step:xb};return eb.reflow(!0).modifies(Ja)}});m.inherits(Q,n.Operator);N.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};m.inherits(N,n.Transform,{transform(Ja,eb){var xb=this.value;const Jb=Ja.field;Ja=eb.changed()||eb.modified(Jb.fields)||Ja.modified("field");let ac=xb[0],jc=xb[1];if(Ja||null==ac)ac=Infinity,jc=-Infinity;eb.visit(Ja?eb.SOURCE:eb.ADD,Ec=>{Ec=m.toNumber(Jb(Ec));null!=Ec&&(Ec<ac&&(ac=Ec),Ec>jc&&(jc=Ec))});Number.isFinite(ac)&&
Number.isFinite(jc)||((xb=m.accessorName(Jb))&&(xb=` for field "${xb}"`),eb.dataflow.warn(`Infinite extent${xb}: [${ac}, ${jc}]`),ac=jc=void 0);this.value=[ac,jc]}});m.inherits(ea,n.Operator,{connect(Ja){this.detachSubflow=Ja.detachSubflow;this.targets().add(Ja);return Ja.source=this},add(Ja){this.count+=1;this.value.add.push(Ja)},rem(Ja){--this.count;this.value.rem.push(Ja)},mod(Ja){this.value.mod.push(Ja)},init(Ja){this.value.init(Ja,Ja.NO_SOURCE)},evaluate(){return this.value}});m.inherits(aa,
n.Transform,{activate(Ja){this._targets[this._targets.active++]=Ja},subflow(Ja,eb,xb,Jb){const ac=this.value;let jc=m.hasOwnProperty(ac,Ja)&&ac[Ja],Ec;jc?jc.value.stamp<xb.stamp&&(jc.init(xb),this.activate(jc)):(Ec=Jb||(Ec=this._group[Ja])&&Ec.tuple,Jb=xb.dataflow,jc=new ea(xb.fork(xb.NO_SOURCE),this),Jb.add(jc).connect(eb(Jb,Ja,Ec)),ac[Ja]=jc,this.activate(jc));return jc},clean(){const Ja=this.value;for(const eb in Ja)if(0===Ja[eb].count){const xb=Ja[eb].detachSubflow;xb&&xb();delete Ja[eb]}},initTargets(){const Ja=
this._targets,eb=Ja.length;for(let xb=0;xb<eb&&null!=Ja[xb];++xb)Ja[xb]=null;Ja.active=0},transform(Ja,eb){const xb=eb.dataflow,Jb=Ja.key,ac=Ja.subflow,jc=this._keys,Ec=Ja.modified("key"),sc=ob=>this.subflow(ob,ac,eb);this._group=Ja.group||{};this.initTargets();eb.visit(eb.REM,ob=>{const Db=n.tupleid(ob),Vb=jc.get(Db);void 0!==Vb&&(jc.delete(Db),sc(Vb).rem(ob))});eb.visit(eb.ADD,ob=>{const Db=Jb(ob);jc.set(n.tupleid(ob),Db);sc(Db).add(ob)});Ec||eb.modified(Jb.fields)?eb.visit(eb.MOD,ob=>{const Db=
n.tupleid(ob),Vb=jc.get(Db),mc=Jb(ob);Vb===mc?sc(mc).mod(ob):(jc.set(Db,mc),sc(Vb).rem(ob),sc(mc).add(ob))}):eb.changed(eb.MOD)&&eb.visit(eb.MOD,ob=>{sc(jc.get(n.tupleid(ob))).mod(ob)});Ec&&eb.visit(eb.REFLOW,ob=>{const Db=n.tupleid(ob),Vb=jc.get(Db),mc=Jb(ob);Vb!==mc&&(jc.set(Db,mc),sc(Vb).rem(ob),sc(mc).add(ob))});eb.clean()?xb.runAfter(()=>{this.clean();jc.clean()}):jc.empty>xb.cleanThreshold&&xb.runAfter(jc.clean);return eb}});m.inherits(va,n.Operator);Da.Definition={type:"Filter",metadata:{changes:!0},
params:[{name:"expr",type:"expr",required:!0}]};m.inherits(Da,n.Transform,{transform(Ja,eb){function xb(mc){const Dc=n.tupleid(mc),Fc=Db(mc,Ja),Xc=ac.get(Dc);Fc&&Xc?(ac.delete(Dc),Ec.push(mc)):Fc||Xc?Vb&&Fc&&!Xc&&ob.push(mc):(ac.set(Dc,1),sc.push(mc))}const Jb=eb.dataflow,ac=this.value,jc=eb.fork(),Ec=jc.add,sc=jc.rem,ob=jc.mod,Db=Ja.expr;let Vb=!0;eb.visit(eb.REM,mc=>{const Dc=n.tupleid(mc);ac.has(Dc)?ac.delete(Dc):sc.push(mc)});eb.visit(eb.ADD,mc=>{Db(mc,Ja)?Ec.push(mc):ac.set(n.tupleid(mc),1)});
eb.visit(eb.MOD,xb);Ja.modified()&&(Vb=!1,eb.visit(eb.REFLOW,xb));ac.empty>Jb.cleanThreshold&&Jb.runAfter(ac.clean);return jc}});$a.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};m.inherits($a,n.Transform,{transform(Ja,eb){const xb=eb.fork(eb.NO_SOURCE),Jb=Ja.fields,ac=da(Jb,Ja.as||[]),jc=Ja.index||null,Ec=ac.length;xb.rem=this.value;eb.visit(eb.SOURCE,sc=>{const ob=Jb.map(Xc=>
Xc(sc)),Db=ob.reduce((Xc,Fb)=>Math.max(Xc,Fb.length),0);let Vb=0,mc,Dc,Fc;for(;Vb<Db;++Vb){Dc=n.derive(sc);for(mc=0;mc<Ec;++mc)Dc[ac[mc]]=null==(Fc=ob[mc][Vb])?null:Fc;jc&&(Dc[jc]=Vb);xb.add.push(Dc)}});this.value=xb.source=xb.add;jc&&xb.modifies(jc);return xb.modifies(ac)}});kb.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,"default":["key","value"]}]};m.inherits(kb,n.Transform,{transform(Ja,eb){const xb=
eb.fork(eb.NO_SOURCE),Jb=Ja.fields,ac=Jb.map(m.accessorName);Ja=Ja.as||["key","value"];const jc=Ja[0],Ec=Ja[1],sc=Jb.length;xb.rem=this.value;eb.visit(eb.SOURCE,ob=>{for(let Db=0,Vb;Db<sc;++Db)Vb=n.derive(ob),Vb[jc]=ac[Db],Vb[Ec]=Jb[Db](ob),xb.add.push(Vb)});this.value=xb.source=xb.add;return xb.modifies(Ja)}});sa.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};m.inherits(sa,n.Transform,
{transform(Ja,eb){const xb=Ja.expr,Jb=Ja.as,ac=Ja.modified(),jc=Ja.initonly?eb.ADD:ac?eb.SOURCE:eb.modified(xb.fields)||eb.modified(Jb)?eb.ADD_MOD:eb.ADD;ac&&(eb=eb.materialize().reflow(!0));Ja.initonly||eb.modifies(Jb);return eb.visit(jc,Ec=>Ec[Jb]=xb(Ec,Ja))}});m.inherits(Ta,n.Transform,{transform(Ja,eb){eb=eb.fork(eb.ALL);const xb=Ja.generator;let Jb=this.value,ac=Ja.size-Jb.length,jc,Ec;if(0<ac){for(jc=[];0<=--ac;)jc.push(Ec=n.ingest(xb(Ja))),Jb.push(Ec);eb.add=eb.add.length?eb.materialize(eb.ADD).add.concat(jc):
jc}else Ja=Jb.slice(0,-ac),eb.rem=eb.rem.length?eb.materialize(eb.REM).rem.concat(Ja):Ja,Jb=Jb.slice(-ac);eb.source=this.value=Jb;return eb}});const Ib={value:"value",median:O.median,mean:O.mean,min:O.min,max:O.max},Cc=[];Wa.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum","default":"value",values:["value","mean","median",
"max","min"]},{name:"value","default":0}]};m.inherits(Wa,n.Transform,{transform(Ja,eb){var xb=eb.fork(eb.ALL),Jb=Ea(Ja),ac=ua(Ja),jc=m.accessorName(Ja.field),Ec=m.accessorName(Ja.key),sc=(Ja.groupby||[]).map(m.accessorName);Ja=V(eb.source,Ja.groupby,Ja.key,Ja.keyvals);eb=[];var ob=this.value,Db=Ja.domain.length,Vb,mc,Dc;var Fc=0;for(mc=Ja.length;Fc<mc;++Fc){var Xc=Ja[Fc];var Fb=Xc.values;var Ic=NaN;for(Vb=0;Vb<Db;++Vb)if(null==Xc[Vb]){var fd=Ja.domain[Vb];var wc={_impute:!0};var $c=0;for(Dc=Fb.length;$c<
Dc;++$c)wc[sc[$c]]=Fb[$c];wc[Ec]=fd;wc[jc]=Number.isNaN(Ic)?Ic=Jb(Xc,ac):Ic;eb.push(n.ingest(wc))}}eb.length&&(xb.add=xb.materialize(xb.ADD).add.concat(eb));ob.length&&(xb.rem=xb.materialize(xb.REM).rem.concat(ob));this.value=eb;return xb}});W.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"ops",type:"enum",array:!0,values:vd},{name:"as",type:"string","null":!0,array:!0},{name:"key",type:"field"}]};
m.inherits(W,D,{transform(Ja,eb){const xb=this,Jb=Ja.modified();let ac;xb.value&&(Jb||eb.modified(xb._inputs,!0))?(ac=xb.value=Jb?xb.init(Ja):{},eb.visit(eb.SOURCE,jc=>xb.add(jc))):(ac=xb.value=xb.value||this.init(Ja),eb.visit(eb.REM,jc=>xb.rem(jc)),eb.visit(eb.ADD,jc=>xb.add(jc)));xb.changes();eb.visit(eb.SOURCE,jc=>{m.extend(jc,ac[xb.cellkey(jc)].tuple)});return eb.reflow(Jb).modifies(this._outputs)},changes(){const Ja=this._adds,eb=this._mods;let xb,Jb;xb=0;for(Jb=this._alen;xb<Jb;++xb)this.celltuple(Ja[xb]),
Ja[xb]=null;xb=0;for(Jb=this._mlen;xb<Jb;++xb)this.celltuple(eb[xb]),eb[xb]=null;this._alen=this._mlen=0}});ca.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean","default":!1},{name:"counts",type:"boolean","default":!1},{name:"bandwidth",type:"number","default":0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},
{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"as",type:"string",array:!0,"default":["value","density"]}]};m.inherits(ca,n.Transform,{transform(Ja,eb){const xb=eb.fork(eb.NO_SOURCE|eb.NO_FIELDS);if(!this.value||eb.changed()||Ja.modified()){eb=eb.materialize(eb.SOURCE).source;const Jb=ja(eb,Ja.groupby,Ja.field),ac=(Ja.groupby||[]).map(m.accessorName),jc=Ja.bandwidth,Ec=Ja.cumulative?"cdf":"pdf",sc=Ja.as||["value","density"],
ob=[];let Db=Ja.extent,Vb=Ja.steps||Ja.minsteps||25,mc=Ja.steps||Ja.maxsteps||200;"pdf"!==Ec&&"cdf"!==Ec&&m.error("Invalid density method: "+Ec);"shared"===Ja.resolve&&(Db||(Db=m.extent(eb,Ja.field)),Vb=mc=Ja.steps||mc);Jb.forEach(Dc=>{const Fc=F.randomKDE(Dc,jc)[Ec],Xc=Ja.counts?Dc.length:1,Fb=Db||m.extent(Dc);F.sampleCurve(Fc,Fb,Vb,mc).forEach(Ic=>{const fd={};for(let wc=0;wc<ac.length;++wc)fd[ac[wc]]=Dc.dims[wc];fd[sc[0]]=Ic[0];fd[sc[1]]=Ic[1]*Xc;ob.push(n.ingest(fd))})});this.value&&(xb.rem=this.value);
this.value=xb.add=xb.source=ob}return xb}});m.inherits(fa,n.Operator);m.inherits(pa,n.Transform,{transform(Ja,eb){const xb=eb.dataflow;return this._pending?na(this,eb,this._pending):Ga(Ja)?eb.StopPropagation:Ja.values?na(this,eb,xb.parse(Ja.values,Ja.format)):Ja.async?{async:xb.request(Ja.url,Ja.format).then(Jb=>{this._pending=m.array(Jb.data);return ac=>ac.touch(this)})}:xb.request(Ja.url,Ja.format).then(Jb=>na(this,eb,m.array(Jb.data)))}});Oa.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",
type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default","default":null}]};m.inherits(Oa,n.Transform,{transform(Ja,eb){const xb=Ja.fields,Jb=Ja.index,ac=Ja.values,jc=null==Ja.default?null:Ja.default;var Ec=Ja.modified();const sc=xb.length;let ob=Ec?eb.SOURCE:eb.ADD,Db=eb,Vb=Ja.as,mc;ac?(mc=ac.length,1<sc&&!Vb&&m.error('Multi-field lookup requires explicit "as" parameter.'),
Vb&&Vb.length!==sc*mc&&m.error('The "as" parameter has too few output field names.'),Vb=Vb||ac.map(m.accessorName),Ja=function(Dc){for(var Fc=0,Xc=0,Fb,Ic;Fc<sc;++Fc)if(Ic=Jb.get(xb[Fc](Dc)),null==Ic)for(Fb=0;Fb<mc;++Fb,++Xc)Dc[Vb[Xc]]=jc;else for(Fb=0;Fb<mc;++Fb,++Xc)Dc[Vb[Xc]]=ac[Fb](Ic)}):(Vb||m.error("Missing output field names."),Ja=function(Dc){for(var Fc=0,Xc;Fc<sc;++Fc)Xc=Jb.get(xb[Fc](Dc)),Dc[Vb[Fc]]=null==Xc?jc:Xc});Ec?Db=eb.reflow(!0):(Ec=xb.some(Dc=>eb.modified(Dc.fields)),ob|=Ec?eb.MOD:
0);eb.visit(ob,Ja);return Db.modifies(Vb)}});m.inherits(cb,n.Operator);m.inherits(Aa,n.Operator);m.inherits(Ra,n.Transform,{transform(Ja,eb){this.modified(Ja.modified());this.value=Ja;return eb.fork(eb.NO_SOURCE|eb.NO_FIELDS)}});ab.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:vd,"default":"sum"},{name:"limit",type:"number","default":0},
{name:"key",type:"field"}]};m.inherits(ab,D,{_transform:D.prototype.transform,transform(Ja,eb){return this._transform(lb(Ja,eb),eb)}});m.inherits(zb,aa,{transform(Ja,eb){const xb=Ja.subflow,Jb=Ja.field,ac=jc=>this.subflow(n.tupleid(jc),xb,eb,jc);(Ja.modified("field")||Jb&&eb.modified(m.accessorFields(Jb)))&&m.error("PreFacet does not support field modification.");this.initTargets();Jb?(eb.visit(eb.MOD,jc=>{const Ec=ac(jc);Jb(jc).forEach(sc=>Ec.mod(sc))}),eb.visit(eb.ADD,jc=>{const Ec=ac(jc);Jb(jc).forEach(sc=>
Ec.add(n.ingest(sc)))}),eb.visit(eb.REM,jc=>{const Ec=ac(jc);Jb(jc).forEach(sc=>Ec.rem(sc))})):(eb.visit(eb.MOD,jc=>ac(jc).mod(jc)),eb.visit(eb.ADD,jc=>ac(jc).add(jc)),eb.visit(eb.REM,jc=>ac(jc).rem(jc)));eb.clean()&&eb.runAfter(()=>this.clean());return eb}});Sb.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string","null":!0,array:!0}]};m.inherits(Sb,n.Transform,{transform(Ja,eb){const xb=eb.fork(eb.NO_SOURCE),Jb=Ja.fields,
ac=da(Ja.fields,Ja.as||[]),jc=Jb?(sc,ob)=>{for(let Db=0,Vb=Jb.length;Db<Vb;++Db)ob[ac[Db]]=Jb[Db](sc);return ob}:n.rederive;let Ec;this.value?Ec=this.value:(eb=eb.addAll(),Ec=this.value={});eb.visit(eb.REM,sc=>{sc=n.tupleid(sc);xb.rem.push(Ec[sc]);Ec[sc]=null});eb.visit(eb.ADD,sc=>{const ob=jc(sc,n.ingest({}));Ec[n.tupleid(sc)]=ob;xb.add.push(ob)});eb.visit(eb.MOD,sc=>{xb.mod.push(jc(sc,Ec[n.tupleid(sc)]))});return xb}});m.inherits(vc,n.Transform,{transform(Ja,eb){this.value=Ja.value;return Ja.modified("value")?
eb.fork(eb.NO_SOURCE|eb.NO_FIELDS):eb.StopPropagation}});lc.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number","default":.01},{name:"as",type:"string",array:!0,"default":["prob","value"]}]};m.inherits(lc,n.Transform,{transform(Ja,eb){const xb=eb.fork(eb.NO_SOURCE|eb.NO_FIELDS),Jb=Ja.as||["prob","value"];if(this.value&&!Ja.modified()&&!eb.changed())return xb.source=
this.value,xb;eb=eb.materialize(eb.SOURCE).source;eb=ja(eb,Ja.groupby,Ja.field);const ac=(Ja.groupby||[]).map(m.accessorName),jc=[],Ec=Ja.step||.01,sc=Ja.probs||O.range(Ec/2,1-1E-14,Ec),ob=sc.length;eb.forEach(Db=>{const Vb=F.quantiles(Db,sc);for(let mc=0;mc<ob;++mc){const Dc={};for(let Fc=0;Fc<ac.length;++Fc)Dc[ac[Fc]]=Db.dims[Fc];Dc[Jb[0]]=sc[mc];Dc[Jb[1]]=Vb[mc];jc.push(n.ingest(Dc))}});this.value&&(xb.rem=this.value);this.value=xb.add=xb.source=jc;return xb}});m.inherits(kc,n.Transform,{transform(Ja,
eb){let xb,Jb;this.value?Jb=this.value:(xb=eb=eb.addAll(),Jb=this.value={});Ja.derive&&(xb=eb.fork(eb.NO_SOURCE),eb.visit(eb.REM,ac=>{ac=n.tupleid(ac);xb.rem.push(Jb[ac]);Jb[ac]=null}),eb.visit(eb.ADD,ac=>{const jc=n.derive(ac);Jb[n.tupleid(ac)]=jc;xb.add.push(jc)}),eb.visit(eb.MOD,ac=>{const jc=Jb[n.tupleid(ac)];for(const Ec in ac)jc[Ec]=ac[Ec],xb.modifies(Ec);xb.mod.push(jc)}));return xb}});jb.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number","default":1E3}]};m.inherits(jb,
n.Transform,{transform(Ja,eb){function xb(Vb){let mc,Dc;sc.length<jc?sc.push(Vb):(Dc=~~((ob+1)*F.random()),Dc<sc.length&&Dc>=Db&&(mc=sc[Dc],Ec[n.tupleid(mc)]&&Jb.rem.push(mc),sc[Dc]=Vb));++ob}const Jb=eb.fork(eb.NO_SOURCE);var ac=Ja.modified("size");const jc=Ja.size,Ec=this.value.reduce((Vb,mc)=>(Vb[n.tupleid(mc)]=1,Vb),{});let sc=this.value,ob=this.count,Db=0;eb.rem.length&&(eb.visit(eb.REM,Vb=>{const mc=n.tupleid(Vb);Ec[mc]&&(Ec[mc]=-1,Jb.rem.push(Vb));--ob}),sc=sc.filter(Vb=>-1!==Ec[n.tupleid(Vb)]));
(eb.rem.length||ac)&&sc.length<jc&&eb.source&&(Db=ob=sc.length,eb.visit(eb.SOURCE,Vb=>{Ec[n.tupleid(Vb)]||xb(Vb)}),Db=-1);if(ac&&sc.length>jc){Ja=sc.length-jc;for(ac=0;ac<Ja;++ac)Ec[n.tupleid(sc[ac])]=-1,Jb.rem.push(sc[ac]);sc=sc.slice(Ja)}eb.mod.length&&eb.visit(eb.MOD,Vb=>{Ec[n.tupleid(Vb)]&&Jb.mod.push(Vb)});eb.add.length&&eb.visit(eb.ADD,xb);if(eb.add.length||0>Db)Jb.add=sc.filter(Vb=>!Ec[n.tupleid(Vb)]);this.count=ob;this.value=Jb.source=sc;return Jb}});$b.Definition={type:"Sequence",metadata:{generates:!0,
changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number","default":1},{name:"as",type:"string","default":"data"}]};m.inherits($b,n.Transform,{transform(Ja,eb){if(!this.value||Ja.modified()){var xb=eb.materialize().fork(eb.MOD),Jb=Ja.as||"data";xb.rem=this.value?eb.rem.concat(this.value):eb.rem;this.value=O.range(Ja.start,Ja.stop,Ja.step||1).map(ac=>{const jc={};jc[Jb]=ac;return n.ingest(jc)});xb.add=eb.add.concat(this.value);return xb}}});
m.inherits(yc,n.Transform,{transform(Ja,eb){this.value=eb.source;return eb.changed()?eb.fork(eb.NO_SOURCE|eb.NO_FIELDS):eb.StopPropagation}});const Wc=["unit0","unit1"];nc.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"units",type:"enum",values:x.TIME_UNITS,array:!0},{name:"step",type:"number","default":1},{name:"maxbins",type:"number","default":40},{name:"extent",type:"date",array:!0},{name:"timezone",
type:"enum","default":"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,"default":Wc}]};m.inherits(nc,n.Transform,{transform(Ja,eb){const xb=Ja.field,Jb=!1!==Ja.interval;var ac="utc"===Ja.timezone;const jc=this._floor(Ja,eb),Ec=(ac?x.utcInterval:x.timeInterval)(jc.unit).offset;ac=Ja.as||Wc;const sc=ac[0],ob=ac[1],Db=jc.step;let Vb=jc.start||Infinity,mc=jc.stop||-Infinity,Dc=eb.ADD;if(Ja.modified()||eb.modified(m.accessorFields(xb)))eb=eb.reflow(!0),Dc=eb.SOURCE,Vb=Infinity,
mc=-Infinity;eb.visit(Dc,Fc=>{var Xc=xb(Fc);let Fb;null==Xc?(Fc[sc]=null,Jb&&(Fc[ob]=null)):(Fc[sc]=Xc=Fb=jc(Xc),Jb&&(Fc[ob]=Fb=Ec(Xc,Db)),Xc<Vb&&(Vb=Xc),Fb>mc&&(mc=Fb))});jc.start=Vb;jc.stop=mc;return eb.modifies(Jb?ac:sc)},_floor(Ja,eb){var xb="utc"===Ja.timezone;const {units:Jb,step:ac}=Ja.units?{units:Ja.units,step:Ja.step||1}:x.timeBin({extent:Ja.extent||m.extent(eb.materialize(eb.SOURCE).source,Ja.field),maxbins:Ja.maxbins});Ja=x.timeUnits(Jb);eb=this.value||{};xb=(xb?x.utcFloor:x.timeFloor)(Ja,
ac);xb.unit=m.peek(Ja);xb.units=Ja;xb.step=ac;xb.start=eb.start;xb.stop=eb.stop;return this.value=xb}});m.inherits(zc,n.Transform,{transform(Ja,eb){const xb=eb.dataflow,Jb=Ja.field,ac=this.value,jc=sc=>ac.set(Jb(sc),sc);let Ec=!0;Ja.modified("field")||eb.modified(Jb.fields)?(ac.clear(),eb.visit(eb.SOURCE,jc)):eb.changed()?(eb.visit(eb.REM,sc=>ac.delete(Jb(sc))),eb.visit(eb.ADD,jc)):Ec=!1;this.modified(Ec);ac.empty>xb.cleanThreshold&&xb.runAfter(ac.clean);return eb.fork()}});m.inherits(qc,n.Transform,
{transform(Ja,eb){if(!this.value||Ja.modified("field")||Ja.modified("sort")||eb.changed()||Ja.sort&&eb.modified(Ja.sort.fields))this.value=(Ja.sort?eb.source.slice().sort(n.stableCompare(Ja.sort)):eb.source).map(Ja.field)}});const Gd={row_number:function(){return{next:Ja=>Ja.index+1}},rank:function(){let Ja;return{init:()=>Ja=1,next:eb=>{const xb=eb.index,Jb=eb.data;return xb&&eb.compare(Jb[xb-1],Jb[xb])?Ja=xb+1:Ja}}},dense_rank:function(){let Ja;return{init:()=>Ja=1,next:eb=>{const xb=eb.index,Jb=
eb.data;return xb&&eb.compare(Jb[xb-1],Jb[xb])?++Ja:Ja}}},percent_rank:function(){const Ja=Gd.rank(),eb=Ja.next;return{init:Ja.init,next:xb=>(eb(xb)-1)/(xb.data.length-1)}},cume_dist:function(){let Ja;return{init:()=>Ja=0,next:eb=>{const xb=eb.data,Jb=eb.compare;eb=eb.index;if(Ja<eb){for(;eb+1<xb.length&&!Jb(xb[eb],xb[eb+1]);)++eb;Ja=eb}return(1+Ja)/xb.length}}},ntile:function(Ja,eb){eb=+eb;0<eb||m.error("ntile num must be greater than zero.");Ja=Gd.cume_dist();const xb=Ja.next;return{init:Ja.init,
next:Jb=>Math.ceil(eb*xb(Jb))}},lag:function(Ja,eb){eb=+eb||1;return{next:xb=>{const Jb=xb.index-eb;return 0<=Jb?Ja(xb.data[Jb]):null}}},lead:function(Ja,eb){eb=+eb||1;return{next:xb=>{const Jb=xb.index+eb;xb=xb.data;return Jb<xb.length?Ja(xb[Jb]):null}}},first_value:function(Ja){return{next:eb=>Ja(eb.data[eb.i0])}},last_value:function(Ja){return{next:eb=>Ja(eb.data[eb.i1-1])}},nth_value:function(Ja,eb){eb=+eb;0<eb||m.error("nth_value nth must be greater than zero.");return{next:xb=>{const Jb=xb.i0+
(eb-1);return Jb<xb.i1?Ja(xb.data[Jb]):null}}},prev_value:function(Ja){let eb;return{init:()=>eb=null,next:xb=>{xb=Ja(xb.data[xb.index]);return null!=xb?eb=xb:eb}}},next_value:function(Ja){let eb,xb;return{init:()=>(eb=null,xb=-1),next:Jb=>{var ac=Jb.data;if(Jb.index<=xb)ac=eb;else{a:{Jb=Jb.index;for(let jc=ac.length;Jb<jc;++Jb)if(null!=Ja(ac[Jb]))break a;Jb=-1}ac=0>(xb=Jb)?(xb=ac.length,eb=null):eb=Ja(ac[xb])}return ac}}}};Qb=Object.keys(Gd);const Wd=Uc.prototype;Wd.init=function(){this.windows.forEach(Ja=>
Ja.init());this.cell&&this.cell.init()};Wd.update=function(Ja,eb){const xb=this.cell,Jb=this.windows,ac=Ja.data,jc=Jb&&Jb.length;let Ec;if(xb){for(Ec=Ja.p0;Ec<Ja.i0;++Ec)xb.rem(ac[Ec]);for(Ec=Ja.p1;Ec<Ja.i1;++Ec)xb.add(ac[Ec]);xb.set(eb)}for(Ec=0;Ec<jc;++Ec)Jb[Ec].update(Ja,eb)};Fd.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Qb.concat(vd)},{name:"params",type:"number","null":!0,
array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"frame",type:"number","null":!0,array:!0,length:2,"default":[null,0]},{name:"ignorePeers",type:"boolean","default":!1}]};m.inherits(Fd,n.Transform,{transform(Ja,eb){this.stamp=eb.stamp;const xb=Ja.modified(),Jb=n.stableCompare(Ja.sort),ac=q(Ja.groupby),jc=sc=>this.group(ac(sc));let Ec=this.state;if(!Ec||xb)Ec=this.state=new Uc(Ja);xb||eb.modified(Ec.inputs)?(this.value={},eb.visit(eb.SOURCE,
sc=>jc(sc).add(sc))):(eb.visit(eb.REM,sc=>jc(sc).remove(sc)),eb.visit(eb.ADD,sc=>jc(sc).add(sc)));for(let sc=0,ob=this._mlen;sc<ob;++sc)fe(this._mods[sc],Ec,Jb,Ja);this._mlen=0;this._mods=[];return eb.reflow(xb).modifies(Ec.outputs)},group(Ja){let eb=this.value[Ja];eb||(eb=this.value[Ja]=L(n.tupleid),eb.stamp=-1);eb.stamp<this.stamp&&(eb.stamp=this.stamp,this._mods[this._mlen++]=eb);return eb}});g.aggregate=D;g.bin=P;g.collect=G;g.compare=z;g.countpattern=K;g.cross=R;g.density=ka;g.dotbin=Z;g.expression=
Q;g.extent=N;g.facet=aa;g.field=va;g.filter=Da;g.flatten=$a;g.fold=kb;g.formula=sa;g.generate=Ta;g.impute=Wa;g.joinaggregate=W;g.kde=ca;g.key=fa;g.load=pa;g.lookup=Oa;g.multiextent=cb;g.multivalues=Aa;g.params=Ra;g.pivot=ab;g.prefacet=zb;g.project=Sb;g.proxy=vc;g.quantile=lc;g.relay=kc;g.sample=jb;g.sequence=$b;g.sieve=yc;g.subflow=ea;g.timeunit=nc;g.tupleindex=zc;g.values=qc;g.window=Fd;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[29]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E):"function"===typeof define&&define.amd?define(["exports"],m):(g=g||self,m(g.d3=g.d3||{}))})(this,function(g){function m(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function n(){return new m}const F=Math.PI,O=2*F,x=O-1E-6;m.prototype=n.prototype={constructor:m,moveTo:function(y,q){this._+="M"+(this._x0=this._x1=+y)+","+(this._y0=this._y1=+q)},closePath:function(){null!==this._x1&&(this._x1=
this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(y,q){this._+="L"+(this._x1=+y)+","+(this._y1=+q)},quadraticCurveTo:function(y,q,l,h){this._+="Q"+ +y+","+ +q+","+(this._x1=+l)+","+(this._y1=+h)},bezierCurveTo:function(y,q,l,h,c,e){this._+="C"+ +y+","+ +q+","+ +l+","+ +h+","+(this._x1=+c)+","+(this._y1=+e)},arcTo:function(y,q,l,h,c){y=+y;q=+q;l=+l;h=+h;c=+c;var e=this._x1,a=this._y1,f=l-y,p=h-q,A=e-y,C=a-q,D=A*A+C*C;if(0>c)throw Error("negative radius: "+c);if(null===this._x1)this._+="M"+(this._x1=
y)+","+(this._y1=q);else if(1E-6<D)if(1E-6<Math.abs(C*f-p*A)&&c){l-=e;h-=a;var P=f*f+p*p;a=Math.sqrt(P);e=Math.sqrt(D);D=c*Math.tan((F-Math.acos((P+D-(l*l+h*h))/(2*a*e)))/2);e=D/e;D/=a;1E-6<Math.abs(e-1)&&(this._+="L"+(y+e*A)+","+(q+e*C));this._+="A"+c+","+c+",0,0,"+ +(C*l>A*h)+","+(this._x1=y+D*f)+","+(this._y1=q+D*p)}else this._+="L"+(this._x1=y)+","+(this._y1=q)},arc:function(y,q,l,h,c,e){y=+y;q=+q;l=+l;e=!!e;var a=l*Math.cos(h),f=l*Math.sin(h),p=y+a,A=q+f,C=1^e;h=e?h-c:c-h;if(0>l)throw Error("negative radius: "+
l);if(null===this._x1)this._+="M"+p+","+A;else if(1E-6<Math.abs(this._x1-p)||1E-6<Math.abs(this._y1-A))this._+="L"+p+","+A;l&&(0>h&&(h=h%O+O),h>x?this._+="A"+l+","+l+",0,1,"+C+","+(y-a)+","+(q-f)+"A"+l+","+l+",0,1,"+C+","+(this._x1=p)+","+(this._y1=A):1E-6<h&&(this._+="A"+l+","+l+",0,"+ +(h>=F)+","+C+","+(this._x1=y+l*Math.cos(c))+","+(this._y1=q+l*Math.sin(c))))},rect:function(y,q,l,h){this._+="M"+(this._x0=this._x1=+y)+","+(this._y0=this._y1=+q)+"h"+ +l+"v"+ +h+"h"+-l+"Z"},toString:function(){return this._}};
g.path=n;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[30]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E,B(29)):"function"===typeof define&&define.amd?define(["exports","d3-path"],m):(g=g||self,m(g.d3=g.d3||{},g.d3))})(this,function(g,m){function n(ob){return function(){return ob}}function F(ob){return 1<=ob?yc:-1>=ob?-yc:Math.asin(ob)}function O(ob){return ob.innerRadius}function x(ob){return ob.outerRadius}function y(ob){return ob.startAngle}function q(ob){return ob.endAngle}function l(ob){return ob&&
ob.padAngle}function h(ob,Db,Vb,mc,Dc,Fc,Xc){var Fb=ob-Vb,Ic=Db-mc;Xc=(Xc?Fc:-Fc)/jb(Fb*Fb+Ic*Ic);Ic*=Xc;Fb*=-Xc;var fd=ob+Ic,wc=Db+Fb,$c=Vb+Ic,ad=mc+Fb;Vb=(fd+$c)/2;mc=(wc+ad)/2;Db=$c-fd;ob=ad-wc;Xc=Db*Db+ob*ob;Fc=Dc-Fc;ad=fd*ad-$c*wc;var nd=(0>ob?-1:1)*jb(vc(0,Fc*Fc*Xc-ad*ad));fd=(ad*ob-Db*nd)/Xc;wc=(-ad*Db-ob*nd)/Xc;$c=(ad*ob+Db*nd)/Xc;Db=(-ad*Db+ob*nd)/Xc;ob=fd-Vb;Xc=wc-mc;Vb=$c-Vb;mc=Db-mc;ob*ob+Xc*Xc>Vb*Vb+mc*mc&&(fd=$c,wc=Db);return{cx:fd,cy:wc,x01:-Ic,y01:-Fb,x11:fd*(Dc/Fc-1),y11:wc*(Dc/Fc-
1)}}function c(ob){return"object"===typeof ob&&"length"in ob?ob:Array.from(ob)}function e(ob){this._context=ob}function a(ob){return new e(ob)}function f(ob){return ob[0]}function p(ob){return ob[1]}function A(ob,Db){function Vb(Fb){var Ic,fd=(Fb=c(Fb)).length,wc,$c=!1,ad;null==Dc&&(Xc=Fc(ad=m.path()));for(Ic=0;Ic<=fd;++Ic)!(Ic<fd&&mc(wc=Fb[Ic],Ic,Fb))===$c&&(($c=!$c)?Xc.lineStart():Xc.lineEnd()),$c&&Xc.point(+ob(wc,Ic,Fb),+Db(wc,Ic,Fb));if(ad)return Xc=null,ad+""||null}var mc=n(!0),Dc=null,Fc=a,
Xc=null;ob="function"===typeof ob?ob:void 0===ob?f:n(ob);Db="function"===typeof Db?Db:void 0===Db?p:n(Db);Vb.x=function(Fb){return arguments.length?(ob="function"===typeof Fb?Fb:n(+Fb),Vb):ob};Vb.y=function(Fb){return arguments.length?(Db="function"===typeof Fb?Fb:n(+Fb),Vb):Db};Vb.defined=function(Fb){return arguments.length?(mc="function"===typeof Fb?Fb:n(!!Fb),Vb):mc};Vb.curve=function(Fb){return arguments.length?(Fc=Fb,null!=Dc&&(Xc=Fc(Dc)),Vb):Fc};Vb.context=function(Fb){return arguments.length?
(null==Fb?Dc=Xc=null:Xc=Fc(Dc=Fb),Vb):Dc};return Vb}function C(ob,Db,Vb){function mc(wc){var $c,ad,nd=(wc=c(wc)).length,Cd,Ed=!1,Xd,$d=Array(nd),ae=Array(nd);null==Fb&&(fd=Ic(Xd=m.path()));for($c=0;$c<=nd;++$c){if(!($c<nd&&Xc(Cd=wc[$c],$c,wc))===Ed)if(Ed=!Ed){var Ce=$c;fd.areaStart();fd.lineStart()}else{fd.lineEnd();fd.lineStart();for(ad=$c-1;ad>=Ce;--ad)fd.point($d[ad],ae[ad]);fd.lineEnd();fd.areaEnd()}Ed&&($d[$c]=+ob(Cd,$c,wc),ae[$c]=+Db(Cd,$c,wc),fd.point(Fc?+Fc(Cd,$c,wc):$d[$c],Vb?+Vb(Cd,$c,wc):
ae[$c]))}if(Xd)return fd=null,Xd+""||null}function Dc(){return A().defined(Xc).curve(Ic).context(Fb)}var Fc=null,Xc=n(!0),Fb=null,Ic=a,fd=null;ob="function"===typeof ob?ob:void 0===ob?f:n(+ob);Db="function"===typeof Db?Db:void 0===Db?n(0):n(+Db);Vb="function"===typeof Vb?Vb:void 0===Vb?p:n(+Vb);mc.x=function(wc){return arguments.length?(ob="function"===typeof wc?wc:n(+wc),Fc=null,mc):ob};mc.x0=function(wc){return arguments.length?(ob="function"===typeof wc?wc:n(+wc),mc):ob};mc.x1=function(wc){return arguments.length?
(Fc=null==wc?null:"function"===typeof wc?wc:n(+wc),mc):Fc};mc.y=function(wc){return arguments.length?(Db="function"===typeof wc?wc:n(+wc),Vb=null,mc):Db};mc.y0=function(wc){return arguments.length?(Db="function"===typeof wc?wc:n(+wc),mc):Db};mc.y1=function(wc){return arguments.length?(Vb=null==wc?null:"function"===typeof wc?wc:n(+wc),mc):Vb};mc.lineX0=mc.lineY0=function(){return Dc().x(ob).y(Db)};mc.lineY1=function(){return Dc().x(ob).y(Vb)};mc.lineX1=function(){return Dc().x(Fc).y(Db)};mc.defined=
function(wc){return arguments.length?(Xc="function"===typeof wc?wc:n(!!wc),mc):Xc};mc.curve=function(wc){return arguments.length?(Ic=wc,null!=Fb&&(fd=Ic(Fb)),mc):Ic};mc.context=function(wc){return arguments.length?(null==wc?Fb=fd=null:fd=Ic(Fb=wc),mc):Fb};return mc}function D(ob,Db){return Db<ob?-1:Db>ob?1:Db>=ob?0:NaN}function P(ob){return ob}function L(ob){this._curve=ob}function G(ob){function Db(Vb){return new L(ob(Vb))}Db._curve=ob;return Db}function z(ob){var Db=ob.curve;ob.angle=ob.x;delete ob.x;
ob.radius=ob.y;delete ob.y;ob.curve=function(Vb){return arguments.length?Db(G(Vb)):Db()._curve};return ob}function J(){return z(A().curve(qc))}function K(){var ob=C().curve(qc),Db=ob.curve,Vb=ob.lineX0,mc=ob.lineX1,Dc=ob.lineY0,Fc=ob.lineY1;ob.angle=ob.x;delete ob.x;ob.startAngle=ob.x0;delete ob.x0;ob.endAngle=ob.x1;delete ob.x1;ob.radius=ob.y;delete ob.y;ob.innerRadius=ob.y0;delete ob.y0;ob.outerRadius=ob.y1;delete ob.y1;ob.lineStartAngle=function(){return z(Vb())};delete ob.lineX0;ob.lineEndAngle=
function(){return z(mc())};delete ob.lineX1;ob.lineInnerRadius=function(){return z(Dc())};delete ob.lineY0;ob.lineOuterRadius=function(){return z(Fc())};delete ob.lineY1;ob.curve=function(Xc){return arguments.length?Db(G(Xc)):Db()._curve};return ob}function R(ob,Db){return[(Db=+Db)*Math.cos(ob-=Math.PI/2),Db*Math.sin(ob)]}function U(ob){return ob.source}function ka(ob){return ob.target}function ba(ob){function Db(){var Fb,Ic=zc.call(arguments),fd=Vb.apply(this,Ic),wc=mc.apply(this,Ic);Xc||(Xc=Fb=
m.path());ob(Xc,+Dc.apply(this,(Ic[0]=fd,Ic)),+Fc.apply(this,Ic),+Dc.apply(this,(Ic[0]=wc,Ic)),+Fc.apply(this,Ic));if(Fb)return Xc=null,Fb+""||null}var Vb=U,mc=ka,Dc=f,Fc=p,Xc=null;Db.source=function(Fb){return arguments.length?(Vb=Fb,Db):Vb};Db.target=function(Fb){return arguments.length?(mc=Fb,Db):mc};Db.x=function(Fb){return arguments.length?(Dc="function"===typeof Fb?Fb:n(+Fb),Db):Dc};Db.y=function(Fb){return arguments.length?(Fc="function"===typeof Fb?Fb:n(+Fb),Db):Fc};Db.context=function(Fb){return arguments.length?
(Xc=null==Fb?null:Fb,Db):Xc};return Db}function da(ob,Db,Vb,mc,Dc){ob.moveTo(Db,Vb);ob.bezierCurveTo(Db=(Db+mc)/2,Vb,Db,Dc,mc,Dc)}function ja(ob,Db,Vb,mc,Dc){ob.moveTo(Db,Vb);ob.bezierCurveTo(Db,Vb=(Vb+Dc)/2,mc,Vb,mc,Dc)}function Z(ob,Db,Vb,mc,Dc){var Fc=R(Db,Vb);Db=R(Db,Vb=(Vb+Dc)/2);Vb=R(mc,Vb);mc=R(mc,Dc);ob.moveTo(Fc[0],Fc[1]);ob.bezierCurveTo(Db[0],Db[1],Vb[0],Vb[1],mc[0],mc[1])}function Q(){}function r(ob,Db,Vb){ob._context.bezierCurveTo((2*ob._x0+ob._x1)/3,(2*ob._y0+ob._y1)/3,(ob._x0+2*ob._x1)/
3,(ob._y0+2*ob._y1)/3,(ob._x0+4*ob._x1+Db)/6,(ob._y0+4*ob._y1+Vb)/6)}function N(ob){this._context=ob}function ea(ob){this._context=ob}function aa(ob){this._context=ob}function va(ob,Db){this._basis=new N(ob);this._beta=Db}function ta(ob,Db,Vb){ob._context.bezierCurveTo(ob._x1+ob._k*(ob._x2-ob._x0),ob._y1+ob._k*(ob._y2-ob._y0),ob._x2+ob._k*(ob._x1-Db),ob._y2+ob._k*(ob._y1-Vb),ob._x2,ob._y2)}function Da(ob,Db){this._context=ob;this._k=(1-Db)/6}function $a(ob,Db){this._context=ob;this._k=(1-Db)/6}function kb(ob,
Db){this._context=ob;this._k=(1-Db)/6}function sa(ob,Db,Vb){var mc=ob._x1,Dc=ob._y1,Fc=ob._x2,Xc=ob._y2;if(1E-12<ob._l01_a){var Fb=2*ob._l01_2a+3*ob._l01_a*ob._l12_a+ob._l12_2a,Ic=3*ob._l01_a*(ob._l01_a+ob._l12_a);mc=(mc*Fb-ob._x0*ob._l12_2a+ob._x2*ob._l01_2a)/Ic;Dc=(Dc*Fb-ob._y0*ob._l12_2a+ob._y2*ob._l01_2a)/Ic}1E-12<ob._l23_a&&(Fb=2*ob._l23_2a+3*ob._l23_a*ob._l12_a+ob._l12_2a,Ic=3*ob._l23_a*(ob._l23_a+ob._l12_a),Fc=(Fc*Fb+ob._x1*ob._l23_2a-Db*ob._l12_2a)/Ic,Xc=(Xc*Fb+ob._y1*ob._l23_2a-Vb*ob._l12_2a)/
Ic);ob._context.bezierCurveTo(mc,Dc,Fc,Xc,ob._x2,ob._y2)}function Ta(ob,Db){this._context=ob;this._alpha=Db}function Wa(ob,Db){this._context=ob;this._alpha=Db}function Ea(ob,Db){this._context=ob;this._alpha=Db}function ua(ob){this._context=ob}function V(ob,Db,Vb){var mc=ob._x1-ob._x0;Db-=ob._x1;var Dc=(ob._y1-ob._y0)/(mc||0>Db&&-0);ob=(Vb-ob._y1)/(Db||0>mc&&-0);return((0>Dc?-1:1)+(0>ob?-1:1))*Math.min(Math.abs(Dc),Math.abs(ob),.5*Math.abs((Dc*Db+ob*mc)/(mc+Db)))||0}function W(ob,Db){var Vb=ob._x1-
ob._x0;return Vb?(3*(ob._y1-ob._y0)/Vb-Db)/2:Db}function ca(ob,Db,Vb){var mc=ob._x0,Dc=ob._x1,Fc=ob._y1,Xc=(Dc-mc)/3;ob._context.bezierCurveTo(mc+Xc,ob._y0+Xc*Db,Dc-Xc,Fc-Xc*Vb,Dc,Fc)}function fa(ob){this._context=ob}function qa(ob){this._context=new pa(ob)}function pa(ob){this._context=ob}function Ga(ob){this._context=ob}function na(ob){var Db,Vb=ob.length-1,mc=Array(Vb),Dc=Array(Vb),Fc=Array(Vb);mc[0]=0;Dc[0]=2;Fc[0]=ob[0]+2*ob[1];for(Db=1;Db<Vb-1;++Db)mc[Db]=1,Dc[Db]=4,Fc[Db]=4*ob[Db]+2*ob[Db+
1];mc[Vb-1]=2;Dc[Vb-1]=7;Fc[Vb-1]=8*ob[Vb-1]+ob[Vb];for(Db=1;Db<Vb;++Db){var Xc=mc[Db]/Dc[Db-1];Dc[Db]-=Xc;Fc[Db]-=Xc*Fc[Db-1]}mc[Vb-1]=Fc[Vb-1]/Dc[Vb-1];for(Db=Vb-2;0<=Db;--Db)mc[Db]=(Fc[Db]-mc[Db+1])/Dc[Db];Dc[Vb-1]=(ob[Vb]+mc[Vb-1])/2;for(Db=0;Db<Vb-1;++Db)Dc[Db]=2*ob[Db+1]-mc[Db+1];return[mc,Dc]}function Oa(ob,Db){this._context=ob;this._t=Db}function cb(ob,Db){if(1<(Xc=ob.length))for(var Vb=1,mc,Dc,Fc=ob[Db[0]],Xc,Fb=Fc.length;Vb<Xc;++Vb)for(Dc=Fc,Fc=ob[Db[Vb]],mc=0;mc<Fb;++mc)Fc[mc][1]+=Fc[mc][0]=
isNaN(Dc[mc][1])?Dc[mc][0]:Dc[mc][1]}function Za(ob){ob=ob.length;for(var Db=Array(ob);0<=--ob;)Db[ob]=ob;return Db}function Aa(ob,Db){return ob[Db]}function Fa(ob){const Db=[];Db.key=ob;return Db}function Ra(ob){var Db=ob.map(ab);return Za(ob).sort(function(Vb,mc){return Db[Vb]-Db[mc]})}function ab(ob){for(var Db=-1,Vb=0,mc=ob.length,Dc,Fc=-Infinity;++Db<mc;)(Dc=+ob[Db][1])>Fc&&(Fc=Dc,Vb=Db);return Vb}function lb(ob){var Db=ob.map(Ma);return Za(ob).sort(function(Vb,mc){return Db[Vb]-Db[mc]})}function Ma(ob){for(var Db=
0,Vb=-1,mc=ob.length,Dc;++Vb<mc;)if(Dc=+ob[Vb][1])Db+=Dc;return Db}var nb=Math.abs,zb=Math.atan2,Sb=Math.cos,vc=Math.max,lc=Math.min,kc=Math.sin,jb=Math.sqrt,$b=Math.PI,yc=$b/2,nc=2*$b,zc=Array.prototype.slice;e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(ob,Db){ob=+ob;Db=+Db;switch(this._point){case 0:this._point=
1;this._line?this._context.lineTo(ob,Db):this._context.moveTo(ob,Db);break;case 1:this._point=2;default:this._context.lineTo(ob,Db)}}};var qc=G(a);L.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(ob,Db){this._curve.point(Db*Math.sin(ob),Db*-Math.cos(ob))}};var Vc={draw:function(ob,Db){Db=Math.sqrt(Db/$b);ob.moveTo(Db,0);ob.arc(0,0,Db,0,nc)}},Uc=
{draw:function(ob,Db){Db=Math.sqrt(Db/5)/2;ob.moveTo(-3*Db,-Db);ob.lineTo(-Db,-Db);ob.lineTo(-Db,-3*Db);ob.lineTo(Db,-3*Db);ob.lineTo(Db,-Db);ob.lineTo(3*Db,-Db);ob.lineTo(3*Db,Db);ob.lineTo(Db,Db);ob.lineTo(Db,3*Db);ob.lineTo(-Db,3*Db);ob.lineTo(-Db,Db);ob.lineTo(-3*Db,Db);ob.closePath()}},Lc=Math.sqrt(1/3),Fd=2*Lc,fe={draw:function(ob,Db){Db=Math.sqrt(Db/Fd);var Vb=Db*Lc;ob.moveTo(0,-Db);ob.lineTo(Vb,0);ob.lineTo(0,Db);ob.lineTo(-Vb,0);ob.closePath()}},vd=Math.sin($b/10)/Math.sin(7*$b/10),Sc=Math.sin(nc/
10)*vd,Yd=-Math.cos(nc/10)*vd;vd={draw:function(ob,Db){Db=Math.sqrt(.8908130915292852*Db);var Vb=Sc*Db,mc=Yd*Db;ob.moveTo(0,-Db);ob.lineTo(Vb,mc);for(var Dc=1;5>Dc;++Dc){var Fc=nc*Dc/5,Xc=Math.cos(Fc);Fc=Math.sin(Fc);ob.lineTo(Fc*Db,-Xc*Db);ob.lineTo(Xc*Vb-Fc*mc,Fc*Vb+Xc*mc)}ob.closePath()}};var Qb={draw:function(ob,Db){Db=Math.sqrt(Db);var Vb=-Db/2;ob.rect(Vb,Vb,Db,Db)}},gc=Math.sqrt(3),Ib={draw:function(ob,Db){Db=-Math.sqrt(Db/(3*gc));ob.moveTo(0,2*Db);ob.lineTo(-gc*Db,-Db);ob.lineTo(gc*Db,-Db);
ob.closePath()}},Cc=Math.sqrt(3)/2,Wc=1/Math.sqrt(12),Gd=3*(Wc/2+1),Wd={draw:function(ob,Db){var Vb=Math.sqrt(Db/Gd);Db=Vb/2;var mc=Vb*Wc;Vb=Vb*Wc+Vb;var Dc=-Db;ob.moveTo(Db,mc);ob.lineTo(Db,Vb);ob.lineTo(Dc,Vb);ob.lineTo(-.5*Db-Cc*mc,Cc*Db+-.5*mc);ob.lineTo(-.5*Db-Cc*Vb,Cc*Db+-.5*Vb);ob.lineTo(-.5*Dc-Cc*Vb,Cc*Dc+-.5*Vb);ob.lineTo(-.5*Db+Cc*mc,-.5*mc-Cc*Db);ob.lineTo(-.5*Db+Cc*Vb,-.5*Vb-Cc*Db);ob.lineTo(-.5*Dc+Cc*Vb,-.5*Vb-Cc*Dc);ob.closePath()}},Ja=[Vc,Uc,fe,Qb,vd,Ib,Wd];N.prototype={areaStart:function(){this._line=
0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:r(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(ob,Db){ob=+ob;Db=+Db;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(ob,Db):this._context.moveTo(ob,Db);break;case 1:this._point=2;
break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:r(this,ob,Db)}this._x0=this._x1;this._x1=ob;this._y0=this._y1;this._y1=Db}};ea.prototype={areaStart:Q,areaEnd:Q,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+
2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(ob,Db){ob=+ob;Db=+Db;switch(this._point){case 0:this._point=1;this._x2=ob;this._y2=Db;break;case 1:this._point=2;this._x3=ob;this._y3=Db;break;case 2:this._point=3;this._x4=ob;this._y4=Db;this._context.moveTo((this._x0+4*this._x1+ob)/6,(this._y0+
4*this._y1+Db)/6);break;default:r(this,ob,Db)}this._x0=this._x1;this._x1=ob;this._y0=this._y1;this._y1=Db}};aa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(ob,Db){ob=+ob;Db=+Db;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=
3;var Vb=(this._x0+4*this._x1+ob)/6,mc=(this._y0+4*this._y1+Db)/6;this._line?this._context.lineTo(Vb,mc):this._context.moveTo(Vb,mc);break;case 3:this._point=4;default:r(this,ob,Db)}this._x0=this._x1;this._x1=ob;this._y0=this._y1;this._y1=Db}};va.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var ob=this._x,Db=this._y,Vb=ob.length-1;if(0<Vb)for(var mc=ob[0],Dc=Db[0],Fc=ob[Vb]-mc,Xc=Db[Vb]-Dc,Fb=-1,Ic;++Fb<=Vb;)Ic=Fb/Vb,this._basis.point(this._beta*
ob[Fb]+(1-this._beta)*(mc+Ic*Fc),this._beta*Db[Fb]+(1-this._beta)*(Dc+Ic*Xc));this._x=this._y=null;this._basis.lineEnd()},point:function(ob,Db){this._x.push(+ob);this._y.push(+Db)}};var eb=function Vb(Db){function mc(Dc){return 1===Db?new N(Dc):new va(Dc,Db)}mc.beta=function(Dc){return Vb(+Dc)};return mc}(.85);Da.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,
this._y2);break;case 3:ta(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Db,Vb){Db=+Db;Vb=+Vb;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Db,Vb):this._context.moveTo(Db,Vb);break;case 1:this._point=2;this._x1=Db;this._y1=Vb;break;case 2:this._point=3;default:ta(this,Db,Vb)}this._x0=this._x1;this._x1=this._x2;this._x2=Db;this._y0=this._y1;this._y1=this._y2;this._y2=Vb}};var xb=function mc(Vb){function Dc(Fc){return new Da(Fc,
Vb)}Dc.tension=function(Fc){return mc(+Fc)};return Dc}(0);$a.prototype={areaStart:Q,areaEnd:Q,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),
this.point(this._x5,this._y5)}},point:function(Vb,mc){Vb=+Vb;mc=+mc;switch(this._point){case 0:this._point=1;this._x3=Vb;this._y3=mc;break;case 1:this._point=2;this._context.moveTo(this._x4=Vb,this._y4=mc);break;case 2:this._point=3;this._x5=Vb;this._y5=mc;break;default:ta(this,Vb,mc)}this._x0=this._x1;this._x1=this._x2;this._x2=Vb;this._y0=this._y1;this._y1=this._y2;this._y2=mc}};var Jb=function Dc(mc){function Fc(Xc){return new $a(Xc,mc)}Fc.tension=function(Xc){return Dc(+Xc)};return Fc}(0);kb.prototype=
{areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(mc,Dc){mc=+mc;Dc=+Dc;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);
break;case 3:this._point=4;default:ta(this,mc,Dc)}this._x0=this._x1;this._x1=this._x2;this._x2=mc;this._y0=this._y1;this._y1=this._y2;this._y2=Dc}};var ac=function Fc(Dc){function Xc(Fb){return new kb(Fb,Dc)}Xc.tension=function(Fb){return Fc(+Fb)};return Xc}(0);Ta.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=
0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Dc,Fc){Dc=+Dc;Fc=+Fc;if(this._point){var Xc=this._x2-Dc,Fb=this._y2-Fc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Xc*Xc+Fb*Fb,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Dc,Fc):this._context.moveTo(Dc,Fc);break;case 1:this._point=
2;break;case 2:this._point=3;default:sa(this,Dc,Fc)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Dc;this._y0=this._y1;this._y1=this._y2;this._y2=Fc}};var jc=function Xc(Fc){function Fb(Ic){return Fc?new Ta(Ic,Fc):new Da(Ic,0)}Fb.alpha=function(Ic){return Xc(+Ic)};return Fb}(.5);Wa.prototype={areaStart:Q,areaEnd:Q,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=
this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(Fc,Xc){Fc=+Fc;Xc=+Xc;if(this._point){var Fb=this._x2-Fc,Ic=this._y2-
Xc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Fb*Fb+Ic*Ic,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=Fc;this._y3=Xc;break;case 1:this._point=2;this._context.moveTo(this._x4=Fc,this._y4=Xc);break;case 2:this._point=3;this._x5=Fc;this._y5=Xc;break;default:sa(this,Fc,Xc)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Fc;this._y0=this._y1;this._y1=this._y2;this._y2=Xc}};var Ec=function Fb(Xc){function Ic(fd){return Xc?
new Wa(fd,Xc):new $a(fd,0)}Ic.alpha=function(fd){return Fb(+fd)};return Ic}(.5);Ea.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Xc,Fb){Xc=+Xc;Fb=+Fb;if(this._point){var Ic=
this._x2-Xc,fd=this._y2-Fb;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Ic*Ic+fd*fd,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:sa(this,Xc,Fb)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Xc;this._y0=this._y1;this._y1=
this._y2;this._y2=Fb}};var sc=function Ic(Fb){function fd(wc){return Fb?new Ea(wc,Fb):new kb(wc,0)}fd.alpha=function(wc){return Ic(+wc)};return fd}(.5);ua.prototype={areaStart:Q,areaEnd:Q,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(Fb,Ic){Fb=+Fb;Ic=+Ic;this._point?this._context.lineTo(Fb,Ic):(this._point=1,this._context.moveTo(Fb,Ic))}};fa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=
this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ca(this,this._t0,W(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Fb,Ic){var fd=NaN;Fb=+Fb;Ic=+Ic;if(Fb!==this._x1||Ic!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Fb,Ic):this._context.moveTo(Fb,Ic);break;case 1:this._point=2;
break;case 2:this._point=3;ca(this,W(this,fd=V(this,Fb,Ic)),fd);break;default:ca(this,this._t0,fd=V(this,Fb,Ic))}this._x0=this._x1;this._x1=Fb;this._y0=this._y1;this._y1=Ic;this._t0=fd}}};(qa.prototype=Object.create(fa.prototype)).point=function(Fb,Ic){fa.prototype.point.call(this,Ic,Fb)};pa.prototype={moveTo:function(Fb,Ic){this._context.moveTo(Ic,Fb)},closePath:function(){this._context.closePath()},lineTo:function(Fb,Ic){this._context.lineTo(Ic,Fb)},bezierCurveTo:function(Fb,Ic,fd,wc,$c,ad){this._context.bezierCurveTo(Ic,
Fb,wc,fd,ad,$c)}};Ga.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var Fb=this._x,Ic=this._y,fd=Fb.length;if(fd)if(this._line?this._context.lineTo(Fb[0],Ic[0]):this._context.moveTo(Fb[0],Ic[0]),2===fd)this._context.lineTo(Fb[1],Ic[1]);else for(var wc=na(Fb),$c=na(Ic),ad=0,nd=1;nd<fd;++ad,++nd)this._context.bezierCurveTo(wc[0][ad],$c[0][ad],wc[1][ad],$c[1][ad],Fb[nd],Ic[nd]);(this._line||0!==this._line&&
1===fd)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(Fb,Ic){this._x.push(+Fb);this._y.push(+Ic)}};Oa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},
point:function(Fb,Ic){Fb=+Fb;Ic=+Ic;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Fb,Ic):this._context.moveTo(Fb,Ic);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,Ic),this._context.lineTo(Fb,Ic);else{var fd=this._x*(1-this._t)+Fb*this._t;this._context.lineTo(fd,this._y);this._context.lineTo(fd,Ic)}}this._x=Fb;this._y=Ic}};g.arc=function(){function Fb(){var Xd,$d=+Ic.apply(this,arguments),ae=+fd.apply(this,arguments),Ce=ad.apply(this,arguments)-
yc,me=nd.apply(this,arguments)-yc,ff=nb(me-Ce),Ze=me>Ce;Ed||(Ed=Xd=m.path());if(ae<$d){var hf=ae;ae=$d;$d=hf}if(1E-12<ae)if(ff>nc-1E-12)Ed.moveTo(ae*Sb(Ce),ae*kc(Ce)),Ed.arc(0,0,ae,Ce,me,!Ze),1E-12<$d&&(Ed.moveTo($d*Sb(me),$d*kc(me)),Ed.arc(0,0,$d,me,Ce,Ze));else{var Vd=Ce,ge=me;hf=Ce;var yf=me,Ue=ff,of=ff,le=Cd.apply(this,arguments)/2,ye=1E-12<le&&($c?+$c.apply(this,arguments):jb($d*$d+ae*ae)),Mf=lc(nb(ae-$d)/2,+wc.apply(this,arguments)),Ge=Mf,Td=Mf;if(1E-12<ye){var Zd=F(ye/$d*kc(le));le=F(ye/ae*
kc(le));1E-12<(Ue-=2*Zd)?(Zd*=Ze?1:-1,hf+=Zd,yf-=Zd):(Ue=0,hf=yf=(Ce+me)/2);1E-12<(of-=2*le)?(le*=Ze?1:-1,Vd+=le,ge-=le):(of=0,Vd=ge=(Ce+me)/2)}Ce=ae*Sb(Vd);me=ae*kc(Vd);Zd=$d*Sb(yf);le=$d*kc(yf);if(1E-12<Mf){var we=ae*Sb(ge),nf=ae*kc(ge),Pe=$d*Sb(hf),Qd=$d*kc(hf);if(ff=ff<$b){var Qe=Pe-Ce;ff=Qd-me;ye=Zd-we;var Yf=le-nf,Jc=Yf*Qe-ye*ff;1E-12>Jc*Jc?Qe=void 0:(Jc=(ye*(me-nf)-Yf*(Ce-we))/Jc,Qe=[Ce+Jc*Qe,me+Jc*ff]);ff=Qe}ff&&(Ge=Ce-Qe[0],Td=me-Qe[1],ff=we-Qe[0],ye=nf-Qe[1],Ge=(Ge*ff+Td*ye)/(jb(Ge*Ge+Td*
Td)*jb(ff*ff+ye*ye)),Td=1/kc((1<Ge?0:-1>Ge?$b:Math.acos(Ge))/2),Qe=jb(Qe[0]*Qe[0]+Qe[1]*Qe[1]),Ge=lc(Mf,($d-Qe)/(Td-1)),Td=lc(Mf,(ae-Qe)/(Td+1)))}1E-12<of?1E-12<Td?(Vd=h(Pe,Qd,Ce,me,ae,Td,Ze),ge=h(we,nf,Zd,le,ae,Td,Ze),Ed.moveTo(Vd.cx+Vd.x01,Vd.cy+Vd.y01),Td<Mf?Ed.arc(Vd.cx,Vd.cy,Td,zb(Vd.y01,Vd.x01),zb(ge.y01,ge.x01),!Ze):(Ed.arc(Vd.cx,Vd.cy,Td,zb(Vd.y01,Vd.x01),zb(Vd.y11,Vd.x11),!Ze),Ed.arc(0,0,ae,zb(Vd.cy+Vd.y11,Vd.cx+Vd.x11),zb(ge.cy+ge.y11,ge.cx+ge.x11),!Ze),Ed.arc(ge.cx,ge.cy,Td,zb(ge.y11,ge.x11),
zb(ge.y01,ge.x01),!Ze))):(Ed.moveTo(Ce,me),Ed.arc(0,0,ae,Vd,ge,!Ze)):Ed.moveTo(Ce,me);1E-12<$d&&1E-12<Ue?1E-12<Ge?(Vd=h(Zd,le,we,nf,$d,-Ge,Ze),ge=h(Ce,me,Pe,Qd,$d,-Ge,Ze),Ed.lineTo(Vd.cx+Vd.x01,Vd.cy+Vd.y01),Ge<Mf?Ed.arc(Vd.cx,Vd.cy,Ge,zb(Vd.y01,Vd.x01),zb(ge.y01,ge.x01),!Ze):(Ed.arc(Vd.cx,Vd.cy,Ge,zb(Vd.y01,Vd.x01),zb(Vd.y11,Vd.x11),!Ze),Ed.arc(0,0,$d,zb(Vd.cy+Vd.y11,Vd.cx+Vd.x11),zb(ge.cy+ge.y11,ge.cx+ge.x11),Ze),Ed.arc(ge.cx,ge.cy,Ge,zb(ge.y11,ge.x11),zb(ge.y01,ge.x01),!Ze))):Ed.arc(0,0,$d,yf,
hf,Ze):Ed.lineTo(Zd,le)}else Ed.moveTo(0,0);Ed.closePath();if(Xd)return Ed=null,Xd+""||null}var Ic=O,fd=x,wc=n(0),$c=null,ad=y,nd=q,Cd=l,Ed=null;Fb.centroid=function(){var Xd=(+Ic.apply(this,arguments)+ +fd.apply(this,arguments))/2,$d=(+ad.apply(this,arguments)+ +nd.apply(this,arguments))/2-$b/2;return[Sb($d)*Xd,kc($d)*Xd]};Fb.innerRadius=function(Xd){return arguments.length?(Ic="function"===typeof Xd?Xd:n(+Xd),Fb):Ic};Fb.outerRadius=function(Xd){return arguments.length?(fd="function"===typeof Xd?
Xd:n(+Xd),Fb):fd};Fb.cornerRadius=function(Xd){return arguments.length?(wc="function"===typeof Xd?Xd:n(+Xd),Fb):wc};Fb.padRadius=function(Xd){return arguments.length?($c=null==Xd?null:"function"===typeof Xd?Xd:n(+Xd),Fb):$c};Fb.startAngle=function(Xd){return arguments.length?(ad="function"===typeof Xd?Xd:n(+Xd),Fb):ad};Fb.endAngle=function(Xd){return arguments.length?(nd="function"===typeof Xd?Xd:n(+Xd),Fb):nd};Fb.padAngle=function(Xd){return arguments.length?(Cd="function"===typeof Xd?Xd:n(+Xd),
Fb):Cd};Fb.context=function(Xd){return arguments.length?(Ed=null==Xd?null:Xd,Fb):Ed};return Fb};g.area=C;g.areaRadial=K;g.curveBasis=function(Fb){return new N(Fb)};g.curveBasisClosed=function(Fb){return new ea(Fb)};g.curveBasisOpen=function(Fb){return new aa(Fb)};g.curveBundle=eb;g.curveCardinal=xb;g.curveCardinalClosed=Jb;g.curveCardinalOpen=ac;g.curveCatmullRom=jc;g.curveCatmullRomClosed=Ec;g.curveCatmullRomOpen=sc;g.curveLinear=a;g.curveLinearClosed=function(Fb){return new ua(Fb)};g.curveMonotoneX=
function(Fb){return new fa(Fb)};g.curveMonotoneY=function(Fb){return new qa(Fb)};g.curveNatural=function(Fb){return new Ga(Fb)};g.curveStep=function(Fb){return new Oa(Fb,.5)};g.curveStepAfter=function(Fb){return new Oa(Fb,1)};g.curveStepBefore=function(Fb){return new Oa(Fb,0)};g.line=A;g.lineRadial=J;g.linkHorizontal=function(){return ba(da)};g.linkRadial=function(){var Fb=ba(Z);Fb.angle=Fb.x;delete Fb.x;Fb.radius=Fb.y;delete Fb.y;return Fb};g.linkVertical=function(){return ba(ja)};g.pie=function(){function Fb(Cd){var Ed,
Xd=(Cd=c(Cd)).length;var $d=0;var ae=Array(Xd),Ce=Array(Xd),me=+$c.apply(this,arguments);var ff=Math.min(nc,Math.max(-nc,ad.apply(this,arguments)-me));var Ze=Math.min(Math.abs(ff)/Xd,nd.apply(this,arguments)),hf=Ze*(0>ff?-1:1),Vd;for(Ed=0;Ed<Xd;++Ed)0<(Vd=Ce[ae[Ed]=Ed]=+Ic(Cd[Ed],Ed,Cd))&&($d+=Vd);null!=fd?ae.sort(function(yf,Ue){return fd(Ce[yf],Ce[Ue])}):null!=wc&&ae.sort(function(yf,Ue){return wc(Cd[yf],Cd[Ue])});Ed=0;for(ff=$d?(ff-Xd*hf)/$d:0;Ed<Xd;++Ed,me=ge){$d=ae[Ed];Vd=Ce[$d];var ge=me+(0<
Vd?Vd*ff:0)+hf;Ce[$d]={data:Cd[$d],index:Ed,value:Vd,startAngle:me,endAngle:ge,padAngle:Ze}}return Ce}var Ic=P,fd=D,wc=null,$c=n(0),ad=n(nc),nd=n(0);Fb.value=function(Cd){return arguments.length?(Ic="function"===typeof Cd?Cd:n(+Cd),Fb):Ic};Fb.sortValues=function(Cd){return arguments.length?(fd=Cd,wc=null,Fb):fd};Fb.sort=function(Cd){return arguments.length?(wc=Cd,fd=null,Fb):wc};Fb.startAngle=function(Cd){return arguments.length?($c="function"===typeof Cd?Cd:n(+Cd),Fb):$c};Fb.endAngle=function(Cd){return arguments.length?
(ad="function"===typeof Cd?Cd:n(+Cd),Fb):ad};Fb.padAngle=function(Cd){return arguments.length?(nd="function"===typeof Cd?Cd:n(+Cd),Fb):nd};return Fb};g.pointRadial=R;g.radialArea=K;g.radialLine=J;g.stack=function(){function Fb(ad){var nd=Array.from(Ic.apply(this,arguments),Fa),Cd=nd.length,Ed=-1;for(const $d of ad){var Xd=0;for(++Ed;Xd<Cd;++Xd)(nd[Xd][Ed]=[0,+$c($d,nd[Xd].key,Ed,ad)]).data=$d}Xd=0;for(Ed=c(fd(nd));Xd<Cd;++Xd)nd[Ed[Xd]].index=Xd;wc(nd,Ed);return nd}var Ic=n([]),fd=Za,wc=cb,$c=Aa;Fb.keys=
function(ad){return arguments.length?(Ic="function"===typeof ad?ad:n(Array.from(ad)),Fb):Ic};Fb.value=function(ad){return arguments.length?($c="function"===typeof ad?ad:n(+ad),Fb):$c};Fb.order=function(ad){return arguments.length?(fd=null==ad?Za:"function"===typeof ad?ad:n(Array.from(ad)),Fb):fd};Fb.offset=function(ad){return arguments.length?(wc=null==ad?cb:ad,Fb):wc};return Fb};g.stackOffsetDiverging=function(Fb,Ic){if(0<(Ed=Fb.length))for(var fd,wc=0,$c,ad,nd,Cd,Ed,Xd=Fb[Ic[0]].length;wc<Xd;++wc)for(fd=
nd=Cd=0;fd<Ed;++fd)0<(ad=($c=Fb[Ic[fd]][wc])[1]-$c[0])?($c[0]=nd,$c[1]=nd+=ad):0>ad?($c[1]=Cd,$c[0]=Cd+=ad):($c[0]=0,$c[1]=ad)};g.stackOffsetExpand=function(Fb,Ic){if(0<(wc=Fb.length)){for(var fd,wc,$c=0,ad=Fb[0].length,nd;$c<ad;++$c){for(nd=fd=0;fd<wc;++fd)nd+=Fb[fd][$c][1]||0;if(nd)for(fd=0;fd<wc;++fd)Fb[fd][$c][1]/=nd}cb(Fb,Ic)}};g.stackOffsetNone=cb;g.stackOffsetSilhouette=function(Fb,Ic){if(0<($c=Fb.length)){for(var fd=0,wc=Fb[Ic[0]],$c,ad=wc.length;fd<ad;++fd){for(var nd=0,Cd=0;nd<$c;++nd)Cd+=
Fb[nd][fd][1]||0;wc[fd][1]+=wc[fd][0]=-Cd/2}cb(Fb,Ic)}};g.stackOffsetWiggle=function(Fb,Ic){if(0<(nd=Fb.length)&&0<(ad=($c=Fb[Ic[0]]).length)){for(var fd=0,wc=1,$c,ad,nd;wc<ad;++wc){for(var Cd=0,Ed=0,Xd=0;Cd<nd;++Cd){var $d=Fb[Ic[Cd]],ae=$d[wc][1]||0;$d=(ae-($d[wc-1][1]||0))/2;for(var Ce=0;Ce<Cd;++Ce){var me=Fb[Ic[Ce]];$d+=(me[wc][1]||0)-(me[wc-1][1]||0)}Ed+=ae;Xd+=$d*ae}$c[wc-1][1]+=$c[wc-1][0]=fd;Ed&&(fd-=Xd/Ed)}$c[wc-1][1]+=$c[wc-1][0]=fd;cb(Fb,Ic)}};g.stackOrderAppearance=Ra;g.stackOrderAscending=
lb;g.stackOrderDescending=function(Fb){return lb(Fb).reverse()};g.stackOrderInsideOut=function(Fb){var Ic=Fb.length,fd=Fb.map(Ma),wc=Ra(Fb),$c=0,ad=0,nd=[],Cd=[];for(Fb=0;Fb<Ic;++Fb){var Ed=wc[Fb];$c<ad?($c+=fd[Ed],nd.push(Ed)):(ad+=fd[Ed],Cd.push(Ed))}return Cd.reverse().concat(nd)};g.stackOrderNone=Za;g.stackOrderReverse=function(Fb){return Za(Fb).reverse()};g.symbol=function(Fb,Ic){function fd(){var $c;wc||(wc=$c=m.path());Fb.apply(this,arguments).draw(wc,+Ic.apply(this,arguments));if($c)return wc=
null,$c+""||null}var wc=null;Fb="function"===typeof Fb?Fb:n(Fb||Vc);Ic="function"===typeof Ic?Ic:n(void 0===Ic?64:+Ic);fd.type=function($c){return arguments.length?(Fb="function"===typeof $c?$c:n($c),fd):Fb};fd.size=function($c){return arguments.length?(Ic="function"===typeof $c?$c:n(+$c),fd):Ic};fd.context=function($c){return arguments.length?(wc=null==$c?null:$c,fd):wc};return fd};g.symbolCircle=Vc;g.symbolCross=Uc;g.symbolDiamond=fe;g.symbolSquare=Qb;g.symbolStar=vd;g.symbolTriangle=Ib;g.symbolWye=
Wd;g.symbols=Ja;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[31]=function(Ha,B,rb,E){!function(g,m){"object"==typeof E&&"undefined"!=typeof rb?m(E):"function"==typeof define&&define.amd?define(["exports"],m):m((g="undefined"!=typeof globalThis?globalThis:g||self).vega={})}(this,function(g){function m(n,F){if("undefined"!=typeof document&&document.createElement){const O=document.createElement("canvas");if(O&&O.getContext)return O.width=n,O.height=F,O}return null}g.canvas=m;g.domCanvas=m;g.image=()=>"undefined"!=typeof Image?Image:null;Object.defineProperty(g,
"__esModule",{value:!0})})};
shadow$provide[32]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E):"function"===typeof define&&define.amd?define(["exports"],m):(g=g||self,m(g.d3=g.d3||{}))})(this,function(g){function m(fa,qa,pa){fa.prototype=qa.prototype=pa;pa.constructor=fa}function n(fa,qa){fa=Object.create(fa.prototype);for(var pa in qa)fa[pa]=qa[pa];return fa}function F(){}function O(){return this.rgb().formatHex()}function x(){return this.rgb().formatRgb()}function y(fa){var qa,pa;fa=(fa+
"").trim().toLowerCase();return(qa=ea.exec(fa))?(pa=qa[1].length,qa=parseInt(qa[1],16),6===pa?q(qa):3===pa?new e(qa>>8&15|qa>>4&240,qa>>4&15|qa&240,(qa&15)<<4|qa&15,1):8===pa?l(qa>>24&255,qa>>16&255,qa>>8&255,(qa&255)/255):4===pa?l(qa>>12&15|qa>>8&240,qa>>8&15|qa>>4&240,qa>>4&15|qa&240,((qa&15)<<4|qa&15)/255):null):(qa=aa.exec(fa))?new e(qa[1],qa[2],qa[3],1):(qa=va.exec(fa))?new e(255*qa[1]/100,255*qa[2]/100,255*qa[3]/100,1):(qa=ta.exec(fa))?l(qa[1],qa[2],qa[3],qa[4]):(qa=Da.exec(fa))?l(255*qa[1]/
100,255*qa[2]/100,255*qa[3]/100,qa[4]):(qa=$a.exec(fa))?A(qa[1],qa[2]/100,qa[3]/100,1):(qa=kb.exec(fa))?A(qa[1],qa[2]/100,qa[3]/100,qa[4]):sa.hasOwnProperty(fa)?q(sa[fa]):"transparent"===fa?new e(NaN,NaN,NaN,0):null}function q(fa){return new e(fa>>16&255,fa>>8&255,fa&255,1)}function l(fa,qa,pa,Ga){0>=Ga&&(fa=qa=pa=NaN);return new e(fa,qa,pa,Ga)}function h(fa){fa instanceof F||(fa=y(fa));if(!fa)return new e;fa=fa.rgb();return new e(fa.r,fa.g,fa.b,fa.opacity)}function c(fa,qa,pa,Ga){return 1===arguments.length?
h(fa):new e(fa,qa,pa,null==Ga?1:Ga)}function e(fa,qa,pa,Ga){this.r=+fa;this.g=+qa;this.b=+pa;this.opacity=+Ga}function a(){return"#"+p(this.r)+p(this.g)+p(this.b)}function f(){var fa=this.opacity;fa=isNaN(fa)?1:Math.max(0,Math.min(1,fa));return(1===fa?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===fa?")":", "+fa+")")}function p(fa){fa=Math.max(0,Math.min(255,Math.round(fa)||
0));return(16>fa?"0":"")+fa.toString(16)}function A(fa,qa,pa,Ga){0>=Ga?fa=qa=pa=NaN:0>=pa||1<=pa?fa=qa=NaN:0>=qa&&(fa=NaN);return new P(fa,qa,pa,Ga)}function C(fa){if(fa instanceof P)return new P(fa.h,fa.s,fa.l,fa.opacity);fa instanceof F||(fa=y(fa));if(!fa)return new P;if(fa instanceof P)return fa;fa=fa.rgb();var qa=fa.r/255,pa=fa.g/255,Ga=fa.b/255,na=Math.min(qa,pa,Ga),Oa=Math.max(qa,pa,Ga),cb=NaN,Za=Oa-na,Aa=(Oa+na)/2;Za?(cb=qa===Oa?(pa-Ga)/Za+6*(pa<Ga):pa===Oa?(Ga-qa)/Za+2:(qa-pa)/Za+4,Za/=.5>
Aa?Oa+na:2-Oa-na,cb*=60):Za=0<Aa&&1>Aa?0:cb;return new P(cb,Za,Aa,fa.opacity)}function D(fa,qa,pa,Ga){return 1===arguments.length?C(fa):new P(fa,qa,pa,null==Ga?1:Ga)}function P(fa,qa,pa,Ga){this.h=+fa;this.s=+qa;this.l=+pa;this.opacity=+Ga}function L(fa,qa,pa){return 255*(60>fa?qa+(pa-qa)*fa/60:180>fa?pa:240>fa?qa+(pa-qa)*(240-fa)/60:qa)}function G(fa){if(fa instanceof J)return new J(fa.l,fa.a,fa.b,fa.opacity);if(fa instanceof ja)return Z(fa);fa instanceof e||(fa=h(fa));var qa=ka(fa.r),pa=ka(fa.g),
Ga=ka(fa.b),na=K(.2225045*qa+.7168786*pa+.0606169*Ga);if(qa===pa&&pa===Ga)var Oa=qa=na;else Oa=K((.4360747*qa+.3850649*pa+.1430804*Ga)/.96422),qa=K((.0139322*qa+.0971045*pa+.7141733*Ga)/.82521);return new J(116*na-16,500*(Oa-na),200*(na-qa),fa.opacity)}function z(fa,qa,pa,Ga){return 1===arguments.length?G(fa):new J(fa,qa,pa,null==Ga?1:Ga)}function J(fa,qa,pa,Ga){this.l=+fa;this.a=+qa;this.b=+pa;this.opacity=+Ga}function K(fa){return fa>W?Math.pow(fa,1/3):fa/V+Ea}function R(fa){return fa>ua?fa*fa*
fa:V*(fa-Ea)}function U(fa){return 255*(.0031308>=fa?12.92*fa:1.055*Math.pow(fa,1/2.4)-.055)}function ka(fa){return.04045>=(fa/=255)?fa/12.92:Math.pow((fa+.055)/1.055,2.4)}function ba(fa){if(fa instanceof ja)return new ja(fa.h,fa.c,fa.l,fa.opacity);fa instanceof J||(fa=G(fa));if(0===fa.a&&0===fa.b)return new ja(NaN,0<fa.l&&100>fa.l?0:NaN,fa.l,fa.opacity);var qa=Math.atan2(fa.b,fa.a)*Wa;return new ja(0>qa?qa+360:qa,Math.sqrt(fa.a*fa.a+fa.b*fa.b),fa.l,fa.opacity)}function da(fa,qa,pa,Ga){return 1===
arguments.length?ba(fa):new ja(fa,qa,pa,null==Ga?1:Ga)}function ja(fa,qa,pa,Ga){this.h=+fa;this.c=+qa;this.l=+pa;this.opacity=+Ga}function Z(fa){if(isNaN(fa.h))return new J(fa.l,0,0,fa.opacity);var qa=fa.h*Ta;return new J(fa.l,Math.cos(qa)*fa.c,Math.sin(qa)*fa.c,fa.opacity)}function Q(fa,qa,pa,Ga){if(1===arguments.length){var na=fa;if(na instanceof r)na=new r(na.h,na.s,na.l,na.opacity);else{na instanceof e||(na=h(na));var Oa=na.g/255,cb=na.b/255,Za=(ca*cb+na.r/255*-1.7884503806-3.5172982438*Oa)/(ca+
-1.7884503806-3.5172982438);cb-=Za;var Aa=(1.97294*(Oa-Za)- -.29227*cb)/-.90649;cb=(Oa=Math.sqrt(Aa*Aa+cb*cb)/(1.97294*Za*(1-Za)))?Math.atan2(Aa,cb)*Wa-120:NaN;na=new r(0>cb?cb+360:cb,Oa,Za,na.opacity)}}else na=new r(fa,qa,pa,null==Ga?1:Ga);return na}function r(fa,qa,pa,Ga){this.h=+fa;this.s=+qa;this.l=+pa;this.opacity=+Ga}var N=1/.7,ea=/^#([0-9a-f]{3,8})$/,aa=/^rgb\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*\)$/,va=/^rgb\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,
ta=/^rgba\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,Da=/^rgba\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,$a=/^hsl\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,kb=/^hsla\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,
sa={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,
darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,
hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,
linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,
palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,
turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};m(F,y,{copy:function(fa){return Object.assign(new this.constructor,this,fa)},displayable:function(){return this.rgb().displayable()},hex:O,formatHex:O,formatHsl:function(){return C(this).formatHsl()},formatRgb:x,toString:x});m(e,c,n(F,{brighter:function(fa){fa=null==fa?N:Math.pow(N,fa);return new e(this.r*fa,this.g*fa,this.b*fa,this.opacity)},darker:function(fa){fa=null==fa?.7:
Math.pow(.7,fa);return new e(this.r*fa,this.g*fa,this.b*fa,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:a,formatHex:a,formatRgb:f,toString:f}));m(P,D,n(F,{brighter:function(fa){fa=null==fa?N:Math.pow(N,fa);return new P(this.h,this.s,this.l*fa,this.opacity)},darker:function(fa){fa=null==fa?.7:Math.pow(.7,fa);return new P(this.h,this.s,this.l*fa,this.opacity)},
rgb:function(){var fa=this.h%360+360*(0>this.h),qa=isNaN(fa)||isNaN(this.s)?0:this.s,pa=this.l;qa=pa+(.5>pa?pa:1-pa)*qa;pa=2*pa-qa;return new e(L(240<=fa?fa-240:fa+120,pa,qa),L(fa,pa,qa),L(120>fa?fa+240:fa-120,pa,qa),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var fa=this.opacity;fa=isNaN(fa)?1:Math.max(0,Math.min(1,fa));return(1===fa?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+
"%, "+100*(this.l||0)+"%"+(1===fa?")":", "+fa+")")}}));const Ta=Math.PI/180,Wa=180/Math.PI,Ea=4/29,ua=6/29,V=3*ua*ua,W=ua*ua*ua;m(J,z,n(F,{brighter:function(fa){return new J(this.l+18*(null==fa?1:fa),this.a,this.b,this.opacity)},darker:function(fa){return new J(this.l-18*(null==fa?1:fa),this.a,this.b,this.opacity)},rgb:function(){var fa=(this.l+16)/116,qa=isNaN(this.a)?fa:fa+this.a/500,pa=isNaN(this.b)?fa:fa-this.b/200;qa=.96422*R(qa);fa=1*R(fa);pa=.82521*R(pa);return new e(U(3.1338561*qa-1.6168667*
fa-.4906146*pa),U(-.9787684*qa+1.9161415*fa+.033454*pa),U(.0719453*qa-.2289914*fa+1.4052427*pa),this.opacity)}}));m(ja,da,n(F,{brighter:function(fa){return new ja(this.h,this.c,this.l+18*(null==fa?1:fa),this.opacity)},darker:function(fa){return new ja(this.h,this.c,this.l-18*(null==fa?1:fa),this.opacity)},rgb:function(){return Z(this).rgb()}}));var ca=1.78277*-.29227-.1347134789;m(r,Q,n(F,{brighter:function(fa){fa=null==fa?N:Math.pow(N,fa);return new r(this.h,this.s,this.l*fa,this.opacity)},darker:function(fa){fa=
null==fa?.7:Math.pow(.7,fa);return new r(this.h,this.s,this.l*fa,this.opacity)},rgb:function(){var fa=isNaN(this.h)?0:(this.h+120)*Ta,qa=+this.l,pa=isNaN(this.s)?0:this.s*qa*(1-qa),Ga=Math.cos(fa);fa=Math.sin(fa);return new e(255*(qa+pa*(-.14861*Ga+1.78277*fa)),255*(qa+pa*(-.29227*Ga+-.90649*fa)),255*(qa+1.97294*pa*Ga),this.opacity)}}));g.color=y;g.cubehelix=Q;g.gray=function(fa,qa){return new J(fa,0,0,null==qa?1:qa)};g.hcl=da;g.hsl=D;g.lab=z;g.lch=function(fa,qa,pa,Ga){return 1===arguments.length?
ba(fa):new ja(pa,qa,fa,null==Ga?1:Ga)};g.rgb=c;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[33]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E,B(32)):"function"===typeof define&&define.amd?define(["exports","d3-color"],m):(g=g||self,m(g.d3=g.d3||{},g.d3))})(this,function(g,m){function n(ua,V,W,ca,fa){var qa=ua*ua,pa=qa*ua;return((1-3*ua+3*qa-pa)*V+(4-6*qa+3*pa)*W+(1+3*ua+3*qa-3*pa)*ca+pa*fa)/6}function F(ua){var V=ua.length-1;return function(W){var ca=0>=W?W=0:1<=W?(W=1,V-1):Math.floor(W*V),fa=ua[ca],qa=ua[ca+1];return n((W-ca/V)*V,0<ca?
ua[ca-1]:2*fa-qa,fa,qa,ca<V-1?ua[ca+2]:2*qa-fa)}}function O(ua){var V=ua.length;return function(W){var ca=Math.floor((0>(W%=1)?++W:W)*V);return n((W-ca/V)*V,ua[(ca+V-1)%V],ua[ca%V],ua[(ca+1)%V],ua[(ca+2)%V])}}function x(ua,V){return function(W){return ua+W*V}}function y(ua,V,W){return ua=Math.pow(ua,W),V=Math.pow(V,W)-ua,W=1/W,function(ca){return Math.pow(ua+ca*V,W)}}function q(ua,V){var W=V-ua;return W?x(ua,180<W||-180>W?W-360*Math.round(W/360):W):ba(isNaN(ua)?V:ua)}function l(ua){return 1===(ua=
+ua)?h:function(V,W){return W-V?y(V,W,ua):ba(isNaN(V)?W:V)}}function h(ua,V){var W=V-ua;return W?x(ua,W):ba(isNaN(ua)?V:ua)}function c(ua){return function(V){var W=V.length,ca=Array(W),fa=Array(W),qa=Array(W),pa;for(pa=0;pa<W;++pa){var Ga=m.rgb(V[pa]);ca[pa]=Ga.r||0;fa[pa]=Ga.g||0;qa[pa]=Ga.b||0}ca=ua(ca);fa=ua(fa);qa=ua(qa);Ga.opacity=1;return function(na){Ga.r=ca(na);Ga.g=fa(na);Ga.b=qa(na);return Ga+""}}}function e(ua,V){V||(V=[]);var W=ua?Math.min(V.length,ua.length):0,ca=V.slice(),fa;return function(qa){for(fa=
0;fa<W;++fa)ca[fa]=ua[fa]*(1-qa)+V[fa]*qa;return ca}}function a(ua){return ArrayBuffer.isView(ua)&&!(ua instanceof DataView)}function f(ua,V){var W=V?V.length:0,ca=ua?Math.min(W,ua.length):0,fa=Array(ca),qa=Array(W),pa;for(pa=0;pa<ca;++pa)fa[pa]=G(ua[pa],V[pa]);for(;pa<W;++pa)qa[pa]=V[pa];return function(Ga){for(pa=0;pa<ca;++pa)qa[pa]=fa[pa](Ga);return qa}}function p(ua,V){var W=new Date;return ua=+ua,V=+V,function(ca){return W.setTime(ua*(1-ca)+V*ca),W}}function A(ua,V){return ua=+ua,V=+V,function(W){return ua*
(1-W)+V*W}}function C(ua,V){var W={},ca={},fa;if(null===ua||"object"!==typeof ua)ua={};if(null===V||"object"!==typeof V)V={};for(fa in V)fa in ua?W[fa]=G(ua[fa],V[fa]):ca[fa]=V[fa];return function(qa){for(fa in W)ca[fa]=W[fa](qa);return ca}}function D(ua){return function(){return ua}}function P(ua){return function(V){return ua(V)+""}}function L(ua,V){var W=Q.lastIndex=r.lastIndex=0,ca,fa,qa,pa=-1,Ga=[],na=[];ua+="";for(V+="";(ca=Q.exec(ua))&&(fa=r.exec(V));)(qa=fa.index)>W&&(qa=V.slice(W,qa),Ga[pa]?
Ga[pa]+=qa:Ga[++pa]=qa),(ca=ca[0])===(fa=fa[0])?Ga[pa]?Ga[pa]+=fa:Ga[++pa]=fa:(Ga[++pa]=null,na.push({i:pa,x:A(ca,fa)})),W=r.lastIndex;W<V.length&&(qa=V.slice(W),Ga[pa]?Ga[pa]+=qa:Ga[++pa]=qa);return 2>Ga.length?na[0]?P(na[0].x):D(V):(V=na.length,function(Oa){for(var cb=0,Za;cb<V;++cb)Ga[(Za=na[cb]).i]=Za.x(Oa);return Ga.join("")})}function G(ua,V){var W=typeof V,ca;return null==V||"boolean"===W?ba(V):("number"===W?A:"string"===W?(ca=m.color(V))?(V=ca,da):L:V instanceof m.color?da:V instanceof Date?
p:a(V)?e:Array.isArray(V)?f:"function"!==typeof V.valueOf&&"function"!==typeof V.toString||isNaN(V)?C:A)(ua,V)}function z(ua,V,W,ca,fa,qa){var pa,Ga,na;if(pa=Math.sqrt(ua*ua+V*V))ua/=pa,V/=pa;if(na=ua*W+V*ca)W-=ua*na,ca-=V*na;if(Ga=Math.sqrt(W*W+ca*ca))W/=Ga,ca/=Ga,na/=Ga;ua*ca<V*W&&(ua=-ua,V=-V,na=-na,pa=-pa);return{translateX:fa,translateY:qa,rotate:Math.atan2(V,ua)*N,skewX:Math.atan(na)*N,scaleX:pa,scaleY:Ga}}function J(ua,V,W,ca){function fa(Oa){return Oa.length?Oa.pop()+" ":""}function qa(Oa,
cb,Za,Aa,Fa,Ra){Oa!==Za||cb!==Aa?(Fa=Fa.push("translate(",null,V,null,W),Ra.push({i:Fa-4,x:A(Oa,Za)},{i:Fa-2,x:A(cb,Aa)})):(Za||Aa)&&Fa.push("translate("+Za+V+Aa+W)}function pa(Oa,cb,Za,Aa){Oa!==cb?(180<Oa-cb?cb+=360:180<cb-Oa&&(Oa+=360),Aa.push({i:Za.push(fa(Za)+"rotate(",null,ca)-2,x:A(Oa,cb)})):cb&&Za.push(fa(Za)+"rotate("+cb+ca)}function Ga(Oa,cb,Za,Aa){Oa!==cb?Aa.push({i:Za.push(fa(Za)+"skewX(",null,ca)-2,x:A(Oa,cb)}):cb&&Za.push(fa(Za)+"skewX("+cb+ca)}function na(Oa,cb,Za,Aa,Fa,Ra){Oa!==Za||
cb!==Aa?(Fa=Fa.push(fa(Fa)+"scale(",null,",",null,")"),Ra.push({i:Fa-4,x:A(Oa,Za)},{i:Fa-2,x:A(cb,Aa)})):1===Za&&1===Aa||Fa.push(fa(Fa)+"scale("+Za+","+Aa+")")}return function(Oa,cb){var Za=[],Aa=[];Oa=ua(Oa);cb=ua(cb);qa(Oa.translateX,Oa.translateY,cb.translateX,cb.translateY,Za,Aa);pa(Oa.rotate,cb.rotate,Za,Aa);Ga(Oa.skewX,cb.skewX,Za,Aa);na(Oa.scaleX,Oa.scaleY,cb.scaleX,cb.scaleY,Za,Aa);Oa=cb=null;return function(Fa){for(var Ra=-1,ab=Aa.length,lb;++Ra<ab;)Za[(lb=Aa[Ra]).i]=lb.x(Fa);return Za.join("")}}}
function K(ua){return((ua=Math.exp(ua))+1/ua)/2}function R(ua){return function(V,W){var ca=ua((V=m.hsl(V)).h,(W=m.hsl(W)).h),fa=h(V.s,W.s),qa=h(V.l,W.l),pa=h(V.opacity,W.opacity);return function(Ga){V.h=ca(Ga);V.s=fa(Ga);V.l=qa(Ga);V.opacity=pa(Ga);return V+""}}}function U(ua){return function(V,W){var ca=ua((V=m.hcl(V)).h,(W=m.hcl(W)).h),fa=h(V.c,W.c),qa=h(V.l,W.l),pa=h(V.opacity,W.opacity);return function(Ga){V.h=ca(Ga);V.c=fa(Ga);V.l=qa(Ga);V.opacity=pa(Ga);return V+""}}}function ka(ua){return function ca(W){function fa(qa,
pa){var Ga=ua((qa=m.cubehelix(qa)).h,(pa=m.cubehelix(pa)).h),na=h(qa.s,pa.s),Oa=h(qa.l,pa.l),cb=h(qa.opacity,pa.opacity);return function(Za){qa.h=Ga(Za);qa.s=na(Za);qa.l=Oa(Math.pow(Za,W));qa.opacity=cb(Za);return qa+""}}W=+W;fa.gamma=ca;return fa}(1)}var ba=ua=>()=>ua,da=function W(V){function ca(qa,pa){var Ga=fa((qa=m.rgb(qa)).r,(pa=m.rgb(pa)).r),na=fa(qa.g,pa.g),Oa=fa(qa.b,pa.b),cb=h(qa.opacity,pa.opacity);return function(Za){qa.r=Ga(Za);qa.g=na(Za);qa.b=Oa(Za);qa.opacity=cb(Za);return qa+""}}
var fa=l(V);ca.gamma=W;return ca}(1),ja=c(F),Z=c(O),Q=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,r=new RegExp(Q.source,"g"),N=180/Math.PI,ea={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},aa,va=J(function(V){V=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(V+"");return V.isIdentity?ea:z(V.a,V.b,V.c,V.d,V.e,V.f)},"px, ","px)","deg)"),ta=J(function(V){if(null==V)return ea;aa||(aa=document.createElementNS("http://www.w3.org/2000/svg","g"));aa.setAttribute("transform",
V);if(!(V=aa.transform.baseVal.consolidate()))return ea;V=V.matrix;return z(V.a,V.b,V.c,V.d,V.e,V.f)},", ",")",")"),Da=function qa(W,ca,fa){function pa(Ga,na){var Oa=Ga[0],cb=Ga[1],Za=Ga[2];Ga=na[2];var Aa=na[0]-Oa,Fa=na[1]-cb,Ra=Aa*Aa+Fa*Fa;if(1E-12>Ra){var ab=Math.log(Ga/Za)/W;Ga=function(nb){return[Oa+nb*Aa,cb+nb*Fa,Za*Math.exp(W*nb*ab)]}}else{var lb=Math.sqrt(Ra);na=(Ga*Ga-Za*Za+fa*Ra)/(2*Za*ca*lb);Ga=(Ga*Ga-Za*Za-fa*Ra)/(2*Ga*ca*lb);var Ma=Math.log(Math.sqrt(na*na+1)-na);ab=(Math.log(Math.sqrt(Ga*
Ga+1)-Ga)-Ma)/W;Ga=function(nb){nb*=ab;var zb=K(Ma),Sb=W*nb+Ma;var vc=((Sb=Math.exp(2*Sb))-1)/(Sb+1);var lc=Ma;Sb=((lc=Math.exp(lc))-1/lc)/2;vc=Za/(ca*lb)*(zb*vc-Sb);return[Oa+vc*Aa,cb+vc*Fa,Za*zb/K(W*nb+Ma)]}}Ga.duration=1E3*ab*W/Math.SQRT2;return Ga}pa.rho=function(Ga){Ga=Math.max(.001,+Ga);var na=Ga*Ga;return qa(Ga,na,na*na)};return pa}(Math.SQRT2,2,4),$a=R(q),kb=R(h),sa=U(q),Ta=U(h),Wa=ka(q),Ea=ka(h);g.interpolate=G;g.interpolateArray=function(W,ca){return(a(ca)?e:f)(W,ca)};g.interpolateBasis=
F;g.interpolateBasisClosed=O;g.interpolateCubehelix=Wa;g.interpolateCubehelixLong=Ea;g.interpolateDate=p;g.interpolateDiscrete=function(W){var ca=W.length;return function(fa){return W[Math.max(0,Math.min(ca-1,Math.floor(fa*ca)))]}};g.interpolateHcl=sa;g.interpolateHclLong=Ta;g.interpolateHsl=$a;g.interpolateHslLong=kb;g.interpolateHue=function(W,ca){var fa=q(+W,+ca);return function(qa){qa=fa(qa);return qa-360*Math.floor(qa/360)}};g.interpolateLab=function(W,ca){var fa=h((W=m.lab(W)).l,(ca=m.lab(ca)).l),
qa=h(W.a,ca.a),pa=h(W.b,ca.b),Ga=h(W.opacity,ca.opacity);return function(na){W.l=fa(na);W.a=qa(na);W.b=pa(na);W.opacity=Ga(na);return W+""}};g.interpolateNumber=A;g.interpolateNumberArray=e;g.interpolateObject=C;g.interpolateRgb=da;g.interpolateRgbBasis=ja;g.interpolateRgbBasisClosed=Z;g.interpolateRound=function(W,ca){return W=+W,ca=+ca,function(fa){return Math.round(W*(1-fa)+ca*fa)}};g.interpolateString=L;g.interpolateTransformCss=va;g.interpolateTransformSvg=ta;g.interpolateZoom=Da;g.piecewise=
function(W,ca){void 0===ca&&(ca=W,W=G);for(var fa=0,qa=ca.length-1,pa=ca[0],Ga=Array(0>qa?0:qa);fa<qa;)Ga[fa]=W(pa,pa=ca[++fa]);return function(na){var Oa=Math.max(0,Math.min(qa-1,Math.floor(na*=qa)));return Ga[Oa](na-Oa)}};g.quantize=function(W,ca){for(var fa=Array(ca),qa=0;qa<ca;++qa)fa[qa]=W(qa/(ca-1));return fa};Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[34]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E,B(15),B(33),B(16),B(17),B(19)):"function"===typeof define&&define.amd?define("exports d3-array d3-interpolate d3-format d3-time d3-time-format".split(" "),m):(g=g||self,m(g.d3=g.d3||{},g.d3,g.d3,g.d3,g.d3,g.d3))})(this,function(g,m,n,F,O,x){function y(jb,$b){switch(arguments.length){case 0:break;case 1:this.range(jb);break;default:this.range($b).domain(jb)}return this}function q(jb,$b){switch(arguments.length){case 0:break;
case 1:"function"===typeof jb?this.interpolator(jb):this.range(jb);break;default:this.domain(jb),"function"===typeof $b?this.interpolator($b):this.range($b)}return this}function l(){function jb(qc){var Vc=qc+"",Uc=$b.get(Vc);if(!Uc){if(zc!==zb)return zc;$b.set(Vc,Uc=yc.push(qc))}return nc[(Uc-1)%nc.length]}var $b=new Map,yc=[],nc=[],zc=zb;jb.domain=function(qc){if(!arguments.length)return yc.slice();yc=[];$b=new Map;for(const Vc of qc){const Uc=Vc+"";$b.has(Uc)||$b.set(Uc,yc.push(Vc))}return jb};
jb.range=function(qc){return arguments.length?(nc=Array.from(qc),jb):nc.slice()};jb.unknown=function(qc){return arguments.length?(zc=qc,jb):zc};jb.copy=function(){return l(yc,nc).unknown(zc)};y.apply(jb,arguments);return jb}function h(){function jb(){var Sc=yc().length,Yd=qc<zc,Qb=Yd?qc:zc,gc=Yd?zc:qc;Vc=(gc-Qb)/Math.max(1,Sc-Fd+2*fe);Lc&&(Vc=Math.floor(Vc));Qb+=(gc-Qb-Vc*(Sc-Fd))*vd;Uc=Vc*(1-Fd);Lc&&(Qb=Math.round(Qb),Uc=Math.round(Uc));Sc=m.range(Sc).map(function(Ib){return Qb+Vc*Ib});return nc(Yd?
Sc.reverse():Sc)}var $b=l().unknown(void 0),yc=$b.domain,nc=$b.range,zc=0,qc=1,Vc,Uc,Lc=!1,Fd=0,fe=0,vd=.5;delete $b.unknown;$b.domain=function(Sc){return arguments.length?(yc(Sc),jb()):yc()};$b.range=function(Sc){return arguments.length?([zc,qc]=Sc,zc=+zc,qc=+qc,jb()):[zc,qc]};$b.rangeRound=function(Sc){return[zc,qc]=Sc,zc=+zc,qc=+qc,Lc=!0,jb()};$b.bandwidth=function(){return Uc};$b.step=function(){return Vc};$b.round=function(Sc){return arguments.length?(Lc=!!Sc,jb()):Lc};$b.padding=function(Sc){return arguments.length?
(Fd=Math.min(1,fe=+Sc),jb()):Fd};$b.paddingInner=function(Sc){return arguments.length?(Fd=Math.min(1,Sc),jb()):Fd};$b.paddingOuter=function(Sc){return arguments.length?(fe=+Sc,jb()):fe};$b.align=function(Sc){return arguments.length?(vd=Math.max(0,Math.min(1,Sc)),jb()):vd};$b.copy=function(){return h(yc(),[zc,qc]).round(Lc).paddingInner(Fd).paddingOuter(fe).align(vd)};return y.apply(jb(),arguments)}function c(jb){var $b=jb.copy;jb.padding=jb.paddingOuter;delete jb.paddingInner;delete jb.paddingOuter;
jb.copy=function(){return c($b())};return jb}function e(jb){return function(){return jb}}function a(jb){return+jb}function f(jb){return jb}function p(jb,$b){return($b-=jb=+jb)?function(yc){return(yc-jb)/$b}:e(isNaN($b)?NaN:.5)}function A(jb,$b){if(jb>$b){var yc=jb;jb=$b;$b=yc}return function(nc){return Math.max(jb,Math.min($b,nc))}}function C(jb,$b,yc){var nc=jb[0];jb=jb[1];var zc=$b[0];$b=$b[1];jb<nc?(nc=p(jb,nc),zc=yc($b,zc)):(nc=p(nc,jb),zc=yc(zc,$b));return function(qc){return zc(nc(qc))}}function D(jb,
$b,yc){var nc=Math.min(jb.length,$b.length)-1,zc=Array(nc),qc=Array(nc),Vc=-1;jb[nc]<jb[0]&&(jb=jb.slice().reverse(),$b=$b.slice().reverse());for(;++Vc<nc;)zc[Vc]=p(jb[Vc],jb[Vc+1]),qc[Vc]=yc($b[Vc],$b[Vc+1]);return function(Uc){var Lc=m.bisect(jb,Uc,1,nc)-1;return qc[Lc](zc[Lc](Uc))}}function P(jb,$b){return $b.domain(jb.domain()).range(jb.range()).interpolate(jb.interpolate()).clamp(jb.clamp()).unknown(jb.unknown())}function L(){function jb(){var Sc=Math.min(yc.length,nc.length);Lc!==f&&(Lc=A(yc[0],
yc[Sc-1]));Fd=2<Sc?D:C;fe=vd=null;return $b}function $b(Sc){return isNaN(Sc=+Sc)?Uc:(fe||(fe=Fd(yc.map(qc),nc,zc)))(qc(Lc(Sc)))}var yc=Sb,nc=Sb,zc=n.interpolate,qc,Vc,Uc,Lc=f,Fd,fe,vd;$b.invert=function(Sc){return Lc(Vc((vd||(vd=Fd(nc,yc.map(qc),n.interpolateNumber)))(Sc)))};$b.domain=function(Sc){return arguments.length?(yc=Array.from(Sc,a),jb()):yc.slice()};$b.range=function(Sc){return arguments.length?(nc=Array.from(Sc),jb()):nc.slice()};$b.rangeRound=function(Sc){return nc=Array.from(Sc),zc=n.interpolateRound,
jb()};$b.clamp=function(Sc){return arguments.length?(Lc=Sc?!0:f,jb()):Lc!==f};$b.interpolate=function(Sc){return arguments.length?(zc=Sc,jb()):zc};$b.unknown=function(Sc){return arguments.length?(Uc=Sc,$b):Uc};return function(Sc,Yd){qc=Sc;Vc=Yd;return jb()}}function G(jb,$b,yc,nc){yc=m.tickStep(jb,$b,yc);var zc;nc=F.formatSpecifier(null==nc?",f":nc);switch(nc.type){case "s":return jb=Math.max(Math.abs(jb),Math.abs($b)),null!=nc.precision||isNaN(zc=F.precisionPrefix(yc,jb))||(nc.precision=zc),F.formatPrefix(nc,
jb);case "":case "e":case "g":case "p":case "r":null!=nc.precision||isNaN(zc=F.precisionRound(yc,Math.max(Math.abs(jb),Math.abs($b))))||(nc.precision=zc-("e"===nc.type));break;case "f":case "%":null!=nc.precision||isNaN(zc=F.precisionFixed(yc))||(nc.precision=zc-2*("%"===nc.type))}return F.format(nc)}function z(jb){var $b=jb.domain;jb.ticks=function(yc){var nc=$b();return m.ticks(nc[0],nc[nc.length-1],null==yc?10:yc)};jb.tickFormat=function(yc,nc){var zc=$b();return G(zc[0],zc[zc.length-1],null==
yc?10:yc,nc)};jb.nice=function(yc){null==yc&&(yc=10);var nc=$b(),zc=0,qc=nc.length-1,Vc=nc[zc],Uc=nc[qc],Lc=10;if(Uc<Vc){var Fd=Vc;Vc=Uc;Uc=Fd;Fd=zc;zc=qc;qc=Fd}for(;0<Lc--;){Fd=m.tickIncrement(Vc,Uc,yc);if(Fd===fe)return nc[zc]=Vc,nc[qc]=Uc,$b(nc);if(0<Fd)Vc=Math.floor(Vc/Fd)*Fd,Uc=Math.ceil(Uc/Fd)*Fd;else if(0>Fd)Vc=Math.ceil(Vc*Fd)/Fd,Uc=Math.floor(Uc*Fd)/Fd;else break;var fe=Fd}return jb};return jb}function J(){var jb=L()(f,f);jb.copy=function(){return P(jb,J())};y.apply(jb,arguments);return z(jb)}
function K(jb){function $b(nc){return isNaN(nc=+nc)?yc:nc}var yc;$b.invert=$b;$b.domain=$b.range=function(nc){return arguments.length?(jb=Array.from(nc,a),$b):jb.slice()};$b.unknown=function(nc){return arguments.length?(yc=nc,$b):yc};$b.copy=function(){return K(jb).unknown(yc)};jb=arguments.length?Array.from(jb,a):[0,1];return z($b)}function R(jb,$b){jb=jb.slice();var yc=0,nc=jb.length-1,zc=jb[yc],qc=jb[nc];if(qc<zc){var Vc=yc;yc=nc;nc=Vc;Vc=zc;zc=qc;qc=Vc}jb[yc]=$b.floor(zc);jb[nc]=$b.ceil(qc);return jb}
function U(jb){return Math.log(jb)}function ka(jb){return Math.exp(jb)}function ba(jb){return-Math.log(-jb)}function da(jb){return-Math.exp(-jb)}function ja(jb){return isFinite(jb)?+("1e"+jb):0>jb?0:jb}function Z(jb){return 10===jb?ja:jb===Math.E?Math.exp:function($b){return Math.pow(jb,$b)}}function Q(jb){return jb===Math.E?Math.log:10===jb&&Math.log10||2===jb&&Math.log2||(jb=Math.log(jb),function($b){return Math.log($b)/jb})}function r(jb){return function($b){return-jb(-$b)}}function N(jb){function $b(){qc=
Q(zc);Vc=Z(zc);0>nc()[0]?(qc=r(qc),Vc=r(Vc),jb(ba,da)):jb(U,ka);return yc}var yc=jb(U,ka),nc=yc.domain,zc=10,qc,Vc;yc.base=function(Uc){return arguments.length?(zc=+Uc,$b()):zc};yc.domain=function(Uc){return arguments.length?(nc(Uc),$b()):nc()};yc.ticks=function(Uc){var Lc=nc(),Fd=Lc[0];Lc=Lc[Lc.length-1];var fe;if(fe=Lc<Fd)vd=Fd,Fd=Lc,Lc=vd;var vd=qc(Fd),Sc=qc(Lc),Yd=null==Uc?10:+Uc,Qb=[];if(!(zc%1)&&Sc-vd<Yd){vd=Math.floor(vd);Sc=Math.ceil(Sc);if(0<Fd)for(;vd<=Sc;++vd){var gc=1;for(Uc=Vc(vd);gc<
zc;++gc){var Ib=Uc*gc;if(!(Ib<Fd)){if(Ib>Lc)break;Qb.push(Ib)}}}else for(;vd<=Sc;++vd)for(gc=zc-1,Uc=Vc(vd);1<=gc;--gc)if(Ib=Uc*gc,!(Ib<Fd)){if(Ib>Lc)break;Qb.push(Ib)}2*Qb.length<Yd&&(Qb=m.ticks(Fd,Lc,Yd))}else Qb=m.ticks(vd,Sc,Math.min(Sc-vd,Yd)).map(Vc);return fe?Qb.reverse():Qb};yc.tickFormat=function(Uc,Lc){null==Lc&&(Lc=10===zc?".0e":",");"function"!==typeof Lc&&(Lc=F.format(Lc));if(Infinity===Uc)return Lc;null==Uc&&(Uc=10);var Fd=Math.max(1,zc*Uc/yc.ticks().length);return function(fe){var vd=
fe/Vc(Math.round(qc(fe)));vd*zc<zc-.5&&(vd*=zc);return vd<=Fd?Lc(fe):""}};yc.nice=function(){return nc(R(nc(),{floor:function(Uc){return Vc(Math.floor(qc(Uc)))},ceil:function(Uc){return Vc(Math.ceil(qc(Uc)))}}))};return yc}function ea(){var jb=N(L()).domain([1,10]);jb.copy=function(){return P(jb,ea()).base(jb.base())};y.apply(jb,arguments);return jb}function aa(jb){return function($b){return Math.sign($b)*Math.log1p(Math.abs($b/jb))}}function va(jb){return function($b){return Math.sign($b)*Math.expm1(Math.abs($b))*
jb}}function ta(jb){var $b=1,yc=jb(aa($b),va($b));yc.constant=function(nc){return arguments.length?jb(aa($b=+nc),va($b)):$b};return z(yc)}function Da(){var jb=ta(L());jb.copy=function(){return P(jb,Da()).constant(jb.constant())};return y.apply(jb,arguments)}function $a(jb){return function($b){return 0>$b?-Math.pow(-$b,jb):Math.pow($b,jb)}}function kb(jb){return 0>jb?-Math.sqrt(-jb):Math.sqrt(jb)}function sa(jb){return 0>jb?-jb*jb:jb*jb}function Ta(jb){var $b=jb(f,f),yc=1;$b.exponent=function(nc){return arguments.length?
(yc=+nc,1===yc?jb(f,f):.5===yc?jb(kb,sa):jb($a(yc),$a(1/yc))):yc};return z($b)}function Wa(){var jb=Ta(L());jb.copy=function(){return P(jb,Wa()).exponent(jb.exponent())};y.apply(jb,arguments);return jb}function Ea(jb){return Math.sign(jb)*jb*jb}function ua(){function jb(qc){qc=$b(qc);qc=Math.sign(qc)*Math.sqrt(Math.abs(qc));return isNaN(qc)?zc:nc?Math.round(qc):qc}var $b=L()(f,f),yc=[0,1],nc=!1,zc;jb.invert=function(qc){return $b.invert(Ea(qc))};jb.domain=function(qc){return arguments.length?($b.domain(qc),
jb):$b.domain()};jb.range=function(qc){return arguments.length?($b.range((yc=Array.from(qc,a)).map(Ea)),jb):yc.slice()};jb.rangeRound=function(qc){return jb.range(qc).round(!0)};jb.round=function(qc){return arguments.length?(nc=!!qc,jb):nc};jb.clamp=function(qc){return arguments.length?($b.clamp(qc),jb):$b.clamp()};jb.unknown=function(qc){return arguments.length?(zc=qc,jb):zc};jb.copy=function(){return ua($b.domain(),yc).round(nc).clamp($b.clamp()).unknown(zc)};y.apply(jb,arguments);return z(jb)}
function V(){function jb(){var Vc=0,Uc=Math.max(1,nc.length);for(zc=Array(Uc-1);++Vc<Uc;)zc[Vc-1]=m.quantileSorted(yc,Vc/Uc);return $b}function $b(Vc){return isNaN(Vc=+Vc)?qc:nc[m.bisect(zc,Vc)]}var yc=[],nc=[],zc=[],qc;$b.invertExtent=function(Vc){Vc=nc.indexOf(Vc);return 0>Vc?[NaN,NaN]:[0<Vc?zc[Vc-1]:yc[0],Vc<zc.length?zc[Vc]:yc[yc.length-1]]};$b.domain=function(Vc){if(!arguments.length)return yc.slice();yc=[];for(let Uc of Vc)null==Uc||isNaN(Uc=+Uc)||yc.push(Uc);yc.sort(m.ascending);return jb()};
$b.range=function(Vc){return arguments.length?(nc=Array.from(Vc),jb()):nc.slice()};$b.unknown=function(Vc){return arguments.length?(qc=Vc,$b):qc};$b.quantiles=function(){return zc.slice()};$b.copy=function(){return V().domain(yc).range(nc).unknown(qc)};return y.apply($b,arguments)}function W(){function jb(Lc){return Lc<=Lc?Vc[m.bisect(qc,Lc,0,zc)]:Uc}function $b(){var Lc=-1;for(qc=Array(zc);++Lc<zc;)qc[Lc]=((Lc+1)*nc-(Lc-zc)*yc)/(zc+1);return jb}var yc=0,nc=1,zc=1,qc=[.5],Vc=[0,1],Uc;jb.domain=function(Lc){return arguments.length?
([yc,nc]=Lc,yc=+yc,nc=+nc,$b()):[yc,nc]};jb.range=function(Lc){return arguments.length?(zc=(Vc=Array.from(Lc)).length-1,$b()):Vc.slice()};jb.invertExtent=function(Lc){Lc=Vc.indexOf(Lc);return 0>Lc?[NaN,NaN]:1>Lc?[yc,qc[0]]:Lc>=zc?[qc[zc-1],nc]:[qc[Lc-1],qc[Lc]]};jb.unknown=function(Lc){return arguments.length?(Uc=Lc,jb):jb};jb.thresholds=function(){return qc.slice()};jb.copy=function(){return W().domain([yc,nc]).range(Vc).unknown(Uc)};return y.apply(z(jb),arguments)}function ca(){function jb(qc){return qc<=
qc?yc[m.bisect($b,qc,0,zc)]:nc}var $b=[.5],yc=[0,1],nc,zc=1;jb.domain=function(qc){return arguments.length?($b=Array.from(qc),zc=Math.min($b.length,yc.length-1),jb):$b.slice()};jb.range=function(qc){return arguments.length?(yc=Array.from(qc),zc=Math.min($b.length,yc.length-1),jb):yc.slice()};jb.invertExtent=function(qc){qc=yc.indexOf(qc);return[$b[qc-1],$b[qc]]};jb.unknown=function(qc){return arguments.length?(nc=qc,jb):nc};jb.copy=function(){return ca().domain($b).range(yc).unknown(nc)};return y.apply(jb,
arguments)}function fa(jb){return new Date(jb)}function qa(jb){return jb instanceof Date?+jb:+new Date(+jb)}function pa(jb,$b,yc,nc,zc,qc,Vc,Uc,Lc){function Fd(xb){return(Vc(xb)<xb?Qb:qc(xb)<xb?gc:zc(xb)<xb?Ib:nc(xb)<xb?Cc:$b(xb)<xb?yc(xb)<xb?Wc:Gd:jb(xb)<xb?Wd:Ja)(xb)}function fe(xb,Jb,ac){null==xb&&(xb=10);if("number"===typeof xb){var jc=Math.abs(ac-Jb)/xb,Ec=m.bisector(function(sc){return sc[2]}).right(eb,jc);Ec===eb.length?(Jb=m.tickStep(Jb/kc,ac/kc,xb),xb=jb):Ec?(Ec=eb[jc/eb[Ec-1][2]<eb[Ec][2]/
jc?Ec-1:Ec],Jb=Ec[1],xb=Ec[0]):(Jb=Math.max(m.tickStep(Jb,ac,xb),1),xb=Uc);return xb.every(Jb)}return xb}var vd=L()(f,f),Sc=vd.invert,Yd=vd.domain,Qb=Lc(".%L"),gc=Lc(":%S"),Ib=Lc("%I:%M"),Cc=Lc("%I %p"),Wc=Lc("%a %d"),Gd=Lc("%b %d"),Wd=Lc("%B"),Ja=Lc("%Y"),eb=[[Vc,1,1E3],[Vc,5,5E3],[Vc,15,15E3],[Vc,30,3E4],[qc,1,6E4],[qc,5,3E5],[qc,15,9E5],[qc,30,18E5],[zc,1,36E5],[zc,3,108E5],[zc,6,216E5],[zc,12,432E5],[nc,1,864E5],[nc,2,1728E5],[yc,1,vc],[$b,1,lc],[$b,3,3*lc],[jb,1,kc]];vd.invert=function(xb){return new Date(Sc(xb))};
vd.domain=function(xb){return arguments.length?Yd(Array.from(xb,qa)):Yd().map(fa)};vd.ticks=function(xb){var Jb=Yd(),ac=Jb[0];Jb=Jb[Jb.length-1];var jc=Jb<ac;if(jc){var Ec=ac;ac=Jb;Jb=Ec}Ec=(Ec=fe(xb,ac,Jb))?Ec.range(ac,Jb+1):[];return jc?Ec.reverse():Ec};vd.tickFormat=function(xb,Jb){return null==Jb?Fd:Lc(Jb)};vd.nice=function(xb){var Jb=Yd();return(xb=fe(xb,Jb[0],Jb[Jb.length-1]))?Yd(R(Jb,xb)):vd};vd.copy=function(){return P(vd,pa(jb,$b,yc,nc,zc,qc,Vc,Uc,Lc))};return vd}function Ga(){function jb(vd){return isNaN(vd=
+vd)?fe:Lc(0===Vc?.5:(vd=(Uc(vd)-zc)*Vc,Fd?Math.max(0,Math.min(1,vd)):vd))}function $b(vd){return function(Sc){var Yd,Qb;return arguments.length?([Yd,Qb]=Sc,Lc=vd(Yd,Qb),jb):[Lc(0),Lc(1)]}}var yc=0,nc=1,zc,qc,Vc,Uc,Lc=f,Fd=!1,fe;jb.domain=function(vd){return arguments.length?([yc,nc]=vd,zc=Uc(yc=+yc),qc=Uc(nc=+nc),Vc=zc===qc?0:1/(qc-zc),jb):[yc,nc]};jb.clamp=function(vd){return arguments.length?(Fd=!!vd,jb):Fd};jb.interpolator=function(vd){return arguments.length?(Lc=vd,jb):Lc};jb.range=$b(n.interpolate);
jb.rangeRound=$b(n.interpolateRound);jb.unknown=function(vd){return arguments.length?(fe=vd,jb):fe};return function(vd){Uc=vd;zc=vd(yc);qc=vd(nc);Vc=zc===qc?0:1/(qc-zc);return jb}}function na(jb,$b){return $b.domain(jb.domain()).interpolator(jb.interpolator()).clamp(jb.clamp()).unknown(jb.unknown())}function Oa(){var jb=z(Ga()(f));jb.copy=function(){return na(jb,Oa())};return q.apply(jb,arguments)}function cb(){var jb=N(Ga()).domain([1,10]);jb.copy=function(){return na(jb,cb()).base(jb.base())};return q.apply(jb,
arguments)}function Za(){var jb=ta(Ga());jb.copy=function(){return na(jb,Za()).constant(jb.constant())};return q.apply(jb,arguments)}function Aa(){var jb=Ta(Ga());jb.copy=function(){return na(jb,Aa()).exponent(jb.exponent())};return q.apply(jb,arguments)}function Fa(){function jb(nc){if(!isNaN(nc=+nc))return yc((m.bisect($b,nc,1)-1)/($b.length-1))}var $b=[],yc=f;jb.domain=function(nc){if(!arguments.length)return $b.slice();$b=[];for(let zc of nc)null==zc||isNaN(zc=+zc)||$b.push(zc);$b.sort(m.ascending);
return jb};jb.interpolator=function(nc){return arguments.length?(yc=nc,jb):yc};jb.range=function(){return $b.map((nc,zc)=>yc(zc/($b.length-1)))};jb.quantiles=function(nc){return Array.from({length:nc+1},(zc,qc)=>m.quantile($b,qc/nc))};jb.copy=function(){return Fa(yc).domain($b)};return q.apply(jb,arguments)}function Ra(){function jb(gc){return isNaN(gc=+gc)?Qb:(gc=.5+((gc=+Sc(gc))-Uc)*(qc*gc<qc*Uc?Fd:fe),vd(Yd?Math.max(0,Math.min(1,gc)):gc))}function $b(gc){return function(Ib){var Cc,Wc,Gd;return arguments.length?
([Cc,Wc,Gd]=Ib,vd=n.piecewise(gc,[Cc,Wc,Gd]),jb):[vd(0),vd(.5),vd(1)]}}var yc=0,nc=.5,zc=1,qc=1,Vc,Uc,Lc,Fd,fe,vd=f,Sc,Yd=!1,Qb;jb.domain=function(gc){return arguments.length?([yc,nc,zc]=gc,Vc=Sc(yc=+yc),Uc=Sc(nc=+nc),Lc=Sc(zc=+zc),Fd=Vc===Uc?0:.5/(Uc-Vc),fe=Uc===Lc?0:.5/(Lc-Uc),qc=Uc<Vc?-1:1,jb):[yc,nc,zc]};jb.clamp=function(gc){return arguments.length?(Yd=!!gc,jb):Yd};jb.interpolator=function(gc){return arguments.length?(vd=gc,jb):vd};jb.range=$b(n.interpolate);jb.rangeRound=$b(n.interpolateRound);
jb.unknown=function(gc){return arguments.length?(Qb=gc,jb):Qb};return function(gc){Sc=gc;Vc=gc(yc);Uc=gc(nc);Lc=gc(zc);Fd=Vc===Uc?0:.5/(Uc-Vc);fe=Uc===Lc?0:.5/(Lc-Uc);qc=Uc<Vc?-1:1;return jb}}function ab(){var jb=z(Ra()(f));jb.copy=function(){return na(jb,ab())};return q.apply(jb,arguments)}function lb(){var jb=N(Ra()).domain([.1,1,10]);jb.copy=function(){return na(jb,lb()).base(jb.base())};return q.apply(jb,arguments)}function Ma(){var jb=ta(Ra());jb.copy=function(){return na(jb,Ma()).constant(jb.constant())};
return q.apply(jb,arguments)}function nb(){var jb=Ta(Ra());jb.copy=function(){return na(jb,nb()).exponent(jb.exponent())};return q.apply(jb,arguments)}const zb=Symbol("implicit");var Sb=[0,1],vc=6048E5,lc=2592E6,kc=31536E6;g.scaleBand=h;g.scaleDiverging=ab;g.scaleDivergingLog=lb;g.scaleDivergingPow=nb;g.scaleDivergingSqrt=function(){return nb.apply(null,arguments).exponent(.5)};g.scaleDivergingSymlog=Ma;g.scaleIdentity=K;g.scaleImplicit=zb;g.scaleLinear=J;g.scaleLog=ea;g.scaleOrdinal=l;g.scalePoint=
function(){return c(h.apply(null,arguments).paddingInner(1))};g.scalePow=Wa;g.scaleQuantile=V;g.scaleQuantize=W;g.scaleRadial=ua;g.scaleSequential=Oa;g.scaleSequentialLog=cb;g.scaleSequentialPow=Aa;g.scaleSequentialQuantile=Fa;g.scaleSequentialSqrt=function(){return Aa.apply(null,arguments).exponent(.5)};g.scaleSequentialSymlog=Za;g.scaleSqrt=function(){return Wa.apply(null,arguments).exponent(.5)};g.scaleSymlog=Da;g.scaleThreshold=ca;g.scaleTime=function(){return y.apply(pa(O.timeYear,O.timeMonth,
O.timeWeek,O.timeDay,O.timeHour,O.timeMinute,O.timeSecond,O.timeMillisecond,x.timeFormat).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)};g.scaleUtc=function(){return y.apply(pa(O.utcYear,O.utcMonth,O.utcWeek,O.utcDay,O.utcHour,O.utcMinute,O.utcSecond,O.utcMillisecond,x.utcFormat).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)};g.tickFormat=G;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[35]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E,B(14),B(15),B(34),B(33),B(18)):"function"===typeof define&&define.amd?define("exports vega-util d3-array d3-scale d3-interpolate vega-time".split(" "),m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.vega={},g.vega,g.d3,g.d3,g.d3,g.vega))})(this,function(g,m,n,F,O,x){function y(V,W,ca){W=V-W+2*ca;return V?0<W?W:1:0}function q(V){return function(W){let ca=W[0];W=W[1];let fa;W<ca&&(fa=
ca,ca=W,W=fa);return[V.invert(ca),V.invert(W)]}}function l(V){return function(W){const ca=V.range();let fa=W[0];W=W[1];let qa=-1,pa;let Ga;if(W<fa){var na=fa;fa=W;W=na}na=0;for(Ga=ca.length;na<Ga;++na)ca[na]>=fa&&ca[na]<=W&&(0>qa&&(qa=na),pa=na);if(!(0>qa))return fa=V.invertExtent(ca[qa]),W=V.invertExtent(ca[pa]),[void 0===fa[0]?fa[1]:fa[0],void 0===W[1]?W[0]:W[1]]}}function h(){function V(){var Aa=ca().length;const Fa=qa[1]<qa[0],Ra=qa[1-Fa],ab=y(Aa,Oa,cb);let lb=qa[Fa-0];pa=(Ra-lb)/(ab||1);na&&
(pa=Math.floor(pa));lb+=(Ra-lb-pa*(Aa-Oa))*Za;Ga=pa*(1-Oa);na&&(lb=Math.round(lb),Ga=Math.round(Ga));Aa=n.range(Aa).map(Ma=>lb+pa*Ma);return fa(Fa?Aa.reverse():Aa)}const W=F.scaleOrdinal().unknown(void 0),ca=W.domain,fa=W.range;let qa=[0,1],pa,Ga,na=!1,Oa=0,cb=0,Za=.5;delete W.unknown;W.domain=function(Aa){return arguments.length?(ca(Aa),V()):ca()};W.range=function(Aa){return arguments.length?(qa=[+Aa[0],+Aa[1]],V()):qa.slice()};W.rangeRound=function(Aa){qa=[+Aa[0],+Aa[1]];na=!0;return V()};W.bandwidth=
function(){return Ga};W.step=function(){return pa};W.round=function(Aa){return arguments.length?(na=!!Aa,V()):na};W.padding=function(Aa){return arguments.length?(Oa=cb=Math.max(0,Math.min(1,Aa)),V()):Oa};W.paddingInner=function(Aa){return arguments.length?(Oa=Math.max(0,Math.min(1,Aa)),V()):Oa};W.paddingOuter=function(Aa){return arguments.length?(cb=Math.max(0,Math.min(1,Aa)),V()):cb};W.align=function(Aa){return arguments.length?(Za=Math.max(0,Math.min(1,Aa)),V()):Za};W.invertRange=function(Aa){if(null!=
Aa[0]&&null!=Aa[1]){var Fa=qa[1]<qa[0],Ra=Fa?fa().reverse():fa(),ab=Ra.length-1,lb=+Aa[0],Ma=+Aa[1];if(lb===lb&&Ma===Ma){if(Ma<lb){var nb=lb;lb=Ma;Ma=nb}if(!(Ma<Ra[0]||lb>qa[1-Fa]))return Aa=Math.max(0,n.bisectRight(Ra,lb)-1),Ma=lb===Ma?Aa:n.bisectRight(Ra,Ma)-1,lb-Ra[Aa]>Ga+1E-10&&++Aa,Fa&&(nb=Aa,Aa=ab-Ma,Ma=ab-nb),Aa>Ma?void 0:ca().slice(Aa,Ma+1)}}};W.invert=function(Aa){return(Aa=W.invertRange([Aa,Aa]))?Aa[0]:Aa};W.copy=function(){return h().domain(ca()).range(qa).round(na).paddingInner(Oa).paddingOuter(cb).align(Za)};
return V()}function c(V){const W=V.copy;V.padding=V.paddingOuter;delete V.paddingInner;V.copy=function(){return c(W())};return V}function e(){function V(fa){return null==fa||fa!==fa?void 0:ca[(n.bisect(W,fa)-1)%ca.length]}let W=[],ca=[];V.domain=function(fa){return arguments.length?(W=N.call(fa,m.toNumber),V):W.slice()};V.range=function(fa){return arguments.length?(ca=ea.call(fa),V):ca.slice()};V.tickFormat=function(fa,qa){return F.tickFormat(W[0],m.peek(W),null==fa?10:fa,qa)};V.copy=function(){return e().domain(V.domain()).range(V.range())};
return V}function a(V,W,ca){const fa=function(){const qa=W();qa.invertRange||(qa.invertRange=qa.invert?q(qa):qa.invertExtent?l(qa):void 0);qa.type=V;return qa};fa.metadata=m.toSet(m.array(ca));return fa}function f(V,W,ca){return 1<arguments.length?(aa[V]=a(V,W,ca),this):p(V)?aa[V]:void 0}function p(V){return m.hasOwnProperty(aa,V)}function A(V,W){return(V=aa[V])&&V.metadata[W]}function C(V){return A(V,"discrete")}function D(V){return A(V,"discretizing")}function P(V){return A(V,"log")}function L(V){return A(V,
"temporal")}function G(V,W,ca){return O.piecewise(z(W||"rgb",ca),V)}function z(V,W){V=r[J(V)];return null!=W&&V&&V.gamma?V.gamma(W):V}function J(V){return"interpolate"+V.toLowerCase().split("-").map(W=>W[0].toUpperCase()+W.slice(1)).join("")}function K(V){const W=V.length/6|0,ca=Array(W);for(let fa=0;fa<W;)ca[fa]="#"+V.slice(6*fa,6*++fa);return ca}function R(V,W){for(const ca in V)U(ca,W(V[ca]))}function U(V,W){V=V&&V.toLowerCase();return 1<arguments.length?(ta[V]=W,this):ta[V]}function ka(V,W,ca){var fa=
V.range();let qa=fa[0],pa=m.peek(fa);fa=$a;qa>pa&&(fa=pa,pa=qa,qa=fa,fa=kb);qa=Math.floor(qa);pa=Math.ceil(pa);W=W.map(Ga=>[Ga,V(Ga)]).filter(Ga=>qa<=Ga[1]&&Ga[1]<=pa).sort(fa).map(Ga=>Ga[0]);if(0<ca&&1<W.length){for(fa=[W[0],m.peek(W)];W.length>ca&&3<=W.length;)W=W.filter((Ga,na)=>!(na%2));3>W.length&&(W=fa)}return W}function ba(V,W){return V.bins?ka(V,V.bins):V.ticks?V.ticks(W):V.domain()}function da(V,W,ca,fa,qa,pa){const Ga=W.type;let na=Da;if("time"===Ga||"time"===qa)na=V.timeFormat(fa);else if("utc"===
Ga||"utc"===qa)na=V.utcFormat(fa);else if(P(Ga)){const Oa=V.formatFloat(fa);if(pa||W.bins)na=Oa;else{const cb=ja(W,ca,!1);na=Za=>cb(Za)?Oa(Za):""}}else W.tickFormat?(W=W.domain(),na=V.formatSpan(W[0],W[W.length-1],ca,fa)):fa&&(na=V.format(fa));return na}function ja(V,W,ca){const fa=ba(V,W),qa=V.base(),pa=Math.log(qa),Ga=Math.max(1,qa*W/fa.length);V=na=>{na/=Math.pow(qa,Math.round(Math.log(na)/pa));na*qa<qa-.5&&(na*=qa);return na<=Ga};return ca?fa.filter(V):V}function Z(V,W){V.bins?(V=V.bins,W=V.slice(0,
-1),W.max=m.peek(V),V=W):"log"===V.type?V=ja(V,W,!0):sa[V.type]?(V=V[sa[V.type]](),V=[-Infinity].concat(V),V.max=Infinity):V=ba(V,W);return V}function Q(V,W,ca,fa,qa,pa,Ga){if(Ta[W.type]&&"time"!==pa&&"utc"!==pa){{ca=W[Ta[W.type]]();pa=ca.length;Ga=1<pa?ca[1]-ca[0]:ca[0];let na;for(na=1;na<pa;++na)Ga=Math.min(Ga,ca[na]-ca[na-1]);V=V.formatSpan(0,Ga,30,qa)}}else V=da(V,W,ca,qa,pa,Ga);return"symbol"===fa&&(sa[W.type]||W.bins)?Wa(V):"discrete"===fa?Ea(V):ua(V)}var r=function(V){if(V&&V.__esModule)return V;
var W=Object.create(null);V&&Object.keys(V).forEach(function(ca){if("default"!==ca){var fa=Object.getOwnPropertyDescriptor(V,ca);Object.defineProperty(W,ca,fa.get?fa:{enumerable:!0,get:function(){return V[ca]}})}});W["default"]=V;return Object.freeze(W)}(O),N=Array.prototype.map;const ea=Array.prototype.slice,aa={};f("identity",F.scaleIdentity);f("linear",F.scaleLinear,"continuous");f("log",F.scaleLog,["continuous","log"]);f("pow",F.scalePow,"continuous");f("sqrt",F.scaleSqrt,"continuous");f("symlog",
F.scaleSymlog,"continuous");f("time",F.scaleTime,["continuous","temporal"]);f("utc",F.scaleUtc,["continuous","temporal"]);f("sequential",F.scaleSequential,["continuous","interpolating"]);f("sequential-linear",F.scaleSequential,["continuous","interpolating"]);f("sequential-log",F.scaleSequentialLog,["continuous","interpolating","log"]);f("sequential-pow",F.scaleSequentialPow,["continuous","interpolating"]);f("sequential-sqrt",F.scaleSequentialSqrt,["continuous","interpolating"]);f("sequential-symlog",
F.scaleSequentialSymlog,["continuous","interpolating"]);f("diverging-linear",F.scaleDiverging,["continuous","interpolating"]);f("diverging-log",F.scaleDivergingLog,["continuous","interpolating","log"]);f("diverging-pow",F.scaleDivergingPow,["continuous","interpolating"]);f("diverging-sqrt",F.scaleDivergingSqrt,["continuous","interpolating"]);f("diverging-symlog",F.scaleDivergingSymlog,["continuous","interpolating"]);f("quantile",F.scaleQuantile,["discretizing","quantile"]);f("quantize",F.scaleQuantize,
"discretizing");f("threshold",F.scaleThreshold,"discretizing");f("bin-ordinal",e,["discrete","discretizing"]);f("ordinal",F.scaleOrdinal,"discrete");f("band",h,"discrete");f("point",function(){return c(h().paddingInner(1))},"discrete");const va=["clamp","base","constant","exponent"],ta={};R({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",
category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",
dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},K);R({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",
greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",
greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",
yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",
redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",
magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",
cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",
sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},V=>G(K(V)));const Da=V=>m.isArray(V)?V.map(W=>String(W)):String(V),$a=(V,W)=>V[1]-W[1],kb=(V,W)=>W[1]-V[1],sa={["quantile"]:"quantiles",["quantize"]:"thresholds",["threshold"]:"domain"},Ta={["quantile"]:"quantiles",["quantize"]:"domain"},Wa=V=>(W,ca,fa)=>{ca=fa[ca+1];fa=fa.max;fa=null!=fa?fa:Infinity;ca=null!=
ca?ca:fa;W=Number.isFinite(W)?V(W):null;ca=Number.isFinite(ca)?V(ca):null;return W&&ca?W+"  "+ca:ca?"\x3c "+ca:" "+W},Ea=V=>(W,ca)=>ca?V(W):null,ua=V=>W=>V(W);Object.defineProperty(g,"scaleImplicit",{enumerable:!0,get:function(){return F.scaleImplicit}});g.Band="band";g.BinOrdinal="bin-ordinal";g.DiscreteLegend="discrete";g.Diverging="diverging";g.GradientLegend="gradient";g.Identity="identity";g.Linear="linear";g.Log="log";g.Ordinal="ordinal";g.Point="point";g.Pow="pow";g.Quantile="quantile";g.Quantize=
"quantize";g.Sequential="sequential";g.Sqrt="sqrt";g.SymbolLegend="symbol";g.Symlog="symlog";g.Threshold="threshold";g.Time="time";g.UTC="utc";g.bandSpace=y;g.domainCaption=function(V,W,ca){ca=ca||{};var fa=Math.max(3,ca.maxlen||7);{var qa=ca.format;const pa=(ca=ca.formatType)||W.type;m.isString(qa)&&L(pa)&&(qa=qa.replace(/%a/g,"%A").replace(/%b/g,"%B"));V=qa||"time"!==pa?qa||"utc"!==pa?Q(V,W,5,null,qa,ca,!0):V.utcFormat("%A, %d %B %Y, %X UTC"):V.timeFormat("%A, %d %B %Y, %X")}if(D(W.type))return fa=
Z(W).slice(1).map(V),W=fa.length,`${W} boundar${1===W?"y":"ies"}: ${fa.join(", ")}`;if(C(W.type))return qa=W.domain(),W=qa.length,fa=W>fa?qa.slice(0,fa-2).map(V).join(", ")+", ending with "+qa.slice(-1).map(V):qa.map(V).join(", "),`${W} value${1===W?"":"s"}: ${fa}`;fa=W.domain();return`values from ${V(fa[0])} to ${V(m.peek(fa))}`};g.interpolate=z;g.interpolateColors=G;g.interpolateRange=function(V,W){const ca=W[0],fa=m.peek(W)-ca;return function(qa){return V(ca+qa*fa)}};g.isContinuous=function(V){return A(V,
"continuous")};g.isDiscrete=C;g.isDiscretizing=D;g.isInterpolating=function(V){return A(V,"interpolating")};g.isLogarithmic=P;g.isQuantile=function(V){return A(V,"quantile")};g.isTemporal=L;g.isValidScaleType=p;g.labelFormat=Q;g.labelFraction=function(V){var W=V.domain();const ca=W.length-1;let fa=+W[0];W=+m.peek(W);let qa=W-fa;"threshold"===V.type&&(V=ca?qa/ca:.1,fa-=V,W+=V,qa=W-fa);return pa=>(pa-fa)/qa};g.labelValues=Z;g.quantizeInterpolator=function(V,W){const ca=Array(W),fa=W+1;for(let qa=0;qa<
W;)ca[qa]=V(++qa/fa);return ca};g.scale=f;g.scaleCopy=function(V){const W=V.type;V=V.copy();V.type=W;return V};g.scaleFraction=function(V,W,ca){var fa=ca-W;let qa,pa;return fa&&Number.isFinite(fa)?(fa=(qa=V.type).indexOf("-"),qa=0>fa?qa:qa.slice(fa+1),pa=f(qa)().domain([W,ca]).range([0,1]),va.forEach(Ga=>V[Ga]?pa[Ga](V[Ga]()):0),pa):m.constant(.5)};g.scheme=U;g.tickCount=function(V,W,ca){let fa;m.isNumber(W)&&(V.bins&&(W=Math.max(W,V.bins.length)),null!=ca&&(W=Math.min(W,Math.floor(m.span(V.domain())/
ca||1))));m.isObject(W)&&(fa=W.step,W=W.interval);m.isString(W)&&(W="time"===V.type?x.timeInterval(W):"utc"==V.type?x.utcInterval(W):m.error("Only time and utc scales accept interval strings."),fa&&(W=W.every(fa)));return W};g.tickFormat=da;g.tickValues=ba;g.validTicks=ka;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[36]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E,B(14),B(30),B(29),B(31),B(25),B(35)):"function"===typeof define&&define.amd?define("exports vega-util d3-shape d3-path vega-canvas vega-loader vega-scale".split(" "),m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.vega={},g.vega,g.d3,g.d3,g.vega,g.vega,g.vega))})(this,function(g,m,n,F,O,x,y){function q(Y,oa,Pa){const Ua=Y.gradient;let yb=Y.id,Tb="radial"===Ua?"p_":"";yb||(yb=Y.id="gradient_"+
we++,"radial"===Ua?(Y.x1=l(Y.x1,.5),Y.y1=l(Y.y1,.5),Y.r1=l(Y.r1,0),Y.x2=l(Y.x2,.5),Y.y2=l(Y.y2,.5),Y.r2=l(Y.r2,.5),Tb="p_"):(Y.x1=l(Y.x1,0),Y.y1=l(Y.y1,0),Y.x2=l(Y.x2,1),Y.y2=l(Y.y2,0)));oa[yb]=Y;return"url("+(Pa||"")+"#"+Tb+yb+")"}function l(Y,oa){return null!=Y?Y:oa}function h(Y,oa,Pa){Y=m.hasOwnProperty(nf,Y)&&nf[Y];var Ua=null;Y&&(Ua=Y.curve||Y[oa||"vertical"],Y.tension&&null!=Pa&&(Ua=Ua[Y.tension](Pa)));return Ua}function c(Y){const oa=[];let Pa,Ua,yb,Tb;var Zb;const rc=Y.slice().replace(Qd[0],
"###$1").split(Qd[1]).slice(1);Y=0;for(Tb=rc.length;Y<Tb;++Y){var Gc=rc[Y];var dd=Gc.slice(1).trim().replace(Qd[2],"$1###$2").replace(Qd[3],"$1###$2").split(Qd[4]);Ua=Gc.charAt(0);Gc=[Ua];yb=0;for(Zb=dd.length;yb<Zb;++yb)(Pa=+dd[yb])===Pa&&Gc.push(Pa);dd=Pe[Ua.toLowerCase()];if(Gc.length-1>dd)for(Zb=Gc.length,yb=1,oa.push([Ua].concat(Gc.slice(yb,yb+=dd))),Ua="M"===Ua?"L":"m"===Ua?"l":Ua;yb<Zb;yb+=dd)oa.push([Ua].concat(Gc.slice(yb,yb+dd)));else oa.push(Gc)}return oa}function e(Y,oa,Pa,Ua,yb,Tb,Zb,
rc,Gc){const dd=De.call(arguments);if(je[dd])return je[dd];var Zc=Zb*Qe;const Kd=Math.sin(Zc);Zc=Math.cos(Zc);Pa=Math.abs(Pa);Ua=Math.abs(Ua);var Ud=Zc*(rc-Y)*.5+Kd*(Gc-oa)*.5,pd=Zc*(Gc-oa)*.5-Kd*(rc-Y)*.5;Ud=Ud*Ud/(Pa*Pa)+pd*pd/(Ua*Ua);1<Ud&&(Ud=Math.sqrt(Ud),Pa*=Ud,Ua*=Ud);var Bd=Zc/Pa,jd=Kd/Pa,cf=-Kd/Ua,Va=Zc/Ua;Ud=Bd*rc+jd*Gc;pd=cf*rc+Va*Gc;Bd=Bd*Y+jd*oa;jd=cf*Y+Va*oa;cf=1/((Bd-Ud)*(Bd-Ud)+(jd-pd)*(jd-pd))-.25;0>cf&&(cf=0);Va=Math.sqrt(cf);Tb==yb&&(Va=-Va);cf=.5*(Ud+Bd)-Va*(jd-pd);Va=.5*(pd+jd)+
Va*(Bd-Ud);Ud=Math.atan2(pd-Va,Ud-cf);pd=Math.atan2(jd-Va,Bd-cf)-Ud;0>pd&&1===Tb?pd+=Jc:0<pd&&0===Tb&&(pd-=Jc);Bd=Math.ceil(Math.abs(pd/(Yf+.001)));jd=[];for(let pb=0;pb<Bd;++pb)jd[pb]=[cf,Va,Ud+pb*pd/Bd,Ud+(pb+1)*pd/Bd,Pa,Ua,Kd,Zc];return je[dd]=jd}function a(Y,oa,Pa,Ua,yb,Tb){var Zb=null,rc=0,Gc=0,dd=0,Zc=0;null==Pa&&(Pa=0);null==Ua&&(Ua=0);null==yb&&(yb=1);null==Tb&&(Tb=yb);Y.beginPath&&Y.beginPath();for(var Kd=0,Ud=oa.length;Kd<Ud;++Kd){var pd=oa[Kd];if(1!==yb||1!==Tb){var Bd=yb;var jd=Tb;var cf=
re[0]=pd[0];if("a"===cf||"A"===cf)re[1]=Bd*pd[1],re[2]=jd*pd[2],re[3]=pd[3],re[4]=pd[4],re[5]=pd[5],re[6]=Bd*pd[6],re[7]=jd*pd[7];else if("h"===cf||"H"===cf)re[1]=Bd*pd[1];else if("v"===cf||"V"===cf)re[1]=jd*pd[1];else{cf=1;for(var Va=pd.length;cf<Va;++cf)re[cf]=(1==cf%2?Bd:jd)*pd[cf]}pd=re}switch(pd[0]){case "l":rc+=pd[1];Gc+=pd[2];Y.lineTo(rc+Pa,Gc+Ua);break;case "L":rc=pd[1];Gc=pd[2];Y.lineTo(rc+Pa,Gc+Ua);break;case "h":rc+=pd[1];Y.lineTo(rc+Pa,Gc+Ua);break;case "H":rc=pd[1];Y.lineTo(rc+Pa,Gc+
Ua);break;case "v":Gc+=pd[1];Y.lineTo(rc+Pa,Gc+Ua);break;case "V":Gc=pd[1];Y.lineTo(rc+Pa,Gc+Ua);break;case "m":rc+=pd[1];Gc+=pd[2];Y.moveTo(rc+Pa,Gc+Ua);break;case "M":rc=pd[1];Gc=pd[2];Y.moveTo(rc+Pa,Gc+Ua);break;case "c":Bd=rc+pd[5];jd=Gc+pd[6];dd=rc+pd[3];Zc=Gc+pd[4];Y.bezierCurveTo(rc+pd[1]+Pa,Gc+pd[2]+Ua,dd+Pa,Zc+Ua,Bd+Pa,jd+Ua);rc=Bd;Gc=jd;break;case "C":rc=pd[5];Gc=pd[6];dd=pd[3];Zc=pd[4];Y.bezierCurveTo(pd[1]+Pa,pd[2]+Ua,dd+Pa,Zc+Ua,rc+Pa,Gc+Ua);break;case "s":Bd=rc+pd[3];jd=Gc+pd[4];dd=
2*rc-dd;Zc=2*Gc-Zc;Y.bezierCurveTo(dd+Pa,Zc+Ua,rc+pd[1]+Pa,Gc+pd[2]+Ua,Bd+Pa,jd+Ua);dd=rc+pd[1];Zc=Gc+pd[2];rc=Bd;Gc=jd;break;case "S":Bd=pd[3];jd=pd[4];dd=2*rc-dd;Zc=2*Gc-Zc;Y.bezierCurveTo(dd+Pa,Zc+Ua,pd[1]+Pa,pd[2]+Ua,Bd+Pa,jd+Ua);rc=Bd;Gc=jd;dd=pd[1];Zc=pd[2];break;case "q":Bd=rc+pd[3];jd=Gc+pd[4];dd=rc+pd[1];Zc=Gc+pd[2];Y.quadraticCurveTo(dd+Pa,Zc+Ua,Bd+Pa,jd+Ua);rc=Bd;Gc=jd;break;case "Q":Bd=pd[3];jd=pd[4];Y.quadraticCurveTo(pd[1]+Pa,pd[2]+Ua,Bd+Pa,jd+Ua);rc=Bd;Gc=jd;dd=pd[1];Zc=pd[2];break;
case "t":Bd=rc+pd[1];jd=Gc+pd[2];null===Zb[0].match(/[QqTt]/)?(dd=rc,Zc=Gc):"t"===Zb[0]?(dd=2*rc-pb,Zc=2*Gc-Cb):"q"===Zb[0]&&(dd=2*rc-dd,Zc=2*Gc-Zc);var pb=dd;var Cb=Zc;Y.quadraticCurveTo(dd+Pa,Zc+Ua,Bd+Pa,jd+Ua);rc=Bd;Gc=jd;dd=rc+pd[1];Zc=Gc+pd[2];break;case "T":Bd=pd[1];jd=pd[2];dd=2*rc-dd;Zc=2*Gc-Zc;Y.quadraticCurveTo(dd+Pa,Zc+Ua,Bd+Pa,jd+Ua);rc=Bd;Gc=jd;break;case "a":f(Y,rc+Pa,Gc+Ua,[pd[1],pd[2],pd[3],pd[4],pd[5],pd[6]+rc+Pa,pd[7]+Gc+Ua]);rc+=pd[6];Gc+=pd[7];break;case "A":f(Y,rc+Pa,Gc+Ua,[pd[1],
pd[2],pd[3],pd[4],pd[5],pd[6]+Pa,pd[7]+Ua]);rc=pd[6];Gc=pd[7];break;case "z":case "Z":Y.closePath()}Zb=pd}}function f(Y,oa,Pa,Ua){oa=e(Ua[5],Ua[6],Ua[0],Ua[1],Ua[3],Ua[4],Ua[2],oa,Pa);for(Pa=0;Pa<oa.length;++Pa){a:{var yb=oa[Pa];Ua=De.call(yb);if(hc[Ua]){Ua=hc[Ua];break a}var Tb=yb[0],Zb=yb[1],rc=yb[2],Gc=yb[3],dd=yb[4],Zc=yb[5],Kd=yb[6],Ud=yb[7];yb=Ud*dd;const Bd=-Kd*Zc;dd*=Kd;Zc*=Ud;var pd=Math.cos(rc);const jd=Math.sin(rc);Kd=Math.cos(Gc);Ud=Math.sin(Gc);rc=.5*(Gc-rc);Gc=Math.sin(.5*rc);Gc=8/3*
Gc*Gc/Math.sin(rc);rc=Tb+pd-Gc*jd;pd=Zb+jd+Gc*pd;Tb+=Kd;Zb+=Ud;Ud=Tb+Gc*Ud;Kd=Zb-Gc*Kd;Ua=hc[Ua]=[yb*rc+Bd*pd,dd*rc+Zc*pd,yb*Ud+Bd*Kd,dd*Ud+Zc*Kd,yb*Tb+Bd*Zb,dd*Tb+Zc*Zb]}Y.bezierCurveTo(Ua[0],Ua[1],Ua[2],Ua[3],Ua[4],Ua[5])}}function p(Y){return m.hasOwnProperty(gf,Y)?gf[Y]:A(Y)}function A(Y){if(!m.hasOwnProperty(Hf,Y)){const oa=c(Y);Hf[Y]={draw:function(Pa,Ua){a(Pa,oa,0,0,Math.sqrt(Ua)/2)}}}return Hf[Y]}function C(Y){return Y.x}function D(Y){return Y.y}function P(Y){return Y.width}function L(Y){return Y.height}
function G(Y){return"function"===typeof Y?Y:()=>+Y}function z(Y,oa,Pa){return Math.max(oa,Math.min(Y,Pa))}function J(){function Y(Zc,Kd,Ud){var pd;Kd=null!=Kd?Kd:+oa.call(this,Zc);Ud=null!=Ud?Ud:+Pa.call(this,Zc);var Bd=+Ua.call(this,Zc),jd=+yb.call(this,Zc),cf=Math.min(Bd,jd)/2,Va=z(+Tb.call(this,Zc),0,cf),pb=z(+Zb.call(this,Zc),0,cf),Cb=z(+rc.call(this,Zc),0,cf);Zc=z(+Gc.call(this,Zc),0,cf);dd||(dd=pd=F.path());0>=Va&&0>=pb&&0>=Cb&&0>=Zc?dd.rect(Kd,Ud,Bd,jd):(Bd=Kd+Bd,jd=Ud+jd,dd.moveTo(Kd+Va,Ud),
dd.lineTo(Bd-pb,Ud),dd.bezierCurveTo(Bd-.448084975506*pb,Ud,Bd,Ud+.448084975506*pb,Bd,Ud+pb),dd.lineTo(Bd,jd-Zc),dd.bezierCurveTo(Bd,jd-.448084975506*Zc,Bd-.448084975506*Zc,jd,Bd-Zc,jd),dd.lineTo(Kd+Cb,jd),dd.bezierCurveTo(Kd+.448084975506*Cb,jd,Kd,jd-.448084975506*Cb,Kd,jd-Cb),dd.lineTo(Kd,Ud+Va),dd.bezierCurveTo(Kd,Ud+.448084975506*Va,Kd+.448084975506*Va,Ud,Kd+Va,Ud),dd.closePath());if(pd)return dd=null,pd+""||null}var oa=C,Pa=D,Ua=P,yb=L,Tb=G(0),Zb=Tb,rc=Tb,Gc=Tb,dd=null;Y.x=function(Zc){return arguments.length?
(oa=G(Zc),Y):oa};Y.y=function(Zc){return arguments.length?(Pa=G(Zc),Y):Pa};Y.width=function(Zc){return arguments.length?(Ua=G(Zc),Y):Ua};Y.height=function(Zc){return arguments.length?(yb=G(Zc),Y):yb};Y.cornerRadius=function(Zc,Kd,Ud,pd){return arguments.length?(Tb=G(Zc),Zb=null!=Kd?G(Kd):Tb,Gc=null!=Ud?G(Ud):Tb,rc=null!=pd?G(pd):Zb,Y):Tb};Y.context=function(Zc){return arguments.length?(dd=null==Zc?null:Zc,Y):dd};return Y}function K(){function Y(Zc){var Kd,Ud=Zc.length,pd,Bd=!1,jd;null==Tb&&(Tb=jd=
F.path());for(Kd=0;Kd<=Ud;++Kd)if(!(Kd<Ud&&yb(pd=Zc[Kd],Kd,Zc))===Bd&&(Bd=!Bd)&&(Zb=0),Bd){{var cf=+oa(pd,Kd,Zc),Va=+Pa(pd,Kd,Zc);const w=+Ua(pd,Kd,Zc)/2;if(Zb){var pb=Gc-Va,Cb=cf-rc;if(pb||Cb){var Ob=Math.sqrt(pb*pb+Cb*Cb),bc=(pb/=Ob)*dd;Ob=(Cb/=Ob)*dd;var Mc=Math.atan2(Cb,pb);Tb.moveTo(rc-bc,Gc-Ob);Tb.lineTo(cf-pb*w,Va-Cb*w);Tb.arc(cf,Va,w,Mc-Math.PI,Mc);Tb.lineTo(rc+bc,Gc+Ob);Tb.arc(rc,Gc,dd,Mc,Mc+Math.PI)}else Tb.arc(cf,Va,w,0,Jc);Tb.closePath()}else Zb=1;rc=cf;Gc=Va;dd=w}}if(jd)return Tb=null,
jd+""||null}var oa,Pa,Ua,yb,Tb=null,Zb,rc,Gc,dd;Y.x=function(Zc){return arguments.length?(oa=Zc,Y):oa};Y.y=function(Zc){return arguments.length?(Pa=Zc,Y):Pa};Y.size=function(Zc){return arguments.length?(Ua=Zc,Y):Ua};Y.defined=function(Zc){return arguments.length?(yb=Zc,Y):yb};Y.context=function(Zc){return arguments.length?(Tb=null==Zc?null:Zc,Y):Tb};return Y}function R(Y,oa){return null!=Y?Y:oa}function U(Y){return Y.cornerRadius||Y.cornerRadiusTopLeft||Y.cornerRadiusTopRight||Y.cornerRadiusBottomRight||
Y.cornerRadiusBottomLeft}function ka(Y,oa,Pa,Ua){return Ya.context(Y)(oa,Pa,Ua)}function ba(Y,oa,Pa){var Ua=oa.clip;Y=Y._defs;oa=oa.clip_id||(oa.clip_id="clip"+Xb++);Y=Y.clipping[oa]||(Y.clipping[oa]={id:oa});m.isFunction(Ua)?Y.path=Ua(null):U(Pa)?Y.path=ka(null,Pa,0,0):(Y.width=Pa.width||0,Y.height=Pa.height||0);return"url(#"+oa+")"}function da(Y){this.clear();Y&&this.union(Y)}function ja(Y){this.mark=Y;this.bounds=this.bounds||new da}function Z(Y){ja.call(this,Y);this.items=this.items||[]}function Q(Y){this._pending=
0;this._loader=Y||x.loader()}function r(Y,oa,Pa){if(oa.stroke&&0!==oa.opacity&&0!==oa.strokeOpacity){const Ua=null!=oa.strokeWidth?+oa.strokeWidth:1;Y.expand(Ua+(Pa?oa.strokeJoin&&"miter"!==oa.strokeJoin?0:Ua:0))}return Y}function N(Y,oa){Oc=Y;oa?(Ld=oa*Qe,Nd=Rd=Math.cos(Ld),Od=Math.sin(Ld),od=-Od):(Nd=Rd=1,Ld=Od=od=0);return ce}function ea(Y,oa,Pa,Ua){Pa=(Y-oa)/(Y+Pa-2*oa);0<Pa&&1>Pa&&Ua(Y+(oa-Y)*Pa)}function aa(Y,oa,Pa,Ua,yb){const Tb=Ua-Y+3*oa-3*Pa,Zb=Y+Pa-2*oa;var rc=Y-oa;let Gc=0,dd=0;1E-14<
Math.abs(Tb)?(rc=Zb*Zb+rc*Tb,0<=rc&&(rc=Math.sqrt(rc),Gc=(-Zb+rc)/Tb,dd=(-Zb-rc)/Tb)):Gc=.5*rc/Zb;0<Gc&&1>Gc&&yb(va(Gc,Y,oa,Pa,Ua));0<dd&&1>dd&&yb(va(dd,Y,oa,Pa,Ua))}function va(Y,oa,Pa,Ua,yb){const Tb=1-Y,Zb=Tb*Tb,rc=Y*Y;return Zb*Tb*oa+3*Zb*Y*Pa+3*Tb*rc*Ua+rc*Y*yb}function ta(Y){return function(oa,Pa){if(!Xe)return!0;Y(Xe,oa);zf.clear().union(oa.bounds).intersect(Pa).round();const {x1:Ua,y1:yb,x2:Tb,y2:Zb}=zf;for(oa=yb;oa<=Zb;++oa)for(Pa=Ua;Pa<=Tb;++Pa)if(Xe.isPointInPath(Pa,oa))return!0;return!1}}
function Da(Y,oa){return oa.contains(Y.x||0,Y.y||0)}function $a(Y,oa){const Pa=Y.x||0,Ua=Y.y||0;return oa.intersects(zf.set(Pa,Ua,Pa+(Y.width||0),Ua+(Y.height||0)))}function kb(Y,oa){const Pa=Y.x||0,Ua=Y.y||0;return sa(oa,Pa,Ua,null!=Y.x2?Y.x2:Pa,null!=Y.y2?Y.y2:Ua)}function sa(Y,oa,Pa,Ua,yb){const {x1:Tb,y1:Zb,x2:rc,y2:Gc}=Y;Y=Ua-oa;yb-=Pa;Ua=0;let dd=1,Zc,Kd,Ud,pd;for(pd=0;4>pd;++pd){0===pd&&(Zc=-Y,Kd=-(Tb-oa));1===pd&&(Zc=Y,Kd=rc-oa);2===pd&&(Zc=-yb,Kd=-(Zb-Pa));3===pd&&(Zc=yb,Kd=Gc-Pa);if(1E-10>
Math.abs(Zc)&&0>Kd)return!1;Ud=Kd/Zc;if(0>Zc){if(Ud>dd)return!1;Ud>Ua&&(Ua=Ud)}else if(0<Zc){if(Ud<Ua)return!1;Ud<dd&&(dd=Ud)}}return!0}function Ta(Y,oa){Y.globalCompositeOperation=oa.blend||"source-over"}function Wa(Y,oa){return null==Y?oa:Y}function Ea(Y,oa){const Pa=oa.length;for(let Ua=0;Ua<Pa;++Ua)Y.addColorStop(oa[Ua].offset,oa[Ua].color);return Y}function ua(Y,oa,Pa){const Ua=Pa.width(),yb=Pa.height();if("radial"===oa.gradient)Y=Y.createRadialGradient(Pa.x1+Wa(oa.x1,.5)*Ua,Pa.y1+Wa(oa.y1,.5)*
yb,Math.max(Ua,yb)*Wa(oa.r1,0),Pa.x1+Wa(oa.x2,.5)*Ua,Pa.y1+Wa(oa.y2,.5)*yb,Math.max(Ua,yb)*Wa(oa.r2,.5));else{const Tb=Wa(oa.x1,0),Zb=Wa(oa.y1,0),rc=Wa(oa.x2,1),Gc=Wa(oa.y2,0);if(Tb===rc||Zb===Gc||Ua===yb)Y=Y.createLinearGradient(Pa.x1+Tb*Ua,Pa.y1+Zb*yb,Pa.x1+rc*Ua,Pa.y1+Gc*yb);else{Pa=O.canvas(Math.ceil(Ua),Math.ceil(yb));const dd=Pa.getContext("2d");dd.scale(Ua,yb);dd.fillStyle=Ea(dd.createLinearGradient(Tb,Zb,rc,Gc),oa.stops);dd.fillRect(0,0,Ua,yb);return Y.createPattern(Pa,"no-repeat")}}return Ea(Y,
oa.stops)}function V(Y,oa,Pa){Pa*=null==oa.fillOpacity?1:oa.fillOpacity;return 0<Pa?(Y.globalAlpha=Pa,oa=(Pa=oa.fill)&&Pa.gradient?ua(Y,Pa,oa.bounds):Pa,Y.fillStyle=oa,!0):!1}function W(Y,oa,Pa){var Ua=null!=(Ua=oa.strokeWidth)?Ua:1;if(0>=Ua)return!1;Pa*=null==oa.strokeOpacity?1:oa.strokeOpacity;return 0<Pa?(Y.globalAlpha=Pa,Pa=(Pa=oa.stroke)&&Pa.gradient?ua(Y,Pa,oa.bounds):Pa,Y.strokeStyle=Pa,Y.lineWidth=Ua,Y.lineCap=oa.strokeCap||"butt",Y.lineJoin=oa.strokeJoin||"miter",Y.miterLimit=oa.strokeMiterLimit||
10,Y.setLineDash&&(Y.setLineDash(oa.strokeDash||tf),Y.lineDashOffset=oa.strokeDashOffset||0),!0):!1}function ca(Y,oa){return Y.zindex-oa.zindex||Y.index-oa.index}function fa(Y){if(!Y.zdirty)return Y.zitems;var oa=Y.items,Pa=[],Ua;var yb=0;for(Ua=oa.length;yb<Ua;++yb){var Tb=oa[yb];Tb.index=yb;Tb.zindex&&Pa.push(Tb)}Y.zdirty=!1;return Y.zitems=Pa.sort(ca)}function qa(Y,oa){var Pa=Y.items,Ua;if(Pa&&Pa.length){var yb=fa(Y);if(yb&&yb.length){Y=0;for(Ua=Pa.length;Y<Ua;++Y)Pa[Y].zindex||oa(Pa[Y]);Pa=yb}Y=
0;for(Ua=Pa.length;Y<Ua;++Y)oa(Pa[Y])}}function pa(Y,oa){var Pa=Y.items,Ua,yb;if(!Pa||!Pa.length)return null;const Tb=fa(Y);Tb&&Tb.length&&(Pa=Tb);for(yb=Pa.length;0<=--yb;)if(Ua=oa(Pa[yb]))return Ua;if(Pa===Tb)for(Pa=Y.items,yb=Pa.length;0<=--yb;)if(!Pa[yb].zindex&&(Ua=oa(Pa[yb])))return Ua;return null}function Ga(Y){return function(oa,Pa,Ua){qa(Pa,yb=>{Ua&&!Ua.intersects(yb.bounds)||Oa(Y,oa,yb,yb)})}}function na(Y){return function(oa,Pa,Ua){!Pa.items.length||Ua&&!Ua.intersects(Pa.bounds)||Oa(Y,
oa,Pa.items[0],Pa.items)}}function Oa(Y,oa,Pa,Ua){var yb=null==Pa.opacity?1:Pa.opacity;0===yb||Y(oa,Ua)||(Ta(oa,Pa),Pa.fill&&V(oa,Pa,yb)&&oa.fill(),Pa.stroke&&W(oa,Pa,yb)&&oa.stroke())}function cb(Y){Y=Y||m.truthy;return function(oa,Pa,Ua,yb,Tb,Zb){Ua*=oa.pixelRatio;yb*=oa.pixelRatio;return pa(Pa,rc=>{const Gc=rc.bounds;if((!Gc||Gc.contains(Tb,Zb))&&Gc&&Y(oa,rc,Ua,yb,Tb,Zb))return rc})}}function Za(Y,oa){return function(Pa,Ua,yb,Tb){var Zb=Array.isArray(Ua)?Ua[0]:Ua,rc=null==oa?Zb.fill:oa,Gc=Zb.stroke&&
Pa.isPointInStroke;if(Gc){var dd=Zb.strokeWidth;Zb=Zb.strokeCap;Pa.lineWidth=null!=dd?dd:1;Pa.lineCap=null!=Zb?Zb:"butt"}return Y(Pa,Ua)?!1:rc&&Pa.isPointInPath(yb,Tb)||Gc&&Pa.isPointInStroke(yb,Tb)}}function Aa(Y,oa){return"translate("+Y+","+oa+")"}function Fa(Y,oa,Pa){function Ua(yb,Tb){var Zb=Tb.x||0,rc=Tb.y||0,Gc=Tb.angle||0;yb.translate(Zb,rc);Gc&&yb.rotate(Gc*=Qe);yb.beginPath();oa(yb,Tb);Gc&&yb.rotate(-Gc);yb.translate(-Zb,-rc)}return{type:Y,tag:"path",nested:!1,attr:function(yb,Tb){var Zb=
Aa(Tb.x||0,Tb.y||0)+(Tb.angle?" rotate("+(Tb.angle+")"):"");yb("transform",Zb);yb("d",oa(null,Tb))},bound:function(yb,Tb){oa(N(yb,Tb.angle),Tb);return r(yb,Tb).translate(Tb.x||0,Tb.y||0)},draw:Ga(Ua),pick:cb(Za(Ua)),isect:Pa||ta(Ua)}}function Ra(Y,oa,Pa){function Ua(Tb,Zb){Tb.beginPath();oa(Tb,Zb)}const yb=Za(Ua);return{type:Y,tag:"path",nested:!0,attr:function(Tb,Zb){Zb=Zb.mark.items;Zb.length&&Tb("d",oa(null,Zb))},bound:function(Tb,Zb){Zb=Zb.items;if(0===Zb.length)return Tb;oa(N(Tb),Zb);return r(Tb,
Zb[0])},draw:na(Ua),pick:function(Tb,Zb,rc,Gc,dd,Zc){var Kd=Zb.items;Zb=Zb.bounds;if(!Kd||!Kd.length||Zb&&!Zb.contains(dd,Zc))return null;rc*=Tb.pixelRatio;Gc*=Tb.pixelRatio;return yb(Tb,Kd,rc,Gc)?Kd[0]:null},isect:Da,tip:Pa}}function ab(Y,oa){Y.beginPath();U(oa)?ka(Y,oa,0,0):Y.rect(0,0,oa.width||0,oa.height||0);Y.clip()}function lb(Y){const oa=Wa(Y.strokeWidth,1);return null!=Y.strokeOffset?Y.strokeOffset:Y.stroke&&.5<oa&&1.5>oa?.5-Math.abs(oa-1):0}function Ma(Y,oa,Pa,Ua){const yb=lb(oa);Y.beginPath();
ka(Y,oa,(Pa||0)+yb,(Ua||0)+yb)}function nb(Y,oa){var Pa=Y.image;if(!Pa||Y.url&&Y.url!==Pa.url)Pa={complete:!1,width:0,height:0},oa.loadImage(Y.url).then(Ua=>{Y.image=Ua;Y.image.url=Y.url});return Pa}function zb(Y,oa){return null!=Y.width?Y.width:oa&&oa.width?!1!==Y.aspect&&Y.height?Y.height*oa.width/oa.height:oa.width:0}function Sb(Y,oa){return null!=Y.height?Y.height:oa&&oa.height?!1!==Y.aspect&&Y.width?Y.width*oa.height/oa.width:oa.height:0}function vc(Y,oa){return"center"===Y?oa/2:"right"===Y?
oa:0}function lc(Y,oa){return"middle"===Y?oa/2:"bottom"===Y?oa:0}function kc(Y,oa){var Pa=oa.path;if(null==Pa)return!0;var Ua=oa.x||0,yb=oa.y||0,Tb=oa.scaleX||1,Zb=oa.scaleY||1,rc=(oa.angle||0)*Qe,Gc=oa.pathCache;Gc&&Gc.path===Pa||((oa.pathCache=Gc=c(Pa)).path=Pa);rc&&Y.rotate&&Y.translate?(Y.translate(Ua,yb),Y.rotate(rc),a(Y,Gc,0,0,Tb,Zb),Y.rotate(-rc),Y.translate(-Ua,-yb)):a(Y,Gc,Ua,yb,Tb,Zb)}function jb(Y,oa){Y.beginPath();ka(Y,oa)}function $b(Y,oa,Pa){if(oa.stroke&&W(Y,oa,Pa)){Pa=oa.x||0;var Ua=
oa.y||0;var yb=null!=oa.x2?oa.x2:Pa;oa=null!=oa.y2?oa.y2:Ua;Y.beginPath();Y.moveTo(Pa,Ua);Y.lineTo(yb,oa);return!0}return!1}function yc(Y){Pd.width=Y&&Xe?zc:nc}function nc(Y,oa){oa=Fd(Y,oa);Y=Vc(Y);return~~(.8*oa.length*Y)}function zc(Y,oa){return 0>=Vc(Y)||!(oa=Fd(Y,oa))?0:qc(oa,Sc(Y))}function qc(Y,oa){const Pa=`(${oa}) ${Y}`;let Ua=ie.get(Pa);void 0===Ua&&(Xe.font=oa,Ua=Xe.measureText(Y).width,ie.set(Pa,Ua));return Ua}function Vc(Y){return null!=Y.fontSize?+Y.fontSize||0:11}function Uc(Y){return null!=
Y.lineHeight?Y.lineHeight:Vc(Y)+2}function Lc(Y){Y=Y.lineBreak&&Y.text&&!m.isArray(Y.text)?Y.text.split(Y.lineBreak):Y.text;return m.isArray(Y)?1<Y.length?Y:Y[0]:Y}function Fd(Y,oa){oa=null==oa?"":(oa+"").trim();if(0<Y.limit&&oa.length){var Pa=+Y.limit,Ua=fe(Y);if(!(Ua(oa)<Pa)){var yb=Y.ellipsis||"",Tb="rtl"===Y.dir;Y=0;var Zb=oa.length;Pa-=Ua(yb);if(Tb){for(;Y<Zb;)Tb=Y+Zb>>>1,Ua(oa.slice(Tb))>Pa?Y=Tb+1:Zb=Tb;oa=yb+oa.slice(Y)}else{for(;Y<Zb;)Tb=1+(Y+Zb>>>1),Ua(oa.slice(0,Tb))<Pa?Y=Tb:Zb=Tb-1;oa=
oa.slice(0,Y)+yb}}}return oa}function fe(Y){if(Pd.width===zc){const oa=Sc(Y);return Pa=>qc(Pa,oa)}{const oa=Vc(Y);return Pa=>~~(.8*Pa.length*oa)}}function vd(Y,oa){Y=Y.font;return(oa&&Y?String(Y).replace(/"/g,"'"):Y)||"sans-serif"}function Sc(Y,oa){return(Y.fontStyle?Y.fontStyle+" ":"")+(Y.fontVariant?Y.fontVariant+" ":"")+(Y.fontWeight?Y.fontWeight+" ":"")+Vc(Y)+"px "+vd(Y,oa)}function Yd(Y){var oa=Y.baseline,Pa=Vc(Y);return Math.round("top"===oa?.79*Pa:"middle"===oa?.3*Pa:"bottom"===oa?-.21*Pa:
"line-top"===oa?.29*Pa+.5*Uc(Y):"line-bottom"===oa?.29*Pa-.5*Uc(Y):0)}function Qb(Y){var oa=Y.x||0,Pa=Y.y||0,Ua=Y.radius||0;Ua&&(Y=(Y.theta||0)-Yf,oa+=Ua*Math.cos(Y),Pa+=Ua*Math.sin(Y));pe.x1=oa;pe.y1=Pa;return pe}function gc(Y,oa,Pa){var Ua=Pd.height(oa),yb=oa.align,Tb=Qb(oa),Zb=Tb.x1;Tb=Tb.y1;var rc=oa.dx||0,Gc=(oa.dy||0)+Yd(oa)-Math.round(.8*Ua),dd=Lc(oa);m.isArray(dd)?(Ua+=Uc(oa)*(dd.length-1),dd=dd.reduce((Zc,Kd)=>Math.max(Zc,Pd.width(oa,Kd)),0)):dd=Pd.width(oa,dd);"center"===yb?rc-=dd/2:"right"===
yb&&(rc-=dd);Y.set(rc+=Zb,Gc+=Tb,rc+dd,Gc+Ua);if(oa.angle&&!Pa)Y.rotate(oa.angle*Qe,Zb,Tb);else if(2===Pa)return Y.rotatedPoints(oa.angle*Qe,Zb,Tb);return Y}function Ib(Y,oa,Pa){var Ua=Le[Y.mark.marktype];oa=oa||Ua.bound;Ua.nested&&(Y=Y.mark);return oa(Y.bounds||(Y.bounds=new da),Y,Pa)}function Cc(Y,oa,Pa){var Ua=Le[Y.marktype],yb=Ua.bound,Tb=Y.items,Zb=Tb&&Tb.length;if(Ua.nested)return Zb?Y=Tb[0]:(Of.mark=Y,Y=Of),Pa=Ib(Y,yb,Pa),oa=oa&&oa.union(Pa)||Pa;oa=oa||Y.bounds&&Y.bounds.clear()||new da;if(Zb)for(Ua=
0,Zb=Tb.length;Ua<Zb;++Ua)oa.union(Ib(Tb[Ua],yb,Pa));return Y.bounds=oa}function Wc(Y,oa){return JSON.stringify(Y,Te,oa)}function Gd(Y){Y="string"===typeof Y?JSON.parse(Y):Y;return Wd(Y)}function Wd(Y){var oa=Y.marktype,Pa=Y.items,Ua;if(Pa){var yb=0;for(Ua=Pa.length;yb<Ua;++yb){var Tb=oa?"mark":"group";Pa[yb][Tb]=Y;Pa[yb].zindex&&(Pa[yb][Tb].zdirty=!0);"group"===(oa||Tb)&&Wd(Pa[yb])}}oa&&Cc(Y);return Y}function Ja(Y){arguments.length?this.root=Gd(Y):(this.root=eb({marktype:"group",name:"root",role:"frame"}),
this.root.items=[new Z(this.root)])}function eb(Y,oa){oa={bounds:new da,clip:!!Y.clip,group:oa,interactive:!1===Y.interactive?!1:!0,items:[],marktype:Y.marktype,name:Y.name||void 0,role:Y.role||void 0,zindex:Y.zindex||0};null!=Y.aria&&(oa.aria=Y.aria);Y.description&&(oa.description=Y.description);return oa}function xb(Y,oa,Pa){!Y&&"undefined"!==typeof document&&document.createElement&&(Y=document);return Y?Pa?Y.createElementNS(Pa,oa):Y.createElement(oa):null}function Jb(Y,oa){oa=oa.toLowerCase();
Y=Y.childNodes;for(var Pa=0,Ua=Y.length;Pa<Ua;++Pa)if(Y[Pa].tagName.toLowerCase()===oa)return Y[Pa]}function ac(Y,oa,Pa,Ua){oa=Y.childNodes[oa];if(!oa||oa.tagName.toLowerCase()!==Pa.toLowerCase()){var yb=oa||null;oa=xb(Y.ownerDocument,Pa,Ua);Y.insertBefore(oa,yb)}return oa}function jc(Y,oa){for(var Pa=Y.childNodes,Ua=Pa.length;Ua>oa;)Y.removeChild(Pa[--Ua]);return Y}function Ec(Y){return"mark-"+Y.marktype+(Y.role?" role-"+Y.role:"")+(Y.name?" "+Y.name:"")}function sc(Y,oa){const Pa=oa.getBoundingClientRect();
return[Y.clientX-Pa.left-(oa.clientLeft||0),Y.clientY-Pa.top-(oa.clientTop||0)]}function ob(Y,oa){this._active=null;this._handlers={};this._loader=Y||x.loader();this._tooltip=oa||Db}function Db(Y,oa,Pa,Ua){Y.element().setAttribute("title",Ua||"")}function Vb(Y){this._bgcolor=this._el=null;this._loader=new Q(Y)}function mc(Y,oa){ob.call(this,Y,oa);this._touch=this._down=null;this._first=!0;this._events={}}function Dc(Y,oa){("touchstart"===oa||"touchmove"===oa||"touchend"===oa?["touchstart","touchmove",
"touchend"]:[oa]).forEach(Pa=>Fc(Y,Pa))}function Fc(Y,oa){const Pa=Y.canvas();Pa&&!Y._events[oa]&&(Y._events[oa]=1,Pa.addEventListener(oa,Y[oa]?Ua=>Y[oa](Ua):Ua=>Y.fire(oa,Ua)))}function Xc(Y,oa,Pa){return function(Ua){const yb=this._active,Tb=this.pickEvent(Ua);Tb!==yb&&(yb&&yb.exit||this.fire(Pa,Ua),this._active=Tb,this.fire(oa,Ua));this.fire(Y,Ua)}}function Fb(Y){return function(oa){this.fire(Y,oa);this._active=null}}function Ic(Y){Vb.call(this,Y);this._options={};this._redraw=!1;this._dirty=new da;
this._tempb=new da}function fd(Y,oa){ob.call(this,Y,oa);const Pa=this;Pa._hrefHandler=Ag(Pa,(Ua,yb)=>{yb&&yb.href&&Pa.handleHref(Ua,yb,yb.href)});Pa._tooltipHandler=Ag(Pa,(Ua,yb)=>{Pa.handleTooltip(Ua,yb,"mouseout"!==Ua.type)})}function wc(Y,oa){var Pa=!1===oa.aria;Y("aria-hidden",Pa||void 0);if(Pa||null==oa.description)for(const Ua in ya)Y(ya[Ua],void 0);else Pa=oa.mark.marktype,Y("aria-label",oa.description),Y("role",oa.ariaRole||("group"===Pa?"graphics-object":"graphics-symbol")),Y("aria-roledescription",
oa.ariaRoleDescription||`${Pa} mark`)}function $c(Y){return!1===Y.aria?{["aria-hidden"]:!0}:jg[Y.role]?null:wa[Y.role]?nd(Y,wa[Y.role]):ad(Y)}function ad(Y){const oa=Y.marktype,Pa="group"===oa||"text"===oa||Y.items.some(Ua=>null!=Ua.description&&!1!==Ua.aria);return Rf(Pa?"graphics-object":"graphics-symbol",`${oa} mark container`,Y.description)}function nd(Y,oa){try{const Pa=Y.items[0],Ua=oa.caption||(()=>"");return Rf(oa.role||"graphics-symbol",oa.desc,Pa.description||Ua(Pa))}catch(Pa){return null}}
function Cd(Y){try{return m.array(m.peek(Y.items).items[0].text).join(" ")}catch(oa){return null}}function Ed(Y){Y=Y.map(oa=>oa+("fill"===oa||"stroke"===oa?" color":""));return 2>Y.length?Y[0]:Y.slice(0,-1).join(", ")+" and "+m.peek(Y)}function Xd(){let Y="",oa="",Pa="";const Ua=[],yb=(Zb,rc)=>{null!=rc&&(oa+=` ${Zb}="${Na(rc).replace(/"/g,"\x26quot;").replace(/\t/g,"\x26#x9;").replace(/\n/g,"\x26#xA;").replace(/\r/g,"\x26#xD;")}"`);return Tb},Tb={open(Zb,...rc){oa&&(Y+=`${oa}>${Pa}`,oa=Pa="");Ua.push(Zb);
oa="\x3c"+Zb;for(const Gc of rc)for(const dd in Gc)yb(dd,Gc[dd]);return Tb},close(){const Zb=Ua.pop();Y=oa?Y+(oa+(Pa?`>${Pa}</${Zb}>`:"/\x3e")):Y+`</${Zb}>`;oa=Pa="";return Tb},attr:yb,text:Zb=>(Pa+=Na(Zb),Tb),toString:()=>Y};return Tb}function $d(Y,oa){Y.open(oa.tagName);if(oa.hasAttributes()){var Pa=oa.attributes,Ua=Pa.length;for(var yb=0;yb<Ua;++yb)Y.attr(Pa[yb].name,Pa[yb].value)}if(oa.hasChildNodes())for(oa=oa.childNodes,Pa=oa.length,Ua=0;Ua<Pa;Ua++)yb=oa[Ua],3===yb.nodeType?Y.text(yb.nodeValue):
$d(Y,yb);return Y.close()}function ae(Y){Vb.call(this,Y);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=null}function Ce(Y,oa){for(;Y&&Y.dirty!==oa;Y=Y.mark.group)if(Y.dirty=oa,Y.mark&&Y.mark.dirty!==oa)Y.mark.dirty=oa;else break}function me(Y,oa,Pa){oa=oa.lastChild.previousSibling;let Ua,yb=0;qa(Pa,Tb=>{Ua=Y.mark(oa,Tb,Ua);++yb});jc(oa,1+yb)}function ff(Y,oa,Pa,Ua,yb){let Tb=Y._svg;if(!Tb){var Zb=oa.ownerDocument;Tb=xb(Zb,Ua,sb);Y._svg=Tb;Y.mark&&(Tb.__data__=Y,Tb.__values__={fill:"default"},
"g"===Ua&&(Ua=xb(Zb,"path",sb),Tb.appendChild(Ua),Ua.__data__=Y,Ua=xb(Zb,"g",sb),Tb.appendChild(Ua),Ua.__data__=Y,Zb=xb(Zb,"path",sb),Tb.appendChild(Zb),Zb.__data__=Y,Zb.__values__={fill:"default"}))}(Tb.ownerSVGElement!==yb||Tb.parentNode&&1<Tb.parentNode.childNodes.length&&Tb.previousSibling!=Pa)&&oa.insertBefore(Tb,Pa?Pa.nextSibling:oa.firstChild);return Tb}function Ze(Y,oa,Pa){if(oa!==Nb[Y]){if(Pa){var Ua=Bb;null!=oa?Ua.setAttributeNS(Pa,Y,oa):Ua.removeAttributeNS(Pa,Y)}else ge(Bb,Y,oa);Nb[Y]=
oa}}function hf(Y,oa,Pa){Pa!==Nb[oa]&&(null==Pa?Y.style.removeProperty(oa):Y.style.setProperty(oa,Pa+""),Nb[oa]=Pa)}function Vd(Y,oa){for(const Pa in oa)ge(Y,Pa,oa[Pa])}function ge(Y,oa,Pa){null!=Pa?Y.setAttribute(oa,Pa):Y.removeAttribute(oa)}function yf(){let Y;return"undefined"===typeof window?"":(Y=window.location).hash?Y.href.slice(0,-Y.hash.length):Y.href}function Ue(Y){Vb.call(this,Y);this._text=null;this._defs={gradient:{},clipping:{}}}function of(Y,oa,Pa,Ua,yb){if(null==oa)return Y;"bgrect"===
Ua&&!1===Pa.interactive&&(Y["pointer-events"]="none");if("bgfore"===Ua&&(!1===Pa.interactive&&(Y["pointer-events"]="none"),Y.display="none",null!==oa.fill))return Y;"image"===Ua&&!1===oa.smooth&&(Y.style="image-rendering: optimizeSpeed; image-rendering: pixelated;");"text"===Ua&&(Y["font-family"]=vd(oa),Y["font-size"]=Vc(oa)+"px",Y["font-style"]=oa.fontStyle,Y["font-variant"]=oa.fontVariant,Y["font-weight"]=oa.fontWeight);for(const Tb in fb)Pa=oa[Tb],Ua=fb[Tb],("transparent"!==Pa||"fill"!==Ua&&"stroke"!==
Ua)&&null!=Pa&&(Pa&&Pa.gradient&&(Pa=q(Pa,yb.gradient,"")),Y[Ua]=Pa);return Y}function le(Y,oa,Pa,Ua){if(Y.bounds&&oa.intersects(Y.bounds)&&("group"===Y.marktype||!1!==Y.interactive&&(!Pa||Pa(Y)))){const Tb=Y.items;var yb=Y.marktype;Y=Tb.length;let Zb=0;if("group"===yb)for(;Zb<Y;++Zb)ye(Tb[Zb],oa,Pa,Ua);else for(Pa=Le[yb].isect;Zb<Y;++Zb)yb=Tb[Zb],Mf(yb,oa,Pa)&&Ua.push(yb)}return Ua}function ye(Y,oa,Pa,Ua){Pa&&Pa(Y.mark)&&Mf(Y,oa,Le.group.isect)&&Ua.push(Y);const yb=Y.items,Tb=yb&&yb.length;if(Tb){const Zb=
Y.x||0;Y=Y.y||0;oa.translate(-Zb,-Y);for(let rc=0;rc<Tb;++rc)le(yb[rc],oa,Pa,Ua);oa.translate(Zb,Y)}return Ua}function Mf(Y,oa,Pa){const Ua=Y.bounds;return oa.encloses(Ua)||oa.intersects(Ua)&&Pa(Y,oa)}function Ge(Y,oa,Pa){return Y===oa?!0:"path"===Pa?Td(Y,oa):Y instanceof Date&&oa instanceof Date?+Y===+oa:m.isNumber(Y)&&m.isNumber(oa)?1E-9>=Math.abs(Y-oa):Y&&oa&&(m.isObject(Y)||m.isObject(oa))?Zd(Y,oa):Y==oa}function Td(Y,oa){return Ge(c(Y),c(oa))}function Zd(Y,oa){var Pa=Object.keys(Y),Ua=Object.keys(oa),
yb;if(Pa.length!==Ua.length)return!1;Pa.sort();Ua.sort();for(yb=Pa.length-1;0<=yb;yb--)if(Pa[yb]!=Ua[yb])return!1;for(yb=Pa.length-1;0<=yb;yb--)if(Ua=Pa[yb],!Ge(Y[Ua],oa[Ua],Ua))return!1;return typeof Y===typeof oa}let we=0;const nf={basis:{curve:n.curveBasis},"basis-closed":{curve:n.curveBasisClosed},"basis-open":{curve:n.curveBasisOpen},bundle:{curve:n.curveBundle,tension:"beta",value:.85},cardinal:{curve:n.curveCardinal,tension:"tension",value:0},"cardinal-open":{curve:n.curveCardinalOpen,tension:"tension",
value:0},"cardinal-closed":{curve:n.curveCardinalClosed,tension:"tension",value:0},"catmull-rom":{curve:n.curveCatmullRom,tension:"alpha",value:.5},"catmull-rom-closed":{curve:n.curveCatmullRomClosed,tension:"alpha",value:.5},"catmull-rom-open":{curve:n.curveCatmullRomOpen,tension:"alpha",value:.5},linear:{curve:n.curveLinear},"linear-closed":{curve:n.curveLinearClosed},monotone:{horizontal:n.curveMonotoneY,vertical:n.curveMonotoneX},natural:{curve:n.curveNatural},step:{curve:n.curveStep},"step-after":{curve:n.curveStepAfter},
"step-before":{curve:n.curveStepBefore}},Pe={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},Qd=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\.\d+)(\.\d)/g,/(\d)([-+])/g,/\s|,|###/],Qe=Math.PI/180,Yf=Math.PI/2,Jc=2*Math.PI,xe=Math.sqrt(3)/2;var je={},hc={},De=[].join;const re=["l",0,0,0,0,0,0,0],gf={circle:{draw:function(Y,oa){oa=Math.sqrt(oa)/2;Y.moveTo(oa,0);Y.arc(0,0,oa,0,Jc)}},cross:{draw:function(Y,oa){oa=Math.sqrt(oa)/2;var Pa=oa/2.5;Y.moveTo(-oa,-Pa);Y.lineTo(-oa,Pa);Y.lineTo(-Pa,Pa);Y.lineTo(-Pa,oa);Y.lineTo(Pa,
oa);Y.lineTo(Pa,Pa);Y.lineTo(oa,Pa);Y.lineTo(oa,-Pa);Y.lineTo(Pa,-Pa);Y.lineTo(Pa,-oa);Y.lineTo(-Pa,-oa);Y.lineTo(-Pa,-Pa);Y.closePath()}},diamond:{draw:function(Y,oa){oa=Math.sqrt(oa)/2;Y.moveTo(-oa,0);Y.lineTo(0,-oa);Y.lineTo(oa,0);Y.lineTo(0,oa);Y.closePath()}},square:{draw:function(Y,oa){oa=Math.sqrt(oa);var Pa=-oa/2;Y.rect(Pa,Pa,oa,oa)}},arrow:{draw:function(Y,oa){oa=Math.sqrt(oa)/2;var Pa=oa/7,Ua=oa/2.5,yb=oa/8;Y.moveTo(-Pa,oa);Y.lineTo(Pa,oa);Y.lineTo(Pa,-yb);Y.lineTo(Ua,-yb);Y.lineTo(0,-oa);
Y.lineTo(-Ua,-yb);Y.lineTo(-Pa,-yb);Y.closePath()}},wedge:{draw:function(Y,oa){var Pa=Math.sqrt(oa)/2;oa=xe*Pa;var Ua=oa-.5773502691896257*Pa;Pa/=4;Y.moveTo(0,-oa-Ua);Y.lineTo(-Pa,oa-Ua);Y.lineTo(Pa,oa-Ua);Y.closePath()}},triangle:{draw:function(Y,oa){oa=Math.sqrt(oa)/2;var Pa=xe*oa,Ua=Pa-.5773502691896257*oa;Y.moveTo(0,-Pa-Ua);Y.lineTo(-oa,Pa-Ua);Y.lineTo(oa,Pa-Ua);Y.closePath()}},"triangle-up":{draw:function(Y,oa){oa=Math.sqrt(oa)/2;var Pa=xe*oa;Y.moveTo(0,-Pa);Y.lineTo(-oa,Pa);Y.lineTo(oa,Pa);
Y.closePath()}},"triangle-down":{draw:function(Y,oa){oa=Math.sqrt(oa)/2;var Pa=xe*oa;Y.moveTo(0,Pa);Y.lineTo(-oa,-Pa);Y.lineTo(oa,-Pa);Y.closePath()}},"triangle-right":{draw:function(Y,oa){oa=Math.sqrt(oa)/2;var Pa=xe*oa;Y.moveTo(Pa,0);Y.lineTo(-Pa,-oa);Y.lineTo(-Pa,oa);Y.closePath()}},"triangle-left":{draw:function(Y,oa){oa=Math.sqrt(oa)/2;var Pa=xe*oa;Y.moveTo(-Pa,0);Y.lineTo(Pa,-oa);Y.lineTo(Pa,oa);Y.closePath()}},stroke:{draw:function(Y,oa){oa=Math.sqrt(oa)/2;Y.moveTo(-oa,0);Y.lineTo(oa,0)}}};
var Hf={};const If=Y=>Y.x||0,Qf=Y=>Y.y||0,Jf=Y=>!1!==Y.defined,Ae=n.arc().startAngle(Y=>Y.startAngle||0).endAngle(Y=>Y.endAngle||0).padAngle(Y=>Y.padAngle||0).innerRadius(Y=>Y.innerRadius||0).outerRadius(Y=>Y.outerRadius||0).cornerRadius(Y=>Y.cornerRadius||0),Bc=n.area().x(If).y1(Qf).y0(Y=>(Y.y||0)+(Y.height||0)).defined(Jf),xa=n.area().y(Qf).x1(If).x0(Y=>(Y.x||0)+(Y.width||0)).defined(Jf),Ba=n.line().x(If).y(Qf).defined(Jf),Ya=J().x(If).y(Qf).width(Y=>Y.width||0).height(Y=>Y.height||0).cornerRadius(Y=>
R(Y.cornerRadiusTopLeft,Y.cornerRadius)||0,Y=>R(Y.cornerRadiusTopRight,Y.cornerRadius)||0,Y=>R(Y.cornerRadiusBottomRight,Y.cornerRadius)||0,Y=>R(Y.cornerRadiusBottomLeft,Y.cornerRadius)||0),Hb=n.symbol().type(Y=>p(Y.shape||"circle")).size(Y=>R(Y.size,64)),vb=K().x(If).y(Qf).defined(Jf).size(Y=>Y.size||1);var Xb=1;da.prototype={clone(){return new da(this)},clear(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;return this},empty(){return this.x1===
+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(Y){return this.x1===Y.x1&&this.y1===Y.y1&&this.x2===Y.x2&&this.y2===Y.y2},set(Y,oa,Pa,Ua){Pa<Y?(this.x2=Y,this.x1=Pa):(this.x1=Y,this.x2=Pa);Ua<oa?(this.y2=oa,this.y1=Ua):(this.y1=oa,this.y2=Ua);return this},add(Y,oa){Y<this.x1&&(this.x1=Y);oa<this.y1&&(this.y1=oa);Y>this.x2&&(this.x2=Y);oa>this.y2&&(this.y2=oa);return this},expand(Y){this.x1-=Y;this.y1-=Y;this.x2+=Y;this.y2+=Y;return this},
round(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);this.x2=Math.ceil(this.x2);this.y2=Math.ceil(this.y2);return this},scale(Y){this.x1*=Y;this.y1*=Y;this.x2*=Y;this.y2*=Y;return this},translate(Y,oa){this.x1+=Y;this.x2+=Y;this.y1+=oa;this.y2+=oa;return this},rotate(Y,oa,Pa){Y=this.rotatedPoints(Y,oa,Pa);return this.clear().add(Y[0],Y[1]).add(Y[2],Y[3]).add(Y[4],Y[5]).add(Y[6],Y[7])},rotatedPoints(Y,oa,Pa){var {x1:Ua,y1:yb,x2:Tb,y2:Zb}=this,rc=Math.cos(Y);Y=Math.sin(Y);var Gc=oa-oa*rc+
Pa*Y;oa=Pa-oa*Y-Pa*rc;return[rc*Ua-Y*yb+Gc,Y*Ua+rc*yb+oa,rc*Ua-Y*Zb+Gc,Y*Ua+rc*Zb+oa,rc*Tb-Y*yb+Gc,Y*Tb+rc*yb+oa,rc*Tb-Y*Zb+Gc,Y*Tb+rc*Zb+oa]},union(Y){Y.x1<this.x1&&(this.x1=Y.x1);Y.y1<this.y1&&(this.y1=Y.y1);Y.x2>this.x2&&(this.x2=Y.x2);Y.y2>this.y2&&(this.y2=Y.y2);return this},intersect(Y){Y.x1>this.x1&&(this.x1=Y.x1);Y.y1>this.y1&&(this.y1=Y.y1);Y.x2<this.x2&&(this.x2=Y.x2);Y.y2<this.y2&&(this.y2=Y.y2);return this},encloses(Y){return Y&&this.x1<=Y.x1&&this.x2>=Y.x2&&this.y1<=Y.y1&&this.y2>=Y.y2},
alignsWith(Y){return Y&&(this.x1==Y.x1||this.x2==Y.x2||this.y1==Y.y1||this.y2==Y.y2)},intersects(Y){return Y&&!(this.x2<Y.x1||this.x1>Y.x2||this.y2<Y.y1||this.y1>Y.y2)},contains(Y,oa){return!(Y<this.x1||Y>this.x2||oa<this.y1||oa>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};m.inherits(Z,ja);Q.prototype={pending(){return this._pending},sanitizeURL(Y){const oa=this;oa._pending+=1;return oa._loader.sanitize(Y,{context:"href"}).then(Pa=>{--oa._pending;return Pa}).catch(()=>
{--oa._pending;return null})},loadImage(Y){const oa=this,Pa=O.image();oa._pending+=1;return oa._loader.sanitize(Y,{context:"image"}).then(Ua=>{const yb=Ua.href;if(!yb||!Pa)throw{url:yb};const Tb=new Pa;Ua=m.hasOwnProperty(Ua,"crossOrigin")?Ua.crossOrigin:"anonymous";null!=Ua&&(Tb.crossOrigin=Ua);Tb.onload=()=>{--oa._pending};Tb.onerror=()=>{--oa._pending};Tb.src=yb;return Tb}).catch(Ua=>{--oa._pending;return{complete:!1,width:0,height:0,src:Ua&&Ua.url||""}})},ready(){const Y=this;return new Promise(oa=>
{function Pa(Ua){Y.pending()?setTimeout(()=>{Pa(!0)},10):oa(Ua)}Pa(!1)})}};const xc=Jc-1E-8;let Oc,ld,Qc,Ld,Nd,Od,od,Rd;const kd=(Y,oa)=>{Y=ld=Y;oa=Qc=oa;return Oc.add(Y,oa)},lf=Y=>Oc.add(Y,Oc.y1),bf=Y=>Oc.add(Oc.x1,Y),ee=(Y,oa)=>Oc.add(Nd*Y+od*oa,Od*Y+Rd*oa),Ve=(Y,oa)=>kd(Nd*Y+od*oa,Od*Y+Rd*oa),ce={beginPath(){},closePath(){},moveTo:Ve,lineTo:Ve,rect(Y,oa,Pa,Ua){Ld?(ee(Y+Pa,oa),ee(Y+Pa,oa+Ua),ee(Y,oa+Ua),Ve(Y,oa)):(Oc.add(Y+Pa,oa+Ua),kd(Y,oa))},quadraticCurveTo(Y,oa,Pa,Ua){const yb=Od*Y+Rd*oa,Tb=
Nd*Pa+od*Ua;Pa=Od*Pa+Rd*Ua;ea(ld,Nd*Y+od*oa,Tb,lf);ea(Qc,yb,Pa,bf);kd(Tb,Pa)},bezierCurveTo(Y,oa,Pa,Ua,yb,Tb){const Zb=Od*Y+Rd*oa,rc=Od*Pa+Rd*Ua,Gc=Nd*yb+od*Tb;yb=Od*yb+Rd*Tb;aa(ld,Nd*Y+od*oa,Nd*Pa+od*Ua,Gc,lf);aa(Qc,Zb,rc,yb,bf);kd(Gc,yb)},arc(Y,oa,Pa,Ua,yb,Tb){Ua+=Ld;yb+=Ld;ld=Pa*Math.cos(yb)+Y;Qc=Pa*Math.sin(yb)+oa;if(Math.abs(yb-Ua)>xc)Oc.add(Y-Pa,oa-Pa),Oc.add(Y+Pa,oa+Pa);else{const Zb=Gc=>Oc.add(Pa*Math.cos(Gc)+Y,Pa*Math.sin(Gc)+oa);let rc;Zb(Ua);Zb(yb);if(yb!==Ua)if(Ua%=Jc,0>Ua&&(Ua+=Jc),yb%=
Jc,0>yb&&(yb+=Jc),yb<Ua&&(Tb=!Tb,rc=Ua,Ua=yb,yb=rc),Tb)for(yb-=Jc,rc=Ua-Ua%Yf,Ua=0;4>Ua&&rc>yb;++Ua,rc-=Yf)Zb(rc);else for(rc=Ua-Ua%Yf+Yf,Ua=0;4>Ua&&rc<yb;++Ua,rc+=Yf)Zb(rc)}}};var Xe=(Xe=O.canvas(1,1))?Xe.getContext("2d"):null;const zf=new da;var tf=[],Oe=Fa("arc",function(Y,oa){return Ae.context(Y)(oa)}),Nf=Ra("area",function(Y,oa){const Pa=oa[0];return("horizontal"===Pa.orient?xa:Bc).curve(h(Pa.interpolate||"linear",Pa.orient,Pa.tension)).context(Y)(oa)},function(Y,oa){oa="horizontal"===Y[0].orient?
oa[1]:oa[0];for(var Pa="horizontal"===Y[0].orient?"y":"x",Ua=Y.length,yb=Infinity,Tb,Zb;0<=--Ua;)!1!==Y[Ua].defined&&(Zb=Math.abs(Y[Ua][Pa]-oa),Zb<yb&&(yb=Zb,Tb=Y[Ua]));return Tb});const za=Za(Ma),Ia=Za(Ma,!1),wb=Za(Ma,!0);var Yb={type:"group",tag:"g",nested:!1,attr:function(Y,oa){Y("transform",Aa(oa.x||0,oa.y||0))},bound:function(Y,oa){if(!oa.clip&&oa.items){const Pa=oa.items,Ua=Pa.length;for(let yb=0;yb<Ua;++yb)Y.union(Pa[yb].bounds)}(oa.clip||oa.width||oa.height)&&!oa.noBound&&Y.add(0,0).add(oa.width||
0,oa.height||0);r(Y,oa);return Y.translate(oa.x||0,oa.y||0)},draw:function(Y,oa,Pa){qa(oa,Ua=>{const yb=Ua.x||0,Tb=Ua.y||0,Zb=Ua.strokeForeground,rc=null==Ua.opacity?1:Ua.opacity;(Ua.stroke||Ua.fill)&&rc&&(Ma(Y,Ua,yb,Tb),Ta(Y,Ua),Ua.fill&&V(Y,Ua,rc)&&Y.fill(),Ua.stroke&&!Zb&&W(Y,Ua,rc)&&Y.stroke());Y.save();Y.translate(yb,Tb);Ua.clip&&ab(Y,Ua);Pa&&Pa.translate(-yb,-Tb);qa(Ua,Gc=>{this.draw(Y,Gc,Pa)});Pa&&Pa.translate(yb,Tb);Y.restore();Zb&&Ua.stroke&&rc&&(Ma(Y,Ua,yb,Tb),Ta(Y,Ua),W(Y,Ua,rc)&&Y.stroke())})},
pick:function(Y,oa,Pa,Ua,yb,Tb){if(oa.bounds&&!oa.bounds.contains(yb,Tb)||!oa.items)return null;const Zb=Pa*Y.pixelRatio,rc=Ua*Y.pixelRatio;return pa(oa,Gc=>{let dd,Zc;var Kd=Gc.bounds;if(!Kd||Kd.contains(yb,Tb)){dd=Gc.x||0;Zc=Gc.y||0;Kd=dd+(Gc.width||0);var Ud=Zc+(Gc.height||0),pd=Gc.clip;if(!pd||!(yb<dd||yb>Kd||Tb<Zc||Tb>Ud)){Y.save();Y.translate(dd,Zc);dd=yb-dd;Zc=Tb-Zc;if(pd&&U(Gc)&&!wb(Y,Gc,Zb,rc))return Y.restore(),null;Ud=Gc.strokeForeground;if((pd=!1!==oa.interactive)&&Ud&&Gc.stroke&&Ia(Y,
Gc,Zb,rc))return Y.restore(),Gc;Kd=pa(Gc,Bd=>(!1!==Bd.interactive||"group"===Bd.marktype)&&Bd.bounds&&Bd.bounds.contains(dd,Zc)?this.pick(Bd,Pa,Ua,dd,Zc):null);!Kd&&pd&&(Gc.fill||!Ud&&Gc.stroke)&&za(Y,Gc,Zb,rc)&&(Kd=Gc);Y.restore();return Kd||null}}})},isect:$a,content:function(Y,oa,Pa){oa=oa.clip?ba(Pa,oa,oa):null;Y("clip-path",oa)},background:function(Y,oa){Y("class","background");Y("aria-hidden",!0);{const Pa=lb(oa);Y("d",ka(null,oa,Pa,Pa))}},foreground:function(Y,oa){Y("class","foreground");Y("aria-hidden",
!0);if(oa.strokeForeground){{const Pa=lb(oa);Y("d",ka(null,oa,Pa,Pa))}}else Y("d","")}},Ub={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"},ic={type:"image",tag:"image",nested:!1,attr:function(Y,oa,Pa){var Ua=nb(oa,Pa);Pa=zb(oa,Ua);const yb=Sb(oa,Ua),Tb=(oa.x||0)-vc(oa.align,Pa),Zb=(oa.y||0)-lc(oa.baseline,yb);Ua=!Ua.src&&Ua.toDataURL?Ua.toDataURL():Ua.src||"";Y("href",Ua,Ub["xmlns:xlink"],"xlink:href");Y("transform",Aa(Tb,Zb));Y("width",Pa);Y("height",
yb);Y("preserveAspectRatio",!1===oa.aspect?"none":"xMidYMid")},bound:function(Y,oa){var Pa=oa.image;const Ua=zb(oa,Pa);Pa=Sb(oa,Pa);const yb=(oa.x||0)-vc(oa.align,Ua);oa=(oa.y||0)-lc(oa.baseline,Pa);return Y.set(yb,oa,yb+Ua,oa+Pa)},draw:function(Y,oa,Pa){qa(oa,Ua=>{if(!Pa||Pa.intersects(Ua.bounds)){var yb=nb(Ua,this),Tb=zb(Ua,yb),Zb=Sb(Ua,yb);if(0!==Tb&&0!==Zb){var rc=(Ua.x||0)-vc(Ua.align,Tb),Gc=(Ua.y||0)-lc(Ua.baseline,Zb),dd;if(!1!==Ua.aspect){var Zc=yb.width/yb.height;var Kd=Ua.width/Ua.height;
Zc===Zc&&Kd===Kd&&Zc!==Kd&&(Kd<Zc?(Zc=Tb/Zc,Gc+=(Zb-Zc)/2,Zb=Zc):(Zc*=Zb,rc+=(Tb-Zc)/2,Tb=Zc))}if(yb.complete||yb.toDataURL)Ta(Y,Ua),Y.globalAlpha=null!=(dd=Ua.opacity)?dd:1,Y.imageSmoothingEnabled=!1!==Ua.smooth,Y.drawImage(yb,rc,Gc,Tb,Zb)}}})},pick:cb(),isect:m.truthy,get:nb,xOffset:vc,yOffset:lc},oc=Ra("line",function(Y,oa){const Pa=oa[0];return Ba.curve(h(Pa.interpolate||"linear",Pa.orient,Pa.tension)).context(Y)(oa)},function(Y,oa){for(var Pa=Math.pow(Y[0].strokeWidth||1,2),Ua=Y.length,yb,Tb;0<=
--Ua;)if(!1!==Y[Ua].defined&&(yb=Y[Ua].x-oa[0],Tb=Y[Ua].y-oa[1],yb=yb*yb+Tb*Tb,yb<Pa))return Y[Ua];return null}),id={type:"path",tag:"path",nested:!1,attr:function(Y,oa){var Pa=oa.scaleY||1;1===(oa.scaleX||1)&&1===Pa||Y("vector-effect","non-scaling-stroke");Pa=Aa(oa.x||0,oa.y||0)+(oa.angle?" rotate("+(oa.angle+")"):"")+(oa.scaleX||oa.scaleY?" scale("+((oa.scaleX||1)+","+(oa.scaleY||1)+")"):"");Y("transform",Pa);Y("d",oa.path)},bound:function(Y,oa){return kc(N(Y,oa.angle),oa)?Y.set(0,0,0,0):r(Y,oa,
!0)},draw:Ga(kc),pick:cb(Za(kc)),isect:ta(kc)},Tc={type:"rect",tag:"path",nested:!1,attr:function(Y,oa){Y("d",ka(null,oa))},bound:function(Y,oa){var Pa,Ua;return r(Y.set(Pa=oa.x||0,Ua=oa.y||0,Pa+oa.width||0,Ua+oa.height||0),oa)},draw:Ga(jb),pick:cb(Za(jb)),isect:$a},gd={type:"rule",tag:"line",nested:!1,attr:function(Y,oa){Y("transform",Aa(oa.x||0,oa.y||0));Y("x2",null!=oa.x2?oa.x2-(oa.x||0):0);Y("y2",null!=oa.y2?oa.y2-(oa.y||0):0)},bound:function(Y,oa){var Pa,Ua;return r(Y.set(Pa=oa.x||0,Ua=oa.y||
0,null!=oa.x2?oa.x2:Pa,null!=oa.y2?oa.y2:Ua),oa)},draw:function(Y,oa,Pa){qa(oa,Ua=>{if(!Pa||Pa.intersects(Ua.bounds)){var yb=null==Ua.opacity?1:Ua.opacity;yb&&$b(Y,Ua,yb)&&(Ta(Y,Ua),Y.stroke())}})},pick:cb(function(Y,oa,Pa,Ua){return Y.isPointInStroke?$b(Y,oa,1)&&Y.isPointInStroke(Pa,Ua):!1}),isect:kb},Hd=Fa("shape",function(Y,oa){return(oa.mark.shape||oa.shape).context(Y)(oa)}),he=Fa("symbol",function(Y,oa){return Hb.context(Y)(oa)},Da);const ie=m.lruCache();var Pd={height:Vc,measureWidth:zc,estimateWidth:nc,
width:nc,canvas:yc};yc(!0);const Ne={left:"start",center:"middle",right:"end"},pe=new da;var He={type:"text",tag:"text",nested:!1,attr:function(Y,oa){var Pa=oa.dx||0,Ua=(oa.dy||0)+Yd(oa),yb=Qb(oa),Tb=yb.x1;yb=yb.y1;var Zb=oa.angle||0;Y("text-anchor",Ne[oa.align]||"start");if(Zb){if(oa=Aa(Tb,yb)+" rotate("+(Zb+")"),Pa||Ua)oa+=" "+Aa(Pa,Ua)}else oa=Aa(Tb+Pa,yb+Ua);Y("transform",oa)},bound:gc,draw:function(Y,oa,Pa){qa(oa,Ua=>{var yb=null==Ua.opacity?1:Ua.opacity,Tb;if(!(Pa&&!Pa.intersects(Ua.bounds)||
0===yb||0>=Ua.fontSize||null==Ua.text||0===Ua.text.length)){Y.font=Sc(Ua);Y.textAlign=Ua.align||"left";var Zb=Qb(Ua);var rc=Zb.x1;Zb=Zb.y1;Ua.angle&&(Y.save(),Y.translate(rc,Zb),Y.rotate(Ua.angle*Qe),rc=Zb=0);rc+=Ua.dx||0;Zb+=(Ua.dy||0)+Yd(Ua);var Gc=Lc(Ua);Ta(Y,Ua);if(m.isArray(Gc)){var dd=Uc(Ua);for(Tb=0;Tb<Gc.length;++Tb){var Zc=Fd(Ua,Gc[Tb]);Ua.fill&&V(Y,Ua,yb)&&Y.fillText(Zc,rc,Zb);Ua.stroke&&W(Y,Ua,yb)&&Y.strokeText(Zc,rc,Zb);Zb+=dd}}else Zc=Fd(Ua,Gc),Ua.fill&&V(Y,Ua,yb)&&Y.fillText(Zc,rc,Zb),
Ua.stroke&&W(Y,Ua,yb)&&Y.strokeText(Zc,rc,Zb);Ua.angle&&Y.restore()}})},pick:cb(function(Y,oa,Pa,Ua,yb,Tb){if(0>=oa.fontSize)return!1;if(!oa.angle)return!0;Pa=Qb(oa);Y=Pa.x1;Pa=Pa.y1;Ua=gc(pe,oa,1);var Zb=-oa.angle*Qe;oa=Math.cos(Zb);Zb=Math.sin(Zb);return Ua.contains(oa*yb-Zb*Tb+(Y-oa*Y+Zb*Pa),Zb*yb+oa*Tb+(Pa-Zb*Y-oa*Pa))}),isect:function(Y,oa){Y=gc(pe,Y,2);return sa(oa,Y[0],Y[1],Y[2],Y[3])||sa(oa,Y[0],Y[1],Y[4],Y[5])||sa(oa,Y[4],Y[5],Y[6],Y[7])||sa(oa,Y[2],Y[3],Y[6],Y[7])}},Je=Ra("trail",function(Y,
oa){return vb.context(Y)(oa)},function(Y,oa){for(var Pa=Y.length,Ua,yb;0<=--Pa;)if(!1!==Y[Pa].defined&&(Ua=Y[Pa].x-oa[0],yb=Y[Pa].y-oa[1],yb=Ua*Ua+yb*yb,Ua=Y[Pa].size||1,yb<Ua*Ua))return Y[Pa];return null}),Le={arc:Oe,area:Nf,group:Yb,image:ic,line:oc,path:id,rect:Tc,rule:gd,shape:Hd,symbol:he,text:He,trail:Je},Of={mark:null};const Te="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription".split(" ");
Ja.prototype={toJSON(Y){return Wc(this.root,Y||0)},mark(Y,oa,Pa){oa=oa||this.root.items[0];Y=eb(Y,oa);oa.items[Pa]=Y;Y.zindex&&(Y.group.zdirty=!0);return Y}};ob.prototype={initialize(Y,oa,Pa){this._el=Y;this._obj=Pa||null;return this.origin(oa)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(Y){return arguments.length?(this._origin=Y||[0,0],this):this._origin.slice()},scene(Y){if(!arguments.length)return this._scene;this._scene=Y;return this},on(){},off(){},_handlerIndex(Y,
oa,Pa){for(let Ua=Y?Y.length:0;0<=--Ua;)if(Y[Ua].type===oa&&(!Pa||Y[Ua].handler===Pa))return Ua;return-1},handlers(Y){const oa=this._handlers,Pa=[];if(Y)Pa.push(...oa[this.eventName(Y)]);else for(const Ua in oa)Pa.push(...oa[Ua]);return Pa},eventName(Y){const oa=Y.indexOf(".");return 0>oa?Y:Y.slice(0,oa)},handleHref(Y,oa,Pa){this._loader.sanitize(Pa,{context:"href"}).then(Ua=>{const yb=new MouseEvent(Y.type,Y),Tb=xb(null,"a");for(const Zb in Ua)Tb.setAttribute(Zb,Ua[Zb]);Tb.dispatchEvent(yb)}).catch(()=>
{})},handleTooltip(Y,oa,Pa){if(oa&&null!=oa.tooltip){var Ua=this.canvas(),yb=this._origin,Tb=oa&&oa.mark,Zb;if(Tb&&(Zb=Le[Tb.marktype]).tip){Ua=sc(Y,Ua);Ua[0]-=yb[0];for(Ua[1]-=yb[1];oa=oa.mark.group;)Ua[0]-=oa.x||0,Ua[1]-=oa.y||0;oa=Zb.tip(Tb.items,Ua)}this._tooltip.call(this._obj,this,Y,oa,Pa&&oa&&oa.tooltip||null)}},getItemBoundingClientRect(Y){var oa=this.canvas();if(oa){var Pa=oa.getBoundingClientRect(),Ua=this._origin,yb=Y.bounds;oa=yb.width();var Tb=yb.height(),Zb=yb.x1+Ua[0]+Pa.left;for(Pa=
yb.y1+Ua[1]+Pa.top;Y.mark&&(Y=Y.mark.group);)Zb+=Y.x||0,Pa+=Y.y||0;return{x:Zb,y:Pa,width:oa,height:Tb,left:Zb,top:Pa,right:Zb+oa,bottom:Pa+Tb}}}};Vb.prototype={initialize(Y,oa,Pa,Ua,yb){this._el=Y;return this.resize(oa,Pa,Ua,yb)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(Y){if(0===arguments.length)return this._bgcolor;this._bgcolor=Y;return this},resize(Y,oa,Pa,Ua){this._width=Y;this._height=oa;this._origin=Pa||[0,0];this._scale=Ua||1;return this},dirty(){},
render(Y){const oa=this;oa._call=function(){oa._render(Y)};oa._call();oa._call=null;return oa},_render(){},renderAsync(Y){const oa=this.render(Y);return this._ready?this._ready.then(()=>oa):Promise.resolve(oa)},_load(Y,oa){var Pa=this;Y=Pa._loader[Y](oa);if(!Pa._ready){const Ua=Pa._call;Pa._ready=Pa._loader.ready().then(yb=>{yb&&Ua();Pa._ready=null})}return Y},sanitizeURL(Y){return this._load("sanitizeURL",Y)},loadImage(Y){return this._load("loadImage",Y)}};m.inherits(mc,ob,{initialize(Y,oa,Pa){this._canvas=
Y&&Jb(Y,"canvas");["click","mousedown","mousemove","mouseout","dragleave"].forEach(Ua=>Dc(this,Ua));return ob.prototype.initialize.call(this,Y,oa,Pa)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:"keydown keypress keyup dragenter dragleave dragover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" "),DOMMouseScroll(Y){this.fire("mousewheel",Y)},mousemove:Xc("mousemove","mouseover","mouseout"),
dragover:Xc("dragover","dragenter","dragleave"),mouseout:Fb("mouseout"),dragleave:Fb("dragleave"),mousedown(Y){this._down=this._active;this.fire("mousedown",Y)},click(Y){this._down===this._active&&(this.fire("click",Y),this._down=null)},touchstart(Y){this._touch=this.pickEvent(Y.changedTouches[0]);this._first&&(this._active=this._touch,this._first=!1);this.fire("touchstart",Y,!0)},touchmove(Y){this.fire("touchmove",Y,!0)},touchend(Y){this.fire("touchend",Y,!0);this._touch=null},fire(Y,oa,Pa){Pa=Pa?
this._touch:this._active;const Ua=this._handlers[Y];oa.vegaType=Y;"click"===Y&&Pa&&Pa.href?this.handleHref(oa,Pa,Pa.href):("mousemove"===Y||"mouseout"===Y)&&this.handleTooltip(oa,Pa,"mouseout"!==Y);if(Ua)for(let yb=0,Tb=Ua.length;yb<Tb;++yb)Ua[yb].handler.call(this._obj,oa,Pa)},on(Y,oa){const Pa=this.eventName(Y),Ua=this._handlers;0>this._handlerIndex(Ua[Pa],Y,oa)&&(Dc(this,Y),(Ua[Pa]||(Ua[Pa]=[])).push({type:Y,handler:oa}));return this},off(Y,oa){var Pa=this.eventName(Y);Pa=this._handlers[Pa];Y=
this._handlerIndex(Pa,Y,oa);0<=Y&&Pa.splice(Y,1);return this},pickEvent(Y){Y=sc(Y,this._canvas);const oa=this._origin;return this.pick(this._scene,Y[0],Y[1],Y[0]-oa[0],Y[1]-oa[1])},pick(Y,oa,Pa,Ua,yb){const Tb=this.context();return Le[Y.marktype].pick.call(this,Tb,Y,oa,Pa,Ua,yb)}});var uf="undefined"!==typeof window?window.devicePixelRatio||1:1;const Bf=Vb.prototype;m.inherits(Ic,Vb,{initialize(Y,oa,Pa,Ua,yb,Tb){this._options=Tb||{};this._canvas=this._options.externalContext?null:O.canvas(1,1,this._options.type);
Y&&this._canvas&&(jc(Y,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks"));return Bf.initialize.call(this,Y,oa,Pa,Ua,yb)},resize(Y,oa,Pa,Ua){Bf.resize.call(this,Y,oa,Pa,Ua);if(this._canvas){{Y=this._canvas;oa=this._width;Pa=this._height;Ua=this._origin;var yb=this._scale,Tb=this._options.context;const rc="undefined"!==typeof HTMLElement&&Y instanceof HTMLElement&&null!=Y.parentNode,Gc=Y.getContext("2d");yb=rc?uf:yb;Y.width=oa*yb;Y.height=Pa*yb;for(var Zb in Tb)Gc[Zb]=Tb[Zb];rc&&
1!==yb&&(Y.style.width=oa+"px",Y.style.height=Pa+"px");Gc.pixelRatio=yb;Gc.setTransform(yb,0,0,yb,yb*Ua[0],yb*Ua[1])}}else(Zb=this._options.externalContext)||m.error("CanvasRenderer is missing a valid canvas or context"),Zb.scale(this._scale,this._scale),Zb.translate(this._origin[0],this._origin[1]);this._redraw=!0;return this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(Y){const oa=this._tempb.clear().union(Y.bounds);
for(Y=Y.mark.group;Y;)oa.translate(Y.x||0,Y.y||0),Y=Y.mark.group;this._dirty.union(oa)},_render(Y){const oa=this.context(),Pa=this._origin,Ua=this._width,yb=this._height,Tb=this._dirty;var Zb=(new da).set(0,0,Ua,yb).translate(-Pa[0],-Pa[1]);oa.save();this._redraw||Tb.empty()?Zb=(this._redraw=!1,Zb.expand(1)):(Zb=Zb.intersect(Tb),Zb.expand(1).round(),oa.pixelRatio%1&&Zb.scale(oa.pixelRatio).round().scale(1/oa.pixelRatio),Zb.translate(-(Pa[0]%1),-(Pa[1]%1)),oa.beginPath(),oa.rect(Zb.x1,Zb.y1,Zb.width(),
Zb.height()),oa.clip());this.clear(-Pa[0],-Pa[1],Ua,yb);this.draw(oa,Y,Zb);oa.restore();Tb.clear();return this},draw(Y,oa,Pa){const Ua=Le[oa.marktype];if(oa.clip){var yb=oa.clip;Y.save();m.isFunction(yb)?(Y.beginPath(),yb(Y),Y.clip()):ab(Y,oa.group)}Ua.draw.call(this,Y,oa,Pa);oa.clip&&Y.restore()},clear(Y,oa,Pa,Ua){const yb=this._options,Tb=this.context();"pdf"===yb.type||yb.externalContext||Tb.clearRect(Y,oa,Pa,Ua);null!=this._bgcolor&&(Tb.fillStyle=this._bgcolor,Tb.fillRect(Y,oa,Pa,Ua))}});const Ag=
(Y,oa)=>Pa=>{let Ua=Pa.target.__data__;Ua=Array.isArray(Ua)?Ua[0]:Ua;Pa.vegaType=Pa.type;oa.call(Y._obj,Pa,Ua)};m.inherits(fd,ob,{initialize(Y,oa,Pa){let Ua=this._svg;Ua&&(Ua.removeEventListener("click",this._hrefHandler),Ua.removeEventListener("mousemove",this._tooltipHandler),Ua.removeEventListener("mouseout",this._tooltipHandler));if(this._svg=Ua=Y&&Jb(Y,"svg"))Ua.addEventListener("click",this._hrefHandler),Ua.addEventListener("mousemove",this._tooltipHandler),Ua.addEventListener("mouseout",this._tooltipHandler);
return ob.prototype.initialize.call(this,Y,oa,Pa)},canvas(){return this._svg},on(Y,oa){const Pa=this.eventName(Y),Ua=this._handlers;0>this._handlerIndex(Ua[Pa],Y,oa)&&(Y={type:Y,handler:oa,listener:Ag(this,oa)},(Ua[Pa]||(Ua[Pa]=[])).push(Y),this._svg&&this._svg.addEventListener(Pa,Y.listener));return this},off(Y,oa){const Pa=this.eventName(Y),Ua=this._handlers[Pa];Y=this._handlerIndex(Ua,Y,oa);0<=Y&&(this._svg&&this._svg.removeEventListener(Pa,Ua[Y].listener),Ua.splice(Y,1));return this}});const Rf=
(Y,oa,Pa)=>({["role"]:Y,["aria-roledescription"]:oa,["aria-label"]:Pa||void 0}),jg=m.toSet("axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title".split(" ")),wa={axis:{desc:"axis",caption:function(Y){var oa=Y.datum;const Pa=Y.orient,Ua=oa.title?Cd(Y):null;var yb=Y.context;oa=yb.scales[oa.scale].value;yb=yb.dataflow.locale();const Tb=oa.type;return`${"left"===Pa||"right"===Pa?"Y":"X"}-axis`+(Ua?` titled '${Ua}'`:
"")+` for a ${y.isDiscrete(Tb)?"discrete":Tb} scale`+` with ${y.domainCaption(yb,oa,Y)}`}},legend:{desc:"legend",caption:function(Y){var oa=Y.datum;const Pa=oa.title?Cd(Y):null,Ua=`${oa.type||""} legend`.trim();var yb=oa.scales;oa=Object.keys(yb);var Tb=Y.context;yb=Tb.scales[yb[oa[0]]].value;Tb=Tb.dataflow.locale();return(Ua.length?Ua[0].toUpperCase()+Ua.slice(1):Ua)+(Pa?` titled '${Pa}'`:"")+` for ${Ed(oa)}`+` with ${y.domainCaption(Tb,yb,Y)}`}},"title-text":{desc:"title",caption:Y=>`Title text '${m.array(Y.text).join(" ")}'`},
"title-subtitle":{desc:"subtitle",caption:Y=>`Subtitle text '${m.array(Y.text).join(" ")}'`}},ya={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"},Na=Y=>(Y+"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;"),Sa=Y=>$d(Xd(),Y)+"",fb={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",
strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},hb={fill:"none","stroke-miterlimit":10},sb=Ub.xmlns,Gb=Vb.prototype;m.inherits(ae,Vb,{initialize(Y,oa,Pa,Ua,yb){this._defs={};this._clearDefs();Y&&(this._svg=ac(Y,0,"svg",sb),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns",sb),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink",Ub["xmlns:xlink"]),this._svg.setAttribute("version",Ub.version),this._svg.setAttribute("class","marks"),jc(Y,
1),this._root=ac(this._svg,0,"g",sb),Vd(this._root,hb),jc(this._svg,1));this.background(this._bgcolor);return Gb.initialize.call(this,Y,oa,Pa,Ua,yb)},background(Y){arguments.length&&this._svg&&this._svg.style.setProperty("background-color",Y);return Gb.background.apply(this,arguments)},resize(Y,oa,Pa,Ua){Gb.resize.call(this,Y,oa,Pa,Ua);this._svg&&(Vd(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",
`translate(${this._origin})`));this._dirty=[];return this},canvas(){return this._svg},svg(){const Y=this._svg,oa=this._bgcolor;if(!Y)return null;let Pa;oa&&(Y.removeAttribute("style"),Pa=ac(Y,0,"rect",sb),Vd(Pa,{width:this._width,height:this._height,fill:oa}));const Ua=Sa(Y);oa&&(Y.removeChild(Pa),this._svg.style.setProperty("background-color",oa));return Ua},_render(Y){this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,Y),jc(this._root,1));this.defs();this._dirty=[];++this._dirtyID;
return this},dirty(Y){Y.dirty!==this._dirtyID&&(Y.dirty=this._dirtyID,this._dirty.push(Y))},isDirty(Y){return this._dirtyAll||!Y._svg||Y.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const Y=this._dirty;if(!Y.length||!this._dirtyID)return!0;const oa=++this._dirtyID;let Pa;let Ua,yb,Tb,Zb;Tb=0;for(Zb=Y.length;Tb<Zb;++Tb){Pa=Y[Tb];var rc=Pa.mark;rc.marktype!==Ua&&(Ua=rc.marktype,yb=Le[Ua]);rc.zdirty&&rc.dirty!==oa&&(this._dirtyAll=!1,Ce(Pa,oa),rc.items.forEach(Gc=>{Gc.dirty=oa}));rc.zdirty||
(Pa.exit?(yb.nested&&rc.items.length?(rc=rc.items[0],rc._svg&&this._update(yb,rc._svg,rc)):Pa._svg&&(rc=Pa._svg.parentNode)&&rc.removeChild(Pa._svg),Pa._svg=null):(Pa=yb.nested?rc.items[0]:Pa,Pa._update!==oa&&(Pa._svg&&Pa._svg.ownerSVGElement?this._update(yb,Pa._svg,Pa):(this._dirtyAll=!1,Ce(Pa,oa)),Pa._update=oa)))}return!this._dirtyAll},mark(Y,oa,Pa){if(!this.isDirty(oa))return oa._svg;const Ua=this._svg,yb=Le[oa.marktype];var Tb=!1===oa.interactive?"none":null;const Zb="g"===yb.tag;let rc=null,
Gc=0;const dd=ff(oa,Y,Pa,"g",Ua);dd.setAttribute("class",Ec(oa));Y=$c(oa);for(const Zc in Y)ge(dd,Zc,Y[Zc]);Zb||ge(dd,"pointer-events",Tb);ge(dd,"clip-path",oa.clip?ba(this,oa,oa.group):null);Tb=Zc=>{const Kd=this.isDirty(Zc),Ud=ff(Zc,dd,rc,yb.tag,Ua);Kd&&(this._update(yb,Ud,Zc),Zb&&me(this,Ud,Zc));rc=Ud;++Gc};yb.nested?oa.items.length&&Tb(oa.items[0]):qa(oa,Tb);jc(dd,Gc);return dd},_update(Y,oa,Pa){Bb=oa;Nb=oa.__values__;wc(Ze,Pa);Y.attr(Ze,Pa,this);const Ua=Mb[Y.type];Ua&&Ua.call(this,Y,oa,Pa);
Bb&&this.style(Bb,Pa)},style(Y,oa){if(null!=oa)for(const Pa in fb){let Ua="font"===Pa?vd(oa):oa[Pa];if(Ua===Nb[Pa])continue;const yb=fb[Pa];null==Ua?Y.removeAttribute(yb):(Ua&&Ua.gradient&&(Ua=q(Ua,this._defs.gradient,yf())),Y.setAttribute(yb,Ua+""));Nb[Pa]=Ua}},defs(){const Y=this._svg,oa=this._defs;let Pa=oa.el;var Ua=0;for(var yb in oa.gradient){Pa||(oa.el=Pa=ac(Y,1,"defs",sb));{var Tb=void 0;let Gc,dd;var Zb=Pa,rc=oa.gradient[yb];"radial"===rc.gradient?(Tb=ac(Zb,Ua++,"pattern",sb),Vd(Tb,{id:"p_"+
rc.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),Tb=ac(Tb,0,"rect",sb),Vd(Tb,{width:1,height:1,fill:`url(${yf()}#${rc.id})`}),Zb=ac(Zb,Ua++,"radialGradient",sb),Vd(Zb,{id:rc.id,fx:rc.x1,fy:rc.y1,fr:rc.r1,cx:rc.x2,cy:rc.y2,r:rc.r2})):(Zb=ac(Zb,Ua++,"linearGradient",sb),Vd(Zb,{id:rc.id,x1:rc.x1,x2:rc.x2,y1:rc.y1,y2:rc.y2}));dd=0;for(Gc=rc.stops.length;dd<Gc;++dd)Tb=ac(Zb,dd,"stop",sb),Tb.setAttribute("offset",rc.stops[dd].offset),Tb.setAttribute("stop-color",
rc.stops[dd].color);jc(Zb,dd)}}for(const Gc in oa.clipping)Pa||(oa.el=Pa=ac(Y,1,"defs",sb)),Zb=Pa,rc=oa.clipping[Gc],yb=Ua,Zb=ac(Zb,yb,"clipPath",sb),Zb.setAttribute("id",rc.id),rc.path?(Ua=ac(Zb,0,"path",sb),Ua.setAttribute("d",rc.path)):(Ua=ac(Zb,0,"rect",sb),Vd(Ua,{x:0,y:0,width:rc.width,height:rc.height})),jc(Zb,1),Ua=yb+1;Pa&&(0===Ua?(Y.removeChild(Pa),oa.el=null):jc(Pa,Ua))},_clearDefs(){const Y=this._defs;Y.gradient={};Y.clipping={}}});let Bb=null,Nb=null;const Mb={group(Y,oa,Pa){const Ua=
Bb=oa.childNodes[2];Nb=Ua.__values__;Y.foreground(Ze,Pa,this);Nb=oa.__values__;Bb=oa.childNodes[1];Y.content(Ze,Pa,this);oa=Bb=oa.childNodes[0];Y.background(Ze,Pa,this);Y=!1===Pa.mark.interactive?"none":null;Y!==Nb.events&&(ge(Ua,"pointer-events",Y),ge(oa,"pointer-events",Y),Nb.events=Y);Pa.strokeForeground&&Pa.stroke?(Y=Pa.fill,ge(Ua,"display",null),this.style(oa,Pa),ge(oa,"stroke",null),Y&&(Pa.fill=null),Nb=Ua.__values__,this.style(Ua,Pa),Y&&(Pa.fill=Y),Bb=null):ge(Ua,"display","none")},image(Y,
oa,Pa){!1===Pa.smooth?(hf(oa,"image-rendering","optimizeSpeed"),hf(oa,"image-rendering","pixelated")):hf(oa,"image-rendering",null)},text(Y,oa,Pa){Y=Lc(Pa);let Ua,yb,Tb;m.isArray(Y)?(Ua=Y.map(Zb=>Fd(Pa,Zb)),Y=Ua.join("\n"),Y!==Nb.text&&(jc(oa,0),yb=oa.ownerDocument,Tb=Uc(Pa),Ua.forEach((Zb,rc)=>{const Gc=xb(yb,"tspan",sb);Gc.__data__=Pa;Gc.textContent=Zb;rc&&(Gc.setAttribute("x",0),Gc.setAttribute("dy",Tb));oa.appendChild(Gc)}),Nb.text=Y)):(Ua=Fd(Pa,Y),Ua!==Nb.text&&(oa.textContent=Ua,Nb.text=Ua));
ge(oa,"font-family",vd(Pa));ge(oa,"font-size",Vc(Pa)+"px");ge(oa,"font-style",Pa.fontStyle);ge(oa,"font-variant",Pa.fontVariant);ge(oa,"font-weight",Pa.fontWeight)}};m.inherits(Ue,Vb,{svg(){return this._text},_render(Y){const oa=Xd();oa.open("svg",m.extend({},Ub,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const Pa=this._bgcolor;Pa&&"transparent"!==Pa&&"none"!==Pa&&oa.open("rect",{width:this._width,height:this._height,
fill:Pa}).close();oa.open("g",hb,{transform:"translate("+this._origin+")"});this.mark(oa,Y);oa.close();this.defs(oa);this._text=oa.close()+"";return this},mark(Y,oa){const Pa=Le[oa.marktype],Ua=Pa.tag,yb=[wc,Pa.attr];Y.open("g",{"class":Ec(oa),"clip-path":oa.clip?ba(this,oa,oa.group):null},$c(oa),{"pointer-events":"g"!==Ua&&!1===oa.interactive?"none":null});const Tb=Zb=>{const rc=this.href(Zb);rc&&Y.open("a",rc);Y.open(Ua,this.attr(oa,Zb,yb,"g"!==Ua?Ua:null));if("text"===Ua){var Gc=Lc(Zb);if(m.isArray(Gc)){var dd=
{x:0,dy:Uc(Zb)};for(var Zc=0;Zc<Gc.length;++Zc)Y.open("tspan",Zc?dd:null).text(Fd(Zb,Gc[Zc])).close()}else Y.text(Fd(Zb,Gc))}else"g"===Ua&&(Gc=Zb.strokeForeground,dd=Zb.fill,Zc=Zb.stroke,Gc&&Zc&&(Zb.stroke=null),Y.open("path",this.attr(oa,Zb,Pa.background,"bgrect")).close(),Y.open("g",this.attr(oa,Zb,Pa.content)),qa(Zb,Kd=>this.mark(Y,Kd)),Y.close(),Gc&&Zc?(dd&&(Zb.fill=null),Zb.stroke=Zc,Y.open("path",this.attr(oa,Zb,Pa.foreground,"bgrect")).close(),dd&&(Zb.fill=dd)):Y.open("path",this.attr(oa,Zb,
Pa.foreground,"bgfore")).close());Y.close();rc&&Y.close()};Pa.nested?oa.items&&oa.items.length&&Tb(oa.items[0]):qa(oa,Tb);return Y.close()},href(Y){const oa=Y.href;if(oa){if(Y=this._hrefs&&this._hrefs[oa])return Y;this.sanitizeURL(oa).then(Pa=>{Pa["xlink:href"]=Pa.href;Pa.href=null;(this._hrefs||(this._hrefs={}))[oa]=Pa})}return null},attr(Y,oa,Pa,Ua){const yb={},Tb=(Zb,rc,Gc,dd)=>{yb[dd||Zb]=rc};Array.isArray(Pa)?Pa.forEach(Zb=>Zb(Tb,oa,this)):Pa(Tb,oa,this);Ua&&of(yb,oa,Y,Ua,this._defs);return yb},
defs(Y){var oa=this._defs.gradient;const Pa=this._defs.clipping;if(0!==Object.keys(oa).length+Object.keys(Pa).length){Y.open("defs");for(const yb in oa){var Ua=oa[yb];const Tb=Ua.stops;"radial"===Ua.gradient?(Y.open("pattern",{id:"p_"+yb,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),Y.open("rect",{width:"1",height:"1",fill:"url(#"+yb+")"}).close(),Y.close(),Y.open("radialGradient",{id:yb,fx:Ua.x1,fy:Ua.y1,fr:Ua.r1,cx:Ua.x2,cy:Ua.y2,r:Ua.r2})):Y.open("linearGradient",
{id:yb,x1:Ua.x1,x2:Ua.x2,y1:Ua.y1,y2:Ua.y2});for(Ua=0;Ua<Tb.length;++Ua)Y.open("stop",{offset:Tb[Ua].offset,"stop-color":Tb[Ua].color}).close();Y.close()}for(const yb in Pa)oa=Pa[yb],Y.open("clipPath",{id:yb}),oa.path?Y.open("path",{d:oa.path}).close():Y.open("rect",{x:0,y:0,width:oa.width,height:oa.height}).close(),Y.close();Y.close()}}});const dc={};dc.canvas=dc.png={renderer:Ic,headless:Ic,handler:mc};dc.svg={renderer:ae,headless:Ue,handler:fd};dc.none={};const uc=new da;g.Bounds=da;g.CanvasHandler=
mc;g.CanvasRenderer=Ic;g.Gradient=function(Y,oa){var Pa=[],Ua;return Ua={gradient:"linear",x1:Y?Y[0]:0,y1:Y?Y[1]:0,x2:oa?oa[0]:1,y2:oa?oa[1]:0,stops:Pa,stop:function(yb,Tb){Pa.push({offset:yb,color:Tb});return Ua}}};g.GroupItem=Z;g.Handler=ob;g.Item=ja;g.Marks=Le;g.RenderType={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"};g.Renderer=Vb;g.ResourceLoader=Q;g.SVGHandler=fd;g.SVGRenderer=ae;g.SVGStringRenderer=Ue;g.Scenegraph=Ja;g.boundClip=function(Y){const oa=Y.clip;if(m.isFunction(oa))oa(N(uc.clear()));
else if(oa)uc.set(0,0,Y.group.width,Y.group.height);else return;Y.bounds.intersect(uc)};g.boundContext=N;g.boundItem=Ib;g.boundMark=Cc;g.boundStroke=r;g.domChild=ac;g.domClear=jc;g.domCreate=xb;g.domFind=Jb;g.font=Sc;g.fontFamily=vd;g.fontSize=Vc;g.intersect=function(Y,oa,Pa){const Ua=[];oa=(new da).union(oa);const yb=Y.marktype;return yb?le(Y,oa,Pa,Ua):"group"===yb?ye(Y,oa,Pa,Ua):m.error("Intersect scene must be mark node or group item.")};g.intersectBoxLine=sa;g.intersectPath=ta;g.intersectPoint=
Da;g.intersectRule=kb;g.lineHeight=Uc;g.markup=Xd;g.multiLineOffset=function(Y){const oa=Lc(Y);return(m.isArray(oa)?oa.length-1:0)*Uc(Y)};g.pathCurves=h;g.pathEqual=Td;g.pathParse=c;g.pathRectangle=J;g.pathRender=a;g.pathSymbols=p;g.pathTrail=K;g.point=sc;g.renderModule=function(Y,oa){Y=String(Y||"").toLowerCase();return 1<arguments.length?(dc[Y]=oa,this):dc[Y]};g.resetSVGClipId=function(){Xb=1};g.resetSVGDefIds=function(){Xb=1;we=0};g.sceneEqual=Ge;g.sceneFromJSON=Gd;g.scenePickVisit=pa;g.sceneToJSON=
Wc;g.sceneVisit=qa;g.sceneZOrder=fa;g.serializeXML=Sa;g.textMetrics=Pd;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[37]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E,B(26),B(36),B(14)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],m):(g="undefined"!==typeof globalThis?globalThis:g||self,m((g.vega=g.vega||{},g.vega.transforms={}),g.vega,g.vega,g.vega))})(this,function(g,m,n,F){function O(W){m.Transform.call(this,null,W)}function x(W,ca,fa){return ca(W.bounds.clear(),W,fa)}function y(W){m.Transform.call(this,
0,W)}function q(W){return W._signals[":vega_identifier:"]||(W._signals[":vega_identifier:"]=W.add(0))}function l(W){m.Transform.call(this,null,W)}function h(W){const ca=W.groups;W=W.parent;return ca&&1===ca.size?ca.get(Object.keys(ca.object)[0]):ca&&W?ca.lookup(W):null}function c(W){m.Transform.call(this,null,W)}function e(W){m.Transform.call(this,null,W)}function a(W,ca,fa){return W[ca]===fa?0:(W[ca]=fa,1)}function f(W){W=W.items[0].orient;return"left"===W||"right"===W}function p(W,ca,fa,qa){ca=
ca.items[0];var pa=ca.datum,Ga=null!=ca.translate?ca.translate:.5,na=ca.orient,Oa=+pa.grid;var cb=[pa.ticks?Oa++:-1,pa.labels?Oa++:-1,Oa+ +pa.domain];Oa=ca.range;var Za=ca.offset,Aa=ca.position,Fa=ca.minExtent,Ra=ca.maxExtent;pa=pa.title&&ca.items[cb[2]].items[0];var ab=ca.titlePadding,lb=ca.bounds,Ma=pa&&n.multiLineOffset(pa),nb;Ea.clear().union(lb);lb.clear();-1<(nb=cb[0])&&lb.union(ca.items[nb].bounds);-1<(nb=cb[1])&&lb.union(ca.items[nb].bounds);switch(na){case "top":fa=Aa||0;qa=-Za;Fa=Math.max(Fa,
Math.min(Ra,-lb.y1));lb.add(0,-Fa).add(Oa,0);pa&&A(W,pa,Fa,ab,Ma,0,-1,lb);break;case "left":fa=-Za;qa=Aa||0;Fa=Math.max(Fa,Math.min(Ra,-lb.x1));lb.add(-Fa,0).add(0,Oa);pa&&A(W,pa,Fa,ab,Ma,1,-1,lb);break;case "right":fa+=Za;qa=Aa||0;Fa=Math.max(Fa,Math.min(Ra,lb.x2));lb.add(0,0).add(Fa,Oa);pa&&A(W,pa,Fa,ab,Ma,1,1,lb);break;case "bottom":fa=Aa||0;qa+=Za;Fa=Math.max(Fa,Math.min(Ra,lb.y2));lb.add(0,0).add(Oa,Fa);pa&&A(W,pa,Fa,ab,0,0,1,lb);break;default:fa=ca.x,qa=ca.y}n.boundStroke(lb.translate(fa,qa),
ca);a(ca,"x",fa+Ga)|a(ca,"y",qa+Ga)&&(ca.bounds=Ea,W.dirty(ca),ca.bounds=lb,W.dirty(ca));return ca.mark.bounds.clear().union(lb)}function A(W,ca,fa,qa,pa,Ga,na,Oa){const cb=ca.bounds;ca.auto&&(fa=na*(fa+pa+qa),pa=qa=0,W.dirty(ca),Ga?qa=(ca.x||0)-(ca.x=fa):pa=(ca.y||0)-(ca.y=fa),ca.mark.bounds.clear().union(cb.translate(-qa,-pa)),W.dirty(ca));Oa.union(cb)}function C(W){return(new n.Bounds).set(0,0,W.width||0,W.height||0)}function D(W){const ca=W.bounds.clone();return ca.empty()?ca.set(0,0,0,0):ca.translate(-(W.x||
0),-(W.y||0))}function P(W,ca,fa){W=F.isObject(W)?W[ca]:W;return null!=W?W:void 0!==fa?fa:0}function L(W){return 0>W?Math.ceil(-W):0}function G(W,ca,fa){var qa=!fa.nodirty,pa="flush"===fa.bounds?C:D,Ga=Ea.set(0,0,0,0),na=P(fa.align,"column"),Oa=P(fa.align,"row"),cb=P(fa.padding,"column"),Za=P(fa.padding,"row"),Aa=fa.columns||ca.length,Fa=0>=Aa?1:Math.ceil(ca.length/Aa),Ra=ca.length,ab=Array(Ra),lb=Array(Aa),Ma=0,nb=Array(Ra),zb=Array(Fa),Sb=0,vc=Array(Ra),lc=Array(Ra),kc=Array(Ra),jb,$b,yc;for(jb=
0;jb<Aa;++jb)lb[jb]=0;for(jb=0;jb<Fa;++jb)zb[jb]=0;for(jb=0;jb<Ra;++jb){var nc=ca[jb];var zc=kc[jb]=pa(nc);nc.x=nc.x||0;vc[jb]=0;nc.y=nc.y||0;lc[jb]=0;nc=jb%Aa;var qc=~~(jb/Aa);Ma=Math.max(Ma,$b=Math.ceil(zc.x2));Sb=Math.max(Sb,yc=Math.ceil(zc.y2));lb[nc]=Math.max(lb[nc],$b);zb[qc]=Math.max(zb[qc],yc);ab[jb]=cb+L(zc.x1);nb[jb]=Za+L(zc.y1);qa&&W.dirty(ca[jb])}for(jb=0;jb<Ra;++jb)0===jb%Aa&&(ab[jb]=0),jb<Aa&&(nb[jb]=0);if("each"===na)for(nc=1;nc<Aa;++nc){pa=0;for(jb=nc;jb<Ra;jb+=Aa)pa<ab[jb]&&(pa=ab[jb]);
for(jb=nc;jb<Ra;jb+=Aa)ab[jb]=pa+lb[nc-1]}else if("all"===na){for(jb=pa=0;jb<Ra;++jb)jb%Aa&&pa<ab[jb]&&(pa=ab[jb]);for(jb=0;jb<Ra;++jb)jb%Aa&&(ab[jb]=pa+Ma)}else for(na=!1,nc=1;nc<Aa;++nc)for(jb=nc;jb<Ra;jb+=Aa)ab[jb]+=lb[nc-1];if("each"===Oa)for(qc=1;qc<Fa;++qc){pa=0;jb=qc*Aa;for(nc=jb+Aa;jb<nc;++jb)pa<nb[jb]&&(pa=nb[jb]);for(jb=qc*Aa;jb<nc;++jb)nb[jb]=pa+zb[qc-1]}else if("all"===Oa){pa=0;for(jb=Aa;jb<Ra;++jb)pa<nb[jb]&&(pa=nb[jb]);for(jb=Aa;jb<Ra;++jb)nb[jb]=pa+Sb}else for(Oa=!1,qc=1;qc<Fa;++qc)for(jb=
qc*Aa,nc=jb+Aa;jb<nc;++jb)nb[jb]+=zb[qc-1];for(jb=qc=0;jb<Ra;++jb)qc=ab[jb]+(jb%Aa?qc:0),vc[jb]+=qc-ca[jb].x;for(nc=0;nc<Aa;++nc)for(ab=0,jb=nc;jb<Ra;jb+=Aa)ab+=nb[jb],lc[jb]+=ab-ca[jb].y;if(na&&P(fa.center,"column")&&1<Fa)for(jb=0;jb<Ra;++jb)zc="all"===na?Ma:lb[jb%Aa],qc=zc-kc[jb].x2-ca[jb].x-vc[jb],0<qc&&(vc[jb]+=qc/2);if(Oa&&P(fa.center,"row")&&1!==Aa)for(jb=0;jb<Ra;++jb)zc="all"===Oa?Sb:zb[~~(jb/Aa)],ab=zc-kc[jb].y2-ca[jb].y-lc[jb],0<ab&&(lc[jb]+=ab/2);for(jb=0;jb<Ra;++jb)Ga.union(kc[jb].translate(vc[jb],
lc[jb]));qc=P(fa.anchor,"x");ab=P(fa.anchor,"y");switch(P(fa.anchor,"column")){case "end":qc-=Ga.width();break;case "middle":qc-=Ga.width()/2}switch(P(fa.anchor,"row")){case "end":ab-=Ga.height();break;case "middle":ab-=Ga.height()/2}qc=Math.round(qc);ab=Math.round(ab);Ga.clear();for(jb=0;jb<Ra;++jb)ca[jb].mark.bounds.clear();for(jb=0;jb<Ra;++jb)nc=ca[jb],nc.x+=vc[jb]+=qc,nc.y+=lc[jb]+=ab,Ga.union(nc.mark.bounds.union(nc.bounds.translate(vc[jb],lc[jb]))),qa&&W.dirty(nc);return Ga}function z(W,ca){return"x1"===
ca?W.x||0:"y1"===ca?W.y||0:"x2"===ca?(W.x||0)+(W.width||0):"y2"===ca?(W.y||0)+(W.height||0):void 0}function J(W,ca){return W.bounds[ca]}function K(W,ca,fa,qa,pa,Ga,na,Oa,cb,Za,Aa,Fa,Ra,ab){var lb=fa.length,Ma=qa=0,nb,zb;if(!lb)return qa;for(nb=Aa;nb<lb;nb+=Fa)fa[nb]&&(qa=na(qa,cb(fa[nb],Za)));if(!ca.length)return qa;ca.length>pa&&(W.warn("Grid headers exceed limit: "+pa),ca=ca.slice(0,pa));qa+=Ga;pa=0;for(Ga=ca.length;pa<Ga;++pa)W.dirty(ca[pa]),ca[pa].mark.bounds.clear();nb=Aa;pa=0;for(Ga=ca.length;pa<
Ga;++pa,nb+=Fa){cb=ca[pa];Aa=cb.mark.bounds;for(lb=nb;0<=lb&&null==(zb=fa[lb]);lb-=Ra);if(Oa){lb=null==ab?zb.x:Math.round(zb.bounds.x1+ab*zb.bounds.width());var Sb=qa}else lb=qa,Sb=null==ab?zb.y:Math.round(zb.bounds.y1+ab*zb.bounds.height());Aa.union(cb.bounds.translate(lb-(cb.x||0),Sb-(cb.y||0)));cb.x=lb;cb.y=Sb;W.dirty(cb);Ma=na(Ma,Aa[Za])}return Ma}function R(W,ca,fa,qa,pa,Ga){if(ca){W.dirty(ca);var na=fa;qa?na=Math.round(pa.x1+Ga*pa.width()):fa=Math.round(pa.y1+Ga*pa.height());ca.bounds.translate(na-
(ca.x||0),fa-(ca.y||0));ca.mark.bounds.clear().union(ca.bounds);ca.x=na;ca.y=fa;W.dirty(ca)}}function U(W,ca){const fa=W[ca]||{};return(qa,pa)=>null!=fa[qa]?fa[qa]:null!=W[qa]?W[qa]:pa}function ka(W,ca){let fa=-Infinity;W.forEach(qa=>{null!=qa.offset&&(fa=Math.max(fa,qa.offset))});return-Infinity<fa?fa:ca}function ba(W,ca,fa,qa,pa,Ga,na){const Oa=U(fa,ca);fa=ka(W,Oa("offset",0));const cb=Oa("anchor","start"),Za="end"===cb?1:"middle"===cb?.5:0;W={align:"each",bounds:Oa("bounds","flush"),columns:"vertical"===
Oa("direction")?1:W.length,padding:Oa("margin",8),center:Oa("center"),nodirty:!0};switch(ca){case "left":W.anchor={x:Math.floor(qa.x1)-fa,column:"end",y:Za*(na||qa.height()+2*qa.y1),row:cb};break;case "right":W.anchor={x:Math.ceil(qa.x2)+fa,y:Za*(na||qa.height()+2*qa.y1),row:cb};break;case "top":W.anchor={y:Math.floor(pa.y1)-fa,row:"end",x:Za*(Ga||pa.width()+2*pa.x1),column:cb};break;case "bottom":W.anchor={y:Math.ceil(pa.y2)+fa,x:Za*(Ga||pa.width()+2*pa.x1),column:cb};break;case "top-left":W.anchor=
{x:fa,y:fa};break;case "top-right":W.anchor={x:Ga-fa,y:fa,column:"end"};break;case "bottom-left":W.anchor={x:fa,y:na-fa,row:"end"};break;case "bottom-right":W.anchor={x:Ga-fa,y:na-fa,column:"end",row:"end"}}return W}function da(W,ca){ca=ca.items[0];var fa=ca.datum,qa=ca.orient,pa=ca.bounds,Ga=ca.x,na=ca.y;ca._bounds?ca._bounds.clear().union(pa):ca._bounds=pa.clone();pa.clear();var Oa=ca.items[0].items[0];var cb=ca.padding,Za=cb-Oa.x,Aa=cb-Oa.y;if(ca.datum.title){var Fa=ca.items[1].items[0],Ra=Fa.anchor,
ab=ca.titlePadding||0,lb=cb-Fa.x,Ma=cb-Fa.y;switch(Fa.orient){case "left":Za+=Math.ceil(Fa.bounds.width())+ab;break;case "right":case "bottom":break;default:Aa+=Fa.bounds.height()+ab}(Za||Aa)&&Q(W,Oa,Za,Aa);switch(Fa.orient){case "left":Ma+=Z(ca,Oa,Fa,Ra,1,1);break;case "right":lb+=Z(ca,Oa,Fa,"end",0,0)+ab;Ma+=Z(ca,Oa,Fa,Ra,1,1);break;case "bottom":lb+=Z(ca,Oa,Fa,Ra,0,0);Ma+=Z(ca,Oa,Fa,"end",-1,0,1)+ab;break;default:lb+=Z(ca,Oa,Fa,Ra,0,0)}(lb||Ma)&&Q(W,Fa,lb,Ma);0>(lb=Math.round(Fa.bounds.x1-cb))&&
(Q(W,Oa,-lb,0),Q(W,Fa,-lb,0))}else(Za||Aa)&&Q(W,Oa,Za,Aa);pa=ja(ca,pa);W=2*ca.padding;Oa=2*ca.padding;pa.empty()||(W=Math.ceil(pa.width()+W),Oa=Math.ceil(pa.height()+Oa));"symbol"===fa.type&&r(ca.items[0].items[0].items[0].items);"none"!==qa&&(ca.x=Ga=0,ca.y=na=0);ca.width=W;ca.height=Oa;n.boundStroke(pa.set(Ga,na,Ga+W,na+Oa),ca);ca.mark.bounds.clear().union(pa);return ca}function ja(W,ca){W.items.forEach(fa=>ca.union(fa.bounds));ca.x1=W.padding;ca.y1=W.padding;return ca}function Z(W,ca,fa,qa,pa,
Ga,na){const Oa=fa.datum.vgrad;W=("symbol"===W.datum.type||!Ga&&Oa||na?ca:ca.items[0]).bounds[pa?"y2":"x2"]-W.padding;ca=Oa&&Ga?W:0;Ga=Oa&&Ga?0:W;fa=0>=pa?0:n.multiLineOffset(fa);return Math.round("start"===qa?ca:"end"===qa?Ga-fa:.5*(W-fa))}function Q(W,ca,fa,qa){ca.x+=fa;ca.y+=qa;ca.bounds.translate(fa,qa);ca.mark.bounds.translate(fa,qa);W.dirty(ca)}function r(W){const ca=W.reduce((fa,qa)=>{fa[qa.column]=Math.max(qa.bounds.x2-qa.x,fa[qa.column]||0);return fa},{});W.forEach(fa=>{fa.width=ca[fa.column];
fa.height=fa.bounds.y2-fa.y})}function N(W,ca,fa,qa,pa){var Ga=ca.items[0],na=Ga.orient,Oa=Ga.anchor,cb=Ga.offset,Za=Ga.padding,Aa=Ga.items[0].items[0],Fa=Ga.items[1]&&Ga.items[1].items[0],Ra="left"===na||"right"===na?qa:fa,ab=0,lb=fa=0;"group"!==Ga.frame?"left"===na?(ab=pa.y2,Ra=pa.y1):"right"===na?(ab=pa.y1,Ra=pa.y2):(ab=pa.x1,Ra=pa.x2):"left"===na&&(ab=qa,Ra=0);qa="start"===Oa?ab:"end"===Oa?Ra:(ab+Ra)/2;if(Fa&&Fa.text){switch(na){case "top":case "bottom":lb=Aa.bounds.height()+Za;break;case "left":fa=
Aa.bounds.width()+Za;break;case "right":fa=-Aa.bounds.width()-Za}Ea.clear().union(Fa.bounds);Ea.translate(fa-(Fa.x||0),lb-(Fa.y||0));a(Fa,"x",fa)|a(Fa,"y",lb)&&(W.dirty(Fa),Fa.bounds.clear().union(Ea),Fa.mark.bounds.clear().union(Ea),W.dirty(Fa));Ea.clear().union(Fa.bounds)}else Ea.clear();Ea.union(Aa.bounds);switch(na){case "top":na=qa;pa=pa.y1-Ea.height()-cb;break;case "left":na=pa.x1-Ea.width()-cb;pa=qa;break;case "right":na=pa.x2+Ea.width()+cb;pa=qa;break;case "bottom":na=qa;pa=pa.y2+cb;break;
default:na=Ga.x,pa=Ga.y}a(Ga,"x",na)|a(Ga,"y",pa)&&(Ea.translate(na,pa),W.dirty(Ga),Ga.bounds.clear().union(Ea),ca.bounds.clear().union(Ea),W.dirty(Ga));return Ga.bounds}function ea(W){m.Transform.call(this,null,W)}function aa(W){return W&&"legend-entry"!==W.mark.role}function va(W,ca,fa){var qa=ca.items,pa=Math.max(0,ca.width||0),Ga=Math.max(0,ca.height||0),na=(new n.Bounds).set(0,0,pa,Ga),Oa=na.clone(),cb=na.clone(),Za=[],Aa,Fa;var Ra=0;for(Fa=qa.length;Ra<Fa;++Ra){var ab=qa[Ra];switch(ab.role){case "axis":var lb=
f(ab)?Oa:cb;lb.union(p(W,ab,pa,Ga));break;case "title":var Ma=ab;break;case "legend":Za.push(da(W,ab));break;case "frame":case "scope":case "row-header":case "row-footer":case "row-title":case "column-header":case "column-footer":case "column-title":Oa.union(ab.bounds);cb.union(ab.bounds);break;default:na.union(ab.bounds)}}if(Za.length){const nb={};Za.forEach(zb=>{Aa=zb.orient||"right";"none"!==Aa&&(nb[Aa]||(nb[Aa]=[])).push(zb)});for(const zb in nb)qa=nb[zb],G(W,qa,ba(qa,zb,fa.legends,Oa,cb,pa,Ga));
Za.forEach(zb=>{const Sb=zb.bounds;Sb.equals(zb._bounds)||(zb.bounds=zb._bounds,W.dirty(zb),zb.bounds=Sb,W.dirty(zb));if(fa.autosize&&"fit"===fa.autosize.type)switch(zb.orient){case "left":case "right":na.add(Sb.x1,0).add(Sb.x2,0);break;case "top":case "bottom":na.add(0,Sb.y1).add(0,Sb.y2)}else na.union(Sb)})}na.union(Oa).union(cb);Ma&&na.union(N(W,Ma,pa,Ga,na));ca.clip&&na.set(0,0,ca.width||0,ca.height||0);ta(W,ca,na,fa)}function ta(W,ca,fa,qa){qa=qa.autosize||{};const pa=qa.type;if(!(1>W._autosize)&&
pa){var Ga=W._width,na=W._height,Oa=Math.max(0,ca.width||0),cb=Math.max(0,Math.ceil(-fa.x1));ca=Math.max(0,ca.height||0);var Za=Math.max(0,Math.ceil(-fa.y1)),Aa=Math.max(0,Math.ceil(fa.x2-Oa));fa=Math.max(0,Math.ceil(fa.y2-ca));if("padding"===qa.contains){const Fa=W.padding();Ga-=Fa.left+Fa.right;na-=Fa.top+Fa.bottom}"none"===pa?(Za=cb=0,Oa=Ga,ca=na):"fit"===pa?(Oa=Math.max(0,Ga-cb-Aa),ca=Math.max(0,na-Za-fa)):"fit-x"===pa?(Oa=Math.max(0,Ga-cb-Aa),na=ca+Za+fa):"fit-y"===pa?(Ga=Oa+cb+Aa,ca=Math.max(0,
na-Za-fa)):"pad"===pa&&(Ga=Oa+cb+Aa,na=ca+Za+fa);W._resizeView(Ga,na,Oa,ca,[cb,Za],qa.resize)}}F.inherits(O,m.Transform,{transform(W,ca){const fa=ca.dataflow,qa=W.mark,pa=qa.marktype,Ga=n.Marks[pa],na=Ga.bound;let Oa=qa.bounds,cb;if(Ga.nested)qa.items.length&&fa.dirty(qa.items[0]),Oa=x(qa,na),qa.items.forEach(Za=>{Za.bounds.clear().union(Oa)});else if("group"===pa||W.modified())switch(ca.visit(ca.MOD,Za=>fa.dirty(Za)),Oa.clear(),qa.items.forEach(Za=>Oa.union(x(Za,na))),qa.role){case "axis":case "legend":case "title":ca.reflow()}else cb=
ca.changed(ca.REM),ca.visit(ca.ADD,Za=>{Oa.union(x(Za,na))}),ca.visit(ca.MOD,Za=>{cb=cb||Oa.alignsWith(Za.bounds);fa.dirty(Za);Oa.union(x(Za,na))}),cb&&(Oa.clear(),qa.items.forEach(Za=>Oa.union(Za.bounds)));n.boundClip(qa);return ca.modifies("bounds")}});y.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};F.inherits(y,m.Transform,{transform(W,ca){const fa=q(ca.dataflow),qa=W.as;let pa=fa.value;ca.visit(ca.ADD,Ga=>Ga[qa]=Ga[qa]||++pa);fa.set(this.value=
pa);return ca}});F.inherits(l,m.Transform,{transform(W,ca){let fa=this.value;fa||(fa=ca.dataflow.scenegraph().mark(W.markdef,h(W),W.index),fa.group.context=W.context,W.context.group||(W.context.group=fa.group),fa.source=this.source,fa.clip=W.clip,fa.interactive=W.interactive,this.value=fa);const qa="group"===fa.marktype?n.GroupItem:n.Item;ca.visit(ca.ADD,pa=>qa.call(pa,fa));if(W.modified("clip")||W.modified("interactive"))fa.clip=W.clip,fa.interactive=!!W.interactive,fa.zdirty=!0,ca.reflow();fa.items=
ca.source;return ca}});const Da={parity:W=>W.filter((ca,fa)=>fa%2?ca.opacity=0:1),greedy:(W,ca)=>{let fa;return W.filter((qa,pa)=>pa&&$a(fa.bounds,qa.bounds,ca)?qa.opacity=0:(fa=qa,1))}},$a=(W,ca,fa)=>fa>Math.max(ca.x1-W.x2,W.x1-ca.x2,ca.y1-W.y2,W.y1-ca.y2),kb=(W,ca)=>{for(var fa=1,qa=W.length,pa=W[0].bounds;fa<qa;++fa)if($a(pa,pa=W[fa].bounds,ca))return!0},sa=W=>{W=W.bounds;return 1<W.width()&&1<W.height()},Ta=(W,ca,fa)=>{W=W.range();var qa=new n.Bounds;"top"===ca||"bottom"===ca?qa.set(W[0],-Infinity,
W[1],Infinity):qa.set(-Infinity,W[0],Infinity,W[1]);qa.expand(fa||1);return pa=>qa.encloses(pa.bounds)},Wa=W=>{W.forEach(ca=>ca.opacity=1);return W};F.inherits(c,m.Transform,{transform(W,ca){const fa=Da[W.method]||Da.parity,qa=W.separation||0;let pa=ca.materialize(ca.SOURCE).source,Ga,na;if(pa&&pa.length){if(!W.method)return W.modified("method")&&(Wa(pa),ca=ca.reflow(W.modified()).modifies("opacity")),ca;pa=pa.filter(sa);if(pa.length){W.sort&&(pa=pa.slice().sort(W.sort));Ga=Wa(pa);ca=ca.reflow(W.modified()).modifies("opacity");
if(3<=Ga.length&&kb(Ga,qa)){do Ga=fa(Ga,qa);while(3<=Ga.length&&kb(Ga,qa));3>Ga.length&&!F.peek(pa).opacity&&(1<Ga.length&&(F.peek(Ga).opacity=0),F.peek(pa).opacity=1)}W.boundScale&&0<=W.boundTolerance&&(na=Ta(W.boundScale,W.boundOrient,+W.boundTolerance),pa.forEach(cb=>{na(cb)||(cb.opacity=0)}));var Oa=Ga[0].mark.bounds.clear();pa.forEach(cb=>{cb.opacity&&Oa.union(cb.bounds)});return ca}}}});F.inherits(e,m.Transform,{transform(W,ca){const fa=ca.dataflow;ca.visit(ca.ALL,qa=>fa.dirty(qa));ca.fields&&
ca.fields.zindex&&(W=ca.source&&ca.source[0])&&(W.mark.zdirty=!0)}});const Ea=new n.Bounds,ua=(W,ca)=>Math.floor(Math.min(W,ca)),V=(W,ca)=>Math.ceil(Math.max(W,ca));F.inherits(ea,m.Transform,{transform(W,ca){const fa=ca.dataflow;W.mark.items.forEach(qa=>{if(W.layout){var pa=W.layout;var Ga=qa.items;for(var na=Ga.length,Oa=0,cb,Za,Aa={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};Oa<na;++Oa)if(cb=Ga[Oa],Za=cb.items,"group"===cb.marktype)switch(cb.role){case "axis":case "legend":case "title":break;
case "row-header":Aa.rowheaders.push(...Za);break;case "row-footer":Aa.rowfooters.push(...Za);break;case "column-header":Aa.colheaders.push(...Za);break;case "column-footer":Aa.colfooters.push(...Za);break;case "row-title":Aa.rowtitle=Za[0];break;case "column-title":Aa.coltitle=Za[0];break;default:Aa.marks.push(...Za)}Ga=Aa;Za=Ga.marks;Aa="flush"===pa.bounds?z:J;na=pa.offset;var Fa=pa.columns||Za.length,Ra=0>=Fa?1:Math.ceil(Za.length/Fa),ab=Ra*Fa;Oa=G(fa,Za,pa);Oa.empty()&&Oa.set(0,0,0,0);if(Ga.rowheaders){cb=
P(pa.headerBand,"row",null);var lb=K(fa,Ga.rowheaders,Za,Fa,Ra,-P(na,"rowHeader"),ua,0,Aa,"x1",0,Fa,1,cb)}if(Ga.colheaders){cb=P(pa.headerBand,"column",null);var Ma=K(fa,Ga.colheaders,Za,Fa,Fa,-P(na,"columnHeader"),ua,1,Aa,"y1",0,1,Fa,cb)}if(Ga.rowfooters){cb=P(pa.footerBand,"row",null);var nb=K(fa,Ga.rowfooters,Za,Fa,Ra,P(na,"rowFooter"),V,0,Aa,"x2",Fa-1,Fa,1,cb)}if(Ga.colfooters){cb=P(pa.footerBand,"column",null);var zb=K(fa,Ga.colfooters,Za,Fa,Fa,P(na,"columnFooter"),V,1,Aa,"y2",ab-Fa,1,Fa,cb)}Ga.rowtitle&&
(cb=P(pa.titleAnchor,"row"),Za=P(na,"rowTitle"),Za="end"===cb?nb+Za:lb-Za,cb=P(pa.titleBand,"row",.5),R(fa,Ga.rowtitle,Za,0,Oa,cb));Ga.coltitle&&(cb=P(pa.titleAnchor,"column"),Za=P(na,"columnTitle"),Za="end"===cb?zb+Za:Ma-Za,cb=P(pa.titleBand,"column",.5),R(fa,Ga.coltitle,Za,1,Oa,cb))}va(fa,qa,W)});return aa(W.mark.group)?ca.reflow():ca}});g.bound=O;g.identifier=y;g.mark=l;g.overlap=c;g.render=e;g.viewlayout=ea;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[38]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E,B(26),B(35),B(14),B(15),B(33)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-scale vega-util d3-array d3-interpolate".split(" "),m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.vega={},g.vega,g.vega,g.vega,g.d3,g.d3))})(this,function(g,m,n,F,O,x){function y(aa){m.Transform.call(this,null,aa)}function q(aa){m.Transform.call(this,null,aa)}function l(){return m.ingest({})}
function h(aa){const va=F.fastmap().test(ta=>ta.exit);va.lookup=ta=>va.get(aa(ta));return va}function c(aa){m.Transform.call(this,null,aa)}function e(aa){m.Transform.call(this,[],aa)}function a(aa){m.Transform.call(this,{},aa)}function f(aa){m.Transform.call(this,null,aa)}function p(aa){return n.isContinuous(aa)&&aa!==n.Sequential}function A(aa){m.Transform.call(this,null,aa);this.modified(!0)}function C(aa,va,ta){n.isLogarithmic(aa)&&Math.abs(va.reduce((Da,$a)=>Da+(0>$a?-1:0<$a?1:0),0))!==va.length&&
ta.warn("Log scale domain includes zero: "+F.stringValue(va));return va}function D(aa,va,ta){return F.isFunction(aa)&&(va||ta)?n.interpolateRange(aa,P(va||[0,1],ta)):aa}function P(aa,va){return va?aa.slice().reverse():aa}function L(aa){m.Transform.call(this,null,aa)}function G(aa){m.Transform.call(this,null,aa)}function z(aa,va,ta,Da,$a){va=(va-aa.sum)/2;for(var kb=aa.length,sa=0,Ta;sa<kb;++sa)Ta=aa[sa],Ta[Da]=va,Ta[$a]=va+=Math.abs(ta(Ta))}function J(aa,va,ta,Da,$a){va=1/aa.sum;for(var kb=0,sa=aa.length,
Ta=0,Wa=0,Ea;Ta<sa;++Ta)Ea=aa[Ta],Ea[Da]=kb,Ea[$a]=kb=va*(Wa+=Math.abs(ta(Ea)))}function K(aa,va,ta,Da,$a){for(var kb=va=0,sa=aa.length,Ta=0,Wa,Ea;Ta<sa;++Ta)Ea=aa[Ta],Wa=+ta(Ea),0>Wa?(Ea[Da]=kb,Ea[$a]=kb+=Wa):(Ea[Da]=va,Ea[$a]=va+=Wa)}function R(aa,va,ta,Da){var $a=[],kb=W=>W(Ea),sa;if(null==va)$a.push(aa.slice());else{var Ta={};var Wa=0;for(sa=aa.length;Wa<sa;++Wa){var Ea=aa[Wa];var ua=va.map(kb);var V=Ta[ua];V||(Ta[ua]=V=[],$a.push(V));V.push(Ea)}}kb=ua=0;for(aa=$a.length;ua<aa;++ua){V=$a[ua];
va=Wa=0;for(sa=V.length;Wa<sa;++Wa)va+=Math.abs(Da(V[Wa]));V.sum=va;va>kb&&(kb=va);ta&&V.sort(ta)}$a.max=kb;return $a}F.inherits(y,m.Transform,{transform(aa,va){if(this.value&&!aa.modified())return va.StopPropagation;var ta=va.dataflow.locale();va=va.fork(va.NO_SOURCE|va.NO_FIELDS);var Da=this.value,$a=aa.scale,kb=n.tickCount($a,null==aa.count?aa.values?aa.values.length:10:aa.count,aa.minstep),sa=aa.format||n.tickFormat(ta,$a,kb,aa.formatSpecifier,aa.formatType,!!aa.values),Ta=aa.values?n.validTicks($a,
aa.values,kb):n.tickValues($a,kb);Da&&(va.rem=Da);Da=Ta.map((Wa,Ea)=>m.ingest({index:Ea/(Ta.length-1||1),value:Wa,label:sa(Wa)}));aa.extra&&Da.length&&Da.push(m.ingest({index:-1,extra:{value:Da[0].value},label:""}));va.source=Da;this.value=va.add=Da;return va}});F.inherits(q,m.Transform,{transform(aa,va){var ta=va.dataflow,Da=va.fork(va.NO_SOURCE|va.NO_FIELDS),$a=aa.item||l,kb=aa.key||m.tupleid,sa=this.value;F.isArray(Da.encode)&&(Da.encode=null);sa&&(aa.modified("key")||va.modified(kb))&&F.error("DataJoin does not support modified key function or fields.");
sa||(va=va.addAll(),this.value=sa=h(kb));va.visit(va.ADD,Ta=>{const Wa=kb(Ta);let Ea=sa.get(Wa);Ea?Ea.exit?(sa.empty--,Da.add.push(Ea)):Da.mod.push(Ea):(Ea=$a(Ta),sa.set(Wa,Ea),Da.add.push(Ea));Ea.datum=Ta;Ea.exit=!1});va.visit(va.MOD,Ta=>{var Wa=kb(Ta);if(Wa=sa.get(Wa))Wa.datum=Ta,Da.mod.push(Wa)});va.visit(va.REM,Ta=>{var Wa=kb(Ta);Wa=sa.get(Wa);Ta!==Wa.datum||Wa.exit||(Da.rem.push(Wa),Wa.exit=!0,++sa.empty)});va.changed(va.ADD_MOD)&&Da.modifies("datum");(va.clean()||aa.clean&&sa.empty>ta.cleanThreshold)&&
ta.runAfter(sa.clean);return Da}});F.inherits(c,m.Transform,{transform(aa,va){var ta=va.fork(va.ADD_REM),Da=aa.mod||!1,$a=aa.encoders,kb=va.encode;if(F.isArray(kb))if(ta.changed()||kb.every(V=>$a[V]))kb=kb[0],ta.encode=null;else return va.StopPropagation;var sa="enter"===kb,Ta=$a.update||F.falsy,Wa=$a.enter||F.falsy,Ea=$a.exit||F.falsy,ua=(kb&&!sa?$a[kb]:Ta)||F.falsy;va.changed(va.ADD)&&(va.visit(va.ADD,V=>{Wa(V,aa);Ta(V,aa)}),ta.modifies(Wa.output),ta.modifies(Ta.output),ua!==F.falsy&&ua!==Ta&&(va.visit(va.ADD,
V=>{ua(V,aa)}),ta.modifies(ua.output)));va.changed(va.REM)&&Ea!==F.falsy&&(va.visit(va.REM,V=>{Ea(V,aa)}),ta.modifies(Ea.output));if(sa||ua!==F.falsy)kb=va.MOD|(aa.modified()?va.REFLOW:0),sa?(va.visit(kb,V=>{const W=Wa(V,aa)||Da;(ua(V,aa)||W)&&ta.mod.push(V)}),ta.mod.length&&ta.modifies(Wa.output)):va.visit(kb,V=>{(ua(V,aa)||Da)&&ta.mod.push(V)}),ta.mod.length&&ta.modifies(ua.output);return ta.changed()?ta:va.StopPropagation}});F.inherits(e,m.Transform,{transform(aa,va){if(null!=this.value&&!aa.modified())return va.StopPropagation;
var ta=va.dataflow.locale(),Da=va.fork(va.NO_SOURCE|va.NO_FIELDS),$a=this.value,kb=aa.type||n.SymbolLegend,sa=aa.scale,Ta=+aa.limit,Wa=n.tickCount(sa,null==aa.count?5:aa.count,aa.minstep),Ea=!!aa.values||kb===n.SymbolLegend,ua=aa.format||n.labelFormat(ta,sa,Wa,kb,aa.formatSpecifier,aa.formatType,Ea),V=aa.values||n.labelValues(sa,Wa),W;$a&&(Da.rem=$a);if(kb===n.SymbolLegend){if(Ta&&V.length>Ta){va.dataflow.warn("Symbol legend count exceeds limit, filtering items.");$a=V.slice(0,Ta-1);var ca=!0}else $a=
V;if(F.isFunction(W=aa.size)){aa.values||0!==sa($a[0])||($a=$a.slice(1));var fa=$a.reduce((pa,Ga)=>Math.max(pa,W(Ga,aa)),0)}else W=F.constant(fa=W||8);$a=$a.map((pa,Ga)=>m.ingest({index:Ga,label:ua(pa,Ga,$a),value:pa,offset:fa,size:W(pa,aa)}));ca&&(ca=V[$a.length],$a.push(m.ingest({index:$a.length,label:`\u2026${V.length-$a.length} entries`,value:ca,offset:fa,size:W(ca,aa)})))}else if(kb===n.GradientLegend){va=sa.domain();var qa=n.scaleFraction(sa,va[0],F.peek(va));3>V.length&&!aa.values&&va[0]!==
F.peek(va)&&(V=[va[0],F.peek(va)]);$a=V.map((pa,Ga)=>m.ingest({index:Ga,label:ua(pa,Ga,V),value:pa,perc:qa(pa)}))}else W=V.length-1,qa=n.labelFraction(sa),$a=V.map((pa,Ga)=>m.ingest({index:Ga,label:ua(pa,Ga,V),value:pa,perc:Ga?qa(pa):0,perc2:Ga===W?1:qa(V[Ga+1])}));Da.source=$a;this.value=Da.add=$a;return Da}});const U=aa=>aa.source.x,ka=aa=>aa.source.y,ba=aa=>aa.target.x,da=aa=>aa.target.y;a.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field","default":"source.x"},
{name:"sourceY",type:"field","default":"source.y"},{name:"targetX",type:"field","default":"target.x"},{name:"targetY",type:"field","default":"target.y"},{name:"orient",type:"enum","default":"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum","default":"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string","default":"path"}]};F.inherits(a,m.Transform,{transform(aa,va){var ta=aa.sourceX||U,Da=aa.sourceY||ka,$a=
aa.targetX||ba,kb=aa.targetY||da,sa=aa.as||"path",Ta=aa.shape||"line",Wa=r.get(Ta+"-"+(aa.orient||"vertical"))||r.get(Ta);Wa||F.error("LinkPath unsupported type: "+aa.shape+(aa.orient?"-"+aa.orient:""));va.visit(va.SOURCE,Ea=>{Ea[sa]=Wa(ta(Ea),Da(Ea),$a(Ea),kb(Ea))});return va.reflow(aa.modified()).modifies(sa)}});const ja=(aa,va,ta,Da)=>"M"+aa+","+va+"L"+ta+","+Da,Z=(aa,va,ta,Da)=>{var $a=ta-aa,kb=Da-va,sa=Math.sqrt($a*$a+kb*kb)/2;return"M"+aa+","+va+"A"+sa+","+sa+" "+180*Math.atan2(kb,$a)/Math.PI+
" 0 1 "+ta+","+Da},Q=(aa,va,ta,Da)=>{var $a=ta-aa;const kb=Da-va,sa=.2*($a+kb);$a=.2*(kb-$a);return"M"+aa+","+va+"C"+(aa+sa)+","+(va+$a)+" "+(ta+$a)+","+(Da-sa)+" "+ta+","+Da},r=F.fastmap({line:ja,"line-radial":(aa,va,ta,Da)=>ja(va*Math.cos(aa),va*Math.sin(aa),Da*Math.cos(ta),Da*Math.sin(ta)),arc:Z,"arc-radial":(aa,va,ta,Da)=>Z(va*Math.cos(aa),va*Math.sin(aa),Da*Math.cos(ta),Da*Math.sin(ta)),curve:Q,"curve-radial":(aa,va,ta,Da)=>Q(va*Math.cos(aa),va*Math.sin(aa),Da*Math.cos(ta),Da*Math.sin(ta)),"orthogonal-horizontal":(aa,
va,ta,Da)=>"M"+aa+","+va+"V"+Da+"H"+ta,"orthogonal-vertical":(aa,va,ta,Da)=>"M"+aa+","+va+"H"+ta+"V"+Da,"orthogonal-radial":(aa,va,ta,Da)=>{const $a=Math.cos(ta),kb=Math.sin(ta);return"M"+va*Math.cos(aa)+","+va*Math.sin(aa)+"A"+va+","+va+" 0 0,"+((Math.abs(ta-aa)>Math.PI?ta<=aa:ta>aa)?1:0)+" "+va*$a+","+va*kb+"L"+Da*$a+","+Da*kb},"diagonal-horizontal":(aa,va,ta,Da)=>{const $a=(aa+ta)/2;return"M"+aa+","+va+"C"+$a+","+va+" "+$a+","+Da+" "+ta+","+Da},"diagonal-vertical":(aa,va,ta,Da)=>{const $a=(va+
Da)/2;return"M"+aa+","+va+"C"+aa+","+$a+" "+ta+","+$a+" "+ta+","+Da},"diagonal-radial":(aa,va,ta,Da)=>{const $a=Math.cos(aa);aa=Math.sin(aa);const kb=Math.cos(ta);ta=Math.sin(ta);const sa=(va+Da)/2;return"M"+va*$a+","+va*aa+"C"+sa*$a+","+sa*aa+" "+sa*kb+","+sa*ta+" "+Da*kb+","+Da*ta}});f.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number","default":0},{name:"endAngle",type:"number","default":6.283185307179586},{name:"sort",type:"boolean",
"default":!1},{name:"as",type:"string",array:!0,length:2,"default":["startAngle","endAngle"]}]};F.inherits(f,m.Transform,{transform(aa,va){var ta=aa.as||["startAngle","endAngle"],Da=ta[0],$a=ta[1],kb=aa.startAngle||0,sa=null!=aa.endAngle?aa.endAngle:2*Math.PI,Ta=va.source,Wa=Ta.map(aa.field||F.one),Ea=Wa.length,ua=kb;kb=(sa-kb)/O.sum(Wa);sa=O.range(Ea);var V;aa.sort&&sa.sort((fa,qa)=>Wa[fa]-Wa[qa]);for(V=0;V<Ea;++V){var W=Wa[sa[V]];var ca=Ta[sa[V]];ca[Da]=ua;ca[$a]=ua+=W*kb}this.value=Wa;return va.reflow(aa.modified()).modifies(ta)}});
const N=F.toSet("set modified clear type scheme schemeExtent schemeCount domain domainMin domainMid domainMax domainRaw domainImplicit nice zero bins range rangeStep round reverse interpolate interpolateGamma".split(" "));F.inherits(A,m.Transform,{transform(aa,va){var ta=va.dataflow,Da=this.value;var $a=aa.type;var kb="";if($a===n.Sequential)$a=n.Sequential+"-"+n.Linear;else{var sa=aa.type;if(sa=n.isContinuous(sa)&&sa!==n.Time&&sa!==n.UTC&&(aa.scheme||aa.range&&aa.range.length&&aa.range.every(F.isString)))kb=
aa.rawDomain?aa.rawDomain.length:aa.domain?aa.domain.length+ +(null!=aa.domainMid):0,kb=2===kb?n.Sequential+"-":3===kb?n.Diverging+"-":"";$a=(kb+$a||n.Linear).toLowerCase()}Da&&$a===Da.type||(this.value=Da=n.scale($a)());for($a in aa)N[$a]||"padding"===$a&&p(Da.type)||(F.isFunction(Da[$a])?Da[$a](aa[$a]):ta.warn("Unsupported scale property: "+$a));kb=$a=Da;(sa=aa.domainRaw)?(Da.domain(C(Da.type,sa,ta)),sa=sa.length):sa=-1;if(-1<sa)ta=sa;else{var Ta=aa.domain;sa=Da.type;var Wa;!(Wa=aa.zero)&&(Wa=void 0===
aa.zero)&&(Wa=Da.type,Wa=!Da.bins&&(Wa===n.Linear||Wa===n.Pow||Wa===n.Sqrt));if(Ta){if(p(sa)&&aa.padding&&Ta[0]!==F.peek(Ta)){var Ea=aa.range,ua=aa.padding;var V=aa.exponent;var W=aa.constant;Ea=Math.abs(F.peek(Ea)-Ea[0]);ua=Ea/(Ea-2*ua);V=sa===n.Log?F.zoomLog(Ta,null,ua):sa===n.Sqrt?F.zoomPow(Ta,null,ua,.5):sa===n.Pow?F.zoomPow(Ta,null,ua,V||1):sa===n.Symlog?F.zoomSymlog(Ta,null,ua,W||1):F.zoomLinear(Ta,null,ua);Ta=Ta.slice();Ta[0]=V[0];Ta[Ta.length-1]=V[1]}if(Wa||null!=aa.domainMin||null!=aa.domainMax||
null!=aa.domainMid)V=(Ta=Ta.slice()).length-1||1,Wa&&(0<Ta[0]&&(Ta[0]=0),0>Ta[V]&&(Ta[V]=0)),null!=aa.domainMin&&(Ta[0]=aa.domainMin),null!=aa.domainMax&&(Ta[V]=aa.domainMax),null!=aa.domainMid&&(Wa=aa.domainMid,W=Wa>Ta[V]?V+1:Wa<Ta[0]?0:V,W!==V&&ta.warn("Scale domainMid exceeds domain min or max.",Wa),Ta.splice(W,0,Wa));Da.domain(C(sa,Ta,ta));sa===n.Ordinal&&Da.unknown(aa.domainImplicit?n.scaleImplicit:void 0);aa.nice&&Da.nice&&Da.nice(!0!==aa.nice&&n.tickCount(Da,aa.nice)||null);ta=Ta.length}else ta=
0}(sa=aa.bins)&&!F.isArray(sa)&&(Wa=kb.domain(),Da=Wa[0],Wa=F.peek(Wa),Ta=sa.step,V=null==sa.start?Da:sa.start,sa=null==sa.stop?Wa:sa.stop,Ta||F.error("Scale bins parameter missing step property."),V<Da&&(V=Ta*Math.ceil(Da/Ta)),sa>Wa&&(sa=Ta*Math.floor(Wa/Ta)),sa=O.range(V,sa+Ta/2,Ta));sa?kb.bins=sa:kb.bins&&delete kb.bins;kb.type===n.BinOrdinal&&(sa?aa.domain||aa.domainRaw||(kb.domain(sa),ta=sa.length):kb.bins=kb.domain());Da=ta;a:{kb=$a.type;ta=aa.round||!1;sa=aa.range;if(null!=aa.rangeStep)kb!==
n.Band&&kb!==n.Point&&F.error("Only band and point scales support rangeStep."),sa=[0,aa.rangeStep*n.bandSpace(Da,kb===n.Point?1:(null!=aa.paddingInner?aa.paddingInner:aa.padding)||0,(null!=aa.paddingOuter?aa.paddingOuter:aa.padding)||0)];else if(aa.scheme&&(sa=aa.schemeExtent,F.isArray(aa.scheme)?Wa=n.interpolateColors(aa.scheme,aa.interpolate,aa.interpolateGamma):(Wa=aa.scheme.toLowerCase(),(Wa=n.scheme(Wa))||F.error(`Unrecognized scheme name: ${aa.scheme}`)),Da=kb===n.Threshold?Da+1:kb===n.BinOrdinal?
Da-1:kb===n.Quantile||kb===n.Quantize?+aa.schemeCount||5:Da,sa=n.isInterpolating(kb)?D(Wa,sa,aa.reverse):F.isFunction(Wa)?n.quantizeInterpolator(D(Wa,sa),Da):kb===n.Ordinal?Wa:Wa.slice(0,Da),F.isFunction(sa)))if($a.interpolator){$a.interpolator(sa);break a}else F.error(`Scale type ${kb} does not support interpolating color schemes.`);sa&&n.isInterpolating(kb)?$a.interpolator(n.interpolateColors(P(sa,aa.reverse),aa.interpolate,aa.interpolateGamma)):(sa&&aa.interpolate&&$a.interpolate?$a.interpolate(n.interpolate(aa.interpolate,
aa.interpolateGamma)):F.isFunction($a.round)?$a.round(ta):F.isFunction($a.rangeRound)&&$a.interpolate(ta?x.interpolateRound:x.interpolate),sa&&$a.range(P(sa,aa.reverse)))}return va.fork(va.NO_SOURCE|va.NO_FIELDS)}});F.inherits(L,m.Transform,{transform(aa,va){const ta=aa.modified("sort")||va.changed(va.ADD)||va.modified(aa.sort.fields)||va.modified("datum");ta&&va.source.sort(m.stableCompare(aa.sort));this.modified(ta);return va}});const ea=["y0","y1"];G.Definition={type:"Stack",metadata:{modifies:!0},
params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum","default":"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,"default":ea}]};F.inherits(G,m.Transform,{transform(aa,va){var ta=aa.as||ea,Da=ta[0],$a=ta[1],kb=m.stableCompare(aa.sort),sa=aa.field||F.one,Ta="center"===aa.offset?z:"normalize"===aa.offset?J:K,Wa;kb=R(va.source,aa.groupby,kb,sa);var Ea=0;var ua=kb.length;for(Wa=kb.max;Ea<
ua;++Ea)Ta(kb[Ea],Wa,sa,Da,$a);return va.reflow(aa.modified()).modifies(ta)}});g.axisticks=y;g.datajoin=q;g.encode=c;g.legendentries=e;g.linkpath=a;g.pie=f;g.scale=A;g.sortitems=L;g.stack=G;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[39]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E,B(15)):"function"===typeof define&&define.amd?define(["exports","d3-array"],m):(g=g||self,m(g.d3=g.d3||{},g.d3))})(this,function(g,m){function n(Va){return 1<Va?0:-1>Va?le:Math.acos(Va)}function F(Va){return 1<Va?ye:-1>Va?-ye:Math.asin(Va)}function O(Va){return(Va=hc(Va/2))*Va}function x(){}function y(Va,pb){if(Va&&If.hasOwnProperty(Va.type))If[Va.type](Va,pb)}function q(Va,pb,Cb){var Ob=-1;Cb=Va.length-
Cb;for(pb.lineStart();++Ob<Cb;){var bc=Va[Ob];pb.point(bc[0],bc[1],bc[2])}pb.lineEnd()}function l(Va,pb){var Cb=-1,Ob=Va.length;for(pb.polygonStart();++Cb<Ob;)q(Va[Cb],pb,1);pb.polygonEnd()}function h(Va,pb){if(Va&&Hf.hasOwnProperty(Va.type))Hf[Va.type](Va,pb);else y(Va,pb)}function c(){Hb.point=a}function e(){f(Ae,Bc)}function a(Va,pb){Hb.point=f;Ae=Va;Bc=pb;Va*=Zd;pb*=Zd;xa=Va;Ba=Qd(pb=pb/2+Mf);Ya=hc(pb)}function f(Va,pb){Va*=Zd;pb*=Zd;pb=pb/2+Mf;var Cb=Va-xa,Ob=0<=Cb?1:-1,bc=Ob*Cb;Cb=Qd(pb);pb=
hc(pb);var Mc=Ya*pb,w=Ba*Cb+Mc*Qd(bc);Ob=Mc*Ob*hc(bc);Qf.add(Pe(Ob,w));xa=Va;Ba=Cb;Ya=pb}function p(Va){return[Pe(Va[1],Va[0]),F(Va[2])]}function A(Va){var pb=Va[0];Va=Va[1];var Cb=Qd(Va);return[Cb*Qd(pb),Cb*hc(pb),hc(Va)]}function C(Va,pb){return Va[0]*pb[0]+Va[1]*pb[1]+Va[2]*pb[2]}function D(Va,pb){return[Va[1]*pb[2]-Va[2]*pb[1],Va[2]*pb[0]-Va[0]*pb[2],Va[0]*pb[1]-Va[1]*pb[0]]}function P(Va,pb){Va[0]+=pb[0];Va[1]+=pb[1];Va[2]+=pb[2]}function L(Va,pb){return[Va[0]*pb,Va[1]*pb,Va[2]*pb]}function G(Va){var pb=
re(Va[0]*Va[0]+Va[1]*Va[1]+Va[2]*Va[2]);Va[0]/=pb;Va[1]/=pb;Va[2]/=pb}function z(Va,pb){od.push(Rd=[vb=Va,xc=Va]);pb<Xb&&(Xb=pb);pb>Oc&&(Oc=pb)}function J(Va,pb){var Cb=A([Va*Zd,pb*Zd]);if(Nd){var Ob=D(Nd,Cb);Ob=D([Ob[1],-Ob[0],0],Ob);G(Ob);Ob=p(Ob);var bc=Va-ld,Mc=0<bc?1:-1,w=Ob[0]*Td*Mc;bc=180<we(bc);bc^(Mc*ld<w&&w<Mc*Va)?(Ob=Ob[1]*Td,Ob>Oc&&(Oc=Ob)):(w=(w+360)%360-180,bc^(Mc*ld<w&&w<Mc*Va))?(Ob=-Ob[1]*Td,Ob<Xb&&(Xb=Ob)):(pb<Xb&&(Xb=pb),pb>Oc&&(Oc=pb));bc?Va<ld?da(vb,Va)>da(vb,xc)&&(xc=Va):da(Va,
xc)>da(vb,xc)&&(vb=Va):xc>=vb?(Va<vb&&(vb=Va),Va>xc&&(xc=Va)):Va>ld?da(vb,Va)>da(vb,xc)&&(xc=Va):da(Va,xc)>da(vb,xc)&&(vb=Va)}else od.push(Rd=[vb=Va,xc=Va]);pb<Xb&&(Xb=pb);pb>Oc&&(Oc=pb);Nd=Cb;ld=Va}function K(){kd.point=J}function R(){Rd[0]=vb;Rd[1]=xc;kd.point=z;Nd=null}function U(Va,pb){if(Nd){var Cb=Va-ld;Od.add(180<we(Cb)?Cb+(0<Cb?360:-360):Cb)}else Qc=Va,Ld=pb;Hb.point(Va,pb);J(Va,pb)}function ka(){Hb.lineStart()}function ba(){U(Qc,Ld);Hb.lineEnd();1E-6<we(Od)&&(vb=-(xc=180));Rd[0]=vb;Rd[1]=
xc;Nd=null}function da(Va,pb){return 0>(pb-=Va)?pb+360:pb}function ja(Va,pb){return Va[0]-pb[0]}function Z(Va,pb){return Va[0]<=Va[1]?Va[0]<=pb&&pb<=Va[1]:pb<Va[0]||Va[1]<pb}function Q(Va,pb){Va*=Zd;pb*=Zd;var Cb=Qd(pb);r(Cb*Qd(Va),Cb*hc(Va),hc(pb))}function r(Va,pb,Cb){++lf;ee+=(Va-ee)/lf;Ve+=(pb-Ve)/lf;ce+=(Cb-ce)/lf}function N(){oc.point=ea}function ea(Va,pb){Va*=Zd;pb*=Zd;var Cb=Qd(pb);Yb=Cb*Qd(Va);Ub=Cb*hc(Va);ic=hc(pb);oc.point=aa;r(Yb,Ub,ic)}function aa(Va,pb){Va*=Zd;pb*=Zd;var Cb=Qd(pb),Ob=
Cb*Qd(Va);Va=Cb*hc(Va);pb=hc(pb);var bc=Pe(re((bc=Ub*pb-ic*Va)*bc+(bc=ic*Ob-Yb*pb)*bc+(bc=Yb*Va-Ub*Ob)*bc),Yb*Ob+Ub*Va+ic*pb);bf+=bc;Xe+=bc*(Yb+(Yb=Ob));zf+=bc*(Ub+(Ub=Va));tf+=bc*(ic+(ic=pb));r(Yb,Ub,ic)}function va(){oc.point=Q}function ta(){oc.point=$a}function Da(){kb(Ia,wb);oc.point=Q}function $a(Va,pb){Ia=Va;wb=pb;Va*=Zd;pb*=Zd;oc.point=kb;var Cb=Qd(pb);Yb=Cb*Qd(Va);Ub=Cb*hc(Va);ic=hc(pb);r(Yb,Ub,ic)}function kb(Va,pb){Va*=Zd;pb*=Zd;var Cb=Qd(pb),Ob=Cb*Qd(Va);Va=Cb*hc(Va);pb=hc(pb);Cb=Ub*pb-
ic*Va;var bc=ic*Ob-Yb*pb,Mc=Yb*Va-Ub*Ob,w=Jc(Cb,bc,Mc),S=F(w);w=w&&-S/w;Oe.add(w*Cb);Nf.add(w*bc);za.add(w*Mc);bf+=S;Xe+=S*(Yb+(Yb=Ob));zf+=S*(Ub+(Ub=Va));tf+=S*(ic+(ic=pb));r(Yb,Ub,ic)}function sa(Va){return function(){return Va}}function Ta(Va,pb){function Cb(Ob,bc){return Ob=Va(Ob,bc),pb(Ob[0],Ob[1])}Va.invert&&pb.invert&&(Cb.invert=function(Ob,bc){return Ob=pb.invert(Ob,bc),Ob&&Va.invert(Ob[0],Ob[1])});return Cb}function Wa(Va,pb){return[we(Va)>le?Va+Math.round(-Va/Ge)*Ge:Va,pb]}function Ea(Va,
pb,Cb){return(Va%=Ge)?pb||Cb?Ta(V(Va),W(pb,Cb)):V(Va):pb||Cb?W(pb,Cb):Wa}function ua(Va){return function(pb,Cb){return pb+=Va,[pb>le?pb-Ge:pb<-le?pb+Ge:pb,Cb]}}function V(Va){var pb=ua(Va);pb.invert=ua(-Va);return pb}function W(Va,pb){function Cb(S,ma){var La=Qd(ma),gb=Qd(S)*La;S=hc(S)*La;ma=hc(ma);La=ma*Ob+gb*bc;return[Pe(S*Mc-La*w,gb*Ob-ma*bc),F(La*Mc+S*w)]}var Ob=Qd(Va),bc=hc(Va),Mc=Qd(pb),w=hc(pb);Cb.invert=function(S,ma){var La=Qd(ma),gb=Qd(S)*La;S=hc(S)*La;ma=hc(ma);La=ma*Mc-S*w;return[Pe(S*
Mc+ma*w,gb*Ob+La*bc),F(La*Ob-gb*bc)]};return Cb}function ca(Va){function pb(Cb){Cb=Va(Cb[0]*Zd,Cb[1]*Zd);return Cb[0]*=Td,Cb[1]*=Td,Cb}Va=Ea(Va[0]*Zd,Va[1]*Zd,2<Va.length?Va[2]*Zd:0);pb.invert=function(Cb){Cb=Va.invert(Cb[0]*Zd,Cb[1]*Zd);return Cb[0]*=Td,Cb[1]*=Td,Cb};return pb}function fa(Va,pb,Cb,Ob,bc,Mc){if(Cb){var w=Qd(pb),S=hc(pb);Cb*=Ob;if(null==bc)bc=pb+Ob*Ge,Mc=pb-Cb/2;else if(bc=qa(w,bc),Mc=qa(w,Mc),0<Ob?bc<Mc:bc>Mc)bc+=Ob*Ge;for(;0<Ob?bc>Mc:bc<Mc;bc-=Cb)pb=p([w,-S*Qd(bc),-S*hc(bc)]),Va.point(pb[0],
pb[1])}}function qa(Va,pb){pb=A(pb);pb[0]-=Va;G(pb);Va=n(-pb[1]);return((0>-pb[2]?-Va:Va)+Ge-1E-6)%Ge}function pa(){var Va=[],pb;return{point:function(Cb,Ob,bc){pb.push([Cb,Ob,bc])},lineStart:function(){Va.push(pb=[])},lineEnd:x,rejoin:function(){1<Va.length&&Va.push(Va.pop().concat(Va.shift()))},result:function(){var Cb=Va;Va=[];pb=null;return Cb}}}function Ga(Va,pb){return 1E-6>we(Va[0]-pb[0])&&1E-6>we(Va[1]-pb[1])}function na(Va,pb,Cb,Ob){this.x=Va;this.z=pb;this.o=Cb;this.e=Ob;this.v=!1;this.n=
this.p=null}function Oa(Va,pb,Cb,Ob,bc){var Mc=[],w=[];Va.forEach(function(mb){if(!(0>=(tb=mb.length-1))){var tb,Rb=mb[0],ec=mb[tb];if(Ga(Rb,ec)){if(!Rb[2]&&!ec[2]){bc.lineStart();for(S=0;S<tb;++S)bc.point((Rb=mb[S])[0],Rb[1]);bc.lineEnd();return}ec[0]+=2E-6}Mc.push(tb=new na(Rb,mb,null,!0));w.push(tb.o=new na(Rb,null,tb,!1));Mc.push(tb=new na(ec,mb,null,!1));w.push(tb.o=new na(ec,null,tb,!0))}});if(Mc.length){w.sort(pb);cb(Mc);cb(w);var S=0;for(Va=w.length;S<Va;++S)w[S].e=Cb=!Cb;Cb=Mc[0];for(var ma;;){for(var La=
Cb,gb=!0;La.v;)if((La=La.n)===Cb)return;pb=La.z;bc.lineStart();do{La.v=La.o.v=!0;if(La.e){if(gb)for(S=0,Va=pb.length;S<Va;++S)bc.point((ma=pb[S])[0],ma[1]);else Ob(La.x,La.n.x,1,bc);La=La.n}else{if(gb)for(pb=La.p.z,S=pb.length-1;0<=S;--S)bc.point((ma=pb[S])[0],ma[1]);else Ob(La.x,La.p.x,-1,bc);La=La.p}La=La.o;pb=La.z;gb=!gb}while(!La.v);bc.lineEnd()}}}function cb(Va){if(pb=Va.length){for(var pb,Cb=0,Ob=Va[0],bc;++Cb<pb;)Ob.n=bc=Va[Cb],bc.p=Ob,Ob=bc;Ob.n=bc=Va[0];bc.p=Ob}}function Za(Va){return we(Va[0])<=
le?Va[0]:De(Va[0])*((we(Va[0])+le)%Ge-le)}function Aa(Va,pb){var Cb=Za(pb);pb=pb[1];var Ob=hc(pb),bc=[hc(Cb),-Qd(Cb),0],Mc=0,w=0,S=new m.Adder;1===Ob?pb=ye+1E-6:-1===Ob&&(pb=-ye-1E-6);Ob=0;for(var ma=Va.length;Ob<ma;++Ob)if(gb=(La=Va[Ob]).length){var La,gb,mb=La[gb-1],tb=Za(mb),Rb=mb[1]/2+Mf,ec=hc(Rb),Wb=Qd(Rb);for(Rb=0;Rb<gb;++Rb,tb=ed,ec=zd,Wb=qd,mb=Pc){var Pc=La[Rb],ed=Za(Pc);qd=Pc[1]/2+Mf;var zd=hc(qd),qd=Qd(qd),bd=ed-tb,Kc=0<=bd?1:-1,ud=Kc*bd,de=ud>le;ec*=zd;S.add(Pe(ec*Kc*hc(ud),Wb*qd+ec*Qd(ud)));
Mc+=de?bd+Kc*Ge:bd;de^tb>=Cb^ed>=Cb&&(mb=D(A(mb),A(Pc)),G(mb),tb=D(bc,mb),G(tb),tb=(de^0<=bd?-1:1)*F(tb[2]),pb>tb||pb===tb&&(mb[0]||mb[1]))&&(w+=de^0<=bd?1:-1)}}return(-1E-6>Mc||1E-6>Mc&&-1E-12>S)^w&1}function Fa(Va,pb,Cb,Ob){return function(bc){function Mc(bd,Kc){Va(bd,Kc)&&bc.point(bd,Kc)}function w(bd,Kc){tb.point(bd,Kc)}function S(){qd.point=w;tb.lineStart()}function ma(){qd.point=Mc;tb.lineEnd()}function La(bd,Kc){zd.push([bd,Kc]);ec.point(bd,Kc)}function gb(){ec.lineStart();zd=[]}function mb(){La(zd[0][0],
zd[0][1]);ec.lineEnd();var bd=ec.clean(),Kc=Rb.result(),ud=Kc.length,de;zd.pop();Pc.push(zd);zd=null;if(ud)if(bd&1){if(ud=Kc[0],0<(Kc=ud.length-1)){Wb||(bc.polygonStart(),Wb=!0);bc.lineStart();for(bd=0;bd<Kc;++bd)bc.point((de=ud[bd])[0],de[1]);bc.lineEnd()}}else 1<ud&&bd&2&&Kc.push(Kc.pop().concat(Kc.shift())),ed.push(Kc.filter(Ra))}var tb=pb(bc),Rb=pa(),ec=pb(Rb),Wb=!1,Pc,ed,zd,qd={point:Mc,lineStart:S,lineEnd:ma,polygonStart:function(){qd.point=La;qd.lineStart=gb;qd.lineEnd=mb;ed=[];Pc=[]},polygonEnd:function(){qd.point=
Mc;qd.lineStart=S;qd.lineEnd=ma;ed=m.merge(ed);var bd=Aa(Pc,Ob);ed.length?(Wb||(bc.polygonStart(),Wb=!0),Oa(ed,ab,bd,Cb,bc)):bd&&(Wb||(bc.polygonStart(),Wb=!0),bc.lineStart(),Cb(null,null,1,bc),bc.lineEnd());Wb&&(bc.polygonEnd(),Wb=!1);ed=Pc=null},sphere:function(){bc.polygonStart();bc.lineStart();Cb(null,null,1,bc);bc.lineEnd();bc.polygonEnd()}};return qd}}function Ra(Va){return 1<Va.length}function ab(Va,pb){return(0>(Va=Va.x)[0]?Va[1]-ye-1E-6:ye-Va[1])-(0>(pb=pb.x)[0]?pb[1]-ye-1E-6:ye-pb[1])}function lb(Va){function pb(ma,
La){return Qd(ma)*Qd(La)>bc}function Cb(ma,La,gb){var mb=A(ma),tb=A(La),Rb=[1,0,0];tb=D(mb,tb);var ec=C(tb,tb);mb=tb[0];var Wb=ec-mb*mb;if(!Wb)return!gb&&ma;ec=bc*ec/Wb;Wb=-bc*mb/Wb;mb=D(Rb,tb);Rb=L(Rb,ec);tb=L(tb,Wb);P(Rb,tb);tb=C(Rb,mb);ec=C(mb,mb);Wb=tb*tb-ec*(C(Rb,Rb)-1);if(!(0>Wb)){var Pc=re(Wb);Wb=L(mb,(-tb-Pc)/ec);P(Wb,Rb);Wb=p(Wb);if(!gb)return Wb;gb=ma[0];var ed=La[0];ma=ma[1];La=La[1];if(ed<gb){var zd=gb;gb=ed;ed=zd}var qd=ed-gb,bd=1E-6>we(qd-le);!bd&&La<ma&&(zd=ma,ma=La,La=zd);if(bd||1E-6>
qd?bd?0<ma+La^Wb[1]<(1E-6>we(Wb[0]-gb)?ma:La):ma<=Wb[1]&&Wb[1]<=La:qd>le^(gb<=Wb[0]&&Wb[0]<=ed))return La=L(mb,(-tb+Pc)/ec),P(La,Rb),[Wb,p(La)]}}function Ob(ma,La){var gb=w?Va:le-Va,mb=0;ma<-gb?mb|=1:ma>gb&&(mb|=2);La<-gb?mb|=4:La>gb&&(mb|=8);return mb}var bc=Qd(Va),Mc=6*Zd,w=0<bc,S=1E-6<we(bc);return Fa(pb,function(ma){var La,gb,mb,tb,Rb;return{lineStart:function(){tb=mb=!1;Rb=1},point:function(ec,Wb){var Pc=[ec,Wb],ed=pb(ec,Wb);Wb=w?ed?0:Ob(ec,Wb):ed?Ob(ec+(0>ec?le:-le),Wb):0;!La&&(tb=mb=ed)&&ma.lineStart();
ed!==mb&&(ec=Cb(La,Pc),!ec||Ga(La,ec)||Ga(Pc,ec))&&(Pc[2]=1);if(ed!==mb)Rb=0,ed?(ma.lineStart(),ec=Cb(Pc,La),ma.point(ec[0],ec[1])):(ec=Cb(La,Pc),ma.point(ec[0],ec[1],2),ma.lineEnd()),La=ec;else if(S&&La&&w^ed){var zd;Wb&gb||!(zd=Cb(Pc,La,!0))||(Rb=0,w?(ma.lineStart(),ma.point(zd[0][0],zd[0][1]),ma.point(zd[1][0],zd[1][1]),ma.lineEnd()):(ma.point(zd[1][0],zd[1][1]),ma.lineEnd(),ma.lineStart(),ma.point(zd[0][0],zd[0][1],3)))}!ed||La&&Ga(La,Pc)||ma.point(Pc[0],Pc[1]);La=Pc;mb=ed;gb=Wb},lineEnd:function(){mb&&
ma.lineEnd();La=null},clean:function(){return Rb|(tb&&mb)<<1}}},function(ma,La,gb,mb){fa(mb,Va,Mc,gb,ma,La)},w?[0,-Va]:[-le,Va-le])}function Ma(Va,pb,Cb,Ob,bc,Mc){var w=Va[0],S=Va[1],ma=0,La=1,gb=pb[0]-w,mb=pb[1]-S;Cb-=w;if(gb||!(0<Cb)){Cb/=gb;if(0>gb){if(Cb<ma)return;Cb<La&&(La=Cb)}else if(0<gb){if(Cb>La)return;Cb>ma&&(ma=Cb)}Cb=bc-w;if(gb||!(0>Cb)){Cb/=gb;if(0>gb){if(Cb>La)return;Cb>ma&&(ma=Cb)}else if(0<gb){if(Cb<ma)return;Cb<La&&(La=Cb)}Cb=Ob-S;if(mb||!(0<Cb)){Cb/=mb;if(0>mb){if(Cb<ma)return;
Cb<La&&(La=Cb)}else if(0<mb){if(Cb>La)return;Cb>ma&&(ma=Cb)}Cb=Mc-S;if(mb||!(0>Cb)){Cb/=mb;if(0>mb){if(Cb>La)return;Cb>ma&&(ma=Cb)}else if(0<mb){if(Cb<ma)return;Cb<La&&(La=Cb)}0<ma&&(Va[0]=w+ma*gb,Va[1]=S+ma*mb);1>La&&(pb[0]=w+La*gb,pb[1]=S+La*mb);return!0}}}}}function nb(Va,pb,Cb,Ob){function bc(ma,La,gb,mb){var tb=0,Rb=0;if(null==ma||(tb=Mc(ma,gb))!==(Rb=Mc(La,gb))||0>S(ma,La)^0<gb){do mb.point(0===tb||3===tb?Va:Cb,1<tb?Ob:pb);while((tb=(tb+gb+4)%4)!==Rb)}else mb.point(La[0],La[1])}function Mc(ma,
La){return 1E-6>we(ma[0]-Va)?0<La?0:3:1E-6>we(ma[0]-Cb)?0<La?2:1:1E-6>we(ma[1]-pb)?0<La?1:0:0<La?3:2}function w(ma,La){return S(ma.x,La.x)}function S(ma,La){var gb=Mc(ma,1),mb=Mc(La,1);return gb!==mb?gb-mb:0===gb?La[1]-ma[1]:1===gb?ma[0]-La[0]:2===gb?ma[1]-La[1]:La[0]-ma[0]}return function(ma){function La(ve,ne){Va<=ve&&ve<=Cb&&pb<=ne&&ne<=Ob&&mb.point(ve,ne)}function gb(ve,ne){var Tf=Va<=ve&&ve<=Cb&&pb<=ne&&ne<=Ob;ec&&Wb.push([ve,ne]);if(ud)Pc=ve,ed=ne,zd=Tf,ud=!1,Tf&&(mb.lineStart(),mb.point(ve,
ne));else if(Tf&&Kc)mb.point(ve,ne);else{var se=[qd=Math.max(-1E9,Math.min(1E9,qd)),bd=Math.max(-1E9,Math.min(1E9,bd))],te=[ve=Math.max(-1E9,Math.min(1E9,ve)),ne=Math.max(-1E9,Math.min(1E9,ne))];Ma(se,te,Va,pb,Cb,Ob)?(Kc||(mb.lineStart(),mb.point(se[0],se[1])),mb.point(te[0],te[1]),Tf||mb.lineEnd(),de=!1):Tf&&(mb.lineStart(),mb.point(ve,ne),de=!1)}qd=ve;bd=ne;Kc=Tf}var mb=ma,tb=pa(),Rb,ec,Wb,Pc,ed,zd,qd,bd,Kc,ud,de,Sd={point:La,lineStart:function(){Sd.point=gb;ec&&ec.push(Wb=[]);ud=!0;Kc=!1;qd=bd=
NaN},lineEnd:function(){Rb&&(gb(Pc,ed),zd&&Kc&&tb.rejoin(),Rb.push(tb.result()));Sd.point=La;Kc&&mb.lineEnd()},polygonStart:function(){mb=tb;Rb=[];ec=[];de=!0},polygonEnd:function(){for(var ve,ne=ve=0,Tf=ec.length;ne<Tf;++ne){var se=ec[ne],te=1,Be=se.length,wd=se[0],We=wd[0];for(wd=wd[1];te<Be;++te){var Kf=We;var jf=wd;wd=se[te];We=wd[0];wd=wd[1];jf<=Ob?wd>Ob&&(We-Kf)*(Ob-jf)>(wd-jf)*(Va-Kf)&&++ve:wd<=Ob&&(We-Kf)*(Ob-jf)<(wd-jf)*(Va-Kf)&&--ve}}ne=de&&ve;Tf=(Rb=m.merge(Rb)).length;if(ne||Tf)ma.polygonStart(),
ne&&(ma.lineStart(),bc(null,null,1,ma),ma.lineEnd()),Tf&&Oa(Rb,w,ve,bc,ma),ma.polygonEnd();mb=ma;Rb=ec=Wb=null}};return Sd}}function zb(){ie.point=ie.lineEnd=x}function Sb(Va,pb){Va*=Zd;pb*=Zd;gd=Va;Hd=hc(pb);he=Qd(pb);ie.point=vc}function vc(Va,pb){Va*=Zd;pb*=Zd;var Cb=hc(pb);pb=Qd(pb);var Ob=we(Va-gd),bc=Qd(Ob);Ob=hc(Ob);Ob*=pb;var Mc=he*Cb-Hd*pb*bc;bc=Hd*Cb+he*pb*bc;Tc.add(Pe(re(Ob*Ob+Mc*Mc),bc));gd=Va;Hd=Cb;he=pb}function lc(Va){Tc=new m.Adder;h(Va,ie);return+Tc}function kc(Va,pb){Pd[0]=Va;Pd[1]=
pb;return lc(Ne)}function jb(Va,pb){return Va&&He.hasOwnProperty(Va.type)?He[Va.type](Va,pb):!1}function $b(Va,pb){for(var Cb,Ob,bc,Mc=0,w=Va.length;Mc<w;Mc++){Ob=kc(Va[Mc],pb);if(0===Ob||0<Mc&&(bc=kc(Va[Mc],Va[Mc-1]),0<bc&&Cb<=bc&&Ob<=bc&&(Cb+Ob-bc)*(1-Math.pow((Cb-Ob)/bc,2))<1E-12*bc))return!0;Cb=Ob}return!1}function yc(Va,pb){return!!Aa(Va.map(nc),zc(pb))}function nc(Va){return Va=Va.map(zc),Va.pop(),Va}function zc(Va){return[Va[0]*Zd,Va[1]*Zd]}function qc(Va,pb,Cb){var Ob=m.range(Va,pb-1E-6,Cb).concat(pb);
return function(bc){return Ob.map(function(Mc){return[bc,Mc]})}}function Vc(Va,pb,Cb){var Ob=m.range(Va,pb-1E-6,Cb).concat(pb);return function(bc){return Ob.map(function(Mc){return[Mc,bc]})}}function Uc(){function Va(){return{type:"MultiLineString",coordinates:pb()}}function pb(){return m.range(Qe(Mc/tb)*tb,bc,tb).map(Pc).concat(m.range(Qe(La/Rb)*Rb,ma,Rb).map(ed)).concat(m.range(Qe(Ob/gb)*gb,Cb,gb).filter(function(qd){return 1E-6<we(qd%tb)}).map(ec)).concat(m.range(Qe(S/mb)*mb,w,mb).filter(function(qd){return 1E-6<
we(qd%Rb)}).map(Wb))}var Cb,Ob,bc,Mc,w,S,ma,La,gb=10,mb=gb,tb=90,Rb=360,ec,Wb,Pc,ed,zd=2.5;Va.lines=function(){return pb().map(function(qd){return{type:"LineString",coordinates:qd}})};Va.outline=function(){return{type:"Polygon",coordinates:[Pc(Mc).concat(ed(ma).slice(1),Pc(bc).reverse().slice(1),ed(La).reverse().slice(1))]}};Va.extent=function(qd){return arguments.length?Va.extentMajor(qd).extentMinor(qd):Va.extentMinor()};Va.extentMajor=function(qd){if(!arguments.length)return[[Mc,La],[bc,ma]];Mc=
+qd[0][0];bc=+qd[1][0];La=+qd[0][1];ma=+qd[1][1];Mc>bc&&(qd=Mc,Mc=bc,bc=qd);La>ma&&(qd=La,La=ma,ma=qd);return Va.precision(zd)};Va.extentMinor=function(qd){if(!arguments.length)return[[Ob,S],[Cb,w]];Ob=+qd[0][0];Cb=+qd[1][0];S=+qd[0][1];w=+qd[1][1];Ob>Cb&&(qd=Ob,Ob=Cb,Cb=qd);S>w&&(qd=S,S=w,w=qd);return Va.precision(zd)};Va.step=function(qd){return arguments.length?Va.stepMajor(qd).stepMinor(qd):Va.stepMinor()};Va.stepMajor=function(qd){if(!arguments.length)return[tb,Rb];tb=+qd[0];Rb=+qd[1];return Va};
Va.stepMinor=function(qd){if(!arguments.length)return[gb,mb];gb=+qd[0];mb=+qd[1];return Va};Va.precision=function(qd){if(!arguments.length)return zd;zd=+qd;ec=qc(S,w,90);Wb=Vc(Ob,Cb,zd);Pc=qc(La,ma,90);ed=Vc(Mc,bc,zd);return Va};return Va.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Lc(){Rf.point=Fd}function Fd(Va,pb){Rf.point=fe;Te=Bf=Va;uf=Ag=pb}function fe(Va,pb){Of.add(Ag*Va-Bf*pb);Bf=Va;Ag=pb}function vd(){fe(Te,uf)}function Sc(Va,
pb){fb+=Va;hb+=pb;++sb}function Yd(){yb.point=Qb}function Qb(Va,pb){yb.point=gc;Sc(Pa=Va,Ua=pb)}function gc(Va,pb){var Cb=Va-Pa,Ob=pb-Ua;Cb=re(Cb*Cb+Ob*Ob);Gb+=Cb*(Pa+Va)/2;Bb+=Cb*(Ua+pb)/2;Nb+=Cb;Sc(Pa=Va,Ua=pb)}function Ib(){yb.point=Sc}function Cc(){yb.point=Gd}function Wc(){Wd(Y,oa)}function Gd(Va,pb){yb.point=Wd;Sc(Y=Pa=Va,oa=Ua=pb)}function Wd(Va,pb){var Cb=Va-Pa,Ob=pb-Ua;Cb=re(Cb*Cb+Ob*Ob);Gb+=Cb*(Pa+Va)/2;Bb+=Cb*(Ua+pb)/2;Nb+=Cb;Cb=Ua*Va-Pa*pb;Mb+=Cb*(Pa+Va);dc+=Cb*(Ua+pb);uc+=3*Cb;Sc(Pa=
Va,Ua=pb)}function Ja(Va){this._context=Va}function eb(Va,pb){Kd.point=xb;rc=dd=Va;Gc=Zc=pb}function xb(Va,pb){dd-=Va;Zc-=pb;Tb.add(re(dd*dd+Zc*Zc));dd=Va;Zc=pb}function Jb(){this._string=[]}function ac(Va){return"m0,"+Va+"a"+Va+","+Va+" 0 1,1 0,"+-2*Va+"a"+Va+","+Va+" 0 1,1 0,"+2*Va+"z"}function jc(Va){return function(pb){var Cb=new Ec,Ob;for(Ob in Va)Cb[Ob]=Va[Ob];Cb.stream=pb;return Cb}}function Ec(){}function sc(Va,pb,Cb){var Ob=Va.clipExtent&&Va.clipExtent();Va.scale(150).translate([0,0]);null!=
Ob&&Va.clipExtent(null);h(Cb,Va.stream(Sa));pb(Sa.result());null!=Ob&&Va.clipExtent(Ob);return Va}function ob(Va,pb,Cb){return sc(Va,function(Ob){var bc=pb[1][0]-pb[0][0],Mc=pb[1][1]-pb[0][1],w=Math.min(bc/(Ob[1][0]-Ob[0][0]),Mc/(Ob[1][1]-Ob[0][1]));bc=+pb[0][0]+(bc-w*(Ob[1][0]+Ob[0][0]))/2;Ob=+pb[0][1]+(Mc-w*(Ob[1][1]+Ob[0][1]))/2;Va.scale(150*w).translate([bc,Ob])},Cb)}function Db(Va,pb,Cb){return sc(Va,function(Ob){var bc=+pb,Mc=bc/(Ob[1][0]-Ob[0][0]);bc=(bc-Mc*(Ob[1][0]+Ob[0][0]))/2;Ob=-Mc*Ob[0][1];
Va.scale(150*Mc).translate([bc,Ob])},Cb)}function Vb(Va,pb,Cb){return sc(Va,function(Ob){var bc=+pb,Mc=bc/(Ob[1][1]-Ob[0][1]),w=-Mc*Ob[0][0];Ob=(bc-Mc*(Ob[1][1]+Ob[0][1]))/2;Va.scale(150*Mc).translate([w,Ob])},Cb)}function mc(Va){return jc({point:function(pb,Cb){pb=Va(pb,Cb);this.stream.point(pb[0],pb[1])}})}function Dc(Va,pb){function Cb(Ob,bc,Mc,w,S,ma,La,gb,mb,tb,Rb,ec,Wb,Pc){var ed=La-Ob,zd=gb-bc,qd=ed*ed+zd*zd;if(qd>4*pb&&Wb--){var bd=w+tb,Kc=S+Rb,ud=ma+ec,de=re(bd*bd+Kc*Kc+ud*ud),Sd=F(ud/=de),
ve=1E-6>we(we(ud)-1)||1E-6>we(Mc-mb)?(Mc+mb)/2:Pe(Kc,bd),ne=Va(ve,Sd);Sd=ne[0];ne=ne[1];var Tf=Sd-Ob,se=ne-bc,te=zd*Tf-ed*se;if(te*te/qd>pb||.3<we((ed*Tf+zd*se)/qd-.5)||w*tb+S*Rb+ma*ec<Ud)Cb(Ob,bc,Mc,w,S,ma,Sd,ne,ve,bd/=de,Kc/=de,ud,Wb,Pc),Pc.point(Sd,ne),Cb(Sd,ne,ve,bd,Kc,ud,La,gb,mb,tb,Rb,ec,Wb,Pc)}}return function(Ob){function bc(Sd,ve){Sd=Va(Sd,ve);Ob.point(Sd[0],Sd[1])}function Mc(){zd=NaN;de.point=w;Ob.lineStart()}function w(Sd,ve){var ne=A([Sd,ve]);ve=Va(Sd,ve);Cb(zd,qd,ed,bd,Kc,ud,zd=ve[0],
qd=ve[1],ed=Sd,bd=ne[0],Kc=ne[1],ud=ne[2],16,Ob);Ob.point(zd,qd)}function S(){de.point=bc;Ob.lineEnd()}function ma(){Mc();de.point=La;de.lineEnd=gb}function La(Sd,ve){w(mb=Sd,ve);tb=zd;Rb=qd;ec=bd;Wb=Kc;Pc=ud;de.point=w}function gb(){Cb(zd,qd,ed,bd,Kc,ud,tb,Rb,mb,ec,Wb,Pc,16,Ob);de.lineEnd=S;S()}var mb,tb,Rb,ec,Wb,Pc,ed,zd,qd,bd,Kc,ud,de={point:bc,lineStart:Mc,lineEnd:S,polygonStart:function(){Ob.polygonStart();de.lineStart=ma},polygonEnd:function(){Ob.polygonEnd();de.lineStart=Mc}};return de}}function Fc(Va){return jc({point:function(pb,
Cb){pb=Va(pb,Cb);return this.stream.point(pb[0],pb[1])}})}function Xc(Va,pb,Cb,Ob,bc){function Mc(w,S){w*=Ob;S*=bc;return[pb+Va*w,Cb-Va*S]}Mc.invert=function(w,S){return[(w-pb)/Va*Ob,(Cb-S)/Va*bc]};return Mc}function Fb(Va,pb,Cb,Ob,bc,Mc){function w(ec,Wb){ec*=Ob;Wb*=bc;return[ma*ec-La*Wb+pb,Cb-La*ec-ma*Wb]}if(!Mc)return Xc(Va,pb,Cb,Ob,bc);var S=Qd(Mc);Mc=hc(Mc);var ma=S*Va,La=Mc*Va,gb=S/Va,mb=Mc/Va,tb=(Mc*Cb-S*pb)/Va,Rb=(Mc*pb+S*Cb)/Va;w.invert=function(ec,Wb){return[Ob*(gb*ec-mb*Wb+tb),bc*(Rb-mb*
ec-gb*Wb)]};return w}function Ic(Va){return fd(function(){return Va})()}function fd(Va){function pb(wd){return se(wd[0]*Zd,wd[1]*Zd)}function Cb(wd){return(wd=se.invert(wd[0],wd[1]))&&[wd[0]*Td,wd[1]*Td]}function Ob(){var wd=Fb(w,0,0,Pc,ed,Wb).apply(null,Mc(La,gb));wd=Fb(w,S-wd[0],ma-wd[1],Pc,ed,Wb);ec=Ea(mb,tb,Rb);Tf=Ta(Mc,wd);se=Ta(ec,Tf);wd=Tf;ne=+ve?Dc(wd,ve):mc(wd);return bc()}function bc(){te=Be=null;return pb}var Mc,w=150,S=480,ma=250,La=0,gb=0,mb=0,tb=0,Rb=0,ec,Wb=0,Pc=1,ed=1,zd=null,qd=id,
bd=null,Kc,ud,de,Sd=Je,ve=.5,ne,Tf,se,te,Be;pb.stream=function(wd){return te&&Be===wd?te:te=pd(Fc(ec)(qd(ne(Sd(Be=wd)))))};pb.preclip=function(wd){return arguments.length?(qd=wd,zd=void 0,bc()):qd};pb.postclip=function(wd){return arguments.length?(Sd=wd,bd=Kc=ud=de=null,bc()):Sd};pb.clipAngle=function(wd){return arguments.length?(qd=+wd?lb(zd=wd*Zd):(zd=null,id),bc()):zd*Td};pb.clipExtent=function(wd){return arguments.length?(Sd=null==wd?(bd=Kc=ud=de=null,Je):nb(bd=+wd[0][0],Kc=+wd[0][1],ud=+wd[1][0],
de=+wd[1][1]),bc()):null==bd?null:[[bd,Kc],[ud,de]]};pb.scale=function(wd){return arguments.length?(w=+wd,Ob()):w};pb.translate=function(wd){return arguments.length?(S=+wd[0],ma=+wd[1],Ob()):[S,ma]};pb.center=function(wd){return arguments.length?(La=wd[0]%360*Zd,gb=wd[1]%360*Zd,Ob()):[La*Td,gb*Td]};pb.rotate=function(wd){return arguments.length?(mb=wd[0]%360*Zd,tb=wd[1]%360*Zd,Rb=2<wd.length?wd[2]%360*Zd:0,Ob()):[mb*Td,tb*Td,Rb*Td]};pb.angle=function(wd){return arguments.length?(Wb=wd%360*Zd,Ob()):
Wb*Td};pb.reflectX=function(wd){return arguments.length?(Pc=wd?-1:1,Ob()):0>Pc};pb.reflectY=function(wd){return arguments.length?(ed=wd?-1:1,Ob()):0>ed};pb.precision=function(wd){if(arguments.length){var We=Tf;var Kf=ve=wd*wd;We=(ne=+Kf?Dc(We,Kf):mc(We),bc())}else We=re(ve);return We};pb.fitExtent=function(wd,We){return ob(pb,wd,We)};pb.fitSize=function(wd,We){return ob(pb,[[0,0],wd],We)};pb.fitWidth=function(wd,We){return Db(pb,wd,We)};pb.fitHeight=function(wd,We){return Vb(pb,wd,We)};return function(){Mc=
Va.apply(this,arguments);pb.invert=Mc.invert&&Cb;return Ob()}}function wc(Va){var pb=0,Cb=le/3,Ob=fd(Va);Va=Ob(pb,Cb);Va.parallels=function(bc){return arguments.length?Ob(pb=bc[0]*Zd,Cb=bc[1]*Zd):[pb*Td,Cb*Td]};return Va}function $c(Va){function pb(Ob,bc){return[Ob*Cb,hc(bc)/Cb]}var Cb=Qd(Va);pb.invert=function(Ob,bc){return[Ob/Cb,F(bc*Cb)]};return pb}function ad(Va,pb){function Cb(S,ma){ma=re(Mc-2*bc*hc(ma))/bc;return[ma*hc(S*=bc),w-ma*Qd(S)]}var Ob=hc(Va),bc=(Ob+hc(pb))/2;if(1E-6>we(bc))return $c(Va);
var Mc=1+Ob*(2*bc-Ob),w=re(Mc)/bc;Cb.invert=function(S,ma){ma=w-ma;var La=Pe(S,we(ma))*De(ma);0>ma*bc&&(La-=le*De(S)*De(ma));return[La/bc,F((Mc-(S*S+ma*ma)*bc*bc)/(2*bc))]};return Cb}function nd(){return wc(ad).scale(155.424).center([0,33.6442])}function Cd(){return nd().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Ed(Va){var pb=Va.length;return{point:function(Cb,Ob){for(var bc=-1;++bc<pb;)Va[bc].point(Cb,Ob)},sphere:function(){for(var Cb=-1;++Cb<
pb;)Va[Cb].sphere()},lineStart:function(){for(var Cb=-1;++Cb<pb;)Va[Cb].lineStart()},lineEnd:function(){for(var Cb=-1;++Cb<pb;)Va[Cb].lineEnd()},polygonStart:function(){for(var Cb=-1;++Cb<pb;)Va[Cb].polygonStart()},polygonEnd:function(){for(var Cb=-1;++Cb<pb;)Va[Cb].polygonEnd()}}}function Xd(Va){return function(pb,Cb){var Ob=Qd(pb),bc=Qd(Cb);Ob=Va(Ob*bc);return Infinity===Ob?[2,0]:[Ob*bc*hc(pb),Ob*hc(Cb)]}}function $d(Va){return function(pb,Cb){var Ob=re(pb*pb+Cb*Cb),bc=Va(Ob),Mc=hc(bc);bc=Qd(bc);
return[Pe(pb*Mc,Ob*bc),F(Ob&&Cb*Mc/Ob)]}}function ae(Va,pb){return[Va,xe(gf((ye+pb)/2))]}function Ce(Va){function pb(){var mb=le*bc(),tb=Cb(ca(Cb.rotate()).invert([0,0]));return w(null==S?[[tb[0]-mb,tb[1]-mb],[tb[0]+mb,tb[1]+mb]]:Va===ae?[[Math.max(tb[0]-mb,S),ma],[Math.min(tb[0]+mb,La),gb]]:[[S,Math.max(tb[1]-mb,ma)],[La,Math.min(tb[1]+mb,gb)]])}var Cb=Ic(Va),Ob=Cb.center,bc=Cb.scale,Mc=Cb.translate,w=Cb.clipExtent,S=null,ma,La,gb;Cb.scale=function(mb){return arguments.length?(bc(mb),pb()):bc()};
Cb.translate=function(mb){return arguments.length?(Mc(mb),pb()):Mc()};Cb.center=function(mb){return arguments.length?(Ob(mb),pb()):Ob()};Cb.clipExtent=function(mb){return arguments.length?(null==mb?S=ma=La=gb=null:(S=+mb[0][0],ma=+mb[0][1],La=+mb[1][0],gb=+mb[1][1]),pb()):null==S?null:[[S,ma],[La,gb]]};return pb()}function me(Va,pb){function Cb(w,S){0<Mc?S<-ye+1E-6&&(S=-ye+1E-6):S>ye-1E-6&&(S=ye-1E-6);S=Mc/je(gf((ye+S)/2),bc);return[S*hc(bc*w),Mc-S*Qd(bc*w)]}var Ob=Qd(Va),bc=Va===pb?hc(Va):xe(Ob/
Qd(pb))/xe(gf((ye+pb)/2)/gf((ye+Va)/2)),Mc=Ob*je(gf((ye+Va)/2),bc)/bc;if(!bc)return ae;Cb.invert=function(w,S){S=Mc-S;var ma=De(bc)*re(w*w+S*S),La=Pe(w,we(S))*De(S);0>S*bc&&(La-=le*De(w)*De(S));return[La/bc,2*nf(je(Mc/ma,1/bc))-ye]};return Cb}function ff(Va,pb){return[Va,pb]}function Ze(Va,pb){function Cb(w,S){S=Mc-S;w*=bc;return[S*hc(w),Mc-S*Qd(w)]}var Ob=Qd(Va),bc=Va===pb?hc(Va):(Ob-Qd(pb))/(pb-Va),Mc=Ob/bc+Va;if(1E-6>we(bc))return ff;Cb.invert=function(w,S){S=Mc-S;var ma=Pe(w,we(S))*De(S);0>S*
bc&&(ma-=le*De(w)*De(S));return[ma/bc,Mc-De(bc)*re(w*w+S*S)]};return Cb}function hf(Va,pb){pb=F(cf*hc(pb));var Cb=pb*pb,Ob=Cb*Cb*Cb;return[Va*Qd(pb)/(cf*(1.340264+3*-.081106*Cb+Ob*(7*8.93E-4+.034164*Cb))),pb*(1.340264+-.081106*Cb+Ob*(8.93E-4+.003796*Cb))]}function Vd(Va,pb){var Cb=Qd(pb),Ob=Qd(Va)*Cb;return[Cb*hc(Va)/Ob,hc(pb)/Ob]}function ge(Va,pb){var Cb=pb*pb,Ob=Cb*Cb;return[Va*(.8707-.131979*Cb+Ob*(-.013791+Ob*(.003971*Cb-.001529*Ob))),pb*(1.007226+Cb*(.015085+Ob*(-.044475+.028874*Cb-.005916*
Ob)))]}function yf(Va,pb){return[Qd(pb)*hc(Va),hc(pb)]}function Ue(Va,pb){var Cb=Qd(pb),Ob=1+Qd(Va)*Cb;return[Cb*hc(Va)/Ob,hc(pb)/Ob]}function of(Va,pb){return[xe(gf((ye+pb)/2)),-Va]}var le=Math.PI,ye=le/2,Mf=le/4,Ge=2*le,Td=180/le,Zd=le/180,we=Math.abs,nf=Math.atan,Pe=Math.atan2,Qd=Math.cos,Qe=Math.ceil,Yf=Math.exp,Jc=Math.hypot,xe=Math.log,je=Math.pow,hc=Math.sin,De=Math.sign||function(Va){return 0<Va?1:0>Va?-1:0},re=Math.sqrt,gf=Math.tan,Hf={Feature:function(Va,pb){y(Va.geometry,pb)},FeatureCollection:function(Va,
pb){Va=Va.features;for(var Cb=-1,Ob=Va.length;++Cb<Ob;)y(Va[Cb].geometry,pb)}},If={Sphere:function(Va,pb){pb.sphere()},Point:function(Va,pb){Va=Va.coordinates;pb.point(Va[0],Va[1],Va[2])},MultiPoint:function(Va,pb){for(var Cb=Va.coordinates,Ob=-1,bc=Cb.length;++Ob<bc;)Va=Cb[Ob],pb.point(Va[0],Va[1],Va[2])},LineString:function(Va,pb){q(Va.coordinates,pb,0)},MultiLineString:function(Va,pb){Va=Va.coordinates;for(var Cb=-1,Ob=Va.length;++Cb<Ob;)q(Va[Cb],pb,0)},Polygon:function(Va,pb){l(Va.coordinates,
pb)},MultiPolygon:function(Va,pb){Va=Va.coordinates;for(var Cb=-1,Ob=Va.length;++Cb<Ob;)l(Va[Cb],pb)},GeometryCollection:function(Va,pb){Va=Va.geometries;for(var Cb=-1,Ob=Va.length;++Cb<Ob;)y(Va[Cb],pb)}},Qf=new m.Adder,Jf=new m.Adder,Ae,Bc,xa,Ba,Ya,Hb={point:x,lineStart:x,lineEnd:x,polygonStart:function(){Qf=new m.Adder;Hb.lineStart=c;Hb.lineEnd=e},polygonEnd:function(){var Va=+Qf;Jf.add(0>Va?Ge+Va:Va);this.lineStart=this.lineEnd=this.point=x},sphere:function(){Jf.add(Ge)}},vb,Xb,xc,Oc,ld,Qc,Ld,
Nd,Od,od,Rd,kd={point:z,lineStart:K,lineEnd:R,polygonStart:function(){kd.point=U;kd.lineStart=ka;kd.lineEnd=ba;Od=new m.Adder;Hb.polygonStart()},polygonEnd:function(){Hb.polygonEnd();kd.point=z;kd.lineStart=K;kd.lineEnd=R;0>Qf?(vb=-(xc=180),Xb=-(Oc=90)):1E-6<Od?Oc=90:-1E-6>Od&&(Xb=-90);Rd[0]=vb;Rd[1]=xc},sphere:function(){vb=-(xc=180);Xb=-(Oc=90)}},lf,bf,ee,Ve,ce,Xe,zf,tf,Oe,Nf,za,Ia,wb,Yb,Ub,ic,oc={sphere:x,point:Q,lineStart:N,lineEnd:va,polygonStart:function(){oc.lineStart=ta;oc.lineEnd=Da},polygonEnd:function(){oc.lineStart=
N;oc.lineEnd=va}};Wa.invert=Wa;var id=Fa(function(){return!0},function(Va){var pb=NaN,Cb=NaN,Ob=NaN,bc;return{lineStart:function(){Va.lineStart();bc=1},point:function(Mc,w){var S=0<Mc?le:-le,ma=we(Mc-pb);if(1E-6>we(ma-le))Va.point(pb,Cb=0<(Cb+w)/2?ye:-ye),Va.point(Ob,Cb),Va.lineEnd(),Va.lineStart(),Va.point(S,Cb),Va.point(Mc,Cb),bc=0;else if(Ob!==S&&ma>=le){1E-6>we(pb-Ob)&&(pb-=1E-6*Ob);1E-6>we(Mc-S)&&(Mc-=1E-6*S);ma=pb;var La=Cb,gb=Mc,mb,tb,Rb=hc(ma-gb);Cb=1E-6<we(Rb)?nf((hc(La)*(tb=Qd(w))*hc(gb)-
hc(w)*(mb=Qd(La))*hc(ma))/(mb*tb*Rb)):(La+w)/2;Va.point(Ob,Cb);Va.lineEnd();Va.lineStart();Va.point(S,Cb);bc=0}Va.point(pb=Mc,Cb=w);Ob=S},lineEnd:function(){Va.lineEnd();pb=Cb=NaN},clean:function(){return 2-bc}}},function(Va,pb,Cb,Ob){null==Va?(Cb*=ye,Ob.point(-le,Cb),Ob.point(0,Cb),Ob.point(le,Cb),Ob.point(le,0),Ob.point(le,-Cb),Ob.point(0,-Cb),Ob.point(-le,-Cb),Ob.point(-le,0),Ob.point(-le,Cb)):1E-6<we(Va[0]-pb[0])?(Va=Va[0]<pb[0]?le:-le,Cb=Cb*Va/2,Ob.point(-Va,Cb),Ob.point(0,Cb),Ob.point(Va,Cb)):
Ob.point(pb[0],pb[1])},[-le,-ye]),Tc,gd,Hd,he,ie={sphere:x,point:x,lineStart:function(){ie.point=Sb;ie.lineEnd=zb},lineEnd:x,polygonStart:x,polygonEnd:x},Pd=[null,null],Ne={type:"LineString",coordinates:Pd},pe={Feature:function(Va,pb){return jb(Va.geometry,pb)},FeatureCollection:function(Va,pb){Va=Va.features;for(var Cb=-1,Ob=Va.length;++Cb<Ob;)if(jb(Va[Cb].geometry,pb))return!0;return!1}},He={Sphere:function(){return!0},Point:function(Va,pb){return 0===kc(Va.coordinates,pb)},MultiPoint:function(Va,
pb){Va=Va.coordinates;for(var Cb=-1,Ob=Va.length;++Cb<Ob;)if(0===kc(Va[Cb],pb))return!0;return!1},LineString:function(Va,pb){return $b(Va.coordinates,pb)},MultiLineString:function(Va,pb){Va=Va.coordinates;for(var Cb=-1,Ob=Va.length;++Cb<Ob;)if($b(Va[Cb],pb))return!0;return!1},Polygon:function(Va,pb){return yc(Va.coordinates,pb)},MultiPolygon:function(Va,pb){Va=Va.coordinates;for(var Cb=-1,Ob=Va.length;++Cb<Ob;)if(yc(Va[Cb],pb))return!0;return!1},GeometryCollection:function(Va,pb){Va=Va.geometries;
for(var Cb=-1,Ob=Va.length;++Cb<Ob;)if(jb(Va[Cb],pb))return!0;return!1}},Je=Va=>Va,Le=new m.Adder,Of=new m.Adder,Te,uf,Bf,Ag,Rf={point:x,lineStart:x,lineEnd:x,polygonStart:function(){Rf.lineStart=Lc;Rf.lineEnd=vd},polygonEnd:function(){Rf.lineStart=Rf.lineEnd=Rf.point=x;Le.add(we(Of));Of=new m.Adder},result:function(){var Va=Le/2;Le=new m.Adder;return Va}},jg=Infinity,wa=jg,ya=-jg,Na=ya,Sa={point:function(Va,pb){Va<jg&&(jg=Va);Va>ya&&(ya=Va);pb<wa&&(wa=pb);pb>Na&&(Na=pb)},lineStart:x,lineEnd:x,polygonStart:x,
polygonEnd:x,result:function(){var Va=[[jg,wa],[ya,Na]];ya=Na=-(wa=jg=Infinity);return Va}},fb=0,hb=0,sb=0,Gb=0,Bb=0,Nb=0,Mb=0,dc=0,uc=0,Y,oa,Pa,Ua,yb={point:Sc,lineStart:Yd,lineEnd:Ib,polygonStart:function(){yb.lineStart=Cc;yb.lineEnd=Wc},polygonEnd:function(){yb.point=Sc;yb.lineStart=Yd;yb.lineEnd=Ib},result:function(){var Va=uc?[Mb/uc,dc/uc]:Nb?[Gb/Nb,Bb/Nb]:sb?[fb/sb,hb/sb]:[NaN,NaN];fb=hb=sb=Gb=Bb=Nb=Mb=dc=uc=0;return Va}};Ja.prototype={_radius:4.5,pointRadius:function(Va){return this._radius=
Va,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(Va,pb){switch(this._point){case 0:this._context.moveTo(Va,pb);this._point=1;break;case 1:this._context.lineTo(Va,pb);break;default:this._context.moveTo(Va+this._radius,pb),this._context.arc(Va,pb,this._radius,0,Ge)}},result:x};var Tb=new m.Adder,Zb,rc,Gc,dd,Zc,Kd={point:x,lineStart:function(){Kd.point=
eb},lineEnd:function(){Zb&&xb(rc,Gc);Kd.point=x},polygonStart:function(){Zb=!0},polygonEnd:function(){Zb=null},result:function(){var Va=+Tb;Tb=new m.Adder;return Va}};Jb.prototype={_radius:4.5,_circle:ac(4.5),pointRadius:function(Va){(Va=+Va)!==this._radius&&(this._radius=Va,this._circle=null);return this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z");this._point=NaN},point:function(Va,
pb){switch(this._point){case 0:this._string.push("M",Va,",",pb);this._point=1;break;case 1:this._string.push("L",Va,",",pb);break;default:null==this._circle&&(this._circle=ac(this._radius)),this._string.push("M",Va,",",pb,this._circle)}},result:function(){if(this._string.length){var Va=this._string.join("");this._string=[];return Va}return null}};Ec.prototype={constructor:Ec,point:function(Va,pb){this.stream.point(Va,pb)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},
lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Ud=Qd(30*Zd),pd=jc({point:function(Va,pb){this.stream.point(Va*Zd,pb*Zd)}}),Bd=Xd(function(Va){return re(2/(1+Va))});Bd.invert=$d(function(Va){return 2*F(Va/2)});var jd=Xd(function(Va){return(Va=n(Va))&&Va/hc(Va)});jd.invert=$d(function(Va){return Va});ae.invert=function(Va,pb){return[Va,2*nf(Yf(pb))-ye]};ff.invert=ff;var cf=re(3)/2;hf.invert=function(Va,
pb){for(var Cb=pb,Ob=Cb*Cb,bc=Ob*Ob*Ob,Mc=0,w;12>Mc&&!(w=Cb*(1.340264+-.081106*Ob+bc*(8.93E-4+.003796*Ob))-pb,Ob=1.340264+3*-.081106*Ob+bc*(7*8.93E-4+.034164*Ob),Cb-=w/=Ob,Ob=Cb*Cb,bc=Ob*Ob*Ob,1E-12>we(w));++Mc);return[cf*Va*(1.340264+3*-.081106*Ob+bc*(7*8.93E-4+.034164*Ob))/Qd(Cb),F(hc(Cb)/cf)]};Vd.invert=$d(nf);ge.invert=function(Va,pb){var Cb=pb,Ob=25;do{var bc=Cb*Cb;var Mc=bc*bc;Cb-=Mc=(Cb*(1.007226+bc*(.015085+Mc*(-.044475+.028874*bc-.005916*Mc)))-pb)/(1.007226+bc*(.045255+Mc*(-.311325+.259866*
bc-.005916*11*Mc)))}while(1E-6<we(Mc)&&0<--Ob);return[Va/(.8707+(bc=Cb*Cb)*(-.131979+bc*(-.013791+bc*bc*bc*(.003971-.001529*bc)))),Cb]};yf.invert=$d(F);Ue.invert=$d(function(Va){return 2*nf(Va)});of.invert=function(Va,pb){return[-pb,2*nf(Yf(Va))-ye]};g.geoAlbers=Cd;g.geoAlbersUsa=function(){function Va(tb){var Rb=tb[0];tb=tb[1];return gb=null,(Mc.point(Rb,tb),gb)||(S.point(Rb,tb),gb)||(La.point(Rb,tb),gb)}function pb(){Cb=Ob=null;return Va}var Cb,Ob,bc=Cd(),Mc,w=nd().rotate([154,0]).center([-2,58.5]).parallels([55,
65]),S,ma=nd().rotate([157,0]).center([-3,19.9]).parallels([8,18]),La,gb,mb={point:function(tb,Rb){gb=[tb,Rb]}};Va.invert=function(tb){var Rb=bc.scale(),ec=bc.translate(),Wb=(tb[0]-ec[0])/Rb;Rb=(tb[1]-ec[1])/Rb;return(.12<=Rb&&.234>Rb&&-.425<=Wb&&-.214>Wb?w:.166<=Rb&&.234>Rb&&-.214<=Wb&&-.115>Wb?ma:bc).invert(tb)};Va.stream=function(tb){return Cb&&Ob===tb?Cb:Cb=Ed([bc.stream(Ob=tb),w.stream(tb),ma.stream(tb)])};Va.precision=function(tb){if(!arguments.length)return bc.precision();bc.precision(tb);
w.precision(tb);ma.precision(tb);return pb()};Va.scale=function(tb){if(!arguments.length)return bc.scale();bc.scale(tb);w.scale(.35*tb);ma.scale(tb);return Va.translate(bc.translate())};Va.translate=function(tb){if(!arguments.length)return bc.translate();var Rb=bc.scale(),ec=+tb[0],Wb=+tb[1];Mc=bc.translate(tb).clipExtent([[ec-.455*Rb,Wb-.238*Rb],[ec+.455*Rb,Wb+.238*Rb]]).stream(mb);S=w.translate([ec-.307*Rb,Wb+.201*Rb]).clipExtent([[ec-.425*Rb+1E-6,Wb+.12*Rb+1E-6],[ec-.214*Rb-1E-6,Wb+.234*Rb-1E-6]]).stream(mb);
La=ma.translate([ec-.205*Rb,Wb+.212*Rb]).clipExtent([[ec-.214*Rb+1E-6,Wb+.166*Rb+1E-6],[ec-.115*Rb-1E-6,Wb+.234*Rb-1E-6]]).stream(mb);return pb()};Va.fitExtent=function(tb,Rb){return ob(Va,tb,Rb)};Va.fitSize=function(tb,Rb){return ob(Va,[[0,0],tb],Rb)};Va.fitWidth=function(tb,Rb){return Db(Va,tb,Rb)};Va.fitHeight=function(tb,Rb){return Vb(Va,tb,Rb)};return Va.scale(1070)};g.geoArea=function(Va){Jf=new m.Adder;h(Va,Hb);return 2*Jf};g.geoAzimuthalEqualArea=function(){return Ic(Bd).scale(124.75).clipAngle(179.999)};
g.geoAzimuthalEqualAreaRaw=Bd;g.geoAzimuthalEquidistant=function(){return Ic(jd).scale(79.4188).clipAngle(179.999)};g.geoAzimuthalEquidistantRaw=jd;g.geoBounds=function(Va){var pb,Cb,Ob;Oc=xc=-(vb=Xb=Infinity);od=[];h(Va,kd);if(pb=od.length){od.sort(ja);Va=1;var bc=od[0];for(Cb=[bc];Va<pb;++Va){var Mc=od[Va];Z(bc,Mc[0])||Z(bc,Mc[1])?(da(bc[0],Mc[1])>da(bc[0],bc[1])&&(bc[1]=Mc[1]),da(Mc[0],bc[1])>da(bc[0],bc[1])&&(bc[0]=Mc[0])):Cb.push(bc=Mc)}var w=-Infinity;pb=Cb.length-1;Va=0;for(bc=Cb[pb];Va<=pb;bc=
Mc,++Va)Mc=Cb[Va],(Ob=da(bc[1],Mc[0]))>w&&(w=Ob,vb=Mc[0],xc=bc[1])}od=Rd=null;return Infinity===vb||Infinity===Xb?[[NaN,NaN],[NaN,NaN]]:[[vb,Xb],[xc,Oc]]};g.geoCentroid=function(Va){lf=bf=ee=Ve=ce=Xe=zf=tf=0;Oe=new m.Adder;Nf=new m.Adder;za=new m.Adder;h(Va,oc);Va=+Oe;var pb=+Nf,Cb=+za,Ob=Jc(Va,pb,Cb);return 1E-12>Ob&&(Va=Xe,pb=zf,Cb=tf,1E-6>bf&&(Va=ee,pb=Ve,Cb=ce),Ob=Jc(Va,pb,Cb),1E-12>Ob)?[NaN,NaN]:[Pe(pb,Va)*Td,F(Cb/Ob)*Td]};g.geoCircle=function(){function Va(){var S=pb.apply(this,arguments),ma=
Cb.apply(this,arguments)*Zd,La=Ob.apply(this,arguments)*Zd;bc=[];Mc=Ea(-S[0]*Zd,-S[1]*Zd,0).invert;fa(w,ma,La,1);S={type:"Polygon",coordinates:[bc]};bc=Mc=null;return S}var pb=sa([0,0]),Cb=sa(90),Ob=sa(6),bc,Mc,w={point:function(S,ma){bc.push(S=Mc(S,ma));S[0]*=Td;S[1]*=Td}};Va.center=function(S){return arguments.length?(pb="function"===typeof S?S:sa([+S[0],+S[1]]),Va):pb};Va.radius=function(S){return arguments.length?(Cb="function"===typeof S?S:sa(+S),Va):Cb};Va.precision=function(S){return arguments.length?
(Ob="function"===typeof S?S:sa(+S),Va):Ob};return Va};g.geoClipAntimeridian=id;g.geoClipCircle=lb;g.geoClipExtent=function(){var Va=0,pb=0,Cb=960,Ob=500,bc,Mc,w;return w={stream:function(S){return bc&&Mc===S?bc:bc=nb(Va,pb,Cb,Ob)(Mc=S)},extent:function(S){return arguments.length?(Va=+S[0][0],pb=+S[0][1],Cb=+S[1][0],Ob=+S[1][1],bc=Mc=null,w):[[Va,pb],[Cb,Ob]]}}};g.geoClipRectangle=nb;g.geoConicConformal=function(){return wc(me).scale(109.5).parallels([30,30])};g.geoConicConformalRaw=me;g.geoConicEqualArea=
nd;g.geoConicEqualAreaRaw=ad;g.geoConicEquidistant=function(){return wc(Ze).scale(131.154).center([0,13.9389])};g.geoConicEquidistantRaw=Ze;g.geoContains=function(Va,pb){return(Va&&pe.hasOwnProperty(Va.type)?pe[Va.type]:jb)(Va,pb)};g.geoDistance=kc;g.geoEqualEarth=function(){return Ic(hf).scale(177.158)};g.geoEqualEarthRaw=hf;g.geoEquirectangular=function(){return Ic(ff).scale(152.63)};g.geoEquirectangularRaw=ff;g.geoGnomonic=function(){return Ic(Vd).scale(144.049).clipAngle(60)};g.geoGnomonicRaw=
Vd;g.geoGraticule=Uc;g.geoGraticule10=function(){return Uc()()};g.geoIdentity=function(){function Va(){ec=Cb*Mc;Wb=Cb*w;zd=qd=null;return pb}function pb(bd){var Kc=bd[0]*ec;bd=bd[1]*Wb;if(S){var ud=bd*ma-Kc*La;Kc=Kc*ma+bd*La;bd=ud}return[Kc+Ob,bd+bc]}var Cb=1,Ob=0,bc=0,Mc=1,w=1,S=0,ma,La,gb=null,mb,tb,Rb,ec=1,Wb=1,Pc=jc({point:function(bd,Kc){bd=pb([bd,Kc]);this.stream.point(bd[0],bd[1])}}),ed=Je,zd,qd;pb.invert=function(bd){var Kc=bd[0]-Ob;bd=bd[1]-bc;if(S){var ud=bd*ma+Kc*La;Kc=Kc*ma-bd*La;bd=ud}return[Kc/
ec,bd/Wb]};pb.stream=function(bd){return zd&&qd===bd?zd:zd=Pc(ed(qd=bd))};pb.postclip=function(bd){return arguments.length?(ed=bd,gb=mb=tb=Rb=null,Va()):ed};pb.clipExtent=function(bd){return arguments.length?(ed=null==bd?(gb=mb=tb=Rb=null,Je):nb(gb=+bd[0][0],mb=+bd[0][1],tb=+bd[1][0],Rb=+bd[1][1]),Va()):null==gb?null:[[gb,mb],[tb,Rb]]};pb.scale=function(bd){return arguments.length?(Cb=+bd,Va()):Cb};pb.translate=function(bd){return arguments.length?(Ob=+bd[0],bc=+bd[1],Va()):[Ob,bc]};pb.angle=function(bd){return arguments.length?
(S=bd%360*Zd,La=hc(S),ma=Qd(S),Va()):S*Td};pb.reflectX=function(bd){return arguments.length?(Mc=bd?-1:1,Va()):0>Mc};pb.reflectY=function(bd){return arguments.length?(w=bd?-1:1,Va()):0>w};pb.fitExtent=function(bd,Kc){return ob(pb,bd,Kc)};pb.fitSize=function(bd,Kc){return ob(pb,[[0,0],bd],Kc)};pb.fitWidth=function(bd,Kc){return Db(pb,bd,Kc)};pb.fitHeight=function(bd,Kc){return Vb(pb,bd,Kc)};return pb};g.geoInterpolate=function(Va,pb){var Cb=Va[0]*Zd,Ob=Va[1]*Zd;Va=pb[0]*Zd;pb=pb[1]*Zd;var bc=Qd(Ob),
Mc=hc(Ob),w=Qd(pb),S=hc(pb),ma=bc*Qd(Cb),La=bc*hc(Cb),gb=w*Qd(Va),mb=w*hc(Va),tb=2*F(re(O(pb-Ob)+bc*w*O(Va-Cb))),Rb=hc(tb);Va=tb?function(ec){var Wb=hc(ec*=tb)/Rb,Pc=hc(tb-ec)/Rb;ec=Pc*ma+Wb*gb;var ed=Pc*La+Wb*mb;Wb=Pc*Mc+Wb*S;return[Pe(ed,ec)*Td,Pe(Wb,re(ec*ec+ed*ed))*Td]}:function(){return[Cb*Td,Ob*Td]};Va.distance=tb;return Va};g.geoLength=lc;g.geoMercator=function(){return Ce(ae).scale(961/Ge)};g.geoMercatorRaw=ae;g.geoNaturalEarth1=function(){return Ic(ge).scale(175.295)};g.geoNaturalEarth1Raw=
ge;g.geoOrthographic=function(){return Ic(yf).scale(249.5).clipAngle(90.000001)};g.geoOrthographicRaw=yf;g.geoPath=function(Va,pb){function Cb(w){w&&("function"===typeof Ob&&Mc.pointRadius(+Ob.apply(this,arguments)),h(w,bc(Mc)));return Mc.result()}var Ob=4.5,bc,Mc;Cb.area=function(w){h(w,bc(Rf));return Rf.result()};Cb.measure=function(w){h(w,bc(Kd));return Kd.result()};Cb.bounds=function(w){h(w,bc(Sa));return Sa.result()};Cb.centroid=function(w){h(w,bc(yb));return yb.result()};Cb.projection=function(w){return arguments.length?
(bc=null==w?(Va=null,Je):(Va=w).stream,Cb):Va};Cb.context=function(w){if(!arguments.length)return pb;Mc=null==w?(pb=null,new Jb):new Ja(pb=w);"function"!==typeof Ob&&Mc.pointRadius(Ob);return Cb};Cb.pointRadius=function(w){if(!arguments.length)return Ob;Ob="function"===typeof w?w:(Mc.pointRadius(+w),+w);return Cb};return Cb.projection(Va).context(pb)};g.geoProjection=Ic;g.geoProjectionMutator=fd;g.geoRotation=ca;g.geoStereographic=function(){return Ic(Ue).scale(250).clipAngle(142)};g.geoStereographicRaw=
Ue;g.geoStream=h;g.geoTransform=function(Va){return{stream:jc(Va)}};g.geoTransverseMercator=function(){var Va=Ce(of),pb=Va.center,Cb=Va.rotate;Va.center=function(Ob){return arguments.length?pb([-Ob[1],Ob[0]]):(Ob=pb(),[Ob[1],-Ob[0]])};Va.rotate=function(Ob){return arguments.length?Cb([Ob[0],Ob[1],2<Ob.length?Ob[2]+90:90]):(Ob=Cb(),[Ob[0],Ob[1],Ob[2]-90])};return Cb([0,0,90]).scale(159.155)};g.geoTransverseMercatorRaw=of;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[40]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E,B(39),B(15)):"function"===typeof define&&define.amd?define(["exports","d3-geo","d3-array"],m):m(g.d3=g.d3||{},g.d3,g.d3)})(this,function(g,m,n){function F(wa){return 1<wa?Ya:-1>wa?-Ya:Math.asin(wa)}function O(wa){return 1<wa?0:-1>wa?Ba:Math.acos(wa)}function x(wa){return 0<wa?Math.sqrt(wa):0}function y(wa){return(De(wa)-De(-wa))/2}function q(wa){return(De(wa)+De(-wa))/2}function l(wa){function ya(fb,
hb){var sb=hc(fb),Gb=hc(hb);hb=Bc(hb);sb*=Gb;sb=-((1-sb?gf((1+sb)/2)/(1-sb):-.5)+Sa/(1+sb));return[sb*Gb*Bc(fb),sb*hb]}var Na=xa(wa/2),Sa=2*gf(hc(wa/2))/(Na*Na);ya.invert=function(fb,hb){var sb=x(fb*fb+hb*hb),Gb=-wa/2,Bb=50;if(!sb)return[0,0];do{var Nb=Gb/2;var Mb=hc(Nb);Nb=Bc(Nb);var dc=Nb/Mb,uc=-gf(Jc(Mb));Gb-=Mb=(2/dc*uc-Sa*dc-sb)/(-uc/(Nb*Nb)+1-Sa/(2*Mb*Mb))*(0>Mb?.7:1)}while(1E-6<Jc(Mb)&&0<--Bb);Bb=Bc(Gb);return[je(fb*Bb,sb*hc(Gb)),F(hb*Bb/sb)]};return ya}function h(wa,ya){var Na=hc(ya);var Sa=
(Sa=O(Na*hc(wa/=2)))?Sa/Math.sin(Sa):1;return[2*Na*Bc(wa)*Sa,Bc(ya)*Sa]}function c(wa){function ya(Gb,Bb){var Nb=hc(Bb),Mb=hc(Gb/=2);return[(1+Nb)*Bc(Gb),(fb*Bb>-je(Mb,hb)-.001?0:10*-fb)+sb+Bc(Bb)*Sa-(1+Nb)*Na*Mb]}var Na=Bc(wa),Sa=hc(wa),fb=0<=wa?1:-1,hb=xa(fb*wa),sb=(1+Na-Sa)/2;ya.invert=function(Gb,Bb){var Nb=0,Mb=0,dc=50;do{var uc=hc(Nb),Y=Bc(Nb),oa=hc(Mb),Pa=Bc(Mb),Ua=1+oa,yb=Ua*Y-Gb,Tb=sb+Pa*Sa-Ua*Na*uc-Bb,Zb=Ua*uc/2,rc=-Y*Pa;Y=Na*Ua*Y/2;oa=Sa*oa+Na*uc*Pa;uc=rc*Y-oa*Zb;rc=(Tb*rc-yb*oa)/uc/2;
yb=(yb*Y-Tb*Zb)/uc;2<Jc(yb)&&(yb/=2);Nb-=rc;Mb-=yb}while((1E-6<Jc(rc)||1E-6<Jc(yb))&&0<--dc);return fb*Mb>-je(hc(Nb),hb)-.001?[2*Nb,Mb]:null};return ya}function e(wa,ya){ya=xa(ya/2);var Na=x(1-ya*ya),Sa=1+Na*hc(wa/=2);wa=Bc(wa)*Na/Sa;ya/=Sa;Sa=wa*wa;Na=ya*ya;return[4/3*wa*(3+Sa-3*Na),4/3*ya*(3+3*Sa-Na)]}function a(wa,ya){var Na=Jc(ya);return Na<Hb?[wa,gf(xa(Hb+ya/2))]:[wa*hc(Na)*(2*Xb-1/Bc(Na)),Ae(ya)*(2*Xb*(Na-Hb)-gf(xa(Na/2)))]}function f(wa){function ya(Sa,fb){fb=m.geoAzimuthalEquidistantRaw(Sa,
fb);if(Jc(Sa)>Ya){Sa=je(fb[1],fb[0]);var hb=x(fb[0]*fb[0]+fb[1]*fb[1]),sb=Na*Jf((Sa-Ya)/Na)+Ya,Gb=je(Bc(Sa-=sb),2-hc(Sa));Sa=sb+F(Ba/hb*Bc(Gb))-Gb;fb[0]=hb*hc(Sa);fb[1]=hb*Bc(Sa)}return fb}var Na=2*Ba/wa;ya.invert=function(Sa,fb){var hb=x(Sa*Sa+fb*fb);if(hb>Ya){var sb=je(fb,Sa);Sa=Na*Jf((sb-Ya)/Na)+Ya;fb=sb>Sa?-1:1;sb=hb*hc(Sa-sb);sb=1/xa(fb*O((sb-Ba)/x(Ba*(Ba-2*sb)+hb*hb)));sb=Sa+2*xe((sb+fb*x(sb*sb-3))/3);Sa=hb*hc(sb);fb=hb*Bc(sb)}return m.geoAzimuthalEquidistantRaw.invert(Sa,fb)};return ya}function p(wa,
ya){function Na(Sa,fb){Sa=m.geoAzimuthalEqualAreaRaw(Sa/ya,fb);Sa[0]*=wa;return Sa}2>arguments.length&&(ya=wa);if(1===ya)return m.geoAzimuthalEqualAreaRaw;if(Infinity===ya)return A;Na.invert=function(Sa,fb){Sa=m.geoAzimuthalEqualAreaRaw.invert(Sa/wa,fb);Sa[0]*=ya;return Sa};return Na}function A(wa,ya){return[wa*hc(ya)/hc(ya/=2),2*Bc(ya)]}function C(wa,ya,Na){var Sa=100;Na=void 0===Na?0:+Na;ya=+ya;do{var fb=wa(Na);var hb=wa(Na+1E-6);fb===hb&&(hb=fb+1E-6);Na-=fb=-1E-6*(fb-ya)/(fb-hb)}while(0<Sa--&&
1E-6<Jc(fb));return 0>Sa?NaN:Na}function D(wa,ya,Na){void 0===ya&&(ya=40);void 0===Na&&(Na=1E-12);return function(Sa,fb,hb,sb){hb=void 0===hb?0:+hb;sb=void 0===sb?0:+sb;for(var Gb=0;Gb<ya;Gb++){var Bb=wa(hb,sb),Nb=Bb[0]-Sa,Mb=Bb[1]-fb;if(Jc(Nb)<Na&&Jc(Mb)<Na)break;var dc=Nb*Nb+Mb*Mb;if(dc>uc)hb-=oa/=2,sb-=Ua/=2;else{var uc=dc;dc=(0<hb?-1:1)*Na;var Y=(0<sb?-1:1)*Na;var oa=wa(hb+dc,sb);var Pa=wa(hb,sb+Y);var Ua=(oa[0]-Bb[0])/dc;dc=(oa[1]-Bb[1])/dc;oa=(Pa[0]-Bb[0])/Y;Bb=(Pa[1]-Bb[1])/Y;Y=Bb*Ua-dc*oa;
Y=(.5>Jc(Y)?.5:1)/Y;oa=(Mb*oa-Nb*Bb)*Y;Ua=(Nb*dc-Mb*Ua)*Y;hb+=oa;sb+=Ua;if(Jc(oa)<Na&&Jc(Ua)<Na)break}}return[hb,sb]}}function P(){function wa(Na,Sa){if(-1.4>Na+Sa){var fb=(Na-Sa+1.6)*(Na+Sa+1.4)/8;Na+=fb;Sa-=.8*fb*Bc(Sa+Ba/2)}fb=ya(Na,Sa);Na=(1-hc(Na*Sa))/12;0>fb[1]&&(fb[0]*=1+Na);0<fb[1]&&(fb[1]*=1+Na/1.5*fb[0]*fb[0]);return fb}var ya=p(1.68,2);wa.invert=D(wa);return wa}function L(wa,ya){wa*=Bc(ya);var Na=30,Sa;do ya-=Sa=(ya+Bc(ya)-wa)/(1+hc(ya));while(1E-6<Jc(Sa)&&0<--Na);return ya/2}function G(wa,
ya,Na){function Sa(fb,hb){return[wa*fb*hc(hb=L(Na,hb)),ya*Bc(hb)]}Sa.invert=function(fb,hb){return hb=F(hb/ya),[fb/(wa*hc(hb)),F((2*hb+Bc(2*hb))/Na)]};return Sa}function z(wa,ya){var Na=L(Ba,ya);return[2.00276*wa/(1/hc(ya)+1.11072/hc(Na)),(ya+Xb*Bc(Na))/2.00276]}function J(wa){var ya=0,Na=m.geoProjectionMutator(wa);wa=Na(ya);wa.parallel=function(Sa){return arguments.length?Na(ya=Sa*Qc):ya*ld};return wa}function K(wa,ya){return[wa*hc(ya),ya]}function R(wa){function ya(Sa,fb){var hb=Na+wa-fb;Sa=hb?
Sa*hc(fb)/hb:hb;return[hb*Bc(Sa),Na-hb*hc(Sa)]}if(!wa)return K;var Na=1/xa(wa);ya.invert=function(Sa,fb){var hb=x(Sa*Sa+(fb=Na-fb)*fb),sb=Na+wa-hb;return[hb/hc(sb)*je(Sa,fb),sb]};return ya}function U(wa){function ya(Na,Sa){Na=(Sa=Ya-Sa)?Na*wa*Bc(Sa)/Sa:Sa;return[Sa*Bc(Na)/wa,Ya-Sa*hc(Na)]}ya.invert=function(Na,Sa){Na*=wa;var fb=Ya-Sa;Sa=x(Na*Na+fb*fb);Na=je(Na,fb);return[(Sa?Sa/Bc(Sa):1)*Na/wa,Ya-Sa]};return ya}function ka(wa,ya,Na,Sa,fb,hb){var sb=hc(hb);if(1<Jc(wa)||1<Jc(hb))wa=O(Na*fb+ya*Sa*sb);
else{wa=Bc(wa/2);var Gb=Bc(hb/2);wa=2*F(x(wa*wa+ya*Sa*Gb*Gb))}return 1E-6<Jc(wa)?[wa,je(Sa*Bc(hb),ya*fb-Na*Sa*sb)]:[0,0]}function ba(wa,ya,Na){return O((wa*wa+ya*ya-Na*Na)/(2*wa*ya))}function da(wa,ya,Na){var Sa=[[wa[0],wa[1],Bc(wa[1]),hc(wa[1])],[ya[0],ya[1],Bc(ya[1]),hc(ya[1])],[Na[0],Na[1],Bc(Na[1]),hc(Na[1])]];wa=Sa[2];for(Na=0;3>Na;++Na,wa=ya)ya=Sa[Na],wa.v=ka(ya[1]-wa[1],wa[3],wa[2],ya[3],ya[2],ya[0]-wa[0]),wa.point=[0,0];wa=ba(Sa[0].v[0],Sa[2].v[0],Sa[1].v[0]);var fb=ba(Sa[0].v[0],Sa[1].v[0],
Sa[2].v[0]),hb=Ba-wa;Sa[2].point[1]=0;Sa[0].point[0]=-(Sa[1].point[0]=Sa[0].v[0]/2);var sb=[Sa[2].point[0]=Sa[0].point[0]+Sa[2].v[0]*hc(wa),2*(Sa[0].point[1]=Sa[1].point[1]=Sa[2].v[0]*Bc(wa))];return function(Gb,Bb){var Nb=Bc(Bb),Mb=hc(Bb),dc=Array(3),uc;for(uc=0;3>uc;++uc){var Y=Sa[uc];dc[uc]=ka(Bb-Y[1],Y[3],Y[2],Mb,Nb,Gb-Y[0]);if(!dc[uc][0])return Y.point;var oa=dc[uc];Y=dc[uc][1]-Y.v[1];Y-=2*Ba*re((Y+Ba)/(2*Ba));oa[1]=Y}Gb=sb.slice();for(uc=0;3>uc;++uc)Bb=ba(Sa[uc].v[0],dc[uc][0],dc[2==uc?0:uc+
1][0]),0>dc[uc][1]&&(Bb=-Bb),uc?1==uc?(Bb=fb-Bb,Gb[0]-=dc[uc][0]*hc(Bb),Gb[1]-=dc[uc][0]*Bc(Bb)):(Bb=hb-Bb,Gb[0]+=dc[uc][0]*hc(Bb),Gb[1]+=dc[uc][0]*Bc(Bb)):(Gb[0]+=dc[uc][0]*hc(Bb),Gb[1]-=dc[uc][0]*Bc(Bb));Gb[0]/=3;Gb[1]/=3;return Gb}}function ja(wa){return wa[0]*=Qc,wa[1]*=Qc,wa}function Z(wa,ya,Na){var Sa=m.geoCentroid({type:"MultiPoint",coordinates:[wa,ya,Na]});Sa=[-Sa[0],-Sa[1]];var fb=m.geoRotation(Sa);wa=da(ja(fb(wa)),ja(fb(ya)),ja(fb(Na)));wa.invert=D(wa);wa=m.geoProjection(wa).rotate(Sa);
var hb=wa.center;delete wa.rotate;wa.center=function(sb){return arguments.length?hb(fb(sb)):fb.invert(hb())};return wa.clipAngle(90)}function Q(wa,ya){ya=x(1-Bc(ya));return[2/xc*wa*ya,xc*(1-ya)]}function r(wa){function ya(Sa,fb){return[Sa,(Sa?Sa/Bc(Sa):1)*(Bc(fb)*hc(Sa)-Na*hc(fb))]}var Na=xa(wa);ya.invert=Na?function(Sa,fb){Sa&&(fb*=Bc(Sa)/Sa);var hb=hc(Sa);return[Sa,2*je(x(hb*hb+Na*Na-fb*fb)-hb,Na-fb)]}:function(Sa,fb){return[Sa,F(Sa?fb*xa(Sa)/Sa:fb)]};return ya}function N(wa,ya){return[Rd*wa*(2*
hc(2*ya/3)-1)/xc,Rd*xc*Bc(ya/3)]}function ea(wa){function ya(Sa,fb){return[Sa*Na,Bc(fb)/Na]}var Na=hc(wa);ya.invert=function(Sa,fb){return[Sa/Na,F(fb*Na)]};return ya}function aa(wa){function ya(Sa,fb){return[Sa*Na,(1+Na)*xa(fb/2)]}var Na=hc(wa);ya.invert=function(Sa,fb){return[Sa/Na,2*xe(fb/(1+Na))]};return ya}function va(wa,ya){var Na=x(8/(3*Ba));return[Na*wa*(1-Jc(ya)/Ba),Na*ya]}function ta(wa,ya){var Na=x(4-3*Bc(Jc(ya)));return[2/x(6*Ba)*wa*Na,Ae(ya)*x(2*Ba/3)*(2-Na)]}function Da(wa,ya){var Na=
x(Ba*(4+Ba));return[2/Na*wa*(1+x(1-4*ya*ya/(Ba*Ba))),4/Na*ya]}function $a(wa,ya){var Na=(2+Ya)*Bc(ya);ya/=2;for(var Sa=0,fb=Infinity;10>Sa&&1E-6<Jc(fb);Sa++)fb=hc(ya),ya-=fb=(ya+Bc(ya)*(fb+2)-Na)/(2*fb*(1+fb));return[2/x(Ba*(4+Ba))*wa*(1+hc(ya)),2*x(Ba/(4+Ba))*Bc(ya)]}function kb(wa,ya){return[wa*(1+hc(ya))/x(2+Ba),2*ya/x(2+Ba)]}function sa(wa,ya){for(var Na=(1+Ya)*Bc(ya),Sa=0,fb=Infinity;10>Sa&&1E-6<Jc(fb);Sa++)ya-=fb=(ya+Bc(ya)-Na)/(1+hc(ya));Na=x(2+Ba);return[wa*(1+hc(ya))/Na,2*ya/Na]}function Ta(wa,
ya){var Na=Bc(wa/=2);wa=hc(wa);var Sa=x(hc(ya)),fb=hc(ya/=2);ya=Bc(ya)/(fb+Xb*wa*Sa);var hb=x(2/(1+ya*ya));Na=x((Xb*fb+(wa+Na)*Sa)/(Xb*fb+(wa-Na)*Sa));return[kd*(hb*(Na-1/Na)-2*gf(Na)),kd*(hb*ya*(Na+1/Na)-2*xe(ya))]}function Wa(wa,ya){ya=xa(ya/2);return[wa*lf*x(1-ya*ya),(1+lf)*ya]}function Ea(wa,ya){var Na=ya/2,Sa=hc(Na);return[2*wa/xc*hc(ya)*Sa*Sa,xc*xa(Na)]}function ua(wa){function ya(Bb,Nb){var Mb=hc(Nb),dc=Bc(Nb);return[Mb/(fb+wa*Mb)*Bb,fb*Nb+wa*dc]}function Na(Bb,Nb){Bb=ya(Bb,Nb);return[Bb[0]*
Gb,Bb[1]/Gb]}function Sa(Bb){return Na(0,Bb)[1]}var fb=1-wa,hb=ya(Ba,0)[0]-ya(-Ba,0)[0],sb=ya(0,Ya)[1]-ya(0,-Ya)[1],Gb=x(2*sb/hb);Na.invert=function(Bb,Nb){Nb=C(Sa,Nb);return[Bb/Gb*(wa+fb/hc(Nb)),Nb]};return Na}function V(wa){return[2*wa[0],2*xe(Bc(wa[1]*Qc))*ld]}function W(wa,ya){function Na(hb,sb){hb=m.geoAzimuthalEquidistantRaw(hb,sb);sb=hb[0];var Gb=hb[1],Bb=sb*sb+Gb*Gb;if(Bb>fb){var Nb=x(Bb);sb=je(Gb,sb);Bb=Sa*Jf(sb/Sa);Gb=sb-Bb;var Mb=wa*hc(Gb),dc=(wa*Bc(Gb)-Gb*Bc(Mb))/(Ya-Mb),uc=ca(Gb,dc),
Y=(Ba-wa)/fa(uc,Mb,Ba);sb=Nb;var oa=50,Pa;do sb-=Pa=(wa+fa(uc,Mb,sb)*Y-Nb)/(uc(sb)*Y);while(1E-6<Jc(Pa)&&0<--oa);Gb*=Bc(sb);sb<Ya&&(Gb-=dc*(sb-Ya));Nb=Bc(Bb);Bb=hc(Bb);hb[0]=sb*Bb-Gb*Nb;hb[1]=sb*Nb+Gb*Bb}return hb}var Sa=2*Ba/ya,fb=wa*wa;Na.invert=function(hb,sb){var Gb=hb*hb+sb*sb;if(Gb>fb){var Bb=x(Gb);sb=je(sb,hb);Gb=Sa*Jf(sb/Sa);sb-=Gb;hb=Bb*hc(sb);sb=Bb*Bc(sb);Bb=hb-Ya;for(var Nb=Bc(hb),Mb=sb/Nb,dc=hb<Ya?Infinity:0,uc=10;;){var Y=wa*Bc(Mb),oa=wa*hc(Mb),Pa=Bc(oa),Ua=Ya-oa,yb=(Y-Mb*Pa)/Ua,Tb=ca(Mb,
yb);if(1E-12>Jc(dc)||!--uc)break;Mb-=dc=(Mb*Nb-yb*Bb-sb)/(Nb-2*Bb*(Ua*(oa+Mb*Y*hc(oa)-Pa)-Y*(Y-Mb*Pa))/(Ua*Ua))}Bb=wa+fa(Tb,oa,hb)*(Ba-wa)/fa(Tb,oa,Ba);sb=Gb+Mb;hb=Bb*hc(sb);sb=Bb*Bc(sb)}return m.geoAzimuthalEquidistantRaw.invert(hb,sb)};return Na}function ca(wa,ya){return function(Na){var Sa=wa*hc(Na);Na<Ya&&(Sa-=ya);return x(1+Sa*Sa)}}function fa(wa,ya,Na){var Sa=(Na-ya)/50;Na=wa(ya)+wa(Na);for(var fb=1;50>fb;++fb)Na+=2*wa(ya+=Sa);return.5*Na*Sa}function qa(wa,ya,Na,Sa,fb,hb,sb,Gb){function Bb(Nb,
Mb){if(!Mb)return[wa*Nb/Ba,0];var dc=Mb*Mb,uc=wa+dc*(ya+dc*(Na+dc*Sa)),Y=Mb*(fb-1+dc*(hb-Gb+dc*sb));Y=(uc*uc+Y*Y)/(2*Y);Nb=Nb*F(uc/Y)/Ba;return[Y*Bc(Nb),Mb*(1+dc*Gb)+Y*(1-hc(Nb))]}8>arguments.length&&(Gb=0);Bb.invert=function(Nb,Mb){var dc=Ba*Nb/wa,uc=Mb,Y=50;do{var oa=uc*uc,Pa=wa+oa*(ya+oa*(Na+oa*Sa)),Ua=uc*(fb-1+oa*(hb-Gb+oa*sb)),yb=Pa*Pa+Ua*Ua,Tb=2*Ua;var Zb=yb/Tb;var rc=Zb*Zb;var Gc=F(Pa/Zb)/Ba;var dd=dc*Gc,Zc=Pa*Pa,Kd=(2*ya+oa*(4*Na+6*oa*Sa))*uc,Ud=fb+oa*(3*hb+5*oa*sb);Ua=(2*(Pa*Kd+Ua*(Ud-1))*
Tb-2*yb*(Ud-1))/(Tb*Tb);yb=hc(dd);Ud=Bc(dd);Tb=Zb*yb;dd=Zb*Ud;rc=dc/Ba*(1/x(1-Zc/rc))*(Kd*Zb-Pa*Ua)/rc;Pa=dd-Nb;oa=uc*(1+oa*Gb)+Zb-Tb-Mb;Zb=Ua*Ud+Tb*rc;Zc=Tb*Gc;Ua=1+Ua-(Ua*yb-dd*rc);Gc*=dd;yb=Zb*Gc-Ua*Zc;if(!yb)break;dc-=Zb=(oa*Zb-Pa*Ua)/yb;uc-=Gc=(Pa*Gc-oa*Zc)/yb}while((1E-6<Jc(Zb)||1E-6<Jc(Gc))&&0<--Y);return[dc,uc]};return Bb}function pa(wa,ya){var Na=wa*wa,Sa=ya*ya;return[wa*(1-.162388*Sa)*(.87-9.52426E-4*Na*Na),ya*(1+Sa/12)]}function Ga(wa){function ya(Sa,fb){var hb=0<Sa?-.5:.5;Sa=wa(Sa+hb*
Ba,fb);Sa[0]-=hb*Na;return Sa}var Na=wa(Ya,0)[0]-wa(-Ya,0)[0];wa.invert&&(ya.invert=function(Sa,fb){var hb=0<Sa?-.5:.5;Sa=wa.invert(Sa+hb*Na,fb);hb=Sa[0]-hb*Ba;hb<-Ba?hb+=2*Ba:hb>Ba&&(hb-=2*Ba);Sa[0]=hb;return Sa});return ya}function na(wa,ya){var Na=Ae(wa),Sa=Ae(ya),fb=hc(ya),hb=hc(wa)*fb;wa=Bc(wa)*fb;ya=Bc(Sa*ya);wa=Jc(je(wa,ya));ya=F(hb);1E-6<Jc(wa-Ya)&&(wa%=Ya);hb=Oa(wa>Ba/4?Ya-wa:wa,ya);wa>Ba/4&&(ya=hb[0],hb[0]=-hb[1],hb[1]=-ya);return hb[0]*=Na,hb[1]*=-Sa,hb}function Oa(wa,ya){if(ya===Ya)return[0,
0];var Na=Bc(ya),Sa=Na*Na,fb=Sa*Sa,hb=1+fb,sb=1+3*fb,Gb=1-fb,Bb=F(1/x(hb)),Nb=Gb+Sa*hb*Bb,Mb=(1-Na)/Nb,dc=x(Mb),uc=Mb*hb,Y=x(uc),oa=dc*Gb;if(0===wa)return[0,-(oa+Sa*Y)];var Pa=hc(ya),Ua=1/Pa,yb=2*Na*Pa;Bb=(-Nb*Pa-(1-Na)*(-3*Sa+Bb*sb)*yb)/(Nb*Nb);Na=-Ua*yb;hb=-Ua*(Sa*hb*Bb+Mb*sb*yb);Gb=-2*Ua*(.5*Bb/dc*Gb-2*Sa*dc*yb);dc=4*wa/Ba;if(wa>.222*Ba||ya<Ba/4&&wa>.175*Ba){ya=(oa+Sa*x(uc*(1+fb)-oa*oa))/(1+fb);if(wa>Ba/4)return[ya,ya];fb=ya;Ua=.5*ya;ya=.5*(Ua+fb);wa=50;do{yb=x(uc-ya*ya);yb=ya*(Gb+Na*yb)+hb*F(ya/
Y)-dc;if(!yb)break;0>yb?Ua=ya:fb=ya;ya=.5*(Ua+fb)}while(1E-6<Jc(fb-Ua)&&0<--wa)}else{ya=1E-6;wa=25;do yb=ya*ya,fb=x(uc-yb),sb=Gb+Na*fb,Ua=ya*sb+hb*F(ya/Y)-dc,yb=sb+(hb-Na*yb)/fb,ya-=fb=fb?Ua/yb:0;while(1E-6<Jc(fb)&&0<--wa)}return[ya,-oa-Sa*x(uc-ya*ya)]}function cb(wa,ya){if(1E-6>ya){var Na=Bc(wa);var Sa=hc(wa);var fb=ya*(wa-Na*Sa)/4;return[Na-fb*Sa,Sa+fb*Na,1-ya*Na*Na/2,wa-fb]}if(.999999<=ya){fb=(1-ya)/4;Sa=q(wa);Na=De(2*wa);Na=(Na-1)/(Na+1);ya=1/Sa;var hb=Sa*y(wa);return[Na+fb*(hb-wa)/(Sa*Sa),ya-
fb*Na*ya*(hb-wa),ya+fb*Na*ya*(hb+wa),2*xe(De(wa))-Ya+fb*(hb-wa)/Sa]}var sb=[1,0,0,0,0,0,0,0,0],Gb=[x(ya),0,0,0,0,0,0,0,0],Bb=0;Sa=x(1-ya);for(hb=1;1E-6<Jc(Gb[Bb]/sb[Bb])&&8>Bb;)fb=sb[Bb++],Gb[Bb]=(fb-Sa)/2,sb[Bb]=(fb+Sa)/2,Sa=x(fb*Sa),hb*=2;ya=hb*sb[Bb]*wa;do Na=Gb[Bb]*Bc(Sa=ya)/sb[Bb],ya=(F(Na)+ya)/2;while(--Bb);return[Bc(ya),Na=hc(ya),Na/hc(ya-Sa),ya]}function Za(wa,ya){if(!ya)return wa;if(1===ya)return gf(xa(wa/2+Hb));var Na=1,Sa=x(1-ya),fb=x(ya);for(ya=0;1E-6<Jc(fb);ya++)wa%Ba?(fb=xe(Sa*xa(wa)/
Na),0>fb&&(fb+=Ba),wa+=fb+~~(wa/Ba)*Ba):wa+=wa,fb=(Na+Sa)/2,Sa=x(Na*Sa),fb=((Na=fb)-Sa)/2;return wa/(Qf(2,ya)*Na)}function Aa(wa,ya){var Na=(Xb-1)/(Xb+1),Sa=x(1-Na*Na),fb=Za(Ya,Sa*Sa),hb=gf(xa(Ba/4+Jc(ya)/2));hb=De(-1*hb)/x(Na);Na=hb*hc(-1*wa);var sb=hb*Bc(-1*wa);wa=Na*Na;hb=sb+1;sb=1-wa-sb*sb;wa=[.5*((0<=Na?Ya:-Ya)-je(sb,2*Na)),-.25*gf(sb*sb+4*wa)+.5*gf(hb*hb+wa)];Na=wa[0];wa=wa[1];Sa*=Sa;hb=Jc(Na);sb=Jc(wa);sb=y(sb);if(hb){var Gb=1/Bc(hb);hb=1/(xa(hb)*xa(hb));sb=-(hb+Sa*sb*sb*Gb*Gb-1+Sa);sb=(-sb+
x(sb*sb-4*(Sa-1)*hb))/2;Sa=[Za(xe(1/x(sb)),Sa)*Ae(Na),Za(xe(x((sb/hb-1)/Sa)),1-Sa)*Ae(wa)]}else Sa=[0,Za(xe(sb),1-Sa)*Ae(wa)];return[-Sa[1],(0<=ya?1:-1)*(.5*fb-Sa[0])]}function Fa(wa){function ya(hb,sb){var Gb=fb(hb,sb);hb=Gb[0];sb=Gb[1];Gb=Bc(sb);sb=hc(sb);var Bb=hc(hb),Nb=O(Na*Gb+Sa*sb*Bb),Mb=Bc(Nb);Nb=1E-6<Jc(Mb)?Nb/Mb:1;return[Nb*Sa*Bc(hb),(Jc(hb)>Ya?Nb:-Nb)*(Na*sb-Sa*Gb*Bb)]}var Na=Bc(wa),Sa=hc(wa),fb=Ra(wa);fb.invert=Ra(-wa);ya.invert=function(hb,sb){var Gb=x(hb*hb+sb*sb),Bb=-Bc(Gb),Nb=hc(Gb),
Mb=Gb*Nb,dc=-sb*Bb,uc=Gb*Na,Y=x(Mb*Mb+dc*dc-uc*uc);Mb=je(Mb*uc+dc*Y,dc*uc-Mb*Y);hb=(Gb>Ya?-1:1)*je(hb*Bb,Gb*hc(Mb)*Nb+sb*Bc(Mb)*Bb);return fb.invert(hb,Mb)};return ya}function Ra(wa){var ya=Bc(wa),Na=hc(wa);return function(Sa,fb){var hb=hc(fb),sb=hc(Sa)*hb;Sa=Bc(Sa)*hb;fb=Bc(fb);return[je(Sa,sb*Na-fb*ya),F(fb*Na+sb*ya)]}}function ab(wa){function ya(Mb,dc){var uc=Jc(dc);if(uc>Na){var Y=If(wa-1,Hf(0,re((Mb+Ba)/Gb)));Mb+=Ba*(wa-1)/wa-Y*Gb;Mb=Q(Mb,uc);Mb[0]=Mb[0]*Oc/Sa-Oc*(wa-1)/(2*wa)+Y*Oc/wa;Mb[1]=
fb+4*(Mb[1]-hb)*sb/Oc;0>dc&&(Mb[1]=-Mb[1])}else Mb=zf(Mb,dc);Mb[0]*=Bb;Mb[1]/=Nb;return Mb}var Na=Xe*Qc,Sa=Q(Ba,Na)[0]-Q(-Ba,Na)[0],fb=zf(0,Na)[1],hb=Q(0,Na)[1],sb=xc-hb,Gb=Oc/wa,Bb=4/Oc,Nb=fb+sb*sb*4/Oc;ya.invert=function(Mb,dc){Mb/=Bb;dc*=Nb;var uc=Jc(dc);if(uc>fb){var Y=If(wa-1,Hf(0,re((Mb+Ba)/Gb)));Mb=(Mb+Ba*(wa-1)/wa-Y*Gb)*Sa/Oc;Mb=Q.invert(Mb,.25*(uc-fb)*Oc/sb+hb);Mb[0]-=Ba*(wa-1)/wa-Y*Gb;0>dc&&(Mb[1]=-Mb[1]);return Mb}return zf.invert(Mb,dc)};return ya}function lb(wa,ya){return[wa,ya&1?89.999999:
Xe]}function Ma(wa,ya){return[wa,ya&1?-89.999999:-Xe]}function nb(wa){return[.999999*wa[0],wa[1]]}function zb(wa){var ya=[].concat(n.range(-180,180+wa/2,wa).map(lb),n.range(180,-180-wa/2,-wa).map(Ma));return{type:"Polygon",coordinates:[180===wa?ya.map(nb):ya]}}function Sb(wa){function ya(Mb,dc){var uc=1-Bc(dc);if(uc&&2>uc){var Y=Ya-dc,oa=25;do{var Pa=Bc(Y);var Ua=hc(Y);dc=fb+je(Pa,Na-Ua);Ua=1+Nb-2*Na*Ua;Y-=Pa=(Y-Bb*fb-Na*Pa+Ua*dc-.5*uc*sb)/(2*Na*Pa*dc)}while(1E-12<Jc(Pa)&&0<--oa);uc=hb*x(Ua);Mb=Mb*
dc/Ba}else uc=hb*(wa+uc),Mb=Mb*fb/Ba;return[uc*Bc(Mb),Gb-uc*hc(Mb)]}var Na=1+wa,Sa=Bc(1/Na),fb=F(Sa),hb=2*x(Ba/(sb=Ba+4*fb*Na)),sb,Gb=.5*hb*(Na+x(wa*(2+wa))),Bb=wa*wa,Nb=Na*Na;ya.invert=function(Mb,dc){var uc=Mb*Mb+(dc-=Gb)*dc;dc=(1+Nb-uc/(hb*hb))/(2*Na);var Y=O(dc),oa=Bc(Y),Pa=fb+je(oa,Na-dc);return[F(Mb/x(uc))*Ba/Pa,F(1-2*(Y-Bb*fb-Na*oa+(1+Nb-2*Na*dc)*Pa)/sb)]};return ya}function vc(wa,ya){return-.7109889596207567<ya?(wa=Od(wa,ya),wa[1]+=.0528035274542,wa):K(wa,ya)}function lc(wa,ya){return.7109889596207567<
Jc(ya)?(wa=Od(wa,ya),wa[1]-=0<ya?.0528035274542:-.0528035274542,wa):K(wa,ya)}function kc(wa,ya,Na,Sa){function fb(dc){return x(1+wa*hc(2*dc)+ya*hc(4*dc))}function hb(dc){dc*=Na;return(2*dc+(1+wa-ya/2)*Bc(2*dc)+(wa+ya)/2*Bc(4*dc)+ya/2*Bc(6*dc))/Na}function sb(dc){return fb(dc)*Bc(dc)}var Gb=x(4*Ba/(2*Na+(1+wa-ya/2)*Bc(2*Na)+(wa+ya)/2*Bc(4*Na)+ya/2*Bc(6*Na))),Bb=x(Sa*Bc(Na)*x((1+wa*hc(2*Na)+ya*hc(4*Na))/(1+wa+ya))),Nb=Na*hb(1),Mb=function(dc,uc){var Y=Na*C(hb,Nb*Bc(uc)/Na,uc/Ba);isNaN(Y)&&(Y=Na*Ae(uc));
uc=Gb*fb(Y);return[uc*Bb*dc/Ba*hc(Y),uc/Bb*Bc(Y)]};Mb.invert=function(dc,uc){uc=C(sb,uc*Bb/Gb);return[dc*Ba/(hc(uc)*Gb*Bb*fb(uc)),F(Na*hb(uc/Na)/Nb)]};0===Na&&(Gb=x(Sa/Ba),Mb=function(dc,uc){return[dc*Gb,Bc(uc)/Gb]},Mb.invert=function(dc,uc){return[dc/Gb,F(uc*Gb)]});return Mb}function jb(wa,ya,Na,Sa,fb,hb,sb,Gb,Bb,Nb,Mb){if(Mb.nanEncountered)return NaN;var dc=Na-ya;var uc=wa(ya+.25*dc);var Y=wa(Na-.25*dc);if(isNaN(uc))Mb.nanEncountered=!0;else if(isNaN(Y))Mb.nanEncountered=!0;else{var oa=dc*(Sa+4*
uc+fb)/12;var Pa=dc*(fb+4*Y+hb)/12;var Ua=oa+Pa;sb=(Ua-sb)/15;if(Nb>Bb)return Mb.maxDepthCount++,Ua+sb;if(Math.abs(sb)<Gb)return Ua+sb;dc=ya+.5*dc;ya=jb(wa,ya,dc,Sa,uc,fb,oa,.5*Gb,Bb,Nb+1,Mb);if(isNaN(ya))return Mb.nanEncountered=!0,NaN;wa=jb(wa,dc,Na,fb,Y,hb,Pa,.5*Gb,Bb,Nb+1,Mb);return isNaN(wa)?(Mb.nanEncountered=!0,NaN):ya+wa}}function $b(wa,ya,Na,Sa,fb){void 0===Sa&&(Sa=1E-8);void 0===fb&&(fb=20);var hb=wa(ya),sb=wa(.5*(ya+Na)),Gb=wa(Na);return jb(wa,ya,Na,hb,sb,Gb,(hb+4*sb+Gb)*(Na-ya)/6,Sa,fb,
1,{maxDepthCount:0,nanEncountered:!1})}function yc(wa,ya,Na){function Sa(Mb){return wa+(1-wa)*Qf(1-Qf(Mb,ya),1/ya)}function fb(Mb){var dc=0,uc=1E3,Y=500;do Gb[Y]>Mb?uc=Y:dc=Y,Y=dc+uc>>1;while(Y>dc);(dc=Gb[Y+1]-Gb[Y])&&(dc=(Mb-Gb[Y+1])/dc);return(Y+1+dc)/1E3}for(var hb=1/$b(Sa,0,1,1E-4),sb=1.00000001*hb,Gb=[],Bb=0;1E3>=Bb;Bb++)Gb.push($b(Sa,0,Bb/1E3,1E-4)*sb);var Nb=2*fb(1)/Ba*hb/Na;Na=function(Mb,dc){var uc=fb(Jc(Bc(dc)));Mb*=Sa(uc);uc/=Nb;return[Mb,0<=dc?uc:-uc]};Na.invert=function(Mb,dc){var uc;
dc*=Nb;1>Jc(dc)&&(uc=Ae(dc)*F($b(Sa,0,Jc(dc),1E-4)*hb));return[Mb/Sa(Jc(dc)),uc]};return Na}function nc(wa,ya){for(var Na=-1,Sa=wa.length,fb=wa[0],hb,sb,Gb,Bb=[];++Na<Sa;){hb=wa[Na];sb=(hb[0]-fb[0])/ya;Gb=(hb[1]-fb[1])/ya;for(var Nb=0;Nb<ya;++Nb)Bb.push([fb[0]+Nb*sb,fb[1]+Nb*Gb]);fb=hb}Bb.push(hb);return Bb}function zc(wa){var ya=[],Na,Sa=wa[0].length;for(Na=0;Na<Sa;++Na){var fb=wa[0][Na];var hb=fb[0][0];var sb=fb[0][1];var Gb=fb[1][1];var Bb=fb[2][0];fb=fb[2][1];ya.push(nc([[hb+1E-6,sb+1E-6],[hb+
1E-6,Gb-1E-6],[Bb-1E-6,Gb-1E-6],[Bb-1E-6,fb+1E-6]],30))}for(Na=wa[1].length-1;0<=Na;--Na)fb=wa[1][Na],hb=fb[0][0],sb=fb[0][1],Gb=fb[1][1],Bb=fb[2][0],fb=fb[2][1],ya.push(nc([[Bb-1E-6,fb-1E-6],[Bb-1E-6,Gb+1E-6],[hb+1E-6,Gb+1E-6],[hb+1E-6,sb-1E-6]],30));return{type:"Polygon",coordinates:[n.merge(ya)]}}function qc(wa,ya,Na){function Sa(Bb,Nb){for(var Mb=0>Nb?-1:1,dc=ya[+(0>Nb)],uc=0,Y=dc.length-1;uc<Y&&Bb>dc[uc][2][0];++uc);Bb=wa(Bb-dc[uc][1][0],Nb);Bb[0]+=wa(dc[uc][1][0],Mb*Nb>Mb*dc[uc][0][1]?dc[uc][0][1]:
Nb)[0];return Bb}var fb,hb;Na?Sa.invert=Na(Sa):wa.invert&&(Sa.invert=function(Bb,Nb){for(var Mb=hb[+(0>Nb)],dc=ya[+(0>Nb)],uc=0,Y=Mb.length;uc<Y;++uc){var oa=Mb[uc];if(oa[0][0]<=Bb&&Bb<oa[1][0]&&oa[0][1]<=Nb&&Nb<oa[1][1])return Mb=wa.invert(Bb-wa(dc[uc][1][0],0)[0],Nb),Mb[0]+=dc[uc][1][0],dc=Sa(Mb[0],Mb[1]),Bb=[Bb,Nb],1E-6>Jc(dc[0]-Bb[0])&&1E-6>Jc(dc[1]-Bb[1])?Mb:null}});var sb=m.geoProjection(Sa),Gb=sb.stream;sb.stream=function(Bb){var Nb=sb.rotate(),Mb=Gb(Bb),dc=(sb.rotate([0,0]),Gb(Bb));sb.rotate(Nb);
Mb.sphere=function(){m.geoStream(fb,dc)};return Mb};sb.lobes=function(Bb){if(!arguments.length)return ya.map(function(Nb){return Nb.map(function(Mb){return[[Mb[0][0]*ld,Mb[0][1]*ld],[Mb[1][0]*ld,Mb[1][1]*ld],[Mb[2][0]*ld,Mb[2][1]*ld]]})});fb=zc(Bb);ya=Bb.map(function(Nb){return Nb.map(function(Mb){return[[Mb[0][0]*Qc,Mb[0][1]*Qc],[Mb[1][0]*Qc,Mb[1][1]*Qc],[Mb[2][0]*Qc,Mb[2][1]*Qc]]})});hb=ya.map(function(Nb){return Nb.map(function(Mb){var dc=wa(Mb[0][0],Mb[0][1])[0],uc=wa(Mb[2][0],Mb[2][1])[0],Y=
wa(Mb[1][0],Mb[0][1])[1];Mb=wa(Mb[1][0],Mb[1][1])[1];if(Y>Mb){var oa=Y;Y=Mb;Mb=oa}return[[dc,Y],[uc,Mb]]})});return sb};null!=ya&&sb.lobes(ya);return sb}function Vc(wa,ya){return[3/Oc*wa*x(Ba*Ba/3-ya*ya),ya]}function Uc(wa){function ya(Na,Sa){if(1E-6>Jc(Jc(Sa)-Ya))return[0,0>Sa?-2:2];Sa=Bc(Sa);Sa=Qf((1+Sa)/(1-Sa),wa/2);var fb=.5*(Sa+1/Sa)+hc(Na*=wa);return[2*Bc(Na)/fb,(Sa-1/Sa)/fb]}ya.invert=function(Na,Sa){var fb=Jc(Sa);if(1E-6>Jc(fb-2))return Na?null:[0,Ae(Sa)*Ya];if(2<fb)return null;Na/=2;Sa/=
2;fb=Na*Na;var hb=Sa*Sa;Sa=2*Sa/(1+fb+hb);Sa=Qf((1+Sa)/(1-Sa),1/wa);return[je(2*Na,1-fb-hb)/wa,F((Sa-1)/(Sa+1))]};return ya}function Lc(wa,ya){return[wa*(1+x(hc(ya)))/2,ya/(hc(ya/2)*hc(wa/6))]}function Fd(wa,ya){var Na=wa*wa,Sa=ya*ya;return[wa*(.975534+Sa*(-.119161+-.0143059*Na+-.0547009*Sa)),ya*(1.00384+Na*(.0802894+-.02855*Sa+1.99025E-4*Na)+Sa*(.0998909+-.0491032*Sa))]}function fe(wa,ya){return[Bc(wa)/hc(ya),xa(ya)*hc(wa)]}function vd(wa){function ya(fb,hb){var sb=hb-wa,Gb=1E-6>Jc(sb)?fb*Na:1E-6>
Jc(Gb=Hb+hb/2)||1E-6>Jc(Jc(Gb)-Ya)?0:fb*sb/gf(xa(Gb)/Sa);return[Gb,sb]}var Na=hc(wa),Sa=xa(Hb+wa/2);ya.invert=function(fb,hb){var sb,Gb=hb+wa;return[1E-6>Jc(hb)?fb/Na:1E-6>Jc(sb=Hb+Gb/2)||1E-6>Jc(Jc(sb)-Ya)?0:fb*gf(xa(sb)/Sa)/hb,Gb]};return ya}function Sc(wa,ya){return[wa,1.25*gf(xa(Hb+.4*ya))]}function Yd(wa){function ya(Sa,fb){var hb=hc(fb),sb=2/(1+hb*hc(Sa));Sa=sb*hb*Bc(Sa);fb=sb*Bc(fb);sb=Na;hb=wa[sb];for(var Gb=hb[0],Bb=hb[1],Nb;0<=--sb;)hb=wa[sb],Gb=hb[0]+Sa*(Nb=Gb)-fb*Bb,Bb=hb[1]+Sa*Bb+fb*
Nb;Gb=Sa*(Nb=Gb)-fb*Bb;return[Gb,Sa*Bb+fb*Nb]}var Na=wa.length-1;ya.invert=function(Sa,fb){var hb=20,sb=Sa,Gb=fb;do{for(var Bb=Na,Nb=wa[Bb],Mb=Nb[0],dc=Nb[1],uc=0,Y=0,oa;0<=--Bb;)Nb=wa[Bb],uc=Mb+sb*(oa=uc)-Gb*Y,Y=dc+sb*Y+Gb*oa,Mb=Nb[0]+sb*(oa=Mb)-Gb*dc,dc=Nb[1]+sb*dc+Gb*oa;uc=Mb+sb*(oa=uc)-Gb*Y;Y=dc+sb*Y+Gb*oa;Mb=sb*(oa=Mb)-Gb*dc-Sa;dc=sb*dc+Gb*oa-fb;Nb=uc*uc+Y*Y;sb-=Bb=(Mb*uc+dc*Y)/Nb;Gb-=Mb=(dc*uc-Mb*Y)/Nb}while(1E-12<Jc(Bb)+Jc(Mb)&&0<--hb);if(hb)return Sa=x(sb*sb+Gb*Gb),fb=2*xe(.5*Sa),hb=Bc(fb),
[je(sb*hb,Sa*hc(fb)),Sa?F(Gb*hb/Sa):0]};return ya}function Qb(wa,ya){wa=m.geoProjection(Yd(wa)).rotate(ya).clipAngle(90);var Na=m.geoRotation(ya),Sa=wa.center;delete wa.rotate;wa.center=function(fb){return arguments.length?Sa(Na(fb)):Na.invert(Sa())};return wa}function gc(wa,ya){ya=F(7*Bc(ya)/(3*gd));return[gd*wa*(2*hc(2*ya/3)-1)/Hd,9*Bc(ya/3)/Hd]}function Ib(wa,ya){for(var Na=(1+vb)*Bc(ya),Sa=0,fb;25>Sa&&!(ya-=fb=(Bc(ya/2)+Bc(ya)-Na)/(.5*hc(ya/2)+hc(ya)),1E-6>Jc(fb));Sa++);return[wa*(1+2*hc(ya)/
hc(ya/2))/(3*Xb),2*x(3)*Bc(ya/2)/x(2+Xb)]}function Cc(wa,ya){var Na=x(6/(4+Ba)),Sa=(1+Ba/4)*Bc(ya);ya/=2;for(var fb=0,hb;25>fb&&!(ya-=hb=(ya/2+Bc(ya)-Sa)/(.5+hc(ya)),1E-6>Jc(hb));fb++);return[Na*(.5+hc(ya))*wa/1.5,Na*ya]}function Wc(wa,ya){var Na=ya*ya,Sa=Na*Na,fb=Na*Sa;return[wa*(.84719-.13063*Na+fb*fb*(-.04515+.05494*Na-.02326*Sa+.00331*fb)),ya*(1.01183+Sa*Sa*(-.02625+.01926*Na-.00396*Sa))]}function Gd(wa,ya){return[wa*(1+hc(ya))/2,2*(ya-xa(ya/2))]}function Wd(wa,ya){var Na=Bc(ya),Sa=hc(ya),fb=
Ae(wa);if(0===wa||Jc(ya)===Ya)return[0,ya];if(0===ya)return[wa,0];if(Jc(wa)===Ya)return[wa*Sa,Ya*Na];wa=Ba/(2*wa)-2*wa/Ba;var hb=2*ya/Ba,sb=(1-hb*hb)/(Na-hb),Gb=wa*wa,Bb=sb*sb;hb=1+Gb/Bb;var Nb=1+Bb/Gb,Mb=(wa*Na/sb-wa/2)/hb,dc=(Bb*Na/Gb+sb/2)/Nb;Na=dc*dc-(Bb*Na*Na/Gb+sb*Na-1)/Nb;return[Ya*(Mb+x(Mb*Mb+Sa*Sa/hb)*fb),Ya*(dc+x(0>Na?0:Na)*Ae(-ya*wa)*fb)]}function Ja(wa,ya){var Na=ya*ya;return[wa,ya*(1.0148+Na*Na*(.23185+Na*(-.14499+.02406*Na)))]}function eb(wa,ya){if(1E-6>Jc(ya))return[wa,0];var Na=xa(ya);
wa*=Bc(ya);return[Bc(wa)/Na,ya+(1-hc(wa))/Na]}function xb(wa,ya){var Na=ac(wa[1],wa[0]),Sa=ac(ya[1],ya[0]),fb=je(Na[0]*Sa[1]-Na[1]*Sa[0],Na[0]*Sa[0]+Na[1]*Sa[1]);Na=x(Na[0]*Na[0]+Na[1]*Na[1])/x(Sa[0]*Sa[0]+Sa[1]*Sa[1]);return Jb([1,0,wa[0][0],0,1,wa[0][1]],Jb([Na,0,0,0,Na,0],Jb([hc(fb),Bc(fb),0,-Bc(fb),hc(fb),0],[1,0,-ya[0][0],0,1,-ya[0][1]])))}function Jb(wa,ya){return[wa[0]*ya[0]+wa[1]*ya[3],wa[0]*ya[1]+wa[1]*ya[4],wa[0]*ya[2]+wa[1]*ya[5]+wa[2],wa[3]*ya[0]+wa[4]*ya[3],wa[3]*ya[1]+wa[4]*ya[4],wa[3]*
ya[2]+wa[4]*ya[5]+wa[5]]}function ac(wa,ya){return[wa[0]-ya[0],wa[1]-ya[1]]}function jc(wa,ya){function Na(Gb,Bb){Gb.edges=Db(Gb.face);if(Bb.face){var Nb=Gb.shared=ob(Gb.face,Bb.face),Mb=xb(Nb.map(Bb.project),Nb.map(Gb.project));Gb.transform=Bb.transform?Jb(Bb.transform,Mb):Mb;Mb=Bb.edges;for(var dc=0,uc=Mb.length;dc<uc;++dc)sc(Nb[0],Mb[dc][1])&&sc(Nb[1],Mb[dc][0])&&(Mb[dc]=Gb),sc(Nb[0],Mb[dc][0])&&sc(Nb[1],Mb[dc][1])&&(Mb[dc]=Gb);Mb=Gb.edges;dc=0;for(uc=Mb.length;dc<uc;++dc)sc(Nb[0],Mb[dc][0])&&
sc(Nb[1],Mb[dc][1])&&(Mb[dc]=Bb),sc(Nb[0],Mb[dc][1])&&sc(Nb[1],Mb[dc][0])&&(Mb[dc]=Bb)}else Gb.transform=Bb.transform;Gb.children&&Gb.children.forEach(function(Y){Na(Y,Gb)});return Gb}function Sa(Gb,Bb){var Nb=ya(Gb,Bb);Gb=Nb.project([Gb*ld,Bb*ld]);if(Nb=Nb.transform)return[Nb[0]*Gb[0]+Nb[1]*Gb[1]+Nb[2],-(Nb[3]*Gb[0]+Nb[4]*Gb[1]+Nb[5])];Gb[1]=-Gb[1];return Gb}function fb(Gb,Bb){var Nb=Gb.project.invert,Mb=Gb.transform,dc=Bb;if(Mb){var uc=1/(Mb[0]*Mb[4]-Mb[1]*Mb[3]);Mb=[uc*Mb[4],-uc*Mb[1],uc*(Mb[1]*
Mb[5]-Mb[2]*Mb[4]),-uc*Mb[3],uc*Mb[0],uc*(Mb[2]*Mb[3]-Mb[0]*Mb[5])];dc=[Mb[0]*dc[0]+Mb[1]*dc[1]+Mb[2],Mb[3]*dc[0]+Mb[4]*dc[1]+Mb[5]]}if(Mb=Nb)Nb=Y=Nb(dc),Nb=ya(Nb[0]*Qc,Nb[1]*Qc),Mb=Gb===Nb;if(Mb)return Y;var Y;Gb=Gb.children;Nb=0;for(dc=Gb&&Gb.length;Nb<dc;++Nb)if(Y=fb(Gb[Nb],Bb))return Y}Na(wa,{transform:null});Vb(wa)&&(Sa.invert=function(Gb,Bb){return(Gb=fb(wa,[Gb,-Bb]))&&(Gb[0]*=Qc,Gb[1]*=Qc,Gb)});var hb=m.geoProjection(Sa),sb=hb.stream;hb.stream=function(Gb){var Bb=hb.rotate(),Nb=sb(Gb),Mb=(hb.rotate([0,
0]),sb(Gb));hb.rotate(Bb);Nb.sphere=function(){Mb.polygonStart();Mb.lineStart();Ec(Mb,wa);Mb.lineEnd();Mb.polygonEnd()};return Nb};return hb.angle(-30)}function Ec(wa,ya,Na){var Sa,fb=ya.edges,hb=fb.length;var sb={type:"MultiPoint",coordinates:ya.face};var Gb=ya.face.filter(function(dc){return 90!==Jc(dc[1])}),Bb=m.geoBounds({type:"MultiPoint",coordinates:Gb});Gb=!1;var Nb=-1,Mb=Bb[1][0]-Bb[0][0];Bb=180===Mb||360===Mb?[(Bb[0][0]+Bb[1][0])/2,(Bb[0][1]+Bb[1][1])/2]:m.geoCentroid(sb);if(Na)for(;++Nb<
hb&&fb[Nb]!==Na;);++Nb;for(Mb=0;Mb<hb;++Mb)sb=fb[(Mb+Nb)%hb],Array.isArray(sb)?(Gb||(wa.point((Sa=m.geoInterpolate(sb[0],Bb)(1E-6))[0],Sa[1]),Gb=!0),wa.point((Sa=m.geoInterpolate(sb[1],Bb)(1E-6))[0],Sa[1])):(Gb=!1,sb!==Na&&Ec(wa,sb,ya))}function sc(wa,ya){return wa&&ya&&wa[0]===ya[0]&&wa[1]===ya[1]}function ob(wa,ya){for(var Na,Sa,fb=wa.length,hb=null,sb=0;sb<fb;++sb){Na=wa[sb];for(var Gb=ya.length;0<=--Gb;)if(Sa=ya[Gb],Na[0]===Sa[0]&&Na[1]===Sa[1]){if(hb)return[hb,Na];hb=Na}}}function Db(wa){for(var ya=
wa.length,Na=[],Sa=wa[ya-1],fb=0;fb<ya;++fb)Na.push([Sa,Sa=wa[fb]]);return Na}function Vb(wa){return wa.project.invert||wa.children&&wa.children.some(Vb)}function mc(wa,ya){wa=Q(wa,ya);return[wa[0]*pe,wa[1]]}function Dc(wa,ya){for(var Na=0,Sa=wa.length,fb=0;Na<Sa;++Na)fb+=wa[Na]*ya[Na];return fb}function Fc(wa,ya){return[wa[1]*ya[2]-wa[2]*ya[1],wa[2]*ya[0]-wa[0]*ya[2],wa[0]*ya[1]-wa[1]*ya[0]]}function Xc(wa){return[je(wa[1],wa[0])*ld,F(Hf(-1,If(1,wa[2])))*ld]}function Fb(wa){var ya=wa[0]*Qc;wa=wa[1]*
Qc;var Na=hc(wa);return[Na*hc(ya),Na*Bc(ya),Bc(wa)]}function Ic(wa,ya){return{type:"FeatureCollection",features:wa.features.map(function(Na){return fd(Na,ya)})}}function fd(wa,ya){return{type:"Feature",id:wa.id,properties:wa.properties,geometry:$c(wa.geometry,ya)}}function wc(wa,ya){return{type:"GeometryCollection",geometries:wa.geometries.map(function(Na){return $c(Na,ya)})}}function $c(wa,ya){if(!wa)return null;if("GeometryCollection"===wa.type)return wc(wa,ya);switch(wa.type){case "Point":var Na=
Of;break;case "MultiPoint":Na=Of;break;case "LineString":Na=Te;break;case "MultiLineString":Na=Te;break;case "Polygon":Na=uf;break;case "MultiPolygon":Na=uf;break;case "Sphere":Na=uf;break;default:return null}m.geoStream(wa,ya(Na));return Na.result()}function ad(wa){function ya(Sa,fb){var hb=Jc(Sa)<Ya;fb=wa(hb?Sa:0<Sa?Sa-Ba:Sa+Ba,fb);Sa=(fb[0]-fb[1])*vb;fb=(fb[0]+fb[1])*vb;if(hb)return[Sa,fb];hb=Na*vb;var sb=0<Sa^0<fb?-1:1;return[sb*Sa-Ae(fb)*hb,sb*fb-Ae(Sa)*hb]}var Na=wa(Ya,0)[0]-wa(-Ya,0)[0];wa.invert&&
(ya.invert=function(Sa,fb){var hb=(Sa+fb)*vb,sb=(fb-Sa)*vb,Gb=Jc(hb)<.5*Na&&Jc(sb)<.5*Na;if(!Gb){var Bb=Na*vb,Nb=0<hb^0<sb?-1:1;Sa=-Nb*Sa+(0<sb?1:-1)*Bb;fb=-Nb*fb+(0<hb?1:-1)*Bb;hb=(-Sa-fb)*vb;sb=(Sa-fb)*vb}fb=wa.invert(hb,sb);Gb||(fb[0]+=0<hb?Ba:-Ba);return fb});return m.geoProjection(ya).rotate([-90,-90,45]).clipAngle(179.999)}function nd(wa){function ya(Sa,fb){Sa=Na?xa(Sa*Na/2)/Na:Sa/2;if(!fb)return[2*Sa,-wa];Sa=2*xe(Sa*Bc(fb));var hb=1/xa(fb);return[Bc(Sa)*hb,fb+(1-hc(Sa))*hb-wa]}var Na=Bc(wa);
ya.invert=function(Sa,fb){if(1E-6>Jc(fb+=wa))return[Na?2*xe(Na*Sa/2)/Na:Sa,0];var hb=Sa*Sa+fb*fb,sb=0,Gb=10;do{var Bb=xa(sb);var Nb=1/hc(sb),Mb=hb-2*fb*sb+sb*sb;sb-=Bb=(Bb*Mb+2*(sb-fb))/(2+Mb*Nb*Nb+2*(sb-fb)*Bb)}while(1E-6<Jc(Bb)&&0<--Gb);Sa*=Bb=xa(sb);fb=xa(Jc(fb)<Jc(sb+1/Bb)?.5*F(Sa):.5*O(Sa)+Ba/4)/Bc(sb);return[Na?2*xe(Na*fb)/Na:2*fb,sb]};return ya}function Cd(wa,ya){var Na=If(18,36*Jc(ya)/Ba),Sa=re(Na);Na-=Sa;var fb=(Bb=Bf[Sa])[0],hb=Bb[1],sb=(Bb=Bf[++Sa])[0],Gb=Bb[1];Sa=(Bb=Bf[If(19,++Sa)])[0];
Bb=Bb[1];var Bb;return[wa*(sb+Na*(Sa-fb)/2+Na*Na*(Sa-2*sb+fb)/2),(0<ya?Ya:-Ya)*(Gb+Na*(Bb-hb)/2+Na*Na*(Bb-2*Gb+hb)/2)]}function Ed(wa){function ya(Na,Sa){var fb=hc(Sa),hb=(wa-1)/(wa-fb*hc(Na));return[hb*fb*Bc(Na),hb*Bc(Sa)]}ya.invert=function(Na,Sa){var fb=Na*Na+Sa*Sa,hb=x(fb);fb=(wa-x(1-fb*(wa+1)/(wa-1)))/((wa-1)/hb+hb/(wa-1));return[je(Na*fb,hb*x(1-fb*fb)),hb?F(Sa*fb/hb):0]};return ya}function Xd(wa,ya){function Na(sb,Gb){sb=Sa(sb,Gb);Gb=sb[1];var Bb=Gb*hb/(wa-1)+fb;return[sb[0]*fb/Bb,Gb/Bb]}var Sa=
Ed(wa);if(!ya)return Sa;var fb=hc(ya),hb=Bc(ya);Na.invert=function(sb,Gb){var Bb=(wa-1)/(wa-1-Gb*hb);return Sa.invert(Bb*sb,Bb*Gb*fb)};return Na}function $d(wa){return 0<wa.length}function ae(wa){return-90===wa||90===wa?[0,wa]:[-180,Math.floor(1E4*wa)/1E4]}function Ce(wa){var ya=wa[0],Na=wa[1],Sa=!1;-179.9999>=ya?(ya=-180,Sa=!0):179.9999<=ya&&(ya=180,Sa=!0);-89.9999>=Na?(Na=-90,Sa=!0):89.9999<=Na&&(Na=90,Sa=!0);return Sa?[ya,Na]:wa}function me(wa){return wa.map(Ce)}function ff(wa,ya,Na){for(var Sa=
0,fb=wa.length;Sa<fb;++Sa){var hb=wa[Sa].slice();Na.push({index:-1,polygon:ya,ring:hb});for(var sb=0,Gb=hb.length;sb<Gb;++sb){var Bb=hb[sb],Nb=Bb[0],Mb=Bb[1];if(-179.9999>=Nb||179.9999<=Nb||-89.9999>=Mb||89.9999<=Mb){hb[sb]=Ce(Bb);for(Bb=sb+1;Bb<Gb;++Bb){var dc=hb[Bb];Nb=dc[0];dc=dc[1];if(-179.9999<Nb&&179.9999>Nb&&-89.9999<dc&&89.9999>dc)break}if(Bb!==sb+1){sb?(sb={index:-1,polygon:ya,ring:hb.slice(0,sb+1)},sb.ring[sb.ring.length-1]=ae(Mb),Na[Na.length-1]=sb):Na.pop();if(Bb>=Gb)break;Na.push({index:-1,
polygon:ya,ring:hb=hb.slice(Bb-1)});hb[0]=ae(hb[0][1]);sb=-1;Gb=hb.length}}}}}function Ze(wa){var ya,Na=wa.length,Sa={},fb={};for(ya=0;ya<Na;++ya){var hb=wa[ya];var sb=hb.ring[0];var Gb=hb.ring[hb.ring.length-1];sb[0]===Gb[0]&&sb[1]===Gb[1]?(hb.polygon.push(hb.ring),wa[ya]=null):(hb.index=ya,Sa[sb]=fb[Gb]=hb)}for(ya=0;ya<Na;++ya)if(hb=wa[ya]){sb=hb.ring[0];Gb=hb.ring[hb.ring.length-1];var Bb=fb[sb];var Nb=Sa[Gb];delete Sa[sb];delete fb[Gb];sb[0]===Gb[0]&&sb[1]===Gb[1]?hb.polygon.push(hb.ring):Bb?
(delete fb[sb],delete Sa[Bb.ring[0]],Bb.ring.pop(),wa[Bb.index]=null,hb={index:-1,polygon:Bb.polygon,ring:Bb.ring.concat(hb.ring)},Bb===Nb?hb.polygon.push(hb.ring):(hb.index=Na++,wa.push(Sa[hb.ring[0]]=fb[hb.ring[hb.ring.length-1]]=hb))):Nb?(delete Sa[Gb],delete fb[Nb.ring[Nb.ring.length-1]],hb.ring.pop(),hb={index:Na++,polygon:Nb.polygon,ring:hb.ring.concat(Nb.ring)},wa[Nb.index]=null,wa.push(Sa[hb.ring[0]]=fb[hb.ring[hb.ring.length-1]]=hb)):(hb.ring.push(hb.ring[0]),hb.polygon.push(hb.ring))}}function hf(wa){var ya=
{type:"Feature",geometry:Vd(wa.geometry)};null!=wa.id&&(ya.id=wa.id);null!=wa.bbox&&(ya.bbox=wa.bbox);null!=wa.properties&&(ya.properties=wa.properties);return ya}function Vd(wa){if(null==wa)return wa;switch(wa.type){case "GeometryCollection":var ya={type:"GeometryCollection",geometries:wa.geometries.map(Vd)};break;case "Point":ya={type:"Point",coordinates:Ce(wa.coordinates)};break;case "MultiPoint":case "LineString":ya={type:wa.type,coordinates:me(wa.coordinates)};break;case "MultiLineString":ya=
{type:"MultiLineString",coordinates:wa.coordinates.map(me)};break;case "Polygon":var Na=[];ff(wa.coordinates,Na,ya=[]);Ze(ya);ya={type:"Polygon",coordinates:Na};break;case "MultiPolygon":ya=[];Na=-1;var Sa=wa.coordinates.length;for(var fb=Array(Sa);++Na<Sa;)ff(wa.coordinates[Na],fb[Na]=[],ya);Ze(ya);ya={type:"MultiPolygon",coordinates:fb.filter($d)};break;default:return wa}null!=wa.bbox&&(ya.bbox=wa.bbox);return ya}function ge(wa,ya){ya=xa(ya/2);var Na=Bc(Hb*ya);return[wa*(.74482-.34588*Na*Na),1.70711*
ya]}function yf(wa,ya,Na){var Sa=m.geoInterpolate(ya,Na);Na=Sa(.5);ya=m.geoRotation([-Na[0],-Na[1]])(ya);Sa=Sa.distance/2;var fb=-F(Bc(ya[1]*Qc)/Bc(Sa));Na=[-Na[0],-Na[1],-(0<ya[0]?Ba-fb:fb)*ld];wa=m.geoProjection(wa(Sa)).rotate(Na);var hb=m.geoRotation(Na),sb=wa.center;delete wa.rotate;wa.center=function(Gb){return arguments.length?sb(hb(Gb)):hb.invert(sb())};return wa.clipAngle(90)}function Ue(wa){function ya(Sa,fb){Sa=m.geoGnomonicRaw(Sa,fb);Sa[0]*=Na;return Sa}var Na=hc(wa);ya.invert=function(Sa,
fb){return m.geoGnomonicRaw.invert(Sa/Na,fb)};return ya}function of(wa,ya){return yf(Ue,wa,ya)}function le(wa){function ya(Gb,Bb){var Nb=O(hc(Bb)*hc(Gb-Na));Gb=O(hc(Bb)*hc(Gb-Sa));Nb*=Nb;Gb*=Gb;return[(Nb-Gb)/(2*wa),(0>Bb?-1:1)*x(4*fb*Gb-(fb-Nb+Gb)*(fb-Nb+Gb))/(2*wa)]}if(!(wa*=2))return m.geoAzimuthalEquidistantRaw;var Na=-wa/2,Sa=-Na,fb=wa*wa,hb=xa(Sa),sb=.5/Bc(Sa);ya.invert=function(Gb,Bb){var Nb=Bb*Bb,Mb=hc(x(Nb+(dc=Gb+Na)*dc));Gb=hc(x(Nb+(dc=Gb+Sa)*dc));var dc,uc;return[je(uc=Mb-Gb,dc=(Mb+Gb)*
hb),(0>Bb?-1:1)*O(x(dc*dc+uc*uc)*sb)]};return ya}function ye(wa,ya){return yf(le,wa,ya)}function Mf(wa,ya){if(1E-6>Jc(ya))return[wa,0];var Na=Jc(ya/Ya),Sa=F(Na);if(1E-6>Jc(wa)||1E-6>Jc(Jc(ya)-Ya))return[0,Ae(ya)*Ba*xa(Sa/2)];var fb=hc(Sa);Sa=Jc(Ba/wa-wa/Ba)/2;var hb=Sa*Sa;fb/=Na+fb-1;Na=fb*(2/Na-1);var sb=Na*Na,Gb=sb+hb,Bb=fb-sb,Nb=hb+fb;return[Ae(wa)*Ba*(Sa*Bb+x(hb*Bb*Bb-Gb*(fb*fb-sb)))/Gb,Ae(ya)*Ba*(Na*Nb-Sa*x((hb+1)*Gb-Nb*Nb))/Gb]}function Ge(wa,ya){if(1E-6>Jc(ya))return[wa,0];var Na=Jc(ya/Ya),
Sa=F(Na);if(1E-6>Jc(wa)||1E-6>Jc(Jc(ya)-Ya))return[0,Ae(ya)*Ba*xa(Sa/2)];var fb=hc(Sa);Sa=Jc(Ba/wa-wa/Ba)/2;var hb=Sa*Sa;Na=fb*(x(1+hb)-Sa*fb)/(1+hb*Na*Na);return[Ae(wa)*Ba*Na,Ae(ya)*Ba*x(1-Na*(2*Sa+Na))]}function Td(wa,ya){if(1E-6>Jc(ya))return[wa,0];var Na=ya/Ya,Sa=F(Na);if(1E-6>Jc(wa)||1E-6>Jc(Jc(ya)-Ya))return[0,Ba*xa(Sa/2)];ya=(Ba/wa-wa/Ba)/2;Na/=1+hc(Sa);return[Ba*(Ae(wa)*x(ya*ya+1-Na*Na)-ya),Ba*Na]}function Zd(wa,ya){if(!ya)return[wa,0];var Na=Jc(ya);if(!wa||Na===Ya)return[0,ya];var Sa=Na/
Ya;Na=Sa*Sa;var fb=(8*Sa-Na*(Na+2)-5)/(2*Na*(Sa-1)),hb=fb*fb,sb=Sa*fb,Gb=Na+hb+2*sb;Sa+=3*fb;fb=wa/Ya;fb+=1/fb;fb=Ae(Jc(wa)-Ya)*x(fb*fb-4);var Bb=fb*fb;Na=(fb*(Gb+hb-1)+2*x(Gb*(Na+hb*Bb-1)+(1-Na)*(Na*(Sa*Sa+4*hb)+12*sb*hb+4*hb*hb)))/(4*Gb+Bb);return[Ae(wa)*Ya*Na,Ae(ya)*Ya*x(1+fb*Jc(Na)-Na*Na)]}function we(wa,ya,Na,Sa,fb){function hb(sb,Gb){Gb=Na*Bc(Sa*Gb);var Bb=x(1-Gb*Gb),Nb=x(2/(1+Bb*hc(sb*=fb)));return[wa*Bb*Nb*Bc(sb),ya*Gb*Nb]}hb.invert=function(sb,Gb){var Bb=sb/wa,Nb=Gb/ya;Bb=x(Bb*Bb+Nb*Nb);
Nb=2*F(Bb/2);return[je(sb*xa(Nb),wa*Bb)/fb,Bb&&F(Gb*Bc(Nb)/(ya*Na*Bb))/Sa]};return hb}function nf(wa,ya,Na,Sa){var fb=Ba/3;wa=Hf(wa,1E-6);ya=Hf(ya,1E-6);wa=If(wa,Ya);ya=If(ya,Ba-1E-6);Na=Hf(Na,0);Na=If(Na,99.999999);Sa=Hf(Sa,1E-6);var hb=Sa/100;Na=O((Na/100+1)*hc(fb))/fb;fb=Bc(wa)/Bc(Na*Ya);Sa=ya/Ba;ya=x(hb*Bc(wa/2)/Bc(ya/2));wa=ya/x(Sa*fb*Na);ya=1/(ya*x(Sa*fb*Na));return we(wa,ya,fb,Na,Sa)}function Pe(){var wa=65*Qc,ya=60*Qc,Na=20,Sa=200,fb=m.geoProjectionMutator(nf),hb=fb(wa,ya,Na,Sa);hb.poleline=
function(sb){return arguments.length?fb(wa=+sb*Qc,ya,Na,Sa):wa*ld};hb.parallels=function(sb){return arguments.length?fb(wa,ya=+sb*Qc,Na,Sa):ya*ld};hb.inflation=function(sb){return arguments.length?fb(wa,ya,Na=+sb,Sa):Na};hb.ratio=function(sb){return arguments.length?fb(wa,ya,Na,Sa=+sb):Sa};return hb.scale(163.775)}function Qd(wa,ya){return[wa*x(1-3*ya*ya/(Ba*Ba)),ya]}function Qe(wa,ya){var Na=hc(ya),Sa=hc(wa)*Na,fb=1-Sa;ya=hc(wa=je(Bc(wa)*Na,-Bc(ya)));wa=Bc(wa);Na=x(1-Sa*Sa);return[wa*Na-ya*fb,-ya*
Na-wa*fb]}function Yf(wa,ya){var Na=h(wa,ya);return[(Na[0]+wa/Ya)/2,(Na[1]+ya)/2]}var Jc=Math.abs,xe=Math.atan,je=Math.atan2,hc=Math.cos,De=Math.exp,re=Math.floor,gf=Math.log,Hf=Math.max,If=Math.min,Qf=Math.pow,Jf=Math.round,Ae=Math.sign||function(wa){return 0<wa?1:0>wa?-1:0},Bc=Math.sin,xa=Math.tan,Ba=Math.PI,Ya=Ba/2,Hb=Ba/4,vb=Math.SQRT1_2,Xb=x(2),xc=x(Ba),Oc=2*Ba,ld=180/Ba,Qc=Ba/180;h.invert=function(wa,ya){if(!(wa*wa+4*ya*ya>Ba*Ba+1E-6)){var Na=wa,Sa=ya,fb=25;do{var hb=Bc(Na),sb=Bc(Na/2),Gb=hc(Na/
2),Bb=Bc(Sa),Nb=hc(Sa),Mb=Bc(2*Sa),dc=Bb*Bb,uc=Nb*Nb,Y=sb*sb,oa=1-uc*Gb*Gb,Pa=oa?O(Nb*Gb)*x(Ua=1/oa):Ua=0,Ua;oa=2*Pa*Nb*sb-wa;var yb=Pa*Bb-ya,Tb=Ua*(uc*Y+Pa*Nb*Gb*dc),Zb=Ua*(.5*hb*Mb-2*Pa*Bb*sb);hb=.25*Ua*(Mb*sb-Pa*Bb*uc*hb);Nb=Ua*(dc*Gb+Pa*Y*Nb);Gb=Zb*hb-Nb*Tb;if(!Gb)break;Zb=(yb*Zb-oa*Nb)/Gb;oa=(oa*hb-yb*Tb)/Gb;Na-=Zb;Sa-=oa}while((1E-6<Jc(Zb)||1E-6<Jc(oa))&&0<--fb);return[Na,Sa]}};e.invert=function(wa,ya){wa*=.375;ya*=.375;if(!wa&&1<Jc(ya))return null;var Na=1+wa*wa+ya*ya,Sa=x((Na-x(Na*Na-4*ya*
ya))/2);Na=F(Sa)/3;Sa?(Sa=Jc(ya/Sa),Sa=gf(Sa+x(Sa*Sa-1))/3):(Sa=Jc(wa),Sa=gf(Sa+x(Sa*Sa+1))/3);var fb=hc(Na),hb=q(Sa),sb=hb*hb-fb*fb;return[2*Ae(wa)*je(y(Sa)*fb,.25-sb),2*Ae(ya)*je(hb*Bc(Na),.25+sb)]};var Ld=x(8),Nd=gf(1+Xb);a.invert=function(wa,ya){if((fb=Jc(ya))<Nd)return[wa,2*xe(De(ya))-Ya];var Na=Hb,Sa=25,fb;do{var hb=hc(Na/2);var sb=xa(Na/2);Na-=hb=(Ld*(Na-Hb)-gf(sb)-fb)/(Ld-hb*hb/(2*sb))}while(1E-12<Jc(hb)&&0<--Sa);return[wa/(hc(Na)*(Ld-1/Bc(Na))),Ae(ya)*Na]};A.invert=function(wa,ya){ya=2*F(ya/
2);return[wa*hc(ya/2)/hc(ya),ya]};var Od=G(Xb/Ya,Xb,Ba);z.invert=function(wa,ya){var Na=2.00276*ya;ya=0>ya?-Hb:Hb;var Sa=25;do{var fb=Na-Xb*Bc(ya);ya-=fb=(Bc(2*ya)+2*ya-Ba*Bc(fb))/(2*hc(2*ya)+2+Ba*hc(fb)*Xb*hc(ya))}while(1E-6<Jc(fb)&&0<--Sa);fb=Na-Xb*Bc(ya);return[wa*(1/hc(fb)+1.11072/hc(ya))/2.00276,fb]};K.invert=function(wa,ya){return[wa/hc(ya),ya]};var od=G(1,4/Ba,Ba);Q.invert=function(wa,ya){var Na=(Na=ya/xc-1)*Na;return[0<Na?wa*x(Ba/Na)/2:0,F(1-Na)]};var Rd=x(3);N.invert=function(wa,ya){ya=3*
F(ya/(Rd*xc));return[xc*wa/(Rd*(2*hc(2*ya/3)-1)),ya]};va.invert=function(wa,ya){var Na=x(8/(3*Ba));ya/=Na;return[wa/(Na*(1-Jc(ya)/Ba)),ya]};ta.invert=function(wa,ya){var Na=2-Jc(ya)/x(2*Ba/3);return[wa*x(6*Ba)/(2*Na),Ae(ya)*F((4-Na*Na)/3)]};Da.invert=function(wa,ya){var Na=x(Ba*(4+Ba))/2;return[wa*Na/(1+x(1-ya*ya*(4+Ba)/(4*Ba))),ya*Na/2]};$a.invert=function(wa,ya){ya=ya*x((4+Ba)/Ba)/2;var Na=F(ya),Sa=hc(Na);return[wa/(2/x(Ba*(4+Ba))*(1+Sa)),F((Na+ya*(Sa+2))/(2+Ya))]};kb.invert=function(wa,ya){var Na=
x(2+Ba);ya=ya*Na/2;return[Na*wa/(1+hc(ya)),ya]};sa.invert=function(wa,ya){var Na=1+Ya,Sa=x(Na/2);return[2*wa*Sa/(1+hc(ya*=Sa)),F((ya+Bc(ya))/Na)]};var kd=3+2*Xb;Ta.invert=function(wa,ya){if(!(fb=e.invert(wa/1.2,1.065*ya)))return null;var Na=fb[0];fb=fb[1];var Sa=20,fb;wa/=kd;ya/=kd;do{var hb=Na/2,sb=fb/2,Gb=Bc(hb),Bb=hc(hb),Nb=Bc(sb),Mb=hc(sb),dc=hc(fb),uc=x(dc),Y=Nb/(Mb+Xb*Bb*uc),oa=Y*Y,Pa=x(2/(1+oa)),Ua=(Xb*Mb+(Bb+Gb)*uc)/(Xb*Mb+(Bb-Gb)*uc),yb=x(Ua),Tb=yb-1/yb,Zb=yb+1/yb;sb=Pa*Tb-2*gf(yb)-wa;hb=
Pa*Y*Zb-2*xe(Y)-ya;var rc=Nb&&vb*uc*Gb*oa/Nb,Gc=(Xb*Bb*Mb+uc)/(2*(Mb+Xb*Bb*uc)*(Mb+Xb*Bb*uc)*uc),dd=-.5*Y*Pa*Pa*Pa,Zc=dd*rc;dd*=Gc;var Kd=(Kd=2*Mb+Xb*uc*(Bb-Gb))*Kd*yb;Bb=(Xb*Bb*Mb*uc+dc)/Kd;Nb=-(Xb*Gb*Nb)/(uc*Kd);Gb=Tb*Zc-2*Bb/yb+Pa*(Bb+Bb/Ua);yb=Tb*dd-2*Nb/yb+Pa*(Nb+Nb/Ua);rc=Y*Zb*Zc-2*rc/(1+oa)+Pa*Zb*rc+Pa*Y*(Bb-Bb/Ua);oa=Y*Zb*dd-2*Gc/(1+oa)+Pa*Zb*Gc+Pa*Y*(Nb-Nb/Ua);Y=yb*rc-oa*Gb;if(!Y)break;oa=(hb*yb-sb*oa)/Y;sb=(sb*rc-hb*Gb)/Y;Na-=oa;fb=Hf(-Ya,If(Ya,fb-sb))}while((1E-6<Jc(oa)||1E-6<Jc(sb))&&
0<--Sa);return 1E-6>Jc(Jc(fb)-Ya)?[0,fb]:Sa&&[Na,fb]};var lf=hc(35*Qc);Wa.invert=function(wa,ya){ya/=1+lf;return[wa&&wa/(lf*x(1-ya*ya)),2*xe(ya)]};Ea.invert=function(wa,ya){var Na=xe(ya/xc);ya=hc(Na);Na*=2;return[wa*xc/2/(hc(Na)*ya*ya),Na]};var bf=qa(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555),ee=qa(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742),Ve=qa(5/6*Ba,-.62636,-.0344,0,1.3493,-.05524,0,.045);pa.invert=function(wa,ya){var Na=wa,Sa=ya,fb=50,hb;do{var sb=Sa*Sa;Sa-=hb=
(Sa*(1+sb/12)-ya)/(1+sb/4)}while(1E-6<Jc(hb)&&0<--fb);fb=50;wa/=1-.162388*sb;do{var Gb=(Gb=Na*Na)*Gb;Na-=hb=(Na*(.87-9.52426E-4*Gb)-wa)/(.87-.00476213*Gb)}while(1E-6<Jc(hb)&&0<--fb);return[Na,Sa]};var ce=qa(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);na.invert=function(wa,ya){1<Jc(wa)&&(wa=2*Ae(wa)-wa);1<Jc(ya)&&(ya=2*Ae(ya)-ya);var Na=Ae(wa),Sa=Ae(ya),fb=-Na*wa,hb=-Sa*ya;ya=1>hb/fb;wa=ya?hb:fb;var sb=ya?fb:hb,Gb=0,Bb=1;fb=.5;for(var Nb=50;;){hb=fb*fb;var Mb=x(fb),dc=F(1/x(1+hb)),uc=1-
hb+fb*(1+hb)*dc,Y=(1-Mb)/uc,oa=x(Y),Pa=Y*(1+hb),Ua=oa*(1-hb),yb=x(Pa-wa*wa);Ua=sb+Ua+fb*yb;if(1E-12>Jc(Bb-Gb)||0===--Nb||0===Ua)break;0<Ua?Gb=fb:Bb=fb;fb=.5*(Gb+Bb)}Nb?(sb=F(Mb),Nb=hc(sb),Gb=1/Nb,Bb=2*Mb*Nb,Mb=(-uc*Nb-(1-Mb)*(-3*fb+dc*(1+3*hb))*Bb)/(uc*uc),fb=[Ba/4*(wa*(-2*Gb*(.5*Mb/oa*(1-hb)-2*fb*oa*Bb)+-Gb*Bb*yb)+-Gb*(fb*(1+hb)*Mb+Y*(1+3*hb)*Bb)*F(wa/x(Pa))),sb]):fb=null;wa=fb[0];fb=fb[1];hb=hc(fb);ya&&(wa=-Ya-wa);return[Na*(je(Bc(wa)*hb,-Bc(fb))+Ba),Sa*F(hc(wa)*hb)]};Aa.invert=function(wa,ya){var Na=
(Xb-1)/(Xb+1),Sa=x(1-Na*Na);ya=.5*Za(Ya,Sa*Sa)-ya;wa=-wa;Sa*=Sa;if(ya)if(ya=cb(ya,Sa),wa){wa=cb(wa,1-Sa);var fb=wa[1]*wa[1]+Sa*ya[0]*ya[0]*wa[0]*wa[0];ya=[[ya[0]*wa[2]/fb,ya[1]*ya[2]*wa[0]*wa[1]/fb],[ya[1]*wa[1]/fb,-ya[0]*ya[2]*wa[0]*wa[2]/fb],[ya[2]*wa[1]*wa[2]/fb,-Sa*ya[0]*ya[1]*wa[0]/fb]]}else ya=[[ya[0],0],[ya[1],0],[ya[2],0]];else wa=cb(wa,1-Sa),ya=[[0,wa[0]/wa[1]],[1/wa[1],0],[wa[2]/wa[1],0]];Sa=ya[0];ya=ya[1];wa=ya[0]*ya[0]+ya[1]*ya[1];Sa=[(Sa[0]*ya[0]+Sa[1]*ya[1])/wa,(Sa[1]*ya[0]-Sa[0]*ya[1])/
wa];return[je(Sa[1],Sa[0])/-1,2*xe(De(-.5*gf(Na*Sa[0]*Sa[0]+Na*Sa[1]*Sa[1])))-Ya]};var Xe=F(1-1/3)*ld,zf=ea(0);vc.invert=function(wa,ya){return-.7109889596207567<ya?Od.invert(wa,ya-.0528035274542):K.invert(wa,ya)};lc.invert=function(wa,ya){return.7109889596207567<Jc(ya)?Od.invert(wa,ya+(0<ya?.0528035274542:-.0528035274542)):K.invert(wa,ya)};var tf=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],
[140,-90],[180,0]]]],Oe=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],Nf=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],za=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]],Ia=[[[[-180,35],
[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]],wb=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];Vc.invert=function(wa,ya){return[Oc/3*wa/x(Ba*Ba/3-ya*ya),ya]};var Yb=Ba/Xb;Lc.invert=function(wa,ya){var Na=Jc(wa),Sa=Jc(ya),fb=1E-6,hb=Ya;Sa<Yb?hb*=Sa/Yb:fb+=6*O(Yb/Sa);for(var sb=0;25>sb;sb++){var Gb=
Bc(hb),Bb=x(hc(hb)),Nb=Bc(hb/2),Mb=hc(hb/2),dc=Bc(fb/6),uc=hc(fb/6),Y=.5*fb*(1+Bb)-Na,oa=hb/(Mb*uc)-Sa;Gb=Bb?-.25*fb*Gb/Bb:0;Bb=.5*(1+Bb);Nb=(1+.5*hb*Nb/Mb)/(Mb*uc);dc=hb/Mb*(dc/6)/(uc*uc);Mb=Gb*dc-Nb*Bb;dc=(Y*dc-oa*Bb)/Mb;Y=(oa*Gb-Y*Nb)/Mb;hb-=dc;fb-=Y;if(1E-6>Jc(dc)&&1E-6>Jc(Y))break}return[0>wa?-fb:fb,0>ya?-hb:hb]};Fd.invert=function(wa,ya){var Na=Ae(wa)*Ba,Sa=ya/2,fb=50;do{var hb=Na*Na,sb=Sa*Sa,Gb=Na*Sa,Bb=Na*(.975534+sb*(-.119161+-.0143059*hb+-.0547009*sb))-wa,Nb=Sa*(1.00384+hb*(.0802894+-.02855*
sb+1.99025E-4*hb)+sb*(.0998909+-.0491032*sb))-ya,Mb=.975534-sb*(.119161+.0429177*hb+.0547009*sb),dc=-Gb*(.238322+.2188036*sb+.0286118*hb);Gb*=.1605788+7.961E-4*hb+-.0571*sb;sb=1.00384+hb*(.0802894+1.99025E-4*hb)+sb*(3*(.0998909-.02855*hb)-.245516*sb);hb=dc*Gb-sb*Mb;dc=(Nb*dc-Bb*sb)/hb;Bb=(Bb*Gb-Nb*Mb)/hb;Na-=dc;Sa-=Bb}while((1E-6<Jc(dc)||1E-6<Jc(Bb))&&0<--fb);return fb&&[Na,Sa]};fe.invert=function(wa,ya){var Na=wa*wa,Sa=ya*ya+1,fb=Na+Sa;Na=wa?vb*x((fb-x(fb*fb-4*Na))/Na):1/x(Sa);return[F(wa*Na),Ae(ya)*
O(Na)]};Sc.invert=function(wa,ya){return[wa,2.5*xe(De(.8*ya))-.625*Ba]};var Ub=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],ic=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],oc=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7.388E-4,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],id=[[.9245,0],[0,0],[.01943,0]],Tc=[[.721316,
0],[0,0],[-.00881625,-.00617325]],gd=x(6),Hd=x(7);gc.invert=function(wa,ya){ya=3*F(ya*Hd/9);return[wa*Hd/(gd*(2*hc(2*ya/3)-1)),F(3*Bc(ya)*gd/7)]};Ib.invert=function(wa,ya){ya=ya*x(2+Xb)/(2*x(3));var Na=2*F(ya);return[3*Xb*wa/(1+2*hc(Na)/hc(Na/2)),F((ya+Bc(Na))/(1+vb))]};Cc.invert=function(wa,ya){var Na=x(6/(4+Ba));ya/=Na;1E-6>Jc(Jc(ya)-Ya)&&(ya=0>ya?-Ya:Ya);return[1.5*wa/(Na*(.5+hc(ya))),F((ya/2+Bc(ya))/(1+Ba/4))]};Wc.invert=function(wa,ya){var Na=ya,Sa=25;do{var fb=Na*Na;var hb=fb*fb;Na-=fb=(Na*
(1.01183+hb*hb*(-.02625+.01926*fb-.00396*hb))-ya)/(1.01183+hb*hb*(-.23625+.21186*fb+-.05148*hb))}while(1E-12<Jc(fb)&&0<--Sa);fb=Na*Na;hb=fb*fb;ya=fb*hb;return[wa/(.84719-.13063*fb+ya*ya*(-.04515+.05494*fb-.02326*hb+.00331*ya)),Na]};Gd.invert=function(wa,ya){for(var Na=ya/2,Sa=0,fb=Infinity;10>Sa&&1E-6<Jc(fb);++Sa)fb=hc(ya/2),ya-=fb=(ya-xa(ya/2)-Na)/(1-.5/(fb*fb));return[2*wa/(1+hc(ya)),ya]};var he=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,
0]]]];Wd.invert=function(wa,ya){wa/=Ya;ya/=Ya;var Na=wa*wa,Sa=Na+ya*ya,fb=Ba*Ba;return[wa?(Sa-1+x((1-Sa)*(1-Sa)+4*Na))/(2*wa)*Ya:0,C(function(hb){return Sa*(Ba*Bc(hb)-2*hb)*Ba+4*hb*hb*(ya-Bc(hb))+2*Ba*hb-fb*ya},0)]};var ie=5*.23185;Ja.invert=function(wa,ya){1.790857183<ya?ya=1.790857183:-1.790857183>ya&&(ya=-1.790857183);var Na=ya;do{var Sa=Na*Na;Na-=Sa=(Na*(1.0148+Sa*Sa*(.23185+Sa*(-.14499+.02406*Sa)))-ya)/(1.0148+Sa*Sa*(ie+Sa*(-1.01493+.21654*Sa)))}while(1E-6<Jc(Sa));return[wa,Na]};eb.invert=function(wa,
ya){if(1E-6>Jc(ya))return[wa,0];var Na=wa*wa+ya*ya,Sa=.5*ya,fb=10;do{var hb=xa(Sa);var sb=1/hc(Sa),Gb=Na-2*ya*Sa+Sa*Sa;Sa-=hb=(hb*Gb+2*(Sa-ya))/(2+Gb*sb*sb+2*(Sa-ya)*hb)}while(1E-6<Jc(hb)&&0<--fb);hb=xa(Sa);return[(Jc(ya)<Jc(Sa+1/hb)?F(wa*hb):Ae(ya)*Ae(wa)*(O(Jc(wa*hb))+Ya))/Bc(Sa),Sa]};var Pd=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Ne=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(wa){return wa.map(function(ya){return Pd[ya]})}),pe=2/x(3);mc.invert=function(wa,
ya){return Q.invert(wa/pe,ya)};var He=()=>{},Je=[],Le=[],Of={point:function(wa,ya){Je.push([wa,ya])},result:function(){var wa=Je.length?2>Je.length?{type:"Point",coordinates:Je[0]}:{type:"MultiPoint",coordinates:Je}:null;Je=[];return wa}},Te={lineStart:He,point:function(wa,ya){Je.push([wa,ya])},lineEnd:function(){Je.length&&(Le.push(Je),Je=[])},result:function(){var wa=Le.length?2>Le.length?{type:"LineString",coordinates:Le[0]}:{type:"MultiLineString",coordinates:Le}:null;Le=[];return wa}},uf={polygonStart:He,
lineStart:He,point:function(wa,ya){Je.push([wa,ya])},lineEnd:function(){var wa=Je.length;if(wa){do Je.push(Je[0].slice());while(4>++wa);Le.push(Je);Je=[]}},polygonEnd:He,result:function(){if(!Le.length)return null;var wa=[],ya=[];Le.forEach(function(Na){if(4>(fb=Na.length))var Sa=!1;else{Sa=0;for(var fb,hb=Na[fb-1][1]*Na[0][0]-Na[fb-1][0]*Na[0][1];++Sa<fb;)hb+=Na[Sa-1][1]*Na[Sa][0]-Na[Sa-1][0]*Na[Sa][1];Sa=0>=hb}Sa?wa.push([Na]):ya.push(Na)});ya.forEach(function(Na){var Sa=Na[0];wa.some(function(fb){for(var hb=
fb[0],sb=Sa[0],Gb=Sa[1],Bb=!1,Nb=0,Mb=hb.length,dc=Mb-1;Nb<Mb;dc=Nb++){var uc=hb[Nb],Y=uc[0];uc=uc[1];var oa=hb[dc];dc=oa[0];oa=oa[1];uc>Gb^oa>Gb&&sb<(dc-Y)*(Gb-uc)/(oa-uc)+Y&&(Bb=!Bb)}if(Bb)return fb.push(Na),!0})||wa.push([Na])});Le=[];return wa.length?1<wa.length?{type:"MultiPolygon",coordinates:wa}:{type:"Polygon",coordinates:wa[0]}:null}},Bf=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,
.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];Bf.forEach(function(wa){wa[1]*=1.0144});Cd.invert=function(wa,ya){var Na=ya/Ya,Sa=90*Na,fb=If(18,Jc(Sa/5)),hb=Hf(0,re(fb));do{var sb=Bf[hb][1],Gb=Bf[hb+1][1],Bb=Bf[If(19,hb+2)][1],Nb=Bb-sb;sb=Bb-2*Gb+sb;Gb=2*(Jc(Na)-Gb)/Nb;Nb=sb/Nb;Nb=Gb*(1-Nb*Gb*(1-2*Nb*Gb));if(0<=Nb||1===hb){Sa=(0<=ya?5:-5)*(Nb+fb);Na=50;do fb=If(18,Jc(Sa)/5),hb=re(fb),Nb=fb-hb,sb=Bf[hb][1],Gb=Bf[hb+1][1],Bb=Bf[If(19,hb+2)][1],
Sa-=(fb=(0<=ya?Ya:-Ya)*(Gb+Nb*(Bb-sb)/2+Nb*Nb*(Bb-2*Gb+sb)/2)-ya)*ld;while(1E-12<Jc(fb)&&0<--Na);break}}while(0<=--hb);ya=Bf[hb][0];fb=Bf[hb+1][0];hb=Bf[If(19,hb+2)][0];return[wa/(fb+Nb*(hb-ya)/2+Nb*Nb*(hb-2*fb+ya)/2),Sa*Qc]};ge.invert=function(wa,ya){ya/=1.70711;var Na=Bc(Hb*ya);return[wa/(.74482-.34588*Na*Na),2*xe(ya)]};Mf.invert=function(wa,ya){if(1E-6>Jc(ya))return[wa,0];if(1E-6>Jc(wa))return[0,Ya*Bc(2*xe(ya/Ba))];var Na=(wa/=Ba)*wa,Sa=(ya/=Ba)*ya,fb=Na+Sa,hb=fb*fb,sb=-Jc(ya)*(1+fb),Gb=sb-2*Sa+
Na,Bb=-2*sb+1+2*Sa+hb,Nb=Sa/Bb+(2*Gb*Gb*Gb/(Bb*Bb*Bb)-9*sb*Gb/(Bb*Bb))/27,Mb=(sb-Gb*Gb/(3*Bb))/Bb;sb=2*x(-Mb/3);Nb=O(3*Nb/(Mb*sb))/3;return[Ba*(fb-1+x(1+2*(Na-Sa)+hb))/(2*wa),Ae(ya)*Ba*(-sb*hc(Nb+Ba/3)-Gb/(3*Bb))]};Ge.invert=function(wa,ya){if(!wa)return[0,Ya*Bc(2*xe(ya/Ba))];var Na=Jc(wa/Ba),Sa=(1-Na*Na-(ya/=Ba)*ya)/(2*Na),fb=x(Sa*Sa+1);return[Ae(wa)*Ba*(fb-Sa),Ae(ya)*Ya*Bc(2*je(x((1-2*Sa*Na)*(Sa+fb)-Na),x(fb+Sa+Na)))]};Td.invert=function(wa,ya){if(!ya)return[wa,0];ya/=Ba;var Na=(Ba*Ba*(1-ya*ya)-
wa*wa)/(2*Ba*wa);return[wa?Ba*(Ae(wa)*x(Na*Na+1)-Na):0,Ya*Bc(2*xe(ya))]};Zd.invert=function(wa,ya){if(!wa||!ya)return[wa,ya];var Na=Ae(ya);ya=Jc(ya)/Ba;var Sa=Ae(wa)*wa/Ya,fb=(Sa*Sa-1+4*ya*ya)/Jc(Sa),hb=fb*fb,sb=ya*(2-(.5<ya?If(ya,Jc(wa)):0));ya=wa*wa+ya*ya;var Gb=50;do{var Bb=sb*sb;var Nb=(8*sb-Bb*(Bb+2)-5)/(2*Bb*(sb-1));var Mb=(3*sb-Bb*sb-10)/(2*Bb*sb),dc=Nb*Nb,uc=sb*Nb,Y=sb+Nb,oa=Y*Y,Pa=sb+3*Nb,Ua=-2*Y*(4*uc*dc+(1-4*Bb+3*Bb*Bb)*(1+Mb)+dc*(-6+14*Bb-hb+(-8+8*Bb-2*hb)*Mb)+uc*(-8+12*Bb+(-10+10*Bb-
hb)*Mb));Bb=x(oa*(Bb+dc*hb-1)+(1-Bb)*(Bb*(Pa*Pa+4*dc)+dc*(12*uc+4*dc)));sb-=Nb=(fb*(oa+dc-1)+2*Bb-Sa*(4*oa+hb))/(fb*(2*Nb*Mb+2*Y*(1+Mb))+Ua/Bb-8*Y*(fb*(-1+dc+oa)+2*Bb)*(1+Mb)/(hb+4*oa))}while(1E-6<Nb*ya*ya&&0<--Gb);return[Ae(wa)*(x(fb*fb+4)+fb)*Ba/4,Na*Ya*sb]};var Ag=4*Ba+3*x(3),Rf=2*x(2*Ba*x(3)/Ag),jg=G(Rf*x(3)/Ba,Rf,Ag/6);Qd.invert=function(wa,ya){return[wa/x(1-3*ya*ya/(Ba*Ba)),ya]};Qe.invert=function(wa,ya){var Na=(wa*wa+ya*ya)/-2,Sa=x(-Na*(2+Na)),fb=ya*Na+wa*Sa;wa=wa*Na-ya*Sa;ya=x(wa*wa+fb*fb);
return[je(Sa*fb,ya*(1+Na)),ya?-F(Sa*wa/ya):0]};Yf.invert=function(wa,ya){var Na=wa,Sa=ya,fb=25;do{var hb=hc(Sa),sb=Bc(Sa),Gb=Bc(2*Sa),Bb=sb*sb,Nb=hb*hb,Mb=Bc(Na),dc=hc(Na/2),uc=Bc(Na/2),Y=uc*uc,oa=1-Nb*dc*dc,Pa=oa?O(hb*dc)*x(Ua=1/oa):Ua=0,Ua;oa=.5*(2*Pa*hb*uc+Na/Ya)-wa;var yb=.5*(Pa*sb+Sa)-ya,Tb=.5*Ua*(Nb*Y+Pa*hb*dc*Bb)+.5/Ya,Zb=Ua*(Mb*Gb/4-Pa*sb*uc);sb=.125*Ua*(Gb*uc-Pa*sb*Nb*Mb);Bb=.5*Ua*(Bb*dc+Pa*Y*hb)+.5;hb=Zb*sb-Bb*Tb;Zb=(yb*Zb-oa*Bb)/hb;oa=(oa*sb-yb*Tb)/hb;Na-=Zb;Sa-=oa}while((1E-6<Jc(Zb)||
1E-6<Jc(oa))&&0<--fb);return[Na,Sa]};g.geoAiry=function(){var wa=Ya,ya=m.geoProjectionMutator(l),Na=ya(wa);Na.radius=function(Sa){return arguments.length?ya(wa=Sa*Qc):wa*ld};return Na.scale(179.976).clipAngle(147)};g.geoAiryRaw=l;g.geoAitoff=function(){return m.geoProjection(h).scale(152.63)};g.geoAitoffRaw=h;g.geoArmadillo=function(){var wa=20*Qc,ya=0<=wa?1:-1,Na=xa(ya*wa),Sa=m.geoProjectionMutator(c),fb=Sa(wa),hb=fb.stream;fb.parallel=function(sb){if(!arguments.length)return wa*ld;Na=xa((ya=0<=
(wa=sb*Qc)?1:-1)*wa);return Sa(wa)};fb.stream=function(sb){var Gb=fb.rotate(),Bb=hb(sb),Nb=(fb.rotate([0,0]),hb(sb)),Mb=fb.precision();fb.rotate(Gb);Bb.sphere=function(){Nb.polygonStart();Nb.lineStart();for(var dc=-180*ya;180>ya*dc;dc+=90*ya)Nb.point(dc,90*ya);if(wa)for(;-180<=ya*(dc-=3*ya*Mb);)Nb.point(dc,ya*-je(hc(dc*Qc/2),Na)*ld);Nb.lineEnd();Nb.polygonEnd()};return Bb};return fb.scale(218.695).center([0,28.0974])};g.geoArmadilloRaw=c;g.geoAugust=function(){return m.geoProjection(e).scale(66.1603)};
g.geoAugustRaw=e;g.geoBaker=function(){return m.geoProjection(a).scale(112.314)};g.geoBakerRaw=a;g.geoBerghaus=function(){var wa=5,ya=m.geoProjectionMutator(f),Na=ya(wa),Sa=Na.stream,fb=-hc(.01*Qc),hb=Bc(.01*Qc);Na.lobes=function(sb){return arguments.length?ya(wa=+sb):wa};Na.stream=function(sb){var Gb=Na.rotate(),Bb=Sa(sb),Nb=(Na.rotate([0,0]),Sa(sb));Na.rotate(Gb);Bb.sphere=function(){Nb.polygonStart();Nb.lineStart();for(var Mb=0,dc=360/wa,uc=2*Ba/wa,Y=90-180/wa,oa=Ya;Mb<wa;++Mb,Y-=dc,oa-=uc)Nb.point(je(hb*
hc(oa),fb)*ld,F(hb*Bc(oa))*ld),-90>Y?(Nb.point(-90,-180-Y-.01),Nb.point(-90,-180-Y+.01)):(Nb.point(90,Y+.01),Nb.point(90,Y-.01));Nb.lineEnd();Nb.polygonEnd()};return Bb};return Na.scale(87.8076).center([0,17.1875]).clipAngle(179.999)};g.geoBerghausRaw=f;g.geoBertin1953=function(){return m.geoProjection(P()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])};g.geoBertin1953Raw=P;g.geoBoggs=function(){return m.geoProjection(z).scale(160.857)};g.geoBoggsRaw=z;g.geoBonne=function(){return J(R).scale(123.082).center([0,
26.1441]).parallel(45)};g.geoBonneRaw=R;g.geoBottomley=function(){var wa=.5,ya=m.geoProjectionMutator(U),Na=ya(wa);Na.fraction=function(Sa){return arguments.length?ya(wa=+Sa):wa};return Na.scale(158.837)};g.geoBottomleyRaw=U;g.geoBromley=function(){return m.geoProjection(od).scale(152.63)};g.geoBromleyRaw=od;g.geoChamberlin=Z;g.geoChamberlinRaw=da;g.geoChamberlinAfrica=function(){return Z([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])};g.geoCollignon=function(){return m.geoProjection(Q).scale(95.6464).center([0,
30])};g.geoCollignonRaw=Q;g.geoCraig=function(){return J(r).scale(249.828).clipAngle(90)};g.geoCraigRaw=r;g.geoCraster=function(){return m.geoProjection(N).scale(156.19)};g.geoCrasterRaw=N;g.geoCylindricalEqualArea=function(){return J(ea).parallel(38.58).scale(195.044)};g.geoCylindricalEqualAreaRaw=ea;g.geoCylindricalStereographic=function(){return J(aa).scale(124.75)};g.geoCylindricalStereographicRaw=aa;g.geoEckert1=function(){return m.geoProjection(va).scale(165.664)};g.geoEckert1Raw=va;g.geoEckert2=
function(){return m.geoProjection(ta).scale(165.664)};g.geoEckert2Raw=ta;g.geoEckert3=function(){return m.geoProjection(Da).scale(180.739)};g.geoEckert3Raw=Da;g.geoEckert4=function(){return m.geoProjection($a).scale(180.739)};g.geoEckert4Raw=$a;g.geoEckert5=function(){return m.geoProjection(kb).scale(173.044)};g.geoEckert5Raw=kb;g.geoEckert6=function(){return m.geoProjection(sa).scale(173.044)};g.geoEckert6Raw=sa;g.geoEisenlohr=function(){return m.geoProjection(Ta).scale(62.5271)};g.geoEisenlohrRaw=
Ta;g.geoFahey=function(){return m.geoProjection(Wa).scale(137.152)};g.geoFaheyRaw=Wa;g.geoFoucaut=function(){return m.geoProjection(Ea).scale(135.264)};g.geoFoucautRaw=Ea;g.geoFoucautSinusoidal=function(){var wa=.5,ya=m.geoProjectionMutator(ua),Na=ya(wa);Na.alpha=function(Sa){return arguments.length?ya(wa=+Sa):wa};return Na.scale(168.725)};g.geoFoucautSinusoidalRaw=ua;g.geoGilbert=function(wa){function ya(hb){return Sa([hb[0]/2,F(xa(hb[1]/2*Qc))*ld])}function Na(hb){ya[hb]=function(){return arguments.length?
(Sa[hb].apply(Sa,arguments),ya):Sa[hb]()}}null==wa&&(wa=m.geoOrthographic);var Sa=wa(),fb=m.geoEquirectangular().scale(ld).precision(0).clipAngle(null).translate([0,0]);Sa.invert&&(ya.invert=function(hb){return V(Sa.invert(hb))});ya.stream=function(hb){var sb=Sa.stream(hb);hb=fb.stream({point:function(Gb,Bb){sb.point(Gb/2,F(xa(-Bb/2*Qc))*ld)},lineStart:function(){sb.lineStart()},lineEnd:function(){sb.lineEnd()},polygonStart:function(){sb.polygonStart()},polygonEnd:function(){sb.polygonEnd()}});hb.sphere=
sb.sphere;return hb};ya.rotate=function(hb){return arguments.length?(fb.rotate(hb),ya):fb.rotate()};ya.center=function(hb){return arguments.length?(Sa.center([hb[0]/2,F(xa(hb[1]/2*Qc))*ld]),ya):V(Sa.center())};Na("angle");Na("clipAngle");Na("clipExtent");Na("fitExtent");Na("fitHeight");Na("fitSize");Na("fitWidth");Na("scale");Na("translate");Na("precision");return ya.scale(249.5)};g.geoGingery=function(){var wa=6,ya=30*Qc,Na=hc(ya),Sa=Bc(ya),fb=m.geoProjectionMutator(W),hb=fb(ya,wa),sb=hb.stream,
Gb=-hc(.01*Qc),Bb=Bc(.01*Qc);hb.radius=function(Nb){if(!arguments.length)return ya*ld;Na=hc(ya=Nb*Qc);Sa=Bc(ya);return fb(ya,wa)};hb.lobes=function(Nb){return arguments.length?fb(ya,wa=+Nb):wa};hb.stream=function(Nb){var Mb=hb.rotate(),dc=sb(Nb),uc=(hb.rotate([0,0]),sb(Nb));hb.rotate(Mb);dc.sphere=function(){uc.polygonStart();uc.lineStart();for(var Y=0,oa=2*Ba/wa,Pa=0;Y<wa;++Y,Pa-=oa)uc.point(je(Bb*hc(Pa),Gb)*ld,F(Bb*Bc(Pa))*ld),uc.point(je(Sa*hc(Pa-oa/2),Na)*ld,F(Sa*Bc(Pa-oa/2))*ld);uc.lineEnd();
uc.polygonEnd()};return dc};return hb.rotate([90,-40]).scale(91.7095).clipAngle(179.999)};g.geoGingeryRaw=W;g.geoGinzburg4=function(){return m.geoProjection(bf).scale(149.995)};g.geoGinzburg4Raw=bf;g.geoGinzburg5=function(){return m.geoProjection(ee).scale(153.93)};g.geoGinzburg5Raw=ee;g.geoGinzburg6=function(){return m.geoProjection(Ve).scale(130.945)};g.geoGinzburg6Raw=Ve;g.geoGinzburg8=function(){return m.geoProjection(pa).scale(131.747)};g.geoGinzburg8Raw=pa;g.geoGinzburg9=function(){return m.geoProjection(ce).scale(131.087)};
g.geoGinzburg9Raw=ce;g.geoGringorten=function(){return m.geoProjection(Ga(na)).scale(239.75)};g.geoGringortenRaw=na;g.geoGuyou=function(){return m.geoProjection(Ga(Aa)).scale(151.496)};g.geoGuyouRaw=Aa;g.geoHammer=function(){var wa=2,ya=m.geoProjectionMutator(p),Na=ya(wa);Na.coefficient=function(Sa){return arguments.length?ya(wa=+Sa):wa};return Na.scale(169.529)};g.geoHammerRaw=p;g.geoHammerRetroazimuthal=function(){var wa=0,ya=m.geoProjectionMutator(Fa),Na=ya(wa),Sa=Na.rotate,fb=Na.stream,hb=m.geoCircle();
Na.parallel=function(sb){if(!arguments.length)return wa*ld;var Gb=Na.rotate();return ya(wa=sb*Qc).rotate(Gb)};Na.rotate=function(sb){if(!arguments.length)return sb=Sa.call(Na),sb[1]+=wa*ld,sb;Sa.call(Na,[sb[0],sb[1]-wa*ld]);hb.center([-sb[0],-sb[1]]);return Na};Na.stream=function(sb){sb=fb(sb);sb.sphere=function(){sb.polygonStart();var Gb=hb.radius(89.99)().coordinates[0],Bb=Gb.length-1,Nb=-1,Mb;for(sb.lineStart();++Nb<Bb;)sb.point((Mb=Gb[Nb])[0],Mb[1]);sb.lineEnd();Gb=hb.radius(90.01)().coordinates[0];
for(sb.lineStart();0<=--Nb;)sb.point((Mb=Gb[Nb])[0],Mb[1]);sb.lineEnd();sb.polygonEnd()};return sb};return Na.scale(79.4187).parallel(45).clipAngle(179.999)};g.geoHammerRetroazimuthalRaw=Fa;g.geoHealpix=function(){var wa=4,ya=m.geoProjectionMutator(ab),Na=ya(wa),Sa=Na.stream;Na.lobes=function(fb){return arguments.length?ya(wa=+fb):wa};Na.stream=function(fb){var hb=Na.rotate(),sb=Sa(fb),Gb=(Na.rotate([0,0]),Sa(fb));Na.rotate(hb);sb.sphere=function(){m.geoStream(zb(180/wa),Gb)};return sb};return Na.scale(239.75)};
g.geoHealpixRaw=ab;g.geoHill=function(){var wa=1,ya=m.geoProjectionMutator(Sb),Na=ya(wa);Na.ratio=function(Sa){return arguments.length?ya(wa=+Sa):wa};return Na.scale(167.774).center([0,18.67])};g.geoHillRaw=Sb;g.geoHomolosine=function(){return m.geoProjection(lc).scale(152.63)};g.geoHomolosineRaw=lc;g.geoHufnagel=function(){var wa=1,ya=0,Na=45*Qc,Sa=2,fb=m.geoProjectionMutator(kc),hb=fb(wa,ya,Na,Sa);hb.a=function(sb){return arguments.length?fb(wa=+sb,ya,Na,Sa):wa};hb.b=function(sb){return arguments.length?
fb(wa,ya=+sb,Na,Sa):ya};hb.psiMax=function(sb){return arguments.length?fb(wa,ya,Na=+sb*Qc,Sa):Na*ld};hb.ratio=function(sb){return arguments.length?fb(wa,ya,Na,Sa=+sb):Sa};return hb.scale(180.739)};g.geoHufnagelRaw=kc;g.geoHyperelliptical=function(){var wa=0,ya=2.5,Na=1.183136,Sa=m.geoProjectionMutator(yc),fb=Sa(wa,ya,Na);fb.alpha=function(hb){return arguments.length?Sa(wa=+hb,ya,Na):wa};fb.k=function(hb){return arguments.length?Sa(wa,ya=+hb,Na):ya};fb.gamma=function(hb){return arguments.length?Sa(wa,
ya,Na=+hb):Na};return fb.scale(152.63)};g.geoHyperellipticalRaw=yc;g.geoInterrupt=qc;g.geoInterruptedBoggs=function(){return qc(z,tf).scale(160.857)};g.geoInterruptedHomolosine=function(){return qc(lc,Oe).scale(152.63)};g.geoInterruptedMollweide=function(){return qc(Od,Nf).scale(169.529)};g.geoInterruptedMollweideHemispheres=function(){return qc(Od,za).scale(169.529).rotate([20,0])};g.geoInterruptedSinuMollweide=function(){return qc(vc,Ia,D).rotate([-20,-55]).scale(164.263).center([0,-5.4036])};g.geoInterruptedSinusoidal=
function(){return qc(K,wb).scale(152.63).rotate([-20,0])};g.geoKavrayskiy7=function(){return m.geoProjection(Vc).scale(158.837)};g.geoKavrayskiy7Raw=Vc;g.geoLagrange=function(){var wa=.5,ya=m.geoProjectionMutator(Uc),Na=ya(wa);Na.spacing=function(Sa){return arguments.length?ya(wa=+Sa):wa};return Na.scale(124.75)};g.geoLagrangeRaw=Uc;g.geoLarrivee=function(){return m.geoProjection(Lc).scale(97.2672)};g.geoLarriveeRaw=Lc;g.geoLaskowski=function(){return m.geoProjection(Fd).scale(139.98)};g.geoLaskowskiRaw=
Fd;g.geoLittrow=function(){return m.geoProjection(fe).scale(144.049).clipAngle(89.999)};g.geoLittrowRaw=fe;g.geoLoximuthal=function(){return J(vd).parallel(40).scale(158.837)};g.geoLoximuthalRaw=vd;g.geoMiller=function(){return m.geoProjection(Sc).scale(108.318)};g.geoMillerRaw=Sc;g.geoModifiedStereographic=Qb;g.geoModifiedStereographicRaw=Yd;g.geoModifiedStereographicAlaska=function(){return Qb(Ub,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)};g.geoModifiedStereographicGs48=
function(){return Qb(ic,[95,-38]).scale(1E3).clipAngle(55).center([-96.5563,38.8675])};g.geoModifiedStereographicGs50=function(){return Qb(oc,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])};g.geoModifiedStereographicMiller=function(){return Qb(id,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)};g.geoModifiedStereographicLee=function(){return Qb(Tc,[165,10]).scale(250).clipAngle(130).center([-165,-10])};g.geoMollweide=function(){return m.geoProjection(Od).scale(169.529)};
g.geoMollweideRaw=Od;g.geoMtFlatPolarParabolic=function(){return m.geoProjection(gc).scale(164.859)};g.geoMtFlatPolarParabolicRaw=gc;g.geoMtFlatPolarQuartic=function(){return m.geoProjection(Ib).scale(188.209)};g.geoMtFlatPolarQuarticRaw=Ib;g.geoMtFlatPolarSinusoidal=function(){return m.geoProjection(Cc).scale(166.518)};g.geoMtFlatPolarSinusoidalRaw=Cc;g.geoNaturalEarth2=function(){return m.geoProjection(Wc).scale(175.295)};g.geoNaturalEarth2Raw=Wc;g.geoNellHammer=function(){return m.geoProjection(Gd).scale(152.63)};
g.geoNellHammerRaw=Gd;g.geoInterruptedQuarticAuthalic=function(){return qc(p(Infinity),he).rotate([20,0]).scale(152.63)};g.geoNicolosi=function(){return m.geoProjection(Wd).scale(127.267)};g.geoNicolosiRaw=Wd;g.geoPatterson=function(){return m.geoProjection(Ja).scale(139.319)};g.geoPattersonRaw=Ja;g.geoPolyconic=function(){return m.geoProjection(eb).scale(103.74)};g.geoPolyconicRaw=eb;g.geoPolyhedral=jc;g.geoPolyhedralButterfly=function(wa){wa=wa||function(Na){Na=m.geoCentroid({type:"MultiPoint",
coordinates:Na});return m.geoGnomonic().scale(1).translate([0,0]).rotate([-Na[0],-Na[1]])};var ya=Ne.map(function(Na){return{face:Na,project:wa(Na)}});[-1,0,0,1,0,1,4,5].forEach(function(Na,Sa){(Na=ya[Na])&&(Na.children||(Na.children=[])).push(ya[Sa])});return jc(ya[0],function(Na,Sa){return ya[Na<-Ba/2?0>Sa?6:4:0>Na?0>Sa?2:0:Na<Ba/2?0>Sa?3:1:0>Sa?7:5]}).angle(-30).scale(101.858).center([0,45])};g.geoPolyhedralCollignon=function(wa){wa=wa||function(Na){Na=m.geoCentroid({type:"MultiPoint",coordinates:Na});
return m.geoProjection(mc).translate([0,0]).scale(1).rotate(0<Na[1]?[-Na[0],0]:[180-Na[0],180])};var ya=Ne.map(function(Na){return{face:Na,project:wa(Na)}});[-1,0,0,1,0,1,4,5].forEach(function(Na,Sa){(Na=ya[Na])&&(Na.children||(Na.children=[])).push(ya[Sa])});return jc(ya[0],function(Na,Sa){return ya[Na<-Ba/2?0>Sa?6:4:0>Na?0>Sa?2:0:Na<Ba/2?0>Sa?3:1:0>Sa?7:5]}).angle(-30).scale(121.906).center([0,48.5904])};g.geoPolyhedralWaterman=function(wa){wa=wa||function(hb){hb=6===hb.length?m.geoCentroid({type:"MultiPoint",
coordinates:hb}):hb[0];return m.geoGnomonic().scale(1).translate([0,0]).rotate([-hb[0],-hb[1]])};var ya=Ne.map(function(hb){hb=hb.map(Fb);for(var sb=hb.length,Gb=hb[sb-1],Bb,Nb=[],Mb=0;Mb<sb;++Mb)Bb=hb[Mb],Nb.push(Xc([.9486832980505138*Gb[0]+.31622776601683794*Bb[0],.9486832980505138*Gb[1]+.31622776601683794*Bb[1],.9486832980505138*Gb[2]+.31622776601683794*Bb[2]]),Xc([.9486832980505138*Bb[0]+.31622776601683794*Gb[0],.9486832980505138*Bb[1]+.31622776601683794*Gb[1],.9486832980505138*Bb[2]+.31622776601683794*
Gb[2]])),Gb=Bb;return Nb}),Na=[],Sa=[-1,0,0,1,0,1,4,5];ya.forEach(function(hb,sb){for(var Gb=Ne[sb],Bb=Gb.length,Nb=Na[sb]=[],Mb=0;Mb<Bb;++Mb)ya.push([Gb[Mb],hb[(2*Mb+2)%(2*Bb)],hb[(2*Mb+1)%(2*Bb)]]),Sa.push(sb),Nb.push(Fc(Fb(hb[(2*Mb+2)%(2*Bb)]),Fb(hb[(2*Mb+1)%(2*Bb)])))});var fb=ya.map(function(hb){return{project:wa(hb),face:hb}});Sa.forEach(function(hb,sb){(hb=fb[hb])&&(hb.children||(hb.children=[])).push(fb[sb])});return jc(fb[0],function(hb,sb){var Gb=hc(sb);Gb=[Gb*hc(hb),Gb*Bc(hb),Bc(sb)];hb=
hb<-Ba/2?0>sb?6:4:0>hb?0>sb?2:0:hb<Ba/2?0>sb?3:1:0>sb?7:5;sb=Na[hb];return fb[0>Dc(sb[0],Gb)?8+3*hb:0>Dc(sb[1],Gb)?3*hb+9:0>Dc(sb[2],Gb)?3*hb+10:hb]}).angle(-30).scale(110.625).center([0,45])};g.geoProject=function(wa,ya){ya=ya.stream;if(!ya)throw Error("invalid projection");switch(wa&&wa.type){case "Feature":var Na=fd;break;case "FeatureCollection":Na=Ic;break;default:Na=$c}return Na(wa,ya)};g.geoGringortenQuincuncial=function(){return ad(na).scale(176.423)};g.geoPeirceQuincuncial=function(){return ad(Aa).scale(111.48)};
g.geoQuantize=function(wa,ya){function Na(Bb){var Nb=Bb.length,Mb=2,dc=Array(Nb);dc[0]=+Bb[0].toFixed(ya);for(dc[1]=+Bb[1].toFixed(ya);Mb<Nb;)dc[Mb]=Bb[Mb],++Mb;return dc}function Sa(Bb){for(var Nb=Na(Bb[0]),Mb=[Nb],dc=1;dc<Bb.length;dc++){var uc=Na(Bb[dc]);if(2<uc.length||uc[0]!=Nb[0]||uc[1]!=Nb[1])Mb.push(uc),Nb=uc}1===Mb.length&&1<Bb.length&&Mb.push(Na(Bb[Bb.length-1]));return Mb}function fb(Bb){return Bb.map(Sa)}function hb(Bb){if(null==Bb)return Bb;switch(Bb.type){case "GeometryCollection":var Nb=
{type:"GeometryCollection",geometries:Bb.geometries.map(hb)};break;case "Point":Nb={type:"Point",coordinates:Na(Bb.coordinates)};break;case "MultiPoint":Nb={type:Bb.type,coordinates:Bb.coordinates.map(Na)};break;case "LineString":Nb={type:Bb.type,coordinates:Sa(Bb.coordinates)};break;case "MultiLineString":case "Polygon":Nb={type:Bb.type,coordinates:fb(Bb.coordinates)};break;case "MultiPolygon":Nb={type:"MultiPolygon",coordinates:Bb.coordinates.map(fb)};break;default:return Bb}null!=Bb.bbox&&(Nb.bbox=
Bb.bbox);return Nb}function sb(Bb){var Nb={type:"Feature",properties:Bb.properties,geometry:hb(Bb.geometry)};null!=Bb.id&&(Nb.id=Bb.id);null!=Bb.bbox&&(Nb.bbox=Bb.bbox);return Nb}if(!(0<=(ya=+ya)&&20>=ya))throw Error("invalid digits");if(null!=wa)switch(wa.type){case "Feature":return sb(wa);case "FeatureCollection":var Gb={type:"FeatureCollection",features:wa.features.map(sb)};null!=wa.bbox&&(Gb.bbox=wa.bbox);return Gb;default:return hb(wa)}return wa};g.geoQuincuncial=ad;g.geoRectangularPolyconic=
function(){return J(nd).scale(131.215)};g.geoRectangularPolyconicRaw=nd;g.geoRobinson=function(){return m.geoProjection(Cd).scale(152.63)};g.geoRobinsonRaw=Cd;g.geoSatellite=function(){var wa=2,ya=0,Na=m.geoProjectionMutator(Xd),Sa=Na(wa,ya);Sa.distance=function(fb){return arguments.length?Na(wa=+fb,ya):wa};Sa.tilt=function(fb){return arguments.length?Na(wa,ya=fb*Qc):ya*ld};return Sa.scale(432.147).clipAngle(O(1/wa)*ld-1E-6)};g.geoSatelliteRaw=Xd;g.geoSinuMollweide=function(){return m.geoProjection(vc).rotate([-20,
-55]).scale(164.263).center([0,-5.4036])};g.geoSinuMollweideRaw=vc;g.geoSinusoidal=function(){return m.geoProjection(K).scale(152.63)};g.geoSinusoidalRaw=K;g.geoStitch=function(wa){if(null==wa)return wa;switch(wa.type){case "Feature":return hf(wa);case "FeatureCollection":var ya={type:"FeatureCollection",features:wa.features.map(hf)};null!=wa.bbox&&(ya.bbox=wa.bbox);return ya;default:return Vd(wa)}};g.geoTimes=function(){return m.geoProjection(ge).scale(146.153)};g.geoTimesRaw=ge;g.geoTwoPointAzimuthal=
of;g.geoTwoPointAzimuthalRaw=Ue;g.geoTwoPointAzimuthalUsa=function(){return of([-158,21.5],[-77,39]).clipAngle(60).scale(400)};g.geoTwoPointEquidistant=ye;g.geoTwoPointEquidistantRaw=le;g.geoTwoPointEquidistantUsa=function(){return ye([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)};g.geoVanDerGrinten=function(){return m.geoProjection(Mf).scale(79.4183)};g.geoVanDerGrintenRaw=Mf;g.geoVanDerGrinten2=function(){return m.geoProjection(Ge).scale(79.4183)};g.geoVanDerGrinten2Raw=Ge;g.geoVanDerGrinten3=
function(){return m.geoProjection(Td).scale(79.4183)};g.geoVanDerGrinten3Raw=Td;g.geoVanDerGrinten4=function(){return m.geoProjection(Zd).scale(127.16)};g.geoVanDerGrinten4Raw=Zd;g.geoWagner=Pe;g.geoWagner7=function(){return Pe().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)};g.geoWagnerRaw=nf;g.geoWagner4=function(){return m.geoProjection(jg).scale(176.84)};g.geoWagner4Raw=jg;g.geoWagner6=function(){return m.geoProjection(Qd).scale(152.63)};g.geoWagner6Raw=Qd;g.geoWiechel=function(){return m.geoProjection(Qe).rotate([0,
-90,45]).scale(124.75).clipAngle(179.999)};g.geoWiechelRaw=Qe;g.geoWinkel3=function(){return m.geoProjection(Yf).scale(158.837)};g.geoWinkel3Raw=Yf;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[41]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E,B(39),B(40)):"function"===typeof define&&define.amd?define(["exports","d3-geo","d3-geo-projection"],m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.vega={},g.d3,g.d3))})(this,function(g,m,n){function F(l,h){return function e(){const a=h();a.type=l;a.path=m.geoPath().projection(a);a.copy=a.copy||function(){const f=e();y.forEach(p=>{if(a[p])f[p](a[p]())});f.path.pointRadius(a.path.pointRadius());
return f};return a}}function O(l,h){if(!l||"string"!==typeof l)throw Error("Projection type must be a name string.");l=l.toLowerCase();return 1<arguments.length?(q[l]=F(l,h),this):q[l]||null}const x=m.geoPath(),y="clipAngle clipExtent scale translate center rotate parallels precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" "),q={albers:m.geoAlbers,albersusa:m.geoAlbersUsa,azimuthalequalarea:m.geoAzimuthalEqualArea,azimuthalequidistant:m.geoAzimuthalEquidistant,
conicconformal:m.geoConicConformal,conicequalarea:m.geoConicEqualArea,conicequidistant:m.geoConicEquidistant,equalEarth:m.geoEqualEarth,equirectangular:m.geoEquirectangular,gnomonic:m.geoGnomonic,identity:m.geoIdentity,mercator:m.geoMercator,mollweide:n.geoMollweide,naturalEarth1:m.geoNaturalEarth1,orthographic:m.geoOrthographic,stereographic:m.geoStereographic,transversemercator:m.geoTransverseMercator};for(const l in q)O(l,q[l]);g.getProjectionPath=function(l){return l&&l.path||x};g.projection=
O;g.projectionProperties=y;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[42]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E,B(26),B(14),B(15),B(27),B(41),B(39),B(32),B(31)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-util d3-array vega-statistics vega-projection d3-geo d3-color vega-canvas".split(" "),m):(g="undefined"!==typeof globalThis?globalThis:g||self,m((g.vega=g.vega||{},g.vega.transforms={}),g.vega,g.vega,g.d3,g.vega,g.vega,g.d3,g.d3,g.vega))})(this,function(g,m,n,F,O,x,y,q,l){function h(){}
function c(){function Ea(pa,Ga){return Ga.map(na=>ua(pa,na))}function ua(pa,Ga){var na=[],Oa=[];V(pa,Ga,cb=>{qa(cb,pa,Ga);for(var Za=0,Aa=cb.length,Fa=cb[Aa-1][1]*cb[0][0]-cb[Aa-1][0]*cb[0][1];++Za<Aa;)Fa+=cb[Za-1][1]*cb[Za][0]-cb[Za-1][0]*cb[Za][1];0<Fa?na.push([cb]):Oa.push(cb)});Oa.forEach(cb=>{for(var Za=0,Aa=na.length,Fa;Za<Aa;++Za){a:{var Ra=(Fa=na[Za])[0];for(var ab=cb,lb=-1,Ma=ab.length;++lb<Ma;){b:{var nb=Ra;for(var zb=ab[lb],Sb=zb[0],vc=zb[1],lc=-1,kc=0,jb=nb.length,$b=jb-1;kc<jb;$b=kc++){var yc=
nb[kc],nc=yc[0],zc=yc[1],qc=nb[$b];$b=qc[0];var Vc=qc[1],Uc,Lc=yc;yc=qc;qc=zb;if(Uc=(yc[0]-Lc[0])*(qc[1]-Lc[1])===(qc[0]-Lc[0])*(yc[1]-Lc[1]))Lc=Lc[Uc=+(Lc[0]===yc[0])],qc=qc[Uc],yc=yc[Uc],Uc=Lc<=qc&&qc<=yc||yc<=qc&&qc<=Lc;if(Uc){nb=0;break b}zc>vc!==Vc>vc&&Sb<($b-nc)*(vc-zc)/(Vc-zc)+nc&&(lc=-lc)}nb=lc}if(nb){Ra=nb;break a}}Ra=0}if(-1!==Ra){Fa.push(cb);break}}});return{type:"MultiPolygon",value:Ga,coordinates:na}}function V(pa,Ga,na){function Oa(nb){var zb=[nb[0][0]+Fa,nb[0][1]+Aa];nb=[nb[1][0]+Fa,
nb[1][1]+Aa];var Sb=2*zb[0]+zb[1]*(ca+1)*4,vc=2*nb[0]+nb[1]*(ca+1)*4,lc,kc;(lc=Za[Sb])?(kc=cb[vc])?(delete Za[lc.end],delete cb[kc.start],lc===kc?(lc.ring.push(nb),na(lc.ring)):cb[lc.start]=Za[kc.end]={start:lc.start,end:kc.end,ring:lc.ring.concat(kc.ring)}):(delete Za[lc.end],lc.ring.push(nb),Za[lc.end=vc]=lc):(lc=cb[vc])?(kc=Za[Sb])?(delete cb[lc.start],delete Za[kc.end],lc===kc?(lc.ring.push(nb),na(lc.ring)):cb[kc.start]=Za[lc.end]={start:kc.start,end:lc.end,ring:kc.ring.concat(lc.ring)}):(delete cb[lc.start],
lc.ring.unshift(zb),cb[lc.start=Sb]=lc):cb[Sb]=Za[vc]={start:Sb,end:vc,ring:[zb,nb]}}var cb=[],Za=[],Aa;var Fa=Aa=-1;var Ra=pa[0]>=Ga;for(Ta[Ra<<1].forEach(Oa);++Fa<ca-1;){var ab=Ra;Ra=pa[Fa+1]>=Ga;Ta[ab|Ra<<1].forEach(Oa)}for(Ta[Ra<<0].forEach(Oa);++Aa<fa-1;){Fa=-1;Ra=pa[Aa*ca+ca]>=Ga;var lb=pa[Aa*ca]>=Ga;for(Ta[Ra<<1|lb<<2].forEach(Oa);++Fa<ca-1;){ab=Ra;Ra=pa[Aa*ca+ca+Fa+1]>=Ga;var Ma=lb;lb=pa[Aa*ca+Fa+1]>=Ga;Ta[ab|Ra<<1|lb<<2|Ma<<3].forEach(Oa)}Ta[Ra|lb<<3].forEach(Oa)}Fa=-1;lb=pa[Aa*ca]>=Ga;for(Ta[lb<<
2].forEach(Oa);++Fa<ca-1;)Ma=lb,lb=pa[Aa*ca+Fa+1]>=Ga,Ta[lb<<2|Ma<<3].forEach(Oa);Ta[lb<<3].forEach(Oa)}function W(pa,Ga,na){pa.forEach(Oa=>{var cb=Oa[0],Za=Oa[1],Aa=cb|0,Fa=Za|0,Ra=Ga[Fa*ca+Aa];if(0<cb&&cb<ca&&Aa===cb){var ab=Ga[Fa*ca+Aa-1];Oa[0]=cb+(na-ab)/(Ra-ab)-.5}0<Za&&Za<fa&&Fa===Za&&(ab=Ga[(Fa-1)*ca+Aa],Oa[1]=Za+(na-ab)/(Ra-ab)-.5)})}var ca=1,fa=1,qa=W;Ea.contour=ua;Ea.size=function(pa){if(!arguments.length)return[ca,fa];var Ga=Math.floor(pa[0]),na=Math.floor(pa[1]);0<=Ga&&0<=na||n.error("invalid size");
return ca=Ga,fa=na,Ea};Ea.smooth=function(pa){return arguments.length?(qa=pa?W:h,Ea):qa===W};return Ea}function e(Ea,ua,V){return function(W){var ca=n.extent(W);W=V?Math.min(ca[0],0):ca[0];ca=ca[1];var fa=ca-W;fa=ua?F.tickStep(W,ca,Ea):fa/(Ea+1);return F.range(W+fa,ca,fa)}}function a(Ea){m.Transform.call(this,null,Ea)}function f(Ea,ua,V){const W=e(V.levels||10,V.nice,!1!==V.zero);return"shared"!==V.resolve?W:W(Ea.map(ca=>F.max(ua(ca).values)))}function p(Ea,ua,V,W){var ca=W.scale||ua.scale;let fa=
W.translate||ua.translate;n.isFunction(ca)&&(ca=ca(V,W));n.isFunction(fa)&&(fa=fa(V,W));if(1!==ca&&null!=ca||fa)V=(n.isNumber(ca)?ca:ca[0])||1,ca=(n.isNumber(ca)?ca:ca[1])||1,Ea.forEach(A(ua,V,ca,fa&&fa[0]||0,fa&&fa[1]||0))}function A(Ea,ua,V,W,ca){function fa(cb){cb.forEach(qa)}function qa(cb){Oa&&cb.reverse();cb.forEach(pa)}function pa(cb){cb[0]=(cb[0]-Ga)*ua+W;cb[1]=(cb[1]-na)*V+ca}const Ga=Ea.x1||0,na=Ea.y1||0,Oa=0>ua*V;return function(cb){cb.coordinates.forEach(fa);return cb}}function C(Ea,ua,
V){Ea=0<=Ea?Ea:O.bandwidthNRD(ua,V);return Math.round((Math.sqrt(4*Ea*Ea+1)-1)/2)}function D(Ea){return n.isFunction(Ea)?Ea:n.constant(+Ea)}function P(){function Ea(Ga,na){const Oa=C(ca[0],Ga,ua)>>pa,cb=C(ca[1],Ga,V)>>pa,Za=Oa?Oa+2:0,Aa=cb?cb+2:0,Fa=2*Za+(fa>>pa),Ra=2*Aa+(qa>>pa),ab=new Float32Array(Fa*Ra),lb=new Float32Array(Fa*Ra);let Ma=ab;Ga.forEach(nb=>{const zb=Za+(+ua(nb)>>pa),Sb=Aa+(+V(nb)>>pa);0<=zb&&zb<Fa&&0<=Sb&&Sb<Ra&&(ab[zb+Sb*Fa]+=+W(nb))});0<Oa&&0<cb?(L(Fa,Ra,ab,lb,Oa),G(Fa,Ra,lb,ab,
cb),L(Fa,Ra,ab,lb,Oa),G(Fa,Ra,lb,ab,cb),L(Fa,Ra,ab,lb,Oa),G(Fa,Ra,lb,ab,cb)):0<Oa?(L(Fa,Ra,ab,lb,Oa),L(Fa,Ra,lb,ab,Oa),L(Fa,Ra,ab,lb,Oa),Ma=lb):0<cb&&(G(Fa,Ra,ab,lb,cb),G(Fa,Ra,lb,ab,cb),G(Fa,Ra,ab,lb,cb),Ma=lb);Ga=na?Math.pow(2,-2*pa):1/F.sum(Ma);for(let nb=0,zb=Fa*Ra;nb<zb;++nb)Ma[nb]*=Ga;return{values:Ma,scale:1<<pa,width:Fa,height:Ra,x1:Za,y1:Aa,x2:Za+(fa>>pa),y2:Aa+(qa>>pa)}}var ua=Ga=>Ga[0],V=Ga=>Ga[1],W=n.one,ca=[-1,-1],fa=960,qa=500,pa=2;Ea.x=function(Ga){return arguments.length?(ua=D(Ga),
Ea):ua};Ea.y=function(Ga){return arguments.length?(V=D(Ga),Ea):V};Ea.weight=function(Ga){return arguments.length?(W=D(Ga),Ea):W};Ea.size=function(Ga){if(!arguments.length)return[fa,qa];var na=+Ga[0],Oa=+Ga[1];0<=na&&0<=Oa||n.error("invalid size");return fa=na,qa=Oa,Ea};Ea.cellSize=function(Ga){if(!arguments.length)return 1<<pa;1<=(Ga=+Ga)||n.error("invalid cell size");pa=Math.floor(Math.log(Ga)/Math.LN2);return Ea};Ea.bandwidth=function(Ga){if(!arguments.length)return ca;Ga=n.array(Ga);1===Ga.length&&
(Ga=[+Ga[0],+Ga[0]]);2!==Ga.length&&n.error("invalid bandwidth");return ca=Ga,Ea};return Ea}function L(Ea,ua,V,W,ca){const fa=(ca<<1)+1;for(let qa=0;qa<ua;++qa)for(let pa=0,Ga=0;pa<Ea+ca;++pa)pa<Ea&&(Ga+=V[pa+qa*Ea]),pa>=ca&&(pa>=fa&&(Ga-=V[pa-fa+qa*Ea]),W[pa-ca+qa*Ea]=Ga/Math.min(pa+1,Ea-1+fa-pa,fa))}function G(Ea,ua,V,W,ca){const fa=(ca<<1)+1;for(let qa=0;qa<Ea;++qa)for(let pa=0,Ga=0;pa<ua+ca;++pa)pa<ua&&(Ga+=V[qa+pa*Ea]),pa>=ca&&(pa>=fa&&(Ga-=V[qa+(pa-fa)*Ea]),W[qa+(pa-ca)*Ea]=Ga/Math.min(pa+1,
ua-1+fa-pa,fa))}function z(Ea){m.Transform.call(this,null,Ea)}function J(Ea,ua){Wa.forEach(V=>null!=ua[V]?Ea[V](ua[V]):0);return Ea}function K(Ea,ua){var V=[],W=Oa=>Oa(pa),ca;if(null==ua)V.push(Ea);else{var fa={};var qa=0;for(ca=Ea.length;qa<ca;++qa){var pa=Ea[qa];var Ga=ua.map(W);var na=fa[Ga];na||(fa[Ga]=na=[],na.dims=Ga,V.push(na));na.push(pa)}}return V}function R(Ea){m.Transform.call(this,null,Ea)}function U(Ea){m.Transform.call(this,null,Ea)}function ka(Ea){m.Transform.call(this,null,Ea)}function ba(Ea,
ua){const V=Ea.pointRadius();Ea.context(null);null!=ua&&Ea.pointRadius(ua);return V}function da(Ea){m.Transform.call(this,null,Ea)}function ja(Ea){m.Transform.call(this,null,Ea)}function Z(Ea,ua,V){const W=null==V?ca=>Ea(ua(ca)):ca=>{var fa=Ea.pointRadius();ca=Ea.pointRadius(V)(ua(ca));Ea.pointRadius(fa);return ca};W.context=ca=>{Ea.context(ca);return W};return W}function Q(Ea){m.Transform.call(this,[],Ea);this.generator=y.geoGraticule()}function r(Ea){m.Transform.call(this,null,Ea)}function N(Ea,
ua){let V;n.isFunction(Ea)?(V=W=>q.rgb(Ea(W,ua)),V.dep=aa(Ea)):V=n.constant(q.rgb(Ea||"#888"));return V}function ea(Ea,ua){let V;n.isFunction(Ea)?(V=W=>Ea(W,ua),V.dep=aa(Ea)):Ea?V=n.constant(Ea):(V=W=>W.$value/W.$max||0,V.dep=!0);return V}function aa(Ea){if(!n.isFunction(Ea))return!1;Ea=n.toSet(n.accessorFields(Ea));return Ea.$x||Ea.$y||Ea.$value||Ea.$max}function va(Ea,ua,V,W){const ca=Ea.width;var fa=Ea.height;const qa=Ea.x1||0,pa=Ea.y1||0,Ga=Ea.x2||ca;fa=Ea.y2||fa;const na=Ea.values;Ea=na?Fa=>
na[Fa]:n.zero;const Oa=l.canvas(Ga-qa,fa-pa),cb=Oa.getContext("2d"),Za=cb.getImageData(0,0,Ga-qa,fa-pa),Aa=Za.data;for(let Fa=pa,Ra=0;Fa<fa;++Fa){ua.$y=Fa-pa;for(let ab=qa,lb=Fa*ca;ab<Ga;++ab,Ra+=4){ua.$x=ab-qa;ua.$value=Ea(ab+lb);const Ma=V(ua);Aa[Ra+0]=Ma.r;Aa[Ra+1]=Ma.g;Aa[Ra+2]=Ma.b;Aa[Ra+3]=~~(255*W(ua))}}cb.putImageData(Za,0,0);return Oa}function ta(Ea){m.Transform.call(this,null,Ea);this.modified(!0)}function Da(Ea,ua){const V=kb(ua.fit);ua.extent?Ea.fitExtent(ua.extent,V):ua.size?Ea.fitSize(ua.size,
V):0}function $a(Ea){const ua=x.projection((Ea||"mercator").toLowerCase());ua||n.error("Unrecognized projection type: "+Ea);return ua()}function kb(Ea){Ea=n.array(Ea);return 1===Ea.length?Ea[0]:{type:"FeatureCollection",features:Ea.reduce((ua,V)=>ua.concat(sa(V)),[])}}function sa(Ea){return"FeatureCollection"===Ea.type?Ea.features:n.array(Ea).filter(ua=>null!=ua).map(ua=>"Feature"===ua.type?ua:{type:"Feature",geometry:ua})}const Ta=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,
.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];a.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"resolve",type:"enum",values:["shared","independent"],
"default":"independent"},{name:"zero",type:"boolean","default":!0},{name:"smooth",type:"boolean","default":!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string","null":!0,"default":"contour"}]};n.inherits(a,m.Transform,{transform(Ea,ua){if(this.value&&!ua.changed()&&!Ea.modified())return ua.StopPropagation;var V=ua.fork(ua.NO_SOURCE|ua.NO_FIELDS);ua=ua.materialize(ua.SOURCE).source;var W=Ea.field||n.identity,ca=c().smooth(!1!==Ea.smooth),
fa=Ea.thresholds||f(ua,W,Ea),qa=null===Ea.as?null:Ea.as||"contour",pa=[];ua.forEach(Ga=>{const na=W(Ga),Oa=ca.size([na.width,na.height])(na.values,n.isArray(fa)?fa:fa(na.values));p(Oa,na,Ga,Ea);Oa.forEach(cb=>{pa.push(m.rederive(Ga,m.ingest(null!=qa?{[qa]:cb}:cb)))})});this.value&&(V.rem=this.value);this.value=V.source=V.add=pa;return V}});z.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",
type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean","default":!1},{name:"as",type:"string","default":"grid"}]};const Wa="x y weight size cellSize bandwidth".split(" ");n.inherits(z,m.Transform,{transform(Ea,ua){function V(Ga,na){for(let Oa=0;Oa<ca.length;++Oa)Ga[ca[Oa]]=na[Oa];return Ga}if(this.value&&!ua.changed()&&!Ea.modified())return ua.StopPropagation;
var W=ua.fork(ua.NO_SOURCE|ua.NO_FIELDS);ua=ua.materialize(ua.SOURCE).source;ua=K(ua,Ea.groupby);var ca=(Ea.groupby||[]).map(n.accessorName),fa=J(P(),Ea),qa=Ea.as||"grid",pa=[];pa=ua.map(Ga=>m.ingest(V({[qa]:fa(Ga,Ea.counts)},Ga.dims)));this.value&&(W.rem=this.value);this.value=W.source=W.add=pa;return W}});R.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",
type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean","default":!0}]};n.inherits(R,m.Transform,{transform(Ea,ua){if(this.value&&!ua.changed()&&!Ea.modified())return ua.StopPropagation;var V=ua.fork(ua.NO_SOURCE|ua.NO_FIELDS),W=c().smooth(!1!==Ea.smooth),ca=Ea.values,fa=Ea.thresholds||e(Ea.count||10,Ea.nice,
!!ca),qa=Ea.size;if(!ca){ca=ua.materialize(ua.SOURCE).source;Ea=J(P(),Ea)(ca,!0);var pa=A(Ea,Ea.scale||1,Ea.scale||1,0,0);qa=[Ea.width,Ea.height];ca=Ea.values}fa=n.isArray(fa)?fa:fa(ca);ca=W.size(qa)(ca,fa);pa&&ca.forEach(pa);this.value&&(V.rem=this.value);this.value=V.source=V.add=(ca||[]).map(m.ingest);return V}});U.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};n.inherits(U,m.Transform,{transform(Ea,ua){var V=this._features,
W=this._points,ca=Ea.fields,fa=ca&&ca[0],qa=ca&&ca[1],pa=Ea.geojson||!ca&&n.identity;ca=ua.ADD;Ea=Ea.modified()||ua.changed(ua.REM)||ua.modified(n.accessorFields(pa))||fa&&ua.modified(n.accessorFields(fa))||qa&&ua.modified(n.accessorFields(qa));if(!this.value||Ea)ca=ua.SOURCE,this._features=V=[],this._points=W=[];pa&&ua.visit(ca,Ga=>V.push(pa(Ga)));fa&&qa&&(ua.visit(ca,Ga=>{var na=fa(Ga);Ga=qa(Ga);null!=na&&null!=Ga&&(na=+na)===na&&(Ga=+Ga)===Ga&&W.push([na,Ga])}),V=V.concat({type:"Feature",geometry:{type:"MultiPoint",
coordinates:W}}));this.value={type:"FeatureCollection",features:V}}});ka.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"path"}]};n.inherits(ka,m.Transform,{transform(Ea,ua){var V=ua.fork(ua.ALL),W=this.value,ca=Ea.field||n.identity,fa=Ea.as||"path",qa=V.SOURCE;!W||Ea.modified()?(this.value=W=x.getProjectionPath(Ea.projection),V.materialize().reflow()):
qa=ca===n.identity||ua.modified(ca.fields)?V.ADD_MOD:V.ADD;Ea=ba(W,Ea.pointRadius);V.visit(qa,pa=>pa[fa]=W(ca(pa)));W.pointRadius(Ea);return V.modifies(fa)}});da.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,"default":["x","y"]}]};n.inherits(da,m.Transform,{transform(Ea,ua){function V(na){const Oa=W([ca(na),fa(na)]);Oa?(na[pa]=Oa[0],na[Ga]=
Oa[1]):(na[pa]=void 0,na[Ga]=void 0)}var W=Ea.projection,ca=Ea.fields[0],fa=Ea.fields[1],qa=Ea.as||["x","y"],pa=qa[0],Ga=qa[1];Ea.modified()?ua=ua.materialize().reflow(!0).visit(ua.SOURCE,V):(Ea=ua.modified(ca.fields)||ua.modified(fa.fields),ua.visit(Ea?ua.ADD_MOD:ua.ADD,V));return ua.modifies(qa)}});ja.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field","default":"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",
type:"string","default":"shape"}]};n.inherits(ja,m.Transform,{transform(Ea,ua){ua=ua.fork(ua.ALL);var V=this.value,W=Ea.as||"shape",ca=ua.ADD;if(!V||Ea.modified())this.value=V=Z(x.getProjectionPath(Ea.projection),Ea.field||n.field("datum"),Ea.pointRadius),ua.materialize().reflow(),ca=ua.SOURCE;ua.visit(ca,fa=>fa[W]=V);return ua.modifies(W)}});Q.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},
{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,"default":[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,"default":[10,10]},{name:"precision",type:"number","default":2.5}]};n.inherits(Q,m.Transform,{transform(Ea,ua){var V=this.value,W=this.generator;if(!V.length||
Ea.modified())for(const ca in Ea)if(n.isFunction(W[ca]))W[ca](Ea[ca]);Ea=W();V.length?ua.mod.push(m.replace(V[0],Ea)):ua.add.push(m.ingest(Ea));V[0]=Ea;return ua}});r.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"as",type:"string","default":"image"}]};n.inherits(r,m.Transform,{transform(Ea,ua){if(!ua.changed()&&
!Ea.modified())return ua.StopPropagation;var V=ua.materialize(ua.SOURCE).source,W="shared"===Ea.resolve,ca=Ea.field||n.identity,fa=ea(Ea.opacity,Ea),qa=N(Ea.color,Ea),pa=Ea.as||"image",Ga={$x:0,$y:0,$value:0,$max:W?F.max(V.map(na=>F.max(ca(na).values))):0};V.forEach(na=>{const Oa=ca(na),cb=n.extend({},na,Ga);W||(cb.$max=F.max(Oa.values||[]));na[pa]=va(Oa,cb,qa.dep?qa:n.constant(qa(cb)),fa.dep?fa:n.constant(fa(cb)))});return ua.reflow(!0).modifies(pa)}});n.inherits(ta,m.Transform,{transform(Ea,ua){let V=
this.value;!V||Ea.modified("type")?(this.value=V=$a(Ea.type),x.projectionProperties.forEach(W=>{if(null!=Ea[W]){var ca=V,fa=Ea[W];if(n.isFunction(ca[W]))ca[W](fa)}})):x.projectionProperties.forEach(W=>{if(Ea.modified(W)){var ca=V,fa=Ea[W];if(n.isFunction(ca[W]))ca[W](fa)}});null!=Ea.pointRadius&&V.path.pointRadius(Ea.pointRadius);Ea.fit&&Da(V,Ea);return ua.fork(ua.NO_SOURCE|ua.NO_FIELDS)}});g.contour=R;g.geojson=U;g.geopath=ka;g.geopoint=da;g.geoshape=ja;g.graticule=Q;g.heatmap=r;g.isocontour=a;g.kde2d=
z;g.projection=ta;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[43]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E):"function"===typeof define&&define.amd?define(["exports"],m):(g=g||self,m(g.d3=g.d3||{}))})(this,function(g){function m(h,c,e,a){if(isNaN(c)||isNaN(e))return h;var f,p=h._root;a={data:a};var A=h._x0,C=h._y0,D=h._x1,P=h._y1,L,G,z,J;if(!p)return h._root=a,h;for(;p.length;)if((z=c>=(L=(A+D)/2))?A=L:D=L,(J=e>=(G=(C+P)/2))?C=G:P=G,f=p,!(p=p[z|=J<<1]))return f[z]=a,h;var K=+h._x.call(null,p.data);var R=
+h._y.call(null,p.data);if(c===K&&e===R)return a.next=p,f?f[z]=a:h._root=a,h;do f=f?f[z]=Array(4):h._root=Array(4),(z=c>=(L=(A+D)/2))?A=L:D=L,(J=e>=(G=(C+P)/2))?C=G:P=G;while((z|=J<<1)===(J=(R>=G)<<1|K>=L));return f[J]=p,f[z]=a,h}function n(h,c,e,a,f){this.node=h;this.x0=c;this.y0=e;this.x1=a;this.y1=f}function F(h){return h[0]}function O(h){return h[1]}function x(h,c,e){c=new y(null==c?F:c,null==e?O:e,NaN,NaN,NaN,NaN);return null==h?c:c.addAll(h)}function y(h,c,e,a,f,p){this._x=h;this._y=c;this._x0=
e;this._y0=a;this._x1=f;this._y1=p;this._root=void 0}function q(h){for(var c={data:h.data},e=c;h=h.next;)e=e.next={data:h.data};return c}var l=x.prototype=y.prototype;l.copy=function(){var h=new y(this._x,this._y,this._x0,this._y0,this._x1,this._y1),c=this._root,e,a;if(!c)return h;if(!c.length)return h._root=q(c),h;for(e=[{source:c,target:h._root=Array(4)}];c=e.pop();)for(var f=0;4>f;++f)if(a=c.source[f])a.length?e.push({source:a,target:c.target[f]=Array(4)}):c.target[f]=q(a);return h};l.add=function(h){const c=
+this._x.call(null,h),e=+this._y.call(null,h);return m(this.cover(c,e),c,e,h)};l.addAll=function(h){var c,e,a=h.length,f,p,A=Array(a),C=Array(a),D=Infinity,P=Infinity,L=-Infinity,G=-Infinity;for(e=0;e<a;++e)isNaN(f=+this._x.call(null,c=h[e]))||isNaN(p=+this._y.call(null,c))||(A[e]=f,C[e]=p,f<D&&(D=f),f>L&&(L=f),p<P&&(P=p),p>G&&(G=p));if(D>L||P>G)return this;this.cover(D,P).cover(L,G);for(e=0;e<a;++e)m(this,A[e],C[e],h[e]);return this};l.cover=function(h,c){if(isNaN(h=+h)||isNaN(c=+c))return this;
var e=this._x0,a=this._y0,f=this._x1,p=this._y1;if(isNaN(e))f=(e=Math.floor(h))+1,p=(a=Math.floor(c))+1;else{for(var A=f-e||1,C=this._root,D,P;e>h||h>=f||a>c||c>=p;)switch(P=(c<a)<<1|h<e,D=Array(4),D[P]=C,C=D,A*=2,P){case 0:f=e+A;p=a+A;break;case 1:e=f-A;p=a+A;break;case 2:f=e+A;a=p-A;break;case 3:e=f-A,a=p-A}this._root&&this._root.length&&(this._root=C)}this._x0=e;this._y0=a;this._x1=f;this._y1=p;return this};l.data=function(){var h=[];this.visit(function(c){if(!c.length){do h.push(c.data);while(c=
c.next)}});return h};l.extent=function(h){return arguments.length?this.cover(+h[0][0],+h[0][1]).cover(+h[1][0],+h[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]};l.find=function(h,c,e){var a=this._x0,f=this._y0,p,A,C,D,P=this._x1,L=this._y1,G=[],z=this._root,J;z&&G.push(new n(z,a,f,P,L));null==e?e=Infinity:(a=h-e,f=c-e,P=h+e,L=c+e,e*=e);for(;J=G.pop();)if(!(!(z=J.node)||(p=J.x0)>P||(A=J.y0)>L||(C=J.x1)<a||(D=J.y1)<f))if(z.length){J=(p+C)/2;var K=(A+D)/2;G.push(new n(z[3],
J,K,C,D),new n(z[2],p,K,J,D),new n(z[1],J,A,C,K),new n(z[0],p,A,J,K));if(z=(c>=K)<<1|h>=J)J=G[G.length-1],G[G.length-1]=G[G.length-1-z],G[G.length-1-z]=J}else if(J=h-+this._x.call(null,z.data),K=c-+this._y.call(null,z.data),J=J*J+K*K,J<e){var R=Math.sqrt(e=J);a=h-R;f=c-R;P=h+R;L=c+R;R=z.data}return R};l.remove=function(h){if(isNaN(D=+this._x.call(null,h))||isNaN(P=+this._y.call(null,h)))return this;var c,e=this._root,a,f=this._x0,p=this._y0,A=this._x1,C=this._y1,D,P,L,G,z,J;if(!e)return this;if(e.length)for(;;){(z=
D>=(L=(f+A)/2))?f=L:A=L;(J=P>=(G=(p+C)/2))?p=G:C=G;if(!(c=e,e=e[z|=J<<1]))return this;if(!e.length)break;if(c[z+1&3]||c[z+2&3]||c[z+3&3]){var K=c;var R=z}}for(;e.data!==h;)if(!(a=e,e=e.next))return this;(h=e.next)&&delete e.next;if(a)return h?a.next=h:delete a.next,this;if(!c)return this._root=h,this;h?c[z]=h:delete c[z];(e=c[0]||c[1]||c[2]||c[3])&&e===(c[3]||c[2]||c[1]||c[0])&&!e.length&&(K?K[R]=e:this._root=e);return this};l.removeAll=function(h){for(var c=0,e=h.length;c<e;++c)this.remove(h[c]);
return this};l.root=function(){return this._root};l.size=function(){var h=0;this.visit(function(c){if(!c.length){do++h;while(c=c.next)}});return h};l.visit=function(h){var c=[],e,a=this._root,f,p,A,C;for(a&&c.push(new n(a,this._x0,this._y0,this._x1,this._y1));e=c.pop();)if(!h(a=e.node,p=e.x0,A=e.y0,C=e.x1,e=e.y1)&&a.length){var D=(p+C)/2,P=(A+e)/2;(f=a[3])&&c.push(new n(f,D,P,C,e));(f=a[2])&&c.push(new n(f,p,P,D,e));(f=a[1])&&c.push(new n(f,D,A,C,P));(f=a[0])&&c.push(new n(f,p,A,D,P))}return this};
l.visitAfter=function(h){var c=[],e=[],a;for(this._root&&c.push(new n(this._root,this._x0,this._y0,this._x1,this._y1));a=c.pop();){var f=a.node;if(f.length){var p,A=a.x0,C=a.y0,D=a.x1,P=a.y1,L=(A+D)/2,G=(C+P)/2;(p=f[0])&&c.push(new n(p,A,C,L,G));(p=f[1])&&c.push(new n(p,L,C,D,G));(p=f[2])&&c.push(new n(p,A,G,L,P));(p=f[3])&&c.push(new n(p,L,G,D,P))}e.push(a)}for(;a=e.pop();)h(a.node,a.x0,a.y0,a.x1,a.y1);return this};l.x=function(h){return arguments.length?(this._x=h,this):this._x};l.y=function(h){return arguments.length?
(this._y=h,this):this._y};g.quadtree=x;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[44]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E):"function"===typeof define&&define.amd?define(["exports"],m):(g=g||self,m(g.d3=g.d3||{}))})(this,function(g){function m(){for(var y=0,q=arguments.length,l={},h;y<q;++y){if(!(h=arguments[y]+"")||h in l||/[\s.]/.test(h))throw Error("illegal type: "+h);l[h]=[]}return new n(l)}function n(y){this._=y}function F(y,q){return y.trim().split(/^|\s+/).map(function(l){var h="",c=l.indexOf(".");0<=c&&(h=l.slice(c+
1),l=l.slice(0,c));if(l&&!q.hasOwnProperty(l))throw Error("unknown type: "+l);return{type:l,name:h}})}function O(y,q,l){for(var h=0,c=y.length;h<c;++h)if(y[h].name===q){y[h]=x;y=y.slice(0,h).concat(y.slice(h+1));break}null!=l&&y.push({name:q,value:l});return y}var x={value:()=>{}};n.prototype=m.prototype={constructor:n,on:function(y,q){var l=this._,h=F(y+"",l),c,e=-1,a=h.length;if(2>arguments.length)for(;++e<a;){var f;if(f=c=(y=h[e]).type){a:{f=l[c];for(var p=0,A=f.length;p<A;++p)if((c=f[p]).name===
y.name){c=c.value;break a}c=void 0}f=c}if(f)return c}else{if(null!=q&&"function"!==typeof q)throw Error("invalid callback: "+q);for(;++e<a;)if(c=(y=h[e]).type)l[c]=O(l[c],y.name,q);else if(null==q)for(c in l)l[c]=O(l[c],y.name,null);return this}},copy:function(){var y={},q=this._,l;for(l in q)y[l]=q[l].slice();return new n(y)},call:function(y,q){if(0<(c=arguments.length-2))for(var l=Array(c),h=0,c,e;h<c;++h)l[h]=arguments[h+2];if(!this._.hasOwnProperty(y))throw Error("unknown type: "+y);e=this._[y];
h=0;for(c=e.length;h<c;++h)e[h].value.apply(q,l)},apply:function(y,q,l){if(!this._.hasOwnProperty(y))throw Error("unknown type: "+y);y=this._[y];for(var h=0,c=y.length;h<c;++h)y[h].value.apply(q,l)}};g.dispatch=m;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[45]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E):"function"===typeof define&&define.amd?define(["exports"],m):(g=g||self,m(g.d3=g.d3||{}))})(this,function(g){function m(){return A||(P(n),A=D.now()+C)}function n(){A=0}function F(){this._call=this._time=this._next=null}function O(L,G,z){var J=new F;J.restart(L,G,z);return J}function x(){m();++h;for(var L=a,G;L;)0<=(G=A-L._time)&&L._call.call(null,G),L=L._next;--h}function y(){A=(p=D.now())+C;h=
c=0;try{x()}finally{h=0;for(var L,G=a,z,J=Infinity;G;)G._call?(J>G._time&&(J=G._time),L=G,G=G._next):(z=G._next,G._next=null,G=L?L._next=z:a=z);f=L;l(J);A=0}}function q(){var L=D.now(),G=L-p;1E3<G&&(C-=G,p=L)}function l(L){h||(c&&(c=clearTimeout(c)),24<L-A?(Infinity>L&&(c=setTimeout(y,L-D.now()-C)),e&&(e=clearInterval(e))):(e||(p=D.now(),e=setInterval(q,1E3)),h=1,P(y)))}var h=0,c=0,e=0,a,f,p=0,A=0,C=0,D="object"===typeof performance&&performance.now?performance:Date,P="object"===typeof window&&window.requestAnimationFrame?
window.requestAnimationFrame.bind(window):function(L){setTimeout(L,17)};F.prototype=O.prototype={constructor:F,restart:function(L,G,z){if("function"!==typeof L)throw new TypeError("callback is not a function");z=(null==z?m():+z)+(null==G?0:+G);this._next||f===this||(f?f._next=this:a=this,f=this);this._call=L;this._time=z;l()},stop:function(){this._call&&(this._call=null,this._time=Infinity,l())}};g.interval=function(L,G,z){var J=new F,K=G;if(null==G)return J.restart(L,G,z),J;J._restart=J.restart;
J.restart=function(R,U,ka){U=+U;ka=null==ka?m():+ka;J._restart(function ja(da){da+=K;J._restart(ja,K+=U,ka);R(da)},U,ka)};J.restart(L,G,z);return J};g.now=m;g.timeout=function(L,G,z){var J=new F;G=null==G?0:+G;J.restart(K=>{J.stop();L(K+G)},G,z);return J};g.timer=O;g.timerFlush=x;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[46]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E,B(43),B(44),B(45)):"function"===typeof define&&define.amd?define(["exports","d3-quadtree","d3-dispatch","d3-timer"],m):(g=g||self,m(g.d3=g.d3||{},g.d3,g.d3,g.d3))})(this,function(g,m,n,F){function O(f){return function(){return f}}function x(f){return f.x+f.vx}function y(f){return f.y+f.vy}function q(f){return f.index}function l(f,p){f=f.get(p);if(!f)throw Error("node not found: "+p);return f}function h(){let f=
1;return()=>(f=(1664525*f+1013904223)%4294967296)/4294967296}function c(f){return f.x}function e(f){return f.y}var a=Math.PI*(3-Math.sqrt(5));g.forceCenter=function(f,p){function A(){var P,L=C.length,G=0,z=0;for(P=0;P<L;++P){var J=C[P];G+=J.x;z+=J.y}G=(G/L-f)*D;z=(z/L-p)*D;for(P=0;P<L;++P)J=C[P],J.x-=G,J.y-=z}var C,D=1;null==f&&(f=0);null==p&&(p=0);A.initialize=function(P){C=P};A.x=function(P){return arguments.length?(f=+P,A):f};A.y=function(P){return arguments.length?(p=+P,A):p};A.strength=function(P){return arguments.length?
(D=+P,A):D};return A};g.forceCollide=function(f){function p(){function J(r,N,ea,aa,va){var ta=r.data;r=r.r;var Da=ja+r;if(ta)ta.index>ka.index&&(N=ba-ta.x-ta.vx,ea=da-ta.y-ta.vy,aa=N*N+ea*ea,aa<Da*Da&&(0===N&&(N=1E-6*(L()-.5),aa+=N*N),0===ea&&(ea=1E-6*(L()-.5),aa+=ea*ea),aa=(Da-(aa=Math.sqrt(aa)))/aa*G,ka.vx+=(N*=aa)*(Da=(r*=r)/(Z+r)),ka.vy+=(ea*=aa)*Da,ta.vx-=N*(Da=1-Da),ta.vy-=ea*Da));else return N>ba+Da||aa<ba-Da||ea>da+Da||va<da-Da}for(var K,R=D.length,U,ka,ba,da,ja,Z,Q=0;Q<z;++Q)for(U=m.quadtree(D,
x,y).visitAfter(A),K=0;K<R;++K)ka=D[K],ja=P[ka.index],Z=ja*ja,ba=ka.x+ka.vx,da=ka.y+ka.vy,U.visit(J)}function A(J){if(J.data)return J.r=P[J.data.index];for(var K=J.r=0;4>K;++K)J[K]&&J[K].r>J.r&&(J.r=J[K].r)}function C(){if(D){var J,K=D.length;P=Array(K);for(J=0;J<K;++J){var R=D[J];P[R.index]=+f(R,J,D)}}}var D,P,L,G=1,z=1;"function"!==typeof f&&(f=O(null==f?1:+f));p.initialize=function(J,K){D=J;L=K;C()};p.iterations=function(J){return arguments.length?(z=+J,p):z};p.strength=function(J){return arguments.length?
(G=+J,p):G};p.radius=function(J){return arguments.length?(f="function"===typeof J?J:O(+J),C(),p):f};return p};g.forceLink=function(f){function p(da){for(var ja=0,Z=f.length;ja<ba;++ja)for(var Q=0,r,N,ea,aa,va;Q<Z;++Q)r=f[Q],N=r.source,r=r.target,ea=r.x+r.vx-N.x-N.vx||1E-6*(ka()-.5),aa=r.y+r.vy-N.y-N.vy||1E-6*(ka()-.5),va=Math.sqrt(ea*ea+aa*aa),va=(va-J[Q])/va*da*G[Q],ea*=va,aa*=va,r.vx-=ea*(va=U[Q]),r.vy-=aa*va,N.vx+=ea*(va=1-va),N.vy+=aa*va}function A(){if(K){var da=K.length,ja=f.length,Z=new Map(K.map((r,
N)=>[P(r,N,K),r]));var Q=0;for(R=Array(da);Q<ja;++Q)da=f[Q],da.index=Q,"object"!==typeof da.source&&(da.source=l(Z,da.source)),"object"!==typeof da.target&&(da.target=l(Z,da.target)),R[da.source.index]=(R[da.source.index]||0)+1,R[da.target.index]=(R[da.target.index]||0)+1;Q=0;for(U=Array(ja);Q<ja;++Q)da=f[Q],U[Q]=R[da.source.index]/(R[da.source.index]+R[da.target.index]);G=Array(ja);C();J=Array(ja);D()}}function C(){if(K)for(var da=0,ja=f.length;da<ja;++da)G[da]=+L(f[da],da,f)}function D(){if(K)for(var da=
0,ja=f.length;da<ja;++da)J[da]=+z(f[da],da,f)}var P=q,L=function(da){return 1/Math.min(R[da.source.index],R[da.target.index])},G,z=O(30),J,K,R,U,ka,ba=1;null==f&&(f=[]);p.initialize=function(da,ja){K=da;ka=ja;A()};p.links=function(da){return arguments.length?(f=da,A(),p):f};p.id=function(da){return arguments.length?(P=da,p):P};p.iterations=function(da){return arguments.length?(ba=+da,p):ba};p.strength=function(da){return arguments.length?(L="function"===typeof da?da:O(+da),C(),p):L};p.distance=function(da){return arguments.length?
(z="function"===typeof da?da:O(+da),D(),p):z};return p};g.forceManyBody=function(){function f(ka){var ba=D.length,da=m.quadtree(D,c,e).visitAfter(A);G=ka;for(ka=0;ka<ba;++ka)P=D[ka],da.visit(C)}function p(){if(D){var ka,ba=D.length;J=Array(ba);for(ka=0;ka<ba;++ka){var da=D[ka];J[da.index]=+z(da,ka,D)}}}function A(ka){var ba=0,da,ja,Z=0,Q,r,N;if(ka.length){for(Q=r=N=0;4>N;++N)(da=ka[N])&&(ja=Math.abs(da.value))&&(ba+=da.value,Z+=ja,Q+=ja*da.x,r+=ja*da.y);ka.x=Q/Z;ka.y=r/Z}else{da=ka;da.x=da.data.x;
da.y=da.data.y;do ba+=J[da.data.index];while(da=da.next)}ka.value=ba}function C(ka,ba,da,ja){if(!ka.value)return!0;da=ka.x-P.x;var Z=ka.y-P.y;ba=ja-ba;ja=da*da+Z*Z;if(ba*ba/U<ja)return ja<R&&(0===da&&(da=1E-6*(L()-.5),ja+=da*da),0===Z&&(Z=1E-6*(L()-.5),ja+=Z*Z),ja<K&&(ja=Math.sqrt(K*ja)),P.vx+=da*ka.value*G/ja,P.vy+=Z*ka.value*G/ja),!0;if(!(ka.length||ja>=R)){if(ka.data!==P||ka.next)0===da&&(da=1E-6*(L()-.5),ja+=da*da),0===Z&&(Z=1E-6*(L()-.5),ja+=Z*Z),ja<K&&(ja=Math.sqrt(K*ja));do ka.data!==P&&(ba=
J[ka.data.index]*G/ja,P.vx+=da*ba,P.vy+=Z*ba);while(ka=ka.next)}}var D,P,L,G,z=O(-30),J,K=1,R=Infinity,U=.81;f.initialize=function(ka,ba){D=ka;L=ba;p()};f.strength=function(ka){return arguments.length?(z="function"===typeof ka?ka:O(+ka),p(),f):z};f.distanceMin=function(ka){return arguments.length?(K=ka*ka,f):Math.sqrt(K)};f.distanceMax=function(ka){return arguments.length?(R=ka*ka,f):Math.sqrt(R)};f.theta=function(ka){return arguments.length?(U=ka*ka,f):Math.sqrt(U)};return f};g.forceRadial=function(f,
p,A){function C(J){for(var K=0,R=P.length;K<R;++K){var U=P[K],ka=U.x-p||1E-6,ba=U.y-A||1E-6,da=Math.sqrt(ka*ka+ba*ba);da=(z[K]-da)*G[K]*J/da;U.vx+=ka*da;U.vy+=ba*da}}function D(){if(P){var J,K=P.length;G=Array(K);z=Array(K);for(J=0;J<K;++J)z[J]=+f(P[J],J,P),G[J]=isNaN(z[J])?0:+L(P[J],J,P)}}var P,L=O(.1),G,z;"function"!==typeof f&&(f=O(+f));null==p&&(p=0);null==A&&(A=0);C.initialize=function(J){P=J;D()};C.strength=function(J){return arguments.length?(L="function"===typeof J?J:O(+J),D(),C):L};C.radius=
function(J){return arguments.length?(f="function"===typeof J?J:O(+J),D(),C):f};C.x=function(J){return arguments.length?(p=+J,C):p};C.y=function(J){return arguments.length?(A=+J,C):A};return C};g.forceSimulation=function(f){function p(){A();ka.call("tick",P);L<G&&(U.stop(),ka.call("end",P))}function A(da){var ja,Z=f.length;void 0===da&&(da=1);for(var Q=0;Q<da;++Q)for(L+=(J-L)*z,R.forEach(function(N){N(L)}),ja=0;ja<Z;++ja){var r=f[ja];null==r.fx?r.x+=r.vx*=K:(r.x=r.fx,r.vx=0);null==r.fy?r.y+=r.vy*=
K:(r.y=r.fy,r.vy=0)}return P}function C(){for(var da=0,ja=f.length,Z;da<ja;++da){Z=f[da];Z.index=da;null!=Z.fx&&(Z.x=Z.fx);null!=Z.fy&&(Z.y=Z.fy);if(isNaN(Z.x)||isNaN(Z.y)){var Q=10*Math.sqrt(.5+da),r=da*a;Z.x=Q*Math.cos(r);Z.y=Q*Math.sin(r)}if(isNaN(Z.vx)||isNaN(Z.vy))Z.vx=Z.vy=0}}function D(da){da.initialize&&da.initialize(f,ba);return da}var P,L=1,G=.001,z=1-Math.pow(G,1/300),J=0,K=.6,R=new Map,U=F.timer(p),ka=n.dispatch("tick","end"),ba=h();null==f&&(f=[]);C();return P={tick:A,restart:function(){return U.restart(p),
P},stop:function(){return U.stop(),P},nodes:function(da){return arguments.length?(f=da,C(),R.forEach(D),P):f},alpha:function(da){return arguments.length?(L=+da,P):L},alphaMin:function(da){return arguments.length?(G=+da,P):G},alphaDecay:function(da){return arguments.length?(z=+da,P):+z},alphaTarget:function(da){return arguments.length?(J=+da,P):J},velocityDecay:function(da){return arguments.length?(K=1-da,P):1-K},randomSource:function(da){return arguments.length?(ba=da,R.forEach(D),P):ba},force:function(da,
ja){return 1<arguments.length?(null==ja?R.delete(da):R.set(da,D(ja)),P):R.get(da)},find:function(da,ja,Z){var Q,r=f.length;Z=null==Z?Infinity:Z*Z;for(Q=0;Q<r;++Q){var N=f[Q];var ea=da-N.x;var aa=ja-N.y;ea=ea*ea+aa*aa;if(ea<Z){var va=N;Z=ea}}return va},on:function(da,ja){return 1<arguments.length?(ka.on(da,ja),P):ka.on(da)}}};g.forceX=function(f){function p(G){for(var z=0,J=D.length,K;z<J;++z)K=D[z],K.vx+=(L[z]-K.x)*P[z]*G}function A(){if(D){var G,z=D.length;P=Array(z);L=Array(z);for(G=0;G<z;++G)P[G]=
isNaN(L[G]=+f(D[G],G,D))?0:+C(D[G],G,D)}}var C=O(.1),D,P,L;"function"!==typeof f&&(f=O(null==f?0:+f));p.initialize=function(G){D=G;A()};p.strength=function(G){return arguments.length?(C="function"===typeof G?G:O(+G),A(),p):C};p.x=function(G){return arguments.length?(f="function"===typeof G?G:O(+G),A(),p):f};return p};g.forceY=function(f){function p(G){for(var z=0,J=D.length,K;z<J;++z)K=D[z],K.vy+=(L[z]-K.y)*P[z]*G}function A(){if(D){var G,z=D.length;P=Array(z);L=Array(z);for(G=0;G<z;++G)P[G]=isNaN(L[G]=
+f(D[G],G,D))?0:+C(D[G],G,D)}}var C=O(.1),D,P,L;"function"!==typeof f&&(f=O(null==f?0:+f));p.initialize=function(G){D=G;A()};p.strength=function(G){return arguments.length?(C="function"===typeof G?G:O(+G),A(),p):C};p.y=function(G){return arguments.length?(f="function"===typeof G?G:O(+G),A(),p):f};return p};Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[47]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E,B(26),B(14),B(46)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-force"],m):(g="undefined"!==typeof globalThis?globalThis:g||self,m((g.vega=g.vega||{},g.vega.transforms={}),g.vega,g.vega,g.d3))})(this,function(g,m,n,F){function O(f){m.Transform.call(this,null,f)}function x(f,p){return()=>f.touch(p).run()}function y(f,p){f=F.forceSimulation(f);const A=f.stop,
C=f.restart;let D=!1;f.stopped=()=>D;f.restart=()=>(D=!1,C());f.stop=()=>(D=!0,A());return q(f,p,!0).on("end",()=>D=!0)}function q(f,p,A,C){var D=n.array(p.forces),P;var L=0;for(P=c.length;L<P;++L){var G=c[L];if("forces"!==G&&p.modified(G))f[G](p[G])}L=0;for(P=D.length;L<P;++L){var z="forces"+L;if(A||p.modified("forces",L)){G=void 0;var J=D[L];n.hasOwnProperty(h,J.force)||n.error("Unrecognized force: "+J.force);var K=h[J.force]();for(G in J)n.isFunction(K[G])&&l(K[G],J[G],J);G=K}else{if(G=C)a:{K=
G=void 0;J=D[L];var R=C;for(K in J)if(n.isFunction(G=J[K])&&R.modified(n.accessorFields(G))){G=1;break a}G=0}G=G?f.force(z):null}G&&f.force(z,G)}for(P=f.numForces||0;L<P;++L)f.force("forces"+L,null);f.numForces=D.length;return f}function l(f,p,A){f(n.isFunction(p)?C=>p(C,A):p)}const h={center:F.forceCenter,collide:F.forceCollide,nbody:F.forceManyBody,link:F.forceLink,x:F.forceX,y:F.forceY},c=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],e=["static","iterations"],a=["x","y","vx","vy"];
O.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean","default":!1},{name:"restart",type:"boolean","default":!1},{name:"iterations",type:"number","default":300},{name:"alpha",type:"number","default":1},{name:"alphaMin",type:"number","default":.001},{name:"alphaTarget",type:"number","default":0},{name:"velocityDecay",type:"number","default":.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number","default":0},{name:"y",
type:"number","default":0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number","default":.7},{name:"iterations",type:"number","default":1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number","default":-30},{name:"theta",type:"number","default":.9},{name:"distanceMin",type:"number","default":1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",
"default":30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number","default":1}]},{key:{force:"x"},params:[{name:"strength",type:"number","default":.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number","default":.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,"default":a}]};n.inherits(O,m.Transform,{transform(f,p){var A=this.value,C=p.changed(p.ADD_REM),D=f.modified(c),P=f.iterations||300;A?(C&&(p.modifies("index"),
A.nodes(p.source)),(D||p.changed(p.MOD))&&q(A,f,0,p)):(this.value=A=y(p.source,f),A.on("tick",x(p.dataflow,this)),f.static||(C=!0,A.tick()),p.modifies("index"));if(D||C||f.modified(e)||p.changed()&&f.restart)if(A.alpha(Math.max(A.alpha(),f.alpha||1)).alphaDecay(1-Math.pow(A.alphaMin(),1/P)),f.static)for(A.stop();0<=--P;)A.tick();else if(A.stopped()&&A.restart(),!C)return p.StopPropagation;return this.finish(f,p)},finish(f,p){const A=p.dataflow;for(let G=this._argops,z=0,J=G.length,K;z<J;++z)if(K=
G[z],"forces"===K.name&&"link"===K.op._argval.force)for(var C=K.op._argops,D=0,P=C.length,L;D<P;++D)if("links"===C[D].name&&(L=C[D].op.source)){A.pulse(L,A.changeset().reflow());break}return p.reflow(f.modified()).modifies(a)}});g.force=O;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[48]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E):"function"===typeof define&&define.amd?define(["exports"],m):(g=g||self,m(g.d3=g.d3||{}))})(this,function(g){function m(V,W){return V.parent===W.parent?1:2}function n(V,W){return V+W.x}function F(V,W){return Math.max(V,W.y)}function O(V){for(var W;W=V.children;)V=W[0];return V}function x(V){for(var W;W=V.children;)V=W[W.length-1];return V}function y(V){var W=0,ca=V.children,fa=ca&&ca.length;if(fa)for(;0<=
--fa;)W+=ca[fa].value;else W=1;V.value=W}function q(V,W){V instanceof Map?(V=[void 0,V],void 0===W&&(W=h)):void 0===W&&(W=l);V=new a(V);for(var ca,fa=[V],qa,pa,Ga,na;ca=fa.pop();)if((pa=W(ca.data))&&(na=(pa=Array.from(pa)).length))for(ca.children=pa,Ga=na-1;0<=Ga;--Ga)fa.push(qa=pa[Ga]=new a(pa[Ga])),qa.parent=ca,qa.depth=ca.depth+1;return V.eachBefore(e)}function l(V){return V.children}function h(V){return Array.isArray(V)?V[1]:null}function c(V){void 0!==V.data.value&&(V.value=V.data.value);V.data=
V.data.data}function e(V){var W=0;do V.height=W;while((V=V.parent)&&V.height<++W)}function a(V){this.data=V;this.depth=this.height=0;this.parent=null}function f(V){var W=0;V=Array.from(V);for(var ca=V.length,fa,qa;ca;)qa=Math.random()*ca--|0,fa=V[ca],V[ca]=V[qa],V[qa]=fa;ca=V.length;fa=[];for(var pa;W<ca;)if(qa=V[W],pa&&A(pa,qa))++W;else{a:if(W=fa,C(qa,W))W=[qa];else{for(fa=0;fa<W.length;++fa)if(p(qa,W[fa])&&C(D(W[fa],qa),W)){W=[W[fa],qa];break a}for(fa=0;fa<W.length-1;++fa)for(pa=fa+1;pa<W.length;++pa)if(p(D(W[fa],
W[pa]),qa)&&p(D(W[fa],qa),W[pa])&&p(D(W[pa],qa),W[fa])&&C(P(W[fa],W[pa],qa),W)){W=[W[fa],W[pa],qa];break a}throw Error();}a:{W=fa=W;switch(W.length){case 1:W=W[0];W={x:W.x,y:W.y,r:W.r};break a;case 2:W=D(W[0],W[1]);break a;case 3:W=P(W[0],W[1],W[2]);break a}W=void 0}pa=W;W=0}return pa}function p(V,W){var ca=V.r-W.r,fa=W.x-V.x;V=W.y-V.y;return 0>ca||ca*ca<fa*fa+V*V}function A(V,W){var ca=V.r-W.r+1E-9*Math.max(V.r,W.r,1),fa=W.x-V.x;V=W.y-V.y;return 0<ca&&ca*ca>fa*fa+V*V}function C(V,W){for(var ca=0;ca<
W.length;++ca)if(!A(V,W[ca]))return!1;return!0}function D(V,W){var ca=V.x,fa=V.y;V=V.r;var qa=W.x,pa=W.y;W=W.r;var Ga=qa-ca,na=pa-fa,Oa=W-V,cb=Math.sqrt(Ga*Ga+na*na);return{x:(ca+qa+Ga/cb*Oa)/2,y:(fa+pa+na/cb*Oa)/2,r:(cb+V+W)/2}}function P(V,W,ca){var fa=V.x,qa=V.y;V=V.r;var pa=W.x,Ga=W.y,na=W.r,Oa=ca.x,cb=ca.y,Za=ca.r;ca=fa-pa;W=fa-Oa;var Aa=qa-Ga,Fa=qa-cb,Ra=na-V,ab=Za-V,lb=fa*fa+qa*qa-V*V;Ga=lb-pa*pa-Ga*Ga+na*na;cb=lb-Oa*Oa-cb*cb+Za*Za;Oa=W*Aa-ca*Fa;pa=(Aa*cb-Fa*Ga)/(2*Oa)-fa;Aa=(Fa*Ra-Aa*ab)/
Oa;Fa=(W*Ga-ca*cb)/(2*Oa)-qa;ca=(ca*ab-W*Ra)/Oa;W=Aa*Aa+ca*ca-1;Ra=2*(V+pa*Aa+Fa*ca);V=pa*pa+Fa*Fa-V*V;V=-(W?(Ra+Math.sqrt(Ra*Ra-4*W*V))/(2*W):V/Ra);return{x:fa+pa+Aa*V,y:qa+Fa+ca*V,r:V}}function L(V,W,ca){var fa=V.x-W.x,qa=V.y-W.y,pa=fa*fa+qa*qa;if(pa){var Ga=W.r+ca.r;Ga*=Ga;var na=V.r+ca.r;na*=na;if(Ga>na){var Oa=(pa+na-Ga)/(2*pa);Ga=Math.sqrt(Math.max(0,na/pa-Oa*Oa));ca.x=V.x-Oa*fa-Ga*qa;ca.y=V.y-Oa*qa+Ga*fa}else Oa=(pa+Ga-na)/(2*pa),Ga=Math.sqrt(Math.max(0,Ga/pa-Oa*Oa)),ca.x=W.x+Oa*fa-Ga*qa,ca.y=
W.y+Oa*qa+Ga*fa}else ca.x=W.x+ca.r,ca.y=W.y}function G(V,W){var ca=V.r+W.r-1E-6,fa=W.x-V.x;V=W.y-V.y;return 0<ca&&ca*ca>fa*fa+V*V}function z(V){var W=V._,ca=V.next._,fa=W.r+ca.r;V=(W.x*ca.r+ca.x*W.r)/fa;W=(W.y*ca.r+ca.y*W.r)/fa;return V*V+W*W}function J(V){this._=V;this.previous=this.next=null}function K(V){if(!(ca=(V="object"===typeof V&&"length"in V?V:Array.from(V)).length))return 0;var W,ca;var fa=V[0];fa.x=0;fa.y=0;if(!(1<ca))return fa.r;var qa=V[1];fa.x=-qa.r;qa.x=fa.r;qa.y=0;if(!(2<ca))return fa.r+
qa.r;L(qa,fa,W=V[2]);fa=new J(fa);qa=new J(qa);W=new J(W);fa.next=W.previous=qa;qa.next=fa.previous=W;W.next=qa.previous=fa;var pa=3;a:for(;pa<ca;++pa){L(fa._,qa._,W=V[pa]);W=new J(W);var Ga=qa.next;var na=fa.previous;var Oa=qa._.r;var cb=fa._.r;do if(Oa<=cb){if(G(Ga._,W._)){qa=Ga;fa.next=qa;qa.previous=fa;--pa;continue a}Oa+=Ga._.r;Ga=Ga.next}else{if(G(na._,W._)){fa=na;fa.next=qa;qa.previous=fa;--pa;continue a}cb+=na._.r;na=na.previous}while(Ga!==na.next);W.previous=fa;W.next=qa;fa.next=qa.previous=
qa=W;for(Ga=z(fa);(W=W.next)!==qa;)(na=z(W))<Ga&&(fa=W,Ga=na);qa=fa.next}fa=[qa._];for(W=qa;(W=W.next)!==qa;)fa.push(W._);W=f(fa);for(pa=0;pa<ca;++pa)fa=V[pa],fa.x-=W.x,fa.y-=W.y;return W.r}function R(V){if("function"!==typeof V)throw Error();return V}function U(){return 0}function ka(V){return function(){return V}}function ba(V){return Math.sqrt(V.value)}function da(V){return function(W){W.children||(W.r=Math.max(0,+V(W)||0))}}function ja(V,W){return function(ca){if(fa=ca.children){var fa,qa,pa=
fa.length,Ga=V(ca)*W||0;if(Ga)for(qa=0;qa<pa;++qa)fa[qa].r+=Ga;var na=K(fa);if(Ga)for(qa=0;qa<pa;++qa)fa[qa].r-=Ga;ca.r=na+Ga}}}function Z(V){return function(W){var ca=W.parent;W.r*=V;ca&&(W.x=ca.x+V*W.x,W.y=ca.y+V*W.y)}}function Q(V){V.x0=Math.round(V.x0);V.y0=Math.round(V.y0);V.x1=Math.round(V.x1);V.y1=Math.round(V.y1)}function r(V,W,ca,fa,qa){var pa=V.children,Ga=-1,na=pa.length;for(fa=V.value&&(fa-W)/V.value;++Ga<na;)V=pa[Ga],V.y0=ca,V.y1=qa,V.x0=W,V.x1=W+=V.value*fa}function N(V){return V.id}
function ea(V){return V.parentId}function aa(V,W){return V.parent===W.parent?1:2}function va(V){var W=V.children;return W?W[0]:V.t}function ta(V){var W=V.children;return W?W[W.length-1]:V.t}function Da(V,W){this._=V;this.A=this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=null;this.i=W}function $a(V){V=new Da(V,0);for(var W,ca=[V],fa,qa,pa;W=ca.pop();)if(qa=W._.children)for(W.children=Array(fa=qa.length),pa=fa-1;0<=pa;--pa)ca.push(fa=W.children[pa]=new Da(qa[pa],pa)),
fa.parent=W;(V.parent=new Da(null,0)).children=[V];return V}function kb(V,W,ca,fa,qa){var pa=V.children,Ga=-1,na=pa.length;for(qa=V.value&&(qa-ca)/V.value;++Ga<na;)V=pa[Ga],V.x0=W,V.x1=fa,V.y0=ca,V.y1=ca+=V.value*qa}function sa(V,W,ca,fa,qa,pa){for(var Ga=[],na=W.children,Oa,cb,Za=Oa=0,Aa=na.length,Fa,Ra=W.value,ab,lb,Ma,nb,zb,Sb;Oa<Aa;){W=qa-ca;Fa=pa-fa;do ab=na[Za++].value;while(!ab&&Za<Aa);lb=Ma=ab;Sb=Math.max(Fa/W,W/Fa)/(Ra*V);nb=ab*ab*Sb;for(zb=Math.max(Ma/nb,nb/lb);Za<Aa;++Za){ab+=cb=na[Za].value;
cb<lb&&(lb=cb);cb>Ma&&(Ma=cb);nb=ab*ab*Sb;nb=Math.max(Ma/nb,nb/lb);if(nb>zb){ab-=cb;break}zb=nb}Ga.push(Oa={value:ab,dice:W<Fa,children:na.slice(Oa,Za)});Oa.dice?r(Oa,ca,fa,qa,Ra?fa+=Fa*ab/Ra:pa):kb(Oa,ca,fa,Ra?ca+=W*ab/Ra:qa,pa);Ra-=ab;Oa=Za}return Ga}a.prototype=q.prototype={constructor:a,count:function(){return this.eachAfter(y)},each:function(V,W){let ca=-1;for(const fa of this)V.call(W,fa,++ca,this);return this},eachAfter:function(V,W){for(var ca,fa=[this],qa=[],pa,Ga,na=-1;ca=fa.pop();)if(qa.push(ca),
ca=ca.children)for(pa=0,Ga=ca.length;pa<Ga;++pa)fa.push(ca[pa]);for(;ca=qa.pop();)V.call(W,ca,++na,this);return this},eachBefore:function(V,W){for(var ca,fa=[this],qa,pa=-1;ca=fa.pop();)if(V.call(W,ca,++pa,this),ca=ca.children)for(qa=ca.length-1;0<=qa;--qa)fa.push(ca[qa]);return this},find:function(V,W){let ca=-1;for(const fa of this)if(V.call(W,fa,++ca,this))return fa},sum:function(V){return this.eachAfter(function(W){for(var ca=+V(W.data)||0,fa=W.children,qa=fa&&fa.length;0<=--qa;)ca+=fa[qa].value;
W.value=ca})},sort:function(V){return this.eachBefore(function(W){W.children&&W.children.sort(V)})},path:function(V){var W=this;var ca=W;var fa=V;if(ca!==fa){var qa=ca.ancestors(),pa=fa.ancestors(),Ga=null;ca=qa.pop();for(fa=pa.pop();ca===fa;)Ga=ca,ca=qa.pop(),fa=pa.pop();ca=Ga}for(fa=[W];W!==ca;)W=W.parent,fa.push(W);for(W=fa.length;V!==ca;)fa.splice(W,0,V),V=V.parent;return fa},ancestors:function(){for(var V=this,W=[V];V=V.parent;)W.push(V);return W},descendants:function(){return Array.from(this)},
leaves:function(){var V=[];this.eachBefore(function(W){W.children||V.push(W)});return V},links:function(){var V=this,W=[];V.each(function(ca){ca!==V&&W.push({source:ca.parent,target:ca})});return W},copy:function(){return q(this).eachBefore(c)},[Symbol.iterator]:function*(){var V,W=[this],ca;do{var fa=W.reverse();for(W=[];V=fa.pop();)if(yield V,V=V.children){var qa=0;for(ca=V.length;qa<ca;++qa)W.push(V[qa])}}while(W.length)}};var Ta={depth:-1},Wa={};Da.prototype=Object.create(a.prototype);var Ea=
(1+Math.sqrt(5))/2,ua=function ca(W){function fa(qa,pa,Ga,na,Oa){sa(W,qa,pa,Ga,na,Oa)}fa.ratio=function(qa){return ca(1<(qa=+qa)?qa:1)};return fa}(Ea);Ea=function fa(ca){function qa(pa,Ga,na,Oa,cb){if((Za=pa._squarify)&&Za.ratio===ca)for(var Za,Aa,Fa,Ra=-1,ab,lb=Za.length,Ma=pa.value;++Ra<lb;){pa=Za[Ra];Aa=pa.children;Fa=pa.value=0;for(ab=Aa.length;Fa<ab;++Fa)pa.value+=Aa[Fa].value;pa.dice?r(pa,Ga,na,Oa,Ma?na+=(cb-na)*pa.value/Ma:cb):kb(pa,Ga,na,Ma?Ga+=(Oa-Ga)*pa.value/Ma:Oa,cb);Ma-=pa.value}else pa._squarify=
Za=sa(ca,pa,Ga,na,Oa,cb),Za.ratio=ca}qa.ratio=function(pa){return fa(1<(pa=+pa)?pa:1)};return qa}(Ea);g.cluster=function(){function ca(na){var Oa,cb=0;na.eachAfter(function(ab){var lb=ab.children;if(lb){var Ma=lb.reduce(n,0)/lb.length;ab.x=Ma;ab.y=1+lb.reduce(F,0)}else ab.x=Oa?cb+=fa(ab,Oa):0,ab.y=0,Oa=ab});var Za=O(na),Aa=x(na),Fa=Za.x-fa(Za,Aa)/2,Ra=Aa.x+fa(Aa,Za)/2;return na.eachAfter(Ga?function(ab){ab.x=(ab.x-na.x)*qa;ab.y=(na.y-ab.y)*pa}:function(ab){ab.x=(ab.x-Fa)/(Ra-Fa)*qa;ab.y=(1-(na.y?
ab.y/na.y:1))*pa})}var fa=m,qa=1,pa=1,Ga=!1;ca.separation=function(na){return arguments.length?(fa=na,ca):fa};ca.size=function(na){return arguments.length?(Ga=!1,qa=+na[0],pa=+na[1],ca):Ga?null:[qa,pa]};ca.nodeSize=function(na){return arguments.length?(Ga=!0,qa=+na[0],pa=+na[1],ca):Ga?[qa,pa]:null};return ca};g.hierarchy=q;g.pack=function(){function ca(na){na.x=qa/2;na.y=pa/2;fa?na.eachBefore(da(fa)).eachAfter(ja(Ga,.5)).eachBefore(Z(1)):na.eachBefore(da(ba)).eachAfter(ja(U,1)).eachAfter(ja(Ga,na.r/
Math.min(qa,pa))).eachBefore(Z(Math.min(qa,pa)/(2*na.r)));return na}var fa=null,qa=1,pa=1,Ga=U;ca.radius=function(na){return arguments.length?(fa=null==na?null:R(na),ca):fa};ca.size=function(na){return arguments.length?(qa=+na[0],pa=+na[1],ca):[qa,pa]};ca.padding=function(na){return arguments.length?(Ga="function"===typeof na?na:ka(+na),ca):Ga};return ca};g.packEnclose=f;g.packSiblings=function(ca){K(ca);return ca};g.partition=function(){function ca(Oa){var cb=Oa.height+1;Oa.x0=Oa.y0=Ga;Oa.x1=qa;
Oa.y1=pa/cb;Oa.eachBefore(fa(pa,cb));na&&Oa.eachBefore(Q);return Oa}function fa(Oa,cb){return function(Za){Za.children&&r(Za,Za.x0,Oa*(Za.depth+1)/cb,Za.x1,Oa*(Za.depth+2)/cb);var Aa=Za.x0,Fa=Za.y0,Ra=Za.x1-Ga,ab=Za.y1-Ga;Ra<Aa&&(Aa=Ra=(Aa+Ra)/2);ab<Fa&&(Fa=ab=(Fa+ab)/2);Za.x0=Aa;Za.y0=Fa;Za.x1=Ra;Za.y1=ab}}var qa=1,pa=1,Ga=0,na=!1;ca.round=function(Oa){return arguments.length?(na=!!Oa,ca):na};ca.size=function(Oa){return arguments.length?(qa=+Oa[0],pa=+Oa[1],ca):[qa,pa]};ca.padding=function(Oa){return arguments.length?
(Ga=+Oa,ca):Ga};return ca};g.stratify=function(){function ca(pa){var Ga=Array.from(pa),na=Ga.length,Oa,cb,Za=new Map;for(Oa=0;Oa<na;++Oa){var Aa=Ga[Oa];var Fa=Ga[Oa]=new a(Aa);if(null!=(cb=fa(Aa,Oa,pa))&&(cb+="")){var Ra=Fa.id=cb;Za.set(Ra,Za.has(Ra)?Wa:Fa)}null!=(cb=qa(Aa,Oa,pa))&&(cb+="")&&(Fa.parent=cb)}for(Oa=0;Oa<na;++Oa)if(Fa=Ga[Oa],cb=Fa.parent){pa=Za.get(cb);if(!pa)throw Error("missing: "+cb);if(pa===Wa)throw Error("ambiguous: "+cb);pa.children?pa.children.push(Fa):pa.children=[Fa];Fa.parent=
pa}else{if(ab)throw Error("multiple roots");var ab=Fa}if(!ab)throw Error("no root");ab.parent=Ta;ab.eachBefore(function(lb){lb.depth=lb.parent.depth+1;--na}).eachBefore(e);ab.parent=null;if(0<na)throw Error("cycle");return ab}var fa=N,qa=ea;ca.id=function(pa){return arguments.length?(fa=R(pa),ca):fa};ca.parentId=function(pa){return arguments.length?(qa=R(pa),ca):qa};return ca};g.tree=function(){function ca(Za){var Aa=$a(Za);Aa.eachAfter(fa);Aa.parent.m=-Aa.z;Aa.eachBefore(qa);if(cb)Za.eachBefore(pa);
else{var Fa=Za,Ra=Za,ab=Za;Za.eachBefore(function(zb){zb.x<Fa.x&&(Fa=zb);zb.x>Ra.x&&(Ra=zb);zb.depth>ab.depth&&(ab=zb)});Aa=Fa===Ra?1:Ga(Fa,Ra)/2;var lb=Aa-Fa.x,Ma=na/(Ra.x+Aa+lb),nb=Oa/(ab.depth||1);Za.eachBefore(function(zb){zb.x=(zb.x+lb)*Ma;zb.y=zb.depth*nb})}return Za}function fa(Za){var Aa=Za.children,Fa=Za.parent.children,Ra=Za.i?Fa[Za.i-1]:null;if(Aa){for(var ab=0,lb=0,Ma=Za.children,nb=Ma.length,zb;0<=--nb;)zb=Ma[nb],zb.z+=ab,zb.m+=ab,ab+=zb.s+(lb+=zb.c);Aa=(Aa[0].z+Aa[Aa.length-1].z)/2;
Ra?(Za.z=Ra.z+Ga(Za._,Ra._),Za.m=Za.z-Aa):Za.z=Aa}else Ra&&(Za.z=Ra.z+Ga(Za._,Ra._));Aa=Za.parent;Fa=Za.parent.A||Fa[0];if(Ra){lb=ab=Za;Ma=ab.parent.children[0];nb=ab.m;zb=lb.m;for(var Sb=Ra.m,vc=Ma.m,lc;Ra=ta(Ra),ab=va(ab),Ra&&ab;){Ma=va(Ma);lb=ta(lb);lb.a=Za;lc=Ra.z+Sb-ab.z-nb+Ga(Ra._,ab._);if(0<lc){var kc=Ra.a.parent===Za.parent?Ra.a:Fa,jb=Za,$b=lc,yc=$b/(jb.i-kc.i);jb.c-=yc;jb.s+=$b;kc.c+=yc;jb.z+=$b;jb.m+=$b;nb+=lc;zb+=lc}Sb+=Ra.m;nb+=ab.m;vc+=Ma.m;zb+=lb.m}Ra&&!ta(lb)&&(lb.t=Ra,lb.m+=Sb-zb);
ab&&!va(Ma)&&(Ma.t=ab,Ma.m+=nb-vc,Fa=Za)}Aa.A=Fa}function qa(Za){Za._.x=Za.z+Za.parent.m;Za.m+=Za.parent.m}function pa(Za){Za.x*=na;Za.y=Za.depth*Oa}var Ga=aa,na=1,Oa=1,cb=null;ca.separation=function(Za){return arguments.length?(Ga=Za,ca):Ga};ca.size=function(Za){return arguments.length?(cb=!1,na=+Za[0],Oa=+Za[1],ca):cb?null:[na,Oa]};ca.nodeSize=function(Za){return arguments.length?(cb=!0,na=+Za[0],Oa=+Za[1],ca):cb?[na,Oa]:null};return ca};g.treemap=function(){function ca(ab){ab.x0=ab.y0=0;ab.x1=
Ga;ab.y1=na;ab.eachBefore(fa);Oa=[0];pa&&ab.eachBefore(Q);return ab}function fa(ab){var lb=Oa[ab.depth],Ma=ab.x0+lb,nb=ab.y0+lb,zb=ab.x1-lb,Sb=ab.y1-lb;zb<Ma&&(Ma=zb=(Ma+zb)/2);Sb<nb&&(nb=Sb=(nb+Sb)/2);ab.x0=Ma;ab.y0=nb;ab.x1=zb;ab.y1=Sb;ab.children&&(lb=Oa[ab.depth+1]=cb(ab)/2,Ma+=Ra(ab)-lb,nb+=Za(ab)-lb,zb-=Aa(ab)-lb,Sb-=Fa(ab)-lb,zb<Ma&&(Ma=zb=(Ma+zb)/2),Sb<nb&&(nb=Sb=(nb+Sb)/2),qa(ab,Ma,nb,zb,Sb))}var qa=ua,pa=!1,Ga=1,na=1,Oa=[0],cb=U,Za=U,Aa=U,Fa=U,Ra=U;ca.round=function(ab){return arguments.length?
(pa=!!ab,ca):pa};ca.size=function(ab){return arguments.length?(Ga=+ab[0],na=+ab[1],ca):[Ga,na]};ca.tile=function(ab){return arguments.length?(qa=R(ab),ca):qa};ca.padding=function(ab){return arguments.length?ca.paddingInner(ab).paddingOuter(ab):ca.paddingInner()};ca.paddingInner=function(ab){return arguments.length?(cb="function"===typeof ab?ab:ka(+ab),ca):cb};ca.paddingOuter=function(ab){return arguments.length?ca.paddingTop(ab).paddingRight(ab).paddingBottom(ab).paddingLeft(ab):ca.paddingTop()};
ca.paddingTop=function(ab){return arguments.length?(Za="function"===typeof ab?ab:ka(+ab),ca):Za};ca.paddingRight=function(ab){return arguments.length?(Aa="function"===typeof ab?ab:ka(+ab),ca):Aa};ca.paddingBottom=function(ab){return arguments.length?(Fa="function"===typeof ab?ab:ka(+ab),ca):Fa};ca.paddingLeft=function(ab){return arguments.length?(Ra="function"===typeof ab?ab:ka(+ab),ca):Ra};return ca};g.treemapBinary=function(ca,fa,qa,pa,Ga){function na(Ra,ab,lb,Ma,nb,zb,Sb){if(Ra>=ab-1)Ra=Oa[Ra],
Ra.x0=Ma,Ra.y0=nb,Ra.x1=zb,Ra.y1=Sb;else{for(var vc=Fa[Ra],lc=lb/2+vc,kc=Ra+1,jb=ab-1;kc<jb;){var $b=kc+jb>>>1;Fa[$b]<lc?kc=$b+1:jb=$b}lc-Fa[kc-1]<Fa[kc]-lc&&Ra+1<kc&&--kc;vc=Fa[kc]-vc;lc=lb-vc;zb-Ma>Sb-nb?(lb=lb?(Ma*lc+zb*vc)/lb:zb,na(Ra,kc,vc,Ma,nb,lb,Sb),na(kc,ab,lc,lb,nb,zb,Sb)):(lb=lb?(nb*lc+Sb*vc)/lb:Sb,na(Ra,kc,vc,Ma,nb,zb,lb),na(kc,ab,lc,Ma,lb,zb,Sb))}}var Oa=ca.children,cb,Za=Oa.length,Aa,Fa=Array(Za+1);for(Fa[0]=Aa=cb=0;cb<Za;++cb)Fa[cb+1]=Aa+=Oa[cb].value;na(0,Za,ca.value,fa,qa,pa,Ga)};
g.treemapDice=r;g.treemapResquarify=Ea;g.treemapSlice=kb;g.treemapSliceDice=function(ca,fa,qa,pa,Ga){(ca.depth&1?kb:r)(ca,fa,qa,pa,Ga)};g.treemapSquarify=ua;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[49]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E,B(26),B(14),B(48)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-hierarchy"],m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.vega={},g.vega,g.vega,g.d3))})(this,function(g,m,n,F){function O(G,z,J){const K={};G.each(R=>{const U=R.data;J(U)&&(K[z(U)]=R)});G.lookup=K;return G}function x(G){m.Transform.call(this,null,G)}function y(){function G(R,
U){if(U>=J.length)return R;const ka=R.length,ba=J[U++],da={},ja={};let Z=-1,Q,r,N;for(;++Z<ka;)Q=ba(r=R[Z])+"",(N=da[Q])?N.push(r):da[Q]=[r];for(Q in da)ja[Q]=G(da[Q],U);return ja}function z(R,U){if(++U>J.length)return R;const ka=[];for(const ba in R)ka.push({key:ba,values:z(R[ba],U)});return ka}const J=[],K={entries:R=>z(G(R,0),0),key:R=>(J.push(R),K)};return K}function q(G){m.Transform.call(this,null,G)}function l(G,z,J){for(let K,R=0,U=z.length;R<U;++R)if(K=z[R],K in J)G[K](J[K])}function h(G){q.call(this,
G)}function c(G){q.call(this,G)}function e(G){m.Transform.call(this,null,G)}function a(G){q.call(this,G)}function f(G){m.Transform.call(this,[],G)}function p(G){q.call(this,G)}x.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const A=G=>G.values;n.inherits(x,m.Transform,{transform(G,z){z.source||n.error("Nest transform requires an upstream data source.");var J=G.generate,K=G.modified(),R=z.clone(),U=this.value;
if(!U||K||z.changed())U&&U.each(ka=>{ka.children&&m.isTuple(ka.data)&&R.rem.push(ka.data)}),this.value=U=F.hierarchy({values:n.array(G.keys).reduce((ka,ba)=>{ka.key(ba);return ka},y()).entries(R.source)},A),J&&U.each(ka=>{ka.children&&(ka=m.ingest(ka.data),R.add.push(ka),R.source.push(ka))}),O(U,m.tupleid,m.tupleid);R.source.root=U;return R}});const C=(G,z)=>G.parent===z.parent?1:2;n.inherits(q,m.Transform,{transform(G,z){z.source&&z.source.root||n.error(this.constructor.name+" transform requires a backing tree data source.");
const J=this.layout(G.method),K=this.fields,R=z.source.root,U=G.as||K;G.field?R.sum(G.field):R.count();G.sort&&R.sort(m.stableCompare(G.sort,ka=>ka.data));l(J,this.params,G);J.separation&&J.separation(!1!==G.separation?C:n.one);try{this.value=J(R)}catch(ka){n.error(ka)}R.each(ka=>{{const ba=ka.data,da=K.length-1;for(let ja=0;ja<da;++ja)ba[U[ja]]=ka[K[ja]];ba[U[da]]=ka.children?ka.children.length:0}});return z.reflow(G.modified()).modifies(U).modifies("leaf")}});var D=["x","y","r","depth","children"];
h.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"radius",type:"field","default":null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:D.length,"default":D}]};n.inherits(h,q,{layout:F.pack,params:["radius","size","padding"],fields:D});D="x0 y0 x1 y1 depth children".split(" ");c.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",
type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:D.length,"default":D}]};n.inherits(c,q,{layout:F.partition,params:["size","round","padding"],fields:D});e.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};n.inherits(e,m.Transform,{transform(G,
z){z.source||n.error("Stratify transform requires an upstream data source.");let J=this.value;const K=G.modified(),R=z.fork(z.ALL).materialize(z.SOURCE);z=!J||K||z.changed(z.ADD_REM)||z.modified(G.key.fields)||z.modified(G.parentKey.fields);R.source=R.source.slice();z&&(J=R.source.length?O(F.stratify().id(G.key).parentId(G.parentKey)(R.source),G.key,n.truthy):O(F.stratify()([{}]),G.key,G.key));R.source.root=this.value=J;return R}});const P={tidy:F.tree,cluster:F.cluster};D=["x","y","depth","children"];
a.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean","default":!0},{name:"as",type:"string",array:!0,length:D.length,"default":D}]};n.inherits(a,q,{layout(G){G=G||"tidy";if(n.hasOwnProperty(P,G))return P[G]();n.error("Unrecognized Tree layout method: "+
G)},params:["size","nodeSize"],fields:D});f.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};n.inherits(f,m.Transform,{transform(G,z){G=this.value;const J=z.source&&z.source.root,K=z.fork(z.NO_SOURCE),R={};J||n.error("TreeLinks transform requires a tree data source.");z.changed(z.ADD_REM)?(K.rem=G,z.visit(z.SOURCE,U=>R[m.tupleid(U)]=1),J.each(U=>{const ka=U.data;(U=U.parent&&U.parent.data)&&R[m.tupleid(ka)]&&R[m.tupleid(U)]&&K.add.push(m.ingest({source:U,target:ka}))}),
this.value=K.add):z.changed(z.MOD)&&(z.visit(z.MOD,U=>R[m.tupleid(U)]=1),G.forEach(U=>{(R[m.tupleid(U.source)]||R[m.tupleid(U.target)])&&K.mod.push(U)}));return K}});const L={binary:F.treemapBinary,dice:F.treemapDice,slice:F.treemapSlice,slicedice:F.treemapSliceDice,squarify:F.treemapSquarify,resquarify:F.treemapResquarify};D="x0 y0 x1 y1 depth children".split(" ");p.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",
type:"enum","default":"squarify",values:"squarify resquarify binary dice slice slicedice".split(" ")},{name:"padding",type:"number","default":0},{name:"paddingInner",type:"number","default":0},{name:"paddingOuter",type:"number","default":0},{name:"paddingTop",type:"number","default":0},{name:"paddingRight",type:"number","default":0},{name:"paddingBottom",type:"number","default":0},{name:"paddingLeft",type:"number","default":0},{name:"ratio",type:"number","default":1.618033988749895},{name:"round",
type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:D.length,"default":D}]};n.inherits(p,q,{layout(){const G=F.treemap();G.ratio=z=>{const J=G.tile();J.ratio&&G.tile(J.ratio(z))};G.method=z=>{n.hasOwnProperty(L,z)?G.tile(L[z]):n.error("Unrecognized Treemap layout method: "+z)};return G},params:"method ratio size round padding paddingInner paddingOuter paddingTop paddingRight paddingBottom paddingLeft".split(" "),fields:D});g.nest=x;g.pack=
h;g.partition=c;g.stratify=e;g.tree=a;g.treelinks=f;g.treemap=p;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[50]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E,B(31),B(26),B(36),B(14)):"function"===typeof define&&define.amd?define(["exports","vega-canvas","vega-dataflow","vega-scenegraph","vega-util"],m):(g="undefined"!==typeof globalThis?globalThis:g||self,m((g.vega=g.vega||{},g.vega.transforms={}),g.vega,g.vega,g.vega,g.vega))})(this,function(g,m,n,F,O){function x(Z,Q){const r=Z.bitmap();(Q||[]).forEach(N=>r.set(Z(N.boundary[0]),Z(N.boundary[3])));return[r,
void 0]}function y(Z,Q,r,N){const ea=Z.width,aa=Z.height,va=r||N,ta=m.canvas(ea,aa).getContext("2d");Q.forEach(Ea=>q(ta,Ea,va));Q=new Uint32Array(ta.getImageData(0,0,ea,aa).data.buffer);r=Z.bitmap();const Da=va&&Z.bitmap();let $a,kb,sa,Ta,Wa;for(kb=0;kb<aa;++kb)for($a=0;$a<ea;++$a)if(Wa=Q[kb*ea+$a]&4278190080)sa=Z($a),Ta=Z(kb),N||r.set(sa,Ta),va&&Wa^268435456&&Da.set(sa,Ta);return[r,Da]}function q(Z,Q,r){if(Q.length){var N=Q[0].mark.marktype;"group"===N?Q.forEach(ea=>{ea.items.forEach(aa=>q(Z,aa.items,
r))}):F.Marks[N].draw(Z,{items:r?Q.map(l):Q})}}function l(Z){Z=n.rederive(Z,{});Z.stroke&&(Z.strokeOpacity=1);Z.fill&&(Z.fillOpacity=.0625,Z.stroke="#000",Z.strokeOpacity=1,Z.strokeWidth=2);return Z}function h(Z,Q){const r=new Uint32Array(~~((Z*Q+32)/32));return{array:r,get:(N,ea)=>{N=ea*Z+N;return r[N>>>5]&1<<(N&31)},set:(N,ea)=>{N=ea*Z+N;r[N>>>5]|=1<<(N&31)},clear:(N,ea)=>{N=ea*Z+N;r[N>>>5]&=~(1<<(N&31))},getRange:(N,ea,aa,va)=>{let ta,Da,$a;for(;va>=ea;--va){var kb=va*Z+N;ta=va*Z+aa;Da=kb>>>5;
$a=ta>>>5;if(Da===$a){if(r[Da]&G[kb&31]&z[(ta&31)+1])return!0}else{if(r[Da]&G[kb&31]||r[$a]&z[(ta&31)+1])return!0;for(kb=Da+1;kb<$a;++kb)if(r[kb])return!0}}return!1},setRange:(N,ea,aa,va)=>{let ta,Da,$a;for(;ea<=va;++ea){var kb=ea*Z+N;ta=ea*Z+aa;Da=kb>>>5;$a=ta>>>5;if(Da===$a)r[Da]|=G[kb&31]&z[(ta&31)+1];else for(r[Da]|=G[kb&31],r[$a]|=z[(ta&31)+1],kb=Da+1;kb<$a;++kb)r[kb]|=4294967295}},clearRange:(N,ea,aa,va)=>{let ta,Da,$a;for(;ea<=va;++ea){var kb=ea*Z+N;ta=ea*Z+aa;Da=kb>>>5;$a=ta>>>5;if(Da===$a)r[Da]&=
z[kb&31]|G[(ta&31)+1];else for(r[Da]&=z[kb&31],r[$a]&=G[(ta&31)+1],kb=Da+1;kb<$a;++kb)r[kb]&=0}},outOfBounds:(N,ea,aa,va)=>0>N||0>ea||va>=Q||aa>=Z}}function c(Z,Q,r){const N=Math.max(1,Math.sqrt(Z*Q/1E6)),ea=~~((Z+2*r+N)/N),aa=~~((Q+2*r+N)/N),va=ta=>~~((ta+r)/N);va.invert=ta=>ta*N-r;va.bitmap=()=>h(ea,aa);va.ratio=N;va.padding=r;va.width=Z;va.height=Q;return va}function e(Z,Q,r,N,ea,aa){r/=2;return 0>Z-r||Z+r>ea||0>Q-(r=N/2)||Q+r>aa}function a(Z,Q,r,N,ea,aa,va,ta){ea=ea*aa/(2*N);N=Z(Q-ea);Q=Z(Q+ea);
ea=Z(r-(aa/=2));Z=Z(r+aa);return va.outOfBounds(N,ea,Q,Z)||va.getRange(N,ea,Q,Z)||ta&&ta.getRange(N,ea,Q,Z)}function f(Z,Q,r,N){const ea=Z.width,aa=Z.height,va=Q[0],ta=Q[1],Da=N.length;return function($a){const kb=$a.boundary,sa=$a.datum.fontSize;if(0>kb[2]||0>kb[5]||kb[0]>ea||kb[3]>aa)return!1;let Ta=0,Wa,Ea;let ua,V;let W;let ca;let fa,qa;for(let kc=0;kc<Da;++kc){Wa=(r[kc]&3)-1;Ea=(r[kc]>>>2&3)-1;var pa=0===Wa&&0===Ea||0>N[kc];var Ga=Wa&&Ea?Math.SQRT1_2:1;ua=0>N[kc]?-1:1;V=kb[1+Wa]+N[kc]*Wa*Ga;
ca=kb[4+Ea]+ua*sa*Ea/2+N[kc]*Ea*Ga;Ga=ca-sa/2;W=ca+sa/2;var na=Z(V);fa=Z(Ga);qa=Z(W);if(!Ta){var Oa=na;var cb=fa;var Za=qa;var Aa=va,Fa=ta,Ra=V,ab=V,lb=Ga,Ma=W,nb=kb,zb=pa;if(!Aa.outOfBounds(Oa,cb,na,Za)&&(zb&&Fa?!Fa.getRange(Oa,cb,na,Za)&&nb[0]<=Ra&&ab<=nb[2]&&nb[3]<=lb&&Ma<=nb[5]:!Aa.getRange(Oa,cb,na,Za)))Ta=F.textMetrics.width($a.datum,$a.datum.text);else continue}cb=V+ua*Ta*Wa/2;V=cb-Ta/2;Oa=cb+Ta/2;na=Z(V);Za=Z(Oa);Aa=na;Fa=Za;Ra=fa;ab=qa;lb=va;Ma=ta;nb=V;zb=Oa;var Sb=Ga,vc=W,lc=kb;if(!lb.outOfBounds(Aa,
Ra,Fa,ab)&&(pa&&Ma?!Ma.getRange(Aa,Ra,Fa,ab)&&lc[0]<=nb&&zb<=lc[2]&&lc[3]<=Sb&&vc<=lc[5]:!lb.getRange(Aa,Ra,Fa,ab)))return $a.x=Wa?0>Wa*ua?Oa:V:cb,$a.y=Ea?0>Ea*ua?W:Ga:ca,$a.align=R[Wa*ua+1],$a.baseline=U[Ea*ua+1],va.setRange(na,fa,Za,qa),!0}return!1}}function p(Z,Q,r,N,ea,aa,va,ta,Da,$a,kb){if(!Z.length)return Z;var sa=Math.max(N.length,ea.length);N=A(N,sa);ea=C(ea,sa);sa=D(Z[0].datum);const Ta="group"===sa&&Z[0].datum.items[Da].marktype,Wa="area"===Ta,Ea=P(sa,Ta,ta,Da);Q=c(Q[0],Q[1],$a);$a=Wa&&
"naive"===kb;ta=Z.map(W=>({datum:W,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:Ea(W)}));if(!$a){r&&ta.sort((W,ca)=>r(W.datum,ca.datum));var ua=!1;for($a=0;$a<ea.length&&!ua;++$a)ua=5===ea[$a]||0>N[$a];sa&&(va||Wa)&&(aa=[Z.map(W=>W.datum)].concat(aa));ua=aa.length?y(Q,aa,ua,Wa):x(Q,va&&ta)}const V=Wa?ba[kb](Q,ua,va,Da):f(Q,ua,ea,N);ta.forEach(W=>W.opacity=+V(W));return ta}function A(Z,Q){const r=new Float64Array(Q),N=Z.length;for(let ea=0;ea<N;++ea)r[ea]=Z[ea]||0;for(Z=N;Z<Q;++Z)r[Z]=
r[N-1];return r}function C(Z,Q){const r=new Int8Array(Q),N=Z.length;for(let ea=0;ea<N;++ea)r[ea]|=ka[Z[ea]];for(Z=N;Z<Q;++Z)r[Z]=r[N-1];return r}function D(Z){return Z&&Z.mark&&Z.mark.marktype}function P(Z,Q,r,N){const ea=aa=>[aa.x,aa.x,aa.x,aa.y,aa.y,aa.y];return Z?"line"===Z||"area"===Z?aa=>ea(aa.datum):"line"===Q?aa=>{aa=aa.datum.items[N].items;return ea(aa.length?aa["start"===r?0:aa.length-1]:{x:NaN,y:NaN})}:aa=>{aa=aa.datum.bounds;return[aa.x1,(aa.x1+aa.x2)/2,aa.x2,aa.y1,(aa.y1+aa.y2)/2,aa.y2]}:
ea}function L(Z){n.Transform.call(this,null,Z)}const G=new Uint32Array(33),z=new Uint32Array(33);z[0]=0;G[0]=~z[0];for(let Z=1;32>=Z;++Z)z[Z]=z[Z-1]<<1|1,G[Z]=~z[Z];const J=[-1,-1,1,1],K=[-1,1,-1,1],R=["right","center","left"],U=["bottom","middle","top"],ka={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},ba={naive:function(Z,Q,r,N){const ea=Z.width,aa=Z.height;return function(va){const ta=va.datum.datum.items[N].items,Da=ta.length,$a=va.datum.fontSize,
kb=F.textMetrics.width(va.datum,va.datum.text);let sa=0;let Ta,Wa,Ea,ua,V;for(let ca=0;ca<Da;++ca){var W=ta[ca].x;Wa=ta[ca].y;Ta=void 0===ta[ca].x2?W:ta[ca].x2;Ea=void 0===ta[ca].y2?Wa:ta[ca].y2;ua=(W+Ta)/2;V=(Wa+Ea)/2;W=Math.abs(Ta-W+Ea-Wa);W>=sa&&(sa=W,va.x=ua,va.y=V)}ua=kb/2;V=$a/2;W=va.x-ua;Ta=va.x+ua;Wa=va.y-V;Ea=va.y+V;va.align="center";0>W&&Ta<=ea?va.align="left":0<=W&&ea<Ta&&(va.align="right");va.baseline="middle";0>Wa&&Ea<=aa?va.baseline="top":0<=Wa&&aa<Ea&&(va.baseline="bottom");return!0}},
"reduced-search":function(Z,Q,r,N){function ea($a,kb,sa,Ta,Wa){$a=Z.invert($a);kb=Z.invert(kb);let Ea=sa,ua=va,V;if(!e($a,kb,Ta,Wa,aa,va)&&!a(Z,$a,kb,Wa,Ta,Ea,ta,Da)&&!a(Z,$a,kb,Wa,Ta,Wa,ta,null)){for(;1<=ua-Ea;)V=(Ea+ua)/2,a(Z,$a,kb,Wa,Ta,V,ta,Da)?ua=V:Ea=V;if(Ea>sa)return[$a,kb,Ea,!0]}}const aa=Z.width,va=Z.height,ta=Q[0],Da=Q[1];return function($a){const kb=$a.datum.datum.items[N].items,sa=kb.length,Ta=$a.datum.fontSize,Wa=F.textMetrics.width($a.datum,$a.datum.text);let Ea=r?Ta:0,ua=!1,V=!1,W=
0;let ca;let fa;let qa,pa,Ga,na,Oa,cb,Za,Aa;for(let lb=0;lb<sa;++lb){var Fa=kb[lb].x;var Ra=kb[lb].y;ca=void 0===kb[lb].x2?Fa:kb[lb].x2;fa=void 0===kb[lb].y2?Ra:kb[lb].y2;if(Fa>ca){var ab=Fa;Fa=ca;ca=ab}Ra>fa&&(ab=Ra,Ra=fa,fa=ab);pa=Z(Fa);na=Z(ca);Ga=~~((pa+na)/2);Oa=Z(Ra);Za=Z(fa);cb=~~((Oa+Za)/2);for(ab=Ga;ab>=pa;--ab)for(qa=cb;qa>=Oa;--qa)(Aa=ea(ab,qa,Ea,Wa,Ta))&&([$a.x,$a.y,Ea,ua]=Aa);for(ab=Ga;ab<=na;++ab)for(qa=cb;qa<=Za;++qa)(Aa=ea(ab,qa,Ea,Wa,Ta))&&([$a.x,$a.y,Ea,ua]=Aa);ua||r||(ab=Math.abs(ca-
Fa+fa-Ra),Fa=(Fa+ca)/2,Ra=(Ra+fa)/2,ab>=W&&!e(Fa,Ra,Wa,Ta,aa,va)&&!a(Z,Fa,Ra,Ta,Wa,Ta,ta,null)&&(W=ab,$a.x=Fa,$a.y=Ra,V=!0))}return ua||V?(Fa=Wa/2,Ra=Ta/2,ta.setRange(Z($a.x-Fa),Z($a.y-Ra),Z($a.x+Fa),Z($a.y+Ra)),$a.align="center",$a.baseline="middle",!0):!1}},floodfill:function(Z,Q,r,N){const ea=Z.width,aa=Z.height,va=Q[0],ta=Q[1],Da=Z.bitmap();return function($a){const kb=$a.datum.datum.items[N].items,sa=kb.length,Ta=$a.datum.fontSize,Wa=F.textMetrics.width($a.datum,$a.datum.text),Ea=[];let ua=r?
Ta:0,V=!1,W=!1,ca=0,fa,qa,pa,Ga,na,Oa;var cb;for(let Fa=0;Fa<sa;++Fa){fa=kb[Fa].x;pa=kb[Fa].y;qa=void 0===kb[Fa].x2?fa:kb[Fa].x2;Ga=void 0===kb[Fa].y2?pa:kb[Fa].y2;for(Ea.push([Z((fa+qa)/2),Z((pa+Ga)/2)]);Ea.length;)if([Za,Aa]=Ea.pop(),!(va.get(Za,Aa)||ta.get(Za,Aa)||Da.get(Za,Aa))){Da.set(Za,Aa);for(cb=0;4>cb;++cb)na=Za+J[cb],Oa=Aa+K[cb],Da.outOfBounds(na,Oa,na,Oa)||Ea.push([na,Oa]);na=Z.invert(Za);Oa=Z.invert(Aa);var Za=ua;var Aa=aa;if(!e(na,Oa,Wa,Ta,ea,aa)&&!a(Z,na,Oa,Ta,Wa,Za,va,ta)&&!a(Z,na,
Oa,Ta,Wa,Ta,va,null)){for(;1<=Aa-Za;)cb=(Za+Aa)/2,a(Z,na,Oa,Ta,Wa,cb,va,ta)?Aa=cb:Za=cb;Za>ua&&($a.x=na,$a.y=Oa,ua=Za,V=!0)}}V||r||(Za=Math.abs(qa-fa+Ga-pa),na=(fa+qa)/2,Oa=(pa+Ga)/2,Za>=ca&&!e(na,Oa,Wa,Ta,ea,aa)&&!a(Z,na,Oa,Ta,Wa,Ta,va,null)&&(ca=Za,$a.x=na,$a.y=Oa,W=!0))}return V||W?(na=Wa/2,Oa=Ta/2,va.setRange(Z($a.x-na),Z($a.y-Oa),Z($a.x+na),Z($a.y+Oa)),$a.align="center",$a.baseline="middle",!0):!1}}},da=["x","y","opacity","align","baseline"],ja="top-left left bottom-left top bottom top-right right bottom-right".split(" ");
L.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:ja},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",
type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:da.length,default:da}]};O.inherits(L,n.Transform,{transform(Z,Q){function r(aa){aa=Z[aa];return O.isFunction(aa)&&Q.modified(aa.fields)}const N=Z.modified();if(N||Q.changed(Q.ADD_REM)||r("sort")){Z.size&&2===Z.size.length||O.error("Size parameter should be specified as a [width, height] array.");var ea=Z.as||da;p(Q.materialize(Q.SOURCE).source,Z.size,Z.sort,O.array(Z.offset||1),O.array(Z.anchor||ja),Z.avoidMarks||[],!1===Z.avoidBaseMark?
!1:!0,Z.lineAnchor||"end",Z.markIndex||0,Z.padding||0,Z.method||"naive").forEach(aa=>{const va=aa.datum;va[ea[0]]=aa.x;va[ea[1]]=aa.y;va[ea[2]]=aa.opacity;va[ea[3]]=aa.align;va[ea[4]]=aa.baseline});return Q.reflow(N).modifies(ea)}}});g.label=L;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[51]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E,B(27),B(26),B(14)):"function"===typeof define&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.vega={},g.vega,g.vega,g.vega))})(this,function(g,m,n,F){function O(l,h){var c=[],e=function(P){return P(A)},a;if(null==h)c.push(l);else{var f={};var p=0;for(a=l.length;p<a;++p){var A=l[p];var C=h.map(e);var D=f[C];
D||(f[C]=D=[],D.dims=C,c.push(D));D.push(A)}}return c}function x(l){n.Transform.call(this,null,l)}function y(l){n.Transform.call(this,null,l)}x.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number","default":.3},{name:"as",type:"string",array:!0}]};F.inherits(x,n.Transform,{transform(l,h){const c=h.fork(h.NO_SOURCE|h.NO_FIELDS);if(!this.value||h.changed()||
l.modified()){h=h.materialize(h.SOURCE).source;h=O(h,l.groupby);const e=(l.groupby||[]).map(F.accessorName),a=e.length,f=l.as||[F.accessorName(l.x),F.accessorName(l.y)],p=[];h.forEach(A=>{m.regressionLoess(A,l.x,l.y,l.bandwidth||.3).forEach(C=>{const D={};for(let P=0;P<a;++P)D[e[P]]=A.dims[P];D[f[0]]=C[0];D[f[1]]=C[1];p.push(n.ingest(D))})});this.value&&(c.rem=this.value);this.value=c.add=c.source=p}return c}});const q={linear:m.regressionLinear,log:m.regressionLog,exp:m.regressionExp,pow:m.regressionPow,
quad:m.regressionQuad,poly:m.regressionPoly};y.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string","default":"linear",values:Object.keys(q)},{name:"order",type:"number","default":3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean","default":!1},{name:"as",type:"string",array:!0}]};F.inherits(y,n.Transform,{transform(l,h){const c=
h.fork(h.NO_SOURCE|h.NO_FIELDS);if(!this.value||h.changed()||l.modified()){var e=h.materialize(h.SOURCE).source;e=O(e,l.groupby);const a=(l.groupby||[]).map(F.accessorName),f=l.method||"linear",p=l.order||3,A="poly"===f?p:"quad"===f?2:1,C=l.as||[F.accessorName(l.x),F.accessorName(l.y)],D=q[f],P=[];let L=l.extent;F.hasOwnProperty(q,f)||F.error("Invalid regression method: "+f);null!=L&&"log"===f&&0>=L[0]&&(h.dataflow.warn("Ignoring extent with values \x3c\x3d 0 for log regression."),L=null);e.forEach(G=>
{if(G.length<=A)h.dataflow.warn("Skipping regression with more parameters than data points.");else{var z=D(G,l.x,l.y,p);if(l.params)P.push(n.ingest({keys:G.dims,coef:z.coef,rSquared:z.rSquared}));else{var J=L||F.extent(G,l.x),K=R=>{const U={};for(let ka=0;ka<a.length;++ka)U[a[ka]]=G.dims[ka];U[C[0]]=R[0];U[C[1]]=R[1];P.push(n.ingest(U))};"linear"===f?J.forEach(R=>K([R,z.predict(R)])):m.sampleCurve(z.predict,J,25,200).forEach(K)}}});this.value&&(c.rem=this.value);this.value=c.add=c.source=P}return c}});
g.loess=x;g.regression=y;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[52]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E):"function"===typeof define&&define.amd?define(["exports"],m):(g=g||self,m(g.d3=g.d3||{}))})(this,function(g){function m(K,R){K/=Math.abs(K)+Math.abs(R);return(0<R?3-K:1+K)/4}function n(K,R,U,ka){K-=U;R-=ka;return K*K+R*R}function F(K,R,U,ka,ba,da){ka=(ka-R)*(ba-K);K=(U-K)*(da-R);return Math.abs(ka-K)>=3.3306690738754716E-16*Math.abs(ka+K)?ka-K:0}function O(K,R,U,ka,ba,da){return 0>(F(ba,da,K,R,
U,ka)||F(K,R,U,ka,ba,da)||F(U,ka,ba,da,K,R))}function x(K,R,U,ka){if(20>=ka-U)for(var ba=U+1;ba<=ka;ba++){for(var da=K[ba],ja=R[da],Z=ba-1;Z>=U&&R[K[Z]]>ja;)K[Z+1]=K[Z--];K[Z+1]=da}else{ba=U+1;da=ka;y(K,U+ka>>1,ba);R[K[U]]>R[K[ka]]&&y(K,U,ka);R[K[ba]]>R[K[ka]]&&y(K,ba,ka);R[K[U]]>R[K[ba]]&&y(K,U,ba);ja=K[ba];for(Z=R[ja];;){do ba++;while(R[K[ba]]<Z);do da--;while(R[K[da]]>Z);if(da<ba)break;y(K,ba,da)}K[U+1]=K[da];K[da]=ja;ka-ba+1>=da-U?(x(K,R,ba,ka),x(K,R,U,da-1)):(x(K,R,U,da-1),x(K,R,ba,ka))}}function y(K,
R,U){const ka=K[R];K[R]=K[U];K[U]=ka}function q(K){return K[0]}function l(K){return K[1]}function h(K){return K[0]}function c(K){return K[1]}function e(K){const {triangles:R,coords:U}=K;for(K=0;K<R.length;K+=3){const ka=2*R[K],ba=2*R[K+1],da=2*R[K+2];if(1E-10<(U[da]-U[ka])*(U[ba+1]-U[ka+1])-(U[ba]-U[ka])*(U[da+1]-U[ka+1]))return!1}return!0}function a(K,R,U){return[K+Math.sin(K+R)*U,R+Math.cos(K-R)*U]}function*f(K,R,U,ka){let ba=0;for(const da of K)yield R.call(ka,da,ba,K),yield U.call(ka,da,ba,K),
++ba}const p=Math.pow(2,-52),A=new Uint32Array(512);class C{static from(K,R=q,U=l){const ka=K.length,ba=new Float64Array(2*ka);for(let da=0;da<ka;da++){const ja=K[da];ba[2*da]=R(ja);ba[2*da+1]=U(ja)}return new C(ba)}constructor(K){const R=K.length>>1;if(0<R&&"number"!==typeof K[0])throw Error("Expected coords to contain numbers.");this.coords=K;K=Math.max(2*R-5,0);this._triangles=new Uint32Array(3*K);this._halfedges=new Int32Array(3*K);this._hashSize=Math.ceil(Math.sqrt(R));this._hullPrev=new Uint32Array(R);
this._hullNext=new Uint32Array(R);this._hullTri=new Uint32Array(R);this._hullHash=(new Int32Array(this._hashSize)).fill(-1);this._ids=new Uint32Array(R);this._dists=new Float64Array(R);this.update()}update(){const {coords:K,_hullPrev:R,_hullNext:U,_hullTri:ka,_hullHash:ba}=this;var da=K.length>>1,ja=Infinity,Z=Infinity,Q=-Infinity,r=-Infinity;for(var N=0;N<da;N++){var ea=K[2*N];var aa=K[2*N+1];ea<ja&&(ja=ea);aa<Z&&(Z=aa);ea>Q&&(Q=ea);aa>r&&(r=aa);this._ids[N]=N}Q=(ja+Q)/2;Z=(Z+r)/2;ja=Infinity;for(r=
0;r<da;r++)if(N=n(Q,Z,K[2*r],K[2*r+1]),N<ja){var va=r;ja=N}Z=K[2*va];r=K[2*va+1];ja=Infinity;for(Q=0;Q<da;Q++)if(Q!==va&&(N=n(Z,r,K[2*Q],K[2*Q+1]),N<ja&&0<N)){var ta=Q;ja=N}ja=K[2*ta];Q=K[2*ta+1];aa=Infinity;for(N=0;N<da;N++)if(N!==va&&N!==ta){ea=ja-Z;var Da=Q-r;var $a=K[2*N]-Z;var kb=K[2*N+1]-r,sa=ea*ea+Da*Da,Ta=$a*$a+kb*kb,Wa=.5/(ea*kb-Da*$a);Da=(kb*sa-Da*Ta)*Wa;ea=(ea*Ta-$a*sa)*Wa;ea=Da*Da+ea*ea;if(ea<aa){var Ea=N;aa=ea}}N=K[2*Ea];ea=K[2*Ea+1];if(Infinity===aa){for(va=0;va<da;va++)this._dists[va]=
K[2*va]-K[0]||K[2*va+1]-K[1];x(this._ids,this._dists,0,da-1);va=new Uint32Array(da);ta=0;for(let ua=0,V=-Infinity;ua<da;ua++)Ea=this._ids[ua],this._dists[Ea]>V&&(va[ta++]=Ea,V=this._dists[Ea]);this.hull=va.subarray(0,ta);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0)}else{O(Z,r,ja,Q,N,ea)&&(aa=ta,$a=ja,sa=Q,ta=Ea,ja=N,Q=ea,Ea=aa,N=$a,ea=sa);$a=ja-Z;aa=Q-r;sa=N-Z;kb=ea-r;Ta=$a*$a+aa*aa;Wa=sa*sa+kb*kb;Da=.5/($a*kb-aa*sa);aa=Z+(kb*Ta-aa*Wa)*Da;$a=r+($a*Wa-sa*Ta)*Da;this._cx=aa;this._cy=
$a;for(sa=0;sa<da;sa++)this._dists[sa]=n(K[2*sa],K[2*sa+1],aa,$a);x(this._ids,this._dists,0,da-1);this._hullStart=va;da=3;U[va]=R[Ea]=ta;U[ta]=R[va]=Ea;U[Ea]=R[ta]=va;ka[va]=0;ka[ta]=1;ka[Ea]=2;ba.fill(-1);ba[this._hashKey(Z,r)]=va;ba[this._hashKey(ja,Q)]=ta;ba[this._hashKey(N,ea)]=Ea;this.trianglesLen=0;this._addTriangle(va,ta,Ea,-1,-1,-1);for(let ua=0,V,W;ua<this._ids.length;ua++){Z=this._ids[ua];r=K[2*Z];ja=K[2*Z+1];if(0<ua&&Math.abs(r-V)<=p&&Math.abs(ja-W)<=p)continue;V=r;W=ja;if(Z===va||Z===
ta||Z===Ea)continue;Q=0;for(let fa=0,qa=this._hashKey(r,ja);fa<this._hashSize&&(Q=ba[(qa+fa)%this._hashSize],-1===Q||Q===U[Q]);fa++);N=Q=R[Q];let ca;for(;ca=U[N],!O(r,ja,K[2*N],K[2*N+1],K[2*ca],K[2*ca+1]);)if(N=ca,N===Q){N=-1;break}if(-1!==N){ea=this._addTriangle(N,Z,U[N],-1,-1,ka[N]);ka[Z]=this._legalize(ea+2);ka[N]=ea;da++;for(aa=U[N];ca=U[aa],O(r,ja,K[2*aa],K[2*aa+1],K[2*ca],K[2*ca+1]);)ea=this._addTriangle(aa,Z,ca,ka[Z],-1,ka[aa]),ka[Z]=this._legalize(ea+2),U[aa]=aa,da--,aa=ca;if(N===Q)for(;ca=
R[N],O(r,ja,K[2*ca],K[2*ca+1],K[2*N],K[2*N+1]);)ea=this._addTriangle(ca,Z,N,-1,ka[N],ka[ca]),this._legalize(ea+2),ka[ca]=ea,U[N]=N,da--,N=ca;this._hullStart=R[Z]=N;U[N]=R[aa]=Z;U[Z]=aa;ba[this._hashKey(r,ja)]=Z;ba[this._hashKey(K[2*N],K[2*N+1])]=N}}this.hull=new Uint32Array(da);for(let ua=0,V=this._hullStart;ua<da;ua++)this.hull[ua]=V,V=U[V];this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}}_hashKey(K,R){return Math.floor(m(K-
this._cx,R-this._cy)*this._hashSize)%this._hashSize}_legalize(K){const {_triangles:R,_halfedges:U,coords:ka}=this;let ba=0;for(var da;;){const va=U[K];var ja=K-K%3;da=ja+(K+2)%3;if(-1===va){if(0===ba)break;K=A[--ba];continue}const ta=va-va%3,Da=ta+(va+2)%3;var Z=R[da],Q=R[K],r=R[ja+(K+1)%3];ja=R[Da];{var N=ka[2*ja],ea=ka[2*ja+1];var aa=ka[2*Z]-N;const $a=ka[2*Z+1]-ea,kb=ka[2*Q]-N;Q=ka[2*Q+1]-ea;N=ka[2*r]-N;ea=ka[2*r+1]-ea;r=kb*kb+Q*Q;const sa=N*N+ea*ea;aa=0>aa*(Q*sa-r*ea)-$a*(kb*sa-r*N)+(aa*aa+$a*
$a)*(kb*ea-Q*N)}if(aa){R[K]=ja;R[va]=Z;Z=U[Da];if(-1===Z){ja=this._hullStart;do{if(this._hullTri[ja]===Da){this._hullTri[ja]=K;break}ja=this._hullPrev[ja]}while(ja!==this._hullStart)}this._link(K,Z);this._link(va,U[da]);this._link(da,Da);da=ta+(va+1)%3;ba<A.length&&(A[ba++]=da)}else{if(0===ba)break;K=A[--ba]}}return da}_link(K,R){this._halfedges[K]=R;-1!==R&&(this._halfedges[R]=K)}_addTriangle(K,R,U,ka,ba,da){const ja=this.trianglesLen;this._triangles[ja]=K;this._triangles[ja+1]=R;this._triangles[ja+
2]=U;this._link(ja,ka);this._link(ja+1,ba);this._link(ja+2,da);this.trianglesLen+=3;return ja}}class D{constructor(){this._x0=this._y0=this._x1=this._y1=null;this._=""}moveTo(K,R){this._+=`M${this._x0=this._x1=+K},${this._y0=this._y1=+R}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(K,R){this._+=`L${this._x1=+K},${this._y1=+R}`}arc(K,R,U){K=+K;R=+R;U=+U;const ka=K+U,ba=R;if(0>U)throw Error("negative radius");if(null===this._x1)this._+=`M${ka},${ba}`;else if(1E-6<
Math.abs(this._x1-ka)||1E-6<Math.abs(this._y1-ba))this._+="L"+ka+","+ba;U&&(this._+=`A${U},${U},0,1,1,${K-U},${R}A${U},${U},0,1,1,${this._x1=ka},${this._y1=ba}`)}rect(K,R,U,ka){this._+=`M${this._x0=this._x1=+K},${this._y0=this._y1=+R}h${+U}v${+ka}h${-U}Z`}value(){return this._||null}}class P{constructor(){this._=[]}moveTo(K,R){this._.push([K,R])}closePath(){this._.push(this._[0].slice())}lineTo(K,R){this._.push([K,R])}value(){return this._.length?this._:null}}class L{constructor(K,[R,U,ka,ba]=[0,
0,960,500]){if(!((ka=+ka)>=(R=+R)&&(ba=+ba)>=(U=+U)))throw Error("invalid bounds");this.delaunay=K;this._circumcenters=new Float64Array(2*K.points.length);this.vectors=new Float64Array(2*K.points.length);this.xmax=ka;this.xmin=R;this.ymax=ba;this.ymin=U;this._init()}update(){this.delaunay.update();this._init();return this}_init(){const {delaunay:{points:K,hull:R,triangles:U},vectors:ka}=this;var ba=this.circumcenters=this._circumcenters.subarray(0,U.length/3*2);for(let aa=0,va=0,ta=U.length,Da,$a;aa<
ta;aa+=3,va+=2){var da=2*U[aa],ja=2*U[aa+1],Z=2*U[aa+2],Q=K[da];da=K[da+1];var r=K[Z],N=K[Z+1];Z=K[ja]-Q;ja=K[ja+1]-da;var ea=r-Q;const kb=N-da,sa=Z*Z+ja*ja,Ta=ea*ea+kb*kb,Wa=2*(Z*kb-ja*ea);Wa?1E-8>Math.abs(Wa)?(Da=(Q+r)/2,$a=(da+N)/2):(r=1/Wa,Da=Q+(kb*sa-ja*Ta)*r,$a=da+(Z*Ta-ea*sa)*r):(Da=(Q+r)/2-1E8*kb,$a=(da+N)/2+1E8*ea);ba[va]=Da;ba[va+1]=$a}ba=R[R.length-1];da=4*ba;Z=K[2*ba];ja=K[2*ba+1];ka.fill(0);for(ea=0;ea<R.length;++ea)ba=R[ea],Q=da,r=Z,N=ja,da=4*ba,Z=K[2*ba],ja=K[2*ba+1],ka[Q+2]=ka[da]=
N-ja,ka[Q+3]=ka[da+1]=Z-r}render(K){const R=null==K?K=new D:void 0,{delaunay:{halfedges:U,inedges:ka,hull:ba},circumcenters:da,vectors:ja}=this;if(1>=ba.length)return null;for(let ea=0,aa=U.length;ea<aa;++ea){var Z=U[ea];if(!(Z<ea)){var Q=2*Math.floor(ea/3);Z=2*Math.floor(Z/3);this._renderSegment(da[Q],da[Q+1],da[Z],da[Z+1],K)}}Q=ba[ba.length-1];for(Z=0;Z<ba.length;++Z){var r=Q;Q=ba[Z];var N=2*Math.floor(ka[Q]/3);const ea=da[N];N=da[N+1];r*=4;(r=this._project(ea,N,ja[r+2],ja[r+3]))&&this._renderSegment(ea,
N,r[0],r[1],K)}return R&&R.value()}renderBounds(K){const R=null==K?K=new D:void 0;K.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin);return R&&R.value()}renderCell(K,R){const U=null==R?R=new D:void 0;K=this._clip(K);if(null!==K&&K.length){R.moveTo(K[0],K[1]);for(var ka=K.length;K[0]===K[ka-2]&&K[1]===K[ka-1]&&1<ka;)ka-=2;for(let ba=2;ba<ka;ba+=2)K[ba]===K[ba-2]&&K[ba+1]===K[ba-1]||R.lineTo(K[ba],K[ba+1]);R.closePath();return U&&U.value()}}*cellPolygons(){var {delaunay:{points:K}}=
this;for(let R=0,U=K.length/2;R<U;++R)if(K=this.cellPolygon(R))K.index=R,yield K}cellPolygon(K){const R=new P;this.renderCell(K,R);return R.value()}_renderSegment(K,R,U,ka,ba){const da=this._regioncode(K,R),ja=this._regioncode(U,ka);if(0===da&&0===ja)ba.moveTo(K,R),ba.lineTo(U,ka);else if(K=this._clipSegment(K,R,U,ka,da,ja))ba.moveTo(K[0],K[1]),ba.lineTo(K[2],K[3])}contains(K,R,U){return(R=+R,R!==R)||(U=+U,U!==U)?!1:this.delaunay._step(K,R,U)===K}*neighbors(K){const R=this._clip(K);if(R)for(const U of this.delaunay.neighbors(K))if(K=
this._clip(U))a:for(let ka=0,ba=R.length;ka<ba;ka+=2)for(let da=0,ja=K.length;da<ja;da+=2)if(R[ka]==K[da]&&R[ka+1]==K[da+1]&&R[(ka+2)%ba]==K[(da+ja-2)%ja]&&R[(ka+3)%ba]==K[(da+ja-1)%ja]){yield U;break a}}_cell(K){const {circumcenters:R,delaunay:{inedges:U,halfedges:ka,triangles:ba}}=this,da=U[K];if(-1===da)return null;const ja=[];let Z=da;do{const Q=Math.floor(Z/3);ja.push(R[2*Q],R[2*Q+1]);Z=2===Z%3?Z-2:Z+1;if(ba[Z]!==K)break;Z=ka[Z]}while(Z!==da&&-1!==Z);return ja}_clip(K){if(0===K&&1===this.delaunay.hull.length)return[this.xmax,
this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const R=this._cell(K);if(null===R)return null;const {vectors:U}=this,ka=4*K;return U[ka]||U[ka+1]?this._clipInfinite(K,R,U[ka],U[ka+1],U[ka+2],U[ka+3]):this._clipFinite(K,R)}_clipFinite(K,R){const U=R.length;let ka=null;let ba=R[U-2],da=R[U-1];let ja=this._regioncode(ba,da),Z;for(let ea=0;ea<U;ea+=2){var Q=ba;var r=da;ba=R[ea];da=R[ea+1];var N=ja;ja=this._regioncode(ba,da);if(0===N&&0===ja)Z=0,ka?ka.push(ba,da):ka=[ba,da];else{let aa,
va;if(0===N){if(null===(Q=this._clipSegment(Q,r,ba,da,N,ja)))continue;[r,N,aa,va]=Q}else{if(null===(Q=this._clipSegment(ba,da,Q,r,ja,N)))continue;[aa,va,r,N]=Q;Q=Z;Z=this._edgecode(r,N);Q&&Z&&this._edge(K,Q,Z,ka,ka.length);ka?ka.push(r,N):ka=[r,N]}Q=Z;Z=this._edgecode(aa,va);Q&&Z&&this._edge(K,Q,Z,ka,ka.length);ka?ka.push(aa,va):ka=[aa,va]}}if(ka)Q=Z,Z=this._edgecode(ka[0],ka[1]),Q&&Z&&this._edge(K,Q,Z,ka,ka.length);else if(this.contains(K,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,
this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return ka}_clipSegment(K,R,U,ka,ba,da){for(;;){if(0===ba&&0===da)return[K,R,U,ka];if(ba&da)return null;var ja=void 0;let Z;ja=ba||da;ja&8?(ja=K+(U-K)*(this.ymax-R)/(ka-R),Z=this.ymax):ja&4?(ja=K+(U-K)*(this.ymin-R)/(ka-R),Z=this.ymin):ja&2?(Z=R+(ka-R)*(this.xmax-K)/(U-K),ja=this.xmax):(Z=R+(ka-R)*(this.xmin-K)/(U-K),ja=this.xmin);ba?(K=ja,R=Z,ba=this._regioncode(K,R)):(U=ja,ka=Z,da=this._regioncode(U,ka))}}_clipInfinite(K,R,U,
ka,ba,da){R=Array.from(R);let ja;(ja=this._project(R[0],R[1],U,ka))&&R.unshift(ja[0],ja[1]);(ja=this._project(R[R.length-2],R[R.length-1],ba,da))&&R.push(ja[0],ja[1]);if(R=this._clipFinite(K,R))for(let Z=0,Q=R.length,r,N=this._edgecode(R[Q-2],R[Q-1]);Z<Q;Z+=2)r=N,N=this._edgecode(R[Z],R[Z+1]),r&&N&&(Z=this._edge(K,r,N,R,Z),Q=R.length);else this.contains(K,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(R=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return R}_edge(K,
R,U,ka,ba){for(;R!==U;){let da,ja;switch(R){case 5:R=4;continue;case 4:R=6;da=this.xmax;ja=this.ymin;break;case 6:R=2;continue;case 2:R=10;da=this.xmax;ja=this.ymax;break;case 10:R=8;continue;case 8:R=9;da=this.xmin;ja=this.ymax;break;case 9:R=1;continue;case 1:R=5,da=this.xmin,ja=this.ymin}ka[ba]===da&&ka[ba+1]===ja||!this.contains(K,da,ja)||(ka.splice(ba,0,da,ja),ba+=2)}if(4<ka.length)for(K=0;K<ka.length;K+=2)if(R=(K+2)%ka.length,U=(K+4)%ka.length,ka[K]===ka[R]&&ka[R]===ka[U]||ka[K+1]===ka[R+1]&&
ka[R+1]===ka[U+1])ka.splice(R,2),K-=2;return ba}_project(K,R,U,ka){let ba=Infinity,da,ja,Z;if(0>ka){if(R<=this.ymin)return null;(da=(this.ymin-R)/ka)<ba&&(Z=this.ymin,ja=K+(ba=da)*U)}else if(0<ka){if(R>=this.ymax)return null;(da=(this.ymax-R)/ka)<ba&&(Z=this.ymax,ja=K+(ba=da)*U)}if(0<U){if(K>=this.xmax)return null;(da=(this.xmax-K)/U)<ba&&(ja=this.xmax,Z=R+da*ka)}else if(0>U){if(K<=this.xmin)return null;(da=(this.xmin-K)/U)<ba&&(ja=this.xmin,Z=R+da*ka)}return[ja,Z]}_edgecode(K,R){return(K===this.xmin?
1:K===this.xmax?2:0)|(R===this.ymin?4:R===this.ymax?8:0)}_regioncode(K,R){return(K<this.xmin?1:K>this.xmax?2:0)|(R<this.ymin?4:R>this.ymax?8:0)}}const G=2*Math.PI,z=Math.pow;class J{static from(K,R=h,U=c,ka){if("length"in K){{const ba=K.length,da=new Float64Array(2*ba);for(let ja=0;ja<ba;++ja){const Z=K[ja];da[2*ja]=R.call(ka,Z,ja,K);da[2*ja+1]=U.call(ka,Z,ja,K)}K=da}}else K=Float64Array.from(f(K,R,U,ka));return new J(K)}constructor(K){this._delaunator=new C(K);this.inedges=new Int32Array(K.length/
2);this._hullIndex=new Int32Array(K.length/2);this.points=this._delaunator.coords;this._init()}update(){this._delaunator.update();this._init();return this}_init(){var K=this._delaunator;const R=this.points;if(K.hull&&2<K.hull.length&&e(K)){this.collinear=Int32Array.from({length:R.length/2},(ja,Z)=>Z).sort((ja,Z)=>R[2*ja]-R[2*Z]||R[2*ja+1]-R[2*Z+1]);K=this.collinear[0];var U=this.collinear[this.collinear.length-1];K=[R[2*K],R[2*K+1],R[2*U],R[2*U+1]];K=1E-8*Math.hypot(K[3]-K[1],K[2]-K[0]);for(let ja=
0,Z=R.length/2;ja<Z;++ja)U=a(R[2*ja],R[2*ja+1],K),R[2*ja]=U[0],R[2*ja+1]=U[1];this._delaunator=new C(R)}else delete this.collinear;K=this.halfedges=this._delaunator.halfedges;U=this.hull=this._delaunator.hull;const ka=this.triangles=this._delaunator.triangles,ba=this.inedges.fill(-1),da=this._hullIndex.fill(-1);for(let ja=0,Z=K.length;ja<Z;++ja){const Q=ka[2===ja%3?ja-2:ja+1];if(-1===K[ja]||-1===ba[Q])ba[Q]=ja}for(let ja=0,Z=U.length;ja<Z;++ja)da[U[ja]]=ja;2>=U.length&&0<U.length&&(this.triangles=
(new Int32Array(3)).fill(-1),this.halfedges=(new Int32Array(3)).fill(-1),this.triangles[0]=U[0],this.triangles[1]=U[1],this.triangles[2]=U[1],ba[U[0]]=1,2===U.length&&(ba[U[1]]=0))}voronoi(K){return new L(this,K)}*neighbors(K){const {inedges:R,hull:U,_hullIndex:ka,halfedges:ba,triangles:da,collinear:ja}=this;if(ja){var Z=ja.indexOf(K);0<Z&&(yield ja[Z-1]);Z<ja.length-1&&(yield ja[Z+1])}else{var Q=R[K];if(-1!==Q){var r=Q;do{yield(Z=da[r]);r=2===r%3?r-2:r+1;if(da[r]!==K)break;r=ba[r];if(-1===r){K=U[(ka[K]+
1)%U.length];K!==Z&&(yield K);break}}while(r!==Q)}}}find(K,R,U=0){if((K=+K,K!==K)||(R=+R,R!==R))return-1;const ka=U;let ba;for(;0<=(ba=this._step(U,K,R))&&ba!==U&&ba!==ka;)U=ba;return ba}_step(K,R,U){const {inedges:ka,hull:ba,_hullIndex:da,halfedges:ja,triangles:Z,points:Q}=this;if(-1===ka[K]||!Q.length)return(K+1)%(Q.length>>1);let r=K,N=z(R-Q[2*K],2)+z(U-Q[2*K+1],2);const ea=ka[K];let aa=ea;do{let va=Z[aa];const ta=z(R-Q[2*va],2)+z(U-Q[2*va+1],2);ta<N&&(N=ta,r=va);aa=2===aa%3?aa-2:aa+1;if(Z[aa]!==
K)break;aa=ja[aa];if(-1===aa){aa=ba[(da[K]+1)%ba.length];if(aa!==va&&z(R-Q[2*aa],2)+z(U-Q[2*aa+1],2)<N)return aa;break}}while(aa!==ea);return r}render(K){const R=null==K?K=new D:void 0,{points:U,halfedges:ka,triangles:ba}=this;for(let ja=0,Z=ka.length;ja<Z;++ja){var da=ka[ja];if(da<ja)continue;const Q=2*ba[ja];da=2*ba[da];K.moveTo(U[Q],U[Q+1]);K.lineTo(U[da],U[da+1])}this.renderHull(K);return R&&R.value()}renderPoints(K,R=2){const U=null==K?K=new D:void 0,{points:ka}=this;for(let ba=0,da=ka.length;ba<
da;ba+=2){const ja=ka[ba],Z=ka[ba+1];K.moveTo(ja+R,Z);K.arc(ja,Z,R,0,G)}return U&&U.value()}renderHull(K){const R=null==K?K=new D:void 0,{hull:U,points:ka}=this;var ba=2*U[0];const da=U.length;K.moveTo(ka[ba],ka[ba+1]);for(ba=1;ba<da;++ba){const ja=2*U[ba];K.lineTo(ka[ja],ka[ja+1])}K.closePath();return R&&R.value()}hullPolygon(){const K=new P;this.renderHull(K);return K.value()}renderTriangle(K,R){const U=null==R?R=new D:void 0,{points:ka,triangles:ba}=this,da=2*ba[K*=3],ja=2*ba[K+1];K=2*ba[K+2];
R.moveTo(ka[da],ka[da+1]);R.lineTo(ka[ja],ka[ja+1]);R.lineTo(ka[K],ka[K+1]);R.closePath();return U&&U.value()}*trianglePolygons(){const {triangles:K}=this;for(let R=0,U=K.length/3;R<U;++R)yield this.trianglePolygon(R)}trianglePolygon(K){const R=new P;this.renderTriangle(K,R);return R.value()}}g.Delaunay=J;g.Voronoi=L;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[53]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E,B(26),B(14),B(52)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-delaunay"],m):(g="undefined"!==typeof globalThis?globalThis:g||self,m((g.vega=g.vega||{},g.vega.transforms={}),g.vega,g.vega,g.d3))})(this,function(g,m,n,F){function O(y){m.Transform.call(this,null,y)}O.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},
{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,"default":[[-1E5,-1E5],[1E5,1E5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string","default":"path"}]};const x=[-1E5,-1E5,1E5,1E5];n.inherits(O,m.Transform,{transform(y,q){const l=y.as||"path",h=q.source;if(!h||!h.length)return q;var c=y.size;c=c?[0,0,c[0],c[1]]:(c=y.extent)?[c[0][0],c[0][1],c[1][0],c[1][1]]:x;c=this.value=F.Delaunay.from(h,y.x,y.y).voronoi(c);
for(let f=0,p=h.length;f<p;++f){var e=c.cellPolygon(f),a=h[f];if(e){{const A=e[0][0],C=e[0][1];let D=e.length-1;for(;e[D][0]===A&&e[D][1]===C;--D);e="M"+e.slice(0,D+1).join("L")+"Z"}}else e=null;a[l]=e}return q.reflow(y.modified()).modifies(l)}});g.voronoi=O;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[54]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E,B(31),B(26),B(14),B(35),B(27)):"function"===typeof define&&define.amd?define("exports vega-canvas vega-dataflow vega-util vega-scale vega-statistics".split(" "),m):(g="undefined"!==typeof globalThis?globalThis:g||self,m((g.vega=g.vega||{},g.vega.transforms={}),g.vega,g.vega,g.vega,g.vega,g.vega))})(this,function(g,m,n,F,O,x){function y(){function D(Q){Q.width=Q.height=1;var r=Math.sqrt(Q.getContext("2d").getImageData(0,
0,1,1).data.length>>2);Q.width=2048/r;Q.height=2048/r;Q=Q.getContext("2d");Q.fillStyle=Q.strokeStyle="red";Q.textAlign="center";return{context:Q,ratio:r}}function P(Q,r,N){for(var ea=r.x,aa=r.y,va=Math.sqrt(L[0]*L[0]+L[1]*L[1]),ta=ba(L),Da=.5>ja()?1:-1,$a=-Da,kb,sa;kb=ta($a+=Da);){sa=~~kb[0];kb=~~kb[1];if(Math.min(Math.abs(sa),Math.abs(kb))>=va)break;r.x=ea+sa;r.y=aa+kb;if(!(0>r.x+r.x0||0>r.y+r.y0||r.x+r.x1>L[0]||r.y+r.y1>L[1])){if(!(sa=!N)){a:{sa=L[0];sa>>=5;kb=r.sprite;var Ta=r.width>>5;var Wa=
r.x-(Ta<<4);for(var Ea=Wa&127,ua=32-Ea,V=r.y1-r.y0,W=(r.y+r.y0)*sa+(Wa>>5),ca=0;ca<V;ca++){for(var fa=Wa=0;fa<=Ta;fa++)if((Wa<<ua|(fa<Ta?(Wa=kb[ca*Ta+fa])>>>Ea:0))&Q[W+fa]){sa=!0;break a}W+=sa}sa=!1}sa=!sa}if(sa&&(!N||r.x+r.x1>N[0].x&&r.x+r.x0<N[1].x&&r.y+r.y1>N[0].y&&r.y+r.y0<N[1].y)){N=r.sprite;ea=r.width>>5;aa=L[0]>>5;$a=r.x-(ea<<4);va=$a&127;ta=32-va;Da=r.y1-r.y0;$a=(r.y+r.y0)*aa+($a>>5);for(kb=0;kb<Da;kb++){for(Ta=sa=0;Ta<=ea;Ta++)Q[$a+Ta]=Q[$a+Ta]|sa<<ta|(Ta<ea?(sa=N[kb*ea+Ta])>>>va:0);$a+=
aa}r.sprite=null;return!0}}}return!1}var L=[256,256],G,z,J,K,R,U,ka,ba=h,da=[],ja=Math.random,Z={layout:function(){for(var Q=D(m.canvas()),r=c((L[0]>>5)*L[1]),N=null,ea=da.length,aa=-1,va=[],ta=da.map($a=>({text:G($a),font:z($a),style:K($a),weight:R($a),rotate:U($a),size:~~(J($a)+1E-14),padding:ka($a),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:$a})).sort(($a,kb)=>kb.size-$a.size);++aa<ea;){var Da=ta[aa];Da.x=L[0]*(ja()+.5)>>1;Da.y=L[1]*(ja()+.5)>>1;q(Q,Da,ta,aa);Da.hasText&&P(r,
Da,N)&&(va.push(Da),N?l(N,Da):N=[{x:Da.x+Da.x0,y:Da.y+Da.y0},{x:Da.x+Da.x1,y:Da.y+Da.y1}],Da.x-=L[0]>>1,Da.y-=L[1]>>1)}return va},words:function(Q){return arguments.length?(da=Q,Z):da},size:function(Q){return arguments.length?(L=[+Q[0],+Q[1]],Z):L},font:function(Q){return arguments.length?(z=e(Q),Z):z},fontStyle:function(Q){return arguments.length?(K=e(Q),Z):K},fontWeight:function(Q){return arguments.length?(R=e(Q),Z):R},rotate:function(Q){return arguments.length?(U=e(Q),Z):U},text:function(Q){return arguments.length?
(G=e(Q),Z):G},spiral:function(Q){return arguments.length?(ba=p[Q]||Q,Z):ba},fontSize:function(Q){return arguments.length?(J=e(Q),Z):J},padding:function(Q){return arguments.length?(ka=e(Q),Z):ka},random:function(Q){return arguments.length?(ja=Q,Z):ja}};return Z}function q(D,P,L,G){if(!P.sprite){var z=D.context,J=D.ratio;z.clearRect(0,0,2048/J,2048/J);var K=D=0,R=0,U=L.length;for(--G;++G<U;){P=L[G];z.save();z.font=P.style+" "+P.weight+" "+~~((P.size+1)/J)+"px "+P.font;var ka=z.measureText(P.text+"m").width*
J;var ba=P.size<<1;if(P.rotate){var da=Math.sin(P.rotate*f),ja=Math.cos(P.rotate*f),Z=ka*ja,Q=ka*da;ja*=ba;ka=ba*da;ka=Math.max(Math.abs(Z+ka),Math.abs(Z-ka))+31>>5<<5;ba=~~Math.max(Math.abs(Q+ja),Math.abs(Q-ja))}else ka=ka+31>>5<<5;ba>R&&(R=ba);2048<=D+ka&&(D=0,K+=R,R=0);if(2048<=K+ba)break;z.translate((D+(ka>>1))/J,(K+(ba>>1))/J);P.rotate&&z.rotate(P.rotate*f);z.fillText(P.text,0,0);P.padding&&(z.lineWidth=2*P.padding,z.strokeText(P.text,0,0));z.restore();P.width=ka;P.height=ba;P.xoff=D;P.yoff=
K;P.x1=ka>>1;P.y1=ba>>1;P.x0=-P.x1;P.y0=-P.y1;P.hasText=!0;D+=ka}U=z.getImageData(0,0,2048/J,2048/J).data;for(Z=[];0<=--G;)if(P=L[G],P.hasText){ka=P.width;z=ka>>5;ba=P.y1-P.y0;for(J=0;J<ba*z;J++)Z[J]=0;D=P.xoff;if(null==D)break;K=P.yoff;Q=0;da=-1;for(R=0;R<ba;R++){for(J=0;J<ka;J++)ja=U[2048*(K+R)+(D+J)<<2]?1<<31-J%32:0,Z[z*R+(J>>5)]|=ja,Q|=ja;Q?da=R:(P.y0++,ba--,R--,K++)}P.y1=P.y0+da;P.sprite=Z.slice(0,(P.y1-P.y0)*z)}}}function l(D,P){var L=D[0];D=D[1];P.x+P.x0<L.x&&(L.x=P.x+P.x0);P.y+P.y0<L.y&&(L.y=
P.y+P.y0);P.x+P.x1>D.x&&(D.x=P.x+P.x1);P.y+P.y1>D.y&&(D.y=P.y+P.y1)}function h(D){var P=D[0]/D[1];return function(L){return[P*(L*=.1)*Math.cos(L),L*Math.sin(L)]}}function c(D){for(var P=[],L=-1;++L<D;)P[L]=0;return P}function e(D){return"function"===typeof D?D:function(){return D}}function a(D){n.Transform.call(this,y(),D)}var f=Math.PI/180,p={archimedean:h,rectangular:function(D){var P=4*D[0]/D[1],L=0,G=0;return function(z){var J=0>z?-1:1;switch(Math.sqrt(1+4*J*z)-J&3){case 0:L+=P;break;case 1:G+=
4;break;case 2:L-=P;break;default:G-=4}return[L,G]}}};const A="x y font fontSize fontStyle fontWeight angle".split(" "),C="text font rotate fontSize fontStyle fontWeight".split(" ");a.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,"default":"sans-serif"},{name:"fontStyle",type:"string",expr:!0,"default":"normal"},{name:"fontWeight",type:"string",expr:!0,"default":"normal"},{name:"fontSize",type:"number",
expr:!0,"default":14},{name:"fontSizeRange",type:"number",array:"nullable","default":[10,50]},{name:"rotate",type:"number",expr:!0,"default":0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,"default":A}]};F.inherits(a,n.Transform,{transform(D,P){function L(ka){ka=D[ka];return F.isFunction(ka)&&P.modified(ka.fields)}!D.size||D.size[0]&&D.size[1]||F.error("Wordcloud size dimensions must be non-zero.");
const G=D.modified();if(G||P.changed(P.ADD_REM)||C.some(L)){var z=P.materialize(P.SOURCE).source,J=this.value,K=D.as||A,R=D.fontSize||14,U;F.isFunction(R)?U=D.fontSizeRange:R=F.constant(R);if(U){const ka=R,ba=O.scale("sqrt")().domain(F.extent(z,ka)).range(U);R=da=>ba(ka(da))}z.forEach(ka=>{ka[K[0]]=NaN;ka[K[1]]=NaN;ka[K[3]]=0});z=J.words(z).text(D.text).size(D.size||[500,500]).padding(D.padding||1).spiral(D.spiral||"archimedean").rotate(D.rotate||0).font(D.font||"sans-serif").fontStyle(D.fontStyle||
"normal").fontWeight(D.fontWeight||"normal").fontSize(R).random(x.random).layout();R=J.size();J=R[0]>>1;R=R[1]>>1;U=z.length;for(let ka=0,ba,da;ka<U;++ka)ba=z[ka],da=ba.datum,da[K[0]]=ba.x+J,da[K[1]]=ba.y+R,da[K[2]]=ba.font,da[K[3]]=ba.size,da[K[4]]=ba.style,da[K[5]]=ba.weight,da[K[6]]=ba.rotate;return P.reflow(G).modifies(K)}}});g.wordcloud=a;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[55]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E,B(15),B(26),B(14)):"function"===typeof define&&define.amd?define(["exports","d3-array","vega-dataflow","vega-util"],m):(g="undefined"!==typeof globalThis?globalThis:g||self,m((g.vega=g.vega||{},g.vega.transforms={}),g.d3,g.vega,g.vega))})(this,function(g,m,n,F){function O(){let p=8,A=[],C=new Uint32Array(0),D=x(0,p),P=x(0,p);return{data:()=>A,seen:()=>{var L=C;var G=A.length;L.length>=G||(G=new L.constructor(G),
G.set(L),L=G);return C=L},add(L){for(let G=0,z=A.length,J=L.length,K;G<J;++G)K=L[G],K._index=z++,A.push(K)},remove(L,G){const z=A.length;L=Array(z-L);const J=A;let K,R,U;for(R=0;!G[R]&&R<z;++R)L[R]=A[R],J[R]=R;for(U=R;R<z;++R)K=A[R],G[R]?J[R]=-1:(J[R]=U,D[U]=D[R],P[U]=P[R],L[U]=K,K._index=U++),D[R]=0;A=L;return J},size:()=>A.length,curr:()=>D,prev:()=>P,reset:L=>P[L]=D[L],all:()=>257>p?255:65537>p?65535:4294967295,set(L,G){D[L]|=G},clear(L,G){D[L]&=~G},resize(L,G){if(L>D.length||G>p)p=Math.max(G,
p),D=x(L,p,D),P=x(L,p)}}}function x(p,A,C){p=(257>A?e:65537>A?a:f)(p);C&&p.set(C);return p}function y(p,A,C){const D=1<<A;return{one:D,zero:~D,range:C.slice(),bisect:p.bisect,index:p.index,size:p.size,onAdd(P,L){var G=this.bisect(this.range,P.value);P=P.index;const z=G[0];G=G[1];const J=P.length;let K;for(K=0;K<z;++K)L[P[K]]|=D;for(K=G;K<J;++K)L[P[K]]|=D;return this}}}function q(){let p=new Uint32Array(0),A=[],C=0;return{insert:function(D,P,L){if(!P.length)return[];const G=C,z=P.length,J=new Uint32Array(z);
let K=Array(z);var R;for(R=0;R<z;++R)K[R]=D(P[R]),J[R]=R;K=l(K,J);if(G){D=A;P=p;A=Array(G+z);p=new Uint32Array(G+z);{R=K;var U=A,ka=p;let ba=0,da=0,ja;for(ja=0;ba<G&&da<z;++ja)D[ba]<R[da]?(U[ja]=D[ba],ka[ja]=P[ba++]):(U[ja]=R[da],ka[ja]=J[da++]+L);for(;ba<G;++ba,++ja)U[ja]=D[ba],ka[ja]=P[ba];for(;da<z;++da,++ja)U[ja]=R[da],ka[ja]=J[da]+L}}else{if(0<L)for(R=0;R<z;++R)J[R]+=L;A=K;p=J}C=G+z;return{index:J,value:K}},remove:function(D,P){const L=C;let G,z,J;for(z=0;!P[p[z]]&&z<L;++z);for(J=z;z<L;++z)P[G=
p[z]]||(p[J]=G,A[J]=A[z],++J);C=L-D},bisect:function(D,P){let L;P?L=P.length:(P=A,L=C);return[m.bisectLeft(P,D[0],0,L),m.bisectRight(P,D[1],0,L)]},reindex:function(D){for(let P=0,L=C;P<L;++P)p[P]=D[p[P]]},index:()=>p,size:()=>C}}function l(p,A){p.sort.call(A,(C,D)=>{C=p[C];D=p[D];return C<D?-1:C>D?1:0});return m.permute(p,A)}function h(p){n.Transform.call(this,O(),p);this._dims=this._indices=null}function c(p){n.Transform.call(this,null,p)}const e=p=>new Uint8Array(p),a=p=>new Uint16Array(p),f=p=>
new Uint32Array(p);h.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};F.inherits(h,n.Transform,{transform(p,A){return this._dims?p.modified("fields")||p.fields.some(C=>A.modified(C.fields))?this.reinit(p,A):this.eval(p,A):this.init(p,A)},init(p,A){const C=p.fields,D=p.query,P=this._indices={},L=this._dims=[],G=D.length;let z=0;for(var J;z<G;++z)J=C[z].fname,
J=P[J]||(P[J]=q()),L.push(y(J,z,D[z]));return this.eval(p,A)},reinit(p,A){const C=A.materialize().fork(),D=p.fields,P=p.query,L=this._indices,G=this._dims,z=this.value,J=z.curr(),K=z.prev(),R=z.all(),U=C.rem=C.add,ka=C.mod,ba=P.length,da={};let ja;var Z;let Q,r,N,ea;K.set(J);A.rem.length&&(Q=this.remove(p,A,C));A.add.length&&z.add(A.add);if(A.mod.length){r={};var aa=A.mod;N=0;for(Z=aa.length;N<Z;++N)r[aa[N]._index]=1}for(N=0;N<ba;++N)if(ea=D[N],!G[N]||p.modified("fields",N)||A.modified(ea.fields))Z=
ea.fname,(aa=da[Z])||(L[Z]=ja=q(),da[Z]=aa=ja.insert(ea,A.source,0)),G[N]=y(ja,N,P[N]).onAdd(aa,J);N=0;for(Z=z.data().length;N<Z;++N)Q[N]||(K[N]!==J[N]?U.push(N):r[N]&&J[N]!==R&&ka.push(N));z.mask=(1<<ba)-1;return C},eval(p,A){const C=A.materialize().fork(),D=this._dims.length;let P=0;A.rem.length&&(this.remove(p,A,C),P|=(1<<D)-1);p.modified("query")&&!p.modified("fields")&&(P|=this.update(p,A,C));A.add.length&&(this.insert(p,A,C),P|=(1<<D)-1);A.mod.length&&(this.modify(A,C),P|=(1<<D)-1);this.value.mask=
P;return C},insert(p,A,C){A=A.add;var D=this.value;const P=this._dims,L=this._indices;p=p.fields;const G={};C=C.add;const z=D.size()+A.length,J=P.length;let K=D.size();D.resize(z,J);D.add(A);const R=D.curr(),U=D.prev(),ka=D.all();for(D=0;D<J;++D){var ba=p[D].fname;ba=G[ba]||(G[ba]=L[ba].insert(p[D],A,K));P[D].onAdd(ba,R)}for(;K<z;++K)U[K]=ka,R[K]!==ka&&C.push(K)},modify(p,A){A=A.mod;var C=this.value;const D=C.curr();C=C.all();p=p.mod;let P,L,G;P=0;for(L=p.length;P<L;++P)G=p[P]._index,D[G]!==C&&A.push(G)},
remove(p,A,C){p=this._indices;var D=this.value;const P=D.curr(),L=D.prev();D=D.all();const G={};C=C.rem;const z=A.rem;let J,K,R,U;J=0;for(K=z.length;J<K;++J)R=z[J]._index,G[R]=1,L[R]=U=P[R],P[R]=D,U!==D&&C.push(R);for(R in p)p[R].remove(K,G);this.reindex(A,K,G);return G},reindex(p,A,C){const D=this._indices,P=this.value;p.runAfter(()=>{const L=P.remove(A,C);for(const G in D)D[G].reindex(L)})},update(p,A,C){const D=this._dims,P=p.query;A=A.stamp;const L=D.length;let G=0,z,J;for(J=C.filters=0;J<L;++J)p.modified("query",
J)&&(z=J,++G);if(1===G)G=D[z].one,this.incrementOne(D[z],P[z],C.add,C.rem);else for(G=J=0;J<L;++J)p.modified("query",J)&&(G|=D[J].one,this.incrementAll(D[J],P[J],A,C.add),C.rem=C.add);return G},incrementAll(p,A,C,D){var P=this.value;const L=P.seen(),G=P.curr();P=P.prev();const z=p.index();var J=p.bisect(p.range),K=p.bisect(A);const R=K[0];K=K[1];const U=J[0];J=J[1];const ka=p.one;let ba,da,ja;if(R<U)for(ba=R,da=Math.min(U,K);ba<da;++ba)ja=z[ba],L[ja]!==C&&(P[ja]=G[ja],L[ja]=C,D.push(ja)),G[ja]^=ka;
else if(R>U)for(ba=U,da=Math.min(R,J);ba<da;++ba)ja=z[ba],L[ja]!==C&&(P[ja]=G[ja],L[ja]=C,D.push(ja)),G[ja]^=ka;if(K>J)for(ba=Math.max(R,J),da=K;ba<da;++ba)ja=z[ba],L[ja]!==C&&(P[ja]=G[ja],L[ja]=C,D.push(ja)),G[ja]^=ka;else if(K<J)for(ba=Math.max(U,K),da=J;ba<da;++ba)ja=z[ba],L[ja]!==C&&(P[ja]=G[ja],L[ja]=C,D.push(ja)),G[ja]^=ka;p.range=A.slice()},incrementOne(p,A,C,D){const P=this.value.curr(),L=p.index();var G=p.bisect(p.range),z=p.bisect(A);const J=z[0];z=z[1];const K=G[0];G=G[1];const R=p.one;
let U,ka,ba;if(J<K)for(U=J,ka=Math.min(K,z);U<ka;++U)ba=L[U],P[ba]^=R,C.push(ba);else if(J>K)for(U=K,ka=Math.min(J,G);U<ka;++U)ba=L[U],P[ba]^=R,D.push(ba);if(z>G)for(U=Math.max(J,G),ka=z;U<ka;++U)ba=L[U],P[ba]^=R,C.push(ba);else if(z<G)for(U=Math.max(K,z),ka=G;U<ka;++U)ba=L[U],P[ba]^=R,D.push(ba);p.range=A.slice()}});c.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",
required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};F.inherits(c,n.Transform,{transform(p,A){const C=~(p.ignore||0);p=p.filter;const D=p.mask;if(0===(D&C))return A.StopPropagation;A=A.fork(A.ALL);const P=p.data(),L=p.curr(),G=p.prev(),z=J=>L[J]&C?null:P[J];A.filter(A.MOD,z);D&D-1?(A.filter(A.ADD,J=>{const K=L[J]&C;return!K&&K^G[J]&C?P[J]:null}),A.filter(A.REM,J=>{const K=L[J]&C;return!K||K^K^G[J]&C?null:P[J]})):(A.filter(A.ADD,z),A.filter(A.REM,J=>(L[J]&C)===D?P[J]:
null));return A.filter(A.SOURCE,J=>z(J._index))}});g.crossfilter=h;g.resolvefilter=c;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[56]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E,B(14)):"function"===typeof define&&define.amd?define(["exports","vega-util"],m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.vega={},g.vega))})(this,function(g,m){function n(V){this.type=V}function F(V){switch(V.type){case "ArrayExpression":return V.elements;case "BinaryExpression":case "LogicalExpression":return[V.left,V.right];case "CallExpression":return[V.callee].concat(V.arguments);
case "ConditionalExpression":return[V.test,V.consequent,V.alternate];case "MemberExpression":return[V.object,V.property];case "ObjectExpression":return V.properties;case "Property":return[V.key,V.value];case "UnaryExpression":return[V.argument];default:return[]}}function O(V,W){if(!V)throw Error("ASSERT: "+W);}function x(V){return 48<=V&&57>=V}function y(V){return 0<="0123456789abcdefABCDEF".indexOf(V)}function q(V){return 0<="01234567".indexOf(V)}function l(V){return 10===V||13===V||8232===V||8233===
V}function h(V){return 36===V||95===V||65<=V&&90>=V||97<=V&&122>=V||92===V||128<=V&&sa.test(String.fromCharCode(V))}function c(V){return 36===V||95===V||65<=V&&90>=V||97<=V&&122>=V||48<=V&&57>=V||92===V||128<=V&&Ta.test(String.fromCharCode(V))}function e(){for(;Da<$a;){const V=ta.charCodeAt(Da);if(32===V||9===V||11===V||12===V||160===V||5760<=V&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(V)||l(V))++Da;else break}}function a(V){var W=0;var ca=
"u"===V?4:2;for(V=0;V<ca;++V)if(Da<$a&&y(ta[Da])){var fa=ta[Da++];W=16*W+"0123456789abcdef".indexOf(fa.toLowerCase())}else U({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(W)}function f(){var V=ta.charCodeAt(Da++);var W=String.fromCharCode(V);92===V&&(117!==ta.charCodeAt(Da)&&U({},"Unexpected token %0","ILLEGAL"),++Da,(V=a("u"))&&"\\"!==V&&h(V.charCodeAt(0))||U({},"Unexpected token %0","ILLEGAL"),W=V);for(;Da<$a;){V=ta.charCodeAt(Da);if(!c(V))break;++Da;W+=String.fromCharCode(V);92===
V&&(W=W.substr(0,W.length-1),117!==ta.charCodeAt(Da)&&U({},"Unexpected token %0","ILLEGAL"),++Da,(V=a("u"))&&"\\"!==V&&c(V.charCodeAt(0))||U({},"Unexpected token %0","ILLEGAL"),W+=V)}return W}function p(){var V=Da,W=ta.charCodeAt(Da),ca=ta[Da];switch(W){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Da,{type:7,value:String.fromCharCode(W),start:V,end:Da};default:var fa=ta.charCodeAt(Da+1);if(61===fa)switch(W){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Da+=
2,{type:7,value:String.fromCharCode(W)+String.fromCharCode(fa),start:V,end:Da};case 33:case 61:return Da+=2,61===ta.charCodeAt(Da)&&++Da,{type:7,value:ta.slice(V,Da),start:V,end:Da}}}W=ta.substr(Da,4);if("\x3e\x3e\x3e\x3d"===W)return Da+=4,{type:7,value:W,start:V,end:Da};W=W.substr(0,3);if("\x3e\x3e\x3e"===W||"\x3c\x3c\x3d"===W||"\x3e\x3e\x3d"===W)return Da+=3,{type:7,value:W,start:V,end:Da};W=W.substr(0,2);if(ca===W[1]&&0<="+-\x3c\x3e\x26|".indexOf(ca)||"\x3d\x3e"===W)return Da+=2,{type:7,value:W,
start:V,end:Da};"//"===W&&U({},"Unexpected token %0","ILLEGAL");if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(ca))return++Da,{type:7,value:ca,start:V,end:Da};U({},"Unexpected token %0","ILLEGAL")}function A(){var V=ta[Da];O(x(V.charCodeAt(0))||"."===V,"Numeric literal must start with a decimal digit or a decimal point");var W=Da;var ca="";if("."!==V){ca=ta[Da++];V=ta[Da];if("0"===ca){if("x"===V||"X"===V){++Da;for(ca="";Da<$a&&y(ta[Da]);)ca+=ta[Da++];0===ca.length&&U({},"Unexpected token %0","ILLEGAL");
h(ta.charCodeAt(Da))&&U({},"Unexpected token %0","ILLEGAL");return W={type:6,value:parseInt("0x"+ca,16),start:W,end:Da}}if(q(V)){for(ca="0"+ta[Da++];Da<$a&&q(ta[Da]);)ca+=ta[Da++];(h(ta.charCodeAt(Da))||x(ta.charCodeAt(Da)))&&U({},"Unexpected token %0","ILLEGAL");return W={type:6,value:parseInt(ca,8),octal:!0,start:W,end:Da}}V&&x(V.charCodeAt(0))&&U({},"Unexpected token %0","ILLEGAL")}for(;x(ta.charCodeAt(Da));)ca+=ta[Da++];V=ta[Da]}if("."===V){for(ca+=ta[Da++];x(ta.charCodeAt(Da));)ca+=ta[Da++];
V=ta[Da]}if("e"===V||"E"===V){ca+=ta[Da++];V=ta[Da];if("+"===V||"-"===V)ca+=ta[Da++];if(x(ta.charCodeAt(Da)))for(;x(ta.charCodeAt(Da));)ca+=ta[Da++];else U({},"Unexpected token %0","ILLEGAL")}h(ta.charCodeAt(Da))&&U({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(ca),start:W,end:Da}}function C(V,W){let ca=V;0<=W.indexOf("u")&&(ca=ca.replace(/\\u\{([0-9a-fA-F]+)\}/g,(fa,qa)=>{if(1114111>=parseInt(qa,16))return"x";U({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
"x"));try{new RegExp(ca)}catch(fa){U({},"Invalid regular expression")}try{return new RegExp(V,W)}catch(fa){return null}}function D(){e();if(Da>=$a)return{type:2,start:Da,end:Da};var V=ta.charCodeAt(Da);if(h(V)){V=Da;if(92===ta.charCodeAt(Da))var W=f();else a:{for(W=Da++;Da<$a;){var ca=ta.charCodeAt(Da);if(92===ca){Da=W;W=f();break a}if(c(ca))++Da;else break}W=ta.slice(W,Da)}return{type:1===W.length?3:Wa.hasOwnProperty(W)?4:"null"===W?5:"true"===W||"false"===W?1:3,value:W,start:V,end:Da}}if(40===V||
41===V||59===V)return p();if(39===V||34===V){var fa="";ca=!1;V=ta[Da];O("'"===V||'"'===V,"String literal must starts with a quote");W=Da;for(++Da;Da<$a;){var qa=ta[Da++];if(qa===V){V="";break}else if("\\"===qa)if((qa=ta[Da++])&&l(qa.charCodeAt(0)))"\r"===qa&&"\n"===ta[Da]&&++Da;else switch(qa){case "u":case "x":if("{"===ta[Da]){++Da;var pa=ta[Da];qa=0;for("}"===pa&&U({},"Unexpected token %0","ILLEGAL");Da<$a;){pa=ta[Da++];if(!y(pa))break;qa=16*qa+"0123456789abcdef".indexOf(pa.toLowerCase())}(1114111<
qa||"}"!==pa)&&U({},"Unexpected token %0","ILLEGAL");qa=65535>=qa?String.fromCharCode(qa):String.fromCharCode((qa-65536>>10)+55296,(qa-65536&1023)+56320);fa+=qa}else fa+=a(qa);break;case "n":fa+="\n";break;case "r":fa+="\r";break;case "t":fa+="\t";break;case "b":fa+="\b";break;case "f":fa+="\f";break;case "v":fa+="\x0B";break;default:q(qa)?(pa="01234567".indexOf(qa),0!==pa&&(ca=!0),Da<$a&&q(ta[Da])&&(ca=!0,pa=8*pa+"01234567".indexOf(ta[Da++]),0<="0123".indexOf(qa)&&Da<$a&&q(ta[Da])&&(pa=8*pa+"01234567".indexOf(ta[Da++]))),
fa+=String.fromCharCode(pa)):fa+=qa}else if(l(qa.charCodeAt(0)))break;else fa+=qa}""!==V&&U({},"Unexpected token %0","ILLEGAL");return{type:8,value:fa,octal:ca,start:W,end:Da}}return 46===V?x(ta.charCodeAt(Da+1))?A():p():x(V)?A():p()}function P(){const V=kb;Da=V.end;kb=D();Da=V.end;return V}function L(){const V=Da;kb=D();Da=V}function G(V,W,ca){const fa=new n("||"===V||"\x26\x26"===V?"LogicalExpression":"BinaryExpression");fa.operator=V;fa.left=W;fa.right=ca;return fa}function z(V){const W=new n("Identifier");
W.name=V;return W}function J(V){const W=new n("Literal");W.value=V.value;W.raw=ta.slice(V.start,V.end);V.regex&&("//"===W.raw&&(W.raw="/(?:)/"),W.regex=V.regex);return W}function K(V,W,ca){const fa=new n("MemberExpression");fa.computed="["===V;fa.object=W;fa.property=ca;fa.computed||(ca.member=!0);return fa}function R(V,W,ca){const fa=new n("Property");fa.key=W;fa.value=ca;fa.kind=V;return fa}function U(V,W){var ca=Array.prototype.slice.call(arguments,2),fa=W.replace(/%(\d)/g,(pa,Ga)=>{O(Ga<ca.length,
"Message reference must be in range");return ca[Ga]});var qa=Error(fa);qa.index=Da;qa.description=fa;throw qa;}function ka(V){2===V.type&&U(V,"Unexpected end of input");6===V.type&&U(V,"Unexpected number");8===V.type&&U(V,"Unexpected string");3===V.type&&U(V,"Unexpected identifier");4===V.type&&U(V,"Unexpected reserved word");U(V,"Unexpected token %0",V.value)}function ba(V){const W=P();7===W.type&&W.value===V||ka(W)}function da(V){return 7===kb.type&&kb.value===V}function ja(){Da=kb.start;const V=
P();return 8===V.type||6===V.type?(V.octal&&U(V,"Octal literals are not allowed in strict mode."),J(V)):z(V.value)}function Z(){if(da("(")){ba("(");var V=aa();ba(")");return V}if(da("[")){V=[];Da=kb.start;for(ba("[");!da("]");)da(",")?(P(),V.push(null)):(V.push(ea()),da("]")||ba(","));P();var W=new n("ArrayExpression");W.elements=V;return V=W}if(da("{")){V=[];W={};var ca=String;Da=kb.start;for(ba("{");!da("}");){Da=kb.start;var fa=kb;if(3===fa.type){var qa=ja();ba(":");fa=ea();fa=R("init",qa,fa)}else 2===
fa.type||7===fa.type?(ka(fa),fa=void 0):(qa=ja(),ba(":"),fa=ea(),fa=R("init",qa,fa));qa="Identifier"===fa.key.type?fa.key.name:ca(fa.key.value);qa="$"+qa;Object.prototype.hasOwnProperty.call(W,qa)?U({},"Duplicate data property in object literal not allowed in strict mode"):W[qa]=!0;V.push(fa);da("}")||ba(",")}ba("}");W=new n("ObjectExpression");W.properties=V;return V=W}V=kb.type;Da=kb.start;if(3===V||Ea[kb.value])W=z(P().value);else if(8===V||6===V)kb.octal&&U(kb,"Octal literals are not allowed in strict mode."),
W=J(P());else{if(4===V)throw Error("Disabled.");if(1===V)V=P(),V.value="true"===V.value,W=J(V);else if(5===V)V=P(),V.value=null,W=J(V);else if(da("/")||da("/\x3d")){var pa;kb=null;e();V=Da;W=ta[Da];O("/"===W,"Regular expression literal must start with a slash");ca=ta[Da++];for(qa=fa=!1;Da<$a;)if(W=ta[Da++],ca+=W,"\\"===W)W=ta[Da++],l(W.charCodeAt(0))&&U({},"Invalid regular expression: missing /"),ca+=W;else if(l(W.charCodeAt(0)))U({},"Invalid regular expression: missing /");else if(fa)"]"===W&&(fa=
!1);else if("/"===W){qa=!0;break}else"["===W&&(fa=!0);qa||U({},"Invalid regular expression: missing /");W=ca.substr(1,ca.length-2);for(pa=qa="";Da<$a;){fa=ta[Da];if(!c(fa.charCodeAt(0)))break;++Da;"\\"===fa&&Da<$a?U({},"Unexpected token %0","ILLEGAL"):(pa+=fa,qa+=fa)}0<=pa.search(/[^gimuy]/g)&&U({},"Invalid regular expression",pa);fa=pa;pa=C(W,fa);W=J({literal:ca+qa,value:pa,regex:{pattern:W,flags:fa},start:V,end:Da});L()}else ka(P())}return W}function Q(){var V;for(V=Z();;)if(da(".")){ba(".");Da=
kb.start;var W=P();3===W.type||4===W.type||1===W.type||5===W.type||ka(W);W=z(W.value);V=K(".",V,W)}else if(da("(")){W=[];ba("(");if(!da(")"))for(;Da<$a;){W.push(ea());if(da(")"))break;ba(",")}ba(")");{const ca=new n("CallExpression");ca.callee=V;ca.arguments=W;V=ca}}else if(da("["))ba("["),W=aa(),ba("]"),V=K("[",V,W);else break;if(7===kb.type&&(da("++")||da("--")))throw Error("Disabled.");return V}function r(){if(7!==kb.type&&4!==kb.type)var V=Q();else{if(da("++")||da("--"))throw Error("Disabled.");
if(da("+")||da("-")||da("~")||da("!")){var W=P();V=r();{W=W.value;const ca=new n("UnaryExpression");ca.operator=W;ca.argument=V;ca.prefix=!0;V=ca}}else{if(4===kb.type&&"delete"===kb.value||4===kb.type&&"void"===kb.value||4===kb.type&&"typeof"===kb.value)throw Error("Disabled.");V=Q()}}return V}function N(V){let W=0;if(7!==V.type&&4!==V.type)return 0;switch(V.value){case "||":W=1;break;case "\x26\x26":W=2;break;case "|":W=3;break;case "^":W=4;break;case "\x26":W=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":W=
6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":W=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":W=8;break;case "+":case "-":W=9;break;case "*":case "/":case "%":W=11}return W}function ea(){var V=kb;var W=r();var ca=kb;var fa=N(ca);if(0===fa)var qa=W;else{ca.prec=fa;P();V=[V,kb];var pa=r();for(qa=[W,ca,pa];0<(fa=N(kb));){for(;2<qa.length&&fa<=qa[qa.length-2].prec;)pa=qa.pop(),ca=qa.pop().value,W=qa.pop(),V.pop(),W=G(ca,W,pa),qa.push(W);ca=P();
ca.prec=fa;qa.push(ca);V.push(kb);W=r();qa.push(W)}fa=qa.length-1;W=qa[fa];for(V.pop();1<fa;)V.pop(),W=G(qa[fa-1].value,qa[fa-2],W),fa-=2;qa=W}da("?")&&(P(),V=ea(),ba(":"),fa=ea(),W=new n("ConditionalExpression"),W.test=qa,W.consequent=V,W.alternate=fa,qa=W);return qa}function aa(){const V=ea();if(da(","))throw Error("Disabled.");return V}function va(V){function W(ca,fa,qa){return pa=>{{let Ga=V(pa[0]);fa&&(Ga=fa+"("+Ga+")",0===fa.lastIndexOf("new ",0)&&(Ga="("+Ga+")"));pa=Ga+"."+ca+(0>qa?"":0===
qa?"()":"("+pa.slice(1).map(V).join(",")+")")}return pa}}return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(ca){3>ca.length&&m.error("Missing arguments to clamp function.");3<ca.length&&
m.error("Too many arguments to clamp function.");ca=ca.map(V);return"Math.max("+ca[1]+", Math.min("+ca[2]+","+ca[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:"new Date",date:W("getDate","new Date",0),day:W("getDay","new Date",0),year:W("getFullYear","new Date",0),month:W("getMonth","new Date",0),hours:W("getHours","new Date",0),minutes:W("getMinutes","new Date",0),seconds:W("getSeconds","new Date",0),milliseconds:W("getMilliseconds","new Date",0),time:W("getTime","new Date",0),timezoneoffset:W("getTimezoneOffset",
"new Date",0),utcdate:W("getUTCDate","new Date",0),utcday:W("getUTCDay","new Date",0),utcyear:W("getUTCFullYear","new Date",0),utcmonth:W("getUTCMonth","new Date",0),utchours:W("getUTCHours","new Date",0),utcminutes:W("getUTCMinutes","new Date",0),utcseconds:W("getUTCSeconds","new Date",0),utcmilliseconds:W("getUTCMilliseconds","new Date",0),length:W("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:W("toUpperCase","String",0),lower:W("toLowerCase","String",0),substring:W("substring",
"String"),split:W("split","String"),trim:W("trim","String",0),regexp:"RegExp",test:W("test","RegExp"),if:function(ca){3>ca.length&&m.error("Missing arguments to if function.");3<ca.length&&m.error("Too many arguments to if function.");ca=ca.map(V);return"("+ca[0]+"?"+ca[1]+":"+ca[2]+")"}}}n.prototype.visit=function(V){let W,ca,fa;if(V(this))return 1;W=F(this);ca=0;for(fa=W.length;ca<fa;++ca)if(W[ca].visit(V))return 1};var ta,Da,$a,kb,sa=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
Ta=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/;
const Wa={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},Ea={"if":1};var ua={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",
LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};g.ASTNode=n;g.ArrayExpression="ArrayExpression";g.BinaryExpression="BinaryExpression";g.CallExpression="CallExpression";g.ConditionalExpression="ConditionalExpression";g.Identifier="Identifier";g.Literal="Literal";g.LogicalExpression="LogicalExpression";g.MemberExpression="MemberExpression";g.ObjectExpression="ObjectExpression";
g.Property="Property";g.RawCode="RawCode";g.UnaryExpression="UnaryExpression";g.codegen=function(V){function W(ab){if(m.isString(ab))return ab;const lb=Ra[ab.type];null==lb&&m.error("Unsupported type: "+ab.type);return lb(ab)}function ca(ab){ab={code:W(ab),globals:Object.keys(Za),fields:Object.keys(Aa)};Za={};Aa={};return ab}V=V||{};const fa=V.allowed?m.toSet(V.allowed):{},qa=V.forbidden?m.toSet(V.forbidden):{},pa=V.constants||ua,Ga=(V.functions||va)(W),na=V.globalvar,Oa=V.fieldvar,cb=m.isFunction(na)?
na:ab=>`${na}["${ab}"]`;let Za={},Aa={},Fa=0;const Ra={Literal:ab=>ab.raw,Identifier:ab=>{ab=ab.name;if(0<Fa)return ab;if(m.hasOwnProperty(qa,ab))return m.error("Illegal identifier: "+ab);if(m.hasOwnProperty(pa,ab))return pa[ab];if(m.hasOwnProperty(fa,ab))return ab;Za[ab]=1;return cb(ab)},MemberExpression:ab=>{const lb=!ab.computed,Ma=W(ab.object);lb&&(Fa+=1);ab=W(ab.property);if(Ma===Oa){var nb=Aa;var zb=(zb=ab&&ab.length-1)&&('"'===ab[0]&&'"'===ab[zb]||"'"===ab[0]&&"'"===ab[zb])?ab.slice(1,-1):
ab;nb[zb]=1}lb&&--Fa;return Ma+(lb?"."+ab:"["+ab+"]")},CallExpression:ab=>{"Identifier"!==ab.callee.type&&m.error("Illegal callee type: "+ab.callee.type);const lb=ab.callee.name;ab=ab.arguments;const Ma=m.hasOwnProperty(Ga,lb)&&Ga[lb];Ma||m.error("Unrecognized function: "+lb);return m.isFunction(Ma)?Ma(ab):Ma+"("+ab.map(W).join(",")+")"},ArrayExpression:ab=>"["+ab.elements.map(W).join(",")+"]",BinaryExpression:ab=>"("+W(ab.left)+" "+ab.operator+" "+W(ab.right)+")",UnaryExpression:ab=>"("+ab.operator+
W(ab.argument)+")",ConditionalExpression:ab=>"("+W(ab.test)+"?"+W(ab.consequent)+":"+W(ab.alternate)+")",LogicalExpression:ab=>"("+W(ab.left)+ab.operator+W(ab.right)+")",ObjectExpression:ab=>"{"+ab.properties.map(W).join(",")+"}",Property:ab=>{Fa+=1;const lb=W(ab.key);--Fa;return lb+":"+W(ab.value)}};ca.functions=Ga;ca.constants=pa;return ca};g.constants=ua;g.functions=va;g.parse=function(V){ta=V;Da=0;$a=ta.length;kb=null;L();V=aa();if(2!==kb.type)throw Error("Unexpect token after expression.");return V};
Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[57]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E,B(14),B(56)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-expression"],m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.vega={},g.vega,g.vega))})(this,function(g,m,n){function F(c){return(e,a)=>{e=c(e);return e<a?-1:e>a?1:e>=a?0:NaN}}function O(c,e){var a=e.fields;e=e.values;for(var f=a.length,p=0,A,C;p<f;++p)if(C=a[p],C.getter=m.field.getter||m.field(C.field),
A=C.getter(c),m.isDate(A)&&(A=m.toNumber(A)),m.isDate(e[p])&&(e[p]=m.toNumber(e[p])),m.isDate(e[p][0])&&(e[p]=e[p].map(m.toNumber)),"E"===C.type){if(m.isArray(e[p])?0>e[p].indexOf(A):A!==e[p])return!1}else if("R"===C.type){if(!m.inrange(A,e[p]))return!1}else if("R-RE"===C.type){if(!m.inrange(A,e[p],!0,!1))return!1}else if("R-E"===C.type){if(!m.inrange(A,e[p],!1,!1))return!1}else if("R-LE"===C.type&&!m.inrange(A,e[p],!1,!0))return!1;return!0}const x=m.field("_vgsid_"),y=function(c){function e(p,A,
C,D){null==C&&(C=0);null==D&&(D=p.length);for(;C<D;){const P=C+D>>>1;0>f(p[P],A)?C=P+1:D=P}return C}let a=c,f=c;1===c.length&&(a=(p,A)=>c(p)-A,f=F(c));return{left:e,center:function(p,A,C,D){null==C&&(C=0);null==D&&(D=p.length);D=e(p,A,C,D-1);return D>C&&a(p[D-1],A)>-a(p[D],A)?D-1:D},right:function(p,A,C,D){null==C&&(C=0);null==D&&(D=p.length);for(;C<D;){const P=C+D>>>1;0<f(p[P],A)?D=P:C=P+1}return C}}}(x),q=y.left,l=y.right;var h={E_union:function(c,e){if(!c.length)return e;for(var a=0,f=e.length;a<
f;++a)0>c.indexOf(e[a])&&c.push(e[a]);return c},E_intersect:function(c,e){return c.length?c.filter(a=>0<=e.indexOf(a)):e},R_union:function(c,e){var a=m.toNumber(e[0]),f=m.toNumber(e[1]);a>f&&(a=e[1],f=e[0]);if(!c.length)return[a,f];c[0]>a&&(c[0]=a);c[1]<f&&(c[1]=f);return c},R_intersect:function(c,e){var a=m.toNumber(e[0]),f=m.toNumber(e[1]);a>f&&(a=e[1],f=e[0]);if(!c.length)return[a,f];if(f<c[0]||c[1]<a)return[];c[0]<a&&(c[0]=a);c[1]>f&&(c[1]=f);return c}};g.selectionIdTest=function(c,e,a){var f=
this.context.data[c];c=f?f.values.value:[];f=f?f["index:unit"]&&f["index:unit"].value:void 0;a="intersect"===a;e=x(e);const p=q(c,e);if(p===c.length||x(c[p])!==e)return!1;if(f&&a){if(1===f.size)return!0;if(l(c,e)-p<f.size)return!1}return!0};g.selectionResolve=function(c,e,a,f){c=(c=this.context.data[c])?c.values.value:[];for(var p={},A={},C={},D,P,L,G,z,J,K=c.length,R=0,U,ka;R<K;++R){D=c[R];L=D.unit;P=D.fields;D=D.values;U=0;for(ka=P.length;U<ka;++U)G=P[U],z=p[G.field]||(p[G.field]={}),J=z[L]||(z[L]=
[]),C[G.field]=G=G.type.charAt(0),G=h[G+"_union"],z[L]=G(J,m.array(D[U]));a&&(J=A[L]||(A[L]=[]),J.push(m.array(D).reduce((ba,da,ja)=>(ba[P[ja].field]=da,ba),{})))}e=e||"union";Object.keys(p).forEach(ba=>{p[ba]=Object.keys(p[ba]).map(da=>p[ba][da]).reduce((da,ja)=>void 0===da?ja:h[C[ba]+"_"+e](da,ja))});c=Object.keys(A);a&&c.length&&(p[f?"vlPoint":"vlMulti"]="union"===e?{["or"]:c.reduce((ba,da)=>(ba.push(...A[da]),ba),[])}:{["and"]:c.map(ba=>({["or"]:A[ba]}))});return p};g.selectionTest=function(c,
e,a){var f=this.context.data[c];c=f?f.values.value:[];f=f?f["index:unit"]&&f["index:unit"].value:void 0;a="intersect"===a;for(var p=c.length,A=0,C,D,P,L;A<p;++A)if(C=c[A],f&&a){if(D=D||{},P=D[L=C.unit]||0,-1!==P){C=O(e,C);D[L]=C?-1:++P;if(C&&1===f.size)return!0;if(!C&&P===f.get(L).count)return!1}}else if(C=O(e,C),a^C)return C;return p&&a};g.selectionTuples=function(c,e){return c.map(a=>m.extend({values:e.fields.map(f=>(f.getter||(f.getter=m.field(f.field)))(a.datum))},e))};g.selectionVisitor=function(c,
e,a,f){e[0].type!==n.Literal&&m.error("First argument to selection functions must be a string literal.");c=e[0].value;e=2<=e.length&&m.peek(e).value;const p=":"+c;"intersect"!==e||m.hasOwnProperty(f,"@unit")||(f["@unit"]=a.getData(c).indataRef(a,"unit"));m.hasOwnProperty(f,p)||(f[p]=a.getData(c).tuplesRef())};Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[58]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E,B(14),B(56),B(39),B(32),B(26),B(35),B(36),B(57),B(27),B(18),B(15)):"function"===typeof define&&define.amd?define("exports vega-util vega-expression d3-geo d3-color vega-dataflow vega-scale vega-scenegraph vega-selections vega-statistics vega-time d3-array".split(" "),m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.vega={},g.vega,g.vega,g.d3,g.d3,g.vega,g.vega,g.vega,g.vega,g.vega,g.vega,
g.d3))})(this,function(g,m,n,F,O,x,y,q,l,h,c,e){function a(Ib){return(Ib=this.context.data[Ib])?Ib.values.value:[]}function f(Ib,Cc,Wc){return(Wc=(Ib=this.context.data[Ib]["index:"+Cc])?Ib.value.get(Wc):void 0)?Wc.count:Wc}function p(Ib,Cc){const Wc=this.context.dataflow;Wc.pulse(this.context.data[Ib].input,Wc.changeset().remove(m.truthy).insert(Cc));return 1}function A(Ib,Cc,Wc){if(Ib){const Gd=this.context.dataflow;Gd.pulse(Ib.mark.source,Gd.changeset().encode(Ib,Cc))}return void 0!==Wc?Wc:Ib}function C(Ib,
Cc,Wc){if(!Number.isInteger(Ib)||!Number.isInteger(Cc))return"";Vc.setYear(2E3);Vc.setMonth(Ib);Vc.setDate(Cc);return nc.call(this,Vc,Wc)}function D(Ib){return C.call(this,Ib,1,"%B")}function P(Ib){return C.call(this,Ib,1,"%b")}function L(Ib){return C.call(this,0,2+Ib,"%A")}function G(Ib){return C.call(this,0,2+Ib,"%a")}function z(Ib,Cc,Wc,Gd){Cc[0].type!==n.Literal&&m.error("First argument to data functions must be a string literal.");Ib=Cc[0].value;Cc=":"+Ib;if(!m.hasOwnProperty(Cc,Gd))try{Gd[Cc]=
Wc.getData(Ib).tuplesRef()}catch(Wd){}}function J(Ib,Cc,Wc,Gd){Cc[0].type!==n.Literal&&m.error("First argument to indata must be a string literal.");Cc[1].type!==n.Literal&&m.error("Second argument to indata must be a string literal.");Ib=Cc[0].value;Cc=Cc[1].value;const Wd="@"+Cc;m.hasOwnProperty(Wd,Gd)||(Gd[Wd]=Wc.getData(Ib).indataRef(Wc,Cc))}function K(Ib,Cc,Wc,Gd){if(Cc[0].type===n.Literal)R(Wc,Gd,Cc[0].value);else for(Ib in Wc.scales)R(Wc,Gd,Ib)}function R(Ib,Cc,Wc){const Gd="%"+Wc;if(!m.hasOwnProperty(Cc,
Gd))try{Cc[Gd]=Ib.scaleRef(Wc)}catch(Wd){}}function U(Ib,Cc){let Wc;return m.isFunction(Ib)?Ib:m.isString(Ib)?(Wc=Cc.scales[Ib])&&Wc.value:void 0}function ka(Ib,Cc,Wc){Cc.__bandwidth=Wd=>Wd&&Wd.bandwidth?Wd.bandwidth():0;Wc._bandwidth=K;Wc._range=K;Wc._scale=K;const Gd=Wd=>"_["+(Wd.type===n.Literal?m.stringValue("%"+Wd.value):m.stringValue("%")+"+"+Ib(Wd))+"]";return{_bandwidth:Wd=>`this.__bandwidth(${Gd(Wd[0])})`,_range:Wd=>`${Gd(Wd[0])}.range()`,_scale:Wd=>`${Gd(Wd[0])}(${Ib(Wd[1])})`}}function ba(Ib,
Cc){return function(Wc,Gd,Wd){return Wc?(Wc=U(Wc,(Wd||this).context))&&Wc.path[Ib](Gd):Cc(Gd)}}function da(Ib){const Cc=this.context.group;let Wc=!1;if(Cc)for(;Ib;){if(Ib===Cc){Wc=!0;break}Ib=Ib.mark.group}return Wc}function ja(Ib,Cc,Wc){try{Ib[Cc].apply(Ib,["EXPRESSION"].concat([].slice.call(Wc)))}catch(Gd){Ib.warn(Gd)}return Wc[Wc.length-1]}function Z(){return ja(this.context.dataflow,"warn",arguments)}function Q(){return ja(this.context.dataflow,"info",arguments)}function r(){return ja(this.context.dataflow,
"debug",arguments)}function N(Ib){Ib/=255;return.03928>=Ib?Ib/12.92:Math.pow((Ib+.055)/1.055,2.4)}function ea(Ib){var Cc=O.rgb(Ib);Ib=N(Cc.r);const Wc=N(Cc.g);Cc=N(Cc.b);return.2126*Ib+.7152*Wc+.0722*Cc}function aa(Ib,Cc){Ib=ea(Ib);Cc=ea(Cc);return(Math.max(Ib,Cc)+.05)/(Math.min(Ib,Cc)+.05)}function va(){const Ib=[].slice.call(arguments);Ib.unshift({});return m.extend(...Ib)}function ta(Ib,Cc){if(Ib===Cc||Ib!==Ib&&Cc!==Cc)Ib=!0;else if(m.isArray(Ib))if(m.isArray(Cc)&&Ib.length===Cc.length)a:{for(let Wc=
0,Gd=Ib.length;Wc<Gd;++Wc)if(!ta(Ib[Wc],Cc[Wc])){Ib=!1;break a}Ib=!0}else Ib=!1;else Ib=m.isObject(Ib)&&m.isObject(Cc)?Da(Ib,Cc):!1;return Ib}function Da(Ib,Cc){for(const Wc in Ib)if(!ta(Ib[Wc],Cc[Wc]))return!1;return!0}function $a(Ib){return Cc=>Da(Ib,Cc)}function kb(Ib,Cc,Wc,Gd,Wd,Ja){const eb=this.context.dataflow,xb=this.context.data[Ib],Jb=xb.input;Ib=eb.stamp();let ac=xb.changes,jc;if(!1===eb._trigger||!(Jb.value.length||Cc||Gd))return 0;if(!ac||ac.stamp<Ib)xb.changes=ac=eb.changeset(),ac.stamp=
Ib,eb.runAfter(()=>{xb.modified=!0;eb.pulse(Jb,ac).run()},!0,1);Wc&&(Wc=!0===Wc?m.truthy:m.isArray(Wc)||x.isTuple(Wc)?Wc:$a(Wc),ac.remove(Wc));Cc&&ac.insert(Cc);Gd&&(Wc=$a(Gd),Jb.value.some(Wc)?ac.remove(Wc):ac.insert(Gd));if(Wd)for(jc in Ja)ac.modify(Wd,jc,Ja[jc]);return 1}function sa(Ib){var Cc=Ib.touches;Ib=Cc[0].clientX-Cc[1].clientX;Cc=Cc[0].clientY-Cc[1].clientY;return Math.sqrt(Ib*Ib+Cc*Cc)}function Ta(Ib){Ib=Ib.touches;return Math.atan2(Ib[0].clientY-Ib[1].clientY,Ib[0].clientX-Ib[1].clientX)}
function Wa(Ib,Cc){Cc=Fd[Cc]||(Fd[Cc]=m.field(Cc));return m.isArray(Ib)?Ib.map(Cc):Cc(Ib)}function Ea(Ib){return m.isArray(Ib)||ArrayBuffer.isView(Ib)?Ib:null}function ua(Ib){return Ea(Ib)||(m.isString(Ib)?Ib:null)}function V(Ib,...Cc){return Ea(Ib).join(...Cc)}function W(Ib,...Cc){return ua(Ib).indexOf(...Cc)}function ca(Ib,...Cc){return ua(Ib).lastIndexOf(...Cc)}function fa(Ib,...Cc){return ua(Ib).slice(...Cc)}function qa(Ib,Cc,Wc){m.isFunction(Wc)&&m.error("Function argument passed to replace.");
return String(Ib).replace(Cc,Wc)}function pa(Ib){return Ea(Ib).slice().reverse()}function Ga(Ib,Cc,Wc){return y.bandSpace(Ib||0,Cc||0,Wc||0)}function na(Ib,Cc){return(Ib=U(Ib,(Cc||this).context))&&Ib.bandwidth?Ib.bandwidth():0}function Oa(Ib,Cc){return(Ib=U(Ib,(Cc||this).context))?Ib.copy():void 0}function cb(Ib,Cc){return(Ib=U(Ib,(Cc||this).context))?Ib.domain():[]}function Za(Ib,Cc,Wc){return(Ib=U(Ib,(Wc||this).context))?m.isArray(Cc)?(Ib.invertRange||Ib.invert)(Cc):(Ib.invert||Ib.invertExtent)(Cc):
void 0}function Aa(Ib,Cc){return(Ib=U(Ib,(Cc||this).context))&&Ib.range?Ib.range():[]}function Fa(Ib,Cc,Wc){return(Ib=U(Ib,(Wc||this).context))?Ib(Cc):void 0}function Ra(Ib,Cc,Wc,Gd,Wd){Ib=U(Ib,(Wd||this).context);const Ja=q.Gradient(Cc,Wc);Cc=Ib.domain();Wc=Cc[0];Wd=m.peek(Cc);let eb=m.identity;Wd-Wc?eb=y.scaleFraction(Ib,Wc,Wd):Ib=(Ib.interpolator?y.scale("sequential")().interpolator(Ib.interpolator()):y.scale("linear")().interpolate(Ib.interpolate()).range(Ib.range())).domain([Wc=0,Wd=1]);Ib.ticks&&
(Cc=Ib.ticks(+Gd||15),Wc!==Cc[0]&&Cc.unshift(Wc),Wd!==m.peek(Cc)&&Cc.push(Wd));Cc.forEach(xb=>Ja.stop(eb(xb),Ib(xb)));return Ja}function ab(Ib,Cc,Wc){const Gd=U(Ib,(Wc||this).context);return function(Wd){return Gd?Gd.path.context(Wd)(Cc):""}}function lb(Ib){let Cc=null;return function(Wc){return Wc?q.pathRender(Wc,Cc=Cc||q.pathParse(Ib)):Ib}}function Ma(Ib,Cc){Ib=a.call(Cc,Ib);return Ib.root&&Ib.root.lookup||{}}function nb(Ib,Cc,Wc){Ib=Ma(Ib,this);Cc=Ib[Cc];Wc=Ib[Wc];return Cc&&Wc?Cc.path(Wc).map(fe):
void 0}function zb(Ib,Cc){return(Ib=Ma(Ib,this)[Cc])?Ib.ancestors().map(fe):void 0}function Sb(){const Ib="undefined"!==typeof window&&window||null;return Ib?Ib.screen:{}}function vc(){const Ib="undefined"!==typeof window&&window||null;return Ib?[Ib.innerWidth,Ib.innerHeight]:[void 0,void 0]}function lc(){var Ib=this.context.dataflow;return(Ib=Ib.container&&Ib.container())?[Ib.clientWidth,Ib.clientHeight]:[void 0,void 0]}function kc(Ib){let Cc=null;if(Ib){const Wc=m.array(Ib.marktype),Gd=m.array(Ib.markname);
Cc=Wd=>(!Wc.length||Wc.some(Ja=>Wd.marktype===Ja))&&(!Gd.length||Gd.some(Ja=>Wd.name===Ja))}return Cc}function jb(Ib,Cc,Wc){if(1===arguments.length)return vd[Ib];vd[Ib]=Cc;Wc&&(Yd[Ib]=Wc);gc&&(gc.functions[Ib]="this."+Ib);return this}var $b=Ib=>function(Cc,Wc){return this.context.dataflow.locale()[Ib](Wc)(Cc)};const yc=$b("format"),nc=$b("timeFormat"),zc=$b("utcFormat"),qc=$b("timeParse");$b=$b("utcParse");const Vc=new Date(2E3,0,1),Uc=ba("area",F.geoArea),Lc=ba("bounds",F.geoBounds);F=ba("centroid",
F.geoCentroid);const Fd={},fe=Ib=>Ib.data,vd={random(){return h.random()},cumulativeNormal:h.cumulativeNormal,cumulativeLogNormal:h.cumulativeLogNormal,cumulativeUniform:h.cumulativeUniform,densityNormal:h.densityNormal,densityLogNormal:h.densityLogNormal,densityUniform:h.densityUniform,quantileNormal:h.quantileNormal,quantileLogNormal:h.quantileLogNormal,quantileUniform:h.quantileUniform,sampleNormal:h.sampleNormal,sampleLogNormal:h.sampleLogNormal,sampleUniform:h.sampleUniform,isArray:m.isArray,
isBoolean:m.isBoolean,isDate:m.isDate,isDefined(Ib){return void 0!==Ib},isNumber:m.isNumber,isObject:m.isObject,isRegExp:m.isRegExp,isString:m.isString,isTuple:x.isTuple,isValid(Ib){return null!=Ib&&Ib===Ib},toBoolean:m.toBoolean,toDate:m.toDate,toNumber:m.toNumber,toString:m.toString,indexof:W,join:V,lastindexof:ca,replace:qa,reverse:pa,slice:fa,flush:m.flush,lerp:m.lerp,merge:va,pad:m.pad,peek:m.peek,pluck:Wa,span:m.span,inrange:m.inrange,truncate:m.truncate,rgb:O.rgb,lab:O.lab,hcl:O.hcl,hsl:O.hsl,
luminance:ea,contrast:aa,sequence:e.range,format:yc,utcFormat:zc,utcParse:$b,utcOffset:c.utcOffset,utcSequence:c.utcSequence,timeFormat:nc,timeParse:qc,timeOffset:c.timeOffset,timeSequence:c.timeSequence,timeUnitSpecifier:c.timeUnitSpecifier,monthFormat:D,monthAbbrevFormat:P,dayFormat:L,dayAbbrevFormat:G,quarter:m.quarter,utcquarter:m.utcquarter,week:c.week,utcweek:c.utcweek,dayofyear:c.dayofyear,utcdayofyear:c.utcdayofyear,warn:Z,info:Q,debug:r,extent:m.extent,inScope:da,intersect:function(Ib,Cc,
Wc){if(!Ib)return[];const [Gd,Wd]=Ib;Ib=(new q.Bounds).set(Gd[0],Gd[1],Wd[0],Wd[1]);Wc=Wc||this.context.dataflow.scenegraph().root;return q.intersect(Wc,Ib,kc(Cc))},clampRange:m.clampRange,pinchDistance:sa,pinchAngle:Ta,screen:Sb,containerSize:lc,windowSize:vc,bandspace:Ga,setdata:p,pathShape:lb,panLinear:m.panLinear,panLog:m.panLog,panPow:m.panPow,panSymlog:m.panSymlog,zoomLinear:m.zoomLinear,zoomLog:m.zoomLog,zoomPow:m.zoomPow,zoomSymlog:m.zoomSymlog,encode:A,modify:kb},Sc="view item group xy x y".split(" "),
Yd={},Qb={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:Ib=>`_[${m.stringValue("$"+Ib)}]`,functions:function(Ib){const Cc=n.functions(Ib);Sc.forEach(Wc=>Cc[Wc]="event.vega."+Wc);for(const Wc in vd)Cc[Wc]="this."+Wc;m.extend(Cc,ka(Ib,vd,Yd));return Cc},constants:n.constants,visitors:Yd},gc=n.codegen(Qb);jb("bandwidth",na,K);jb("copy",Oa,K);jb("domain",cb,K);jb("range",Aa,K);jb("invert",Za,K);jb("scale",Fa,K);jb("gradient",Ra,K);jb("geoArea",Uc,K);jb("geoBounds",Lc,K);
jb("geoCentroid",F,K);jb("geoShape",ab,K);jb("indata",f,J);jb("data",a,z);jb("treePath",nb,z);jb("treeAncestors",zb,z);jb("vlSelectionTest",l.selectionTest,l.selectionVisitor);jb("vlSelectionIdTest",l.selectionIdTest,l.selectionVisitor);jb("vlSelectionResolve",l.selectionResolve,l.selectionVisitor);jb("vlSelectionTuples",l.selectionTuples);g.DataPrefix=":";g.IndexPrefix="@";g.ScalePrefix="%";g.SignalPrefix="$";g.bandspace=Ga;g.bandwidth=na;g.codeGenerator=gc;g.codegenParams=Qb;g.containerSize=lc;
g.contrast=aa;g.copy=Oa;g.data=a;g.dataVisitor=z;g.dayAbbrevFormat=G;g.dayFormat=L;g.debug=r;g.domain=cb;g.encode=A;g.expressionFunction=jb;g.format=yc;g.functionContext=vd;g.geoArea=Uc;g.geoBounds=Lc;g.geoCentroid=F;g.geoShape=ab;g.inScope=da;g.indata=f;g.indataVisitor=J;g.indexof=W;g.info=Q;g.invert=Za;g.join=V;g.lastindexof=ca;g.luminance=ea;g.merge=va;g.modify=kb;g.monthAbbrevFormat=P;g.monthFormat=D;g.parseExpression=function(Ib,Cc){const Wc={};let Gd;try{Ib=m.isString(Ib)?Ib:m.stringValue(Ib)+
"",Gd=n.parse(Ib)}catch(Wd){m.error("Expression parse error: "+Ib)}Gd.visit(Wd=>{if(Wd.type===n.CallExpression){var Ja=Wd.callee.name,eb=Qb.visitors[Ja];eb&&eb(Ja,Wd.arguments,Cc,Wc)}});Ib=gc(Gd);Ib.globals.forEach(Wd=>{const Ja="$"+Wd;!m.hasOwnProperty(Wc,Ja)&&Cc.getSignal(Wd)&&(Wc[Ja]=Cc.signalRef(Wd))});return{$expr:m.extend({code:Ib.code},Cc.options.ast?{ast:Gd}:null),$fields:Ib.fields,$params:Wc}};g.pathShape=lb;g.pinchAngle=Ta;g.pinchDistance=sa;g.pluck=Wa;g.range=Aa;g.replace=qa;g.reverse=
pa;g.scale=Fa;g.scaleGradient=Ra;g.scaleVisitor=K;g.screen=Sb;g.setdata=p;g.slice=fa;g.timeFormat=nc;g.timeParse=qc;g.treeAncestors=zb;g.treePath=nb;g.utcFormat=zc;g.utcParse=$b;g.warn=Z;g.windowSize=vc;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[59]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E,B(14),B(26)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow"],m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.vega={},g.vega,g.vega))})(this,function(g,m,n){function F(a,f,p){";"!==p[p.length-1]&&(p="return("+p+");");f=Function(...f.concat(p));return a&&a.functions?f.bind(a.functions):f}function O(a,f,p){if(!a||!m.isObject(a))return a;for(let A=0,
C=c.length,D;A<C;++A)if(D=c[A],m.hasOwnProperty(a,D.key))return D.parse(a,f,p);return a}function x(a,f,p,A){this.dataflow=a;this.transforms=f;this.events=a.events.bind(a);this.expr=A||h;this.signals={};this.scales={};this.nodes={};this.data={};this.fn={};p&&(this.functions=Object.create(p),this.functions.context=this)}function y(a){this.dataflow=a.dataflow;this.transforms=a.transforms;this.events=a.events;this.expr=a.expr;this.signals=Object.create(a.signals);this.scales=Object.create(a.scales);this.nodes=
Object.create(a.nodes);this.data=Object.create(a.data);this.fn=Object.create(a.fn);a.functions&&(this.functions=Object.create(a.functions),this.functions.context=this)}const q=m.toSet(["rule"]),l=m.toSet(["group","image","rect"]);var h={operator:(a,f)=>F(a,["_"],f.code),parameter:(a,f)=>F(a,["datum","_"],f.code),event:(a,f)=>F(a,["event"],f.code),handler:(a,f)=>F(a,["_","event"],`var datum=event.item&&event.item.datum;return ${f.code};`),encode:(a,f)=>{const {marktype:p,channels:A}=f;f="var o\x3ditem,datum\x3do.datum,m\x3d0,$;";
for(var C in A){const D="o["+m.stringValue(C)+"]";f+=`$=${A[C].code};if(${D}!==$)${D}=$,m=1;`}C="";q[p]||(A.x2&&(A.x?(l[p]&&(C+="if(o.x\x3eo.x2)$\x3do.x,o.x\x3do.x2,o.x2\x3d$;"),C+="o.width\x3do.x2-o.x;"):C+="o.x\x3do.x2-(o.width||0);"),A.xc&&(C+="o.x\x3do.xc-(o.width||0)/2;"),A.y2&&(A.y?(l[p]&&(C+="if(o.y\x3eo.y2)$\x3do.y,o.y\x3do.y2,o.y2\x3d$;"),C+="o.height\x3do.y2-o.y;"):C+="o.y\x3do.y2-(o.height||0);"),A.yc&&(C+="o.y\x3do.yc-(o.height||0)/2;"));f+=C;return F(a,["item","_"],f+"return m;")},codegen:{get(a){a=
`[${a.map(m.stringValue).join("][")}]`;const f=Function("_",`return _${a};`);f.path=a;return f},comparator(a,f){let p;a=Function("a","b","var u, v; return "+a.map((A,C)=>{const D=f[C];let P;A.path?(P=`a${A.path}`,A=`b${A.path}`):((p=p||{})["f"+C]=A,P=`this.f${C}(a)`,A=`this.f${C}(b)`);C=-D;return`((u = ${P}) < (v = ${A}) || u == null) && v != null ? ${C}
  : (u > v || v == null) && u != null ? ${D}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${C}
  : v !== v && u === u ? ${D} : `}).join("")+"0;");return p?a.bind(p):a}}},c=[{key:"$ref",parse:function(a,f){return f.get(a.$ref)||m.error("Operator not defined: "+a.$ref)}},{key:"$key",parse:function(a,f){const p="k:"+a.$key+"_"+!!a.$flat;return f.fn[p]||(f.fn[p]=m.key(a.$key,a.$flat,f.expr.codegen))}},{key:"$expr",parse:function(a,f,p){a.$params&&f.parseParameters(a.$params,p);p="e:"+a.$expr.code+"_"+a.$name;return f.fn[p]||(f.fn[p]=m.accessor(f.parameterExpression(a.$expr),a.$fields,a.$name))}},
{key:"$field",parse:function(a,f){if(!a.$field)return null;const p="f:"+a.$field+"_"+a.$name;return f.fn[p]||(f.fn[p]=m.field(a.$field,a.$name,f.expr.codegen))}},{key:"$encode",parse:function(a,f){a=a.$encode;const p={};for(const A in a){const C=a[A];p[A]=m.accessor(f.encodeExpression(C.$expr),C.$fields);p[A].output=C.$output}return p}},{key:"$compare",parse:function(a,f){const p="c:"+a.$compare+"_"+a.$order,A=m.array(a.$compare).map(C=>C&&C.$tupleid?n.tupleid:C);return f.fn[p]||(f.fn[p]=m.compare(A,
a.$order,f.expr.codegen))}},{key:"$context",parse:function(a,f){return f}},{key:"$subflow",parse:function(a,f){const p=a.$subflow;return function(A,C,D){const P=f.fork().parse(p);A=P.get(p.operators[0].id);(C=P.signals.parent)&&C.set(D);A.detachSubflow=()=>f.detach(P);return A}}},{key:"$tupleid",parse:function(){return n.tupleid}}];const e={skip:!0};x.prototype=y.prototype={fork(){const a=new y(this);(this.subcontext||(this.subcontext=[])).push(a);return a},detach(a){this.subcontext=this.subcontext.filter(p=>
p!==a);const f=Object.keys(a.nodes);for(const p of f)a.nodes[p]._targets=null;for(const p of f)a.nodes[p].detach();a.nodes=null},get(a){return this.nodes[a]},set(a,f){return this.nodes[a]=f},add(a,f){const p=this,A=p.dataflow,C=a.value;p.set(a.id,f);"collect"===(a.type+"").toLowerCase()&&C&&(C.$ingest?A.ingest(f,C.$ingest,C.$format):C.$request?A.preload(f,C.$request,C.$format):A.pulse(f,A.changeset().insert(C)));a.root&&(p.root=f);if(a.parent){let D=p.get(a.parent.$ref);D?(A.connect(D,[f]),f.targets().add(D)):
(p.unresolved=p.unresolved||[]).push(()=>{D=p.get(a.parent.$ref);A.connect(D,[f]);f.targets().add(D)})}a.signal&&(p.signals[a.signal]=f);a.scale&&(p.scales[a.scale]=f);if(a.data)for(const D in a.data){const P=p.data[D]||(p.data[D]={});a.data[D].forEach(L=>P[L]=f)}},resolve(){(this.unresolved||[]).forEach(a=>a());delete this.unresolved;return this},operator(a,f){this.add(a,this.dataflow.add(a.value,f))},transform(a,f){this.add(a,this.dataflow.add(this.transforms[(f+"").toLowerCase()]))},stream(a,f){this.set(a.id,
f)},update(a,f,p,A,C){this.dataflow.on(f,p,A,C,a.options)},operatorExpression(a){return this.expr.operator(this,a)},parameterExpression(a){return this.expr.parameter(this,a)},eventExpression(a){return this.expr.event(this,a)},handlerExpression(a){return this.expr.handler(this,a)},encodeExpression(a){return this.expr.encode(this,a)},parse:function(a){const f=this,p=a.operators||[];a.background&&(f.background=a.background);a.eventConfig&&(f.eventConfig=a.eventConfig);a.locale&&(f.locale=a.locale);p.forEach(A=>
f.parseOperator(A));p.forEach(A=>f.parseOperatorParameters(A));(a.streams||[]).forEach(A=>f.parseStream(A));(a.updates||[]).forEach(A=>f.parseUpdate(A));return f.resolve()},parseOperator:function(a){"operator"!==(a.type+"").toLowerCase()&&a.type?this.transform(a,a.type):this.operator(a,a.update?this.operatorExpression(a.update):null)},parseOperatorParameters:function(a){if(a.params){const f=this.get(a.id);f||m.error("Invalid operator id: "+a.id);this.dataflow.connect(f,f.parameters(this.parseParameters(a.params),
a.react,a.initonly))}},parseParameters:function(a,f){f=f||{};const p=this;for(const A in a){const C=a[A];f[A]=m.isArray(C)?C.map(D=>O(D,p,f)):O(C,p,f)}return f},parseStream:function(a){var f=this,p=null!=a.filter?f.eventExpression(a.filter):void 0,A=null!=a.stream?f.get(a.stream):void 0;if(a.source)A=f.events(a.source,a.type,p);else if(a.merge){var C=a.merge.map(D=>f.get(D));A=C[0].merge.apply(C[0],C.slice(1))}a.between&&(C=a.between.map(D=>f.get(D)),A=A.between(C[0],C[1]));a.filter&&(A=A.filter(p));
null!=a.throttle&&(A=A.throttle(+a.throttle));null!=a.debounce&&(A=A.debounce(+a.debounce));null==A&&m.error("Invalid stream definition: "+JSON.stringify(a));a.consume&&A.consume(!0);f.stream(a,A)},parseUpdate:function(a){var f=m.isObject(f=a.source)?f.$ref:f;f=this.get(f);var p=a.update,A=void 0;f||m.error("Source not defined: "+a.source);var C=a.target&&a.target.$expr?this.eventExpression(a.target.$expr):this.get(a.target);p&&p.$expr&&(p.$params&&(A=this.parseParameters(p.$params)),p=this.handlerExpression(p.$expr));
this.update(a,f,C,p,A)},getState:function(a){var f=this,p={};if(a.signals){var A=p.signals={};Object.keys(f.signals).forEach(D=>{const P=f.signals[D];a.signals(D,P)&&(A[D]=P.value)})}if(a.data){var C=p.data={};Object.keys(f.data).forEach(D=>{const P=f.data[D];a.data(D,P)&&(C[D]=P.input.value)})}f.subcontext&&!1!==a.recurse&&(p.subcontext=f.subcontext.map(D=>D.getState(a)));return p},setState:function(a){var f=this,p=f.dataflow,A=a.data,C=a.signals;Object.keys(C||{}).forEach(D=>{p.update(f.signals[D],
C[D],e)});Object.keys(A||{}).forEach(D=>{p.pulse(f.data[D].input,p.changeset().remove(m.truthy).insert(A[D]))});(a.subcontext||[]).forEach((D,P)=>{(P=f.subcontext[P])&&P.setState(D)})}};g.context=function(a,f,p,A){return new x(a,f,p,A)};Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[60]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E,B(14),B(26),B(36),B(15),B(58),B(59),B(45),B(20)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-scenegraph d3-array vega-functions vega-runtime d3-timer vega-format".split(" "),m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.vega={},g.vega,g.vega,g.vega,g.d3,g.vega,g.vega,g.d3,g.vega))})(this,function(g,m,n,F,O,x,y,q,l){function h(Ma){const nb=Ma.container();
nb&&(nb.setAttribute("role","graphics-document"),nb.setAttribute("aria-roleDescription","visualization"),c(nb,Ma.description()))}function c(Ma,nb){Ma&&(null==nb?Ma.removeAttribute("aria-label"):Ma.setAttribute("aria-label",nb))}function e(Ma){Ma.add(null,nb=>{Ma._background=nb.bg;Ma._resize=1;return nb.bg},{bg:Ma._signals.background})}function a(Ma){const nb=Ma._signals.cursor||(Ma._signals.cursor=Ma.add({user:"default",item:null}));Ma.on(Ma.events("view","mousemove"),nb,(zb,Sb)=>{const vc=(zb=nb.value)?
m.isString(zb)?zb:zb.user:"default";Sb=Sb.item&&Sb.item.cursor||null;return zb&&vc===zb.user&&Sb==zb.item?zb:{user:vc,item:Sb}});Ma.add(null,function(zb){zb=zb.cursor;let Sb=this.value;m.isString(zb)||(Sb=zb.item,zb=zb.user);f(Ma,zb&&"default"!==zb?zb:Sb||zb);return Sb},{cursor:nb})}function f(Ma,nb){if(Ma=Ma.globalCursor()?"undefined"!==typeof document&&document.body:Ma.container())return null==nb?Ma.style.removeProperty("cursor"):Ma.style.cursor=nb}function p(Ma,nb){Ma=Ma._runtime.data;m.hasOwnProperty(Ma,
nb)||m.error("Unrecognized data set: "+nb);return Ma[nb]}function A(Ma,nb){n.isChangeSet(nb)||m.error("Second argument to changes must be a changeset.");Ma=p(this,Ma);Ma.modified=!0;return this.pulse(Ma.input,nb)}function C(Ma){var nb=Ma.padding();return Math.max(0,Ma._viewWidth+nb.left+nb.right)}function D(Ma){var nb=Ma.padding();return Math.max(0,Ma._viewHeight+nb.top+nb.bottom)}function P(Ma){var nb=Ma.padding();Ma=Ma._origin;return[nb.left+Ma[0],nb.top+Ma[1]]}function L(Ma){var nb=P(Ma),zb=C(Ma),
Sb=D(Ma);Ma._renderer.background(Ma.background());Ma._renderer.resize(zb,Sb,nb);Ma._handler.origin(nb);Ma._resizeListeners.forEach(vc=>{try{vc(zb,Sb)}catch(lc){Ma.error(lc)}})}function G(Ma,nb,zb){var Sb=Ma._renderer;Sb=Sb&&Sb.canvas();if(Sb){var vc=P(Ma);var lc=nb.changedTouches?nb.changedTouches[0]:nb;lc=F.point(lc,Sb);lc[0]-=vc[0];lc[1]-=vc[1]}nb.dataflow=Ma;nb.item=zb;nb.vega=z(Ma,zb,lc);return nb}function z(Ma,nb,zb){function Sb(kc){var jb=lc,$b;if(kc)for($b=nb;$b;$b=$b.mark.group)if($b.mark.name===
kc){jb=$b;break}return jb&&jb.mark&&jb.mark.interactive?jb:{}}function vc(kc){if(!kc)return zb;m.isString(kc)&&(kc=Sb(kc));const jb=zb.slice();for(;kc;)jb[0]-=kc.x||0,jb[1]-=kc.y||0,kc=kc.mark&&kc.mark.group;return jb}const lc=nb?"group"===nb.mark.marktype?nb:nb.mark.group:null;return{view:m.constant(Ma),item:m.constant(nb||{}),group:Sb,xy:vc,x:kc=>vc(kc)[0],y:kc=>vc(kc)[1]}}function J(Ma){Ma=m.extend({defaults:{}},Ma);const nb=(zb,Sb)=>{Sb.forEach(vc=>{m.isArray(zb[vc])&&(zb[vc]=m.toSet(zb[vc]))})};
nb(Ma.defaults,["prevent","allow"]);nb(Ma,["view","window","selector"]);return Ma}function K(Ma,nb,zb,Sb){Ma._eventListeners.push({type:zb,sources:m.array(nb),handler:Sb})}function R(Ma,nb,zb){const Sb=Ma._eventConfig&&Ma._eventConfig[nb];return!1===Sb||m.isObject(Sb)&&!Sb[zb]?(Ma.warn(`Blocked ${nb} ${zb} event listener.`),!1):!0}function U(Ma){return Ma.item}function ka(Ma){return Ma.item.mark.source}function ba(Ma){return function(nb,zb){return zb.vega.view().changeset().encode(zb.item,Ma)}}function da(Ma,
nb,zb){Ma=document.createElement(Ma);for(const Sb in nb)Ma.setAttribute(Sb,nb[Sb]);null!=zb&&(Ma.textContent=zb);return Ma}function ja(Ma,nb,zb){if(nb){var Sb=zb.param,vc=zb.state;vc||(vc=zb.state={elements:null,active:!1,set:null,update:lc=>{lc!=Ma.signal(Sb.signal)&&Ma.runAsync(null,()=>{vc.source=!0;Ma.signal(Sb.signal,lc)})}},Sb.debounce&&(vc.update=m.debounce(Sb.debounce,vc.update)));(null==Sb.input&&Sb.element?Z:r)(vc,nb,Sb,Ma);vc.active||(Ma.on(Ma._signals[Sb.signal],null,()=>{vc.source?vc.source=
!1:vc.set(Ma.signal(Sb.signal))}),vc.active=!0);return vc}}function Z(Ma,nb,zb,Sb){const vc=zb.event||"input",lc=()=>Ma.update(nb.value);Sb.signal(zb.signal,nb.value);nb.addEventListener(vc,lc);K(Sb,nb,vc,lc);Ma.set=kc=>{nb.value=kc;nb.dispatchEvent(Q(vc))}}function Q(Ma){return"undefined"!==typeof Event?new Event(Ma):{type:Ma}}function r(Ma,nb,zb,Sb){Sb=Sb.signal(zb.signal);const vc=da("div",{"class":"vega-bind"}),lc="radio"===zb.input?vc:vc.appendChild(da("label"));lc.appendChild(da("span",{"class":"vega-bind-name"},
zb.name||zb.signal));nb.appendChild(vc);nb=N;switch(zb.input){case "checkbox":nb=ea;break;case "select":nb=aa;break;case "radio":nb=va;break;case "range":nb=ta}nb(Ma,lc,zb,Sb)}function N(Ma,nb,zb,Sb){const vc=da("input");for(const lc in zb)"signal"!==lc&&"element"!==lc&&vc.setAttribute("input"===lc?"type":lc,zb[lc]);vc.setAttribute("name",zb.signal);vc.value=Sb;nb.appendChild(vc);vc.addEventListener("input",()=>Ma.update(vc.value));Ma.elements=[vc];Ma.set=lc=>vc.value=lc}function ea(Ma,nb,zb,Sb){zb=
{type:"checkbox",name:zb.signal};Sb&&(zb.checked=!0);const vc=da("input",zb);nb.appendChild(vc);vc.addEventListener("change",()=>Ma.update(vc.checked));Ma.elements=[vc];Ma.set=lc=>vc.checked=!!lc||null}function aa(Ma,nb,zb,Sb){const vc=da("select",{name:zb.signal}),lc=zb.labels||[];zb.options.forEach((kc,jb)=>{const $b={value:kc};Da(kc,Sb)&&($b.selected=!0);vc.appendChild(da("option",$b,(lc[jb]||kc)+""))});nb.appendChild(vc);vc.addEventListener("change",()=>{Ma.update(zb.options[vc.selectedIndex])});
Ma.elements=[vc];Ma.set=kc=>{for(let jb=0,$b=zb.options.length;jb<$b;++jb)if(Da(zb.options[jb],kc)){vc.selectedIndex=jb;break}}}function va(Ma,nb,zb,Sb){const vc=da("span",{"class":"vega-bind-radio"}),lc=zb.labels||[];nb.appendChild(vc);Ma.elements=zb.options.map((kc,jb)=>{var $b={type:"radio",name:zb.signal,value:kc};Da(kc,Sb)&&($b.checked=!0);$b=da("input",$b);$b.addEventListener("change",()=>Ma.update(kc));jb=da("label",{},(lc[jb]||kc)+"");jb.prepend($b);vc.appendChild(jb);return $b});Ma.set=kc=>
{const jb=Ma.elements,$b=jb.length;for(let yc=0;yc<$b;++yc)Da(jb[yc].value,kc)&&(jb[yc].checked=!0)}}function ta(Ma,nb,zb,Sb){Sb=void 0!==Sb?Sb:(+zb.max+ +zb.min)/2;const vc=null!=zb.max?zb.max:Math.max(100,+Sb)||100,lc=zb.min||Math.min(0,vc,+Sb)||0,kc=zb.step||O.tickStep(lc,vc,100),jb=da("input",{type:"range",name:zb.signal,min:lc,max:vc,step:kc});jb.value=Sb;const $b=da("span",{},+Sb);nb.appendChild(jb);nb.appendChild($b);nb=()=>{$b.textContent=jb.value;Ma.update(+jb.value)};jb.addEventListener("input",
nb);jb.addEventListener("change",nb);Ma.elements=[jb];Ma.set=yc=>{jb.value=yc;$b.textContent=yc}}function Da(Ma,nb){return Ma===nb||Ma+""===nb+""}function $a(Ma,nb,zb,Sb,vc,lc){nb=nb||new Sb(Ma.loader());return nb.initialize(zb,C(Ma),D(Ma),P(Ma),vc,lc).background(Ma.background())}function kb(Ma,nb){return nb?function(){try{nb.apply(this,arguments)}catch(zb){Ma.error(zb)}}:null}function sa(Ma,nb,zb,Sb){const vc=(new Sb(Ma.loader(),kb(Ma,Ma.tooltip()))).scene(Ma.scenegraph().root).initialize(zb,P(Ma),
Ma);nb&&nb.handlers().forEach(lc=>{vc.on(lc.type,lc.handler)});return vc}function Ta(Ma,nb,zb){if("string"===typeof nb)if("undefined"!==typeof document){if(nb=document.querySelector(nb),!nb)return Ma.error("Signal bind element not found: "+nb),null}else return Ma.error("DOM document instance not found."),null;if(nb&&zb)try{nb.innerHTML=""}catch(Sb){nb=null,Ma.error(Sb)}return nb}function Wa(Ma){m.isObject(Ma)?Ma={top:+Ma.top||0,bottom:+Ma.bottom||0,left:+Ma.left||0,right:+Ma.right||0}:(Ma=+Ma||0,
Ma={top:Ma,bottom:Ma,left:Ma,right:Ma});return Ma}function Ea(Ma,nb,zb,Sb){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var vc=F.renderModule(nb);(vc=vc&&vc.headless)||m.error("Unrecognized renderer type: "+nb);yield Ma.runAsync();return $a(Ma,null,null,vc,zb,Sb).renderAsync(Ma._scenegraph.root)})}function ua(Ma,nb,zb){return y.context(Ma,n.transforms,x.functionContext,zb).parse(nb)}function V(Ma,nb){var zb=Ma.autosize();Ma=Ma.padding();return nb-(zb&&"padding"===zb.contains?Ma.left+
Ma.right:0)}function W(Ma,nb){var zb=Ma.autosize();Ma=Ma.padding();return nb-(zb&&"padding"===zb.contains?Ma.top+Ma.bottom:0)}function ca(Ma){function nb(){Ma._autosize=Ma._resize=1}var zb=Ma._signals,Sb=zb.width,vc=zb.height;zb=zb.padding;Ma._resizeWidth=Ma.add(null,kc=>{Ma._width=kc.size;Ma._viewWidth=V(Ma,kc.size);nb()},{size:Sb});Ma._resizeHeight=Ma.add(null,kc=>{Ma._height=kc.size;Ma._viewHeight=W(Ma,kc.size);nb()},{size:vc});const lc=Ma.add(null,nb,{pad:zb});Ma._resizeWidth.rank=Sb.rank+1;Ma._resizeHeight.rank=
vc.rank+1;lc.rank=zb.rank+1}function fa(Ma,nb){return nb.modified&&m.isArray(nb.input.value)&&Ma.indexOf("_:vega:_")}function qa(Ma,nb){return!("parent"===Ma||nb instanceof n.transforms.proxy)}function pa(Ma,nb,zb,Sb){(Ma=Ma.element())&&Ma.setAttribute("title",Ga(Sb))}function Ga(Ma){return null==Ma?"":m.isArray(Ma)?"["+Ma.map(Oa).join(", ")+"]":m.isObject(Ma)&&!m.isDate(Ma)?na(Ma):Ma+""}function na(Ma){return Object.keys(Ma).map(nb=>{const zb=Ma[nb];return nb+": "+(m.isArray(zb)?"["+zb.map(Oa).join(", ")+
"]":Oa(zb))}).join("\n")}function Oa(Ma){return m.isArray(Ma)?"[]":m.isObject(Ma)&&!m.isDate(Ma)?"{}":Ma}function cb(Ma,nb){nb=nb||{};n.Dataflow.call(this);nb.loader&&this.loader(nb.loader);nb.logger&&this.logger(nb.logger);null!=nb.logLevel&&this.logLevel(nb.logLevel);if(nb.locale||Ma.locale){var zb=m.extend({},Ma.locale,nb.locale);this.locale(l.locale(zb.number,zb.time))}this._elBind=this._el=null;this._renderType=nb.renderer||F.RenderType.Canvas;this._scenegraph=new F.Scenegraph;zb=this._scenegraph.root;
this._renderer=null;this._tooltip=nb.tooltip||pa;this._redraw=!0;this._handler=(new F.CanvasHandler).scene(zb);this._preventDefault=this._globalCursor=!1;this._timers=[];this._eventListeners=[];this._resizeListeners=[];this._eventConfig=J(Ma.eventConfig);this.globalCursor(this._eventConfig.globalCursor);const Sb=ua(this,Ma,nb.expr);this._runtime=Sb;this._signals=Sb.signals;this._bind=(Ma.bindings||[]).map(vc=>({state:null,param:m.extend({},vc)}));Sb.root&&Sb.root.set(zb);zb.source=Sb.data.root.input;
this.pulse(Sb.data.root.input,this.changeset().insert(zb.items));this._width=this.width();this._height=this.height();this._viewWidth=V(this,this._width);this._viewHeight=W(this,this._height);this._origin=[0,0];this._resize=0;this._autosize=1;ca(this);e(this);a(this);this.description(Ma.description);nb.hover&&this.hover();nb.container&&this.initialize(nb.container,nb.bind)}function Za(Ma,nb){return m.hasOwnProperty(Ma._signals,nb)?Ma._signals[nb]:m.error("Unrecognized signal name: "+m.stringValue(nb))}
function Aa(Ma,nb){Ma=(Ma._targets||[]).filter(zb=>zb._update&&zb._update.handler===nb);return Ma.length?Ma[0]:null}function Fa(Ma,nb,zb,Sb){let vc=Aa(zb,Sb);vc||(vc=kb(Ma,()=>Sb(nb,zb.value)),vc.handler=Sb,Ma.on(zb,null,vc));return Ma}function Ra(Ma,nb,zb){(zb=Aa(nb,zb))&&nb._targets.remove(zb);return Ma}const ab={trap:!1};var lb={skip:!0};m.inherits(cb,n.Dataflow,{evaluate(Ma,nb,zb){const Sb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield n.Dataflow.prototype.evaluate.call(Sb,
Ma,nb);if(Sb._redraw||Sb._resize)try{Sb._renderer&&(Sb._resize&&(Sb._resize=0,L(Sb)),yield Sb._renderer.renderAsync(Sb._scenegraph.root)),Sb._redraw=!1}catch(vc){Sb.error(vc)}zb&&n.asyncCallback(Sb,zb);return Sb})},dirty(Ma){this._redraw=!0;this._renderer&&this._renderer.dirty(Ma)},description(Ma){if(arguments.length){const nb=null!=Ma?Ma+"":null;nb!==this._desc&&c(this._el,this._desc=nb);return this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},
signal(Ma,nb,zb){const Sb=Za(this,Ma);return 1===arguments.length?Sb.value:this.update(Sb,nb,zb)},width(Ma){return arguments.length?this.signal("width",Ma):this.signal("width")},height(Ma){return arguments.length?this.signal("height",Ma):this.signal("height")},padding(Ma){return arguments.length?this.signal("padding",Wa(Ma)):Wa(this.signal("padding"))},autosize(Ma){return arguments.length?this.signal("autosize",Ma):this.signal("autosize")},background(Ma){return arguments.length?this.signal("background",
Ma):this.signal("background")},renderer(Ma){if(!arguments.length)return this._renderType;F.renderModule(Ma)||m.error("Unrecognized renderer type: "+Ma);Ma!==this._renderType&&(this._renderType=Ma,this._resetRenderer());return this},tooltip(Ma){if(!arguments.length)return this._tooltip;Ma!==this._tooltip&&(this._tooltip=Ma,this._resetRenderer());return this},loader(Ma){if(!arguments.length)return this._loader;Ma!==this._loader&&(n.Dataflow.prototype.loader.call(this,Ma),this._resetRenderer());return this},
resize(){this._autosize=1;return this.touch(Za(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(Ma,nb,zb,Sb,vc,lc){this.runAfter(kc=>{let jb=0;kc._autosize=0;kc.width()!==zb&&(jb=1,kc.signal("width",zb,lb),kc._resizeWidth.skip(!0));kc.height()!==Sb&&(jb=1,kc.signal("height",Sb,lb),kc._resizeHeight.skip(!0));kc._viewWidth!==Ma&&(kc._resize=1,kc._viewWidth=Ma);kc._viewHeight!==nb&&(kc._resize=1,kc._viewHeight=nb);
if(kc._origin[0]!==vc[0]||kc._origin[1]!==vc[1])kc._resize=1,kc._origin=vc;jb&&kc.run("enter");lc&&kc.runAfter($b=>$b.resize())},!1,1)},addEventListener(Ma,nb,zb){let Sb=nb;zb&&!1===zb.trap||(Sb=kb(this,nb),Sb.raw=nb);this._handler.on(Ma,Sb);return this},removeEventListener(Ma,nb){for(var zb=this._handler.handlers(Ma),Sb=zb.length,vc,lc;0<=--Sb;)if(lc=zb[Sb].type,vc=zb[Sb].handler,Ma===lc&&(nb===vc||nb===vc.raw)){this._handler.off(lc,vc);break}return this},addResizeListener(Ma){const nb=this._resizeListeners;
0>nb.indexOf(Ma)&&nb.push(Ma);return this},removeResizeListener(Ma){var nb=this._resizeListeners;Ma=nb.indexOf(Ma);0<=Ma&&nb.splice(Ma,1);return this},addSignalListener(Ma,nb){return Fa(this,Ma,Za(this,Ma),nb)},removeSignalListener(Ma,nb){return Ra(this,Za(this,Ma),nb)},addDataListener(Ma,nb){return Fa(this,Ma,p(this,Ma).values,nb)},removeDataListener(Ma,nb){return Ra(this,p(this,Ma).values,nb)},globalCursor(Ma){if(arguments.length){if(this._globalCursor!==!!Ma){const nb=f(this,null);this._globalCursor=
!!Ma;nb&&f(this,nb)}return this}return this._globalCursor},preventDefault(Ma){return arguments.length?(this._preventDefault=Ma,this):this._preventDefault},timer:function(Ma,nb){this._timers.push(q.interval(function(zb){Ma({timestamp:Date.now(),elapsed:zb})},nb))},events:function(Ma,nb,zb){var Sb=this,vc=new n.EventStream(zb);zb=function($b,yc){Sb.runAsync(null,()=>{var nc;if(nc="view"===Ma){var zc=Sb._eventConfig.defaults;nc=zc.prevent;zc=zc.allow;nc=!1===nc||!0===zc?!1:!0===nc||!1===zc?!0:nc?nc[nb]:
zc?!zc[nb]:Sb.preventDefault()}nc&&$b.preventDefault();vc.receive(G(Sb,$b,yc))})};var lc;if("timer"===Ma)R(Sb,"timer",nb)&&Sb.timer(zb,nb);else if("view"===Ma)R(Sb,"view",nb)&&Sb.addEventListener(nb,zb,ab);else if("window"===Ma?R(Sb,"window",nb)&&"undefined"!==typeof window&&(lc=[window]):"undefined"!==typeof document&&R(Sb,"selector",nb)&&(lc=document.querySelectorAll(Ma)),lc){for(var kc=0,jb=lc.length;kc<jb;++kc)lc[kc].addEventListener(nb,zb);K(Sb,lc,nb,zb)}else Sb.warn("Can not resolve event source: "+
Ma);return vc},finalize:function(){var Ma=this._tooltip,nb=this._timers,zb=this._eventListeners,Sb;for(Sb=nb.length;0<=--Sb;)nb[Sb].stop();for(Sb=zb.length;0<=--Sb;){var vc=zb[Sb];for(nb=vc.sources.length;0<=--nb;)vc.sources[nb].removeEventListener(vc.type,vc.handler)}Ma&&Ma.call(this,this._handler,null,null,null);return this},hover:function(Ma,nb){Ma=[Ma||"hover"];nb=[nb||"update",Ma[0]];this.on(this.events("view","mouseover",U),ka,ba(Ma));this.on(this.events("view","mouseout",U),ka,ba(nb));return this},
data:function(Ma,nb){return 2>arguments.length?p(this,Ma).values.value:A.call(this,Ma,n.changeset().remove(m.truthy).insert(nb))},change:A,insert:function(Ma,nb){return A.call(this,Ma,n.changeset().insert(nb))},remove:function(Ma,nb){return A.call(this,Ma,n.changeset().remove(nb))},scale:function(Ma){var nb=this._runtime.scales;m.hasOwnProperty(nb,Ma)||m.error("Unrecognized scale or projection: "+Ma);return nb[Ma].value},initialize:function(Ma,nb){const zb=this;var Sb=zb._renderType;const vc=zb._eventConfig.bind;
var lc=F.renderModule(Sb);Ma=zb._el=Ma?Ta(zb,Ma):null;h(zb);lc||zb.error("Unrecognized renderer type: "+Sb);Sb=lc.handler||F.CanvasHandler;lc=Ma?lc.renderer:lc.headless;zb._renderer=lc?$a(zb,zb._renderer,Ma,lc):null;zb._handler=sa(zb,zb._handler,Ma,Sb);zb._redraw=!0;Ma&&"none"!==vc&&(nb=nb?zb._elBind=Ta(zb,nb,!0):Ma.appendChild(da("form",{"class":"vega-bindings"})),zb._bind.forEach(kc=>{kc.param.element&&"container"!==vc&&(kc.element=Ta(zb,kc.param.element,!!kc.param.input))}),zb._bind.forEach(kc=>
{ja(zb,kc.element||nb,kc)}));return zb},toImageURL:function(Ma,nb){const zb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){Ma!==F.RenderType.Canvas&&Ma!==F.RenderType.SVG&&Ma!==F.RenderType.PNG&&m.error("Unrecognized image type: "+Ma);var Sb=yield Ea(zb,Ma,nb);Ma===F.RenderType.SVG?(Sb=Sb.svg(),Sb=new Blob([Sb],{type:"image/svg+xml"}),Sb=window.URL.createObjectURL(Sb)):Sb=Sb.canvas().toDataURL("image/png");return Sb})},toCanvas:function(Ma,nb){const zb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield Ea(zb,
F.RenderType.Canvas,Ma,nb)).canvas()})},toSVG:function(Ma){const nb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield Ea(nb,F.RenderType.SVG,Ma)).svg()})},getState:function(Ma){return this._runtime.getState(Ma||{data:fa,signals:qa,recurse:!0})},setState:function(Ma){this.runAsync(null,nb=>{nb._trigger=!1;nb._runtime.setState(Ma)},nb=>{nb._trigger=!0});return this}});g.View=cb;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[61]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E):"function"===typeof define&&define.amd?define(["exports"],m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.vega={}))})(this,function(g){function m(h,c,e,a,f){const p=h.length;let A=0,C;for(;c<p;++c)if(C=h[c],A||C!==e)f&&0<=f.indexOf(C)?--A:a&&0<=a.indexOf(C)&&++A;else break;return c}function n(h){const c=[],e=h.length;let a=0,f=0;for(;f<e;)f=m(h,f,",","[{","]}"),c.push(h.substring(a,
f).trim()),a=++f;if(0===c.length)throw"Empty event selector: "+h;return c}function F(h){if("["===h[0]){var c=h;var e=c.length;h=m(c,1,"]","[","]");if(h===e)throw"Empty between selector: "+c;e=n(c.substring(1,h));if(2!==e.length)throw"Between selector must have two elements: "+c;c=c.slice(h+1).trim();if("\x3e"!==c[0])throw"Expected '\x3e' after between selector: "+c;e=e.map(F);c=F(c.slice(1).trim());c.between?c={between:e,stream:c}:c.between=e}else{{e={source:q};const a=[];let f=[0,0],p=0,A=0,C=h.length,
D=0,P;if("}"===h[C-1]){D=h.lastIndexOf("{");if(0<=D){try{f=O(h.substring(D+1,C-1))}catch(L){throw"Invalid throttle specification: "+h;}h=h.slice(0,D).trim();C=h.length}else throw"Unmatched right brace: "+h;D=0}if(!C)throw h;"@"===h[0]&&(p=++D);P=m(h,D,":");P<C&&(a.push(h.substring(A,P).trim()),A=D=++P);D=m(h,D,"[");if(D===C)a.push(h.substring(A,C).trim());else if(a.push(h.substring(A,D).trim()),c=[],A=++D,A===C)throw"Unmatched left bracket: "+h;for(;D<C;){D=m(h,D,"]");if(D===C)throw"Unmatched left bracket: "+
h;c.push(h.substring(A,D).trim());if(D<C-1&&"["!==h[++D])throw"Expected left bracket: "+h;A=++D}if(!(C=a.length)||x.test(a[C-1]))throw"Invalid event selector: "+h;1<C?(e.type=a[1],p?e.markname=a[0].slice(1):l[a[0]]?e.marktype=a[0]:e.source=a[0]):e.type=a[0];"!"===e.type.slice(-1)&&(e.consume=!0,e.type=e.type.slice(0,-1));null!=c&&(e.filter=c);f[0]&&(e.throttle=f[0]);f[1]&&(e.debounce=f[1]);c=e}}return c}function O(h){const c=h.split(",");if(!h.length||2<c.length)throw h;return c.map(e=>{e=+e;if(e!==
e)throw h;return e})}const x=/[[\]{}]/,y={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let q,l;g.selector=function(h,c,e){q=c||"view";l=e||y;return n(h.trim()).map(F)};Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[62]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?m(E,B(14),B(58),B(61),B(35),B(26)):"function"===typeof define&&define.amd?define("exports vega-util vega-functions vega-event-selector vega-scale vega-dataflow".split(" "),m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.vega={},g.vega,g.vega,g.vega,g.vega,g.vega))})(this,function(g,m,n,F,O,x){function y(za){return m.isObject(za)?za:{type:za||"pad"}}function q(za){m.isObject(za)?za=za.signal?
za:{top:+za.top||0,bottom:+za.bottom||0,left:+za.left||0,right:+za.right||0}:(za=+za||0,za={top:za,bottom:za,left:za,right:za});return za}function l(za,Ia,wb,Yb){return null!=wb?(m.isObject(wb)&&!m.isArray(wb)||m.isArray(wb)&&wb.length&&m.isObject(wb[0])?za.update[Ia]=wb:za[Yb||"enter"][Ia]={value:wb},1):0}function h(za,Ia,wb){for(const Yb in Ia)l(za,Yb,Ia[Yb]);for(const Yb in wb)l(za,Yb,wb[Yb],"update")}function c(za,Ia,wb){for(const Yb in Ia)wb&&m.hasOwnProperty(wb,Yb)||(za[Yb]=m.extend(za[Yb]||
{},Ia[Yb]));return za}function e(za,Ia){return Ia&&(Ia.enter&&Ia.enter[za]||Ia.update&&Ia.update[za])}function a(za,Ia,wb,Yb,Ub){const ic={},oc={};let id,Tc;Tc="lineBreak";"text"!==Ia||null==Ub[Tc]||e(Tc,za)||f(ic,Tc,Ub[Tc]);if("legend"==wb||String(wb).startsWith("axis"))wb=null;wb="frame"===wb?Ub.group:"mark"===wb?m.extend({},Ub.mark,Ub[Ia]):null;for(Tc in wb)(Ia=e(Tc,za)||("fill"===Tc||"stroke"===Tc)&&(e("fill",za)||e("stroke",za)))||f(ic,Tc,wb[Tc]);m.array(Yb).forEach(gd=>{gd=Ub.style&&Ub.style[gd];
for(const Hd in gd)e(Hd,za)||f(ic,Hd,gd[Hd])});za=m.extend({},za);for(Tc in ic)wb=ic[Tc],wb.signal?(id=id||{})[Tc]=wb:oc[Tc]=wb;za.enter=m.extend(oc,za.enter);id&&(za.update=m.extend(id,za.update));return za}function f(za,Ia,wb){za[Ia]=wb&&wb.signal?{signal:wb.signal}:{value:wb}}function p(za){if(null!=za.gradient)return A(za);if(za.signal)var Ia=`(${za.signal})`;else za.color?(Ia=za.color,Ia=Ia.c?le("hcl",Ia.h,Ia.c,Ia.l):Ia.h||Ia.s?le("hsl",Ia.h,Ia.s,Ia.l):Ia.l||Ia.a?le("lab",Ia.l,Ia.a,Ia.b):Ia.r||
Ia.g||Ia.b?le("rgb",Ia.r,Ia.g,Ia.b):null):Ia=null!=za.field?D(za.field):void 0!==za.value?m.stringValue(za.value):void 0;if(null!=za.scale){{const wb=of(za.scale);null!=za.range?Ia=`lerp(_range(${wb}), ${+za.range})`:(void 0!==Ia&&(Ia=`_scale(${wb}, ${Ia})`),za.band&&(Ia=(Ia?Ia+"+":"")+`_bandwidth(${wb})`+(1===+za.band?"":"*"+C(za.band)),za.extra&&(Ia=`(datum.extra ? _scale(${wb}, datum.extra.value) : ${Ia})`)),null==Ia&&(Ia="0"))}}void 0===Ia&&(Ia=null);null!=za.exponent&&(Ia=`pow(${Ia},${C(za.exponent)})`);
null!=za.mult&&(Ia+=`*${C(za.mult)}`);null!=za.offset&&(Ia+=`+${C(za.offset)}`);za.round&&(Ia=`round(${Ia})`);return Ia}function A(za){const Ia=[za.start,za.stop,za.count].map(wb=>null==wb?null:m.stringValue(wb));for(;Ia.length&&null==m.peek(Ia);)Ia.pop();Ia.unshift(of(za.gradient));return`gradient(${Ia.join(",")})`}function C(za){return m.isObject(za)?"("+p(za)+")":za}function D(za){return P(m.isObject(za)?za:{datum:za})}function P(za){let Ia;if(za.signal){Ia="datum";var wb=za.signal}else if(za.group||
za.parent){wb=Math.max(1,za.level||1);for(Ia="item";0<wb--;)Ia+=".mark.group";za.parent?(wb=za.parent,Ia+=".datum"):wb=za.group}else za.datum?(Ia="datum",wb=za.datum):m.error("Invalid field reference: "+m.stringValue(za));za.signal||(wb=m.isString(wb)?m.splitAccessPath(wb).map(m.stringValue).join("]["):P(wb));return Ia+"["+wb+"]"}function L(za){let Ia="";za.forEach(wb=>{const Yb=p(wb);Ia+=wb.test?`(${wb.test})?${Yb}:`:Yb});":"===m.peek(Ia)&&(Ia+="null");return Ia}function G(za,Ia,wb,Yb,Ub,ic){const oc=
{};ic=ic||{};ic.encoders={$encode:oc};za=a(za,Ia,wb,Yb,Ub.config);for(const Hd in za){{wb=za[Hd];Yb=Ia;var id=ic,Tc=Ub;const he={},ie={};for(const Pd in wb)if(null!=wb[Pd]){var gd=wb[Pd];gd=m.isArray(gd)?L(gd):p(gd);he[Pd]=z(gd,Tc,id,ie)}wb={$expr:{marktype:Yb,channels:he},$fields:Object.keys(ie),$output:Object.keys(wb)}}oc[Hd]=wb}return ic}function z(za,Ia,wb,Yb){za=n.parseExpression(za,Ia);za.$fields.forEach(Ub=>Yb[Ub]=1);m.extend(wb,za.$params);return za.$expr}function J(za,Ia){m.error(za+' for "outer" push: '+
m.stringValue(Ia))}function K(za,Ia){const wb=za.name;if("outer"===za.push)Ia.signals[wb]||J("No prior signal definition",wb),ye.forEach(Yb=>{void 0!==za[Yb]&&J("Invalid property ",Yb)});else{const Yb=Ia.addSignal(wb,za.value);!1===za.react&&(Yb.react=!1);za.bind&&Ia.addBinding(wb,za.bind)}}function R(za,Ia,wb,Yb){this.id=-1;this.type=za;this.value=Ia;this.params=wb;Yb&&(this.parent=Yb)}function U(za){const Ia={$ref:za.id};0>za.id&&(za.refs=za.refs||[]).push(Ia);return Ia}function ka(za,Ia){return Ia?
{$field:za,$name:Ia}:{$field:za}}function ba(za,Ia){za={$key:za};Ia&&(za.$flat=!0);return za}function da(za,Ia){return(za&&za.signal?"$"+za.signal:za||"")+(za&&Ia?"_":"")+(Ia&&Ia.signal?"$"+Ia.signal:Ia||"")}function ja(za){return za&&za.signal}function Z(za){if(ja(za))return!0;if(m.isObject(za))for(const Ia in za)if(Z(za[Ia]))return!0;return!1}function Q(za,Ia){return null!=za?za:Ia}function r(za){return za&&za.signal||za}function N(za,Ia){return(za.merge?aa:za.stream?va:za.type?ta:m.error("Invalid stream specification: "+
m.stringValue(za)))(za,Ia)}function ea(za){return"scope"===za?"view":za||"view"}function aa(za,Ia){const wb=za.merge.map(Yb=>N(Yb,Ia));za=Da({merge:wb},za,Ia);return Ia.addStream(za).id}function va(za,Ia){const wb=N(za.stream,Ia);za=Da({stream:wb},za,Ia);return Ia.addStream(za).id}function ta(za,Ia){let wb;"timer"===za.type?(wb=Ia.event("timer",za.throttle),za={between:za.between,filter:za.filter}):wb=Ia.event(ea(za.source),za.type);za=Da({stream:wb},za,Ia);return 1===Object.keys(za).length?wb:Ia.addStream(za).id}
function Da(za,Ia,wb){let Yb=Ia.between;Yb&&(2!==Yb.length&&m.error('Stream "between" parameter must have 2 entries: '+m.stringValue(Ia)),za.between=[N(Yb[0],wb),N(Yb[1],wb)]);Yb=Ia.filter?[].concat(Ia.filter):[];(Ia.marktype||Ia.markname||Ia.markrole)&&Yb.push($a(Ia.marktype,Ia.markname,Ia.markrole));"scope"===Ia.source&&Yb.push("inScope(event.item)");Yb.length&&(za.filter=n.parseExpression("("+Yb.join(")\x26\x26(")+")",wb).$expr);null!=(Yb=Ia.throttle)&&(za.throttle=+Yb);null!=(Yb=Ia.debounce)&&
(za.debounce=+Yb);Ia.consume&&(za.consume=!0);return za}function $a(za,Ia,wb){return"event.item"+(za&&"*"!==za?"\x26\x26event.item.mark.marktype\x3d\x3d\x3d'"+za+"'":"")+(wb?"\x26\x26event.item.mark.role\x3d\x3d\x3d'"+wb+"'":"")+(Ia?"\x26\x26event.item.mark.name\x3d\x3d\x3d'"+Ia+"'":"")}function kb(za,Ia,wb){const Yb=za.encode,Ub={target:wb};wb=za.events;let ic=za.update,oc=[];wb||m.error("Signal update missing events specification.");m.isString(wb)&&(wb=F.selector(wb,Ia.isSubscope()?"scope":"view"));
wb=m.array(wb).filter(id=>id.signal||id.scale?(oc.push(id),0):1);1<oc.length&&(oc=[Ta(oc)]);wb.length&&oc.push(1<wb.length?{merge:wb}:wb[0]);null!=Yb&&(ic&&m.error("Signal encode and update are mutually exclusive."),ic="encode(item(),"+m.stringValue(Yb)+")");Ub.update=m.isString(ic)?n.parseExpression(ic,Ia):null!=ic.expr?n.parseExpression(ic.expr,Ia):null!=ic.value?ic.value:null!=ic.signal?{$expr:Ge,$params:{$value:Ia.signalRef(ic.signal)}}:m.error("Invalid signal update specification.");za.force&&
(Ub.options={force:!0});oc.forEach(id=>Ia.addUpdate(m.extend(sa(id,Ia),Ub)))}function sa(za,Ia){return{source:za.signal?Ia.signalRef(za.signal):za.scale?Ia.scaleRef(za.scale):N(za,Ia)}}function Ta(za){return{signal:"["+za.map(Ia=>Ia.scale?'scale("'+Ia.scale+'")':Ia.signal)+"]"}}function Wa(za,Ia){const wb=Ia.getSignal(za.name);let Yb=za.update;za.init&&(Yb?m.error("Signals can not include both init and update expressions."):(Yb=za.init,wb.initonly=!0));Yb&&(Yb=n.parseExpression(Yb,Ia),wb.update=Yb.$expr,
wb.params=Yb.$params);za.on&&za.on.forEach(Ub=>kb(Ub,Ia,wb.id))}function Ea(za,Ia){return m.isObject(za)?za.signal?Ia.signalRef(za.signal):m.error("Unsupported object: "+m.stringValue(za)):za}function ua(za,Ia){return za.signal?Ia.signalRef(za.signal):za.map(wb=>Ea(wb,Ia))}function V(za){m.error("Can not find data set: "+m.stringValue(za))}function W(za,Ia,wb){if(za)return za.signal?wb.signalRef(za.signal):(m.isArray(za)?ca:za.fields?qa:fa)(za,Ia,wb);null==Ia.domainMin&&null==Ia.domainMax||m.error("No scale domain defined for domainMin/domainMax to override.")}
function ca(za,Ia,wb){return za.map(Yb=>Ea(Yb,wb))}function fa(za,Ia,wb){const Yb=wb.getData(za.data);Yb||V(za.data);return O.isDiscrete(Ia.type)?Yb.valuesRef(wb,za.field,Ga(za.sort,!1)):O.isQuantile(Ia.type)?Yb.domainRef(wb,za.field):Yb.extentRef(wb,za.field)}function qa(za,Ia,wb){const Yb=za.data,Ub=za.fields.reduce((ic,oc)=>{if(m.isString(oc))oc={data:Yb,field:oc};else if(m.isArray(oc)||oc.signal){{var id=oc;oc="_:vega:_"+ld++;const Tc=Pe({});m.isArray(id)?Tc.value={$ingest:id}:id.signal&&(id=
"setdata("+m.stringValue(oc)+","+id.signal+")",Tc.params.input=wb.signalRef(id));wb.addDataPipeline(oc,[Tc,vb({})]);oc={data:oc,field:"data"}}}ic.push(oc);return ic},[]);return(O.isDiscrete(Ia.type)?pa:O.isQuantile(Ia.type)?na:Oa)(za,wb,Ub)}function pa(za,Ia,wb){const Yb=Ga(za.sort,!0);za=wb.map(ic=>{const oc=Ia.getData(ic.data);oc||V(ic.data);return oc.countsRef(Ia,ic.field,Yb)});const Ub={groupby:Mf,pulse:za};Yb&&(za=Yb.op||"count",wb=Yb.field?da(za,Yb.field):"count",Ub.ops=[Qc[za]],Ub.fields=[Ia.fieldRef(wb)],
Ub.as=[wb]);za=Ia.add(Zd(Ub));za=Ia.add(Pe({pulse:U(za)}));wb=Ia.add(Oc({field:Mf,sort:Ia.sortRef(Yb),pulse:U(za)}));return U(wb)}function Ga(za,Ia){za&&(za.field||za.op?za.field||"count"===za.op?Ia&&za.field&&za.op&&!Qc[za.op]&&m.error("Multiple domain scales can not be sorted using "+za.op):m.error("No field provided for sort aggregate op: "+za.op):m.isObject(za)?za.field="key":za={field:"key"});return za}function na(za,Ia,wb){za=wb.map(Yb=>{const Ub=Ia.getData(Yb.data);Ub||V(Yb.data);return Ub.domainRef(Ia,
Yb.field)});return U(Ia.add(If({values:za})))}function Oa(za,Ia,wb){za=wb.map(Yb=>{const Ub=Ia.getData(Yb.data);Ub||V(Yb.data);return Ub.extentRef(Ia,Yb.field)});return U(Ia.add(Hf({extents:za})))}function cb(za,Ia,wb){const Yb=Ia.config.range;let Ub=za.range;if(Ub.signal)return Ia.signalRef(Ub.signal);if(m.isString(Ub)){if(Yb&&m.hasOwnProperty(Yb,Ub))return za=m.extend({},za,{range:Yb[Ub]}),cb(za,Ia,wb);"width"===Ub?Ub=[0,{signal:"width"}]:"height"===Ub?Ub=O.isDiscrete(za.type)?[0,{signal:"height"}]:
[{signal:"height"},0]:m.error("Unrecognized scale range value: "+m.stringValue(Ub))}else{if(Ub.scheme){wb.scheme=m.isArray(Ub.scheme)?ua(Ub.scheme,Ia):Ea(Ub.scheme,Ia);Ub.extent&&(wb.schemeExtent=ua(Ub.extent,Ia));Ub.count&&(wb.schemeCount=Ea(Ub.count,Ia));return}if(Ub.step){wb.rangeStep=Ea(Ub.step,Ia);return}if(O.isDiscrete(za.type)&&!m.isArray(Ub))return W(Ub,za,Ia);m.isArray(Ub)||m.error("Unsupported range type: "+m.stringValue(Ub))}return Ub.map(ic=>(m.isArray(ic)?ua:Ea)(ic,Ia))}function Za(za,
Ia,wb){return m.isArray(za)?za.map(Yb=>Za(Yb,Ia,wb)):m.isObject(za)?za.signal?wb.signalRef(za.signal):"fit"===Ia?za:m.error("Unsupported parameter object: "+m.stringValue(za)):za}function Aa(za){za.type="group";za.interactive=za.interactive||!1;return za}function Fa(za,Ia){const wb=(Yb,Ub)=>Q(za[Yb],Q(Ia[Yb],Ub));wb.isVertical=Yb=>"vertical"===Q(za.direction,Ia.direction||(Yb?Ia.symbolDirection:Ia.gradientDirection));wb.gradientLength=()=>Q(za.gradientLength,Ia.gradientLength||Ia.gradientWidth);wb.gradientThickness=
()=>Q(za.gradientThickness,Ia.gradientThickness||Ia.gradientHeight);wb.entryColumns=()=>Q(za.columns,Q(Ia.columns,+wb.isVertical(!0)));return wb}function Ra(za,Ia){return(za=Ia&&(Ia.update&&Ia.update[za]||Ia.enter&&Ia.enter[za]))&&za.signal?za:za?za.value:null}function ab(za,Ia,wb){return`item.anchor === '${"start"}' ? ${za} : item.anchor === '${"end"}' ? ${Ia} : ${wb}`}function lb(za,Ia){return Ia?za?m.isObject(za)?Object.assign({},za,{offset:lb(za.offset,Ia)}):{value:za,offset:Ia}:Ia:za}function Ma(za,
Ia){Ia?(za.name=Ia.name,za.style=Ia.style||za.style,za.interactive=!!Ia.interactive,za.encode=c(za.encode,Ia,Nd)):za.interactive=!1;return za}function nb(za,Ia,wb,Yb){za=Fa(za,wb);var Ub=za.isVertical();wb=za.gradientThickness();const ic=za.gradientLength();let oc,id,Tc;Ub?(Ub=[0,1],id=[0,0],Tc=wb,wb=ic):(Ub=[0,0],id=[1,0],Tc=ic);Ia={enter:oc={opacity:Od,x:Od,y:Od,width:Ue(Tc),height:Ue(wb)},update:m.extend({},oc,{opacity:od,fill:{gradient:Ia,start:Ub,stop:id}}),exit:{opacity:Od}};h(Ia,{stroke:za("gradientStrokeColor"),
strokeWidth:za("gradientStrokeWidth")},{opacity:za("gradientOpacity")});return Ma({type:"rect",role:"legend-gradient",encode:Ia},Yb)}function zb(za,Ia,wb,Yb,Ub){za=Fa(za,wb);const ic=za.isVertical();wb=za.gradientThickness();const oc=za.gradientLength();var id;let Tc,gd,Hd,he="";ic?(id="y",gd="y2",Tc="x",Hd="width",he="1-"):(id="x",gd="x2",Tc="y",Hd="height");Ia={opacity:Od,fill:{scale:Ia,field:"value"}};Ia[id]={signal:he+"datum.perc",mult:oc};Ia[Tc]=Od;Ia[gd]={signal:he+"datum.perc2",mult:oc};Ia[Hd]=
Ue(wb);id={enter:Ia,update:m.extend({},Ia,{opacity:od}),exit:{opacity:Od}};h(id,{stroke:za("gradientStrokeColor"),strokeWidth:za("gradientStrokeWidth")},{opacity:za("gradientOpacity")});return Ma({type:"rect",role:"legend-band",key:"value",from:Ub,encode:id},Yb)}function Sb(za,Ia,wb,Yb){const Ub=Fa(za,Ia);var ic=Ub.isVertical();const oc=Ue(Ub.gradientThickness()),id=Ub.gradientLength();let Tc=Ub("labelOverlap"),gd,Hd,he,ie="";const Pd={enter:gd={opacity:Od},update:Hd={opacity:od,text:{field:"label"}},
exit:{opacity:Od}};h(Pd,{fill:Ub("labelColor"),fillOpacity:Ub("labelOpacity"),font:Ub("labelFont"),fontSize:Ub("labelFontSize"),fontStyle:Ub("labelFontStyle"),fontWeight:Ub("labelFontWeight"),limit:Q(za.labelLimit,Ia.gradientLabelLimit)});ic?(gd.align={value:"left"},gd.baseline=Hd.baseline={signal:'datum.perc\x3c\x3d0?"bottom":datum.perc\x3e\x3d1?"top":"middle"'},ic="y",he="x",ie="1-"):(gd.align=Hd.align={signal:'datum.perc\x3c\x3d0?"left":datum.perc\x3e\x3d1?"right":"center"'},gd.baseline={value:"top"},
ic="x",he="y");gd[ic]=Hd[ic]={signal:ie+"datum.perc",mult:id};gd[he]=Hd[he]=oc;oc.offset=Q(za.labelOffset,Ia.gradientLabelOffset)||0;Tc=Tc?{separation:Ub("labelSeparation"),method:Tc,order:"datum.index"}:void 0;return Ma({type:"text",role:"legend-label",style:"guide-label",key:"value",from:Yb,encode:Pd,overlap:Tc},wb)}function vc(za,Ia,wb,Yb,Ub){var ic=Fa(za,Ia);const oc=wb.entries,id=!(!oc||!oc.interactive),Tc=oc?oc.name:void 0,gd=ic("clipHeight"),Hd=ic("symbolOffset"),he={data:"value"},ie=`(${Ub}) ? datum.${"offset"} : datum.${"size"}`,
Pd=gd?Ue(gd):{field:"size"},Ne=`max(1, ${Ub})`;let pe,He;Pd.mult=.5;var Je={enter:pe={opacity:Od,x:{signal:ie,mult:.5,offset:Hd},y:Pd},update:He={opacity:od,x:pe.x,y:pe.y},exit:{opacity:Od}};let Le=null,Of=null;za.fill||(Le=Ia.symbolBaseFillColor,Of=Ia.symbolBaseStrokeColor);h(Je,{fill:ic("symbolFillColor",Le),shape:ic("symbolType"),size:ic("symbolSize"),stroke:ic("symbolStrokeColor",Of),strokeDash:ic("symbolDash"),strokeDashOffset:ic("symbolDashOffset"),strokeWidth:ic("symbolStrokeWidth")},{opacity:ic("symbolOpacity")});
Ld.forEach(Te=>{za[Te]&&(He[Te]=pe[Te]={scale:za[Te],field:"value"})});Ia=Ma({type:"symbol",role:"legend-symbol",key:"value",from:he,clip:gd?!0:void 0,encode:Je},wb.symbols);Je=Ue(Hd);Je.offset=ic("labelOffset");Je={enter:pe={opacity:Od,x:{signal:ie,offset:Je},y:Pd},update:He={opacity:od,text:{field:"label"},x:pe.x,y:pe.y},exit:{opacity:Od}};h(Je,{align:ic("labelAlign"),baseline:ic("labelBaseline"),fill:ic("labelColor"),fillOpacity:ic("labelOpacity"),font:ic("labelFont"),fontSize:ic("labelFontSize"),
fontStyle:ic("labelFontStyle"),fontWeight:ic("labelFontWeight"),limit:ic("labelLimit")});wb=Ma({type:"text",role:"legend-label",style:"guide-label",key:"value",from:he,encode:Je},wb.labels);Je={enter:{noBound:{value:!gd},width:Od,height:gd?Ue(gd):Od,opacity:Od},exit:{opacity:Od},update:He={opacity:od,row:{signal:null},column:{signal:null}}};ic.isVertical(!0)?(ic=`ceil(item.mark.items.length / ${Ne})`,He.row.signal=`${"datum.index"}%${ic}`,He.column.signal=`floor(${"datum.index"} / ${ic})`,ic={field:["row",
"datum.index"]}):(He.row.signal=`floor(${"datum.index"} / ${Ne})`,He.column.signal=`${"datum.index"} % ${Ne}`,ic={field:"datum.index"});He.column.signal=`(${Ub})?${He.column.signal}:${"datum.index"}`;Yb={facet:{data:Yb,name:"value",groupby:"index"}};return Aa({role:"scope",from:Yb,encode:c(Je,oc,Nd),marks:[Ia,wb],name:Tc,interactive:id,sort:ic})}function lc(za,Ia){za=Fa(za,Ia);return{align:za("gridAlign"),columns:za.entryColumns(),center:{row:!0,column:!1},padding:{row:za("rowPadding"),column:za("columnPadding")}}}
function kc(za,Ia,wb,Yb){Ia=Fa(za,Ia);const Ub={enter:{opacity:Od},update:{opacity:od,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Od}};h(Ub,{orient:Ia("titleOrient"),_anchor:Ia("titleAnchor"),anchor:{signal:'item._anchor || ((item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? "middle" : "start")'},angle:{signal:'datum.vgrad \x26\x26 (item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? (item.orient \x3d\x3d\x3d "left" ? -90 : 90) : 0'},
align:{signal:lf},baseline:{signal:bf},text:za.title,fill:Ia("titleColor"),fillOpacity:Ia("titleOpacity"),font:Ia("titleFont"),fontSize:Ia("titleFontSize"),fontStyle:Ia("titleFontStyle"),fontWeight:Ia("titleFontWeight"),limit:Ia("titleLimit"),lineHeight:Ia("titleLineHeight")},{align:Ia("titleAlign"),baseline:Ia("titleBaseline")});return Ma({type:"text",role:"legend-title",style:"guide-title",from:Yb,encode:Ub},wb)}function jb(za,Ia){let wb;m.isObject(za)&&(za.signal?wb=za.signal:za.path?wb="pathShape("+
$b(za.path)+")":za.sphere&&(wb="geoShape("+$b(za.sphere)+', {type: "Sphere"})'));return wb?Ia.signalRef(wb):!!za}function $b(za){return m.isObject(za)&&za.signal?za.signal:m.stringValue(za)}function yc(za){const Ia=za.role||"";return Ia.indexOf("axis")&&Ia.indexOf("legend")&&Ia.indexOf("title")?"group"===za.type?"scope":Ia||"mark":Ia}function nc(za){return{marktype:za.type,name:za.name||void 0,role:za.role||yc(za),zindex:+za.zindex||void 0,aria:za.aria,description:za.description}}function zc(za,Ia){return za&&
za.signal?Ia.signalRef(za.signal):!1===za?!1:!0}function qc(za,Ia){const wb=x.definition(za.type);wb||m.error("Unrecognized transform type: "+m.stringValue(za.type));var Yb=wb.type.toLowerCase();var Ub=Vc(wb,za,Ia);Yb=new R(Yb,null,Ub,void 0);za.signal&&Ia.addSignal(za.signal,Ia.proxy(Yb));Yb.metadata=wb.metadata||{};return Yb}function Vc(za,Ia,wb){const Yb={},Ub=za.params.length;for(let ic=0;ic<Ub;++ic){const oc=za.params[ic];Yb[oc.name]=Uc(oc,Ia,wb)}return Yb}function Uc(za,Ia,wb){const Yb=za.type,
Ub=Ia[za.name];if("index"===Yb)return Fd(za,Ia,wb);if(void 0===Ub)za.required&&m.error("Missing required "+m.stringValue(Ia.type)+" parameter: "+m.stringValue(za.name));else return"param"===Yb?fe(za,Ia,wb):"projection"===Yb?wb.projectionRef(Ia[za.name]):za.array&&!ja(Ub)?Ub.map(ic=>Lc(za,ic,wb)):Lc(za,Ub,wb)}function Lc(za,Ia,wb){const Yb=za.type;return ja(Ia)?"expr"===Yb?m.error("Expression references can not be signals."):"field"===Yb?wb.fieldRef(Ia):"compare"===Yb?wb.compareRef(Ia):wb.signalRef(Ia.signal):
(za=za.expr||"field"===Yb)&&Ia&&Ia.expr?wb.exprRef(Ia.expr,Ia.as):za&&Ia&&Ia.field?ka(Ia.field,Ia.as):"expr"===Yb?n.parseExpression(Ia,wb):"data"===Yb?U(wb.getData(Ia).values):"field"===Yb?ka(Ia):"compare"===Yb?wb.compareRef(Ia):Ia}function Fd(za,Ia,wb){m.isString(Ia.from)||m.error('Lookup "from" parameter must be a string literal.');return wb.getData(Ia.from).lookupRef(wb,Ia.key)}function fe(za,Ia,wb){Ia=Ia[za.name];return za.array?(m.isArray(Ia)||m.error("Expected an array of sub-parameters. Instead: "+
m.stringValue(Ia)),Ia.map(Yb=>vd(za,Yb,wb))):vd(za,Ia,wb)}function vd(za,Ia,wb){const Yb=za.params.length;let Ub;for(let ic=0;ic<Yb;++ic){Ub=za.params[ic];for(const oc in Ub.key)if(Ub.key[oc]!==Ia[oc]){Ub=null;break}if(Ub)break}Ub||m.error("Unsupported parameter: "+m.stringValue(Ia));za=m.extend(Vc(Ub,Ia,wb),Ub.key);return U(wb.add(Jf(za)))}function Sc(za,Ia,wb){let Yb,Ub,ic,oc;if(!za)ic=U(wb.add(Pe(null,[{}])));else if(Yb=za.facet)Ia||m.error("Only group marks can be faceted."),null!=Yb.field?ic=
oc=Yd(Yb,wb):(za.data?oc=U(wb.getData(za.data).aggregate):(Ia=qc(m.extend({type:"aggregate",groupby:m.array(Yb.groupby)},Yb.aggregate),wb),Ia.params.key=wb.keyRef(Yb.groupby),Ia.params.pulse=Yd(Yb,wb),ic=oc=U(wb.add(Ia))),Ub=wb.keyRef(Yb.groupby,!0));ic||(ic=Yd(za,wb));return{key:Ub,pulse:ic,parent:oc}}function Yd(za,Ia){return za.$ref?za:za.data&&za.data.$ref?za.data:U(Ia.getData(za.data).output)}function Qb(za,Ia,wb,Yb,Ub){this.scope=za;this.input=Ia;this.output=wb;this.values=Yb;this.aggregate=
Ub;this.index={}}function gc(za){return m.isString(za)?za:null}function Ib(za,Ia,wb){const Yb=da(wb.op,wb.field);let Ub;if(Ia.ops)for(let ic=0,oc=Ia.as.length;ic<oc;++ic){if(Ia.as[ic]===Yb)return}else Ia.ops=["count"],Ia.fields=[null],Ia.as=["count"];wb.op&&(Ia.ops.push((Ub=wb.op.signal)?za.signalRef(Ub):wb.op),Ia.fields.push(za.fieldRef(wb.field)),Ia.as.push(Yb))}function Cc(za,Ia,wb,Yb,Ub,ic,oc){wb=Ia[wb]||(Ia[wb]={});var id=m.isObject(ic)?("descending"===ic.order?"-":"+")+da(ic.op,ic.field):"";
let Tc=gc(Ub);if(null!=Tc){za=Ia.scope;Tc+=id?"|"+id:"";var gd=wb[Tc]}gd||(gd=ic?{field:Mf,pulse:Ia.countsRef(za,Ub,ic)}:{field:za.fieldRef(Ub),pulse:U(Ia.output)},id&&(gd.sort=za.sortRef(ic)),za=za.add(new R(Yb,void 0,gd,void 0)),oc&&(Ia.index[Ub]=za),gd=U(za),null!=Tc&&(wb[Tc]=gd));return gd}function Wc(za,Ia,wb){var Yb=za.from.facet;const Ub=Yb.name,ic=Yd(Yb,Ia);let oc;Yb.name||m.error("Facet must have a name: "+m.stringValue(Yb));Yb.data||m.error("Facet must reference a data set: "+m.stringValue(Yb));
Yb.field?oc=Ia.add(Ae({field:Ia.fieldRef(Yb.field),pulse:ic})):Yb.groupby?oc=Ia.add(xe({key:Ia.keyRef(Yb.groupby),group:U(Ia.proxy(wb.parent)),pulse:ic})):m.error("Facet must specify groupby or field: "+m.stringValue(Yb));Ia=Ia.fork();wb=Ia.add(Pe());Yb=Ia.add(vb({pulse:U(wb)}));Ia.addData(Ub,new Qb(Ia,wb,wb,Yb));Ia.addSignal("parent",null);oc.params.subflow={$subflow:Ia.parse(za).toRuntime()}}function Gd(za,Ia,wb){wb=Ia.add(Ae({pulse:wb.pulse}));Ia=Ia.fork();Ia.add(vb());Ia.addSignal("parent",null);
wb.params.subflow={$subflow:Ia.parse(za).toRuntime()}}function Wd(za,Ia,wb){const Yb=za.remove,Ub=za.insert,ic=za.toggle,oc=za.modify,id=za.values,Tc=Ia.add(new R("operator",void 0,void 0,void 0));za="if("+za.trigger+',modify("'+wb+'",'+[Ub,Yb,ic,oc,id].map(gd=>null==gd?"null":gd).join(",")+"),0)";Ia=n.parseExpression(za,Ia);Tc.update=Ia.$expr;Tc.params=Ia.$params}function Ja(za,Ia){var wb=yc(za),Yb="group"===za.type,Ub=za.from&&za.from.facet;const ic=za.overlap;let oc=za.layout||"scope"===wb||"frame"===
wb,id,Tc,gd,Hd,he,ie;const Pd="mark"===wb||oc||Ub,Ne=Sc(za.from,Yb,Ia);Tc=Ia.add(Qe({key:Ne.key||(za.key?ka(za.key):void 0),pulse:Ne.pulse,clean:!Yb}));const pe=U(Tc);Tc=gd=Ia.add(Pe({pulse:pe}));Tc=Ia.add(gf({markdef:nc(za),interactive:zc(za.interactive,Ia),clip:jb(za.clip,Ia),context:{$context:!0},groups:Ia.lookup(),parent:Ia.signals.parent?Ia.signalRef("parent"):null,index:Ia.markpath(),pulse:U(Tc)}));var He=U(Tc);Tc=Hd=Ia.add(Yf(G(za.encode,za.type,wb,za.style,Ia,{mod:!1,pulse:He})));Tc.params.parent=
Ia.encode();za.transform&&za.transform.forEach(Le=>{Le=qc(Le,Ia);const Of=Le.metadata;(Of.generates||Of.changes)&&m.error("Mark transforms should not generate new data.");Of.nomod||(Hd.params.mod=!0);Le.params.pulse=U(Tc);Ia.add(Tc=Le)});za.sort&&(Tc=Ia.add(Xb({sort:Ia.compareRef(za.sort),pulse:U(Tc)})));wb=U(Tc);if(Ub||oc)oc=Ia.add(xc({layout:Ia.objectProperty(za.layout),legends:Ia.legends,mark:He,pulse:wb})),ie=U(oc);const Je=Ia.add(nf({mark:He,pulse:ie||wb}));He=U(Je);Yb&&(Pd&&(id=Ia.operators,
id.pop(),oc&&id.pop()),Ia.pushState(wb,ie||He,pe),Ub?Wc(za,Ia,Ne):Pd?Gd(za,Ia,Ne):Ia.parse(za),Ia.popState(),Pd&&(oc&&id.push(oc),id.push(Je)));ic&&(He=eb(ic,He,Ia));Yb=Ia.add(Ya({pulse:He}));Ub=Ia.add(vb({pulse:U(Yb)},void 0,Ia.parent()));null!=za.name&&(he=za.name,Ia.addData(he,new Qb(Ia,gd,Yb,Ub)),za.on&&za.on.forEach(Le=>{(Le.insert||Le.remove||Le.toggle)&&m.error("Marks only support modify triggers.");Wd(Le,Ia,he)}))}function eb(za,Ia,wb){const Yb=za.method,Ub=za.bound,ic=za.separation;Ia={separation:ja(ic)?
wb.signalRef(ic.signal):ic,method:ja(Yb)?wb.signalRef(Yb.signal):Yb,pulse:Ia};za.order&&(Ia.sort=wb.compareRef({field:za.order}));Ub&&(za=Ub.tolerance,Ia.boundTolerance=ja(za)?wb.signalRef(za.signal):+za,Ia.boundScale=wb.scaleRef(Ub.scale),Ia.boundOrient=Ub.orient);return U(wb.add(Qf(Ia)))}function xb(za,Ia){const wb=Ia.config.legend,Yb=za.encode||{},Ub=Fa(za,wb),ic=Yb.legend||{},oc=ic.name||void 0,id=ic.interactive,Tc=ic.style,gd={};let Hd=0,he,ie;Ld.forEach(Je=>za[Je]?(gd[Je]=za[Je],Hd=Hd||za[Je]):
0);Hd||m.error("Missing valid scale for legend.");var Pd=Jb(za,Ia.scaleType(Hd));const Ne={title:null!=za.title,scales:gd,type:Pd,vgrad:"symbol"!==Pd&&Ub.isVertical()},pe=U(Ia.add(Pe(null,[Ne]))),He=U(Ia.add(De(ie={type:Pd,scale:Ia.scaleRef(Hd),count:Ia.objectProperty(Ub("tickCount")),limit:Ia.property(Ub("symbolLimit")),values:Ia.objectProperty(za.values),minstep:Ia.property(za.tickMinStep),formatType:Ia.property(za.formatType),formatSpecifier:Ia.property(za.format)})));"gradient"===Pd?(Pd=[nb(za,
Hd,wb,Yb.gradient),Sb(za,wb,Yb.labels,He)],ie.count=ie.count||Ia.signalRef(`max(2,2*floor((${r(Ub.gradientLength())})/100))`)):"discrete"===Pd?Pd=[zb(za,Hd,wb,Yb.gradient,He),Sb(za,wb,Yb.labels,He)]:(he=lc(za,wb),Pd=[vc(za,wb,Yb,He,r(he.columns))],ie.size=Ec(za,Ia,Pd[0].marks));Pd=[Aa({role:"legend-entry",from:pe,encode:{enter:{x:{value:0},y:{value:0}}},marks:Pd,layout:he,interactive:id})];Ne.title&&Pd.push(kc(za,wb,Yb.title,pe));return Ja(Aa({role:"legend",from:pe,encode:c(jc(Ub,za,wb),ic,Nd),marks:Pd,
aria:Ub("aria"),description:Ub("description"),zindex:Ub("zindex"),name:oc,interactive:id,style:Tc}),Ia)}function Jb(za,Ia){let wb=za.type||"symbol";za.type||1!==ac(za)||!za.fill&&!za.stroke||(wb=O.isContinuous(Ia)?"gradient":O.isDiscretizing(Ia)?"discrete":"symbol");return"gradient"!==wb?wb:O.isDiscretizing(Ia)?"discrete":"gradient"}function ac(za){return Ld.reduce((Ia,wb)=>Ia+(za[wb]?1:0),0)}function jc(za,Ia,wb){const Yb={enter:{},update:{}};h(Yb,{orient:za("orient"),offset:za("offset"),padding:za("padding"),
titlePadding:za("titlePadding"),cornerRadius:za("cornerRadius"),fill:za("fillColor"),stroke:za("strokeColor"),strokeWidth:wb.strokeWidth,strokeDash:wb.strokeDash,x:za("legendX"),y:za("legendY"),format:Ia.format,formatType:Ia.formatType});return Yb}function Ec(za,Ia,wb){const Yb=r(sc("size",za,wb));za=r(sc("strokeWidth",za,wb));(wb=Ra("fontSize",wb[1].encode))||(wb=(wb=Ia.config.style["guide-label"])&&wb.fontSize);wb=r(wb);return n.parseExpression(`max(ceil(sqrt(${Yb})+${za}),${wb})`,Ia)}function sc(za,
Ia,wb){return Ia[za]?`scale("${Ia[za]}",datum)`:Ra(za,wb[0].encode)}function ob(za,Ia){za=m.isString(za)?{text:za}:za;const wb=Fa(za,Ia.config.title),Yb=za.encode||{};var Ub=Yb.group||{};const ic=Ub.name||void 0,oc=Ub.interactive,id=Ub.style,Tc=[],gd=U(Ia.add(Pe(null,[{}])));Tc.push(Vb(za,wb,Db(za),gd));za.subtitle&&Tc.push(mc(za,wb,Yb.subtitle,gd));za={enter:{},update:{}};h(za,{orient:wb("orient"),anchor:wb("anchor"),align:{signal:Rd},angle:{signal:'item.orient\x3d\x3d\x3d"left"?-90:item.orient\x3d\x3d\x3d"right"?90:0'},
limit:wb("limit"),frame:wb("frame"),offset:wb("offset")||0,padding:wb("subtitlePadding")});Ub=c(za,Ub,Nd);return Ja(Aa({role:"title",from:gd,encode:Ub,marks:Tc,aria:wb("aria"),description:wb("description"),zindex:wb("zindex"),name:ic,interactive:oc,style:id}),Ia)}function Db(za){const Ia=za.encode;return Ia&&Ia.title||m.extend({name:za.name,interactive:za.interactive,style:za.style},Ia)}function Vb(za,Ia,wb,Yb){var Ub={value:0};Ub={enter:{opacity:Ub},update:{opacity:{value:1}},exit:{opacity:Ub}};
h(Ub,{text:za.text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:Ia("dx"),dy:Ia("dy"),fill:Ia("color"),font:Ia("font"),fontSize:Ia("fontSize"),fontStyle:Ia("fontStyle"),fontWeight:Ia("fontWeight"),lineHeight:Ia("lineHeight")},{align:Ia("align"),angle:Ia("angle"),baseline:Ia("baseline")});return Ma({type:"text",role:"title-text",style:"group-title",from:Yb,encode:Ub},wb)}function mc(za,Ia,wb,Yb){var Ub={value:0};
Ub={enter:{opacity:Ub},update:{opacity:{value:1}},exit:{opacity:Ub}};h(Ub,{text:za.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:Ia("dx"),dy:Ia("dy"),fill:Ia("subtitleColor"),font:Ia("subtitleFont"),fontSize:Ia("subtitleFontSize"),fontStyle:Ia("subtitleFontStyle"),fontWeight:Ia("subtitleFontWeight"),lineHeight:Ia("subtitleLineHeight")},{align:Ia("align"),angle:Ia("angle"),baseline:Ia("baseline")});return Ma({type:"text",
role:"title-subtitle",style:"group-subtitle",from:Yb,encode:Ub},wb)}function Dc(za,Ia){const wb=[];za.transform&&za.transform.forEach(Yb=>{wb.push(qc(Yb,Ia))});za.on&&za.on.forEach(Yb=>{Wd(Yb,Ia,za.name)});Ia.addDataPipeline(za.name,Fc(za,Ia,wb))}function Fc(za,Ia,wb){const Yb=[];let Ub=null,ic=!1,oc=!1,id,Tc,gd,Hd;za.values?ja(za.values)||Z(za.format)?(Yb.push(Fb(Ia,za)),Yb.push(Ub=Xc())):Yb.push(Ub=Xc({$ingest:za.values,$format:za.format})):za.url?Z(za.url)||Z(za.format)?(Yb.push(Fb(Ia,za)),Yb.push(Ub=
Xc())):Yb.push(Ub=Xc({$request:za.url,$format:za.format})):za.source&&(Ub=id=m.array(za.source).map(he=>U(Ia.getData(he).output)),Yb.push(null));za=0;for(Tc=wb.length;za<Tc;++za)gd=wb[za],Hd=gd.metadata,Ub||Hd.source||Yb.push(Ub=Xc()),Yb.push(gd),Hd.generates&&(oc=!0),Hd.modifies&&!oc&&(ic=!0),Hd.source?Ub=gd:Hd.changes&&(Ub=null);id&&(Tc=id.length-1,Yb[0]=Ba({derive:ic,pulse:Tc?id:id[0]}),(ic||Tc)&&Yb.splice(1,0,Xc()));Ub||Yb.push(Xc());Yb.push(vb({}));return Yb}function Xc(za){za=Pe({},za);za.metadata=
{source:!0};return za}function Fb(za,Ia){return re({url:Ia.url?za.property(Ia.url):void 0,async:Ia.async?za.property(Ia.async):void 0,values:Ia.values?za.property(Ia.values):void 0,format:za.objectProperty(Ia.format)})}function Ic(za,Ia,wb,Yb){let Ub;if(Ia&&m.hasOwnProperty(Ia,za))return Ia[za];if(m.hasOwnProperty(wb,za))return wb[za];if(za.startsWith("title")){switch(za){case "titleColor":Ub="fill";break;case "titleFont":case "titleFontSize":case "titleFontWeight":Ub=za[5].toLowerCase()+za.slice(6)}return Yb["guide-title"][Ub]}if(za.startsWith("label")){switch(za){case "labelColor":Ub=
"fill";break;case "labelFont":case "labelFontSize":Ub=za[5].toLowerCase()+za.slice(6)}return Yb["guide-label"][Ub]}return null}function fd(za){const Ia={};for(const wb of za)if(wb)for(const Yb in wb)Ia[Yb]=1;return Object.keys(Ia)}function wc(za,Ia,wb,Yb){var Ub=Fa(za,Ia);Ia=za.orient;let ic,oc;const id={enter:ic={opacity:Od},update:oc={opacity:od},exit:{opacity:Od}};h(id,{stroke:Ub("domainColor"),strokeCap:Ub("domainCap"),strokeDash:Ub("domainDash"),strokeDashOffset:Ub("domainDashOffset"),strokeWidth:Ub("domainWidth"),
strokeOpacity:Ub("domainOpacity")});Ub={scale:za.scale,range:0};za={scale:za.scale,range:1};ic.x=oc.x=Ve(Ia,Ub,Od);ic.x2=oc.x2=Ve(Ia,za);ic.y=oc.y=ce(Ia,Ub,Od);ic.y2=oc.y2=ce(Ia,za);return Ma({type:"rule",role:"axis-domain",from:Yb,encode:id},wb)}function $c(za,Ia,wb,Yb,Ub){var ic=Fa(za,Ia);Ia=za.orient;var oc=za.gridScale;const id=ee(Ia,1,-1);a:{var Tc=za.offset;if(1!==id)if(m.isObject(Tc)){for(var gd=Tc=m.extend({},Tc);null!=gd.mult;)if(m.isObject(gd.mult))gd=gd.mult=m.extend({},gd.mult);else{gd.mult=
ja(id)?{signal:`(${gd.mult}) * (${id.signal})`}:gd.mult*id;break a}gd.mult=id}else Tc=ja(id)?{signal:`(${id.signal}) * (${Tc||0})`}:id*(Tc||0)}const Hd=Tc;let he;const ie={enter:Tc={opacity:Od},update:he={opacity:od},exit:gd={opacity:Od}};h(ie,{stroke:ic("gridColor"),strokeCap:ic("gridCap"),strokeDash:ic("gridDash"),strokeDashOffset:ic("gridDashOffset"),strokeOpacity:ic("gridOpacity"),strokeWidth:ic("gridWidth")});za={scale:za.scale,field:"value",band:Ub.band,extra:Ub.extra,offset:Ub.offset,round:ic("tickRound")};
ic=Ve(Ia,{signal:"height"},{signal:"width"});Ub=oc?{scale:oc,range:0,mult:id,offset:Hd}:{value:0,offset:Hd};oc=oc?{scale:oc,range:1,mult:id,offset:Hd}:m.extend(ic,{mult:id,offset:Hd});Tc.x=he.x=Ve(Ia,za,Ub);Tc.y=he.y=ce(Ia,za,Ub);Tc.x2=he.x2=ce(Ia,oc);Tc.y2=he.y2=Ve(Ia,oc);gd.x=Ve(Ia,za);gd.y=ce(Ia,za);return Ma({type:"rule",role:"axis-grid",key:"value",from:Yb,encode:ie},wb)}function ad(za,Ia,wb,Yb,Ub,ic){const oc=Fa(za,Ia);Ia=za.orient;const id=ee(Ia,-1,1);let Tc,gd,Hd;const he={enter:Tc={opacity:Od},
update:Hd={opacity:od},exit:gd={opacity:Od}};h(he,{stroke:oc("tickColor"),strokeCap:oc("tickCap"),strokeDash:oc("tickDash"),strokeDashOffset:oc("tickDashOffset"),strokeOpacity:oc("tickOpacity"),strokeWidth:oc("tickWidth")});Ub=Ue(Ub);Ub.mult=id;za={scale:za.scale,field:"value",band:ic.band,extra:ic.extra,offset:ic.offset,round:oc("tickRound")};Hd.y=Tc.y=Ve(Ia,Od,za);Hd.y2=Tc.y2=Ve(Ia,Ub);gd.x=Ve(Ia,za);Hd.x=Tc.x=ce(Ia,Od,za);Hd.x2=Tc.x2=ce(Ia,Ub);gd.y=ce(Ia,za);return Ma({type:"rule",role:"axis-tick",
key:"value",from:Yb,encode:he},wb)}function nd(za,Ia,wb,Yb,Ub){return{signal:'flush(range("'+za+'"), scale("'+za+'", datum.value), '+Ia+","+wb+","+Yb+","+Ub+")"}}function Cd(za,Ia,wb,Yb,Ub,ic){Ia=Fa(za,Ia);const oc=za.orient;za=za.scale;var id=ee(oc,-1,1),Tc=r(Ia("labelFlush")),gd=r(Ia("labelFlushOffset")),Hd=Ia("labelAlign"),he=Ia("labelBaseline");let ie=0===Tc||!!Tc;var Pd=Ue(Ub);Pd.mult=id;Pd.offset=Ue(Ia("labelPadding")||0);Pd.offset.mult=id;id={scale:za,field:"value",band:.5,offset:lb(ic.offset,
Ia("labelOffset"))};ic=ie?nd(za,Tc,'"left"','"right"','"center"'):{value:"center"};Ub=ja(oc)?tf(`${oc.signal} === '${"right"}'`,"left","right"):"right"===oc?{value:"left"}:{value:"right"};ic=Ve(oc,ic,Ub);Ub=Ve(oc,Xe(oc,"bottom","top"),ie?nd(za,Tc,'"top"','"bottom"','"middle"'):{value:"middle"});Tc=nd(za,Tc,`-(${gd})`,gd,0);ie=ie&&gd;Pd={opacity:Od,x:Ve(oc,id,Pd),y:ce(oc,id,Pd)};Pd={enter:Pd,update:gd={opacity:od,text:{field:"label"},x:Pd.x,y:Pd.y,align:ic,baseline:Ub},exit:{opacity:Od,x:Pd.x,y:Pd.y}};
h(Pd,{dx:!Hd&&ie?Ve(oc,Tc):null,dy:!he&&ie?ce(oc,Tc):null});h(Pd,{angle:Ia("labelAngle"),fill:Ia("labelColor"),fillOpacity:Ia("labelOpacity"),font:Ia("labelFont"),fontSize:Ia("labelFontSize"),fontWeight:Ia("labelFontWeight"),fontStyle:Ia("labelFontStyle"),limit:Ia("labelLimit"),lineHeight:Ia("labelLineHeight")},{align:Hd,baseline:he});Hd=Ia("labelBound");he=(he=Ia("labelOverlap"))||Hd?{separation:Ia("labelSeparation"),method:he,order:"datum.index",bound:Hd?{scale:za,orient:oc,tolerance:Hd}:null}:
void 0;gd.align!==ic&&(gd.align=Nf(gd.align,ic));gd.baseline!==Ub&&(gd.baseline=Nf(gd.baseline,Ub));return Ma({type:"text",role:"axis-label",style:"guide-label",key:"value",from:Yb,encode:Pd,overlap:he},wb)}function Ed(za,Ia,wb,Yb){Ia=Fa(za,Ia);const Ub=za.orient,ic=ee(Ub,-1,1);let oc,id;const Tc={enter:oc={opacity:Od,anchor:Ue(Ia("titleAnchor",null)),align:{signal:Rd}},update:id=m.extend({},oc,{opacity:od,text:Ue(za.title)}),exit:{opacity:Od}};za={signal:`lerp(range("${za.scale}"), ${ab(0,1,.5)})`};
id.x=Ve(Ub,za);id.y=ce(Ub,za);za=ja(ic)?{signal:`(${ic.signal}) * ${90}`}:{value:90*ic};oc.angle=Ve(Ub,Od,za);oc.baseline=Ve(Ub,Xe(Ub,"bottom","top"),{value:"bottom"});id.angle=oc.angle;id.baseline=oc.baseline;h(Tc,{fill:Ia("titleColor"),fillOpacity:Ia("titleOpacity"),font:Ia("titleFont"),fontSize:Ia("titleFontSize"),fontStyle:Ia("titleFontStyle"),fontWeight:Ia("titleFontWeight"),limit:Ia("titleLimit"),lineHeight:Ia("titleLineHeight")},{align:Ia("titleAlign"),angle:Ia("titleAngle"),baseline:Ia("titleBaseline")});
Xd(Ia,Ub,Tc,wb);Tc.update.align=Nf(Tc.update.align,oc.align);Tc.update.angle=Nf(Tc.update.angle,oc.angle);Tc.update.baseline=Nf(Tc.update.baseline,oc.baseline);return Ma({type:"text",role:"axis-title",style:"guide-title",from:Yb,encode:Tc},wb)}function Xd(za,Ia,wb,Yb){const Ub=(oc,id)=>null!=oc?(wb.update[id]=Nf(Ue(oc),wb.update[id]),!1):e(id,Yb)?!1:!0,ic=Ub(za("titleX"),"x");za=Ub(za("titleY"),"y");wb.enter.auto=za===ic?Ue(za):Ve(Ia,Ue(za),Ue(ic))}function $d(za,Ia,wb){const Yb=m.array(za.signals),
Ub=m.array(za.scales);wb||Yb.forEach(ic=>K(ic,Ia));m.array(za.projections).forEach(ic=>{{const oc=Ia.config.projection||{},id={};for(const Tc in ic)"name"!==Tc&&(id[Tc]=Za(ic[Tc],Tc,Ia));for(const Tc in oc)null==id[Tc]&&(id[Tc]=Za(oc[Tc],Tc,Ia));Ia.addProjection(ic.name,id)}});Ub.forEach(ic=>{{const oc=ic.type||"linear";O.isValidScaleType(oc)||m.error("Unrecognized scale type: "+m.stringValue(oc));Ia.addScale(ic.name,{type:oc,domain:void 0})}});m.array(za.data).forEach(ic=>Dc(ic,Ia));Ub.forEach(ic=>
{{const Tc=Ia.getScale(ic.name).params;let gd;Tc.domain=W(ic.domain,ic,Ia);null!=ic.range&&(Tc.range=cb(ic,Ia,Tc));if(null!=ic.interpolate){var oc=ic.interpolate,id=Tc;id.interpolate=Ea(oc.type||oc);null!=oc.gamma&&(id.interpolateGamma=Ea(oc.gamma))}null!=ic.nice&&(oc=ic.nice,oc=m.isObject(oc)?{interval:Ea(oc.interval),step:Ea(oc.step)}:Ea(oc),Tc.nice=oc);null!=ic.bins&&(oc=ic.bins,oc=oc.signal||m.isArray(oc)?ua(oc,Ia):Ia.objectProperty(oc),Tc.bins=oc);for(gd in ic)m.hasOwnProperty(Tc,gd)||"name"===
gd||(Tc[gd]=Ea(ic[gd],Ia))}});(wb||Yb).forEach(ic=>Wa(ic,Ia));m.array(za.axes).forEach(ic=>{var oc=Ia.config,id=oc.style,Tc=oc.axis,gd="band"===Ia.scaleType(ic.scale)&&oc.axisBand,Hd=ic.orient;if(ja(Hd)){var he=fd([oc.axisX,oc.axisY]);var ie=fd([oc.axisTop,oc.axisBottom,oc.axisLeft,oc.axisRight]);var Pd={};for(Te of he)Pd[Te]=Ve(Hd,Ic(Te,oc.axisX,Tc,id),Ic(Te,oc.axisY,Tc,id));he={};for(Te of ie){ie=he;var Ne=Te;var pe=Hd.signal;var He=Ic(Te,oc.axisTop,Tc,id),Je=Ic(Te,oc.axisBottom,Tc,id),Le=Ic(Te,
oc.axisLeft,Tc,id),Of=Ic(Te,oc.axisRight,Tc,id);pe={signal:(null!=Le?`${pe} === '${"left"}' ? (${Oe(Le)}) : `:"")+(null!=Je?`${pe} === '${"bottom"}' ? (${Oe(Je)}) : `:"")+(null!=Of?`${pe} === '${"right"}' ? (${Oe(Of)}) : `:"")+(null!=He?`${pe} === '${"top"}' ? (${Oe(He)}) : `:"")+"(null)"};ie[Ne]=pe}}else Pd="top"===Hd||"bottom"===Hd?oc.axisX:oc.axisY,he=oc["axis"+Hd[0].toUpperCase()+Hd.slice(1)];Pd=Pd||he||gd?m.extend({},Tc,Pd,he,gd):Tc;var Te=ic.encode||{};oc=Te.axis||{};id=oc.name||void 0;Tc=oc.interactive;
gd=oc.style;pe=Hd=Fa(ic,Pd);he=pe("tickBand");ie=pe("tickOffset");he?he.signal?(Ne={signal:`(${he.signal}) === 'extent' ? 1 : 0.5`},pe={signal:`(${he.signal}) === 'extent'`},m.isObject(ie)||(ie={signal:`(${he.signal}) === 'extent' ? 0 : ${ie}`})):"extent"===he?(Ne=1,pe=!0,ie=0):(Ne=.5,pe=!1):(Ne=pe("bandPosition"),pe=pe("tickExtra"));Ne={extra:pe,band:Ne,offset:ie};pe={scale:ic.scale,ticks:!!Hd("ticks"),labels:!!Hd("labels"),grid:!!Hd("grid"),domain:!!Hd("domain"),title:null!=ic.title};he=U(Ia.add(Pe({},
[pe])));He=U(Ia.add(we({scale:Ia.scaleRef(ic.scale),extra:Ia.property(Ne.extra),count:Ia.objectProperty(ic.tickCount),values:Ia.objectProperty(ic.values),minstep:Ia.property(ic.tickMinStep),formatType:Ia.property(ic.formatType),formatSpecifier:Ia.property(ic.format)})));ie=[];pe.grid&&ie.push($c(ic,Pd,Te.grid,He,Ne));if(pe.ticks){var uf=Hd("tickSize");ie.push(ad(ic,Pd,Te.ticks,He,uf,Ne))}pe.labels&&(uf=pe.ticks?uf:0,ie.push(Cd(ic,Pd,Te.labels,He,uf,Ne)));pe.domain&&ie.push(wc(ic,Pd,Te.domain,he));
pe.title&&ie.push(Ed(ic,Pd,Te.title,he));uf=Hd;Pd={enter:{},update:{}};h(Pd,{orient:uf("orient"),offset:uf("offset")||0,position:Q(ic.position,0),titlePadding:uf("titlePadding"),minExtent:uf("minExtent"),maxExtent:uf("maxExtent"),range:{signal:`abs(span(range("${ic.scale}")))`},translate:uf("translate"),format:ic.format,formatType:ic.formatType});ic=Pd;return ic=Ja(Aa({role:"axis",from:he,encode:c(ic,oc,Nd),marks:ie,aria:Hd("aria"),description:Hd("description"),zindex:Hd("zindex"),name:id,interactive:Tc,
style:gd}),Ia)});m.array(za.marks).forEach(ic=>Ja(ic,Ia));m.array(za.legends).forEach(ic=>xb(ic,Ia));za.title&&ob(za.title,Ia);Ia.parseLambdas();return Ia}function ae(za,Ia){var wb=Ia.config;const Yb=U(Ia.root=Ia.add(new R("operator",void 0,void 0,void 0))),Ub=me(za,wb);Ub.forEach(id=>K(id,Ia));Ia.description=za.description||wb.description;Ia.eventConfig=wb.events;Ia.legends=Ia.objectProperty(wb.legend&&wb.legend.layout);Ia.locale=wb.locale;wb=Ia.add(Pe());const ic=Ia.add(Yf(G(c({enter:{x:{value:0},
y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},za.encode),"group","frame",za.style,Ia,{pulse:U(wb)}))),oc=Ia.add(xc({layout:Ia.objectProperty(za.layout),legends:Ia.legends,autosize:Ia.signalRef("autosize"),mark:Yb,pulse:U(ic)}));Ia.operators.pop();Ia.pushState(U(ic),U(oc),null);$d(za,Ia,Ub);Ia.operators.push(oc);za=Ia.add(nf({mark:Yb,pulse:U(oc)}));za=Ia.add(Ya({pulse:U(za)}));za=Ia.add(vb({pulse:U(za)}));Ia.addData("root",new Qb(Ia,wb,wb,za));return Ia}function Ce(za,Ia){return Ia&&
Ia.signal?{name:za,update:Ia.signal}:{name:za,value:Ia}}function me(za,Ia){const wb=oc=>Q(za[oc],Ia[oc]),Yb=[Ce("background",wb("background")),Ce("autosize",y(wb("autosize"))),Ce("padding",q(wb("padding"))),Ce("width",wb("width")||0),Ce("height",wb("height")||0)],Ub=Yb.reduce((oc,id)=>(oc[id.name]=id,oc),{}),ic={};m.array(za.signals).forEach(oc=>{m.hasOwnProperty(Ub,oc.name)?oc=m.extend(Ub[oc.name],oc):Yb.push(oc);ic[oc.name]=oc});m.array(Ia.signals).forEach(oc=>{m.hasOwnProperty(ic,oc.name)||m.hasOwnProperty(Ub,
oc.name)||Yb.push(oc)});return Yb}function ff(za,Ia){this.config=za||{};this.options=Ia||{};this.bindings=[];this.field={};this.signals={};this.lambdas={};this.scales={};this.events={};this.data={};this.streams=[];this.updates=[];this.operators=[];this.locale=this.eventConfig=null;this._subid=this._id=0;this._nextsub=[0];this._parent=[];this._encode=[];this._lookup=[];this._markpath=[]}function Ze(za){this.config=za.config;this.options=za.options;this.legends=za.legends;this.field=Object.create(za.field);
this.signals=Object.create(za.signals);this.lambdas=Object.create(za.lambdas);this.scales=Object.create(za.scales);this.events=Object.create(za.events);this.data=Object.create(za.data);this.streams=[];this.updates=[];this.operators=[];this._id=0;this._subid=++za._nextsub[0];this._nextsub=za._nextsub;this._parent=za._parent.slice();this._encode=za._encode.slice();this._lookup=za._lookup.slice();this._markpath=za._markpath}function hf(za){return(m.isArray(za)?Vd:ge)(za)}function Vd(za){const Ia=za.length;
let wb="[";for(let Yb=0;Yb<Ia;++Yb){const Ub=za[Yb];wb+=(0<Yb?",":"")+(m.isObject(Ub)?Ub.signal||hf(Ub):m.stringValue(Ub))}return wb+"]"}function ge(za){let Ia="{",wb=0,Yb,Ub;for(Yb in za)Ub=za[Yb],Ia+=(1<++wb?",":"")+m.stringValue(Yb)+":"+(m.isObject(Ub)?Ub.signal||hf(Ub):m.stringValue(Ub));return Ia+"}"}function yf(){return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},area:{fill:"#4c78a8"},
image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",font:"sans-serif",
fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:"#ddd"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,
titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",
symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:"circle square triangle-up cross diamond triangle-right triangle-down triangle-left".split(" ")}}}const Ue=za=>m.isObject(za)&&!m.isArray(za)?m.extend({},
za):{value:za},of=za=>m.isString(za)?m.stringValue(za):za.signal?`(${za.signal})`:D(za),le=(za,Ia,wb,Yb)=>`(${za}(${[Ia,wb,Yb].map(p).join(",")})+'')`,ye=["value","update","init","react","bind"],Mf=ka("key"),Ge={code:"_.$value",ast:{type:"Identifier",value:"value"}},Td=za=>(Ia,wb,Yb)=>new R(za,wb,Ia||void 0,Yb),Zd=Td("aggregate"),we=Td("axisticks"),nf=Td("bound"),Pe=Td("collect"),Qd=Td("compare"),Qe=Td("datajoin"),Yf=Td("encode"),Jc=Td("expression"),xe=Td("facet"),je=Td("field"),hc=Td("key"),De=Td("legendentries"),
re=Td("load"),gf=Td("mark"),Hf=Td("multiextent"),If=Td("multivalues"),Qf=Td("overlap"),Jf=Td("params"),Ae=Td("prefacet"),Bc=Td("projection"),xa=Td("proxy"),Ba=Td("relay"),Ya=Td("render"),Hb=Td("scale"),vb=Td("sieve"),Xb=Td("sortitems"),xc=Td("viewlayout"),Oc=Td("values");let ld=0;const Qc={min:"min",max:"max",count:"sum"},Ld="size shape fill stroke strokeWidth strokeDash opacity".split(" "),Nd={name:1,style:1,interactive:1},Od={value:0},od={value:1},Rd=ab(m.stringValue("left"),m.stringValue("right"),
m.stringValue("center")),kd=ab('"top"','"bottom"','"middle"'),lf=`datum.vgrad && ${'item.orient \x3d\x3d\x3d "right"'} ? (${ab('"right"','"left"','"center"')}) : (${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} && !(datum.vgrad && ${'item.orient \x3d\x3d\x3d "left"'})) ? "left" : ${Rd}`,bf=`${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} ? (datum.vgrad ? (${'item.orient \x3d\x3d\x3d "right"'} ? "bottom" : "top") : ${kd}) : "top"`;Qb.fromEntries=
function(za,Ia){const wb=Ia.length,Yb=Ia[wb-1],Ub=Ia[wb-2];let ic=Ia[0],oc=null,id=1;ic&&"load"===ic.type&&(ic=Ia[1]);for(za.add(Ia[0]);id<wb;++id)Ia[id].params.pulse=U(Ia[id-1]),za.add(Ia[id]),"aggregate"===Ia[id].type&&(oc=Ia[id]);return new Qb(za,ic,Ub,Yb,oc)};Qb.prototype={countsRef(za,Ia,wb){const Yb=this.counts||(this.counts={}),Ub=gc(Ia);if(null!=Ub){za=this.scope;var ic=Yb[Ub]}ic?wb&&wb.field&&Ib(za,ic.agg.params,wb):(ic={groupby:za.fieldRef(Ia,"key"),pulse:U(this.output)},wb&&wb.field&&Ib(za,
ic,wb),wb=za.add(Zd(ic)),ic=za.add(Pe({pulse:U(wb)})),ic={agg:wb,ref:U(ic)},null!=Ub&&(Yb[Ub]=ic));return ic.ref},tuplesRef(){return U(this.values)},extentRef(za,Ia){return Cc(za,this,"extent","extent",Ia,!1)},domainRef(za,Ia){return Cc(za,this,"domain","values",Ia,!1)},valuesRef(za,Ia,wb){return Cc(za,this,"vals","values",Ia,wb||!0)},lookupRef(za,Ia){return Cc(za,this,"lookup","tupleindex",Ia,!1)},indataRef(za,Ia){return Cc(za,this,"indata","tupleindex",Ia,!0,!0)}};const ee=(za,Ia,wb)=>{ja(za)?(za=
za.signal,Ia=tf(`${za} === '${"left"}' || ${za} === '${"top"}'`,Ia,wb)):Ia="left"===za||"top"===za?Ia:wb;return Ia},Ve=(za,Ia,wb)=>{ja(za)?(za=za.signal,Ia=zf(`${za} === '${"top"}' || ${za} === '${"bottom"}'`,Ia,wb)):Ia="bottom"===za||"top"===za?Ia:wb;return Ia},ce=(za,Ia,wb)=>{ja(za)?(za=za.signal,Ia=zf(`${za} !== '${"top"}' && ${za} !== '${"bottom"}'`,Ia,wb)):Ia="bottom"===za||"top"===za?wb:Ia;return Ia},Xe=(za,Ia,wb)=>ja(za)?tf(`${za.signal} === '${"top"}'`,Ia,wb):"top"===za?{value:Ia}:{value:wb},
zf=(za,Ia,wb)=>{Ia=null!=Ia?Ue(Ia):Ia;wb=null!=wb?Ue(wb):wb;if(null!=Ia&&1!==Object.keys(Ia).length||null!=wb&&1!==Object.keys(wb).length)return[m.extend({test:za},Ia)].concat(wb||[]);Ia=Ia?Ia.signal||m.stringValue(Ia.value):null;wb=wb?wb.signal||m.stringValue(wb.value):null;return{signal:`${za} ? (${Ia}) : (${wb})`}},tf=(za,Ia,wb)=>({signal:`${za} ? (${Oe(Ia)}) : (${Oe(wb)})`}),Oe=za=>ja(za)?za.signal:null==za?null:m.stringValue(za),Nf=(za,Ia)=>{const wb=za.signal;return wb&&wb.endsWith("(null)")?
{signal:wb.slice(0,-6)+Ia.signal}:za};ff.prototype=Ze.prototype={parse(za){return $d(za,this)},fork(){return new Ze(this)},isSubscope(){return 0<this._subid},toRuntime(){this.finish();return{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(za){this.operators.push(za);za.id=this.id();za.refs&&(za.refs.forEach(Ia=>{Ia.$ref=
za.id}),za.refs=null);return za},proxy(za){za=za instanceof R?U(za):za;return this.add(xa({value:za}))},addStream(za){this.streams.push(za);za.id=this.id();return za},addUpdate(za){this.updates.push(za);return za},finish(){function za(Yb,Ub,ic){Yb&&(Yb=Yb.data||(Yb.data={}),Ub=Yb[Ub]||(Yb[Ub]=[]),Ub.push(ic))}let Ia,wb;this.root&&(this.root.root=!0);for(Ia in this.signals)this.signals[Ia].signal=Ia;for(Ia in this.scales)this.scales[Ia].scale=Ia;for(Ia in this.data){wb=this.data[Ia];za(wb.input,Ia,
"input");za(wb.output,Ia,"output");za(wb.values,Ia,"values");for(const Yb in wb.index)za(wb.index[Yb],Ia,"index:"+Yb)}return this},pushState(za,Ia,wb){this._encode.push(U(this.add(vb({pulse:za}))));this._parent.push(Ia);this._lookup.push(wb?U(this.proxy(wb)):null);this._markpath.push(-1)},popState(){this._encode.pop();this._parent.pop();this._lookup.pop();this._markpath.pop()},parent(){return m.peek(this._parent)},encode(){return m.peek(this._encode)},lookup(){return m.peek(this._lookup)},markpath(){const za=
this._markpath;return++za[za.length-1]},fieldRef(za,Ia){if(m.isString(za))return ka(za,Ia);za.signal||m.error("Unsupported field reference: "+m.stringValue(za));za=za.signal;var wb=this.field[za];wb||(wb={name:this.signalRef(za)},Ia&&(wb.as=Ia),this.field[za]=wb=U(this.add(je(wb))));return wb},compareRef(za){let Ia=!1;const wb=Ub=>ja(Ub)?(Ia=!0,this.signalRef(Ub.signal)):Ub&&Ub.expr?(Ia=!0,this.exprRef(Ub.expr)):Ub,Yb=m.array(za.field).map(wb);za=m.array(za.order).map(wb);return Ia?U(this.add(Qd({fields:Yb,
orders:za}))):{$compare:Yb,$order:za}},keyRef(za,Ia){let wb=!1;const Yb=this.signals;za=m.array(za).map(Ub=>ja(Ub)?(wb=!0,U(Yb[Ub.signal])):Ub);return wb?U(this.add(hc({fields:za,flat:Ia}))):ba(za,Ia)},sortRef(za){if(!za)return za;const Ia=da(za.op,za.field);za=za.order||"ascending";return za.signal?U(this.add(Qd({fields:Ia,orders:this.signalRef(za.signal)}))):{$compare:Ia,$order:za}},event(za,Ia){const wb=za+":"+Ia;if(!this.events[wb]){const Yb=this.id();this.streams.push({id:Yb,source:za,type:Ia});
this.events[wb]=Yb}return this.events[wb]},hasOwnSignal(za){return m.hasOwnProperty(this.signals,za)},addSignal(za,Ia){this.hasOwnSignal(za)&&m.error("Duplicate signal name: "+m.stringValue(za));Ia=Ia instanceof R?Ia:this.add(new R("operator",Ia,void 0,void 0));return this.signals[za]=Ia},getSignal(za){this.signals[za]||m.error("Unrecognized signal name: "+m.stringValue(za));return this.signals[za]},signalRef(za){if(this.signals[za])return U(this.signals[za]);m.hasOwnProperty(this.lambdas,za)||(this.lambdas[za]=
this.add(new R("operator",null,void 0,void 0)));return U(this.lambdas[za])},parseLambdas(){const za=Object.keys(this.lambdas);for(let wb=0,Yb=za.length;wb<Yb;++wb){var Ia=za[wb];const Ub=n.parseExpression(Ia,this);Ia=this.lambdas[Ia];Ia.params=Ub.$params;Ia.update=Ub.$expr}},property(za){return za&&za.signal?this.signalRef(za.signal):za},objectProperty(za){return za&&m.isObject(za)?this.signalRef(za.signal||hf(za)):za},exprRef(za,Ia){za={expr:n.parseExpression(za,this)};Ia&&(za.expr.$name=Ia);return U(this.add(Jc(za)))},
addBinding(za,Ia){this.bindings||m.error("Nested signals do not support binding: "+m.stringValue(za));this.bindings.push(m.extend({signal:za},Ia))},addScaleProj(za,Ia){m.hasOwnProperty(this.scales,za)&&m.error("Duplicate scale or projection name: "+m.stringValue(za));this.scales[za]=this.add(Ia)},addScale(za,Ia){this.addScaleProj(za,Hb(Ia))},addProjection(za,Ia){this.addScaleProj(za,Bc(Ia))},getScale(za){this.scales[za]||m.error("Unrecognized scale name: "+m.stringValue(za));return this.scales[za]},
scaleRef(za){return U(this.getScale(za))},scaleType(za){return this.getScale(za).params.type},projectionRef(za){return this.scaleRef(za)},projectionType(za){return this.scaleType(za)},addData(za,Ia){m.hasOwnProperty(this.data,za)&&m.error("Duplicate data set name: "+m.stringValue(za));return this.data[za]=Ia},getData(za){this.data[za]||m.error("Undefined data set name: "+m.stringValue(za));return this.data[za]},addDataPipeline(za,Ia){m.hasOwnProperty(this.data,za)&&m.error("Duplicate data set name: "+
m.stringValue(za));return this.addData(za,Qb.fromEntries(this,Ia))}};g.AxisDomainRole="axis-domain";g.AxisGridRole="axis-grid";g.AxisLabelRole="axis-label";g.AxisRole="axis";g.AxisTickRole="axis-tick";g.AxisTitleRole="axis-title";g.DataScope=Qb;g.FrameRole="frame";g.LegendEntryRole="legend-entry";g.LegendLabelRole="legend-label";g.LegendRole="legend";g.LegendSymbolRole="legend-symbol";g.LegendTitleRole="legend-title";g.MarkRole="mark";g.Scope=ff;g.ScopeRole="scope";g.config=yf;g.parse=function(za,
Ia,wb){m.isObject(za)||m.error("Input Vega specification must be an object.");Ia=m.mergeConfig(yf(),Ia,za.config);return ae(za,new ff(Ia,wb)).toRuntime()};g.signal=K;g.signalUpdates=Wa;g.stream=N;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[63]=function(Ha,B,rb,E){function g(U){if(U&&U.__esModule)return U;var ka=Object.create(null);U&&Object.keys(U).forEach(function(ba){if("default"!==ba){var da=Object.getOwnPropertyDescriptor(U,ba);Object.defineProperty(ka,ba,da.get?da:{enumerable:!0,get:function(){return U[ba]}})}});ka["default"]=U;return Object.freeze(ka)}Object.defineProperty(E,"__esModule",{value:!0});var m=B(14),n=B(26),F=B(28),O=B(37),x=B(38),y=B(42),q=B(47),l=B(49),h=B(50),c=B(51),e=B(53);rb=B(54);Ha=B(55);var a=
B(27),f=B(18),p=B(25),A=B(36),C=B(35),D=B(41),P=B(60),L=B(20),G=B(58),z=B(62),J=B(59),K=B(56),R=B(61);B=g(F);O=g(O);x=g(x);y=g(y);q=g(q);l=g(l);h=g(h);c=g(c);e=g(e);rb=g(rb);Ha=g(Ha);m.extend(n.transforms,B,O,x,y,q,h,l,c,e,rb,Ha);Object.defineProperty(E,"Dataflow",{enumerable:!0,get:function(){return n.Dataflow}});Object.defineProperty(E,"EventStream",{enumerable:!0,get:function(){return n.EventStream}});Object.defineProperty(E,"MultiPulse",{enumerable:!0,get:function(){return n.MultiPulse}});Object.defineProperty(E,
"Operator",{enumerable:!0,get:function(){return n.Operator}});Object.defineProperty(E,"Parameters",{enumerable:!0,get:function(){return n.Parameters}});Object.defineProperty(E,"Pulse",{enumerable:!0,get:function(){return n.Pulse}});Object.defineProperty(E,"Transform",{enumerable:!0,get:function(){return n.Transform}});Object.defineProperty(E,"changeset",{enumerable:!0,get:function(){return n.changeset}});Object.defineProperty(E,"definition",{enumerable:!0,get:function(){return n.definition}});Object.defineProperty(E,
"ingest",{enumerable:!0,get:function(){return n.ingest}});Object.defineProperty(E,"isTuple",{enumerable:!0,get:function(){return n.isTuple}});Object.defineProperty(E,"transform",{enumerable:!0,get:function(){return n.transform}});Object.defineProperty(E,"transforms",{enumerable:!0,get:function(){return n.transforms}});Object.defineProperty(E,"tupleid",{enumerable:!0,get:function(){return n.tupleid}});Object.defineProperty(E,"interpolate",{enumerable:!0,get:function(){return C.interpolate}});Object.defineProperty(E,
"interpolateColors",{enumerable:!0,get:function(){return C.interpolateColors}});Object.defineProperty(E,"interpolateRange",{enumerable:!0,get:function(){return C.interpolateRange}});Object.defineProperty(E,"quantizeInterpolator",{enumerable:!0,get:function(){return C.quantizeInterpolator}});Object.defineProperty(E,"scale",{enumerable:!0,get:function(){return C.scale}});Object.defineProperty(E,"scheme",{enumerable:!0,get:function(){return C.scheme}});Object.defineProperty(E,"projection",{enumerable:!0,
get:function(){return D.projection}});Object.defineProperty(E,"View",{enumerable:!0,get:function(){return P.View}});Object.defineProperty(E,"defaultLocale",{enumerable:!0,get:function(){return L.defaultLocale}});Object.defineProperty(E,"formatLocale",{enumerable:!0,get:function(){return L.numberFormatDefaultLocale}});Object.defineProperty(E,"locale",{enumerable:!0,get:function(){return L.locale}});Object.defineProperty(E,"resetDefaultLocale",{enumerable:!0,get:function(){return L.resetDefaultLocale}});
Object.defineProperty(E,"timeFormatLocale",{enumerable:!0,get:function(){return L.timeFormatDefaultLocale}});Object.defineProperty(E,"expressionFunction",{enumerable:!0,get:function(){return G.expressionFunction}});Object.defineProperty(E,"parse",{enumerable:!0,get:function(){return z.parse}});Object.defineProperty(E,"runtimeContext",{enumerable:!0,get:function(){return J.context}});Object.defineProperty(E,"codegenExpression",{enumerable:!0,get:function(){return K.codegen}});Object.defineProperty(E,
"parseExpression",{enumerable:!0,get:function(){return K.parse}});Object.defineProperty(E,"parseSelector",{enumerable:!0,get:function(){return R.selector}});E.version="5.20.0";Object.keys(m).forEach(function(U){"default"===U||E.hasOwnProperty(U)||Object.defineProperty(E,U,{enumerable:!0,get:function(){return m[U]}})});Object.keys(a).forEach(function(U){"default"===U||E.hasOwnProperty(U)||Object.defineProperty(E,U,{enumerable:!0,get:function(){return a[U]}})});Object.keys(f).forEach(function(U){"default"===
U||E.hasOwnProperty(U)||Object.defineProperty(E,U,{enumerable:!0,get:function(){return f[U]}})});Object.keys(p).forEach(function(U){"default"===U||E.hasOwnProperty(U)||Object.defineProperty(E,U,{enumerable:!0,get:function(){return p[U]}})});Object.keys(A).forEach(function(U){"default"===U||E.hasOwnProperty(U)||Object.defineProperty(E,U,{enumerable:!0,get:function(){return A[U]}})})};
shadow$provide[64]=function(Ha,B,rb,E){var g=B(24).Buffer;(function(m,n){"object"===typeof E&&"undefined"!==typeof rb?n(E,B(14),B(63)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega"],n):(m="undefined"!==typeof globalThis?globalThis:m||self,n(m.vegaLite={},m.vega,m.vega))})(this,function(m,n,F){function O(k,I){if(k.not)O(k.not,I);else if(k.and)for(const d of k.and)O(d,I);else if(k.or)for(const d of k.or)O(d,I);else I(k)}function x(k,I){return k.not?{not:x(k.not,I)}:k.and?
{and:k.and.map(d=>x(d,I))}:k.or?{or:k.or.map(d=>x(d,I))}:I(k)}function y(k,I){const d={};for(const u of I)n.hasOwnProperty(k,u)&&(d[u]=k[u]);return d}function q(k,I){k=Object.assign({},k);for(const d of I)delete k[d];return k}function l(k){if(n.isNumber(k))return k;k=n.isString(k)?k:Gj(k);if(250>k.length)return k;let I=0;for(let d=0;d<k.length;d++){const u=k.charCodeAt(d);I=(I<<5)-I+u;I&=I}return I}function h(k){return!1===k||null===k}function c(k,I){return k.includes(I)}function e(k,I){let d=0;for(const u of k.entries()){const [M,
la]=u;if(I(la,M,d++))return!0}return!1}function a(k,I){let d=0;for(const u of k.entries()){const [M,la]=u;if(!I(la,M,d++))return!1}return!0}function f(k,...I){for(const u of I){I=k;var d=null!==u&&void 0!==u?u:{};for(const M of Md(d))n.writeConfig(I,M,d[M],!0)}return k}function p(k,I){const d=[],u={};for(const M of k)k=I(M),k in u||(u[k]=1,d.push(M));return d}function A(k,I){if(k.size!==I.size)return!1;for(const d of k)if(!I.has(d))return!1;return!0}function C(k,I){for(const d of k)if(I.has(d))return!0;
return!1}function D(k){const I=new Set;for(const d of k){const u=n.splitAccessPath(d).map((M,la)=>0===la?M:"[".concat(M,"]"));k=u.map((M,la)=>u.slice(0,la+1).join(""));for(const M of k)I.add(M)}return I}function P(k,I){return void 0===k||void 0===I?!0:C(D(k),D(I))}function L(k){return 0===Md(k).length}function G(k){return!0===k||!1===k}function z(k){const I=k.replace(/\W/g,"_");return(k.match(/^\d+/)?"_":"")+I}function J(k,I){return k.not?"!(".concat(J(k.not,I),")"):k.and?"(".concat(k.and.map(d=>
J(d,I)).join(") \x26\x26 ("),")"):k.or?"(".concat(k.or.map(d=>J(d,I)).join(") || ("),")"):I(k)}function K(k,I){if(0===I.length)return!0;const d=I.shift();d in k&&K(k[d],I)&&delete k[d];return L(k)}function R(k){return k.charAt(0).toUpperCase()+k.substr(1)}function U(k,I){I=void 0===I?"datum":I;k=n.splitAccessPath(k);const d=[];for(let u=1;u<=k.length;u++){const M="[".concat(k.slice(0,u).map(n.stringValue).join("]["),"]");d.push("".concat(I).concat(M))}return d.join(" \x26\x26 ")}function ka(k,I){return"".concat(void 0===
I?"datum":I,"[").concat(n.stringValue(n.splitAccessPath(k).join(".")),"]")}function ba(k){return k.replace(/(\[|\]|\.|'|")/g,"\\$1")}function da(k){return"".concat(n.splitAccessPath(k).map(ba).join("\\."))}function ja(k,I,d){return k.replace(new RegExp(I.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$\x26"),"g"),d)}function Z(k){return"".concat(n.splitAccessPath(k).join("."))}function Q(k){return k?n.splitAccessPath(k).length:0}function r(...k){for(const I of k)if(void 0!==I)return I}function N(k){const I=++Hj;
return k?String(k)+I:I}function ea(k){return aa(k)?k:"__".concat(k)}function aa(k){return k.startsWith("__")}function va(k){if(void 0!==k)return(k%360+360)%360}function ta(k){return n.isNumber(k)?!0:!isNaN(k)&&!isNaN(parseFloat(k))}function Da(k){switch(k){case "latitude":return"y";case "latitude2":return"y2";case "longitude":return"x";case "longitude2":return"x2"}}function $a(k){return"color"===k||"fill"===k||"stroke"===k}function kb(k){return sa(k)!==k}function sa(k){switch(k){case "x2":return"x";
case "y2":return"y";case "latitude2":return"latitude";case "longitude2":return"longitude";case "theta2":return"theta";case "radius2":return"radius"}return k}function Ta(k){if(k in xg)switch(k){case "theta":return"startAngle";case "theta2":return"endAngle";case "radius":return"outerRadius";case "radius2":return"innerRadius"}return k}function Wa(k){switch(k){case "x":return"x2";case "y":return"y2";case "latitude":return"latitude2";case "longitude":return"longitude2";case "theta":return"theta2";case "radius":return"radius2"}}
function Ea(k){switch(k){case "x":case "x2":return"width";case "y":case "y2":return"height"}}function ua(k){switch(k){case "x":return"xOffset";case "y":return"yOffset";case "x2":return"x2Offset";case "y2":return"y2Offset";case "theta":return"thetaOffset";case "radius":return"radiusOffset";case "theta2":return"theta2Offset";case "radius2":return"radius2Offset"}}function V(k){return"width"===k?"x":"y"}function W(k){switch(k){case "color":case "fill":case "stroke":case "description":case "detail":case "key":case "tooltip":case "href":case "order":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "facet":case "row":case "column":return vl;
case "x":case "y":case "latitude":case "longitude":return Ok;case "x2":case "y2":case "latitude2":case "longitude2":return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case "size":return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case "strokeDash":return{line:"always",point:"always",tick:"always",
rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case "shape":return{point:"always",geoshape:"always"};case "text":return{text:"always"};case "angle":return{point:"always",square:"always",text:"always"};case "url":return{image:"always"};case "theta":return{text:"always",arc:"always"};case "radius":return{text:"always",arc:"always"};case "theta2":case "radius2":return{arc:"always"}}}function ca(k){switch(k){case "facet":case "row":case "column":case "shape":case "strokeDash":case "text":case "tooltip":case "href":case "url":case "description":return"discrete";
case "color":case "fill":case "stroke":return"flexible"}}function fa(k){return!!k&&!!k.argmin}function qa(k){return!!k&&!!k.argmax}function pa(k){return n.isString(k)&&!!gl[k]}function Ga(k){return n.isString(k)&&lh.includes(k)}function na(k){n.isBoolean(k)&&(k=Pd(k,void 0));return"bin"+Md(k).map(I=>Za(k[I])?z("_".concat(I,"_").concat(Qh(k[I]))):z("_".concat(I,"_").concat(k[I]))).join("")}function Oa(k){return!0===k||n.isObject(k)&&!k.binned}function cb(k){return"binned"===k||n.isObject(k)&&!0===
k.binned}function Za(k){return null===k||void 0===k?void 0:k.param}function Aa(k){switch(k){case "row":case "column":case "size":case "color":case "fill":case "stroke":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "shape":return 6;case "strokeDash":return 4;default:return 10}}function Fa(k){return k&&!!k.expr}function Ra(k){const I=Md(k||{}),d={};for(const u of I)d[u]=vc(k[u]);return d}function ab(k){var I=Object.assign({},k),d=k.anchor;const u=k.frame,M=k.offset,
la=k.orient;var ra=k.color,Ca=k.subtitleColor,db=k.subtitleFont;const qb=k.subtitleFontSize,Eb=k.subtitleFontStyle,Kb=k.subtitleFontWeight,pc=k.subtitleLineHeight;k=k.subtitlePadding;I=(delete I.anchor,delete I.frame,delete I.offset,delete I.orient,delete I.color,delete I.subtitleColor,delete I.subtitleFont,delete I.subtitleFontSize,delete I.subtitleFontStyle,delete I.subtitleFontWeight,delete I.subtitleLineHeight,delete I.subtitlePadding,I);ra=Object.assign({},I,ra?{fill:ra}:{});d=Object.assign({},
d?{anchor:d}:{},u?{frame:u}:{},M?{offset:M}:{},la?{orient:la}:{});Ca=Object.assign({},Ca?{subtitleColor:Ca}:{},db?{subtitleFont:db}:{},qb?{subtitleFontSize:qb}:{},Eb?{subtitleFontStyle:Eb}:{},Kb?{subtitleFontWeight:Kb}:{},pc?{subtitleLineHeight:pc}:{},k?{subtitlePadding:k}:{});db=y(ra,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:ra,subtitleMarkConfig:db,nonMark:d,subtitle:Ca}}function lb(k){return n.isString(k)||n.isArray(k)&&n.isString(k[0])}function Ma(k){return k&&!!k.signal}
function nb(k){return!!k.step}function zb(k){return n.isArray(k)?!1:"field"in k&&"data"in k}function Sb(k){const I=n.isArray(k.condition)?k.condition.map(lc):lc(k.condition);return Object.assign({},vc(k),{condition:I})}function vc(k){if(Fa(k)){var I=Object.assign({},k);k=k.expr;I=(delete I.expr,I);return Object.assign({},{signal:k},I)}return k}function lc(k){if(Fa(k)){var I=Object.assign({},k);k=k.expr;I=(delete I.expr,I);return Object.assign({},{signal:k},I)}return k}function kc(k){if(Fa(k)){var I=
Object.assign({},k);k=k.expr;I=(delete I.expr,I);return Object.assign({},{signal:k},I)}return Ma(k)?k:void 0!==k?{value:k}:void 0}function jb(k){return Ma(k)?k.signal:n.stringValue(k.value)}function $b(k){return Ma(k)?k.signal:null==k?null:n.stringValue(k)}function yc(k,I,d){for(const u of d)d=qc(u,I.markDef,I.config),void 0!==d&&(k[u]=kc(d));return k}function nc(k){var I;return[].concat(k.type,null!==(I=k.style)&&void 0!==I?I:[])}function zc(k,I,d,u){u=void 0===u?{}:u;const {vgChannel:M,ignoreVgConfig:la}=
u;if(M&&void 0!==I[M])return I[M];if(void 0!==I[k])return I[k];if(!la||M&&M!==k)return qc(k,I,d,u)}function qc(k,I,d,u){({vgChannel:u}=void 0===u?{}:u);return r(u?Vc(k,I,d.style):void 0,Vc(k,I,d.style),u?d[I.type][u]:void 0,d[I.type][k],u?d.mark[u]:d.mark[k])}function Vc(k,I,d){return Uc(k,nc(I),d)}function Uc(k,I,d){I=n.array(I);let u;for(const M of I)(I=d[M])&&void 0!==I[k]&&(u=I[k]);return u}function Lc(k,I){return n.array(k).reduce((d,u)=>{var M;d.field.push(Ia(u,I));d.order.push(null!==(M=u.sort)&&
void 0!==M?M:"ascending");return d},{field:[],order:[]})}function Fd(k,I){const d=[...k];I.forEach(u=>{for(const M of d)if(Bh(M,u))return;d.push(u)});return d}function fe(k,I){return Bh(k,I)||!I?k:k?[...n.array(k),...n.array(I)].join(", "):I}function vd(k,I){const d=k.value;I=I.value;if(null==d||null===I)return{explicit:k.explicit,value:null};if((lb(d)||Ma(d))&&(lb(I)||Ma(I)))return{explicit:k.explicit,value:fe(d,I)};if(lb(d)||Ma(d))return{explicit:k.explicit,value:d};if(lb(I)||Ma(I))return{explicit:k.explicit,
value:I};if(!(lb(d)||Ma(d)||lb(I)||Ma(I)))return{explicit:k.explicit,value:Fd(d,I)};throw Error("It should never reach here");}function Sc(k,I,d){I in k?Object.defineProperty(k,I,{value:d,enumerable:!0,configurable:!0,writable:!0}):k[I]=d;return k}function Yd(k,I,d){I=I.get(k);if(!I)throw new TypeError("attempted to set private field on non-instance");if(I.set)I.set.call(k,d);else{if(!I.writable)throw new TypeError("attempted to set read only private field");I.value=d}return d}function Qb(k){return"Invalid specification ".concat(ng(k),
'. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".')}function gc(k){return"".concat("width"==k?"Width":"Height",' "container" only works for single views and layered views.')}function Ib(k){const I="width"==k?"x":"y";return"".concat("width"==k?"Width":"Height",' "container" only works well with autosize "fit" or "fit-').concat(I,'".')}function Cc(k){return k?'Dropping "fit-'.concat(k,'" because spec has discrete ').concat(Ea(k),
"."):'Dropping "fit" because spec has discrete size.'}function Wc(k){return"Unknown field for ".concat(k,". Cannot calculate view size.")}function Gd(k){return'Cannot project a selection on encoding channel "'.concat(k,'", which has no field.')}function Wd(k,I){return'Cannot project a selection on encoding channel "'.concat(k,'" as it uses an aggregate function ("').concat(I,'").')}function Ja(k){return"Selection not supported for ".concat(k," yet.")}function eb(k){return'The "columns" property cannot be used when "'.concat(k,
'" has nested row/column.')}function xb(k,I,d){return'An ancestor parsed field "'.concat(k,'" as ').concat(d," but a child wants to parse the field as ").concat(I,".")}function Jb(k){return"Config.customFormatTypes is not true, thus custom format type and format for channel ".concat(k," are dropped.")}function ac(k,I){const {fill:d,stroke:u}=I;return"Dropping color ".concat(k," as the plot also has ").concat(d&&u?"fill and stroke":d?"fill":"stroke",".")}function jc(k,I){return"Dropping ".concat(ng(k),
' from channel "').concat(I,'" since it does not contain any data field, datum, value, or signal.')}function Ec(k,I,d){return"".concat(k,' dropped as it is incompatible with "').concat(I,'"').concat(d?" when ".concat(d):"",".")}function sc(k){return"".concat(k,"-encoding is dropped as ").concat(k," is not a valid encoding channel.")}function ob(k,I){return'Using discrete channel "'.concat(k,'" to encode "').concat(I,'" field can be misleading as it does not encode ').concat("ordinal"===I?"order":
"magnitude",".")}function Db(k,I,d){return"".concat(d,"-scale's \"").concat(I,'" is dropped as it does not work with ').concat(k," scale.")}function Vb(k){return'The step for "'.concat(k,'" is dropped because the ').concat("width"===k?"x":"y"," is continuous.")}function mc(k){return'Cannot stack "'.concat(k,'" if there is already "').concat(k,'2".')}function Dc(k,I){return"Invalid ".concat(k,": ").concat(ng(I),".")}function Fc(k){return"1D error band does not support ".concat(k,".")}function Xc(k){return"Channel ".concat(k,
' is required for "binned" bin.')}function Fb(...k){Oi.warn(...k)}function Ic(k){if(k&&n.isObject(k))for(const I of kk)if(I in k)return!0;return!1}function fd(k){ta(k)&&(k=+k);if(n.isNumber(k))return k-1;{var I=k.toLowerCase();const d=Fj.indexOf(I);if(-1!==d)return d;I=I.substr(0,3);I=Jj.indexOf(I);if(-1!==I)return I;throw Error(Dc("month",k));}}function wc(k){ta(k)&&(k=+k);if(n.isNumber(k))return k%7;{var I=k.toLowerCase();const d=Pk.indexOf(I);if(-1!==d)return d;I=I.substr(0,3);I=dl.indexOf(I);
if(-1!==I)return I;throw Error(Dc("day",k));}}function $c(k,I){const d=[];I&&void 0!==k.day&&1<Md(k).length&&(Fb("Dropping day from datetime ".concat(ng(k)," as day cannot be combined with other units.")),k=pf(k),delete k.day);void 0!==k.year?d.push(k.year):d.push(2012);if(void 0!==k.month){var u=I?fd(k.month):k.month;d.push(u)}else if(void 0!==k.quarter){if(I)if(u=k.quarter,ta(u)&&(u=+u),n.isNumber(u))4<u&&Fb(Dc("quarter",u)),--u;else throw Error(Dc("quarter",u));else u=k.quarter;d.push(n.isNumber(u)?
3*u:"".concat(u,"*3"))}else d.push(0);void 0!==k.date?d.push(k.date):void 0!==k.day?(I=I?wc(k.day):k.day,d.push(n.isNumber(I)?I+1:"".concat(I,"+1"))):d.push(1);for(const M of["hours","minutes","seconds","milliseconds"])I=k[M],d.push("undefined"===typeof I?0:I);return d}function ad(k){const I=$c(k,!0).join(", ");return k.utc?"utc(".concat(I,")"):"datetime(".concat(I,")")}function nd(k){const I=$c(k,!0);return k.utc?+new Date(Date.UTC(...I)):+new Date(...I)}function Cd(k){return kk.filter(I=>Ed(k,I))}
function Ed(k,I){const d=k.indexOf(I);return 0>d||0<d&&"seconds"===I&&"i"===k.charAt(d-1)||k.length>d+3&&"day"===I&&"o"===k.charAt(d+3)||0<d&&"year"===I&&"f"===k.charAt(d-1)?!1:!0}function Xd(k,I,d){({end:d}=void 0===d?{end:!1}:d);const u=U(I),M=k.startsWith("utc")?"utc":"";I={};for(const ra of kk)if(Ed(k,ra)){var la=ra;la="quarter"===la?"(".concat(M,"quarter(").concat(u,")-1)"):"".concat(M).concat(la,"(").concat(u,")");I[ra]=la;la=ra}d&&(I[la]+="+1");k=$c(I,!1).join(", ");return k=I.utc?"utc(".concat(k,
")"):"datetime(".concat(k,")")}function $d(k){if(k)return k=Cd(k),"timeUnitSpecifier(".concat(ng(k),", ").concat(ng(ze),")")}function ae(k){if(k){var I;n.isString(k)?I={unit:k}:n.isObject(k)&&(I=Object.assign({},k,k.unit?{unit:k.unit}:{}));I.unit.startsWith("utc")&&(I.utc=!0,I.unit=I.unit.substr(3));return I}}function Ce(k){var I=ae(k);k=Object.assign({},I);I=I.utc;const d=(delete k.utc,k);return d.unit?(I?"utc":"")+Md(d).map(u=>z("".concat("unit"===u?"":"_".concat(u,"_")).concat(d[u]))).join(""):
(I?"utc":"")+"timeunit"+Md(d).map(u=>z("_".concat(u,"_").concat(d[u]))).join("")}function me(k){return k&&!!k.field&&void 0!==k.equal}function ff(k){return k&&!!k.field&&void 0!==k.lt}function Ze(k){return k&&!!k.field&&void 0!==k.lte}function hf(k){return k&&!!k.field&&void 0!==k.gt}function Vd(k){return k&&!!k.field&&void 0!==k.gte}function ge(k){return k&&k.field&&(n.isArray(k.range)&&2===k.range.length||Ma(k.range))?!0:!1}function yf(k){return k&&!!k.field&&(n.isArray(k.oneOf)||n.isArray(k.in))}
function Ue(k){return yf(k)||me(k)||ge(k)||ff(k)||hf(k)||Ze(k)||Vd(k)}function of(k,I){return He(k,{timeUnit:I,wrapTime:!0})}function le(k,I){return k.map(d=>of(d,I))}function ye(k,I){I=void 0===I?!0:I;var d,{field:u}=k;const M=null===(d=ae(k.timeUnit))||void 0===d?void 0:d.unit;d=M?"time(".concat(Xd(M,u),")"):Ia(k,{expr:"datum"});if(me(k))return"".concat(d,"\x3d\x3d\x3d").concat(of(k.equal,M));if(ff(k))return I=k.lt,"".concat(d,"\x3c").concat(of(I,M));if(hf(k))return I=k.gt,"".concat(d,"\x3e").concat(of(I,
M));if(Ze(k))return I=k.lte,"".concat(d,"\x3c\x3d").concat(of(I,M));if(Vd(k))return I=k.gte,"".concat(d,"\x3e\x3d").concat(of(I,M));if(yf(k))return"indexof([".concat(le(k.oneOf,M).join(","),"], ").concat(d,") !\x3d\x3d -1");if(k&&k.field&&void 0!==k.valid)return Mf(d,k.valid);if(ge(k)){({range:u}=k);k=Ma(u)?{signal:"".concat(u.signal,"[0]")}:u[0];u=Ma(u)?{signal:"".concat(u.signal,"[1]")}:u[1];if(null!==k&&null!==u&&I)return"inrange("+d+", ["+of(k,M)+", "+of(u,M)+"])";I=[];null!==k&&I.push("".concat(d,
" \x3e\x3d ").concat(of(k,M)));null!==u&&I.push("".concat(d," \x3c\x3d ").concat(of(u,M)));return 0<I.length?I.join(" \x26\x26 "):"true"}throw Error("Invalid field predicate: ".concat(ng(k)));}function Mf(k,I){return void 0===I||I?"isValid(".concat(k,") \x26\x26 isFinite(+").concat(k,")"):"!isValid(".concat(k,") || !isFinite(+").concat(k,")")}function Ge(k){if(Ue(k)&&k.timeUnit){var I;return Object.assign({},k,{timeUnit:null===(I=ae(k.timeUnit))||void 0===I?void 0:I.unit})}return k}function Td(k){if(k)switch(k=
k.toLowerCase(),k){case "q":case "quantitative":return"quantitative";case "t":case "temporal":return"temporal";case "o":case "ordinal":return"ordinal";case "n":case "nominal":return"nominal";case "geojson":return"geojson"}}function Zd(k){return null===k||void 0===k?void 0:k.param}function we(k,I){switch(I){case "type":case "domain":case "reverse":case "range":return!0;case "scheme":case "interpolate":return!["point","band","identity"].includes(k);case "bins":return!["point","band","identity","ordinal"].includes(k);
case "round":return k in oh||"band"===k||"point"===k;case "padding":case "rangeMin":case "rangeMax":return k in oh||["point","band"].includes(k);case "paddingOuter":case "align":return["point","band"].includes(k);case "paddingInner":return"band"===k;case "domainMax":case "domainMid":case "domainMin":case "clamp":return k in oh;case "nice":return k in oh||"quantize"===k||"threshold"===k;case "exponent":return"pow"===k;case "base":return"log"===k;case "constant":return"symlog"===k;case "zero":return k in
Jg&&!c(["log","time","utc","threshold","quantile"],k)}}function nf(k,I){switch(I){case "interpolate":case "scheme":case "domainMid":if(!$a(k))return'Cannot use the scale property "'.concat(k,'" with non-color channel.')}}function Pe(k,I){if(!Li[k])return!1;switch(k){case "x":case "y":case "theta":case "radius":return I in oh||c(["band","point"],I);case "size":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "angle":return I in oh||I in sj||c(["band","point","ordinal"],
I);case "color":case "fill":case "stroke":return"band"!==I;case "strokeDash":case "shape":return"ordinal"===I||I in sj}}function Qd(k){return["line","area","trail"].includes(k)}function Qe(k){return k.type}function Yf(k){return k&&void 0!=k.band}function Jc(k){const {channel:I,channelDef:d,markDef:u,scale:M,config:la}=k;k=re(k);return kd(d)&&!Ga(d.aggregate)&&M&&M.get("type")in oh&&!1===M.get("zero")?xe({fieldDef:d,channel:I,markDef:u,ref:k,config:la}):k}function xe(k){var {fieldDef:I,channel:d,markDef:u,
ref:M,config:la}=k;if(Qd(u.type)||null===zc("invalid",u,la))return M;{k=je(I,!0);const ra="y"===sa(d)?{field:{group:"height"}}:{value:0};k=Object.assign({},{test:k},ra)}return[k,M]}function je(k,I){I=void 0===I?!0:I;return Mf(n.isString(k)?k:Ia(k,{expr:"datum"}),!I)}function hc(k,I,d,u){const M={};I&&(M.scale=I);bf(k)?({datum:k}=k,Ic(k)?M.signal=ad(k):Ma(k)?M.signal=k.signal:Fa(k)?M.signal=k.expr:M.value=k):M.field=Ia(k,d);if(u){const {offset:la,band:ra}=u;la&&(M.offset=la);ra&&(M.band=ra)}return M}
function De(k){var {scaleName:I,fieldOrDatumDef:d,fieldOrDatumDef2:u,offset:M,startSuffix:la,bandPosition:ra=.5}=k,Ca=0<ra&&1>ra?"datum":void 0;k=Ia(d,{expr:Ca,suffix:la});const db=void 0!==u?Ia(u,{expr:Ca}):Ia(d,{suffix:"end",expr:Ca});Ca={};0===ra||1===ra?(Ca.scale=I,Ca.field=0===ra?k:db):(k=Ma(ra)?"".concat(ra.signal," * ").concat(k," + (1-").concat(ra.signal,") * ").concat(db):"".concat(ra," * ").concat(k," + ").concat(1-ra," * ").concat(db),Ca.signal='scale("'.concat(I,'", ').concat(k,")"));
M&&(Ca.offset=M);return Ca}function re(k){var {channel:I,channelDef:d,channel2Def:u,markDef:M,config:la,scaleName:ra,scale:Ca,stack:db,offset:qb,defaultRef:Eb,bandPosition:Kb}=k;if(d){if(ce(d)){var pc,hd;if(Xe(d)){var md;null!==(md=Kb)&&void 0!==md?md:Kb=Qc({fieldDef:d,fieldDef2:u,markDef:M,config:la});const {bin:sd,timeUnit:yd,type:Ad}=d;if(Oa(sd)||Kb&&yd&&"temporal"===Ad)return db&&db.impute?hc(d,ra,{binSuffix:"mid"},{offset:qb}):Kb?De({scaleName:ra,fieldOrDatumDef:d,bandPosition:Kb,offset:qb}):
hc(d,ra,Le(d,I)?{binSuffix:"range"}:{},{offset:qb});if(cb(sd)){if(kd(u))return De({scaleName:ra,fieldOrDatumDef:d,fieldOrDatumDef2:u,bandPosition:Kb,offset:qb});Fb(Xc("x"===I?"x2":"y2"))}}k=null===Ca||void 0===Ca?void 0:Ca.get("type");return hc(d,ra,k in Pg?{binSuffix:"range"}:{},{offset:qb,band:"band"===k?null!==(pc=null!==(hd=Kb)&&void 0!==hd?hd:d.bandPosition)&&void 0!==pc?pc:.5:void 0})}if(zf(d))return pc=qb?{offset:qb}:{},Object.assign({},gf(I,d.value),pc)}n.isFunction(Eb)&&(Eb=Eb());return Eb?
Object.assign({},Eb,qb?{offset:qb}:{}):Eb}function gf(k,I){return c(["x","x2"],k)&&"width"===I?{field:{group:"width"}}:c(["y","y2"],k)&&"height"===I?{field:{group:"height"}}:kc(I)}function Hf(k){return k&&"number"!==k&&"time"!==k}function If(k,I,d){return"".concat(k,"(").concat(I).concat(d?", ".concat(ng(d)):"",")")}function Qf(k){var {fieldOrDatumDef:I,format:d,formatType:u,expr:M,normalizeStack:la,config:ra}=k;if(Hf(u))return Ae({fieldOrDatumDef:I,format:d,formatType:u,expr:M,config:ra});k=Jf(I,
M,la);if(pe(I)){var Ca,db;var qb=kd(I)?null===(Ca=ae(I.timeUnit))||void 0===Ca?void 0:Ca.unit:void 0,Eb=d,Kb=ra.timeFormat;Ca=tf(I)&&(null===(db=I.scale)||void 0===db?void 0:db.type)===Dg.UTC;!qb||Eb?(Eb=n.isString(Eb)?Eb:Kb,k="".concat(Ca?"utc":"time","Format(").concat(k,", '").concat(Eb,"')")):qb?(db=$d(qb),qb=Ca||qb.startsWith("utc"),k="".concat(qb?"utc":"time","Format(").concat(k,", ").concat(db,")")):k=void 0;return k?{signal:k}:void 0}d=Ba(lf(I),d,ra);return kd(I)&&Oa(I.bin)?(db=Ia(I,{expr:M,
binSuffix:"end"}),{signal:vb(k,db,d,u,ra)}):d||"quantitative"===lf(I)?{signal:"".concat(Ya(k,d))}:{signal:"isValid(".concat(k,") ? ").concat(k,' : ""+').concat(k)}}function Jf(k,I,d){if(kd(k))return d?"".concat(Ia(k,{expr:I,suffix:"end"}),"-").concat(Ia(k,{expr:I,suffix:"start"})):Ia(k,{expr:I});({datum:k}=k);k=Ic(k)?ad(k):"".concat(ng(k));return k}function Ae(k){var {fieldOrDatumDef:I,format:d,formatType:u,expr:M,normalizeStack:la,config:ra,field:Ca}=k,db;null!==(db=Ca)&&void 0!==db?db:Ca=Jf(I,M,
la);return kd(I)&&Oa(I.bin)?(k=Ia(I,{expr:M,binSuffix:"end"}),{signal:vb(Ca,k,d,u,ra)}):{signal:If(u,Ca,d)}}function Bc(k,I,d,u,M,la){if(!Hf(u)){if(pe(k)){var ra;k=kd(k)?null===(ra=ae(k.timeUnit))||void 0===ra?void 0:ra.unit:void 0;d=d?d:k?{signal:$d(k)}:la?void 0:M.timeFormat;return d}return Ba(I,d,M)}}function xa(k,I,d){if(k&&(Ma(k)||"number"===k||"time"===k))return k;if(pe(I)&&"time"!==d&&"utc"!==d)return"time"}function Ba(k,I,d){if(n.isString(I))return I;if("quantitative"===k)return d.numberFormat}
function Ya(k,I){return"format(".concat(k,', "').concat(I||"",'")')}function Hb(k,I,d,u){var M;return Hf(d)?If(d,k,I):Ya(k,null!==(M=n.isString(I)?I:void 0)&&void 0!==M?M:u.numberFormat)}function vb(k,I,d,u,M){const la=Hb(k,d,u,M);I=Hb(I,d,u,M);return"".concat(Mf(k,!1),' ? "null" : ').concat(la,' + "').concat("  ",'" + ').concat(I)}function Xb(k){return!!k&&("count"===k.op||!!k.field)}function xc(k){return!!k&&n.isArray(k)}function Oc(k){return"row"in k||"column"in k}function ld(k){const {field:I,
timeUnit:d,bin:u,aggregate:M}=k;return Object.assign({},d?{timeUnit:d}:{},u?{bin:u}:{},M?{aggregate:M}:{},{field:I})}function Qc(k){var {fieldDef:I,fieldDef2:d,markDef:u,config:M}=k;if(ce(I)&&void 0!==I.bandPosition)return I.bandPosition;if(kd(I)){const {timeUnit:la,bin:ra}=I;if(la&&!d)return["rect","bar","image","arc"].includes(u.type)?0:qc("timeUnitBandPosition",u,M);if(Oa(ra))return.5}}function Ld(k){var {channel:I,fieldDef:d,fieldDef2:u,markDef:M,config:la,scaleType:ra,useVlSizeChannel:Ca}=k;
k=Ea(I);k=zc(Ca?"size":k,M,la,{vgChannel:k});if(void 0!==k)return k;if(kd(d)){const {timeUnit:Kb,bin:pc}=d;if(Kb&&!u)return{band:qc("timeUnitBandSize",M,la)};if(Oa(pc)&&!(ra in Pg))return{band:1}}if(["rect","bar","image","arc"].includes(M.type)){var db;if(ra){if(ra in Pg){var qb;return(null===(qb=la[M.type])||void 0===qb?void 0:qb.discreteBandSize)||{band:1}}var Eb;return null===(Eb=la[M.type])||void 0===Eb?void 0:Eb.continuousBandSize}return null===(db=la[M.type])||void 0===db?void 0:db.discreteBandSize}}
function Nd(k,I,d,u){return Oa(k.bin)||k.timeUnit&&Xe(k)&&"temporal"===k.type?void 0!==Qc({fieldDef:k,fieldDef2:I,markDef:d,config:u}):!1}function Od(k){return!!k&&"condition"in k}function od(k){k=k&&k.condition;return!!k&&!n.isArray(k)&&kd(k)}function Rd(k){k=k&&k.condition;return!!k&&!n.isArray(k)&&ce(k)}function kd(k){return!!k&&(!!k.field||"count"===k.aggregate)}function lf(k){return k&&k.type}function bf(k){return!!k&&"datum"in k}function ee(k){return Xe(k)&&!wb(k)||Ve(k)}function Ve(k){return bf(k)&&
n.isNumber(k.datum)}function ce(k){return kd(k)||bf(k)}function Xe(k){return!!k&&("field"in k||"count"===k.aggregate)&&"type"in k}function zf(k){return k&&"value"in k&&"value"in k}function tf(k){return!!k&&("scale"in k||"sort"in k)}function Oe(k){return k&&("axis"in k||"stack"in k||"impute"in k)}function Nf(k){return!!k&&("format"in k||"formatType"in k)}function za(k){return q(k,["legend","axis","header","scale"])}function Ia(k,I){I=void 0===I?{}:I;let d=k.field;const u=I.prefix;let M=I.suffix,la=
"";if("count"===k.aggregate)d=ea("count");else{let qb;if(!I.nofn)if("op"in k)qb=k.op;else{const {bin:Eb,aggregate:Kb,timeUnit:pc}=k;if(Oa(Eb)){var ra,Ca;qb=na(Eb);M=(null!==(ra=I.binSuffix)&&void 0!==ra?ra:"")+(null!==(Ca=I.suffix)&&void 0!==Ca?Ca:"")}else if(Kb)qa(Kb)?(la='["'.concat(d,'"]'),d="argmax_".concat(Kb.argmax)):fa(Kb)?(la='["'.concat(d,'"]'),d="argmin_".concat(Kb.argmin)):qb=String(Kb);else if(pc){var db;qb=Ce(pc);M=(!["range","mid"].includes(I.binSuffix)&&I.binSuffix||"")+(null!==(db=
I.suffix)&&void 0!==db?db:"")}}qb&&(d=d?"".concat(qb,"_").concat(d):qb)}M&&(d="".concat(d,"_").concat(M));u&&(d="".concat(u,"_").concat(d));return I.forAs?Z(d):I.expr?ka(d,I.expr)+la:da(d)+la}function wb(k){switch(k.type){case "nominal":case "ordinal":case "geojson":return!0;case "quantitative":return kd(k)&&!!k.bin;case "temporal":return!1}throw Error('Invalid field type "'.concat(k.type,'".'));}function Yb(k,I){const {field:d,bin:u,timeUnit:M,aggregate:la}=k;if("count"===la)return I.countTitle;
if(Oa(u))return"".concat(d," (binned)");if(M){var ra;if(k=null===(ra=ae(M))||void 0===ra?void 0:ra.unit)return"".concat(d," (").concat(Cd(k).join("-"),")")}else if(la)return qa(la)?"".concat(d," for max ").concat(la.argmax):fa(la)?"".concat(d," for min ").concat(la.argmin):"".concat(R(la)," of ").concat(d);return d}function Ub(k,I,d){var {allowDisabling:u,includeDefault:M=!0}=d,la;d=null===(la=ic(k))||void 0===la?void 0:la.title;if(!kd(k))return d;I=M?oe(k,I):void 0;if(u)return r(d,k.title,I);var ra;
return null!==(ra=null!==d&&void 0!==d?d:k.title)&&void 0!==ra?ra:I}function ic(k){if(Oe(k)&&k.axis)return k.axis;if(k&&"legend"in k&&k.legend)return k.legend;if(k&&"header"in k&&k.header)return k.header}function oc(k){if(Nf(k)){const {format:d,formatType:u}=k;return{format:d,formatType:u}}{var I;k=null!==(I=ic(k))&&void 0!==I?I:{};const {format:d,formatType:u}=k;return{format:d,formatType:u}}}function id(k,I){var d;switch(I){case "latitude":case "longitude":return"quantitative";case "row":case "column":case "facet":case "shape":case "strokeDash":return"nominal";
case "order":return"ordinal"}if("sort"in k&&n.isArray(k.sort))return"ordinal";const {aggregate:u,bin:M,timeUnit:la}=k;if(la)return"temporal";if(M||u&&!qa(u)&&!fa(u))return"quantitative";if(tf(k)&&null!==(d=k.scale)&&void 0!==d&&d.type)switch(lk[k.scale.type]){case "numeric":case "discretizing":return"quantitative";case "time":return"temporal"}return"nominal"}function Tc(k){if(kd(k))return k;if(od(k))return k.condition}function gd(k){if(ce(k))return k;if(Rd(k))return k.condition}function Hd(k,I,d,
u){u=void 0===u?{}:u;return n.isString(k)||n.isNumber(k)||n.isBoolean(k)?(d=n.isString(k)?"string":n.isNumber(k)?"number":"boolean",I="Channel ".concat(I," is a ").concat(d,". Converted to {value: ").concat(ng(k),"}."),Fb(I),{value:k}):ce(k)?he(k,I,d,u):Rd(k)?Object.assign({},k,{condition:he(k.condition,I,d,u)}):k}function he(k,I,d,u){if(Nf(k)){var M=Object.assign({},k),la=k.formatType;M=(delete M.format,delete M.formatType,M);if(Hf(la)&&!d.customFormatTypes)return Fb(Jb(I)),he(M,I,d,u)}else if((la=
Oe(k)?"axis":k&&"legend"in k?"legend":k&&"header"in k?"header":null)&&k[la]){var ra=k[la];M=Object.assign({},ra);ra=ra.formatType;M=(delete M.format,delete M.formatType,M);if(Hf(ra)&&!d.customFormatTypes)return Fb(Jb(I)),he(Object.assign({},k,{[la]:M}),I,d,u)}if(kd(k))return ie(k,I,u);I=k.type;I||({datum:I}=k,I=n.isNumber(I)?"quantitative":n.isString(I)?"nominal":Ic(I)?"temporal":void 0,k=Object.assign({},k,{type:I}));return k}function ie(k,I,d){({compositeMark:d=!1}=void 0===d?{}:d);const {aggregate:u,
timeUnit:M,bin:la,field:ra}=k;k=Object.assign({},k);d||!u||pa(u)||qa(u)||fa(u)||(Fb('Invalid aggregation operator "'.concat(u,'".')),delete k.aggregate);M&&(k.timeUnit=ae(M));ra&&(k.field="".concat(ra));Oa(la)&&(k.bin=Pd(la,I));!cb(la)||I in Zg||Fb("Channel ".concat(I,' should not be used with "binned" bin.'));if(Xe(k)){({type:d}=k);var Ca=Td(d);d!==Ca&&(k.type=Ca);"quantitative"!==d&&Ga(u)&&(d='Invalid field type "'.concat(d,'" for aggregate: "').concat(u,'", using "quantitative" instead.'),Fb(d),
k.type="quantitative")}else kb(I)||(d=id(k,I),k.type=d);if(Xe(k)){const {compatible:db,warning:qb}=Ne(k,I)||{};!1===db&&Fb(qb)}if("sort"in k&&n.isString(k.sort)){({sort:I}=k);if(I in Hc)return Object.assign({},k,{sort:{encoding:I}});d=I.substr(1);if("-"===I.charAt(0)&&d in Hc)return Object.assign({},k,{sort:{encoding:d,order:"descending"}})}return k&&"header"in k&&({header:I}=k,I&&(Ca=I,d=Object.assign({},Ca),Ca=Ca.orient,d=(delete d.orient,d),Ca))?Object.assign({},k,{header:Object.assign({},d,{labelOrient:I.labelOrient||
Ca,titleOrient:I.titleOrient||Ca})}):k}function Pd(k,I){return n.isBoolean(k)?{maxbins:Aa(I)}:"binned"===k?{binned:!0}:k.maxbins||k.step?k:Object.assign({},k,{maxbins:Aa(I)})}function Ne(k,I){var d=k.type;if("geojson"===d&&"shape"!==I)return{compatible:!1,warning:"Channel ".concat(I," should not be used with a geojson data.")};switch(I){case "row":case "column":case "facet":return wb(k)?$e:{compatible:!1,warning:"".concat(I," encoding should be discrete (ordinal / nominal / binned).")};case "x":case "y":case "color":case "fill":case "stroke":case "text":case "detail":case "key":case "tooltip":case "href":case "url":case "angle":case "theta":case "radius":case "description":return $e;
case "longitude":case "longitude2":case "latitude":case "latitude2":return"quantitative"!==d?{compatible:!1,warning:"Channel ".concat(I," should be used with a quantitative field only, not ").concat(k.type," field.")}:$e;case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "size":case "theta2":case "radius2":case "x2":case "y2":return"nominal"!==d||k.sort?$e:{compatible:!1,warning:"Channel ".concat(I," should not be used with an unsorted discrete field.")};case "shape":case "strokeDash":if(d=
!wb(k)){var u;d=!(tf(k)&&(null===(u=k.scale)||void 0===u?void 0:u.type)in sj)}return d?{compatible:!1,warning:"".concat(I," encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).")}:$e;case "order":return"nominal"!==k.type||"sort"in k?$e:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}function pe(k){var {formatType:I}=oc(k),d;if(!(d="time"===I)){if(I=!I)I=k&&("temporal"===k.type||kd(k)&&!!k.timeUnit);
d=I}return d}function He(k,I){var {timeUnit:d,type:u,wrapTime:M,undefinedIfExprNotRequired:la}=I;var ra=(I=d&&(null===(ra=ae(d))||void 0===ra?void 0:ra.unit))||"temporal"===u;let Ca;Fa(k)?Ca=k.expr:Ma(k)?Ca=k.signal:Ic(k)?(ra=!0,Ca=ad(k)):(n.isString(k)||n.isNumber(k))&&ra&&(Ca="datetime(".concat(ng(k),")"),Mk[I]&&(n.isNumber(k)&&1E4>k||n.isString(k)&&isNaN(Date.parse(k)))&&(Ca=ad({[I]:k})));return Ca?M&&ra?"time(".concat(Ca,")"):Ca:la?void 0:ng(k)}function Je(k,I){const {type:d}=k;return I.map(u=>
{const M=He(u,{timeUnit:kd(k)?k.timeUnit:void 0,type:d,undefinedIfExprNotRequired:!0});return void 0!==M?{signal:M}:u})}function Le(k,I){return Oa(k.bin)?!!Li[I]&&["ordinal","nominal"].includes(k.type):(console.warn("Only call this method for binned field defs."),!1)}function Of(k){return k&&k.condition}function Te(k){return"mark"in k}function uf(k,I){return(k=k&&k[I])?n.isArray(k)?e(k,d=>!!d.field):kd(k)||od(k):!1}function Bf(k){return e(ik,I=>uf(k,I)?(I=k[I],n.isArray(I)?e(I,d=>!!d.aggregate):(I=
Tc(I))&&!!I.aggregate):!1)}function Ag(k,I){const d=[],u=[],M=[],la=[],ra={};Na(k,(Ca,db)=>{if(kd(Ca)){var qb=Object.assign({},Ca),Eb=Ca.field;const pc=Ca.aggregate,hd=Ca.bin,md=Ca.timeUnit;qb=(delete qb.field,delete qb.aggregate,delete qb.bin,delete qb.timeUnit,qb);if(pc||md||hd){var Kb=ic(Ca);const sd=Kb&&Kb.title;Kb=Ia(Ca,{forAs:!0});qb=Object.assign({},sd?[]:{title:Ub(Ca,I,{allowDisabling:!0})},qb,{field:Kb});if(pc){let yd;qa(pc)?(yd="argmax",Kb=Ia({op:"argmax",field:pc.argmax},{forAs:!0}),qb.field=
"".concat(Kb,".").concat(Eb)):fa(pc)?(yd="argmin",Kb=Ia({op:"argmin",field:pc.argmin},{forAs:!0}),qb.field="".concat(Kb,".").concat(Eb)):"boxplot"!==pc&&"errorbar"!==pc&&"errorband"!==pc&&(yd=pc);yd&&(Ca={op:yd,as:Kb},Eb&&(Ca.field=Eb),la.push(Ca))}else d.push(Kb),Xe(Ca)&&Oa(hd)?(u.push({bin:hd,field:Eb,as:Kb}),d.push(Ia(Ca,{binSuffix:"end"})),Le(Ca,db)&&d.push(Ia(Ca,{binSuffix:"range"})),db in Zg&&(Eb={field:"".concat(Kb,"_end")},ra["".concat(db,"2")]=Eb),qb.bin="binned",kb(db)||(qb.type="quantitative")):
md&&(M.push({timeUnit:md,field:Eb,as:Kb}),(Eb=Xe(Ca)&&"temporal"!==Ca.type&&"time")&&("text"===db||"tooltip"===db?qb.formatType=Eb:bl[db]?qb.legend=Object.assign({},{formatType:Eb},qb.legend):db in Zg&&(qb.axis=Object.assign({},{formatType:Eb},qb.axis))));ra[db]=qb}else d.push(Eb),ra[db]=k[db]}else ra[db]=k[db]});return{bins:u,timeUnits:M,aggregate:la,groupby:d,encoding:ra}}function Rf(k,I,d){d=W(I)[d];return d&&("binned"!==d||(d=k["x2"===I?"x":"y"],kd(d)&&kd(k[I])&&cb(d.bin)))?!0:!1}function jg(k,
I,d,u){return Md(k).reduce((M,la)=>{if(!mh[la])return Fb(sc(la)),M;const ra=k[la];"angle"!==la||"arc"!==I||k.theta||(Fb("Arc marks uses theta channel rather than angle, replacing angle with theta."),la="theta");if(!Rf(k,la,I))return Fb(Ec(la,I)),M;if("size"===la&&"line"===I){const Ca=Tc(k[la]);if(null!==Ca&&void 0!==Ca&&Ca.aggregate)return Fb("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead."),M}if("color"===la&&(d?"fill"in k:"stroke"in k))return Fb(ac("encoding",
{fill:"fill"in k,stroke:"stroke"in k})),M;if("detail"===la||"order"===la&&!n.isArray(ra)&&!zf(ra)||"tooltip"===la&&n.isArray(ra))ra&&(M[la]=n.array(ra).reduce((Ca,db)=>{kd(db)?Ca.push(ie(db,la)):Fb(jc(db,la));return Ca},[]));else{if("tooltip"===la&&null===ra)M[la]=null;else if(!(kd(ra)||bf(ra)||zf(ra)||Od(ra)||Ma(ra)))return Fb(jc(ra,la)),M;M[la]=Hd(ra,la,u)}return M},{})}function wa(k,I){const d={};for(const u of Md(k)){const M=Hd(k[u],u,I,{compositeMark:!0});d[u]=M}return d}function ya(k){const I=
[];for(const d of Md(k))if(uf(k,d)){const u=n.array(k[d]);for(const M of u)kd(M)?I.push(M):od(M)&&I.push(M.condition)}return I}function Na(k,I,d){if(k)for(const u of Md(k)){const M=k[u];if(n.isArray(M))for(const la of M)I.call(d,la,u);else I.call(d,M,u)}}function Sa(k,I,d,u){return k?Md(k).reduce((M,la)=>{const ra=k[la];return n.isArray(ra)?ra.reduce((Ca,db)=>I.call(u,Ca,db,la),M):I.call(u,M,ra,la)},d):d}function fb(k,I){return Md(I).reduce((d,u)=>{switch(u){case "x":case "y":case "href":case "description":case "url":case "x2":case "y2":case "theta":case "theta2":case "radius":case "radius2":case "latitude":case "longitude":case "latitude2":case "longitude2":case "text":case "shape":case "angle":case "tooltip":return d;
case "order":if("line"===k||"trail"===k)return d;case "detail":case "key":u=I[u];if(n.isArray(u)||kd(u))for(var M of n.array(u))M.aggregate||d.push(Ia(M,{}));return d;case "size":if("trail"===k)return d;case "color":case "fill":case "stroke":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeDash":case "strokeWidth":return(M=Tc(I[u]))&&!M.aggregate&&d.push(Ia(M,{})),d}},[])}function hb(k,I,d,u){u=void 0===u?!0:u;if("tooltip"in d)return{tooltip:d.tooltip};k=k.map(M=>{var {fieldPrefix:la,
titlePrefix:ra}=M;M=u?" of ".concat(sb(I)):"";return{field:la+I.field,type:I.type,title:Ma(ra)?{signal:"".concat(ra,'"').concat(escape(M),'"')}:ra+M}});d=ya(d).map(za);return{tooltip:[...k,...p(d,l)]}}function sb(k){const {title:I,field:d}=k;return r(I,d)}function Gb(k,I,d,u,M){const {scale:la,axis:ra}=d;return Ca=>{var {partName:db,mark:qb,positionPrefix:Eb,endPositionPrefix:Kb,extraEncoding:pc={}}=Ca;Ca=sb(d);return Bb(k,db,M,{mark:qb,encoding:Object.assign({},{[I]:Object.assign({},{field:"".concat(Eb,
"_").concat(d.field),type:d.type},void 0!==Ca?{title:Ca}:{},void 0!==la?{scale:la}:{},void 0!==ra?{axis:ra}:{})},n.isString(Kb)?{["".concat(I,"2")]:{field:"".concat(Kb,"_").concat(d.field)}}:{},u,pc)})}}function Bb(k,I,d,u){const {clip:M,color:la,opacity:ra}=k,Ca=k.type;return k[I]||void 0===k[I]&&d[I]?[Object.assign({},u,{mark:Object.assign({},d[I],M?{clip:M}:{},la?{color:la}:{},ra?{opacity:ra}:{},Qe(u.mark)?u.mark:{type:u.mark},{style:"".concat(Ca,"-").concat(I)},n.isBoolean(k[I])?{}:k[I])})]:[]}
function Nb(k,I,d){({encoding:k}=k);I="vertical"===I?"y":"x";const u=k[I],M=k["".concat(I,"2")],la=k["".concat(I,"Error")];k=k["".concat(I,"Error2")];return{continuousAxisChannelDef:Mb(u,d),continuousAxisChannelDef2:Mb(M,d),continuousAxisChannelDefError:Mb(la,d),continuousAxisChannelDefError2:Mb(k,d),continuousAxis:I}}function Mb(k,I){if(k&&k.aggregate){var d=Object.assign({},k);k=k.aggregate;d=(delete d.aggregate,d);k!==I&&(I="Continuous axis should not have customized aggregation function ".concat(k,
"; ").concat(I," already agregates the axis."),Fb(I));return d}return k}function dc(k,I){const {mark:d,encoding:u}=k,{x:M,y:la}=u;if(Qe(d)&&d.orient)return d.orient;if(ee(M)){if(ee(la)){k=kd(M)&&M.aggregate;const ra=kd(la)&&la.aggregate;if(!k&&ra===I)return"vertical";if(ra||k!==I){if(k===I&&ra===I)throw Error("Both x and y cannot have aggregate");return pe(la)&&!pe(M)?"horizontal":"vertical"}}return"horizontal"}if(ee(la))return"vertical";throw Error("Need a valid continuous axis for ".concat(I,"s"));
}function uc(k){return n.isNumber(k)?"tukey":k}function Y(k,I){var {config:d}=I,u,M=k=Object.assign({},k,{encoding:wa(k.encoding,d)});I=Object.assign({},M);var la=M.mark;M=M.params;I=(delete I.mark,delete I.encoding,delete I.params,delete I.projection,I);la=Qe(la)?la:{type:la};M&&Fb(Ja("boxplot"));M=null!==(u=la.extent)&&void 0!==u?u:d.boxplot.extent;var ra=zc("size",la,d);u=uc(M);var Ca;{var db=k;k=dc(db,"boxplot");const {continuousAxisChannelDef:$f,continuousAxis:kg}=Nb(db,k,"boxplot");var qb=$f.field,
Eb=uc(M),Kb=[...oa(qb),{op:"median",field:qb,as:"mid_box_".concat(qb)},{op:"min",field:qb,as:("min-max"===Eb?"lower_whisker_":"min_")+qb},{op:"max",field:qb,as:("min-max"===Eb?"upper_whisker_":"max_")+qb}];qb="min-max"===Eb||"tukey"===Eb?[]:[{calculate:'datum["upper_box_'.concat(qb,'"] - datum["lower_box_').concat(qb,'"]'),as:"iqr_".concat(qb)},{calculate:'min(datum["upper_box_'.concat(qb,'"] + datum["iqr_').concat(qb,'"] * ').concat(M,', datum["max_').concat(qb,'"])'),as:"upper_whisker_".concat(qb)},
{calculate:'max(datum["lower_box_'.concat(qb,'"] - datum["iqr_').concat(qb,'"] * ').concat(M,', datum["min_').concat(qb,'"])'),as:"lower_whisker_".concat(qb)}];db=Object.assign({},db.encoding);Eb=(delete db[kg],db);db=Object.assign({},Eb);Eb=Eb.tooltip;db=(delete db.tooltip,db);if(Eb){var pc;if(n.isArray(Eb)){for(var hd of Eb)hd.aggregate?(Ca||(Ca=[]),Ca.push(hd)):(pc||(pc=[]),pc.push(hd));Ca&&(db.tooltip=Ca)}else Eb.aggregate?db.tooltip=Eb:pc=Eb;n.isArray(pc)&&1===pc.length&&(pc=pc[0]);Ca={customTooltipWithoutAggregatedField:pc,
filteredEncoding:db}}else Ca={filteredEncoding:db};const {customTooltipWithoutAggregatedField:Vj,filteredEncoding:Wk}=Ca,{bins:xk,timeUnits:Fg,aggregate:gm,groupby:hm,encoding:Em}=Ag(Wk,d);Ca=[...xk,...Fg,{aggregate:[...gm,...Kb],groupby:hm},...qb];Ca={bins:xk,timeUnits:Fg,transform:Ca,groupby:hm,aggregate:gm,continuousAxisChannelDef:$f,continuousAxis:kg,encodingWithoutContinuousAxis:Em,ticksOrient:"vertical"===k?"horizontal":"vertical",boxOrient:k,customTooltipWithoutAggregatedField:Vj}}const {bins:md,
timeUnits:sd,transform:yd,continuousAxisChannelDef:Ad,continuousAxis:ue,groupby:Fe,aggregate:ke,encodingWithoutContinuousAxis:df,ticksOrient:Ye,boxOrient:hg,customTooltipWithoutAggregatedField:qe}=Ca;pc=Object.assign({},df);Ca=df.color;Kb=df.size;pc=(delete pc.color,delete pc.size,pc);hd=Gb(la,ue,Ad,pc,d.boxplot);k=Gb(la,ue,Ad,df,d.boxplot);Kb=Gb(la,ue,Ad,Object.assign({},pc,Kb?{size:Kb}:{}),d.boxplot);qb=hb([{fieldPrefix:"min-max"===u?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",
titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===u?"lower_whisker_":"min_",titlePrefix:"Min"}],Ad,df);db={type:"tick",color:"black",opacity:1,orient:Ye,invalid:null,aria:!1};Eb="min-max"===u?qb:hb([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],Ad,df);hd=[...hd({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"lower_whisker",
endPositionPrefix:"lower_box",extraEncoding:Eb}),...hd({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:Eb}),...hd({partName:"ticks",mark:db,positionPrefix:"lower_whisker",extraEncoding:Eb}),...hd({partName:"ticks",mark:db,positionPrefix:"upper_whisker",extraEncoding:Eb})];ra=[..."tukey"!==u?hd:[],...k({partName:"box",mark:Object.assign({},{type:"bar"},ra?{size:ra}:{},{orient:hg,invalid:null,ariaRoleDescription:"box"}),
positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:qb}),...Kb({partName:"median",mark:Object.assign({},{type:"tick",invalid:null},n.isObject(d.boxplot.median)&&d.boxplot.median.color?{color:d.boxplot.median.color}:{},ra?{size:ra}:{},{orient:Ye,aria:!1}),positionPrefix:"mid_box",extraEncoding:qb})];if("min-max"===u){var Lf;return Object.assign({},I,{transform:(null!==(Lf=I.transform)&&void 0!==Lf?Lf:[]).concat(yd),layer:ra})}Lf='datum["lower_box_'.concat(Ad.field,'"]');u='datum["upper_box_'.concat(Ad.field,
'"]');k="(".concat(u," - ").concat(Lf,")");Lf="".concat(Lf," - ").concat(M," * ").concat(k);k="".concat(u," + ").concat(M," * ").concat(k);Kb='datum["'.concat(Ad.field,'"]');M={joinaggregate:oa(Ad.field),groupby:Fe};u={transform:[{filter:"(".concat(Lf," \x3c\x3d ").concat(Kb,") \x26\x26 (").concat(Kb," \x3c\x3d ").concat(k,")")},{aggregate:[{op:"min",field:Ad.field,as:"lower_whisker_".concat(Ad.field)},{op:"max",field:Ad.field,as:"upper_whisker_".concat(Ad.field)},{op:"min",field:"lower_box_".concat(Ad.field),
as:"lower_box_".concat(Ad.field)},{op:"max",field:"upper_box_".concat(Ad.field),as:"upper_box_".concat(Ad.field)},...ke],groupby:Fe}],layer:hd};pc=Object.assign({},pc);pc=(delete pc.tooltip,pc);const {scale:ig,axis:Bg}=Ad;hd=sb(Ad);qb=q(Bg,["title"]);d=Bb(la,"outliers",d.boxplot,{transform:[{filter:"(".concat(Kb," \x3c ").concat(Lf,") || (").concat(Kb," \x3e ").concat(k,")")}],mark:"point",encoding:Object.assign({},{[ue]:Object.assign({},{field:Ad.field,type:Ad.type},void 0!==hd?{title:hd}:{},void 0!==
ig?{scale:ig}:{},L(qb)?{}:{axis:qb})},pc,Ca?{color:Ca}:{},qe?{tooltip:qe}:{})})[0];la=[...md,...sd,M];d?d={transform:la,layer:[d,u]}:(d=u,d.transform.unshift(...la));return Object.assign({},I,{layer:[d,{transform:yd,layer:ra}]})}function oa(k){return[{op:"q1",field:k,as:"lower_box_".concat(k)},{op:"q3",field:k,as:"upper_box_".concat(k)}]}function Pa(k,I){({config:I}=I);k=Object.assign({},k,{encoding:wa(k.encoding,I)});const {transform:d,continuousAxisChannelDef:u,continuousAxis:M,encodingWithoutContinuousAxis:la,
ticksOrient:ra,markDef:Ca,outerSpec:db,tooltipEncoding:qb}=yb(k,"errorbar",I);delete la.size;k=Gb(Ca,M,u,la,I.errorbar);I=Ca.thickness;var Eb=Ca.size;Eb=Object.assign({},{type:"tick",orient:ra,aria:!1},void 0!==I?{thickness:I}:{},void 0!==Eb?{size:Eb}:{});k=[...k({partName:"ticks",mark:Eb,positionPrefix:"lower",extraEncoding:qb}),...k({partName:"ticks",mark:Eb,positionPrefix:"upper",extraEncoding:qb}),...k({partName:"rule",mark:Object.assign({},{type:"rule",ariaRoleDescription:"errorbar"},void 0!==
I?{size:I}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:qb})];return Object.assign({},db,{transform:d},1<k.length?{layer:k}:Object.assign({},k[0]))}function Ua(k,I){var {encoding:d}=k;if(!(!ce(d.x)&&!ce(d.y)||ce(d.x2)||ce(d.y2)||ce(d.xError)||ce(d.xError2)||ce(d.yError)||ce(d.yError2)))return{orient:dc(k,I),inputType:"raw"};var u=ce(d.x2)||ce(d.y2);var M=ce(d.xError)||ce(d.xError2)||ce(d.yError)||ce(d.yError2);k=d.x;const la=d.y;if(u){if(M)throw Error("".concat(I," cannot be both type aggregated-upper-lower and aggregated-error"));
u=d.x2;d=d.y2;if(ce(u)&&ce(d))throw Error("".concat(I," cannot have both x2 and y2"));if(ce(u)){if(ee(k))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw Error("Both x and x2 have to be quantitative in ".concat(I));}if(ce(d)){if(ee(la))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw Error("Both y and y2 have to be quantitative in ".concat(I));}}else{u=d.xError;M=d.yError;const ra=d.yError2;if(ce(d.xError2)&&!ce(u))throw Error("".concat(I," cannot have xError2 without xError"));
if(ce(ra)&&!ce(M))throw Error("".concat(I," cannot have yError2 without yError"));if(ce(u)&&ce(M))throw Error("".concat(I," cannot have both xError and yError with both are quantiative"));if(ce(u)){if(ee(k))return{orient:"horizontal",inputType:"aggregated-error"};throw Error("All x, xError, and xError2 (if exist) have to be quantitative");}if(ce(M)){if(ee(la))return{orient:"vertical",inputType:"aggregated-error"};throw Error("All y, yError, and yError2 (if exist) have to be quantitative");}}throw Error("No ranged axis");
}function yb(k,I,d){var u,M=Object.assign({},k),la=k.mark,ra=k.encoding,Ca=k.params;M=(delete M.mark,delete M.encoding,delete M.params,delete M.projection,M);la=Qe(la)?la:{type:la};Ca&&Fb(Ja(I));const {orient:db,inputType:qb}=Ua(k,I),{continuousAxisChannelDef:Eb,continuousAxisChannelDef2:Kb,continuousAxisChannelDefError:pc,continuousAxisChannelDefError2:hd,continuousAxis:md}=Nb(k,db,I);var sd=[];k=[];Ca=Eb.field;var yd=!1;if("raw"===qb){var Ad=la.center?la.center:la.extent?"iqr"===la.extent?"median":
"mean":d.errorbar.center;var ue=la.extent?la.extent:"mean"===Ad?"stderr":"iqr";"median"===Ad!==("iqr"===ue)&&(sd=ue,sd="".concat(Ad," is not usually used with ").concat(sd," for ").concat(I,"."),Fb(sd));"stderr"===ue||"stdev"===ue?(sd=[{op:ue,field:Ca,as:"extent_".concat(Ca)},{op:Ad,field:Ca,as:"center_".concat(Ca)}],k=[{calculate:'datum["center_'.concat(Ca,'"] + datum["extent_').concat(Ca,'"]'),as:"upper_".concat(Ca)},{calculate:'datum["center_'.concat(Ca,'"] - datum["extent_').concat(Ca,'"]'),as:"lower_".concat(Ca)}],
Ad=[{fieldPrefix:"center_",titlePrefix:R(Ad)},{fieldPrefix:"upper_",titlePrefix:Tb(Ad,ue,"+")},{fieldPrefix:"lower_",titlePrefix:Tb(Ad,ue,"-")}],yd=!0):("ci"===ue?(I="mean",Ad="ci0",ue="ci1"):(I="median",Ad="q1",ue="q3"),sd=[{op:Ad,field:Ca,as:"lower_".concat(Ca)},{op:ue,field:Ca,as:"upper_".concat(Ca)},{op:I,field:Ca,as:"center_".concat(Ca)}],Ad=[{fieldPrefix:"upper_",titlePrefix:Ub({field:Ca,aggregate:ue,type:"quantitative"},d,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:Ub({field:Ca,
aggregate:Ad,type:"quantitative"},d,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:Ub({field:Ca,aggregate:I,type:"quantitative"},d,{allowDisabling:!1})}])}else{if(la.center||la.extent){I=la.center;var Fe=la.extent;I="".concat(Fe?"extent ":"").concat(Fe&&I?"and ":"").concat(I?"center ":"").concat(Fe&&I?"are ":"is ","not needed when data are aggregated.");Fb(I)}"aggregated-upper-lower"===qb?(Ad=[],k=[{calculate:'datum["'.concat(Kb.field,'"]'),as:"upper_".concat(Ca)},{calculate:'datum["'.concat(Ca,
'"]'),as:"lower_".concat(Ca)}]):"aggregated-error"===qb&&(Ad=[{fieldPrefix:"",titlePrefix:Ca}],k=[{calculate:'datum["'.concat(Ca,'"] + datum["').concat(pc.field,'"]'),as:"upper_".concat(Ca)}],hd?k.push({calculate:'datum["'.concat(Ca,'"] + datum["').concat(hd.field,'"]'),as:"lower_".concat(Ca)}):k.push({calculate:'datum["'.concat(Ca,'"] - datum["').concat(pc.field,'"]'),as:"lower_".concat(Ca)}));for(ue of k)Ad.push({fieldPrefix:ue.as.substring(0,6),titlePrefix:ja(ja(ue.calculate,'datum["',""),'"]',
"")})}k={postAggregateCalculates:k,errorBarSpecificAggregate:sd,tooltipSummary:Ad,tooltipTitleWithFieldName:yd};const {errorBarSpecificAggregate:ke,postAggregateCalculates:df,tooltipSummary:Ye,tooltipTitleWithFieldName:hg}=k;ra=Object.assign({},ra);k="x"===md?"x2":"y2";Ca="x"===md?"xError":"yError";yd="x"===md?"xError2":"yError2";ra=(delete ra[md],delete ra[k],delete ra[Ca],delete ra[yd],ra);const {bins:qe,timeUnits:Lf,aggregate:ig,groupby:Bg,encoding:$f}=Ag(ra,d);d=[...ig,...ke];ra="raw"!==qb?[]:
Bg;k=hb(Ye,Eb,$f,hg);return{transform:[...null!==(u=M.transform)&&void 0!==u?u:[],...qe,...Lf,...0===d.length?[]:[{aggregate:d,groupby:ra}],...df],groupby:ra,continuousAxisChannelDef:Eb,continuousAxis:md,encodingWithoutContinuousAxis:$f,ticksOrient:"vertical"===db?"horizontal":"vertical",markDef:la,outerSpec:M,tooltipEncoding:k}}function Tb(k,I,d){return"".concat(R(k)," ").concat(d," ").concat(I)}function Zb(k,I){({config:I}=I);k=Object.assign({},k,{encoding:wa(k.encoding,I)});const {transform:d,
continuousAxisChannelDef:u,continuousAxis:M,encodingWithoutContinuousAxis:la,markDef:ra,outerSpec:Ca,tooltipEncoding:db}=yb(k,"errorband",I);I=Gb(ra,M,u,la,I.errorband);k=void 0!==k.encoding.x&&void 0!==k.encoding.y;let qb={type:k?"area":"rect"},Eb={type:k?"line":"rule"};const Kb=Object.assign({},ra.interpolate?{interpolate:ra.interpolate}:{},ra.tension&&ra.interpolate?{tension:ra.tension}:{});k?(qb=Object.assign({},qb,Kb,{ariaRoleDescription:"errorband"}),Eb=Object.assign({},Eb,Kb,{aria:!1})):ra.interpolate?
Fb(Fc("interpolate")):ra.tension&&Fb(Fc("tension"));return Object.assign({},Ca,{transform:d,layer:[...I({partName:"band",mark:qb,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:db}),...I({partName:"borders",mark:Eb,positionPrefix:"lower",extraEncoding:db}),...I({partName:"borders",mark:Eb,positionPrefix:"upper",extraEncoding:db})]})}function rc(k,I,d){I=new Yc(k,I);Ee[k]={normalizer:I,parts:d}}function Gc(k){return!!k&&("legend"===k||!!k.legend)}function dd(k){return Gc(k)&&n.isObject(k)}
function Zc(k){const I=[];for(const M of k||[])if(!M.select){var d=M,u=Object.assign({},d);k=d.expr;d=d.bind;u=(delete u.expr,delete u.bind,u);d&&k?(k=Object.assign({},u,{bind:d,init:k}),I.push(k)):(k=Object.assign({},u,k?{update:k}:{},d?{bind:d}:{}),I.push(k))}return I}function Kd(k,I){const d={};for(const u of Fm)k&&void 0!==k[u]&&(d[u]=vc(k[u]));I&&(d.params=k.params);return d}function Ud(k){return n.isObject(k)&&void 0!==k.step}function pd(k){return k.view||k.width||k.height}function Bd(k,I,d){const u=
{},{spacing:M,columns:la}=d[I];void 0!==M&&(u.spacing=M);void 0!==la&&("facet"in k&&!Oc(k.facet)||"concat"in k)&&(u.columns=la);"vconcat"in k&&(u.columns=1);for(const db of Gm)if(void 0!==k[db])if("spacing"===db){var ra,Ca;I=k[db];u[db]=n.isNumber(I)?I:{row:null!==(ra=I.row)&&void 0!==ra?ra:M,column:null!==(Ca=I.column)&&void 0!==Ca?Ca:M}}else u[db]=k[db];return u}function jd(k,I){var d;return null!==(d=k[I])&&void 0!==d?d:k["width"===I?"continuousWidth":"continuousHeight"]}function cf(k,I){k=Va(k,
I);return Ud(k)?k.step:20}function Va(k,I){var d;I=null!==(d=k[I])&&void 0!==d?d:k["width"===I?"discreteWidth":"discreteHeight"];return r(I,{step:k.step})}function pb(k){k=void 0===k?{}:k;return{signals:[{name:"color",value:n.isObject(k)?Object.assign({},im,k):im}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},
"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function Cb(k){return{signals:[{name:"fontSize",value:n.isObject(k)?
Object.assign({},jm,k):jm}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function Ob(k){var I=Md(k||{});const d={};for(const u of I)I=k[u],d[u]=Of(I)?Sb(I):vc(I);return d}function bc(k){var I=k=void 0===k?{}:k,d=Object.assign({},I);k=I.color;var u=I.font;I=I.fontSize;
d=(delete d.color,delete d.font,delete d.fontSize,d);k=n.mergeConfig({},Hm,u?{text:{font:u},style:{"guide-label":{font:u},"guide-title":{font:u},"group-title":{font:u},"group-subtitle":{font:u}}}:{},k?pb(k):{},I?Cb(I):{},d||{});u=q(k,Im);for(var M of["background","lineBreak","padding"])k[M]&&(u[M]=vc(k[M]));for(var la of Pb)k[la]&&(u[la]=Ra(k[la]));for(var ra of Nc)k[ra]&&(u[ra]=Ob(k[ra]));for(const db of km)k[db]&&(u[db]=Ra(k[db]));k.legend&&(u.legend=Ra(k.legend));k.scale&&(u.scale=Ra(k.scale));
if(k.style){M=k.style;la=Md(M);ra={};for(Ca of la)ra[Ca]=Ob(M[Ca]);var Ca=ra;u.style=Ca}k.title&&(u.title=Ra(k.title));k.view&&(u.view=Ra(k.view));return u}function Mc(k){k=pf(k);for(var I of Jm)delete k[I];if(k.axis)for(var d in k.axis)Of(k.axis[d])&&delete k.axis[d];if(k.legend)for(var u of sf)delete k.legend[u];if(k.mark){for(var M of Ab)delete k.mark[M];k.mark.tooltip&&n.isObject(k.mark.tooltip)&&delete k.mark.tooltip}k.params&&(k.signals=(k.signals||[]).concat(Zc(k.params)),delete k.params);
for(var la of Km){for(const db of Ab)delete k[la][db];if(I=Lm[la])for(const db of I)delete k[la][db];d=I=void 0;u=k;M=la;var ra=void 0,Ca=u[M];"view"===M&&(ra="cell");Ca=Object.assign({},Ca,u.style[null!==(d=ra)&&void 0!==d?d:M]);L(Ca)||(u.style[null!==(I=ra)&&void 0!==I?I:M]=Ca);delete u[M]}for(const db of Md(Ee))delete k[db];{la=k;const {titleMarkConfig:db,subtitleMarkConfig:qb,subtitle:Eb}=ab(la.title);L(db)||(la.style["group-title"]=Object.assign({},la.style["group-title"],db));L(qb)||(la.style["group-subtitle"]=
Object.assign({},la.style["group-subtitle"],qb));L(Eb)?delete la.title:la.title=Eb}for(const db in k)n.isObject(k[db])&&L(k[db])&&delete k[db];return L(k)?void 0:k}function w(k,I){const d="x"===I?"y":"radius";var u=k[I];k=k[d];if(kd(u)&&kd(k))if("quantitative"===lf(u)&&"quantitative"===lf(k)){if(u.stack)return I;if(k.stack)return d;const ra=kd(u)&&!!u.aggregate,Ca=kd(k)&&!!k.aggregate;if(ra!==Ca)return ra?I:d;var M,la;u=null===(M=u.scale)||void 0===M?void 0:M.type;M=null===(la=k.scale)||void 0===
la?void 0:la.type;if(u&&"linear"!==u)return d;if(M&&"linear"!==M)return I}else{if("quantitative"===lf(u))return I;if("quantitative"===lf(k))return d}else{if("quantitative"===lf(u))return I;if("quantitative"===lf(k))return d}}function S(k){switch(k){case "x":return"y";case "y":return"x";case "theta":return"radius";case "radius":return"theta"}}function ma(k,I,d){d=void 0===d?{}:d;var u,M;k=Qe(k)?k.type:k;if(!Mm.has(k))return null;const la=w(I,"x")||w(I,"theta");if(!la)return null;const ra=I[la];var Ca=
kd(ra)?Ia(ra,{}):void 0;let db=S(la),qb=I[db],Eb=kd(qb)?Ia(qb,{}):void 0;Eb===Ca&&(db=qb=Eb=void 0);Ca=Nl.reduce((pc,hd)=>{if("tooltip"!==hd&&uf(I,hd)){var md=I[hd];for(const sd of n.array(md)){md=Tc(sd);if(md.aggregate)continue;const yd=Ia(md,{});yd&&yd===Eb||pc.push({channel:hd,fieldDef:md})}}return pc},[]);let Kb;void 0!==ra.stack?Kb=n.isBoolean(ra.stack)?ra.stack?"zero":null:ra.stack:Nm.has(k)&&(Kb="zero");if(!(Kb&&Kb in Om)||Bf(I)&&0===Ca.length)return null;if(null!==ra&&void 0!==ra&&null!==
(u=ra.scale)&&void 0!==u&&u.type&&(null===ra||void 0===ra?void 0:null===(M=ra.scale)||void 0===M?void 0:M.type)!==Dg.LINEAR){if(d.disallowNonLinearStack)return null;Fb("Cannot stack non-linear scale (".concat(ra.scale.type,")."))}if(ce(I[Wa(la)]))return void 0!==ra.stack&&Fb(mc(la)),null;kd(ra)&&ra.aggregate&&!Rg.includes(ra.aggregate)&&Fb('Stacking is applied even though the aggregate function is non-summative ("'.concat(ra.aggregate,'").'));return{groupbyChannel:qb?db:void 0,groupbyField:Eb,fieldChannel:la,
impute:null===ra.impute?!1:Qd(k),stackBy:Ca,offset:Kb}}function La(k){k=Object.assign({},k);k=(delete k.point,delete k.line,k);return 1<Md(k).length?k:k.type}function gb(k){for(const I of["line","area","rule","trail"])k[I]&&(k=Object.assign({},k,{[I]:q(k[I],["point","line"])}));return k}function mb(k,I,d){I=void 0===I?{}:I;if("transparent"===k.point)return{opacity:0};if(k.point)return n.isObject(k.point)?k.point:{};if(void 0!==k.point)return null;if(I.point||d.shape)return n.isObject(I.point)?I.point:
{}}function tb(k,I){I=void 0===I?{}:I;if(k.line)return!0===k.line?{}:k.line;if(void 0!==k.line)return null;if(I.line)return!0===I.line?{}:I.line}function Rb(k,I){return I?zd(k,I):k}function ec(k,I,d){const u=I[k];if(u&&!n.isString(u)&&"repeat"in u){if(u.repeat in d)return Object.assign({},I,{[k]:d[u.repeat]});Fb('Unknown repeated value "'.concat(u.repeat,'".'))}else return I}function Wb(k,I){k=ec("field",k,I);if(void 0!==k){if(null===k)return null;"sort"in k&&Xb(k.sort)&&(I=ec("field",k.sort,I),k=
Object.assign({},k,I?{sort:I}:{}));return k}}function Pc(k,I){if(kd(k))return Wb(k,I);I=ec("datum",k,I);I===k||I.type||(I.type="nominal");return I}function ed(k,I){if(ce(k)){if(I=Pc(k,I))return I;if(Od(k))return{condition:k.condition}}else{if(Rd(k)){if(I=Pc(k.condition,I))return Object.assign({},k,{condition:I});k=Object.assign({},k);return delete k.condition,k}return k}}function zd(k,I){const d={};for(const M in k)if(n.hasOwnProperty(k,M)){var u=k[M];n.isArray(u)?d[M]=u.map(la=>ed(la,I)).filter(la=>
la):(u=ed(u,I),void 0!==u&&(d[M]=u))}return d}function qd(k){var {parentEncoding:I,encoding:d={},layer:u}=k;k={};if(I){var M=new Set([...Md(I),...Md(d)]);for(const la of M){M=d[la];const ra=I[la];if(ce(M))M=Object.assign({},ra,M),k[la]=M;else if(Rd(M))k[la]=Object.assign({},M,{condition:Object.assign({},ra,M.condition)});else if(M||null===M)k[la]=M;else if(u||zf(ra)||Ma(ra)||ce(ra)||n.isArray(ra))k[la]=ra}}else k=d;return!k||L(k)?void 0:k}function bd(k){const {parentProjection:I,projection:d}=k;if(I&&
d){{const {parentProjection:u,projection:M}={parentProjection:I,projection:d};k="Layer's shared projection ".concat(ng(u)," is overridden by a child projection ").concat(ng(M),".")}Fb(k)}return null!==d&&void 0!==d?d:I}function Kc(k){return k.map(I=>"filter"in I?{filter:x(I.filter,Ge)}:I)}function ud(k,I){var d=Object.assign({},k);const u=k.transform;d=(delete d.transform,d);return u?(k=u.map(M=>{if("filter"in M)return{filter:ve(M,I)};if("bin"in M&&n.isObject(M.bin))return Object.assign({},M,{bin:Sd(M.bin)});
if("lookup"in M){var la=M.from,ra=Object.assign({},la);la=la.selection;ra=(delete ra.selection,ra);return la?Object.assign({},M,{from:Object.assign({},{param:la},ra)}):M}return M}),Object.assign({},d,{transform:k})):k}function de(k,I){var d,u;k=pf(k);kd(k)&&n.isObject(k.bin)&&(k.bin=Sd(k.bin));tf(k)&&null!==(d=k.scale)&&void 0!==d&&null!==(u=d.domain)&&void 0!==u&&u.selection&&(u=k.scale.domain,d=Object.assign({},u),u=u.selection,d=(delete d.selection,d),k.scale.domain=Object.assign({},d,u?{param:u}:
{}));Od(k)&&(F.isArray(k.condition)?k.condition=k.condition.map(M=>{var la=Object.assign({},M);const ra=M.param;la=(delete la.selection,delete la.param,delete la.test,la);return ra?M:Object.assign({},la,{test:ve(M,I)})}):(u=de(k.condition,I),d=Object.assign({},u),u=u.param,d=(delete d.selection,delete d.param,delete d.test,d),k.condition=u?k.condition:Object.assign({},d,{test:ve(k.condition,I)})));return k}function Sd(k){var I=k.extent;if(null!==I&&void 0!==I&&I.selection){var d=Object.assign({},
I);I=I.selection;d=(delete d.selection,d);return Object.assign({},k,{extent:Object.assign({},d,{param:I})})}return k}function ve(k,I){const d=u=>x(u,M=>{var la,ra,Ca;const db=null!==(la=I.emptySelections[M])&&void 0!==la?la:!0;la={param:M,empty:db};null!==(Ca=(ra=I.selectionPredicates)[M])&&void 0!==Ca?Ca:ra[M]=[];I.selectionPredicates[M].push(la);return la});return k.selection?d(k.selection):x(k.test||k.filter,u=>u.selection?d(u.selection):u)}function ne(k,I){var d;return k.name?Object.assign({},
I,{path:(null!==(d=I.path)&&void 0!==d?d:[]).concat(k.name)}):I}function Tf(k,I){void 0===I&&(I=bc(k.config));var d=I;d=void 0===d?{}:d;d={config:d};d=Pm.map(Qm.map(Rm.map(k,d),d),d);const {width:u,height:M}=k;{let {width:la,height:ra}={width:u,height:M,autosize:k.autosize};k=Te(d)||"layer"in d;const Ca={};k?"container"==la&&"container"==ra?(Ca.type="fit",Ca.contains="padding"):"container"==la?(Ca.type="fit-x",Ca.contains="padding"):"container"==ra&&(Ca.type="fit-y",Ca.contains="padding"):("container"==
la&&(Fb(gc("width")),la=void 0),"container"==ra&&(Fb(gc("height")),ra=void 0));I=Object.assign({},{type:"pad"},Ca,I?se(I.autosize):{},se(d.autosize));"fit"!==I.type||k||(Fb('Autosize "fit" only works for single views and layered views.'),I.type="pad");"container"==la&&"fit"!=I.type&&"fit-x"!=I.type&&Fb(Ib("width"));"container"==ra&&"fit"!=I.type&&"fit-y"!=I.type&&Fb(Ib("height"));k=Bh(I,{type:"pad"})?void 0:I}return Object.assign({},d,k?{autosize:k}:{})}function se(k){return n.isString(k)?{type:k}:
null!==k&&void 0!==k?k:{}}function te(k){return{explicit:!0,value:k}}function Be(k){return{explicit:!1,value:k}}function wd(k){return(I,d,u,M)=>{const la=k(I.value,d.value);return 0<la?I:0>la?d:We(I,d,u,M)}}function We(k,I,d,u){if(k.explicit&&I.explicit){var M=k.value;I=I.value;d="Conflicting ".concat(u.toString(),' property "').concat(d.toString(),'" (').concat(ng(M)," and ").concat(ng(I),"). Using ").concat(ng(M),".");Fb(d)}return k}function Kf(k,I,d,u,M){M=void 0===M?We:M;return void 0===k||void 0===
k.value?I:k.explicit&&!I.explicit?k:I.explicit&&!k.explicit?I:Bh(k.value,I.value)?k:M(k,I,d,u)}function jf(k){return"name"in k&&!("url"in k)&&!("values"in k)&&!Cf(k)}function Cf(k){return k&&("sequence"in k||"sphere"in k||"graticule"in k)}function xf(k,I,d){lm=I||"view";mm=d||Sm;return Uf(k.trim()).map(Zf)}function Af(k,I,d,u,M){const la=k.length;let ra=0,Ca;for(;I<la;++I)if(Ca=k[I],ra||Ca!==d)M&&0<=M.indexOf(Ca)?--ra:u&&0<=u.indexOf(Ca)&&++ra;else break;return I}function Uf(k){const I=[],d=k.length;
let u=0,M=0;for(;M<d;)M=Af(k,M,",","[{","]}"),I.push(k.substring(u,M).trim()),u=++M;if(0===I.length)throw"Empty event selector: "+k;return I}function Zf(k){if("["===k[0]){var I=k;var d=I.length;k=Af(I,1,"]","[","]");if(k===d)throw"Empty between selector: "+I;d=Uf(I.substring(1,k));if(2!==d.length)throw"Between selector must have two elements: "+I;I=I.slice(k+1).trim();if("\x3e"!==I[0])throw"Expected '\x3e' after between selector: "+I;d=d.map(Zf);I=Zf(I.slice(1).trim());I.between?I={between:d,stream:I}:
I.between=d}else{{d={source:lm};const u=[];let M=[0,0],la=0,ra=0,Ca=k.length,db=0,qb;if("}"===k[Ca-1]){db=k.lastIndexOf("{");if(0<=db){try{M=Ug(k.substring(db+1,Ca-1))}catch(Eb){throw"Invalid throttle specification: "+k;}k=k.slice(0,db).trim();Ca=k.length}else throw"Unmatched right brace: "+k;db=0}if(!Ca)throw k;"@"===k[0]&&(la=++db);qb=Af(k,db,":");qb<Ca&&(u.push(k.substring(ra,qb).trim()),ra=db=++qb);db=Af(k,db,"[");if(db===Ca)u.push(k.substring(ra,Ca).trim());else if(u.push(k.substring(ra,db).trim()),
I=[],ra=++db,ra===Ca)throw"Unmatched left bracket: "+k;for(;db<Ca;){db=Af(k,db,"]");if(db===Ca)throw"Unmatched left bracket: "+k;I.push(k.substring(ra,db).trim());if(db<Ca-1&&"["!==k[++db])throw"Expected left bracket: "+k;ra=++db}if(!(Ca=u.length)||Tm.test(u[Ca-1]))throw"Invalid event selector: "+k;1<Ca?(d.type=u[1],la?d.markname=u[0].slice(1):mm[u[0]]?d.marktype=u[0]:d.source=u[0]):d.type=u[0];"!"===d.type.slice(-1)&&(d.consume=!0,d.type=d.type.slice(0,-1));null!=I&&(d.filter=I);M[0]&&(d.throttle=
M[0]);M[1]&&(d.debounce=M[1]);I=d}}return I}function Ug(k){const I=k.split(",");if(!k.length||2<I.length)throw k;return I.map(d=>{d=+d;if(d!==d)throw k;return d})}function Eh(k,I,d){I=void 0===I?!0:I;d=void 0===d?n.identity:d;return n.isArray(k)?(k=k.map(u=>Eh(u,I,d)),I?"[".concat(k.join(", "),"]"):k):Ic(k)?I?d(ad(k)):d(nd(k)):I?d(ng(k)):k}function Rh(k,I){k.component.selection&&Md(k.component.selection).length&&(k=n.stringValue(k.getName("cell")),I.unshift({name:"facet",value:{},on:[{events:xf("mousemove",
"scope"),update:"isTuple(facet) ? facet : group(".concat(k,").datum")}]}));return nh(I)}function mk(k,I){var d=!1;for(const M of wg(null!==(u=k.component.selection)&&void 0!==u?u:{})){var u;const la=M.name;d=n.stringValue(la+"_store");if(0===I.filter(ra=>ra.name===la).length){u="global"===M.resolve?"union":M.resolve;const ra="point"===M.type?", true, true)":")";I.push({name:M.name,update:"".concat("vlSelectionResolve","(").concat(d,", ").concat(n.stringValue(u)).concat(ra)})}d=!0;for(const ra of Al)ra.defined(M)&&
ra.topLevelSignals&&(I=ra.topLevelSignals(k,M,I))}d&&0===I.filter(M=>"unit"===M.name).length&&I.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]});return nh(I)}function Kk(k,I){I=[...I];for(const u of wg(null!==(d=k.component.selection)&&void 0!==d?d:{})){var d;d={name:u.name+"_store"};if(u.init){const M=u.project.items.map(la=>{la=Object.assign({},la);return delete la.signals,la});d.values=u.init.map(la=>({unit:$g(k,{escape:!1}),fields:M,values:Eh(la,
!1)}))}I.filter(M=>M.name===u.name+"_store").length||I.push(d)}return I}function pk(k,I){for(const u of wg(null!==(d=k.component.selection)&&void 0!==d?d:{})){var d;for(const M of Al)M.defined(u)&&M.marks&&(I=M.marks(k,u,I))}return I}function qk(k,I){for(const d of k.children)pg(d)&&(I=pk(d,I));return I}function nh(k){return k.map(I=>{I.on&&!I.on.length&&delete I.on;return I})}function Qi(k,I){k=n.stringValue(k.scaleName(I));return"domain(".concat(k,")")}function Kj(k){var I;return k.parent&&Zh(k.parent)&&
(null!==(I=!k.parent.parent)&&void 0!==I?I:Kj(k.parent.parent))}function Sk(k,I,d,u){const M=d.channel,la=d.signals.visual;d=d.signals.data;const ra=Wj.defined(I),Ca=n.stringValue(k.scaleName(M));var db=k.getScaleComponent(M);db=db?db.get("type"):void 0;const qb=pc=>"scale(".concat(Ca,", ").concat(pc,")"),Eb=k.getSizeSignalRef("x"===M?"width":"height").signal,Kb="".concat(M,"(unit)");k=kh(I,(pc,hd)=>[...pc,{events:hd.between[0],update:"[".concat(Kb,", ").concat(Kb,"]")},{events:hd,update:"[".concat(la,
"[0], clamp(").concat(Kb,", 0, ").concat(Eb,")]")}]);k.push({events:{signal:I.name+"_scale_trigger"},update:db in Jg?"[".concat(qb("".concat(d,"[0]")),", ").concat(qb("".concat(d,"[1]")),"]"):"[0, 0]"});return ra?[{name:d,on:[]}]:[Object.assign({},{name:la},u?{init:Eh(u,!0,qb)}:{value:[]},{on:k}),Object.assign({},{name:d},u?{init:Eh(u)}:{},{on:[{events:{signal:la},update:"".concat(la,"[0] \x3d\x3d\x3d ").concat(la,"[1] ? null : invert(").concat(Ca,", ").concat(la,")")}]})]}function kh(k,I){return k.events.reduce((d,
u)=>u.between?I(d,u):(Fb("".concat(u," is not an ordered event stream for interval selections.")),d),[])}function $h(k,I,d,u){var M=Od(I)&&I.condition;I=u(I);return M?(M=n.array(M).map(la=>{const ra=u(la);if(la.param){const {param:Ca,empty:db}=la;la=zj(k,{param:Ca,empty:db});return Object.assign({},{test:la},ra)}la=ih(k,la.test);return Object.assign({},{test:la},ra)}),{[d]:[...M,...void 0!==I?[I]:[]]}):void 0!==I?{[d]:I}:{}}function rk(k,I){I=void 0===I?"text":I;return $h(k,k.encoding[I],I,d=>th(d,
k.config))}function th(k,I,d){d=void 0===d?"datum":d;if(k){if(zf(k))return kc(k.value);if(ce(k)){const {format:u,formatType:M}=oc(k);return Qf({fieldOrDatumDef:k,format:u,formatType:M,expr:d,config:I})}}}function $i(k,I){I=void 0===I?{}:I;const {encoding:d,markDef:u,config:M,stack:la}=k,ra=d.tooltip;if(n.isArray(ra))return{tooltip:oj({tooltip:ra},la,M,I)};{const Ca=I.reactiveGeom?"datum.datum":"datum";return $h(k,ra,"tooltip",db=>{const qb=th(db,M,Ca);if(qb)return qb;if(null!==db){db=zc("tooltip",
u,M);!0===db&&(db={content:"encoding"});if(n.isString(db))return{value:db};if(n.isObject(db))return Ma(db)?db:"encoding"===db.content?oj(d,la,M,I):{signal:Ca}}})}}function Ii(k,I,d,u){function M(db,qb){var Eb,Kb=sa(qb);db=Xe(db)?db:Object.assign({},db,{type:k[Kb].type});Kb=db.title||oe(db,d);Kb=n.array(Kb).join(", ");if(qb in Zg){const md="x"===qb?"x2":"y2";var pc=Tc(k[md]);if(cb(db.bin)&&pc){var hd=Ia(db,{expr:ra});pc=Ia(pc,{expr:ra});const {format:sd,formatType:yd}=oc(db);hd=vb(hd,pc,sd,yd,d);la[md]=
!0}else if(I&&I.fieldChannel===qb&&"normalize"===I.offset){const {format:sd,formatType:yd}=oc(db);hd=Qf({fieldOrDatumDef:db,format:sd,formatType:yd,expr:ra,config:d,normalizeStack:!0}).signal}}null!==(Eb=hd)&&void 0!==Eb?Eb:hd=th(db,d,ra).signal;Ca.push({channel:qb,key:Kb,value:hd})}({reactiveGeom:u}=void 0===u?{}:u);const la={},ra=u?"datum.datum":"datum",Ca=[];Na(k,(db,qb)=>{kd(db)?M(db,qb):od(db)&&M(db.condition,qb)});u={};for(const db of Ca){const {channel:qb,key:Eb,value:Kb}=db;la[qb]||u[Eb]||
(u[Eb]=Kb)}return u}function oj(k,I,d,u){({reactiveGeom:u}=void 0===u?{}:u);k=Ii(k,I,d,{reactiveGeom:u});k=Qh(k).map(M=>{var [la,ra]=M;return'"'.concat(la,'": ').concat(ra)});return 0<k.length?{signal:"{".concat(k.join(", "),"}")}:void 0}function gk(k){const {markDef:I,config:d}=k,u=zc("aria",I,d);return!1===u?{}:Object.assign({},u?{aria:u}:{},hk(k),il(k))}function hk(k){const {mark:I,markDef:d,config:u}=k;if(!1===u.aria)return{};k=zc("ariaRoleDescription",d,u);return null!=k?{ariaRoleDescription:{value:k}}:
I in fl?{}:{ariaRoleDescription:{value:I}}}function il(k){const {encoding:I,markDef:d,config:u,stack:M}=k;var la=I.description;if(la)return $h(k,la,"description",ra=>th(ra,k.config));la=zc("description",d,u);if(null!=la)return{description:kc(la)};if(!1===u.aria)return{};la=Ii(I,M,u);if(!L(la))return{description:{signal:Qh(la).map((ra,Ca)=>{var [db,qb]=ra;return'"'.concat(0<Ca?"; ":"").concat(db,': " + (').concat(qb,")")}).join(" + ")}}}function Kg(k,I,d){d=void 0===d?{}:d;const {markDef:u,encoding:M,
config:la}=I,{vgChannel:ra}=d;let {defaultRef:Ca,defaultValue:db}=d;if(void 0===Ca){var qb;null!==(qb=db)&&void 0!==qb?qb:db=zc(k,u,la,{vgChannel:ra,ignoreVgConfig:!0});void 0!==db&&(Ca=kc(db))}return $h(I,M[k],null!==ra&&void 0!==ra?ra:k,Eb=>re({channel:k,channelDef:Eb,markDef:u,config:la,scaleName:I.scaleName(k),scale:I.getScaleComponent(k),stack:null,defaultRef:Ca}))}function tj(k,I){I=void 0===I?{filled:void 0}:I;var d,u,M,la;const {markDef:ra,encoding:Ca,config:db}=k,{type:qb}=ra;I=null!==(d=
I.filled)&&void 0!==d?d:zc("filled",ra,db);d=c(["bar","point","circle","square","geoshape"],qb)?"transparent":void 0;d=null!==(u=null!==(M=zc(!0===I?"color":void 0,ra,db,{vgChannel:"fill"}))&&void 0!==M?M:db.mark[!0===I&&"color"])&&void 0!==u?u:d;u=null!==(la=zc(!1===I?"color":void 0,ra,db,{vgChannel:"stroke"}))&&void 0!==la?la:db.mark[!1===I&&"color"];la=I?"fill":"stroke";M=Object.assign({},d?{fill:kc(d)}:{},u?{stroke:kc(u)}:{});ra.color&&(I?ra.fill:ra.stroke)&&Fb(ac("property",{fill:"fill"in ra,
stroke:"stroke"in ra}));return Object.assign({},M,Kg("color",k,{vgChannel:la,defaultValue:I?d:u}),Kg("fill",k,{defaultValue:Ca.fill?d:void 0}),Kg("stroke",k,{defaultValue:Ca.stroke?u:void 0}))}function sk(k){const {encoding:I,mark:d}=k,u=I.order;return!Qd(d)&&zf(u)?$h(k,u,"zindex",M=>kc(M.value)):{}}function ci(k,I){k=ua(k);if(I=I[k])return I}function Lg(k,I,d){var {defaultPos:u,vgChannel:M}=d;const {encoding:la,markDef:ra,config:Ca,stack:db}=I;d=la[k];const qb=la[Wa(k)],Eb=I.scaleName(k),Kb=I.getScaleComponent(k),
pc=ci(k,ra),hd=Pj({model:I,defaultPos:u,channel:k,scaleName:Eb,scale:Kb});if(!d&&k in Zg&&(la.latitude||la.longitude))I={field:I.getName(k)};else a:{I={channel:k,channelDef:d,channel2Def:qb,markDef:ra,config:Ca,scaleName:Eb,scale:Kb,stack:db,offset:pc,defaultRef:hd};const {channel:md,channelDef:sd,scaleName:yd,stack:Ad,offset:ue,markDef:Fe}=I;if(ce(sd)&&Ad&&md===Ad.fieldChannel){if(kd(sd)&&(I=sd.bandPosition,void 0!==I||"text"!==Fe.type||"radius"!==md&&"theta"!==md||(I=.5),void 0!==I)){I=De({scaleName:yd,
fieldOrDatumDef:sd,startSuffix:"start",bandPosition:I,offset:ue});break a}I=hc(sd,yd,{suffix:"end"},{offset:ue})}else I=Jc(I)}return I?{[M||k]:I}:void 0}function Pj(k){var {model:I,defaultPos:d,channel:u,scaleName:M,scale:la}=k;const {markDef:ra,config:Ca}=I;return()=>{var db=sa(u),qb=Ta(u);qb=zc(u,ra,Ca,{vgChannel:qb});if(void 0!==qb)return gf(u,qb);switch(d){case "zeroOrMin":case "zeroOrMax":if(M&&(qb=la.get("type"),!c([Dg.LOG,Dg.TIME,Dg.UTC],qb)&&la.domainDefinitelyIncludesZero()))return{scale:M,
value:0};if("zeroOrMin"===d)return"y"===db?{field:{group:"height"}}:{value:0};switch(db){case "radius":return{signal:"min(".concat(I.width.signal,",").concat(I.height.signal,")/2")};case "theta":return{signal:"2*PI"};case "x":return{field:{group:"width"}};case "y":return{value:0}}break;case "mid":return db=I[Ea(u)],Object.assign({},db,{mult:.5})}}}function Qj(k,I,d,u){u=void 0===u?"middle":u;if("radius"===k||"theta"===k)return Ta(k);var M="x"===k?"align":"baseline";I=zc(M,I,d);Ma(I)?(Fb("The ".concat(M,
" for range marks cannot be an expression")),M=void 0):M=I;return"x"===k?Um[M||("top"===u?"left":"center")]:Vm[M||u]}function ui(k,I,d){var {defaultPos:u,defaultPos2:M,range:la}=d;return la?mg(k,I,{defaultPos:u,defaultPos2:M}):Lg(k,I,{defaultPos:u})}function mg(k,I,d){var {defaultPos:u,defaultPos2:M}=d;const {markDef:la,config:ra}=I;var Ca=Wa(k);d=Ea(k);{const {encoding:ke,mark:df,markDef:Ye,stack:hg,config:qe}=I;var db=sa(Ca);const Lf=Ea(Ca),ig=Ta(Ca);var qb=ke[db];const Bg=I.scaleName(db),$f=I.getScaleComponent(db);
db=Ca in ke||Ca in Ye?ci(Ca,I.markDef):ci(db,I.markDef);if(qb||"x2"!==Ca&&"y2"!==Ca||!ke.latitude&&!ke.longitude){var {channel:Eb,channelDef:Kb,channel2Def:pc,markDef:hd,config:md,scaleName:sd,scale:yd,stack:Ad,offset:ue,defaultRef:Fe}={channel:Ca,channelDef:qb,channel2Def:ke[Ca],markDef:Ye,config:qe,scaleName:Bg,scale:$f,stack:hg,offset:db,defaultRef:void 0};qb=ce(Kb)&&Ad&&Eb.charAt(0)===Ad.fieldChannel.charAt(0)?hc(Kb,sd,{suffix:"start"},{offset:ue}):Jc({channel:Eb,channelDef:pc,scaleName:sd,scale:yd,
stack:Ad,markDef:hd,config:md,offset:ue,defaultRef:Fe});Ca=void 0!==qb?{[ig]:qb}:Ti(Ca,Ye)||Ti(Ca,{[Ca]:Vc(Ca,Ye,qe.style),[Lf]:Vc(Lf,Ye,qe.style)})||Ti(Ca,qe[df])||Ti(Ca,qe.mark)||{[ig]:Pj({model:I,defaultPos:M,channel:Ca,scaleName:Bg,scale:$f})()}}else Ca={[ig]:{field:I.getName(Ca)}}}d=Ca[d]?Qj(k,la,ra):Ta(k);return Object.assign({},Lg(k,I,{defaultPos:u,vgChannel:d}),Ca)}function Ti(k,I){const d=Ea(k),u=Ta(k);if(void 0!==I[u])return{[u]:gf(k,I[u])};if(void 0!==I[k])return{[u]:gf(k,I[k])};if(I[d])if(I=
I[d],Yf(I))Fb("Position range does not support relative band size for ".concat(d,"."));else return{[d]:gf(k,I)}}function ph(k,I,d){var u,M;const {config:la,encoding:ra,markDef:Ca}=k;var db=Wa(I),qb=Ea(I),Eb=ra[I];db=ra[db];var Kb=k.getScaleComponent(I);const pc=Kb?Kb.get("type"):void 0;var hd=k.scaleName(I);const md=Ca.orient;qb=null!==(u=null!==(M=ra[qb])&&void 0!==M?M:ra.size)&&void 0!==u?u:zc("size",Ca,la,{vgChannel:qb});d="bar"===d&&("x"===I?"vertical"===md:"horizontal"===md);if(!kd(Eb)||!(Oa(Eb.bin)||
cb(Eb.bin)||Eb.timeUnit&&!db)||qb&&!Yf(qb)||pc in Pg){if((ce(Eb)&&pc in Pg||d)&&!db){{const {markDef:$f,encoding:kg,config:Vj,stack:Wk}=k;Kb=$f.orient;hd=k.scaleName(I);var sd=k.getScaleComponent(I),yd=Ea(I);db=Wa(I);Kb="horizontal"===Kb&&"y"===I||"vertical"===Kb&&"x"===I;var Ad;if(kg.size||$f.size)Kb?Ad=Kg("size",k,{vgChannel:yd,defaultRef:kc($f.size)}):Fb('Cannot apply size to non-oriented mark "'.concat($f.type,'".'));u=Ld({channel:I,fieldDef:Eb,markDef:$f,config:Vj,scaleType:null===sd||void 0===
sd?void 0:sd.get("type"),useVlSizeChannel:Kb});Ad=Ad||{[yd]:Ui(yd,hd,sd,Vj,u)};Kb="band"===(null===sd||void 0===sd?void 0:sd.get("type"))&&"band"in Ad[yd]?"top":"middle";Kb=Qj(I,$f,Vj,Kb);M="xc"===Kb||"yc"===Kb;d=ci(I,$f);I=Jc({channel:I,channelDef:Eb,markDef:$f,config:Vj,scaleName:hd,scale:sd,stack:Wk,offset:d,defaultRef:Pj({model:k,defaultPos:"mid",channel:I,scaleName:hd,scale:sd}),bandPosition:M?.5:Ma(u)?{signal:"(1-".concat(u,")/2")}:Yf(u)?(1-u.band)/2:0});yd?I=Object.assign({},{[Kb]:I},Ad):(Eb=
Ta(db),Ad=Ad[yd],Ad=d?Object.assign({},Ad,{offset:d}):Ad,I={[Kb]:I,[Eb]:n.isArray(I)?[I[0],Object.assign({},I[1],{offset:Ad})]:Object.assign({},I,{offset:Ad})})}return I}return mg(I,k,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}Ad=Ld({channel:I,fieldDef:Eb,markDef:Ca,config:la,scaleType:pc});k=null===(sd=k.component.axes[I])||void 0===sd?void 0:sd[0];k=null!==(yd=null===k||void 0===k?void 0:k.get("translate"))&&void 0!==yd?yd:.5;a:{I={fieldDef:Eb,fieldDef2:db,channel:I,markDef:Ca,scaleName:hd,
bandSize:Ad,axisTranslate:k,spacing:I in Zg?zc("binSpacing",Ca,la):void 0,reverse:Kb.get("reverse"),config:la};var {fieldDef:ue,fieldDef2:Fe,channel:ke,bandSize:df,scaleName:Ye,markDef:hg,spacing:qe=0,axisTranslate:Lf,reverse:ig,config:Bg}=I;I=Wa(ke);Eb=Ta(ke);Ad=Ta(I);k=ci(ke,hg);yd=Ma(df)?{signal:"(1-".concat(df.signal,")/2")}:Yf(df)?(1-df.band)/2:.5;if(Oa(ue.bin)||ue.timeUnit)I={[Ad]:Cg({channel:ke,fieldDef:ue,scaleName:Ye,markDef:hg,bandPosition:yd,offset:eg(I,qe,ig,Lf,k),config:Bg}),[Eb]:Cg({channel:ke,
fieldDef:ue,scaleName:Ye,markDef:hg,bandPosition:Ma(yd)?{signal:"1-".concat(yd.signal)}:1-yd,offset:eg(ke,qe,ig,Lf,k),config:Bg})};else{if(cb(ue.bin)){yd=hc(ue,Ye,{},{offset:eg(I,qe,ig,Lf,k)});if(kd(Fe)){I={[Ad]:yd,[Eb]:hc(Fe,Ye,{},{offset:eg(ke,qe,ig,Lf,k)})};break a}if(n.isObject(ue.bin)&&ue.bin.step){I={[Ad]:yd,[Eb]:{signal:'scale("'.concat(Ye,'", ').concat(Ia(ue,{expr:"datum"})," + ").concat(ue.bin.step,")"),offset:eg(ke,qe,ig,Lf,k)}};break a}}Fb(Xc(I));I=void 0}}return I}function Ui(k,I,d,u,
M){if(Yf(M))if(d){const la=d.get("type");if("band"===la)return{scale:I,band:M.band};1!==M.band&&Fb("Cannot use the relative band size with ".concat(la," scale."))}else return{mult:M.band,field:{group:k}};else{if(Ma(M))return M;if(M)return{value:M}}return d&&(I=d.get("range"),nb(I)&&n.isNumber(I.step))?{value:I.step-2}:{value:cf(u.view,k)-2}}function eg(k,I,d,u,M){if(k in xg)return 0;k="x"===k||"y2"===k?-I/2:I/2;if(Ma(d)||Ma(M)||Ma(u))return d=$b(d),M=$b(M),u=(u=$b(u))?"".concat(u," + "):"",d=d?"(".concat(d,
" ? -1 : 1) * "):"",k=M?"(".concat(M," + ").concat(k,")"):k,{signal:u+d+k};M=M||0;return u+(d?-M-k:+M+k)}function Cg(k){var {channel:I,fieldDef:d,scaleName:u,markDef:M,bandPosition:la,offset:ra,config:Ca}=k;k=De({scaleName:u,fieldOrDatumDef:d,bandPosition:la,offset:ra});return xe({fieldDef:d,channel:I,markDef:M,ref:k,config:Ca})}function ah(k,I){const {fill:d,stroke:u}="include"===I.color?tj(k):{};return Object.assign({},Th(k.markDef,I),vi(k,"fill",d),vi(k,"stroke",u),Kg("opacity",k),Kg("fillOpacity",
k),Kg("strokeOpacity",k),Kg("strokeWidth",k),Kg("strokeDash",k),sk(k),$i(k),rk(k,"href"),gk(k))}function vi(k,I,d){const {config:u,mark:M,markDef:la}=k;return"hide"===zc("invalid",la,u)&&d&&!Qd(M)&&(k=bk(k,{invalid:!0,channels:Qk}))?{[I]:[{test:k,value:null},...n.array(d)]}:d?{[I]:d}:{}}function Th(k,I){return qj.reduce((d,u)=>{Wm.has(u)||void 0===k[u]||"ignore"===I[u]||(d[u]=kc(k[u]));return d},{})}function bk(k,I){var {invalid:d=!1,channels:u}=I;I=u.reduce((M,la)=>{var ra=k.getScaleComponent(la);
ra&&(ra=ra.get("type"),(la=k.vgField(la,{expr:"datum"}))&&ra in Jg&&(M[la]=!0));return M},{});I=Md(I);if(0<I.length){const M=d?"||":"\x26\x26";return I.map(la=>je(la,d)).join(" ".concat(M," "))}}function hj(k){const {config:I,markDef:d}=k;return zc("invalid",d,I)&&(k=ak(k,{channels:ti}))?{defined:{signal:k}}:{}}function ak(k,I){var {invalid:d=!1,channels:u}=I;I=u.reduce((M,la)=>{var ra=k.getScaleComponent(la);ra&&(ra=ra.get("type"),(la=k.vgField(la,{expr:"datum"}))&&ra in Jg&&(M[la]=!0));return M},
{});I=Md(I);if(0<I.length){const M=d?"||":"\x26\x26";return I.map(la=>je(la,d)).join(" ".concat(M," "))}}function Zj(k,I){if(void 0!==I)return{[k]:kc(I)}}function rg(k,I,d,u,M){var la,ra,Ca=I.name,db=Ca+"_translate_anchor";Ca+="_translate_delta";var qb=d.channel;const Eb=Wj.defined(I);I=M.filter(pc=>pc.name===d.signals[Eb?"data":"visual"])[0];u=k.getSizeSignalRef(u).signal;k=k.getScaleComponent(qb);M=k.get("type");var Kb=k.get("reverse");Kb=Eb?"x"===qb?Kb?"":"-":Kb?"-":"":"";db="".concat(db,".extent_").concat(qb);
qb="".concat(Kb).concat(Ca,".").concat(qb," / ").concat(Eb?"".concat(u):"span(".concat(db,")"));Kb=Eb?"log"===M?"panLog":"symlog"===M?"panSymlog":"pow"===M?"panPow":"panLinear":"panLinear";k=Eb?"pow"===M?", ".concat(null!==(la=k.get("exponent"))&&void 0!==la?la:1):"symlog"===M?", ".concat(null!==(ra=k.get("constant"))&&void 0!==ra?ra:1):"":"";la="".concat(Kb,"(").concat(db,", ").concat(qb).concat(k,")");I.on.push({events:{signal:Ca},update:Eb?la:"clampRange(".concat(la,", 0, ").concat(u,")")})}function Rj(k,
I,d,u,M){var la,ra,Ca=I.name,db=d.channel;const qb=Wj.defined(I);I=M.filter(pc=>pc.name===d.signals[qb?"data":"visual"])[0];u=k.getSizeSignalRef(u).signal;M=k.getScaleComponent(db);const Eb=M.get("type"),Kb=qb?Qi(k,db):I.name;k=Ca+"_zoom_delta";Ca="".concat(Ca).concat("_zoom_anchor",".").concat(db);db=qb?"log"===Eb?"zoomLog":"symlog"===Eb?"zoomSymlog":"pow"===Eb?"zoomPow":"zoomLinear":"zoomLinear";M=qb?"pow"===Eb?", ".concat(null!==(la=M.get("exponent"))&&void 0!==la?la:1):"symlog"===Eb?", ".concat(null!==
(ra=M.get("constant"))&&void 0!==ra?ra:1):"":"";la="".concat(db,"(").concat(Kb,", ").concat(Ca,", ").concat(k).concat(M,")");I.on.push({events:{signal:k},update:qb?la:"clampRange(".concat(la,", 0, ").concat(u,")")})}function $g(k,I){({escape:I}=void 0===I?{escape:!0}:I);I=I?n.stringValue(k.name):k.name;for(k=k.parent;k&&!Ph(k);)k=k.parent;if(k){const {facet:d}=k;for(const u of ch)d[u]&&(I+=" + '__facet_".concat(u,"_' + (facet[").concat(n.stringValue(k.vgField(u)),"])"))}return I}function Ji(k){var I;
return wg(null!==(I=k.component.selection)&&void 0!==I?I:{}).reduce((d,u)=>d||u.project.items.some(M=>"_vgsid_"===M.field),!1)}function ug(k,I){!F.isString(I.select)&&I.select.on||delete k.events;!F.isString(I.select)&&I.select.clear||delete k.clear;!F.isString(I.select)&&I.select.toggle||delete k.toggle}function Hg(k){this.type=k}function vh(k){switch(k.type){case "ArrayExpression":return k.elements;case "BinaryExpression":case "LogicalExpression":return[k.left,k.right];case "CallExpression":return[k.callee].concat(k.arguments);
case "ConditionalExpression":return[k.test,k.consequent,k.alternate];case "MemberExpression":return[k.object,k.property];case "ObjectExpression":return k.properties;case "Property":return[k.key,k.value];case "UnaryExpression":return[k.argument];default:return[]}}function Vh(k,I){if(!k)throw Error("ASSERT: "+I);}function qh(k){return 48<=k&&57>=k}function fi(k){return 0<="0123456789abcdefABCDEF".indexOf(k)}function vf(k){return 0<="01234567".indexOf(k)}function Wf(k){return 10===k||13===k||8232===
k||8233===k}function sg(k){return 36===k||95===k||65<=k&&90>=k||97<=k&&122>=k||92===k||128<=k&&Xm.test(String.fromCharCode(k))}function wi(k){return 36===k||95===k||65<=k&&90>=k||97<=k&&122>=k||48<=k&&57>=k||92===k||128<=k&&Ym.test(String.fromCharCode(k))}function xi(){for(;xd<uh;){const k=Me.charCodeAt(xd);if(32===k||9===k||11===k||12===k||160===k||5760<=k&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(k)||Wf(k))++xd;else break}}function Xg(k){var I=
0;var d="u"===k?4:2;for(k=0;k<d;++k)if(xd<uh&&fi(Me[xd])){var u=Me[xd++];I=16*I+"0123456789abcdef".indexOf(u.toLowerCase())}else Df({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(I)}function Ei(){var k=Me.charCodeAt(xd++);var I=String.fromCharCode(k);92===k&&(117!==Me.charCodeAt(xd)&&Df({},"Unexpected token %0","ILLEGAL"),++xd,(k=Xg("u"))&&"\\"!==k&&sg(k.charCodeAt(0))||Df({},"Unexpected token %0","ILLEGAL"),I=k);for(;xd<uh;){k=Me.charCodeAt(xd);if(!wi(k))break;++xd;I+=String.fromCharCode(k);
92===k&&(I=I.substr(0,I.length-1),117!==Me.charCodeAt(xd)&&Df({},"Unexpected token %0","ILLEGAL"),++xd,(k=Xg("u"))&&"\\"!==k&&wi(k.charCodeAt(0))||Df({},"Unexpected token %0","ILLEGAL"),I+=k)}return I}function Nj(){var k=xd,I=Me.charCodeAt(xd),d=Me[xd];switch(I){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++xd,{type:7,value:String.fromCharCode(I),start:k,end:xd};default:var u=Me.charCodeAt(xd+1);if(61===u)switch(I){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return xd+=
2,{type:7,value:String.fromCharCode(I)+String.fromCharCode(u),start:k,end:xd};case 33:case 61:return xd+=2,61===Me.charCodeAt(xd)&&++xd,{type:7,value:Me.slice(k,xd),start:k,end:xd}}}I=Me.substr(xd,4);if("\x3e\x3e\x3e\x3d"===I)return xd+=4,{type:7,value:I,start:k,end:xd};I=I.substr(0,3);if("\x3e\x3e\x3e"===I||"\x3c\x3c\x3d"===I||"\x3e\x3e\x3d"===I)return xd+=3,{type:7,value:I,start:k,end:xd};I=I.substr(0,2);if(d===I[1]&&0<="+-\x3c\x3e\x26|".indexOf(d)||"\x3d\x3e"===I)return xd+=2,{type:7,value:I,start:k,
end:xd};"//"===I&&Df({},"Unexpected token %0","ILLEGAL");if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(d))return++xd,{type:7,value:d,start:k,end:xd};Df({},"Unexpected token %0","ILLEGAL")}function Oj(){var k=Me[xd];Vh(qh(k.charCodeAt(0))||"."===k,"Numeric literal must start with a decimal digit or a decimal point");var I=xd;var d="";if("."!==k){d=Me[xd++];k=Me[xd];if("0"===d){if("x"===k||"X"===k){++xd;for(d="";xd<uh&&fi(Me[xd]);)d+=Me[xd++];0===d.length&&Df({},"Unexpected token %0","ILLEGAL");sg(Me.charCodeAt(xd))&&
Df({},"Unexpected token %0","ILLEGAL");return I={type:6,value:parseInt("0x"+d,16),start:I,end:xd}}if(vf(k)){for(d="0"+Me[xd++];xd<uh&&vf(Me[xd]);)d+=Me[xd++];(sg(Me.charCodeAt(xd))||qh(Me.charCodeAt(xd)))&&Df({},"Unexpected token %0","ILLEGAL");return I={type:6,value:parseInt(d,8),octal:!0,start:I,end:xd}}k&&qh(k.charCodeAt(0))&&Df({},"Unexpected token %0","ILLEGAL")}for(;qh(Me.charCodeAt(xd));)d+=Me[xd++];k=Me[xd]}if("."===k){for(d+=Me[xd++];qh(Me.charCodeAt(xd));)d+=Me[xd++];k=Me[xd]}if("e"===k||
"E"===k){d+=Me[xd++];k=Me[xd];if("+"===k||"-"===k)d+=Me[xd++];if(qh(Me.charCodeAt(xd)))for(;qh(Me.charCodeAt(xd));)d+=Me[xd++];else Df({},"Unexpected token %0","ILLEGAL")}sg(Me.charCodeAt(xd))&&Df({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(d),start:I,end:xd}}function Si(k,I){let d=k;0<=I.indexOf("u")&&(d=d.replace(/\\u\{([0-9a-fA-F]+)\}/g,(u,M)=>{if(1114111>=parseInt(M,16))return"x";Df({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(d)}catch(u){Df({},
"Invalid regular expression")}try{return new RegExp(k,I)}catch(u){return null}}function yg(){xi();if(xd>=uh)return{type:2,start:xd,end:xd};var k=Me.charCodeAt(xd);if(sg(k)){k=xd;if(92===Me.charCodeAt(xd))var I=Ei();else a:{for(I=xd++;xd<uh;){var d=Me.charCodeAt(xd);if(92===d){xd=I;I=Ei();break a}if(wi(d))++xd;else break}I=Me.slice(I,xd)}return{type:1===I.length?3:Zm.hasOwnProperty(I)?4:"null"===I?5:"true"===I||"false"===I?1:3,value:I,start:k,end:xd}}if(40===k||41===k||59===k)return Nj();if(39===k||
34===k){var u="";d=!1;k=Me[xd];Vh("'"===k||'"'===k,"String literal must starts with a quote");I=xd;for(++xd;xd<uh;){var M=Me[xd++];if(M===k){k="";break}else if("\\"===M)if((M=Me[xd++])&&Wf(M.charCodeAt(0)))"\r"===M&&"\n"===Me[xd]&&++xd;else switch(M){case "u":case "x":if("{"===Me[xd]){++xd;var la=Me[xd];M=0;for("}"===la&&Df({},"Unexpected token %0","ILLEGAL");xd<uh;){la=Me[xd++];if(!fi(la))break;M=16*M+"0123456789abcdef".indexOf(la.toLowerCase())}(1114111<M||"}"!==la)&&Df({},"Unexpected token %0",
"ILLEGAL");M=65535>=M?String.fromCharCode(M):String.fromCharCode((M-65536>>10)+55296,(M-65536&1023)+56320);u+=M}else u+=Xg(M);break;case "n":u+="\n";break;case "r":u+="\r";break;case "t":u+="\t";break;case "b":u+="\b";break;case "f":u+="\f";break;case "v":u+="\x0B";break;default:vf(M)?(la="01234567".indexOf(M),0!==la&&(d=!0),xd<uh&&vf(Me[xd])&&(d=!0,la=8*la+"01234567".indexOf(Me[xd++]),0<="0123".indexOf(M)&&xd<uh&&vf(Me[xd])&&(la=8*la+"01234567".indexOf(Me[xd++]))),u+=String.fromCharCode(la)):u+=
M}else if(Wf(M.charCodeAt(0)))break;else u+=M}""!==k&&Df({},"Unexpected token %0","ILLEGAL");return{type:8,value:u,octal:d,start:I,end:xd}}return 46===k?qh(Me.charCodeAt(xd+1))?Oj():Nj():qh(k)?Oj():Nj()}function Gg(){const k=gg;xd=k.end;gg=yg();xd=k.end;return k}function Wg(){const k=xd;gg=yg();xd=k}function yj(k,I,d){const u=new Hg("||"===k||"\x26\x26"===k?"LogicalExpression":"BinaryExpression");u.operator=k;u.left=I;u.right=d;return u}function pj(k){const I=new Hg("Identifier");I.name=k;return I}
function hh(k){const I=new Hg("Literal");I.value=k.value;I.raw=Me.slice(k.start,k.end);k.regex&&("//"===I.raw&&(I.raw="/(?:)/"),I.regex=k.regex);return I}function Ij(k,I,d){const u=new Hg("MemberExpression");u.computed="["===k;u.object=I;u.property=d;u.computed||(d.member=!0);return u}function gi(k,I,d){const u=new Hg("Property");u.key=I;u.value=d;u.kind=k;return u}function Df(k,I){var d=Array.prototype.slice.call(arguments,2),u=I.replace(/%(\d)/g,(la,ra)=>{Vh(ra<d.length,"Message reference must be in range");
return d[ra]});var M=Error(u);M.index=xd;M.description=u;throw M;}function hi(k){2===k.type&&Df(k,"Unexpected end of input");6===k.type&&Df(k,"Unexpected number");8===k.type&&Df(k,"Unexpected string");3===k.type&&Df(k,"Unexpected identifier");4===k.type&&Df(k,"Unexpected reserved word");Df(k,"Unexpected token %0",k.value)}function vg(k){const I=Gg();7===I.type&&I.value===k||hi(I)}function Ef(k){return 7===gg.type&&gg.value===k}function Kh(){xd=gg.start;const k=Gg();return 8===k.type||6===k.type?(k.octal&&
Df(k,"Octal literals are not allowed in strict mode."),hh(k)):pj(k.value)}function wh(){if(Ef("(")){vg("(");var k=yi();vg(")");return k}if(Ef("[")){k=[];xd=gg.start;for(vg("[");!Ef("]");)Ef(",")?(Gg(),k.push(null)):(k.push(Fh()),Ef("]")||vg(","));Gg();var I=new Hg("ArrayExpression");I.elements=k;return k=I}if(Ef("{")){k=[];I={};var d=String;xd=gg.start;for(vg("{");!Ef("}");){xd=gg.start;var u=gg;if(3===u.type){var M=Kh();vg(":");u=Fh();u=gi("init",M,u)}else 2===u.type||7===u.type?(hi(u),u=void 0):
(M=Kh(),vg(":"),u=Fh(),u=gi("init",M,u));M="Identifier"===u.key.type?u.key.name:d(u.key.value);M="$"+M;Object.prototype.hasOwnProperty.call(I,M)?Df({},"Duplicate data property in object literal not allowed in strict mode"):I[M]=!0;k.push(u);Ef("}")||vg(",")}vg("}");I=new Hg("ObjectExpression");I.properties=k;return k=I}k=gg.type;xd=gg.start;if(3===k||$m[gg.value])I=pj(Gg().value);else if(8===k||6===k)gg.octal&&Df(gg,"Octal literals are not allowed in strict mode."),I=hh(Gg());else{if(4===k)throw Error("Disabled.");
if(1===k)k=Gg(),k.value="true"===k.value,I=hh(k);else if(5===k)k=Gg(),k.value=null,I=hh(k);else if(Ef("/")||Ef("/\x3d")){var la;gg=null;xi();k=xd;I=Me[xd];Vh("/"===I,"Regular expression literal must start with a slash");d=Me[xd++];for(M=u=!1;xd<uh;)if(I=Me[xd++],d+=I,"\\"===I)I=Me[xd++],Wf(I.charCodeAt(0))&&Df({},"Invalid regular expression: missing /"),d+=I;else if(Wf(I.charCodeAt(0)))Df({},"Invalid regular expression: missing /");else if(u)"]"===I&&(u=!1);else if("/"===I){M=!0;break}else"["===I&&
(u=!0);M||Df({},"Invalid regular expression: missing /");I=d.substr(1,d.length-2);for(la=M="";xd<uh;){u=Me[xd];if(!wi(u.charCodeAt(0)))break;++xd;"\\"===u&&xd<uh?Df({},"Unexpected token %0","ILLEGAL"):(la+=u,M+=u)}0<=la.search(/[^gimuy]/g)&&Df({},"Invalid regular expression",la);u=la;la=Si(I,u);I=hh({literal:d+M,value:la,regex:{pattern:I,flags:u},start:k,end:xd});Wg()}else hi(Gg())}return I}function Oh(){var k;for(k=wh();;)if(Ef(".")){vg(".");xd=gg.start;var I=Gg();3===I.type||4===I.type||1===I.type||
5===I.type||hi(I);I=pj(I.value);k=Ij(".",k,I)}else if(Ef("(")){I=[];vg("(");if(!Ef(")"))for(;xd<uh;){I.push(Fh());if(Ef(")"))break;vg(",")}vg(")");{const d=new Hg("CallExpression");d.callee=k;d.arguments=I;k=d}}else if(Ef("["))vg("["),I=yi(),vg("]"),k=Ij("[",k,I);else break;if(7===gg.type&&(Ef("++")||Ef("--")))throw Error("Disabled.");return k}function Lh(){if(7!==gg.type&&4!==gg.type)var k=Oh();else{if(Ef("++")||Ef("--"))throw Error("Disabled.");if(Ef("+")||Ef("-")||Ef("~")||Ef("!")){var I=Gg();
k=Lh();{I=I.value;const d=new Hg("UnaryExpression");d.operator=I;d.argument=k;d.prefix=!0;k=d}}else{if(4===gg.type&&"delete"===gg.value||4===gg.type&&"void"===gg.value||4===gg.type&&"typeof"===gg.value)throw Error("Disabled.");k=Oh()}}return k}function Ci(k){let I=0;if(7!==k.type&&4!==k.type)return 0;switch(k.value){case "||":I=1;break;case "\x26\x26":I=2;break;case "|":I=3;break;case "^":I=4;break;case "\x26":I=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":I=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":I=
7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":I=8;break;case "+":case "-":I=9;break;case "*":case "/":case "%":I=11}return I}function Fh(){var k=gg;var I=Lh();var d=gg;var u=Ci(d);if(0===u)var M=I;else{d.prec=u;Gg();k=[k,gg];var la=Lh();for(M=[I,d,la];0<(u=Ci(gg));){for(;2<M.length&&u<=M[M.length-2].prec;)la=M.pop(),d=M.pop().value,I=M.pop(),k.pop(),I=yj(d,I,la),M.push(I);d=Gg();d.prec=u;M.push(d);k.push(gg);I=Lh();M.push(I)}u=M.length-1;I=M[u];for(k.pop();1<u;)k.pop(),I=yj(M[u-1].value,
M[u-2],I),u-=2;M=I}Ef("?")&&(Gg(),k=Fh(),vg(":"),u=Fh(),I=new Hg("ConditionalExpression"),I.test=M,I.consequent=k,I.alternate=u,M=I);return M}function yi(){const k=Fh();if(Ef(","))throw Error("Disabled.");return k}function ii(k){Me=k;xd=0;uh=Me.length;gg=null;Wg();k=yi();if(2!==gg.type)throw Error("Unexpect token after expression.");return k}function Vi(k){const I=[];if("Identifier"===k.type)return[k.name];if("Literal"===k.type)return[k.value];"MemberExpression"===k.type&&(I.push(...Vi(k.object)),
I.push(...Vi(k.property)));return I}function zi(k){return"MemberExpression"===k.object.type?zi(k.object):"datum"===k.object.name}function Se(k){k=ii(k);const I=new Set;k.visit(d=>{"MemberExpression"===d.type&&zi(d)&&I.add(Vi(d).slice(1).join("."))});return I}function zj(k,I,d,u){u=void 0===u?"datum":u;const M=n.isString(I)?I:I.param,la=z(M);var ra=n.stringValue(la+"_store");let Ca;try{Ca=k.getSelectionComponent(la,M)}catch(db){return"!!".concat(la)}Ca.project.timeUnit&&(k=null!==d&&void 0!==d?d:k.component.data.raw,
d=Ca.project.timeUnit.clone(),k.parent?d.insertAsParentOf(k):k.parent=d);u="vlSelectionTest(".concat(ra,", ").concat(u)+("global"===Ca.resolve?")":", ".concat(n.stringValue(Ca.resolve),")"));ra="length(data(".concat(ra,"))");return!1===I.empty?"".concat(ra," \x26\x26 ").concat(u):"!".concat(ra," || ").concat(u)}function jh(k,I,d){const u=z(I),M=d.encoding;let la=d.field,ra;try{ra=k.getSelectionComponent(u,I)}catch(Ca){return u}M||la?M&&!la&&(k=ra.project.items.filter(Ca=>Ca.channel===M),!k.length||
1<k.length?(la=ra.project.items[0].field,Fb((k.length?"Multiple ":"No ")+"matching ".concat(n.stringValue(M)," encoding found for selection ").concat(n.stringValue(d.param),". ")+'Using "field": '.concat(n.stringValue(la),"."))):la=k[0].field):(la=ra.project.items[0].field,1<ra.project.items.length&&Fb('A "field" or "encoding" must be specified when using a selection as a scale domain. '+'Using "field": '.concat(n.stringValue(la),".")));return"".concat(ra.name,"[").concat(n.stringValue(da(la)),"]")}
function ih(k,I,d){return J(I,u=>n.isString(u)?u:(null===u||void 0===u?0:u.param)?zj(k,u,d):ye(u))}function Mh(k,I){if(k)return n.isArray(k)&&!lb(k)?k.map(d=>oe(d,I)).join(", "):k}function Nh(k,I,d,u){var M,la,ra,Ca,db;null!==(M=k.encode)&&void 0!==M?M:k.encode={};null!==(ra=(la=k.encode)[I])&&void 0!==ra?ra:la[I]={};null!==(db=(Ca=k.encode[I]).update)&&void 0!==db?db:Ca.update={};k.encode[I].update[d]=u}function Wh(k,I,d,u){u=void 0===u?{header:!1}:u;var M=k.combine(),la=Object.assign({},M),ra=M.disable;
const Ca=M.orient,db=M.scale,qb=M.labelExpr,Eb=M.title;M=M.zindex;la=(delete la.disable,delete la.orient,delete la.scale,delete la.labelExpr,delete la.title,delete la.zindex,la);if(!ra){for(const md in la){var Kb=kf[md];ra=la[md];if(Kb&&Kb!==I&&"both"!==Kb)delete la[md];else if(Of(ra)){Kb=ra;ra=Object.assign({},Kb);Kb=Kb.condition;ra=(delete ra.condition,ra);Kb=n.array(Kb);const sd=Jd[md];if(sd){const {vgProp:yd,part:Ad}=sd;ra=[...Kb.map(ue=>{var Fe=Object.assign({},ue);ue=ue.test;Fe=(delete Fe.test,
Fe);return Object.assign({},{test:ih(null,ue)},Fe)}),ra];Nh(la,Ad,yd,ra);delete la[md]}else null===sd&&(ra={signal:Kb.map(yd=>{var Ad=Object.assign({},yd);yd=yd.test;Ad=(delete Ad.test,Ad);return"".concat(ih(null,yd)," ? ").concat(jb(Ad)," : ")}).join("")+jb(ra)},la[md]=ra)}else if(Ma(ra)&&(Kb=Jd[md])){const {vgProp:sd,part:yd}=Kb;Nh(la,yd,sd,ra);delete la[md]}c(["labelAlign","labelBaseline"],md)&&null===la[md]&&delete la[md]}if("grid"===I){if(la.grid)return la.encode&&({grid:d}=la.encode,la.encode=
Object.assign({},d?{grid:d}:{}),L(la.encode)&&delete la.encode),Object.assign({},{scale:db,orient:Ca},la,{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:r(M,0)})}else if(u.header||!k.mainExtracted){if(void 0!==qb){var pc,hd;I=qb;null!==(pc=la.encode)&&void 0!==pc&&null!==(hd=pc.labels)&&void 0!==hd&&hd.update&&Ma(la.encode.labels.update.text)&&(I=ja(qb,"datum.label",la.encode.labels.update.text.signal));Nh(la,"labels","text",{signal:I})}null===la.labelAlign&&delete la.labelAlign;
if(la.encode){for(const md of Ke)k.hasAxisPart(md)||delete la.encode[md];L(la.encode)&&delete la.encode}k=Mh(Eb,d);return Object.assign({},{scale:db,orient:Ca,grid:!1},k?{title:k}:{},la,!1===d.aria?{aria:!1}:{},{zindex:r(M,0)})}}}function ji(k){const {axes:I}=k.component,d=[];for(const u of ti)if(I[u])for(const M of I[u])if(!M.get("disable")&&!M.get("gridScale")){const la="x"===u?"height":"width",ra=k.getSizeSignalRef(la).signal;la!==ra&&d.push({name:la,update:ra})}return d}function Ai(k,I){const {x:d=
[],y:u=[]}=k;return[...d.map(M=>Wh(M,"grid",I)),...u.map(M=>Wh(M,"grid",I)),...d.map(M=>Wh(M,"main",I)),...u.map(M=>Wh(M,"main",I))].filter(M=>M)}function oi(k,I,d,u){return Object.assign.apply(null,[{},...k.map(M=>{if("axisOrient"===M){M="x"===d?"bottom":"left";const la=I["x"===d?"axisBottom":"axisLeft"]||{},ra=I["x"===d?"axisTop":"axisRight"]||{},Ca=new Set([...Md(la),...Md(ra)]),db={};for(const qb of Ca.values())db[qb]={signal:"".concat(u.signal,' \x3d\x3d\x3d "').concat(M,'" ? ').concat($b(la[qb]),
" : ").concat($b(ra[qb]))};return db}return I[M]})])}function xh(k,I,d,u){var M="band"===I?["axisDiscrete","axisBand"]:"point"===I?["axisDiscrete","axisPoint"]:I in ok?["axisQuantitative"]:"time"===I||"utc"===I?["axisTemporal"]:[];const la="x"===k?"axisX":"axisY";I=Ma(d)?"axisOrient":"axis".concat(R(d));M=[...M,...M.map(ra=>la+ra.substr(4))];I=["axis",I,la];return{vlOnlyAxisConfig:oi(M,u,k,d),vgAxisConfig:oi(I,u,k,d),axisConfigStyle:tg([...I,...M],u)}}function tg(k,I){const d=[{}];for(const M of k){var u;
if(k=null===(u=I[M])||void 0===u?void 0:u.style){k=n.array(k);for(const la of k)d.push(I.style[la])}}return Object.assign.apply(null,d)}function Bi(k,I,d,u){u=void 0===u?{}:u;I=Uc(k,d,I);if(void 0!==I)return{configFrom:"style",configValue:I};for(const la of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"]){var M;if(void 0!==(null===(M=u[la])||void 0===M?void 0:M[k]))return{configFrom:la,configValue:u[la][k]}}return{}}function yh(k,I,d,u,M){const la=null===I||void 0===I?void 0:I.labelAngle;if(void 0!==
la)return Ma(la)?la:va(la);({configValue:I}=Bi("labelAngle",u,null===I||void 0===I?void 0:I.style,M));if(void 0!==I)return va(I);if("x"===d&&c(["nominal","ordinal"],k.type)&&(!kd(k)||!k.timeUnit))return 270}function kj(k){return"(((".concat(k.signal," % 360) + 360) % 360)")}function Bj(k,I,d,u){if(void 0!==k)return"x"===d?Ma(k)?(u=kj(k),I=Ma(I)?"(".concat(I.signal,' \x3d\x3d\x3d "top")'):"top"===I,{signal:"(45 \x3c ".concat(u," \x26\x26 ").concat(u," \x3c 135) || (225 \x3c ").concat(u," \x26\x26 ").concat(u,
' \x3c 315) ? "middle" :')+"(".concat(u," \x3c\x3d 45 || 315 \x3c\x3d ").concat(u,") \x3d\x3d\x3d ").concat(I,' ? "bottom" : "top"')}):45<k&&135>k||225<k&&315>k?"middle":Ma(I)?(u=45>=k||315<=k?"\x3d\x3d\x3d":"!\x3d\x3d",{signal:"".concat(I.signal," ").concat(u,' "top" ? "bottom" : "top"')}):(45>=k||315<=k)===("top"===I)?"bottom":"top":Ma(k)?(k=kj(k),I=Ma(I)?"(".concat(I.signal,' \x3d\x3d\x3d "left")'):"left"===I,u=u?'"middle"':"null",{signal:"".concat(k," \x3c\x3d 45 || 315 \x3c\x3d ").concat(k," || (135 \x3c\x3d ").concat(k,
" \x26\x26 ").concat(k," \x3c\x3d 225) ? ").concat(u," : (45 \x3c\x3d ").concat(k," \x26\x26 ").concat(k," \x3c\x3d 135) \x3d\x3d\x3d ").concat(I,' ? "top" : "bottom"')}):45>=k||315<=k||135<=k&&225>=k?u?"middle":null:Ma(I)?(u=45<=k&&135>=k?"\x3d\x3d\x3d":"!\x3d\x3d",{signal:"".concat(I.signal," ").concat(u,' "left" ? "top" : "bottom"')}):(45<=k&&135>=k)===("left"===I)?"top":"bottom"}function zh(k,I,d){if(void 0!==k){var u=(d="x"===d)?0:90,M=d?"bottom":"left";return Ma(k)?(k=kj(k),I=Ma(I)?"(".concat(I.signal,
' \x3d\x3d\x3d "').concat(M,'")'):I===M,{signal:"(".concat(u?"(".concat(k," + 90)"):k," % 180 \x3d\x3d\x3d 0) ? ").concat(d?null:'"center"'," :")+"(".concat(u," \x3c ").concat(k," \x26\x26 ").concat(k," \x3c ").concat(180+u,") \x3d\x3d\x3d ").concat(I,' ? "left" : "right"')}):0===(k+u)%180?d?null:"center":Ma(I)?(d=u<k&&k<180+u?"\x3d\x3d\x3d":"!\x3d\x3d",I="".concat(I.signal," ").concat(d,' "').concat(M,'"'),{signal:"".concat(I,' ? "left" : "right"')}):(u<k&&k<180+u)===(I===M)?"left":"right"}}function li(k,
I){var d="x"===I?"x2":"y2";I=k.fieldDef(I);k=k.fieldDef(d);d=I?I.title:void 0;k=k?k.title:void 0;if(d&&k)return fe(d,k);if(d)return d;if(k)return k;if(void 0!==d)return d;if(void 0!==k)return k}function ki(k,I,d){return Ia(k,Object.assign({},{prefix:I,suffix:"sort_index"},null!==d&&void 0!==d?d:{}))}function Sj(k,I){return c(["top","bottom"],I)?"column":c(["left","right"],I)?"row":"row"===k?"row":"column"}function Gh(k,I,d,u){return r((I||{})[k],("row"===u?d.headerRow:"column"===u?d.headerColumn:
d.headerFacet)[k],d.header[k])}function Xf(k,I,d,u){const M={};for(const la of k)k=Gh(la,I||{},d,u),void 0!==k&&(M[la]=k);return M}function Xh(k,I){const d=k.component.layoutHeaders[I].title,u=k.config?k.config:void 0;k=k.component.layoutHeaders[I].facetFieldDef?k.component.layoutHeaders[I].facetFieldDef:void 0;const {titleAnchor:M,titleAngle:la,titleOrient:ra}=Xf(["titleAnchor","titleAngle","titleOrient"],k.header,u,I),Ca=Sj(I,ra),db=va(la);return{name:"".concat(I,"-title"),type:"group",role:"".concat(Ca,
"-title"),title:Object.assign({},{text:d},"row"===I?{orient:"left"}:{},{style:"guide-title"},ni(db,Ca),mi(Ca,db,M),rh(u,k,I,aj,Gf))}}function mi(k,I,d){switch(void 0===d?"middle":d){case "start":return{align:"left"};case "end":return{align:"right"}}return(k=zh(I,"row"===k?"left":"top","row"===k?"y":"x"))?{align:k}:{}}function ni(k,I){return(k=Bj(k,"row"===I?"left":"top","row"===I?"y":"x",!0))?{baseline:k}:{}}function ij(k,I){const d=k.component.layoutHeaders[I],u=[];for(const Kb of Rl)if(d[Kb])for(const pc of d[Kb]){a:{var M=
k;var la=I,ra=Kb,Ca=d,db=pc;if(db){let hd=null;const {facetFieldDef:md}=Ca;var qb=M.config?M.config:void 0;if(md&&db.labels){var {labelOrient:Eb}=Xf(["labelOrient"],md.header,qb,la);if("row"===la&&!c(["top","bottom"],Eb)||"column"===la&&!c(["left","right"],Eb))hd=Wi(md,la,qb)}qb=Ph(M)&&!Oc(M.facet);Eb=db.axes;const sd=0<(null===Eb||void 0===Eb?void 0:Eb.length);if(hd||sd){const yd="row"===la?"height":"width";M=Object.assign({},{name:M.getName("".concat(la,"_").concat(ra)),type:"group",role:"".concat(la,
"-").concat(ra)},Ca.facetFieldDef?{from:{data:M.getName("".concat(la,"_domain"))},sort:Ck(md,la)}:{},sd&&qb?{from:{data:M.getName("facet_domain_".concat(la))}}:{},hd?{title:hd}:{},db.sizeSignal?{encode:{update:{[yd]:db.sizeSignal}}}:{},sd?{axes:Eb}:{});break a}}M=null}null!=M&&u.push(M)}return u}function Ck(k,I){const {sort:d}=k;if(Xb(d)){var u;return{field:Ia(d,{expr:"datum"}),order:null!==(u=d.order)&&void 0!==u?u:"ascending"}}return n.isArray(d)?{field:ki(k,I,{expr:"datum"}),order:"ascending"}:
{field:Ia(k,{expr:"datum"}),order:null!==d&&void 0!==d?d:"ascending"}}function Wi(k,I,d){const {format:u,formatType:M,labelAngle:la,labelAnchor:ra,labelOrient:Ca,labelExpr:db}=Xf("format formatType labelAngle labelAnchor labelOrient labelExpr".split(" "),k.header,d,I),qb=Qf({fieldOrDatumDef:k,format:u,formatType:M,expr:"parent",config:d}).signal,Eb=Sj(I,Ca);return Object.assign({},{text:{signal:db?ja(ja(db,"datum.label",qb),"datum.value",Ia(k,{expr:"parent"})):qb}},"row"===I?{orient:"left"}:{},{style:"guide-label",
frame:"group"},ni(la,Eb),mi(Eb,la,ra),rh(d,k,I,Ml,wf))}function rh(k,I,d,u,M){const la={};for(const ra of u)M[ra]&&(u=Gh(ra,null===I||void 0===I?void 0:I.header,k,d),void 0!==u&&(la[M[ra]]=u));return la}function pi(k){return[...Ig(k,"width"),...Ig(k,"height"),...Ig(k,"childWidth"),...Ig(k,"childHeight")]}function Ig(k,I){var d="width"===I?"x":"y",u=k.component.layoutSize.get(I);if(!u||"merged"===u)return[];I=k.getSizeSignalRef(I).signal;if("step"===u){if(u=k.getScaleComponent(d)){var M=u.get("type");
const la=u.get("range");if(M in Pg&&nb(la))return M=k.scaleName(d),Ph(k.parent)&&"independent"===k.parent.component.resolve.scale[d]?[Mg(M,la)]:[Mg(M,la),{name:I,update:Pf(M,u,"domain('".concat(M,"').length"))}]}throw Error("layout size is step although width/height is not step.");}return"container"==u?(d=(u=I.endsWith("width"))?"containerSize()[0]":"containerSize()[1]",k=jd(k.config.view,u?"width":"height"),k="isFinite(".concat(d,") ? ").concat(d," : ").concat(k),[{name:I,init:k,on:[{update:k,events:"window:resize"}]}]):
[{name:I,value:u}]}function Mg(k,I){return{name:"".concat(k,"_step"),value:I.step}}function Pf(k,I,d){const u=I.get("type"),M=I.get("padding"),la=r(I.get("paddingOuter"),M);I=I.get("paddingInner");I="band"===u?void 0!==I?I:M:1;return"bandspace(".concat(d,", ").concat($b(I),", ").concat($b(la),") * ").concat(k,"_step")}function Uh(k){return"childWidth"===k?"width":"childHeight"===k?"height":k}function dk(k,I){return Md(k).reduce((d,u)=>Object.assign({},d,$h(I,k[u],u,M=>kc(M.value))),{})}function Hh(k,
I){if(Zh(I)||Ph(I))return"shared";if(ek(I))return k in Zg?"independent":"shared";throw Error("invalid model type for resolve");}function di(k,I){const d=I in Zg?"axis":"legend";return"independent"===k.scale[I]?("shared"===k[d][I]&&Fb('Setting the scale to be independent for "'.concat(I,'" means we also have to set the guide (axis or legend) to be independent.')),"independent"):k[d][I]||"shared"}function bj(k){return Aj(k,(I,d)=>Math.max(I,d.value))}function Eg(k){return Aj(k,(I,d)=>r(I,d.value))}
function Aj(k,I){var d=k&&k.condition;if(d=!!d&&(n.isArray(d)||zf(d)))return n.array(k.condition).reduce(I,k.value);if(zf(k))return k.value}function tk(k,I,d){k=I.get("selections");if(null!==k&&void 0!==k&&k.length){var u=n.stringValue(d.field);return k.map(M=>{const la=n.stringValue(z(M)+"_store");return"(!length(data(".concat(la,")) || (").concat(M,"[").concat(u,"] \x26\x26 indexof(").concat(M,"[").concat(u,"], datum.value) \x3e\x3d 0))")}).join(" || ")}}function Yh(k,I,d,u){k=k.getSizeSignalRef(I).signal;
return{signal:"clamp(".concat(k,", ").concat(d,", ").concat(u,")")}}function cj(k){var I;if(pg(k)){var {encoding:d}=k,u={};for(const $f of["color",...nm]){var M=gd(d[$f]);if(M&&k.getScaleComponent($f)&&("shape"!==$f||!kd(M)||"geojson"!==M.type)){{var la=M=void 0,ra=void 0,Ca=void 0,db=void 0,qb=void 0;var Eb=void 0;var Kb=k,pc=$f;let kg=Kb.legend(pc);const {markDef:Vj,encoding:Wk,config:xk}=Kb;var hd=xk.legend;b:{var md=Kb;var sd=pc,yd=md.scaleName(sd);if("trail"===md.mark){if("color"===sd){md={stroke:yd};
break b}if("size"===sd){md={strokeWidth:yd};break b}}md="color"===sd?md.markDef.filled?{fill:yd}:{stroke:yd}:{[sd]:yd}}md=new an({},md);sd=null===(Ca=Kb.fieldDef(pc))||void 0===Ca?void 0:Ca.field;for(const Fg of wg(null!==(I=Kb.component.selection)&&void 0!==I?I:{})){var Ad;if((Ca=null!==(Ad=Fg.project.hasField[sd])&&void 0!==Ad?Ad:Fg.project.hasChannel[pc])&&om.defined(Fg)){var ue;yd=null!==(ue=md.get("selections"))&&void 0!==ue?ue:[];yd.push(Fg.name);md.set("selections",yd,!1);Ca.hasLegend=!0}}Ca=
void 0!==kg?!kg:hd.disable;md.set("disable",Ca,void 0!==kg);if(Ca)M=md;else{kg=kg||{};sd=Kb.getScaleComponent(pc).get("type");Ca=gd(Wk[pc]);var Fe=kd(Ca)?null===(Eb=ae(Ca.timeUnit))||void 0===Eb?void 0:Eb.unit:void 0;yd=kg.orient||xk.legend.orient||"right";Eb={legend:kg,channel:pc,timeUnit:Fe,scaleType:sd};({legend:Fe}=Eb);Fe=Fe.type;b:{var {channel:ke,timeUnit:df,scaleType:Ye}=Eb;if($a(ke)){if(c(["quarter","month","day"],df)){Eb="symbol";break b}if(Ye in oh){Eb="gradient";break b}}Eb="symbol"}Eb=
r(Fe,Eb);var {legendConfig:hg,legendType:qe,orient:Lf,legend:ig}={legend:kg,legendType:Eb,orient:yd,legendConfig:hd};if(null!==(ra=null!==(la=ig.direction)&&void 0!==la?la:hg[qe?"gradientDirection":"symbolDirection"])&&void 0!==ra)la=ra;else b:{switch(Lf){case "top":case "bottom":la="horizontal";break b;case "left":case "right":case "none":case void 0:break;default:la="gradient"===qe?"horizontal":void 0;break b}la=void 0}hd={legend:kg,channel:pc,model:Kb,markDef:Vj,encoding:Wk,fieldOrDatumDef:Ca,
legendConfig:hd,config:xk,scaleType:sd,orient:yd,legendType:Eb,direction:la};for(const Fg of pm)if(!("gradient"===Eb&&Fg.startsWith("symbol")||"symbol"===Eb&&Fg.startsWith("gradient"))&&(la=Fg in qm?qm[Fg](hd):kg[Fg],void 0!==la)){b:{ra=Kb.fieldDef(pc);switch(Fg){case "disable":ra=void 0!==kg;break b;case "values":ra=!(null===kg||void 0===kg||!kg.values);break b;case "title":if("title"===Fg&&la===(null===ra||void 0===ra?void 0:ra.title)){ra=!0;break b}}ra=la===(kg||{})[Fg]}(ra||void 0===xk.legend[Fg])&&
md.set(Fg,la,ra)}hd=null!==(qb=null===(db=kg)||void 0===db?void 0:db.encoding)&&void 0!==qb?qb:{};db=md.get("selections");qb={};pc={fieldOrDatumDef:Ca,model:Kb,channel:pc,legendCmpt:md,legendType:Eb};for(const Fg of"labels legend title symbols gradient entries".split(" ")){var Bg;la=dk(null!==(Bg=hd[Fg])&&void 0!==Bg?Bg:{},Kb);la=Fg in rm?rm[Fg](la,pc):la;void 0===la||L(la)||(qb[Fg]=Object.assign({},null!==db&&void 0!==db&&db.length&&kd(Ca)?{name:"".concat(z(Ca.field),"_legend_").concat(Fg)}:{},null!==
db&&void 0!==db&&db.length?{interactive:!!db}:{},{update:la}))}L(qb)||md.set("encode",qb,!(null===(M=kg)||void 0===M||!M.encoding));M=md}}u[$f]=M}}I=u}else{{const {legends:$f,resolve:kg}=k.component;for(d of k.children){cj(d);for(u of Md(d.component.legends))kg.legend[u]=di(k.component.resolve,u),"shared"===kg.legend[u]&&($f[u]=Di($f[u],d.component.legends[u]),$f[u]||(kg.legend[u]="independent",delete $f[u]))}for(M of Md($f))for(Kb of k.children)Kb.component.legends[M]&&"shared"===kg.legend[M]&&delete Kb.component.legends[M];
I=$f}}return k.component.legends=I}function Di(k,I){if(!k)return I.clone();var d=k.getWithExplicit("orient");const u=I.getWithExplicit("orient");if(!d.explicit||!u.explicit||d.value===u.value){var M=!1;for(const qb of pm)d=Kf(k.getWithExplicit(qb),I.getWithExplicit(qb),qb,"legend",(Eb,Kb)=>{switch(qb){case "symbolType":return Eb="circle"===Kb.value?Kb:Eb,Eb;case "title":return vd(Eb,Kb);case "type":return M=!0,Be("symbol")}return We(Eb,Kb,qb,"legend")}),k.setWithExplicit(qb,d);if(M){var la,ra,Ca,
db;null!==(la=k.implicit)&&void 0!==la&&null!==(ra=la.encode)&&void 0!==ra&&ra.gradient&&K(k.implicit,["encode","gradient"]);null!==(Ca=k.explicit)&&void 0!==Ca&&null!==(db=Ca.encode)&&void 0!==db&&db.gradient&&K(k.explicit,["encode","gradient"])}return k}}function dj(k){const I=k.component.legends,d={};for(const M of Md(I)){var u=k.getScaleComponent(M);u=ng(u.get("domains"));if(d[u])for(const la of d[u])Di(la,I[M])||d[u].push(I[M]);else d[u]=[I[M].clone()]}return wg(d).flat().map(M=>{{var la=k.config,
ra,Ca=M.combine();M=Object.assign({},Ca);const yd=Ca.disable;Ca=Ca.labelExpr;M=(delete M.disable,delete M.labelExpr,delete M.selections,M);if(yd)var db=void 0;else{!1===la.aria&&void 0==M.aria&&(M.aria=!1);if(null!==(ra=M.encode)&&void 0!==ra&&ra.symbols){la=M.encode.symbols.update;!la.fill||"transparent"===la.fill.value||la.stroke||M.stroke||(la.stroke={value:"transparent"});for(var qb of nm)M[qb]&&delete la[qb]}M.title||delete M.title;if(void 0!==Ca){var Eb,Kb;qb=Ca;null!==(Eb=M.encode)&&void 0!==
Eb&&null!==(Kb=Eb.labels)&&void 0!==Kb&&Kb.update&&Ma(M.encode.labels.update.text)&&(qb=ja(Ca,"datum.label",M.encode.labels.update.text.signal));Eb=M;Kb={signal:qb};var pc,hd,md,sd;null!==(db=Eb.encode)&&void 0!==db?db:Eb.encode={};null!==(hd=(pc=Eb.encode).labels)&&void 0!==hd?hd:pc.labels={};null!==(sd=(md=Eb.encode.labels).update)&&void 0!==sd?sd:md.update={};Eb.encode.labels.update.text=Kb}db=M}}return db}).filter(M=>void 0!==M)}function lj(k){return k.children.reduce((I,d)=>I.concat(d.assembleProjections()),
ej(k))}function ej(k){var I=k.component.projection;if(!I||I.merged)return[];const d=I.combine(),{name:u}=d;if(I.data){const M={signal:"[".concat(I.size.map(la=>la.signal).join(", "),"]")};I=I.data.reduce((la,ra)=>{ra=Ma(ra)?ra.signal:"data('".concat(k.lookupDataSource(ra),"')");la.includes(ra)||la.push(ra);return la},[]);if(0>=I.length)throw Error("Projection's fit didn't find any data sources");return[Object.assign({},{name:u,size:M,fit:{signal:1<I.length?"[".concat(I.join(", "),"]"):I[0]}},d)]}return[Object.assign({},
{name:u},{translate:{signal:"[width / 2, height / 2]"}},d)]}function Dk(k){var I=k.component,d;if(pg(k))if(k.hasProjection){const la=Ra(k.specifiedProjection);var u=!(la&&(null!=la.scale||null!=la.translate));const ra=u?[k.getSizeSignalRef("width"),k.getSizeSignalRef("height")]:void 0;if(u){{u=[];const {encoding:Ca}=k;for(M of[["longitude","latitude"],["longitude2","latitude2"]])(gd(Ca[M[0]])||gd(Ca[M[1]]))&&u.push({signal:k.getName("geojson_".concat(u.length))});k.channelHasField("shape")&&"geojson"===
k.typedFieldDef("shape").type&&u.push({signal:k.getName("geojson_".concat(u.length))});0===u.length&&u.push(k.requestDataName(zg.Main));var M=u}}else M=void 0;k=new sm(k.projectionName(!0),Object.assign({},null!==(d=Ra(k.config.projection))&&void 0!==d?d:{},null!==la&&void 0!==la?la:{}),ra,M);k.get("type")||k.set("type","equalEarth",!1);d=k}else d=void 0;else d=Cj(k);I.projection=d}function uk(k,I){const d=a(bn,u=>!n.hasOwnProperty(k.explicit,u)&&!n.hasOwnProperty(I.explicit,u)||n.hasOwnProperty(k.explicit,
u)&&n.hasOwnProperty(I.explicit,u)&&Bh(k.get(u),I.get(u))?!0:!1);if(Bh(k.size,I.size)){if(d)return k;if(Bh(k.explicit,{}))return I;if(Bh(I.explicit,{}))return k}return null}function Cj(k){if(0!==k.children.length){var I;for(var d of k.children)Dk(d);d=a(k.children,u=>{if(u=u.component.projection){if(I)return(u=uk(I,u))&&(I=u),!!u;I=u}return!0});if(I&&d){d=k.projectionName(!0);const u=new sm(d,I.specifiedProjection,I.size,pf(I.data));for(const M of k.children)if(k=M.component.projection)k.isFit&&u.data.push(...M.component.projection.data),
M.renameProjection(k.get("name"),d),k.merged=!0;return u}}}function uj(k,I,d,u){if(Le(I,d)){var M,la;k=pg(k)?null!==(M=null!==(la=k.axis(d))&&void 0!==la?la:k.legend(d))&&void 0!==M?M:{}:{};M=Ia(I,{expr:"datum"});la=Ia(I,{expr:"datum",binSuffix:"end"});return{formulaAs:Ia(I,{binSuffix:"range",forAs:!0}),formula:vb(M,la,k.format,k.formatType,u)}}return{}}function fj(k,I){return"".concat(na(k),"_").concat(I)}function qi(k,I,d){var u;d=null!==(u=Pd(d,void 0))&&void 0!==u?u:{};I=fj(d,I);return k.getName("".concat(I,
"_bins"))}function vk(k,I,d){let u;u="as"in k?n.isString(k.as)?[k.as,"".concat(k.as,"_end")]:[k.as[0],k.as[1]]:[Ia(k,{forAs:!0}),Ia(k,{binSuffix:"end",forAs:!0})];const M=Object.assign({},Pd(I,void 0));I=fj(M,k.field);var la={signal:d.getName("".concat(I,"_bins")),extentSignal:d.getName("".concat(I,"_extent"))};const {signal:ra,extentSignal:Ca}=la;if(Za(M.extent)){var db=M.extent;db=jh(d,db.param,db);delete M.extent}k=Object.assign({},{bin:M,field:k.field,as:[u]},ra?{signal:ra}:{},Ca?{extentSignal:Ca}:
{},db?{span:db}:{});return{key:I,binComponent:k}}function jj(k){return"'"===k[0]&&"'"===k[k.length-1]||'"'===k[0]&&'"'===k[k.length-1]?k.slice(1,-1):k}function wk(k,I){k=U(k);if("number"===I)return"toNumber(".concat(k,")");if("boolean"===I)return"toBoolean(".concat(k,")");if("string"===I)return"toString(".concat(k,")");if("date"===I)return"toDate(".concat(k,")");if("flatten"===I)return k;if(I.startsWith("date:"))return I=jj(I.slice(5,I.length)),"timeParse(".concat(k,",'").concat(I,"')");if(I.startsWith("utc:"))return I=
jj(I.slice(4,I.length)),"utcParse(".concat(k,",'").concat(I,"')");Fb('Unrecognized parse "'.concat(I,'".'));return null}function Yg(k){const I={};O(k.filter,d=>{if(Ue(d)){let M=null;if(me(d))M=vc(d.equal);else if(Ze(d))M=vc(d.lte);else if(ff(d))M=vc(d.lt);else if(hf(d))M=vc(d.gt);else if(Vd(d))M=vc(d.gte);else if(ge(d))M=d.range[0];else if(yf(d)){var u;M=(null!==(u=d.oneOf)&&void 0!==u?u:d["in"])[0]}M&&(Ic(M)?I[d.field]="date":n.isNumber(M)?I[d.field]="number":n.isString(M)&&(I[d.field]="string"));
d.timeUnit&&(I[d.field]="date")}});return I}function dg(k){function I(u){if(pe(u))d[u.field]="date";else{var M;if(M="quantitative"===u.type)M=u.aggregate,M=n.isString(M)&&c(["min","max"],M);M?d[u.field]="number":1<Q(u.field)?u.field in d||(d[u.field]="flatten"):tf(u)&&Xb(u.sort)&&1<Q(u.sort.field)&&(u.sort.field in d||(d[u.sort.field]="flatten"))}}const d={};(pg(k)||Ph(k))&&k.forEachFieldDef((u,M)=>{Xe(u)?I(u):(M=sa(M),M=k.fieldDef(M),I(Object.assign({},u,{type:M.type})))});if(pg(k)){const {mark:u,
markDef:M,encoding:la}=k;if(Qd(u)&&!k.encoding.order){const ra=la["horizontal"===M.orient?"y":"x"];!kd(ra)||"quantitative"!==ra.type||ra.field in d||(d[ra.field]="number")}}return d}function og(k){return k instanceof yk||k instanceof Bl||k instanceof Cl}function jl(k){return k.stack.stackBy.reduce((I,d)=>{(d=Ia(d.fieldDef))&&I.push(d);return I},[])}function mj(k){return n.isArray(k)&&k.every(I=>n.isString(I))&&1<k.length}function b(k){function I(d){if(!(d instanceof Xk)){const u=d.clone();if(u instanceof
Ih){const M="scale_"+u.getSource();u.setSource(M);k.model.component.data.outputNodes[M]=u}else(u instanceof gj||u instanceof Xj||u instanceof ml||u instanceof Yk)&&u.addDimensions(k.fields);for(const M of d.children.flatMap(I))M.parent=u;return[u]}return d.children.flatMap(I)}return I}function t(k){if(k instanceof Xk)if(1!==k.numChildren()||k.children[0]instanceof Ih){var I=k.model.component.data.main;X(I);const d=b(k);k=k.children.map(d).flat();for(const u of k)u.parent=I}else I=k.children[0],(I instanceof
gj||I instanceof Xj||I instanceof ml||I instanceof Yk)&&I.addDimensions(k.fields),I.swapWithParent(),t(k);else k.children.map(t)}function X(k){if(k instanceof Ih&&k.type===zg.Main&&1===k.numChildren()){const I=k.children[0];I instanceof Xk||(I.swapWithParent(),X(k))}}function T(k){for(const I of k){for(const d of I.children)if(d.parent!==I)return!1;if(!T(I.children))return!1}return!0}function ia(k,I){let d=!1;for(const u of I)d=k.optimize(u)||d;return d}function Ka(k,I,d){let u=k.sources,M=!1;M=ia(new cn,
u)||M;M=ia(new dn(I),u)||M;u=u.filter(la=>0<la.numChildren());M=ia(new en,u)||M;u=u.filter(la=>0<la.numChildren());d||(M=ia(new fn,u)||M,M=ia(new gn(I),u)||M,M=ia(new hn,u)||M,M=ia(new jn,u)||M,M=ia(new kn,u)||M,M=ia(new ln,u)||M,M=ia(new mn,u)||M,M=ia(new nn,u)||M);k.sources=u;return M}function Xa(k){const I=k.component.scales;for(const qb of Md(I)){var d=k;var u=qb,M=d.getScaleComponent(u).get("type"),{encoding:la}=d;var ra=d.scaleDomain(u);var Ca=d.typedFieldDef(u),db=d.config.scale;if("unaggregated"===
ra){const {valid:Eb,reason:Kb}=Ac(Ca,M);Eb||(Fb(Kb),ra=void 0)}else void 0===ra&&db.useUnaggregatedDomain&&({valid:Ca}=Ac(Ca,M),Ca&&(ra="unaggregated"));ra!==d.scaleDomain(u)&&(d.specifiedScales[u]=Object.assign({},d.specifiedScales[u],{domain:ra}));d="x"===u&&gd(la.x2)?gd(la.x)?Kf(cc(M,ra,d,"x"),cc(M,ra,d,"x2"),"domain","scale",td):cc(M,ra,d,"x2"):"y"===u&&gd(la.y2)?gd(la.y)?Kf(cc(M,ra,d,"y"),cc(M,ra,d,"y2"),"domain","scale",td):cc(M,ra,d,"y2"):cc(M,ra,d,u);I[qb].setWithExplicit("domains",d);la=
void 0;u=k.component.scales[qb];ra=k.specifiedScales[qb].domain;M=null===(la=k.fieldDef(qb))||void 0===la?void 0:la.bin;la=Zd(ra)&&ra;M=n.isObject(M)&&Za(M.extent)&&M.extent;(la||M)&&u.set("selectionExtent",null!==la&&void 0!==la?la:M,!0);if(k.component.data.isFaceted){for(u=k;!Ph(u)&&u.parent;)u=u.parent;if("shared"===u.component.resolve.scale[qb])for(const Eb of d.value)zb(Eb)&&(Eb.data="scale_"+Eb.data.replace("scale_",""))}}}function bb(k){for(var I of k.children){var d=I;pg(d)?Xa(d):bb(d)}d=
k.component.scales;for(const M of Md(d)){let la;I=null;for(const ra of k.children){var u=ra.component.scales[M];u&&(la=void 0===la?u.getWithExplicit("domains"):Kf(la,u.getWithExplicit("domains"),"domains","scale",td),u=u.get("selectionExtent"),I&&u&&I.param!==u.param&&Fb("The same selection must be used to override scale domains in a layered view."),I=u)}d[M].setWithExplicit("domains",la);I&&d[M].set("selectionExtent",I,!0)}}function ub(k,I,d){return k.map(u=>{u=He(u,{timeUnit:d,type:I});return{signal:"{data: ".concat(u,
"}")}})}function Lb(k,I,d){var u;d=null===(u=ae(d))||void 0===u?void 0:u.unit;return"temporal"===I||d?ub(k,I,d):[k]}function cc(k,I,d,u){var {encoding:M}=d;M=gd(M[u]);const {type:la}=M,ra=M.timeUnit;if(I&&I.unionWith)return u=cc(k,void 0,d,u),I=Lb(I.unionWith,la,ra),te([...u.value,...I]);if(Ma(I))return te([I]);if(I&&"unaggregated"!==I&&!Zd(I))return te(Lb(I,la,ra));var Ca=d.stack;if(Ca&&u===Ca.fieldChannel){if("normalize"===Ca.offset)return Be([[0,1]]);I=d.requestDataName(zg.Main);return Be([{data:I,
field:d.vgField(u,{suffix:"start"})},{data:I,field:d.vgField(u,{suffix:"end"})}])}Ca=Li[u]&&kd(M)?tc(d,u,k):void 0;if(bf(M))return u=Lb([M.datum],la,ra),Be(u);if("unaggregated"===I)return u=d.requestDataName(zg.Main),{field:I}=M,Be([{data:u,field:Ia({field:I,aggregate:"min"})},{data:u,field:Ia({field:I,aggregate:"max"})}]);if(Oa(M.bin)){if(k in Pg)return"bin-ordinal"===k?Be([]):Be([{data:G(Ca)?d.requestDataName(zg.Main):d.requestDataName(zg.Raw),field:d.vgField(u,Le(M,u)?{binSuffix:"range"}:{}),sort:!0!==
Ca&&n.isObject(Ca)?Ca:{field:d.vgField(u,{}),op:"min"}}]);({bin:I}=M);if(Oa(I)){const db=qi(d,M.field,I);return Be([new ei(()=>{const qb=d.getSignalName(db);return"[".concat(qb,".start, ").concat(qb,".stop]")})])}return Be([{data:d.requestDataName(zg.Main),field:d.vgField(u,{})}])}return M.timeUnit&&c(["time","utc"],k)&&Nd(M,pg(d)?d.encoding[Wa(u)]:void 0,d.markDef,d.config)?(I=d.requestDataName(zg.Main),Be([{data:I,field:d.vgField(u)},{data:I,field:d.vgField(u,{suffix:"end"})}])):Ca?Be([{data:G(Ca)?
d.requestDataName(zg.Main):d.requestDataName(zg.Raw),field:d.vgField(u),sort:Ca}]):Be([{data:d.requestDataName(zg.Main),field:d.vgField(u)}])}function Rc(k,I){const {op:d,field:u,order:M}=k;return Object.assign({},{op:null!==d&&void 0!==d?d:I?"sum":"min"},u?{field:da(u)}:{},M?{order:M}:{})}function tc(k,I,d){if(d in Pg){var u=k.fieldDef(I);d=u.sort;if(xc(d))return{op:"min",field:ki(u,I),order:"ascending"};({stack:u}=k);var M=u?[...u.groupbyField?[u.groupbyField]:[],...u.stackBy.map(la=>la.fieldDef.field)]:
void 0;if(Xb(d))return k=u&&!M.includes(d.field),Rc(d,k);if(d&&d.encoding){const {encoding:la,order:ra}=d;k=k.fieldDef(la);const {aggregate:Ca,field:db}=k;I=u&&!M.includes(db);if(fa(Ca)||qa(Ca))return Rc({field:Ia(k),order:ra},I);if(pa(Ca)||!Ca)return Rc({op:Ca,field:db,order:ra},I)}else{if("descending"===d)return{op:"min",field:k.vgField(I),order:"descending"};if(c(["ascending",void 0],d))return!0}}}function Ac(k,I){const {aggregate:d,type:u}=k;return d?n.isString(d)&&!fh[d]?{valid:!1,reason:'Unaggregated domain not applicable for "'.concat(d,
'" since it produces values outside the origin domain of the source data.')}:"quantitative"===u&&"log"===I?{valid:!1,reason:"Unaggregated domain is currently unsupported for log scale (".concat(ng(k),").")}:{valid:!0}:{valid:!1,reason:"Using unaggregated domain with raw field has no effect (".concat(ng(k),").")}}function td(k,I,d,u){if(k.explicit&&I.explicit){var M=k.value,la=I.value;d="Conflicting ".concat(u.toString(),' property "').concat(d.toString(),'" (').concat(ng(M)," and ").concat(ng(la),
"). Using the union of the two domains.");Fb(d)}return{explicit:k.explicit,value:[...k.value,...I.value]}}function be(k){var I=p(k.map(M=>zb(M)?(M=Object.assign({},M),delete M.sort,M):M),l),d=p(k.map(M=>{if(zb(M))return M=M.sort,void 0===M||G(M)||("op"in M&&"count"===M.op&&delete M.field,"ascending"===M.order&&delete M.order),M}).filter(M=>void 0!==M),l);if(0!==I.length){if(1===I.length){I=k[0];if(zb(I)&&0<d.length){var u=d[0];1<d.length?(Fb("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),
u=!0):n.isObject(u)&&"field"in u&&I.field===u.field&&(u=u.order?{order:u.order}:!0);return Object.assign({},I,{sort:u})}return I}d=p(d.map(M=>{if(G(M)||!("op"in M)||n.isString(M.op)&&M.op in mf)return M;Fb("Dropping sort property ".concat(ng(M),' as unioned domains only support boolean or op "count", "min", and "max".'));return!0}),l);1===d.length?u=d[0]:1<d.length&&(Fb("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),u=!0);d=p(k.map(M=>zb(M)?M.data:null),
M=>M);return 1===d.length&&null!==d[0]?Object.assign({},{data:d[0],fields:I.map(M=>M.field)},u?{sort:u}:{}):Object.assign({},{fields:I},u?{sort:u}:{})}}function Re(k){if(zb(k)&&n.isString(k.field))return k.field;var I=n.isArray(k)?!1:"fields"in k&&!("data"in k);if(I){let d;for(const u of k.fields)if(zb(u)&&n.isString(u.field))if(!d)d=u.field;else if(d!==u.field)return Fb("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),
d;Fb("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.");return d}I=n.isArray(k)?!1:"fields"in k&&"data"in k;if(I)return Fb("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect."),
k=k.fields[0],n.isString(k)?k:void 0}function ef(k,I){I=k.component.scales[I].get("domains").map(d=>{zb(d)&&(d.data=k.lookupDataSource(d.data));return d});return be(I)}function Ie(k){return Zh(k)||ek(k)?k.children.reduce((I,d)=>I.concat(Ie(d)),cg(k)):cg(k)}function cg(k){return Md(k.component.scales).reduce((I,d)=>{var u=k.component.scales[d];if(u.merged)return I;var M=u.combine(),la=Object.assign({},M);const ra=M.name,Ca=M.type;var db=M.selectionExtent;const qb=M.reverse;la=(delete la.name,delete la.type,
delete la.selectionExtent,delete la.domains,delete la.range,delete la.reverse,la);M=M.range;d in Zg?nb(M)&&(M={step:{signal:"".concat(ra,"_step")}}):n.isObject(M)&&zb(M)&&(M=Object.assign({},M,{data:k.lookupDataSource(M.data)}));d=ef(k,d);db?(db=jh(k,db.param,db),u={signal:u.get("type")in Jg&&n.isArray(d)&&d[0]>d[1]?"isValid(".concat(db,") \x26\x26 reverse(").concat(db,")"):db}):u=null;I.push(Object.assign({},{name:ra,type:Ca},d?{domain:d}:{},u?{domainRaw:u}:{},{range:M},void 0!==qb?{reverse:qb}:
{},la));return I},[])}function Ff(k){return"x"===k?"width":"y"===k?"height":void 0}function bg(k,I){var d=k.fieldDef(I);if(null!==d&&void 0!==d&&d.bin){const {bin:u,field:M}=d;d=Ff(I);const la=k.getName(d);if(n.isObject(u)&&u.binned&&void 0!==u.step)return new ei(()=>{var ra=k.scaleName(I);ra='(domain("'.concat(ra,'")[1] - domain("').concat(ra,'")[0]) / ').concat(u.step);return"".concat(k.getSignalName(la)," / (").concat(ra,")")});if(Oa(u)){const ra=qi(k,M,u);return new ei(()=>{var Ca=k.getSignalName(ra);
Ca="(".concat(Ca,".stop - ").concat(Ca,".start) / ").concat(Ca,".step");return"".concat(k.getSignalName(la)," / (").concat(Ca,")")})}}}function ag(k,I){const d=I.specifiedScales[k];var {size:u}=I,M=I.getScaleComponent(k).get("type");for(var la of on)if(void 0!==d[la]){const db=we(M,la),qb=nf(k,la);if(db)if(qb)Fb(qb);else switch(la){case "range":M=d.range;if(n.isArray(M)){if(k in Zg)return te(M.map(Eb=>{if("width"===Eb||"height"===Eb){Eb=I.getName(Eb);const Kb=I.getSignalName.bind(I);return ei.fromName(Kb,
Eb)}return Eb}))}else if(n.isObject(M))return te({data:I.requestDataName(zg.Main),field:M.field,sort:{op:"min",field:I.vgField(k)}});return te(M);case "scheme":return te(qf(d[la]))}else Fb(Db(M,la,k))}if("x"===k||"y"===k)if(la="x"===k?"width":"height",u=u[la],Ud(u)){if(M in Pg)return te({step:u.step});Fb(Vb(la))}const {rangeMin:ra,rangeMax:Ca}=d;k=fg(k,I);return(void 0!==ra||void 0!==Ca)&&we(M,"rangeMin")&&n.isArray(k)&&2===k.length?te([null!==ra&&void 0!==ra?ra:k[0],null!==Ca&&void 0!==Ca?Ca:k[1]]):
Be(k)}function qf(k){return!n.isString(k)&&k.name?Object.assign({},{scheme:k.name},q(k,["name"])):{scheme:k}}function fg(k,I){const {size:d,config:u,mark:M,encoding:la}=I;var ra=I.getSignalName.bind(I),{type:Ca}=gd(la[k]);const db=I.getScaleComponent(k).get("type"),{domain:qb,domainMid:Eb}=I.specifiedScales[k];switch(k){case "x":case "y":if(c(["point","band"],db))if("x"===k&&!d.width){if(Ca=Va(u.view,"width"),Ud(Ca))return Ca}else if("y"===k&&!d.height&&(Ca=Va(u.view,"height"),Ud(Ca)))return Ca;Ca=
Ff(k);Ca=I.getName(Ca);return"y"===k&&db in Jg?[ei.fromName(ra,Ca),0]:[0,ei.fromName(ra,Ca)];case "size":return ra=I.component.scales[k].get("zero"),ra=Ng(M,ra,u),Ca=Sg(M,d,I,u),db in sj?Sf(ra,Ca,Vf(db,u,qb,k)):[ra,Ca];case "theta":return[0,2*Math.PI];case "angle":return[0,360];case "radius":return[0,new ei(()=>{const Kb=I.getSignalName("width"),pc=I.getSignalName("height");return"min(".concat(Kb,",").concat(pc,")/2")})];case "strokeWidth":return[u.scale.minStrokeWidth,u.scale.maxStrokeWidth];case "strokeDash":return[[1,
0],[4,2],[2,1],[1,1],[1,2,4,2]];case "shape":return"symbol";case "color":case "fill":case "stroke":return"ordinal"===db?"nominal"===Ca?"category":"ordinal":void 0!==Eb?"diverging":"rect"===M||"geoshape"===M?"heatmap":"ramp";case "opacity":case "fillOpacity":case "strokeOpacity":return[u.scale.minOpacity,u.scale.maxOpacity]}throw Error("Scale range undefined for channel ".concat(k));}function Vf(k,I,d,u){switch(k){case "quantile":return I.scale.quantileCount;case "quantize":return I.scale.quantizeCount;
case "threshold":if(void 0!==d&&n.isArray(d))return d.length+1;Fb("Domain for ".concat(u," is required for threshold scale."));return 3}}function Sf(k,I,d){const u=()=>{const M=$b(I),la=$b(k),ra="(".concat(M," - ").concat(la,") / (").concat(d," - 1)");return"sequence(".concat(la,", ").concat(M," + ").concat(ra,", ").concat(ra,")")};return Ma(I)?new ei(u):{signal:u()}}function Ng(k,I,d){if(I)return Ma(I)?{signal:"".concat(I.signal," ? 0 : ").concat(Ng(k,!1,d))}:0;switch(k){case "bar":case "tick":return d.scale.minBandSize;
case "line":case "trail":case "rule":return d.scale.minStrokeWidth;case "text":return d.scale.minFontSize;case "point":case "square":case "circle":return d.scale.minSize}throw Error(Ec("size",k));}function Sg(k,I,d,u){d={x:bg(d,"x"),y:bg(d,"y")};switch(k){case "bar":case "tick":{if(void 0!==u.scale.maxBandSize)return u.scale.maxBandSize;const M=Vg(I,d,u.view);return n.isNumber(M)?M-1:new ei(()=>"".concat(M.signal," - 1"))}case "line":case "trail":case "rule":return u.scale.maxStrokeWidth;case "text":return u.scale.maxFontSize;
case "point":case "square":case "circle":{if(u.scale.maxSize)return u.scale.maxSize;const M=Vg(I,d,u.view);return n.isNumber(M)?Math.pow(.95*M,2):new ei(()=>"pow(".concat(.95," * ").concat(M.signal,", 2)"))}}throw Error(Ec("size",k));}function Vg(k,I,d){const u=Ud(k.width)?k.width.step:cf(d,"width"),M=Ud(k.height)?k.height.step:cf(d,"height");return I.x||I.y?new ei(()=>"min(".concat([I.x?I.x.signal:u,I.y?I.y.signal:M].join(", "),")")):Math.min(u,M)}function Sh(k,I){if(pg(k)){{const ra=k.component.scales,
{config:Ca,encoding:db,markDef:qb,specifiedScales:Eb}=k;for(const Kb of Md(ra)){var d=Eb[Kb];const pc=ra[Kb];var u=k.getScaleComponent(Kb),M=gd(db[Kb]),la=d[I];const hd=u.get("type"),md=u.get("padding");u=u.get("paddingInner");const sd=we(hd,I),yd=nf(Kb,I);void 0!==la&&(sd?yd&&Fb(yd):Fb(Db(hd,I,Kb)));if(sd&&void 0===yd)if(void 0!==la)switch(la=M.timeUnit,M=M.type,I){case "domainMax":case "domainMin":Ic(d[I])||"temporal"===M||la?pc.set(I,{signal:He(d[I],{type:M,timeUnit:la})},!0):pc.set(I,d[I],!0);
break;default:pc.copyKeyFromObject(I,d)}else d=I in tm?tm[I]({model:k,channel:Kb,fieldOrDatumDef:M,scaleType:hd,scalePadding:md,scalePaddingInner:u,domain:d.domain,markDef:qb,config:Ca}):Ca.scale[I],void 0!==d&&pc.set(I,d,!1)}}}else Lj(k,I)}function bi(k){if(pg(k)){{const I=k.component.scales;for(const d of Qk){const u=I[d];if(!u)continue;const M=ag(d,k);u.setWithExplicit("range",M)}}}else Lj(k,"range")}function Lj(k,I){const d=k.component.scales;for(var u of k.children)"range"===I?bi(u):Sh(u,I);
for(const M of Md(d)){let la;for(const ra of k.children)if(u=ra.component.scales[M])u=u.getWithExplicit(I),la=Kf(la,u,I,"scale",wd((Ca,db)=>{switch(I){case "range":if(Ca.step&&db.step)return Ca.step-db.step}return 0}));d[M].setWithExplicit(I,la)}}function kl(k,I){const d=I.bin;if(Oa(d)){const u=qi(k,I.field,d);return new ei(()=>k.getSignalName(u))}if(cb(d)&&n.isObject(d)&&void 0!==d.step)return{step:d.step}}function Tk(k,I,d){switch(I.type){case "nominal":case "ordinal":var u;if($a(k)||"discrete"===
ca(k))return"shape"===k&&"ordinal"===I.type&&Fb(ob(k,"ordinal")),"ordinal";if(k in Zg){if(c(["rect","bar","image","rule"],d.type))return"band"}else if("arc"===d.type&&k in Ah)return"band";k=d[Ea(k)];return Yf(k)||Oe(I)&&null!==(u=I.axis)&&void 0!==u&&u.tickBand?"band":"point";case "temporal":if(!$a(k)){if("discrete"===ca(k))return Fb(ob(k,"temporal")),"ordinal";if(kd(I)&&I.timeUnit&&ae(I.timeUnit).utc)return"utc"}return"time";case "quantitative":if($a(k)){if(kd(I)&&Oa(I.bin))return"bin-ordinal"}else if("discrete"===
ca(k))return Fb(ob(k,"quantitative")),"ordinal";return"linear";case "geojson":return}throw Error('Invalid field type "'.concat(I.type,'".'));}function Fi(k){if(pg(k))k.component.scales=Ek(k);else{var I=k.component;{const la=k.component.scales={},ra={},Ca=k.component.resolve;for(const db of k.children){Fi(db);for(const qb of Md(db.component.scales)){var d,u;null!==(u=(d=Ca.scale)[qb])&&void 0!==u?u:d[qb]=Hh(qb,k);if("shared"===Ca.scale[qb]){const Eb=ra[qb],Kb=db.component.scales[qb].getWithExplicit("type");
if(Eb){{var M=lk[Eb.value];const pc=lk[Kb.value];M=M===pc||"ordinal-position"===M&&"time"===pc||"ordinal-position"===pc&&"time"===M}M?ra[qb]=Kf(Eb,Kb,"type","scale",pn):(Ca.scale[qb]="independent",delete ra[qb])}else ra[qb]=Kb}}}for(const db of Md(ra)){d=k.scaleName(db,!0);la[db]=new um(d,ra[db]);for(const qb of k.children)if(u=qb.component.scales[db])qb.renameScale(u.get("name"),d),u.merged=!0}k=la}I.scales=k}}function Ek(k){const {encoding:I,mark:d,markDef:u}=k;return Qk.reduce((M,la)=>{var ra=
gd(I[la]);if(ra&&d===ha&&"shape"===la&&"geojson"===ra.type)return M;let Ca=ra&&ra.scale;if(ra&&null!==Ca&&!1!==Ca){var db;null!==(db=Ca)&&void 0!==db?db:Ca={};var qb=Ca;db=Tk(la,ra,u);({type:qb}=qb);if(Li[la]){if(void 0!==qb)if(Pe(la,qb)){var Eb;if(Eb=kd(ra))Eb=qb,ra=ra.type,Eb=!(c(["ordinal","nominal"],ra)?void 0===Eb||Eb in Pg:"temporal"===ra?c([Dg.TIME,Dg.UTC,void 0],Eb):"quantitative"===ra?c([Dg.LOG,Dg.POW,Dg.SQRT,Dg.SYMLOG,Dg.QUANTILE,Dg.QUANTIZE,Dg.THRESHOLD,Dg.LINEAR,void 0],Eb):1);Eb?(ra=
db,ra='FieldDef does not work with "'.concat(qb,'" scale. We are using "').concat(ra,'" scale instead.'),Fb(ra)):db=qb}else ra=qb,qb=db,ra='Channel "'.concat(la,'" does not work with "').concat(ra,'" scale. We are using "').concat(qb,'" scale instead.'),Fb(ra)}else db=null;M[la]=new um(k.scaleName("".concat(la),!0),{value:db,explicit:Ca.type===db})}return M},{})}function pg(k){return"unit"===(null===k||void 0===k?void 0:k.type)}function Ph(k){return"facet"===(null===k||void 0===k?void 0:k.type)}function ek(k){return"concat"===
(null===k||void 0===k?void 0:k.type)}function Zh(k){return"layer"===(null===k||void 0===k?void 0:k.type)}function Gi(k){function I(u,M){u instanceof yk&&!(u.isGenerator||"url"in u.data)&&(k.push(M),M={name:null,source:M.name,transform:[]});if(u instanceof Jh)if(u.parent instanceof yk&&!M.source){var la;M.format=Object.assign({},null!==(la=M.format)&&void 0!==la?la:{},{parse:u.assembleFormatParse()});M.transform.push(...u.assembleTransforms(!0))}else M.transform.push(...u.assembleTransforms());if(u instanceof
Xk)M.name||(M.name="data_".concat(d++)),!M.source||0<M.transform.length?(k.push(M),u.data=M.name):u.data=M.source,k.push(...u.assemble());else switch((u instanceof Bl||u instanceof Cl||u instanceof Dl||u instanceof nl||u instanceof ol||u instanceof El||u instanceof gj||u instanceof Fl||u instanceof ml||u instanceof Yk||u instanceof Sl||u instanceof Tl||u instanceof Ul||u instanceof Vl||u instanceof Wl||u instanceof Xl||u instanceof zk||u instanceof Yl||u instanceof Zl)&&M.transform.push(u.assemble()),
(u instanceof vj||u instanceof wj||u instanceof Zk||u instanceof Xj||u instanceof pl)&&M.transform.push(...u.assemble()),u instanceof Ih&&(M.source&&0===M.transform.length?u.setSource(M.source):u.parent instanceof Ih?u.setSource(M.name):(M.name||(M.name="data_".concat(d++)),u.setSource(M.name),1===u.numChildren()&&(k.push(M),M={name:null,source:M.name,transform:[]}))),u.numChildren()){case 0:u instanceof Ih&&(!M.source||0<M.transform.length)&&k.push(M);break;case 1:I(u.children[0],M);break;default:M.name||
(M.name="data_".concat(d++));la=M.name;!M.source||0<M.transform.length?k.push(M):la=M.source;for(const ra of u.children)I(ra,{name:null,source:la,transform:[]})}}let d=0;return I}function bh(k){const I=[],d=Gi(I);for(const u of k.children)d(u,{source:k.name,name:null,transform:[]});return I}function sh(k,I){const d=[];var u=Gi(d);let M=0;for(const Ca of k.sources){Ca.hasName()||(Ca.dataName="source_".concat(M++));const db=Ca.assemble();u(Ca,db)}for(const Ca of d)0===Ca.transform.length&&delete Ca.transform;
u=0;for(const Ca of d.entries()){const [db,qb]=Ca;var la;0!==(null!==(la=qb.transform)&&void 0!==la?la:[]).length||qb.source||d.splice(u++,0,d.splice(db,1)[0])}for(const Ca of d)for(const db of null!==(ra=Ca.transform)&&void 0!==ra?ra:[]){var ra;"lookup"===db.type&&(db.from=k.outputNodes[db.from].getSource())}for(const Ca of d)Ca.name in I&&(Ca.values=I[Ca.name]);return d}function Xi(k,I,d){I="row"===I?"height":"width";return{labels:d,sizeSignal:k.child.component.layoutSize.get(I)?k.child.getSizeSignalRef(I):
void 0,axes:[]}}function Lk(k,I){var {child:d}=k;if(d.component.axes[I]){const {layoutHeaders:M,resolve:la}=k.component;la.axis[I]=di(la,I);if("shared"===la.axis[I]){const ra="x"===I?"column":"row",Ca=M[ra];for(const db of d.component.axes[I]){var u;I=db.get("orient");I="top"===I||"left"===I||Ma(I)?"header":"footer";null!==(u=Ca[I])&&void 0!==u?u:Ca[I]=[Xi(k,ra,!1)];(d=Wh(db,"main",k.config,{header:!0}))&&Ca[I][0].axes.push(d);db.mainExtracted=!0}}}}function Mi(k){for(const I of k.children)I.parseLayoutSize()}
function Gk(k,I){const d=Uh(I),u=V(d),M=k.component.resolve,la=k.component.layoutSize;let ra;for(const db of k.children){var Ca;const qb=db.component.layoutSize.getWithExplicit(d),Eb=null!==(Ca=M.scale[u])&&void 0!==Ca?Ca:Hh(u,k);if("independent"===Eb&&"step"===qb.value){ra=void 0;break}if(ra){if("independent"===Eb&&ra.value!==qb.value){ra=void 0;break}ra=Kf(ra,qb,d,"")}else ra=qb}if(ra){for(const db of k.children)k.renameSignal(db.getName(d),k.getName(I)),db.component.layoutSize.set(d,"merged",!1);
la.setWithExplicit(I,ra)}else la.setWithExplicit(I,{explicit:!1,value:void 0})}function $k(k,I){const d=k.config;var u=k.getScaleComponent("width"===I?"x":"y");if(u)return k=u.get("type"),u=u.get("range"),k in Pg?(I=Va(d.view,I),nb(u)||Ud(I)?"step":I):jd(d.view,I);if(k.hasProjection||"arc"===k.mark)return jd(d.view,I);I=Va(d.view,I);return Ud(I)?I.step:I}function fk(k,I,d){return Ia(I,Object.assign({},{suffix:"by_".concat(Ia(k))},null!==d&&void 0!==d?d:{}))}function wl(k,I){for(const Ca of I){var d,
u,M,la;I=Ca.data;if(k.name&&Ca.hasName()&&k.name!==Ca.dataName)continue;const db=null===(d=k.format)||void 0===d?void 0:d.mesh;var ra=null===(u=I.format)||void 0===u?void 0:u.feature;if(db&&ra)continue;const qb=null===(M=k.format)||void 0===M?void 0:M.feature;if(!qb&&!ra||qb===ra)if(ra=null===(la=I.format)||void 0===la?void 0:la.mesh,!db&&!ra||db===ra)if("values"in k&&"values"in I){if(Bh(k.values,I.values))return Ca}else if("url"in k&&"url"in I){if(k.url===I.url)return Ca}else if(jf(k)&&k.name===
Ca.dataName)return Ca}return null}function yl(k,I){if(k.data||!k.parent){if(null===k.data)return k=new yk({values:[]}),I.push(k),k;const d=wl(k.data,I);if(d)return Cf(k.data)||(d.data.format=f({},k.data.format,d.data.format)),!d.hasName()&&k.data.name&&(d.dataName=k.data.name),d;k=new yk(k.data);I.push(k);return k}return k.parent.component.data.facetRoot?k.parent.component.data.facetRoot:k.parent.component.data.main}function Tj(k){var I,d,u,M=yl(k,k.component.data.sources);const {outputNodes:la,outputNodeRefCounts:ra}=
k.component.data,Ca=k.parent?k.parent.component.data.ancestorParse.clone():new qn,db=k.data;Cf(db)?("sequence"in db?M=new Cl(M,db.sequence):"graticule"in db&&(M=new Bl(M,db.graticule)),Ca.parseNothing=!0):null===(null===db||void 0===db?void 0:null===(I=db.format)||void 0===I?void 0:I.parse)&&(Ca.parseNothing=!0);M=null!==(d=Jh.makeExplicit(M,k,Ca))&&void 0!==d?d:M;M=new zk(M);I=k.parent&&Zh(k.parent);if((pg(k)||Ph(k))&&I){var qb;M=null!==(qb=vj.makeFromEncoding(M,k))&&void 0!==qb?qb:M}if(0<k.transforms.length){qb=
0;for(const qe of k.transforms){var Eb=d=void 0;if("calculate"in qe)Eb=M=new ol(M,qe),d="derived";else if("filter"in qe){var Kb;Eb=Yg(qe);Eb=M=null!==(Kb=Jh.makeWithAncestors(M,{},Eb,Ca))&&void 0!==Kb?Kb:M;M=new nl(M,k,qe.filter)}else if("bin"in qe)Eb=M=vj.makeFromTransform(M,qe,k),d="number";else if("timeUnit"in qe)d="date",void 0===Ca.getWithExplicit(qe.field).value&&(M=new Jh(M,{[qe.field]:d}),Ca.set(qe.field,d,!1)),Eb=M=wj.makeFromTransform(M,qe);else if("aggregate"in qe)Eb=M=gj.makeFromTransform(M,
qe),d="number",Ji(k)&&(M=new zk(M));else if("lookup"in qe)Eb=M=Fl.make(M,k,qe,qb++),d="derived";else if("window"in qe)Eb=M=new ml(M,qe),d="number";else if("joinaggregate"in qe)Eb=M=new Yk(M,qe),d="number";else if("stack"in qe)Eb=M=Xj.makeFromTransform(M,qe),d="derived";else if("fold"in qe)Eb=M=new Sl(M,qe),d="derived";else if("flatten"in qe)Eb=M=new Tl(M,qe),d="derived";else if("pivot"in qe)Eb=M=new Zl(M,qe),d="derived";else if("sample"in qe)M=new Yl(M,qe);else if("impute"in qe)Eb=M=Zk.makeFromTransform(M,
qe),d="derived";else if("density"in qe)Eb=M=new Ul(M,qe),d="derived";else if("quantile"in qe)Eb=M=new Wl(M,qe),d="derived";else if("regression"in qe)Eb=M=new Xl(M,qe),d="derived";else if("loess"in qe)Eb=M=new Vl(M,qe),d="derived";else{Fb("Ignoring an invalid transform: ".concat(ng(qe),"."));continue}if(Eb&&void 0!==d)for(const Lf of null!==(pc=Eb.producedFields())&&void 0!==pc?pc:[]){var pc;Ca.set(Lf,d,!1)}}}Kb={};if(pg(k)&&k.component.selection)for(md of Md(k.component.selection)){pc=k.component.selection[md];
for(var hd of pc.project.items)!hd.channel&&1<Q(hd.field)&&(Kb[hd.field]="flatten")}var md=Kb;hd=dg(k);M=null!==(u=Jh.makeWithAncestors(M,{},Object.assign({},md,hd),Ca))&&void 0!==u?u:M;pg(k)&&(M=pl.parseAll(M,k),M=El.parseAll(M,k));if(pg(k)||Ph(k)){var sd;if(!I){var yd;M=null!==(yd=vj.makeFromEncoding(M,k))&&void 0!==yd?yd:M}M=null!==(sd=wj.makeFromEncoding(M,k))&&void 0!==sd?sd:M;M=ol.parseAllForSortIndex(M,k)}sd=k.getDataName(zg.Raw);u=new Ih(M,sd,zg.Raw,ra);M=la[sd]=u;if(pg(k)){var Ad,ue;if(sd=
gj.makeFromEncoding(M,k))M=sd,Ji(k)&&(M=new zk(M));M=null!==(Ad=Zk.makeFromEncoding(M,k))&&void 0!==Ad?Ad:M;M=null!==(ue=Xj.makeFromEncoding(M,k))&&void 0!==ue?ue:M}if(pg(k)){var Fe;M=null!==(Fe=Dl.make(M,k))&&void 0!==Fe?Fe:M}ue=k.getDataName(zg.Main);Ad=new Ih(M,ue,zg.Main,ra);M=la[ue]=Ad;if(pg(k))for(var ke of Qh(null!==(df=k.component.selection)&&void 0!==df?df:{})){const [qe,Lf]=ke;var df;df=k.getName("lookup_".concat(qe));k.component.data.outputNodes[df]=Lf.materialized=new Ih(new nl(Ad,k,{param:qe}),
df,zg.Lookup,k.component.data.outputNodeRefCounts)}df=null;if(Ph(k)){var Ye;ke=k.getName("facet");{df=M;const {row:qe,column:Lf}=k.facet;if(qe&&Lf){ue=null;for(hg of[qe,Lf])if(Xb(hg.sort)){const {field:ig,op:Bg="min"}=hg.sort;df=ue=new Yk(df,{joinaggregate:[{op:Bg,field:ig,as:fk(hg,hg.sort,{forAs:!0})}],groupby:[Ia(hg)]})}var hg=ue}else hg=null}M=null!==(Ye=hg)&&void 0!==Ye?Ye:M;df=new Xk(M,k,ke,Ad.getSource());la[ke]=df}return Object.assign({},k.component.data,{outputNodes:la,outputNodeRefCounts:ra,
raw:u,main:Ad,facetRoot:df,ancestorParse:Ca})}function Ll(k){return ti.reduce((I,d)=>{k.component.scales[d]&&(I[d]=[sl(d,k)]);return I},{})}function Fk(k,I){if(k){if(k.length!==I.length)return;const d=k.length;for(let u=0;u<d;u++){const M=k[u],la=I[u];if(!!M!==!!la)return;if(M&&la){const ra=M.getWithExplicit("orient"),Ca=la.getWithExplicit("orient");if(ra.explicit&&Ca.explicit&&ra.value!==Ca.value)return;k[u]=ql(M,la)}}}else return I.map(d=>d.clone());return k}function ql(k,I){for(const d of vm){const u=
Kf(k.getWithExplicit(d),I.getWithExplicit(d),d,"axis",(M,la)=>{switch(d){case "title":return vd(M,la);case "gridScale":return{explicit:M.explicit,value:r(M.value,la.value)}}return We(M,la,d,"axis")});k.setWithExplicit(d,u)}return k}function rl(k,I,d,u,M){if("disable"===I)return void 0!==d;d=d||{};switch(I){case "titleAngle":case "labelAngle":return k===(Ma(d.labelAngle)?d.labelAngle:va(d.labelAngle));case "values":return!!d.values;case "encode":return!!d.encoding||!!d.labelAngle;case "title":if(k===
li(u,M))return!0}return k===d[I]}function sl(k,I){var d,u,M,la,ra;let Ca=I.axis(k);const db=new wm;var qb=gd(I.encoding[k]);const {mark:Eb,config:Kb}=I;var pc=(null===(d=Ca)||void 0===d?void 0:d.orient)||(null===(u=Kb["x"===k?"axisX":"axisY"])||void 0===u?void 0:u.orient)||(null===(M=Kb.axis)||void 0===M?void 0:M.orient)||("x"===k?"bottom":"left");u=I.getScaleComponent(k).get("type");d=xh(k,u,pc,I.config);M=void 0!==Ca?!Ca:Bi("disable",Kb.style,null===(la=Ca)||void 0===la?void 0:la.style,d).configValue;
db.set("disable",M,void 0!==Ca);if(M)return db;Ca=Ca||{};la=yh(qb,Ca,k,Kb.style,d);qb={fieldOrDatumDef:qb,axis:Ca,channel:k,model:I,scaleType:u,orient:pc,labelAngle:la,mark:Eb,config:Kb};for(const md of vm)if(pc=md in xm?xm[md](qb):cd[md]?Ca[md]:void 0,la=void 0!==pc,u=rl(pc,md,Ca,I,k),la&&u)db.set(md,pc,u);else{const {configValue:sd,configFrom:yd}=cd[md]&&"values"!==md?Bi(md,Kb.style,Ca.style,d):{};M=void 0!==sd;la&&!M?db.set(md,pc,u):("vgAxisConfig"!==yd||rn.has(md)&&M||Of(sd)||Ma(sd))&&db.set(md,
sd,!1)}const hd=null!==(ra=Ca.encoding)&&void 0!==ra?ra:{};ra=Ke.reduce((md,sd)=>{var yd;if(!db.hasAxisPart(sd))return md;var Ad=dk(null!==(yd=hd[sd])&&void 0!==yd?yd:{},I);if("labels"===sd){{var ue;const {encoding:Fe,config:ke}=I;yd=null!==(ue=gd(Fe[k]))&&void 0!==ue?ue:gd(Fe[Wa(k)]);ue=I.axis(k)||{};const {format:df,formatType:Ye}=ue;Ad=Hf(Ye)?Object.assign({},{text:Ae({fieldOrDatumDef:yd,field:"datum.value",format:df,formatType:Ye,config:ke})},Ad):Ad}}void 0===Ad||L(Ad)||(md[sd]={update:Ad});return md},
{});L(ra)||db.set("encode",ra,!!Ca.encoding||void 0!==Ca.labelAngle);return db}function tl(k){var {encoding:I,size:d}=k;for(const u of ti)k=Ea(u),Ud(d[k])&&ee(I[u])&&(delete d[k],Fb(Vb(k)));return d}function el(k,I,d){k=Ra(k);var u=zc("orient",k,d);k.orient=Hi(k.type,I,u);void 0!==u&&u!==k.orient&&(u='Specified orient "'.concat(k.orient,'" overridden with "').concat(u,'".'),Fb(u));if("bar"===k.type&&k.orient&&(u=zc("cornerRadiusEnd",k,d),void 0!==u)){const la="horizontal"===k.orient&&I.x2||"vertical"===
k.orient&&I.y2?["cornerRadius"]:fc[k.orient];for(var M of la)k[M]=u;void 0!==k.cornerRadiusEnd&&delete k.cornerRadiusEnd}void 0===zc("opacity",k,d)&&(M=c([Bk,ll,v,H],k.type)&&!Bf(I)?.7:void 0,k.opacity=M);void 0===zc("cursor",k,d)&&(I=I.href||k.href||zc("href",k,d)?"pointer":k.cursor,k.cursor=I);return k}function Ql(k,I,d){({graticule:d}=d);if(d)return!1;I=qc("filled",k,I);k=k.type;return r(I,k!==Bk&&k!==ck&&k!==Uk)}function Hi(k,I,d){switch(k){case Bk:case v:case H:case Uj:case Jl:case Kl:return}const {x:u,
y:M,x2:la,y2:ra}=I;switch(k){case Rk:if(kd(u)&&(cb(u.bin)||kd(M)&&M.aggregate&&!u.aggregate))break;if(kd(M)&&(cb(M.bin)||kd(u)&&u.aggregate&&!M.aggregate))return"horizontal";if(ra||la){if(d)return d;if(!la&&(kd(u)&&"quantitative"===u.type&&!Oa(u.bin)||Ve(u)))return"horizontal";if(!ra&&(kd(M)&&"quantitative"===M.type&&!Oa(M.bin)||Ve(M)))break}case Uk:if(!(!la||kd(u)&&cb(u.bin)||!ra||kd(M)&&cb(M.bin)))return;case rj:if(ra){if(kd(M)&&cb(M.bin))return"horizontal";break}else if(la)if(kd(u)&&cb(u.bin))break;
else return"horizontal";else if(k===Uk)if(u&&!M)break;else if(M&&!u)return"horizontal";case ck:case ll:{I=ee(u);const Ca=ee(M);if(d)return d;if(I&&!Ca)return"tick"!==k?"horizontal":"vertical";if(!I&&Ca)return"tick"!==k?"vertical":"horizontal";if(I&&Ca){d="temporal"===u.type;I="temporal"===M.type;if(d&&!I)return"tick"!==k?"vertical":"horizontal";if(!d&&I)return"tick"!==k?"horizontal":"vertical";if(!u.aggregate&&M.aggregate)return"tick"!==k?"vertical":"horizontal";if(u.aggregate&&!M.aggregate)return"tick"!==
k?"horizontal":"vertical"}else return}}return"vertical"}function Dj(k,I){return Object.assign({},ah(k,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),Lg("x",k,{defaultPos:"mid"}),Lg("y",k,{defaultPos:"mid"}),Kg("size",k),Kg("angle",k),I?{shape:{value:I}}:Kg("shape",k))}function al(k,I,d){if(void 0===zc("align",k,d))return"center"}function zl(k,I,d){if(void 0===zc("baseline",k,d))return"middle"}function gh(k){var I;const {config:d,markDef:u}=k;var {orient:M}=
u;const la="horizontal"===M?"width":"height";k=k.getScaleComponent("horizontal"===M?"x":"y");M=null!==(I=zc("size",u,d,{vgChannel:la}))&&void 0!==I?I:d.tick.bandSize;return void 0!==M?M:(I=k?k.get("range"):void 0)&&nb(I)&&n.isNumber(I.step)?3*I.step/4:3*cf(d.view,la)/4}function Pl(k){if(c([ck,rj,Vk],k.mark)){var I=fb(k.mark,k.encoding);if(0<I.length)return Hk(k,I)}else if(k.mark===Rk&&(I=Qg.some(d=>zc(d,k.markDef,k.config)),k.stack&&!k.fieldDef("size")&&I))return Ej(k);return Yi(k)}function Hk(k,
I){return[{name:k.getName("pathgroup"),type:"group",from:{facet:{name:"faceted_path_"+k.requestDataName(zg.Main),data:k.requestDataName(zg.Main),groupby:I}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:Yi(k,{fromPrefix:"faceted_path_"})}]}function Ej(k){const [I]=Yi(k,{fromPrefix:"stack_group_"}),d=k.scaleName(k.stack.fieldChannel),u=db=>{db=void 0===db?{}:db;return k.vgField(k.stack.fieldChannel,db)};var M=(db,qb)=>{qb=[u({prefix:"min",suffix:"start",expr:qb}),
u({prefix:"max",suffix:"start",expr:qb}),u({prefix:"min",suffix:"end",expr:qb}),u({prefix:"max",suffix:"end",expr:qb})];return"".concat(db,"(").concat(qb.map(Eb=>"scale('".concat(d,"',").concat(Eb,")")).join(","),")")};let la;"x"===k.stack.fieldChannel?(M=Object.assign({},y(I.encode.update,["y","yc","y2","height",...Qg]),{x:{signal:M("min","datum")},x2:{signal:M("max","datum")},clip:{value:!0}}),la={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},I.encode.update=Object.assign({},q(I.encode.update,
["y","yc","y2"]),{height:{field:{group:"height"}}})):(M=Object.assign({},y(I.encode.update,["x","xc","x2","width"]),{y:{signal:M("min","datum")},y2:{signal:M("max","datum")},clip:{value:!0}}),la={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},I.encode.update=Object.assign({},q(I.encode.update,["x","xc","x2"]),{width:{field:{group:"width"}}}));for(var ra of Qg){var Ca=qc(ra,k.markDef,k.config);I.encode.update[ra]?(M[ra]=I.encode.update[ra],delete I.encode.update[ra]):Ca&&(M[ra]=kc(Ca));
Ca&&(I.encode.update[ra]={value:0})}ra=[];if(k.stack.groupbyChannel){Ca=k.fieldDef(k.stack.groupbyChannel);const db=Ia(Ca);db&&ra.push(db);(null!==Ca&&void 0!==Ca&&Ca.bin||null!==Ca&&void 0!==Ca&&Ca.timeUnit)&&ra.push(Ia(Ca,{binSuffix:"end"}))}M="stroke strokeWidth strokeJoin strokeCap strokeDash strokeDashOffset strokeMiterLimit strokeOpacity".split(" ").reduce((db,qb)=>{if(I.encode.update[qb])return Object.assign({},db,{[qb]:I.encode.update[qb]});{const Eb=qc(qb,k.markDef,k.config);return void 0!==
Eb?Object.assign({},db,{[qb]:kc(Eb)}):db}},M);M.stroke&&(M.strokeForeground={value:!0},M.strokeOffset={value:0});return[{type:"group",from:{facet:{data:k.requestDataName(zg.Main),name:"stack_group_"+k.requestDataName(zg.Main),groupby:ra,aggregate:{fields:[u({suffix:"start"}),u({suffix:"start"}),u({suffix:"end"}),u({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:M},marks:[{type:"group",encode:{update:la},marks:[I]}]}]}function Zi(k){const {encoding:I,stack:d,mark:u,markDef:M,config:la}=
k;var ra=I.order;if(!(!n.isArray(ra)&&zf(ra)&&h(ra.value)||!ra&&h(zc("order",M,la)))){if((n.isArray(ra)||kd(ra))&&!d)return Lc(ra,{expr:"datum"});if(Qd(u)){const Ca="horizontal"===M.orient?"y":"x",db=I[Ca];if(kd(db)){ra=db.sort;if(n.isArray(ra))return{field:Ia(db,{prefix:Ca,suffix:"sort_index",expr:"datum"})};if(Xb(ra))return{field:Ia({aggregate:Bf(k.encoding)?ra.op:void 0,field:ra.field},{expr:"datum"})};if(ra&&ra.encoding)return k=k.fieldDef(ra.encoding),{field:Ia(k,{expr:"datum"}),order:ra.order};
if(null!==ra)return{field:Ia(db,{binSuffix:k.stack&&k.stack.impute?"mid":void 0,expr:"datum"})}}}}}function Yi(k,I){I=void 0===I?{fromPrefix:""}:I;const {mark:d,markDef:u,encoding:M,config:la}=k;var ra=u.clip;var Ca=k.getScaleComponent("x");var db=k.getScaleComponent("y");Ca=Ca&&Ca.get("selectionExtent")||db&&db.get("selectionExtent")?!0:void 0;db=(db=k.component.projection)&&!db.isFit?!0:void 0;ra=r(ra,Ca,db);Ca=nc(u);db=M.key;const qb=Zi(k);var Eb;if(k.component.selection){for(var Kb=Eb=Md(k.component.selection).length,
pc=k.parent;pc&&0===Kb;)Kb=Md(pc.component.selection).length,pc=pc.parent;Eb=Kb?{interactive:0<Eb||!!k.encoding.tooltip}:null}else Eb=null;Kb=zc("aria",u,la);pc=Gl[d].postEncodingTransform?Gl[d].postEncodingTransform(k):null;return[Object.assign({},{name:k.getName("marks"),type:Gl[d].vgMark},ra?{clip:!0}:{},Ca?{style:Ca}:{},db?{key:db.field}:{},qb?{sort:qb}:{},Eb?Eb:{},!1===Kb?{aria:Kb}:{},{from:{data:I.fromPrefix+k.requestDataName(zg.Main)},encode:{update:Gl[d].encodeEntry(k)}},pc?{transform:pc}:
{})]}function ri(k,I,d,u,M){if("facet"in k)return new Hl(k,I,d,M);if("layer"in k)return new ym(k,I,d,u,M);if(Te(k))return new zm(k,I,d,u,M);if("vconcat"in k||"hconcat"in k||"concat"in k)return new sn(k,I,d,M);throw Error(Qb(k));}function ul(k,I,d,u){d=void 0===d?{}:d;const M=k.config?Mc(k.config):void 0;d=[].concat(k.assembleSelectionData([]),sh(k.component.data,d));const la=k.assembleProjections(),ra=k.assembleTitle(),Ca=k.assembleGroupStyle(),db=k.assembleGroupEncodeEntry(!0);let qb=k.assembleLayoutSignals();
qb=qb.filter(pc=>"width"!==pc.name&&"height"!==pc.name||void 0===pc.value?!0:(I[pc.name]=+pc.value,!1));var Eb=Object.assign({},I);const Kb=I.params;Eb=(delete Eb.params,Eb);return Object.assign({},{$schema:"https://vega.github.io/schema/vega/v5.json"},k.description?{description:k.description}:{},Eb,ra?{title:ra}:{},Ca?{style:Ca}:{},db?{encode:{update:db}}:{},{data:d},0<la.length?{projections:la}:{},k.assembleGroup([...qb,...k.assembleSelectionTopLevelSignals([]),...Zc(Kb)]),M?{config:M}:{},u?{usermeta:u}:
{})}Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function d(I){var u=isNaN(I)?1:Number(I);return u?Array.prototype.reduce.call(this,function(M,la){return Array.isArray(la)?M.push.apply(M,d.call(la,u-1)):M.push(la),M},[]):Array.prototype.slice.call(this)},writable:!0});Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(I){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var Gj=function(I,
d){d||(d={});"function"===typeof d&&(d={cmp:d});var u="boolean"===typeof d.cycles?d.cycles:!1,M=d.cmp&&function(ra){return function(Ca){return function(db,qb){return ra({key:db,value:Ca[db]},{key:qb,value:Ca[qb]})}}}(d.cmp),la=[];return function db(Ca){Ca&&Ca.toJSON&&"function"===typeof Ca.toJSON&&(Ca=Ca.toJSON());if(void 0!==Ca){if("number"==typeof Ca)return isFinite(Ca)?""+Ca:"null";if("object"!==typeof Ca)return JSON.stringify(Ca);var qb;if(Array.isArray(Ca)){var Eb="[";for(qb=0;qb<Ca.length;qb++)qb&&
(Eb+=","),Eb+=db(Ca[qb])||"null";return Eb+"]"}if(null===Ca)return"null";if(-1!==la.indexOf(Ca)){if(u)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var Kb=la.push(Ca)-1,pc=Object.keys(Ca).sort(M&&M(Ca));Eb="";for(qb=0;qb<pc.length;qb++){var hd=pc[qb],md=db(Ca[hd]);md&&(Eb&&(Eb+=","),Eb+=JSON.stringify(hd)+":"+md)}la.splice(Kb,1);return"{"+Eb+"}"}}(I)};const Bh=function M(d,u){if(d===u)return!0;if(d&&u&&"object"==typeof d&&"object"==typeof u){if(d.constructor!==
u.constructor)return!1;var la;if(Array.isArray(d)){var ra=d.length;if(ra!=u.length)return!1;for(la=ra;0!==la--;)if(!M(d[la],u[la]))return!1;return!0}if(d.constructor===RegExp)return d.source===u.source&&d.flags===u.flags;if(d.valueOf!==Object.prototype.valueOf)return d.valueOf()===u.valueOf();if(d.toString!==Object.prototype.toString)return d.toString()===u.toString();var Ca=Object.keys(d);ra=Ca.length;if(ra!==Object.keys(u).length)return!1;for(la=ra;0!==la--;)if(!Object.prototype.hasOwnProperty.call(u,
Ca[la]))return!1;for(la=ra;0!==la--;)if(ra=Ca[la],!M(d[ra],u[ra]))return!1;return!0}return d!==d&&u!==u},pf=function(d){var u={exports:{}};return d(u,u.exports),u.exports}(function(d){var u=function(){function M(Kb,pc){return null!=pc&&Kb instanceof pc}function la(Kb,pc,hd,md,sd){function yd(ke,df){if(null===ke)return null;if(0===df||"object"!=typeof ke)return ke;if(M(ke,db))var Ye=new db;else if(M(ke,qb))Ye=new qb;else if(M(ke,Eb))Ye=new Eb(function(Bg,$f){ke.then(function(kg){Bg(yd(kg,df-1))},function(kg){$f(yd(kg,
df-1))})});else if(la.__isArray(ke))Ye=[];else if(la.__isRegExp(ke))Ye=new RegExp(ke.source,Ca(ke)),ke.lastIndex&&(Ye.lastIndex=ke.lastIndex);else if(la.__isDate(ke))Ye=new Date(ke.getTime());else{if(Fe&&g.isBuffer(ke))return Ye=g.allocUnsafe?g.allocUnsafe(ke.length):new g(ke.length),ke.copy(Ye),Ye;if(M(ke,Error))Ye=Object.create(ke);else if("undefined"==typeof md){var hg=Object.getPrototypeOf(ke);Ye=Object.create(hg)}else Ye=Object.create(md),hg=md}if(pc){var qe=Ad.indexOf(ke);if(-1!=qe)return ue[qe];
Ad.push(ke);ue.push(Ye)}M(ke,db)&&ke.forEach(function(Bg,$f){$f=yd($f,df-1);Bg=yd(Bg,df-1);Ye.set($f,Bg)});M(ke,qb)&&ke.forEach(function(Bg){Bg=yd(Bg,df-1);Ye.add(Bg)});for(var Lf in ke){var ig;hg&&(ig=Object.getOwnPropertyDescriptor(hg,Lf));ig&&null==ig.set||(Ye[Lf]=yd(ke[Lf],df-1))}if(Object.getOwnPropertySymbols)for(qe=Object.getOwnPropertySymbols(ke),Lf=0;Lf<qe.length;Lf++)if(ig=qe[Lf],hg=Object.getOwnPropertyDescriptor(ke,ig),!hg||hg.enumerable||sd)Ye[ig]=yd(ke[ig],df-1),hg.enumerable||Object.defineProperty(Ye,
ig,{enumerable:!1});if(sd)for(qe=Object.getOwnPropertyNames(ke),Lf=0;Lf<qe.length;Lf++)ig=qe[Lf],hg=Object.getOwnPropertyDescriptor(ke,ig),hg&&hg.enumerable||(Ye[ig]=yd(ke[ig],df-1),Object.defineProperty(Ye,ig,{enumerable:!1}));return Ye}"object"===typeof pc&&(hd=pc.depth,md=pc.prototype,sd=pc.includeNonEnumerable,pc=pc.circular);var Ad=[],ue=[],Fe="undefined"!=typeof g;"undefined"==typeof pc&&(pc=!0);"undefined"==typeof hd&&(hd=Infinity);return yd(Kb,hd)}function ra(Kb){return Object.prototype.toString.call(Kb)}
function Ca(Kb){var pc="";Kb.global&&(pc+="g");Kb.ignoreCase&&(pc+="i");Kb.multiline&&(pc+="m");return pc}try{var db=Map}catch(Kb){db=function(){}}try{var qb=Set}catch(Kb){qb=function(){}}try{var Eb=Promise}catch(Kb){Eb=function(){}}la.clonePrototype=function(Kb){if(null===Kb)return null;var pc=function(){};pc.prototype=Kb;return new pc};la.__objToStr=ra;la.__isDate=function(Kb){return"object"===typeof Kb&&"[object Date]"===ra(Kb)};la.__isArray=function(Kb){return"object"===typeof Kb&&"[object Array]"===
ra(Kb)};la.__isRegExp=function(Kb){return"object"===typeof Kb&&"[object RegExp]"===ra(Kb)};la.__getRegExpFlags=Ca;return la}();d.exports&&(d.exports=u)});Set.prototype.toJSON=function(){return"Set(".concat([...this].map(d=>Gj(d)).join(","),")")};const ng=Gj,Md=Object.keys,wg=Object.values,Qh=Object.entries;let Hj=42;const xg={theta:1,theta2:1,radius:1,radius2:1},Dh={longitude:1,longitude2:1,latitude:1,latitude2:1},si=Md(Dh),Ch=Object.assign({},{x:1,y:1,x2:1,y2:1},xg,Dh,{color:1,fill:1,stroke:1,opacity:1,
fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1}),nj={row:1,column:1,facet:1},ch=Md(nj),mh=Object.assign({},Ch,nj),ik=Md(mh);var lg=Object.assign({},mh),dh=(delete lg.order,delete lg.detail,delete lg.tooltip,lg),Og=Object.assign({},dh);const Ik=(delete Og.row,delete Og.column,delete Og.facet,Og),jk="x2 y2 latitude2 longitude2 theta2 radius2".split(" ");var eh=Object.assign({},Ch);const bl=(delete eh.x,
delete eh.y,delete eh.x2,delete eh.y2,delete eh.latitude,delete eh.longitude,delete eh.latitude2,delete eh.longitude2,delete eh.theta,delete eh.theta2,delete eh.radius,delete eh.radius2,eh),Nl=Md(bl),Zg={x:1,y:1},ti=Md(Zg),Ah={theta:1,radius:1},Jk=Md(Ah);var Ki=Object.assign({},bl);const cl=(delete Ki.text,delete Ki.tooltip,delete Ki.href,delete Ki.url,delete Ki.description,delete Ki.detail,delete Ki.key,delete Ki.order,Ki),Ol=Md(cl),Li=Object.assign({},Zg,Ah,cl),Qk=Md(Li),vl={arc:"always",area:"always",
bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"};var xl=Object.assign({},vl);const Ok=(delete xl.geoshape,xl),gl={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},mf={count:1,min:1,max:1},lh=["count","valid","missing","distinct"],
Rg=["count","sum","distinct","valid","missing"],fh=n.toSet("mean average median q1 q3 min max".split(" ")),qj=Md({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,
limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),fl={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},Qg=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"],nk=n.logger(n.Warn);
let Oi=nk;const Fj="january february march april may june july august september october november december".split(" "),Jj=Fj.map(d=>d.substr(0,3)),Pk="sunday monday tuesday wednesday thursday friday saturday".split(" "),dl=Pk.map(d=>d.substr(0,3)),Mk={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},kk=Md(Mk),ze={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "},Dg={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",
SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},lk={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},ai={linear:0,
log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0},Ri="linear log pow sqrt symlog time utc".split(" "),oh=n.toSet(Ri),ok=n.toSet(["linear","log","pow","sqrt","symlog"]),sj=n.toSet(["quantile","quantize","threshold"]),hl=Ri.concat(["quantile","quantize","threshold","sequential","identity"]),Jg=n.toSet(hl),Pg=n.toSet(["ordinal","bin-ordinal","point","band"]);var Pi=Object.assign({},{type:1,domain:1,domainMax:1,
domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1});const Nk=(delete Pi.type,delete Pi.domain,delete Pi.range,delete Pi.rangeMax,delete Pi.rangeMin,delete Pi.scheme,Pi),Ni=Md(Nk),Tg={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},
Mj=Tg.arc,rj=Tg.area,Rk=Tg.bar,Kl=Tg.image,ck=Tg.line,Bk=Tg.point,Jl=Tg.rect,Uk=Tg.rule,Uj=Tg.text,ll=Tg.tick,Vk=Tg.trail,v=Tg.circle,H=Tg.square,ha=Tg.geoshape,Qa=Md(Tg);n.toSet(Qa);const ib="stroke strokeWidth strokeDash strokeDashOffset strokeOpacity strokeJoin strokeMiterLimit fill fillOpacity".split(" "),Ab=Md({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),Pb=Md({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,
text:1,tick:1,trail:1,geoshape:1}),fc={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},Hc={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1},rd=(d,u)=>{switch(u.fieldTitle){case "plain":return d.field;case "functional":{const {aggregate:M,bin:la,timeUnit:ra,field:Ca}=d;qa(M)?d="".concat(Ca," for argmax(").concat(M.argmax,")"):fa(M)?d="".concat(Ca," for argmin(").concat(M.argmin,
")"):(d=ae(ra),d=(d=M||(null===d||void 0===d?void 0:d.unit)||(null===d||void 0===d?void 0:d.maxbins)&&"timeunit"||Oa(la)&&"bin")?"".concat(d.toUpperCase(),"(").concat(Ca,")"):Ca)}return d;default:return Yb(d,u)}};let oe=rd;const $e={compatible:!0},Jd={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",
vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},
tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}},Ke=["domain","grid","labels","ticks","title"],kf={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",
formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",
tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",
translate:"both",values:"both",zindex:"both"},af={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,
labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,
translate:1,values:1,zindex:1},cd=Object.assign({},af,{style:1,labelExpr:1,encoding:1}),Nc=Md({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1});class Yc{constructor(d,u){this.name=d;this.run=u}hasMatchingType(d){return Te(d)?(d=d.mark,(Qe(d)?d.type:d)===
this.name):!1}}const Dd=new Yc("boxplot",Y),Id=new Yc("errorbar",Pa),rf=new Yc("errorband",Zb),Ee={};rc("boxplot",Y,["box","median","outliers","rule","ticks"]);rc("errorbar",Pa,["ticks","rule"]);rc("errorband",Zb,["band","borders"]);const sf=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],Gf={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",
titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},wf={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},aj=Md(Gf),Ml=Md(wf),km=Md({header:1,
headerRow:1,headerColumn:1,headerFacet:1}),nm="size shape fill stroke strokeDash strokeWidth opacity".split(" "),Fm=["background","padding"],Gm=Md({align:1,bounds:1,center:1,columns:1,spacing:1}),Hm={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:20},mark:{color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},arc:{},area:{},bar:{binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},circle:{},geoshape:{},image:{},
line:{},point:{},rect:{binSpacing:0,continuousBandSize:5,timeUnitBandPosition:.5},rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,
maxStrokeWidth:4,quantileCount:4,quantizeCount:4},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:{point:{on:"click",fields:["_vgsid_"],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] \x3e window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] \x3e window:mousemove!",
zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}},style:{},title:{},facet:{spacing:20},concat:{spacing:20}},xj="#4c78a8 #f58518 #e45756 #72b7b2 #54a24b #eeca3b #b279a2 #ff9da6 #9d755d #bab0ac".split(" "),jm={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},im={blue:xj[0],orange:xj[1],red:xj[2],teal:xj[3],green:xj[4],yellow:xj[5],purple:xj[6],pink:xj[7],brown:xj[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",
gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"},Im=[...Pb,...Nc,...km,"background","padding","legend","lineBreak","scale","style","title","view"],Km=["view",...Qa],Jm="color fontSize background padding facet concat numberFormat timeFormat countTitle header axisQuantitative axisTemporal axisDiscrete axisPoint axisXBand axisXPoint axisXDiscrete axisXQuantitative axisXTemporal axisYBand axisYPoint axisYDiscrete axisYQuantitative axisYTemporal scale selection overlay".split(" "),
Lm=Object.assign({},{view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]});class $l{map(d,u){return"facet"in d?this.mapFacet(d,u):"repeat"in d?this.mapRepeat(d,u):"hconcat"in d?this.mapHConcat(d,u):"vconcat"in d?this.mapVConcat(d,u):"concat"in d?this.mapConcat(d,u):this.mapLayerOrUnit(d,
u)}mapLayerOrUnit(d,u){if("layer"in d)return this.mapLayer(d,u);if(Te(d))return this.mapUnit(d,u);throw Error(Qb(d));}mapLayer(d,u){return Object.assign({},d,{layer:d.layer.map(M=>this.mapLayerOrUnit(M,u))})}mapHConcat(d,u){return Object.assign({},d,{hconcat:d.hconcat.map(M=>this.map(M,u))})}mapVConcat(d,u){return Object.assign({},d,{vconcat:d.vconcat.map(M=>this.map(M,u))})}mapConcat(d,u){var M=Object.assign({},d);d=d.concat;M=(delete M.concat,M);return Object.assign({},M,{concat:d.map(la=>this.map(la,
u))})}mapFacet(d,u){return Object.assign({},d,{spec:this.map(d.spec,u)})}mapRepeat(d,u){return Object.assign({},d,{spec:this.map(d.spec,u)})}}const Om={zero:1,center:1,normalize:1},Mm=new Set([Mj,Rk,rj,Uk,Bk,v,H,ck,Uj,ll]),Nm=new Set([Rk,rj,Mj]);class tn{constructor(){Sc(this,"name","path-overlay")}hasMatchingType(d,u){if(Te(d)){const {mark:M,encoding:la}=d;d=Qe(M)?M:{type:M};switch(d.type){case "line":case "rule":case "trail":return!!mb(d,u[d.type],la);case "area":return!!mb(d,u[d.type],la)||!!tb(d,
u[d.type])}}return!1}run(d,u,M){const {config:la}=u;var ra=Object.assign({},d),Ca=d.params;const db=d.projection;var qb=d.mark;d=d.encoding;ra=(delete ra.params,delete ra.projection,delete ra.mark,delete ra.encoding,ra);d=wa(d,la);qb=Qe(qb)?qb:{type:qb};const Eb=mb(qb,la[qb.type],d),Kb="area"===qb.type&&tb(qb,la[qb.type]);Ca=[Object.assign({},Ca?{params:Ca}:{},{mark:La(Object.assign({},"area"===qb.type&&void 0===qb.opacity&&void 0===qb.fillOpacity?{opacity:.7}:{},qb)),encoding:q(d,["shape"])})];const pc=
ma(qb,d);let hd=d;if(pc){const {fieldChannel:md,offset:sd}=pc;hd=Object.assign({},d,{[md]:Object.assign({},d[md],sd?{stack:sd}:{})})}Kb&&Ca.push(Object.assign({},db?{projection:db}:{},{mark:Object.assign({},{type:"line"},y(qb,["clip","interpolate","tension","tooltip"]),Kb),encoding:hd}));Eb&&Ca.push(Object.assign({},db?{projection:db}:{},{mark:Object.assign({},{type:"point",opacity:1,filled:!0},y(qb,["clip","tooltip"]),Eb),encoding:hd}));return M(Object.assign({},ra,{layer:Ca}),Object.assign({},u,
{config:gb(la)}))}}class un{constructor(){Sc(this,"name","RuleForRangedLine")}hasMatchingType(d){if(Te(d)){const {encoding:u,mark:M}=d;if("line"===M||Qe(M)&&"line"===M.type)for(const la of jk)if(d=sa(la),d=u[d],u[la]&&(kd(d)&&!cb(d.bin)||bf(d)))return!0}return!1}run(d,u,M){const {encoding:la,mark:ra}=d;var Ca=!!la.x2;Ca="Line mark is for continuous lines and thus cannot be used with ".concat(Ca&&la.y2?"x2 and y2":Ca?"x2":"y2",". We will use the rule mark (line segments) instead.");Fb(Ca);console.log(ra);
return M(Object.assign({},d,{mark:n.isObject(ra)?Object.assign({},ra,{type:"rule"}):"rule"}),u)}}class vn extends $l{constructor(...d){super(...d);Sc(this,"nonFacetUnitNormalizers",[Dd,Id,rf,new tn,new un])}map(d,u){if(Te(d)){const M=uf(d.encoding,"row"),la=uf(d.encoding,"column"),ra=uf(d.encoding,"facet");if(M||la||ra)return this.mapFacetedUnit(d,u)}return super.map(d,u)}mapUnit(d,u){const {parentEncoding:M,parentProjection:la}=u;var ra=Rb(d.encoding,u.repeater);d=Object.assign({},d,ra?{encoding:ra}:
{});if(M||la)return this.mapUnitWithParentEncodingOrProjection(d,u);ra=this.mapLayerOrUnit.bind(this);for(const Ca of this.nonFacetUnitNormalizers)if(Ca.hasMatchingType(d,u.config))return Ca.run(d,u,ra);return d}mapRepeat(d,u){return!n.isArray(d.repeat)&&d.repeat.layer?this.mapLayerRepeat(d,u):this.mapNonLayerRepeat(d,u)}mapLayerRepeat(d,u){var M=Object.assign({},d);const la=d.repeat,ra=d.spec;M=(delete M.repeat,delete M.spec,M);const {row:Ca,column:db,layer:qb}=la,{repeater:Eb={},repeaterPrefix:Kb=
""}=u;return Ca||db?this.mapRepeat(Object.assign({},d,{repeat:Object.assign({},Ca?{row:Ca}:{},db?{column:db}:{}),spec:{repeat:{layer:qb},spec:ra}}),u):Object.assign({},M,{layer:qb.map(pc=>{var hd=Object.assign({},Eb,{layer:pc});pc="".concat((ra.name||"")+Kb,"child__layer_").concat(z(pc));hd=this.mapLayerOrUnit(ra,Object.assign({},u,{repeater:hd,repeaterPrefix:pc}));hd.name=pc;return hd})})}mapNonLayerRepeat(d,u){var M,la=d,ra=Object.assign({},la);const Ca=la.repeat,db=la.spec;la=la.data;ra=(delete ra.repeat,
delete ra.spec,delete ra.data,ra);!n.isArray(Ca)&&d.columns&&(d=q(d,["columns"]),Fb(eb("repeat")));const qb=[],{repeater:Eb={},repeaterPrefix:Kb=""}=u,pc=!n.isArray(Ca)&&Ca.row||[Eb?Eb.row:null],hd=!n.isArray(Ca)&&Ca.column||[Eb?Eb.column:null];var md=n.isArray(Ca)&&Ca||[Eb?Eb.repeat:null];for(const yd of md)for(const Ad of pc)for(const ue of hd){var sd={repeat:yd,row:Ad,column:ue,layer:Eb.layer};md=(db.name||"")+Kb+"child__"+(n.isArray(Ca)?"".concat(z(yd)):(Ca.row?"row_".concat(z(Ad)):"")+(Ca.column?
"column_".concat(z(ue)):""));sd=this.map(db,Object.assign({},u,{repeater:sd,repeaterPrefix:md}));sd.name=md;qb.push(q(sd,["data"]))}d=n.isArray(Ca)?d.columns:Ca.column?Ca.column.length:1;return Object.assign({},{data:null!==(M=db.data)&&void 0!==M?M:la,align:"all"},ra,{columns:d,concat:qb})}mapFacet(d,u){const {facet:M}=d;Oc(M)&&d.columns&&(d=q(d,["columns"]),Fb(eb("facet")));return super.mapFacet(d,u)}mapUnitWithParentEncodingOrProjection(d,u){const {encoding:M,projection:la}=d,{parentEncoding:ra,
parentProjection:Ca,config:db}=u,qb=bd({parentProjection:Ca,projection:la});u=qd({parentEncoding:ra,encoding:Rb(M,u.repeater)});return this.mapUnit(Object.assign({},d,qb?{projection:qb}:{},u?{encoding:u}:{}),{config:db})}mapFacetedUnit(d,u){var M=d.encoding,la=Object.assign({},M),ra=M.row;const Ca=M.column;M=M.facet;const db=(delete la.row,delete la.column,delete la.facet,la);var qb=Object.assign({},d);la=d.mark;const Eb=d.width,Kb=d.projection,pc=d.height,hd=d.view;d=d.params;qb=(delete qb.mark,
delete qb.width,delete qb.projection,delete qb.height,delete qb.view,delete qb.params,delete qb.encoding,qb);const {facetMapping:md,layout:sd}=this.getFacetMappingAndLayout({row:ra,column:Ca,facet:M},u);ra=Rb(db,u.repeater);return this.mapFacet(Object.assign({},qb,sd,{facet:md,spec:Object.assign({},Eb?{width:Eb}:{},pc?{height:pc}:{},hd?{view:hd}:{},Kb?{projection:Kb}:{},{mark:la,encoding:ra},d?{params:d}:{})}),u)}getFacetMappingAndLayout(d,u){const {row:M,column:la,facet:ra}=d;if(M||la){ra&&(u=[...M?
["row"]:[],...la?["column"]:[]],u="Facet encoding dropped as ".concat(u.join(" and ")," ").concat(1<u.length?"are":"is"," also specified."),Fb(u));u={};var Ca={};for(var db of["row","column"]){const pc=d[db];if(pc){var qb=Object.assign({},pc);qb=(delete qb.align,delete qb.center,delete qb.spacing,delete qb.columns,qb);u[db]=qb;for(var Eb of["align","center","spacing"])if(void 0!==pc[Eb]){var Kb;null!==(Kb=Ca[Eb])&&void 0!==Kb?Kb:Ca[Eb]={};Ca[Eb][db]=pc[Eb]}}}return{facetMapping:u,layout:Ca}}Ca=Object.assign({},
ra);d=ra.align;Kb=ra.center;db=ra.spacing;Eb=ra.columns;Ca=(delete Ca.align,delete Ca.center,delete Ca.spacing,delete Ca.columns,Ca);u=(u=u.repeater)?Oc(Ca)?zd(Ca,u):Wb(Ca,u):Ca;return{facetMapping:u,layout:Object.assign({},d?{align:d}:{},Kb?{center:Kb}:{},db?{spacing:db}:{},Eb?{columns:Eb}:{})}}mapLayer(d,u){var M=Object.assign({},u),la=u.parentEncoding;u=u.parentProjection;M=(delete M.parentEncoding,delete M.parentProjection,M);var ra=Object.assign({},d);const Ca=d.encoding;d=d.projection;ra=(delete ra.encoding,
delete ra.projection,ra);la=Object.assign({},M,{parentEncoding:qd({parentEncoding:la,encoding:Ca,layer:!0}),parentProjection:bd({parentProjection:u,projection:d})});return super.mapLayer(ra,la)}}class wn extends $l{map(d,u){var M,la;null!==(M=u.emptySelections)&&void 0!==M?M:u.emptySelections={};null!==(la=u.selectionPredicates)&&void 0!==la?la:u.selectionPredicates={};d=ud(d,u);return super.map(d,u)}mapLayerOrUnit(d,u){d=ud(d,u);if(d.encoding){const M={};for(const la of Qh(d.encoding)){const [ra,
Ca]=la;M[ra]=de(Ca,u)}d=Object.assign({},d,{encoding:M})}return super.mapLayerOrUnit(d,u)}mapUnit(d,u){var M=Object.assign({},d);const la=d.selection;M=(delete M.selection,M);return la?Object.assign({},M,{params:Qh(la).map(ra=>{var [Ca,db]=ra,qb=Object.assign({},db);ra=db.init;const Eb=db.bind,Kb=db.empty;qb=(delete qb.init,delete qb.bind,delete qb.empty,qb);"single"===qb.type?(qb.type="point",qb.toggle=!1):"multi"===qb.type&&(qb.type="point");u.emptySelections[Ca]="none"!==Kb;for(const hd of wg(null!==
(pc=u.selectionPredicates[Ca])&&void 0!==pc?pc:{})){var pc;hd.empty="none"!==Kb}return{name:Ca,value:ra,select:qb,bind:Eb}})}):d}}class am extends $l{map(d,u){var M;const la=null!==(M=u.selections)&&void 0!==M?M:[];if(d.params&&!Te(d)){M=[];for(const ra of d.params)ra.select?la.push(ra):M.push(ra);d.params=M}u.selections=la;return super.map(d,ne(d,u))}mapUnit(d,u){var M;const la=u.selections;if(!la||!la.length)return d;const ra=(null!==(M=u.path)&&void 0!==M?M:[]).concat(d.name);u=[];for(const Ca of la)if(Ca.views&&
Ca.views.length)for(const db of Ca.views)(F.isString(db)&&(db===d.name||0<=ra.indexOf(db))||F.isArray(db)&&db.map(qb=>ra.indexOf(qb)).every((qb,Eb,Kb)=>-1!==qb&&(0===Eb||qb>Kb[Eb-1])))&&u.push(Ca);else u.push(Ca);u.length&&(d.params=u);return d}}for(const d of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const u=am.prototype[d];am.prototype[d]=function(M,la){return u.call(this,M,ne(M,la))}}const Qm=new vn,Rm=new wn,Pm=new am;class Yj{constructor(d,u){d=void 0===d?{}:d;u=void 0===
u?{}:u;this.explicit=d;this.implicit=u}clone(){return new Yj(pf(this.explicit),pf(this.implicit))}combine(){return Object.assign({},this.explicit,this.implicit)}get(d){return r(this.explicit[d],this.implicit[d])}getWithExplicit(d){return void 0!==this.explicit[d]?{explicit:!0,value:this.explicit[d]}:void 0!==this.implicit[d]?{explicit:!1,value:this.implicit[d]}:{explicit:!1,value:void 0}}setWithExplicit(d,u){var {value:M,explicit:la}=u;void 0!==M&&this.set(d,M,la)}set(d,u,M){delete this[M?"implicit":
"explicit"][d];this[M?"explicit":"implicit"][d]=u;return this}copyKeyFromSplit(d,u){var {explicit:M,implicit:la}=u;void 0!==M[d]?this.set(d,M[d],!0):void 0!==la[d]&&this.set(d,la[d],!1)}copyKeyFromObject(d,u){void 0!==u[d]&&this.set(d,u[d],!0)}copyAll(d){for(const u of Md(d.combine())){const M=d.getWithExplicit(u);this.setWithExplicit(u,M)}}}class qn extends Yj{constructor(d,u,M){d=void 0===d?{}:d;u=void 0===u?{}:u;M=void 0===M?!1:M;super(d,u);this.explicit=d;this.implicit=u;this.parseNothing=M}clone(){const d=
super.clone();d.parseNothing=this.parseNothing;return d}}let zg;(function(d){d[d.Raw=0]="Raw";d[d.Main=1]="Main";d[d.Row=2]="Row";d[d.Column=3]="Column";d[d.Lookup=4]="Lookup"})(zg||(zg={}));const Tm=/[[\]{}]/,Sm={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let lm,mm;class qg{constructor(d,u){this.debugName=u;Sc(this,"_children",[]);Sc(this,"_parent",null);Sc(this,"_hash",void 0);d&&(this.parent=d)}clone(){throw Error("Cannot clone node");}get parent(){return this._parent}set parent(d){(this._parent=
d)&&d.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(d,u){this._children.includes(d)?Fb("Attempt to add the same child twice."):void 0!==u?this._children.splice(u,0,d):this._children.push(d)}removeChild(d){d=this._children.indexOf(d);this._children.splice(d,1);return d}remove(){let d=this._parent.removeChild(this);for(const u of this._children)u._parent=this._parent,this._parent.addChild(u,d++)}insertAsParentOf(d){const u=d.parent;u.removeChild(this);
this.parent=u;d.parent=this}swapWithParent(){const d=this._parent,u=d.parent;for(const M of this._children)M.parent=d;this._children=[];d.removeChild(this);d.parent.removeChild(d);this.parent=u;d.parent=this}}class Ih extends qg{clone(){const d=new this.constructor;d.debugName="clone_".concat(this.debugName);d._source=this._source;d._name="clone_".concat(this._name);d.type=this.type;d.refCounts=this.refCounts;d.refCounts[d._name]=0;return d}constructor(d,u,M,la){super(d,u);this.type=M;this.refCounts=
la;Sc(this,"_source",void 0);Sc(this,"_name",void 0);this._source=this._name=u;!this.refCounts||this._name in this.refCounts||(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){void 0===this._hash&&(this._hash="Output ".concat(N()));return this._hash}getSource(){this.refCounts[this._name]++;return this._source}isRequired(){return!!this.refCounts[this._name]}setSource(d){this._source=d}}class wj extends qg{clone(){return new wj(null,pf(this.formula))}constructor(d,
u){super(d);this.formula=u}static makeFromEncoding(d,u){u=u.reduceFieldDef((M,la)=>{const {field:ra,timeUnit:Ca}=la;Ca&&(la=Ia(la,{forAs:!0}),M[l({as:la,field:ra,timeUnit:Ca})]={as:la,field:ra,timeUnit:Ca});return M},{});return L(u)?null:new wj(d,u)}static makeFromTransform(d,u){var M=Object.assign({},u);u=Object.assign({},M);M=M.timeUnit;u=(delete u.timeUnit,u);M=ae(M);u=Object.assign({},u,{timeUnit:M});return new wj(d,{[l(u)]:u})}merge(d){this.formula=Object.assign({},this.formula);for(const u in d.formula)this.formula[u]||
(this.formula[u]=d.formula[u]);for(const u of d.children)d.removeChild(u),u.parent=this;d.remove()}removeFormulas(d){const u={};for(const M of Qh(this.formula)){const [la,ra]=M;d.has(ra.as)||(u[la]=ra)}this.formula=u}producedFields(){return new Set(wg(this.formula).map(d=>d.as))}dependentFields(){return new Set(wg(this.formula).map(d=>d.field))}hash(){return"TimeUnit ".concat(l(this.formula))}assemble(){const d=[];for(const la of wg(this.formula)){const {field:ra,as:Ca,timeUnit:db}=la;var u=ae(db),
M=Object.assign({},u);const qb=u.unit;u=u.utc;M=(delete M.unit,delete M.utc,M);d.push(Object.assign({},{field:da(ra),type:"timeunit"},qb?{units:Cd(qb)}:{},u?{timezone:"utc"}:{},M,{as:[Ca,"".concat(Ca,"_end")]}))}return d}}class xn{constructor(...d){Sc(this,"hasChannel",void 0);Sc(this,"hasField",void 0);Sc(this,"timeUnit",void 0);Sc(this,"items",void 0);this.items=d;this.hasChannel={};this.hasField={}}}const Wj={defined:d=>"interval"===d.type&&"global"===d.resolve&&d.bind&&"scales"===d.bind,parse:(d,
u)=>{const M=u.scales=[];for(const ra of u.project.items){var la=ra.channel;if(!Li[la])continue;const Ca=(la=d.getScaleComponent(la))?la.get("type"):void 0;la&&Ca in Jg?(la.set("selectionExtent",{param:u.name,field:ra.field},!0),M.push(ra)):Fb("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}},topLevelSignals:(d,u,M)=>{const la=u.scales.filter(Ca=>0===M.filter(db=>db.name===Ca.signals.data).length);if(!d.parent||Kj(d)||0===la.length)return M;d=M.filter(Ca=>
Ca.name===u.name)[0];let ra=d.update;if(0<=ra.indexOf("vlSelectionResolve"))d.update="{".concat(la.map(Ca=>"".concat(n.stringValue(da(Ca.field)),": ").concat(Ca.signals.data)).join(", "),"}");else{for(const Ca of la){const db="".concat(n.stringValue(da(Ca.field)),": ").concat(Ca.signals.data);ra.includes(db)||(ra="".concat(ra.substring(0,ra.length-1),", ").concat(db,"}"))}d.update=ra}return M.concat(la.map(Ca=>({name:Ca.signals.data})))},signals:(d,u,M)=>{if(d.parent&&!Kj(d))for(const la of u.scales)d=
M.filter(ra=>ra.name===la.signals.data)[0],d.push="outer",delete d.value,delete d.update;return M}},Um={left:"x",center:"xc",right:"x2"},Vm={top:"y",middle:"yc",bottom:"y2"},Wm=new Set(["aria","width","height"]),Am={defined:d=>"point"===d.type&&d.nearest,parse:(d,u)=>{if(u.events)for(const M of u.events)M.markname=d.getName("voronoi")},marks:(d,u,M)=>{const {x:la,y:ra}=u.project.hasChannel;u=d.mark;if(Qd(u))return Fb('The "nearest" transform is not supported for '.concat(u," marks.")),M;u={name:d.getName("voronoi"),
type:"path",interactive:!0,from:{data:d.getName("marks")},encode:{update:Object.assign({},{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},$i(d,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:la||!ra?"datum.datum.x || 0":"0"},y:{expr:ra||!la?"datum.datum.y || 0":"0"},size:[d.getSizeSignalRef("width"),d.getSizeSignalRef("height")]}]};let Ca=0,db=!1;M.forEach((qb,Eb)=>{var Kb;qb=null!==(Kb=qb.name)&&void 0!==Kb?Kb:"";qb===d.component.mark[0].name?
Ca=Eb:0<=qb.indexOf("voronoi")&&(db=!0)});db||M.splice(Ca+1,0,u);return M}},Bm={defined:d=>"point"===d.type&&"global"===d.resolve&&d.bind&&"scales"!==d.bind&&!Gc(d.bind),parse:(d,u,M)=>ug(u,M),topLevelSignals:(d,u,M)=>{const la=u.name;d=u.project;const ra=u.bind,Ca=u.init&&u.init[0],db=Am.defined(u)?"(item().isVoronoi ? datum.datum : datum)":"datum";d.items.forEach((qb,Eb)=>{const Kb=z("".concat(la,"_").concat(qb.field));if(!M.filter(md=>md.name===Kb).length){var pc,hd;M.unshift(Object.assign({},
{name:Kb},Ca?{init:Eh(Ca[Eb])}:{value:null},{on:u.events?[{events:u.events,update:"datum \x26\x26 item().mark.marktype !\x3d\x3d 'group' ? ".concat(db,"[").concat(n.stringValue(qb.field),"] : null")}]:[],bind:null!==(pc=null!==(hd=ra[qb.field])&&void 0!==hd?hd:ra[qb.channel])&&void 0!==pc?pc:ra}))}});return M},signals:(d,u,M)=>{const la=u.name;var ra=u.project;d=M.filter(db=>db.name===la+"_tuple")[0];u=la+"_tuple_fields";ra=ra.items.map(db=>z("".concat(la,"_").concat(db.field)));const Ca=ra.map(db=>
"".concat(db," !\x3d\x3d null")).join(" \x26\x26 ");ra.length&&(d.update="".concat(Ca," ? {fields: ").concat(u,", values: [").concat(ra.join(", "),"]} : null"));delete d.value;delete d.on;return M}},Cm={defined:d=>"point"===d.type&&!!d.toggle,signals:(d,u,M)=>M.concat({name:u.name+"_toggle",value:!1,on:[{events:u.events,update:u.toggle}]}),modifyExpr:(d,u)=>{const M=u.name+"_tuple",la=u.name+"_toggle";return"".concat(la," ? null : ").concat(M,", ")+("global"===u.resolve?"".concat(la," ? null : true, "):
"".concat(la," ? null : {unit: ").concat($g(d),"}, "))+"".concat(la," ? ").concat(M," : null")}},om={defined:d=>{const u="global"===d.resolve&&d.bind&&Gc(d.bind);d=1===d.project.items.length&&"_vgsid_"!==d.project.items[0].field;u&&!d&&Fb("Legend bindings are only supported for selections over an individual field or encoding channel.");return u&&d},parse:(d,u,M)=>{d=pf(M);d.select=n.isString(d.select)?{type:d.select,toggle:u.toggle}:Object.assign({},d.select,{toggle:u.toggle});ug(u,d);if(F.isObject(M.select)&&
(M.select.on||M.select.clear))for(const ra of u.events){var la;ra.filter=n.array(null!==(la=ra.filter)&&void 0!==la?la:[]);ra.filter.includes('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')||ra.filter.push('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')}M=dd(u.bind)?u.bind.legend:"click";M=n.isString(M)?xf(M,"view"):n.array(M);u.bind={legend:{merge:M}}},topLevelSignals:(d,u,M)=>{d=u.name;const la=dd(u.bind)&&u.bind.legend,ra=db=>qb=>{qb=pf(qb);qb.markname=
db;return qb};for(const db of u.project.items){if(!db.hasLegend)continue;var Ca="".concat(z(db.field),"_legend");const qb="".concat(d,"_").concat(Ca);0===M.filter(Eb=>Eb.name===qb).length&&(Ca=la.merge.map(ra("".concat(Ca,"_symbols"))).concat(la.merge.map(ra("".concat(Ca,"_labels")))).concat(la.merge.map(ra("".concat(Ca,"_entries")))),M.unshift(Object.assign({},{name:qb},u.init?{}:{value:null},{on:[{events:Ca,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:la.merge,
update:"!event.item || !datum ? null : ".concat(qb),force:!0}]})))}return M},signals:(d,u,M)=>{const la=u.name;var ra=u.project;d=M.find(qb=>qb.name===la+"_tuple");var Ca=la+"_tuple_fields";ra=ra.items.filter(qb=>qb.hasLegend).map(qb=>z("".concat(la,"_").concat(z(qb.field),"_legend")));const db=ra.map(qb=>"".concat(qb," !\x3d\x3d null")).join(" \x26\x26 ");Ca="".concat(db," ? {fields: ").concat(Ca,", values: [").concat(ra.join(", "),"]} : null");u.events&&0<ra.length?d.on.push({events:ra.map(qb=>
({signal:qb})),update:Ca}):0<ra.length&&(d.update=Ca,delete d.value,delete d.on);d=M.find(qb=>qb.name===la+"_toggle");Ca=dd(u.bind)&&u.bind.legend;d&&(u.events?d.on.push(Object.assign({},d.on[0],{events:Ca})):d.on[0].events=Ca);return M}},Al=[{defined:d=>"point"===d.type,signals:(d,u,M)=>{const la=u.name;var ra=la+"_tuple_fields";const Ca=u.project.items.map(db=>{const qb=d.fieldDef(db.channel);return qb&&qb.bin?"[".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(n.stringValue(d.vgField(db.channel,
{})),"], ")+"".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(n.stringValue(d.vgField(db.channel,{binSuffix:"end"})),"]]"):"".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(n.stringValue(db.field),"]")}).join(", ");ra="unit: ".concat($g(d),", fields: ").concat(ra,", values");u=u.events;return M.concat([{name:la+"_tuple",on:u?[{events:u,update:"datum \x26\x26 item().mark.marktype !\x3d\x3d 'group' ? {".concat(ra,": [").concat(Ca,"]} : null"),force:!0}]:[]}])}},{defined:d=>
"interval"===d.type,signals:(d,u,M)=>{const la=u.name;var ra=la+"_tuple_fields";const Ca=Wj.defined(u),db=u.init?u.init[0]:null,qb=[],Eb=[];if(u.translate&&!Ca){const Kb="!event.item || event.item.mark.name !\x3d\x3d ".concat(n.stringValue(la+"_brush"));kh(u,(pc,hd)=>{var md,sd;hd=n.array(null!==(sd=(md=hd.between[0]).filter)&&void 0!==sd?sd:md.filter=[]);hd.includes(Kb)||hd.push(Kb);return pc})}u.project.items.forEach((Kb,pc)=>{const hd=Kb.channel;if("x"!==hd&&"y"!==hd)Fb("Interval selections only support x and y encoding channels.");
else{pc=Sk(d,u,Kb,db?db[pc]:null);var md=Kb.signals.data;Kb=Kb.signals.visual;var sd=n.stringValue(d.scaleName(hd)),yd=d.getScaleComponent(hd).get("type")in Jg?"+":"";M.push(...pc);qb.push(md);Eb.push({scaleName:d.scaleName(hd),expr:"(!isArray(".concat(md,") || ")+"(".concat(yd,"invert(").concat(sd,", ").concat(Kb,")[0] \x3d\x3d\x3d ").concat(yd).concat(md,"[0] \x26\x26 ")+"".concat(yd,"invert(").concat(sd,", ").concat(Kb,")[1] \x3d\x3d\x3d ").concat(yd).concat(md,"[1]))")})}});Ca||M.push({name:la+
"_scale_trigger",value:{},on:[{events:Eb.map(Kb=>({scale:Kb.scaleName})),update:"".concat(Eb.map(Kb=>Kb.expr).join(" \x26\x26 ")," ? ").concat(la+"_scale_trigger"," : {}")}]});ra="unit: ".concat($g(d),", fields: ").concat(ra,", values");return M.concat(Object.assign({},{name:la+"_tuple"},db?{init:"{".concat(ra,": ").concat(Eh(db),"}")}:{},{on:[{events:[{signal:qb.join(" || ")}],update:"".concat(qb.join(" \x26\x26 ")," ? {").concat(ra,": [").concat(qb,"]} : null")}]}))},marks:(d,u,M)=>{const la=u.name,
{x:ra,y:Ca}=u.project.hasChannel,db=ra&&ra.signals.visual,qb=Ca&&Ca.signals.visual;var Eb="data(".concat(n.stringValue(u.name+"_store"),")");if(Wj.defined(u))return M;const Kb={x:void 0!==ra?{signal:"".concat(db,"[0]")}:{value:0},y:void 0!==Ca?{signal:"".concat(qb,"[0]")}:{value:0},x2:void 0!==ra?{signal:"".concat(db,"[1]")}:{field:{group:"width"}},y2:void 0!==Ca?{signal:"".concat(qb,"[1]")}:{field:{group:"height"}}};if("global"===u.resolve)for(var pc of Md(Kb))Kb[pc]=[Object.assign({},{test:"".concat(Eb,
".length \x26\x26 ").concat(Eb,"[0].unit \x3d\x3d\x3d ").concat($g(d))},Kb[pc]),{value:0}];pc=u.mark;Eb=Object.assign({},pc);d=pc.fill;u=pc.fillOpacity;pc=pc.cursor;const hd=(delete Eb.fill,delete Eb.fillOpacity,delete Eb.cursor,Eb);Eb=Md(hd).reduce((md,sd)=>{md[sd]=[{test:[void 0!==ra&&"".concat(db,"[0] !\x3d\x3d ").concat(db,"[1]"),void 0!==Ca&&"".concat(qb,"[0] !\x3d\x3d ").concat(qb,"[1]")].filter(yd=>yd).join(" \x26\x26 "),value:hd[sd]},{value:null}];return md},{});return[{name:"".concat(la+
"_brush","_bg"),type:"rect",clip:!0,encode:{enter:{fill:{value:d},fillOpacity:{value:u}},update:Kb}},...M,{name:la+"_brush",type:"rect",clip:!0,encode:{enter:Object.assign({},pc?{cursor:{value:pc}}:{},{fill:{value:"transparent"}}),update:Object.assign({},Kb,Eb)}}]}},{defined:()=>!0,parse:(d,u,M)=>{var la;const ra=u.name,Ca=null!==(la=u.project)&&void 0!==la?la:u.project=new xn,db={};la={};const qb=new Set,Eb=(Fe,ke)=>{Fe="visual"===ke?Fe.channel:Fe.field;let df=z("".concat(ra,"_").concat(Fe));for(let Ye=
1;qb.has(df);Ye++)df=z("".concat(ra,"_").concat(Fe,"_").concat(Ye));qb.add(df);return{[ke]:df}},Kb=u.type,pc=d.config.selection[Kb],hd=void 0!==M.value?n.array(M.value):null;let {fields:md,encodings:sd}=n.isObject(M.select)?M.select:{};if(!md&&!sd&&hd)for(var yd of hd)if(n.isObject(yd))for(const Fe of Md(yd))Ik[Fe]?(sd||(sd=[])).push(Fe):"interval"===Kb?(Fb('Interval selections should be initialized using "x" and/or "y" keys.'),sd=pc.encodings):(md||(md=[])).push(Fe);md||sd||(sd=pc.encodings,md=pc.fields);
for(const Fe of null!==(Ad=sd)&&void 0!==Ad?Ad:[]){var Ad;(Ad=d.fieldDef(Fe))?(M=Ad.field,Ad.aggregate?Fb(Wd(Fe,Ad.aggregate)):M?(Ad.timeUnit&&(M=d.vgField(Fe),yd={timeUnit:Ad.timeUnit,as:M,field:Ad.field},la[l(yd)]=yd),db[M]||(yd="E","interval"===Kb?d.getScaleComponent(Fe).get("type")in Jg&&(yd="R"):Ad.bin&&(yd="R-RE"),Ad={field:M,channel:Fe,type:yd},Ad.signals=Object.assign({},Eb(Ad,"data"),Eb(Ad,"visual")),Ca.items.push(db[M]=Ad),Ca.hasField[M]=Ca.hasChannel[Fe]=db[M])):Fb(Gd(Fe))):Fb(Gd(Fe))}for(const Fe of null!==
(ue=md)&&void 0!==ue?ue:[]){var ue;Ca.hasField[Fe]||(d={type:"E",field:Fe},d.signals=Object.assign({},Eb(d,"data")),Ca.items.push(d),Ca.hasField[Fe]=d)}hd&&(u.init=hd.map(Fe=>Ca.items.map(ke=>n.isObject(Fe)?void 0!==Fe[ke.channel]?Fe[ke.channel]:Fe[ke.field]:Fe)));L(la)||(Ca.timeUnit=new wj(null,la))},signals:(d,u,M)=>{const la=u.name+"_tuple_fields";return 0<M.filter(ra=>ra.name===la).length?M:M.concat({name:la,value:u.project.items.map(ra=>{ra=Object.assign({},ra);ra=(delete ra.signals,delete ra.hasLegend,
ra);ra.field=da(ra.field);return ra})})}},Cm,Bm,Wj,om,{defined:d=>void 0!==d.clear&&!1!==d.clear,parse:(d,u)=>{u.clear&&(u.clear=n.isString(u.clear)?xf(u.clear,"view"):u.clear)},topLevelSignals:(d,u,M)=>{if(Bm.defined(u))for(const la of u.project.items)d=M.findIndex(ra=>ra.name===z("".concat(u.name,"_").concat(la.field))),-1!==d&&M[d].on.push({events:u.clear,update:"null"});return M},signals:(d,u,M)=>{function la(ra,Ca){-1!==ra&&M[ra].on&&M[ra].on.push({events:u.clear,update:Ca})}if("interval"===
u.type)for(const ra of u.project.items)d=M.findIndex(Ca=>Ca.name===ra.signals.visual),la(d,"[0, 0]"),-1===d&&(d=M.findIndex(Ca=>Ca.name===ra.signals.data),la(d,"null"));else d=M.findIndex(ra=>ra.name===u.name+"_tuple"),la(d,"null"),Cm.defined(u)&&(d=M.findIndex(ra=>ra.name===u.name+"_toggle"),la(d,"false"));return M}},{defined:d=>"interval"===d.type&&d.translate,signals:(d,u,M)=>{const la=u.name,ra=Wj.defined(u),Ca=la+"_translate_anchor",{x:db,y:qb}=u.project.hasChannel;let Eb=xf(u.translate,"scope");
ra||(Eb=Eb.map(Kb=>(Kb.between[0].markname=la+"_brush",Kb)));M.push({name:Ca,value:{},on:[{events:Eb.map(Kb=>Kb.between[0]),update:"{x: x(unit), y: y(unit)"+(void 0!==db?", extent_x: ".concat(ra?Qi(d,"x"):"slice(".concat(db.signals.visual,")")):"")+(void 0!==qb?", extent_y: ".concat(ra?Qi(d,"y"):"slice(".concat(qb.signals.visual,")")):"")+"}"}]},{name:la+"_translate_delta",value:{},on:[{events:Eb,update:"{x: ".concat(Ca,".x - x(unit), y: ").concat(Ca,".y - y(unit)}")}]});void 0!==db&&rg(d,u,db,"width",
M);void 0!==qb&&rg(d,u,qb,"height",M);return M}},{defined:d=>"interval"===d.type&&d.zoom,signals:(d,u,M)=>{const la=u.name,ra=Wj.defined(u),Ca=la+"_zoom_delta",{x:db,y:qb}=u.project.hasChannel,Eb=n.stringValue(d.scaleName("x")),Kb=n.stringValue(d.scaleName("y"));let pc=xf(u.zoom,"scope");ra||(pc=pc.map(hd=>(hd.markname=la+"_brush",hd)));M.push({name:la+"_zoom_anchor",on:[{events:pc,update:ra?"{"+[Eb?"x: invert(".concat(Eb,", x(unit))"):"",Kb?"y: invert(".concat(Kb,", y(unit))"):""].filter(hd=>!!hd).join(", ")+
"}":"{x: x(unit), y: y(unit)}"}]},{name:Ca,on:[{events:pc,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]});void 0!==db&&Rj(d,u,db,"width",M);void 0!==qb&&Rj(d,u,qb,"height",M);return M}},Am];Hg.prototype.visit=function(d){let u,M,la;if(d(this))return 1;u=vh(this);M=0;for(la=u.length;M<la;++M)if(u[M].visit(d))return 1};var Me,xd,uh,gg,Xm=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
Ym=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/;
const Zm={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},$m={"if":1};class nl extends qg{clone(){return new nl(null,
this.model,pf(this.filter))}constructor(d,u,M){super(d);this.model=u;this.filter=M;Sc(this,"expr",void 0);Sc(this,"_dependentFields",void 0);this.expr=ih(this.model,this.filter,this);this._dependentFields=Se(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return"Filter ".concat(this.expr)}}const xm={scale:d=>{var {model:u,channel:M}=d;return u.scaleName(M)},format:d=>{var {fieldOrDatumDef:u,config:M,axis:la}=
d;const {format:ra,formatType:Ca}=la;return Bc(u,u.type,ra,Ca,M,!0)},formatType:d=>{var {axis:u,fieldOrDatumDef:M,scaleType:la}=d;({formatType:d}=u);return xa(d,M,la)},grid:d=>{var {fieldOrDatumDef:u,axis:M,scaleType:la}=d,ra;return null!==(ra=M.grid)&&void 0!==ra?ra:!(la in Pg)&&kd(u)&&!Oa(null===u||void 0===u?void 0:u.bin)&&!cb(null===u||void 0===u?void 0:u.bin)},gridScale:d=>{var {model:u,channel:M}=d;d="x"===M?"y":"x";d=u.getScaleComponent(d)?u.scaleName(d):void 0;return d},labelAlign:d=>{var {axis:u,
labelAngle:M,orient:la,channel:ra}=d;return u.labelAlign||zh(M,la,ra)},labelAngle:d=>{({labelAngle:d}=d);return d},labelBaseline:d=>{var {axis:u,labelAngle:M,orient:la,channel:ra}=d;return u.labelBaseline||Bj(M,la,ra)},labelFlush:d=>{var {axis:u,fieldOrDatumDef:M,channel:la}=d,ra;d=null!==(ra=u.labelFlush)&&void 0!==ra?ra:"x"===la&&c(["quantitative","temporal"],M.type)?!0:void 0;return d},labelOverlap:d=>{var {axis:u,fieldOrDatumDef:M,scaleType:la}=d,ra;if(null!==(ra=u.labelOverlap)&&void 0!==ra)d=
ra;else{d=M.type;ra=kd(M)&&!!M.timeUnit;var Ca=kd(M)?M.sort:void 0;d=ra&&!n.isObject(Ca)||"nominal"!==d&&"ordinal"!==d?"log"===la||"symlog"===la?"greedy":!0:void 0}return d},orient:d=>{({orient:d}=d);return d},tickCount:d=>{var {channel:u,model:M,axis:la,fieldOrDatumDef:ra,scaleType:Ca}=d,db;d=(d="x"===u?"width":"y"===u?"height":void 0)?M.getSizeSignalRef(d):void 0;if(null===(db=la.tickCount)||void 0===db)a:{var {fieldOrDatumDef:qb,scaleType:Eb,size:Kb,values:pc}={fieldOrDatumDef:ra,scaleType:Ca,
size:d,values:la.values};if(pc||Eb in Pg||"log"===Eb)db=void 0;else{if(kd(qb)){var hd;if(Oa(qb.bin)){db={signal:"ceil(".concat(Kb.signal,"/10)")};break a}if(qb.timeUnit&&c(["month","hours","day","quarter"],null===(hd=ae(qb.timeUnit))||void 0===hd?void 0:hd.unit)){db=void 0;break a}}db={signal:"ceil(".concat(Kb.signal,"/40)")}}}return db},title:d=>{var {axis:u,model:M,channel:la}=d;if(void 0!==u.title)return u.title;d=li(M,la);if(void 0!==d)return d;d=M.typedFieldDef(la);const ra=M.fieldDef("x"===
la?"x2":"y2");return Fd(d?[ld(d)]:[],kd(ra)?[ld(ra)]:[])},values:d=>{var {axis:u,fieldOrDatumDef:M}=d;d=u.values;d=n.isArray(d)?Je(M,d):Ma(d)?d:void 0;return d},zindex:d=>{var {axis:u,fieldOrDatumDef:M,mark:la}=d,ra;d=null!==(ra=u.zindex)&&void 0!==ra?ra:"rect"===la&&wb(M)?1:0;return d}};class ol extends qg{clone(){return new ol(null,pf(this.transform))}constructor(d,u){super(d);this.transform=u;Sc(this,"_dependentFields",void 0);this._dependentFields=Se(this.transform.calculate)}static parseAllForSortIndex(d,
u){u.forEachFieldDef((M,la)=>{if(tf(M)&&xc(M.sort)){const {field:Ca,timeUnit:db}=M;var ra=M.sort;ra=ra.map((qb,Eb)=>"".concat(ye({field:Ca,timeUnit:db,equal:qb})," ? ").concat(Eb," : ")).join("")+ra.length;d=new ol(d,{calculate:ra,as:ki(M,la,{forAs:!0})})}});return d}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return"Calculate ".concat(l(this.transform))}}
const bm=["row","column"],Rl=["header","footer"],yn={column:{start:0,end:1},row:{start:1,end:0}},zn=Object.assign({},{aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,
labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,
values:1,zindex:1},{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),pm=Md(zn);class an extends Yj{}const rm={symbols:function(d,u){var {fieldOrDatumDef:M,model:la,channel:ra,legendCmpt:Ca,legendType:db}=u,qb,Eb,Kb,pc;if("symbol"===db){var {markDef:hd,encoding:md,config:sd,mark:yd}=la,Ad=hd.filled&&"trail"!==yd;u=Object.assign({},yc({},la,ib),tj(la,{filled:Ad}));var ue=null!==(qb=Ca.get("symbolOpacity"))&&void 0!==qb?qb:sd.legend.symbolOpacity;
qb=null!==(Eb=Ca.get("symbolFillColor"))&&void 0!==Eb?Eb:sd.legend.symbolFillColor;Eb=null!==(Kb=Ca.get("symbolStrokeColor"))&&void 0!==Kb?Kb:sd.legend.symbolStrokeColor;Kb=void 0===ue?null!==(pc=bj(md.opacity))&&void 0!==pc?pc:hd.opacity:void 0;if(u.fill)if("fill"===ra||Ad&&"color"===ra)delete u.fill;else if(u.fill.field)if(qb)delete u.fill;else{var Fe;u.fill=kc(null!==(Fe=sd.legend.symbolBaseFillColor)&&void 0!==Fe?Fe:"black");u.fillOpacity=kc(null!==Kb&&void 0!==Kb?Kb:1)}else if(n.isArray(u.fill)){var ke,
df,Ye;if(pc=null!==(ke=null!==(df=Eg(null!==(Ye=md.fill)&&void 0!==Ye?Ye:md.color))&&void 0!==df?df:hd.fill)&&void 0!==ke?ke:Ad&&hd.color)u.fill=kc(pc)}u.stroke&&("stroke"===ra||!Ad&&"color"===ra?delete u.stroke:u.stroke.field||Eb?delete u.stroke:n.isArray(u.stroke)&&(ke=r(Eg(md.stroke||md.color),hd.stroke,Ad?hd.color:void 0))&&(u.stroke={value:ke}));"opacity"!==ra&&((ke=kd(M)&&tk(la,Ca,M))?u.opacity=[Object.assign({},{test:ke},kc(null!==Kb&&void 0!==Kb?Kb:1)),kc(sd.legend.unselectedOpacity)]:Kb&&
(u.opacity=kc(Kb)));u=Object.assign({},u,d);return L(u)?void 0:u}},gradient:function(d,u){var {model:M,legendType:la,legendCmpt:ra}=u,Ca;if("gradient"===la){var {config:db,markDef:qb,encoding:Eb}=M;u={};var Kb=void 0===(null!==(Ca=ra.get("gradientOpacity"))&&void 0!==Ca?Ca:db.legend.gradientOpacity)?bj(Eb.opacity)||qb.opacity:void 0;Kb&&(u.opacity=kc(Kb));u=Object.assign({},u,d);return L(u)?void 0:u}},labels:function(d,u){var {fieldOrDatumDef:M,model:la,channel:ra,legendCmpt:Ca}=u;u=la.legend(ra)||
{};const db=la.config;var qb=kd(M)?tk(la,Ca,M):void 0;qb=qb?[{test:qb,value:1},{value:db.legend.unselectedOpacity}]:void 0;const {format:Eb,formatType:Kb}=u;u=Hf(Kb)?Ae({fieldOrDatumDef:M,field:"datum.value",format:Eb,formatType:Kb,config:db}):void 0;d=Object.assign({},qb?{opacity:qb}:{},u?{text:u}:{},d);return L(d)?void 0:d},entries:function(d,u){({legendCmpt:u}=u);u=u.get("selections");return null!==u&&void 0!==u&&u.length?Object.assign({},d,{fill:{value:"transparent"}}):d}},qm={direction:d=>{({direction:d}=
d);return d},format:d=>{var {fieldOrDatumDef:u,legend:M,config:la}=d;const {format:ra,formatType:Ca}=M;return Bc(u,u.type,ra,Ca,la,!1)},formatType:d=>{var {legend:u,fieldOrDatumDef:M,scaleType:la}=d;({formatType:d}=u);return xa(d,M,la)},gradientLength:d=>{var u,M;const {legend:la,legendConfig:ra}=d;if(null!==(u=null!==(M=la.gradientLength)&&void 0!==M?M:ra.gradientLength)&&void 0!==u)d=u;else{{var {legendConfig:Ca,model:db,direction:qb,orient:Eb,scaleType:Kb}=d;const {gradientHorizontalMaxLength:pc,
gradientHorizontalMinLength:hd,gradientVerticalMaxLength:md,gradientVerticalMinLength:sd}=Ca;d=Kb in oh?"horizontal"===qb?"top"===Eb||"bottom"===Eb?Yh(db,"width",hd,pc):hd:Yh(db,"height",sd,md):void 0}}return d},labelOverlap:d=>{var {legend:u,legendConfig:M,scaleType:la}=d,ra,Ca;d=null!==(ra=null!==(Ca=u.labelOverlap)&&void 0!==Ca?Ca:M.labelOverlap)&&void 0!==ra?ra:c(["quantile","threshold","log","symlog"],la)?"greedy":void 0;return d},symbolType:d=>{var {legend:u,markDef:M,channel:la,encoding:ra}=
d,Ca;if(null!==(Ca=u.symbolType)&&void 0!==Ca)var db=Ca;else a:{d=M.type;Ca=M.shape;if("shape"!==la&&(Ca=null!==(db=Eg(ra.shape))&&void 0!==db?db:Ca)){db=Ca;break a}switch(d){case "bar":case "rect":case "image":case "square":db="square";break a;case "line":case "trail":case "rule":db="stroke";break a;case "arc":case "point":case "circle":case "tick":case "geoshape":case "area":case "text":db="circle";break a}db=void 0}return db},title:d=>{var {fieldOrDatumDef:u,config:M}=d;return Ub(u,M,{allowDisabling:!0})},
type:d=>{var {legendType:u,scaleType:M,channel:la}=d;if($a(la)&&M in oh){if("gradient"===u)return}else if("symbol"===u)return;return u},values:d=>{var {fieldOrDatumDef:u,legend:M}=d;d=M.values;d=n.isArray(d)?Je(u,d):Ma(d)?d:void 0;return d}},bn="type clipAngle clipExtent center rotate precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" ");class sm extends Yj{constructor(d,u,M,la){super(Object.assign({},u),{name:d});this.specifiedProjection=u;
this.size=M;this.data=la;Sc(this,"merged",!1)}get isFit(){return!!this.data}}class vj extends qg{clone(){return new vj(null,pf(this.bins))}constructor(d,u){super(d);this.bins=u}static makeFromEncoding(d,u){const M=u.reduceFieldDef((la,ra,Ca)=>{if(Xe(ra)&&Oa(ra.bin)){const {key:db,binComponent:qb}=vk(ra,ra.bin,u);la[db]=Object.assign({},qb,la[db],uj(u,ra,Ca,u.config))}return la},{});return L(M)?null:new vj(d,M)}static makeFromTransform(d,u,M){const {key:la,binComponent:ra}=vk(u,u.bin,M);return new vj(d,
{[la]:ra})}merge(d,u){for(const M of Md(d.bins))M in this.bins?(u(d.bins[M].signal,this.bins[M].signal),this.bins[M].as=p([...this.bins[M].as,...d.bins[M].as],l)):this.bins[M]=d.bins[M];for(const M of d.children)d.removeChild(M),M.parent=this;d.remove()}producedFields(){return new Set(wg(this.bins).map(d=>d.as).flat(2))}dependentFields(){return new Set(wg(this.bins).map(d=>d.field))}hash(){return"Bin ".concat(l(this.bins))}assemble(){return wg(this.bins).flatMap(d=>{const u=[],[M,...la]=d.as;var ra=
d.bin,Ca=Object.assign({},ra);ra=ra.extent;Ca=(delete Ca.extent,Ca);Ca=Object.assign({},{type:"bin",field:da(d.field),as:M,signal:d.signal},Za(ra)?{extent:null}:{extent:ra},d.span?{span:{signal:"span(".concat(d.span,")")}}:{},Ca);!ra&&d.extentSignal&&(u.push({type:"extent",field:da(d.field),signal:d.extentSignal}),Ca.extent={signal:d.extentSignal});u.push(Ca);for(const db of la)for(ra=0;2>ra;ra++)u.push({type:"formula",expr:Ia({field:M[ra]},{expr:"datum"}),as:db[ra]});d.formula&&u.push({type:"formula",
expr:d.formula,as:d.formulaAs});return u})}}class gj extends qg{clone(){return new gj(null,new Set(this.dimensions),pf(this.measures))}constructor(d,u,M){super(d);this.dimensions=u;this.measures=M}get groupBy(){return this.dimensions}static makeFromEncoding(d,u){let M=!1;u.forEachFieldDef(Ca=>{Ca.aggregate&&(M=!0)});const la={},ra=new Set;if(!M)return null;u.forEachFieldDef((Ca,db)=>{const {aggregate:qb,field:Eb}=Ca;if(qb)if("count"===qb){var Kb;null!==(Kb=la["*"])&&void 0!==Kb?Kb:la["*"]={};la["*"].count=
new Set([Ia(Ca,{forAs:!0})])}else{if(fa(qb)||qa(qb)){var pc;Ca=fa(qb)?"argmin":"argmax";Kb=qb[Ca];null!==(pc=la[Kb])&&void 0!==pc?pc:la[Kb]={};la[Kb][Ca]=new Set([Ia({op:Ca,field:Kb},{forAs:!0})])}else{var hd;null!==(hd=la[Eb])&&void 0!==hd?hd:la[Eb]={};la[Eb][qb]=new Set([Ia(Ca,{forAs:!0})])}if(Li[db]&&"unaggregated"===u.scaleDomain(db)){var md;null!==(md=la[Eb])&&void 0!==md?md:la[Eb]={};la[Eb].min=new Set([Ia({field:Eb,aggregate:"min"},{forAs:!0})]);la[Eb].max=new Set([Ia({field:Eb,aggregate:"max"},
{forAs:!0})])}}else pc=pg(u)?u.encoding[Wa(db)]:void 0,Xe(Ca)&&pg(u)&&Nd(Ca,pc,u.markDef,u.config)?(ra.add(Ia(Ca,{})),ra.add(Ia(Ca,{suffix:"end"})),Ca.bin&&Le(Ca,db)&&ra.add(Ia(Ca,{binSuffix:"range"}))):db in Dh?(db=Da(db),ra.add(u.getName(db))):ra.add(Ia(Ca))});return 0===ra.size+Md(la).length?null:new gj(d,ra,la)}static makeFromTransform(d,u){const M=new Set,la={};for(const qb of u.aggregate){const {op:Eb,field:Kb,as:pc}=qb;if(Eb)if("count"===Eb){var ra;null!==(ra=la["*"])&&void 0!==ra?ra:la["*"]=
{};la["*"].count=new Set([pc?pc:Ia(qb,{forAs:!0})])}else{var Ca;null!==(Ca=la[Kb])&&void 0!==Ca?Ca:la[Kb]={};la[Kb][Eb]=new Set([pc?pc:Ia(qb,{forAs:!0})])}}for(const qb of null!==(db=u.groupby)&&void 0!==db?db:[]){var db;M.add(qb)}return 0===M.size+Md(la).length?null:new gj(d,M,la)}merge(d){if(A(this.dimensions,d.dimensions)){var u=this.measures;d=d.measures;for(const la of Md(d)){const ra=d[la];for(const Ca of Md(ra))if(la in u){var M;u[la][Ca]=new Set([...null!==(M=u[la][Ca])&&void 0!==M?M:[],...ra[Ca]])}else u[la]=
{[Ca]:ra[Ca]}}return!0}Oi.debug(...["different dimensions, cannot merge"]);return!1}addDimensions(d){d.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...Md(this.measures)])}producedFields(){const d=new Set;for(const u of Md(this.measures))for(const M of Md(this.measures[u])){const la=this.measures[u][M];0===la.size?d.add("".concat(M,"_").concat(u)):la.forEach(d.add,d)}return d}hash(){return"Aggregate ".concat(l({dimensions:this.dimensions,measures:this.measures}))}assemble(){const d=
[],u=[],M=[];for(const la of Md(this.measures))for(const ra of Md(this.measures[la]))for(const Ca of this.measures[la][ra])M.push(Ca),d.push(ra),u.push("*"===la?null:da(la));return{type:"aggregate",groupby:[...this.dimensions].map(da),ops:d,fields:u,as:M}}}class Xk extends qg{constructor(d,u,M,la){super(d);this.model=u;this.name=M;this.data=la;Sc(this,"column",void 0);Sc(this,"row",void 0);Sc(this,"facet",void 0);Sc(this,"childModel",void 0);for(const ra of ch)if(d=u.facet[ra]){const {bin:Ca,sort:db}=
d;this[ra]=Object.assign({},{name:u.getName("".concat(ra,"_domain")),fields:[Ia(d),...Oa(Ca)?[Ia(d,{binSuffix:"end"})]:[]]},Xb(db)?{sortField:db}:n.isArray(db)?{sortIndexField:ki(d,ra)}:{})}this.childModel=u.child}hash(){let d="Facet";for(const u of ch)this[u]&&(d+=" ".concat(u.charAt(0),":").concat(l(this[u])));return d}get fields(){const d=[];for(const M of ch){var u;null!==(u=this[M])&&void 0!==u&&u.fields&&d.push(...this[M].fields)}return d}dependentFields(){const d=new Set(this.fields);for(const u of ch)this[u]&&
(this[u].sortField&&d.add(this[u].sortField.field),this[u].sortIndexField&&d.add(this[u].sortIndexField));return d}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const d={};for(const la of ti){var u=this.childModel.component.scales[la];if(u&&!u.merged){var M=u.get("type");u=u.get("range");M in Pg&&nb(u)&&(M=ef(this.childModel,la),(M=Re(M))?d[la]=M:Fb(Wc(la)))}}return d}assembleRowColumnHeaderData(d,u,M){const la={row:"y",column:"x",facet:void 0}[d],
ra=[],Ca=[],db=[];la&&M&&M[la]&&(u?(ra.push("distinct_".concat(M[la])),Ca.push("max")):(ra.push(M[la]),Ca.push("distinct")),db.push("distinct_".concat(M[la])));const {sortField:qb,sortIndexField:Eb}=this[d];if(qb){const {op:Kb="min",field:pc}=qb;ra.push(pc);Ca.push(Kb);db.push(Ia(qb,{forAs:!0}))}else Eb&&(ra.push(Eb),Ca.push("max"),db.push(Eb));return{name:this[d].name,source:null!==u&&void 0!==u?u:this.data,transform:[Object.assign({},{type:"aggregate",groupby:this[d].fields},ra.length?{fields:ra,
ops:Ca,as:db}:{})]}}assembleFacetHeaderData(d){const {columns:u}=this.model.layout,{layoutHeaders:M}=this.model.component,la=[],ra={};for(const pc of bm){for(const hd of Rl){var Ca,db=null!==(Ca=M[pc]&&M[pc][hd])&&void 0!==Ca?Ca:[];for(const md of db){var qb;if(0<(null===(qb=md.axes)||void 0===qb?void 0:qb.length)){ra[pc]=!0;break}}}ra[pc]&&(db='length(data("'.concat(this.facet.name,'"))'),db="row"===pc?u?{signal:"ceil(".concat(db," / ").concat(u,")")}:1:u?{signal:"min(".concat(db,", ").concat(u,
")")}:{signal:db},la.push({name:"".concat(this.facet.name,"_").concat(pc),transform:[{type:"sequence",start:0,stop:db}]}))}const {row:Eb,column:Kb}=ra;(Eb||Kb)&&la.unshift(this.assembleRowColumnHeaderData("facet",null,d));return la}assemble(){const d=[];var u=null;const M=this.getChildIndependentFieldsWithStep(),{column:la,row:ra,facet:Ca}=this;if(la&&ra&&(M.x||M.y)){var db,qb;u="cross_".concat(this.column.name,"_").concat(this.row.name);const Eb=[].concat(null!==(db=M.x)&&void 0!==db?db:[],null!==
(qb=M.y)&&void 0!==qb?qb:[]);db=Eb.map(()=>"distinct");d.push({name:u,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:Eb,ops:db}]})}for(const Eb of["column","row"])this[Eb]&&d.push(this.assembleRowColumnHeaderData(Eb,u,M));Ca&&(u=this.assembleFacetHeaderData(M))&&d.push(...u);return d}}class Jh extends qg{clone(){return new Jh(null,pf(this._parse))}constructor(d,u){super(d);Sc(this,"_parse",void 0);this._parse=u}hash(){return"Parse ".concat(l(this._parse))}static makeExplicit(d,
u,M){let la={};u=u.data;!Cf(u)&&u&&u.format&&u.format.parse&&(la=u.format.parse);return this.makeWithAncestors(d,la,{},M)}static makeWithAncestors(d,u,M,la){for(var ra of Md(M)){const db=la.getWithExplicit(ra);void 0!==db.value&&(db.explicit||db.value===M[ra]||"derived"===db.value||"flatten"===M[ra]?delete M[ra]:Fb(xb(ra,M[ra],db.value)))}for(var Ca of Md(u))ra=la.get(Ca),void 0!==ra&&(ra===u[Ca]?delete u[Ca]:Fb(xb(Ca,u[Ca],ra)));u=new Yj(u,M);la.copyAll(u);M={};for(const db of Md(u.combine()))Ca=
u.get(db),null!==Ca&&(M[db]=Ca);return 0===Md(M).length||la.parseNothing?null:new Jh(d,M)}get parse(){return this._parse}merge(d){this._parse=Object.assign({},this._parse,d.parse);d.remove()}assembleFormatParse(){const d={};for(const u of Md(this._parse)){const M=this._parse[u];1===Q(u)&&(d[u]=M)}return d}producedFields(){return new Set(Md(this._parse))}dependentFields(){return new Set(Md(this._parse))}assembleTransforms(d){d=void 0===d?!1:d;return Md(this._parse).filter(u=>d?1<Q(u):!0).map(u=>{const M=
wk(u,this._parse[u]);return M?{type:"formula",expr:M,as:Z(u)}:null}).filter(u=>null!==u)}}class zk extends qg{clone(){return new zk(null)}constructor(d){super(d)}dependentFields(){return new Set}producedFields(){return new Set(["_vgsid_"])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:"_vgsid_"}}}class Bl extends qg{clone(){return new Bl(null,this.params)}constructor(d,u){super(d);this.params=u}dependentFields(){return new Set}producedFields(){}hash(){return"Graticule ".concat(l(this.params))}assemble(){return Object.assign({},
{type:"graticule"},!0===this.params?{}:this.params)}}class Cl extends qg{clone(){return new Cl(null,this.params)}constructor(d,u){super(d);this.params=u}dependentFields(){return new Set}producedFields(){var d;return new Set([null!==(d=this.params.as)&&void 0!==d?d:"data"])}hash(){return"Hash ".concat(l(this.params))}assemble(){return Object.assign({},{type:"sequence"},this.params)}}class yk extends qg{constructor(d){var u;super(null);Sc(this,"_data",void 0);Sc(this,"_name",void 0);Sc(this,"_generator",
void 0);null!==(u=d)&&void 0!==u?u:d={name:"source"};let M;Cf(d)||(M=d.format?Object.assign({},q(d.format,["parse"])):{});if("values"in d)this._data={values:d.values};else if("url"in d)this._data={url:d.url},M.type||(u=/(?:\.([^.]+))?$/.exec(d.url)[1],c(["json","csv","tsv","dsv","topojson"],u)||(u="json"),M.type=u);else if("sphere"in d)this._data={values:[{type:"Sphere"}]};else if(jf(d)||Cf(d))this._data={};this._generator=Cf(d);d.name&&(this._name=d.name);M&&!L(M)&&(this._data.format=M)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(d){this._name=
d}set parent(d){throw Error("Source nodes have to be roots.");}remove(){throw Error("Source nodes are roots and cannot be removed.");}hash(){throw Error("Cannot hash sources");}assemble(){return Object.assign({},{name:this._name},this._data,{transform:[]})}}var Il=new WeakMap;class cm{constructor(){Il.set(this,{writable:!0,value:void 0});Yd(this,Il,!1)}setModified(){Yd(this,Il,!0)}get modifiedFlag(){var d=Il.get(this);if(!d)throw new TypeError("attempted to get private field on non-instance");d=d.get?
d.get.call(this):d.value;return d}}class Ak extends cm{getNodeDepths(d,u,M){M.set(d,u);for(const la of d.children)this.getNodeDepths(la,u+1,M);return M}optimize(d){d=[...this.getNodeDepths(d,0,new Map).entries()].sort((u,M)=>M[1]-u[1]);for(const u of d)this.run(u[0]);return this.modifiedFlag}}class dm extends cm{optimize(d){this.run(d);for(const u of d.children)this.optimize(u);return this.modifiedFlag}}class mn extends dm{mergeNodes(d,u){const M=u.shift();for(const la of u)d.removeChild(la),la.parent=
M,la.remove()}run(d){const u=d.children.map(la=>la.hash()),M={};for(let la=0;la<u.length;la++)void 0===M[u[la]]?M[u[la]]=[d.children[la]]:M[u[la]].push(d.children[la]);for(const la of Md(M))1<M[la].length&&(this.setModified(),this.mergeNodes(d,M[la]))}}class dn extends dm{constructor(d){super();Sc(this,"requiresSelectionId",void 0);this.requiresSelectionId=d&&Ji(d)}run(d){!(d instanceof zk)||this.requiresSelectionId&&(og(d.parent)||d.parent instanceof gj||d.parent instanceof Jh)||(this.setModified(),
d.remove())}}class hn extends cm{optimize(d){this.run(d,new Set);return this.modifiedFlag}run(d,u){let M=new Set;d instanceof wj&&(M=d.producedFields(),C(M,u)&&(this.setModified(),d.removeFormulas(u),0===d.producedFields.length&&d.remove()));for(const la of d.children)this.run(la,new Set([...u,...M]))}}class cn extends dm{constructor(){super()}run(d){d instanceof Ih&&!d.isRequired()&&(this.setModified(),d.remove())}}class fn extends Ak{run(d){if(!(og(d)||1<d.numChildren()))for(const u of d.children)u instanceof
Jh&&(d instanceof Jh?(this.setModified(),d.merge(u)):P(d.producedFields(),u.dependentFields())||(this.setModified(),u.swapWithParent()))}}class jn extends Ak{run(d){const u=[...d.children];var M=d.children.filter(ra=>ra instanceof Jh);if(1<d.numChildren()&&1<=M.length){const ra={};var la=new Set;for(const Ca of M){M=Ca.parse;for(const db of Md(M))db in ra?ra[db]!==M[db]&&la.add(db):ra[db]=M[db]}for(const Ca of la)delete ra[Ca];if(!L(ra)){this.setModified();la=new Jh(d,ra);for(const Ca of u){if(Ca instanceof
Jh)for(const db of Md(ra))delete Ca.parse[db];d.removeChild(Ca);Ca.parent=la;Ca instanceof Jh&&0===Md(Ca.parse).length&&Ca.remove()}}}}}class en extends Ak{run(d){d instanceof Ih||0<d.numChildren()||d instanceof Xk||d instanceof yk||(this.setModified(),d.remove())}}class ln extends Ak{run(d){d=d.children.filter(M=>M instanceof wj);const u=d.pop();for(const M of d)this.setModified(),u.merge(M)}}class kn extends Ak{run(d){var u=d.children.filter(ra=>ra instanceof gj);const M={};for(var la of u)u=l(la.groupBy),
u in M||(M[u]=[]),M[u].push(la);for(const ra of Md(M))if(la=M[ra],1<la.length){u=la.pop();for(const Ca of la)u.merge(Ca)&&(d.removeChild(Ca),Ca.parent=u,Ca.remove(),this.setModified())}}}class gn extends Ak{constructor(d){super();this.model=d}run(d){var u=!(og(d)||d instanceof nl||d instanceof Jh||d instanceof zk);const M=[],la=[];for(const ra of d.children)ra instanceof vj&&(u&&!P(d.producedFields(),ra.dependentFields())?M.push(ra):la.push(ra));if(0<M.length){u=M.pop();for(const ra of M)u.merge(ra,
this.model.renameSignal.bind(this.model));this.setModified();d instanceof vj?d.merge(u,this.model.renameSignal.bind(this.model)):u.swapWithParent()}if(1<la.length){d=la.pop();for(const ra of la)d.merge(ra,this.model.renameSignal.bind(this.model));this.setModified()}}}class nn extends Ak{run(d){var u=[...d.children];if(e(u,ra=>ra instanceof Ih)&&!(1>=d.numChildren())){var M=[];for(const ra of u)if(ra instanceof Ih){for(u=ra;1===u.numChildren();){const [Ca]=u.children;if(Ca instanceof Ih)u=Ca;else break}M.push(...u.children);
if(la)d.removeChild(ra),ra.parent=la.parent,la.parent.removeChild(la),la.parent=u,this.setModified();else var la=u}else M.push(ra);if(M.length){this.setModified();for(const ra of M)ra.parent.removeChild(ra),ra.parent=la}}}}class Yk extends qg{clone(){return new Yk(null,pf(this.transform))}constructor(d,u){super(d);this.transform=u}addDimensions(d){this.transform.groupby=p(this.transform.groupby.concat(d),u=>u)}dependentFields(){const d=new Set;this.transform.groupby&&this.transform.groupby.forEach(d.add,
d);this.transform.joinaggregate.map(u=>u.field).filter(u=>void 0!==u).forEach(d.add,d);return d}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(d){var u;return null!==(u=d.as)&&void 0!==u?u:Ia(d)}hash(){return"JoinAggregateTransform ".concat(l(this.transform))}assemble(){const d=[],u=[],M=[];for(var la of this.transform.joinaggregate)u.push(la.op),M.push(this.getDefaultName(la)),d.push(void 0===la.field?null:la.field);la=this.transform.groupby;
return Object.assign({},{type:"joinaggregate",as:M,ops:u,fields:d},void 0!==la?{groupby:la}:{})}}class Xj extends qg{clone(){return new Xj(null,pf(this._stack))}constructor(d,u){super(d);Sc(this,"_stack",void 0);this._stack=u}static makeFromTransform(d,u){const {stack:M,groupby:la,as:ra,offset:Ca="zero"}=u;var db=[];const qb=[];if(void 0!==u.sort)for(const Eb of u.sort)db.push(Eb.field),qb.push(r(Eb.order,"ascending"));db={field:db,order:qb};u=mj(ra)?ra:n.isString(ra)?[ra,"".concat(ra,"_end")]:["".concat(u.stack,
"_start"),"".concat(u.stack,"_end")];return new Xj(d,{stackField:M,groupby:la,offset:Ca,sort:db,facetby:[],as:u})}static makeFromEncoding(d,u){var M=u.stack,{encoding:la}=u;if(!M)return null;const {groupbyChannel:ra,fieldChannel:Ca,offset:db,impute:qb}=M;let Eb;ra&&(Eb=Tc(la[ra]));M=jl(u);la=u.encoding.order;la=n.isArray(la)||kd(la)?Lc(la):M.reduce((Kb,pc)=>{Kb.field.push(pc);Kb.order.push("y"===Ca?"descending":"ascending");return Kb},{field:[],order:[]});return new Xj(d,{dimensionFieldDef:Eb,stackField:u.vgField(Ca),
facetby:[],stackby:M,sort:la,offset:db,impute:qb,as:[u.vgField(Ca,{suffix:"start",forAs:!0}),u.vgField(Ca,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(d){this._stack.facetby.push(...d)}dependentFields(){const d=new Set;d.add(this._stack.stackField);this.getGroupbyFields().forEach(d.add,d);this._stack.facetby.forEach(d.add,d);this._stack.sort.field.forEach(d.add,d);return d}producedFields(){return new Set(this._stack.as)}hash(){return"Stack ".concat(l(this._stack))}getGroupbyFields(){const {dimensionFieldDef:d,
impute:u,groupby:M}=this._stack;return d?d.bin?u?[Ia(d,{binSuffix:"mid"})]:[Ia(d,{}),Ia(d,{binSuffix:"end"})]:[Ia(d)]:null!==M&&void 0!==M?M:[]}assemble(){const d=[],{facetby:u,dimensionFieldDef:M,stackField:la,stackby:ra,sort:Ca,offset:db,impute:qb,as:Eb}=this._stack;if(qb&&M){const {bandPosition:Kb=.5,bin:pc}=M;pc&&d.push({type:"formula",expr:"".concat(Kb,"*")+Ia(M,{expr:"datum"})+"+".concat(1-Kb,"*")+Ia(M,{expr:"datum",binSuffix:"end"}),as:Ia(M,{binSuffix:"mid",forAs:!0})});d.push({type:"impute",
field:la,groupby:[...ra,...u],key:Ia(M,{binSuffix:"mid"}),method:"value",value:0})}d.push({type:"stack",groupby:[...this.getGroupbyFields(),...u],field:la,sort:Ca,as:Eb,offset:db});return d}}class ml extends qg{clone(){return new ml(null,pf(this.transform))}constructor(d,u){super(d);this.transform=u}addDimensions(d){this.transform.groupby=p(this.transform.groupby.concat(d),u=>u)}dependentFields(){var d,u;const M=new Set;(null!==(d=this.transform.groupby)&&void 0!==d?d:[]).forEach(M.add,M);(null!==
(u=this.transform.sort)&&void 0!==u?u:[]).forEach(la=>M.add(la.field));this.transform.window.map(la=>la.field).filter(la=>void 0!==la).forEach(M.add,M);return M}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(d){var u;return null!==(u=d.as)&&void 0!==u?u:Ia(d)}hash(){return"WindowTransform ".concat(l(this.transform))}assemble(){const d=[],u=[],M=[],la=[];for(var ra of this.transform.window)u.push(ra.op),M.push(this.getDefaultName(ra)),la.push(void 0===
ra.param?null:ra.param),d.push(void 0===ra.field?null:ra.field);ra=this.transform.frame;const Ca=this.transform.groupby;if(ra&&null===ra[0]&&null===ra[1]&&u.every(Kb=>pa(Kb)))return Object.assign({},{type:"joinaggregate",as:M,ops:u,fields:d},void 0!==Ca?{groupby:Ca}:{});const db=[],qb=[];if(void 0!==this.transform.sort)for(const Kb of this.transform.sort){var Eb;db.push(Kb.field);qb.push(null!==(Eb=Kb.order)&&void 0!==Eb?Eb:"ascending")}Eb=this.transform.ignorePeers;return Object.assign({},{type:"window",
params:la,as:M,ops:u,fields:d,sort:{field:db,order:qb}},void 0!==Eb?{ignorePeers:Eb}:{},void 0!==Ca?{groupby:Ca}:{},void 0!==ra?{frame:ra}:{})}}class ei{constructor(d){Sc(this,"signal",void 0);Object.defineProperty(this,"signal",{enumerable:!0,get:d})}static fromName(d,u){return new ei(()=>d(u))}}class um extends Yj{constructor(d,u){super({},{name:d});Sc(this,"merged",!1);this.setWithExplicit("type",u)}domainDefinitelyIncludesZero(){return!1!==this.get("zero")?!0:e(this.get("domains"),d=>n.isArray(d)&&
2===d.length&&0>=d[0]&&0<=d[1])}}const on=["range","scheme"],tm={bins:d=>{var {model:u,fieldOrDatumDef:M}=d;return kd(M)?kl(u,M):void 0},interpolate:d=>{var {channel:u,fieldOrDatumDef:M}=d;d=M.type;d=c(["color","fill","stroke"],u)&&"nominal"!==d?"hcl":void 0;return d},nice:d=>{var {scaleType:u,channel:M,domain:la,fieldOrDatumDef:ra}=d;var Ca;d=null!==(Ca=Tc(ra))&&void 0!==Ca&&Ca.bin||n.isArray(la)||c([Dg.TIME,Dg.UTC],u)?void 0:M in Zg?!0:void 0;return d},padding:d=>{var {channel:u,scaleType:M,fieldOrDatumDef:la,
markDef:ra,config:Ca}=d;a:{d=Ca.scale;var db=Ca.bar;if(u in Zg){if(M in oh){if(void 0!==d.continuousPadding){d=d.continuousPadding;break a}const {type:qb,orient:Eb}=ra;if("bar"===qb&&(!kd(la)||!la.bin&&!la.timeUnit)&&("vertical"===Eb&&"x"===u||"horizontal"===Eb&&"y"===u)){d=db.continuousBandSize;break a}}if(M===Dg.POINT){d=d.pointPadding;break a}}d=void 0}return d},paddingInner:d=>{var {scalePadding:u,channel:M,markDef:la,config:ra}=d;if(void 0!==u)d=void 0;else if(M in Zg){const {bandPaddingInner:Ca,
barBandPaddingInner:db,rectBandPaddingInner:qb}=ra.scale;d=r(Ca,"bar"===la.type?db:qb)}else d=void 0;return d},paddingOuter:d=>{var {scalePadding:u,channel:M,scaleType:la,scalePaddingInner:ra,config:Ca}=d;void 0!==u?d=void 0:M in Zg&&la===Dg.BAND?({bandPaddingOuter:d}=Ca.scale,d=r(d,Ma(ra)?{signal:"".concat(ra.signal,"/2")}:ra/2)):d=void 0;return d},reverse:d=>{var {fieldOrDatumDef:u,scaleType:M,channel:la,config:ra}=d;d=kd(u)?u.sort:void 0;var Ca=ra.scale;d="x"===la&&void 0!==Ca.xReverse?M in Jg&&
"descending"===d?Ma(Ca.xReverse)?{signal:"!".concat(Ca.xReverse.signal)}:!Ca.xReverse:Ca.xReverse:M in Jg&&"descending"===d?!0:void 0;return d},zero:d=>{var {channel:u,fieldOrDatumDef:M,domain:la,markDef:ra,scaleType:Ca}=d;a:if(la&&"unaggregated"!==la&&Ca in Jg){if(n.isArray(la)&&(d=la[la.length-1],0>=la[0]&&0<=d)){d=!0;break a}d=!1}else if("size"!==u||"quantitative"!==M.type||Ca in sj)if(kd(M)&&M.bin||!c([...ti,...Jk],u))d=!1;else{const {orient:db,type:qb}=ra;d=c(["bar","area","line","trail"],qb)&&
("horizontal"===db&&"y"===u||"vertical"===db&&"x"===u)?!1:!0}else d=!0;return d}},pn=wd((d,u)=>ai[d]-ai[u]);class em{constructor(){Sc(this,"nameMap",void 0);this.nameMap={}}rename(d,u){this.nameMap[d]=u}has(d){return void 0!==this.nameMap[d]}get(d){for(;this.nameMap[d]&&d!==this.nameMap[d];)d=this.nameMap[d];return d}}class fm{constructor(d,u,M,la,ra,Ca,db){var qb,Eb;this.type=u;this.parent=M;this.config=ra;Sc(this,"name",void 0);Sc(this,"size",void 0);Sc(this,"title",void 0);Sc(this,"description",
void 0);Sc(this,"data",void 0);Sc(this,"transforms",void 0);Sc(this,"layout",void 0);Sc(this,"scaleNameMap",void 0);Sc(this,"projectionNameMap",void 0);Sc(this,"signalNameMap",void 0);Sc(this,"component",void 0);Sc(this,"view",void 0);Sc(this,"children",[]);Sc(this,"correctDataNames",Kb=>{Kb.from&&Kb.from.data&&(Kb.from.data=this.lookupDataSource(Kb.from.data));Kb.from&&Kb.from.facet&&Kb.from.facet.data&&(Kb.from.facet.data=this.lookupDataSource(Kb.from.facet.data));return Kb});this.parent=M;this.config=
ra;this.view=Ra(db);this.name=null!==(qb=d.name)&&void 0!==qb?qb:la;this.title=lb(d.title)?{text:d.title}:d.title?Ra(d.title):void 0;this.scaleNameMap=M?M.scaleNameMap:new em;this.projectionNameMap=M?M.projectionNameMap:new em;this.signalNameMap=M?M.signalNameMap:new em;this.data=d.data;this.description=d.description;this.transforms=Kc(null!==(Eb=d.transform)&&void 0!==Eb?Eb:[]);this.layout="layer"===u||"unit"===u?{}:Bd(d,u,ra);this.component={data:{sources:M?M.component.data.sources:[],outputNodes:M?
M.component.data.outputNodes:{},outputNodeRefCounts:M?M.component.data.outputNodeRefCounts:{},isFaceted:"facet"in d||M&&M.component.data.isFaceted&&void 0===d.data},layoutSize:new Yj,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({},{scale:{},axis:{},legend:{}},Ca?pf(Ca):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale();this.parseLayoutSize();
this.renameTopLevelLayoutSizeSignal();this.parseSelections();this.parseProjection();this.parseData();this.parseAxesAndHeaders();this.parseLegends();this.parseMarkGroup()}parseScale(){var {ignoreRange:d}={};Fi(this);pg(this)?Xa(this):bb(this);for(const u of Ni)Sh(this,u);d||bi(this)}parseProjection(){Dk(this)}renameTopLevelLayoutSizeSignal(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width");"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),
"height")}parseLegends(){cj(this)}assembleGroupStyle(){if("unit"===this.type||"layer"===this.type){var d,u;return null!==(d=null===(u=this.view)||void 0===u?void 0:u.style)&&void 0!==d?d:"cell"}}assembleEncodeFromView(d){d=Object.assign({},d);d=(delete d.style,d);const u={};for(const M of Md(d)){const la=d[M];void 0!==la&&(u[M]=kc(la))}return u}assembleGroupEncodeEntry(d){let u={};this.view&&(u=this.assembleEncodeFromView(this.view));if(!d&&(this.description&&(u.description=kc(this.description)),
"unit"===this.type||"layer"===this.type)){var M;return Object.assign({},{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!==(M=u)&&void 0!==M?M:{})}return L(u)?void 0:u}assembleLayout(){if(this.layout){var d=this.layout,u=Object.assign({},d);d=d.spacing;u=(delete u.spacing,u);var {component:M,config:la}=this;{var ra=M.layoutHeaders;const qb={};for(db of ch){var Ca=ra[db];if(null!==Ca&&void 0!==Ca&&Ca.facetFieldDef){const {titleAnchor:Eb,titleOrient:Kb}=Xf(["titleAnchor",
"titleOrient"],Ca.facetFieldDef.header,la,db);Ca=Sj(db,Kb);const pc=yn[Ca][Eb];void 0!==pc&&(qb[Ca]=pc)}}var db=L(qb)?void 0:qb}return Object.assign({},{padding:d},this.assembleDefaultLayout(),u,db?{titleBand:db}:{})}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const {layoutHeaders:d}=this.component;let u=[];for(const M of ch)d[M].title&&u.push(Xh(this,M));for(const M of bm)u=u.concat(ij(this,M));return u}assembleAxes(){return Ai(this.component.axes,this.config)}assembleLegends(){return dj(this)}assembleProjections(){var d=
Zh(this)||ek(this)?lj(this):ej(this);return d}assembleTitle(){var d,u=null!==(d=this.title)&&void 0!==d?d:{};d=Object.assign({},u);u=u.encoding;d=(delete d.encoding,d);u=Object.assign({},ab(this.config.title).nonMark,d,u?{encode:{update:u}}:{});if(u.text){if(c(["unit","layer"],this.type)){if(c(["middle",void 0],u.anchor)){var M;null!==(M=u.frame)&&void 0!==M?M:u.frame="group"}}else{var la;null!==(la=u.anchor)&&void 0!==la?la:u.anchor="start"}return L(u)?void 0:u}}assembleGroup(d){d=void 0===d?[]:
d;const u={};d=d.concat(this.assembleSignals());0<d.length&&(u.signals=d);if(d=this.assembleLayout())u.layout=d;u.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());d=!this.parent||Ph(this.parent)?Ie(this):[];0<d.length&&(u.scales=d);d=this.assembleAxes();0<d.length&&(u.axes=d);d=this.assembleLegends();0<d.length&&(u.legends=d);return u}getName(d){return z((this.name?"".concat(this.name,"_"):"")+d)}getDataName(d){return this.getName(zg[d].toLowerCase())}requestDataName(d){d=this.getDataName(d);
const u=this.component.data.outputNodeRefCounts;u[d]=(u[d]||0)+1;return d}getSizeSignalRef(d){if(Ph(this.parent)){var u=Uh(d),M=V(u);if((u=this.component.scales[M])&&!u.merged){var la=u.get("type");const ra=u.get("range");if(la in Pg&&nb(ra)){d=u.get("name");la=ef(this,M);if(la=Re(la))return M=Ia({aggregate:"distinct",field:la},{expr:"datum"}),{signal:Pf(d,u,M)};Fb(Wc(M));return null}}}return{signal:this.signalNameMap.get(this.getName(d))}}lookupDataSource(d){const u=this.component.data.outputNodes[d];
return u?u.getSource():d}getSignalName(d){return this.signalNameMap.get(d)}renameSignal(d,u){this.signalNameMap.rename(d,u)}renameScale(d,u){this.scaleNameMap.rename(d,u)}renameProjection(d,u){this.projectionNameMap.rename(d,u)}scaleName(d,u){if(u)return this.getName(d);if(mh[d]&&Li[d]&&this.component.scales[d]||this.scaleNameMap.has(this.getName(d)))return this.scaleNameMap.get(this.getName(d))}projectionName(d){if(d)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||
this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(d){if(!this.component.scales)throw Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const u=this.component.scales[d];return u&&!u.merged?u:this.parent?this.parent.getScaleComponent(d):void 0}getSelectionComponent(d,u){let M=this.component.selection[d];!M&&this.parent&&(M=this.parent.getSelectionComponent(d,
u));if(!M)throw Error('Cannot find a selection named "'.concat(u,'".'));return M}hasAxisOrientSignalRef(){var d,u;return(null===(d=this.component.axes.x)||void 0===d?void 0:d.some(M=>M.hasOrientSignalRef()))||(null===(u=this.component.axes.y)||void 0===u?void 0:u.some(M=>M.hasOrientSignalRef()))}}class Dm extends fm{vgField(d,u){u=void 0===u?{}:u;if(d=this.fieldDef(d))return Ia(d,u)}reduceFieldDef(d,u){return Sa(this.getMapping(),(M,la,ra)=>(la=Tc(la))?d(M,la,ra):M,u)}forEachFieldDef(d,u){Na(this.getMapping(),
(M,la)=>{(M=Tc(M))&&d(M,la)},u)}}class Ul extends qg{clone(){return new Ul(null,pf(this.transform))}constructor(d,u){var M,la,ra;super(d);this.transform=u;this.transform=pf(u);d=null!==(M=this.transform.as)&&void 0!==M?M:[void 0,void 0];this.transform.as=[null!==(la=d[0])&&void 0!==la?la:"value",null!==(ra=d[1])&&void 0!==ra?ra:"density"]}dependentFields(){var d;return new Set([this.transform.density,...null!==(d=this.transform.groupby)&&void 0!==d?d:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"DensityTransform ".concat(l(this.transform))}assemble(){var d=
this.transform,u=Object.assign({},d);d=d.density;u=(delete u.density,u);return Object.assign({},{type:"kde",field:d},u)}}class Dl extends qg{clone(){return new Dl(null,Object.assign({},this.filter))}constructor(d,u){super(d);this.filter=u}static make(d,u){const {config:M,mark:la,markDef:ra}=u;if("filter"!==zc("invalid",ra,M))return null;const Ca=u.reduceFieldDef((db,qb,Eb)=>{(Eb=!!Li[Eb]&&u.getScaleComponent(Eb))&&Eb.get("type")in Jg&&"count"!==qb.aggregate&&!Qd(la)&&(db[qb.field]=qb);return db},
{});return Md(Ca).length?new Dl(d,Ca):null}dependentFields(){return new Set(Md(this.filter))}producedFields(){return new Set}hash(){return"FilterInvalid ".concat(l(this.filter))}assemble(){const d=Md(this.filter).reduce((u,M)=>{M=this.filter[M];const la=Ia(M,{expr:"datum"});null!==M&&("temporal"===M.type?u.push("(isDate(".concat(la,") || (isValid(").concat(la,") \x26\x26 isFinite(+").concat(la,")))")):"quantitative"===M.type&&(u.push("isValid(".concat(la,")")),u.push("isFinite(+".concat(la,")"))));
return u},[]);return 0<d.length?{type:"filter",expr:d.join(" \x26\x26 ")}:null}}class Tl extends qg{clone(){return new Tl(this.parent,pf(this.transform))}constructor(d,u){super(d);this.transform=u;this.transform=pf(u);const {flatten:M,as:la=[]}=this.transform;this.transform.as=M.map((ra,Ca)=>{var db;return null!==(db=la[Ca])&&void 0!==db?db:ra})}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return"FlattenTransform ".concat(l(this.transform))}assemble(){const {flatten:d,
as:u}=this.transform;return{type:"flatten",fields:d,as:u}}}class Sl extends qg{clone(){return new Sl(null,pf(this.transform))}constructor(d,u){var M,la,ra;super(d);this.transform=u;this.transform=pf(u);d=null!==(M=this.transform.as)&&void 0!==M?M:[void 0,void 0];this.transform.as=[null!==(la=d[0])&&void 0!==la?la:"key",null!==(ra=d[1])&&void 0!==ra?ra:"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return"FoldTransform ".concat(l(this.transform))}assemble(){const {fold:d,
as:u}=this.transform;return{type:"fold",fields:d,as:u}}}class pl extends qg{clone(){return new pl(null,pf(this.fields),this.geojson,this.signal)}static parseAll(d,u){if(u.component.projection&&!u.component.projection.isFit)return d;let M=0;for(var la of[["longitude","latitude"],["longitude2","latitude2"]]){const ra=la.map(Ca=>{Ca=gd(u.encoding[Ca]);return kd(Ca)?Ca.field:bf(Ca)?{expr:"".concat(Ca.datum)}:zf(Ca)?{expr:"".concat(Ca.value)}:void 0});if(ra[0]||ra[1])d=new pl(d,ra,null,u.getName("geojson_".concat(M++)))}u.channelHasField("shape")&&
(la=u.typedFieldDef("shape"),"geojson"===la.type&&(d=new pl(d,null,la.field,u.getName("geojson_".concat(M++)))));return d}constructor(d,u,M,la){super(d);this.fields=u;this.geojson=M;this.signal=la}dependentFields(){var d;const u=(null!==(d=this.fields)&&void 0!==d?d:[]).filter(n.isString);return new Set([...this.geojson?[this.geojson]:[],...u])}producedFields(){return new Set}hash(){return"GeoJSON ".concat(this.geojson," ").concat(this.signal," ").concat(l(this.fields))}assemble(){return[...this.geojson?
[{type:"filter",expr:'isValid(datum["'.concat(this.geojson,'"])')}]:[],Object.assign({},{type:"geojson"},this.fields?{fields:this.fields}:{},this.geojson?{geojson:this.geojson}:{},{signal:this.signal})]}}class El extends qg{clone(){return new El(null,this.projection,pf(this.fields),pf(this.as))}constructor(d,u,M,la){super(d);this.projection=u;this.fields=M;this.as=la}static parseAll(d,u){if(!u.projectionName())return d;for(const M of[["longitude","latitude"],["longitude2","latitude2"]]){const la=
M.map(Ca=>{Ca=gd(u.encoding[Ca]);return kd(Ca)?Ca.field:bf(Ca)?{expr:"".concat(Ca.datum)}:zf(Ca)?{expr:"".concat(Ca.value)}:void 0}),ra="longitude2"===M[0]?"2":"";if(la[0]||la[1])d=new El(d,u.projectionName(),la,[u.getName("x".concat(ra)),u.getName("y".concat(ra))])}return d}dependentFields(){return new Set(this.fields.filter(n.isString))}producedFields(){return new Set(this.as)}hash(){return"Geopoint ".concat(this.projection," ").concat(l(this.fields)," ").concat(l(this.as))}assemble(){return{type:"geopoint",
projection:this.projection,fields:this.fields,as:this.as}}}class Zk extends qg{clone(){return new Zk(null,pf(this.transform))}constructor(d,u){super(d);this.transform=u}dependentFields(){var d;return new Set([this.transform.impute,this.transform.key,...null!==(d=this.transform.groupby)&&void 0!==d?d:[]])}producedFields(){return new Set([this.transform.impute])}processSequence(d){const {start:u=0,stop:M,step:la}=d;d=[u,M,...la?[la]:[]].join();return{signal:"sequence(".concat(d,")")}}static makeFromTransform(d,
u){return new Zk(d,u)}static makeFromEncoding(d,u){const M=u.encoding;var la=M.x;const ra=M.y;if(kd(la)&&kd(ra)){const Ca=la.impute?la:ra.impute?ra:void 0;if(void 0===Ca)return;la=la.impute?ra:ra.impute?la:void 0;const {method:db,value:qb,frame:Eb,keyvals:Kb}=Ca.impute;u=fb(u.mark,M);return new Zk(d,Object.assign({},{impute:Ca.field,key:la.field},db?{method:db}:{},void 0!==qb?{value:qb}:{},Eb?{frame:Eb}:{},void 0!==Kb?{keyvals:Kb}:{},u.length?{groupby:u}:{}))}return null}hash(){return"Impute ".concat(l(this.transform))}assemble(){const {impute:d,
key:u,keyvals:M,method:la,groupby:ra,value:Ca,frame:db=[null,null]}=this.transform,qb=Object.assign({},{type:"impute",field:d,key:u},M?{keyvals:void 0!==(null===M||void 0===M?void 0:M.stop)?this.processSequence(M):M}:{},{method:"value"},ra?{groupby:ra}:{},{value:la&&"value"!==la?null:Ca});if(la&&"value"!==la){const Eb=Object.assign({},{type:"window",as:["imputed_".concat(d,"_value")],ops:[la],fields:[d],frame:db,ignorePeers:!1},ra?{groupby:ra}:{}),Kb={type:"formula",expr:"datum.".concat(d," \x3d\x3d\x3d null ? datum.imputed_").concat(d,
"_value : datum.").concat(d),as:d};return[qb,Eb,Kb]}return[qb]}}class Vl extends qg{clone(){return new Vl(null,pf(this.transform))}constructor(d,u){var M,la,ra;super(d);this.transform=u;this.transform=pf(u);d=null!==(M=this.transform.as)&&void 0!==M?M:[void 0,void 0];this.transform.as=[null!==(la=d[0])&&void 0!==la?la:u.on,null!==(ra=d[1])&&void 0!==ra?ra:u.loess]}dependentFields(){var d;return new Set([this.transform.loess,this.transform.on,...null!==(d=this.transform.groupby)&&void 0!==d?d:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"LoessTransform ".concat(l(this.transform))}assemble(){var d=
this.transform,u=Object.assign({},d);const M=d.loess;d=d.on;u=(delete u.loess,delete u.on,u);return Object.assign({},{type:"loess",x:d,y:M},u)}}class Fl extends qg{clone(){return new Fl(null,pf(this.transform),this.secondary)}constructor(d,u,M){super(d);this.transform=u;this.secondary=M}static make(d,u,M,la){const ra=u.component.data.sources,{from:Ca}=M;var db=null;if("data"in Ca)db=wl(Ca.data,ra),db||(db=new yk(Ca.data),ra.push(db)),la=u.getName("lookup_".concat(la)),db=new Ih(db,la,zg.Lookup,u.component.data.outputNodeRefCounts),
u.component.data.outputNodes[la]=db;else if("param"in Ca){la=Ca.param;M=Object.assign({},{as:la},M);let qb;try{qb=u.getSelectionComponent(z(la),la)}catch(Eb){throw Error('Lookups can only be performed on selection parameters. "'.concat(la,'" is a variable parameter.'));}db=qb.materialized;if(!db)throw Error('Cannot define and lookup the "'.concat(la,'" selection in the same view. ')+"Try moving the lookup into a second, layered view?");}return new Fl(d,M,db.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?
n.array(this.transform.as):this.transform.from.fields)}hash(){return"Lookup ".concat(l({transform:this.transform,secondary:this.secondary}))}assemble(){if(this.transform.from.fields)var d=Object.assign({},{values:this.transform.from.fields},this.transform.as?{as:n.array(this.transform.as)}:{});else d=this.transform.as,n.isString(d)||(Fb('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),d="_lookup"),d={as:[d]};return Object.assign({},
{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},d,this.transform.default?{default:this.transform.default}:{})}}class Wl extends qg{clone(){return new Wl(null,pf(this.transform))}constructor(d,u){var M,la,ra;super(d);this.transform=u;this.transform=pf(u);d=null!==(M=this.transform.as)&&void 0!==M?M:[void 0,void 0];this.transform.as=[null!==(la=d[0])&&void 0!==la?la:"prob",null!==(ra=d[1])&&void 0!==ra?ra:"value"]}dependentFields(){var d;return new Set([this.transform.quantile,
...null!==(d=this.transform.groupby)&&void 0!==d?d:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"QuantileTransform ".concat(l(this.transform))}assemble(){var d=this.transform,u=Object.assign({},d);d=d.quantile;u=(delete u.quantile,u);return Object.assign({},{type:"quantile",field:d},u)}}class Xl extends qg{clone(){return new Xl(null,pf(this.transform))}constructor(d,u){var M,la,ra;super(d);this.transform=u;this.transform=pf(u);d=null!==(M=this.transform.as)&&void 0!==M?M:[void 0,
void 0];this.transform.as=[null!==(la=d[0])&&void 0!==la?la:u.on,null!==(ra=d[1])&&void 0!==ra?ra:u.regression]}dependentFields(){var d;return new Set([this.transform.regression,this.transform.on,...null!==(d=this.transform.groupby)&&void 0!==d?d:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"RegressionTransform ".concat(l(this.transform))}assemble(){var d=this.transform,u=Object.assign({},d);const M=d.regression;d=d.on;u=(delete u.regression,delete u.on,u);return Object.assign({},
{type:"regression",x:d,y:M},u)}}class Zl extends qg{clone(){return new Zl(null,pf(this.transform))}constructor(d,u){super(d);this.transform=u}addDimensions(d){var u;this.transform.groupby=p((null!==(u=this.transform.groupby)&&void 0!==u?u:[]).concat(d),M=>M)}producedFields(){}dependentFields(){var d;return new Set([this.transform.pivot,this.transform.value,...null!==(d=this.transform.groupby)&&void 0!==d?d:[]])}hash(){return"PivotTransform ".concat(l(this.transform))}assemble(){const {pivot:d,value:u,
groupby:M,limit:la,op:ra}=this.transform;return Object.assign({},{type:"pivot",field:d,value:u},void 0!==la?{limit:la}:{},void 0!==ra?{op:ra}:{},void 0!==M?{groupby:M}:{})}}class Yl extends qg{clone(){return new Yl(null,pf(this.transform))}constructor(d,u){super(d);this.transform=u}dependentFields(){return new Set}producedFields(){return new Set}hash(){return"SampleTransform ".concat(l(this.transform))}assemble(){return{type:"sample",size:this.transform.sample}}}class Hl extends Dm{constructor(d,
u,M,la){super(d,"facet",u,M,la,d.resolve);Sc(this,"facet",void 0);Sc(this,"child",void 0);Sc(this,"children",void 0);this.child=ri(d.spec,this,this.getName("child"),void 0,la);this.children=[this.child];this.facet=this.initFacet(d.facet)}initFacet(d){if(!Oc(d))return{facet:this.initFacetFieldDef(d,"facet")};var u=Md(d);const M={};for(const la of u){if(!["row","column"].includes(la)){Fb(Ec(la,"facet"));break}u=d[la];if(void 0===u.field){Fb(jc(u,la));break}M[la]=this.initFacetFieldDef(u,la)}return M}initFacetFieldDef(d,
u){d=ie(d,u);d.header?d.header=Ra(d.header):null===d.header&&(d.header=null);return d}channelHasField(d){return!!this.facet[d]}fieldDef(d){return this.facet[d]}parseData(){this.component.data=Tj(this);this.child.parseData()}parseLayoutSize(){Mi(this)}parseSelections(){this.child.parseSelections();this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders();for(const la of ch){{var d=void 0,u=la;const {facet:ra,
config:Ca,child:db,component:qb}=this;if(this.channelHasField(u)){const Eb=ra[u];var M=Gh("title",null,Ca,u);M=Ub(Eb,Ca,{allowDisabling:!0,includeDefault:void 0===M||!!M});db.component.layoutHeaders[u].title&&(M=n.isArray(M)?M.join(", "):M,M+=" / ".concat(db.component.layoutHeaders[u].title),db.component.layoutHeaders[u].title=null);const Kb=Gh("labelOrient",Eb.header,Ca,u),pc=null!==Eb.header?r(null===(d=Eb.header)||void 0===d?void 0:d.labels,Ca.header.labels,!0):!1;d=c(["bottom","right"],Kb)?"footer":
"header";qb.layoutHeaders[u]={title:null!==Eb.header?M:null,facetFieldDef:Eb,[d]:"facet"===u?[]:[Xi(this,u,pc)]}}}}Lk(this,"x");Lk(this,"y")}assembleSelectionTopLevelSignals(d){return this.child.assembleSelectionTopLevelSignals(d)}assembleSignals(){this.child.assembleSignals();return[]}assembleSelectionData(d){return this.child.assembleSelectionData(d)}getHeaderLayoutMixins(){const d={};for(const db of ch)for(const qb of Rl){const Eb=this.component.layoutHeaders[db];var u=Eb[qb],{facetFieldDef:M}=
Eb;if(M&&(M=Gh("titleOrient",M.header,this.config,db),["right","bottom"].includes(M))){var la;M=Sj(db,M);null!==(la=d.titleAnchor)&&void 0!==la?la:d.titleAnchor={};d.titleAnchor[M]="end"}if(null!==u&&void 0!==u&&u[0]){u="row"===db?"height":"width";M="header"===qb?"headerBand":"footerBand";if("facet"!==db&&!this.child.component.layoutSize.get(u)){var ra;null!==(ra=d[M])&&void 0!==ra?ra:d[M]={};d[M][db]=.5}if(Eb.title){var Ca;null!==(Ca=d.offset)&&void 0!==Ca?Ca:d.offset={};d.offset["row"===db?"rowTitle":
"columnTitle"]=10}}}return d}assembleDefaultLayout(){const {column:d,row:u}=this.facet,M=d?this.columnDistinctSignal():u?1:void 0;let la="all";u||"independent"!==this.component.resolve.scale.x?d||"independent"!==this.component.resolve.scale.y||(la="none"):la="none";return Object.assign({},this.getHeaderLayoutMixins(),M?{columns:M}:{},{bounds:"full",align:la})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof Hl)){const d=
this.getName("column_domain");return{signal:"length(data('".concat(d,"'))")}}}assembleGroup(d){return this.parent&&this.parent instanceof Hl?Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:Ia(this.facet.column,{prefix:"distinct"})}}}}:{},super.assembleGroup(d)):super.assembleGroup(d)}getCardinalityAggregateForChild(){const d=[],u=[],M=[];if(this.child instanceof Hl){if(this.child.channelHasField("column")){var la=Ia(this.child.facet.column);d.push(la);u.push("distinct");
M.push("distinct_".concat(la))}}else for(la of ti){var ra=this.child.component.scales[la];if(ra&&!ra.merged){var Ca=ra.get("type");ra=ra.get("range");Ca in Pg&&nb(ra)&&(Ca=ef(this.child,la),(Ca=Re(Ca))?(d.push(Ca),u.push("distinct"),M.push("distinct_".concat(Ca))):Fb(Wc(la)))}}return{fields:d,ops:u,as:M}}assembleFacet(){const {name:d,data:u}=this.component.data.facetRoot,{row:M,column:la}=this.facet,{fields:ra,ops:Ca,as:db}=this.getCardinalityAggregateForChild(),qb=[];for(var Eb of ch){var Kb=this.facet[Eb];
if(Kb){qb.push(Ia(Kb));const {bin:pc,sort:hd}=Kb;Oa(pc)&&qb.push(Ia(Kb,{binSuffix:"end"}));if(Xb(hd)){const {field:md,op:sd="min"}=hd;Kb=fk(Kb,hd);M&&la?(ra.push(Kb),Ca.push("max")):(ra.push(md),Ca.push(sd));db.push(Kb)}else n.isArray(hd)&&(Kb=ki(Kb,Eb),ra.push(Kb),Ca.push("max"),db.push(Kb))}}Eb=!!M&&!!la;return Object.assign({},{name:d,data:u,groupby:qb},Eb||0<ra.length?{aggregate:Object.assign({},Eb?{cross:Eb}:{},ra.length?{fields:ra,ops:Ca,as:db}:{})}:{})}facetSortFields(d){var {facet:u}=this;
return(u=u[d])?Xb(u.sort)?[fk(u,u.sort,{expr:"datum"})]:n.isArray(u.sort)?[ki(u,d,{expr:"datum"})]:[Ia(u,{expr:"datum"})]:[]}facetSortOrder(d){const {facet:u}=this;return(d=u[d])?({sort:d}=d,[(Xb(d)?d.order:!n.isArray(d)&&d)||"ascending"]):[]}assembleLabelTitle(){const {facet:d,config:u}=this;if(d.facet)return Wi(d.facet,"facet",u);const M={row:["top","bottom"],column:["left","right"]};for(const ra of bm)if(d[ra]){var la;const Ca=Gh("labelOrient",null===(la=d[ra])||void 0===la?void 0:la.header,u,
ra);if(M[ra].includes(Ca))return Wi(d[ra],ra,u)}}assembleMarks(){const {child:d}=this,u=bh(this.component.data.facetRoot),M=d.assembleGroupEncodeEntry(!1),la=this.assembleLabelTitle()||d.assembleTitle(),ra=d.assembleGroupStyle();return[Object.assign({},{name:this.getName("cell"),type:"group"},la?{title:la}:{},ra?{style:ra}:{},{from:{facet:this.assembleFacet()},sort:{field:ch.map(Ca=>this.facetSortFields(Ca)).flat(),order:ch.map(Ca=>this.facetSortOrder(Ca)).flat()}},0<u.length?{data:u}:{},M?{encode:{update:M}}:
{},d.assembleGroup(Rh(this,[])))]}getMapping(){return this.facet}}class sn extends fm{constructor(d,u,M,la){var ra,Ca,db,qb;super(d,"concat",u,M,la,d.resolve);Sc(this,"children",void 0);"shared"!==(null===(ra=d.resolve)||void 0===ra?void 0:null===(Ca=ra.axis)||void 0===Ca?void 0:Ca.x)&&"shared"!==(null===(db=d.resolve)||void 0===db?void 0:null===(qb=db.axis)||void 0===qb?void 0:qb.y)||Fb("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).");
this.children=this.getChildren(d).map((Eb,Kb)=>ri(Eb,this,this.getName("concat_".concat(Kb)),void 0,la))}parseData(){this.component.data=Tj(this);for(const d of this.children)d.parseData()}parseSelections(){this.component.selection={};for(const d of this.children){d.parseSelections();for(const u of Md(d.component.selection))this.component.selection[u]=d.component.selection[u]}}parseMarkGroup(){for(const d of this.children)d.parseMarkGroup()}parseAxesAndHeaders(){for(const d of this.children)d.parseAxesAndHeaders()}getChildren(d){return"vconcat"in
d?d.vconcat:"hconcat"in d?d.hconcat:d.concat}parseLayoutSize(){{Mi(this);const d=void 0===this.layout.columns?"height":"childHeight";Gk(this,1===this.layout.columns?"width":"childWidth");Gk(this,d)}}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(d){return this.children.reduce((u,M)=>M.assembleSelectionTopLevelSignals(u),d)}assembleSignals(){this.children.forEach(d=>d.assembleSignals());return[]}assembleLayoutSignals(){const d=pi(this);for(const u of this.children)d.push(...u.assembleLayoutSignals());
return d}assembleSelectionData(d){return this.children.reduce((u,M)=>M.assembleSelectionData(u),d)}assembleMarks(){return this.children.map(d=>{const u=d.assembleTitle(),M=d.assembleGroupStyle(),la=d.assembleGroupEncodeEntry(!1);return Object.assign({},{type:"group",name:d.getName("group")},u?{title:u}:{},M?{style:M}:{},la?{encode:{update:la}}:{},d.assembleGroup())})}assembleDefaultLayout(){const d=this.layout.columns;return Object.assign({},null!=d?{columns:d}:{},{bounds:"full",align:"each"})}}const An=
Object.assign({},{disable:1,gridScale:1,scale:1},af,{labelExpr:1,encode:1}),vm=Md(An);class wm extends Yj{constructor(d,u,M){d=void 0===d?{}:d;u=void 0===u?{}:u;M=void 0===M?!1:M;super();this.explicit=d;this.implicit=u;this.mainExtracted=M}clone(){return new wm(pf(this.explicit),pf(this.implicit),this.mainExtracted)}hasAxisPart(d){if("axis"===d)return!0;if("grid"===d||"title"===d)return!!this.get(d);d=this.get(d);return!(!1===d||null===d)}hasOrientSignalRef(){return Ma(this.explicit.orient)}}const Bn=
{bottom:"top",top:"bottom",left:"right",right:"left"},rn=new Set("grid translate format formatType orient labelExpr tickCount position tickMinStep".split(" ")),Gl={arc:{vgMark:"arc",encodeEntry:d=>Object.assign({},ah(d,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),Lg("x",d,{defaultPos:"mid"}),Lg("y",d,{defaultPos:"mid"}),ph(d,"radius","arc"),ph(d,"theta","arc"))},area:{vgMark:"area",encodeEntry:d=>Object.assign({},ah(d,{align:"ignore",baseline:"ignore",
color:"include",orient:"include",size:"ignore",theta:"ignore"}),ui("x",d,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===d.markDef.orient}),ui("y",d,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===d.markDef.orient}),hj(d))},bar:{vgMark:"rect",encodeEntry:d=>Object.assign({},ah(d,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),ph(d,"x","bar"),ph(d,"y","bar"))},circle:{vgMark:"symbol",encodeEntry:d=>Dj(d,"circle")},
geoshape:{vgMark:"shape",encodeEntry:d=>Object.assign({},ah(d,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),postEncodingTransform:d=>{var {encoding:u}=d;u=u.shape;return[Object.assign({},{type:"geoshape",projection:d.projectionName()},u&&kd(u)&&"geojson"===u.type?{field:Ia(u,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:d=>Object.assign({},ah(d,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),
ph(d,"x","image"),ph(d,"y","image"),rk(d,"url"))},line:{vgMark:"line",encodeEntry:d=>Object.assign({},ah(d,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),Lg("x",d,{defaultPos:"mid"}),Lg("y",d,{defaultPos:"mid"}),Kg("size",d,{vgChannel:"strokeWidth"}),hj(d))},point:{vgMark:"symbol",encodeEntry:d=>Dj(d)},rect:{vgMark:"rect",encodeEntry:d=>Object.assign({},ah(d,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),
ph(d,"x","rect"),ph(d,"y","rect"))},rule:{vgMark:"rule",encodeEntry:d=>{var {markDef:u}=d;u=u.orient;return d.encoding.x||d.encoding.y||d.encoding.latitude||d.encoding.longitude?Object.assign({},ah(d,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),ui("x",d,{defaultPos:"horizontal"===u?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==u}),ui("y",d,{defaultPos:"vertical"===u?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==u}),
Kg("size",d,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:d=>Dj(d,"square")},text:{vgMark:"text",encodeEntry:d=>{const {config:u,encoding:M}=d;return Object.assign({},ah(d,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),Lg("x",d,{defaultPos:"mid"}),Lg("y",d,{defaultPos:"mid"}),rk(d),Kg("size",d,{vgChannel:"fontSize"}),Kg("angle",d),Zj("align",al(d.markDef,M,u)),Zj("baseline",zl(d.markDef,M,u)),Lg("radius",d,{defaultPos:null}),
Lg("theta",d,{defaultPos:null}))}},tick:{vgMark:"rect",encodeEntry:d=>{const {config:u,markDef:M}=d;var la=M.orient;const ra="horizontal"===la?"width":"height";la="horizontal"===la?"height":"width";return Object.assign({},ah(d,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Lg("x",d,{defaultPos:"mid",vgChannel:"xc"}),Lg("y",d,{defaultPos:"mid",vgChannel:"yc"}),Kg("size",d,{defaultValue:gh(d),vgChannel:ra}),{[la]:kc(zc("thickness",M,u))})}},trail:{vgMark:"trail",
encodeEntry:d=>Object.assign({},ah(d,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),Lg("x",d,{defaultPos:"mid"}),Lg("y",d,{defaultPos:"mid"}),Kg("size",d),hj(d))}};class zm extends Dm{constructor(d,u,M,la,ra){la=void 0===la?{}:la;var Ca;super(d,"unit",u,M,ra,void 0,pd(d)?d.view:void 0);Sc(this,"markDef",void 0);Sc(this,"encoding",void 0);Sc(this,"specifiedScales",{});Sc(this,"stack",void 0);Sc(this,"specifiedAxes",{});Sc(this,"specifiedLegends",{});
Sc(this,"specifiedProjection",{});Sc(this,"selection",[]);Sc(this,"children",[]);u=Qe(d.mark)?Object.assign({},d.mark):{type:d.mark};M=u.type;void 0===u.filled&&(u.filled=Ql(u,ra,{graticule:d.data&&"graticule"in d.data}));const db=this.encoding=jg(d.encoding||{},M,u.filled,ra);this.markDef=el(u,db,ra);this.size=tl({encoding:db,size:pd(d)?Object.assign({},la,d.width?{width:d.width}:{},d.height?{height:d.height}:{}):la});this.stack=ma(M,db);this.specifiedScales=this.initScales(M,db);this.specifiedAxes=
this.initAxes(db);this.specifiedLegends=this.initLegends(db);this.specifiedProjection=d.projection;this.selection=(null!==(Ca=d.params)&&void 0!==Ca?Ca:[]).filter(qb=>!!qb.select)}get hasProjection(){const {encoding:d}=this,u=this.mark===ha,M=d&&si.some(la=>ce(d[la]));return u||M}scaleDomain(d){return(d=this.specifiedScales[d])?d.domain:void 0}axis(d){return this.specifiedAxes[d]}legend(d){return this.specifiedLegends[d]}initScales(d,u){return Qk.reduce((M,la)=>{const ra=gd(u[la]);if(ra){var Ca;M[la]=
this.initScale(null!==(Ca=ra.scale)&&void 0!==Ca?Ca:{})}return M},{})}initScale(d){const {domain:u,range:M}=d;d=Ra(d);n.isArray(u)&&(d.domain=u.map(vc));n.isArray(M)&&(d.range=M.map(vc));return d}initAxes(d){return ti.reduce((u,M)=>{var la=d[M];if(ce(la)||"x"===M&&ce(d.x2)||"y"===M&&ce(d.y2))la=ce(la)?la.axis:void 0,u[M]=la?this.initAxis(Object.assign({},la)):la;return u},{})}initAxis(d){var u=Md(d);const M={};for(const la of u)u=d[la],M[la]=Of(u)?Sb(u):vc(u);return M}initLegends(d){return Ol.reduce((u,
M)=>{var la=gd(d[M]),ra;if(ra=la)a:{switch(M){case "color":case "fill":case "stroke":case "size":case "shape":case "opacity":case "strokeWidth":case "strokeDash":ra=!0;break a;case "fillOpacity":case "strokeOpacity":case "angle":ra=!1;break a}ra=void 0}ra&&(la=la.legend,u[M]=la?Ra(la):la);return u},{})}parseData(){this.component.data=Tj(this)}parseLayoutSize(){{const {size:u,component:M}=this;for(const la of ti){const ra=Ea(la);if(u[ra]){var d=u[ra];M.layoutSize.set(ra,Ud(d)?"step":d,!0)}else d=$k(this,
ra),M.layoutSize.set(ra,d,!1)}}}parseSelections(){var d=this.component,u;{var M=this.selection;const Ca={},db=this.config.selection;if(M&&M.length)for(const qb of M){M=z(qb.name);var la=qb.select;const Eb=n.isString(la)?la:la.type;la=n.isObject(la)?pf(la):{type:Eb};var ra=Object.assign({},db[Eb]);ra=(delete ra.fields,delete ra.encodings,ra);for(const Kb in ra)if("mark"===Kb&&(la[Kb]=Object.assign({},ra[Kb],la[Kb])),void 0===la[Kb]||!0===la[Kb])la[Kb]=null!==(u=ra[Kb])&&void 0!==u?u:la[Kb];M=Ca[M]=
Object.assign({},la,{name:M,type:Eb,init:qb.value,bind:qb.bind,events:n.isString(la.on)?xf(la.on,"scope"):n.array(pf(la.on))});for(const Kb of Al)Kb.defined(M)&&Kb.parse&&Kb.parse(this,M,qb)}u=Ca}d.selection=u}parseMarkGroup(){this.component.mark=Pl(this)}parseAxesAndHeaders(){this.component.axes=Ll(this)}assembleSelectionTopLevelSignals(d){return mk(this,d)}assembleSignals(){var d=[...ji(this)];var u=[];for(const la of wg(null!==(M=this.component.selection)&&void 0!==M?M:{})){var M;M=la.name;let ra=
"".concat(M).concat("_tuple",", ")+("global"===la.resolve?"true":"{unit: ".concat($g(this),"}"));for(const Ca of Al)Ca.defined(la)&&(Ca.signals&&(u=Ca.signals(this,la,u)),Ca.modifyExpr&&(ra=Ca.modifyExpr(this,la,ra)));u.push({name:M+"_modify",on:[{events:{signal:la.name+"_tuple"},update:"modify(".concat(n.stringValue(la.name+"_store"),", ").concat(ra,")")}]})}u=nh(u);return[...d,...u]}assembleSelectionData(d){return Kk(this,d)}assembleLayout(){return null}assembleLayoutSignals(){return pi(this)}assembleMarks(){var d;
let u=null!==(d=this.component.mark)&&void 0!==d?d:[];this.parent&&Zh(this.parent)||(u=pk(this,u));return u.map(this.correctDataNames)}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(d){return uf(this.encoding,d)}fieldDef(d){return Tc(this.encoding[d])}typedFieldDef(d){d=this.fieldDef(d);return Xe(d)?d:null}}class ym extends fm{constructor(d,u,M,la,ra){super(d,"layer",u,M,ra,d.resolve,d.view);Sc(this,"children",void 0);const Ca=Object.assign({},la,d.width?{width:d.width}:
{},d.height?{height:d.height}:{});this.children=d.layer.map((db,qb)=>{if("layer"in db)return new ym(db,this,this.getName("layer_".concat(qb)),Ca,ra);if(Te(db))return new zm(db,this,this.getName("layer_".concat(qb)),Ca,ra);throw Error(Qb(db));})}parseData(){this.component.data=Tj(this);for(const d of this.children)d.parseData()}parseLayoutSize(){Mi(this);Gk(this,"width");Gk(this,"height")}parseSelections(){this.component.selection={};for(const d of this.children){d.parseSelections();for(const u of Md(d.component.selection))this.component.selection[u]=
d.component.selection[u]}}parseMarkGroup(){for(const d of this.children)d.parseMarkGroup()}parseAxesAndHeaders(){{const {axes:M,resolve:la}=this.component,ra={top:0,bottom:0,right:0,left:0};for(var d of this.children){d.parseAxesAndHeaders();for(const Ca of Md(d.component.axes))la.axis[Ca]=di(this.component.resolve,Ca),"shared"===la.axis[Ca]&&(M[Ca]=Fk(M[Ca],d.component.axes[Ca]),M[Ca]||(la.axis[Ca]="independent",delete M[Ca]))}for(const Ca of ti){for(const db of this.children)if(db.component.axes[Ca]){if("independent"===
la.axis[Ca]){var u;M[Ca]=(null!==(u=M[Ca])&&void 0!==u?u:[]).concat(db.component.axes[Ca]);for(const qb of db.component.axes[Ca]){const {value:Eb,explicit:Kb}=qb.getWithExplicit("orient");Ma(Eb)||(0<ra[Eb]&&!Kb&&(d=Bn[Eb],ra[Eb]>ra[d]&&qb.set("orient",d,!1)),ra[Eb]++)}}delete db.component.axes[Ca]}if("independent"===la.axis[Ca]&&M[Ca]&&1<M[Ca].length)for(const db of M[Ca])db.get("grid")&&!db.explicit.grid&&(db.implicit.grid=!1)}}}assembleSelectionTopLevelSignals(d){return this.children.reduce((u,
M)=>M.assembleSelectionTopLevelSignals(u),d)}assembleSignals(){return this.children.reduce((d,u)=>d.concat(u.assembleSignals()),ji(this))}assembleLayoutSignals(){return this.children.reduce((d,u)=>d.concat(u.assembleLayoutSignals()),pi(this))}assembleSelectionData(d){return this.children.reduce((u,M)=>M.assembleSelectionData(u),d)}assembleTitle(){let d=super.assembleTitle();if(d)return d;for(const u of this.children)if(d=u.assembleTitle())return d}assembleLayout(){return null}assembleMarks(){return qk(this,
this.children.flatMap(d=>d.assembleMarks()))}assembleLegends(){return this.children.reduce((d,u)=>d.concat(u.assembleLegends()),dj(this))}}m.accessPathDepth=Q;m.accessPathWithDatum=U;m.compile=function(d,u){u=void 0===u?{}:u;u.logger&&(Oi=u.logger);u.fieldTitle&&(oe=u.fieldTitle);try{const pc=bc(n.mergeConfig(u.config,d.config)),hd=Tf(d,pc),md=ri(hd,null,"",void 0,pc);md.parse();{var M=md.component.data,la=md;T(M.sources);let sd=0,yd=0;for(var ra=0;5>ra&&Ka(M,la,!0);ra++)sd++;M.sources.map(t);for(ra=
0;5>ra&&Ka(M,la,!1);ra++)yd++;T(M.sources);5===Math.max(sd,yd)&&Fb("Maximum optimization runs(".concat(5,") reached."))}{var Ca=hd.autosize;M=pc;la=md;const sd=la.component.layoutSize.get("width"),yd=la.component.layoutSize.get("height");void 0===Ca?(Ca={type:"pad"},la.hasAxisOrientSignalRef()&&(Ca.resize=!0)):n.isString(Ca)&&(Ca={type:Ca});var db;if(db=sd&&yd){var qb=Ca.type;db="fit"===qb||"fit-x"===qb||"fit-y"===qb}if(db)if("step"===sd&&"step"===yd)Fb(Cc()),Ca.type="pad";else if("step"===sd||"step"===
yd){qb="step"===sd?"width":"height";Fb(Cc(V(qb)));db=Ca;var Eb=(qb="width"===qb?"height":"width","fit-".concat(V(qb)));db.type=Eb}var Kb=Object.assign({},1===Md(Ca).length&&Ca.type?"pad"===Ca.type?{}:{autosize:Ca.type}:{autosize:Ca},Kd(M,!1),Kd(d,!0))}return{spec:ul(md,Kb,d.datasets,d.usermeta),normalized:hd}}finally{u.logger&&(Oi=nk),u.fieldTitle&&(oe=rd)}};m.contains=c;m.deepEqual=Bh;m.deleteNestedProperty=K;m.duplicate=pf;m.entries=Qh;m.every=a;m.fieldIntersection=P;m.flatAccessWithDatum=ka;m.getFirstDefined=
r;m.hasIntersection=C;m.hash=l;m.internalField=ea;m.isBoolean=G;m.isEmpty=L;m.isEqual=function(d,u){const M=Md(d),la=Md(u);if(M.length!==la.length)return!1;for(const ra of M)if(d[ra]!==u[ra])return!1;return!0};m.isInternalField=aa;m.isNullOrFalse=h;m.isNumeric=ta;m.keys=Md;m.logicalExpr=J;m.mergeDeep=f;m.normalize=Tf;m.normalizeAngle=va;m.omit=q;m.pick=y;m.prefixGenerator=D;m.removePathFromField=Z;m.replaceAll=ja;m.replacePathInField=da;m.resetIdCounter=function(){Hj=42};m.setEqual=A;m.some=e;m.stringify=
ng;m.titleCase=R;m.unique=p;m.uniqueId=N;m.vals=wg;m.varName=z;m.version="5.0.0";Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[65]=function(Ha,B,rb,E){function g(){throw Error("setTimeout has not been defined");}function m(){throw Error("clearTimeout has not been defined");}function n(p){if(l===setTimeout)return setTimeout(p,0);if((l===g||!l)&&setTimeout)return l=setTimeout,setTimeout(p,0);try{return l(p,0)}catch(A){try{return l.call(null,p,0)}catch(C){return l.call(this,p,0)}}}function F(p){if(h===clearTimeout)return clearTimeout(p);if((h===m||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(p);try{return h(p)}catch(A){try{return h.call(null,
p)}catch(C){return h.call(this,p)}}}function O(){e&&a&&(e=!1,a.length?c=a.concat(c):f=-1,c.length&&x())}function x(){if(!e){var p=n(O);e=!0;for(var A=c.length;A;){a=c;for(c=[];++f<A;)a&&a[f].run();f=-1;A=c.length}a=null;e=!1;F(p)}}function y(p,A){this.fun=p;this.array=A}function q(){}Ha=rb.exports={};try{var l="function"===typeof setTimeout?setTimeout:g}catch(p){l=g}try{var h="function"===typeof clearTimeout?clearTimeout:m}catch(p){h=m}var c=[],e=!1,a,f=-1;Ha.nextTick=function(p){var A=Array(arguments.length-
1);if(1<arguments.length)for(var C=1;C<arguments.length;C++)A[C-1]=arguments[C];c.push(new y(p,A));1!==c.length||e||n(x)};y.prototype.run=function(){this.fun.apply(null,this.array)};Ha.title="browser";Ha.browser=!0;Ha.env={};Ha.argv=[];Ha.version="";Ha.versions={};Ha.on=q;Ha.addListener=q;Ha.once=q;Ha.off=q;Ha.removeListener=q;Ha.removeAllListeners=q;Ha.emit=q;Ha.prependListener=q;Ha.prependOnceListener=q;Ha.listeners=function(p){return[]};Ha.binding=function(p){throw Error("process.binding is not supported");
};Ha.cwd=function(){return"/"};Ha.chdir=function(p){throw Error("process.chdir is not supported");};Ha.umask=function(){return 0}};
shadow$provide[66]=function(Ha,B,rb,E){var g=B(65);(function(m,n){"object"===typeof E&&"undefined"!==typeof rb?rb.exports=n(B(63),B(64)):"function"===typeof define&&define.amd?define(["vega","vega-lite"],n):(m="undefined"!==typeof globalThis?globalThis:m||self,m.vegaEmbed=n(m.vega,m.vegaLite))})(this,function(m,n){function F(xa){if(xa&&xa.__esModule)return xa;var Ba=Object.create(null);xa&&Object.keys(xa).forEach(function(Ya){if("default"!==Ya){var Hb=Object.getOwnPropertyDescriptor(xa,Ya);Object.defineProperty(Ba,
Ya,Hb.get?Hb:{enumerable:!0,get:function(){return xa[Ya]}})}});Ba["default"]=xa;return Object.freeze(Ba)}function O(xa,Ba,Ya,Hb){function vb(Xb){return Xb instanceof Ya?Xb:new Ya(function(xc){xc(Xb)})}return new (Ya||(Ya=Promise))(function(Xb,xc){function Oc(Ld){try{Qc(Hb.next(Ld))}catch(Nd){xc(Nd)}}function ld(Ld){try{Qc(Hb["throw"](Ld))}catch(Nd){xc(Nd)}}function Qc(Ld){Ld.done?Xb(Ld.value):vb(Ld.value).then(Oc,ld)}Qc((Hb=Hb.apply(xa,Ba||[])).next())})}function x(xa,Ba){function Ya(Qc){return function(Ld){return Hb([Qc,
Ld])}}function Hb(Qc){if(Xb)throw new TypeError("Generator is already executing.");for(;vb;)try{if(Xb=1,xc&&(Oc=Qc[0]&2?xc["return"]:Qc[0]?xc["throw"]||((Oc=xc["return"])&&Oc.call(xc),0):xc.next)&&!(Oc=Oc.call(xc,Qc[1])).done)return Oc;if(xc=0,Oc)Qc=[Qc[0]&2,Oc.value];switch(Qc[0]){case 0:case 1:Oc=Qc;break;case 4:return vb.label++,{value:Qc[1],done:!1};case 5:vb.label++;xc=Qc[1];Qc=[0];continue;case 7:Qc=vb.ops.pop();vb.trys.pop();continue;default:if(!(Oc=vb.trys,Oc=0<Oc.length&&Oc[Oc.length-1])&&
(6===Qc[0]||2===Qc[0])){vb=0;continue}if(3===Qc[0]&&(!Oc||Qc[1]>Oc[0]&&Qc[1]<Oc[3]))vb.label=Qc[1];else if(6===Qc[0]&&vb.label<Oc[1])vb.label=Oc[1],Oc=Qc;else if(Oc&&vb.label<Oc[2])vb.label=Oc[2],vb.ops.push(Qc);else{Oc[2]&&vb.ops.pop();vb.trys.pop();continue}}Qc=Ba.call(xa,vb)}catch(Ld){Qc=[6,Ld],xc=0}finally{Xb=Oc=0}if(Qc[0]&5)throw Qc[1];return{value:Qc[0]?Qc[1]:void 0,done:!0}}var vb={label:0,sent:function(){if(Oc[0]&1)throw Oc[1];return Oc[1]},trys:[],ops:[]},Xb,xc,Oc,ld;return ld={next:Ya(0),
"throw":Ya(1),"return":Ya(2)},"function"===typeof Symbol&&(ld[Symbol.iterator]=function(){return this}),ld}function y(xa){if(Array.isArray(xa)){var Ba=Array(xa.length);for(xa=0;xa<Ba.length;xa++)Ba[xa]=""+xa;return Ba}if(Object.keys)return Object.keys(xa);Ba=[];for(var Ya in xa)ua.call(xa,Ya)&&Ba.push(Ya);return Ba}function q(xa){switch(typeof xa){case "object":return JSON.parse(JSON.stringify(xa));case "undefined":return null;default:return xa}}function l(xa){for(var Ba=0,Ya=xa.length,Hb;Ba<Ya;)if(Hb=
xa.charCodeAt(Ba),48<=Hb&&57>=Hb)Ba++;else return!1;return!0}function h(xa){return-1===xa.indexOf("/")&&-1===xa.indexOf("~")?xa:xa.replace(/~/g,"~0").replace(/\//g,"~1")}function c(xa){return xa.replace(/~1/g,"/").replace(/~0/g,"~")}function e(xa){if(void 0===xa)return!0;if(xa)if(Array.isArray(xa))for(var Ba=0,Ya=xa.length;Ba<Ya;Ba++){if(e(xa[Ba]))return!0}else if("object"===typeof xa){Ya=y(xa);var Hb=Ya.length;for(Ba=0;Ba<Hb;Ba++)if(e(xa[Ya[Ba]]))return!0}return!1}function a(xa,Ba){xa=[xa];for(var Ya in Ba){var Hb=
"object"===typeof Ba[Ya]?JSON.stringify(Ba[Ya],null,2):Ba[Ya];"undefined"!==typeof Hb&&xa.push(Ya+": "+Hb)}return xa.join("\n")}function f(xa,Ba){if(""==Ba)return xa;Ba={op:"_get",path:Ba};p(xa,Ba);return Ba.value}function p(xa,Ba,Ya,Hb,vb,Xb){void 0===Ya&&(Ya=!1);void 0===Hb&&(Hb=!0);void 0===vb&&(vb=!0);void 0===Xb&&(Xb=0);Ya&&("function"==typeof Ya?Ya(Ba,0,xa,Ba.path):C(Ba,0));if(""===Ba.path){vb={newDocument:xa};if("add"===Ba.op)return vb.newDocument=Ba.value,vb;if("replace"===Ba.op)return vb.newDocument=
Ba.value,vb.removed=xa,vb;if("move"===Ba.op||"copy"===Ba.op)return vb.newDocument=f(xa,Ba.from),"move"===Ba.op&&(vb.removed=xa),vb;if("test"===Ba.op){vb.test=P(xa,Ba.value);if(!1===vb.test)throw new W("Test operation failed","TEST_OPERATION_FAILED",Xb,Ba,xa);vb.newDocument=xa;return vb}if("remove"===Ba.op)return vb.removed=xa,vb.newDocument=null,vb;if("_get"===Ba.op)return Ba.value=xa,vb;if(Ya)throw new W("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",
Xb,Ba,xa);return vb}Hb||(xa=q(xa));Hb=(Ba.path||"").split("/");var xc=xa,Oc=1,ld=Hb.length,Qc=void 0,Ld;for(Ld="function"==typeof Ya?Ya:C;;){var Nd=Hb[Oc];if(vb&&"__proto__"==Nd)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");Ya&&void 0===Qc&&(void 0===xc[Nd]?Qc=Hb.slice(0,Oc).join("/"):Oc==ld-1&&(Qc=Ba.path),void 0!==
Qc&&Ld(Ba,0,xa,Qc));Oc++;if(Array.isArray(xc)){if("-"===Nd)Nd=xc.length;else{if(Ya&&!l(Nd))throw new W("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",Xb,Ba,xa);l(Nd)&&(Nd=~~Nd)}if(Oc>=ld){if(Ya&&"add"===Ba.op&&Nd>xc.length)throw new W("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",Xb,Ba,xa);vb=fa[Ba.op].call(Ba,xc,Nd,xa);
if(!1===vb.test)throw new W("Test operation failed","TEST_OPERATION_FAILED",Xb,Ba,xa);return vb}}else if(Nd&&-1!=Nd.indexOf("~")&&(Nd=c(Nd)),Oc>=ld){vb=ca[Ba.op].call(Ba,xc,Nd,xa);if(!1===vb.test)throw new W("Test operation failed","TEST_OPERATION_FAILED",Xb,Ba,xa);return vb}xc=xc[Nd]}}function A(xa,Ba,Ya,Hb,vb){void 0===Hb&&(Hb=!0);void 0===vb&&(vb=!0);if(Ya&&!Array.isArray(Ba))throw new W("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");Hb||(xa=q(xa));Hb=Array(Ba.length);for(var Xb=0,
xc=Ba.length;Xb<xc;Xb++)Hb[Xb]=p(xa,Ba[Xb],Ya,!0,vb,Xb),xa=Hb[Xb].newDocument;Hb.newDocument=xa;return Hb}function C(xa,Ba,Ya,Hb){if("object"!==typeof xa||null===xa||Array.isArray(xa))throw new W("Operation is not an object","OPERATION_NOT_AN_OBJECT",Ba,xa,Ya);if(ca[xa.op]){if("string"!==typeof xa.path)throw new W("Operation `path` property is not a string","OPERATION_PATH_INVALID",Ba,xa,Ya);if(0!==xa.path.indexOf("/")&&0<xa.path.length)throw new W('Operation `path` property must start with "/"',
"OPERATION_PATH_INVALID",Ba,xa,Ya);if("move"!==xa.op&&"copy"!==xa.op||"string"===typeof xa.from)if("add"!==xa.op&&"replace"!==xa.op&&"test"!==xa.op||void 0!==xa.value){if(("add"===xa.op||"replace"===xa.op||"test"===xa.op)&&e(xa.value))throw new W("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",Ba,xa,Ya);if(Ya)if("add"==xa.op){var vb=xa.path.split("/").length;Hb=Hb.split("/").length;if(vb!==Hb+1&&vb!==Hb)throw new W("Cannot perform an `add` operation at the desired path",
"OPERATION_PATH_CANNOT_ADD",Ba,xa,Ya);}else if("replace"===xa.op||"remove"===xa.op||"_get"===xa.op){if(xa.path!==Hb)throw new W("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",Ba,xa,Ya);}else if(("move"===xa.op||"copy"===xa.op)&&(vb=D([{op:"_get",path:xa.from,value:void 0}],Ya))&&"OPERATION_PATH_UNRESOLVABLE"===vb.name)throw new W("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",Ba,xa,Ya);}else throw new W("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)",
"OPERATION_VALUE_REQUIRED",Ba,xa,Ya);else throw new W("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",Ba,xa,Ya);}else throw new W("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",Ba,xa,Ya);}function D(xa,Ba,Ya){try{if(!Array.isArray(xa))throw new W("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(Ba)A(q(Ba),q(xa),Ya||!0);else{Ya=Ya||C;for(var Hb=0;Hb<xa.length;Hb++)Ya(xa[Hb],
Hb,Ba,void 0)}}catch(vb){if(vb instanceof W)return vb;throw vb;}}function P(xa,Ba){if(xa===Ba)return!0;if(xa&&Ba&&"object"==typeof xa&&"object"==typeof Ba){var Ya=Array.isArray(xa),Hb=Array.isArray(Ba);if(Ya&&Hb){var vb=xa.length;if(vb!=Ba.length)return!1;for(Ya=vb;0!==Ya--;)if(!P(xa[Ya],Ba[Ya]))return!1;return!0}if(Ya!=Hb)return!1;Hb=Object.keys(xa);vb=Hb.length;if(vb!==Object.keys(Ba).length)return!1;for(Ya=vb;0!==Ya--;)if(!Ba.hasOwnProperty(Hb[Ya]))return!1;for(Ya=vb;0!==Ya--;)if(vb=Hb[Ya],!P(xa[vb],
Ba[vb]))return!1;return!0}return xa!==xa&&Ba!==Ba}function L(xa,Ba){void 0===Ba&&(Ba=!1);var Ya=pa.get(xa.object);G(Ya.value,xa.object,xa.patches,"",Ba);xa.patches.length&&A(Ya.value,xa.patches);Ba=xa.patches;0<Ba.length&&(xa.patches=[],xa.callback&&xa.callback(Ba));return Ba}function G(xa,Ba,Ya,Hb,vb){if(Ba!==xa){"function"===typeof Ba.toJSON&&(Ba=Ba.toJSON());for(var Xb=y(Ba),xc=y(xa),Oc=!1,ld=xc.length-1;0<=ld;ld--){var Qc=xc[ld],Ld=xa[Qc];if(!ua.call(Ba,Qc)||void 0===Ba[Qc]&&void 0!==Ld&&!1===
Array.isArray(Ba))Array.isArray(xa)===Array.isArray(Ba)?(vb&&Ya.push({op:"test",path:Hb+"/"+h(Qc),value:q(Ld)}),Ya.push({op:"remove",path:Hb+"/"+h(Qc)}),Oc=!0):(vb&&Ya.push({op:"test",path:Hb,value:xa}),Ya.push({op:"replace",path:Hb,value:Ba}));else{var Nd=Ba[Qc];"object"==typeof Ld&&null!=Ld&&"object"==typeof Nd&&null!=Nd?G(Ld,Nd,Ya,Hb+"/"+h(Qc),vb):Ld!==Nd&&(vb&&Ya.push({op:"test",path:Hb+"/"+h(Qc),value:q(Ld)}),Ya.push({op:"replace",path:Hb+"/"+h(Qc),value:q(Nd)}))}}if(Oc||Xb.length!=xc.length)for(ld=
0;ld<Xb.length;ld++)Qc=Xb[ld],ua.call(xa,Qc)||void 0===Ba[Qc]||Ya.push({op:"add",path:Hb+"/"+h(Qc),value:q(Ba[Qc])})}}function z(xa){var Ba=this;Ba instanceof z||(Ba=new z);Ba.tail=null;Ba.head=null;Ba.length=0;if(xa&&"function"===typeof xa.forEach)xa.forEach(function(vb){Ba.push(vb)});else if(0<arguments.length)for(var Ya=0,Hb=arguments.length;Ya<Hb;Ya++)Ba.push(arguments[Ya]);return Ba}function J(xa,Ba,Ya,Hb){if(!(this instanceof J))return new J(xa,Ba,Ya,Hb);this.list=Hb;this.value=xa;Ba?(Ba.next=
this,this.prev=Ba):this.prev=null;Ya?(Ya.prev=this,this.next=Ya):this.next=null}function K(xa){const [Ba,Ya]=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(xa).slice(1,3);return{library:Ba,version:Ya}}function R(xa,Ba,Ya){xa.fields=Ba||[];xa.fname=Ya;return xa}function U(xa){return 1===xa.length?Qe(xa[0]):Yf(xa)}function ka(xa){function Ba(){Ya.push(xc+xa.substring(Oc,ld));xc="";Oc=ld+1}const Ya=[],Hb=xa.length;let vb=null,Xb=0,xc="",Oc,ld,Qc;xa+="";for(Oc=ld=0;ld<Hb;++ld)if(Qc=xa[ld],"\\"===Qc)xc+=
xa.substring(Oc,ld),xc+=xa.substring(++ld,++ld),Oc=ld;else if(Qc===vb)Ba(),vb=null,Xb=-1;else if(!vb)if(Oc===Xb&&'"'===Qc)Oc=ld+1,vb=Qc;else if(Oc===Xb&&"'"===Qc)Oc=ld+1,vb=Qc;else if("."===Qc&&!Xb)ld>Oc?Ba():Oc=ld+1;else if("["===Qc)ld>Oc&&Ba(),Xb=Oc=ld+1;else if("]"===Qc){if(!Xb)throw Error("Access path missing open bracket: "+xa);0<Xb&&Ba();Xb=0;Oc=ld+1}if(Xb)throw Error("Access path missing closing bracket: "+xa);if(vb)throw Error("Access path missing closing quote: "+xa);ld>Oc&&(ld++,Ba());return Ya}
function ba(xa,Ba){var Ya={},Hb;for(Hb in xa)Object.prototype.hasOwnProperty.call(xa,Hb)&&0>Ba.indexOf(Hb)&&(Ya[Hb]=xa[Hb]);if(null!=xa&&"function"===typeof Object.getOwnPropertySymbols){var vb=0;for(Hb=Object.getOwnPropertySymbols(xa);vb<Hb.length;vb++)0>Ba.indexOf(Hb[vb])&&Object.prototype.propertyIsEnumerable.call(xa,Hb[vb])&&(Ya[Hb[vb]]=xa[Hb[vb]])}return Ya}function da(xa,Ba,Ya){if(Jc(xa))return`[${xa.map(vb=>Ba("string"===typeof vb?vb:JSON.stringify(vb,ja(Ya)))).join(", ")}]`;if(xa===Object(xa)){let vb=
"";const {title:Xb,image:xc}=xa;xa=ba(xa,["title","image"]);Xb&&(vb+=`<h2>${Ba(Xb)}</h2>`);xc&&(vb+=`<img src="${Ba(xc)}">`);var Hb=Object.keys(xa);if(0<Hb.length){vb+="\x3ctable\x3e";for(const Oc of Hb)Hb=xa[Oc],void 0!==Hb&&(Hb===Object(Hb)&&(Hb=JSON.stringify(Hb,ja(Ya))),vb+=`<tr><td class="key">${Ba(Oc)}:</td><td class="value">${Ba(Hb)}</td></tr>`);vb+="\x3c/table\x3e"}return vb||"{}"}return Ba(xa)}function ja(xa){const Ba=[];return function(Ya,Hb){if("object"!==typeof Hb||null===Hb)return Hb;
Ya=Ba.indexOf(this)+1;Ba.length=Ya;if(Ba.length>xa)return"[Object]";if(0<=Ba.indexOf(Hb))return"[Circular]";Ba.push(Hb);return Hb}}function Z(xa,Ba,Ya){function Hb(ld){ld.source===Xb&&(Oc=0,xa.removeEventListener("message",Hb,!1))}function vb(){0>=Oc||(Xb.postMessage(Ya,xc),setTimeout(vb,250),--Oc)}var Xb=xa.open(Ba),xc=(new URL(Ba)).origin,Oc=40;xa.addEventListener("message",Hb,!1);setTimeout(vb,250)}function Q(xa){for(var Ba=[],Ya=1;Ya<arguments.length;Ya++)Ba[Ya-1]=arguments[Ya];for(Ya=0;Ya<Ba.length;Ya++)for(var Hb=
xa,vb=Ba[Ya],Xb=0,xc=Object.keys(vb);Xb<xc.length;Xb++){var Oc=xc[Xb];m.writeConfig(Hb,Oc,vb[Oc],!0)}return xa}function r(xa,Ba,Ya,Hb){Ba="\x3chtml\x3e\x3chead\x3e"+Ba+'\x3c/head\x3e\x3cbody\x3e\x3cpre\x3e\x3ccode class\x3d"json"\x3e';Ya="\x3c/code\x3e\x3c/pre\x3e"+Ya+"\x3c/body\x3e\x3c/html\x3e";var vb=window.open("");vb.document.write(Ba+xa+Ya);vb.document.title=Qf[Hb]+" JSON Source"}function N(xa,Ba){var Ya;return xa.$schema?(xa=K(xa.$schema),Ba&&Ba!==xa.library&&console.warn("The given visualization spec is written in "+
Qf[xa.library]+", but mode argument sets "+(null!==(Ya=Qf[Ba])&&void 0!==Ya?Ya:Ba)+"."),Ba=xa.library,we.satisfies(Jf[Ba],"^"+xa.version.slice(1))||console.warn("The input spec uses "+Qf[Ba]+" "+xa.version+", but the current version of "+Qf[Ba]+" is v"+Jf[Ba]+"."),Ba):"mark"in xa||"encoding"in xa||"layer"in xa||"hconcat"in xa||"vconcat"in xa||"facet"in xa||"repeat"in xa?"vega-lite":"marks"in xa||"signals"in xa||"scales"in xa||"axes"in xa?"vega":null!==Ba&&void 0!==Ba?Ba:"vega"}function ea(xa){return xa&&
"load"in xa?xa:De.loader(xa)}function aa(xa){var Ba;return null!==(Ba=xa.usermeta&&xa.usermeta.embedOptions)&&void 0!==Ba?Ba:{}}function va(xa,Ba,Ya){var Hb,vb,Xb;void 0===Ya&&(Ya={});return O(this,void 0,void 0,function(){var xc,Oc,ld,Qc,Ld,Nd,Od,od;return x(this,function(Rd){switch(Rd.label){case 0:if(!m.isString(Ba))return[3,2];Oc=ea(Ya.loader);Qc=(ld=JSON).parse;return[4,Oc.load(Ba)];case 1:return xc=Qc.apply(ld,[Rd.sent()]),[3,3];case 2:xc=Ba,Rd.label=3;case 3:Ld=aa(xc).loader;if(!Oc||Ld)Oc=
ea(null!==(Hb=Ya.loader)&&void 0!==Hb?Hb:Ld);return[4,ta(aa(xc),Oc)];case 4:return Nd=Rd.sent(),[4,ta(Ya,Oc)];case 5:return Od=Rd.sent(),od=Wa(Wa({},Q(Od,Nd)),{config:m.mergeConfig(null!==(vb=Od.config)&&void 0!==vb?vb:{},null!==(Xb=Nd.config)&&void 0!==Xb?Xb:{})}),[4,$a(xa,xc,od,Oc)];case 6:return[2,Rd.sent()]}})})}function ta(xa,Ba){var Ya;return O(this,void 0,void 0,function(){var Hb,vb,Xb,xc,Oc,ld,Qc,Ld;return x(this,function(Nd){switch(Nd.label){case 0:if(!m.isString(xa.config))return[3,2];xc=
(Xb=JSON).parse;return[4,Ba.load(xa.config)];case 1:return vb=xc.apply(Xb,[Nd.sent()]),[3,3];case 2:vb=null!==(Ya=xa.config)&&void 0!==Ya?Ya:{},Nd.label=3;case 3:Hb=vb;if(!m.isString(xa.patch))return[3,5];Ld=(Qc=JSON).parse;return[4,Ba.load(xa.patch)];case 4:return ld=Ld.apply(Qc,[Nd.sent()]),[3,6];case 5:ld=xa.patch,Nd.label=6;case 6:return Oc=ld,[2,Wa(Wa(Wa({},xa),Oc?{patch:Oc}:{}),Hb?{config:Hb}:{})]}})})}function Da(xa){var Ba;xa=xa.getRootNode?xa.getRootNode():document;return xa instanceof ShadowRoot?
{root:xa,rootContainer:xa}:{root:document,rootContainer:null!==(Ba=document.head)&&void 0!==Ba?Ba:document.body}}function $a(xa,Ba,Ya,Hb){var vb,Xb,xc,Oc,ld,Qc;void 0===Ya&&(Ya={});return O(this,void 0,void 0,function(){function Ld(){Hd&&document.removeEventListener("click",Hd);Ub.finalize()}var Nd,Od,od,Rd,kd,lf,bf,ee,Ve,ce,Xe,zf,tf,Oe,Nf,za,Ia,wb,Yb,Ub,ic,oc,id,Tc,gd,Hd,he,ie,Pd,Ne,pe,He,Je,Le,Of,Te,uf,Bf;return x(this,function(Ag){switch(Ag.label){case 0:Nd=Ya.theme?m.mergeConfig(Qd[Ya.theme],
null!==(vb=Ya.config)&&void 0!==vb?vb:{}):Ya.config;Od=m.isBoolean(Ya.actions)?Ya.actions:Q({},Hf,null!==(Xb=Ya.actions)&&void 0!==Xb?Xb:{});od=Wa(Wa({},If),Ya.i18n);Rd=null!==(xc=Ya.renderer)&&void 0!==xc?xc:"canvas";kd=null!==(Oc=Ya.logLevel)&&void 0!==Oc?Oc:De.Warn;lf=null!==(ld=Ya.downloadFileName)&&void 0!==ld?ld:"visualization";bf="string"===typeof xa?document.querySelector(xa):xa;if(!bf)throw Error(xa+" does not exist");!1!==Ya.defaultStyle&&(ee=Da(bf),Ve=ee.root,ce=ee.rootContainer,Ve.getElementById("vega-embed-style")||
(Xe=document.createElement("style"),Xe.id="vega-embed-style",Xe.innerText=void 0===Ya.defaultStyle||!0===Ya.defaultStyle?'.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box; }\n  .vega-embed.has-actions {\n    padding-right: 38px; }\n  .vega-embed details:not([open]) \x3e :not(summary) {\n    display: none !important; }\n  .vega-embed summary {\n    list-style: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6px;\n    z-index: 1000;\n    background: white;\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n    color: #1b1e23;\n    border: 1px solid #aaa;\n    border-radius: 999px;\n    opacity: 0.2;\n    transition: opacity 0.4s ease-in;\n    outline: none;\n    cursor: pointer;\n    line-height: 0px; }\n    .vega-embed summary::-webkit-details-marker {\n      display: none; }\n    .vega-embed summary:active {\n      box-shadow: #aaa 0px 0px 0px 1px inset; }\n    .vega-embed summary svg {\n      width: 14px;\n      height: 14px; }\n  .vega-embed details[open] summary {\n    opacity: 0.7; }\n  .vega-embed:hover summary,\n  .vega-embed:focus summary {\n    opacity: 1 !important;\n    transition: opacity 0.2s ease; }\n  .vega-embed .vega-actions {\n    position: absolute;\n    z-index: 1001;\n    top: 35px;\n    right: -9px;\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 8px;\n    padding-top: 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n    border: 1px solid #d9d9d9;\n    background: white;\n    animation-duration: 0.15s;\n    animation-name: scale-in;\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n    text-align: left; }\n    .vega-embed .vega-actions a {\n      padding: 8px 16px;\n      font-family: sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      color: #434a56;\n      text-decoration: none; }\n      .vega-embed .vega-actions a:hover {\n        background-color: #f7f7f9;\n        color: black; }\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n      content: "";\n      display: inline-block;\n      position: absolute; }\n    .vega-embed .vega-actions::before {\n      left: auto;\n      right: 14px;\n      top: -16px;\n      border: 8px solid #0000;\n      border-bottom-color: #d9d9d9; }\n    .vega-embed .vega-actions::after {\n      left: auto;\n      right: 15px;\n      top: -14px;\n      border: 7px solid #0000;\n      border-bottom-color: #fff; }\n  .vega-embed .chart-wrapper {\n    width: 100%;\n    height: 100%; }\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px; }\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6); }\n  to {\n    opacity: 1;\n    transform: scale(1); } }\n'.toString():
Ya.defaultStyle,ce.appendChild(Xe)));zf=N(Ba,Ya.mode);tf=Ae[zf](Ba,Nd);"vega-lite"===zf&&tf.$schema&&(Oe=K(tf.$schema),we.satisfies(Jf.vega,"^"+Oe.version.slice(1))||console.warn("The compiled spec uses Vega "+Oe.version+", but current version is v"+Jf.vega+"."));bf.classList.add("vega-embed");Od&&bf.classList.add("has-actions");bf.innerHTML="";Nf=bf;Od&&(za=document.createElement("div"),za.classList.add("chart-wrapper"),bf.appendChild(za),Nf=za);(Ia=Ya.patch)&&(tf=Ia instanceof Function?Ia(tf):A(tf,
Ia,!0,!1).newDocument);Ya.formatLocale&&De.formatLocale(Ya.formatLocale);Ya.timeFormatLocale&&De.timeFormatLocale(Ya.timeFormatLocale);wb=Ya.ast;Yb=De.parse(tf,"vega-lite"===zf?{}:Nd,{ast:wb});Ub=new De.View(Yb,Wa({loader:Hb,logLevel:kd,renderer:Rd},wb?{expr:De.expressionInterpreter}:{}));!1!==Ya.tooltip&&(ic=void 0,ic="function"===typeof Ya.tooltip?Ya.tooltip:(new je(!0===Ya.tooltip?{}:Ya.tooltip)).call,Ub.tooltip(ic));oc=Ya.hover;void 0===oc&&(oc="vega"===zf);oc&&(id="boolean"===typeof oc?{}:oc,
Tc=id.hoverSet,gd=id.updateSet,Ub.hover(Tc,gd));Ya&&(null!=Ya.width&&Ub.width(Ya.width),null!=Ya.height&&Ub.height(Ya.height),null!=Ya.padding&&Ub.padding(Ya.padding));return[4,Ub.initialize(Nf,Ya.bind).runAsync()];case 1:Ag.sent();if(!1!==Od){he=bf;!1!==Ya.defaultStyle&&(ie=document.createElement("details"),ie.title=od.CLICK_TO_VIEW_ACTIONS,bf.append(ie),he=ie,Pd=document.createElement("summary"),Pd.innerHTML='\n\x3csvg viewBox\x3d"0 0 16 16" fill\x3d"currentColor" stroke\x3d"none" stroke-width\x3d"1" stroke-linecap\x3d"round" stroke-linejoin\x3d"round"\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"2"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"8"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"14"\x3e\x3c/circle\x3e\n\x3c/svg\x3e',
ie.append(Pd),Hd=function(Rf){ie.contains(Rf.target)||ie.removeAttribute("open")},document.addEventListener("click",Hd));Ne=document.createElement("div");he.append(Ne);Ne.classList.add("vega-actions");if(!0===Od||!1!==Od["export"])for(pe=function(Rf){if(!0===Od||!0===Od["export"]||Od["export"][Rf]){var jg=od[Rf.toUpperCase()+"_ACTION"],wa=document.createElement("a");wa.text=jg;wa.href="#";wa.target="_blank";wa.download=lf+"."+Rf;wa.addEventListener("mousedown",function(ya){return O(this,void 0,void 0,
function(){var Na;return x(this,function(Sa){switch(Sa.label){case 0:return ya.preventDefault(),[4,Ub.toImageURL(Rf,Ya.scaleFactor)];case 1:return this.href=Na=Sa.sent(),[2]}})})});Ne.append(wa)}},He=0,Je=["svg","png"];He<Je.length;He++)Le=Je[He],pe(Le);if(!0===Od||!1!==Od.source)Of=document.createElement("a"),Of.text=od.SOURCE_ACTION,Of.href="#",Of.addEventListener("click",function(Rf){var jg,wa;r(Za(Ba),null!==(jg=Ya.sourceHeader)&&void 0!==jg?jg:"",null!==(wa=Ya.sourceFooter)&&void 0!==wa?wa:"",
zf);Rf.preventDefault()}),Ne.append(Of);"vega-lite"!==zf||!0!==Od&&!1===Od.compiled||(Te=document.createElement("a"),Te.text=od.COMPILED_ACTION,Te.href="#",Te.addEventListener("click",function(Rf){var jg,wa;r(Za(tf),null!==(jg=Ya.sourceHeader)&&void 0!==jg?jg:"",null!==(wa=Ya.sourceFooter)&&void 0!==wa?wa:"","vega");Rf.preventDefault()}),Ne.append(Te));if(!0===Od||!1!==Od.editor)uf=null!==(Qc=Ya.editorUrl)&&void 0!==Qc?Qc:"https://vega.github.io/editor/",Bf=document.createElement("a"),Bf.text=od.EDITOR_ACTION,
Bf.href="#",Bf.addEventListener("click",function(Rf){Z(window,uf,{config:Nd,mode:zf,renderer:Rd,spec:Za(Ba)});Rf.preventDefault()}),Ne.append(Bf)}return[2,{view:Ub,spec:Ba,vgSpec:tf,finalize:Ld}]}})})}function kb(xa,Ba){var Ya;void 0===Ba&&(Ba={});return O(this,void 0,void 0,function(){var Hb,vb,Xb,xc;return x(this,function(Oc){switch(Oc.label){case 0:return Hb=document.createElement("div"),Hb.classList.add("vega-embed-wrapper"),vb=document.createElement("div"),Hb.appendChild(vb),Xb=!0===Ba.actions||
!1===Ba.actions?Ba.actions:Wa({"export":!0,source:!1,compiled:!0,editor:!0},null!==(Ya=Ba.actions)&&void 0!==Ya?Ya:{}),[4,va(vb,xa,Wa({actions:Xb},null!==Ba&&void 0!==Ba?Ba:{}))];case 1:return xc=Oc.sent(),Hb.value=xc.view,[2,Hb]}})})}var sa=F(m),Ta=F(n),Wa=function(){Wa=Object.assign||function(xa){for(var Ba,Ya=1,Hb=arguments.length;Ya<Hb;Ya++){Ba=arguments[Ya];for(var vb in Ba)Object.prototype.hasOwnProperty.call(Ba,vb)&&(xa[vb]=Ba[vb])}return xa};return Wa.apply(this,arguments)},Ea=function(){var xa=
function(Ba,Ya){xa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Hb,vb){Hb.__proto__=vb}||function(Hb,vb){for(var Xb in vb)vb.hasOwnProperty(Xb)&&(Hb[Xb]=vb[Xb])};return xa(Ba,Ya)};return function(Ba,Ya){function Hb(){this.constructor=Ba}xa(Ba,Ya);Ba.prototype=null===Ya?Object.create(Ya):(Hb.prototype=Ya.prototype,new Hb)}}(),ua=Object.prototype.hasOwnProperty,V=function(xa){function Ba(Ya,Hb,vb,Xb,xc){var Oc=this.constructor,ld=xa.call(this,a(Ya,{name:Hb,index:vb,operation:Xb,tree:xc}))||
this;ld.name=Hb;ld.index=vb;ld.operation=Xb;ld.tree=xc;Object.setPrototypeOf(ld,Oc.prototype);ld.message=a(Ya,{name:Hb,index:vb,operation:Xb,tree:xc});return ld}Ea(Ba,xa);return Ba}(Error),W=V,ca={add:function(xa,Ba,Ya){xa[Ba]=this.value;return{newDocument:Ya}},remove:function(xa,Ba,Ya){var Hb=xa[Ba];delete xa[Ba];return{newDocument:Ya,removed:Hb}},replace:function(xa,Ba,Ya){var Hb=xa[Ba];xa[Ba]=this.value;return{newDocument:Ya,removed:Hb}},move:function(xa,Ba,Ya){(xa=f(Ya,this.path))&&(xa=q(xa));
Ba=p(Ya,{op:"remove",path:this.from}).removed;p(Ya,{op:"add",path:this.path,value:Ba});return{newDocument:Ya,removed:xa}},copy:function(xa,Ba,Ya){xa=f(Ya,this.from);p(Ya,{op:"add",path:this.path,value:q(xa)});return{newDocument:Ya}},test:function(xa,Ba,Ya){return{newDocument:Ya,test:P(xa[Ba],this.value)}},_get:function(xa,Ba,Ya){this.value=xa[Ba];return{newDocument:Ya}}},fa={add:function(xa,Ba,Ya){l(Ba)?xa.splice(Ba,0,this.value):xa[Ba]=this.value;return{newDocument:Ya,index:Ba}},remove:function(xa,
Ba,Ya){xa=xa.splice(Ba,1);return{newDocument:Ya,removed:xa[0]}},replace:function(xa,Ba,Ya){var Hb=xa[Ba];xa[Ba]=this.value;return{newDocument:Ya,removed:Hb}},move:ca.move,copy:ca.copy,test:ca.test,_get:ca._get},qa=Object.freeze({__proto__:null,JsonPatchError:W,deepClone:q,getValueByPointer:f,applyOperation:p,applyPatch:A,applyReducer:function(xa,Ba,Ya){var Hb=p(xa,Ba);if(!1===Hb.test)throw new W("Test operation failed","TEST_OPERATION_FAILED",Ya,Ba,xa);return Hb.newDocument},validator:C,validate:D,
_areEquals:P}),pa=new WeakMap,Ga=function(){return function(xa){this.observers=new Map;this.obj=xa}}(),na=function(){return function(xa,Ba){this.callback=xa;this.observer=Ba}}(),Oa=Object.freeze({__proto__:null,unobserve:function(xa,Ba){Ba.unobserve()},observe:function(xa,Ba){var Ya=pa.get(xa);if(Ya){var Hb=Ya.observers.get(Ba);var vb=Hb&&Hb.observer}else Ya=new Ga(xa),pa.set(xa,Ya);if(vb)return vb;vb={};Ya.value=q(xa);if(Ba){vb.callback=Ba;vb.next=null;var Xb=function(){L(vb)},xc=function(){clearTimeout(vb.next);
vb.next=setTimeout(Xb)};"undefined"!==typeof window&&(window.addEventListener("mouseup",xc),window.addEventListener("keyup",xc),window.addEventListener("mousedown",xc),window.addEventListener("keydown",xc),window.addEventListener("change",xc))}vb.patches=[];vb.object=xa;vb.unobserve=function(){L(vb);clearTimeout(vb.next);Ya.observers.delete(vb.callback);"undefined"!==typeof window&&(window.removeEventListener("mouseup",xc),window.removeEventListener("keyup",xc),window.removeEventListener("mousedown",
xc),window.removeEventListener("keydown",xc),window.removeEventListener("change",xc))};Ya.observers.set(Ba,new na(Ba,vb));return vb},generate:L,compare:function(xa,Ba,Ya){void 0===Ya&&(Ya=!1);var Hb=[];G(xa,Ba,Hb,"",Ya);return Hb}});Object.assign({},qa,Oa,{JsonPatchError:V,deepClone:q,escapePathComponent:h,unescapePathComponent:c});var cb=/("(?:[^\\"]|\\.)*")|[:,]/g,Za=function(xa,Ba){Ba=Ba||{};var Ya=JSON.stringify([1],void 0,void 0===Ba.indent?2:Ba.indent).slice(2,-3);var Hb=""===Ya?Infinity:void 0===
Ba.maxLength?80:Ba.maxLength;var vb=Ba.replacer;return function Qc(xc,Oc,ld){xc&&"function"===typeof xc.toJSON&&(xc=xc.toJSON());var Ld=JSON.stringify(xc,vb);if(void 0===Ld)return Ld;ld=Hb-Oc.length-ld;if(Ld.length<=ld){var Nd=Ld.replace(cb,function(Ve,ce){return ce||Ve+" "});if(Nd.length<=ld)return Nd}null!=vb&&(xc=JSON.parse(Ld),vb=void 0);if("object"===typeof xc&&null!==xc){var Od=Oc+Ya;var od=[];var Rd=0;if(Array.isArray(xc)){var kd="[";Nd="]";for(ld=xc.length;Rd<ld;Rd++)od.push(Qc(xc[Rd],Od,
Rd===ld-1?0:1)||"null")}else{kd="{";Nd="}";var lf=Object.keys(xc);for(ld=lf.length;Rd<ld;Rd++){var bf=lf[Rd];var ee=JSON.stringify(bf)+": ";bf=Qc(xc[bf],Od,ee.length+(Rd===ld-1?0:1));void 0!==bf&&od.push(ee+bf)}}if(0<od.length)return[kd,Ya+od.join(",\n"+Od),Nd].join("\n"+Oc)}return Ld}(xa,"",0)},Aa={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},Fa="object"===typeof g&&g.env&&g.env.NODE_DEBUG&&/\bsemver\b/i.test(g.env.NODE_DEBUG)?
(...xa)=>console.error("SEMVER",...xa):()=>{},Ra=function(xa){var Ba={exports:{}};return xa(Ba,Ba.exports),Ba.exports}(function(xa,Ba){const {MAX_SAFE_COMPONENT_LENGTH:Ya}=Aa;Ba=xa.exports={};const Hb=Ba.re=[],vb=Ba.src=[],Xb=Ba.t={};let xc=0;xa=(Oc,ld,Qc)=>{const Ld=xc++;Fa(Ld,ld);Xb[Oc]=Ld;vb[Ld]=ld;Hb[Ld]=new RegExp(ld,Qc?"g":void 0)};xa("NUMERICIDENTIFIER","0|[1-9]\\d*");xa("NUMERICIDENTIFIERLOOSE","[0-9]+");xa("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");xa("MAINVERSION",`(${vb[Xb.NUMERICIDENTIFIER]})\\.`+
`(${vb[Xb.NUMERICIDENTIFIER]})\\.`+`(${vb[Xb.NUMERICIDENTIFIER]})`);xa("MAINVERSIONLOOSE",`(${vb[Xb.NUMERICIDENTIFIERLOOSE]})\\.`+`(${vb[Xb.NUMERICIDENTIFIERLOOSE]})\\.`+`(${vb[Xb.NUMERICIDENTIFIERLOOSE]})`);xa("PRERELEASEIDENTIFIER",`(?:${vb[Xb.NUMERICIDENTIFIER]}|${vb[Xb.NONNUMERICIDENTIFIER]})`);xa("PRERELEASEIDENTIFIERLOOSE",`(?:${vb[Xb.NUMERICIDENTIFIERLOOSE]}|${vb[Xb.NONNUMERICIDENTIFIER]})`);xa("PRERELEASE",`(?:-(${vb[Xb.PRERELEASEIDENTIFIER]}(?:\\.${vb[Xb.PRERELEASEIDENTIFIER]})*))`);xa("PRERELEASELOOSE",
`(?:-?(${vb[Xb.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${vb[Xb.PRERELEASEIDENTIFIERLOOSE]})*))`);xa("BUILDIDENTIFIER","[0-9A-Za-z-]+");xa("BUILD",`(?:\\+(${vb[Xb.BUILDIDENTIFIER]}(?:\\.${vb[Xb.BUILDIDENTIFIER]})*))`);xa("FULLPLAIN",`v?${vb[Xb.MAINVERSION]}${vb[Xb.PRERELEASE]}?${vb[Xb.BUILD]}?`);xa("FULL",`^${vb[Xb.FULLPLAIN]}$`);xa("LOOSEPLAIN",`[v=\\s]*${vb[Xb.MAINVERSIONLOOSE]}${vb[Xb.PRERELEASELOOSE]}?${vb[Xb.BUILD]}?`);xa("LOOSE",`^${vb[Xb.LOOSEPLAIN]}$`);xa("GTLT","((?:\x3c|\x3e)?\x3d?)");xa("XRANGEIDENTIFIERLOOSE",
`${vb[Xb.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);xa("XRANGEIDENTIFIER",`${vb[Xb.NUMERICIDENTIFIER]}|x|X|\\*`);xa("XRANGEPLAIN",`[v=\\s]*(${vb[Xb.XRANGEIDENTIFIER]})`+`(?:\\.(${vb[Xb.XRANGEIDENTIFIER]})`+`(?:\\.(${vb[Xb.XRANGEIDENTIFIER]})`+`(?:${vb[Xb.PRERELEASE]})?${vb[Xb.BUILD]}?`+")?)?");xa("XRANGEPLAINLOOSE",`[v=\\s]*(${vb[Xb.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${vb[Xb.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${vb[Xb.XRANGEIDENTIFIERLOOSE]})`+`(?:${vb[Xb.PRERELEASELOOSE]})?${vb[Xb.BUILD]}?`+")?)?");xa("XRANGE",
`^${vb[Xb.GTLT]}\\s*${vb[Xb.XRANGEPLAIN]}$`);xa("XRANGELOOSE",`^${vb[Xb.GTLT]}\\s*${vb[Xb.XRANGEPLAINLOOSE]}$`);xa("COERCE",`${"(^|[^\\d])(\\d{1,"}${Ya}})`+`(?:\\.(\\d{1,${Ya}}))?`+`(?:\\.(\\d{1,${Ya}}))?`+"(?:$|[^\\d])");xa("COERCERTL",vb[Xb.COERCE],!0);xa("LONETILDE","(?:~\x3e?)");xa("TILDETRIM",`(\\s*)${vb[Xb.LONETILDE]}\\s+`,!0);Ba.tildeTrimReplace="$1~";xa("TILDE",`^${vb[Xb.LONETILDE]}${vb[Xb.XRANGEPLAIN]}$`);xa("TILDELOOSE",`^${vb[Xb.LONETILDE]}${vb[Xb.XRANGEPLAINLOOSE]}$`);xa("LONECARET","(?:\\^)");
xa("CARETTRIM",`(\\s*)${vb[Xb.LONECARET]}\\s+`,!0);Ba.caretTrimReplace="$1^";xa("CARET",`^${vb[Xb.LONECARET]}${vb[Xb.XRANGEPLAIN]}$`);xa("CARETLOOSE",`^${vb[Xb.LONECARET]}${vb[Xb.XRANGEPLAINLOOSE]}$`);xa("COMPARATORLOOSE",`^${vb[Xb.GTLT]}\\s*(${vb[Xb.LOOSEPLAIN]})$|^$`);xa("COMPARATOR",`^${vb[Xb.GTLT]}\\s*(${vb[Xb.FULLPLAIN]})$|^$`);xa("COMPARATORTRIM",`(\\s*)${vb[Xb.GTLT]}\\s*(${vb[Xb.LOOSEPLAIN]}|${vb[Xb.XRANGEPLAIN]})`,!0);Ba.comparatorTrimReplace="$1$2$3";xa("HYPHENRANGE",`^\\s*(${vb[Xb.XRANGEPLAIN]})`+
"\\s+-\\s+"+`(${vb[Xb.XRANGEPLAIN]})`+"\\s*$");xa("HYPHENRANGELOOSE",`^\\s*(${vb[Xb.XRANGEPLAINLOOSE]})`+"\\s+-\\s+"+`(${vb[Xb.XRANGEPLAINLOOSE]})`+"\\s*$");xa("STAR","(\x3c|\x3e)?\x3d?\\s*\\*");xa("GTE0","^\\s*\x3e\x3d\\s*0.0.0\\s*$");xa("GTE0PRE","^\\s*\x3e\x3d\\s*0.0.0-0\\s*$")});const ab=["includePrerelease","loose","rtl"];var lb=xa=>xa?"object"!==typeof xa?{loose:!0}:ab.filter(Ba=>xa[Ba]).reduce((Ba,Ya)=>{Ba[Ya]=!0;return Ba},{}):{};const Ma=/^[0-9]+$/,nb=(xa,Ba)=>{const Ya=Ma.test(xa),Hb=Ma.test(Ba);
Ya&&Hb&&(xa=+xa,Ba=+Ba);return xa===Ba?0:Ya&&!Hb?-1:Hb&&!Ya?1:xa<Ba?-1:1};var zb={compareIdentifiers:nb,rcompareIdentifiers:(xa,Ba)=>nb(Ba,xa)};const {MAX_LENGTH:Sb,MAX_SAFE_INTEGER:vc}=Aa,{re:lc,t:kc}=Ra,{compareIdentifiers:jb}=zb;class $b{constructor(xa,Ba){Ba=lb(Ba);if(xa instanceof $b){if(xa.loose===!!Ba.loose&&xa.includePrerelease===!!Ba.includePrerelease)return xa;xa=xa.version}else if("string"!==typeof xa)throw new TypeError(`Invalid Version: ${xa}`);if(xa.length>Sb)throw new TypeError(`version is longer than ${Sb} characters`);
Fa("SemVer",xa,Ba);this.options=Ba;this.loose=!!Ba.loose;this.includePrerelease=!!Ba.includePrerelease;Ba=xa.trim().match(Ba.loose?lc[kc.LOOSE]:lc[kc.FULL]);if(!Ba)throw new TypeError(`Invalid Version: ${xa}`);this.raw=xa;this.major=+Ba[1];this.minor=+Ba[2];this.patch=+Ba[3];if(this.major>vc||0>this.major)throw new TypeError("Invalid major version");if(this.minor>vc||0>this.minor)throw new TypeError("Invalid minor version");if(this.patch>vc||0>this.patch)throw new TypeError("Invalid patch version");
this.prerelease=Ba[4]?Ba[4].split(".").map(Ya=>{if(/^[0-9]+$/.test(Ya)){const Hb=+Ya;if(0<=Hb&&Hb<vc)return Hb}return Ya}):[];this.build=Ba[5]?Ba[5].split("."):[];this.format()}format(){this.version=`${this.major}.${this.minor}.${this.patch}`;this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`);return this.version}toString(){return this.version}compare(xa){Fa("SemVer.compare",this.version,this.options,xa);if(!(xa instanceof $b)){if("string"===typeof xa&&xa===this.version)return 0;
xa=new $b(xa,this.options)}return xa.version===this.version?0:this.compareMain(xa)||this.comparePre(xa)}compareMain(xa){xa instanceof $b||(xa=new $b(xa,this.options));return jb(this.major,xa.major)||jb(this.minor,xa.minor)||jb(this.patch,xa.patch)}comparePre(xa){xa instanceof $b||(xa=new $b(xa,this.options));if(this.prerelease.length&&!xa.prerelease.length)return-1;if(!this.prerelease.length&&xa.prerelease.length)return 1;if(!this.prerelease.length&&!xa.prerelease.length)return 0;let Ba=0;do{const Ya=
this.prerelease[Ba],Hb=xa.prerelease[Ba];Fa("prerelease compare",Ba,Ya,Hb);if(void 0===Ya&&void 0===Hb)return 0;if(void 0===Hb)return 1;if(void 0===Ya)return-1;if(Ya!==Hb)return jb(Ya,Hb)}while(++Ba)}compareBuild(xa){xa instanceof $b||(xa=new $b(xa,this.options));let Ba=0;do{const Ya=this.build[Ba],Hb=xa.build[Ba];Fa("prerelease compare",Ba,Ya,Hb);if(void 0===Ya&&void 0===Hb)return 0;if(void 0===Hb)return 1;if(void 0===Ya)return-1;if(Ya!==Hb)return jb(Ya,Hb)}while(++Ba)}inc(xa,Ba){switch(xa){case "premajor":this.minor=
this.patch=this.prerelease.length=0;this.major++;this.inc("pre",Ba);break;case "preminor":this.patch=this.prerelease.length=0;this.minor++;this.inc("pre",Ba);break;case "prepatch":this.prerelease.length=0;this.inc("patch",Ba);this.inc("pre",Ba);break;case "prerelease":0===this.prerelease.length&&this.inc("patch",Ba);this.inc("pre",Ba);break;case "major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++;this.patch=this.minor=0;this.prerelease=[];break;case "minor":0===this.patch&&
0!==this.prerelease.length||this.minor++;this.patch=0;this.prerelease=[];break;case "patch":0===this.prerelease.length&&this.patch++;this.prerelease=[];break;case "pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(xa=this.prerelease.length;0<=--xa;)"number"===typeof this.prerelease[xa]&&(this.prerelease[xa]++,xa=-2);-1===xa&&this.prerelease.push(0)}Ba&&(this.prerelease[0]===Ba?isNaN(this.prerelease[1])&&(this.prerelease=[Ba,0]):this.prerelease=[Ba,0]);break;default:throw Error(`invalid increment argument: ${xa}`);
}this.format();this.raw=this.version;return this}}var yc=$b;const {MAX_LENGTH:nc}=Aa,{re:zc,t:qc}=Ra;var Vc=(xa,Ba)=>{Ba=lb(Ba);if(xa instanceof yc)return xa;if("string"!==typeof xa||xa.length>nc||!(Ba.loose?zc[qc.LOOSE]:zc[qc.FULL]).test(xa))return null;try{return new yc(xa,Ba)}catch(Ya){return null}},Uc=(xa,Ba,Ya)=>(new yc(xa,Ya)).compare(new yc(Ba,Ya)),Lc=(xa,Ba,Ya)=>{xa=new yc(xa,Ya);Ba=new yc(Ba,Ya);return xa.compare(Ba)||xa.compareBuild(Ba)},Fd=(xa,Ba,Ya)=>0<Uc(xa,Ba,Ya),fe=(xa,Ba,Ya)=>0>Uc(xa,
Ba,Ya),vd=(xa,Ba,Ya)=>0<=Uc(xa,Ba,Ya),Sc=(xa,Ba,Ya)=>0>=Uc(xa,Ba,Ya),Yd=(xa,Ba,Ya,Hb)=>{switch(Ba){case "\x3d\x3d\x3d":return"object"===typeof xa&&(xa=xa.version),"object"===typeof Ya&&(Ya=Ya.version),xa===Ya;case "!\x3d\x3d":return"object"===typeof xa&&(xa=xa.version),"object"===typeof Ya&&(Ya=Ya.version),xa!==Ya;case "":case "\x3d":case "\x3d\x3d":return 0===Uc(xa,Ya,Hb);case "!\x3d":return 0!==Uc(xa,Ya,Hb);case "\x3e":return 0<Uc(xa,Ya,Hb);case "\x3e\x3d":return 0<=Uc(xa,Ya,Hb);case "\x3c":return 0>
Uc(xa,Ya,Hb);case "\x3c\x3d":return 0>=Uc(xa,Ya,Hb);default:throw new TypeError(`Invalid operator: ${Ba}`);}};const {re:Qb,t:gc}=Ra;var Ib=function(xa){xa.prototype[Symbol.iterator]=function*(){for(let Ba=this.head;Ba;Ba=Ba.next)yield Ba.value}};z.Node=J;z.create=z;z.prototype.removeNode=function(xa){if(xa.list!==this)throw Error("removing node which does not belong to this list");var Ba=xa.next,Ya=xa.prev;Ba&&(Ba.prev=Ya);Ya&&(Ya.next=Ba);xa===this.head&&(this.head=Ba);xa===this.tail&&(this.tail=
Ya);xa.list.length--;xa.next=null;xa.prev=null;xa.list=null;return Ba};z.prototype.unshiftNode=function(xa){if(xa!==this.head){xa.list&&xa.list.removeNode(xa);var Ba=this.head;xa.list=this;if(xa.next=Ba)Ba.prev=xa;this.head=xa;this.tail||(this.tail=xa);this.length++}};z.prototype.pushNode=function(xa){if(xa!==this.tail){xa.list&&xa.list.removeNode(xa);var Ba=this.tail;xa.list=this;if(xa.prev=Ba)Ba.next=xa;this.tail=xa;this.head||(this.head=xa);this.length++}};z.prototype.push=function(){for(var xa=
0,Ba=arguments.length;xa<Ba;xa++)this.tail=new J(arguments[xa],this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length};z.prototype.unshift=function(){for(var xa=0,Ba=arguments.length;xa<Ba;xa++)this.head=new J(arguments[xa],null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length};z.prototype.pop=function(){if(this.tail){var xa=this.tail.value;(this.tail=this.tail.prev)?this.tail.next=null:this.head=null;this.length--;return xa}};z.prototype.shift=
function(){if(this.head){var xa=this.head.value;(this.head=this.head.next)?this.head.prev=null:this.tail=null;this.length--;return xa}};z.prototype.forEach=function(xa,Ba){Ba=Ba||this;for(var Ya=this.head,Hb=0;null!==Ya;Hb++)xa.call(Ba,Ya.value,Hb,this),Ya=Ya.next};z.prototype.forEachReverse=function(xa,Ba){Ba=Ba||this;for(var Ya=this.tail,Hb=this.length-1;null!==Ya;Hb--)xa.call(Ba,Ya.value,Hb,this),Ya=Ya.prev};z.prototype.get=function(xa){for(var Ba=0,Ya=this.head;null!==Ya&&Ba<xa;Ba++)Ya=Ya.next;
if(Ba===xa&&null!==Ya)return Ya.value};z.prototype.getReverse=function(xa){for(var Ba=0,Ya=this.tail;null!==Ya&&Ba<xa;Ba++)Ya=Ya.prev;if(Ba===xa&&null!==Ya)return Ya.value};z.prototype.map=function(xa,Ba){Ba=Ba||this;for(var Ya=new z,Hb=this.head;null!==Hb;)Ya.push(xa.call(Ba,Hb.value,this)),Hb=Hb.next;return Ya};z.prototype.mapReverse=function(xa,Ba){Ba=Ba||this;for(var Ya=new z,Hb=this.tail;null!==Hb;)Ya.push(xa.call(Ba,Hb.value,this)),Hb=Hb.prev;return Ya};z.prototype.reduce=function(xa,Ba){var Ya=
this.head;if(1<arguments.length)var Hb=Ba;else if(this.head)Ya=this.head.next,Hb=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var vb=0;null!==Ya;vb++)Hb=xa(Hb,Ya.value,vb),Ya=Ya.next;return Hb};z.prototype.reduceReverse=function(xa,Ba){var Ya=this.tail;if(1<arguments.length)var Hb=Ba;else if(this.tail)Ya=this.tail.prev,Hb=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var vb=this.length-1;null!==Ya;vb--)Hb=xa(Hb,
Ya.value,vb),Ya=Ya.prev;return Hb};z.prototype.toArray=function(){for(var xa=Array(this.length),Ba=0,Ya=this.head;null!==Ya;Ba++)xa[Ba]=Ya.value,Ya=Ya.next;return xa};z.prototype.toArrayReverse=function(){for(var xa=Array(this.length),Ba=0,Ya=this.tail;null!==Ya;Ba++)xa[Ba]=Ya.value,Ya=Ya.prev;return xa};z.prototype.slice=function(xa,Ba){Ba=Ba||this.length;0>Ba&&(Ba+=this.length);xa=xa||0;0>xa&&(xa+=this.length);var Ya=new z;if(Ba<xa||0>Ba)return Ya;0>xa&&(xa=0);Ba>this.length&&(Ba=this.length);for(var Hb=
0,vb=this.head;null!==vb&&Hb<xa;Hb++)vb=vb.next;for(;null!==vb&&Hb<Ba;Hb++,vb=vb.next)Ya.push(vb.value);return Ya};z.prototype.sliceReverse=function(xa,Ba){Ba=Ba||this.length;0>Ba&&(Ba+=this.length);xa=xa||0;0>xa&&(xa+=this.length);var Ya=new z;if(Ba<xa||0>Ba)return Ya;0>xa&&(xa=0);Ba>this.length&&(Ba=this.length);for(var Hb=this.length,vb=this.tail;null!==vb&&Hb>Ba;Hb--)vb=vb.prev;for(;null!==vb&&Hb>xa;Hb--,vb=vb.prev)Ya.push(vb.value);return Ya};z.prototype.splice=function(xa,Ba,...Ya){xa>this.length&&
(xa=this.length-1);0>xa&&(xa=this.length+xa);for(var Hb=0,vb=this.head;null!==vb&&Hb<xa;Hb++)vb=vb.next;xa=[];for(Hb=0;vb&&Hb<Ba;Hb++)xa.push(vb.value),vb=this.removeNode(vb);null===vb&&(vb=this.tail);vb!==this.head&&vb!==this.tail&&(vb=vb.prev);for(Hb=0;Hb<Ya.length;Hb++)Ba=vb,vb=Ya[Hb],Ba=Ba===this.head?new J(vb,null,Ba,this):new J(vb,Ba,Ba.next,this),null===Ba.next&&(this.tail=Ba),null===Ba.prev&&(this.head=Ba),this.length++,vb=Ba;return xa};z.prototype.reverse=function(){for(var xa=this.head,
Ba=this.tail,Ya=xa;null!==Ya;Ya=Ya.prev){var Hb=Ya.prev;Ya.prev=Ya.next;Ya.next=Hb}this.head=Ba;this.tail=xa;return this};try{Ib(z)}catch(xa){}const Cc=Symbol("max"),Wc=Symbol("length"),Gd=Symbol("lengthCalculator"),Wd=Symbol("allowStale"),Ja=Symbol("maxAge"),eb=Symbol("dispose"),xb=Symbol("noDisposeOnSet"),Jb=Symbol("lruList"),ac=Symbol("cache"),jc=Symbol("updateAgeOnGet"),Ec=()=>1;class sc{constructor(xa){"number"===typeof xa&&(xa={max:xa});xa||(xa={});if(xa.max&&("number"!==typeof xa.max||0>xa.max))throw new TypeError("max must be a non-negative number");
this[Cc]=xa.max||Infinity;const Ba=xa.length||Ec;this[Gd]="function"!==typeof Ba?Ec:Ba;this[Wd]=xa.stale||!1;if(xa.maxAge&&"number"!==typeof xa.maxAge)throw new TypeError("maxAge must be a number");this[Ja]=xa.maxAge||0;this[eb]=xa.dispose;this[xb]=xa.noDisposeOnSet||!1;this[jc]=xa.updateAgeOnGet||!1;this.reset()}set max(xa){if("number"!==typeof xa||0>xa)throw new TypeError("max must be a non-negative number");this[Cc]=xa||Infinity;Vb(this)}get max(){return this[Cc]}set allowStale(xa){this[Wd]=!!xa}get allowStale(){return this[Wd]}set maxAge(xa){if("number"!==
typeof xa)throw new TypeError("maxAge must be a non-negative number");this[Ja]=xa;Vb(this)}get maxAge(){return this[Ja]}set lengthCalculator(xa){"function"!==typeof xa&&(xa=Ec);xa!==this[Gd]&&(this[Gd]=xa,this[Wc]=0,this[Jb].forEach(Ba=>{Ba.length=this[Gd](Ba.value,Ba.key);this[Wc]+=Ba.length}));Vb(this)}get lengthCalculator(){return this[Gd]}get length(){return this[Wc]}get itemCount(){return this[Jb].length}rforEach(xa,Ba){Ba=Ba||this;for(let Ya=this[Jb].tail;null!==Ya;){const Hb=Ya.prev;Fc(this,
xa,Ya,Ba);Ya=Hb}}forEach(xa,Ba){Ba=Ba||this;for(let Ya=this[Jb].head;null!==Ya;){const Hb=Ya.next;Fc(this,xa,Ya,Ba);Ya=Hb}}keys(){return this[Jb].toArray().map(xa=>xa.key)}values(){return this[Jb].toArray().map(xa=>xa.value)}reset(){this[eb]&&this[Jb]&&this[Jb].length&&this[Jb].forEach(xa=>this[eb](xa.key,xa.value));this[ac]=new Map;this[Jb]=new z;this[Wc]=0}dump(){return this[Jb].map(xa=>Db(this,xa)?!1:{k:xa.key,v:xa.value,e:xa.now+(xa.maxAge||0)}).toArray().filter(xa=>xa)}dumpLru(){return this[Jb]}set(xa,
Ba,Ya){if((Ya=Ya||this[Ja])&&"number"!==typeof Ya)throw new TypeError("maxAge must be a number");const Hb=Ya?Date.now():0,vb=this[Gd](Ba,xa);if(this[ac].has(xa)){if(vb>this[Cc])return mc(this,this[ac].get(xa)),!1;const Xb=this[ac].get(xa).value;if(this[eb]&&!this[xb])this[eb](xa,Xb.value);Xb.now=Hb;Xb.maxAge=Ya;Xb.value=Ba;this[Wc]+=vb-Xb.length;Xb.length=vb;this.get(xa);Vb(this);return!0}Ya=new Dc(xa,Ba,vb,Hb,Ya);if(Ya.length>this[Cc]){if(this[eb])this[eb](xa,Ba);return!1}this[Wc]+=Ya.length;this[Jb].unshift(Ya);
this[ac].set(xa,this[Jb].head);Vb(this);return!0}has(xa){if(!this[ac].has(xa))return!1;xa=this[ac].get(xa).value;return!Db(this,xa)}get(xa){return ob(this,xa,!0)}peek(xa){return ob(this,xa,!1)}pop(){const xa=this[Jb].tail;if(!xa)return null;mc(this,xa);return xa.value}del(xa){mc(this,this[ac].get(xa))}load(xa){this.reset();const Ba=Date.now();for(let Hb=xa.length-1;0<=Hb;Hb--){const vb=xa[Hb];var Ya=vb.e||0;0===Ya?this.set(vb.k,vb.v):(Ya-=Ba,0<Ya&&this.set(vb.k,vb.v,Ya))}}prune(){this[ac].forEach((xa,
Ba)=>ob(this,Ba,!1))}}const ob=(xa,Ba,Ya)=>{if(Ba=xa[ac].get(Ba)){const Hb=Ba.value;if(Db(xa,Hb)){if(mc(xa,Ba),!xa[Wd])return}else Ya&&(xa[jc]&&(Ba.value.now=Date.now()),xa[Jb].unshiftNode(Ba));return Hb.value}},Db=(xa,Ba)=>{if(!Ba||!Ba.maxAge&&!xa[Ja])return!1;const Ya=Date.now()-Ba.now;return Ba.maxAge?Ya>Ba.maxAge:xa[Ja]&&Ya>xa[Ja]},Vb=xa=>{if(xa[Wc]>xa[Cc])for(let Ba=xa[Jb].tail;xa[Wc]>xa[Cc]&&null!==Ba;){const Ya=Ba.prev;mc(xa,Ba);Ba=Ya}},mc=(xa,Ba)=>{if(Ba){const Ya=Ba.value;if(xa[eb])xa[eb](Ya.key,
Ya.value);xa[Wc]-=Ya.length;xa[ac].delete(Ya.key);xa[Jb].removeNode(Ba)}};class Dc{constructor(xa,Ba,Ya,Hb,vb){this.key=xa;this.value=Ba;this.length=Ya;this.now=Hb;this.maxAge=vb||0}}const Fc=(xa,Ba,Ya,Hb)=>{let vb=Ya.value;Db(xa,vb)&&(mc(xa,Ya),xa[Wd]||(vb=void 0));vb&&Ba.call(Hb,vb.value,vb.key,xa)};class Xc{constructor(xa,Ba){Ba=lb(Ba);if(xa instanceof Xc)return xa.loose===!!Ba.loose&&xa.includePrerelease===!!Ba.includePrerelease?xa:new Xc(xa.raw,Ba);if(xa instanceof ge)return this.raw=xa.value,
this.set=[[xa]],this.format(),this;this.options=Ba;this.loose=!!Ba.loose;this.includePrerelease=!!Ba.includePrerelease;this.raw=xa;this.set=xa.split(/\s*\|\|\s*/).map(Ya=>this.parseRange(Ya.trim())).filter(Ya=>Ya.length);if(!this.set.length)throw new TypeError(`Invalid SemVer Range: ${xa}`);if(1<this.set.length)if(xa=this.set[0],this.set=this.set.filter(Ya=>"\x3c0.0.0-0"!==Ya[0].value),0===this.set.length)this.set=[xa];else if(1<this.set.length)for(const Ya of this.set)if(1===Ya.length&&""===Ya[0].value){this.set=
[Ya];break}this.format()}format(){return this.range=this.set.map(xa=>xa.join(" ").trim()).join("||").trim()}toString(){return this.range}parseRange(xa){xa=xa.trim();const Ba=`parseRange:${Object.keys(this.options).join(",")}:${xa}`;var Ya=Ic.get(Ba);if(Ya)return Ya;Ya=this.options.loose;xa=xa.replace(Ya?fd[wc.HYPHENRANGELOOSE]:fd[wc.HYPHENRANGE],Ze(this.options.includePrerelease));Fa("hyphen replace",xa);xa=xa.replace(fd[wc.COMPARATORTRIM],$c);Fa("comparator trim",xa,fd[wc.COMPARATORTRIM]);xa=xa.replace(fd[wc.TILDETRIM],
ad);xa=xa.replace(fd[wc.CARETTRIM],nd);xa=xa.split(/\s+/).join(" ");const Hb=Ya?fd[wc.COMPARATORLOOSE]:fd[wc.COMPARATOR];xa=xa.split(" ").map(Xb=>{var xc=Xb;Xb=this.options;Fa("comp",xc,Xb);xc=ae(xc,Xb);Fa("caret",xc);xc=Xd(xc,Xb);Fa("tildes",xc);xc=me(xc,Xb);Fa("xrange",xc);Fa("replaceStars",xc,Xb);xc=xc.trim().replace(fd[wc.STAR],"");Fa("stars",xc);return xc}).join(" ").split(/\s+/).map(Xb=>{var xc=this.options;Fa("replaceGTE0",Xb,xc);return Xb.trim().replace(fd[xc.includePrerelease?wc.GTE0PRE:
wc.GTE0],"")}).filter(this.options.loose?Xb=>!!Xb.match(Hb):()=>!0).map(Xb=>new ge(Xb,this.options));xa.length;Ya=new Map;for(var vb of xa){if("\x3c0.0.0-0"===vb.value)return[vb];Ya.set(vb.value,vb)}1<Ya.size&&Ya.has("")&&Ya.delete("");vb=[...Ya.values()];Ic.set(Ba,vb);return vb}intersects(xa,Ba){if(!(xa instanceof Xc))throw new TypeError("a Range is required");return this.set.some(Ya=>Cd(Ya,Ba)&&xa.set.some(Hb=>Cd(Hb,Ba)&&Ya.every(vb=>Hb.every(Xb=>vb.intersects(Xb,Ba)))))}test(xa){if(!xa)return!1;
if("string"===typeof xa)try{xa=new yc(xa,this.options)}catch(Xb){return!1}for(let Xb=0;Xb<this.set.length;Xb++){a:{var Ba=this.set[Xb];var Ya=xa,Hb=this.options;for(var vb=0;vb<Ba.length;vb++)if(!Ba[vb].test(Ya)){Ba=!1;break a}if(Ya.prerelease.length&&!Hb.includePrerelease){for(Hb=0;Hb<Ba.length;Hb++)if(Fa(Ba[Hb].semver),Ba[Hb].semver!==ge.ANY&&0<Ba[Hb].semver.prerelease.length&&(vb=Ba[Hb].semver,vb.major===Ya.major&&vb.minor===Ya.minor&&vb.patch===Ya.patch)){Ba=!0;break a}Ba=!1}else Ba=!0}if(Ba)return!0}return!1}}
var Fb=Xc;const Ic=new sc({max:1E3}),{re:fd,t:wc,comparatorTrimReplace:$c,tildeTrimReplace:ad,caretTrimReplace:nd}=Ra,Cd=(xa,Ba)=>{let Ya=!0;xa=xa.slice();let Hb=xa.pop();for(;Ya&&xa.length;)Ya=xa.every(vb=>Hb.intersects(vb,Ba)),Hb=xa.pop();return Ya},Ed=xa=>!xa||"x"===xa.toLowerCase()||"*"===xa,Xd=(xa,Ba)=>xa.trim().split(/\s+/).map(Ya=>$d(Ya,Ba)).join(" "),$d=(xa,Ba)=>xa.replace(Ba.loose?fd[wc.TILDELOOSE]:fd[wc.TILDE],(Ya,Hb,vb,Xb,xc)=>{Fa("tilde",xa,Ya,Hb,vb,Xb,xc);Ed(Hb)?Ya="":Ed(vb)?Ya=`>=${Hb}.0.0 <${+Hb+
1}.0.0-0`:Ed(Xb)?Ya=`>=${Hb}.${vb}.0 <${Hb}.${+vb+1}.0-0`:xc?(Fa("replaceTilde pr",xc),Ya=`>=${Hb}.${vb}.${Xb}-${xc} <${Hb}.${+vb+1}.0-0`):Ya=`>=${Hb}.${vb}.${Xb} <${Hb}.${+vb+1}.0-0`;Fa("tilde return",Ya);return Ya}),ae=(xa,Ba)=>xa.trim().split(/\s+/).map(Ya=>Ce(Ya,Ba)).join(" "),Ce=(xa,Ba)=>{Fa("caret",xa,Ba);const Ya=Ba.includePrerelease?"-0":"";return xa.replace(Ba.loose?fd[wc.CARETLOOSE]:fd[wc.CARET],(Hb,vb,Xb,xc,Oc)=>{Fa("caret",xa,Hb,vb,Xb,xc,Oc);Ed(vb)?Hb="":Ed(Xb)?Hb=`>=${vb}.0.0${Ya} <${+vb+
1}.0.0-0`:Ed(xc)?Hb="0"===vb?`>=${vb}.${Xb}.0${Ya} <${vb}.${+Xb+1}.0-0`:`>=${vb}.${Xb}.0${Ya} <${+vb+1}.0.0-0`:Oc?(Fa("replaceCaret pr",Oc),Hb="0"===vb?"0"===Xb?`>=${vb}.${Xb}.${xc}-${Oc} <${vb}.${Xb}.${+xc+1}-0`:`>=${vb}.${Xb}.${xc}-${Oc} <${vb}.${+Xb+1}.0-0`:`>=${vb}.${Xb}.${xc}-${Oc} <${+vb+1}.0.0-0`):(Fa("no pr"),Hb="0"===vb?"0"===Xb?`>=${vb}.${Xb}.${xc}${Ya} <${vb}.${Xb}.${+xc+1}-0`:`>=${vb}.${Xb}.${xc}${Ya} <${vb}.${+Xb+1}.0-0`:`>=${vb}.${Xb}.${xc} <${+vb+1}.0.0-0`);Fa("caret return",Hb);return Hb})},
me=(xa,Ba)=>{Fa("replaceXRanges",xa,Ba);return xa.split(/\s+/).map(Ya=>ff(Ya,Ba)).join(" ")},ff=(xa,Ba)=>{xa=xa.trim();return xa.replace(Ba.loose?fd[wc.XRANGELOOSE]:fd[wc.XRANGE],(Ya,Hb,vb,Xb,xc,Oc)=>{Fa("xRange",xa,Ya,Hb,vb,Xb,xc,Oc);const ld=Ed(vb),Qc=ld||Ed(Xb);xc=Qc||Ed(xc);"\x3d"===Hb&&xc&&(Hb="");Oc=Ba.includePrerelease?"-0":"";ld?Ya="\x3e"===Hb||"\x3c"===Hb?"\x3c0.0.0-0":"*":Hb&&xc?(Qc&&(Xb=0),xc=0,"\x3e"===Hb?(Hb="\x3e\x3d",Qc?(vb=+vb+1,Xb=0):Xb=+Xb+1,xc=0):"\x3c\x3d"===Hb&&(Hb="\x3c",Qc?
vb=+vb+1:Xb=+Xb+1),"\x3c"===Hb&&(Oc="-0"),Ya=`${Hb+vb}.${Xb}.${xc}${Oc}`):Qc?Ya=`>=${vb}.0.0${Oc} <${+vb+1}.0.0-0`:xc&&(Ya=`>=${vb}.${Xb}.0${Oc} <${vb}.${+Xb+1}.0-0`);Fa("xRange return",Ya);return Ya})},Ze=xa=>(Ba,Ya,Hb,vb,Xb,xc,Oc,ld,Qc,Ld,Nd,Od,od)=>{Ya=Ed(Hb)?"":Ed(vb)?`>=${Hb}.0.0${xa?"-0":""}`:Ed(Xb)?`>=${Hb}.${vb}.0${xa?"-0":""}`:xc?`>=${Ya}`:`>=${Ya}${xa?"-0":""}`;ld=Ed(Qc)?"":Ed(Ld)?`<${+Qc+1}.0.0-0`:Ed(Nd)?`<${Qc}.${+Ld+1}.0-0`:Od?`<=${Qc}.${Ld}.${Nd}-${Od}`:xa?`<${Qc}.${Ld}.${+Nd+1}-0`:
`<=${ld}`;return`${Ya} ${ld}`.trim()},hf=Symbol("SemVer ANY");class Vd{static get ANY(){return hf}constructor(xa,Ba){Ba=lb(Ba);if(xa instanceof Vd){if(xa.loose===!!Ba.loose)return xa;xa=xa.value}Fa("comparator",xa,Ba);this.options=Ba;this.loose=!!Ba.loose;this.parse(xa);this.value=this.semver===hf?"":this.operator+this.semver.version;Fa("comp",this)}parse(xa){const Ba=xa.match(this.options.loose?yf[Ue.COMPARATORLOOSE]:yf[Ue.COMPARATOR]);if(!Ba)throw new TypeError(`Invalid comparator: ${xa}`);this.operator=
void 0!==Ba[1]?Ba[1]:"";"\x3d"===this.operator&&(this.operator="");this.semver=Ba[2]?new yc(Ba[2],this.options.loose):hf}toString(){return this.value}test(xa){Fa("Comparator.test",xa,this.options.loose);if(this.semver===hf||xa===hf)return!0;if("string"===typeof xa)try{xa=new yc(xa,this.options)}catch(Ba){return!1}return Yd(xa,this.operator,this.semver,this.options)}intersects(xa,Ba){if(!(xa instanceof Vd))throw new TypeError("a Comparator is required");Ba&&"object"===typeof Ba||(Ba={loose:!!Ba,includePrerelease:!1});
if(""===this.operator)return""===this.value?!0:(new Fb(xa.value,Ba)).test(this.value);if(""===xa.operator)return""===xa.value?!0:(new Fb(this.value,Ba)).test(xa.semver);const Ya=("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3e\x3d"===xa.operator||"\x3e"===xa.operator),Hb=("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3c\x3d"===xa.operator||"\x3c"===xa.operator),vb=this.semver.version===xa.semver.version,Xb=("\x3e\x3d"===this.operator||"\x3c\x3d"===this.operator)&&("\x3e\x3d"===
xa.operator||"\x3c\x3d"===xa.operator),xc=Yd(this.semver,"\x3c",xa.semver,Ba)&&("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3c\x3d"===xa.operator||"\x3c"===xa.operator);xa=Yd(this.semver,"\x3e",xa.semver,Ba)&&("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3e\x3d"===xa.operator||"\x3e"===xa.operator);return Ya||Hb||vb&&Xb||xc||xa}}var ge=Vd;const {re:yf,t:Ue}=Ra;var of=(xa,Ba,Ya)=>{try{Ba=new Fb(Ba,Ya)}catch(Hb){return!1}return Ba.test(xa)};const {ANY:le}=ge;var ye=(xa,Ba,Ya,
Hb)=>{xa=new yc(xa,Hb);Ba=new Fb(Ba,Hb);let vb,Xb,xc,Oc;switch(Ya){case "\x3e":vb=Fd;Ya=Sc;Xb=fe;xc="\x3e";Oc="\x3e\x3d";break;case "\x3c":vb=fe;Ya=vd;Xb=Fd;xc="\x3c";Oc="\x3c\x3d";break;default:throw new TypeError('Must provide a hilo val of "\x3c" or "\x3e"');}if(of(xa,Ba,Hb))return!1;for(let ld=0;ld<Ba.set.length;++ld){let Qc=null,Ld=null;Ba.set[ld].forEach(Nd=>{Nd.semver===le&&(Nd=new ge("\x3e\x3d0.0.0"));Qc=Qc||Nd;Ld=Ld||Nd;vb(Nd.semver,Qc.semver,Hb)?Qc=Nd:Xb(Nd.semver,Ld.semver,Hb)&&(Ld=Nd)});
if(Qc.operator===xc||Qc.operator===Oc||(!Ld.operator||Ld.operator===xc)&&Ya(xa,Ld.semver)||Ld.operator===Oc&&Xb(xa,Ld.semver))return!1}return!0};const {ANY:Mf}=ge,Ge=(xa,Ba,Ya)=>{if(xa===Ba)return!0;if(1===xa.length&&xa[0].semver===Mf)return 1===Ba.length&&Ba[0].semver===Mf;const Hb=new Set;let vb,Xb;for(const Qc of xa)"\x3e"===Qc.operator||"\x3e\x3d"===Qc.operator?vb=Td(vb,Qc,Ya):"\x3c"===Qc.operator||"\x3c\x3d"===Qc.operator?Xb=Zd(Xb,Qc,Ya):Hb.add(Qc.semver);if(1<Hb.size)return null;let xc;if(vb&&
Xb&&(xc=Uc(vb.semver,Xb.semver,Ya),0<xc||0===xc&&("\x3e\x3d"!==vb.operator||"\x3c\x3d"!==Xb.operator)))return null;for(const Qc of Hb){if(vb&&!of(Qc,String(vb),Ya)||Xb&&!of(Qc,String(Xb),Ya))return null;for(const Ld of Ba)if(!of(Qc,String(Ld),Ya))return!1;return!0}let Oc,ld;for(const Qc of Ba){ld=ld||"\x3e"===Qc.operator||"\x3e\x3d"===Qc.operator;Oc=Oc||"\x3c"===Qc.operator||"\x3c\x3d"===Qc.operator;if(vb)if("\x3e"===Qc.operator||"\x3e\x3d"===Qc.operator){if(xa=Td(vb,Qc,Ya),xa===Qc&&xa!==vb)return!1}else if("\x3e\x3d"===
vb.operator&&!of(vb.semver,String(Qc),Ya))return!1;if(Xb)if("\x3c"===Qc.operator||"\x3c\x3d"===Qc.operator){if(xa=Zd(Xb,Qc,Ya),xa===Qc&&xa!==Xb)return!1}else if("\x3c\x3d"===Xb.operator&&!of(Xb.semver,String(Qc),Ya))return!1;if(!Qc.operator&&(Xb||vb)&&0!==xc)return!1}return vb&&Oc&&!Xb&&0!==xc||Xb&&ld&&!vb&&0!==xc?!1:!0},Td=(xa,Ba,Ya)=>{if(!xa)return Ba;Ya=Uc(xa.semver,Ba.semver,Ya);return 0<Ya?xa:0>Ya?Ba:"\x3e"===Ba.operator&&"\x3e\x3d"===xa.operator?Ba:xa},Zd=(xa,Ba,Ya)=>{if(!xa)return Ba;Ya=Uc(xa.semver,
Ba.semver,Ya);return 0>Ya?xa:0<Ya?Ba:"\x3c"===Ba.operator&&"\x3c\x3d"===xa.operator?Ba:xa};var we={re:Ra.re,src:Ra.src,tokens:Ra.t,SEMVER_SPEC_VERSION:Aa.SEMVER_SPEC_VERSION,SemVer:yc,compareIdentifiers:zb.compareIdentifiers,rcompareIdentifiers:zb.rcompareIdentifiers,parse:Vc,valid:(xa,Ba)=>(xa=Vc(xa,Ba))?xa.version:null,clean:(xa,Ba)=>(xa=Vc(xa.trim().replace(/^[=v]+/,""),Ba))?xa.version:null,inc:(xa,Ba,Ya,Hb)=>{"string"===typeof Ya&&(Hb=Ya,Ya=void 0);try{return(new yc(xa,Ya)).inc(Ba,Hb).version}catch(vb){return null}},
diff:(xa,Ba)=>{if(0===Uc(xa,Ba,void 0))return null;{xa=Vc(xa);Ba=Vc(Ba);var Ya=xa.prerelease.length||Ba.prerelease.length;const Hb=Ya?"pre":"";Ya=Ya?"prerelease":"";for(const vb in xa)if(("major"===vb||"minor"===vb||"patch"===vb)&&xa[vb]!==Ba[vb])return Hb+vb;return Ya}},major:(xa,Ba)=>(new yc(xa,Ba)).major,minor:(xa,Ba)=>(new yc(xa,Ba)).minor,patch:(xa,Ba)=>(new yc(xa,Ba)).patch,prerelease:(xa,Ba)=>(xa=Vc(xa,Ba))&&xa.prerelease.length?xa.prerelease:null,compare:Uc,rcompare:(xa,Ba,Ya)=>Uc(Ba,xa,Ya),
compareLoose:(xa,Ba)=>Uc(xa,Ba,!0),compareBuild:Lc,sort:(xa,Ba)=>xa.sort((Ya,Hb)=>Lc(Ya,Hb,Ba)),rsort:(xa,Ba)=>xa.sort((Ya,Hb)=>Lc(Hb,Ya,Ba)),gt:Fd,lt:fe,eq:(xa,Ba,Ya)=>0===Uc(xa,Ba,Ya),neq:(xa,Ba,Ya)=>0!==Uc(xa,Ba,Ya),gte:vd,lte:Sc,cmp:Yd,coerce:(xa,Ba)=>{if(xa instanceof yc)return xa;"number"===typeof xa&&(xa=String(xa));if("string"!==typeof xa)return null;Ba=Ba||{};let Ya=null;if(Ba.rtl){let Hb;for(;(Hb=Qb[gc.COERCERTL].exec(xa))&&(!Ya||Ya.index+Ya[0].length!==xa.length);)Ya&&Hb.index+Hb[0].length===
Ya.index+Ya[0].length||(Ya=Hb),Qb[gc.COERCERTL].lastIndex=Hb.index+Hb[1].length+Hb[2].length;Qb[gc.COERCERTL].lastIndex=-1}else Ya=xa.match(Qb[gc.COERCE]);return null===Ya?null:Vc(`${Ya[2]}.${Ya[3]||"0"}.${Ya[4]||"0"}`,Ba)},Comparator:ge,Range:Fb,satisfies:of,toComparators:(xa,Ba)=>(new Fb(xa,Ba)).set.map(Ya=>Ya.map(Hb=>Hb.value).join(" ").trim().split(" ")),maxSatisfying:(xa,Ba,Ya)=>{let Hb=null,vb=null,Xb=null;try{Xb=new Fb(Ba,Ya)}catch(xc){return null}xa.forEach(xc=>{!Xb.test(xc)||Hb&&-1!==vb.compare(xc)||
(Hb=xc,vb=new yc(Hb,Ya))});return Hb},minSatisfying:(xa,Ba,Ya)=>{let Hb=null,vb=null,Xb=null;try{Xb=new Fb(Ba,Ya)}catch(xc){return null}xa.forEach(xc=>{!Xb.test(xc)||Hb&&1!==vb.compare(xc)||(Hb=xc,vb=new yc(Hb,Ya))});return Hb},minVersion:(xa,Ba)=>{xa=new Fb(xa,Ba);Ba=new yc("0.0.0");if(xa.test(Ba))return Ba;Ba=new yc("0.0.0-0");if(xa.test(Ba))return Ba;Ba=null;for(let Ya=0;Ya<xa.set.length;++Ya){let Hb=null;xa.set[Ya].forEach(vb=>{const Xb=new yc(vb.semver.version);switch(vb.operator){case "\x3e":0===
Xb.prerelease.length?Xb.patch++:Xb.prerelease.push(0),Xb.raw=Xb.format();case "":case "\x3e\x3d":if(!Hb||0<Uc(Xb,Hb,void 0))Hb=Xb;break;case "\x3c":case "\x3c\x3d":break;default:throw Error(`Unexpected operation: ${vb.operator}`);}});!Hb||Ba&&!(0<Uc(Ba,Hb,void 0))||(Ba=Hb)}return Ba&&xa.test(Ba)?Ba:null},validRange:(xa,Ba)=>{try{return(new Fb(xa,Ba)).range||"*"}catch(Ya){return null}},outside:ye,gtr:(xa,Ba,Ya)=>ye(xa,Ba,"\x3e",Ya),ltr:(xa,Ba,Ya)=>ye(xa,Ba,"\x3c",Ya),intersects:(xa,Ba,Ya)=>{xa=new Fb(xa,
Ya);Ba=new Fb(Ba,Ya);return xa.intersects(Ba)},simplifyRange:(xa,Ba,Ya)=>{var Hb=[],vb=null;let Xb=null;xa=xa.sort((xc,Oc)=>Uc(xc,Oc,Ya));for(const xc of xa)of(xc,Ba,Ya)?(Xb=xc,vb||(vb=xc)):(Xb&&Hb.push([vb,Xb]),vb=Xb=null);vb&&Hb.push([vb,null]);vb=[];for(const [xc,Oc]of Hb)xc===Oc?vb.push(xc):Oc||xc!==xa[0]?Oc?xc===xa[0]?vb.push(`<=${Oc}`):vb.push(`${xc} - ${Oc}`):vb.push(`>=${xc}`):vb.push("*");Hb=vb.join(" || ");return Hb.length<("string"===typeof Ba.raw?Ba.raw:String(Ba)).length?Hb:Ba},subset:(xa,
Ba,Ya)=>{if(xa===Ba)return!0;xa=new Fb(xa,Ya);Ba=new Fb(Ba,Ya);let Hb=!1;a:for(const vb of xa.set){for(const Xb of Ba.set)if(xa=Ge(vb,Xb,Ya),Hb=Hb||null!==xa,xa)continue a;if(Hb)return!1}return!0}};const nf={"category-6":"#ec8431 #829eb1 #c89d29 #3580b1 #adc839 #ab7fb4".split(" "),"fire-7":"#fbf2c7 #f9e39c #f8d36e #f4bb6a #e68a4f #d15a40 #ab4232".split(" "),"fireandice-6":"#e68a4f #f4bb6a #f9e39c #dadfe2 #a6b7c6 #849eae".split(" "),"ice-7":"#edefee #dadfe2 #c4ccd2 #a6b7c6 #849eae #607785 #47525d".split(" ")},
Pe={"main-colors":"#1696d2 #d2d2d2 #000000 #fdbf11 #ec008b #55b748 #5c5859 #db2b27".split(" "),"shades-blue":"#CFE8F3 #A2D4EC #73BFE2 #46ABDB #1696D2 #12719E #0A4C6A #062635".split(" "),"shades-gray":"#F5F5F5 #ECECEC #E3E3E3 #DCDBDB #D2D2D2 #9D9D9D #696969 #353535".split(" "),"shades-yellow":"#FFF2CF #FCE39E #FDD870 #FCCB41 #FDBF11 #E88E2D #CA5800 #843215".split(" "),"shades-magenta":"#F5CBDF #EB99C2 #E46AA7 #E54096 #EC008B #AF1F6B #761548 #351123".split(" "),"shades-green":"#DCEDD9 #BCDEB4 #98CF90 #78C26D #55B748 #408941 #2C5C2D #1A2E19".split(" "),
"shades-black":"#D5D5D4 #ADABAC #848081 #5C5859 #332D2F #262223 #1A1717 #0E0C0D".split(" "),"shades-red":"#F8D5D4 #F1AAA9 #E9807D #E25552 #DB2B27 #A4201D #6E1614 #370B0A".split(" "),"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000",
"#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":"#1696d2 #ec008b #fdbf11 #000000 #d2d2d2 #55b748".split(" "),"six-groups-cat-2":"#1696d2 #d2d2d2 #ec008b #fdbf11 #332d2f #0a4c6a".split(" "),
"six-groups-seq":"#cfe8f3 #a2d4ec #73bfe2 #46abdb #1696d2 #12719e".split(" "),"diverging-colors":"#ca5800 #fdbf11 #fdd870 #fff2cf #cfe8f3 #73bfe2 #1696d2 #0a4c6a".split(" ")};var Qd=Object.freeze({__proto__:null,dark:{background:"#333",title:{color:"#fff",subtitleColor:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},excel:{background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},
path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},symbol:{fill:"#4572a7",strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:"#4572a7 #aa4643 #8aa453 #71598e #4598ae #d98445 #94aace #d09393 #b9cc98 #a99cbc".split(" ")}},fivethirtyeight:{arc:{fill:"#30a2da"},
area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},
rect:{fill:"#30a2da"},range:{category:"#30a2da #fc4f30 #e5ae38 #6d904f #8b8b8b #b96db8 #ff9e27 #56cc60 #52d2ca #52689e #545454 #9fe4f8".split(" "),diverging:"#cc0020 #e77866 #f6e7e1 #d6e8ed #91bfd9 #1d78b5".split(" "),heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},ggplot2:{group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},
line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:"#000000 #7F7F7F #1A1A1A #999999 #333333 #B0B0B0 #4D4D4D #C9C9C9 #666666 #DCDCDC".split(" ")}},googlecharts:{arc:{fill:"#3366CC"},area:{fill:"#3366CC"},
path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:"#4285F4 #DB4437 #F4B400 #0F9D58 #AB47BC #00ACC1 #FF7043 #9E9D24 #5C6BC0 #F06292 #00796B #C2185B".split(" "),
heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},latimes:{background:"#ffffff",title:{anchor:"start",color:"#000000",font:"Benton Gothic Bold, sans-serif",fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,
titleFontWeight:"normal"},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},range:{category:nf["category-6"],diverging:nf["fireandice-6"],heatmap:nf["fire-7"],ordinal:nf["fire-7"],ramp:nf["fire-7"]}},quartz:{background:"#f9f9f9",
arc:{fill:"#ab5787"},area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:"#ab5787 #51b2e5 #703c5c #168dd9 #d190b6 #00609f #d365ba #154866 #666666 #c4c4c4".split(" ")}},
urbaninstitute:{background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:"Lato"},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,
labelFont:"Lato",symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:"Lato",orient:"right",offset:10},view:{stroke:"transparent"},range:{category:Pe["six-groups-cat-1"],diverging:Pe["diverging-colors"],heatmap:Pe["diverging-colors"],ordinal:Pe["six-groups-seq"],ramp:Pe["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},
text:{font:"Lato",color:"#1696d2",fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},symbol:{fill:"#1696d2",size:30}},version:"2.10.0",vox:{background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},
axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:"#3e5c69 #6793a6 #182429 #0570b0 #3690c0 #74a9cf #a6bddb #e2ddf2".split(" ")}}});const Qe=xa=>function(Ba){return Ba[xa]},Yf=xa=>{const Ba=xa.length;return function(Ya){for(let Hb=0;Hb<Ba;++Hb)Ya=Ya[xa[Hb]];return Ya}};(function(xa,Ba,Ya){const Hb=ka(xa);xa=1===Hb.length?Hb[0]:xa;return R((Ya&&Ya.get||U)(Hb),[xa],Ba||xa)})("id");R(xa=>xa,[],"identity");
R(()=>0,[],"zero");R(()=>1,[],"one");R(()=>!0,[],"true");R(()=>!1,[],"false");var Jc=Array.isArray;const xe={offsetX:10,offsetY:10,id:"vg-tooltip-element",styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(xa){return String(xa).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;")},maxDepth:2};class je{constructor(xa){this.options=Object.assign(Object.assign({},xe),xa);var Ba=this.options.id;this.el=null;this.call=this.tooltipHandler.bind(this);if(!this.options.disableDefaultStyle&&
!document.getElementById(this.options.styleId)){xa=document.createElement("style");xa.setAttribute("id",this.options.styleId);if(!/^[A-Za-z]+[-:.\w]*$/.test(Ba))throw Error("Invalid HTML ID");Ba="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element img {\n    max-width: 200px;\n    max-height: 200px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n".toString().replace("vg-tooltip-element",
Ba);xa.innerHTML=Ba;Ba=document.head;0<Ba.childNodes.length?Ba.insertBefore(xa,Ba.childNodes[0]):Ba.appendChild(xa)}}tooltipHandler(xa,Ba,Ya,Hb){this.el=document.getElementById(this.options.id);this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el));(null!=document.fullscreenElement?document.fullscreenElement:document.body).appendChild(this.el);if(null==Hb||""===Hb)this.el.classList.remove("visible",
`${this.options.theme}-theme`);else{this.el.innerHTML=da(Hb,this.options.sanitize,this.options.maxDepth);this.el.classList.add("visible",`${this.options.theme}-theme`);xa=this.el.getBoundingClientRect();var vb=this.options.offsetX;Ya=this.options.offsetY;Hb=Ba.clientX+vb;Hb+xa.width>window.innerWidth&&(Hb=+Ba.clientX-vb-xa.width);vb=Ba.clientY+Ya;vb+xa.height>window.innerHeight&&(vb=+Ba.clientY-Ya-xa.height);Ba={x:Hb,y:vb};var {x:Xb,y:xc}=Ba;this.el.setAttribute("style",`top: ${xc}px; left: ${Xb}px`)}}}
String.prototype.startsWith||(String.prototype.startsWith=function(xa,Ba){return this.substr(!Ba||0>Ba?0:+Ba,xa.length)===xa});var hc,De=sa,re=Ta,gf="undefined"!==typeof window?window:void 0;void 0===re&&(null===(hc=null===gf||void 0===gf?void 0:gf.vl)||void 0===hc?0:hc.compile)&&(re=gf.vl);var Hf={"export":{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},If={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",
SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},Qf={vega:"Vega","vega-lite":"Vega-Lite"},Jf={vega:De.version,"vega-lite":re?re.version:"not available"},Ae={vega:function(xa){return xa},"vega-lite":function(xa,Ba){return re.compile(xa,{config:Ba}).spec}},Bc=function(){for(var xa=[],Ba=0;Ba<arguments.length;Ba++)xa[Ba]=arguments[Ba];if(Ba=1<xa.length){if(Ba=m.isString(xa[0]))Ba=xa[0],Ba=!(Ba.startsWith("http://")||Ba.startsWith("https://")||Ba.startsWith("//"));Ba=Ba||xa[0]instanceof HTMLElement||
3===xa.length}return Ba?va(xa[0],xa[1],xa[2]):kb(xa[0],xa[1])};Bc.vegaLite=re;Bc.vl=re;Bc.container=kb;Bc.embed=va;Bc.vega=De;Bc["default"]=va;Bc.version="6.16.0";return Bc})};
shadow$provide[67]=function(Ha,B,rb,E){(function(g,m){"object"===typeof E&&"undefined"!==typeof rb?rb.exports=m():"function"===typeof define&&define.amd?define(m):(g=g||self,g.CodeMirror=m())})(this,function(){function g(b){return new RegExp("(^|\\s)"+b+"(?:$|\\s)\\s*")}function m(b){for(var t=b.childNodes.length;0<t;--t)b.removeChild(b.firstChild);return b}function n(b,t){return m(b).appendChild(t)}function F(b,t,X,T){b=document.createElement(b);X&&(b.className=X);T&&(b.style.cssText=T);if("string"==
typeof t)b.appendChild(document.createTextNode(t));else if(t)for(X=0;X<t.length;++X)b.appendChild(t[X]);return b}function O(b,t,X,T){b=F(b,t,X,T);b.setAttribute("role","presentation");return b}function x(b,t){3==t.nodeType&&(t=t.parentNode);if(b.contains)return b.contains(t);do if(11==t.nodeType&&(t=t.host),t==b)return!0;while(t=t.parentNode)}function y(){try{var b=document.activeElement}catch(t){b=document.body||null}for(;b&&b.shadowRoot&&b.shadowRoot.activeElement;)b=b.shadowRoot.activeElement;
return b}function q(b,t){var X=b.className;g(t).test(X)||(b.className+=(X?" ":"")+t)}function l(b,t){b=b.split(" ");for(var X=0;X<b.length;X++)b[X]&&!g(b[X]).test(t)&&(t+=" "+b[X]);return t}function h(b){var t=Array.prototype.slice.call(arguments,1);return function(){return b.apply(null,t)}}function c(b,t,X){t||(t={});for(var T in b)!b.hasOwnProperty(T)||!1===X&&t.hasOwnProperty(T)||(t[T]=b[T]);return t}function e(b,t,X,T,ia){null==t&&(t=b.search(/[^\s\u00a0]/),-1==t&&(t=b.length));T=T||0;for(ia=
ia||0;;){var Ka=b.indexOf("\t",T);if(0>Ka||Ka>=t)return ia+(t-T);ia+=Ka-T;ia+=X-ia%X;T=Ka+1}}function a(b,t){for(var X=0;X<b.length;++X)if(b[X]==t)return X;return-1}function f(b,t,X){for(var T=0,ia=0;;){var Ka=b.indexOf("\t",T);-1==Ka&&(Ka=b.length);var Xa=Ka-T;if(Ka==b.length||ia+Xa>=t)return T+Math.min(Xa,t-ia);ia+=Ka-T;ia+=X-ia%X;T=Ka+1;if(ia>=t)return T}}function p(b){for(;Ci.length<=b;)Ci.push(A(Ci)+" ");return Ci[b]}function A(b){return b[b.length-1]}function C(b,t){for(var X=[],T=0;T<b.length;T++)X[T]=
t(b[T],T);return X}function D(b,t,X){for(var T=0,ia=X(t);T<b.length&&X(b[T])<=ia;)T++;b.splice(T,0,t)}function P(){}function L(b,t){Object.create?b=Object.create(b):(P.prototype=b,b=new P);t&&c(t,b);return b}function G(b){return/\w/.test(b)||""<b&&(b.toUpperCase()!=b.toLowerCase()||Fh.test(b))}function z(b,t){return t?-1<t.source.indexOf("\\w")&&G(b)?!0:t.test(b):G(b)}function J(b){for(var t in b)if(b.hasOwnProperty(t)&&b[t])return!1;return!0}function K(b){return 768<=b.charCodeAt(0)&&yi.test(b)}
function R(b,t,X){for(;(0>X?0<t:t<b.length)&&K(b.charAt(t));)t+=X;return t}function U(b,t,X){for(var T=t>X?-1:1;;){if(t==X)return t;var ia=(t+X)/2;ia=0>T?Math.ceil(ia):Math.floor(ia);if(ia==t)return b(ia)?t:X;b(ia)?X=ia:t=ia+T}}function ka(b,t,X,T){if(!b)return T(t,X,"ltr",0);for(var ia=!1,Ka=0;Ka<b.length;++Ka){var Xa=b[Ka];if(Xa.from<X&&Xa.to>t||t==X&&Xa.to==t)T(Math.max(Xa.from,t),Math.min(Xa.to,X),1==Xa.level?"rtl":"ltr",Ka),ia=!0}ia||T(t,X,"ltr")}function ba(b,t,X){var T;ii=null;for(var ia=0;ia<
b.length;++ia){var Ka=b[ia];if(Ka.from<t&&Ka.to>t)return ia;Ka.to==t&&(Ka.from!=Ka.to&&"before"==X?T=ia:ii=ia);Ka.from==t&&(Ka.from!=Ka.to&&"before"!=X?T=ia:ii=ia)}return null!=T?T:ii}function da(b,t){var X=b.order;null==X&&(X=b.order=Vi(b.text,t));return X}function ja(b,t,X){if(b.removeEventListener)b.removeEventListener(t,X,!1);else if(b.detachEvent)b.detachEvent("on"+t,X);else{var T=(b=b._handlers)&&b[t];T&&(X=a(T,X),-1<X&&(b[t]=T.slice(0,X).concat(T.slice(X+1))))}}function Z(b,t){var X=b._handlers&&
b._handlers[t]||zi;if(X.length)for(var T=Array.prototype.slice.call(arguments,2),ia=0;ia<X.length;++ia)X[ia].apply(null,T)}function Q(b,t,X){"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}});Z(b,X||t.type,b,t);return ta(t)||t.codemirrorIgnore}function r(b){var t=b._handlers&&b._handlers.cursorActivity;if(t){b=b.curOp.cursorActivityHandlers||(b.curOp.cursorActivityHandlers=[]);for(var X=0;X<t.length;++X)-1==a(b,t[X])&&b.push(t[X])}}function N(b,t){return 0<(b._handlers&&
b._handlers[t]||zi).length}function ea(b){b.prototype.on=function(t,X){Se(this,t,X)};b.prototype.off=function(t,X){ja(this,t,X)}}function aa(b){b.preventDefault?b.preventDefault():b.returnValue=!1}function va(b){b.stopPropagation?b.stopPropagation():b.cancelBubble=!0}function ta(b){return null!=b.defaultPrevented?b.defaultPrevented:0==b.returnValue}function Da(b){aa(b);va(b)}function $a(b){var t=b.which;null==t&&(b.button&1?t=1:b.button&2?t=3:b.button&4&&(t=2));Wg&&b.ctrlKey&&1==t&&(t=3);return t}
function kb(b){if(null==jh){var t=F("span","");n(b,F("span",[t,document.createTextNode("x")]));0!=b.firstChild.offsetHeight&&(jh=1>=t.offsetWidth&&2<t.offsetHeight&&!(vf&&8>Wf))}b=jh?F("span",""):F("span","",null,"display: inline-block; width: 1px; margin-right: -1px");b.setAttribute("cm-text","");return b}function sa(b,t){2<arguments.length&&(t.dependencies=Array.prototype.slice.call(arguments,2));Ai[b]=t}function Ta(b){if("string"==typeof b&&oi.hasOwnProperty(b))b=oi[b];else if(b&&"string"==
typeof b.name&&oi.hasOwnProperty(b.name)){var t=oi[b.name];"string"==typeof t&&(t={name:t});b=L(t,b);b.name=t.name}else{if("string"==typeof b&&/^[\w\-]+\/[\w\-]+\+xml$/.test(b))return Ta("application/xml");if("string"==typeof b&&/^[\w\-]+\/[\w\-]+\+json$/.test(b))return Ta("application/json")}return"string"==typeof b?{name:b}:b||{name:"null"}}function Wa(b,t){t=Ta(t);var X=Ai[t.name];if(!X)return Wa(b,"text/plain");b=X(b,t);if(xh.hasOwnProperty(t.name)){X=xh[t.name];for(var T in X)X.hasOwnProperty(T)&&
(b.hasOwnProperty(T)&&(b["_"+T]=b[T]),b[T]=X[T])}b.name=t.name;t.helperType&&(b.helperType=t.helperType);if(t.modeProps)for(var ia in t.modeProps)b[ia]=t.modeProps[ia];return b}function Ea(b,t){b=xh.hasOwnProperty(b)?xh[b]:xh[b]={};c(t,b)}function ua(b,t){if(!0===t)return t;if(b.copyState)return b.copyState(t);b={};for(var X in t){var T=t[X];T instanceof Array&&(T=T.concat([]));b[X]=T}return b}function V(b,t){for(var X;b.innerMode;){X=b.innerMode(t);if(!X||X.mode==b)break;t=X.state;b=X.mode}return X||
{mode:b,state:t}}function W(b,t,X){return b.startState?b.startState(t,X):!0}function ca(b,t){t-=b.first;if(0>t||t>=b.size)throw Error("There is no line "+(t+b.first)+" in the document.");for(;!b.lines;)for(var X=0;;++X){var T=b.children[X],ia=T.chunkSize();if(t<ia){b=T;break}t-=ia}return b.lines[t]}function fa(b,t,X){var T=[],ia=t.line;b.iter(t.line,X.line+1,function(Ka){Ka=Ka.text;ia==X.line&&(Ka=Ka.slice(0,X.ch));ia==t.line&&(Ka=Ka.slice(t.ch));T.push(Ka);++ia});return T}function qa(b,t,X){var T=
[];b.iter(t,X,function(ia){T.push(ia.text)});return T}function pa(b,t){if(t-=b.height)for(;b;b=b.parent)b.height+=t}function Ga(b){if(null==b.parent)return null;var t=b.parent;b=a(t.lines,b);for(var X=t.parent;X;t=X,X=X.parent)for(var T=0;X.children[T]!=t;++T)b+=X.children[T].chunkSize();return b+t.first}function na(b,t){var X=b.first;a:do{for(var T=0;T<b.children.length;++T){var ia=b.children[T],Ka=ia.height;if(t<Ka){b=ia;continue a}t-=Ka;X+=ia.chunkSize()}return X}while(!b.lines);for(T=0;T<b.lines.length;++T){ia=
b.lines[T].height;if(t<ia)break;t-=ia}return X+T}function Oa(b,t){return t>=b.first&&t<b.first+b.size}function cb(b,t){return String(b.lineNumberFormatter(t+b.firstLineNumber))}function Za(b,t,X){void 0===X&&(X=null);if(!(this instanceof Za))return new Za(b,t,X);this.line=b;this.ch=t;this.sticky=X}function Aa(b,t){return b.line-t.line||b.ch-t.ch}function Fa(b,t){return b.sticky==t.sticky&&0==Aa(b,t)}function Ra(b){return Za(b.line,b.ch)}function ab(b,t){return 0>Aa(b,t)?t:b}function lb(b,t){return 0>
Aa(b,t)?b:t}function Ma(b,t){if(t.line<b.first)return Za(b.first,0);var X=b.first+b.size-1;if(t.line>X)return Za(X,ca(b,X).text.length);b=ca(b,t.line).text.length;X=t.ch;t=null==X||X>b?Za(t.line,b):0>X?Za(t.line,0):t;return t}function nb(b,t){for(var X=[],T=0;T<t.length;T++)X[T]=Ma(b,t[T]);return X}function zb(b,t,X,T){var ia=[b.state.modeGen],Ka={};nc(b,t.text,b.doc.mode,X,function(ub,Lb){return ia.push(ub,Lb)},Ka,T);var Xa=X.state;T=function(ub){X.baseTokens=ia;var Lb=b.state.overlays[ub],cc=1,
Rc=0;X.state=!0;nc(b,t.text,Lb.mode,X,function(tc,Ac){for(var td=cc;Rc<tc;){var be=ia[cc];be>tc&&ia.splice(cc,1,tc,ia[cc+1],be);cc+=2;Rc=Math.min(tc,be)}if(Ac)if(Lb.opaque)ia.splice(td,cc-td,tc,"overlay "+Ac),cc=td+2;else for(;td<cc;td+=2)tc=ia[td+1],ia[td+1]=(tc?tc+" ":"")+"overlay "+Ac},Ka);X.state=Xa;X.baseTokens=null;X.baseTokenPos=1};for(var bb=0;bb<b.state.overlays.length;++bb)T(bb);return{styles:ia,classes:Ka.bgClass||Ka.textClass?Ka:null}}function Sb(b,t,X){if(!t.styles||t.styles[0]!=b.state.modeGen){var T=
vc(b,Ga(t)),ia=t.text.length>b.options.maxHighlightLength&&ua(b.doc.mode,T.state),Ka=zb(b,t,T);ia&&(T.state=ia);t.stateAfter=T.save(!ia);t.styles=Ka.styles;Ka.classes?t.styleClasses=Ka.classes:t.styleClasses&&(t.styleClasses=null);X===b.doc.highlightFrontier&&(b.doc.modeFrontier=Math.max(b.doc.modeFrontier,++b.doc.highlightFrontier))}return t.styles}function vc(b,t,X){var T=b.doc,ia=b.display;if(!T.mode.startState)return new yh(T,!0,t);var Ka=zc(b,t,X),Xa=Ka>T.first&&ca(T,Ka-1).stateAfter,bb=Xa?yh.fromSaved(T,
Xa,Ka):new yh(T,W(T.mode),Ka);T.iter(Ka,t,function(ub){lc(b,ub.text,bb);var Lb=bb.line;ub.stateAfter=Lb==t-1||0==Lb%5||Lb>=ia.viewFrom&&Lb<ia.viewTo?bb.save():null;bb.nextLine()});X&&(T.modeFrontier=bb.line);return bb}function lc(b,t,X,T){var ia=b.doc.mode;b=new tg(t,b.options.tabSize,X);b.start=b.pos=T||0;for(""==t&&kc(ia,X.state);!b.eol();)jb(ia,b,X.state),b.start=b.pos}function kc(b,t){if(b.blankLine)return b.blankLine(t);if(b.innerMode&&(b=V(b,t),b.mode.blankLine))return b.mode.blankLine(b.state)}
function jb(b,t,X,T){for(var ia=0;10>ia;ia++){T&&(T[0]=V(b,X).mode);var Ka=b.token(t,X);if(t.pos>t.start)return Ka}throw Error("Mode "+b.name+" failed to advance stream.");}function $b(b,t,X,T){var ia=b.doc,Ka=ia.mode;t=Ma(ia,t);var Xa=ca(ia,t.line);X=vc(b,t.line,X);b=new tg(Xa.text,b.options.tabSize,X);var bb;for(T&&(bb=[]);(T||b.pos<t.ch)&&!b.eol();){b.start=b.pos;var ub=jb(Ka,b,X.state);T&&bb.push(new kj(b,ub,ua(ia.mode,X.state)))}return T?bb:new kj(b,ub,X.state)}function yc(b,t){if(b)for(;;){var X=
b.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!X)break;b=b.slice(0,X.index)+b.slice(X.index+X[0].length);var T=X[1]?"bgClass":"textClass";null==t[T]?t[T]=X[2]:(new RegExp("(?:^|\\s)"+X[2]+"(?:$|\\s)")).test(t[T])||(t[T]+=" "+X[2])}return b}function nc(b,t,X,T,ia,Ka,Xa){var bb=X.flattenSpans;null==bb&&(bb=b.options.flattenSpans);var ub=0,Lb=null,cc=new tg(t,b.options.tabSize,T),Rc=b.options.addModeClass&&[null];for(""==t&&yc(kc(X,T.state),Ka);!cc.eol();){if(cc.pos>b.options.maxHighlightLength){bb=
!1;Xa&&lc(b,t,T,cc.pos);cc.pos=t.length;var tc=null}else tc=yc(jb(X,cc,T.state,Rc),Ka);if(Rc){var Ac=Rc[0].name;Ac&&(tc="m-"+(tc?Ac+" "+tc:Ac))}if(!bb||Lb!=tc){for(;ub<cc.start;)ub=Math.min(cc.start,ub+5E3),ia(ub,Lb);Lb=tc}cc.start=cc.pos}for(;ub<cc.pos;)b=Math.min(cc.pos,ub+5E3),ia(b,Lb),ub=b}function zc(b,t,X){for(var T,ia,Ka=b.doc,Xa=X?-1:t-(b.doc.mode.innerMode?1E3:100);t>Xa;--t){if(t<=Ka.first)return Ka.first;var bb=ca(Ka,t-1),ub=bb.stateAfter;if(ub&&(!X||t+(ub instanceof Bi?ub.lookAhead:0)<=
Ka.modeFrontier))return t;bb=e(bb.text,null,b.options.tabSize);if(null==ia||T>bb)ia=t-1,T=bb}return ia}function qc(b,t){b.modeFrontier=Math.min(b.modeFrontier,t);if(!(b.highlightFrontier<t-10)){for(var X=b.first,T=t-1;T>X;T--){var ia=ca(b,T).stateAfter;if(ia&&(!(ia instanceof Bi)||T+ia.lookAhead<t)){X=T+1;break}}b.highlightFrontier=Math.min(b.highlightFrontier,X)}}function Vc(b,t,X){this.marker=b;this.from=t;this.to=X}function Uc(b,t){if(b)for(var X=0;X<b.length;++X){var T=b[X];if(T.marker==t)return T}}
function Lc(b,t){if(t.full)return null;var X=Oa(b,t.from.line)&&ca(b,t.from.line).markedSpans,T=Oa(b,t.to.line)&&ca(b,t.to.line).markedSpans;if(!X&&!T)return null;b=t.from.ch;var ia=t.to.ch,Ka=0==Aa(t.from,t.to),Xa;if(X)for(var bb=0;bb<X.length;++bb){var ub=X[bb],Lb=ub.marker;if(null==ub.from||(Lb.inclusiveLeft?ub.from<=b:ub.from<b)||!(ub.from!=b||"bookmark"!=Lb.type||Ka&&ub.marker.insertLeft)){var cc=null==ub.to||(Lb.inclusiveRight?ub.to>=b:ub.to>b);(Xa||(Xa=[])).push(new Vc(Lb,ub.from,cc?null:ub.to))}}X=
Xa;var Rc;if(T)for(Xa=0;Xa<T.length;++Xa)if(bb=T[Xa],ub=bb.marker,null==bb.to||(ub.inclusiveRight?bb.to>=ia:bb.to>ia)||bb.from==ia&&"bookmark"==ub.type&&(!Ka||bb.marker.insertLeft))Lb=null==bb.from||(ub.inclusiveLeft?bb.from<=ia:bb.from<ia),(Rc||(Rc=[])).push(new Vc(ub,Lb?null:bb.from-ia,null==bb.to?null:bb.to-ia));T=1==t.text.length;ia=A(t.text).length+(T?b:0);if(X)for(Ka=0;Ka<X.length;++Ka)if(Xa=X[Ka],null==Xa.to)(bb=Uc(Rc,Xa.marker),bb)?T&&(Xa.to=null==bb.to?null:bb.to+ia):Xa.to=b;if(Rc)for(b=
0;b<Rc.length;++b)Ka=Rc[b],null!=Ka.to&&(Ka.to+=ia),null==Ka.from?Uc(X,Ka.marker)||(Ka.from=ia,T&&(X||(X=[])).push(Ka)):(Ka.from+=ia,T&&(X||(X=[])).push(Ka));X&&(X=Fd(X));Rc&&Rc!=X&&(Rc=Fd(Rc));b=[X];if(!T){t=t.text.length-2;var tc;if(0<t&&X)for(T=0;T<X.length;++T)null==X[T].to&&(tc||(tc=[])).push(new Vc(X[T].marker,null,null));for(X=0;X<t;++X)b.push(tc);b.push(Rc)}return b}function Fd(b){for(var t=0;t<b.length;++t){var X=b[t];null!=X.from&&X.from==X.to&&!1!==X.marker.clearWhenEmpty&&b.splice(t--,
1)}return b.length?b:null}function fe(b,t,X){var T=null;b.iter(t.line,X.line+1,function(cc){if(cc.markedSpans)for(var Rc=0;Rc<cc.markedSpans.length;++Rc){var tc=cc.markedSpans[Rc].marker;!tc.readOnly||T&&-1!=a(T,tc)||(T||(T=[])).push(tc)}});if(!T)return null;b=[{from:t,to:X}];for(t=0;t<T.length;++t){X=T[t];for(var ia=X.find(0),Ka=0;Ka<b.length;++Ka){var Xa=b[Ka];if(!(0>Aa(Xa.to,ia.from)||0<Aa(Xa.from,ia.to))){var bb=[Ka,1],ub=Aa(Xa.from,ia.from),Lb=Aa(Xa.to,ia.to);(0>ub||!X.inclusiveLeft&&!ub)&&bb.push({from:Xa.from,
to:ia.from});(0<Lb||!X.inclusiveRight&&!Lb)&&bb.push({from:ia.to,to:Xa.to});b.splice.apply(b,bb);Ka+=bb.length-3}}}return b}function vd(b){var t=b.markedSpans;if(t){for(var X=0;X<t.length;++X)t[X].marker.detachLine(b);b.markedSpans=null}}function Sc(b,t){if(t){for(var X=0;X<t.length;++X)t[X].marker.attachLine(b);b.markedSpans=t}}function Yd(b,t){var X=b.lines.length-t.lines.length;if(0!=X)return X;X=b.find();var T=t.find(),ia=Aa(X.from,T.from)||(b.inclusiveLeft?-1:0)-(t.inclusiveLeft?-1:0);return ia?
-ia:(X=Aa(X.to,T.to)||(b.inclusiveRight?1:0)-(t.inclusiveRight?1:0))?X:t.id-b.id}function Qb(b,t){b=zh&&b.markedSpans;if(b)for(var X,T=0;T<b.length;++T)if(X=b[T],X.marker.collapsed&&null==(t?X.from:X.to)&&(!ia||0>Yd(ia,X.marker)))var ia=X.marker;return ia}function gc(b,t,X,T,ia){b=ca(b,t);if(b=zh&&b.markedSpans)for(t=0;t<b.length;++t){var Ka=b[t];if(Ka.marker.collapsed){var Xa=Ka.marker.find(0),bb=Aa(Xa.from,X)||(Ka.marker.inclusiveLeft?-1:0)-(ia.inclusiveLeft?-1:0),ub=Aa(Xa.to,T)||(Ka.marker.inclusiveRight?
1:0)-(ia.inclusiveRight?1:0);if(!(0<=bb&&0>=ub||0>=bb&&0<=ub)&&(0>=bb&&(Ka.marker.inclusiveRight&&ia.inclusiveLeft?0<=Aa(Xa.to,X):0<Aa(Xa.to,X))||0<=bb&&(Ka.marker.inclusiveRight&&ia.inclusiveLeft?0>=Aa(Xa.from,T):0>Aa(Xa.from,T))))return!0}}}function Ib(b){for(var t;t=Qb(b,!0);)b=t.find(-1,!0).line;return b}function Cc(b,t){b=ca(b,t);var X=Ib(b);return b==X?t:Ga(X)}function Wc(b,t){if(t>b.lastLine())return t;var X=ca(b,t);if(!Gd(b,X))return t;for(;b=Qb(X,!1);)X=b.find(1,!0).line;return Ga(X)+1}function Gd(b,
t){var X=zh&&t.markedSpans;if(X)for(var T,ia=0;ia<X.length;++ia)if(T=X[ia],T.marker.collapsed&&(null==T.from||!T.marker.widgetNode&&0==T.from&&T.marker.inclusiveLeft&&Wd(b,t,T)))return!0}function Wd(b,t,X){if(null==X.to)return t=X.marker.find(1,!0),Wd(b,t.line,Uc(t.line.markedSpans,X.marker));if(X.marker.inclusiveRight&&X.to==t.text.length)return!0;for(var T,ia=0;ia<t.markedSpans.length;++ia)if(T=t.markedSpans[ia],T.marker.collapsed&&!T.marker.widgetNode&&T.from==X.to&&(null==T.to||T.to!=X.from)&&
(T.marker.inclusiveLeft||X.marker.inclusiveRight)&&Wd(b,t,T))return!0}function Ja(b){b=Ib(b);for(var t=0,X=b.parent,T=0;T<X.lines.length;++T){var ia=X.lines[T];if(ia==b)break;else t+=ia.height}for(b=X.parent;b;X=b,b=X.parent)for(T=0;T<b.children.length&&(ia=b.children[T],ia!=X);++T)t+=ia.height;return t}function eb(b){if(0==b.height)return 0;for(var t=b.text.length,X,T=b;X=Qb(T,!0);)X=X.find(0,!0),T=X.from.line,t+=X.from.ch-X.to.ch;for(T=b;X=Qb(T,!1);)b=X.find(0,!0),t-=T.text.length-b.from.ch,T=b.to.line,
t+=T.text.length-b.to.ch;return t}function xb(b){var t=b.display;b=b.doc;t.maxLine=ca(b,b.first);t.maxLineLength=eb(t.maxLine);t.maxLineChanged=!0;b.iter(function(X){var T=eb(X);T>t.maxLineLength&&(t.maxLineLength=T,t.maxLine=X)})}function Jb(b,t){if(!b||/^\s*$/.test(b))return null;t=t.addModeClass?Sj:ki;return t[b]||(t[b]=b.replace(/\S+/g,"cm-$\x26"))}function ac(b,t){var X=O("span",null,null,sg?"padding-right: .1px":null);X={pre:O("pre",[X],"CodeMirror-line"),content:X,col:0,pos:0,cm:b,trailingSpace:!1,
splitSpaces:b.getOption("lineWrapping")};t.measure={};for(var T=0;T<=(t.rest?t.rest.length:0);T++){var ia=T?t.rest[T-1]:t.line,Ka=void 0;X.pos=0;X.addToken=Ec;var Xa=b.display.measure;if(null!=ih)Xa=ih;else{var bb=n(Xa,document.createTextNode("AA")),ub=hi(bb,0,1).getBoundingClientRect();bb=hi(bb,1,2).getBoundingClientRect();m(Xa);Xa=ub&&ub.left!=ub.right?ih=3>bb.right-ub.right:!1}Xa&&(Ka=da(ia,b.doc.direction))&&(X.addToken=sc(X.addToken,Ka));X.map=[];var Lb=t!=b.display.externalMeasured&&Ga(ia);
a:{var cc=bb=ub=Xa=void 0,Rc=void 0,tc=void 0,Ac=void 0;Ka=X;Lb=Sb(b,ia,Lb);var td=ia.markedSpans,be=ia.text,Re=0;if(td)for(var ef=be.length,Ie=0,cg=1,Ff="",bg=0;;){if(bg==Ie){Rc=cc=bb=tc="";ub=Xa=null;bg=Infinity;for(var ag=[],qf=void 0,fg=0;fg<td.length;++fg){var Vf=td[fg],Sf=Vf.marker;if("bookmark"==Sf.type&&Vf.from==Ie&&Sf.widgetNode)ag.push(Sf);else if(Vf.from<=Ie&&(null==Vf.to||Vf.to>Ie||Sf.collapsed&&Vf.to==Ie&&Vf.from==Ie)){null!=Vf.to&&Vf.to!=Ie&&bg>Vf.to&&(bg=Vf.to,cc="");Sf.className&&
(Rc+=" "+Sf.className);Sf.css&&(tc=(tc?tc+";":"")+Sf.css);Sf.startStyle&&Vf.from==Ie&&(bb+=" "+Sf.startStyle);Sf.endStyle&&Vf.to==bg&&(qf||(qf=[])).push(Sf.endStyle,Vf.to);Sf.title&&((Xa||(Xa={})).title=Sf.title);if(Sf.attributes)for(var Ng in Sf.attributes)(Xa||(Xa={}))[Ng]=Sf.attributes[Ng];Sf.collapsed&&(!ub||0>Yd(ub.marker,Sf))&&(ub=Vf)}else Vf.from>Ie&&bg>Vf.from&&(bg=Vf.from)}if(qf)for(fg=0;fg<qf.length;fg+=2)qf[fg+1]==bg&&(cc+=" "+qf[fg]);if(!ub||ub.from==Ie)for(qf=0;qf<ag.length;++qf)ob(Ka,
0,ag[qf]);if(ub&&(ub.from||0)==Ie){ob(Ka,(null==ub.to?ef+1:ub.to)-Ie,ub.marker,null==ub.from);if(null==ub.to)break a;ub.to==Ie&&(ub=!1)}}if(Ie>=ef)break;for(ag=Math.min(ef,bg);;){if(Ff){qf=Ie+Ff.length;ub||(fg=qf>ag?Ff.slice(0,ag-Ie):Ff,Ka.addToken(Ka,fg,Ac?Ac+Rc:Rc,bb,Ie+fg.length==bg?cc:"",tc,Xa));if(qf>=ag){Ff=Ff.slice(ag-Ie);Ie=ag;break}Ie=qf;bb=""}Ff=be.slice(Re,Re=Lb[cg++]);Ac=Jb(Lb[cg++],Ka.cm.options)}}else for(Xa=1;Xa<Lb.length;Xa+=2)Ka.addToken(Ka,be.slice(Re,Re=Lb[Xa]),Jb(Lb[Xa+1],Ka.cm.options))}ia.styleClasses&&
(ia.styleClasses.bgClass&&(X.bgClass=l(ia.styleClasses.bgClass,X.bgClass||"")),ia.styleClasses.textClass&&(X.textClass=l(ia.styleClasses.textClass,X.textClass||"")));0==X.map.length&&X.map.push(0,0,X.content.appendChild(kb(b.display.measure)));0==T?(t.measure.map=X.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(X.map),(t.measure.caches||(t.measure.caches=[])).push({}))}sg&&(Ng=X.content.lastChild,/\bcm-tab\b/.test(Ng.className)||Ng.querySelector&&Ng.querySelector(".cm-tab"))&&
(X.content.className="cm-tab-wrap-hack");Z(b,"renderLine",b,t.line,X.pre);X.pre.className&&(X.textClass=l(X.pre.className,X.textClass||""));return X}function jc(b){var t=F("span","","cm-invalidchar");t.title="\\u"+b.charCodeAt(0).toString(16);t.setAttribute("aria-label",t.title);return t}function Ec(b,t,X,T,ia,Ka,Xa){if(t){if(b.splitSpaces){var bb=b.trailingSpace;if(1<t.length&&!/  /.test(t))bb=t;else{for(var ub="",Lb=0;Lb<t.length;Lb++){var cc=t.charAt(Lb);" "!=cc||!bb||Lb!=t.length-1&&32!=t.charCodeAt(Lb+
1)||(cc="");ub+=cc;bb=" "==cc}bb=ub}}else bb=t;ub=bb;Lb=b.cm.state.specialChars;cc=!1;if(Lb.test(t)){bb=document.createDocumentFragment();for(var Rc=0;;){Lb.lastIndex=Rc;var tc=Lb.exec(t),Ac=tc?tc.index-Rc:t.length-Rc;if(Ac){var td=document.createTextNode(ub.slice(Rc,Rc+Ac));vf&&9>Wf?bb.appendChild(F("span",[td])):bb.appendChild(td);b.map.push(b.pos,b.pos+Ac,td);b.col+=Ac;b.pos+=Ac}if(!tc)break;Rc+=Ac+1;"\t"==tc[0]?(tc=b.cm.options.tabSize,tc-=b.col%tc,Ac=bb.appendChild(F("span",p(tc),"cm-tab")),
Ac.setAttribute("role","presentation"),Ac.setAttribute("cm-text","\t"),b.col+=tc):("\r"==tc[0]||"\n"==tc[0]?(Ac=bb.appendChild(F("span","\r"==tc[0]?"":"","cm-invalidchar")),Ac.setAttribute("cm-text",tc[0])):(Ac=b.cm.options.specialCharPlaceholder(tc[0]),Ac.setAttribute("cm-text",tc[0]),vf&&9>Wf?bb.appendChild(F("span",[Ac])):bb.appendChild(Ac)),b.col+=1);b.map.push(b.pos,b.pos+1,Ac);b.pos++}}else b.col+=t.length,bb=document.createTextNode(ub),b.map.push(b.pos,b.pos+t.length,bb),vf&&9>Wf&&(cc=!0),
b.pos+=t.length;b.trailingSpace=32==ub.charCodeAt(t.length-1);if(X||T||ia||cc||Ka||Xa){t=X||"";T&&(t+=T);ia&&(t+=ia);T=F("span",[bb],t,Ka);if(Xa)for(var be in Xa)Xa.hasOwnProperty(be)&&"style"!=be&&"class"!=be&&T.setAttribute(be,Xa[be]);return b.content.appendChild(T)}b.content.appendChild(bb)}}function sc(b,t){return function(X,T,ia,Ka,Xa,bb,ub){ia=ia?ia+" cm-force-border":"cm-force-border";for(var Lb=X.pos,cc=Lb+T.length;;){for(var Rc=void 0,tc=0;tc<t.length&&!(Rc=t[tc],Rc.to>Lb&&Rc.from<=Lb);tc++);
if(Rc.to>=cc)return b(X,T,ia,Ka,Xa,bb,ub);b(X,T.slice(0,Rc.to-Lb),ia,Ka,null,bb,ub);Ka=null;T=T.slice(Rc.to-Lb);Lb=Rc.to}}}function ob(b,t,X,T){var ia=!T&&X.widgetNode;ia&&b.map.push(b.pos,b.pos+t,ia);!T&&b.cm.display.input.needsContentAttribute&&(ia||(ia=b.content.appendChild(document.createElement("span"))),ia.setAttribute("cm-marker",X.id));ia&&(b.cm.display.input.setUneditable(ia),b.content.appendChild(ia));b.pos+=t;b.trailingSpace=!1}function Db(b,t,X){for(var T=this.line=t,ia;T=Qb(T,!1);)T=
T.find(1,!0).line,(ia||(ia=[])).push(T);this.size=(this.rest=ia)?Ga(A(this.rest))-X+1:1;this.node=this.text=null;this.hidden=Gd(b,t)}function Vb(b,t,X){var T=[],ia;for(ia=t;ia<X;)t=new Db(b.doc,ca(b.doc,ia),ia),ia+=t.size,T.push(t);return T}function mc(b,t){if(b=b.ownsGroup)try{var X=b.delayedCallbacks,T=0;do{for(;T<X.length;T++)X[T].call(null);for(var ia=0;ia<b.ops.length;ia++){var Ka=b.ops[ia];if(Ka.cursorActivityHandlers)for(;Ka.cursorActivityCalled<Ka.cursorActivityHandlers.length;)Ka.cursorActivityHandlers[Ka.cursorActivityCalled++].call(null,
Ka.cm)}}while(T<X.length)}finally{Gh=null,t(b)}}function Dc(b,t){var X=b._handlers&&b._handlers[t]||zi;if(X.length){var T=Array.prototype.slice.call(arguments,2);if(Gh)var ia=Gh.delayedCallbacks;else Xf?ia=Xf:(ia=Xf=[],setTimeout(Fc,0));for(var Ka=function(bb){ia.push(function(){return X[bb].apply(null,T)})},Xa=0;Xa<X.length;++Xa)Ka(Xa)}}function Fc(){var b=Xf;Xf=null;for(var t=0;t<b.length;++t)b[t]()}function Xc(b,t,X,T){for(var ia=0;ia<t.changes.length;ia++){var Ka=t.changes[ia];if("text"==Ka){Ka=
b;var Xa=t,bb=Xa.text.className,ub=Ic(Ka,Xa);Xa.text==Xa.node&&(Xa.node=ub.pre);Xa.text.parentNode.replaceChild(ub.pre,Xa.text);Xa.text=ub.pre;ub.bgClass!=Xa.bgClass||ub.textClass!=Xa.textClass?(Xa.bgClass=ub.bgClass,Xa.textClass=ub.textClass,fd(Ka,Xa)):bb&&(Xa.text.className=bb)}else if("gutter"==Ka)wc(b,t,X,T);else if("class"==Ka)fd(b,t);else if("widget"==Ka){Ka=b;Xa=t;bb=T;Xa.alignable&&(Xa.alignable=null);ub=g("CodeMirror-linewidget");for(var Lb=Xa.node.firstChild,cc;Lb;Lb=cc)cc=Lb.nextSibling,
ub.test(Lb.className)&&Xa.node.removeChild(Lb);ad(Ka,Xa,bb)}}t.changes=null}function Fb(b){b.node==b.text&&(b.node=F("div",null,null,"position: relative"),b.text.parentNode&&b.text.parentNode.replaceChild(b.node,b.text),b.node.appendChild(b.text),vf&&8>Wf&&(b.node.style.zIndex=2));return b.node}function Ic(b,t){var X=b.display.externalMeasured;return X&&X.line==t.line?(b.display.externalMeasured=null,t.measure=X.measure,X.built):ac(b,t)}function fd(b,t){var X=t.bgClass?t.bgClass+" "+(t.line.bgClass||
""):t.line.bgClass;X&&(X+=" CodeMirror-linebackground");if(t.background)X?t.background.className=X:(t.background.parentNode.removeChild(t.background),t.background=null);else if(X){var T=Fb(t);t.background=T.insertBefore(F("div",null,X),T.firstChild);b.display.input.setUneditable(t.background)}t.line.wrapClass?Fb(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");t.text.className=(t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass)||""}function wc(b,t,X,T){t.gutter&&
(t.node.removeChild(t.gutter),t.gutter=null);t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null);if(t.line.gutterClass){var ia=Fb(t);t.gutterBackground=F("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(b.options.fixedGutter?T.fixedPos:-T.gutterTotalWidth)+"px; width: "+T.gutterTotalWidth+"px");b.display.input.setUneditable(t.gutterBackground);ia.insertBefore(t.gutterBackground,t.text)}ia=t.line.gutterMarkers;if(b.options.lineNumbers||ia){var Ka=
Fb(t),Xa=t.gutter=F("div",null,"CodeMirror-gutter-wrapper","left: "+(b.options.fixedGutter?T.fixedPos:-T.gutterTotalWidth)+"px");b.display.input.setUneditable(Xa);Ka.insertBefore(Xa,t.text);t.line.gutterClass&&(Xa.className+=" "+t.line.gutterClass);!b.options.lineNumbers||ia&&ia["CodeMirror-linenumbers"]||(t.lineNumber=Xa.appendChild(F("div",cb(b.options,X),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+T.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+b.display.lineNumInnerWidth+"px")));
if(ia)for(t=0;t<b.display.gutterSpecs.length;++t)X=b.display.gutterSpecs[t].className,(Ka=ia.hasOwnProperty(X)&&ia[X])&&Xa.appendChild(F("div",[Ka],"CodeMirror-gutter-elt","left: "+T.gutterLeft[X]+"px; width: "+T.gutterWidth[X]+"px"))}}function $c(b,t,X,T){var ia=Ic(b,t);t.text=t.node=ia.pre;ia.bgClass&&(t.bgClass=ia.bgClass);ia.textClass&&(t.textClass=ia.textClass);fd(b,t);wc(b,t,X,T);ad(b,t,T);return t.node}function ad(b,t,X){nd(b,t.line,t,X,!0);if(t.rest)for(var T=0;T<t.rest.length;T++)nd(b,t.rest[T],
t,X,!1)}function nd(b,t,X,T,ia){if(t.widgets){var Ka=Fb(X),Xa=0;for(t=t.widgets;Xa<t.length;++Xa){var bb=t[Xa],ub=F("div",[bb.node],"CodeMirror-linewidget"+(bb.className?" "+bb.className:""));bb.handleMouseEvents||ub.setAttribute("cm-ignore-events","true");var Lb=bb,cc=ub,Rc=T;if(Lb.noHScroll){(X.alignable||(X.alignable=[])).push(cc);var tc=Rc.wrapperWidth;cc.style.left=Rc.fixedPos+"px";Lb.coverGutter||(tc-=Rc.gutterTotalWidth,cc.style.paddingLeft=Rc.gutterTotalWidth+"px");cc.style.width=tc+"px"}Lb.coverGutter&&
(cc.style.zIndex=5,cc.style.position="relative",Lb.noHScroll||(cc.style.marginLeft=-Rc.gutterTotalWidth+"px"));b.display.input.setUneditable(ub);ia&&bb.above?Ka.insertBefore(ub,X.gutter||X.text):Ka.appendChild(ub);Dc(bb,"redraw")}}}function Cd(b){if(null!=b.height)return b.height;var t=b.doc.cm;if(!t)return 0;if(!x(document.body,b.node)){var X="position: relative;";b.coverGutter&&(X+="margin-left: -"+t.display.gutters.offsetWidth+"px;");b.noHScroll&&(X+="width: "+t.display.wrapper.clientWidth+"px;");
n(t.display.measure,F("div",[b.node],null,X))}return b.height=b.node.parentNode.offsetHeight}function Ed(b,t){for(t=t.target||t.srcElement;t!=b.wrapper;t=t.parentNode)if(!t||1==t.nodeType&&"true"==t.getAttribute("cm-ignore-events")||t.parentNode==b.sizer&&t!=b.mover)return!0}function Xd(b){return b.mover.offsetHeight-b.lineSpace.offsetHeight}function $d(b){if(b.cachedPaddingH)return b.cachedPaddingH;var t=n(b.measure,F("pre","x","CodeMirror-line-like"));t=window.getComputedStyle?window.getComputedStyle(t):
t.currentStyle;t={left:parseInt(t.paddingLeft),right:parseInt(t.paddingRight)};isNaN(t.left)||isNaN(t.right)||(b.cachedPaddingH=t);return t}function ae(b){return 50-b.display.nativeBarWidth}function Ce(b){return b.display.scroller.clientWidth-ae(b)-b.display.barWidth}function me(b){return b.display.scroller.clientHeight-ae(b)-b.display.barHeight}function ff(b,t,X){if(b.line==t)return{map:b.measure.map,cache:b.measure.cache};for(var T=0;T<b.rest.length;T++)if(b.rest[T]==t)return{map:b.measure.maps[T],
cache:b.measure.caches[T]};for(t=0;t<b.rest.length;t++)if(Ga(b.rest[t])>X)return{map:b.measure.maps[t],cache:b.measure.caches[t],before:!0}}function Ze(b,t){if(t>=b.display.viewFrom&&t<b.display.viewTo)return b.display.view[Ae(b,t)];if((b=b.display.externalMeasured)&&t>=b.lineN&&t<b.lineN+b.size)return b}function hf(b,t){var X=Ga(t),T=Ze(b,X);T&&!T.text?T=null:T&&T.changes&&(Xc(b,T,X,gf(b)),b.curOp.forceUpdate=!0);if(!T){var ia=Ib(t);T=Ga(ia);ia=b.display.externalMeasured=new Db(b.doc,ia,T);ia.lineN=
T;T=ia.built=ac(b,ia);ia.text=T.pre;n(b.display.lineMeasure,T.pre);T=ia}b=ff(T,t,X);return{line:t,view:T,rect:null,map:b.map,cache:b.cache,before:b.before,hasHeights:!1}}function Vd(b,t,X,T,ia){t.before&&(X=-1);var Ka=X+(T||"");if(t.cache.hasOwnProperty(Ka))b=t.cache[Ka];else{t.rect||(t.rect=t.view.text.getBoundingClientRect());if(!t.hasHeights){var Xa=t.view,bb=t.rect,ub=b.options.lineWrapping,Lb=ub&&Ce(b);if(!Xa.measure.heights||ub&&Xa.measure.width!=Lb){var cc=Xa.measure.heights=[];if(ub)for(Xa.measure.width=
Lb,Xa=Xa.text.firstChild.getClientRects(),ub=0;ub<Xa.length-1;ub++){Lb=Xa[ub];var Rc=Xa[ub+1];2<Math.abs(Lb.bottom-Rc.bottom)&&cc.push((Lb.bottom+Rc.top)/2-bb.top)}cc.push(bb.bottom-bb.top)}t.hasHeights=!0}cc=T;Xa=ge(t.map,X,cc);T=Xa.node;bb=Xa.start;ub=Xa.end;X=Xa.collapse;if(3==T.nodeType){for(var tc=0;4>tc;tc++){for(;bb&&K(t.line.text.charAt(Xa.coverStart+bb));)--bb;for(;Xa.coverStart+ub<Xa.coverEnd&&K(t.line.text.charAt(Xa.coverStart+ub));)++ub;if(vf&&9>Wf&&0==bb&&ub==Xa.coverEnd-Xa.coverStart)var Ac=
T.parentNode.getBoundingClientRect();else{Ac=hi(T,bb,ub).getClientRects();ub=Xh;if("left"==cc)for(Lb=0;Lb<Ac.length&&(ub=Ac[Lb]).left==ub.right;Lb++);else for(Lb=Ac.length-1;0<=Lb&&(ub=Ac[Lb]).left==ub.right;Lb--);Ac=ub}if(Ac.left||Ac.right||0==bb)break;ub=bb;--bb;X="right"}vf&&11>Wf&&((tc=!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI)||(null!=ji?tc=ji:(cc=n(b.display.measure,F("span","x")),tc=cc.getBoundingClientRect(),cc=hi(cc,0,1).getBoundingClientRect(),tc=ji=
1<Math.abs(tc.left-cc.left)),tc=!tc),tc||(tc=screen.logicalXDPI/screen.deviceXDPI,cc=screen.logicalYDPI/screen.deviceYDPI,Ac={left:Ac.left*tc,right:Ac.right*tc,top:Ac.top*cc,bottom:Ac.bottom*cc}))}else 0<bb&&(X=cc="right"),Ac=b.options.lineWrapping&&1<(tc=T.getClientRects()).length?tc["right"==cc?tc.length-1:0]:T.getBoundingClientRect();!(vf&&9>Wf)||bb||Ac&&(Ac.left||Ac.right)||(Ac=(Ac=T.parentNode.getClientRects()[0])?{left:Ac.left,right:Ac.left+re(b.display),top:Ac.top,bottom:Ac.bottom}:Xh);T=Ac.top-
t.rect.top;bb=Ac.bottom-t.rect.top;tc=(T+bb)/2;cc=t.view.measure.heights;for(Xa=0;Xa<cc.length-1&&!(tc<cc[Xa]);Xa++);X={left:("right"==X?Ac.right:Ac.left)-t.rect.left,right:("left"==X?Ac.left:Ac.right)-t.rect.left,top:Xa?cc[Xa-1]:0,bottom:cc[Xa]};Ac.left||Ac.right||(X.bogus=!0);b.options.singleCursorHeightPerLine||(X.rtop=T,X.rbottom=bb);b=X;b.bogus||(t.cache[Ka]=b)}return{left:b.left,right:b.right,top:ia?b.rtop:b.top,bottom:ia?b.rbottom:b.bottom}}function ge(b,t,X){for(var T,ia,Ka,Xa,bb,ub,Lb=0;Lb<
b.length;Lb+=3){bb=b[Lb];ub=b[Lb+1];if(t<bb)ia=0,Ka=1,Xa="left";else if(t<ub)ia=t-bb,Ka=ia+1;else if(Lb==b.length-3||t==ub&&b[Lb+3]>t)Ka=ub-bb,ia=Ka-1,t>=ub&&(Xa="right");if(null!=ia){T=b[Lb+2];bb==ub&&X==(T.insertLeft?"left":"right")&&(Xa=X);if("left"==X&&0==ia)for(;Lb&&b[Lb-2]==b[Lb-3]&&b[Lb-1].insertLeft;)T=b[(Lb-=3)+2],Xa="left";if("right"==X&&ia==ub-bb)for(;Lb<b.length-3&&b[Lb+3]==b[Lb+4]&&!b[Lb+5].insertLeft;)T=b[(Lb+=3)+2],Xa="right";break}}return{node:T,start:ia,end:Ka,collapse:Xa,coverStart:bb,
coverEnd:ub}}function yf(b){if(b.measure&&(b.measure.cache={},b.measure.heights=null,b.rest))for(var t=0;t<b.rest.length;t++)b.measure.caches[t]={}}function Ue(b){b.display.externalMeasure=null;m(b.display.lineMeasure);for(var t=0;t<b.display.view.length;t++)yf(b.display.view[t])}function of(b){Ue(b);b.display.cachedCharWidth=b.display.cachedTextHeight=b.display.cachedPaddingH=null;b.options.lineWrapping||(b.display.maxLineChanged=!0);b.display.lineNumChars=null}function le(){return xi&&yg?-(document.body.getBoundingClientRect().left-
parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function ye(){return xi&&yg?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Mf(b){var t=0;if(b.widgets)for(var X=0;X<b.widgets.length;++X)b.widgets[X].above&&(t+=Cd(b.widgets[X]));return t}function Ge(b,t,X,T,ia){ia||(ia=Mf(t),X.top+=ia,X.bottom+=
ia);if("line"==T)return X;T||(T="local");t=Ja(t);t="local"==T?t+b.display.lineSpace.offsetTop:t-b.display.viewOffset;if("page"==T||"window"==T)b=b.display.lineSpace.getBoundingClientRect(),t+=b.top+("window"==T?0:ye()),T=b.left+("window"==T?0:le()),X.left+=T,X.right+=T;X.top+=t;X.bottom+=t;return X}function Td(b,t,X){if("div"==X)return t;var T=t.left;t=t.top;"page"==X?(T-=le(),t-=ye()):"local"!=X&&X||(X=b.display.sizer.getBoundingClientRect(),T+=X.left,t+=X.top);b=b.display.lineSpace.getBoundingClientRect();
return{left:T-b.left,top:t-b.top}}function Zd(b,t,X,T,ia){T||(T=ca(b.doc,t.line));var Ka=T;t=t.ch;T=Vd(b,hf(b,T),t,ia);return Ge(b,Ka,T,X)}function we(b,t,X,T,ia,Ka){function Xa(tc,Ac){tc=Vd(b,ia,tc,Ac?"right":"left",Ka);Ac?tc.left=tc.right:tc.right=tc.left;return Ge(b,T,tc,X)}function bb(tc,Ac,td){return Xa(td?tc-1:tc,1==ub[Ac].level!=td)}T=T||ca(b.doc,t.line);ia||(ia=hf(b,T));var ub=da(T,b.doc.direction),Lb=t.ch;t=t.sticky;Lb>=T.text.length?(Lb=T.text.length,t="before"):0>=Lb&&(Lb=0,t="after");
if(!ub)return Xa("before"==t?Lb-1:Lb,"before"==t);var cc=ba(ub,Lb,t),Rc=ii;cc=bb(Lb,cc,"before"==t);null!=Rc&&(cc.other=bb(Lb,Rc,"before"!=t));return cc}function nf(b,t){var X=0;t=Ma(b.doc,t);b.options.lineWrapping||(X=re(b.display)*t.ch);t=ca(b.doc,t.line);b=Ja(t)+b.display.lineSpace.offsetTop;return{left:X,right:X,top:b,bottom:b+t.height}}function Pe(b,t,X,T,ia){b=Za(b,t,X);b.xRel=ia;T&&(b.outside=T);return b}function Qd(b,t,X){var T=b.doc;X+=b.display.viewOffset;if(0>X)return Pe(T.first,0,null,
-1,-1);var ia=na(T,X),Ka=T.first+T.size-1;if(ia>Ka)return Pe(T.first+T.size-1,ca(T,Ka).text.length,null,1,1);0>t&&(t=0);for(var Xa=ca(T,ia);;){Ka=xe(b,Xa,ia,t,X);var bb=void 0;var ub=Ka.ch+(0<Ka.xRel||0<Ka.outside?1:0);if(Xa=zh&&Xa.markedSpans)for(var Lb=0;Lb<Xa.length;++Lb){var cc=Xa[Lb];cc.marker.collapsed&&(null==cc.from||cc.from<ub)&&(null==cc.to||cc.to>ub)&&(!bb||0>Yd(bb,cc.marker))&&(bb=cc.marker)}if(!bb)return Ka;Ka=bb.find(1);if(Ka.line==ia)return Ka;Xa=ca(T,ia=Ka.line)}}function Qe(b,t,X,
T){T-=Mf(t);t=t.text.length;var ia=U(function(Ka){return Vd(b,X,Ka-1).bottom<=T},t,0);t=U(function(Ka){return Vd(b,X,Ka).top>T},ia,t);return{begin:ia,end:t}}function Yf(b,t,X,T){X||(X=hf(b,t));T=Ge(b,t,Vd(b,X,T),"line").top;return Qe(b,t,X,T)}function Jc(b,t,X,T){return b.bottom<=X?!1:b.top>X?!0:(T?b.left:b.right)>t}function xe(b,t,X,T,ia){ia-=Ja(t);var Ka=hf(b,t),Xa=Mf(t),bb=0,ub=t.text.length,Lb=!0,cc=da(t,b.doc.direction);cc&&(cc=(b.options.lineWrapping?hc:je)(b,t,X,Ka,cc,T,ia),bb=(Lb=1!=cc.level)?
cc.from:cc.to-1,ub=Lb?cc.to:cc.from-1);var Rc=null,tc=null;cc=U(function(td){var be=Vd(b,Ka,td);be.top+=Xa;be.bottom+=Xa;if(!Jc(be,T,ia,!1))return!1;be.top<=ia&&be.left<=T&&(Rc=td,tc=be);return!0},bb,ub);var Ac=!1;tc?(bb=T-tc.left<tc.right-T,Lb=bb==Lb,cc=Rc+(Lb?0:1),Lb=Lb?"after":"before",bb=bb?tc.left:tc.right):(Lb||cc!=ub&&cc!=bb||cc++,Lb=0==cc?"after":cc==t.text.length?"before":Vd(b,Ka,cc-(Lb?1:0)).bottom+Xa<=ia==Lb?"after":"before",Ac=we(b,Za(X,cc,Lb),"line",t,Ka),bb=Ac.left,Ac=ia<Ac.top?-1:ia>=
Ac.bottom?1:0);cc=R(t.text,cc,1);return Pe(X,cc,Lb,Ac,T-bb)}function je(b,t,X,T,ia,Ka,Xa){var bb=U(function(cc){cc=ia[cc];var Rc=1!=cc.level;return Jc(we(b,Za(X,Rc?cc.to:cc.from,Rc?"before":"after"),"line",t,T),Ka,Xa,!0)},0,ia.length-1),ub=ia[bb];if(0<bb){var Lb=1!=ub.level;Lb=we(b,Za(X,Lb?ub.from:ub.to,Lb?"after":"before"),"line",t,T);Jc(Lb,Ka,Xa,!0)&&Lb.top>Xa&&(ub=ia[bb-1])}return ub}function hc(b,t,X,T,ia,Ka,Xa){Xa=Qe(b,t,T,Xa);X=Xa.begin;Xa=Xa.end;/\s/.test(t.text.charAt(Xa-1))&&Xa--;for(var bb=
t=null,ub=0;ub<ia.length;ub++){var Lb=ia[ub];if(!(Lb.from>=Xa||Lb.to<=X)){var cc=Vd(b,T,1!=Lb.level?Math.min(Xa,Lb.to)-1:Math.max(X,Lb.from)).right;cc=cc<Ka?Ka-cc+1E9:cc-Ka;if(!t||bb>cc)t=Lb,bb=cc}}t||(t=ia[ia.length-1]);t.from<X&&(t={from:X,to:t.to,level:t.level});t.to>Xa&&(t={from:t.from,to:Xa,level:t.level});return t}function De(b){if(null!=b.cachedTextHeight)return b.cachedTextHeight;if(null==mi){mi=F("pre",null,"CodeMirror-line-like");for(var t=0;49>t;++t)mi.appendChild(document.createTextNode("x")),
mi.appendChild(F("br"));mi.appendChild(document.createTextNode("x"))}n(b.measure,mi);t=mi.offsetHeight/50;3<t&&(b.cachedTextHeight=t);m(b.measure);return t||1}function re(b){if(null!=b.cachedCharWidth)return b.cachedCharWidth;var t=F("span","xxxxxxxxxx"),X=F("pre",[t],"CodeMirror-line-like");n(b.measure,X);t=t.getBoundingClientRect();t=(t.right-t.left)/10;2<t&&(b.cachedCharWidth=t);return t||10}function gf(b){for(var t=b.display,X={},T={},ia=t.gutters.clientLeft,Ka=t.gutters.firstChild,Xa=0;Ka;Ka=
Ka.nextSibling,++Xa){var bb=b.display.gutterSpecs[Xa].className;X[bb]=Ka.offsetLeft+Ka.clientLeft+ia;T[bb]=Ka.clientWidth}return{fixedPos:Hf(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:X,gutterWidth:T,wrapperWidth:t.wrapper.clientWidth}}function Hf(b){return b.scroller.getBoundingClientRect().left-b.sizer.getBoundingClientRect().left}function If(b){var t=De(b.display),X=b.options.lineWrapping,T=X&&Math.max(5,b.display.scroller.clientWidth/re(b.display)-3);return function(ia){if(Gd(b.doc,
ia))return 0;var Ka=0;if(ia.widgets)for(var Xa=0;Xa<ia.widgets.length;Xa++)ia.widgets[Xa].height&&(Ka+=ia.widgets[Xa].height);return X?Ka+(Math.ceil(ia.text.length/T)||1)*t:Ka+t}}function Qf(b){var t=b.doc,X=If(b);t.iter(function(T){var ia=X(T);ia!=T.height&&pa(T,ia)})}function Jf(b,t,X,T){var ia=b.display;if(!X&&"true"==(t.target||t.srcElement).getAttribute("cm-not-content"))return null;X=ia.lineSpace.getBoundingClientRect();try{var Ka=t.clientX-X.left;var Xa=t.clientY-X.top}catch(ub){return null}t=
Qd(b,Ka,Xa);var bb;T&&0<t.xRel&&(bb=ca(b.doc,t.line).text).length==t.ch&&(T=e(bb,bb.length,b.options.tabSize)-bb.length,t=Za(t.line,Math.max(0,Math.round((Ka-$d(b.display).left)/re(b.display))-T)));return t}function Ae(b,t){if(t>=b.display.viewTo)return null;t-=b.display.viewFrom;if(0>t)return null;b=b.display.view;for(var X=0;X<b.length;X++)if(t-=b[X].size,0>t)return X}function Bc(b,t,X,T){null==t&&(t=b.doc.first);null==X&&(X=b.doc.first+b.doc.size);T||(T=0);var ia=b.display;T&&X<ia.viewTo&&(null==
ia.updateLineNumbers||ia.updateLineNumbers>t)&&(ia.updateLineNumbers=t);b.curOp.viewChanged=!0;if(t>=ia.viewTo)zh&&Cc(b.doc,t)<ia.viewTo&&Ba(b);else if(X<=ia.viewFrom)zh&&Wc(b.doc,X+T)>ia.viewFrom?Ba(b):(ia.viewFrom+=T,ia.viewTo+=T);else if(t<=ia.viewFrom&&X>=ia.viewTo)Ba(b);else if(t<=ia.viewFrom){var Ka=Ya(b,X,X+T,1);Ka?(ia.view=ia.view.slice(Ka.index),ia.viewFrom=Ka.lineN,ia.viewTo+=T):Ba(b)}else if(X>=ia.viewTo)(Ka=Ya(b,t,t,-1))?(ia.view=ia.view.slice(0,Ka.index),ia.viewTo=Ka.lineN):Ba(b);else{Ka=
Ya(b,t,t,-1);var Xa=Ya(b,X,X+T,1);Ka&&Xa?(ia.view=ia.view.slice(0,Ka.index).concat(Vb(b,Ka.lineN,Xa.lineN)).concat(ia.view.slice(Xa.index)),ia.viewTo+=T):Ba(b)}if(b=ia.externalMeasured)X<b.lineN?b.lineN+=T:t<b.lineN+b.size&&(ia.externalMeasured=null)}function xa(b,t,X){b.curOp.viewChanged=!0;var T=b.display,ia=b.display.externalMeasured;ia&&t>=ia.lineN&&t<ia.lineN+ia.size&&(T.externalMeasured=null);t<T.viewFrom||t>=T.viewTo||(b=T.view[Ae(b,t)],null!=b.node&&(b=b.changes||(b.changes=[]),-1==a(b,X)&&
b.push(X)))}function Ba(b){b.display.viewFrom=b.display.viewTo=b.doc.first;b.display.view=[];b.display.viewOffset=0}function Ya(b,t,X,T){var ia=Ae(b,t),Ka=b.display.view;if(!zh||X==b.doc.first+b.doc.size)return{index:ia,lineN:X};for(var Xa=b.display.viewFrom,bb=0;bb<ia;bb++)Xa+=Ka[bb].size;if(Xa!=t){if(0<T){if(ia==Ka.length-1)return null;t=Xa+Ka[ia].size-t;ia++}else t=Xa-t;X+=t}for(;Cc(b.doc,X)!=X;){if(ia==(0>T?0:Ka.length-1))return null;X+=T*Ka[ia-(0>T?1:0)].size;ia+=T}return{index:ia,lineN:X}}function Hb(b){b=
b.display.view;for(var t=0,X=0;X<b.length;X++){var T=b[X];T.hidden||T.node&&!T.changes||++t}return t}function vb(b){b.display.input.showSelection(b.display.input.prepareSelection())}function Xb(b,t){void 0===t&&(t=!0);for(var X=b.doc,T={},ia=T.cursors=document.createDocumentFragment(),Ka=T.selection=document.createDocumentFragment(),Xa=0;Xa<X.sel.ranges.length;Xa++)if(t||Xa!=X.sel.primIndex){var bb=X.sel.ranges[Xa];if(!(bb.from().line>=b.display.viewTo||bb.to().line<b.display.viewFrom)){var ub=bb.empty();
(ub||b.options.showCursorWhenSelecting)&&xc(b,bb.head,ia);ub||ld(b,bb,Ka)}}return T}function xc(b,t,X){t=we(b,t,"div",null,null,!b.options.singleCursorHeightPerLine);var T=X.appendChild(F("div","","CodeMirror-cursor"));T.style.left=t.left+"px";T.style.top=t.top+"px";T.style.height=Math.max(0,t.bottom-t.top)*b.options.cursorHeight+"px";t.other&&(b=X.appendChild(F("div","","CodeMirror-cursor CodeMirror-secondarycursor")),b.style.display="",b.style.left=t.other.left+"px",b.style.top=t.other.top+"px",
b.style.height=.85*(t.other.bottom-t.other.top)+"px")}function Oc(b,t){return b.top-t.top||b.left-t.left}function ld(b,t,X){function T(Ac,td,be,Re){0>td&&(td=0);td=Math.round(td);Re=Math.round(Re);bb.appendChild(F("div",null,"CodeMirror-selected","position: absolute; left: "+Ac+"px;\n                             top: "+td+"px; width: "+(null==be?cc-Ac:be)+"px;\n                             height: "+(Re-td)+"px"))}function ia(Ac,td,be){function Re(qf,fg){return Zd(b,Za(Ac,qf),"div",Ie,fg)}function ef(qf,
fg,Vf){qf=Yf(b,Ie,null,qf);fg="ltr"==fg==("after"==Vf)?"left":"right";Vf="after"==Vf?qf.begin:qf.end-(/\s/.test(Ie.text.charAt(qf.end-1))?2:1);return Re(Vf,fg)[fg]}var Ie=ca(Xa,Ac),cg=Ie.text.length,Ff,bg,ag=da(Ie,Xa.direction);ka(ag,td||0,null==be?cg:be,function(qf,fg,Vf,Sf){var Ng="ltr"==Vf,Sg=Re(qf,Ng?"left":"right"),Vg=Re(fg-1,Ng?"right":"left"),Sh=null==td&&0==qf,bi=null==be&&fg==cg,Lj=0==Sf;Sf=!ag||Sf==ag.length-1;3>=Vg.top-Sg.top?(fg=(Rc?Sh:bi)&&Lj?Lb:(Ng?Sg:Vg).left,T(fg,Sg.top,((Rc?bi:Sh)&&
Sf?cc:(Ng?Vg:Sg).right)-fg,Sg.bottom)):(Ng?(Ng=Rc&&Sh&&Lj?Lb:Sg.left,Sh=Rc?cc:ef(qf,Vf,"before"),qf=Rc?Lb:ef(fg,Vf,"after"),bi=Rc&&bi&&Sf?cc:Vg.right):(Ng=Rc?ef(qf,Vf,"before"):Lb,Sh=!Rc&&Sh&&Lj?cc:Sg.right,qf=!Rc&&bi&&Sf?Lb:Vg.left,bi=Rc?ef(fg,Vf,"after"):cc),T(Ng,Sg.top,Sh-Ng,Sg.bottom),Sg.bottom<Vg.top&&T(Lb,Sg.bottom,null,Vg.top),T(qf,Vg.top,bi-qf,Vg.bottom));if(!Ff||0>Oc(Sg,Ff))Ff=Sg;0>Oc(Vg,Ff)&&(Ff=Vg);if(!bg||0>Oc(Sg,bg))bg=Sg;0>Oc(Vg,bg)&&(bg=Vg)});return{start:Ff,end:bg}}var Ka=b.display,
Xa=b.doc,bb=document.createDocumentFragment(),ub=$d(b.display),Lb=ub.left,cc=Math.max(Ka.sizerWidth,Ce(b)-Ka.sizer.offsetLeft)-ub.right,Rc="ltr"==Xa.direction;Ka=t.from();t=t.to();if(Ka.line==t.line)ia(Ka.line,Ka.ch,t.ch);else{var tc=ca(Xa,Ka.line);ub=ca(Xa,t.line);ub=Ib(tc)==Ib(ub);Ka=ia(Ka.line,Ka.ch,ub?tc.text.length+1:null).end;t=ia(t.line,ub?0:null,t.ch).start;ub&&(Ka.top<t.top-2?(T(Ka.right,Ka.top,null,Ka.bottom),T(Lb,t.top,t.left,t.bottom)):T(Ka.right,Ka.top,t.left-Ka.right,Ka.bottom));Ka.bottom<
t.top&&T(Lb,Ka.bottom,null,t.top)}X.appendChild(bb)}function Qc(b){if(b.state.focused){var t=b.display;clearInterval(t.blinker);var X=!0;t.cursorDiv.style.visibility="";0<b.options.cursorBlinkRate?t.blinker=setInterval(function(){b.hasFocus()||od(b);t.cursorDiv.style.visibility=(X=!X)?"":"hidden"},b.options.cursorBlinkRate):0>b.options.cursorBlinkRate&&(t.cursorDiv.style.visibility="hidden")}}function Ld(b){b.hasFocus()||(b.display.input.focus(),b.state.focused||Od(b))}function Nd(b){b.state.delayingBlurEvent=
!0;setTimeout(function(){b.state.delayingBlurEvent&&(b.state.delayingBlurEvent=!1,b.state.focused&&od(b))},100)}function Od(b,t){b.state.delayingBlurEvent&&!b.state.draggingText&&(b.state.delayingBlurEvent=!1);"nocursor"!=b.options.readOnly&&(b.state.focused||(Z(b,"focus",b,t),b.state.focused=!0,q(b.display.wrapper,"CodeMirror-focused"),b.curOp||b.display.selForContextMenu==b.doc.sel||(b.display.input.reset(),sg&&setTimeout(function(){return b.display.input.reset(!0)},20)),b.display.input.receivedFocus()),
Qc(b))}function od(b,t){b.state.delayingBlurEvent||(b.state.focused&&(Z(b,"blur",b,t),b.state.focused=!1,Df(b.display.wrapper,"CodeMirror-focused")),clearInterval(b.display.blinker),setTimeout(function(){b.state.focused||(b.display.shift=!1)},150))}function Rd(b){for(var t=b.display,X=t.lineDiv.offsetTop,T=0;T<t.view.length;T++){var ia=t.view[T],Ka=b.options.lineWrapping,Xa=0;if(!ia.hidden){if(vf&&8>Wf){Ka=ia.node.offsetTop+ia.node.offsetHeight;var bb=Ka-X;X=Ka}else{var ub=ia.node.getBoundingClientRect();
bb=ub.bottom-ub.top;!Ka&&ia.text.firstChild&&(Xa=ia.text.firstChild.getBoundingClientRect().right-ub.left-1)}Ka=ia.line.height-bb;if(.005<Ka||-.005>Ka)if(pa(ia.line,bb),kd(ia.line),ia.rest)for(bb=0;bb<ia.rest.length;bb++)kd(ia.rest[bb]);Xa>b.display.sizerWidth&&(Xa=Math.ceil(Xa/re(b.display)),Xa>b.display.maxLineLength&&(b.display.maxLineLength=Xa,b.display.maxLine=ia.line,b.display.maxLineChanged=!0))}}}function kd(b){if(b.widgets)for(var t=0;t<b.widgets.length;++t){var X=b.widgets[t],T=X.node.parentNode;
T&&(X.height=T.offsetHeight)}}function lf(b,t,X){var T=X&&null!=X.top?Math.max(0,X.top):b.scroller.scrollTop;T=Math.floor(T-b.lineSpace.offsetTop);var ia=X&&null!=X.bottom?X.bottom:T+b.wrapper.clientHeight;T=na(t,T);ia=na(t,ia);if(X&&X.ensure){var Ka=X.ensure.from.line;X=X.ensure.to.line;Ka<T?(T=Ka,ia=na(t,Ja(ca(t,Ka))+b.wrapper.clientHeight)):Math.min(X,t.lastLine())>=ia&&(T=na(t,Ja(ca(t,X))-b.wrapper.clientHeight),ia=X)}return{from:T,to:Math.max(ia,T+1)}}function bf(b,t){var X=b.display,T=De(b.display);
0>t.top&&(t.top=0);var ia=b.curOp&&null!=b.curOp.scrollTop?b.curOp.scrollTop:X.scroller.scrollTop,Ka=me(b),Xa={};t.bottom-t.top>Ka&&(t.bottom=t.top+Ka);var bb=b.doc.height+Xd(X),ub=t.top<T;T=t.bottom>bb-T;t.top<ia?Xa.scrollTop=ub?0:t.top:t.bottom>ia+Ka&&(Ka=Math.min(t.top,(T?bb:t.bottom)-Ka),Ka!=ia&&(Xa.scrollTop=Ka));ia=b.options.fixedGutter?0:X.gutters.offsetWidth;Ka=b.curOp&&null!=b.curOp.scrollLeft?b.curOp.scrollLeft:X.scroller.scrollLeft-ia;b=Ce(b)-X.gutters.offsetWidth;if(X=t.right-t.left>b)t.right=
t.left+b;10>t.left?Xa.scrollLeft=0:t.left<Ka?Xa.scrollLeft=Math.max(0,t.left+ia-(X?0:10)):t.right>b+Ka-3&&(Xa.scrollLeft=t.right+(X?0:10)-b);return Xa}function ee(b,t){null!=t&&(Xe(b),b.curOp.scrollTop=(null==b.curOp.scrollTop?b.doc.scrollTop:b.curOp.scrollTop)+t)}function Ve(b){Xe(b);var t=b.getCursor();b.curOp.scrollToPos={from:t,to:t,margin:b.options.cursorScrollMargin}}function ce(b,t,X){null==t&&null==X||Xe(b);null!=t&&(b.curOp.scrollLeft=t);null!=X&&(b.curOp.scrollTop=X)}function Xe(b){var t=
b.curOp.scrollToPos;if(t){b.curOp.scrollToPos=null;var X=nf(b,t.from),T=nf(b,t.to);zf(b,X,T,t.margin)}}function zf(b,t,X,T){t=bf(b,{left:Math.min(t.left,X.left),top:Math.min(t.top,X.top)-T,right:Math.max(t.right,X.right),bottom:Math.max(t.bottom,X.bottom)+T});ce(b,t.scrollLeft,t.scrollTop)}function tf(b,t){2>Math.abs(b.doc.scrollTop-t)||(vh||Ne(b,{top:t}),Oe(b,t,!0),vh&&Ne(b),Hd(b,100))}function Oe(b,t,X){t=Math.max(0,Math.min(b.display.scroller.scrollHeight-b.display.scroller.clientHeight,t));if(b.display.scroller.scrollTop!=
t||X)b.doc.scrollTop=t,b.display.scrollbars.setScrollTop(t),b.display.scroller.scrollTop!=t&&(b.display.scroller.scrollTop=t)}function Nf(b,t,X,T){t=Math.max(0,Math.min(t,b.display.scroller.scrollWidth-b.display.scroller.clientWidth));(X?t==b.doc.scrollLeft:2>Math.abs(b.doc.scrollLeft-t))&&!T||(b.doc.scrollLeft=t,Le(b),b.display.scroller.scrollLeft!=t&&(b.display.scroller.scrollLeft=t),b.display.scrollbars.setScrollLeft(t))}function za(b){var t=b.display,X=t.gutters.offsetWidth,T=Math.round(b.doc.height+
Xd(b.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:b.options.fixedGutter?X:0,docHeight:T,scrollHeight:T+ae(b)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:X}}function Ia(b,t){t||(t=za(b));var X=b.display.barWidth,T=b.display.barHeight;wb(b,t);for(t=0;4>t&&X!=b.display.barWidth||T!=b.display.barHeight;t++)X!=b.display.barWidth&&b.options.lineWrapping&&
Rd(b),wb(b,za(b)),X=b.display.barWidth,T=b.display.barHeight}function wb(b,t){var X=b.display,T=X.scrollbars.update(t);X.sizer.style.paddingRight=(X.barWidth=T.right)+"px";X.sizer.style.paddingBottom=(X.barHeight=T.bottom)+"px";X.heightForcer.style.borderBottom=T.bottom+"px solid transparent";T.right&&T.bottom?(X.scrollbarFiller.style.display="block",X.scrollbarFiller.style.height=T.bottom+"px",X.scrollbarFiller.style.width=T.right+"px"):X.scrollbarFiller.style.display="";T.bottom&&b.options.coverGutterNextToScrollbar&&
b.options.fixedGutter?(X.gutterFiller.style.display="block",X.gutterFiller.style.height=T.bottom+"px",X.gutterFiller.style.width=t.gutterWidth+"px"):X.gutterFiller.style.display=""}function Yb(b){b.display.scrollbars&&(b.display.scrollbars.clear(),b.display.scrollbars.addClass&&Df(b.display.wrapper,b.display.scrollbars.addClass));b.display.scrollbars=new Ck[b.options.scrollbarStyle](function(t){b.display.wrapper.insertBefore(t,b.display.scrollbarFiller);Se(t,"mousedown",function(){b.state.focused&&
setTimeout(function(){return b.display.input.focus()},0)});t.setAttribute("cm-not-content","true")},function(t,X){"horizontal"==X?Nf(b,t):tf(b,t)},b);b.display.scrollbars.addClass&&q(b.display.wrapper,b.display.scrollbars.addClass)}function Ub(b){b.curOp={cm:b,viewChanged:!1,startHeight:b.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,
id:++Wi};b=b.curOp;Gh?Gh.ops.push(b):b.ownsGroup=Gh={ops:[b],delayedCallbacks:[]}}function ic(b){(b=b.curOp)&&mc(b,function(t){for(var X=0;X<t.ops.length;X++)t.ops[X].cm.curOp=null;t=t.ops;for(X=0;X<t.length;X++){var T=t[X],ia=T.cm,Ka=ia.display,Xa=ia.display;!Xa.scrollbarsClipped&&Xa.scroller.offsetWidth&&(Xa.nativeBarWidth=Xa.scroller.offsetWidth-Xa.scroller.clientWidth,Xa.heightForcer.style.height=ae(ia)+"px",Xa.sizer.style.marginBottom=-Xa.nativeBarWidth+"px",Xa.sizer.style.borderRightWidth=ae(ia)+
"px",Xa.scrollbarsClipped=!0);T.updateMaxLine&&xb(ia);T.mustUpdate=T.viewChanged||T.forceUpdate||null!=T.scrollTop||T.scrollToPos&&(T.scrollToPos.from.line<Ka.viewFrom||T.scrollToPos.to.line>=Ka.viewTo)||Ka.maxLineChanged&&ia.options.lineWrapping;T.update=T.mustUpdate&&new rh(ia,T.mustUpdate&&{top:T.scrollTop,ensure:T.scrollToPos},T.forceUpdate)}for(X=0;X<t.length;X++)T=t[X],T.updatedDisplay=T.mustUpdate&&ie(T.cm,T.update);for(X=0;X<t.length;X++)if(T=t[X],ia=T.cm,Ka=ia.display,T.updatedDisplay&&Rd(ia),
T.barMeasure=za(ia),Ka.maxLineChanged&&!ia.options.lineWrapping&&(Xa=Ka.maxLine.text.length,Xa=Vd(ia,hf(ia,Ka.maxLine),Xa,void 0),T.adjustWidthTo=Xa.left+3,ia.display.sizerWidth=T.adjustWidthTo,T.barMeasure.scrollWidth=Math.max(Ka.scroller.clientWidth,Ka.sizer.offsetLeft+T.adjustWidthTo+ae(ia)+ia.display.barWidth),T.maxScrollLeft=Math.max(0,Ka.sizer.offsetLeft+T.adjustWidthTo-Ce(ia))),T.updatedDisplay||T.selectionChanged)T.preparedSelection=Ka.input.prepareSelection();for(X=0;X<t.length;X++)T=t[X],
ia=T.cm,null!=T.adjustWidthTo&&(ia.display.sizer.style.minWidth=T.adjustWidthTo+"px",T.maxScrollLeft<ia.doc.scrollLeft&&Nf(ia,Math.min(ia.display.scroller.scrollLeft,T.maxScrollLeft),!0),ia.display.maxLineChanged=!1),Ka=T.focus&&T.focus==y(),T.preparedSelection&&ia.display.input.showSelection(T.preparedSelection,Ka),(T.updatedDisplay||T.startHeight!=ia.doc.height)&&Ia(ia,T.barMeasure),T.updatedDisplay&&Je(ia,T.barMeasure),T.selectionChanged&&Qc(ia),ia.state.focused&&T.updateInput&&ia.display.input.reset(T.typing),
Ka&&Ld(T.cm);for(X=0;X<t.length;X++){var bb=void 0;T=t[X];ia=T.cm;Ka=ia.display;Xa=ia.doc;T.updatedDisplay&&Pd(ia,T.update);null==Ka.wheelStartX||null==T.scrollTop&&null==T.scrollLeft&&!T.scrollToPos||(Ka.wheelStartX=Ka.wheelStartY=null);null!=T.scrollTop&&Oe(ia,T.scrollTop,T.forceScroll);null!=T.scrollLeft&&Nf(ia,T.scrollLeft,!0,!0);if(T.scrollToPos){var ub=Ma(Xa,T.scrollToPos.from);var Lb=Ma(Xa,T.scrollToPos.to);var cc=T.scrollToPos.margin;null==cc&&(cc=0);ia.options.lineWrapping||ub!=Lb||(ub=ub.ch?
Za(ub.line,"before"==ub.sticky?ub.ch-1:ub.ch,"after"):ub,Lb="before"==ub.sticky?Za(ub.line,ub.ch+1,"before"):ub);for(var Rc=0;5>Rc;Rc++){var tc=!1;bb=we(ia,ub);var Ac=Lb&&Lb!=ub?we(ia,Lb):bb;bb={left:Math.min(bb.left,Ac.left),top:Math.min(bb.top,Ac.top)-cc,right:Math.max(bb.left,Ac.left),bottom:Math.max(bb.bottom,Ac.bottom)+cc};Ac=bf(ia,bb);var td=ia.doc.scrollTop,be=ia.doc.scrollLeft;null!=Ac.scrollTop&&(tf(ia,Ac.scrollTop),1<Math.abs(ia.doc.scrollTop-td)&&(tc=!0));null!=Ac.scrollLeft&&(Nf(ia,Ac.scrollLeft),
1<Math.abs(ia.doc.scrollLeft-be)&&(tc=!0));if(!tc)break}Lb=bb;Q(ia,"scrollCursorIntoView")||(cc=ia.display,Rc=cc.sizer.getBoundingClientRect(),ub=null,0>Lb.top+Rc.top?ub=!0:Lb.bottom+Rc.top>(window.innerHeight||document.documentElement.clientHeight)&&(ub=!1),null==ub||Oj||(Lb=F("div","",null,"position: absolute;\n                         top: "+(Lb.top-cc.viewOffset-ia.display.lineSpace.offsetTop)+"px;\n                         height: "+(Lb.bottom-Lb.top+ae(ia)+cc.barHeight)+"px;\n                         left: "+
Lb.left+"px; width: "+Math.max(2,Lb.right-Lb.left)+"px;"),ia.display.lineSpace.appendChild(Lb),Lb.scrollIntoView(ub),ia.display.lineSpace.removeChild(Lb)))}Lb=T.maybeHiddenMarkers;ub=T.maybeUnhiddenMarkers;if(Lb)for(cc=0;cc<Lb.length;++cc)Lb[cc].lines.length||Z(Lb[cc],"hide");if(ub)for(Lb=0;Lb<ub.length;++Lb)ub[Lb].lines.length&&Z(ub[Lb],"unhide");Ka.wrapper.offsetHeight&&(Xa.scrollTop=ia.display.scroller.scrollTop);T.changeObjs&&Z(ia,"changes",ia,T.changeObjs);T.update&&T.update.finish()}})}function oc(b,
t){if(b.curOp)return t();Ub(b);try{return t()}finally{ic(b)}}function id(b,t){return function(){if(b.curOp)return t.apply(b,arguments);Ub(b);try{return t.apply(b,arguments)}finally{ic(b)}}}function Tc(b){return function(){if(this.curOp)return b.apply(this,arguments);Ub(this);try{return b.apply(this,arguments)}finally{ic(this)}}}function gd(b){return function(){var t=this.cm;if(!t||t.curOp)return b.apply(this,arguments);Ub(t);try{return b.apply(this,arguments)}finally{ic(t)}}}function Hd(b,t){b.doc.highlightFrontier<
b.display.viewTo&&b.state.highlight.set(t,h(he,b))}function he(b){var t=b.doc;if(!(t.highlightFrontier>=b.display.viewTo)){var X=+new Date+b.options.workTime,T=vc(b,t.highlightFrontier),ia=[];t.iter(T.line,Math.min(t.first+t.size,b.display.viewTo+500),function(Ka){if(T.line>=b.display.viewFrom){var Xa=Ka.styles,bb=Ka.text.length>b.options.maxHighlightLength?ua(t.mode,T.state):null,ub=zb(b,Ka,T,!0);bb&&(T.state=bb);Ka.styles=ub.styles;bb=Ka.styleClasses;(ub=ub.classes)?Ka.styleClasses=ub:bb&&(Ka.styleClasses=
null);ub=!Xa||Xa.length!=Ka.styles.length||bb!=ub&&(!bb||!ub||bb.bgClass!=ub.bgClass||bb.textClass!=ub.textClass);for(bb=0;!ub&&bb<Xa.length;++bb)ub=Xa[bb]!=Ka.styles[bb];ub&&ia.push(T.line);Ka.stateAfter=T.save()}else Ka.text.length<=b.options.maxHighlightLength&&lc(b,Ka.text,T),Ka.stateAfter=0==T.line%5?T.save():null;T.nextLine();if(+new Date>X)return Hd(b,b.options.workDelay),!0});t.highlightFrontier=T.line;t.modeFrontier=Math.max(t.modeFrontier,T.line);ia.length&&oc(b,function(){for(var Ka=0;Ka<
ia.length;Ka++)xa(b,ia[Ka],"text")})}}function ie(b,t){var X=b.display,T=b.doc;if(t.editorIsHidden)return Ba(b),!1;if(!t.force&&t.visible.from>=X.viewFrom&&t.visible.to<=X.viewTo&&(null==X.updateLineNumbers||X.updateLineNumbers>=X.viewTo)&&X.renderedView==X.view&&0==Hb(b))return!1;Of(b)&&(Ba(b),t.dims=gf(b));var ia=T.first+T.size,Ka=Math.max(t.visible.from-b.options.viewportMargin,T.first),Xa=Math.min(ia,t.visible.to+b.options.viewportMargin);X.viewFrom<Ka&&20>Ka-X.viewFrom&&(Ka=Math.max(T.first,
X.viewFrom));X.viewTo>Xa&&20>X.viewTo-Xa&&(Xa=Math.min(ia,X.viewTo));zh&&(Ka=Cc(b.doc,Ka),Xa=Wc(b.doc,Xa));T=Ka!=X.viewFrom||Xa!=X.viewTo||X.lastWrapHeight!=t.wrapperHeight||X.lastWrapWidth!=t.wrapperWidth;ia=b.display;0==ia.view.length||Ka>=ia.viewTo||Xa<=ia.viewFrom?(ia.view=Vb(b,Ka,Xa),ia.viewFrom=Ka):(ia.viewFrom>Ka?ia.view=Vb(b,Ka,ia.viewFrom).concat(ia.view):ia.viewFrom<Ka&&(ia.view=ia.view.slice(Ae(b,Ka))),ia.viewFrom=Ka,ia.viewTo<Xa?ia.view=ia.view.concat(Vb(b,ia.viewTo,Xa)):ia.viewTo>Xa&&
(ia.view=ia.view.slice(0,Ae(b,Xa))));ia.viewTo=Xa;X.viewOffset=Ja(ca(b.doc,X.viewFrom));b.display.mover.style.top=X.viewOffset+"px";Xa=Hb(b);if(!T&&0==Xa&&!t.force&&X.renderedView==X.view&&(null==X.updateLineNumbers||X.updateLineNumbers>=X.viewTo))return!1;b.hasFocus()?Ka=null:(Ka=y())&&x(b.display.lineDiv,Ka)?(Ka={activeElt:Ka},window.getSelection&&(ia=window.getSelection(),ia.anchorNode&&ia.extend&&x(b.display.lineDiv,ia.anchorNode)&&(Ka.anchorNode=ia.anchorNode,Ka.anchorOffset=ia.anchorOffset,
Ka.focusNode=ia.focusNode,Ka.focusOffset=ia.focusOffset))):Ka=null;4<Xa&&(X.lineDiv.style.display="none");pe(b,X.updateLineNumbers,t.dims);4<Xa&&(X.lineDiv.style.display="");X.renderedView=X.view;(Xa=Ka)&&Xa.activeElt&&Xa.activeElt!=y()&&(Xa.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(Xa.activeElt.nodeName)&&Xa.anchorNode&&x(document.body,Xa.anchorNode)&&x(document.body,Xa.focusNode)&&(Ka=window.getSelection(),ia=document.createRange(),ia.setEnd(Xa.anchorNode,Xa.anchorOffset),ia.collapse(!1),Ka.removeAllRanges(),
Ka.addRange(ia),Ka.extend(Xa.focusNode,Xa.focusOffset)));m(X.cursorDiv);m(X.selectionDiv);X.gutters.style.height=X.sizer.style.minHeight=0;T&&(X.lastWrapHeight=t.wrapperHeight,X.lastWrapWidth=t.wrapperWidth,Hd(b,400));X.updateLineNumbers=null;return!0}function Pd(b,t){for(var X=t.viewport,T=!0;;T=!1){if(T&&b.options.lineWrapping&&t.oldDisplayWidth!=Ce(b))T&&(t.visible=lf(b.display,b.doc,X));else if(X&&null!=X.top&&(X={top:Math.min(b.doc.height+Xd(b.display)-me(b),X.top)}),t.visible=lf(b.display,b.doc,
X),t.visible.from>=b.display.viewFrom&&t.visible.to<=b.display.viewTo)break;if(!ie(b,t))break;Rd(b);T=za(b);vb(b);Ia(b,T);Je(b,T);t.force=!1}t.signal(b,"update",b);if(b.display.viewFrom!=b.display.reportedViewFrom||b.display.viewTo!=b.display.reportedViewTo)t.signal(b,"viewportChange",b,b.display.viewFrom,b.display.viewTo),b.display.reportedViewFrom=b.display.viewFrom,b.display.reportedViewTo=b.display.viewTo}function Ne(b,t){t=new rh(b,t);if(ie(b,t)){Rd(b);Pd(b,t);var X=za(b);vb(b);Ia(b,X);Je(b,
X);t.finish()}}function pe(b,t,X){function T(tc){var Ac=tc.nextSibling;sg&&Wg&&b.display.currentWheelTarget==tc?tc.style.display="none":tc.parentNode.removeChild(tc);return Ac}var ia=b.display,Ka=b.options.lineNumbers,Xa=ia.lineDiv,bb=Xa.firstChild,ub=ia.view;ia=ia.viewFrom;for(var Lb=0;Lb<ub.length;Lb++){var cc=ub[Lb];if(!cc.hidden)if(cc.node&&cc.node.parentNode==Xa){for(;bb!=cc.node;)bb=T(bb);bb=Ka&&null!=t&&t<=ia&&cc.lineNumber;cc.changes&&(-1<a(cc.changes,"gutter")&&(bb=!1),Xc(b,cc,ia,X));bb&&
(m(cc.lineNumber),cc.lineNumber.appendChild(document.createTextNode(cb(b.options,ia))));bb=cc.node.nextSibling}else{var Rc=$c(b,cc,ia,X);Xa.insertBefore(Rc,bb)}ia+=cc.size}for(;bb;)bb=T(bb)}function He(b){b.sizer.style.marginLeft=b.gutters.offsetWidth+"px"}function Je(b,t){b.display.sizer.style.minHeight=t.docHeight+"px";b.display.heightForcer.style.top=t.docHeight+"px";b.display.gutters.style.height=t.docHeight+b.display.barHeight+ae(b)+"px"}function Le(b){var t=b.display,X=t.view;if(t.alignWidgets||
t.gutters.firstChild&&b.options.fixedGutter){for(var T=Hf(t)-t.scroller.scrollLeft+b.doc.scrollLeft,ia=t.gutters.offsetWidth,Ka=T+"px",Xa=0;Xa<X.length;Xa++)if(!X[Xa].hidden){b.options.fixedGutter&&(X[Xa].gutter&&(X[Xa].gutter.style.left=Ka),X[Xa].gutterBackground&&(X[Xa].gutterBackground.style.left=Ka));var bb=X[Xa].alignable;if(bb)for(var ub=0;ub<bb.length;ub++)bb[ub].style.left=Ka}b.options.fixedGutter&&(t.gutters.style.left=T+ia+"px")}}function Of(b){if(!b.options.lineNumbers)return!1;var t=b.doc;
t=cb(b.options,t.first+t.size-1);var X=b.display;if(t.length!=X.lineNumChars){var T=X.measure.appendChild(F("div",[F("div",t)],"CodeMirror-linenumber CodeMirror-gutter-elt")),ia=T.firstChild.offsetWidth;T=T.offsetWidth-ia;X.lineGutter.style.width="";X.lineNumInnerWidth=Math.max(ia,X.lineGutter.offsetWidth-T)+1;X.lineNumWidth=X.lineNumInnerWidth+T;X.lineNumChars=X.lineNumInnerWidth?t.length:-1;X.lineGutter.style.width=X.lineNumWidth+"px";He(b.display);return!0}return!1}function Te(b,t){for(var X=[],
T=!1,ia=0;ia<b.length;ia++){var Ka=b[ia],Xa=null;"string"!=typeof Ka&&(Xa=Ka.style,Ka=Ka.className);if("CodeMirror-linenumbers"==Ka)if(t)T=!0;else continue;X.push({className:Ka,style:Xa})}t&&!T&&X.push({className:"CodeMirror-linenumbers",style:null});return X}function uf(b){var t=b.gutters,X=b.gutterSpecs;m(t);b.lineGutter=null;for(var T=0;T<X.length;++T){var ia=X[T],Ka=ia.className;ia=ia.style;var Xa=t.appendChild(F("div",null,"CodeMirror-gutter "+Ka));ia&&(Xa.style.cssText=ia);"CodeMirror-linenumbers"==
Ka&&(b.lineGutter=Xa,Xa.style.width=(b.lineNumWidth||1)+"px")}t.style.display=X.length?"":"none";He(b)}function Bf(b){uf(b.display);Bc(b);Le(b)}function Ag(b,t,X,T){this.input=X;this.scrollbarFiller=F("div",null,"CodeMirror-scrollbar-filler");this.scrollbarFiller.setAttribute("cm-not-content","true");this.gutterFiller=F("div",null,"CodeMirror-gutter-filler");this.gutterFiller.setAttribute("cm-not-content","true");this.lineDiv=O("div",null,"CodeMirror-code");this.selectionDiv=F("div",null,null,"position: relative; z-index: 1");
this.cursorDiv=F("div",null,"CodeMirror-cursors");this.measure=F("div",null,"CodeMirror-measure");this.lineMeasure=F("div",null,"CodeMirror-measure");this.lineSpace=O("div",[this.measure,this.lineMeasure,this.selectionDiv,this.cursorDiv,this.lineDiv],null,"position: relative; outline: none");var ia=O("div",[this.lineSpace],"CodeMirror-lines");this.mover=F("div",[ia],null,"position: relative");this.sizer=F("div",[this.mover],"CodeMirror-sizer");this.sizerWidth=null;this.heightForcer=F("div",null,null,
"position: absolute; height: 50px; width: 1px;");this.gutters=F("div",null,"CodeMirror-gutters");this.lineGutter=null;this.scroller=F("div",[this.sizer,this.heightForcer,this.gutters],"CodeMirror-scroll");this.scroller.setAttribute("tabIndex","-1");this.wrapper=F("div",[this.scrollbarFiller,this.gutterFiller,this.scroller],"CodeMirror");vf&&8>Wf&&(this.gutters.style.zIndex=-1,this.scroller.style.paddingRight=0);sg||vh&&Gg||(this.scroller.draggable=!0);b&&(b.appendChild?b.appendChild(this.wrapper):
b(this.wrapper));this.reportedViewFrom=this.reportedViewTo=this.viewFrom=this.viewTo=t.first;this.view=[];this.externalMeasured=this.renderedView=null;this.lastWrapHeight=this.lastWrapWidth=this.viewOffset=0;this.updateLineNumbers=null;this.nativeBarWidth=this.barHeight=this.barWidth=0;this.scrollbarsClipped=!1;this.lineNumWidth=this.lineNumInnerWidth=this.lineNumChars=null;this.alignWidgets=!1;this.maxLine=this.cachedCharWidth=this.cachedTextHeight=this.cachedPaddingH=null;this.maxLineLength=0;this.maxLineChanged=
!1;this.wheelDX=this.wheelDY=this.wheelStartX=this.wheelStartY=null;this.shift=!1;this.activeTouch=this.selForContextMenu=null;this.gutterSpecs=Te(T.gutters,T.lineNumbers);uf(this);X.init(this)}function Rf(b){var t=b.wheelDeltaX,X=b.wheelDeltaY;null==t&&b.detail&&b.axis==b.HORIZONTAL_AXIS&&(t=b.detail);null==X&&b.detail&&b.axis==b.VERTICAL_AXIS?X=b.detail:null==X&&(X=b.wheelDelta);return{x:t,y:X}}function jg(b){b=Rf(b);b.x*=Ig;b.y*=Ig;return b}function wa(b,t){var X=Rf(t),T=X.x;X=X.y;var ia=b.display,
Ka=ia.scroller,Xa=Ka.scrollWidth>Ka.clientWidth,bb=Ka.scrollHeight>Ka.clientHeight;if(T&&Xa||X&&bb){if(X&&Wg&&sg){Xa=t.target;var ub=ia.view;a:for(;Xa!=Ka;Xa=Xa.parentNode)for(var Lb=0;Lb<ub.length;Lb++)if(ub[Lb].node==Xa){b.display.currentWheelTarget=Xa;break a}}!T||vh||Xg||null==Ig?(X&&null!=Ig&&(t=X*Ig,bb=b.doc.scrollTop,Xa=bb+ia.wrapper.clientHeight,0>t?bb=Math.max(0,bb+t-50):Xa=Math.min(b.doc.height,Xa+t+50),Ne(b,{top:bb,bottom:Xa})),20>pi&&(null==ia.wheelStartX?(ia.wheelStartX=Ka.scrollLeft,
ia.wheelStartY=Ka.scrollTop,ia.wheelDX=T,ia.wheelDY=X,setTimeout(function(){if(null!=ia.wheelStartX){var cc=Ka.scrollLeft-ia.wheelStartX,Rc=Ka.scrollTop-ia.wheelStartY;cc=Rc&&ia.wheelDY&&Rc/ia.wheelDY||cc&&ia.wheelDX&&cc/ia.wheelDX;ia.wheelStartX=ia.wheelStartY=null;cc&&(Ig=(Ig*pi+cc)/(pi+1),++pi)}},200)):(ia.wheelDX+=T,ia.wheelDY+=X))):(X&&bb&&tf(b,Math.max(0,Ka.scrollTop+X*Ig)),Nf(b,Math.max(0,Ka.scrollLeft+T*Ig)),(!X||X&&bb)&&aa(t),ia.wheelStartX=null)}}function ya(b,t,X){b=b&&b.options.selectionsMayTouch;
X=t[X];t.sort(function(ub,Lb){return Aa(ub.from(),Lb.from())});X=a(t,X);for(var T=1;T<t.length;T++){var ia=t[T],Ka=t[T-1],Xa=Aa(Ka.to(),ia.from());if(b&&!ia.empty()?0<Xa:0<=Xa){Xa=lb(Ka.from(),ia.from());var bb=ab(Ka.to(),ia.to());ia=Ka.empty()?ia.from()==ia.head:Ka.from()==Ka.head;T<=X&&--X;t.splice(--T,2,new Pf(ia?bb:Xa,ia?Xa:bb))}}return new Mg(t,X)}function Na(b,t){return new Mg([new Pf(b,t||b)],0)}function Sa(b){return b.text?Za(b.from.line+b.text.length-1,A(b.text).length+(1==b.text.length?
b.from.ch:0)):b.to}function fb(b,t){if(0>Aa(b,t.from))return b;if(0>=Aa(b,t.to))return Sa(t);var X=b.line+t.text.length-(t.to.line-t.from.line)-1,T=b.ch;b.line==t.to.line&&(T+=Sa(t).ch-t.to.ch);return Za(X,T)}function hb(b,t){for(var X=[],T=0;T<b.sel.ranges.length;T++){var ia=b.sel.ranges[T];X.push(new Pf(fb(ia.anchor,t),fb(ia.head,t)))}return ya(b.cm,X,b.sel.primIndex)}function sb(b,t,X){return b.line==t.line?Za(X.line,b.ch-t.ch+X.ch):Za(X.line+(b.line-t.line),b.ch)}function Gb(b){b.doc.mode=Wa(b.options,
b.doc.modeOption);Bb(b)}function Bb(b){b.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null);t.styles&&(t.styles=null)});b.doc.modeFrontier=b.doc.highlightFrontier=b.doc.first;Hd(b,100);b.state.modeGen++;b.curOp&&Bc(b)}function Nb(b,t){return 0==t.from.ch&&0==t.to.ch&&""==A(t.text)&&(!b.cm||b.cm.options.wholeLineUpdateBefore)}function Mb(b,t,X,T){function ia(td,be,Re){td.text=be;td.stateAfter&&(td.stateAfter=null);td.styles&&(td.styles=null);null!=td.order&&(td.order=null);vd(td);Sc(td,Re);be=
T?T(td):1;be!=td.height&&pa(td,be);Dc(td,"change",td,t)}function Ka(td,be){for(var Re=[];td<be;++td)Re.push(new li(ub[td],X?X[td]:null,T));return Re}var Xa=t.from,bb=t.to,ub=t.text,Lb=ca(b,Xa.line),cc=ca(b,bb.line),Rc=A(ub),tc=X?X[ub.length-1]:null,Ac=bb.line-Xa.line;t.full?(b.insert(0,Ka(0,ub.length)),b.remove(ub.length,b.size-ub.length)):Nb(b,t)?(bb=Ka(0,ub.length-1),ia(cc,cc.text,tc),Ac&&b.remove(Xa.line,Ac),bb.length&&b.insert(Xa.line,bb)):Lb==cc?1==ub.length?ia(Lb,Lb.text.slice(0,Xa.ch)+Rc+Lb.text.slice(bb.ch),
tc):(Ac=Ka(1,ub.length-1),Ac.push(new li(Rc+Lb.text.slice(bb.ch),tc,T)),ia(Lb,Lb.text.slice(0,Xa.ch)+ub[0],X?X[0]:null),b.insert(Xa.line+1,Ac)):1==ub.length?(ia(Lb,Lb.text.slice(0,Xa.ch)+ub[0]+cc.text.slice(bb.ch),X?X[0]:null),b.remove(Xa.line+1,Ac)):(ia(Lb,Lb.text.slice(0,Xa.ch)+ub[0],X?X[0]:null),ia(cc,Rc+cc.text.slice(bb.ch),tc),tc=Ka(1,ub.length-1),1<Ac&&b.remove(Xa.line+1,Ac-1),b.insert(Xa.line+1,tc));Dc(b,"change",b,t)}function dc(b,t,X){function T(ia,Ka,Xa){if(ia.linked)for(var bb=0;bb<ia.linked.length;++bb){var ub=
ia.linked[bb];if(ub.doc!=Ka){var Lb=Xa&&ub.sharedHist;if(!X||Lb)t(ub.doc,Lb),T(ub.doc,ia,Lb)}}}T(b,null,!0)}function uc(b,t){if(t.cm)throw Error("This document is already in use.");b.doc=t;t.cm=b;Qf(b);Gb(b);Y(b);b.options.lineWrapping||xb(b);b.options.mode=t.modeOption;Bc(b)}function Y(b){("rtl"==b.doc.direction?q:Df)(b.display.lineDiv,"CodeMirror-rtl")}function oa(b){oc(b,function(){Y(b);Bc(b)})}function Pa(b){this.done=[];this.undone=[];this.undoDepth=b?b.undoDepth:Infinity;this.lastModTime=this.lastSelTime=
0;this.lastOrigin=this.lastSelOrigin=this.lastOp=this.lastSelOp=null;this.generation=this.maxGeneration=b?b.maxGeneration:1}function Ua(b,t){var X={from:Ra(t.from),to:Sa(t),text:fa(b,t.from,t.to)};rc(b,X,t.from.line,t.to.line+1);dc(b,function(T){return rc(T,X,t.from.line,t.to.line+1)},!0);return X}function yb(b){for(;b.length;)if(A(b).ranges)b.pop();else break}function Tb(b,t,X,T){var ia=b.history;ia.undone.length=0;var Ka=+new Date,Xa;if(Xa=ia.lastOp==T||ia.lastOrigin==t.origin&&t.origin&&("+"==
t.origin.charAt(0)&&ia.lastModTime>Ka-(b.cm?b.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0))){if(ia.lastOp==T){yb(ia.done);var bb=A(ia.done)}else ia.done.length&&!A(ia.done).ranges?bb=A(ia.done):1<ia.done.length&&!ia.done[ia.done.length-2].ranges?(ia.done.pop(),bb=A(ia.done)):bb=void 0;Xa=bb}if(Xa){var ub=A(bb.changes);0==Aa(t.from,t.to)&&0==Aa(t.from,ub.to)?ub.to=Sa(t):bb.changes.push(Ua(b,t))}else for((bb=A(ia.done))&&bb.ranges||Zb(b.sel,ia.done),bb={changes:[Ua(b,t)],generation:ia.generation},
ia.done.push(bb);ia.done.length>ia.undoDepth;)ia.done.shift(),ia.done[0].ranges||ia.done.shift();ia.done.push(X);ia.generation=++ia.maxGeneration;ia.lastModTime=ia.lastSelTime=Ka;ia.lastOp=ia.lastSelOp=T;ia.lastOrigin=ia.lastSelOrigin=t.origin;ub||Z(b,"historyAdded")}function Zb(b,t){var X=A(t);X&&X.ranges&&X.equals(b)||t.push(b)}function rc(b,t,X,T){var ia=t["spans_"+b.id],Ka=0;b.iter(Math.max(b.first,X),Math.min(b.first+b.size,T),function(Xa){Xa.markedSpans&&((ia||(ia=t["spans_"+b.id]={}))[Ka]=
Xa.markedSpans);++Ka})}function Gc(b){if(!b)return null;for(var t,X=0;X<b.length;++X)b[X].marker.explicitlyCleared?t||(t=b.slice(0,X)):t&&t.push(b[X]);return t?t.length?t:null:b}function dd(b,t){var X;if(X=t["spans_"+b.id]){for(var T=[],ia=0;ia<t.text.length;++ia)T.push(Gc(X[ia]));X=T}else X=null;b=Lc(b,t);if(!X)return b;if(!b)return X;for(t=0;t<X.length;++t)if(T=X[t],ia=b[t],T&&ia){var Ka=0;a:for(;Ka<ia.length;++Ka){for(var Xa=ia[Ka],bb=0;bb<T.length;++bb)if(T[bb].marker==Xa.marker)continue a;T.push(Xa)}}else ia&&
(X[t]=ia);return X}function Zc(b,t,X){for(var T=[],ia=0;ia<b.length;++ia){var Ka=b[ia];if(Ka.ranges)T.push(X?Mg.prototype.deepCopy.call(Ka):Ka);else{Ka=Ka.changes;var Xa=[];T.push({changes:Xa});for(var bb=0;bb<Ka.length;++bb){var ub=Ka[bb],Lb;Xa.push({from:ub.from,to:ub.to,text:ub.text});if(t)for(var cc in ub)(Lb=cc.match(/^spans_(\d+)$/))&&-1<a(t,Number(Lb[1]))&&(A(Xa)[cc]=ub[cc],delete ub[cc])}}}return T}function Kd(b,t,X,T){return T?(b=b.anchor,X&&(T=0>Aa(t,b),T!=0>Aa(X,b)?(b=t,t=X):T!=0>Aa(t,
X)&&(t=X)),new Pf(b,t)):new Pf(X||t,t)}function Ud(b,t,X,T,ia){null==ia&&(ia=b.cm&&(b.cm.display.shift||b.extend));Va(b,new Mg([Kd(b.sel.primary(),t,X,ia)],0),T)}function pd(b,t,X){for(var T=[],ia=b.cm&&(b.cm.display.shift||b.extend),Ka=0;Ka<b.sel.ranges.length;Ka++)T[Ka]=Kd(b.sel.ranges[Ka],t[Ka],null,ia);t=ya(b.cm,T,b.sel.primIndex);Va(b,t,X)}function Bd(b,t,X,T){var ia=b.sel.ranges.slice(0);ia[t]=X;Va(b,ya(b.cm,ia,b.sel.primIndex),T)}function jd(b,t,X){X={ranges:t.ranges,update:function(T){this.ranges=
[];for(var ia=0;ia<T.length;ia++)this.ranges[ia]=new Pf(Ma(b,T[ia].anchor),Ma(b,T[ia].head))},origin:X&&X.origin};Z(b,"beforeSelectionChange",b,X);b.cm&&Z(b.cm,"beforeSelectionChange",b.cm,X);return X.ranges!=t.ranges?ya(b.cm,X.ranges,X.ranges.length-1):t}function cf(b,t,X){var T=b.history.done,ia=A(T);ia&&ia.ranges?(T[T.length-1]=t,pb(b,t,X)):Va(b,t,X)}function Va(b,t,X){pb(b,t,X);t=b.sel;var T=b.cm?b.cm.curOp.id:NaN,ia=b.history,Ka=X&&X.origin,Xa;if(!(Xa=T==ia.lastSelOp)&&(Xa=Ka&&ia.lastSelOrigin==
Ka)&&!(Xa=ia.lastModTime==ia.lastSelTime&&ia.lastOrigin==Ka)){Xa=A(ia.done);var bb=Ka.charAt(0);Xa="*"==bb||"+"==bb&&Xa.ranges.length==t.ranges.length&&Xa.somethingSelected()==t.somethingSelected()&&new Date-b.history.lastSelTime<=(b.cm?b.cm.options.historyEventDelay:500)}Xa?ia.done[ia.done.length-1]=t:Zb(t,ia.done);ia.lastSelTime=+new Date;ia.lastSelOrigin=Ka;ia.lastSelOp=T;X&&!1!==X.clearRedo&&yb(ia.undone)}function pb(b,t,X){if(N(b,"beforeSelectionChange")||b.cm&&N(b.cm,"beforeSelectionChange"))t=
jd(b,t,X);var T=X&&X.bias||(0>Aa(t.primary().head,b.sel.primary().head)?-1:1);Cb(b,bc(b,t,T,!0));X&&!1===X.scroll||!b.cm||"nocursor"==b.cm.getOption("readOnly")||Ve(b.cm)}function Cb(b,t){t.equals(b.sel)||(b.sel=t,b.cm&&(b.cm.curOp.updateInput=1,b.cm.curOp.selectionChanged=!0,r(b.cm)),Dc(b,"cursorActivity",b))}function Ob(b){Cb(b,bc(b,b.sel,null,!1))}function bc(b,t,X,T){for(var ia,Ka=0;Ka<t.ranges.length;Ka++){var Xa=t.ranges[Ka],bb=t.ranges.length==b.sel.ranges.length&&b.sel.ranges[Ka],ub=w(b,Xa.anchor,
bb&&bb.anchor,X,T);bb=w(b,Xa.head,bb&&bb.head,X,T);if(ia||ub!=Xa.anchor||bb!=Xa.head)ia||(ia=t.ranges.slice(0,Ka)),ia[Ka]=new Pf(ub,bb)}return ia?ya(b.cm,ia,t.primIndex):t}function Mc(b,t,X,T,ia){var Ka=ca(b,t.line);if(Ka.markedSpans)for(var Xa=0;Xa<Ka.markedSpans.length;++Xa){var bb=Ka.markedSpans[Xa],ub=bb.marker,Lb="selectLeft"in ub?!ub.selectLeft:ub.inclusiveLeft,cc="selectRight"in ub?!ub.selectRight:ub.inclusiveRight;if((null==bb.from||(Lb?bb.from<=t.ch:bb.from<t.ch))&&(null==bb.to||(cc?bb.to>=
t.ch:bb.to>t.ch))){if(ia&&(Z(ub,"beforeCursorEnter"),ub.explicitlyCleared))if(Ka.markedSpans){--Xa;continue}else break;if(ub.atomic){if(X){Xa=ub.find(0>T?1:-1);bb=void 0;if(0>T?cc:Lb)Xa=S(b,Xa,-T,Xa&&Xa.line==t.line?Ka:null);if(Xa&&Xa.line==t.line&&(bb=Aa(Xa,X))&&(0>T?0>bb:0<bb))return Mc(b,Xa,t,T,ia)}X=ub.find(0>T?-1:1);if(0>T?Lb:cc)X=S(b,X,T,X.line==t.line?Ka:null);return X?Mc(b,X,t,T,ia):null}}}return t}function w(b,t,X,T,ia){T=T||1;t=Mc(b,t,X,T,ia)||!ia&&Mc(b,t,X,T,!0)||Mc(b,t,X,-T,ia)||!ia&&
Mc(b,t,X,-T,!0);return t?t:(b.cantEdit=!0,Za(b.first,0))}function S(b,t,X,T){return 0>X&&0==t.ch?t.line>b.first?Ma(b,Za(t.line-1)):null:0<X&&t.ch==(T||ca(b,t.line)).text.length?t.line<b.first+b.size-1?Za(t.line+1,0):null:new Za(t.line,t.ch+X)}function ma(b){b.setSelection(Za(b.firstLine(),0),Za(b.lastLine()),wh)}function La(b,t,X){var T={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return T.canceled=!0}};X&&(T.update=function(ia,Ka,Xa,bb){ia&&(T.from=Ma(b,ia));Ka&&
(T.to=Ma(b,Ka));Xa&&(T.text=Xa);void 0!==bb&&(T.origin=bb)});Z(b,"beforeChange",b,T);b.cm&&Z(b.cm,"beforeChange",b.cm,T);return T.canceled?(b.cm&&(b.cm.curOp.updateInput=2),null):{from:T.from,to:T.to,text:T.text,origin:T.origin}}function gb(b,t,X){if(b.cm){if(!b.cm.curOp)return id(b.cm,gb)(b,t,X);if(b.cm.state.suppressEdits)return}if(N(b,"beforeChange")||b.cm&&N(b.cm,"beforeChange"))if(t=La(b,t,!0),!t)return;if(X=Bj&&!X&&fe(b,t.from,t.to))for(var T=X.length-1;0<=T;--T)mb(b,{from:X[T].from,to:X[T].to,
text:T?[""]:t.text,origin:t.origin});else mb(b,t)}function mb(b,t){if(1!=t.text.length||""!=t.text[0]||0!=Aa(t.from,t.to)){var X=hb(b,t);Tb(b,t,X,b.cm?b.cm.curOp.id:NaN);ec(b,t,X,Lc(b,t));var T=[];dc(b,function(ia,Ka){Ka||-1!=a(T,ia.history)||(qd(ia.history,t),T.push(ia.history));ec(ia,t,null,Lc(ia,t))})}}function tb(b,t,X){var T=b.cm&&b.cm.state.suppressEdits;if(!T||X){for(var ia=b.history,Ka,Xa=b.sel,bb="undo"==t?ia.done:ia.undone,ub="undo"==t?ia.undone:ia.done,Lb=0;Lb<bb.length&&(Ka=bb[Lb],X?!Ka.ranges||
Ka.equals(b.sel):Ka.ranges);Lb++);if(Lb!=bb.length){for(ia.lastOrigin=ia.lastSelOrigin=null;;)if(Ka=bb.pop(),Ka.ranges){Zb(Ka,ub);if(X&&!Ka.equals(b.sel)){Va(b,Ka,{clearRedo:!1});return}Xa=Ka}else{if(T){bb.push(Ka);return}break}var cc=[];Zb(Xa,ub);ub.push({changes:cc,generation:ia.generation});ia.generation=Ka.generation||++ia.maxGeneration;var Rc=N(b,"beforeChange")||b.cm&&N(b.cm,"beforeChange");X=function(tc){var Ac=Ka.changes[tc];Ac.origin=t;if(Rc&&!La(b,Ac,!1))return bb.length=0,{};cc.push(Ua(b,
Ac));var td=tc?hb(b,Ac):A(bb);ec(b,Ac,td,dd(b,Ac));!tc&&b.cm&&b.cm.scrollIntoView({from:Ac.from,to:Sa(Ac)});var be=[];dc(b,function(Re,ef){ef||-1!=a(be,Re.history)||(qd(Re.history,Ac),be.push(Re.history));ec(Re,Ac,null,dd(Re,Ac))})};for(T=Ka.changes.length-1;0<=T;--T)if(ia=X(T))return ia.v}}}function Rb(b,t){if(0!=t&&(b.first+=t,b.sel=new Mg(C(b.sel.ranges,function(ia){return new Pf(Za(ia.anchor.line+t,ia.anchor.ch),Za(ia.head.line+t,ia.head.ch))}),b.sel.primIndex),b.cm)){Bc(b.cm,b.first,b.first-
t,t);for(var X=b.cm.display,T=X.viewFrom;T<X.viewTo;T++)xa(b.cm,T,"gutter")}}function ec(b,t,X,T){if(b.cm&&!b.cm.curOp)return id(b.cm,ec)(b,t,X,T);if(t.to.line<b.first)Rb(b,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>b.lastLine())){if(t.from.line<b.first){var ia=t.text.length-1-(b.first-t.from.line);Rb(b,ia);t={from:Za(b.first,0),to:Za(t.to.line+ia,t.to.ch),text:[A(t.text)],origin:t.origin}}ia=b.lastLine();t.to.line>ia&&(t={from:t.from,to:Za(ia,ca(b,ia).text.length),text:[t.text[0]],
origin:t.origin});t.removed=fa(b,t.from,t.to);X||(X=hb(b,t));b.cm?Wb(b.cm,t,T):Mb(b,t,T);pb(b,X,wh);b.cantEdit&&w(b,Za(b.firstLine(),0))&&(b.cantEdit=!1)}}function Wb(b,t,X){var T=b.doc,ia=b.display,Ka=t.from,Xa=t.to,bb=!1,ub=Ka.line;b.options.lineWrapping||(ub=Ga(Ib(ca(T,Ka.line))),T.iter(ub,Xa.line+1,function(Lb){if(Lb==ia.maxLine)return bb=!0}));-1<T.sel.contains(t.from,t.to)&&r(b);Mb(T,t,X,If(b));b.options.lineWrapping||(T.iter(ub,Ka.line+t.text.length,function(Lb){var cc=eb(Lb);cc>ia.maxLineLength&&
(ia.maxLine=Lb,ia.maxLineLength=cc,ia.maxLineChanged=!0,bb=!1)}),bb&&(b.curOp.updateMaxLine=!0));qc(T,Ka.line);Hd(b,400);X=t.text.length-(Xa.line-Ka.line)-1;t.full?Bc(b):Ka.line!=Xa.line||1!=t.text.length||Nb(b.doc,t)?Bc(b,Ka.line,Xa.line+1,X):xa(b,Ka.line,"text");X=N(b,"changes");if((T=N(b,"change"))||X)t={from:Ka,to:Xa,text:t.text,removed:t.removed,origin:t.origin},T&&Dc(b,"change",b,t),X&&(b.curOp.changeObjs||(b.curOp.changeObjs=[])).push(t);b.display.selForContextMenu=null}function Pc(b,t,X,T,
ia){T||(T=X);0>Aa(T,X)&&(T=[T,X],X=T[0],T=T[1]);"string"==typeof t&&(t=b.splitLines(t));gb(b,{from:X,to:T,text:t,origin:ia})}function ed(b,t,X,T){X<b.line?b.line+=T:t<b.line&&(b.line=t,b.ch=0)}function zd(b,t,X,T){for(var ia=0;ia<b.length;++ia){var Ka=b[ia],Xa=!0;if(Ka.ranges)for(Ka.copied||(Ka=b[ia]=Ka.deepCopy(),Ka.copied=!0),Xa=0;Xa<Ka.ranges.length;Xa++)ed(Ka.ranges[Xa].anchor,t,X,T),ed(Ka.ranges[Xa].head,t,X,T);else{for(var bb=0;bb<Ka.changes.length;++bb){var ub=Ka.changes[bb];if(X<ub.from.line)ub.from=
Za(ub.from.line+T,ub.from.ch),ub.to=Za(ub.to.line+T,ub.to.ch);else if(t<=ub.to.line){Xa=!1;break}}Xa||(b.splice(0,ia+1),ia=0)}}}function qd(b,t){var X=t.from.line,T=t.to.line;t=t.text.length-(T-X)-1;zd(b.done,X,T,t);zd(b.undone,X,T,t)}function bd(b,t,X,T){var ia=t,Ka=t;"number"==typeof t?Ka=ca(b,Math.max(b.first,Math.min(t,b.first+b.size-1))):ia=Ga(t);if(null==ia)return null;T(Ka,ia)&&b.cm&&xa(b.cm,ia,X);return Ka}function Kc(b){this.lines=b;this.parent=null;for(var t=0,X=0;X<b.length;++X)b[X].parent=
this,t+=b[X].height;this.height=t}function ud(b){this.children=b;for(var t=0,X=0,T=0;T<b.length;++T){var ia=b[T];t+=ia.chunkSize();X+=ia.height;ia.parent=this}this.size=t;this.height=X;this.parent=null}function de(b,t,X,T){var ia=new Uh(b,X,T),Ka=b.cm;Ka&&ia.noHScroll&&(Ka.display.alignWidgets=!0);bd(b,t,"widget",function(Xa){var bb=Xa.widgets||(Xa.widgets=[]);null==ia.insertAt?bb.push(ia):bb.splice(Math.min(bb.length,Math.max(0,ia.insertAt)),0,ia);ia.line=Xa;Ka&&!Gd(b,Xa)&&(bb=Ja(Xa)<b.scrollTop,
pa(Xa,Xa.height+Cd(ia)),bb&&ee(Ka,ia.height),Ka.curOp.forceUpdate=!0);return!0});Ka&&Dc(Ka,"lineWidgetAdded",Ka,ia,"number"==typeof t?t:Ga(t));return ia}function Sd(b,t,X,T,ia){if(T&&T.shared)return ve(b,t,X,T,ia);if(b.cm&&!b.cm.curOp)return id(b.cm,Sd)(b,t,X,T,ia);var Ka=new Hh(b,ia);ia=Aa(t,X);T&&c(T,Ka,!1);if(0<ia||0==ia&&!1!==Ka.clearWhenEmpty)return Ka;Ka.replacedWith&&(Ka.collapsed=!0,Ka.widgetNode=O("span",[Ka.replacedWith],"CodeMirror-widget"),T.handleMouseEvents||Ka.widgetNode.setAttribute("cm-ignore-events",
"true"),T.insertLeft&&(Ka.widgetNode.insertLeft=!0));if(Ka.collapsed){if(gc(b,t.line,t,X,Ka)||t.line!=X.line&&gc(b,X.line,t,X,Ka))throw Error("Inserting collapsed marker partially overlapping an existing one");zh=!0}Ka.addToHistory&&Tb(b,{from:t,to:X,origin:"markText"},b.sel,NaN);var Xa=t.line,bb=b.cm,ub;b.iter(Xa,X.line+1,function(Lb){bb&&Ka.collapsed&&!bb.options.lineWrapping&&Ib(Lb)==bb.display.maxLine&&(ub=!0);Ka.collapsed&&Xa!=t.line&&pa(Lb,0);var cc=new Vc(Ka,Xa==t.line?t.ch:null,Xa==X.line?
X.ch:null);Lb.markedSpans=Lb.markedSpans?Lb.markedSpans.concat([cc]):[cc];cc.marker.attachLine(Lb);++Xa});Ka.collapsed&&b.iter(t.line,X.line+1,function(Lb){Gd(b,Lb)&&pa(Lb,0)});Ka.clearOnEnter&&Se(Ka,"beforeCursorEnter",function(){return Ka.clear()});Ka.readOnly&&(Bj=!0,(b.history.done.length||b.history.undone.length)&&b.clearHistory());Ka.collapsed&&(Ka.id=++dk,Ka.atomic=!0);if(bb){ub&&(bb.curOp.updateMaxLine=!0);if(Ka.collapsed)Bc(bb,t.line,X.line+1);else if(Ka.className||Ka.startStyle||Ka.endStyle||
Ka.css||Ka.attributes||Ka.title)for(T=t.line;T<=X.line;T++)xa(bb,T,"text");Ka.atomic&&Ob(bb.doc);Dc(bb,"markerAdded",bb,Ka)}return Ka}function ve(b,t,X,T,ia){T=c(T);T.shared=!1;var Ka=[Sd(b,t,X,T,ia)],Xa=Ka[0],bb=T.widgetNode;dc(b,function(ub){bb&&(T.widgetNode=bb.cloneNode(!0));Ka.push(Sd(ub,Ma(ub,t),Ma(ub,X),T,ia));for(var Lb=0;Lb<ub.linked.length;++Lb)if(ub.linked[Lb].isParent)return;Xa=A(Ka)});return new di(Ka,Xa)}function ne(b){return b.findMarks(Za(b.first,0),b.clipPos(Za(b.lastLine())),function(t){return t.parent})}
function Tf(b){for(var t=function(T){T=b[T];var ia=[T.primary.doc];dc(T.primary.doc,function(bb){return ia.push(bb)});for(var Ka=0;Ka<T.markers.length;Ka++){var Xa=T.markers[Ka];-1==a(ia,Xa.doc)&&(Xa.parent=null,T.markers.splice(Ka--,1))}},X=0;X<b.length;X++)t(X)}function se(b){var t=this;te(t);if(!Q(t,b)&&!Ed(t.display,b)){aa(b);vf&&(Aj=+new Date);var X=Jf(t,b,!0),T=b.dataTransfer.files;if(X&&!t.isReadOnly())if(T&&T.length&&window.FileReader&&window.File)for(var ia=T.length,Ka=Array(ia),Xa=0,bb=
function(){++Xa==ia&&id(t,function(){X=Ma(t.doc,X);var cc={from:X,to:X,text:t.doc.splitLines(Ka.filter(function(Rc){return null!=Rc}).join(t.doc.lineSeparator())),origin:"paste"};gb(t.doc,cc);cf(t.doc,Na(Ma(t.doc,X),Ma(t.doc,Sa(cc))))})()},ub=function(cc,Rc){if(t.options.allowDropFileTypes&&-1==a(t.options.allowDropFileTypes,cc.type))bb();else{var tc=new FileReader;tc.onerror=function(){return bb()};tc.onload=function(){var Ac=tc.result;/[\x00-\x08\x0e-\x1f]{2}/.test(Ac)||(Ka[Rc]=Ac);bb()};tc.readAsText(cc)}},
Lb=0;Lb<T.length;Lb++)ub(T[Lb],Lb);else if(t.state.draggingText&&-1<t.doc.sel.contains(X))t.state.draggingText(b),setTimeout(function(){return t.display.input.focus()},20);else try{if(ub=b.dataTransfer.getData("Text")){t.state.draggingText&&!t.state.draggingText.copy&&(Lb=t.listSelections());pb(t.doc,Na(X,X));if(Lb)for(T=0;T<Lb.length;++T)Pc(t.doc,"",Lb[T].anchor,Lb[T].head,"drag");t.replaceSelection(ub,"around","paste");t.display.input.focus()}}catch(cc){}}}function te(b){b.display.dragCursor&&(b.display.lineSpace.removeChild(b.display.dragCursor),
b.display.dragCursor=null)}function Be(b){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),X=[],T=0;T<t.length;T++){var ia=t[T].CodeMirror;ia&&X.push(ia)}X.length&&X[0].operation(function(){for(var Ka=0;Ka<X.length;Ka++)b(X[Ka])})}}function wd(){var b;Se(window,"resize",function(){null==b&&(b=setTimeout(function(){b=null;Be(We)},100))});Se(window,"blur",function(){return Be(od)})}function We(b){var t=b.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=
null;t.scrollbarsClipped=!1;b.setSize()}function Kf(b){var t=b.split(/-(?!$)/);b=t[t.length-1];for(var X,T,ia,Ka,Xa=0;Xa<t.length-1;Xa++){var bb=t[Xa];if(/^(cmd|meta|m)$/i.test(bb))Ka=!0;else if(/^a(lt)?$/i.test(bb))X=!0;else if(/^(c|ctrl|control)$/i.test(bb))T=!0;else if(/^s(hift)?$/i.test(bb))ia=!0;else throw Error("Unrecognized modifier name: "+bb);}X&&(b="Alt-"+b);T&&(b="Ctrl-"+b);Ka&&(b="Cmd-"+b);ia&&(b="Shift-"+b);return b}function jf(b){var t={},X;for(X in b)if(b.hasOwnProperty(X)){var T=b[X];
if(!/^(name|fallthrough|(de|at)tach)$/.test(X)){if("..."!=T)for(var ia=C(X.split(" "),Kf),Ka=0;Ka<ia.length;Ka++){if(Ka==ia.length-1){var Xa=ia.join(" ");var bb=T}else Xa=ia.slice(0,Ka+1).join(" "),bb="...";var ub=t[Xa];if(!ub)t[Xa]=bb;else if(ub!=bb)throw Error("Inconsistent bindings for "+Xa);}delete b[X]}}for(var Lb in t)b[Lb]=t[Lb];return b}function Cf(b,t,X,T){t=Zf(t);var ia=t.call?t.call(b,T):t[b];if(!1===ia)return"nothing";if("..."===ia)return"multi";if(null!=ia&&X(ia))return"handled";if(t.fallthrough){if("[object Array]"!=
Object.prototype.toString.call(t.fallthrough))return Cf(b,t.fallthrough,X,T);for(ia=0;ia<t.fallthrough.length;ia++){var Ka=Cf(b,t.fallthrough[ia],X,T);if(Ka)return Ka}}}function xf(b){b="string"==typeof b?b:Yh[b.keyCode];return"Ctrl"==b||"Alt"==b||"Shift"==b||"Mod"==b}function Af(b,t,X){var T=b;t.altKey&&"Alt"!=T&&(b="Alt-"+b);(Ij?t.metaKey:t.ctrlKey)&&"Ctrl"!=T&&(b="Ctrl-"+b);(Ij?t.ctrlKey:t.metaKey)&&"Mod"!=T&&(b="Cmd-"+b);!X&&t.shiftKey&&"Shift"!=T&&(b="Shift-"+b);return b}function Uf(b,t){if(Xg&&
34==b.keyCode&&b["char"])return!1;var X=Yh[b.keyCode];if(null==X||b.altGraphKey)return!1;3==b.keyCode&&b.code&&(X=b.code);return Af(X,b,t)}function Zf(b){return"string"==typeof b?lj[b]:b}function Ug(b,t){for(var X=b.doc.sel.ranges,T=[],ia=0;ia<X.length;ia++){for(var Ka=t(X[ia]);T.length&&0>=Aa(Ka.from,A(T).to);){var Xa=T.pop();if(0>Aa(Xa.from,Ka.from)){Ka.from=Xa.from;break}}T.push(Ka)}oc(b,function(){for(var bb=T.length-1;0<=bb;bb--)Pc(b.doc,"",T[bb].from,T[bb].to,"+delete");Ve(b)})}function Eh(b,
t,X){t=R(b.text,t+X,X);return 0>t||t>b.text.length?null:t}function Rh(b,t,X){b=Eh(b,t.ch,X);return null==b?null:new Za(t.line,b,0>X?"after":"before")}function mk(b,t,X,T,ia){if(b&&("rtl"==t.doc.direction&&(ia=-ia),b=da(X,t.doc.direction))){b=0>ia?A(b):b[0];var Ka=0>ia==(1==b.level)?"after":"before";if(0<b.level||"rtl"==t.doc.direction){var Xa=hf(t,X);var bb=0>ia?X.text.length-1:0;var ub=Vd(t,Xa,bb).top;bb=U(function(Lb){return Vd(t,Xa,Lb).top==ub},0>ia==(1==b.level)?b.from:b.to-1,bb);"before"==Ka&&
(bb=Eh(X,bb,1))}else bb=0>ia?b.to:b.from;return new Za(T,bb,Ka)}return new Za(T,0>ia?X.text.length:0,0>ia?"before":"after")}function Kk(b,t,X,T){var ia=da(t,b.doc.direction);if(!ia)return Rh(t,X,T);X.ch>=t.text.length?(X.ch=t.text.length,X.sticky="before"):0>=X.ch&&(X.ch=0,X.sticky="after");var Ka=ba(ia,X.ch,X.sticky),Xa=ia[Ka];if("ltr"==b.doc.direction&&0==Xa.level%2&&(0<T?Xa.to>X.ch:Xa.from<X.ch))return Rh(t,X,T);var bb=function(Ac,td){return Eh(t,Ac instanceof Za?Ac.ch:Ac,td)},ub,Lb=function(Ac){if(!b.options.lineWrapping)return{begin:0,
end:t.text.length};ub=ub||hf(b,t);return Yf(b,t,ub,Ac)},cc=Lb("before"==X.sticky?bb(X,-1):X.ch);if("rtl"==b.doc.direction||1==Xa.level){var Rc=1==Xa.level==0>T,tc=bb(X,Rc?1:-1);if(null!=tc&&(Rc?tc<=Xa.to&&tc<=cc.end:tc>=Xa.from&&tc>=cc.begin))return new Za(X.line,tc,Rc?"before":"after")}Xa=function(Ac,td,be){for(var Re=function(Ff,bg){return bg?new Za(X.line,bb(Ff,1),"before"):new Za(X.line,Ff,"after")};0<=Ac&&Ac<ia.length;Ac+=td){var ef=ia[Ac],Ie=0<td==(1!=ef.level),cg=Ie?be.begin:bb(be.end,-1);
if(ef.from<=cg&&cg<ef.to)return Re(cg,Ie);cg=Ie?ef.from:bb(ef.to,-1);if(be.begin<=cg&&cg<be.end)return Re(cg,Ie)}};if(Ka=Xa(Ka+T,T,cc))return Ka;cc=0<T?cc.end:bb(cc.begin,-1);return null==cc||0<T&&cc==t.text.length||!(Ka=Xa(0<T?0:ia.length-1,T,Lb(cc)))?null:Ka}function pk(b,t){var X=ca(b.doc,t),T=Ib(X);T!=X&&(t=Ga(T));return mk(!0,b,T,t,1)}function qk(b,t){var X=pk(b,t.line),T=ca(b.doc,X.line);b=da(T,b.doc.direction);return b&&0!=b[0].level?X:(T=Math.max(X.ch,T.text.search(/\S/)),Za(X.line,t.line==
X.line&&t.ch<=T&&t.ch?0:T,X.sticky))}function nh(b,t,X){if("string"==typeof t&&(t=ej[t],!t))return!1;b.display.input.ensurePolled();var T=b.display.shift,ia=!1;try{b.isReadOnly()&&(b.state.suppressEdits=!0),X&&(b.display.shift=!1),ia=t(b)!=Kh}finally{b.display.shift=T,b.state.suppressEdits=!1}return ia}function Qi(b,t,X,T){var ia=b.state.keySeq;if(ia){if(xf(t))return"handled";/'$/.test(t)?b.state.keySeq=null:Dk.set(50,function(){b.state.keySeq==ia&&(b.state.keySeq=null,b.display.input.reset())});
if(Kj(b,ia+" "+t,X,T))return!0}return Kj(b,t,X,T)}function Kj(b,t,X,T){a:{for(var ia=0;ia<b.state.keyMaps.length;ia++){var Ka=Cf(t,b.state.keyMaps[ia],T,b);if(Ka){T=Ka;break a}}T=b.options.extraKeys&&Cf(t,b.options.extraKeys,T,b)||Cf(t,b.options.keyMap,T,b)}"multi"==T&&(b.state.keySeq=t);"handled"==T&&Dc(b,"keyHandled",b,t,X);if("handled"==T||"multi"==T)aa(X),Qc(b);return!!T}function Sk(b,t){var X=Uf(t,!0);return X?t.shiftKey&&!b.state.keySeq?Qi(b,"Shift-"+X,t,function(T){return nh(b,T,!0)})||Qi(b,
X,t,function(T){if("string"==typeof T?/^go[A-Z]/.test(T):T.motion)return nh(b,T)}):Qi(b,X,t,function(T){return nh(b,T)}):!1}function kh(b,t,X){return Qi(b,"'"+X+"'",t,function(T){return nh(b,T,!0)})}function $h(b){if(!b.target||b.target==this.display.input.getField())if(this.curOp.focus=y(),!Q(this,b)){vf&&11>Wf&&27==b.keyCode&&(b.returnValue=!1);var t=b.keyCode;this.display.shift=16==t||b.shiftKey;var X=Sk(this,b);Xg&&(uk=X?t:null,!X&&88==t&&!Wh&&(Wg?b.metaKey:b.ctrlKey)&&this.replaceSelection("",
null,"cut"));vh&&!Wg&&!X&&46==t&&b.shiftKey&&!b.ctrlKey&&document.execCommand&&document.execCommand("cut");18!=t||/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)||rk(this)}}function rk(b){function t(T){18!=T.keyCode&&T.altKey||(Df(X,"CodeMirror-crosshair"),ja(document,"keyup",t),ja(document,"mouseover",t))}var X=b.display.lineDiv;q(X,"CodeMirror-crosshair");Se(document,"keyup",t);Se(document,"mouseover",t)}function th(b){16==b.keyCode&&(this.doc.sel.shift=!1);Q(this,b)}function $i(b){if(!(b.target&&
b.target!=this.display.input.getField()||Ed(this.display,b)||Q(this,b)||b.ctrlKey&&!b.altKey||Wg&&b.metaKey)){var t=b.keyCode,X=b.charCode;if(Xg&&t==uk)uk=null,aa(b);else if(!Xg||b.which&&!(10>b.which)||!Sk(this,b))if(t=String.fromCharCode(null==X?t:X),"\b"!=t&&!kh(this,b,t))this.display.input.onKeyPress(b)}}function Ii(b,t){var X=+new Date;if(fj&&fj.compare(X,b,t))return uj=fj=null,"triple";if(uj&&uj.compare(X,b,t))return fj=new Cj(X,b,t),uj=null,"double";uj=new Cj(X,b,t);fj=null;return"single"}
function oj(b){var t=this.display;if(!(Q(this,b)||t.activeTouch&&t.input.supportsTouch()))if(t.input.ensurePolled(),t.shift=b.shiftKey,Ed(t,b))sg||(t.scroller.draggable=!1,setTimeout(function(){return t.scroller.draggable=!0},100));else if(!ci(this,b,"gutterClick",!0)){var X=Jf(this,b),T=$a(b),ia=X?Ii(X,T):"single";window.focus();1==T&&this.state.selectingText&&this.state.selectingText(b);if(!X||!gk(this,T,X,ia,b))if(1==T)X?hk(this,X,ia,b):(b.target||b.srcElement)==t.scroller&&aa(b);else if(2==T)X&&
Ud(this.doc,X),setTimeout(function(){return t.input.focus()},20);else if(3==T)if(gi)this.display.input.onContextMenu(b);else Nd(this)}}function gk(b,t,X,T,ia){var Ka="Click";"double"==T?Ka="Double"+Ka:"triple"==T&&(Ka="Triple"+Ka);return Qi(b,Af((1==t?"Left":2==t?"Middle":"Right")+Ka,ia),ia,function(Xa){"string"==typeof Xa&&(Xa=ej[Xa]);if(!Xa)return!1;var bb=!1;try{b.isReadOnly()&&(b.state.suppressEdits=!0),bb=Xa(b,X)!=Kh}finally{b.state.suppressEdits=!1}return bb})}function hk(b,t,X,T){vf?setTimeout(h(Ld,
b),0):b.curOp.focus=y();var ia=b.getOption("configureMouse");ia=ia?ia(b,X,T):{};null==ia.unit&&(ia.unit=(yj?T.shiftKey&&T.metaKey:T.altKey)?"rectangle":"single"==X?"char":"double"==X?"word":"line");if(null==ia.extend||b.doc.extend)ia.extend=b.doc.extend||T.shiftKey;null==ia.addNew&&(ia.addNew=Wg?T.metaKey:T.ctrlKey);null==ia.moveOnDrag&&(ia.moveOnDrag=!(Wg?T.altKey:T.ctrlKey));var Ka=b.doc.sel,Xa;b.options.dragDrop&&zj&&!b.isReadOnly()&&"single"==X&&-1<(Xa=Ka.contains(t))&&(0>Aa((Xa=Ka.ranges[Xa]).from(),
t)||0<t.xRel)&&(0<Aa(Xa.to(),t)||0>t.xRel)?il(b,T,t,ia):tj(b,T,t,ia)}function il(b,t,X,T){var ia=b.display,Ka=!1,Xa=id(b,function(Lb){sg&&(ia.scroller.draggable=!1);b.state.draggingText=!1;b.state.delayingBlurEvent&&(b.hasFocus()?b.state.delayingBlurEvent=!1:Nd(b));ja(ia.wrapper.ownerDocument,"mouseup",Xa);ja(ia.wrapper.ownerDocument,"mousemove",bb);ja(ia.scroller,"dragstart",ub);ja(ia.scroller,"drop",Xa);Ka||(aa(Lb),T.addNew||Ud(b.doc,X,null,null,T.extend),sg&&!Ei||vf&&9==Wf?setTimeout(function(){ia.wrapper.ownerDocument.body.focus({preventScroll:!0});
ia.input.focus()},20):ia.input.focus())}),bb=function(Lb){Ka=Ka||10<=Math.abs(t.clientX-Lb.clientX)+Math.abs(t.clientY-Lb.clientY)},ub=function(){return Ka=!0};sg&&(ia.scroller.draggable=!0);b.state.draggingText=Xa;Xa.copy=!T.moveOnDrag;Se(ia.wrapper.ownerDocument,"mouseup",Xa);Se(ia.wrapper.ownerDocument,"mousemove",bb);Se(ia.scroller,"dragstart",ub);Se(ia.scroller,"drop",Xa);b.state.delayingBlurEvent=!0;setTimeout(function(){return ia.input.focus()},20);ia.scroller.dragDrop&&ia.scroller.dragDrop()}
function Kg(b,t,X){if("char"==X)return new Pf(t,t);if("word"==X)return b.findWordAt(t);if("line"==X)return new Pf(Za(t.line,0),Ma(b.doc,Za(t.line+1,0)));b=X(b,t);return new Pf(b.from,b.to)}function tj(b,t,X,T){function ia(Ie){if(0!=Aa(Ac,Ie))if(Ac=Ie,"rectangle"==T.unit){var cg=[],Ff=b.options.tabSize,bg=e(ca(ub,X.line).text,X.ch,Ff),ag=e(ca(ub,Ie.line).text,Ie.ch,Ff),qf=Math.min(bg,ag);bg=Math.max(bg,ag);ag=Math.min(X.line,Ie.line);for(var fg=Math.min(b.lastLine(),Math.max(X.line,Ie.line));ag<=fg;ag++){var Vf=
ca(ub,ag).text,Sf=f(Vf,qf,Ff);qf==bg?cg.push(new Pf(Za(ag,Sf),Za(ag,Sf))):Vf.length>Sf&&cg.push(new Pf(Za(ag,Sf),Za(ag,f(Vf,bg,Ff))))}cg.length||cg.push(new Pf(X,X));Va(ub,ya(b,Lb.ranges.slice(0,Rc).concat(cg),Rc),{origin:"*mouse",scroll:!1});b.scrollIntoView(Ie)}else cg=tc,qf=Kg(b,Ie,T.unit),Ie=cg.anchor,0<Aa(qf.anchor,Ie)?(Ff=qf.head,Ie=lb(cg.from(),qf.anchor)):(Ff=qf.anchor,Ie=ab(cg.to(),qf.head)),cg=Lb.ranges.slice(0),cg[Rc]=sk(b,new Pf(Ma(ub,Ie),Ff)),Va(ub,ya(b,cg,Rc),Oh)}function Ka(Ie){var cg=
++be,Ff=Jf(b,Ie,!0,"rectangle"==T.unit);if(Ff)if(0!=Aa(Ff,Ac)){b.curOp.focus=y();ia(Ff);var bg=lf(bb,ub);(Ff.line>=bg.to||Ff.line<bg.from)&&setTimeout(id(b,function(){be==cg&&Ka(Ie)}),150)}else{var ag=Ie.clientY<td.top?-20:Ie.clientY>td.bottom?20:0;ag&&setTimeout(id(b,function(){be==cg&&(bb.scroller.scrollTop+=ag,Ka(Ie))}),50)}}function Xa(Ie){b.state.selectingText=!1;be=Infinity;Ie&&(aa(Ie),bb.input.focus());ja(bb.wrapper.ownerDocument,"mousemove",Re);ja(bb.wrapper.ownerDocument,"mouseup",ef);ub.history.lastSelOrigin=
null}vf&&Nd(b);var bb=b.display,ub=b.doc;aa(t);var Lb=ub.sel,cc=Lb.ranges;if(T.addNew&&!T.extend){var Rc=ub.sel.contains(X);var tc=-1<Rc?cc[Rc]:new Pf(X,X)}else tc=ub.sel.primary(),Rc=ub.sel.primIndex;"rectangle"==T.unit?(T.addNew||(tc=new Pf(X,X)),X=Jf(b,t,!0,!0),Rc=-1):(t=Kg(b,X,T.unit),tc=T.extend?Kd(tc,t.anchor,t.head,T.extend):t);T.addNew?-1==Rc?(Rc=cc.length,Va(ub,ya(b,cc.concat([tc]),Rc),{scroll:!1,origin:"*mouse"})):1<cc.length&&cc[Rc].empty()&&"char"==T.unit&&!T.extend?(Va(ub,ya(b,cc.slice(0,
Rc).concat(cc.slice(Rc+1)),0),{scroll:!1,origin:"*mouse"}),Lb=ub.sel):Bd(ub,Rc,tc,Oh):(Rc=0,Va(ub,new Mg([tc],0),Oh),Lb=ub.sel);var Ac=X,td=bb.wrapper.getBoundingClientRect(),be=0,Re=id(b,function(Ie){0!==Ie.buttons&&$a(Ie)?Ka(Ie):Xa(Ie)}),ef=id(b,Xa);b.state.selectingText=ef;Se(bb.wrapper.ownerDocument,"mousemove",Re);Se(bb.wrapper.ownerDocument,"mouseup",ef)}function sk(b,t){var X=t.anchor,T=t.head,ia=ca(b.doc,X.line);if(0==Aa(X,T)&&X.sticky==T.sticky)return t;ia=da(ia);if(!ia)return t;var Ka=ba(ia,
X.ch,X.sticky),Xa=ia[Ka];if(Xa.from!=X.ch&&Xa.to!=X.ch)return t;var bb=Ka+(Xa.from==X.ch==(1!=Xa.level)?0:1);if(0==bb||bb==ia.length)return t;T.line!=X.line?b=0<(T.line-X.line)*("ltr"==b.doc.direction?1:-1):(b=ba(ia,T.ch,T.sticky),Ka=b-Ka||(T.ch-X.ch)*(1==Xa.level?-1:1),b=b==bb-1||b==bb?0>Ka:0<Ka);ia=ia[bb+(b?-1:0)];ia=(bb=b==(1==ia.level))?ia.from:ia.to;bb=bb?"after":"before";return X.ch==ia&&X.sticky==bb?t:new Pf(new Za(X.line,ia,bb),T)}function ci(b,t,X,T){if(t.touches){var ia=t.touches[0].clientX;
var Ka=t.touches[0].clientY}else try{ia=t.clientX,Ka=t.clientY}catch(ub){return!1}if(ia>=Math.floor(b.display.gutters.getBoundingClientRect().right))return!1;T&&aa(t);T=b.display;var Xa=T.lineDiv.getBoundingClientRect();if(Ka>Xa.bottom||!N(b,X))return ta(t);Ka-=Xa.top-T.viewOffset;for(Xa=0;Xa<b.display.gutterSpecs.length;++Xa){var bb=T.gutters.childNodes[Xa];if(bb&&bb.getBoundingClientRect().right>=ia)return ia=na(b.doc,Ka),Z(b,X,b,ia,b.display.gutterSpecs[Xa].className,t),ta(t)}}function Lg(b,t){var X;
(X=Ed(b.display,t))||(X=N(b,"gutterContextMenu")?ci(b,t,"gutterContextMenu",!1):!1);if(!X&&!Q(b,t,"contextmenu")&&!gi)b.display.input.onContextMenu(t)}function Pj(b){b.display.wrapper.className=b.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+b.options.theme.replace(/(^|\s)\s*/g," cm-s-");of(b)}function Qj(b,t,X){!t!=!(X&&X!=qi)&&(X=b.display.dragFunctions,t=t?Se:ja,t(b.display.scroller,"dragstart",X.start),t(b.display.scroller,"dragenter",X.enter),t(b.display.scroller,"dragover",X.over),t(b.display.scroller,
"dragleave",X.leave),t(b.display.scroller,"drop",X.drop))}function ui(b){b.options.lineWrapping?(q(b.display.wrapper,"CodeMirror-wrap"),b.display.sizer.style.minWidth="",b.display.sizerWidth=null):(Df(b.display.wrapper,"CodeMirror-wrap"),xb(b));Qf(b);Bc(b);of(b);setTimeout(function(){return Ia(b)},100)}function mg(b,t){var X=this;if(!(this instanceof mg))return new mg(b,t);this.options=t=t?c(t):{};c(vk,t,!1);var T=t.value;"string"==typeof T?T=new Eg(T,t.mode,null,t.lineSeparator,t.direction):t.mode&&
(T.modeOption=t.mode);this.doc=T;var ia=new mg.inputStyles[t.inputStyle](this);b=this.display=new Ag(b,T,ia,t);b.wrapper.CodeMirror=this;Pj(this);t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");Yb(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Ef,keySeq:null,specialChars:null};t.autofocus&&!Gg&&b.input.focus();vf&&11>Wf&&setTimeout(function(){return X.display.input.reset(!0)},
20);Ti(this);tk||(wd(),tk=!0);Ub(this);this.curOp.forceUpdate=!0;uc(this,T);t.autofocus&&!Gg||this.hasFocus()?setTimeout(function(){X.hasFocus()&&!X.state.focused&&Od(X)},20):od(this);for(var Ka in jj)if(jj.hasOwnProperty(Ka))jj[Ka](this,t[Ka],qi);Of(this);t.finishInit&&t.finishInit(this);for(T=0;T<wk.length;++T)wk[T](this);ic(this);sg&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(b.lineDiv).textRendering&&(b.lineDiv.style.textRendering="auto")}function Ti(b){function t(){T.activeTouch&&
(ia=setTimeout(function(){return T.activeTouch=null},1E3),Ka=T.activeTouch,Ka.end=+new Date)}function X(bb,ub){if(null==ub.left)return!0;var Lb=ub.left-bb.left;bb=ub.top-bb.top;return 400<Lb*Lb+bb*bb}var T=b.display;Se(T.scroller,"mousedown",id(b,oj));vf&&11>Wf?Se(T.scroller,"dblclick",id(b,function(bb){if(!Q(b,bb)){var ub=Jf(b,bb);!ub||ci(b,bb,"gutterClick",!0)||Ed(b.display,bb)||(aa(bb),bb=b.findWordAt(ub),Ud(b.doc,bb.anchor,bb.head))}})):Se(T.scroller,"dblclick",function(bb){return Q(b,bb)||aa(bb)});
Se(T.scroller,"contextmenu",function(bb){return Lg(b,bb)});Se(T.input.getField(),"contextmenu",function(bb){T.scroller.contains(bb.target)||Lg(b,bb)});var ia,Ka={end:0};Se(T.scroller,"touchstart",function(bb){var ub;if(ub=!Q(b,bb))1!=bb.touches.length?ub=!1:(ub=bb.touches[0],ub=1>=ub.radiusX&&1>=ub.radiusY),ub=!ub;ub&&!ci(b,bb,"gutterClick",!0)&&(T.input.ensurePolled(),clearTimeout(ia),ub=+new Date,T.activeTouch={start:ub,moved:!1,prev:300>=ub-Ka.end?Ka:null},1==bb.touches.length&&(T.activeTouch.left=
bb.touches[0].pageX,T.activeTouch.top=bb.touches[0].pageY))});Se(T.scroller,"touchmove",function(){T.activeTouch&&(T.activeTouch.moved=!0)});Se(T.scroller,"touchend",function(bb){var ub=T.activeTouch;if(ub&&!Ed(T,bb)&&null!=ub.left&&!ub.moved&&300>new Date-ub.start){var Lb=b.coordsChar(T.activeTouch,"page");ub=!ub.prev||X(ub,ub.prev)?new Pf(Lb,Lb):!ub.prev.prev||X(ub,ub.prev.prev)?b.findWordAt(Lb):new Pf(Za(Lb.line,0),Ma(b.doc,Za(Lb.line+1,0)));b.setSelection(ub.anchor,ub.head);b.focus();aa(bb)}t()});
Se(T.scroller,"touchcancel",t);Se(T.scroller,"scroll",function(){T.scroller.clientHeight&&(tf(b,T.scroller.scrollTop),Nf(b,T.scroller.scrollLeft,!0),Z(b,"scroll",b))});Se(T.scroller,"mousewheel",function(bb){return wa(b,bb)});Se(T.scroller,"DOMMouseScroll",function(bb){return wa(b,bb)});Se(T.wrapper,"scroll",function(){return T.wrapper.scrollTop=T.wrapper.scrollLeft=0});T.dragFunctions={enter:function(bb){Q(b,bb)||Da(bb)},over:function(bb){if(!Q(b,bb)){var ub=Jf(b,bb);if(ub){var Lb=document.createDocumentFragment();
xc(b,ub,Lb);b.display.dragCursor||(b.display.dragCursor=F("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),b.display.lineSpace.insertBefore(b.display.dragCursor,b.display.cursorDiv));n(b.display.dragCursor,Lb)}Da(bb)}},start:function(bb){if(vf&&(!b.state.draggingText||100>+new Date-Aj))Da(bb);else if(!Q(b,bb)&&!Ed(b.display,bb)&&(bb.dataTransfer.setData("Text",b.getSelection()),bb.dataTransfer.effectAllowed="copyMove",bb.dataTransfer.setDragImage&&!Ei)){var ub=F("img",null,null,"position: fixed; left: 0; top: 0;");
ub.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw\x3d\x3d";Xg&&(ub.width=ub.height=1,b.display.wrapper.appendChild(ub),ub._top=ub.offsetTop);bb.dataTransfer.setDragImage(ub,0,0);Xg&&ub.parentNode.removeChild(ub)}},drop:id(b,se),leave:function(bb){Q(b,bb)||te(b)}};var Xa=T.input.getField();Se(Xa,"keyup",function(bb){return th.call(b,bb)});Se(Xa,"keydown",id(b,$h));Se(Xa,"keypress",id(b,$i));Se(Xa,"focus",function(bb){return Od(b,bb)});Se(Xa,"blur",function(bb){return od(b,
bb)})}function ph(b,t,X,T){var ia=b.doc,Ka;null==X&&(X="add");"smart"==X&&(ia.mode.indent?Ka=vc(b,t).state:X="prev");var Xa=b.options.tabSize,bb=ca(ia,t),ub=e(bb.text,null,Xa);bb.stateAfter&&(bb.stateAfter=null);var Lb=bb.text.match(/^\s*/)[0];if(!T&&!/\S/.test(bb.text)){var cc=0;X="not"}else if("smart"==X&&(cc=ia.mode.indent(Ka,bb.text.slice(Lb.length),bb.text),cc==Kh||150<cc)){if(!T)return;X="prev"}"prev"==X?cc=t>ia.first?e(ca(ia,t-1).text,null,Xa):0:"add"==X?cc=ub+b.options.indentUnit:"subtract"==
X?cc=ub-b.options.indentUnit:"number"==typeof X&&(cc=ub+X);cc=Math.max(0,cc);X="";T=0;if(b.options.indentWithTabs)for(b=Math.floor(cc/Xa);b;--b)T+=Xa,X+="\t";T<cc&&(X+=p(cc-T));if(X!=Lb)return Pc(ia,X,Za(t,0),Za(t,Lb.length),"+input"),bb.stateAfter=null,!0;for(Xa=0;Xa<ia.sel.ranges.length;Xa++)if(bb=ia.sel.ranges[Xa],bb.head.line==t&&bb.head.ch<Lb.length){t=Za(t,Lb.length);Bd(ia,Xa,new Pf(t,t));break}}function Ui(b,t,X,T,ia){var Ka=b.doc;b.display.shift=!1;T||(T=Ka.sel);var Xa=+new Date-200,bb="paste"==
ia||b.state.pasteIncoming>Xa,ub=Mh(t),Lb=null;if(bb&&1<T.ranges.length)if(Yg&&Yg.text.join("\n")==t){if(0==T.ranges.length%Yg.text.length){Lb=[];for(var cc=0;cc<Yg.text.length;cc++)Lb.push(Ka.splitLines(Yg.text[cc]))}}else ub.length==T.ranges.length&&b.options.pasteLinesPerSelection&&(Lb=C(ub,function(be){return[be]}));cc=b.curOp.updateInput;for(var Rc=T.ranges.length-1;0<=Rc;Rc--){var tc=T.ranges[Rc],Ac=tc.from(),td=tc.to();tc.empty()&&(X&&0<X?Ac=Za(Ac.line,Ac.ch-X):b.state.overwrite&&!bb?td=Za(td.line,
Math.min(ca(Ka,td.line).text.length,td.ch+A(ub).length)):bb&&Yg&&Yg.lineWise&&Yg.text.join("\n")==ub.join("\n")&&(Ac=td=Za(Ac.line,0)));tc={from:Ac,to:td,text:Lb?Lb[Rc%Lb.length]:ub,origin:ia||(bb?"paste":b.state.cutIncoming>Xa?"cut":"+input")};gb(b.doc,tc);Dc(b,"inputRead",b,tc)}t&&!bb&&Cg(b,t);Ve(b);2>b.curOp.updateInput&&(b.curOp.updateInput=cc);b.curOp.typing=!0;b.state.pasteIncoming=b.state.cutIncoming=-1}function eg(b,t){var X=b.clipboardData&&b.clipboardData.getData("Text");if(X)return b.preventDefault(),
t.isReadOnly()||t.options.disableInput||oc(t,function(){return Ui(t,X,0,null,"paste")}),!0}function Cg(b,t){if(b.options.electricChars&&b.options.smartIndent)for(var X=b.doc.sel,T=X.ranges.length-1;0<=T;T--){var ia=X.ranges[T];if(!(100<ia.head.ch||T&&X.ranges[T-1].head.line==ia.head.line)){var Ka=b.getModeAt(ia.head),Xa=!1;if(Ka.electricChars)for(var bb=0;bb<Ka.electricChars.length;bb++){if(-1<t.indexOf(Ka.electricChars.charAt(bb))){Xa=ph(b,ia.head.line,"smart");break}}else Ka.electricInput&&Ka.electricInput.test(ca(b.doc,
ia.head.line).text.slice(0,ia.head.ch))&&(Xa=ph(b,ia.head.line,"smart"));Xa&&Dc(b,"electricInput",b,ia.head.line)}}}function ah(b){for(var t=[],X=[],T=0;T<b.doc.sel.ranges.length;T++){var ia=b.doc.sel.ranges[T].head.line;ia={anchor:Za(ia,0),head:Za(ia+1,0)};X.push(ia);t.push(b.getRange(ia.anchor,ia.head))}return{text:t,ranges:X}}function vi(b,t,X,T){b.setAttribute("autocorrect",X?"":"off");b.setAttribute("autocapitalize",T?"":"off");b.setAttribute("spellcheck",!!t)}function Th(){var b=F("textarea",
null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=F("div",[b],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");sg?b.style.width="1000px":b.setAttribute("wrap","off");Si&&(b.style.border="1px solid black");vi(b);return t}function bk(b,t,X,T,ia){function Ka(be){if("codepoint"==T){var Re=ub.text.charCodeAt(t.ch+(0<X?0:-1));Re=isNaN(Re)?null:new Za(t.line,Math.max(0,Math.min(ub.text.length,t.ch+X*((0<X?55296<=Re&&56320>Re:56320<=
Re&&57343>Re)?2:1))),-X)}else Re=ia?Kk(b.cm,ub,t,X):Rh(ub,t,X);if(null==Re){if(be=!be)be=t.line+Lb,be<b.first||be>=b.first+b.size?be=!1:(t=new Za(be,t.ch,t.sticky),be=ub=ca(b,be));if(be)t=mk(ia,b.cm,ub,t.line,Lb);else return!1}else t=Re;return!0}var Xa=t,bb=X,ub=ca(b,t.line),Lb=ia&&"rtl"==b.direction?-X:X;if("char"==T||"codepoint"==T)Ka();else if("column"==T)Ka(!0);else if("word"==T||"group"==T)for(var cc=null,Rc="group"==T,tc=b.cm&&b.cm.getHelper(t,"wordChars"),Ac=!0;!(0>X)||Ka(!Ac);Ac=!1){var td=
ub.text.charAt(t.ch)||"\n";td=z(td,tc)?"w":Rc&&"\n"==td?"n":!Rc||/\s/.test(td)?null:"p";!Rc||Ac||td||(td="s");if(cc&&cc!=td){0>X&&(X=1,Ka(),t.sticky="after");break}td&&(cc=td);if(0<X&&!Ka(!Ac))break}bb=w(b,t,Xa,bb,!0);Fa(Xa,bb)&&(bb.hitSide=!0);return bb}function hj(b,t,X,T){var ia=b.doc,Ka=t.left;if("page"==T){var Xa=Math.max(Math.min(b.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight)-.5*De(b.display),3);Xa=(0<X?t.bottom:t.top)+X*Xa}else"line"==T&&(Xa=0<X?t.bottom+
3:t.top-3);for(;;){t=Qd(b,Ka,Xa);if(!t.outside)break;if(0>X?0>=Xa:Xa>=ia.height){t.hitSide=!0;break}Xa+=5*X}return t}function ak(b,t){var X=Ze(b,t.line);if(!X||X.hidden)return null;var T=ca(b.doc,t.line);X=ff(X,T,t.line);b=da(T,b.doc.direction);T="left";b&&(T=ba(b,t.ch)%2?"right":"left");t=ge(X.map,t.ch,T);t.offset="right"==t.collapse?t.end:t.start;return t}function Zj(b){for(;b;b=b.parentNode)if(/CodeMirror-gutter-wrapper/.test(b.className))return!0;return!1}function rg(b,t){t&&(b.bad=!0);return b}
function Rj(b,t,X,T,ia){function Ka(Ac){return function(td){return td.id==Ac}}function Xa(){cc&&(Lb+=Rc,tc&&(Lb+=Rc),cc=tc=!1)}function bb(Ac){Ac&&(Xa(),Lb+=Ac)}function ub(Ac){if(1==Ac.nodeType){var td=Ac.getAttribute("cm-text");if(td)bb(td);else{td=Ac.getAttribute("cm-marker");var be;if(td)Ac=b.findMarks(Za(T,0),Za(ia+1,0),Ka(+td)),Ac.length&&(be=Ac[0].find(0))&&bb(fa(b.doc,be.from,be.to).join(Rc));else if("false"!=Ac.getAttribute("contenteditable")&&(be=/^(pre|div|p|li|table|br)$/i.test(Ac.nodeName),
/^br$/i.test(Ac.nodeName)||0!=Ac.textContent.length)){be&&Xa();for(td=0;td<Ac.childNodes.length;td++)ub(Ac.childNodes[td]);/^(pre|p)$/i.test(Ac.nodeName)&&(tc=!0);be&&(cc=!0)}}}else 3==Ac.nodeType&&bb(Ac.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(var Lb="",cc=!1,Rc=b.doc.lineSeparator(),tc=!1;;){ub(t);if(t==X)break;t=t.nextSibling;tc=!1}return Lb}function $g(b,t,X){if(t==b.display.lineDiv){var T=b.display.lineDiv.childNodes[X];if(!T)return rg(b.clipPos(Za(b.display.viewTo-1)),!0);
t=null;X=0}else for(T=t;;T=T.parentNode){if(!T||T==b.display.lineDiv)return null;if(T.parentNode&&T.parentNode==b.display.lineDiv)break}for(var ia=0;ia<b.display.view.length;ia++){var Ka=b.display.view[ia];if(Ka.node==T)return Ji(Ka,t,X)}}function Ji(b,t,X){function T(cc,Rc,tc){for(var Ac=-1;Ac<(Lb?Lb.length:0);Ac++)for(var td=0>Ac?ub.map:Lb[Ac],be=0;be<td.length;be+=3){var Re=td[be+2];if(Re==cc||Re==Rc){Rc=Ga(0>Ac?b.line:b.rest[Ac]);Ac=td[be]+tc;if(0>tc||Re!=cc)Ac=td[be+(tc?1:0)];return Za(Rc,Ac)}}}
var ia=b.text.firstChild,Ka=!1;if(!t||!x(ia,t))return rg(Za(Ga(b.line),0),!0);if(t==ia&&(Ka=!0,t=ia.childNodes[X],X=0,!t))return X=b.rest?A(b.rest):b.line,rg(Za(Ga(X),X.text.length),Ka);var Xa=3==t.nodeType?t:null,bb=t;Xa||1!=t.childNodes.length||3!=t.firstChild.nodeType||(Xa=t.firstChild,X&&(X=Xa.nodeValue.length));for(;bb.parentNode!=ia;)bb=bb.parentNode;var ub=b.measure,Lb=ub.maps;if(t=T(Xa,bb,X))return rg(t,Ka);ia=bb.nextSibling;for(Xa=Xa?Xa.nodeValue.length-X:0;ia;ia=ia.nextSibling){if(t=T(ia,
ia.firstChild,0))return rg(Za(t.line,t.ch-Xa),Ka);Xa+=ia.textContent.length}for(bb=bb.previousSibling;bb;bb=bb.previousSibling){if(t=T(bb,bb.firstChild,-1))return rg(Za(t.line,t.ch+X),Ka);X+=bb.textContent.length}}var ug=navigator.userAgent,Hg=navigator.platform,vh=/gecko\/\d/i.test(ug),Vh=/MSIE \d/.test(ug),qh=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ug),fi=/Edge\/(\d+)/.exec(ug),vf=Vh||qh||fi,Wf=vf&&(Vh?document.documentMode||6:+(fi||qh)[1]),sg=!fi&&/WebKit\//.test(ug),wi=sg&&/Qt\/\d+\.\d+/.test(ug),
xi=!fi&&/Chrome\//.test(ug),Xg=/Opera\//.test(ug),Ei=/Apple Computer/.test(navigator.vendor),Nj=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(ug),Oj=/PhantomJS/.test(ug),Si=Ei&&(/Mobile\/\w+/.test(ug)||2<navigator.maxTouchPoints),yg=/Android/.test(ug),Gg=Si||yg||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(ug),Wg=Si||/Mac/.test(Hg),yj=/\bCrOS\b/.test(ug),pj=/win/i.test(Hg),hh=Xg&&ug.match(/Version\/(\d*\.\d*)/);hh&&(hh=Number(hh[1]));hh&&15<=hh&&(Xg=!1,sg=!0);var Ij=Wg&&(wi||Xg&&(null==hh||12.11>
hh)),gi=vh||vf&&9<=Wf,Df=function(b,t){var X=b.className;if(t=g(t).exec(X)){var T=X.slice(t.index+t[0].length);b.className=X.slice(0,t.index)+(T?t[1]+T:"")}};var hi=document.createRange?function(b,t,X,T){var ia=document.createRange();ia.setEnd(T||b,X);ia.setStart(b,t);return ia}:function(b,t,X){var T=document.body.createTextRange();try{T.moveToElementText(b.parentNode)}catch(ia){return T}T.collapse(!0);T.moveEnd("character",X);T.moveStart("character",t);return T};var vg=function(b){b.select()};Si?
vg=function(b){b.selectionStart=0;b.selectionEnd=b.value.length}:vf&&(vg=function(b){try{b.select()}catch(t){}});var Ef=function(){this.f=this.id=null;this.time=0;this.handler=h(this.onTimeout,this)};Ef.prototype.onTimeout=function(b){b.id=0;b.time<=+new Date?b.f():setTimeout(b.handler,b.time-+new Date)};Ef.prototype.set=function(b,t){this.f=t;t=+new Date+b;if(!this.id||t<this.time)clearTimeout(this.id),this.id=setTimeout(this.handler,b),this.time=t};var Kh={toString:function(){return"CodeMirror.Pass"}},
wh={scroll:!1},Oh={origin:"*mouse"},Lh={origin:"+move"},Ci=[""],Fh=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,yi=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,
ii=null,Vi=function(){function b(bb){return 247>=bb?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(bb):1424<=bb&&1524>=bb?"R":1536<=bb&&1785>=bb?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(bb-
1536):1774<=bb&&2220>=bb?"r":8192<=bb&&8203>=bb?"w":8204==bb?"b":"L"}function t(bb,ub,Lb){this.level=bb;this.from=ub;this.to=Lb}var X=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,T=/[stwN]/,ia=/[LRr]/,Ka=/[Lb1n]/,Xa=/[1n]/;return function(bb,ub){var Lb="ltr"==ub?"L":"R";if(0==bb.length||"ltr"==ub&&!X.test(bb))return!1;for(var cc=bb.length,Rc=[],tc=0;tc<cc;++tc)Rc.push(b(bb.charCodeAt(tc)));tc=0;for(var Ac=Lb;tc<cc;++tc){var td=Rc[tc];"m"==td?Rc[tc]=Ac:Ac=td}tc=0;for(Ac=Lb;tc<cc;++tc)td=Rc[tc],"1"==
td&&"r"==Ac?Rc[tc]="n":ia.test(td)&&(Ac=td,"r"==td&&(Rc[tc]="R"));tc=1;for(Ac=Rc[0];tc<cc-1;++tc)td=Rc[tc],"+"==td&&"1"==Ac&&"1"==Rc[tc+1]?Rc[tc]="1":","!=td||Ac!=Rc[tc+1]||"1"!=Ac&&"n"!=Ac||(Rc[tc]=Ac),Ac=td;for(tc=0;tc<cc;++tc)if(Ac=Rc[tc],","==Ac)Rc[tc]="N";else if("%"==Ac){for(Ac=tc+1;Ac<cc&&"%"==Rc[Ac];++Ac);for(td=tc&&"!"==Rc[tc-1]||Ac<cc&&"1"==Rc[Ac]?"1":"N";tc<Ac;++tc)Rc[tc]=td;tc=Ac-1}tc=0;for(Ac=Lb;tc<cc;++tc)td=Rc[tc],"L"==Ac&&"1"==td?Rc[tc]="L":ia.test(td)&&(Ac=td);for(Ac=0;Ac<cc;++Ac)if(T.test(Rc[Ac])){for(tc=
Ac+1;tc<cc&&T.test(Rc[tc]);++tc);td="L"==(Ac?Rc[Ac-1]:Lb);for(td=td==("L"==(tc<cc?Rc[tc]:Lb))?td?"L":"R":Lb;Ac<tc;++Ac)Rc[Ac]=td;Ac=tc-1}Lb=[];var be;for(tc=0;tc<cc;)if(Ka.test(Rc[tc])){Ac=tc;for(++tc;tc<cc&&Ka.test(Rc[tc]);++tc);Lb.push(new t(0,Ac,tc))}else{var Re=tc;Ac=Lb.length;td="rtl"==ub?1:0;for(++tc;tc<cc&&"L"!=Rc[tc];++tc);for(var ef=Re;ef<tc;)if(Xa.test(Rc[ef])){Re<ef&&(Lb.splice(Ac,0,new t(1,Re,ef)),Ac+=td);Re=ef;for(++ef;ef<tc&&Xa.test(Rc[ef]);++ef);Lb.splice(Ac,0,new t(2,Re,ef));Ac+=td;
Re=ef}else++ef;Re<tc&&Lb.splice(Ac,0,new t(1,Re,tc))}"ltr"==ub&&(1==Lb[0].level&&(be=bb.match(/^\s+/))&&(Lb[0].from=be[0].length,Lb.unshift(new t(0,0,be[0].length))),1==A(Lb).level&&(be=bb.match(/\s+$/))&&(A(Lb).to-=be[0].length,Lb.push(new t(0,cc-be[0].length,cc))));return"rtl"==ub?Lb.reverse():Lb}}(),zi=[],Se=function(b,t,X){b.addEventListener?b.addEventListener(t,X,!1):b.attachEvent?b.attachEvent("on"+t,X):(b=b._handlers||(b._handlers={}),b[t]=(b[t]||zi).concat(X))},zj=function(){if(vf&&9>Wf)return!1;
var b=F("div");return"draggable"in b||"dragDrop"in b}(),jh,ih,Mh=3!="\n\nb".split(/\n/).length?function(b){for(var t=0,X=[],T=b.length;t<=T;){var ia=b.indexOf("\n",t);-1==ia&&(ia=b.length);var Ka=b.slice(t,"\r"==b.charAt(ia-1)?ia-1:ia),Xa=Ka.indexOf("\r");-1!=Xa?(X.push(Ka.slice(0,Xa)),t+=Xa+1):(X.push(Ka),t=ia+1)}return X}:function(b){return b.split(/\r\n?|\n/)},Nh=window.getSelection?function(b){try{return b.selectionStart!=b.selectionEnd}catch(t){return!1}}:function(b){try{var t=b.ownerDocument.selection.createRange()}catch(X){}return t&&
t.parentElement()==b?0!=t.compareEndPoints("StartToEnd",t):!1},Wh=function(){var b=F("div");if("oncopy"in b)return!0;b.setAttribute("oncopy","return;");return"function"==typeof b.oncopy}(),ji=null,Ai={},oi={},xh={},tg=function(b,t,X){this.pos=this.start=0;this.string=b;this.tabSize=t||8;this.lineStart=this.lastColumnPos=this.lastColumnValue=0;this.lineOracle=X};tg.prototype.eol=function(){return this.pos>=this.string.length};tg.prototype.sol=function(){return this.pos==this.lineStart};tg.prototype.peek=
function(){return this.string.charAt(this.pos)||void 0};tg.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)};tg.prototype.eat=function(b){var t=this.string.charAt(this.pos);if("string"==typeof b?t==b:t&&(b.test?b.test(t):b(t)))return++this.pos,t};tg.prototype.eatWhile=function(b){for(var t=this.pos;this.eat(b););return this.pos>t};tg.prototype.eatSpace=function(){for(var b=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>
b};tg.prototype.skipToEnd=function(){this.pos=this.string.length};tg.prototype.skipTo=function(b){b=this.string.indexOf(b,this.pos);if(-1<b)return this.pos=b,!0};tg.prototype.backUp=function(b){this.pos-=b};tg.prototype.column=function(){this.lastColumnPos<this.start&&(this.lastColumnValue=e(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start);return this.lastColumnValue-(this.lineStart?e(this.string,this.lineStart,this.tabSize):0)};tg.prototype.indentation=
function(){return e(this.string,null,this.tabSize)-(this.lineStart?e(this.string,this.lineStart,this.tabSize):0)};tg.prototype.match=function(b,t,X){if("string"==typeof b){var T=function(Ka){return X?Ka.toLowerCase():Ka},ia=this.string.substr(this.pos,b.length);if(T(ia)==T(b))return!1!==t&&(this.pos+=b.length),!0}else{if((b=this.string.slice(this.pos).match(b))&&0<b.index)return null;b&&!1!==t&&(this.pos+=b[0].length);return b}};tg.prototype.current=function(){return this.string.slice(this.start,
this.pos)};tg.prototype.hideFirstChars=function(b,t){this.lineStart+=b;try{return t()}finally{this.lineStart-=b}};tg.prototype.lookAhead=function(b){var t=this.lineOracle;return t&&t.lookAhead(b)};tg.prototype.baseToken=function(){var b=this.lineOracle;return b&&b.baseToken(this.pos)};var Bi=function(b,t){this.state=b;this.lookAhead=t},yh=function(b,t,X,T){this.state=t;this.doc=b;this.line=X;this.maxLookAhead=T||0;this.baseTokens=null;this.baseTokenPos=1};yh.prototype.lookAhead=function(b){var t=
this.doc.getLine(this.line+b);null!=t&&b>this.maxLookAhead&&(this.maxLookAhead=b);return t};yh.prototype.baseToken=function(b){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=b;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-b}};yh.prototype.nextLine=function(){this.line++;0<this.maxLookAhead&&this.maxLookAhead--};yh.fromSaved=function(b,t,X){return t instanceof Bi?new yh(b,
ua(b.mode,t.state),X,t.lookAhead):new yh(b,ua(b.mode,t),X)};yh.prototype.save=function(b){b=!1!==b?ua(this.doc.mode,this.state):this.state;return 0<this.maxLookAhead?new Bi(b,this.maxLookAhead):b};var kj=function(b,t,X){this.start=b.start;this.end=b.pos;this.string=b.current();this.type=t||null;this.state=X},Bj=!1,zh=!1,li=function(b,t,X){this.text=b;Sc(this,t);this.height=X?X(this):1};li.prototype.lineNo=function(){return Ga(this)};ea(li);var ki={},Sj={},Gh=null,Xf=null,Xh={left:0,right:0,top:0,
bottom:0},mi,ni=function(b,t,X){this.cm=X;var T=this.vert=F("div",[F("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),ia=this.horiz=F("div",[F("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");T.tabIndex=ia.tabIndex=-1;b(T);b(ia);Se(T,"scroll",function(){T.clientHeight&&t(T.scrollTop,"vertical")});Se(ia,"scroll",function(){ia.clientWidth&&t(ia.scrollLeft,"horizontal")});this.checkedZeroWidth=!1;vf&&8>Wf&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};
ni.prototype.update=function(b){var t=b.scrollWidth>b.clientWidth+1,X=b.scrollHeight>b.clientHeight+1,T=b.nativeBarWidth;X?(this.vert.style.display="block",this.vert.style.bottom=t?T+"px":"0",this.vert.firstChild.style.height=Math.max(0,b.scrollHeight-b.clientHeight+(b.viewHeight-(t?T:0)))+"px"):(this.vert.style.display="",this.vert.firstChild.style.height="0");t?(this.horiz.style.display="block",this.horiz.style.right=X?T+"px":"0",this.horiz.style.left=b.barLeft+"px",this.horiz.firstChild.style.width=
Math.max(0,b.scrollWidth-b.clientWidth+(b.viewWidth-b.barLeft-(X?T:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0");!this.checkedZeroWidth&&0<b.clientHeight&&(0==T&&this.zeroWidthHack(),this.checkedZeroWidth=!0);return{right:X?T:0,bottom:t?T:0}};ni.prototype.setScrollLeft=function(b){this.horiz.scrollLeft!=b&&(this.horiz.scrollLeft=b);this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")};ni.prototype.setScrollTop=function(b){this.vert.scrollTop!=
b&&(this.vert.scrollTop=b);this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")};ni.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=Wg&&!Nj?"12px":"18px";this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none";this.disableHoriz=new Ef;this.disableVert=new Ef};ni.prototype.enableZeroWidthBar=function(b,t,X){function T(){var ia=b.getBoundingClientRect();("vert"==X?document.elementFromPoint(ia.right-1,(ia.top+ia.bottom)/2):document.elementFromPoint((ia.right+
ia.left)/2,ia.bottom-1))!=b?b.style.pointerEvents="none":t.set(1E3,T)}b.style.pointerEvents="auto";t.set(1E3,T)};ni.prototype.clear=function(){var b=this.horiz.parentNode;b.removeChild(this.horiz);b.removeChild(this.vert)};var ij=function(){};ij.prototype.update=function(){return{bottom:0,right:0}};ij.prototype.setScrollLeft=function(){};ij.prototype.setScrollTop=function(){};ij.prototype.clear=function(){};var Ck={"native":ni,"null":ij},Wi=0,rh=function(b,t,X){var T=b.display;this.viewport=t;this.visible=
lf(T,b.doc,t);this.editorIsHidden=!T.wrapper.offsetWidth;this.wrapperHeight=T.wrapper.clientHeight;this.wrapperWidth=T.wrapper.clientWidth;this.oldDisplayWidth=Ce(b);this.force=X;this.dims=gf(b);this.events=[]};rh.prototype.signal=function(b,t){N(b,t)&&this.events.push(arguments)};rh.prototype.finish=function(){for(var b=0;b<this.events.length;b++)Z.apply(null,this.events[b])};var pi=0,Ig=null;vf?Ig=-.53:vh?Ig=15:xi?Ig=-.7:Ei&&(Ig=-1/3);var Mg=function(b,t){this.ranges=b;this.primIndex=t};Mg.prototype.primary=
function(){return this.ranges[this.primIndex]};Mg.prototype.equals=function(b){if(b==this)return!0;if(b.primIndex!=this.primIndex||b.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var X=this.ranges[t],T=b.ranges[t];if(!Fa(X.anchor,T.anchor)||!Fa(X.head,T.head))return!1}return!0};Mg.prototype.deepCopy=function(){for(var b=[],t=0;t<this.ranges.length;t++)b[t]=new Pf(Ra(this.ranges[t].anchor),Ra(this.ranges[t].head));return new Mg(b,this.primIndex)};Mg.prototype.somethingSelected=
function(){for(var b=0;b<this.ranges.length;b++)if(!this.ranges[b].empty())return!0;return!1};Mg.prototype.contains=function(b,t){t||(t=b);for(var X=0;X<this.ranges.length;X++){var T=this.ranges[X];if(0<=Aa(t,T.from())&&0>=Aa(b,T.to()))return X}return-1};var Pf=function(b,t){this.anchor=b;this.head=t};Pf.prototype.from=function(){return lb(this.anchor,this.head)};Pf.prototype.to=function(){return ab(this.anchor,this.head)};Pf.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==
this.anchor.ch};Kc.prototype={chunkSize:function(){return this.lines.length},removeInner:function(b,t){for(var X=b,T=b+t;X<T;++X){var ia=this.lines[X];this.height-=ia.height;var Ka=ia;Ka.parent=null;vd(Ka);Dc(ia,"delete")}this.lines.splice(b,t)},collapse:function(b){b.push.apply(b,this.lines)},insertInner:function(b,t,X){this.height+=X;this.lines=this.lines.slice(0,b).concat(t).concat(this.lines.slice(b));for(b=0;b<t.length;++b)t[b].parent=this},iterN:function(b,t,X){for(t=b+t;b<t;++b)if(X(this.lines[b]))return!0}};
ud.prototype={chunkSize:function(){return this.size},removeInner:function(b,t){this.size-=t;for(var X=0;X<this.children.length;++X){var T=this.children[X],ia=T.chunkSize();if(b<ia){var Ka=Math.min(t,ia-b),Xa=T.height;T.removeInner(b,Ka);this.height-=Xa-T.height;ia==Ka&&(this.children.splice(X--,1),T.parent=null);if(0==(t-=Ka))break;b=0}else b-=ia}25>this.size-t&&(1<this.children.length||!(this.children[0]instanceof Kc))&&(b=[],this.collapse(b),this.children=[new Kc(b)],this.children[0].parent=this)},
collapse:function(b){for(var t=0;t<this.children.length;++t)this.children[t].collapse(b)},insertInner:function(b,t,X){this.size+=t.length;this.height+=X;for(var T=0;T<this.children.length;++T){var ia=this.children[T],Ka=ia.chunkSize();if(b<=Ka){ia.insertInner(b,t,X);if(ia.lines&&50<ia.lines.length){for(t=b=ia.lines.length%25+25;t<ia.lines.length;)X=new Kc(ia.lines.slice(t,t+=25)),ia.height-=X.height,this.children.splice(++T,0,X),X.parent=this;ia.lines=ia.lines.slice(0,b);this.maybeSpill()}break}b-=
Ka}},maybeSpill:function(){if(!(10>=this.children.length)){var b=this;do{var t=b.children.splice(b.children.length-5,5);t=new ud(t);if(b.parent){b.size-=t.size;b.height-=t.height;var X=a(b.parent.children,b);b.parent.children.splice(X+1,0,t)}else X=new ud(b.children),X.parent=b,b.children=[X,t],b=X;t.parent=b.parent}while(10<b.children.length);b.parent.maybeSpill()}},iterN:function(b,t,X){for(var T=0;T<this.children.length;++T){var ia=this.children[T],Ka=ia.chunkSize();if(b<Ka){Ka=Math.min(t,Ka-b);
if(ia.iterN(b,Ka,X))return!0;if(0==(t-=Ka))break;b=0}else b-=Ka}}};var Uh=function(b,t,X){if(X)for(var T in X)X.hasOwnProperty(T)&&(this[T]=X[T]);this.doc=b;this.node=t};Uh.prototype.clear=function(){var b=this.doc.cm,t=this.line.widgets,X=this.line,T=Ga(X);if(null!=T&&t){for(var ia=0;ia<t.length;++ia)t[ia]==this&&t.splice(ia--,1);t.length||(X.widgets=null);var Ka=Cd(this);pa(X,Math.max(0,X.height-Ka));b&&(oc(b,function(){var Xa=-Ka;Ja(X)<(b.curOp&&b.curOp.scrollTop||b.doc.scrollTop)&&ee(b,Xa);xa(b,
T,"widget")}),Dc(b,"lineWidgetCleared",b,this,T))}};Uh.prototype.changed=function(){var b=this,t=this.height,X=this.doc.cm,T=this.line;this.height=null;var ia=Cd(this)-t;ia&&(Gd(this.doc,T)||pa(T,T.height+ia),X&&oc(X,function(){X.curOp.forceUpdate=!0;Ja(T)<(X.curOp&&X.curOp.scrollTop||X.doc.scrollTop)&&ee(X,ia);Dc(X,"lineWidgetChanged",X,b,Ga(T))}))};ea(Uh);var dk=0,Hh=function(b,t){this.lines=[];this.type=t;this.doc=b;this.id=++dk};Hh.prototype.clear=function(){if(!this.explicitlyCleared){var b=
this.doc.cm,t=b&&!b.curOp;t&&Ub(b);if(N(this,"clear")){var X=this.find();X&&Dc(this,"clear",X.from,X.to)}for(var T=X=null,ia=0;ia<this.lines.length;++ia){var Ka=this.lines[ia],Xa=Uc(Ka.markedSpans,this);b&&!this.collapsed?xa(b,Ga(Ka),"text"):b&&(null!=Xa.to&&(T=Ga(Ka)),null!=Xa.from&&(X=Ga(Ka)));for(var bb=Ka,ub=void 0,Lb=Ka.markedSpans,cc=Xa,Rc=0;Rc<Lb.length;++Rc)Lb[Rc]!=cc&&(ub||(ub=[])).push(Lb[Rc]);bb.markedSpans=ub;null==Xa.from&&this.collapsed&&!Gd(this.doc,Ka)&&b&&pa(Ka,De(b.display))}if(b&&
this.collapsed&&!b.options.lineWrapping)for(ia=0;ia<this.lines.length;++ia)Ka=Ib(this.lines[ia]),Xa=eb(Ka),Xa>b.display.maxLineLength&&(b.display.maxLine=Ka,b.display.maxLineLength=Xa,b.display.maxLineChanged=!0);null!=X&&b&&this.collapsed&&Bc(b,X,T+1);this.lines.length=0;this.explicitlyCleared=!0;this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,b&&Ob(b.doc));b&&Dc(b,"markerCleared",b,this,X,T);t&&ic(b);this.parent&&this.parent.clear()}};Hh.prototype.find=function(b,t){null==b&&"bookmark"==this.type&&
(b=1);for(var X,T,ia=0;ia<this.lines.length;++ia){var Ka=this.lines[ia],Xa=Uc(Ka.markedSpans,this);if(null!=Xa.from&&(X=Za(t?Ka:Ga(Ka),Xa.from),-1==b))return X;if(null!=Xa.to&&(T=Za(t?Ka:Ga(Ka),Xa.to),1==b))return T}return X&&{from:X,to:T}};Hh.prototype.changed=function(){var b=this,t=this.find(-1,!0),X=this,T=this.doc.cm;t&&T&&oc(T,function(){var ia=t.line,Ka=Ga(t.line);if(Ka=Ze(T,Ka))yf(Ka),T.curOp.selectionChanged=T.curOp.forceUpdate=!0;T.curOp.updateMaxLine=!0;Gd(X.doc,ia)||null==X.height||(Ka=
X.height,X.height=null,(Ka=Cd(X)-Ka)&&pa(ia,ia.height+Ka));Dc(T,"markerChanged",T,b)})};Hh.prototype.attachLine=function(b){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=a(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(b)};Hh.prototype.detachLine=function(b){this.lines.splice(a(this.lines,b),1);!this.lines.length&&this.doc.cm&&(b=this.doc.cm.curOp,(b.maybeHiddenMarkers||(b.maybeHiddenMarkers=[])).push(this))};
ea(Hh);var di=function(b,t){this.markers=b;this.primary=t;for(t=0;t<b.length;++t)b[t].parent=this};di.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var b=0;b<this.markers.length;++b)this.markers[b].clear();Dc(this,"clear")}};di.prototype.find=function(b,t){return this.primary.find(b,t)};ea(di);var bj=0,Eg=function(b,t,X,T,ia){if(!(this instanceof Eg))return new Eg(b,t,X,T,ia);null==X&&(X=0);ud.call(this,[new Kc([new li("",null)])]);this.first=X;this.scrollTop=
this.scrollLeft=0;this.cantEdit=!1;this.cleanGeneration=1;this.modeFrontier=this.highlightFrontier=X;X=Za(X,0);this.sel=Na(X);this.history=new Pa(null);this.id=++bj;this.modeOption=t;this.lineSep=T;this.direction="rtl"==ia?"rtl":"ltr";this.extend=!1;"string"==typeof b&&(b=this.splitLines(b));Mb(this,{from:X,to:X,text:b});Va(this,Na(X),wh)};Eg.prototype=L(ud.prototype,{constructor:Eg,iter:function(b,t,X){X?this.iterN(b-this.first,t-b,X):this.iterN(this.first,this.first+this.size,b)},insert:function(b,
t){for(var X=0,T=0;T<t.length;++T)X+=t[T].height;this.insertInner(b-this.first,t,X)},remove:function(b,t){this.removeInner(b-this.first,t)},getValue:function(b){var t=qa(this,this.first,this.first+this.size);return!1===b?t:t.join(b||this.lineSeparator())},setValue:gd(function(b){var t=Za(this.first,0),X=this.first+this.size-1;gb(this,{from:t,to:Za(X,ca(this,X).text.length),text:this.splitLines(b),origin:"setValue",full:!0},!0);this.cm&&ce(this.cm,0,0);Va(this,Na(t),wh)}),replaceRange:function(b,t,
X,T){t=Ma(this,t);X=X?Ma(this,X):t;Pc(this,b,t,X,T)},getRange:function(b,t,X){b=fa(this,Ma(this,b),Ma(this,t));return!1===X?b:b.join(X||this.lineSeparator())},getLine:function(b){return(b=this.getLineHandle(b))&&b.text},getLineHandle:function(b){if(Oa(this,b))return ca(this,b)},getLineNumber:function(b){return Ga(b)},getLineHandleVisualStart:function(b){"number"==typeof b&&(b=ca(this,b));return Ib(b)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+
this.size-1},clipPos:function(b){return Ma(this,b)},getCursor:function(b){var t=this.sel.primary();return null==b||"head"==b?t.head:"anchor"==b?t.anchor:"end"==b||"to"==b||!1===b?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:gd(function(b,t,X){b=Ma(this,"number"==typeof b?Za(b,t||0):b);Va(this,Na(b,null),X)}),setSelection:gd(function(b,t,X){var T=Ma(this,b);b=Ma(this,t||b);Va(this,Na(T,b),X)}),extendSelection:gd(function(b,
t,X){Ud(this,Ma(this,b),t&&Ma(this,t),X)}),extendSelections:gd(function(b,t){pd(this,nb(this,b),t)}),extendSelectionsBy:gd(function(b,t){b=C(this.sel.ranges,b);pd(this,nb(this,b),t)}),setSelections:gd(function(b,t,X){if(b.length){for(var T=[],ia=0;ia<b.length;ia++)T[ia]=new Pf(Ma(this,b[ia].anchor),Ma(this,b[ia].head));null==t&&(t=Math.min(b.length-1,this.sel.primIndex));Va(this,ya(this.cm,T,t),X)}}),addSelection:gd(function(b,t,X){var T=this.sel.ranges.slice(0);T.push(new Pf(Ma(this,b),Ma(this,t||
b)));Va(this,ya(this.cm,T,T.length-1),X)}),getSelection:function(b){for(var t=this.sel.ranges,X,T=0;T<t.length;T++){var ia=fa(this,t[T].from(),t[T].to());X=X?X.concat(ia):ia}return!1===b?X:X.join(b||this.lineSeparator())},getSelections:function(b){for(var t=[],X=this.sel.ranges,T=0;T<X.length;T++){var ia=fa(this,X[T].from(),X[T].to());!1!==b&&(ia=ia.join(b||this.lineSeparator()));t[T]=ia}return t},replaceSelection:function(b,t,X){for(var T=[],ia=0;ia<this.sel.ranges.length;ia++)T[ia]=b;this.replaceSelections(T,
t,X||"+input")},replaceSelections:gd(function(b,t,X){for(var T=[],ia=this.sel,Ka=0;Ka<ia.ranges.length;Ka++){var Xa=ia.ranges[Ka];T[Ka]={from:Xa.from(),to:Xa.to(),text:this.splitLines(b[Ka]),origin:X}}if(b=t&&"end"!=t){b=[];ia=X=Za(this.first,0);for(Ka=0;Ka<T.length;Ka++){var bb=T[Ka];Xa=sb(bb.from,X,ia);var ub=sb(Sa(bb),X,ia);X=bb.to;ia=ub;"around"==t?(bb=this.sel.ranges[Ka],bb=0>Aa(bb.head,bb.anchor),b[Ka]=new Pf(bb?ub:Xa,bb?Xa:ub)):b[Ka]=new Pf(Xa,Xa)}b=new Mg(b,this.sel.primIndex)}t=b;for(b=T.length-
1;0<=b;b--)gb(this,T[b]);t?cf(this,t):this.cm&&Ve(this.cm)}),undo:gd(function(){tb(this,"undo")}),redo:gd(function(){tb(this,"redo")}),undoSelection:gd(function(){tb(this,"undo",!0)}),redoSelection:gd(function(){tb(this,"redo",!0)}),setExtending:function(b){this.extend=b},getExtending:function(){return this.extend},historySize:function(){for(var b=this.history,t=0,X=0,T=0;T<b.done.length;T++)b.done[T].ranges||++t;for(T=0;T<b.undone.length;T++)b.undone[T].ranges||++X;return{undo:t,redo:X}},clearHistory:function(){var b=
this;this.history=new Pa(this.history);dc(this,function(t){return t.history=b.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(b){b&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null);return this.history.generation},isClean:function(b){return this.history.generation==(b||this.cleanGeneration)},getHistory:function(){return{done:Zc(this.history.done),undone:Zc(this.history.undone)}},setHistory:function(b){var t=this.history=
new Pa(this.history);t.done=Zc(b.done.slice(0),null,!0);t.undone=Zc(b.undone.slice(0),null,!0)},setGutterMarker:gd(function(b,t,X){return bd(this,b,"gutter",function(T){var ia=T.gutterMarkers||(T.gutterMarkers={});ia[t]=X;!X&&J(ia)&&(T.gutterMarkers=null);return!0})}),clearGutter:gd(function(b){var t=this;this.iter(function(X){X.gutterMarkers&&X.gutterMarkers[b]&&bd(t,X,"gutter",function(){X.gutterMarkers[b]=null;J(X.gutterMarkers)&&(X.gutterMarkers=null);return!0})})}),lineInfo:function(b){if("number"==
typeof b){if(!Oa(this,b))return null;var t=b;b=ca(this,b);if(!b)return null}else if(t=Ga(b),null==t)return null;return{line:t,handle:b,text:b.text,gutterMarkers:b.gutterMarkers,textClass:b.textClass,bgClass:b.bgClass,wrapClass:b.wrapClass,widgets:b.widgets}},addLineClass:gd(function(b,t,X){return bd(this,b,"gutter"==t?"gutter":"class",function(T){var ia="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(T[ia]){if(g(X).test(T[ia]))return!1;T[ia]+=" "+X}else T[ia]=
X;return!0})}),removeLineClass:gd(function(b,t,X){return bd(this,b,"gutter"==t?"gutter":"class",function(T){var ia="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",Ka=T[ia];if(Ka)if(null==X)T[ia]=null;else{var Xa=Ka.match(g(X));if(!Xa)return!1;var bb=Xa.index+Xa[0].length;T[ia]=Ka.slice(0,Xa.index)+(Xa.index&&bb!=Ka.length?" ":"")+Ka.slice(bb)||null}else return!1;return!0})}),addLineWidget:gd(function(b,t,X){return de(this,b,t,X)}),removeLineWidget:function(b){b.clear()},
markText:function(b,t,X){return Sd(this,Ma(this,b),Ma(this,t),X,X&&X.type||"range")},setBookmark:function(b,t){t={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};b=Ma(this,b);return Sd(this,b,b,t,"bookmark")},findMarksAt:function(b){b=Ma(this,b);var t=[],X=ca(this,b.line).markedSpans;if(X)for(var T=0;T<X.length;++T){var ia=X[T];(null==ia.from||ia.from<=b.ch)&&(null==ia.to||ia.to>=b.ch)&&t.push(ia.marker.parent||
ia.marker)}return t},findMarks:function(b,t,X){b=Ma(this,b);t=Ma(this,t);var T=[],ia=b.line;this.iter(b.line,t.line+1,function(Ka){if(Ka=Ka.markedSpans)for(var Xa=0;Xa<Ka.length;Xa++){var bb=Ka[Xa];null!=bb.to&&ia==b.line&&b.ch>=bb.to||null==bb.from&&ia!=b.line||null!=bb.from&&ia==t.line&&bb.from>=t.ch||X&&!X(bb.marker)||T.push(bb.marker.parent||bb.marker)}++ia});return T},getAllMarks:function(){var b=[];this.iter(function(t){if(t=t.markedSpans)for(var X=0;X<t.length;++X)null!=t[X].from&&b.push(t[X].marker)});
return b},posFromIndex:function(b){var t,X=this.first,T=this.lineSeparator().length;this.iter(function(ia){ia=ia.text.length+T;if(ia>b)return t=b,!0;b-=ia;++X});return Ma(this,Za(X,t))},indexFromPos:function(b){b=Ma(this,b);var t=b.ch;if(b.line<this.first||0>b.ch)return 0;var X=this.lineSeparator().length;this.iter(this.first,b.line,function(T){t+=T.text.length+X});return t},copy:function(b){var t=new Eg(qa(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);
t.scrollTop=this.scrollTop;t.scrollLeft=this.scrollLeft;t.sel=this.sel;t.extend=!1;b&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory()));return t},linkedDoc:function(b){b||(b={});var t=this.first,X=this.first+this.size;null!=b.from&&b.from>t&&(t=b.from);null!=b.to&&b.to<X&&(X=b.to);t=new Eg(qa(this,t,X),b.mode||this.modeOption,t,this.lineSep,this.direction);b.sharedHist&&(t.history=this.history);(this.linked||(this.linked=[])).push({doc:t,sharedHist:b.sharedHist});t.linked=
[{doc:this,isParent:!0,sharedHist:b.sharedHist}];b=ne(this);for(X=0;X<b.length;X++){var T=b[X],ia=T.find(),Ka=t.clipPos(ia.from);ia=t.clipPos(ia.to);Aa(Ka,ia)&&(Ka=Sd(t,Ka,ia,T.primary,T.primary.type),T.markers.push(Ka),Ka.parent=T)}return t},unlinkDoc:function(b){b instanceof mg&&(b=b.doc);if(this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==b){this.linked.splice(t,1);b.unlinkDoc(this);Tf(ne(this));break}if(b.history==this.history){var X=[b.id];dc(b,function(T){return X.push(T.id)},
!0);b.history=new Pa(null);b.history.done=Zc(this.history.done,X);b.history.undone=Zc(this.history.undone,X)}},iterLinkedDocs:function(b){dc(this,b)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(b){return this.lineSep?b.split(this.lineSep):Mh(b)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:gd(function(b){"rtl"!=b&&(b="ltr");b!=this.direction&&(this.direction=b,this.iter(function(t){return t.order=null}),this.cm&&oa(this.cm))})});
Eg.prototype.eachLine=Eg.prototype.iter;for(var Aj=0,tk=!1,Yh={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"\x3d",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"\x3d",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"\x3d",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",
224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},cj=0;10>cj;cj++)Yh[cj+48]=Yh[cj+96]=String(cj);for(var Di=65;90>=Di;Di++)Yh[Di]=String.fromCharCode(Di);for(var dj=1;12>=dj;dj++)Yh[dj+111]=Yh[dj+63235]="F"+dj;var lj={basic:{Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore",
"Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},pcDefault:{"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter",
"Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},emacsy:{"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp",
"Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},macDefault:{"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter",
"Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]}};lj["default"]=Wg?lj.macDefault:lj.pcDefault;var ej={selectAll:ma,singleSelection:function(b){return b.setSelection(b.getCursor("anchor"),
b.getCursor("head"),wh)},killLine:function(b){return Ug(b,function(t){if(t.empty()){var X=ca(b.doc,t.head.line).text.length;return t.head.ch==X&&t.head.line<b.lastLine()?{from:t.head,to:Za(t.head.line+1,0)}:{from:t.head,to:Za(t.head.line,X)}}return{from:t.from(),to:t.to()}})},deleteLine:function(b){return Ug(b,function(t){return{from:Za(t.from().line,0),to:Ma(b.doc,Za(t.to().line+1,0))}})},delLineLeft:function(b){return Ug(b,function(t){return{from:Za(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(b){return Ug(b,
function(t){var X=b.charCoords(t.head,"div").top+5;return{from:b.coordsChar({left:0,top:X},"div"),to:t.from()}})},delWrappedLineRight:function(b){return Ug(b,function(t){var X=b.charCoords(t.head,"div").top+5;X=b.coordsChar({left:b.display.lineDiv.offsetWidth+100,top:X},"div");return{from:t.from(),to:X}})},undo:function(b){return b.undo()},redo:function(b){return b.redo()},undoSelection:function(b){return b.undoSelection()},redoSelection:function(b){return b.redoSelection()},goDocStart:function(b){return b.extendSelection(Za(b.firstLine(),
0))},goDocEnd:function(b){return b.extendSelection(Za(b.lastLine()))},goLineStart:function(b){return b.extendSelectionsBy(function(t){return pk(b,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(b){return b.extendSelectionsBy(function(t){return qk(b,t.head)},{origin:"+move",bias:1})},goLineEnd:function(b){return b.extendSelectionsBy(function(t){t=t.head.line;var X=ca(b.doc,t);var T=X;for(var ia;ia=Qb(T,!1);)T=ia.find(1,!0).line;T!=X&&(t=Ga(T));return mk(!0,b,X,t,-1)},{origin:"+move",
bias:-1})},goLineRight:function(b){return b.extendSelectionsBy(function(t){t=b.cursorCoords(t.head,"div").top+5;return b.coordsChar({left:b.display.lineDiv.offsetWidth+100,top:t},"div")},Lh)},goLineLeft:function(b){return b.extendSelectionsBy(function(t){t=b.cursorCoords(t.head,"div").top+5;return b.coordsChar({left:0,top:t},"div")},Lh)},goLineLeftSmart:function(b){return b.extendSelectionsBy(function(t){var X=b.cursorCoords(t.head,"div").top+5;X=b.coordsChar({left:0,top:X},"div");return X.ch<b.getLine(X.line).search(/\S/)?
qk(b,t.head):X},Lh)},goLineUp:function(b){return b.moveV(-1,"line")},goLineDown:function(b){return b.moveV(1,"line")},goPageUp:function(b){return b.moveV(-1,"page")},goPageDown:function(b){return b.moveV(1,"page")},goCharLeft:function(b){return b.moveH(-1,"char")},goCharRight:function(b){return b.moveH(1,"char")},goColumnLeft:function(b){return b.moveH(-1,"column")},goColumnRight:function(b){return b.moveH(1,"column")},goWordLeft:function(b){return b.moveH(-1,"word")},goGroupRight:function(b){return b.moveH(1,
"group")},goGroupLeft:function(b){return b.moveH(-1,"group")},goWordRight:function(b){return b.moveH(1,"word")},delCharBefore:function(b){return b.deleteH(-1,"codepoint")},delCharAfter:function(b){return b.deleteH(1,"char")},delWordBefore:function(b){return b.deleteH(-1,"word")},delWordAfter:function(b){return b.deleteH(1,"word")},delGroupBefore:function(b){return b.deleteH(-1,"group")},delGroupAfter:function(b){return b.deleteH(1,"group")},indentAuto:function(b){return b.indentSelection("smart")},
indentMore:function(b){return b.indentSelection("add")},indentLess:function(b){return b.indentSelection("subtract")},insertTab:function(b){return b.replaceSelection("\t")},insertSoftTab:function(b){for(var t=[],X=b.listSelections(),T=b.options.tabSize,ia=0;ia<X.length;ia++){var Ka=X[ia].from();Ka=e(b.getLine(Ka.line),Ka.ch,T);t.push(p(T-Ka%T))}b.replaceSelections(t)},defaultTab:function(b){b.somethingSelected()?b.indentSelection("add"):b.execCommand("insertTab")},transposeChars:function(b){return oc(b,
function(){for(var t=b.listSelections(),X=[],T=0;T<t.length;T++)if(t[T].empty()){var ia=t[T].head,Ka=ca(b.doc,ia.line).text;if(Ka)if(ia.ch==Ka.length&&(ia=new Za(ia.line,ia.ch-1)),0<ia.ch)ia=new Za(ia.line,ia.ch+1),b.replaceRange(Ka.charAt(ia.ch-1)+Ka.charAt(ia.ch-2),Za(ia.line,ia.ch-2),ia,"+transpose");else if(ia.line>b.doc.first){var Xa=ca(b.doc,ia.line-1).text;Xa&&(ia=new Za(ia.line,1),b.replaceRange(Ka.charAt(0)+b.doc.lineSeparator()+Xa.charAt(Xa.length-1),Za(ia.line-1,Xa.length-1),ia,"+transpose"))}X.push(new Pf(ia,
ia))}b.setSelections(X)})},newlineAndIndent:function(b){return oc(b,function(){for(var t=b.listSelections(),X=t.length-1;0<=X;X--)b.replaceRange(b.doc.lineSeparator(),t[X].anchor,t[X].head,"+input");t=b.listSelections();for(X=0;X<t.length;X++)b.indentLine(t[X].from().line,null,!0);Ve(b)})},openLine:function(b){return b.replaceSelection("\n","start")},toggleOverwrite:function(b){return b.toggleOverwrite()}},Dk=new Ef,uk=null,Cj=function(b,t,X){this.time=b;this.pos=t;this.button=X};Cj.prototype.compare=
function(b,t,X){return this.time+400>b&&0==Aa(t,this.pos)&&X==this.button};var uj,fj,qi={toString:function(){return"CodeMirror.Init"}},vk={},jj={};mg.defaults=vk;mg.optionHandlers=jj;var wk=[];mg.defineInitHook=function(b){return wk.push(b)};var Yg=null,dg=function(b){this.cm=b;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new Ef;this.composing=null;this.gracePeriod=!1;this.readDOMTimeout=null};dg.prototype.init=function(b){function t(bb){for(bb=
bb.target;bb;bb=bb.parentNode){if(bb==Xa)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(bb.className))break}return!1}function X(bb){if(t(bb)&&!Q(Ka,bb)){if(Ka.somethingSelected())Yg={lineWise:!1,text:Ka.getSelections()},"cut"==bb.type&&Ka.replaceSelection("",null,"cut");else if(Ka.options.lineWiseCopyCut){var ub=ah(Ka);Yg={lineWise:!0,text:ub.text};"cut"==bb.type&&Ka.operation(function(){Ka.setSelections(ub.ranges,0,wh);Ka.replaceSelection("",null,"cut")})}else return;if(bb.clipboardData){bb.clipboardData.clearData();
var Lb=Yg.text.join("\n");bb.clipboardData.setData("Text",Lb);if(bb.clipboardData.getData("Text")==Lb){bb.preventDefault();return}}var cc=Th();bb=cc.firstChild;Ka.display.lineSpace.insertBefore(cc,Ka.display.lineSpace.firstChild);bb.value=Yg.text.join("\n");var Rc=document.activeElement;vg(bb);setTimeout(function(){Ka.display.lineSpace.removeChild(cc);Rc.focus();Rc==Xa&&ia.showPrimarySelection()},50)}}var T=this,ia=this,Ka=ia.cm,Xa=ia.div=b.lineDiv;vi(Xa,Ka.options.spellcheck,Ka.options.autocorrect,
Ka.options.autocapitalize);Se(Xa,"paste",function(bb){!t(bb)||Q(Ka,bb)||eg(bb,Ka)||11>=Wf&&setTimeout(id(Ka,function(){return T.updateFromDOM()}),20)});Se(Xa,"compositionstart",function(bb){T.composing={data:bb.data,done:!1}});Se(Xa,"compositionupdate",function(bb){T.composing||(T.composing={data:bb.data,done:!1})});Se(Xa,"compositionend",function(bb){T.composing&&(bb.data!=T.composing.data&&T.readFromDOMSoon(),T.composing.done=!0)});Se(Xa,"touchstart",function(){return ia.forceCompositionEnd()});
Se(Xa,"input",function(){T.composing||T.readFromDOMSoon()});Se(Xa,"copy",X);Se(Xa,"cut",X)};dg.prototype.screenReaderLabelChanged=function(b){b?this.div.setAttribute("aria-label",b):this.div.removeAttribute("aria-label")};dg.prototype.prepareSelection=function(){var b=Xb(this.cm,!1);b.focus=document.activeElement==this.div;return b};dg.prototype.showSelection=function(b,t){b&&this.cm.display.view.length&&((b.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(b))};dg.prototype.getSelection=
function(){return this.cm.display.wrapper.ownerDocument.getSelection()};dg.prototype.showPrimarySelection=function(){var b=this.getSelection(),t=this.cm,X=t.doc.sel.primary(),T=X.from();X=X.to();if(t.display.viewTo==t.display.viewFrom||T.line>=t.display.viewTo||X.line<t.display.viewFrom)b.removeAllRanges();else{var ia=$g(t,b.anchorNode,b.anchorOffset),Ka=$g(t,b.focusNode,b.focusOffset);if(!ia||ia.bad||!Ka||Ka.bad||0!=Aa(lb(ia,Ka),T)||0!=Aa(ab(ia,Ka),X))if(ia=t.display.view,T=T.line>=t.display.viewFrom&&
ak(t,T)||{node:ia[0].measure.map[2],offset:0},X=X.line<t.display.viewTo&&ak(t,X),X||(X=ia[ia.length-1].measure,X=X.maps?X.maps[X.maps.length-1]:X.map,X={node:X[X.length-1],offset:X[X.length-2]-X[X.length-3]}),T&&X){ia=b.rangeCount&&b.getRangeAt(0);try{var Xa=hi(T.node,T.offset,X.offset,X.node)}catch(bb){}Xa&&(!vh&&t.state.focused?(b.collapse(T.node,T.offset),Xa.collapsed||(b.removeAllRanges(),b.addRange(Xa))):(b.removeAllRanges(),b.addRange(Xa)),ia&&null==b.anchorNode?b.addRange(ia):vh&&this.startGracePeriod());
this.rememberSelection()}else b.removeAllRanges()}};dg.prototype.startGracePeriod=function(){var b=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){b.gracePeriod=!1;b.selectionChanged()&&b.cm.operation(function(){return b.cm.curOp.selectionChanged=!0})},20)};dg.prototype.showMultipleSelections=function(b){n(this.cm.display.cursorDiv,b.cursors);n(this.cm.display.selectionDiv,b.selection)};dg.prototype.rememberSelection=function(){var b=this.getSelection();this.lastAnchorNode=
b.anchorNode;this.lastAnchorOffset=b.anchorOffset;this.lastFocusNode=b.focusNode;this.lastFocusOffset=b.focusOffset};dg.prototype.selectionInEditor=function(){var b=this.getSelection();if(!b.rangeCount)return!1;b=b.getRangeAt(0).commonAncestorContainer;return x(this.div,b)};dg.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&document.activeElement==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())};dg.prototype.blur=function(){this.div.blur()};
dg.prototype.getField=function(){return this.div};dg.prototype.supportsTouch=function(){return!0};dg.prototype.receivedFocus=function(){function b(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,b))}var t=this;this.selectionInEditor()?this.pollSelection():oc(this.cm,function(){return t.cm.curOp.selectionChanged=!0});this.polling.set(this.cm.options.pollInterval,b)};dg.prototype.selectionChanged=function(){var b=this.getSelection();return b.anchorNode!=this.lastAnchorNode||
b.anchorOffset!=this.lastAnchorOffset||b.focusNode!=this.lastFocusNode||b.focusOffset!=this.lastFocusOffset};dg.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var b=this.getSelection(),t=this.cm;if(yg&&xi&&this.cm.display.gutterSpecs.length&&Zj(b.anchorNode))this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();else if(!this.composing){this.rememberSelection();var X=$g(t,b.anchorNode,b.anchorOffset),
T=$g(t,b.focusNode,b.focusOffset);X&&T&&oc(t,function(){Va(t.doc,Na(X,T),wh);if(X.bad||T.bad)t.curOp.selectionChanged=!0})}}};dg.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var b=this.cm,t=b.display,X=b.doc.sel.primary(),T=X.from(),ia=X.to();0==T.ch&&T.line>b.firstLine()&&(T=Za(T.line-1,ca(b.doc,T.line-1).length));ia.ch==ca(b.doc,ia.line).text.length&&ia.line<b.lastLine()&&(ia=Za(ia.line+1,0));if(T.line<t.viewFrom||ia.line>
t.viewTo-1)return!1;var Ka;T.line==t.viewFrom||0==(Ka=Ae(b,T.line))?(X=Ga(t.view[0].line),Ka=t.view[0].node):(X=Ga(t.view[Ka].line),Ka=t.view[Ka-1].node.nextSibling);var Xa=Ae(b,ia.line);Xa==t.view.length-1?(ia=t.viewTo-1,t=t.lineDiv.lastChild):(ia=Ga(t.view[Xa+1].line)-1,t=t.view[Xa+1].node.previousSibling);if(!Ka)return!1;t=b.doc.splitLines(Rj(b,Ka,t,X,ia));for(Ka=fa(b.doc,Za(X,0),Za(ia,ca(b.doc,ia).text.length));1<t.length&&1<Ka.length;)if(A(t)==A(Ka))t.pop(),Ka.pop(),ia--;else if(t[0]==Ka[0])t.shift(),
Ka.shift(),X++;else break;var bb=0;Xa=0;for(var ub=t[0],Lb=Ka[0],cc=Math.min(ub.length,Lb.length);bb<cc&&ub.charCodeAt(bb)==Lb.charCodeAt(bb);)++bb;ub=A(t);Lb=A(Ka);for(cc=Math.min(ub.length-(1==t.length?bb:0),Lb.length-(1==Ka.length?bb:0));Xa<cc&&ub.charCodeAt(ub.length-Xa-1)==Lb.charCodeAt(Lb.length-Xa-1);)++Xa;if(1==t.length&&1==Ka.length&&X==T.line)for(;bb&&bb>T.ch&&ub.charCodeAt(ub.length-Xa-1)==Lb.charCodeAt(Lb.length-Xa-1);)bb--,Xa++;t[t.length-1]=ub.slice(0,ub.length-Xa).replace(/^\u200b+/,
"");t[0]=t[0].slice(bb).replace(/\u200b+$/,"");T=Za(X,bb);X=Za(ia,Ka.length?A(Ka).length-Xa:0);if(1<t.length||t[0]||Aa(T,X))return Pc(b.doc,t,T,X,"+input"),!0};dg.prototype.ensurePolled=function(){this.forceCompositionEnd()};dg.prototype.reset=function(){this.forceCompositionEnd()};dg.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())};dg.prototype.readFromDOMSoon=function(){var b=this;
null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){b.readDOMTimeout=null;if(b.composing)if(b.composing.done)b.composing=null;else return;b.updateFromDOM()},80))};dg.prototype.updateFromDOM=function(){var b=this;!this.cm.isReadOnly()&&this.pollContent()||oc(this.cm,function(){return Bc(b.cm)})};dg.prototype.setUneditable=function(b){b.contentEditable="false"};dg.prototype.onKeyPress=function(b){0==b.charCode||this.composing||(b.preventDefault(),this.cm.isReadOnly()||id(this.cm,Ui)(this.cm,
String.fromCharCode(null==b.charCode?b.keyCode:b.charCode),0))};dg.prototype.readOnlyChanged=function(b){this.div.contentEditable=String("nocursor"!=b)};dg.prototype.onContextMenu=function(){};dg.prototype.resetPosition=function(){};dg.prototype.needsContentAttribute=!0;var og=function(b){this.cm=b;this.prevInput="";this.pollingFast=!1;this.polling=new Ef;this.hasSelection=!1;this.composing=null};og.prototype.init=function(b){function t(Xa){if(!Q(ia,Xa)){if(ia.somethingSelected())Yg={lineWise:!1,
text:ia.getSelections()};else if(ia.options.lineWiseCopyCut){var bb=ah(ia);Yg={lineWise:!0,text:bb.text};"cut"==Xa.type?ia.setSelections(bb.ranges,null,wh):(T.prevInput="",Ka.value=bb.text.join("\n"),vg(Ka))}else return;"cut"==Xa.type&&(ia.state.cutIncoming=+new Date)}}var X=this,T=this,ia=this.cm;this.createField(b);var Ka=this.textarea;b.wrapper.insertBefore(this.wrapper,b.wrapper.firstChild);Si&&(Ka.style.width="0px");Se(Ka,"input",function(){vf&&9<=Wf&&X.hasSelection&&(X.hasSelection=null);T.poll()});
Se(Ka,"paste",function(Xa){Q(ia,Xa)||eg(Xa,ia)||(ia.state.pasteIncoming=+new Date,T.fastPoll())});Se(Ka,"cut",t);Se(Ka,"copy",t);Se(b.scroller,"paste",function(Xa){if(!Ed(b,Xa)&&!Q(ia,Xa))if(Ka.dispatchEvent){var bb=new Event("paste");bb.clipboardData=Xa.clipboardData;Ka.dispatchEvent(bb)}else ia.state.pasteIncoming=+new Date,T.focus()});Se(b.lineSpace,"selectstart",function(Xa){Ed(b,Xa)||aa(Xa)});Se(Ka,"compositionstart",function(){var Xa=ia.getCursor("from");T.composing&&T.composing.range.clear();
T.composing={start:Xa,range:ia.markText(Xa,ia.getCursor("to"),{className:"CodeMirror-composing"})}});Se(Ka,"compositionend",function(){T.composing&&(T.poll(),T.composing.range.clear(),T.composing=null)})};og.prototype.createField=function(b){this.wrapper=Th();this.textarea=this.wrapper.firstChild};og.prototype.screenReaderLabelChanged=function(b){b?this.textarea.setAttribute("aria-label",b):this.textarea.removeAttribute("aria-label")};og.prototype.prepareSelection=function(){var b=this.cm,t=b.display,
X=b.doc,T=Xb(b);if(b.options.moveInputWithCursor){b=we(b,X.sel.primary().head,"div");X=t.wrapper.getBoundingClientRect();var ia=t.lineDiv.getBoundingClientRect();T.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,b.top+ia.top-X.top));T.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,b.left+ia.left-X.left))}return T};og.prototype.showSelection=function(b){var t=this.cm.display;n(t.cursorDiv,b.cursors);n(t.selectionDiv,b.selection);null!=b.teTop&&(this.wrapper.style.top=b.teTop+"px",this.wrapper.style.left=
b.teLeft+"px")};og.prototype.reset=function(b){if(!this.contextMenuPending&&!this.composing){var t=this.cm;t.somethingSelected()?(this.prevInput="",b=t.getSelection(),this.textarea.value=b,t.state.focused&&vg(this.textarea),vf&&9<=Wf&&(this.hasSelection=b)):b||(this.prevInput=this.textarea.value="",vf&&9<=Wf&&(this.hasSelection=null))}};og.prototype.getField=function(){return this.textarea};og.prototype.supportsTouch=function(){return!1};og.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&
(!Gg||y()!=this.textarea))try{this.textarea.focus()}catch(b){}};og.prototype.blur=function(){this.textarea.blur()};og.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0};og.prototype.receivedFocus=function(){this.slowPoll()};og.prototype.slowPoll=function(){var b=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){b.poll();b.cm.state.focused&&b.slowPoll()})};og.prototype.fastPoll=function(){function b(){X.poll()||t?(X.pollingFast=!1,X.slowPoll()):
(t=!0,X.polling.set(60,b))}var t=!1,X=this;X.pollingFast=!0;X.polling.set(20,b)};og.prototype.poll=function(){var b=this,t=this.cm,X=this.textarea,T=this.prevInput;if(this.contextMenuPending||!t.state.focused||Nh(X)&&!T&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var ia=X.value;if(ia==T&&!t.somethingSelected())return!1;if(vf&&9<=Wf&&this.hasSelection===ia||Wg&&/[\uf700-\uf7ff]/.test(ia))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var Ka=
ia.charCodeAt(0);8203!=Ka||T||(T="");if(8666==Ka)return this.reset(),this.cm.execCommand("undo")}var Xa=0;for(Ka=Math.min(T.length,ia.length);Xa<Ka&&T.charCodeAt(Xa)==ia.charCodeAt(Xa);)++Xa;oc(t,function(){Ui(t,ia.slice(Xa),T.length-Xa,null,b.composing?"*compose":null);1E3<ia.length||-1<ia.indexOf("\n")?X.value=b.prevInput="":b.prevInput=ia;b.composing&&(b.composing.range.clear(),b.composing.range=t.markText(b.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))});return!0};og.prototype.ensurePolled=
function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)};og.prototype.onKeyPress=function(){vf&&9<=Wf&&(this.hasSelection=null);this.fastPoll()};og.prototype.onContextMenu=function(b){function t(){if(null!=Xa.selectionStart){var Ac=ia.somethingSelected(),td=""+(Ac?Xa.value:"");Xa.value="";Xa.value=td;T.prevInput=Ac?"":"";Xa.selectionStart=1;Xa.selectionEnd=td.length;Ka.selForContextMenu=ia.doc.sel}}function X(){if(T.contextMenuPending==X&&(T.contextMenuPending=!1,T.wrapper.style.cssText=
cc,Xa.style.cssText=Lb,vf&&9>Wf&&Ka.scrollbars.setScrollTop(Ka.scroller.scrollTop=ub),null!=Xa.selectionStart)){(!vf||vf&&9>Wf)&&t();var Ac=0,td=function(){Ka.selForContextMenu==ia.doc.sel&&0==Xa.selectionStart&&0<Xa.selectionEnd&&""==T.prevInput?id(ia,ma)(ia):10>Ac++?Ka.detectingSelectAll=setTimeout(td,500):(Ka.selForContextMenu=null,Ka.input.reset())};Ka.detectingSelectAll=setTimeout(td,200)}}var T=this,ia=T.cm,Ka=ia.display,Xa=T.textarea;T.contextMenuPending&&T.contextMenuPending();var bb=Jf(ia,
b),ub=Ka.scroller.scrollTop;if(bb&&!Xg){ia.options.resetSelectionOnContextMenu&&-1==ia.doc.sel.contains(bb)&&id(ia,Va)(ia.doc,Na(bb),wh);var Lb=Xa.style.cssText,cc=T.wrapper.style.cssText;bb=T.wrapper.offsetParent.getBoundingClientRect();T.wrapper.style.cssText="position: static";Xa.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(b.clientY-bb.top-5)+"px; left: "+(b.clientX-bb.left-5)+"px;\n      z-index: 1000; background: "+(vf?"rgba(255, 255, 255, .05)":"transparent")+
";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity\x3d5);";if(sg)var Rc=window.scrollY;Ka.input.focus();sg&&window.scrollTo(null,Rc);Ka.input.reset();ia.somethingSelected()||(Xa.value=T.prevInput=" ");T.contextMenuPending=X;Ka.selForContextMenu=ia.doc.sel;clearTimeout(Ka.detectingSelectAll);vf&&9<=Wf&&t();if(gi){Da(b);var tc=function(){ja(window,"mouseup",tc);setTimeout(X,20)};Se(window,"mouseup",tc)}else setTimeout(X,50)}};og.prototype.readOnlyChanged=
function(b){b||this.reset();this.textarea.disabled="nocursor"==b;this.textarea.readOnly=!!b};og.prototype.setUneditable=function(){};og.prototype.needsContentAttribute=!1;(function(b){function t(T,ia,Ka,Xa){b.defaults[T]=ia;Ka&&(X[T]=Xa?function(bb,ub,Lb){Lb!=qi&&Ka(bb,ub,Lb)}:Ka)}var X=b.optionHandlers;b.defineOption=t;b.Init=qi;t("value","",function(T,ia){return T.setValue(ia)},!0);t("mode",null,function(T,ia){T.doc.modeOption=ia;Gb(T)},!0);t("indentUnit",2,Gb,!0);t("indentWithTabs",!1);t("smartIndent",
!0);t("tabSize",4,function(T){Bb(T);of(T);Bc(T)},!0);t("lineSeparator",null,function(T,ia){if(T.doc.lineSep=ia){var Ka=[],Xa=T.doc.first;T.doc.iter(function(ub){for(var Lb=0;;){var cc=ub.text.indexOf(ia,Lb);if(-1==cc)break;Lb=cc+ia.length;Ka.push(Za(Xa,cc))}Xa++});for(var bb=Ka.length-1;0<=bb;bb--)Pc(T.doc,ia,Ka[bb],Za(Ka[bb].line,Ka[bb].ch+ia.length))}});t("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(T,ia,Ka){T.state.specialChars=
new RegExp(ia.source+(ia.test("\t")?"":"|\t"),"g");Ka!=qi&&T.refresh()});t("specialCharPlaceholder",jc,function(T){return T.refresh()},!0);t("electricChars",!0);t("inputStyle",Gg?"contenteditable":"textarea",function(){throw Error("inputStyle can not (yet) be changed in a running editor");},!0);t("spellcheck",!1,function(T,ia){return T.getInputField().spellcheck=ia},!0);t("autocorrect",!1,function(T,ia){return T.getInputField().autocorrect=ia},!0);t("autocapitalize",!1,function(T,ia){return T.getInputField().autocapitalize=
ia},!0);t("rtlMoveVisually",!pj);t("wholeLineUpdateBefore",!0);t("theme","default",function(T){Pj(T);Bf(T)},!0);t("keyMap","default",function(T,ia,Ka){ia=Zf(ia);(Ka=Ka!=qi&&Zf(Ka))&&Ka.detach&&Ka.detach(T,ia);ia.attach&&ia.attach(T,Ka||null)});t("extraKeys",null);t("configureMouse",null);t("lineWrapping",!1,ui,!0);t("gutters",[],function(T,ia){T.display.gutterSpecs=Te(ia,T.options.lineNumbers);Bf(T)},!0);t("fixedGutter",!0,function(T,ia){T.display.gutters.style.left=ia?Hf(T.display)+"px":"0";T.refresh()},
!0);t("coverGutterNextToScrollbar",!1,function(T){return Ia(T)},!0);t("scrollbarStyle","native",function(T){Yb(T);Ia(T);T.display.scrollbars.setScrollTop(T.doc.scrollTop);T.display.scrollbars.setScrollLeft(T.doc.scrollLeft)},!0);t("lineNumbers",!1,function(T,ia){T.display.gutterSpecs=Te(T.options.gutters,ia);Bf(T)},!0);t("firstLineNumber",1,Bf,!0);t("lineNumberFormatter",function(T){return T},Bf,!0);t("showCursorWhenSelecting",!1,vb,!0);t("resetSelectionOnContextMenu",!0);t("lineWiseCopyCut",!0);
t("pasteLinesPerSelection",!0);t("selectionsMayTouch",!1);t("readOnly",!1,function(T,ia){"nocursor"==ia&&(od(T),T.display.input.blur());T.display.input.readOnlyChanged(ia)});t("screenReaderLabel",null,function(T,ia){T.display.input.screenReaderLabelChanged(""===ia?null:ia)});t("disableInput",!1,function(T,ia){ia||T.display.input.reset()},!0);t("dragDrop",!0,Qj);t("allowDropFileTypes",null);t("cursorBlinkRate",530);t("cursorScrollMargin",0);t("cursorHeight",1,vb,!0);t("singleCursorHeightPerLine",!0,
vb,!0);t("workTime",100);t("workDelay",100);t("flattenSpans",!0,Bb,!0);t("addModeClass",!1,Bb,!0);t("pollInterval",100);t("undoDepth",200,function(T,ia){return T.doc.history.undoDepth=ia});t("historyEventDelay",1250);t("viewportMargin",10,function(T){return T.refresh()},!0);t("maxHighlightLength",1E4,Bb,!0);t("moveInputWithCursor",!0,function(T,ia){ia||T.display.input.resetPosition()});t("tabindex",null,function(T,ia){return T.display.input.getField().tabIndex=ia||""});t("autofocus",null);t("direction",
"ltr",function(T,ia){return T.doc.setDirection(ia)},!0);t("phrases",null)})(mg);(function(b){var t=b.optionHandlers,X=b.helpers={};b.prototype={constructor:b,focus:function(){window.focus();this.display.input.focus()},setOption:function(T,ia){var Ka=this.options,Xa=Ka[T];if(Ka[T]!=ia||"mode"==T)Ka[T]=ia,t.hasOwnProperty(T)&&id(this,t[T])(this,ia,Xa),Z(this,"optionChange",this,T)},getOption:function(T){return this.options[T]},getDoc:function(){return this.doc},addKeyMap:function(T,ia){this.state.keyMaps[ia?
"push":"unshift"](Zf(T))},removeKeyMap:function(T){for(var ia=this.state.keyMaps,Ka=0;Ka<ia.length;++Ka)if(ia[Ka]==T||ia[Ka].name==T)return ia.splice(Ka,1),!0},addOverlay:Tc(function(T,ia){var Ka=T.token?T:b.getMode(this.options,T);if(Ka.startState)throw Error("Overlays may not be stateful.");D(this.state.overlays,{mode:Ka,modeSpec:T,opaque:ia&&ia.opaque,priority:ia&&ia.priority||0},function(Xa){return Xa.priority});this.state.modeGen++;Bc(this)}),removeOverlay:Tc(function(T){for(var ia=this.state.overlays,
Ka=0;Ka<ia.length;++Ka){var Xa=ia[Ka].modeSpec;if(Xa==T||"string"==typeof T&&Xa.name==T){ia.splice(Ka,1);this.state.modeGen++;Bc(this);break}}}),indentLine:Tc(function(T,ia,Ka){"string"!=typeof ia&&"number"!=typeof ia&&(ia=null==ia?this.options.smartIndent?"smart":"prev":ia?"add":"subtract");Oa(this.doc,T)&&ph(this,T,ia,Ka)}),indentSelection:Tc(function(T){for(var ia=this.doc.sel.ranges,Ka=-1,Xa=0;Xa<ia.length;Xa++){var bb=ia[Xa];if(bb.empty())bb.head.line>Ka&&(ph(this,bb.head.line,T,!0),Ka=bb.head.line,
Xa==this.doc.sel.primIndex&&Ve(this));else{var ub=bb.from();bb=bb.to();var Lb=Math.max(Ka,ub.line);Ka=Math.min(this.lastLine(),bb.line-(bb.ch?0:1))+1;for(bb=Lb;bb<Ka;++bb)ph(this,bb,T);bb=this.doc.sel.ranges;0==ub.ch&&ia.length==bb.length&&0<bb[Xa].from().ch&&Bd(this.doc,Xa,new Pf(ub,bb[Xa].to()),wh)}}}),getTokenAt:function(T,ia){return $b(this,T,ia)},getLineTokens:function(T,ia){return $b(this,Za(T),ia,!0)},getTokenTypeAt:function(T){T=Ma(this.doc,T);var ia=Sb(this,ca(this.doc,T.line)),Ka=0,Xa=(ia.length-
1)/2;T=T.ch;if(0==T)ia=ia[2];else for(;;){var bb=Ka+Xa>>1;if((bb?ia[2*bb-1]:0)>=T)Xa=bb;else if(ia[2*bb+1]<T)Ka=bb+1;else{ia=ia[2*bb+2];break}}Ka=ia?ia.indexOf("overlay "):-1;return 0>Ka?ia:0==Ka?null:ia.slice(0,Ka-1)},getModeAt:function(T){var ia=this.doc.mode;return ia.innerMode?b.innerMode(ia,this.getTokenAt(T).state).mode:ia},getHelper:function(T,ia){return this.getHelpers(T,ia)[0]},getHelpers:function(T,ia){var Ka=[];if(!X.hasOwnProperty(ia))return Ka;var Xa=X[ia];T=this.getModeAt(T);if("string"==
typeof T[ia])Xa[T[ia]]&&Ka.push(Xa[T[ia]]);else if(T[ia])for(var bb=0;bb<T[ia].length;bb++){var ub=Xa[T[ia][bb]];ub&&Ka.push(ub)}else T.helperType&&Xa[T.helperType]?Ka.push(Xa[T.helperType]):Xa[T.name]&&Ka.push(Xa[T.name]);for(ia=0;ia<Xa._global.length;ia++)bb=Xa._global[ia],bb.pred(T,this)&&-1==a(Ka,bb.val)&&Ka.push(bb.val);return Ka},getStateAfter:function(T,ia){var Ka=this.doc;T=Math.max(Ka.first,Math.min(null==T?Ka.first+Ka.size-1:T,Ka.first+Ka.size-1));return vc(this,T+1,ia).state},cursorCoords:function(T,
ia){var Ka=this.doc.sel.primary();T=null==T?Ka.head:"object"==typeof T?Ma(this.doc,T):T?Ka.from():Ka.to();return we(this,T,ia||"page")},charCoords:function(T,ia){return Zd(this,Ma(this.doc,T),ia||"page")},coordsChar:function(T,ia){T=Td(this,T,ia||"page");return Qd(this,T.left,T.top)},lineAtHeight:function(T,ia){T=Td(this,{top:T,left:0},ia||"page").top;return na(this.doc,T+this.display.viewOffset)},heightAtLine:function(T,ia,Ka){var Xa=!1;if("number"==typeof T){var bb=this.doc.first+this.doc.size-
1;T<this.doc.first?T=this.doc.first:T>bb&&(T=bb,Xa=!0);T=ca(this.doc,T)}return Ge(this,T,{top:0,left:0},ia||"page",Ka||Xa).top+(Xa?this.doc.height-Ja(T):0)},defaultTextHeight:function(){return De(this.display)},defaultCharWidth:function(){return re(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(T,ia,Ka,Xa,bb){var ub=this.display;T=we(this,Ma(this.doc,T));var Lb=T.bottom,cc=T.left;ia.style.position="absolute";ia.setAttribute("cm-ignore-events",
"true");this.display.input.setUneditable(ia);ub.sizer.appendChild(ia);if("over"==Xa)Lb=T.top;else if("above"==Xa||"near"==Xa){var Rc=Math.max(ub.wrapper.clientHeight,this.doc.height),tc=Math.max(ub.sizer.clientWidth,ub.lineSpace.clientWidth);("above"==Xa||T.bottom+ia.offsetHeight>Rc)&&T.top>ia.offsetHeight?Lb=T.top-ia.offsetHeight:T.bottom+ia.offsetHeight<=Rc&&(Lb=T.bottom);cc+ia.offsetWidth>tc&&(cc=tc-ia.offsetWidth)}ia.style.top=Lb+"px";ia.style.left=ia.style.right="";"right"==bb?(cc=ub.sizer.clientWidth-
ia.offsetWidth,ia.style.right="0px"):("left"==bb?cc=0:"middle"==bb&&(cc=(ub.sizer.clientWidth-ia.offsetWidth)/2),ia.style.left=cc+"px");Ka&&(T=bf(this,{left:cc,top:Lb,right:cc+ia.offsetWidth,bottom:Lb+ia.offsetHeight}),null!=T.scrollTop&&tf(this,T.scrollTop),null!=T.scrollLeft&&Nf(this,T.scrollLeft))},triggerOnKeyDown:Tc($h),triggerOnKeyPress:Tc($i),triggerOnKeyUp:th,triggerOnMouseDown:Tc(oj),execCommand:function(T){if(ej.hasOwnProperty(T))return ej[T].call(null,this)},triggerElectric:Tc(function(T){Cg(this,
T)}),findPosH:function(T,ia,Ka,Xa){var bb=1;0>ia&&(bb=-1,ia=-ia);T=Ma(this.doc,T);for(var ub=0;ub<ia&&(T=bk(this.doc,T,bb,Ka,Xa),!T.hitSide);++ub);return T},moveH:Tc(function(T,ia){var Ka=this;this.extendSelectionsBy(function(Xa){return Ka.display.shift||Ka.doc.extend||Xa.empty()?bk(Ka.doc,Xa.head,T,ia,Ka.options.rtlMoveVisually):0>T?Xa.from():Xa.to()},Lh)}),deleteH:Tc(function(T,ia){var Ka=this.doc;this.doc.sel.somethingSelected()?Ka.replaceSelection("",null,"+delete"):Ug(this,function(Xa){var bb=
bk(Ka,Xa.head,T,ia,!1);return 0>T?{from:bb,to:Xa.head}:{from:Xa.head,to:bb}})}),findPosV:function(T,ia,Ka,Xa){var bb=1;0>ia&&(bb=-1,ia=-ia);var ub=Ma(this.doc,T);for(T=0;T<ia&&(ub=we(this,ub,"div"),null==Xa?Xa=ub.left:ub.left=Xa,ub=hj(this,ub,bb,Ka),!ub.hitSide);++T);return ub},moveV:Tc(function(T,ia){var Ka=this,Xa=this.doc,bb=[],ub=!this.display.shift&&!Xa.extend&&Xa.sel.somethingSelected();Xa.extendSelectionsBy(function(cc){if(ub)return 0>T?cc.from():cc.to();var Rc=we(Ka,cc.head,"div");null!=cc.goalColumn&&
(Rc.left=cc.goalColumn);bb.push(Rc.left);var tc=hj(Ka,Rc,T,ia);"page"==ia&&cc==Xa.sel.primary()&&ee(Ka,Zd(Ka,tc,"div").top-Rc.top);return tc},Lh);if(bb.length)for(var Lb=0;Lb<Xa.sel.ranges.length;Lb++)Xa.sel.ranges[Lb].goalColumn=bb[Lb]}),findWordAt:function(T){var ia=ca(this.doc,T.line).text,Ka=T.ch,Xa=T.ch;if(ia){var bb=this.getHelper(T,"wordChars");"before"!=T.sticky&&Xa!=ia.length||!Ka?++Xa:--Ka;var ub=ia.charAt(Ka);for(ub=z(ub,bb)?function(Lb){return z(Lb,bb)}:/\s/.test(ub)?function(Lb){return/\s/.test(Lb)}:
function(Lb){return!/\s/.test(Lb)&&!z(Lb)};0<Ka&&ub(ia.charAt(Ka-1));)--Ka;for(;Xa<ia.length&&ub(ia.charAt(Xa));)++Xa}return new Pf(Za(T.line,Ka),Za(T.line,Xa))},toggleOverwrite:function(T){if(null==T||T!=this.state.overwrite)(this.state.overwrite=!this.state.overwrite)?q(this.display.cursorDiv,"CodeMirror-overwrite"):Df(this.display.cursorDiv,"CodeMirror-overwrite"),Z(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==y()},isReadOnly:function(){return!(!this.options.readOnly&&
!this.doc.cantEdit)},scrollTo:Tc(function(T,ia){ce(this,T,ia)}),getScrollInfo:function(){var T=this.display.scroller;return{left:T.scrollLeft,top:T.scrollTop,height:T.scrollHeight-ae(this)-this.display.barHeight,width:T.scrollWidth-ae(this)-this.display.barWidth,clientHeight:me(this),clientWidth:Ce(this)}},scrollIntoView:Tc(function(T,ia){null==T?(T={from:this.doc.sel.primary().head,to:null},null==ia&&(ia=this.options.cursorScrollMargin)):"number"==typeof T?T={from:Za(T,0),to:null}:null==T.from&&
(T={from:T,to:null});T.to||(T.to=T.from);T.margin=ia||0;null!=T.from.line?(Xe(this),this.curOp.scrollToPos=T):zf(this,T.from,T.to,T.margin)}),setSize:Tc(function(T,ia){var Ka=this,Xa=function(ub){return"number"==typeof ub||/^\d+$/.test(String(ub))?ub+"px":ub};null!=T&&(this.display.wrapper.style.width=Xa(T));null!=ia&&(this.display.wrapper.style.height=Xa(ia));this.options.lineWrapping&&Ue(this);var bb=this.display.viewFrom;this.doc.iter(bb,this.display.viewTo,function(ub){if(ub.widgets)for(var Lb=
0;Lb<ub.widgets.length;Lb++)if(ub.widgets[Lb].noHScroll){xa(Ka,bb,"widget");break}++bb});this.curOp.forceUpdate=!0;Z(this,"refresh",this)}),operation:function(T){return oc(this,T)},startOperation:function(){return Ub(this)},endOperation:function(){return ic(this)},refresh:Tc(function(){var T=this.display.cachedTextHeight;Bc(this);this.curOp.forceUpdate=!0;of(this);ce(this,this.doc.scrollLeft,this.doc.scrollTop);He(this.display);(null==T||.5<Math.abs(T-De(this.display))||this.options.lineWrapping)&&
Qf(this);Z(this,"refresh",this)}),swapDoc:Tc(function(T){var ia=this.doc;ia.cm=null;this.state.selectingText&&this.state.selectingText();uc(this,T);of(this);this.display.input.reset();ce(this,T.scrollLeft,T.scrollTop);this.curOp.forceScroll=!0;Dc(this,"swapDoc",this,ia);return ia}),phrase:function(T){var ia=this.options.phrases;return ia&&Object.prototype.hasOwnProperty.call(ia,T)?ia[T]:T},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},
getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};ea(b);b.registerHelper=function(T,ia,Ka){X.hasOwnProperty(T)||(X[T]=b[T]={_global:[]});X[T][ia]=Ka};b.registerGlobalHelper=function(T,ia,Ka,Xa){b.registerHelper(T,ia,Xa);X[T]._global.push({pred:Ka,val:Xa})}})(mg);var jl="iter insert remove copy getEditor constructor".split(" "),mj;for(mj in Eg.prototype)Eg.prototype.hasOwnProperty(mj)&&0>a(jl,mj)&&(mg.prototype[mj]=function(b){return function(){return b.apply(this.doc,
arguments)}}(Eg.prototype[mj]));ea(Eg);mg.inputStyles={textarea:og,contenteditable:dg};mg.defineMode=function(b){mg.defaults.mode||"null"==b||(mg.defaults.mode=b);sa.apply(this,arguments)};mg.defineMIME=function(b,t){oi[b]=t};mg.defineMode("null",function(){return{token:function(b){return b.skipToEnd()}}});mg.defineMIME("text/plain","null");mg.defineExtension=function(b,t){mg.prototype[b]=t};mg.defineDocExtension=function(b,t){Eg.prototype[b]=t};mg.fromTextArea=function(b,t){function X(){b.value=
bb.getValue()}t=t?c(t):{};t.value=b.value;!t.tabindex&&b.tabIndex&&(t.tabindex=b.tabIndex);!t.placeholder&&b.placeholder&&(t.placeholder=b.placeholder);if(null==t.autofocus){var T=y();t.autofocus=T==b||null!=b.getAttribute("autofocus")&&T==document.body}if(b.form&&(Se(b.form,"submit",X),!t.leaveSubmitMethodAlone)){var ia=b.form;var Ka=ia.submit;try{var Xa=ia.submit=function(){X();ia.submit=Ka;ia.submit();ia.submit=Xa}}catch(ub){}}t.finishInit=function(ub){ub.save=X;ub.getTextArea=function(){return b};
ub.toTextArea=function(){ub.toTextArea=isNaN;X();b.parentNode.removeChild(ub.getWrapperElement());b.style.display="";b.form&&(ja(b.form,"submit",X),t.leaveSubmitMethodAlone||"function"!=typeof b.form.submit||(b.form.submit=Ka))}};b.style.display="none";var bb=mg(function(ub){return b.parentNode.insertBefore(ub,b.nextSibling)},t);return bb};(function(b){b.off=ja;b.on=Se;b.wheelEventPixels=jg;b.Doc=Eg;b.splitLines=Mh;b.countColumn=e;b.findColumn=f;b.isWordChar=G;b.Pass=Kh;b.signal=Z;b.Line=li;b.changeEnd=
Sa;b.scrollbarModel=Ck;b.Pos=Za;b.cmpPos=Aa;b.modes=Ai;b.mimeModes=oi;b.resolveMode=Ta;b.getMode=Wa;b.modeExtensions=xh;b.extendMode=Ea;b.copyState=ua;b.startState=W;b.innerMode=V;b.commands=ej;b.keyMap=lj;b.keyName=Uf;b.isModifierKey=xf;b.lookupKey=Cf;b.normalizeKeyMap=jf;b.StringStream=tg;b.SharedTextMarker=di;b.TextMarker=Hh;b.LineWidget=Uh;b.e_preventDefault=aa;b.e_stopPropagation=va;b.e_stop=Da;b.addClass=q;b.contains=x;b.rmClass=Df;b.keyNames=Yh})(mg);mg.version="5.59.4";return mg})};
shadow$provide[68]=function(Ha,B,rb,E){(function(g){"object"===typeof E&&"object"===typeof rb?g(B(67)):"function"===typeof define&&define.amd?define(["../../lib/codemirror"],g):g(CodeMirror)})(function(g){g.defineMode("clojure",function(m){function n(P,L){if(P.eatSpace()||P.eat(","))return["space",null];if(P.match(A))return[null,"number"];if(P.match(C))return[null,"string-2"];if(P.eat(/^"/))return(L.tokenize=F)(P,L);if(P.eat(/^[(\[{]/))return["open","bracket"];if(P.eat(/^[)\]}]/))return["close","bracket"];
if(P.eat(/^;/))return P.skipToEnd(),["space","comment"];if(P.eat(/^[#'@^`~]/))return[null,"meta"];var G=P.match(D);G=G&&G[0];return G?"comment"===G&&"("===L.lastToken?(L.tokenize=O)(P,L):y(G,c)||":"===G.charAt(0)?["symbol","atom"]:y(G,e)||y(G,a)?["symbol","keyword"]:"("===L.lastToken?["symbol","builtin"]:["symbol","variable"]:(P.next(),P.eatWhile(function(z){return!y(z,p)}),[null,"error"])}function F(P,L){for(var G=!1,z;z=P.next();){if('"'===z&&!G){L.tokenize=n;break}G=!G&&"\\"===z}return[null,"string"]}
function O(P,L){for(var G=1,z;z=P.next();)if(")"===z&&G--,"("===z&&G++,0===G){P.backUp(1);L.tokenize=n;break}return["space","comment"]}function x(P){for(var L={},G=0;G<P.length;++G)L[P[G]]=!0;return L}function y(P,L){if(L instanceof RegExp)return L.test(P);if(L instanceof Object)return L.propertyIsEnumerable(P)}var q=["false","nil","true"],l=". catch def do if monitor-enter monitor-exit new quote recur set! throw try var".split(" "),h="* *' *1 *2 *3 *agent* *allow-unresolved-vars* *assert* *clojure-version* *command-line-args* *compile-files* *compile-path* *compiler-options* *data-readers* *default-data-reader-fn* *e *err* *file* *flush-on-newline* *fn-loader* *in* *math-context* *ns* *out* *print-dup* *print-length* *print-level* *print-meta* *print-namespace-maps* *print-readably* *read-eval* *reader-resolver* *source-path* *suppress-read* *unchecked-math* *use-context-classloader* *verbose-defrecords* *warn-on-reflection* + +' - -' -\x3e -\x3e\x3e -\x3eArrayChunk -\x3eEduction -\x3eVec -\x3eVecNode -\x3eVecSeq -cache-protocol-fn -reset-methods .. / \x3c \x3c\x3d \x3d \x3d\x3d \x3e \x3e\x3d EMPTY-NODE Inst StackTraceElement-\x3evec Throwable-\x3emap accessor aclone add-classpath add-watch agent agent-error agent-errors aget alength alias all-ns alter alter-meta! alter-var-root amap ancestors and any? apply areduce array-map as-\x3e aset aset-boolean aset-byte aset-char aset-double aset-float aset-int aset-long aset-short assert assoc assoc! assoc-in associative? atom await await-for await1 bases bean bigdec bigint biginteger binding bit-and bit-and-not bit-clear bit-flip bit-not bit-or bit-set bit-shift-left bit-shift-right bit-test bit-xor boolean boolean-array boolean? booleans bound-fn bound-fn* bound? bounded-count butlast byte byte-array bytes bytes? case cast cat char char-array char-escape-string char-name-string char? chars chunk chunk-append chunk-buffer chunk-cons chunk-first chunk-next chunk-rest chunked-seq? class class? clear-agent-errors clojure-version coll? comment commute comp comparator compare compare-and-set! compile complement completing concat cond cond-\x3e cond-\x3e\x3e condp conj conj! cons constantly construct-proxy contains? count counted? create-ns create-struct cycle dec dec' decimal? declare dedupe default-data-readers definline definterface defmacro defmethod defmulti defn defn- defonce defprotocol defrecord defstruct deftype delay delay? deliver denominator deref derive descendants destructure disj disj! dissoc dissoc! distinct distinct? doall dorun doseq dosync dotimes doto double double-array double? doubles drop drop-last drop-while eduction empty empty? ensure ensure-reduced enumeration-seq error-handler error-mode eval even? every-pred every? ex-data ex-info extend extend-protocol extend-type extenders extends? false? ffirst file-seq filter filterv find find-keyword find-ns find-protocol-impl find-protocol-method find-var first flatten float float-array float? floats flush fn fn? fnext fnil for force format frequencies future future-call future-cancel future-cancelled? future-done? future? gen-class gen-interface gensym get get-in get-method get-proxy-class get-thread-bindings get-validator group-by halt-when hash hash-combine hash-map hash-ordered-coll hash-set hash-unordered-coll ident? identical? identity if-let if-not if-some ifn? import in-ns inc inc' indexed? init-proxy inst-ms inst-ms* inst? instance? int int-array int? integer? interleave intern interpose into into-array ints io! isa? iterate iterator-seq juxt keep keep-indexed key keys keyword keyword? last lazy-cat lazy-seq let letfn line-seq list list* list? load load-file load-reader load-string loaded-libs locking long long-array longs loop macroexpand macroexpand-1 make-array make-hierarchy map map-entry? map-indexed map? mapcat mapv max max-key memfn memoize merge merge-with meta method-sig methods min min-key mix-collection-hash mod munge name namespace namespace-munge nat-int? neg-int? neg? newline next nfirst nil? nnext not not-any? not-empty not-every? not\x3d ns ns-aliases ns-imports ns-interns ns-map ns-name ns-publics ns-refers ns-resolve ns-unalias ns-unmap nth nthnext nthrest num number? numerator object-array odd? or parents partial partition partition-all partition-by pcalls peek persistent! pmap pop pop! pop-thread-bindings pos-int? pos? pr pr-str prefer-method prefers primitives-classnames print print-ctor print-dup print-method print-simple print-str printf println println-str prn prn-str promise proxy proxy-call-with-super proxy-mappings proxy-name proxy-super push-thread-bindings pvalues qualified-ident? qualified-keyword? qualified-symbol? quot rand rand-int rand-nth random-sample range ratio? rational? rationalize re-find re-groups re-matcher re-matches re-pattern re-seq read read-line read-string reader-conditional reader-conditional? realized? record? reduce reduce-kv reduced reduced? reductions ref ref-history-count ref-max-history ref-min-history ref-set refer refer-clojure reify release-pending-sends rem remove remove-all-methods remove-method remove-ns remove-watch repeat repeatedly replace replicate require reset! reset-meta! reset-vals! resolve rest restart-agent resultset-seq reverse reversible? rseq rsubseq run! satisfies? second select-keys send send-off send-via seq seq? seqable? seque sequence sequential? set set-agent-send-executor! set-agent-send-off-executor! set-error-handler! set-error-mode! set-validator! set? short short-array shorts shuffle shutdown-agents simple-ident? simple-keyword? simple-symbol? slurp some some-\x3e some-\x3e\x3e some-fn some? sort sort-by sorted-map sorted-map-by sorted-set sorted-set-by sorted? special-symbol? spit split-at split-with str string? struct struct-map subs subseq subvec supers swap! swap-vals! symbol symbol? sync tagged-literal tagged-literal? take take-last take-nth take-while test the-ns thread-bound? time to-array to-array-2d trampoline transduce transient tree-seq true? type unchecked-add unchecked-add-int unchecked-byte unchecked-char unchecked-dec unchecked-dec-int unchecked-divide-int unchecked-double unchecked-float unchecked-inc unchecked-inc-int unchecked-int unchecked-long unchecked-multiply unchecked-multiply-int unchecked-negate unchecked-negate-int unchecked-remainder-int unchecked-short unchecked-subtract unchecked-subtract-int underive unquote unquote-splicing unreduced unsigned-bit-shift-right update update-in update-proxy uri? use uuid? val vals var-get var-set var? vary-meta vec vector vector-of vector? volatile! volatile? vreset! vswap! when when-first when-let when-not when-some while with-bindings with-bindings* with-in-str with-loading-context with-local-vars with-meta with-open with-out-str with-precision with-redefs with-redefs-fn xml-seq zero? zipmap".split(" ");
g.registerHelper("hintWords","clojure",[].concat(q,l,h));var c=x(q),e=x(l),a=x(h),f=x("-\x3e -\x3e\x3e as-\x3e binding bound-fn case catch comment cond cond-\x3e cond-\x3e\x3e condp def definterface defmethod defn defmacro defprotocol defrecord defstruct deftype do doseq dotimes doto extend extend-protocol extend-type fn for future if if-let if-not if-some let letfn locking loop ns proxy reify struct-map some-\x3e some-\x3e\x3e try when when-first when-let when-not when-some while with-bindings with-bindings* with-in-str with-loading-context with-local-vars with-meta with-open with-out-str with-precision with-redefs with-redefs-fn".split(" ")),
p=/^(?:[\\\[\]\s"(),;@^`{}~]|$)/,A=/^(?:[+\-]?\d+(?:(?:N|(?:[eE][+\-]?\d+))|(?:\.?\d*(?:M|(?:[eE][+\-]?\d+))?)|\/\d+|[xX][0-9a-fA-F]+|r[0-9a-zA-Z]+)?(?=[\\\[\]\s"#'(),;@^`{}~]|$))/,C=/^(?:\\(?:backspace|formfeed|newline|return|space|tab|o[0-7]{3}|u[0-9A-Fa-f]{4}|x[0-9A-Fa-f]{4}|.)?(?=[\\\[\]\s"(),;@^`{}~]|$))/,D=/^(?:(?:[^\\\/\[\]\d\s"#'(),;@^`{}~.][^\\\[\]\s"(),;@^`{}~.\/]*(?:\.[^\\\/\[\]\d\s"#'(),;@^`{}~.][^\\\[\]\s"(),;@^`{}~.\/]*)*\/)?(?:\/|[^\\\/\[\]\d\s"#'(),;@^`{}~][^\\\[\]\s"(),;@^`{}~]*)*(?=[\\\[\]\s"(),;@^`{}~]|$))/;
return{startState:function(){return{ctx:{prev:null,start:0,indentTo:0},lastToken:null,tokenize:n}},token:function(P,L){P.sol()&&"number"!==typeof L.ctx.indentTo&&(L.ctx.indentTo=L.ctx.start+1);var G=L.tokenize(P,L),z=G[0];G=G[1];var J=P.current();"space"!==z&&("("===L.lastToken&&null===L.ctx.indentTo?"symbol"===z&&y(J,f)?L.ctx.indentTo=L.ctx.start+m.indentUnit:L.ctx.indentTo="next":"next"===L.ctx.indentTo&&(L.ctx.indentTo=P.column()),L.lastToken=J);"open"===z?L.ctx={prev:L.ctx,start:P.column(),indentTo:null}:
"close"===z&&(L.ctx=L.ctx.prev||L.ctx);return G},indent:function(P){var L=P.ctx.indentTo;return"number"===typeof L?L:P.ctx.start+1},closeBrackets:{pairs:'()[]{}""'},lineComment:";;"}});g.defineMIME("text/x-clojure","clojure");g.defineMIME("text/x-clojurescript","clojure");g.defineMIME("application/edn","clojure")})};
shadow$provide[69]=function(Ha,B,rb,E){(function(g){"object"==typeof E&&"object"==typeof rb?g(B(67)):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],g):g(CodeMirror)})(function(g){var m={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,
dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,
caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};g.defineMode("xml",function(F,O){function x(ba,da){function ja(Q){da.tokenize=Q;return Q(ba,da)}var Z=ba.next();if("\x3c"==Z){if(ba.eat("!"))return ba.eat("[")?ba.match("CDATA[")?ja(l("atom","]]\x3e")):null:ba.match("--")?ja(l("comment","--\x3e")):ba.match("DOCTYPE",!0,!0)?(ba.eatWhile(/[\w\._\-]/),ja(h(1))):null;if(ba.eat("?"))return ba.eatWhile(/[\w\._\-]/),
da.tokenize=l("meta","?\x3e"),"meta";U=ba.eat("/")?"closeTag":"openTag";da.tokenize=y;return"tag bracket"}if("\x26"==Z)return(ba.eat("#")?ba.eat("x")?ba.eatWhile(/[a-fA-F\d]/)&&ba.eat(";"):ba.eatWhile(/[\d]/)&&ba.eat(";"):ba.eatWhile(/[\w\.\-:]/)&&ba.eat(";"))?"atom":"error";ba.eatWhile(/[^&<]/);return null}function y(ba,da){var ja=ba.next();if("\x3e"==ja||"/"==ja&&ba.eat("\x3e"))return da.tokenize=x,U="\x3e"==ja?"endTag":"selfcloseTag","tag bracket";if("\x3d"==ja)return U="equals",null;if("\x3c"==
ja)return da.tokenize=x,da.state=f,da.tagName=da.tagStart=null,(ba=da.tokenize(ba,da))?ba+" tag error":"tag error";if(/['"]/.test(ja))return da.tokenize=q(ja),da.stringStartCol=ba.column(),da.tokenize(ba,da);ba.match(/^[^\s\u00a0=<>"']*[^\s\u00a0=<>"'\/]/);return"word"}function q(ba){var da=function(ja,Z){for(;!ja.eol();)if(ja.next()==ba){Z.tokenize=y;break}return"string"};da.isInAttribute=!0;return da}function l(ba,da){return function(ja,Z){for(;!ja.eol();){if(ja.match(da)){Z.tokenize=x;break}ja.next()}return ba}}
function h(ba){return function(da,ja){for(var Z;null!=(Z=da.next());){if("\x3c"==Z)return ja.tokenize=h(ba+1),ja.tokenize(da,ja);if("\x3e"==Z)if(1==ba){ja.tokenize=x;break}else return ja.tokenize=h(ba-1),ja.tokenize(da,ja)}return"meta"}}function c(ba,da,ja){this.prev=ba.context;this.tagName=da||"";this.indent=ba.indented;this.startOfLine=ja;if(K.doNotIndent.hasOwnProperty(da)||ba.context&&ba.context.noIndent)this.noIndent=!0}function e(ba){ba.context&&(ba.context=ba.context.prev)}function a(ba,da){for(var ja;ba.context;){ja=
ba.context.tagName;if(!K.contextGrabbers.hasOwnProperty(ja)||!K.contextGrabbers[ja].hasOwnProperty(da))break;e(ba)}}function f(ba,da,ja){return"openTag"==ba?(ja.tagStart=da.column(),p):"closeTag"==ba?A:f}function p(ba,da,ja){if("word"==ba)return ja.tagName=da.current(),ka="tag",P;if(K.allowMissingTagName&&"endTag"==ba)return ka="tag bracket",P(ba,da,ja);ka="error";return p}function A(ba,da,ja){if("word"==ba){ba=da.current();ja.context&&ja.context.tagName!=ba&&K.implicitlyClosed.hasOwnProperty(ja.context.tagName)&&
e(ja);if(ja.context&&ja.context.tagName==ba||!1===K.matchClosing)return ka="tag",C;ka="tag error";return D}if(K.allowMissingTagName&&"endTag"==ba)return ka="tag bracket",C(ba,da,ja);ka="error";return D}function C(ba,da,ja){if("endTag"!=ba)return ka="error",C;e(ja);return f}function D(ba,da,ja){ka="error";return C(ba,da,ja)}function P(ba,da,ja){if("word"==ba)return ka="attribute",L;if("endTag"==ba||"selfcloseTag"==ba){da=ja.tagName;var Z=ja.tagStart;ja.tagName=ja.tagStart=null;"selfcloseTag"==ba||
K.autoSelfClosers.hasOwnProperty(da)?a(ja,da):(a(ja,da),ja.context=new c(ja,da,Z==ja.indented));return f}ka="error";return P}function L(ba,da,ja){if("equals"==ba)return G;K.allowMissing||(ka="error");return P(ba,da,ja)}function G(ba,da,ja){if("string"==ba)return z;if("word"==ba&&K.allowUnquoted)return ka="string",P;ka="error";return P(ba,da,ja)}function z(ba,da,ja){return"string"==ba?z:P(ba,da,ja)}var J=F.indentUnit,K={};F=O.htmlMode?m:n;for(var R in F)K[R]=F[R];for(R in O)K[R]=O[R];var U,ka;x.isInText=
!0;return{startState:function(ba){var da={tokenize:x,state:f,indented:ba||0,tagName:null,tagStart:null,context:null};null!=ba&&(da.baseIndent=ba);return da},token:function(ba,da){!da.tagName&&ba.sol()&&(da.indented=ba.indentation());if(ba.eatSpace())return null;U=null;var ja=da.tokenize(ba,da);(ja||U)&&"comment"!=ja&&(ka=null,da.state=da.state(U||ja,ba,da),ka&&(ja="error"==ka?ja+" error":ka));return ja},indent:function(ba,da,ja){var Z=ba.context;if(ba.tokenize.isInAttribute)return ba.tagStart==ba.indented?
ba.stringStartCol+1:ba.indented+J;if(Z&&Z.noIndent)return g.Pass;if(ba.tokenize!=y&&ba.tokenize!=x)return ja?ja.match(/^(\s*)/)[0].length:0;if(ba.tagName)return!1!==K.multilineTagIndentPastTag?ba.tagStart+ba.tagName.length+2:ba.tagStart+J*(K.multilineTagIndentFactor||1);if(K.alignCDATA&&/<!\[CDATA\[/.test(da))return 0;if((da=da&&/^<(\/)?([\w_:\.-]*)/.exec(da))&&da[1])for(;Z;)if(Z.tagName==da[2]){Z=Z.prev;break}else if(K.implicitlyClosed.hasOwnProperty(Z.tagName))Z=Z.prev;else break;else if(da)for(;Z;)if((ja=
K.contextGrabbers[Z.tagName])&&ja.hasOwnProperty(da[2]))Z=Z.prev;else break;for(;Z&&Z.prev&&!Z.startOfLine;)Z=Z.prev;return Z?Z.indent+J:ba.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:K.htmlMode?"html":"xml",helperType:K.htmlMode?"html":"xml",skipAttribute:function(ba){ba.state==G&&(ba.state=P)},xmlCurrentTag:function(ba){return ba.tagName?{name:ba.tagName,close:"closeTag"==ba.type}:null},xmlCurrentContext:function(ba){var da=[];
for(ba=ba.context;ba;ba=ba.prev)da.push(ba.tagName);return da.reverse()}}});g.defineMIME("text/xml","xml");g.defineMIME("application/xml","xml");g.mimeModes.hasOwnProperty("text/html")||g.defineMIME("text/html",{name:"xml",htmlMode:!0})})};
shadow$provide[70]=function(Ha,B,rb,E){(function(g){"object"==typeof E&&"object"==typeof rb?g(B(67)):"function"==typeof define&&define.amd?define(["../lib/codemirror"],g):g(CodeMirror)})(function(g){g.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},
{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:"cpp c++ cc cxx hpp h++ hh hxx".split(" "),alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",
mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",
mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",
ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",
ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},
{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",
ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",
ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript",
"text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",
mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",
mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",
mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",
mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:"php php3 php4 php5 php7 phtml".split(" ")},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:"txt text conf def list log".split(" ")},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",
ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",
ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",
mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",
mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},
{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},
{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:"123456789".split("")},
{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",
mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},
{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",
mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var m=0;m<g.modeInfo.length;m++){var n=g.modeInfo[m];n.mimes&&(n.mime=n.mimes[0])}g.findModeByMIME=function(F){F=F.toLowerCase();for(var O=0;O<g.modeInfo.length;O++){var x=g.modeInfo[O];if(x.mime==F)return x;if(x.mimes)for(var y=0;y<x.mimes.length;y++)if(x.mimes[y]==F)return x}if(/\+xml$/.test(F))return g.findModeByMIME("application/xml");if(/\+json$/.test(F))return g.findModeByMIME("application/json")};g.findModeByExtension=function(F){F=
F.toLowerCase();for(var O=0;O<g.modeInfo.length;O++){var x=g.modeInfo[O];if(x.ext)for(var y=0;y<x.ext.length;y++)if(x.ext[y]==F)return x}};g.findModeByFileName=function(F){for(var O=0;O<g.modeInfo.length;O++){var x=g.modeInfo[O];if(x.file&&x.file.test(F))return x}O=F.lastIndexOf(".");if(F=-1<O&&F.substring(O+1,F.length))return g.findModeByExtension(F)};g.findModeByName=function(F){F=F.toLowerCase();for(var O=0;O<g.modeInfo.length;O++){var x=g.modeInfo[O];if(x.name.toLowerCase()==F)return x;if(x.alias)for(var y=
0;y<x.alias.length;y++)if(x.alias[y].toLowerCase()==F)return x}}})};
shadow$provide[71]=function(Ha,B,rb,E){(function(g){"object"==typeof E&&"object"==typeof rb?g(B(67),B(69),B(70)):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../meta"],g):g(CodeMirror)})(function(g){g.defineMode("markdown",function(m,n){function F(r,N,ea){N.f=N.inline=ea;return ea(r,N)}function O(r){r.linkTitle=!1;r.linkHref=!1;r.linkText=!1;r.em=!1;r.strong=!1;r.strikethrough=!1;r.quote=0;r.indentedCode=!1;if(r.f==y){var N=P;N||(N=g.innerMode(D,r.htmlState),
N="xml"==N.mode.name&&null===N.state.tagStart&&!N.state.context&&N.state.tokenize.isInText);N&&(r.f=c,r.block=x,r.htmlState=null)}r.trailingSpace=0;r.trailingSpaceNewLine=!1;r.prevLine=r.thisLine;r.thisLine={stream:null};return null}function x(r,N){var ea=r.column()===N.indentation,aa=N.prevLine.stream;var va=!aa||!/\S/.test(aa.string);var ta=N.indentedCode,Da=N.prevLine.hr,$a=!1!==N.list,kb=(N.listStack[N.listStack.length-1]||0)+3;N.indentedCode=!1;aa=N.indentation;if(null===N.indentationDiff&&(N.indentationDiff=
N.indentation,$a)){for(N.list=null;aa<N.listStack[N.listStack.length-1];)N.listStack.pop(),N.listStack.length?N.indentation=N.listStack[N.listStack.length-1]:N.list=!1;!1!==N.list&&(N.indentationDiff=aa-N.listStack[N.listStack.length-1])}var sa=!va&&!Da&&!N.prevLine.header&&(!$a||!ta)&&!N.prevLine.fencedCodeEnd,Ta=(!1===N.list||Da||va)&&N.indentation<=kb&&r.match(z);Da=null;if(4<=N.indentationDiff&&(ta||N.prevLine.fencedCodeEnd||N.prevLine.header||va))return r.skipToEnd(),N.indentedCode=!0,L.code;
if(r.eatSpace())return null;if(ea&&N.indentation<=kb&&(Da=r.match(R))&&6>=Da[1].length)return N.quote=0,N.header=Da[1].length,N.thisLine.header=!0,n.highlightFormatting&&(N.formatting="header"),N.f=N.inline,l(N);if(N.indentation<=kb&&r.eat("\x3e"))return N.quote=ea?1:N.quote+1,n.highlightFormatting&&(N.formatting="quote"),r.eatSpace(),l(N);if(!Ta&&!N.setext&&ea&&N.indentation<=kb&&(Da=r.match(J)))return ea=Da[1]?"ol":"ul",N.indentation=aa+r.current().length,N.list=!0,N.quote=0,N.listStack.push(N.indentation),
N.em=!1,N.strong=!1,N.code=!1,N.strikethrough=!1,n.taskLists&&r.match(K,!1)&&(N.taskList=!0),N.f=N.inline,n.highlightFormatting&&(N.formatting=["list","list-"+ea]),l(N);if(ea&&N.indentation<=kb&&(Da=r.match(ba,!0))){N.quote=0;N.fencedEndRE=new RegExp(Da[1]+"+ *$");if(r=n.fencedCodeBlockHighlighting)r=Da[2]||n.fencedCodeBlockDefaultMode,g.findModeByName&&(ea=g.findModeByName(r))&&(r=ea.mime||ea.mimes[0]),r=g.getMode(m,r),r="null"==r.name?null:r;N.localMode=r;N.localMode&&(N.localState=g.startState(N.localMode));
N.f=N.block=q;n.highlightFormatting&&(N.formatting="code-block");N.code=-1;return l(N)}return N.setext||!(sa&&$a||N.quote||!1!==N.list||N.code||Ta||da.test(r.string))&&(Da=r.lookAhead(1))&&(Da=Da.match(U))?(N.setext?(N.header=N.setext,N.setext=0,r.skipToEnd(),n.highlightFormatting&&(N.formatting="header")):(N.header="\x3d"==Da[0].charAt(0)?1:2,N.setext=N.header),N.thisLine.header=!0,N.f=N.inline,l(N)):Ta?(r.skipToEnd(),N.hr=!0,N.thisLine.hr=!0,L.hr):"["===r.peek()?F(r,N,p):F(r,N,N.inline)}function y(r,
N){var ea=D.token(r,N.htmlState);if(!P){var aa=g.innerMode(D,N.htmlState);if("xml"==aa.mode.name&&null===aa.state.tagStart&&!aa.state.context&&aa.state.tokenize.isInText||N.md_inside&&-1<r.current().indexOf("\x3e"))N.f=c,N.block=x,N.htmlState=null}return ea}function q(r,N){var ea=N.listStack[N.listStack.length-1]||0,aa=N.indentation<ea;if(N.fencedEndRE&&N.indentation<=ea+3&&(aa||r.match(N.fencedEndRE))){n.highlightFormatting&&(N.formatting="code-block");var va;aa||(va=l(N));N.localMode=N.localState=
null;N.block=x;N.f=c;N.fencedEndRE=null;N.code=0;N.thisLine.fencedCodeEnd=!0;return aa?(ea=N.block,N.f=N.block=ea,ea(r,N)):va}if(N.localMode)return N.localMode.token(r,N.localState);r.skipToEnd();return L.code}function l(r){var N=[];if(r.formatting){N.push(L.formatting);"string"===typeof r.formatting&&(r.formatting=[r.formatting]);for(var ea=0;ea<r.formatting.length;ea++)N.push(L.formatting+"-"+r.formatting[ea]),"header"===r.formatting[ea]&&N.push(L.formatting+"-"+r.formatting[ea]+"-"+r.header),"quote"===
r.formatting[ea]&&(!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=r.quote?N.push(L.formatting+"-"+r.formatting[ea]+"-"+r.quote):N.push("error"))}if(r.taskOpen)return N.push("meta"),N.length?N.join(" "):null;if(r.taskClosed)return N.push("property"),N.length?N.join(" "):null;r.linkHref?N.push(L.linkHref,"url"):(r.strong&&N.push(L.strong),r.em&&N.push(L.em),r.strikethrough&&N.push(L.strikethrough),r.emoji&&N.push(L.emoji),r.linkText&&N.push(L.linkText),r.code&&N.push(L.code),r.image&&N.push(L.image),
r.imageAltText&&N.push(L.imageAltText,"link"),r.imageMarker&&N.push(L.imageMarker));r.header&&N.push(L.header,L.header+"-"+r.header);r.quote&&(N.push(L.quote),!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=r.quote?N.push(L.quote+"-"+r.quote):N.push(L.quote+"-"+n.maxBlockquoteDepth));!1!==r.list&&((ea=(r.listStack.length-1)%3)?1===ea?N.push(L.list2):N.push(L.list3):N.push(L.list1));r.trailingSpaceNewLine?N.push("trailing-space-new-line"):r.trailingSpace&&N.push("trailing-space-"+(r.trailingSpace%2?"a":
"b"));return N.length?N.join(" "):null}function h(r,N){if(r.match(ka,!0))return l(N)}function c(r,N){var ea=N.text(r,N);if("undefined"!==typeof ea)return ea;if(N.list)return N.list=null,l(N);if(N.taskList)return" "===r.match(K,!0)[1]?N.taskOpen=!0:N.taskClosed=!0,n.highlightFormatting&&(N.formatting="task"),N.taskList=!1,l(N);N.taskOpen=!1;N.taskClosed=!1;if(N.header&&r.match(/^#+$/,!0))return n.highlightFormatting&&(N.formatting="header"),l(N);ea=r.next();if(N.linkTitle){N.linkTitle=!1;var aa=ea;
"("===ea&&(aa=")");aa=(aa+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");if(r.match(new RegExp("^\\s*(?:[^"+aa+"\\\\]+|\\\\\\\\|\\\\.)"+aa),!0))return L.linkHref}if("`"===ea){ea=N.formatting;n.highlightFormatting&&(N.formatting="code");r.eatWhile("`");r=r.current().length;if(0!=N.code||N.quote&&1!=r){if(r==N.code)return r=l(N),N.code=0,r;N.formatting=ea;return l(N)}N.code=r;return l(N)}if(N.code)return l(N);if("\\"===ea&&(r.next(),n.highlightFormatting))return ea=l(N),N=L.formatting+"-escape",ea?ea+
" "+N:N;if("!"===ea&&r.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return N.imageMarker=!0,N.image=!0,n.highlightFormatting&&(N.formatting="image"),l(N);if("["===ea&&N.imageMarker&&r.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return N.imageMarker=!1,N.imageAltText=!0,n.highlightFormatting&&(N.formatting="image"),l(N);if("]"===ea&&N.imageAltText)return n.highlightFormatting&&(N.formatting="image"),ea=l(N),N.imageAltText=!1,N.image=!1,N.inline=N.f=a,ea;if("["===ea&&!N.image){if(N.linkText&&r.match(/^.*?\]/))return l(N);
N.linkText=!0;n.highlightFormatting&&(N.formatting="link");return l(N)}if("]"===ea&&N.linkText)return n.highlightFormatting&&(N.formatting="link"),ea=l(N),N.linkText=!1,N.inline=N.f=r.match(/\(.*?\)| ?\[.*?\]/,!1)?a:c,ea;if("\x3c"===ea&&r.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return N.f=N.inline=e,n.highlightFormatting&&(N.formatting="link"),ea=l(N),(ea?ea+" ":"")+L.linkInline;if("\x3c"===ea&&r.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return N.f=N.inline=e,n.highlightFormatting&&(N.formatting=
"link"),ea=l(N),(ea?ea+" ":"")+L.linkEmail;if(n.xml&&"\x3c"===ea&&r.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1))return ea=r.string.indexOf("\x3e",r.pos),-1!=ea&&(ea=r.string.substring(r.start,ea),/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(ea)&&(N.md_inside=!0)),r.backUp(1),N.htmlState=g.startState(D),ea=y,N.f=N.block=ea,ea(r,N);if(n.xml&&"\x3c"===ea&&r.match(/^\/\w*?>/))return N.md_inside=!1,"tag";if("*"===ea||"_"===ea){for(var va=1,ta=1==r.pos?
" ":r.string.charAt(r.pos-2);3>va&&r.eat(ea);)va++;var Da=r.peek()||" ",$a=!/\s/.test(Da)&&(!ja.test(Da)||/\s/.test(ta)||ja.test(ta)),kb=!/\s/.test(ta)&&(!ja.test(ta)||/\s/.test(Da)||ja.test(Da)),sa=aa=null;va%2&&(N.em||!$a||"*"!==ea&&kb&&!ja.test(ta)?N.em!=ea||!kb||"*"!==ea&&$a&&!ja.test(Da)||(aa=!1):aa=!0);1<va&&(N.strong||!$a||"*"!==ea&&kb&&!ja.test(ta)?N.strong!=ea||!kb||"*"!==ea&&$a&&!ja.test(Da)||(sa=!1):sa=!0);if(null!=sa||null!=aa)return n.highlightFormatting&&(N.formatting=null==aa?"strong":
null==sa?"em":"strong em"),!0===aa&&(N.em=ea),!0===sa&&(N.strong=ea),r=l(N),!1===aa&&(N.em=!1),!1===sa&&(N.strong=!1),r}else if(" "===ea&&(r.eat("*")||r.eat("_"))){if(" "===r.peek())return l(N);r.backUp(1)}if(n.strikethrough)if("~"===ea&&r.eatWhile(ea)){if(N.strikethrough)return n.highlightFormatting&&(N.formatting="strikethrough"),r=l(N),N.strikethrough=!1,r;if(r.match(/^[^\s]/,!1))return N.strikethrough=!0,n.highlightFormatting&&(N.formatting="strikethrough"),l(N)}else if(" "===ea&&r.match("~~",
!0)){if(" "===r.peek())return l(N);r.backUp(2)}if(n.emoji&&":"===ea&&r.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/))return N.emoji=!0,n.highlightFormatting&&(N.formatting="emoji"),r=l(N),N.emoji=!1,r;" "===ea&&(r.match(/^ +$/,!1)?N.trailingSpace++:N.trailingSpace&&(N.trailingSpaceNewLine=!0));return l(N)}function e(r,N){if("\x3e"===r.next())return N.f=N.inline=c,n.highlightFormatting&&(N.formatting="link"),r=l(N),(r?r+" ":"")+L.linkInline;r.match(/^[^>]+/,!0);return L.linkInline}function a(r,
N){if(r.eatSpace())return null;r=r.next();return"("===r||"["===r?(N.f=N.inline=f("("===r?")":"]"),n.highlightFormatting&&(N.formatting="link-string"),N.linkHref=!0,l(N)):"error"}function f(r){return function(N,ea){if(N.next()===r)return ea.f=ea.inline=c,n.highlightFormatting&&(ea.formatting="link-string"),N=l(ea),ea.linkHref=!1,N;N.match(Z[r]);ea.linkHref=!0;return l(ea)}}function p(r,N){return r.match(/^([^\]\\]|\\.)*\]:/,!1)?(N.f=A,r.next(),n.highlightFormatting&&(N.formatting="link"),N.linkText=
!0,l(N)):F(r,N,c)}function A(r,N){if(r.match("]:",!0))return N.f=N.inline=C,n.highlightFormatting&&(N.formatting="link"),r=l(N),N.linkText=!1,r;r.match(/^([^\]\\]|\\.)+/,!0);return L.linkText}function C(r,N){if(r.eatSpace())return null;r.match(/^[^\s]+/,!0);void 0===r.peek()?N.linkTitle=!0:r.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0);N.f=N.inline=c;return L.linkHref+" url"}var D=g.getMode(m,"text/html"),P="null"==D.name;void 0===n.highlightFormatting&&
(n.highlightFormatting=!1);void 0===n.maxBlockquoteDepth&&(n.maxBlockquoteDepth=0);void 0===n.taskLists&&(n.taskLists=!1);void 0===n.strikethrough&&(n.strikethrough=!1);void 0===n.emoji&&(n.emoji=!1);void 0===n.fencedCodeBlockHighlighting&&(n.fencedCodeBlockHighlighting=!0);void 0===n.fencedCodeBlockDefaultMode&&(n.fencedCodeBlockDefaultMode="text/plain");void 0===n.xml&&(n.xml=!0);void 0===n.tokenTypeOverrides&&(n.tokenTypeOverrides={});var L={header:"header",code:"comment",quote:"quote",list1:"variable-2",
list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"},G;for(G in L)L.hasOwnProperty(G)&&n.tokenTypeOverrides[G]&&(L[G]=n.tokenTypeOverrides[G]);var z=/^([*\-_])(?:\s*\1){2,}\s*$/,J=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,K=/^\[(x| )\](?=\s)/i,R=n.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,
U=/^ {0,3}(?:={1,}|-{2,})\s*$/,ka=/^[^#!\[\]*_\\<>` "'(~:]+/,ba=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,da=/^\s*\[[^\]]+?\]:.*$/,ja=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,
Z={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/},Q={startState:function(){return{f:x,prevLine:{stream:null},thisLine:{stream:null},block:x,htmlState:null,indentation:0,inline:c,text:h,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(r){return{f:r.f,
prevLine:r.prevLine,thisLine:r.thisLine,block:r.block,htmlState:r.htmlState&&g.copyState(D,r.htmlState),indentation:r.indentation,localMode:r.localMode,localState:r.localMode?g.copyState(r.localMode,r.localState):null,inline:r.inline,text:r.text,formatting:!1,linkText:r.linkText,linkTitle:r.linkTitle,linkHref:r.linkHref,code:r.code,em:r.em,strong:r.strong,strikethrough:r.strikethrough,emoji:r.emoji,header:r.header,setext:r.setext,hr:r.hr,taskList:r.taskList,list:r.list,listStack:r.listStack.slice(0),
quote:r.quote,indentedCode:r.indentedCode,trailingSpace:r.trailingSpace,trailingSpaceNewLine:r.trailingSpaceNewLine,md_inside:r.md_inside,fencedEndRE:r.fencedEndRE}},token:function(r,N){N.formatting=!1;if(r!=N.thisLine.stream){N.header=0;N.hr=!1;if(r.match(/^\s*$/,!0))return O(N),null;N.prevLine=N.thisLine;N.thisLine={stream:r};N.taskList=!1;N.trailingSpace=0;N.trailingSpaceNewLine=!1;if(!N.localState&&(N.f=N.block,N.f!=y)){var ea=r.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;N.indentation=ea;
N.indentationDiff=null;if(0<ea)return null}}return N.f(r,N)},innerMode:function(r){return r.block==y?{state:r.htmlState,mode:D}:r.localState?{state:r.localState,mode:r.localMode}:{state:r,mode:Q}},indent:function(r,N,ea){return r.block==y&&D.indent?D.indent(r.htmlState,N,ea):r.localState&&r.localMode.indent?r.localMode.indent(r.localState,N,ea):g.Pass},blankLine:O,getType:l,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return Q},"xml");g.defineMIME("text/markdown",
"markdown");g.defineMIME("text/x-markdown","markdown")})};
shadow$provide[72]=function(Ha,B,rb,E){(function(g){"object"==typeof E&&"object"==typeof rb?g(B(67)):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],g):g(CodeMirror)})(function(g){g.overlayMode=function(m,n,F){return{startState:function(){return{base:g.startState(m),overlay:g.startState(n),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(O){return{base:g.copyState(m,O.base),overlay:g.copyState(n,O.overlay),basePos:O.basePos,baseCur:null,
overlayPos:O.overlayPos,overlayCur:null}},token:function(O,x){if(O!=x.streamSeen||Math.min(x.basePos,x.overlayPos)<O.start)x.streamSeen=O,x.basePos=x.overlayPos=O.start;O.start==x.basePos&&(x.baseCur=m.token(O,x.base),x.basePos=O.pos);O.start==x.overlayPos&&(O.pos=O.start,x.overlayCur=n.token(O,x.overlay),x.overlayPos=O.pos);O.pos=Math.min(x.basePos,x.overlayPos);return null==x.overlayCur?x.baseCur:null!=x.baseCur&&x.overlay.combineTokens||F&&null==x.overlay.combineTokens?x.baseCur+" "+x.overlayCur:
x.overlayCur},indent:m.indent&&function(O,x,y){return m.indent(O.base,x,y)},electricChars:m.electricChars,innerMode:function(O){return{state:O.base,mode:m}},blankLine:function(O){var x,y;m.blankLine&&(x=m.blankLine(O.base));n.blankLine&&(y=n.blankLine(O.overlay));return null==y?x:F&&null!=x?x+" "+y:y}}}})};
shadow$provide[73]=function(Ha,B,rb,E){(function(g){"object"==typeof E&&"object"==typeof rb?g(B(67),B(71),B(72)):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../markdown/markdown","../../addon/mode/overlay"],g):g(CodeMirror)})(function(g){var m=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?]))/i;
g.defineMode("gfm",function(n,F){var O=0,x={taskLists:!0,strikethrough:!0,emoji:!0},y;for(y in F)x[y]=F[y];x.name="markdown";return g.overlayMode(g.getMode(n,x),{startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(q){return{code:q.code,codeBlock:q.codeBlock,ateSpace:q.ateSpace}},token:function(q,l){l.combineTokens=null;if(l.codeBlock){if(q.match(/^```+/))return l.codeBlock=!1,null;q.skipToEnd();return null}q.sol()&&(l.code=!1);if(q.sol()&&q.match(/^```+/))return q.skipToEnd(),
l.codeBlock=!0,null;if("`"===q.peek()){q.next();var h=q.pos;q.eatWhile("`");q=1+q.pos-h;l.code?q===O&&(l.code=!1):(O=q,l.code=!0);return null}if(l.code)return q.next(),null;if(q.eatSpace())return l.ateSpace=!0,null;if(q.sol()||l.ateSpace)if(l.ateSpace=!1,!1!==F.gitHubSpice&&(q.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/)||q.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/)))return l.combineTokens=!0,"link";if(q.match(m)&&"]("!=q.string.slice(q.start-
2,q.start)&&(0==q.start||/\W/.test(q.string.charAt(q.start-1))))return l.combineTokens=!0,"link";q.next();return null},blankLine:function(q){q.code=!1;return null}})},"markdown");g.defineMIME("text/x-gfm","gfm")})};
shadow$provide[74]=function(Ha,B,rb,E){(function(g,m){"function"==typeof define&&define.amd?define([],m):"undefined"!=typeof E?m():(m(),g.FileSaver={})})(this,function(){function g(q,l){return"undefined"==typeof l?l={autoBom:!1}:"object"!=typeof l&&(console.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(q.type)?new Blob(["",q],{type:q.type}):q}function m(q,l,h){var c=new XMLHttpRequest;
c.open("GET",q);c.responseType="blob";c.onload=function(){y(c.response,l,h)};c.onerror=function(){console.error("could not download file")};c.send()}function n(q){var l=new XMLHttpRequest;l.open("HEAD",q,!1);try{l.send()}catch(h){}return 200<=l.status&&299>=l.status}function F(q){try{q.dispatchEvent(new MouseEvent("click"))}catch(h){var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null);q.dispatchEvent(l)}}var O="object"==typeof window&&window.window===
window?window:"object"==typeof self&&self.self===self?self:"object"==typeof Ha&&Ha.global===Ha?Ha:void 0,x=O.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),y=O.saveAs||("object"!=typeof window||window!==O?function(){}:"download"in HTMLAnchorElement.prototype&&!x?function(q,l,h){var c=O.URL||O.webkitURL,e=document.createElement("a");l=l||q.name||"download";e.download=l;e.rel="noopener";"string"==typeof q?(e.href=q,e.origin===
location.origin?F(e):n(e.href)?m(q,l,h):F(e,e.target="_blank")):(e.href=c.createObjectURL(q),setTimeout(function(){c.revokeObjectURL(e.href)},4E4),setTimeout(function(){F(e)},0))}:"msSaveOrOpenBlob"in navigator?function(q,l,h){if(l=l||q.name||"download","string"!=typeof q)navigator.msSaveOrOpenBlob(g(q,h),l);else if(n(q))m(q,l,h);else{var c=document.createElement("a");c.href=q;c.target="_blank";setTimeout(function(){F(c)})}}:function(q,l,h,c){if(c=c||open("","_blank"),c&&(c.document.title=c.document.body.innerText=
"downloading..."),"string"==typeof q)return m(q,l,h);l="application/octet-stream"===q.type;h=/constructor/i.test(O.HTMLElement)||O.safari;var e=/CriOS\/[\d]+/.test(navigator.userAgent);if((e||l&&h||x)&&"undefined"!=typeof FileReader){var a=new FileReader;a.onloadend=function(){var A=a.result;A=e?A:A.replace(/^data:[^;]*;/,"data:attachment/file;");c?c.location.href=A:location=A;c=null};a.readAsDataURL(q)}else{var f=O.URL||O.webkitURL,p=f.createObjectURL(q);c?c.location=p:location.href=p;c=null;setTimeout(function(){f.revokeObjectURL(p)},
4E4)}});O.saveAs=y.saveAs=y;"undefined"!=typeof rb&&(rb.exports=y)})};
shadow$provide[75]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=function(){function g(){this.disposed=!1}g.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())};g.prototype.disposeInternal=function(){};return g}();E["default"]=Ha};
shadow$provide[76]=function(Ha,B,rb,E){function g(m,n){return m>n?1:m<n?-1:0}Object.defineProperty(E,"__esModule",{value:!0});E.binarySearch=function(m,n,F){for(var O,x=F||g,y=0,q=m.length,l=!1;y<q;)F=y+(q-y>>1),O=+x(m[F],n),0>O?y=F+1:(q=F,l=!O);return l?y:~y};E.numberSafeCompareFunction=g;E.includes=function(m,n){return 0<=m.indexOf(n)};E.linearFindNearest=function(m,n,F){var O=m.length;if(m[0]<=n)return 0;if(!(n<=m[O-1]))if(0<F)for(F=1;F<O;++F){if(m[F]<n)return F-1}else if(0>F)for(F=1;F<O;++F){if(m[F]<=
n)return F}else for(F=1;F<O;++F){if(m[F]==n)return F;if(m[F]<n)return m[F-1]-n<n-m[F]?F-1:F}return O-1};E.reverseSubArray=function(m,n,F){for(;n<F;){var O=m[n];m[n]=m[F];m[F]=O;++n;--F}};E.extend=function(m,n){n=Array.isArray(n)?n:[n];for(var F=n.length,O=0;O<F;O++)m[m.length]=n[O]};E.remove=function(m,n){n=m.indexOf(n);var F=-1<n;F&&m.splice(n,1);return F};E.find=function(m,n){for(var F=m.length>>>0,O,x=0;x<F;x++)if(O=m[x],n(O,x,m))return O;return null};E.equals=function(m,n){var F=m.length;if(F!==
n.length)return!1;for(var O=0;O<F;O++)if(m[O]!==n[O])return!1;return!0};E.stableSort=function(m,n){var F=m.length,O=Array(m.length),x;for(x=0;x<F;x++)O[x]={index:x,value:m[x]};O.sort(function(y,q){return n(y.value,q.value)||y.index-q.index});for(x=0;x<m.length;x++)m[x]=O[x].value};E.findIndex=function(m,n){var F;return m.every(function(O,x){F=x;return!n(O,x,m)})?-1:F};E.isSorted=function(m,n,F){var O=n||g;return m.every(function(x,y){if(0===y)return!0;x=O(m[y-1],x);return!(0<x||F&&0===x)})}};
shadow$provide[77]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.TRUE=function(){return!0};E.FALSE=function(){return!1};E.VOID=function(){};E.memoizeOne=function(m){var n=!1,F,O,x;return function(){var y=Array.prototype.slice.call(arguments);n&&this===x&&(0,g.equals)(y,O)||(n=!0,x=this,O=y,F=m.apply(this,arguments));return F}};var g=B(76)};
shadow$provide[78]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["abstract"]=function(){throw Error("Unimplemented abstract method.");};E.getUid=function(m){return m.ol_uid||(m.ol_uid=String(++g))};E.VERSION=void 0;var g=0;E.VERSION="6.5.0"};
shadow$provide[79]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var g=B(78),m=function(){var n=function(F,O){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,y){x.__proto__=y}||function(x,y){for(var q in y)Object.prototype.hasOwnProperty.call(y,q)&&(x[q]=y[q])};return n(F,O)};return function(F,O){function x(){this.constructor=F}n(F,O);F.prototype=null===O?Object.create(O):(x.prototype=O.prototype,new x)}}();Ha=function(n){function F(O){var x=
"Assertion failed. See https://openlayers.org/en/"+("latest"===g.VERSION?g.VERSION:"v"+g.VERSION.split("-")[0])+"/doc/errors/#"+O+" for details.";var y=n.call(this,x)||this;y.code=O;y.name="AssertionError";y.message=x;return y}m(F,n);return F}(Error);E["default"]=Ha};
shadow$provide[80]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.assert=function(m,n){if(!m)throw new g["default"](n);};var g=function(m){return m&&m.__esModule?m:{"default":m}}(B(79))};
shadow$provide[81]=function(Ha,B,rb,E){function g(){return[1,0,0,1,0,0]}function m(h,c){var e=h[0],a=h[1],f=h[2],p=h[3],A=h[4],C=h[5],D=c[0],P=c[1],L=c[2],G=c[3],z=c[4];c=c[5];h[0]=e*D+f*P;h[1]=a*D+p*P;h[2]=e*L+f*G;h[3]=a*L+p*G;h[4]=e*z+f*c+A;h[5]=a*z+p*c+C;return h}function n(h,c,e,a,f,p,A){h[0]=c;h[1]=e;h[2]=a;h[3]=f;h[4]=p;h[5]=A;return h}function F(h,c,e,a,f,p,A,C){var D=Math.sin(p);p=Math.cos(p);h[0]=a*p;h[1]=f*D;h[2]=-a*D;h[3]=f*p;h[4]=A*a*p-C*a*D+c;h[5]=A*f*D+C*f*p+e;return h}function O(h,
c){var e=x(c);(0,q.assert)(0!==e,32);var a=c[0],f=c[1],p=c[2],A=c[3],C=c[4];c=c[5];h[0]=A/e;h[1]=-f/e;h[2]=-p/e;h[3]=a/e;h[4]=(p*c-A*C)/e;h[5]=-(a*c-f*C)/e;return h}function x(h){return h[0]*h[3]-h[1]*h[2]}function y(h){return"matrix("+h.join(", ")+")"}Object.defineProperty(E,"__esModule",{value:!0});E.create=g;E.reset=function(h){return n(h,1,0,0,1,0,0)};E.multiply=m;E.set=n;E.setFromArray=function(h,c){h[0]=c[0];h[1]=c[1];h[2]=c[2];h[3]=c[3];h[4]=c[4];h[5]=c[5];return h};E.apply=function(h,c){var e=
c[0],a=c[1];c[0]=h[0]*e+h[2]*a+h[4];c[1]=h[1]*e+h[3]*a+h[5];return c};E.rotate=function(h,c){var e=Math.cos(c);c=Math.sin(c);return m(h,n(l,e,c,-c,e,0,0))};E.scale=function(h,c,e){return m(h,n(l,c,0,0,e,0,0))};E.makeScale=function(h,c,e){return n(h,c,0,0,e,0,0)};E.translate=function(h,c,e){return m(h,n(l,1,0,0,1,c,e))};E.compose=F;E.composeCssTransform=function(h,c,e,a,f,p,A){return y(F(g(),h,c,e,a,f,p,A))};E.invert=function(h){return O(h,h)};E.makeInverse=O;E.determinant=x;E.toString=y;var q=B(80),
l=Array(6)};
shadow$provide[82]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}};
shadow$provide[83]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}};
shadow$provide[84]=function(Ha,B,rb,E){function g(U){return U&&U.__esModule?U:{"default":U}}function m(U,ka,ba){return U[0]<=ka&&ka<=U[2]&&U[1]<=ba&&ba<=U[3]}function n(U,ka){var ba=U[1],da=U[2],ja=U[3],Z=ka[0];ka=ka[1];var Q=K["default"].UNKNOWN;Z<U[0]?Q|=K["default"].LEFT:Z>da&&(Q|=K["default"].RIGHT);ka<ba?Q|=K["default"].BELOW:ka>ja&&(Q|=K["default"].ABOVE);Q===K["default"].UNKNOWN&&(Q=K["default"].INTERSECTING);return Q}function F(){return[Infinity,Infinity,-Infinity,-Infinity]}function O(U,
ka,ba,da,ja){return ja?(ja[0]=U,ja[1]=ka,ja[2]=ba,ja[3]=da,ja):[U,ka,ba,da]}function x(U){return O(Infinity,Infinity,-Infinity,-Infinity,U)}function y(U,ka){ka[0]<U[0]&&(U[0]=ka[0]);ka[0]>U[2]&&(U[2]=ka[0]);ka[1]<U[1]&&(U[1]=ka[1]);ka[1]>U[3]&&(U[3]=ka[1])}function q(U,ka){for(var ba=0,da=ka.length;ba<da;++ba)y(U,ka[ba]);return U}function l(U,ka,ba,da,ja){for(;ba<da;ba+=ja)c(U,ka[ba],ka[ba+1]);return U}function h(U,ka){for(var ba=0,da=ka.length;ba<da;++ba)q(U,ka[ba]);return U}function c(U,ka,ba){U[0]=
Math.min(U[0],ka);U[1]=Math.min(U[1],ba);U[2]=Math.max(U[2],ka);U[3]=Math.max(U[3],ba)}function e(U){var ka=0;z(U)||(ka=L(U)*A(U));return ka}function a(U){return[U[0],U[1]]}function f(U){return[U[2],U[1]]}function p(U){return[(U[0]+U[2])/2,(U[1]+U[3])/2]}function A(U){return U[3]-U[1]}function C(U,ka,ba){ba=ba?ba:F();G(U,ka)?(ba[0]=U[0]>ka[0]?U[0]:ka[0],ba[1]=U[1]>ka[1]?U[1]:ka[1],ba[2]=U[2]<ka[2]?U[2]:ka[2],ba[3]=U[3]<ka[3]?U[3]:ka[3]):x(ba);return ba}function D(U){return[U[0],U[3]]}function P(U){return[U[2],
U[3]]}function L(U){return U[2]-U[0]}function G(U,ka){return U[0]<=ka[2]&&U[2]>=ka[0]&&U[1]<=ka[3]&&U[3]>=ka[1]}function z(U){return U[2]<U[0]||U[3]<U[1]}Object.defineProperty(E,"__esModule",{value:!0});E.boundingExtent=function(U){for(var ka=F(),ba=0,da=U.length;ba<da;++ba)y(ka,U[ba]);return ka};E.buffer=function(U,ka,ba){return ba?(ba[0]=U[0]-ka,ba[1]=U[1]-ka,ba[2]=U[2]+ka,ba[3]=U[3]+ka,ba):[U[0]-ka,U[1]-ka,U[2]+ka,U[3]+ka]};E.clone=function(U,ka){return ka?(ka[0]=U[0],ka[1]=U[1],ka[2]=U[2],ka[3]=
U[3],ka):U.slice()};E.closestSquaredDistanceXY=function(U,ka,ba){ka=ka<U[0]?U[0]-ka:U[2]<ka?ka-U[2]:0;U=ba<U[1]?U[1]-ba:U[3]<ba?ba-U[3]:0;return ka*ka+U*U};E.containsCoordinate=function(U,ka){return m(U,ka[0],ka[1])};E.containsExtent=function(U,ka){return U[0]<=ka[0]&&ka[2]<=U[2]&&U[1]<=ka[1]&&ka[3]<=U[3]};E.containsXY=m;E.coordinateRelationship=n;E.createEmpty=F;E.createOrUpdate=O;E.createOrUpdateEmpty=x;E.createOrUpdateFromCoordinate=function(U,ka){var ba=U[0];U=U[1];return O(ba,U,ba,U,ka)};E.createOrUpdateFromCoordinates=
function(U,ka){ka=x(ka);return q(ka,U)};E.createOrUpdateFromFlatCoordinates=function(U,ka,ba,da,ja){ja=x(ja);return l(ja,U,ka,ba,da)};E.createOrUpdateFromRings=function(U,ka){ka=x(ka);return h(ka,U)};E.equals=function(U,ka){return U[0]==ka[0]&&U[2]==ka[2]&&U[1]==ka[1]&&U[3]==ka[3]};E.approximatelyEquals=function(U,ka,ba){return Math.abs(U[0]-ka[0])<ba&&Math.abs(U[2]-ka[2])<ba&&Math.abs(U[1]-ka[1])<ba&&Math.abs(U[3]-ka[3])<ba};E.extend=function(U,ka){ka[0]<U[0]&&(U[0]=ka[0]);ka[2]>U[2]&&(U[2]=ka[2]);
ka[1]<U[1]&&(U[1]=ka[1]);ka[3]>U[3]&&(U[3]=ka[3]);return U};E.extendCoordinate=y;E.extendCoordinates=q;E.extendFlatCoordinates=l;E.extendRings=h;E.extendXY=c;E.forEachCorner=function(U,ka){var ba;return(ba=ka(a(U)))||(ba=ka(f(U)))||(ba=ka(P(U)))?ba:(ba=ka(D(U)))?ba:!1};E.getArea=e;E.getBottomLeft=a;E.getBottomRight=f;E.getCenter=p;E.getCorner=function(U,ka){var ba;ka===J["default"].BOTTOM_LEFT?ba=a(U):ka===J["default"].BOTTOM_RIGHT?ba=f(U):ka===J["default"].TOP_LEFT?ba=D(U):ka===J["default"].TOP_RIGHT?
ba=P(U):(0,R.assert)(!1,13);return ba};E.getEnlargedArea=function(U,ka){return(Math.max(U[2],ka[2])-Math.min(U[0],ka[0]))*(Math.max(U[3],ka[3])-Math.min(U[1],ka[1]))};E.getForViewAndSize=function(U,ka,ba,da,ja){var Z=ka*da[0]/2;da=ka*da[1]/2;ka=Math.cos(ba);var Q=Math.sin(ba);ba=Z*ka;Z*=Q;ka*=da;var r=da*Q,N=U[0],ea=U[1];U=N-ba+r;da=N-ba-r;Q=N+ba-r;ba=N+ba+r;r=ea-Z-ka;N=ea-Z+ka;var aa=ea+Z+ka;Z=ea+Z-ka;return O(Math.min(U,da,Q,ba),Math.min(r,N,aa,Z),Math.max(U,da,Q,ba),Math.max(r,N,aa,Z),ja)};E.getHeight=
A;E.getIntersectionArea=function(U,ka){U=C(U,ka);return e(U)};E.getIntersection=C;E.getMargin=function(U){return L(U)+A(U)};E.getSize=function(U){return[U[2]-U[0],U[3]-U[1]]};E.getTopLeft=D;E.getTopRight=P;E.getWidth=L;E.intersects=G;E.isEmpty=z;E.returnOrUpdate=function(U,ka){return ka?(ka[0]=U[0],ka[1]=U[1],ka[2]=U[2],ka[3]=U[3],ka):U};E.scaleFromCenter=function(U,ka){var ba=(U[2]-U[0])/2*(ka-1);ka=(U[3]-U[1])/2*(ka-1);U[0]-=ba;U[2]+=ba;U[1]-=ka;U[3]+=ka};E.intersectsSegment=function(U,ka,ba){var da=
!1,ja=n(U,ka),Z=n(U,ba);if(ja===K["default"].INTERSECTING||Z===K["default"].INTERSECTING)da=!0;else{var Q=U[0],r=U[1],N=U[2];U=U[3];var ea=ba[0];ba=ba[1];ka=(ba-ka[1])/(ea-ka[0]);Z&K["default"].ABOVE&&!(ja&K["default"].ABOVE)&&(da=ea-(ba-U)/ka,da=da>=Q&&da<=N);da||!(Z&K["default"].RIGHT)||ja&K["default"].RIGHT||(da=ba-(ea-N)*ka,da=da>=r&&da<=U);da||!(Z&K["default"].BELOW)||ja&K["default"].BELOW||(da=ea-(ba-r)/ka,da=da>=Q&&da<=N);da||!(Z&K["default"].LEFT)||ja&K["default"].LEFT||(da=ba-(ea-Q)*ka,da=
da>=r&&da<=U)}return da};E.applyTransform=function(U,ka,ba,da){var ja=[];if(1<da)for(var Z=U[2]-U[0],Q=U[3]-U[1],r=0;r<da;++r)ja.push(U[0]+Z*r/da,U[1],U[2],U[1]+Q*r/da,U[2]-Z*r/da,U[3],U[0],U[3]-Q*r/da);else ja=[U[0],U[1],U[2],U[1],U[2],U[3],U[0],U[3]];ka(ja,ja,2);ka=[];U=[];r=0;for(da=ja.length;r<da;r+=2)ka.push(ja[r]),U.push(ja[r+1]);ja=Math.min.apply(null,ka);r=Math.min.apply(null,U);ka=Math.max.apply(null,ka);U=Math.max.apply(null,U);return O(ja,r,ka,U,ba)};E.wrapX=function(U,ka){var ba=ka.getExtent(),
da=p(U);ka.canWrapX()&&(da[0]<ba[0]||da[0]>=ba[2])&&(ka=L(ba),ba=Math.floor((da[0]-ba[0])/ka)*ka,U[0]-=ba,U[2]-=ba);return U};var J=g(B(82)),K=g(B(83)),R=B(80)};
shadow$provide[85]=function(Ha,B,rb,E){function g(m,n,F,O){m=F-m;n=O-n;return m*m+n*n}Object.defineProperty(E,"__esModule",{value:!0});E.clamp=function(m,n,F){return Math.min(Math.max(m,n),F)};E.squaredSegmentDistance=function(m,n,F,O,x,y){var q=x-F,l=y-O;if(0!==q||0!==l){var h=((m-F)*q+(n-O)*l)/(q*q+l*l);1<h?(F=x,O=y):0<h&&(F+=q*h,O+=l*h)}return g(m,n,F,O)};E.squaredDistance=g;E.solveLinearSystem=function(m){for(var n=m.length,F=0;F<n;F++){for(var O=F,x=Math.abs(m[F][F]),y=F+1;y<n;y++){var q=Math.abs(m[y][F]);
q>x&&(x=q,O=y)}if(0===x)return null;x=m[O];m[O]=m[F];m[F]=x;for(O=F+1;O<n;O++)for(x=-m[O][F]/m[F][F],y=F;y<n+1;y++)m[O][y]=F==y?0:m[O][y]+x*m[F][y]}F=Array(n);for(O=n-1;0<=O;O--)for(F[O]=m[O][n]/m[O][O],x=O-1;0<=x;x--)m[x][n]-=m[x][O]*F[O];return F};E.toDegrees=function(m){return 180*m/Math.PI};E.toRadians=function(m){return m*Math.PI/180};E.modulo=function(m,n){m%=n;return 0>m*n?m+n:m};E.lerp=function(m,n,F){return m+F*(n-m)};E.log2=E.cosh=void 0;Ha=function(){return"cosh"in Math?Math.cosh:function(m){m=
Math.exp(m);return(m+1/m)/2}}();E.cosh=Ha;Ha=function(){return"log2"in Math?Math.log2:function(m){return Math.log(m)*Math.LOG2E}}();E.log2=Ha};
shadow$provide[86]=function(Ha,B,rb,E){function g(l){var h=document.createElement("div");h.style.color=l;return""!==h.style.color?(document.body.appendChild(h),l=getComputedStyle(h).color,document.body.removeChild(h),l):""}function m(l){l[0]=(0,O.clamp)(l[0]+.5|0,0,255);l[1]=(0,O.clamp)(l[1]+.5|0,0,255);l[2]=(0,O.clamp)(l[2]+.5|0,0,255);l[3]=(0,O.clamp)(l[3],0,1);return l}function n(l){var h=l[0];h!=(h|0)&&(h=h+.5|0);var c=l[1];c!=(c|0)&&(c=c+.5|0);var e=l[2];e!=(e|0)&&(e=e+.5|0);return"rgba("+h+
","+c+","+e+","+(void 0===l[3]?1:l[3])+")"}Object.defineProperty(E,"__esModule",{value:!0});E.asString=function(l){return"string"===typeof l?l:n(l)};E.asArray=function(l){return Array.isArray(l)?l:q(l)};E.normalize=m;E.toString=n;E.isStringColor=function(l){y.test(l)&&(l=g(l));return x.test(l)||0===l.indexOf("rgba(")||0===l.indexOf("rgb(")};E.fromString=void 0;var F=B(80),O=B(85),x=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,y=/^([a-z]*)$|^hsla?\(.*\)$/i,q=function(){var l={},h=0;return function(c){if(l.hasOwnProperty(c))var e=
l[c];else{if(1024<=h){e=0;for(var a in l)0===(e++&3)&&(delete l[a],--h)}e=c;y.exec(e)&&(e=g(e));if(x.exec(e)){a=e.length-1;var f=4>=a?1:2;var p=4===a||8===a;a=parseInt(e.substr(1+0*f,f),16);var A=parseInt(e.substr(1+1*f,f),16);var C=parseInt(e.substr(1+2*f,f),16);e=p?parseInt(e.substr(1+3*f,f),16):255;1==f&&(a=(a<<4)+a,A=(A<<4)+A,C=(C<<4)+C,p&&(e=(e<<4)+e));f=[a,A,C,e/255]}else 0==e.indexOf("rgba(")?(f=e.slice(5,-1).split(",").map(Number),m(f)):0==e.indexOf("rgb(")?(f=e.slice(4,-1).split(",").map(Number),
f.push(1),m(f)):(0,F.assert)(!1,14);e=f;l[c]=e;++h}return e}}();E.fromString=q};
shadow$provide[87]=function(Ha,B,rb,E){function g(n,F,O){O=O?(0,m.asString)(O):"null";return F+":"+n+":"+O}Object.defineProperty(E,"__esModule",{value:!0});E.shared=E["default"]=void 0;var m=B(86);Ha=function(){function n(){this.cache_={};this.cacheSize_=0;this.maxCacheSize_=32}n.prototype.clear=function(){this.cache_={};this.cacheSize_=0};n.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_};n.prototype.expire=function(){if(this.canExpireCache()){var F=0,O;for(O in this.cache_){var x=
this.cache_[O];0!==(F++&3)||x.hasListener()||(delete this.cache_[O],--this.cacheSize_)}}};n.prototype.get=function(F,O,x){F=g(F,O,x);return F in this.cache_?this.cache_[F]:null};n.prototype.set=function(F,O,x,y){F=g(F,O,x);this.cache_[F]=y;++this.cacheSize_};n.prototype.setSize=function(F){this.maxCacheSize_=F;this.expire()};return n}();E["default"]=Ha;Ha=new Ha;E.shared=Ha};
shadow$provide[88]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.stopPropagation=function(g){g.stopPropagation()};E.preventDefault=function(g){g.preventDefault()};E["default"]=void 0;Ha=function(){function g(m){this.type=m;this.target=null}g.prototype.preventDefault=function(){this.propagationStopped=!0};g.prototype.stopPropagation=function(){this.propagationStopped=!0};return g}();E["default"]=Ha};
shadow$provide[89]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={PROPERTYCHANGE:"propertychange"}};
shadow$provide[90]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.clear=function(g){for(var m in g)delete g[m]};E.isEmpty=function(g){for(var m in g)return!1;return!m};E.getValues=E.assign=void 0;E.assign="function"===typeof Object.assign?Object.assign:function(g,m){if(void 0===g||null===g)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(g),F=1,O=arguments.length;F<O;++F){var x=arguments[F];if(void 0!==x&&null!==x)for(var y in x)x.hasOwnProperty(y)&&
(n[y]=x[y])}return n};E.getValues="function"===typeof Object.values?Object.values:function(g){var m=[],n;for(n in g)m.push(g[n]);return m}};
shadow$provide[91]=function(Ha,B,rb,E){function g(x){return x&&x.__esModule?x:{"default":x}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=g(B(75));var m=g(B(88)),n=B(77),F=B(90),O=function(){var x=function(y,q){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&(l[c]=h[c])};return x(y,q)};return function(y,q){function l(){this.constructor=y}x(y,q);y.prototype=null===
q?Object.create(q):(l.prototype=q.prototype,new l)}}();B=function(x){function y(q){var l=x.call(this)||this;l.eventTarget_=q;l.pendingRemovals_=null;l.dispatching_=null;l.listeners_=null;return l}O(y,x);y.prototype.addEventListener=function(q,l){if(q&&l){var h=this.listeners_||(this.listeners_={});q=h[q]||(h[q]=[]);-1===q.indexOf(l)&&q.push(l)}};y.prototype.dispatchEvent=function(q){var l="string"===typeof q?new m["default"](q):q;q=l.type;l.target||(l.target=this.eventTarget_||this);var h=this.listeners_&&
this.listeners_[q];if(h){var c=this.dispatching_||(this.dispatching_={}),e=this.pendingRemovals_||(this.pendingRemovals_={});q in c||(c[q]=0,e[q]=0);++c[q];for(var a=0,f=h.length;a<f;++a){var p="handleEvent"in h[a]?h[a].handleEvent(l):h[a].call(this,l);if(!1===p||l.propagationStopped){p=!1;break}}--c[q];if(0===c[q]){l=e[q];for(delete e[q];l--;)this.removeEventListener(q,n.VOID);delete c[q]}return p}};y.prototype.disposeInternal=function(){this.listeners_&&(0,F.clear)(this.listeners_)};y.prototype.getListeners=
function(q){return this.listeners_&&this.listeners_[q]||void 0};y.prototype.hasListener=function(q){return this.listeners_?q?q in this.listeners_:0<Object.keys(this.listeners_).length:!1};y.prototype.removeEventListener=function(q,l){var h=this.listeners_&&this.listeners_[q];h&&(l=h.indexOf(l),-1!==l&&(this.pendingRemovals_&&q in this.pendingRemovals_?(h[l]=n.VOID,++this.pendingRemovals_[q]):(h.splice(l,1),0===h.length&&delete this.listeners_[q])))};return y}(Ha["default"]);E["default"]=B};
shadow$provide[92]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}};
shadow$provide[93]=function(Ha,B,rb,E){function g(n,F,O,x,y){x&&x!==n&&(O=O.bind(x));if(y){var q=O;O=function(){n.removeEventListener(F,O);q.apply(this,arguments)}}x={target:n,type:F,listener:O};n.addEventListener(F,O);return x}Object.defineProperty(E,"__esModule",{value:!0});E.listen=g;E.listenOnce=function(n,F,O,x){return g(n,F,O,x,!0)};E.unlistenByKey=function(n){n&&n.target&&(n.target.removeEventListener(n.type,n.listener),(0,m.clear)(n))};var m=B(90)};
shadow$provide[94]=function(Ha,B,rb,E){function g(x){return x&&x.__esModule?x:{"default":x}}function m(x){if(Array.isArray(x))for(var y=0,q=x.length;y<q;++y)(0,F.unlistenByKey)(x[y]);else(0,F.unlistenByKey)(x)}Object.defineProperty(E,"__esModule",{value:!0});E.unByKey=m;E["default"]=void 0;Ha=g(B(91));var n=g(B(92)),F=B(93),O=function(){var x=function(y,q){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var c in h)Object.prototype.hasOwnProperty.call(h,
c)&&(l[c]=h[c])};return x(y,q)};return function(y,q){function l(){this.constructor=y}x(y,q);y.prototype=null===q?Object.create(q):(l.prototype=q.prototype,new l)}}();B=function(x){function y(){var q=x.call(this)||this;q.revision_=0;return q}O(y,x);y.prototype.changed=function(){++this.revision_;this.dispatchEvent(n["default"].CHANGE)};y.prototype.getRevision=function(){return this.revision_};y.prototype.on=function(q,l){if(Array.isArray(q)){for(var h=q.length,c=Array(h),e=0;e<h;++e)c[e]=(0,F.listen)(this,
q[e],l);return c}return(0,F.listen)(this,q,l)};y.prototype.once=function(q,l){if(Array.isArray(q)){var h=q.length;var c=Array(h);for(var e=0;e<h;++e)c[e]=(0,F.listenOnce)(this,q[e],l)}else c=(0,F.listenOnce)(this,q,l);return l.ol_key=c};y.prototype.un=function(q,l){var h=l.ol_key;if(h)m(h);else if(Array.isArray(q)){h=0;for(var c=q.length;h<c;++h)this.removeEventListener(q[h],l)}else this.removeEventListener(q,l)};return y}(Ha["default"]);E["default"]=B};
shadow$provide[95]=function(Ha,B,rb,E){function g(l){return l&&l.__esModule?l:{"default":l}}function m(l){return q.hasOwnProperty(l)?q[l]:q[l]="change:"+l}Object.defineProperty(E,"__esModule",{value:!0});E.getChangeEventType=m;E["default"]=E.ObjectEvent=void 0;Ha=g(B(88));var n=g(B(89));rb=g(B(94));var F=B(90),O=B(78),x=function(){var l=function(h,c){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,a){e.__proto__=a}||function(e,a){for(var f in a)Object.prototype.hasOwnProperty.call(a,
f)&&(e[f]=a[f])};return l(h,c)};return function(h,c){function e(){this.constructor=h}l(h,c);h.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)}}(),y=function(l){function h(c,e,a){c=l.call(this,c)||this;c.key=e;c.oldValue=a;return c}x(h,l);return h}(Ha["default"]);E.ObjectEvent=y;B=function(l){function h(c){var e=l.call(this)||this;(0,O.getUid)(e);e.values_=null;void 0!==c&&e.setProperties(c);return e}x(h,l);h.prototype.get=function(c){var e;this.values_&&this.values_.hasOwnProperty(c)&&
(e=this.values_[c]);return e};h.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]};h.prototype.getProperties=function(){return this.values_&&(0,F.assign)({},this.values_)||{}};h.prototype.hasProperties=function(){return!!this.values_};h.prototype.notify=function(c,e){var a=m(c);this.dispatchEvent(new y(a,c,e));a=n["default"].PROPERTYCHANGE;this.dispatchEvent(new y(a,c,e))};h.prototype.set=function(c,e,a){var f=this.values_||(this.values_={});a?f[c]=e:(a=f[c],f[c]=e,a!==
e&&this.notify(c,a))};h.prototype.setProperties=function(c,e){for(var a in c)this.set(a,c[a],e)};h.prototype.applyProperties=function(c){c.values_&&(0,F.assign)(this.values_||(this.values_={}),c.values_)};h.prototype.unset=function(c,e){if(this.values_&&c in this.values_){var a=this.values_[c];delete this.values_[c];(0,F.isEmpty)(this.values_)&&(this.values_=null);e||this.notify(c,a)}};return h}(rb["default"]);var q={};E["default"]=B};
shadow$provide[96]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source"}};
shadow$provide[97]=function(Ha,B,rb,E){function g(q){return q&&q.__esModule?q:{"default":q}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=g(B(95));var m=g(B(96)),n=B(78),F=B(80),O=B(90),x=B(85),y=function(){var q=function(l,h){q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(c[a]=e[a])};return q(l,h)};return function(l,h){function c(){this.constructor=l}q(l,h);l.prototype=
null===h?Object.create(h):(c.prototype=h.prototype,new c)}}();B=function(q){function l(h){var c=q.call(this)||this,e=(0,O.assign)({},h);e[m["default"].OPACITY]=void 0!==h.opacity?h.opacity:1;(0,F.assert)("number"===typeof e[m["default"].OPACITY],64);e[m["default"].VISIBLE]=void 0!==h.visible?h.visible:!0;e[m["default"].Z_INDEX]=h.zIndex;e[m["default"].MAX_RESOLUTION]=void 0!==h.maxResolution?h.maxResolution:Infinity;e[m["default"].MIN_RESOLUTION]=void 0!==h.minResolution?h.minResolution:0;e[m["default"].MIN_ZOOM]=
void 0!==h.minZoom?h.minZoom:-Infinity;e[m["default"].MAX_ZOOM]=void 0!==h.maxZoom?h.maxZoom:Infinity;c.className_=void 0!==e.className?h.className:"ol-layer";delete e.className;c.setProperties(e);c.state_=null;return c}y(l,q);l.prototype.getClassName=function(){return this.className_};l.prototype.getLayerState=function(h){h=this.state_||{layer:this,managed:void 0===h?!0:h};var c=this.getZIndex();h.opacity=(0,x.clamp)(Math.round(100*this.getOpacity())/100,0,1);h.sourceState=this.getSourceState();
h.visible=this.getVisible();h.extent=this.getExtent();h.zIndex=void 0!==c?c:!1===h.managed?Infinity:0;h.maxResolution=this.getMaxResolution();h.minResolution=Math.max(this.getMinResolution(),0);h.minZoom=this.getMinZoom();h.maxZoom=this.getMaxZoom();return this.state_=h};l.prototype.getLayersArray=function(h){return(0,n["abstract"])()};l.prototype.getLayerStatesArray=function(h){return(0,n["abstract"])()};l.prototype.getExtent=function(){return this.get(m["default"].EXTENT)};l.prototype.getMaxResolution=
function(){return this.get(m["default"].MAX_RESOLUTION)};l.prototype.getMinResolution=function(){return this.get(m["default"].MIN_RESOLUTION)};l.prototype.getMinZoom=function(){return this.get(m["default"].MIN_ZOOM)};l.prototype.getMaxZoom=function(){return this.get(m["default"].MAX_ZOOM)};l.prototype.getOpacity=function(){return this.get(m["default"].OPACITY)};l.prototype.getSourceState=function(){return(0,n["abstract"])()};l.prototype.getVisible=function(){return this.get(m["default"].VISIBLE)};
l.prototype.getZIndex=function(){return this.get(m["default"].Z_INDEX)};l.prototype.setExtent=function(h){this.set(m["default"].EXTENT,h)};l.prototype.setMaxResolution=function(h){this.set(m["default"].MAX_RESOLUTION,h)};l.prototype.setMinResolution=function(h){this.set(m["default"].MIN_RESOLUTION,h)};l.prototype.setMaxZoom=function(h){this.set(m["default"].MAX_ZOOM,h)};l.prototype.setMinZoom=function(h){this.set(m["default"].MIN_ZOOM,h)};l.prototype.setOpacity=function(h){(0,F.assert)("number"===
typeof h,64);this.set(m["default"].OPACITY,h)};l.prototype.setVisible=function(h){this.set(m["default"].VISIBLE,h)};l.prototype.setZIndex=function(h){this.set(m["default"].Z_INDEX,h)};l.prototype.disposeInternal=function(){this.state_&&(this.state_=this.state_.layer=null);q.prototype.disposeInternal.call(this)};return l}(Ha["default"]);E["default"]=B};
shadow$provide[98]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}};
shadow$provide[99]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}};
shadow$provide[100]=function(Ha,B,rb,E){function g(c){return c&&c.__esModule?c:{"default":c}}Object.defineProperty(E,"__esModule",{value:!0});E.inView=function(c,e){if(!c.visible)return!1;var a=e.resolution;if(a<c.minResolution||a>=c.maxResolution)return!1;e=e.zoom;return e>c.minZoom&&e<=c.maxZoom};E["default"]=void 0;Ha=g(B(97));var m=g(B(92)),n=g(B(96)),F=g(B(98)),O=g(B(99)),x=B(80),y=B(90),q=B(95),l=B(93),h=function(){var c=function(e,a){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&
function(f,p){f.__proto__=p}||function(f,p){for(var A in p)Object.prototype.hasOwnProperty.call(p,A)&&(f[A]=p[A])};return c(e,a)};return function(e,a){function f(){this.constructor=e}c(e,a);e.prototype=null===a?Object.create(a):(f.prototype=a.prototype,new f)}}();B=function(c){function e(a){var f=(0,y.assign)({},a);delete f.source;f=c.call(this,f)||this;f.mapPrecomposeKey_=null;f.mapRenderKey_=null;f.sourceChangeKey_=null;f.renderer_=null;a.render&&(f.render=a.render);a.map&&f.setMap(a.map);f.addEventListener((0,
q.getChangeEventType)(n["default"].SOURCE),f.handleSourcePropertyChange_);f.setSource(a.source?a.source:null);return f}h(e,c);e.prototype.getLayersArray=function(a){a=a?a:[];a.push(this);return a};e.prototype.getLayerStatesArray=function(a){a=a?a:[];a.push(this.getLayerState());return a};e.prototype.getSource=function(){return this.get(n["default"].SOURCE)||null};e.prototype.getSourceState=function(){var a=this.getSource();return a?a.getState():O["default"].UNDEFINED};e.prototype.handleSourceChange_=
function(){this.changed()};e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&((0,l.unlistenByKey)(this.sourceChangeKey_),this.sourceChangeKey_=null);var a=this.getSource();a&&(this.sourceChangeKey_=(0,l.listen)(a,m["default"].CHANGE,this.handleSourceChange_,this));this.changed()};e.prototype.getFeatures=function(a){return this.renderer_.getFeatures(a)};e.prototype.render=function(a,f){var p=this.getRenderer();if(p.prepareFrame(a))return p.renderFrame(a,f)};e.prototype.setMap=
function(a){this.mapPrecomposeKey_&&((0,l.unlistenByKey)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null);a||this.changed();this.mapRenderKey_&&((0,l.unlistenByKey)(this.mapRenderKey_),this.mapRenderKey_=null);a&&(this.mapPrecomposeKey_=(0,l.listen)(a,F["default"].PRECOMPOSE,function(f){f=f.frameState.layerStatesArray;var p=this.getLayerState(!1);(0,x.assert)(!f.some(function(A){return A.layer===p.layer}),67);f.push(p)},this),this.mapRenderKey_=(0,l.listen)(this,m["default"].CHANGE,a.render,a),
this.changed())};e.prototype.setSource=function(a){this.set(n["default"].SOURCE,a)};e.prototype.getRenderer=function(){this.renderer_||(this.renderer_=this.createRenderer());return this.renderer_};e.prototype.hasRenderer=function(){return!!this.renderer_};e.prototype.createRenderer=function(){return null};e.prototype.disposeInternal=function(){this.setSource(null);c.prototype.disposeInternal.call(this)};return e}(Ha["default"]);E["default"]=B};
shadow$provide[101]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.padNumber=function(g,m,n){g=void 0!==n?g.toFixed(n):""+g;n=g.indexOf(".");n=-1===n?g.length:n;return n>m?g:Array(1+m-n).join("0")+g};E.compareVersions=function(g,m){g=(""+g).split(".");m=(""+m).split(".");for(var n=0;n<Math.max(g.length,m.length);n++){var F=parseInt(g[n]||"0",10),O=parseInt(m[n]||"0",10);if(F>O)return 1;if(O>F)return-1}return 0}};
shadow$provide[102]=function(Ha,B,rb,E){function g(h,c){var e=h[0];h=h[1];var a=c[0],f=c[1];c=a[0];a=a[1];var p=f[0];f=f[1];var A=p-c,C=f-a;e=0===A&&0===C?0:(A*(e-c)+C*(h-a))/(A*A+C*C||0);0>=e?(h=c,e=a):1<=e?(h=p,e=f):(h=c+e*A,e=a+e*C);return[h,e]}function m(h,c,e){c=(0,q.modulo)(c+180,360)-180;var a=Math.abs(3600*c);e=e||0;var f=Math.pow(10,e),p=Math.floor(a/3600),A=Math.floor((a-3600*p)/60);a=Math.ceil((a-3600*p-60*A)*f)/f;60<=a&&(a=0,A+=1);60<=A&&(A=0,p+=1);return p+" "+(0,l.padNumber)(A,2)+" "+
(0,l.padNumber)(a,2,e)+""+(0==c?"":" "+h.charAt(0>c?1:0))}function n(h,c,e){return h?c.replace("{x}",h[0].toFixed(e)).replace("{y}",h[1].toFixed(e)):""}function F(h,c){var e=h[0]-c[0];h=h[1]-c[1];return e*e+h*h}function O(h,c){return n(h,"{x}, {y}",c)}function x(h,c,e){var a=c.getExtent(),f=0;c.canWrapX()&&(h[0]<a[0]||h[0]>a[2])&&(c=e||(0,y.getWidth)(a),f=Math.floor((h[0]-a[0])/c));return f}Object.defineProperty(E,"__esModule",{value:!0});E.add=function(h,c){h[0]+=+c[0];h[1]+=+c[1];return h};E.closestOnCircle=
function(h,c){var e=c.getRadius(),a=c.getCenter();c=a[0];a=a[1];var f=h[0]-c;h=h[1]-a;0===f&&0===h&&(f=1);var p=Math.sqrt(f*f+h*h);return[c+e*f/p,a+e*h/p]};E.closestOnSegment=g;E.createStringXY=function(h){return function(c){return O(c,h)}};E.degreesToStringHDMS=m;E.format=n;E.equals=function(h,c){for(var e=!0,a=h.length-1;0<=a;--a)if(h[a]!=c[a]){e=!1;break}return e};E.rotate=function(h,c){var e=Math.cos(c);c=Math.sin(c);var a=h[1]*e+h[0]*c;h[0]=h[0]*e-h[1]*c;h[1]=a;return h};E.scale=function(h,c){h[0]*=
c;h[1]*=c;return h};E.squaredDistance=F;E.distance=function(h,c){return Math.sqrt(F(h,c))};E.squaredDistanceToSegment=function(h,c){return F(h,g(h,c))};E.toStringHDMS=function(h,c){return h?m("NS",h[1],c)+" "+m("EW",h[0],c):""};E.toStringXY=O;E.wrapX=function(h,c){if(c.canWrapX()){var e=(0,y.getWidth)(c.getExtent());(c=x(h,c,e))&&(h[0]-=c*e)}return h};E.getWorldsAway=x;var y=B(84),q=B(85),l=B(101)};
shadow$provide[103]=function(Ha,B,rb,E){function g(h,c){x.shared.expire()}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=function(h){return h&&h.__esModule?h:{"default":h}}(B(75));var m=B(77),n=B(78),F=B(81),O=B(84),x=B(87),y=B(100),q=B(102),l=function(){var h=function(c,e){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,f){a.__proto__=f}||function(a,f){for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(a[p]=f[p])};return h(c,e)};return function(c,
e){function a(){this.constructor=c}h(c,e);c.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}}();B=function(h){function c(e){var a=h.call(this)||this;a.map_=e;return a}l(c,h);c.prototype.dispatchRenderEvent=function(e,a){(0,n["abstract"])()};c.prototype.calculateMatrices2D=function(e){var a=e.viewState,f=e.coordinateToPixelTransform,p=e.pixelToCoordinateTransform;(0,F.compose)(f,e.size[0]/2,e.size[1]/2,1/a.resolution,-1/a.resolution,-a.rotation,-a.center[0],-a.center[1]);(0,F.makeInverse)(p,
f)};c.prototype.forEachFeatureAtCoordinate=function(e,a,f,p,A,C,D,P){function L(N,ea,aa,va){return A.call(C,ea,N?aa:null,va)}var G=a.viewState,z=G.projection,J=(0,q.wrapX)(e.slice(),z),K=[[0,0]];z.canWrapX()&&p&&(p=z.getExtent(),p=(0,O.getWidth)(p),K.push([-p,0],[p,0]));p=a.layerStatesArray;z=p.length;for(var R=[],U=[],ka=0;ka<K.length;ka++)for(var ba=z-1;0<=ba;--ba){var da=p[ba],ja=da.layer;if(ja.hasRenderer()&&(0,y.inView)(da,G)&&D.call(P,ja)){var Z=ja.getRenderer();ja=ja.getSource();if(Z&&ja){ja=
ja.getWrapX()?J:e;da=L.bind(null,da.managed);U[0]=ja[0]+K[ka][0];U[1]=ja[1]+K[ka][1];var Q=Z.forEachFeatureAtCoordinate(U,a,f,da,R)}if(Q)return Q}}if(0!==R.length){var r=1/R.length;R.forEach(function(N,ea){return N.distanceSq+=ea*r});R.sort(function(N,ea){return N.distanceSq-ea.distanceSq});R.some(function(N){return Q=N.callback(N.feature,N.layer,N.geometry)});return Q}};c.prototype.forEachLayerAtPixel=function(e,a,f,p,A){return(0,n["abstract"])()};c.prototype.hasFeatureAtCoordinate=function(e,a,
f,p,A,C){return void 0!==this.forEachFeatureAtCoordinate(e,a,f,p,m.TRUE,this,A,C)};c.prototype.getMap=function(){return this.map_};c.prototype.renderFrame=function(e){(0,n["abstract"])()};c.prototype.scheduleExpireIconCache=function(e){x.shared.canExpireCache()&&e.postRenderFunctions.push(g)};return c}(Ha["default"]);E["default"]=B};
shadow$provide[104]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=function(m){return m&&m.__esModule?m:{"default":m}}(B(88));var g=function(){var m=function(n,F){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,x){O.__proto__=x}||function(O,x){for(var y in x)Object.prototype.hasOwnProperty.call(x,y)&&(O[y]=x[y])};return m(n,F)};return function(n,F){function O(){this.constructor=n}m(n,F);n.prototype=null===F?Object.create(F):(O.prototype=
F.prototype,new O)}}();Ha=function(m){function n(F,O,x,y){F=m.call(this,F)||this;F.inversePixelTransform=O;F.frameState=x;F.context=y;return F}g(n,m);return n}(Ha["default"]);E["default"]=Ha};
shadow$provide[105]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.getFontParameters=E.CLASS_COLLAPSED=E.CLASS_CONTROL=E.CLASS_UNSUPPORTED=E.CLASS_UNSELECTABLE=E.CLASS_SELECTABLE=E.CLASS_HIDDEN=void 0;E.CLASS_HIDDEN="ol-hidden";E.CLASS_SELECTABLE="ol-selectable";E.CLASS_UNSELECTABLE="ol-unselectable";E.CLASS_UNSUPPORTED="ol-unsupported";E.CLASS_CONTROL="ol-control";E.CLASS_COLLAPSED="ol-collapsed";var g=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[\.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[\.\d]+(?:\%|in|[cem]m|ex|p[ctx])?))?\s*([-,\"\'\sa-z]+?)\s*$/i,
m="style variant weight size lineHeight family".split(" ");E.getFontParameters=function(n){n=n.match(g);if(!n)return null;for(var F={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},O=0,x=m.length;O<x;++O){var y=n[O+1];void 0!==y&&(F[m[O]]=y)}F.families=F.family.split(/,\s?/);return F}};
shadow$provide[106]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.PASSIVE_EVENT_LISTENERS=E.IMAGE_DECODE=E.WORKER_OFFSCREEN_CANVAS=E.DEVICE_PIXEL_RATIO=E.MAC=E.WEBKIT=E.SAFARI=E.FIREFOX=void 0;Ha="undefined"!==typeof navigator&&"undefined"!==typeof navigator.userAgent?navigator.userAgent.toLowerCase():"";B=-1!==Ha.indexOf("firefox");E.FIREFOX=B;B=-1!==Ha.indexOf("safari")&&-1==Ha.indexOf("chrom");E.SAFARI=B;B=-1!==Ha.indexOf("webkit")&&-1==Ha.indexOf("edge");E.WEBKIT=B;Ha=
-1!==Ha.indexOf("macintosh");E.MAC=Ha;E.DEVICE_PIXEL_RATIO="undefined"!==typeof devicePixelRatio?devicePixelRatio:1;E.WORKER_OFFSCREEN_CANVAS="undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof OffscreenCanvas&&self instanceof WorkerGlobalScope;E.IMAGE_DECODE="undefined"!==typeof Image&&Image.prototype.decode;Ha=function(){var g=!1;try{var m=Object.defineProperty({},"passive",{get:function(){g=!0}});window.addEventListener("_",null,m);window.removeEventListener("_",null,m)}catch(n){}return g}();
E.PASSIVE_EVENT_LISTENERS=Ha};
shadow$provide[107]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.createCanvasContext2D=function(m,n,F){F=F&&F.length?F.shift():g.WORKER_OFFSCREEN_CANVAS?new OffscreenCanvas(m||300,n||300):document.createElement("canvas");m&&(F.width=m);n&&(F.height=n);return F.getContext("2d")};E.outerWidth=function(m){var n=m.offsetWidth;m=getComputedStyle(m);return n+=parseInt(m.marginLeft,10)+parseInt(m.marginRight,10)};E.outerHeight=function(m){var n=m.offsetHeight;m=getComputedStyle(m);
return n+=parseInt(m.marginTop,10)+parseInt(m.marginBottom,10)};E.replaceNode=function(m,n){var F=n.parentNode;F&&F.replaceChild(m,n)};E.removeNode=function(m){return m&&m.parentNode?m.parentNode.removeChild(m):null};E.removeChildren=function(m){for(;m.lastChild;)m.removeChild(m.lastChild)};E.replaceChildren=function(m,n){for(var F=m.childNodes,O=0;;++O){var x=F[O],y=n[O];if(!x&&!y)break;x!==y&&(x?y?m.insertBefore(y,x):(m.removeChild(x),--O):m.appendChild(y))}};var g=B(106)};
shadow$provide[108]=function(Ha,B,rb,E){function g(f){return f&&f.__esModule?f:{"default":f}}function m(f,p){h||(h=(0,x.createCanvasContext2D)(1,1));f!=c&&(h.font=f,c=h.font);return h.measureText(p)}function n(f,p){return m(f,p).width}Object.defineProperty(E,"__esModule",{value:!0});E.measureTextWidth=n;E.measureAndCacheTextWidth=function(f,p,A){if(p in A)return A[p];f=n(f,p);return A[p]=f};E.measureTextWidths=function(f,p,A){for(var C=p.length,D=0,P=0;P<C;++P){var L=n(f,p[P]);D=Math.max(D,L);A.push(L)}return D};
E.rotateAtOffset=function(f,p,A,C){0!==p&&(f.translate(A,C),f.rotate(p),f.translate(-A,-C))};E.drawImageOrLabel=function(f,p,A,C,D,P,L,G,z,J,K){f.save();1!==A&&(f.globalAlpha*=A);p&&f.setTransform.apply(f,p);if(C.contextInstructions)for(f.translate(z,J),f.scale(K[0],K[1]),p=C.contextInstructions,A=0,C=p.length;A<C;A+=2)Array.isArray(p[A+1])?f[p[A]].apply(f,p[A+1]):f[p[A]]=p[A+1];else 0>K[0]||0>K[1]?(f.translate(z,J),f.scale(K[0],K[1]),f.drawImage(C,D,P,L,G,0,0,L,G)):f.drawImage(C,D,P,L,G,z,J,L*K[0],
G*K[1]);f.restore()};E.createTransformString=function(f){if(F.WORKER_OFFSCREEN_CANVAS)return(0,q.toString)(f);a||(a=(0,x.createCanvasContext2D)(1,1).canvas);a.style.transform=(0,q.toString)(f);return a.style.transform};E.measureTextHeight=E.registerFont=E.textHeights=E.labelCache=E.checkedFonts=E.defaultLineWidth=E.defaultPadding=E.defaultTextBaseline=E.defaultTextAlign=E.defaultStrokeStyle=E.defaultMiterLimit=E.defaultLineJoin=E.defaultLineDashOffset=E.defaultLineDash=E.defaultLineCap=E.defaultFillStyle=
E.defaultFont=void 0;Ha=g(B(95));rb=g(B(91));var F=B(106),O=B(90),x=B(107),y=B(105),q=B(81);E.defaultFont="10px sans-serif";E.defaultFillStyle="#000";E.defaultLineCap="round";E.defaultLineDash=[];E.defaultLineDashOffset=0;E.defaultLineJoin="round";E.defaultMiterLimit=10;E.defaultStrokeStyle="#000";E.defaultTextAlign="center";E.defaultTextBaseline="middle";E.defaultPadding=[0,0,0,0];E.defaultLineWidth=1;var l=new Ha["default"];E.checkedFonts=l;B=new rb["default"];E.labelCache=B;B.setSize=function(){console.warn("labelCache is deprecated.")};
var h=null,c,e={};E.textHeights=e;B=function(){function f(L,G,z){for(var J=!0,K=0;K<C;++K){var R=A[K];P=n(L+" "+G+" 32px "+R,"wmytzilWMYTZIL@#/\x26?$%10");z!=R&&(R=n(L+" "+G+" 32px "+z+","+R,"wmytzilWMYTZIL@#/\x26?$%10"),J=J&&R!=P)}return J?!0:!1}function p(){for(var L=!0,G=l.getKeys(),z=0,J=G.length;z<J;++z){var K=G[z];100>l.get(K)&&(f.apply(this,K.split("\n"))?((0,O.clear)(e),h=null,c=void 0,l.set(K,100)):(l.set(K,l.get(K)+1,!0),L=!1))}L&&(clearInterval(D),D=void 0)}var A=["monospace","serif"],
C=A.length,D,P;return function(L){if(L=(0,y.getFontParameters)(L))for(var G=L.families,z=0,J=G.length;z<J;++z){var K=G[z],R=L.style+"\n"+L.weight+"\n"+K;void 0===l.get(R)&&(l.set(R,100,!0),f(L.style,L.weight,K)||(l.set(R,0,!0),void 0===D&&(D=setInterval(p,32))))}}}();E.registerFont=B;B=function(){var f;return function(p){var A=e[p];if(void 0==A){if(F.WORKER_OFFSCREEN_CANVAS){A=(0,y.getFontParameters)(p);var C=m(p,"g");A=(isNaN(Number(A.lineHeight))?1.2:Number(A.lineHeight))*(C.actualBoundingBoxAscent+
C.actualBoundingBoxDescent)}else f||(f=document.createElement("div"),f.innerHTML="M",f.style.margin="0 !important",f.style.padding="0 !important",f.style.position="absolute !important",f.style.left="-99999px !important"),f.style.font=p,document.body.appendChild(f),A=f.offsetHeight,document.body.removeChild(f);e[p]=A}return A}}();E.measureTextHeight=B;var a=null};
shadow$provide[109]=function(Ha,B,rb,E){function g(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=g(B(103));var m=g(B(89)),n=g(B(104)),F=g(B(98)),O=g(B(99)),x=B(105),y=B(108),q=B(100),l=B(93),h=B(107),c=function(){var e=function(a,f){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,A){p.__proto__=A}||function(p,A){for(var C in A)Object.prototype.hasOwnProperty.call(A,C)&&(p[C]=A[C])};return e(a,f)};return function(a,
f){function p(){this.constructor=a}e(a,f);a.prototype=null===f?Object.create(f):(p.prototype=f.prototype,new p)}}();B=function(e){function a(f){var p=e.call(this,f)||this;p.fontChangeListenerKey_=(0,l.listen)(y.checkedFonts,m["default"].PROPERTYCHANGE,f.redrawText.bind(f));p.element_=document.createElement("div");var A=p.element_.style;A.position="absolute";A.width="100%";A.height="100%";A.zIndex="0";p.element_.className=x.CLASS_UNSELECTABLE+" ol-layers";f=f.getViewport();f.insertBefore(p.element_,
f.firstChild||null);p.children_=[];p.renderedVisible_=!0;return p}c(a,e);a.prototype.dispatchRenderEvent=function(f,p){var A=this.getMap();A.hasListener(f)&&(f=new n["default"](f,void 0,p),A.dispatchEvent(f))};a.prototype.disposeInternal=function(){(0,l.unlistenByKey)(this.fontChangeListenerKey_);this.element_.parentNode.removeChild(this.element_);e.prototype.disposeInternal.call(this)};a.prototype.renderFrame=function(f){if(f){this.calculateMatrices2D(f);this.dispatchRenderEvent(F["default"].PRECOMPOSE,
f);var p=f.layerStatesArray.sort(function(J,K){return J.zIndex-K.zIndex}),A=f.viewState;this.children_.length=0;for(var C=[],D=null,P=0,L=p.length;P<L;++P){var G=p[P];f.layerIndex=P;if((0,q.inView)(G,A)&&(G.sourceState==O["default"].READY||G.sourceState==O["default"].UNDEFINED)){G=G.layer;var z=G.render(f,D);z&&(z!==D&&(this.children_.push(z),D=z),"getDeclutter"in G&&C.push(G))}}for(P=C.length-1;0<=P;--P)C[P].renderDeclutter(f);(0,h.replaceChildren)(this.element_,this.children_);this.dispatchRenderEvent(F["default"].POSTCOMPOSE,
f);this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0);this.scheduleExpireIconCache(f)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)};a.prototype.forEachLayerAtPixel=function(f,p,A,C,D){for(var P=p.viewState,L=p.layerStatesArray,G=L.length-1;0<=G;--G){var z=L[G],J=z.layer;if(J.hasRenderer()&&(0,q.inView)(z,P)&&D(J)&&(z=J.getRenderer().getDataAtPixel(f,p,A))&&(J=C(J,z)))return J}};return a}(Ha["default"]);E["default"]=B};
shadow$provide[110]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={ADD:"add",REMOVE:"remove"}};
shadow$provide[111]=function(Ha,B,rb,E){function g(x){return x&&x.__esModule?x:{"default":x}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.CollectionEvent=void 0;var m=g(B(79));Ha=g(B(95));var n=g(B(110));B=g(B(88));var F=function(){var x=function(y,q){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&(l[c]=h[c])};return x(y,q)};return function(y,q){function l(){this.constructor=
y}x(y,q);y.prototype=null===q?Object.create(q):(l.prototype=q.prototype,new l)}}(),O=function(x){function y(q,l,h){q=x.call(this,q)||this;q.element=l;q.index=h;return q}F(y,x);return y}(B["default"]);E.CollectionEvent=O;B=function(x){function y(q,l){var h=x.call(this)||this;h.unique_=!!(l||{}).unique;h.array_=q?q:[];if(h.unique_)for(q=0,l=h.array_.length;q<l;++q)h.assertUnique_(h.array_[q],q);h.updateLength_();return h}F(y,x);y.prototype.clear=function(){for(;0<this.getLength();)this.pop()};y.prototype.extend=
function(q){for(var l=0,h=q.length;l<h;++l)this.push(q[l]);return this};y.prototype.forEach=function(q){for(var l=this.array_,h=0,c=l.length;h<c;++h)q(l[h],h,l)};y.prototype.getArray=function(){return this.array_};y.prototype.item=function(q){return this.array_[q]};y.prototype.getLength=function(){return this.get("length")};y.prototype.insertAt=function(q,l){this.unique_&&this.assertUnique_(l);this.array_.splice(q,0,l);this.updateLength_();this.dispatchEvent(new O(n["default"].ADD,l,q))};y.prototype.pop=
function(){return this.removeAt(this.getLength()-1)};y.prototype.push=function(q){this.unique_&&this.assertUnique_(q);var l=this.getLength();this.insertAt(l,q);return this.getLength()};y.prototype.remove=function(q){for(var l=this.array_,h=0,c=l.length;h<c;++h)if(l[h]===q)return this.removeAt(h)};y.prototype.removeAt=function(q){var l=this.array_[q];this.array_.splice(q,1);this.updateLength_();this.dispatchEvent(new O(n["default"].REMOVE,l,q));return l};y.prototype.setAt=function(q,l){var h=this.getLength();
if(q<h)this.unique_&&this.assertUnique_(l,q),h=this.array_[q],this.array_[q]=l,this.dispatchEvent(new O(n["default"].REMOVE,h,q)),this.dispatchEvent(new O(n["default"].ADD,l,q));else{for(;h<q;++h)this.insertAt(h,void 0);this.insertAt(q,l)}};y.prototype.updateLength_=function(){this.set("length",this.array_.length)};y.prototype.assertUnique_=function(q,l){for(var h=0,c=this.array_.length;h<c;++h)if(this.array_[h]===q&&h!==l)throw new m["default"](58);};return y}(Ha["default"]);E["default"]=B};
shadow$provide[112]=function(Ha,B,rb,E){function g(f){return f&&f.__esModule?f:{"default":f}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=g(B(97));var m=g(B(111)),n=g(B(110)),F=g(B(92)),O=g(B(89)),x=g(B(99)),y=B(80),q=B(90),l=B(95),h=B(84),c=B(78),e=B(93),a=function(){var f=function(p,A){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,D){C.__proto__=D}||function(C,D){for(var P in D)Object.prototype.hasOwnProperty.call(D,P)&&(C[P]=D[P])};return f(p,A)};
return function(p,A){function C(){this.constructor=p}f(p,A);p.prototype=null===A?Object.create(A):(C.prototype=A.prototype,new C)}}();B=function(f){function p(A){var C=A||{};A=(0,q.assign)({},C);delete A.layers;C=C.layers;A=f.call(this,A)||this;A.layersListenerKeys_=[];A.listenerKeys_={};A.addEventListener((0,l.getChangeEventType)("layers"),A.handleLayersChanged_);C?Array.isArray(C)?C=new m["default"](C.slice(),{unique:!0}):(0,y.assert)("function"===typeof C.getArray,43):C=new m["default"](void 0,
{unique:!0});A.setLayers(C);return A}a(p,f);p.prototype.handleLayerChange_=function(){this.changed()};p.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(e.unlistenByKey);this.layersListenerKeys_.length=0;var A=this.getLayers();this.layersListenerKeys_.push((0,e.listen)(A,n["default"].ADD,this.handleLayersAdd_,this),(0,e.listen)(A,n["default"].REMOVE,this.handleLayersRemove_,this));for(var C in this.listenerKeys_)this.listenerKeys_[C].forEach(e.unlistenByKey);(0,q.clear)(this.listenerKeys_);
A=A.getArray();C=0;for(var D=A.length;C<D;C++){var P=A[C];this.listenerKeys_[(0,c.getUid)(P)]=[(0,e.listen)(P,O["default"].PROPERTYCHANGE,this.handleLayerChange_,this),(0,e.listen)(P,F["default"].CHANGE,this.handleLayerChange_,this)]}this.changed()};p.prototype.handleLayersAdd_=function(A){A=A.element;this.listenerKeys_[(0,c.getUid)(A)]=[(0,e.listen)(A,O["default"].PROPERTYCHANGE,this.handleLayerChange_,this),(0,e.listen)(A,F["default"].CHANGE,this.handleLayerChange_,this)];this.changed()};p.prototype.handleLayersRemove_=
function(A){A=A.element;A=(0,c.getUid)(A);this.listenerKeys_[A].forEach(e.unlistenByKey);delete this.listenerKeys_[A];this.changed()};p.prototype.getLayers=function(){return this.get("layers")};p.prototype.setLayers=function(A){this.set("layers",A)};p.prototype.getLayersArray=function(A){var C=void 0!==A?A:[];this.getLayers().forEach(function(D){D.getLayersArray(C)});return C};p.prototype.getLayerStatesArray=function(A){var C=void 0!==A?A:[],D=C.length;this.getLayers().forEach(function(G){G.getLayerStatesArray(C)});
A=this.getLayerState();for(var P=C.length;D<P;D++){var L=C[D];L.opacity*=A.opacity;L.visible=L.visible&&A.visible;L.maxResolution=Math.min(L.maxResolution,A.maxResolution);L.minResolution=Math.max(L.minResolution,A.minResolution);L.minZoom=Math.max(L.minZoom,A.minZoom);L.maxZoom=Math.min(L.maxZoom,A.maxZoom);void 0!==A.extent&&(L.extent=void 0!==L.extent?(0,h.getIntersection)(L.extent,A.extent):A.extent)}return C};p.prototype.getSourceState=function(){return x["default"].READY};return p}(Ha["default"]);
E["default"]=B};
shadow$provide[113]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=function(m){return m&&m.__esModule?m:{"default":m}}(B(88));var g=function(){var m=function(n,F){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,x){O.__proto__=x}||function(O,x){for(var y in x)Object.prototype.hasOwnProperty.call(x,y)&&(O[y]=x[y])};return m(n,F)};return function(n,F){function O(){this.constructor=n}m(n,F);n.prototype=null===F?Object.create(F):(O.prototype=
F.prototype,new O)}}();Ha=function(m){function n(F,O,x){F=m.call(this,F)||this;F.map=O;F.frameState=void 0!==x?x:null;return F}g(n,m);return n}(Ha["default"]);E["default"]=Ha};
shadow$provide[114]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=function(m){return m&&m.__esModule?m:{"default":m}}(B(113));var g=function(){var m=function(n,F){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,x){O.__proto__=x}||function(O,x){for(var y in x)Object.prototype.hasOwnProperty.call(x,y)&&(O[y]=x[y])};return m(n,F)};return function(n,F){function O(){this.constructor=n}m(n,F);n.prototype=null===F?Object.create(F):(O.prototype=
F.prototype,new O)}}();Ha=function(m){function n(F,O,x,y,q){F=m.call(this,F,O,q)||this;F.originalEvent=x;F.pixel_=null;F.coordinate_=null;F.dragging=void 0!==y?y:!1;return F}g(n,m);Object.defineProperty(n.prototype,"pixel",{get:function(){this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent));return this.pixel_},set:function(F){this.pixel_=F},enumerable:!1,configurable:!0});Object.defineProperty(n.prototype,"coordinate",{get:function(){this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel));
return this.coordinate_},set:function(F){this.coordinate_=F},enumerable:!1,configurable:!0});n.prototype.preventDefault=function(){m.prototype.preventDefault.call(this);this.originalEvent.preventDefault()};n.prototype.stopPropagation=function(){m.prototype.stopPropagation.call(this);this.originalEvent.stopPropagation()};return n}(Ha["default"]);E["default"]=Ha};
shadow$provide[115]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=(Ha=B(92))&&Ha.__esModule?Ha:{"default":Ha};E["default"]={SINGLECLICK:"singleclick",CLICK:Ha["default"].CLICK,DBLCLICK:Ha["default"].DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}};
shadow$provide[116]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}};
shadow$provide[117]=function(Ha,B,rb,E){function g(l){return l&&l.__esModule?l:{"default":l}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=g(B(91));var m=g(B(92)),n=g(B(114)),F=g(B(115)),O=g(B(116)),x=B(106),y=B(93),q=function(){var l=function(h,c){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,a){e.__proto__=a}||function(e,a){for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(e[f]=a[f])};return l(h,c)};return function(h,c){function e(){this.constructor=
h}l(h,c);h.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)}}();B=function(l){function h(c,e){var a=l.call(this,c)||this;a.map_=c;a.emulateClicks_=!1;a.dragging_=!1;a.dragListenerKeys_=[];a.moveTolerance_=e?e*x.DEVICE_PIXEL_RATIO:x.DEVICE_PIXEL_RATIO;a.down_=null;c=a.map_.getViewport();a.activePointers_=0;a.trackedTouches_={};a.element_=c;a.pointerdownListenerKey_=(0,y.listen)(c,O["default"].POINTERDOWN,a.handlePointerDown_,a);a.relayedListenerKey_=(0,y.listen)(c,O["default"].POINTERMOVE,
a.relayEvent_,a);a.boundHandleTouchMove_=a.handleTouchMove_.bind(a);a.element_.addEventListener(m["default"].TOUCHMOVE,a.boundHandleTouchMove_,x.PASSIVE_EVENT_LISTENERS?{passive:!1}:!1);return a}q(h,l);h.prototype.emulateClick_=function(c){var e=new n["default"](F["default"].CLICK,this.map_,c);this.dispatchEvent(e);void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new n["default"](F["default"].DBLCLICK,this.map_,c),this.dispatchEvent(e)):this.clickTimeoutId_=
setTimeout(function(){this.clickTimeoutId_=void 0;var a=new n["default"](F["default"].SINGLECLICK,this.map_,c);this.dispatchEvent(a)}.bind(this),250)};h.prototype.updateActivePointers_=function(c){c.type==F["default"].POINTERUP||c.type==F["default"].POINTERCANCEL?delete this.trackedTouches_[c.pointerId]:c.type==F["default"].POINTERDOWN&&(this.trackedTouches_[c.pointerId]=!0);this.activePointers_=Object.keys(this.trackedTouches_).length};h.prototype.handlePointerUp_=function(c){this.updateActivePointers_(c);
var e=new n["default"](F["default"].POINTERUP,this.map_,c);this.dispatchEvent(e);this.emulateClicks_&&!e.propagationStopped&&!this.dragging_&&this.isMouseActionButton_(c)&&this.emulateClick_(this.down_);0===this.activePointers_&&(this.dragListenerKeys_.forEach(y.unlistenByKey),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)};h.prototype.isMouseActionButton_=function(c){return 0===c.button};h.prototype.handlePointerDown_=function(c){this.emulateClicks_=0===this.activePointers_;this.updateActivePointers_(c);
var e=new n["default"](F["default"].POINTERDOWN,this.map_,c);this.dispatchEvent(e);this.down_=c;0===this.dragListenerKeys_.length&&(c=this.map_.getOwnerDocument(),this.dragListenerKeys_.push((0,y.listen)(c,F["default"].POINTERMOVE,this.handlePointerMove_,this),(0,y.listen)(c,F["default"].POINTERUP,this.handlePointerUp_,this),(0,y.listen)(this.element_,F["default"].POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==c&&this.dragListenerKeys_.push((0,
y.listen)(this.element_.getRootNode(),F["default"].POINTERUP,this.handlePointerUp_,this)))};h.prototype.handlePointerMove_=function(c){this.isMoving_(c)&&(this.dragging_=!0,c=new n["default"](F["default"].POINTERDRAG,this.map_,c,this.dragging_),this.dispatchEvent(c))};h.prototype.relayEvent_=function(c){this.originalPointerMoveEvent_=c;var e=!(!this.down_||!this.isMoving_(c));this.dispatchEvent(new n["default"](c.type,this.map_,c,e))};h.prototype.handleTouchMove_=function(c){this.originalPointerMoveEvent_&&
!this.originalPointerMoveEvent_.defaultPrevented||c.preventDefault()};h.prototype.isMoving_=function(c){return this.dragging_||Math.abs(c.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(c.clientY-this.down_.clientY)>this.moveTolerance_};h.prototype.disposeInternal=function(){this.relayedListenerKey_&&((0,y.unlistenByKey)(this.relayedListenerKey_),this.relayedListenerKey_=null);this.element_.removeEventListener(m["default"].TOUCHMOVE,this.boundHandleTouchMove_);this.pointerdownListenerKey_&&
((0,y.unlistenByKey)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null);this.dragListenerKeys_.forEach(y.unlistenByKey);this.dragListenerKeys_.length=0;this.element_=null;l.prototype.disposeInternal.call(this)};return h}(Ha["default"]);E["default"]=B};
shadow$provide[118]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}};
shadow$provide[119]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"}};
shadow$provide[120]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.DROP=void 0;var g=B(80),m=B(90);E.DROP=Infinity;Ha=function(){function n(F,O){this.priorityFunction_=F;this.keyFunction_=O;this.elements_=[];this.priorities_=[];this.queuedElements_={}}n.prototype.clear=function(){this.elements_.length=0;this.priorities_.length=0;(0,m.clear)(this.queuedElements_)};n.prototype.dequeue=function(){var F=this.elements_,O=this.priorities_,x=F[0];1==F.length?(F.length=
0,O.length=0):(F[0]=F.pop(),O[0]=O.pop(),this.siftUp_(0));F=this.keyFunction_(x);delete this.queuedElements_[F];return x};n.prototype.enqueue=function(F){(0,g.assert)(!(this.keyFunction_(F)in this.queuedElements_),31);var O=this.priorityFunction_(F);return Infinity!=O?(this.elements_.push(F),this.priorities_.push(O),this.queuedElements_[this.keyFunction_(F)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1};n.prototype.getCount=function(){return this.elements_.length};n.prototype.getLeftChildIndex_=
function(F){return 2*F+1};n.prototype.getRightChildIndex_=function(F){return 2*F+2};n.prototype.getParentIndex_=function(F){return F-1>>1};n.prototype.heapify_=function(){var F;for(F=(this.elements_.length>>1)-1;0<=F;F--)this.siftUp_(F)};n.prototype.isEmpty=function(){return 0===this.elements_.length};n.prototype.isKeyQueued=function(F){return F in this.queuedElements_};n.prototype.isQueued=function(F){return this.isKeyQueued(this.keyFunction_(F))};n.prototype.siftUp_=function(F){for(var O=this.elements_,
x=this.priorities_,y=O.length,q=O[F],l=x[F],h=F;F<y>>1;){var c=this.getLeftChildIndex_(F),e=this.getRightChildIndex_(F);c=e<y&&x[e]<x[c]?e:c;O[F]=O[c];x[F]=x[c];F=c}O[F]=q;x[F]=l;this.siftDown_(h,F)};n.prototype.siftDown_=function(F,O){for(var x=this.elements_,y=this.priorities_,q=x[O],l=y[O];O>F;){var h=this.getParentIndex_(O);if(y[h]>l)x[O]=x[h],y[O]=y[h],O=h;else break}x[O]=q;y[O]=l};n.prototype.reprioritize=function(){var F=this.priorityFunction_,O=this.elements_,x=this.priorities_,y=0,q=O.length,
l;for(l=0;l<q;++l){var h=O[l];var c=F(h);Infinity==c?delete this.queuedElements_[this.keyFunction_(h)]:(x[y]=c,O[y++]=h)}O.length=y;x.length=y;this.heapify_()};return n}();E["default"]=Ha};
shadow$provide[121]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}};
shadow$provide[122]=function(Ha,B,rb,E){function g(q){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"===typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l};return g(q)}function m(){if("function"!==typeof WeakMap)return null;var q=new WeakMap;m=function(){return q};return q}function n(q){return q&&q.__esModule?q:{"default":q}}Object.defineProperty(E,"__esModule",{value:!0});E.getTilePriority=function(q,
l,h,c,e){if(!(q&&h in q.wantedTiles&&q.wantedTiles[h][l.getKey()]))return O.DROP;l=q.viewState.center;q=c[0]-l[0];c=c[1]-l[1];return 65536*Math.log(e)+Math.sqrt(q*q+c*c)/e};E["default"]=void 0;var F=n(B(92)),O=function(q){if(q&&q.__esModule)return q;if(null===q||"object"!==g(q)&&"function"!==typeof q)return{"default":q};var l=m();if(l&&l.has(q))return l.get(q);var h={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor,e;for(e in q)if(Object.prototype.hasOwnProperty.call(q,e)){var a=c?Object.getOwnPropertyDescriptor(q,
e):null;a&&(a.get||a.set)?Object.defineProperty(h,e,a):h[e]=q[e]}h["default"]=q;l&&l.set(q,h);return h}(B(120)),x=n(B(121)),y=function(){var q=function(l,h){q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(c[a]=e[a])};return q(l,h)};return function(l,h){function c(){this.constructor=l}q(l,h);l.prototype=null===h?Object.create(h):(c.prototype=h.prototype,new c)}}();Ha=function(q){function l(h,
c){var e=q.call(this,function(a){return h.apply(null,a)},function(a){return a[0].getKey()})||this;e.boundHandleTileChange_=e.handleTileChange.bind(e);e.tileChangeCallback_=c;e.tilesLoading_=0;e.tilesLoadingKeys_={};return e}y(l,q);l.prototype.enqueue=function(h){var c=q.prototype.enqueue.call(this,h);c&&h[0].addEventListener(F["default"].CHANGE,this.boundHandleTileChange_);return c};l.prototype.getTilesLoading=function(){return this.tilesLoading_};l.prototype.handleTileChange=function(h){h=h.target;
var c=h.getState();if(h.hifi&&c===x["default"].LOADED||c===x["default"].ERROR||c===x["default"].EMPTY)h.removeEventListener(F["default"].CHANGE,this.boundHandleTileChange_),h=h.getKey(),h in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[h],--this.tilesLoading_),this.tileChangeCallback_()};l.prototype.loadMoreTiles=function(h,c){for(var e=0,a,f,p;this.tilesLoading_<h&&e<c&&0<this.getCount();)f=this.dequeue()[0],p=f.getKey(),a=f.getState(),a!==x["default"].IDLE||p in this.tilesLoadingKeys_||
(this.tilesLoadingKeys_[p]=!0,++this.tilesLoading_,++e,f.load())};return l}(O["default"]);E["default"]=Ha};
shadow$provide[123]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}};
shadow$provide[124]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.METERS_PER_UNIT=void 0;Ha={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"};B={};E.METERS_PER_UNIT=B;B[Ha.DEGREES]=12741994*Math.PI/360;B[Ha.FEET]=.3048;B[Ha.METERS]=1;B[Ha.USFEET]=1200/3937;E["default"]=Ha};
shadow$provide[125]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={ANIMATING:0,INTERACTING:1}};
shadow$provide[126]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"}};
shadow$provide[127]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.DEFAULT_MAX_ZOOM=42;E.DEFAULT_TILE_SIZE=256};
shadow$provide[128]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var g=B(124);Ha=function(){function m(n){this.code_=n.code;this.units_=n.units;this.extent_=void 0!==n.extent?n.extent:null;this.worldExtent_=void 0!==n.worldExtent?n.worldExtent:null;this.axisOrientation_=void 0!==n.axisOrientation?n.axisOrientation:"enu";this.global_=void 0!==n.global?n.global:!1;this.canWrapX_=!(!this.global_||!this.extent_);this.getPointResolutionFunc_=n.getPointResolution;
this.defaultTileGrid_=null;this.metersPerUnit_=n.metersPerUnit}m.prototype.canWrapX=function(){return this.canWrapX_};m.prototype.getCode=function(){return this.code_};m.prototype.getExtent=function(){return this.extent_};m.prototype.getUnits=function(){return this.units_};m.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||g.METERS_PER_UNIT[this.units_]};m.prototype.getWorldExtent=function(){return this.worldExtent_};m.prototype.getAxisOrientation=function(){return this.axisOrientation_};
m.prototype.isGlobal=function(){return this.global_};m.prototype.setGlobal=function(n){this.global_=n;this.canWrapX_=!(!n||!this.extent_)};m.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_};m.prototype.setDefaultTileGrid=function(n){this.defaultTileGrid_=n};m.prototype.setExtent=function(n){this.extent_=n;this.canWrapX_=!(!this.global_||!n)};m.prototype.setWorldExtent=function(n){this.worldExtent_=n};m.prototype.setGetPointResolution=function(n){this.getPointResolutionFunc_=n};
m.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_};return m}();E["default"]=Ha};
shadow$provide[129]=function(Ha,B,rb,E){function g(l){return l&&l.__esModule?l:{"default":l}}Object.defineProperty(E,"__esModule",{value:!0});E.fromEPSG4326=function(l,h,c){var e=l.length;c=1<c?c:2;void 0===h&&(h=2<c?l.slice():Array(e));for(var a=0;a<e;a+=c){h[a]=O*l[a]/180;var f=6378137*Math.log(Math.tan(Math.PI*(+l[a+1]+90)/360));f>q?f=q:f<-q&&(f=-q);h[a+1]=f}return h};E.toEPSG4326=function(l,h,c){var e=l.length;c=1<c?c:2;void 0===h&&(h=2<c?l.slice():Array(e));for(var a=0;a<e;a+=c)h[a]=180*l[a]/
O,h[a+1]=360*Math.atan(Math.exp(l[a+1]/6378137))/Math.PI-90;return h};E.PROJECTIONS=E.MAX_SAFE_Y=E.WORLD_EXTENT=E.EXTENT=E.HALF_SIZE=E.RADIUS=void 0;Ha=g(B(128));var m=g(B(124)),n=B(85),F=function(){var l=function(h,c){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,a){e.__proto__=a}||function(e,a){for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(e[f]=a[f])};return l(h,c)};return function(h,c){function e(){this.constructor=h}l(h,c);h.prototype=null===c?Object.create(c):
(e.prototype=c.prototype,new e)}}();E.RADIUS=6378137;var O=6378137*Math.PI;E.HALF_SIZE=O;var x=[-O,-O,O,O];E.EXTENT=x;var y=[-180,-85,180,85];E.WORLD_EXTENT=y;var q=6378137*Math.log(Math.tan(Math.PI/2));E.MAX_SAFE_Y=q;B=function(l){function h(c){return l.call(this,{code:c,units:m["default"].METERS,extent:x,global:!0,worldExtent:y,getPointResolution:function(e,a){return e/(0,n.cosh)(a[1]/6378137)}})||this}F(h,l);return h}(Ha["default"]);B=[new B("EPSG:3857"),new B("EPSG:102100"),new B("EPSG:102113"),
new B("EPSG:900913"),new B("http://www.opengis.net/gml/srs/epsg.xml#3857")];E.PROJECTIONS=B};
shadow$provide[130]=function(Ha,B,rb,E){function g(x){return x&&x.__esModule?x:{"default":x}}Object.defineProperty(E,"__esModule",{value:!0});E.PROJECTIONS=E.METERS_PER_UNIT=E.EXTENT=E.RADIUS=void 0;Ha=g(B(128));var m=g(B(124)),n=function(){var x=function(y,q){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&(l[c]=h[c])};return x(y,q)};return function(y,q){function l(){this.constructor=y}
x(y,q);y.prototype=null===q?Object.create(q):(l.prototype=q.prototype,new l)}}();E.RADIUS=6378137;var F=[-180,-90,180,90];E.EXTENT=F;var O=6378137*Math.PI/180;E.METERS_PER_UNIT=O;B=function(x){function y(q,l){return x.call(this,{code:q,units:m["default"].DEGREES,extent:F,axisOrientation:l,global:!0,metersPerUnit:O,worldExtent:F})||this}n(y,x);return y}(Ha["default"]);B=[new B("CRS:84"),new B("EPSG:4326","neu"),new B("urn:ogc:def:crs:OGC:1.3:CRS84"),new B("urn:ogc:def:crs:OGC:2:84"),new B("http://www.opengis.net/gml/srs/epsg.xml#4326",
"neu")];E.PROJECTIONS=B};
shadow$provide[131]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.clear=function(){g={}};E.get=function(m){return g[m]||g[m.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null};E.add=function(m,n){g[m]=n};var g={}};
shadow$provide[132]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.clear=function(){m={}};E.add=function(n,F,O){n=n.getCode();F=F.getCode();n in m||(m[n]={});m[n][F]=O};E.remove=function(n,F){n=n.getCode();F=F.getCode();var O=m[n][F];delete m[n][F];(0,g.isEmpty)(m[n])&&delete m[n];return O};E.get=function(n,F){var O;n in m&&F in m[n]&&(O=m[n][F]);return O};var g=B(90),m={}};
shadow$provide[133]=function(Ha,B,rb,E){function g(l,h,c){c=c||q;var e=(0,y.toRadians)(l[1]),a=(0,y.toRadians)(h[1]),f=(a-e)/2;l=(0,y.toRadians)(h[0]-l[0])/2;l=Math.sin(f)*Math.sin(f)+Math.sin(l)*Math.sin(l)*Math.cos(e)*Math.cos(a);return 2*c*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}function m(l,h){for(var c=0,e=0,a=l.length;e<a-1;++e)c+=g(l[e],l[e+1],h);return c}function n(l,h){var c=h||{},e=c.radius||q;c=c.projection||"EPSG:3857";var a=l.getType();a!==x["default"].GEOMETRY_COLLECTION&&(l=l.clone().transform(c,
"EPSG:4326"));c=0;var f;switch(a){case x["default"].POINT:case x["default"].MULTI_POINT:break;case x["default"].LINE_STRING:case x["default"].LINEAR_RING:h=l.getCoordinates();c=m(h,e);break;case x["default"].MULTI_LINE_STRING:case x["default"].POLYGON:h=l.getCoordinates();l=0;for(a=h.length;l<a;++l)c+=m(h[l],e);break;case x["default"].MULTI_POLYGON:h=l.getCoordinates();l=0;for(a=h.length;l<a;++l){var p=h[l];var A=0;for(f=p.length;A<f;++A)c+=m(p[A],e)}break;case x["default"].GEOMETRY_COLLECTION:e=
l.getGeometries();l=0;for(a=e.length;l<a;++l)c+=n(e[l],h);break;default:throw Error("Unsupported geometry type: "+a);}return c}function F(l,h){for(var c=0,e=l.length,a=l[e-1][0],f=l[e-1][1],p=0;p<e;p++){var A=l[p][0],C=l[p][1];c+=(0,y.toRadians)(A-a)*(2+Math.sin((0,y.toRadians)(f))+Math.sin((0,y.toRadians)(C)));a=A;f=C}return c*h*h/2}function O(l,h){var c=h||{},e=c.radius||q;c=c.projection||"EPSG:3857";var a=l.getType();a!==x["default"].GEOMETRY_COLLECTION&&(l=l.clone().transform(c,"EPSG:4326"));
c=0;var f;switch(a){case x["default"].POINT:case x["default"].MULTI_POINT:case x["default"].LINE_STRING:case x["default"].MULTI_LINE_STRING:case x["default"].LINEAR_RING:break;case x["default"].POLYGON:h=l.getCoordinates();c=Math.abs(F(h[0],e));l=1;for(a=h.length;l<a;++l)c-=Math.abs(F(h[l],e));break;case x["default"].MULTI_POLYGON:h=l.getCoordinates();l=0;for(a=h.length;l<a;++l){var p=h[l];c+=Math.abs(F(p[0],e));var A=1;for(f=p.length;A<f;++A)c-=Math.abs(F(p[A],e))}break;case x["default"].GEOMETRY_COLLECTION:e=
l.getGeometries();l=0;for(a=e.length;l<a;++l)c+=O(e[l],h);break;default:throw Error("Unsupported geometry type: "+a);}return c}Object.defineProperty(E,"__esModule",{value:!0});E.getDistance=g;E.getLength=n;E.getArea=O;E.offset=function(l,h,c,e){var a=e||q;e=(0,y.toRadians)(l[1]);l=(0,y.toRadians)(l[0]);a=h/a;h=Math.asin(Math.sin(e)*Math.cos(a)+Math.cos(e)*Math.sin(a)*Math.cos(c));c=l+Math.atan2(Math.sin(c)*Math.sin(a)*Math.cos(e),Math.cos(a)-Math.sin(e)*Math.sin(h));return[(0,y.toDegrees)(c),(0,y.toDegrees)(h)]};
E.DEFAULT_RADIUS=void 0;var x=function(l){return l&&l.__esModule?l:{"default":l}}(B(123)),y=B(85),q=6371008.8;E.DEFAULT_RADIUS=q};
shadow$provide[134]=function(Ha,B,rb,E){function g(ba){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(da){return typeof da}:function(da){return da&&"function"===typeof Symbol&&da.constructor===Symbol&&da!==Symbol.prototype?"symbol":typeof da};return g(ba)}function m(){if("function"!==typeof WeakMap)return null;var ba=new WeakMap;m=function(){return ba};return ba}function n(ba,da,ja){if(void 0!==da){ja=0;for(var Z=ba.length;ja<Z;++ja)da[ja]=ba[ja];ba=da}else ba=ba.slice();
return ba}function F(ba,da,ja){if(void 0!==da&&ba!==da){ja=0;for(var Z=ba.length;ja<Z;++ja)da[ja]=ba[ja];ba=da}return ba}function O(ba){(0,G.add)(ba.getCode(),ba);(0,z.add)(ba,ba,n)}function x(ba){ba.forEach(O)}function y(ba){return"string"===typeof ba?(0,G.get)(ba):ba||null}function q(ba){x(ba);ba.forEach(function(da){ba.forEach(function(ja){da!==ja&&(0,z.add)(da,ja,n)})})}function l(ba,da,ja,Z){ba.forEach(function(Q){da.forEach(function(r){(0,z.add)(Q,r,ja);(0,z.add)(r,Q,Z)})})}function h(ba){return function(da,
ja,Z){var Q=da.length;Z=void 0!==Z?Z:2;ja=void 0!==ja?ja:Array(Q);for(var r=0;r<Q;r+=Z){var N=ba([da[r],da[r+1]]);ja[r]=N[0];ja[r+1]=N[1];for(N=Z-1;2<=N;--N)ja[r+N]=da[r+N]}return ja}}function c(ba,da){ba=ba.getCode();da=da.getCode();(da=(0,z.get)(ba,da))||(da=F);return da}function e(ba,da){ba=y(ba);da=y(da);return c(ba,da)}function a(ba,da,ja){return e(da,ja)(ba,void 0,ba.length)}function f(ba,da,ja,Z){da=e(da,ja);return(0,J.applyTransform)(ba,da,void 0,Z)}function p(ba){ka=y(ba)}function A(){q(P.PROJECTIONS);
q(L.PROJECTIONS);l(L.PROJECTIONS,P.PROJECTIONS,P.fromEPSG4326,P.toEPSG4326)}Object.defineProperty(E,"__esModule",{value:!0});E.cloneTransform=n;E.identityTransform=F;E.addProjection=O;E.addProjections=x;E.get=y;E.getPointResolution=function(ba,da,ja,Z){ba=y(ba);var Q=ba.getPointResolutionFunc();if(Q)da=Q(da,ja),Z&&Z!==ba.getUnits()&&(ba=ba.getMetersPerUnit())&&(da=da*ba/D.METERS_PER_UNIT[Z]);else{var r=ba.getUnits();r==D["default"].DEGREES&&!Z||Z==D["default"].DEGREES||(Q=c(ba,y("EPSG:4326")),Q===
F&&r!==D["default"].DEGREES?da*=ba.getMetersPerUnit():(da=[ja[0]-da/2,ja[1],ja[0]+da/2,ja[1],ja[0],ja[1]-da/2,ja[0],ja[1]+da/2],da=Q(da,da,2),ja=(0,R.getDistance)(da.slice(0,2),da.slice(2,4)),da=(0,R.getDistance)(da.slice(4,6),da.slice(6,8)),da=(ja+da)/2),ba=Z?D.METERS_PER_UNIT[Z]:ba.getMetersPerUnit(),void 0!==ba&&(da/=ba))}return da};E.addEquivalentProjections=q;E.addEquivalentTransforms=l;E.clearAllProjections=function(){(0,G.clear)();(0,z.clear)()};E.createProjection=function(ba,da){return ba?
"string"===typeof ba?y(ba):ba:y(da)};E.createTransformFromCoordinateTransform=h;E.addCoordinateTransforms=function(ba,da,ja,Z){ba=y(ba);da=y(da);(0,z.add)(ba,da,h(ja));(0,z.add)(da,ba,h(Z))};E.fromLonLat=function(ba,da){return a(ba,"EPSG:4326",void 0!==da?da:"EPSG:3857")};E.toLonLat=function(ba,da){ba=a(ba,void 0!==da?da:"EPSG:3857","EPSG:4326");da=ba[0];if(-180>da||180<da)ba[0]=(0,K.modulo)(da+180,360)-180;return ba};E.equivalent=function(ba,da){if(ba===da)return!0;var ja=ba.getUnits()===da.getUnits();
return ba.getCode()===da.getCode()?ja:c(ba,da)===n&&ja};E.getTransformFromProjections=c;E.getTransform=e;E.transform=a;E.transformExtent=f;E.transformWithProjections=function(ba,da,ja){return c(da,ja)(ba)};E.setUserProjection=p;E.clearUserProjection=function(){ka=null};E.getUserProjection=function(){return ka};E.useGeographic=function(){p("EPSG:4326")};E.toUserCoordinate=function(ba,da){return ka?a(ba,da,ka):ba};E.fromUserCoordinate=function(ba,da){return ka?a(ba,ka,da):ba};E.toUserExtent=function(ba,
da){return ka?f(ba,da,ka):ba};E.fromUserExtent=function(ba,da){return ka?f(ba,ka,da):ba};E.createSafeCoordinateTransform=function(ba,da,ja){return function(Z){var Q=Z[0],r=Z[1],N;if(ba.canWrapX()){var ea=ba.getExtent(),aa=(0,J.getWidth)(ea);(N=(0,U.getWorldsAway)(Z,ba,aa))&&(Q-=N*aa);Q=(0,K.clamp)(Q,ea[0],ea[2]);r=(0,K.clamp)(r,ea[1],ea[3]);Z=ja([Q,r])}else Z=ja(Z);N&&da.canWrapX()&&(Z[0]+=N*(0,J.getWidth)(da.getExtent()));return Z}};E.addCommon=A;Object.defineProperty(E,"Projection",{enumerable:!0,
get:function(){return C["default"]}});Object.defineProperty(E,"METERS_PER_UNIT",{enumerable:!0,get:function(){return D.METERS_PER_UNIT}});var C=function(ba){return ba&&ba.__esModule?ba:{"default":ba}}(B(128)),D=function(ba){if(ba&&ba.__esModule)return ba;if(null===ba||"object"!==g(ba)&&"function"!==typeof ba)return{"default":ba};var da=m();if(da&&da.has(ba))return da.get(ba);var ja={},Z=Object.defineProperty&&Object.getOwnPropertyDescriptor,Q;for(Q in ba)if(Object.prototype.hasOwnProperty.call(ba,
Q)){var r=Z?Object.getOwnPropertyDescriptor(ba,Q):null;r&&(r.get||r.set)?Object.defineProperty(ja,Q,r):ja[Q]=ba[Q]}ja["default"]=ba;da&&da.set(ba,ja);return ja}(B(124)),P=B(129),L=B(130),G=B(131),z=B(132),J=B(84),K=B(85),R=B(133),U=B(102),ka=null;A()};
shadow$provide[135]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.createExtent=function(m,n,F){return function(O,x,y,q,l){if(O){var h=n?0:y[0]*x,c=n?0:y[1]*x;y=l?l[0]:0;var e=l?l[1]:0;l=m[0]+h/2+y;h=m[2]-h/2+y;y=m[1]+c/2+e;c=m[3]-c/2+e;l>h&&(h=l=(h+l)/2);y>c&&(c=y=(c+y)/2);e=(0,g.clamp)(O[0],l,h);var a=(0,g.clamp)(O[1],y,c);x*=30;q&&F&&(e+=-x*Math.log(1+Math.max(0,l-O[0])/x)+x*Math.log(1+Math.max(0,O[0]-h)/x),a+=-x*Math.log(1+Math.max(0,y-O[1])/x)+x*Math.log(1+Math.max(0,
O[1]-c)/x));return[e,a]}}};E.none=function(m){return m};var g=B(85)};
shadow$provide[136]=function(Ha,B,rb,E){function g(x,y,q,l){var h=(0,F.getWidth)(y)/q[0];y=(0,F.getHeight)(y)/q[1];return l?Math.min(x,Math.max(h,y)):Math.min(x,Math.min(h,y))}function m(x,y,q){var l=Math.min(x,y);l*=Math.log(1+50*Math.max(0,x/y-1))/50+1;q&&(l=Math.max(l,q),l/=Math.log(1+50*Math.max(0,q/x-1))/50+1);return(0,n.clamp)(l,q/2,2*y)}Object.defineProperty(E,"__esModule",{value:!0});E.createSnapToResolutions=function(x,y,q,l){return function(h,c,e,a){if(void 0!==h){var f=x[0],p=x[x.length-
1];e=q?g(f,q,e,l):f;if(a)return void 0===y||y?m(h,e,p):(0,n.clamp)(h,p,e);h=Math.min(e,h);c=Math.floor((0,O.linearFindNearest)(x,h,c));return x[c]>e&&c<x.length-1?x[c+1]:x[c]}}};E.createSnapToPower=function(x,y,q,l,h,c){return function(e,a,f,p){if(void 0!==e){f=h?g(y,h,f,c):y;var A=void 0!==q?q:0;if(p)return void 0===l||l?m(e,f,A):(0,n.clamp)(e,A,f);e=y/Math.pow(x,Math.max(Math.ceil(Math.log(y/f)/Math.log(x)-1E-9),Math.floor(Math.log(y/Math.min(f,e))/Math.log(x)+(-a*(.5-1E-9)+.5))));return(0,n.clamp)(e,
A,f)}}};E.createMinMaxResolution=function(x,y,q,l,h){return function(c,e,a,f){if(void 0!==c)return e=l?g(x,l,a,h):x,void 0!==q&&!q||!f?(0,n.clamp)(c,y,e):m(c,e,y)}};var n=B(85),F=B(84),O=B(76)};
shadow$provide[137]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.disable=function(m){if(void 0!==m)return 0};E.none=function(m){if(void 0!==m)return m};E.createSnapToN=function(m){var n=2*Math.PI/m;return function(F,O){if(O)return F;if(void 0!==F)return F=Math.floor(F/n+.5)*n}};E.createSnapToZero=function(m){var n=m||(0,g.toRadians)(5);return function(F,O){if(O)return F;if(void 0!==F)return Math.abs(F)<=n?0:F}};var g=B(85)};
shadow$provide[138]=function(Ha,B,rb,E){function g(n){return Math.pow(n,3)}function m(n){return 3*n*n-2*n*n*n}Object.defineProperty(E,"__esModule",{value:!0});E.easeIn=g;E.easeOut=function(n){return 1-g(1-n)};E.inAndOut=m;E.linear=function(n){return n};E.upAndDown=function(n){return.5>n?m(2*n):1-m(2*(n-.5))}};
shadow$provide[139]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}};
shadow$provide[140]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.transform2D=function(g,m,n,F,O,x){for(var y=x?x:[],q=0;m<n;m+=F){var l=g[m],h=g[m+1];y[q++]=O[0]*l+O[2]*h+O[4];y[q++]=O[1]*l+O[3]*h+O[5]}x&&y.length!=q&&(y.length=q);return y};E.rotate=function(g,m,n,F,O,x,y){var q=y?y:[],l=Math.cos(O);O=Math.sin(O);var h=x[0];x=x[1];for(var c=0;m<n;m+=F){var e=g[m]-h,a=g[m+1]-x;q[c++]=h+e*l-a*O;q[c++]=x+e*O+a*l;for(e=m+2;e<m+F;++e)q[c++]=g[e]}y&&q.length!=c&&(q.length=c);return q};
E.scale=function(g,m,n,F,O,x,y,q){var l=q?q:[],h=y[0];y=y[1];for(var c=0;m<n;m+=F){var e=g[m]-h,a=g[m+1]-y;l[c++]=h+O*e;l[c++]=y+x*a;for(e=m+2;e<m+F;++e)l[c++]=g[e]}q&&l.length!=c&&(l.length=c);return l};E.translate=function(g,m,n,F,O,x,y){for(var q=y?y:[],l=0;m<n;m+=F){q[l++]=g[m]+O;q[l++]=g[m+1]+x;for(var h=m+2;h<m+F;++h)q[l++]=g[h]}y&&q.length!=l&&(q.length=l);return q}};
shadow$provide[141]=function(Ha,B,rb,E){function g(c){return c&&c.__esModule?c:{"default":c}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=g(B(95));var m=g(B(124)),n=B(78),F=B(81),O=B(84),x=B(134),y=B(77),q=B(140),l=function(){var c=function(e,a){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var A in p)Object.prototype.hasOwnProperty.call(p,A)&&(f[A]=p[A])};return c(e,a)};return function(e,a){function f(){this.constructor=
e}c(e,a);e.prototype=null===a?Object.create(a):(f.prototype=a.prototype,new f)}}(),h=(0,F.create)();B=function(c){function e(){var a=c.call(this)||this;a.extent_=(0,O.createEmpty)();a.extentRevision_=-1;a.simplifiedGeometryMaxMinSquaredTolerance=0;a.simplifiedGeometryRevision=0;a.simplifyTransformedInternal=(0,y.memoizeOne)(function(f,p,A){if(!A)return this.getSimplifiedGeometry(p);f=this.clone();f.applyTransform(A);return f.getSimplifiedGeometry(p)});return a}l(e,c);e.prototype.simplifyTransformed=
function(a,f){return this.simplifyTransformedInternal(this.getRevision(),a,f)};e.prototype.clone=function(){return(0,n["abstract"])()};e.prototype.closestPointXY=function(a,f,p,A){return(0,n["abstract"])()};e.prototype.containsXY=function(a,f){var p=this.getClosestPoint([a,f]);return p[0]===a&&p[1]===f};e.prototype.getClosestPoint=function(a,f){f=f?f:[NaN,NaN];this.closestPointXY(a[0],a[1],f,Infinity);return f};e.prototype.intersectsCoordinate=function(a){return this.containsXY(a[0],a[1])};e.prototype.computeExtent=
function(a){return(0,n["abstract"])()};e.prototype.getExtent=function(a){if(this.extentRevision_!=this.getRevision()){var f=this.computeExtent(this.extent_);(isNaN(f[0])||isNaN(f[1]))&&(0,O.createOrUpdateEmpty)(f);this.extentRevision_=this.getRevision()}return(0,O.returnOrUpdate)(this.extent_,a)};e.prototype.rotate=function(a,f){(0,n["abstract"])()};e.prototype.scale=function(a,f,p){(0,n["abstract"])()};e.prototype.simplify=function(a){return this.getSimplifiedGeometry(a*a)};e.prototype.getSimplifiedGeometry=
function(a){return(0,n["abstract"])()};e.prototype.getType=function(){return(0,n["abstract"])()};e.prototype.applyTransform=function(a){(0,n["abstract"])()};e.prototype.intersectsExtent=function(a){return(0,n["abstract"])()};e.prototype.translate=function(a,f){(0,n["abstract"])()};e.prototype.transform=function(a,f){var p=(0,x.get)(a);a=p.getUnits()==m["default"].TILE_PIXELS?function(A,C,D){var P=p.getExtent(),L=p.getWorldExtent();P=(0,O.getHeight)(L)/(0,O.getHeight)(P);(0,F.compose)(h,L[0],L[3],
P,-P,0,0,0);(0,q.transform2D)(A,0,A.length,D,h,C);return(0,x.getTransform)(p,f)(A,C,D)}:(0,x.getTransform)(p,f);this.applyTransform(a);return this};return e}(Ha["default"]);E["default"]=B};
shadow$provide[142]=function(Ha,B,rb,E){function g(q){return q&&q.__esModule?q:{"default":q}}function m(q){var l;q==n["default"].XY?l=2:q==n["default"].XYZ||q==n["default"].XYM?l=3:q==n["default"].XYZM&&(l=4);return l}Object.defineProperty(E,"__esModule",{value:!0});E.getStrideForLayout=m;E.transformGeom2D=function(q,l,h){var c=q.getFlatCoordinates();return c?(q=q.getStride(),(0,x.transform2D)(c,0,c.length,q,l,h)):null};E["default"]=void 0;Ha=g(B(141));var n=g(B(139)),F=B(78),O=B(84),x=B(140),y=function(){var q=
function(l,h){q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(c[a]=e[a])};return q(l,h)};return function(l,h){function c(){this.constructor=l}q(l,h);l.prototype=null===h?Object.create(h):(c.prototype=h.prototype,new c)}}();B=function(q){function l(){var h=q.call(this)||this;h.layout=n["default"].XY;h.stride=2;h.flatCoordinates=null;return h}y(l,q);l.prototype.computeExtent=function(h){return(0,
O.createOrUpdateFromFlatCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,h)};l.prototype.getCoordinates=function(){return(0,F["abstract"])()};l.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)};l.prototype.getFlatCoordinates=function(){return this.flatCoordinates};l.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)};l.prototype.getLayout=function(){return this.layout};
l.prototype.getSimplifiedGeometry=function(h){this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision());if(0>h||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&h<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var c=this.getSimplifiedGeometryInternal(h);if(c.getFlatCoordinates().length<this.flatCoordinates.length)return c;this.simplifiedGeometryMaxMinSquaredTolerance=h;return this};l.prototype.getSimplifiedGeometryInternal=
function(h){return this};l.prototype.getStride=function(){return this.stride};l.prototype.setFlatCoordinates=function(h,c){this.stride=m(h);this.layout=h;this.flatCoordinates=c};l.prototype.setCoordinates=function(h,c){(0,F["abstract"])()};l.prototype.setLayout=function(h,c,e){if(h)c=m(h);else{for(h=0;h<e;++h){if(0===c.length){this.layout=n["default"].XY;this.stride=2;return}c=c[0]}c=c.length;if(2==c)var a=n["default"].XY;else 3==c?a=n["default"].XYZ:4==c&&(a=n["default"].XYZM);h=a}this.layout=h;
this.stride=c};l.prototype.applyTransform=function(h){this.flatCoordinates&&(h(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())};l.prototype.rotate=function(h,c){var e=this.getFlatCoordinates();if(e){var a=this.getStride();(0,x.rotate)(e,0,e.length,a,h,c,e);this.changed()}};l.prototype.scale=function(h,c,e){void 0===c&&(c=h);e||(e=(0,O.getCenter)(this.getExtent()));var a=this.getFlatCoordinates();if(a){var f=this.getStride();(0,x.scale)(a,0,a.length,f,h,c,e,a);this.changed()}};
l.prototype.translate=function(h,c){var e=this.getFlatCoordinates();if(e){var a=this.getStride();(0,x.translate)(e,0,e.length,a,h,c,e);this.changed()}};return l}(Ha["default"]);E["default"]=B};
shadow$provide[143]=function(Ha,B,rb,E){function g(y,q,l,h,c,e,a){var f=y[q],p=y[q+1],A=y[l]-f,C=y[l+1]-p;if(0!==A||0!==C)if(e=((c-f)*A+(e-p)*C)/(A*A+C*C),1<e)q=l;else if(0<e){for(c=0;c<h;++c)a[c]=(0,x.lerp)(y[q+c],y[l+c],e);a.length=h;return}for(c=0;c<h;++c)a[c]=y[q+c];a.length=h}function m(y,q,l,h,c){var e=y[q],a=y[q+1];for(q+=h;q<l;q+=h){var f=y[q],p=y[q+1];e=(0,x.squaredDistance)(e,a,f,p);e>c&&(c=e);e=f;a=p}return c}function n(y,q,l,h,c){for(var e=0,a=l.length;e<a;++e){var f=l[e];c=m(y,q,f,h,
c);q=f}return c}function F(y,q,l,h,c,e,a,f,p,A,C){if(q==l)return A;if(0===c){var D=(0,x.squaredDistance)(a,f,y[q],y[q+1]);if(D<A){for(C=0;C<h;++C)p[C]=y[q+C];p.length=h;return D}return A}for(var P=C?C:[NaN,NaN],L=q+h;L<l;)if(g(y,L-h,L,h,a,f,P),D=(0,x.squaredDistance)(a,f,P[0],P[1]),D<A){A=D;for(C=0;C<h;++C)p[C]=P[C];p.length=h;L+=h}else L+=h*Math.max((Math.sqrt(D)-Math.sqrt(A))/c|0,1);if(e&&(g(y,l-h,q,h,a,f,P),D=(0,x.squaredDistance)(a,f,P[0],P[1]),D<A)){A=D;for(C=0;C<h;++C)p[C]=P[C];p.length=h}return A}
function O(y,q,l,h,c,e,a,f,p,A,C){C=C?C:[NaN,NaN];for(var D=0,P=l.length;D<P;++D){var L=l[D];A=F(y,q,L,h,c,e,a,f,p,A,C);q=L}return A}Object.defineProperty(E,"__esModule",{value:!0});E.maxSquaredDelta=m;E.arrayMaxSquaredDelta=n;E.multiArrayMaxSquaredDelta=function(y,q,l,h,c){for(var e=0,a=l.length;e<a;++e){var f=l[e];c=n(y,q,f,h,c);q=f[f.length-1]}return c};E.assignClosestPoint=F;E.assignClosestArrayPoint=O;E.assignClosestMultiArrayPoint=function(y,q,l,h,c,e,a,f,p,A,C){C=C?C:[NaN,NaN];for(var D=0,
P=l.length;D<P;++D){var L=l[D];A=O(y,q,L,h,c,e,a,f,p,A,C);q=L[L.length-1]}return A};var x=B(85)};
shadow$provide[144]=function(Ha,B,rb,E){function g(n,F,O,x){for(var y=0,q=O.length;y<q;++y)for(var l=O[y],h=0;h<x;++h)n[F++]=l[h];return F}function m(n,F,O,x,y){y=y?y:[];for(var q=0,l=0,h=O.length;l<h;++l)F=g(n,F,O[l],x),y[q++]=F;y.length=q;return y}Object.defineProperty(E,"__esModule",{value:!0});E.deflateCoordinate=function(n,F,O,x){x=0;for(var y=O.length;x<y;++x)n[F++]=O[x];return F};E.deflateCoordinates=g;E.deflateCoordinatesArray=m;E.deflateMultiCoordinatesArray=function(n,F,O,x,y){y=y?y:[];
for(var q=0,l=0,h=O.length;l<h;++l)F=m(n,F,O[l],x,y[q]),y[q++]=F,F=F[F.length-1];y.length=q;return y}};
shadow$provide[145]=function(Ha,B,rb,E){function g(q,l,h,c,e,a,f){var p=(h-l)/c;if(3>p){for(;l<h;l+=c)a[f++]=q[l],a[f++]=q[l+1];return f}var A=Array(p);A[0]=1;A[p-1]=1;h=[l,h-c];for(var C=0;0<h.length;){for(var D=h.pop(),P=h.pop(),L=0,G=q[P],z=q[P+1],J=q[D],K=q[D+1],R=P+c;R<D;R+=c){var U=q[R],ka=q[R+1];U=(0,y.squaredSegmentDistance)(U,ka,G,z,J,K);U>L&&(C=R,L=U)}L>e&&(A[(C-l)/c]=1,P+c<C&&h.push(P,C),C+c<D&&h.push(C,D))}for(R=0;R<p;++R)A[R]&&(a[f++]=q[l+R*c],a[f++]=q[l+R*c+1]);return f}function m(q,
l,h,c,e,a,f,p){for(var A=0,C=h.length;A<C;++A){var D=h[A];f=g(q,l,D,c,e,a,f);p.push(f);l=D}return f}function n(q,l,h,c,e,a,f){if(h<=l+c){for(;l<h;l+=c)a[f++]=q[l],a[f++]=q[l+1];return f}var p=q[l],A=q[l+1];a[f++]=p;a[f++]=A;var C=p,D=A;for(l+=c;l<h;l+=c)C=q[l],D=q[l+1],(0,y.squaredDistance)(p,A,C,D)>e&&(a[f++]=C,a[f++]=D,p=C,A=D);if(C!=p||D!=A)a[f++]=C,a[f++]=D;return f}function F(q,l){return l*Math.round(q/l)}function O(q,l,h,c,e,a,f){if(l==h)return f;var p=F(q[l],e),A=F(q[l+1],e);l+=c;a[f++]=p;
a[f++]=A;do{var C=F(q[l],e);var D=F(q[l+1],e);l+=c;if(l==h)return a[f++]=C,a[f++]=D,f}while(C==p&&D==A);for(;l<h;){var P=F(q[l],e),L=F(q[l+1],e);l+=c;if(P!=C||L!=D){var G=C-p,z=D-A,J=P-p,K=L-A;G*K==z*J&&(0>G&&J<G||G==J||0<G&&J>G)&&(0>z&&K<z||z==K||0<z&&K>z)||(a[f++]=C,a[f++]=D,p=C,A=D);C=P;D=L}}a[f++]=C;a[f++]=D;return f}function x(q,l,h,c,e,a,f,p){for(var A=0,C=h.length;A<C;++A){var D=h[A];f=O(q,l,D,c,e,a,f);p.push(f);l=D}return f}Object.defineProperty(E,"__esModule",{value:!0});E.simplifyLineString=
function(q,l,h,c,e,a,f){f=void 0!==f?f:[];a||(h=n(q,l,h,c,e,f,0),q=f,l=0,c=2);f.length=g(q,l,h,c,e,f,0);return f};E.douglasPeucker=g;E.douglasPeuckerArray=m;E.douglasPeuckerMultiArray=function(q,l,h,c,e,a,f,p){for(var A=0,C=h.length;A<C;++A){var D=h[A],P=[];f=m(q,l,D,c,e,a,f,P);p.push(P);l=D[D.length-1]}return f};E.radialDistance=n;E.snap=F;E.quantize=O;E.quantizeArray=x;E.quantizeMultiArray=function(q,l,h,c,e,a,f,p){for(var A=0,C=h.length;A<C;++A){var D=h[A],P=[];f=x(q,l,D,c,e,a,f,P);p.push(P);l=
D[D.length-1]}return f};var y=B(85)};
shadow$provide[146]=function(Ha,B,rb,E){function g(n,F,O,x,y){y=void 0!==y?y:[];for(var q=0;F<O;F+=x)y[q++]=n.slice(F,F+x);y.length=q;return y}function m(n,F,O,x,y){y=void 0!==y?y:[];for(var q=0,l=0,h=O.length;l<h;++l){var c=O[l];y[q++]=g(n,F,c,x,y[q]);F=c}y.length=q;return y}Object.defineProperty(E,"__esModule",{value:!0});E.inflateCoordinates=g;E.inflateCoordinatesArray=m;E.inflateMultiCoordinatesArray=function(n,F,O,x,y){y=void 0!==y?y:[];for(var q=0,l=0,h=O.length;l<h;++l){var c=O[l];y[q++]=m(n,
F,c,x,y[q]);F=c[c.length-1]}y.length=q;return y}};
shadow$provide[147]=function(Ha,B,rb,E){function g(n,F,O,x){for(var y=0,q=n[O-x],l=n[O-x+1];F<O;F+=x){var h=n[F],c=n[F+1];y+=l*h-q*c;q=h;l=c}return y/2}function m(n,F,O,x){for(var y=0,q=0,l=O.length;q<l;++q){var h=O[q];y+=g(n,F,h,x);F=h}return y}Object.defineProperty(E,"__esModule",{value:!0});E.linearRing=g;E.linearRings=m;E.linearRingss=function(n,F,O,x){for(var y=0,q=0,l=O.length;q<l;++q){var h=O[q];y+=m(n,F,h,x);F=h[h.length-1]}return y}};
shadow$provide[148]=function(Ha,B,rb,E){function g(c){return c&&c.__esModule?c:{"default":c}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var m=g(B(139)),n=g(B(123));Ha=g(B(142));var F=B(143),O=B(84),x=B(144),y=B(145),q=B(146),l=B(147),h=function(){var c=function(e,a){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var A in p)Object.prototype.hasOwnProperty.call(p,A)&&(f[A]=p[A])};return c(e,a)};return function(e,a){function f(){this.constructor=
e}c(e,a);e.prototype=null===a?Object.create(a):(f.prototype=a.prototype,new f)}}();B=function(c){function e(a,f){var p=c.call(this)||this;p.maxDelta_=-1;p.maxDeltaRevision_=-1;void 0===f||Array.isArray(a[0])?p.setCoordinates(a,f):p.setFlatCoordinates(f,a);return p}h(e,c);e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)};e.prototype.closestPointXY=function(a,f,p,A){if(A<(0,O.closestSquaredDistanceXY)(this.getExtent(),a,f))return A;this.maxDeltaRevision_!=this.getRevision()&&
(this.maxDelta_=Math.sqrt((0,F.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,F.assignClosestPoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,a,f,p,A)};e.prototype.getArea=function(){return(0,l.linearRing)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};e.prototype.getCoordinates=function(){return(0,q.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,
this.stride)};e.prototype.getSimplifiedGeometryInternal=function(a){var f=[];f.length=(0,y.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,a,f,0);return new e(f,m["default"].XY)};e.prototype.getType=function(){return n["default"].LINEAR_RING};e.prototype.intersectsExtent=function(a){return!1};e.prototype.setCoordinates=function(a,f){this.setLayout(f,a,1);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,x.deflateCoordinates)(this.flatCoordinates,
0,a,this.stride);this.changed()};return e}(Ha["default"]);E["default"]=B};
shadow$provide[149]=function(Ha,B,rb,E){function g(y){return y&&y.__esModule?y:{"default":y}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var m=g(B(123));Ha=g(B(142));var n=B(84),F=B(144),O=B(85),x=function(){var y=function(q,l){y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var e in c)Object.prototype.hasOwnProperty.call(c,e)&&(h[e]=c[e])};return y(q,l)};return function(q,l){function h(){this.constructor=q}y(q,l);q.prototype=
null===l?Object.create(l):(h.prototype=l.prototype,new h)}}();B=function(y){function q(l,h){var c=y.call(this)||this;c.setCoordinates(l,h);return c}x(q,y);q.prototype.clone=function(){var l=new q(this.flatCoordinates.slice(),this.layout);l.applyProperties(this);return l};q.prototype.closestPointXY=function(l,h,c,e){var a=this.flatCoordinates;l=(0,O.squaredDistance)(l,h,a[0],a[1]);if(l<e){e=this.stride;for(h=0;h<e;++h)c[h]=a[h];c.length=e;return l}return e};q.prototype.getCoordinates=function(){return this.flatCoordinates?
this.flatCoordinates.slice():[]};q.prototype.computeExtent=function(l){return(0,n.createOrUpdateFromCoordinate)(this.flatCoordinates,l)};q.prototype.getType=function(){return m["default"].POINT};q.prototype.intersectsExtent=function(l){return(0,n.containsXY)(l,this.flatCoordinates[0],this.flatCoordinates[1])};q.prototype.setCoordinates=function(l,h){this.setLayout(h,l,0);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,F.deflateCoordinate)(this.flatCoordinates,0,l,this.stride);
this.changed()};return q}(Ha["default"]);E["default"]=B};
shadow$provide[150]=function(Ha,B,rb,E){function g(F,O,x,y,q,l){for(var h=0,c=F[x-y],e=F[x-y+1];O<x;O+=y){var a=F[O],f=F[O+1];e<=l?f>l&&0<(a-c)*(l-e)-(q-c)*(f-e)&&h++:f<=l&&0>(a-c)*(l-e)-(q-c)*(f-e)&&h--;c=a;e=f}return 0!==h}function m(F,O,x,y,q,l){if(0===x.length||!g(F,O,x[0],y,q,l))return!1;O=1;for(var h=x.length;O<h;++O)if(g(F,x[O-1],x[O],y,q,l))return!1;return!0}Object.defineProperty(E,"__esModule",{value:!0});E.linearRingContainsExtent=function(F,O,x,y,q){return!(0,n.forEachCorner)(q,function(l){return!g(F,
O,x,y,l[0],l[1])})};E.linearRingContainsXY=g;E.linearRingsContainsXY=m;E.linearRingssContainsXY=function(F,O,x,y,q,l){if(0===x.length)return!1;for(var h=0,c=x.length;h<c;++h){var e=x[h];if(m(F,O,e,y,q,l))return!0;O=e[e.length-1]}return!1};var n=B(84)};
shadow$provide[151]=function(Ha,B,rb,E){function g(F,O,x,y,q,l,h){for(var c,e,a,f,p,A=q[l+1],C=[],D=0,P=x.length;D<P;++D){var L=x[D];a=F[L-y];p=F[L-y+1];for(c=O;c<L;c+=y){f=F[c];e=F[c+1];if(A<=p&&e<=A||p<=A&&A<=e)a=(A-p)/(e-p)*(f-a)+a,C.push(a);a=f;p=e}}D=NaN;P=-Infinity;C.sort(n.numberSafeCompareFunction);a=C[0];c=1;for(e=C.length;c<e;++c)f=C[c],L=Math.abs(f-a),L>P&&(a=(a+f)/2,(0,m.linearRingsContainsXY)(F,O,x,y,a,A)&&(D=a,P=L)),a=f;isNaN(D)&&(D=q[l]);return h?(h.push(D,A,P),h):[D,A,P]}Object.defineProperty(E,
"__esModule",{value:!0});E.getInteriorPointOfArray=g;E.getInteriorPointsOfMultiArray=function(F,O,x,y,q){for(var l=[],h=0,c=x.length;h<c;++h){var e=x[h];l=g(F,O,e,y,q,2*h,l);O=e[e.length-1]}return l};var m=B(150),n=B(76)};
shadow$provide[152]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.forEach=function(g,m,n,F,O){for(var x=[g[m],g[m+1]],y=[],q;m+F<n;m+=F){y[0]=g[m+F];y[1]=g[m+F+1];if(q=O(x,y))return q;x[0]=y[0];x[1]=y[1]}return!1}};
shadow$provide[153]=function(Ha,B,rb,E){function g(y,q,l,h,c){var e=(0,F.extendFlatCoordinates)((0,F.createEmpty)(),y,q,l,h);return(0,F.intersects)(c,e)?(0,F.containsExtent)(c,e)||e[0]>=c[0]&&e[2]<=c[2]||e[1]>=c[1]&&e[3]<=c[3]?!0:(0,O.forEach)(y,q,l,h,function(a,f){return(0,F.intersectsSegment)(c,a,f)}):!1}function m(y,q,l,h,c){return g(y,q,l,h,c)||(0,x.linearRingContainsXY)(y,q,l,h,c[0],c[1])||(0,x.linearRingContainsXY)(y,q,l,h,c[0],c[3])||(0,x.linearRingContainsXY)(y,q,l,h,c[2],c[1])||(0,x.linearRingContainsXY)(y,
q,l,h,c[2],c[3])?!0:!1}function n(y,q,l,h,c){if(!m(y,q,l[0],h,c))return!1;if(1===l.length)return!0;q=1;for(var e=l.length;q<e;++q)if((0,x.linearRingContainsExtent)(y,l[q-1],l[q],h,c)&&!g(y,l[q-1],l[q],h,c))return!1;return!0}Object.defineProperty(E,"__esModule",{value:!0});E.intersectsLineString=g;E.intersectsLineStringArray=function(y,q,l,h,c){for(var e=0,a=l.length;e<a;++e){if(g(y,q,l[e],h,c))return!0;q=l[e]}return!1};E.intersectsLinearRing=m;E.intersectsLinearRingArray=n;E.intersectsLinearRingMultiArray=
function(y,q,l,h,c){for(var e=0,a=l.length;e<a;++e){var f=l[e];if(n(y,q,f,h,c))return!0;q=f[f.length-1]}return!1};var F=B(84),O=B(152),x=B(150)};
shadow$provide[154]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.coordinates=function(g,m,n,F){for(;m<n-F;){for(var O=0;O<F;++O){var x=g[m+O];g[m+O]=g[n-F+O];g[n-F+O]=x}m+=F;n-=F}}};
shadow$provide[155]=function(Ha,B,rb,E){function g(O,x,y,q){for(var l=0,h=O[y-q],c=O[y-q+1];x<y;x+=q){var e=O[x],a=O[x+1];l+=(e-h)*(a+c);h=e;c=a}return 0===l?void 0:0<l}function m(O,x,y,q,l){l=void 0!==l?l:!1;for(var h=0,c=y.length;h<c;++h){var e=y[h];x=g(O,x,e,q);if(0===h){if(l&&x||!l&&!x)return!1}else if(l&&!x||!l&&x)return!1;x=e}return!0}function n(O,x,y,q,l){l=void 0!==l?l:!1;for(var h=0,c=y.length;h<c;++h){var e=y[h],a=g(O,x,e,q);(0===h?l&&a||!l&&!a:l&&!a||!l&&a)&&(0,F.coordinates)(O,x,e,q);
x=e}return x}Object.defineProperty(E,"__esModule",{value:!0});E.linearRingIsClockwise=g;E.linearRingsAreOriented=m;E.linearRingssAreOriented=function(O,x,y,q,l){for(var h=0,c=y.length;h<c;++h){var e=y[h];if(!m(O,x,e,q,l))return!1;e.length&&(x=e[e.length-1])}return!0};E.orientLinearRings=n;E.orientLinearRingsArray=function(O,x,y,q,l){for(var h=0,c=y.length;h<c;++h)x=n(O,x,y[h],q,l);return x};var F=B(154)};
shadow$provide[156]=function(Ha,B,rb,E){function g(z){return z&&z.__esModule?z:{"default":z}}function m(z,J,K,R){var U=z.getFlatCoordinates(),ka=z.getStride(),ba=U.length/ka-1;R=R?R:0;for(var da=0;da<=ba;++da){var ja=da*ka,Z=R+2*(0,C.modulo)(da,ba)*Math.PI/ba;U[ja]=J[0]+K*Math.cos(Z);U[ja+1]=J[1]+K*Math.sin(Z)}z.changed()}Object.defineProperty(E,"__esModule",{value:!0});E.circular=function(z,J,K,R){K=K?K:32;for(var U=[],ka=0;ka<K;++ka)(0,h.extend)(U,(0,P.offset)(z,J,2*Math.PI*ka/K,R));U.push(U[0],
U[1]);return new G(U,n["default"].XY,[U.length])};E.fromExtent=function(z){var J=z[0],K=z[1],R=z[2];z=z[3];J=[J,K,J,z,R,z,R,K,J,K];return new G(J,n["default"].XY,[J.length])};E.fromCircle=function(z,J,K){var R=J?J:32,U=z.getStride(),ka=z.getLayout();J=z.getCenter();R=U*(R+1);for(var ba=Array(R),da=0;da<R;da+=U){ba[da]=0;ba[da+1]=0;for(var ja=2;ja<U;ja++)ba[da+ja]=J[ja]}U=new G(ba,ka,[ba.length]);m(U,J,z.getRadius(),K);return U};E.makeRegular=m;E["default"]=void 0;var n=g(B(139)),F=g(B(123)),O=g(B(148)),
x=g(B(149));Ha=g(B(142));var y=B(143),q=B(84),l=B(144),h=B(76),c=B(151),e=B(146),a=B(153),f=B(155),p=B(147),A=B(150),C=B(85),D=B(145),P=B(133),L=function(){var z=function(J,K){z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,U){R.__proto__=U}||function(R,U){for(var ka in U)Object.prototype.hasOwnProperty.call(U,ka)&&(R[ka]=U[ka])};return z(J,K)};return function(J,K){function R(){this.constructor=J}z(J,K);J.prototype=null===K?Object.create(K):(R.prototype=K.prototype,new R)}}(),
G=function(z){function J(K,R,U){var ka=z.call(this)||this;ka.ends_=[];ka.flatInteriorPointRevision_=-1;ka.flatInteriorPoint_=null;ka.maxDelta_=-1;ka.maxDeltaRevision_=-1;ka.orientedRevision_=-1;ka.orientedFlatCoordinates_=null;void 0!==R&&U?(ka.setFlatCoordinates(R,K),ka.ends_=U):ka.setCoordinates(K,R);return ka}L(J,z);J.prototype.appendLinearRing=function(K){this.flatCoordinates?(0,h.extend)(this.flatCoordinates,K.getFlatCoordinates()):this.flatCoordinates=K.getFlatCoordinates().slice();this.ends_.push(this.flatCoordinates.length);
this.changed()};J.prototype.clone=function(){var K=new J(this.flatCoordinates.slice(),this.layout,this.ends_.slice());K.applyProperties(this);return K};J.prototype.closestPointXY=function(K,R,U,ka){if(ka<(0,q.closestSquaredDistanceXY)(this.getExtent(),K,R))return ka;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,y.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,y.assignClosestArrayPoint)(this.flatCoordinates,
0,this.ends_,this.stride,this.maxDelta_,!0,K,R,U,ka)};J.prototype.containsXY=function(K,R){return(0,A.linearRingsContainsXY)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,K,R)};J.prototype.getArea=function(){return(0,p.linearRings)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)};J.prototype.getCoordinates=function(K){if(void 0!==K){var R=this.getOrientedFlatCoordinates().slice();(0,f.orientLinearRings)(R,0,this.ends_,this.stride,K)}else R=this.flatCoordinates;return(0,e.inflateCoordinatesArray)(R,
0,this.ends_,this.stride)};J.prototype.getEnds=function(){return this.ends_};J.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var K=(0,q.getCenter)(this.getExtent());this.flatInteriorPoint_=(0,c.getInteriorPointOfArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,K,0);this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_};J.prototype.getInteriorPoint=function(){return new x["default"](this.getFlatInteriorPoint(),
n["default"].XYM)};J.prototype.getLinearRingCount=function(){return this.ends_.length};J.prototype.getLinearRing=function(K){return 0>K||this.ends_.length<=K?null:new O["default"](this.flatCoordinates.slice(0===K?0:this.ends_[K-1],this.ends_[K]),this.layout)};J.prototype.getLinearRings=function(){for(var K=this.layout,R=this.flatCoordinates,U=this.ends_,ka=[],ba=0,da=0,ja=U.length;da<ja;++da){var Z=U[da];ba=new O["default"](R.slice(ba,Z),K);ka.push(ba);ba=Z}return ka};J.prototype.getOrientedFlatCoordinates=
function(){if(this.orientedRevision_!=this.getRevision()){var K=this.flatCoordinates;(0,f.linearRingsAreOriented)(K,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=K:(this.orientedFlatCoordinates_=K.slice(),this.orientedFlatCoordinates_.length=(0,f.orientLinearRings)(this.orientedFlatCoordinates_,0,this.ends_,this.stride));this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_};J.prototype.getSimplifiedGeometryInternal=function(K){var R=[],U=[];R.length=(0,D.quantizeArray)(this.flatCoordinates,
0,this.ends_,this.stride,Math.sqrt(K),R,0,U);return new J(R,n["default"].XY,U)};J.prototype.getType=function(){return F["default"].POLYGON};J.prototype.intersectsExtent=function(K){return(0,a.intersectsLinearRingArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,K)};J.prototype.setCoordinates=function(K,R){this.setLayout(R,K,2);this.flatCoordinates||(this.flatCoordinates=[]);K=(0,l.deflateCoordinatesArray)(this.flatCoordinates,0,K,this.stride,this.ends_);this.flatCoordinates.length=
0===K.length?0:K[K.length-1];this.changed()};return J}(Ha["default"]);E["default"]=G};
shadow$provide[157]=function(Ha,B,rb,E){function g(ba){return ba&&ba.__esModule?ba:{"default":ba}}function m(ba,da){setTimeout(function(){ba(da)},0)}function n(ba){if(void 0!==ba.extent){var da=void 0!==ba.smoothExtentConstraint?ba.smoothExtentConstraint:!0;return(0,D.createExtent)(ba.extent,ba.constrainOnlyCenter,da)}da=(0,a.createProjection)(ba.projection,"EPSG:3857");return!0!==ba.multiWorld&&da.isGlobal()?(ba=da.getExtent().slice(),ba[0]=-Infinity,ba[2]=Infinity,(0,D.createExtent)(ba,!1,!1)):
D.none}function F(ba){var da=void 0!==ba.minZoom?ba.minZoom:ka,ja=void 0!==ba.maxZoom?ba.maxZoom:28,Z=void 0!==ba.zoomFactor?ba.zoomFactor:2;var Q=void 0!==ba.multiWorld?ba.multiWorld:!1;var r=void 0!==ba.smoothResolutionConstraint?ba.smoothResolutionConstraint:!0,N=void 0!==ba.showFullExtent?ba.showFullExtent:!1;var ea=(0,a.createProjection)(ba.projection,"EPSG:3857");var aa=ea.getExtent(),va=ba.constrainOnlyCenter,ta=ba.extent;Q||ta||!ea.isGlobal()||(va=!1,ta=aa);if(void 0!==ba.resolutions)aa=ba.resolutions,
Q=aa[da],ea=void 0!==aa[ja]?aa[ja]:aa[aa.length-1],ba=ba.constrainResolution?(0,L.createSnapToResolutions)(aa,r,!va&&ta,N):(0,L.createMinMaxResolution)(Q,ea,r,!va&&ta,N);else{aa=(aa?Math.max((0,J.getWidth)(aa),(0,J.getHeight)(aa)):360*a.METERS_PER_UNIT[l["default"].DEGREES]/ea.getMetersPerUnit())/e.DEFAULT_TILE_SIZE/Math.pow(2,ka);var Da=aa/Math.pow(2,28-ka);Q=ba.maxResolution;void 0!==Q?da=0:Q=aa/Math.pow(Z,da);ea=ba.minResolution;void 0===ea&&(ea=void 0!==ba.maxZoom?void 0!==ba.maxResolution?Q/
Math.pow(Z,ja):aa/Math.pow(Z,ja):Da);ja=da+Math.floor(Math.log(Q/ea)/Math.log(Z));ea=Q/Math.pow(Z,ja-da);ba=ba.constrainResolution?(0,L.createSnapToPower)(Z,Q,ea,r,!va&&ta,N):(0,L.createMinMaxResolution)(Q,ea,r,!va&&ta,N)}return{constraint:ba,maxResolution:Q,minResolution:ea,minZoom:da,zoomFactor:Z}}function O(ba){return(void 0!==ba.enableRotation?ba.enableRotation:1)?(ba=ba.constrainRotation,void 0===ba||!0===ba?(0,G.createSnapToZero)():!1===ba?G.none:"number"===typeof ba?(0,G.createSnapToN)(ba):
G.none):G.disable}function x(ba){return ba.sourceCenter&&ba.targetCenter&&!(0,p.equals)(ba.sourceCenter,ba.targetCenter)||ba.sourceResolution!==ba.targetResolution||ba.sourceRotation!==ba.targetRotation?!1:!0}function y(ba,da,ja,Z,Q){var r=Math.cos(-Q);Q=Math.sin(-Q);var N=ba[0]*r-ba[1]*Q;ba=ba[1]*r+ba[0]*Q;N+=(da[0]/2-ja[0])*Z;ba+=(ja[1]-da[1]/2)*Z;Q=-Q;return[N*r-ba*Q,ba*r+N*Q]}Object.defineProperty(E,"__esModule",{value:!0});E.createCenterConstraint=n;E.createResolutionConstraint=F;E.createRotationConstraint=
O;E.isNoopAnimation=x;E["default"]=void 0;Ha=g(B(95));var q=g(B(123)),l=g(B(124)),h=g(B(125)),c=g(B(126)),e=B(127),a=B(134),f=B(77),p=B(102),A=B(80),C=B(90),D=B(135),P=B(85),L=B(136),G=B(137),z=B(138),J=B(84),K=B(76),R=B(156),U=function(){var ba=function(da,ja){ba=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,Q){Z.__proto__=Q}||function(Z,Q){for(var r in Q)Object.prototype.hasOwnProperty.call(Q,r)&&(Z[r]=Q[r])};return ba(da,ja)};return function(da,ja){function Z(){this.constructor=
da}ba(da,ja);da.prototype=null===ja?Object.create(ja):(Z.prototype=ja.prototype,new Z)}}(),ka=0;B=function(ba){function da(ja){var Z=ba.call(this)||this;ja=(0,C.assign)({},ja);Z.hints_=[0,0];Z.animations_=[];Z.projection_=(0,a.createProjection)(ja.projection,"EPSG:3857");Z.viewportSize_=[100,100];Z.targetCenter_=null;Z.cancelAnchor_=void 0;ja.center&&(ja.center=(0,a.fromUserCoordinate)(ja.center,Z.projection_));ja.extent&&(ja.extent=(0,a.fromUserExtent)(ja.extent,Z.projection_));Z.applyOptions_(ja);
return Z}U(da,ba);da.prototype.applyOptions_=function(ja){var Z=F(ja);this.maxResolution_=Z.maxResolution;this.minResolution_=Z.minResolution;this.zoomFactor_=Z.zoomFactor;this.resolutions_=ja.resolutions;this.padding=ja.padding;this.minZoom_=Z.minZoom;var Q=n(ja);Z=Z.constraint;var r=O(ja);this.constraints_={center:Q,resolution:Z,rotation:r};this.setRotation(void 0!==ja.rotation?ja.rotation:0);this.setCenterInternal(void 0!==ja.center?ja.center:null);void 0!==ja.resolution?this.setResolution(ja.resolution):
void 0!==ja.zoom&&this.setZoom(ja.zoom);this.setProperties({});this.options_=ja};da.prototype.getUpdatedOptions_=function(ja){var Z=(0,C.assign)({},this.options_);void 0!==Z.resolution?Z.resolution=this.getResolution():Z.zoom=this.getZoom();Z.center=this.getCenterInternal();Z.rotation=this.getRotation();return(0,C.assign)({},Z,ja)};da.prototype.animate=function(ja){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var Z=Array(arguments.length),Q=0;Q<Z.length;++Q){var r=arguments[Q];
r.center&&(r=(0,C.assign)({},r),r.center=(0,a.fromUserCoordinate)(r.center,this.getProjection()));r.anchor&&(r=(0,C.assign)({},r),r.anchor=(0,a.fromUserCoordinate)(r.anchor,this.getProjection()));Z[Q]=r}this.animateInternal.apply(this,Z)};da.prototype.animateInternal=function(ja){var Z=arguments.length;if(1<Z&&"function"===typeof arguments[Z-1]){var Q=arguments[Z-1];--Z}if(this.isDef()){for(var r=Date.now(),N=this.targetCenter_.slice(),ea=this.targetResolution_,aa=this.targetRotation_,va=[],ta=0;ta<
Z;++ta){var Da=arguments[ta],$a={start:r,complete:!1,anchor:Da.anchor,duration:void 0!==Da.duration?Da.duration:1E3,easing:Da.easing||z.inAndOut,callback:Q};Da.center&&($a.sourceCenter=N,$a.targetCenter=Da.center.slice(),N=$a.targetCenter);void 0!==Da.zoom?($a.sourceResolution=ea,$a.targetResolution=this.getResolutionForZoom(Da.zoom),ea=$a.targetResolution):Da.resolution&&($a.sourceResolution=ea,$a.targetResolution=Da.resolution,ea=$a.targetResolution);void 0!==Da.rotation&&($a.sourceRotation=aa,
Da=(0,P.modulo)(Da.rotation-aa+Math.PI,2*Math.PI)-Math.PI,$a.targetRotation=aa+Da,aa=$a.targetRotation);x($a)?$a.complete=!0:r+=$a.duration;va.push($a)}this.animations_.push(va);this.setHint(h["default"].ANIMATING,1);this.updateAnimations_()}else Z=arguments[Z-1],Z.center&&this.setCenterInternal(Z.center),void 0!==Z.zoom&&this.setZoom(Z.zoom),void 0!==Z.rotation&&this.setRotation(Z.rotation),Q&&m(Q,!0)};da.prototype.getAnimating=function(){return 0<this.hints_[h["default"].ANIMATING]};da.prototype.getInteracting=
function(){return 0<this.hints_[h["default"].INTERACTING]};da.prototype.cancelAnimations=function(){this.setHint(h["default"].ANIMATING,-this.hints_[h["default"].ANIMATING]);for(var ja,Z=0,Q=this.animations_.length;Z<Q;++Z){var r=this.animations_[Z];r[0].callback&&m(r[0].callback,!1);if(!ja)for(var N=0,ea=r.length;N<ea;++N){var aa=r[N];if(!aa.complete){ja=aa.anchor;break}}}this.animations_.length=0;this.cancelAnchor_=ja};da.prototype.updateAnimations_=function(){void 0!==this.updateAnimationKey_&&
(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0);if(this.getAnimating()){for(var ja=Date.now(),Z=!1,Q=this.animations_.length-1;0<=Q;--Q){for(var r=this.animations_[Q],N=!0,ea=0,aa=r.length;ea<aa;++ea){var va=r[ea];if(!va.complete){Z=ja-va.start;Z=0<va.duration?Z/va.duration:1;1<=Z?(va.complete=!0,Z=1):N=!1;Z=va.easing(Z);if(va.sourceCenter){var ta=va.sourceCenter[0],Da=va.sourceCenter[1];this.targetCenter_=[ta+Z*(va.targetCenter[0]-ta),Da+Z*(va.targetCenter[1]-Da)]}va.sourceResolution&&
va.targetResolution&&(ta=1===Z?va.targetResolution:va.sourceResolution+Z*(va.targetResolution-va.sourceResolution),va.anchor&&(Da=this.getViewportSize_(this.getRotation()),Da=this.constraints_.resolution(ta,0,Da,!0),this.targetCenter_=this.calculateCenterZoom(Da,va.anchor)),this.targetResolution_=ta,this.applyTargetState_(!0));void 0!==va.sourceRotation&&void 0!==va.targetRotation&&(Z=1===Z?(0,P.modulo)(va.targetRotation+Math.PI,2*Math.PI)-Math.PI:va.sourceRotation+Z*(va.targetRotation-va.sourceRotation),
va.anchor&&(ta=this.constraints_.rotation(Z,!0),this.targetCenter_=this.calculateCenterRotate(ta,va.anchor)),this.targetRotation_=Z);this.applyTargetState_(!0);Z=!0;if(!va.complete)break}}N&&(this.animations_[Q]=null,this.setHint(h["default"].ANIMATING,-1),(r=r[0].callback)&&m(r,!0))}this.animations_=this.animations_.filter(Boolean);Z&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}};da.prototype.calculateCenterRotate=function(ja,
Z){var Q=this.getCenterInternal();if(void 0!==Q){var r=[Q[0]-Z[0],Q[1]-Z[1]];(0,p.rotate)(r,ja-this.getRotation());(0,p.add)(r,Z)}return r};da.prototype.calculateCenterZoom=function(ja,Z){var Q,r=this.getCenterInternal(),N=this.getResolution();void 0!==r&&void 0!==N&&(Q=[Z[0]-ja*(Z[0]-r[0])/N,Z[1]-ja*(Z[1]-r[1])/N]);return Q};da.prototype.getViewportSize_=function(ja){var Z=this.viewportSize_;if(ja){var Q=Z[0];Z=Z[1];return[Math.abs(Q*Math.cos(ja))+Math.abs(Z*Math.sin(ja)),Math.abs(Q*Math.sin(ja))+
Math.abs(Z*Math.cos(ja))]}return Z};da.prototype.setViewportSize=function(ja){this.viewportSize_=Array.isArray(ja)?ja.slice():[100,100];this.getAnimating()||this.resolveConstraints(0)};da.prototype.getCenter=function(){var ja=this.getCenterInternal();return ja?(0,a.toUserCoordinate)(ja,this.getProjection()):ja};da.prototype.getCenterInternal=function(){return this.get(c["default"].CENTER)};da.prototype.getConstraints=function(){return this.constraints_};da.prototype.getConstrainResolution=function(){return this.options_.constrainResolution};
da.prototype.getHints=function(ja){return void 0!==ja?(ja[0]=this.hints_[0],ja[1]=this.hints_[1],ja):this.hints_.slice()};da.prototype.calculateExtent=function(ja){ja=this.calculateExtentInternal(ja);return(0,a.toUserExtent)(ja,this.getProjection())};da.prototype.calculateExtentInternal=function(ja){ja=ja||this.getViewportSize_();var Z=this.getCenterInternal();(0,A.assert)(Z,1);var Q=this.getResolution();(0,A.assert)(void 0!==Q,2);var r=this.getRotation();(0,A.assert)(void 0!==r,3);return(0,J.getForViewAndSize)(Z,
Q,r,ja)};da.prototype.getMaxResolution=function(){return this.maxResolution_};da.prototype.getMinResolution=function(){return this.minResolution_};da.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)};da.prototype.setMaxZoom=function(ja){this.applyOptions_(this.getUpdatedOptions_({maxZoom:ja}))};da.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)};da.prototype.setMinZoom=function(ja){this.applyOptions_(this.getUpdatedOptions_({minZoom:ja}))};
da.prototype.setConstrainResolution=function(ja){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:ja}))};da.prototype.getProjection=function(){return this.projection_};da.prototype.getResolution=function(){return this.get(c["default"].RESOLUTION)};da.prototype.getResolutions=function(){return this.resolutions_};da.prototype.getResolutionForExtent=function(ja,Z){return this.getResolutionForExtentInternal((0,a.fromUserExtent)(ja,this.getProjection()),Z)};da.prototype.getResolutionForExtentInternal=
function(ja,Z){var Q=Z||this.getViewportSize_();Z=(0,J.getWidth)(ja)/Q[0];ja=(0,J.getHeight)(ja)/Q[1];return Math.max(Z,ja)};da.prototype.getResolutionForValueFunction=function(ja){var Z=ja||2,Q=this.getConstrainedResolution(this.maxResolution_),r=Math.log(Q/this.minResolution_)/Math.log(Z);return function(N){return Q/Math.pow(Z,N*r)}};da.prototype.getRotation=function(){return this.get(c["default"].ROTATION)};da.prototype.getValueForResolutionFunction=function(ja){var Z=Math.log(ja||2),Q=this.getConstrainedResolution(this.maxResolution_),
r=Math.log(Q/this.minResolution_)/Z;return function(N){return Math.log(Q/N)/Z/r}};da.prototype.getViewportSizeMinusPadding_=function(ja){ja=this.getViewportSize_(ja);var Z=this.padding;Z&&(ja=[ja[0]-Z[1]-Z[3],ja[1]-Z[0]-Z[2]]);return ja};da.prototype.getState=function(){var ja=this.getProjection(),Z=this.getResolution(),Q=this.getRotation(),r=this.getCenterInternal(),N=this.padding;if(N){var ea=this.getViewportSizeMinusPadding_();r=y(r,this.getViewportSize_(),[ea[0]/2+N[3],ea[1]/2+N[0]],Z,Q)}return{center:r.slice(0),
projection:void 0!==ja?ja:null,resolution:Z,rotation:Q,zoom:this.getZoom()}};da.prototype.getZoom=function(){var ja,Z=this.getResolution();void 0!==Z&&(ja=this.getZoomForResolution(Z));return ja};da.prototype.getZoomForResolution=function(ja){var Z=this.minZoom_||0,Q;if(this.resolutions_){Z=Q=(0,K.linearFindNearest)(this.resolutions_,ja,1);var r=this.resolutions_[Q];Q=Q==this.resolutions_.length-1?2:r/this.resolutions_[Q+1]}else r=this.maxResolution_,Q=this.zoomFactor_;return Z+Math.log(r/ja)/Math.log(Q)};
da.prototype.getResolutionForZoom=function(ja){if(this.resolutions_){if(1>=this.resolutions_.length)return 0;var Z=(0,P.clamp)(Math.floor(ja),0,this.resolutions_.length-2);return this.resolutions_[Z]/Math.pow(this.resolutions_[Z]/this.resolutions_[Z+1],(0,P.clamp)(ja-Z,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,ja-this.minZoom_)};da.prototype.fit=function(ja,Z){(0,A.assert)(Array.isArray(ja)||"function"===typeof ja.getSimplifiedGeometry,24);if(Array.isArray(ja)){(0,A.assert)(!(0,J.isEmpty)(ja),
25);var Q=(0,a.fromUserExtent)(ja,this.getProjection());ja=(0,R.fromExtent)(Q)}else ja.getType()===q["default"].CIRCLE?(Q=(0,a.fromUserExtent)(ja.getExtent(),this.getProjection()),ja=(0,R.fromExtent)(Q),ja.rotate(this.getRotation(),(0,J.getCenter)(Q))):ja=(Q=(0,a.getUserProjection)())?ja.clone().transform(Q,this.getProjection()):ja;this.fitInternal(ja,Z)};da.prototype.fitInternal=function(ja,Z){Z=Z||{};var Q=Z.size;Q||(Q=this.getViewportSizeMinusPadding_());var r=void 0!==Z.padding?Z.padding:[0,0,
0,0],N=void 0!==Z.nearest?Z.nearest:!1;var ea=void 0!==Z.minResolution?Z.minResolution:void 0!==Z.maxZoom?this.getResolutionForZoom(Z.maxZoom):0;var aa=ja.getFlatCoordinates(),va=this.getRotation(),ta=Math.cos(-va);va=Math.sin(-va);var Da=Infinity,$a=Infinity,kb=-Infinity,sa=-Infinity;ja=ja.getStride();for(var Ta=0,Wa=aa.length;Ta<Wa;Ta+=ja){var Ea=aa[Ta]*ta-aa[Ta+1]*va,ua=aa[Ta]*va+aa[Ta+1]*ta;Da=Math.min(Da,Ea);$a=Math.min($a,ua);kb=Math.max(kb,Ea);sa=Math.max(sa,ua)}Q=this.getResolutionForExtentInternal([Da,
$a,kb,sa],[Q[0]-r[1]-r[3],Q[1]-r[0]-r[2]]);Q=isNaN(Q)?ea:Math.max(Q,ea);Q=this.getConstrainedResolution(Q,N?0:1);va=-va;N=(Da+kb)/2+(r[1]-r[3])/2*Q;r=($a+sa)/2+(r[0]-r[2])/2*Q;ta=this.getConstrainedCenter([N*ta-r*va,r*ta+N*va],Q);r=Z.callback?Z.callback:f.VOID;void 0!==Z.duration?this.animateInternal({resolution:Q,center:ta,duration:Z.duration,easing:Z.easing},r):(this.targetResolution_=Q,this.targetCenter_=ta,this.applyTargetState_(!1,!0),m(r,!0))};da.prototype.centerOn=function(ja,Z,Q){this.centerOnInternal((0,
a.fromUserCoordinate)(ja,this.getProjection()),Z,Q)};da.prototype.centerOnInternal=function(ja,Z,Q){this.setCenterInternal(y(ja,Z,Q,this.getResolution(),this.getRotation()))};da.prototype.calculateCenterShift=function(ja,Z,Q,r){var N=this.padding;if(N&&ja){var ea=this.getViewportSizeMinusPadding_(-Q);Z=y(ja,r,[ea[0]/2+N[3],ea[1]/2+N[0]],Z,Q);ea=[ja[0]-Z[0],ja[1]-Z[1]]}return ea};da.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()};da.prototype.adjustCenter=
function(ja){var Z=(0,a.toUserCoordinate)(this.targetCenter_,this.getProjection());this.setCenter([Z[0]+ja[0],Z[1]+ja[1]])};da.prototype.adjustCenterInternal=function(ja){var Z=this.targetCenter_;this.setCenterInternal([Z[0]+ja[0],Z[1]+ja[1]])};da.prototype.adjustResolution=function(ja,Z){Z=Z&&(0,a.fromUserCoordinate)(Z,this.getProjection());this.adjustResolutionInternal(ja,Z)};da.prototype.adjustResolutionInternal=function(ja,Z){var Q=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation());
Q=this.constraints_.resolution(this.targetResolution_*ja,0,r,Q);Z&&(this.targetCenter_=this.calculateCenterZoom(Q,Z));this.targetResolution_*=ja;this.applyTargetState_()};da.prototype.adjustZoom=function(ja,Z){this.adjustResolution(Math.pow(this.zoomFactor_,-ja),Z)};da.prototype.adjustRotation=function(ja,Z){Z&&(Z=(0,a.fromUserCoordinate)(Z,this.getProjection()));this.adjustRotationInternal(ja,Z)};da.prototype.adjustRotationInternal=function(ja,Z){var Q=this.getAnimating()||this.getInteracting();
Q=this.constraints_.rotation(this.targetRotation_+ja,Q);Z&&(this.targetCenter_=this.calculateCenterRotate(Q,Z));this.targetRotation_+=ja;this.applyTargetState_()};da.prototype.setCenter=function(ja){this.setCenterInternal((0,a.fromUserCoordinate)(ja,this.getProjection()))};da.prototype.setCenterInternal=function(ja){this.targetCenter_=ja;this.applyTargetState_()};da.prototype.setHint=function(ja,Z){this.hints_[ja]+=Z;this.changed();return this.hints_[ja]};da.prototype.setResolution=function(ja){this.targetResolution_=
ja;this.applyTargetState_()};da.prototype.setRotation=function(ja){this.targetRotation_=ja;this.applyTargetState_()};da.prototype.setZoom=function(ja){this.setResolution(this.getResolutionForZoom(ja))};da.prototype.applyTargetState_=function(ja,Z){var Q=this.getAnimating()||this.getInteracting()||Z;Z=this.constraints_.rotation(this.targetRotation_,Q);var r=this.getViewportSize_(Z),N=this.constraints_.resolution(this.targetResolution_,0,r,Q);Q=this.constraints_.center(this.targetCenter_,N,r,Q,this.calculateCenterShift(this.targetCenter_,
N,Z,r));this.get(c["default"].ROTATION)!==Z&&this.set(c["default"].ROTATION,Z);this.get(c["default"].RESOLUTION)!==N&&this.set(c["default"].RESOLUTION,N);this.get(c["default"].CENTER)&&(0,p.equals)(this.get(c["default"].CENTER),Q)||this.set(c["default"].CENTER,Q);this.getAnimating()&&!ja&&this.cancelAnimations();this.cancelAnchor_=void 0};da.prototype.resolveConstraints=function(ja,Z,Q){ja=void 0!==ja?ja:200;var r=Z||0;Z=this.constraints_.rotation(this.targetRotation_);var N=this.getViewportSize_(Z);
r=this.constraints_.resolution(this.targetResolution_,r,N);N=this.constraints_.center(this.targetCenter_,r,N,!1,this.calculateCenterShift(this.targetCenter_,r,Z,N));0!==ja||this.cancelAnchor_?(Q=Q||(0===ja?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,this.getResolution()===r&&this.getRotation()===Z&&this.getCenterInternal()&&(0,p.equals)(this.getCenterInternal(),N)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:Z,center:N,resolution:r,duration:ja,easing:z.easeOut,
anchor:Q}))):(this.targetResolution_=r,this.targetRotation_=Z,this.targetCenter_=N,this.applyTargetState_())};da.prototype.beginInteraction=function(){this.resolveConstraints(0);this.setHint(h["default"].INTERACTING,1)};da.prototype.endInteraction=function(ja,Z,Q){Q=Q&&(0,a.fromUserCoordinate)(Q,this.getProjection());this.endInteractionInternal(ja,Z,Q)};da.prototype.endInteractionInternal=function(ja,Z,Q){this.setHint(h["default"].INTERACTING,-1);this.resolveConstraints(ja,Z,Q)};da.prototype.getConstrainedCenter=
function(ja,Z){var Q=this.getViewportSize_(this.getRotation());return this.constraints_.center(ja,Z||this.getResolution(),Q)};da.prototype.getConstrainedZoom=function(ja,Z){ja=this.getResolutionForZoom(ja);return this.getZoomForResolution(this.getConstrainedResolution(ja,Z))};da.prototype.getConstrainedResolution=function(ja,Z){Z=Z||0;var Q=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(ja,Z,Q)};return da}(Ha["default"]);E["default"]=B};
shadow$provide[158]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.buffer=function(g,m,n){void 0===n&&(n=[0,0]);n[0]=g[0]+2*m;n[1]=g[1]+2*m;return n};E.hasArea=function(g){return 0<g[0]&&0<g[1]};E.scale=function(g,m,n){void 0===n&&(n=[0,0]);n[0]=g[0]*m+.5|0;n[1]=g[1]*m+.5|0;return n};E.toSize=function(g,m){if(Array.isArray(g))return g;void 0===m?m=[g,g]:(m[0]=g,m[1]=g);return m}};
shadow$provide[159]=function(Ha,B,rb,E){function g(r){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(N){return typeof N}:function(N){return N&&"function"===typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N};return g(r)}function m(r){return r&&r.__esModule?r:{"default":r}}function n(){if("function"!==typeof WeakMap)return null;var r=new WeakMap;n=function(){return r};return r}function F(r){if(r&&r.__esModule)return r;if(null===r||"object"!==g(r)&&
"function"!==typeof r)return{"default":r};var N=n();if(N&&N.has(r))return N.get(r);var ea={},aa=Object.defineProperty&&Object.getOwnPropertyDescriptor,va;for(va in r)if(Object.prototype.hasOwnProperty.call(r,va)){var ta=aa?Object.getOwnPropertyDescriptor(r,va):null;ta&&(ta.get||ta.set)?Object.defineProperty(ea,va,ta):ea[va]=r[va]}ea["default"]=r;N&&N.set(r,ea);return ea}function O(r){var N=null;void 0!==r.keyboardEventTarget&&(N="string"===typeof r.keyboardEventTarget?document.getElementById(r.keyboardEventTarget):
r.keyboardEventTarget);var ea={},aa=r.layers&&"function"===typeof r.layers.getLayers?r.layers:new h["default"]({layers:r.layers});ea[A["default"].LAYERGROUP]=aa;ea[A["default"].TARGET]=r.target;ea[A["default"].VIEW]=void 0!==r.view?r.view:new G["default"];if(void 0!==r.controls)if(Array.isArray(r.controls))var va=new y["default"](r.controls.slice());else(0,U.assert)("function"===typeof r.controls.getArray,47),va=r.controls;if(void 0!==r.interactions)if(Array.isArray(r.interactions))var ta=new y["default"](r.interactions.slice());
else(0,U.assert)("function"===typeof r.interactions.getArray,48),ta=r.interactions;void 0!==r.overlays?Array.isArray(r.overlays)?r=new y["default"](r.overlays.slice()):((0,U.assert)("function"===typeof r.overlays.getArray,49),r=r.overlays):r=new y["default"];return{controls:va,interactions:ta,keyboardEventTarget:N,overlays:r,values:ea}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var x=F(B(95)),y=m(B(111)),q=m(B(110)),l=m(B(92)),h=m(B(112)),c=m(B(114)),e=m(B(117)),a=m(B(115)),
f=m(B(113)),p=m(B(118)),A=m(B(119)),C=m(B(89)),D=m(B(116)),P=m(B(98)),L=F(B(122)),G=m(B(157)),z=m(B(125)),J=B(106),K=B(77),R=B(81),U=B(80),ka=B(84),ba=B(134),da=B(158),ja=B(93),Z=B(107),Q=function(){var r=function(N,ea){r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(aa,va){aa.__proto__=va}||function(aa,va){for(var ta in va)Object.prototype.hasOwnProperty.call(va,ta)&&(aa[ta]=va[ta])};return r(N,ea)};return function(N,ea){function aa(){this.constructor=N}r(N,ea);N.prototype=null===
ea?Object.create(ea):(aa.prototype=ea.prototype,new aa)}}();Ha=function(r){function N(ea){var aa=r.call(this)||this,va=O(ea);aa.boundHandleBrowserEvent_=aa.handleBrowserEvent.bind(aa);aa.maxTilesLoading_=void 0!==ea.maxTilesLoading?ea.maxTilesLoading:16;aa.pixelRatio_=void 0!==ea.pixelRatio?ea.pixelRatio:J.DEVICE_PIXEL_RATIO;aa.animationDelay_=function(){this.animationDelayKey_=void 0;this.renderFrame_(Date.now())}.bind(aa);aa.coordinateToPixelTransform_=(0,R.create)();aa.pixelToCoordinateTransform_=
(0,R.create)();aa.frameIndex_=0;aa.frameState_=null;aa.previousExtent_=null;aa.viewPropertyListenerKey_=null;aa.viewChangeListenerKey_=null;aa.layerGroupPropertyListenerKeys_=null;aa.viewport_=document.createElement("div");aa.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":"");aa.viewport_.style.position="relative";aa.viewport_.style.overflow="hidden";aa.viewport_.style.width="100%";aa.viewport_.style.height="100%";aa.overlayContainer_=document.createElement("div");aa.overlayContainer_.style.position=
"absolute";aa.overlayContainer_.style.zIndex="0";aa.overlayContainer_.style.width="100%";aa.overlayContainer_.style.height="100%";aa.overlayContainer_.style.pointerEvents="none";aa.overlayContainer_.className="ol-overlaycontainer";aa.viewport_.appendChild(aa.overlayContainer_);aa.overlayContainerStopEvent_=document.createElement("div");aa.overlayContainerStopEvent_.style.position="absolute";aa.overlayContainerStopEvent_.style.zIndex="0";aa.overlayContainerStopEvent_.style.width="100%";aa.overlayContainerStopEvent_.style.height=
"100%";aa.overlayContainerStopEvent_.style.pointerEvents="none";aa.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";aa.viewport_.appendChild(aa.overlayContainerStopEvent_);aa.mapBrowserEventHandler_=null;aa.moveTolerance_=ea.moveTolerance;aa.keyboardEventTarget_=va.keyboardEventTarget;aa.keyHandlerKeys_=null;aa.controls=va.controls||new y["default"];aa.interactions=va.interactions||new y["default"];aa.overlays_=va.overlays;aa.overlayIdIndex_={};aa.renderer_=null;aa.postRenderFunctions_=
[];aa.tileQueue_=new L["default"](aa.getTilePriority.bind(aa),aa.handleTileChange_.bind(aa));aa.addEventListener((0,x.getChangeEventType)(A["default"].LAYERGROUP),aa.handleLayerGroupChanged_);aa.addEventListener((0,x.getChangeEventType)(A["default"].VIEW),aa.handleViewChanged_);aa.addEventListener((0,x.getChangeEventType)(A["default"].SIZE),aa.handleSizeChanged_);aa.addEventListener((0,x.getChangeEventType)(A["default"].TARGET),aa.handleTargetChanged_);aa.setProperties(va.values);aa.controls.forEach(function(ta){ta.setMap(this)}.bind(aa));
aa.controls.addEventListener(q["default"].ADD,function(ta){ta.element.setMap(this)}.bind(aa));aa.controls.addEventListener(q["default"].REMOVE,function(ta){ta.element.setMap(null)}.bind(aa));aa.interactions.forEach(function(ta){ta.setMap(this)}.bind(aa));aa.interactions.addEventListener(q["default"].ADD,function(ta){ta.element.setMap(this)}.bind(aa));aa.interactions.addEventListener(q["default"].REMOVE,function(ta){ta.element.setMap(null)}.bind(aa));aa.overlays_.forEach(aa.addOverlayInternal_.bind(aa));
aa.overlays_.addEventListener(q["default"].ADD,function(ta){this.addOverlayInternal_(ta.element)}.bind(aa));aa.overlays_.addEventListener(q["default"].REMOVE,function(ta){var Da=ta.element.getId();void 0!==Da&&delete this.overlayIdIndex_[Da.toString()];ta.element.setMap(null)}.bind(aa));return aa}Q(N,r);N.prototype.createRenderer=function(){throw Error("Use a map type that has a createRenderer method");};N.prototype.addControl=function(ea){this.getControls().push(ea)};N.prototype.addInteraction=function(ea){this.getInteractions().push(ea)};
N.prototype.addLayer=function(ea){this.getLayerGroup().getLayers().push(ea)};N.prototype.addOverlay=function(ea){this.getOverlays().push(ea)};N.prototype.addOverlayInternal_=function(ea){var aa=ea.getId();void 0!==aa&&(this.overlayIdIndex_[aa.toString()]=ea);ea.setMap(this)};N.prototype.disposeInternal=function(){this.setTarget(null);r.prototype.disposeInternal.call(this)};N.prototype.forEachFeatureAtPixel=function(ea,aa,va){if(this.frameState_)return ea=this.getCoordinateFromPixelInternal(ea),va=
void 0!==va?va:{},this.renderer_.forEachFeatureAtCoordinate(ea,this.frameState_,void 0!==va.hitTolerance?va.hitTolerance:0,!1!==va.checkWrapped,aa,null,void 0!==va.layerFilter?va.layerFilter:K.TRUE,null)};N.prototype.getFeaturesAtPixel=function(ea,aa){var va=[];this.forEachFeatureAtPixel(ea,function(ta){va.push(ta)},aa);return va};N.prototype.forEachLayerAtPixel=function(ea,aa,va){if(this.frameState_)return va=va||{},this.renderer_.forEachLayerAtPixel(ea,this.frameState_,void 0!==va.hitTolerance?
va.hitTolerance:0,aa,va.layerFilter||K.TRUE)};N.prototype.hasFeatureAtPixel=function(ea,aa){if(!this.frameState_)return!1;ea=this.getCoordinateFromPixelInternal(ea);aa=void 0!==aa?aa:{};return this.renderer_.hasFeatureAtCoordinate(ea,this.frameState_,void 0!==aa.hitTolerance?aa.hitTolerance:0,!1!==aa.checkWrapped,void 0!==aa.layerFilter?aa.layerFilter:K.TRUE,null)};N.prototype.getEventCoordinate=function(ea){return this.getCoordinateFromPixel(this.getEventPixel(ea))};N.prototype.getEventCoordinateInternal=
function(ea){return this.getCoordinateFromPixelInternal(this.getEventPixel(ea))};N.prototype.getEventPixel=function(ea){var aa=this.viewport_.getBoundingClientRect();ea="changedTouches"in ea?ea.changedTouches[0]:ea;return[ea.clientX-aa.left,ea.clientY-aa.top]};N.prototype.getTarget=function(){return this.get(A["default"].TARGET)};N.prototype.getTargetElement=function(){var ea=this.getTarget();return void 0!==ea?"string"===typeof ea?document.getElementById(ea):ea:null};N.prototype.getCoordinateFromPixel=
function(ea){return(0,ba.toUserCoordinate)(this.getCoordinateFromPixelInternal(ea),this.getView().getProjection())};N.prototype.getCoordinateFromPixelInternal=function(ea){var aa=this.frameState_;return aa?(0,R.apply)(aa.pixelToCoordinateTransform,ea.slice()):null};N.prototype.getControls=function(){return this.controls};N.prototype.getOverlays=function(){return this.overlays_};N.prototype.getOverlayById=function(ea){ea=this.overlayIdIndex_[ea.toString()];return void 0!==ea?ea:null};N.prototype.getInteractions=
function(){return this.interactions};N.prototype.getLayerGroup=function(){return this.get(A["default"].LAYERGROUP)};N.prototype.getLayers=function(){return this.getLayerGroup().getLayers()};N.prototype.getLoading=function(){for(var ea=this.getLayerGroup().getLayerStatesArray(),aa=0,va=ea.length;aa<va;++aa){var ta=ea[aa].layer.getSource();if(ta&&ta.loading)return!0}return!1};N.prototype.getPixelFromCoordinate=function(ea){ea=(0,ba.fromUserCoordinate)(ea,this.getView().getProjection());return this.getPixelFromCoordinateInternal(ea)};
N.prototype.getPixelFromCoordinateInternal=function(ea){var aa=this.frameState_;return aa?(0,R.apply)(aa.coordinateToPixelTransform,ea.slice(0,2)):null};N.prototype.getRenderer=function(){return this.renderer_};N.prototype.getSize=function(){return this.get(A["default"].SIZE)};N.prototype.getView=function(){return this.get(A["default"].VIEW)};N.prototype.getViewport=function(){return this.viewport_};N.prototype.getOverlayContainer=function(){return this.overlayContainer_};N.prototype.getOverlayContainerStopEvent=
function(){return this.overlayContainerStopEvent_};N.prototype.getOwnerDocument=function(){return this.getTargetElement()?this.getTargetElement().ownerDocument:document};N.prototype.getTilePriority=function(ea,aa,va,ta){return(0,L.getTilePriority)(this.frameState_,ea,aa,va,ta)};N.prototype.handleBrowserEvent=function(ea,aa){ea=new c["default"](aa||ea.type,this,ea);this.handleMapBrowserEvent(ea)};N.prototype.handleMapBrowserEvent=function(ea){if(this.frameState_){var aa=ea.originalEvent,va=aa.type;
if(va===D["default"].POINTERDOWN||va===l["default"].WHEEL||va===l["default"].KEYDOWN){va=this.getOwnerDocument();var ta=this.viewport_.getRootNode?this.viewport_.getRootNode():va;aa="host"in ta?ta.elementFromPoint(aa.clientX,aa.clientY):aa.target;if(this.overlayContainerStopEvent_.contains(aa)||!(ta===va?va.documentElement:ta).contains(aa))return}ea.frameState=this.frameState_;if(!1!==this.dispatchEvent(ea))for(aa=this.getInteractions().getArray().slice(),va=aa.length-1;0<=va&&(ta=aa[va],ta.getMap()!==
this||!ta.getActive()||!this.getTargetElement()||ta.handleEvent(ea)&&!ea.propagationStopped);va--);}};N.prototype.handlePostRender=function(){var ea=this.frameState_,aa=this.tileQueue_;if(!aa.isEmpty()){var va=this.maxTilesLoading_,ta=va;if(ea){var Da=ea.viewHints;if(Da[z["default"].ANIMATING]||Da[z["default"].INTERACTING])va=(ta=!J.IMAGE_DECODE&&8<Date.now()-ea.time)?0:8,ta=ta?0:2}aa.getTilesLoading()<va&&(aa.reprioritize(),aa.loadMoreTiles(va,ta))}!ea||!this.hasListener(P["default"].RENDERCOMPLETE)||
ea.animate||this.tileQueue_.getTilesLoading()||this.getLoading()||this.renderer_.dispatchRenderEvent(P["default"].RENDERCOMPLETE,ea);aa=this.postRenderFunctions_;va=0;for(ta=aa.length;va<ta;++va)aa[va](this,ea);aa.length=0};N.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0);this.render()};N.prototype.handleTargetChanged_=function(){var ea;this.getTarget()&&(ea=this.getTargetElement());if(this.mapBrowserEventHandler_){for(var aa=
0,va=this.keyHandlerKeys_.length;aa<va;++aa)(0,ja.unlistenByKey)(this.keyHandlerKeys_[aa]);this.keyHandlerKeys_=null;this.viewport_.removeEventListener(l["default"].CONTEXTMENU,this.boundHandleBrowserEvent_);this.viewport_.removeEventListener(l["default"].WHEEL,this.boundHandleBrowserEvent_);void 0!==this.handleResize_&&(removeEventListener(l["default"].RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.mapBrowserEventHandler_.dispose();this.mapBrowserEventHandler_=null;(0,Z.removeNode)(this.viewport_)}if(ea){ea.appendChild(this.viewport_);
this.renderer_||(this.renderer_=this.createRenderer());this.mapBrowserEventHandler_=new e["default"](this,this.moveTolerance_);for(var ta in a["default"])this.mapBrowserEventHandler_.addEventListener(a["default"][ta],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(l["default"].CONTEXTMENU,this.boundHandleBrowserEvent_,!1);this.viewport_.addEventListener(l["default"].WHEEL,this.boundHandleBrowserEvent_,J.PASSIVE_EVENT_LISTENERS?{passive:!1}:!1);ea=this.keyboardEventTarget_?this.keyboardEventTarget_:
ea;this.keyHandlerKeys_=[(0,ja.listen)(ea,l["default"].KEYDOWN,this.handleBrowserEvent,this),(0,ja.listen)(ea,l["default"].KEYPRESS,this.handleBrowserEvent,this)];this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(l["default"].RESIZE,this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&
(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()};N.prototype.handleTileChange_=function(){this.render()};N.prototype.handleViewPropertyChanged_=function(){this.render()};N.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&((0,ja.unlistenByKey)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null);this.viewChangeListenerKey_&&((0,ja.unlistenByKey)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var ea=
this.getView();ea&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=(0,ja.listen)(ea,C["default"].PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,ja.listen)(ea,l["default"].CHANGE,this.handleViewPropertyChanged_,this),ea.resolveConstraints(0));this.render()};N.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(ja.unlistenByKey),this.layerGroupPropertyListenerKeys_=null);var ea=
this.getLayerGroup();ea&&(this.layerGroupPropertyListenerKeys_=[(0,ja.listen)(ea,C["default"].PROPERTYCHANGE,this.render,this),(0,ja.listen)(ea,l["default"].CHANGE,this.render,this)]);this.render()};N.prototype.isRendered=function(){return!!this.frameState_};N.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_);this.animationDelay_()};N.prototype.redrawText=function(){for(var ea=this.getLayerGroup().getLayerStatesArray(),aa=0,va=ea.length;aa<va;++aa){var ta=
ea[aa].layer;ta.hasRenderer()&&ta.getRenderer().handleFontsChanged()}};N.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))};N.prototype.removeControl=function(ea){return this.getControls().remove(ea)};N.prototype.removeInteraction=function(ea){return this.getInteractions().remove(ea)};N.prototype.removeLayer=function(ea){return this.getLayerGroup().getLayers().remove(ea)};N.prototype.removeOverlay=function(ea){return this.getOverlays().remove(ea)};
N.prototype.renderFrame_=function(ea){var aa=this,va=this.getSize(),ta=this.getView(),Da=this.frameState_,$a=null;void 0!==va&&(0,da.hasArea)(va)&&ta&&ta.isDef()&&($a=ta.getHints(this.frameState_?this.frameState_.viewHints:void 0),ta=ta.getState(),$a={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:(0,ka.getForViewAndSize)(ta.center,ta.resolution,ta.rotation,va),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),
pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:va,tileQueue:this.tileQueue_,time:ea,usedTiles:{},viewState:ta,viewHints:$a,wantedTiles:{}});this.frameState_=$a;this.renderer_.renderFrame($a);$a&&($a.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,$a.postRenderFunctions),!Da||this.previousExtent_&&((0,ka.isEmpty)(this.previousExtent_)||(0,ka.equals)($a.extent,this.previousExtent_))||(this.dispatchEvent(new f["default"](p["default"].MOVESTART,
this,Da)),this.previousExtent_=(0,ka.createOrUpdateEmpty)(this.previousExtent_)),!this.previousExtent_||$a.viewHints[z["default"].ANIMATING]||$a.viewHints[z["default"].INTERACTING]||(0,ka.equals)($a.extent,this.previousExtent_)||(this.dispatchEvent(new f["default"](p["default"].MOVEEND,this,$a)),(0,ka.clone)($a.extent,this.previousExtent_)));this.dispatchEvent(new f["default"](p["default"].POSTRENDER,this,$a));this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){aa.postRenderTimeoutHandle_=
void 0;aa.handlePostRender()},0))};N.prototype.setLayerGroup=function(ea){this.set(A["default"].LAYERGROUP,ea)};N.prototype.setSize=function(ea){this.set(A["default"].SIZE,ea)};N.prototype.setTarget=function(ea){this.set(A["default"].TARGET,ea)};N.prototype.setView=function(ea){this.set(A["default"].VIEW,ea)};N.prototype.updateSize=function(){var ea=this.getTargetElement();if(ea){var aa=getComputedStyle(ea);this.setSize([ea.offsetWidth-parseFloat(aa.borderLeftWidth)-parseFloat(aa.paddingLeft)-parseFloat(aa.paddingRight)-
parseFloat(aa.borderRightWidth),ea.offsetHeight-parseFloat(aa.borderTopWidth)-parseFloat(aa.paddingTop)-parseFloat(aa.paddingBottom)-parseFloat(aa.borderBottomWidth)])}else this.setSize(void 0);this.updateViewportSize_()};N.prototype.updateViewportSize_=function(){var ea=this.getView();if(ea){var aa=void 0,va=getComputedStyle(this.viewport_);va.width&&va.height&&(aa=[parseInt(va.width,10),parseInt(va.height,10)]);ea.setViewportSize(aa)}};return N}(x["default"]);E["default"]=Ha};
shadow$provide[160]=function(Ha,B,rb,E){function g(y){return y&&y.__esModule?y:{"default":y}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=g(B(95));var m=g(B(118)),n=B(77),F=B(93),O=B(107),x=function(){var y=function(q,l){y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var e in c)Object.prototype.hasOwnProperty.call(c,e)&&(h[e]=c[e])};return y(q,l)};return function(q,l){function h(){this.constructor=q}y(q,l);q.prototype=
null===l?Object.create(l):(h.prototype=l.prototype,new h)}}();B=function(y){function q(l){var h=y.call(this)||this,c=l.element;!c||l.target||c.style.pointerEvents||(c.style.pointerEvents="auto");h.element=c?c:null;h.target_=null;h.map_=null;h.listenerKeys=[];l.render&&(h.render=l.render);l.target&&h.setTarget(l.target);return h}x(q,y);q.prototype.disposeInternal=function(){(0,O.removeNode)(this.element);y.prototype.disposeInternal.call(this)};q.prototype.getMap=function(){return this.map_};q.prototype.setMap=
function(l){this.map_&&(0,O.removeNode)(this.element);for(var h=0,c=this.listenerKeys.length;h<c;++h)(0,F.unlistenByKey)(this.listenerKeys[h]);this.listenerKeys.length=0;if(this.map_=l)(this.target_?this.target_:l.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==n.VOID&&this.listenerKeys.push((0,F.listen)(l,m["default"].POSTRENDER,this.render,this)),l.render()};q.prototype.render=function(l){};q.prototype.setTarget=function(l){this.target_="string"===typeof l?document.getElementById(l):
l};return q}(Ha["default"]);E["default"]=B};
shadow$provide[161]=function(Ha,B,rb,E){function g(q){return q&&q.__esModule?q:{"default":q}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=g(B(160));var m=g(B(92)),n=B(105),F=B(76),O=B(100),x=B(107),y=function(){var q=function(l,h){q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(c[a]=e[a])};return q(l,h)};return function(l,h){function c(){this.constructor=l}q(l,
h);l.prototype=null===h?Object.create(h):(c.prototype=h.prototype,new c)}}();B=function(q){function l(h){var c=h?h:{};h=q.call(this,{element:document.createElement("div"),render:c.render,target:c.target})||this;h.ulElement_=document.createElement("ul");h.collapsed_=void 0!==c.collapsed?c.collapsed:!0;h.userCollapsed_=h.collapsed_;h.overrideCollapsible_=void 0!==c.collapsible;h.collapsible_=void 0!==c.collapsible?c.collapsible:!0;h.collapsible_||(h.collapsed_=!1);var e=void 0!==c.className?c.className:
"ol-attribution",a=void 0!==c.tipLabel?c.tipLabel:"Attributions",f=void 0!==c.expandClassName?c.expandClassName:e+"-expand",p=void 0!==c.collapseLabel?c.collapseLabel:"",A=void 0!==c.collapseClassName?c.collapseClassName:e+"-collpase";"string"===typeof p?(h.collapseLabel_=document.createElement("span"),h.collapseLabel_.textContent=p,h.collapseLabel_.className=A):h.collapseLabel_=p;c=void 0!==c.label?c.label:"i";"string"===typeof c?(h.label_=document.createElement("span"),h.label_.textContent=c,h.label_.className=
f):h.label_=c;c=h.collapsible_&&!h.collapsed_?h.collapseLabel_:h.label_;f=document.createElement("button");f.setAttribute("type","button");f.title=a;f.appendChild(c);f.addEventListener(m["default"].CLICK,h.handleClick_.bind(h),!1);a=h.element;a.className=e+" "+n.CLASS_UNSELECTABLE+" "+n.CLASS_CONTROL+(h.collapsed_&&h.collapsible_?" "+n.CLASS_COLLAPSED:"")+(h.collapsible_?"":" ol-uncollapsible");a.appendChild(h.ulElement_);a.appendChild(f);h.renderedAttributions_=[];h.renderedVisible_=!0;return h}
y(l,q);l.prototype.collectSourceAttributions_=function(h){for(var c={},e=[],a=!0,f=h.layerStatesArray,p=0,A=f.length;p<A;++p){var C=f[p];if((0,O.inView)(C,h.viewState)){var D=C.layer.getSource();if(D&&(C=D.getAttributions())&&(C=C(h)))if(a=a&&!1!==D.getAttributionsCollapsible(),Array.isArray(C)){D=0;for(var P=C.length;D<P;++D)C[D]in c||(e.push(C[D]),c[C[D]]=!0)}else C in c||(e.push(C),c[C]=!0)}}this.overrideCollapsible_||this.setCollapsible(a);return e};l.prototype.updateElement_=function(h){if(h){h=
this.collectSourceAttributions_(h);var c=0<h.length;this.renderedVisible_!=c&&(this.element.style.display=c?"":"none",this.renderedVisible_=c);if(!(0,F.equals)(h,this.renderedAttributions_)){(0,x.removeChildren)(this.ulElement_);c=0;for(var e=h.length;c<e;++c){var a=document.createElement("li");a.innerHTML=h[c];this.ulElement_.appendChild(a)}this.renderedAttributions_=h}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)};l.prototype.handleClick_=function(h){h.preventDefault();
this.handleToggle_();this.userCollapsed_=this.collapsed_};l.prototype.handleToggle_=function(){this.element.classList.toggle(n.CLASS_COLLAPSED);this.collapsed_?(0,x.replaceNode)(this.collapseLabel_,this.label_):(0,x.replaceNode)(this.label_,this.collapseLabel_);this.collapsed_=!this.collapsed_};l.prototype.getCollapsible=function(){return this.collapsible_};l.prototype.setCollapsible=function(h){this.collapsible_!==h&&(this.collapsible_=h,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&
this.handleToggle_())};l.prototype.setCollapsed=function(h){this.userCollapsed_=h;this.collapsible_&&this.collapsed_!==h&&this.handleToggle_()};l.prototype.getCollapsed=function(){return this.collapsed_};l.prototype.render=function(h){this.updateElement_(h.frameState)};return l}(Ha["default"]);E["default"]=B};
shadow$provide[162]=function(Ha,B,rb,E){function g(x){return x&&x.__esModule?x:{"default":x}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=g(B(160));var m=g(B(92)),n=B(105),F=B(138),O=function(){var x=function(y,q){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&(l[c]=h[c])};return x(y,q)};return function(y,q){function l(){this.constructor=y}x(y,q);y.prototype=null===
q?Object.create(q):(l.prototype=q.prototype,new l)}}();B=function(x){function y(q){var l=q?q:{};q=x.call(this,{element:document.createElement("div"),render:l.render,target:l.target})||this;var h=void 0!==l.className?l.className:"ol-rotate",c=void 0!==l.label?l.label:"",e=void 0!==l.compassClassName?l.compassClassName:"ol-compass";q.label_=null;"string"===typeof c?(q.label_=document.createElement("span"),q.label_.className=e,q.label_.textContent=c):(q.label_=c,q.label_.classList.add(e));e=l.tipLabel?
l.tipLabel:"Reset rotation";c=document.createElement("button");c.className=h+"-reset";c.setAttribute("type","button");c.title=e;c.appendChild(q.label_);c.addEventListener(m["default"].CLICK,q.handleClick_.bind(q),!1);e=q.element;e.className=h+" "+n.CLASS_UNSELECTABLE+" "+n.CLASS_CONTROL;e.appendChild(c);q.callResetNorth_=l.resetNorth?l.resetNorth:void 0;q.duration_=void 0!==l.duration?l.duration:250;q.autoHide_=void 0!==l.autoHide?l.autoHide:!0;q.rotation_=void 0;q.autoHide_&&q.element.classList.add(n.CLASS_HIDDEN);
return q}O(y,x);y.prototype.handleClick_=function(q){q.preventDefault();void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()};y.prototype.resetNorth_=function(){var q=this.getMap().getView();if(q){var l=q.getRotation();void 0!==l&&(0<this.duration_&&0!==l%(2*Math.PI)?q.animate({rotation:0,duration:this.duration_,easing:F.easeOut}):q.setRotation(0))}};y.prototype.render=function(q){if(q=q.frameState){q=q.viewState.rotation;if(q!=this.rotation_){var l="rotate("+q+"rad)";if(this.autoHide_){var h=
this.element.classList.contains(n.CLASS_HIDDEN);h||0!==q?h&&0!==q&&this.element.classList.remove(n.CLASS_HIDDEN):this.element.classList.add(n.CLASS_HIDDEN)}this.label_.style.transform=l}this.rotation_=q}};return y}(Ha["default"]);E["default"]=B};
shadow$provide[163]=function(Ha,B,rb,E){function g(x){return x&&x.__esModule?x:{"default":x}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=g(B(160));var m=g(B(92)),n=B(105),F=B(138),O=function(){var x=function(y,q){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&(l[c]=h[c])};return x(y,q)};return function(y,q){function l(){this.constructor=y}x(y,q);y.prototype=null===
q?Object.create(q):(l.prototype=q.prototype,new l)}}();B=function(x){function y(q){var l=q?q:{};q=x.call(this,{element:document.createElement("div"),target:l.target})||this;var h=void 0!==l.className?l.className:"ol-zoom",c=void 0!==l.delta?l.delta:1,e=void 0!==l.zoomInClassName?l.zoomInClassName:h+"-in",a=void 0!==l.zoomOutClassName?l.zoomOutClassName:h+"-out",f=void 0!==l.zoomInLabel?l.zoomInLabel:"+",p=void 0!==l.zoomOutLabel?l.zoomOutLabel:"",A=void 0!==l.zoomInTipLabel?l.zoomInTipLabel:"Zoom in",
C=void 0!==l.zoomOutTipLabel?l.zoomOutTipLabel:"Zoom out",D=document.createElement("button");D.className=e;D.setAttribute("type","button");D.title=A;D.appendChild("string"===typeof f?document.createTextNode(f):f);D.addEventListener(m["default"].CLICK,q.handleClick_.bind(q,c),!1);e=document.createElement("button");e.className=a;e.setAttribute("type","button");e.title=C;e.appendChild("string"===typeof p?document.createTextNode(p):p);e.addEventListener(m["default"].CLICK,q.handleClick_.bind(q,-c),!1);
c=q.element;c.className=h+" "+n.CLASS_UNSELECTABLE+" "+n.CLASS_CONTROL;c.appendChild(D);c.appendChild(e);q.duration_=void 0!==l.duration?l.duration:250;return q}O(y,x);y.prototype.handleClick_=function(q,l){l.preventDefault();this.zoomByDelta_(q)};y.prototype.zoomByDelta_=function(q){var l=this.getMap().getView();if(l){var h=l.getZoom();void 0!==h&&(q=l.getConstrainedZoom(h+q),0<this.duration_?(l.getAnimating()&&l.cancelAnimations(),l.animate({zoom:q,duration:this.duration_,easing:F.easeOut})):l.setZoom(q))}};
return y}(Ha["default"]);E["default"]=B};
shadow$provide[164]=function(Ha,B,rb,E){function g(c){return c&&c.__esModule?c:{"default":c}}function m(){var c=document.body;return!!(c.webkitRequestFullscreen||c.msRequestFullscreen&&document.msFullscreenEnabled||c.requestFullscreen&&document.fullscreenEnabled)}function n(){return!!(document.webkitIsFullScreen||document.msFullscreenElement||document.fullscreenElement)}function F(c){c.requestFullscreen?c.requestFullscreen():c.msRequestFullscreen?c.msRequestFullscreen():c.webkitRequestFullscreen&&
c.webkitRequestFullscreen()}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=g(B(160));var O=g(B(92)),x=B(105),y=B(93),q=B(107),l=function(){var c=function(e,a){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var A in p)Object.prototype.hasOwnProperty.call(p,A)&&(f[A]=p[A])};return c(e,a)};return function(e,a){function f(){this.constructor=e}c(e,a);e.prototype=null===a?Object.create(a):(f.prototype=a.prototype,new f)}}(),
h=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"];B=function(c){function e(a){var f=a?a:{};a=c.call(this,{element:document.createElement("div"),target:f.target})||this;a.cssClassName_=void 0!==f.className?f.className:"ol-full-screen";a.activeClassName_=void 0!==f.activeClassName?f.activeClassName.split(" "):[a.cssClassName_+"-true"];a.inactiveClassName_=void 0!==f.inactiveClassName?f.inactiveClassName.split(" "):[a.cssClassName_+"-false"];var p=void 0!==f.label?f.label:"";a.labelNode_=
"string"===typeof p?document.createTextNode(p):p;p=void 0!==f.labelActive?f.labelActive:"";a.labelActiveNode_="string"===typeof p?document.createTextNode(p):p;a.button_=document.createElement("button");p=f.tipLabel?f.tipLabel:"Toggle full-screen";a.setClassName_(a.button_,n());a.button_.setAttribute("type","button");a.button_.title=p;a.button_.appendChild(a.labelNode_);a.button_.addEventListener(O["default"].CLICK,a.handleClick_.bind(a),!1);p=a.cssClassName_+" "+x.CLASS_UNSELECTABLE+" "+x.CLASS_CONTROL+
" "+(m()?"":x.CLASS_UNSUPPORTED);var A=a.element;A.className=p;A.appendChild(a.button_);a.keys_=void 0!==f.keys?f.keys:!1;a.source_=f.source;return a}l(e,c);e.prototype.handleClick_=function(a){a.preventDefault();this.handleFullScreen_()};e.prototype.handleFullScreen_=function(){if(m()){var a=this.getMap();a&&(n()?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():(a=this.source_?"string"===
typeof this.source_?document.getElementById(this.source_):this.source_:a.getTargetElement(),this.keys_?a.webkitRequestFullscreen?a.webkitRequestFullscreen():F(a):F(a)))}};e.prototype.handleFullScreenChange_=function(){var a=this.getMap();n()?(this.setClassName_(this.button_,!0),(0,q.replaceNode)(this.labelActiveNode_,this.labelNode_),this.dispatchEvent("enterfullscreen")):(this.setClassName_(this.button_,!1),(0,q.replaceNode)(this.labelNode_,this.labelActiveNode_),this.dispatchEvent("leavefullscreen"));
a&&a.updateSize()};e.prototype.setClassName_=function(a,f){var p,A,C,D=this.activeClassName_,P=this.inactiveClassName_;f=f?D:P;(p=a.classList).remove.apply(p,D);(A=a.classList).remove.apply(A,P);(C=a.classList).add.apply(C,f)};e.prototype.setMap=function(a){c.prototype.setMap.call(this,a);if(a){a=0;for(var f=h.length;a<f;++a)this.listenerKeys.push((0,y.listen)(document,h[a],this.handleFullScreenChange_,this))}};return e}(Ha["default"]);E["default"]=B};
shadow$provide[165]=function(Ha,B,rb,E){function g(y){return y&&y.__esModule?y:{"default":y}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=g(B(160));var m=g(B(116)),n=B(95),F=B(134),O=B(93),x=function(){var y=function(q,l){y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var e in c)Object.prototype.hasOwnProperty.call(c,e)&&(h[e]=c[e])};return y(q,l)};return function(q,l){function h(){this.constructor=q}y(q,l);q.prototype=
null===l?Object.create(l):(h.prototype=l.prototype,new h)}}();B=function(y){function q(l){var h=l?l:{},c=document.createElement("div");c.className=void 0!==h.className?h.className:"ol-mouse-position";l=y.call(this,{element:c,render:h.render,target:h.target})||this;l.addEventListener((0,n.getChangeEventType)("projection"),l.handleProjectionChanged_);h.coordinateFormat&&l.setCoordinateFormat(h.coordinateFormat);h.projection&&l.setProjection(h.projection);l.undefinedHTML_=void 0!==h.undefinedHTML?h.undefinedHTML:
"\x26#160;";l.renderOnMouseOut_=!!l.undefinedHTML_;l.renderedHTML_=c.innerHTML;l.mapProjection_=null;l.transform_=null;return l}x(q,y);q.prototype.handleProjectionChanged_=function(){this.transform_=null};q.prototype.getCoordinateFormat=function(){return this.get("coordinateFormat")};q.prototype.getProjection=function(){return this.get("projection")};q.prototype.handleMouseMove=function(l){var h=this.getMap();this.updateHTML_(h.getEventPixel(l))};q.prototype.handleMouseOut=function(l){this.updateHTML_(null)};
q.prototype.setMap=function(l){y.prototype.setMap.call(this,l);l&&(l=l.getViewport(),this.listenerKeys.push((0,O.listen)(l,m["default"].POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push((0,O.listen)(l,m["default"].POINTEROUT,this.handleMouseOut,this)))};q.prototype.setCoordinateFormat=function(l){this.set("coordinateFormat",l)};q.prototype.setProjection=function(l){this.set("projection",(0,F.get)(l))};q.prototype.updateHTML_=function(l){var h=this.undefinedHTML_;
if(l&&this.mapProjection_){if(!this.transform_){var c=this.getProjection();this.transform_=c?(0,F.getTransformFromProjections)(this.mapProjection_,c):F.identityTransform}if(l=this.getMap().getCoordinateFromPixelInternal(l)){if(h=(0,F.getUserProjection)())this.transform_=(0,F.getTransformFromProjections)(this.mapProjection_,h);this.transform_(l,l);h=(h=this.getCoordinateFormat())?h(l):l.toString()}}this.renderedHTML_&&h===this.renderedHTML_||(this.renderedHTML_=this.element.innerHTML=h)};q.prototype.render=
function(l){l=l.frameState;l?this.mapProjection_!=l.viewState.projection&&(this.mapProjection_=l.viewState.projection,this.transform_=null):this.mapProjection_=null};return q}(Ha["default"]);E["default"]=B};
shadow$provide[166]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"}};
shadow$provide[167]=function(Ha,B,rb,E){function g(e){return e&&e.__esModule?e:{"default":e}}function m(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;m=function(){return e};return e}function n(e){n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return n(e)}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;
var F=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{"default":e};var a=m();if(a&&a.has(e))return a.get(e);var f={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor,A;for(A in e)if(Object.prototype.hasOwnProperty.call(e,A)){var C=p?Object.getOwnPropertyDescriptor(e,A):null;C&&(C.get||C.set)?Object.defineProperty(f,A,C):f[A]=e[A]}f["default"]=e;a&&a.set(e,f);return f}(B(95)),O=g(B(118)),x=g(B(166)),y=B(105),q=B(84),l=B(93),h=B(107),c=function(){var e=
function(a,f){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,A){p.__proto__=A}||function(p,A){for(var C in A)Object.prototype.hasOwnProperty.call(A,C)&&(p[C]=A[C])};return e(a,f)};return function(a,f){function p(){this.constructor=a}e(a,f);a.prototype=null===f?Object.create(f):(p.prototype=f.prototype,new p)}}();Ha=function(e){function a(f){var p=e.call(this)||this;p.options=f;p.id=f.id;p.insertFirst=void 0!==f.insertFirst?f.insertFirst:!0;p.stopEvent=void 0!==f.stopEvent?f.stopEvent:
!0;p.element=document.createElement("div");p.element.className=void 0!==f.className?f.className:"ol-overlay-container "+y.CLASS_SELECTABLE;p.element.style.position="absolute";p.element.style.pointerEvents="auto";var A=f.autoPan;A&&"object"!==n(A)&&(A={animation:f.autoPanAnimation,margin:f.autoPanMargin});p.autoPan=A||!1;p.rendered={transform_:"",visible:!0};p.mapPostrenderListenerKey=null;p.addEventListener((0,F.getChangeEventType)("element"),p.handleElementChanged);p.addEventListener((0,F.getChangeEventType)("map"),
p.handleMapChanged);p.addEventListener((0,F.getChangeEventType)("offset"),p.handleOffsetChanged);p.addEventListener((0,F.getChangeEventType)("position"),p.handlePositionChanged);p.addEventListener((0,F.getChangeEventType)("positioning"),p.handlePositioningChanged);void 0!==f.element&&p.setElement(f.element);p.setOffset(void 0!==f.offset?f.offset:[0,0]);p.setPositioning(void 0!==f.positioning?f.positioning:x["default"].TOP_LEFT);void 0!==f.position&&p.setPosition(f.position);return p}c(a,e);a.prototype.getElement=
function(){return this.get("element")};a.prototype.getId=function(){return this.id};a.prototype.getMap=function(){return this.get("map")};a.prototype.getOffset=function(){return this.get("offset")};a.prototype.getPosition=function(){return this.get("position")};a.prototype.getPositioning=function(){return this.get("positioning")};a.prototype.handleElementChanged=function(){(0,h.removeChildren)(this.element);var f=this.getElement();f&&this.element.appendChild(f)};a.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&
((0,h.removeNode)(this.element),(0,l.unlistenByKey)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var f=this.getMap();f&&(this.mapPostrenderListenerKey=(0,l.listen)(f,O["default"].POSTRENDER,this.render,this),this.updatePixelPosition(),f=this.stopEvent?f.getOverlayContainerStopEvent():f.getOverlayContainer(),this.insertFirst?f.insertBefore(this.element,f.childNodes[0]||null):f.appendChild(this.element),this.performAutoPan())};a.prototype.render=function(){this.updatePixelPosition()};
a.prototype.handleOffsetChanged=function(){this.updatePixelPosition()};a.prototype.handlePositionChanged=function(){this.updatePixelPosition();this.performAutoPan()};a.prototype.handlePositioningChanged=function(){this.updatePixelPosition()};a.prototype.setElement=function(f){this.set("element",f)};a.prototype.setMap=function(f){this.set("map",f)};a.prototype.setOffset=function(f){this.set("offset",f)};a.prototype.setPosition=function(f){this.set("position",f)};a.prototype.performAutoPan=function(){this.autoPan&&
this.panIntoView(this.autoPan)};a.prototype.panIntoView=function(f){var p=this.getMap();if(p&&p.getTargetElement()&&this.get("position")){var A=this.getRect(p.getTargetElement(),p.getSize()),C=this.getElement(),D=this.getRect(C,[(0,h.outerWidth)(C),(0,h.outerHeight)(C)]);f=f||{};C=void 0===f.margin?20:f.margin;if(!(0,q.containsExtent)(A,D)){var P=D[0]-A[0],L=A[2]-D[2],G=D[1]-A[1];D=A[3]-D[3];A=[0,0];0>P?A[0]=P-C:0>L&&(A[0]=Math.abs(L)+C);0>G?A[1]=G-C:0>D&&(A[1]=Math.abs(D)+C);if(0!==A[0]||0!==A[1])if(C=
p.getView().getCenterInternal(),C=p.getPixelFromCoordinateInternal(C))A=[C[0]+A[0],C[1]+A[1]],f=f.animation||{},p.getView().animateInternal({center:p.getCoordinateFromPixelInternal(A),duration:f.duration,easing:f.easing})}}};a.prototype.getRect=function(f,p){var A=f.getBoundingClientRect();f=A.left+window.pageXOffset;A=A.top+window.pageYOffset;return[f,A,f+p[0],A+p[1]]};a.prototype.setPositioning=function(f){this.set("positioning",f)};a.prototype.setVisible=function(f){this.rendered.visible!==f&&
(this.element.style.display=f?"":"none",this.rendered.visible=f)};a.prototype.updatePixelPosition=function(){var f=this.getMap(),p=this.getPosition();f&&f.isRendered()&&p?(p=f.getPixelFromCoordinate(p),f=f.getSize(),this.updateRenderedPosition(p,f)):this.setVisible(!1)};a.prototype.updateRenderedPosition=function(f,p){p=this.element.style;var A=this.getOffset(),C=this.getPositioning();this.setVisible(!0);var D=Math.round(f[0]+A[0])+"px";f=Math.round(f[1]+A[1])+"px";var P=A="0%";if(C==x["default"].BOTTOM_RIGHT||
C==x["default"].CENTER_RIGHT||C==x["default"].TOP_RIGHT)A="-100%";else if(C==x["default"].BOTTOM_CENTER||C==x["default"].CENTER_CENTER||C==x["default"].TOP_CENTER)A="-50%";if(C==x["default"].BOTTOM_LEFT||C==x["default"].BOTTOM_CENTER||C==x["default"].BOTTOM_RIGHT)P="-100%";else if(C==x["default"].CENTER_LEFT||C==x["default"].CENTER_CENTER||C==x["default"].CENTER_RIGHT)P="-50%";C="translate("+A+", "+P+") translate("+D+", "+f+")";this.rendered.transform_!=C&&(this.rendered.transform_=C,p.transform=
C,p.msTransform=C)};a.prototype.getOptions=function(){return this.options};return a}(F["default"]);E["default"]=Ha};
shadow$provide[168]=function(Ha,B,rb,E){function g(P){return P&&P.__esModule?P:{"default":P}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var m=g(B(109));Ha=g(B(160));var n=g(B(92)),F=g(B(118)),O=g(B(119)),x=g(B(89)),y=g(B(167)),q=g(B(166));rb=g(B(159));var l=g(B(157)),h=g(B(126)),c=B(105),e=B(84),a=B(95),f=B(93),p=B(156),A=B(107),C=function(){var P=function(L,G){P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,J){z.__proto__=J}||function(z,J){for(var K in J)Object.prototype.hasOwnProperty.call(J,
K)&&(z[K]=J[K])};return P(L,G)};return function(L,G){function z(){this.constructor=L}P(L,G);L.prototype=null===G?Object.create(G):(z.prototype=G.prototype,new z)}}(),D=function(P){function L(){return null!==P&&P.apply(this,arguments)||this}C(L,P);L.prototype.createRenderer=function(){return new m["default"](this)};return L}(rb["default"]);B=function(P){function L(G){var z=this,J=G?G:{};z=P.call(this,{element:document.createElement("div"),render:J.render,target:J.target})||this;z.boundHandleRotationChanged_=
z.handleRotationChanged_.bind(z);z.collapsed_=void 0!==J.collapsed?J.collapsed:!0;z.collapsible_=void 0!==J.collapsible?J.collapsible:!0;z.collapsible_||(z.collapsed_=!1);z.rotateWithView_=void 0!==J.rotateWithView?J.rotateWithView:!1;z.viewExtent_=void 0;G=void 0!==J.className?J.className:"ol-overviewmap";var K=void 0!==J.tipLabel?J.tipLabel:"Overview map",R=void 0!==J.collapseLabel?J.collapseLabel:"";"string"===typeof R?(z.collapseLabel_=document.createElement("span"),z.collapseLabel_.textContent=
R):z.collapseLabel_=R;R=void 0!==J.label?J.label:"";"string"===typeof R?(z.label_=document.createElement("span"),z.label_.textContent=R):z.label_=R;var U=z.collapsible_&&!z.collapsed_?z.collapseLabel_:z.label_;R=document.createElement("button");R.setAttribute("type","button");R.title=K;R.appendChild(U);R.addEventListener(n["default"].CLICK,z.handleClick_.bind(z),!1);z.ovmapDiv_=document.createElement("div");z.ovmapDiv_.className="ol-overviewmap-map";z.view_=J.view;z.ovmap_=new D({view:J.view});var ka=
z.ovmap_;J.layers&&J.layers.forEach(function(Q){ka.addLayer(Q)});J=document.createElement("div");J.className="ol-overviewmap-box";J.style.boxSizing="border-box";z.boxOverlay_=new y["default"]({position:[0,0],positioning:q["default"].CENTER_CENTER,element:J});z.ovmap_.addOverlay(z.boxOverlay_);J=z.element;J.className=G+" "+c.CLASS_UNSELECTABLE+" "+c.CLASS_CONTROL+(z.collapsed_&&z.collapsible_?" "+c.CLASS_COLLAPSED:"")+(z.collapsible_?"":" ol-uncollapsible");J.appendChild(z.ovmapDiv_);J.appendChild(R);
var ba=z,da=z.boxOverlay_,ja=function(Q){Q=ka.getEventCoordinateInternal({clientX:Q.clientX,clientY:Q.clientY});da.setPosition(Q)},Z=function N(r){r=ka.getEventCoordinateInternal(r);ba.getMap().getView().setCenterInternal(r);window.removeEventListener("mousemove",ja);window.removeEventListener("mouseup",N)};z.boxOverlay_.getElement().addEventListener("mousedown",function(){window.addEventListener("mousemove",ja);window.addEventListener("mouseup",Z)});return z}C(L,P);L.prototype.setMap=function(G){var z=
this.getMap();G!==z&&(z&&((z=z.getView())&&this.unbindView_(z),this.ovmap_.setTarget(null)),P.prototype.setMap.call(this,G),G&&(this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push((0,f.listen)(G,x["default"].PROPERTYCHANGE,this.handleMapPropertyChange_,this)),G=G.getView()))&&(this.bindView_(G),G.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_()))};L.prototype.handleMapPropertyChange_=function(G){G.key===O["default"].VIEW&&((G=G.oldValue)&&this.unbindView_(G),G=this.getMap().getView(),
this.bindView_(G))};L.prototype.bindView_=function(G){if(!this.view_){var z=new l["default"]({projection:G.getProjection()});this.ovmap_.setView(z)}G.addEventListener((0,a.getChangeEventType)(h["default"].ROTATION),this.boundHandleRotationChanged_);this.handleRotationChanged_()};L.prototype.unbindView_=function(G){G.removeEventListener((0,a.getChangeEventType)(h["default"].ROTATION),this.boundHandleRotationChanged_)};L.prototype.handleRotationChanged_=function(){this.rotateWithView_&&this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())};
L.prototype.validateExtent_=function(){var G=this.getMap(),z=this.ovmap_;if(G.isRendered()&&z.isRendered()){var J=G.getSize();G=G.getView().calculateExtentInternal(J);if(!this.viewExtent_||!(0,e.equals)(G,this.viewExtent_)){this.viewExtent_=G;var K=z.getSize();J=z.getView().calculateExtentInternal(K);var R=z.getPixelFromCoordinateInternal((0,e.getTopLeft)(G)),U=z.getPixelFromCoordinateInternal((0,e.getBottomRight)(G));z=Math.abs(R[0]-U[0]);R=Math.abs(R[1]-U[1]);U=K[0];K=K[1];z<.1*U||R<.1*K||z>.75*
U||R>.75*K?this.resetExtent_():(0,e.containsExtent)(J,G)||this.recenter_()}}};L.prototype.resetExtent_=function(){var G=this.getMap(),z=this.ovmap_,J=G.getSize();G=G.getView().calculateExtentInternal(J);z=z.getView();J=1/(.1*Math.pow(2,Math.log(7.5)/Math.LN2/2));(0,e.scaleFromCenter)(G,J);z.fitInternal((0,p.fromExtent)(G))};L.prototype.recenter_=function(){var G=this.getMap(),z=this.ovmap_;G=G.getView();z.getView().setCenterInternal(G.getCenterInternal())};L.prototype.updateBox_=function(){var G=
this.getMap(),z=this.ovmap_;if(G.isRendered()&&z.isRendered()){var J=G.getSize(),K=G.getView(),R=z.getView();z=this.rotateWithView_?0:-K.getRotation();G=this.boxOverlay_;var U=this.boxOverlay_.getElement(),ka=K.getCenterInternal();K=K.getResolution();var ba=R.getResolution();R=J[0]*K/ba;J=J[1]*K/ba;G.setPosition(ka);U&&(U.style.width=R+"px",U.style.height=J+"px",U.style.transform="rotate("+z+"rad)")}};L.prototype.handleClick_=function(G){G.preventDefault();this.handleToggle_()};L.prototype.handleToggle_=
function(){this.element.classList.toggle(c.CLASS_COLLAPSED);this.collapsed_?(0,A.replaceNode)(this.collapseLabel_,this.label_):(0,A.replaceNode)(this.label_,this.collapseLabel_);this.collapsed_=!this.collapsed_;var G=this.ovmap_;this.collapsed_||(G.isRendered()?(this.viewExtent_=void 0,G.render()):(G.updateSize(),this.resetExtent_(),(0,f.listenOnce)(G,F["default"].POSTRENDER,function(z){this.updateBox_()},this)))};L.prototype.getCollapsible=function(){return this.collapsible_};L.prototype.setCollapsible=
function(G){this.collapsible_!==G&&(this.collapsible_=G,this.element.classList.toggle("ol-uncollapsible"),!G&&this.collapsed_&&this.handleToggle_())};L.prototype.setCollapsed=function(G){this.collapsible_&&this.collapsed_!==G&&this.handleToggle_()};L.prototype.getCollapsed=function(){return this.collapsed_};L.prototype.getRotateWithView=function(){return this.rotateWithView_};L.prototype.setRotateWithView=function(G){this.rotateWithView_!==G&&(this.rotateWithView_=G,0!==this.getMap().getView().getRotation()&&
(this.rotateWithView_?this.handleRotationChanged_():this.ovmap_.getView().setRotation(0),this.viewExtent_=void 0,this.validateExtent_(),this.updateBox_()))};L.prototype.getOverviewMap=function(){return this.ovmap_};L.prototype.render=function(G){this.validateExtent_();this.updateBox_()};return L}(Ha["default"]);E["default"]=B};
shadow$provide[169]=function(Ha,B,rb,E){function g(c){return c&&c.__esModule?c:{"default":c}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.Units=void 0;Ha=g(B(160));var m=g(B(124)),n=B(105),F=B(134),O=B(80),x=B(95),y=function(){var c=function(e,a){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var A in p)Object.prototype.hasOwnProperty.call(p,A)&&(f[A]=p[A])};return c(e,a)};return function(e,a){function f(){this.constructor=
e}c(e,a);e.prototype=null===a?Object.create(a):(f.prototype=a.prototype,new f)}}(),q={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"};E.Units=q;var l=[1,2,5],h=25.4/.28;B=function(c){function e(a){var f=a?a:{},p=void 0!==f.className?f.className:f.bar?"ol-scale-bar":"ol-scale-line";a=c.call(this,{element:document.createElement("div"),render:f.render,target:f.target})||this;a.innerElement_=document.createElement("div");a.innerElement_.className=p+"-inner";a.element.className=
p+" "+n.CLASS_UNSELECTABLE;a.element.appendChild(a.innerElement_);a.viewState_=null;a.minWidth_=void 0!==f.minWidth?f.minWidth:64;a.renderedVisible_=!1;a.renderedWidth_=void 0;a.renderedHTML_="";a.addEventListener((0,x.getChangeEventType)("units"),a.handleUnitsChanged_);a.setUnits(f.units||q.METRIC);a.scaleBar_=f.bar||!1;a.scaleBarSteps_=f.steps||4;a.scaleBarText_=f.text||!1;a.dpi_=f.dpi||void 0;return a}y(e,c);e.prototype.getUnits=function(){return this.get("units")};e.prototype.handleUnitsChanged_=
function(){this.updateElement_()};e.prototype.setUnits=function(a){this.set("units",a)};e.prototype.setDpi=function(a){this.dpi_=a};e.prototype.updateElement_=function(){var a=this.viewState_;if(a){var f=a.center,p=a.projection,A=this.getUnits(),C=A==q.DEGREES?m["default"].DEGREES:m["default"].METERS;a=(0,F.getPointResolution)(p,a.resolution,f,C);f=this.minWidth_*(this.dpi_||h)/h;C=f*a;p="";A==q.DEGREES?(A=F.METERS_PER_UNIT[m["default"].DEGREES],C*=A,C<A/60?(p="",a*=3600):C<A?(p="",a*=60):p=""):
A==q.IMPERIAL?.9144>C?(p="in",a/=.0254):1609.344>C?(p="ft",a/=.3048):(p="mi",a/=1609.344):A==q.NAUTICAL?(a/=1852,p="nm"):A==q.METRIC?.001>C?(p="m",a*=1E6):1>C?(p="mm",a*=1E3):1E3>C?p="m":(p="km",a/=1E3):A==q.US?.9144>C?(p="in",a*=39.37):1609.344>C?(p="ft",a/=.30480061):(p="mi",a/=1609.3472):(0,O.assert)(!1,33);C=3*Math.floor(Math.log(f*a)/Math.log(10));for(var D,P;;){P=Math.floor(C/3);D=l[(C%3+3)%3]*Math.pow(10,P);A=Math.round(D/a);if(isNaN(A)){this.element.style.display="none";this.renderedVisible_=
!1;return}if(A>=f)break;++C}a=this.scaleBar_?this.createScaleBar(A,D,p):D.toFixed(0>P?-P:0)+" "+p;this.renderedHTML_!=a&&(this.renderedHTML_=this.innerElement_.innerHTML=a);this.renderedWidth_!=A&&(this.innerElement_.style.width=A+"px",this.renderedWidth_=A);this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)};e.prototype.createScaleBar=function(a,f,p){for(var A="1 : "+Math.round(this.getScaleForResolution()).toLocaleString(),
C=[],D=a/this.scaleBarSteps_,P="#ffffff",L=0;L<this.scaleBarSteps_;L++)0===L&&C.push(this.createMarker("absolute",L)),C.push('\x3cdiv\x3e\x3cdiv class\x3d"ol-scale-singlebar" style\x3d"width: '+D+"px;background-color: "+P+';"\x3e\x3c/div\x3e'+this.createMarker("relative",L)+(0===L%2||2===this.scaleBarSteps_?this.createStepText(L,a,!1,f,p):"")+"\x3c/div\x3e"),L===this.scaleBarSteps_-1&&C.push(this.createStepText(L+1,a,!0,f,p)),P="#ffffff"===P?"#000000":"#ffffff";return'\x3cdiv style\x3d"display: flex;"\x3e'+
(this.scaleBarText_?'\x3cdiv class\x3d"ol-scale-text" style\x3d"width: '+a+'px;"\x3e'+A+"\x3c/div\x3e":"")+C.join("")+"\x3c/div\x3e"};e.prototype.createMarker=function(a,f){return'\x3cdiv class\x3d"ol-scale-step-marker" style\x3d"position: '+a+";top: "+("absolute"===a?3:-10)+'px;"\x3e\x3c/div\x3e'};e.prototype.createStepText=function(a,f,p,A,C){return'\x3cdiv class\x3d"ol-scale-step-text" style\x3d"margin-left: '+(0===a?-3:f/this.scaleBarSteps_*-1)+"px;text-align: "+(0===a?"left":"center")+"; min-width: "+
(0===a?0:f/this.scaleBarSteps_*2)+"px;left: "+(p?f+"px":"unset")+';"\x3e'+((0===a?0:Math.round(A/this.scaleBarSteps_*a*100)/100)+(0===a?"":" "+C))+"\x3c/div\x3e"};e.prototype.getScaleForResolution=function(){var a=(0,F.getPointResolution)(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center),f=this.dpi_||h,p=this.viewState_.projection.getMetersPerUnit(),A=1E3/25.4;return parseFloat(a.toString())*p*A*f};e.prototype.render=function(a){this.viewState_=(a=a.frameState)?a.viewState:
null;this.updateElement_()};return e}(Ha["default"]);E["default"]=B};
shadow$provide[170]=function(Ha,B,rb,E){function g(h){return h&&h.__esModule?h:{"default":h}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=g(B(160));var m=g(B(92)),n=g(B(116)),F=B(105),O=B(85),x=B(138),y=B(93),q=B(88),l=function(){var h=function(c,e){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,f){a.__proto__=f}||function(a,f){for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(a[p]=f[p])};return h(c,e)};return function(c,e){function a(){this.constructor=
c}h(c,e);c.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}}();B=function(h){function c(e){var a=e?e:{};e=h.call(this,{element:document.createElement("div"),render:a.render})||this;e.dragListenerKeys_=[];e.currentResolution_=void 0;e.direction_=0;e.heightLimit_=0;e.widthLimit_=0;e.thumbSize_=null;e.sliderInitialized_=!1;e.duration_=void 0!==a.duration?a.duration:200;a=void 0!==a.className?a.className:"ol-zoomslider";var f=document.createElement("button");f.setAttribute("type",
"button");f.className=a+"-thumb "+F.CLASS_UNSELECTABLE;var p=e.element;p.className=a+" "+F.CLASS_UNSELECTABLE+" "+F.CLASS_CONTROL;p.appendChild(f);p.addEventListener(n["default"].POINTERDOWN,e.handleDraggerStart_.bind(e),!1);p.addEventListener(n["default"].POINTERMOVE,e.handleDraggerDrag_.bind(e),!1);p.addEventListener(n["default"].POINTERUP,e.handleDraggerEnd_.bind(e),!1);p.addEventListener(m["default"].CLICK,e.handleContainerClick_.bind(e),!1);f.addEventListener(m["default"].CLICK,q.stopPropagation,
!1);return e}l(c,h);c.prototype.setMap=function(e){h.prototype.setMap.call(this,e);e&&e.render()};c.prototype.initSlider_=function(){var e=this.element,a=e.offsetWidth,f=e.offsetHeight;if(0===a&&0===f)return this.sliderInitialized_=!1;var p=e.firstElementChild,A=getComputedStyle(p);e=p.offsetWidth+parseFloat(A.marginRight)+parseFloat(A.marginLeft);p=p.offsetHeight+parseFloat(A.marginTop)+parseFloat(A.marginBottom);this.thumbSize_=[e,p];a>f?(this.direction_=1,this.widthLimit_=a-e):(this.direction_=
0,this.heightLimit_=f-p);return this.sliderInitialized_=!0};c.prototype.handleContainerClick_=function(e){var a=this.getMap().getView();e=this.getRelativePosition_(e.offsetX-this.thumbSize_[0]/2,e.offsetY-this.thumbSize_[1]/2);e=this.getResolutionForPosition_(e);e=a.getConstrainedZoom(a.getZoomForResolution(e));a.animateInternal({zoom:e,duration:this.duration_,easing:x.easeOut})};c.prototype.handleDraggerStart_=function(e){if(!this.dragging_&&e.target===this.element.firstElementChild){var a=this.element.firstElementChild;
this.getMap().getView().beginInteraction();this.startX_=e.clientX-parseFloat(a.style.left);this.startY_=e.clientY-parseFloat(a.style.top);this.dragging_=!0;if(0===this.dragListenerKeys_.length){e=this.handleDraggerDrag_;a=this.handleDraggerEnd_;var f=this.getMap().getOwnerDocument();this.dragListenerKeys_.push((0,y.listen)(f,n["default"].POINTERMOVE,e,this),(0,y.listen)(f,n["default"].POINTERUP,a,this))}}};c.prototype.handleDraggerDrag_=function(e){this.dragging_&&(e=this.getRelativePosition_(e.clientX-
this.startX_,e.clientY-this.startY_),this.currentResolution_=this.getResolutionForPosition_(e),this.getMap().getView().setResolution(this.currentResolution_))};c.prototype.handleDraggerEnd_=function(e){this.dragging_&&(this.getMap().getView().endInteraction(),this.dragging_=!1,this.startY_=this.startX_=void 0,this.dragListenerKeys_.forEach(y.unlistenByKey),this.dragListenerKeys_.length=0)};c.prototype.setThumbPosition_=function(e){e=this.getPositionForResolution_(e);var a=this.element.firstElementChild;
1==this.direction_?a.style.left=this.widthLimit_*e+"px":a.style.top=this.heightLimit_*e+"px"};c.prototype.getRelativePosition_=function(e,a){e=1===this.direction_?e/this.widthLimit_:a/this.heightLimit_;return(0,O.clamp)(e,0,1)};c.prototype.getResolutionForPosition_=function(e){return this.getMap().getView().getResolutionForValueFunction()(1-e)};c.prototype.getPositionForResolution_=function(e){var a=this.getMap().getView().getValueForResolutionFunction();return(0,O.clamp)(1-a(e),0,1)};c.prototype.render=
function(e){e.frameState&&(this.sliderInitialized_||this.initSlider_())&&(this.currentResolution_=e=e.frameState.viewState.resolution,this.setThumbPosition_(e))};return c}(Ha["default"]);E["default"]=B};
shadow$provide[171]=function(Ha,B,rb,E){function g(x){return x&&x.__esModule?x:{"default":x}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=g(B(160));var m=g(B(92)),n=B(105),F=B(156),O=function(){var x=function(y,q){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&(l[c]=h[c])};return x(y,q)};return function(y,q){function l(){this.constructor=y}x(y,q);y.prototype=null===
q?Object.create(q):(l.prototype=q.prototype,new l)}}();B=function(x){function y(q){var l=q?q:{};q=x.call(this,{element:document.createElement("div"),target:l.target})||this;q.extent=l.extent?l.extent:null;var h=void 0!==l.className?l.className:"ol-zoom-extent",c=void 0!==l.label?l.label:"E",e=void 0!==l.tipLabel?l.tipLabel:"Fit to extent";l=document.createElement("button");l.setAttribute("type","button");l.title=e;l.appendChild("string"===typeof c?document.createTextNode(c):c);l.addEventListener(m["default"].CLICK,
q.handleClick_.bind(q),!1);c=q.element;c.className=h+" "+n.CLASS_UNSELECTABLE+" "+n.CLASS_CONTROL;c.appendChild(l);return q}O(y,x);y.prototype.handleClick_=function(q){q.preventDefault();this.handleZoomToExtent()};y.prototype.handleZoomToExtent=function(){var q=this.getMap().getView(),l=this.extent?this.extent:q.getProjection().getExtent();q.fitInternal((0,F.fromExtent)(l))};return y}(Ha["default"]);E["default"]=B};
shadow$provide[172]=function(Ha,B,rb,E){function g(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(E,"__esModule",{value:!0});E.defaults=function(a){a=a?a:{};var f=new n["default"];(void 0!==a.zoom?a.zoom:1)&&f.push(new O["default"](a.zoomOptions));(void 0!==a.rotate?a.rotate:1)&&f.push(new F["default"](a.rotateOptions));(void 0!==a.attribution?a.attribution:1)&&f.push(new m["default"](a.attributionOptions));return f};Object.defineProperty(E,"Attribution",{enumerable:!0,get:function(){return m["default"]}});
Object.defineProperty(E,"Rotate",{enumerable:!0,get:function(){return F["default"]}});Object.defineProperty(E,"Zoom",{enumerable:!0,get:function(){return O["default"]}});Object.defineProperty(E,"Control",{enumerable:!0,get:function(){return x["default"]}});Object.defineProperty(E,"FullScreen",{enumerable:!0,get:function(){return y["default"]}});Object.defineProperty(E,"MousePosition",{enumerable:!0,get:function(){return q["default"]}});Object.defineProperty(E,"OverviewMap",{enumerable:!0,get:function(){return l["default"]}});
Object.defineProperty(E,"ScaleLine",{enumerable:!0,get:function(){return h["default"]}});Object.defineProperty(E,"ZoomSlider",{enumerable:!0,get:function(){return c["default"]}});Object.defineProperty(E,"ZoomToExtent",{enumerable:!0,get:function(){return e["default"]}});var m=g(B(161)),n=g(B(111)),F=g(B(162)),O=g(B(163)),x=g(B(160)),y=g(B(164)),q=g(B(165)),l=g(B(168)),h=g(B(169)),c=g(B(170)),e=g(B(171))};
shadow$provide[173]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={ACTIVE:"active"}};
shadow$provide[174]=function(Ha,B,rb,E){function g(O){return O&&O.__esModule?O:{"default":O}}Object.defineProperty(E,"__esModule",{value:!0});E.pan=function(O,x,y){var q=O.getCenterInternal();q&&O.animateInternal({duration:void 0!==y?y:250,easing:n.linear,center:O.getConstrainedCenter([q[0]+x[0],q[1]+x[1]])})};E.zoomByDelta=function(O,x,y,q){var l=O.getZoom();void 0!==l&&(x=O.getConstrainedZoom(l+x),x=O.getResolutionForZoom(x),O.getAnimating()&&O.cancelAnimations(),O.animate({resolution:x,anchor:y,
duration:void 0!==q?q:250,easing:n.easeOut}))};E["default"]=void 0;Ha=g(B(95));var m=g(B(173)),n=B(138),F=function(){var O=function(x,y){O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,l){q.__proto__=l}||function(q,l){for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(q[h]=l[h])};return O(x,y)};return function(x,y){function q(){this.constructor=x}O(x,y);x.prototype=null===y?Object.create(y):(q.prototype=y.prototype,new q)}}();B=function(O){function x(y){var q=O.call(this)||
this;y&&y.handleEvent&&(q.handleEvent=y.handleEvent);q.map_=null;q.setActive(!0);return q}F(x,O);x.prototype.getActive=function(){return this.get(m["default"].ACTIVE)};x.prototype.getMap=function(){return this.map_};x.prototype.handleEvent=function(y){return!0};x.prototype.setActive=function(y){this.set(m["default"].ACTIVE,y)};x.prototype.setMap=function(y){this.map_=y};return x}(Ha["default"]);E["default"]=B};
shadow$provide[175]=function(Ha,B,rb,E){function g(x){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"===typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y};return g(x)}function m(){if("function"!==typeof WeakMap)return null;var x=new WeakMap;m=function(){return x};return x}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var n=function(x){if(x&&x.__esModule)return x;if(null===
x||"object"!==g(x)&&"function"!==typeof x)return{"default":x};var y=m();if(y&&y.has(x))return y.get(x);var q={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,h;for(h in x)if(Object.prototype.hasOwnProperty.call(x,h)){var c=l?Object.getOwnPropertyDescriptor(x,h):null;c&&(c.get||c.set)?Object.defineProperty(q,h,c):q[h]=x[h]}q["default"]=x;y&&y.set(x,q);return q}(B(174)),F=function(x){return x&&x.__esModule?x:{"default":x}}(B(115)),O=function(){var x=function(y,q){x=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&(l[c]=h[c])};return x(y,q)};return function(y,q){function l(){this.constructor=y}x(y,q);y.prototype=null===q?Object.create(q):(l.prototype=q.prototype,new l)}}();Ha=function(x){function y(q){var l=x.call(this)||this;q=q?q:{};l.delta_=q.delta?q.delta:1;l.duration_=void 0!==q.duration?q.duration:250;return l}O(y,x);y.prototype.handleEvent=function(q){var l=!1;if(q.type==
F["default"].DBLCLICK){l=q.originalEvent;var h=q.coordinate,c=l.shiftKey?-this.delta_:this.delta_;q=q.map.getView();(0,n.zoomByDelta)(q,c,h,this.duration_);l.preventDefault();l=!0}return!l};return y}(n["default"]);E["default"]=Ha};
shadow$provide[176]=function(Ha,B,rb,E){function g(O){return O&&O.__esModule?O:{"default":O}}Object.defineProperty(E,"__esModule",{value:!0});E.centroid=function(O){for(var x=O.length,y=0,q=0,l=0;l<x;l++)y+=O[l].clientX,q+=O[l].clientY;return[y/x,q/x]};E["default"]=void 0;Ha=g(B(174));var m=g(B(115)),n=B(90),F=function(){var O=function(x,y){O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,l){q.__proto__=l}||function(q,l){for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&
(q[h]=l[h])};return O(x,y)};return function(x,y){function q(){this.constructor=x}O(x,y);x.prototype=null===y?Object.create(y):(q.prototype=y.prototype,new q)}}();B=function(O){function x(y){var q=y?y:{};y=O.call(this,q)||this;q.handleDownEvent&&(y.handleDownEvent=q.handleDownEvent);q.handleDragEvent&&(y.handleDragEvent=q.handleDragEvent);q.handleMoveEvent&&(y.handleMoveEvent=q.handleMoveEvent);q.handleUpEvent&&(y.handleUpEvent=q.handleUpEvent);q.stopDown&&(y.stopDown=q.stopDown);y.handlingDownUpSequence=
!1;y.trackedPointers_={};y.targetPointers=[];return y}F(x,O);x.prototype.getPointerCount=function(){return this.targetPointers.length};x.prototype.handleDownEvent=function(y){return!1};x.prototype.handleDragEvent=function(y){};x.prototype.handleEvent=function(y){if(!y.originalEvent)return!0;var q=!1;this.updateTrackedPointers_(y);this.handlingDownUpSequence?y.type==m["default"].POINTERDRAG?(this.handleDragEvent(y),y.originalEvent.preventDefault()):y.type==m["default"].POINTERUP&&(this.handlingDownUpSequence=
this.handleUpEvent(y)&&0<this.targetPointers.length):y.type==m["default"].POINTERDOWN?(this.handlingDownUpSequence=y=this.handleDownEvent(y),q=this.stopDown(y)):y.type==m["default"].POINTERMOVE&&this.handleMoveEvent(y);return!q};x.prototype.handleMoveEvent=function(y){};x.prototype.handleUpEvent=function(y){return!1};x.prototype.stopDown=function(y){return y};x.prototype.updateTrackedPointers_=function(y){var q=y.type;if(q===m["default"].POINTERDOWN||q===m["default"].POINTERDRAG||q===m["default"].POINTERUP){q=
y.originalEvent;var l=q.pointerId.toString();y.type==m["default"].POINTERUP?delete this.trackedPointers_[l]:y.type==m["default"].POINTERDOWN?this.trackedPointers_[l]=q:l in this.trackedPointers_&&(this.trackedPointers_[l]=q);this.targetPointers=(0,n.getValues)(this.trackedPointers_)}};return x}(Ha["default"]);E["default"]=B};
shadow$provide[177]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.all=function(O){var x=arguments;return function(y){for(var q=!0,l=0,h=x.length;l<h&&(q=q&&x[l](y),q);++l);return q}};E.primaryAction=E.penOnly=E.touchOnly=E.mouseOnly=E.targetNotEditable=E.shiftKeyOnly=E.platformModifierKeyOnly=E.noModifierKeys=E.doubleClick=E.singleClick=E.pointerMove=E.never=E.mouseActionButton=E.click=E.always=E.focusWithTabindex=E.focus=E.altShiftKeysOnly=E.altKeyOnly=void 0;var g=function(O){return O&&
O.__esModule?O:{"default":O}}(B(115));Ha=B(77);var m=B(106),n=B(80);E.altKeyOnly=function(O){O=O.originalEvent;return O.altKey&&!(O.metaKey||O.ctrlKey)&&!O.shiftKey};E.altShiftKeysOnly=function(O){O=O.originalEvent;return O.altKey&&!(O.metaKey||O.ctrlKey)&&O.shiftKey};var F=function(O){return O.target.getTargetElement().contains(document.activeElement)};E.focus=F;E.focusWithTabindex=function(O){return O.map.getTargetElement().hasAttribute("tabindex")?F(O):!0};E.always=Ha.TRUE;E.click=function(O){return O.type==
g["default"].CLICK};E.mouseActionButton=function(O){O=O.originalEvent;return 0==O.button&&!(m.WEBKIT&&m.MAC&&O.ctrlKey)};E.never=Ha.FALSE;E.pointerMove=function(O){return"pointermove"==O.type};E.singleClick=function(O){return O.type==g["default"].SINGLECLICK};E.doubleClick=function(O){return O.type==g["default"].DBLCLICK};E.noModifierKeys=function(O){O=O.originalEvent;return!O.altKey&&!(O.metaKey||O.ctrlKey)&&!O.shiftKey};E.platformModifierKeyOnly=function(O){O=O.originalEvent;return!O.altKey&&(m.MAC?
O.metaKey:O.ctrlKey)&&!O.shiftKey};E.shiftKeyOnly=function(O){O=O.originalEvent;return!O.altKey&&!(O.metaKey||O.ctrlKey)&&O.shiftKey};E.targetNotEditable=function(O){O=O.originalEvent.target.tagName;return"INPUT"!==O&&"SELECT"!==O&&"TEXTAREA"!==O};E.mouseOnly=function(O){O=O.originalEvent;(0,n.assert)(void 0!==O,56);return"mouse"==O.pointerType};E.touchOnly=function(O){O=O.originalEvent;(0,n.assert)(void 0!==O,56);return"touch"===O.pointerType};E.penOnly=function(O){O=O.originalEvent;(0,n.assert)(void 0!==
O,56);return"pen"===O.pointerType};E.primaryAction=function(O){O=O.originalEvent;(0,n.assert)(void 0!==O,56);return O.isPrimary&&0===O.button}};
shadow$provide[178]=function(Ha,B,rb,E){function g(l){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"===typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h};return g(l)}function m(){if("function"!==typeof WeakMap)return null;var l=new WeakMap;m=function(){return l};return l}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var n=function(l){if(l&&l.__esModule)return l;if(null===
l||"object"!==g(l)&&"function"!==typeof l)return{"default":l};var h=m();if(h&&h.has(l))return h.get(l);var c={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor,a;for(a in l)if(Object.prototype.hasOwnProperty.call(l,a)){var f=e?Object.getOwnPropertyDescriptor(l,a):null;f&&(f.get||f.set)?Object.defineProperty(c,a,f):c[a]=l[a]}c["default"]=l;h&&h.set(l,c);return c}(B(176)),F=B(77),O=B(177),x=B(138),y=B(102),q=function(){var l=function(h,c){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&
function(e,a){e.__proto__=a}||function(e,a){for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(e[f]=a[f])};return l(h,c)};return function(h,c){function e(){this.constructor=h}l(h,c);h.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)}}();Ha=function(l){function h(c){var e=l.call(this,{stopDown:F.FALSE})||this;c=c?c:{};e.kinetic_=c.kinetic;e.lastCentroid=null;e.panning_=!1;var a=c.condition?c.condition:(0,O.all)(O.noModifierKeys,O.primaryAction);e.condition_=c.onFocusOnly?
(0,O.all)(O.focusWithTabindex,a):a;e.noKinetic_=!1;return e}q(h,l);h.prototype.handleDragEvent=function(c){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var e=this.targetPointers,a=(0,n.centroid)(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(a[0],a[1]),this.lastCentroid){var f=[this.lastCentroid[0]-a[0],a[1]-this.lastCentroid[1]],p=c.map.getView();(0,y.scale)(f,p.getResolution());(0,y.rotate)(f,p.getRotation());p.adjustCenterInternal(f)}}else this.kinetic_&&
this.kinetic_.begin();this.lastCentroid=a;this.lastPointersCount_=e.length;c.originalEvent.preventDefault()};h.prototype.handleUpEvent=function(c){var e=c.map;c=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var a=this.kinetic_.getDistance(),f=this.kinetic_.getAngle(),p=c.getCenterInternal();p=e.getPixelFromCoordinateInternal(p);e=e.getCoordinateFromPixelInternal([p[0]-a*Math.cos(f),p[1]-a*Math.sin(f)]);c.animateInternal({center:c.getConstrainedCenter(e),
duration:500,easing:x.easeOut})}this.panning_&&(this.panning_=!1,c.endInteraction());return!1}this.kinetic_&&this.kinetic_.begin();this.lastCentroid=null;return!0};h.prototype.handleDownEvent=function(c){return 0<this.targetPointers.length&&this.condition_(c)?(c=c.map.getView(),this.lastCentroid=null,c.getAnimating()&&c.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=1<this.targetPointers.length,!0):!1};return h}(n["default"]);E["default"]=Ha};
shadow$provide[179]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=function(O){return O&&O.__esModule?O:{"default":O}}(B(176));var g=B(77),m=B(177),n=B(137),F=function(){var O=function(x,y){O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,l){q.__proto__=l}||function(q,l){for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(q[h]=l[h])};return O(x,y)};return function(x,y){function q(){this.constructor=x}O(x,y);x.prototype=null===
y?Object.create(y):(q.prototype=y.prototype,new q)}}();B=function(O){function x(y){var q=y?y:{};y=O.call(this,{stopDown:g.FALSE})||this;y.condition_=q.condition?q.condition:m.altShiftKeysOnly;y.lastAngle_=void 0;y.duration_=void 0!==q.duration?q.duration:250;return y}F(x,O);x.prototype.handleDragEvent=function(y){if((0,m.mouseOnly)(y)){var q=y.map,l=q.getView();l.getConstraints().rotation!==n.disable&&(q=q.getSize(),y=y.pixel,y=Math.atan2(q[1]/2-y[1],y[0]-q[0]/2),void 0!==this.lastAngle_&&l.adjustRotationInternal(-(y-
this.lastAngle_)),this.lastAngle_=y)}};x.prototype.handleUpEvent=function(y){if(!(0,m.mouseOnly)(y))return!0;y.map.getView().endInteraction(this.duration_);return!1};x.prototype.handleDownEvent=function(y){return(0,m.mouseOnly)(y)&&(0,m.mouseActionButton)(y)&&this.condition_(y)?(y.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1};return x}(Ha["default"]);E["default"]=B};
shadow$provide[180]=function(Ha,B,rb,E){function g(F){return F&&F.__esModule?F:{"default":F}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=g(B(75));var m=g(B(156)),n=function(){var F=function(O,x){F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,q){y.__proto__=q}||function(y,q){for(var l in q)Object.prototype.hasOwnProperty.call(q,l)&&(y[l]=q[l])};return F(O,x)};return function(O,x){function y(){this.constructor=O}F(O,x);O.prototype=null===x?Object.create(x):
(y.prototype=x.prototype,new y)}}();B=function(F){function O(x){var y=F.call(this)||this;y.geometry_=null;y.element_=document.createElement("div");y.element_.style.position="absolute";y.element_.style.pointerEvents="auto";y.element_.className="ol-box "+x;y.map_=null;y.startPixel_=null;y.endPixel_=null;return y}n(O,F);O.prototype.disposeInternal=function(){this.setMap(null)};O.prototype.render_=function(){var x=this.startPixel_,y=this.endPixel_,q=this.element_.style;q.left=Math.min(x[0],y[0])+"px";
q.top=Math.min(x[1],y[1])+"px";q.width=Math.abs(y[0]-x[0])+"px";q.height=Math.abs(y[1]-x[1])+"px"};O.prototype.setMap=function(x){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var y=this.element_.style;y.left="inherit";y.top="inherit";y.width="inherit";y.height="inherit"}(this.map_=x)&&this.map_.getOverlayContainer().appendChild(this.element_)};O.prototype.setPixels=function(x,y){this.startPixel_=x;this.endPixel_=y;this.createOrUpdateGeometry();this.render_()};O.prototype.createOrUpdateGeometry=
function(){var x=this.startPixel_,y=this.endPixel_;x=[x,[x[0],y[1]],y,[y[0],x[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);x[4]=x[0].slice();this.geometry_?this.geometry_.setCoordinates([x]):this.geometry_=new m["default"]([x])};O.prototype.getGeometry=function(){return this.geometry_};return O}(Ha["default"]);E["default"]=B};
shadow$provide[181]=function(Ha,B,rb,E){function g(x){return x&&x.__esModule?x:{"default":x}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.DragBoxEvent=void 0;Ha=g(B(88));rb=g(B(176));var m=g(B(180)),n=B(177),F=function(){var x=function(y,q){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&(l[c]=h[c])};return x(y,q)};return function(y,q){function l(){this.constructor=y}x(y,
q);y.prototype=null===q?Object.create(q):(l.prototype=q.prototype,new l)}}(),O=function(x){function y(q,l,h){q=x.call(this,q)||this;q.coordinate=l;q.mapBrowserEvent=h;return q}F(y,x);return y}(Ha["default"]);E.DragBoxEvent=O;B=function(x){function y(q){var l=x.call(this)||this;q=q?q:{};l.box_=new m["default"](q.className||"ol-dragbox");l.minArea_=void 0!==q.minArea?q.minArea:64;q.onBoxEnd&&(l.onBoxEnd=q.onBoxEnd);l.startPixel_=null;l.condition_=q.condition?q.condition:n.mouseActionButton;l.boxEndCondition_=
q.boxEndCondition?q.boxEndCondition:l.defaultBoxEndCondition;return l}F(y,x);y.prototype.defaultBoxEndCondition=function(q,l,h){q=h[0]-l[0];l=h[1]-l[1];return q*q+l*l>=this.minArea_};y.prototype.getGeometry=function(){return this.box_.getGeometry()};y.prototype.handleDragEvent=function(q){this.box_.setPixels(this.startPixel_,q.pixel);this.dispatchEvent(new O("boxdrag",q.coordinate,q))};y.prototype.handleUpEvent=function(q){this.box_.setMap(null);var l=this.boxEndCondition_(q,this.startPixel_,q.pixel);
if(l)this.onBoxEnd(q);this.dispatchEvent(new O(l?"boxend":"boxcancel",q.coordinate,q));return!1};y.prototype.handleDownEvent=function(q){return this.condition_(q)?(this.startPixel_=q.pixel,this.box_.setMap(q.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new O("boxstart",q.coordinate,q)),!0):!1};y.prototype.onBoxEnd=function(q){};return y}(rb["default"]);E["default"]=B};
shadow$provide[182]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=function(O){return O&&O.__esModule?O:{"default":O}}(B(181));var g=B(84),m=B(138),n=B(177),F=function(){var O=function(x,y){O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,l){q.__proto__=l}||function(q,l){for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(q[h]=l[h])};return O(x,y)};return function(x,y){function q(){this.constructor=x}O(x,y);x.prototype=null===
y?Object.create(y):(q.prototype=y.prototype,new q)}}();B=function(O){function x(y){var q=y?y:{};y=O.call(this,{condition:q.condition?q.condition:n.shiftKeyOnly,className:q.className||"ol-dragzoom",minArea:q.minArea})||this;y.duration_=void 0!==q.duration?q.duration:200;y.out_=void 0!==q.out?q.out:!1;return y}F(x,O);x.prototype.onBoxEnd=function(y){var q=this.getMap();y=q.getView();var l=q.getSize(),h=this.getGeometry().getExtent();if(this.out_){var c=y.calculateExtentInternal(l);h=(0,g.createOrUpdateFromCoordinates)([q.getPixelFromCoordinateInternal((0,
g.getBottomLeft)(h)),q.getPixelFromCoordinateInternal((0,g.getTopRight)(h))]);h=y.getResolutionForExtentInternal(h,l);(0,g.scaleFromCenter)(c,1/h);h=c}l=y.getConstrainedResolution(y.getResolutionForExtentInternal(h,l));c=y.getConstrainedCenter((0,g.getCenter)(h),l);y.animateInternal({resolution:l,center:c,duration:this.duration_,easing:m.easeOut})};return x}(Ha["default"]);E["default"]=B};
shadow$provide[183]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={LEFT:37,UP:38,RIGHT:39,DOWN:40}};
shadow$provide[184]=function(Ha,B,rb,E){function g(h){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"===typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c};return g(h)}function m(){if("function"!==typeof WeakMap)return null;var h=new WeakMap;m=function(){return h};return h}function n(h){return h&&h.__esModule?h:{"default":h}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;
var F=n(B(92)),O=function(h){if(h&&h.__esModule)return h;if(null===h||"object"!==g(h)&&"function"!==typeof h)return{"default":h};var c=m();if(c&&c.has(h))return c.get(h);var e={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor,f;for(f in h)if(Object.prototype.hasOwnProperty.call(h,f)){var p=a?Object.getOwnPropertyDescriptor(h,f):null;p&&(p.get||p.set)?Object.defineProperty(e,f,p):e[f]=h[f]}e["default"]=h;c&&c.set(h,e);return e}(B(174)),x=n(B(183)),y=B(177),q=B(102),l=function(){var h=function(c,
e){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,f){a.__proto__=f}||function(a,f){for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(a[p]=f[p])};return h(c,e)};return function(c,e){function a(){this.constructor=c}h(c,e);c.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}}();Ha=function(h){function c(e){var a=h.call(this)||this;e=e||{};a.defaultCondition_=function(f){return(0,y.noModifierKeys)(f)&&(0,y.targetNotEditable)(f)};a.condition_=void 0!==e.condition?
e.condition:a.defaultCondition_;a.duration_=void 0!==e.duration?e.duration:100;a.pixelDelta_=void 0!==e.pixelDelta?e.pixelDelta:128;return a}l(c,h);c.prototype.handleEvent=function(e){var a=!1;if(e.type==F["default"].KEYDOWN){var f=e.originalEvent,p=f.keyCode;if(this.condition_(e)&&(p==x["default"].DOWN||p==x["default"].LEFT||p==x["default"].RIGHT||p==x["default"].UP)){e=e.map.getView();a=e.getResolution()*this.pixelDelta_;var A=0,C=0;p==x["default"].DOWN?C=-a:p==x["default"].LEFT?A=-a:p==x["default"].RIGHT?
A=a:C=a;p=[A,C];(0,q.rotate)(p,e.getRotation());(0,O.pan)(e,p,this.duration_);f.preventDefault();a=!0}}return!a};return c}(O["default"]);E["default"]=Ha};
shadow$provide[185]=function(Ha,B,rb,E){function g(y){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(q){return typeof q}:function(q){return q&&"function"===typeof Symbol&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q};return g(y)}function m(){if("function"!==typeof WeakMap)return null;var y=new WeakMap;m=function(){return y};return y}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var n=function(y){return y&&y.__esModule?y:{"default":y}}(B(92)),
F=function(y){if(y&&y.__esModule)return y;if(null===y||"object"!==g(y)&&"function"!==typeof y)return{"default":y};var q=m();if(q&&q.has(y))return q.get(y);var l={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,c;for(c in y)if(Object.prototype.hasOwnProperty.call(y,c)){var e=h?Object.getOwnPropertyDescriptor(y,c):null;e&&(e.get||e.set)?Object.defineProperty(l,c,e):l[c]=y[c]}l["default"]=y;q&&q.set(y,l);return l}(B(174)),O=B(177),x=function(){var y=function(q,l){y=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var e in c)Object.prototype.hasOwnProperty.call(c,e)&&(h[e]=c[e])};return y(q,l)};return function(q,l){function h(){this.constructor=q}y(q,l);q.prototype=null===l?Object.create(l):(h.prototype=l.prototype,new h)}}();Ha=function(y){function q(l){var h=y.call(this)||this;l=l?l:{};h.condition_=l.condition?l.condition:O.targetNotEditable;h.delta_=l.delta?l.delta:1;h.duration_=void 0!==l.duration?l.duration:100;return h}x(q,
y);q.prototype.handleEvent=function(l){var h=!1;if(l.type==n["default"].KEYDOWN||l.type==n["default"].KEYPRESS){var c=l.originalEvent,e=c.charCode;!this.condition_(l)||43!=e&&45!=e||(h=43==e?this.delta_:-this.delta_,l=l.map.getView(),(0,F.zoomByDelta)(l,h,void 0,this.duration_),c.preventDefault(),h=!0)}return!h};return q}(F["default"]);E["default"]=Ha};
shadow$provide[186]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=function(){function g(m,n,F){this.decay_=m;this.minVelocity_=n;this.delay_=F;this.points_=[];this.initialVelocity_=this.angle_=0}g.prototype.begin=function(){this.initialVelocity_=this.angle_=this.points_.length=0};g.prototype.update=function(m,n){this.points_.push(m,n,Date.now())};g.prototype.end=function(){if(6>this.points_.length)return!1;var m=Date.now()-this.delay_,n=this.points_.length-
3;if(this.points_[n+2]<m)return!1;for(var F=n-3;0<F&&this.points_[F+2]>m;)F-=3;m=this.points_[n+2]-this.points_[F+2];if(m<1E3/60)return!1;var O=this.points_[n]-this.points_[F];n=this.points_[n+1]-this.points_[F+1];this.angle_=Math.atan2(n,O);this.initialVelocity_=Math.sqrt(O*O+n*n)/m;return this.initialVelocity_>this.minVelocity_};g.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_};g.prototype.getAngle=function(){return this.angle_};return g}();E["default"]=
Ha};
shadow$provide[187]=function(Ha,B,rb,E){function g(h){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"===typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c};return g(h)}function m(){if("function"!==typeof WeakMap)return null;var h=new WeakMap;m=function(){return h};return h}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.Mode=void 0;var n=function(h){return h&&h.__esModule?h:{"default":h}}(B(92)),
F=function(h){if(h&&h.__esModule)return h;if(null===h||"object"!==g(h)&&"function"!==typeof h)return{"default":h};var c=m();if(c&&c.has(h))return c.get(h);var e={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor,f;for(f in h)if(Object.prototype.hasOwnProperty.call(h,f)){var p=a?Object.getOwnPropertyDescriptor(h,f):null;p&&(p.get||p.set)?Object.defineProperty(e,f,p):e[f]=h[f]}e["default"]=h;c&&c.set(h,e);return e}(B(174)),O=B(106),x=B(177),y=B(85),q=function(){var h=function(c,e){h=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(a,f){a.__proto__=f}||function(a,f){for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(a[p]=f[p])};return h(c,e)};return function(c,e){function a(){this.constructor=c}h(c,e);c.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}}(),l={TRACKPAD:"trackpad",WHEEL:"wheel"};E.Mode=l;Ha=function(h){function c(e){var a=e?e:{};e=h.call(this,a)||this;e.totalDelta_=0;e.lastDelta_=0;e.maxDelta_=void 0!==a.maxDelta?a.maxDelta:1;e.duration_=void 0!==
a.duration?a.duration:250;e.timeout_=void 0!==a.timeout?a.timeout:80;e.useAnchor_=void 0!==a.useAnchor?a.useAnchor:!0;e.constrainResolution_=void 0!==a.constrainResolution?a.constrainResolution:!1;var f=a.condition?a.condition:x.always;e.condition_=a.onFocusOnly?(0,x.all)(x.focusWithTabindex,f):f;e.lastAnchor_=null;e.startTime_=void 0;e.mode_=void 0;e.trackpadEventGap_=400;e.deltaPerZoom_=300;return e}q(c,h);c.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;this.getMap().getView().endInteraction(void 0,
this.lastDelta_?0<this.lastDelta_?1:-1:0,this.lastAnchor_)};c.prototype.handleEvent=function(e){if(!this.condition_(e)||e.type!==n["default"].WHEEL)return!0;var a=e.map,f=e.originalEvent;f.preventDefault();this.useAnchor_&&(this.lastAnchor_=e.coordinate);if(e.type==n["default"].WHEEL){var p=f.deltaY;O.FIREFOX&&f.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(p/=O.DEVICE_PIXEL_RATIO);f.deltaMode===WheelEvent.DOM_DELTA_LINE&&(p*=40)}if(0===p)return!1;this.lastDelta_=p;e=Date.now();void 0===this.startTime_&&
(this.startTime_=e);if(!this.mode_||e-this.startTime_>this.trackpadEventGap_)this.mode_=4>Math.abs(p)?l.TRACKPAD:l.WHEEL;f=a.getView();if(this.mode_===l.TRACKPAD&&!f.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(f.getAnimating()&&f.cancelAnimations(),f.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),f.adjustZoom(-p/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=
e,!1;this.totalDelta_+=p;p=Math.max(this.timeout_-(e-this.startTime_),0);clearTimeout(this.timeoutId_);this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,a),p);return!1};c.prototype.handleWheelZoom_=function(e){e=e.getView();e.getAnimating()&&e.cancelAnimations();var a=-(0,y.clamp)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;if(e.getConstrainResolution()||this.constrainResolution_)a=a?0<a?1:-1:0;(0,F.zoomByDelta)(e,a,this.lastAnchor_,
this.duration_);this.mode_=void 0;this.totalDelta_=0;this.lastAnchor_=null;this.timeoutId_=this.startTime_=void 0};c.prototype.setMouseAnchor=function(e){this.useAnchor_=e;e||(this.lastAnchor_=null)};return c}(F["default"]);E["default"]=Ha};
shadow$provide[188]=function(Ha,B,rb,E){function g(y){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(q){return typeof q}:function(q){return q&&"function"===typeof Symbol&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q};return g(y)}function m(){if("function"!==typeof WeakMap)return null;var y=new WeakMap;m=function(){return y};return y}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var n=function(y){if(y&&y.__esModule)return y;if(null===
y||"object"!==g(y)&&"function"!==typeof y)return{"default":y};var q=m();if(q&&q.has(y))return q.get(y);var l={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,c;for(c in y)if(Object.prototype.hasOwnProperty.call(y,c)){var e=h?Object.getOwnPropertyDescriptor(y,c):null;e&&(e.get||e.set)?Object.defineProperty(l,c,e):l[c]=y[c]}l["default"]=y;q&&q.set(y,l);return l}(B(176)),F=B(77),O=B(137),x=function(){var y=function(q,l){y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=
c}||function(h,c){for(var e in c)Object.prototype.hasOwnProperty.call(c,e)&&(h[e]=c[e])};return y(q,l)};return function(q,l){function h(){this.constructor=q}y(q,l);q.prototype=null===l?Object.create(l):(h.prototype=l.prototype,new h)}}();Ha=function(y){function q(l){var h=l?l:{};h.stopDown||(h.stopDown=F.FALSE);l=y.call(this,h)||this;l.anchor_=null;l.lastAngle_=void 0;l.rotating_=!1;l.rotationDelta_=0;l.threshold_=void 0!==h.threshold?h.threshold:.3;l.duration_=void 0!==h.duration?h.duration:250;
return l}x(q,y);q.prototype.handleDragEvent=function(l){var h=0,c=this.targetPointers[0],e=this.targetPointers[1];c=Math.atan2(e.clientY-c.clientY,e.clientX-c.clientX);void 0!==this.lastAngle_&&(h=c-this.lastAngle_,this.rotationDelta_+=h,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0));this.lastAngle_=c;l=l.map;c=l.getView();if(c.getConstraints().rotation!==O.disable){e=l.getViewport().getBoundingClientRect();var a=(0,n.centroid)(this.targetPointers);a[0]-=e.left;
a[1]-=e.top;this.anchor_=l.getCoordinateFromPixelInternal(a);this.rotating_&&(l.render(),c.adjustRotationInternal(h,this.anchor_))}};q.prototype.handleUpEvent=function(l){return 2>this.targetPointers.length?(l.map.getView().endInteraction(this.duration_),!1):!0};q.prototype.handleDownEvent=function(l){return 2<=this.targetPointers.length?(l=l.map,this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||l.getView().beginInteraction(),!0):!1};return q}(n["default"]);
E["default"]=Ha};
shadow$provide[189]=function(Ha,B,rb,E){function g(x){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"===typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y};return g(x)}function m(){if("function"!==typeof WeakMap)return null;var x=new WeakMap;m=function(){return x};return x}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var n=function(x){if(x&&x.__esModule)return x;if(null===
x||"object"!==g(x)&&"function"!==typeof x)return{"default":x};var y=m();if(y&&y.has(x))return y.get(x);var q={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,h;for(h in x)if(Object.prototype.hasOwnProperty.call(x,h)){var c=l?Object.getOwnPropertyDescriptor(x,h):null;c&&(c.get||c.set)?Object.defineProperty(q,h,c):q[h]=x[h]}q["default"]=x;y&&y.set(x,q);return q}(B(176)),F=B(77),O=function(){var x=function(y,q){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=
h}||function(l,h){for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&(l[c]=h[c])};return x(y,q)};return function(y,q){function l(){this.constructor=y}x(y,q);y.prototype=null===q?Object.create(q):(l.prototype=q.prototype,new l)}}();Ha=function(x){function y(q){var l=q?q:{};l.stopDown||(l.stopDown=F.FALSE);q=x.call(this,l)||this;q.anchor_=null;q.duration_=void 0!==l.duration?l.duration:400;q.lastDistance_=void 0;q.lastScaleDelta_=1;return q}O(y,x);y.prototype.handleDragEvent=function(q){var l=
1,h=this.targetPointers[0],c=this.targetPointers[1],e=h.clientX-c.clientX;h=h.clientY-c.clientY;e=Math.sqrt(e*e+h*h);void 0!==this.lastDistance_&&(l=this.lastDistance_/e);this.lastDistance_=e;q=q.map;e=q.getView();1!=l&&(this.lastScaleDelta_=l);h=q.getViewport().getBoundingClientRect();c=(0,n.centroid)(this.targetPointers);c[0]-=h.left;c[1]-=h.top;this.anchor_=q.getCoordinateFromPixelInternal(c);q.render();e.adjustResolutionInternal(l,this.anchor_)};y.prototype.handleUpEvent=function(q){return 2>
this.targetPointers.length?(q.map.getView().endInteraction(this.duration_,1<this.lastScaleDelta_?1:-1),!1):!0};y.prototype.handleDownEvent=function(q){return 2<=this.targetPointers.length?(q=q.map,this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||q.getView().beginInteraction(),!0):!1};return y}(n["default"]);E["default"]=Ha};
shadow$provide[190]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"}};
shadow$provide[191]=function(Ha,B,rb,E){function g(l){return l&&l.__esModule?l:{"default":l}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.DragAndDropEvent=void 0;Ha=g(B(88));var m=g(B(92)),n=g(B(190));rb=g(B(174));var F=B(77),O=B(134),x=B(93),y=function(){var l=function(h,c){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,a){e.__proto__=a}||function(e,a){for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(e[f]=a[f])};return l(h,c)};return function(h,c){function e(){this.constructor=
h}l(h,c);h.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)}}(),q=function(l){function h(c,e,a,f){c=l.call(this,c)||this;c.features=a;c.file=e;c.projection=f;return c}y(h,l);return h}(Ha["default"]);E.DragAndDropEvent=q;B=function(l){function h(c){var e=c?c:{};c=l.call(this,{handleEvent:F.TRUE})||this;c.readAsBuffer_=!1;c.formats_=[];for(var a=e.formatConstructors?e.formatConstructors:[],f=0,p=a.length;f<p;++f){var A=a[f];"function"===typeof A&&(A=new A);c.formats_.push(A);c.readAsBuffer_=
c.readAsBuffer_||A.getType()===n["default"].ARRAY_BUFFER}c.projection_=e.projection?(0,O.get)(e.projection):null;c.dropListenKeys_=null;c.source_=e.source||null;c.target=e.target?e.target:null;return c}y(h,l);h.prototype.handleResult_=function(c,e){e=e.target.result;var a=this.getMap(),f=this.projection_;f||(f=a.getView().getProjection());var p;a=this.formats_;for(var A=0,C=a.length;A<C;++A){var D=a[A],P=e;this.readAsBuffer_&&D.getType()!==n["default"].ARRAY_BUFFER&&(void 0===p&&(p=(new TextDecoder).decode(e)),
P=p);if((D=this.tryReadFeatures_(D,P,{featureProjection:f}))&&0<D.length){this.source_&&(this.source_.clear(),this.source_.addFeatures(D));this.dispatchEvent(new q("addfeatures",c,D,f));break}}};h.prototype.registerListeners_=function(){var c=this.getMap();c&&(c=this.target?this.target:c.getViewport(),this.dropListenKeys_=[(0,x.listen)(c,m["default"].DROP,this.handleDrop,this),(0,x.listen)(c,m["default"].DRAGENTER,this.handleStop,this),(0,x.listen)(c,m["default"].DRAGOVER,this.handleStop,this),(0,
x.listen)(c,m["default"].DROP,this.handleStop,this)])};h.prototype.setActive=function(c){!this.getActive()&&c&&this.registerListeners_();this.getActive()&&!c&&this.unregisterListeners_();l.prototype.setActive.call(this,c)};h.prototype.setMap=function(c){this.unregisterListeners_();l.prototype.setMap.call(this,c);this.getActive()&&this.registerListeners_()};h.prototype.tryReadFeatures_=function(c,e,a){try{return c.readFeatures(e,a)}catch(f){return null}};h.prototype.unregisterListeners_=function(){this.dropListenKeys_&&
(this.dropListenKeys_.forEach(x.unlistenByKey),this.dropListenKeys_=null)};h.prototype.handleDrop=function(c){c=c.dataTransfer.files;for(var e=0,a=c.length;e<a;++e){var f=c.item(e),p=new FileReader;p.addEventListener(m["default"].LOAD,this.handleResult_.bind(this,f));this.readAsBuffer_?p.readAsArrayBuffer(f):p.readAsText(f)}};h.prototype.handleStop=function(c){c.stopPropagation();c.preventDefault();c.dataTransfer.dropEffect="copy"};return h}(rb["default"]);E["default"]=B};
shadow$provide[192]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=function(n){return n&&n.__esModule?n:{"default":n}}(B(176));var g=B(177),m=function(){var n=function(F,O){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,y){x.__proto__=y}||function(x,y){for(var q in y)Object.prototype.hasOwnProperty.call(y,q)&&(x[q]=y[q])};return n(F,O)};return function(F,O){function x(){this.constructor=F}n(F,O);F.prototype=null===O?Object.create(O):
(x.prototype=O.prototype,new x)}}();B=function(n){function F(O){var x=O?O:{};O=n.call(this,x)||this;O.condition_=x.condition?x.condition:g.shiftKeyOnly;O.lastAngle_=void 0;O.lastMagnitude_=void 0;O.lastScaleDelta_=0;O.duration_=void 0!==x.duration?x.duration:400;return O}m(F,n);F.prototype.handleDragEvent=function(O){if((0,g.mouseOnly)(O)){var x=O.map,y=x.getSize(),q=O.pixel;O=q[0]-y[0]/2;q=y[1]/2-q[1];y=Math.atan2(q,O);O=Math.sqrt(O*O+q*q);x=x.getView();void 0!==this.lastAngle_&&x.adjustRotationInternal(this.lastAngle_-
y);this.lastAngle_=y;void 0!==this.lastMagnitude_&&x.adjustResolutionInternal(this.lastMagnitude_/O);void 0!==this.lastMagnitude_&&(this.lastScaleDelta_=this.lastMagnitude_/O);this.lastMagnitude_=O}};F.prototype.handleUpEvent=function(O){if(!(0,g.mouseOnly)(O))return!0;O.map.getView().endInteraction(this.duration_,1<this.lastScaleDelta_?1:-1);this.lastScaleDelta_=0;return!1};F.prototype.handleDownEvent=function(O){return(0,g.mouseOnly)(O)&&this.condition_(O)?(O.map.getView().beginInteraction(),this.lastMagnitude_=
this.lastAngle_=void 0,!0):!1};return F}(Ha["default"]);E["default"]=B};
shadow$provide[193]=function(Ha,B,rb,E){function g(y){return y&&y.__esModule?y:{"default":y}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var m=g(B(123));Ha=g(B(142));var n=B(84),F=B(144),O=B(140),x=function(){var y=function(q,l){y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var e in c)Object.prototype.hasOwnProperty.call(c,e)&&(h[e]=c[e])};return y(q,l)};return function(q,l){function h(){this.constructor=q}y(q,l);
q.prototype=null===l?Object.create(l):(h.prototype=l.prototype,new h)}}();B=function(y){function q(l,h,c){var e=y.call(this)||this;void 0!==c&&void 0===h?e.setFlatCoordinates(c,l):e.setCenterAndRadius(l,h?h:0,c);return e}x(q,y);q.prototype.clone=function(){var l=new q(this.flatCoordinates.slice(),void 0,this.layout);l.applyProperties(this);return l};q.prototype.closestPointXY=function(l,h,c,e){var a=this.flatCoordinates;l-=a[0];var f=h-a[1];h=l*l+f*f;if(h<e){0===h?e=0:(e=this.getRadius()/Math.sqrt(h),
c[0]=a[0]+e*l,c[1]=a[1]+e*f,e=2);for(;e<this.stride;++e)c[e]=a[e];c.length=this.stride;return h}return e};q.prototype.containsXY=function(l,h){var c=this.flatCoordinates;l-=c[0];h-=c[1];return l*l+h*h<=this.getRadiusSquared_()};q.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)};q.prototype.computeExtent=function(l){var h=this.flatCoordinates,c=h[this.stride]-h[0];return(0,n.createOrUpdate)(h[0]-c,h[1]-c,h[0]+c,h[1]+c,l)};q.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())};
q.prototype.getRadiusSquared_=function(){var l=this.flatCoordinates[this.stride]-this.flatCoordinates[0],h=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return l*l+h*h};q.prototype.getType=function(){return m["default"].CIRCLE};q.prototype.intersectsExtent=function(l){var h=this.getExtent();return(0,n.intersects)(l,h)?(h=this.getCenter(),l[0]<=h[0]&&l[2]>=h[0]||l[1]<=h[1]&&l[3]>=h[1]?!0:(0,n.forEachCorner)(l,this.intersectsCoordinate.bind(this))):!1};q.prototype.setCenter=function(l){var h=
this.stride,c=this.flatCoordinates[h]-this.flatCoordinates[0],e=l.slice();e[h]=e[0]+c;for(c=1;c<h;++c)e[h+c]=l[c];this.setFlatCoordinates(this.layout,e);this.changed()};q.prototype.setCenterAndRadius=function(l,h,c){this.setLayout(c,l,0);this.flatCoordinates||(this.flatCoordinates=[]);c=this.flatCoordinates;l=(0,F.deflateCoordinate)(c,0,l,this.stride);c[l++]=c[0]+h;h=1;for(var e=this.stride;h<e;++h)c[l++]=c[h];c.length=l;this.changed()};q.prototype.getCoordinates=function(){return null};q.prototype.setCoordinates=
function(l,h){};q.prototype.setRadius=function(l){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+l;this.changed()};q.prototype.rotate=function(l,h){var c=this.getCenter(),e=this.getStride();this.setCenter((0,O.rotate)(c,0,c.length,e,l,h,c));this.changed()};q.prototype.translate=function(l,h){var c=this.getCenter(),e=this.getStride();this.setCenter((0,O.translate)(c,0,c.length,e,l,h,c));this.changed()};return q}(Ha["default"]);E["default"]=B};
shadow$provide[194]=function(Ha,B,rb,E){function g(l){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"===typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h};return g(l)}function m(){if("function"!==typeof WeakMap)return null;var l=new WeakMap;m=function(){return l};return l}function n(l){if("function"===typeof l)return l;if(Array.isArray(l))var h=l;else(0,x.assert)("function"===typeof l.getZIndex,
41),h=[l];return function(){return h}}Object.defineProperty(E,"__esModule",{value:!0});E.createStyleFunction=n;E["default"]=void 0;var F=function(l){if(l&&l.__esModule)return l;if(null===l||"object"!==g(l)&&"function"!==typeof l)return{"default":l};var h=m();if(h&&h.has(l))return h.get(l);var c={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor,a;for(a in l)if(Object.prototype.hasOwnProperty.call(l,a)){var f=e?Object.getOwnPropertyDescriptor(l,a):null;f&&(f.get||f.set)?Object.defineProperty(c,
a,f):c[a]=l[a]}c["default"]=l;h&&h.set(l,c);return c}(B(95)),O=function(l){return l&&l.__esModule?l:{"default":l}}(B(92)),x=B(80),y=B(93),q=function(){var l=function(h,c){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,a){e.__proto__=a}||function(e,a){for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(e[f]=a[f])};return l(h,c)};return function(h,c){function e(){this.constructor=h}l(h,c);h.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)}}();Ha=function(l){function h(c){var e=
l.call(this)||this;e.id_=void 0;e.geometryName_="geometry";e.style_=null;e.styleFunction_=void 0;e.geometryChangeKey_=null;e.addEventListener((0,F.getChangeEventType)(e.geometryName_),e.handleGeometryChanged_);c&&("function"===typeof c.getSimplifiedGeometry?e.setGeometry(c):e.setProperties(c));return e}q(h,l);h.prototype.clone=function(){var c=new h(this.hasProperties()?this.getProperties():null);c.setGeometryName(this.getGeometryName());var e=this.getGeometry();e&&c.setGeometry(e.clone());(e=this.getStyle())&&
c.setStyle(e);return c};h.prototype.getGeometry=function(){return this.get(this.geometryName_)};h.prototype.getId=function(){return this.id_};h.prototype.getGeometryName=function(){return this.geometryName_};h.prototype.getStyle=function(){return this.style_};h.prototype.getStyleFunction=function(){return this.styleFunction_};h.prototype.handleGeometryChange_=function(){this.changed()};h.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&((0,y.unlistenByKey)(this.geometryChangeKey_),
this.geometryChangeKey_=null);var c=this.getGeometry();c&&(this.geometryChangeKey_=(0,y.listen)(c,O["default"].CHANGE,this.handleGeometryChange_,this));this.changed()};h.prototype.setGeometry=function(c){this.set(this.geometryName_,c)};h.prototype.setStyle=function(c){this.styleFunction_=(this.style_=c)?n(c):void 0;this.changed()};h.prototype.setId=function(c){this.id_=c;this.changed()};h.prototype.setGeometryName=function(c){this.removeEventListener((0,F.getChangeEventType)(this.geometryName_),this.handleGeometryChanged_);
this.geometryName_=c;this.addEventListener((0,F.getChangeEventType)(this.geometryName_),this.handleGeometryChanged_);this.handleGeometryChanged_()};return h}(F["default"]);E["default"]=Ha};
shadow$provide[195]=function(Ha,B,rb,E){function g(F,O,x,y,q,l){if(x==O)return null;if(q<F[O+y-1])return l?(x=F.slice(O,O+y),x[y-1]=q,x):null;if(F[x-1]<q)return l?(x=F.slice(x-y,x),x[y-1]=q,x):null;if(q==F[O+y-1])return F.slice(O,O+y);O/=y;for(x/=y;O<x;)l=O+x>>1,q<F[(l+1)*y-1]?x=l:O=l+1;x=F[O*y-1];if(q==x)return F.slice((O-1)*y,(O-1)*y+y);l=(q-x)/(F[(O+1)*y-1]-x);x=[];for(var h=0;h<y-1;++h)x.push((0,n.lerp)(F[(O-1)*y+h],F[O*y+h],l));x.push(q);return x}Object.defineProperty(E,"__esModule",{value:!0});
E.interpolatePoint=function(F,O,x,y,q,l,h){var c=(x-O)/y;if(1===c)var e=O;else if(2===c){e=O;var a=q}else if(0!==c){var f=F[O],p=F[O+1],A=0;e=[0];for(c=O+y;c<x;c+=y){var C=F[c],D=F[c+1];A+=Math.sqrt((C-f)*(C-f)+(D-p)*(D-p));e.push(A);f=C;p=D}c=q*A;x=(0,m.binarySearch)(e,c);0>x?(a=(c-e[-x-2])/(e[-x-1]-e[-x-2]),e=O+(-x-2)*y):e=O+x*y}O=1<h?h:2;l=l?l:Array(O);for(c=0;c<O;++c)l[c]=void 0===e?NaN:void 0===a?F[e+c]:(0,n.lerp)(F[e+c],F[e+y+c],a);return l};E.lineStringCoordinateAtM=g;E.lineStringsCoordinateAtM=
function(F,O,x,y,q,l,h){if(h)return g(F,O,x[x.length-1],y,q,l);if(q<F[y-1])return l?(F=F.slice(0,y),F[y-1]=q,F):null;if(F[F.length-1]<q)return l?(F=F.slice(F.length-y),F[y-1]=q,F):null;l=0;for(h=x.length;l<h;++l){var c=x[l];if(O!=c){if(q<F[O+y-1])break;else if(q<=F[c-1])return g(F,O,c,y,q,!1);O=c}}return null};var m=B(76),n=B(85)};
shadow$provide[196]=function(Ha,B,rb,E){function g(m,n,F,O){var x=m[n],y=m[n+1],q=0;for(n+=O;n<F;n+=O){var l=m[n],h=m[n+1];q+=Math.sqrt((l-x)*(l-x)+(h-y)*(h-y));x=l;y=h}return q}Object.defineProperty(E,"__esModule",{value:!0});E.lineStringLength=g;E.linearRingLength=function(m,n,F,O){var x=g(m,n,F,O),y=m[F-O]-m[n];m=m[F-O+1]-m[n+1];return x+=Math.sqrt(y*y+m*m)}};
shadow$provide[197]=function(Ha,B,rb,E){function g(p){return p&&p.__esModule?p:{"default":p}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var m=g(B(139)),n=g(B(123));Ha=g(B(142));var F=B(143),O=B(84),x=B(144),y=B(145),q=B(76),l=B(152),h=B(146),c=B(195),e=B(153),a=B(196),f=function(){var p=function(A,C){p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,P){D.__proto__=P}||function(D,P){for(var L in P)Object.prototype.hasOwnProperty.call(P,L)&&(D[L]=P[L])};return p(A,
C)};return function(A,C){function D(){this.constructor=A}p(A,C);A.prototype=null===C?Object.create(C):(D.prototype=C.prototype,new D)}}();B=function(p){function A(C,D){var P=p.call(this)||this;P.flatMidpoint_=null;P.flatMidpointRevision_=-1;P.maxDelta_=-1;P.maxDeltaRevision_=-1;void 0===D||Array.isArray(C[0])?P.setCoordinates(C,D):P.setFlatCoordinates(D,C);return P}f(A,p);A.prototype.appendCoordinate=function(C){this.flatCoordinates?(0,q.extend)(this.flatCoordinates,C):this.flatCoordinates=C.slice();
this.changed()};A.prototype.clone=function(){var C=new A(this.flatCoordinates.slice(),this.layout);C.applyProperties(this);return C};A.prototype.closestPointXY=function(C,D,P,L){if(L<(0,O.closestSquaredDistanceXY)(this.getExtent(),C,D))return L;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,F.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,F.assignClosestPoint)(this.flatCoordinates,0,
this.flatCoordinates.length,this.stride,this.maxDelta_,!1,C,D,P,L)};A.prototype.forEachSegment=function(C){return(0,l.forEach)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,C)};A.prototype.getCoordinateAtM=function(C,D){if(this.layout!=m["default"].XYM&&this.layout!=m["default"].XYZM)return null;D=void 0!==D?D:!1;return(0,c.lineStringCoordinateAtM)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,C,D)};A.prototype.getCoordinates=function(){return(0,h.inflateCoordinates)(this.flatCoordinates,
0,this.flatCoordinates.length,this.stride)};A.prototype.getCoordinateAt=function(C,D){return(0,c.interpolatePoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,C,D,this.stride)};A.prototype.getLength=function(){return(0,a.lineStringLength)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};A.prototype.getFlatMidpoint=function(){this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=
this.getRevision());return this.flatMidpoint_};A.prototype.getSimplifiedGeometryInternal=function(C){var D=[];D.length=(0,y.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,C,D,0);return new A(D,m["default"].XY)};A.prototype.getType=function(){return n["default"].LINE_STRING};A.prototype.intersectsExtent=function(C){return(0,e.intersectsLineString)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,C)};A.prototype.setCoordinates=function(C,D){this.setLayout(D,
C,1);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,x.deflateCoordinates)(this.flatCoordinates,0,C,this.stride);this.changed()};return A}(Ha["default"]);E["default"]=B};
shadow$provide[198]=function(Ha,B,rb,E){function g(f){return f&&f.__esModule?f:{"default":f}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var m=g(B(139)),n=g(B(123)),F=g(B(197));Ha=g(B(142));var O=B(143),x=B(84),y=B(144),q=B(145),l=B(76),h=B(146),c=B(195),e=B(153),a=function(){var f=function(p,A){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,D){C.__proto__=D}||function(C,D){for(var P in D)Object.prototype.hasOwnProperty.call(D,P)&&(C[P]=D[P])};return f(p,
A)};return function(p,A){function C(){this.constructor=p}f(p,A);p.prototype=null===A?Object.create(A):(C.prototype=A.prototype,new C)}}();B=function(f){function p(A,C,D){var P=f.call(this)||this;P.ends_=[];P.maxDelta_=-1;P.maxDeltaRevision_=-1;if(Array.isArray(A[0]))P.setCoordinates(A,C);else if(void 0!==C&&D)P.setFlatCoordinates(C,A),P.ends_=D;else{C=P.getLayout();D=[];for(var L=[],G=0,z=A.length;G<z;++G){var J=A[G];0===G&&(C=J.getLayout());(0,l.extend)(D,J.getFlatCoordinates());L.push(D.length)}P.setFlatCoordinates(C,
D);P.ends_=L}return P}a(p,f);p.prototype.appendLineString=function(A){this.flatCoordinates?(0,l.extend)(this.flatCoordinates,A.getFlatCoordinates().slice()):this.flatCoordinates=A.getFlatCoordinates().slice();this.ends_.push(this.flatCoordinates.length);this.changed()};p.prototype.clone=function(){var A=new p(this.flatCoordinates.slice(),this.layout,this.ends_.slice());A.applyProperties(this);return A};p.prototype.closestPointXY=function(A,C,D,P){if(P<(0,x.closestSquaredDistanceXY)(this.getExtent(),
A,C))return P;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,O.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,O.assignClosestArrayPoint)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,A,C,D,P)};p.prototype.getCoordinateAtM=function(A,C,D){if(this.layout!=m["default"].XYM&&this.layout!=m["default"].XYZM||0===this.flatCoordinates.length)return null;C=void 0!==C?C:!1;D=void 0!==D?D:
!1;return(0,c.lineStringsCoordinateAtM)(this.flatCoordinates,0,this.ends_,this.stride,A,C,D)};p.prototype.getCoordinates=function(){return(0,h.inflateCoordinatesArray)(this.flatCoordinates,0,this.ends_,this.stride)};p.prototype.getEnds=function(){return this.ends_};p.prototype.getLineString=function(A){return 0>A||this.ends_.length<=A?null:new F["default"](this.flatCoordinates.slice(0===A?0:this.ends_[A-1],this.ends_[A]),this.layout)};p.prototype.getLineStrings=function(){for(var A=this.flatCoordinates,
C=this.ends_,D=this.layout,P=[],L=0,G=0,z=C.length;G<z;++G){var J=C[G];L=new F["default"](A.slice(L,J),D);P.push(L);L=J}return P};p.prototype.getFlatMidpoints=function(){for(var A=[],C=this.flatCoordinates,D=0,P=this.ends_,L=this.stride,G=0,z=P.length;G<z;++G){var J=P[G];D=(0,c.interpolatePoint)(C,D,J,L,.5);(0,l.extend)(A,D);D=J}return A};p.prototype.getSimplifiedGeometryInternal=function(A){var C=[],D=[];C.length=(0,q.douglasPeuckerArray)(this.flatCoordinates,0,this.ends_,this.stride,A,C,0,D);return new p(C,
m["default"].XY,D)};p.prototype.getType=function(){return n["default"].MULTI_LINE_STRING};p.prototype.intersectsExtent=function(A){return(0,e.intersectsLineStringArray)(this.flatCoordinates,0,this.ends_,this.stride,A)};p.prototype.setCoordinates=function(A,C){this.setLayout(C,A,2);this.flatCoordinates||(this.flatCoordinates=[]);A=(0,y.deflateCoordinatesArray)(this.flatCoordinates,0,A,this.stride,this.ends_);this.flatCoordinates.length=0===A.length?0:A[A.length-1];this.changed()};return p}(Ha["default"]);
E["default"]=B};
shadow$provide[199]=function(Ha,B,rb,E){function g(h){return h&&h.__esModule?h:{"default":h}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var m=g(B(123)),n=g(B(149));Ha=g(B(142));var F=B(84),O=B(144),x=B(76),y=B(146),q=B(85),l=function(){var h=function(c,e){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,f){a.__proto__=f}||function(a,f){for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(a[p]=f[p])};return h(c,e)};return function(c,e){function a(){this.constructor=
c}h(c,e);c.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}}();B=function(h){function c(e,a){var f=h.call(this)||this;a&&!Array.isArray(e[0])?f.setFlatCoordinates(a,e):f.setCoordinates(e,a);return f}l(c,h);c.prototype.appendPoint=function(e){this.flatCoordinates?(0,x.extend)(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice();this.changed()};c.prototype.clone=function(){var e=new c(this.flatCoordinates.slice(),this.layout);e.applyProperties(this);
return e};c.prototype.closestPointXY=function(e,a,f,p){if(p<(0,F.closestSquaredDistanceXY)(this.getExtent(),e,a))return p;for(var A=this.flatCoordinates,C=this.stride,D=0,P=A.length;D<P;D+=C){var L=(0,q.squaredDistance)(e,a,A[D],A[D+1]);if(L<p){p=L;for(L=0;L<C;++L)f[L]=A[D+L];f.length=C}}return p};c.prototype.getCoordinates=function(){return(0,y.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};c.prototype.getPoint=function(e){var a=this.flatCoordinates?this.flatCoordinates.length/
this.stride:0;return 0>e||a<=e?null:new n["default"](this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)};c.prototype.getPoints=function(){for(var e=this.flatCoordinates,a=this.layout,f=this.stride,p=[],A=0,C=e.length;A<C;A+=f){var D=new n["default"](e.slice(A,A+f),a);p.push(D)}return p};c.prototype.getType=function(){return m["default"].MULTI_POINT};c.prototype.intersectsExtent=function(e){for(var a=this.flatCoordinates,f=this.stride,p=0,A=a.length;p<A;p+=f){var C=a[p],D=a[p+
1];if((0,F.containsXY)(e,C,D))return!0}return!1};c.prototype.setCoordinates=function(e,a){this.setLayout(a,e,1);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,O.deflateCoordinates)(this.flatCoordinates,0,e,this.stride);this.changed()};return c}(Ha["default"]);E["default"]=B};
shadow$provide[200]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.linearRingss=function(m,n,F,O){var x=[];(0,g.createEmpty)();for(var y=0,q=F.length;y<q;++y){var l=F[y];n=(0,g.createOrUpdateFromFlatCoordinates)(m,n,l[0],O);x.push((n[0]+n[2])/2,(n[1]+n[3])/2);n=l[l.length-1]}return x};var g=B(84)};
shadow$provide[201]=function(Ha,B,rb,E){function g(P){return P&&P.__esModule?P:{"default":P}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var m=g(B(139)),n=g(B(123)),F=g(B(199)),O=g(B(156));Ha=g(B(142));var x=B(143),y=B(84),q=B(144),l=B(76),h=B(151),c=B(146),e=B(153),a=B(155),f=B(147),p=B(200),A=B(150),C=B(145),D=function(){var P=function(L,G){P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,J){z.__proto__=J}||function(z,J){for(var K in J)Object.prototype.hasOwnProperty.call(J,
K)&&(z[K]=J[K])};return P(L,G)};return function(L,G){function z(){this.constructor=L}P(L,G);L.prototype=null===G?Object.create(G):(z.prototype=G.prototype,new z)}}();B=function(P){function L(G,z,J){var K=P.call(this)||this;K.endss_=[];K.flatInteriorPointsRevision_=-1;K.flatInteriorPoints_=null;K.maxDelta_=-1;K.maxDeltaRevision_=-1;K.orientedRevision_=-1;K.orientedFlatCoordinates_=null;if(!J&&!Array.isArray(G[0])){z=K.getLayout();var R=G;G=[];J=[];for(var U=0,ka=R.length;U<ka;++U){var ba=R[U];0===
U&&(z=ba.getLayout());for(var da=G.length,ja=ba.getEnds(),Z=0,Q=ja.length;Z<Q;++Z)ja[Z]+=da;(0,l.extend)(G,ba.getFlatCoordinates());J.push(ja)}}void 0!==z&&J?(K.setFlatCoordinates(z,G),K.endss_=J):K.setCoordinates(G,z);return K}D(L,P);L.prototype.appendPolygon=function(G){if(this.flatCoordinates){var z=this.flatCoordinates.length;(0,l.extend)(this.flatCoordinates,G.getFlatCoordinates());G=G.getEnds().slice();for(var J=0,K=G.length;J<K;++J)G[J]+=z}else this.flatCoordinates=G.getFlatCoordinates().slice(),
G=G.getEnds().slice(),this.endss_.push();this.endss_.push(G);this.changed()};L.prototype.clone=function(){for(var G=this.endss_.length,z=Array(G),J=0;J<G;++J)z[J]=this.endss_[J].slice();G=new L(this.flatCoordinates.slice(),this.layout,z);G.applyProperties(this);return G};L.prototype.closestPointXY=function(G,z,J,K){if(K<(0,y.closestSquaredDistanceXY)(this.getExtent(),G,z))return K;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,x.multiArrayMaxSquaredDelta)(this.flatCoordinates,
0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,x.assignClosestMultiArrayPoint)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,G,z,J,K)};L.prototype.containsXY=function(G,z){return(0,A.linearRingssContainsXY)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,G,z)};L.prototype.getArea=function(){return(0,f.linearRingss)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)};L.prototype.getCoordinates=function(G){if(void 0!==
G){var z=this.getOrientedFlatCoordinates().slice();(0,a.orientLinearRingsArray)(z,0,this.endss_,this.stride,G)}else z=this.flatCoordinates;return(0,c.inflateMultiCoordinatesArray)(z,0,this.endss_,this.stride)};L.prototype.getEndss=function(){return this.endss_};L.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var G=(0,p.linearRingss)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=(0,h.getInteriorPointsOfMultiArray)(this.getOrientedFlatCoordinates(),
0,this.endss_,this.stride,G);this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_};L.prototype.getInteriorPoints=function(){return new F["default"](this.getFlatInteriorPoints().slice(),m["default"].XYM)};L.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var G=this.flatCoordinates;(0,a.linearRingssAreOriented)(G,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=G:(this.orientedFlatCoordinates_=G.slice(),this.orientedFlatCoordinates_.length=
(0,a.orientLinearRingsArray)(this.orientedFlatCoordinates_,0,this.endss_,this.stride));this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_};L.prototype.getSimplifiedGeometryInternal=function(G){var z=[],J=[];z.length=(0,C.quantizeMultiArray)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(G),z,0,J);return new L(z,m["default"].XY,J)};L.prototype.getPolygon=function(G){if(0>G||this.endss_.length<=G)return null;if(0===G)var z=0;else z=this.endss_[G-1],z=z[z.length-
1];G=this.endss_[G].slice();var J=G[G.length-1];if(0!==z)for(var K=0,R=G.length;K<R;++K)G[K]-=z;return new O["default"](this.flatCoordinates.slice(z,J),this.layout,G)};L.prototype.getPolygons=function(){for(var G=this.layout,z=this.flatCoordinates,J=this.endss_,K=[],R=0,U=0,ka=J.length;U<ka;++U){var ba=J[U].slice(),da=ba[ba.length-1];if(0!==R)for(var ja=0,Z=ba.length;ja<Z;++ja)ba[ja]-=R;R=new O["default"](z.slice(R,da),G,ba);K.push(R);R=da}return K};L.prototype.getType=function(){return n["default"].MULTI_POLYGON};
L.prototype.intersectsExtent=function(G){return(0,e.intersectsLinearRingMultiArray)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,G)};L.prototype.setCoordinates=function(G,z){this.setLayout(z,G,3);this.flatCoordinates||(this.flatCoordinates=[]);G=(0,q.deflateMultiCoordinatesArray)(this.flatCoordinates,0,G,this.stride,this.endss_);0===G.length?this.flatCoordinates.length=0:(G=G[G.length-1],this.flatCoordinates.length=0===G.length?0:G[G.length-1]);this.changed()};return L}(Ha["default"]);
E["default"]=B};
shadow$provide[202]=function(Ha,B,rb,E){!function(g,m){"object"==typeof E&&"undefined"!=typeof rb?rb.exports=m():"function"==typeof define&&define.amd?define(m):(g=g||self).RBush=m()}(this,function(){function g(A,C,D,P,L){!function ka(z,J,K,R,U){for(;R>K;){if(600<R-K){var ba=R-K+1,da=J-K+1,ja=Math.log(ba),Z=.5*Math.exp(2*ja/3);ja=.5*Math.sqrt(ja*Z*(ba-Z)/ba)*(0>da-ba/2?-1:1);ka(z,J,Math.max(K,Math.floor(J-da*Z/ba+ja)),Math.min(R,Math.floor(J+(ba-da)*Z/ba+ja)),U)}ba=z[J];da=K;Z=R;m(z,K,J);for(0<U(z[R],
ba)&&m(z,K,R);da<Z;){m(z,da,Z);da++;for(Z--;0>U(z[da],ba);)da++;for(;0<U(z[Z],ba);)Z--}0===U(z[K],ba)?m(z,K,Z):m(z,++Z,R);Z<=J&&(K=Z+1);J<=Z&&(R=Z-1)}}(A,C,D||0,P||A.length-1,L||n)}function m(A,C,D){var P=A[C];A[C]=A[D];A[D]=P}function n(A,C){return A<C?-1:A>C?1:0}function F(A,C){O(A,0,A.children.length,C,A)}function O(A,C,D,P,L){L||(L=a(null));L.minX=1/0;L.minY=1/0;L.maxX=-1/0;for(L.maxY=-1/0;C<D;C++){var G=A.children[C];x(L,A.leaf?P(G):G)}return L}function x(A,C){return A.minX=Math.min(A.minX,C.minX),
A.minY=Math.min(A.minY,C.minY),A.maxX=Math.max(A.maxX,C.maxX),A.maxY=Math.max(A.maxY,C.maxY),A}function y(A,C){return A.minX-C.minX}function q(A,C){return A.minY-C.minY}function l(A){return(A.maxX-A.minX)*(A.maxY-A.minY)}function h(A){return A.maxX-A.minX+(A.maxY-A.minY)}function c(A,C){return A.minX<=C.minX&&A.minY<=C.minY&&C.maxX<=A.maxX&&C.maxY<=A.maxY}function e(A,C){return C.minX<=A.maxX&&C.minY<=A.maxY&&C.maxX>=A.minX&&C.maxY>=A.minY}function a(A){return{children:A,height:1,leaf:!0,minX:1/0,
minY:1/0,maxX:-1/0,maxY:-1/0}}function f(A,C,D,P,L){for(var G=[C,D];G.length;)if(!((D=G.pop())-(C=G.pop())<=P)){var z=C+Math.ceil((D-C)/P/2)*P;g(A,z,C,D,L);G.push(C,z,z,D)}}var p=function(A){void 0===A&&(A=9);this._maxEntries=Math.max(4,A);this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries));this.clear()};return p.prototype.all=function(){return this._all(this.data,[])},p.prototype.search=function(A){var C=this.data,D=[];if(!e(A,C))return D;for(var P=this.toBBox,L=[];C;){for(var G=0;G<C.children.length;G++){var z=
C.children[G],J=C.leaf?P(z):z;e(A,J)&&(C.leaf?D.push(z):c(A,J)?this._all(z,D):L.push(z))}C=L.pop()}return D},p.prototype.collides=function(A){var C=this.data;if(!e(A,C))return!1;for(var D=[];C;){for(var P=0;P<C.children.length;P++){var L=C.children[P],G=C.leaf?this.toBBox(L):L;if(e(A,G)){if(C.leaf||c(A,G))return!0;D.push(L)}}C=D.pop()}return!1},p.prototype.load=function(A){if(!A||!A.length)return this;if(A.length<this._minEntries){for(var C=0;C<A.length;C++)this.insert(A[C]);return this}A=this._build(A.slice(),
0,A.length-1,0);this.data.children.length?this.data.height===A.height?this._splitRoot(this.data,A):(this.data.height<A.height&&(C=this.data,this.data=A,A=C),this._insert(A,this.data.height-A.height-1,!0)):this.data=A;return this},p.prototype.insert=function(A){return A&&this._insert(A,this.data.height-1),this},p.prototype.clear=function(){return this.data=a([]),this},p.prototype.remove=function(A,C){if(!A)return this;for(var D,P,L,G=this.data,z=this.toBBox(A),J=[],K=[];G||J.length;){if(G||(G=J.pop(),
P=J[J.length-1],D=K.pop(),L=!0),G.leaf){a:{var R=A;var U=G.children,ka=C;if(ka){for(var ba=0;ba<U.length;ba++)if(ka(R,U[ba])){R=ba;break a}R=-1}else R=U.indexOf(R)}if(-1!==R)return G.children.splice(R,1),J.push(G),this._condense(J),this}L||G.leaf||!c(G,z)?P?(D++,G=P.children[D],L=!1):G=null:(J.push(G),K.push(D),D=0,P=G,G=G.children[0])}return this},p.prototype.toBBox=function(A){return A},p.prototype.compareMinX=function(A,C){return A.minX-C.minX},p.prototype.compareMinY=function(A,C){return A.minY-
C.minY},p.prototype.toJSON=function(){return this.data},p.prototype.fromJSON=function(A){return this.data=A,this},p.prototype._all=function(A,C){for(var D=[];A;)A.leaf?C.push.apply(C,A.children):D.push.apply(D,A.children),A=D.pop();return C},p.prototype._build=function(A,C,D,P){var L,G=D-C+1,z=this._maxEntries;if(G<=z)return F(L=a(A.slice(C,D+1)),this.toBBox),L;P||(P=Math.ceil(Math.log(G)/Math.log(z)),z=Math.ceil(G/Math.pow(z,P-1)));(L=a([])).leaf=!1;L.height=P;G=Math.ceil(G/z);z=G*Math.ceil(Math.sqrt(z));
for(f(A,C,D,z,this.compareMinX);C<=D;C+=z){var J=Math.min(C+z-1,D);f(A,C,J,G,this.compareMinY);for(var K=C;K<=J;K+=G)L.children.push(this._build(A,K,Math.min(K+G-1,J),P-1))}return F(L,this.toBBox),L},p.prototype._chooseSubtree=function(A,C,D,P){for(;P.push(C),!C.leaf&&P.length-1!==D;){for(var L=1/0,G=1/0,z=void 0,J=0;J<C.children.length;J++){var K=C.children[J],R=l(K),U=(ka=A,ba=K,(Math.max(ba.maxX,ka.maxX)-Math.min(ba.minX,ka.minX))*(Math.max(ba.maxY,ka.maxY)-Math.min(ba.minY,ka.minY))-R);U<G?(G=
U,L=R<L?R:L,z=K):U===G&&R<L&&(L=R,z=K)}C=z||C.children[0]}var ka,ba;return C},p.prototype._insert=function(A,C,D){D=D?A:this.toBBox(A);var P=[],L=this._chooseSubtree(D,this.data,C,P);L.children.push(A);for(x(L,D);0<=C&&P[C].children.length>this._maxEntries;)this._split(P,C),C--;this._adjustParentBBoxes(D,P,C)},p.prototype._split=function(A,C){var D=A[C],P=D.children.length,L=this._minEntries;this._chooseSplitAxis(D,L,P);P=this._chooseSplitIndex(D,L,P);P=a(D.children.splice(P,D.children.length-P));
P.height=D.height;P.leaf=D.leaf;F(D,this.toBBox);F(P,this.toBBox);C?A[C-1].children.push(P):this._splitRoot(D,P)},p.prototype._splitRoot=function(A,C){this.data=a([A,C]);this.data.height=A.height+1;this.data.leaf=!1;F(this.data,this.toBBox)},p.prototype._chooseSplitIndex=function(A,C,D){for(var P,L,G,z,J,K,R,U=1/0,ka=1/0,ba=C;ba<=D-C;ba++){var da=O(A,0,ba,this.toBBox),ja=O(A,ba,D,this.toBBox),Z=(L=da,G=ja,z=void 0,J=void 0,K=void 0,R=void 0,z=Math.max(L.minX,G.minX),J=Math.max(L.minY,G.minY),K=Math.min(L.maxX,
G.maxX),R=Math.min(L.maxY,G.maxY),Math.max(0,K-z)*Math.max(0,R-J));da=l(da)+l(ja);Z<U?(U=Z,P=ba,ka=da<ka?da:ka):Z===U&&da<ka&&(ka=da,P=ba)}return P||D-C},p.prototype._chooseSplitAxis=function(A,C,D){var P=A.leaf?this.compareMinX:y,L=A.leaf?this.compareMinY:q;this._allDistMargin(A,C,D,P)<this._allDistMargin(A,C,D,L)&&A.children.sort(P)},p.prototype._allDistMargin=function(A,C,D,P){A.children.sort(P);P=this.toBBox;for(var L=O(A,0,C,P),G=O(A,D-C,D,P),z=h(L)+h(G),J=C;J<D-C;J++){var K=A.children[J];x(L,
A.leaf?P(K):K);z+=h(L)}for(D=D-C-1;D>=C;D--)L=A.children[D],x(G,A.leaf?P(L):L),z+=h(G);return z},p.prototype._adjustParentBBoxes=function(A,C,D){for(;0<=D;D--)x(C[D],A)},p.prototype._condense=function(A){for(var C=A.length-1,D=void 0;0<=C;C--)0===A[C].children.length?0<C?(D=A[C-1].children).splice(D.indexOf(A[C]),1):this.clear():F(A[C],this.toBBox)},p})};
shadow$provide[203]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}};
shadow$provide[204]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var g=B(78),m=B(158);Ha=function(){function n(F){this.opacity_=F.opacity;this.rotateWithView_=F.rotateWithView;this.rotation_=F.rotation;this.scale_=F.scale;this.scaleArray_=(0,m.toSize)(F.scale);this.displacement_=F.displacement}n.prototype.clone=function(){var F=this.getScale();return new n({opacity:this.getOpacity(),scale:Array.isArray(F)?F.slice():F,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),
displacement:this.getDisplacement().slice()})};n.prototype.getOpacity=function(){return this.opacity_};n.prototype.getRotateWithView=function(){return this.rotateWithView_};n.prototype.getRotation=function(){return this.rotation_};n.prototype.getScale=function(){return this.scale_};n.prototype.getScaleArray=function(){return this.scaleArray_};n.prototype.getDisplacement=function(){return this.displacement_};n.prototype.getAnchor=function(){return(0,g["abstract"])()};n.prototype.getImage=function(F){return(0,
g["abstract"])()};n.prototype.getHitDetectionImage=function(){return(0,g["abstract"])()};n.prototype.getPixelRatio=function(F){return 1};n.prototype.getImageState=function(){return(0,g["abstract"])()};n.prototype.getImageSize=function(){return(0,g["abstract"])()};n.prototype.getHitDetectionImageSize=function(){return(0,g["abstract"])()};n.prototype.getOrigin=function(){return(0,g["abstract"])()};n.prototype.getSize=function(){return(0,g["abstract"])()};n.prototype.setOpacity=function(F){this.opacity_=
F};n.prototype.setRotateWithView=function(F){this.rotateWithView_=F};n.prototype.setRotation=function(F){this.rotation_=F};n.prototype.setScale=function(F){this.scale_=F;this.scaleArray_=(0,m.toSize)(F)};n.prototype.listenImageChange=function(F){(0,g["abstract"])()};n.prototype.load=function(){(0,g["abstract"])()};n.prototype.unlistenImageChange=function(F){(0,g["abstract"])()};return n}();E["default"]=Ha};
shadow$provide[205]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.asColorLike=function(m){return Array.isArray(m)?(0,g.toString)(m):m};var g=B(86)};
shadow$provide[206]=function(Ha,B,rb,E){function g(q){return q&&q.__esModule?q:{"default":q}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var m=g(B(203));Ha=g(B(204));var n=B(86),F=B(205),O=B(107),x=B(108),y=function(){var q=function(l,h){q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(c[a]=e[a])};return q(l,h)};return function(l,h){function c(){this.constructor=
l}q(l,h);l.prototype=null===h?Object.create(h):(c.prototype=h.prototype,new c)}}();B=function(q){function l(h){var c=q.call(this,{opacity:1,rotateWithView:void 0!==h.rotateWithView?h.rotateWithView:!1,rotation:void 0!==h.rotation?h.rotation:0,scale:void 0!==h.scale?h.scale:1,displacement:void 0!==h.displacement?h.displacement:[0,0]})||this;c.canvas_={};c.hitDetectionCanvas_=null;c.fill_=void 0!==h.fill?h.fill:null;c.origin_=[0,0];c.points_=h.points;c.radius_=void 0!==h.radius?h.radius:h.radius1;c.radius2_=
h.radius2;c.angle_=void 0!==h.angle?h.angle:0;c.stroke_=void 0!==h.stroke?h.stroke:null;c.anchor_=null;c.size_=null;c.imageSize_=null;c.hitDetectionImageSize_=null;c.render();return c}y(l,q);l.prototype.clone=function(){var h=this.getScale();h=new l({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),
scale:Array.isArray(h)?h.slice():h,displacement:this.getDisplacement().slice()});h.setOpacity(this.getOpacity());return h};l.prototype.getAnchor=function(){return this.anchor_};l.prototype.getAngle=function(){return this.angle_};l.prototype.getFill=function(){return this.fill_};l.prototype.getHitDetectionImage=function(){if(!this.hitDetectionCanvas_){var h=this.createRenderOptions();this.createHitDetectionCanvas_(h)}return this.hitDetectionCanvas_};l.prototype.getImage=function(h){if(!this.canvas_[h||
1]){var c=this.createRenderOptions(),e=(0,O.createCanvasContext2D)(c.size*h||1,c.size*h||1);this.draw_(c,e,0,0,h||1);this.canvas_[h||1]=e.canvas}return this.canvas_[h||1]};l.prototype.getPixelRatio=function(h){return h};l.prototype.getImageSize=function(){return this.imageSize_};l.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_};l.prototype.getImageState=function(){return m["default"].LOADED};l.prototype.getOrigin=function(){return this.origin_};l.prototype.getPoints=
function(){return this.points_};l.prototype.getRadius=function(){return this.radius_};l.prototype.getRadius2=function(){return this.radius2_};l.prototype.getSize=function(){return this.size_};l.prototype.getStroke=function(){return this.stroke_};l.prototype.listenImageChange=function(h){};l.prototype.load=function(){};l.prototype.unlistenImageChange=function(h){};l.prototype.createRenderOptions=function(){var h=x.defaultLineCap,c=x.defaultLineJoin,e=0,a=null,f=0,p=0;if(this.stroke_){var A=this.stroke_.getColor();
null===A&&(A=x.defaultStrokeStyle);A=(0,F.asColorLike)(A);p=this.stroke_.getWidth();void 0===p&&(p=x.defaultLineWidth);a=this.stroke_.getLineDash();f=this.stroke_.getLineDashOffset();c=this.stroke_.getLineJoin();void 0===c&&(c=x.defaultLineJoin);h=this.stroke_.getLineCap();void 0===h&&(h=x.defaultLineCap);e=this.stroke_.getMiterLimit();void 0===e&&(e=x.defaultMiterLimit)}return{strokeStyle:A,strokeWidth:p,size:2*(this.radius_+p)+1,lineCap:h,lineDash:a,lineDashOffset:f,lineJoin:c,miterLimit:e}};l.prototype.render=
function(){var h=this.createRenderOptions(),c=(0,O.createCanvasContext2D)(h.size,h.size);this.draw_(h,c,0,0,1);this.canvas_={};this.canvas_[1]=c.canvas;c=c.canvas.width;var e=this.getDisplacement();this.hitDetectionImageSize_=[h.size,h.size];this.createHitDetectionCanvas_(h);this.anchor_=[c/2-e[0],c/2+e[1]];this.size_=[c,c];this.imageSize_=[c,c]};l.prototype.draw_=function(h,c,e,a,f){c.setTransform(f,0,0,f,0,0);c.translate(e,a);c.beginPath();var p=this.points_;if(Infinity===p)c.arc(h.size/2,h.size/
2,this.radius_,0,2*Math.PI,!0);else{var A=void 0!==this.radius2_?this.radius2_:this.radius_;A!==this.radius_&&(p*=2);for(e=0;e<=p;e++)a=2*e*Math.PI/p-Math.PI/2+this.angle_,f=0===e%2?this.radius_:A,c.lineTo(h.size/2+f*Math.cos(a),h.size/2+f*Math.sin(a))}this.fill_&&(e=this.fill_.getColor(),null===e&&(e=x.defaultFillStyle),c.fillStyle=(0,F.asColorLike)(e),c.fill());this.stroke_&&(c.strokeStyle=h.strokeStyle,c.lineWidth=h.strokeWidth,c.setLineDash&&h.lineDash&&(c.setLineDash(h.lineDash),c.lineDashOffset=
h.lineDashOffset),c.lineCap=h.lineCap,c.lineJoin=h.lineJoin,c.miterLimit=h.miterLimit,c.stroke());c.closePath()};l.prototype.createHitDetectionCanvas_=function(h){this.hitDetectionCanvas_=this.getImage(1);if(this.fill_){var c=this.fill_.getColor(),e=0;"string"===typeof c&&(c=(0,n.asArray)(c));null===c?e=1:Array.isArray(c)&&(e=4===c.length?c[3]:1);0===e&&(c=(0,O.createCanvasContext2D)(h.size,h.size),this.hitDetectionCanvas_=c.canvas,this.drawHitDetectionCanvas_(h,c,0,0))}};l.prototype.drawHitDetectionCanvas_=
function(h,c,e,a){c.translate(e,a);c.beginPath();e=this.points_;if(Infinity===e)c.arc(h.size/2,h.size/2,this.radius_,0,2*Math.PI,!0);else{a=void 0!==this.radius2_?this.radius2_:this.radius_;a!==this.radius_&&(e*=2);var f;for(f=0;f<=e;f++){var p=2*f*Math.PI/e-Math.PI/2+this.angle_;var A=0===f%2?this.radius_:a;c.lineTo(h.size/2+A*Math.cos(p),h.size/2+A*Math.sin(p))}}c.fillStyle=x.defaultFillStyle;c.fill();this.stroke_&&(c.strokeStyle=h.strokeStyle,c.lineWidth=h.strokeWidth,h.lineDash&&(c.setLineDash(h.lineDash),
c.lineDashOffset=h.lineDashOffset),c.stroke());c.closePath()};return l}(Ha["default"]);E["default"]=B};
shadow$provide[207]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=function(m){return m&&m.__esModule?m:{"default":m}}(B(206));var g=function(){var m=function(n,F){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,x){O.__proto__=x}||function(O,x){for(var y in x)Object.prototype.hasOwnProperty.call(x,y)&&(O[y]=x[y])};return m(n,F)};return function(n,F){function O(){this.constructor=n}m(n,F);n.prototype=null===F?Object.create(F):(O.prototype=
F.prototype,new O)}}();Ha=function(m){function n(F){F=F?F:{};return m.call(this,{points:Infinity,fill:F.fill,radius:F.radius,stroke:F.stroke,scale:void 0!==F.scale?F.scale:1,rotation:void 0!==F.rotation?F.rotation:0,rotateWithView:void 0!==F.rotateWithView?F.rotateWithView:!1,displacement:void 0!==F.displacement?F.displacement:[0,0]})||this}g(n,m);n.prototype.clone=function(){var F=this.getScale();F=new n({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():
void 0,radius:this.getRadius(),scale:Array.isArray(F)?F.slice():F,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});F.setOpacity(this.getOpacity());return F};n.prototype.setRadius=function(F){this.radius_=F;this.render()};return n}(Ha["default"]);E["default"]=Ha};
shadow$provide[208]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=function(){function g(m){m=m||{};this.color_=void 0!==m.color?m.color:null}g.prototype.clone=function(){var m=this.getColor();return new g({color:Array.isArray(m)?m.slice():m||void 0})};g.prototype.getColor=function(){return this.color_};g.prototype.setColor=function(m){this.color_=m};return g}();E["default"]=Ha};
shadow$provide[209]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=function(){function g(m){m=m||{};this.color_=void 0!==m.color?m.color:null;this.lineCap_=m.lineCap;this.lineDash_=void 0!==m.lineDash?m.lineDash:null;this.lineDashOffset_=m.lineDashOffset;this.lineJoin_=m.lineJoin;this.miterLimit_=m.miterLimit;this.width_=m.width}g.prototype.clone=function(){var m=this.getColor();return new g({color:Array.isArray(m)?m.slice():m||void 0,lineCap:this.getLineCap(),
lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})};g.prototype.getColor=function(){return this.color_};g.prototype.getLineCap=function(){return this.lineCap_};g.prototype.getLineDash=function(){return this.lineDash_};g.prototype.getLineDashOffset=function(){return this.lineDashOffset_};g.prototype.getLineJoin=function(){return this.lineJoin_};g.prototype.getMiterLimit=
function(){return this.miterLimit_};g.prototype.getWidth=function(){return this.width_};g.prototype.setColor=function(m){this.color_=m};g.prototype.setLineCap=function(m){this.lineCap_=m};g.prototype.setLineDash=function(m){this.lineDash_=m};g.prototype.setLineDashOffset=function(m){this.lineDashOffset_=m};g.prototype.setLineJoin=function(m){this.lineJoin_=m};g.prototype.setMiterLimit=function(m){this.miterLimit_=m};g.prototype.setWidth=function(m){this.width_=m};return g}();E["default"]=Ha};
shadow$provide[210]=function(Ha,B,rb,E){function g(c){return c&&c.__esModule?c:{"default":c}}function m(c){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return m(c)}function n(c){return c.getGeometry()}Object.defineProperty(E,"__esModule",{value:!0});E.toFunction=function(c){if("function"!==typeof c){if(Array.isArray(c))var e=c;else(0,q.assert)("function"===
typeof c.getZIndex,41),e=[c];c=function(){return e}}return c};E.createDefaultStyle=function(c,e){h||(c=new O["default"]({color:"rgba(255,255,255,0.4)"}),e=new y["default"]({color:"#3399CC",width:1.25}),h=[new l({image:new F["default"]({fill:c,stroke:e,radius:5}),fill:c,stroke:e})]);return h};E.createEditingStyle=function(){var c={},e=[255,255,255,1],a=[0,153,255,1];c[x["default"].POLYGON]=[new l({fill:new O["default"]({color:[255,255,255,.5]})})];c[x["default"].MULTI_POLYGON]=c[x["default"].POLYGON];
c[x["default"].LINE_STRING]=[new l({stroke:new y["default"]({color:e,width:5})}),new l({stroke:new y["default"]({color:a,width:3})})];c[x["default"].MULTI_LINE_STRING]=c[x["default"].LINE_STRING];c[x["default"].CIRCLE]=c[x["default"].POLYGON].concat(c[x["default"].LINE_STRING]);c[x["default"].POINT]=[new l({image:new F["default"]({radius:6,fill:new O["default"]({color:a}),stroke:new y["default"]({color:e,width:1.5})}),zIndex:Infinity})];c[x["default"].MULTI_POINT]=c[x["default"].POINT];c[x["default"].GEOMETRY_COLLECTION]=
c[x["default"].POLYGON].concat(c[x["default"].LINE_STRING],c[x["default"].POINT]);return c};E["default"]=void 0;var F=g(B(207)),O=g(B(208)),x=g(B(123)),y=g(B(209)),q=B(80),l=function(){function c(e){e=e||{};this.geometry_=null;this.geometryFunction_=n;void 0!==e.geometry&&this.setGeometry(e.geometry);this.fill_=void 0!==e.fill?e.fill:null;this.image_=void 0!==e.image?e.image:null;this.renderer_=void 0!==e.renderer?e.renderer:null;this.stroke_=void 0!==e.stroke?e.stroke:null;this.text_=void 0!==e.text?
e.text:null;this.zIndex_=e.zIndex}c.prototype.clone=function(){var e=this.getGeometry();e&&"object"===m(e)&&(e=e.clone());return new c({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})};c.prototype.getRenderer=function(){return this.renderer_};c.prototype.setRenderer=function(e){this.renderer_=e};c.prototype.getGeometry=
function(){return this.geometry_};c.prototype.getGeometryFunction=function(){return this.geometryFunction_};c.prototype.getFill=function(){return this.fill_};c.prototype.setFill=function(e){this.fill_=e};c.prototype.getImage=function(){return this.image_};c.prototype.setImage=function(e){this.image_=e};c.prototype.getStroke=function(){return this.stroke_};c.prototype.setStroke=function(e){this.stroke_=e};c.prototype.getText=function(){return this.text_};c.prototype.setText=function(e){this.text_=
e};c.prototype.getZIndex=function(){return this.zIndex_};c.prototype.setGeometry=function(e){"function"===typeof e?this.geometryFunction_=e:"string"===typeof e?this.geometryFunction_=function(a){return a.get(e)}:e?void 0!==e&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=n;this.geometry_=e};c.prototype.setZIndex=function(e){this.zIndex_=e};return c}(),h=null;E["default"]=l};
shadow$provide[211]=function(Ha,B,rb,E){function g(x){return x&&x.__esModule?x:{"default":x}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=g(B(100));var m=g(B(202)),n=B(90),F=B(210),O=function(){var x=function(y,q){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&(l[c]=h[c])};return x(y,q)};return function(y,q){function l(){this.constructor=y}x(y,q);y.prototype=null===
q?Object.create(q):(l.prototype=q.prototype,new l)}}();B=function(x){function y(q){q=q?q:{};var l=(0,n.assign)({},q);delete l.style;delete l.renderBuffer;delete l.updateWhileAnimating;delete l.updateWhileInteracting;l=x.call(this,l)||this;l.declutter_=void 0!==q.declutter?q.declutter:!1;l.renderBuffer_=void 0!==q.renderBuffer?q.renderBuffer:100;l.style_=null;l.styleFunction_=void 0;l.setStyle(q.style);l.updateWhileAnimating_=void 0!==q.updateWhileAnimating?q.updateWhileAnimating:!1;l.updateWhileInteracting_=
void 0!==q.updateWhileInteracting?q.updateWhileInteracting:!1;return l}O(y,x);y.prototype.getDeclutter=function(){return this.declutter_};y.prototype.getFeatures=function(q){return x.prototype.getFeatures.call(this,q)};y.prototype.getRenderBuffer=function(){return this.renderBuffer_};y.prototype.getRenderOrder=function(){return this.get("renderOrder")};y.prototype.getStyle=function(){return this.style_};y.prototype.getStyleFunction=function(){return this.styleFunction_};y.prototype.getUpdateWhileAnimating=
function(){return this.updateWhileAnimating_};y.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_};y.prototype.renderDeclutter=function(q){q.declutterTree||(q.declutterTree=new m["default"](9));this.getRenderer().renderDeclutter(q)};y.prototype.setRenderOrder=function(q){this.set("renderOrder",q)};y.prototype.setStyle=function(q){this.style_=void 0!==q?q:F.createDefaultStyle;this.styleFunction_=null===q?void 0:(0,F.toFunction)(this.style_);this.changed()};return y}(Ha["default"]);
E["default"]=B};
shadow$provide[212]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12};E.fillInstruction=[Ha.FILL];E.strokeInstruction=[Ha.STROKE];E.beginPathInstruction=[Ha.BEGIN_PATH];E.closePathInstruction=[Ha.CLOSE_PATH];E["default"]=Ha};
shadow$provide[213]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=function(){function g(){}g.prototype.drawCustom=function(m,n,F){};g.prototype.drawGeometry=function(m){};g.prototype.setStyle=function(m){};g.prototype.drawCircle=function(m,n){};g.prototype.drawFeature=function(m,n){};g.prototype.drawGeometryCollection=function(m,n){};g.prototype.drawLineString=function(m,n){};g.prototype.drawMultiLineString=function(m,n){};g.prototype.drawMultiPoint=function(m,
n){};g.prototype.drawMultiPolygon=function(m,n){};g.prototype.drawPoint=function(m,n){};g.prototype.drawPolygon=function(m,n){};g.prototype.drawText=function(m,n){};g.prototype.setFillStrokeStyle=function(m,n){};g.prototype.setImageStyle=function(m,n){};g.prototype.setTextStyle=function(m,n){};return g}();E["default"]=Ha};
shadow$provide[214]=function(Ha,B,rb,E){function g(c){return c&&c.__esModule?c:{"default":c}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var m=g(B(212)),n=g(B(123)),F=g(B(83));Ha=g(B(213));var O=B(205),x=B(84),y=B(108),q=B(76),l=B(146),h=function(){var c=function(e,a){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var A in p)Object.prototype.hasOwnProperty.call(p,A)&&(f[A]=p[A])};return c(e,a)};return function(e,a){function f(){this.constructor=
e}c(e,a);e.prototype=null===a?Object.create(a):(f.prototype=a.prototype,new f)}}();B=function(c){function e(a,f,p,A){var C=c.call(this)||this;C.tolerance=a;C.maxExtent=f;C.pixelRatio=A;C.maxLineWidth=0;C.resolution=p;C.beginGeometryInstruction1_=null;C.beginGeometryInstruction2_=null;C.bufferedMaxExtent_=null;C.instructions=[];C.coordinates=[];C.tmpCoordinate_=[];C.hitDetectionInstructions=[];C.state={};return C}h(e,c);e.prototype.applyPixelRatio=function(a){var f=this.pixelRatio;return 1==f?a:a.map(function(p){return p*
f})};e.prototype.appendFlatPointCoordinates=function(a,f){for(var p=this.getBufferedMaxExtent(),A=this.tmpCoordinate_,C=this.coordinates,D=C.length,P=0,L=a.length;P<L;P+=f)A[0]=a[P],A[1]=a[P+1],(0,x.containsCoordinate)(p,A)&&(C[D++]=A[0],C[D++]=A[1]);return D};e.prototype.appendFlatLineCoordinates=function(a,f,p,A,C,D){var P=this.coordinates,L=P.length,G=this.getBufferedMaxExtent();D&&(f+=A);D=a[f];var z=a[f+1],J=this.tmpCoordinate_,K=!0,R;for(R=f+A;R<p;R+=A){J[0]=a[R];J[1]=a[R+1];var U=(0,x.coordinateRelationship)(G,
J);U!==ka?(K&&(P[L++]=D,P[L++]=z,K=!1),P[L++]=J[0],P[L++]=J[1]):U===F["default"].INTERSECTING?(P[L++]=J[0],P[L++]=J[1],K=!1):K=!0;D=J[0];z=J[1];var ka=U}if(C&&K||R===f+A)P[L++]=D,P[L++]=z;return L};e.prototype.drawCustomCoordinates_=function(a,f,p,A,C){for(var D=0,P=p.length;D<P;++D){var L=p[D];f=this.appendFlatLineCoordinates(a,f,L,A,!1,!1);C.push(f);f=L}return f};e.prototype.drawCustom=function(a,f,p){this.beginGeometry(a,f);var A=a.getType(),C=a.getStride(),D=this.coordinates.length,P;if(A==n["default"].MULTI_POLYGON){A=
a.getOrientedFlatCoordinates();var L=[];for(var G=a.getEndss(),z=P=0,J=G.length;z<J;++z){var K=[];P=this.drawCustomCoordinates_(A,P,G[z],C,K);L.push(K)}this.instructions.push([m["default"].CUSTOM,D,L,a,p,l.inflateMultiCoordinatesArray])}else A==n["default"].POLYGON||A==n["default"].MULTI_LINE_STRING?(L=[],A=A==n["default"].POLYGON?a.getOrientedFlatCoordinates():a.getFlatCoordinates(),this.drawCustomCoordinates_(A,0,a.getEnds(),C,L),this.instructions.push([m["default"].CUSTOM,D,L,a,p,l.inflateCoordinatesArray])):
A==n["default"].LINE_STRING||A==n["default"].CIRCLE?(A=a.getFlatCoordinates(),C=this.appendFlatLineCoordinates(A,0,A.length,C,!1,!1),this.instructions.push([m["default"].CUSTOM,D,C,a,p,l.inflateCoordinates])):A==n["default"].MULTI_POINT?(A=a.getFlatCoordinates(),C=this.appendFlatPointCoordinates(A,C),C>D&&this.instructions.push([m["default"].CUSTOM,D,C,a,p,l.inflateCoordinates])):A==n["default"].POINT&&(A=a.getFlatCoordinates(),this.coordinates.push(A[0],A[1]),C=this.coordinates.length,this.instructions.push([m["default"].CUSTOM,
D,C,a,p]));this.endGeometry(f)};e.prototype.beginGeometry=function(a,f){this.beginGeometryInstruction1_=[m["default"].BEGIN_GEOMETRY,f,0,a];this.instructions.push(this.beginGeometryInstruction1_);this.beginGeometryInstruction2_=[m["default"].BEGIN_GEOMETRY,f,0,a];this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)};e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}};e.prototype.reverseHitDetectionInstructions=
function(){var a=this.hitDetectionInstructions;a.reverse();var f,p=a.length,A=-1;for(f=0;f<p;++f){var C=a[f];var D=C[0];D==m["default"].END_GEOMETRY?A=f:D==m["default"].BEGIN_GEOMETRY&&(C[2]=f,(0,q.reverseSubArray)(this.hitDetectionInstructions,A,f),A=-1)}};e.prototype.setFillStrokeStyle=function(a,f){var p=this.state;a?(a=a.getColor(),p.fillStyle=(0,O.asColorLike)(a?a:y.defaultFillStyle)):p.fillStyle=void 0;f?(a=f.getColor(),p.strokeStyle=(0,O.asColorLike)(a?a:y.defaultStrokeStyle),a=f.getLineCap(),
p.lineCap=void 0!==a?a:y.defaultLineCap,a=f.getLineDash(),p.lineDash=a?a.slice():y.defaultLineDash,a=f.getLineDashOffset(),p.lineDashOffset=a?a:y.defaultLineDashOffset,a=f.getLineJoin(),p.lineJoin=void 0!==a?a:y.defaultLineJoin,a=f.getWidth(),p.lineWidth=void 0!==a?a:y.defaultLineWidth,f=f.getMiterLimit(),p.miterLimit=void 0!==f?f:y.defaultMiterLimit,p.lineWidth>this.maxLineWidth&&(this.maxLineWidth=p.lineWidth,this.bufferedMaxExtent_=null)):(p.strokeStyle=void 0,p.lineCap=void 0,p.lineDash=null,
p.lineDashOffset=void 0,p.lineJoin=void 0,p.lineWidth=void 0,p.miterLimit=void 0)};e.prototype.createFill=function(a){a=a.fillStyle;var f=[m["default"].SET_FILL_STYLE,a];"string"!==typeof a&&f.push(!0);return f};e.prototype.applyStroke=function(a){this.instructions.push(this.createStroke(a))};e.prototype.createStroke=function(a){return[m["default"].SET_STROKE_STYLE,a.strokeStyle,a.lineWidth*this.pixelRatio,a.lineCap,a.lineJoin,a.miterLimit,this.applyPixelRatio(a.lineDash),a.lineDashOffset*this.pixelRatio]};
e.prototype.updateFillStyle=function(a,f){var p=a.fillStyle;if("string"!==typeof p||a.currentFillStyle!=p)void 0!==p&&this.instructions.push(f.call(this,a)),a.currentFillStyle=p};e.prototype.updateStrokeStyle=function(a,f){var p=a.strokeStyle,A=a.lineCap,C=a.lineDash,D=a.lineDashOffset,P=a.lineJoin,L=a.lineWidth,G=a.miterLimit;if(a.currentStrokeStyle!=p||a.currentLineCap!=A||C!=a.currentLineDash&&!(0,q.equals)(a.currentLineDash,C)||a.currentLineDashOffset!=D||a.currentLineJoin!=P||a.currentLineWidth!=
L||a.currentMiterLimit!=G)void 0!==p&&f.call(this,a),a.currentStrokeStyle=p,a.currentLineCap=A,a.currentLineDash=C,a.currentLineDashOffset=D,a.currentLineJoin=P,a.currentLineWidth=L,a.currentMiterLimit=G};e.prototype.endGeometry=function(a){this.beginGeometryInstruction1_[2]=this.instructions.length;this.beginGeometryInstruction1_=null;this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length;this.beginGeometryInstruction2_=null;a=[m["default"].END_GEOMETRY,a];this.instructions.push(a);
this.hitDetectionInstructions.push(a)};e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,x.clone)(this.maxExtent),0<this.maxLineWidth)){var a=this.resolution*(this.maxLineWidth+1)/2;(0,x.buffer)(this.bufferedMaxExtent_,a,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_};return e}(Ha["default"]);E["default"]=B};
shadow$provide[215]=function(Ha,B,rb,E){function g(F){return F&&F.__esModule?F:{"default":F}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=g(B(214));var m=g(B(212)),n=function(){var F=function(O,x){F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,q){y.__proto__=q}||function(y,q){for(var l in q)Object.prototype.hasOwnProperty.call(q,l)&&(y[l]=q[l])};return F(O,x)};return function(O,x){function y(){this.constructor=O}F(O,x);O.prototype=null===x?Object.create(x):
(y.prototype=x.prototype,new y)}}();B=function(F){function O(x,y,q,l){x=F.call(this,x,y,q,l)||this;x.hitDetectionImage_=null;x.image_=null;x.imagePixelRatio_=void 0;x.anchorX_=void 0;x.anchorY_=void 0;x.height_=void 0;x.opacity_=void 0;x.originX_=void 0;x.originY_=void 0;x.rotateWithView_=void 0;x.rotation_=void 0;x.scale_=void 0;x.width_=void 0;x.declutterImageWithText_=void 0;return x}n(O,F);O.prototype.drawPoint=function(x,y){if(this.image_){this.beginGeometry(x,y);var q=x.getFlatCoordinates(),
l=x.getStride();x=this.coordinates.length;q=this.appendFlatPointCoordinates(q,l);this.instructions.push([m["default"].DRAW_IMAGE,x,q,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]);
this.hitDetectionInstructions.push([m["default"].DRAW_IMAGE,x,q,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]);this.endGeometry(y)}};O.prototype.drawMultiPoint=function(x,y){if(this.image_){this.beginGeometry(x,y);var q=x.getFlatCoordinates(),l=x.getStride();x=this.coordinates.length;q=this.appendFlatPointCoordinates(q,l);this.instructions.push([m["default"].DRAW_IMAGE,
x,q,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]);this.hitDetectionInstructions.push([m["default"].DRAW_IMAGE,x,q,this.hitDetectionImage_,this.anchorX_,this.anchorY_,
this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]);this.endGeometry(y)}};O.prototype.finish=function(){this.reverseHitDetectionInstructions();this.anchorY_=this.anchorX_=void 0;this.image_=this.hitDetectionImage_=null;this.width_=this.rotation_=this.rotateWithView_=this.originY_=this.originX_=this.opacity_=this.scale_=this.height_=this.imagePixelRatio_=void 0;return F.prototype.finish.call(this)};O.prototype.setImageStyle=
function(x,y){var q=x.getAnchor(),l=x.getSize(),h=x.getHitDetectionImage(),c=x.getImage(this.pixelRatio),e=x.getOrigin();this.imagePixelRatio_=x.getPixelRatio(this.pixelRatio);this.anchorX_=q[0];this.anchorY_=q[1];this.hitDetectionImage_=h;this.image_=c;this.height_=l[1];this.opacity_=x.getOpacity();this.originX_=e[0];this.originY_=e[1];this.rotateWithView_=x.getRotateWithView();this.rotation_=x.getRotation();this.scale_=x.getScaleArray();this.width_=l[0];this.declutterImageWithText_=y};return O}(Ha["default"]);
E["default"]=B};
shadow$provide[216]=function(Ha,B,rb,E){function g(O){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"===typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x};return g(O)}function m(){if("function"!==typeof WeakMap)return null;var O=new WeakMap;m=function(){return O};return O}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=function(O){return O&&O.__esModule?O:{"default":O}}(B(214));
var n=function(O){if(O&&O.__esModule)return O;if(null===O||"object"!==g(O)&&"function"!==typeof O)return{"default":O};var x=m();if(x&&x.has(O))return x.get(O);var y={},q=Object.defineProperty&&Object.getOwnPropertyDescriptor,l;for(l in O)if(Object.prototype.hasOwnProperty.call(O,l)){var h=q?Object.getOwnPropertyDescriptor(O,l):null;h&&(h.get||h.set)?Object.defineProperty(y,l,h):y[l]=O[l]}y["default"]=O;x&&x.set(O,y);return y}(B(212)),F=function(){var O=function(x,y){O=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(q,l){q.__proto__=l}||function(q,l){for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(q[h]=l[h])};return O(x,y)};return function(x,y){function q(){this.constructor=x}O(x,y);x.prototype=null===y?Object.create(y):(q.prototype=y.prototype,new q)}}();B=function(O){function x(y,q,l,h){return O.call(this,y,q,l,h)||this}F(x,O);x.prototype.drawFlatCoordinates_=function(y,q,l,h){var c=this.coordinates.length;y=this.appendFlatLineCoordinates(y,q,l,h,!1,!1);c=[n["default"].MOVE_TO_LINE_TO,
c,y];this.instructions.push(c);this.hitDetectionInstructions.push(c);return l};x.prototype.drawLineString=function(y,q){var l=this.state,h=l.lineWidth;void 0!==l.strokeStyle&&void 0!==h&&(this.updateStrokeStyle(l,this.applyStroke),this.beginGeometry(y,q),this.hitDetectionInstructions.push([n["default"].SET_STROKE_STYLE,l.strokeStyle,l.lineWidth,l.lineCap,l.lineJoin,l.miterLimit,l.lineDash,l.lineDashOffset],n.beginPathInstruction),l=y.getFlatCoordinates(),y=y.getStride(),this.drawFlatCoordinates_(l,
0,l.length,y),this.hitDetectionInstructions.push(n.strokeInstruction),this.endGeometry(q))};x.prototype.drawMultiLineString=function(y,q){var l=this.state,h=l.lineWidth;if(void 0!==l.strokeStyle&&void 0!==h){this.updateStrokeStyle(l,this.applyStroke);this.beginGeometry(y,q);this.hitDetectionInstructions.push([n["default"].SET_STROKE_STYLE,l.strokeStyle,l.lineWidth,l.lineCap,l.lineJoin,l.miterLimit,l.lineDash,l.lineDashOffset],n.beginPathInstruction);l=y.getEnds();h=y.getFlatCoordinates();y=y.getStride();
for(var c=0,e=0,a=l.length;e<a;++e)c=this.drawFlatCoordinates_(h,c,l[e],y);this.hitDetectionInstructions.push(n.strokeInstruction);this.endGeometry(q)}};x.prototype.finish=function(){var y=this.state;void 0!=y.lastStroke&&y.lastStroke!=this.coordinates.length&&this.instructions.push(n.strokeInstruction);this.reverseHitDetectionInstructions();this.state=null;return O.prototype.finish.call(this)};x.prototype.applyStroke=function(y){void 0!=y.lastStroke&&y.lastStroke!=this.coordinates.length&&(this.instructions.push(n.strokeInstruction),
y.lastStroke=this.coordinates.length);y.lastStroke=0;O.prototype.applyStroke.call(this,y);this.instructions.push(n.beginPathInstruction)};return x}(Ha["default"]);E["default"]=B};
shadow$provide[217]=function(Ha,B,rb,E){function g(y){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(q){return typeof q}:function(q){return q&&"function"===typeof Symbol&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q};return g(y)}function m(){if("function"!==typeof WeakMap)return null;var y=new WeakMap;m=function(){return y};return y}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=function(y){return y&&y.__esModule?y:{"default":y}}(B(214));
var n=function(y){if(y&&y.__esModule)return y;if(null===y||"object"!==g(y)&&"function"!==typeof y)return{"default":y};var q=m();if(q&&q.has(y))return q.get(y);var l={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,c;for(c in y)if(Object.prototype.hasOwnProperty.call(y,c)){var e=h?Object.getOwnPropertyDescriptor(y,c):null;e&&(e.get||e.set)?Object.defineProperty(l,c,e):l[c]=y[c]}l["default"]=y;q&&q.set(y,l);return l}(B(212)),F=B(108),O=B(145),x=function(){var y=function(q,l){y=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var e in c)Object.prototype.hasOwnProperty.call(c,e)&&(h[e]=c[e])};return y(q,l)};return function(q,l){function h(){this.constructor=q}y(q,l);q.prototype=null===l?Object.create(l):(h.prototype=l.prototype,new h)}}();B=function(y){function q(l,h,c,e){return y.call(this,l,h,c,e)||this}x(q,y);q.prototype.drawFlatCoordinatess_=function(l,h,c,e){var a=this.state,f=void 0!==a.fillStyle;a=void 0!==a.strokeStyle;var p=c.length;
this.instructions.push(n.beginPathInstruction);this.hitDetectionInstructions.push(n.beginPathInstruction);for(var A=0;A<p;++A){var C=c[A],D=this.coordinates.length;h=this.appendFlatLineCoordinates(l,h,C,e,!0,!a);h=[n["default"].MOVE_TO_LINE_TO,D,h];this.instructions.push(h);this.hitDetectionInstructions.push(h);a&&(this.instructions.push(n.closePathInstruction),this.hitDetectionInstructions.push(n.closePathInstruction));h=C}f&&(this.instructions.push(n.fillInstruction),this.hitDetectionInstructions.push(n.fillInstruction));
a&&(this.instructions.push(n.strokeInstruction),this.hitDetectionInstructions.push(n.strokeInstruction));return h};q.prototype.drawCircle=function(l,h){var c=this.state,e=c.strokeStyle;if(void 0!==c.fillStyle||void 0!==e){this.setFillStrokeStyles_();this.beginGeometry(l,h);void 0!==c.fillStyle&&this.hitDetectionInstructions.push([n["default"].SET_FILL_STYLE,F.defaultFillStyle]);void 0!==c.strokeStyle&&this.hitDetectionInstructions.push([n["default"].SET_STROKE_STYLE,c.strokeStyle,c.lineWidth,c.lineCap,
c.lineJoin,c.miterLimit,c.lineDash,c.lineDashOffset]);e=l.getFlatCoordinates();l=l.getStride();var a=this.coordinates.length;this.appendFlatLineCoordinates(e,0,e.length,l,!1,!1);e=[n["default"].CIRCLE,a];this.instructions.push(n.beginPathInstruction,e);this.hitDetectionInstructions.push(n.beginPathInstruction,e);void 0!==c.fillStyle&&(this.instructions.push(n.fillInstruction),this.hitDetectionInstructions.push(n.fillInstruction));void 0!==c.strokeStyle&&(this.instructions.push(n.strokeInstruction),
this.hitDetectionInstructions.push(n.strokeInstruction));this.endGeometry(h)}};q.prototype.drawPolygon=function(l,h){var c=this.state,e=c.strokeStyle;if(void 0!==c.fillStyle||void 0!==e)this.setFillStrokeStyles_(),this.beginGeometry(l,h),void 0!==c.fillStyle&&this.hitDetectionInstructions.push([n["default"].SET_FILL_STYLE,F.defaultFillStyle]),void 0!==c.strokeStyle&&this.hitDetectionInstructions.push([n["default"].SET_STROKE_STYLE,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,
c.lineDashOffset]),c=l.getEnds(),e=l.getOrientedFlatCoordinates(),l=l.getStride(),this.drawFlatCoordinatess_(e,0,c,l),this.endGeometry(h)};q.prototype.drawMultiPolygon=function(l,h){var c=this.state,e=c.strokeStyle;if(void 0!==c.fillStyle||void 0!==e){this.setFillStrokeStyles_();this.beginGeometry(l,h);void 0!==c.fillStyle&&this.hitDetectionInstructions.push([n["default"].SET_FILL_STYLE,F.defaultFillStyle]);void 0!==c.strokeStyle&&this.hitDetectionInstructions.push([n["default"].SET_STROKE_STYLE,
c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,c.lineDashOffset]);c=l.getEndss();e=l.getOrientedFlatCoordinates();l=l.getStride();for(var a=0,f=0,p=c.length;f<p;++f)a=this.drawFlatCoordinatess_(e,a,c[f],l);this.endGeometry(h)}};q.prototype.finish=function(){this.reverseHitDetectionInstructions();this.state=null;var l=this.tolerance;if(0!==l)for(var h=this.coordinates,c=0,e=h.length;c<e;++c)h[c]=(0,O.snap)(h[c],l);return y.prototype.finish.call(this)};q.prototype.setFillStrokeStyles_=
function(){var l=this.state;void 0!==l.fillStyle&&this.updateFillStyle(l,this.createFill);void 0!==l.strokeStyle&&this.updateStrokeStyle(l,this.applyStroke)};return q}(Ha["default"]);E["default"]=B};
shadow$provide[218]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={POINT:"point",LINE:"line"}};
shadow$provide[219]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.matchingChunk=function(g,m,n,F,O){for(var x=n,y=n,q=0,l=0,h=n,c,e,a,f,p,A;n<F;n+=O){var C=m[n],D=m[n+1];void 0!==a&&(a=C-a,f=D-f,e=Math.sqrt(a*a+f*f),void 0!==p&&(l+=c,c=Math.acos((p*a+A*f)/(c*e)),c>g&&(l>q&&(q=l,x=h,y=n),l=0,h=n-O)),c=e,p=a,A=f);a=C;f=D}return l+e>q?[h,n]:[x,y]}};
shadow$provide[220]=function(Ha,B,rb,E){function g(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.TEXT_ALIGN=void 0;Ha=g(B(214));var m=g(B(212)),n=g(B(123)),F=g(B(218)),O=B(205),x=B(108),y=B(78),q=B(84),l=B(219),h=function(){var e=function(a,f){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,A){p.__proto__=A}||function(p,A){for(var C in A)Object.prototype.hasOwnProperty.call(A,C)&&(p[C]=A[C])};return e(a,f)};return function(a,
f){function p(){this.constructor=a}e(a,f);a.prototype=null===f?Object.create(f):(p.prototype=f.prototype,new p)}}(),c={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};E.TEXT_ALIGN=c;B=function(e){function a(f,p,A,C){f=e.call(this,f,p,A,C)||this;f.labels_=null;f.text_="";f.textOffsetX_=0;f.textOffsetY_=0;f.textRotateWithView_=void 0;f.textRotation_=0;f.textFillState_=null;f.fillStates={};f.textStrokeState_=null;f.strokeStates={};f.textState_=
{};f.textStates={};f.textKey_="";f.fillKey_="";f.strokeKey_="";f.declutterImageWithText_=void 0;return f}h(a,e);a.prototype.finish=function(){var f=e.prototype.finish.call(this);f.textStates=this.textStates;f.fillStates=this.fillStates;f.strokeStates=this.strokeStates;return f};a.prototype.drawText=function(f,p){var A=this.textFillState_,C=this.textStrokeState_,D=this.textState_;if(""!==this.text_&&D&&(A||C)){var P=this.coordinates;A=P.length;var L=f.getType();C=null;var G=f.getStride();if(D.placement!==
F["default"].LINE||L!=n["default"].LINE_STRING&&L!=n["default"].MULTI_LINE_STRING&&L!=n["default"].POLYGON&&L!=n["default"].MULTI_POLYGON){P=D.overflow?null:[];switch(L){case n["default"].POINT:case n["default"].MULTI_POINT:C=f.getFlatCoordinates();break;case n["default"].LINE_STRING:C=f.getFlatMidpoint();break;case n["default"].CIRCLE:C=f.getCenter();break;case n["default"].MULTI_LINE_STRING:C=f.getFlatMidpoints();G=2;break;case n["default"].POLYGON:C=f.getFlatInteriorPoint();D.overflow||P.push(C[2]/
this.resolution);G=3;break;case n["default"].MULTI_POLYGON:G=f.getFlatInteriorPoints();C=[];L=0;for(R=G.length;L<R;L+=3)D.overflow||P.push(G[L+2]/this.resolution),C.push(G[L],G[L+1]);if(0===C.length)return;G=2}L=this.appendFlatPointCoordinates(C,G);if(L===A)return;this.saveTextStates_();if(D.backgroundFill||D.backgroundStroke)this.setFillStrokeStyle(D.backgroundFill,D.backgroundStroke),D.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),
D.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)));this.beginGeometry(f,p);C=D.padding;if(C!=x.defaultPadding&&(0>D.scale[0]||0>D.scale[1])){C=D.padding[0];G=D.padding[1];var z=D.padding[2];f=D.padding[3];0>D.scale[0]&&(G=-G,f=-f);0>D.scale[1]&&(C=-C,z=-z);C=[C,G,z,f]}var J=this.pixelRatio;this.instructions.push([m["default"].DRAW_IMAGE,A,L,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,
1],NaN,this.declutterImageWithText_,C==x.defaultPadding?x.defaultPadding:C.map(function(ba){return ba*J}),!!D.backgroundFill,!!D.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,P]);G=1/J;this.hitDetectionInstructions.push([m["default"].DRAW_IMAGE,A,L,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[G,G],NaN,this.declutterImageWithText_,C,!!D.backgroundFill,!!D.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,
this.textOffsetX_,this.textOffsetY_,P])}else{if(!(0,q.intersects)(this.getBufferedMaxExtent(),f.getExtent()))return;z=void 0;C=f.getFlatCoordinates();if(L==n["default"].LINE_STRING)z=[C.length];else if(L==n["default"].MULTI_LINE_STRING)z=f.getEnds();else if(L==n["default"].POLYGON)z=f.getEnds().slice(0,1);else if(L==n["default"].MULTI_POLYGON){var K=f.getEndss();z=[];L=0;for(var R=K.length;L<R;++L)z.push(K[L][0])}this.beginGeometry(f,p);f=D.textAlign;var U=0,ka=void 0;R=0;for(K=z.length;R<K;++R){void 0==
f?(L=(0,l.matchingChunk)(D.maxAngle,C,U,z[R],G),U=L[0],ka=L[1]):ka=z[R];for(L=U;L<ka;L+=G)P.push(C[L],C[L+1]);L=P.length;U=z[R];this.drawChars_(A,L);A=L}}this.endGeometry(p)}};a.prototype.saveTextStates_=function(){var f=this.textStrokeState_,p=this.textState_,A=this.textFillState_,C=this.strokeKey_;f&&(C in this.strokeStates||(this.strokeStates[C]={strokeStyle:f.strokeStyle,lineCap:f.lineCap,lineDashOffset:f.lineDashOffset,lineWidth:f.lineWidth,lineJoin:f.lineJoin,miterLimit:f.miterLimit,lineDash:f.lineDash}));
f=this.textKey_;f in this.textStates||(this.textStates[f]={font:p.font,textAlign:p.textAlign||x.defaultTextAlign,textBaseline:p.textBaseline||x.defaultTextBaseline,scale:p.scale});p=this.fillKey_;A&&(p in this.fillStates||(this.fillStates[p]={fillStyle:A.fillStyle}))};a.prototype.drawChars_=function(f,p){var A=this.textStrokeState_,C=this.textState_,D=this.strokeKey_,P=this.textKey_,L=this.fillKey_;this.saveTextStates_();var G=this.pixelRatio,z=c[C.textBaseline],J=this.textOffsetY_*G,K=this.text_;
A=A?A.lineWidth*Math.abs(C.scale[0])/2:0;this.instructions.push([m["default"].DRAW_CHARS,f,p,z,C.overflow,L,C.maxAngle,G,J,D,A*G,K,P,1]);this.hitDetectionInstructions.push([m["default"].DRAW_CHARS,f,p,z,C.overflow,L,C.maxAngle,1,J,D,A,K,P,1/G])};a.prototype.setTextStyle=function(f,p){var A,C;if(f){if(C=f.getFill()){var D=this.textFillState_;D||(this.textFillState_=D={});D.fillStyle=(0,O.asColorLike)(C.getColor()||x.defaultFillStyle)}else this.textFillState_=D=null;if(A=f.getStroke()){C=this.textStrokeState_;
C||(this.textStrokeState_=C={});var P=A.getLineDash(),L=A.getLineDashOffset(),G=A.getWidth(),z=A.getMiterLimit();C.lineCap=A.getLineCap()||x.defaultLineCap;C.lineDash=P?P.slice():x.defaultLineDash;C.lineDashOffset=void 0===L?x.defaultLineDashOffset:L;C.lineJoin=A.getLineJoin()||x.defaultLineJoin;C.lineWidth=void 0===G?x.defaultLineWidth:G;C.miterLimit=void 0===z?x.defaultMiterLimit:z;C.strokeStyle=(0,O.asColorLike)(A.getColor()||x.defaultStrokeStyle)}else this.textStrokeState_=C=null;A=this.textState_;
P=f.getFont()||x.defaultFont;(0,x.registerFont)(P);L=f.getScaleArray();A.overflow=f.getOverflow();A.font=P;A.maxAngle=f.getMaxAngle();A.placement=f.getPlacement();A.textAlign=f.getTextAlign();A.textBaseline=f.getTextBaseline()||x.defaultTextBaseline;A.backgroundFill=f.getBackgroundFill();A.backgroundStroke=f.getBackgroundStroke();A.padding=f.getPadding()||x.defaultPadding;A.scale=void 0===L?[1,1]:L;P=f.getOffsetX();L=f.getOffsetY();G=f.getRotateWithView();z=f.getRotation();this.text_=f.getText()||
"";this.textOffsetX_=void 0===P?0:P;this.textOffsetY_=void 0===L?0:L;this.textRotateWithView_=void 0===G?!1:G;this.textRotation_=void 0===z?0:z;this.strokeKey_=C?("string"==typeof C.strokeStyle?C.strokeStyle:(0,y.getUid)(C.strokeStyle))+C.lineCap+C.lineDashOffset+"|"+C.lineWidth+C.lineJoin+C.miterLimit+"["+C.lineDash.join()+"]":"";this.textKey_=A.font+A.scale+(A.textAlign||"?")+(A.textBaseline||"?");this.fillKey_=D?"string"==typeof D.fillStyle?D.fillStyle:"|"+(0,y.getUid)(D.fillStyle):""}else this.text_=
"";this.declutterImageWithText_=p};return a}(Ha["default"]);E["default"]=B};
shadow$provide[221]=function(Ha,B,rb,E){function g(O){return O&&O.__esModule?O:{"default":O}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=g(B(214));rb=g(B(215));var m=g(B(216)),n=g(B(217));B=g(B(220));var F={Circle:n["default"],Default:Ha["default"],Image:rb["default"],LineString:m["default"],Polygon:n["default"],Text:B["default"]};B=function(){function O(x,y,q,l){this.tolerance_=x;this.maxExtent_=y;this.pixelRatio_=l;this.resolution_=q;this.buildersByZIndex_={}}O.prototype.finish=
function(){var x={},y;for(y in this.buildersByZIndex_){x[y]=x[y]||{};var q=this.buildersByZIndex_[y],l;for(l in q){var h=q[l].finish();x[y][l]=h}}return x};O.prototype.getBuilder=function(x,y){var q=void 0!==x?x.toString():"0";x=this.buildersByZIndex_[q];void 0===x&&(x={},this.buildersByZIndex_[q]=x);q=x[y];void 0===q&&(q=new F[y](this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),x[y]=q);return q};return O}();E["default"]=B};
shadow$provide[222]=function(Ha,B,rb,E){function g(y){return y&&y.__esModule?y:{"default":y}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var m=g(B(92)),n=g(B(203));Ha=g(B(94));var F=g(B(99)),O=B(78),x=function(){var y=function(q,l){y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var e in c)Object.prototype.hasOwnProperty.call(c,e)&&(h[e]=c[e])};return y(q,l)};return function(q,l){function h(){this.constructor=q}y(q,
l);q.prototype=null===l?Object.create(l):(h.prototype=l.prototype,new h)}}();B=function(y){function q(l){var h=y.call(this)||this;h.boundHandleImageChange_=h.handleImageChange_.bind(h);h.layer_=l;h.declutterExecutorGroup=null;return h}x(q,y);q.prototype.getFeatures=function(l){return(0,O["abstract"])()};q.prototype.prepareFrame=function(l){return(0,O["abstract"])()};q.prototype.renderFrame=function(l,h){return(0,O["abstract"])()};q.prototype.loadedTileCallback=function(l,h,c){l[h]||(l[h]={});l[h][c.tileCoord.toString()]=
c};q.prototype.createLoadedTileFinder=function(l,h,c){return function(e,a){var f=this.loadedTileCallback.bind(this,c,e);return l.forEachLoadedTile(h,e,a,f)}.bind(this)};q.prototype.forEachFeatureAtCoordinate=function(l,h,c,e,a){};q.prototype.getDataAtPixel=function(l,h,c){return(0,O["abstract"])()};q.prototype.getLayer=function(){return this.layer_};q.prototype.handleFontsChanged=function(){};q.prototype.handleImageChange_=function(l){l.target.getState()===n["default"].LOADED&&this.renderIfReadyAndVisible()};
q.prototype.loadImage=function(l){var h=l.getState();h!=n["default"].LOADED&&h!=n["default"].ERROR&&l.addEventListener(m["default"].CHANGE,this.boundHandleImageChange_);h==n["default"].IDLE&&(l.load(),h=l.getState());return h==n["default"].LOADED};q.prototype.renderIfReadyAndVisible=function(){var l=this.getLayer();l.getVisible()&&l.getSourceState()==F["default"].READY&&l.changed()};return q}(Ha["default"]);E["default"]=B};
shadow$provide[223]=function(Ha,B,rb,E){function g(l){return l&&l.__esModule?l:{"default":l}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=g(B(222));var m=g(B(104)),n=g(B(98)),F=B(81),O=B(84),x=B(107),y=B(108),q=function(){var l=function(h,c){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,a){e.__proto__=a}||function(e,a){for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(e[f]=a[f])};return l(h,c)};return function(h,c){function e(){this.constructor=
h}l(h,c);h.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)}}();B=function(l){function h(c){c=l.call(this,c)||this;c.container=null;c.tempTransform=(0,F.create)();c.pixelTransform=(0,F.create)();c.inversePixelTransform=(0,F.create)();c.context=null;c.containerReused=!1;return c}q(h,l);h.prototype.useContainer=function(c,e,a){a=this.getLayer().getClassName();var f;if(c&&""===c.style.opacity&&c.className===a){var p=c.firstElementChild;p instanceof HTMLCanvasElement&&(f=p.getContext("2d"))}!f||
0!==f.canvas.width&&f.canvas.style.transform!==e?this.containerReused&&(this.context=this.container=null,this.containerReused=!1):(this.container=c,this.context=f,this.containerReused=!0);this.container||(c=document.createElement("div"),c.className=a,e=c.style,e.position="absolute",e.width="100%",e.height="100%",f=(0,x.createCanvasContext2D)(),p=f.canvas,c.appendChild(p),e=p.style,e.position="absolute",e.left="0",e.transformOrigin="top left",this.container=c,this.context=f)};h.prototype.clip=function(c,
e,a){var f=e.pixelRatio,p=e.size[0]*f/2,A=e.size[1]*f/2,C=e.viewState.rotation,D=(0,O.getTopLeft)(a),P=(0,O.getTopRight)(a),L=(0,O.getBottomRight)(a);a=(0,O.getBottomLeft)(a);(0,F.apply)(e.coordinateToPixelTransform,D);(0,F.apply)(e.coordinateToPixelTransform,P);(0,F.apply)(e.coordinateToPixelTransform,L);(0,F.apply)(e.coordinateToPixelTransform,a);c.save();(0,y.rotateAtOffset)(c,-C,p,A);c.beginPath();c.moveTo(D[0]*f,D[1]*f);c.lineTo(P[0]*f,P[1]*f);c.lineTo(L[0]*f,L[1]*f);c.lineTo(a[0]*f,a[1]*f);
c.clip();(0,y.rotateAtOffset)(c,C,p,A)};h.prototype.clipUnrotated=function(c,e,a){var f=(0,O.getTopLeft)(a),p=(0,O.getTopRight)(a),A=(0,O.getBottomRight)(a);a=(0,O.getBottomLeft)(a);(0,F.apply)(e.coordinateToPixelTransform,f);(0,F.apply)(e.coordinateToPixelTransform,p);(0,F.apply)(e.coordinateToPixelTransform,A);(0,F.apply)(e.coordinateToPixelTransform,a);e=this.inversePixelTransform;(0,F.apply)(e,f);(0,F.apply)(e,p);(0,F.apply)(e,A);(0,F.apply)(e,a);c.save();c.beginPath();c.moveTo(Math.round(f[0]),
Math.round(f[1]));c.lineTo(Math.round(p[0]),Math.round(p[1]));c.lineTo(Math.round(A[0]),Math.round(A[1]));c.lineTo(Math.round(a[0]),Math.round(a[1]));c.clip()};h.prototype.dispatchRenderEvent_=function(c,e,a){var f=this.getLayer();f.hasListener(c)&&(c=new m["default"](c,this.inversePixelTransform,a,e),f.dispatchEvent(c))};h.prototype.preRender=function(c,e){this.dispatchRenderEvent_(n["default"].PRERENDER,c,e)};h.prototype.postRender=function(c,e){this.dispatchRenderEvent_(n["default"].POSTRENDER,
c,e)};h.prototype.getRenderTransform=function(c,e,a,f,p,A,C){p/=2;A/=2;e=f/e;f=-e;C=-c[0]+C;c=-c[1];return(0,F.compose)(this.tempTransform,p,A,e,f,-a,C,c)};h.prototype.getDataAtPixel=function(c,e,a){a=(0,F.apply)(this.inversePixelTransform,c.slice());var f=this.context,p=this.getLayer().getExtent();if(p&&(c=(0,F.apply)(e.pixelToCoordinateTransform,c.slice()),!(0,O.containsCoordinate)(p,c)))return null;try{var A=Math.round(a[0]),C=Math.round(a[1]),D=document.createElement("canvas"),P=D.getContext("2d");
D.width=1;D.height=1;P.clearRect(0,0,1,1);P.drawImage(f.canvas,A,C,1,1,0,0,1,1);var L=P.getImageData(0,0,1,1).data}catch(G){return"SecurityError"===G.name?new Uint8Array:L}return 0===L[3]?null:L};return h}(Ha["default"]);E["default"]=B};
shadow$provide[224]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"}};
shadow$provide[225]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.drawTextOnPath=function(n,F,O,x,y,q,l,h,c,e,a,f){function p(){D=A;P=C;F+=x;A=n[F];C=n[F+1];G+=L;L=Math.sqrt((A-D)*(A-D)+(C-P)*(C-P))}var A=n[F],C=n[F+1],D=0,P=0,L=0,G=0;do p();while(F<O-x&&G+L<q);for(var z=(q-G)/L,J=(0,g.lerp)(D,A,z),K=(0,g.lerp)(P,C,z),R=F-x,U=G,ka=q+h*c(e,y,a);F<O-x&&G+L<ka;)p();z=(ka-G)/L;var ba=(0,g.lerp)(D,A,z);z=(0,g.lerp)(P,C,z);if(f){var da=[J,K,ba,z];(0,m.rotate)(da,0,4,2,f,da,da);
f=da[0]>da[2]}else f=J>ba;da=Math.PI;var ja=[],Z=R+x===F;F=R;L=0;G=U;A=n[F];C=n[F+1];if(Z)return p(),O=Math.atan2(C-P,A-D),f&&(O+=0<O?-da:da),ja[0]=[(ba+J)/2,(z+K)/2,(ka-q)/2,O,y],ja;J=0;for(K=y.length;J<K;){p();ka=Math.atan2(C-P,A-D);f&&(ka+=0<ka?-da:da);if(void 0!==Q){var Q=ka-Q;Q+=Q>da?-2*da:Q<-da?2*da:0;if(Math.abs(Q)>l)return null}Q=ka;z=J;for(ba=0;J<K;++J){R=h*c(e,y[f?K-J-1:J],a);if(F+x<O&&G+L<q+ba+R/2)break;ba+=R}J!==z&&(U=f?y.substring(K-z,K-J):y.substring(z,J),z=(q+ba/2-G)/L,R=(0,g.lerp)(D,
A,z),z=(0,g.lerp)(P,C,z),ja.push([R,z,ba/2,ka,U]),q+=ba)}return ja};var g=B(85),m=B(140)};
shadow$provide[226]=function(Ha,B,rb,E){function g(P){return P[3].declutterBox}function m(P,L){"start"!==L&&"end"!==L||D.test(P)||(L="start"===L?"left":"right");return F.TEXT_ALIGN[L]}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var n=function(P){return P&&P.__esModule?P:{"default":P}}(B(212)),F=B(220),O=B(106),x=B(81),y=B(84),q=B(108),l=B(225),h=B(76),c=B(196),e=B(140),a=(0,y.createEmpty)(),f=[],p=[],A=[],C=[],D=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+
String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");Ha=function(){function P(L,G,z,J,K){this.overlaps=z;this.pixelRatio=G;this.resolution=L;this.instructions=J.instructions;this.coordinates=J.coordinates;this.coordinateCache_={};this.renderBuffer_=K;this.renderedTransform_=(0,x.create)();this.hitDetectionInstructions=
J.hitDetectionInstructions;this.pixelCoordinates_=null;this.viewRotation_=0;this.fillStates=J.fillStates||{};this.strokeStates=J.strokeStates||{};this.textStates=J.textStates||{};this.widths_={};this.labels_={}}P.prototype.createLabel=function(L,G,z,J){var K=L+G+z+J;if(this.labels_[K])return this.labels_[K];var R=J?this.strokeStates[J]:null,U=z?this.fillStates[z]:null,ka=this.textStates[G];G=this.pixelRatio;var ba=[ka.scale[0]*G,ka.scale[1]*G],da=m(L,ka.textAlign||q.defaultTextAlign);G=J&&R.lineWidth?
R.lineWidth:0;L=L.split("\n");var ja=L.length,Z=[],Q=(0,q.measureTextWidths)(ka.font,L,Z),r=(0,q.measureTextHeight)(ka.font),N=Q+G;Q=[];var ea=(N+2)*ba[0],aa=(r*ja+G)*ba[1];ea={width:0>ea?Math.floor(ea):Math.ceil(ea),height:0>aa?Math.floor(aa):Math.ceil(aa),contextInstructions:Q};1==ba[0]&&1==ba[1]||Q.push("scale",ba);Q.push("font",ka.font);J&&(Q.push("strokeStyle",R.strokeStyle),Q.push("lineWidth",G),Q.push("lineCap",R.lineCap),Q.push("lineJoin",R.lineJoin),Q.push("miterLimit",R.miterLimit),(O.WORKER_OFFSCREEN_CANVAS?
OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(Q.push("setLineDash",[R.lineDash]),Q.push("lineDashOffset",R.lineDashOffset)));z&&Q.push("fillStyle",U.fillStyle);Q.push("textBaseline","middle");Q.push("textAlign","center");R=.5-da;U=da*N+R*G;if(J)for(J=0;J<ja;++J)Q.push("strokeText",[L[J],U+R*Z[J],.5*(G+r)+J*r]);if(z)for(J=0;J<ja;++J)Q.push("fillText",[L[J],U+R*Z[J],.5*(G+r)+J*r]);return this.labels_[K]=ea};P.prototype.replayTextBackground_=function(L,G,z,J,K,R,
U){L.beginPath();L.moveTo.apply(L,G);L.lineTo.apply(L,z);L.lineTo.apply(L,J);L.lineTo.apply(L,K);L.lineTo.apply(L,G);R&&(this.alignFill_=R[2],this.fill_(L));U&&(this.setStrokeStyle_(L,U),L.stroke())};P.prototype.calculateImageOrLabelDimensions_=function(L,G,z,J,K,R,U,ka,ba,da,ja,Z,Q,r,N,ea){U*=Z[0];ka*=Z[1];U=z-U;ka=J-ka;L=K+ba>L?L-ba:K;G=R+da>G?G-da:R;R=r[3]+L*Z[0]+r[1];K=r[0]+G*Z[1]+r[2];var aa=U-r[3];r=ka-r[0];if(N||0!==ja)f[0]=aa,C[0]=aa,f[1]=r,p[1]=r,p[0]=aa+R,A[0]=p[0],A[1]=r+K,C[1]=A[1];if(0!==
ja){var va=(0,x.compose)((0,x.create)(),z,J,1,1,ja,-z,-J);(0,x.apply)(va,f);(0,x.apply)(va,p);(0,x.apply)(va,A);(0,x.apply)(va,C);(0,y.createOrUpdate)(Math.min(f[0],p[0],A[0],C[0]),Math.min(f[1],p[1],A[1],C[1]),Math.max(f[0],p[0],A[0],C[0]),Math.max(f[1],p[1],A[1],C[1]),a)}else(0,y.createOrUpdate)(Math.min(aa,aa+R),Math.min(r,r+K),Math.max(aa,aa+R),Math.max(r,r+K),a);Q&&(U=Math.round(U),ka=Math.round(ka));return{drawImageX:U,drawImageY:ka,drawImageW:L,drawImageH:G,originX:ba,originY:da,declutterBox:{minX:a[0],
minY:a[1],maxX:a[2],maxY:a[3],value:ea},canvasTransform:va,scale:Z}};P.prototype.replayImageOrLabel_=function(L,G,z,J,K,R,U){var ka=J.declutterBox,ba=L.canvas,da=U?U[2]*J.scale[0]/2:0;ka.minX-da<=ba.width/G&&0<=ka.maxX+da&&ka.minY-da<=ba.height/G&&0<=ka.maxY+da&&((R||U)&&this.replayTextBackground_(L,f,p,A,C,R,U),(0,q.drawImageOrLabel)(L,J.canvasTransform,K,z,J.originX,J.originY,J.drawImageW,J.drawImageH,J.drawImageX,J.drawImageY,J.scale));return!0};P.prototype.fill_=function(L){if(this.alignFill_){var G=
(0,x.apply)(this.renderedTransform_,[0,0]),z=512*this.pixelRatio;L.save();L.translate(G[0]%z,G[1]%z);L.rotate(this.viewRotation_)}L.fill();this.alignFill_&&L.restore()};P.prototype.setStrokeStyle_=function(L,G){L.strokeStyle=G[1];L.lineWidth=G[2];L.lineCap=G[3];L.lineJoin=G[4];L.miterLimit=G[5];L.setLineDash&&(L.lineDashOffset=G[7],L.setLineDash(G[6]))};P.prototype.drawLabelWithPointPlacement_=function(L,G,z,J){var K=this.textStates[G];G=this.createLabel(L,G,J,z);J=this.strokeStates[z];z=this.pixelRatio;
L=m(L,K.textAlign||q.defaultTextAlign);var R=F.TEXT_ALIGN[K.textBaseline||q.defaultTextBaseline];J=J&&J.lineWidth?J.lineWidth:0;return{label:G,anchorX:L*(G.width/z-2*K.scale[0])+2*(.5-L)*J,anchorY:R*G.height/z+2*(.5-R)*J}};P.prototype.execute_=function(L,G,z,J,K,R,U,ka){if(this.pixelCoordinates_&&(0,h.equals)(z,this.renderedTransform_))var ba=this.pixelCoordinates_;else this.pixelCoordinates_||(this.pixelCoordinates_=[]),ba=(0,e.transform2D)(this.coordinates,0,this.coordinates.length,2,z,this.pixelCoordinates_),
(0,x.setFromArray)(this.renderedTransform_,z);var da=0,ja=J.length,Z,Q=0,r=0,N=null,ea=null,aa=this.coordinateCache_,va=this.viewRotation_;z=Math.round(1E12*Math.atan2(-z[1],z[0]))/1E12;for(var ta={context:L,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:va},Da=this.instructions!=J||this.overlaps?0:200,$a,kb;da<ja;){var sa=J[da];switch(sa[0]){case n["default"].BEGIN_GEOMETRY:$a=sa[1];kb=sa[3];$a.getGeometry()?void 0===U||(0,y.intersects)(U,kb.getExtent())?++da:da=sa[2]+1:da=sa[2];
break;case n["default"].BEGIN_PATH:Q>Da&&(this.fill_(L),Q=0);r>Da&&(L.stroke(),r=0);if(!Q&&!r){L.beginPath();var Ta=Z=NaN}++da;break;case n["default"].CIRCLE:var Wa=sa[1];var Ea=ba[Wa];var ua=ba[Wa+1];var V=ba[Wa+2]-Ea;Wa=ba[Wa+3]-ua;V=Math.sqrt(V*V+Wa*Wa);L.moveTo(Ea+V,ua);L.arc(Ea,ua,V,0,2*Math.PI,!0);++da;break;case n["default"].CLOSE_PATH:L.closePath();++da;break;case n["default"].CUSTOM:Wa=sa[1];var W=sa[2];Ea=sa[4];ua=6==sa.length?sa[5]:void 0;ta.geometry=sa[3];ta.feature=$a;da in aa||(aa[da]=
[]);V=aa[da];ua?ua(ba,Wa,W,2,V):(V[0]=ba[Wa],V[1]=ba[Wa+1],V.length=2);Ea(V,ta);++da;break;case n["default"].DRAW_IMAGE:Wa=sa[1];W=sa[2];Ea=sa[3];var ca=sa[4];var fa=sa[5];ua=sa[6];var qa=sa[7],pa=sa[8],Ga=sa[9],na=sa[10],Oa=sa[11],cb=sa[12];V=sa[13];var Za=sa[14];!Ea&&19<=sa.length&&(ca=sa[18],Ea=sa[19],ua=sa[20],V=sa[21],ua=this.drawLabelWithPointPlacement_(ca,Ea,ua,V),Ea=ua.label,sa[3]=Ea,ca=(ua.anchorX-sa[22])*this.pixelRatio,sa[4]=ca,fa=(ua.anchorY-sa[23])*this.pixelRatio,sa[5]=fa,ua=Ea.height,
sa[6]=ua,V=Ea.width,sa[13]=V);var Aa=void 0;24<sa.length&&(Aa=sa[24]);if(16<sa.length){var Fa=sa[15];var Ra=sa[16];var ab=sa[17]}else Fa=q.defaultPadding,ab=Ra=!1;na&&z?Oa+=va:na||z||(Oa-=va);for(na=0;Wa<W;Wa+=2)if(!(Aa&&Aa[na++]<V/this.pixelRatio)){sa=this.calculateImageOrLabelDimensions_(Ea.width,Ea.height,ba[Wa],ba[Wa+1],V,ua,ca,fa,pa,Ga,Oa,cb,K,Fa,Ra||ab,$a);var lb=[L,G,Ea,sa,qa,Ra?N:null,ab?ea:null],Ma=void 0,nb=void 0;if(ka&&Za){if(!Za[Wa]){Za[Wa]=lb;continue}Ma=Za[Wa];delete Za[Wa];nb=g(Ma);
if(ka.collides(nb))continue}ka&&ka.collides(sa.declutterBox)||(Ma&&(ka&&ka.insert(nb),this.replayImageOrLabel_.apply(this,Ma)),ka&&ka.insert(sa.declutterBox),this.replayImageOrLabel_.apply(this,lb))}++da;break;case n["default"].DRAW_CHARS:fa=sa[1];Oa=sa[2];Wa=sa[3];Za=sa[4];V=sa[5];cb=sa[6];Ga=sa[7];W=sa[8];ua=sa[9];qa=sa[10];ca=sa[11];Ea=sa[12];pa=[sa[13],sa[13]];na=this.textStates[Ea];sa=na.font;Ga=[na.scale[0]*Ga,na.scale[1]*Ga];sa in this.widths_?na=this.widths_[sa]:(na={},this.widths_[sa]=na);
Aa=(0,c.lineStringLength)(ba,fa,Oa,2);Fa=Math.abs(Ga[0])*(0,q.measureAndCacheTextWidth)(sa,ca,na);if(Za||Fa<=Aa)a:if(Za=(Aa-Fa)*F.TEXT_ALIGN[this.textStates[Ea].textAlign],cb=(0,l.drawTextOnPath)(ba,fa,Oa,2,ca,Za,cb,Math.abs(Ga[0]),q.measureAndCacheTextWidth,sa,na,z?0:this.viewRotation_),cb){Oa=[];if(ua)for(Za=0,na=cb.length;Za<na;++Za){sa=cb[Za];ca=sa[4];Aa=this.createLabel(ca,Ea,"",ua);ca=sa[2]+(0>Ga[0]?-qa:qa);fa=Wa*Aa.height+2*(.5-Wa)*qa*Ga[1]/Ga[0]-W;sa=this.calculateImageOrLabelDimensions_(Aa.width,
Aa.height,sa[0],sa[1],Aa.width,Aa.height,ca,fa,0,0,sa[3],pa,!1,q.defaultPadding,!1,$a);if(ka&&ka.collides(sa.declutterBox))break a;Oa.push([L,G,Aa,sa,1,null,null])}if(V)for(Za=0,na=cb.length;Za<na;++Za){sa=cb[Za];ca=sa[4];Aa=this.createLabel(ca,Ea,V,"");ca=sa[2];fa=Wa*Aa.height-W;sa=this.calculateImageOrLabelDimensions_(Aa.width,Aa.height,sa[0],sa[1],Aa.width,Aa.height,ca,fa,0,0,sa[3],pa,!1,q.defaultPadding,!1,$a);if(ka&&ka.collides(sa.declutterBox))break a;Oa.push([L,G,Aa,sa,1,null,null])}ka&&ka.load(Oa.map(g));
Ea=0;for(ua=Oa.length;Ea<ua;++Ea)this.replayImageOrLabel_.apply(this,Oa[Ea])}++da;break;case n["default"].END_GEOMETRY:if(void 0!==R&&($a=sa[1],Ea=R($a,kb)))return Ea;++da;break;case n["default"].FILL:Da?Q++:this.fill_(L);++da;break;case n["default"].MOVE_TO_LINE_TO:Wa=sa[1];W=sa[2];V=ba[Wa];ca=ba[Wa+1];Ea=V+.5|0;ua=ca+.5|0;if(Ea!==Z||ua!==Ta)L.moveTo(V,ca),Z=Ea,Ta=ua;for(Wa+=2;Wa<W;Wa+=2)if(V=ba[Wa],ca=ba[Wa+1],Ea=V+.5|0,ua=ca+.5|0,Wa==W-2||Ea!==Z||ua!==Ta)L.lineTo(V,ca),Z=Ea,Ta=ua;++da;break;case n["default"].SET_FILL_STYLE:N=
sa;this.alignFill_=sa[2];Q&&(this.fill_(L),Q=0,r&&(L.stroke(),r=0));L.fillStyle=sa[1];++da;break;case n["default"].SET_STROKE_STYLE:ea=sa;r&&(L.stroke(),r=0);this.setStrokeStyle_(L,sa);++da;break;case n["default"].STROKE:Da?r++:L.stroke();++da;break;default:++da}}Q&&this.fill_(L);r&&L.stroke()};P.prototype.execute=function(L,G,z,J,K,R){this.viewRotation_=J;this.execute_(L,G,z,this.instructions,K,void 0,void 0,R)};P.prototype.executeHitDetection=function(L,G,z,J,K){this.viewRotation_=z;return this.execute_(L,
1,G,this.hitDetectionInstructions,!0,J,K)};return P}();E["default"]=Ha};
shadow$provide[227]=function(Ha,B,rb,E){function g(a){return a&&a.__esModule?a:{"default":a}}function m(a){if(void 0!==e[a])return e[a];for(var f=2*a+1,p=a*a,A=Array(p+1),C=0;C<=a;++C)for(var D=0;D<=a;++D){var P=C*C+D*D;if(P>p)break;var L=A[P];L||(L=[],A[P]=L);L.push(4*((a+C)*f+(a+D))+3);0<C&&L.push(4*((a-C)*f+(a+D))+3);0<D&&(L.push(4*((a+C)*f+(a-D))+3),0<C&&L.push(4*((a-C)*f+(a-D))+3))}f=[];C=0;for(p=A.length;C<p;++C)A[C]&&f.push.apply(f,A[C]);return e[a]=f}Object.defineProperty(E,"__esModule",{value:!0});
E.getPixelIndexArray=m;E["default"]=void 0;var n=g(B(224)),F=g(B(226)),O=B(84),x=B(81),y=B(107),q=B(90),l=B(76),h=B(140),c=[n["default"].POLYGON,n["default"].CIRCLE,n["default"].LINE_STRING,n["default"].IMAGE,n["default"].TEXT,n["default"].DEFAULT];Ha=function(){function a(f,p,A,C,D,P){this.maxExtent_=f;this.overlaps_=C;this.pixelRatio_=A;this.resolution_=p;this.renderBuffer_=P;this.executorsByZIndex_={};this.hitDetectionContext_=null;this.hitDetectionTransform_=(0,x.create)();this.createExecutors_(D)}
a.prototype.clip=function(f,p){p=this.getClipCoords(p);f.beginPath();f.moveTo(p[0],p[1]);f.lineTo(p[2],p[3]);f.lineTo(p[4],p[5]);f.lineTo(p[6],p[7]);f.clip()};a.prototype.createExecutors_=function(f){for(var p in f){var A=this.executorsByZIndex_[p];void 0===A&&(A={},this.executorsByZIndex_[p]=A);var C=f[p],D=[this.renderBuffer_||0,this.renderBuffer_||0],P;for(P in C)A[P]=new F["default"](this.resolution_,this.pixelRatio_,this.overlaps_,C[P],D)}};a.prototype.hasExecutors=function(f){for(var p in this.executorsByZIndex_)for(var A=
this.executorsByZIndex_[p],C=0,D=f.length;C<D;++C)if(f[C]in A)return!0;return!1};a.prototype.forEachFeatureAtCoordinate=function(f,p,A,C,D,P){function L(ja,Z){for(var Q=K.getImageData(0,0,G,G).data,r=0,N=U.length;r<N;r++)if(0<Q[U[r]]){if(!P||ba!==n["default"].IMAGE&&ba!==n["default"].TEXT||-1!==P.indexOf(ja))if(r=(U[r]-3)/4,Q=C-r%G,r=C-(r/G|0),ja=D(ja,Z,Q*Q+r*r))return ja;K.clearRect(0,0,G,G);break}}C=Math.round(C);var G=2*C+1,z=(0,x.compose)(this.hitDetectionTransform_,C+.5,C+.5,1/p,-1/p,-A,-f[0],
-f[1]),J=!this.hitDetectionContext_;J&&(this.hitDetectionContext_=(0,y.createCanvasContext2D)(G,G));var K=this.hitDetectionContext_;K.canvas.width!==G||K.canvas.height!==G?(K.canvas.width=G,K.canvas.height=G):J||K.clearRect(0,0,G,G);if(void 0!==this.renderBuffer_){var R=(0,O.createEmpty)();(0,O.extendCoordinate)(R,f);(0,O.buffer)(R,p*(this.renderBuffer_+C),R)}var U=m(C);f=Object.keys(this.executorsByZIndex_).map(Number);f.sort(l.numberSafeCompareFunction);for(p=f.length-1;0<=p;--p){var ka=this.executorsByZIndex_[f[p].toString()];
for(J=c.length-1;0<=J;--J){var ba=c[J];var da=ka[ba];if(void 0!==da&&(da=da.executeHitDetection(K,z,A,L,R)))return da}}};a.prototype.getClipCoords=function(f){var p=this.maxExtent_;if(!p)return null;var A=p[0],C=p[1],D=p[2];p=p[3];A=[A,C,A,p,D,p,D,C];(0,h.transform2D)(A,0,8,2,f,A);return A};a.prototype.isEmpty=function(){return(0,q.isEmpty)(this.executorsByZIndex_)};a.prototype.execute=function(f,p,A,C,D,P,L){var G=Object.keys(this.executorsByZIndex_).map(Number);G.sort(l.numberSafeCompareFunction);
this.maxExtent_&&(f.save(),this.clip(f,A));P=P?P:c;var z,J;L&&G.reverse();var K=0;for(z=G.length;K<z;++K){var R=this.executorsByZIndex_[G[K].toString()];var U=0;for(J=P.length;U<J;++U){var ka=R[P[U]];void 0!==ka&&ka.execute(f,p,A,C,D,L)}}this.maxExtent_&&f.restore()};return a}();var e={};E["default"]=Ha};
shadow$provide[228]=function(Ha,B,rb,E){function g(c){return c&&c.__esModule?c:{"default":c}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var m=g(B(123));Ha=g(B(213));var n=B(205),F=B(81),O=B(108),x=B(76),y=B(84),q=B(140),l=B(142),h=function(){var c=function(e,a){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var A in p)Object.prototype.hasOwnProperty.call(p,A)&&(f[A]=p[A])};return c(e,a)};return function(e,a){function f(){this.constructor=
e}c(e,a);e.prototype=null===a?Object.create(a):(f.prototype=a.prototype,new f)}}();B=function(c){function e(a,f,p,A,C,D,P){var L=c.call(this)||this;L.context_=a;L.pixelRatio_=f;L.extent_=p;L.transform_=A;L.viewRotation_=C;L.squaredTolerance_=D;L.userTransform_=P;L.contextFillState_=null;L.contextStrokeState_=null;L.contextTextState_=null;L.fillState_=null;L.strokeState_=null;L.image_=null;L.imageAnchorX_=0;L.imageAnchorY_=0;L.imageHeight_=0;L.imageOpacity_=0;L.imageOriginX_=0;L.imageOriginY_=0;L.imageRotateWithView_=
!1;L.imageRotation_=0;L.imageScale_=[0,0];L.imageWidth_=0;L.text_="";L.textOffsetX_=0;L.textOffsetY_=0;L.textRotateWithView_=!1;L.textRotation_=0;L.textScale_=[0,0];L.textFillState_=null;L.textStrokeState_=null;L.textState_=null;L.pixelCoordinates_=[];L.tmpLocalTransform_=(0,F.create)();return L}h(e,c);e.prototype.drawImages_=function(a,f,p,A){if(this.image_){a=(0,q.transform2D)(a,f,p,2,this.transform_,this.pixelCoordinates_);f=this.context_;p=this.tmpLocalTransform_;A=f.globalAlpha;1!=this.imageOpacity_&&
(f.globalAlpha=A*this.imageOpacity_);var C=this.imageRotation_;this.imageRotateWithView_&&(C+=this.viewRotation_);for(var D=0,P=a.length;D<P;D+=2){var L=a[D]-this.imageAnchorX_,G=a[D+1]-this.imageAnchorY_;0!==C||1!=this.imageScale_[0]||1!=this.imageScale_[1]?(L+=this.imageAnchorX_,G+=this.imageAnchorY_,(0,F.compose)(p,L,G,1,1,C,-L,-G),f.setTransform.apply(f,p),f.translate(L,G),f.scale(this.imageScale_[0],this.imageScale_[1]),f.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,
this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),f.setTransform(1,0,0,1,0,0)):f.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,L,G,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(f.globalAlpha=A)}};e.prototype.drawText_=function(a,f,p,A){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_);this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_);
this.setContextTextState_(this.textState_);a=(0,q.transform2D)(a,f,p,A,this.transform_,this.pixelCoordinates_);var C=this.context_,D=this.textRotation_;for(this.textRotateWithView_&&(D+=this.viewRotation_);f<p;f+=A){var P=a[f]+this.textOffsetX_,L=a[f+1]+this.textOffsetY_;if(0!==D||1!=this.textScale_[0]||1!=this.textScale_[1]){var G=(0,F.compose)(this.tmpLocalTransform_,P,L,1,1,D,-P,-L);C.setTransform.apply(C,G);C.translate(P,L);C.scale(this.textScale_[0],this.textScale_[1]);this.textStrokeState_&&
C.strokeText(this.text_,0,0);this.textFillState_&&C.fillText(this.text_,0,0);C.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&C.strokeText(this.text_,P,L),this.textFillState_&&C.fillText(this.text_,P,L)}}};e.prototype.moveToLineTo_=function(a,f,p,A,C){var D=this.context_;a=(0,q.transform2D)(a,f,p,A,this.transform_,this.pixelCoordinates_);D.moveTo(a[0],a[1]);f=a.length;C&&(f-=2);for(A=2;A<f;A+=2)D.lineTo(a[A],a[A+1]);C&&D.closePath();return p};e.prototype.drawRings_=function(a,f,p,A){for(var C=
0,D=p.length;C<D;++C)f=this.moveToLineTo_(a,f,p[C],A,!0);return f};e.prototype.drawCircle=function(a){if((0,y.intersects)(this.extent_,a.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_);this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var f=(0,l.transformGeom2D)(a,this.transform_,this.pixelCoordinates_),p=f[2]-f[0],A=f[3]-f[1];p=Math.sqrt(p*p+A*A);A=this.context_;A.beginPath();A.arc(f[0],f[1],p,0,2*Math.PI);this.fillState_&&
A.fill();this.strokeState_&&A.stroke()}""!==this.text_&&this.drawText_(a.getCenter(),0,2,2)}};e.prototype.setStyle=function(a){this.setFillStrokeStyle(a.getFill(),a.getStroke());this.setImageStyle(a.getImage());this.setTextStyle(a.getText())};e.prototype.setTransform=function(a){this.transform_=a};e.prototype.drawGeometry=function(a){switch(a.getType()){case m["default"].POINT:this.drawPoint(a);break;case m["default"].LINE_STRING:this.drawLineString(a);break;case m["default"].POLYGON:this.drawPolygon(a);
break;case m["default"].MULTI_POINT:this.drawMultiPoint(a);break;case m["default"].MULTI_LINE_STRING:this.drawMultiLineString(a);break;case m["default"].MULTI_POLYGON:this.drawMultiPolygon(a);break;case m["default"].GEOMETRY_COLLECTION:this.drawGeometryCollection(a);break;case m["default"].CIRCLE:this.drawCircle(a)}};e.prototype.drawFeature=function(a,f){(a=f.getGeometryFunction()(a))&&(0,y.intersects)(this.extent_,a.getExtent())&&(this.setStyle(f),this.drawGeometry(a))};e.prototype.drawGeometryCollection=
function(a){a=a.getGeometriesArray();for(var f=0,p=a.length;f<p;++f)this.drawGeometry(a[f])};e.prototype.drawPoint=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var f=a.getFlatCoordinates();a=a.getStride();this.image_&&this.drawImages_(f,0,f.length,a);""!==this.text_&&this.drawText_(f,0,f.length,a)};e.prototype.drawMultiPoint=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var f=a.getFlatCoordinates();
a=a.getStride();this.image_&&this.drawImages_(f,0,f.length,a);""!==this.text_&&this.drawText_(f,0,f.length,a)};e.prototype.drawLineString=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));if((0,y.intersects)(this.extent_,a.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var f=this.context_,p=a.getFlatCoordinates();f.beginPath();this.moveToLineTo_(p,0,p.length,a.getStride(),!1);f.stroke()}""!==this.text_&&(a=
a.getFlatMidpoint(),this.drawText_(a,0,2,2))}};e.prototype.drawMultiLineString=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var f=a.getExtent();if((0,y.intersects)(this.extent_,f)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);f=this.context_;var p=a.getFlatCoordinates(),A=0,C=a.getEnds(),D=a.getStride();f.beginPath();for(var P=0,L=C.length;P<L;++P)A=this.moveToLineTo_(p,A,C[P],D,!1);f.stroke()}""!==this.text_&&(a=
a.getFlatMidpoints(),this.drawText_(a,0,a.length,2))}};e.prototype.drawPolygon=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));if((0,y.intersects)(this.extent_,a.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_);this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var f=this.context_;f.beginPath();this.drawRings_(a.getOrientedFlatCoordinates(),0,a.getEnds(),a.getStride());
this.fillState_&&f.fill();this.strokeState_&&f.stroke()}""!==this.text_&&(a=a.getFlatInteriorPoint(),this.drawText_(a,0,2,2))}};e.prototype.drawMultiPolygon=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));if((0,y.intersects)(this.extent_,a.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_);this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var f=this.context_,p=a.getOrientedFlatCoordinates(),
A=0,C=a.getEndss(),D=a.getStride();f.beginPath();for(var P=0,L=C.length;P<L;++P)A=this.drawRings_(p,A,C[P],D);this.fillState_&&f.fill();this.strokeState_&&f.stroke()}""!==this.text_&&(a=a.getFlatInteriorPoints(),this.drawText_(a,0,a.length,2))}};e.prototype.setContextFillState_=function(a){var f=this.context_,p=this.contextFillState_;p?p.fillStyle!=a.fillStyle&&(p.fillStyle=a.fillStyle,f.fillStyle=a.fillStyle):(f.fillStyle=a.fillStyle,this.contextFillState_={fillStyle:a.fillStyle})};e.prototype.setContextStrokeState_=
function(a){var f=this.context_,p=this.contextStrokeState_;p?(p.lineCap!=a.lineCap&&(p.lineCap=a.lineCap,f.lineCap=a.lineCap),f.setLineDash&&((0,x.equals)(p.lineDash,a.lineDash)||f.setLineDash(p.lineDash=a.lineDash),p.lineDashOffset!=a.lineDashOffset&&(p.lineDashOffset=a.lineDashOffset,f.lineDashOffset=a.lineDashOffset)),p.lineJoin!=a.lineJoin&&(p.lineJoin=a.lineJoin,f.lineJoin=a.lineJoin),p.lineWidth!=a.lineWidth&&(p.lineWidth=a.lineWidth,f.lineWidth=a.lineWidth),p.miterLimit!=a.miterLimit&&(p.miterLimit=
a.miterLimit,f.miterLimit=a.miterLimit),p.strokeStyle!=a.strokeStyle&&(p.strokeStyle=a.strokeStyle,f.strokeStyle=a.strokeStyle)):(f.lineCap=a.lineCap,f.setLineDash&&(f.setLineDash(a.lineDash),f.lineDashOffset=a.lineDashOffset),f.lineJoin=a.lineJoin,f.lineWidth=a.lineWidth,f.miterLimit=a.miterLimit,f.strokeStyle=a.strokeStyle,this.contextStrokeState_={lineCap:a.lineCap,lineDash:a.lineDash,lineDashOffset:a.lineDashOffset,lineJoin:a.lineJoin,lineWidth:a.lineWidth,miterLimit:a.miterLimit,strokeStyle:a.strokeStyle})};
e.prototype.setContextTextState_=function(a){var f=this.context_,p=this.contextTextState_,A=a.textAlign?a.textAlign:O.defaultTextAlign;p?(p.font!=a.font&&(p.font=a.font,f.font=a.font),p.textAlign!=A&&(p.textAlign=A,f.textAlign=A),p.textBaseline!=a.textBaseline&&(p.textBaseline=a.textBaseline,f.textBaseline=a.textBaseline)):(f.font=a.font,f.textAlign=A,f.textBaseline=a.textBaseline,this.contextTextState_={font:a.font,textAlign:A,textBaseline:a.textBaseline})};e.prototype.setFillStrokeStyle=function(a,
f){a?(a=a.getColor(),this.fillState_={fillStyle:(0,n.asColorLike)(a?a:O.defaultFillStyle)}):this.fillState_=null;if(f){a=f.getColor();var p=f.getLineCap(),A=f.getLineDash(),C=f.getLineDashOffset(),D=f.getLineJoin(),P=f.getWidth();f=f.getMiterLimit();this.strokeState_={lineCap:void 0!==p?p:O.defaultLineCap,lineDash:A?A:O.defaultLineDash,lineDashOffset:C?C:O.defaultLineDashOffset,lineJoin:void 0!==D?D:O.defaultLineJoin,lineWidth:this.pixelRatio_*(void 0!==P?P:O.defaultLineWidth),miterLimit:void 0!==
f?f:O.defaultMiterLimit,strokeStyle:(0,n.asColorLike)(a?a:O.defaultStrokeStyle)}}else this.strokeState_=null};e.prototype.setImageStyle=function(a){if(a){var f=a.getSize();if(f){var p=a.getAnchor(),A=a.getImage(1),C=a.getOrigin(),D=a.getScaleArray();this.imageAnchorX_=p[0];this.imageAnchorY_=p[1];this.imageHeight_=f[1];this.image_=A;this.imageOpacity_=a.getOpacity();this.imageOriginX_=C[0];this.imageOriginY_=C[1];this.imageRotateWithView_=a.getRotateWithView();this.imageRotation_=a.getRotation();
this.imageScale_=[this.pixelRatio_*D[0],this.pixelRatio_*D[1]];this.imageWidth_=f[0]}else this.image_=null}else this.image_=null};e.prototype.setTextStyle=function(a){if(a){var f=a.getFill();f?(f=f.getColor(),this.textFillState_={fillStyle:(0,n.asColorLike)(f?f:O.defaultFillStyle)}):this.textFillState_=null;var p=a.getStroke();if(p){f=p.getColor();var A=p.getLineCap(),C=p.getLineDash(),D=p.getLineDashOffset(),P=p.getLineJoin(),L=p.getWidth();p=p.getMiterLimit();this.textStrokeState_={lineCap:void 0!==
A?A:O.defaultLineCap,lineDash:C?C:O.defaultLineDash,lineDashOffset:D?D:O.defaultLineDashOffset,lineJoin:void 0!==P?P:O.defaultLineJoin,lineWidth:void 0!==L?L:O.defaultLineWidth,miterLimit:void 0!==p?p:O.defaultMiterLimit,strokeStyle:(0,n.asColorLike)(f?f:O.defaultStrokeStyle)}}else this.textStrokeState_=null;f=a.getFont();A=a.getOffsetX();C=a.getOffsetY();D=a.getRotateWithView();P=a.getRotation();L=a.getScaleArray();p=a.getText();var G=a.getTextAlign();a=a.getTextBaseline();this.textState_={font:void 0!==
f?f:O.defaultFont,textAlign:void 0!==G?G:O.defaultTextAlign,textBaseline:void 0!==a?a:O.defaultTextBaseline};this.text_=void 0!==p?p:"";this.textOffsetX_=void 0!==A?this.pixelRatio_*A:0;this.textOffsetY_=void 0!==C?this.pixelRatio_*C:0;this.textRotateWithView_=void 0!==D?D:!1;this.textRotation_=void 0!==P?P:0;this.textScale_=[this.pixelRatio_*L[0],this.pixelRatio_*L[1]]}else this.text_=""};return e}(Ha["default"]);E["default"]=B};
shadow$provide[229]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={FRACTION:"fraction",PIXELS:"pixels"}};
shadow$provide[230]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}};
shadow$provide[231]=function(Ha,B,rb,E){function g(O){return O&&O.__esModule?O:{"default":O}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=g(B(91));var m=g(B(92)),n=B(78),F=function(){var O=function(x,y){O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,l){q.__proto__=l}||function(q,l){for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(q[h]=l[h])};return O(x,y)};return function(x,y){function q(){this.constructor=x}O(x,y);x.prototype=null===y?Object.create(y):
(q.prototype=y.prototype,new q)}}();B=function(O){function x(y,q,l,h){var c=O.call(this)||this;c.extent=y;c.pixelRatio_=l;c.resolution=q;c.state=h;return c}F(x,O);x.prototype.changed=function(){this.dispatchEvent(m["default"].CHANGE)};x.prototype.getExtent=function(){return this.extent};x.prototype.getImage=function(){return(0,n["abstract"])()};x.prototype.getPixelRatio=function(){return this.pixelRatio_};x.prototype.getResolution=function(){return this.resolution};x.prototype.getState=function(){return this.state};
x.prototype.load=function(){(0,n["abstract"])()};return x}(Ha["default"]);E["default"]=B};
shadow$provide[232]=function(Ha,B,rb,E){function g(l){return l&&l.__esModule?l:{"default":l}}function m(l,h,c){if(l.src&&O.IMAGE_DECODE){var e=!0;l.decode().then(function(){e&&h()})["catch"](function(f){e&&("EncodingError"===f.name&&"Invalid image type."===f.message?h():c())});return function(){e=!1}}var a=[(0,y.listenOnce)(l,n["default"].LOAD,h),(0,y.listenOnce)(l,n["default"].ERROR,c)];return function(){a.forEach(y.unlistenByKey)}}Object.defineProperty(E,"__esModule",{value:!0});E.listenImage=m;
E["default"]=void 0;var n=g(B(92));Ha=g(B(231));var F=g(B(203)),O=B(106),x=B(84),y=B(93),q=function(){var l=function(h,c){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,a){e.__proto__=a}||function(e,a){for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(e[f]=a[f])};return l(h,c)};return function(h,c){function e(){this.constructor=h}l(h,c);h.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)}}();B=function(l){function h(c,e,a,f,p,A){c=l.call(this,c,e,a,
F["default"].IDLE)||this;c.src_=f;c.image_=new Image;null!==p&&(c.image_.crossOrigin=p);c.unlisten_=null;c.state=F["default"].IDLE;c.imageLoadFunction_=A;return c}q(h,l);h.prototype.getImage=function(){return this.image_};h.prototype.handleImageError_=function(){this.state=F["default"].ERROR;this.unlistenImage_();this.changed()};h.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=(0,x.getHeight)(this.extent)/this.image_.height);this.state=F["default"].LOADED;this.unlistenImage_();
this.changed()};h.prototype.load=function(){if(this.state==F["default"].IDLE||this.state==F["default"].ERROR)this.state=F["default"].LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=m(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))};h.prototype.setImage=function(c){this.image_=c};h.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)};return h}(Ha["default"]);E["default"]=B};
shadow$provide[233]=function(Ha,B,rb,E){function g(c){return c&&c.__esModule?c:{"default":c}}Object.defineProperty(E,"__esModule",{value:!0});E.get=function(c,e,a,f,p,A){var C=x.shared.get(e,f,A);C||(C=new h(c,e,a,f,p,A),x.shared.set(e,f,A,C));return C};E["default"]=void 0;Ha=g(B(91));var m=g(B(92)),n=g(B(203)),F=B(86),O=B(107),x=B(87),y=B(232),q=function(){var c=function(e,a){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var A in p)Object.prototype.hasOwnProperty.call(p,
A)&&(f[A]=p[A])};return c(e,a)};return function(e,a){function f(){this.constructor=e}c(e,a);e.prototype=null===a?Object.create(a):(f.prototype=a.prototype,new f)}}(),l=null,h=function(c){function e(a,f,p,A,C,D){var P=c.call(this)||this;P.hitDetectionImage_=null;P.image_=a?a:new Image;null!==A&&(P.image_.crossOrigin=A);P.canvas_={};P.color_=D;P.unlisten_=null;P.imageState_=C;P.size_=p;P.src_=f;return P}q(e,c);e.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===n["default"].LOADED){l||
(l=(0,O.createCanvasContext2D)(1,1));l.drawImage(this.image_,0,0);try{l.getImageData(0,0,1,1),this.tainted_=!1}catch(a){l=null,this.tainted_=!0}}return!0===this.tainted_};e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(m["default"].CHANGE)};e.prototype.handleImageError_=function(){this.imageState_=n["default"].ERROR;this.unlistenImage_();this.dispatchChangeEvent_()};e.prototype.handleImageLoad_=function(){this.imageState_=n["default"].LOADED;this.size_?(this.image_.width=this.size_[0],
this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height];this.unlistenImage_();this.dispatchChangeEvent_()};e.prototype.getImage=function(a){this.replaceColor_(a);return this.canvas_[a]?this.canvas_[a]:this.image_};e.prototype.getPixelRatio=function(a){this.replaceColor_(a);return this.canvas_[a]?a:1};e.prototype.getImageState=function(){return this.imageState_};e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var a=this.size_[0],
f=this.size_[1],p=(0,O.createCanvasContext2D)(a,f);p.fillRect(0,0,a,f);this.hitDetectionImage_=p.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_};e.prototype.getSize=function(){return this.size_};e.prototype.getSrc=function(){return this.src_};e.prototype.load=function(){if(this.imageState_==n["default"].IDLE){this.imageState_=n["default"].LOADING;try{this.image_.src=this.src_}catch(a){this.handleImageError_()}this.unlisten_=(0,y.listenImage)(this.image_,this.handleImageLoad_.bind(this),
this.handleImageError_.bind(this))}};e.prototype.replaceColor_=function(a){if(this.color_&&!this.canvas_[a]){var f=document.createElement("canvas");this.canvas_[a]=f;f.width=Math.ceil(this.image_.width*a);f.height=Math.ceil(this.image_.height*a);var p=f.getContext("2d");p.scale(a,a);p.drawImage(this.image_,0,0);p.globalCompositeOperation="multiply";if("multiply"===p.globalCompositeOperation||this.isTainted_())p.fillStyle=(0,F.asString)(this.color_),p.fillRect(0,0,f.width,f.height),p.globalCompositeOperation=
"destination-in",p.drawImage(this.image_,0,0);else{a=p.getImageData(0,0,f.width,f.height);f=a.data;for(var A=this.color_[0]/255,C=this.color_[1]/255,D=this.color_[2]/255,P=this.color_[3],L=0,G=f.length;L<G;L+=4)f[L]*=A,f[L+1]*=C,f[L+2]*=D,f[L+3]*=P;p.putImageData(a,0,0)}}};e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)};return e}(Ha["default"]);E["default"]=h};
shadow$provide[234]=function(Ha,B,rb,E){function g(c){return c&&c.__esModule?c:{"default":c}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var m=g(B(92)),n=g(B(229)),F=g(B(230)),O=g(B(203));Ha=g(B(204));var x=B(86),y=B(80),q=B(233),l=B(78),h=function(){var c=function(e,a){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var A in p)Object.prototype.hasOwnProperty.call(p,A)&&(f[A]=p[A])};return c(e,a)};return function(e,
a){function f(){this.constructor=e}c(e,a);e.prototype=null===a?Object.create(a):(f.prototype=a.prototype,new f)}}();B=function(c){function e(a){var f=a||{};a=c.call(this,{opacity:void 0!==f.opacity?f.opacity:1,rotation:void 0!==f.rotation?f.rotation:0,scale:void 0!==f.scale?f.scale:1,displacement:void 0!==f.displacement?f.displacement:[0,0],rotateWithView:void 0!==f.rotateWithView?f.rotateWithView:!1})||this;a.anchor_=void 0!==f.anchor?f.anchor:[.5,.5];a.normalizedAnchor_=null;a.anchorOrigin_=void 0!==
f.anchorOrigin?f.anchorOrigin:F["default"].TOP_LEFT;a.anchorXUnits_=void 0!==f.anchorXUnits?f.anchorXUnits:n["default"].FRACTION;a.anchorYUnits_=void 0!==f.anchorYUnits?f.anchorYUnits:n["default"].FRACTION;a.crossOrigin_=void 0!==f.crossOrigin?f.crossOrigin:null;var p=void 0!==f.img?f.img:null,A=void 0!==f.imgSize?f.imgSize:null,C=f.src;(0,y.assert)(!(void 0!==C&&p),4);(0,y.assert)(!p||p&&A,5);void 0!==C&&0!==C.length||!p||(C=p.src||(0,l.getUid)(p));(0,y.assert)(void 0!==C&&0<C.length,6);var D=void 0!==
f.src?O["default"].IDLE:O["default"].LOADED;a.color_=void 0!==f.color?(0,x.asArray)(f.color):null;a.iconImage_=(0,q.get)(p,C,A,a.crossOrigin_,D,a.color_);a.offset_=void 0!==f.offset?f.offset:[0,0];a.offsetOrigin_=void 0!==f.offsetOrigin?f.offsetOrigin:F["default"].TOP_LEFT;a.origin_=null;a.size_=void 0!==f.size?f.size:null;return a}h(e,c);e.prototype.clone=function(){var a=this.getScale();return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,
crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(a)?a.slice():a,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})};e.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var a=this.anchor_,f=this.getSize();if(this.anchorXUnits_==
n["default"].FRACTION||this.anchorYUnits_==n["default"].FRACTION){if(!f)return null;a=this.anchor_.slice();this.anchorXUnits_==n["default"].FRACTION&&(a[0]*=f[0]);this.anchorYUnits_==n["default"].FRACTION&&(a[1]*=f[1])}if(this.anchorOrigin_!=F["default"].TOP_LEFT){if(!f)return null;a===this.anchor_&&(a=this.anchor_.slice());if(this.anchorOrigin_==F["default"].TOP_RIGHT||this.anchorOrigin_==F["default"].BOTTOM_RIGHT)a[0]=-a[0]+f[0];if(this.anchorOrigin_==F["default"].BOTTOM_LEFT||this.anchorOrigin_==
F["default"].BOTTOM_RIGHT)a[1]=-a[1]+f[1]}return this.normalizedAnchor_=a};e.prototype.setAnchor=function(a){this.anchor_=a;this.normalizedAnchor_=null};e.prototype.getColor=function(){return this.color_};e.prototype.getImage=function(a){return this.iconImage_.getImage(a)};e.prototype.getPixelRatio=function(a){return this.iconImage_.getPixelRatio(a)};e.prototype.getImageSize=function(){return this.iconImage_.getSize()};e.prototype.getHitDetectionImageSize=function(){return this.getImageSize()};e.prototype.getImageState=
function(){return this.iconImage_.getImageState()};e.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()};e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var a=this.offset_,f=this.getDisplacement();if(this.offsetOrigin_!=F["default"].TOP_LEFT){var p=this.getSize(),A=this.iconImage_.getSize();if(!p||!A)return null;a=a.slice();if(this.offsetOrigin_==F["default"].TOP_RIGHT||this.offsetOrigin_==F["default"].BOTTOM_RIGHT)a[0]=A[0]-p[0]-a[0];if(this.offsetOrigin_==
F["default"].BOTTOM_LEFT||this.offsetOrigin_==F["default"].BOTTOM_RIGHT)a[1]=A[1]-p[1]-a[1]}a[0]+=f[0];a[1]+=f[1];return this.origin_=a};e.prototype.getSrc=function(){return this.iconImage_.getSrc()};e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()};e.prototype.listenImageChange=function(a){this.iconImage_.addEventListener(m["default"].CHANGE,a)};e.prototype.load=function(){this.iconImage_.load()};e.prototype.unlistenImageChange=function(a){this.iconImage_.removeEventListener(m["default"].CHANGE,
a)};return e}(Ha["default"]);E["default"]=B};
shadow$provide[235]=function(Ha,B,rb,E){function g(O){return O&&O.__esModule?O:{"default":O}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var m=g(B(208)),n=g(B(218)),F=B(158);Ha=function(){function O(x){x=x||{};this.font_=x.font;this.rotation_=x.rotation;this.rotateWithView_=x.rotateWithView;this.scale_=x.scale;this.scaleArray_=(0,F.toSize)(void 0!==x.scale?x.scale:1);this.text_=x.text;this.textAlign_=x.textAlign;this.textBaseline_=x.textBaseline;this.fill_=void 0!==x.fill?
x.fill:new m["default"]({color:"#333"});this.maxAngle_=void 0!==x.maxAngle?x.maxAngle:Math.PI/4;this.placement_=void 0!==x.placement?x.placement:n["default"].POINT;this.overflow_=!!x.overflow;this.stroke_=void 0!==x.stroke?x.stroke:null;this.offsetX_=void 0!==x.offsetX?x.offsetX:0;this.offsetY_=void 0!==x.offsetY?x.offsetY:0;this.backgroundFill_=x.backgroundFill?x.backgroundFill:null;this.backgroundStroke_=x.backgroundStroke?x.backgroundStroke:null;this.padding_=void 0===x.padding?null:x.padding}
O.prototype.clone=function(){var x=this.getScale();return new O({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(x)?x.slice():x,text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),
backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})};O.prototype.getOverflow=function(){return this.overflow_};O.prototype.getFont=function(){return this.font_};O.prototype.getMaxAngle=function(){return this.maxAngle_};O.prototype.getPlacement=function(){return this.placement_};O.prototype.getOffsetX=function(){return this.offsetX_};O.prototype.getOffsetY=function(){return this.offsetY_};
O.prototype.getFill=function(){return this.fill_};O.prototype.getRotateWithView=function(){return this.rotateWithView_};O.prototype.getRotation=function(){return this.rotation_};O.prototype.getScale=function(){return this.scale_};O.prototype.getScaleArray=function(){return this.scaleArray_};O.prototype.getStroke=function(){return this.stroke_};O.prototype.getText=function(){return this.text_};O.prototype.getTextAlign=function(){return this.textAlign_};O.prototype.getTextBaseline=function(){return this.textBaseline_};
O.prototype.getBackgroundFill=function(){return this.backgroundFill_};O.prototype.getBackgroundStroke=function(){return this.backgroundStroke_};O.prototype.getPadding=function(){return this.padding_};O.prototype.setOverflow=function(x){this.overflow_=x};O.prototype.setFont=function(x){this.font_=x};O.prototype.setMaxAngle=function(x){this.maxAngle_=x};O.prototype.setOffsetX=function(x){this.offsetX_=x};O.prototype.setOffsetY=function(x){this.offsetY_=x};O.prototype.setPlacement=function(x){this.placement_=
x};O.prototype.setRotateWithView=function(x){this.rotateWithView_=x};O.prototype.setFill=function(x){this.fill_=x};O.prototype.setRotation=function(x){this.rotation_=x};O.prototype.setScale=function(x){this.scale_=x;this.scaleArray_=(0,F.toSize)(void 0!==x?x:1)};O.prototype.setStroke=function(x){this.stroke_=x};O.prototype.setText=function(x){this.text_=x};O.prototype.setTextAlign=function(x){this.textAlign_=x};O.prototype.setTextBaseline=function(x){this.textBaseline_=x};O.prototype.setBackgroundFill=
function(x){this.backgroundFill_=x};O.prototype.setBackgroundStroke=function(x){this.backgroundStroke_=x};O.prototype.setPadding=function(x){this.padding_=x};return O}();E["default"]=Ha};
shadow$provide[236]=function(Ha,B,rb,E){function g(c){return c&&c.__esModule?c:{"default":c}}Object.defineProperty(E,"__esModule",{value:!0});Object.defineProperty(E,"Circle",{enumerable:!0,get:function(){return m["default"]}});Object.defineProperty(E,"Fill",{enumerable:!0,get:function(){return n["default"]}});Object.defineProperty(E,"Icon",{enumerable:!0,get:function(){return F["default"]}});Object.defineProperty(E,"IconImage",{enumerable:!0,get:function(){return O["default"]}});Object.defineProperty(E,
"Image",{enumerable:!0,get:function(){return x["default"]}});Object.defineProperty(E,"RegularShape",{enumerable:!0,get:function(){return y["default"]}});Object.defineProperty(E,"Stroke",{enumerable:!0,get:function(){return q["default"]}});Object.defineProperty(E,"Style",{enumerable:!0,get:function(){return l["default"]}});Object.defineProperty(E,"Text",{enumerable:!0,get:function(){return h["default"]}});var m=g(B(207)),n=g(B(208)),F=g(B(234)),O=g(B(233)),x=g(B(204)),y=g(B(206)),q=g(B(209)),l=g(B(210)),
h=g(B(235))};
shadow$provide[237]=function(Ha,B,rb,E){function g(l){return l&&l.__esModule?l:{"default":l}}Object.defineProperty(E,"__esModule",{value:!0});E.createHitDetectionImageData=function(l,h,c,e,a,f,p){var A=l[0]/2;l=l[1]/2;A=(0,x.createCanvasContext2D)(A,l);A.imageSmoothingEnabled=!1;l=A.canvas;p=new m["default"](A,.5,a,null,p);for(var C=c.length,D=Math.floor(16777215/C),P={},L=1;L<=C;++L){var G=c[L-1],z=G.getStyleFunction()||e;if(e){var J=z(G,f);if(J){Array.isArray(J)||(J=[J]);var K="#"+("000000"+(L*
D).toString(16)).slice(-6);z=0;for(var R=J.length;z<R;++z){var U=J[z],ka=U.clone(),ba=ka.getFill();ba&&ba.setColor(K);(ba=ka.getStroke())&&ba.setColor(K);ka.setText(void 0);if(U=U.getImage()){ba=U.getImageSize();if(!ba)continue;var da=document.createElement("canvas");da.width=ba[0];da.height=ba[1];var ja=da.getContext("2d",{alpha:!1});ja.fillStyle=K;da=ja.canvas;ja.fillRect(0,0,da.width,da.height);ja=ba?ba[0]:da.width;var Z=ba?ba[1]:da.height;(0,x.createCanvasContext2D)(ja,Z).drawImage(da,0,0);ka.setImage(new O.Icon({img:da,
imgSize:ba,anchor:U.getAnchor(),anchorXUnits:F["default"].PIXELS,anchorYUnits:F["default"].PIXELS,offset:U.getOrigin(),size:U.getSize(),opacity:U.getOpacity(),scale:U.getScale(),rotation:U.getRotation(),rotateWithView:U.getRotateWithView()}))}ba=Number(ka.getZIndex());U=P[ba];U||(U={},P[ba]=U,U[n["default"].POLYGON]=[],U[n["default"].CIRCLE]=[],U[n["default"].LINE_STRING]=[],U[n["default"].POINT]=[]);(ba=ka.getGeometryFunction()(G))&&(0,y.intersects)(a,ba.getExtent())&&U[ba.getType().replace("Multi",
"")].push(ba,ka)}}}}c=Object.keys(P).map(Number).sort(q.numberSafeCompareFunction);L=0;for(e=c.length;L<e;++L){U=P[c[L]];for(var Q in U)for(a=U[Q],z=0,R=a.length;z<R;z+=2)for(p.setStyle(a[z+1]),f=0,C=h.length;f<C;++f)p.setTransform(h[f]),p.drawGeometry(a[z])}return A.getImageData(0,0,l.width,l.height)};E.hitDetect=function(l,h,c){var e=[];c&&(l=4*(Math.round(l[0]/2)+Math.round(l[1]/2)*c.width),c=c.data[l+2]+256*(c.data[l+1]+256*c.data[l]),l=Math.floor(16777215/h.length),c&&0===c%l&&e.push(h[c/l-1]));
return e};var m=g(B(228)),n=g(B(123)),F=g(B(229)),O=B(236),x=B(107),y=B(84),q=B(76)};
shadow$provide[238]=function(Ha,B,rb,E){function g(l){return l&&l.__esModule?l:{"default":l}}function m(l,h,c,e){if(h.getType()==F["default"].GEOMETRY_COLLECTION){h=h.getGeometries();for(var a=0,f=h.length;a<f;++a)m(l,h[a],c,e)}else l.getBuilder(c.getZIndex(),n["default"].DEFAULT).drawCustom(h,e,c.getRenderer())}Object.defineProperty(E,"__esModule",{value:!0});E.defaultOrder=function(l,h){return parseInt((0,x.getUid)(l),10)-parseInt((0,x.getUid)(h),10)};E.getSquaredTolerance=function(l,h){l=y*l/h;
return l*l};E.getTolerance=function(l,h){return y*l/h};E.renderFeature=function(l,h,c,e,a,f,p){var A=!1,C=c.getImage();if(C){var D=C.getImageState();D==O["default"].LOADED||D==O["default"].ERROR?C.unlistenImageChange(a):(D==O["default"].IDLE&&C.load(),C.getImageState(),C.listenImageChange(a),A=!0)}if(a=c.getGeometryFunction()(h))if(e=a.simplifyTransformed(e,f),c.getRenderer())m(l,e,c,h);else(0,q[e.getType()])(l,e,c,h,p);return A};var n=g(B(224)),F=g(B(123)),O=g(B(203)),x=B(78),y=.5,q={Point:function(l,
h,c,e,a){var f=c.getImage(),p=c.getText();if(a){l=a;var A=f&&p&&p.getText()?{}:void 0}if(f){if(f.getImageState()!=O["default"].LOADED)return;a=l.getBuilder(c.getZIndex(),n["default"].IMAGE);a.setImageStyle(f,A);a.drawPoint(h,e)}p&&p.getText()&&(l=l.getBuilder(c.getZIndex(),n["default"].TEXT),l.setTextStyle(p,A),l.drawText(h,e))},LineString:function(l,h,c,e,a){var f=c.getStroke();if(f){var p=l.getBuilder(c.getZIndex(),n["default"].LINE_STRING);p.setFillStrokeStyle(null,f);p.drawLineString(h,e)}(f=
c.getText())&&f.getText()&&(l=(a||l).getBuilder(c.getZIndex(),n["default"].TEXT),l.setTextStyle(f),l.drawText(h,e))},Polygon:function(l,h,c,e,a){var f=c.getFill(),p=c.getStroke();if(f||p){var A=l.getBuilder(c.getZIndex(),n["default"].POLYGON);A.setFillStrokeStyle(f,p);A.drawPolygon(h,e)}(f=c.getText())&&f.getText()&&(l=(a||l).getBuilder(c.getZIndex(),n["default"].TEXT),l.setTextStyle(f),l.drawText(h,e))},MultiPoint:function(l,h,c,e,a){var f=c.getImage(),p=c.getText();if(a){l=a;var A=f&&p&&p.getText()?
{}:void 0}if(f){if(f.getImageState()!=O["default"].LOADED)return;var C=l.getBuilder(c.getZIndex(),n["default"].IMAGE);C.setImageStyle(f,A);C.drawMultiPoint(h,e)}p&&p.getText()&&(l=(a||l).getBuilder(c.getZIndex(),n["default"].TEXT),l.setTextStyle(p,A),l.drawText(h,e))},MultiLineString:function(l,h,c,e,a){var f=c.getStroke();if(f){var p=l.getBuilder(c.getZIndex(),n["default"].LINE_STRING);p.setFillStrokeStyle(null,f);p.drawMultiLineString(h,e)}(f=c.getText())&&f.getText()&&(l=(a||l).getBuilder(c.getZIndex(),
n["default"].TEXT),l.setTextStyle(f),l.drawText(h,e))},MultiPolygon:function(l,h,c,e,a){var f=c.getFill(),p=c.getStroke();if(p||f){var A=l.getBuilder(c.getZIndex(),n["default"].POLYGON);A.setFillStrokeStyle(f,p);A.drawMultiPolygon(h,e)}(f=c.getText())&&f.getText()&&(l=(a||l).getBuilder(c.getZIndex(),n["default"].TEXT),l.setTextStyle(f),l.drawText(h,e))},GeometryCollection:function(l,h,c,e,a){h=h.getGeometriesArray();var f;var p=0;for(f=h.length;p<f;++p)(0,q[h[p].getType()])(l,h[p],c,e,a)},Circle:function(l,
h,c,e,a){var f=c.getFill(),p=c.getStroke();if(f||p){var A=l.getBuilder(c.getZIndex(),n["default"].CIRCLE);A.setFillStrokeStyle(f,p);A.drawCircle(h,e)}(f=c.getText())&&f.getText()&&(l=(a||l).getBuilder(c.getZIndex(),n["default"].TEXT),l.setTextStyle(f),l.drawText(h,e))}}};
shadow$provide[239]=function(Ha,B,rb,E){function g(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var m=g(B(221));Ha=g(B(223));var n=g(B(227)),F=g(B(125)),O=B(81),x=B(84),y=B(237),q=B(238),l=B(134),h=B(78),c=B(102),e=function(){var a=function(f,p){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,C){A.__proto__=C}||function(A,C){for(var D in C)Object.prototype.hasOwnProperty.call(C,D)&&(A[D]=C[D])};return a(f,p)};return function(f,
p){function A(){this.constructor=f}a(f,p);f.prototype=null===p?Object.create(p):(A.prototype=p.prototype,new A)}}();B=function(a){function f(p){p=a.call(this,p)||this;p.boundHandleStyleImageChange_=p.handleStyleImageChange_.bind(p);p.dirty_=!1;p.hitDetectionImageData_=null;p.renderedFeatures_=null;p.renderedRevision_=-1;p.renderedResolution_=NaN;p.renderedExtent_=(0,x.createEmpty)();p.renderedCenter_=null;p.renderedProjection_=null;p.renderedRenderOrder_=null;p.replayGroup_=null;p.replayGroupChanged=
!0;p.declutterExecutorGroup=null;p.clipping=!0;return p}e(f,a);f.prototype.useContainer=function(p,A,C){1>C&&(p=null);a.prototype.useContainer.call(this,p,A,C)};f.prototype.renderWorlds=function(p,A,C){var D=A.extent,P=A.viewState,L=P.center,G=P.resolution,z=P.projection;P=P.rotation;var J=z.getExtent(),K=this.getLayer().getSource(),R=A.pixelRatio,U=A.viewHints;U=!(U[F["default"].ANIMATING]||U[F["default"].INTERACTING]);var ka=this.context,ba=Math.round(A.size[0]*R);A=Math.round(A.size[1]*R);var da=
K.getWrapX()&&z.canWrapX();z=da?(0,x.getWidth)(J):null;K=da?Math.ceil((D[2]-J[2])/z)+1:1;D=da?Math.floor((D[0]-J[0])/z):0;do J=this.getRenderTransform(L,G,P,R,ba,A,D*z),p.execute(ka,1,J,P,U,void 0,C);while(++D<K)};f.prototype.renderDeclutter=function(p){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,p,p.declutterTree)};f.prototype.renderFrame=function(p,A){var C=p.pixelRatio,D=p.layerStatesArray[p.layerIndex];(0,O.makeScale)(this.pixelTransform,1/C,1/C);(0,O.makeInverse)(this.inversePixelTransform,
this.pixelTransform);var P=(0,O.toString)(this.pixelTransform);this.useContainer(A,P,D.opacity);A=this.context;var L=A.canvas,G=this.replayGroup_,z=this.declutterExecutorGroup;if(!(G&&!G.isEmpty()||z&&!z.isEmpty()))return!this.containerReused&&0<L.width&&(L.width=0),this.container;z=Math.round(p.size[0]*C);C=Math.round(p.size[1]*C);L.width!=z||L.height!=C?(L.width=z,L.height=C,L.style.transform!==P&&(L.style.transform=P)):this.containerReused||A.clearRect(0,0,z,C);this.preRender(A,p);P=p.viewState;
L=P.projection;C=!1;D.extent&&this.clipping&&(L=(0,l.fromUserExtent)(D.extent,L),(C=!(0,x.containsExtent)(L,p.extent)&&(0,x.intersects)(L,p.extent))&&this.clipUnrotated(A,p,L));this.renderWorlds(G,p);C&&A.restore();this.postRender(A,p);p=D.opacity;D=this.container;p!==parseFloat(D.style.opacity)&&(D.style.opacity=1===p?"":String(p));this.renderedRotation_!==P.rotation&&(this.renderedRotation_=P.rotation,this.hitDetectionImageData_=null);return this.container};f.prototype.getFeatures=function(p){return new Promise(function(A){if(!this.hitDetectionImageData_&&
!this.animatingOrInteracting_){var C=[this.context.canvas.width,this.context.canvas.height];(0,O.apply)(this.pixelTransform,C);var D=this.renderedCenter_,P=this.renderedResolution_,L=this.renderedRotation_,G=this.renderedProjection_,z=this.renderedExtent_,J=this.getLayer(),K=[],R=C[0]/2,U=C[1]/2;K.push(this.getRenderTransform(D,P,L,.5,R,U,0).slice());var ka=J.getSource(),ba=G.getExtent();if(ka.getWrapX()&&G.canWrapX()&&!(0,x.containsExtent)(ba,z)){G=z[0];ka=(0,x.getWidth)(ba);for(var da=0,ja;G<ba[0];)--da,
ja=ka*da,K.push(this.getRenderTransform(D,P,L,.5,R,U,ja).slice()),G+=ka;da=0;for(G=z[2];G>ba[2];)++da,ja=ka*da,K.push(this.getRenderTransform(D,P,L,.5,R,U,ja).slice()),G-=ka}this.hitDetectionImageData_=(0,y.createHitDetectionImageData)(C,K,this.renderedFeatures_,J.getStyleFunction(),z,P,L)}A((0,y.hitDetect)(p,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))};f.prototype.forEachFeatureAtCoordinate=function(p,A,C,D,P){var L=this;if(this.replayGroup_){var G=A.viewState.resolution,z=
A.viewState.rotation,J=this.getLayer(),K={},R=function(ba,da,ja){var Z=(0,h.getUid)(ba),Q=K[Z];if(!Q){if(0===ja)return K[Z]=!0,D(ba,J,da);P.push(K[Z]={feature:ba,layer:J,geometry:da,distanceSq:ja,callback:D})}else if(!0!==Q&&ja<Q.distanceSq){if(0===ja)return K[Z]=!0,P.splice(P.lastIndexOf(Q),1),D(ba,J,da);Q.geometry=da;Q.distanceSq=ja}},U,ka=[this.replayGroup_];this.declutterExecutorGroup&&ka.push(this.declutterExecutorGroup);ka.some(function(ba){return U=ba.forEachFeatureAtCoordinate(p,G,z,C,R,ba===
L.declutterExecutorGroup?A.declutterTree.all().map(function(da){return da.value}):null)});return U}};f.prototype.handleFontsChanged=function(){var p=this.getLayer();p.getVisible()&&this.replayGroup_&&p.changed()};f.prototype.handleStyleImageChange_=function(p){this.renderIfReadyAndVisible()};f.prototype.prepareFrame=function(p){var A=this.getLayer(),C=A.getSource();if(!C)return!1;var D=p.viewHints[F["default"].ANIMATING],P=p.viewHints[F["default"].INTERACTING],L=A.getUpdateWhileAnimating(),G=A.getUpdateWhileInteracting();
if(!this.dirty_&&!L&&D||!G&&P)return this.animatingOrInteracting_=!0;this.animatingOrInteracting_=!1;var z=p.extent,J=p.viewState;D=J.projection;var K=J.resolution;P=p.pixelRatio;L=A.getRevision();var R=A.getRenderBuffer();G=A.getRenderOrder();void 0===G&&(G=q.defaultOrder);J=J.center.slice();z=(0,x.buffer)(z,R*K);R=[z.slice()];var U=D.getExtent();if(C.getWrapX()&&D.canWrapX()&&!(0,x.containsExtent)(U,p.extent)){p=(0,x.getWidth)(U);var ka=Math.max((0,x.getWidth)(z)/2,p);z[0]=U[0]-ka;z[2]=U[2]+ka;
(0,c.wrapX)(J,D);ka=(0,x.wrapX)(R[0],D);ka[0]<U[0]&&ka[2]<U[2]?R.push([ka[0]+p,ka[1],ka[2]+p,ka[3]]):ka[0]>U[0]&&ka[2]>U[2]&&R.push([ka[0]-p,ka[1],ka[2]-p,ka[3]])}if(!this.dirty_&&this.renderedResolution_==K&&this.renderedRevision_==L&&this.renderedRenderOrder_==G&&(0,x.containsExtent)(this.renderedExtent_,z))return this.replayGroupChanged=!1,!0;this.replayGroup_=null;this.dirty_=!1;var ba=new m["default"]((0,q.getTolerance)(K,P),z,K,P),da;this.getLayer().getDeclutter()&&(da=new m["default"]((0,q.getTolerance)(K,
P),z,K,P));ka=(0,l.getUserProjection)();if(ka){p=0;for(U=R.length;p<U;++p)C.loadFeatures((0,l.toUserExtent)(R[p],D),K,ka);var ja=(0,l.getTransformFromProjections)(ka,D)}else for(p=0,U=R.length;p<U;++p)C.loadFeatures(R[p],K,D);var Z=(0,q.getSquaredTolerance)(K,P);R=function(Q){var r,N=Q.getStyleFunction()||A.getStyleFunction();N&&(r=N(Q,K));r&&(Q=this.renderFeature(Q,Z,r,ba,ja,da),this.dirty_=this.dirty_||Q)}.bind(this);p=(0,l.toUserExtent)(z,D);ka=C.getFeaturesInExtent(p);G&&ka.sort(G);p=0;for(U=
ka.length;p<U;++p)R(ka[p]);this.renderedFeatures_=ka;p=ba.finish();p=new n["default"](z,K,P,C.getOverlaps(),p,A.getRenderBuffer());da&&(this.declutterExecutorGroup=new n["default"](z,K,P,C.getOverlaps(),da.finish(),A.getRenderBuffer()));this.renderedResolution_=K;this.renderedRevision_=L;this.renderedRenderOrder_=G;this.renderedExtent_=z;this.renderedCenter_=J;this.renderedProjection_=D;this.replayGroup_=p;this.hitDetectionImageData_=null;return this.replayGroupChanged=!0};f.prototype.renderFeature=
function(p,A,C,D,P,L){if(!C)return!1;var G=!1;if(Array.isArray(C))for(var z=0,J=C.length;z<J;++z)G=(0,q.renderFeature)(D,p,C[z],A,this.boundHandleStyleImageChange_,P,L)||G;else G=(0,q.renderFeature)(D,p,C,A,this.boundHandleStyleImageChange_,P,L);return G};return f}(Ha["default"]);E["default"]=B};
shadow$provide[240]=function(Ha,B,rb,E){function g(F){return F&&F.__esModule?F:{"default":F}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=g(B(211));var m=g(B(239)),n=function(){var F=function(O,x){F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,q){y.__proto__=q}||function(y,q){for(var l in q)Object.prototype.hasOwnProperty.call(q,l)&&(y[l]=q[l])};return F(O,x)};return function(O,x){function y(){this.constructor=O}F(O,x);O.prototype=null===x?Object.create(x):
(y.prototype=x.prototype,new y)}}();B=function(F){function O(x){return F.call(this,x)||this}n(O,F);O.prototype.createRenderer=function(){return new m["default"](this)};return O}(Ha["default"]);E["default"]=B};
shadow$provide[241]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var g=function(O){return O&&O.__esModule?O:{"default":O}}(B(202)),m=B(84),n=B(78),F=B(90);Ha=function(){function O(x){this.rbush_=new g["default"](x);this.items_={}}O.prototype.insert=function(x,y){x={minX:x[0],minY:x[1],maxX:x[2],maxY:x[3],value:y};this.rbush_.insert(x);this.items_[(0,n.getUid)(y)]=x};O.prototype.load=function(x,y){for(var q=Array(y.length),l=0,h=y.length;l<h;l++){var c=x[l],
e=y[l];c={minX:c[0],minY:c[1],maxX:c[2],maxY:c[3],value:e};q[l]=c;this.items_[(0,n.getUid)(e)]=c}this.rbush_.load(q)};O.prototype.remove=function(x){x=(0,n.getUid)(x);var y=this.items_[x];delete this.items_[x];return null!==this.rbush_.remove(y)};O.prototype.update=function(x,y){var q=this.items_[(0,n.getUid)(y)];q=[q.minX,q.minY,q.maxX,q.maxY];(0,m.equals)(q,x)||(this.remove(y),this.insert(x,y))};O.prototype.getAll=function(){return this.rbush_.all().map(function(x){return x.value})};O.prototype.getInExtent=
function(x){return this.rbush_.search({minX:x[0],minY:x[1],maxX:x[2],maxY:x[3]}).map(function(y){return y.value})};O.prototype.forEach=function(x){return this.forEach_(this.getAll(),x)};O.prototype.forEachInExtent=function(x,y){return this.forEach_(this.getInExtent(x),y)};O.prototype.forEach_=function(x,y){for(var q,l=0,h=x.length;l<h&&!(q=y(x[l]));l++);return q};O.prototype.isEmpty=function(){return(0,F.isEmpty)(this.items_)};O.prototype.clear=function(){this.rbush_.clear();this.items_={}};O.prototype.getExtent=
function(x){var y=this.rbush_.toJSON();return(0,m.createOrUpdate)(y.minX,y.minY,y.maxX,y.maxY,x)};O.prototype.concat=function(x){this.rbush_.load(x.rbush_.all());for(var y in x.items_)this.items_[y]=x.items_[y]};return O}();E["default"]=Ha};
shadow$provide[242]=function(Ha,B,rb,E){function g(y){return y&&y.__esModule?y:{"default":y}}function m(y){return y?Array.isArray(y)?function(q){return y}:"function"===typeof y?y:function(q){return[y]}:null}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=g(B(95));var n=g(B(99)),F=B(78),O=B(134),x=function(){var y=function(q,l){y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var e in c)Object.prototype.hasOwnProperty.call(c,
e)&&(h[e]=c[e])};return y(q,l)};return function(q,l){function h(){this.constructor=q}y(q,l);q.prototype=null===l?Object.create(l):(h.prototype=l.prototype,new h)}}();B=function(y){function q(l){var h=y.call(this)||this;h.projection_=(0,O.get)(l.projection);h.attributions_=m(l.attributions);h.attributionsCollapsible_=void 0!==l.attributionsCollapsible?l.attributionsCollapsible:!0;h.loading=!1;h.state_=void 0!==l.state?l.state:n["default"].READY;h.wrapX_=void 0!==l.wrapX?l.wrapX:!1;return h}x(q,y);
q.prototype.getAttributions=function(){return this.attributions_};q.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_};q.prototype.getProjection=function(){return this.projection_};q.prototype.getResolutions=function(){return(0,F["abstract"])()};q.prototype.getState=function(){return this.state_};q.prototype.getWrapX=function(){return this.wrapX_};q.prototype.getContextOptions=function(){};q.prototype.refresh=function(){this.changed()};q.prototype.setAttributions=
function(l){this.attributions_=m(l);this.changed()};q.prototype.setState=function(l){this.state_=l;this.changed()};return q}(Ha["default"]);E["default"]=B};
shadow$provide[243]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"}};
shadow$provide[244]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.all=function(g,m){return[[-Infinity,-Infinity,Infinity,Infinity]]};E.bbox=function(g,m){return[g]};E.tile=function(g){return function(m,n){n=g.getZForResolution(n);m=g.getTileRangeForExtentAndZ(m,n);var F=[];n=[n,0,0];for(n[1]=m.minX;n[1]<=m.maxX;++n[1])for(n[2]=m.minY;n[2]<=m.maxY;++n[2])F.push(g.getTileCoordExtent(n));return F}}};
shadow$provide[245]=function(Ha,B,rb,E){function g(O,x,y,q,l,h,c){var e=new XMLHttpRequest;e.open("GET","function"===typeof O?O(y,q,l):O,!0);x.getType()==m["default"].ARRAY_BUFFER&&(e.responseType="arraybuffer");e.withCredentials=F;e.onload=function(a){if(!e.status||200<=e.status&&300>e.status){a=x.getType();var f=void 0;a==m["default"].JSON||a==m["default"].TEXT?f=e.responseText:a==m["default"].XML?(f=e.responseXML)||(f=(new DOMParser).parseFromString(e.responseText,"application/xml")):a==m["default"].ARRAY_BUFFER&&
(f=e.response);f?h(x.readFeatures(f,{extent:y,featureProjection:l}),x.readProjection(f)):c()}else c()};e.onerror=c;e.send()}Object.defineProperty(E,"__esModule",{value:!0});E.loadFeaturesXhr=g;E.xhr=function(O,x){return function(y,q,l,h,c){var e=this;g(O,x,y,q,l,function(a,f){void 0!==h&&h(a);e.addFeatures(a)},c?c:n.VOID)}};E.setWithCredentials=function(O){F=O};var m=function(O){return O&&O.__esModule?O:{"default":O}}(B(190)),n=B(77),F=!1};
shadow$provide[246]=function(Ha,B,rb,E){function g(L){return L&&L.__esModule?L:{"default":L}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.VectorSourceEvent=void 0;var m=g(B(111)),n=g(B(110));Ha=g(B(88));var F=g(B(92)),O=g(B(89)),x=g(B(241));rb=g(B(242));var y=g(B(99)),q=g(B(243)),l=B(77),h=B(244),c=B(80),e=B(84),a=B(76),f=B(78),p=B(90),A=B(93),C=B(245),D=function(){var L=function(G,z){L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,K){J.__proto__=K}||function(J,
K){for(var R in K)Object.prototype.hasOwnProperty.call(K,R)&&(J[R]=K[R])};return L(G,z)};return function(G,z){function J(){this.constructor=G}L(G,z);G.prototype=null===z?Object.create(z):(J.prototype=z.prototype,new J)}}(),P=function(L){function G(z,J,K){z=L.call(this,z)||this;z.feature=J;z.features=K;return z}D(G,L);return G}(Ha["default"]);E.VectorSourceEvent=P;B=function(L){function G(z){var J=z||{};z=L.call(this,{attributions:J.attributions,projection:void 0,state:y["default"].READY,wrapX:void 0!==
J.wrapX?J.wrapX:!0})||this;z.loader_=l.VOID;z.format_=J.format;z.overlaps_=void 0===J.overlaps?!0:J.overlaps;z.url_=J.url;void 0!==J.loader?z.loader_=J.loader:void 0!==z.url_&&((0,c.assert)(z.format_,7),z.loader_=(0,C.xhr)(z.url_,z.format_));z.strategy_=void 0!==J.strategy?J.strategy:h.all;var K=void 0!==J.useSpatialIndex?J.useSpatialIndex:!0;z.featuresRtree_=K?new x["default"]:null;z.loadedExtentsRtree_=new x["default"];z.nullGeometryFeatures_={};z.idIndex_={};z.uidIndex_={};z.featureChangeKeys_=
{};z.featuresCollection_=null;if(Array.isArray(J.features))var R=J.features;else if(J.features){var U=J.features;R=U.getArray()}K||void 0!==U||(U=new m["default"](R));void 0!==R&&z.addFeaturesInternal(R);void 0!==U&&z.bindFeaturesCollection_(U);return z}D(G,L);G.prototype.addFeature=function(z){this.addFeatureInternal(z);this.changed()};G.prototype.addFeatureInternal=function(z){var J=(0,f.getUid)(z);if(this.addToIndex_(J,z)){this.setupChangeEvents_(J,z);var K=z.getGeometry();K?(J=K.getExtent(),this.featuresRtree_&&
this.featuresRtree_.insert(J,z)):this.nullGeometryFeatures_[J]=z;this.dispatchEvent(new P(q["default"].ADDFEATURE,z))}else this.featuresCollection_&&this.featuresCollection_.remove(z)};G.prototype.setupChangeEvents_=function(z,J){this.featureChangeKeys_[z]=[(0,A.listen)(J,F["default"].CHANGE,this.handleFeatureChange_,this),(0,A.listen)(J,O["default"].PROPERTYCHANGE,this.handleFeatureChange_,this)]};G.prototype.addToIndex_=function(z,J){var K=!0,R=J.getId();void 0!==R&&(R.toString()in this.idIndex_?
K=!1:this.idIndex_[R.toString()]=J);K&&((0,c.assert)(!(z in this.uidIndex_),30),this.uidIndex_[z]=J);return K};G.prototype.addFeatures=function(z){this.addFeaturesInternal(z);this.changed()};G.prototype.addFeaturesInternal=function(z){for(var J=[],K=[],R=[],U=0,ka=z.length;U<ka;U++){var ba=z[U],da=(0,f.getUid)(ba);this.addToIndex_(da,ba)&&K.push(ba)}U=0;for(z=K.length;U<z;U++)ba=K[U],da=(0,f.getUid)(ba),this.setupChangeEvents_(da,ba),(ka=ba.getGeometry())?(da=ka.getExtent(),J.push(da),R.push(ba)):
this.nullGeometryFeatures_[da]=ba;this.featuresRtree_&&this.featuresRtree_.load(J,R);U=0;for(J=K.length;U<J;U++)this.dispatchEvent(new P(q["default"].ADDFEATURE,K[U]))};G.prototype.bindFeaturesCollection_=function(z){var J=!1;this.addEventListener(q["default"].ADDFEATURE,function(K){J||(J=!0,z.push(K.feature),J=!1)});this.addEventListener(q["default"].REMOVEFEATURE,function(K){J||(J=!0,z.remove(K.feature),J=!1)});z.addEventListener(n["default"].ADD,function(K){J||(J=!0,this.addFeature(K.element),
J=!1)}.bind(this));z.addEventListener(n["default"].REMOVE,function(K){J||(J=!0,this.removeFeature(K.element),J=!1)}.bind(this));this.featuresCollection_=z};G.prototype.clear=function(z){if(z){for(var J in this.featureChangeKeys_)this.featureChangeKeys_[J].forEach(A.unlistenByKey);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this));for(var K in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[K])}this.featuresCollection_&&
this.featuresCollection_.clear();this.featuresRtree_&&this.featuresRtree_.clear();this.nullGeometryFeatures_={};z=new P(q["default"].CLEAR);this.dispatchEvent(z);this.changed()};G.prototype.forEachFeature=function(z){if(this.featuresRtree_)return this.featuresRtree_.forEach(z);this.featuresCollection_&&this.featuresCollection_.forEach(z)};G.prototype.forEachFeatureAtCoordinateDirect=function(z,J){return this.forEachFeatureInExtent([z[0],z[1],z[0],z[1]],function(K){if(K.getGeometry().intersectsCoordinate(z))return J(K)})};
G.prototype.forEachFeatureInExtent=function(z,J){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(z,J);this.featuresCollection_&&this.featuresCollection_.forEach(J)};G.prototype.forEachFeatureIntersectingExtent=function(z,J){return this.forEachFeatureInExtent(z,function(K){if(K.getGeometry().intersectsExtent(z)&&(K=J(K)))return K})};G.prototype.getFeaturesCollection=function(){return this.featuresCollection_};G.prototype.getFeatures=function(){if(this.featuresCollection_)var z=this.featuresCollection_.getArray();
else this.featuresRtree_&&(z=this.featuresRtree_.getAll(),(0,p.isEmpty)(this.nullGeometryFeatures_)||(0,a.extend)(z,(0,p.getValues)(this.nullGeometryFeatures_)));return z};G.prototype.getFeaturesAtCoordinate=function(z){var J=[];this.forEachFeatureAtCoordinateDirect(z,function(K){J.push(K)});return J};G.prototype.getFeaturesInExtent=function(z){return this.featuresRtree_?this.featuresRtree_.getInExtent(z):this.featuresCollection_?this.featuresCollection_.getArray():[]};G.prototype.getClosestFeatureToCoordinate=
function(z,J){var K=z[0],R=z[1],U=null,ka=[NaN,NaN],ba=Infinity,da=[-Infinity,-Infinity,Infinity,Infinity],ja=J?J:l.TRUE;this.featuresRtree_.forEachInExtent(da,function(Z){if(ja(Z)){var Q=Z.getGeometry(),r=ba;ba=Q.closestPointXY(K,R,ka,ba);ba<r&&(U=Z,Z=Math.sqrt(ba),da[0]=K-Z,da[1]=R-Z,da[2]=K+Z,da[3]=R+Z)}});return U};G.prototype.getExtent=function(z){return this.featuresRtree_.getExtent(z)};G.prototype.getFeatureById=function(z){z=this.idIndex_[z.toString()];return void 0!==z?z:null};G.prototype.getFeatureByUid=
function(z){z=this.uidIndex_[z];return void 0!==z?z:null};G.prototype.getFormat=function(){return this.format_};G.prototype.getOverlaps=function(){return this.overlaps_};G.prototype.getUrl=function(){return this.url_};G.prototype.handleFeatureChange_=function(z){z=z.target;var J=(0,f.getUid)(z),K=z.getGeometry();K?(K=K.getExtent(),J in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[J],this.featuresRtree_&&this.featuresRtree_.insert(K,z)):this.featuresRtree_&&this.featuresRtree_.update(K,
z)):J in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(z),this.nullGeometryFeatures_[J]=z);K=z.getId();void 0!==K?(J=K.toString(),this.idIndex_[J]!==z&&(this.removeFromIdIndex_(z),this.idIndex_[J]=z)):(this.removeFromIdIndex_(z),this.uidIndex_[J]=z);this.changed();this.dispatchEvent(new P(q["default"].CHANGEFEATURE,z))};G.prototype.hasFeature=function(z){var J=z.getId();return void 0!==J?J in this.idIndex_:(0,f.getUid)(z)in this.uidIndex_};G.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&
(0,p.isEmpty)(this.nullGeometryFeatures_)};G.prototype.loadFeatures=function(z,J,K){var R=this.loadedExtentsRtree_,U=this.strategy_(z,J);this.loading=!1;z=function(ja,Z){var Q=U[ja];R.forEachInExtent(Q,function(r){return(0,e.containsExtent)(r.extent,Q)})||(ka.dispatchEvent(new P(q["default"].FEATURESLOADSTART)),ka.loader_.call(ka,Q,J,K,function(r){this.dispatchEvent(new P(q["default"].FEATURESLOADEND,void 0,r))}.bind(ka),function(){this.dispatchEvent(new P(q["default"].FEATURESLOADERROR))}.bind(ka)),
R.insert(Q,{extent:Q.slice()}),ka.loading=ka.loader_!==l.VOID)};for(var ka=this,ba=0,da=U.length;ba<da;++ba)z(ba,da)};G.prototype.refresh=function(){this.clear(!0);this.loadedExtentsRtree_.clear();L.prototype.refresh.call(this)};G.prototype.removeLoadedExtent=function(z){var J=this.loadedExtentsRtree_,K;J.forEachInExtent(z,function(R){if((0,e.equals)(R.extent,z))return K=R,!0});K&&J.remove(K)};G.prototype.removeFeature=function(z){var J=(0,f.getUid)(z);J in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[J]:
this.featuresRtree_&&this.featuresRtree_.remove(z);this.removeFeatureInternal(z);this.changed()};G.prototype.removeFeatureInternal=function(z){var J=(0,f.getUid)(z);this.featureChangeKeys_[J].forEach(A.unlistenByKey);delete this.featureChangeKeys_[J];var K=z.getId();void 0!==K&&delete this.idIndex_[K.toString()];delete this.uidIndex_[J];this.dispatchEvent(new P(q["default"].REMOVEFEATURE,z))};G.prototype.removeFromIdIndex_=function(z){var J=!1,K;for(K in this.idIndex_)if(this.idIndex_[K]===z){delete this.idIndex_[K];
J=!0;break}return J};G.prototype.setLoader=function(z){this.loader_=z};G.prototype.setUrl=function(z){(0,c.assert)(this.format_,7);this.setLoader((0,C.xhr)(z,this.format_))};return G}(rb["default"]);E["default"]=B};
shadow$provide[247]=function(Ha,B,rb,E){function g(Z){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(Q){return typeof Q}:function(Q){return Q&&"function"===typeof Symbol&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q};return g(Z)}function m(){if("function"!==typeof WeakMap)return null;var Z=new WeakMap;m=function(){return Z};return Z}function n(Z){return Z&&Z.__esModule?Z:{"default":Z}}function F(){var Z=(0,K.createEditingStyle)();return function(Q,r){return Z[Q.getGeometry().getType()]}}
function O(Z){if(Z===l["default"].POINT||Z===l["default"].MULTI_POINT)var Q=da.POINT;else Z===l["default"].LINE_STRING||Z===l["default"].MULTI_LINE_STRING?Q=da.LINE_STRING:Z===l["default"].POLYGON||Z===l["default"].MULTI_POLYGON?Q=da.POLYGON:Z===l["default"].CIRCLE&&(Q=da.CIRCLE);return Q}Object.defineProperty(E,"__esModule",{value:!0});E.createRegularPolygon=function(Z,Q){return function(r,N,ea){var aa=(0,R.fromUserCoordinate)(r[0],ea);r=(0,R.fromUserCoordinate)(r[r.length-1],ea);var va=Math.sqrt((0,
ka.squaredDistance)(aa,r));N=N?N:(0,D.fromCircle)(new x["default"](aa),Z);var ta=Q;Q||0===Q||(ta=Math.atan2(r[1]-aa[1],r[0]-aa[0]));(0,D.makeRegular)(N,aa,va,ta);(aa=(0,R.getUserProjection)())&&N.transform(ea,aa);return N}};E.createBox=function(){return function(Z,Q,r){Z=(0,J.boundingExtent)([Z[0],Z[Z.length-1]].map(function(N){return(0,R.fromUserCoordinate)(N,r)}));Z=[[(0,J.getBottomLeft)(Z),(0,J.getBottomRight)(Z),(0,J.getTopRight)(Z),(0,J.getTopLeft)(Z),(0,J.getBottomLeft)(Z)]];Q?Q.setCoordinates(Z):
Q=new D["default"](Z);(Z=(0,R.getUserProjection)())&&Q.transform(r,Z);return Q}};E["default"]=E.DrawEvent=void 0;var x=n(B(193));Ha=n(B(88));var y=n(B(92)),q=n(B(194)),l=n(B(123)),h=n(B(173)),c=n(B(197)),e=n(B(114)),a=n(B(115)),f=n(B(198)),p=n(B(199)),A=n(B(201)),C=n(B(149));rb=n(B(176));var D=function(Z){if(Z&&Z.__esModule)return Z;if(null===Z||"object"!==g(Z)&&"function"!==typeof Z)return{"default":Z};var Q=m();if(Q&&Q.has(Z))return Q.get(Z);var r={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor,
ea;for(ea in Z)if(Object.prototype.hasOwnProperty.call(Z,ea)){var aa=N?Object.getOwnPropertyDescriptor(Z,ea):null;aa&&(aa.get||aa.set)?Object.defineProperty(r,ea,aa):r[ea]=Z[ea]}r["default"]=Z;Q&&Q.set(Z,r);return r}(B(156)),P=n(B(240)),L=n(B(246)),G=B(77),z=B(177),J=B(84),K=B(210),R=B(134),U=B(95),ka=B(102),ba=function(){var Z=function(Q,r){Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,ea){N.__proto__=ea}||function(N,ea){for(var aa in ea)Object.prototype.hasOwnProperty.call(ea,
aa)&&(N[aa]=ea[aa])};return Z(Q,r)};return function(Q,r){function N(){this.constructor=Q}Z(Q,r);Q.prototype=null===r?Object.create(r):(N.prototype=r.prototype,new N)}}(),da={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},ja=function(Z){function Q(r,N){r=Z.call(this,r)||this;r.feature=N;return r}ba(Q,Z);return Q}(Ha["default"]);E.DrawEvent=ja;B=function(Z){function Q(r){var N=this;r.stopDown||(r.stopDown=G.FALSE);N=Z.call(this,r)||this;N.shouldHandle_=!1;N.downPx_=null;N.freehand_=
!1;N.source_=r.source?r.source:null;N.features_=r.features?r.features:null;N.snapTolerance_=r.snapTolerance?r.snapTolerance:12;N.type_=r.type;N.mode_=O(N.type_);N.stopClick_=!!r.stopClick;N.minPoints_=r.minPoints?r.minPoints:N.mode_===da.POLYGON?3:2;N.maxPoints_=N.mode_===da.CIRCLE?2:r.maxPoints?r.maxPoints:Infinity;N.finishCondition_=r.finishCondition?r.finishCondition:G.TRUE;var ea=r.geometryFunction;if(!ea){var aa=N.mode_;if(aa===da.CIRCLE)ea=function(ta,Da,$a){Da=Da?Da:new x["default"]([NaN,NaN]);
var kb=(0,R.fromUserCoordinate)(ta[0],$a);ta=(0,ka.squaredDistance)(kb,(0,R.fromUserCoordinate)(ta[ta.length-1],$a));Da.setCenterAndRadius(kb,Math.sqrt(ta));(ta=(0,R.getUserProjection)())&&Da.transform($a,ta);return Da};else{var va;aa===da.POINT?va=C["default"]:aa===da.LINE_STRING?va=c["default"]:aa===da.POLYGON&&(va=D["default"]);ea=function(ta,Da,$a){Da?aa===da.POLYGON?ta[0].length?Da.setCoordinates([ta[0].concat([ta[0][0]])]):Da.setCoordinates([]):Da.setCoordinates(ta):Da=new va(ta);return Da}}}N.geometryFunction_=
ea;N.dragVertexDelay_=void 0!==r.dragVertexDelay?r.dragVertexDelay:500;N.finishCoordinate_=null;N.sketchFeature_=null;N.sketchPoint_=null;N.sketchCoords_=null;N.sketchLine_=null;N.sketchLineCoords_=null;N.squaredClickTolerance_=r.clickTolerance?r.clickTolerance*r.clickTolerance:36;N.overlay_=new P["default"]({source:new L["default"]({useSpatialIndex:!1,wrapX:r.wrapX?r.wrapX:!1}),style:r.style?r.style:F(),updateWhileInteracting:!0});N.geometryName_=r.geometryName;N.condition_=r.condition?r.condition:
z.noModifierKeys;N.freehandCondition_=r.freehand?z.always:r.freehandCondition?r.freehandCondition:z.shiftKeyOnly;N.addEventListener((0,U.getChangeEventType)(h["default"].ACTIVE),N.updateState_);return N}ba(Q,Z);Q.prototype.setMap=function(r){Z.prototype.setMap.call(this,r);this.updateState_()};Q.prototype.getOverlay=function(){return this.overlay_};Q.prototype.handleEvent=function(r){r.originalEvent.type===y["default"].CONTEXTMENU&&r.originalEvent.preventDefault();this.freehand_=this.mode_!==da.POINT&&
this.freehandCondition_(r);var N=r.type===a["default"].POINTERMOVE,ea=!0;!this.freehand_&&this.lastDragTime_&&r.type===a["default"].POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=r.pixel,this.shouldHandle_=!this.freehand_,N=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0));this.freehand_&&r.type===a["default"].POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(r.coordinate),
ea=!1):this.freehand_&&r.type===a["default"].POINTERDOWN?ea=!1:N&&2>this.getPointerCount()?(ea=r.type===a["default"].POINTERMOVE)&&this.freehand_?(this.handlePointerMove_(r),this.shouldHandle_&&r.originalEvent.preventDefault()):("mouse"===r.originalEvent.pointerType||r.type===a["default"].POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(r):r.type===a["default"].DBLCLICK&&(ea=!1);return Z.prototype.handleEvent.call(this,r)&&ea};Q.prototype.handleDownEvent=function(r){this.shouldHandle_=
!this.freehand_;if(this.freehand_)return this.downPx_=r.pixel,this.finishCoordinate_||this.startDrawing_(r.coordinate),!0;if(this.condition_(r))return this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new e["default"](a["default"].POINTERMOVE,r.map,r.originalEvent,!1,r.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=r.pixel,!0;this.lastDragTime_=void 0;return!1};Q.prototype.handleUpEvent=function(r){var N=!0;if(0===this.getPointerCount())if(this.downTimeout_&&
(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(r),this.shouldHandle_){switch(!0){case !this.finishCoordinate_:if(this.startDrawing_(r.coordinate),this.mode_!==da.POINT)break;case this.freehand_||this.atFinish_(r.pixel)&&this.finishCondition_(r):this.finishDrawing();break;case !this.freehand_:this.addToDrawing_(r.coordinate)}N=!1}else this.freehand_&&this.abortDrawing();!N&&this.stopClick_&&r.originalEvent.stopPropagation();return N};Q.prototype.handlePointerMove_=
function(r){this.pointerType_=r.originalEvent.pointerType;if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var N=this.downPx_,ea=r.pixel,aa=N[0]-ea[0];N=N[1]-ea[1];aa=aa*aa+N*N;this.shouldHandle_=this.freehand_?aa>this.squaredClickTolerance_:aa<=this.squaredClickTolerance_;if(!this.shouldHandle_)return}this.finishCoordinate_?this.modifyDrawing_(r.coordinate):this.createOrUpdateSketchPoint_(r)};Q.prototype.atFinish_=function(r){var N=!1;if(this.sketchFeature_){var ea=
!1,aa=[this.finishCoordinate_],va=this.mode_;va===da.POINT?N=!0:va===da.CIRCLE?N=2===this.sketchCoords_.length:va===da.LINE_STRING?ea=this.sketchCoords_.length>this.minPoints_:va===da.POLYGON&&(aa=this.sketchCoords_,ea=aa[0].length>this.minPoints_,aa=[aa[0][0],aa[0][aa[0].length-2]]);if(ea){ea=this.getMap();va=0;for(var ta=aa.length;va<ta;va++){var Da=aa[va],$a=ea.getPixelFromCoordinate(Da);N=r[0]-$a[0];$a=r[1]-$a[1];if(N=Math.sqrt(N*N+$a*$a)<=(this.freehand_?1:this.snapTolerance_)){this.finishCoordinate_=
Da;break}}}}return N};Q.prototype.createOrUpdateSketchPoint_=function(r){r=r.coordinate.slice();this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(r):(this.sketchPoint_=new q["default"](new C["default"](r)),this.updateSketchFeatures_())};Q.prototype.createOrUpdateCustomSketchLine_=function(r){this.sketchLine_||(this.sketchLine_=new q["default"]);r=r.getLinearRing(0);var N=this.sketchLine_.getGeometry();N?(N.setFlatCoordinates(r.getLayout(),r.getFlatCoordinates()),N.changed()):(N=new c["default"](r.getFlatCoordinates(),
r.getLayout()),this.sketchLine_.setGeometry(N))};Q.prototype.startDrawing_=function(r){var N=this.getMap().getView().getProjection();this.finishCoordinate_=r;this.mode_===da.POINT?this.sketchCoords_=r.slice():this.mode_===da.POLYGON?(this.sketchCoords_=[[r.slice(),r.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[r.slice(),r.slice()];this.sketchLineCoords_&&(this.sketchLine_=new q["default"](new c["default"](this.sketchLineCoords_)));r=this.geometryFunction_(this.sketchCoords_,
void 0,N);this.sketchFeature_=new q["default"];this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_);this.sketchFeature_.setGeometry(r);this.updateSketchFeatures_();this.dispatchEvent(new ja("drawstart",this.sketchFeature_))};Q.prototype.modifyDrawing_=function(r){var N=this.getMap(),ea=this.sketchFeature_.getGeometry(),aa=N.getView().getProjection();if(this.mode_===da.POINT)var va=this.sketchCoords_;else this.mode_===da.POLYGON?(va=this.sketchCoords_[0],va=va[va.length-1],this.atFinish_(N.getPixelFromCoordinate(r))&&
(r=this.finishCoordinate_.slice())):(va=this.sketchCoords_,va=va[va.length-1]);va[0]=r[0];va[1]=r[1];this.geometryFunction_(this.sketchCoords_,ea,aa);this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(r);ea.getType()===l["default"].POLYGON&&this.mode_!==da.POLYGON?this.createOrUpdateCustomSketchLine_(ea):this.sketchLineCoords_&&this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_);this.updateSketchFeatures_()};Q.prototype.addToDrawing_=function(r){var N=this.sketchFeature_.getGeometry(),
ea=this.getMap().getView().getProjection(),aa;var va=this.mode_;va===da.LINE_STRING||va===da.CIRCLE?(this.finishCoordinate_=r.slice(),va=this.sketchCoords_,va.length>=this.maxPoints_&&(this.freehand_?va.pop():aa=!0),va.push(r.slice()),this.geometryFunction_(va,N,ea)):va===da.POLYGON&&(va=this.sketchCoords_[0],va.length>=this.maxPoints_&&(this.freehand_?va.pop():aa=!0),va.push(r.slice()),aa&&(this.finishCoordinate_=va[0]),this.geometryFunction_(this.sketchCoords_,N,ea));this.updateSketchFeatures_();
aa&&this.finishDrawing()};Q.prototype.removeLastPoint=function(){if(this.sketchFeature_){var r=this.sketchFeature_.getGeometry(),N=this.getMap().getView().getProjection(),ea=this.mode_;if(ea===da.LINE_STRING||ea===da.CIRCLE){var aa=this.sketchCoords_;aa.splice(-2,1);2<=aa.length&&(this.finishCoordinate_=aa[aa.length-2].slice(),ea=this.finishCoordinate_.slice(),aa[aa.length-1]=ea,this.sketchPoint_.setGeometry(new C["default"](ea)));this.geometryFunction_(aa,r,N);r.getType()===l["default"].POLYGON&&
this.sketchLine_&&this.createOrUpdateCustomSketchLine_(r)}else if(ea===da.POLYGON){aa=this.sketchCoords_[0];aa.splice(-2,1);var va=this.sketchLine_.getGeometry();2<=aa.length&&(ea=aa[aa.length-2].slice(),aa[aa.length-1]=ea,this.sketchPoint_.setGeometry(new C["default"](ea)));va.setCoordinates(aa);this.geometryFunction_(this.sketchCoords_,r,N)}1===aa.length&&this.abortDrawing();this.updateSketchFeatures_()}};Q.prototype.finishDrawing=function(){var r=this.abortDrawing_();if(r){var N=this.sketchCoords_,
ea=r.getGeometry(),aa=this.getMap().getView().getProjection();this.mode_===da.LINE_STRING?(N.pop(),this.geometryFunction_(N,ea,aa)):this.mode_===da.POLYGON&&(N[0].pop(),this.geometryFunction_(N,ea,aa),N=ea.getCoordinates());this.type_===l["default"].MULTI_POINT?r.setGeometry(new p["default"]([N])):this.type_===l["default"].MULTI_LINE_STRING?r.setGeometry(new f["default"]([N])):this.type_===l["default"].MULTI_POLYGON&&r.setGeometry(new A["default"]([N]));this.dispatchEvent(new ja("drawend",r));this.features_&&
this.features_.push(r);this.source_&&this.source_.addFeature(r)}};Q.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var r=this.sketchFeature_;this.sketchLine_=this.sketchPoint_=this.sketchFeature_=null;this.overlay_.getSource().clear(!0);return r};Q.prototype.abortDrawing=function(){var r=this.abortDrawing_();r&&this.dispatchEvent(new ja("drawabort",r))};Q.prototype.appendCoordinates=function(r){var N=this.mode_,ea=!this.sketchFeature_;ea&&this.startDrawing_(r[0]);if(N===da.LINE_STRING||
N===da.CIRCLE)N=this.sketchCoords_;else if(N===da.POLYGON)N=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[];else return;ea&&N.shift();N.pop();for(ea=0;ea<r.length;ea++)this.addToDrawing_(r[ea]);r=r[r.length-1];this.addToDrawing_(r);this.modifyDrawing_(r)};Q.prototype.extend=function(r){var N=r.getGeometry();this.sketchFeature_=r;this.sketchCoords_=N.getCoordinates();r=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=r.slice();this.sketchCoords_.push(r.slice());
this.sketchPoint_=new q["default"](new C["default"](r));this.updateSketchFeatures_();this.dispatchEvent(new ja("drawstart",this.sketchFeature_))};Q.prototype.updateSketchFeatures_=function(){var r=[];this.sketchFeature_&&r.push(this.sketchFeature_);this.sketchLine_&&r.push(this.sketchLine_);this.sketchPoint_&&r.push(this.sketchPoint_);var N=this.overlay_.getSource();N.clear(!0);N.addFeatures(r)};Q.prototype.updateState_=function(){var r=this.getMap(),N=this.getActive();r&&N||this.abortDrawing();this.overlay_.setMap(N?
r:null)};return Q}(rb["default"]);E["default"]=B};
shadow$provide[248]=function(Ha,B,rb,E){function g(L){return L&&L.__esModule?L:{"default":L}}function m(){var L=(0,p.createEditingStyle)();return function(G,z){return L[y["default"].POLYGON]}}function n(){var L=(0,p.createEditingStyle)();return function(G,z){return L[y["default"].POINT]}}function F(L){return function(G){return(0,a.boundingExtent)([L,G])}}function O(L,G){return L[0]==G[0]?function(z){return(0,a.boundingExtent)([L,[z[0],G[1]]])}:L[1]==G[1]?function(z){return(0,a.boundingExtent)([L,
[G[0],z[1]]])}:null}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.ExtentEvent=void 0;Ha=g(B(88));var x=g(B(194)),y=g(B(123)),q=g(B(115)),l=g(B(149));rb=g(B(176));var h=g(B(240)),c=g(B(246)),e=B(177),a=B(84),f=B(102),p=B(210),A=B(156),C=B(134),D=function(){var L=function(G,z){L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,K){J.__proto__=K}||function(J,K){for(var R in K)Object.prototype.hasOwnProperty.call(K,R)&&(J[R]=K[R])};return L(G,z)};return function(G,z){function J(){this.constructor=
G}L(G,z);G.prototype=null===z?Object.create(z):(J.prototype=z.prototype,new J)}}(),P=function(L){function G(z){var J=L.call(this,"extentchanged")||this;J.extent=z;return J}D(G,L);return G}(Ha["default"]);E.ExtentEvent=P;B=function(L){function G(z){var J=z||{};var K=L.call(this,J)||this;K.condition_=J.condition?J.condition:e.always;K.extent_=null;K.pointerHandler_=null;K.pixelTolerance_=void 0!==J.pixelTolerance?J.pixelTolerance:10;K.snappedToVertex_=!1;K.extentFeature_=null;K.vertexFeature_=null;
z||(z={});K.extentOverlay_=new h["default"]({source:new c["default"]({useSpatialIndex:!1,wrapX:!!z.wrapX}),style:z.boxStyle?z.boxStyle:m(),updateWhileAnimating:!0,updateWhileInteracting:!0});K.vertexOverlay_=new h["default"]({source:new c["default"]({useSpatialIndex:!1,wrapX:!!z.wrapX}),style:z.pointerStyle?z.pointerStyle:n(),updateWhileAnimating:!0,updateWhileInteracting:!0});z.extent&&K.setExtent(z.extent);return K}D(G,L);G.prototype.snapToVertex_=function(z,J){var K=J.getCoordinateFromPixelInternal(z),
R=function(ba,da){return(0,f.squaredDistanceToSegment)(K,ba)-(0,f.squaredDistanceToSegment)(K,da)},U=this.getExtentInternal();if(U){U=[[[U[0],U[1]],[U[0],U[3]]],[[U[0],U[3]],[U[2],U[3]]],[[U[2],U[3]],[U[2],U[1]]],[[U[2],U[1]],[U[0],U[1]]]];U.sort(R);R=U[0];U=(0,f.closestOnSegment)(K,R);var ka=J.getPixelFromCoordinateInternal(U);if((0,f.distance)(z,ka)<=this.pixelTolerance_)return z=J.getPixelFromCoordinateInternal(R[0]),J=J.getPixelFromCoordinateInternal(R[1]),z=(0,f.squaredDistance)(ka,z),J=(0,f.squaredDistance)(ka,
J),(this.snappedToVertex_=Math.sqrt(Math.min(z,J))<=this.pixelTolerance_)&&(U=z>J?R[1]:R[0]),U}return null};G.prototype.handlePointerMove_=function(z){var J=z.pixel;z=z.map;var K=this.snapToVertex_(J,z);K||(K=z.getCoordinateFromPixelInternal(J));this.createOrUpdatePointerFeature_(K)};G.prototype.createOrUpdateExtentFeature_=function(z){var J=this.extentFeature_;J?z?J.setGeometry((0,A.fromExtent)(z)):J.setGeometry(void 0):(this.extentFeature_=J=z?new x["default"]((0,A.fromExtent)(z)):new x["default"]({}),
this.extentOverlay_.getSource().addFeature(J));return J};G.prototype.createOrUpdatePointerFeature_=function(z){var J=this.vertexFeature_;J?J.getGeometry().setCoordinates(z):(this.vertexFeature_=J=new x["default"](new l["default"](z)),this.vertexOverlay_.getSource().addFeature(J));return J};G.prototype.handleEvent=function(z){if(!z.originalEvent||!this.condition_(z))return!0;z.type!=q["default"].POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(z);L.prototype.handleEvent.call(this,
z);return!1};G.prototype.handleDownEvent=function(z){var J=z.pixel,K=z.map,R=this.getExtentInternal();z=this.snapToVertex_(J,K);var U=function(ka){var ba=null,da=null;ka[0]==R[0]?ba=R[2]:ka[0]==R[2]&&(ba=R[0]);ka[1]==R[1]?da=R[3]:ka[1]==R[3]&&(da=R[1]);return null!==ba&&null!==da?[ba,da]:null};z&&R?(J=z[0]==R[0]||z[0]==R[2]?z[0]:null,K=z[1]==R[1]||z[1]==R[3]?z[1]:null,null!==J&&null!==K?this.pointerHandler_=F(U(z)):null!==J?this.pointerHandler_=O(U([J,R[1]]),U([J,R[3]])):null!==K&&(this.pointerHandler_=
O(U([R[0],K]),U([R[2],K])))):(z=K.getCoordinateFromPixelInternal(J),this.setExtent([z[0],z[1],z[0],z[1]]),this.pointerHandler_=F(z));return!0};G.prototype.handleDragEvent=function(z){this.pointerHandler_&&(z=z.coordinate,this.setExtent(this.pointerHandler_(z)),this.createOrUpdatePointerFeature_(z))};G.prototype.handleUpEvent=function(z){this.pointerHandler_=null;(z=this.getExtentInternal())&&0!==(0,a.getArea)(z)||this.setExtent(null);return!1};G.prototype.setMap=function(z){this.extentOverlay_.setMap(z);
this.vertexOverlay_.setMap(z);L.prototype.setMap.call(this,z)};G.prototype.getExtent=function(){return(0,C.toUserExtent)(this.getExtentInternal(),this.getMap().getView().getProjection())};G.prototype.getExtentInternal=function(){return this.extent_};G.prototype.setExtent=function(z){this.extent_=z?z:null;this.createOrUpdateExtentFeature_(z);this.dispatchEvent(new P(this.extent_))};return G}(rb["default"]);E["default"]=B};
shadow$provide[249]=function(Ha,B,rb,E){function g(ja){return ja&&ja.__esModule?ja:{"default":ja}}function m(ja){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(Z){return typeof Z}:function(Z){return Z&&"function"===typeof Symbol&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z};return m(ja)}function n(ja,Z){return ja.index-Z.index}function F(ja,Z,Q){var r=Z.geometry;if(r.getType()===c["default"].CIRCLE&&1===Z.index)return(Z=(0,K.getUserProjection)())&&(r=r.clone().transform(Z,
Q)),Q=(0,L.squaredDistance)(r.getCenter(),(0,K.fromUserCoordinate)(ja,Q)),Q=Math.sqrt(Q)-r.getRadius(),Q*Q;ja=(0,K.fromUserCoordinate)(ja,Q);ba[0]=(0,K.fromUserCoordinate)(Z.segment[0],Q);ba[1]=(0,K.fromUserCoordinate)(Z.segment[1],Q);return(0,L.squaredDistanceToSegment)(ja,ba)}function O(ja,Z,Q){var r=Z.geometry;if(r.getType()===c["default"].CIRCLE&&1===Z.index)return Z=r,(r=(0,K.getUserProjection)())&&(Z=Z.clone().transform(r,Q)),(0,K.toUserCoordinate)(Z.getClosestPoint((0,K.fromUserCoordinate)(ja,
Q)),Q);ja=(0,K.fromUserCoordinate)(ja,Q);ba[0]=(0,K.fromUserCoordinate)(Z.segment[0],Q);ba[1]=(0,K.fromUserCoordinate)(Z.segment[1],Q);return(0,K.toUserCoordinate)((0,L.closestOnSegment)(ja,ba),Q)}function x(){var ja=(0,G.createEditingStyle)();return function(Z,Q){return ja[c["default"].POINT]}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.ModifyEvent=void 0;var y=g(B(111)),q=g(B(110));Ha=g(B(88));var l=g(B(92)),h=g(B(194)),c=g(B(123)),e=g(B(115)),a=g(B(149));rb=g(B(176));var f=
g(B(241)),p=g(B(243)),A=g(B(240)),C=g(B(246)),D=B(177),P=B(84),L=B(102),G=B(210),z=B(76),J=B(156),K=B(134),R=B(78),U=function(){var ja=function(Z,Q){ja=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,N){r.__proto__=N}||function(r,N){for(var ea in N)Object.prototype.hasOwnProperty.call(N,ea)&&(r[ea]=N[ea])};return ja(Z,Q)};return function(Z,Q){function r(){this.constructor=Z}ja(Z,Q);Z.prototype=null===Q?Object.create(Q):(r.prototype=Q.prototype,new r)}}(),ka=[0,0,0,0],ba=[],da=function(ja){function Z(Q,
r,N){Q=ja.call(this,Q)||this;Q.features=r;Q.mapBrowserEvent=N;return Q}U(Z,ja);return Z}(Ha["default"]);E.ModifyEvent=da;B=function(ja){function Z(Q){var r=ja.call(this,Q)||this;r.boundHandleFeatureChange_=r.handleFeatureChange_.bind(r);r.condition_=Q.condition?Q.condition:D.primaryAction;r.defaultDeleteCondition_=function(ea){return(0,D.altKeyOnly)(ea)&&(0,D.singleClick)(ea)};r.deleteCondition_=Q.deleteCondition?Q.deleteCondition:r.defaultDeleteCondition_;r.insertVertexCondition_=Q.insertVertexCondition?
Q.insertVertexCondition:D.always;r.vertexFeature_=null;r.vertexSegments_=null;r.lastPixel_=[0,0];r.ignoreNextSingleClick_=!1;r.featuresBeingModified_=null;r.rBush_=new f["default"];r.pixelTolerance_=void 0!==Q.pixelTolerance?Q.pixelTolerance:10;r.snappedToVertex_=!1;r.changingFeature_=!1;r.dragSegments_=[];r.overlay_=new A["default"]({source:new C["default"]({useSpatialIndex:!1,wrapX:!!Q.wrapX}),style:Q.style?Q.style:x(),updateWhileAnimating:!0,updateWhileInteracting:!0});r.SEGMENT_WRITERS_={Point:r.writePointGeometry_.bind(r),
LineString:r.writeLineStringGeometry_.bind(r),LinearRing:r.writeLineStringGeometry_.bind(r),Polygon:r.writePolygonGeometry_.bind(r),MultiPoint:r.writeMultiPointGeometry_.bind(r),MultiLineString:r.writeMultiLineStringGeometry_.bind(r),MultiPolygon:r.writeMultiPolygonGeometry_.bind(r),Circle:r.writeCircleGeometry_.bind(r),GeometryCollection:r.writeGeometryCollectionGeometry_.bind(r)};r.source_=null;r.hitDetection_=null;if(Q.features)var N=Q.features;else Q.source&&(r.source_=Q.source,N=new y["default"](r.source_.getFeatures()),
r.source_.addEventListener(p["default"].ADDFEATURE,r.handleSourceAdd_.bind(r)),r.source_.addEventListener(p["default"].REMOVEFEATURE,r.handleSourceRemove_.bind(r)));if(!N)throw Error("The modify interaction requires features, a source or a layer");Q.hitDetection&&(r.hitDetection_=Q.hitDetection);r.features_=N;r.features_.forEach(r.addFeature_.bind(r));r.features_.addEventListener(q["default"].ADD,r.handleFeatureAdd_.bind(r));r.features_.addEventListener(q["default"].REMOVE,r.handleFeatureRemove_.bind(r));
r.lastPointerEvent_=null;r.delta_=[0,0];return r}U(Z,ja);Z.prototype.addFeature_=function(Q){var r=Q.getGeometry();if(r){var N=this.SEGMENT_WRITERS_[r.getType()];N&&N(Q,r)}(r=this.getMap())&&r.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,r);Q.addEventListener(l["default"].CHANGE,this.boundHandleFeatureChange_)};Z.prototype.willModifyFeatures_=function(Q,r){if(!this.featuresBeingModified_){this.featuresBeingModified_=new y["default"];for(var N=this.featuresBeingModified_.getArray(),
ea=0,aa=r.length;ea<aa;++ea){var va=r[ea][0].feature;-1===N.indexOf(va)&&this.featuresBeingModified_.push(va)}this.dispatchEvent(new da("modifystart",this.featuresBeingModified_,Q))}};Z.prototype.removeFeature_=function(Q){this.removeFeatureSegmentData_(Q);this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null);Q.removeEventListener(l["default"].CHANGE,this.boundHandleFeatureChange_)};Z.prototype.removeFeatureSegmentData_=
function(Q){var r=this.rBush_,N=[];r.forEach(function(ta){Q===ta.feature&&N.push(ta)});for(var ea=N.length-1;0<=ea;--ea){for(var aa=N[ea],va=this.dragSegments_.length-1;0<=va;--va)this.dragSegments_[va][0]===aa&&this.dragSegments_.splice(va,1);r.remove(aa)}};Z.prototype.setActive=function(Q){this.vertexFeature_&&!Q&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null);ja.prototype.setActive.call(this,Q)};Z.prototype.setMap=function(Q){this.overlay_.setMap(Q);ja.prototype.setMap.call(this,
Q)};Z.prototype.getOverlay=function(){return this.overlay_};Z.prototype.handleSourceAdd_=function(Q){Q.feature&&this.features_.push(Q.feature)};Z.prototype.handleSourceRemove_=function(Q){Q.feature&&this.features_.remove(Q.feature)};Z.prototype.handleFeatureAdd_=function(Q){this.addFeature_(Q.element)};Z.prototype.handleFeatureChange_=function(Q){this.changingFeature_||(Q=Q.target,this.removeFeature_(Q),this.addFeature_(Q))};Z.prototype.handleFeatureRemove_=function(Q){this.removeFeature_(Q.element)};
Z.prototype.writePointGeometry_=function(Q,r){var N=r.getCoordinates();Q={feature:Q,geometry:r,segment:[N,N]};this.rBush_.insert(r.getExtent(),Q)};Z.prototype.writeMultiPointGeometry_=function(Q,r){for(var N=r.getCoordinates(),ea=0,aa=N.length;ea<aa;++ea){var va=N[ea];va={feature:Q,geometry:r,depth:[ea],index:ea,segment:[va,va]};this.rBush_.insert(r.getExtent(),va)}};Z.prototype.writeLineStringGeometry_=function(Q,r){for(var N=r.getCoordinates(),ea=0,aa=N.length-1;ea<aa;++ea){var va=N.slice(ea,ea+
2),ta={feature:Q,geometry:r,index:ea,segment:va};this.rBush_.insert((0,P.boundingExtent)(va),ta)}};Z.prototype.writeMultiLineStringGeometry_=function(Q,r){for(var N=r.getCoordinates(),ea=0,aa=N.length;ea<aa;++ea)for(var va=N[ea],ta=0,Da=va.length-1;ta<Da;++ta){var $a=va.slice(ta,ta+2),kb={feature:Q,geometry:r,depth:[ea],index:ta,segment:$a};this.rBush_.insert((0,P.boundingExtent)($a),kb)}};Z.prototype.writePolygonGeometry_=function(Q,r){for(var N=r.getCoordinates(),ea=0,aa=N.length;ea<aa;++ea)for(var va=
N[ea],ta=0,Da=va.length-1;ta<Da;++ta){var $a=va.slice(ta,ta+2),kb={feature:Q,geometry:r,depth:[ea],index:ta,segment:$a};this.rBush_.insert((0,P.boundingExtent)($a),kb)}};Z.prototype.writeMultiPolygonGeometry_=function(Q,r){for(var N=r.getCoordinates(),ea=0,aa=N.length;ea<aa;++ea)for(var va=N[ea],ta=0,Da=va.length;ta<Da;++ta)for(var $a=va[ta],kb=0,sa=$a.length-1;kb<sa;++kb){var Ta=$a.slice(kb,kb+2),Wa={feature:Q,geometry:r,depth:[ta,ea],index:kb,segment:Ta};this.rBush_.insert((0,P.boundingExtent)(Ta),
Wa)}};Z.prototype.writeCircleGeometry_=function(Q,r){var N=r.getCenter(),ea={feature:Q,geometry:r,index:0,segment:[N,N]};Q={feature:Q,geometry:r,index:1,segment:[N,N]};var aa=[ea,Q];ea.featureSegments=aa;Q.featureSegments=aa;this.rBush_.insert((0,P.createOrUpdateFromCoordinate)(N),ea);(N=(0,K.getUserProjection)())&&this.getMap()&&(ea=this.getMap().getView().getProjection(),r=r.clone().transform(N,ea),r=(0,J.fromCircle)(r).transform(ea,N));this.rBush_.insert(r.getExtent(),Q)};Z.prototype.writeGeometryCollectionGeometry_=
function(Q,r){r=r.getGeometriesArray();for(var N=0;N<r.length;++N){var ea=r[N];(0,this.SEGMENT_WRITERS_[ea.getType()])(Q,ea)}};Z.prototype.createOrUpdateVertexFeature_=function(Q,r,N){var ea=this.vertexFeature_;ea?ea.getGeometry().setCoordinates(Q):(this.vertexFeature_=ea=new h["default"](new a["default"](Q)),this.overlay_.getSource().addFeature(ea));ea.set("features",r);ea.set("geometries",N);return ea};Z.prototype.handleEvent=function(Q){if(!Q.originalEvent)return!0;this.lastPointerEvent_=Q;var r;
Q.map.getView().getInteracting()||Q.type!=e["default"].POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(Q);this.vertexFeature_&&this.deleteCondition_(Q)&&(r=Q.type==e["default"].SINGLECLICK&&this.ignoreNextSingleClick_?!0:this.removePoint());Q.type==e["default"].SINGLECLICK&&(this.ignoreNextSingleClick_=!1);return ja.prototype.handleEvent.call(this,Q)&&!r};Z.prototype.handleDragEvent=function(Q){this.ignoreNextSingleClick_=!1;this.willModifyFeatures_(Q,this.dragSegments_);for(var r=
[Q.coordinate[0]+this.delta_[0],Q.coordinate[1]+this.delta_[1]],N=[],ea=[],aa=0,va=this.dragSegments_.length;aa<va;++aa){var ta=this.dragSegments_[aa],Da=ta[0],$a=Da.feature;-1===N.indexOf($a)&&N.push($a);$a=Da.geometry;-1===ea.indexOf($a)&&ea.push($a);var kb=Da.depth,sa=void 0,Ta=Da.segment;for(ta=ta[1];r.length<$a.getStride();)r.push(Ta[ta][r.length]);switch($a.getType()){case c["default"].POINT:sa=r;Ta[0]=r;Ta[1]=r;break;case c["default"].MULTI_POINT:sa=$a.getCoordinates();sa[Da.index]=r;Ta[0]=
r;Ta[1]=r;break;case c["default"].LINE_STRING:sa=$a.getCoordinates();sa[Da.index+ta]=r;Ta[ta]=r;break;case c["default"].MULTI_LINE_STRING:sa=$a.getCoordinates();sa[kb[0]][Da.index+ta]=r;Ta[ta]=r;break;case c["default"].POLYGON:sa=$a.getCoordinates();sa[kb[0]][Da.index+ta]=r;Ta[ta]=r;break;case c["default"].MULTI_POLYGON:sa=$a.getCoordinates();sa[kb[1]][kb[0]][Da.index+ta]=r;Ta[ta]=r;break;case c["default"].CIRCLE:Ta[0]=r;Ta[1]=r;if(0===Da.index)this.changingFeature_=!0,$a.setCenter(r);else{this.changingFeature_=
!0;Da=Q.map.getView().getProjection();ta=(0,L.distance)((0,K.fromUserCoordinate)($a.getCenter(),Da),(0,K.fromUserCoordinate)(r,Da));if(kb=(0,K.getUserProjection)())Ta=$a.clone().transform(kb,Da),Ta.setRadius(ta),ta=Ta.transform(Da,kb).getRadius();$a.setRadius(ta)}this.changingFeature_=!1}sa&&this.setGeometryCoordinates_($a,sa)}this.createOrUpdateVertexFeature_(r,N,ea)};Z.prototype.handleDownEvent=function(Q){if(!this.condition_(Q))return!1;var r=Q.coordinate;this.handlePointerAtPixel_(Q.pixel,Q.map,
r);this.dragSegments_.length=0;this.featuresBeingModified_=null;var N=this.vertexFeature_;if(N){var ea=Q.map.getView().getProjection(),aa=[];N=N.getGeometry().getCoordinates();var va=(0,P.boundingExtent)([N]);va=this.rBush_.getInExtent(va);var ta={};va.sort(n);for(var Da=0,$a=va.length;Da<$a;++Da){var kb=va[Da],sa=kb.segment,Ta=(0,R.getUid)(kb.geometry),Wa=kb.depth;Wa&&(Ta+="-"+Wa.join("-"));ta[Ta]||(ta[Ta]=Array(2));if(kb.geometry.getType()===c["default"].CIRCLE&&1===kb.index)sa=O(r,kb,ea),(0,L.equals)(sa,
N)&&!ta[Ta][0]&&(this.dragSegments_.push([kb,0]),ta[Ta][0]=kb);else if((0,L.equals)(sa[0],N)&&!ta[Ta][0])this.dragSegments_.push([kb,0]),ta[Ta][0]=kb;else if((0,L.equals)(sa[1],N)&&!ta[Ta][1]){if(kb.geometry.getType()!==c["default"].LINE_STRING&&kb.geometry.getType()!==c["default"].MULTI_LINE_STRING||!ta[Ta][0]||0!==ta[Ta][0].index)this.dragSegments_.push([kb,1]),ta[Ta][1]=kb}else(0,R.getUid)(sa)in this.vertexSegments_&&!ta[Ta][0]&&!ta[Ta][1]&&this.insertVertexCondition_(Q)&&aa.push(kb)}aa.length&&
this.willModifyFeatures_(Q,[aa]);for(Q=aa.length-1;0<=Q;--Q)this.insertVertex_(aa[Q],N)}return!!this.vertexFeature_};Z.prototype.handleUpEvent=function(Q){for(var r=this.dragSegments_.length-1;0<=r;--r){var N=this.dragSegments_[r][0],ea=N.geometry;if(ea.getType()===c["default"].CIRCLE){var aa=ea.getCenter(),va=N.featureSegments[0];N=N.featureSegments[1];va.segment[0]=aa;va.segment[1]=aa;N.segment[0]=aa;N.segment[1]=aa;this.rBush_.update((0,P.createOrUpdateFromCoordinate)(aa),va);if(aa=(0,K.getUserProjection)())va=
Q.map.getView().getProjection(),ea=ea.clone().transform(aa,va),ea=(0,J.fromCircle)(ea).transform(va,aa);this.rBush_.update(ea.getExtent(),N)}else this.rBush_.update((0,P.boundingExtent)(N.segment),N)}this.featuresBeingModified_&&(this.dispatchEvent(new da("modifyend",this.featuresBeingModified_,Q)),this.featuresBeingModified_=null);return!1};Z.prototype.handlePointerMove_=function(Q){this.lastPixel_=Q.pixel;this.handlePointerAtPixel_(Q.pixel,Q.map,Q.coordinate)};Z.prototype.handlePointerAtPixel_=
function(Q,r,N){var ea=this,aa=N||r.getCoordinateFromPixel(Q),va=r.getView().getProjection();N=function(Ea,ua){return F(aa,Ea,va)-F(aa,ua,va)};var ta;if(this.hitDetection_){var Da="object"===m(this.hitDetection_)?function(Ea){return Ea===ea.hitDetection_}:void 0;r.forEachFeatureAtPixel(Q,function(Ea,ua,V){V=V||Ea.getGeometry();V.getType()===c["default"].POINT&&(ta=V,ua=V.getCoordinates(),kb=[{feature:Ea,geometry:V,segment:[ua,ua]}]);return!0},{layerFilter:Da})}if(!kb){Da=(0,K.fromUserExtent)((0,P.createOrUpdateFromCoordinate)(aa,
ka),va);var $a=r.getView().getResolution()*this.pixelTolerance_;Da=(0,K.toUserExtent)((0,P.buffer)(Da,$a,ka),va);var kb=this.rBush_.getInExtent(Da)}if(kb&&0<kb.length){Da=kb.sort(N)[0];N=Da.segment;$a=O(aa,Da,va);var sa=r.getPixelFromCoordinate($a),Ta=(0,L.distance)(Q,sa);if(ta||Ta<=this.pixelTolerance_){Q={};Q[(0,R.getUid)(N)]=!0;this.delta_[0]=$a[0]-aa[0];this.delta_[1]=$a[1]-aa[1];if(Da.geometry.getType()===c["default"].CIRCLE&&1===Da.index)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_($a,
[Da.feature],[Da.geometry]);else{Ta=r.getPixelFromCoordinate(N[0]);var Wa=r.getPixelFromCoordinate(N[1]);r=(0,L.squaredDistance)(sa,Ta);sa=(0,L.squaredDistance)(sa,Wa);Ta=Math.sqrt(Math.min(r,sa));(this.snappedToVertex_=Ta<=this.pixelTolerance_)&&($a=r>sa?N[1]:N[0]);this.createOrUpdateVertexFeature_($a,[Da.feature],[Da.geometry]);r={};r[(0,R.getUid)(Da.geometry)]=!0;Da=1;for($a=kb.length;Da<$a;++Da)if(sa=kb[Da].segment,(0,L.equals)(N[0],sa[0])&&(0,L.equals)(N[1],sa[1])||(0,L.equals)(N[0],sa[1])&&
(0,L.equals)(N[1],sa[0]))Ta=(0,R.getUid)(kb[Da].geometry),Ta in r||(r[Ta]=!0,Q[(0,R.getUid)(sa)]=!0);else break}this.vertexSegments_=Q;return}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)};Z.prototype.insertVertex_=function(Q,r){for(var N=Q.segment,ea=Q.feature,aa=Q.geometry,va=Q.depth,ta=Q.index,Da;r.length<aa.getStride();)r.push(0);switch(aa.getType()){case c["default"].MULTI_LINE_STRING:Da=aa.getCoordinates();Da[va[0]].splice(ta+1,
0,r);break;case c["default"].POLYGON:Da=aa.getCoordinates();Da[va[0]].splice(ta+1,0,r);break;case c["default"].MULTI_POLYGON:Da=aa.getCoordinates();Da[va[1]][va[0]].splice(ta+1,0,r);break;case c["default"].LINE_STRING:Da=aa.getCoordinates();Da.splice(ta+1,0,r);break;default:return}this.setGeometryCoordinates_(aa,Da);Da=this.rBush_;Da.remove(Q);this.updateSegmentIndices_(aa,ta,va,1);Q={segment:[N[0],r],feature:ea,geometry:aa,depth:va,index:ta};Da.insert((0,P.boundingExtent)(Q.segment),Q);this.dragSegments_.push([Q,
1]);r={segment:[r,N[1]],feature:ea,geometry:aa,depth:va,index:ta+1};Da.insert((0,P.boundingExtent)(r.segment),r);this.dragSegments_.push([r,0]);this.ignoreNextSingleClick_=!0};Z.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=e["default"].POINTERDRAG){var Q=this.lastPointerEvent_;this.willModifyFeatures_(Q,this.dragSegments_);var r=this.removeVertex_();this.dispatchEvent(new da("modifyend",this.featuresBeingModified_,Q));this.featuresBeingModified_=null;return r}return!1};
Z.prototype.removeVertex_=function(){var Q=this.dragSegments_,r={},N=!1,ea,aa;for(aa=Q.length-1;0<=aa;--aa){var va=Q[aa];var ta=va[0];var Da=(0,R.getUid)(ta.feature);ta.depth&&(Da+="-"+ta.depth.join("-"));Da in r||(r[Da]={});0===va[1]?(r[Da].right=ta,r[Da].index=ta.index):1==va[1]&&(r[Da].left=ta,r[Da].index=ta.index+1)}for(Da in r){var $a=r[Da].right;var kb=r[Da].left;aa=r[Da].index;var sa=aa-1;ta=void 0!==kb?kb:$a;0>sa&&(sa=0);va=ta.geometry;var Ta=ea=va.getCoordinates();N=!1;switch(va.getType()){case c["default"].MULTI_LINE_STRING:2<
ea[ta.depth[0]].length&&(ea[ta.depth[0]].splice(aa,1),N=!0);break;case c["default"].LINE_STRING:2<ea.length&&(ea.splice(aa,1),N=!0);break;case c["default"].MULTI_POLYGON:Ta=Ta[ta.depth[1]];case c["default"].POLYGON:Ta=Ta[ta.depth[0]],4<Ta.length&&(aa==Ta.length-1&&(aa=0),Ta.splice(aa,1),N=!0,0===aa&&(Ta.pop(),Ta.push(Ta[0]),sa=Ta.length-1))}N&&(this.setGeometryCoordinates_(va,ea),Ta=[],void 0!==kb&&(this.rBush_.remove(kb),Ta.push(kb.segment[0])),void 0!==$a&&(this.rBush_.remove($a),Ta.push($a.segment[1])),
void 0!==kb&&void 0!==$a&&(kb={depth:ta.depth,feature:ta.feature,geometry:ta.geometry,index:sa,segment:Ta},this.rBush_.insert((0,P.boundingExtent)(kb.segment),kb)),this.updateSegmentIndices_(va,aa,ta.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),Q.length=0)}return N};Z.prototype.setGeometryCoordinates_=function(Q,r){this.changingFeature_=!0;Q.setCoordinates(r);this.changingFeature_=!1};Z.prototype.updateSegmentIndices_=function(Q,
r,N,ea){this.rBush_.forEachInExtent(Q.getExtent(),function(aa){aa.geometry===Q&&(void 0===N||void 0===aa.depth||(0,z.equals)(aa.depth,N))&&aa.index>r&&(aa.index+=ea)})};return Z}(rb["default"]);E["default"]=B};
shadow$provide[250]=function(Ha,B,rb,E){function g(p){return p&&p.__esModule?p:{"default":p}}function m(){var p=(0,q.createEditingStyle)();(0,l.extend)(p[O["default"].POLYGON],p[O["default"].LINE_STRING]);(0,l.extend)(p[O["default"].GEOMETRY_COLLECTION],p[O["default"].LINE_STRING]);return function(A){return A.getGeometry()?p[A.getGeometry().getType()]:null}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.SelectEvent=void 0;var n=g(B(111)),F=g(B(110));Ha=g(B(88));var O=g(B(123));rb=
g(B(174));var x=B(77),y=B(90),q=B(210),l=B(76),h=B(78),c=B(177),e=function(){var p=function(A,C){p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,P){D.__proto__=P}||function(D,P){for(var L in P)Object.prototype.hasOwnProperty.call(P,L)&&(D[L]=P[L])};return p(A,C)};return function(A,C){function D(){this.constructor=A}p(A,C);A.prototype=null===C?Object.create(C):(D.prototype=C.prototype,new D)}}(),a=function(p){function A(C,D,P,L){C=p.call(this,C)||this;C.selected=D;C.deselected=
P;C.mapBrowserEvent=L;return C}e(A,p);return A}(Ha["default"]);E.SelectEvent=a;var f={};B=function(p){function A(C){var D=p.call(this)||this;C=C?C:{};D.boundAddFeature_=D.addFeature_.bind(D);D.boundRemoveFeature_=D.removeFeature_.bind(D);D.condition_=C.condition?C.condition:c.singleClick;D.addCondition_=C.addCondition?C.addCondition:c.never;D.removeCondition_=C.removeCondition?C.removeCondition:c.never;D.toggleCondition_=C.toggleCondition?C.toggleCondition:c.shiftKeyOnly;D.multi_=C.multi?C.multi:
!1;D.filter_=C.filter?C.filter:x.TRUE;D.hitTolerance_=C.hitTolerance?C.hitTolerance:0;D.style_=void 0!==C.style?C.style:m();D.features_=C.features||new n["default"];if(C.layers)if("function"===typeof C.layers)C=C.layers;else{var P=C.layers;C=function(L){return(0,l.includes)(P,L)}}else C=x.TRUE;D.layerFilter_=C;D.featureLayerAssociation_={};return D}e(A,p);A.prototype.addFeatureLayerAssociation_=function(C,D){this.featureLayerAssociation_[(0,h.getUid)(C)]=D};A.prototype.getFeatures=function(){return this.features_};
A.prototype.getHitTolerance=function(){return this.hitTolerance_};A.prototype.getLayer=function(C){return this.featureLayerAssociation_[(0,h.getUid)(C)]};A.prototype.setHitTolerance=function(C){this.hitTolerance_=C};A.prototype.setMap=function(C){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this));p.prototype.setMap.call(this,C);C?(this.features_.addEventListener(F["default"].ADD,this.boundAddFeature_),this.features_.addEventListener(F["default"].REMOVE,this.boundRemoveFeature_),
this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(F["default"].ADD,this.boundAddFeature_),this.features_.removeEventListener(F["default"].REMOVE,this.boundRemoveFeature_))};A.prototype.addFeature_=function(C){C=C.element;this.style_&&this.applySelectedStyle_(C)};A.prototype.removeFeature_=function(C){C=C.element;this.style_&&this.restorePreviousStyle_(C)};A.prototype.getStyle=function(){return this.style_};A.prototype.applySelectedStyle_=
function(C){var D=(0,h.getUid)(C);D in f||(f[D]=C.getStyle());C.setStyle(this.style_)};A.prototype.restorePreviousStyle_=function(C){for(var D=this.getMap().getInteractions().getArray(),P=D.length-1;0<=P;--P){var L=D[P];if(L!==this&&L instanceof A&&L.getStyle()&&-1!==L.getFeatures().getArray().lastIndexOf(C)){C.setStyle(L.getStyle());return}}D=(0,h.getUid)(C);C.setStyle(f[D]);delete f[D]};A.prototype.removeFeatureLayerAssociation_=function(C){delete this.featureLayerAssociation_[(0,h.getUid)(C)]};
A.prototype.handleEvent=function(C){if(!this.condition_(C))return!0;var D=this.addCondition_(C),P=this.removeCondition_(C),L=this.toggleCondition_(C),G=!D&&!P&&!L,z=C.map,J=this.getFeatures(),K=[],R=[];if(G){(0,y.clear)(this.featureLayerAssociation_);z.forEachFeatureAtPixel(C.pixel,function(ka,ba){if(this.filter_(ka,ba))return R.push(ka),this.addFeatureLayerAssociation_(ka,ba),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(G=J.getLength()-1;0<=G;--G){z=
J.item(G);var U=R.indexOf(z);-1<U?R.splice(U,1):(J.remove(z),K.push(z))}0!==R.length&&J.extend(R)}else{z.forEachFeatureAtPixel(C.pixel,function(ka,ba){if(this.filter_(ka,ba))return!D&&!L||(0,l.includes)(J.getArray(),ka)?(P||L)&&(0,l.includes)(J.getArray(),ka)&&(K.push(ka),this.removeFeatureLayerAssociation_(ka)):(R.push(ka),this.addFeatureLayerAssociation_(ka,ba)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(G=K.length-1;0<=G;--G)J.remove(K[G]);J.extend(R)}(0<
R.length||0<K.length)&&this.dispatchEvent(new a("select",R,K,C));return!0};return A}(rb["default"]);E["default"]=B};
shadow$provide[251]=function(Ha,B,rb,E){function g(D){return D&&D.__esModule?D:{"default":D}}function m(D){if(D.feature)return D.feature;if(D.element)return D.element}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var n=g(B(110)),F=g(B(92)),O=g(B(123));Ha=g(B(176));var x=g(B(241)),y=g(B(243)),q=B(77),l=B(84),h=B(102),c=B(156),e=B(134),a=B(78),f=B(90),p=B(93),A=function(){var D=function(P,L){D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,z){G.__proto__=z}||
function(G,z){for(var J in z)Object.prototype.hasOwnProperty.call(z,J)&&(G[J]=z[J])};return D(P,L)};return function(P,L){function G(){this.constructor=P}D(P,L);P.prototype=null===L?Object.create(L):(G.prototype=L.prototype,new G)}}(),C=[];B=function(D){function P(L){var G=L?L:{};G.handleDownEvent||(G.handleDownEvent=q.TRUE);G.stopDown||(G.stopDown=q.FALSE);L=D.call(this,G)||this;L.source_=G.source?G.source:null;L.vertex_=void 0!==G.vertex?G.vertex:!0;L.edge_=void 0!==G.edge?G.edge:!0;L.features_=
G.features?G.features:null;L.featuresListenerKeys_=[];L.featureChangeListenerKeys_={};L.indexedFeaturesExtents_={};L.pendingFeatures_={};L.pixelTolerance_=void 0!==G.pixelTolerance?G.pixelTolerance:10;L.rBush_=new x["default"];L.SEGMENT_WRITERS_={Point:L.writePointGeometry_.bind(L),LineString:L.writeLineStringGeometry_.bind(L),LinearRing:L.writeLineStringGeometry_.bind(L),Polygon:L.writePolygonGeometry_.bind(L),MultiPoint:L.writeMultiPointGeometry_.bind(L),MultiLineString:L.writeMultiLineStringGeometry_.bind(L),
MultiPolygon:L.writeMultiPolygonGeometry_.bind(L),GeometryCollection:L.writeGeometryCollectionGeometry_.bind(L),Circle:L.writeCircleGeometry_.bind(L)};return L}A(P,D);P.prototype.addFeature=function(L,G){G=void 0!==G?G:!0;var z=(0,a.getUid)(L),J=L.getGeometry();if(J){var K=this.SEGMENT_WRITERS_[J.getType()];K&&(this.indexedFeaturesExtents_[z]=J.getExtent((0,l.createEmpty)()),K(L,J))}G&&(this.featureChangeListenerKeys_[z]=(0,p.listen)(L,F["default"].CHANGE,this.handleFeatureChange_,this))};P.prototype.forEachFeatureAdd_=
function(L){this.addFeature(L)};P.prototype.forEachFeatureRemove_=function(L){this.removeFeature(L)};P.prototype.getFeatures_=function(){var L;this.features_?L=this.features_:this.source_&&(L=this.source_.getFeatures());return L};P.prototype.handleEvent=function(L){var G=this.snapTo(L.pixel,L.coordinate,L.map);G.snapped&&(L.coordinate=G.vertex.slice(0,2),L.pixel=G.vertexPixel);return D.prototype.handleEvent.call(this,L)};P.prototype.handleFeatureAdd_=function(L){L=m(L);this.addFeature(L)};P.prototype.handleFeatureRemove_=
function(L){L=m(L);this.removeFeature(L)};P.prototype.handleFeatureChange_=function(L){L=L.target;if(this.handlingDownUpSequence){var G=(0,a.getUid)(L);G in this.pendingFeatures_||(this.pendingFeatures_[G]=L)}else this.updateFeature_(L)};P.prototype.handleUpEvent=function(L){L=(0,f.getValues)(this.pendingFeatures_);L.length&&(L.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={});return!1};P.prototype.removeFeature=function(L,G){G=void 0!==G?G:!0;var z=(0,a.getUid)(L),J=this.indexedFeaturesExtents_[z];
if(J){var K=this.rBush_,R=[];K.forEachInExtent(J,function(U){L===U.feature&&R.push(U)});for(J=R.length-1;0<=J;--J)K.remove(R[J])}G&&((0,p.unlistenByKey)(this.featureChangeListenerKeys_[z]),delete this.featureChangeListenerKeys_[z])};P.prototype.setMap=function(L){var G=this.getMap(),z=this.featuresListenerKeys_,J=this.getFeatures_();G&&(z.forEach(p.unlistenByKey),z.length=0,J.forEach(this.forEachFeatureRemove_.bind(this)));D.prototype.setMap.call(this,L);L&&(this.features_?z.push((0,p.listen)(this.features_,
n["default"].ADD,this.handleFeatureAdd_,this),(0,p.listen)(this.features_,n["default"].REMOVE,this.handleFeatureRemove_,this)):this.source_&&z.push((0,p.listen)(this.source_,y["default"].ADDFEATURE,this.handleFeatureAdd_,this),(0,p.listen)(this.source_,y["default"].REMOVEFEATURE,this.handleFeatureRemove_,this)),J.forEach(this.forEachFeatureAdd_.bind(this)))};P.prototype.snapTo=function(L,G,z){var J=z.getCoordinateFromPixel([L[0]-this.pixelTolerance_,L[1]+this.pixelTolerance_]),K=z.getCoordinateFromPixel([L[0]+
this.pixelTolerance_,L[1]-this.pixelTolerance_]);J=(0,l.boundingExtent)([J,K]);var R=this.rBush_.getInExtent(J);this.vertex_&&!this.edge_&&(R=R.filter(function(r){return r.feature.getGeometry().getType()!==O["default"].CIRCLE}));J=!1;var U=K=null;if(0===R.length)return{snapped:J,vertex:K,vertexPixel:U};var ka=z.getView().getProjection();G=(0,e.fromUserCoordinate)(G,ka);for(var ba,da=Infinity,ja=0;ja<R.length;++ja){var Z=R[ja];C[0]=(0,e.fromUserCoordinate)(Z.segment[0],ka);C[1]=(0,e.fromUserCoordinate)(Z.segment[1],
ka);var Q=(0,h.squaredDistanceToSegment)(G,C);Q<da&&(ba=Z,da=Q)}R=ba.segment;this.vertex_&&!this.edge_?(ba=z.getPixelFromCoordinate(R[0]),ka=z.getPixelFromCoordinate(R[1]),ba=(0,h.squaredDistance)(L,ba),L=(0,h.squaredDistance)(L,ka),ka=Math.sqrt(Math.min(ba,L)),ka<=this.pixelTolerance_&&(J=!0,K=ba>L?R[1]:R[0],U=z.getPixelFromCoordinate(K))):this.edge_&&((da=ba.feature.getGeometry().getType()===O["default"].CIRCLE)?(K=ba.feature.getGeometry(),(U=(0,e.getUserProjection)())&&(K=K.clone().transform(U,
ka)),K=(0,e.toUserCoordinate)((0,h.closestOnCircle)(G,K),ka)):(C[0]=(0,e.fromUserCoordinate)(R[0],ka),C[1]=(0,e.fromUserCoordinate)(R[1],ka),K=(0,e.toUserCoordinate)((0,h.closestOnSegment)(G,C),ka)),U=z.getPixelFromCoordinate(K),(0,h.distance)(L,U)<=this.pixelTolerance_&&(J=!0,this.vertex_&&!da&&(ba=z.getPixelFromCoordinate(R[0]),ka=z.getPixelFromCoordinate(R[1]),ba=(0,h.squaredDistance)(U,ba),L=(0,h.squaredDistance)(U,ka),ka=Math.sqrt(Math.min(ba,L)),ka<=this.pixelTolerance_&&(K=ba>L?R[1]:R[0],U=
z.getPixelFromCoordinate(K)))));J&&(U=[Math.round(U[0]),Math.round(U[1])]);return{snapped:J,vertex:K,vertexPixel:U}};P.prototype.updateFeature_=function(L){this.removeFeature(L,!1);this.addFeature(L,!1)};P.prototype.writeCircleGeometry_=function(L,G){var z=this.getMap().getView().getProjection(),J=G;(G=(0,e.getUserProjection)())&&(J=J.clone().transform(G,z));J=(0,c.fromCircle)(J);G&&J.transform(z,G);z=J.getCoordinates()[0];G=0;for(J=z.length-1;G<J;++G){var K=z.slice(G,G+2),R={feature:L,segment:K};
this.rBush_.insert((0,l.boundingExtent)(K),R)}};P.prototype.writeGeometryCollectionGeometry_=function(L,G){G=G.getGeometriesArray();for(var z=0;z<G.length;++z){var J=this.SEGMENT_WRITERS_[G[z].getType()];J&&J(L,G[z])}};P.prototype.writeLineStringGeometry_=function(L,G){G=G.getCoordinates();for(var z=0,J=G.length-1;z<J;++z){var K=G.slice(z,z+2),R={feature:L,segment:K};this.rBush_.insert((0,l.boundingExtent)(K),R)}};P.prototype.writeMultiLineStringGeometry_=function(L,G){G=G.getCoordinates();for(var z=
0,J=G.length;z<J;++z)for(var K=G[z],R=0,U=K.length-1;R<U;++R){var ka=K.slice(R,R+2),ba={feature:L,segment:ka};this.rBush_.insert((0,l.boundingExtent)(ka),ba)}};P.prototype.writeMultiPointGeometry_=function(L,G){for(var z=G.getCoordinates(),J=0,K=z.length;J<K;++J){var R=z[J];R={feature:L,segment:[R,R]};this.rBush_.insert(G.getExtent(),R)}};P.prototype.writeMultiPolygonGeometry_=function(L,G){G=G.getCoordinates();for(var z=0,J=G.length;z<J;++z)for(var K=G[z],R=0,U=K.length;R<U;++R)for(var ka=K[R],ba=
0,da=ka.length-1;ba<da;++ba){var ja=ka.slice(ba,ba+2),Z={feature:L,segment:ja};this.rBush_.insert((0,l.boundingExtent)(ja),Z)}};P.prototype.writePointGeometry_=function(L,G){var z=G.getCoordinates();L={feature:L,segment:[z,z]};this.rBush_.insert(G.getExtent(),L)};P.prototype.writePolygonGeometry_=function(L,G){G=G.getCoordinates();for(var z=0,J=G.length;z<J;++z)for(var K=G[z],R=0,U=K.length-1;R<U;++R){var ka=K.slice(R,R+2),ba={feature:L,segment:ka};this.rBush_.insert((0,l.boundingExtent)(ka),ba)}};
return P}(Ha["default"]);E["default"]=B};
shadow$provide[252]=function(Ha,B,rb,E){function g(l){return l&&l.__esModule?l:{"default":l}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.TranslateEvent=void 0;var m=g(B(111));Ha=g(B(88));var n=g(B(173));rb=g(B(176));var F=B(77),O=B(95),x=B(76),y=function(){var l=function(h,c){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,a){e.__proto__=a}||function(e,a){for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(e[f]=a[f])};return l(h,c)};return function(h,
c){function e(){this.constructor=h}l(h,c);h.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)}}(),q=function(l){function h(c,e,a,f,p){c=l.call(this,c)||this;c.features=e;c.coordinate=a;c.startCoordinate=f;c.mapBrowserEvent=p;return c}y(h,l);return h}(Ha["default"]);E.TranslateEvent=q;B=function(l){function h(c){var e=this;c=c?c:{};e=l.call(this,c)||this;e.lastCoordinate_=null;e.startCoordinate_=null;e.features_=void 0!==c.features?c.features:null;if(c.layers)if("function"===typeof c.layers)var a=
c.layers;else{var f=c.layers;a=function(p){return(0,x.includes)(f,p)}}else a=F.TRUE;e.layerFilter_=a;e.filter_=c.filter?c.filter:F.TRUE;e.hitTolerance_=c.hitTolerance?c.hitTolerance:0;e.lastFeature_=null;e.addEventListener((0,O.getChangeEventType)(n["default"].ACTIVE),e.handleActiveChanged_);return e}y(h,l);h.prototype.handleDownEvent=function(c){this.lastFeature_=this.featuresAtPixel_(c.pixel,c.map);if(!this.lastCoordinate_&&this.lastFeature_){this.lastCoordinate_=this.startCoordinate_=c.coordinate;
this.handleMoveEvent(c);var e=this.features_||new m["default"]([this.lastFeature_]);this.dispatchEvent(new q("translatestart",e,c.coordinate,this.startCoordinate_,c));return!0}return!1};h.prototype.handleUpEvent=function(c){if(this.lastCoordinate_){this.lastCoordinate_=null;this.handleMoveEvent(c);var e=this.features_||new m["default"]([this.lastFeature_]);this.dispatchEvent(new q("translateend",e,c.coordinate,this.startCoordinate_,c));this.startCoordinate_=null;return!0}return!1};h.prototype.handleDragEvent=
function(c){if(this.lastCoordinate_){var e=c.coordinate,a=e[0]-this.lastCoordinate_[0],f=e[1]-this.lastCoordinate_[1],p=this.features_||new m["default"]([this.lastFeature_]);p.forEach(function(A){var C=A.getGeometry();C.translate(a,f);A.setGeometry(C)});this.lastCoordinate_=e;this.dispatchEvent(new q("translating",p,e,this.startCoordinate_,c))}};h.prototype.handleMoveEvent=function(c){var e=c.map.getViewport();this.featuresAtPixel_(c.pixel,c.map)?(e.classList.remove(this.lastCoordinate_?"ol-grab":
"ol-grabbing"),e.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")):e.classList.remove("ol-grab","ol-grabbing")};h.prototype.featuresAtPixel_=function(c,e){return e.forEachFeatureAtPixel(c,function(a,f){if(this.filter_(a,f)&&(!this.features_||(0,x.includes)(this.features_.getArray(),a)))return a}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})};h.prototype.getHitTolerance=function(){return this.hitTolerance_};h.prototype.setHitTolerance=function(c){this.hitTolerance_=
c};h.prototype.setMap=function(c){var e=this.getMap();l.prototype.setMap.call(this,c);this.updateState_(e)};h.prototype.handleActiveChanged_=function(){this.updateState_(null)};h.prototype.updateState_=function(c){var e=this.getMap(),a=this.getActive();e&&a||(e=e||c)&&e.getViewport().classList.remove("ol-grab","ol-grabbing")};return h}(rb["default"]);E["default"]=B};
shadow$provide[253]=function(Ha,B,rb,E){function g(K){return K&&K.__esModule?K:{"default":K}}Object.defineProperty(E,"__esModule",{value:!0});E.defaults=function(K){K=K?K:{};var R=new m["default"],U=new l["default"](-.005,.05,100);(void 0!==K.altShiftDragRotate?K.altShiftDragRotate:1)&&R.push(new O["default"]);(void 0!==K.doubleClickZoom?K.doubleClickZoom:1)&&R.push(new n["default"]({delta:K.zoomDelta,duration:K.zoomDuration}));(void 0!==K.dragPan?K.dragPan:1)&&R.push(new F["default"]({onFocusOnly:K.onFocusOnly,
kinetic:U}));(void 0!==K.pinchRotate?K.pinchRotate:1)&&R.push(new c["default"]);(void 0!==K.pinchZoom?K.pinchZoom:1)&&R.push(new e["default"]({duration:K.zoomDuration}));if(void 0!==K.keyboard?K.keyboard:1)R.push(new y["default"]),R.push(new q["default"]({delta:K.zoomDelta,duration:K.zoomDuration}));(void 0!==K.mouseWheelZoom?K.mouseWheelZoom:1)&&R.push(new h["default"]({onFocusOnly:K.onFocusOnly,duration:K.zoomDuration}));(void 0!==K.shiftDragZoom?K.shiftDragZoom:1)&&R.push(new x["default"]({duration:K.zoomDuration}));
return R};Object.defineProperty(E,"DoubleClickZoom",{enumerable:!0,get:function(){return n["default"]}});Object.defineProperty(E,"DragPan",{enumerable:!0,get:function(){return F["default"]}});Object.defineProperty(E,"DragRotate",{enumerable:!0,get:function(){return O["default"]}});Object.defineProperty(E,"DragZoom",{enumerable:!0,get:function(){return x["default"]}});Object.defineProperty(E,"KeyboardPan",{enumerable:!0,get:function(){return y["default"]}});Object.defineProperty(E,"KeyboardZoom",{enumerable:!0,
get:function(){return q["default"]}});Object.defineProperty(E,"MouseWheelZoom",{enumerable:!0,get:function(){return h["default"]}});Object.defineProperty(E,"PinchRotate",{enumerable:!0,get:function(){return c["default"]}});Object.defineProperty(E,"PinchZoom",{enumerable:!0,get:function(){return e["default"]}});Object.defineProperty(E,"DragAndDrop",{enumerable:!0,get:function(){return a["default"]}});Object.defineProperty(E,"DragBox",{enumerable:!0,get:function(){return f["default"]}});Object.defineProperty(E,
"DragRotateAndZoom",{enumerable:!0,get:function(){return p["default"]}});Object.defineProperty(E,"Draw",{enumerable:!0,get:function(){return A["default"]}});Object.defineProperty(E,"Extent",{enumerable:!0,get:function(){return C["default"]}});Object.defineProperty(E,"Interaction",{enumerable:!0,get:function(){return D["default"]}});Object.defineProperty(E,"Modify",{enumerable:!0,get:function(){return P["default"]}});Object.defineProperty(E,"Pointer",{enumerable:!0,get:function(){return L["default"]}});
Object.defineProperty(E,"Select",{enumerable:!0,get:function(){return G["default"]}});Object.defineProperty(E,"Snap",{enumerable:!0,get:function(){return z["default"]}});Object.defineProperty(E,"Translate",{enumerable:!0,get:function(){return J["default"]}});var m=g(B(111)),n=g(B(175)),F=g(B(178)),O=g(B(179)),x=g(B(182)),y=g(B(184)),q=g(B(185)),l=g(B(186)),h=g(B(187)),c=g(B(188)),e=g(B(189)),a=g(B(191)),f=g(B(181)),p=g(B(192)),A=g(B(247)),C=g(B(248)),D=g(B(174)),P=g(B(249)),L=g(B(176)),G=g(B(250)),
z=g(B(251)),J=g(B(252))};
shadow$provide[254]=function(Ha,B,rb,E){function g(y){return y&&y.__esModule?y:{"default":y}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var m=g(B(109));Ha=g(B(159));var n=B(90),F=B(172),O=B(253),x=function(){var y=function(q,l){y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var e in c)Object.prototype.hasOwnProperty.call(c,e)&&(h[e]=c[e])};return y(q,l)};return function(q,l){function h(){this.constructor=q}y(q,l);
q.prototype=null===l?Object.create(l):(h.prototype=l.prototype,new h)}}();B=function(y){function q(l){l=(0,n.assign)({},l);l.controls||(l.controls=(0,F.defaults)());l.interactions||(l.interactions=(0,O.defaults)({onFocusOnly:!0}));return y.call(this,l)||this}x(q,y);q.prototype.createRenderer=function(){return new m["default"](this)};return q}(Ha["default"]);E["default"]=B};
shadow$provide[255]=function(Ha,B,rb,E){function g(q){return q&&q.__esModule?q:{"default":q}}function m(q){for(var l=[],h=0,c=q.length;h<c;++h)l.push(q[h].clone());return l}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var n=g(B(92));Ha=g(B(141));var F=g(B(123)),O=B(84),x=B(93),y=function(){var q=function(l,h){q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(c[a]=e[a])};
return q(l,h)};return function(l,h){function c(){this.constructor=l}q(l,h);l.prototype=null===h?Object.create(h):(c.prototype=h.prototype,new c)}}();B=function(q){function l(h){var c=q.call(this)||this;c.geometries_=h?h:null;c.changeEventsKeys_=[];c.listenGeometriesChange_();return c}y(l,q);l.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(x.unlistenByKey);this.changeEventsKeys_.length=0};l.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var h=0,
c=this.geometries_.length;h<c;++h)this.changeEventsKeys_.push((0,x.listen)(this.geometries_[h],n["default"].CHANGE,this.changed,this))};l.prototype.clone=function(){var h=new l(null);h.setGeometries(this.geometries_);h.applyProperties(this);return h};l.prototype.closestPointXY=function(h,c,e,a){if(a<(0,O.closestSquaredDistanceXY)(this.getExtent(),h,c))return a;for(var f=this.geometries_,p=0,A=f.length;p<A;++p)a=f[p].closestPointXY(h,c,e,a);return a};l.prototype.containsXY=function(h,c){for(var e=
this.geometries_,a=0,f=e.length;a<f;++a)if(e[a].containsXY(h,c))return!0;return!1};l.prototype.computeExtent=function(h){(0,O.createOrUpdateEmpty)(h);for(var c=this.geometries_,e=0,a=c.length;e<a;++e)(0,O.extend)(h,c[e].getExtent());return h};l.prototype.getGeometries=function(){return m(this.geometries_)};l.prototype.getGeometriesArray=function(){return this.geometries_};l.prototype.getGeometriesArrayRecursive=function(){for(var h=[],c=this.geometries_,e=0,a=c.length;e<a;++e)c[e].getType()===this.getType()?
h=h.concat(c[e].getGeometriesArrayRecursive()):h.push(c[e]);return h};l.prototype.getSimplifiedGeometry=function(h){this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision());if(0>h||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&h<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var c=[],e=this.geometries_,a=!1,f=0,p=e.length;f<p;++f){var A=e[f],C=A.getSimplifiedGeometry(h);c.push(C);
C!==A&&(a=!0)}if(a)return h=new l(null),h.setGeometriesArray(c),h;this.simplifiedGeometryMaxMinSquaredTolerance=h;return this};l.prototype.getType=function(){return F["default"].GEOMETRY_COLLECTION};l.prototype.intersectsExtent=function(h){for(var c=this.geometries_,e=0,a=c.length;e<a;++e)if(c[e].intersectsExtent(h))return!0;return!1};l.prototype.isEmpty=function(){return 0===this.geometries_.length};l.prototype.rotate=function(h,c){for(var e=this.geometries_,a=0,f=e.length;a<f;++a)e[a].rotate(h,
c);this.changed()};l.prototype.scale=function(h,c,e){e||(e=(0,O.getCenter)(this.getExtent()));for(var a=this.geometries_,f=0,p=a.length;f<p;++f)a[f].scale(h,c,e);this.changed()};l.prototype.setGeometries=function(h){this.setGeometriesArray(m(h))};l.prototype.setGeometriesArray=function(h){this.unlistenGeometriesChange_();this.geometries_=h;this.listenGeometriesChange_();this.changed()};l.prototype.applyTransform=function(h){for(var c=this.geometries_,e=0,a=c.length;e<a;++e)c[e].applyTransform(h);
this.changed()};l.prototype.translate=function(h,c){for(var e=this.geometries_,a=0,f=e.length;a<f;++a)e[a].translate(h,c);this.changed()};l.prototype.disposeInternal=function(){this.unlistenGeometriesChange_();q.prototype.disposeInternal.call(this)};return l}(Ha["default"]);E["default"]=B};
shadow$provide[256]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.transformGeometryWithOptions=function(O,x,y){var q=y?(0,F.get)(y.featureProjection):null,l=y?(0,F.get)(y.dataProjection):null;q=q&&l&&!(0,F.equivalent)(q,l)?(x?O.clone():O).transform(x?q:l,x?l:q):O;if(x&&y&&void 0!==y.decimals){var h=Math.pow(10,y.decimals);q===O&&(q=O.clone());q.applyTransform(function(c){for(var e=0,a=c.length;e<a;++e)c[e]=Math.round(c[e]*h)/h;return c})}return q};E.transformExtentWithOptions=
function(O,x){var y=x?(0,F.get)(x.featureProjection):null;x=x?(0,F.get)(x.dataProjection):null;return y&&x&&!(0,F.equivalent)(y,x)?(0,F.transformExtent)(O,x,y):O};E["default"]=void 0;var g=function(O){return O&&O.__esModule?O:{"default":O}}(B(124)),m=B(78),n=B(90),F=B(134);Ha=function(){function O(){this.defaultFeatureProjection=this.dataProjection=null}O.prototype.getReadOptions=function(x,y){if(y){x=y.dataProjection?(0,F.get)(y.dataProjection):this.readProjection(x);y.extent&&x&&x.getUnits()===
g["default"].TILE_PIXELS&&(x=(0,F.get)(x),x.setWorldExtent(y.extent));var q={dataProjection:x,featureProjection:y.featureProjection}}return this.adaptOptions(q)};O.prototype.adaptOptions=function(x){return(0,n.assign)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},x)};O.prototype.getType=function(){return(0,m["abstract"])()};O.prototype.readFeature=function(x,y){return(0,m["abstract"])()};O.prototype.readFeatures=function(x,y){return(0,m["abstract"])()};O.prototype.readGeometry=
function(x,y){return(0,m["abstract"])()};O.prototype.readProjection=function(x){return(0,m["abstract"])()};O.prototype.writeFeature=function(x,y){return(0,m["abstract"])()};O.prototype.writeFeatures=function(x,y){return(0,m["abstract"])()};O.prototype.writeGeometry=function(x,y){return(0,m["abstract"])()};return O}();E["default"]=Ha};
shadow$provide[257]=function(Ha,B,rb,E){function g(x){return x&&x.__esModule?x:{"default":x}}function m(x){return"string"===typeof x?x:""}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=g(B(256));var n=g(B(190)),F=B(78),O=function(){var x=function(y,q){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&(l[c]=h[c])};return x(y,q)};return function(y,q){function l(){this.constructor=
y}x(y,q);y.prototype=null===q?Object.create(q):(l.prototype=q.prototype,new l)}}();B=function(x){function y(){return x.call(this)||this}O(y,x);y.prototype.getType=function(){return n["default"].TEXT};y.prototype.readFeature=function(q,l){return this.readFeatureFromText(m(q),this.adaptOptions(l))};y.prototype.readFeatureFromText=function(q,l){return(0,F["abstract"])()};y.prototype.readFeatures=function(q,l){return this.readFeaturesFromText(m(q),this.adaptOptions(l))};y.prototype.readFeaturesFromText=
function(q,l){return(0,F["abstract"])()};y.prototype.readGeometry=function(q,l){return this.readGeometryFromText(m(q),this.adaptOptions(l))};y.prototype.readGeometryFromText=function(q,l){return(0,F["abstract"])()};y.prototype.readProjection=function(q){return this.readProjectionFromText(m(q))};y.prototype.readProjectionFromText=function(q){return this.dataProjection};y.prototype.writeFeature=function(q,l){return this.writeFeatureText(q,this.adaptOptions(l))};y.prototype.writeFeatureText=function(q,
l){return(0,F["abstract"])()};y.prototype.writeFeatures=function(q,l){return this.writeFeaturesText(q,this.adaptOptions(l))};y.prototype.writeFeaturesText=function(q,l){return(0,F["abstract"])()};y.prototype.writeGeometry=function(q,l){return this.writeGeometryText(q,this.adaptOptions(l))};y.prototype.writeGeometryText=function(q,l){return(0,F["abstract"])()};return y}(Ha["default"]);E["default"]=B};
shadow$provide[258]=function(Ha,B,rb,E){function g(z){return z&&z.__esModule?z:{"default":z}}function m(z){z=z.getCoordinates();return 0===z.length?"":z.join(" ")}function n(z){z=z.getCoordinates();for(var J=[],K=0,R=z.length;K<R;++K)J.push(z[K].join(" "));return J.join(",")}function F(z){var J=[];z=z.getLinearRings();for(var K=0,R=z.length;K<R;++K)J.push("("+n(z[K])+")");return J.join(",")}function O(z){var J=z.getType(),K=(0,G[J])(z);J=J.toUpperCase();if("function"===typeof z.getFlatCoordinates){z=
z.getLayout();var R="";if(z===q["default"].XYZ||z===q["default"].XYZM)R+="Z";if(z===q["default"].XYM||z===q["default"].XYZM)R+="M";z=R;0<z.length&&(J+=" "+z)}return 0===K.length?J+" EMPTY":J+"("+K+")"}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var x=g(B(194)),y=g(B(255)),q=g(B(139)),l=g(B(123));Ha=g(B(197));rb=g(B(198));var h=g(B(199)),c=g(B(201)),e=g(B(149)),a=g(B(156)),f=g(B(257)),p=B(256),A=function(){var z=function(J,K){z=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(R,U){R.__proto__=U}||function(R,U){for(var ka in U)Object.prototype.hasOwnProperty.call(U,ka)&&(R[ka]=U[ka])};return z(J,K)};return function(J,K){function R(){this.constructor=J}z(J,K);J.prototype=null===K?Object.create(K):(R.prototype=K.prototype,new R)}}(),C={POINT:e["default"],LINESTRING:Ha["default"],POLYGON:a["default"],MULTIPOINT:h["default"],MULTILINESTRING:rb["default"],MULTIPOLYGON:c["default"]},D;for(D in l["default"])l["default"][D].toUpperCase();var P=function(){function z(J){this.wkt=
J;this.index_=-1}z.prototype.isAlpha_=function(J){return"a"<=J&&"z">=J||"A"<=J&&"Z">=J};z.prototype.isNumeric_=function(J,K){return"0"<=J&&"9">=J||"."==J&&!(void 0!==K&&K)};z.prototype.isWhiteSpace_=function(J){return" "==J||"\t"==J||"\r"==J||"\n"==J};z.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)};z.prototype.nextToken=function(){var J=this.nextChar_(),K=this.index_,R=J;if("("==J)J=2;else if(","==J)J=5;else if(")"==J)J=3;else if(this.isNumeric_(J)||"-"==J)J=4,R=this.readNumber_();
else if(this.isAlpha_(J))J=1,R=this.readText_();else{if(this.isWhiteSpace_(J))return this.nextToken();if(""===J)J=6;else throw Error("Unexpected character: "+J);}return{position:K,value:R,type:J}};z.prototype.readNumber_=function(){var J=this.index_,K=!1,R=!1;do{if("."==U)K=!0;else if("e"==U||"E"==U)R=!0;var U=this.nextChar_()}while(this.isNumeric_(U,K)||!R&&("e"==U||"E"==U)||R&&("-"==U||"+"==U));return parseFloat(this.wkt.substring(J,this.index_--))};z.prototype.readText_=function(){var J=this.index_;
do var K=this.nextChar_();while(this.isAlpha_(K));return this.wkt.substring(J,this.index_--).toUpperCase()};return z}(),L=function(){function z(J){this.lexer_=J;this.layout_=q["default"].XY}z.prototype.consume_=function(){this.token_=this.lexer_.nextToken()};z.prototype.isTokenType=function(J){return this.token_.type==J};z.prototype.match=function(J){(J=this.isTokenType(J))&&this.consume_();return J};z.prototype.parse=function(){this.consume_();return this.parseGeometry_()};z.prototype.parseGeometryLayout_=
function(){var J=q["default"].XY,K=this.token_;this.isTokenType(1)&&(K=K.value,"Z"===K?J=q["default"].XYZ:"M"===K?J=q["default"].XYM:"ZM"===K&&(J=q["default"].XYZM),J!==q["default"].XY&&this.consume_());return J};z.prototype.parseGeometryCollectionText_=function(){if(this.match(2)){var J=[];do J.push(this.parseGeometry_());while(this.match(5));if(this.match(3))return J}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());};z.prototype.parsePointText_=function(){if(this.match(2)){var J=
this.parsePoint_();if(this.match(3))return J}else if(this.isEmptyGeometry_())return null;throw Error(this.formatErrorMessage_());};z.prototype.parseLineStringText_=function(){if(this.match(2)){var J=this.parsePointList_();if(this.match(3))return J}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());};z.prototype.parsePolygonText_=function(){if(this.match(2)){var J=this.parseLineStringTextList_();if(this.match(3))return J}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());
};z.prototype.parseMultiPointText_=function(){if(this.match(2)){var J=2==this.token_.type?this.parsePointTextList_():this.parsePointList_();if(this.match(3))return J}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());};z.prototype.parseMultiLineStringText_=function(){if(this.match(2)){var J=this.parseLineStringTextList_();if(this.match(3))return J}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());};z.prototype.parseMultiPolygonText_=function(){if(this.match(2)){var J=
this.parsePolygonTextList_();if(this.match(3))return J}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());};z.prototype.parsePoint_=function(){for(var J=[],K=this.layout_.length,R=0;R<K;++R){var U=this.token_;if(this.match(4))J.push(U.value);else break}if(J.length==K)return J;throw Error(this.formatErrorMessage_());};z.prototype.parsePointList_=function(){for(var J=[this.parsePoint_()];this.match(5);)J.push(this.parsePoint_());return J};z.prototype.parsePointTextList_=
function(){for(var J=[this.parsePointText_()];this.match(5);)J.push(this.parsePointText_());return J};z.prototype.parseLineStringTextList_=function(){for(var J=[this.parseLineStringText_()];this.match(5);)J.push(this.parseLineStringText_());return J};z.prototype.parsePolygonTextList_=function(){for(var J=[this.parsePolygonText_()];this.match(5);)J.push(this.parsePolygonText_());return J};z.prototype.isEmptyGeometry_=function(){var J=this.isTokenType(1)&&"EMPTY"==this.token_.value;J&&this.consume_();
return J};z.prototype.formatErrorMessage_=function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"};z.prototype.parseGeometry_=function(){var J=this.token_;if(this.match(1)){var K=J.value;this.layout_=this.parseGeometryLayout_();if("GEOMETRYCOLLECTION"==K)return J=this.parseGeometryCollectionText_(),new y["default"](J);J=C[K];if(!J)throw Error("Invalid geometry type: "+K);switch(K){case "POINT":K=this.parsePointText_();break;case "LINESTRING":K=
this.parseLineStringText_();break;case "POLYGON":K=this.parsePolygonText_();break;case "MULTIPOINT":K=this.parseMultiPointText_();break;case "MULTILINESTRING":K=this.parseMultiLineStringText_();break;case "MULTIPOLYGON":K=this.parseMultiPolygonText_();break;default:throw Error("Invalid geometry type: "+K);}K||(K=J===C.POINT?[NaN,NaN]:[]);return new J(K,this.layout_)}throw Error(this.formatErrorMessage_());};return z}();B=function(z){function J(K){var R=z.call(this)||this;K=K?K:{};R.splitCollection_=
void 0!==K.splitCollection?K.splitCollection:!1;return R}A(J,z);J.prototype.parse_=function(K){K=new P(K);return(new L(K)).parse()};J.prototype.readFeatureFromText=function(K,R){return(K=this.readGeometryFromText(K,R))?(R=new x["default"],R.setGeometry(K),R):null};J.prototype.readFeaturesFromText=function(K,R){K=this.readGeometryFromText(K,R);K=this.splitCollection_&&K.getType()==l["default"].GEOMETRY_COLLECTION?K.getGeometriesArray():[K];R=[];for(var U=0,ka=K.length;U<ka;++U){var ba=new x["default"];
ba.setGeometry(K[U]);R.push(ba)}return R};J.prototype.readGeometryFromText=function(K,R){return(K=this.parse_(K))?(0,p.transformGeometryWithOptions)(K,!1,R):null};J.prototype.writeFeatureText=function(K,R){return(K=K.getGeometry())?this.writeGeometryText(K,R):""};J.prototype.writeFeaturesText=function(K,R){if(1==K.length)return this.writeFeatureText(K[0],R);for(var U=[],ka=0,ba=K.length;ka<ba;++ka)U.push(K[ka].getGeometry());K=new y["default"](U);return this.writeGeometryText(K,R)};J.prototype.writeGeometryText=
function(K,R){return O((0,p.transformGeometryWithOptions)(K,!0,R))};return J}(f["default"]);var G={Point:m,LineString:n,Polygon:F,MultiPoint:function(z){var J=[];z=z.getPoints();for(var K=0,R=z.length;K<R;++K)J.push("("+m(z[K])+")");return J.join(",")},MultiLineString:function(z){var J=[];z=z.getLineStrings();for(var K=0,R=z.length;K<R;++K)J.push("("+n(z[K])+")");return J.join(",")},MultiPolygon:function(z){var J=[];z=z.getPolygons();for(var K=0,R=z.length;K<R;++K)J.push("("+F(z[K])+")");return J.join(",")},
GeometryCollection:function(z){var J=[];z=z.getGeometries();for(var K=0,R=z.length;K<R;++K)J.push(O(z[K]));return J.join(",")}};E["default"]=B};
shadow$provide[259]=function(Ha,B,rb,E){function g(y){return y&&y.__esModule?y:{"default":y}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=g(B(91));var m=g(B(92)),n=g(B(121)),F=B(78),O=B(138),x=function(){var y=function(q,l){y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var e in c)Object.prototype.hasOwnProperty.call(c,e)&&(h[e]=c[e])};return y(q,l)};return function(q,l){function h(){this.constructor=q}y(q,l);q.prototype=
null===l?Object.create(l):(h.prototype=l.prototype,new h)}}();B=function(y){function q(l,h,c){var e=y.call(this)||this;c=c?c:{};e.tileCoord=l;e.state=h;e.interimTile=null;e.hifi=!0;e.key="";e.transition_=void 0===c.transition?250:c.transition;e.transitionStarts_={};return e}x(q,y);q.prototype.changed=function(){this.dispatchEvent(m["default"].CHANGE)};q.prototype.release=function(){};q.prototype.getKey=function(){return this.key+"/"+this.tileCoord};q.prototype.getInterimTile=function(){if(!this.interimTile)return this;
var l=this.interimTile;do{if(l.getState()==n["default"].LOADED)return this.transition_=0,l;l=l.interimTile}while(l);return this};q.prototype.refreshInterimChain=function(){if(this.interimTile){var l=this.interimTile,h=this;do{if(l.getState()==n["default"].LOADED){l.interimTile=null;break}else l.getState()==n["default"].LOADING?h=l:l.getState()==n["default"].IDLE?h.interimTile=l.interimTile:h=l;l=h.interimTile}while(l)}};q.prototype.getTileCoord=function(){return this.tileCoord};q.prototype.getState=
function(){return this.state};q.prototype.setState=function(l){if(this.state!==n["default"].ERROR&&this.state>l)throw Error("Tile load sequence violation");this.state=l;this.changed()};q.prototype.load=function(){(0,F["abstract"])()};q.prototype.getAlpha=function(l,h){if(!this.transition_)return 1;var c=this.transitionStarts_[l];if(!c)c=h,this.transitionStarts_[l]=c;else if(-1===c)return 1;l=h-c+1E3/60;return l>=this.transition_?1:(0,O.easeIn)(l/this.transition_)};q.prototype.inTransition=function(l){return this.transition_?
-1!==this.transitionStarts_[l]:!1};q.prototype.endTransition=function(l){this.transition_&&(this.transitionStarts_[l]=-1)};return q}(Ha["default"]);E["default"]=B};
shadow$provide[260]=function(Ha,B,rb,E){function g(x){return x&&x.__esModule?x:{"default":x}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=g(B(259));var m=g(B(121)),n=B(107),F=B(232),O=function(){var x=function(y,q){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&(l[c]=h[c])};return x(y,q)};return function(y,q){function l(){this.constructor=y}x(y,q);y.prototype=
null===q?Object.create(q):(l.prototype=q.prototype,new l)}}();B=function(x){function y(q,l,h,c,e,a){q=x.call(this,q,l,a)||this;q.crossOrigin_=c;q.src_=h;q.key=h;q.image_=new Image;null!==c&&(q.image_.crossOrigin=c);q.unlisten_=null;q.tileLoadFunction_=e;return q}O(y,x);y.prototype.getImage=function(){return this.image_};y.prototype.handleImageError_=function(){this.state=m["default"].ERROR;this.unlistenImage_();var q=(0,n.createCanvasContext2D)(1,1);q.fillStyle="rgba(0,0,0,0)";q.fillRect(0,0,1,1);
this.image_=q.canvas;this.changed()};y.prototype.handleImageLoad_=function(){var q=this.image_;this.state=q.naturalWidth&&q.naturalHeight?m["default"].LOADED:m["default"].EMPTY;this.unlistenImage_();this.changed()};y.prototype.load=function(){this.state==m["default"].ERROR&&(this.state=m["default"].IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_));this.state==m["default"].IDLE&&(this.state=m["default"].LOADING,this.changed(),this.tileLoadFunction_(this,
this.src_),this.unlisten_=(0,F.listenImage)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))};y.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)};return y}(Ha["default"]);E["default"]=B};
shadow$provide[261]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.ERROR_THRESHOLD=.5;E.ENABLE_RASTER_REPROJECTION=!0};
shadow$provide[262]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var g=B(84),m=B(134),n=B(85);Ha=function(){function F(O,x,y,q,l,h){this.sourceProj_=O;this.targetProj_=x;var c={},e=(0,m.getTransform)(this.targetProj_,this.sourceProj_);this.transformInv_=function(D){var P=D[0]+"/"+D[1];c[P]||(c[P]=e(D));return c[P]};this.maxSourceExtent_=q;this.errorThresholdSquared_=l*l;this.triangles_=[];this.wrapsXInSource_=!1;this.canWrapXInSource_=this.sourceProj_.canWrapX()&&
!!q&&!!this.sourceProj_.getExtent()&&(0,g.getWidth)(q)==(0,g.getWidth)(this.sourceProj_.getExtent());this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,g.getWidth)(this.sourceProj_.getExtent()):null;this.targetWorldWidth_=this.targetProj_.getExtent()?(0,g.getWidth)(this.targetProj_.getExtent()):null;O=(0,g.getTopLeft)(y);x=(0,g.getTopRight)(y);q=(0,g.getBottomRight)(y);l=(0,g.getBottomLeft)(y);var a=this.transformInv_(O),f=this.transformInv_(x),p=this.transformInv_(q),A=this.transformInv_(l);
y=10+(h?Math.max(0,Math.ceil((0,n.log2)((0,g.getArea)(y)/(h*h*65536)))):0);this.addQuad_(O,x,q,l,a,f,p,A,y);if(this.wrapsXInSource_){var C=Infinity;this.triangles_.forEach(function(D,P,L){C=Math.min(C,D.source[0][0],D.source[1][0],D.source[2][0])});this.triangles_.forEach(function(D){if(Math.max(D.source[0][0],D.source[1][0],D.source[2][0])-C>this.sourceWorldWidth_/2){var P=[[D.source[0][0],D.source[0][1]],[D.source[1][0],D.source[1][1]],[D.source[2][0],D.source[2][1]]];P[0][0]-C>this.sourceWorldWidth_/
2&&(P[0][0]-=this.sourceWorldWidth_);P[1][0]-C>this.sourceWorldWidth_/2&&(P[1][0]-=this.sourceWorldWidth_);P[2][0]-C>this.sourceWorldWidth_/2&&(P[2][0]-=this.sourceWorldWidth_);Math.max(P[0][0],P[1][0],P[2][0])-Math.min(P[0][0],P[1][0],P[2][0])<this.sourceWorldWidth_/2&&(D.source=P)}}.bind(this))}c={}}F.prototype.addTriangle_=function(O,x,y,q,l,h){this.triangles_.push({source:[q,l,h],target:[O,x,y]})};F.prototype.addQuad_=function(O,x,y,q,l,h,c,e,a){var f=(0,g.boundingExtent)([l,h,c,e]),p=this.sourceWorldWidth_?
(0,g.getWidth)(f)/this.sourceWorldWidth_:null,A=this.sourceWorldWidth_,C=this.sourceProj_.canWrapX()&&.5<p&&1>p,D=!1;if(0<a){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var P=(0,g.boundingExtent)([O,x,y,q]);D=.25<(0,g.getWidth)(P)/this.targetWorldWidth_||D}!C&&this.sourceProj_.isGlobal()&&p&&(D=.25<p||D)}if(D||!this.maxSourceExtent_||!(isFinite(f[0])&&isFinite(f[1])&&isFinite(f[2])&&isFinite(f[3]))||(0,g.intersects)(f,this.maxSourceExtent_)){f=0;if(!(D||isFinite(l[0])&&isFinite(l[1])&&
isFinite(h[0])&&isFinite(h[1])&&isFinite(c[0])&&isFinite(c[1])&&isFinite(e[0])&&isFinite(e[1])))if(0<a)D=!0;else if(f=(isFinite(l[0])&&isFinite(l[1])?0:8)+(isFinite(h[0])&&isFinite(h[1])?0:4)+(isFinite(c[0])&&isFinite(c[1])?0:2)+(isFinite(e[0])&&isFinite(e[1])?0:1),1!=f&&2!=f&&4!=f&&8!=f)return;if(0<a&&(D||(D=this.transformInv_([(O[0]+y[0])/2,(O[1]+y[1])/2]),A=C?((0,n.modulo)(l[0],A)+(0,n.modulo)(c[0],A))/2-(0,n.modulo)(D[0],A):(l[0]+c[0])/2-D[0],D=(l[1]+c[1])/2-D[1],D=A*A+D*D>this.errorThresholdSquared_),
D)){Math.abs(O[0]-y[0])<=Math.abs(O[1]-y[1])?(C=[(x[0]+y[0])/2,(x[1]+y[1])/2],A=this.transformInv_(C),D=[(q[0]+O[0])/2,(q[1]+O[1])/2],f=this.transformInv_(D),this.addQuad_(O,x,C,D,l,h,A,f,a-1),this.addQuad_(D,C,y,q,f,A,c,e,a-1)):(C=[(O[0]+x[0])/2,(O[1]+x[1])/2],A=this.transformInv_(C),D=[(y[0]+q[0])/2,(y[1]+q[1])/2],f=this.transformInv_(D),this.addQuad_(O,C,D,q,l,A,f,e,a-1),this.addQuad_(C,x,y,D,A,h,c,f,a-1));return}if(C){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(f&11)&&this.addTriangle_(O,
y,q,l,c,e);0==(f&14)&&this.addTriangle_(O,y,x,l,c,h);f&&(0==(f&13)&&this.addTriangle_(x,q,O,h,e,l),0==(f&7)&&this.addTriangle_(x,q,y,h,e,c))}};F.prototype.calculateSourceExtent=function(){var O=(0,g.createEmpty)();this.triangles_.forEach(function(x,y,q){x=x.source;(0,g.extendCoordinate)(O,x[0]);(0,g.extendCoordinate)(O,x[1]);(0,g.extendCoordinate)(O,x[2])});return O};F.prototype.getTriangles=function(){return this.triangles_};return F}();E["default"]=Ha};
shadow$provide[263]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.DEFAULT_WMS_VERSION="1.3.0";E.IMAGE_SMOOTHING_DISABLED={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1}};
shadow$provide[264]=function(Ha,B,rb,E){function g(c,e,a,f,p){c.beginPath();c.moveTo(0,0);c.lineTo(e,a);c.lineTo(f,p);c.closePath();c.save();c.clip();c.fillRect(0,0,Math.max(e,f)+1,Math.max(a,p));c.restore()}function m(c,e){return 2<Math.abs(c[4*e]-210)||2<Math.abs(c[4*e+3]-191.25)}function n(c,e,a,f){var p=(0,q.transform)(a,e,c);a=(0,q.getPointResolution)(e,f,a);e=e.getMetersPerUnit();void 0!==e&&(a*=e);e=c.getMetersPerUnit();void 0!==e&&(a/=e);e=c.getExtent();if(!e||(0,x.containsCoordinate)(e,p))c=
(0,q.getPointResolution)(c,a,p)/a,isFinite(c)&&0<c&&(a/=c);return a}Object.defineProperty(E,"__esModule",{value:!0});E.calculateSourceResolution=n;E.calculateSourceExtentResolution=function(c,e,a,f){var p=(0,x.getCenter)(a),A=n(c,e,p,f);(!isFinite(A)||0>=A)&&(0,x.forEachCorner)(a,function(C){A=n(c,e,C,f);return isFinite(A)&&0<A});return A};E.render=function(c,e,a,f,p,A,C,D,P,L,G,z){function J(da){return Math.round(da*a)/a}var K=(0,y.createCanvasContext2D)(Math.round(a*c),Math.round(a*e));(0,O.assign)(K,
z);if(0===P.length)return K.canvas;K.scale(a,a);K.globalCompositeOperation="lighter";var R=(0,x.createEmpty)();P.forEach(function(da,ja,Z){(0,x.extend)(R,da.extent)});c=(0,x.getWidth)(R);e=(0,x.getHeight)(R);var U=(0,y.createCanvasContext2D)(Math.round(a*c/f),Math.round(a*e/f));(0,O.assign)(U,z);var ka=a/f;P.forEach(function(da,ja,Z){ja=da.extent[0]-R[0];Z=-(da.extent[3]-R[3]);var Q=(0,x.getWidth)(da.extent),r=(0,x.getHeight)(da.extent);0<da.image.width&&0<da.image.height&&U.drawImage(da.image,L,
L,da.image.width-2*L,da.image.height-2*L,ja*ka,Z*ka,Q*ka,r*ka)});var ba=(0,x.getTopLeft)(C);D.getTriangles().forEach(function(da,ja,Z){Z=da.source;var Q=da.target;da=Z[0][0];ja=Z[0][1];var r=Z[1][0],N=Z[1][1],ea=Z[2][0],aa=Z[2][1];Z=J((Q[0][0]-ba[0])/A);var va=J(-(Q[0][1]-ba[1])/A),ta=J((Q[1][0]-ba[0])/A),Da=J(-(Q[1][1]-ba[1])/A),$a=J((Q[2][0]-ba[0])/A);Q=J(-(Q[2][1]-ba[1])/A);r-=da;N-=ja;ea-=da;aa-=ja;r=[[r,N,0,0,ta-Z],[ea,aa,0,0,$a-Z],[0,0,r,N,Da-va],[0,0,ea,aa,Q-va]];if(r=(0,l.solveLinearSystem)(r)){K.save();
K.beginPath();void 0===h&&(N=document.createElement("canvas").getContext("2d"),N.globalCompositeOperation="lighter",N.fillStyle="rgba(210, 0, 0, 0.75)",g(N,4,5,4,0),g(N,4,5,0,5),N=N.getImageData(0,0,3,3).data,h=m(N,0)||m(N,4)||m(N,8));if(h||z===F.IMAGE_SMOOTHING_DISABLED)for(K.moveTo(ta,Da),N=Z-ta,ea=va-Da,aa=0;4>aa;aa++)K.lineTo(ta+J((aa+1)*N/4),Da+J(aa*ea/3)),3!=aa&&K.lineTo(ta+J((aa+1)*N/4),Da+J((aa+1)*ea/3));else K.moveTo(ta,Da),K.lineTo(Z,va);K.lineTo($a,Q);K.clip();K.transform(r[0],r[2],r[1],
r[3],Z,va);K.translate(R[0]-da,R[3]-ja);K.scale(f/a,-f/a);K.drawImage(U.canvas,0,0);K.restore()}});G&&(K.save(),K.globalCompositeOperation="source-over",K.strokeStyle="black",K.lineWidth=1,D.getTriangles().forEach(function(da,ja,Z){var Q=da.target;da=(Q[0][0]-ba[0])/A;ja=-(Q[0][1]-ba[1])/A;Z=(Q[1][0]-ba[0])/A;var r=-(Q[1][1]-ba[1])/A,N=(Q[2][0]-ba[0])/A;Q=-(Q[2][1]-ba[1])/A;K.beginPath();K.moveTo(Z,r);K.lineTo(da,ja);K.lineTo(N,Q);K.closePath();K.stroke()}),K.restore());return K.canvas};var F=B(263),
O=B(90),x=B(84),y=B(107),q=B(134),l=B(85),h};
shadow$provide[265]=function(Ha,B,rb,E){function g(c){return c&&c.__esModule?c:{"default":c}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var m=B(261),n=g(B(92));Ha=g(B(259));var F=g(B(121)),O=g(B(262)),x=B(264),y=B(85),q=B(84),l=B(93),h=function(){var c=function(e,a){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var A in p)Object.prototype.hasOwnProperty.call(p,A)&&(f[A]=p[A])};return c(e,a)};return function(e,a){function f(){this.constructor=
e}c(e,a);e.prototype=null===a?Object.create(a):(f.prototype=a.prototype,new f)}}();B=function(c){function e(a,f,p,A,C,D,P,L,G,z,J,K){var R=c.call(this,C,F["default"].IDLE)||this;R.renderEdges_=void 0!==J?J:!1;R.contextOptions_=K;R.pixelRatio_=P;R.gutter_=L;R.canvas_=null;R.sourceTileGrid_=f;R.targetTileGrid_=A;R.wrappedTileCoord_=D?D:C;R.sourceTiles_=[];R.sourcesListenerKeys_=null;R.sourceZ_=0;D=A.getTileCoordExtent(R.wrappedTileCoord_);L=R.targetTileGrid_.getExtent();C=R.sourceTileGrid_.getExtent();
D=L?(0,q.getIntersection)(D,L):D;if(0===(0,q.getArea)(D))return R.state=F["default"].EMPTY,R;(L=a.getExtent())&&(C=C?(0,q.getIntersection)(C,L):L);A=A.getResolution(R.wrappedTileCoord_[0]);L=(0,x.calculateSourceExtentResolution)(a,p,D,A);if(!isFinite(L)||0>=L)return R.state=F["default"].EMPTY,R;R.triangulation_=new O["default"](a,p,D,C,L*(void 0!==z?z:m.ERROR_THRESHOLD),A);if(0===R.triangulation_.getTriangles().length)return R.state=F["default"].EMPTY,R;R.sourceZ_=f.getZForResolution(L);p=R.triangulation_.calculateSourceExtent();
C&&(a.canWrapX()?(p[1]=(0,y.clamp)(p[1],C[1],C[3]),p[3]=(0,y.clamp)(p[3],C[1],C[3])):p=(0,q.getIntersection)(p,C));if((0,q.getArea)(p)){a=f.getTileRangeForExtentAndZ(p,R.sourceZ_);for(f=a.minX;f<=a.maxX;f++)for(p=a.minY;p<=a.maxY;p++)(z=G(R.sourceZ_,f,p,P))&&R.sourceTiles_.push(z);0===R.sourceTiles_.length&&(R.state=F["default"].EMPTY)}else R.state=F["default"].EMPTY;return R}h(e,c);e.prototype.getImage=function(){return this.canvas_};e.prototype.reproject_=function(){var a=[];this.sourceTiles_.forEach(function(P,
L,G){P&&P.getState()==F["default"].LOADED&&a.push({extent:this.sourceTileGrid_.getTileCoordExtent(P.tileCoord),image:P.getImage()})}.bind(this));this.sourceTiles_.length=0;if(0===a.length)this.state=F["default"].ERROR;else{var f=this.wrappedTileCoord_[0],p=this.targetTileGrid_.getTileSize(f),A="number"===typeof p?p:p[0];p="number"===typeof p?p:p[1];f=this.targetTileGrid_.getResolution(f);var C=this.sourceTileGrid_.getResolution(this.sourceZ_),D=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);
this.canvas_=(0,x.render)(A,p,this.pixelRatio_,C,this.sourceTileGrid_.getExtent(),f,D,this.triangulation_,a,this.gutter_,this.renderEdges_,this.contextOptions_);this.state=F["default"].LOADED}this.changed()};e.prototype.load=function(){if(this.state==F["default"].IDLE){this.state=F["default"].LOADING;this.changed();var a=0;this.sourcesListenerKeys_=[];this.sourceTiles_.forEach(function(f,p,A){p=f.getState();if(p==F["default"].IDLE||p==F["default"].LOADING){a++;var C=(0,l.listen)(f,n["default"].CHANGE,
function(D){D=f.getState();if(D==F["default"].LOADED||D==F["default"].ERROR||D==F["default"].EMPTY)(0,l.unlistenByKey)(C),a--,0===a&&(this.unlistenSources_(),this.reproject_())},this);this.sourcesListenerKeys_.push(C)}}.bind(this));this.sourceTiles_.forEach(function(f,p,A){f.getState()==F["default"].IDLE&&f.load()});0===a&&setTimeout(this.reproject_.bind(this),0)}};e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(l.unlistenByKey);this.sourcesListenerKeys_=null};return e}(Ha["default"]);
E["default"]=B};
shadow$provide[266]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var g=B(80);Ha=function(){function m(n){this.highWaterMark=void 0!==n?n:2048;this.count_=0;this.entries_={};this.newest_=this.oldest_=null}m.prototype.canExpireCache=function(){return 0<this.highWaterMark&&this.getCount()>this.highWaterMark};m.prototype.clear=function(){this.count_=0;this.entries_={};this.newest_=this.oldest_=null};m.prototype.containsKey=function(n){return this.entries_.hasOwnProperty(n)};
m.prototype.forEach=function(n){for(var F=this.oldest_;F;)n(F.value_,F.key_,this),F=F.newer};m.prototype.get=function(n,F){n=this.entries_[n];(0,g.assert)(void 0!==n,15);if(n===this.newest_)return n.value_;n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer);n.newer=null;n.older=this.newest_;this.newest_=this.newest_.newer=n;return n.value_};m.prototype.remove=function(n){var F=this.entries_[n];(0,g.assert)(void 0!==F,15);if(F===
this.newest_){if(this.newest_=F.older)this.newest_.newer=null}else if(F===this.oldest_){if(this.oldest_=F.newer)this.oldest_.older=null}else F.newer.older=F.older,F.older.newer=F.newer;delete this.entries_[n];--this.count_;return F.value_};m.prototype.getCount=function(){return this.count_};m.prototype.getKeys=function(){var n=Array(this.count_),F=0,O;for(O=this.newest_;O;O=O.older)n[F++]=O.key_;return n};m.prototype.getValues=function(){var n=Array(this.count_),F=0,O;for(O=this.newest_;O;O=O.older)n[F++]=
O.value_;return n};m.prototype.peekLast=function(){return this.oldest_.value_};m.prototype.peekLastKey=function(){return this.oldest_.key_};m.prototype.peekFirstKey=function(){return this.newest_.key_};m.prototype.pop=function(){var n=this.oldest_;delete this.entries_[n.key_];n.newer&&(n.newer.older=null);this.oldest_=n.newer;this.oldest_||(this.newest_=null);--this.count_;return n.value_};m.prototype.replace=function(n,F){this.get(n);this.entries_[n].value_=F};m.prototype.set=function(n,F){(0,g.assert)(!(n in
this.entries_),16);F={key_:n,newer:null,older:this.newest_,value_:F};this.newest_?this.newest_.newer=F:this.oldest_=F;this.newest_=F;this.entries_[n]=F;++this.count_};m.prototype.setSize=function(n){this.highWaterMark=n};return m}();E["default"]=Ha};
shadow$provide[267]=function(Ha,B,rb,E){function g(m,n,F){return m+"/"+n+"/"+F}Object.defineProperty(E,"__esModule",{value:!0});E.createOrUpdate=function(m,n,F,O){return void 0!==O?(O[0]=m,O[1]=n,O[2]=F,O):[m,n,F]};E.getKeyZXY=g;E.getKey=function(m){return g(m[0],m[1],m[2])};E.fromKey=function(m){return m.split("/").map(Number)};E.hash=function(m){return(m[1]<<m[0])+m[2]};E.withinExtentAndZ=function(m,n){var F=m[0],O=m[1];m=m[2];return n.getMinZoom()>F||F>n.getMaxZoom()?!1:(n=n.getFullTileRange(F))?
n.containsXY(O,m):!0}};
shadow$provide[268]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=function(n){return n&&n.__esModule?n:{"default":n}}(B(266));var g=B(267),m=function(){var n=function(F,O){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,y){x.__proto__=y}||function(x,y){for(var q in y)Object.prototype.hasOwnProperty.call(y,q)&&(x[q]=y[q])};return n(F,O)};return function(F,O){function x(){this.constructor=F}n(F,O);F.prototype=null===O?Object.create(O):
(x.prototype=O.prototype,new x)}}();B=function(n){function F(){return null!==n&&n.apply(this,arguments)||this}m(F,n);F.prototype.expireCache=function(O){for(;this.canExpireCache()&&!(this.peekLast().getKey()in O);)this.pop().release()};F.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var O=this.peekFirstKey(),x=(0,g.fromKey)(O)[0];this.forEach(function(y){y.tileCoord[0]!==x&&(this.remove((0,g.getKey)(y.tileCoord)),y.release())}.bind(this))}};return F}(Ha["default"]);E["default"]=
B};
shadow$provide[269]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"}};
shadow$provide[270]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.createOrUpdate=function(m,n,F,O,x){return void 0!==x?(x.minX=m,x.maxX=n,x.minY=F,x.maxY=O,x):new g(m,n,F,O)};E["default"]=void 0;var g=function(){function m(n,F,O,x){this.minX=n;this.maxX=F;this.minY=O;this.maxY=x}m.prototype.contains=function(n){return this.containsXY(n[1],n[2])};m.prototype.containsTileRange=function(n){return this.minX<=n.minX&&n.maxX<=this.maxX&&this.minY<=n.minY&&n.maxY<=this.maxY};m.prototype.containsXY=
function(n,F){return this.minX<=n&&n<=this.maxX&&this.minY<=F&&F<=this.maxY};m.prototype.equals=function(n){return this.minX==n.minX&&this.minY==n.minY&&this.maxX==n.maxX&&this.maxY==n.maxY};m.prototype.extend=function(n){n.minX<this.minX&&(this.minX=n.minX);n.maxX>this.maxX&&(this.maxX=n.maxX);n.minY<this.minY&&(this.minY=n.minY);n.maxY>this.maxY&&(this.maxY=n.maxY)};m.prototype.getHeight=function(){return this.maxY-this.minY+1};m.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]};
m.prototype.getWidth=function(){return this.maxX-this.minX+1};m.prototype.intersects=function(n){return this.minX<=n.maxX&&this.maxX>=n.minX&&this.minY<=n.maxY&&this.maxY>=n.minY};return m}();E["default"]=g};
shadow$provide[271]=function(Ha,B,rb,E){function g(e){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return g(e)}function m(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;m=function(){return e};return e}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===
e||"object"!==g(e)&&"function"!==typeof e)return{"default":e};var a=m();if(a&&a.has(e))return a.get(e);var f={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor,A;for(A in e)if(Object.prototype.hasOwnProperty.call(e,A)){var C=p?Object.getOwnPropertyDescriptor(e,A):null;C&&(C.get||C.set)?Object.defineProperty(f,A,C):f[A]=e[A]}f["default"]=e;a&&a.set(e,f);return f}(B(270)),F=B(127),O=B(80),x=B(85),y=B(84),q=B(267),l=B(76),h=B(158),c=[0,0,0];Ha=function(){function e(a){this.minZoom=void 0!==
a.minZoom?a.minZoom:0;this.resolutions_=a.resolutions;(0,O.assert)((0,l.isSorted)(this.resolutions_,function(D,P){return P-D},!0),17);if(!a.origins)for(var f=0,p=this.resolutions_.length-1;f<p;++f)if(!A)var A=this.resolutions_[f]/this.resolutions_[f+1];else if(this.resolutions_[f]/this.resolutions_[f+1]!==A){A=void 0;break}this.zoomFactor_=A;this.maxZoom=this.resolutions_.length-1;this.origin_=void 0!==a.origin?a.origin:null;this.origins_=null;void 0!==a.origins&&(this.origins_=a.origins,(0,O.assert)(this.origins_.length==
this.resolutions_.length,20));var C=a.extent;void 0===C||this.origin_||this.origins_||(this.origin_=(0,y.getTopLeft)(C));(0,O.assert)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18);this.tileSizes_=null;void 0!==a.tileSizes&&(this.tileSizes_=a.tileSizes,(0,O.assert)(this.tileSizes_.length==this.resolutions_.length,19));this.tileSize_=void 0!==a.tileSize?a.tileSize:this.tileSizes_?null:F.DEFAULT_TILE_SIZE;(0,O.assert)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,
22);this.extent_=void 0!==C?C:null;this.fullTileRanges_=null;this.tmpSize_=[0,0];void 0!==a.sizes?this.fullTileRanges_=a.sizes.map(function(D,P){D=new n["default"](Math.min(0,D[0]),Math.max(D[0]-1,-1),Math.min(0,D[1]),Math.max(D[1]-1,-1));C&&(P=this.getTileRangeForExtentAndZ(C,P),D.minX=Math.max(P.minX,D.minX),D.maxX=Math.min(P.maxX,D.maxX),D.minY=Math.max(P.minY,D.minY),D.maxY=Math.min(P.maxY,D.maxY));return D},this):C&&this.calculateTileRanges_(C)}e.prototype.forEachTileCoord=function(a,f,p){a=
this.getTileRangeForExtentAndZ(a,f);for(var A=a.minX,C=a.maxX;A<=C;++A)for(var D=a.minY,P=a.maxY;D<=P;++D)p([f,A,D])};e.prototype.forEachTileCoordParentTileRange=function(a,f,p,A){var C=null,D=a[0]-1;if(2===this.zoomFactor_){var P=a[1];var L=a[2]}else C=this.getTileCoordExtent(a,A);for(;D>=this.minZoom;){2===this.zoomFactor_?(P=Math.floor(P/2),L=Math.floor(L/2),a=(0,n.createOrUpdate)(P,P,L,L,p)):a=this.getTileRangeForExtentAndZ(C,D,p);if(f(D,a))return!0;--D}return!1};e.prototype.getExtent=function(){return this.extent_};
e.prototype.getMaxZoom=function(){return this.maxZoom};e.prototype.getMinZoom=function(){return this.minZoom};e.prototype.getOrigin=function(a){return this.origin_?this.origin_:this.origins_[a]};e.prototype.getResolution=function(a){return this.resolutions_[a]};e.prototype.getResolutions=function(){return this.resolutions_};e.prototype.getTileCoordChildTileRange=function(a,f,p){if(a[0]<this.maxZoom){if(2===this.zoomFactor_)return p=2*a[1],a=2*a[2],(0,n.createOrUpdate)(p,p+1,a,a+1,f);p=this.getTileCoordExtent(a,
p);return this.getTileRangeForExtentAndZ(p,a[0]+1,f)}return null};e.prototype.getTileRangeExtent=function(a,f,p){var A=this.getOrigin(a),C=this.getResolution(a),D=(0,h.toSize)(this.getTileSize(a),this.tmpSize_);a=A[0]+f.minX*D[0]*C;var P=A[0]+(f.maxX+1)*D[0]*C,L=A[1]+f.minY*D[1]*C;f=A[1]+(f.maxY+1)*D[1]*C;return(0,y.createOrUpdate)(a,L,P,f,p)};e.prototype.getTileRangeForExtentAndZ=function(a,f,p){this.getTileCoordForXYAndZ_(a[0],a[3],f,!1,c);var A=c[1],C=c[2];this.getTileCoordForXYAndZ_(a[2],a[1],
f,!0,c);return(0,n.createOrUpdate)(A,c[1],C,c[2],p)};e.prototype.getTileCoordCenter=function(a){var f=this.getOrigin(a[0]),p=this.getResolution(a[0]),A=(0,h.toSize)(this.getTileSize(a[0]),this.tmpSize_);return[f[0]+(a[1]+.5)*A[0]*p,f[1]-(a[2]+.5)*A[1]*p]};e.prototype.getTileCoordExtent=function(a,f){var p=this.getOrigin(a[0]),A=this.getResolution(a[0]),C=(0,h.toSize)(this.getTileSize(a[0]),this.tmpSize_),D=p[0]+a[1]*C[0]*A;a=p[1]-(a[2]+1)*C[1]*A;p=D+C[0]*A;A=a+C[1]*A;return(0,y.createOrUpdate)(D,
a,p,A,f)};e.prototype.getTileCoordForCoordAndResolution=function(a,f,p){return this.getTileCoordForXYAndResolution_(a[0],a[1],f,!1,p)};e.prototype.getTileCoordForXYAndResolution_=function(a,f,p,A,C){var D=this.getZForResolution(p),P=p/this.getResolution(D),L=this.getOrigin(D),G=(0,h.toSize)(this.getTileSize(D),this.tmpSize_);a=P*Math.floor((a-L[0])/p+(A?.5:0))/G[0];f=P*Math.floor((L[1]-f)/p+(A?.5:0))/G[1];A?(a=Math.ceil(a)-1,f=Math.ceil(f)-1):(a=Math.floor(a),f=Math.floor(f));return(0,q.createOrUpdate)(D,
a,f,C)};e.prototype.getTileCoordForXYAndZ_=function(a,f,p,A,C){var D=this.getOrigin(p),P=this.getResolution(p),L=(0,h.toSize)(this.getTileSize(p),this.tmpSize_);a=Math.floor((a-D[0])/P+(A?.5:0))/L[0];f=Math.floor((D[1]-f)/P+(A?.5:0))/L[1];A?(a=Math.ceil(a)-1,f=Math.ceil(f)-1):(a=Math.floor(a),f=Math.floor(f));return(0,q.createOrUpdate)(p,a,f,C)};e.prototype.getTileCoordForCoordAndZ=function(a,f,p){return this.getTileCoordForXYAndZ_(a[0],a[1],f,!1,p)};e.prototype.getTileCoordResolution=function(a){return this.resolutions_[a[0]]};
e.prototype.getTileSize=function(a){return this.tileSize_?this.tileSize_:this.tileSizes_[a]};e.prototype.getFullTileRange=function(a){return this.fullTileRanges_?this.fullTileRanges_[a]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,a):null};e.prototype.getZForResolution=function(a,f){a=(0,l.linearFindNearest)(this.resolutions_,a,f||0);return(0,x.clamp)(a,this.minZoom,this.maxZoom)};e.prototype.calculateTileRanges_=function(a){for(var f=this.resolutions_.length,p=Array(f),A=this.minZoom;A<
f;++A)p[A]=this.getTileRangeForExtentAndZ(a,A);this.fullTileRanges_=p};return e}();E["default"]=Ha};
shadow$provide[272]=function(Ha,B,rb,E){function g(a){return a&&a.__esModule?a:{"default":a}}function m(a,f,p,A){A=void 0!==A?A:x["default"].TOP_LEFT;f=n(a,f,p);return new y["default"]({extent:a,origin:(0,c.getCorner)(a,A),resolutions:f,tileSize:p})}function n(a,f,p,A){f=void 0!==f?f:l.DEFAULT_MAX_ZOOM;var C=(0,c.getHeight)(a);a=(0,c.getWidth)(a);p=(0,e.toSize)(void 0!==p?p:l.DEFAULT_TILE_SIZE);A=0<A?A:Math.max(a/p[0],C/p[1]);f+=1;p=Array(f);for(C=0;C<f;++C)p[C]=A/Math.pow(2,C);return p}function F(a,
f,p,A){a=O(a);return m(a,f,p,A)}function O(a){a=(0,h.get)(a);var f=a.getExtent();f||(a=180*h.METERS_PER_UNIT[q["default"].DEGREES]/a.getMetersPerUnit(),f=(0,c.createOrUpdate)(-a,-a,a,a));return f}Object.defineProperty(E,"__esModule",{value:!0});E.getForProjection=function(a){var f=a.getDefaultTileGrid();f||(f=F(a),a.setDefaultTileGrid(f));return f};E.wrapX=function(a,f,p){var A=f[0],C=a.getTileCoordCenter(f);p=O(p);if((0,c.containsCoordinate)(p,C))return f;f=(0,c.getWidth)(p);C[0]+=f*Math.ceil((p[0]-
C[0])/f);return a.getTileCoordForCoordAndZ(C,A)};E.createForExtent=m;E.createXYZ=function(a){a=a||{};var f=a.extent||(0,h.get)("EPSG:3857").getExtent();a={extent:f,minZoom:a.minZoom,tileSize:a.tileSize,resolutions:n(f,a.maxZoom,a.tileSize,a.maxResolution)};return new y["default"](a)};E.createForProjection=F;E.extentFromProjection=O;var x=g(B(82)),y=g(B(271)),q=g(B(124)),l=B(127),h=B(134),c=B(84),e=B(158)};
shadow$provide[273]=function(Ha,B,rb,E){function g(c){return c&&c.__esModule?c:{"default":c}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.TileSourceEvent=void 0;Ha=g(B(88));rb=g(B(242));var m=g(B(268)),n=g(B(121)),F=B(78),O=B(80),x=B(134),y=B(267),q=B(272),l=B(158),h=function(){var c=function(e,a){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var A in p)Object.prototype.hasOwnProperty.call(p,A)&&(f[A]=p[A])};return c(e,
a)};return function(e,a){function f(){this.constructor=e}c(e,a);e.prototype=null===a?Object.create(a):(f.prototype=a.prototype,new f)}}();B=function(c){function e(a){var f=c.call(this,{attributions:a.attributions,attributionsCollapsible:a.attributionsCollapsible,projection:a.projection,state:a.state,wrapX:a.wrapX})||this;f.opaque_=void 0!==a.opaque?a.opaque:!1;f.tilePixelRatio_=void 0!==a.tilePixelRatio?a.tilePixelRatio:1;f.tileGrid=void 0!==a.tileGrid?a.tileGrid:null;var p=[256,256],A=a.tileGrid;
A&&(0,l.toSize)(A.getTileSize(A.getMinZoom()),p);f.tileCache=new m["default"](a.cacheSize||0);f.tmpSize=[0,0];f.key_=a.key||"";f.tileOptions={transition:a.transition};f.zDirection=a.zDirection?a.zDirection:0;return f}h(e,c);e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()};e.prototype.expireCache=function(a,f){(a=this.getTileCacheForProjection(a))&&a.expireCache(f)};e.prototype.forEachLoadedTile=function(a,f,p,A){a=this.getTileCacheForProjection(a);if(!a)return!1;for(var C=
!0,D,P,L=p.minX;L<=p.maxX;++L)for(var G=p.minY;G<=p.maxY;++G)D=(0,y.getKeyZXY)(f,L,G),P=!1,a.containsKey(D)&&(D=a.get(D),(P=D.getState()===n["default"].LOADED)&&(P=!1!==A(D))),P||(C=!1);return C};e.prototype.getGutterForProjection=function(a){return 0};e.prototype.getKey=function(){return this.key_};e.prototype.setKey=function(a){this.key_!==a&&(this.key_=a,this.changed())};e.prototype.getOpaque=function(a){return this.opaque_};e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()};
e.prototype.getTile=function(a,f,p,A,C){return(0,F["abstract"])()};e.prototype.getTileGrid=function(){return this.tileGrid};e.prototype.getTileGridForProjection=function(a){return this.tileGrid?this.tileGrid:(0,q.getForProjection)(a)};e.prototype.getTileCacheForProjection=function(a){(0,O.assert)((0,x.equivalent)(this.getProjection(),a),68);return this.tileCache};e.prototype.getTilePixelRatio=function(a){return this.tilePixelRatio_};e.prototype.getTilePixelSize=function(a,f,p){p=this.getTileGridForProjection(p);
f=this.getTilePixelRatio(f);a=(0,l.toSize)(p.getTileSize(a),this.tmpSize);return 1==f?a:(0,l.scale)(a,f,this.tmpSize)};e.prototype.getTileCoordForTileUrlFunction=function(a,f){f=void 0!==f?f:this.getProjection();var p=this.getTileGridForProjection(f);this.getWrapX()&&f.isGlobal()&&(a=(0,q.wrapX)(p,a,f));return(0,y.withinExtentAndZ)(a,p)?a:null};e.prototype.clear=function(){this.tileCache.clear()};e.prototype.refresh=function(){this.clear();c.prototype.refresh.call(this)};e.prototype.updateCacheSize=
function(a,f){f=this.getTileCacheForProjection(f);a>f.highWaterMark&&(f.highWaterMark=a)};e.prototype.useTile=function(a,f,p,A){};return e}(rb["default"]);Ha=function(c){function e(a,f){a=c.call(this,a)||this;a.tile=f;return a}h(e,c);return e}(Ha["default"]);E.TileSourceEvent=Ha;E["default"]=B};
shadow$provide[274]=function(Ha,B,rb,E){function g(x,y){var q=/\{z\}/g,l=/\{x\}/g,h=/\{y\}/g,c=/\{-y\}/g;return function(e,a,f){if(e)return x.replace(q,e[0].toString()).replace(l,e[1].toString()).replace(h,e[2].toString()).replace(c,function(){var p=y.getFullTileRange(e[0]);(0,n.assert)(p,55);return(p.getHeight()-e[2]-1).toString()})}}function m(x){return 1===x.length?x[0]:function(y,q,l){if(y){var h=(0,O.hash)(y);h=(0,F.modulo)(h,x.length);return x[h](y,q,l)}}}Object.defineProperty(E,"__esModule",
{value:!0});E.createFromTemplate=g;E.createFromTemplates=function(x,y){for(var q=x.length,l=Array(q),h=0;h<q;++h)l[h]=g(x[h],y);return m(l)};E.createFromTileUrlFunctions=m;E.nullTileUrlFunction=function(x,y,q){};E.expandUrl=function(x){var y=[],q=/\{([a-z])-([a-z])\}/.exec(x);if(q){for(var l=q[1].charCodeAt(0),h=q[2].charCodeAt(0);l<=h;++l)y.push(x.replace(q[0],String.fromCharCode(l)));return y}if(q=/\{(\d+)-(\d+)\}/.exec(x)){h=parseInt(q[2],10);for(l=parseInt(q[1],10);l<=h;l++)y.push(x.replace(q[0],
l.toString()));return y}y.push(x);return y};var n=B(80),F=B(85),O=B(267)};
shadow$provide[275]=function(Ha,B,rb,E){function g(c){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return g(c)}function m(){if("function"!==typeof WeakMap)return null;var c=new WeakMap;m=function(){return c};return c}function n(c){return c&&c.__esModule?c:{"default":c}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;
var F=n(B(269)),O=function(c){if(c&&c.__esModule)return c;if(null===c||"object"!==g(c)&&"function"!==typeof c)return{"default":c};var e=m();if(e&&e.has(c))return e.get(c);var a={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor,p;for(p in c)if(Object.prototype.hasOwnProperty.call(c,p)){var A=f?Object.getOwnPropertyDescriptor(c,p):null;A&&(A.get||A.set)?Object.defineProperty(a,p,A):a[p]=c[p]}a["default"]=c;e&&e.set(c,a);return a}(B(273)),x=n(B(121)),y=B(274),q=B(267),l=B(78),h=function(){var c=
function(e,a){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var A in p)Object.prototype.hasOwnProperty.call(p,A)&&(f[A]=p[A])};return c(e,a)};return function(e,a){function f(){this.constructor=e}c(e,a);e.prototype=null===a?Object.create(a):(f.prototype=a.prototype,new f)}}();Ha=function(c){function e(a){var f=c.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,opaque:a.opaque,projection:a.projection,state:a.state,tileGrid:a.tileGrid,
tilePixelRatio:a.tilePixelRatio,wrapX:a.wrapX,transition:a.transition,key:a.key,attributionsCollapsible:a.attributionsCollapsible,zDirection:a.zDirection})||this;f.generateTileUrlFunction_=f.tileUrlFunction===e.prototype.tileUrlFunction;f.tileLoadFunction=a.tileLoadFunction;a.tileUrlFunction&&(f.tileUrlFunction=a.tileUrlFunction);f.urls=null;a.urls?f.setUrls(a.urls):a.url&&f.setUrl(a.url);f.tileLoadingKeys_={};return f}h(e,c);e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction};
e.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction};e.prototype.getUrls=function(){return this.urls};e.prototype.handleTileChange=function(a){a=a.target;var f=(0,l.getUid)(a),p=a.getState();if(p==x["default"].LOADING){this.tileLoadingKeys_[f]=!0;var A=F["default"].TILELOADSTART}else f in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[f],A=p==x["default"].ERROR?F["default"].TILELOADERROR:
p==x["default"].LOADED?F["default"].TILELOADEND:void 0);void 0!=A&&this.dispatchEvent(new O.TileSourceEvent(A,a))};e.prototype.setTileLoadFunction=function(a){this.tileCache.clear();this.tileLoadFunction=a;this.changed()};e.prototype.setTileUrlFunction=function(a,f){this.tileUrlFunction=a;this.tileCache.pruneExceptNewestZ();"undefined"!==typeof f?this.setKey(f):this.changed()};e.prototype.setUrl=function(a){this.urls=a=(0,y.expandUrl)(a);this.setUrls(a)};e.prototype.setUrls=function(a){this.urls=
a;var f=a.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction((0,y.createFromTemplates)(a,this.tileGrid),f):this.setKey(f)};e.prototype.tileUrlFunction=function(a,f,p){};e.prototype.useTile=function(a,f,p){a=(0,q.getKeyZXY)(a,f,p);this.tileCache.containsKey(a)&&this.tileCache.get(a)};return e}(O["default"]);E["default"]=Ha};
shadow$provide[276]=function(Ha,B,rb,E){function g(p){return p&&p.__esModule?p:{"default":p}}function m(p,A){p.getImage().src=A}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var n=g(B(92)),F=g(B(260)),O=g(B(265)),x=g(B(268)),y=g(B(121));Ha=g(B(275));var q=B(261),l=B(263),h=B(134),c=B(267),e=B(272),a=B(78),f=function(){var p=function(A,C){p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,P){D.__proto__=P}||function(D,P){for(var L in P)Object.prototype.hasOwnProperty.call(P,
L)&&(D[L]=P[L])};return p(A,C)};return function(A,C){function D(){this.constructor=A}p(A,C);A.prototype=null===C?Object.create(C):(D.prototype=C.prototype,new D)}}();B=function(p){function A(C){var D=p.call(this,{attributions:C.attributions,cacheSize:C.cacheSize,opaque:C.opaque,projection:C.projection,state:C.state,tileGrid:C.tileGrid,tileLoadFunction:C.tileLoadFunction?C.tileLoadFunction:m,tilePixelRatio:C.tilePixelRatio,tileUrlFunction:C.tileUrlFunction,url:C.url,urls:C.urls,wrapX:C.wrapX,transition:C.transition,
key:C.key,attributionsCollapsible:C.attributionsCollapsible,zDirection:C.zDirection})||this;D.crossOrigin=void 0!==C.crossOrigin?C.crossOrigin:null;D.tileClass=void 0!==C.tileClass?C.tileClass:F["default"];D.tileCacheForProjection={};D.tileGridForProjection={};D.reprojectionErrorThreshold_=C.reprojectionErrorThreshold;D.contextOptions_=!1===C.imageSmoothing?l.IMAGE_SMOOTHING_DISABLED:void 0;D.renderReprojectionEdges_=!1;return D}f(A,p);A.prototype.canExpireCache=function(){if(!q.ENABLE_RASTER_REPROJECTION)return p.prototype.canExpireCache.call(this);
if(this.tileCache.canExpireCache())return!0;for(var C in this.tileCacheForProjection)if(this.tileCacheForProjection[C].canExpireCache())return!0;return!1};A.prototype.expireCache=function(C,D){if(q.ENABLE_RASTER_REPROJECTION){C=this.getTileCacheForProjection(C);this.tileCache.expireCache(this.tileCache==C?D:{});for(var P in this.tileCacheForProjection){var L=this.tileCacheForProjection[P];L.expireCache(L==C?D:{})}}else p.prototype.expireCache.call(this,C,D)};A.prototype.getContextOptions=function(){return this.contextOptions_};
A.prototype.getGutterForProjection=function(C){return q.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&C&&!(0,h.equivalent)(this.getProjection(),C)?0:this.getGutter()};A.prototype.getGutter=function(){return 0};A.prototype.getKey=function(){return p.prototype.getKey.call(this)+(this.contextOptions_?"\n"+JSON.stringify(this.contextOptions_):"")};A.prototype.getOpaque=function(C){return q.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&C&&!(0,h.equivalent)(this.getProjection(),C)?!1:p.prototype.getOpaque.call(this,
C)};A.prototype.getTileGridForProjection=function(C){if(!q.ENABLE_RASTER_REPROJECTION)return p.prototype.getTileGridForProjection.call(this,C);var D=this.getProjection();return!this.tileGrid||D&&!(0,h.equivalent)(D,C)?(D=(0,a.getUid)(C),D in this.tileGridForProjection||(this.tileGridForProjection[D]=(0,e.getForProjection)(C)),this.tileGridForProjection[D]):this.tileGrid};A.prototype.getTileCacheForProjection=function(C){if(!q.ENABLE_RASTER_REPROJECTION)return p.prototype.getTileCacheForProjection.call(this,
C);var D=this.getProjection();if(!D||(0,h.equivalent)(D,C))return this.tileCache;C=(0,a.getUid)(C);C in this.tileCacheForProjection||(this.tileCacheForProjection[C]=new x["default"](this.tileCache.highWaterMark));return this.tileCacheForProjection[C]};A.prototype.createTile_=function(C,D,P,L,G,z){C=[C,D,P];L=(D=this.getTileCoordForTileUrlFunction(C,G))?this.tileUrlFunction(D,L,G):void 0;L=new this.tileClass(C,void 0!==L?y["default"].IDLE:y["default"].EMPTY,void 0!==L?L:"",this.crossOrigin,this.tileLoadFunction,
this.tileOptions);L.key=z;L.addEventListener(n["default"].CHANGE,this.handleTileChange.bind(this));return L};A.prototype.getTile=function(C,D,P,L,G){var z=this.getProjection();if(q.ENABLE_RASTER_REPROJECTION&&z&&G&&!(0,h.equivalent)(z,G)){var J=this.getTileCacheForProjection(G),K=[C,D,P];C=void 0;D=(0,c.getKey)(K);J.containsKey(D)&&(C=J.get(D));P=this.getKey();if(C&&C.key==P)return C;var R=this.getTileGridForProjection(z),U=this.getTileGridForProjection(G),ka=this.getTileCoordForTileUrlFunction(K,
G);L=new O["default"](z,R,G,U,K,ka,this.getTilePixelRatio(L),this.getGutter(),function(ba,da,ja,Z){return this.getTileInternal(ba,da,ja,Z,z)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.contextOptions_);L.key=P;C?(L.interimTile=C,L.refreshInterimChain(),J.replace(D,L)):J.set(D,L);return L}return this.getTileInternal(C,D,P,L,z||G)};A.prototype.getTileInternal=function(C,D,P,L,G){var z=(0,c.getKeyZXY)(C,D,P),J=this.getKey();if(this.tileCache.containsKey(z)){var K=
this.tileCache.get(z);if(K.key!=J){var R=K;K=this.createTile_(C,D,P,L,G,J);R.getState()==y["default"].IDLE?K.interimTile=R.interimTile:K.interimTile=R;K.refreshInterimChain();this.tileCache.replace(z,K)}}else K=this.createTile_(C,D,P,L,G,J),this.tileCache.set(z,K);return K};A.prototype.setRenderReprojectionEdges=function(C){if(q.ENABLE_RASTER_REPROJECTION&&this.renderReprojectionEdges_!=C){this.renderReprojectionEdges_=C;for(var D in this.tileCacheForProjection)this.tileCacheForProjection[D].clear();
this.changed()}};A.prototype.setTileGridForProjection=function(C,D){q.ENABLE_RASTER_REPROJECTION&&(C=(0,h.get)(C))&&(C=(0,a.getUid)(C),C in this.tileGridForProjection||(this.tileGridForProjection[C]=D))};return A}(Ha["default"]);E["default"]=B};
shadow$provide[277]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.jsonp=function(m,n,F,O){function x(){delete window[q];y.parentNode.removeChild(y)}var y=document.createElement("script"),q="olc_"+(0,g.getUid)(n);y.async=!0;y.src=m+(-1==m.indexOf("?")?"?":"\x26")+(O||"callback")+"\x3d"+q;var l=setTimeout(function(){x();F&&F()},1E4);window[q]=function(h){clearTimeout(l);x();n(h)};document.getElementsByTagName("head")[0].appendChild(y)};var g=B(78)};
shadow$provide[278]=function(Ha,B,rb,E){function g(c){return c&&c.__esModule?c:{"default":c}}function m(c){var e=c[0],a=Array(e),f=1<<e-1,p;for(p=0;p<e;++p){var A=48;c[1]&f&&(A+=1);c[2]&f&&(A+=2);a[p]=String.fromCharCode(A);f>>=1}return a.join("")}Object.defineProperty(E,"__esModule",{value:!0});E.quadKey=m;E["default"]=void 0;var n=g(B(99));Ha=g(B(276));var F=B(84),O=B(274),x=B(267),y=B(272),q=B(134),l=B(277),h=function(){var c=function(e,a){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&
function(f,p){f.__proto__=p}||function(f,p){for(var A in p)Object.prototype.hasOwnProperty.call(p,A)&&(f[A]=p[A])};return c(e,a)};return function(e,a){function f(){this.constructor=e}c(e,a);e.prototype=null===a?Object.create(a):(f.prototype=a.prototype,new f)}}();B=function(c){function e(a){var f=void 0!==a.hidpi?a.hidpi:!1;var p=c.call(this,{cacheSize:a.cacheSize,crossOrigin:"anonymous",imageSmoothing:a.imageSmoothing,opaque:!0,projection:(0,q.get)("EPSG:3857"),reprojectionErrorThreshold:a.reprojectionErrorThreshold,
state:n["default"].LOADING,tileLoadFunction:a.tileLoadFunction,tilePixelRatio:f?2:1,wrapX:void 0!==a.wrapX?a.wrapX:!0,transition:a.transition})||this;p.hidpi_=f;p.culture_=void 0!==a.culture?a.culture:"en-us";p.maxZoom_=void 0!==a.maxZoom?a.maxZoom:-1;p.apiKey_=a.key;p.imagerySet_=a.imagerySet;a="https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+p.imagerySet_+"?uriScheme\x3dhttps\x26include\x3dImageryProviders\x26key\x3d"+p.apiKey_+"\x26c\x3d"+p.culture_;(0,l.jsonp)(a,p.handleImageryMetadataResponse.bind(p),
void 0,"jsonp");return p}h(e,c);e.prototype.getApiKey=function(){return this.apiKey_};e.prototype.getImagerySet=function(){return this.imagerySet_};e.prototype.handleImageryMetadataResponse=function(a){if(200!=a.statusCode||"OK"!=a.statusDescription||"ValidCredentials"!=a.authenticationResultCode||1!=a.resourceSets.length||1!=a.resourceSets[0].resources.length)this.setState(n["default"].ERROR);else{var f=a.resourceSets[0].resources[0];a=-1==this.maxZoom_?f.zoomMax:this.maxZoom_;var p=this.getProjection();
p=(0,y.extentFromProjection)(p);var A=this.hidpi_?2:1;A=f.imageWidth==f.imageHeight?f.imageWidth/A:[f.imageWidth/A,f.imageHeight/A];this.tileGrid=(0,y.createXYZ)({extent:p,minZoom:f.zoomMin,maxZoom:a,tileSize:A});var C=this.culture_,D=this.hidpi_;this.tileUrlFunction=(0,O.createFromTileUrlFunctions)(f.imageUrlSubdomains.map(function(L){var G=[0,0,0],z=f.imageUrl.replace("{subdomain}",L).replace("{culture}",C);return function(J,K,R){if(J)return(0,x.createOrUpdate)(J[0],J[1],J[2],G),J=z,D&&(J+="\x26dpi\x3dd1\x26device\x3dmobile"),
J.replace("{quadkey}",m(G))}}));if(f.imageryProviders){var P=(0,q.getTransformFromProjections)((0,q.get)("EPSG:4326"),this.getProjection());this.setAttributions(function(L){var G=[],z=L.viewState,J=this.getTileGrid(),K=J.getZForResolution(z.resolution,this.zDirection),R=J.getTileCoordForCoordAndZ(z.center,K)[0];f.imageryProviders.map(function(U){for(var ka=!1,ba=U.coverageAreas,da=0,ja=ba.length;da<ja;++da){var Z=ba[da];if(R>=Z.zoomMin&&R<=Z.zoomMax&&(Z=Z.bbox,Z=[Z[1],Z[0],Z[3],Z[2]],Z=(0,F.applyTransform)(Z,
P),(0,F.intersects)(Z,L.extent))){ka=!0;break}}ka&&G.push(U.attribution)});G.push('\x3ca class\x3d"ol-attribution-bing-tos" href\x3d"https://www.microsoft.com/maps/product/terms.html" target\x3d"_blank"\x3eTerms of Use\x3c/a\x3e');return G}.bind(this))}this.setState(n["default"].READY)}};return e}(Ha["default"]);E["default"]=B};
shadow$provide[279]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=function(n){return n&&n.__esModule?n:{"default":n}}(B(276));var g=B(272),m=function(){var n=function(F,O){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,y){x.__proto__=y}||function(x,y){for(var q in y)Object.prototype.hasOwnProperty.call(y,q)&&(x[q]=y[q])};return n(F,O)};return function(F,O){function x(){this.constructor=F}n(F,O);F.prototype=null===O?Object.create(O):
(x.prototype=O.prototype,new x)}}();B=function(n){function F(O){O=O||{};var x=void 0!==O.projection?O.projection:"EPSG:3857",y=void 0!==O.tileGrid?O.tileGrid:(0,g.createXYZ)({extent:(0,g.extentFromProjection)(x),maxResolution:O.maxResolution,maxZoom:O.maxZoom,minZoom:O.minZoom,tileSize:O.tileSize});return n.call(this,{attributions:O.attributions,cacheSize:O.cacheSize,crossOrigin:O.crossOrigin,imageSmoothing:O.imageSmoothing,opaque:O.opaque,projection:x,reprojectionErrorThreshold:O.reprojectionErrorThreshold,
tileGrid:y,tileLoadFunction:O.tileLoadFunction,tilePixelRatio:O.tilePixelRatio,tileUrlFunction:O.tileUrlFunction,url:O.url,urls:O.urls,wrapX:void 0!==O.wrapX?O.wrapX:!0,transition:O.transition,attributionsCollapsible:O.attributionsCollapsible,zDirection:O.zDirection})||this}m(F,n);return F}(Ha["default"]);E["default"]=B};
shadow$provide[280]=function(Ha,B,rb,E){function g(O){return O&&O.__esModule?O:{"default":O}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var m=g(B(99));Ha=g(B(279));var n=B(90),F=function(){var O=function(x,y){O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,l){q.__proto__=l}||function(q,l){for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(q[h]=l[h])};return O(x,y)};return function(x,y){function q(){this.constructor=x}O(x,y);x.prototype=null===
y?Object.create(y):(q.prototype=y.prototype,new q)}}();B=function(O){function x(y){var q=O.call(this,{attributions:y.attributions,cacheSize:y.cacheSize,crossOrigin:y.crossOrigin,maxZoom:void 0!==y.maxZoom?y.maxZoom:18,minZoom:y.minZoom,projection:y.projection,transition:y.transition,wrapX:y.wrapX})||this;q.account_=y.account;q.mapId_=y.map||"";q.config_=y.config||{};q.templateCache_={};q.initializeMap_();return q}F(x,O);x.prototype.getConfig=function(){return this.config_};x.prototype.updateConfig=
function(y){(0,n.assign)(this.config_,y);this.initializeMap_()};x.prototype.setConfig=function(y){this.config_=y||{};this.initializeMap_()};x.prototype.initializeMap_=function(){var y=JSON.stringify(this.config_);if(this.templateCache_[y])this.applyTemplate_(this.templateCache_[y]);else{var q="https://"+this.account_+".carto.com/api/v1/map";this.mapId_&&(q+="/named/"+this.mapId_);var l=new XMLHttpRequest;l.addEventListener("load",this.handleInitResponse_.bind(this,y));l.addEventListener("error",this.handleInitError_.bind(this));
l.open("POST",q);l.setRequestHeader("Content-type","application/json");l.send(JSON.stringify(this.config_))}};x.prototype.handleInitResponse_=function(y,q){q=q.target;if(!q.status||200<=q.status&&300>q.status){var l=void 0;try{l=JSON.parse(q.responseText)}catch(h){this.setState(m["default"].ERROR);return}this.applyTemplate_(l);this.templateCache_[y]=l;this.setState(m["default"].READY)}else this.setState(m["default"].ERROR)};x.prototype.handleInitError_=function(y){this.setState(m["default"].ERROR)};
x.prototype.applyTemplate_=function(y){this.setUrl("https://"+y.cdn_url.https+"/"+this.account_+"/api/v1/map/"+y.layergroupid+"/{z}/{x}/{y}.png")};return x}(Ha["default"]);E["default"]=B};
shadow$provide[281]=function(Ha,B,rb,E){function g(c){return c&&c.__esModule?c:{"default":c}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var m=g(B(92)),n=g(B(194)),F=g(B(123)),O=g(B(149));Ha=g(B(246));var x=B(102),y=B(80),q=B(84),l=B(78),h=function(){var c=function(e,a){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var A in p)Object.prototype.hasOwnProperty.call(p,A)&&(f[A]=p[A])};return c(e,a)};return function(e,
a){function f(){this.constructor=e}c(e,a);e.prototype=null===a?Object.create(a):(f.prototype=a.prototype,new f)}}();B=function(c){function e(a){var f=c.call(this,{attributions:a.attributions,wrapX:a.wrapX})||this;f.resolution=void 0;f.distance=void 0!==a.distance?a.distance:20;f.features=[];f.geometryFunction=a.geometryFunction||function(p){p=p.getGeometry();(0,y.assert)(p.getType()==F["default"].POINT,10);return p};f.boundRefresh_=f.refresh.bind(f);f.setSource(a.source||null);return f}h(e,c);e.prototype.clear=
function(a){this.features.length=0;c.prototype.clear.call(this,a)};e.prototype.getDistance=function(){return this.distance};e.prototype.getSource=function(){return this.source};e.prototype.loadFeatures=function(a,f,p){this.source.loadFeatures(a,f,p);f!==this.resolution&&(this.clear(),this.resolution=f,this.cluster(),this.addFeatures(this.features))};e.prototype.setDistance=function(a){this.distance=a;this.refresh()};e.prototype.setSource=function(a){this.source&&this.source.removeEventListener(m["default"].CHANGE,
this.boundRefresh_);(this.source=a)&&a.addEventListener(m["default"].CHANGE,this.boundRefresh_);this.refresh()};e.prototype.refresh=function(){this.clear();this.cluster();this.addFeatures(this.features)};e.prototype.cluster=function(){if(void 0!==this.resolution&&this.source)for(var a=(0,q.createEmpty)(),f=this.distance*this.resolution,p=this.source.getFeatures(),A={},C=0,D=p.length;C<D;C++){var P=p[C];(0,l.getUid)(P)in A||!(P=this.geometryFunction(P))||(P=P.getCoordinates(),(0,q.createOrUpdateFromCoordinate)(P,
a),(0,q.buffer)(a,f,a),P=this.source.getFeaturesInExtent(a),P=P.filter(function(L){L=(0,l.getUid)(L);return L in A?!1:A[L]=!0}),this.features.push(this.createCluster(P)))}};e.prototype.createCluster=function(a){for(var f=[0,0],p=a.length-1;0<=p;--p){var A=this.geometryFunction(a[p]);A?(0,x.add)(f,A.getCoordinates()):a.splice(p,1)}(0,x.scale)(f,1/a.length);f=new n["default"](new O["default"](f));f.set("features",a);return f};return e}(Ha["default"]);E["default"]=B};
shadow$provide[282]=function(Ha,B,rb,E){function g(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.CustomTile=void 0;var m=B(127);Ha=g(B(260));var n=g(B(271));rb=g(B(276));var F=g(B(121)),O=B(80),x=B(107),y=B(274),q=B(84),l=B(158),h=function(){var e=function(a,f){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,A){p.__proto__=A}||function(p,A){for(var C in A)Object.prototype.hasOwnProperty.call(A,C)&&(p[C]=A[C])};return e(a,
f)};return function(a,f){function p(){this.constructor=a}e(a,f);a.prototype=null===f?Object.create(f):(p.prototype=f.prototype,new p)}}(),c=function(e){function a(f,p,A,C,D,P,L){p=e.call(this,p,A,C,D,P,L)||this;p.zoomifyImage_=null;p.tileSize_=f;return p}h(a,e);a.prototype.getImage=function(){if(this.zoomifyImage_)return this.zoomifyImage_;var f=e.prototype.getImage.call(this);if(this.state==F["default"].LOADED){var p=this.tileSize_;if(f.width==p[0]&&f.height==p[1])return this.zoomifyImage_=f;p=(0,
x.createCanvasContext2D)(p[0],p[1]);p.drawImage(f,0,0);return this.zoomifyImage_=p.canvas}return f};return a}(Ha["default"]);E.CustomTile=c;B=function(e){function a(f){var p=this,A=f.size;p=f.tilePixelRatio||1;var C=A[0],D=A[1],P=[],L=f.tileSize||m.DEFAULT_TILE_SIZE;A=L*p;switch(void 0!==f.tierSizeCalculation?f.tierSizeCalculation:"default"){case "default":for(;C>A||D>A;)P.push([Math.ceil(C/A),Math.ceil(D/A)]),A+=A;break;case "truncated":for(var G=C,z=D;G>A||z>A;)P.push([Math.ceil(G/A),Math.ceil(z/
A)]),G>>=1,z>>=1;break;default:(0,O.assert)(!1,53)}P.push([1,1]);P.reverse();A=[p];var J=[0];G=1;for(z=P.length;G<z;G++)A.push(p<<G),J.push(P[G-1][0]*P[G-1][1]+J[G-1]);A.reverse();C=new n["default"]({tileSize:L,extent:f.extent||[0,-D,C,0],resolutions:A});(D=f.url)&&-1==D.indexOf("{TileGroup}")&&-1==D.indexOf("{tileIndex}")&&(D+="{TileGroup}/{z}-{x}-{y}.jpg");D=(0,y.expandUrl)(D);var K=L*p;D=(0,y.createFromTileUrlFunctions)(D.map(function(R){return function(U,ka,ba){if(U){ka=U[0];ba=U[1];U=U[2];var da=
ba+U*P[ka][0],ja={z:ka,x:ba,y:U,tileIndex:da,TileGroup:"TileGroup"+((da+J[ka])/K|0)};return R.replace(/\{(\w+?)\}/g,function(Z,Q){return ja[Q]})}}}));G=c.bind(null,(0,l.toSize)(L*p));p=e.call(this,{attributions:f.attributions,cacheSize:f.cacheSize,crossOrigin:f.crossOrigin,imageSmoothing:f.imageSmoothing,projection:f.projection,tilePixelRatio:p,reprojectionErrorThreshold:f.reprojectionErrorThreshold,tileClass:G,tileGrid:C,tileUrlFunction:D,transition:f.transition})||this;p.zDirection=f.zDirection;
f=C.getTileCoordForCoordAndResolution((0,q.getCenter)(C.getExtent()),A[A.length-1]);f=D(f,1,null);A=new Image;A.addEventListener("error",function(){K=L;this.changed()}.bind(p));A.src=f;return p}h(a,e);return a}(rb["default"]);E["default"]=B};
shadow$provide[283]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.Versions=void 0;var g=B(80),m=function(){for(var l=0,h=0,c=arguments.length;h<c;h++)l+=arguments[h].length;l=Array(l);var e=0;for(h=0;h<c;h++)for(var a=arguments[h],f=0,p=a.length;f<p;f++,e++)l[e]=a[f];return l},n={VERSION1:"version1",VERSION2:"version2",VERSION3:"version3"};E.Versions=n;var F={};F[n.VERSION1]={level0:{supports:[],formats:[],qualities:["native"]},level1:{supports:["regionByPx",
"sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["native"]},level2:{supports:"regionByPx regionByPct sizeByW sizeByH sizeByPct sizeByConfinedWh sizeByWh".split(" "),formats:["jpg","png"],qualities:["native","color","grey","bitonal"]}};F[n.VERSION2]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["default"]},level2:{supports:"regionByPx regionByPct sizeByW sizeByH sizeByPct sizeByConfinedWh sizeByDistortedWh sizeByWh".split(" "),
formats:["jpg","png"],qualities:["default","bitonal"]}};F[n.VERSION3]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","regionSquare","sizeByW","sizeByH","sizeByWh"],formats:["jpg"],qualities:["default"]},level2:{supports:"regionByPx regionSquare regionByPct sizeByW sizeByH sizeByPct sizeByConfinedWh sizeByWh".split(" "),formats:["jpg","png"],qualities:["default"]}};F.none={none:{supports:[],formats:[],qualities:[]}};var O=/^https?:\/\/library\.stanford\.edu\/iiif\/image-api\/(?:1\.1\/)?compliance\.html#level[0-2]$/,
x=/^https?:\/\/iiif\.io\/api\/image\/2\/level[0-2](?:\.json)?$/,y=/(^https?:\/\/iiif\.io\/api\/image\/3\/level[0-2](?:\.json)?$)|(^level[0-2]$)/,q={};q[n.VERSION1]=function(l){var h=l.getComplianceLevelSupportedFeatures();void 0===h&&(h=F[n.VERSION1].level0);return{url:void 0===l.imageInfo["@id"]?void 0:l.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),supports:h.supports,formats:m(h.formats,[void 0===l.imageInfo.formats?[]:l.imageInfo.formats]),qualities:m(h.qualities,[void 0===l.imageInfo.qualities?
[]:l.imageInfo.qualities]),resolutions:l.imageInfo.scale_factors,tileSize:void 0!==l.imageInfo.tile_width?void 0!==l.imageInfo.tile_height?[l.imageInfo.tile_width,l.imageInfo.tile_height]:[l.imageInfo.tile_width,l.imageInfo.tile_width]:void 0!=l.imageInfo.tile_height?[l.imageInfo.tile_height,l.imageInfo.tile_height]:void 0}};q[n.VERSION2]=function(l){var h=l.getComplianceLevelSupportedFeatures(),c=Array.isArray(l.imageInfo.profile)&&1<l.imageInfo.profile.length,e=c&&l.imageInfo.profile[1].supports?
l.imageInfo.profile[1].supports:[],a=c&&l.imageInfo.profile[1].formats?l.imageInfo.profile[1].formats:[];c=c&&l.imageInfo.profile[1].qualities?l.imageInfo.profile[1].qualities:[];return{url:l.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),sizes:void 0===l.imageInfo.sizes?void 0:l.imageInfo.sizes.map(function(f){return[f.width,f.height]}),tileSize:void 0===l.imageInfo.tiles?void 0:[l.imageInfo.tiles.map(function(f){return f.width})[0],l.imageInfo.tiles.map(function(f){return void 0===f.height?
f.width:f.height})[0]],resolutions:void 0===l.imageInfo.tiles?void 0:l.imageInfo.tiles.map(function(f){return f.scaleFactors})[0],supports:m(h.supports,e),formats:m(h.formats,a),qualities:m(h.qualities,c)}};q[n.VERSION3]=function(l){var h=l.getComplianceLevelSupportedFeatures(),c=void 0===l.imageInfo.extraFormats?h.formats:m(h.formats,l.imageInfo.extraFormats),e=void 0!==l.imageInfo.preferredFormats&&Array.isArray(l.imageInfo.preferredFormats)&&0<l.imageInfo.preferredFormats.length?l.imageInfo.preferredFormats.filter(function(a){return["jpg",
"png","gif"].includes(a)}).reduce(function(a,f){return void 0===a&&c.includes(f)?f:a},void 0):void 0;return{url:l.imageInfo.id,sizes:void 0===l.imageInfo.sizes?void 0:l.imageInfo.sizes.map(function(a){return[a.width,a.height]}),tileSize:void 0===l.imageInfo.tiles?void 0:[l.imageInfo.tiles.map(function(a){return a.width})[0],l.imageInfo.tiles.map(function(a){return a.height})[0]],resolutions:void 0===l.imageInfo.tiles?void 0:l.imageInfo.tiles.map(function(a){return a.scaleFactors})[0],supports:void 0===
l.imageInfo.extraFeatures?h.supports:m(h.supports,l.imageInfo.extraFeatures),formats:c,qualities:void 0===l.imageInfo.extraQualities?h.qualities:m(h.qualities,l.imageInfo.extraQualities),preferredFormat:e}};Ha=function(){function l(h){this.setImageInfo(h)}l.prototype.setImageInfo=function(h){this.imageInfo="string"==typeof h?JSON.parse(h):h};l.prototype.getImageApiVersion=function(){if(void 0!==this.imageInfo){var h=this.imageInfo["@context"]||"ol-no-context";"string"==typeof h&&(h=[h]);for(var c=
0;c<h.length;c++)switch(h[c]){case "http://library.stanford.edu/iiif/image-api/1.1/context.json":case "http://iiif.io/api/image/1/context.json":return n.VERSION1;case "http://iiif.io/api/image/2/context.json":return n.VERSION2;case "http://iiif.io/api/image/3/context.json":return n.VERSION3;case "ol-no-context":if(this.getComplianceLevelEntryFromProfile(n.VERSION1)&&this.imageInfo.identifier)return n.VERSION1}(0,g.assert)(!1,61)}};l.prototype.getComplianceLevelEntryFromProfile=function(h){if(void 0!==
this.imageInfo&&void 0!==this.imageInfo.profile)switch(void 0===h&&(h=this.getImageApiVersion()),h){case n.VERSION1:if(O.test(this.imageInfo.profile))return this.imageInfo.profile;break;case n.VERSION3:if(y.test(this.imageInfo.profile))return this.imageInfo.profile;break;case n.VERSION2:if("string"===typeof this.imageInfo.profile&&x.test(this.imageInfo.profile))return this.imageInfo.profile;if(Array.isArray(this.imageInfo.profile)&&0<this.imageInfo.profile.length&&"string"===typeof this.imageInfo.profile[0]&&
x.test(this.imageInfo.profile[0]))return this.imageInfo.profile[0]}};l.prototype.getComplianceLevelFromProfile=function(h){h=this.getComplianceLevelEntryFromProfile(h);if(void 0!==h)return h=h.match(/level[0-2](?:\.json)?$/g),Array.isArray(h)?h[0].replace(".json",""):void 0};l.prototype.getComplianceLevelSupportedFeatures=function(){if(void 0!==this.imageInfo){var h=this.getImageApiVersion(),c=this.getComplianceLevelFromProfile(h);return void 0===c?F.none.none:F[h][c]}};l.prototype.getTileSourceOptions=
function(h){h=h||{};var c=this.getImageApiVersion();if(void 0!==c){var e=void 0===c?void 0:q[c](this);if(void 0!==e)return{url:e.url,version:c,size:[this.imageInfo.width,this.imageInfo.height],sizes:e.sizes,format:void 0!==h.format&&e.formats.includes(h.format)?h.format:void 0!==e.preferredFormat?e.preferredFormat:"jpg",supports:e.supports,quality:h.quality&&e.qualities.includes(h.quality)?h.quality:e.qualities.includes("native")?"native":"default",resolutions:Array.isArray(e.resolutions)?e.resolutions.sort(function(a,
f){return f-a}):void 0,tileSize:e.tileSize}}};return l}();E["default"]=Ha};
shadow$provide[284]=function(Ha,B,rb,E){function g(c){return c&&c.__esModule?c:{"default":c}}function m(c){return c.toLocaleString("en",{maximumFractionDigits:10})}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var n=g(B(271));Ha=g(B(276));var F=B(282),O=B(127),x=B(283),y=B(80),q=B(84),l=B(158),h=function(){var c=function(e,a){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var A in p)Object.prototype.hasOwnProperty.call(p,
A)&&(f[A]=p[A])};return c(e,a)};return function(e,a){function f(){this.constructor=e}c(e,a);e.prototype=null===a?Object.create(a):(f.prototype=a.prototype,new f)}}();B=function(c){function e(a){var f=this;a=a||{};var p=a.url||"";p+=p.lastIndexOf("/")===p.length-1||""===p?"":"/";var A=a.version||x.Versions.VERSION2,C=a.sizes||[];f=a.size;(0,y.assert)(void 0!=f&&Array.isArray(f)&&2==f.length&&!isNaN(f[0])&&0<f[0]&&!isNaN(f[1])&&0<f[1],60);var D=f[0],P=f[1];f=a.tileSize;var L=a.tilePixelRatio||1,G=a.format||
"jpg",z=a.quality||(a.version==x.Versions.VERSION1?"native":"default"),J=a.resolutions||[],K=a.supports||[],R=a.extent||[0,-P,D,0],U=void 0!=C&&Array.isArray(C)&&0<C.length,ka=void 0!==f&&("number"===typeof f&&Number.isInteger(f)&&0<f||Array.isArray(f)&&0<f.length),ba=void 0!=K&&Array.isArray(K)&&(K.includes("regionByPx")||K.includes("regionByPct"))&&(K.includes("sizeByWh")||K.includes("sizeByH")||K.includes("sizeByW")||K.includes("sizeByPct")),da,ja;J.sort(function(ea,aa){return aa-ea});if(ka||ba){if(void 0!=
f)if("number"===typeof f&&Number.isInteger(f)&&0<f)var Z=da=f;else if(Array.isArray(f)&&0<f.length){if(1==f.length||void 0==f[1]&&Number.isInteger(f[0]))da=f[0],Z=f[0];2==f.length&&(Number.isInteger(f[0])&&Number.isInteger(f[1])?(da=f[0],Z=f[1]):void 0==f[0]&&Number.isInteger(f[1])&&(da=f[1],Z=f[1]))}if(void 0===da||void 0===Z)Z=da=O.DEFAULT_TILE_SIZE;if(0==J.length)for(var Q=ja=Math.max(Math.ceil(Math.log(D/da)/Math.LN2),Math.ceil(Math.log(P/Z)/Math.LN2));0<=Q;Q--)J.push(Math.pow(2,Q));else Q=Math.max.apply(Math,
J),ja=Math.round(Math.log(Q)/Math.LN2)}else if(da=D,Z=P,J=[],U){C.sort(function(ea,aa){return ea[0]-aa[0]});ja=-1;var r=[];for(Q=0;Q<C.length;Q++){var N=D/C[Q][0];0<J.length&&J[J.length-1]==N?r.push(Q):(J.push(N),ja++)}if(0<r.length)for(Q=0;Q<r.length;Q++)C.splice(r[Q]-Q,1)}else J.push(1),C.push([D,P]),ja=0;R=new n["default"]({tileSize:[da,Z],extent:R,origin:(0,q.getTopLeft)(R),resolutions:J});f=F.CustomTile.bind(null,(0,l.toSize)(f||256).map(function(ea){return ea*L}));f=c.call(this,{attributions:a.attributions,
attributionsCollapsible:a.attributionsCollapsible,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,imageSmoothing:a.imageSmoothing,projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,state:a.state,tileClass:f,tileGrid:R,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:function(ea,aa,va){var ta;aa=ea[0];if(!(aa>ja)){va=ea[1];var Da=ea[2];ea=J[aa];if(!(void 0===va||void 0===Da||void 0===ea||0>va||Math.ceil(D/ea/da)<=va||0>Da||Math.ceil(P/ea/Z)<=Da)){if(ba||ka){var $a=va*da*
ea,kb=Da*Z*ea,sa=da*ea;Da=Z*ea;aa=da;va=Z;$a+sa>D&&(sa=D-$a);kb+Da>P&&(Da=P-kb);$a+da*ea>D&&(aa=Math.floor((D-$a+ea-1)/ea));kb+Z*ea>P&&(va=Math.floor((P-kb+ea-1)/ea));if(0==$a&&sa==D&&0==kb&&Da==P)var Ta="full";else!ba||K.includes("regionByPx")?Ta=$a+","+kb+","+sa+","+Da:K.includes("regionByPct")&&(Ta=m($a/D*100),$a=m(kb/P*100),sa=m(sa/D*100),Da=m(Da/P*100),Ta="pct:"+Ta+","+$a+","+sa+","+Da);A!=x.Versions.VERSION3||ba&&!K.includes("sizeByWh")?!ba||K.includes("sizeByW")?ta=aa+",":K.includes("sizeByH")?
ta=","+va:K.includes("sizeByWh")?ta=aa+","+va:K.includes("sizeByPct")&&(ta="pct:"+m(100/ea)):ta=aa+","+va}else Ta="full",U?(ta=C[aa][0],ea=C[aa][1],ta=A==x.Versions.VERSION3?ta==D&&ea==P?"max":ta+","+ea:ta==D?"full":ta+","):ta=A==x.Versions.VERSION3?"max":"full";return p+Ta+"/"+ta+"/0/"+z+"."+G}}},transition:a.transition})||this;f.zDirection=a.zDirection;return f}h(e,c);return e}(Ha["default"]);E["default"]=B};
shadow$provide[285]=function(Ha,B,rb,E){function g(h){return h&&h.__esModule?h:{"default":h}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var m=B(261),n=g(B(92));Ha=g(B(231));var F=g(B(203)),O=g(B(262)),x=B(264),y=B(84),q=B(93),l=function(){var h=function(c,e){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,f){a.__proto__=f}||function(a,f){for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(a[p]=f[p])};return h(c,e)};return function(c,e){function a(){this.constructor=
c}h(c,e);c.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}}();B=function(h){function c(e,a,f,p,A,C,D){var P,L=e.getExtent(),G=(P=a.getExtent())?(0,y.getIntersection)(f,P):f;P=(0,y.getCenter)(G);P=(0,x.calculateSourceResolution)(e,a,P,p);e=new O["default"](e,a,G,L,P*m.ERROR_THRESHOLD,p);G=e.calculateSourceExtent();P=(A=C(G,P,A))?F["default"].IDLE:F["default"].EMPTY;C=A?A.getPixelRatio():1;P=h.call(this,f,p,C,P)||this;P.targetProj_=a;P.maxSourceExtent_=L;P.triangulation_=e;P.targetResolution_=
p;P.targetExtent_=f;P.sourceImage_=A;P.sourcePixelRatio_=C;P.contextOptions_=D;P.canvas_=null;P.sourceListenerKey_=null;return P}l(c,h);c.prototype.disposeInternal=function(){this.state==F["default"].LOADING&&this.unlistenSource_();h.prototype.disposeInternal.call(this)};c.prototype.getImage=function(){return this.canvas_};c.prototype.getProjection=function(){return this.targetProj_};c.prototype.reproject_=function(){var e=this.sourceImage_.getState();if(e==F["default"].LOADED){var a=(0,y.getWidth)(this.targetExtent_)/
this.targetResolution_,f=(0,y.getHeight)(this.targetExtent_)/this.targetResolution_;this.canvas_=(0,x.render)(a,f,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.contextOptions_)}this.state=e;this.changed()};c.prototype.load=function(){if(this.state==F["default"].IDLE){this.state=F["default"].LOADING;this.changed();var e=
this.sourceImage_.getState();e==F["default"].LOADED||e==F["default"].ERROR?this.reproject_():(this.sourceListenerKey_=(0,q.listen)(this.sourceImage_,n["default"].CHANGE,function(a){a=this.sourceImage_.getState();if(a==F["default"].LOADED||a==F["default"].ERROR)this.unlistenSource_(),this.reproject_()},this),this.sourceImage_.load())}};c.prototype.unlistenSource_=function(){(0,q.unlistenByKey)(this.sourceListenerKey_);this.sourceListenerKey_=null};return c}(Ha["default"]);E["default"]=B};
shadow$provide[286]=function(Ha,B,rb,E){function g(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(E,"__esModule",{value:!0});E.defaultImageLoadFunction=function(a,f){a.getImage().src=f};E["default"]=E.ImageSourceEvent=E.ImageSourceEventType=void 0;Ha=g(B(88));var m=g(B(203)),n=g(B(285));rb=g(B(242));var F=B(261),O=B(263),x=B(78),y=B(84),q=B(134),l=B(76),h=function(){var a=function(f,p){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,C){A.__proto__=C}||function(A,
C){for(var D in C)Object.prototype.hasOwnProperty.call(C,D)&&(A[D]=C[D])};return a(f,p)};return function(f,p){function A(){this.constructor=f}a(f,p);f.prototype=null===p?Object.create(p):(A.prototype=p.prototype,new A)}}(),c={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};E.ImageSourceEventType=c;var e=function(a){function f(p,A){p=a.call(this,p)||this;p.image=A;return p}h(f,a);return f}(Ha["default"]);E.ImageSourceEvent=e;B=function(a){function f(p){var A=
a.call(this,{attributions:p.attributions,projection:p.projection,state:p.state})||this;A.resolutions_=void 0!==p.resolutions?p.resolutions:null;A.reprojectedImage_=null;A.reprojectedRevision_=0;A.contextOptions_=!1===p.imageSmoothing?O.IMAGE_SMOOTHING_DISABLED:void 0;return A}h(f,a);f.prototype.getResolutions=function(){return this.resolutions_};f.prototype.getContextOptions=function(){return this.contextOptions_};f.prototype.findNearestResolution=function(p){this.resolutions_&&(p=(0,l.linearFindNearest)(this.resolutions_,
p,0),p=this.resolutions_[p]);return p};f.prototype.getImage=function(p,A,C,D){var P=this.getProjection();if(F.ENABLE_RASTER_REPROJECTION&&P&&D&&!(0,q.equivalent)(P,D)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&(0,q.equivalent)(this.reprojectedImage_.getProjection(),D)&&this.reprojectedImage_.getResolution()==A&&(0,y.equals)(this.reprojectedImage_.getExtent(),p))return this.reprojectedImage_;this.reprojectedImage_.dispose();this.reprojectedImage_=null}this.reprojectedImage_=
new n["default"](P,D,p,A,C,function(L,G,z){return this.getImageInternal(L,G,z,P)}.bind(this),this.contextOptions_);this.reprojectedRevision_=this.getRevision();return this.reprojectedImage_}P&&(D=P);return this.getImageInternal(p,A,C,D)};f.prototype.getImageInternal=function(p,A,C,D){return(0,x["abstract"])()};f.prototype.handleImageChange=function(p){p=p.target;switch(p.getState()){case m["default"].LOADING:this.loading=!0;this.dispatchEvent(new e(c.IMAGELOADSTART,p));break;case m["default"].LOADED:this.loading=
!1;this.dispatchEvent(new e(c.IMAGELOADEND,p));break;case m["default"].ERROR:this.loading=!1,this.dispatchEvent(new e(c.IMAGELOADERROR,p))}};return f}(rb["default"]);E["default"]=B};
shadow$provide[287]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.appendParams=function(g,m){var n=[];Object.keys(m).forEach(function(O){null!==m[O]&&void 0!==m[O]&&n.push(O+"\x3d"+encodeURIComponent(m[O]))});var F=n.join("\x26");g=g.replace(/[?&]$/,"");g=-1===g.indexOf("?")?g+"?":g+"\x26";return g+F}};
shadow$provide[288]=function(Ha,B,rb,E){function g(e){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return g(e)}function m(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;m=function(){return e};return e}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;
var F=n(B(92)),O=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==g(e)&&"function"!==typeof e)return{"default":e};var a=m();if(a&&a.has(e))return a.get(e);var f={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor,A;for(A in e)if(Object.prototype.hasOwnProperty.call(e,A)){var C=p?Object.getOwnPropertyDescriptor(e,A):null;C&&(C.get||C.set)?Object.defineProperty(f,A,C):f[A]=e[A]}f["default"]=e;a&&a.set(e,f);return f}(B(286)),x=n(B(232)),y=B(287),q=B(80),l=B(90),h=B(84),c=function(){var e=
function(a,f){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,A){p.__proto__=A}||function(p,A){for(var C in A)Object.prototype.hasOwnProperty.call(A,C)&&(p[C]=A[C])};return e(a,f)};return function(a,f){function p(){this.constructor=a}e(a,f);a.prototype=null===f?Object.create(f):(p.prototype=f.prototype,new p)}}();Ha=function(e){function a(f){var p=f?f:{};f=e.call(this,{attributions:p.attributions,imageSmoothing:p.imageSmoothing,projection:p.projection,resolutions:p.resolutions})||
this;f.crossOrigin_=void 0!==p.crossOrigin?p.crossOrigin:null;f.hidpi_=void 0!==p.hidpi?p.hidpi:!0;f.url_=p.url;f.imageLoadFunction_=void 0!==p.imageLoadFunction?p.imageLoadFunction:O.defaultImageLoadFunction;f.params_=p.params||{};f.image_=null;f.imageSize_=[0,0];f.renderedRevision_=0;f.ratio_=void 0!==p.ratio?p.ratio:1.5;return f}c(a,e);a.prototype.getParams=function(){return this.params_};a.prototype.getImageInternal=function(f,p,A,C){if(void 0===this.url_)return null;p=this.findNearestResolution(p);
A=this.hidpi_?A:1;var D=this.image_;if(D&&this.renderedRevision_==this.getRevision()&&D.getResolution()==p&&D.getPixelRatio()==A&&(0,h.containsExtent)(D.getExtent(),f))return D;D={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};(0,l.assign)(D,this.params_);f=f.slice();var P=(f[0]+f[2])/2,L=(f[1]+f[3])/2;if(1!=this.ratio_){var G=this.ratio_*(0,h.getWidth)(f)/2,z=this.ratio_*(0,h.getHeight)(f)/2;f[0]=P-G;f[1]=L-z;f[2]=P+G;f[3]=L+z}G=p/A;z=Math.ceil((0,h.getWidth)(f)/G);var J=Math.ceil((0,h.getHeight)(f)/G);
f[0]=P-G*z/2;f[2]=P+G*z/2;f[1]=L-G*J/2;f[3]=L+G*J/2;this.imageSize_[0]=z;this.imageSize_[1]=J;C=this.getRequestUrl_(f,this.imageSize_,A,C,D);this.image_=new x["default"](f,p,A,C,this.crossOrigin_,this.imageLoadFunction_);this.renderedRevision_=this.getRevision();this.image_.addEventListener(F["default"].CHANGE,this.handleImageChange.bind(this));return this.image_};a.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};a.prototype.getRequestUrl_=function(f,p,A,C,D){C=C.getCode().split(":").pop();
D.SIZE=p[0]+","+p[1];D.BBOX=f.join(",");D.BBOXSR=C;D.IMAGESR=C;D.DPI=Math.round(90*A);f=this.url_;p=f.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");p==f&&(0,q.assert)(!1,50);return(0,y.appendParams)(p,D)};a.prototype.getUrl=function(){return this.url_};a.prototype.setImageLoadFunction=function(f){this.image_=null;this.imageLoadFunction_=f;this.changed()};a.prototype.setUrl=function(f){f!=this.url_&&(this.url_=f,this.image_=null,this.changed())};a.prototype.updateParams=
function(f){(0,l.assign)(this.params_,f);this.image_=null;this.changed()};return a}(O["default"]);E["default"]=Ha};
shadow$provide[289]=function(Ha,B,rb,E){function g(F){return F&&F.__esModule?F:{"default":F}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=g(B(231));var m=g(B(203)),n=function(){var F=function(O,x){F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,q){y.__proto__=q}||function(y,q){for(var l in q)Object.prototype.hasOwnProperty.call(q,l)&&(y[l]=q[l])};return F(O,x)};return function(O,x){function y(){this.constructor=O}F(O,x);O.prototype=null===x?Object.create(x):
(y.prototype=x.prototype,new y)}}();B=function(F){function O(x,y,q,l,h){x=F.call(this,x,y,q,void 0!==h?m["default"].IDLE:m["default"].LOADED)||this;x.loader_=void 0!==h?h:null;x.canvas_=l;x.error_=null;return x}n(O,F);O.prototype.getError=function(){return this.error_};O.prototype.handleLoad_=function(x){x?(this.error_=x,this.state=m["default"].ERROR):this.state=m["default"].LOADED;this.changed()};O.prototype.load=function(){this.state==m["default"].IDLE&&(this.state=m["default"].LOADING,this.changed(),
this.loader_(this.handleLoad_.bind(this)))};O.prototype.getImage=function(){return this.canvas_};return O}(Ha["default"]);E["default"]=B};
shadow$provide[290]=function(Ha,B,rb,E){function g(O){return O&&O.__esModule?O:{"default":O}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var m=g(B(289));Ha=g(B(286));var n=B(84),F=function(){var O=function(x,y){O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,l){q.__proto__=l}||function(q,l){for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(q[h]=l[h])};return O(x,y)};return function(x,y){function q(){this.constructor=x}O(x,y);x.prototype=null===
y?Object.create(y):(q.prototype=y.prototype,new q)}}();B=function(O){function x(y){var q=y?y:{};y=O.call(this,{attributions:q.attributions,imageSmoothing:q.imageSmoothing,projection:q.projection,resolutions:q.resolutions,state:q.state})||this;y.canvasFunction_=q.canvasFunction;y.canvas_=null;y.renderedRevision_=0;y.ratio_=void 0!==q.ratio?q.ratio:1.5;return y}F(x,O);x.prototype.getImageInternal=function(y,q,l,h){q=this.findNearestResolution(q);var c=this.canvas_;if(c&&this.renderedRevision_==this.getRevision()&&
c.getResolution()==q&&c.getPixelRatio()==l&&(0,n.containsExtent)(c.getExtent(),y))return c;y=y.slice();(0,n.scaleFromCenter)(y,this.ratio_);var e=(0,n.getWidth)(y)/q,a=(0,n.getHeight)(y)/q;(h=this.canvasFunction_.call(this,y,q,l,[e*l,a*l],h))&&(c=new m["default"](y,q,l,h));this.canvas_=c;this.renderedRevision_=this.getRevision();return c};return x}(Ha["default"]);E["default"]=B};
shadow$provide[291]=function(Ha,B,rb,E){function g(c){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return g(c)}function m(){if("function"!==typeof WeakMap)return null;var c=new WeakMap;m=function(){return c};return c}function n(c){return c&&c.__esModule?c:{"default":c}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;
var F=n(B(92)),O=function(c){if(c&&c.__esModule)return c;if(null===c||"object"!==g(c)&&"function"!==typeof c)return{"default":c};var e=m();if(e&&e.has(c))return e.get(c);var a={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor,p;for(p in c)if(Object.prototype.hasOwnProperty.call(c,p)){var A=f?Object.getOwnPropertyDescriptor(c,p):null;A&&(A.get||A.set)?Object.defineProperty(a,p,A):a[p]=c[p]}a["default"]=c;e&&e.set(c,a);return a}(B(286)),x=n(B(232)),y=B(287),q=B(90),l=B(84),h=function(){var c=
function(e,a){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var A in p)Object.prototype.hasOwnProperty.call(p,A)&&(f[A]=p[A])};return c(e,a)};return function(e,a){function f(){this.constructor=e}c(e,a);e.prototype=null===a?Object.create(a):(f.prototype=a.prototype,new f)}}();Ha=function(c){function e(a){var f=c.call(this,{imageSmoothing:a.imageSmoothing,projection:a.projection,resolutions:a.resolutions})||this;f.crossOrigin_=void 0!==a.crossOrigin?
a.crossOrigin:null;f.displayDpi_=void 0!==a.displayDpi?a.displayDpi:96;f.params_=a.params||{};f.url_=a.url;f.imageLoadFunction_=void 0!==a.imageLoadFunction?a.imageLoadFunction:O.defaultImageLoadFunction;f.hidpi_=void 0!==a.hidpi?a.hidpi:!0;f.metersPerUnit_=void 0!==a.metersPerUnit?a.metersPerUnit:1;f.ratio_=void 0!==a.ratio?a.ratio:1;f.useOverlay_=void 0!==a.useOverlay?a.useOverlay:!1;f.image_=null;f.renderedRevision_=0;return f}h(e,c);e.prototype.getParams=function(){return this.params_};e.prototype.getImageInternal=
function(a,f,p,A){f=this.findNearestResolution(f);p=this.hidpi_?p:1;var C=this.image_;if(C&&this.renderedRevision_==this.getRevision()&&C.getResolution()==f&&C.getPixelRatio()==p&&(0,l.containsExtent)(C.getExtent(),a))return C;1!=this.ratio_&&(a=a.slice(),(0,l.scaleFromCenter)(a,this.ratio_));C=(0,l.getWidth)(a)/f;var D=(0,l.getHeight)(a)/f;C=[C*p,D*p];void 0!==this.url_?(A=this.getUrl(this.url_,this.params_,a,C,A),C=new x["default"](a,f,p,A,this.crossOrigin_,this.imageLoadFunction_),C.addEventListener(F["default"].CHANGE,
this.handleImageChange.bind(this))):C=null;this.image_=C;this.renderedRevision_=this.getRevision();return C};e.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};e.prototype.updateParams=function(a){(0,q.assign)(this.params_,a);this.changed()};e.prototype.getUrl=function(a,f,p,A,C){C=this.metersPerUnit_;var D=this.displayDpi_,P=(0,l.getWidth)(p),L=(0,l.getHeight)(p),G=A[0],z=A[1];D=.0254/D;C=z*P>G*L?P*C/(G*D):L*C/(z*D);p=(0,l.getCenter)(p);A={OPERATION:this.useOverlay_?"GETDYNAMICMAPOVERLAYIMAGE":
"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol/source/ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.displayDpi_,SETDISPLAYWIDTH:Math.round(A[0]),SETDISPLAYHEIGHT:Math.round(A[1]),SETVIEWSCALE:C,SETVIEWCENTERX:p[0],SETVIEWCENTERY:p[1]};(0,q.assign)(A,f);return(0,y.appendParams)(a,A)};e.prototype.setImageLoadFunction=function(a){this.image_=null;this.imageLoadFunction_=a;this.changed()};return e}(O["default"]);E["default"]=Ha};
shadow$provide[292]=function(Ha,B,rb,E){function g(a){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"===typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f};return g(a)}function m(){if("function"!==typeof WeakMap)return null;var a=new WeakMap;m=function(){return a};return a}function n(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;
var F=n(B(92)),O=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==g(a)&&"function"!==typeof a)return{"default":a};var f=m();if(f&&f.has(a))return f.get(a);var p={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor,C;for(C in a)if(Object.prototype.hasOwnProperty.call(a,C)){var D=A?Object.getOwnPropertyDescriptor(a,C):null;D&&(D.get||D.set)?Object.defineProperty(p,C,D):p[C]=a[C]}p["default"]=a;f&&f.set(a,p);return p}(B(286)),x=n(B(203)),y=n(B(232)),q=B(90),l=B(107),h=B(84),c=B(134),
e=function(){var a=function(f,p){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,C){A.__proto__=C}||function(A,C){for(var D in C)Object.prototype.hasOwnProperty.call(C,D)&&(A[D]=C[D])};return a(f,p)};return function(f,p){function A(){this.constructor=f}a(f,p);f.prototype=null===p?Object.create(p):(A.prototype=p.prototype,new A)}}();Ha=function(a){function f(p){var A=void 0!==p.crossOrigin?p.crossOrigin:null,C=void 0!==p.imageLoadFunction?p.imageLoadFunction:O.defaultImageLoadFunction;
var D=a.call(this,{attributions:p.attributions,imageSmoothing:p.imageSmoothing,projection:(0,c.get)(p.projection)})||this;D.url_=p.url;D.imageExtent_=p.imageExtent;D.image_=new y["default"](D.imageExtent_,void 0,1,D.url_,A,C);D.imageSize_=p.imageSize?p.imageSize:null;D.image_.addEventListener(F["default"].CHANGE,D.handleImageChange.bind(D));return D}e(f,a);f.prototype.getImageExtent=function(){return this.imageExtent_};f.prototype.getImageInternal=function(p,A,C,D){return(0,h.intersects)(p,this.image_.getExtent())?
this.image_:null};f.prototype.getUrl=function(){return this.url_};f.prototype.handleImageChange=function(p){if(this.image_.getState()==x["default"].LOADED){var A=this.image_.getExtent(),C=this.image_.getImage();if(this.imageSize_){var D=this.imageSize_[0];var P=this.imageSize_[1]}else D=C.width,P=C.height;var L=(0,h.getHeight)(A)/P;A=Math.ceil((0,h.getWidth)(A)/L);A!=D&&(A=(0,l.createCanvasContext2D)(A,P),(0,q.assign)(A,this.getContextOptions()),L=A.canvas,A.drawImage(C,0,0,D,P,0,0,L.width,L.height),
this.image_.setImage(L))}a.prototype.handleImageChange.call(this,p)};return f}(O["default"]);E["default"]=Ha};
shadow$provide[293]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"}};
shadow$provide[294]=function(Ha,B,rb,E){function g(D){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(P){return typeof P}:function(P){return P&&"function"===typeof Symbol&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P};return g(D)}function m(){if("function"!==typeof WeakMap)return null;var D=new WeakMap;m=function(){return D};return D}function n(D){return D&&D.__esModule?D:{"default":D}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;
var F=B(263),O=n(B(92)),x=function(D){if(D&&D.__esModule)return D;if(null===D||"object"!==g(D)&&"function"!==typeof D)return{"default":D};var P=m();if(P&&P.has(D))return P.get(D);var L={},G=Object.defineProperty&&Object.getOwnPropertyDescriptor,z;for(z in D)if(Object.prototype.hasOwnProperty.call(D,z)){var J=G?Object.getOwnPropertyDescriptor(D,z):null;J&&(J.get||J.set)?Object.defineProperty(L,z,J):L[z]=D[z]}L["default"]=D;P&&P.set(D,L);return L}(B(286)),y=n(B(232)),q=n(B(293)),l=B(287),h=B(80),c=
B(90),e=B(264),a=B(101),f=B(84),p=B(134),A=function(){var D=function(P,L){D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,z){G.__proto__=z}||function(G,z){for(var J in z)Object.prototype.hasOwnProperty.call(z,J)&&(G[J]=z[J])};return D(P,L)};return function(P,L){function G(){this.constructor=P}D(P,L);P.prototype=null===L?Object.create(L):(G.prototype=L.prototype,new G)}}(),C=[101,101];Ha=function(D){function P(L){var G=L?L:{};L=D.call(this,{attributions:G.attributions,imageSmoothing:G.imageSmoothing,
projection:G.projection,resolutions:G.resolutions})||this;L.crossOrigin_=void 0!==G.crossOrigin?G.crossOrigin:null;L.url_=G.url;L.imageLoadFunction_=void 0!==G.imageLoadFunction?G.imageLoadFunction:x.defaultImageLoadFunction;L.params_=G.params||{};L.v13_=!0;L.updateV13_();L.serverType_=G.serverType;L.hidpi_=void 0!==G.hidpi?G.hidpi:!0;L.image_=null;L.imageSize_=[0,0];L.renderedRevision_=0;L.ratio_=void 0!==G.ratio?G.ratio:1.5;return L}A(P,D);P.prototype.getFeatureInfoUrl=function(L,G,z,J){if(void 0!==
this.url_){z=(0,p.get)(z);var K=this.getProjection();K&&K!==z&&(G=(0,e.calculateSourceResolution)(K,z,L,G),L=(0,p.transform)(L,z,K));var R=(0,f.getForViewAndSize)(L,G,0,C),U={SERVICE:"WMS",VERSION:F.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};(0,c.assign)(U,this.params_,J);J=Math.floor((R[3]-L[1])/G);U[this.v13_?"I":"X"]=Math.floor((L[0]-R[0])/G);U[this.v13_?"J":"Y"]=J;return this.getRequestUrl_(R,C,1,K||z,U)}};P.prototype.getLegendUrl=
function(L,G){if(void 0!==this.url_){var z={SERVICE:"WMS",VERSION:F.DEFAULT_WMS_VERSION,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===G||void 0===G.LAYER){var J=this.params_.LAYERS;if(Array.isArray(J)&&1!==J.length)return;z.LAYER=J}void 0!==L&&(J=this.getProjection()?this.getProjection().getMetersPerUnit():1,z.SCALE=L*J/2.8E-4);(0,c.assign)(z,G);return(0,l.appendParams)(this.url_,z)}};P.prototype.getParams=function(){return this.params_};P.prototype.getImageInternal=function(L,G,z,J){if(void 0===
this.url_)return null;G=this.findNearestResolution(G);1==z||this.hidpi_&&void 0!==this.serverType_||(z=1);var K=G/z,R=(0,f.getCenter)(L),U=Math.ceil((0,f.getWidth)(L)/K),ka=Math.ceil((0,f.getHeight)(L)/K);U=(0,f.getForViewAndSize)(R,K,0,[U,ka]);ka=Math.ceil(this.ratio_*(0,f.getWidth)(L)/K);L=Math.ceil(this.ratio_*(0,f.getHeight)(L)/K);R=(0,f.getForViewAndSize)(R,K,0,[ka,L]);if((L=this.image_)&&this.renderedRevision_==this.getRevision()&&L.getResolution()==G&&L.getPixelRatio()==z&&(0,f.containsExtent)(L.getExtent(),
U))return L;U={SERVICE:"WMS",VERSION:F.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};(0,c.assign)(U,this.params_);this.imageSize_[0]=Math.round((0,f.getWidth)(R)/K);this.imageSize_[1]=Math.round((0,f.getHeight)(R)/K);J=this.getRequestUrl_(R,this.imageSize_,z,J,U);this.image_=new y["default"](R,G,z,J,this.crossOrigin_,this.imageLoadFunction_);this.renderedRevision_=this.getRevision();this.image_.addEventListener(O["default"].CHANGE,this.handleImageChange.bind(this));return this.image_};
P.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};P.prototype.getRequestUrl_=function(L,G,z,J,K){(0,h.assert)(void 0!==this.url_,9);K[this.v13_?"CRS":"SRS"]=J.getCode();"STYLES"in this.params_||(K.STYLES="");if(1!=z)switch(this.serverType_){case q["default"].GEOSERVER:z=90*z+.5|0;K.FORMAT_OPTIONS="FORMAT_OPTIONS"in K?K.FORMAT_OPTIONS+(";dpi:"+z):"dpi:"+z;break;case q["default"].MAPSERVER:K.MAP_RESOLUTION=90*z;break;case q["default"].CARMENTA_SERVER:case q["default"].QGIS:K.DPI=
90*z;break;default:(0,h.assert)(!1,8)}K.WIDTH=G[0];K.HEIGHT=G[1];G=J.getAxisOrientation();L=this.v13_&&"ne"==G.substr(0,2)?[L[1],L[0],L[3],L[2]]:L;K.BBOX=L.join(",");return(0,l.appendParams)(this.url_,K)};P.prototype.getUrl=function(){return this.url_};P.prototype.setImageLoadFunction=function(L){this.image_=null;this.imageLoadFunction_=L;this.changed()};P.prototype.setUrl=function(L){L!=this.url_&&(this.url_=L,this.image_=null,this.changed())};P.prototype.updateParams=function(L){(0,c.assign)(this.params_,
L);this.updateV13_();this.image_=null;this.changed()};P.prototype.updateV13_=function(){var L=this.params_.VERSION||F.DEFAULT_WMS_VERSION;this.v13_=0<=(0,a.compareVersions)(L,"1.3")};return P}(x["default"]);E["default"]=Ha};
shadow$provide[295]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.ATTRIBUTION=void 0;Ha=function(m){return m&&m.__esModule?m:{"default":m}}(B(279));var g=function(){var m=function(n,F){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,x){O.__proto__=x}||function(O,x){for(var y in x)Object.prototype.hasOwnProperty.call(x,y)&&(O[y]=x[y])};return m(n,F)};return function(n,F){function O(){this.constructor=n}m(n,F);n.prototype=null===F?Object.create(F):
(O.prototype=F.prototype,new O)}}();E.ATTRIBUTION='\x26#169; \x3ca href\x3d"https://www.openstreetmap.org/copyright" target\x3d"_blank"\x3eOpenStreetMap\x3c/a\x3e contributors.';Ha=function(m){function n(F){F=F||{};return m.call(this,{attributions:void 0!==F.attributions?F.attributions:['\x26#169; \x3ca href\x3d"https://www.openstreetmap.org/copyright" target\x3d"_blank"\x3eOpenStreetMap\x3c/a\x3e contributors.'],attributionsCollapsible:!1,cacheSize:F.cacheSize,crossOrigin:void 0!==F.crossOrigin?
F.crossOrigin:"anonymous",imageSmoothing:F.imageSmoothing,maxZoom:void 0!==F.maxZoom?F.maxZoom:19,opaque:void 0!==F.opaque?F.opaque:!0,reprojectionErrorThreshold:F.reprojectionErrorThreshold,tileLoadFunction:F.tileLoadFunction,transition:F.transition,url:void 0!==F.url?F.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:F.wrapX})||this}g(n,m);return n}(Ha["default"]);E["default"]=Ha};
shadow$provide[296]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=function(m){return m&&m.__esModule?m:{"default":m}}(B(100));var g=function(){var m=function(n,F){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,x){O.__proto__=x}||function(O,x){for(var y in x)Object.prototype.hasOwnProperty.call(x,y)&&(O[y]=x[y])};return m(n,F)};return function(n,F){function O(){this.constructor=n}m(n,F);n.prototype=null===F?Object.create(F):(O.prototype=
F.prototype,new O)}}();Ha=function(m){function n(F){return m.call(this,F?F:{})||this}g(n,m);return n}(Ha["default"]);E["default"]=Ha};
shadow$provide[297]=function(Ha,B,rb,E){function g(h){return h&&h.__esModule?h:{"default":h}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=g(B(223));var m=g(B(125)),n=B(261),F=B(90),O=B(81),x=B(84),y=B(108),q=B(134),l=function(){var h=function(c,e){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,f){a.__proto__=f}||function(a,f){for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(a[p]=f[p])};return h(c,e)};return function(c,e){function a(){this.constructor=
c}h(c,e);c.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}}();B=function(h){function c(e){e=h.call(this,e)||this;e.image_=null;return e}l(c,h);c.prototype.getImage=function(){return this.image_?this.image_.getImage():null};c.prototype.prepareFrame=function(e){var a=e.layerStatesArray[e.layerIndex],f=e.pixelRatio,p=e.viewState,A=p.resolution,C=this.getLayer().getSource(),D=e.viewHints;e=e.extent;void 0!==a.extent&&(e=(0,x.getIntersection)(e,(0,q.fromUserExtent)(a.extent,p.projection)));
D[m["default"].ANIMATING]||D[m["default"].INTERACTING]||(0,x.isEmpty)(e)||(C?(a=p.projection,n.ENABLE_RASTER_REPROJECTION||(p=C.getProjection())&&(a=p),(f=C.getImage(e,A,f,a))&&this.loadImage(f)&&(this.image_=f)):this.image_=null);return!!this.image_};c.prototype.renderFrame=function(e,a){var f=this.image_,p=f.getExtent(),A=f.getResolution(),C=f.getPixelRatio(),D=e.layerStatesArray[e.layerIndex],P=e.pixelRatio,L=e.viewState,G=L.center,z=e.size,J=P*A/(L.resolution*C),K=Math.round(z[0]*P),R=Math.round(z[1]*
P);if(z=L.rotation){var U=Math.round(Math.sqrt(K*K+R*R));R=K=U}(0,O.compose)(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/P,1/P,z,-K/2,-R/2);(0,O.makeInverse)(this.inversePixelTransform,this.pixelTransform);z=(0,y.createTransformString)(this.pixelTransform);this.useContainer(a,z,D.opacity);a=this.context;U=a.canvas;U.width!=K||U.height!=R?(U.width=K,U.height=R):this.containerReused||a.clearRect(0,0,K,R);var ka=!1;D.extent&&(L=(0,q.fromUserExtent)(D.extent,L.projection),(ka=!(0,x.containsExtent)(L,
e.extent)&&(0,x.intersects)(L,e.extent))&&this.clipUnrotated(a,e,L));f=f.getImage();p=(0,O.compose)(this.tempTransform,K/2,R/2,J,J,0,C*(p[0]-G[0])/A,C*(G[1]-p[3])/A);this.renderedResolution=A*P/C;A=p[4];C=p[5];P=f.width*p[0];p=f.height*p[3];(0,F.assign)(a,this.getLayer().getSource().getContextOptions());this.preRender(a,e);.5<=P&&.5<=p&&(D=D.opacity,G=void 0,1!==D&&(G=this.context.globalAlpha,this.context.globalAlpha=D),this.context.drawImage(f,0,0,+f.width,+f.height,Math.round(A),Math.round(C),Math.round(P),
Math.round(p)),1!==D&&(this.context.globalAlpha=G));this.postRender(a,e);ka&&a.restore();z!==U.style.transform&&(U.style.transform=z);return this.container};return c}(Ha["default"]);E["default"]=B};
shadow$provide[298]=function(Ha,B,rb,E){function g(F){return F&&F.__esModule?F:{"default":F}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=g(B(296));var m=g(B(297)),n=function(){var F=function(O,x){F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,q){y.__proto__=q}||function(y,q){for(var l in q)Object.prototype.hasOwnProperty.call(q,l)&&(y[l]=q[l])};return F(O,x)};return function(O,x){function y(){this.constructor=O}F(O,x);O.prototype=null===x?Object.create(x):
(y.prototype=x.prototype,new y)}}();B=function(F){function O(x){return F.call(this,x)||this}n(O,F);O.prototype.createRenderer=function(){return new m["default"](this)};return O}(Ha["default"]);E["default"]=B};
shadow$provide[299]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"}};
shadow$provide[300]=function(Ha,B,rb,E){function g(O){return O&&O.__esModule?O:{"default":O}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=g(B(100));var m=g(B(299)),n=B(90),F=function(){var O=function(x,y){O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,l){q.__proto__=l}||function(q,l){for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(q[h]=l[h])};return O(x,y)};return function(x,y){function q(){this.constructor=x}O(x,y);x.prototype=null===y?Object.create(y):
(q.prototype=y.prototype,new q)}}();B=function(O){function x(y){y=y?y:{};var q=(0,n.assign)({},y);delete q.preload;delete q.useInterimTilesOnError;q=O.call(this,q)||this;q.setPreload(void 0!==y.preload?y.preload:0);q.setUseInterimTilesOnError(void 0!==y.useInterimTilesOnError?y.useInterimTilesOnError:!0);return q}F(x,O);x.prototype.getPreload=function(){return this.get(m["default"].PRELOAD)};x.prototype.setPreload=function(y){this.set(m["default"].PRELOAD,y)};x.prototype.getUseInterimTilesOnError=
function(){return this.get(m["default"].USE_INTERIM_TILES_ON_ERROR)};x.prototype.setUseInterimTilesOnError=function(y){this.set(m["default"].USE_INTERIM_TILES_ON_ERROR,y)};return x}(Ha["default"]);E["default"]=B};
shadow$provide[301]=function(Ha,B,rb,E){function g(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=g(B(223));var m=g(B(270)),n=g(B(121)),F=B(81),O=B(90),x=B(84),y=B(108),q=B(134),l=B(78),h=B(76),c=function(){var e=function(a,f){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,A){p.__proto__=A}||function(p,A){for(var C in A)Object.prototype.hasOwnProperty.call(A,C)&&(p[C]=A[C])};return e(a,f)};return function(a,f){function p(){this.constructor=
a}e(a,f);a.prototype=null===f?Object.create(f):(p.prototype=f.prototype,new p)}}();B=function(e){function a(f){f=e.call(this,f)||this;f.extentChanged=!0;f.renderedExtent_=null;f.renderedProjection=null;f.renderedTiles=[];f.newTiles_=!1;f.tmpExtent=(0,x.createEmpty)();f.tmpTileRange_=new m["default"](0,0,0,0);return f}c(a,e);a.prototype.isDrawableTile=function(f){var p=this.getLayer();f=f.getState();p=p.getUseInterimTilesOnError();return f==n["default"].LOADED||f==n["default"].EMPTY||f==n["default"].ERROR&&
!p};a.prototype.getTile=function(f,p,A,C){var D=C.pixelRatio,P=C.viewState.projection;C=this.getLayer();f=C.getSource().getTile(f,p,A,D,P);f.getState()==n["default"].ERROR&&(C.getUseInterimTilesOnError()?0<C.getPreload()&&(this.newTiles_=!0):f.setState(n["default"].LOADED));this.isDrawableTile(f)||(f=f.getInterimTile());return f};a.prototype.loadedTileCallback=function(f,p,A){return this.isDrawableTile(A)?e.prototype.loadedTileCallback.call(this,f,p,A):!1};a.prototype.prepareFrame=function(f){return!!this.getLayer().getSource()};
a.prototype.renderFrame=function(f,p){var A=f.layerStatesArray[f.layerIndex],C=f.viewState,D=C.projection,P=C.resolution,L=C.center,G=C.rotation;C=f.pixelRatio;var z=this.getLayer(),J=z.getSource(),K=J.getRevision(),R=J.getTileGridForProjection(D),U=R.getZForResolution(P,J.zDirection),ka=R.getResolution(U),ba=f.extent,da=A.extent&&(0,q.fromUserExtent)(A.extent,D);da&&(ba=(0,x.getIntersection)(ba,(0,q.fromUserExtent)(A.extent,D)));var ja=J.getTilePixelRatio(C),Z=Math.round(f.size[0]*ja),Q=Math.round(f.size[1]*
ja);if(G){var r=Math.round(Math.sqrt(Z*Z+Q*Q));Q=Z=r}r=ka*Z/2/ja;var N=ka*Q/2/ja;L=[L[0]-r,L[1]-N,L[0]+r,L[1]+N];var ea=R.getTileRangeForExtentAndZ(ba,U);r={};r[U]={};var aa=this.createLoadedTileFinder(J,D,r),va=this.tmpExtent,ta=this.tmpTileRange_;this.newTiles_=!1;for(var Da=ea.minX;Da<=ea.maxX;++Da)for(var $a=ea.minY;$a<=ea.maxY;++$a){N=this.getTile(U,Da,$a,f);if(this.isDrawableTile(N)){var kb=(0,l.getUid)(this);if(N.getState()==n["default"].LOADED){r[U][N.tileCoord.toString()]=N;var sa=N.inTransition(kb);
this.newTiles_||!sa&&-1!==this.renderedTiles.indexOf(N)||(this.newTiles_=!0)}if(1===N.getAlpha(kb,f.time))continue}sa=R.getTileCoordChildTileRange(N.tileCoord,ta,va);kb=!1;sa&&(kb=aa(U+1,sa));kb||R.forEachTileCoordParentTileRange(N.tileCoord,aa,ta,va)}P=ka/P;(0,F.compose)(this.pixelTransform,f.size[0]/2,f.size[1]/2,1/ja,1/ja,G,-Z/2,-Q/2);G=(0,y.createTransformString)(this.pixelTransform);this.useContainer(p,G,A.opacity);p=this.context;ea=p.canvas;(0,F.makeInverse)(this.inversePixelTransform,this.pixelTransform);
(0,F.compose)(this.tempTransform,Z/2,Q/2,P,P,0,-Z/2,-Q/2);ea.width!=Z||ea.height!=Q?(ea.width=Z,ea.height=Q):this.containerReused||p.clearRect(0,0,Z,Q);da&&this.clipUnrotated(p,f,da);(0,O.assign)(p,J.getContextOptions());this.preRender(p,f);this.renderedTiles.length=0;da=Object.keys(r).map(Number);da.sort(h.numberSafeCompareFunction);if(1!==A.opacity||this.containerReused&&!J.getOpaque(f.viewState.projection)){var Ta=[];var Wa=[]}else da=da.reverse();for(Z=da.length-1;0<=Z;--Z){Q=da[Z];N=J.getTilePixelSize(Q,
C,D);Da=R.getResolution(Q)/ka;aa=N[0]*Da*P;va=N[1]*Da*P;ta=R.getTileCoordForCoordAndZ((0,x.getTopLeft)(L),Q);N=R.getTileCoordExtent(ta);kb=(0,F.apply)(this.tempTransform,[ja*(N[0]-L[0])/ka,ja*(L[3]-N[3])/ka]);var Ea=ja*J.getGutterForProjection(D),ua=r[Q],V;for(V in ua){N=ua[V];$a=N.tileCoord;Da=kb[0]-(ta[1]-$a[1])*aa;sa=Math.round(Da+aa);$a=kb[1]-(ta[2]-$a[2])*va;var W=Math.round($a+va);Da=Math.round(Da);$a=Math.round($a);var ca=sa-Da,fa=W-$a,qa=U===Q;sa=qa&&1!==N.getAlpha((0,l.getUid)(this),f.time);
if(!sa)if(Ta){p.save();W=[Da,$a,Da+ca,$a,Da+ca,$a+fa,Da,$a+fa];for(var pa=0,Ga=Ta.length;pa<Ga;++pa)if(U!==Q&&Q<Wa[pa]){var na=Ta[pa];p.beginPath();p.moveTo(W[0],W[1]);p.lineTo(W[2],W[3]);p.lineTo(W[4],W[5]);p.lineTo(W[6],W[7]);p.moveTo(na[6],na[7]);p.lineTo(na[4],na[5]);p.lineTo(na[2],na[3]);p.lineTo(na[0],na[1]);p.clip()}Ta.push(W);Wa.push(Q)}else p.clearRect(Da,$a,ca,fa);this.drawTileImage(N,f,Da,$a,ca,fa,Ea,qa,A.opacity);Ta&&!sa&&p.restore();this.renderedTiles.push(N);this.updateUsedTiles(f.usedTiles,
J,N)}}this.renderedRevision=K;this.renderedResolution=ka;this.extentChanged=!this.renderedExtent_||!(0,x.equals)(this.renderedExtent_,L);this.renderedExtent_=L;this.renderedPixelRatio=C;this.renderedProjection=D;this.manageTilePyramid(f,J,R,C,D,ba,U,z.getPreload());this.scheduleExpireCache(f,J);this.postRender(p,f);A.extent&&p.restore();G!==ea.style.transform&&(ea.style.transform=G);return this.container};a.prototype.drawTileImage=function(f,p,A,C,D,P,L,G,z){var J=this.getTileImage(f);if(J){var K=
(0,l.getUid)(this),R=G?f.getAlpha(K,p.time):1;z*=R;var U=z!==this.context.globalAlpha;U&&(this.context.save(),this.context.globalAlpha=z);this.context.drawImage(J,L,L,J.width-2*L,J.height-2*L,A,C,D,P);U&&this.context.restore();1!==R?p.animate=!0:G&&f.endTransition(K)}};a.prototype.getImage=function(){var f=this.context;return f?f.canvas:null};a.prototype.getTileImage=function(f){return f.getImage()};a.prototype.scheduleExpireCache=function(f,p){p.canExpireCache()&&(p=function(A,C,D){C=(0,l.getUid)(A);
C in D.usedTiles&&A.expireCache(D.viewState.projection,D.usedTiles[C])}.bind(null,p),f.postRenderFunctions.push(p))};a.prototype.updateUsedTiles=function(f,p,A){p=(0,l.getUid)(p);p in f||(f[p]={});f[p][A.getKey()]=!0};a.prototype.manageTilePyramid=function(f,p,A,C,D,P,L,G,z){var J=(0,l.getUid)(p);J in f.wantedTiles||(f.wantedTiles[J]={});var K=f.wantedTiles[J];f=f.tileQueue;var R=0,U,ka,ba;for(ba=A.getMinZoom();ba<=L;++ba){var da=A.getTileRangeForExtentAndZ(P,ba,da);var ja=A.getResolution(ba);for(U=
da.minX;U<=da.maxX;++U)for(ka=da.minY;ka<=da.maxY;++ka)if(L-ba<=G){++R;var Z=p.getTile(ba,U,ka,C,D);Z.getState()==n["default"].IDLE&&(K[Z.getKey()]=!0,f.isKeyQueued(Z.getKey())||f.enqueue([Z,J,A.getTileCoordCenter(Z.tileCoord),ja]));void 0!==z&&z(Z)}else p.useTile(ba,U,ka,D)}p.updateCacheSize(R,D)};return a}(Ha["default"]);E["default"]=B};
shadow$provide[302]=function(Ha,B,rb,E){function g(F){return F&&F.__esModule?F:{"default":F}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=g(B(300));var m=g(B(301)),n=function(){var F=function(O,x){F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,q){y.__proto__=q}||function(y,q){for(var l in q)Object.prototype.hasOwnProperty.call(q,l)&&(y[l]=q[l])};return F(O,x)};return function(O,x){function y(){this.constructor=O}F(O,x);O.prototype=null===x?Object.create(x):
(y.prototype=x.prototype,new y)}}();B=function(F){function O(x){return F.call(this,x)||this}n(O,F);O.prototype.createRenderer=function(){return new m["default"](this)};return O}(Ha["default"]);E["default"]=B};
shadow$provide[303]=function(Ha,B,rb,E){function g(ba){return ba&&ba.__esModule?ba:{"default":ba}}function m(ba,da,ja){if(J)return new ImageData(ba,da,ja);da=K.createImageData(da,ja);da.data.set(ba);return da}function n(ba){var da=!0;try{new ImageData(10,10)}catch(ja){da=!1}return function(ja){var Z=ja.buffers,Q=ja.meta,r=ja.width,N=ja.height,ea=Z.length,aa=Z[0].byteLength;if(ja.imageOps){aa=Array(ea);for(ja=0;ja<ea;++ja){var va=ja;var ta=new Uint8ClampedArray(Z[ja]);var Da=r,$a=N;ta=da?new ImageData(ta,
Da,$a):{data:ta,width:Da,height:$a};aa[va]=ta}r=ba(aa,Q).data}else{r=new Uint8ClampedArray(aa);N=Array(ea);va=Array(ea);for(ja=0;ja<ea;++ja)N[ja]=new Uint8ClampedArray(Z[ja]),va[ja]=[0,0,0,0];for(Z=0;Z<aa;Z+=4){for(ja=0;ja<ea;++ja)ta=N[ja],va[ja][0]=ta[Z],va[ja][1]=ta[Z+1],va[ja][2]=ta[Z+2],va[ja][3]=ta[Z+3];ja=ba(va,Q);r[Z]=ja[0];r[Z+1]=ja[1];r[Z+2]=ja[2];r[Z+3]=ja[3]}}return r.buffer}}function F(ba,da){var ja=Object.keys(ba.lib||{}).map(function(Z){return"var "+Z+" \x3d "+ba.lib[Z].toString()+";"}).concat(["var __minion__ \x3d ("+
n.toString()+")(",ba.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer \x3d __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]);ja=new Blob(ja,{type:"text/javascript"});ja=URL.createObjectURL(ja);ja=new Worker(ja);ja.addEventListener("message",da);return ja}function O(ba,da){var ja=n(ba.operation),Z=!1;return{postMessage:function(Q){setTimeout(function(){Z||da({data:{buffer:ja(Q),meta:Q.meta}})},0)},terminate:function(){Z=
!0}}}function x(ba,da){var ja=ba.getRenderer();if(!ja)throw Error("Unsupported layer type: "+ba);if(!ja.prepareFrame(da))return null;ba=da.size[0];var Z=da.size[1];if(0===ba||0===Z)return null;da=ja.renderFrame(da,null);if(da)var Q=da.firstElementChild;if(!(Q instanceof HTMLCanvasElement))throw Error("Unsupported rendered element: "+Q);if(Q.width===ba&&Q.height===Z)return Q.getContext("2d").getImageData(0,0,ba,Z);ka?(da=ka.canvas,da.width!==ba||da.height!==Z?ka=(0,P.createCanvasContext2D)(ba,Z):ka.clearRect(0,
0,ba,Z)):ka=(0,P.createCanvasContext2D)(ba,Z);ka.drawImage(Q,0,0,ba,Z);return ka.getImageData(0,0,ba,Z)}function y(ba){return ba.map(function(da){return da.getLayerState()})}function q(ba){for(var da=ba.length,ja=Array(da),Z=0;Z<da;++Z){var Q=Z,r=void 0,N=ba[Z];N instanceof a["default"]?N instanceof C["default"]?r=new p["default"]({source:N}):N instanceof e["default"]&&(r=new c["default"]({source:N})):r=N;ja[Q]=r}return ja}Object.defineProperty(E,"__esModule",{value:!0});E.newImageData=m;E["default"]=
E.RasterSourceEvent=E.Processor=void 0;Ha=g(B(75));rb=g(B(88));var l=g(B(92)),h=g(B(289)),c=g(B(298)),e=g(B(286)),a=g(B(242)),f=g(B(99)),p=g(B(302)),A=g(B(122)),C=g(B(273)),D=B(90),P=B(107),L=B(81),G=B(84),z=function(){var ba=function(da,ja){ba=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,Q){Z.__proto__=Q}||function(Z,Q){for(var r in Q)Object.prototype.hasOwnProperty.call(Q,r)&&(Z[r]=Q[r])};return ba(da,ja)};return function(da,ja){function Z(){this.constructor=da}ba(da,ja);da.prototype=
null===ja?Object.create(ja):(Z.prototype=ja.prototype,new Z)}}(),J=!0;try{new ImageData(10,10)}catch(ba){J=!1}var K=document.createElement("canvas").getContext("2d"),R=function(ba){function da(ja){var Z=ba.call(this)||this;Z._imageOps=!!ja.imageOps;var Q=0===ja.threads?0:Z._imageOps?1:ja.threads||1;var r=[];if(Q)for(var N=0;N<Q;++N)r[N]=F(ja,Z._onWorkerMessage.bind(Z,N));else r[0]=O(ja,Z._onWorkerMessage.bind(Z,0));Z._workers=r;Z._queue=[];Z._maxQueueLength=ja.queue||Infinity;Z._running=0;Z._dataLookup=
{};Z._job=null;return Z}z(da,ba);da.prototype.process=function(ja,Z,Q){this._enqueue({inputs:ja,meta:Z,callback:Q});this._dispatch()};da.prototype._enqueue=function(ja){for(this._queue.push(ja);this._queue.length>this._maxQueueLength;)this._queue.shift().callback(null,null)};da.prototype._dispatch=function(){if(0===this._running&&0<this._queue.length){var ja=this._queue.shift();this._job=ja;var Z=ja.inputs[0].width,Q=ja.inputs[0].height,r=ja.inputs.map(function(kb){return kb.data.buffer}),N=this._workers.length;
this._running=N;if(1===N)this._workers[0].postMessage({buffers:r,meta:ja.meta,imageOps:this._imageOps,width:Z,height:Q},r);else for(var ea=4*Math.ceil(ja.inputs[0].data.length/4/N),aa=0;aa<N;++aa){for(var va=aa*ea,ta=[],Da=0,$a=r.length;Da<$a;++Da)ta.push(r[Da].slice(va,va+ea));this._workers[aa].postMessage({buffers:ta,meta:ja.meta,imageOps:this._imageOps,width:Z,height:Q},ta)}}};da.prototype._onWorkerMessage=function(ja,Z){this.disposed||(this._dataLookup[ja]=Z.data,--this._running,0===this._running&&
this._resolveJob())};da.prototype._resolveJob=function(){var ja=this._job,Z=this._workers.length;if(1===Z){var Q=new Uint8ClampedArray(this._dataLookup[0].buffer);var r=this._dataLookup[0].meta}else{var N=ja.inputs[0].data.length;Q=new Uint8ClampedArray(N);r=Array(N);N=4*Math.ceil(N/4/Z);for(var ea=0;ea<Z;++ea){var aa=ea*N;Q.set(new Uint8ClampedArray(this._dataLookup[ea].buffer),aa);r[ea]=this._dataLookup[ea].meta}}this._job=null;this._dataLookup={};ja.callback(null,m(Q,ja.inputs[0].width,ja.inputs[0].height),
r);this._dispatch()};da.prototype.disposeInternal=function(){for(var ja=0;ja<this._workers.length;++ja)this._workers[ja].terminate();this._workers.length=0};return da}(Ha["default"]);E.Processor=R;var U=function(ba){function da(ja,Z,Q){ja=ba.call(this,ja)||this;ja.extent=Z.extent;ja.resolution=Z.viewState.resolution/Z.pixelRatio;ja.data=Q;return ja}z(da,ba);return da}(rb["default"]);E.RasterSourceEvent=U;B=function(ba){function da(ja){var Z=ba.call(this,{projection:null})||this;Z.processor_=null;
Z.operationType_=void 0!==ja.operationType?ja.operationType:"pixel";Z.threads_=void 0!==ja.threads?ja.threads:1;Z.layers_=q(ja.sources);for(var Q=Z.changed.bind(Z),r=0,N=Z.layers_.length;r<N;++r)Z.layers_[r].addEventListener(l["default"].CHANGE,Q);Z.tileQueue_=new A["default"](function(){return 1},Z.changed.bind(Z));Z.renderedImageCanvas_=null;Z.frameState_={animate:!1,coordinateToPixelTransform:(0,L.create)(),declutterTree:null,extent:null,index:0,layerIndex:0,layerStatesArray:y(Z.layers_),pixelRatio:1,
pixelToCoordinateTransform:(0,L.create)(),postRenderFunctions:[],size:[0,0],tileQueue:Z.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}};Z.setAttributions(function(ea){for(var aa=[],va=0,ta=ja.sources.length;va<ta;++va){var Da=ja.sources[va];Da=(Da instanceof a["default"]?Da:Da.getSource()).getAttributions();"function"===typeof Da&&(Da=Da(ea),aa.push.apply(aa,Da))}return 0!==aa.length?aa:null});void 0!==ja.operation&&Z.setOperation(ja.operation,ja.lib);return Z}
z(da,ba);da.prototype.setOperation=function(ja,Z){this.processor_&&this.processor_.dispose();this.processor_=new R({operation:ja,imageOps:"image"===this.operationType_,queue:1,lib:Z,threads:this.threads_});this.changed()};da.prototype.updateFrameState_=function(ja,Z,Q){var r=(0,D.assign)({},this.frameState_);r.viewState=(0,D.assign)({},r.viewState);var N=(0,G.getCenter)(ja);r.extent=ja.slice();r.size[0]=Math.round((0,G.getWidth)(ja)/Z);r.size[1]=Math.round((0,G.getHeight)(ja)/Z);r.time=Infinity;ja=
r.viewState;ja.center=N;ja.projection=Q;ja.resolution=Z;return r};da.prototype.allSourcesReady_=function(){for(var ja=!0,Z,Q=0,r=this.layers_.length;Q<r;++Q)if(Z=this.layers_[Q].getSource(),Z.getState()!==f["default"].READY){ja=!1;break}return ja};da.prototype.getImage=function(ja,Z,Q,r){if(!this.allSourcesReady_())return null;this.requestedFrameState_=Q=this.updateFrameState_(ja,Z,r);if(this.renderedImageCanvas_){r=this.renderedImageCanvas_.getResolution();var N=this.renderedImageCanvas_.getExtent();
Z===r&&(0,G.equals)(ja,N)||(this.renderedImageCanvas_=null)}this.renderedImageCanvas_&&this.getRevision()===this.renderedRevision_||this.processSources_();Q.tileQueue.loadMoreTiles(16,16);Q.animate&&requestAnimationFrame(this.changed.bind(this));return this.renderedImageCanvas_};da.prototype.processSources_=function(){for(var ja=this.requestedFrameState_,Z=this.layers_.length,Q=Array(Z),r=0;r<Z;++r){ja.layerIndex=r;var N=x(this.layers_[r],ja);if(N)Q[r]=N;else return}Z={};this.dispatchEvent(new U("beforeoperations",
ja,Z));this.processor_.process(Q,Z,this.onWorkerComplete_.bind(this,ja))};da.prototype.onWorkerComplete_=function(ja,Z,Q,r){if(!Z&&Q){Z=ja.extent;var N=ja.viewState.resolution;if(N===this.requestedFrameState_.viewState.resolution&&(0,G.equals)(Z,this.requestedFrameState_.extent)){if(this.renderedImageCanvas_)var ea=this.renderedImageCanvas_.getImage().getContext("2d");else{ea=Math.round((0,G.getWidth)(Z)/N);var aa=Math.round((0,G.getHeight)(Z)/N);ea=(0,P.createCanvasContext2D)(ea,aa);this.renderedImageCanvas_=
new h["default"](Z,N,1,ea.canvas)}ea.putImageData(Q,0,0);this.changed();this.renderedRevision_=this.getRevision();this.dispatchEvent(new U("afteroperations",ja,r))}}};da.prototype.getImageInternal=function(){return null};da.prototype.disposeInternal=function(){this.processor_&&this.processor_.dispose();ba.prototype.disposeInternal.call(this)};return da}(e["default"]);var ka=null;E["default"]=B};
shadow$provide[304]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=function(O){return O&&O.__esModule?O:{"default":O}}(B(279));B=B(295);var g=function(){var O=function(x,y){O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,l){q.__proto__=l}||function(q,l){for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(q[h]=l[h])};return O(x,y)};return function(x,y){function q(){this.constructor=x}O(x,y);x.prototype=null===y?Object.create(y):
(q.prototype=y.prototype,new q)}}(),m=['Map tiles by \x3ca href\x3d"https://stamen.com/" target\x3d"_blank"\x3eStamen Design\x3c/a\x3e, under \x3ca href\x3d"https://creativecommons.org/licenses/by/3.0/" target\x3d"_blank"\x3eCC BY 3.0\x3c/a\x3e.',B.ATTRIBUTION],n={terrain:{extension:"jpg",opaque:!0},"terrain-background":{extension:"jpg",opaque:!0},"terrain-labels":{extension:"png",opaque:!1},"terrain-lines":{extension:"png",opaque:!1},"toner-background":{extension:"png",opaque:!0},toner:{extension:"png",
opaque:!0},"toner-hybrid":{extension:"png",opaque:!1},"toner-labels":{extension:"png",opaque:!1},"toner-lines":{extension:"png",opaque:!1},"toner-lite":{extension:"png",opaque:!0},watercolor:{extension:"jpg",opaque:!0}},F={terrain:{minZoom:0,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:0,maxZoom:18}};B=function(O){function x(y){var q=y.layer.indexOf("-");q=-1==q?y.layer:y.layer.slice(0,q);q=F[q];var l=n[y.layer];return O.call(this,{attributions:m,cacheSize:y.cacheSize,crossOrigin:"anonymous",
imageSmoothing:y.imageSmoothing,maxZoom:void 0!=y.maxZoom?y.maxZoom:q.maxZoom,minZoom:void 0!=y.minZoom?y.minZoom:q.minZoom,opaque:l.opaque,reprojectionErrorThreshold:y.reprojectionErrorThreshold,tileLoadFunction:y.tileLoadFunction,transition:y.transition,url:void 0!==y.url?y.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+y.layer+"/{z}/{x}/{y}."+l.extension,wrapX:y.wrapX})||this}g(x,O);return x}(Ha["default"]);E["default"]=B};
shadow$provide[305]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=function(q){return q&&q.__esModule?q:{"default":q}}(B(276));var g=B(287),m=B(90),n=B(84),F=B(85),O=B(158),x=B(267),y=function(){var q=function(l,h){q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(c[a]=e[a])};return q(l,h)};return function(l,h){function c(){this.constructor=l}q(l,
h);l.prototype=null===h?Object.create(h):(c.prototype=h.prototype,new c)}}();B=function(q){function l(h){var c=h?h:{};h=q.call(this,{attributions:c.attributions,cacheSize:c.cacheSize,crossOrigin:c.crossOrigin,imageSmoothing:c.imageSmoothing,projection:c.projection,reprojectionErrorThreshold:c.reprojectionErrorThreshold,tileGrid:c.tileGrid,tileLoadFunction:c.tileLoadFunction,url:c.url,urls:c.urls,wrapX:void 0!==c.wrapX?c.wrapX:!0,transition:c.transition})||this;h.params_=c.params||{};h.hidpi_=void 0!==
c.hidpi?c.hidpi:!0;h.tmpExtent_=(0,n.createEmpty)();h.setKey(h.getKeyForParams_());return h}y(l,q);l.prototype.getKeyForParams_=function(){var h=0,c=[],e;for(e in this.params_)c[h++]=e+"-"+this.params_[e];return c.join("/")};l.prototype.getParams=function(){return this.params_};l.prototype.getRequestUrl_=function(h,c,e,a,f,p){var A=this.urls;if(A)return f=f.getCode().split(":").pop(),p.SIZE=c[0]+","+c[1],p.BBOX=e.join(","),p.BBOXSR=f,p.IMAGESR=f,p.DPI=Math.round(p.DPI?p.DPI*a:90*a),1==A.length?A=
A[0]:(h=(0,F.modulo)((0,x.hash)(h),A.length),A=A[h]),A=A.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),(0,g.appendParams)(A,p)};l.prototype.getTilePixelRatio=function(h){return this.hidpi_?h:1};l.prototype.updateParams=function(h){(0,m.assign)(this.params_,h);this.setKey(this.getKeyForParams_())};l.prototype.tileUrlFunction=function(h,c,e){var a=this.getTileGrid();a||(a=this.getTileGridForProjection(e));if(!(a.getResolutions().length<=h[0])){1==c||
this.hidpi_||(c=1);var f=a.getTileCoordExtent(h,this.tmpExtent_);a=(0,O.toSize)(a.getTileSize(h[0]),this.tmpSize);1!=c&&(a=(0,O.scale)(a,c,this.tmpSize));var p={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};(0,m.assign)(p,this.params_);return this.getRequestUrl_(h,a,f,c,e,p)}};return l}(Ha["default"]);E["default"]=B};
shadow$provide[306]=function(Ha,B,rb,E){function g(q){return q&&q.__esModule?q:{"default":q}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=g(B(259));var m=g(B(121));rb=g(B(279));var n=B(107),F=B(267),O=B(158),x=function(){var q=function(l,h){q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(c[a]=e[a])};return q(l,h)};return function(l,h){function c(){this.constructor=
l}q(l,h);l.prototype=null===h?Object.create(h):(c.prototype=h.prototype,new c)}}(),y=function(q){function l(h,c,e){h=q.call(this,h,m["default"].LOADED)||this;h.tileSize_=c;h.text_=e;h.canvas_=null;return h}x(l,q);l.prototype.getImage=function(){if(this.canvas_)return this.canvas_;var h=this.tileSize_,c=(0,n.createCanvasContext2D)(h[0],h[1]);c.strokeStyle="grey";c.strokeRect(.5,.5,h[0]+.5,h[1]+.5);c.fillStyle="grey";c.strokeStyle="white";c.textAlign="center";c.textBaseline="middle";c.font="24px sans-serif";
c.lineWidth=4;c.strokeText(this.text_,h[0]/2,h[1]/2,h[0]);c.fillText(this.text_,h[0]/2,h[1]/2,h[0]);return this.canvas_=c.canvas};l.prototype.load=function(){};return l}(Ha["default"]);B=function(q){function l(h){h=h||{};return q.call(this,{opaque:!1,projection:h.projection,tileGrid:h.tileGrid,wrapX:void 0!==h.wrapX?h.wrapX:!0,zDirection:h.zDirection})||this}x(l,q);l.prototype.getTile=function(h,c,e){var a=(0,F.getKeyZXY)(h,c,e);if(this.tileCache.containsKey(a))return this.tileCache.get(a);var f=
(0,O.toSize)(this.tileGrid.getTileSize(h));h=[h,c,e];c=this.getTileCoordForTileUrlFunction(h);f=new y(h,f,c?"z:"+c[0]+" x:"+c[1]+" y:"+c[2]:"none");this.tileCache.set(a,f);return f};return l}(rb["default"]);E["default"]=B};
shadow$provide[307]=function(Ha,B,rb,E){function g(h){return h&&h.__esModule?h:{"default":h}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var m=g(B(99));Ha=g(B(276));var n=B(84),F=B(80),O=B(274),x=B(272),y=B(134),q=B(277),l=function(){var h=function(c,e){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,f){a.__proto__=f}||function(a,f){for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(a[p]=f[p])};return h(c,e)};return function(c,e){function a(){this.constructor=
c}h(c,e);c.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}}();B=function(h){function c(e){var a=h.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,imageSmoothing:e.imageSmoothing,projection:(0,y.get)("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:m["default"].LOADING,tileLoadFunction:e.tileLoadFunction,wrapX:void 0!==e.wrapX?e.wrapX:!0,transition:e.transition})||this;a.tileJSON_=null;a.tileSize_=e.tileSize;if(e.url)if(e.jsonp)(0,
q.jsonp)(e.url,a.handleTileJSONResponse.bind(a),a.handleTileJSONError.bind(a));else{var f=new XMLHttpRequest;f.addEventListener("load",a.onXHRLoad_.bind(a));f.addEventListener("error",a.onXHRError_.bind(a));f.open("GET",e.url);f.send()}else e.tileJSON?a.handleTileJSONResponse(e.tileJSON):(0,F.assert)(!1,51);return a}l(c,h);c.prototype.onXHRLoad_=function(e){e=e.target;if(!e.status||200<=e.status&&300>e.status){var a=void 0;try{a=JSON.parse(e.responseText)}catch(f){this.handleTileJSONError();return}this.handleTileJSONResponse(a)}else this.handleTileJSONError()};
c.prototype.onXHRError_=function(e){this.handleTileJSONError()};c.prototype.getTileJSON=function(){return this.tileJSON_};c.prototype.handleTileJSONResponse=function(e){var a=(0,y.get)("EPSG:4326"),f=this.getProjection();if(void 0!==e.bounds){var p=(0,y.getTransformFromProjections)(a,f);p=(0,n.applyTransform)(e.bounds,p)}var A=e.minzoom||0,C=e.maxzoom||22;this.tileGrid=f=(0,x.createXYZ)({extent:(0,x.extentFromProjection)(f),maxZoom:C,minZoom:A,tileSize:this.tileSize_});this.tileUrlFunction=(0,O.createFromTemplates)(e.tiles,
f);if(void 0!==e.attribution&&!this.getAttributions()){var D=void 0!==p?p:a.getExtent();this.setAttributions(function(P){return(0,n.intersects)(D,P.extent)?[e.attribution]:null})}this.tileJSON_=e;this.setState(m["default"].READY)};c.prototype.handleTileJSONError=function(){this.setState(m["default"].ERROR)};return c}(Ha["default"]);E["default"]=B};
shadow$provide[308]=function(Ha,B,rb,E){function g(p){return p&&p.__esModule?p:{"default":p}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var m=B(263);Ha=g(B(276));var n=g(B(293)),F=B(287),O=B(80),x=B(90),y=B(84),q=B(158),l=B(264),h=B(101),c=B(134),e=B(85),a=B(267),f=function(){var p=function(A,C){p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,P){D.__proto__=P}||function(D,P){for(var L in P)Object.prototype.hasOwnProperty.call(P,L)&&(D[L]=P[L])};return p(A,
C)};return function(A,C){function D(){this.constructor=A}p(A,C);A.prototype=null===C?Object.create(C):(D.prototype=C.prototype,new D)}}();B=function(p){function A(C){var D=C?C:{},P=D.params||{};C=p.call(this,{attributions:D.attributions,cacheSize:D.cacheSize,crossOrigin:D.crossOrigin,imageSmoothing:D.imageSmoothing,opaque:!("TRANSPARENT"in P?P.TRANSPARENT:1),projection:D.projection,reprojectionErrorThreshold:D.reprojectionErrorThreshold,tileClass:D.tileClass,tileGrid:D.tileGrid,tileLoadFunction:D.tileLoadFunction,
url:D.url,urls:D.urls,wrapX:void 0!==D.wrapX?D.wrapX:!0,transition:D.transition})||this;C.gutter_=void 0!==D.gutter?D.gutter:0;C.params_=P;C.v13_=!0;C.serverType_=D.serverType;C.hidpi_=void 0!==D.hidpi?D.hidpi:!0;C.tmpExtent_=(0,y.createEmpty)();C.updateV13_();C.setKey(C.getKeyForParams_());return C}f(A,p);A.prototype.getFeatureInfoUrl=function(C,D,P,L){P=(0,c.get)(P);var G=this.getProjection(),z=this.getTileGrid();z||(z=this.getTileGridForProjection(P));D=z.getZForResolution(D,this.zDirection);D=
z.getTileCoordForCoordAndZ(C,D);if(!(z.getResolutions().length<=D[0])){var J=z.getResolution(D[0]),K=z.getTileCoordExtent(D,this.tmpExtent_);z=(0,q.toSize)(z.getTileSize(D[0]),this.tmpSize);var R=this.gutter_;0!==R&&(z=(0,q.buffer)(z,R,this.tmpSize),K=(0,y.buffer)(K,J*R,K));G&&G!==P&&(J=(0,l.calculateSourceResolution)(G,P,C,J),K=(0,c.transformExtent)(K,P,G),C=(0,c.transform)(C,P,G));R={SERVICE:"WMS",VERSION:m.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};
(0,x.assign)(R,this.params_,L);L=Math.floor((K[3]-C[1])/J);R[this.v13_?"I":"X"]=Math.floor((C[0]-K[0])/J);R[this.v13_?"J":"Y"]=L;return this.getRequestUrl_(D,z,K,1,G||P,R)}};A.prototype.getLegendUrl=function(C,D){if(void 0!==this.urls[0]){var P={SERVICE:"WMS",VERSION:m.DEFAULT_WMS_VERSION,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===D||void 0===D.LAYER){var L=this.params_.LAYERS;if(Array.isArray(L)&&1!==L.length)return;P.LAYER=L}void 0!==C&&(L=this.getProjection()?this.getProjection().getMetersPerUnit():
1,P.SCALE=C*L/2.8E-4);(0,x.assign)(P,D);return(0,F.appendParams)(this.urls[0],P)}};A.prototype.getGutter=function(){return this.gutter_};A.prototype.getParams=function(){return this.params_};A.prototype.getRequestUrl_=function(C,D,P,L,G,z){var J=this.urls;if(J){z.WIDTH=D[0];z.HEIGHT=D[1];z[this.v13_?"CRS":"SRS"]=G.getCode();"STYLES"in this.params_||(z.STYLES="");if(1!=L)switch(this.serverType_){case n["default"].GEOSERVER:D=90*L+.5|0;z.FORMAT_OPTIONS="FORMAT_OPTIONS"in z?z.FORMAT_OPTIONS+(";dpi:"+
D):"dpi:"+D;break;case n["default"].MAPSERVER:z.MAP_RESOLUTION=90*L;break;case n["default"].CARMENTA_SERVER:case n["default"].QGIS:z.DPI=90*L;break;default:(0,O.assert)(!1,52)}G=G.getAxisOrientation();this.v13_&&"ne"==G.substr(0,2)&&(G=P[0],P[0]=P[1],P[1]=G,G=P[2],P[2]=P[3],P[3]=G);z.BBOX=P.join(",");1==J.length?J=J[0]:(C=(0,e.modulo)((0,a.hash)(C),J.length),J=J[C]);return(0,F.appendParams)(J,z)}};A.prototype.getTilePixelRatio=function(C){return this.hidpi_&&void 0!==this.serverType_?C:1};A.prototype.getKeyForParams_=
function(){var C=0,D=[],P;for(P in this.params_)D[C++]=P+"-"+this.params_[P];return D.join("/")};A.prototype.updateParams=function(C){(0,x.assign)(this.params_,C);this.updateV13_();this.setKey(this.getKeyForParams_())};A.prototype.updateV13_=function(){var C=this.params_.VERSION||m.DEFAULT_WMS_VERSION;this.v13_=0<=(0,h.compareVersions)(C,"1.3")};A.prototype.tileUrlFunction=function(C,D,P){var L=this.getTileGrid();L||(L=this.getTileGridForProjection(P));if(!(L.getResolutions().length<=C[0])){1==D||
this.hidpi_&&void 0!==this.serverType_||(D=1);var G=L.getResolution(C[0]),z=L.getTileCoordExtent(C,this.tmpExtent_);L=(0,q.toSize)(L.getTileSize(C[0]),this.tmpSize);var J=this.gutter_;0!==J&&(L=(0,q.buffer)(L,J,this.tmpSize),z=(0,y.buffer)(z,G*J,z));1!=D&&(L=(0,q.scale)(L,D,this.tmpSize));G={SERVICE:"WMS",VERSION:m.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};(0,x.assign)(G,this.params_);return this.getRequestUrl_(C,L,z,D,P,G)}};return A}(Ha["default"]);E["default"]=B};
shadow$provide[309]=function(Ha,B,rb,E){function g(p){return p&&p.__esModule?p:{"default":p}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.CustomTile=void 0;var m=g(B(92)),n=g(B(99));Ha=g(B(259));rb=g(B(273));var F=g(B(121)),O=B(84),x=B(80),y=B(274),q=B(272),l=B(267),h=B(134),c=B(93),e=B(277),a=function(){var p=function(A,C){p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,P){D.__proto__=P}||function(D,P){for(var L in P)Object.prototype.hasOwnProperty.call(P,L)&&
(D[L]=P[L])};return p(A,C)};return function(A,C){function D(){this.constructor=A}p(A,C);A.prototype=null===C?Object.create(C):(D.prototype=C.prototype,new D)}}(),f=function(p){function A(C,D,P,L,G,z){C=p.call(this,C,D)||this;C.src_=P;C.extent_=L;C.preemptive_=G;C.grid_=null;C.keys_=null;C.data_=null;C.jsonp_=z;return C}a(A,p);A.prototype.getImage=function(){return null};A.prototype.getData=function(C){if(!this.grid_||!this.keys_)return null;var D=this.grid_[Math.floor((1-(C[1]-this.extent_[1])/(this.extent_[3]-
this.extent_[1]))*this.grid_.length)];if("string"!==typeof D)return null;C=D.charCodeAt(Math.floor((C[0]-this.extent_[0])/(this.extent_[2]-this.extent_[0])*D.length));93<=C&&C--;35<=C&&C--;C-=32;D=null;C in this.keys_&&(C=this.keys_[C],D=this.data_&&C in this.data_?this.data_[C]:C);return D};A.prototype.forDataAtCoordinate=function(C,D,P){this.state==F["default"].EMPTY&&!0===P?(this.state=F["default"].IDLE,(0,c.listenOnce)(this,m["default"].CHANGE,function(L){D(this.getData(C))},this),this.loadInternal_()):
!0===P?setTimeout(function(){D(this.getData(C))}.bind(this),0):D(this.getData(C))};A.prototype.getKey=function(){return this.src_};A.prototype.handleError_=function(){this.state=F["default"].ERROR;this.changed()};A.prototype.handleLoad_=function(C){this.grid_=C.grid;this.keys_=C.keys;this.data_=C.data;this.state=F["default"].LOADED;this.changed()};A.prototype.loadInternal_=function(){if(this.state==F["default"].IDLE)if(this.state=F["default"].LOADING,this.jsonp_)(0,e.jsonp)(this.src_,this.handleLoad_.bind(this),
this.handleError_.bind(this));else{var C=new XMLHttpRequest;C.addEventListener("load",this.onXHRLoad_.bind(this));C.addEventListener("error",this.onXHRError_.bind(this));C.open("GET",this.src_);C.send()}};A.prototype.onXHRLoad_=function(C){C=C.target;if(!C.status||200<=C.status&&300>C.status){var D=void 0;try{D=JSON.parse(C.responseText)}catch(P){this.handleError_();return}this.handleLoad_(D)}else this.handleError_()};A.prototype.onXHRError_=function(C){this.handleError_()};A.prototype.load=function(){this.preemptive_?
this.loadInternal_():this.setState(F["default"].EMPTY)};return A}(Ha["default"]);E.CustomTile=f;B=function(p){function A(C){var D=p.call(this,{projection:(0,h.get)("EPSG:3857"),state:n["default"].LOADING})||this;D.preemptive_=void 0!==C.preemptive?C.preemptive:!0;D.tileUrlFunction_=y.nullTileUrlFunction;D.template_=void 0;D.jsonp_=C.jsonp||!1;if(C.url)if(D.jsonp_)(0,e.jsonp)(C.url,D.handleTileJSONResponse.bind(D),D.handleTileJSONError.bind(D));else{var P=new XMLHttpRequest;P.addEventListener("load",
D.onXHRLoad_.bind(D));P.addEventListener("error",D.onXHRError_.bind(D));P.open("GET",C.url);P.send()}else C.tileJSON?D.handleTileJSONResponse(C.tileJSON):(0,x.assert)(!1,51);return D}a(A,p);A.prototype.onXHRLoad_=function(C){C=C.target;if(!C.status||200<=C.status&&300>C.status){var D=void 0;try{D=JSON.parse(C.responseText)}catch(P){this.handleTileJSONError();return}this.handleTileJSONResponse(D)}else this.handleTileJSONError()};A.prototype.onXHRError_=function(C){this.handleTileJSONError()};A.prototype.getTemplate=
function(){return this.template_};A.prototype.forDataAtCoordinateAndResolution=function(C,D,P,L){this.tileGrid?(D=this.tileGrid.getZForResolution(D,this.zDirection),D=this.tileGrid.getTileCoordForCoordAndZ(C,D),this.getTile(D[0],D[1],D[2],1,this.getProjection()).forDataAtCoordinate(C,P,L)):!0===L?setTimeout(function(){P(null)},0):P(null)};A.prototype.handleTileJSONError=function(){this.setState(n["default"].ERROR)};A.prototype.handleTileJSONResponse=function(C){var D=(0,h.get)("EPSG:4326"),P=this.getProjection();
if(void 0!==C.bounds){var L=(0,h.getTransformFromProjections)(D,P);L=(0,O.applyTransform)(C.bounds,L)}var G=C.minzoom||0,z=C.maxzoom||22;this.tileGrid=P=(0,q.createXYZ)({extent:(0,q.extentFromProjection)(P),maxZoom:z,minZoom:G});this.template_=C.template;if(G=C.grids){this.tileUrlFunction_=(0,y.createFromTemplates)(G,P);if(void 0!==C.attribution){var J=void 0!==L?L:D.getExtent();this.setAttributions(function(K){return(0,O.intersects)(J,K.extent)?[C.attribution]:null})}this.setState(n["default"].READY)}else this.setState(n["default"].ERROR)};
A.prototype.getTile=function(C,D,P,L,G){var z=(0,l.getKeyZXY)(C,D,P);if(this.tileCache.containsKey(z))return this.tileCache.get(z);C=[C,D,P];D=this.getTileCoordForTileUrlFunction(C,G);L=this.tileUrlFunction_(D,L,G);L=new f(C,void 0!==L?F["default"].IDLE:F["default"].EMPTY,void 0!==L?L:"",this.tileGrid.getTileCoordExtent(C),this.preemptive_,this.jsonp_);this.tileCache.set(z,L);return L};A.prototype.useTile=function(C,D,P){C=(0,l.getKeyZXY)(C,D,P);this.tileCache.containsKey(C)&&this.tileCache.get(C)};
return A}(rb["default"]);E["default"]=B};
shadow$provide[310]=function(Ha,B,rb,E){function g(F){return F&&F.__esModule?F:{"default":F}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=g(B(259));var m=g(B(121)),n=function(){var F=function(O,x){F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,q){y.__proto__=q}||function(y,q){for(var l in q)Object.prototype.hasOwnProperty.call(q,l)&&(y[l]=q[l])};return F(O,x)};return function(O,x){function y(){this.constructor=O}F(O,x);O.prototype=null===x?Object.create(x):
(y.prototype=x.prototype,new y)}}();B=function(F){function O(x,y,q,l,h,c){x=F.call(this,x,y,c)||this;x.extent=null;x.format_=l;x.features_=null;x.projection=null;x.tileLoadFunction_=h;x.url_=q;x.key=q;return x}n(O,F);O.prototype.getFormat=function(){return this.format_};O.prototype.getFeatures=function(){return this.features_};O.prototype.load=function(){this.state==m["default"].IDLE&&(this.setState(m["default"].LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,
this.resolution,this.projection))};O.prototype.onLoad=function(x,y){this.setFeatures(x)};O.prototype.onError=function(){this.setState(m["default"].ERROR)};O.prototype.setFeatures=function(x){this.features_=x;this.setState(m["default"].LOADED)};O.prototype.setLoader=function(x){this.loader_=x};return O}(Ha["default"]);E["default"]=B};
shadow$provide[311]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=function(O){return O&&O.__esModule?O:{"default":O}}(B(259));var g=B(107),m=B(78),n=function(){var O=function(x,y){O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,l){q.__proto__=l}||function(q,l){for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(q[h]=l[h])};return O(x,y)};return function(x,y){function q(){this.constructor=x}O(x,y);x.prototype=null===y?Object.create(y):
(q.prototype=y.prototype,new q)}}(),F=[];B=function(O){function x(y,q,l,h){y=O.call(this,y,q,{transition:0})||this;y.context_={};y.executorGroups={};y.declutterExecutorGroups={};y.loadingSourceTiles=0;y.errorSourceTileKeys={};y.hitDetectionImageData={};y.replayState_={};y.sourceTiles=null;y.getSourceTiles=h.bind(void 0,y);y.sourceZ=-1;y.hifi=!1;y.wrappedTileCoord=l;return y}n(x,O);x.prototype.getContext=function(y){y=(0,m.getUid)(y);y in this.context_||(this.context_[y]=(0,g.createCanvasContext2D)(1,
1,F));return this.context_[y]};x.prototype.hasContext=function(y){return(0,m.getUid)(y)in this.context_};x.prototype.getImage=function(y){return this.hasContext(y)?this.getContext(y).canvas:null};x.prototype.getReplayState=function(y){y=(0,m.getUid)(y);y in this.replayState_||(this.replayState_[y]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedZ:-1,renderedTileZ:-1});return this.replayState_[y]};x.prototype.load=
function(){this.getSourceTiles()};x.prototype.release=function(){for(var y in this.context_)F.push(this.context_[y].canvas),delete this.context_[y];O.prototype.release.call(this)};return x}(Ha["default"]);E["default"]=B};
shadow$provide[312]=function(Ha,B,rb,E){function g(p){return p&&p.__esModule?p:{"default":p}}function m(p,A){p.setLoader(function(C,D,P){(0,e.loadFeaturesXhr)(A,p.getFormat(),C,D,P,p.onLoad.bind(p),p.onError.bind(p))})}Object.defineProperty(E,"__esModule",{value:!0});E.defaultLoadFunction=m;E["default"]=void 0;var n=g(B(92)),F=g(B(310)),O=g(B(268)),x=g(B(121));Ha=g(B(275));var y=g(B(311)),q=B(84),l=B(272),h=B(76),c=B(267),e=B(245),a=B(158),f=function(){var p=function(A,C){p=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(D,P){D.__proto__=P}||function(D,P){for(var L in P)Object.prototype.hasOwnProperty.call(P,L)&&(D[L]=P[L])};return p(A,C)};return function(A,C){function D(){this.constructor=A}p(A,C);A.prototype=null===C?Object.create(C):(D.prototype=C.prototype,new D)}}();B=function(p){function A(C){var D=C.projection||"EPSG:3857";var P=C.extent||(0,l.extentFromProjection)(D);P=C.tileGrid||(0,l.createXYZ)({extent:P,maxResolution:C.maxResolution,maxZoom:void 0!==C.maxZoom?C.maxZoom:
22,minZoom:C.minZoom,tileSize:C.tileSize||512});D=p.call(this,{attributions:C.attributions,attributionsCollapsible:C.attributionsCollapsible,cacheSize:C.cacheSize,opaque:!1,projection:D,state:C.state,tileGrid:P,tileLoadFunction:C.tileLoadFunction?C.tileLoadFunction:m,tileUrlFunction:C.tileUrlFunction,url:C.url,urls:C.urls,wrapX:void 0===C.wrapX?!0:C.wrapX,transition:C.transition,zDirection:void 0===C.zDirection?1:C.zDirection})||this;D.format_=C.format?C.format:null;D.loadingTiles_={};D.sourceTileCache=
new O["default"](D.tileCache.highWaterMark);D.overlaps_=void 0==C.overlaps?!0:C.overlaps;D.tileClass=C.tileClass?C.tileClass:F["default"];D.tileGrids_={};return D}f(A,p);A.prototype.getFeaturesInExtent=function(C){var D=[],P=this.tileCache;if(0===P.getCount())return D;var L=(0,c.fromKey)(P.peekFirstKey())[0],G=this.tileGrid;P.forEach(function(z){if(z.tileCoord[0]===L&&z.getState()===x["default"].LOADED){z=z.getSourceTiles();for(var J=0,K=z.length;J<K;++J){var R=z[J],U=R.tileCoord;if((0,q.intersects)(C,
G.getTileCoordExtent(U))&&(R=R.getFeatures())){U=0;for(var ka=R.length;U<ka;++U){var ba=R[U],da=ba.getGeometry();(0,q.intersects)(C,da.getExtent())&&D.push(ba)}}}}});return D};A.prototype.getOverlaps=function(){return this.overlaps_};A.prototype.clear=function(){this.tileCache.clear();this.sourceTileCache.clear()};A.prototype.expireCache=function(C,D){p.prototype.expireCache.call(this,C,D);this.sourceTileCache.expireCache({})};A.prototype.getSourceTiles=function(C,D,P){var L=P.wrappedTileCoord,G=
this.getTileGridForProjection(D),z=G.getTileCoordExtent(L);L=G.getResolution(L[0]);(0,q.buffer)(z,-L,z);var J=this.tileGrid;(G=J.getExtent())&&(0,q.getIntersection)(z,G,z);var K=J.getZForResolution(L,1);L=J.getMinZoom();G=P.sourceTiles;if(G&&0<G.length&&G[0].tileCoord[0]===K){var R=G;var U=!0;var ka=K}else{R=[];ka=K+1;do--ka,U=!0,J.forEachTileCoord(z,ka,function(ba){var da=this.tileUrlFunction(ba,C,D);if(void 0!==da)if(this.sourceTileCache.containsKey(da)){var ja=this.sourceTileCache.get(da);ba=ja.getState();
if(ba===x["default"].LOADED||ba===x["default"].ERROR||ba===x["default"].EMPTY){R.push(ja);return}}else ka===K&&(ja=new this.tileClass(ba,x["default"].IDLE,da,this.format_,this.tileLoadFunction),ja.extent=J.getTileCoordExtent(ba),ja.projection=D,ja.resolution=J.getResolution(ba[0]),this.sourceTileCache.set(da,ja),ja.addEventListener(n["default"].CHANGE,this.handleTileChange.bind(this)),ja.load());U=U&&ja&&ja.getState()===x["default"].LOADED;ja&&ja.getState()!==x["default"].EMPTY&&P.getState()===x["default"].IDLE&&
(P.loadingSourceTiles++,ja.addEventListener(n["default"].CHANGE,function Q(){var r=ja.getState(),N=ja.getKey();if(r===x["default"].LOADED||r===x["default"].ERROR)r===x["default"].LOADED?(ja.removeEventListener(n["default"].CHANGE,Q),P.loadingSourceTiles--,delete P.errorSourceTileKeys[N]):r===x["default"].ERROR&&(P.errorSourceTileKeys[N]=!0),r=Object.keys(P.errorSourceTileKeys).length,0===P.loadingSourceTiles-r&&(P.hifi=0===r,P.sourceZ=K,P.setState(x["default"].LOADED))}))}.bind(this)),U||(R.length=
0);while(!U&&ka>L)}P.getState()===x["default"].IDLE&&P.setState(x["default"].LOADING);U&&(P.hifi=K===ka,P.sourceZ=ka,P.getState()<x["default"].LOADED?P.setState(x["default"].LOADED):G&&(0,h.equals)(R,G)||(P.sourceTiles=R));return R};A.prototype.getTile=function(C,D,P,L,G){var z=(0,c.getKeyZXY)(C,D,P),J=this.getKey();if(this.tileCache.containsKey(z)){var K=this.tileCache.get(z);if(K.key===J)return K}D=[C,D,P];P=this.getTileCoordForTileUrlFunction(D,G);var R=this.getTileGrid().getExtent(),U=this.getTileGridForProjection(G);
if(P&&R){var ka=U.getTileCoordExtent(P);(0,q.buffer)(ka,-U.getResolution(C),ka);(0,q.intersects)(R,ka)||(P=null)}var ba=!0;null!==P&&(R=this.tileGrid,C=U.getResolution(C),ka=R.getZForResolution(C,1),U=U.getTileCoordExtent(P),(0,q.buffer)(U,-C,U),R.forEachTileCoord(U,ka,function(da){ba=ba&&!this.tileUrlFunction(da,L,G)}.bind(this)));D=new y["default"](D,ba?x["default"].EMPTY:x["default"].IDLE,P,this.getSourceTiles.bind(this,L,G));D.key=J;K?(D.interimTile=K,D.refreshInterimChain(),this.tileCache.replace(z,
D)):this.tileCache.set(z,D);return D};A.prototype.getTileGridForProjection=function(C){var D=C.getCode(),P=this.tileGrids_[D];P||(P=this.tileGrid,P=(0,l.createForProjection)(C,void 0,P?P.getTileSize(P.getMinZoom()):void 0),this.tileGrids_[D]=P);return P};A.prototype.getTilePixelRatio=function(C){return C};A.prototype.getTilePixelSize=function(C,D,P){P=this.getTileGridForProjection(P);C=(0,a.toSize)(P.getTileSize(C),this.tmpSize);return[Math.round(C[0]*D),Math.round(C[1]*D)]};A.prototype.updateCacheSize=
function(C,D){p.prototype.updateCacheSize.call(this,2*C,D)};return A}(Ha["default"]);E["default"]=B};
shadow$provide[313]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={KVP:"KVP",REST:"REST"}};
shadow$provide[314]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.createFromCapabilitiesMatrixSet=function(O,x,y){var q=[],l=[],h=[],c=[],e=[],a=void 0!==y?y:[];y=O.SupportedCRS;y=(0,m.get)(y);var f=y.getMetersPerUnit(),p="ne"==y.getAxisOrientation().substr(0,2);O.TileMatrix.sort(function(A,C){return C.ScaleDenominator-A.ScaleDenominator});O.TileMatrix.forEach(function(A){if(0<a.length?(0,g.find)(a,function(L){return A.Identifier==L.TileMatrix?!0:-1===A.Identifier.indexOf(":")?
O.Identifier+":"+A.Identifier===L.TileMatrix:!1}):1){l.push(A.Identifier);var C=2.8E-4*A.ScaleDenominator/f,D=A.TileWidth,P=A.TileHeight;p?h.push([A.TopLeftCorner[1],A.TopLeftCorner[0]]):h.push(A.TopLeftCorner);q.push(C);c.push(D==P?D:[D,P]);e.push([A.MatrixWidth,A.MatrixHeight])}});return new F({extent:x,origins:h,resolutions:q,matrixIds:l,tileSizes:c,sizes:e})};E["default"]=void 0;Ha=function(O){return O&&O.__esModule?O:{"default":O}}(B(271));var g=B(76),m=B(134),n=function(){var O=function(x,y){O=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,l){q.__proto__=l}||function(q,l){for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(q[h]=l[h])};return O(x,y)};return function(x,y){function q(){this.constructor=x}O(x,y);x.prototype=null===y?Object.create(y):(q.prototype=y.prototype,new q)}}(),F=function(O){function x(y){var q=O.call(this,{extent:y.extent,origin:y.origin,origins:y.origins,resolutions:y.resolutions,tileSize:y.tileSize,tileSizes:y.tileSizes,sizes:y.sizes})||
this;q.matrixIds_=y.matrixIds;return q}n(x,O);x.prototype.getMatrixId=function(y){return this.matrixIds_[y]};x.prototype.getMatrixIds=function(){return this.matrixIds_};return x}(Ha["default"]);E["default"]=F};
shadow$provide[315]=function(Ha,B,rb,E){function g(h){return h&&h.__esModule?h:{"default":h}}Object.defineProperty(E,"__esModule",{value:!0});E.optionsFromCapabilities=function(h,c){var e=h.Contents.Layer;e=(0,q.find)(e,function(ka,ba,da){return ka.Identifier==c.layer});if(null===e)return null;var a=h.Contents.TileMatrixSet;var f=1<e.TileMatrixSetLink.length?"projection"in c?(0,q.findIndex)(e.TileMatrixSetLink,function(ka,ba,da){ba=(0,q.find)(a,function(Z){return Z.Identifier==ka.TileMatrixSet}).SupportedCRS;
da=(0,y.get)(ba);var ja=(0,y.get)(c.projection);return da&&ja?(0,y.equivalent)(da,ja):ba==c.projection}):(0,q.findIndex)(e.TileMatrixSetLink,function(ka,ba,da){return ka.TileMatrixSet==c.matrixSet}):0;0>f&&(f=0);var p=e.TileMatrixSetLink[f].TileMatrixSet,A=e.TileMatrixSetLink[f].TileMatrixSetLimits,C=e.Format[0];"format"in c&&(C=c.format);f=(0,q.findIndex)(e.Style,function(ka,ba,da){return"style"in c?ka.Title==c.style:ka.isDefault});0>f&&(f=0);f=e.Style[f].Identifier;var D={};"Dimension"in e&&e.Dimension.forEach(function(ka,
ba,da){ba=ka.Identifier;da=ka.Default;void 0===da&&(da=ka.Value[0]);D[ba]=da});var P=h.Contents.TileMatrixSet,L=(0,q.find)(P,function(ka,ba,da){return ka.Identifier==p}),G;(P=L.SupportedCRS)&&(G=(0,y.get)(P));"projection"in c&&(P=(0,y.get)(c.projection),!P||G&&!(0,y.equivalent)(P,G)||(G=P));var z="ne"==G.getAxisOrientation().substr(0,2);P=L.TileMatrix[0];var J={MinTileCol:0,MinTileRow:0,MaxTileCol:P.MatrixWidth-1,MaxTileRow:P.MatrixHeight-1};if(A){J=A[A.length-1];var K=(0,q.find)(L.TileMatrix,function(ka){return ka.Identifier===
J.TileMatrix||L.Identifier+":"+ka.Identifier===J.TileMatrix});K&&(P=K)}K=2.8E-4*P.ScaleDenominator/G.getMetersPerUnit();z=z?[P.TopLeftCorner[1],P.TopLeftCorner[0]]:P.TopLeftCorner;var R=P.TileWidth*K;P=P.TileHeight*K;P=[z[0]+R*J.MinTileCol,z[1]-P*(1+J.MaxTileRow),z[0]+R*(1+J.MaxTileCol),z[1]-P*J.MinTileRow];null===G.getExtent()&&G.setExtent(P);A=(0,O.createFromCapabilitiesMatrixSet)(L,P,A);var U=[];P=c.requestEncoding;P=void 0!==P?P:"";if("OperationsMetadata"in h&&"GetTile"in h.OperationsMetadata)for(h=
h.OperationsMetadata.GetTile.DCP.HTTP.Get,K=0,z=h.length;K<z;++K)if(h[K].Constraint)if(R=(0,q.find)(h[K].Constraint,function(ka){return"GetEncoding"==ka.name}).AllowedValues.Value,""===P&&(P=R[0]),P===m["default"].KVP)(0,q.includes)(R,m["default"].KVP)&&U.push(h[K].href);else break;else h[K].href&&(P=m["default"].KVP,U.push(h[K].href));0===U.length&&(P=m["default"].REST,e.ResourceURL.forEach(function(ka){"tile"===ka.resourceType&&(C=ka.format,U.push(ka.template))}));return{urls:U,layer:c.layer,matrixSet:p,
format:C,projection:G,requestEncoding:P,tileGrid:A,style:f,dimensions:D,wrapX:!1,crossOrigin:c.crossOrigin}};E["default"]=void 0;Ha=g(B(276));var m=g(B(313)),n=B(287),F=B(90),O=B(314),x=B(274),y=B(134),q=B(76),l=function(){var h=function(c,e){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,f){a.__proto__=f}||function(a,f){for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(a[p]=f[p])};return h(c,e)};return function(c,e){function a(){this.constructor=c}h(c,e);c.prototype=
null===e?Object.create(e):(a.prototype=e.prototype,new a)}}();B=function(h){function c(e){var a=void 0!==e.requestEncoding?e.requestEncoding:m["default"].KVP;var f=e.tileGrid;var p=e.urls;void 0===p&&void 0!==e.url&&(p=(0,x.expandUrl)(e.url));f=h.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,imageSmoothing:e.imageSmoothing,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:f,tileLoadFunction:e.tileLoadFunction,
tilePixelRatio:e.tilePixelRatio,urls:p,wrapX:void 0!==e.wrapX?e.wrapX:!1,transition:e.transition})||this;f.version_=void 0!==e.version?e.version:"1.0.0";f.format_=void 0!==e.format?e.format:"image/jpeg";f.dimensions_=void 0!==e.dimensions?e.dimensions:{};f.layer_=e.layer;f.matrixSet_=e.matrixSet;f.style_=e.style;f.requestEncoding_=a;f.setKey(f.getKeyForDimensions_());p&&0<p.length&&(f.tileUrlFunction=(0,x.createFromTileUrlFunctions)(p.map(f.createFromWMTSTemplate.bind(f))));return f}l(c,h);c.prototype.setUrls=
function(e){this.urls=e;var a=e.join("\n");this.setTileUrlFunction((0,x.createFromTileUrlFunctions)(e.map(this.createFromWMTSTemplate.bind(this))),a)};c.prototype.getDimensions=function(){return this.dimensions_};c.prototype.getFormat=function(){return this.format_};c.prototype.getLayer=function(){return this.layer_};c.prototype.getMatrixSet=function(){return this.matrixSet_};c.prototype.getRequestEncoding=function(){return this.requestEncoding_};c.prototype.getStyle=function(){return this.style_};
c.prototype.getVersion=function(){return this.version_};c.prototype.getKeyForDimensions_=function(){var e=0,a=[],f;for(f in this.dimensions_)a[e++]=f+"-"+this.dimensions_[f];return a.join("/")};c.prototype.updateDimensions=function(e){(0,F.assign)(this.dimensions_,e);this.setKey(this.getKeyForDimensions_())};c.prototype.createFromWMTSTemplate=function(e){var a=this.requestEncoding_,f={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};a==m["default"].KVP&&(0,F.assign)(f,{Service:"WMTS",
Request:"GetTile",Version:this.version_,Format:this.format_});e=a==m["default"].KVP?(0,n.appendParams)(e,f):e.replace(/\{(\w+?)\}/g,function(C,D){return D.toLowerCase()in f?f[D.toLowerCase()]:C});var p=this.tileGrid,A=this.dimensions_;return function(C,D,P){if(C){var L={TileMatrix:p.getMatrixId(C[0]),TileCol:C[1],TileRow:C[2]};(0,F.assign)(L,A);C=e;return C=a==m["default"].KVP?(0,n.appendParams)(C,L):C.replace(/\{(\w+?)\}/g,function(G,z){return L[z]})}}};return c}(Ha["default"]);E["default"]=B};
shadow$provide[316]=function(Ha,B,rb,E){function g(da){return da&&da.__esModule?da:{"default":da}}Object.defineProperty(E,"__esModule",{value:!0});Object.defineProperty(E,"BingMaps",{enumerable:!0,get:function(){return m["default"]}});Object.defineProperty(E,"CartoDB",{enumerable:!0,get:function(){return n["default"]}});Object.defineProperty(E,"Cluster",{enumerable:!0,get:function(){return F["default"]}});Object.defineProperty(E,"IIIF",{enumerable:!0,get:function(){return O["default"]}});Object.defineProperty(E,
"Image",{enumerable:!0,get:function(){return x["default"]}});Object.defineProperty(E,"ImageArcGISRest",{enumerable:!0,get:function(){return y["default"]}});Object.defineProperty(E,"ImageCanvas",{enumerable:!0,get:function(){return q["default"]}});Object.defineProperty(E,"ImageMapGuide",{enumerable:!0,get:function(){return l["default"]}});Object.defineProperty(E,"ImageStatic",{enumerable:!0,get:function(){return h["default"]}});Object.defineProperty(E,"ImageWMS",{enumerable:!0,get:function(){return c["default"]}});
Object.defineProperty(E,"OSM",{enumerable:!0,get:function(){return e["default"]}});Object.defineProperty(E,"Raster",{enumerable:!0,get:function(){return a["default"]}});Object.defineProperty(E,"Source",{enumerable:!0,get:function(){return f["default"]}});Object.defineProperty(E,"Stamen",{enumerable:!0,get:function(){return p["default"]}});Object.defineProperty(E,"Tile",{enumerable:!0,get:function(){return A["default"]}});Object.defineProperty(E,"TileArcGISRest",{enumerable:!0,get:function(){return C["default"]}});
Object.defineProperty(E,"TileDebug",{enumerable:!0,get:function(){return D["default"]}});Object.defineProperty(E,"TileImage",{enumerable:!0,get:function(){return P["default"]}});Object.defineProperty(E,"TileJSON",{enumerable:!0,get:function(){return L["default"]}});Object.defineProperty(E,"TileWMS",{enumerable:!0,get:function(){return G["default"]}});Object.defineProperty(E,"UrlTile",{enumerable:!0,get:function(){return z["default"]}});Object.defineProperty(E,"UTFGrid",{enumerable:!0,get:function(){return J["default"]}});
Object.defineProperty(E,"Vector",{enumerable:!0,get:function(){return K["default"]}});Object.defineProperty(E,"VectorTile",{enumerable:!0,get:function(){return R["default"]}});Object.defineProperty(E,"WMTS",{enumerable:!0,get:function(){return U["default"]}});Object.defineProperty(E,"XYZ",{enumerable:!0,get:function(){return ka["default"]}});Object.defineProperty(E,"Zoomify",{enumerable:!0,get:function(){return ba["default"]}});var m=g(B(278)),n=g(B(280)),F=g(B(281)),O=g(B(284)),x=g(B(286)),y=g(B(288)),
q=g(B(290)),l=g(B(291)),h=g(B(292)),c=g(B(294)),e=g(B(295)),a=g(B(303)),f=g(B(242)),p=g(B(304)),A=g(B(273)),C=g(B(305)),D=g(B(306)),P=g(B(276)),L=g(B(307)),G=g(B(308)),z=g(B(275)),J=g(B(309)),K=g(B(246)),R=g(B(312)),U=g(B(315)),ka=g(B(279)),ba=g(B(282))};
shadow$provide[317]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.toContext=function(x,y){var q=x.canvas,l=y?y:{};y=l.pixelRatio||m.DEVICE_PIXEL_RATIO;if(l=l.size)q.width=l[0]*y,q.height=l[1]*y,q.style.width=l[0]+"px",q.style.height=l[1]+"px";q=[0,0,q.width,q.height];l=(0,n.scale)((0,n.create)(),y,y);return new g["default"](x,y,q,l,0)};E.getVectorContext=function(x){var y=x.frameState,q=(0,n.multiply)(x.inversePixelTransform.slice(),y.coordinateToPixelTransform),l=(0,F.getSquaredTolerance)(y.viewState.resolution,
y.pixelRatio),h,c=(0,O.getUserProjection)();c&&(h=(0,O.getTransformFromProjections)(c,y.viewState.projection));return new g["default"](x.context,y.pixelRatio,y.extent,q,y.viewState.rotation,l,h)};E.getRenderPixel=function(x,y){y=y.slice(0);(0,n.apply)(x.inversePixelTransform.slice(),y);return y};var g=function(x){return x&&x.__esModule?x:{"default":x}}(B(228)),m=B(106),n=B(81),F=B(238),O=B(134)};
shadow$provide[318]=function(Ha,B,rb,E){function g(F,O,x){for(var y=[],q=F(0),l=F(1),h=O(q),c=O(l),e=[l,q],a=[c,h],f=[1,0],p={},A=1E5,C,D,P,L,G;0<--A&&0<f.length;)P=f.pop(),q=e.pop(),h=a.pop(),l=P.toString(),l in p||(y.push(h[0],h[1]),p[l]=!0),L=f.pop(),l=e.pop(),c=a.pop(),G=(P+L)/2,C=F(G),D=O(C),(0,n.squaredSegmentDistance)(D[0],D[1],h[0],h[1],c[0],c[1])<x?(y.push(c[0],c[1]),l=L.toString(),p[l]=!0):(f.push(L,G,G,P),a.push(c,D,D,h),e.push(l,C,C,q));return y}Object.defineProperty(E,"__esModule",{value:!0});
E.greatCircleArc=function(F,O,x,y,q,l){var h=(0,m.get)("EPSG:4326"),c=Math.cos((0,n.toRadians)(O)),e=Math.sin((0,n.toRadians)(O)),a=Math.cos((0,n.toRadians)(y)),f=Math.sin((0,n.toRadians)(y)),p=Math.cos((0,n.toRadians)(x-F)),A=Math.sin((0,n.toRadians)(x-F)),C=e*f+c*a*p;return g(function(D){if(1<=C)return[x,y];var P=D*Math.acos(C);D=Math.cos(P);var L=Math.sin(P),G=Math.atan2(A*a,c*f-e*a*p);P=Math.asin(e*D+c*L*Math.cos(G));D=(0,n.toRadians)(F)+Math.atan2(Math.sin(G)*L*c,D-e*Math.sin(P));return[(0,n.toDegrees)(D),
(0,n.toDegrees)(P)]},(0,m.getTransform)(h,q),l)};E.meridian=function(F,O,x,y,q){var l=(0,m.get)("EPSG:4326");return g(function(h){return[F,O+(x-O)*h]},(0,m.getTransform)(l,y),q)};E.parallel=function(F,O,x,y,q){var l=(0,m.get)("EPSG:4326");return g(function(h){return[O+(x-O)*h,F]},(0,m.getTransform)(l,y),q)};var m=B(134),n=B(85)};
shadow$provide[319]=function(Ha,B,rb,E){function g(J){return J&&J.__esModule?J:{"default":J}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var m=g(B(111)),n=g(B(98)),F=g(B(194)),O=g(B(208)),x=g(B(139)),y=g(B(197)),q=g(B(149)),l=g(B(209)),h=g(B(210)),c=g(B(235));Ha=g(B(240));var e=g(B(246)),a=B(84),f=B(90),p=B(85),A=B(102),C=B(134),D=B(317),P=B(318),L=function(){var J=function(K,R){J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,ka){U.__proto__=ka}||function(U,
ka){for(var ba in ka)Object.prototype.hasOwnProperty.call(ka,ba)&&(U[ba]=ka[ba])};return J(K,R)};return function(K,R){function U(){this.constructor=K}J(K,R);K.prototype=null===R?Object.create(R):(U.prototype=R.prototype,new U)}}(),G=new l["default"]({color:"rgba(0,0,0,0.2)"}),z=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001];B=function(J){function K(R){var U=this;R=R?R:{};U=(0,f.assign)({updateWhileAnimating:!0,updateWhileInteracting:!0,renderBuffer:0},R);delete U.maxLines;delete U.strokeStyle;
delete U.targetSize;delete U.showLabels;delete U.lonLabelFormatter;delete U.latLabelFormatter;delete U.lonLabelPosition;delete U.latLabelPosition;delete U.lonLabelStyle;delete U.latLabelStyle;delete U.intervals;U=J.call(this,U)||this;U.projection_=null;U.maxLat_=Infinity;U.maxLon_=Infinity;U.minLat_=-Infinity;U.minLon_=-Infinity;U.maxX_=Infinity;U.maxY_=Infinity;U.minX_=-Infinity;U.minY_=-Infinity;U.targetSize_=void 0!==R.targetSize?R.targetSize:100;U.maxLines_=void 0!==R.maxLines?R.maxLines:100;
U.meridians_=[];U.parallels_=[];U.strokeStyle_=void 0!==R.strokeStyle?R.strokeStyle:G;U.fromLonLatTransform_=void 0;U.toLonLatTransform_=void 0;U.projectionCenterLonLat_=null;U.bottomLeft_=null;U.bottomRight_=null;U.topLeft_=null;U.topRight_=null;U.meridiansLabels_=null;U.parallelsLabels_=null;R.showLabels&&(U.lonLabelFormatter_=void 0==R.lonLabelFormatter?A.degreesToStringHDMS.bind(U,"EW"):R.lonLabelFormatter,U.latLabelFormatter_=void 0==R.latLabelFormatter?A.degreesToStringHDMS.bind(U,"NS"):R.latLabelFormatter,
U.lonLabelPosition_=void 0==R.lonLabelPosition?0:R.lonLabelPosition,U.latLabelPosition_=void 0==R.latLabelPosition?1:R.latLabelPosition,U.lonLabelStyleBase_=new h["default"]({text:void 0!==R.lonLabelStyle?R.lonLabelStyle.clone():new c["default"]({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new O["default"]({color:"rgba(0,0,0,1)"}),stroke:new l["default"]({color:"rgba(255,255,255,1)",width:3})})}),U.lonLabelStyle_=function(ka){ka=ka.get("graticule_label");this.lonLabelStyleBase_.getText().setText(ka);
return this.lonLabelStyleBase_}.bind(U),U.latLabelStyleBase_=new h["default"]({text:void 0!==R.latLabelStyle?R.latLabelStyle.clone():new c["default"]({font:"12px Calibri,sans-serif",textAlign:"right",fill:new O["default"]({color:"rgba(0,0,0,1)"}),stroke:new l["default"]({color:"rgba(255,255,255,1)",width:3})})}),U.latLabelStyle_=function(ka){ka=ka.get("graticule_label");this.latLabelStyleBase_.getText().setText(ka);return this.latLabelStyleBase_}.bind(U),U.meridiansLabels_=[],U.parallelsLabels_=[],
U.addEventListener(n["default"].POSTRENDER,U.drawLabels_.bind(U)));U.intervals_=void 0!==R.intervals?R.intervals:z;U.setSource(new e["default"]({loader:U.loaderFunction.bind(U),strategy:U.strategyFunction.bind(U),features:new m["default"],overlaps:!1,useSpatialIndex:!1,wrapX:R.wrapX}));U.featurePool_=[];U.lineStyle_=new h["default"]({stroke:U.strokeStyle_});U.loadedExtent_=null;U.renderedExtent_=null;U.setRenderOrder(null);return U}L(K,J);K.prototype.strategyFunction=function(R,U){R=R.slice();this.projection_&&
this.getSource().getWrapX()&&(0,a.wrapX)(R,this.projection_);this.loadedExtent_&&((0,a.approximatelyEquals)(this.loadedExtent_,R,U)?R=this.loadedExtent_.slice():this.getSource().removeLoadedExtent(this.loadedExtent_));return[R]};K.prototype.loaderFunction=function(R,U,ka){this.loadedExtent_=R;var ba=this.getSource(),da=this.getExtent()||[-Infinity,-Infinity,Infinity,Infinity];R=(0,a.getIntersection)(da,R);if(!this.renderedExtent_||!(0,a.equals)(this.renderedExtent_,R))if(this.renderedExtent_=R,!(0,
a.isEmpty)(R)){da=(0,a.getCenter)(R);var ja=U*U/4;this.projection_&&(0,C.equivalent)(this.projection_,ka)||this.updateProjectionInfo_(ka);this.createGraticule_(R,da,U,ja);ka=this.meridians_.length+this.parallels_.length;this.meridiansLabels_&&(ka+=this.meridians_.length);for(this.parallelsLabels_&&(ka+=this.parallels_.length);ka>this.featurePool_.length;)U=new F["default"],this.featurePool_.push(U);ba=ba.getFeaturesCollection();ba.clear();R=ka=0;for(da=this.meridians_.length;R<da;++R)U=this.featurePool_[ka++],
U.setGeometry(this.meridians_[R]),U.setStyle(this.lineStyle_),ba.push(U);R=0;for(da=this.parallels_.length;R<da;++R)U=this.featurePool_[ka++],U.setGeometry(this.parallels_[R]),U.setStyle(this.lineStyle_),ba.push(U)}};K.prototype.addMeridian_=function(R,U,ka,ba,da,ja){U=this.getMeridian_(R,U,ka,ba,ja);(0,a.intersects)(U.getExtent(),da)&&(this.meridiansLabels_&&(R=this.lonLabelFormatter_(R),ja in this.meridiansLabels_?this.meridiansLabels_[ja].text=R:this.meridiansLabels_[ja]={geom:new q["default"]([]),
text:R}),this.meridians_[ja++]=U);return ja};K.prototype.addParallel_=function(R,U,ka,ba,da,ja){U=this.getParallel_(R,U,ka,ba,ja);(0,a.intersects)(U.getExtent(),da)&&(this.parallelsLabels_&&(R=this.latLabelFormatter_(R),ja in this.parallelsLabels_?this.parallelsLabels_[ja].text=R:this.parallelsLabels_[ja]={geom:new q["default"]([]),text:R}),this.parallels_[ja++]=U);return ja};K.prototype.drawLabels_=function(R){var U=R.frameState.viewState.rotation,ka=R.frameState.extent,ba=(0,a.getCenter)(ka),da=
ka;if(U){var ja=(0,a.getWidth)(ka),Z=(0,a.getHeight)(ka),Q=Math.abs(Math.cos(U)),r=Math.abs(Math.sin(U));da=(r*Z-Q*ja)/(r*r-Q*Q);ja=(r*ja-Q*Z)/(r*r-Q*Q);da=[ba[0]-da/2,ba[1]-ja/2,ba[0]+da/2,ba[1]+ja/2]}Z=ja=0;Q=.5>this.latLabelPosition_;var N=this.projection_.getExtent();r=(0,a.getWidth)(N);this.getSource().getWrapX()&&this.projection_.canWrapX()&&!(0,a.containsExtent)(N,ka)&&(ja=Math.floor((ka[0]-N[0])/r),Z=Math.ceil((ka[2]-N[2])/r),Q=Q!==Math.abs(U)>Math.PI/2);R=(0,D.getVectorContext)(R);for(N=
ja;N<=Z;++N){var ea=this.meridians_.length+this.parallels_.length,aa;if(this.meridiansLabels_){var va=0;for(aa=this.meridiansLabels_.length;va<aa;++va){var ta=this.meridians_[va];if(U||0!==N){ta=ta.clone();ta.translate(N*r,0);ta.rotate(-U,ba);var Da=this.getMeridianPoint_(ta,da,va);Da.rotate(U,ba)}else Da=this.getMeridianPoint_(ta,ka,va);ta=this.featurePool_[ea++];ta.setGeometry(Da);ta.set("graticule_label",this.meridiansLabels_[va].text);R.drawFeature(ta,this.lonLabelStyle_(ta))}}if(this.parallelsLabels_&&
(N===ja&&Q||N===Z&&!Q))for(va=0,aa=this.parallels_.length;va<aa;++va)ta=this.parallels_[va],U||0!==N?(ta=ta.clone(),ta.translate(N*r,0),ta.rotate(-U,ba),Da=this.getParallelPoint_(ta,da,va),Da.rotate(U,ba)):Da=this.getParallelPoint_(ta,ka,va),ta=this.featurePool_[ea++],ta.setGeometry(Da),ta.set("graticule_label",this.parallelsLabels_[va].text),R.drawFeature(ta,this.latLabelStyle_(ta))}};K.prototype.createGraticule_=function(R,U,ka,ba){ka=this.getInterval_(ka);if(-1==ka)this.meridians_.length=0,this.parallels_.length=
0,this.meridiansLabels_&&(this.meridiansLabels_.length=0),this.parallelsLabels_&&(this.parallelsLabels_.length=0);else{var da=!1,ja=this.projection_.getExtent(),Z=(0,a.getWidth)(ja);this.getSource().getWrapX()&&this.projection_.canWrapX()&&!(0,a.containsExtent)(ja,R)&&((0,a.getWidth)(R)>=Z?(R[0]=ja[0],R[2]=ja[2]):da=!0);U=[(0,p.clamp)(U[0],this.minX_,this.maxX_),(0,p.clamp)(U[1],this.minY_,this.maxY_)];ja=this.toLonLatTransform_(U);isNaN(ja[1])&&(ja[1]=Math.abs(this.maxLat_)>=Math.abs(this.minLat_)?
this.maxLat_:this.minLat_);U=(0,p.clamp)(ja[0],this.minLon_,this.maxLon_);ja=(0,p.clamp)(ja[1],this.minLat_,this.maxLat_);Z=this.maxLines_;var Q=R;da||(Q=[(0,p.clamp)(R[0],this.minX_,this.maxX_),(0,p.clamp)(R[1],this.minY_,this.maxY_),(0,p.clamp)(R[2],this.minX_,this.maxX_),(0,p.clamp)(R[3],this.minY_,this.maxY_)]);var r=(0,a.applyTransform)(Q,this.toLonLatTransform_,void 0,8),N=r[3],ea=r[2],aa=r[1];r=r[0];da||((0,a.containsCoordinate)(Q,this.bottomLeft_)&&(r=this.minLon_,aa=this.minLat_),(0,a.containsCoordinate)(Q,
this.bottomRight_)&&(ea=this.maxLon_,aa=this.minLat_),(0,a.containsCoordinate)(Q,this.topLeft_)&&(r=this.minLon_,N=this.maxLat_),(0,a.containsCoordinate)(Q,this.topRight_)&&(ea=this.maxLon_,N=this.maxLat_),N=(0,p.clamp)(N,ja,this.maxLat_),ea=(0,p.clamp)(ea,U,this.maxLon_),aa=(0,p.clamp)(aa,this.minLat_,ja),r=(0,p.clamp)(r,this.minLon_,U));U=Math.floor(U/ka)*ka;var va=(0,p.clamp)(U,this.minLon_,this.maxLon_);var ta=this.addMeridian_(va,aa,N,ba,R,0);Q=0;if(da)for(;(va-=ka)>=r&&Q++<Z;)ta=this.addMeridian_(va,
aa,N,ba,R,ta);else for(;va!=this.minLon_&&Q++<Z;)va=Math.max(va-ka,this.minLon_),ta=this.addMeridian_(va,aa,N,ba,R,ta);va=(0,p.clamp)(U,this.minLon_,this.maxLon_);Q=0;if(da)for(;(va+=ka)<=ea&&Q++<Z;)ta=this.addMeridian_(va,aa,N,ba,R,ta);else for(;va!=this.maxLon_&&Q++<Z;)va=Math.min(va+ka,this.maxLon_),ta=this.addMeridian_(va,aa,N,ba,R,ta);this.meridians_.length=ta;this.meridiansLabels_&&(this.meridiansLabels_.length=ta);ja=Math.floor(ja/ka)*ka;da=(0,p.clamp)(ja,this.minLat_,this.maxLat_);ta=this.addParallel_(da,
r,ea,ba,R,0);for(Q=0;da!=this.minLat_&&Q++<Z;)da=Math.max(da-ka,this.minLat_),ta=this.addParallel_(da,r,ea,ba,R,ta);da=(0,p.clamp)(ja,this.minLat_,this.maxLat_);for(Q=0;da!=this.maxLat_&&Q++<Z;)da=Math.min(da+ka,this.maxLat_),ta=this.addParallel_(da,r,ea,ba,R,ta);this.parallels_.length=ta;this.parallelsLabels_&&(this.parallelsLabels_.length=ta)}};K.prototype.getInterval_=function(R){var U=this.projectionCenterLonLat_[0],ka=this.projectionCenterLonLat_[1],ba=-1;R=Math.pow(this.targetSize_*R,2);for(var da=
[],ja=[],Z=0,Q=this.intervals_.length;Z<Q;++Z){var r=(0,p.clamp)(this.intervals_[Z]/2,0,90),N=(0,p.clamp)(ka,-90+r,90-r);da[0]=U-r;da[1]=N-r;ja[0]=U+r;ja[1]=N+r;this.fromLonLatTransform_(da,da);this.fromLonLatTransform_(ja,ja);if(Math.pow(ja[0]-da[0],2)+Math.pow(ja[1]-da[1],2)<=R)break;ba=this.intervals_[Z]}return ba};K.prototype.getMeridian_=function(R,U,ka,ba,da){R=(0,P.meridian)(R,U,ka,this.projection_,ba);(U=this.meridians_[da])?(U.setFlatCoordinates(x["default"].XY,R),U.changed()):(U=new y["default"](R,
x["default"].XY),this.meridians_[da]=U);return U};K.prototype.getMeridianPoint_=function(R,U,ka){R=R.getFlatCoordinates();var ba=1,da=R.length-1;R[ba]>R[da]&&(ba=da,da=1);var ja=Math.max(U[1],R[ba]),Z=Math.min(U[3],R[da]);U=(0,p.clamp)(U[1]+Math.abs(U[1]-U[3])*this.lonLabelPosition_,ja,Z);ka=this.meridiansLabels_[ka].geom;ka.setCoordinates([R[ba-1]+(R[da-1]-R[ba-1])*(U-R[ba])/(R[da]-R[ba]),U]);return ka};K.prototype.getMeridians=function(){return this.meridians_};K.prototype.getParallel_=function(R,
U,ka,ba,da){R=(0,P.parallel)(R,U,ka,this.projection_,ba);(da=this.parallels_[da])?(da.setFlatCoordinates(x["default"].XY,R),da.changed()):da=new y["default"](R,x["default"].XY);return da};K.prototype.getParallelPoint_=function(R,U,ka){R=R.getFlatCoordinates();var ba=0,da=R.length-2;R[ba]>R[da]&&(ba=da,da=0);var ja=Math.max(U[0],R[ba]),Z=Math.min(U[2],R[da]);U=(0,p.clamp)(U[0]+Math.abs(U[0]-U[2])*this.latLabelPosition_,ja,Z);ka=this.parallelsLabels_[ka].geom;ka.setCoordinates([U,R[ba+1]+(R[da+1]-R[ba+
1])*(U-R[ba])/(R[da]-R[ba])]);return ka};K.prototype.getParallels=function(){return this.parallels_};K.prototype.updateProjectionInfo_=function(R){var U=(0,C.get)("EPSG:4326"),ka=R.getWorldExtent();this.maxLat_=ka[3];this.maxLon_=ka[2];this.minLat_=ka[1];this.minLon_=ka[0];var ba=(0,C.getTransform)(R,U);if(this.minLon_<this.maxLon_)this.toLonLatTransform_=ba;else{var da=this.minLon_+this.maxLon_/2;this.maxLon_+=360;this.toLonLatTransform_=function(ja,Z,Q){Q=Q||2;ja=ba(ja,Z,Q);Z=0;for(var r=ja.length;Z<
r;Z+=Q)ja[Z]<da&&(ja[Z]+=360);return ja}}this.fromLonLatTransform_=(0,C.getTransform)(U,R);U=(0,a.applyTransform)([this.minLon_,this.minLat_,this.maxLon_,this.maxLat_],this.fromLonLatTransform_,void 0,8);this.minX_=U[0];this.maxX_=U[2];this.minY_=U[1];this.maxY_=U[3];this.bottomLeft_=this.fromLonLatTransform_([this.minLon_,this.minLat_]);this.bottomRight_=this.fromLonLatTransform_([this.maxLon_,this.minLat_]);this.topLeft_=this.fromLonLatTransform_([this.minLon_,this.maxLat_]);this.topRight_=this.fromLonLatTransform_([this.maxLon_,
this.maxLat_]);this.projectionCenterLonLat_=this.toLonLatTransform_((0,a.getCenter)(R.getExtent()));isNaN(this.projectionCenterLonLat_[1])&&(this.projectionCenterLonLat_[1]=Math.abs(this.maxLat_)>=Math.abs(this.minLat_)?this.maxLat_:this.minLat_);this.projection_=R};return K}(Ha["default"]);E["default"]=B};
shadow$provide[320]=function(Ha,B,rb,E){function g(F,O){for(var x=m.length,y=0;y<x;++y)try{var q=F.getContext(m[y],O);if(q)return q}catch(l){}return null}Object.defineProperty(E,"__esModule",{value:!0});E.getContext=g;E.getSupportedExtensions=function(){if(!n){var F=document.createElement("canvas");(F=g(F))&&(n=F.getSupportedExtensions())}return n};E.FLOAT=E.UNSIGNED_INT=E.UNSIGNED_SHORT=E.UNSIGNED_BYTE=E.DYNAMIC_DRAW=E.STATIC_DRAW=E.STREAM_DRAW=E.ELEMENT_ARRAY_BUFFER=E.ARRAY_BUFFER=void 0;E.ARRAY_BUFFER=
34962;E.ELEMENT_ARRAY_BUFFER=34963;E.STREAM_DRAW=35040;E.STATIC_DRAW=35044;E.DYNAMIC_DRAW=35048;E.UNSIGNED_BYTE=5121;E.UNSIGNED_SHORT=5123;E.UNSIGNED_INT=5125;E.FLOAT=5126;var m=["experimental-webgl","webgl","webkit-3d","moz-webgl"],n};
shadow$provide[321]=function(Ha,B,rb,E){function g(O){switch(O){case m.ARRAY_BUFFER:return Float32Array;case m.ELEMENT_ARRAY_BUFFER:return Uint32Array;default:return Float32Array}}Object.defineProperty(E,"__esModule",{value:!0});E.getArrayClassForType=g;E["default"]=E.BufferUsage=void 0;var m=B(320),n=B(80),F={STATIC_DRAW:m.STATIC_DRAW,STREAM_DRAW:m.STREAM_DRAW,DYNAMIC_DRAW:m.DYNAMIC_DRAW};E.BufferUsage=F;Ha=function(){function O(x,y){this.array=null;this.type=x;(0,n.assert)(x===m.ARRAY_BUFFER||x===
m.ELEMENT_ARRAY_BUFFER,62);this.usage=void 0!==y?y:F.STATIC_DRAW}O.prototype.ofSize=function(x){this.array=new (g(this.type))(x)};O.prototype.fromArray=function(x){this.array=g(this.type).from(x)};O.prototype.fromArrayBuffer=function(x){this.array=new (g(this.type))(x)};O.prototype.getType=function(){return this.type};O.prototype.getArray=function(){return this.array};O.prototype.getUsage=function(){return this.usage};O.prototype.getSize=function(){return this.array?this.array.length:0};return O}();
E["default"]=Ha};
shadow$provide[322]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"}};
shadow$provide[323]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=function(){function g(m){var n=this.gl_=m.webGlContext;this.scaleRatio_=m.scaleRatio||1;this.renderTargetTexture_=n.createTexture();this.renderTargetTextureSize_=null;this.frameBuffer_=n.createFramebuffer();var F=n.createShader(n.VERTEX_SHADER);n.shaderSource(F,m.vertexShader||"\n  precision mediump float;\n  \n  attribute vec2 a_position;\n  varying vec2 v_texCoord;\n  varying vec2 v_screenCoord;\n  \n  uniform vec2 u_screenSize;\n   \n  void main() {\n    v_texCoord \x3d a_position * 0.5 + 0.5;\n    v_screenCoord \x3d v_texCoord * u_screenSize;\n    gl_Position \x3d vec4(a_position, 0.0, 1.0);\n  }\n");
n.compileShader(F);var O=n.createShader(n.FRAGMENT_SHADER);n.shaderSource(O,m.fragmentShader||"\n  precision mediump float;\n   \n  uniform sampler2D u_image;\n   \n  varying vec2 v_texCoord;\n   \n  void main() {\n    gl_FragColor \x3d texture2D(u_image, v_texCoord);\n  }\n");n.compileShader(O);this.renderTargetProgram_=n.createProgram();n.attachShader(this.renderTargetProgram_,F);n.attachShader(this.renderTargetProgram_,O);n.linkProgram(this.renderTargetProgram_);this.renderTargetVerticesBuffer_=
n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,this.renderTargetVerticesBuffer_);n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),n.STATIC_DRAW);this.renderTargetAttribLocation_=n.getAttribLocation(this.renderTargetProgram_,"a_position");this.renderTargetUniformLocation_=n.getUniformLocation(this.renderTargetProgram_,"u_screenSize");this.renderTargetTextureLocation_=n.getUniformLocation(this.renderTargetProgram_,"u_image");this.uniforms_=[];m.uniforms&&Object.keys(m.uniforms).forEach(function(x){this.uniforms_.push({value:m.uniforms[x],
location:n.getUniformLocation(this.renderTargetProgram_,x)})}.bind(this))}g.prototype.getGL=function(){return this.gl_};g.prototype.init=function(m){m=this.getGL();var n=[m.drawingBufferWidth*this.scaleRatio_,m.drawingBufferHeight*this.scaleRatio_];m.bindFramebuffer(m.FRAMEBUFFER,this.getFrameBuffer());m.viewport(0,0,n[0],n[1]);if(!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==n[0]||this.renderTargetTextureSize_[1]!==n[1]){this.renderTargetTextureSize_=n;var F=m.RGBA,O=m.RGBA,
x=m.UNSIGNED_BYTE;m.bindTexture(m.TEXTURE_2D,this.renderTargetTexture_);m.texImage2D(m.TEXTURE_2D,0,F,n[0],n[1],0,O,x,null);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.LINEAR);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE);m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,this.renderTargetTexture_,0)}};g.prototype.apply=function(m,n){var F=this.getGL(),O=m.size;F.bindFramebuffer(F.FRAMEBUFFER,
n?n.getFrameBuffer():null);F.activeTexture(F.TEXTURE0);F.bindTexture(F.TEXTURE_2D,this.renderTargetTexture_);F.clearColor(0,0,0,0);F.clear(F.COLOR_BUFFER_BIT);F.enable(F.BLEND);F.blendFunc(F.ONE,F.ONE_MINUS_SRC_ALPHA);F.viewport(0,0,F.drawingBufferWidth,F.drawingBufferHeight);F.bindBuffer(F.ARRAY_BUFFER,this.renderTargetVerticesBuffer_);F.useProgram(this.renderTargetProgram_);F.enableVertexAttribArray(this.renderTargetAttribLocation_);F.vertexAttribPointer(this.renderTargetAttribLocation_,2,F.FLOAT,
!1,0,0);F.uniform2f(this.renderTargetUniformLocation_,O[0],O[1]);F.uniform1i(this.renderTargetTextureLocation_,0);this.applyUniforms(m);F.drawArrays(F.TRIANGLES,0,6)};g.prototype.getFrameBuffer=function(){return this.frameBuffer_};g.prototype.applyUniforms=function(m){var n=this.getGL(),F,O=1;this.uniforms_.forEach(function(x){F="function"===typeof x.value?x.value(m):x.value;if(F instanceof HTMLCanvasElement||F instanceof ImageData)x.texture||(x.texture=n.createTexture()),n.activeTexture(n["TEXTURE"+
O]),n.bindTexture(n.TEXTURE_2D,x.texture),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),F instanceof ImageData?n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,F.width,F.height,0,n.UNSIGNED_BYTE,new Uint8Array(F.data)):n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,F),n.uniform1i(x.location,O++);else if(Array.isArray(F))switch(F.length){case 2:n.uniform2f(x.location,
F[0],F[1]);break;case 3:n.uniform3f(x.location,F[0],F[1],F[2]);break;case 4:n.uniform4f(x.location,F[0],F[1],F[2],F[3])}else"number"===typeof F&&n.uniform1f(x.location,F)})};return g}();E["default"]=Ha};
shadow$provide[324]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.create=function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]};E.fromTransform=function(g,m){g[0]=m[0];g[1]=m[1];g[4]=m[2];g[5]=m[3];g[12]=m[4];g[13]=m[5];return g}};
shadow$provide[325]=function(Ha,B,rb,E){function g(A){return A&&A.__esModule?A:{"default":A}}function m(A){for(var C=0,D=0;D<A.length;D++){var P=A[D];C+=P.size*n(P.type)}return C}function n(A){switch(A){case p.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case p.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case p.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;default:return Float32Array.BYTES_PER_ELEMENT}}Object.defineProperty(E,"__esModule",{value:!0});E.computeAttributesStride=m;E["default"]=
E.AttributeType=E.DefaultUniform=E.ShaderType=void 0;var F=g(B(322));Ha=g(B(75));var O=g(B(323)),x=B(320),y=B(80),q=B(90),l=B(81),h=B(324),c=B(78),e=B(76),a=function(){var A=function(C,D){A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,L){P.__proto__=L}||function(P,L){for(var G in L)Object.prototype.hasOwnProperty.call(L,G)&&(P[G]=L[G])};return A(C,D)};return function(C,D){function P(){this.constructor=C}A(C,D);C.prototype=null===D?Object.create(D):(P.prototype=D.prototype,new P)}}();
E.ShaderType={FRAGMENT_SHADER:35632,VERTEX_SHADER:35633};var f={PROJECTION_MATRIX:"u_projectionMatrix",OFFSET_SCALE_MATRIX:"u_offsetScaleMatrix",OFFSET_ROTATION_MATRIX:"u_offsetRotateMatrix",TIME:"u_time",ZOOM:"u_zoom",RESOLUTION:"u_resolution"};E.DefaultUniform=f;var p={UNSIGNED_BYTE:x.UNSIGNED_BYTE,UNSIGNED_SHORT:x.UNSIGNED_SHORT,UNSIGNED_INT:x.UNSIGNED_INT,FLOAT:x.FLOAT};E.AttributeType=p;B=function(A){function C(D){var P=A.call(this)||this;D=D||{};P.boundHandleWebGLContextLost_=P.handleWebGLContextLost.bind(P);
P.boundHandleWebGLContextRestored_=P.handleWebGLContextRestored.bind(P);P.canvas_=document.createElement("canvas");P.canvas_.style.position="absolute";P.canvas_.style.left="0";P.gl_=(0,x.getContext)(P.canvas_);var L=P.getGL();P.bufferCache_={};P.currentProgram_=null;(0,y.assert)((0,e.includes)((0,x.getSupportedExtensions)(),"OES_element_index_uint"),63);L.getExtension("OES_element_index_uint");P.canvas_.addEventListener(F["default"].LOST,P.boundHandleWebGLContextLost_);P.canvas_.addEventListener(F["default"].RESTORED,
P.boundHandleWebGLContextRestored_);P.offsetRotateMatrix_=(0,l.create)();P.offsetScaleMatrix_=(0,l.create)();P.tmpMat4_=(0,h.create)();P.uniformLocations_={};P.attribLocations_={};P.uniforms_=[];if(D.uniforms)for(var G in D.uniforms)P.uniforms_.push({name:G,value:D.uniforms[G]});P.postProcessPasses_=D.postProcesses?D.postProcesses.map(function(z){return new O["default"]({webGlContext:L,scaleRatio:z.scaleRatio,vertexShader:z.vertexShader,fragmentShader:z.fragmentShader,uniforms:z.uniforms})}):[new O["default"]({webGlContext:L})];
P.shaderCompileErrors_=null;P.startTime_=Date.now();return P}a(C,A);C.prototype.bindBuffer=function(D){var P=this.getGL(),L=(0,c.getUid)(D),G=this.bufferCache_[L];G||(G=P.createBuffer(),G={buffer:D,webGlBuffer:G},this.bufferCache_[L]=G);P.bindBuffer(D.getType(),G.webGlBuffer)};C.prototype.flushBufferData=function(D){var P=this.getGL();this.bindBuffer(D);P.bufferData(D.getType(),D.getArray(),D.getUsage())};C.prototype.deleteBuffer=function(D){var P=this.getGL();D=(0,c.getUid)(D);var L=this.bufferCache_[D];
P.isContextLost()||P.deleteBuffer(L.buffer);delete this.bufferCache_[D]};C.prototype.disposeInternal=function(){this.canvas_.removeEventListener(F["default"].LOST,this.boundHandleWebGLContextLost_);this.canvas_.removeEventListener(F["default"].RESTORED,this.boundHandleWebGLContextRestored_)};C.prototype.prepareDraw=function(D){var P=this.getGL(),L=this.getCanvas(),G=D.size,z=D.pixelRatio;L.width=G[0]*z;L.height=G[1]*z;L.style.width=G[0]+"px";L.style.height=G[1]+"px";P.useProgram(this.currentProgram_);
for(L=this.postProcessPasses_.length-1;0<=L;L--)this.postProcessPasses_[L].init(D);P.bindTexture(P.TEXTURE_2D,null);P.clearColor(0,0,0,0);P.clear(P.COLOR_BUFFER_BIT);P.enable(P.BLEND);P.blendFunc(P.ONE,P.ONE_MINUS_SRC_ALPHA);P.useProgram(this.currentProgram_);this.applyFrameState(D);this.applyUniforms(D)};C.prototype.prepareDrawToRenderTarget=function(D,P,L){var G=this.getGL(),z=P.getSize();G.bindFramebuffer(G.FRAMEBUFFER,P.getFramebuffer());G.viewport(0,0,z[0],z[1]);G.bindTexture(G.TEXTURE_2D,P.getTexture());
G.clearColor(0,0,0,0);G.clear(G.COLOR_BUFFER_BIT);G.enable(G.BLEND);G.blendFunc(G.ONE,L?G.ZERO:G.ONE_MINUS_SRC_ALPHA);G.useProgram(this.currentProgram_);this.applyFrameState(D);this.applyUniforms(D)};C.prototype.drawElements=function(D,P){var L=this.getGL();L.drawElements(L.TRIANGLES,P-D,L.UNSIGNED_INT,4*D)};C.prototype.finalizeDraw=function(D){for(var P=0;P<this.postProcessPasses_.length;P++)this.postProcessPasses_[P].apply(D,this.postProcessPasses_[P+1]||null)};C.prototype.getCanvas=function(){return this.canvas_};
C.prototype.getGL=function(){return this.gl_};C.prototype.applyFrameState=function(D){var P=D.size,L=D.viewState.rotation,G=(0,l.reset)(this.offsetScaleMatrix_);(0,l.scale)(G,2/P[0],2/P[1]);P=(0,l.reset)(this.offsetRotateMatrix_);0!==L&&(0,l.rotate)(P,-L);this.setUniformMatrixValue(f.OFFSET_SCALE_MATRIX,(0,h.fromTransform)(this.tmpMat4_,G));this.setUniformMatrixValue(f.OFFSET_ROTATION_MATRIX,(0,h.fromTransform)(this.tmpMat4_,P));this.setUniformFloatValue(f.TIME,.001*(Date.now()-this.startTime_));
this.setUniformFloatValue(f.ZOOM,D.viewState.zoom);this.setUniformFloatValue(f.RESOLUTION,D.viewState.resolution)};C.prototype.applyUniforms=function(D){var P=this.getGL(),L,G=0;this.uniforms_.forEach(function(z){L="function"===typeof z.value?z.value(D):z.value;if(L instanceof HTMLCanvasElement||L instanceof HTMLImageElement||L instanceof ImageData)z.texture||(z.prevValue=void 0,z.texture=P.createTexture()),P.activeTexture(P["TEXTURE"+G]),P.bindTexture(P.TEXTURE_2D,z.texture),P.texParameteri(P.TEXTURE_2D,
P.TEXTURE_MIN_FILTER,P.LINEAR),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_WRAP_S,P.CLAMP_TO_EDGE),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_WRAP_T,P.CLAMP_TO_EDGE),L instanceof HTMLImageElement&&!L.complete||z.prevValue===L||(z.prevValue=L,P.texImage2D(P.TEXTURE_2D,0,P.RGBA,P.RGBA,P.UNSIGNED_BYTE,L)),P.uniform1i(this.getUniformLocation(z.name),G++);else if(Array.isArray(L)&&6===L.length)this.setUniformMatrixValue(z.name,(0,h.fromTransform)(this.tmpMat4_,L));else if(Array.isArray(L)&&4>=L.length)switch(L.length){case 2:P.uniform2f(this.getUniformLocation(z.name),
L[0],L[1]);break;case 3:P.uniform3f(this.getUniformLocation(z.name),L[0],L[1],L[2]);break;case 4:P.uniform4f(this.getUniformLocation(z.name),L[0],L[1],L[2],L[3])}else"number"===typeof L&&P.uniform1f(this.getUniformLocation(z.name),L)}.bind(this))};C.prototype.useProgram=function(D){if(D==this.currentProgram_)return!1;this.getGL().useProgram(D);this.currentProgram_=D;this.uniformLocations_={};this.attribLocations_={};return!0};C.prototype.compileShader=function(D,P){var L=this.getGL();P=L.createShader(P);
L.shaderSource(P,D);L.compileShader(P);return P};C.prototype.getProgram=function(D,P){var L=this.getGL();D=this.compileShader(D,L.FRAGMENT_SHADER);P=this.compileShader(P,L.VERTEX_SHADER);this.shaderCompileErrors_=null;L.getShaderInfoLog(D)&&(this.shaderCompileErrors_="Fragment shader compilation failed:\n"+L.getShaderInfoLog(D));L.getShaderInfoLog(P)&&(this.shaderCompileErrors_=(this.shaderCompileErrors_||"")+("Vertex shader compilation failed:\n"+L.getShaderInfoLog(P)));var G=L.createProgram();L.attachShader(G,
D);L.attachShader(G,P);L.linkProgram(G);return G};C.prototype.getShaderCompileErrors=function(){return this.shaderCompileErrors_};C.prototype.getUniformLocation=function(D){void 0===this.uniformLocations_[D]&&(this.uniformLocations_[D]=this.getGL().getUniformLocation(this.currentProgram_,D));return this.uniformLocations_[D]};C.prototype.getAttributeLocation=function(D){void 0===this.attribLocations_[D]&&(this.attribLocations_[D]=this.getGL().getAttribLocation(this.currentProgram_,D));return this.attribLocations_[D]};
C.prototype.makeProjectionTransform=function(D,P){var L=D.size,G=D.viewState.rotation,z=D.viewState.resolution;D=D.viewState.center;(0,l.reset)(P);(0,l.compose)(P,0,0,2/(z*L[0]),2/(z*L[1]),-G,-D[0],-D[1]);return P};C.prototype.setUniformFloatValue=function(D,P){this.getGL().uniform1f(this.getUniformLocation(D),P)};C.prototype.setUniformMatrixValue=function(D,P){this.getGL().uniformMatrix4fv(this.getUniformLocation(D),!1,P)};C.prototype.enableAttributeArray_=function(D,P,L,G,z){D=this.getAttributeLocation(D);
0>D||(this.getGL().enableVertexAttribArray(D),this.getGL().vertexAttribPointer(D,P,L,!1,G,z))};C.prototype.enableAttributes=function(D){for(var P=m(D),L=0,G=0;G<D.length;G++){var z=D[G];this.enableAttributeArray_(z.name,z.size,z.type||x.FLOAT,P,L);L+=z.size*n(z.type)}};C.prototype.handleWebGLContextLost=function(){(0,q.clear)(this.bufferCache_);this.currentProgram_=null};C.prototype.handleWebGLContextRestored=function(){};C.prototype.createTexture=function(D,P,L){var G=this.getGL();L=L||G.createTexture();
var z=G.RGBA,J=G.RGBA,K=G.UNSIGNED_BYTE;G.bindTexture(G.TEXTURE_2D,L);P?G.texImage2D(G.TEXTURE_2D,0,z,J,K,P):G.texImage2D(G.TEXTURE_2D,0,z,D[0],D[1],0,J,K,null);G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MIN_FILTER,G.LINEAR);G.texParameteri(G.TEXTURE_2D,G.TEXTURE_WRAP_S,G.CLAMP_TO_EDGE);G.texParameteri(G.TEXTURE_2D,G.TEXTURE_WRAP_T,G.CLAMP_TO_EDGE);return L};return C}(Ha["default"]);E["default"]=B};
shadow$provide[326]=function(Ha,B,rb,E){function g(l){return l&&l.__esModule?l:{"default":l}}function m(l,h,c,e,a){l[h+0]=c;l[h+1]=e;l[h+2]=a}Object.defineProperty(E,"__esModule",{value:!0});E.writePointFeatureToBuffers=function(l,h,c,e,a,f){var p=3+a,A=l[h+0],C=l[h+1],D=y;D.length=a;for(a=0;a<D.length;a++)D[a]=l[h+2+a];l=f?f.vertexPosition:0;f=f?f.indexPosition:0;h=l/p;m(c,l,A,C,0);D.length&&c.set(D,l+3);l+=p;m(c,l,A,C,1);D.length&&c.set(D,l+3);l+=p;m(c,l,A,C,2);D.length&&c.set(D,l+3);l+=p;m(c,l,
A,C,3);D.length&&c.set(D,l+3);e[f++]=h;e[f++]=h+1;e[f++]=h+3;e[f++]=h+1;e[f++]=h+2;e[f++]=h+3;q.vertexPosition=l+p;q.indexPosition=f;return q};E.getBlankImageData=function(){var l=document.createElement("canvas").getContext("2d").createImageData(1,1);l.data[0]=255;l.data[1]=255;l.data[2]=255;l.data[3]=255;return l};E.colorEncodeId=function(l,h){h=h||[];h[0]=Math.floor(l/256/256/256)/255;h[1]=Math.floor(l/256/256)%256/255;h[2]=Math.floor(l/256)%256/255;h[3]=l%256/255;return h};E.colorDecodeId=function(l){var h=
0+Math.round(4278190080*l[0]);h+=Math.round(16711680*l[1]);h+=Math.round(65280*l[2]);return h+=Math.round(255*l[3])};E["default"]=E.WebGLWorkerMessageType=void 0;Ha=g(B(222));var n=g(B(104)),F=g(B(98)),O=g(B(325)),x=function(){var l=function(h,c){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,a){e.__proto__=a}||function(e,a){for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(e[f]=a[f])};return l(h,c)};return function(h,c){function e(){this.constructor=h}l(h,c);h.prototype=
null===c?Object.create(c):(e.prototype=c.prototype,new e)}}();E.WebGLWorkerMessageType={GENERATE_BUFFERS:"GENERATE_BUFFERS"};B=function(l){function h(c,e){c=l.call(this,c)||this;e=e||{};c.helper=new O["default"]({postProcesses:e.postProcesses,uniforms:e.uniforms});void 0!==e.className&&(c.helper.getCanvas().className=e.className);return c}x(h,l);h.prototype.disposeInternal=function(){this.helper.dispose();l.prototype.disposeInternal.call(this)};h.prototype.getShaderCompileErrors=function(){return this.helper.getShaderCompileErrors()};
h.prototype.dispatchRenderEvent_=function(c,e){var a=this.getLayer();a.hasListener(c)&&(c=new n["default"](c,null,e,null),a.dispatchEvent(c))};h.prototype.preRender=function(c){this.dispatchRenderEvent_(F["default"].PRERENDER,c)};h.prototype.postRender=function(c){this.dispatchRenderEvent_(F["default"].POSTRENDER,c)};return h}(Ha["default"]);var y=[],q={vertexPosition:0,indexPosition:0};E["default"]=B};
shadow$provide[327]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var g=B(76),m=new Uint8Array(4);Ha=function(){function n(F,O){this.helper_=F;F=F.getGL();this.texture_=F.createTexture();this.framebuffer_=F.createFramebuffer();this.size_=O||[1,1];this.data_=new Uint8Array(0);this.dataCacheDirty_=!0;this.updateSize_()}n.prototype.setSize=function(F){(0,g.equals)(F,this.size_)||(this.size_[0]=F[0],this.size_[1]=F[1],this.updateSize_())};n.prototype.getSize=
function(){return this.size_};n.prototype.clearCachedData=function(){this.dataCacheDirty_=!0};n.prototype.readAll=function(){if(this.dataCacheDirty_){var F=this.size_,O=this.helper_.getGL();O.bindFramebuffer(O.FRAMEBUFFER,this.framebuffer_);O.readPixels(0,0,F[0],F[1],O.RGBA,O.UNSIGNED_BYTE,this.data_);this.dataCacheDirty_=!1}return this.data_};n.prototype.readPixel=function(F,O){if(0>F||0>O||F>this.size_[0]||O>=this.size_[1])return m[0]=0,m[1]=0,m[2]=0,m[3]=0,m;this.readAll();F=Math.floor(F)+(this.size_[1]-
Math.floor(O)-1)*this.size_[0];m[0]=this.data_[4*F];m[1]=this.data_[4*F+1];m[2]=this.data_[4*F+2];m[3]=this.data_[4*F+3];return m};n.prototype.getTexture=function(){return this.texture_};n.prototype.getFramebuffer=function(){return this.framebuffer_};n.prototype.updateSize_=function(){var F=this.size_,O=this.helper_.getGL();this.texture_=this.helper_.createTexture(F,null,this.texture_);O.bindFramebuffer(O.FRAMEBUFFER,this.framebuffer_);O.viewport(0,0,F[0],F[1]);O.framebufferTexture2D(O.FRAMEBUFFER,
O.COLOR_ATTACHMENT0,O.TEXTURE_2D,this.texture_,0);this.data_=new Uint8Array(F[0]*F[1]*4)};return n}();E["default"]=Ha};
shadow$provide[328]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.create=function(){return new Worker(g)};Ha=new Blob(['var e\x3d"function"\x3d\x3dtypeof Object.assign?Object.assign:function(e,n){if(null\x3d\x3de)throw new TypeError("Cannot convert undefined or null to object");for(var t\x3dObject(e),r\x3d1,o\x3darguments.length;r\x3co;++r){var i\x3darguments[r];if(null!\x3di)for(var f in i)i.hasOwnProperty(f)\x26\x26(t[f]\x3di[f])}return t},n\x3d"GENERATE_BUFFERS",t\x3d[],r\x3d{vertexPosition:0,indexPosition:0};function o(e,n,t,r,o){e[n+0]\x3dt,e[n+1]\x3dr,e[n+2]\x3do}function i(e,n,i,f,s,u){var a\x3d3+s,l\x3de[n+0],v\x3de[n+1],c\x3dt;c.length\x3ds;for(var g\x3d0;g\x3cc.length;g++)c[g]\x3de[n+2+g];var b\x3du?u.vertexPosition:0,h\x3du?u.indexPosition:0,d\x3db/a;return o(i,b,l,v,0),c.length\x26\x26i.set(c,b+3),o(i,b+\x3da,l,v,1),c.length\x26\x26i.set(c,b+3),o(i,b+\x3da,l,v,2),c.length\x26\x26i.set(c,b+3),o(i,b+\x3da,l,v,3),c.length\x26\x26i.set(c,b+3),b+\x3da,f[h++]\x3dd,f[h++]\x3dd+1,f[h++]\x3dd+3,f[h++]\x3dd+1,f[h++]\x3dd+2,f[h++]\x3dd+3,r.vertexPosition\x3db,r.indexPosition\x3dh,r}var f\x3dself;f.onmessage\x3dfunction(t){var r\x3dt.data;if(r.type\x3d\x3d\x3dn){for(var o\x3dr.customAttributesCount,s\x3d2+o,u\x3dnew Float32Array(r.renderInstructions),a\x3du.length/s,l\x3d4*a*(o+3),v\x3dnew Uint32Array(6*a),c\x3dnew Float32Array(l),g\x3dnull,b\x3d0;b\x3cu.length;b+\x3ds)g\x3di(u,b,c,v,o,g);var h\x3de({vertexBuffer:c.buffer,indexBuffer:v.buffer,renderInstructions:u.buffer},r);f.postMessage(h,[c.buffer,v.buffer,u.buffer])}};'],
{type:"application/javascript"});var g=URL.createObjectURL(Ha)};
shadow$provide[329]=function(Ha,B,rb,E){function g(L){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(G){return typeof G}:function(G){return G&&"function"===typeof Symbol&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G};return g(L)}function m(){if("function"!==typeof WeakMap)return null;var L=new WeakMap;m=function(){return L};return L}function n(L){return L&&L.__esModule?L:{"default":L}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;
var F=n(B(211)),O=n(B(123)),x=n(B(243)),y=n(B(125)),q=n(B(321)),l=function(L){if(L&&L.__esModule)return L;if(null===L||"object"!==g(L)&&"function"!==typeof L)return{"default":L};var G=m();if(G&&G.has(L))return G.get(L);var z={},J=Object.defineProperty&&Object.getOwnPropertyDescriptor,K;for(K in L)if(Object.prototype.hasOwnProperty.call(L,K)){var R=J?Object.getOwnPropertyDescriptor(L,K):null;R&&(R.get||R.set)?Object.defineProperty(z,K,R):z[K]=L[K]}z["default"]=L;G&&G.set(L,z);return z}(B(326)),h=n(B(327)),
c=B(320),e=B(325),a=B(81),f=B(80),p=B(84),A=B(328),C=B(78),D=B(93),P=function(){var L=function(G,z){L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,K){J.__proto__=K}||function(J,K){for(var R in K)Object.prototype.hasOwnProperty.call(K,R)&&(J[R]=K[R])};return L(G,z)};return function(G,z){function J(){this.constructor=G}L(G,z);G.prototype=null===z?Object.create(z):(J.prototype=z.prototype,new J)}}();Ha=function(L){function G(z,J){var K=this;K=J.uniforms||{};var R=(0,a.create)();
K[e.DefaultUniform.PROJECTION_MATRIX]=R;K=L.call(this,z,{className:J.className,uniforms:K,postProcesses:J.postProcesses})||this;K.sourceRevision_=-1;K.verticesBuffer_=new q["default"](c.ARRAY_BUFFER,c.DYNAMIC_DRAW);K.hitVerticesBuffer_=new q["default"](c.ARRAY_BUFFER,c.DYNAMIC_DRAW);K.indicesBuffer_=new q["default"](c.ELEMENT_ARRAY_BUFFER,c.DYNAMIC_DRAW);K.program_=K.helper.getProgram(J.fragmentShader,J.vertexShader);K.hitDetectionEnabled_=J.hitFragmentShader&&J.hitVertexShader?!0:!1;K.hitProgram_=
K.hitDetectionEnabled_&&K.helper.getProgram(J.hitFragmentShader,J.hitVertexShader);z=J.attributes?J.attributes.map(function(U){return{name:"a_"+U.name,size:1,type:e.AttributeType.FLOAT}}):[];K.attributes=[{name:"a_position",size:2,type:e.AttributeType.FLOAT},{name:"a_index",size:1,type:e.AttributeType.FLOAT}].concat(z);K.hitDetectionAttributes=[{name:"a_position",size:2,type:e.AttributeType.FLOAT},{name:"a_index",size:1,type:e.AttributeType.FLOAT},{name:"a_hitColor",size:4,type:e.AttributeType.FLOAT},
{name:"a_featureUid",size:1,type:e.AttributeType.FLOAT}].concat(z);K.customAttributes=J.attributes?J.attributes:[];K.previousExtent_=(0,p.createEmpty)();K.currentTransform_=R;K.renderTransform_=(0,a.create)();K.invertRenderTransform_=(0,a.create)();K.renderInstructions_=new Float32Array(0);K.hitRenderInstructions_=new Float32Array(0);K.hitRenderTarget_=K.hitDetectionEnabled_&&new h["default"](K.helper);K.worker_=(0,A.create)();K.worker_.addEventListener("message",function(U){var ka=U.data;if(ka.type===
l.WebGLWorkerMessageType.GENERATE_BUFFERS){var ba=ka.projectionTransform;ka.hitDetection?(this.hitVerticesBuffer_.fromArrayBuffer(ka.vertexBuffer),this.helper.flushBufferData(this.hitVerticesBuffer_)):(this.verticesBuffer_.fromArrayBuffer(ka.vertexBuffer),this.helper.flushBufferData(this.verticesBuffer_));this.indicesBuffer_.fromArrayBuffer(ka.indexBuffer);this.helper.flushBufferData(this.indicesBuffer_);this.renderTransform_=ba;(0,a.makeInverse)(this.invertRenderTransform_,this.renderTransform_);
ka.hitDetection?this.hitRenderInstructions_=new Float32Array(U.data.renderInstructions):this.renderInstructions_=new Float32Array(U.data.renderInstructions);this.getLayer().changed()}}.bind(K));K.featureCache_={};K.featureCount_=0;J=K.getLayer().getSource();K.sourceListenKeys_=[(0,D.listen)(J,x["default"].ADDFEATURE,K.handleSourceFeatureAdded_,K),(0,D.listen)(J,x["default"].CHANGEFEATURE,K.handleSourceFeatureChanged_,K),(0,D.listen)(J,x["default"].REMOVEFEATURE,K.handleSourceFeatureDelete_,K),(0,
D.listen)(J,x["default"].CLEAR,K.handleSourceFeatureClear_,K)];J.forEachFeature(function(U){this.featureCache_[(0,C.getUid)(U)]={feature:U,properties:U.getProperties(),geometry:U.getGeometry()};this.featureCount_++}.bind(K));return K}P(G,L);G.prototype.handleSourceFeatureAdded_=function(z){z=z.feature;this.featureCache_[(0,C.getUid)(z)]={feature:z,properties:z.getProperties(),geometry:z.getGeometry()};this.featureCount_++};G.prototype.handleSourceFeatureChanged_=function(z){z=z.feature;this.featureCache_[(0,
C.getUid)(z)]={feature:z,properties:z.getProperties(),geometry:z.getGeometry()}};G.prototype.handleSourceFeatureDelete_=function(z){z=z.feature;delete this.featureCache_[(0,C.getUid)(z)];this.featureCount_--};G.prototype.handleSourceFeatureClear_=function(){this.featureCache_={};this.featureCount_=0};G.prototype.renderFrame=function(z){this.preRender(z);var J=this.indicesBuffer_.getSize();this.helper.drawElements(0,J);this.helper.finalizeDraw(z);J=this.helper.getCanvas();var K=z.layerStatesArray[z.layerIndex].opacity;
K!==parseFloat(J.style.opacity)&&(J.style.opacity=String(K));this.hitDetectionEnabled_&&(this.renderHitDetection(z),this.hitRenderTarget_.clearCachedData());this.postRender(z);return J};G.prototype.prepareFrame=function(z){var J=this.getLayer(),K=J.getSource(),R=z.viewState,U=!z.viewHints[y["default"].ANIMATING]&&!z.viewHints[y["default"].INTERACTING],ka=!(0,p.equals)(this.previousExtent_,z.extent),ba=this.sourceRevision_<K.getRevision();ba&&(this.sourceRevision_=K.getRevision());U&&(ka||ba)&&(U=
R.projection,R=R.resolution,J=J instanceof F["default"]?J.getRenderBuffer():0,J=(0,p.buffer)(z.extent,J*R),K.loadFeatures(J,R,U),this.rebuildBuffers_(z),this.previousExtent_=z.extent.slice());this.helper.makeProjectionTransform(z,this.currentTransform_);(0,a.multiply)(this.currentTransform_,this.invertRenderTransform_);this.helper.useProgram(this.program_);this.helper.prepareDraw(z);this.helper.bindBuffer(this.verticesBuffer_);this.helper.bindBuffer(this.indicesBuffer_);this.helper.enableAttributes(this.attributes);
return!0};G.prototype.rebuildBuffers_=function(z){var J=(0,a.create)();this.helper.makeProjectionTransform(z,J);z=(2+this.customAttributes.length)*this.featureCount_;this.renderInstructions_&&this.renderInstructions_.length===z||(this.renderInstructions_=new Float32Array(z));this.hitDetectionEnabled_&&(z=(7+this.customAttributes.length)*this.featureCount_,this.hitRenderInstructions_&&this.hitRenderInstructions_.length===z||(this.hitRenderInstructions_=new Float32Array(z)));var K,R=[],U=[],ka=0,ba=
0;for(ja in this.featureCache_)if(z=this.featureCache_[ja],(K=z.geometry)&&K.getType()===O["default"].POINT){R[0]=K.getFlatCoordinates()[0];R[1]=K.getFlatCoordinates()[1];(0,a.apply)(J,R);K=(0,l.colorEncodeId)(ba+6,U);this.renderInstructions_[ka++]=R[0];this.renderInstructions_[ka++]=R[1];this.hitDetectionEnabled_&&(this.hitRenderInstructions_[ba++]=R[0],this.hitRenderInstructions_[ba++]=R[1],this.hitRenderInstructions_[ba++]=K[0],this.hitRenderInstructions_[ba++]=K[1],this.hitRenderInstructions_[ba++]=
K[2],this.hitRenderInstructions_[ba++]=K[3],this.hitRenderInstructions_[ba++]=Number(ja));for(var da=0;da<this.customAttributes.length;da++)K=this.customAttributes[da].callback(z.feature,z.properties),this.renderInstructions_[ka++]=K,this.hitDetectionEnabled_&&(this.hitRenderInstructions_[ba++]=K)}var ja={type:l.WebGLWorkerMessageType.GENERATE_BUFFERS,renderInstructions:this.renderInstructions_.buffer,customAttributesCount:this.customAttributes.length};ja.projectionTransform=J;this.worker_.postMessage(ja,
[this.renderInstructions_.buffer]);this.renderInstructions_=null;this.hitDetectionEnabled_&&(ja={type:l.WebGLWorkerMessageType.GENERATE_BUFFERS,renderInstructions:this.hitRenderInstructions_.buffer,customAttributesCount:5+this.customAttributes.length},ja.projectionTransform=J,ja.hitDetection=!0,this.worker_.postMessage(ja,[this.hitRenderInstructions_.buffer]),this.hitRenderInstructions_=null)};G.prototype.forEachFeatureAtCoordinate=function(z,J,K,R,U){(0,f.assert)(this.hitDetectionEnabled_,66);if(this.hitRenderInstructions_&&
(z=(0,a.apply)(J.coordinateToPixelTransform,z.slice()),z=this.hitRenderTarget_.readPixel(z[0]/2,z[1]/2),z=[z[0]/255,z[1]/255,z[2]/255,z[3]/255],z=(0,l.colorDecodeId)(z),z=Math.floor(this.hitRenderInstructions_[z]).toString(),z=this.getLayer().getSource().getFeatureByUid(z)))return R(z,this.getLayer(),null)};G.prototype.renderHitDetection=function(z){this.hitVerticesBuffer_.getSize()&&(this.hitRenderTarget_.setSize([Math.floor(z.size[0]/2),Math.floor(z.size[1]/2)]),this.helper.useProgram(this.hitProgram_),
this.helper.prepareDrawToRenderTarget(z,this.hitRenderTarget_,!0),this.helper.bindBuffer(this.hitVerticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.hitDetectionAttributes),z=this.indicesBuffer_.getSize(),this.helper.drawElements(0,z))};G.prototype.disposeInternal=function(){this.worker_.terminate();this.layer_=null;this.sourceListenKeys_.forEach(function(z){(0,D.unlistenByKey)(z)});this.sourceListenKeys_=null;L.prototype.disposeInternal.call(this)};return G}(l["default"]);
E["default"]=Ha};
shadow$provide[330]=function(Ha,B,rb,E){function g(l){return l&&l.__esModule?l:{"default":l}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=g(B(240));var m=g(B(329)),n=B(90),F=B(85),O=B(107),x=B(95),y=function(){var l=function(h,c){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,a){e.__proto__=a}||function(e,a){for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(e[f]=a[f])};return l(h,c)};return function(h,c){function e(){this.constructor=h}l(h,
c);h.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)}}(),q=["#00f","#0ff","#0f0","#ff0","#f00"];B=function(l){function h(c){var e=this;c=c?c:{};e=(0,n.assign)({},c);delete e.gradient;delete e.radius;delete e.blur;delete e.weight;e=l.call(this,e)||this;e.gradient_=null;e.addEventListener((0,x.getChangeEventType)("gradient"),e.handleGradientChanged_);e.setGradient(c.gradient?c.gradient:q);e.setBlur(void 0!==c.blur?c.blur:15);e.setRadius(void 0!==c.radius?c.radius:8);var a=c.weight?
c.weight:"weight";e.weightFunction_="string"===typeof a?function(f){return f.get(a)}:a;e.setRenderOrder(null);return e}y(h,l);h.prototype.getBlur=function(){return this.get("blur")};h.prototype.getGradient=function(){return this.get("gradient")};h.prototype.getRadius=function(){return this.get("radius")};h.prototype.handleGradientChanged_=function(){for(var c=this.getGradient(),e=(0,O.createCanvasContext2D)(1,256),a=e.createLinearGradient(0,0,1,256),f=1/(c.length-1),p=0,A=c.length;p<A;++p)a.addColorStop(p*
f,c[p]);e.fillStyle=a;e.fillRect(0,0,1,256);this.gradient_=e.canvas};h.prototype.setBlur=function(c){this.set("blur",c)};h.prototype.setGradient=function(c){this.set("gradient",c)};h.prototype.setRadius=function(c){this.set("radius",c)};h.prototype.createRenderer=function(){return new m["default"](this,{className:this.getClassName(),attributes:[{name:"weight",callback:function(c){c=this.weightFunction_(c);return void 0!==c?(0,F.clamp)(c,0,1):1}.bind(this)}],vertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          mat4 offsetMatrix \x3d u_offsetScaleMatrix;\n          float offsetX \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets \x3d offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position \x3d u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? 0.0 : 1.0;\n          float v \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? 0.0 : 1.0;\n          v_texCoord \x3d vec2(u, v);\n          v_weight \x3d a_weight;\n        }",
fragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          vec2 texCoord \x3d v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius \x3d texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value \x3d (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha \x3d smoothstep(0.0, 1.0, value) * v_weight;\n          gl_FragColor \x3d vec4(alpha, alpha, alpha, alpha);\n        }",
hitVertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n        attribute vec4 a_hitColor;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          mat4 offsetMatrix \x3d u_offsetScaleMatrix;\n          float offsetX \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets \x3d offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position \x3d u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? 0.0 : 1.0;\n          float v \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? 0.0 : 1.0;\n          v_texCoord \x3d vec2(u, v);\n          v_hitColor \x3d a_hitColor;\n          v_weight \x3d a_weight;\n        }",
hitFragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          vec2 texCoord \x3d v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius \x3d texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value \x3d (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha \x3d smoothstep(0.0, 1.0, value) * v_weight;\n          if (alpha \x3c 0.05) {\n            discard;\n          }\n\n          gl_FragColor \x3d v_hitColor;\n        }",
uniforms:{u_size:function(){return 2*(this.get("radius")+this.get("blur"))}.bind(this),u_blurSlope:function(){return this.get("radius")/Math.max(1,this.get("blur"))}.bind(this)},postProcesses:[{fragmentShader:"\n            precision mediump float;\n\n            uniform sampler2D u_image;\n            uniform sampler2D u_gradientTexture;\n\n            varying vec2 v_texCoord;\n\n            void main() {\n              vec4 color \x3d texture2D(u_image, v_texCoord);\n              gl_FragColor.a \x3d color.a;\n              gl_FragColor.rgb \x3d texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;\n              gl_FragColor.rgb *\x3d gl_FragColor.a;\n            }",
uniforms:{u_gradientTexture:function(){return this.gradient_}.bind(this)}}]})};h.prototype.renderDeclutter=function(){};return h}(Ha["default"]);E["default"]=B};
shadow$provide[331]=function(Ha,B,rb,E){function g(G){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(G)?G:new Uint8Array(G||0);this.type=this.pos=0;this.length=this.buf.length}function m(G,z,J){var K=J.buf;var R=K[J.pos++];var U=(R&112)>>4;if(128>R)return F(G,U,z);R=K[J.pos++];U|=(R&127)<<3;if(128>R)return F(G,U,z);R=K[J.pos++];U|=(R&127)<<10;if(128>R)return F(G,U,z);R=K[J.pos++];U|=(R&127)<<17;if(128>R)return F(G,U,z);R=K[J.pos++];U|=(R&127)<<24;if(128>R)return F(G,U,z);R=K[J.pos++];if(128>R)return F(G,
U|(R&1)<<31,z);throw Error("Expected varint not more than 10 bytes");}function n(G){return G.type===g.Bytes?G.readVarint()+G.pos:G.pos+1}function F(G,z,J){return J?4294967296*z+(G>>>0):4294967296*(z>>>0)+(G>>>0)}function O(G,z,J){z=16383>=z?1:2097151>=z?2:268435455>=z?3:Math.floor(Math.log(z)/(7*Math.LN2));J.realloc(z);for(var K=J.pos-1;K>=G;K--)J.buf[K+z]=J.buf[K]}function x(G,z){for(var J=0;J<G.length;J++)z.writeVarint(G[J])}function y(G,z){for(var J=0;J<G.length;J++)z.writeSVarint(G[J])}function q(G,
z){for(var J=0;J<G.length;J++)z.writeFloat(G[J])}function l(G,z){for(var J=0;J<G.length;J++)z.writeDouble(G[J])}function h(G,z){for(var J=0;J<G.length;J++)z.writeBoolean(G[J])}function c(G,z){for(var J=0;J<G.length;J++)z.writeFixed32(G[J])}function e(G,z){for(var J=0;J<G.length;J++)z.writeSFixed32(G[J])}function a(G,z){for(var J=0;J<G.length;J++)z.writeFixed64(G[J])}function f(G,z){for(var J=0;J<G.length;J++)z.writeSFixed64(G[J])}function p(G,z){return(G[z]|G[z+1]<<8|G[z+2]<<16)+16777216*G[z+3]}function A(G,
z,J){G[J]=z;G[J+1]=z>>>8;G[J+2]=z>>>16;G[J+3]=z>>>24}function C(G,z){return(G[z]|G[z+1]<<8|G[z+2]<<16)+(G[z+3]<<24)}rb.exports=g;var D=B(22);g.Varint=0;g.Fixed64=1;g.Bytes=2;g.Fixed32=5;var P=1/4294967296,L="undefined"===typeof TextDecoder?null:new TextDecoder("utf8");g.prototype={destroy:function(){this.buf=null},readFields:function(G,z,J){for(J=J||this.length;this.pos<J;){var K=this.readVarint(),R=K>>3,U=this.pos;this.type=K&7;G(R,z,this);this.pos===U&&this.skip(K)}return z},readMessage:function(G,
z){return this.readFields(G,z,this.readVarint()+this.pos)},readFixed32:function(){var G=p(this.buf,this.pos);this.pos+=4;return G},readSFixed32:function(){var G=C(this.buf,this.pos);this.pos+=4;return G},readFixed64:function(){var G=p(this.buf,this.pos)+4294967296*p(this.buf,this.pos+4);this.pos+=8;return G},readSFixed64:function(){var G=p(this.buf,this.pos)+4294967296*C(this.buf,this.pos+4);this.pos+=8;return G},readFloat:function(){var G=D.read(this.buf,this.pos,!0,23,4);this.pos+=4;return G},readDouble:function(){var G=
D.read(this.buf,this.pos,!0,52,8);this.pos+=8;return G},readVarint:function(G){var z=this.buf;var J=z[this.pos++];var K=J&127;if(128>J)return K;J=z[this.pos++];K|=(J&127)<<7;if(128>J)return K;J=z[this.pos++];K|=(J&127)<<14;if(128>J)return K;J=z[this.pos++];K|=(J&127)<<21;if(128>J)return K;J=z[this.pos];return m(K|(J&15)<<28,G,this)},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var G=this.readVarint();return 1===G%2?(G+1)/-2:G/2},readBoolean:function(){return!!this.readVarint()},
readString:function(){var G=this.readVarint()+this.pos,z=this.pos;this.pos=G;if(12<=G-z&&L)return L.decode(this.buf.subarray(z,G));for(var J=this.buf,K="";z<G;){var R=J[z],U=null,ka=239<R?4:223<R?3:191<R?2:1;if(z+ka>G)break;if(1===ka)128>R&&(U=R);else if(2===ka){var ba=J[z+1];128===(ba&192)&&(U=(R&31)<<6|ba&63,127>=U&&(U=null))}else if(3===ka){ba=J[z+1];var da=J[z+2];128===(ba&192)&&128===(da&192)&&(U=(R&15)<<12|(ba&63)<<6|da&63,2047>=U||55296<=U&&57343>=U)&&(U=null)}else if(4===ka){ba=J[z+1];da=
J[z+2];var ja=J[z+3];128===(ba&192)&&128===(da&192)&&128===(ja&192)&&(U=(R&15)<<18|(ba&63)<<12|(da&63)<<6|ja&63,65535>=U||1114112<=U)&&(U=null)}null===U?(U=65533,ka=1):65535<U&&(U-=65536,K+=String.fromCharCode(U>>>10&1023|55296),U=56320|U&1023);K+=String.fromCharCode(U);z+=ka}return K},readBytes:function(){var G=this.readVarint()+this.pos,z=this.buf.subarray(this.pos,G);this.pos=G;return z},readPackedVarint:function(G,z){if(this.type!==g.Bytes)return G.push(this.readVarint(z));var J=n(this);for(G=
G||[];this.pos<J;)G.push(this.readVarint(z));return G},readPackedSVarint:function(G){if(this.type!==g.Bytes)return G.push(this.readSVarint());var z=n(this);for(G=G||[];this.pos<z;)G.push(this.readSVarint());return G},readPackedBoolean:function(G){if(this.type!==g.Bytes)return G.push(this.readBoolean());var z=n(this);for(G=G||[];this.pos<z;)G.push(this.readBoolean());return G},readPackedFloat:function(G){if(this.type!==g.Bytes)return G.push(this.readFloat());var z=n(this);for(G=G||[];this.pos<z;)G.push(this.readFloat());
return G},readPackedDouble:function(G){if(this.type!==g.Bytes)return G.push(this.readDouble());var z=n(this);for(G=G||[];this.pos<z;)G.push(this.readDouble());return G},readPackedFixed32:function(G){if(this.type!==g.Bytes)return G.push(this.readFixed32());var z=n(this);for(G=G||[];this.pos<z;)G.push(this.readFixed32());return G},readPackedSFixed32:function(G){if(this.type!==g.Bytes)return G.push(this.readSFixed32());var z=n(this);for(G=G||[];this.pos<z;)G.push(this.readSFixed32());return G},readPackedFixed64:function(G){if(this.type!==
g.Bytes)return G.push(this.readFixed64());var z=n(this);for(G=G||[];this.pos<z;)G.push(this.readFixed64());return G},readPackedSFixed64:function(G){if(this.type!==g.Bytes)return G.push(this.readSFixed64());var z=n(this);for(G=G||[];this.pos<z;)G.push(this.readSFixed64());return G},skip:function(G){G&=7;if(G===g.Varint)for(;127<this.buf[this.pos++];);else if(G===g.Bytes)this.pos=this.readVarint()+this.pos;else if(G===g.Fixed32)this.pos+=4;else if(G===g.Fixed64)this.pos+=8;else throw Error("Unimplemented type: "+
G);},writeTag:function(G,z){this.writeVarint(G<<3|z)},realloc:function(G){for(var z=this.length||16;z<this.pos+G;)z*=2;z!==this.length&&(G=new Uint8Array(z),G.set(this.buf),this.buf=G,this.length=z)},finish:function(){this.length=this.pos;this.pos=0;return this.buf.subarray(0,this.length)},writeFixed32:function(G){this.realloc(4);A(this.buf,G,this.pos);this.pos+=4},writeSFixed32:function(G){this.realloc(4);A(this.buf,G,this.pos);this.pos+=4},writeFixed64:function(G){this.realloc(8);A(this.buf,G&-1,
this.pos);A(this.buf,Math.floor(G*P),this.pos+4);this.pos+=8},writeSFixed64:function(G){this.realloc(8);A(this.buf,G&-1,this.pos);A(this.buf,Math.floor(G*P),this.pos+4);this.pos+=8},writeVarint:function(G){G=+G||0;if(268435455<G||0>G){if(0<=G){var z=G%4294967296|0;var J=G/4294967296|0}else z=~(-G%4294967296),J=~(-G/4294967296),z^4294967295?z=z+1|0:(z=0,J=J+1|0);if(1.8446744073709552E19<=G||-1.8446744073709552E19>G)throw Error("Given varint doesn't fit into 10 bytes");this.realloc(10);G=z;this.buf[this.pos++]=
G&127|128;G>>>=7;this.buf[this.pos++]=G&127|128;G>>>=7;this.buf[this.pos++]=G&127|128;G>>>=7;this.buf[this.pos++]=G&127|128;this.buf[this.pos]=G>>>7&127;this.buf[this.pos++]|=(J&7)<<4|((J>>>=3)?128:0);J&&(this.buf[this.pos++]=J&127|((J>>>=7)?128:0),J&&(this.buf[this.pos++]=J&127|((J>>>=7)?128:0),J&&(this.buf[this.pos++]=J&127|((J>>>=7)?128:0),J&&(this.buf[this.pos++]=J&127|((J>>>=7)?128:0),J&&(this.buf[this.pos++]=J&127)))))}else this.realloc(4),this.buf[this.pos++]=G&127|(127<G?128:0),127>=G||(this.buf[this.pos++]=
(G>>>=7)&127|(127<G?128:0),127>=G||(this.buf[this.pos++]=(G>>>=7)&127|(127<G?128:0),127>=G||(this.buf[this.pos++]=G>>>7&127)))},writeSVarint:function(G){this.writeVarint(0>G?2*-G-1:2*G)},writeBoolean:function(G){this.writeVarint(!!G)},writeString:function(G){G=String(G);this.realloc(4*G.length);this.pos++;for(var z=this.pos,J=this.buf,K=this.pos,R=0,U,ka;R<G.length;R++){U=G.charCodeAt(R);if(55295<U&&57344>U)if(ka)if(56320>U){J[K++]=239;J[K++]=191;J[K++]=189;ka=U;continue}else U=ka-55296<<10|U-56320|
65536,ka=null;else{56319<U||R+1===G.length?(J[K++]=239,J[K++]=191,J[K++]=189):ka=U;continue}else ka&&(J[K++]=239,J[K++]=191,J[K++]=189,ka=null);128>U?J[K++]=U:(2048>U?J[K++]=U>>6|192:(65536>U?J[K++]=U>>12|224:(J[K++]=U>>18|240,J[K++]=U>>12&63|128),J[K++]=U>>6&63|128),J[K++]=U&63|128)}this.pos=K;J=this.pos-z;128<=J&&O(z,J,this);this.pos=z-1;this.writeVarint(J);this.pos+=J},writeFloat:function(G){this.realloc(4);D.write(this.buf,G,this.pos,!0,23,4);this.pos+=4},writeDouble:function(G){this.realloc(8);
D.write(this.buf,G,this.pos,!0,52,8);this.pos+=8},writeBytes:function(G){var z=G.length;this.writeVarint(z);this.realloc(z);for(var J=0;J<z;J++)this.buf[this.pos++]=G[J]},writeRawMessage:function(G,z){this.pos++;var J=this.pos;G(z,this);G=this.pos-J;128<=G&&O(J,G,this);this.pos=J-1;this.writeVarint(G);this.pos+=G},writeMessage:function(G,z,J){this.writeTag(G,g.Bytes);this.writeRawMessage(z,J)},writePackedVarint:function(G,z){z.length&&this.writeMessage(G,x,z)},writePackedSVarint:function(G,z){z.length&&
this.writeMessage(G,y,z)},writePackedBoolean:function(G,z){z.length&&this.writeMessage(G,h,z)},writePackedFloat:function(G,z){z.length&&this.writeMessage(G,q,z)},writePackedDouble:function(G,z){z.length&&this.writeMessage(G,l,z)},writePackedFixed32:function(G,z){z.length&&this.writeMessage(G,c,z)},writePackedSFixed32:function(G,z){z.length&&this.writeMessage(G,e,z)},writePackedFixed64:function(G,z){z.length&&this.writeMessage(G,a,z)},writePackedSFixed64:function(G,z){z.length&&this.writeMessage(G,
f,z)},writeBytesField:function(G,z){this.writeTag(G,g.Bytes);this.writeBytes(z)},writeFixed32Field:function(G,z){this.writeTag(G,g.Fixed32);this.writeFixed32(z)},writeSFixed32Field:function(G,z){this.writeTag(G,g.Fixed32);this.writeSFixed32(z)},writeFixed64Field:function(G,z){this.writeTag(G,g.Fixed64);this.writeFixed64(z)},writeSFixed64Field:function(G,z){this.writeTag(G,g.Fixed64);this.writeSFixed64(z)},writeVarintField:function(G,z){this.writeTag(G,g.Varint);this.writeVarint(z)},writeSVarintField:function(G,
z){this.writeTag(G,g.Varint);this.writeSVarint(z)},writeStringField:function(G,z){this.writeTag(G,g.Bytes);this.writeString(z)},writeFloatField:function(G,z){this.writeTag(G,g.Fixed32);this.writeFloat(z)},writeDoubleField:function(G,z){this.writeTag(G,g.Fixed64);this.writeDouble(z)},writeBooleanField:function(G,z){this.writeVarintField(G,!!z)}}};
shadow$provide[332]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var g=function(c){return c&&c.__esModule?c:{"default":c}}(B(123)),m=B(81),n=B(84),F=B(76),O=B(151),x=B(134),y=B(195),q=B(200),l=B(140),h=(0,m.create)();Ha=function(){function c(e,a,f,p,A){this.id_=A;this.type_=e;this.flatCoordinates_=a;this.flatMidpoints_=this.flatInteriorPoints_=null;this.ends_=f;this.properties_=p}c.prototype.get=function(e){return this.properties_[e]};c.prototype.getExtent=
function(){this.extent_||(this.extent_=this.type_===g["default"].POINT?(0,n.createOrUpdateFromCoordinate)(this.flatCoordinates_):(0,n.createOrUpdateFromFlatCoordinates)(this.flatCoordinates_,0,this.flatCoordinates_.length,2));return this.extent_};c.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var e=(0,n.getCenter)(this.getExtent());this.flatInteriorPoints_=(0,O.getInteriorPointOfArray)(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_};c.prototype.getFlatInteriorPoints=
function(){if(!this.flatInteriorPoints_){var e=(0,q.linearRingss)(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=(0,O.getInteriorPointsOfMultiArray)(this.flatCoordinates_,0,this.ends_,2,e)}return this.flatInteriorPoints_};c.prototype.getFlatMidpoint=function(){this.flatMidpoints_||(this.flatMidpoints_=(0,y.interpolatePoint)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5));return this.flatMidpoints_};c.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=
[];for(var e=this.flatCoordinates_,a=0,f=this.ends_,p=0,A=f.length;p<A;++p){var C=f[p];a=(0,y.interpolatePoint)(e,a,C,2,.5);(0,F.extend)(this.flatMidpoints_,a);a=C}}return this.flatMidpoints_};c.prototype.getId=function(){return this.id_};c.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_};c.prototype.getGeometry=function(){return this};c.prototype.getSimplifiedGeometry=function(e){return this};c.prototype.simplifyTransformed=function(e,a){return this};c.prototype.getProperties=
function(){return this.properties_};c.prototype.getStride=function(){return 2};c.prototype.getStyleFunction=function(){};c.prototype.getType=function(){return this.type_};c.prototype.transform=function(e){e=(0,x.get)(e);var a=e.getExtent();e=e.getWorldExtent();a&&e&&(a=(0,n.getHeight)(e)/(0,n.getHeight)(a),(0,m.compose)(h,e[0],e[3],a,-a,0,0,0),(0,l.transform2D)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,h,this.flatCoordinates_))};c.prototype.getEnds=function(){return this.ends_};return c}();
Ha.prototype.getEndss=Ha.prototype.getEnds;Ha.prototype.getFlatCoordinates=Ha.prototype.getOrientedFlatCoordinates;E["default"]=Ha};
shadow$provide[333]=function(Ha,B,rb,E){function g(R){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(U){return typeof U}:function(U){return U&&"function"===typeof Symbol&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U};return g(R)}function m(R){return R&&R.__esModule?R:{"default":R}}function n(){if("function"!==typeof WeakMap)return null;var R=new WeakMap;n=function(){return R};return R}function F(R,U,ka){if(3===R){R={keys:[],values:[],features:[]};var ba=
ka.readVarint()+ka.pos;ka.readFields(O,R,ba);R.length=R.features.length;R.length&&(U[R.name]=R)}}function O(R,U,ka){if(15===R)U.version=ka.readVarint();else if(1===R)U.name=ka.readString();else if(5===R)U.extent=ka.readVarint();else if(2===R)U.features.push(ka.pos);else if(3===R)U.keys.push(ka.readString());else if(4===R){R=null;for(var ba=ka.readVarint()+ka.pos;ka.pos<ba;)R=ka.readVarint()>>3,R=1===R?ka.readString():2===R?ka.readFloat():3===R?ka.readDouble():4===R?ka.readVarint64():5===R?ka.readVarint():
6===R?ka.readSVarint():7===R?ka.readBoolean():null;U.values.push(R)}}function x(R,U,ka){if(1==R)U.id=ka.readVarint();else if(2==R)for(R=ka.readVarint()+ka.pos;ka.pos<R;){var ba=U.layer.keys[ka.readVarint()],da=U.layer.values[ka.readVarint()];U.properties[ba]=da}else 3==R?U.type=ka.readVarint():4==R&&(U.geometry=ka.pos)}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var y=function(R){if(R&&R.__esModule)return R;if(null===R||"object"!==g(R)&&"function"!==typeof R)return{"default":R};
var U=n();if(U&&U.has(R))return U.get(R);var ka={},ba=Object.defineProperty&&Object.getOwnPropertyDescriptor,da;for(da in R)if(Object.prototype.hasOwnProperty.call(R,da)){var ja=ba?Object.getOwnPropertyDescriptor(R,da):null;ja&&(ja.get||ja.set)?Object.defineProperty(ka,da,ja):ka[da]=R[da]}ka["default"]=R;U&&U.set(R,ka);return ka}(B(256)),q=m(B(190)),l=m(B(139)),h=m(B(123)),c=m(B(197)),e=m(B(198)),a=m(B(199)),f=m(B(201)),p=m(B(331)),A=m(B(149)),C=m(B(156)),D=m(B(128)),P=m(B(332)),L=m(B(124)),G=B(80),
z=B(134),J=B(155),K=function(){var R=function(U,ka){R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ba,da){ba.__proto__=da}||function(ba,da){for(var ja in da)Object.prototype.hasOwnProperty.call(da,ja)&&(ba[ja]=da[ja])};return R(U,ka)};return function(U,ka){function ba(){this.constructor=U}R(U,ka);U.prototype=null===ka?Object.create(ka):(ba.prototype=ka.prototype,new ba)}}();Ha=function(R){function U(ka){var ba=R.call(this)||this;ka=ka?ka:{};ba.dataProjection=new D["default"]({code:"",
units:L["default"].TILE_PIXELS});ba.featureClass_=ka.featureClass?ka.featureClass:P["default"];ba.geometryName_=ka.geometryName;ba.layerName_=ka.layerName?ka.layerName:"layer";ba.layers_=ka.layers?ka.layers:null;ba.idProperty_=ka.idProperty;return ba}K(U,R);U.prototype.readRawGeometry_=function(ka,ba,da,ja){ka.pos=ba.geometry;ba=ka.readVarint()+ka.pos;for(var Z=1,Q=0,r=0,N=0,ea=0,aa=0;ka.pos<ba;)Q||(Q=ka.readVarint(),Z=Q&7,Q>>=3),Q--,1===Z||2===Z?(r+=ka.readSVarint(),N+=ka.readSVarint(),1===Z&&ea>
aa&&(ja.push(ea),aa=ea),da.push(r,N),ea+=2):7===Z?ea>aa&&(da.push(da[aa],da[aa+1]),ea+=2):(0,G.assert)(!1,59);ea>aa&&ja.push(ea)};U.prototype.createFeature_=function(ka,ba,da){var ja=ba.type;if(0===ja)return null;var Z=ba.properties;if(this.idProperty_){var Q=Z[this.idProperty_];delete Z[this.idProperty_]}else Q=ba.id;Z[this.layerName_]=ba.layer.name;var r=[];var N=[];this.readRawGeometry_(ka,ba,r,N);ka=N.length;if(1===ja)var ea=1===ka?h["default"].POINT:h["default"].MULTI_POINT;else 2===ja?ea=1===
ka?h["default"].LINE_STRING:h["default"].MULTI_LINE_STRING:3===ja&&(ea=h["default"].POLYGON);ja=ea;if(this.featureClass_===P["default"])r=new this.featureClass_(ja,r,N,Z,Q),r.transform(da.dataProjection);else{if(ja==h["default"].POLYGON){ja=[];ba=ka=ea=0;for(var aa=N.length;ba<aa;++ba){var va=N[ba];if((0,J.linearRingIsClockwise)(r,ea,va,2)){if(0===ja.length)continue;ja[ja.length-1].push(N[ka])}else ja.push(N.slice(ka,ba+1));ka=ba+1;ea=va}N=1<ja.length?new f["default"](r,l["default"].XY,ja):new C["default"](r,
l["default"].XY,N)}else N=ja===h["default"].POINT?new A["default"](r,l["default"].XY):ja===h["default"].LINE_STRING?new c["default"](r,l["default"].XY):ja===h["default"].POLYGON?new C["default"](r,l["default"].XY,N):ja===h["default"].MULTI_POINT?new a["default"](r,l["default"].XY):ja===h["default"].MULTI_LINE_STRING?new e["default"](r,l["default"].XY,N):null;r=new this.featureClass_;this.geometryName_&&r.setGeometryName(this.geometryName_);da=(0,y.transformGeometryWithOptions)(N,!1,da);r.setGeometry(da);
r.setId(Q);r.setProperties(Z,!0)}return r};U.prototype.getType=function(){return q["default"].ARRAY_BUFFER};U.prototype.readFeatures=function(ka,ba){var da=this.layers_;ba=this.adaptOptions(ba);var ja=(0,z.get)(ba.dataProjection);ja.setWorldExtent(ba.extent);ba.dataProjection=ja;ka=new p["default"](ka);var Z=ka.readFields(F,{}),Q=[],r;for(r in Z)if(!da||-1!=da.indexOf(r)){var N=Z[r];ja.setExtent(N?[0,0,N.extent,N.extent]:null);for(var ea=0,aa=N.length;ea<aa;++ea){var va=ka,ta=N;va.pos=ta.features[ea];
var Da=va.readVarint()+va.pos;ta={layer:ta,type:0,properties:{}};va.readFields(x,ta,Da);Q.push(this.createFeature_(ka,ta,ba))}}return Q};U.prototype.readProjection=function(ka){return this.dataProjection};U.prototype.setLayers=function(ka){this.layers_=ka};return U}(y["default"]);E["default"]=Ha};
shadow$provide[334]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"}};
shadow$provide[335]=function(Ha,B,rb,E){function g(L){return L&&L.__esModule?L:{"default":L}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var m=g(B(221)),n=g(B(227));Ha=g(B(301));var F=g(B(92));rb=g(B(224));var O=g(B(121)),x=g(B(334)),y=g(B(125)),q=B(81),l=B(84),h=B(90),c=B(237),e=B(238),a=B(78),f=B(93),p=B(158),A=B(102),C=function(){var L=function(G,z){L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,K){J.__proto__=K}||function(J,K){for(var R in K)Object.prototype.hasOwnProperty.call(K,
R)&&(J[R]=K[R])};return L(G,z)};return function(G,z){function J(){this.constructor=G}L(G,z);G.prototype=null===z?Object.create(z):(J.prototype=z.prototype,new J)}}(),D={image:[rb["default"].POLYGON,rb["default"].CIRCLE,rb["default"].LINE_STRING,rb["default"].IMAGE,rb["default"].TEXT],hybrid:[rb["default"].POLYGON,rb["default"].LINE_STRING],vector:[]},P={image:[rb["default"].DEFAULT],hybrid:[rb["default"].IMAGE,rb["default"].TEXT,rb["default"].DEFAULT],vector:[rb["default"].POLYGON,rb["default"].CIRCLE,
rb["default"].LINE_STRING,rb["default"].IMAGE,rb["default"].TEXT,rb["default"].DEFAULT]};B=function(L){function G(z){z=L.call(this,z)||this;z.boundHandleStyleImageChange_=z.handleStyleImageChange_.bind(z);z.dirty_=!1;z.renderedPixelToCoordinateTransform_=null;z.renderTileImageQueue_={};z.tileListenerKeys_={};z.tmpTransform_=(0,q.create)();return z}C(G,L);G.prototype.prepareTile=function(z,J,K,R){var U=(0,a.getUid)(z),ka=z.getState();(ka===O["default"].LOADED&&z.hifi||ka===O["default"].ERROR)&&U in
this.tileListenerKeys_&&((0,f.unlistenByKey)(this.tileListenerKeys_[U]),delete this.tileListenerKeys_[U]);if(ka===O["default"].LOADED||ka===O["default"].ERROR)if(this.updateExecutorGroup_(z,J,K),this.tileImageNeedsRender_(z,J,K)){var ba=!0;R&&(this.renderTileImageQueue_[U]=z)}return ba};G.prototype.getTile=function(z,J,K,R){var U=R.pixelRatio,ka=R.viewState,ba=ka.resolution;ka=ka.projection;var da=this.getLayer(),ja=da.getSource().getTile(z,J,K,U,ka);if(ja.getState()<O["default"].LOADED)ja.wantedResolution=
ba,ba=(0,a.getUid)(ja),ba in this.tileListenerKeys_||(U=(0,f.listen)(ja,F["default"].CHANGE,this.prepareTile.bind(this,ja,U,ka,!0)),this.tileListenerKeys_[ba]=U);else{var Z=R.viewHints;(Z[y["default"].ANIMATING]||Z[y["default"].INTERACTING])&&ja.wantedResolution||(ja.wantedResolution=ba);this.prepareTile(ja,U,ka,!1)&&da.getRenderMode()!==x["default"].VECTOR&&this.renderTileImage_(ja,R)}return L.prototype.getTile.call(this,z,J,K,R)};G.prototype.isDrawableTile=function(z){var J=this.getLayer();return L.prototype.isDrawableTile.call(this,
z)&&(J.getRenderMode()===x["default"].VECTOR?(0,a.getUid)(J)in z.executorGroups:z.hasContext(J))};G.prototype.getTileImage=function(z){return z.getImage(this.getLayer())};G.prototype.prepareFrame=function(z){var J=this.getLayer().getRevision();this.renderedLayerRevision_!=J&&(this.renderedTiles.length=0);this.renderedLayerRevision_=J;return L.prototype.prepareFrame.call(this,z)};G.prototype.updateExecutorGroup_=function(z,J,K){var R=this.getLayer(),U=R.getRevision(),ka=R.getRenderOrder()||null,ba=
z.wantedResolution,da=z.getReplayState(R);if(da.dirty||da.renderedResolution!==ba||da.renderedRevision!=U||da.renderedRenderOrder!=ka||da.renderedZ!==z.sourceZ){var ja=R.getSource(),Z=R.getDeclutter(),Q=ja.getTileGrid(),r=ja.getTileGridForProjection(K).getTileCoordExtent(z.wrappedTileCoord),N=ja.getSourceTiles(J,K,z),ea=(0,a.getUid)(R);delete z.hitDetectionImageData[ea];z.executorGroups[ea]=[];Z&&(z.declutterExecutorGroups[ea]=[]);K=function(Da,$a){var kb=N[Da];if(kb.getState()!=O["default"].LOADED)return"continue";
$a=Q.getTileCoordExtent(kb.tileCoord);Da=(0,l.getIntersection)(r,$a);$a=(0,l.equals)($a,Da)?null:(0,l.buffer)(Da,R.getRenderBuffer()*ba,aa.tmpExtent);da.dirty=!1;var sa=new m["default"](0,Da,ba,J),Ta=Z?new m["default"](0,Da,ba,J):void 0,Wa=(0,e.getSquaredTolerance)(ba,J),Ea=function(ca){var fa,qa=ca.getStyleFunction()||R.getStyleFunction();qa&&(fa=qa(ca,ba));fa&&(ca=this.renderFeature(ca,Wa,fa,sa,Ta),this.dirty_=this.dirty_||ca,da.dirty=da.dirty||ca)};kb=kb.getFeatures();ka&&ka!==da.renderedRenderOrder&&
kb.sort(ka);for(var ua=0,V=kb.length;ua<V;++ua){var W=kb[ua];$a&&!(0,l.intersects)($a,W.getGeometry().getExtent())||Ea.call(aa,W)}$a=sa.finish();Da=R.getRenderMode()!==x["default"].VECTOR&&Z&&1===N.length?null:Da;$a=new n["default"](Da,ba,J,ja.getOverlaps(),$a,R.getRenderBuffer());z.executorGroups[ea].push($a);Ta&&(Da=new n["default"](Da,ba,J,ja.getOverlaps(),Ta.finish(),R.getRenderBuffer()),z.declutterExecutorGroups[ea].push(Da))};for(var aa=this,va=0,ta=N.length;va<ta;++va)K(va,ta);da.renderedRevision=
U;da.renderedZ=z.sourceZ;da.renderedRenderOrder=ka;da.renderedResolution=ba}};G.prototype.forEachFeatureAtCoordinate=function(z,J,K,R,U){var ka=J.viewState.resolution,ba=J.viewState.rotation;K=void 0==K?0:K;var da=this.getLayer(),ja=da.getSource().getTileGridForProjection(J.viewState.projection),Z=(0,l.boundingExtent)([z]);(0,l.buffer)(Z,ka*K,Z);for(var Q={},r=function(Da,$a,kb){var sa=Da.getId();void 0===sa&&(sa=(0,a.getUid)(Da));var Ta=Q[sa];if(!Ta){if(0===kb)return Q[sa]=!0,R(Da,da,$a);U.push(Q[sa]=
{feature:Da,layer:da,geometry:$a,distanceSq:kb,callback:R})}else if(!0!==Ta&&kb<Ta.distanceSq){if(0===kb)return Q[sa]=!0,U.splice(U.lastIndexOf(Ta),1),R(Da,da,$a);Ta.geometry=$a;Ta.distanceSq=kb}},N=this.renderedTiles,ea,aa=function(Da,$a){Da=N[Da];$a=ja.getTileCoordExtent(Da.wrappedTileCoord);if(!(0,l.intersects)($a,Z))return"continue";$a=(0,a.getUid)(da);var kb=[Da.executorGroups[$a]],sa=Da.declutterExecutorGroups[$a];sa&&kb.push(sa);kb.some(function(Ta){for(var Wa=Ta===sa?J.declutterTree.all().map(function(V){return V.value}):
null,Ea=0,ua=Ta.length;Ea<ua;++Ea)if(ea=Ta[Ea].forEachFeatureAtCoordinate(z,ka,ba,K,r,Wa))return!0})},va=0,ta=N.length;!ea&&va<ta;++va)aa(va,ta);return ea};G.prototype.getFeatures=function(z){return new Promise(function(J,K){K=this.getLayer();for(var R=(0,a.getUid)(K),U=K.getSource(),ka=this.renderedProjection,ba=ka.getExtent(),da=this.renderedResolution,ja=U.getTileGridForProjection(ka),Z=(0,q.apply)(this.renderedPixelToCoordinateTransform_,z.slice()),Q=ja.getTileCoordForCoordAndResolution(Z,da),
r,N=0,ea=this.renderedTiles.length;N<ea;++N)if(Q.toString()===this.renderedTiles[N].tileCoord.toString()){r=this.renderedTiles[N];if(r.getState()===O["default"].LOADED&&r.hifi){Q=ja.getTileCoordExtent(r.tileCoord);U.getWrapX()&&ka.canWrapX()&&!(0,l.containsExtent)(ba,Q)&&(0,A.wrapX)(Z,ka);break}r=void 0}!r||0<r.loadingSourceTiles?J([]):(U=ja.getTileCoordExtent(r.wrappedTileCoord),U=(0,l.getTopLeft)(U),Z=[(Z[0]-U[0])/da,(U[1]-Z[1])/da],U=r.getSourceTiles().reduce(function(aa,va){return aa.concat(va.getFeatures())},
[]),ka=r.hitDetectionImageData[R],ka||this.animatingOrInteracting_||(ka=(0,p.toSize)(ja.getTileSize(ja.getZForResolution(da))),Q=[ka[0]/2,ka[1]/2],ba=this.renderedRotation_,da=[this.getRenderTransform(ja.getTileCoordCenter(r.wrappedTileCoord),da,0,.5,Q[0],Q[1],0)],ka=(0,c.createHitDetectionImageData)(ka,da,U,K.getStyleFunction(),ja.getTileCoordExtent(r.wrappedTileCoord),r.getReplayState(K).renderedResolution,ba),r.hitDetectionImageData[R]=ka),J((0,c.hitDetect)(Z,U,ka)))}.bind(this))};G.prototype.handleFontsChanged=
function(){(0,h.clear)(this.renderTileImageQueue_);var z=this.getLayer();z.getVisible()&&void 0!==this.renderedLayerRevision_&&z.changed()};G.prototype.handleStyleImageChange_=function(z){this.renderIfReadyAndVisible()};G.prototype.renderDeclutter=function(z){var J=z.viewHints;J=!(J[y["default"].ANIMATING]||J[y["default"].INTERACTING]);for(var K=this.renderedTiles,R=0,U=K.length;R<U;++R){var ka=K[R],ba=ka.declutterExecutorGroups[(0,a.getUid)(this.getLayer())];if(ba)for(var da=ba.length-1;0<=da;--da)ba[da].execute(this.context,
1,this.getTileRenderTransform(ka,z),z.viewState.rotation,J,void 0,z.declutterTree)}};G.prototype.getTileRenderTransform=function(z,J){var K=J.pixelRatio,R=J.viewState,U=R.center,ka=R.resolution;R=R.rotation;var ba=J.size,da=Math.round(ba[0]*K);ba=Math.round(ba[1]*K);J=this.getLayer().getSource().getTileGridForProjection(J.viewState.projection);var ja=z.tileCoord;z=J.getTileCoordExtent(z.wrappedTileCoord);z=J.getTileCoordExtent(ja,this.tmpExtent)[0]-z[0];return(0,q.multiply)((0,q.scale)(this.inversePixelTransform.slice(),
1/K,1/K),this.getRenderTransform(U,ka,R,K,da,ba,z))};G.prototype.renderFrame=function(z,J){var K=z.viewHints;K=!(K[y["default"].ANIMATING]||K[y["default"].INTERACTING]);this.renderQueuedTileImages_(K,z);L.prototype.renderFrame.call(this,z,J);this.renderedPixelToCoordinateTransform_=z.pixelToCoordinateTransform.slice();this.renderedRotation_=z.viewState.rotation;J=this.getLayer();var R=J.getRenderMode();if(R===x["default"].IMAGE)return this.container;var U=J.getSource();U=z.usedTiles[(0,a.getUid)(U)];
for(var ka in this.renderTileImageQueue_)U&&ka in U||delete this.renderTileImageQueue_[ka];ka=this.context;R=P[R];U=z.viewState.rotation;for(var ba=this.renderedTiles,da=[],ja=[],Z=ba.length-1;0<=Z;--Z)for(var Q=ba[Z],r=this.getTileRenderTransform(Q,z),N=Q.executorGroups[(0,a.getUid)(J)],ea=!1,aa=0,va=N.length;aa<va;++aa){var ta=N[aa];if(ta.hasExecutors(R)){var Da=Q.tileCoord[0],$a=void 0;if(!ea&&($a=ta.getClipCoords(r))){ka.save();for(var kb=0,sa=da.length;kb<sa;++kb){var Ta=da[kb];Da<ja[kb]&&(ka.beginPath(),
ka.moveTo($a[0],$a[1]),ka.lineTo($a[2],$a[3]),ka.lineTo($a[4],$a[5]),ka.lineTo($a[6],$a[7]),ka.moveTo(Ta[6],Ta[7]),ka.lineTo(Ta[4],Ta[5]),ka.lineTo(Ta[2],Ta[3]),ka.lineTo(Ta[0],Ta[1]),ka.clip())}}ta.execute(ka,1,r,U,K,R);!ea&&$a&&(ka.restore(),da.push($a),ja.push(Da),ea=!0)}}return this.container};G.prototype.renderQueuedTileImages_=function(z,J){for(var K in this.renderTileImageQueue_){if(!z&&8<Date.now()-J.time){J.animate=!0;break}var R=this.renderTileImageQueue_[K];delete this.renderTileImageQueue_[K];
this.renderTileImage_(R,J)}};G.prototype.renderFeature=function(z,J,K,R,U){if(!K)return!1;var ka=!1;if(Array.isArray(K))for(var ba=0,da=K.length;ba<da;++ba)ka=(0,e.renderFeature)(R,z,K[ba],J,this.boundHandleStyleImageChange_,void 0,U)||ka;else ka=(0,e.renderFeature)(R,z,K,J,this.boundHandleStyleImageChange_,void 0,U);return ka};G.prototype.tileImageNeedsRender_=function(z,J,K){K=this.getLayer();J=z.getReplayState(K);K=K.getRevision();var R=z.sourceZ;return J.renderedTileResolution!==z.wantedResolution||
J.renderedTileRevision!==K||J.renderedTileZ!==R};G.prototype.renderTileImage_=function(z,J){var K=this.getLayer(),R=z.getReplayState(K),U=K.getRevision(),ka=z.executorGroups[(0,a.getUid)(K)];R.renderedTileRevision=U;R.renderedTileZ=z.sourceZ;U=z.wrappedTileCoord;var ba=U[0],da=K.getSource(),ja=J.pixelRatio,Z=J.viewState.projection,Q=da.getTileGridForProjection(Z),r=Q.getResolution(z.tileCoord[0]);r*=J.pixelRatio/z.wantedResolution;var N=Q.getResolution(ba);J=z.getContext(K);ja=Math.round(Math.max(ja,
r/ja));ba=da.getTilePixelSize(ba,ja,Z);J.canvas.width=ba[0];J.canvas.height=ba[1];ja/=r;1!==ja&&(ba=(0,q.reset)(this.tmpTransform_),(0,q.scale)(ba,ja,ja),J.setTransform.apply(J,ba));U=Q.getTileCoordExtent(U,this.tmpExtent);r/=N;Q=(0,q.reset)(this.tmpTransform_);(0,q.scale)(Q,r,-r);(0,q.translate)(Q,-U[0],-U[3]);U=0;for(r=ka.length;U<r;++U)ka[U].execute(J,ja,Q,0,!0,D[K.getRenderMode()]);R.renderedTileResolution=z.wantedResolution};return G}(Ha["default"]);E["default"]=B};
shadow$provide[336]=function(Ha,B,rb,E){function g(q){return q&&q.__esModule?q:{"default":q}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=g(B(211));var m=g(B(335)),n=g(B(299)),F=g(B(334)),O=B(80),x=B(90),y=function(){var q=function(l,h){q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(c[a]=e[a])};return q(l,h)};return function(l,h){function c(){this.constructor=
l}q(l,h);l.prototype=null===h?Object.create(h):(c.prototype=h.prototype,new c)}}();B=function(q){function l(h){h=h?h:{};var c=(0,x.assign)({},h);delete c.preload;delete c.useInterimTilesOnError;c=q.call(this,c)||this;var e=h.renderMode||F["default"].HYBRID;(0,O.assert)(void 0==e||e==F["default"].IMAGE||e==F["default"].HYBRID||e==F["default"].VECTOR,28);c.renderMode_=e;c.setPreload(h.preload?h.preload:0);c.setUseInterimTilesOnError(void 0!==h.useInterimTilesOnError?h.useInterimTilesOnError:!0);return c}
y(l,q);l.prototype.createRenderer=function(){return new m["default"](this)};l.prototype.getFeatures=function(h){return q.prototype.getFeatures.call(this,h)};l.prototype.getRenderMode=function(){return this.renderMode_};l.prototype.getPreload=function(){return this.get(n["default"].PRELOAD)};l.prototype.getUseInterimTilesOnError=function(){return this.get(n["default"].USE_INTERIM_TILES_ON_ERROR)};l.prototype.setPreload=function(h){this.set(n["default"].PRELOAD,h)};l.prototype.setUseInterimTilesOnError=
function(h){this.set(n["default"].USE_INTERIM_TILES_ON_ERROR,h)};return l}(Ha["default"]);E["default"]=B};
shadow$provide[337]=function(Ha,B,rb,E){var g={thin:100,hairline:100,"ultra-light":100,"extra-light":100,light:200,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,heavy:800,black:800,"extra-bold":800,"ultra-black":900,"extra-black":900,"ultra-bold":900,"heavy-black":900,fat:900,poster:900},m=/(italic|oblique)$/i,n={};rb.exports=function(F,O,x){var y=n[F];if(!y){Array.isArray(F)||(F=[F]);y=400;for(var q="normal",l=[],h=0,c=F.length;h<
c;++h){var e=F[h].split(" "),a=e[e.length-1].toLowerCase();"normal"==a||"italic"==a||"oblique"==a?(q=a,e.pop(),a=e[e.length-1].toLowerCase()):m.test(a)&&(a=a.replace(m,""),q=e[e.length-1].replace(a,""));for(var f in g)if(a==f||a==f.replace("-","")||a==f.replace("-"," ")){y=g[f];e.pop();break}"number"==typeof a&&(y=a);e=e.join(" ").replace("Klokantech Noto Sans","Noto Sans");-1!==e.indexOf(" ")&&(e='"'+e+'"');l.push(e)}y=n[F]=[q,y,l]}return y[0]+" "+y[1]+" "+O+"px"+(x?"/"+x:"")+" "+y[2]}};
shadow$provide[338]=function(Ha,B,rb,E){var g=B(24).Buffer;(function(m,n){"object"===typeof E&&"undefined"!==typeof rb?n(E):"function"===typeof define&&define.amd?define(["exports"],n):(m=m||self,n(m.mapboxGlStyleSpecification={}))})(this,function(m){function n(w,S){const ma={};for(const La in S)void 0!==w[La]&&(ma[La]=w[La]);for(const La in w)void 0===ma[La]&&(ma[La]=w[La]);return ma}function F(){throw Error("Dynamic requires are not currently supported by rollup-plugin-commonjs");}function O(w,
S){return S={exports:{}},w(S,S.exports),S.exports}function x(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=this.auth=this.slashes=this.protocol=null}function y(w,S,ma){if(w&&re.isObject(w)&&w instanceof x)return w;var La=new x;La.parse(w,S,ma);return La}function q(w){for(var S=0;S<Jc.layout.length;S++)for(const ma in Jc[Jc.layout[S]])if(ma===w)return Jc[Jc.layout[S]][ma];for(S=0;S<Jc.paint.length;S++)for(const ma in Jc[Jc.paint[S]])if(ma===
w)return Jc[Jc.paint[S]][ma];return null}function l(w,S){for(const ma in w.sources)S(w.sources[ma])}function h(w,S){for(const ma of w.layers)S(ma)}function c(w,S,ma){function La(gb,mb){const tb=gb[mb];tb&&Object.keys(tb).forEach(Rb=>{ma({path:[gb.id,mb,Rb],key:Rb,value:tb[Rb],reference:q(Rb),set(ec){tb[Rb]=ec}})})}h(w,gb=>{S.paint&&La(gb,"paint");S.layout&&La(gb,"layout")})}function e(w,S){for(const ma in w)0===ma.indexOf("layout")&&S(w[ma],ma)}function a(w,S){for(const ma in w)0===ma.indexOf("paint")&&
S(w[ma],ma)}function f(w,S){return"string"===typeof S&&"@"===S[0]?f(w,w.constants[S]):S}function p(w,S,ma){w[ma]=w[S];delete w[S]}function A(w){function S(gb){const mb=Qc.parse(gb),tb=mb.pathname.split("/");if("mapbox:"!==mb.protocol)return gb;if("fontstack"===mb.hostname)return"mapbox://fonts/mapbox/{fontstack}/{range}.pbf";if("fonts"===mb.hostname)return`mapbox://fonts/${tb[2]}/{fontstack}/{range}.pbf`}function ma(gb){function mb(tb){return tb.split(",").map(Rb=>Rb.trim())}if(Array.isArray(gb))return gb;
if("string"===typeof gb)return mb(gb);if("object"===typeof gb)return gb.stops.forEach(tb=>{tb[1]=mb(tb[1])}),gb;throw Error("unexpected font value");}w.version=8;l(w,gb=>{"video"===gb.type&&void 0!==gb.url&&p(gb,"url","urls");"video"===gb.type&&gb.coordinates.forEach(mb=>mb.reverse())});h(w,gb=>{e(gb,mb=>{void 0!==mb["symbol-min-distance"]&&p(mb,"symbol-min-distance","symbol-spacing")});a(gb,mb=>{void 0!==mb["background-image"]&&p(mb,"background-image","background-pattern");void 0!==mb["line-image"]&&
p(mb,"line-image","line-pattern");void 0!==mb["fill-image"]&&p(mb,"fill-image","fill-pattern")})});c(w,{paint:!0,layout:!0},gb=>{const mb=f(w,gb.value);Array.isArray(mb.stops)&&mb.stops.forEach(tb=>{tb[1]=f(w,tb[1])});gb.set(mb)});delete w.constants;h(w,gb=>{e(gb,mb=>{delete mb["text-max-size"];delete mb["icon-max-size"]});a(gb,mb=>{mb["text-size"]&&(gb.layout||(gb.layout={}),gb.layout["text-size"]=mb["text-size"],delete mb["text-size"]);mb["icon-size"]&&(gb.layout||(gb.layout={}),gb.layout["icon-size"]=
mb["icon-size"],delete mb["icon-size"])})});w.glyphs&&(w.glyphs=S(w.glyphs));h(w,gb=>{e(gb,mb=>{mb["text-font"]&&(mb["text-font"]=ma(mb["text-font"]))})});var La=0;for(let gb=w.layers.length-1;0<=gb;gb--)if("symbol"!==w.layers[gb].type){La=gb+1;break}La=w.layers.splice(La);La.reverse();w.layers=w.layers.concat(La);return w}function C(w,...S){for(const ma of S)for(const La in ma)w[La]=ma[La];return w}function D(w,S){return{kind:"array",itemType:w,N:S}}function P(w){if("array"===w.kind){const S=P(w.itemType);
return"number"===typeof w.N?`array<${S}, ${w.N}>`:"value"===w.itemType.kind?"array":`array<${S}>`}return w.kind}function L(w,S){if("error"===S.kind)return null;if("array"===w.kind){if("array"===S.kind&&(0===S.N&&"value"===S.itemType.kind||!L(w.itemType,S.itemType))&&("number"!==typeof w.N||w.N===S.N))return null}else{if(w.kind===S.kind)return null;if("value"===w.kind)for(const ma of zf)if(!L(ma,S))return null}return`Expected ${P(w)} but found ${P(S)} instead.`}function G(w,S){return S.some(ma=>ma.kind===
w.kind)}function z(w,S){return S.some(ma=>"null"===ma?null===w:"array"===ma?Array.isArray(w):"object"===ma?w&&!Array.isArray(w)&&"object"===typeof w:ma===typeof w)}function J(w,S,ma,La){return"number"===typeof w&&0<=w&&255>=w&&"number"===typeof S&&0<=S&&255>=S&&"number"===typeof ma&&0<=ma&&255>=ma?"undefined"===typeof La||"number"===typeof La&&0<=La&&1>=La?null:`Invalid rgba value [${[w,S,ma,La].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"===typeof La?[w,S,ma,La]:[w,
S,ma]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function K(w){if(null===w||"string"===typeof w||"boolean"===typeof w||"number"===typeof w||w instanceof Oe||w instanceof Nf||w instanceof Ia||w instanceof wb)return!0;if(Array.isArray(w)){for(const S of w)if(!K(S))return!1;return!0}if("object"===typeof w){for(const S in w)if(!K(w[S]))return!1;return!0}return!1}function R(w){if(null===w)return Od;if("string"===typeof w)return Rd;if("boolean"===typeof w)return kd;if("number"===typeof w)return od;
if(w instanceof Oe)return lf;if(w instanceof Nf)return Ve;if(w instanceof Ia)return ce;if(w instanceof wb)return Xe;if(Array.isArray(w)){const S=w.length;let ma;for(const La of w)if(w=R(La),ma){if(ma!==w){ma=ee;break}}else ma=w;return D(ma||ee,S)}return bf}function U(w){const S=typeof w;return null===w?"":"string"===S||"number"===S||"boolean"===S?String(w):w instanceof Oe||w instanceof Ia||w instanceof wb?w.toString():JSON.stringify(w)}function ka(w,S){w[0]=Math.min(w[0],S[0]);w[1]=Math.min(w[1],
S[1]);w[2]=Math.max(w[2],S[0]);w[3]=Math.max(w[3],S[1])}function ba(w,S){return w[0]<=S[0]||w[2]>=S[2]||w[1]<=S[1]||w[3]>=S[3]?!1:!0}function da(w,S){let ma=!1;for(let tb=0,Rb=S.length;tb<Rb;tb++){const ec=S[tb];for(let Wb=0,Pc=ec.length;Wb<Pc-1;Wb++){{var La=ec[Wb],gb=ec[Wb+1];var mb=w[0]-La[0];La=w[1]-La[1];const ed=w[0]-gb[0];gb=w[1]-gb[1];mb=0===mb*gb-ed*La&&0>=mb*ed&&0>=La*gb}if(mb)return!1;mb=ec[Wb];gb=ec[Wb+1];mb[1]>w[1]!==gb[1]>w[1]&&w[0]<(gb[0]-mb[0])*(w[1]-mb[1])/(gb[1]-mb[1])+mb[0]&&(ma=
!ma)}}return ma}function ja(w,S,ma,La){const gb=La[0]-ma[0];La=La[1]-ma[1];w=(w[0]-ma[0])*La-gb*(w[1]-ma[1]);S=(S[0]-ma[0])*La-gb*(S[1]-ma[1]);return 0<w&&0>S||0>w&&0<S?!0:!1}function Z(w,S){for(var ma=0;ma<w.length;++ma)if(!da(w[ma],S))return!1;for(ma=0;ma<w.length-1;++ma){a:{var La=w[ma];var gb=w[ma+1],mb=S;for(const ed of mb)for(let zd=0;zd<ed.length-1;++zd){mb=La;var tb=gb,Rb=ed[zd],ec=ed[zd+1],Wb=[ec[0]-Rb[0],ec[1]-Rb[1]],Pc=[tb[0]-mb[0],tb[1]-mb[1]];if(0===Wb[0]*Pc[1]-Wb[1]*Pc[0]?0:ja(mb,tb,
Rb,ec)&&ja(Rb,ec,mb,tb)){La=!0;break a}}La=!1}if(La)return!1}return!0}function Q(w,S,ma){const La=[];for(let mb=0;mb<w.length;mb++){const tb=[];for(let Rb=0;Rb<w[mb].length;Rb++){{var gb=w[mb][Rb];const ec=Math.pow(2,ma.z);gb=[Math.round((180+gb[0])/360*ec*8192),Math.round((180-180/Math.PI*Math.log(Math.tan(Math.PI/4+gb[1]*Math.PI/360)))/360*ec*8192)]}ka(S,gb);tb.push(gb)}La.push(tb)}return La}function r(w,S,ma){const La=[];for(let gb=0;gb<w.length;gb++){const mb=Q(w[gb],S,ma);La.push(mb)}return La}
function N(w,S,ma,La){if(w[0]<ma[0]||w[0]>ma[2]){const gb=.5*La;let mb=w[0]-ma[0]>gb?-La:ma[0]-w[0]>gb?La:0;0===mb&&(mb=w[0]-ma[2]>gb?-La:ma[2]-w[0]>gb?La:0);w[0]+=mb}ka(S,w)}function ea(w,S,ma,La){const gb=8192*Math.pow(2,La.z);La=[8192*La.x,8192*La.y];const mb=[];for(const tb of w)for(const Rb of tb)w=[Rb.x+La[0],Rb.y+La[1]],N(w,S,ma,gb),mb.push(w);return mb}function aa(w,S,ma,La){const gb=8192*Math.pow(2,La.z);La=[8192*La.x,8192*La.y];const mb=[];for(const tb of w){w=[];for(const Rb of tb){const ec=
[Rb.x+La[0],Rb.y+La[1]];ka(S,ec);w.push(ec)}mb.push(w)}if(S[2]-S[0]<=gb/2){S[0]=S[1]=Infinity;S[2]=S[3]=-Infinity;for(const tb of mb)for(const Rb of tb)N(Rb,S,ma,gb)}return mb}function va(w,S){var ma=[Infinity,Infinity,-Infinity,-Infinity],La=[Infinity,Infinity,-Infinity,-Infinity];const gb=w.canonicalID();if("Polygon"===S.type){const mb=Q(S.coordinates,La,gb),tb=ea(w.geometry(),ma,La,gb);if(!ba(ma,La))return!1;for(const Rb of tb)if(!da(Rb,mb))return!1}if("MultiPolygon"===S.type){S=r(S.coordinates,
La,gb);w=ea(w.geometry(),ma,La,gb);if(!ba(ma,La))return!1;for(const mb of w){a:{ma=mb;La=S;for(w=0;w<La.length;w++)if(da(ma,La[w])){ma=!0;break a}ma=!1}if(!ma)return!1}}return!0}function ta(w,S){var ma=[Infinity,Infinity,-Infinity,-Infinity],La=[Infinity,Infinity,-Infinity,-Infinity];const gb=w.canonicalID();if("Polygon"===S.type){const mb=Q(S.coordinates,La,gb),tb=aa(w.geometry(),ma,La,gb);if(!ba(ma,La))return!1;for(const Rb of tb)if(!Z(Rb,mb))return!1}if("MultiPolygon"===S.type){S=r(S.coordinates,
La,gb);w=aa(w.geometry(),ma,La,gb);if(!ba(ma,La))return!1;for(const mb of w){a:{ma=mb;La=S;for(w=0;w<La.length;w++)if(Z(ma,La[w])){ma=!0;break a}ma=!1}if(!ma)return!1}}return!0}function Da(w){if(w instanceof Pd&&("get"===w.name&&1===w.args.length||"feature-state"===w.name||"has"===w.name&&1===w.args.length||"properties"===w.name||"geometry-type"===w.name||"id"===w.name||/^filter-/.test(w.name))||w instanceof pe)return!1;let S=!0;w.eachChild(ma=>{S&&!Da(ma)&&(S=!1)});return S}function $a(w){if(w instanceof
Pd&&"feature-state"===w.name)return!1;let S=!0;w.eachChild(ma=>{S&&!$a(ma)&&(S=!1)});return S}function kb(w,S){if(w instanceof Pd&&0<=S.indexOf(w.name))return!1;let ma=!0;w.eachChild(La=>{ma&&!kb(La,S)&&(ma=!1)});return ma}function sa(w){if(w instanceof He)return sa(w.boundExpression);if(w instanceof Pd&&"error"===w.name||w instanceof Ne||w instanceof pe)return!1;const S=w instanceof Hd||w instanceof oc;let ma=!0;w.eachChild(La=>{ma=S?ma&&sa(La):ma&&La instanceof Yb});return ma?Da(w)&&kb(w,"zoom heatmap-density line-progress sky-radial-progress accumulated is-supported-script".split(" ")):
!1}function Ta(w,S){const ma=w.length-1;let La=0,gb=ma,mb,tb,Rb;for(;La<=gb;)if(mb=Math.floor((La+gb)/2),tb=w[mb],Rb=w[mb+1],tb<=S){if(mb===ma||S<Rb)return mb;La=mb+1}else if(tb>S)gb=mb-1;else throw new Ub("Input is not a number.");return 0}function Wa(w,S,ma,La){this.cx=3*w;this.bx=3*(ma-w)-this.cx;this.ax=1-this.cx-this.bx;this.cy=3*S;this.by=3*(La-S)-this.cy;this.ay=1-this.cy-this.by;this.p1x=w;this.p1y=La;this.p2x=ma;this.p2y=La}function Ea(w,S,ma){return w*(1-ma)+S*ma}function ua(w){return w>
Ag?Math.pow(w,1/3):w/Bf+Te}function V(w){return w>uf?w*w*w:Bf*(w-Te)}function W(w){return 255*(.0031308>=w?12.92*w:1.055*Math.pow(w,1/2.4)-.055)}function ca(w){w/=255;return.04045>=w?w/12.92:Math.pow((w+.055)/1.055,2.4)}function fa(w){var S=ca(w.r);const ma=ca(w.g),La=ca(w.b),gb=ua((.4124564*S+.3575761*ma+.1804375*La)/.95047),mb=ua(.2126729*S+.7151522*ma+.072175*La);S=ua((.0193339*S+.119192*ma+.9503041*La)/1.08883);return{l:116*mb-16,a:500*(gb-mb),b:200*(mb-S),alpha:w.a}}function qa(w){let S=(w.l+
16)/116,ma=isNaN(w.a)?S:S+w.a/500,La=isNaN(w.b)?S:S-w.b/200;S=1*V(S);ma=.95047*V(ma);La=1.08883*V(La);return new Oe(W(3.2404542*ma-1.5371385*S-.4985314*La),W(-.969266*ma+1.8760108*S+.041556*La),W(.0556434*ma-.2040259*S+1.0572252*La),w.alpha)}function pa(w,S,ma,La){La-=ma;w-=ma;return 0===La?0:1===S?w/La:(Math.pow(S,w)-1)/(Math.pow(S,La)-1)}function Ga(w,S){return"\x3d\x3d"===w||"!\x3d"===w?"boolean"===S.kind||"string"===S.kind||"number"===S.kind||"null"===S.kind||"value"===S.kind:"string"===S.kind||
"number"===S.kind||"value"===S.kind}function na(w,S,ma,La){return 0===La.compare(S,ma)}function Oa(w,S,ma){const La="\x3d\x3d"!==w&&"!\x3d"!==w;return class gb{constructor(mb,tb,Rb){this.type=kd;this.lhs=mb;this.rhs=tb;this.collator=Rb;this.hasUntypedArgument="value"===mb.type.kind||"value"===tb.type.kind}static parse(mb,tb){if(3!==mb.length&&4!==mb.length)return tb.error("Expected two or three arguments.");var Rb=mb[0];let ec=tb.parse(mb[1],1,ee);if(!ec)return null;if(!Ga(Rb,ec.type))return tb.concat(1).error(`"${Rb}" comparisons are not supported for type '${P(ec.type)}'.`);
let Wb=tb.parse(mb[2],2,ee);if(!Wb)return null;if(!Ga(Rb,Wb.type))return tb.concat(2).error(`"${Rb}" comparisons are not supported for type '${P(Wb.type)}'.`);if(ec.type.kind!==Wb.type.kind&&"value"!==ec.type.kind&&"value"!==Wb.type.kind)return tb.error(`Cannot compare types '${P(ec.type)}' and '${P(Wb.type)}'.`);La&&("value"===ec.type.kind&&"value"!==Wb.type.kind?ec=new oc(Wb.type,[ec]):"value"!==ec.type.kind&&"value"===Wb.type.kind&&(Wb=new oc(ec.type,[Wb])));Rb=null;if(4===mb.length){if("string"!==
ec.type.kind&&"string"!==Wb.type.kind&&"value"!==ec.type.kind&&"value"!==Wb.type.kind)return tb.error("Cannot use collator to compare non-string types.");Rb=tb.parse(mb[3],3,Ve);if(!Rb)return null}return new gb(ec,Wb,Rb)}evaluate(mb){const tb=this.lhs.evaluate(mb),Rb=this.rhs.evaluate(mb);if(La&&this.hasUntypedArgument){var ec=R(tb),Wb=R(Rb);if(ec.kind!==Wb.kind||"string"!==ec.kind&&"number"!==ec.kind)throw new Ub(`Expected arguments for "${w}" to be (string, string) or (number, number), but found (${ec.kind}, ${Wb.kind}) instead.`);
}return this.collator&&!La&&this.hasUntypedArgument&&(ec=R(tb),Wb=R(Rb),"string"!==ec.kind||"string"!==Wb.kind)?S(mb,tb,Rb):this.collator?ma(mb,tb,Rb,this.collator.evaluate(mb)):S(mb,tb,Rb)}eachChild(mb){mb(this.lhs);mb(this.rhs);this.collator&&mb(this.collator)}outputDefined(){return!0}serialize(){const mb=[w];this.eachChild(tb=>{mb.push(tb.serialize())});return mb}}}function cb(w,[S,ma,La,gb]){S=S.evaluate(w);ma=ma.evaluate(w);La=La.evaluate(w);w=gb?gb.evaluate(w):1;if(gb=J(S,ma,La,w))throw new Ub(gb);
return new Oe(S/255*w,ma/255*w,La/255*w,w)}function Za(w,S){w=S[w];return"undefined"===typeof w?null:w}function Aa(w){return{result:"success",value:w}}function Fa(w){return{result:"error",value:w}}function Ra(w){return"data-driven"===w["property-type"]||"cross-faded-data-driven"===w["property-type"]}function ab(w){return!!w.expression&&-1<w.expression.parameters.indexOf("zoom")}function lb(w){return!!w.expression&&w.expression.interpolated}function Ma(w){return w instanceof Number?"number":w instanceof
String?"string":w instanceof Boolean?"boolean":Array.isArray(w)?"array":null===w?"null":typeof w}function nb(w){return"object"===typeof w&&null!==w&&!Array.isArray(w)}function zb(w){return w}function Sb(w,S){var ma="color"===S.type,La=w.stops&&"object"===typeof w.stops[0][0],gb=La||void 0!==w.property;gb=La||!gb;var mb=w.type||(lb(S)?"exponential":"interval");ma&&(w=C({},w),w.stops&&(w.stops=w.stops.map(ed=>[ed[0],Oe.parse(ed[1])])),w.default=w.default?Oe.parse(w.default):Oe.parse(S.default));if(w.colorSpace&&
"rgb"!==w.colorSpace&&!Na[w.colorSpace])throw Error(`Unknown color space: ${w.colorSpace}`);let tb,Rb,ec;if("exponential"===mb)tb=jb;else if("interval"===mb)tb=kc;else if("categorical"===mb){tb=lc;Rb=Object.create(null);for(var Wb of w.stops)Rb[Wb[0]]=Wb[1];ec=typeof w.stops[0][0]}else if("identity"===mb)tb=$b;else throw Error(`Unknown function type "${mb}"`);if(La){ma={};La=[];for(Wb=0;Wb<w.stops.length;Wb++)gb=w.stops[Wb],mb=gb[0].zoom,void 0===ma[mb]&&(ma[mb]={zoom:mb,type:w.type,property:w.property,
default:w.default,stops:[]},La.push(mb)),ma[mb].stops.push([gb[0].value,gb[1]]);const ed=[];for(var Pc of La)ed.push([ma[Pc].zoom,Sb(ma[Pc],S)]);Pc={name:"linear"};return{kind:"composite",interpolationType:Pc,interpolationFactor:Sa.interpolationFactor.bind(void 0,Pc),zoomStops:ed.map(zd=>zd[0]),evaluate({zoom:zd},qd){return jb({stops:ed,base:w.base},S,zd).evaluate(zd,qd)}}}return gb?(Pc="exponential"===mb?{name:"exponential",base:void 0!==w.base?w.base:1}:null,{kind:"camera",interpolationType:Pc,
interpolationFactor:Sa.interpolationFactor.bind(void 0,Pc),zoomStops:w.stops.map(ed=>ed[0]),evaluate:({zoom:ed})=>tb(w,S,ed,Rb,ec)}):{kind:"source",evaluate(ed,zd){ed=zd&&zd.properties?zd.properties[w.property]:void 0;return void 0===ed?vc(w.default,S.default):tb(w,S,ed,Rb,ec)}}}function vc(w,S,ma){if(void 0!==w)return w;if(void 0!==S)return S;if(void 0!==ma)return ma}function lc(w,S,ma,La,gb){return vc(typeof ma===gb?La[ma]:void 0,w.default,S.default)}function kc(w,S,ma){if("number"!==Ma(ma))return vc(w.default,
S.default);S=w.stops.length;if(1===S||ma<=w.stops[0][0])return w.stops[0][1];if(ma>=w.stops[S-1][0])return w.stops[S-1][1];ma=Ta(w.stops.map(La=>La[0]),ma);return w.stops[ma][1]}function jb(w,S,ma){const La=void 0!==w.base?w.base:1;if("number"!==Ma(ma))return vc(w.default,S.default);var gb=w.stops.length;if(1===gb||ma<=w.stops[0][0])return w.stops[0][1];if(ma>=w.stops[gb-1][0])return w.stops[gb-1][1];gb=Ta(w.stops.map(Wb=>Wb[0]),ma);const mb=yc(ma,La,w.stops[gb][0],w.stops[gb+1][0]),tb=w.stops[gb][1],
Rb=w.stops[gb+1][1];let ec=Of[S.type]||zb;if(w.colorSpace&&"rgb"!==w.colorSpace){const Wb=Na[w.colorSpace];ec=(Pc,ed)=>Wb.reverse(Wb.interpolate(Wb.forward(Pc),Wb.forward(ed),mb))}return"function"===typeof tb.evaluate?{evaluate(...Wb){const Pc=tb.evaluate.apply(void 0,Wb);Wb=Rb.evaluate.apply(void 0,Wb);if(void 0!==Pc&&void 0!==Wb)return ec(Pc,Wb,mb)}}:ec(tb,Rb,mb)}function $b(w,S,ma){"color"===S.type?ma=Oe.parse(ma):"formatted"===S.type?ma=Ia.fromString(ma.toString()):"resolvedImage"===S.type?ma=
wb.fromString(ma.toString()):Ma(ma)===S.type||"enum"===S.type&&S.values[ma]||(ma=void 0);return vc(ma,w.default,S.default)}function yc(w,S,ma,La){La-=ma;w-=ma;return 0===La?0:1===S?w/La:(Math.pow(S,w)-1)/(Math.pow(S,La)-1)}function nc(w){return Array.isArray(w)&&0<w.length&&"string"===typeof w[0]&&w[0]in rc}function zc(w,S){if(S){var ma={color:lf,string:Rd,number:od,enum:Rd,boolean:kd,formatted:ce,resolvedImage:Xe};ma="array"===S.type?D(ma[S.value]||ee,S.length):ma[S.type]}else ma=void 0;ma=new Je(rc,
[],ma);return(w=ma.parse(w,void 0,void 0,void 0,S&&"string"===S.type?{typeAnnotation:"coerce"}:void 0))?Aa(new Gc(w,S)):Fa(ma.errors)}function qc(w,S){w=zc(w,S);if("error"===w.result)return w;var ma=w.value.expression;const La=Da(ma);if(!La&&!Ra(S))return Fa([new Ld("","data expressions not supported")]);const gb=kb(ma,["zoom"]);if(!gb&&!ab(S))return Fa([new Ld("","zoom expressions not supported")]);if((ma=Vc(ma))||gb){if(ma instanceof Ld)return Fa([ma]);if(ma instanceof Sa&&!lb(S))return Fa([new Ld("",
'"interpolate" expressions cannot be used with this property')])}else return Fa([new Ld("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(!ma)return Aa(La?new dd("constant",w.value):new dd("source",w.value));S=ma instanceof Sa?ma.interpolation:void 0;return Aa(La?new Zc("camera",w.value,ma.labels,S):new Zc("composite",w.value,ma.labels,S))}function Vc(w){let S=null;if(w instanceof hb)S=Vc(w.result);else if(w instanceof fb)for(const ma of w.args){if(S=
Vc(ma))break}else(w instanceof Le||w instanceof Sa)&&w.input instanceof Pd&&"zoom"===w.input.name&&(S=w);if(S instanceof Ld)return S;w.eachChild(ma=>{ma=Vc(ma);ma instanceof Ld?S=ma:!S&&ma?S=new Ld("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):S&&ma&&S!==ma&&(S=new Ld("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))});return S}function Uc(w){return"object"===typeof w?["literal",w]:w}function Lc(w,
S){let ma=w.stops;if(!ma)return Fd(w,S);const La=ma&&"object"===typeof ma[0][0],gb=La||void 0!==w.property,mb=La||!gb;ma=ma.map(tb=>!gb&&S.tokens&&"string"===typeof tb[1]?[tb[0],Wc(tb[1])]:[tb[0],Uc(tb[1])]);return La?vd(w,S,ma):mb?Qb(w,S,ma):Yd(w,S,ma)}function Fd(w,S){const ma=["get",w.property];if(void 0===w.default)return"string"===S.type?["string",ma]:ma;if("enum"===S.type)return["match",ma,Object.keys(S.values),ma,w.default];w=["color"===S.type?"to-color":S.type,ma,Uc(w.default)];"array"===
S.type&&w.splice(1,0,S.value,S.length||null);return w}function fe(w){switch(w.colorSpace){case "hcl":return"interpolate-hcl";case "lab":return"interpolate-lab";default:return"interpolate"}}function vd(w,S,ma){const La={},gb={};var mb=[];for(let ec=0;ec<ma.length;ec++){const Wb=ma[ec],Pc=Wb[0].zoom;void 0===La[Pc]&&(La[Pc]={zoom:Pc,type:w.type,property:w.property,default:w.default},gb[Pc]=[],mb.push(Pc));gb[Pc].push([Wb[0].value,Wb[1]])}if("exponential"===Cc({},S)){var tb=[fe(w),["linear"],["zoom"]];
for(var Rb of mb)mb=Yd(La[Rb],S,gb[Rb]),Ib(tb,Rb,mb,!1);return tb}Rb=["step",["zoom"]];for(tb of mb)mb=Yd(La[tb],S,gb[tb]),Ib(Rb,tb,mb,!0);gc(Rb);return Rb}function Sc(w,S){w=w.default;var ma=S.default;w=Uc(void 0!==w?w:void 0!==ma?ma:void 0);return void 0===w&&"resolvedImage"===S.type?"":w}function Yd(w,S,ma){const La=Cc(w,S);var gb=["get",w.property];if("categorical"===La&&"boolean"===typeof ma[0][0]){var mb=["case"];for(const tb of ma)mb.push(["\x3d\x3d",gb,tb[0]],tb[1]);mb.push(Sc(w,S));return mb}if("categorical"===
La){gb=["match",gb];for(const tb of ma)Ib(gb,tb[0],tb[1],!1);gb.push(Sc(w,S));return gb}if("interval"===La){S=["step",["number",gb]];for(const tb of ma)Ib(S,tb[0],tb[1],!0);gc(S);return void 0===w.default?S:["case",["\x3d\x3d",["typeof",gb],"number"],S,Uc(w.default)]}if("exponential"===La){S=void 0!==w.base?w.base:1;S=[fe(w),1===S?["linear"]:["exponential",S],["number",gb]];for(mb of ma)Ib(S,mb[0],mb[1],!1);return void 0===w.default?S:["case",["\x3d\x3d",["typeof",gb],"number"],S,Uc(w.default)]}throw Error(`Unknown property function type ${La}`);
}function Qb(w,S,ma,La=["zoom"]){var gb=Cc(w,S);S=!1;if("interval"===gb)w=["step",La],S=!0;else if("exponential"===gb)gb=void 0!==w.base?w.base:1,w=[fe(w),1===gb?["linear"]:["exponential",gb],La];else throw Error(`Unknown zoom function type "${gb}"`);for(const mb of ma)Ib(w,mb[0],mb[1],S);gc(w);return w}function gc(w){"step"===w[0]&&3===w.length&&(w.push(0),w.push(w[3]))}function Ib(w,S,ma,La){3<w.length&&S===w[w.length-2]||(La&&2===w.length||w.push(S),w.push(ma))}function Cc(w,S){return w.type?w.type:
S.expression.interpolated?"exponential":"interval"}function Wc(w){const S=["concat"],ma=/{([^{}]+)}/g;let La=0;for(let gb=ma.exec(w);null!==gb;gb=ma.exec(w)){const mb=w.slice(La,ma.lastIndex-gb[0].length);La=ma.lastIndex;0<mb.length&&S.push(mb);S.push(["get",gb[1]])}if(1===S.length)return w;if(La<w.length)S.push(w.slice(La));else if(2===S.length)return["to-string",S[1]];return S}function Gd(w){if(!0===w||!1===w)return!0;if(!Array.isArray(w)||0===w.length)return!1;switch(w[0]){case "has":return 2<=
w.length&&"$id"!==w[1]&&"$type"!==w[1];case "in":return 3<=w.length&&("string"!==typeof w[1]||Array.isArray(w[2]));case "!in":case "!has":case "none":return!1;case "\x3d\x3d":case "!\x3d":case "\x3e":case "\x3e\x3d":case "\x3c":case "\x3c\x3d":return 3!==w.length||Array.isArray(w[1])||Array.isArray(w[2]);case "any":case "all":for(const S of w.slice(1))if(!Gd(S)&&"boolean"!==typeof S)return!1;return!0;default:return!0}}function Wd(w,S){return w<S?-1:w>S?1:0}function Ja(w){if(!Array.isArray(w))return!1;
if("within"===w[0])return!0;for(let S=1;S<w.length;S++)if(Ja(w[S]))return!0;return!1}function eb(w){if(!w)return!0;const S=w[0];return 1>=w.length?"any"!==S:"\x3d\x3d"===S?xb(w[1],w[2],"\x3d\x3d"):"!\x3d"===S?jc(xb(w[1],w[2],"\x3d\x3d")):"\x3c"===S||"\x3e"===S||"\x3c\x3d"===S||"\x3e\x3d"===S?xb(w[1],w[2],S):"any"===S?["any"].concat(w.slice(1).map(eb)):"all"===S?["all"].concat(w.slice(1).map(eb)):"none"===S?["all"].concat(w.slice(1).map(eb).map(jc)):"in"===S?Jb(w[1],w.slice(2)):"!in"===S?jc(Jb(w[1],
w.slice(2))):"has"===S?ac(w[1]):"!has"===S?jc(ac(w[1])):"within"===S?w:!0}function xb(w,S,ma){switch(w){case "$type":return[`filter-type-${ma}`,S];case "$id":return[`filter-id-${ma}`,S];default:return[`filter-${ma}`,w,S]}}function Jb(w,S){if(0===S.length)return!1;switch(w){case "$type":return["filter-type-in",["literal",S]];case "$id":return["filter-id-in",["literal",S]];default:return 200<S.length&&!S.some(ma=>typeof ma!==typeof S[0])?["filter-in-large",w,["literal",S.sort(Wd)]]:["filter-in-small",
w,["literal",S]]}}function ac(w){switch(w){case "$type":return!0;case "$id":return["filter-has-id"];default:return["filter-has",w]}}function jc(w){return["!",w]}function Ec(w){return sc(w,{})}function sc(w,S){if(Gd(w))return w;if(!w)return!0;const ma=w[0];if(1>=w.length)return"any"!==ma;if("\x3d\x3d"===ma||"!\x3d"===ma||"\x3c"===ma||"\x3e"===ma||"\x3c\x3d"===ma||"\x3e\x3d"===ma){const [,La,gb]=w;w=ob(La,gb,ma,S)}else{if("any"===ma)return w=w.slice(1).map(La=>{var gb={};La=sc(La,gb);{const mb=[];for(const tb in gb)mb.push(["\x3d\x3d",
["typeof","$id"===tb?["id"]:["get",tb]],gb[tb]]);gb=0===mb.length?!0:1===mb.length?mb[0]:["all"].concat(mb)}return!0===gb?La:["case",gb,La,!1]}),["any"].concat(w);if("all"===ma)return w=w.slice(1).map(La=>sc(La,S)),1<w.length?["all"].concat(w):[].concat(...w);if("none"===ma)return["!",sc(["any"].concat(w.slice(1)),{})];w="in"===ma?Db(w[1],w.slice(2)):"!in"===ma?Db(w[1],w.slice(2),!0):"has"===ma?Vb(w[1]):"!has"===ma?["!",Vb(w[1])]:!0}return w}function ob(w,S,ma,La){let gb;if("$type"===w)return[ma,
["geometry-type"],S];gb="$id"===w?["id"]:["get",w];La&&null!==S&&(La[w]=typeof S);return"\x3d\x3d"===ma&&"$id"!==w&&null===S?["all",["has",w],["\x3d\x3d",gb,null]]:"!\x3d"===ma&&"$id"!==w&&null===S?["any",["!",["has",w]],["!\x3d",gb,null]]:[ma,gb,S]}function Db(w,S,ma=!1){if(0===S.length)return ma;let La;La="$type"===w?["geometry-type"]:"$id"===w?["id"]:["get",w];w=!0;const gb=typeof S[0];for(var mb of S)if(typeof mb!==gb){w=!1;break}return!w||"string"!==gb&&"number"!==gb?[ma?"all":"any"].concat(S.map(tb=>
[ma?"!\x3d":"\x3d\x3d",La,tb])):(mb=S.sort().filter((tb,Rb)=>0===Rb||S[Rb-1]!==tb),["match",La,mb,!ma,ma])}function Vb(w){return"$type"===w?!0:"$id"===w?["!\x3d",["id"],null]:["has",w]}function mc(w){const S=[];h(w,ma=>{ma.filter&&(ma.filter=Ec(ma.filter))});c(w,{paint:!0,layout:!0},({path:ma,value:La,reference:gb,set:mb})=>{nc(La)||("object"!==typeof La||Array.isArray(La)?gb.tokens&&"string"===typeof La&&mb(Wc(La)):(mb(Lc(La,gb)),S.push(ma.join("."))))});return w}function Dc(w,S){const ma={};for(const La in w)"ref"!==
La&&(ma[La]=w[La]);pd.forEach(La=>{La in S&&(ma[La]=S[La])});return ma}function Fc(w,S){if(Array.isArray(w)){if(!Array.isArray(S)||w.length!==S.length)return!1;for(var ma=0;ma<w.length;ma++)if(!Fc(w[ma],S[ma]))return!1;return!0}if("object"===typeof w&&null!==w&&null!==S){if("object"!==typeof S||Object.keys(w).length!==Object.keys(S).length)return!1;for(ma in w)if(!Fc(w[ma],S[ma]))return!1;return!0}return w===S}function Xc(w,S,ma,La){w=w||{};S=S||{};let gb;for(gb in w)if(w.hasOwnProperty(gb)&&!S.hasOwnProperty(gb)){var mb=
gb,tb=La;ma.push({command:Bd.removeSource,args:[mb]});tb[mb]=!0}for(gb in S)if(S.hasOwnProperty(gb))if(!w.hasOwnProperty(gb))ma.push({command:Bd.addSource,args:[gb,S[gb]]});else if(!Fc(w[gb],S[gb])){if(mb="geojson"===w[gb].type&&"geojson"===S[gb].type)a:{var Rb=void 0;mb=w;tb=S;var ec=gb;for(Rb in mb[ec])if(mb[ec].hasOwnProperty(Rb)&&"data"!==Rb&&!Fc(mb[ec][Rb],tb[ec][Rb])){mb=!1;break a}for(Rb in tb[ec])if(tb[ec].hasOwnProperty(Rb)&&"data"!==Rb&&!Fc(mb[ec][Rb],tb[ec][Rb])){mb=!1;break a}mb=!0}if(mb)ma.push({command:Bd.setGeoJSONSourceData,
args:[gb,S[gb].data]});else{mb=gb;tb=S;ec=ma;Rb=mb;var Wb=La;ec.push({command:Bd.removeSource,args:[Rb]});Wb[Rb]=!0;ec.push({command:Bd.addSource,args:[mb,tb[mb]]})}}}function Fb(w,S,ma,La,gb,mb){w=w||{};S=S||{};let tb;for(tb in w)w.hasOwnProperty(tb)&&(Fc(w[tb],S[tb])||ma.push({command:mb,args:[La,tb,S[tb],gb]}));for(tb in S)S.hasOwnProperty(tb)&&!w.hasOwnProperty(tb)&&(Fc(w[tb],S[tb])||ma.push({command:mb,args:[La,tb,S[tb],gb]}))}function Ic(w){return w.id}function fd(w,S){w[S.id]=S;return w}function wc(w,
S,ma){w=w||[];S=S||[];var La=w.map(Ic);const gb=S.map(Ic);w=w.reduce(fd,{});S=S.reduce(fd,{});const mb=La.slice(),tb=Object.create(null);let Rb;var ec;let Wb,Pc,ed;for(ec=Rb=0;Rb<La.length;Rb++)Wb=La[Rb],S.hasOwnProperty(Wb)?ec++:(ma.push({command:Bd.removeLayer,args:[Wb]}),mb.splice(mb.indexOf(Wb,ec),1));for(ec=Rb=0;Rb<gb.length;Rb++)Wb=gb[gb.length-1-Rb],mb[mb.length-1-Rb]!==Wb&&(w.hasOwnProperty(Wb)?(ma.push({command:Bd.removeLayer,args:[Wb]}),mb.splice(mb.lastIndexOf(Wb,mb.length-ec),1)):ec++,
Pc=mb[mb.length-Rb],ma.push({command:Bd.addLayer,args:[S[Wb],Pc]}),mb.splice(mb.length-Rb,0,Wb),tb[Wb]=!0);for(Rb=0;Rb<gb.length;Rb++)if(Wb=gb[Rb],ec=w[Wb],La=S[Wb],!tb[Wb]&&!Fc(ec,La))if(Fc(ec.source,La.source)&&Fc(ec["source-layer"],La["source-layer"])&&Fc(ec.type,La.type)){Fb(ec.layout,La.layout,ma,Wb,null,Bd.setLayoutProperty);Fb(ec.paint,La.paint,ma,Wb,null,Bd.setPaintProperty);Fc(ec.filter,La.filter)||ma.push({command:Bd.setFilter,args:[Wb,La.filter]});Fc(ec.minzoom,La.minzoom)&&Fc(ec.maxzoom,
La.maxzoom)||ma.push({command:Bd.setLayerZoomRange,args:[Wb,La.minzoom,La.maxzoom]});for(ed in ec)ec.hasOwnProperty(ed)&&"layout"!==ed&&"paint"!==ed&&"filter"!==ed&&"metadata"!==ed&&"minzoom"!==ed&&"maxzoom"!==ed&&(0===ed.indexOf("paint.")?Fb(ec[ed],La[ed],ma,Wb,ed.slice(6),Bd.setPaintProperty):Fc(ec[ed],La[ed])||ma.push({command:Bd.setLayerProperty,args:[Wb,ed,La[ed]]}));for(ed in La)La.hasOwnProperty(ed)&&!ec.hasOwnProperty(ed)&&"layout"!==ed&&"paint"!==ed&&"filter"!==ed&&"metadata"!==ed&&"minzoom"!==
ed&&"maxzoom"!==ed&&(0===ed.indexOf("paint.")?Fb(ec[ed],La[ed],ma,Wb,ed.slice(6),Bd.setPaintProperty):Fc(ec[ed],La[ed])||ma.push({command:Bd.setLayerProperty,args:[Wb,ed,La[ed]]}))}else ma.push({command:Bd.removeLayer,args:[Wb]}),Pc=mb[mb.lastIndexOf(Wb)+1],ma.push({command:Bd.addLayer,args:[La,Pc]})}function $c(w){const S=w.key;return(w=w.value)?[new jd(S,w,"constants have been deprecated as of v8")]:[]}function ad(w){return w instanceof Number||w instanceof String||w instanceof Boolean?w.valueOf():
w}function nd(w){if(Array.isArray(w))return w.map(nd);if(w instanceof Object&&!(w instanceof Number||w instanceof String||w instanceof Boolean)){const S={};for(const ma in w)S[ma]=nd(w[ma]);return S}return ad(w)}function Cd(w){const S=w.key,ma=w.value,La=w.valueSpec||{},gb=w.objectElementValidators||{},mb=w.style;w=w.styleSpec;let tb=[];var Rb=Ma(ma);if("object"!==Rb)return[new jd(S,ma,`object expected, ${Rb} found`)];for(const Wb in ma){var ec=Wb.split(".")[0];Rb=La[ec]||La["*"];if(gb[ec])ec=gb[ec];
else if(La[ec])ec=ye;else if(gb["*"])ec=gb["*"];else if(La["*"])ec=ye;else{tb.push(new jd(S,ma[Wb],`unknown property "${Wb}"`));continue}tb=tb.concat(ec({key:(S?`${S}.`:S)+Wb,value:ma[Wb],valueSpec:Rb,style:mb,styleSpec:w,object:ma,objectKey:Wb},ma))}for(const Wb in La)gb[Wb]||La[Wb].required&&void 0===La[Wb]["default"]&&void 0===ma[Wb]&&tb.push(new jd(S,ma,`missing required property "${Wb}"`));return tb}function Ed(w){const S=w.value;var ma=w.valueSpec;const La=w.style,gb=w.styleSpec,mb=w.key;w=
w.arrayElementValidator||ye;if("array"!==Ma(S))return[new jd(mb,S,`array expected, ${Ma(S)} found`)];if(ma.length&&S.length!==ma.length)return[new jd(mb,S,`array length ${ma.length} expected, length ${S.length} found`)];if(ma["min-length"]&&S.length<ma["min-length"])return[new jd(mb,S,`array length at least ${ma["min-length"]} expected, length ${S.length} found`)];let tb={type:ma.value,values:ma.values};7>gb.$version&&(tb.function=ma.function);"object"===Ma(ma.value)&&(tb=ma.value);ma=[];for(let Rb=
0;Rb<S.length;Rb++)ma=ma.concat(w({array:S,arrayIndex:Rb,value:S[Rb],valueSpec:tb,style:La,styleSpec:gb,key:`${mb}[${Rb}]`}));return ma}function Xd(w){const S=w.key,ma=w.value;w=w.valueSpec;let La=Ma(ma);"number"===La&&ma!==ma&&(La="NaN");return"number"!==La?[new jd(S,ma,`number expected, ${La} found`)]:"minimum"in w&&ma<w.minimum?[new jd(S,ma,`${ma} is less than the minimum value ${w.minimum}`)]:"maximum"in w&&ma>w.maximum?[new jd(S,ma,`${ma} is greater than the maximum value ${w.maximum}`)]:[]}
function $d(w){function S(qd){let bd=[];const Kc=qd.value,ud=qd.key;if("array"!==Ma(Kc))return[new jd(ud,Kc,`array expected, ${Ma(Kc)} found`)];if(2!==Kc.length)return[new jd(ud,Kc,`array length 2 expected, length ${Kc.length} found`)];if(ed){if("object"!==Ma(Kc[0]))return[new jd(ud,Kc,`object expected, ${Ma(Kc[0])} found`)];if(void 0===Kc[0].zoom)return[new jd(ud,Kc,"object stop key must have zoom")];if(void 0===Kc[0].value)return[new jd(ud,Kc,"object stop key must have value")];if(ec&&ec>ad(Kc[0].zoom))return[new jd(ud,
Kc[0].zoom,"stop zoom values must appear in ascending order")];ad(Kc[0].zoom)!==ec&&(ec=ad(Kc[0].zoom),Rb=void 0,tb={});bd=bd.concat(Cd({key:`${ud}[0]`,value:Kc[0],valueSpec:{zoom:{}},style:qd.style,styleSpec:qd.styleSpec,objectElementValidators:{zoom:Xd,value:ma}}))}else bd=bd.concat(ma({key:`${ud}[0]`,value:Kc[0],valueSpec:{},style:qd.style,styleSpec:qd.styleSpec},Kc));return nc(nd(Kc[1]))?bd.concat([new jd(`${ud}[1]`,Kc[1],"expressions are not allowed in function stops.")]):bd.concat(ye({key:`${ud}[1]`,
value:Kc[1],valueSpec:La,style:qd.style,styleSpec:qd.styleSpec}))}function ma(qd,bd){var Kc=Ma(qd.value);const ud=ad(qd.value);bd=null!==qd.value?qd.value:bd;if(!mb)mb=Kc;else if(Kc!==mb)return[new jd(qd.key,bd,`${Kc} stop domain type must match previous stop domain type ${mb}`)];if("number"!==Kc&&"string"!==Kc&&"boolean"!==Kc)return[new jd(qd.key,bd,"stop domain value must be a number, string, or boolean")];if("number"!==Kc&&"categorical"!==gb)return Kc=`number expected, ${Kc} found`,Ra(La)&&void 0===
gb&&(Kc+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new jd(qd.key,bd,Kc)];if("categorical"===gb&&"number"===Kc&&(!isFinite(ud)||Math.floor(ud)!==ud))return[new jd(qd.key,bd,`integer expected, found ${ud}`)];if("categorical"!==gb&&"number"===Kc&&void 0!==Rb&&ud<Rb)return[new jd(qd.key,bd,"stop domain values must appear in ascending order")];Rb=ud;if("categorical"===gb&&ud in tb)return[new jd(qd.key,bd,"stop domain values must be unique")];tb[ud]=!0;return[]}
const La=w.valueSpec,gb=ad(w.value.type);let mb,tb={},Rb,ec;const Wb="categorical"!==gb&&void 0===w.value.property,Pc=!Wb,ed="array"===Ma(w.value.stops)&&"array"===Ma(w.value.stops[0])&&"object"===Ma(w.value.stops[0][0]),zd=Cd({key:w.key,value:w.value,valueSpec:w.styleSpec.function,style:w.style,styleSpec:w.styleSpec,objectElementValidators:{stops:function(qd){if("identity"===gb)return[new jd(qd.key,qd.value,'identity function may not have a "stops" property')];let bd=[];const Kc=qd.value;bd=bd.concat(Ed({key:qd.key,
value:Kc,valueSpec:qd.valueSpec,style:qd.style,styleSpec:qd.styleSpec,arrayElementValidator:S}));"array"===Ma(Kc)&&0===Kc.length&&bd.push(new jd(qd.key,Kc,"array must have at least one stop"));return bd},default:function(qd){return ye({key:qd.key,value:qd.value,valueSpec:La,style:qd.style,styleSpec:qd.styleSpec})}}});"identity"===gb&&Wb&&zd.push(new jd(w.key,w.value,'missing required property "property"'));"identity"===gb||w.value.stops||zd.push(new jd(w.key,w.value,'missing required property "stops"'));
"exponential"===gb&&w.valueSpec.expression&&!lb(w.valueSpec)&&zd.push(new jd(w.key,w.value,"exponential functions not supported"));8<=w.styleSpec.$version&&(Pc&&!Ra(w.valueSpec)?zd.push(new jd(w.key,w.value,"property functions not supported")):Wb&&!ab(w.valueSpec)&&zd.push(new jd(w.key,w.value,"zoom functions not supported")));"categorical"!==gb&&!ed||void 0!==w.value.property||zd.push(new jd(w.key,w.value,'"property" property is required'));return zd}function ae(w){var S=("property"===w.expressionContext?
qc:zc)(nd(w.value),w.valueSpec);if("error"===S.result)return S.value.map(ma=>new jd(`${w.key}${ma.key}`,w.value,ma.message));S=S.value.expression||S.value._styleExpression.expression;if("property"===w.expressionContext&&"text-font"===w.propertyKey&&!S.outputDefined())return[new jd(w.key,w.value,`Invalid data expression for "${w.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===w.expressionContext&&"layout"===w.propertyType&&!$a(S))return[new jd(w.key,
w.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===w.expressionContext&&!$a(S))return[new jd(w.key,w.value,'"feature-state" data expressions are not supported with filters.')];if(w.expressionContext&&0===w.expressionContext.indexOf("cluster")){if(!kb(S,["zoom","feature-state"]))return[new jd(w.key,w.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===w.expressionContext&&!Da(S))return[new jd(w.key,
w.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Ce(w){const S=w.key,ma=w.value;w=w.valueSpec;const La=[];Array.isArray(w.values)?-1===w.values.indexOf(ad(ma))&&La.push(new jd(S,ma,`expected one of [${w.values.join(", ")}], ${JSON.stringify(ma)} found`)):-1===Object.keys(w.values).indexOf(ad(ma))&&La.push(new jd(S,ma,`expected one of [${Object.keys(w.values).join(", ")}], ${JSON.stringify(ma)} found`));return La}function me(w){return Gd(nd(w.value))?
ae(C({},w,{expressionContext:"filter",valueSpec:{value:"boolean"}})):ff(w)}function ff(w){const S=w.value,ma=w.key;if("array"!==Ma(S))return[new jd(ma,S,`array expected, ${Ma(S)} found`)];var La=w.styleSpec;let gb,mb=[];if(1>S.length)return[new jd(ma,S,"filter array must have at least 1 element")];mb=mb.concat(Ce({key:`${ma}[0]`,value:S[0],valueSpec:La.filter_operator,style:w.style,styleSpec:w.styleSpec}));switch(ad(S[0])){case "\x3c":case "\x3c\x3d":case "\x3e":case "\x3e\x3d":2<=S.length&&"$type"===
ad(S[1])&&mb.push(new jd(ma,S,`"$type" cannot be use with operator "${S[0]}"`));case "\x3d\x3d":case "!\x3d":3!==S.length&&mb.push(new jd(ma,S,`filter array for operator "${S[0]}" must have 3 elements`));case "in":case "!in":2<=S.length&&(gb=Ma(S[1]),"string"!==gb&&mb.push(new jd(`${ma}[1]`,S[1],`string expected, ${gb} found`)));for(let tb=2;tb<S.length;tb++)gb=Ma(S[tb]),"$type"===ad(S[1])?mb=mb.concat(Ce({key:`${ma}[${tb}]`,value:S[tb],valueSpec:La.geometry_type,style:w.style,styleSpec:w.styleSpec})):
"string"!==gb&&"number"!==gb&&"boolean"!==gb&&mb.push(new jd(`${ma}[${tb}]`,S[tb],`string, number, or boolean expected, ${gb} found`));break;case "any":case "all":case "none":for(La=1;La<S.length;La++)mb=mb.concat(ff({key:`${ma}[${La}]`,value:S[La],style:w.style,styleSpec:w.styleSpec}));break;case "has":case "!has":gb=Ma(S[1]);2!==S.length?mb.push(new jd(ma,S,`filter array for "${S[0]}" operator must have 2 elements`)):"string"!==gb&&mb.push(new jd(`${ma}[1]`,S[1],`string expected, ${gb} found`));
break;case "within":gb=Ma(S[1]),2!==S.length?mb.push(new jd(ma,S,`filter array for "${S[0]}" operator must have 2 elements`)):"object"!==gb&&mb.push(new jd(`${ma}[1]`,S[1],`object expected, ${gb} found`))}return mb}function Ze(w,S){const ma=w.key,La=w.style,gb=w.styleSpec,mb=w.value,tb=w.objectKey;var Rb=gb[`${S}_${w.layerType}`];if(!Rb)return[];const ec=tb.match(/^(.*)-transition$/);if("paint"===S&&ec&&Rb[ec[1]]&&Rb[ec[1]].transition)return ye({key:ma,value:mb,valueSpec:gb.transition,style:La,styleSpec:gb});
Rb=w.valueSpec||Rb[tb];if(!Rb)return[new jd(ma,mb,`unknown property "${tb}"`)];var Wb;if("string"===Ma(mb)&&Ra(Rb)&&!Rb.tokens&&(Wb=/^{([^}]+)}$/.exec(mb)))return[new jd(ma,mb,`"${tb}" does not support interpolation syntax\n`+`Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(Wb[1])} }\`.`)];Wb=[];"symbol"===w.layerType&&("text-field"===tb&&La&&!La.glyphs&&Wb.push(new jd(ma,mb,'use of "text-field" requires a style "glyphs" property')),"text-font"===tb&&
nb(nd(mb))&&"identity"===ad(mb.type)&&Wb.push(new jd(ma,mb,'"text-font" does not support identity functions')));return Wb.concat(ye({key:w.key,value:mb,valueSpec:Rb,style:La,styleSpec:gb,expressionContext:"property",propertyType:S,propertyKey:tb}))}function hf(w){return Ze(w,"paint")}function Vd(w){return Ze(w,"layout")}function ge(w){let S=[];const ma=w.value,La=w.key;var gb=w.style;const mb=w.styleSpec;ma.type||ma.ref||S.push(new jd(La,ma,'either "type" or "ref" is required'));let tb=ad(ma.type);
const Rb=ad(ma.ref);if(ma.id){var ec=ad(ma.id);for(let Wb=0;Wb<w.arrayIndex;Wb++){const Pc=gb.layers[Wb];ad(Pc.id)===ec&&S.push(new jd(La,ma.id,`duplicate layer id "${ma.id}", previously used at line ${Pc.id.__line__}`))}}if("ref"in ma){["type","source","source-layer","filter","layout"].forEach(Pc=>{Pc in ma&&S.push(new jd(La,ma[Pc],`"${Pc}" is prohibited for ref layers`))});let Wb;gb.layers.forEach(Pc=>{ad(Pc.id)===Rb&&(Wb=Pc)});Wb?Wb.ref?S.push(new jd(La,ma.ref,"ref cannot reference another ref layer")):
tb=ad(Wb.type):S.push(new jd(La,ma.ref,`ref layer "${Rb}" not found`))}else"background"!==tb&&"sky"!==tb&&(ma.source?(ec=(gb=gb.sources&&gb.sources[ma.source])&&ad(gb.type),gb?"vector"===ec&&"raster"===tb?S.push(new jd(La,ma.source,`layer "${ma.id}" requires a raster source`)):"raster"===ec&&"raster"!==tb?S.push(new jd(La,ma.source,`layer "${ma.id}" requires a vector source`)):"vector"!==ec||ma["source-layer"]?"raster-dem"===ec&&"hillshade"!==tb?S.push(new jd(La,ma.source,"raster-dem source can only be used with layer type 'hillshade'.")):
"line"!==tb||!ma.paint||!ma.paint["line-gradient"]||"geojson"===ec&&gb.lineMetrics||S.push(new jd(La,ma,`layer "${ma.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):S.push(new jd(La,ma,`layer "${ma.id}" must specify a "source-layer"`)):S.push(new jd(La,ma.source,`source "${ma.source}" not found`))):S.push(new jd(La,ma,'missing required property "source"')));return S=S.concat(Cd({key:La,value:ma,valueSpec:mb.layer,style:w.style,styleSpec:w.styleSpec,
objectElementValidators:{["*"](){return[]},type(){return ye({key:`${La}.type`,value:ma.type,valueSpec:mb.layer.type,style:w.style,styleSpec:w.styleSpec,object:ma,objectKey:"type"})},filter:me,layout(Wb){return Cd({layer:ma,key:Wb.key,value:Wb.value,style:Wb.style,styleSpec:Wb.styleSpec,objectElementValidators:{["*"](Pc){return Vd(C({layerType:tb},Pc))}}})},paint(Wb){return Cd({layer:ma,key:Wb.key,value:Wb.value,style:Wb.style,styleSpec:Wb.styleSpec,objectElementValidators:{["*"](Pc){return hf(C({layerType:tb},
Pc))}}})}}}))}function yf(w){const S=w.value;w=w.key;const ma=Ma(S);return"string"!==ma?[new jd(w,S,`string expected, ${ma} found`)]:[]}function Ue(w){const S=w.value,ma=w.key;var La=w.styleSpec;const gb=w.style;if(!S.type)return[new jd(ma,S,'"type" is required')];const mb=ad(S.type);switch(mb){case "vector":case "raster":case "raster-dem":return w=Cd({key:ma,value:S,valueSpec:La[`source_${mb.replace("-","_")}`],style:w.style,styleSpec:La,objectElementValidators:Va});case "geojson":w=Cd({key:ma,value:S,
valueSpec:La.source_geojson,style:gb,styleSpec:La,objectElementValidators:Va});if(S.cluster)for(const tb in S.clusterProperties){const [Rb,ec]=S.clusterProperties[tb];La="string"===typeof Rb?[Rb,["accumulated"],["get",tb]]:Rb;w.push(...ae({key:`${ma}.${tb}.map`,value:ec,expressionContext:"cluster-map"}));w.push(...ae({key:`${ma}.${tb}.reduce`,value:La,expressionContext:"cluster-reduce"}))}return w;case "video":return Cd({key:ma,value:S,valueSpec:La.source_video,style:gb,styleSpec:La});case "image":return Cd({key:ma,
value:S,valueSpec:La.source_image,style:gb,styleSpec:La});case "canvas":return[new jd(ma,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Ce({key:`${ma}.type`,value:S.type,valueSpec:{values:"vector raster raster-dem geojson video image".split(" ")},style:gb,styleSpec:La})}}function of(w){const S=w.value,ma=w.styleSpec,La=ma.light;w=w.style;let gb=[];var mb=Ma(S);if(void 0===S)return gb;if("object"!==mb)return gb=gb.concat([new jd("light",
S,`object expected, ${mb} found`)]);for(const tb in S)gb=(mb=tb.match(/^(.*)-transition$/))&&La[mb[1]]&&La[mb[1]].transition?gb.concat(ye({key:tb,value:S[tb],valueSpec:ma.transition,style:w,styleSpec:ma})):La[tb]?gb.concat(ye({key:tb,value:S[tb],valueSpec:La[tb],style:w,styleSpec:ma})):gb.concat([new jd(tb,S[tb],`unknown property "${tb}"`)]);return gb}function le(w){const S=w.value,ma=w.key;var La=w.style;const gb=w.styleSpec,mb=gb.terrain;w=[];var tb=Ma(S);if(void 0===S)return w;if("object"!==tb)return w=
w.concat([new jd("terrain",S,`object expected, ${tb} found`)]);for(var Rb in S)w=(tb=Rb.match(/^(.*)-transition$/))&&mb[tb[1]]&&mb[tb[1]].transition?w.concat(ye({key:Rb,value:S[Rb],valueSpec:gb.transition,style:La,styleSpec:gb})):mb[Rb]?w.concat(ye({key:Rb,value:S[Rb],valueSpec:mb[Rb],style:La,styleSpec:gb})):w.concat([new jd(Rb,S[Rb],`unknown property "${Rb}"`)]);S.source?(Rb=(La=La.sources&&La.sources[S.source])&&ad(La.type),La?"raster-dem"!==Rb&&w.push(new jd(ma,S.source,`terrain cannot be used with a source of type ${Rb}, it only be used with a "raster-dem" source type`)):
w.push(new jd(ma,S.source,`source "${S.source}" not found`))):w.push(new jd(ma,S,'terrain is missing required property "source"'));return w}function ye(w){const S=w.value,ma=w.valueSpec,La=w.styleSpec;return ma.expression&&nb(ad(S))?$d(w):ma.expression&&nc(nd(S))?ae(w):ma.type&&pb[ma.type]?pb[ma.type](w):Cd(C({},w,{valueSpec:ma.type?La[ma.type]:ma}))}function Mf(w){const S=w.value,ma=w.key;w=yf(w);if(w.length)return w;-1===S.indexOf("{fontstack}")&&w.push(new jd(ma,S,'"glyphs" url must include a "{fontstack}" token'));
-1===S.indexOf("{range}")&&w.push(new jd(ma,S,'"glyphs" url must include a "{range}" token'));return w}function Ge(w,S=Jc){let ma=[];ma=ma.concat(ye({key:"",value:w,valueSpec:S.$root,styleSpec:S,style:w,objectElementValidators:{glyphs:Mf,["*"](){return[]}}}));w.constants&&(ma=ma.concat($c({key:"constants",value:w.constants,style:w,styleSpec:S})));return Td(ma)}function Td(w){return[].concat(w).sort((S,ma)=>S.line-ma.line)}function Zd(w){return function(...S){return Td(w.apply(this,S))}}function we(w){if(w instanceof
String||"string"===typeof w||w instanceof g)try{return Cb.parse(w.toString())}catch(S){throw new cf(S);}return w}function nf(w,S=Jc){try{w=we(w)}catch(ma){return[ma]}return Ge(w,S)}function Pe(w,S){return w&&"string"===Ma(w)?!!w.match(S):!0}function Qd(w,S,ma){const La=new Set(S),gb=[];Object.keys(w).forEach(mb=>{La.has(mb)||gb.push(new jd(ma?`${ma}.${mb}`:null,w[mb],`Unsupported property "${mb}"`))});return gb}function Qe(w){const S=[];let ma=0;Object.keys(w).forEach((La,gb)=>{{var mb=w[La];const tb=
[];tb.push(...Qd(mb,["type","url","tileSize"],"source"));Pe(mb.url,/^mapbox:\/\/([^/]*)$/)||tb.push(new jd(`sources[${gb}]`,mb.url,"Source url must be a valid Mapbox tileset url"));gb=tb}gb.length||(mb=ma,La=w[La],La=La.url?La.url.split(",").length:0,ma=mb+La);S.push(...gb)});15<ma&&S.push(new jd("sources",null,"Styles must contain 15 or fewer sources"));return S}function Yf(w,S){const ma=[];S=Qd(w,[...S,"owner","id","cacheControl","draft","created","modified","visibility"]);ma.push(...S);(8<w.version||
8>w.version)&&ma.push(new jd("version",w.version,"Style version must be 8"));Pe(w.glyphs,/^mapbox:\/\/fonts\/([^/]*)\/{fontstack}\/{range}.pbf$/)||ma.push(new jd("glyphs",w.glyphs,"Styles must reference glyphs hosted by Mapbox"));Pe(w.sprite,/^mapbox:\/\/sprites\/([^/]*)\/([^/]*)\/?([^/]*)?$/)||ma.push(new jd("sprite",w.sprite,"Styles must reference sprites hosted by Mapbox"));Pe(w.visibility,/^(public|private)$/)||ma.push(new jd("visibility",w.visibility,"Style visibility must be public or private"));
return ma}var Jc={$version:8,$root:{version:{required:!0,type:"enum",values:[8],doc:"Style specification version number. Must be 8.",example:8},name:{type:"string",doc:"A human-readable name for the style.",example:"Bright"},metadata:{type:"*",doc:"Arbitrary properties useful to track with the stylesheet, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},center:{type:"array",value:"number",doc:"Default map center in longitude and latitude.  The style center will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",
example:[-73.9749,40.7736]},zoom:{type:"number",doc:"Default zoom level.  The style zoom will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:12.5},bearing:{type:"number","default":0,period:360,units:"degrees",doc:'Default bearing, in degrees. The bearing is the compass direction that is "up"; for example, a bearing of 90 orients the map so that east is up. This value will be used only if the map has not been positioned by other means (e.g. map options or user interaction).',
example:29},pitch:{type:"number","default":0,units:"degrees",doc:"Default pitch, in degrees. Zero is perpendicular to the surface, for a look straight down at the map, while a greater value like 60 looks ahead towards the horizon. The style pitch will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:50},light:{type:"light",doc:"The global light source.",example:{anchor:"viewport",color:"white",intensity:.4}},terrain:{type:"terrain",doc:"A global modifier that elevates layers and markers based on a DEM data source."},
sources:{required:!0,type:"sources",doc:"Data source specifications.",example:{"mapbox-streets":{type:"vector",url:"mapbox://mapbox.mapbox-streets-v6"}}},sprite:{type:"string",doc:"A base URL for retrieving the sprite image and metadata. The extensions `.png`, `.json` and scale factor `@2x.png` will be automatically appended. This property is required if any layer uses the `background-pattern`, `fill-pattern`, `line-pattern`, `fill-extrusion-pattern`, or `icon-image` properties. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",
example:"mapbox://sprites/mapbox/bright-v8"},glyphs:{type:"string",doc:"A URL template for loading signed-distance-field glyph sets in PBF format. The URL must include `{fontstack}` and `{range}` tokens. This property is required if any layer uses the `text-field` layout property. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"},transition:{type:"transition",doc:"A global transition definition to use as a default across properties, to be used for timing transitions between one value and the next when no property-specific transition is set. Collision-based symbol fading is controlled independently of the style's `transition` property.",
example:{duration:300,delay:0}},layers:{required:!0,type:"array",value:"layer",doc:"Layers will be drawn in the order of this array.",example:[{id:"water",source:"mapbox-streets","source-layer":"water",type:"fill",paint:{"fill-color":"#00ffff"}}]}},sources:{"*":{type:"source",doc:"Specification of a data source. For vector and raster sources, either TileJSON or a URL to a TileJSON must be provided. For image and video sources, a URL must be provided. For GeoJSON sources, a URL or inline GeoJSON must be provided."}},
source:"source_vector source_raster source_raster_dem source_geojson source_video source_image".split(" "),source_vector:{type:{required:!0,type:"enum",values:{vector:{doc:"A vector tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://\x3cTileset ID\x3e`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",
length:4,"default":[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},"default":"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},
minzoom:{type:"number","default":0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number","default":22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{\x3csourceLayer\x3e: \x3cpropertyName\x3e}`. If specified as a string for a vector tile source, the same property is used across all its source layers."},
volatile:{type:"boolean","default":!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},source_raster:{type:{required:!0,type:"enum",values:{raster:{doc:"A raster tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://\x3cTileset ID\x3e`."},
tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,"default":[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},minzoom:{type:"number",
"default":0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number","default":22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number","default":512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},
tms:{doc:"OSGeo spec scheme."}},"default":"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},volatile:{type:"boolean","default":!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},
source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{doc:"A RGB-encoded raster DEM source"}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://\x3cTileset ID\x3e`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,"default":[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},
minzoom:{type:"number","default":0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number","default":22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number","default":512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},attribution:{type:"string",
doc:"Contains an attribution to be displayed when the map is shown to a user."},encoding:{type:"enum",values:{terrarium:{doc:"Terrarium format PNG tiles. See https://aws.amazon.com/es/public-datasets/terrain/ for more info."},mapbox:{doc:"Mapbox Terrain RGB tiles. See https://www.mapbox.com/help/access-elevation-data/#mapbox-terrain-rgb for more info."}},"default":"mapbox",doc:"The encoding used by this source. Mapbox Terrain RGB is used by default"},volatile:{type:"boolean","default":!1,doc:"A setting to determine whether a source's tiles are cached locally.",
"sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{doc:"A GeoJSON data source."}},doc:"The data type of the GeoJSON source."},data:{type:"*",doc:"A URL to a GeoJSON file, or inline GeoJSON."},maxzoom:{type:"number","default":18,doc:"Maximum zoom level at which to create vector tiles (higher means greater detail at high zoom levels)."},attribution:{type:"string",
doc:"Contains an attribution to be displayed when the map is shown to a user."},buffer:{type:"number","default":128,maximum:512,minimum:0,doc:"Size of the tile buffer on each side. A value of 0 produces no buffer. A value of 512 produces a buffer as wide as the tile itself. Larger values produce fewer rendering artifacts near tile edges and slower performance."},filter:{type:"*",doc:"An expression for filtering features prior to processing them for rendering."},tolerance:{type:"number","default":.375,
doc:"Douglas-Peucker simplification tolerance (higher means simpler geometries and faster performance)."},cluster:{type:"boolean","default":!1,doc:"If the data is a collection of point features, setting this to true clusters the points by radius into groups. Cluster groups become new `Point` features in the source with additional properties:\n * `cluster` Is `true` if the point is a cluster \n * `cluster_id` A unqiue id for the cluster to be used in conjunction with the [cluster inspection methods](https://www.mapbox.com/mapbox-gl-js/api/#geojsonsource#getclusterexpansionzoom)\n * `point_count` Number of original points grouped into this cluster\n * `point_count_abbreviated` An abbreviated point count"},
clusterRadius:{type:"number","default":50,minimum:0,doc:"Radius of each cluster if clustering is enabled. A value of 512 indicates a radius equal to the width of a tile."},clusterMaxZoom:{type:"number",doc:"Max zoom on which to cluster points if clustering is enabled. Defaults to one zoom less than maxzoom (so that last zoom features are not clustered). Clusters are re-evaluated at integer zoom levels so setting clusterMaxZoom to 14 means the clusters will be displayed until z15."},clusterMinPoints:{type:"number",
doc:"Minimum number of points necessary to form a cluster if clustering is enabled. Defaults to `2`."},clusterProperties:{type:"*",doc:'An object defining custom properties on the generated clusters if clustering is enabled, aggregating values from clustered points. Has the form `{"property_name": [operator, map_expression]}`. `operator` is any expression function that accepts at least 2 operands (e.g. `"+"` or `"max"`)  it accumulates the property value from clusters/points the cluster contains; `map_expression` produces the value of a single point.\n\nExample: `{"sum": ["+", ["get", "scalerank"]]}`.\n\nFor more advanced use cases, in place of `operator`, you can use a custom reduce expression that references a special `["accumulated"]` value, e.g.:\n`{"sum": [["+", ["accumulated"], ["get", "sum"]], ["get", "scalerank"]]}`'},
lineMetrics:{type:"boolean","default":!1,doc:"Whether to calculate line distance metrics. This is required for line layers that specify `line-gradient` values."},generateId:{type:"boolean","default":!1,doc:"Whether to generate ids for the geojson features. When enabled, the `feature.id` property will be auto assigned based on its index in the `features` array, over-writing any previous values."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{\x3csourceLayer\x3e: \x3cpropertyName\x3e}`."}},
source_video:{type:{required:!0,type:"enum",values:{video:{doc:"A video data source."}},doc:"The data type of the video source."},urls:{required:!0,type:"array",value:"string",doc:"URLs to video content in order of preferred format."},coordinates:{required:!0,doc:"Corners of video specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},source_image:{type:{required:!0,type:"enum",values:{image:{doc:"An image data source."}},
doc:"The data type of the image source."},url:{required:!0,type:"string",doc:"URL that points to an image."},coordinates:{required:!0,doc:"Corners of image specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},layer:{id:{type:"string",doc:"Unique layer name.",required:!0},type:{type:"enum",values:{fill:{doc:"A filled polygon with an optional stroked border.","sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},line:{doc:"A stroked line.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},symbol:{doc:"An icon or a text label.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},circle:{doc:"A filled circle.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},heatmap:{doc:"A heatmap.","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"fill-extrusion":{doc:"An extruded (3D) polygon.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},raster:{doc:"Raster map textures such as satellite imagery.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},hillshade:{doc:"Client-side hillshading visualization based on DEM data. Currently, the implementation only supports Mapbox Terrain RGB and Mapzen Terrarium tiles.",
"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},background:{doc:"The background color or pattern of the map.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},sky:{doc:"A spherical dome around the map that is always rendered behind all other layers.","sdk-support":{"basic functionality":{js:"2.0.0"}}}},doc:"Rendering type of this layer.",required:!0},metadata:{type:"*",doc:"Arbitrary properties useful to track with the layer, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},
source:{type:"string",doc:"Name of a source description to be used for this layer. Required for all layer types except `background`."},"source-layer":{type:"string",doc:"Layer to use from a vector tile source. Required for vector tile sources; prohibited for all other source types, including GeoJSON sources."},minzoom:{type:"number",minimum:0,maximum:24,doc:"The minimum zoom level for the layer. At zoom levels less than the minzoom, the layer will be hidden."},maxzoom:{type:"number",minimum:0,maximum:24,
doc:"The maximum zoom level for the layer. At zoom levels equal to or greater than the maxzoom, the layer will be hidden."},filter:{type:"filter",doc:"A expression specifying conditions on source features. Only features that match the filter are displayed. Zoom expressions in filters are only evaluated at integer zoom levels. The `feature-state` expression is not supported in filter expressions."},layout:{type:"layout",doc:"Layout properties for the layer."},paint:{type:"paint",doc:"Default paint properties for this layer."}},
layout:"layout_fill layout_line layout_circle layout_heatmap layout_fill-extrusion layout_symbol layout_raster layout_hillshade layout_background layout_sky".split(" "),layout_background:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_sky:{visibility:{type:"enum",
values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"2.0.0"}},"property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},
"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",
doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"},"data-driven styling":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},
"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",
values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},"property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{doc:"A cap with a squared-off end which is drawn to the exact endpoint of the line."},round:{doc:"A cap with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},
square:{doc:"A cap with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."}},"default":"butt",doc:"The display of line endings.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{doc:"A join with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."},
round:{doc:"A join with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},miter:{doc:"A join with a sharp, angled corner which is drawn with the outer sides beyond the endpoint of the path until they meet."}},"default":"miter",doc:"The display of lines when joining.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",
ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number","default":2,doc:"Used to automatically convert miter joins to bevel joins for sharp angles.",requires:[{"line-join":"miter"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number","default":1.05,
doc:"Used to automatically convert round joins to miter joins for shallow angles.",requires:[{"line-join":"round"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",
android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},
layout_symbol:{"symbol-placement":{type:"enum",values:{point:{doc:"The label is placed at the point where the geometry is located."},line:{doc:"The label is placed along the line of the geometry. Can only be used on `LineString` and `Polygon` geometries."},"line-center":{doc:"The label is placed at the center of the line of the geometry. Can only be used on `LineString` and `Polygon` geometries. Note that a single feature in a vector tile may contain multiple line geometries."}},"default":"point",
doc:"Label placement relative to its geometry.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`line-center` value":{js:"0.47.0",android:"6.4.0",ios:"4.3.0",macos:"0.10.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number","default":250,minimum:1,units:"pixels",doc:"Distance between two symbol anchors.",requires:[{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean","default":!1,doc:"If true, the symbols will not cross tile edges to avoid mutual collisions. Recommended in layers that don't have enough padding in the vector tile to prevent collisions, or if it is a point symbol layer placed after a line symbol layer. When using a client that supports global collision detection, like Mapbox GL JS version 0.42.0 or greater, enabling this property is not needed to prevent clipped labels at tile boundaries.",
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with lower sort keys are drawn and placed first.  When `icon-allow-overlap` or `text-allow-overlap` is `false`, features with a lower sort key will have priority during placement. When `icon-allow-overlap` or `text-allow-overlap` is set to `true`, features with a higher sort key will overlap over features with a lower sort key.",
"sdk-support":{"basic functionality":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"},"data-driven styling":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},
"viewport-y":{doc:"Sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},source:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, no sorting is applied; symbols are rendered in the same order as the source data."}},"default":"auto",doc:"Determines whether overlapping symbols in the same layer are rendered in the order that they appear in the data source or by their y-position relative to the viewport. To control the order and prioritization of symbols otherwise, use `symbol-sort-key`.",
"sdk-support":{"basic functionality":{js:"0.49.0",android:"6.6.0",ios:"4.5.0",macos:"0.12.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean","default":!1,doc:"If true, the icon will be visible even if it collides with other previously drawn symbols.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},
"icon-ignore-placement":{type:"boolean","default":!1,doc:"If true, other symbols can be visible even if they collide with the icon.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean","default":!1,doc:"If true, text will display without their corresponding icons when the icon collides with other symbols and the text does not.",
requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns icons east-west. When `symbol-placement` is set to `line` or `line-center`, aligns icon x-axes with the line."},viewport:{doc:"Produces icons whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},
auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},"default":"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,
parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number","default":1,minimum:0,units:"factor of the original icon size",doc:"Scales the original size of the icon by the provided factor. The new pixel size of the image will be the original pixel size multiplied by `icon-size`. 1 is the original size; 3 triples the size of the image.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",
android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{doc:"The icon is displayed at its intrinsic aspect ratio."},width:{doc:"The icon is scaled in the x-dimension to fit the width of the text."},height:{doc:"The icon is scaled in the y-dimension to fit the height of the text."},both:{doc:"The icon is scaled in both x- and y-dimensions."}},"default":"none",doc:"Scales the icon to fit around the associated text.",
requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"stretchable icons":{js:"1.6.0",android:"9.2.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,"default":[0,0,0,0],units:"pixels",doc:"Size of the additional area added to dimensions determined by `icon-text-fit`, in clockwise order: top, right, bottom, left.",
requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",doc:"Name of image in sprite to use for drawing an image background.",tokens:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",
ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number","default":0,period:360,units:"degrees",doc:"Rotates the icon clockwise.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},
"icon-padding":{type:"number","default":2,minimum:0,units:"pixels",doc:"Size of the additional area around the icon bounding box used for detecting symbol collisions.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean","default":!1,doc:"If true, the icon may be flipped to prevent it from being rendered upside-down.",
requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,"default":[0,0],doc:"Offset distance of icon from its anchor. Positive values indicate right and down, while negative values indicate left and up. Each component is multiplied by the value of `icon-size` to obtain the final offset in pixels. When combined with `icon-rotate` the offset will be as if the rotated direction was up.",
requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{doc:"The center of the icon is placed closest to the anchor."},left:{doc:"The left side of the icon is placed closest to the anchor."},right:{doc:"The right side of the icon is placed closest to the anchor."},
top:{doc:"The top of the icon is placed closest to the anchor."},bottom:{doc:"The bottom of the icon is placed closest to the anchor."},"top-left":{doc:"The top left corner of the icon is placed closest to the anchor."},"top-right":{doc:"The top right corner of the icon is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the icon is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the icon is placed closest to the anchor."}},"default":"center",
doc:"Part of the icon placed closest to the anchor.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{doc:"The icon is aligned to the plane of the map."},viewport:{doc:"The icon is aligned to the plane of the viewport."},
auto:{doc:"Automatically matches the value of `icon-rotation-alignment`."}},"default":"auto",doc:"Orientation of icon when map is pitched.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{doc:"The text is aligned to the plane of the map."},viewport:{doc:"The text is aligned to the plane of the viewport."},
auto:{doc:"Automatically matches the value of `text-rotation-alignment`."}},"default":"auto",doc:"Orientation of text when map is pitched.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns text east-west. When `symbol-placement` is set to `line` or `line-center`, aligns text x-axes with the line."},
viewport:{doc:"Produces glyphs whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},"default":"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of the individual glyphs forming the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted","default":"",tokens:!0,doc:"Value to use for a text label. If a plain `string` is provided, it will be treated as a `formatted` with default/inherited formatting options.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",
android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string","default":["Open Sans Regular","Arial Unicode MS Regular"],doc:"Font stack to use for displaying text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,
parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number","default":16,minimum:0,units:"pixels",doc:"Font size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number","default":10,minimum:0,units:"ems",doc:"The maximum line width for text wrapping.",
requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number","default":1.2,units:"ems",doc:"Text leading value for multi-line text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},
expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number","default":0,units:"ems",doc:"Text tracking amount.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{doc:"The text is aligned towards the anchor position."},
left:{doc:"The text is aligned to the left."},center:{doc:"The text is centered."},right:{doc:"The text is aligned to the right."}},"default":"center",doc:"Text justification options.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},auto:{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},
"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems","default":0,doc:"Radial offset of text, in the direction of the symbol's anchor. Useful in combination with `text-variable-anchor`, which defaults to using the two-dimensional `text-offset` if present.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"},"data-driven styling":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},requires:["text-field"],"property-type":"data-driven",
expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},
"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},requires:["text-field",{"symbol-placement":["point"]}],doc:"To increase the chance of placing high-priority labels on the map, you can provide an array of `text-anchor` locations: the renderer will attempt to place the label at each location, in order, before moving onto the next label. Use `text-justify: auto` to choose justification based on anchor position. To apply an offset, use the `text-radial-offset` or the two-dimensional `text-offset`.",
"sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},
"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},"default":"center",doc:"Part of the text placed closest to the anchor.",requires:["text-field",{"!":"text-variable-anchor"}],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number","default":45,units:"degrees",doc:"Maximum angle change between adjacent characters.",requires:["text-field",{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,
parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{doc:"If a text's language supports horizontal writing mode, symbols with point placement would be laid out horizontally."},vertical:{doc:"If a text's language supports vertical writing mode, symbols with point placement would be laid out vertically."}},doc:"The property allows control over a symbol's orientation. Note that the property values act as a hint, so that a symbol whose language doesnt support the provided orientation will be laid out in its natural orientation. Example: English point symbol will be rendered horizontally even if array value contains single 'vertical' enum value. The order of elements in an array define priority order for the placement of an orientation variant.",
requires:["text-field",{"symbol-placement":["point"]}],"sdk-support":{"basic functionality":{js:"1.3.0",android:"8.3.0",ios:"5.3.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number","default":0,period:360,units:"degrees",doc:"Rotates the text clockwise.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",
ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number","default":2,minimum:0,units:"pixels",doc:"Size of the additional area around the text bounding box used for detecting symbol collisions.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",
"default":!0,doc:"If true, the text may be flipped vertically to prevent it from being rendered upside-down.",requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{doc:"The text is not altered."},uppercase:{doc:"Forces all letters to be displayed in uppercase."},
lowercase:{doc:"Forces all letters to be displayed in lowercase."}},"default":"none",doc:"Specifies how to capitalize text, similar to the CSS `text-transform` property.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",doc:"Offset distance of text from its anchor. Positive values indicate right and down, while negative values indicate left and up. If used with text-variable-anchor, input values will be taken as absolute values. Offsets along the x- and y-axis will be applied automatically based on the anchor position.",
value:"number",units:"ems",length:2,"default":[0,0],requires:["text-field",{"!":"text-radial-offset"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean","default":!1,doc:"If true, the text will be visible even if it collides with other previously drawn symbols.",
requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean","default":!1,doc:"If true, other symbols can be visible even if they collide with the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},
"text-optional":{type:"boolean","default":!1,doc:"If true, icons will display without their corresponding text when the text collides with other symbols and the icon does not.",requires:["text-field","icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",
doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",
values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},filter:{type:"array",value:"*",doc:"A filter selects specific features from a layer."},filter_operator:{type:"enum",values:{"\x3d\x3d":{doc:'`["\x3d\x3d", key, value]` equality: `feature[key] \x3d value`'},"!\x3d":{doc:'`["!\x3d", key, value]` inequality: `feature[key]  value`'},
"\x3e":{doc:'`["\x3e", key, value]` greater than: `feature[key] \x3e value`'},"\x3e\x3d":{doc:'`["\x3e\x3d", key, value]` greater than or equal: `feature[key]  value`'},"\x3c":{doc:'`["\x3c", key, value]` less than: `feature[key] \x3c value`'},"\x3c\x3d":{doc:'`["\x3c\x3d", key, value]` less than or equal: `feature[key]  value`'},"in":{doc:'`["in", key, v0, ..., vn]` set inclusion: `feature[key]  {v0, ..., vn}`'},"!in":{doc:'`["!in", key, v0, ..., vn]` set exclusion: `feature[key]  {v0, ..., vn}`'},
all:{doc:'`["all", f0, ..., fn]` logical `AND`: `f0  ...  fn`'},any:{doc:'`["any", f0, ..., fn]` logical `OR`: `f0  ...  fn`'},none:{doc:'`["none", f0, ..., fn]` logical `NOR`: `f0  ...  fn`'},has:{doc:'`["has", key]` `feature[key]` exists'},"!has":{doc:'`["!has", key]` `feature[key]` does not exist'},within:{doc:'`["within", object]` feature geometry is within object geometry'}},doc:"The filter operator."},geometry_type:{type:"enum",values:{Point:{doc:"Filter to point geometries."},LineString:{doc:"Filter to line geometries."},
Polygon:{doc:"Filter to polygon geometries."}},doc:"The geometry type for the filter to select."},"function":{expression:{type:"expression",doc:"An expression."},stops:{type:"array",doc:"An array of stops.",value:"function_stop"},base:{type:"number","default":1,minimum:0,doc:"The exponential base of the interpolation curve. It controls the rate at which the result increases. Higher values make the result increase more towards the high end of the range. With `1` the stops are interpolated linearly."},
property:{type:"string",doc:"The name of a feature property to use as the function input.","default":"$zoom"},type:{type:"enum",values:{identity:{doc:"Return the input value as the output value."},exponential:{doc:"Generate an output by interpolating between stops just less than and just greater than the function input."},interval:{doc:"Return the output value of the stop just less than the function input."},categorical:{doc:"Return the output value of the stop equal to the function input."}},doc:"The interpolation strategy to use in function evaluation.",
"default":"exponential"},colorSpace:{type:"enum",values:{rgb:{doc:"Use the RGB color space to interpolate color values"},lab:{doc:"Use the LAB color space to interpolate color values."},hcl:{doc:"Use the HCL color space to interpolate color values, interpolating the Hue, Chroma, and Luminance channels individually."}},doc:"The color space in which colors interpolated. Interpolating colors in perceptual color spaces like LAB and HCL tend to produce color ramps that look more consistent and produce colors that can be differentiated more easily than those interpolated in RGB space.",
"default":"rgb"},"default":{type:"*",required:!1,doc:"A value to serve as a fallback function result when a value isn't otherwise available. It is used in the following circumstances:\n* In categorical functions, when the feature value does not match any of the stop domain values.\n* In property and zoom-and-property functions, when a feature does not contain a value for the specified property.\n* In identity functions, when the feature value is not valid for the style property (for example, if the function is being used for a `circle-color` property but the feature property value is not a string or not a valid color).\n* In interval or exponential property and zoom-and-property functions, when the feature value is not numeric.\nIf no default is provided, the style property's default is used in these circumstances."}},
function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2,doc:"Zoom level and value pair."},expression:{type:"array",value:"*",minimum:1,doc:"An expression defines a function that can be used for data-driven style properties or feature filters."},expression_name:{doc:"",type:"enum",values:{let:{doc:'Binds expressions to named variables, which can then be referenced in the result expression using ["var", "variable_name"].',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"var":{doc:'References variable bound using "let".',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},literal:{doc:"Provides a literal array or object value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},array:{doc:"Asserts that the input is an array (optionally with a specific item type and length).  If, when the input expression is evaluated, it is not of the asserted type, then this assertion will cause the whole expression to be aborted.",
group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},at:{doc:"Retrieves an item from an array.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"in":{doc:"Determines whether an item exists in an array or a substring exists in a string.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.6.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"index-of":{doc:"Returns the first position at which an item can be found in an array or a substring can be found in a string, or `-1` if the input cannot be found. Accepts an optional index from where to begin the search.",
group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0"}}},slice:{doc:"Returns an item from an array or a substring from a string from a specified start index, or between a start index and an end index if set. The return value is inclusive of the start index but not of the end index.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0"}}},"case":{doc:"Selects the first output whose corresponding test condition evaluates to true, or the fallback value otherwise.",group:"Decision",
"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},match:{doc:'Selects the output whose label value matches the input value, or the fallback value if no match is found. The input can be any expression (e.g. `["get", "building_type"]`). Each label must be either:\n - a single literal value; or\n - an array of literal values, whose values must be all strings or all numbers (e.g. `[100, 101]` or `["c", "b"]`). The input matches if any of the values in the array matches, similar to the `"in"` operator.\nEach label must be unique. If the input type does not match the type of the labels, the result will be the fallback value.',
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},coalesce:{doc:"Evaluates each expression in turn until the first non-null value is obtained, and returns that value.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},step:{doc:'Produces discrete, stepped results by evaluating a piecewise-constant function defined by pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. Returns the output value of the stop just less than the input, or the first output if the input is less than the first stop.',
group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},interpolate:{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. The output type must be `number`, `array\x3cnumber\x3e`, or `color`.\n\nInterpolation types:\n- `["linear"]`: Interpolates linearly between the pair of stops just less than and just greater than the input.\n- `["exponential", base]`: Interpolates exponentially between the stops just less than and just greater than the input. `base` controls the rate at which the output increases: higher values make the output increase more towards the high end of the range. With values close to 1 the output increases linearly.\n- `["cubic-bezier", x1, y1, x2, y2]`: Interpolates using the cubic bezier curve defined by the given control points.',
group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"interpolate-hcl":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the Hue-Chroma-Luminance color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},"interpolate-lab":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the CIELAB color space.',
group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},ln2:{doc:"Returns mathematical constant ln(2).",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pi:{doc:"Returns the mathematical constant pi.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},e:{doc:"Returns the mathematical constant e.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"typeof":{doc:"Returns a string describing the type of the given value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},string:{doc:"Asserts that the input value is a string. If multiple values are provided, each one is evaluated in order until a string is obtained. If none of the inputs are strings, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},number:{doc:"Asserts that the input value is a number. If multiple values are provided, each one is evaluated in order until a number is obtained. If none of the inputs are numbers, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},boolean:{doc:"Asserts that the input value is a boolean. If multiple values are provided, each one is evaluated in order until a boolean is obtained. If none of the inputs are booleans, the expression is an error.",
group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},object:{doc:"Asserts that the input value is an object. If multiple values are provided, each one is evaluated in order until an object is obtained. If none of the inputs are objects, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},collator:{doc:"Returns a `collator` for use in locale-dependent comparison operations. The `case-sensitive` and `diacritic-sensitive` options default to `false`. The `locale` argument specifies the IETF language tag of the locale to use. If none is provided, the default locale is used. If the requested locale is not available, the `collator` will use a system-defined fallback locale. Use `resolved-locale` to test the results of locale fallback behavior.",
group:"Types","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},format:{doc:'Returns a `formatted` string for displaying mixed-format text in the `text-field` property. The input may contain a string literal or expression, including an [`\'image\'`](#types-image) expression. Strings may be followed by a style override object that supports the following properties:\n- `"text-font"`: Overrides the font stack specified by the root layout property.\n- `"text-color"`: Overrides the color specified by the root paint property.\n- `"font-scale"`: Applies a scaling factor on `text-size` as specified by the root layout property.',
group:"Types","sdk-support":{"basic functionality":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-font":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"font-scale":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-color":{js:"1.3.0",android:"7.3.0",ios:"4.10.0",macos:"0.14.0"},image:{js:"1.6.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},image:{doc:"Returns an `image` type for use in `icon-image`, `*-pattern` entries and as a section in the `format` expression. If set, the `image` argument will check that the requested image exists in the style and will return either the resolved image name or `null`, depending on whether or not the image is currently in the style. This validation process is synchronous and requires the image to have been added to the style before requesting it in the `image` argument.",
group:"Types","sdk-support":{"basic functionality":{js:"1.4.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},"number-format":{doc:"Converts the input number into a string representation using the providing formatting rules. If set, the `locale` argument specifies the locale to use, as a BCP 47 language tag. If set, the `currency` argument specifies an ISO 4217 code to use for currency-style formatting. If set, the `min-fraction-digits` and `max-fraction-digits` arguments specify the minimum and maximum number of fractional digits to include.",
group:"Types","sdk-support":{"basic functionality":{js:"0.54.0"}}},"to-string":{doc:'Converts the input value to a string. If the input is `null`, the result is `""`. If the input is a boolean, the result is `"true"` or `"false"`. If the input is a number, it is converted to a string as specified by the ["NumberToString" algorithm](https://tc39.github.io/ecma262/#sec-tostring-applied-to-the-number-type) of the ECMAScript Language Specification. If the input is a color, it is converted to a string of the form `"rgba(r,g,b,a)"`, where `r`, `g`, and `b` are numerals ranging from 0 to 255, and `a` ranges from 0 to 1. Otherwise, the input is converted to a string in the format specified by the [`JSON.stringify`](https://tc39.github.io/ecma262/#sec-json.stringify) function of the ECMAScript Language Specification.',
group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-number":{doc:'Converts the input value to a number, if possible. If the input is `null` or `false`, the result is 0. If the input is `true`, the result is 1. If the input is a string, it is converted to a number as specified by the ["ToNumber Applied to the String Type" algorithm](https://tc39.github.io/ecma262/#sec-tonumber-applied-to-the-string-type) of the ECMAScript Language Specification. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.',
group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-boolean":{doc:"Converts the input value to a boolean. The result is `false` when then input is an empty string, 0, `false`, `null`, or `NaN`; otherwise it is `true`.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-rgba":{doc:"Returns a four-element array containing the input color's red, green, blue, and alpha components, in that order.",
group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-color":{doc:"Converts the input value to a color. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgb:{doc:"Creates a color value from red, green, and blue components, which must range between 0 and 255, and an alpha component of 1. If any component is out of range, the expression is an error.",
group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgba:{doc:"Creates a color value from red, green, blue components, which must range between 0 and 255, and an alpha component which must range between 0 and 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},get:{doc:"Retrieves a property value from the current feature's properties, or from another object if a second argument is provided. Returns null if the requested property is missing.",
group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},has:{doc:"Tests for the presence of an property value in the current feature's properties, or from another object if a second argument is provided.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},length:{doc:"Gets the length of an array or string.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",
ios:"4.0.0",macos:"0.7.0"}}},properties:{doc:'Gets the feature properties object.  Note that in some cases, it may be more efficient to use ["get", "property_name"] directly.',group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"feature-state":{doc:"Retrieves a property value from the current feature's state. Returns null if the requested property is not present on the feature's state. A feature's state is not part of the GeoJSON or vector tile data, and must be set programmatically on each feature. Features are identified by their `id` attribute, which must be an integer or a string that can be cast to an integer. Note that [\"feature-state\"] can only be used with paint properties that support data-driven styling.",
group:"Feature data","sdk-support":{"basic functionality":{js:"0.46.0"}}},"geometry-type":{doc:"Gets the feature's geometry type: `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},id:{doc:"Gets the feature's id, if it has one.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},zoom:{doc:'Gets the current zoom level.  Note that in style layout and paint properties, ["zoom"] may only appear as the input to a top-level "step" or "interpolate" expression.',
group:"Zoom","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"heatmap-density":{doc:"Gets the kernel density estimation of a pixel in a heatmap layer, which is a relative measure of how many data points are crowded around a particular pixel. Can only be used in the `heatmap-color` property.",group:"Heatmap","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"line-progress":{doc:"Gets the progress along a gradient line. Can only be used in the `line-gradient` property.",
group:"Feature data","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.6.0",macos:"0.12.0"}}},"sky-radial-progress":{doc:"Gets the distance of a point on the sky from the sun position. Returns 0 at sun position and 1 when the distance reaches `sky-gradient-radius`. Can only be used in the `sky-gradient` property.",group:"sky","sdk-support":{"basic functionality":{js:"2.0.0"}}},accumulated:{doc:"Gets the value of a cluster property accumulated so far. Can only be used in the `clusterProperties` option of a clustered GeoJSON source.",
group:"Feature data","sdk-support":{"basic functionality":{js:"0.53.0"}}},"+":{doc:"Returns the sum of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"*":{doc:"Returns the product of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"-":{doc:"For two inputs, returns the result of subtracting the second input from the first. For a single input, returns the result of subtracting it from 0.",
group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"/":{doc:"Returns the result of floating point division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"%":{doc:"Returns the remainder after integer division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},
"^":{doc:"Returns the result of raising the first input to the power specified by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sqrt:{doc:"Returns the square root of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log10:{doc:"Returns the base-ten logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",
macos:"0.7.0"}}},ln:{doc:"Returns the natural logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log2:{doc:"Returns the base-two logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sin:{doc:"Returns the sine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},cos:{doc:"Returns the cosine of the input.",
group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},tan:{doc:"Returns the tangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},asin:{doc:"Returns the arcsine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},acos:{doc:"Returns the arccosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},atan:{doc:"Returns the arctangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},min:{doc:"Returns the minimum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},max:{doc:"Returns the maximum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",
macos:"0.7.0"}}},round:{doc:'Rounds the input to the nearest integer. Halfway values are rounded away from zero. For example, `["round", -1.5]` evaluates to -2.',group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},abs:{doc:"Returns the absolute value of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ceil:{doc:"Returns the smallest integer that is greater than or equal to the input.",
group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},floor:{doc:"Returns the largest integer that is less than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},distance:{doc:"Returns the shortest distance in meters between the evaluated feature and the input geometry. The input value can be a valid GeoJSON of type `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Distance values returned may vary in precision due to loss in precision from encoding geometries, particularly below zoom level 13.",
group:"Math","sdk-support":{"basic functionality":{android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}}},"\x3d\x3d":{doc:"Returns `true` if the input values are equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision",
"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"!\x3d":{doc:"Returns `true` if the input values are not equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"\x3e":{doc:"Returns `true` if the first input is strictly greater than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"\x3c":{doc:"Returns `true` if the first input is strictly less than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"\x3e\x3d":{doc:"Returns `true` if the first input is greater than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"\x3c\x3d":{doc:"Returns `true` if the first input is less than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},all:{doc:"Returns `true` if all the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `false`, the result is `false` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},any:{doc:"Returns `true` if any of the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `true`, the result is `true` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"!":{doc:"Logical negation. Returns `true` if the input is `false`, and `false` if the input is `true`.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},within:{doc:"Returns `true` if the evaluated feature is fully contained inside a boundary of the input geometry, `false` otherwise. The input value can be a valid GeoJSON of type `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Supported features for evaluation:\n- `Point`: Returns `false` if a point is on the boundary or falls outside the boundary.\n- `LineString`: Returns `false` if any part of a line falls outside the boundary, the line intersects the boundary, or a line's endpoint is on the boundary.",
group:"Decision","sdk-support":{"basic functionality":{js:"1.9.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"is-supported-script":{doc:"Returns `true` if the input string is expected to render legibly. Returns `false` if the input string contains sections that cannot be rendered without potential loss of meaning (e.g. Indic scripts that require complex text shaping, or right-to-left scripts if the the `mapbox-gl-rtl-text` plugin is not in use in Mapbox GL JS).",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",
android:"6.6.0"}}},upcase:{doc:"Returns the input string converted to uppercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},downcase:{doc:"Returns the input string converted to lowercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",
group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},concat:{doc:"Returns a `string` consisting of the concatenation of the inputs. Each input is converted to a string as if by `to-string`.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"resolved-locale":{doc:"Returns the IETF language tag of the locale being used by the provided `collator`. This can be used to determine the default system locale, or to determine if a requested locale was successfully loaded.",
group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}}}},light:{anchor:{type:"enum","default":"viewport",values:{map:{doc:"The position of the light source is aligned to the rotation of the map."},viewport:{doc:"The position of the light source is aligned to the rotation of the viewport."}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},doc:"Whether extruded geometries are lit relative to the map or viewport.",
example:"map","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},position:{type:"array","default":[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"Position of the light source relative to lit (extruded) geometries, in [r radial coordinate, a azimuthal angle, p polar angle] where r indicates the distance from the center of the base of an object to its light, a indicates the position of the light relative to 0 (0 when `light.anchor` is set to `viewport` corresponds to the top of the viewport, or 0 when `light.anchor` is set to `map` corresponds to due north, and degrees proceed clockwise), and p indicates the height of the light (from 0, directly above, to 180, directly below).",
example:[1.5,90,80],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},color:{type:"color","property-type":"data-constant","default":"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Color tint for lighting extruded geometries.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},intensity:{type:"number","property-type":"data-constant","default":.5,minimum:0,maximum:1,expression:{interpolated:!0,
parameters:["zoom"]},transition:!0,doc:"Intensity of lighting (on a scale from 0 to 1). Higher numbers will present as more extreme contrast.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}}},terrain:{source:{type:"string",doc:"Name of a source of `raster_dem` type to be used for terrain elevation.",required:!0},exaggeration:{type:"number","property-type":"data-constant","default":1,minimum:0,maximum:1E3,expression:{interpolated:!0,parameters:["zoom"]},
transition:!0,doc:"Exaggerates the elevation of the terrain by multiplying the data from the DEM with this value.","sdk-support":{"basic functionality":{js:"2.0.0"}}}},paint:"paint_fill paint_line paint_circle paint_heatmap paint_fill-extrusion paint_symbol paint_raster paint_hillshade paint_background paint_sky".split(" "),paint_fill:{"fill-antialias":{type:"boolean","default":!0,doc:"Whether or not the fill should be antialiased.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",
ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number","default":1,minimum:0,maximum:1,doc:"The opacity of the entire fill layer. In contrast to the `fill-color`, this value will also affect the 1px stroke around the fill, if the stroke is used.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",
macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color","default":"#000000",doc:"The color of the filled part of this layer. This color can be specified as `rgba` with an alpha component and the color's opacity will not affect the opacity of the 1px stroke, if it is used.",transition:!0,requires:[{"!":"fill-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},
"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",doc:"The outline color of the fill. Matches the value of `fill-color` if unspecified.",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",
android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},
"fill-translate-anchor":{type:"enum",values:{map:{doc:"The fill is translated relative to the map."},viewport:{doc:"The fill is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-translate`.","default":"map",requires:["fill-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.",
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number","default":1,minimum:0,maximum:1,doc:"The opacity of the entire fill extrusion layer. This is rendered on a per-layer, not per-feature, basis, and data-driven styling is not available.",
transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color","default":"#000000",doc:"The base color of the extruded fill. The extrusion's surfaces will be shaded differently based on this color in combination with the root `light` settings. If this color is specified as `rgba` with an alpha component, the alpha component will be ignored; use `fill-extrusion-opacity` to set layer opacity.",
transition:!0,requires:[{"!":"fill-extrusion-pattern"}],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up (on the flat plane), respectively.",
"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{doc:"The fill extrusion is translated relative to the map."},viewport:{doc:"The fill extrusion is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-extrusion-translate`.","default":"map",requires:["fill-extrusion-translate"],"sdk-support":{"basic functionality":{js:"0.27.0",
android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing images on extruded fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",
ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number","default":0,minimum:0,units:"meters",doc:"The height with which to extrude this layer.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",
macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number","default":0,minimum:0,units:"meters",doc:"The height with which to extrude the base of this layer. Must be less than or equal to `fill-extrusion-height`.",transition:!0,requires:["fill-extrusion-height"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",
ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean","default":!0,doc:"Whether to apply a vertical gradient to the sides of a fill-extrusion layer. If true, sides will be shaded slightly darker farther down.",transition:!1,"sdk-support":{"basic functionality":{js:"0.50.0",ios:"4.7.0",macos:"0.13.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},
paint_line:{"line-opacity":{type:"number",doc:"The opacity at which the line will be drawn.","default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",doc:"The color with which the line will be drawn.","default":"#000000",
transition:!0,requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.23.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.",
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{doc:"The line is translated relative to the map."},viewport:{doc:"The line is translated relative to the viewport."}},doc:"Controls the frame of reference for `line-translate`.","default":"map",requires:["line-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",
ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number","default":1,minimum:0,transition:!0,units:"pixels",doc:"Stroke thickness.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",
"default":0,minimum:0,doc:"Draws a line casing outside of a line's actual path. Value indicates the width of the inner gap.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number","default":0,doc:"The line's offset. For linear features, a positive value offsets the line to the right, relative to the direction of the line, and a negative value to the left. For polygon features, a positive value results in an inset, and a negative value results in an outset.",
transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.12.1",android:"3.0.0",ios:"3.1.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",doc:"Blur applied to the line, in pixels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",
macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",doc:"Specifies the lengths of the alternating dashes and gaps that form the dash pattern. The lengths are later scaled by the line width. To convert a dash length to pixels, multiply the length by the current line width. Note that GeoJSON sources with `lineMetrics: true` specified won't render dashed lines to the expected scale. Also note that zoom-dependent expressions will be evaluated only at integer zoom levels.",
minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image lines. For seamless patterns, image width must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.",
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",doc:'Defines a gradient with which to color a line feature. Can only be used with GeoJSON sources that specify `"lineMetrics": true`.',transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},
{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.4.0",macos:"0.11.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number","default":5,minimum:0,transition:!0,units:"pixels",doc:"Circle radius.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",
ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color","default":"#000000",doc:"The fill color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},
"circle-blur":{type:"number","default":0,doc:"Amount to blur the circle. 1 blurs the circle such that only the centerpoint is full opacity.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",doc:"The opacity at which the circle will be drawn.",
"default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.",
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{doc:"The circle is translated relative to the map."},viewport:{doc:"The circle is translated relative to the viewport."}},doc:"Controls the frame of reference for `circle-translate`.","default":"map",requires:["circle-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{doc:"Circles are scaled according to their apparent distance to the camera."},viewport:{doc:"Circles are not scaled."}},"default":"map",doc:"Controls the scaling behavior of the circle when the map is pitched.","sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!1,
parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{doc:"The circle is aligned to the plane of the map."},viewport:{doc:"The circle is aligned to the plane of the viewport."}},"default":"viewport",doc:"Orientation of circle when map is pitched.","sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",
"default":0,minimum:0,transition:!0,units:"pixels",doc:"The width of the circle's stroke. Strokes are placed outside of the `circle-radius`.","sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color","default":"#000000",doc:"The stroke color of the circle.",
transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",doc:"The opacity of the circle's stroke.","default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},
"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number","default":30,minimum:1,transition:!0,units:"pixels",doc:"Radius of influence of one heatmap point in pixels. Increasing the value makes the heatmap smoother, but less detailed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},
"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number","default":1,minimum:0,transition:!1,doc:"A measure of how much an individual point contributes to the heatmap. A value of 10 would be equivalent to having 10 points of weight 1 in the same spot. Especially useful when combined with clustering.","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number","default":1,minimum:0,transition:!0,doc:"Similar to `heatmap-weight` but controls the intensity of the heatmap globally. Primarily used for adjusting the heatmap based on zoom level.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",
ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],doc:'Defines the color of each pixel based on its density value in a heatmap.  Should be an expression that uses `["heatmap-density"]` as input.',transition:!1,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",
ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",doc:"The global opacity at which the heatmap layer will be drawn.","default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{doc:"The opacity at which the icon will be drawn.",
type:"number","default":1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color","default":"#000000",transition:!0,doc:"The color of the icon. This can only be used with sdf icons.",requires:["icon-image"],
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the icon's halo. Icon halos can only be used with SDF icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the icon outline.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",
android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",doc:"Fade out the halo towards the outside.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,
parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"Distance that the icon's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},
"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{doc:"Icons are translated relative to the map."},viewport:{doc:"Icons are translated relative to the viewport."}},doc:"Controls the frame of reference for `icon-translate`.","default":"map",requires:["icon-image","icon-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",
doc:"The opacity at which the text will be drawn.","default":1,minimum:0,maximum:1,transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",doc:"The color with which the text will be drawn.","default":"#000000",transition:!0,
overridable:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the text's halo, which helps it stand out from backgrounds.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the font outline. Max text halo width is 1/4 of the font-size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",
macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",doc:"The halo's fadeout distance towards the outside.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",
ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"Distance that the text's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},
expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{doc:"The text is translated relative to the map."},viewport:{doc:"The text is translated relative to the viewport."}},doc:"Controls the frame of reference for `text-translate`.","default":"map",requires:["text-field","text-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},
"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",doc:"The opacity at which the image will be drawn.","default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number","default":0,period:360,transition:!0,units:"degrees",doc:"Rotates hues around the color wheel.","sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the minimum brightness.","default":0,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",
doc:"Increase or reduce the brightness of the image. The value is the maximum brightness.","default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",doc:"Increase or reduce the saturation of the image.","default":0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",
ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",doc:"Increase or reduce the contrast of the image.","default":0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",doc:"The resampling/interpolation method to use for overscaling, also known as texture magnification filter",
values:{linear:{doc:"(Bi)linear filtering interpolates pixel values using the weighted average of the four closest original source pixels creating a smooth but blurry look when overscaled"},nearest:{doc:"Nearest neighbor filtering interpolates pixel values using the nearest original source pixel creating a sharp but pixelated look when overscaled"}},"default":"linear","sdk-support":{"basic functionality":{js:"0.47.0",android:"6.3.0",ios:"4.2.0",macos:"0.9.0"}},expression:{interpolated:!1,parameters:["zoom"]},
"property-type":"data-constant"},"raster-fade-duration":{type:"number","default":300,minimum:0,transition:!1,units:"milliseconds",doc:"Fade duration when a new tile is added.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number","default":335,minimum:0,maximum:359,doc:"The direction of the light source used to generate the hillshading with 0 as the top of the viewport if `hillshade-illumination-anchor` is set to `viewport` and due north if `hillshade-illumination-anchor` is set to `map`.",
transition:!1,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{doc:"The hillshade illumination is relative to the north direction."},viewport:{doc:"The hillshade illumination is relative to the top of the viewport."}},"default":"viewport",doc:"Direction of light source when map is rotated.","sdk-support":{"basic functionality":{js:"0.43.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",doc:"Intensity of the hillshade","default":.5,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color","default":"#000000",doc:"The shading color of areas that face away from the light source.",
transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color","default":"#FFFFFF",doc:"The shading color of areas that faces towards the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},
"hillshade-accent-color":{type:"color","default":"#000000",doc:"The shading color used to accentuate rugged terrain like sharp cliffs and gorges.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color","default":"#000000",doc:"The color with which the background will be drawn.",transition:!0,requires:[{"!":"background-pattern"}],
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing an image background. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number","default":1,minimum:0,maximum:1,doc:"The opacity at which the background will be drawn.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{doc:"Renders the sky with a gradient that can be configured with `sky-gradient-radius` and `sky-gradient`."},
atmosphere:{doc:"Renders the sky with a simulated atmospheric scattering algorithm, the sun direction can be attached to the light position or explicitly set through `sky-atmosphere-sun`."}},"default":"atmosphere",doc:"The type of the sky","sdk-support":{"basic functionality":{js:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,transition:!1,doc:"Position of the sun center [a azimuthal angle, p polar angle]. The azimuthal angle indicates the position of the sun relative to 0 north, where degrees proceed clockwise. The polar angle indicates the height of the sun, where 0 is directly above, at zenith, and 90 at the horizon. When this property is ommitted, the sun center is directly inherited from the light position.",
"sdk-support":{"basic functionality":{js:"2.0.0"}},requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],"default":10,minimum:0,maximum:100,transition:!1,doc:"Intensity of the sun as a light source in the atmosphere (on a scale from 0 to a 100). Setting higher values will brighten up the sky.","sdk-support":{"basic functionality":{js:"2.0.0"}},"property-type":"data-constant"},
"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number","default":[0,0],length:2,transition:!1,doc:"Position of the gradient center [a azimuthal angle, p polar angle]. The azimuthal angle indicates the position of the gradient center relative to 0 north, where degrees proceed clockwise. The polar angle indicates the height of the gradient center, where 0 is directly above, at zenith, and 90 at the horizon.","sdk-support":{"basic functionality":{js:"2.0.0"}},expression:{interpolated:!1,
parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],"default":90,minimum:0,maximum:180,transition:!1,doc:"The angular distance (measured in degrees) from `sky-gradient-center` up to which the gradient extends. A value of 180 causes the gradient to wrap around to the opposite direction from `sky-gradient-center`.","sdk-support":{"basic functionality":{js:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},
"sky-gradient":{type:"color","default":["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],doc:"Defines a radial color gradient with which to color the sky. The color values can be interpolated with an expression using `sky-radial-progress`. The range [0, 1] for the interpolant covers a radial distance (in degrees) of [0, `sky-gradient-radius`] centered at the position specified by `sky-gradient-center`.",transition:!1,requires:[{"sky-type":"gradient"}],"sdk-support":{"basic functionality":{js:"2.0.0"},
"data-driven styling":{}},expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color","default":"white",doc:"A color applied to the atmosphere sun halo. The alpha channel describes how strongly the sun halo is represented in an atmosphere sky layer.",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0"}},"property-type":"data-constant"},"sky-atmosphere-color":{type:"color","default":"white",
doc:"A color used to tweak the main atmospheric scattering coefficients. Using white applies the default coefficients giving the natural blue color to the atmosphere. This color affects how heavily the corresponding wavelength is represented during scattering. The alpha channel describes the density of the atmosphere, with 1 maximum density and 0 no density.",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0"}},"property-type":"data-constant"},"sky-opacity":{type:"number",
"default":1,minimum:0,maximum:1,doc:"The opacity of the entire sky layer.",transition:!0,"sdk-support":{"basic functionality":{js:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number","default":300,minimum:0,units:"milliseconds",doc:"Time allotted for transitions to complete."},delay:{type:"number","default":0,minimum:0,units:"milliseconds",doc:"Length of time before a transition begins."}},"property-type":{"data-driven":{type:"property-type",
doc:"Property is interpolable and can be represented using a property expression."},"cross-faded":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms."},"cross-faded-data-driven":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms. It can be represented using a property expression."},"color-ramp":{type:"property-type",doc:"Property should be specified using a color ramp from which the output color can be sampled based on a property calculation."},
"data-constant":{type:"property-type",doc:"Property is interpolable but cannot be represented using a property expression."},constant:{type:"property-type",doc:"Property is constant across all zoom levels and property values."}},promoteId:{"*":{type:"string",doc:"A name of a feature property to use as ID for feature state."}}},xe=/("(?:[^\\"]|\\.)*")|[:,]/g,je=function(w,S){S=S||{};var ma=JSON.stringify([1],void 0,void 0===S.indent?2:S.indent).slice(2,-3);var La=""===ma?Infinity:void 0===S.maxLength?
80:S.maxLength;var gb=S.replacer;return function Wb(tb,Rb,ec){tb&&"function"===typeof tb.toJSON&&(tb=tb.toJSON());var Pc=JSON.stringify(tb,gb);if(void 0===Pc)return Pc;ec=La-Rb.length-ec;if(Pc.length<=ec){var ed=Pc.replace(xe,function(ve,ne){return ne||ve+" "});if(ed.length<=ec)return ed}null!=gb&&(tb=JSON.parse(Pc),gb=void 0);if("object"===typeof tb&&null!==tb){var zd=Rb+ma;var qd=[];var bd=0;if(Array.isArray(tb)){var Kc="[";ed="]";for(ec=tb.length;bd<ec;bd++)qd.push(Wb(tb[bd],zd,bd===ec-1?0:1)||
"null")}else{Kc="{";ed="}";var ud=Object.keys(tb);for(ec=ud.length;bd<ec;bd++){var de=ud[bd];var Sd=JSON.stringify(de)+": ";de=Wb(tb[de],zd,Sd.length+(bd===ec-1?0:1));void 0!==de&&qd.push(Sd+de)}}if(0<qd.length)return[Kc,ma+qd.join(",\n"+zd),ed].join("\n"+Rb)}return Pc}(w,"",0)},hc="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof Ha?Ha:"undefined"!==typeof self?self:{},De=O(function(w,S){(function(ma){function La(se){throw RangeError(Sd[se]);}function gb(se,
te){for(var Be=se.length,wd=[];Be--;)wd[Be]=te(se[Be]);return wd}function mb(se,te){var Be=se.split("@"),wd="";1<Be.length&&(wd=Be[0]+"@",se=Be[1]);se=se.replace(de,".");se=se.split(".");te=gb(se,te).join(".");return wd+te}function tb(se){for(var te=[],Be=0,wd=se.length,We,Kf;Be<wd;)We=se.charCodeAt(Be++),55296<=We&&56319>=We&&Be<wd?(Kf=se.charCodeAt(Be++),56320==(Kf&64512)?te.push(((We&1023)<<10)+(Kf&1023)+65536):(te.push(We),Be--)):te.push(We);return te}function Rb(se){return gb(se,function(te){var Be=
"";65535<te&&(te-=65536,Be+=ne(te>>>10&1023|55296),te=56320|te&1023);return Be+=ne(te)}).join("")}function ec(se,te){return se+22+75*(26>se)-((0!=te)<<5)}function Wb(se,te,Be){var wd=0;se=Be?ve(se/700):se>>1;for(se+=ve(se/te);455<se;wd+=36)se=ve(se/35);return ve(wd+36*se/(se+38))}function Pc(se){var te=[],Be=se.length,wd=0,We=128,Kf=72,jf,Cf;var xf=se.lastIndexOf("-");0>xf&&(xf=0);for(jf=0;jf<xf;++jf)128<=se.charCodeAt(jf)&&La("not-basic"),te.push(se.charCodeAt(jf));for(xf=0<xf?xf+1:0;xf<Be;){jf=
wd;var Af=1;for(Cf=36;;Cf+=36){xf>=Be&&La("invalid-input");var Uf=se.charCodeAt(xf++);Uf=10>Uf-48?Uf-22:26>Uf-65?Uf-65:26>Uf-97?Uf-97:36;(36<=Uf||Uf>ve((2147483647-wd)/Af))&&La("overflow");wd+=Uf*Af;var Zf=Cf<=Kf?1:Cf>=Kf+26?26:Cf-Kf;if(Uf<Zf)break;Uf=36-Zf;Af>ve(2147483647/Uf)&&La("overflow");Af*=Uf}Af=te.length+1;Kf=Wb(wd-jf,Af,0==jf);ve(wd/Af)>2147483647-We&&La("overflow");We+=ve(wd/Af);wd%=Af;te.splice(wd++,0,We)}return Rb(te)}function ed(se){var te,Be,wd,We=[];se=tb(se);var Kf=se.length;var jf=
128;var Cf=0;var xf=72;for(wd=0;wd<Kf;++wd){var Af=se[wd];128>Af&&We.push(ne(Af))}for((te=Be=We.length)&&We.push("-");te<Kf;){var Uf=2147483647;for(wd=0;wd<Kf;++wd)Af=se[wd],Af>=jf&&Af<Uf&&(Uf=Af);var Zf=te+1;Uf-jf>ve((2147483647-Cf)/Zf)&&La("overflow");Cf+=(Uf-jf)*Zf;jf=Uf;for(wd=0;wd<Kf;++wd)if(Af=se[wd],Af<jf&&2147483647<++Cf&&La("overflow"),Af==jf){var Ug=Cf;for(Uf=36;;Uf+=36){Af=Uf<=xf?1:Uf>=xf+26?26:Uf-xf;if(Ug<Af)break;var Eh=Ug-Af;Ug=36-Af;We.push(ne(ec(Af+Eh%Ug,0)));Ug=ve(Eh/Ug)}We.push(ne(ec(Ug,
0)));xf=Wb(Cf,Zf,te==Be);Cf=0;++te}++Cf;++jf}return We.join("")}var zd=S&&!S.nodeType&&S,qd=w&&!w.nodeType&&w,bd="object"==typeof hc&&hc;if(bd.global===bd||bd.window===bd||bd.self===bd)ma=bd;var Kc=/^xn--/,ud=/[^\x20-\x7E]/,de=/[\x2E\u3002\uFF0E\uFF61]/g,Sd={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input \x3e\x3d 0x80 (not a basic code point)","invalid-input":"Invalid input"},ve=Math.floor,ne=String.fromCharCode,Tf;bd={version:"1.3.2",ucs2:{decode:tb,encode:Rb},
decode:Pc,encode:ed,toASCII:function(se){return mb(se,function(te){return ud.test(te)?"xn--"+ed(te):te})},toUnicode:function(se){return mb(se,function(te){return Kc.test(te)?Pc(te.slice(4).toLowerCase()):te})}};if(zd&&qd)if(w.exports==zd)qd.exports=bd;else for(Tf in bd)bd.hasOwnProperty(Tf)&&(zd[Tf]=bd[Tf]);else ma.punycode=bd})(hc)}),re={isString:function(w){return"string"===typeof w},isObject:function(w){return"object"===typeof w&&null!==w},isNull:function(w){return null===w},isNullOrUndefined:function(w){return null==
w}},gf=function(w,S,ma,La){ma=ma||"\x3d";var gb={};if("string"!==typeof w||0===w.length)return gb;var mb=/\+/g;w=w.split(S||"\x26");S=1E3;La&&"number"===typeof La.maxKeys&&(S=La.maxKeys);La=w.length;0<S&&La>S&&(La=S);for(S=0;S<La;++S){var tb=w[S].replace(mb,"%20"),Rb=tb.indexOf(ma);if(0<=Rb){var ec=tb.substr(0,Rb);tb=tb.substr(Rb+1)}else ec=tb,tb="";ec=decodeURIComponent(ec);tb=decodeURIComponent(tb);Object.prototype.hasOwnProperty.call(gb,ec)?Array.isArray(gb[ec])?gb[ec].push(tb):gb[ec]=[gb[ec],
tb]:gb[ec]=tb}return gb},Hf=function(w){switch(typeof w){case "string":return w;case "boolean":return w?"true":"false";case "number":return isFinite(w)?w:"";default:return""}},If=function(w,S,ma,La){S=S||"\x26";ma=ma||"\x3d";null===w&&(w=void 0);return"object"===typeof w?Object.keys(w).map(function(gb){var mb=encodeURIComponent(Hf(gb))+ma;return Array.isArray(w[gb])?w[gb].map(function(tb){return mb+encodeURIComponent(Hf(tb))}).join(S):mb+encodeURIComponent(Hf(w[gb]))}).join(S):La?encodeURIComponent(Hf(La))+
ma+encodeURIComponent(Hf(w)):""},Qf=O(function(w,S){S.decode=S.parse=gf;S.encode=S.stringify=If}),Jf=/^([a-z0-9.+-]+:)/i,Ae=/:[0-9]*$/,Bc=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,xa="{}|\\^`".split("").concat('\x3c\x3e"` \r\n\t'.split("")),Ba=["'"].concat(xa),Ya=["%","/","?",";","#"].concat(Ba),Hb=["/","?","#"],vb=/^[+a-z0-9A-Z_-]{0,63}$/,Xb=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,xc={javascript:!0,"javascript:":!0},Oc={javascript:!0,"javascript:":!0},ld={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,
"ftp:":!0,"gopher:":!0,"file:":!0};x.prototype.parse=function(w,S,ma){if(!re.isString(w))throw new TypeError("Parameter 'url' must be a string, not "+typeof w);var La=w.indexOf("?");La=-1!==La&&La<w.indexOf("#")?"?":"#";w=w.split(La);w[0]=w[0].replace(/\\/g,"/");w=w.join(La);La=w.trim();if(!ma&&1===w.split("#").length&&(w=Bc.exec(La)))return this.href=this.path=La,this.pathname=w[1],w[2]?(this.search=w[2],this.query=S?Qf.parse(this.search.substr(1)):this.search.substr(1)):S&&(this.search="",this.query=
{}),this;if(w=Jf.exec(La)){w=w[0];var gb=w.toLowerCase();this.protocol=gb;La=La.substr(w.length)}if(ma||w||La.match(/^\/\/[^@\/]+@[^@\/]+/)){var mb="//"===La.substr(0,2);!mb||w&&Oc[w]||(La=La.substr(2),this.slashes=!0)}if(!Oc[w]&&(mb||w&&!ld[w])){mb=-1;for(ma=0;ma<Hb.length;ma++)w=La.indexOf(Hb[ma]),-1!==w&&(-1===mb||w<mb)&&(mb=w);mb=-1===mb?La.lastIndexOf("@"):La.lastIndexOf("@",mb);-1!==mb&&(ma=La.slice(0,mb),La=La.slice(mb+1),this.auth=decodeURIComponent(ma));mb=-1;for(ma=0;ma<Ya.length;ma++)w=
La.indexOf(Ya[ma]),-1!==w&&(-1===mb||w<mb)&&(mb=w);-1===mb&&(mb=La.length);this.host=La.slice(0,mb);La=La.slice(mb);this.parseHost();this.hostname=this.hostname||"";mb="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!mb){var tb=this.hostname.split(/\./);ma=0;for(w=tb.length;ma<w;ma++){var Rb=tb[ma];if(Rb&&!Rb.match(vb)){for(var ec="",Wb=0,Pc=Rb.length;Wb<Pc;Wb++)ec=127<Rb.charCodeAt(Wb)?ec+"x":ec+Rb[Wb];if(!ec.match(vb)){w=tb.slice(0,ma);ma=tb.slice(ma+1);if(Rb=Rb.match(Xb))w.push(Rb[1]),
ma.unshift(Rb[2]);ma.length&&(La="/"+ma.join(".")+La);this.hostname=w.join(".");break}}}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase();mb||(this.hostname=De.toASCII(this.hostname));ma=this.port?":"+this.port:"";this.host=(this.hostname||"")+ma;this.href+=this.host;mb&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==La[0]&&(La="/"+La))}if(!xc[gb])for(ma=0,w=Ba.length;ma<w;ma++)mb=Ba[ma],-1!==La.indexOf(mb)&&(Rb=encodeURIComponent(mb),Rb===mb&&(Rb=escape(mb)),
La=La.split(mb).join(Rb));ma=La.indexOf("#");-1!==ma&&(this.hash=La.substr(ma),La=La.slice(0,ma));ma=La.indexOf("?");-1!==ma?(this.search=La.substr(ma),this.query=La.substr(ma+1),S&&(this.query=Qf.parse(this.query)),La=La.slice(0,ma)):S&&(this.search="",this.query={});La&&(this.pathname=La);ld[gb]&&this.hostname&&!this.pathname&&(this.pathname="/");if(this.pathname||this.search)ma=this.pathname||"",this.path=ma+(this.search||"");this.href=this.format();return this};x.prototype.format=function(){var w=
this.auth||"";w&&(w=encodeURIComponent(w),w=w.replace(/%3A/i,":"),w+="@");var S=this.protocol||"",ma=this.pathname||"",La=this.hash||"",gb=!1,mb="";this.host?gb=w+this.host:this.hostname&&(gb=w+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(gb+=":"+this.port));this.query&&re.isObject(this.query)&&Object.keys(this.query).length&&(mb=Qf.stringify(this.query));w=this.search||mb&&"?"+mb||"";S&&":"!==S.substr(-1)&&(S+=":");this.slashes||(!S||ld[S])&&!1!==gb?(gb="//"+
(gb||""),ma&&"/"!==ma.charAt(0)&&(ma="/"+ma)):gb||(gb="");La&&"#"!==La.charAt(0)&&(La="#"+La);w&&"?"!==w.charAt(0)&&(w="?"+w);ma=ma.replace(/[?#]/g,function(tb){return encodeURIComponent(tb)});w=w.replace("#","%23");return S+gb+ma+w+La};x.prototype.resolve=function(w){return this.resolveObject(y(w,!1,!0)).format()};x.prototype.resolveObject=function(w){if(re.isString(w)){var S=new x;S.parse(w,!1,!0);w=S}S=new x;for(var ma=Object.keys(this),La=0;La<ma.length;La++){var gb=ma[La];S[gb]=this[gb]}S.hash=
w.hash;if(""===w.href)return S.href=S.format(),S;if(w.slashes&&!w.protocol){ma=Object.keys(w);for(La=0;La<ma.length;La++)gb=ma[La],"protocol"!==gb&&(S[gb]=w[gb]);ld[S.protocol]&&S.hostname&&!S.pathname&&(S.path=S.pathname="/");S.href=S.format();return S}if(w.protocol&&w.protocol!==S.protocol){if(!ld[w.protocol]){ma=Object.keys(w);for(La=0;La<ma.length;La++)gb=ma[La],S[gb]=w[gb];S.href=S.format();return S}S.protocol=w.protocol;if(w.host||Oc[w.protocol])S.pathname=w.pathname;else{for(var mb=(w.pathname||
"").split("/");mb.length&&!(w.host=mb.shift()););w.host||(w.host="");w.hostname||(w.hostname="");""!==mb[0]&&mb.unshift("");2>mb.length&&mb.unshift("");S.pathname=mb.join("/")}S.search=w.search;S.query=w.query;S.host=w.host||"";S.auth=w.auth;S.hostname=w.hostname||w.host;S.port=w.port;if(S.pathname||S.search)S.path=(S.pathname||"")+(S.search||"");S.slashes=S.slashes||w.slashes;S.href=S.format();return S}ma=S.pathname&&"/"===S.pathname.charAt(0);var tb=w.host||w.pathname&&"/"===w.pathname.charAt(0),
Rb=ma=tb||ma||S.host&&w.pathname;La=S.pathname&&S.pathname.split("/")||[];mb=w.pathname&&w.pathname.split("/")||[];if(gb=S.protocol&&!ld[S.protocol])S.hostname="",S.port=null,S.host&&(""===La[0]?La[0]=S.host:La.unshift(S.host)),S.host="",w.protocol&&(w.hostname=null,w.port=null,w.host&&(""===mb[0]?mb[0]=w.host:mb.unshift(w.host)),w.host=null),ma=ma&&(""===mb[0]||""===La[0]);if(tb)S.host=w.host||""===w.host?w.host:S.host,S.hostname=w.hostname||""===w.hostname?w.hostname:S.hostname,S.search=w.search,
S.query=w.query,La=mb;else if(mb.length)La||(La=[]),La.pop(),La=La.concat(mb),S.search=w.search,S.query=w.query;else if(!re.isNullOrUndefined(w.search))return gb&&(S.hostname=S.host=La.shift(),gb=S.host&&0<S.host.indexOf("@")?S.host.split("@"):!1)&&(S.auth=gb.shift(),S.host=S.hostname=gb.shift()),S.search=w.search,S.query=w.query,re.isNull(S.pathname)&&re.isNull(S.search)||(S.path=(S.pathname?S.pathname:"")+(S.search?S.search:"")),S.href=S.format(),S;if(!La.length)return S.pathname=null,S.path=S.search?
"/"+S.search:null,S.href=S.format(),S;tb=La.slice(-1)[0];mb=(S.host||w.host||1<La.length)&&("."===tb||".."===tb)||""===tb;for(var ec=0,Wb=La.length;0<=Wb;Wb--)tb=La[Wb],"."===tb?La.splice(Wb,1):".."===tb?(La.splice(Wb,1),ec++):ec&&(La.splice(Wb,1),ec--);if(!ma&&!Rb)for(;ec--;ec)La.unshift("..");!ma||""===La[0]||La[0]&&"/"===La[0].charAt(0)||La.unshift("");mb&&"/"!==La.join("/").substr(-1)&&La.push("");Rb=""===La[0]||La[0]&&"/"===La[0].charAt(0);gb&&(S.hostname=S.host=Rb?"":La.length?La.shift():"",
gb=S.host&&0<S.host.indexOf("@")?S.host.split("@"):!1)&&(S.auth=gb.shift(),S.host=S.hostname=gb.shift());(ma=ma||S.host&&La.length)&&!Rb&&La.unshift("");La.length?S.pathname=La.join("/"):(S.pathname=null,S.path=null);re.isNull(S.pathname)&&re.isNull(S.search)||(S.path=(S.pathname?S.pathname:"")+(S.search?S.search:""));S.auth=w.auth||S.auth;S.slashes=S.slashes||w.slashes;S.href=S.format();return S};x.prototype.parseHost=function(){var w=this.host,S=Ae.exec(w);S&&(S=S[0],":"!==S&&(this.port=S.substr(1)),
w=w.substr(0,w.length-S.length));w&&(this.hostname=w)};var Qc={parse:y,resolve:function(w,S){return y(w,!1,!0).resolve(S)},resolveObject:function(w,S){return w?y(w,!1,!0).resolveObject(S):S},format:function(w){re.isString(w)&&(w=y(w));return w instanceof x?w.format():x.prototype.format.call(w)},Url:x};class Ld extends Error{constructor(w,S){super(S);this.message=S;this.key=w}}class Nd{constructor(w,S=[]){this.parent=w;this.bindings={};for(const [ma,La]of S)this.bindings[ma]=La}concat(w){return new Nd(this,
w)}get(w){if(this.bindings[w])return this.bindings[w];if(this.parent)return this.parent.get(w);throw Error(`${w} not found in scope.`);}has(w){return this.bindings[w]?!0:this.parent?this.parent.has(w):!1}}const Od={kind:"null"},od={kind:"number"},Rd={kind:"string"},kd={kind:"boolean"},lf={kind:"color"},bf={kind:"object"},ee={kind:"value"},Ve={kind:"collator"},ce={kind:"formatted"},Xe={kind:"resolvedImage"},zf=[Od,od,Rd,kd,lf,ce,bf,D(ee),Xe];var tf=O(function(w,S){function ma(Wb){Wb=Math.round(Wb);
return 0>Wb?0:255<Wb?255:Wb}function La(Wb){return 0>Wb?0:1<Wb?1:Wb}function gb(Wb){return"%"===Wb[Wb.length-1]?ma(parseFloat(Wb)/100*255):ma(parseInt(Wb))}function mb(Wb){return"%"===Wb[Wb.length-1]?La(parseFloat(Wb)/100):La(parseFloat(Wb))}function tb(Wb,Pc,ed){0>ed?ed+=1:1<ed&&--ed;return 1>6*ed?Wb+(Pc-Wb)*ed*6:1>2*ed?Pc:2>3*ed?Wb+(Pc-Wb)*(2/3-ed)*6:Wb}function Rb(Wb){Wb=Wb.replace(/ /g,"").toLowerCase();if(Wb in ec)return ec[Wb].slice();if("#"===Wb[0])return 4===Wb.length?(Wb=parseInt(Wb.substr(1),
16),0<=Wb&&4095>=Wb?[(Wb&3840)>>4|(Wb&3840)>>8,Wb&240|(Wb&240)>>4,Wb&15|(Wb&15)<<4,1]:null):7===Wb.length?(Wb=parseInt(Wb.substr(1),16),0<=Wb&&16777215>=Wb?[(Wb&16711680)>>16,(Wb&65280)>>8,Wb&255,1]:null):null;var Pc=Wb.indexOf("("),ed=Wb.indexOf(")");if(-1!==Pc&&ed+1===Wb.length){var zd=Wb.substr(0,Pc);Pc=Wb.substr(Pc+1,ed-(Pc+1)).split(",");Wb=1;switch(zd){case "rgba":if(4!==Pc.length)break;Wb=mb(Pc.pop());case "rgb":if(3!==Pc.length)break;return[gb(Pc[0]),gb(Pc[1]),gb(Pc[2]),Wb];case "hsla":if(4!==
Pc.length)break;Wb=mb(Pc.pop());case "hsl":if(3===Pc.length)return zd=(parseFloat(Pc[0])%360+360)%360/360,ed=mb(Pc[1]),Pc=mb(Pc[2]),ed=.5>=Pc?Pc*(ed+1):Pc+ed-Pc*ed,Pc=2*Pc-ed,[ma(255*tb(Pc,ed,zd+1/3)),ma(255*tb(Pc,ed,zd)),ma(255*tb(Pc,ed,zd-1/3)),Wb]}}return null}var ec={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,
205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,
107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,
220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,
250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,
85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,
170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,
192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{S.parseCSSColor=Rb}catch(Wb){}}).parseCSSColor;class Oe{constructor(w,
S,ma,La=1){this.r=w;this.g=S;this.b=ma;this.a=La}static parse(w){if(w){if(w instanceof Oe)return w;if("string"===typeof w&&(w=tf(w)))return new Oe(w[0]/255*w[3],w[1]/255*w[3],w[2]/255*w[3],w[3])}}toString(){const [w,S,ma,La]=this.toArray();return`rgba(${Math.round(w)},${Math.round(S)},${Math.round(ma)},${La})`}toArray(){const {r:w,g:S,b:ma,a:La}=this;return 0===La?[0,0,0,0]:[255*w/La,255*S/La,255*ma/La,La]}}Oe.black=new Oe(0,0,0,1);Oe.white=new Oe(1,1,1,1);Oe.transparent=new Oe(0,0,0,0);Oe.red=new Oe(1,
0,0,1);Oe.blue=new Oe(0,0,1,1);class Nf{constructor(w,S,ma){this.sensitivity=w?S?"variant":"case":S?"accent":"base";this.locale=ma;this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(w,S){return this.collator.compare(w,S)}resolvedLocale(){return(new Intl.Collator(this.locale?this.locale:[])).resolvedOptions().locale}}class za{constructor(w,S,ma,La,gb){this.text=w;this.image=S;this.scale=ma;this.fontStack=La;this.textColor=gb}}class Ia{constructor(w){this.sections=
w}static fromString(w){return new Ia([new za(w,null,null,null,null)])}isEmpty(){return 0===this.sections.length?!0:!this.sections.some(w=>0!==w.text.length||w.image&&0!==w.image.name.length)}static factory(w){return w instanceof Ia?w:Ia.fromString(w)}toString(){return 0===this.sections.length?"":this.sections.map(w=>w.text).join("")}serialize(){const w=["format"];for(const S of this.sections){if(S.image){w.push(["image",S.image.name]);continue}w.push(S.text);const ma={};S.fontStack&&(ma["text-font"]=
["literal",S.fontStack.split(",")]);S.scale&&(ma["font-scale"]=S.scale);S.textColor&&(ma["text-color"]=["rgba"].concat(S.textColor.toArray()));w.push(ma)}return w}}class wb{constructor(w){this.name=w.name;this.available=w.available}toString(){return this.name}static fromString(w){return w?new wb({name:w,available:!1}):null}serialize(){return["image",this.name]}}class Yb{constructor(w,S){this.type=w;this.value=S}static parse(w,S){if(2!==w.length)return S.error(`'literal' expression requires exactly one argument, but found ${w.length-
1} instead.`);if(!K(w[1]))return S.error("invalid value");w=w[1];let ma=R(w);S=S.expectedType;"array"!==ma.kind||0!==ma.N||!S||"array"!==S.kind||"number"===typeof S.N&&0!==S.N||(ma=S);return new Yb(ma,w)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Oe?["rgba"].concat(this.value.toArray()):this.value instanceof Ia?this.value.serialize():this.value}}class Ub{constructor(w){this.name=
"ExpressionEvaluationError";this.message=w}toJSON(){return this.message}}const ic={string:Rd,number:od,boolean:kd,object:bf};class oc{constructor(w,S){this.type=w;this.args=S}static parse(w,S){if(2>w.length)return S.error("Expected at least one argument.");let ma=1;var La=w[0];if("array"===La){if(2<w.length){La=w[1];if("string"!==typeof La||!(La in ic)||"object"===La)return S.error('The item type argument of "array" must be one of string, number, boolean',1);La=ic[La];ma++}else La=ee;if(3<w.length){if(null!==
w[2]&&("number"!==typeof w[2]||0>w[2]||w[2]!==Math.floor(w[2])))return S.error('The length argument to "array" must be a positive integer literal',2);var gb=w[2];ma++}gb=D(La,gb)}else gb=ic[La];for(La=[];ma<w.length;ma++){const mb=S.parse(w[ma],ma,ee);if(!mb)return null;La.push(mb)}return new oc(gb,La)}evaluate(w){for(let S=0;S<this.args.length;S++){const ma=this.args[S].evaluate(w);if(!L(this.type,R(ma)))return ma;if(S===this.args.length-1)throw new Ub(`Expected value to be of type ${P(this.type)}, but found ${P(R(ma))} instead.`);
}return null}eachChild(w){this.args.forEach(w)}outputDefined(){return this.args.every(w=>w.outputDefined())}serialize(){var w=this.type;const S=[w.kind];if("array"===w.kind){const ma=w.itemType;if("string"===ma.kind||"number"===ma.kind||"boolean"===ma.kind)S.push(ma.kind),w=w.N,("number"===typeof w||1<this.args.length)&&S.push(w)}return S.concat(this.args.map(ma=>ma.serialize()))}}class id{constructor(w){this.type=ce;this.sections=w}static parse(w,S){if(2>w.length)return S.error("Expected at least one argument.");
var ma=w[1];if(!Array.isArray(ma)&&"object"===typeof ma)return S.error("First argument must be an image or text section.");ma=[];var La=!1;for(let tb=1;tb<=w.length-1;++tb){var gb=w[tb];if(La&&"object"===typeof gb&&!Array.isArray(gb)){La=!1;var mb=null;if(gb["font-scale"]&&(mb=S.parse(gb["font-scale"],1,od),!mb))return null;let Rb=null;if(gb["text-font"]&&(Rb=S.parse(gb["text-font"],1,D(Rd)),!Rb))return null;let ec=null;if(gb["text-color"]&&(ec=S.parse(gb["text-color"],1,lf),!ec))return null;gb=ma[ma.length-
1];gb.scale=mb;gb.font=Rb;gb.textColor=ec}else{mb=S.parse(w[tb],1,ee);if(!mb)return null;La=mb.type.kind;if("string"!==La&&"value"!==La&&"null"!==La&&"resolvedImage"!==La)return S.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");La=!0;ma.push({content:mb,scale:null,font:null,textColor:null})}}return new id(ma)}evaluate(w){return new Ia(this.sections.map(S=>{const ma=S.content.evaluate(w);return R(ma)===Xe?new za("",ma,null,null,null):new za(U(ma),null,S.scale?S.scale.evaluate(w):
null,S.font?S.font.evaluate(w).join(","):null,S.textColor?S.textColor.evaluate(w):null)}))}eachChild(w){for(const S of this.sections)w(S.content),S.scale&&w(S.scale),S.font&&w(S.font),S.textColor&&w(S.textColor)}outputDefined(){return!1}serialize(){const w=["format"];for(const S of this.sections){w.push(S.content.serialize());const ma={};S.scale&&(ma["font-scale"]=S.scale.serialize());S.font&&(ma["text-font"]=S.font.serialize());S.textColor&&(ma["text-color"]=S.textColor.serialize());w.push(ma)}return w}}
class Tc{constructor(w){this.type=Xe;this.input=w}static parse(w,S){return 2!==w.length?S.error("Expected two arguments."):(w=S.parse(w[1],1,Rd))?new Tc(w):S.error("No image name provided.")}evaluate(w){const S=this.input.evaluate(w),ma=wb.fromString(S);ma&&w.availableImages&&(ma.available=-1<w.availableImages.indexOf(S));return ma}eachChild(w){w(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const gd={"to-boolean":kd,"to-color":lf,"to-number":od,"to-string":Rd};
class Hd{constructor(w,S){this.type=w;this.args=S}static parse(w,S){if(2>w.length)return S.error("Expected at least one argument.");var ma=w[0];if(("to-boolean"===ma||"to-string"===ma)&&2!==w.length)return S.error("Expected one argument.");ma=gd[ma];const La=[];for(let gb=1;gb<w.length;gb++){const mb=S.parse(w[gb],gb,ee);if(!mb)return null;La.push(mb)}return new Hd(ma,La)}evaluate(w){if("boolean"===this.type.kind)return!!this.args[0].evaluate(w);if("color"===this.type.kind){for(const gb of this.args){var S=
gb.evaluate(w);var ma=null;if(S instanceof Oe)return S;if("string"===typeof S){var La=w.parseColor(S);if(La)return La}else if(Array.isArray(S)&&(ma=3>S.length||4<S.length?`Invalid rbga value ${JSON.stringify(S)}: expected an array containing either three or four numeric values.`:J(S[0],S[1],S[2],S[3]),!ma))return new Oe(S[0]/255,S[1]/255,S[2]/255,S[3])}throw new Ub(ma||`Could not parse color from value '${"string"===typeof S?S:String(JSON.stringify(S))}'`);}if("number"===this.type.kind){S=null;for(La of this.args){S=
La.evaluate(w);if(null===S)return 0;ma=Number(S);if(!isNaN(ma))return ma}throw new Ub(`Could not convert ${JSON.stringify(S)} to number.`);}return"formatted"===this.type.kind?Ia.fromString(U(this.args[0].evaluate(w))):"resolvedImage"===this.type.kind?wb.fromString(U(this.args[0].evaluate(w))):U(this.args[0].evaluate(w))}eachChild(w){this.args.forEach(w)}outputDefined(){return this.args.every(w=>w.outputDefined())}serialize(){if("formatted"===this.type.kind)return(new id([{content:this.args[0],scale:null,
font:null,textColor:null}])).serialize();if("resolvedImage"===this.type.kind)return(new Tc(this.args[0])).serialize();const w=[`to-${this.type.kind}`];this.eachChild(S=>{w.push(S.serialize())});return w}}const he=["Unknown","Point","LineString","Polygon"];class ie{constructor(){this.formattedSection=this.featureState=this.feature=this.globals=null;this._parseColorCache={};this.canonical=this.availableImages=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?
"number"===typeof this.feature.type?he[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(w){let S=this._parseColorCache[w];S||(S=this._parseColorCache[w]=Oe.parse(w));return S}}class Pd{constructor(w,S,ma,La){this.name=w;this.type=S;this._evaluate=ma;this.args=La}evaluate(w){return this._evaluate(w,this.args)}eachChild(w){this.args.forEach(w)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(w=>
w.serialize()))}static parse(w,S){var ma=w[0],La=Pd.definitions[ma];if(!La)return S.error(`Unknown expression "${ma}". If you wanted a literal array, use ["literal", [...]].`,0);var gb=Array.isArray(La)?La[0]:La.type;La=Array.isArray(La)?[[La[1],La[2]]]:La.overloads;var mb=La.filter(([Pc])=>!Array.isArray(Pc)||Pc.length===w.length-1);let tb=null;for(const [Pc,ed]of mb){tb=new Je(S.registry,S.path,null,S.scope);const zd=[];var Rb=!1;for(var ec=1;ec<w.length;ec++){var Wb=w[ec];const qd=Array.isArray(Pc)?
Pc[ec-1]:Pc.type;Wb=tb.parse(Wb,1+zd.length,qd);if(!Wb){Rb=!0;break}zd.push(Wb)}if(!Rb)if(Array.isArray(Pc)&&Pc.length!==zd.length)tb.error(`Expected ${Pc.length} arguments, but found ${zd.length} instead.`);else{for(Rb=0;Rb<zd.length;Rb++)ec=Array.isArray(Pc)?Pc[Rb]:Pc.type,Wb=zd[Rb],tb.concat(Rb+1).checkSubtype(ec,Wb.type);if(0===tb.errors.length)return new Pd(ma,gb,ed,zd)}}if(1===mb.length)S.errors.push(...tb.errors);else{ma=(mb.length?mb:La).map(([Pc])=>{Pc=Array.isArray(Pc)?`(${Pc.map(P).join(", ")})`:
`(${P(Pc.type)}...)`;return Pc}).join(" | ");gb=[];for(La=1;La<w.length;La++){mb=S.parse(w[La],1+gb.length);if(!mb)return null;gb.push(P(mb.type))}S.error(`Expected arguments of type ${ma}, but found (${gb.join(", ")}) instead.`)}return null}static register(w,S){Pd.definitions=S;for(const ma in S)w[ma]=Pd}}class Ne{constructor(w,S,ma){this.type=Ve;this.locale=ma;this.caseSensitive=w;this.diacriticSensitive=S}static parse(w,S){if(2!==w.length)return S.error("Expected one argument.");w=w[1];if("object"!==
typeof w||Array.isArray(w))return S.error("Collator options argument must be an object.");const ma=S.parse(void 0===w["case-sensitive"]?!1:w["case-sensitive"],1,kd);if(!ma)return null;const La=S.parse(void 0===w["diacritic-sensitive"]?!1:w["diacritic-sensitive"],1,kd);if(!La)return null;let gb=null;return w.locale&&(gb=S.parse(w.locale,1,Rd),!gb)?null:new Ne(ma,La,gb)}evaluate(w){return new Nf(this.caseSensitive.evaluate(w),this.diacriticSensitive.evaluate(w),this.locale?this.locale.evaluate(w):null)}eachChild(w){w(this.caseSensitive);
w(this.diacriticSensitive);this.locale&&w(this.locale)}outputDefined(){return!1}serialize(){const w={};w["case-sensitive"]=this.caseSensitive.serialize();w["diacritic-sensitive"]=this.diacriticSensitive.serialize();this.locale&&(w.locale=this.locale.serialize());return["collator",w]}}class pe{constructor(w,S){this.type=kd;this.geojson=w;this.geometries=S}static parse(w,S){if(2!==w.length)return S.error(`'within' expression requires exactly one argument, but found ${w.length-1} instead.`);if(K(w[1]))if(w=
w[1],"FeatureCollection"===w.type)for(var ma=0;ma<w.features.length;++ma){const La=w.features[ma].geometry.type;if("Polygon"===La||"MultiPolygon"===La)return new pe(w,w.features[ma].geometry)}else if("Feature"===w.type){if(ma=w.geometry.type,"Polygon"===ma||"MultiPolygon"===ma)return new pe(w,w.geometry)}else if("Polygon"===w.type||"MultiPolygon"===w.type)return new pe(w,w);return S.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(w){if(null!=
w.geometry()&&null!=w.canonicalID()){if("Point"===w.geometryType())return va(w,this.geometries);if("LineString"===w.geometryType())return ta(w,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}class He{constructor(w,S){this.type=S.type;this.name=w;this.boundExpression=S}static parse(w,S){if(2!==w.length||"string"!==typeof w[1])return S.error("'var' expression requires exactly one string literal argument.");w=w[1];return S.scope.has(w)?new He(w,
S.scope.get(w)):S.error(`Unknown variable "${w}". Make sure "${w}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(w){return this.boundExpression.evaluate(w)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}class Je{constructor(w,S=[],ma,La=new Nd,gb=[]){this.registry=w;this.path=S;this.key=S.map(mb=>`[${mb}]`).join("");this.scope=La;this.errors=gb;this.expectedType=ma}parse(w,S,ma,La,gb={}){return S?this.concat(S,ma,La)._parse(w,gb):this._parse(w,
gb)}_parse(w,S){function ma(mb,tb,Rb){return"assert"===Rb?new oc(tb,[mb]):"coerce"===Rb?new Hd(tb,[mb]):mb}if(null===w||"string"===typeof w||"boolean"===typeof w||"number"===typeof w)w=["literal",w];if(Array.isArray(w)){if(0===w.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var La=w[0];if("string"!==typeof La)return this.error(`Expression name must be a string, but found ${typeof La} instead. If you wanted a literal array, use ["literal", [...]].`,
0),null;var gb=this.registry[La];if(gb){w=gb.parse(w,this);if(!w)return null;if(this.expectedType)if(La=this.expectedType,gb=w.type,("string"===La.kind||"number"===La.kind||"boolean"===La.kind||"object"===La.kind||"array"===La.kind)&&"value"===gb.kind)w=ma(w,La,S.typeAnnotation||"assert");else if(!("color"!==La.kind&&"formatted"!==La.kind&&"resolvedImage"!==La.kind||"value"!==gb.kind&&"string"!==gb.kind))w=ma(w,La,S.typeAnnotation||"coerce");else if(this.checkSubtype(La,gb))return null;if(!(w instanceof
Yb)&&"resolvedImage"!==w.type.kind&&sa(w)){S=new ie;try{w=new Yb(w.type,w.evaluate(S))}catch(mb){return this.error(mb.message),null}}return w}return this.error(`Unknown expression "${La}". If you wanted a literal array, use ["literal", [...]].`,0)}return"undefined"===typeof w?this.error("'undefined' value invalid. Use null instead."):"object"===typeof w?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof w} instead.`)}concat(w,S,ma){w=
"number"===typeof w?this.path.concat(w):this.path;ma=ma?this.scope.concat(ma):this.scope;return new Je(this.registry,w,S||null,ma,this.errors)}error(w,...S){S=`${this.key}${S.map(ma=>`[${ma}]`).join("")}`;this.errors.push(new Ld(S,w))}checkSubtype(w,S){(w=L(w,S))&&this.error(w);return w}}class Le{constructor(w,S,ma){this.type=w;this.input=S;this.labels=[];this.outputs=[];for(const [La,gb]of ma)this.labels.push(La),this.outputs.push(gb)}static parse(w,S){if(4>w.length-1)return S.error(`Expected at least 4 arguments, but found only ${w.length-
1}.`);if(0!==(w.length-1)%2)return S.error("Expected an even number of arguments.");const ma=S.parse(w[1],1,od);if(!ma)return null;const La=[];let gb=null;S.expectedType&&"value"!==S.expectedType.kind&&(gb=S.expectedType);for(let tb=1;tb<w.length;tb+=2){const Rb=1===tb?-Infinity:w[tb];var mb=w[tb+1];const ec=tb,Wb=tb+1;if("number"!==typeof Rb)return S.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ec);
if(La.length&&La[La.length-1][0]>=Rb)return S.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',ec);mb=S.parse(mb,Wb,gb);if(!mb)return null;gb=gb||mb.type;La.push([Rb,mb])}return new Le(gb,ma,La)}evaluate(w){var S=this.labels;const ma=this.outputs;if(1===S.length)return ma[0].evaluate(w);const La=this.input.evaluate(w);if(La<=S[0])return ma[0].evaluate(w);const gb=S.length;if(La>=S[gb-1])return ma[gb-1].evaluate(w);S=Ta(S,La);return ma[S].evaluate(w)}eachChild(w){w(this.input);
for(const S of this.outputs)w(S)}outputDefined(){return this.outputs.every(w=>w.outputDefined())}serialize(){const w=["step",this.input.serialize()];for(let S=0;S<this.labels.length;S++)0<S&&w.push(this.labels[S]),w.push(this.outputs[S].serialize());return w}}Wa.prototype.sampleCurveX=function(w){return((this.ax*w+this.bx)*w+this.cx)*w};Wa.prototype.sampleCurveY=function(w){return((this.ay*w+this.by)*w+this.cy)*w};Wa.prototype.sampleCurveDerivativeX=function(w){return(3*this.ax*w+2*this.bx)*w+this.cx};
Wa.prototype.solveCurveX=function(w,S){"undefined"===typeof S&&(S=1E-6);var ma;var La=w;for(ma=0;8>ma;ma++){var gb=this.sampleCurveX(La)-w;if(Math.abs(gb)<S)return La;var mb=this.sampleCurveDerivativeX(La);if(1E-6>Math.abs(mb))break;La-=gb/mb}ma=0;mb=1;La=w;if(La<ma)return ma;if(La>mb)return mb;for(;ma<mb;){gb=this.sampleCurveX(La);if(Math.abs(gb-w)<S)break;w>gb?ma=La:mb=La;La=.5*(mb-ma)+ma}return La};Wa.prototype.solve=function(w,S){return this.sampleCurveY(this.solveCurveX(w,S))};var Of=Object.freeze({__proto__:null,
number:Ea,color:function(w,S,ma){return new Oe(Ea(w.r,S.r,ma),Ea(w.g,S.g,ma),Ea(w.b,S.b,ma),Ea(w.a,S.a,ma))},array:function(w,S,ma){return w.map((La,gb)=>Ea(La,S[gb],ma))}});const Te=4/29,uf=6/29,Bf=3*uf*uf,Ag=uf*uf*uf,Rf=Math.PI/180,jg=180/Math.PI,wa={forward:fa,reverse:qa,interpolate:function(w,S,ma){return{l:Ea(w.l,S.l,ma),a:Ea(w.a,S.a,ma),b:Ea(w.b,S.b,ma),alpha:Ea(w.alpha,S.alpha,ma)}}},ya={forward:function(w){const {l:S,a:ma,b:La}=fa(w),gb=Math.atan2(La,ma)*jg;return{h:0>gb?gb+360:gb,c:Math.sqrt(ma*
ma+La*La),l:S,alpha:w.a}},reverse:function(w){const S=w.h*Rf,ma=w.c;return qa({l:w.l,a:Math.cos(S)*ma,b:Math.sin(S)*ma,alpha:w.alpha})},interpolate:function(w,S,ma){{var La=w.h;const gb=S.h-La;La+=ma*(180<gb||-180>gb?gb-360*Math.round(gb/360):gb)}return{h:La,c:Ea(w.c,S.c,ma),l:Ea(w.l,S.l,ma),alpha:Ea(w.alpha,S.alpha,ma)}}};var Na=Object.freeze({__proto__:null,lab:wa,hcl:ya});class Sa{constructor(w,S,ma,La,gb){this.type=w;this.operator=S;this.interpolation=ma;this.input=La;this.labels=[];this.outputs=
[];for(const [mb,tb]of gb)this.labels.push(mb),this.outputs.push(tb)}static interpolationFactor(w,S,ma,La){let gb=0;"exponential"===w.name?gb=pa(S,w.base,ma,La):"linear"===w.name?gb=pa(S,1,ma,La):"cubic-bezier"===w.name&&(w=w.controlPoints,gb=(new Wa(w[0],w[1],w[2],w[3])).solve(pa(S,1,ma,La)));return gb}static parse(w,S){let [ma,La,gb,...mb]=w;if(!Array.isArray(La)||0===La.length)return S.error("Expected an interpolation type expression.",1);if("linear"===La[0])La={name:"linear"};else if("exponential"===
La[0]){var tb=La[1];if("number"!==typeof tb)return S.error("Exponential interpolation requires a numeric base.",1,1);La={name:"exponential",base:tb}}else if("cubic-bezier"===La[0]){tb=La.slice(1);if(4!==tb.length||tb.some(ec=>"number"!==typeof ec||0>ec||1<ec))return S.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);La={name:"cubic-bezier",controlPoints:tb}}else return S.error(`Unknown interpolation type ${String(La[0])}`,1,0);if(4>w.length-1)return S.error(`Expected at least 4 arguments, but found only ${w.length-
1}.`);if(0!==(w.length-1)%2)return S.error("Expected an even number of arguments.");gb=S.parse(gb,2,od);if(!gb)return null;w=[];tb=null;"interpolate-hcl"===ma||"interpolate-lab"===ma?tb=lf:S.expectedType&&"value"!==S.expectedType.kind&&(tb=S.expectedType);for(let ec=0;ec<mb.length;ec+=2){const Wb=mb[ec];var Rb=mb[ec+1];const Pc=ec+3,ed=ec+4;if("number"!==typeof Wb)return S.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',
Pc);if(w.length&&w[w.length-1][0]>=Wb)return S.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Pc);Rb=S.parse(Rb,ed,tb);if(!Rb)return null;tb=tb||Rb.type;w.push([Wb,Rb])}return"number"===tb.kind||"color"===tb.kind||"array"===tb.kind&&"number"===tb.itemType.kind&&"number"===typeof tb.N?new Sa(tb,ma,La,gb,w):S.error(`Type ${P(tb)} is not interpolatable.`)}evaluate(w){var S=this.labels;const ma=this.outputs;if(1===S.length)return ma[0].evaluate(w);
var La=this.input.evaluate(w);if(La<=S[0])return ma[0].evaluate(w);var gb=S.length;if(La>=S[gb-1])return ma[gb-1].evaluate(w);gb=Ta(S,La);S=Sa.interpolationFactor(this.interpolation,La,S[gb],S[gb+1]);La=ma[gb].evaluate(w);w=ma[gb+1].evaluate(w);return"interpolate"===this.operator?Of[this.type.kind.toLowerCase()](La,w,S):"interpolate-hcl"===this.operator?ya.reverse(ya.interpolate(ya.forward(La),ya.forward(w),S)):wa.reverse(wa.interpolate(wa.forward(La),wa.forward(w),S))}eachChild(w){w(this.input);
for(const S of this.outputs)w(S)}outputDefined(){return this.outputs.every(w=>w.outputDefined())}serialize(){var w="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);w=[this.operator,w,this.input.serialize()];for(let S=0;S<this.labels.length;S++)w.push(this.labels[S],this.outputs[S].serialize());return w}}class fb{constructor(w,
S){this.type=w;this.args=S}static parse(w,S){if(2>w.length)return S.error("Expectected at least one argument.");let ma=null;const La=S.expectedType;La&&"value"!==La.kind&&(ma=La);const gb=[];for(const mb of w.slice(1)){w=S.parse(mb,1+gb.length,ma,void 0,{typeAnnotation:"omit"});if(!w)return null;ma=ma||w.type;gb.push(w)}return La&&gb.some(mb=>L(La,mb.type))?new fb(ee,gb):new fb(ma,gb)}evaluate(w){let S=null,ma=0,La;for(const gb of this.args)if(ma++,(S=gb.evaluate(w))&&S instanceof wb&&!S.available&&
(La||(La=S.name),S=null,ma===this.args.length&&(S=La)),null!==S)break;return S}eachChild(w){this.args.forEach(w)}outputDefined(){return this.args.every(w=>w.outputDefined())}serialize(){const w=["coalesce"];this.eachChild(S=>{w.push(S.serialize())});return w}}class hb{constructor(w,S){this.type=S.type;this.bindings=[].concat(w);this.result=S}evaluate(w){return this.result.evaluate(w)}eachChild(w){for(const S of this.bindings)w(S[1]);w(this.result)}static parse(w,S){if(4>w.length)return S.error(`Expected at least 3 arguments, but found ${w.length-
1} instead.`);const ma=[];for(let La=1;La<w.length-1;La+=2){const gb=w[La];if("string"!==typeof gb)return S.error(`Expected string, but found ${typeof gb} instead.`,La);if(/[^a-zA-Z0-9_]/.test(gb))return S.error("Variable names must contain only alphanumeric characters or '_'.",La);const mb=S.parse(w[La+1],La+1);if(!mb)return null;ma.push([gb,mb])}return(w=S.parse(w[w.length-1],w.length-1,S.expectedType,ma))?new hb(ma,w):null}outputDefined(){return this.result.outputDefined()}serialize(){const w=
["let"];for(const [S,ma]of this.bindings)w.push(S,ma.serialize());w.push(this.result.serialize());return w}}class sb{constructor(w,S,ma){this.type=w;this.index=S;this.input=ma}static parse(w,S){if(3!==w.length)return S.error(`Expected 2 arguments, but found ${w.length-1} instead.`);const ma=S.parse(w[1],1,od);w=S.parse(w[2],2,D(S.expectedType||ee));return ma&&w?new sb(w.type.itemType,ma,w):null}evaluate(w){const S=this.index.evaluate(w);w=this.input.evaluate(w);if(0>S)throw new Ub(`Array index out of bounds: ${S} < 0.`);
if(S>=w.length)throw new Ub(`Array index out of bounds: ${S} > ${w.length-1}.`);if(S!==Math.floor(S))throw new Ub(`Array index must be an integer, but found ${S} instead.`);return w[S]}eachChild(w){w(this.index);w(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}class Gb{constructor(w,S){this.type=kd;this.needle=w;this.haystack=S}static parse(w,S){if(3!==w.length)return S.error(`Expected 2 arguments, but found ${w.length-1} instead.`);const ma=
S.parse(w[1],1,ee);w=S.parse(w[2],2,ee);return ma&&w?G(ma.type,[kd,Rd,od,Od,ee])?new Gb(ma,w):S.error(`Expected first argument to be of type boolean, string, number or null, but found ${P(ma.type)} instead`):null}evaluate(w){const S=this.needle.evaluate(w);w=this.haystack.evaluate(w);if(!w)return!1;if(!z(S,["boolean","string","number","null"]))throw new Ub(`Expected first argument to be of type boolean, string, number or null, but found ${P(R(S))} instead.`);if(!z(w,["string","array"]))throw new Ub(`Expected second argument to be of type array or string, but found ${P(R(w))} instead.`);
return 0<=w.indexOf(S)}eachChild(w){w(this.needle);w(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}class Bb{constructor(w,S,ma){this.type=od;this.needle=w;this.haystack=S;this.fromIndex=ma}static parse(w,S){if(2>=w.length||5<=w.length)return S.error(`Expected 3 or 4 arguments, but found ${w.length-1} instead.`);const ma=S.parse(w[1],1,ee),La=S.parse(w[2],2,ee);return ma&&La?G(ma.type,[kd,Rd,od,Od,ee])?4===w.length?(w=S.parse(w[3],
3,od))?new Bb(ma,La,w):null:new Bb(ma,La):S.error(`Expected first argument to be of type boolean, string, number or null, but found ${P(ma.type)} instead`):null}evaluate(w){const S=this.needle.evaluate(w),ma=this.haystack.evaluate(w);if(!z(S,["boolean","string","number","null"]))throw new Ub(`Expected first argument to be of type boolean, string, number or null, but found ${P(R(S))} instead.`);if(!z(ma,["string","array"]))throw new Ub(`Expected second argument to be of type array or string, but found ${P(R(ma))} instead.`);
return this.fromIndex?(w=this.fromIndex.evaluate(w),ma.indexOf(S,w)):ma.indexOf(S)}eachChild(w){w(this.needle);w(this.haystack);this.fromIndex&&w(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const w=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),w]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}class Nb{constructor(w,S,ma,La,gb,mb){this.inputType=w;this.type=S;this.input=
ma;this.cases=La;this.outputs=gb;this.otherwise=mb}static parse(w,S){if(5>w.length)return S.error(`Expected at least 4 arguments, but found only ${w.length-1}.`);if(1!==w.length%2)return S.error("Expected an even number of arguments.");let ma,La;S.expectedType&&"value"!==S.expectedType.kind&&(La=S.expectedType);const gb={},mb=[];for(var tb=2;tb<w.length-1;tb+=2){var Rb=w[tb];const ec=w[tb+1];Array.isArray(Rb)||(Rb=[Rb]);const Wb=S.concat(tb);if(0===Rb.length)return Wb.error("Expected at least one branch label.");
for(const Pc of Rb){if("number"!==typeof Pc&&"string"!==typeof Pc)return Wb.error("Branch labels must be numbers or strings.");if("number"===typeof Pc&&Math.abs(Pc)>Number.MAX_SAFE_INTEGER)return Wb.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"===typeof Pc&&Math.floor(Pc)!==Pc)return Wb.error("Numeric branch labels must be integer values.");if(!ma)ma=R(Pc);else if(Wb.checkSubtype(ma,R(Pc)))return null;if("undefined"!==typeof gb[String(Pc)])return Wb.error("Branch labels must be unique.");
gb[String(Pc)]=mb.length}Rb=S.parse(ec,tb,La);if(!Rb)return null;La=La||Rb.type;mb.push(Rb)}tb=S.parse(w[1],1,ee);if(!tb)return null;w=S.parse(w[w.length-1],w.length-1,La);return!w||"value"!==tb.type.kind&&S.concat(1).checkSubtype(ma,tb.type)?null:new Nb(ma,La,tb,gb,mb,w)}evaluate(w){const S=this.input.evaluate(w);return(R(S)===this.inputType&&this.outputs[this.cases[S]]||this.otherwise).evaluate(w)}eachChild(w){w(this.input);this.outputs.forEach(w);w(this.otherwise)}outputDefined(){return this.outputs.every(w=>
w.outputDefined())&&this.otherwise.outputDefined()}serialize(){const w=["match",this.input.serialize()];var S=Object.keys(this.cases).sort();const ma=[];var La={};for(const gb of S)S=La[this.cases[gb]],void 0===S?(La[this.cases[gb]]=ma.length,ma.push([this.cases[gb],[gb]])):ma[S][1].push(gb);La=gb=>"number"===this.inputType.kind?Number(gb):gb;for(const [gb,mb]of ma)1===mb.length?w.push(La(mb[0])):w.push(mb.map(La)),w.push(this.outputs[gb].serialize());w.push(this.otherwise.serialize());return w}}
class Mb{constructor(w,S,ma){this.type=w;this.branches=S;this.otherwise=ma}static parse(w,S){if(4>w.length)return S.error(`Expected at least 3 arguments, but found only ${w.length-1}.`);if(0!==w.length%2)return S.error("Expected an odd number of arguments.");let ma;S.expectedType&&"value"!==S.expectedType.kind&&(ma=S.expectedType);const La=[];for(let gb=1;gb<w.length-1;gb+=2){const mb=S.parse(w[gb],gb,kd);if(!mb)return null;const tb=S.parse(w[gb+1],gb+1,ma);if(!tb)return null;La.push([mb,tb]);ma=
ma||tb.type}return(w=S.parse(w[w.length-1],w.length-1,ma))?new Mb(ma,La,w):null}evaluate(w){for(const [S,ma]of this.branches)if(S.evaluate(w))return ma.evaluate(w);return this.otherwise.evaluate(w)}eachChild(w){for(const [S,ma]of this.branches)w(S),w(ma);w(this.otherwise)}outputDefined(){return this.branches.every(([,w])=>w.outputDefined())&&this.otherwise.outputDefined()}serialize(){const w=["case"];this.eachChild(S=>{w.push(S.serialize())});return w}}class dc{constructor(w,S,ma,La){this.type=w;
this.input=S;this.beginIndex=ma;this.endIndex=La}static parse(w,S){if(2>=w.length||5<=w.length)return S.error(`Expected 3 or 4 arguments, but found ${w.length-1} instead.`);const ma=S.parse(w[1],1,ee),La=S.parse(w[2],2,od);return ma&&La?G(ma.type,[D(ee),Rd,ee])?4===w.length?(w=S.parse(w[3],3,od))?new dc(ma.type,ma,La,w):null:new dc(ma.type,ma,La):S.error(`Expected first argument to be of type array or string, but found ${P(ma.type)} instead`):null}evaluate(w){const S=this.input.evaluate(w),ma=this.beginIndex.evaluate(w);
if(!z(S,["string","array"]))throw new Ub(`Expected first argument to be of type array or string, but found ${P(R(S))} instead.`);return this.endIndex?(w=this.endIndex.evaluate(w),S.slice(ma,w)):S.slice(ma)}eachChild(w){w(this.input);w(this.beginIndex);this.endIndex&&w(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const w=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),w]}return["slice",this.input.serialize(),
this.beginIndex.serialize()]}}const uc=Oa("\x3d\x3d",function(w,S,ma){return S===ma},na),Y=Oa("!\x3d",function(w,S,ma){return S!==ma},function(w,S,ma,La){return!na(w,S,ma,La)}),oa=Oa("\x3c",function(w,S,ma){return S<ma},function(w,S,ma,La){return 0>La.compare(S,ma)}),Pa=Oa("\x3e",function(w,S,ma){return S>ma},function(w,S,ma,La){return 0<La.compare(S,ma)}),Ua=Oa("\x3c\x3d",function(w,S,ma){return S<=ma},function(w,S,ma,La){return 0>=La.compare(S,ma)}),yb=Oa("\x3e\x3d",function(w,S,ma){return S>=ma},
function(w,S,ma,La){return 0<=La.compare(S,ma)});class Tb{constructor(w,S,ma,La,gb){this.type=Rd;this.number=w;this.locale=S;this.currency=ma;this.minFractionDigits=La;this.maxFractionDigits=gb}static parse(w,S){if(3!==w.length)return S.error("Expected two arguments.");const ma=S.parse(w[1],1,od);if(!ma)return null;w=w[2];if("object"!==typeof w||Array.isArray(w))return S.error("NumberFormat options argument must be an object.");let La=null;if(w.locale&&(La=S.parse(w.locale,1,Rd),!La))return null;
let gb=null;if(w.currency&&(gb=S.parse(w.currency,1,Rd),!gb))return null;let mb=null;if(w["min-fraction-digits"]&&(mb=S.parse(w["min-fraction-digits"],1,od),!mb))return null;let tb=null;return w["max-fraction-digits"]&&(tb=S.parse(w["max-fraction-digits"],1,od),!tb)?null:new Tb(ma,La,gb,mb,tb)}evaluate(w){return(new Intl.NumberFormat(this.locale?this.locale.evaluate(w):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(w):void 0,minimumFractionDigits:this.minFractionDigits?
this.minFractionDigits.evaluate(w):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(w):void 0})).format(this.number.evaluate(w))}eachChild(w){w(this.number);this.locale&&w(this.locale);this.currency&&w(this.currency);this.minFractionDigits&&w(this.minFractionDigits);this.maxFractionDigits&&w(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const w={};this.locale&&(w.locale=this.locale.serialize());this.currency&&(w.currency=this.currency.serialize());
this.minFractionDigits&&(w["min-fraction-digits"]=this.minFractionDigits.serialize());this.maxFractionDigits&&(w["max-fraction-digits"]=this.maxFractionDigits.serialize());return["number-format",this.number.serialize(),w]}}class Zb{constructor(w){this.type=od;this.input=w}static parse(w,S){return 2!==w.length?S.error(`Expected 1 argument, but found ${w.length-1} instead.`):(w=S.parse(w[1],1))?"array"!==w.type.kind&&"string"!==w.type.kind&&"value"!==w.type.kind?S.error(`Expected argument of type string or array, but found ${P(w.type)} instead.`):
new Zb(w):null}evaluate(w){w=this.input.evaluate(w);if("string"===typeof w||Array.isArray(w))return w.length;throw new Ub(`Expected value to be of type string or array, but found ${P(R(w))} instead.`);}eachChild(w){w(this.input)}outputDefined(){return!1}serialize(){const w=["length"];this.eachChild(S=>{w.push(S.serialize())});return w}}const rc={"\x3d\x3d":uc,"!\x3d":Y,"\x3e":Pa,"\x3c":oa,"\x3e\x3d":yb,"\x3c\x3d":Ua,array:oc,at:sb,"boolean":oc,"case":Mb,coalesce:fb,collator:Ne,format:id,image:Tc,
"in":Gb,"index-of":Bb,interpolate:Sa,"interpolate-hcl":Sa,"interpolate-lab":Sa,length:Zb,let:hb,literal:Yb,match:Nb,number:oc,"number-format":Tb,object:oc,slice:dc,step:Le,string:oc,"to-boolean":Hd,"to-color":Hd,"to-number":Hd,"to-string":Hd,"var":He,within:pe};Pd.register(rc,{error:[{kind:"error"},[Rd],(w,[S])=>{throw new Ub(S.evaluate(w));}],"typeof":[Rd,[ee],(w,[S])=>P(R(S.evaluate(w)))],"to-rgba":[D(od,4),[lf],(w,[S])=>S.evaluate(w).toArray()],rgb:[lf,[od,od,od],cb],rgba:[lf,[od,od,od,od],cb],
has:{type:kd,overloads:[[[Rd],(w,[S])=>{S=S.evaluate(w);w=w.properties();return S in w}],[[Rd,bf],(w,[S,ma])=>{S=S.evaluate(w);w=ma.evaluate(w);return S in w}]]},get:{type:ee,overloads:[[[Rd],(w,[S])=>Za(S.evaluate(w),w.properties())],[[Rd,bf],(w,[S,ma])=>Za(S.evaluate(w),ma.evaluate(w))]]},"feature-state":[ee,[Rd],(w,[S])=>Za(S.evaluate(w),w.featureState||{})],properties:[bf,[],w=>w.properties()],"geometry-type":[Rd,[],w=>w.geometryType()],id:[ee,[],w=>w.id()],zoom:[od,[],w=>w.globals.zoom],"heatmap-density":[od,
[],w=>w.globals.heatmapDensity||0],"line-progress":[od,[],w=>w.globals.lineProgress||0],"sky-radial-progress":[od,[],w=>w.globals.skyRadialProgress||0],accumulated:[ee,[],w=>void 0===w.globals.accumulated?null:w.globals.accumulated],"+":[od,{type:od},(w,S)=>{let ma=0;for(const La of S)ma+=La.evaluate(w);return ma}],"*":[od,{type:od},(w,S)=>{let ma=1;for(const La of S)ma*=La.evaluate(w);return ma}],"-":{type:od,overloads:[[[od,od],(w,[S,ma])=>S.evaluate(w)-ma.evaluate(w)],[[od],(w,[S])=>-S.evaluate(w)]]},
"/":[od,[od,od],(w,[S,ma])=>S.evaluate(w)/ma.evaluate(w)],"%":[od,[od,od],(w,[S,ma])=>S.evaluate(w)%ma.evaluate(w)],ln2:[od,[],()=>Math.LN2],pi:[od,[],()=>Math.PI],e:[od,[],()=>Math.E],"^":[od,[od,od],(w,[S,ma])=>Math.pow(S.evaluate(w),ma.evaluate(w))],sqrt:[od,[od],(w,[S])=>Math.sqrt(S.evaluate(w))],log10:[od,[od],(w,[S])=>Math.log(S.evaluate(w))/Math.LN10],ln:[od,[od],(w,[S])=>Math.log(S.evaluate(w))],log2:[od,[od],(w,[S])=>Math.log(S.evaluate(w))/Math.LN2],sin:[od,[od],(w,[S])=>Math.sin(S.evaluate(w))],
cos:[od,[od],(w,[S])=>Math.cos(S.evaluate(w))],tan:[od,[od],(w,[S])=>Math.tan(S.evaluate(w))],asin:[od,[od],(w,[S])=>Math.asin(S.evaluate(w))],acos:[od,[od],(w,[S])=>Math.acos(S.evaluate(w))],atan:[od,[od],(w,[S])=>Math.atan(S.evaluate(w))],min:[od,{type:od},(w,S)=>Math.min(...S.map(ma=>ma.evaluate(w)))],max:[od,{type:od},(w,S)=>Math.max(...S.map(ma=>ma.evaluate(w)))],abs:[od,[od],(w,[S])=>Math.abs(S.evaluate(w))],round:[od,[od],(w,[S])=>{w=S.evaluate(w);return 0>w?-Math.round(-w):Math.round(w)}],
floor:[od,[od],(w,[S])=>Math.floor(S.evaluate(w))],ceil:[od,[od],(w,[S])=>Math.ceil(S.evaluate(w))],"filter-\x3d\x3d":[kd,[Rd,ee],(w,[S,ma])=>w.properties()[S.value]===ma.value],"filter-id-\x3d\x3d":[kd,[ee],(w,[S])=>w.id()===S.value],"filter-type-\x3d\x3d":[kd,[Rd],(w,[S])=>w.geometryType()===S.value],"filter-\x3c":[kd,[Rd,ee],(w,[S,ma])=>{w=w.properties()[S.value];ma=ma.value;return typeof w===typeof ma&&w<ma}],"filter-id-\x3c":[kd,[ee],(w,[S])=>{w=w.id();S=S.value;return typeof w===typeof S&&w<
S}],"filter-\x3e":[kd,[Rd,ee],(w,[S,ma])=>{w=w.properties()[S.value];ma=ma.value;return typeof w===typeof ma&&w>ma}],"filter-id-\x3e":[kd,[ee],(w,[S])=>{w=w.id();S=S.value;return typeof w===typeof S&&w>S}],"filter-\x3c\x3d":[kd,[Rd,ee],(w,[S,ma])=>{w=w.properties()[S.value];ma=ma.value;return typeof w===typeof ma&&w<=ma}],"filter-id-\x3c\x3d":[kd,[ee],(w,[S])=>{w=w.id();S=S.value;return typeof w===typeof S&&w<=S}],"filter-\x3e\x3d":[kd,[Rd,ee],(w,[S,ma])=>{w=w.properties()[S.value];ma=ma.value;return typeof w===
typeof ma&&w>=ma}],"filter-id-\x3e\x3d":[kd,[ee],(w,[S])=>{w=w.id();S=S.value;return typeof w===typeof S&&w>=S}],"filter-has":[kd,[ee],(w,[S])=>S.value in w.properties()],"filter-has-id":[kd,[],w=>null!==w.id()&&void 0!==w.id()],"filter-type-in":[kd,[D(Rd)],(w,[S])=>0<=S.value.indexOf(w.geometryType())],"filter-id-in":[kd,[D(ee)],(w,[S])=>0<=S.value.indexOf(w.id())],"filter-in-small":[kd,[Rd,D(ee)],(w,[S,ma])=>0<=ma.value.indexOf(w.properties()[S.value])],"filter-in-large":[kd,[Rd,D(ee)],(w,[S,ma])=>
{a:{w=w.properties()[S.value];S=ma.value;var La=0;for(ma=ma.value.length-1;La<=ma;){const gb=La+ma>>1;if(S[gb]===w){ma=!0;break a}S[gb]>w?ma=gb-1:La=gb+1}ma=!1}return ma}],all:{type:kd,overloads:[[[kd,kd],(w,[S,ma])=>S.evaluate(w)&&ma.evaluate(w)],[{type:kd},(w,S)=>{for(const ma of S)if(!ma.evaluate(w))return!1;return!0}]]},any:{type:kd,overloads:[[[kd,kd],(w,[S,ma])=>S.evaluate(w)||ma.evaluate(w)],[{type:kd},(w,S)=>{for(const ma of S)if(ma.evaluate(w))return!0;return!1}]]},"!":[kd,[kd],(w,[S])=>
!S.evaluate(w)],"is-supported-script":[kd,[Rd],(w,[S])=>{const ma=w.globals&&w.globals.isSupportedScript;return ma?ma(S.evaluate(w)):!0}],upcase:[Rd,[Rd],(w,[S])=>S.evaluate(w).toUpperCase()],downcase:[Rd,[Rd],(w,[S])=>S.evaluate(w).toLowerCase()],concat:[Rd,{type:ee},(w,S)=>S.map(ma=>U(ma.evaluate(w))).join("")],"resolved-locale":[Rd,[Ve],(w,[S])=>S.evaluate(w).resolvedLocale()]});class Gc{constructor(w,S){this.expression=w;this._warningHistory={};this._evaluator=new ie;this._defaultValue=S?"color"===
S.type&&nb(S.default)?new Oe(0,0,0,0):"color"===S.type?Oe.parse(S.default)||null:void 0===S.default?null:S.default:null;this._enumValues=S&&"enum"===S.type?S.values:null}evaluateWithoutErrorHandling(w,S,ma,La,gb,mb){this._evaluator.globals=w;this._evaluator.feature=S;this._evaluator.featureState=ma;this._evaluator.canonical=La;this._evaluator.availableImages=gb||null;this._evaluator.formattedSection=mb;return this.expression.evaluate(this._evaluator)}evaluate(w,S,ma,La,gb,mb){this._evaluator.globals=
w;this._evaluator.feature=S||null;this._evaluator.featureState=ma||null;this._evaluator.canonical=La;this._evaluator.availableImages=gb||null;this._evaluator.formattedSection=mb||null;try{const tb=this.expression.evaluate(this._evaluator);if(null===tb||void 0===tb||"number"===typeof tb&&tb!==tb)return this._defaultValue;if(this._enumValues&&!(tb in this._enumValues))throw new Ub(`Expected value to be one of ${Object.keys(this._enumValues).map(Rb=>JSON.stringify(Rb)).join(", ")}, but found ${JSON.stringify(tb)} instead.`);
return tb}catch(tb){return this._warningHistory[tb.message]||(this._warningHistory[tb.message]=!0,"undefined"!==typeof console&&console.warn(tb.message)),this._defaultValue}}}class dd{constructor(w,S){this.kind=w;this._styleExpression=S;this.isStateDependent="constant"!==w&&!$a(S.expression)}evaluateWithoutErrorHandling(w,S,ma,La,gb,mb){return this._styleExpression.evaluateWithoutErrorHandling(w,S,ma,La,gb,mb)}evaluate(w,S,ma,La,gb,mb){return this._styleExpression.evaluate(w,S,ma,La,gb,mb)}}class Zc{constructor(w,
S,ma,La){this.kind=w;this.zoomStops=ma;this._styleExpression=S;this.isStateDependent="camera"!==w&&!$a(S.expression);this.interpolationType=La}evaluateWithoutErrorHandling(w,S,ma,La,gb,mb){return this._styleExpression.evaluateWithoutErrorHandling(w,S,ma,La,gb,mb)}evaluate(w,S,ma,La,gb,mb){return this._styleExpression.evaluate(w,S,ma,La,gb,mb)}interpolationFactor(w,S,ma){return this.interpolationType?Sa.interpolationFactor(this.interpolationType,w,S,ma):0}}class Kd{constructor(w,S){this._parameters=
w;this._specification=S;C(this,Sb(this._parameters,this._specification))}static deserialize(w){return new Kd(w._parameters,w._specification)}static serialize(w){return{_parameters:w._parameters,_specification:w._specification}}}const Ud={type:"boolean","default":!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};var pd="type source source-layer minzoom maxzoom filter layout".split(" ");const Bd={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",
setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain"};class jd{constructor(w,S,ma,La){this.message=
(w?`${w}: `:"")+ma;La&&(this.identifier=La);null!==S&&void 0!==S&&S.__line__&&(this.line=S.__line__)}}class cf{constructor(w){this.error=w;this.message=w.message;this.line=(w=w.message.match(/line (\d+)/))?parseInt(w[1],10):0}}const Va={promoteId:function({key:w,value:S}){if("string"===Ma(S))return yf({key:w,value:S});{const ma=[];for(const La in S)ma.push(...yf({key:`${w}.${La}`,value:S[La]}));return ma}}},pb={["*"](){return[]},array:Ed,"boolean":function(w){const S=w.value;w=w.key;const ma=Ma(S);
return"boolean"!==ma?[new jd(w,S,`boolean expected, ${ma} found`)]:[]},number:Xd,color:function(w){const S=w.key;w=w.value;const ma=Ma(w);return"string"!==ma?[new jd(S,w,`color expected, ${ma} found`)]:null===tf(w)?[new jd(S,w,`color expected, "${w}" found`)]:[]},constants:$c,"enum":Ce,filter:me,"function":$d,layer:ge,object:Cd,source:Ue,light:of,terrain:le,string:yf,formatted:function(w){return 0===yf(w).length?[]:ae(w)},resolvedImage:function(w){return 0===yf(w).length?[]:ae(w)}};Ge.source=Zd(Ue);
Ge.light=Zd(of);Ge.terrain=Zd(le);Ge.layer=Zd(ge);Ge.filter=Zd(me);Ge.paintProperty=Zd(hf);Ge.layoutProperty=Zd(Vd);var Cb=O(function(w,S){var ma=function(){function La(){this.yy={}}var gb=function(Kc,ud,de,Sd){de=de||{};for(Sd=Kc.length;Sd--;de[Kc[Sd]]=ud);return de},mb=[1,12],tb=[1,13],Rb=[1,9],ec=[1,10],Wb=[1,11],Pc=[1,14],ed=[1,15],zd=[14,18,22,24],qd=[18,22],bd=[22,24];gb={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,
TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(Kc,ud,
de,Sd,ve,ne,Tf){ud=ne.length-1;switch(ve){case 1:this.$=new String(Kc.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b"));this.$.__line__=this._$.first_line;break;case 2:this.$=new Number(Kc);this.$.__line__=this._$.first_line;break;case 3:this.$=null;break;case 4:this.$=new Boolean(!0);this.$.__line__=this._$.first_line;break;case 5:this.$=new Boolean(!1);this.$.__line__=this._$.first_line;break;
case 6:return this.$=ne[ud-1];case 13:this.$={};Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 14:case 19:this.$=ne[ud-1];Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 15:this.$=[ne[ud-2],ne[ud]];break;case 16:this.$={};this.$[ne[ud][0]]=ne[ud][1];break;case 17:this.$=ne[ud-2];ne[ud-2][ne[ud][0]]=ne[ud][1];break;case 18:this.$=[];Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});
break;case 20:this.$=[ne[ud]];break;case 21:this.$=ne[ud-2],ne[ud-2].push(ne[ud])}},table:[{3:5,4:mb,5:6,6:tb,7:3,8:Rb,9:4,10:ec,11:Wb,12:1,13:2,15:7,16:8,17:Pc,23:ed},{1:[3]},{14:[1,16]},gb(zd,[2,7]),gb(zd,[2,8]),gb(zd,[2,9]),gb(zd,[2,10]),gb(zd,[2,11]),gb(zd,[2,12]),gb(zd,[2,3]),gb(zd,[2,4]),gb(zd,[2,5]),gb([14,18,21,22,24],[2,1]),gb(zd,[2,2]),{3:20,4:mb,18:[1,17],19:18,20:19},{3:5,4:mb,5:6,6:tb,7:3,8:Rb,9:4,10:ec,11:Wb,13:23,15:7,16:8,17:Pc,23:ed,24:[1,21],25:22},{1:[2,6]},gb(zd,[2,13]),{18:[1,
24],22:[1,25]},gb(qd,[2,16]),{21:[1,26]},gb(zd,[2,18]),{22:[1,28],24:[1,27]},gb(bd,[2,20]),gb(zd,[2,14]),{3:20,4:mb,20:29},{3:5,4:mb,5:6,6:tb,7:3,8:Rb,9:4,10:ec,11:Wb,13:30,15:7,16:8,17:Pc,23:ed},gb(zd,[2,19]),{3:5,4:mb,5:6,6:tb,7:3,8:Rb,9:4,10:ec,11:Wb,13:31,15:7,16:8,17:Pc,23:ed},gb(qd,[2,17]),gb(qd,[2,15]),gb(bd,[2,21])],defaultActions:{16:[2,6]},parseError:function(Kc,ud){if(ud.recoverable)this.trace(Kc);else throw Error(Kc);},parse:function(Kc){var ud=[0],de=[null],Sd=[],ve=this.table,ne="",
Tf=0,se=0,te=Sd.slice.call(arguments,1),Be=Object.create(this.lexer),wd={};for(We in this.yy)Object.prototype.hasOwnProperty.call(this.yy,We)&&(wd[We]=this.yy[We]);Be.setInput(Kc,wd);wd.lexer=Be;wd.parser=this;"undefined"==typeof Be.yylloc&&(Be.yylloc={});var We=Be.yylloc;Sd.push(We);var Kf=Be.options&&Be.options.ranges;this.parseError="function"===typeof wd.parseError?wd.parseError:Object.getPrototypeOf(this).parseError;for(var jf,Cf,xf,Af={},Uf,Zf;;){Cf=ud[ud.length-1];if(this.defaultActions[Cf])xf=
this.defaultActions[Cf];else{if(null===jf||"undefined"==typeof jf)jf=Be.lex()||1,"number"!==typeof jf&&(jf=this.symbols_[jf]||jf);xf=ve[Cf]&&ve[Cf][jf]}if("undefined"===typeof xf||!xf.length||!xf[0]){Zf=[];for(Uf in ve[Cf])this.terminals_[Uf]&&2<Uf&&Zf.push("'"+this.terminals_[Uf]+"'");var Ug=Be.showPosition?"Parse error on line "+(Tf+1)+":\n"+Be.showPosition()+"\nExpecting "+Zf.join(", ")+", got '"+(this.terminals_[jf]||jf)+"'":"Parse error on line "+(Tf+1)+": Unexpected "+(1==jf?"end of input":
"'"+(this.terminals_[jf]||jf)+"'");this.parseError(Ug,{text:Be.match,token:this.terminals_[jf]||jf,line:Be.yylineno,loc:We,expected:Zf})}if(xf[0]instanceof Array&&1<xf.length)throw Error("Parse Error: multiple actions possible at state: "+Cf+", token: "+jf);switch(xf[0]){case 1:ud.push(jf);de.push(Be.yytext);Sd.push(Be.yylloc);ud.push(xf[1]);jf=null;se=Be.yyleng;ne=Be.yytext;Tf=Be.yylineno;We=Be.yylloc;break;case 2:Zf=this.productions_[xf[1]][1];Af.$=de[de.length-Zf];Af._$={first_line:Sd[Sd.length-
(Zf||1)].first_line,last_line:Sd[Sd.length-1].last_line,first_column:Sd[Sd.length-(Zf||1)].first_column,last_column:Sd[Sd.length-1].last_column};Kf&&(Af._$.range=[Sd[Sd.length-(Zf||1)].range[0],Sd[Sd.length-1].range[1]]);Cf=this.performAction.apply(Af,[ne,se,Tf,wd,xf[1],de,Sd].concat(te));if("undefined"!==typeof Cf)return Cf;Zf&&(ud=ud.slice(0,-2*Zf),de=de.slice(0,-1*Zf),Sd=Sd.slice(0,-1*Zf));ud.push(this.productions_[xf[1]][0]);de.push(Af.$);Sd.push(Af._$);xf=ve[ud[ud.length-2]][ud[ud.length-1]];
ud.push(xf);break;case 3:return!0}}}};mb=function(){return{EOF:1,parseError:function(Kc,ud){if(this.yy.parser)this.yy.parser.parseError(Kc,ud);else throw Error(Kc);},setInput:function(Kc,ud){this.yy=ud||this.yy||{};this._input=Kc;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},
input:function(){var Kc=this._input[0];this.yytext+=Kc;this.yyleng++;this.offset++;this.match+=Kc;this.matched+=Kc;Kc.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return Kc},unput:function(Kc){var ud=Kc.length,de=Kc.split(/(?:\r\n?|\n)/g);this._input=Kc+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-ud);this.offset-=ud;Kc=this.match.split(/(?:\r\n?|\n)/g);this.match=
this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);de.length-1&&(this.yylineno-=de.length-1);var Sd=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:de?(de.length===Kc.length?this.yylloc.first_column:0)+Kc[Kc.length-de.length].length-de[0].length:this.yylloc.first_column-ud};this.options.ranges&&(this.yylloc.range=[Sd[0],Sd[0]+this.yyleng-ud]);this.yyleng=this.yytext.length;
return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer \x3d true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Kc){this.unput(this.match.slice(Kc))},pastInput:function(){var Kc=this.matched.substr(0,
this.matched.length-this.match.length);return(20<Kc.length?"...":"")+Kc.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Kc=this.match;20>Kc.length&&(Kc+=this._input.substr(0,20-Kc.length));return(Kc.substr(0,20)+(20<Kc.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var Kc=this.pastInput(),ud=Array(Kc.length+1).join("-");return Kc+this.upcomingInput()+"\n"+ud+"^"},test_match:function(Kc,ud){var de;if(this.options.backtrack_lexer){var Sd={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,
last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done};this.options.ranges&&(Sd.yylloc.range=this.yylloc.range.slice(0))}if(de=Kc[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=de.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+
1,first_column:this.yylloc.last_column,last_column:de?de[de.length-1].length-de[de.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Kc[0].length};this.yytext+=Kc[0];this.match+=Kc[0];this.matches=Kc;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(Kc[0].length);this.matched+=Kc[0];Kc=this.performAction.call(this,this.yy,this,ud,this.conditionStack[this.conditionStack.length-
1]);this.done&&this._input&&(this.done=!1);if(Kc)return Kc;if(this._backtrack)for(var ve in Sd)this[ve]=Sd[ve];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Kc;this._more||(this.match=this.yytext="");for(var ud=this._currentRules(),de=0;de<ud.length;de++)if((Kc=this._input.match(this.rules[ud[de]]))&&(!Sd||Kc[0].length>Sd[0].length)){var Sd=Kc;var ve=de;if(this.options.backtrack_lexer){Sd=this.test_match(Kc,ud[de]);if(!1!==Sd)return Sd;if(this._backtrack)Sd=
!1;else return!1}else if(!this.options.flex)break}return Sd?(Sd=this.test_match(Sd,ud[ve]),!1!==Sd?Sd:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Kc=this.next();return Kc?Kc:this.lex()},begin:function(Kc){this.conditionStack.push(Kc)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&
this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Kc){Kc=this.conditionStack.length-1-Math.abs(Kc||0);return 0<=Kc?this.conditionStack[Kc]:"INITIAL"},pushState:function(Kc){this.begin(Kc)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(Kc,ud,de,Sd){switch(de){case 1:return 6;case 2:return ud.yytext=ud.yytext.substr(1,ud.yyleng-2),
4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,
2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}}}();gb.lexer=mb;La.prototype=gb;gb.Parser=La;return new La}();"undefined"!==typeof F&&(S.parser=ma,S.Parser=ma.Parser,S.parse=function(){return ma.parse.apply(ma,arguments)})});const Ob={StyleExpression:Gc,isExpression:nc,isExpressionFilter:Gd,createExpression:zc,createPropertyExpression:qc,normalizePropertyExpression:function(w,S){if(nb(w))return new Kd(w,S);if(nc(w)){w=qc(w,S);if("error"===w.result)throw Error(w.value.map(ma=>`${ma.key}: ${ma.message}`).join(", "));
return w.value}{let ma=w;"string"===typeof w&&"color"===S.type&&(ma=Oe.parse(w));return{kind:"constant",evaluate:()=>ma}}},ZoomConstantExpression:dd,ZoomDependentExpression:Zc,StylePropertyFunction:Kd},bc={convertFunction:Lc,createFunction:Sb,isFunction:nb},Mc={eachSource:l,eachLayer:h,eachProperty:c};nf.parsed=nf;nf.latest=nf;m.Color=Oe;m.ParsingError=cf;m.ValidationError=jd;m.composite=function(w){const S=[],ma=[],La=[];for(const tb in w.sources){var gb=w.sources[tb];"vector"===gb.type&&(gb=/^mapbox:\/\/(.*)/.exec(gb.url))&&
(S.push(tb),ma.push(gb[1]))}if(2>S.length)return w;S.forEach(tb=>{delete w.sources[tb]});const mb=ma.join(",");w.sources[mb]={type:"vector",url:`mapbox://${mb}`};w.layers.forEach(tb=>{if(0<=S.indexOf(tb.source)&&(tb.source=mb,"source-layer"in tb)){if(0<=La.indexOf(tb["source-layer"]))throw Error("Conflicting source layer names");La.push(tb["source-layer"])}});return w};m.convertFilter=Ec;m.derefLayers=function(w){w=w.slice();const S=Object.create(null);for(var ma=0;ma<w.length;ma++)S[w[ma].id]=w[ma];
for(ma=0;ma<w.length;ma++)"ref"in w[ma]&&(w[ma]=Dc(w[ma],S[w[ma].ref]));return w};m.diff=function(w,S){if(!w)return[{command:Bd.setStyle,args:[S]}];let ma=[];try{if(!Fc(w.version,S.version))return[{command:Bd.setStyle,args:[S]}];Fc(w.center,S.center)||ma.push({command:Bd.setCenter,args:[S.center]});Fc(w.zoom,S.zoom)||ma.push({command:Bd.setZoom,args:[S.zoom]});Fc(w.bearing,S.bearing)||ma.push({command:Bd.setBearing,args:[S.bearing]});Fc(w.pitch,S.pitch)||ma.push({command:Bd.setPitch,args:[S.pitch]});
Fc(w.sprite,S.sprite)||ma.push({command:Bd.setSprite,args:[S.sprite]});Fc(w.glyphs,S.glyphs)||ma.push({command:Bd.setGlyphs,args:[S.glyphs]});Fc(w.transition,S.transition)||ma.push({command:Bd.setTransition,args:[S.transition]});Fc(w.light,S.light)||ma.push({command:Bd.setLight,args:[S.light]});const La={},gb=[];Xc(w.sources,S.sources,gb,La);const mb=[];w.layers&&w.layers.forEach(Rb=>{La[Rb.source]?ma.push({command:Bd.removeLayer,args:[Rb.id]}):mb.push(Rb)});let tb=w.terrain;tb&&La[tb.source]&&(ma.push({command:Bd.setTerrain,
args:[void 0]}),tb=void 0);ma=ma.concat(gb);Fc(tb,S.terrain)||ma.push({command:Bd.setTerrain,args:[S.terrain]});wc(mb,S.layers,ma)}catch(La){console.warn("Unable to compute style diff:",La),ma=[{command:Bd.setStyle,args:[S]}]}return ma};m.expression=Ob;m.featureFilter=function(w){if(null===w||void 0===w)return{filter:()=>!0,needGeometry:!1};Gd(w)||(w=eb(w));const S=zc(w,Ud);if("error"===S.result)throw Error(S.value.map(ma=>`${ma.key}: ${ma.message}`).join(", "));return{filter:(ma,La,gb)=>S.value.evaluate(ma,
La,{},gb),needGeometry:Ja(w)}};m.format=function(w,S=2){w=n(w,Jc.$root);w.layers&&(w.layers=w.layers.map(ma=>n(ma,Jc.layer)));return je(w,{indent:S})};m.function=bc;m.latest=Jc;m.migrate=function(w){let S=!1;7===w.version&&(w=A(w),S=!0);8===w.version&&(mc(w),S=!0);if(!S)throw Error("cannot migrate from",w.version);return w};m.v8=Jc;m.validate=nf;m.validateMapboxApiSupported=function(w){try{w=we(w)}catch(ma){return[ma]}let S=Ge(w,Jc).concat(Yf(w,Object.keys(Jc.$root)));w.sources&&(S=S.concat(Qe(w.sources)));
return S};m.visit=Mc;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[339]=function(Ha,B,rb,E){function g(h,c){if("undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"undefined"!==typeof OffscreenCanvas)return new OffscreenCanvas(h,c);var e=document.createElement("canvas");e.width=h;e.height=c;return e}function m(h,c){if(.05<=c){var e="";h=h.split("\n");c=y.slice(0,Math.round(c/.1));for(var a=0,f=h.length;a<f;++a)0<a&&(e+="\n"),e+=h[a].split("").join(c);return e}return h}function n(){q||(q=g(1,1).getContext("2d"));return q}function F(h,
c){return n().measureText(h).width+(h.length-1)*c}function O(h,c,e,a){if(-1!==h.indexOf("\n")){var f=h.split("\n");h=[];for(var p=0,A=f.length;p<A;++p)h.push(O(f[p],c,e,a));return h.join("\n")}f=e+","+c+","+h+","+a;p=l[f];if(!p){var C=h.split(" ");if(1<C.length){h=n();h.font=c;c=h.measureText("M").width*e;e="";h=[];p=0;for(A=C.length;p<A;++p){var D=C[p],P=e+(e?" ":"")+D;F(P,a)<=c?e=P:(e&&h.push(e),e=D)}e&&h.push(e);p=0;for(A=h.length;p<A&&1<A;++p)C=h[p],F(C,a)<.35*c&&(e=0<p?F(h[p-1],a):Infinity,D=
p<A-1?F(h[p+1],a):Infinity,h.splice(p,1),--A,e<D?(h[p-1]+=" "+C,--p):h[p]=C+" "+h[p]);p=0;for(A=h.length-1;p<A;++p)e=h[p],C=h[p+1],F(e,a)>.7*c&&F(C,a)<.6*c&&(e=e.split(" "),D=e.pop(),F(D,a)<.2*c&&(h[p]=e.join(" "),h[p+1]=D+" "+C),--A);p=h.join("\n")}else p=h;p=m(p,a);l[f]=p}return p}Object.defineProperty(E,"__esModule",{value:!0});E.deg2rad=function(h){return h*Math.PI/180};E.createCanvas=g;E.getZoomForResolution=function(h,c){for(var e=0,a=c.length;e<a;++e)if(c[e]<h&&e+1<a)return e+Math.log(c[e]/
h)/Math.log(c[e]/c[e+1]);return a-1};E.applyLetterSpacing=m;E.wrapText=O;E.defaultResolutions=E.assign=void 0;Ha=B(93);rb=function(h){return h&&h.__esModule?h:{"default":h}}(B(92));B=B(108);E.assign="function"===typeof Object.assign?Object.assign:function(h,c){if(void 0===h||null===h)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(h),a=1,f=arguments.length;a<f;++a){var p=arguments[a];if(void 0!==p&&null!==p)for(var A in p)p.hasOwnProperty(A)&&(e[A]=p[A])}return e};
var x=function(){for(var h=[],c=78271.51696402048;24>=h.length;c/=2)h.push(c);return h}();E.defaultResolutions=x;var y=Array(256).join(""),q,l={};B.labelCache&&(0,Ha.listen)(B.labelCache,rb["default"].CLEAR,function(){l={}})};
shadow$provide[340]=function(Ha,B,rb,E){function g(Z){return Z&&Z.__esModule?Z:{"default":Z}}function m(Z,Q,r,N,ea){var aa=Z.id;R[aa]||(R[aa]={});aa=R[aa];if(!aa[r]){var va=(Z[Q]||J)[r];Z=a.latest[Q+"_"+Z.type][r];void 0===va&&(va=Z["default"]);Q=D(va);!Q&&A(va)&&(va=C(va,Z),Q=!0);Q?(Z=z(va,Z),aa[r]=Z.evaluate.bind(Z)):("color"==Z.type&&(va=a.Color.parse(va)),aa[r]=function(){return va})}K.zoom=N;return aa[r](K,ea)}function n(Z,Q,r,N){Z in ba||(ba[Z]=(0,a.featureFilter)(Q).filter);K.zoom=N;return ba[Z](K,
r)}function F(Z,Q){if(Z){if(0===Z.a||0===Q)return;var r=Z.a;return"rgba("+Math.round(255*Z.r/r)+","+Math.round(255*Z.g/r)+","+Math.round(255*Z.b/r)+","+r*(void 0===Q?1:Q)+")"}return Z}function O(Z,Q){var r;do(r=Z.match(da))&&(Z=r[1]+(Q[r[2]]||"")+r[3]);while(r);return Z}Object.defineProperty(E,"__esModule",{value:!0});E._getValue=E.getValue=m;E.recordStyleLayer=function(Z){ja=Z};E["default"]=function(Z,Q,r,N,ea,aa,va){void 0===N&&(N=p.defaultResolutions);"string"==typeof Q&&(Q=JSON.parse(Q));if(8!=
Q.version)throw Error("glStyle version 8 required.");var ta,Da;if(aa)if("undefined"!==typeof Image){var $a=new Image;$a.crossOrigin="anonymous";$a.onload=function(){ta=$a;Da=[$a.width,$a.height];Z.changed();$a.onload=null};$a.src=aa}else if("undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){var kb=self;kb.postMessage({action:"loadImage",src:aa});kb.addEventListener("message",function(cb){"imageLoaded"===cb.data.action&&cb.data.src===aa&&(ta=cb.data.image,Da=[ta.width,ta.height])})}var sa=
(0,a.derefLayers)(Q.layers),Ta={};kb=[];for(var Wa,Ea=0,ua=sa.length;Ea<ua;++Ea){var V=sa[Ea],W=V.id;if("string"==typeof r&&V.source==r||-1!==r.indexOf(W)){var ca=V["source-layer"];if(!Wa){Wa=V.source;var fa=Q.sources[Wa];if(!fa)throw Error('Source "'+Wa+'" is not defined');fa=fa.type;if("vector"!==fa&&"geojson"!==fa)throw Error('Source "'+Wa+'" is not of type "vector" or "geojson", but "'+fa+'"');}(fa=Ta[ca])||(fa=Ta[ca]=[]);fa.push({layer:V,index:Ea});kb.push(W)}delete R[W];delete ba[W]}var qa=
new q["default"],pa=new y["default"],Ga={},na={},Oa=[];Q=function(cb,Za){var Aa=cb.getProperties(),Fa=Ta[Aa.layer];if(Fa){var Ra=N.indexOf(Za);-1==Ra&&(Ra=(0,p.getZoomForResolution)(Za,N));var ab=L[cb.getGeometry().getType()],lb={properties:Aa,type:ab},Ma=-1,nb,zb=function(lc,kc){var jb=Fa[lc];lc=jb.layer;kc=lc.id;var $b=lc.layout||J,yc=lc.paint||J;if("none"===$b.visibility||"minzoom"in lc&&Ra<lc.minzoom||"maxzoom"in lc&&Ra>=lc.maxzoom)return"continue";var nc=lc.filter;if(!nc||n(kc,nc,lb,Ra)){nb=
lc;var zc=void 0,qc=nc=void 0,Vc=qc=void 0;kc=void 0;jb=jb.index;if(3==ab&&("fill"==lc.type||"fill-extrusion"==lc.type))if(nc=m(lc,"paint",lc.type+"-opacity",Ra,lb),lc.type+"-pattern"in yc){if(qc=m(lc,"paint",lc.type+"-pattern",Ra,lb))if(zc="string"===typeof qc?O(qc,Aa):qc.toString(),ta&&ea&&ea[zc]){++Ma;kc=Oa[Ma];if(!kc||!kc.getFill()||kc.getStroke()||kc.getText())kc=Oa[Ma]=new x["default"]({fill:new y["default"]});qc=kc.getFill();kc.setZIndex(jb);var Uc=zc+"."+nc;Vc=na[Uc];if(!Vc){var Lc=ea[zc],
Fd=(0,p.createCanvas)(Lc.width,Lc.height),fe=Fd.getContext("2d");fe.globalAlpha=nc;fe.drawImage(ta,Lc.x,Lc.y,Lc.width,Lc.height,0,0,Lc.width,Lc.height);Vc=fe.createPattern(Fd,"repeat");na[Uc]=Vc}qc.setColor(Vc)}}else if(zc=F(m(lc,"paint",lc.type+"-color",Ra,lb),nc))lc.type+"-outline-color"in yc&&(Vc=F(m(lc,"paint",lc.type+"-outline-color",Ra,lb),nc)),Vc||(Vc=zc),++Ma,(kc=Oa[Ma])&&kc.getFill()&&kc.getStroke()&&!kc.getText()||(kc=Oa[Ma]=new x["default"]({fill:new y["default"],stroke:new q["default"]})),
qc=kc.getFill(),qc.setColor(zc),qc=kc.getStroke(),qc.setColor(Vc),qc.setWidth(1),kc.setZIndex(jb);if(1!=ab&&"line"==lc.type){zc=!("line-pattern"in yc)&&"line-color"in yc?F(m(lc,"paint","line-color",Ra,lb),m(lc,"paint","line-opacity",Ra,lb)):void 0;var vd=m(lc,"paint","line-width",Ra,lb);if(zc&&0<vd){++Ma;kc=Oa[Ma];if(!kc||!kc.getStroke()||kc.getFill()||kc.getText())kc=Oa[Ma]=new x["default"]({stroke:new q["default"]});qc=kc.getStroke();qc.setLineCap(m(lc,"layout","line-cap",Ra,lb));qc.setLineJoin(m(lc,
"layout","line-join",Ra,lb));qc.setMiterLimit(m(lc,"layout","line-miter-limit",Ra,lb));qc.setColor(zc);qc.setWidth(vd);qc.setLineDash(yc["line-dasharray"]?m(lc,"paint","line-dasharray",Ra,lb).map(function(ac){return ac*vd}):null);kc.setZIndex(jb)}}zc=!1;qc=null;var Sc=0;Vc=Lc=fe=void 0;if((1==ab||2==ab)&&"icon-image"in $b){var Yd=m(lc,"layout","icon-image",Ra,lb);if(Yd&&(fe="string"===typeof Yd?O(Yd,Aa):Yd.toString(),Yd=void 0,ta&&ea&&ea[fe])){Fd=m(lc,"layout","icon-rotation-alignment",Ra,lb);if(2==
ab){var Qb=cb.getGeometry();if(Qb.getFlatMidpoint||Qb.getFlatMidpoints)if(Uc=Qb.getExtent(),150<Math.sqrt(Math.max(Math.pow((Uc[2]-Uc[0])/Za,2),Math.pow((Uc[3]-Uc[1])/Za,2)))){Uc="MultiLineString"===Qb.getType()?Qb.getFlatMidpoints():Qb.getFlatMidpoint();ka||(U=[NaN,NaN],ka=new e["default"]("Point",U,[],{},null));Yd=ka;U[0]=Uc[0];U[1]=Uc[1];var gc=m(lc,"layout","symbol-placement",Ra,lb);if("line"===gc&&"map"===Fd){gc=Qb.getStride();Qb=Qb.getFlatCoordinates();for(var Ib=0,Cc=Qb.length-gc;Ib<Cc;Ib+=
gc){var Wc=Qb[Ib],Gd=Qb[Ib+1],Wd=Qb[Ib+gc],Ja=Qb[Ib+gc+1],eb=Math.min(Gd,Ja),xb=Math.max(Wc,Wd),Jb=Math.max(Gd,Ja);if(Uc[0]>=Math.min(Wc,Wd)&&Uc[0]<=xb&&Uc[1]>=eb&&Uc[1]<=Jb){Sc=Math.atan2(Gd-Ja,Wd-Wc);break}}}}}if(2!==ab||Yd){gc=m(lc,"layout","icon-size",Ra,lb);Qb=void 0!==yc["icon-color"]?m(lc,"paint","icon-color",Ra,lb):null;if(!Qb||0!==Qb.a)if(Uc=fe+"."+gc,null!==Qb&&(Uc+="."+Qb),Lc=Ga[Uc],!Lc)if(Lc=ea[fe],null!==Qb){Fd=(0,p.createCanvas)(Lc.width,Lc.height);fe=Fd.getContext("2d");fe.drawImage(ta,
Lc.x,Lc.y,Lc.width,Lc.height,0,0,Lc.width,Lc.height);Ib=fe.getImageData(0,0,Fd.width,Fd.height);Cc=0;for(Wc=Ib.data.length;Cc<Wc;Cc+=4)Gd=Qb.a,0!==Gd&&(Ib.data[Cc]=255*Qb.r/Gd,Ib.data[Cc+1]=255*Qb.g/Gd,Ib.data[Cc+2]=255*Qb.b/Gd),Ib.data[Cc+3]=Gd;fe.putImageData(Ib,0,0);Lc=Ga[Uc]=new l["default"]({img:Fd,imgSize:[Fd.width,Fd.height],scale:gc/Lc.pixelRatio})}else Lc=Ga[Uc]=new l["default"]({img:ta,imgSize:Da,size:[Lc.width,Lc.height],offset:[Lc.x,Lc.y],rotateWithView:"map"===Fd,scale:gc/Lc.pixelRatio});
if(Lc){++Ma;kc=Oa[Ma];if(!kc||!kc.getImage()||kc.getFill()||kc.getStroke())kc=Oa[Ma]=new x["default"];kc.setGeometry(Yd);Lc.setRotation(Sc+(0,p.deg2rad)(m(lc,"layout","icon-rotate",Ra,lb)));Lc.setOpacity(m(lc,"paint","icon-opacity",Ra,lb));Lc.setAnchor(G[m(lc,"layout","icon-anchor",Ra,lb)]);kc.setImage(Lc);qc=kc.getText();kc.setText(void 0);kc.setZIndex(jb);zc=!0;Vc=!1}}else Vc=!0}}if(1==ab&&"circle-radius"in yc){++Ma;kc=Oa[Ma];if(!kc||!kc.getImage()||kc.getFill()||kc.getStroke())kc=Oa[Ma]=new x["default"];
qc=m(lc,"paint","circle-radius",Ra,lb);zc=F(m(lc,"paint","circle-stroke-color",Ra,lb),m(lc,"paint","circle-stroke-opacity",Ra,lb));yc=F(m(lc,"paint","circle-color",Ra,lb),m(lc,"paint","circle-opacity",Ra,lb));Sc=m(lc,"paint","circle-stroke-width",Ra,lb);Yd=qc+"."+zc+"."+yc+"."+Sc;(Lc=Ga[Yd])||(Lc=Ga[Yd]=new c["default"]({radius:qc,stroke:zc&&0<Sc?new q["default"]({width:Sc,color:zc}):void 0,fill:yc?new y["default"]({color:yc}):void 0}));kc.setImage(Lc);qc=kc.getText();kc.setText(void 0);kc.setGeometry(void 0);
kc.setZIndex(jb);zc=!0}Sc=void 0;"text-field"in $b&&(nc=m(lc,"layout","text-field",Ra,lb).toString(),Sc=O(nc,Aa).trim(),nc=m(lc,"paint","text-opacity",Ra,lb));if(Sc&&nc&&!Vc){if(!zc){++Ma;kc=Oa[Ma];if(!kc||!kc.getText()||kc.getFill()||kc.getStroke())kc=Oa[Ma]=new x["default"];kc.setImage(void 0);kc.setGeometry(void 0)}kc.getText()||kc.setText(qc||new h["default"]({padding:[2,2,2,2]}));qc=kc.getText();yc=Math.round(m(lc,"layout","text-size",Ra,lb));Yd=m(lc,"layout","text-font",Ra,lb);Vc=m(lc,"layout",
"text-line-height",Ra,lb);Yd=(0,f["default"])(va?va(Yd):Yd,yc,Vc);$b=$b["text-transform"];"uppercase"==$b?Sc=Sc.toUpperCase():"lowercase"==$b&&(Sc=Sc.toLowerCase());$b=m(lc,"layout","text-max-width",Ra,lb);Lc=m(lc,"layout","text-letter-spacing",Ra,lb);Uc=2==ab?(0,p.applyLetterSpacing)(Sc,Lc):(0,p.wrapText)(Sc,Yd,$b,Lc);qc.setText(Uc);qc.setFont(Yd);qc.setRotation((0,p.deg2rad)(m(lc,"layout","text-rotate",Ra,lb)));Yd=m(lc,"layout","text-anchor",Ra,lb);gc=zc||1==ab?"point":m(lc,"layout","symbol-placement",
Ra,lb);qc.setPlacement(gc);$b=m(lc,"paint","text-halo-width",Ra,lb);zc=m(lc,"layout","text-offset",Ra,lb);Lc=m(lc,"paint","text-translate",Ra,lb);fe=Fd=0;"point"==gc?(Sc="center",-1!==Yd.indexOf("left")?(Sc="left",fe=$b):-1!==Yd.indexOf("right")&&(Sc="right",fe=-$b),qc.setTextAlign(Sc),Sc=m(lc,"layout","text-rotation-alignment",Ra,lb),qc.setRotateWithView("map"==Sc)):(qc.setMaxAngle((0,p.deg2rad)(m(lc,"layout","text-max-angle",Ra,lb))*Sc.length/Uc.length),qc.setTextAlign(),qc.setRotateWithView(!1));
Sc="middle";0==Yd.indexOf("bottom")?(Sc="bottom",Fd=-$b-.5*(Vc-1)*yc):0==Yd.indexOf("top")&&(Sc="top",Fd=$b+.5*(Vc-1)*yc);qc.setTextBaseline(Sc);qc.setOffsetX(zc[0]*yc+fe+Lc[0]);qc.setOffsetY(zc[1]*yc+Fd+Lc[1]);pa.setColor(F(m(lc,"paint","text-color",Ra,lb),nc));qc.setFill(pa);(nc=F(m(lc,"paint","text-halo-color",Ra,lb),nc))?(qa.setColor(nc),$b*=2,nc=.5*yc,qa.setWidth($b<=nc?$b:nc),qc.setStroke(qa)):qc.setStroke(void 0);lc=m(lc,"layout","text-padding",Ra,lb);nc=qc.getPadding();lc!==nc[0]&&(nc[0]=
nc[1]=nc[2]=nc[3]=lc);kc.setZIndex(jb)}}},Sb=0,vc=Fa.length;for(;Sb<vc;++Sb)zb(Sb,vc);if(-1<Ma)return Oa.length=Ma+1,ja&&("function"===typeof cb.set?cb.set("mapbox-layer",nb):cb.getProperties()["mapbox-layer"]=nb),Oa}};Z.setStyle(Q);Z.set("mapbox-source",Wa);Z.set("mapbox-layers",kb);return Q};E._colorWithOpacity=F;E._evaluateFilter=n;E._fromTemplate=O;E._functionCache=E._filterCache=void 0;var x=g(B(210)),y=g(B(208)),q=g(B(209)),l=g(B(234)),h=g(B(235)),c=g(B(207)),e=g(B(332)),a=B(338),f=g(B(337)),
p=B(339),A=a["function"].isFunction,C=a["function"].convertFunction,D=a.expression.isExpression,P=a.expression.createPropertyExpression,L={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},G={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},z=function(Z,Q){Z=P(Z,Q);if("error"===Z.result)throw Error(Z.value.map(function(r){return r.key+": "+r.message}).join(", "));return Z.value},
J={},K={zoom:0},R={};E._functionCache=R;var U,ka,ba={};E._filterCache=ba;var da=/^([^]*)\{(.*)\}([^]*)$/,ja=!1};
shadow$provide[341]=function(Ha,B,rb,E){(function(){rb.exports={icon:"icons/google.svg",name:"google",title:"Google Fonts",link:"google.com/fonts",getNames:function(){return g},getLink:function(m){return"https://fonts.google.com/specimen/"+m.replace(/( )/g,"+")},normalizeName:function(m){return m}};var g="ABeeZee;Abel;Abril Fatface;Aclonica;Acme;Actor;Adamina;Advent Pro;Aguafina Script;Akronim;Aladin;Aldrich;Alef;Alegreya;Alegreya SC;Alegreya Sans;Alegreya Sans SC;Alex Brush;Alfa Slab One;Alice;Alike;Alike Angular;Allan;Allerta;Allerta Stencil;Allura;Almendra;Almendra Display;Almendra SC;Amarante;Amaranth;Amatic SC;Amethysta;Amiri;Amita;Anaheim;Andada;Andika;Angkor;Annie Use Your Telescope;Anonymous Pro;Antic;Antic Didone;Antic Slab;Anton;Arapey;Arbutus;Arbutus Slab;Architects Daughter;Archivo Black;Archivo Narrow;Arimo;Arizonia;Armata;Artifika;Arvo;Arya;Asap;Asar;Asset;Astloch;Asul;Atomic Age;Aubrey;Audiowide;Autour One;Average;Average Sans;Averia Gruesa Libre;Averia Libre;Averia Sans Libre;Averia Serif Libre;Bad Script;Balthazar;Bangers;Basic;Battambang;Baumans;Bayon;Belgrano;Belleza;BenchNine;Bentham;Berkshire Swash;Bevan;Bigelow Rules;Bigshot One;Bilbo;Bilbo Swash Caps;Biryani;Bitter;Black Ops One;Bokor;Bonbon;Boogaloo;Bowlby One;Bowlby One SC;Brawler;Bree Serif;Bubblegum Sans;Bubbler One;Buda;Buenard;Butcherman;Butterfly Kids;Cabin;Cabin Condensed;Cabin Sketch;Caesar Dressing;Cagliostro;Calligraffitti;Cambay;Cambo;Candal;Cantarell;Cantata One;Cantora One;Capriola;Cardo;Carme;Carrois Gothic;Carrois Gothic SC;Carter One;Catamaran;Caudex;Caveat;Caveat Brush;Cedarville Cursive;Ceviche One;Changa One;Chango;Chau Philomene One;Chela One;Chelsea Market;Chenla;Cherry Cream Soda;Cherry Swash;Chewy;Chicle;Chivo;Chonburi;Cinzel;Cinzel Decorative;Clicker Script;Coda;Coda Caption;Codystar;Combo;Comfortaa;Coming Soon;Concert One;Condiment;Content;Contrail One;Convergence;Cookie;Copse;Corben;Courgette;Cousine;Coustard;Covered By Your Grace;Crafty Girls;Creepster;Crete Round;Crimson Text;Croissant One;Crushed;Cuprum;Cutive;Cutive Mono;Damion;Dancing Script;Dangrek;Dawning of a New Day;Days One;Dekko;Delius;Delius Swash Caps;Delius Unicase;Della Respira;Denk One;Devonshire;Dhurjati;Didact Gothic;Diplomata;Diplomata SC;Domine;Donegal One;Doppio One;Dorsa;Dosis;Dr Sugiyama;Droid Sans;Droid Sans Mono;Droid Serif;Duru Sans;Dynalight;EB Garamond;Eagle Lake;Eater;Economica;Eczar;Ek Mukta;Electrolize;Elsie;Elsie Swash Caps;Emblema One;Emilys Candy;Engagement;Englebert;Enriqueta;Erica One;Esteban;Euphoria Script;Ewert;Exo;Exo 2;Expletus Sans;Fanwood Text;Fascinate;Fascinate Inline;Faster One;Fasthand;Fauna One;Federant;Federo;Felipa;Fenix;Finger Paint;Fira Mono;Fira Sans;Fjalla One;Fjord One;Flamenco;Flavors;Fondamento;Fontdiner Swanky;Forum;Francois One;Freckle Face;Fredericka the Great;Fredoka One;Freehand;Fresca;Frijole;Fruktur;Fugaz One;GFS Didot;GFS Neohellenic;Gabriela;Gafata;Galdeano;Galindo;Gentium Basic;Gentium Book Basic;Geo;Geostar;Geostar Fill;Germania One;Gidugu;Gilda Display;Give You Glory;Glass Antiqua;Glegoo;Gloria Hallelujah;Goblin One;Gochi Hand;Gorditas;Goudy Bookletter 1911;Graduate;Grand Hotel;Gravitas One;Great Vibes;Griffy;Gruppo;Gudea;Gurajada;Habibi;Halant;Hammersmith One;Hanalei;Hanalei Fill;Handlee;Hanuman;Happy Monkey;Headland One;Henny Penny;Herr Von Muellerhoff;Hind;Hind Siliguri;Hind Vadodara;Holtwood One SC;Homemade Apple;Homenaje;IM Fell DW Pica;IM Fell DW Pica SC;IM Fell Double Pica;IM Fell Double Pica SC;IM Fell English;IM Fell English SC;IM Fell French Canon;IM Fell French Canon SC;IM Fell Great Primer;IM Fell Great Primer SC;Iceberg;Iceland;Imprima;Inconsolata;Inder;Indie Flower;Inika;Inknut Antiqua;Irish Grover;Istok Web;Italiana;Italianno;Itim;Jacques Francois;Jacques Francois Shadow;Jaldi;Jim Nightshade;Jockey One;Jolly Lodger;Josefin Sans;Josefin Slab;Joti One;Judson;Julee;Julius Sans One;Junge;Jura;Just Another Hand;Just Me Again Down Here;Kadwa;Kalam;Kameron;Kantumruy;Karla;Karma;Kaushan Script;Kavoon;Kdam Thmor;Keania One;Kelly Slab;Kenia;Khand;Khmer;Khula;Kite One;Knewave;Kotta One;Koulen;Kranky;Kreon;Kristi;Krona One;Kurale;La Belle Aurore;Laila;Lakki Reddy;Lancelot;Lateef;Lato;League Script;Leckerli One;Ledger;Lekton;Lemon;Libre Baskerville;Life Savers;Lilita One;Lily Script One;Limelight;Linden Hill;Lobster;Lobster Two;Londrina Outline;Londrina Shadow;Londrina Sketch;Londrina Solid;Lora;Love Ya Like A Sister;Loved by the King;Lovers Quarrel;Luckiest Guy;Lusitana;Lustria;Macondo;Macondo Swash Caps;Magra;Maiden Orange;Mako;Mallanna;Mandali;Marcellus;Marcellus SC;Marck Script;Margarine;Marko One;Marmelad;Martel;Martel Sans;Marvel;Mate;Mate SC;Maven Pro;McLaren;Meddon;MedievalSharp;Medula One;Megrim;Meie Script;Merienda;Merienda One;Merriweather;Merriweather Sans;Metal;Metal Mania;Metamorphous;Metrophobic;Michroma;Milonga;Miltonian;Miltonian Tattoo;Miniver;Miss Fajardose;Modak;Modern Antiqua;Molengo;Molle;Monda;Monofett;Monoton;Monsieur La Doulaise;Montaga;Montez;Montserrat;Montserrat Alternates;Montserrat Subrayada;Moul;Moulpali;Mountains of Christmas;Mouse Memoirs;Mr Bedfort;Mr Dafoe;Mr De Haviland;Mrs Saint Delafield;Mrs Sheppards;Muli;Mystery Quest;NTR;Neucha;Neuton;New Rocker;News Cycle;Niconne;Nixie One;Nobile;Nokora;Norican;Nosifer;Nothing You Could Do;Noticia Text;Noto Sans;Noto Serif;Nova Cut;Nova Flat;Nova Mono;Nova Oval;Nova Round;Nova Script;Nova Slim;Nova Square;Numans;Nunito;Odor Mean Chey;Offside;Old Standard TT;Oldenburg;Oleo Script;Oleo Script Swash Caps;Open Sans;Open Sans Condensed;Oranienbaum;Orbitron;Oregano;Orienta;Original Surfer;Oswald;Over the Rainbow;Overlock;Overlock SC;Ovo;Oxygen;Oxygen Mono;PT Mono;PT Sans;PT Sans Caption;PT Sans Narrow;PT Serif;PT Serif Caption;Pacifico;Palanquin;Palanquin Dark;Paprika;Parisienne;Passero One;Passion One;Pathway Gothic One;Patrick Hand;Patrick Hand SC;Patua One;Paytone One;Peddana;Peralta;Permanent Marker;Petit Formal Script;Petrona;Philosopher;Piedra;Pinyon Script;Pirata One;Plaster;Play;Playball;Playfair Display;Playfair Display SC;Podkova;Poiret One;Poller One;Poly;Pompiere;Pontano Sans;Poppins;Port Lligat Sans;Port Lligat Slab;Pragati Narrow;Prata;Preahvihear;Press Start 2P;Princess Sofia;Prociono;Prosto One;Puritan;Purple Purse;Quando;Quantico;Quattrocento;Quattrocento Sans;Questrial;Quicksand;Quintessential;Qwigley;Racing Sans One;Radley;Rajdhani;Raleway;Raleway Dots;Ramabhadra;Ramaraja;Rambla;Rammetto One;Ranchers;Rancho;Ranga;Rationale;Ravi Prakash;Redressed;Reenie Beanie;Revalia;Rhodium Libre;Ribeye;Ribeye Marrow;Righteous;Risque;Roboto;Roboto Condensed;Roboto Mono;Roboto Slab;Rochester;Rock Salt;Rokkitt;Romanesco;Ropa Sans;Rosario;Rosarivo;Rouge Script;Rozha One;Rubik;Rubik Mono One;Rubik One;Ruda;Rufina;Ruge Boogie;Ruluko;Rum Raisin;Ruslan Display;Russo One;Ruthie;Rye;Sacramento;Sahitya;Sail;Salsa;Sanchez;Sancreek;Sansita One;Sarala;Sarina;Sarpanch;Satisfy;Scada;Scheherazade;Schoolbell;Seaweed Script;Sevillana;Seymour One;Shadows Into Light;Shadows Into Light Two;Shanti;Share;Share Tech;Share Tech Mono;Shojumaru;Short Stack;Siemreap;Sigmar One;Signika;Signika Negative;Simonetta;Sintony;Sirin Stencil;Six Caps;Skranji;Slabo 13px;Slabo 27px;Slackey;Smokum;Smythe;Sniglet;Snippet;Snowburst One;Sofadi One;Sofia;Sonsie One;Sorts Mill Goudy;Source Code Pro;Source Sans Pro;Source Serif Pro;Special Elite;Spicy Rice;Spinnaker;Spirax;Squada One;Sree Krushnadevaraya;Stalemate;Stalinist One;Stardos Stencil;Stint Ultra Condensed;Stint Ultra Expanded;Stoke;Strait;Sue Ellen Francisco;Sumana;Sunshiney;Supermercado One;Sura;Suranna;Suravaram;Suwannaphum;Swanky and Moo Moo;Syncopate;Tangerine;Taprom;Tauri;Teko;Telex;Tenali Ramakrishna;Tenor Sans;Text Me One;The Girl Next Door;Tienne;Tillana;Timmana;Tinos;Titan One;Titillium Web;Trade Winds;Trocchi;Trochut;Trykker;Tulpen One;Ubuntu;Ubuntu Condensed;Ubuntu Mono;Ultra;Uncial Antiqua;Underdog;Unica One;UnifrakturCook;UnifrakturMaguntia;Unkempt;Unlock;Unna;VT323;Vampiro One;Varela;Varela Round;Vast Shadow;Vesper Libre;Vibur;Vidaloka;Viga;Voces;Volkhov;Vollkorn;Voltaire;Waiting for the Sunrise;Wallpoet;Walter Turncoat;Warnes;Wellfleet;Wendy One;Wire One;Work Sans;Yanone Kaffeesatz;Yantramanav;Yellowtail;Yeseva One;Yesteryear;Zeyada".split(";")}).call(this)};
shadow$provide[342]=function(Ha,B,rb,E){function g(x){return x&&x.__esModule?x:{"default":x}}function m(x){return"string"===typeof x?(x=JSON.parse(x))?x:null:null!==x?x:null}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=g(B(256));var n=g(B(190)),F=B(78),O=function(){var x=function(y,q){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&(l[c]=h[c])};return x(y,q)};return function(y,
q){function l(){this.constructor=y}x(y,q);y.prototype=null===q?Object.create(q):(l.prototype=q.prototype,new l)}}();B=function(x){function y(){return x.call(this)||this}O(y,x);y.prototype.getType=function(){return n["default"].JSON};y.prototype.readFeature=function(q,l){return this.readFeatureFromObject(m(q),this.getReadOptions(q,l))};y.prototype.readFeatures=function(q,l){return this.readFeaturesFromObject(m(q),this.getReadOptions(q,l))};y.prototype.readFeatureFromObject=function(q,l){return(0,F["abstract"])()};
y.prototype.readFeaturesFromObject=function(q,l){return(0,F["abstract"])()};y.prototype.readGeometry=function(q,l){return this.readGeometryFromObject(m(q),this.getReadOptions(q,l))};y.prototype.readGeometryFromObject=function(q,l){return(0,F["abstract"])()};y.prototype.readProjection=function(q){return this.readProjectionFromObject(m(q))};y.prototype.readProjectionFromObject=function(q){return(0,F["abstract"])()};y.prototype.writeFeature=function(q,l){return JSON.stringify(this.writeFeatureObject(q,
l))};y.prototype.writeFeatureObject=function(q,l){return(0,F["abstract"])()};y.prototype.writeFeatures=function(q,l){return JSON.stringify(this.writeFeaturesObject(q,l))};y.prototype.writeFeaturesObject=function(q,l){return(0,F["abstract"])()};y.prototype.writeGeometry=function(q,l){return JSON.stringify(this.writeGeometryObject(q,l))};y.prototype.writeGeometryObject=function(q,l){return(0,F["abstract"])()};return y}(Ha["default"]);E["default"]=B};
shadow$provide[343]=function(Ha,B,rb,E){function g(L){return L&&L.__esModule?L:{"default":L}}function m(L,G){if(!L)return null;switch(L.type){case q["default"].POINT:L=new a["default"](L.coordinates);break;case q["default"].LINE_STRING:L=new l["default"](L.coordinates);break;case q["default"].POLYGON:L=new f["default"](L.coordinates);break;case q["default"].MULTI_POINT:L=new c["default"](L.coordinates);break;case q["default"].MULTI_LINE_STRING:L=new h["default"](L.coordinates);break;case q["default"].MULTI_POLYGON:L=
new e["default"](L.coordinates);break;case q["default"].GEOMETRY_COLLECTION:L=n(L);break;default:throw Error("Unsupported GeoJSON type: "+L.type);}return(0,D.transformGeometryWithOptions)(L,!1,G)}function n(L,G){L=L.geometries.map(function(z){return m(z,G)});return new y["default"](L)}function F(L,G){L=(0,D.transformGeometryWithOptions)(L,!0,G);var z=L.getType();switch(z){case q["default"].POINT:L={type:"Point",coordinates:L.getCoordinates()};break;case q["default"].LINE_STRING:L={type:"LineString",
coordinates:L.getCoordinates()};break;case q["default"].POLYGON:if(G)var J=G.rightHanded;L={type:"Polygon",coordinates:L.getCoordinates(J)};break;case q["default"].MULTI_POINT:L={type:"MultiPoint",coordinates:L.getCoordinates()};break;case q["default"].MULTI_LINE_STRING:L={type:"MultiLineString",coordinates:L.getCoordinates()};break;case q["default"].MULTI_POLYGON:if(G)var K=G.rightHanded;L={type:"MultiPolygon",coordinates:L.getCoordinates(K)};break;case q["default"].GEOMETRY_COLLECTION:L=O(L,G);
break;case q["default"].CIRCLE:L={type:"GeometryCollection",geometries:[]};break;default:throw Error("Unsupported geometry type: "+z);}return L}function O(L,G){return{type:"GeometryCollection",geometries:L.getGeometriesArray().map(function(z){var J=(0,A.assign)({},G);delete J.featureProjection;return F(z,J)})}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var x=g(B(194)),y=g(B(255)),q=g(B(123));Ha=g(B(342));var l=g(B(197)),h=g(B(198)),c=g(B(199)),e=g(B(201)),a=g(B(149)),f=g(B(156)),
p=B(80),A=B(90),C=B(134),D=B(256),P=function(){var L=function(G,z){L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,K){J.__proto__=K}||function(J,K){for(var R in K)Object.prototype.hasOwnProperty.call(K,R)&&(J[R]=K[R])};return L(G,z)};return function(G,z){function J(){this.constructor=G}L(G,z);G.prototype=null===z?Object.create(z):(J.prototype=z.prototype,new J)}}();B=function(L){function G(z){var J=z?z:{};z=L.call(this)||this;z.dataProjection=(0,C.get)(J.dataProjection?J.dataProjection:
"EPSG:4326");J.featureProjection&&(z.defaultFeatureProjection=(0,C.get)(J.featureProjection));z.geometryName_=J.geometryName;z.extractGeometryName_=J.extractGeometryName;return z}P(G,L);G.prototype.readFeatureFromObject=function(z,J){z="Feature"===z.type?z:{type:"Feature",geometry:z,properties:null};J=m(z.geometry,J);var K=new x["default"];this.geometryName_?K.setGeometryName(this.geometryName_):this.extractGeometryName_&&K.setGeometryName(z.geometry_name);K.setGeometry(J);"id"in z&&K.setId(z.id);
z.properties&&K.setProperties(z.properties,!0);return K};G.prototype.readFeaturesFromObject=function(z,J){if("FeatureCollection"===z.type){var K=[];z=z.features;for(var R=0,U=z.length;R<U;++R)K.push(this.readFeatureFromObject(z[R],J))}else K=[this.readFeatureFromObject(z,J)];return K};G.prototype.readGeometryFromObject=function(z,J){return m(z,J)};G.prototype.readProjectionFromObject=function(z){z=z.crs;var J;z?"name"==z.type?J=(0,C.get)(z.properties.name):"EPSG"===z.type?J=(0,C.get)("EPSG:"+z.properties.code):
(0,p.assert)(!1,36):J=this.dataProjection;return J};G.prototype.writeFeatureObject=function(z,J){J=this.adaptOptions(J);var K={type:"Feature",geometry:null,properties:null},R=z.getId();void 0!==R&&(K.id=R);if(!z.hasProperties())return K;R=z.getProperties();var U=z.getGeometry();U&&(K.geometry=F(U,J),delete R[z.getGeometryName()]);(0,A.isEmpty)(R)||(K.properties=R);return K};G.prototype.writeFeaturesObject=function(z,J){J=this.adaptOptions(J);for(var K=[],R=0,U=z.length;R<U;++R)K.push(this.writeFeatureObject(z[R],
J));return{type:"FeatureCollection",features:K}};G.prototype.writeGeometryObject=function(z,J){return F(z,this.adaptOptions(J))};return G}(Ha["default"]);E["default"]=B};
shadow$provide[344]=function(Ha,B,rb,E){function g(){if("function"!==typeof WeakMap)return null;var Ea=new WeakMap;g=function(){return Ea};return Ea}function m(Ea){return Ea&&Ea.__esModule?Ea:{"default":Ea}}function n(Ea){n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(ua){return typeof ua}:function(ua){return ua&&"function"===typeof Symbol&&ua.constructor===Symbol&&ua!==Symbol.prototype?"symbol":typeof ua};return n(Ea)}function F(Ea){if(!Da){Da={};for(var ua=document.styleSheets,
V=0,W=ua.length;V<W;++V){var ca=ua[V];try{var fa=ca.rules||ca.cssRules;if(fa){ca=0;for(var qa=fa.length;ca<qa;++ca){var pa=fa[ca];if(5==pa.type){var Ga=pa.cssText.match(va);Da[Ga[1].replace(ta,"")]=!0}}}}catch(na){}}}return Ea in Da}function O(Ea){var ua=Ea.toString();if(ua in $a)return Ea;for(var V=Ea.map(function(pa){pa=(0,P["default"])(pa,1).split(" ");return[pa.slice(3).join(" ").replace(/"/g,""),pa[1]+pa[0]]}),W=0,ca=V.length;W<ca;++W){var fa=V[W],qa=fa[0];F(qa)||-1===kb.indexOf(qa)||(fa="https://fonts.googleapis.com/css?family\x3d"+
qa.replace(/ /g,"+")+":"+fa[1],document.querySelector('link[href\x3d"'+fa+'"]')||(qa=document.createElement("link"),qa.href=fa,qa.rel="stylesheet",document.head.appendChild(qa)))}$a[ua]=!0;return Ea}function x(Ea,ua){ua&&0===Ea.indexOf(".")&&(Ea=ua+Ea);return Ea}function y(Ea,ua,V){Ea=x(Ea,ua);return(ua=Ea.match(sa))?ua[1]+V+(2<ua.length?ua[2]:""):Ea+V}function q(Ea,ua,V,W,ca){return new Promise(function(fa,qa){function pa(){Oa||ua.sprite&&!Ga?Oa?(Ea.setStyle(Oa),fa()):qa(Error("Something went wrong trying to apply style.")):
(Oa=(0,L["default"])(Ea,ua,V,ca,Ga,na,O),Ea.getStyle()?fa():qa(Error("Nothing to show for source ["+V+"]")))}"object"!=n(ua)&&(ua=JSON.parse(ua));if(8!=ua.version)return qa(Error("glStyle version 8 required."));if(!(Ea instanceof da["default"]||Ea instanceof ja["default"]))return qa(Error("Can only apply to VectorLayer or VectorTileLayer"));var Ga,na,Oa;if(ua.sprite){var cb=1.5<=window.devicePixelRatio?.5:1;var Za=.5==cb?"@2x":"",Aa=y(ua.sprite,W,Za+".json");fetch(Aa,{credentials:"same-origin"}).then(function(Fa){if(Fa.ok||
""===Za)return Fa;Aa=y(ua.sprite,W,".json");return fetch(Aa,{credentials:"same-origin"})}).then(function(Fa){if(Fa.ok)return Fa.json();qa(Error("Problem fetching sprite from "+Aa+": "+Fa.statusText))}).then(function(Fa){if(void 0===Fa)return qa(Error("No sprites found."));Ga=Fa;na=y(ua.sprite,W,Za+".png");pa()})["catch"](function(Fa){qa(Error("Sprites cannot be loaded: "+Aa+": "+Fa.message))})}else pa()})}function l(Ea,ua){function V(){var ca=Ea.getTargetElement();if(ca){var fa=ua.layout||{},qa=ua.paint||
{};W.paint=qa;W.id="olms-bg-"+qa["background-opacity"]+qa["background-color"];var pa=Ea.getView().getZoom();if(void 0!==qa["background-color"]){var Ga=(0,L.getValue)(W,"paint","background-color",pa,Ta);ca.style.background=N.Color.parse(Ga).toString()}void 0!==qa["background-opacity"]&&(ca.style.opacity=(0,L.getValue)(W,"paint","background-opacity",pa,Ta));"none"==fa.visibility&&(ca.style.backgroundColor="",ca.style.opacity="")}}var W={type:ua.type};Ea.getTargetElement()&&V();Ea.on(["change:resolution",
"change:target"],V)}function h(Ea,ua){var V;Ea.some(function(W){if(W.id==ua)return V=W.source,!0});return V}function c(Ea){var ua=Ea.bounds;if(ua)return Ea=(0,G.fromLonLat)([ua[0],ua[1]]),ua=(0,G.fromLonLat)([ua[2],ua[3]]),[Ea[0],Ea[1],ua[0],ua[1]]}function e(Ea,ua,V){Ea=(0,ea.assign)({},Ea);var W=new ja["default"]({declutter:!0,visible:!1});ua=JSON.stringify(Ea);var ca=aa[ua];ca||(ca=aa[ua]=new Z["default"]({url:Ea.tiles?void 0:V,tileJSON:Ea.tiles?Ea:void 0}));var fa=ca.on("change",function(){var qa=
ca.getState();if("ready"===qa){var pa=ca.getTileJSON();qa=Array.isArray(pa.tiles)?pa.tiles:[pa.tiles];if(V)for(var Ga=0,na=qa.length;Ga<na;++Ga){var Oa=qa[Ga];0!=Oa.indexOf("http")&&(qa[Ga]=V.replace(/\/?$/,"/")+Oa.replace(/^\//,""))}Ga=ca.getTileGrid();na=c(pa);Oa=pa.minzoom||0;pa=pa.maxzoom||22;var cb=ca.get("ol-source");void 0===cb&&(cb=new r["default"]({attributions:ca.getAttributions(),format:new U["default"],tileGrid:new J["default"]({origin:Ga.getOrigin(0),extent:na||Ga.getExtent(),minZoom:Oa,
resolutions:ea.defaultResolutions.slice(0,pa+1),tileSize:512}),urls:qa}),ca.set("ol-source",cb));(0,ka.unByKey)(fa);W.setSource(cb)}else"error"===qa&&(ca.set("ol-source",null),(0,ka.unByKey)(fa),W.setSource(void 0))});"ready"===ca.getState()&&ca.changed();return W}function a(Ea,ua){var V=new ba["default"],W=new Z["default"]({transition:0,url:Ea.tiles?void 0:ua,tileJSON:Ea.tiles?Ea:void 0,crossOrigin:"anonymous"}),ca=W.on("change",function(){var fa=W.getState();if("ready"===fa){(0,ka.unByKey)(ca);
var qa=W.getTileJSON();fa=c(qa);var pa=W.getTileGrid(),Ga=Ea.tileSize||qa.tileSize||512,na=qa.minzoom||0;qa=qa.maxzoom||22;W.tileGrid=new J["default"]({origin:pa.getOrigin(0),extent:fa||pa.getExtent(),minZoom:na,resolutions:(0,z.createXYZ)({maxZoom:qa,tileSize:Ga}).getResolutions(),tileSize:Ga});V.setSource(W)}else"error"===fa&&((0,ka.unByKey)(ca),V.setSource(void 0))});W.setTileLoadFunction(function(fa,qa){if(-1!=qa.indexOf("{bbox-epsg-3857}")){var pa=W.getTileGrid().getTileCoordExtent(fa.getTileCoord());
qa=qa.replace("{bbox-epsg-3857}",pa.toString())}fa.getImage().src=qa});return V}function f(Ea,ua){var V=Ea.data,W,ca;"string"==typeof V?ca=x(V,ua):W=Wa.readFeatures(V,{featureProjection:"EPSG:3857"});return new da["default"]({source:new Q["default"]({attributions:Ea.attribution,features:W,format:Wa,url:ca}),visible:!1})}function p(Ea,ua,V){V=V.getZoom();Ea=(0,L.getValue)(Ea,"paint","raster-opacity",V,Ta);ua.setOpacity(Ea)}function A(Ea,ua,V,W,ca,fa){void 0===fa&&(fa="");var qa=[],pa=ua.getView();
pa.isDef()||pa.getRotation()||pa.getResolutions()||(pa=new R["default"]({maxResolution:ea.defaultResolutions[0]}),ua.setView(pa));"center"in Ea&&!pa.getCenter()&&pa.setCenter((0,G.fromLonLat)(Ea.center));"zoom"in Ea&&void 0===pa.getZoom()&&pa.setResolution(ea.defaultResolutions[0]/Math.pow(2,Ea.zoom));pa.getCenter()&&void 0!==pa.getZoom()||pa.fit(pa.getProjection().getExtent(),{nearest:!0,size:ua.getSize()});Ea.sprite&&(0==Ea.sprite.indexOf("mapbox://")?Ea.sprite=V+"/sprite"+fa:0!=Ea.sprite.indexOf("http")&&
(Ea.sprite=(W?W+ca:"")+Ea.sprite+fa));var Ga=Ea.layers,na=[],Oa,cb,Za,Aa,Fa,Ra;V=function(nb,zb){Oa=Ga[nb];nb=Oa.type;if("heatmap"!=nb&&"hillshade"!=nb)if("background"==nb)l(ua,Oa);else{Aa=Oa.source||h(Ga,Oa.ref);if(Aa!=Za){na.length&&(qa.push(D(Fa,na,Ea,ca,ua)),na=[]);cb=Ea.sources[Aa];if(Ra=cb.url)if(Ra=x(Ra,ca),0==Ra.indexOf("mapbox://")){var Sb=Ra.replace("mapbox://","");cb.tiles=["a","b","c","d"].map(function(vc){return"https://"+vc+".tiles.mapbox.com/v4/"+Sb+"/{z}/{x}/{y}."+("vector"==cb.type?
"vector.pbf":"png")+fa})}else 0===Ra.indexOf("/")&&0===W.indexOf("http")&&(Ra=W+Ra);"vector"==cb.type?Fa=e(cb,fa,Ra):"raster"==cb.type?(Fa=a(cb,Ra),Fa.setVisible(Oa.layout?"none"!==Oa.layout.visibility:!0),pa.on("change:resolution",p.bind(ab,Oa,Fa,pa)),p(Oa,Fa,pa)):"geojson"==cb.type&&(Fa=f(cb,ca));Za=Aa;Fa&&Fa.set("mapbox-source",Za)}na.push(Oa.id)}};for(var ab=this,lb=0,Ma=Ga.length;lb<Ma;++lb)V(lb,Ma);qa.push(D(Fa,na,Ea,ca,ua));ua.set("mapbox-style",Ea);return Promise.all(qa)}function C(Ea,ua){var V,
W,ca,fa;var qa=V=W=ca="";if("string"===typeof Ea||Ea instanceof HTMLElement)Ea=new K["default"]({target:Ea});if("string"===typeof ua){if(fa=ua.match(sa))V=fa[1],qa=2<fa.length?fa[2]:"";fa=new Promise(function(pa,Ga){fetch(ua,{credentials:"same-origin"}).then(function(na){return na.json()}).then(function(na){var Oa=document.createElement("A");Oa.href=ua;var cb=Oa.href;ca=Oa.pathname.split("/").slice(0,-1).join("/")+"/";W=cb.substr(0,cb.indexOf(ca));A(na,Ea,V,W,ca,qa).then(function(){pa(Ea)})["catch"](Ga)})["catch"](function(na){Ga(Error("Could not load "+
ua+": "+na.message))})})}else fa=new Promise(function(pa,Ga){A(ua,Ea).then(function(){pa(Ea)})["catch"](Ga)});return fa}function D(Ea,ua,V,W,ca){for(var fa=24,qa=0,pa=V.layers,Ga=0,na=pa.length;Ga<na;++Ga){var Oa=pa[Ga];-1!==ua.indexOf(Oa.id)&&(fa=Math.min("minzoom"in Oa?Oa.minzoom:0,fa),qa=Math.max("maxzoom"in Oa?Oa.maxzoom:24,qa))}return new Promise(function(cb,Za){var Aa=function(){var Fa=Ea.getSource();if(Fa&&"error"!==Fa.getState()){if("function"===typeof Fa.getTileGrid){var Ra=Fa.getTileGrid();
if(Ra){var ab=Ra.getMinZoom();(0<fa||0<ab)&&Ea.setMaxResolution(Math.min(ea.defaultResolutions[fa],Ra.getResolution(ab))+1E-9);24>qa&&Ea.setMinResolution(ea.defaultResolutions[qa]+1E-9)}}Fa instanceof Q["default"]||Fa instanceof r["default"]?q(Ea,V,ua,W).then(function(){Ea.setVisible(!0);cb()},function(lb){Za(lb)}):cb()}else Za(Error("Error accessing data for source "+Ea.get("mapbox-source")))};Ea.set("mapbox-layers",ua);-1===ca.getLayers().getArray().indexOf(Ea)&&ca.addLayer(Ea);if(Ea.getSource())Aa();
else Ea.once("change:source",Aa)})}Object.defineProperty(E,"__esModule",{value:!0});E.applyStyle=q;E.applyBackground=function(Ea,ua){ua.layers.some(function(V){if("background"==V.type)return l(Ea,V),!0})};E["default"]=C;E.apply=function(Ea,ua){if("string"===typeof Ea||Ea instanceof HTMLElement)Ea=new K["default"]({target:Ea});setTimeout(function(){C(Ea,ua)},0);return Ea};E.getLayer=function(Ea,ua){Ea=Ea.getLayers().getArray();for(var V=0,W=Ea.length;V<W;++V){var ca=Ea[V].get("mapbox-layers");if(ca&&
-1!==ca.indexOf(ua))return Ea[V]}};E.getLayers=function(Ea,ua){var V=[];Ea=Ea.getLayers().getArray();for(var W=0,ca=Ea.length;W<ca;++W)Ea[W].get("mapbox-source")===ua&&V.push(Ea[W]);return V};E.getSource=function(Ea,ua){Ea=Ea.getLayers().getArray();for(var V=0,W=Ea.length;V<W;++V){var ca=Ea[V].getSource();if(Ea[V].get("mapbox-source")===ua)return ca}};E._finalizeLayer=D;E._getFonts=O;var P=m(B(337)),L=function(Ea){if(Ea&&Ea.__esModule)return Ea;if(null===Ea||"object"!==n(Ea)&&"function"!==typeof Ea)return{"default":Ea};
var ua=g();if(ua&&ua.has(Ea))return ua.get(Ea);var V={},W=Object.defineProperty&&Object.getOwnPropertyDescriptor,ca;for(ca in Ea)if(Object.prototype.hasOwnProperty.call(Ea,ca)){var fa=W?Object.getOwnPropertyDescriptor(Ea,ca):null;fa&&(fa.get||fa.set)?Object.defineProperty(V,ca,fa):V[ca]=Ea[ca]}V["default"]=Ea;ua&&ua.set(Ea,V);return V}(B(340));Ha=m(B(341));var G=B(134),z=B(272),J=m(B(271)),K=m(B(254)),R=m(B(157));rb=m(B(343));var U=m(B(333)),ka=B(94),ba=m(B(302)),da=m(B(240)),ja=m(B(336)),Z=m(B(307)),
Q=m(B(246)),r=m(B(312)),N=B(338),ea=B(339),aa={},va=/font-family: ?([^;]*);/,ta=/("|')/g,Da,$a={},kb=Ha["default"].getNames(),sa=/^(.*)(\?.*)$/,Ta={},Wa=new rb["default"]};
shadow$provide[345]=function(Ha,B,rb,E){function g(p){return p&&p.__esModule?p:{"default":p}}function m(p){return 0!==p.indexOf("mapbox://")?"":p.slice(9)}function n(p,A){var C=m(p);if(!C)return p;if(0!==C.indexOf("sprites/"))throw Error("unexpected sprites url: "+p);p=C.slice(8);return a+"/styles/v1/"+p+"/sprite?access_token\x3d"+A}function F(p,A){var C=m(p);if(!C)return p;if(0!==C.indexOf("fonts/"))throw Error("unexpected fonts url: "+p);p=C.slice(6);return a+"/fonts/v1/"+p+"/0-255.pbf?access_token\x3d"+
A}function O(p,A){var C=m(p);if(!C)return p;if(0!==C.indexOf("styles/"))throw Error("unexpected style url: "+p);p=C.slice(7);return a+"/styles/v1/"+p+"?\x26access_token\x3d"+A}function x(p,A){var C=m(p);return C?"https://{a-d}.tiles.mapbox.com/v4/"+C+"/{z}/{x}/{y}.vector.pbf?access_token\x3d"+A:p}Object.defineProperty(E,"__esModule",{value:!0});E.getMapboxPath=m;E.normalizeSpriteUrl=n;E.normalizeGlyphsUrl=F;E.normalizeStyleUrl=O;E.normalizeSourceUrl=x;E["default"]=void 0;Ha=g(B(88));var y=g(B(92)),
q=g(B(333)),l=g(B(99));rb=g(B(336));var h=g(B(312)),c=B(344),e=function(){var p=function(A,C){p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,P){D.__proto__=P}||function(D,P){for(var L in P)Object.prototype.hasOwnProperty.call(P,L)&&(D[L]=P[L])};return p(A,C)};return function(A,C){function D(){this.constructor=A}p(A,C);A.prototype=null===C?Object.create(C):(D.prototype=C.prototype,new D)}}(),a="https://api.mapbox.com",f=function(p){function A(C){var D=p.call(this,y["default"].ERROR)||
this;D.error=C;return D}e(A,p);return A}(Ha["default"]);B=function(p){function A(C){var D="declutter"in C?C.declutter:!0;var P=new h["default"]({state:l["default"].LOADING,format:new q["default"]});D=p.call(this,{source:P,declutter:D,className:C.className,opacity:C.opacity,visible:C.visible,zIndex:C.zIndex,minResolution:C.minResolution,maxResolution:C.maxResolution,minZoom:C.minZoom,maxZoom:C.maxZoom,renderOrder:C.renderOrder,renderBuffer:C.renderBuffer,renderMode:C.renderMode,map:C.map,updateWhileAnimating:C.updateWhileAnimating,
updateWhileInteracting:C.updateWhileInteracting,preload:C.preload,useInterimTilesOnError:C.useInterimTilesOnError})||this;D.sourceId=C.source;D.layers=C.layers;D.accessToken=C.accessToken;D.fetchStyle(C.styleUrl);return D}e(A,p);A.prototype.fetchStyle=function(C){var D=this;C=O(C,this.accessToken);fetch(C).then(function(P){if(!P.ok)throw Error("unexpected response when fetching style: "+P.status);return P.json()}).then(function(P){D.onStyleLoad(P)})["catch"](function(P){D.handleError(P)})};A.prototype.onStyleLoad=
function(C){var D=this,P;if(this.layers){var L={};for(P=0;P<C.layers.length;++P){var G=C.layers[P];G.source&&(L[G.id]=G.source)}G=void 0;for(P=0;P<this.layers.length;++P){var z=L[this.layers[P]];if(!z){this.handleError(Error("could not find source for "+this.layers[P]));return}if(!G)G=z;else if(G!==z){this.handleError(Error("layers can only use a single source, found "+G+" and "+z));return}}P=G;L=this.layers}else L=P=this.sourceId;L||(L=P=Object.keys(C.sources)[0]);C.sprite&&(C.sprite=n(C.sprite,
this.accessToken));C.glyphs&&(C.glyphs=F(C.glyphs,this.accessToken));P=C.sources[P];if("vector"!==P.type)this.handleError(Error("only works for vector sources, found "+P.type));else{var J=this.getSource();J.setUrl(x(P.url,this.accessToken));(0,c.applyStyle)(this,C,L).then(function(){J.setState(l["default"].READY)})["catch"](function(K){D.handleError(K)})}};A.prototype.handleError=function(C){this.dispatchEvent(new f(C));this.getSource().setState(l["default"].ERROR)};return A}(rb["default"]);E["default"]=
B};
shadow$provide[346]=function(Ha,B,rb,E){function g(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=g(B(297));var m=g(B(239)),n=g(B(92)),F=g(B(289)),O=g(B(203)),x=g(B(202)),y=g(B(125)),q=B(81),l=B(90),h=B(84),c=function(){var e=function(a,f){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,A){p.__proto__=A}||function(p,A){for(var C in A)Object.prototype.hasOwnProperty.call(A,C)&&(p[C]=A[C])};return e(a,f)};return function(a,
f){function p(){this.constructor=a}e(a,f);a.prototype=null===f?Object.create(f):(p.prototype=f.prototype,new p)}}();B=function(e){function a(f){var p=e.call(this,f)||this;p.vectorRenderer_=new m["default"](f);p.layerImageRatio_=f.getImageRatio();p.coordinateToVectorPixelTransform_=(0,q.create)();p.renderedPixelToCoordinateTransform_=null;return p}c(a,e);a.prototype.disposeInternal=function(){this.vectorRenderer_.dispose();e.prototype.disposeInternal.call(this)};a.prototype.getFeatures=function(f){return this.vectorRenderer_?
(f=(0,q.apply)(this.coordinateToVectorPixelTransform_,(0,q.apply)(this.renderedPixelToCoordinateTransform_,f.slice())),this.vectorRenderer_.getFeatures(f)):new Promise(function(p,A){p([])})};a.prototype.handleFontsChanged=function(){this.vectorRenderer_.handleFontsChanged()};a.prototype.prepareFrame=function(f){var p=f.pixelRatio,A=f.viewState,C=A.resolution,D=f.viewHints,P=this.vectorRenderer_,L=f.extent;1!==this.layerImageRatio_&&(L=L.slice(0),(0,h.scaleFromCenter)(L,this.layerImageRatio_));var G=
(0,h.getWidth)(L)/C,z=(0,h.getHeight)(L)/C;if(!D[y["default"].ANIMATING]&&!D[y["default"].INTERACTING]&&!(0,h.isEmpty)(L)){P.useContainer(null,null,1);D=P.context;var J=(0,l.assign)({},f,{declutterTree:new x["default"](9),extent:L,size:[G,z],viewState:(0,l.assign)({},f.viewState,{rotation:0})}),K=new F["default"](L,C,p,D.canvas,function(R){P.prepareFrame(J)&&P.replayGroupChanged&&(P.clipping=!1,P.renderFrame(J,null),P.renderDeclutter(J),R())});K.addEventListener(n["default"].CHANGE,function(){if(K.getState()===
O["default"].LOADED){this.image_=K;var R=K.getResolution(),U=K.getPixelRatio();this.renderedResolution=R=R*p/U;this.coordinateToVectorPixelTransform_=(0,q.compose)(this.coordinateToVectorPixelTransform_,G/2,z/2,1/R,-1/R,0,-A.center[0],-A.center[1])}}.bind(this));K.load()}this.image_&&(this.renderedPixelToCoordinateTransform_=f.pixelToCoordinateTransform.slice());return!!this.image_};a.prototype.preRender=function(){};a.prototype.postRender=function(){};a.prototype.renderDeclutter=function(){};a.prototype.forEachFeatureAtCoordinate=
function(f,p,A,C,D){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(f,p,A,C,D):e.prototype.forEachFeatureAtCoordinate.call(this,f,p,A,C,D)};return a}(Ha["default"]);E["default"]=B};
shadow$provide[347]=function(Ha,B,rb,E){function g(O){return O&&O.__esModule?O:{"default":O}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=g(B(211));var m=g(B(346)),n=B(90),F=function(){var O=function(x,y){O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,l){q.__proto__=l}||function(q,l){for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(q[h]=l[h])};return O(x,y)};return function(x,y){function q(){this.constructor=x}O(x,y);x.prototype=null===y?Object.create(y):
(q.prototype=y.prototype,new q)}}();B=function(O){function x(y){y=y?y:{};var q=(0,n.assign)({},y);delete q.imageRatio;q=O.call(this,q)||this;q.imageRatio_=void 0!==y.imageRatio?y.imageRatio:1;return q}F(x,O);x.prototype.getImageRatio=function(){return this.imageRatio_};x.prototype.createRenderer=function(){return new m["default"](this)};return x}(Ha["default"]);E["default"]=B};
shadow$provide[348]=function(Ha,B,rb,E){function g(z){if("number"===typeof z)return L.NUMBER;if("boolean"===typeof z)return L.BOOLEAN;if("string"===typeof z)return(0,P.isStringColor)(z)?L.COLOR|L.STRING:L.STRING;if(!Array.isArray(z))throw Error("Unhandled value type: "+JSON.stringify(z));if(z.every(function(K){return"number"===typeof K}))return 3===z.length||4===z.length?L.COLOR|L.NUMBER_ARRAY:L.NUMBER_ARRAY;if("string"!==typeof z[0])throw Error("Expected an expression operator but received: "+JSON.stringify(z));
var J=G[z[0]];if(void 0===J)throw Error("Unrecognized expression operator: "+JSON.stringify(z));return J.getReturnType(z.slice(1))}function m(z){return 0===Math.log2(z)%1}function n(z){z=z.toString();return-1===z.indexOf(".")?z+".0":z}function F(z){if(2>z.length||4<z.length)throw Error("`formatArray` can only output `vec2`, `vec3` or `vec4` arrays.");return"vec"+z.length+"("+z.map(n).join(", ")+")"}function O(z){z=(0,P.asArray)(z).slice();4>z.length&&z.push(1);return F(z.map(function(J,K){return 3>
K?J/255:J}))}function x(z,J){void 0===z.stringLiteralsMap[J]&&(z.stringLiteralsMap[J]=Object.keys(z.stringLiteralsMap).length);return z.stringLiteralsMap[J]}function y(z,J){return n(x(z,J))}function q(z,J,K){if(Array.isArray(J)&&"string"===typeof J[0]){var R=G[J[0]];if(void 0===R)throw Error("Unrecognized expression operator: "+JSON.stringify(J));return R.toGlsl(z,J.slice(1),K)}R=g(J);if(0<(R&L.NUMBER))return n(J);if(0<(R&L.BOOLEAN))return J.toString();if(0<(R&L.STRING)&&(void 0===K||K==L.STRING))return y(z,
J.toString());if(0<(R&L.COLOR)&&(void 0===K||K==L.COLOR))return O(J);if(0<(R&L.NUMBER_ARRAY))return F(J)}function l(z){for(var J=0;J<z.length;J++){var K=z[J];if(!(g(K)&L.NUMBER))throw Error("A numeric value was expected, got "+JSON.stringify(K)+" instead");}}function h(z){if(!(g(z)&L.STRING))throw Error("A string value was expected, got "+JSON.stringify(z)+" instead");}function c(z){if(!(g(z)&L.BOOLEAN))throw Error("A boolean value was expected, got "+JSON.stringify(z)+" instead");}function e(z,J){if(z.length!==
J)throw Error("Exactly "+J+" arguments were expected, got "+z.length+" instead");}function a(z,J){if(z.length<J)throw Error("At least "+J+" arguments were expected, got "+z.length+" instead");}function f(z,J){if(z.length>J)throw Error("At most "+J+" arguments were expected, got "+z.length+" instead");}function p(z){if(0!==z.length%2)throw Error("An even amount of arguments was expected, got "+z+" instead");}function A(z,J){if(!m(J))throw Error("Could not infer only one type from the following expression: "+
JSON.stringify(z));}function C(z){return{getReturnType:function(J){return L.BOOLEAN},toGlsl:function(J,K){e(K,2);for(var R=L.ANY,U=0;U<K.length;U++)R&=g(K[U]);if(0===R)throw Error("All arguments should be of compatible type, got "+JSON.stringify(K)+" instead");return"("+q(J,K[0],R)+" "+z+" "+q(J,K[1],R)+")"}}}function D(z){return{getReturnType:function(J){return L.BOOLEAN},toGlsl:function(J,K){a(K,2);for(var R=0;R<K.length;R++)c(K[R]);R="";R=K.map(function(U){return q(J,U)}).join(" "+z+" ");return"("+
R+")"}}}Object.defineProperty(E,"__esModule",{value:!0});E.getValueType=g;E.isTypeUnique=m;E.numberToGlsl=n;E.arrayToGlsl=F;E.colorToGlsl=O;E.getStringNumberEquivalent=x;E.stringToGlsl=y;E.expressionToGlsl=q;E.Operators=E.ValueTypes=void 0;var P=B(86),L={NUMBER:1,STRING:2,COLOR:4,BOOLEAN:8,NUMBER_ARRAY:16,ANY:31,NONE:0};E.ValueTypes=L;var G={};E.Operators=G;G.get={getReturnType:function(z){return L.ANY},toGlsl:function(z,J){e(J,1);h(J[0]);J=J[0].toString();-1===z.attributes.indexOf(J)&&z.attributes.push(J);
return(z.inFragmentShader?"v_":"a_")+J}};G["var"]={getReturnType:function(z){return L.ANY},toGlsl:function(z,J){e(J,1);h(J[0]);J=J[0].toString();-1===z.variables.indexOf(J)&&z.variables.push(J);return"u_"+J}};G.time={getReturnType:function(z){return L.NUMBER},toGlsl:function(z,J){e(J,0);return"u_time"}};G.zoom={getReturnType:function(z){return L.NUMBER},toGlsl:function(z,J){e(J,0);return"u_zoom"}};G.resolution={getReturnType:function(z){return L.NUMBER},toGlsl:function(z,J){e(J,0);return"u_resolution"}};
G["*"]={getReturnType:function(z){return L.NUMBER},toGlsl:function(z,J){e(J,2);l(J);return"("+q(z,J[0])+" * "+q(z,J[1])+")"}};G["/"]={getReturnType:function(z){return L.NUMBER},toGlsl:function(z,J){e(J,2);l(J);return"("+q(z,J[0])+" / "+q(z,J[1])+")"}};G["+"]={getReturnType:function(z){return L.NUMBER},toGlsl:function(z,J){e(J,2);l(J);return"("+q(z,J[0])+" + "+q(z,J[1])+")"}};G["-"]={getReturnType:function(z){return L.NUMBER},toGlsl:function(z,J){e(J,2);l(J);return"("+q(z,J[0])+" - "+q(z,J[1])+")"}};
G.clamp={getReturnType:function(z){return L.NUMBER},toGlsl:function(z,J){e(J,3);l(J);var K=q(z,J[1]),R=q(z,J[2]);return"clamp("+q(z,J[0])+", "+K+", "+R+")"}};G["%"]={getReturnType:function(z){return L.NUMBER},toGlsl:function(z,J){e(J,2);l(J);return"mod("+q(z,J[0])+", "+q(z,J[1])+")"}};G["^"]={getReturnType:function(z){return L.NUMBER},toGlsl:function(z,J){e(J,2);l(J);return"pow("+q(z,J[0])+", "+q(z,J[1])+")"}};G["\x3e"]={getReturnType:function(z){return L.BOOLEAN},toGlsl:function(z,J){e(J,2);l(J);
return"("+q(z,J[0])+" \x3e "+q(z,J[1])+")"}};G["\x3e\x3d"]={getReturnType:function(z){return L.BOOLEAN},toGlsl:function(z,J){e(J,2);l(J);return"("+q(z,J[0])+" \x3e\x3d "+q(z,J[1])+")"}};G["\x3c"]={getReturnType:function(z){return L.BOOLEAN},toGlsl:function(z,J){e(J,2);l(J);return"("+q(z,J[0])+" \x3c "+q(z,J[1])+")"}};G["\x3c\x3d"]={getReturnType:function(z){return L.BOOLEAN},toGlsl:function(z,J){e(J,2);l(J);return"("+q(z,J[0])+" \x3c\x3d "+q(z,J[1])+")"}};G["\x3d\x3d"]=C("\x3d\x3d");G["!\x3d"]=C("!\x3d");
G["!"]={getReturnType:function(z){return L.BOOLEAN},toGlsl:function(z,J){e(J,1);c(J[0]);return"(!"+q(z,J[0])+")"}};G.all=D("\x26\x26");G.any=D("||");G.between={getReturnType:function(z){return L.BOOLEAN},toGlsl:function(z,J){e(J,3);l(J);var K=q(z,J[1]),R=q(z,J[2]);z=q(z,J[0]);return"("+z+" \x3e\x3d "+K+" \x26\x26 "+z+" \x3c\x3d "+R+")"}};G.array={getReturnType:function(z){return L.NUMBER_ARRAY},toGlsl:function(z,J){a(J,2);f(J,4);l(J);var K=J.map(function(R){return q(z,R,L.NUMBER)});return"vec"+J.length+
"("+K.join(", ")+")"}};G.color={getReturnType:function(z){return L.COLOR},toGlsl:function(z,J){a(J,3);f(J,4);l(J);3===J.length&&J.push(1);var K=J.map(function(R,U){return q(z,R,L.NUMBER)+(3>U?" / 255.0":"")});return"vec"+J.length+"("+K.join(", ")+")"}};G.interpolate={getReturnType:function(z){for(var J=L.COLOR|L.NUMBER,K=3;K<z.length;K+=2)J&=g(z[K]);return J},toGlsl:function(z,J,K){p(J);a(J,6);var R=J[0];switch(R[0]){case "linear":var U=1;break;case "exponential":U=R[1];break;default:U=null}if(!U)throw Error('Invalid interpolation type for "interpolate" operator, received: '+
JSON.stringify(R));K=void 0!==K?K:L.ANY;K&=G.interpolate.getReturnType(J);A(J,K);R=q(z,J[1]);for(var ka=null,ba=2;ba<J.length-2;ba+=2){var da=q(z,J[ba]),ja=q(z,J[ba+1],K),Z=q(z,J[ba+2]),Q=q(z,J[ba+3],K);ka="mix("+(ka||ja)+", "+Q+", pow(clamp(("+R+" - "+da+") / ("+Z+" - "+da+"), 0.0, 1.0), "+n(U)+"))"}return ka}};G.match={getReturnType:function(z){for(var J=L.ANY,K=2;K<z.length;K+=2)J&=g(z[K]);return J&=g(z[z.length-1])},toGlsl:function(z,J,K){p(J);a(J,4);K=void 0!==K?K:L.ANY;K&=G.match.getReturnType(J);
A(J,K);for(var R=q(z,J[0]),U=q(z,J[J.length-1],K),ka=null,ba=J.length-3;1<=ba;ba-=2){var da=q(z,J[ba]),ja=q(z,J[ba+1],K);ka="("+R+" \x3d\x3d "+da+" ? "+ja+" : "+(ka||U)+")"}return ka}};G["case"]={getReturnType:function(z){for(var J=L.ANY,K=1;K<z.length;K+=2)J&=g(z[K]);return J&=g(z[z.length-1])},toGlsl:function(z,J,K){if(0===J.length%2)throw Error("An odd amount of arguments was expected, got "+J+" instead");a(J,3);K=void 0!==K?K:L.ANY;K&=G["case"].getReturnType(J);A(J,K);for(var R=0;R<J.length-1;R+=
2)c(J[R]);var U=q(z,J[J.length-1],K),ka=null;for(R=J.length-3;0<=R;R-=2){var ba=q(z,J[R]),da=q(z,J[R+1],K);ka="("+ba+" ? "+da+" : "+(ka||U)+")"}return ka}}};
shadow$provide[349]=function(Ha,B,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.parseLiteralStyle=function(n){var F=n.symbol,O=void 0!==F.size?F.size:1,x=F.color||"white",y=F.textureCoord||[0,0,1,1],q=F.offset||[0,0],l=void 0!==F.opacity?F.opacity:1,h=void 0!==F.rotation?F.rotation:0,c={inFragmentShader:!1,variables:[],attributes:[],stringLiteralsMap:{}},e=(0,g.expressionToGlsl)(c,O,g.ValueTypes.NUMBER_ARRAY|g.ValueTypes.NUMBER);q=(0,g.expressionToGlsl)(c,q,g.ValueTypes.NUMBER_ARRAY);y=
(0,g.expressionToGlsl)(c,y,g.ValueTypes.NUMBER_ARRAY);var a=(0,g.expressionToGlsl)(c,h,g.ValueTypes.NUMBER);h={inFragmentShader:!0,variables:c.variables,attributes:[],stringLiteralsMap:c.stringLiteralsMap};x=(0,g.expressionToGlsl)(h,x,g.ValueTypes.COLOR);l=(0,g.expressionToGlsl)(h,l,g.ValueTypes.NUMBER);var f="1.0";O="vec2("+(0,g.expressionToGlsl)(h,O,g.ValueTypes.NUMBER_ARRAY|g.ValueTypes.NUMBER)+").x";switch(F.symbolType){case "square":break;case "image":break;case "circle":f="(1.0-smoothstep(1.-4./"+
O+",1.,dot(v_quadCoord-.5,v_quadCoord-.5)*4.))";break;case "triangle":f="(1.0-smoothstep(.5-3./"+O+",.5,cos(floor(.5+(atan((v_quadCoord*2.-1.).x,(v_quadCoord*2.-1.).y))/2.094395102)*2.094395102-(atan((v_quadCoord*2.-1.).x,(v_quadCoord*2.-1.).y)))*length((v_quadCoord*2.-1.))))";break;default:throw Error("Unexpected symbol type: "+F.symbolType);}var p=(new m).setSizeExpression("vec2("+e+")").setRotationExpression(a).setSymbolOffsetExpression(q).setTextureCoordinateExpression(y).setSymbolRotateWithView(!!F.rotateWithView).setColorExpression("vec4("+
x+".rgb, "+x+".a * "+l+" * "+f+")");n.filter&&(e=(0,g.expressionToGlsl)(h,n.filter,g.ValueTypes.BOOLEAN),p.setFragmentDiscardExpression("!"+e));var A={};h.variables.forEach(function(C){p.addUniform("float u_"+C);A["u_"+C]=function(){if(!n.variables||void 0===n.variables[C])throw Error("The following variable is missing from the style: "+C);var D=n.variables[C];"string"===typeof D&&(D=(0,g.getStringNumberEquivalent)(c,D));return void 0!==D?D:-9999999}});"image"===F.symbolType&&F.src&&(e=new Image,
e.src=F.src,p.addUniform("sampler2D u_texture").setColorExpression(p.getColorExpression()+" * texture2D(u_texture, v_texCoord)"),A.u_texture=e);h.attributes.forEach(function(C){-1===c.attributes.indexOf(C)&&c.attributes.push(C);p.addVarying("v_"+C,"float","a_"+C)});c.attributes.forEach(function(C){p.addAttribute("float a_"+C)});return{builder:p,attributes:c.attributes.map(function(C){return{name:C,callback:function(D,P){D=P[C];"string"===typeof D&&(D=(0,g.getStringNumberEquivalent)(c,D));return void 0!==
D?D:-9999999}}}),uniforms:A}};E.ShaderBuilder=void 0;var g=B(348),m=function(){function n(){this.uniforms=[];this.attributes=[];this.varyings=[];this.sizeExpression="vec2(1.0)";this.rotationExpression="0.0";this.offsetExpression="vec2(0.0)";this.colorExpression="vec4(1.0)";this.texCoordExpression="vec4(0.0, 0.0, 1.0, 1.0)";this.discardExpression="false";this.rotateWithView=!1}n.prototype.addUniform=function(F){this.uniforms.push(F);return this};n.prototype.addAttribute=function(F){this.attributes.push(F);
return this};n.prototype.addVarying=function(F,O,x){this.varyings.push({name:F,type:O,expression:x});return this};n.prototype.setSizeExpression=function(F){this.sizeExpression=F;return this};n.prototype.setRotationExpression=function(F){this.rotationExpression=F;return this};n.prototype.setSymbolOffsetExpression=function(F){this.offsetExpression=F;return this};n.prototype.setColorExpression=function(F){this.colorExpression=F;return this};n.prototype.setTextureCoordinateExpression=function(F){this.texCoordExpression=
F;return this};n.prototype.setFragmentDiscardExpression=function(F){this.discardExpression=F;return this};n.prototype.setSymbolRotateWithView=function(F){this.rotateWithView=F;return this};n.prototype.getSizeExpression=function(){return this.sizeExpression};n.prototype.getOffsetExpression=function(){return this.offsetExpression};n.prototype.getColorExpression=function(){return this.colorExpression};n.prototype.getTextureCoordinateExpression=function(){return this.texCoordExpression};n.prototype.getFragmentDiscardExpression=
function(){return this.discardExpression};n.prototype.getSymbolVertexShader=function(F){var O=this.rotateWithView?"u_offsetScaleMatrix * u_offsetRotateMatrix":"u_offsetScaleMatrix",x=this.attributes,y=this.varyings;F&&(x=x.concat("vec4 a_hitColor"),y=y.concat({name:"v_hitColor",type:"vec4",expression:"a_hitColor"}));return"precision mediump float;\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_time;\nuniform float u_zoom;\nuniform float u_resolution;\n"+
this.uniforms.map(function(q){return"uniform "+q+";"}).join("\n")+"\nattribute vec2 a_position;\nattribute float a_index;\n"+x.map(function(q){return"attribute "+q+";"}).join("\n")+"\nvarying vec2 v_texCoord;\nvarying vec2 v_quadCoord;\n"+y.map(function(q){return"varying "+q.type+" "+q.name+";"}).join("\n")+"\nvoid main(void) {\n  mat4 offsetMatrix \x3d "+O+";\n  vec2 halfSize \x3d "+this.sizeExpression+" * 0.5;\n  vec2 offset \x3d "+this.offsetExpression+";\n  float angle \x3d "+this.rotationExpression+
";\n  float offsetX;\n  float offsetY;\n  if (a_index \x3d\x3d 0.0) {\n    offsetX \x3d (offset.x - halfSize.x) * cos(angle) + (offset.y - halfSize.y) * sin(angle);\n    offsetY \x3d (offset.y - halfSize.y) * cos(angle) - (offset.x - halfSize.x) * sin(angle);\n  } else if (a_index \x3d\x3d 1.0) {\n    offsetX \x3d (offset.x + halfSize.x) * cos(angle) + (offset.y - halfSize.y) * sin(angle);\n    offsetY \x3d (offset.y - halfSize.y) * cos(angle) - (offset.x + halfSize.x) * sin(angle);\n  } else if (a_index \x3d\x3d 2.0) {\n    offsetX \x3d (offset.x + halfSize.x) * cos(angle) + (offset.y + halfSize.y) * sin(angle);\n    offsetY \x3d (offset.y + halfSize.y) * cos(angle) - (offset.x + halfSize.x) * sin(angle);\n  } else {\n    offsetX \x3d (offset.x - halfSize.x) * cos(angle) + (offset.y + halfSize.y) * sin(angle);\n    offsetY \x3d (offset.y + halfSize.y) * cos(angle) - (offset.x - halfSize.x) * sin(angle);\n  }\n  vec4 offsets \x3d offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n  gl_Position \x3d u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n  vec4 texCoord \x3d "+
this.texCoordExpression+";\n  float u \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? texCoord.s : texCoord.p;\n  float v \x3d a_index \x3d\x3d 2.0 || a_index \x3d\x3d 3.0 ? texCoord.t : texCoord.q;\n  v_texCoord \x3d vec2(u, v);\n  u \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? 0.0 : 1.0;\n  v \x3d a_index \x3d\x3d 2.0 || a_index \x3d\x3d 3.0 ? 0.0 : 1.0;\n  v_quadCoord \x3d vec2(u, v);\n"+y.map(function(q){return"  "+q.name+" \x3d "+q.expression+";"}).join("\n")+"\n}"};n.prototype.getSymbolFragmentShader=
function(F){var O=F?"  if (gl_FragColor.a \x3c 0.1) { discard; } gl_FragColor \x3d v_hitColor;":"",x=this.varyings;F&&(x=x.concat({name:"v_hitColor",type:"vec4",expression:"a_hitColor"}));return"precision mediump float;\nuniform float u_time;\nuniform float u_zoom;\nuniform float u_resolution;\n"+this.uniforms.map(function(y){return"uniform "+y+";"}).join("\n")+"\nvarying vec2 v_texCoord;\nvarying vec2 v_quadCoord;\n"+x.map(function(y){return"varying "+y.type+" "+y.name+";"}).join("\n")+"\nvoid main(void) {\n  if ("+
this.discardExpression+") { discard; }\n  gl_FragColor \x3d "+this.colorExpression+";\n  gl_FragColor.rgb *\x3d gl_FragColor.a;\n"+O+"\n}"};return n}();E.ShaderBuilder=m};
shadow$provide[350]=function(Ha,B,rb,E){function g(x){return x&&x.__esModule?x:{"default":x}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ha=g(B(100));var m=g(B(329)),n=B(90),F=B(349),O=function(){var x=function(y,q){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&(l[c]=h[c])};return x(y,q)};return function(y,q){function l(){this.constructor=y}x(y,q);y.prototype=null===
q?Object.create(q):(l.prototype=q.prototype,new l)}}();B=function(x){function y(q){var l=(0,n.assign)({},q);l=x.call(this,l)||this;l.parseResult_=(0,F.parseLiteralStyle)(q.style);l.hitDetectionDisabled_=!!q.disableHitDetection;return l}O(y,x);y.prototype.createRenderer=function(){return new m["default"](this,{className:this.getClassName(),vertexShader:this.parseResult_.builder.getSymbolVertexShader(),fragmentShader:this.parseResult_.builder.getSymbolFragmentShader(),hitVertexShader:!this.hitDetectionDisabled_&&
this.parseResult_.builder.getSymbolVertexShader(!0),hitFragmentShader:!this.hitDetectionDisabled_&&this.parseResult_.builder.getSymbolFragmentShader(!0),uniforms:this.parseResult_.uniforms,attributes:this.parseResult_.attributes})};y.prototype.disposeInternal=function(){this.getRenderer().disposeInternal();x.prototype.disposeInternal.call(this)};return y}(Ha["default"]);E["default"]=B};
shadow$provide[351]=function(Ha,B,rb,E){function g(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(E,"__esModule",{value:!0});Object.defineProperty(E,"Graticule",{enumerable:!0,get:function(){return m["default"]}});Object.defineProperty(E,"Group",{enumerable:!0,get:function(){return n["default"]}});Object.defineProperty(E,"Heatmap",{enumerable:!0,get:function(){return F["default"]}});Object.defineProperty(E,"Image",{enumerable:!0,get:function(){return O["default"]}});Object.defineProperty(E,
"Layer",{enumerable:!0,get:function(){return x["default"]}});Object.defineProperty(E,"MapboxVector",{enumerable:!0,get:function(){return y["default"]}});Object.defineProperty(E,"Tile",{enumerable:!0,get:function(){return q["default"]}});Object.defineProperty(E,"Vector",{enumerable:!0,get:function(){return l["default"]}});Object.defineProperty(E,"VectorImage",{enumerable:!0,get:function(){return h["default"]}});Object.defineProperty(E,"VectorTile",{enumerable:!0,get:function(){return c["default"]}});
Object.defineProperty(E,"WebGLPoints",{enumerable:!0,get:function(){return e["default"]}});var m=g(B(319)),n=g(B(112)),F=g(B(330)),O=g(B(298)),x=g(B(100)),y=g(B(345)),q=g(B(302)),l=g(B(240)),h=g(B(347)),c=g(B(336)),e=g(B(350))};
var aa="cljs.core",ba="cljs.pprint",ca="cljs.spec.alpha",da="clojure.string",ha="datascript.db",ia="datascript.pull-api",g,la=this||self;function na(a){return"string"==typeof a}function oa(a,b){a=a.split(".");var c=la;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}:c[d]=b}
function ra(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ya(a){return a[Aa]||(a[Aa]=++Da)}var Aa="closure_uid_"+(1E9*Math.random()>>>0),Da=0;function Ka(a,b){var c=La;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};function Ma(a,b){return new Na(a,b)}function Oa(a){return 0<a?0x7fffffffffffffff<=a?Pa:new Na(a,a/4294967296):0>a?-9223372036854775808>=a?Qa:Ra(new Na(-a,-a/4294967296)):Sa}
function Ta(a,b){if("-"==a.charAt(0))return Ra(Ta(a.substring(1),b));var c=parseInt(a,b||10);if(9007199254740991>=c)return new Na(c%4294967296|0,c/4294967296|0);if(0==a.length)throw Error("number format error: empty string");if(0<=a.indexOf("-"))throw Error('number format error: interior "-" character: '+a);b=b||10;if(2>b||36<b)throw Error("radix out of range: "+b);c=Oa(Math.pow(b,8));for(var d=Sa,e=0;e<a.length;e+=8){var f=Math.min(8,a.length-e),h=parseInt(a.substring(e,e+f),b);8>f?(f=Oa(Math.pow(b,
f)),d=d.multiply(f).add(Oa(h))):(d=d.multiply(c),d=d.add(Oa(h)))}return d}function Ra(a){var b=~a.Wa+1|0;return Ma(b,~a.La+!b|0)}function Ua(a,b){return a.add(Ra(b))}function Wa(a){return 0==a.Wa&&0==a.La}function Xa(a,b){b&=63;if(0==b)return a;var c=a.La;return 32>b?Ma(a.Wa>>>b|c<<32-b,c>>>b):32==b?Ma(c,0):Ma(c>>>b-32,0)}
class Na{constructor(a,b){this.Wa=a|0;this.La=b|0}toNumber(){return 4294967296*this.La+(this.Wa>>>0)}isSafeInteger(){var a=this.La>>21;return 0==a||-1==a&&!(0==this.Wa&&-2097152==this.La)}toString(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if(this.isSafeInteger()){var b=this.toNumber();return 10==a?""+b:b.toString(a)}b=14-(a>>2);var c=Math.pow(a,b),d=Ma(c,c/4294967296);c=this.div(d);d=Math.abs(Ua(this,c.multiply(d)).toNumber());var e=10==a?""+d:d.toString(a);e.length<b&&(e="0000000000000".substr(e.length-
b)+e);d=c.toNumber();return(10==a?d:d.toString(a))+e}equals(a){return this.Wa==a.Wa&&this.La==a.La}compare(a){return this.La==a.La?this.Wa==a.Wa?0:this.Wa>>>0>a.Wa>>>0?1:-1:this.La>a.La?1:-1}add(a){var b=this.La>>>16,c=this.La&65535,d=this.Wa>>>16,e=a.La>>>16,f=a.La&65535,h=a.Wa>>>16;a=(this.Wa&65535)+(a.Wa&65535);h=(a>>>16)+(d+h);d=h>>>16;d+=c+f;b=(d>>>16)+(b+e)&65535;return Ma((h&65535)<<16|a&65535,b<<16|d&65535)}multiply(a){if(Wa(this))return this;if(Wa(a))return a;var b=this.La>>>16,c=this.La&
65535,d=this.Wa>>>16,e=this.Wa&65535,f=a.La>>>16,h=a.La&65535,k=a.Wa>>>16;a=a.Wa&65535;var m=e*a;var n=(m>>>16)+d*a;var p=n>>>16;n=(n&65535)+e*k;p+=n>>>16;p+=c*a;var u=p>>>16;p=(p&65535)+d*k;u+=p>>>16;p=(p&65535)+e*h;u=u+(p>>>16)+(b*a+c*k+d*h+e*f)&65535;return Ma((n&65535)<<16|m&65535,u<<16|p&65535)}div(a){if(Wa(a))throw Error("division by zero");if(0>this.La){if(this.equals(Qa)){if(a.equals(Ya)||a.equals(Za))return Qa;if(a.equals(Qa))return Ya;var b=1;if(0==b)b=this;else{var c=this.La;b=32>b?Ma(this.Wa>>>
b|c<<32-b,c>>b):Ma(c>>b-32,0<=c?0:-1)}b=b.div(a).shiftLeft(1);if(b.equals(Sa))return 0>a.La?Ya:Za;c=Ua(this,a.multiply(b));return b.add(c.div(a))}return 0>a.La?Ra(this).div(Ra(a)):Ra(Ra(this).div(a))}if(Wa(this))return Sa;if(0>a.La)return a.equals(Qa)?Sa:Ra(this.div(Ra(a)));var d=Sa;for(c=this;0<=c.compare(a);){b=Math.max(1,Math.floor(c.toNumber()/a.toNumber()));var e=Math.ceil(Math.log(b)/Math.LN2);e=48>=e?1:Math.pow(2,e-48);for(var f=Oa(b),h=f.multiply(a);0>h.La||0<h.compare(c);)b-=e,f=Oa(b),h=
f.multiply(a);Wa(f)&&(f=Ya);d=d.add(f);c=Ua(c,h)}return d}modulo(a){return Ua(this,this.div(a).multiply(a))}not(){return Ma(~this.Wa,~this.La)}and(a){return Ma(this.Wa&a.Wa,this.La&a.La)}or(a){return Ma(this.Wa|a.Wa,this.La|a.La)}xor(a){return Ma(this.Wa^a.Wa,this.La^a.La)}shiftLeft(a){a&=63;if(0==a)return this;var b=this.Wa;return 32>a?Ma(b<<a,this.La<<a|b>>>32-a):Ma(0,b<<a-32)}}const Sa=Ma(0,0),Ya=Ma(1,0),Za=Ma(-1,-1),Pa=Ma(4294967295,2147483647),Qa=Ma(0,2147483648);function kb(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function lb(a,b){a.sort(b||mb)}function nb(a,b){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]={index:d,value:a[d]};var e=b||mb;lb(c,function(f,h){return e(f.value,h.value)||f.index-h.index});for(d=0;d<a.length;d++)a[d]=c[d].value}function mb(a,b){return a>b?1:a<b?-1:0};function ub(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b}function vb(a,b,c){return null!==a&&b in a?a[b]:c}var wb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xb(a,b){let c,d;for(let e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(let f=0;f<wb.length;f++)c=wb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function Hb(a,b){const c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c}function Ib(a){return/^[\s\xa0]*$/.test(a)}var Jb=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function Kb(a){return-1!=Lb.toLowerCase().indexOf(a.toLowerCase())}function Mb(a,b){return a<b?-1:a>b?1:0};var Lb;a:{var ja=la.navigator;if(ja){var ka=ja.userAgent;if(ka){Lb=ka;break a}}Lb=""}function Rb(a){return-1!=Lb.indexOf(a)};function Xb(a){return 1==a.length&&" "<=a&&"~">=a||""<=a&&"">=a}var Yb=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};function pc(a,b){null!=a&&this.append.apply(this,arguments)}g=pc.prototype;g.Dd="";g.set=function(a){this.Dd=""+a};g.append=function(a,b,c){this.Dd+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.Dd+=arguments[d];return this};g.clear=function(){this.Dd=""};g.getLength=function(){return this.Dd.length};g.toString=function(){return this.Dd};var qc={},rc={},tc,l={},uc=null,vc=null,wc=!0,xc=!0,yc=null,zc=null;function Ac(){return new q(null,5,[Bc,!0,Cc,xc,Dc,!1,Ec,!1,Fc,yc],null)}function Gc(){wc=!1;vc=function(){return console.log.apply(console,kb(arguments))}}function r(a){return null!=a&&!1!==a}function Hc(a){return null==a}function Ic(a){return a instanceof Array}function Jc(a){return"number"===typeof a}function Kc(a){return null==a?!0:!1===a?!0:!1}function Lc(a){return null!=a}
function Mc(a,b){return a[ra(null==b?null:b)]?!0:a._?!0:!1}function Nc(a){return null==a?null:a.constructor}function Oc(a,b){var c=Nc(b);c=r(r(c)?c.Ab:c)?c.sb:ra(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function Pc(a){var b=a.sb;return r(b)?b:t.B(a)}
var Qc="undefined"!==typeof Symbol&&"function"===ra(Symbol)?Symbol.iterator:"@@iterator",Rc={_RBRACE_:"}",_COLON_:":",_BANG_:"!",_QMARK_:"?",_BSLASH_:"\\\\",_SLASH_:"/",_PERCENT_:"%",_PLUS_:"+",_SHARP_:"#",_LBRACE_:"{",_BAR_:"|",_LBRACK_:"[",_EQ_:"\x3d",_:"-",_TILDE_:"~",_RBRACK_:"]",_GT_:"\x3e",_SINGLEQUOTE_:"'",_CIRCA_:"@",_AMPERSAND_:"\x26",_DOUBLEQUOTE_:'\\"',_CARET_:"^",_LT_:"\x3c",_STAR_:"*"},Sc=null;
function Tc(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function Uc(a){function b(d,e){d.push(e);return d}var c=[];return w.C?w.C(b,c,a):w.call(null,b,c,a)}function Vc(a){return"symbol"===ra(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function Wc(){}function Xc(){}
function Yc(a){if(null!=a&&null!=a.oa)a=a.oa(a);else{var b=Yc[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Yc._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Oc("ICloneable.-clone",a);}return a}function Zc(){}function $c(a){if(null!=a&&null!=a.ja)a=a.ja(a);else{var b=$c[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=$c._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Oc("ICounted.-count",a);}return a}function ad(){}
function bd(a){if(null!=a&&null!=a.Ka)a=a.Ka(a);else{var b=bd[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=bd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Oc("IEmptyableCollection.-empty",a);}return a}function cd(){}function dd(a,b){if(null!=a&&null!=a.ka)a=a.ka(a,b);else{var c=dd[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=dd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Oc("ICollection.-conj",a);}return a}function ed(){}
var fd=function(){function a(d,e,f){var h=x[ra(null==d?null:d)];if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);h=x._;if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);throw Oc("IIndexed.-nth",d);}function b(d,e){var f=x[ra(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=x._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw Oc("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.j=b;c.C=a;return c}(),x=function x(a){switch(arguments.length){case 2:return x.j(arguments[0],arguments[1]);case 3:return x.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};x.j=function(a,b){return null!=a&&null!=a.wa?a.wa(a,b):fd(a,b)};x.C=function(a,b,c){return null!=a&&null!=a.Za?a.Za(a,b,c):fd(a,b,c)};x.aa=3;function gd(){}
function id(a){if(null!=a&&null!=a.cb)a=a.cb(a);else{var b=id[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=id._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Oc("ISeq.-first",a);}return a}function jd(a){if(null!=a&&null!=a.mb)a=a.mb(a);else{var b=jd[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=jd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Oc("ISeq.-rest",a);}return a}function kd(){}
function ld(a){if(null!=a&&null!=a.Qa)a=a.Qa(a);else{var b=ld[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=ld._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Oc("INext.-next",a);}return a}function md(){}
var od=function(){function a(d,e,f){var h=nd[ra(null==d?null:d)];if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);h=nd._;if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);throw Oc("ILookup.-lookup",d);}function b(d,e){var f=nd[ra(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=nd._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw Oc("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,
f)}throw Error("Invalid arity: "+arguments.length);};c.j=b;c.C=a;return c}(),nd=function nd(a){switch(arguments.length){case 2:return nd.j(arguments[0],arguments[1]);case 3:return nd.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};nd.j=function(a,b){return null!=a&&null!=a.ma?a.ma(a,b):od(a,b)};nd.C=function(a,b,c){return null!=a&&null!=a.R?a.R(a,b,c):od(a,b,c)};nd.aa=3;
function pd(a,b,c){if(null!=a&&null!=a.da)a=a.da(a,b,c);else{var d=pd[ra(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=pd._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Oc("IAssociative.-assoc",a);}return a}function qd(a,b){if(null!=a&&null!=a.pd)a=a.pd(a,b);else{var c=qd[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=qd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Oc("IFind.-find",a);}return a}function rd(){}
function sd(a,b){if(null!=a&&null!=a.ya)a=a.ya(a,b);else{var c=sd[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=sd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Oc("IMap.-dissoc",a);}return a}function td(a){if(null!=a&&null!=a.Vf)a=a.key;else{var b=td[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=td._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Oc("IMapEntry.-key",a);}return a}
function ud(a){if(null!=a&&null!=a.Wf)a=a.val;else{var b=ud[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=ud._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Oc("IMapEntry.-val",a);}return a}function vd(){}function wd(a,b){if(null!=a&&null!=a.gf)a=a.gf(a,b);else{var c=wd[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=wd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Oc("ISet.-disjoin",a);}return a}
function xd(a){if(null!=a&&null!=a.qd)a=a.qd(a);else{var b=xd[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=xd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Oc("IStack.-peek",a);}return a}function yd(a){if(null!=a&&null!=a.rd)a=a.rd(a);else{var b=yd[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=yd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Oc("IStack.-pop",a);}return a}function zd(){}
function Ad(a,b,c){if(null!=a&&null!=a.Rc)a=a.Rc(a,b,c);else{var d=Ad[ra(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=Ad._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Oc("IVector.-assoc-n",a);}return a}function Bd(){}function z(a){if(null!=a&&null!=a.Db)a=a.Db(a);else{var b=z[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=z._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Oc("IDeref.-deref",a);}return a}function Cd(){}
function Dd(a){if(null!=a&&null!=a.fa)a=a.fa(a);else{var b=Dd[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Dd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Oc("IMeta.-meta",a);}return a}function Ed(a,b){if(null!=a&&null!=a.ga)a=a.ga(a,b);else{var c=Ed[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Ed._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Oc("IWithMeta.-with-meta",a);}return a}function Fd(){}
var Hd=function(){function a(d,e,f){var h=Gd[ra(null==d?null:d)];if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);h=Gd._;if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);throw Oc("IReduce.-reduce",d);}function b(d,e){var f=Gd[ra(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=Gd._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw Oc("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,
f)}throw Error("Invalid arity: "+arguments.length);};c.j=b;c.C=a;return c}(),Gd=function Gd(a){switch(arguments.length){case 2:return Gd.j(arguments[0],arguments[1]);case 3:return Gd.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};Gd.j=function(a,b){return null!=a&&null!=a.$a?a.$a(a,b):Hd(a,b)};Gd.C=function(a,b,c){return null!=a&&null!=a.ab?a.ab(a,b,c):Hd(a,b,c)};Gd.aa=3;function Id(){}
function Jd(a,b,c){if(null!=a&&null!=a.xa)a=a.xa(a,b,c);else{var d=Jd[ra(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=Jd._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Oc("IKVReduce.-kv-reduce",a);}return a}function Kd(a,b){if(null!=a&&null!=a.ba)a=a.ba(a,b);else{var c=Kd[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Kd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Oc("IEquiv.-equiv",a);}return a}
function Ld(a){if(null!=a&&null!=a.ha)a=a.ha(a);else{var b=Ld[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Ld._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Oc("IHash.-hash",a);}return a}function Md(){}function Nd(a){if(null!=a&&null!=a.ia)a=a.ia(a);else{var b=Nd[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Nd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Oc("ISeqable.-seq",a);}return a}function Od(){}function Pd(){}function Qd(){}
function Rd(){}function Sd(a){if(null!=a&&null!=a.vc)a=a.vc(a);else{var b=Sd[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Sd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Oc("IReversible.-rseq",a);}return a}function Vd(a,b){if(null!=a&&null!=a.Gd)a=a.Gd(a,b);else{var c=Vd[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Vd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Oc("IWriter.-write",a);}return a}
function Wd(a){if(null!=a&&null!=a.fd)a=a.fd(a);else{var b=Wd[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Wd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Oc("IWriter.-flush",a);}return a}function Xd(){}function Yd(a,b,c){if(null!=a&&null!=a.ea)a=a.ea(a,b,c);else{var d=Yd[ra(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=Yd._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Oc("IPrintWithWriter.-pr-writer",a);}return a}function Zd(){}
function $d(a){if(null!=a&&null!=a.ff)a=a.ff(a);else{var b=$d[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=$d._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Oc("IPending.-realized?",a);}return a}function ae(a,b){var c=kY;if(null!=a&&null!=a.hf)a.hf(a,b,c);else{var d=ae[ra(null==a?null:a)];if(null!=d)d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=ae._,null!=d)d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Oc("IWatchable.-add-watch",a);}}
function be(a,b){if(null!=a&&null!=a.jf)a.jf(a,b);else{var c=be[ra(null==a?null:a)];if(null!=c)c.j?c.j(a,b):c.call(null,a,b);else if(c=be._,null!=c)c.j?c.j(a,b):c.call(null,a,b);else throw Oc("IWatchable.-remove-watch",a);}}function ce(a){if(null!=a&&null!=a.Ed)a=a.Ed(a);else{var b=ce[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=ce._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Oc("IEditableCollection.-as-transient",a);}return a}
function de(a,b){if(null!=a&&null!=a.Fd)a=a.Fd(a,b);else{var c=de[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=de._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Oc("ITransientCollection.-conj!",a);}return a}function ge(a){if(null!=a&&null!=a.Pd)a=a.Pd(a);else{var b=ge[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=ge._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Oc("ITransientCollection.-persistent!",a);}return a}
function he(a,b,c){if(null!=a&&null!=a.de)a=a.de(a,b,c);else{var d=he[ra(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=he._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Oc("ITransientAssociative.-assoc!",a);}return a}function je(){}
function ke(a,b){if(null!=a&&null!=a.Hc)a=a.Hc(a,b);else{var c=ke[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=ke._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Oc("IComparable.-compare",a);}return a}function le(a){if(null!=a&&null!=a.se)a=a.se(a);else{var b=le[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=le._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Oc("IChunk.-drop-first",a);}return a}
function me(a){if(null!=a&&null!=a.ue)a=a.ue(a);else{var b=me[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=me._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Oc("IChunkedSeq.-chunked-first",a);}return a}function ne(a){if(null!=a&&null!=a.Od)a=a.Od(a);else{var b=ne[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=ne._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Oc("IChunkedSeq.-chunked-rest",a);}return a}
function oe(a){if(null!=a&&null!=a.we)a=a.we(a);else{var b=oe[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=oe._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Oc("INamed.-name",a);}return a}function pe(a){if(null!=a&&null!=a.xe)a=a.xe(a);else{var b=pe[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=pe._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Oc("INamed.-namespace",a);}return a}
function qe(a,b){if(null!=a&&null!=a.Qc)a=a.Qc(a,b);else{var c=qe[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=qe._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Oc("IReset.-reset!",a);}return a}
var se=function(){function a(f,h,k,m,n){var p=re[ra(null==f?null:f)];if(null!=p)return p.la?p.la(f,h,k,m,n):p.call(null,f,h,k,m,n);p=re._;if(null!=p)return p.la?p.la(f,h,k,m,n):p.call(null,f,h,k,m,n);throw Oc("ISwap.-swap!",f);}function b(f,h,k,m){var n=re[ra(null==f?null:f)];if(null!=n)return n.P?n.P(f,h,k,m):n.call(null,f,h,k,m);n=re._;if(null!=n)return n.P?n.P(f,h,k,m):n.call(null,f,h,k,m);throw Oc("ISwap.-swap!",f);}function c(f,h,k){var m=re[ra(null==f?null:f)];if(null!=m)return m.C?m.C(f,h,
k):m.call(null,f,h,k);m=re._;if(null!=m)return m.C?m.C(f,h,k):m.call(null,f,h,k);throw Oc("ISwap.-swap!",f);}function d(f,h){var k=re[ra(null==f?null:f)];if(null!=k)return k.j?k.j(f,h):k.call(null,f,h);k=re._;if(null!=k)return k.j?k.j(f,h):k.call(null,f,h);throw Oc("ISwap.-swap!",f);}var e=null;e=function(f,h,k,m,n){switch(arguments.length){case 2:return d.call(this,f,h);case 3:return c.call(this,f,h,k);case 4:return b.call(this,f,h,k,m);case 5:return a.call(this,f,h,k,m,n)}throw Error("Invalid arity: "+
arguments.length);};e.j=d;e.C=c;e.P=b;e.la=a;return e}(),re=function re(a){switch(arguments.length){case 2:return re.j(arguments[0],arguments[1]);case 3:return re.C(arguments[0],arguments[1],arguments[2]);case 4:return re.P(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return re.la(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};re.j=function(a,b){return null!=a&&null!=a.Zf?a.Zf(a,b):se(a,b)};
re.C=function(a,b,c){return null!=a&&null!=a.$f?a.$f(a,b,c):se(a,b,c)};re.P=function(a,b,c,d){return null!=a&&null!=a.ag?a.ag(a,b,c,d):se(a,b,c,d)};re.la=function(a,b,c,d,e){return null!=a&&null!=a.cg?a.cg(a,b,c,d,e):se(a,b,c,d,e)};re.aa=5;function te(a,b){if(null!=a&&null!=a.ze)a.ze(a,b);else{var c=te[ra(null==a?null:a)];if(null!=c)c.j?c.j(a,b):c.call(null,a,b);else if(c=te._,null!=c)c.j?c.j(a,b):c.call(null,a,b);else throw Oc("IVolatile.-vreset!",a);}}function ue(){}
function ve(a){if(null!=a&&null!=a.pa)a=a.pa(a);else{var b=ve[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=ve._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Oc("IIterable.-iterator",a);}return a}function xe(a){this.Qj=a;this.J=1073741824;this.T=0}xe.prototype.Gd=function(a,b){return this.Qj.append(b)};xe.prototype.fd=function(){return null};function ye(a){var b=new pc,c=new xe(b);a.ea(null,c,Ac());c.fd(null);return t.B(b)}
var ze="undefined"!==typeof Math&&"undefined"!==typeof Math.imul&&0!==Math.imul(4294967295,5)?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function Ae(a){a=ze(a|0,-862048943);return ze(a<<15|a>>>-15,461845907)}function Be(a,b){a=(a|0)^(b|0);return ze(a<<13|a>>>-13,5)+-430675100|0}function Ce(a,b){a=(a|0)^b;a=ze(a^a>>>16,-2048144789);a=ze(a^a>>>13,-1028477387);return a^a>>>16}var De={},Ee=0;
function Fe(a){255<Ee&&(De={},Ee=0);if(null==a)return 0;var b=De[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=ze(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;De[a]=b;Ee+=1;a=b}return a}
function Ge(a){if(null!=a&&(a.J&4194304||l===a.df))return a.ha(null)^0;if("number"===typeof a){if(r(isFinite(a)))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=Fe(a),a=0===a?a:Ce(Be(0,Ae(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:Ld(a)^0,a}function He(a){return a instanceof A}
function Ie(a){var b=a.name;a:{var c=1;for(var d=0;;)if(c<b.length)d=Be(d,Ae(b.charCodeAt(c-1)|b.charCodeAt(c)<<16)),c+=2;else{c=d;break a}}b=Ce(1===(b.length&1)?c^Ae(b.charCodeAt(b.length-1)):c,ze(2,b.length));a=Fe(a.ac);return b^a+2654435769+(b<<6)+(b>>2)}function Je(a,b){if(a.cc===b.cc)return 0;if(r(Kc(a.ac)?b.ac:!1))return-1;if(r(a.ac)){if(Kc(b.ac))return 1;var c=mb(a.ac,b.ac);return 0===c?mb(a.name,b.name):c}return mb(a.name,b.name)}
function A(a,b,c,d,e){this.ac=a;this.name=b;this.cc=c;this._hash=d;this.Fc=e;this.J=2154168321;this.T=4096}g=A.prototype;g.toString=function(){return this.cc};g.equiv=function(a){return this.ba(null,a)};g.ba=function(a,b){return b instanceof A?this.cc===b.cc:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Tc(b)))};g.B=function(a){return B.j?B.j(a,this):B.call(null,a,this)};g.j=function(a,b){return B.C?B.C(a,this,b):B.call(null,a,this,b)};g.fa=function(){return this.Fc};g.ga=function(a,b){return new A(this.ac,this.name,this.cc,this._hash,b)};g.ha=function(){var a=this._hash;return null!=a?a:this._hash=a=Ie(this)};g.we=function(){return this.name};g.xe=function(){return this.ac};g.ea=function(a,b){return Vd(b,this.cc)};
var Le=function Le(a){switch(arguments.length){case 1:return Le.B(arguments[0]);case 2:return Le.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};Le.B=function(a){for(;;){if(a instanceof A)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?Le.j(null,a):Le.j(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof Me)return a.Zd;if(a instanceof C)a=a.na;else throw Error("no conversion to symbol");}};
Le.j=function(a,b){var c=null!=a?[t.B(a),"/",t.B(b)].join(""):b;return new A(a,b,c,null,null)};Le.aa=2;function Me(a,b,c){this.val=a;this.Zd=b;this.Fc=c;this.J=6717441;this.T=0}g=Me.prototype;g.toString=function(){return["#'",t.B(this.Zd)].join("")};g.Db=function(){return this.val.O?this.val.O():this.val.call(null)};g.fa=function(){return this.Fc};g.ga=function(a,b){return new Me(this.val,this.Zd,b)};g.ba=function(a,b){return b instanceof Me?(a=this.Zd,b=b.Zd,D.j?D.j(a,b):D.call(null,a,b)):!1};
g.ha=function(){return Ie(this.Zd)};g.hh=l;
g.call=function(a){switch(arguments.length-1){case 0:return this.O();case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);case 3:return this.C(arguments[1],arguments[2],arguments[3]);case 4:return this.P(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.la(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Ya(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Xb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.zb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Yb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Mb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Nb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Ob(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Pb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Qb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Rb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Sb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Tb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Ub(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Vb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Wb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.ve(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Tc(b)))};g.O=function(){var a=this.val.O?this.val.O():this.val.call(null);return a.O?a.O():a.call(null)};g.B=function(a){var b=this.val.O?this.val.O():this.val.call(null);return b.B?b.B(a):b.call(null,a)};
g.j=function(a,b){var c=this.val.O?this.val.O():this.val.call(null);return c.j?c.j(a,b):c.call(null,a,b)};g.C=function(a,b,c){var d=this.val.O?this.val.O():this.val.call(null);return d.C?d.C(a,b,c):d.call(null,a,b,c)};g.P=function(a,b,c,d){var e=this.val.O?this.val.O():this.val.call(null);return e.P?e.P(a,b,c,d):e.call(null,a,b,c,d)};g.la=function(a,b,c,d,e){var f=this.val.O?this.val.O():this.val.call(null);return f.la?f.la(a,b,c,d,e):f.call(null,a,b,c,d,e)};
g.Ya=function(a,b,c,d,e,f){var h=this.val.O?this.val.O():this.val.call(null);return h.Ya?h.Ya(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f)};g.Xb=function(a,b,c,d,e,f,h){var k=this.val.O?this.val.O():this.val.call(null);return k.Xb?k.Xb(a,b,c,d,e,f,h):k.call(null,a,b,c,d,e,f,h)};g.zb=function(a,b,c,d,e,f,h,k){var m=this.val.O?this.val.O():this.val.call(null);return m.zb?m.zb(a,b,c,d,e,f,h,k):m.call(null,a,b,c,d,e,f,h,k)};
g.Yb=function(a,b,c,d,e,f,h,k,m){var n=this.val.O?this.val.O():this.val.call(null);return n.Yb?n.Yb(a,b,c,d,e,f,h,k,m):n.call(null,a,b,c,d,e,f,h,k,m)};g.Mb=function(a,b,c,d,e,f,h,k,m,n){var p=this.val.O?this.val.O():this.val.call(null);return p.Mb?p.Mb(a,b,c,d,e,f,h,k,m,n):p.call(null,a,b,c,d,e,f,h,k,m,n)};g.Nb=function(a,b,c,d,e,f,h,k,m,n,p){var u=this.val.O?this.val.O():this.val.call(null);return u.Nb?u.Nb(a,b,c,d,e,f,h,k,m,n,p):u.call(null,a,b,c,d,e,f,h,k,m,n,p)};
g.Ob=function(a,b,c,d,e,f,h,k,m,n,p,u){var v=this.val.O?this.val.O():this.val.call(null);return v.Ob?v.Ob(a,b,c,d,e,f,h,k,m,n,p,u):v.call(null,a,b,c,d,e,f,h,k,m,n,p,u)};g.Pb=function(a,b,c,d,e,f,h,k,m,n,p,u,v){var y=this.val.O?this.val.O():this.val.call(null);return y.Pb?y.Pb(a,b,c,d,e,f,h,k,m,n,p,u,v):y.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v)};
g.Qb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y){var F=this.val.O?this.val.O():this.val.call(null);return F.Qb?F.Qb(a,b,c,d,e,f,h,k,m,n,p,u,v,y):F.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y)};g.Rb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F){var G=this.val.O?this.val.O():this.val.call(null);return G.Rb?G.Rb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F):G.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,F)};
g.Sb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G){var I=this.val.O?this.val.O():this.val.call(null);return I.Sb?I.Sb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G):I.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G)};g.Tb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I){var N=this.val.O?this.val.O():this.val.call(null);return N.Tb?N.Tb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I):N.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I)};
g.Ub=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N){var P=this.val.O?this.val.O():this.val.call(null);return P.Ub?P.Ub(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N):P.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N)};g.Vb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N,P){var U=this.val.O?this.val.O():this.val.call(null);return U.Vb?U.Vb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N,P):U.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N,P)};
g.Wb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N,P,U){var ea=this.val.O?this.val.O():this.val.call(null);return ea.Wb?ea.Wb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N,P,U):ea.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N,P,U)};g.ve=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N,P,U,ea){var fa=this.val.O?this.val.O():this.val.call(null);return Ne.Uf?Ne.Uf(fa,a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N,P,U,ea):Ne.call(null,fa,a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N,P,U,ea)};
function Oe(a){return null!=a?a.T&131072||l===a.ck?!0:a.T?!1:Mc(ue,a):Mc(ue,a)}function E(a){if(null==a)return null;if(null!=a&&(a.J&8388608||l===a.Yf))return a.ia(null);if(Ic(a)||"string"===typeof a)return 0===a.length?null:new Pe(a,0,null);if(null!=a&&null!=a[Qc])return a=vb(a,Qc).call(a),Qe.B?Qe.B(a):Qe.call(null,a);if(Mc(Md,a))return Nd(a);throw Error([t.B(a)," is not ISeqable"].join(""));}
function H(a){if(null==a)return null;if(null!=a&&(a.J&64||l===a.ua))return a.cb(null);a=E(a);return null==a?null:id(a)}function Re(a){return null!=a?null!=a&&(a.J&64||l===a.ua)?a.mb(null):(a=E(a))?a.mb(null):Se:Se}function J(a){return null==a?null:null!=a&&(a.J&128||l===a.ye)?a.Qa(null):E(Re(a))}
var D=function D(a){switch(arguments.length){case 1:return D.B(arguments[0]);case 2:return D.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Pe(c.slice(2),0,null);return D.G(arguments[0],arguments[1],c)}};D.B=function(){return!0};D.j=function(a,b){return null==a?null==b:a===b||Kd(a,b)};D.G=function(a,b,c){for(;;)if(D.j(a,b))if(J(c))a=b,b=H(c),c=J(c);else return D.j(b,H(c));else return!1};
D.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.G(b,a,c)};D.aa=2;function Te(a){this.s=a}Te.prototype.next=function(){if(null!=this.s){var a=H(this.s);this.s=J(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function Ue(a){return new Te(E(a))}function Ve(a,b){this.value=a;this.iter=b;this.Of=null;this.J=8388672;this.T=0}Ve.prototype.ia=function(){return this};Ve.prototype.cb=function(){return this.value};
Ve.prototype.mb=function(){null==this.Of&&(this.Of=Qe.B?Qe.B(this.iter):Qe.call(null,this.iter));return this.Of};function Qe(a){var b=a.next();return r(b.done)?null:new Ve(b.value,a)}function We(a){var b=0,c=1;for(a=E(a);;)if(null!=a)b+=1,c=ze(31,c)+Ge(H(a))|0,a=J(a);else return Ce(Be(0,Ae(c)),b)}var Xe=Ce(Be(0,Ae(1)),0);function Ye(a){var b=0,c=0;for(a=E(a);;)if(null!=a)b+=1,c=c+Ge(H(a))|0,a=J(a);else return Ce(Be(0,Ae(c)),b)}var Ze=Ce(Be(0,Ae(0)),0);Zc["null"]=!0;$c["null"]=function(){return 0};
Date.prototype.ba=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};Date.prototype.Pc=l;Date.prototype.Hc=function(a,b){if(b instanceof Date)return mb(this.valueOf(),b.valueOf());throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};Kd.number=function(a,b){return a===b};Wc["function"]=!0;Cd["function"]=!0;Dd["function"]=function(){return null};Ld._=function(a){return ya(a)};function $e(a){return a+1}function af(a){this.val=a;this.J=32768;this.T=0}
af.prototype.Db=function(){return this.val};function bf(a){return new af(a)}function cf(a){return a instanceof af}function df(a){return cf(a)?ef.B?ef.B(a):ef.call(null,a):a}function ef(a){return z(a)}function ff(a,b){var c=a.ja(null);if(0===c)return b.O?b.O():b.call(null);for(var d=a.wa(null,0),e=1;;)if(e<c){var f=a.wa(null,e);d=b.j?b.j(d,f):b.call(null,d,f);if(cf(d))return z(d);e+=1}else return d}
function gf(a,b,c){var d=a.ja(null),e=c;for(c=0;;)if(c<d){var f=a.wa(null,c);e=b.j?b.j(e,f):b.call(null,e,f);if(cf(e))return z(e);c+=1}else return e}function hf(a,b){var c=a.length;if(0===a.length)return b.O?b.O():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.j?b.j(d,f):b.call(null,d,f);if(cf(d))return z(d);e+=1}else return d}function jf(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.j?b.j(e,f):b.call(null,e,f);if(cf(e))return z(e);c+=1}else return e}
function kf(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.j?b.j(c,f):b.call(null,c,f);if(cf(c))return z(c);d+=1}else return c}function lf(a){return null!=a?a.J&2||l===a.ih?!0:a.J?!1:Mc(Zc,a):Mc(Zc,a)}function mf(a){return null!=a?a.J&16||l===a.mh?!0:a.J?!1:Mc(ed,a):Mc(ed,a)}function nf(a,b,c){var d=K.B?K.B(a):K.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(D.j(of?of(a,c):pf.call(null,a,c),b))return c;c+=1}else return-1}
function qf(a,b,c){var d=K.B?K.B(a):K.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(D.j(of?of(a,c):pf.call(null,a,c),b))return c;--c}else return-1}function rf(a,b){this.K=a;this.i=b}rf.prototype.Na=function(){return this.i<this.K.length};rf.prototype.next=function(){var a=this.K[this.i];this.i+=1;return a};function Pe(a,b,c){this.K=a;this.i=b;this.meta=c;this.J=166592766;this.T=139264}g=Pe.prototype;g.toString=function(){return ye(this)};
g.equiv=function(a){return this.ba(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return nf(this,b,0);case 2:return nf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return nf(this,b,0)};a.j=function(b,c){return nf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return qf(this,c,K.B?K.B(this):K.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return qf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return qf(this,c,d)};return b}();g.wa=function(a,b){a=b+this.i;if(0<=a&&a<this.K.length)return this.K[a];throw Error("Index out of bounds");};g.Za=function(a,b,c){a=b+this.i;return 0<=a&&a<this.K.length?this.K[a]:c};
g.pa=function(){return new rf(this.K,this.i)};g.fa=function(){return this.meta};g.oa=function(){return new Pe(this.K,this.i,this.meta)};g.Qa=function(){return this.i+1<this.K.length?new Pe(this.K,this.i+1,null):null};g.ja=function(){var a=this.K.length-this.i;return 0>a?0:a};g.vc=function(){var a=this.ja(null);return 0<a?new sf(this,a-1,null):null};g.ha=function(){return We(this)};g.ba=function(a,b){return tf.j?tf.j(this,b):tf.call(null,this,b)};g.Ka=function(){return Se};
g.$a=function(a,b){return kf(this.K,b,this.K[this.i],this.i+1)};g.ab=function(a,b,c){return kf(this.K,b,c,this.i)};g.cb=function(){return this.K[this.i]};g.mb=function(){return this.i+1<this.K.length?new Pe(this.K,this.i+1,null):Se};g.ia=function(){return this.i<this.K.length?this:null};g.ga=function(a,b){return b===this.meta?this:new Pe(this.K,this.i,b)};g.ka=function(a,b){return uf.j?uf.j(b,this):uf.call(null,b,this)};Pe.prototype[Qc]=function(){return Ue(this)};
function M(a){return 0<a.length?new Pe(a,0,null):null}function sf(a,b,c){this.ci=a;this.i=b;this.meta=c;this.J=32374990;this.T=8192}g=sf.prototype;g.toString=function(){return ye(this)};g.equiv=function(a){return this.ba(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return nf(this,b,0);case 2:return nf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return nf(this,b,0)};a.j=function(b,c){return nf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return qf(this,c,K.B?K.B(this):K.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return qf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return qf(this,c,d)};return b}();g.fa=function(){return this.meta};g.oa=function(){return new sf(this.ci,this.i,this.meta)};g.Qa=function(){return 0<this.i?new sf(this.ci,this.i-1,null):null};g.ja=function(){return this.i+1};
g.ha=function(){return We(this)};g.ba=function(a,b){return tf.j?tf.j(this,b):tf.call(null,this,b)};g.Ka=function(){return Se};g.$a=function(a,b){return vf?vf(b,this):wf.call(null,b,this)};g.ab=function(a,b,c){return xf?xf(b,c,this):wf.call(null,b,c,this)};g.cb=function(){return x(this.ci,this.i)};g.mb=function(){return 0<this.i?new sf(this.ci,this.i-1,null):Se};g.ia=function(){return this};g.ga=function(a,b){return b===this.meta?this:new sf(this.ci,this.i,b)};
g.ka=function(a,b){return uf.j?uf.j(b,this):uf.call(null,b,this)};sf.prototype[Qc]=function(){return Ue(this)};function yf(a){return H(J(a))}function zf(a){return H(H(a))}function Af(a){for(;;){var b=J(a);if(null!=b)a=b;else return H(a)}}Kd._=function(a,b){return a===b};
var Bf=function Bf(a){switch(arguments.length){case 0:return Bf.O();case 1:return Bf.B(arguments[0]);case 2:return Bf.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Pe(c.slice(2),0,null);return Bf.G(arguments[0],arguments[1],c)}};Bf.O=function(){return Cf};Bf.B=function(a){return a};Bf.j=function(a,b){return null!=a?dd(a,b):new Df(null,b,null,1,null)};
Bf.G=function(a,b,c){for(;;)if(r(c))a=Bf.j(a,b),b=H(c),c=J(c);else return Bf.j(a,b)};Bf.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.G(b,a,c)};Bf.aa=2;function Ef(a){return null==a?null:null!=a&&(a.J&4||l===a.lh)?a.Ka(null):(null!=a?a.J&4||l===a.lh||(a.J?0:Mc(ad,a)):Mc(ad,a))?bd(a):null}
function K(a){if(null!=a)if(null!=a&&(a.J&2||l===a.ih))a=a.ja(null);else if(Ic(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.J&8388608||l===a.Yf))a:{a=E(a);for(var b=0;;){if(lf(a)){a=b+$c(a);break a}a=J(a);b+=1}}else a=$c(a);else a=0;return a}function Ff(a,b,c){for(;;){if(null==a)return c;if(0===b)return E(a)?H(a):c;if(mf(a))return x(a,b,c);if(E(a))a=J(a),--b;else return c}}
function pf(a){switch(arguments.length){case 2:return of(arguments[0],arguments[1]);case 3:return O(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}
function of(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.J&16||l===a.mh))return a.wa(null,b);if(Ic(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.J&64||l===a.ua)||null!=a&&(a.J&16777216||l===a.nh)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(E(a)){a=H(a);break a}throw Error("Index out of bounds");}if(mf(a)){a=x(a,b);break a}if(E(a))a=J(a),--b;else throw Error("Index out of bounds");}return a}if(Mc(ed,a))return x(a,b);throw Error(["nth not supported on this type ",t.B(Pc(Nc(a)))].join(""));}
function O(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.J&16||l===a.mh))return a.Za(null,b,c);if(Ic(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.J&64||l===a.ua)||null!=a&&(a.J&16777216||l===a.nh))return 0>b?c:Ff(a,b,c);if(Mc(ed,a))return x(a,b,c);throw Error(["nth not supported on this type ",t.B(Pc(Nc(a)))].join(""));}
var B=function B(a){switch(arguments.length){case 2:return B.j(arguments[0],arguments[1]);case 3:return B.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};B.j=function(a,b){return null==a?null:null!=a&&(a.J&256||l===a.Ci)?a.ma(null,b):Ic(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:Mc(md,a)?nd(a,b):null};
B.C=function(a,b,c){return null!=a?null!=a&&(a.J&256||l===a.Ci)?a.R(null,b,c):Ic(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:Mc(md,a)?nd(a,b,c):c:c};B.aa=3;var Q=function Q(a){switch(arguments.length){case 3:return Q.C(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Pe(c.slice(3),0,null);return Q.G(arguments[0],arguments[1],arguments[2],c)}};
Q.C=function(a,b,c){return null!=a&&(a.J&512||l===a.Yj)?a.da(null,b,c):null!=a?pd(a,b,c):Gf([b,c])};Q.G=function(a,b,c,d){for(;;)if(a=Q.C(a,b,c),r(d))b=H(d),c=yf(d),d=J(J(d));else return a};Q.ca=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);d=J(d);return this.G(b,a,c,d)};Q.aa=3;
var R=function R(a){switch(arguments.length){case 1:return R.B(arguments[0]);case 2:return R.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Pe(c.slice(2),0,null);return R.G(arguments[0],arguments[1],c)}};R.B=function(a){return a};R.j=function(a,b){return null==a?null:sd(a,b)};R.G=function(a,b,c){for(;;){if(null==a)return null;a=R.j(a,b);if(r(c))b=H(c),c=J(c);else return a}};
R.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.G(b,a,c)};R.aa=2;function Hf(a){var b="function"==ra(a);return b?b:null!=a?l===a.hh?!0:a.Hd?!1:Mc(Wc,a):Mc(Wc,a)}function If(a,b){this.ta=a;this.meta=b;this.J=393217;this.T=0}g=If.prototype;g.fa=function(){return this.meta};g.ga=function(a,b){return new If(this.ta,b)};g.hh=l;
g.call=function(a){switch(arguments.length-1){case 0:return this.O();case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);case 3:return this.C(arguments[1],arguments[2],arguments[3]);case 4:return this.P(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.la(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Ya(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Xb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.zb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Yb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Mb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Nb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Ob(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Pb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Qb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Rb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Sb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Tb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Ub(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Vb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Wb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.ve(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Tc(b)))};g.O=function(){return this.ta.O?this.ta.O():this.ta.call(null)};g.B=function(a){return this.ta.B?this.ta.B(a):this.ta.call(null,a)};g.j=function(a,b){return this.ta.j?this.ta.j(a,b):this.ta.call(null,a,b)};g.C=function(a,b,c){return this.ta.C?this.ta.C(a,b,c):this.ta.call(null,a,b,c)};
g.P=function(a,b,c,d){return this.ta.P?this.ta.P(a,b,c,d):this.ta.call(null,a,b,c,d)};g.la=function(a,b,c,d,e){return this.ta.la?this.ta.la(a,b,c,d,e):this.ta.call(null,a,b,c,d,e)};g.Ya=function(a,b,c,d,e,f){return this.ta.Ya?this.ta.Ya(a,b,c,d,e,f):this.ta.call(null,a,b,c,d,e,f)};g.Xb=function(a,b,c,d,e,f,h){return this.ta.Xb?this.ta.Xb(a,b,c,d,e,f,h):this.ta.call(null,a,b,c,d,e,f,h)};g.zb=function(a,b,c,d,e,f,h,k){return this.ta.zb?this.ta.zb(a,b,c,d,e,f,h,k):this.ta.call(null,a,b,c,d,e,f,h,k)};
g.Yb=function(a,b,c,d,e,f,h,k,m){return this.ta.Yb?this.ta.Yb(a,b,c,d,e,f,h,k,m):this.ta.call(null,a,b,c,d,e,f,h,k,m)};g.Mb=function(a,b,c,d,e,f,h,k,m,n){return this.ta.Mb?this.ta.Mb(a,b,c,d,e,f,h,k,m,n):this.ta.call(null,a,b,c,d,e,f,h,k,m,n)};g.Nb=function(a,b,c,d,e,f,h,k,m,n,p){return this.ta.Nb?this.ta.Nb(a,b,c,d,e,f,h,k,m,n,p):this.ta.call(null,a,b,c,d,e,f,h,k,m,n,p)};
g.Ob=function(a,b,c,d,e,f,h,k,m,n,p,u){return this.ta.Ob?this.ta.Ob(a,b,c,d,e,f,h,k,m,n,p,u):this.ta.call(null,a,b,c,d,e,f,h,k,m,n,p,u)};g.Pb=function(a,b,c,d,e,f,h,k,m,n,p,u,v){return this.ta.Pb?this.ta.Pb(a,b,c,d,e,f,h,k,m,n,p,u,v):this.ta.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v)};g.Qb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y){return this.ta.Qb?this.ta.Qb(a,b,c,d,e,f,h,k,m,n,p,u,v,y):this.ta.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y)};
g.Rb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F){return this.ta.Rb?this.ta.Rb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F):this.ta.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,F)};g.Sb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G){return this.ta.Sb?this.ta.Sb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G):this.ta.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G)};g.Tb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I){return this.ta.Tb?this.ta.Tb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I):this.ta.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I)};
g.Ub=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N){return this.ta.Ub?this.ta.Ub(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N):this.ta.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N)};g.Vb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N,P){return this.ta.Vb?this.ta.Vb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N,P):this.ta.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N,P)};
g.Wb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N,P,U){return this.ta.Wb?this.ta.Wb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N,P,U):this.ta.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N,P,U)};g.ve=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N,P,U,ea){return Ne.Uf?Ne.Uf(this.ta,a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N,P,U,ea):Ne.call(null,this.ta,a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N,P,U,ea)};function Jf(a,b){return"function"==ra(a)?new If(a,b):null==a?null:Ed(a,b)}
function Kf(a){return null!=a&&(null!=a?a.J&131072||l===a.ef||(a.J?0:Mc(Cd,a)):Mc(Cd,a))?Dd(a):null}var Lf=function Lf(a){switch(arguments.length){case 1:return Lf.B(arguments[0]);case 2:return Lf.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Pe(c.slice(2),0,null);return Lf.G(arguments[0],arguments[1],c)}};Lf.B=function(a){return a};Lf.j=function(a,b){return null==a?null:wd(a,b)};
Lf.G=function(a,b,c){for(;;){if(null==a)return null;a=Lf.j(a,b);if(r(c))b=H(c),c=J(c);else return a}};Lf.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.G(b,a,c)};Lf.aa=2;function Mf(a){return null==a||Kc(E(a))}function Nf(a){return null==a?!1:null!=a?a.J&8||l===a.$j?!0:a.J?!1:Mc(cd,a):Mc(cd,a)}function Of(a){return null==a?!1:null!=a?a.J&4096||l===a.jk?!0:a.J?!1:Mc(vd,a):Mc(vd,a)}function Pf(a){return null!=a?a.J&16777216||l===a.nh?!0:a.J?!1:Mc(Od,a):Mc(Od,a)}
function Qf(a){return null==a?!1:null!=a?a.J&1024||l===a.fk?!0:a.J?!1:Mc(rd,a):Mc(rd,a)}function Rf(a){return null!=a?a.J&67108864||l===a.ik?!0:a.J?!1:Mc(Qd,a):Mc(Qd,a)}function Tf(a){return null!=a?a.J&16384||l===a.kk?!0:a.J?!1:Mc(zd,a):Mc(zd,a)}function Uf(a){return null!=a?a.T&512||l===a.Zj?!0:!1:!1}function Vf(a,b,c,d,e){for(;0!==e;)c[d]=a[b],d+=1,--e,b+=1}var Wf={};function Xf(a){return null==a?!1:null!=a?a.J&64||l===a.ua?!0:a.J?!1:Mc(gd,a):Mc(gd,a)}
function Yf(a){var b=null==a;return b?b:(b=null!=a?a.J&8388608||l===a.Yf?!0:a.J?!1:Mc(Md,a):Mc(Md,a))?b:Ic(a)||"string"===typeof a}function Zf(a){return null==a?!1:!1===a?!1:!0}function $f(a){var b=Hf(a);return b?b:null!=a?a.J&1||l===a.bk?!0:a.J?!1:Mc(Xc,a):Mc(Xc,a)}function ag(a){return"number"===typeof a&&!isNaN(a)&&Infinity!==a&&parseFloat(a)===parseInt(a,10)}function bg(a,b){return B.C(a,b,Wf)===Wf?!1:!0}
var cg=function cg(a){switch(arguments.length){case 1:return cg.B(arguments[0]);case 2:return cg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Pe(c.slice(2),0,null);return cg.G(arguments[0],arguments[1],c)}};cg.B=function(){return!0};cg.j=function(a,b){return!D.j(a,b)};cg.G=function(a,b,c){if(D.j(a,b))return!1;a=dg([a,b]);for(b=c;;){var d=H(b);c=J(b);if(r(b)){if(bg(a,d))return!1;a=Bf.j(a,d);b=c}else return!0}};
cg.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.G(b,a,c)};cg.aa=2;function eg(a,b){if(a===b)return 0;if(null==a)return-1;if(null==b)return 1;if("number"===typeof a){if("number"===typeof b)return mb(a,b);throw Error(["Cannot compare ",t.B(a)," to ",t.B(b)].join(""));}if(null!=a?a.T&2048||l===a.Pc||(a.T?0:Mc(je,a)):Mc(je,a))return ke(a,b);if("string"!==typeof a&&!Ic(a)&&!0!==a&&!1!==a||Nc(a)!==Nc(b))throw Error(["Cannot compare ",t.B(a)," to ",t.B(b)].join(""));return mb(a,b)}
function fg(a,b){var c=K(a),d=K(b);if(c<d)a=-1;else if(c>d)a=1;else if(0===c)a=0;else a:for(d=0;;){var e=eg(of(a,d),of(b,d));if(0===e&&d+1<c)d+=1;else{a=e;break a}}return a}function gg(a){return D.j(a,eg)?eg:function(b,c){var d=a.j?a.j(b,c):a.call(null,b,c);return"number"===typeof d?d:r(d)?-1:r(a.j?a.j(c,b):a.call(null,c,b))?1:0}}function hg(a,b){return E(b)?(b=ig.B?ig.B(b):ig.call(null,b),nb(b,gg(a)),E(b)):Se}
function jg(a){var b=kg;return hg(function(c,d){c=b.B?b.B(c):b.call(null,c);d=b.B?b.B(d):b.call(null,d);var e=gg(eg);return e.j?e.j(c,d):e.call(null,c,d)},a)}function wf(a){switch(arguments.length){case 2:return vf(arguments[0],arguments[1]);case 3:return xf(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function vf(a,b){var c=E(b);return c?(b=H(c),c=J(c),w.C?w.C(a,b,c):w.call(null,a,b,c)):a.O?a.O():a.call(null)}
function xf(a,b,c){for(c=E(c);;)if(c){var d=H(c);b=a.j?a.j(b,d):a.call(null,b,d);if(cf(b))return z(b);c=J(c)}else return b}function lg(a){a=ig.B?ig.B(a):ig.call(null,a);for(var b=Math.random,c=a.length-1;0<c;c--){var d=Math.floor(b()*(c+1)),e=a[c];a[c]=a[d];a[d]=e}return mg.B?mg.B(a):mg.call(null,a)}function ng(a,b){a=ve(a);if(r(a.Na()))for(var c=a.next();;)if(a.Na()){var d=a.next();c=b.j?b.j(c,d):b.call(null,c,d);if(cf(c))return z(c)}else return c;else return b.O?b.O():b.call(null)}
function og(a,b,c){for(a=ve(a);;)if(a.Na()){var d=a.next();c=b.j?b.j(c,d):b.call(null,c,d);if(cf(c))return z(c)}else return c}var w=function w(a){switch(arguments.length){case 2:return w.j(arguments[0],arguments[1]);case 3:return w.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};w.j=function(a,b){return null!=b&&(b.J&524288||l===b.Di)?b.$a(null,a):Ic(b)?hf(b,a):"string"===typeof b?hf(b,a):Mc(Fd,b)?Gd(b,a):Oe(b)?ng(b,a):vf(a,b)};
w.C=function(a,b,c){return null!=c&&(c.J&524288||l===c.Di)?c.ab(null,a,b):Ic(c)?jf(c,a,b):"string"===typeof c?jf(c,a,b):Mc(Fd,c)?Gd(c,a,b):Oe(c)?og(c,a,b):xf(a,b,c)};w.aa=3;function pg(a,b,c){return null!=c?Jd(c,a,b):b}function qg(a){return a}
function rg(a){return function(){function b(f,h){return a.j?a.j(f,h):a.call(null,f,h)}function c(f){return qg.B?qg.B(f):qg.call(null,f)}function d(){return a.O?a.O():a.call(null)}var e=null;e=function(f,h){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,f);case 2:return b.call(this,f,h)}throw Error("Invalid arity: "+arguments.length);};e.O=d;e.B=c;e.j=b;return e}()}function tg(a,b,c,d){a=a.B?a.B(b):a.call(null,b);c=w.C(a,c,d);return a.B?a.B(c):a.call(null,c)}
var ug=function ug(a){switch(arguments.length){case 0:return ug.O();case 1:return ug.B(arguments[0]);case 2:return ug.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Pe(c.slice(2),0,null);return ug.G(arguments[0],arguments[1],c)}};ug.O=function(){return 0};ug.B=function(a){return a};ug.j=function(a,b){return a+b};ug.G=function(a,b,c){return w.C(ug,a+b,c)};
ug.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.G(b,a,c)};ug.aa=2;var vg=function vg(a){switch(arguments.length){case 1:return vg.B(arguments[0]);case 2:return vg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Pe(c.slice(2),0,null);return vg.G(arguments[0],arguments[1],c)}};vg.B=function(a){return-a};vg.j=function(a,b){return a-b};vg.G=function(a,b,c){return w.C(vg,a-b,c)};
vg.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.G(b,a,c)};vg.aa=2;var wg=function wg(a){switch(arguments.length){case 0:return wg.O();case 1:return wg.B(arguments[0]);case 2:return wg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Pe(c.slice(2),0,null);return wg.G(arguments[0],arguments[1],c)}};wg.O=function(){return 1};wg.B=function(a){return a};wg.j=function(a,b){return a*b};
wg.G=function(a,b,c){return w.C(wg,a*b,c)};wg.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.G(b,a,c)};wg.aa=2;var xg=function xg(a){switch(arguments.length){case 1:return xg.B(arguments[0]);case 2:return xg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Pe(c.slice(2),0,null);return xg.G(arguments[0],arguments[1],c)}};xg.B=function(a){return 1/a};xg.j=function(a,b){return a/b};
xg.G=function(a,b,c){return w.C(xg,a/b,c)};xg.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.G(b,a,c)};xg.aa=2;var yg=function yg(a){switch(arguments.length){case 1:return yg.B(arguments[0]);case 2:return yg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Pe(c.slice(2),0,null);return yg.G(arguments[0],arguments[1],c)}};yg.B=function(){return!0};yg.j=function(a,b){return a<b};
yg.G=function(a,b,c){for(;;)if(a<b)if(J(c))a=b,b=H(c),c=J(c);else return b<H(c);else return!1};yg.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.G(b,a,c)};yg.aa=2;var zg=function zg(a){switch(arguments.length){case 1:return zg.B(arguments[0]);case 2:return zg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Pe(c.slice(2),0,null);return zg.G(arguments[0],arguments[1],c)}};zg.B=function(){return!0};
zg.j=function(a,b){return a<=b};zg.G=function(a,b,c){for(;;)if(a<=b)if(J(c))a=b,b=H(c),c=J(c);else return b<=H(c);else return!1};zg.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.G(b,a,c)};zg.aa=2;var Bg=function Bg(a){switch(arguments.length){case 1:return Bg.B(arguments[0]);case 2:return Bg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Pe(c.slice(2),0,null);return Bg.G(arguments[0],arguments[1],c)}};
Bg.B=function(){return!0};Bg.j=function(a,b){return a>b};Bg.G=function(a,b,c){for(;;)if(a>b)if(J(c))a=b,b=H(c),c=J(c);else return b>H(c);else return!1};Bg.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.G(b,a,c)};Bg.aa=2;
var Cg=function Cg(a){switch(arguments.length){case 1:return Cg.B(arguments[0]);case 2:return Cg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Pe(c.slice(2),0,null);return Cg.G(arguments[0],arguments[1],c)}};Cg.B=function(){return!0};Cg.j=function(a,b){return a>=b};Cg.G=function(a,b,c){for(;;)if(a>=b)if(J(c))a=b,b=H(c),c=J(c);else return b>=H(c);else return!1};
Cg.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.G(b,a,c)};Cg.aa=2;var Dg=function Dg(a){switch(arguments.length){case 1:return Dg.B(arguments[0]);case 2:return Dg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Pe(c.slice(2),0,null);return Dg.G(arguments[0],arguments[1],c)}};Dg.B=function(a){return a};Dg.j=function(a,b){return a>b?a:b};Dg.G=function(a,b,c){return w.C(Dg,a>b?a:b,c)};
Dg.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.G(b,a,c)};Dg.aa=2;var Eg=function Eg(a){switch(arguments.length){case 1:return Eg.B(arguments[0]);case 2:return Eg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Pe(c.slice(2),0,null);return Eg.G(arguments[0],arguments[1],c)}};Eg.B=function(a){return a};Eg.j=function(a,b){return a<b?a:b};Eg.G=function(a,b,c){return w.C(Eg,a<b?a:b,c)};
Eg.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.G(b,a,c)};Eg.aa=2;function Fg(a){if("number"===typeof a)return String.fromCharCode(a);if("string"===typeof a&&1===a.length)return a;throw Error("Argument to char must be a character or number");}function Gg(a){return 0<=a?Math.floor(a):Math.ceil(a)}function Hg(a,b){return(a%b+b)%b}function Ig(a,b){return Gg((a-a%b)/b)}function Jg(a,b){return a-b*Ig(a,b)}
function Kg(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}var Lg=function Lg(a){switch(arguments.length){case 1:return Lg.B(arguments[0]);case 2:return Lg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Pe(c.slice(2),0,null);return Lg.G(arguments[0],arguments[1],c)}};Lg.B=function(){return!0};Lg.j=function(a,b){return Kd(a,b)};
Lg.G=function(a,b,c){for(;;)if(a===b)if(J(c))a=b,b=H(c),c=J(c);else return b===H(c);else return!1};Lg.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.G(b,a,c)};Lg.aa=2;var t=function t(a){switch(arguments.length){case 0:return t.O();case 1:return t.B(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Pe(c.slice(1),0,null);return t.G(arguments[0],c)}};t.O=function(){return""};t.B=function(a){return null==a?"":[a].join("")};
t.G=function(a,b){for(a=new pc(t.B(a));;)if(r(b))a=a.append(t.B(H(b))),b=J(b);else return a.toString()};t.ca=function(a){var b=H(a);a=J(a);return this.G(b,a)};t.aa=1;var Mg=function Mg(a){switch(arguments.length){case 2:return Mg.j(arguments[0],arguments[1]);case 3:return Mg.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};Mg.j=function(a,b){return a.substring(b)};Mg.C=function(a,b,c){return a.substring(b,c)};Mg.aa=3;
function tf(a,b){if(Pf(b))if(lf(a)&&lf(b)&&K(a)!==K(b))a=!1;else a:for(a=E(a),b=E(b);;){if(null==a){a=null==b;break a}if(null!=b&&D.j(H(a),H(b)))a=J(a),b=J(b);else{a=!1;break a}}else a=null;return Zf(a)}function Df(a,b,c,d,e){this.meta=a;this.first=b;this.rest=c;this.count=d;this.I=e;this.J=65937646;this.T=8192}g=Df.prototype;g.toString=function(){return ye(this)};g.equiv=function(a){return this.ba(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return nf(this,b,0);case 2:return nf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return nf(this,b,0)};a.j=function(b,c){return nf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return qf(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return qf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return qf(this,c,d)};return b}();g.fa=function(){return this.meta};g.oa=function(){return new Df(this.meta,this.first,this.rest,this.count,this.I)};g.Qa=function(){return 1===this.count?null:this.rest};g.ja=function(){return this.count};g.qd=function(){return this.first};
g.rd=function(){return this.mb(null)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=We(this)};g.ba=function(a,b){return tf(this,b)};g.Ka=function(){return Ed(Se,this.meta)};g.$a=function(a,b){return vf(b,this)};g.ab=function(a,b,c){return xf(b,c,this)};g.cb=function(){return this.first};g.mb=function(){return 1===this.count?Se:this.rest};g.ia=function(){return this};g.ga=function(a,b){return b===this.meta?this:new Df(b,this.first,this.rest,this.count,this.I)};
g.ka=function(a,b){return new Df(this.meta,b,this,this.count+1,null)};function Ng(a){return null!=a?a.J&33554432||l===a.ek?!0:a.J?!1:Mc(Pd,a):Mc(Pd,a)}Df.prototype[Qc]=function(){return Ue(this)};function Og(a){this.meta=a;this.J=65937614;this.T=8192}g=Og.prototype;g.toString=function(){return ye(this)};g.equiv=function(a){return this.ba(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return nf(this,b,0);case 2:return nf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return nf(this,b,0)};a.j=function(b,c){return nf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return qf(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return qf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return qf(this,c,d)};return b}();g.fa=function(){return this.meta};g.oa=function(){return new Og(this.meta)};g.Qa=function(){return null};g.ja=function(){return 0};g.qd=function(){return null};g.rd=function(){throw Error("Can't pop empty list");};g.ha=function(){return Xe};
g.ba=function(a,b){return Ng(b)||Pf(b)?null==E(b):!1};g.Ka=function(){return this};g.$a=function(a,b){return vf(b,this)};g.ab=function(a,b,c){return xf(b,c,this)};g.cb=function(){return null};g.mb=function(){return Se};g.ia=function(){return null};g.ga=function(a,b){return b===this.meta?this:new Og(b)};g.ka=function(a,b){return new Df(this.meta,b,null,1,null)};var Se=new Og(null);Og.prototype[Qc]=function(){return Ue(this)};
function Pg(a){return(null!=a?a.J&134217728||l===a.Ei||(a.J?0:Mc(Rd,a)):Mc(Rd,a))?(a=Sd(a))?a:Se:w.C(Bf,Se,a)}var Qg=function Qg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Pe(c.slice(0),0,null):null;return Qg.G(c)};Qg.G=function(a){if(a instanceof Pe&&0===a.i)var b=a.K;else a:for(b=[];;)if(null!=a)b.push(id(a)),a=ld(a);else break a;a=b.length;for(var c=Se;;)if(0<a){var d=a-1;c=dd(c,b[a-1]);a=d}else return c};Qg.aa=0;Qg.ca=function(a){return this.G(E(a))};
function Rg(a,b,c,d){this.meta=a;this.first=b;this.rest=c;this.I=d;this.J=65929452;this.T=8192}g=Rg.prototype;g.toString=function(){return ye(this)};g.equiv=function(a){return this.ba(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return nf(this,b,0);case 2:return nf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return nf(this,b,0)};a.j=function(b,c){return nf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return qf(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return qf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return qf(this,c,d)};return b}();g.fa=function(){return this.meta};g.oa=function(){return new Rg(this.meta,this.first,this.rest,this.I)};g.Qa=function(){return null==this.rest?null:E(this.rest)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=We(this)};
g.ba=function(a,b){return tf(this,b)};g.Ka=function(){return Se};g.$a=function(a,b){return vf(b,this)};g.ab=function(a,b,c){return xf(b,c,this)};g.cb=function(){return this.first};g.mb=function(){return null==this.rest?Se:this.rest};g.ia=function(){return this};g.ga=function(a,b){return b===this.meta?this:new Rg(b,this.first,this.rest,this.I)};g.ka=function(a,b){return new Rg(null,b,this,null)};Rg.prototype[Qc]=function(){return Ue(this)};
function uf(a,b){return null==b?new Df(null,a,null,1,null):null!=b&&(b.J&64||l===b.ua)?new Rg(null,a,b,null):new Rg(null,a,E(b),null)}function Sg(a,b){if(a.na===b.na)return 0;if(r(Kc(a.ac)?b.ac:!1))return-1;if(r(a.ac)){if(Kc(b.ac))return 1;var c=mb(a.ac,b.ac);return 0===c?mb(a.name,b.name):c}return mb(a.name,b.name)}function C(a,b,c,d){this.ac=a;this.name=b;this.na=c;this._hash=d;this.J=2153775105;this.T=4096}g=C.prototype;g.toString=function(){return[":",t.B(this.na)].join("")};
g.equiv=function(a){return this.ba(null,a)};g.ba=function(a,b){return b instanceof C?this.na===b.na:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Tc(b)))};g.B=function(a){return B.j(a,this)};g.j=function(a,b){return B.C(a,this,b)};
g.ha=function(){var a=this._hash;return null!=a?a:this._hash=a=Ie(this)+2654435769|0};g.we=function(){return this.name};g.xe=function(){return this.ac};g.ea=function(a,b){return Vd(b,[":",t.B(this.na)].join(""))};function S(a,b){return a===b?!0:a instanceof C&&b instanceof C?a.na===b.na:!1}function Ug(a){if(null!=a&&(a.T&4096||l===a.Xf))return a.xe(null);throw Error(["Doesn't support namespace: ",t.B(a)].join(""));}function Vg(a){return a instanceof C||a instanceof A}
var Wg=function Wg(a){switch(arguments.length){case 1:return Wg.B(arguments[0]);case 2:return Wg.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};Wg.B=function(a){if(a instanceof C)return a;if(a instanceof A)return new C(Ug(a),Xg.B?Xg.B(a):Xg.call(null,a),a.cc,null);if(D.j("/",a))return new C(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new C(b[0],b[1],a,null):new C(null,b[0],a,null)}return null};
Wg.j=function(a,b){a=a instanceof C?Xg.B?Xg.B(a):Xg.call(null,a):a instanceof A?Xg.B?Xg.B(a):Xg.call(null,a):a;b=b instanceof C?Xg.B?Xg.B(b):Xg.call(null,b):b instanceof A?Xg.B?Xg.B(b):Xg.call(null,b):b;return new C(a,b,[r(a)?[t.B(a),"/"].join(""):null,t.B(b)].join(""),null)};Wg.aa=2;function Yg(a,b,c,d){this.meta=a;this.fn=b;this.s=c;this.I=d;this.J=32374988;this.T=1}g=Yg.prototype;g.toString=function(){return ye(this)};g.equiv=function(a){return this.ba(null,a)};
function Zg(a){null!=a.fn&&(a.s=a.fn.O?a.fn.O():a.fn.call(null),a.fn=null);return a.s}g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return nf(this,b,0);case 2:return nf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return nf(this,b,0)};a.j=function(b,c){return nf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return qf(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return qf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return qf(this,c,d)};return b}();g.fa=function(){return this.meta};g.Qa=function(){this.ia(null);return null==this.s?null:J(this.s)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=We(this)};g.ba=function(a,b){return tf(this,b)};
g.Ka=function(){return Ed(Se,this.meta)};g.ff=function(){return Kc(this.fn)};g.$a=function(a,b){return vf(b,this)};g.ab=function(a,b,c){return xf(b,c,this)};g.cb=function(){this.ia(null);return null==this.s?null:H(this.s)};g.mb=function(){this.ia(null);return null!=this.s?Re(this.s):Se};g.ia=function(){Zg(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof Yg)a=Zg(a);else return this.s=a,E(this.s)};
g.ga=function(a,b){var c=this;return b===this.meta?c:new Yg(b,function(){return c.ia(null)},null,this.I)};g.ka=function(a,b){return uf(b,this)};Yg.prototype[Qc]=function(){return Ue(this)};function $g(a){this.buf=a;this.end=0;this.J=2;this.T=0}$g.prototype.add=function(a){this.buf[this.end]=a;return this.end+=1};$g.prototype.dc=function(){var a=new ah(this.buf,0,this.end);this.buf=null;return a};$g.prototype.ja=function(){return this.end};function bh(a){return new $g(Array(a))}
function ah(a,b,c){this.K=a;this.off=b;this.end=c;this.J=524306;this.T=0}g=ah.prototype;g.ja=function(){return this.end-this.off};g.wa=function(a,b){return this.K[this.off+b]};g.Za=function(a,b,c){return 0<=b&&b<this.end-this.off?this.K[this.off+b]:c};g.se=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new ah(this.K,this.off+1,this.end)};g.$a=function(a,b){return kf(this.K,b,this.K[this.off],this.off+1)};g.ab=function(a,b,c){return kf(this.K,b,c,this.off)};
function ch(a,b,c,d){this.dc=a;this.more=b;this.meta=c;this.I=d;this.J=31850732;this.T=1536}g=ch.prototype;g.toString=function(){return ye(this)};g.equiv=function(a){return this.ba(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return nf(this,b,0);case 2:return nf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return nf(this,b,0)};a.j=function(b,c){return nf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return qf(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return qf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return qf(this,c,d)};return b}();g.fa=function(){return this.meta};g.Qa=function(){return 1<$c(this.dc)?new ch(le(this.dc),this.more,null,null):null==this.more?null:Nd(this.more)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=We(this)};
g.ba=function(a,b){return tf(this,b)};g.Ka=function(){return Se};g.cb=function(){return x(this.dc,0)};g.mb=function(){return 1<$c(this.dc)?new ch(le(this.dc),this.more,null,null):null==this.more?Se:this.more};g.ia=function(){return this};g.ue=function(){return this.dc};g.Od=function(){return null==this.more?Se:this.more};g.ga=function(a,b){return b===this.meta?this:new ch(this.dc,this.more,b,this.I)};g.ka=function(a,b){return uf(b,this)};g.te=function(){return null==this.more?null:this.more};
ch.prototype[Qc]=function(){return Ue(this)};function dh(a,b){return 0===$c(a)?b:new ch(a,b,null,null)}function eh(a,b){a.add(b)}function fh(a){return a.dc()}function ig(a){var b=[];for(a=E(a);;)if(null!=a)b.push(H(a)),a=J(a);else return b}function gh(a,b){if(lf(b))return K(b);var c=0;for(b=E(b);;)if(null!=b&&c<a)c+=1,b=J(b);else return c}
var hh=function hh(a){if(null==a)return null;var c=J(a);return null==c?E(H(a)):uf(H(a),hh.B?hh.B(c):hh.call(null,c))},T=function T(a){switch(arguments.length){case 0:return T.O();case 1:return T.B(arguments[0]);case 2:return T.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Pe(c.slice(2),0,null);return T.G(arguments[0],arguments[1],c)}};T.O=function(){return new Yg(null,function(){return null},null,null)};
T.B=function(a){return new Yg(null,function(){return a},null,null)};T.j=function(a,b){return new Yg(null,function(){var c=E(a);return c?Uf(c)?dh(me(c),T.j(ne(c),b)):uf(H(c),T.j(Re(c),b)):b},null,null)};T.G=function(a,b,c){return function h(e,f){return new Yg(null,function(){var k=E(e);return k?Uf(k)?dh(me(k),h(ne(k),f)):uf(H(k),h(Re(k),f)):r(f)?h(H(f),J(f)):null},null,null)}(T.j(a,b),c)};T.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.G(b,a,c)};T.aa=2;
function ih(a,b,c){return uf(a,uf(b,c))}function jh(a){return ce(a)}function kh(a){return ge(a)}var lh=function lh(a){switch(arguments.length){case 0:return lh.O();case 1:return lh.B(arguments[0]);case 2:return lh.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Pe(c.slice(2),0,null);return lh.G(arguments[0],arguments[1],c)}};lh.O=function(){return ce(Cf)};lh.B=function(a){return a};lh.j=function(a,b){return de(a,b)};
lh.G=function(a,b,c){for(;;)if(a=de(a,b),r(c))b=H(c),c=J(c);else return a};lh.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.G(b,a,c)};lh.aa=2;var mh=function mh(a){switch(arguments.length){case 3:return mh.C(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Pe(c.slice(3),0,null);return mh.G(arguments[0],arguments[1],arguments[2],c)}};mh.C=function(a,b,c){return he(a,b,c)};
mh.G=function(a,b,c,d){for(;;)if(a=he(a,b,c),r(d))b=H(d),c=yf(d),d=J(J(d));else return a};mh.ca=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);d=J(d);return this.G(b,a,c,d)};mh.aa=3;
function nh(a,b,c){var d=E(c);if(0===b)return a.O?a.O():a.call(null);c=id(d);var e=jd(d);if(1===b)return a.B?a.B(c):a.call(null,c);d=id(e);var f=jd(e);if(2===b)return a.j?a.j(c,d):a.call(null,c,d);e=id(f);var h=jd(f);if(3===b)return a.C?a.C(c,d,e):a.call(null,c,d,e);f=id(h);var k=jd(h);if(4===b)return a.P?a.P(c,d,e,f):a.call(null,c,d,e,f);h=id(k);var m=jd(k);if(5===b)return a.la?a.la(c,d,e,f,h):a.call(null,c,d,e,f,h);k=id(m);var n=jd(m);if(6===b)return a.Ya?a.Ya(c,d,e,f,h,k):a.call(null,c,d,e,f,h,
k);m=id(n);var p=jd(n);if(7===b)return a.Xb?a.Xb(c,d,e,f,h,k,m):a.call(null,c,d,e,f,h,k,m);n=id(p);var u=jd(p);if(8===b)return a.zb?a.zb(c,d,e,f,h,k,m,n):a.call(null,c,d,e,f,h,k,m,n);p=id(u);var v=jd(u);if(9===b)return a.Yb?a.Yb(c,d,e,f,h,k,m,n,p):a.call(null,c,d,e,f,h,k,m,n,p);u=id(v);var y=jd(v);if(10===b)return a.Mb?a.Mb(c,d,e,f,h,k,m,n,p,u):a.call(null,c,d,e,f,h,k,m,n,p,u);v=id(y);var F=jd(y);if(11===b)return a.Nb?a.Nb(c,d,e,f,h,k,m,n,p,u,v):a.call(null,c,d,e,f,h,k,m,n,p,u,v);y=id(F);var G=jd(F);
if(12===b)return a.Ob?a.Ob(c,d,e,f,h,k,m,n,p,u,v,y):a.call(null,c,d,e,f,h,k,m,n,p,u,v,y);F=id(G);var I=jd(G);if(13===b)return a.Pb?a.Pb(c,d,e,f,h,k,m,n,p,u,v,y,F):a.call(null,c,d,e,f,h,k,m,n,p,u,v,y,F);G=id(I);var N=jd(I);if(14===b)return a.Qb?a.Qb(c,d,e,f,h,k,m,n,p,u,v,y,F,G):a.call(null,c,d,e,f,h,k,m,n,p,u,v,y,F,G);I=id(N);var P=jd(N);if(15===b)return a.Rb?a.Rb(c,d,e,f,h,k,m,n,p,u,v,y,F,G,I):a.call(null,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I);N=id(P);var U=jd(P);if(16===b)return a.Sb?a.Sb(c,d,e,f,h,k,m,
n,p,u,v,y,F,G,I,N):a.call(null,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N);P=id(U);var ea=jd(U);if(17===b)return a.Tb?a.Tb(c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N,P):a.call(null,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N,P);U=id(ea);var fa=jd(ea);if(18===b)return a.Ub?a.Ub(c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N,P,U):a.call(null,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N,P,U);ea=id(fa);fa=jd(fa);if(19===b)return a.Vb?a.Vb(c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N,P,U,ea):a.call(null,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N,P,U,ea);var sa=id(fa);jd(fa);if(20===b)return a.Wb?
a.Wb(c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N,P,U,ea,sa):a.call(null,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N,P,U,ea,sa);throw Error("Only up to 20 arguments supported on functions");}function oh(a){return null!=a&&(a.J&128||l===a.ye)?a.Qa(null):E(Re(a))}function ph(a,b,c){return null==c?a.B?a.B(b):a.call(a,b):qh(a,b,id(c),oh(c))}function qh(a,b,c,d){return null==d?a.j?a.j(b,c):a.call(a,b,c):rh(a,b,c,id(d),oh(d))}function rh(a,b,c,d,e){return null==e?a.C?a.C(b,c,d):a.call(a,b,c,d):th(a,b,c,d,id(e),oh(e))}
function th(a,b,c,d,e,f){if(null==f)return a.P?a.P(b,c,d,e):a.call(a,b,c,d,e);var h=id(f),k=J(f);if(null==k)return a.la?a.la(b,c,d,e,h):a.call(a,b,c,d,e,h);f=id(k);var m=J(k);if(null==m)return a.Ya?a.Ya(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=id(m);var n=J(m);if(null==n)return a.Xb?a.Xb(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);m=id(n);var p=J(n);if(null==p)return a.zb?a.zb(b,c,d,e,h,f,k,m):a.call(a,b,c,d,e,h,f,k,m);n=id(p);var u=J(p);if(null==u)return a.Yb?a.Yb(b,c,d,e,h,f,k,m,n):a.call(a,b,c,d,e,h,f,
k,m,n);p=id(u);var v=J(u);if(null==v)return a.Mb?a.Mb(b,c,d,e,h,f,k,m,n,p):a.call(a,b,c,d,e,h,f,k,m,n,p);u=id(v);var y=J(v);if(null==y)return a.Nb?a.Nb(b,c,d,e,h,f,k,m,n,p,u):a.call(a,b,c,d,e,h,f,k,m,n,p,u);v=id(y);var F=J(y);if(null==F)return a.Ob?a.Ob(b,c,d,e,h,f,k,m,n,p,u,v):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v);y=id(F);var G=J(F);if(null==G)return a.Pb?a.Pb(b,c,d,e,h,f,k,m,n,p,u,v,y):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v,y);F=id(G);var I=J(G);if(null==I)return a.Qb?a.Qb(b,c,d,e,h,f,k,m,n,p,u,v,y,F):a.call(a,
b,c,d,e,h,f,k,m,n,p,u,v,y,F);G=id(I);var N=J(I);if(null==N)return a.Rb?a.Rb(b,c,d,e,h,f,k,m,n,p,u,v,y,F,G):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v,y,F,G);I=id(N);var P=J(N);if(null==P)return a.Sb?a.Sb(b,c,d,e,h,f,k,m,n,p,u,v,y,F,G,I):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v,y,F,G,I);N=id(P);var U=J(P);if(null==U)return a.Tb?a.Tb(b,c,d,e,h,f,k,m,n,p,u,v,y,F,G,I,N):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v,y,F,G,I,N);P=id(U);var ea=J(U);if(null==ea)return a.Ub?a.Ub(b,c,d,e,h,f,k,m,n,p,u,v,y,F,G,I,N,P):a.call(a,b,c,d,e,h,f,
k,m,n,p,u,v,y,F,G,I,N,P);U=id(ea);var fa=J(ea);if(null==fa)return a.Vb?a.Vb(b,c,d,e,h,f,k,m,n,p,u,v,y,F,G,I,N,P,U):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v,y,F,G,I,N,P,U);ea=id(fa);fa=J(fa);if(null==fa)return a.Wb?a.Wb(b,c,d,e,h,f,k,m,n,p,u,v,y,F,G,I,N,P,U,ea):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v,y,F,G,I,N,P,U,ea);b=[b,c,d,e,h,f,k,m,n,p,u,v,y,F,G,I,N,P,U,ea];for(c=fa;;)if(c)b.push(id(c)),c=J(c);else break;return a.apply(a,b)}
function Ne(a){switch(arguments.length){case 2:return uh(arguments[0],arguments[1]);case 3:return vh(arguments[0],arguments[1],arguments[2]);case 4:return wh(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return xh(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=new Pe(b.slice(5),0,null);return yh(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)}}
function uh(a,b){if(a.ca){var c=a.aa,d=gh(c+1,b);return d<=c?nh(a,d,b):a.ca(b)}b=E(b);return null==b?a.O?a.O():a.call(a):ph(a,id(b),oh(b))}function vh(a,b,c){if(a.ca){b=uf(b,c);var d=a.aa;c=gh(d,c)+1;return c<=d?nh(a,c,b):a.ca(b)}return ph(a,b,E(c))}function wh(a,b,c,d){return a.ca?(b=ih(b,c,d),c=a.aa,d=2+gh(c-1,d),d<=c?nh(a,d,b):a.ca(b)):qh(a,b,c,E(d))}function xh(a,b,c,d,e){return a.ca?(b=uf(b,uf(c,uf(d,e))),c=a.aa,e=3+gh(c-2,e),e<=c?nh(a,e,b):a.ca(b)):rh(a,b,c,d,E(e))}
function yh(a,b,c,d,e,f){return a.ca?(f=hh(f),b=uf(b,uf(c,uf(d,uf(e,f)))),c=a.aa,f=4+gh(c-3,f),f<=c?nh(a,f,b):a.ca(b)):th(a,b,c,d,e,hh(f))}var zh=function zh(a){switch(arguments.length){case 1:return zh.B(arguments[0]);case 2:return zh.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Pe(c.slice(2),0,null);return zh.G(arguments[0],arguments[1],c)}};zh.B=function(){return!1};zh.j=function(a,b){return!D.j(a,b)};
zh.G=function(a,b,c){return Kc(wh(D,a,b,c))};zh.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.G(b,a,c)};zh.aa=2;function Ah(a){return E(a)?a:null}
function Bh(){if("undefined"===typeof qc||"undefined"===typeof rc||"undefined"===typeof tc)tc=function(a){this.ej=a;this.J=393216;this.T=0},tc.prototype.ga=function(a,b){return new tc(b)},tc.prototype.fa=function(){return this.ej},tc.prototype.Na=function(){return!1},tc.prototype.next=function(){return Error("No such element")},tc.prototype.remove=function(){return Error("Unsupported operation")},tc.Ab=!0,tc.sb="cljs.core/t_cljs$core19792",tc.Eb=function(a){return Vd(a,"cljs.core/t_cljs$core19792")};
return new tc(V)}function Ch(a){this.s=a;this.i=0}Ch.prototype.Na=function(){return this.i<this.s.length};Ch.prototype.next=function(){var a=this.s.charAt(this.i);this.i+=1;return a};Ch.prototype.remove=function(){return Error("Unsupported operation")};function Dh(a){this.K=a;this.i=0}Dh.prototype.Na=function(){return this.i<this.K.length};Dh.prototype.next=function(){var a=this.K[this.i];this.i+=1;return a};Dh.prototype.remove=function(){return Error("Unsupported operation")};var Eh={},Fh={};
function Gh(a){this.ne=Eh;this._next=a}Gh.prototype.Na=function(){this.ne===Eh?(this.ne=Fh,this._next=E(this._next)):this.ne===this._next&&(this._next=J(this.ne));return null!=this._next};Gh.prototype.next=function(){if(this.Na())return this.ne=this._next,H(this._next);throw Error("No such element");};Gh.prototype.remove=function(){return Error("Unsupported operation")};
function Hh(a){if(Oe(a))return ve(a);if(null==a)return Bh();if("string"===typeof a)return new Ch(a);if(Ic(a))return new Dh(a);if(Yf(a))return new Gh(a);throw Error(["Cannot create iterator from ",t.B(a)].join(""));}function Ih(a){this.vals=a}Ih.prototype.add=function(a){this.vals.push(a);return this};Ih.prototype.remove=function(){return this.vals.shift()};Ih.prototype.isEmpty=function(){return 0===this.vals.length};Ih.prototype.toString=function(){return["Many: ",t.B(this.vals)].join("")};
var Jh={};function Kh(a){this.val=a}Kh.prototype.add=function(a){return this.val===Jh?(this.val=a,this):new Ih([this.val,a])};Kh.prototype.remove=function(){if(this.val===Jh)throw Error("Removing object from empty buffer");var a=this.val;this.val=Jh;return a};Kh.prototype.isEmpty=function(){return this.val===Jh};Kh.prototype.toString=function(){return["Single: ",t.B(this.val)].join("")};function Lh(){}Lh.prototype.add=function(a){return new Kh(a)};
Lh.prototype.remove=function(){throw Error("Removing object from empty buffer");};Lh.prototype.isEmpty=function(){return!0};Lh.prototype.toString=function(){return"Empty"};var Mh=new Lh,Nh=function Nh(a){return new Yg(null,function(){if(a.Na())for(var c=[],d=0;;){var e=a.Na();if(r(r(e)?32>d:e))c[d]=a.next(),d+=1;else return dh(new ah(c,0,d),Nh.B?Nh.B(a):Nh.call(null,a))}else return null},null,null)};function Oh(a){this.buffer=Mh;this._next=Jh;this.kg=!1;this.cd=null;this.Kg=a;this.xj=!1}
Oh.prototype.step=function(){if(this._next!==Jh)return!0;for(;;)if(this._next===Jh)if(this.buffer.isEmpty()){if(this.kg)return!1;if(this.Kg.Na()){if(this.xj)var a=uh(this.cd,uf(null,this.Kg.next()));else a=this.Kg.next(),a=this.cd.j?this.cd.j(null,a):this.cd.call(null,null,a);cf(a)&&(this.cd.B?this.cd.B(null):this.cd.call(null,null),this.kg=!0)}else this.cd.B?this.cd.B(null):this.cd.call(null,null),this.kg=!0}else this._next=this.buffer.remove();else return!0};Oh.prototype.Na=function(){return this.step()};
Oh.prototype.next=function(){if(this.Na()){var a=this._next;this._next=Jh;return a}throw Error("No such element");};Oh.prototype.remove=function(){return Error("Unsupported operation")};Oh.prototype[Qc]=function(){return Ue(this)};
function Ph(a,b){var c=new Oh(b);c.cd=function(){var d=function(){function e(h,k){c.buffer=c.buffer.add(k);return h}var f=null;f=function(h,k){switch(arguments.length){case 0:return null;case 1:return h;case 2:return e.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.O=function(){return null};f.B=function(h){return h};f.j=e;return f}();return a.B?a.B(d):a.call(null,d)}();return c}
function Qh(a,b){for(;;){if(null==E(b))return!0;var c=H(b);c=a.B?a.B(c):a.call(null,c);if(r(c))b=J(b);else return!1}}function Rh(a,b){for(;;)if(b=E(b)){var c=H(b);c=a.B?a.B(c):a.call(null,c);if(r(c))return c;b=J(b)}else return null}function Sh(a){if(ag(a))return 0===(a&1);throw Error(["Argument must be an integer: ",t.B(a)].join(""));}
function Th(a){return function(){function b(h,k){return Kc(a.j?a.j(h,k):a.call(null,h,k))}function c(h){return Kc(a.B?a.B(h):a.call(null,h))}function d(){return Kc(a.O?a.O():a.call(null))}var e=null,f=function(){function h(m,n,p){var u=null;if(2<arguments.length){u=0;for(var v=Array(arguments.length-2);u<v.length;)v[u]=arguments[u+2],++u;u=new Pe(v,0,null)}return k.call(this,m,n,u)}function k(m,n,p){return Kc(wh(a,m,n,p))}h.aa=2;h.ca=function(m){var n=H(m);m=J(m);var p=H(m);m=Re(m);return k(n,p,m)};
h.G=k;return h}();e=function(h,k,m){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,h);case 2:return b.call(this,h,k);default:var n=null;if(2<arguments.length){n=0;for(var p=Array(arguments.length-2);n<p.length;)p[n]=arguments[n+2],++n;n=new Pe(p,0,null)}return f.G(h,k,n)}throw Error("Invalid arity: "+arguments.length);};e.aa=2;e.ca=f.ca;e.O=d;e.B=c;e.j=b;e.G=f.G;return e}()}
var Vh=function Vh(a){switch(arguments.length){case 0:return Vh.O();case 1:return Vh.B(arguments[0]);case 2:return Vh.j(arguments[0],arguments[1]);case 3:return Vh.C(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Pe(c.slice(3),0,null);return Vh.G(arguments[0],arguments[1],arguments[2],c)}};Vh.O=function(){return qg};Vh.B=function(a){return a};
Vh.j=function(a,b){return function(){function c(m,n,p){m=b.C?b.C(m,n,p):b.call(null,m,n,p);return a.B?a.B(m):a.call(null,m)}function d(m,n){m=b.j?b.j(m,n):b.call(null,m,n);return a.B?a.B(m):a.call(null,m)}function e(m){m=b.B?b.B(m):b.call(null,m);return a.B?a.B(m):a.call(null,m)}function f(){var m=b.O?b.O():b.call(null);return a.B?a.B(m):a.call(null,m)}var h=null,k=function(){function m(p,u,v,y){var F=null;if(3<arguments.length){F=0;for(var G=Array(arguments.length-3);F<G.length;)G[F]=arguments[F+
3],++F;F=new Pe(G,0,null)}return n.call(this,p,u,v,F)}function n(p,u,v,y){p=xh(b,p,u,v,y);return a.B?a.B(p):a.call(null,p)}m.aa=3;m.ca=function(p){var u=H(p);p=J(p);var v=H(p);p=J(p);var y=H(p);p=Re(p);return n(u,v,y,p)};m.G=n;return m}();h=function(m,n,p,u){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,m,n,p);default:var v=null;if(3<arguments.length){v=0;for(var y=Array(arguments.length-3);v<y.length;)y[v]=
arguments[v+3],++v;v=new Pe(y,0,null)}return k.G(m,n,p,v)}throw Error("Invalid arity: "+arguments.length);};h.aa=3;h.ca=k.ca;h.O=f;h.B=e;h.j=d;h.C=c;h.G=k.G;return h}()};
Vh.C=function(a,b,c){return function(){function d(n,p,u){n=c.C?c.C(n,p,u):c.call(null,n,p,u);n=b.B?b.B(n):b.call(null,n);return a.B?a.B(n):a.call(null,n)}function e(n,p){n=c.j?c.j(n,p):c.call(null,n,p);n=b.B?b.B(n):b.call(null,n);return a.B?a.B(n):a.call(null,n)}function f(n){n=c.B?c.B(n):c.call(null,n);n=b.B?b.B(n):b.call(null,n);return a.B?a.B(n):a.call(null,n)}function h(){var n=c.O?c.O():c.call(null);n=b.B?b.B(n):b.call(null,n);return a.B?a.B(n):a.call(null,n)}var k=null,m=function(){function n(u,
v,y,F){var G=null;if(3<arguments.length){G=0;for(var I=Array(arguments.length-3);G<I.length;)I[G]=arguments[G+3],++G;G=new Pe(I,0,null)}return p.call(this,u,v,y,G)}function p(u,v,y,F){u=xh(c,u,v,y,F);u=b.B?b.B(u):b.call(null,u);return a.B?a.B(u):a.call(null,u)}n.aa=3;n.ca=function(u){var v=H(u);u=J(u);var y=H(u);u=J(u);var F=H(u);u=Re(u);return p(v,y,F,u)};n.G=p;return n}();k=function(n,p,u,v){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,n);case 2:return e.call(this,
n,p);case 3:return d.call(this,n,p,u);default:var y=null;if(3<arguments.length){y=0;for(var F=Array(arguments.length-3);y<F.length;)F[y]=arguments[y+3],++y;y=new Pe(F,0,null)}return m.G(n,p,u,y)}throw Error("Invalid arity: "+arguments.length);};k.aa=3;k.ca=m.ca;k.O=h;k.B=f;k.j=e;k.C=d;k.G=m.G;return k}()};
Vh.G=function(a,b,c,d){var e=Pg(uf(a,uf(b,uf(c,d))));return function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new Pe(n,0,null)}return h.call(this,m)}function h(k){k=uh(H(e),k);for(var m=J(e);;)if(m){var n=H(m);k=n.B?n.B(k):n.call(null,k);m=J(m)}else return k}f.aa=0;f.ca=function(k){k=E(k);return h(k)};f.G=h;return f}()};Vh.ca=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);d=J(d);return this.G(b,a,c,d)};
Vh.aa=3;var Wh=function Wh(a){switch(arguments.length){case 1:return Wh.B(arguments[0]);case 2:return Wh.j(arguments[0],arguments[1]);case 3:return Wh.C(arguments[0],arguments[1],arguments[2]);case 4:return Wh.P(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Pe(c.slice(4),0,null);return Wh.G(arguments[0],arguments[1],arguments[2],arguments[3],c)}};Wh.B=function(a){return a};
Wh.j=function(a,b){return function(){function c(m,n,p){return a.P?a.P(b,m,n,p):a.call(null,b,m,n,p)}function d(m,n){return a.C?a.C(b,m,n):a.call(null,b,m,n)}function e(m){return a.j?a.j(b,m):a.call(null,b,m)}function f(){return a.B?a.B(b):a.call(null,b)}var h=null,k=function(){function m(p,u,v,y){var F=null;if(3<arguments.length){F=0;for(var G=Array(arguments.length-3);F<G.length;)G[F]=arguments[F+3],++F;F=new Pe(G,0,null)}return n.call(this,p,u,v,F)}function n(p,u,v,y){return yh(a,b,p,u,v,M([y]))}
m.aa=3;m.ca=function(p){var u=H(p);p=J(p);var v=H(p);p=J(p);var y=H(p);p=Re(p);return n(u,v,y,p)};m.G=n;return m}();h=function(m,n,p,u){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,m,n,p);default:var v=null;if(3<arguments.length){v=0;for(var y=Array(arguments.length-3);v<y.length;)y[v]=arguments[v+3],++v;v=new Pe(y,0,null)}return k.G(m,n,p,v)}throw Error("Invalid arity: "+arguments.length);};h.aa=3;h.ca=k.ca;
h.O=f;h.B=e;h.j=d;h.C=c;h.G=k.G;return h}()};
Wh.C=function(a,b,c){return function(){function d(n,p,u){return a.la?a.la(b,c,n,p,u):a.call(null,b,c,n,p,u)}function e(n,p){return a.P?a.P(b,c,n,p):a.call(null,b,c,n,p)}function f(n){return a.C?a.C(b,c,n):a.call(null,b,c,n)}function h(){return a.j?a.j(b,c):a.call(null,b,c)}var k=null,m=function(){function n(u,v,y,F){var G=null;if(3<arguments.length){G=0;for(var I=Array(arguments.length-3);G<I.length;)I[G]=arguments[G+3],++G;G=new Pe(I,0,null)}return p.call(this,u,v,y,G)}function p(u,v,y,F){return yh(a,
b,c,u,v,M([y,F]))}n.aa=3;n.ca=function(u){var v=H(u);u=J(u);var y=H(u);u=J(u);var F=H(u);u=Re(u);return p(v,y,F,u)};n.G=p;return n}();k=function(n,p,u,v){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,n);case 2:return e.call(this,n,p);case 3:return d.call(this,n,p,u);default:var y=null;if(3<arguments.length){y=0;for(var F=Array(arguments.length-3);y<F.length;)F[y]=arguments[y+3],++y;y=new Pe(F,0,null)}return m.G(n,p,u,y)}throw Error("Invalid arity: "+arguments.length);
};k.aa=3;k.ca=m.ca;k.O=h;k.B=f;k.j=e;k.C=d;k.G=m.G;return k}()};
Wh.P=function(a,b,c,d){return function(){function e(p,u,v){return a.Ya?a.Ya(b,c,d,p,u,v):a.call(null,b,c,d,p,u,v)}function f(p,u){return a.la?a.la(b,c,d,p,u):a.call(null,b,c,d,p,u)}function h(p){return a.P?a.P(b,c,d,p):a.call(null,b,c,d,p)}function k(){return a.C?a.C(b,c,d):a.call(null,b,c,d)}var m=null,n=function(){function p(v,y,F,G){var I=null;if(3<arguments.length){I=0;for(var N=Array(arguments.length-3);I<N.length;)N[I]=arguments[I+3],++I;I=new Pe(N,0,null)}return u.call(this,v,y,F,I)}function u(v,
y,F,G){return yh(a,b,c,d,v,M([y,F,G]))}p.aa=3;p.ca=function(v){var y=H(v);v=J(v);var F=H(v);v=J(v);var G=H(v);v=Re(v);return u(y,F,G,v)};p.G=u;return p}();m=function(p,u,v,y){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,p);case 2:return f.call(this,p,u);case 3:return e.call(this,p,u,v);default:var F=null;if(3<arguments.length){F=0;for(var G=Array(arguments.length-3);F<G.length;)G[F]=arguments[F+3],++F;F=new Pe(G,0,null)}return n.G(p,u,v,F)}throw Error("Invalid arity: "+
arguments.length);};m.aa=3;m.ca=n.ca;m.O=k;m.B=h;m.j=f;m.C=e;m.G=n.G;return m}()};Wh.G=function(a,b,c,d,e){return function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new Pe(n,0,null)}return h.call(this,m)}function h(k){return xh(a,b,c,d,T.j(e,k))}f.aa=0;f.ca=function(k){k=E(k);return h(k)};f.G=h;return f}()};
Wh.ca=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);e=J(e);return this.G(b,a,c,d,e)};Wh.aa=4;
function Xh(a,b){return function(){function c(k,m,n){k=null==k?b:k;return a.C?a.C(k,m,n):a.call(null,k,m,n)}function d(k,m){k=null==k?b:k;return a.j?a.j(k,m):a.call(null,k,m)}function e(k){k=null==k?b:k;return a.B?a.B(k):a.call(null,k)}var f=null,h=function(){function k(n,p,u,v){var y=null;if(3<arguments.length){y=0;for(var F=Array(arguments.length-3);y<F.length;)F[y]=arguments[y+3],++y;y=new Pe(F,0,null)}return m.call(this,n,p,u,y)}function m(n,p,u,v){return xh(a,null==n?b:n,p,u,v)}k.aa=3;k.ca=function(n){var p=
H(n);n=J(n);var u=H(n);n=J(n);var v=H(n);n=Re(n);return m(p,u,v,n)};k.G=m;return k}();f=function(k,m,n,p){switch(arguments.length){case 1:return e.call(this,k);case 2:return d.call(this,k,m);case 3:return c.call(this,k,m,n);default:var u=null;if(3<arguments.length){u=0;for(var v=Array(arguments.length-3);u<v.length;)v[u]=arguments[u+3],++u;u=new Pe(v,0,null)}return h.G(k,m,n,u)}throw Error("Invalid arity: "+arguments.length);};f.aa=3;f.ca=h.ca;f.B=e;f.j=d;f.C=c;f.G=h.G;return f}()}
function Yh(a,b){return new Yg(null,function(){var c=E(b);if(c){if(Uf(c)){for(var d=me(c),e=K(d),f=bh(e),h=0;;)if(h<e){var k=function(){var m=x(d,h);return a.B?a.B(m):a.call(null,m)}();null!=k&&f.add(k);h+=1}else break;return dh(fh(f),Yh(a,ne(c)))}e=function(){var m=H(c);return a.B?a.B(m):a.call(null,m)}();return null==e?Yh(a,Re(c)):uf(e,Yh(a,Re(c)))}return null},null,null)}function Zh(a,b,c){this.state=a;this.meta=b;this.validator=c;this.Cb=null;this.T=16386;this.J=6455296}g=Zh.prototype;
g.equiv=function(a){return this.ba(null,a)};g.ba=function(a,b){return this===b};g.Db=function(){return this.state};g.fa=function(){return this.meta};g.eg=function(a,b){for(var c=E(this.Cb),d=null,e=0,f=0;;)if(f<e){var h=d.wa(null,f),k=O(h,0,null);h=O(h,1,null);h.P?h.P(k,this,a,b):h.call(null,k,this,a,b);f+=1}else if(c=E(c))Uf(c)?(d=me(c),c=ne(c),k=d,e=K(d),d=k):(d=H(c),k=O(d,0,null),h=O(d,1,null),h.P?h.P(k,this,a,b):h.call(null,k,this,a,b),c=J(c),d=null,e=0),f=0;else break};
g.hf=function(a,b,c){this.Cb=Q.C(this.Cb,b,c);return this};g.jf=function(a,b){return this.Cb=R.j(this.Cb,b)};g.ha=function(){return ya(this)};function $h(a){return new Zh(a,null,null)}function ai(a,b){if(a instanceof Zh){var c=a.validator;if(null!=c&&!r(c.B?c.B(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;null!=a.Cb&&a.eg(c,b);return b}return qe(a,b)}
var bi=function bi(a){switch(arguments.length){case 2:return bi.j(arguments[0],arguments[1]);case 3:return bi.C(arguments[0],arguments[1],arguments[2]);case 4:return bi.P(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Pe(c.slice(4),0,null);return bi.G(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
bi.j=function(a,b){if(a instanceof Zh){var c=a.state;b=b.B?b.B(c):b.call(null,c);a=ai(a,b)}else a=re(a,b);return a};bi.C=function(a,b,c){if(a instanceof Zh){var d=a.state;b=b.j?b.j(d,c):b.call(null,d,c);a=ai(a,b)}else a=re(a,b,c);return a};bi.P=function(a,b,c,d){if(a instanceof Zh){var e=a.state;b=b.C?b.C(e,c,d):b.call(null,e,c,d);a=ai(a,b)}else a=re(a,b,c,d);return a};bi.G=function(a,b,c,d,e){return a instanceof Zh?ai(a,xh(b,a.state,c,d,e)):re(a,b,c,d,e)};
bi.ca=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);e=J(e);return this.G(b,a,c,d,e)};bi.aa=4;function di(a){this.state=a;this.J=32768;this.T=0}di.prototype.ze=function(a,b){return this.state=b};di.prototype.Db=function(){return this.state};
function ei(){var a=fi,b=gi;return function(){function c(k,m,n){var p=a.B?a.B(k):a.call(null,k);if(r(p))return p;p=a.B?a.B(m):a.call(null,m);if(r(p))return p;p=a.B?a.B(n):a.call(null,n);if(r(p))return p;k=b.B?b.B(k):b.call(null,k);if(r(k))return k;m=b.B?b.B(m):b.call(null,m);return r(m)?m:b.B?b.B(n):b.call(null,n)}function d(k,m){var n=a.B?a.B(k):a.call(null,k);if(r(n))return n;n=a.B?a.B(m):a.call(null,m);if(r(n))return n;k=b.B?b.B(k):b.call(null,k);return r(k)?k:b.B?b.B(m):b.call(null,m)}function e(k){var m=
a.B?a.B(k):a.call(null,k);return r(m)?m:b.B?b.B(k):b.call(null,k)}var f=null,h=function(){function k(n,p,u,v){var y=null;if(3<arguments.length){y=0;for(var F=Array(arguments.length-3);y<F.length;)F[y]=arguments[y+3],++y;y=new Pe(F,0,null)}return m.call(this,n,p,u,y)}function m(n,p,u,v){n=f.C(n,p,u);return r(n)?n:Rh(function(y){var F=a.B?a.B(y):a.call(null,y);return r(F)?F:b.B?b.B(y):b.call(null,y)},v)}k.aa=3;k.ca=function(n){var p=H(n);n=J(n);var u=H(n);n=J(n);var v=H(n);n=Re(n);return m(p,u,v,n)};
k.G=m;return k}();f=function(k,m,n,p){switch(arguments.length){case 0:return null;case 1:return e.call(this,k);case 2:return d.call(this,k,m);case 3:return c.call(this,k,m,n);default:var u=null;if(3<arguments.length){u=0;for(var v=Array(arguments.length-3);u<v.length;)v[u]=arguments[u+3],++u;u=new Pe(v,0,null)}return h.G(k,m,n,u)}throw Error("Invalid arity: "+arguments.length);};f.aa=3;f.ca=h.ca;f.O=function(){return null};f.B=e;f.j=d;f.C=c;f.G=h.G;return f}()}
var hi=function hi(a){switch(arguments.length){case 1:return hi.B(arguments[0]);case 2:return hi.j(arguments[0],arguments[1]);case 3:return hi.C(arguments[0],arguments[1],arguments[2]);case 4:return hi.P(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Pe(c.slice(4),0,null);return hi.G(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
hi.B=function(a){return function(b){return function(){function c(k,m){m=a.B?a.B(m):a.call(null,m);return b.j?b.j(k,m):b.call(null,k,m)}function d(k){return b.B?b.B(k):b.call(null,k)}function e(){return b.O?b.O():b.call(null)}var f=null,h=function(){function k(n,p,u){var v=null;if(2<arguments.length){v=0;for(var y=Array(arguments.length-2);v<y.length;)y[v]=arguments[v+2],++v;v=new Pe(y,0,null)}return m.call(this,n,p,v)}function m(n,p,u){p=vh(a,p,u);return b.j?b.j(n,p):b.call(null,n,p)}k.aa=2;k.ca=
function(n){var p=H(n);n=J(n);var u=H(n);n=Re(n);return m(p,u,n)};k.G=m;return k}();f=function(k,m,n){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,m);default:var p=null;if(2<arguments.length){p=0;for(var u=Array(arguments.length-2);p<u.length;)u[p]=arguments[p+2],++p;p=new Pe(u,0,null)}return h.G(k,m,p)}throw Error("Invalid arity: "+arguments.length);};f.aa=2;f.ca=h.ca;f.O=e;f.B=d;f.j=c;f.G=h.G;return f}()}};
hi.j=function(a,b){return new Yg(null,function(){var c=E(b);if(c){if(Uf(c)){for(var d=me(c),e=K(d),f=bh(e),h=0;;)if(h<e)eh(f,function(){var k=x(d,h);return a.B?a.B(k):a.call(null,k)}()),h+=1;else break;return dh(fh(f),hi.j(a,ne(c)))}return uf(function(){var k=H(c);return a.B?a.B(k):a.call(null,k)}(),hi.j(a,Re(c)))}return null},null,null)};
hi.C=function(a,b,c){return new Yg(null,function(){var d=E(b),e=E(c);if(d&&e){var f=H(d);var h=H(e);f=a.j?a.j(f,h):a.call(null,f,h);d=uf(f,hi.C(a,Re(d),Re(e)))}else d=null;return d},null,null)};hi.P=function(a,b,c,d){return new Yg(null,function(){var e=E(b),f=E(c),h=E(d);if(e&&f&&h){var k=H(e);var m=H(f),n=H(h);k=a.C?a.C(k,m,n):a.call(null,k,m,n);e=uf(k,hi.P(a,Re(e),Re(f),Re(h)))}else e=null;return e},null,null)};
hi.G=function(a,b,c,d,e){return hi.j(function(f){return uh(a,f)},function k(h){return new Yg(null,function(){var m=hi.j(E,h);return Qh(qg,m)?uf(hi.j(H,m),k(hi.j(Re,m))):null},null,null)}(Bf.G(e,d,M([c,b]))))};hi.ca=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);e=J(e);return this.G(b,a,c,d,e)};hi.aa=4;
var ii=function ii(a){switch(arguments.length){case 1:return ii.B(arguments[0]);case 2:return ii.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};
ii.B=function(a){return function(b){var c=new di(a);return function(){function d(k,m){var n=z(c),p=c.ze(null,c.Db(null)-1);k=0<n?b.j?b.j(k,m):b.call(null,k,m):k;return 0<p?k:cf(k)?k:bf(k)}function e(k){return b.B?b.B(k):b.call(null,k)}function f(){return b.O?b.O():b.call(null)}var h=null;h=function(k,m){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,k);case 2:return d.call(this,k,m)}throw Error("Invalid arity: "+arguments.length);};h.O=f;h.B=e;h.j=d;return h}()}};
ii.j=function(a,b){return new Yg(null,function(){if(0<a){var c=E(b);return c?uf(H(c),ii.j(a-1,Re(c))):null}return null},null,null)};ii.aa=2;function ji(a,b){return new Yg(null,function(){a:for(var c=a,d=b;;)if(d=E(d),0<c&&d)--c,d=Re(d);else break a;return d},null,null)}function ki(a,b){return hi.C(function(c){return c},b,ji(a,b))}
function li(a,b){return new Yg(null,function(){a:for(var c=a,d=b;;){d=E(d);var e;if(e=d)e=H(d),e=c.B?c.B(e):c.call(null,e);if(r(e))d=Re(d);else break a}return d},null,null)}function mi(a,b,c,d,e){this.meta=a;this.count=b;this.val=c;this.next=d;this.I=e;this.J=32374988;this.T=1}g=mi.prototype;g.toString=function(){return ye(this)};g.equiv=function(a){return this.ba(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return nf(this,b,0);case 2:return nf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return nf(this,b,0)};a.j=function(b,c){return nf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return qf(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return qf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return qf(this,c,d)};return b}();g.fa=function(){return this.meta};g.Qa=function(){return null==this.next?1<this.count?this.next=new mi(null,this.count-1,this.val,null,null):-1===this.count?this:null:this.next};
g.ha=function(){var a=this.I;return null!=a?a:this.I=a=We(this)};g.ba=function(a,b){return tf(this,b)};g.Ka=function(){return Se};g.ff=function(){return!1};g.$a=function(a,b){if(-1===this.count)for(var c=b.j?b.j(this.val,this.val):b.call(null,this.val,this.val);;){if(cf(c))return z(c);c=b.j?b.j(c,this.val):b.call(null,c,this.val)}else for(a=1,c=this.val;;)if(a<this.count){c=b.j?b.j(c,this.val):b.call(null,c,this.val);if(cf(c))return z(c);a+=1}else return c};
g.ab=function(a,b,c){if(-1===this.count)for(c=b.j?b.j(c,this.val):b.call(null,c,this.val);;){if(cf(c))return z(c);c=b.j?b.j(c,this.val):b.call(null,c,this.val)}else for(a=0;;)if(a<this.count){c=b.j?b.j(c,this.val):b.call(null,c,this.val);if(cf(c))return z(c);a+=1}else return c};g.cb=function(){return this.val};g.mb=function(){return null==this.next?1<this.count?this.next=new mi(null,this.count-1,this.val,null,null):-1===this.count?this:Se:this.next};g.ia=function(){return this};
g.ga=function(a,b){return b===this.meta?this:new mi(b,this.count,this.val,this.next,null)};g.ka=function(a,b){return uf(b,this)};function ni(a){return new mi(null,-1,a,null,null)}function oi(a,b){return 0<a?new mi(null,a,b,null,null):Se}function pi(a){return new Yg(null,function(){return uf(a.O?a.O():a.call(null),pi(a))},null,null)}function qi(a,b){return ii.j(a,pi(b))}
var ri=function ri(a){switch(arguments.length){case 0:return ri.O();case 1:return ri.B(arguments[0]);case 2:return ri.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Pe(c.slice(2),0,null);return ri.G(arguments[0],arguments[1],c)}};ri.O=function(){return Se};ri.B=function(a){return new Yg(null,function(){return a},null,null)};
ri.j=function(a,b){return new Yg(null,function(){var c=E(a),d=E(b);return c&&d?uf(H(c),uf(H(d),ri.j(Re(c),Re(d)))):null},null,null)};ri.G=function(a,b,c){return new Yg(null,function(){var d=hi.j(E,Bf.G(c,b,M([a])));return Qh(qg,d)?T.j(hi.j(H,d),uh(ri,hi.j(Re,d))):null},null,null)};ri.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.G(b,a,c)};ri.aa=2;function ti(a,b){return uh(T,vh(hi,a,b))}
function ui(a){return function(b){return function(){function c(h,k){return r(a.B?a.B(k):a.call(null,k))?b.j?b.j(h,k):b.call(null,h,k):h}function d(h){return b.B?b.B(h):b.call(null,h)}function e(){return b.O?b.O():b.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.O=e;f.B=d;f.j=c;return f}()}}
function vi(a,b){return new Yg(null,function(){var c=E(b);if(c){if(Uf(c)){for(var d=me(c),e=K(d),f=bh(e),h=0;;)if(h<e){var k=x(d,h);k=a.B?a.B(k):a.call(null,k);r(k)&&(k=x(d,h),f.add(k));h+=1}else break;return dh(fh(f),vi(a,ne(c)))}d=H(c);c=Re(c);return r(a.B?a.B(d):a.call(null,d))?uf(d,vi(a,c)):vi(a,c)}return null},null,null)}function wi(a,b){return vi(Th(a),b)}
var yi=function yi(a){switch(arguments.length){case 0:return yi.O();case 1:return yi.B(arguments[0]);case 2:return yi.j(arguments[0],arguments[1]);case 3:return yi.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};yi.O=function(){return Cf};yi.B=function(a){return a};yi.j=function(a,b){return null!=a?null!=a&&(a.T&4||l===a.kh)?Ed(ge(w.C(de,ce(a),b)),Kf(a)):w.C(dd,a,b):w.C(Bf,a,b)};
yi.C=function(a,b,c){return null!=a&&(a.T&4||l===a.kh)?Ed(ge(tg(b,lh,ce(a),c)),Kf(a)):tg(b,Bf,a,c)};yi.aa=3;
var zi=function zi(a){switch(arguments.length){case 2:return zi.j(arguments[0],arguments[1]);case 3:return zi.C(arguments[0],arguments[1],arguments[2]);case 4:return zi.P(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Pe(c.slice(4),0,null);return zi.G(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
zi.j=function(a,b){return ge(w.C(function(c,d){return lh.j(c,a.B?a.B(d):a.call(null,d))},ce(Cf),b))};zi.C=function(a,b,c){return yi.j(Cf,hi.C(a,b,c))};zi.P=function(a,b,c,d){return yi.j(Cf,hi.P(a,b,c,d))};zi.G=function(a,b,c,d,e){return yi.j(Cf,yh(hi,a,b,c,d,M([e])))};zi.ca=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);e=J(e);return this.G(b,a,c,d,e)};zi.aa=4;function Ai(a,b){return ge(w.C(function(c,d){return r(a.B?a.B(d):a.call(null,d))?lh.j(c,d):c},ce(Cf),b))}
function Bi(a,b,c){return new Yg(null,function(){var d=E(c);if(d){var e=ii.j(a,d);return a===K(e)?uf(e,Bi(a,b,ji(b,d))):null}return null},null,null)}function Ci(a,b){return w.C(B,a,b)}
var Ei=function Ei(a,b,c){b=E(b);var e=H(b),f=J(b);return f?Q.C(a,e,function(){var h=B.j(a,e);return Ei.C?Ei.C(h,f,c):Ei.call(null,h,f,c)}()):Q.C(a,e,c)},Fi=function Fi(a){switch(arguments.length){case 3:return Fi.C(arguments[0],arguments[1],arguments[2]);case 4:return Fi.P(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Fi.la(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return Fi.Ya(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);
default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Pe(c.slice(6),0,null);return Fi.G(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};Fi.C=function(a,b,c){b=E(b);var d=H(b);return(b=J(b))?Q.C(a,d,Fi.C(B.j(a,d),b,c)):Q.C(a,d,function(){var e=B.j(a,d);return c.B?c.B(e):c.call(null,e)}())};
Fi.P=function(a,b,c,d){b=E(b);var e=H(b);return(b=J(b))?Q.C(a,e,Fi.P(B.j(a,e),b,c,d)):Q.C(a,e,function(){var f=B.j(a,e);return c.j?c.j(f,d):c.call(null,f,d)}())};Fi.la=function(a,b,c,d,e){b=E(b);var f=H(b);return(b=J(b))?Q.C(a,f,Fi.la(B.j(a,f),b,c,d,e)):Q.C(a,f,function(){var h=B.j(a,f);return c.C?c.C(h,d,e):c.call(null,h,d,e)}())};
Fi.Ya=function(a,b,c,d,e,f){b=E(b);var h=H(b);return(b=J(b))?Q.C(a,h,Fi.Ya(B.j(a,h),b,c,d,e,f)):Q.C(a,h,function(){var k=B.j(a,h);return c.P?c.P(k,d,e,f):c.call(null,k,d,e,f)}())};Fi.G=function(a,b,c,d,e,f,h){var k=E(b);b=H(k);return(k=J(k))?Q.C(a,b,yh(Fi,B.j(a,b),k,c,d,M([e,f,h]))):Q.C(a,b,yh(c,B.j(a,b),d,e,f,M([h])))};Fi.ca=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);var f=J(e);e=H(f);var h=J(f);f=H(h);h=J(h);return this.G(b,a,c,d,e,f,h)};Fi.aa=6;
var Gi=function Gi(a){switch(arguments.length){case 3:return Gi.C(arguments[0],arguments[1],arguments[2]);case 4:return Gi.P(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Gi.la(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return Gi.Ya(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Pe(c.slice(6),0,null);return Gi.G(arguments[0],
arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};Gi.C=function(a,b,c){return Q.C(a,b,function(){var d=B.j(a,b);return c.B?c.B(d):c.call(null,d)}())};Gi.P=function(a,b,c,d){return Q.C(a,b,function(){var e=B.j(a,b);return c.j?c.j(e,d):c.call(null,e,d)}())};Gi.la=function(a,b,c,d,e){return Q.C(a,b,function(){var f=B.j(a,b);return c.C?c.C(f,d,e):c.call(null,f,d,e)}())};Gi.Ya=function(a,b,c,d,e,f){return Q.C(a,b,function(){var h=B.j(a,b);return c.P?c.P(h,d,e,f):c.call(null,h,d,e,f)}())};
Gi.G=function(a,b,c,d,e,f,h){return Q.C(a,b,yh(c,B.j(a,b),d,e,f,M([h])))};Gi.ca=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);var f=J(e);e=H(f);var h=J(f);f=H(h);h=J(h);return this.G(b,a,c,d,e,f,h)};Gi.aa=6;function Hi(a,b){this.Oa=a;this.K=b}function Ii(a){return new Hi(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}
function Ji(a){return new Hi(a.Oa,Tc(a.K))}function Ki(a){a=a.Y;return 32>a?0:a-1>>>5<<5}function Li(a,b,c){for(;;){if(0===b)return c;var d=Ii(a);d.K[0]=c;c=d;b-=5}}var Mi=function Mi(a,b,c,d){var f=Ji(c),h=a.Y-1>>>b&31;5===b?f.K[h]=d:(c=c.K[h],null!=c?(b-=5,a=Mi.P?Mi.P(a,b,c,d):Mi.call(null,a,b,c,d)):a=Li(null,b-5,d),f.K[h]=a);return f};function Ni(a,b){throw Error(["No item ",t.B(a)," in vector of length ",t.B(b)].join(""));}
function Oi(a,b){if(b>=Ki(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.K[b>>>a&31];a=d}else return c.K}function Pi(a,b){return 0<=b&&b<a.Y?Oi(a,b):Ni(b,a.Y)}
var Qi=function Qi(a,b,c,d,e){var h=Ji(c);if(0===b)h.K[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.K[k];a=Qi.la?Qi.la(a,b,c,d,e):Qi.call(null,a,b,c,d,e);h.K[k]=a}return h},Ri=function Ri(a,b,c){var e=a.Y-2>>>b&31;if(5<b){b-=5;var f=c.K[e];a=Ri.C?Ri.C(a,b,f):Ri.call(null,a,b,f);if(null==a&&0===e)return null;c=Ji(c);c.K[e]=a;return c}if(0===e)return null;c=Ji(c);c.K[e]=null;return c};function Si(a,b,c,d,e,f){this.i=a;this.base=b;this.K=c;this.v=d;this.start=e;this.end=f}
Si.prototype.Na=function(){return this.i<this.end};Si.prototype.next=function(){32===this.i-this.base&&(this.K=Oi(this.v,this.i),this.base+=32);var a=this.K[this.i&31];this.i+=1;return a};function Ti(a,b,c){return new Si(b,b-b%32,b<K(a)?Oi(a,b):null,a,b,c)}function Ui(a,b,c,d){return c<d?Vi(a,b,of(a,c),c+1,d):b.O?b.O():b.call(null)}
function Vi(a,b,c,d,e){var f=c;c=d;for(d=Oi(a,d);;)if(c<e){var h=c&31;d=0===h?Oi(a,c):d;h=d[h];f=b.j?b.j(f,h):b.call(null,f,h);if(cf(f))return z(f);c+=1}else return f}function W(a,b,c,d,e,f){this.meta=a;this.Y=b;this.shift=c;this.root=d;this.tail=e;this.I=f;this.J=167666463;this.T=139268}g=W.prototype;g.pd=function(a,b){return 0<=b&&b<this.Y?new X(b,Oi(this,b)[b&31],null):null};g.toString=function(){return ye(this)};g.equiv=function(a){return this.ba(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return nf(this,b,0);case 2:return nf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return nf(this,b,0)};a.j=function(b,c){return nf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return qf(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return qf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return qf(this,c,d)};return b}();g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){return"number"===typeof b?this.Za(null,b,c):c};
g.xa=function(a,b,c){a=0;for(var d=c;;)if(a<this.Y){var e=Oi(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.C?b.C(d,h,k):b.call(null,d,h,k);if(cf(d)){e=d;break a}f+=1}else{e=d;break a}if(cf(e))return z(e);a+=c;d=e}else return d};g.Tf=l;g.wa=function(a,b){return Pi(this,b)[b&31]};g.Za=function(a,b,c){return 0<=b&&b<this.Y?Oi(this,b)[b&31]:c};
g.Rc=function(a,b,c){if(0<=b&&b<this.Y)return Ki(this)<=b?(a=Tc(this.tail),a[b&31]=c,new W(this.meta,this.Y,this.shift,this.root,a,null)):new W(this.meta,this.Y,this.shift,Qi(this,this.shift,this.root,b,c),this.tail,null);if(b===this.Y)return this.ka(null,c);throw Error(["Index ",t.B(b)," out of bounds  [0,",t.B(this.Y),"]"].join(""));};g.pa=function(){return Ti(this,0,this.Y)};g.fa=function(){return this.meta};g.oa=function(){return new W(this.meta,this.Y,this.shift,this.root,this.tail,this.I)};
g.ja=function(){return this.Y};g.qd=function(){return 0<this.Y?this.wa(null,this.Y-1):null};g.rd=function(){if(0===this.Y)throw Error("Can't pop empty vector");if(1===this.Y)return Ed(Cf,this.meta);if(1<this.Y-Ki(this))return new W(this.meta,this.Y-1,this.shift,this.root,this.tail.slice(0,-1),null);var a=Oi(this,this.Y-2),b=Ri(this,this.shift,this.root);b=null==b?Y:b;var c=this.Y-1;return 5<this.shift&&null==b.K[1]?new W(this.meta,c,this.shift-5,b.K[0],a,null):new W(this.meta,c,this.shift,b,a,null)};
g.vc=function(){return 0<this.Y?new sf(this,this.Y-1,null):null};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=We(this)};g.ba=function(a,b){if(b instanceof W)if(this.Y===K(b))for(a=this.pa(null),b=b.pa(null);;)if(a.Na()){var c=a.next(),d=b.next();if(!D.j(c,d))return!1}else return!0;else return!1;else return tf(this,b)};g.Ed=function(){return new Wi(this.Y,this.shift,Xi.B?Xi.B(this.root):Xi.call(null,this.root),Yi.B?Yi.B(this.tail):Yi.call(null,this.tail))};g.Ka=function(){return Ed(Cf,this.meta)};
g.$a=function(a,b){return Ui(this,b,0,this.Y)};g.ab=function(a,b,c){a=0;for(var d=c;;)if(a<this.Y){var e=Oi(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.j?b.j(d,h):b.call(null,d,h);if(cf(d)){e=d;break a}f+=1}else{e=d;break a}if(cf(e))return z(e);a+=c;d=e}else return d};g.da=function(a,b,c){if("number"===typeof b)return this.Rc(null,b,c);throw Error("Vector's key for assoc must be a number.");};
g.ia=function(){if(0===this.Y)return null;if(32>=this.Y)return new Pe(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.K[0];else{a=a.K;break a}}return Zi?Zi(this,a,0,0):$i.call(null,this,a,0,0)};g.ga=function(a,b){return b===this.meta?this:new W(b,this.Y,this.shift,this.root,this.tail,this.I)};
g.ka=function(a,b){if(32>this.Y-Ki(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new W(this.meta,this.Y+1,this.shift,this.root,c,null)}a=(c=this.Y>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=Ii(null),c.K[0]=this.root,d=Li(null,this.shift,new Hi(null,this.tail)),c.K[1]=d):c=Mi(this,this.shift,this.root,new Hi(null,this.tail));return new W(this.meta,this.Y+1,a,c,[b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Tc(b)))};g.B=function(a){return this.wa(null,a)};g.j=function(a,b){return this.Za(null,a,b)};
var Y=new Hi(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),Cf=new W(null,0,5,Y,[],Xe);function aj(a,b){var c=a.length;a=b?a:Tc(a);if(32>c)return new W(null,c,5,Y,a,null);var d=a.slice(0,32);b=32;for(var e=(new W(null,32,5,Y,d,null)).Ed(null);;)if(b<c)d=b+1,e=lh.j(e,a[b]),b=d;else return ge(e)}W.prototype[Qc]=function(){return Ue(this)};
function mg(a){return r(bj.B?bj.B(a):bj.call(null,a))?new W(null,2,5,Y,[cj.B?cj.B(a):cj.call(null,a),dj.B?dj.B(a):dj.call(null,a)],null):Tf(a)?Jf(a,null):Ic(a)?aj(a,!0):ge(w.C(de,ce(Cf),a))}var ej=function ej(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Pe(c.slice(0),0,null):null;return ej.G(c)};ej.G=function(a){return a instanceof Pe&&0===a.i?aj(a.K,!Ic(a.K)):mg(a)};ej.aa=0;ej.ca=function(a){return this.G(E(a))};
function fj(a,b,c,d,e,f){this.tc=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.I=f;this.J=32375020;this.T=1536}g=fj.prototype;g.toString=function(){return ye(this)};g.equiv=function(a){return this.ba(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return nf(this,b,0);case 2:return nf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return nf(this,b,0)};a.j=function(b,c){return nf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return qf(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return qf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return qf(this,c,d)};return b}();g.fa=function(){return this.meta};g.Qa=function(){if(this.off+1<this.node.length){var a=this.tc;var b=this.node,c=this.i,d=this.off+1;a=Zi?Zi(a,b,c,d):$i.call(null,a,b,c,d);return null==a?null:a}return this.te()};
g.ha=function(){var a=this.I;return null!=a?a:this.I=a=We(this)};g.ba=function(a,b){return tf(this,b)};g.Ka=function(){return Se};g.$a=function(a,b){return Ui(this.tc,b,this.i+this.off,K(this.tc))};g.ab=function(a,b,c){return Vi(this.tc,b,c,this.i+this.off,K(this.tc))};g.cb=function(){return this.node[this.off]};g.mb=function(){if(this.off+1<this.node.length){var a=this.tc;var b=this.node,c=this.i,d=this.off+1;a=Zi?Zi(a,b,c,d):$i.call(null,a,b,c,d);return null==a?Se:a}return this.Od(null)};g.ia=function(){return this};
g.ue=function(){var a=this.node;return new ah(a,this.off,a.length)};g.Od=function(){var a=this.i+this.node.length;if(a<$c(this.tc)){var b=this.tc,c=Oi(this.tc,a);return Zi?Zi(b,c,a,0):$i.call(null,b,c,a,0)}return Se};g.ga=function(a,b){return b===this.meta?this:gj?gj(this.tc,this.node,this.i,this.off,b):$i.call(null,this.tc,this.node,this.i,this.off,b)};g.ka=function(a,b){return uf(b,this)};
g.te=function(){var a=this.i+this.node.length;if(a<$c(this.tc)){var b=this.tc,c=Oi(this.tc,a);return Zi?Zi(b,c,a,0):$i.call(null,b,c,a,0)}return null};fj.prototype[Qc]=function(){return Ue(this)};
function $i(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new fj(b,Pi(b,c),c,d,null,null);case 4:return Zi(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return gj(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function Zi(a,b,c,d){return new fj(a,b,c,d,null,null)}function gj(a,b,c,d,e){return new fj(a,b,c,d,e,null)}
function hj(a,b,c,d,e){this.meta=a;this.v=b;this.start=c;this.end=d;this.I=e;this.J=167666463;this.T=139264}g=hj.prototype;g.pd=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new X(b,nd(this.v,a),null):null};g.toString=function(){return ye(this)};g.equiv=function(a){return this.ba(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return nf(this,b,0);case 2:return nf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return nf(this,b,0)};a.j=function(b,c){return nf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return qf(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return qf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return qf(this,c,d)};return b}();g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){return"number"===typeof b?this.Za(null,b,c):c};
g.xa=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,f=x(this.v,a);c=b.C?b.C(c,e,f):b.call(null,c,e,f);if(cf(c))return z(c);d+=1;a+=1}else return c};g.wa=function(a,b){return 0>b||this.end<=this.start+b?Ni(b,this.end-this.start):x(this.v,this.start+b)};g.Za=function(a,b,c){return 0>b||this.end<=this.start+b?c:x(this.v,this.start+b,c)};
g.Rc=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",t.B(b)," out of bounds [0,",t.B(this.ja(null)),"]"].join(""));b=this.meta;c=Q.C(this.v,a,c);var d=this.start,e=this.end;a+=1;a=e>a?e:a;return ij.la?ij.la(b,c,d,a,null):ij.call(null,b,c,d,a,null)};g.pa=function(){return null!=this.v&&l===this.v.Tf?Ti(this.v,this.start,this.end):new Gh(this)};g.fa=function(){return this.meta};g.oa=function(){return new hj(this.meta,this.v,this.start,this.end,this.I)};
g.ja=function(){return this.end-this.start};g.qd=function(){return this.start===this.end?null:x(this.v,this.end-1)};g.rd=function(){if(this.start===this.end)throw Error("Can't pop empty vector");var a=this.meta,b=this.v,c=this.start,d=this.end-1;return ij.la?ij.la(a,b,c,d,null):ij.call(null,a,b,c,d,null)};g.vc=function(){return this.start!==this.end?new sf(this,this.end-this.start-1,null):null};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=We(this)};g.ba=function(a,b){return tf(this,b)};
g.Ka=function(){return Ed(Cf,this.meta)};g.$a=function(a,b){return null!=this.v&&l===this.v.Tf?Ui(this.v,b,this.start,this.end):ff(this,b)};g.ab=function(a,b,c){return null!=this.v&&l===this.v.Tf?Vi(this.v,b,c,this.start,this.end):gf(this,b,c)};g.da=function(a,b,c){if("number"===typeof b)return this.Rc(null,b,c);throw Error("Subvec's key for assoc must be a number.");};g.ia=function(){var a=this;return function d(c){return c===a.end?null:uf(x(a.v,c),new Yg(null,function(){return d(c+1)},null,null))}(a.start)};
g.ga=function(a,b){return b===this.meta?this:ij.la?ij.la(b,this.v,this.start,this.end,this.I):ij.call(null,b,this.v,this.start,this.end,this.I)};g.ka=function(a,b){a=this.meta;b=Ad(this.v,this.end,b);var c=this.start,d=this.end+1;return ij.la?ij.la(a,b,c,d,null):ij.call(null,a,b,c,d,null)};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Tc(b)))};g.B=function(a){return this.wa(null,a)};g.j=function(a,b){return this.Za(null,a,b)};hj.prototype[Qc]=function(){return Ue(this)};function ij(a,b,c,d,e){for(;;)if(b instanceof hj)c=b.start+c,d=b.start+d,b=b.v;else{if(!Tf(b))throw Error("v must satisfy IVector");if(0>c||d<c||d>K(b))throw Error("Index out of bounds");return new hj(a,b,c,d,e)}}function jj(a,b,c){return ij(null,a,b|0,c|0,null)}
function kj(a,b){return a===b.Oa?b:new Hi(a,Tc(b.K))}function Xi(a){return new Hi({},Tc(a.K))}function Yi(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];Vf(a,0,b,0,a.length);return b}var lj=function lj(a,b,c,d){c=kj(a.root.Oa,c);var f=a.Y-1>>>b&31;if(5===b)a=d;else{var h=c.K[f];null!=h?(b-=5,a=lj.P?lj.P(a,b,h,d):lj.call(null,a,b,h,d)):a=Li(a.root.Oa,b-5,d)}c.K[f]=a;return c};
function Wi(a,b,c,d){this.Y=a;this.shift=b;this.root=c;this.tail=d;this.T=88;this.J=275}g=Wi.prototype;
g.Fd=function(a,b){if(this.root.Oa){if(32>this.Y-Ki(this))this.tail[this.Y&31]=b;else{a=new Hi(this.root.Oa,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.Y>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=this.shift+
5,b[0]=this.root,b[1]=Li(this.root.Oa,this.shift,a),this.root=new Hi(this.root.Oa,b),this.shift=c):this.root=lj(this,this.shift,this.root,a)}this.Y+=1;return this}throw Error("conj! after persistent!");};g.Pd=function(){if(this.root.Oa){this.root.Oa=null;var a=this.Y-Ki(this),b=Array(a);Vf(this.tail,0,b,0,a);return new W(null,this.Y,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.de=function(a,b,c){if("number"===typeof b)return mj(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function mj(a,b,c){if(a.root.Oa){if(0<=b&&b<a.Y){if(Ki(a)<=b)a.tail[b&31]=c;else{var d=function k(f,h){h=kj(a.root.Oa,h);if(0===f)h.K[b&31]=c;else{var m=b>>>f&31;f=k(f-5,h.K[m]);h.K[m]=f}return h}(a.shift,a.root);a.root=d}return a}if(b===a.Y)return a.Fd(null,c);throw Error(["Index ",t.B(b)," out of bounds for TransientVector of length",t.B(a.Y)].join(""));}throw Error("assoc! after persistent!");}g.ja=function(){if(this.root.Oa)return this.Y;throw Error("count after persistent!");};
g.wa=function(a,b){if(this.root.Oa)return Pi(this,b)[b&31];throw Error("nth after persistent!");};g.Za=function(a,b,c){return 0<=b&&b<this.Y?this.wa(null,b):c};g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){if(this.root.Oa)return"number"===typeof b?this.Za(null,b,c):c;throw Error("lookup after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Tc(b)))};g.B=function(a){return this.ma(null,a)};g.j=function(a,b){return this.R(null,a,b)};function nj(a,b){this.fe=a;this.Te=b}nj.prototype.Na=function(){var a=null!=this.fe&&E(this.fe);return a?a:null!=this.Te?this.Te.Na():!1};
nj.prototype.next=function(){if(null!=this.fe){var a=H(this.fe);this.fe=J(this.fe);return a}if(null!=this.Te&&this.Te.Na())return this.Te.next();throw Error("No such element");};nj.prototype.remove=function(){return Error("Unsupported operation")};function oj(a,b,c,d){this.meta=a;this.Zb=b;this.nc=c;this.I=d;this.J=31850700;this.T=0}g=oj.prototype;g.toString=function(){return ye(this)};g.equiv=function(a){return this.ba(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return nf(this,b,0);case 2:return nf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return nf(this,b,0)};a.j=function(b,c){return nf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return qf(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return qf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return qf(this,c,d)};return b}();g.fa=function(){return this.meta};g.Qa=function(){var a=J(this.Zb);return a?new oj(this.meta,a,this.nc,null):null!=this.nc?new oj(this.meta,this.nc,null,null):null};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=We(this)};
g.ba=function(a,b){return tf(this,b)};g.Ka=function(){return Ed(Se,this.meta)};g.cb=function(){return H(this.Zb)};g.mb=function(){var a=J(this.Zb);return a?new oj(this.meta,a,this.nc,null):null==this.nc?this.Ka(null):new oj(this.meta,this.nc,null,null)};g.ia=function(){return this};g.ga=function(a,b){return b===this.meta?this:new oj(b,this.Zb,this.nc,this.I)};g.ka=function(a,b){return uf(b,this)};oj.prototype[Qc]=function(){return Ue(this)};
function pj(a,b,c,d,e){this.meta=a;this.count=b;this.Zb=c;this.nc=d;this.I=e;this.T=139264;this.J=31858766}g=pj.prototype;g.toString=function(){return ye(this)};g.equiv=function(a){return this.ba(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return nf(this,b,0);case 2:return nf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return nf(this,b,0)};a.j=function(b,c){return nf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return qf(this,c,this.count.B?this.count.B(this):this.count.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return qf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return qf(this,c,d)};return b}();g.pa=function(){return new nj(this.Zb,ve(this.nc))};g.fa=function(){return this.meta};g.oa=function(){return new pj(this.meta,this.count,this.Zb,this.nc,this.I)};g.ja=function(){return this.count};
g.qd=function(){return H(this.Zb)};g.rd=function(){if(r(this.Zb)){var a=J(this.Zb);return a?new pj(this.meta,this.count-1,a,this.nc,null):new pj(this.meta,this.count-1,E(this.nc),Cf,null)}return this};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=We(this)};g.ba=function(a,b){return tf(this,b)};g.Ka=function(){return Ed(qj,this.meta)};g.cb=function(){return H(this.Zb)};g.mb=function(){return Re(E(this))};
g.ia=function(){var a=E(this.nc),b=this.Zb;return r(r(b)?b:a)?new oj(null,this.Zb,E(a),null):null};g.ga=function(a,b){return b===this.meta?this:new pj(b,this.count,this.Zb,this.nc,this.I)};g.ka=function(a,b){r(this.Zb)?(a=this.nc,b=new pj(this.meta,this.count+1,this.Zb,Bf.j(r(a)?a:Cf,b),null)):b=new pj(this.meta,this.count+1,Bf.j(this.Zb,b),Cf,null);return b};var qj=new pj(null,0,null,Cf,Xe);pj.prototype[Qc]=function(){return Ue(this)};function rj(){this.J=2097152;this.T=0}
rj.prototype.equiv=function(a){return this.ba(null,a)};rj.prototype.ba=function(){return!1};var sj=new rj;function tj(a,b){return Zf(Qf(b)&&!Rf(b)?K(a)===K(b)?(null!=a?a.J&1048576||l===a.dk||(a.J?0:Mc(Id,a)):Mc(Id,a))?pg(function(c,d,e){return D.j(B.C(b,d,sj),e)?!0:bf(!1)},!0,a):Qh(function(c){return D.j(B.C(b,H(c),sj),yf(c))},a):null:null)}function uj(a,b,c,d){this.i=0;this.Mj=a;this.dh=b;this.fields=c;this.wh=d}uj.prototype.Na=function(){var a=this.i<this.dh;return a?a:this.wh.Na()};
uj.prototype.next=function(){if(this.i<this.dh){var a=of(this.fields,this.i);this.i+=1;return new X(a,nd(this.Mj,a),null)}return this.wh.next()};uj.prototype.remove=function(){return Error("Unsupported operation")};function vj(a){this.s=a}vj.prototype.next=function(){if(null!=this.s){var a=H(this.s),b=O(a,0,null);a=O(a,1,null);this.s=J(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function wj(a){this.s=a}
wj.prototype.next=function(){if(null!=this.s){var a=H(this.s);this.s=J(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function xj(a,b){if(b instanceof C)a:{var c=a.length;b=b.na;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof C&&b===a[d].na){a=d;break a}d+=2}}else if(na(b)||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof A)a:for(c=a.length,b=b.cc,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof A&&b===a[d].cc){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=a.length,
d=0;;){if(c<=d){a=-1;break a}if(D.j(b,a[d])){a=d;break a}d+=2}return a}function X(a,b,c){this.key=a;this.val=b;this.I=c;this.J=166619935;this.T=0}g=X.prototype;g.pd=function(a,b){switch(b){case 0:return new X(0,this.key,null);case 1:return new X(1,this.val,null);default:return null}};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return nf(this,b,0);case 2:return nf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return nf(this,b,0)};a.j=function(b,c){return nf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return qf(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return qf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return qf(this,c,d)};return b}();g.ma=function(a,b){return this.Za(null,b,null)};g.R=function(a,b,c){return this.Za(null,b,c)};g.wa=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};
g.Za=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.Rc=function(a,b,c){return(new W(null,2,5,Y,[this.key,this.val],null)).Rc(null,b,c)};g.fa=function(){return null};g.ja=function(){return 2};g.Vf=function(){return this.key};g.Wf=function(){return this.val};g.qd=function(){return this.val};g.rd=function(){return new W(null,1,5,Y,[this.key],null)};g.vc=function(){return new Pe([this.val,this.key],0,null)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=We(this)};
g.ba=function(a,b){return tf(this,b)};g.Ka=function(){return null};g.$a=function(a,b){return ff(this,b)};g.ab=function(a,b,c){return gf(this,b,c)};g.da=function(a,b,c){return Q.C(new W(null,2,5,Y,[this.key,this.val],null),b,c)};g.ia=function(){return new Pe([this.key,this.val],0,null)};g.ga=function(a,b){return Jf(new W(null,2,5,Y,[this.key,this.val],null),b)};g.ka=function(a,b){return new W(null,3,5,Y,[this.key,this.val,b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Tc(b)))};g.B=function(a){return this.wa(null,a)};g.j=function(a,b){return this.Za(null,a,b)};function bj(a){return null!=a?a.J&2048||l===a.gk?!0:!1:!1}function yj(a,b,c){this.K=a;this.i=b;this.Fc=c;this.J=32374990;this.T=0}g=yj.prototype;
g.toString=function(){return ye(this)};g.equiv=function(a){return this.ba(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return nf(this,b,0);case 2:return nf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return nf(this,b,0)};a.j=function(b,c){return nf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return qf(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return qf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return qf(this,c,d)};return b}();g.fa=function(){return this.Fc};g.Qa=function(){return this.i<this.K.length-2?new yj(this.K,this.i+2,null):null};g.ja=function(){return(this.K.length-this.i)/2};g.ha=function(){return We(this)};
g.ba=function(a,b){return tf(this,b)};g.Ka=function(){return Se};g.$a=function(a,b){return vf(b,this)};g.ab=function(a,b,c){return xf(b,c,this)};g.cb=function(){return new X(this.K[this.i],this.K[this.i+1],null)};g.mb=function(){return this.i<this.K.length-2?new yj(this.K,this.i+2,null):Se};g.ia=function(){return this};g.ga=function(a,b){return b===this.Fc?this:new yj(this.K,this.i,b)};g.ka=function(a,b){return uf(b,this)};yj.prototype[Qc]=function(){return Ue(this)};
function zj(a,b){this.K=a;this.i=0;this.Y=b}zj.prototype.Na=function(){return this.i<this.Y};zj.prototype.next=function(){var a=new X(this.K[this.i],this.K[this.i+1],null);this.i+=2;return a};function q(a,b,c,d){this.meta=a;this.Y=b;this.K=c;this.I=d;this.J=16647951;this.T=139268}g=q.prototype;g.pd=function(a,b){a=xj(this.K,b);return-1===a?null:new X(this.K[a],this.K[a+1],null)};g.toString=function(){return ye(this)};g.equiv=function(a){return this.ba(null,a)};
g.keys=function(){return Ue(Aj.B?Aj.B(this):Aj.call(null,this))};g.entries=function(){return new vj(E(E(this)))};g.values=function(){return Ue(Bj.B?Bj.B(this):Bj.call(null,this))};g.has=function(a){return bg(this,a)};g.get=function(a,b){return this.R(null,a,b)};
g.forEach=function(a){for(var b=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.wa(null,e),h=O(f,0,null);f=O(f,1,null);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=E(b))Uf(b)?(c=me(b),b=ne(b),h=c,d=K(c),c=h):(c=H(b),h=O(c,0,null),f=O(c,1,null),a.j?a.j(f,h):a.call(null,f,h),b=J(b),c=null,d=0),e=0;else return null};g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){a=xj(this.K,b);return-1===a?c:this.K[a+1]};
g.xa=function(a,b,c){a=this.K.length;for(var d=0;;)if(d<a){var e=this.K[d],f=this.K[d+1];c=b.C?b.C(c,e,f):b.call(null,c,e,f);if(cf(c))return z(c);d+=2}else return c};g.pa=function(){return new zj(this.K,2*this.Y)};g.fa=function(){return this.meta};g.oa=function(){return new q(this.meta,this.Y,this.K,this.I)};g.ja=function(){return this.Y};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=Ye(this)};
g.ba=function(a,b){if(Qf(b)&&!Rf(b))if(a=this.K.length,this.Y===b.ja(null))for(var c=0;;)if(c<a){var d=b.R(null,this.K[c],Wf);if(d!==Wf)if(D.j(this.K[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.Ed=function(){return new Cj(this.K.length,Tc(this.K))};g.Ka=function(){return Ed(V,this.meta)};g.$a=function(a,b){return ng(this,b)};g.ab=function(a,b,c){return og(this,b,c)};
g.ya=function(a,b){if(0<=xj(this.K,b)){a=this.K.length;var c=a-2;if(0===c)return this.Ka(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new q(this.meta,this.Y-1,c,null);D.j(b,this.K[d])?d+=2:(c[e]=this.K[d],c[e+1]=this.K[d+1],e+=2,d+=2)}}else return this};
g.da=function(a,b,c){a=xj(this.K,b);if(-1===a){if(this.Y<Dj){a=this.K;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new q(this.meta,this.Y+1,e,null)}return Ed(pd(yi.j(Ej,this),b,c),this.meta)}if(c===this.K[a+1])return this;b=Tc(this.K);b[a+1]=c;return new q(this.meta,this.Y,b,null)};g.ia=function(){var a=this.K;return 0<=a.length-2?new yj(a,0,null):null};g.ga=function(a,b){return b===this.meta?this:new q(b,this.Y,this.K,this.I)};
g.ka=function(a,b){if(Tf(b))return this.da(null,x(b,0),x(b,1));a=this;for(b=E(b);;){if(null==b)return a;var c=H(b);if(Tf(c))a=pd(a,x(c,0),x(c,1)),b=J(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Tc(b)))};
g.B=function(a){return this.ma(null,a)};g.j=function(a,b){return this.R(null,a,b)};var V=new q(null,0,[],Ze),Dj=8;function Fj(a,b,c){a=b?a:Tc(a);if(!c){c=[];for(b=0;;)if(b<a.length){var d=a[b],e=a[b+1];-1===xj(c,d)&&(c.push(d),c.push(e));b+=2}else break;a=c}return new q(null,a.length/2,a,null)}function Gf(a){for(var b=[],c=0;;)if(c<a.length){var d=a[c],e=a[c+1],f=xj(b,d);-1===f?(f=b,f.push(d),f.push(e)):b[f+1]=e;c+=2}else break;return new q(null,b.length/2,b,null)}q.prototype[Qc]=function(){return Ue(this)};
function Cj(a,b){this.Rd={};this.Vc=a;this.K=b;this.J=259;this.T=56}g=Cj.prototype;g.ja=function(){if(this.Rd)return Ig(this.Vc,2);throw Error("count after persistent!");};g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){if(this.Rd)return a=xj(this.K,b),-1===a?c:this.K[a+1];throw Error("lookup after persistent!");};
g.Fd=function(a,b){if(this.Rd){if(bj(b))return this.de(null,cj.B?cj.B(b):cj.call(null,b),dj.B?dj.B(b):dj.call(null,b));if(Tf(b))return this.de(null,b.B?b.B(0):b.call(null,0),b.B?b.B(1):b.call(null,1));a=E(b);for(b=this;;){var c=H(a);if(r(c))a=J(a),b=he(b,cj.B?cj.B(c):cj.call(null,c),dj.B?dj.B(c):dj.call(null,c));else return b}}else throw Error("conj! after persistent!");};g.Pd=function(){if(this.Rd)return this.Rd=!1,new q(null,Ig(this.Vc,2),this.K,null);throw Error("persistent! called twice");};
g.de=function(a,b,c){if(this.Rd){a=xj(this.K,b);if(-1===a)return this.Vc+2<=2*Dj?(this.Vc+=2,this.K.push(b),this.K.push(c),this):mh.C(Gj.j?Gj.j(this.Vc,this.K):Gj.call(null,this.Vc,this.K),b,c);c!==this.K[a+1]&&(this.K[a+1]=c);return this}throw Error("assoc! after persistent!");};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Tc(b)))};g.B=function(a){return this.R(null,a,null)};g.j=function(a,b){return this.R(null,a,b)};function Gj(a,b){for(var c=ce(Ej),d=0;;)if(d<a)c=mh.C(c,b[d],b[d+1]),d+=2;else return c}function Hj(){this.val=!1}function Ij(a,b){return a===b?!0:S(a,b)?!0:D.j(a,b)}function Jj(a,b,c){a=Tc(a);a[b]=c;return a}function Kj(a,b){var c=Array(a.length-2);Vf(a,0,c,0,2*b);Vf(a,2*(b+1),c,2*b,c.length-2*b);return c}
function Lj(a,b,c,d){a=a.xd(b);a.K[c]=d;return a}function Mj(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.C?b.C(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.Xd(b,f):f;if(cf(c))return c;e+=2;f=c}else return f}function Nj(a){this.K=a;this.i=0;this.Wc=this.Re=null}
Nj.prototype.advance=function(){for(var a=this.K.length;;)if(this.i<a){var b=this.K[this.i],c=this.K[this.i+1];null!=b?b=this.Re=new X(b,c,null):null!=c?(b=ve(c),b=b.Na()?this.Wc=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};Nj.prototype.Na=function(){var a=null!=this.Re;return a?a:(a=null!=this.Wc)?a:this.advance()};
Nj.prototype.next=function(){if(null!=this.Re){var a=this.Re;this.Re=null;return a}if(null!=this.Wc)return a=this.Wc.next(),this.Wc.Na()||(this.Wc=null),a;if(this.advance())return this.next();throw Error("No such element");};Nj.prototype.remove=function(){return Error("Unsupported operation")};function Oj(a,b,c){this.Oa=a;this.bitmap=b;this.K=c;this.T=131072;this.J=0}g=Oj.prototype;
g.xd=function(a){if(a===this.Oa)return this;var b=Kg(this.bitmap),c=Array(0>b?4:2*(b+1));Vf(this.K,0,c,0,2*b);return new Oj(a,this.bitmap,c)};g.Ne=function(){return Qj?Qj(this.K):Rj.call(null,this.K)};g.Xd=function(a,b){return Mj(this.K,a,b)};g.Vd=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=Kg(this.bitmap&e-1);e=this.K[2*f];f=this.K[2*f+1];return null==e?f.Vd(a+5,b,c,d):Ij(c,e)?f:d};
g.Uc=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=Kg(this.bitmap&h-1);if(0===(this.bitmap&h)){var m=Kg(this.bitmap);if(2*m<this.K.length){a=this.xd(a);b=a.K;f.val=!0;c=2*(m-k);f=2*k+(c-1);for(m=2*(k+1)+(c-1);0!==c;)b[m]=b[f],--m,--c,--f;b[2*k]=d;b[2*k+1]=e;a.bitmap|=h;return a}if(16<=m){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=Sj.Uc(a,b+5,c,d,e,f);for(e=d=0;;)if(32>
d)0===(this.bitmap>>>d&1)?d+=1:(k[d]=null!=this.K[e]?Sj.Uc(a,b+5,Ge(this.K[e]),this.K[e],this.K[e+1],f):this.K[e+1],e+=2,d+=1);else break;return new Tj(a,m+1,k)}b=Array(2*(m+4));Vf(this.K,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;Vf(this.K,2*k,b,2*(k+1),2*(m-k));f.val=!0;a=this.xd(a);a.K=b;a.bitmap|=h;return a}m=this.K[2*k];h=this.K[2*k+1];if(null==m)return m=h.Uc(a,b+5,c,d,e,f),m===h?this:Lj(this,a,2*k+1,m);if(Ij(d,m))return e===h?this:Lj(this,a,2*k+1,e);f.val=!0;f=b+5;d=Uj?Uj(a,f,m,h,c,d,e):Vj.call(null,a,
f,m,h,c,d,e);e=2*k;k=2*k+1;a=this.xd(a);a.K[e]=null;a.K[k]=d;return a};
g.Tc=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=Kg(this.bitmap&f-1);if(0===(this.bitmap&f)){var k=Kg(this.bitmap);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=Sj.Tc(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.bitmap>>>c&1)?c+=1:(h[c]=null!=this.K[d]?Sj.Tc(a+5,Ge(this.K[d]),this.K[d],this.K[d+1],e):this.K[d+1],d+=2,c+=1);else break;return new Tj(null,k+1,h)}a=Array(2*
(k+1));Vf(this.K,0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;Vf(this.K,2*h,a,2*(h+1),2*(k-h));e.val=!0;return new Oj(null,this.bitmap|f,a)}var m=this.K[2*h];f=this.K[2*h+1];if(null==m)return k=f.Tc(a+5,b,c,d,e),k===f?this:new Oj(null,this.bitmap,Jj(this.K,2*h+1,k));if(Ij(c,m))return d===f?this:new Oj(null,this.bitmap,Jj(this.K,2*h+1,d));e.val=!0;e=this.bitmap;k=this.K;a+=5;a=Wj?Wj(a,m,f,b,c,d):Vj.call(null,a,m,f,b,c,d);c=2*h;h=2*h+1;d=Tc(k);d[c]=null;d[h]=a;return new Oj(null,e,d)};
g.Me=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=Kg(this.bitmap&e-1);e=this.K[2*f];f=this.K[2*f+1];return null==e?f.Me(a+5,b,c,d):Ij(c,e)?new X(e,f,null):d};
g.Oe=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.bitmap&d))return this;var e=Kg(this.bitmap&d-1),f=this.K[2*e],h=this.K[2*e+1];return null==f?(a=h.Oe(a+5,b,c),a===h?this:null!=a?new Oj(null,this.bitmap,Jj(this.K,2*e+1,a)):this.bitmap===d?null:new Oj(null,this.bitmap^d,Kj(this.K,e))):Ij(c,f)?new Oj(null,this.bitmap^d,Kj(this.K,e)):this};g.pa=function(){return new Nj(this.K)};var Sj=new Oj(null,0,[]);function Yj(a){this.K=a;this.i=0;this.Wc=null}
Yj.prototype.Na=function(){for(var a=this.K.length;;){if(null!=this.Wc&&this.Wc.Na())return!0;if(this.i<a){var b=this.K[this.i];this.i+=1;null!=b&&(this.Wc=ve(b))}else return!1}};Yj.prototype.next=function(){if(this.Na())return this.Wc.next();throw Error("No such element");};Yj.prototype.remove=function(){return Error("Unsupported operation")};function Tj(a,b,c){this.Oa=a;this.Y=b;this.K=c;this.T=131072;this.J=0}g=Tj.prototype;g.xd=function(a){return a===this.Oa?this:new Tj(a,this.Y,Tc(this.K))};
g.Ne=function(){return Zj?Zj(this.K):ak.call(null,this.K)};g.Xd=function(a,b){for(var c=this.K.length,d=0;;)if(d<c){var e=this.K[d];if(null!=e){b=e.Xd(a,b);if(cf(b))return b;d+=1}else d+=1}else return b};g.Vd=function(a,b,c,d){var e=this.K[b>>>a&31];return null!=e?e.Vd(a+5,b,c,d):d};g.Uc=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.K[h];if(null==k)return a=Lj(this,a,h,Sj.Uc(a,b+5,c,d,e,f)),a.Y+=1,a;b=k.Uc(a,b+5,c,d,e,f);return b===k?this:Lj(this,a,h,b)};
g.Tc=function(a,b,c,d,e){var f=b>>>a&31,h=this.K[f];if(null==h)return new Tj(null,this.Y+1,Jj(this.K,f,Sj.Tc(a+5,b,c,d,e)));a=h.Tc(a+5,b,c,d,e);return a===h?this:new Tj(null,this.Y,Jj(this.K,f,a))};g.Me=function(a,b,c,d){var e=this.K[b>>>a&31];return null!=e?e.Me(a+5,b,c,d):d};
g.Oe=function(a,b,c){var d=b>>>a&31,e=this.K[d];if(null!=e){a=e.Oe(a+5,b,c);if(a===e)d=this;else if(null==a)if(8>=this.Y)a:{e=this.K;a=e.length;b=Array(2*(this.Y-1));c=0;for(var f=1,h=0;;)if(c<a)c!==d&&null!=e[c]?(b[f]=e[c],f+=2,h|=1<<c,c+=1):c+=1;else{d=new Oj(null,h,b);break a}}else d=new Tj(null,this.Y-1,Jj(this.K,d,a));else d=new Tj(null,this.Y,Jj(this.K,d,a));return d}return this};g.pa=function(){return new Yj(this.K)};
function bk(a,b,c){b*=2;for(var d=0;;)if(d<b){if(Ij(c,a[d]))return d;d+=2}else return-1}function ck(a,b,c,d){this.Oa=a;this.ud=b;this.Y=c;this.K=d;this.T=131072;this.J=0}g=ck.prototype;g.xd=function(a){if(a===this.Oa)return this;var b=Array(2*(this.Y+1));Vf(this.K,0,b,0,2*this.Y);return new ck(a,this.ud,this.Y,b)};g.Ne=function(){return Qj?Qj(this.K):Rj.call(null,this.K)};g.Xd=function(a,b){return Mj(this.K,a,b)};
g.Vd=function(a,b,c,d){a=bk(this.K,this.Y,c);return 0>a?d:Ij(c,this.K[a])?this.K[a+1]:d};
g.Uc=function(a,b,c,d,e,f){if(c===this.ud){b=bk(this.K,this.Y,d);if(-1===b){if(this.K.length>2*this.Y)return b=2*this.Y,c=2*this.Y+1,a=this.xd(a),a.K[b]=d,a.K[c]=e,f.val=!0,a.Y+=1,a;c=this.K.length;b=Array(c+2);Vf(this.K,0,b,0,c);b[c]=d;b[c+1]=e;f.val=!0;d=this.Y+1;a===this.Oa?(this.K=b,this.Y=d,a=this):a=new ck(this.Oa,this.ud,d,b);return a}return this.K[b+1]===e?this:Lj(this,a,b+1,e)}return(new Oj(a,1<<(this.ud>>>b&31),[null,this,null,null])).Uc(a,b,c,d,e,f)};
g.Tc=function(a,b,c,d,e){return b===this.ud?(a=bk(this.K,this.Y,c),-1===a?(a=2*this.Y,b=Array(a+2),Vf(this.K,0,b,0,a),b[a]=c,b[a+1]=d,e.val=!0,new ck(null,this.ud,this.Y+1,b)):D.j(this.K[a+1],d)?this:new ck(null,this.ud,this.Y,Jj(this.K,a+1,d))):(new Oj(null,1<<(this.ud>>>a&31),[null,this])).Tc(a,b,c,d,e)};g.Me=function(a,b,c,d){a=bk(this.K,this.Y,c);return 0>a?d:Ij(c,this.K[a])?new X(this.K[a],this.K[a+1],null):d};
g.Oe=function(a,b,c){a=bk(this.K,this.Y,c);return-1===a?this:1===this.Y?null:new ck(null,this.ud,this.Y-1,Kj(this.K,Ig(a,2)))};g.pa=function(){return new Nj(this.K)};function Vj(a){switch(arguments.length){case 6:return Wj(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return Uj(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}
function Wj(a,b,c,d,e,f){var h=Ge(b);if(h===d)return new ck(null,h,2,[b,c,e,f]);var k=new Hj;return Sj.Tc(a,h,b,c,k).Tc(a,d,e,f,k)}function Uj(a,b,c,d,e,f,h){var k=Ge(c);if(k===e)return new ck(null,k,2,[c,d,f,h]);var m=new Hj;return Sj.Uc(a,b,k,c,d,m).Uc(a,b,e,f,h,m)}function dk(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.I=e;this.J=32374988;this.T=0}g=dk.prototype;g.toString=function(){return ye(this)};g.equiv=function(a){return this.ba(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return nf(this,b,0);case 2:return nf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return nf(this,b,0)};a.j=function(b,c){return nf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return qf(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return qf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return qf(this,c,d)};return b}();g.fa=function(){return this.meta};g.Qa=function(){if(null==this.s){var a=this.nodes,b=this.i+2;return ek?ek(a,b,null):Rj.call(null,a,b,null)}a=this.nodes;b=this.i;var c=J(this.s);return ek?ek(a,b,c):Rj.call(null,a,b,c)};
g.ha=function(){var a=this.I;return null!=a?a:this.I=a=We(this)};g.ba=function(a,b){return tf(this,b)};g.Ka=function(){return Se};g.$a=function(a,b){return vf(b,this)};g.ab=function(a,b,c){return xf(b,c,this)};g.cb=function(){return null==this.s?new X(this.nodes[this.i],this.nodes[this.i+1],null):H(this.s)};
g.mb=function(){var a=this,b=null==a.s?function(){var c=a.nodes,d=a.i+2;return ek?ek(c,d,null):Rj.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=J(a.s);return ek?ek(c,d,e):Rj.call(null,c,d,e)}();return null!=b?b:Se};g.ia=function(){return this};g.ga=function(a,b){return b===this.meta?this:new dk(b,this.nodes,this.i,this.s,this.I)};g.ka=function(a,b){return uf(b,this)};dk.prototype[Qc]=function(){return Ue(this)};
function Rj(a){switch(arguments.length){case 1:return Qj(arguments[0]);case 3:return ek(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function Qj(a){return ek(a,0,null)}function ek(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new dk(null,a,b,null,null);var d=a[b+1];if(r(d)&&(d=d.Ne(),r(d)))return new dk(null,a,b+2,d,null);b+=2}else return null;else return new dk(null,a,b,c,null)}
function fk(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.I=e;this.J=32374988;this.T=0}g=fk.prototype;g.toString=function(){return ye(this)};g.equiv=function(a){return this.ba(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return nf(this,b,0);case 2:return nf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return nf(this,b,0)};a.j=function(b,c){return nf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return qf(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return qf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return qf(this,c,d)};return b}();g.fa=function(){return this.meta};g.Qa=function(){var a=this.nodes,b=this.i,c=J(this.s);return gk?gk(a,b,c):ak.call(null,a,b,c)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=We(this)};
g.ba=function(a,b){return tf(this,b)};g.Ka=function(){return Se};g.$a=function(a,b){return vf(b,this)};g.ab=function(a,b,c){return xf(b,c,this)};g.cb=function(){return H(this.s)};g.mb=function(){var a=this.nodes;var b=this.i,c=J(this.s);a=gk?gk(a,b,c):ak.call(null,a,b,c);return null!=a?a:Se};g.ia=function(){return this};g.ga=function(a,b){return b===this.meta?this:new fk(b,this.nodes,this.i,this.s,this.I)};g.ka=function(a,b){return uf(b,this)};fk.prototype[Qc]=function(){return Ue(this)};
function ak(a){switch(arguments.length){case 1:return Zj(arguments[0]);case 3:return gk(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function Zj(a){return gk(a,0,null)}function gk(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(r(d)&&(d=d.Ne(),r(d)))return new fk(null,a,b+1,d,null);b+=1}else return null;else return new fk(null,a,b,c,null)}function kk(a,b){this.xb=a;this.Qh=b;this.seen=!1}
kk.prototype.Na=function(){return!this.seen||this.Qh.Na()};kk.prototype.next=function(){if(this.seen)return this.Qh.next();this.seen=!0;return new X(null,this.xb,null)};kk.prototype.remove=function(){return Error("Unsupported operation")};function lk(a,b,c,d,e,f){this.meta=a;this.Y=b;this.root=c;this.wb=d;this.xb=e;this.I=f;this.J=16123663;this.T=139268}g=lk.prototype;g.pd=function(a,b){return null==b?this.wb?new X(null,this.xb,null):null:null==this.root?null:this.root.Me(0,Ge(b),b,null)};
g.toString=function(){return ye(this)};g.equiv=function(a){return this.ba(null,a)};g.keys=function(){return Ue(Aj.B?Aj.B(this):Aj.call(null,this))};g.entries=function(){return new vj(E(E(this)))};g.values=function(){return Ue(Bj.B?Bj.B(this):Bj.call(null,this))};g.has=function(a){return bg(this,a)};g.get=function(a,b){return this.R(null,a,b)};
g.forEach=function(a){for(var b=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.wa(null,e),h=O(f,0,null);f=O(f,1,null);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=E(b))Uf(b)?(c=me(b),b=ne(b),h=c,d=K(c),c=h):(c=H(b),h=O(c,0,null),f=O(c,1,null),a.j?a.j(f,h):a.call(null,f,h),b=J(b),c=null,d=0),e=0;else return null};g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){return null==b?this.wb?this.xb:c:null==this.root?c:this.root.Vd(0,Ge(b),b,c)};
g.xa=function(a,b,c){a=this.wb?b.C?b.C(c,null,this.xb):b.call(null,c,null,this.xb):c;return cf(a)?z(a):null!=this.root?df(this.root.Xd(b,a)):a};g.pa=function(){var a=this.root?ve(this.root):Bh();return this.wb?new kk(this.xb,a):a};g.fa=function(){return this.meta};g.oa=function(){return new lk(this.meta,this.Y,this.root,this.wb,this.xb,this.I)};g.ja=function(){return this.Y};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=Ye(this)};g.ba=function(a,b){return tj(this,b)};
g.Ed=function(){return new mk(this.root,this.Y,this.wb,this.xb)};g.Ka=function(){return Ed(Ej,this.meta)};g.ya=function(a,b){if(null==b)return this.wb?new lk(this.meta,this.Y-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.Oe(0,Ge(b),b);return a===this.root?this:new lk(this.meta,this.Y-1,a,this.wb,this.xb,null)};
g.da=function(a,b,c){if(null==b)return this.wb&&c===this.xb?this:new lk(this.meta,this.wb?this.Y:this.Y+1,this.root,!0,c,null);a=new Hj;b=(null==this.root?Sj:this.root).Tc(0,Ge(b),b,c,a);return b===this.root?this:new lk(this.meta,a.val?this.Y+1:this.Y,b,this.wb,this.xb,null)};g.ia=function(){if(0<this.Y){var a=null!=this.root?this.root.Ne():null;return this.wb?uf(new X(null,this.xb,null),a):a}return null};g.ga=function(a,b){return b===this.meta?this:new lk(b,this.Y,this.root,this.wb,this.xb,this.I)};
g.ka=function(a,b){if(Tf(b))return this.da(null,x(b,0),x(b,1));a=this;for(b=E(b);;){if(null==b)return a;var c=H(b);if(Tf(c))a=pd(a,x(c,0),x(c,1)),b=J(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Tc(b)))};
g.B=function(a){return this.ma(null,a)};g.j=function(a,b){return this.R(null,a,b)};var Ej=new lk(null,0,null,!1,null,Ze);function nk(a,b){for(var c=a.length,d=0,e=ce(Ej);;)if(d<c){var f=d+1;e=he(e,a[d],b[d]);d=f}else return ge(e)}lk.prototype[Qc]=function(){return Ue(this)};function mk(a,b,c,d){this.Oa={};this.root=a;this.count=b;this.wb=c;this.xb=d;this.J=259;this.T=56}
function ok(a,b,c){if(a.Oa){if(null==b)a.xb!==c&&(a.xb=c),a.wb||(a.count+=1,a.wb=!0);else{var d=new Hj;b=(null==a.root?Sj:a.root).Uc(a.Oa,0,Ge(b),b,c,d);b!==a.root&&(a.root=b);d.val&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=mk.prototype;g.ja=function(){if(this.Oa)return this.count;throw Error("count after persistent!");};g.ma=function(a,b){return null==b?this.wb?this.xb:null:null==this.root?null:this.root.Vd(0,Ge(b),b)};
g.R=function(a,b,c){return null==b?this.wb?this.xb:c:null==this.root?c:this.root.Vd(0,Ge(b),b,c)};g.Fd=function(a,b){a:if(this.Oa)if(bj(b))a=ok(this,cj.B?cj.B(b):cj.call(null,b),dj.B?dj.B(b):dj.call(null,b));else if(Tf(b))a=ok(this,b.B?b.B(0):b.call(null,0),b.B?b.B(1):b.call(null,1));else for(a=E(b),b=this;;){var c=H(a);if(r(c))a=J(a),b=ok(b,cj.B?cj.B(c):cj.call(null,c),dj.B?dj.B(c):dj.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
g.Pd=function(){if(this.Oa){this.Oa=null;var a=new lk(null,this.count,this.root,this.wb,this.xb,null)}else throw Error("persistent! called twice");return a};g.de=function(a,b,c){return ok(this,b,c)};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Tc(b)))};
g.B=function(a){return this.ma(null,a)};g.j=function(a,b){return this.R(null,a,b)};function pk(a,b,c){for(var d=b;;)if(null!=a)b=c?a.left:a.right,d=Bf.j(d,a),a=b;else return d}function qk(a,b,c,d,e){this.meta=a;this.stack=b;this.Md=c;this.Y=d;this.I=e;this.J=32374990;this.T=0}g=qk.prototype;g.toString=function(){return ye(this)};g.equiv=function(a){return this.ba(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return nf(this,b,0);case 2:return nf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return nf(this,b,0)};a.j=function(b,c){return nf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return qf(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return qf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return qf(this,c,d)};return b}();g.fa=function(){return this.meta};g.Qa=function(){var a=H(this.stack);a=pk(this.Md?a.right:a.left,J(this.stack),this.Md);return null==a?null:new qk(null,a,this.Md,this.Y-1,null)};
g.ja=function(){return 0>this.Y?K(J(this))+1:this.Y};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=We(this)};g.ba=function(a,b){return tf(this,b)};g.Ka=function(){return Se};g.$a=function(a,b){return vf(b,this)};g.ab=function(a,b,c){return xf(b,c,this)};g.cb=function(){var a=this.stack;return null==a?null:xd(a)};g.mb=function(){var a=H(this.stack);a=pk(this.Md?a.right:a.left,J(this.stack),this.Md);return null!=a?new qk(null,a,this.Md,this.Y-1,null):Se};g.ia=function(){return this};
g.ga=function(a,b){return b===this.meta?this:new qk(b,this.stack,this.Md,this.Y,this.I)};g.ka=function(a,b){return uf(b,this)};qk.prototype[Qc]=function(){return Ue(this)};function rk(a,b,c){return new qk(null,pk(a,null,b),b,c,null)}
function sk(a,b,c,d){return c instanceof tk?c.left instanceof tk?new tk(c.key,c.val,c.left.od(),new uk(a,b,c.right,d)):c.right instanceof tk?new tk(c.right.key,c.right.val,new uk(c.key,c.val,c.left,c.right.left),new uk(a,b,c.right.right,d)):new uk(a,b,c,d):new uk(a,b,c,d)}
function vk(a,b,c,d){return d instanceof tk?d.right instanceof tk?new tk(d.key,d.val,new uk(a,b,c,d.left),d.right.od()):d.left instanceof tk?new tk(d.left.key,d.left.val,new uk(a,b,c,d.left.left),new uk(d.key,d.val,d.left.right,d.right)):new uk(a,b,c,d):new uk(a,b,c,d)}
function wk(a,b,c,d){if(c instanceof tk)return new tk(a,b,c.od(),d);if(d instanceof uk)return vk(a,b,c,d.Se());if(d instanceof tk&&d.left instanceof uk)return new tk(d.left.key,d.left.val,new uk(a,b,c,d.left.left),vk(d.key,d.val,d.left.right,d.right.Se()));throw Error("red-black tree invariant violation");}
function xk(a,b,c,d){if(d instanceof tk)return new tk(a,b,c,d.od());if(c instanceof uk)return sk(a,b,c.Se(),d);if(c instanceof tk&&c.right instanceof uk)return new tk(c.right.key,c.right.val,sk(c.key,c.val,c.left.Se(),c.right.left),new uk(a,b,c.right.right,d));throw Error("red-black tree invariant violation");}
var yk=function yk(a,b,c){var e=null!=a.left?function(){var k=a.left;return yk.C?yk.C(k,b,c):yk.call(null,k,b,c)}():c;if(cf(e))return e;var f=function(){var k=a.key,m=a.val;return b.C?b.C(e,k,m):b.call(null,e,k,m)}();if(cf(f))return f;if(null!=a.right){var h=a.right;return yk.C?yk.C(h,b,f):yk.call(null,h,b,f)}return f};function uk(a,b,c,d){this.key=a;this.val=b;this.left=c;this.right=d;this.I=null;this.J=166619935;this.T=0}g=uk.prototype;
g.pd=function(a,b){switch(b){case 0:return new X(0,this.key,null);case 1:return new X(1,this.val,null);default:return null}};g.lastIndexOf=function(){function a(c){return qf(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return qf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return qf(this,c,d)};return b}();
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return nf(this,b,0);case 2:return nf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return nf(this,b,0)};a.j=function(b,c){return nf(this,b,c)};return a}();g.Zg=function(a){return a.bh(this)};g.Se=function(){return new tk(this.key,this.val,this.left,this.right)};g.od=function(){return this};g.Yg=function(a){return a.ah(this)};g.replace=function(a,b,c,d){return new uk(a,b,c,d)};
g.ah=function(a){return new uk(a.key,a.val,this,a.right)};g.bh=function(a){return new uk(a.key,a.val,a.left,this)};g.Xd=function(a,b){return yk(this,a,b)};g.ma=function(a,b){return this.Za(null,b,null)};g.R=function(a,b,c){return this.Za(null,b,c)};g.wa=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};g.Za=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.Rc=function(a,b,c){return(new W(null,2,5,Y,[this.key,this.val],null)).Rc(null,b,c)};
g.fa=function(){return null};g.ja=function(){return 2};g.Vf=function(){return this.key};g.Wf=function(){return this.val};g.qd=function(){return this.val};g.rd=function(){return new W(null,1,5,Y,[this.key],null)};g.vc=function(){return new Pe([this.val,this.key],0,null)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=We(this)};g.ba=function(a,b){return tf(this,b)};g.Ka=function(){return null};g.$a=function(a,b){return ff(this,b)};g.ab=function(a,b,c){return gf(this,b,c)};
g.da=function(a,b,c){return Q.C(new W(null,2,5,Y,[this.key,this.val],null),b,c)};g.ia=function(){return new Pe([this.key,this.val],0,null)};g.ga=function(a,b){return Ed(new W(null,2,5,Y,[this.key,this.val],null),b)};g.ka=function(a,b){return new W(null,3,5,Y,[this.key,this.val,b],null)};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Tc(b)))};g.B=function(a){return this.wa(null,a)};g.j=function(a,b){return this.Za(null,a,b)};uk.prototype[Qc]=function(){return Ue(this)};function tk(a,b,c,d){this.key=a;this.val=b;this.left=c;this.right=d;this.I=null;this.J=166619935;this.T=0}g=tk.prototype;g.pd=function(a,b){switch(b){case 0:return new X(0,this.key,null);case 1:return new X(1,this.val,null);default:return null}};
g.lastIndexOf=function(){function a(c){return qf(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return qf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return qf(this,c,d)};return b}();
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return nf(this,b,0);case 2:return nf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return nf(this,b,0)};a.j=function(b,c){return nf(this,b,c)};return a}();g.Zg=function(a){return new tk(this.key,this.val,this.left,a)};g.Se=function(){throw Error("red-black tree invariant violation");};g.od=function(){return new uk(this.key,this.val,this.left,this.right)};
g.Yg=function(a){return new tk(this.key,this.val,a,this.right)};g.replace=function(a,b,c,d){return new tk(a,b,c,d)};g.ah=function(a){return this.left instanceof tk?new tk(this.key,this.val,this.left.od(),new uk(a.key,a.val,this.right,a.right)):this.right instanceof tk?new tk(this.right.key,this.right.val,new uk(this.key,this.val,this.left,this.right.left),new uk(a.key,a.val,this.right.right,a.right)):new uk(a.key,a.val,this,a.right)};
g.bh=function(a){return this.right instanceof tk?new tk(this.key,this.val,new uk(a.key,a.val,a.left,this.left),this.right.od()):this.left instanceof tk?new tk(this.left.key,this.left.val,new uk(a.key,a.val,a.left,this.left.left),new uk(this.key,this.val,this.left.right,this.right)):new uk(a.key,a.val,a.left,this)};g.Xd=function(a,b){return yk(this,a,b)};g.ma=function(a,b){return this.Za(null,b,null)};g.R=function(a,b,c){return this.Za(null,b,c)};
g.wa=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};g.Za=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.Rc=function(a,b,c){return(new W(null,2,5,Y,[this.key,this.val],null)).Rc(null,b,c)};g.fa=function(){return null};g.ja=function(){return 2};g.Vf=function(){return this.key};g.Wf=function(){return this.val};g.qd=function(){return this.val};g.rd=function(){return new W(null,1,5,Y,[this.key],null)};
g.vc=function(){return new Pe([this.val,this.key],0,null)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=We(this)};g.ba=function(a,b){return tf(this,b)};g.Ka=function(){return null};g.$a=function(a,b){return ff(this,b)};g.ab=function(a,b,c){return gf(this,b,c)};g.da=function(a,b,c){return Q.C(new W(null,2,5,Y,[this.key,this.val],null),b,c)};g.ia=function(){return new Pe([this.key,this.val],0,null)};g.ga=function(a,b){return Ed(new W(null,2,5,Y,[this.key,this.val],null),b)};
g.ka=function(a,b){return new W(null,3,5,Y,[this.key,this.val,b],null)};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Tc(b)))};g.B=function(a){return this.wa(null,a)};g.j=function(a,b){return this.Za(null,a,b)};tk.prototype[Qc]=function(){return Ue(this)};
var zk=function zk(a,b,c,d,e){if(null==b)return new tk(c,d,null,null);var h=function(){var k=b.key;return a.j?a.j(c,k):a.call(null,c,k)}();if(0===h)return e[0]=b,null;if(0>h)return h=function(){var k=b.left;return zk.la?zk.la(a,k,c,d,e):zk.call(null,a,k,c,d,e)}(),null!=h?b.Yg(h):null;h=function(){var k=b.right;return zk.la?zk.la(a,k,c,d,e):zk.call(null,a,k,c,d,e)}();return null!=h?b.Zg(h):null},Ak=function Ak(a,b){if(null==a)return b;if(null==b)return a;if(a instanceof tk){if(b instanceof tk){var d=
function(){var e=a.right,f=b.left;return Ak.j?Ak.j(e,f):Ak.call(null,e,f)}();return d instanceof tk?new tk(d.key,d.val,new tk(a.key,a.val,a.left,d.left),new tk(b.key,b.val,d.right,b.right)):new tk(a.key,a.val,a.left,new tk(b.key,b.val,d,b.right))}return new tk(a.key,a.val,a.left,function(){var e=a.right;return Ak.j?Ak.j(e,b):Ak.call(null,e,b)}())}if(b instanceof tk)return new tk(b.key,b.val,function(){var e=b.left;return Ak.j?Ak.j(a,e):Ak.call(null,a,e)}(),b.right);d=function(){var e=a.right,f=b.left;
return Ak.j?Ak.j(e,f):Ak.call(null,e,f)}();return d instanceof tk?new tk(d.key,d.val,new uk(a.key,a.val,a.left,d.left),new uk(b.key,b.val,d.right,b.right)):wk(a.key,a.val,a.left,new uk(b.key,b.val,d,b.right))},Bk=function Bk(a,b,c,d){if(null!=b){var f=function(){var h=b.key;return a.j?a.j(c,h):a.call(null,c,h)}();if(0===f)return d[0]=b,Ak(b.left,b.right);if(0>f)return f=function(){var h=b.left;return Bk.P?Bk.P(a,h,c,d):Bk.call(null,a,h,c,d)}(),null!=f||null!=d[0]?b.left instanceof uk?wk(b.key,b.val,
f,b.right):new tk(b.key,b.val,f,b.right):null;f=function(){var h=b.right;return Bk.P?Bk.P(a,h,c,d):Bk.call(null,a,h,c,d)}();return null!=f||null!=d[0]?b.right instanceof uk?xk(b.key,b.val,b.left,f):new tk(b.key,b.val,b.left,f):null}return null},Ck=function Ck(a,b,c,d){var f=b.key,h=a.j?a.j(c,f):a.call(null,c,f);return 0===h?b.replace(f,d,b.left,b.right):0>h?b.replace(f,b.val,function(){var k=b.left;return Ck.P?Ck.P(a,k,c,d):Ck.call(null,a,k,c,d)}(),b.right):b.replace(f,b.val,b.left,function(){var k=
b.right;return Ck.P?Ck.P(a,k,c,d):Ck.call(null,a,k,c,d)}())};function Dk(a,b,c,d,e){this.wc=a;this.tree=b;this.Y=c;this.meta=d;this.I=e;this.J=418776847;this.T=8192}g=Dk.prototype;g.pd=function(a,b){return Ek(this,b)};
g.forEach=function(a){for(var b=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.wa(null,e),h=O(f,0,null);f=O(f,1,null);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=E(b))Uf(b)?(c=me(b),b=ne(b),h=c,d=K(c),c=h):(c=H(b),h=O(c,0,null),f=O(c,1,null),a.j?a.j(f,h):a.call(null,f,h),b=J(b),c=null,d=0),e=0;else return null};g.get=function(a,b){return this.R(null,a,b)};g.entries=function(){return new vj(E(E(this)))};g.toString=function(){return ye(this)};g.keys=function(){return Ue(Aj.B?Aj.B(this):Aj.call(null,this))};
g.values=function(){return Ue(Bj.B?Bj.B(this):Bj.call(null,this))};g.equiv=function(a){return this.ba(null,a)};function Ek(a,b){for(var c=a.tree;;)if(null!=c){var d=c.key;d=a.wc.j?a.wc.j(b,d):a.wc.call(null,b,d);if(0===d)return c;c=0>d?c.left:c.right}else return null}g.has=function(a){return bg(this,a)};g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){a=Ek(this,b);return null!=a?a.val:c};g.xa=function(a,b,c){return null!=this.tree?df(yk(this.tree,b,c)):c};g.fa=function(){return this.meta};
g.oa=function(){return new Dk(this.wc,this.tree,this.Y,this.meta,this.I)};g.ja=function(){return this.Y};g.vc=function(){return 0<this.Y?rk(this.tree,!1,this.Y):null};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=Ye(this)};g.ba=function(a,b){return tj(this,b)};g.Ka=function(){return new Dk(this.wc,null,0,this.meta,0)};g.ya=function(a,b){a=[null];b=Bk(this.wc,this.tree,b,a);return null==b?null==of(a,0)?this:new Dk(this.wc,null,0,this.meta,null):new Dk(this.wc,b.od(),this.Y-1,this.meta,null)};
g.da=function(a,b,c){a=[null];var d=zk(this.wc,this.tree,b,c,a);return null==d?(a=of(a,0),D.j(c,a.val)?this:new Dk(this.wc,Ck(this.wc,this.tree,b,c),this.Y,this.meta,null)):new Dk(this.wc,d.od(),this.Y+1,this.meta,null)};g.ia=function(){return 0<this.Y?rk(this.tree,!0,this.Y):null};g.ga=function(a,b){return b===this.meta?this:new Dk(this.wc,this.tree,this.Y,b,this.I)};
g.ka=function(a,b){if(Tf(b))return this.da(null,x(b,0),x(b,1));a=this;for(b=E(b);;){if(null==b)return a;var c=H(b);if(Tf(c))a=pd(a,x(c,0),x(c,1)),b=J(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Tc(b)))};
g.B=function(a){return this.ma(null,a)};g.j=function(a,b){return this.R(null,a,b)};var Fk=new Dk(eg,null,0,null,Ze);Dk.prototype[Qc]=function(){return Ue(this)};var Gk=function Gk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Pe(c.slice(0),0,null):null;return Gk.G(c)};Gk.G=function(a){a=E(a);for(var b=ce(Ej);;)if(a){var c=J(J(a));b=mh.C(b,H(a),yf(a));a=c}else return ge(b)};Gk.aa=0;Gk.ca=function(a){return this.G(E(a))};
var Hk=function Hk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Pe(c.slice(0),0,null):null;return Hk.G(c)};Hk.G=function(a){a=a instanceof Pe&&0===a.i?a.K:Uc(a);return Gf(a)};Hk.aa=0;Hk.ca=function(a){return this.G(E(a))};function Ik(a,b){this.Ja=a;this.Fc=b;this.J=32374988;this.T=0}g=Ik.prototype;g.toString=function(){return ye(this)};g.equiv=function(a){return this.ba(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return nf(this,b,0);case 2:return nf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return nf(this,b,0)};a.j=function(b,c){return nf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return qf(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return qf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return qf(this,c,d)};return b}();g.fa=function(){return this.Fc};g.Qa=function(){var a=(null!=this.Ja?this.Ja.J&128||l===this.Ja.ye||(this.Ja.J?0:Mc(kd,this.Ja)):Mc(kd,this.Ja))?this.Ja.Qa(null):J(this.Ja);return null==a?null:new Ik(a,null)};g.ha=function(){return We(this)};
g.ba=function(a,b){return tf(this,b)};g.Ka=function(){return Se};g.$a=function(a,b){return vf(b,this)};g.ab=function(a,b,c){return xf(b,c,this)};g.cb=function(){return this.Ja.cb(null).key};g.mb=function(){var a=(null!=this.Ja?this.Ja.J&128||l===this.Ja.ye||(this.Ja.J?0:Mc(kd,this.Ja)):Mc(kd,this.Ja))?this.Ja.Qa(null):J(this.Ja);return null!=a?new Ik(a,null):Se};g.ia=function(){return this};g.ga=function(a,b){return b===this.Fc?this:new Ik(this.Ja,b)};g.ka=function(a,b){return uf(b,this)};
Ik.prototype[Qc]=function(){return Ue(this)};function Aj(a){return(a=E(a))?new Ik(a,null):null}function cj(a){return td(a)}function Jk(a,b){this.Ja=a;this.Fc=b;this.J=32374988;this.T=0}g=Jk.prototype;g.toString=function(){return ye(this)};g.equiv=function(a){return this.ba(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return nf(this,b,0);case 2:return nf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return nf(this,b,0)};a.j=function(b,c){return nf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return qf(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return qf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return qf(this,c,d)};return b}();g.fa=function(){return this.Fc};g.Qa=function(){var a=(null!=this.Ja?this.Ja.J&128||l===this.Ja.ye||(this.Ja.J?0:Mc(kd,this.Ja)):Mc(kd,this.Ja))?this.Ja.Qa(null):J(this.Ja);return null==a?null:new Jk(a,null)};g.ha=function(){return We(this)};
g.ba=function(a,b){return tf(this,b)};g.Ka=function(){return Se};g.$a=function(a,b){return vf(b,this)};g.ab=function(a,b,c){return xf(b,c,this)};g.cb=function(){return this.Ja.cb(null).val};g.mb=function(){var a=(null!=this.Ja?this.Ja.J&128||l===this.Ja.ye||(this.Ja.J?0:Mc(kd,this.Ja)):Mc(kd,this.Ja))?this.Ja.Qa(null):J(this.Ja);return null!=a?new Jk(a,null):Se};g.ia=function(){return this};g.ga=function(a,b){return b===this.Fc?this:new Jk(this.Ja,b)};g.ka=function(a,b){return uf(b,this)};
Jk.prototype[Qc]=function(){return Ue(this)};function Bj(a){return(a=E(a))?new Jk(a,null):null}function dj(a){return ud(a)}var Kk=function Kk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Pe(c.slice(0),0,null):null;return Kk.G(c)};Kk.G=function(a){return r(Rh(qg,a))?w.j(function(b,c){return Bf.j(r(b)?b:V,c)},a):null};Kk.aa=0;Kk.ca=function(a){return this.G(E(a))};
var Lk=function Lk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new Pe(c.slice(1),0,null):null;return Lk.G(arguments[0],c)};Lk.G=function(a,b){if(r(Rh(qg,b))){var c=function(d,e){var f=td(e),h=ud(e);return bg(d,f)?Q.C(d,f,function(){var k=B.j(d,f);return a.j?a.j(k,h):a.call(null,k,h)}()):Q.C(d,f,h)};return w.j(function(d,e){return w.C(c,r(d)?d:V,E(e))},b)}return null};Lk.aa=1;Lk.ca=function(a){var b=H(a);a=J(a);return this.G(b,a)};
function Mk(a,b){var c=V;for(b=E(b);;)if(b){var d=H(b),e=B.C(a,d,Nk);c=zh.j(e,Nk)?Q.C(c,d,e):c;b=J(b)}else return Ed(c,Kf(a))}function Ok(a){this.iter=a}Ok.prototype.Na=function(){return this.iter.Na()};Ok.prototype.next=function(){if(this.iter.Na())return this.iter.next().key;throw Error("No such element");};Ok.prototype.remove=function(){return Error("Unsupported operation")};function Pk(a,b,c){this.meta=a;this.kd=b;this.I=c;this.J=15077647;this.T=139268}g=Pk.prototype;g.toString=function(){return ye(this)};
g.equiv=function(a){return this.ba(null,a)};g.keys=function(){return Ue(E(this))};g.entries=function(){return new wj(E(E(this)))};g.values=function(){return Ue(E(this))};g.has=function(a){return bg(this,a)};g.forEach=function(a){for(var b=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.wa(null,e),h=O(f,0,null);f=O(f,1,null);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=E(b))Uf(b)?(c=me(b),b=ne(b),h=c,d=K(c),c=h):(c=H(b),h=O(c,0,null),f=O(c,1,null),a.j?a.j(f,h):a.call(null,f,h),b=J(b),c=null,d=0),e=0;else return null};
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){a=qd(this.kd,b);return r(a)?td(a):c};g.pa=function(){return new Ok(ve(this.kd))};g.fa=function(){return this.meta};g.oa=function(){return new Pk(this.meta,this.kd,this.I)};g.ja=function(){return $c(this.kd)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=Ye(this)};
g.ba=function(a,b){if(Of(b))if(K(this)===K(b))try{return pg(function(c,d){return(c=bg(b,d))?c:bf(!1)},!0,this.kd)}catch(c){if(c instanceof Error)return!1;throw c;}else return!1;else return!1};g.Ed=function(){return new Qk(ce(this.kd))};g.Ka=function(){return Ed(Rk,this.meta)};g.gf=function(a,b){return new Pk(this.meta,sd(this.kd,b),null)};g.ia=function(){return Aj(this.kd)};g.ga=function(a,b){return b===this.meta?this:new Pk(b,this.kd,this.I)};
g.ka=function(a,b){return new Pk(this.meta,Q.C(this.kd,b,null),null)};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Tc(b)))};g.B=function(a){return this.ma(null,a)};g.j=function(a,b){return this.R(null,a,b)};var Rk=new Pk(null,V,Ze);
function dg(a){for(var b=a.length,c=ce(Rk),d=0;;)if(d<b)de(c,a[d]),d+=1;else break;return ge(c)}Pk.prototype[Qc]=function(){return Ue(this)};function Qk(a){this.$d=a;this.T=136;this.J=259}g=Qk.prototype;g.Fd=function(a,b){this.$d=mh.C(this.$d,b,null);return this};g.Pd=function(){return new Pk(null,ge(this.$d),null)};g.ja=function(){return K(this.$d)};g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){return nd(this.$d,b,Wf)===Wf?c:b};
g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Tc(b)))};g.B=function(a){return nd(this.$d,a,Wf)===Wf?null:a};g.j=function(a,b){return nd(this.$d,a,Wf)===Wf?b:a};function Sk(a,b,c){this.meta=a;this.ad=b;this.I=c;this.J=417730831;this.T=8192}g=Sk.prototype;g.toString=function(){return ye(this)};
g.equiv=function(a){return this.ba(null,a)};g.keys=function(){return Ue(E(this))};g.entries=function(){return new wj(E(E(this)))};g.values=function(){return Ue(E(this))};g.has=function(a){return bg(this,a)};g.forEach=function(a){for(var b=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.wa(null,e),h=O(f,0,null);f=O(f,1,null);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=E(b))Uf(b)?(c=me(b),b=ne(b),h=c,d=K(c),c=h):(c=H(b),h=O(c,0,null),f=O(c,1,null),a.j?a.j(f,h):a.call(null,f,h),b=J(b),c=null,d=0),e=0;else return null};
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){a=Ek(this.ad,b);return null!=a?a.key:c};g.fa=function(){return this.meta};g.oa=function(){return new Sk(this.meta,this.ad,this.I)};g.ja=function(){return K(this.ad)};g.vc=function(){return 0<K(this.ad)?hi.j(cj,Sd(this.ad)):null};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=Ye(this)};
g.ba=function(a,b){if(Of(b))if(K(this)===K(b))try{return pg(function(c,d){return(c=bg(b,d))?c:bf(!1)},!0,this.ad)}catch(c){if(c instanceof Error)return!1;throw c;}else return!1;else return!1};g.Ka=function(){return new Sk(this.meta,bd(this.ad),0)};g.gf=function(a,b){return new Sk(this.meta,R.j(this.ad,b),null)};g.ia=function(){return Aj(this.ad)};g.ga=function(a,b){return b===this.meta?this:new Sk(b,this.ad,this.I)};g.ka=function(a,b){return new Sk(this.meta,Q.C(this.ad,b,null),null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Tc(b)))};g.B=function(a){return this.ma(null,a)};g.j=function(a,b){return this.R(null,a,b)};Sk.prototype[Qc]=function(){return Ue(this)};
function Tk(a){if(Of(a))return Jf(a,null);a=E(a);if(null==a)return Rk;if(a instanceof Pe&&0===a.i)return dg(a.K);for(var b=ce(Rk);;)if(null!=a){var c=J(a);b=de(b,id(a));a=c}else return ge(b)}function Uk(a){return function e(c,d){return new Yg(null,function(){var f;a:{var h=c;for(f=d;;){var k=h;h=O(k,0,null);if(k=E(k))if(bg(f,h))h=Re(k);else{f=uf(h,e(Re(k),Bf.j(f,h)));break a}else{f=null;break a}}}return f},null,null)}(a,Rk)}
function Vk(a){for(var b=Cf;;)if(J(a))b=Bf.j(b,H(a)),a=J(a);else return E(b)}function Xg(a){if(null!=a&&(a.T&4096||l===a.Xf))return a.we(null);if("string"===typeof a)return a;throw Error(["Doesn't support name: ",t.B(a)].join(""));}function Wk(a,b){var c=ce(V);a=E(a);for(b=E(b);;)if(a&&b)c=mh.C(c,H(a),H(b)),a=J(a),b=J(b);else return ge(c)}
var Xk=function Xk(a){switch(arguments.length){case 2:return Xk.j(arguments[0],arguments[1]);case 3:return Xk.C(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Pe(c.slice(3),0,null);return Xk.G(arguments[0],arguments[1],arguments[2],c)}};Xk.j=function(a,b){return b};Xk.C=function(a,b,c){return(a.B?a.B(b):a.call(null,b))>(a.B?a.B(c):a.call(null,c))?b:c};
Xk.G=function(a,b,c,d){return w.C(function(e,f){return Xk.C(a,e,f)},Xk.C(a,b,c),d)};Xk.ca=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);d=J(d);return this.G(b,a,c,d)};Xk.aa=3;function $k(a,b){return new Yg(null,function(){var c=E(b);if(c){var d=H(c);d=a.B?a.B(d):a.call(null,d);c=r(d)?uf(H(c),$k(a,Re(c))):null}else c=null;return c},null,null)}function al(a,b,c){this.start=a;this.step=b;this.count=c;this.J=82;this.T=0}g=al.prototype;g.ja=function(){return this.count};g.cb=function(){return this.start};
g.wa=function(a,b){return this.start+b*this.step};g.Za=function(a,b,c){return 0<=b&&b<this.count?this.start+b*this.step:c};g.se=function(){if(1>=this.count)throw Error("-drop-first of empty chunk");return new al(this.start+this.step,this.step,this.count-1)};function bl(a,b,c){this.i=a;this.end=b;this.step=c}bl.prototype.Na=function(){return 0<this.step?this.i<this.end:this.i>this.end};bl.prototype.next=function(){var a=this.i;this.i+=this.step;return a};
function cl(a,b,c,d,e,f,h){this.meta=a;this.start=b;this.end=c;this.step=d;this.dc=e;this.qe=f;this.I=h;this.J=32375006;this.T=140800}g=cl.prototype;g.toString=function(){return ye(this)};g.equiv=function(a){return this.ba(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return nf(this,b,0);case 2:return nf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return nf(this,b,0)};a.j=function(b,c){return nf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return qf(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return qf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return qf(this,c,d)};return b}();function dl(a){if(null==a.dc){var b=a.ja(null);32<b?(a.qe=new cl(null,a.start+32*a.step,a.end,a.step,null,null,null),a.dc=new al(a.start,a.step,32)):a.dc=new al(a.start,a.step,b)}}
g.wa=function(a,b){if(0<=b&&b<this.ja(null))return this.start+b*this.step;if(0<=b&&this.start>this.end&&0===this.step)return this.start;throw Error("Index out of bounds");};g.Za=function(a,b,c){return 0<=b&&b<this.ja(null)?this.start+b*this.step:0<=b&&this.start>this.end&&0===this.step?this.start:c};g.pa=function(){return new bl(this.start,this.end,this.step)};g.fa=function(){return this.meta};g.oa=function(){return new cl(this.meta,this.start,this.end,this.step,this.dc,this.qe,this.I)};
g.Qa=function(){return 0<this.step?this.start+this.step<this.end?new cl(null,this.start+this.step,this.end,this.step,null,null,null):null:this.start+this.step>this.end?new cl(null,this.start+this.step,this.end,this.step,null,null,null):null};g.ja=function(){return Math.ceil((this.end-this.start)/this.step)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=We(this)};g.ba=function(a,b){return tf(this,b)};g.Ka=function(){return Se};g.$a=function(a,b){return ff(this,b)};
g.ab=function(a,b,c){for(a=this.start;;)if(0<this.step?a<this.end:a>this.end){c=b.j?b.j(c,a):b.call(null,c,a);if(cf(c))return z(c);a+=this.step}else return c};g.cb=function(){return this.start};g.mb=function(){var a=this.Qa(null);return null==a?Se:a};g.ia=function(){return this};g.ue=function(){dl(this);return this.dc};g.Od=function(){dl(this);return null==this.qe?Se:this.qe};g.ga=function(a,b){return b===this.meta?this:new cl(b,this.start,this.end,this.step,this.dc,this.qe,this.I)};
g.ka=function(a,b){return uf(b,this)};g.te=function(){return E(this.Od(null))};cl.prototype[Qc]=function(){return Ue(this)};var el=function el(a){switch(arguments.length){case 0:return el.O();case 1:return el.B(arguments[0]);case 2:return el.j(arguments[0],arguments[1]);case 3:return el.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};el.O=function(){return el.C(0,Number.MAX_VALUE,1)};el.B=function(a){return el.C(0,a,1)};
el.j=function(a,b){return el.C(a,b,1)};el.C=function(a,b,c){return 0<c?b<=a?Se:new cl(null,a,b,c,null,null,null):0>c?b>=a?Se:new cl(null,a,b,c,null,null,null):b===a?Se:ni(a)};el.aa=3;function fl(a,b){return new Yg(null,function(){var c=E(b);return c?uf(H(c),fl(a,ji(a,c))):null},null,null)}function gl(a,b){return new W(null,2,5,Y,[$k(a,b),li(a,b)],null)}
function hl(a,b){return new Yg(null,function(){var c=E(b);if(c){var d=H(c),e=a.B?a.B(d):a.call(null,d),f=uf(d,$k(function(h){return D.j(e,a.B?a.B(h):a.call(null,h))},J(c)));return uf(f,hl(a,new Yg(null,function(){return ji(K(f),c)},null,null)))}return null},null,null)}function il(a){return ge(w.C(function(b,c){return mh.C(b,c,B.C(b,c,0)+1)},ce(V),a))}
function jl(a,b){return function(){function c(m,n,p){return new W(null,2,5,Y,[a.C?a.C(m,n,p):a.call(null,m,n,p),b.C?b.C(m,n,p):b.call(null,m,n,p)],null)}function d(m,n){return new W(null,2,5,Y,[a.j?a.j(m,n):a.call(null,m,n),b.j?b.j(m,n):b.call(null,m,n)],null)}function e(m){return new W(null,2,5,Y,[a.B?a.B(m):a.call(null,m),b.B?b.B(m):b.call(null,m)],null)}function f(){return new W(null,2,5,Y,[a.O?a.O():a.call(null),b.O?b.O():b.call(null)],null)}var h=null,k=function(){function m(p,u,v,y){var F=null;
if(3<arguments.length){F=0;for(var G=Array(arguments.length-3);F<G.length;)G[F]=arguments[F+3],++F;F=new Pe(G,0,null)}return n.call(this,p,u,v,F)}function n(p,u,v,y){return new W(null,2,5,Y,[xh(a,p,u,v,y),xh(b,p,u,v,y)],null)}m.aa=3;m.ca=function(p){var u=H(p);p=J(p);var v=H(p);p=J(p);var y=H(p);p=Re(p);return n(u,v,y,p)};m.G=n;return m}();h=function(m,n,p,u){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,m,
n,p);default:var v=null;if(3<arguments.length){v=0;for(var y=Array(arguments.length-3);v<y.length;)y[v]=arguments[v+3],++v;v=new Pe(y,0,null)}return k.G(m,n,p,v)}throw Error("Invalid arity: "+arguments.length);};h.aa=3;h.ca=k.ca;h.O=f;h.B=e;h.j=d;h.C=c;h.G=k.G;return h}()}function kl(a){a:for(var b=a;;)if(b=E(b))b=J(b);else break a;return a}
function ll(a,b){if("string"===typeof b)return a=a.exec(b),null!=a&&D.j(a[0],b)?1===a.length?a[0]:mg(a):null;throw new TypeError("re-matches must match against a string.");}function ml(a,b){if("string"===typeof b)return a=a.exec(b),null==a?null:1===a.length?a[0]:mg(a);throw new TypeError("re-find must match against a string.");}
var nl=function nl(a,b){var d=a.exec(b);if(null==d)return null;var e=d[0],f=1===d.length?e:mg(d);return uf(f,new Yg(null,function(){var h=e.length;h=d.index+(1>h?1:h);return h<=b.length?(h=Mg.j(b,h),nl.j?nl.j(a,h):nl.call(null,a,h)):null},null,null))};function ol(a,b){if("string"===typeof b)return nl(a,b);throw new TypeError("re-seq must match against a string.");}
function Z(a,b,c,d,e,f,h){var k=zc;zc=null==zc?null:zc-1;try{if(null!=zc&&0>zc)return Vd(a,"#");Vd(a,c);if(0===Fc.B(f))E(h)&&Vd(a,function(){var y=ql.B(f);return r(y)?y:"..."}());else{if(E(h)){var m=H(h);b.C?b.C(m,a,f):b.call(null,m,a,f)}for(var n=J(h),p=Fc.B(f)-1;;)if(!n||null!=p&&0===p){E(n)&&0===p&&(Vd(a,d),Vd(a,function(){var y=ql.B(f);return r(y)?y:"..."}()));break}else{Vd(a,d);var u=H(n);c=a;h=f;b.C?b.C(u,c,h):b.call(null,u,c,h);var v=J(n);c=p-1;n=v;p=c}}return Vd(a,e)}finally{zc=k}}
function rl(a,b){b=E(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.wa(null,e);Vd(a,f);e+=1}else if(b=E(b))c=b,Uf(c)?(b=me(c),d=ne(c),c=b,f=K(b),b=d,d=f):(f=H(c),Vd(a,f),b=J(c),c=null,d=0),e=0;else return null}function sl(a){if(null==vc)throw Error("No *print-fn* fn set for evaluation environment");vc.call(null,a);return null}var tl={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};
function ul(a){return['"',t.B(a.replace(/[\\"\b\f\n\r\t]/g,function(b){return tl[b]})),'"'].join("")}function vl(a,b){return Zf(B.j(a,Dc))?null!=b&&(b.J&131072||l===b.ef)?null!=Kf(b):!1:!1}
function wl(a,b,c){if(null==a)return Vd(b,"nil");if(vl(c,a)){Vd(b,"^");var d=Kf(a);xl.C?xl.C(d,b,c):xl.call(null,d,b,c);Vd(b," ")}if(a.Ab)return a.Eb(b);if(null!=a?a.J&2147483648||l===a.Ia||(a.J?0:Mc(Xd,a)):Mc(Xd,a))return Yd(a,b,c);if(!0===a||!1===a)return Vd(b,t.B(a));if("number"===typeof a)return Vd(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":t.B(a));if(null!=a&&a.constructor===Object)return Vd(b,"#js "),d=hi.j(function(f){return new X(null!=ll(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,
f)?Wg.B(f):f,a[f],null)},ub(a)),yl.P?yl.P(d,xl,b,c):yl.call(null,d,xl,b,c);if(Ic(a))return Z(b,xl,"#js ["," ","]",c,a);if(na(a))return r(Cc.B(c))?Vd(b,ul(a)):Vd(b,a);if("function"==ra(a)){var e=a.name;c=r(function(){var f=null==e;return f?f:Ib(e)}())?"Function":e;return rl(b,M(["#object[",c,r(!1)?[' "',t.B(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,h){for(f=t.B(f);;)if(f.length<h)f=["0",f].join("");else return f},rl(b,M(['#inst "',t.B(a.getUTCFullYear()),"-",c(a.getUTCMonth()+
1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return rl(b,M(['#"',a.source,'"']));if(Vc(a))return rl(b,M(["#object[",a.toString(),"]"]));if(r(function(){var f=null==a?null:a.constructor;return null==f?null:f.sb}()))return rl(b,M(["#object[",a.constructor.sb.replace(/\//g,"."),"]"]));e=function(){var f=null==a?null:a.constructor;return null==f?null:f.name}();c=r(function(){var f=
null==e;return f?f:Ib(e)}())?"Object":e;return null==a.constructor?rl(b,M(["#object[",c,"]"])):rl(b,M(["#object[",c," ",t.B(a),"]"]))}function xl(a,b,c){var d=zl.B(c);return r(d)?(c=Q.C(c,Al,wl),d.C?d.C(a,b,c):d.call(null,a,b,c)):wl(a,b,c)}
function Bl(a,b){var c=new pc,d=new xe(c);a:{xl(H(a),d,b);a=E(J(a));for(var e=null,f=0,h=0;;)if(h<f){var k=e.wa(null,h);Vd(d," ");xl(k,d,b);h+=1}else if(a=E(a))e=a,Uf(e)?(a=me(e),f=ne(e),e=a,k=K(a),a=f,f=k):(k=H(e),Vd(d," "),xl(k,d,b),a=J(e),e=null,f=0),h=0;else break a}d.fd(null);return c}function Cl(a,b){return Mf(a)?"":t.B(Bl(a,b))}function Dl(a,b){if(Mf(a))return"\n";a=Bl(a,b);a.append("\n");return t.B(a)}function Fl(){var a=Ac();sl("\n");return B.j(a,Bc),null}
var Gl=function Gl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Pe(c.slice(0),0,null):null;return Gl.G(c)};Gl.G=function(a){return Cl(a,Ac())};Gl.aa=0;Gl.ca=function(a){return this.G(E(a))};var Hl=function Hl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Pe(c.slice(0),0,null):null;return Hl.G(c)};Hl.G=function(a){return Dl(a,Ac())};Hl.aa=0;Hl.ca=function(a){return this.G(E(a))};
var Il=function Il(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Pe(c.slice(0),0,null):null;return Il.G(c)};Il.G=function(a){return Cl(a,Q.C(Ac(),Cc,!1))};Il.aa=0;Il.ca=function(a){return this.G(E(a))};var Jl=function Jl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Pe(c.slice(0),0,null):null;return Jl.G(c)};Jl.G=function(a){return Dl(a,Q.C(Ac(),Cc,!1))};Jl.aa=0;Jl.ca=function(a){return this.G(E(a))};
function Kl(a){return a instanceof A?Le.j(null,Xg(a)):Wg.j(null,Xg(a))}function Ll(a){if(r(!1)){var b=E(a),c=E(b),d=H(c);J(c);O(d,0,null);O(d,1,null);c=Ef(a);for(a=null;;){d=a;b=E(b);a=H(b);var e=J(b),f=a;a=O(f,0,null);b=O(f,1,null);if(r(f))if(a instanceof C||a instanceof A)if(r(d))if(D.j(d,Ug(a)))c=Q.C(c,Kl(a),b),a=d,b=e;else return null;else if(d=Ug(a),r(d))c=Q.C(c,Kl(a),b),a=d,b=e;else return null;else return null;else return new W(null,2,5,Y,[d,c],null)}}else return null}
function Ml(a,b,c,d,e){return Z(d,function(f,h,k){var m=td(f);c.C?c.C(m,h,k):c.call(null,m,h,k);Vd(h," ");f=ud(f);return c.C?c.C(f,h,k):c.call(null,f,h,k)},[t.B(a),"{"].join(""),", ","}",e,E(b))}function yl(a,b,c,d){var e=Qf(a)?Ll(a):null,f=O(e,0,null);e=O(e,1,null);return r(f)?Ml(["#:",t.B(f)].join(""),e,b,c,d):Ml(null,a,b,c,d)}di.prototype.Ia=l;di.prototype.ea=function(a,b,c){Vd(b,"#object[cljs.core.Volatile ");xl(new q(null,1,[Nl,this.state],null),b,c);return Vd(b,"]")};Me.prototype.Ia=l;
Me.prototype.ea=function(a,b,c){Vd(b,"#'");return xl(this.Zd,b,c)};Pe.prototype.Ia=l;Pe.prototype.ea=function(a,b,c){return Z(b,xl,"("," ",")",c,this)};Yg.prototype.Ia=l;Yg.prototype.ea=function(a,b,c){return Z(b,xl,"("," ",")",c,this)};X.prototype.Ia=l;X.prototype.ea=function(a,b,c){return Z(b,xl,"["," ","]",c,this)};qk.prototype.Ia=l;qk.prototype.ea=function(a,b,c){return Z(b,xl,"("," ",")",c,this)};dk.prototype.Ia=l;dk.prototype.ea=function(a,b,c){return Z(b,xl,"("," ",")",c,this)};
uk.prototype.Ia=l;uk.prototype.ea=function(a,b,c){return Z(b,xl,"["," ","]",c,this)};yj.prototype.Ia=l;yj.prototype.ea=function(a,b,c){return Z(b,xl,"("," ",")",c,this)};Ve.prototype.Ia=l;Ve.prototype.ea=function(a,b,c){return Z(b,xl,"("," ",")",c,this)};Sk.prototype.Ia=l;Sk.prototype.ea=function(a,b,c){return Z(b,xl,"#{"," ","}",c,this)};fj.prototype.Ia=l;fj.prototype.ea=function(a,b,c){return Z(b,xl,"("," ",")",c,this)};Rg.prototype.Ia=l;
Rg.prototype.ea=function(a,b,c){return Z(b,xl,"("," ",")",c,this)};sf.prototype.Ia=l;sf.prototype.ea=function(a,b,c){return Z(b,xl,"("," ",")",c,this)};lk.prototype.Ia=l;lk.prototype.ea=function(a,b,c){return yl(this,xl,b,c)};fk.prototype.Ia=l;fk.prototype.ea=function(a,b,c){return Z(b,xl,"("," ",")",c,this)};hj.prototype.Ia=l;hj.prototype.ea=function(a,b,c){return Z(b,xl,"["," ","]",c,this)};Dk.prototype.Ia=l;Dk.prototype.ea=function(a,b,c){return yl(this,xl,b,c)};Pk.prototype.Ia=l;
Pk.prototype.ea=function(a,b,c){return Z(b,xl,"#{"," ","}",c,this)};ch.prototype.Ia=l;ch.prototype.ea=function(a,b,c){return Z(b,xl,"("," ",")",c,this)};Zh.prototype.Ia=l;Zh.prototype.ea=function(a,b,c){Vd(b,"#object[cljs.core.Atom ");xl(new q(null,1,[Nl,this.state],null),b,c);return Vd(b,"]")};Jk.prototype.Ia=l;Jk.prototype.ea=function(a,b,c){return Z(b,xl,"("," ",")",c,this)};tk.prototype.Ia=l;tk.prototype.ea=function(a,b,c){return Z(b,xl,"["," ","]",c,this)};mi.prototype.Ia=l;
mi.prototype.ea=function(a,b,c){return Z(b,xl,"("," ",")",c,this)};W.prototype.Ia=l;W.prototype.ea=function(a,b,c){return Z(b,xl,"["," ","]",c,this)};oj.prototype.Ia=l;oj.prototype.ea=function(a,b,c){return Z(b,xl,"("," ",")",c,this)};Og.prototype.Ia=l;Og.prototype.ea=function(a,b){return Vd(b,"()")};pj.prototype.Ia=l;pj.prototype.ea=function(a,b,c){return Z(b,xl,"#queue ["," ","]",c,E(this))};q.prototype.Ia=l;q.prototype.ea=function(a,b,c){return yl(this,xl,b,c)};cl.prototype.Ia=l;
cl.prototype.ea=function(a,b,c){return Z(b,xl,"("," ",")",c,this)};Oh.prototype.Ia=l;Oh.prototype.ea=function(a,b,c){return Z(b,xl,"("," ",")",c,this)};Ik.prototype.Ia=l;Ik.prototype.ea=function(a,b,c){return Z(b,xl,"("," ",")",c,this)};Df.prototype.Ia=l;Df.prototype.ea=function(a,b,c){return Z(b,xl,"("," ",")",c,this)};A.prototype.Pc=l;A.prototype.Hc=function(a,b){if(b instanceof A)return Je(this,b);throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};C.prototype.Pc=l;
C.prototype.Hc=function(a,b){if(b instanceof C)return Sg(this,b);throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};hj.prototype.Pc=l;hj.prototype.Hc=function(a,b){if(Tf(b))return fg(this,b);throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};W.prototype.Pc=l;W.prototype.Hc=function(a,b){if(Tf(b))return fg(this,b);throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};X.prototype.Pc=l;
X.prototype.Hc=function(a,b){if(Tf(b))return fg(this,b);throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};uk.prototype.Pc=l;uk.prototype.Hc=function(a,b){if(Tf(b))return fg(this,b);throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};tk.prototype.Pc=l;tk.prototype.Hc=function(a,b){if(Tf(b))return fg(this,b);throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};var Ql=null;
function Rl(a){null==Ql&&(Ql=$h(0));return Le.B([t.B(a),t.B(bi.j(Ql,$e))].join(""))}function Sl(a){this.f=a;this.value=null;this.J=2147516416;this.T=1}Sl.prototype.Db=function(){r(this.f)&&(this.value=this.f.O?this.f.O():this.f.call(null),this.f=null);return this.value};Sl.prototype.ff=function(){return Kc(this.f)};Sl.prototype.ea=function(a,b,c){Vd(b,"#object[cljs.core.Delay ");xl(new q(null,2,[Tl,null==this.f?Ul:Vl,Nl,this.value],null),b,c);return Vd(b,"]")};
function Wl(a){return a instanceof Sl?z(a):a}function Xl(a){return function(b,c){b=a.j?a.j(b,c):a.call(null,b,c);return cf(b)?bf(b):b}}
function Yl(a){var b=Xl(a);return function(){function c(h,k){return w.C(b,h,k)}function d(h){return a.B?a.B(h):a.call(null,h)}function e(){return a.O?a.O():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.O=e;f.B=d;f.j=c;return f}()}function Zl(a,b){this.Lf=a;this.pf=b;this.J=2173173760;this.T=131072}g=Zl.prototype;
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return nf(this,b,0);case 2:return nf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return nf(this,b,0)};a.j=function(b,c){return nf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return qf(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return qf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return qf(this,c,d)};return b}();g.pa=function(){var a=Hh(this.pf);return Ph(this.Lf,a)};g.ia=function(){var a=Hh(this.pf);a=Ph(this.Lf,a);a=Nh(a);return E(r(a)?a:Se)};g.$a=function(a,b){a=rg(b);b=this.pf;return tg(this.Lf,a,a.O?a.O():a.call(null),b)};
g.ab=function(a,b,c){return tg(this.Lf,rg(b),c,this.pf)};g.ea=function(a,b,c){return Z(b,xl,"("," ",")",c,this)};Zl.prototype[Qc]=function(){return Ue(this)};function $l(){}function am(a){if(null!=a&&null!=a.Bi)a=a.Bi(a);else{var b=am[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=am._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Oc("IEncodeJS.-clj-\x3ejs",a);}return a}
function bm(a,b){return(null!=a?l===a.Ai||(a.Hd?0:Mc($l,a)):Mc($l,a))?am(a):"string"===typeof a||"number"===typeof a||a instanceof C||a instanceof A?b.B?b.B(a):b.call(null,a):Gl.G(M([a]))}var cm=function cm(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new Pe(c.slice(1),0,null):null;return cm.G(arguments[0],c)};
cm.G=function(a,b){b=null!=b&&(b.J&64||l===b.ua)?uh(Gk,b):b;var c=B.C(b,dm,Xg),d=function h(f){if(null==f)return null;if(null!=f?l===f.Ai||(f.Hd?0:Mc($l,f)):Mc($l,f))return am(f);if(f instanceof C)return c.B?c.B(f):c.call(null,f);if(f instanceof A)return t.B(f);if(Qf(f)){var k={};f=E(f);for(var m=null,n=0,p=0;;)if(p<n){var u=m.wa(null,p),v=O(u,0,null);u=O(u,1,null);v=bm(v,d);u=h(u);k[v]=u;p+=1}else if(f=E(f))Uf(f)?(n=me(f),f=ne(f),m=n,n=K(n)):(n=H(f),m=O(n,0,null),n=O(n,1,null),m=bm(m,d),n=h(n),k[m]=
n,f=J(f),m=null,n=0),p=0;else break;return k}if(Nf(f)){k=[];f=E(hi.j(h,f));m=null;for(p=n=0;;)if(p<n)v=m.wa(null,p),k.push(v),p+=1;else if(f=E(f))m=f,Uf(m)?(f=me(m),p=ne(m),m=f,n=K(f),f=p):(f=H(m),k.push(f),f=J(m),m=null,n=0),p=0;else break;return k}return f};return d(a)};cm.aa=1;cm.ca=function(a){var b=H(a);a=J(a);return this.G(b,a)};
var jm=function jm(a){switch(arguments.length){case 0:return jm.O();case 1:return jm.B(arguments[0]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};jm.O=function(){return jm.B(1)};jm.B=function(a){return Math.random()*a};jm.aa=1;function km(a){return Math.floor(Math.random()*a)}function lm(a,b){return ge(w.C(function(c,d){var e=a.B?a.B(d):a.call(null,d);return mh.C(c,e,Bf.j(B.C(c,e,Cf),d))},ce(V),b))}var mm=null;
function nm(){null==mm&&(mm=$h(new q(null,3,[om,V,pm,V,qm,V],null)));return mm}function rm(a,b,c){var d=D.j(b,c);if(d)return d;d=qm.B(a);d=d.B?d.B(b):d.call(null,b);if(d=bg(d,c))return d;if(Tf(c))if(Tf(b))if(K(c)===K(b)){d=!0;for(var e=0;;)if(d&&e!==K(c))d=rm(a,b.B?b.B(e):b.call(null,e),c.B?c.B(e):c.call(null,e)),e+=1;else return d}else return!1;else return!1;else return!1}function sm(a){var b=z(nm());return Ah(B.j(om.B(b),a))}
function tm(a,b,c,d){bi.j(a,function(){return z(b)});bi.j(c,function(){return z(d)})}
var um=function um(a,b,c){var e=function(){var f=z(c);return f.B?f.B(a):f.call(null,a)}();e=r(r(e)?e.B?e.B(b):e.call(null,b):e)?!0:null;if(r(e))return e;e=function(){for(var f=sm(b);;)if(0<K(f)){var h=H(f);um.C?um.C(a,h,c):um.call(null,a,h,c);f=Re(f)}else return null}();if(r(e))return e;e=function(){for(var f=sm(a);;)if(0<K(f)){var h=H(f);um.C?um.C(h,b,c):um.call(null,h,b,c);f=Re(f)}else return null}();return r(e)?e:!1};function vm(a,b,c,d){c=um(a,b,c);return r(c)?c:rm(d,a,b)}
var wm=function wm(a,b,c,d,e,f,h,k){var n=w.C(function(u,v){var y=O(v,0,null);O(v,1,null);if(rm(z(c),b,y)){u=null==u||vm(y,H(u),e,z(c))?v:u;if(!vm(H(u),y,e,z(c)))throw Error(["Multiple methods in multimethod '",t.B(a),"' match dispatch value: ",t.B(b)," -\x3e ",t.B(y)," and ",t.B(H(u)),", and neither is preferred"].join(""));return u}return u},null,z(d)),p=function(){if(null==n){var u=z(d);u=u.B?u.B(k):u.call(null,k)}else u=!1;return r(u)?new W(null,2,5,Y,[k,u],null):n}();if(r(p)){if(D.j(z(h),z(c)))return bi.P(f,
Q,b,yf(p)),yf(p);tm(f,d,h,c);return wm.zb?wm.zb(a,b,c,d,e,f,h,k):wm.call(null,a,b,c,d,e,f,h,k)}return null};function xm(a,b,c){if(null!=a&&null!=a.nb)a.nb(a,b,c);else{var d=xm[ra(null==a?null:a)];if(null!=d)d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=xm._,null!=d)d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Oc("IMultiFn.-add-method",a);}}function ym(a,b){throw Error(["No method in multimethod '",t.B(a),"' for dispatch value: ",t.B(b)].join(""));}
function zm(a,b,c,d,e,f,h){var k=Am;this.name=a;this.va=b;this.Ri=k;this.hierarchy=c;this.Cf=d;this.Ij=e;this.Bf=f;this.af=h;this.J=4194305;this.T=4352}g=zm.prototype;
g.call=function(a){switch(arguments.length-1){case 0:return this.O();case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);case 3:return this.C(arguments[1],arguments[2],arguments[3]);case 4:return this.P(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.la(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Ya(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Xb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.zb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Yb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Mb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Nb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Ob(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Pb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Qb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Rb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Sb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Tb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Ub(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Vb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Wb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.ve(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Tc(b)))};g.O=function(){var a=this.va.O?this.va.O():this.va.call(null),b=Bm(this,a);r(b)||ym(this.name,a);return b.O?b.O():b.call(null)};g.B=function(a){var b=this.va.B?this.va.B(a):this.va.call(null,a),c=Bm(this,b);r(c)||ym(this.name,b);return c.B?c.B(a):c.call(null,a)};
g.j=function(a,b){var c=this.va.j?this.va.j(a,b):this.va.call(null,a,b),d=Bm(this,c);r(d)||ym(this.name,c);return d.j?d.j(a,b):d.call(null,a,b)};g.C=function(a,b,c){var d=this.va.C?this.va.C(a,b,c):this.va.call(null,a,b,c),e=Bm(this,d);r(e)||ym(this.name,d);return e.C?e.C(a,b,c):e.call(null,a,b,c)};g.P=function(a,b,c,d){var e=this.va.P?this.va.P(a,b,c,d):this.va.call(null,a,b,c,d),f=Bm(this,e);r(f)||ym(this.name,e);return f.P?f.P(a,b,c,d):f.call(null,a,b,c,d)};
g.la=function(a,b,c,d,e){var f=this.va.la?this.va.la(a,b,c,d,e):this.va.call(null,a,b,c,d,e),h=Bm(this,f);r(h)||ym(this.name,f);return h.la?h.la(a,b,c,d,e):h.call(null,a,b,c,d,e)};g.Ya=function(a,b,c,d,e,f){var h=this.va.Ya?this.va.Ya(a,b,c,d,e,f):this.va.call(null,a,b,c,d,e,f),k=Bm(this,h);r(k)||ym(this.name,h);return k.Ya?k.Ya(a,b,c,d,e,f):k.call(null,a,b,c,d,e,f)};
g.Xb=function(a,b,c,d,e,f,h){var k=this.va.Xb?this.va.Xb(a,b,c,d,e,f,h):this.va.call(null,a,b,c,d,e,f,h),m=Bm(this,k);r(m)||ym(this.name,k);return m.Xb?m.Xb(a,b,c,d,e,f,h):m.call(null,a,b,c,d,e,f,h)};g.zb=function(a,b,c,d,e,f,h,k){var m=this.va.zb?this.va.zb(a,b,c,d,e,f,h,k):this.va.call(null,a,b,c,d,e,f,h,k),n=Bm(this,m);r(n)||ym(this.name,m);return n.zb?n.zb(a,b,c,d,e,f,h,k):n.call(null,a,b,c,d,e,f,h,k)};
g.Yb=function(a,b,c,d,e,f,h,k,m){var n=this.va.Yb?this.va.Yb(a,b,c,d,e,f,h,k,m):this.va.call(null,a,b,c,d,e,f,h,k,m),p=Bm(this,n);r(p)||ym(this.name,n);return p.Yb?p.Yb(a,b,c,d,e,f,h,k,m):p.call(null,a,b,c,d,e,f,h,k,m)};g.Mb=function(a,b,c,d,e,f,h,k,m,n){var p=this.va.Mb?this.va.Mb(a,b,c,d,e,f,h,k,m,n):this.va.call(null,a,b,c,d,e,f,h,k,m,n),u=Bm(this,p);r(u)||ym(this.name,p);return u.Mb?u.Mb(a,b,c,d,e,f,h,k,m,n):u.call(null,a,b,c,d,e,f,h,k,m,n)};
g.Nb=function(a,b,c,d,e,f,h,k,m,n,p){var u=this.va.Nb?this.va.Nb(a,b,c,d,e,f,h,k,m,n,p):this.va.call(null,a,b,c,d,e,f,h,k,m,n,p),v=Bm(this,u);r(v)||ym(this.name,u);return v.Nb?v.Nb(a,b,c,d,e,f,h,k,m,n,p):v.call(null,a,b,c,d,e,f,h,k,m,n,p)};g.Ob=function(a,b,c,d,e,f,h,k,m,n,p,u){var v=this.va.Ob?this.va.Ob(a,b,c,d,e,f,h,k,m,n,p,u):this.va.call(null,a,b,c,d,e,f,h,k,m,n,p,u),y=Bm(this,v);r(y)||ym(this.name,v);return y.Ob?y.Ob(a,b,c,d,e,f,h,k,m,n,p,u):y.call(null,a,b,c,d,e,f,h,k,m,n,p,u)};
g.Pb=function(a,b,c,d,e,f,h,k,m,n,p,u,v){var y=this.va.Pb?this.va.Pb(a,b,c,d,e,f,h,k,m,n,p,u,v):this.va.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v),F=Bm(this,y);r(F)||ym(this.name,y);return F.Pb?F.Pb(a,b,c,d,e,f,h,k,m,n,p,u,v):F.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v)};
g.Qb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y){var F=this.va.Qb?this.va.Qb(a,b,c,d,e,f,h,k,m,n,p,u,v,y):this.va.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y),G=Bm(this,F);r(G)||ym(this.name,F);return G.Qb?G.Qb(a,b,c,d,e,f,h,k,m,n,p,u,v,y):G.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y)};
g.Rb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F){var G=this.va.Rb?this.va.Rb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F):this.va.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,F),I=Bm(this,G);r(I)||ym(this.name,G);return I.Rb?I.Rb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F):I.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,F)};
g.Sb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G){var I=this.va.Sb?this.va.Sb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G):this.va.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G),N=Bm(this,I);r(N)||ym(this.name,I);return N.Sb?N.Sb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G):N.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G)};
g.Tb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I){var N=this.va.Tb?this.va.Tb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I):this.va.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I),P=Bm(this,N);r(P)||ym(this.name,N);return P.Tb?P.Tb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I):P.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I)};
g.Ub=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N){var P=this.va.Ub?this.va.Ub(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N):this.va.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N),U=Bm(this,P);r(U)||ym(this.name,P);return U.Ub?U.Ub(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N):U.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N)};
g.Vb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N,P){var U=this.va.Vb?this.va.Vb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N,P):this.va.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N,P),ea=Bm(this,U);r(ea)||ym(this.name,U);return ea.Vb?ea.Vb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N,P):ea.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N,P)};
g.Wb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N,P,U){var ea=this.va.Wb?this.va.Wb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N,P,U):this.va.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N,P,U),fa=Bm(this,ea);r(fa)||ym(this.name,ea);return fa.Wb?fa.Wb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N,P,U):fa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N,P,U)};
g.ve=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,F,G,I,N,P,U,ea){var fa=yh(this.va,a,b,c,d,M([e,f,h,k,m,n,p,u,v,y,F,G,I,N,P,U,ea])),sa=Bm(this,fa);r(sa)||ym(this.name,fa);return yh(sa,a,b,c,d,M([e,f,h,k,m,n,p,u,v,y,F,G,I,N,P,U,ea]))};g.nb=function(a,b,c){bi.P(this.Cf,Q,b,c);tm(this.Bf,this.Cf,this.af,this.hierarchy);return this};
function Bm(a,b){D.j(z(a.af),z(a.hierarchy))||tm(a.Bf,a.Cf,a.af,a.hierarchy);var c=z(a.Bf);c=c.B?c.B(b):c.call(null,b);return r(c)?c:wm(a.name,b,a.hierarchy,a.Cf,a.Ij,a.Bf,a.af,a.Ri)}g.we=function(){return oe(this.name)};g.xe=function(){return pe(this.name)};g.ha=function(){return ya(this)};function Cm(a,b){this.bd=a;this.I=b;this.J=2153775104;this.T=2048}g=Cm.prototype;g.toString=function(){return this.bd};g.equiv=function(a){return this.ba(null,a)};
g.ba=function(a,b){return b instanceof Cm&&this.bd===b.bd};g.ea=function(a,b){return Vd(b,['#uuid "',t.B(this.bd),'"'].join(""))};g.ha=function(){null==this.I&&(this.I=Ge(this.bd));return this.I};g.Hc=function(a,b){return mb(this.bd,b.bd)};
function Dm(){function a(){return km(16).toString(16)}var b=(8|3&km(16)).toString(16);return new Cm([t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),"-",t.B(a()),t.B(a()),t.B(a()),t.B(a()),"-4",t.B(a()),t.B(a()),t.B(a()),"-",t.B(b),t.B(a()),t.B(a()),t.B(a()),"-",t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a())].join("").toLowerCase(),null)}
function Em(a,b,c){var d=Error(a);this.message=a;this.data=b;this.gh=c;this.name=d.name;this.description=d.description;this.number=d.number;this.fileName=d.fileName;this.lineNumber=d.lineNumber;this.columnNumber=d.columnNumber;this.stack=d.stack;return this}Em.prototype.__proto__=Error.prototype;Em.prototype.Ia=l;
Em.prototype.ea=function(a,b,c){Vd(b,"#error {:message ");xl(this.message,b,c);r(this.data)&&(Vd(b,", :data "),xl(this.data,b,c));r(this.gh)&&(Vd(b,", :cause "),xl(this.gh,b,c));return Vd(b,"}")};Em.prototype.toString=function(){return ye(this)};function Fm(a,b){return new Em(a,b,null)}
function Gm(){r(Sc)||(Sc=function(){for(var a=hg(function(e,f){return f.length-e.length},ub(Rc)),b="";;)if(E(a)){var c=J(a),d=[function(){var e=b;return""!==b?[e,"|"].join(""):e}(),t.B(H(a))].join("");a=c;b=d}else return[b,"|\\$"].join("")}());return Sc}
function Hm(a){var b=t.B(a);if("_DOT__DOT_"===b)var c="..";else a:{c=new RegExp(Gm(),"g");b=r(Hb(b,"$"))?b.substring(0,b.length-1):b;for(var d="",e=0;;){var f=c.exec(b);if(r(f))f=O(f,0,null),d=[d,t.B(b.substring(e,c.lastIndex-f.length)),t.B("$"===f?"/":vb(Rc,f))].join(""),e=c.lastIndex;else{c=[d,t.B(b.substring(e,b.length))].join("");break a}}}a=a instanceof A?Le:t;return a.B?a.B(c):a.call(null,c)}"undefined"!==typeof console&&Gc();Gc();var Im=new C(null,"ns","ns",441598760),Jm=new C(null,"expected","expected",1583670997),Km=new C(null,"components","components",-1073188942),Lm=new C(null,"div.flex-1","div.flex-1",2004402050),Nm=new C("geoplot.feature","feature-projection","geoplot.feature/feature-projection",-1990940774),Pm=new A(null,aa,aa,770546058,null),Rm=new C(null,"p2","p2",905500641),Sm=new A(null,"defrecord*","defrecord*",-1936366207,null),Tm=new C(null,"p1","p1",-936759954),Um=new C(null,"level","level",1290497552),Vm=new C("db",
"current-tx","db/current-tx",1600722132),Wm=new C(null,"type-tag","type-tag",-1873863267),Ym=new C(null,"ms","ms",-1152709733),$m=new C(null,"on-change","on-change",-732046149),an=new C(null,"readers","readers",-2118263030),bn=new C(null,"line","line",212345235),cn=new A(null,"!\x3d","!\x3d",-201205829,null),dn=new C("db","unique","db/unique",329396388),en=new C("db","isComponent","db/isComponent",423352398),hn=new C(ha,"flush-tuples","datascript.db/flush-tuples",-797350002),jn=new C("widget.geoplot",
"zoom","widget.geoplot/zoom",1712183482),kn=new A(null,"ns*","ns*",1840949383,null),mn=new C(null,"div.text-gray-600.rounded.bg-gray-200.hover:bg-gray-300.h-5.w-5.flex.items-center.justify-center.mb-1.cursor-pointer","div.text-gray-600.rounded.bg-gray-200.hover:bg-gray-300.h-5.w-5.flex.items-center.justify-center.mb-1.cursor-pointer",-1098663220),nn=new C(null,"start-block-t","start-block-t",-373430594),on=new C(null,"limit","limit",-1355822363),pn=new C(null,"on-dispose","on-dispose",2105306360),
qn=new C(null,"per-line-prefix","per-line-prefix",846941813),sn=new C("db.type","tuple","db.type/tuple",938234914),tn=new C("lookup-ref","unique","lookup-ref/unique",-960647710),un=new C(ha,"value-tempids","datascript.db/value-tempids",244806162),vn=new A(da,"ends-with?","clojure.string/ends-with?",-745964149,null),xn=new C(null,"string","string",-1989541586),yn=new C(null,"avet","avet",1383857032),zn=new C(null,"data","data",-232669377),Bn=new C("widget.type","codemirror","widget.type/codemirror",
2093288987),Cn=new A(null,"identity","identity",-1007039734,null),Dn=new A(null,"max","max",1701898075,null),En=new C(null,"end-line","end-line",1837326455),Fn=new A(null,"fn*","fn*",-752876845,null),Gn=new C(null,"ks","ks",1900203942),Hn=new C(ca,"amp","cljs.spec.alpha/amp",831147508),In=new C("transact","syntax","transact/syntax",-299207078),Ln=new C(null,"source","source",-433931539),Mn=new C(null,"done-nl","done-nl",-381024340),Nn=new C(null,"handlers","handlers",79528781),On=new C(null,"private",
"private",-558947994),Pn=new C(null,"bindings","bindings",1271397192),Qn=new C(ca,"alt","cljs.spec.alpha/alt",523685437),Sn=new A(aa,"fn","cljs.core/fn",-1065745098,null),Tn=new A(null,"median","median",-2084869638,null),Tl=new C(null,"status","status",-1997798413),Un=new C(null,"version","version",425292698),Vn=new C(null,"circle","circle",1903212362),pm=new C(null,"descendants","descendants",1824886031),Xn=new C(null,"strs","strs",1175537277),Yn=new C(null,"start","start",-355208981),Zn=new C(null,
"days","days",-1394072564),ao=new A(null,"identical?","identical?",-745864205,null),bo=new A(null,"complement","complement",-913606051,null),co=new A(aa,"deref","cljs.core/deref",1901963335,null),eo=new C("transact","cas","transact/cas",816687170),fo=new C(null,"on-click","on-click",1632826543),ho=new C(ca,"nil","cljs.spec.alpha/nil",1733813950),io=new C(ca,"kind-form","cljs.spec.alpha/kind-form",-1047104697),jo=new C("db.fn","cas","db.fn/cas",-379352172),ko=new C(null,"div.flex.flex-col.p-1.mb-6.border-l-2.border-transparent.hover:border-blue-500.last:mb-36",
"div.flex.flex-col.p-1.mb-6.border-l-2.border-transparent.hover:border-blue-500.last:mb-36",921239104),qo=new C(null,"mandatory","mandatory",542802336),so=new A(null,"resolve-datom","resolve-datom",-294110827,null),uo=new C(null,"length","length",588987862),vo=new C(null,"end-column","end-column",1425389514),xo=new A(null,"with-open","with-open",172119667,null),zo=new C(null,"getInitialState","getInitialState",1541760916),Ao=new C(null,"ps","ps",292358046),Bo=new C(null,"opts","opts",155075701),Co=
new A(null,"list","list",-1889078086,null),Eo=new C(null,"not-delivered","not-delivered",1599158697),Go=new A(null,"if-not","if-not",-265415609,null),Io=new C(ia,"expand-rev","datascript.pull-api/expand-rev",2143627459),Jo=new C(null,"state","state",-1988618099),Ko=new C(null,"base-args","base-args",-1268706822),Lo=new C(null,"db-before","db-before",-553691536),Mo=new A(null,"\x3d\x3d","\x3d\x3d",-234118149,null),No=new A(aa,"unquote","cljs.core/unquote",1013085760,null),Oo=new C(null,"return-map",
"return-map",1620104901),Nk=new C(aa,"not-found","cljs.core/not-found",-1572889185),Po=new C(null,"eids","eids",1546550700),Qo=new C(null,"no-cache","no-cache",1588056370),So=new A(null,"compare","compare",1109853757,null),Uo=new C(null,"expand-rev","expand-rev",1249112650),Vo=new C(null,"def","def",-1043430536),Wo=new A(null,"dotimes","dotimes",-818708397,null),Xo=new C(null,"raw-console?","raw-console?",-2061489061),Yo=new C(null,"conform-keys","conform-keys",-1800041814),$o=new C(null,"op","op",
-1882987955),ap=new A(null,"finally","finally",-1065347064,null),bp=new A(null,"str","str",-1564826950,null),cp=new A(null,"/","/",-1371932971,null),dp=new A(null,"stddev","stddev",775056588,null),ep=new C(null,"buffering","buffering",-876713613),fp=new A(aa,"string?","cljs.core/string?",-2072921719,null),hp=new C("db","tupleAttrs","db/tupleAttrs",250080092),jp=new C(null,"tx-meta","tx-meta",1159283194),kp=new C(null,"prefix-clauses","prefix-clauses",1294180028),lp=new C(null,"illegal-argument","illegal-argument",
-1845493170),mp=new C(null,"opt-un","opt-un",883442496),qp=new C(null,"rule","rule",729973257),rp=new C("widget.codemirror","width","widget.codemirror/width",851267293),sp=new C("schema","validation","schema/validation",1178447161),tp=new C(null,"right-margin","right-margin",-810413306),up=new C(null,"wildcard?","wildcard?",-686044101),vp=new A(null,"pos?","pos?",-244377722,null),wp=new C("query","inputs","query/inputs",1042810394),Bp=new C(null,"exponentchar","exponentchar",1986664222),Cp=new C(null,
"attribute","attribute",-2074029119),Dp=new A(null,"default","default",-347290801,null),Ep=new A(da,"includes?","clojure.string/includes?",-1842146260,null),Fp=new C(null,"tx","tx",466630418),Hp=new A(null,"locking","locking",1542862874,null),Jp=new C(null,"directive","directive",793559132),Kp=new C(null,"function-components","function-components",1492814963),Lp=new A(null,"subs","subs",1453849536,null),Mp=new C(null,"seq","seq",-1817803783),Op=new C(null,"where","where",-2044795965),Pp=new A(null,
"pr-str","pr-str",-2066912145,null),Qp=new C(null,"set","set",304602554),Tp=new A(null,"or-join","or-join",591375469,null),Up=new C(ca,"name","cljs.spec.alpha/name",205233570),Vp=new A(null,"sum","sum",1777518341,null),Wp=new A(null,"some?","some?",234752293,null),Xp=new A(null,"min","min",2085523049,null),Yp=new C(null,"div.flex-1.bg-white.px-3.py-1.font-thin","div.flex-1.bg-white.px-3.py-1.font-thin",1633962198),aq=new C(null,"error","error",-978969032),bq=new C(null,"base","base",185279322),fq=
new C(null,"trailing-white-space","trailing-white-space",1496006996),gq=new C(null,"div","div",1057191632),hq=new A(null,"letfn*","letfn*",-110097810,null),jq=new C(null,"prefix","prefix",-265908465),kq=new C("geoplot.style","fill","geoplot.style/fill",-660763808),lq=new C("parser","binding","parser/binding",-346395752),mq=new A(null,"$","$",-1580747756,null),nq=new C("query","binding","query/binding",698240489),oq=new C(null,"right-params","right-params",-1790676237),pq=new C(null,"start-pos","start-pos",
668789086),dm=new C(null,"keyword-fn","keyword-fn",-64566675),qq=new C(null,"first","first",-644103046),rq=new A(null,"let*","let*",1920721458,null),tq=new A(null,"limit","limit",284709164,null),uq=new C("widget","children","widget/children",485181574),vq=new C("db.fn","retractEntity","db.fn/retractEntity",-1423535441),wq=new C(null,"component-will-unmount","component-will-unmount",-2058314698),xq=new A(null,"re-seq","re-seq",-2105554076,null),yq=new A(null,"when-first","when-first",821699168,null),
Aq=new C(null,"?err","?err",549653299),Bq=new C(null,"depth","depth",1768663640),Cq=new C(null,"multi?","multi?",-749311069),Gq=new A(null,"recur","recur",1202958259,null),Hq=new C("widget.type","markdown","widget.type/markdown",177221797),Iq=new A(null,"variance","variance",-1522424942,null),Jq=new C(null,"type","type",1174270348),Lq=new A(null,"_","_",-1201019570,null),Mq=new C(null,"style","style",-496642736),Oq=new C("parser","rule-var","parser/rule-var",-1584354459),Pq=new A(null,"p1__26555#",
"p1__26555#",-75227435,null),Qq=new C(null,"callback","callback",-705136228),Rq=new C(null,"reader-error","reader-error",1610253121),Sq=new A(null,"v","v",1661996586,null),Tq=new C(ca,"op","cljs.spec.alpha/op",-1269055252),Uq=new A(null,"m","m",-1021758608,null),Vq=new A(null,"k","k",-505765866,null),Xq=new C(null,"span","span",1394872991),Yq=new C(null,"async?","async?",1523057758),Zq=new C("entity-id","missing","entity-id/missing",1234588374),$q=new A(null,"count","count",-514511684,null),br=new C(null,
"code","code",1586293142),cr=new C(null,"keys","keys",1068423698),dr=new C(null,"qfind","qfind",1529332972),er=new C(null,"intra-block-nl","intra-block-nl",1808826875),fr=new C("parser","rule-vars","parser/rule-vars",-1493174969),gr=new C(null,"gen-max","gen-max",-793680445),Dc=new C(null,"meta","meta",1499536964),ir=new A(null,"not-join","not-join",-645515756,null),jr=new C("widget.type","html","widget.type/html",-2034153477),kr=new C(null,"subpattern","subpattern",45002743),lr=new C(null,"div.flex",
"div.flex",-396986231),mr=new C(null,"datoms","datoms",-290874434),or=new C("geoplot.feature","style","geoplot.feature/style",-895485302),pr=new C("literate","widget","literate/widget",-1743430817),qr=new C(null,"right","right",-452581833),sr=new A(null,"println-str","println-str",-2049216703,null),ur=new A(null,"when","when",1064114221,null),vr=new A(ca,"coll-of","cljs.spec.alpha/coll-of",1019430407,null),wr=new A(aa,"set?","cljs.core/set?",-1176684971,null),xr=new C(null,"logical-blocks","logical-blocks",
-1466339776),zr=new A(null,"quot","quot",-1125214196,null),Ar=new C(null,"colinc","colinc",-584873385),Cr=new C(null,"find","find",496279456),Dr=new A(null,"\x3e\x3d","\x3e\x3d",1016916022,null),Fr=new C(null,"logical-block","logical-block",-581022564),Gr=new C(null,"rate-limit","rate-limit",1748082022),Hr=new A(null,"nil?","nil?",1612038930,null),Jr=new C(null,"your-version","your-version",-351781765),Kr=new A(null,"or","or",1876275696,null),Lr=new C(null,"col","col",-1959363084),Nr=new C("db","fn",
"db/fn",-1175261470),Or=new C("widget.geoplot","height","widget.geoplot/height",774138358),Pr=new C("entity-id","syntax","entity-id/syntax",1921317045),Qr=new C(null,"current","current",-1088038603),Rr=new C(null,"writing","writing",-1486865108),Tr=new C(null,"start-col","start-col",668080143),Ur=new C(null,"into","into",-150836029),Vr=new C(null,"suppress-namespaces","suppress-namespaces",2130686956),Wr=new A(null,"set!","set!",250714521,null),Yr=new C(null,"parent","parent",-878878779),$r=new C("widget.geoplot",
"style","widget.geoplot/style",1499653960),as=new C(null,"new","new",-2085437848),bs=new C("query","where","query/where",-1935159429),js=new C("db","retract","db/retract",-1549825231),ls=new C(null,"free","free",801364328),ms=new A(null,"missing?","missing?",-1710383910,null),ns=new C(null,"cljsLegacyRender","cljsLegacyRender",-1527295613),os=new A(aa,"map?","cljs.core/map?",-1390345523,null),ps=new C(null,"seen","seen",-518999789),rs=new A(null,"\x3c\x3d","\x3c\x3d",1244895369,null),ss=new A(null,
"\x26","\x26",-2144855648,null),ts=new C(null,"ex-kind","ex-kind",1581199296),vs=new C(null,"reagentRender","reagentRender",-358306383),ws=new C(null,"right-bracket","right-bracket",951856080),zs=new C(null,"schema","schema",-1582001791),As=new C(null,"tx-data","tx-data",934159761),Bs=new C(null,"amp","amp",271690571),Cs=new C("db.unique","value","db.unique/value",276903088),Es=new C("geoplot.feature","wkt","geoplot.feature/wkt",-1055973148),Fs=new C(ca,"cpred","cljs.spec.alpha/cpred",-693471218),
Hs=new A(null,"-Inf","-Inf",-2123243689,null),kg=new C("db","id","db/id",-1388397098),Ks=new C(null,"vars","vars",-2046957217),Ms=new A(null,"name","name",-810760592,null),Ns=new C(null,"operation","operation",-1267664310),Am=new C(null,"default","default",-1987822328),Os=new C(null,"secs","secs",1532330091),Ps=new A("clojure.core","deref","clojure.core/deref",188719157,null),Qs=new C(null,"padchar","padchar",2018584530),Fc=new C(null,"print-length","print-length",1931866356),Us=new C(null,"nil",
"nil",99600501),Vs=new A(null,"odd?","odd?",-1458588199,null),Ws=new C("widget.type","vega-embed","widget.type/vega-embed",-887166019),Xs=new C(null,"*","*",-1294732318),Ys=new C(null,"json","json",1279968570),$s=new C("db","retractEntity","db/retractEntity",-1452737935),bt=new A(null,"zero?","zero?",325758897,null),ct=new C(null,"buffer-block","buffer-block",-10937307),dt=new C(null,"reader-exception","reader-exception",-1938323098),et=new C(null,"remaining-arg-count","remaining-arg-count",-1216589335),
ft=new C(null,"recursion","recursion",-749738765),gt=new A(null,"-","-",-471816912,null),ht=new C(null,"req-un","req-un",1074571008),it=new A(null,"keyword","keyword",-1843046022,null),jt=new C(null,"forms","forms",2045992350),kt=new C("db","attrTuples","db/attrTuples",860541631),lt=new C(null,"cur","cur",1153190599),mt=new C(null,"branches","branches",-1240337268),nt=new A(null,"def","def",597100991,null),ot=new A(null,"dec","dec",-766002333,null),pt=new C(ha,"internal","datascript.db/internal",
-249301114),qt=new A(null,"rand","rand",-1745930995,null),rt=new C(null,"div.h-screen.flex.flex-col","div.h-screen.flex.flex-col",-892501672),st=new C("widget","type","widget/type",-1894308144),tt=new C(null,"pos","pos",-864607220),ut=new C(ca,"v","cljs.spec.alpha/v",552625740),vt=new C(null,"on-write","on-write",31519475),wt=new C("transact","upsert","transact/upsert",412688078),xt=new C(ca,"k","cljs.spec.alpha/k",-1602615178),yt=new C(null,"kvps","kvps",65308317),zt=new C(null,"output-fn","output-fn",
1600951539),At=new A(null,"set","set",1945134081,null),Bt=new C(null,"commainterval","commainterval",-1980061083),Ct=new C("db.fn","retractAttribute","db.fn/retractAttribute",937402164),Et=new C(null,"elements","elements",657646735),Gt=new C(null,"separator","separator",-1628749125),Ht=new A("datascript","Datom","datascript/Datom",-901340080,null),It=new A(null,"defonce","defonce",-1681484013,null),Kt=new C(null,"div.w-full","div.w-full",-1626749092),Lt=new A(null,"%","%",-950237169,null),Mt=new C(null,
"form","form",-1624062471),Nt=new C(null,"pretty-writer","pretty-writer",-1222834267),Ot=new A(null,"..","..",-300507420,null),Pt=new C(ha,"tx-redundant","datascript.db/tx-redundant",-1117921977),Rt=new A(null,"not\x3d","not\x3d",1466536204,null),St=new C(null,"validator","validator",-1966190681),Tt=new C(null,"pretty","pretty",-1916372486),Vt=new C(null,"buffer-level","buffer-level",928864731),Wt=new A(null,"range","range",-1014743483,null),Xt=new C("widget.geoplot","features","widget.geoplot/features",
-1949420440),$t=new A(da,"blank?","clojure.string/blank?",1772874244,null),au=new C(null,"fragment","fragment",826775688),Vl=new C(null,"pending","pending",-220036727),bu=new C(ca,"invalid","cljs.spec.alpha/invalid",-1220295119),cu=new C(ca,"pcat","cljs.spec.alpha/pcat",26406623),du=new C("widget.geoplot","center-wsg84?","widget.geoplot/center-wsg84?",-752220489),Cc=new C(null,"readably","readably",1129599760),eu=new C(null,"contextTypes","contextTypes",-2023853910),gu=new C(null,"file","file",-1269645878),
iu=new C(null,"rschema","rschema",-1196134054),ku=new C(null,"fill","fill",883462889),lu=new C(null,"i.zmdi.zmdi-close","i.zmdi.zmdi-close",1663309273),nu=new C(null,"attrs","attrs",-2090668713),ou=new C(null,"months","months",-45571637),pu=new C(ia,"recursion","datascript.pull-api/recursion",-1897884534),qu=new C(null,"radix","radix",857016463),su=new C("parser","with","parser/with",-386255821),uu=new C(null,"distinct","distinct",-1788879121),wu=new A(null,"uuid","uuid",-504564192,null),xu=new C(null,
"span.text-lg.text-gray-700","span.text-lg.text-gray-700",1646692146),zu=new C(null,"entity-id","entity-id",1485898093),Au=new C(null,"wildcard","wildcard",-622473020),Bu=new A(null,"queue","queue",-1198599890,null),Cu=new C(null,"block","block",664686210),Du=new C(null,"else","else",-1508377146),Eu=new C(null,"variable","variable",-281346492),Fu=new A(null,"case*","case*",-1938255072,null),Gu=new C(null,"params","params",710516235),qm=new C(null,"ancestors","ancestors",-776045424),Hu=new C(null,
"tuples","tuples",-676032639),Iu=new C(null,"listeners","listeners",394544445),Ku=new C("db","cardinality","db/cardinality",-104975659),Lu=new A(null,"struct-map","struct-map",-1387540878,null),Nu=new C(null,"rest","rest",-1241696419),Ou=new C(null,"min-remaining","min-remaining",962687677),Qu=new C(null,"offset","offset",296498311),Ru=new C(null,"var","var",-769682797),Su=new C(null,"commachar","commachar",652859327),Wu=new A(null,"re-find","re-find",1143444147,null),Nl=new C(null,"val","val",128701612),
Xu=new A(aa,"zipmap","cljs.core/zipmap",-1902130674,null),Yu=new A(null,"-\x3e","-\x3e",-2139605430,null),Zu=new C(null,"db-after","db-after",-571884666),$u=new C(null,"render","render",-1408033454),av=new C(null,"entity","entity",-450970276),cv=new C(null,"button","button",1456579943),dv=new C(null,"arglists","arglists",1661989754),ev=new A(null,"js*","js*",-1134233646,null),fv=new C(null,"end-pos","end-pos",-1643883926),gv=new C(null,"auto-run","auto-run",1958400437),hv=new C(null,"min-version",
"min-version",-1697197126),iv=new C(null,"pred-forms","pred-forms",172611832),jv=new C(null,"hours","hours",58380855),lv=new A(null,"catch","catch",-1616370245,null),mv=new A(null,"tuple","tuple",1167864243,null),nv=new A(null,"count-distinct","count-distinct",-1566572514,null),pv=new C(ca,"kvs-\x3emap","cljs.spec.alpha/kvs-\x3emap",579713455),qv=new C(null,"kind","kind",-717265803),tv=new A(null,"defn","defn",-126010802,null),uv=new C(null,"specs","specs",1426570741),vv=new A(null,"struct","struct",
325972931,null),wv=new C("db.fn","call","db.fn/call",-151594418),xv=new C(null,"gfn","gfn",791517474),yv=new C(null,"years","years",-1298579689),zv=new C(null,"namespaced-map","namespaced-map",1235665380),Av=new A(null,"prn-str","prn-str",-145225943,null),Bv=new C(ca,"accept","cljs.spec.alpha/accept",370988198),Cv=new A(null,"...","...",-1926939749,null),Dv=new C(null,"constructor","constructor",-1953928811),Ev=new C(null,"childContextTypes","childContextTypes",578717991),Fv=new C(null,"input","input",
556931961),Iv=new C(null,"eavt","eavt",-666437073),Jv=new C(null,"mins","mins",467369676),Kv=new C(null,"tag","tag",-1290361223),Mv=new C(null,"linear","linear",872268697),Nv=new A(null,"new","new",-444906321,null),Ov=new C("db","cas","db/cas",-451542322),Pv=new C(null,"other","other",995793544),Qv=new A(null,"\x3e","\x3e",1085014381,null),Sv=new C(null,"sections","sections",-886710106),Tv=new C(null,"lines","lines",-700165781),Uv=new A(null,"do","do",1686842252,null),Vv=new C(null,"colon","colon",
-965200945),Wv=new C("literate","widgets","literate/widgets",1235755088),Xv=new C(null,"color","color",1011675173),Zv=new C(null,"keys-pred","keys-pred",858984739),aw=new C(null,"test","test",577538877),bw=new A(null,"\x3d","\x3d",-1501502141,null),cw=new C(null,"minpad","minpad",323570901),dw=new A("datascript","DB","datascript/DB",-487332776,null),zl=new C(null,"alt-impl","alt-impl",670969595),ew=new A(null,"not-empty","not-empty",2029453590,null),fw=new C(null,"conflict","conflict",1978796605),
gw=new C(null,"datom","datom",-371556090),hw=new A(ca,"keys","cljs.spec.alpha/keys",1109346032,null),jw=new A(null,"db","db",-1661185010,null),kw=new A(null,"with-local-vars","with-local-vars",837642072,null),mw=new A(null,"aggregate","aggregate",-1142967327,null),rw=new A(null,"and","and",668631710,null),tw=new A(null,"try","try",-1273693247,null),ww=new A(null,"throw","throw",595905694,null),xw=new C(null,"div.flex.flex-col.flex-1.space-y-2","div.flex.flex-col.flex-1.space-y-2",1209242693),yw=new A(null,
"array-map","array-map",1555038968,null),zw=new C(null,"font-family","font-family",-667419874),Bw=new A(null,"let","let",358118826,null),Bc=new C(null,"flush-on-newline","flush-on-newline",-151457939),Cw=new A(null,"print-str","print-str",-699700354,null),Dw=new C(null,"opt-specs","opt-specs",-384905450),Ew=new C("widget.codemirror","value","widget.codemirror/value",1562181971),Fw=new A(null,"meta","meta",-1154898805,null),Hw=new C(null,"rules","rules",1198912366),Iw=new C(null,"rels","rels",1770187185),
Jw=new C(null,"pred-exprs","pred-exprs",1792271395),Lw=new A(null,"if","if",1181717262,null),Mw=new A(null,"get-some","get-some",409442058,null),Nw=new C(null,"binding","binding",539932593),Ow=new C(null,"character","character",380652989),Pw=new C(ca,"kfn","cljs.spec.alpha/kfn",672643897),Qw=new C(null,"eid","eid",559519930),Sw=new C(null,"reagent-render","reagent-render",-985383853),Tw=new A(null,"hash-map","hash-map",-439030950,null),Uw=new A(null,"loop*","loop*",615029416,null),Vw=new C(null,"min-count",
"min-count",1594709013),Ww=new C(null,"last","last",1105735132),Xw=new A(null,"quote","quote",1377916282,null),Yw=new A(aa,"vector?","cljs.core/vector?",-1550392028,null),Zw=new A(aa,"lift-ns","cljs.core/lift-ns",463499081,null),$w=new C(null,"k","k",-2146297393),ax=new C(null,"div.flex.flex-1.space-x-2","div.flex.flex-1.space-x-2",-1554471704),bx=new C(null,"hierarchy","hierarchy",-1053470341),cx=new C(null,"qreturn-map","qreturn-map",1841215994),dx=new C(null,"e","e",1381269198),gx=new C(null,"d",
"d",1972142424),hx=new C(null,"a","a",-2123407586),jx=new A(null,"pull","pull",779986722,null),lx=new A(da,"starts-with?","clojure.string/starts-with?",656256322,null),mx=new C(null,"w","w",354169001),nx=new A(null,"fn","fn",465265323,null),ox=new C(null,"v","v",21465059),px=new C("geoplot.style","stroke","geoplot.style/stroke",-1145366218),rx=new C(null,"strable","strable",1877668047),tx=new C(null,"componentWillUnmount","componentWillUnmount",1573788814),ux=new C(null,"n","n",562130025),vx=new C(null,
"contextType","contextType",1033066077),wx=new C(null,"func","func",-238706040),xx=new C(null,"symbol","symbol",-1038572696),yx=new C(null,"got","got",-1674745710),zx=new A(aa,"contains?","cljs.core/contains?",-976526835,null),Ax=new C(null,"indent-t","indent-t",528318969),Bx=new A(null,"lift-ns","lift-ns",602311926,null),Dx=new C(null,"getDerivedStateFromProps","getDerivedStateFromProps",-991834739),Ex=new C("widget.codemirror","mode","widget.codemirror/mode",-517946799),Fx=new C(null,"ref","ref",
1289896967),Gx=new C(null,"value","value",305978217),Al=new C(null,"fallback-impl","fallback-impl",-1501286995),Ix=new C(null,"sources","sources",-321166424),Jx=new C(null,"display-name","display-name",694513143),Kx=new C(null,"enabled?","enabled?",-1376075057),Lx=new A(null,"ns","ns",2082130287,null),Mx=new C(null,"req","req",-326448303),Nx=new C(null,"height","height",1025178622),Ox=new C(null,"ret","ret",-468222814),Px=new C("parser","rule","parser/rule",-464044566),Rx=new C(null,"done","done",
-889844188),Sx=new C(null,"both","both",-393648840),Tx=new C("widget.codemirror","height","widget.codemirror/height",-960842196),Wx=new C(null,"vector","vector",1902966158),Xx=new C(null,"req-specs","req-specs",553962313),Yx=new C(null,"end","end",-268185958),ay=new A(null,"distinct","distinct",-148347594,null),by=new A(null,"get-else","get-else",1312024065,null),cy=new C(null,"className","className",-1983287057),dy=new C(null,"buffer-blob","buffer-blob",-1830112173),ey=new C(null,"allows-separator",
"allows-separator",-818967742),fy=new C(null,"dangerouslySetInnerHTML","dangerouslySetInnerHTML",-554971138),gy=new A("clojure.core","unquote","clojure.core/unquote",843087510,null),iy=new C(null,"colon-up-arrow","colon-up-arrow",244853007),jy=new A(null,"*","*",345799209,null),ly=new C(null,"flags","flags",1775418075),my=new C(null,"eof","eof",-489063237),oy=new A(null,"-differ?","-differ?",1465687357,null),py=new A(null,"js","js",-886355190,null),qy=new C(null,"relative-to","relative-to",-470100051),
ry=new A(null,"doseq","doseq",221164135,null),sy=new C("widget","parent","widget/parent",-1665940103),ty=new A(null,"avg","avg",1837937727,null),uy=new A(ca,"conformer","cljs.spec.alpha/conformer",2140085535,null),vy=new A(null,"not","not",1044554643,null),wy=new A(aa,"list?","cljs.core/list?",-684796618,null),xy=new C("geoplot","color","geoplot/color",831577171),zy=new C(null,"max-eid","max-eid",2134868075),Ay=new C(null,"expand-kvps","expand-kvps",44141154),ql=new C(null,"more-marker","more-marker",
-14717935),By=new C(null,"index-access","index-access",-1548960265),Cy=new C(null,"stroke","stroke",1741823555),Ey=new C("parser","where","parser/where",-966053850),Fy=new C(null,"aevt","aevt",-585148059),Gy=new C(null,"used-args","used-args",23596256),Hy=new C(null,"nl-t","nl-t",-1608382114),Iy=new C(null,"symbols","symbols",1211743),Jy=new A(null,"var","var",870848730,null),Ky=new C(null,"qualifier","qualifier",125841738),Ly=new C(null,"attr","attr",-604132353),My=new C(null,"doc","doc",1913296891),
Ul=new C(null,"ready","ready",1086465795),Py=new A(null,"neg?","neg?",-1902175577,null),Qy=new C(null,"div.rounded-full.h-8.w-8.flex.items-center.justify-center.text-2xl.hover:bg-green-200","div.rounded-full.h-8.w-8.flex.items-center.justify-center.text-2xl.hover:bg-green-200",-1396684735),Ry=new A(null,"p1__26556#","p1__26556#",-1329360550,null),Uy=new C("db.cardinality","one","db.cardinality/one",1428352190),Vy=new A(null,"untuple","untuple",-606149900,null),Wy=new C("parser","query","parser/query",
1877320671),Xy=new C(null,"displayName","displayName",-809144601),Yy=new C(ca,"gfn","cljs.spec.alpha/gfn",-593120375),$y=new C(null,"added","added",2057651688),az=new A(null,"mod","mod",1510044207,null),bz=new C("widget.codemirror","lineNumbers","widget.codemirror/lineNumbers",399725207),cz=new C(null,"i.zmdi.zmdi-bug.text-green-500","i.zmdi.zmdi-bug.text-green-500",-1589227883),dz=new C(null,"qin","qin",1372651151),ez=new A(null,"cond","cond",1606708055,null),fz=new A(null,"\x3c","\x3c",993667236,
null),gz=new C(null,"map","map",1371690461),iz=new C(null,"element","element",1974019749),jz=new C(null,"char-format","char-format",-1016499218),kz=new A(null,"type","type",-1480165421,null),lz=new C(null,"getDerivedStateFromError","getDerivedStateFromError",166658477),mz=new C("parser","pull","parser/pull",-2147427204),nz=new C(null,"mode","mode",654403691),oz=new C(null,"max-columns","max-columns",1742323262),pz=new C(null,"max","max",61366548),qz=new C(null,"pending-guards","pending-guards",-1255527308),
sz=new A(null,"when-let","when-let",-1383043480,null),tz=new C("db","index","db/index",-1531680669),vz=new C(null,"rattr","rattr",-1122345563),wz=new C(null,"qwhere","qwhere",-1645067378),xz=new C(null,"count","count",2139924085),yz=new C(null,"clauses","clauses",1454841241),zz=new A(null,"empty?","empty?",76408555,null),Az=new A(null,"re-matches","re-matches",-1865705768,null),Cz=new C(null,"miser-width","miser-width",-1310049437),Dz=new C(null,"expand","expand",595248157),Ez=new A(null,"binding",
"binding",-2114503176,null),Fz=new A(null,"ground","ground",-1460862835,null),Hz=new C(null,"index","index",-1531685915),Iz=new C("widget.html","src","widget.html/src",1397441752),Jz=new C(null,"class","class",-2030961996),Lz=new C("db.unique","identity","db.unique/identity",1675950722),Nz=new C(ha,"queued-tuples","datascript.db/queued-tuples",-762852029),Oz=new A(null,".",".",1975675962,null),Pz=new C(null,"at","at",1476951349),Qz=new C("transact","unique","transact/unique",-940992320),Rz=new C(null,
"splice","splice",449588165),Sz=new C(null,"dispatch","dispatch",1319337009),Tz=new A(null,"inst","inst",-2008473268,null),Uz=new C(ca,"describe","cljs.spec.alpha/describe",1883026911),Vz=new C("widget.vega-embed","spec","widget.vega-embed/spec",-1913225774),Wz=new A(null,"sample","sample",1719555128,null),Xz=new C("widget","markdown","widget/markdown",-145862203),Yz=new C(null,"__html","__html",674048345),Zz=new C(null,"max-tx","max-tx",1119558339),$z=new C("lookup-ref","syntax","lookup-ref/syntax",
-317304012),aA=new C("widget.geoplot","center","widget.geoplot/center",-530369016),bA=new C(null,"as","as",1148689641),cA=new C(null,"?meta","?meta",-793560773),dA=new C(null,"name","name",1843675177),eA=new C(null,"syms","syms",-1575891762),fA=new C(null,"vargs","vargs",-966597273),hA=new C(null,"div.fixed.bottom-0.right-0.mr-4.mb-4","div.fixed.bottom-0.right-0.mr-4.mb-4",211353752),iA=new C("db.type","ref","db.type/ref",-1728373079),jA=new C(null,"queue","queue",1455835879),mA=new A(null,"loop",
"loop",1244978678,null),oA=new C("parser","find","parser/find",-801023103),pA=new C(null,"selector","selector",762528866),qA=new C(null,"parameter-from-args","parameter-from-args",-758446196),rA=new C(null,"miser","miser",-556060186),tA=new C(null,"on-set","on-set",-140953470),uA=new A(null,"inc","inc",324505433,null),vA=new C(null,"rule-vars","rule-vars",1665972520),xA=new C(null,"context","context",-830191113),zA=new C(null,"colnum","colnum",2023796854),BA=new C(null,"section","section",-300141526),
CA=new C(null,"bracket-info","bracket-info",-1600092774),DA=new A(null,"even?","even?",-1827825394,null),EA=new A(null,"Inf","Inf",647172781,null),FA=new A(aa,"map","cljs.core/map",-338988913,null),Ec=new C(null,"dup","dup",556298533),GA=new C(null,"prefix-context","prefix-context",-1269613591),HA=new C(null,"init-db","init-db",1595181278),LA=new C(ca,"rep","cljs.spec.alpha/rep",1483217317),MA=new C(null,"fn","fn",-1175266204),NA=new C(null,"args","args",1315556576),OA=new C(null,"suffix","suffix",
367373057),PA=new C(null,"old","old",-1825222690),QA=new C(null,"div.flex.flex-1.overflow-x-auto","div.flex.flex-1.overflow-x-auto",2231265),RA=new C(null,"qwith","qwith",-45809392),SA=new A(null,"defn-","defn-",1097765044,null),TA=new C(null,"pattern","pattern",242135423),UA=new C(null,"div.p-2","div.p-2",-325121057),VA=new C(null,"required","required",1807647006),XA=new C(null,"buffer","buffer",617295198),YA=new C(null,"inherit","inherit",-1840815422),ZA=new C(null,"component-did-update","component-did-update",
-1468549173),$A=new C(null,"msg_","msg_",-1925147E3),aB=new C(null,"opt-keys","opt-keys",1262688261),bB=new A(null,"when-not","when-not",-1223136340,null),dB=new C(null,"component-did-mount","component-did-mount",-1126910518),fB=new C("parser","in","parser/in",1617442048),gB=new C(null,"hash","hash",-13781596),hB=new A(null,"namespace","namespace",1263021155,null),iB=new C(null,"div.flex.flex-col.flex-1.items-center.justify-center","div.flex.flex-col.flex-1.items-center.justify-center",-1334433298),
kB=new C(null,"div.flex.justify-between.items-center.py-6.px-1","div.flex.justify-between.items-center.py-6.px-1",1954327828),nB=new C(null,"arg3","arg3",-1486822496),oB=new C(null,"min-level","min-level",1634684919),pB=new C(null,"arg1","arg1",951899358),qB=new C("db","valueType","db/valueType",1827971944),rB=new C(null,"arg2","arg2",1729550917),sB=new C(null,"list","list",765357683),tB=new C("db","ident","db/ident",-737096),xB=new A(null,"re-pattern","re-pattern",1047705161,null),yB=new C("geoplot.feature",
"data-projection","geoplot.feature/data-projection",-1161515945),zB=new C(null,"column","column",2078222095),AB=new C(null,"key","key",-1516042587),BB=new A(null,"rand-int","rand-int",-495012157,null),DB=new C(null,"up-arrow","up-arrow",1705310333),EB=new A(null,"contains?","contains?",-1676812576,null),GB=new A(null,"true?","true?",-1600332395,null),HB=new A(null,"+","+",-740910886,null),IB=new C(null,"generator-fn","generator-fn",811851656),JB=new C(null,"req-keys","req-keys",514319221),KB=new C(null,
"logical-block-callback","logical-block-callback",1612691194),NB=new C("db.cardinality","many","db.cardinality/many",772806234),OB=new C(null,"weeks","weeks",1844596125),PB=new C(null,"overflowchar","overflowchar",-1620088106),RB=new C(null,"with","with",-1536296876),om=new C(null,"parents","parents",-2027538891),WB=new C(null,"mincol","mincol",1230695445),ZB=new A(null,"if-let","if-let",1803593690,null),fC=new A(null,"condp","condp",1054325175,null),gC=new A(null,"rem","rem",664046770,null),hC=new C(null,
"deref","deref",-145586795),iC=new C(null,"in","in",-1531184865),jC=new C(ca,"unknown","cljs.spec.alpha/unknown",651034818),kC=new C(null,"max-iterations","max-iterations",2021275563),lC=new C(null,"output_","output_",-36797880),mC=new C(null,"opt","opt",-794706369),oC=new C(null,"shouldComponentUpdate","shouldComponentUpdate",1795750960),pC=new C(null,"assertion","assertion",-1645134882),rC=new C(null,"id","id",-1388402092),sC=new A(null,"?e","?e",-1194391683,null),uC=new C(null,"stream","stream",
1534941648),vC=new C(null,"results","results",-1134170113),wC=new A(null,"false?","false?",-1522377573,null),xC=new C("widget","uuid","widget/uuid",-585315811),yC=new A(null,"deftype*","deftype*",962659890,null),zC=new C(null,"rep+","rep+",-281382396),BC=new A(null,"NaN","NaN",666918153,null),CC=new C(null,"indent","indent",-148200125),EC=new C(null,"msecs","msecs",1711980553),FC=new A(null,"defmacro","defmacro",2054157304,null),HC=new C("db","add","db/add",235286841),IC=new A(null,"vector","vector",
-751469611,null),JC=new C(null,"porrl","porrl",-1693905102),KC=new C(ca,"conform-all","cljs.spec.alpha/conform-all",45201917),LC=new C(null,"else-params","else-params",-832171646),MC=new C(null,"keyword","keyword",811389747),OC=new C(null,"end-block-t","end-block-t",1544648735),QC=new C(null,"tempids","tempids",1767509089),RC=new C(null,"max-count","max-count",1539185305);function SC(a,b,c){if(Ng(c)){var d=uh(Qg,hi.j(a,c));return b.B?b.B(d):b.call(null,d)}return bj(c)?(d=new X(function(){var e=td(c);return a.B?a.B(e):a.call(null,e)}(),function(){var e=ud(c);return a.B?a.B(e):a.call(null,e)}(),null),b.B?b.B(d):b.call(null,d)):Xf(c)?(d=kl(hi.j(a,c)),b.B?b.B(d):b.call(null,d)):Rf(c)?(d=w.C(function(e,f){return Bf.j(e,a.B?a.B(f):a.call(null,f))},c,c),b.B?b.B(d):b.call(null,d)):Nf(c)?(d=yi.j(Ef(c),hi.j(a,c)),b.B?b.B(d):b.call(null,d)):b.B?b.B(c):b.call(null,c)}
var TC=function TC(a,b){return SC(Wh.j(TC,a),a,b)};var UC={};function VC(a,b,c){var d=RegExp,e=b.source,f=r(b.ignoreCase)?"gi":"g";f=r(b.multiline)?[f,"m"].join(""):f;b=r(b.pk)?[f,"u"].join(""):f;d=new d(e,b);return a.replace(d,c)}
function WC(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new Pe(f,0,null)}return c.call(this,e)}function c(d){d=ki(2,d);if(D.j(K(d),1))return d=H(d),a.B?a.B(d):a.call(null,d);d=mg(d);return a.B?a.B(d):a.call(null,d)}b.aa=0;b.ca=function(d){d=E(d);return c(d)};b.G=c;return b}()}
function XC(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?VC(a,b,c):VC(a,b,WC(c));throw["Invalid match arg: ",t.B(b)].join("");}function YC(a,b){var c=new pc;for(b=E(b);;)if(null!=b)c.append(t.B(H(b))),b=J(b),null!=b&&c.append(a);else return c.toString()}
function ZC(a,b){if(0>=b||b>=2+K(a))return Bf.j(mg(uf("",hi.j(t,E(a)))),"");if(r(Lg.j?Lg.j(1,b):Lg.call(null,1,b)))return new W(null,1,5,Y,[a],null);if(r(Lg.j?Lg.j(2,b):Lg.call(null,2,b)))return new W(null,2,5,Y,["",a],null);b-=2;return Bf.j(mg(uf("",jj(mg(hi.j(t,E(a))),0,b))),Mg.j(a,b))}
function aD(a,b,c){if("/(?:)/"===t.B(b))b=ZC(a,c);else if(1>c)b=mg(t.B(a).split(b));else a:for(var d=c,e=Cf;;){if(1===d){b=Bf.j(e,a);break a}var f=ml(b,a);if(null!=f){var h=a.indexOf(f);f=a.substring(h+K(f));--d;e=Bf.j(e,a.substring(0,h));a=f}else{b=Bf.j(e,a);break a}}if(0===c&&1<K(b))a:for(c=b;;)if(""===(null==c?null:xd(c)))c=null==c?null:yd(c);else break a;else c=b;return c}function bD(a){return Ib(null==a?"":String(a))};var cD={},dD,eD,fD,gD;function hD(a,b){if(null!=a&&null!=a.Ce)a=a.Ce(a,b);else{var c=hD[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=hD._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Oc("Spec.conform*",a);}return a}function iD(a,b){if(null!=a&&null!=a.De)a=a.De(a,b);else{var c=iD[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=iD._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Oc("Spec.with-gen*",a);}return a}var jD=$h(V);
function kD(a){if(Vg(a)){var b=z(jD);a=B.j(b,a);if(Vg(a))a:for(;;)if(Vg(a))a=B.j(b,a);else{b=a;break a}else b=a;return b}return a}function lD(a){if(Vg(a)){var b=kD(a);if(r(b))return b;throw Error(["Unable to resolve spec: ",t.B(a)].join(""));}return a}function mD(a){return null!=a&&l===a.mf?a:null}function nD(a){var b=Tq.B(a);return r(b)?a:b}function oD(a,b){return Vg(a)?a:r(nD(a))?Q.C(a,Up,b):null!=a&&(a.J&131072||l===a.ef)?Jf(a,Q.C(Kf(a),Up,b)):null}
function pD(a){return Vg(a)?a:r(nD(a))?Up.B(a):null!=a&&(a.J&131072||l===a.ef)?Up.B(Kf(a)):null}function qD(a){var b=function(){var c=Vg(a)?kD(a):!1;if(r(c))return c;c=mD(a);if(r(c))return c;c=nD(a);return r(c)?c:null}();return r(nD(b))?oD(rD(b,null),pD(b)):b}function sD(a){var b=qD(a);if(r(b))return b;if(Vg(a))throw Error(["Unable to resolve spec: ",t.B(a)].join(""));return null}
function tD(a){if(bD(a))return null;a=hi.j(Hm,aD(a,"$",0));if(2<=K(a)&&Qh(function(c){return!bD(c)},a)){var b=jl(Vk,Af)(a);a=O(b,0,null);b=O(b,1,null);return Le.B([YC(".",a),"/",t.B(b)].join(""))}return null}
var vD=function(){function a(d,e){var f=uD[ra(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=uD._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw Oc("Specize.specize*",d);}function b(d){var e=uD[ra(null==d?null:d)];if(null!=e)return e.B?e.B(d):e.call(null,d);e=uD._;if(null!=e)return e.B?e.B(d):e.call(null,d);throw Oc("Specize.specize*",d);}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.j=a;return c}(),uD=function uD(a){switch(arguments.length){case 1:return uD.B(arguments[0]);case 2:return uD.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};uD.B=function(a){return null!=a&&null!=a.sd?a.sd(a):vD(a)};uD.j=function(a,b){return null!=a&&null!=a.td?a.td(a,b):vD(a,b)};uD.aa=2;C.prototype.sd=function(){return uD(lD(this))};C.prototype.td=function(){return uD(lD(this))};A.prototype.sd=function(){return uD(lD(this))};
A.prototype.td=function(){return uD(lD(this))};Pk.prototype.sd=function(){return wD(this,this)};Pk.prototype.td=function(a,b){return wD(b,this)};Sk.prototype.sd=function(){return wD(this,this)};Sk.prototype.td=function(a,b){return wD(b,this)};
uD._=function(){function a(c){var d=Hf(c)?tD(c.name):!1;return r(d)?wD(d,c):wD(jC,c)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return wD(d,c)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return wD(d,c)};return b}();var xD=function xD(a){switch(arguments.length){case 1:return xD.B(arguments[0]);case 2:return xD.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};
xD.B=function(a){var b=mD(a);return r(b)?b:uD(a)};xD.j=function(a,b){var c=mD(a);return r(c)?c:uD(a,b)};xD.aa=2;function yD(a,b){a=kD(a);return r(nD(a))?Q.C(a,Yy,b):iD(xD.B(a),b)}function zD(a,b,c){if(null==c)bi.C(jD,R,a);else{var d=mD(c);r(d)||(d=nD(c),d=r(d)?d:B.j(z(jD),c));b=r(d)?c:wD(b,c);bi.P(jD,Q,a,oD(b,a))}}
function AD(a,b,c){if(r(a)){var d=sD(a);if(r(d))return hD(xD.B(d),b);if($f(a))return r(null)?a.B?a.B(b):a.call(null,b):r(a.B?a.B(b):a.call(null,b))?b:bu;throw Error([Gl.G(M([c]))," is not a fn, expected predicate fn"].join(""));}return b}function BD(a,b){a=xD.B(a);return!S(bu,hD(a,b))}function wD(a,b){return CD(a,b,null,null,null)}
function CD(a,b,c,d,e){if(r(mD(b)))return r(c)?yD(b,c):b;if(r(nD(b)))return rD(b,c);if(Vg(b))return a=sD(b),r(c)?yD(a,c):a;if("undefined"===typeof qc||"undefined"===typeof UC||"undefined"===typeof cD||"undefined"===typeof eD)eD=function(f,h,k,m,n,p){this.form=f;this.pred=h;this.Td=k;this.lg=m;this.Vh=n;this.nj=p;this.J=393216;this.T=0},eD.prototype.ga=function(f,h){return new eD(this.form,this.pred,this.Td,this.lg,this.Vh,h)},eD.prototype.fa=function(){return this.nj},eD.prototype.sd=function(){return this},
eD.prototype.td=function(){return this},eD.prototype.mf=l,eD.prototype.Ce=function(f,h){f=this.pred.B?this.pred.B(h):this.pred.call(null,h);return r(this.lg)?f:r(f)?h:bu},eD.prototype.De=function(f,h){return CD(this.form,this.pred,h,this.lg,this.Vh)},eD.Ab=!0,eD.sb="cljs.spec.alpha/t_cljs$spec$alpha24383",eD.Eb=function(f){return Vd(f,"cljs.spec.alpha/t_cljs$spec$alpha24383")};return new eD(a,b,c,d,e,V)}
function DD(a,b,c){var d=E(b);H(d);J(d);d=E(c);H(d);J(d);for(d=c;;){c=a;b=E(b);a=H(b);b=J(b);var e=E(d);d=H(e);e=J(e);var f=d;d=e;if(r(a)){c=AD(a,c,f);if(S(bu,c))return bu;a=c}else return c}}var ED=new q(null,4,[Yw,Cf,wr,Rk,wy,Se,os,V],null);
function FD(a,b,c,d){function e(sa,Ba,Va,ma){return Bf.j(sa,ma)}var f=null!=c&&(c.J&64||l===c.ua)?uh(Gk,c):c,h=B.j(f,RC),k=B.j(f,io),m=B.C(f,gr,20),n=B.j(f,Fs),p=B.j(f,Yo),u=B.j(f,Uz),v=B.j(f,uu),y=B.j(f,Pw),F=B.j(f,xz),G=B.j(f,Vw),I=B.j(f,qv),N=B.j(f,KC),P=B.j(f,Ur),U=r(P)?Ef(P):B.j(ED,k),ea=new Sl(function(){return xD.B(b)}),fa=function(){return r(y)?y:function(sa){return sa}}();if("undefined"===typeof qc||"undefined"===typeof UC||"undefined"===typeof cD||"undefined"===typeof fD)fD=function(sa,
Ba,Va,ma,pa,za,va,Ca,fb,sc,Db,ic,bc,ee,Ag,Sf,sh,hd,Td,Ke,xi,Ud,we,fe,Fo){this.form=sa;this.dj=Ba;this.bj=Va;this.yi=ma;this.Td=pa;this.Ui=za;this.pred=va;this.rf=Ca;this.Mi=fb;this.Zi=sc;this.wi=Db;this.cf=ic;this.Si=bc;this.distinct=ee;this.Fj=Ag;this.spec=Sf;this.Yi=sh;this.Ti=hd;this.count=Td;this.vj=Ke;this.jb=xi;this.kind=Ud;this.qh=we;this.Li=fe;this.sj=Fo;this.J=393216;this.T=0},fD.prototype.ga=function(sa,Ba){return new fD(this.form,this.dj,this.bj,this.yi,this.Td,this.Ui,this.pred,this.rf,
this.Mi,this.Zi,this.wi,this.cf,this.Si,this.distinct,this.Fj,this.spec,this.Yi,this.Ti,this.count,this.vj,this.jb,this.kind,this.qh,this.Li,Ba)},fD.prototype.fa=function(){return this.sj},fD.prototype.sd=function(){return this},fD.prototype.td=function(){return this},fD.prototype.mf=l,fD.prototype.Ce=function(sa,Ba){sa=z(this.spec);if(Kc(this.rf.B?this.rf.B(Ba):this.rf.call(null,Ba)))return bu;if(r(this.qh)){var Va=this.cf.B?this.cf.B(Ba):this.cf.call(null,Ba),ma=O(Va,0,null),pa=O(Va,1,null);Va=
O(Va,2,null);var za=ma.B?ma.B(Ba):ma.call(null,Ba);ma=0;var va=E(Ba);Ba=E(va);H(Ba);J(Ba);for(Ba=za;;){var Ca=va;za=E(Ca);va=H(za);za=J(za);if(Ca){Ca=hD(sa,va);if(S(bu,Ca))return bu;Ba=pa.P?pa.P(Ba,ma,va,Ca):pa.call(null,Ba,ma,va,Ca);ma+=1;va=za}else return Va.B?Va.B(Ba):Va.call(null,Ba)}}else if(mf(Ba))for(pa=Gg(K(Ba)/101),pa=1>pa?1:pa,ma=0;;){if(ma>=K(Ba))return Ba;if(BD(sa,of(Ba,ma)))ma+=pa;else return bu}else for(ma=0,pa=E(Ba),Va=E(pa),H(Va),J(Va);;){va=E(pa);Va=H(va);za=J(va);va=Va;Ca=pa;if(null==
Ca||D.j(ma,101))return Ba;if(BD(sa,va))pa=za,ma+=1;else return bu}},fD.prototype.De=function(sa,Ba){return FD(this.form,this.pred,this.jb,Ba)},fD.Ab=!0,fD.sb="cljs.spec.alpha/t_cljs$spec$alpha25242",fD.Eb=function(sa){return Vd(sa,"cljs.spec.alpha/t_cljs$spec$alpha25242")};return new fD(a,h,f,function(sa){return BD(z(ea),sa)},d,m,b,n,p,k,e,function(sa){return Tf(sa)&&(Kc(P)||Tf(P))?new W(null,3,5,Y,[qg,function(Ba,Va,ma,pa){return ma===pa?Ba:Q.C(Ba,Va,pa)},qg],null):r(Qf(sa)?function(){var Ba=r(I)?
Kc(P):I;return r(Ba)?Ba:Qf(P)}():!1)?new W(null,3,5,Y,[r(p)?Ef:qg,function(Ba,Va,ma,pa){return ma===pa&&Kc(p)?Ba:Q.C(Ba,of(r(p)?pa:ma,0),of(pa,1))},qg],null):Ng(P)||Xf(P)||Kc(P)&&(Ng(sa)||Xf(sa))?new W(null,3,5,Y,[Ef,e,Pg],null):new W(null,3,5,Y,[function(Ba){return Ef(r(P)?P:Ba)},e,qg],null)},u,v,c,ea,fa,U,F,G,f,I,N,P,V)}function GD(a){return new q(null,2,[Tq,Bv,Ox,a],null)}function HD(a){a=null!=a&&(a.J&64||l===a.ua)?uh(Gk,a):a;a=B.j(a,Tq);return D.j(Bv,a)}
var ID=function ID(a){var c=null!=a&&(a.J&64||l===a.ua)?uh(Gk,a):a,d=B.j(c,Ao);a=E(d);var e=H(a);a=J(a);var f=B.j(c,Gn),h=E(f),k=H(h);h=J(h);var m=B.j(c,jt),n=E(m);H(n);n=J(n);var p=B.j(c,Ox);c=B.j(c,zC);return Qh(qg,d)?HD(e)?(d=Ox.B(e),d=Bf.j(p,r(f)?Gf([k,d]):d),a?(a=new q(null,4,[Ao,a,Gn,h,jt,n,Ox,d],null),ID.B?ID.B(a):ID.call(null,a)):GD(d)):new q(null,6,[Tq,cu,Ao,d,Ox,p,Gn,f,jt,m,zC,c],null):null};
function JD(a,b,c,d,e){return r(a)?(d=new q(null,5,[Tq,LA,Rm,b,Rz,d,jt,e,rC,Dm()],null),HD(a)?Q.G(d,Tm,b,M([Ox,Bf.j(c,Ox.B(a))])):Q.G(d,Tm,a,M([Ox,c]))):null}
function KD(a,b,c,d){return r(r(b)?b:c)?(a=vi(function(e){e=H(e);return d.B?d.B(e):d.call(null,e)},hi.P(ej,a,function(){var e=E(b);return e?e:ni(null)}(),function(){var e=E(c);return e?e:ni(null)}())),new W(null,3,5,Y,[E(hi.j(H,a)),r(b)?E(hi.j(yf,a)):null,r(c)?E(hi.j(function(e){return of(e,2)},a)):null],null)):new W(null,3,5,Y,[E(vi(d,a)),b,c],null)}
function LD(a,b,c){var d=KD(a,b,c,qg);c=O(d,0,null);b=E(c);a=H(b);var e=J(b),f=O(d,1,null);b=O(f,0,null);d=O(d,2,null);return r(c)?(c=new q(null,4,[Tq,Qn,Ao,c,Gn,f,jt,d],null),null==e?r(b)&&(HD(a)?(a=Ox.B(a),a=GD(new X(b,a,null))):a=c):a=c,a):null}function MD(a,b){return r(r(a)?b:a)?LD(M([a,b]),null,null):r(a)?a:b}
var ND=function ND(a){a=lD(a);var c=null!=a&&(a.J&64||l===a.ua)?uh(Gk,a):a,d=B.j(c,Tq),e=B.j(c,Ao);a=B.j(c,Tm);var f=B.j(c,Rm);c=B.j(c,jt);if(D.j(Bv,d))return!0;if(D.j(null,d))return null;if(D.j(Hn,d))return d=ND.B?ND.B(a):ND.call(null,a),r(d)?(a=DD(OD(a),e,J(c)),!S(bu,a)):d;if(D.j(LA,d))return(e=a===f)?e:ND.B?ND.B(a):ND.call(null,a);if(D.j(cu,d))return Qh(ND,e);if(D.j(Qn,d))return Rh(ND,e);throw Error(["No matching clause: ",t.B(d)].join(""));},OD=function OD(a){a=lD(a);var c=null!=a&&(a.J&64||l===
a.ua)?uh(Gk,a):a;a=B.j(c,Ao);var d=E(a),e=H(d);J(d);var f=B.j(c,Gn),h=O(f,0,null),k=B.j(c,Tq);d=B.j(c,Tm);var m=B.j(c,Ox);c=B.j(c,jt);if(D.j(Bv,k))return m;if(D.j(null,k))return null;if(D.j(Hn,k))return e=OD.B?OD.B(d):OD.call(null,d),(f=D.j(e,ho))?d=f:(d=Tq.B(lD(d)),f=new Pk(null,new q(null,2,[LA,null,cu,null],null),null),d=f.B?f.B(d):f.call(null,d),d=r(d)?Mf(e):d,d=r(d)?d:null),r(d)?ho:DD(e,a,c);if(D.j(LA,k))return PD(d,m,h);if(D.j(cu,k))return PD(e,m,h);if(D.j(Qn,k))return c=KD(a,f,c,ND),a=O(c,
0,null),a=O(a,0,null),c=O(c,1,null),c=O(c,0,null),a=null==a?ho:OD.B?OD.B(a):OD.call(null,a),r(c)?new X(c,a,null):a;throw Error(["No matching clause: ",t.B(k)].join(""));};
function PD(a,b,c){a=lD(a);var d=null!=a&&(a.J&64||l===a.ua)?uh(Gk,a):a,e=B.j(d,Tq);B.j(d,Ao);a=B.j(d,Rz);if(D.j(null,e))return b;if(D.j(Qn,e)||D.j(Bv,e)||D.j(Hn,e))return a=OD(d),D.j(a,ho)?b:Bf.j(b,r(c)?Gf([c,a]):a);if(D.j(LA,e)||D.j(cu,e))return d=OD(d),Mf(d)||(c=r(c)?Gf([c,d]):d,a=r(a)?yi:Bf,b=a.j?a.j(b,c):a.call(null,b,c)),b;throw Error(["No matching clause: ",t.B(e)].join(""));}
var QD=function QD(a,b){a=lD(a);var d=null!=a&&(a.J&64||l===a.ua)?uh(Gk,a):a,e=B.j(d,jt),f=B.j(d,Rm);a=B.j(d,Ao);var h=E(a),k=H(h),m=J(h),n=B.j(d,Ox);h=B.j(d,Tq);var p=B.j(d,Rz),u=B.j(d,Gn),v=E(u),y=H(v),F=J(v);v=B.j(d,Bs);var G=B.j(d,Tm);if(r(d)){if(D.j(Bv,h))return null;if(D.j(null,h))return a=AD(d,b,d),S(bu,a)?null:GD(a);if(D.j(Hn,h))return d=QD.j?QD.j(G,b):QD.call(null,G,b),r(d)?D.j(Bv,Tq.B(d))?(a=DD(OD(d),a,J(e)),S(bu,a)?null:GD(a)):new q(null,5,[Tq,Hn,Tm,d,Bs,v,Ao,a,jt,e],null):null;if(D.j(cu,
h))return MD(ID(new q(null,4,[Ao,uf(QD.j?QD.j(k,b):QD.call(null,k,b),m),Gn,u,jt,e,Ox,n],null)),r(ND(k))?function(){var I=ID(new q(null,4,[Ao,m,Gn,F,jt,J(e),Ox,PD(k,n,y)],null));return QD.j?QD.j(I,b):QD.call(null,I,b)}():null);if(D.j(Qn,h))return LD(hi.j(function(I){return QD.j?QD.j(I,b):QD.call(null,I,b)},a),u,e);if(D.j(LA,h))return MD(JD(QD.j?QD.j(G,b):QD.call(null,G,b),f,n,p,e),r(ND(G))?function(){var I=JD(f,f,PD(G,n,null),p,e);return QD.j?QD.j(I,b):QD.call(null,I,b)}():null);throw Error(["No matching clause: ",
t.B(h)].join(""));}return null};function RD(a,b){for(;;){var c=E(b),d=H(c);c=J(c);if(Mf(b))return r(ND(a))?(a=OD(a),D.j(a,ho)?null:a):bu;a=QD(a,d);if(r(a))b=c;else return bu}}
var rD=function rD(a,b){if("undefined"===typeof qc||"undefined"===typeof UC||"undefined"===typeof cD||"undefined"===typeof gD)gD=function(d,e,f){this.re=d;this.Td=e;this.tj=f;this.J=393216;this.T=0},gD.prototype.ga=function(d,e){return new gD(this.re,this.Td,e)},gD.prototype.fa=function(){return this.tj},gD.prototype.sd=function(){return this},gD.prototype.td=function(){return this},gD.prototype.mf=l,gD.prototype.Ce=function(d,e){return null==e||Pf(e)?RD(this.re,E(e)):bu},gD.prototype.De=function(d,
e){return rD.j?rD.j(this.re,e):rD.call(null,this.re,e)},gD.Ab=!0,gD.sb="cljs.spec.alpha/t_cljs$spec$alpha26265",gD.Eb=function(d){return Vd(d,"cljs.spec.alpha/t_cljs$spec$alpha26265")};return new gD(a,b,V)};
zD(pv,Qg(uy,Qg(Fn,new W(null,1,5,Y,[Pq],null),Qg(Xu,Qg(FA,xt,Pq),Qg(FA,ut,Pq))),Qg(Fn,new W(null,1,5,Y,[Ry],null),Qg(FA,Qg(Sn,new W(null,1,5,Y,[new W(null,2,5,Y,[Vq,Sq],null)],null),new q(null,2,[xt,Vq,ut,Sq],null)),Ry))),CD(Qg(uy,Qg(Sn,new W(null,1,5,Y,[Lt],null),Qg(Xu,Qg(FA,xt,Lt),Qg(FA,ut,Lt))),Qg(Sn,new W(null,1,5,Y,[Lt],null),Qg(FA,Qg(Sn,new W(null,1,5,Y,[new W(null,2,5,Y,[Vq,Sq],null)],null),new q(null,2,[xt,Vq,ut,Sq],null)),Lt))),function(a){return Wk(hi.j(xt,a),hi.j(ut,a))},null,!0,function(a){return hi.j(function(b){var c=
O(b,0,null);b=O(b,1,null);return new q(null,2,[xt,c,ut,b],null)},a)}));var SD={},TD,UD,VD,WD,XD,YD,ZD=function ZD(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Pe(c.slice(0),0,null):null;return ZD.G(c)};ZD.G=function(a){return Vd(uc,uh(Il,a))};ZD.aa=0;ZD.ca=function(a){return this.G(E(a))};var $D=function $D(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Pe(c.slice(0),0,null):null;return $D.G(c)};$D.G=function(a){return Vd(uc,uh(Gl,a))};$D.aa=0;$D.ca=function(a){return this.G(E(a))};
function aE(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new Pe(b.slice(0),0,null):null;uh($D,b);Vd(uc,"\n")}function bE(a){if("number"===typeof a)return a;if("string"===typeof a&&1===a.length)return a.charCodeAt(0);throw Error("Argument to char must be a character or number");}
function cE(a,b,c){var d=c;for(c=Cf;;){if(Mf(d))return new W(null,2,5,Y,[c,b],null);var e=H(d);d=J(d);e=uh(a,new W(null,2,5,Y,[e,b],null));b=O(e,0,null);e=O(e,1,null);c=Bf.j(c,b);b=e}}function dE(a,b){var c=b;for(b=Cf;;){var d=uh(a,new W(null,1,5,Y,[c],null));c=O(d,0,null);d=O(d,1,null);if(Kc(c))return new W(null,2,5,Y,[b,d],null);b=Bf.j(b,c);c=d}}
function eE(a){return new W(null,2,5,Y,[yi.j(V,function(){return function d(c){return new Yg(null,function(){for(;;){var e=E(c);if(e){if(Uf(e)){var f=me(e),h=K(f),k=bh(h);a:for(var m=0;;)if(m<h){var n=x(f,m),p=O(n,0,null);n=O(n,1,null);var u=O(n,0,null);O(n,1,null);k.add(new W(null,2,5,Y,[p,u],null));m+=1}else{f=!0;break a}return f?dh(fh(k),d(ne(e))):dh(fh(k),null)}f=H(e);k=O(f,0,null);f=O(f,1,null);h=O(f,0,null);O(f,1,null);return uf(new W(null,2,5,Y,[k,h],null),d(Re(e)))}return null}},null,null)}(a)}()),
yi.j(V,function(){return function d(c){return new Yg(null,function(){for(;;){var e=E(c);if(e){if(Uf(e)){var f=me(e),h=K(f),k=bh(h);a:for(var m=0;;)if(m<h){var n=x(f,m),p=O(n,0,null);n=O(n,1,null);O(n,0,null);n=O(n,1,null);k.add(new W(null,2,5,Y,[p,n],null));m+=1}else{f=!0;break a}return f?dh(fh(k),d(ne(e))):dh(fh(k),null)}f=H(e);k=O(f,0,null);f=O(f,1,null);O(f,0,null);f=O(f,1,null);return uf(new W(null,2,5,Y,[k,f],null),d(Re(e)))}return null}},null,null)}(a)}())],null)}
function fE(a,b){return yi.j(V,function(){return function e(d){return new Yg(null,function(){for(;;){var f=E(d);if(f){if(Uf(f)){var h=me(f),k=K(h),m=bh(k);a:for(var n=0;;)if(n<k){var p=x(h,n),u=O(p,0,null);p=O(p,1,null);m.add(new W(null,2,5,Y,[u,new W(null,2,5,Y,[p,b],null)],null));n+=1}else{h=!0;break a}return h?dh(fh(m),e(ne(f))):dh(fh(m),null)}h=H(f);m=O(h,0,null);h=O(h,1,null);return uf(new W(null,2,5,Y,[m,new W(null,2,5,Y,[h,b],null)],null),e(Re(f)))}return null}},null,null)}(a)}())}
function gE(){var a=uc;if(null!=a&&null!=a.hg)a.hg(a);else{var b=gE[ra(null==a?null:a)];if(null!=b)b.B?b.B(a):b.call(null,a);else if(b=gE._,null!=b)b.B?b.B(a):b.call(null,a);else throw Oc("IPrettyFlush.-ppflush",a);}}function hE(a,b){a=z(z(a));return b.B?b.B(a):b.call(null,a)}function iE(a,b,c){bi.P(z(a),Q,b,c)}function jE(a,b){D.j(b,"\n")?(iE(a,lt,0),iE(a,bn,hE(a,bn)+1)):iE(a,lt,hE(a,lt)+1);return Vd(hE(a,bq),b)}
function kE(a,b){var c=$h(new q(null,4,[pz,b,lt,0,bn,0,bq,a],null));if("undefined"===typeof qc||"undefined"===typeof SD||"undefined"===typeof TD)TD=function(d,e,f,h){this.hb=d;this.vg=e;this.fields=f;this.fj=h;this.J=1074167808;this.T=0},TD.prototype.ga=function(d,e){return new TD(this.hb,this.vg,this.fields,e)},TD.prototype.fa=function(){return this.fj},TD.prototype.Db=function(){return this.fields},TD.prototype.fd=function(){return Wd(this.hb)},TD.prototype.Gd=function(d,e){d=Nc(e);if(r(D.j?D.j(String,
d):D.call(null,String,d)))return d=e.lastIndexOf("\n"),0>d?iE(this,lt,hE(this,lt)+K(e)):(iE(this,lt,K(e)-d-1),iE(this,bn,hE(this,bn)+K(vi(function(f){return D.j(f,"\n")},e)))),Vd(hE(this,bq),e);if(r(D.j?D.j(Number,d):D.call(null,Number,d)))return jE(this,e);throw Error(["No matching clause: ",t.B(d)].join(""));},TD.Ab=!0,TD.sb="cljs.pprint/t_cljs$pprint21462",TD.Eb=function(d){return Vd(d,"cljs.pprint/t_cljs$pprint21462")};return new TD(a,b,c,V)}
function lE(a,b,c,d,e,f,h,k,m,n,p,u,v){this.parent=a;this.Jb=b;this.Bb=c;this.indent=d;this.Fb=e;this.Gb=f;this.prefix=h;this.Ib=k;this.suffix=m;this.Hb=n;this.F=p;this.D=u;this.I=v;this.J=2230716170;this.T=139264}g=lE.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "parent":return this.parent;case "section":return this.Jb;case "start-col":return this.Bb;case "indent":return this.indent;case "done-nl":return this.Fb;case "intra-block-nl":return this.Gb;case "prefix":return this.prefix;case "per-line-prefix":return this.Ib;case "suffix":return this.suffix;case "logical-block-callback":return this.Hb;default:return B.C(this.D,b,c)}};
g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#cljs.pprint.logical-block{",", ","}",c,T.j(new W(null,10,5,Y,[new W(null,2,5,Y,[Yr,this.parent],null),new W(null,2,5,Y,[BA,this.Jb],null),new W(null,2,5,Y,[Tr,this.Bb],null),new W(null,2,5,Y,[CC,this.indent],null),new W(null,2,5,Y,[Mn,this.Fb],null),new W(null,2,5,Y,[er,this.Gb],null),new W(null,2,5,Y,[jq,this.prefix],null),new W(null,2,5,Y,[qn,this.Ib],null),new W(null,2,5,Y,[OA,this.suffix],null),new W(null,2,5,Y,[KB,this.Hb],
null)],null),this.D))};g.pa=function(){return new uj(this,10,new W(null,10,5,Y,[Yr,BA,Tr,CC,Mn,er,jq,qn,OA,KB],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};g.oa=function(){return new lE(this.parent,this.Jb,this.Bb,this.indent,this.Fb,this.Gb,this.prefix,this.Ib,this.suffix,this.Hb,this.F,this.D,this.I)};g.ja=function(){return 10+K(this.D)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=1977012399^Ye(this)};
g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.parent,b.parent)&&D.j(this.Jb,b.Jb)&&D.j(this.Bb,b.Bb)&&D.j(this.indent,b.indent)&&D.j(this.Fb,b.Fb)&&D.j(this.Gb,b.Gb)&&D.j(this.prefix,b.prefix)&&D.j(this.Ib,b.Ib)&&D.j(this.suffix,b.suffix)&&D.j(this.Hb,b.Hb)&&D.j(this.D,b.D)};
g.ya=function(a,b){return bg(new Pk(null,new q(null,10,[OA,null,CC,null,Yr,null,BA,null,Mn,null,Tr,null,jq,null,qn,null,KB,null,er,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new lE(this.parent,this.Jb,this.Bb,this.indent,this.Fb,this.Gb,this.prefix,this.Ib,this.suffix,this.Hb,this.F,Ah(R.j(this.D,b)),null)};
g.da=function(a,b,c){return r(S.j?S.j(Yr,b):S.call(null,Yr,b))?new lE(c,this.Jb,this.Bb,this.indent,this.Fb,this.Gb,this.prefix,this.Ib,this.suffix,this.Hb,this.F,this.D,null):r(S.j?S.j(BA,b):S.call(null,BA,b))?new lE(this.parent,c,this.Bb,this.indent,this.Fb,this.Gb,this.prefix,this.Ib,this.suffix,this.Hb,this.F,this.D,null):r(S.j?S.j(Tr,b):S.call(null,Tr,b))?new lE(this.parent,this.Jb,c,this.indent,this.Fb,this.Gb,this.prefix,this.Ib,this.suffix,this.Hb,this.F,this.D,null):r(S.j?S.j(CC,b):S.call(null,
CC,b))?new lE(this.parent,this.Jb,this.Bb,c,this.Fb,this.Gb,this.prefix,this.Ib,this.suffix,this.Hb,this.F,this.D,null):r(S.j?S.j(Mn,b):S.call(null,Mn,b))?new lE(this.parent,this.Jb,this.Bb,this.indent,c,this.Gb,this.prefix,this.Ib,this.suffix,this.Hb,this.F,this.D,null):r(S.j?S.j(er,b):S.call(null,er,b))?new lE(this.parent,this.Jb,this.Bb,this.indent,this.Fb,c,this.prefix,this.Ib,this.suffix,this.Hb,this.F,this.D,null):r(S.j?S.j(jq,b):S.call(null,jq,b))?new lE(this.parent,this.Jb,this.Bb,this.indent,
this.Fb,this.Gb,c,this.Ib,this.suffix,this.Hb,this.F,this.D,null):r(S.j?S.j(qn,b):S.call(null,qn,b))?new lE(this.parent,this.Jb,this.Bb,this.indent,this.Fb,this.Gb,this.prefix,c,this.suffix,this.Hb,this.F,this.D,null):r(S.j?S.j(OA,b):S.call(null,OA,b))?new lE(this.parent,this.Jb,this.Bb,this.indent,this.Fb,this.Gb,this.prefix,this.Ib,c,this.Hb,this.F,this.D,null):r(S.j?S.j(KB,b):S.call(null,KB,b))?new lE(this.parent,this.Jb,this.Bb,this.indent,this.Fb,this.Gb,this.prefix,this.Ib,this.suffix,c,this.F,
this.D,null):new lE(this.parent,this.Jb,this.Bb,this.indent,this.Fb,this.Gb,this.prefix,this.Ib,this.suffix,this.Hb,this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(new W(null,10,5,Y,[new X(Yr,this.parent,null),new X(BA,this.Jb,null),new X(Tr,this.Bb,null),new X(CC,this.indent,null),new X(Mn,this.Fb,null),new X(er,this.Gb,null),new X(jq,this.prefix,null),new X(qn,this.Ib,null),new X(OA,this.suffix,null),new X(KB,this.Hb,null)],null),this.D))};
g.ga=function(a,b){return new lE(this.parent,this.Jb,this.Bb,this.indent,this.Fb,this.Gb,this.prefix,this.Ib,this.suffix,this.Hb,b,this.D,this.I)};g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};function mE(a,b){for(b=Yr.B(b);;){if(null==b)return!1;if(a===b)return!0;b=Yr.B(b)}}function nE(a,b,c,d,e,f,h,k){this.sa=a;this.data=b;this.Bc=c;this.ra=d;this.qa=e;this.F=f;this.D=h;this.I=k;this.J=2230716170;this.T=139264}g=nE.prototype;
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "type-tag":return this.sa;case "data":return this.data;case "trailing-white-space":return this.Bc;case "start-pos":return this.ra;case "end-pos":return this.qa;default:return B.C(this.D,b,c)}};g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#cljs.pprint.buffer-blob{",", ","}",c,T.j(new W(null,5,5,Y,[new W(null,2,5,Y,[Wm,this.sa],null),new W(null,2,5,Y,[zn,this.data],null),new W(null,2,5,Y,[fq,this.Bc],null),new W(null,2,5,Y,[pq,this.ra],null),new W(null,2,5,Y,[fv,this.qa],null)],null),this.D))};g.pa=function(){return new uj(this,5,new W(null,5,5,Y,[Wm,zn,fq,pq,fv],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};
g.oa=function(){return new nE(this.sa,this.data,this.Bc,this.ra,this.qa,this.F,this.D,this.I)};g.ja=function(){return 5+K(this.D)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=1809113693^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.sa,b.sa)&&D.j(this.data,b.data)&&D.j(this.Bc,b.Bc)&&D.j(this.ra,b.ra)&&D.j(this.qa,b.qa)&&D.j(this.D,b.D)};
g.ya=function(a,b){return bg(new Pk(null,new q(null,5,[fv,null,fq,null,Wm,null,pq,null,zn,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new nE(this.sa,this.data,this.Bc,this.ra,this.qa,this.F,Ah(R.j(this.D,b)),null)};
g.da=function(a,b,c){return r(S.j?S.j(Wm,b):S.call(null,Wm,b))?new nE(c,this.data,this.Bc,this.ra,this.qa,this.F,this.D,null):r(S.j?S.j(zn,b):S.call(null,zn,b))?new nE(this.sa,c,this.Bc,this.ra,this.qa,this.F,this.D,null):r(S.j?S.j(fq,b):S.call(null,fq,b))?new nE(this.sa,this.data,c,this.ra,this.qa,this.F,this.D,null):r(S.j?S.j(pq,b):S.call(null,pq,b))?new nE(this.sa,this.data,this.Bc,c,this.qa,this.F,this.D,null):r(S.j?S.j(fv,b):S.call(null,fv,b))?new nE(this.sa,this.data,this.Bc,this.ra,c,this.F,
this.D,null):new nE(this.sa,this.data,this.Bc,this.ra,this.qa,this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(new W(null,5,5,Y,[new X(Wm,this.sa,null),new X(zn,this.data,null),new X(fq,this.Bc,null),new X(pq,this.ra,null),new X(fv,this.qa,null)],null),this.D))};g.ga=function(a,b){return new nE(this.sa,this.data,this.Bc,this.ra,this.qa,b,this.D,this.I)};g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};
function oE(a,b,c,d,e,f,h,k){this.sa=a;this.type=b;this.za=c;this.ra=d;this.qa=e;this.F=f;this.D=h;this.I=k;this.J=2230716170;this.T=139264}g=oE.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "type-tag":return this.sa;case "type":return this.type;case "logical-block":return this.za;case "start-pos":return this.ra;case "end-pos":return this.qa;default:return B.C(this.D,b,c)}};
g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#cljs.pprint.nl-t{",", ","}",c,T.j(new W(null,5,5,Y,[new W(null,2,5,Y,[Wm,this.sa],null),new W(null,2,5,Y,[Jq,this.type],null),new W(null,2,5,Y,[Fr,this.za],null),new W(null,2,5,Y,[pq,this.ra],null),new W(null,2,5,Y,[fv,this.qa],null)],null),this.D))};
g.pa=function(){return new uj(this,5,new W(null,5,5,Y,[Wm,Jq,Fr,pq,fv],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};g.oa=function(){return new oE(this.sa,this.type,this.za,this.ra,this.qa,this.F,this.D,this.I)};g.ja=function(){return 5+K(this.D)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=-1640656800^Ye(this)};
g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.sa,b.sa)&&D.j(this.type,b.type)&&D.j(this.za,b.za)&&D.j(this.ra,b.ra)&&D.j(this.qa,b.qa)&&D.j(this.D,b.D)};g.ya=function(a,b){return bg(new Pk(null,new q(null,5,[fv,null,Jq,null,Fr,null,Wm,null,pq,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new oE(this.sa,this.type,this.za,this.ra,this.qa,this.F,Ah(R.j(this.D,b)),null)};
g.da=function(a,b,c){return r(S.j?S.j(Wm,b):S.call(null,Wm,b))?new oE(c,this.type,this.za,this.ra,this.qa,this.F,this.D,null):r(S.j?S.j(Jq,b):S.call(null,Jq,b))?new oE(this.sa,c,this.za,this.ra,this.qa,this.F,this.D,null):r(S.j?S.j(Fr,b):S.call(null,Fr,b))?new oE(this.sa,this.type,c,this.ra,this.qa,this.F,this.D,null):r(S.j?S.j(pq,b):S.call(null,pq,b))?new oE(this.sa,this.type,this.za,c,this.qa,this.F,this.D,null):r(S.j?S.j(fv,b):S.call(null,fv,b))?new oE(this.sa,this.type,this.za,this.ra,c,this.F,
this.D,null):new oE(this.sa,this.type,this.za,this.ra,this.qa,this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(new W(null,5,5,Y,[new X(Wm,this.sa,null),new X(Jq,this.type,null),new X(Fr,this.za,null),new X(pq,this.ra,null),new X(fv,this.qa,null)],null),this.D))};g.ga=function(a,b){return new oE(this.sa,this.type,this.za,this.ra,this.qa,b,this.D,this.I)};g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};
function pE(a,b,c,d,e,f,h){this.sa=a;this.za=b;this.ra=c;this.qa=d;this.F=e;this.D=f;this.I=h;this.J=2230716170;this.T=139264}g=pE.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "type-tag":return this.sa;case "logical-block":return this.za;case "start-pos":return this.ra;case "end-pos":return this.qa;default:return B.C(this.D,b,c)}};
g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#cljs.pprint.start-block-t{",", ","}",c,T.j(new W(null,4,5,Y,[new W(null,2,5,Y,[Wm,this.sa],null),new W(null,2,5,Y,[Fr,this.za],null),new W(null,2,5,Y,[pq,this.ra],null),new W(null,2,5,Y,[fv,this.qa],null)],null),this.D))};
g.pa=function(){return new uj(this,4,new W(null,4,5,Y,[Wm,Fr,pq,fv],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};g.oa=function(){return new pE(this.sa,this.za,this.ra,this.qa,this.F,this.D,this.I)};g.ja=function(){return 4+K(this.D)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=-414877272^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.sa,b.sa)&&D.j(this.za,b.za)&&D.j(this.ra,b.ra)&&D.j(this.qa,b.qa)&&D.j(this.D,b.D)};
g.ya=function(a,b){return bg(new Pk(null,new q(null,4,[fv,null,Fr,null,Wm,null,pq,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new pE(this.sa,this.za,this.ra,this.qa,this.F,Ah(R.j(this.D,b)),null)};
g.da=function(a,b,c){return r(S.j?S.j(Wm,b):S.call(null,Wm,b))?new pE(c,this.za,this.ra,this.qa,this.F,this.D,null):r(S.j?S.j(Fr,b):S.call(null,Fr,b))?new pE(this.sa,c,this.ra,this.qa,this.F,this.D,null):r(S.j?S.j(pq,b):S.call(null,pq,b))?new pE(this.sa,this.za,c,this.qa,this.F,this.D,null):r(S.j?S.j(fv,b):S.call(null,fv,b))?new pE(this.sa,this.za,this.ra,c,this.F,this.D,null):new pE(this.sa,this.za,this.ra,this.qa,this.F,Q.C(this.D,b,c),null)};
g.ia=function(){return E(T.j(new W(null,4,5,Y,[new X(Wm,this.sa,null),new X(Fr,this.za,null),new X(pq,this.ra,null),new X(fv,this.qa,null)],null),this.D))};g.ga=function(a,b){return new pE(this.sa,this.za,this.ra,this.qa,b,this.D,this.I)};g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};function qE(a,b,c,d,e,f,h){this.sa=a;this.za=b;this.ra=c;this.qa=d;this.F=e;this.D=f;this.I=h;this.J=2230716170;this.T=139264}g=qE.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "type-tag":return this.sa;case "logical-block":return this.za;case "start-pos":return this.ra;case "end-pos":return this.qa;default:return B.C(this.D,b,c)}};g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#cljs.pprint.end-block-t{",", ","}",c,T.j(new W(null,4,5,Y,[new W(null,2,5,Y,[Wm,this.sa],null),new W(null,2,5,Y,[Fr,this.za],null),new W(null,2,5,Y,[pq,this.ra],null),new W(null,2,5,Y,[fv,this.qa],null)],null),this.D))};g.pa=function(){return new uj(this,4,new W(null,4,5,Y,[Wm,Fr,pq,fv],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};
g.oa=function(){return new qE(this.sa,this.za,this.ra,this.qa,this.F,this.D,this.I)};g.ja=function(){return 4+K(this.D)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=1365867980^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.sa,b.sa)&&D.j(this.za,b.za)&&D.j(this.ra,b.ra)&&D.j(this.qa,b.qa)&&D.j(this.D,b.D)};
g.ya=function(a,b){return bg(new Pk(null,new q(null,4,[fv,null,Fr,null,Wm,null,pq,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new qE(this.sa,this.za,this.ra,this.qa,this.F,Ah(R.j(this.D,b)),null)};
g.da=function(a,b,c){return r(S.j?S.j(Wm,b):S.call(null,Wm,b))?new qE(c,this.za,this.ra,this.qa,this.F,this.D,null):r(S.j?S.j(Fr,b):S.call(null,Fr,b))?new qE(this.sa,c,this.ra,this.qa,this.F,this.D,null):r(S.j?S.j(pq,b):S.call(null,pq,b))?new qE(this.sa,this.za,c,this.qa,this.F,this.D,null):r(S.j?S.j(fv,b):S.call(null,fv,b))?new qE(this.sa,this.za,this.ra,c,this.F,this.D,null):new qE(this.sa,this.za,this.ra,this.qa,this.F,Q.C(this.D,b,c),null)};
g.ia=function(){return E(T.j(new W(null,4,5,Y,[new X(Wm,this.sa,null),new X(Fr,this.za,null),new X(pq,this.ra,null),new X(fv,this.qa,null)],null),this.D))};g.ga=function(a,b){return new qE(this.sa,this.za,this.ra,this.qa,b,this.D,this.I)};g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};function rE(a,b,c,d,e,f,h,k,m){this.sa=a;this.za=b;this.rc=c;this.offset=d;this.ra=e;this.qa=f;this.F=h;this.D=k;this.I=m;this.J=2230716170;this.T=139264}g=rE.prototype;
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "type-tag":return this.sa;case "logical-block":return this.za;case "relative-to":return this.rc;case "offset":return this.offset;case "start-pos":return this.ra;case "end-pos":return this.qa;default:return B.C(this.D,b,c)}};g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#cljs.pprint.indent-t{",", ","}",c,T.j(new W(null,6,5,Y,[new W(null,2,5,Y,[Wm,this.sa],null),new W(null,2,5,Y,[Fr,this.za],null),new W(null,2,5,Y,[qy,this.rc],null),new W(null,2,5,Y,[Qu,this.offset],null),new W(null,2,5,Y,[pq,this.ra],null),new W(null,2,5,Y,[fv,this.qa],null)],null),this.D))};g.pa=function(){return new uj(this,6,new W(null,6,5,Y,[Wm,Fr,qy,Qu,pq,fv],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};
g.oa=function(){return new rE(this.sa,this.za,this.rc,this.offset,this.ra,this.qa,this.F,this.D,this.I)};g.ja=function(){return 6+K(this.D)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=-1602780238^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.sa,b.sa)&&D.j(this.za,b.za)&&D.j(this.rc,b.rc)&&D.j(this.offset,b.offset)&&D.j(this.ra,b.ra)&&D.j(this.qa,b.qa)&&D.j(this.D,b.D)};
g.ya=function(a,b){return bg(new Pk(null,new q(null,6,[Qu,null,fv,null,qy,null,Fr,null,Wm,null,pq,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new rE(this.sa,this.za,this.rc,this.offset,this.ra,this.qa,this.F,Ah(R.j(this.D,b)),null)};
g.da=function(a,b,c){return r(S.j?S.j(Wm,b):S.call(null,Wm,b))?new rE(c,this.za,this.rc,this.offset,this.ra,this.qa,this.F,this.D,null):r(S.j?S.j(Fr,b):S.call(null,Fr,b))?new rE(this.sa,c,this.rc,this.offset,this.ra,this.qa,this.F,this.D,null):r(S.j?S.j(qy,b):S.call(null,qy,b))?new rE(this.sa,this.za,c,this.offset,this.ra,this.qa,this.F,this.D,null):r(S.j?S.j(Qu,b):S.call(null,Qu,b))?new rE(this.sa,this.za,this.rc,c,this.ra,this.qa,this.F,this.D,null):r(S.j?S.j(pq,b):S.call(null,pq,b))?new rE(this.sa,
this.za,this.rc,this.offset,c,this.qa,this.F,this.D,null):r(S.j?S.j(fv,b):S.call(null,fv,b))?new rE(this.sa,this.za,this.rc,this.offset,this.ra,c,this.F,this.D,null):new rE(this.sa,this.za,this.rc,this.offset,this.ra,this.qa,this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(new W(null,6,5,Y,[new X(Wm,this.sa,null),new X(Fr,this.za,null),new X(qy,this.rc,null),new X(Qu,this.offset,null),new X(pq,this.ra,null),new X(fv,this.qa,null)],null),this.D))};
g.ga=function(a,b){return new rE(this.sa,this.za,this.rc,this.offset,this.ra,this.qa,b,this.D,this.I)};g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};var sE=function(){var a=$h(V),b=$h(V),c=$h(V),d=$h(V),e=B.C(V,bx,nm.O?nm.O():nm.call(null));return new zm(Le.j(ba,"write-token"),function(f,h){return Wm.B(h)},e,a,b,c,d)}();
sE.nb(null,nn,function(a,b){var c=KB.B(z(z(a)));r(c)&&(c.B?c.B(Yn):c.call(null,Yn));b=Fr.B(b);c=jq.B(b);r(c)&&Vd(bq.B(z(z(a))),c);a=hE(bq.B(z(z(a))),lt);ai(Tr.B(b),a);return ai(CC.B(b),a)});sE.nb(null,OC,function(a,b){var c=KB.B(z(z(a)));r(c)&&(c.B?c.B(Yx):c.call(null,Yx));b=OA.B(Fr.B(b));return r(b)?Vd(bq.B(z(z(a))),b):null});
sE.nb(null,Ax,function(a,b){var c=Fr.B(b),d=CC.B(c),e=Qu.B(b);b=qy.B(b);if(r(D.j?D.j(Cu,b):D.call(null,Cu,b)))a=z(Tr.B(c));else if(r(D.j?D.j(Qr,b):D.call(null,Qr,b)))a=hE(bq.B(z(z(a))),lt);else throw Error(["No matching clause: ",t.B(b)].join(""));return ai(d,e+a)});sE.nb(null,dy,function(a,b){return Vd(bq.B(z(z(a))),zn.B(b))});
sE.nb(null,Hy,function(a,b){var c=(c=D.j(Jq.B(b),qo))?c:D.j(Jq.B(b),ku)?!1:z(Mn.B(Fr.B(b)));r(c)?tE.j?tE.j(a,b):tE.call(null,a,b):(b=fq.B(z(z(a))),r(b)&&Vd(bq.B(z(z(a))),b));return bi.P(z(a),Q,fq,null)});
function uE(a,b,c){b=E(b);for(var d=null,e=0,f=0;;)if(f<e){var h=d.wa(null,f);if(!D.j(Wm.B(h),Hy)){var k=fq.B(z(z(a)));r(k)&&Vd(bq.B(z(z(a))),k)}sE.j(a,h);bi.P(z(a),Q,fq,fq.B(h));h=fq.B(z(z(a)));r(r(c)?h:c)&&(Vd(bq.B(z(z(a))),h),bi.P(z(a),Q,fq,null));f+=1}else if(b=E(b))Uf(b)?(d=me(b),b=ne(b),h=d,e=K(d),d=h):(h=H(b),D.j(Wm.B(h),Hy)||(d=fq.B(z(z(a))),r(d)&&Vd(bq.B(z(z(a))),d)),sE.j(a,h),bi.P(z(a),Q,fq,fq.B(h)),h=fq.B(z(z(a))),r(r(c)?h:c)&&(Vd(bq.B(z(z(a))),h),bi.P(z(a),Q,fq,null)),b=J(b),d=null,e=
0),f=0;else break}function vE(a,b){var c=hE(bq.B(z(z(a))),pz),d;(d=null==c)||(a=hE(bq.B(z(z(a))),lt),b=(b=E(b))?fv.B(Af(b))-pq.B(H(b)):0,d=a+b<c);return d}function wE(a,b,c){b=z(Mn.B(b));return r(b)?b:!vE(a,c)}function xE(a,b,c){var d=Cz.B(z(z(a))),e=hE(bq.B(z(z(a))),pz);return r(d)?r(e)?z(Tr.B(b))>=e-d?wE(a,b,c):!1:e:d}var yE=function(){var a=$h(V),b=$h(V),c=$h(V),d=$h(V),e=B.C(V,bx,nm.O?nm.O():nm.call(null));return new zm(Le.j(ba,"emit-nl?"),function(f){return Jq.B(f)},e,a,b,c,d)}();
yE.nb(null,Mv,function(a,b,c){a=Fr.B(a);return wE(b,a,c)});yE.nb(null,rA,function(a,b,c){a=Fr.B(a);return xE(b,a,c)});yE.nb(null,ku,function(a,b,c,d){a=Fr.B(a);var e=z(er.B(a));return r(e)?e:(d=!vE(b,d))?d:xE(b,a,c)});yE.nb(null,qo,function(){return!0});function zE(a){var b=H(a),c=Fr.B(b);b=E($k(function(d){return!(D.j(Wm.B(d),Hy)&&mE(Fr.B(d),c))},J(a)));return new W(null,2,5,Y,[b,E(ji(K(b)+1,a))],null)}
function AE(a){var b=H(a),c=Fr.B(b);return E($k(function(d){var e=Fr.B(d);return!(D.j(Wm.B(d),Hy)&&(D.j(e,c)||mE(e,c)))},J(a)))}function tE(a,b){Vd(bq.B(z(z(a))),"\n");bi.P(z(a),Q,fq,null);b=Fr.B(b);var c=qn.B(b);r(c)&&Vd(bq.B(z(z(a))),c);c=uh(t,oi(z(CC.B(b))-K(c)," "));Vd(bq.B(z(z(a))),c);a:for(ai(er.B(b),!0),ai(Mn.B(b),!0),a=Yr.B(b);;)if(r(a))ai(Mn.B(a),!0),ai(er.B(a),!0),a=Yr.B(a);else break a;return null}
function BE(a){var b=E($k(function(c){return!D.j(Wm.B(c),Hy)},a));return new W(null,2,5,Y,[b,E(ji(K(b),a))],null)}var CE=function CE(a,b){var d=BE(b);b=O(d,0,null);var e=O(d,1,null);r(b)&&uE(a,b,!1);if(r(e)){d=zE(e);b=O(d,0,null);d=O(d,1,null);var f=H(e),h=yE.P(f,a,b,AE(e));r(h)&&(tE(a,f),e=J(e));vE(a,e)?a=e:(e=CE.j?CE.j(a,b):CE.call(null,a,b),D.j(e,b)?(uE(a,b,!1),a=d):a=yi.j(Cf,T.j(e,d)));return a}return null};
function DE(a){for(var b=XA.B(z(z(a)));;){bi.P(z(a),Q,XA,yi.j(Cf,b));if(vE(a,b))return null;var c=CE(a,b);if(b!==c)b=c;else return null}}function EE(a,b){bi.P(z(a),Q,XA,Bf.j(XA.B(z(z(a))),b));return vE(a,XA.B(z(z(a))))?null:DE(a)}function FE(a){var b=fq.B(z(z(a)));return r(b)?(Vd(bq.B(z(z(a))),b),bi.P(z(a),Q,fq,null)):null}
function GE(a,b){var c=aD(b,"\n",-1);if(D.j(K(c),1))return b;b=qn.B(H(xr.B(z(z(a)))));var d=H(c);if(D.j(ep,nz.B(z(z(a))))){var e=tt.B(z(z(a))),f=e+K(d);bi.P(z(a),Q,tt,f);EE(a,new nE(dy,d,null,e,f,null,null,null));DE(a);d=XA.B(z(z(a)));r(d)&&(uE(a,d,!0),bi.P(z(a),Q,XA,Cf))}else FE(a),Vd(bq.B(z(z(a))),d);Vd(bq.B(z(z(a))),"\n");d=E(J(Vk(c)));e=null;for(var h=f=0;;)if(h<f){var k=e.wa(null,h);Vd(bq.B(z(z(a))),k);Vd(bq.B(z(z(a))),"\n");r(b)&&Vd(bq.B(z(z(a))),b);h+=1}else if(d=E(d))e=d,Uf(e)?(d=me(e),h=
ne(e),e=d,f=K(d),d=h):(d=H(e),Vd(bq.B(z(z(a))),d),Vd(bq.B(z(z(a))),"\n"),r(b)&&Vd(bq.B(z(z(a))),b),d=J(e),e=null,f=0),h=0;else break;bi.P(z(a),Q,ep,Rr);return Af(c)}
function HE(a){var b=IE,c=JE,d=new lE(null,null,$h(0),$h(0),$h(!1),$h(!1),null,null,null,null,null,null,null),e=$h(nk([xr,Cz,ct,Nt,Sv,nz,tt,fq,bq,Vt,XA],[d,c,d,!0,null,Rr,0,null,kE(a,b),1,Cf]));if("undefined"===typeof qc||"undefined"===typeof SD||"undefined"===typeof UD)UD=function(f,h,k,m,n,p){this.hb=f;this.vg=h;this.wj=k;this.$i=m;this.fields=n;this.gj=p;this.J=1074167808;this.T=0},UD.prototype.ga=function(f,h){return new UD(this.hb,this.vg,this.wj,this.$i,this.fields,h)},UD.prototype.fa=function(){return this.gj},
UD.prototype.Db=function(){return this.fields},UD.prototype.Gd=function(f,h){f=Nc(h);if(r(D.j?D.j(String,f):D.call(null,String,f))){var k=GE(this,h);h=k.replace(/\s+$/,"");f=Mg.j(k,h.length);var m=nz.B(z(z(this)));if(D.j(m,Rr))return FE(this),Vd(bq.B(z(z(this))),h),bi.P(z(this),Q,fq,f);m=tt.B(z(z(this)));k=m+K(k);bi.P(z(this),Q,tt,k);return EE(this,new nE(dy,h,f,m,k,null,null,null))}if(r(D.j?D.j(Number,f):D.call(null,Number,f)))return D.j(nz.B(z(z(this))),Rr)?(FE(this),h=Vd(bq.B(z(z(this))),h)):D.j(h,
"\n")?h=GE(this,"\n"):(f=tt.B(z(z(this))),k=f+1,bi.P(z(this),Q,tt,k),h=Fg(h),h=EE(this,new nE(dy,h,null,f,k,null,null,null))),h;throw Error(["No matching clause: ",t.B(f)].join(""));},UD.prototype.fd=function(){this.hg(null);return Wd(bq.B(z(z(this))))},UD.prototype.hg=function(){return D.j(nz.B(z(z(this))),ep)?(uE(this,XA.B(z(z(this))),!0),bi.P(z(this),Q,XA,Cf)):FE(this)},UD.Ab=!0,UD.sb="cljs.pprint/t_cljs$pprint22800",UD.Eb=function(f){return Vd(f,"cljs.pprint/t_cljs$pprint22800")};return new UD(a,
b,c,d,e,V)}function KE(a,b){var c=uc;b=new lE(xr.B(z(z(c))),null,$h(0),$h(0),$h(!1),$h(!1),a,null,b,null,null,null,null);bi.P(z(c),Q,xr,b);if(D.j(nz.B(z(z(c))),Rr)){FE(c);var d=KB.B(z(z(c)));r(d)&&(d.B?d.B(Yn):d.call(null,Yn));r(a)&&Vd(bq.B(z(z(c))),a);c=hE(bq.B(z(z(c))),lt);ai(b.Bb,c);ai(b.indent,c)}else d=tt.B(z(z(c))),a=d+(r(a)?K(a):0),bi.P(z(c),Q,tt,a),EE(c,new pE(nn,b,d,a,null,null,null))}
function LE(){var a=uc,b=xr.B(z(z(a))),c=OA.B(b);if(D.j(nz.B(z(z(a))),Rr)){FE(a);r(c)&&Vd(bq.B(z(z(a))),c);var d=KB.B(z(z(a)));r(d)&&(d.B?d.B(Yx):d.call(null,Yx))}else d=tt.B(z(z(a))),c=d+(r(c)?K(c):0),bi.P(z(a),Q,tt,c),EE(a,new qE(OC,b,d,c,null,null,null));bi.P(z(a),Q,xr,Yr.B(b))}var ME=!0,NE=null,IE=72,JE=40,OE=null,PE=null,QE=null,RE=null,SE=10,TE=0,UE=null;function VE(a){return(null!=a?a.J&32768||l===a.jh||(a.J?0:Mc(Bd,a)):Mc(Bd,a))?Nt.B(z(z(a))):!1}
function WE(a){var b=UE;r(b)&&(b=yc,b=r(b)?UE>=yc:b);Kc(ME)?$D.call(null,a):r(b)?Vd(uc,"..."):(r(UE)&&(UE+=1),NE.call(null,a));return b}var XE=function XE(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new Pe(c.slice(1),0,null):null;return XE.G(arguments[0],c)};
XE.G=function(a,b){var c=Kk.G(M([new q(null,1,[uC,!0],null),uh(Gk,b)]));b=SE;var d=PE,e=yc,f=zc,h=OE,k=JE,m=NE,n=ME,p=RE,u=xc,v=IE,y=QE,F=bq.j(c,SE),G=Vn.j(c,PE),I=uo.j(c,yc),N=Um.j(c,zc),P=Tv.j(c,OE),U=Cz.j(c,JE),ea=Sz.j(c,NE),fa=Tt.j(c,ME),sa=qu.j(c,RE),Ba=Cc.j(c,xc),Va=tp.j(c,IE),ma=Vr.j(c,QE);SE=F;PE=G;yc=I;zc=N;OE=P;JE=U;NE=ea;ME=fa;RE=sa;xc=Ba;IE=Va;QE=ma;try{var pa=new pc,za=bg(c,uC)?uC.B(c):!0,va=!0===za||null==za?new xe(pa):za;if(r(ME)){var Ca=Kc(VE(va));c=uc;uc=Ca?HE(va):va;try{WE(a),gE()}finally{uc=
c}}else{Ca=uc;uc=va;try{$D.call(null,a)}finally{uc=Ca}}!0===za&&sl(t.B(pa));return null==za?t.B(pa):null}finally{QE=y,IE=v,xc=u,RE=p,ME=n,NE=m,JE=k,OE=h,zc=f,yc=e,PE=d,SE=b}};XE.aa=1;XE.ca=function(a){var b=H(a);a=J(a);return this.G(b,a)};
function YE(){var a=new W(null,6,5,Y,[Cr,new W(null,2,5,Y,[Qg(jx,sC,new W(null,1,5,Y,[Xs],null)),Cv],null),iC,mq,Op,new W(null,2,5,Y,[sC,xC],null)],null);var b=z(ZE);a=$E.j?$E.j(a,b):$E.call(null,a,b);b=new pc;var c=uc;uc=new xe(b);try{var d=uc,e=Kc(VE(d)),f=uc;uc=e?HE(d):d;try{e=ME;ME=!0;try{WE(a)}finally{ME=e}D.j(0,hE(uc,lt))||Vd(uc,"\n");gE()}finally{uc=f}sl(t.B(b))}finally{uc=c}}
function aF(a,b){if(Kc(b.B?b.B(a):b.call(null,a)))throw Error(["Bad argument: ",t.B(a),". It must be one of ",t.B(b)].join(""));}function bF(){var a=zc;return r(a)?TE>=zc:a}function cF(a){aF(a,new Pk(null,new q(null,4,[qo,null,rA,null,ku,null,Mv,null],null),null));var b=uc;bi.P(z(b),Q,nz,ep);var c=tt.B(z(z(b))),d=xr.B(z(z(b)));EE(b,new oE(Hy,a,d,c,c,null,null,null))}
function dF(a,b){aF(a,new Pk(null,new q(null,2,[Cu,null,Qr,null],null),null));var c=uc,d=xr.B(z(z(c)));if(D.j(nz.B(z(z(c))),Rr)){FE(c);var e=CC.B(d);if(r(D.j?D.j(Cu,a):D.call(null,Cu,a)))a=z(Tr.B(d));else if(r(D.j?D.j(Qr,a):D.call(null,Qr,a)))a=hE(bq.B(z(z(c))),lt);else throw Error(["No matching clause: ",t.B(a)].join(""));ai(e,b+a)}else e=tt.B(z(z(c))),EE(c,new rE(Ax,d,a,b,e,e,null,null,null))}
function eF(a,b,c){b="string"===typeof b?fF(b):b;c=gF(c);a:{var d=new pc,e=Kc(a)||!0===a?new xe(d):a,f=hF(b)&&Kc(VE(e))?r(VE(e))?e:HE(e):e,h=uc;uc=f;try{try{iF(b,c)}finally{e!==f&&Wd(f)}var k=Kc(a)?t.B(d):!0===a?sl(t.B(d)):null;break a}finally{uc=h}k=void 0}return k}var jF=null;function kF(a,b){a=[t.B(a),"\n",t.B(jF),"\n",t.B(uh(t,oi(b," "))),"^\n"].join("");throw Error(a);}function lF(a,b,c,d,e,f){this.$c=a;this.rest=b;this.pos=c;this.F=d;this.D=e;this.I=f;this.J=2230716170;this.T=139264}g=lF.prototype;
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "seq":return this.$c;case "rest":return this.rest;case "pos":return this.pos;default:return B.C(this.D,b,c)}};g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#cljs.pprint.arg-navigator{",", ","}",c,T.j(new W(null,3,5,Y,[new W(null,2,5,Y,[Mp,this.$c],null),new W(null,2,5,Y,[Nu,this.rest],null),new W(null,2,5,Y,[tt,this.pos],null)],null),this.D))};g.pa=function(){return new uj(this,3,new W(null,3,5,Y,[Mp,Nu,tt],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};g.oa=function(){return new lF(this.$c,this.rest,this.pos,this.F,this.D,this.I)};g.ja=function(){return 3+K(this.D)};
g.ha=function(){var a=this.I;return null!=a?a:this.I=a=-402038447^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.$c,b.$c)&&D.j(this.rest,b.rest)&&D.j(this.pos,b.pos)&&D.j(this.D,b.D)};g.ya=function(a,b){return bg(new Pk(null,new q(null,3,[tt,null,Mp,null,Nu,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new lF(this.$c,this.rest,this.pos,this.F,Ah(R.j(this.D,b)),null)};
g.da=function(a,b,c){return r(S.j?S.j(Mp,b):S.call(null,Mp,b))?new lF(c,this.rest,this.pos,this.F,this.D,null):r(S.j?S.j(Nu,b):S.call(null,Nu,b))?new lF(this.$c,c,this.pos,this.F,this.D,null):r(S.j?S.j(tt,b):S.call(null,tt,b))?new lF(this.$c,this.rest,c,this.F,this.D,null):new lF(this.$c,this.rest,this.pos,this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(new W(null,3,5,Y,[new X(Mp,this.$c,null),new X(Nu,this.rest,null),new X(tt,this.pos,null)],null),this.D))};
g.ga=function(a,b){return new lF(this.$c,this.rest,this.pos,b,this.D,this.I)};g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};function gF(a){a=E(a);return new lF(a,a,0,null,null,null)}function mF(a){var b=Nu.B(a);if(r(b))return new W(null,2,5,Y,[H(b),new lF(Mp.B(a),J(b),tt.B(a)+1,null,null,null)],null);throw Error("Not enough arguments for format definition");}
function nF(a){var b=mF(a);a=O(b,0,null);b=O(b,1,null);a="string"===typeof a?fF(a):a;return new W(null,2,5,Y,[a,b],null)}function oF(a,b){return b>=tt.B(a)?(b=tt.B(a)-b,pF.j?pF.j(a,b):pF.call(null,a,b)):new lF(Mp.B(a),ji(b,Mp.B(a)),b,null,null,null)}function pF(a,b){var c=tt.B(a)+b;return 0>b?oF(a,c):new lF(Mp.B(a),ji(b,Nu.B(a)),c,null,null,null)}function qF(a,b,c,d,e,f,h){this.Mc=a;this.def=b;this.params=c;this.offset=d;this.F=e;this.D=f;this.I=h;this.J=2230716170;this.T=139264}g=qF.prototype;
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "func":return this.Mc;case "def":return this.def;case "params":return this.params;case "offset":return this.offset;default:return B.C(this.D,b,c)}};g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#cljs.pprint.compiled-directive{",", ","}",c,T.j(new W(null,4,5,Y,[new W(null,2,5,Y,[wx,this.Mc],null),new W(null,2,5,Y,[Vo,this.def],null),new W(null,2,5,Y,[Gu,this.params],null),new W(null,2,5,Y,[Qu,this.offset],null)],null),this.D))};g.pa=function(){return new uj(this,4,new W(null,4,5,Y,[wx,Vo,Gu,Qu],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};
g.oa=function(){return new qF(this.Mc,this.def,this.params,this.offset,this.F,this.D,this.I)};g.ja=function(){return 4+K(this.D)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=-829256337^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Mc,b.Mc)&&D.j(this.def,b.def)&&D.j(this.params,b.params)&&D.j(this.offset,b.offset)&&D.j(this.D,b.D)};
g.ya=function(a,b){return bg(new Pk(null,new q(null,4,[Qu,null,wx,null,Gu,null,Vo,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new qF(this.Mc,this.def,this.params,this.offset,this.F,Ah(R.j(this.D,b)),null)};
g.da=function(a,b,c){return r(S.j?S.j(wx,b):S.call(null,wx,b))?new qF(c,this.def,this.params,this.offset,this.F,this.D,null):r(S.j?S.j(Vo,b):S.call(null,Vo,b))?new qF(this.Mc,c,this.params,this.offset,this.F,this.D,null):r(S.j?S.j(Gu,b):S.call(null,Gu,b))?new qF(this.Mc,this.def,c,this.offset,this.F,this.D,null):r(S.j?S.j(Qu,b):S.call(null,Qu,b))?new qF(this.Mc,this.def,this.params,c,this.F,this.D,null):new qF(this.Mc,this.def,this.params,this.offset,this.F,Q.C(this.D,b,c),null)};
g.ia=function(){return E(T.j(new W(null,4,5,Y,[new X(wx,this.Mc,null),new X(Vo,this.def,null),new X(Gu,this.params,null),new X(Qu,this.offset,null)],null),this.D))};g.ga=function(a,b){return new qF(this.Mc,this.def,this.params,this.offset,b,this.D,this.I)};g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};
function rF(a,b){var c=O(a,0,null);a=O(a,1,null);var d=O(a,0,null);a=O(a,1,null);d=bg(new Pk(null,new q(null,2,[Vv,null,Pz,null],null),null),c)?new W(null,2,5,Y,[d,b],null):D.j(d,qA)?mF(b):D.j(d,et)?new W(null,2,5,Y,[K(Nu.B(b)),b],null):new W(null,2,5,Y,[d,b],null);b=O(d,0,null);d=O(d,1,null);return new W(null,2,5,Y,[new W(null,2,5,Y,[c,new W(null,2,5,Y,[b,a],null)],null),d],null)}function sF(a,b){b=cE(rF,b,a);a=O(b,0,null);b=O(b,1,null);return new W(null,2,5,Y,[yi.j(V,a),b],null)}
var tF=new q(null,3,[2,"#b",8,"#o",16,"#x"],null);function uF(a){return ag(a)?D.j(SE,10)?[t.B(a),r(RE)?".":null].join(""):[t.B(r(RE)?function(){var b=B.j(tF,SE);return r(b)?b:["#",t.B(SE),"r"].join("")}():null),t.B(vF(SE,a))].join(""):null}
function wF(a,b,c){c=mF(c);var d=O(c,0,null);c=O(c,1,null);var e=uF(d);a=r(e)?e:a.B?a.B(d):a.call(null,d);d=a.length;e=d+cw.B(b);e=e>=WB.B(b)?e:e+(Ig(WB.B(b)-e-1,Ar.B(b))+1)*Ar.B(b);d=uh(t,oi(e-d,Qs.B(b)));r(Pz.B(b))?ZD.G(M([[t.B(d),t.B(a)].join("")])):ZD.G(M([[t.B(a),t.B(d)].join("")]));return c}function xF(a,b){return Pg(H(dE(function(c){return 0<c?new W(null,2,5,Y,[Jg(c,a),Ig(c,a)],null):new W(null,2,5,Y,[null,null],null)},b)))}
function vF(a,b){return 0===b?"0":uh(t,hi.j(function(c){return 10>c?Fg(bE("0")+c):Fg(bE("a")+(c-10))},xF(a,b)))}function yF(a,b){return Pg(H(dE(function(c){return new W(null,2,5,Y,[E(Pg(ii.j(a,c))),E(ji(a,c))],null)},Pg(b))))}
function zF(a,b,c){c=mF(c);var d=O(c,0,null);c=O(c,1,null);if(ag(d)||"number"===typeof d&&!isNaN(d)&&Infinity!==d&&parseFloat(d)!==parseInt(d,10)&&D.j(d,Math.floor(d))){var e=0>d,f=vF(a,e?-d:d);a=r(Vv.B(b))?function(){var h=hi.j(function(m){return uh(t,m)},yF(Bt.B(b),f)),k=oi(K(h),Su.B(b));return uh(t,J(ri.j(k,h)))}():f;a=e?["-",t.B(a)].join(""):r(Pz.B(b))?["+",t.B(a)].join(""):a;a=a.length<WB.B(b)?[t.B(uh(t,oi(WB.B(b)-a.length,Qs.B(b)))),t.B(a)].join(""):a;ZD.G(M([a]))}else wF(Il,new q(null,5,[WB,
WB.B(b),Ar,1,cw,0,Qs,Qs.B(b),Pz,!0],null),gF(new W(null,1,5,Y,[d],null)));return c}
var AF=new W(null,20,5,Y,"zero one two three four five six seven eight nine ten eleven twelve thirteen fourteen fifteen sixteen seventeen eighteen nineteen".split(" "),null),BF=new W(null,20,5,Y,"zeroth first second third fourth fifth sixth seventh eighth ninth tenth eleventh twelfth thirteenth fourteenth fifteenth sixteenth seventeenth eighteenth nineteenth".split(" "),null),CF=new W(null,10,5,Y,"  twenty thirty forty fifty sixty seventy eighty ninety".split(" "),null),DF=new W(null,10,5,Y,"  twentieth thirtieth fortieth fiftieth sixtieth seventieth eightieth ninetieth".split(" "),
null),EF=new W(null,22,5,Y," thousand million billion trillion quadrillion quintillion sextillion septillion octillion nonillion decillion undecillion duodecillion tredecillion quattuordecillion quindecillion sexdecillion septendecillion octodecillion novemdecillion vigintillion".split(" "),null);
function FF(a){var b=Ig(a,100),c=Jg(a,100);return[0<b?[t.B(of(AF,b))," hundred"].join(""):null,0<b&&0<c?" ":null,t.B(0<c?20>c?of(AF,c):function(){var d=Ig(c,10),e=Jg(c,10);return[t.B(0<d?of(CF,d):null),0<d&&0<e?"-":null,t.B(0<e?of(AF,e):null)].join("")}():null)].join("")}
function GF(a,b){var c=K(a),d=Cf;--c;var e=H(a);for(a=J(a);;){if(null==a)return[t.B(uh(t,ji(1,ri.j(ni(", "),d)))),Mf(e)||Mf(d)?null:", ",t.B(e),!Mf(e)&&0<c+b?[" ",t.B(of(EF,c+b))].join(""):null].join("");d=Mf(e)?d:Bf.j(d,[t.B(e)," ",t.B(of(EF,c+b))].join(""));--c;e=H(a);a=J(a)}}
function HF(a){var b=Ig(a,100),c=Jg(a,100);return[0<b?[t.B(of(AF,b))," hundred"].join(""):null,0<b&&0<c?" ":null,t.B(0<c?20>c?of(BF,c):function(){var d=Ig(c,10),e=Jg(c,10);return 0<d&&!(0<e)?of(DF,d):[t.B(0<d?of(CF,d):null),0<d&&0<e?"-":null,t.B(0<e?of(BF,e):null)].join("")}():0<b?"th":null)].join("")}
var IF=new W(null,4,5,Y,[new W(null,9,5,Y,"I II III IIII V VI VII VIII VIIII".split(" "),null),new W(null,9,5,Y,"X XX XXX XXXX L LX LXX LXXX LXXXX".split(" "),null),new W(null,9,5,Y,"C CC CCC CCCC D DC DCC DCCC DCCCC".split(" "),null),new W(null,3,5,Y,["M","MM","MMM"],null)],null),JF=new W(null,4,5,Y,[new W(null,9,5,Y,"I II III IV V VI VII VIII IX".split(" "),null),new W(null,9,5,Y,"X XX XXX XL L LX LXX LXXX XC".split(" "),null),new W(null,9,5,Y,"C CC CCC CD D DC DCC DCCC CM".split(" "),null),new W(null,
3,5,Y,["M","MM","MMM"],null)],null);function KF(a,b){b=mF(b);var c=O(b,0,null);b=O(b,1,null);if("number"===typeof c&&0<c&&4E3>c){var d=xF(10,c);c=Cf;for(var e=K(d)-1;;)if(Mf(d)){ZD.G(M([uh(t,c)]));break}else{var f=H(d);c=D.j(0,f)?c:Bf.j(c,of(of(a,e),f-1));--e;d=J(d)}}else zF(10,new q(null,5,[WB,0,Qs," ",Su,",",Bt,3,Vv,!0],null),gF(new W(null,1,5,Y,[c],null)));return b}var LF=new q(null,5,[8,"Backspace",9,"Tab",10,"Newline",13,"Return",32,"Space"],null);
function MF(a,b){a=mF(b);b=O(a,0,null);a=O(a,1,null);var c=bE(b);b=c&127;c&=128;var d=B.j(LF,b);0<c&&ZD.G(M(["Meta-"]));ZD.G(M([r(d)?d:32>b?["Control-",t.B(Fg(b+64))].join(""):D.j(b,127)?"Control-?":Fg(b)]));return a}
function NF(a,b){var c=mF(b);b=O(c,0,null);c=O(c,1,null);a=jz.B(a);if(r(D.j?D.j("o",a):D.call(null,"o",a)))eF(!0,"\\o~3, '0o",M([bE(b)]));else if(r(D.j?D.j("u",a):D.call(null,"u",a)))eF(!0,"\\u~4, '0x",M([bE(b)]));else if(r(D.j?D.j(null,a):D.call(null,null,a)))Vd(uc,r(D.j?D.j("\b",b):D.call(null,"\b",b))?"\\backspace":r(D.j?D.j(" ",b):D.call(null," ",b))?"\\space":r(D.j?D.j("\t",b):D.call(null,"\t",b))?"\\tab":r(D.j?D.j("\n",b):D.call(null,"\n",b))?"\\newline":r(D.j?D.j("\f",b):D.call(null,"\f",b))?
"\\formfeed":r(D.j?D.j("\r",b):D.call(null,"\r",b))?"\\return":r(D.j?D.j('"',b):D.call(null,'"',b))?'\\"':r(D.j?D.j("\\",b):D.call(null,"\\",b))?"\\\\":["\\",t.B(b)].join(""));else throw Error(["No matching clause: ",t.B(a)].join(""));return c}function OF(a,b){b=mF(b);a=O(b,0,null);b=O(b,1,null);ZD.G(M([a]));return b}function PF(a){a=H(a);return D.j(DB,a)||D.j(iy,a)}
function QF(a,b,c){return yf(cE(function(d,e){if(PF(e))return new W(null,2,5,Y,[null,e],null);e=sF(Gu.B(d),e);var f=O(e,0,null);e=O(e,1,null);var h=eE(f);f=O(h,0,null);h=O(h,1,null);f=Q.C(f,Ko,c);return new W(null,2,5,Y,[null,uh(wx.B(d),new W(null,3,5,Y,[f,e,h],null))],null)},b,a))}
function RF(a){a=t.B(a).toLowerCase();var b=a.indexOf("e"),c=a.indexOf(".");a=0>b?0>c?new W(null,2,5,Y,[a,t.B(a.length-1)],null):new W(null,2,5,Y,[[Mg.C(a,0,c),Mg.j(a,c+1)].join(""),t.B(c-1)],null):0>c?new W(null,2,5,Y,[Mg.C(a,0,b),Mg.j(a,b+1)],null):new W(null,2,5,Y,[[Mg.C(a,0,1),Mg.C(a,2,b)].join(""),Mg.j(a,b+1)],null);b=O(a,0,null);a=O(a,1,null);a:if(c=K(b),0<c&&D.j(of(b,K(b)-1),"0"))for(--c;;){if(0>c){b="";break a}if(D.j(of(b,c),"0"))--c;else{b=Mg.C(b,0,c+1);break a}}a:{c=b;var d=K(c);if(0<d&&
D.j(of(c,0),"0"))for(var e=0;;){if(D.j(e,d)||!D.j(of(c,e),"0")){c=Mg.j(c,e);break a}e+=1}}b=K(b)-K(c);a=0<K(a)&&D.j(of(a,0),"+")?Mg.j(a,1):a;return Mf(c)?new W(null,2,5,Y,["0",0],null):new W(null,2,5,Y,[c,parseInt(a,10)-b],null)}
function SF(a,b,c,d){if(r(r(c)?c:d)){var e=K(a);d=r(d)?2>d?2:d:0;r(c)?c=b+c+1:0<=b?(c=b+1,--d,c=c>d?c:d):c=d+b;var f=D.j(c,0)?new W(null,4,5,Y,[["0",t.B(a)].join(""),b+1,1,e+1],null):new W(null,4,5,Y,[a,b,c,e],null);c=O(f,0,null);e=O(f,1,null);d=O(f,2,null);f=O(f,3,null);if(r(d)){if(0>d)return new W(null,3,5,Y,["0",0,!1],null);if(f>d){b=of(c,d);a=Mg.C(c,0,d);if(bE(b)>=bE("5")){a:for(b=K(a)-1,c=b|0;;){if(0>c){b=vh(t,"1",oi(b+1,"0"));break a}if(D.j("9",a.charAt(c)))--c;else{b=wh(t,Mg.C(a,0,c),Fg(bE(a.charAt(c))+
1),oi(b-c,"0"));break a}}a=K(b)>a.length;return new W(null,3,5,Y,[a?Mg.C(b,0,K(b)-1):b,e,a],null)}return new W(null,3,5,Y,[a,e,!1],null)}}}return new W(null,3,5,Y,[a,b,!1],null)}function TF(a,b,c){var d=0>b?new W(null,2,5,Y,[[t.B(uh(t,oi(-b-1,"0"))),t.B(a)].join(""),-1],null):new W(null,2,5,Y,[a,b],null);a=O(d,0,null);var e=O(d,1,null);d=K(a);c=r(c)?e+c+1:e+1;c=d<c?[t.B(a),t.B(uh(t,oi(c-d,"0")))].join(""):a;0>b?b=[".",t.B(c)].join(""):(b+=1,b=[Mg.C(c,0,b),".",Mg.j(c,b)].join(""));return b}
function UF(a,b){return 0>b?[".",t.B(a)].join(""):[Mg.C(a,0,b),".",Mg.j(a,b)].join("")}
function VF(a,b){var c=mx.B(a),d=gx.B(a);b=mF(b);var e=O(b,0,null);b=O(b,1,null);var f=0>e?new W(null,2,5,Y,["-",-e],null):new W(null,2,5,Y,["+",e],null),h=O(f,0,null);f=O(f,1,null);f=RF(f);var k=O(f,0,null),m=O(f,1,null)+$w.B(a);f=Pz.B(a);e=r(f)?f:0>e;f=Kc(d)&&K(k)-1<=m;var n=SF(k,m,d,r(c)?c-(r(e)?1:0):null);k=O(n,0,null);m=O(n,1,null);n=O(n,2,null);k=TF(k,r(n)?m+1:m,d);d=r(r(c)?r(d)?1<=d&&D.j(k.charAt(0),"0")&&D.j(k.charAt(1),".")&&k.length>c-(r(e)?1:0):d:c)?Mg.j(k,1):k;m=D.j(H(d),".");r(c)?(k=
d.length,k=r(e)?k+1:k,m=m&&!(k>=c),f=f&&!(k>=c),k=m||f?k+1:k,r(k>c?PB.B(a):!1)?ZD.G(M([uh(t,oi(c,PB.B(a)))])):ZD.G(M([[t.B(uh(t,oi(c-k,Qs.B(a)))),t.B(r(e)?h:null),m?"0":null,d,f?"0":null].join("")]))):ZD.G(M([[t.B(r(e)?h:null),m?"0":null,d,f?"0":null].join("")]));return b}
function WF(a,b){b=mF(b);var c=O(b,0,null);b=O(b,1,null);var d=RF(0>c?-c:c);O(d,0,null);for(O(d,1,null);;){var e=O(d,0,null),f=O(d,1,null),h=mx.B(a),k=gx.B(a),m=dx.B(a),n=$w.B(a),p=function(){var I=Bp.B(a);return r(I)?I:"E"}();d=function(){var I=Pz.B(a);return r(I)?I:0>c}();var u=0>=n,v=f-(n-1),y=t.B(Math.abs(v));p=[t.B(p),0>v?"-":"+",t.B(r(m)?uh(t,oi(m-y.length,"0")):null),y].join("");var F=p.length;v=K(e);e=[t.B(uh(t,oi(-n,"0"))),t.B(e),t.B(r(k)?uh(t,oi(k-(v-1)-(0>n?-n:0),"0")):null)].join("");
v=r(h)?h-F:null;e=SF(e,0,D.j(n,0)?k-1:0<n?k:0>n?k-1:null,r(v)?v-(r(d)?1:0):null);v=O(e,0,null);O(e,1,null);y=O(e,2,null);e=UF(v,n);k=D.j(n,K(v))&&null==k;if(Kc(y)){if(r(h)){f=e.length+F;f=r(d)?f+1:f;var G=(u=u&&!D.j(f,h))?f+1:f;f=k&&G<h;r(function(){var I=G>h;I||(I=m,I=r(I)?F-2>m:I);return r(I)?PB.B(a):I}())?ZD.G(M([uh(t,oi(h,PB.B(a)))])):ZD.G(M([[t.B(uh(t,oi(h-G-(f?1:0),Qs.B(a)))),r(d)?0>c?"-":"+":null,u?"0":null,e,f?"0":null,p].join("")]))}else ZD.G(M([[r(d)?0>c?"-":"+":null,u?"0":null,e,k?"0":
null,p].join("")]));break}else d=new W(null,2,5,Y,[v,f+1],null)}return b}function XF(a,b,c){var d=mF(b),e=O(d,0,null);O(d,1,null);d=RF(0>e?-e:e);var f=O(d,0,null);d=O(d,1,null);var h=mx.B(a),k=gx.B(a),m=dx.B(a);d=D.j(e,0)?0:d+1;e=r(m)?m+2:4;h=r(h)?h-e:null;r(k)?f=k:(f=K(f),k=7>d?d:7,f=f>k?f:k);d=f-d;return 0<=d&&d<=f?(a=VF(new q(null,6,[mx,h,gx,d,$w,0,PB,PB.B(a),Qs,Qs.B(a),Pz,Pz.B(a)],null),b,c),ZD.G(M([uh(t,oi(e," "))])),a):WF(a,b,c)}
function YF(a,b){b=mF(b);var c=O(b,0,null);b=O(b,1,null);var d=RF(Math.abs(c)),e=O(d,0,null),f=O(d,1,null),h=gx.B(a),k=ux.B(a);d=mx.B(a);var m=function(){var p=Pz.B(a);return r(p)?p:0>c}(),n=SF(e,f,h,null);e=O(n,0,null);f=O(n,1,null);n=O(n,2,null);h=TF(e,r(n)?f+1:f,h);k=[t.B(uh(t,oi(k-h.indexOf("."),"0"))),h].join("");h=k.length+(r(m)?1:0);ZD.G(M([[r(function(){var p=Vv.B(a);return r(p)?m:p}())?0>c?"-":"+":null,t.B(uh(t,oi(d-h,Qs.B(a)))),r(Kc(Vv.B(a))?m:!1)?0>c?"-":"+":null,k].join("")]));return b}
function ZF(a,b){var c=pA.B(a);c=r(c)?new W(null,2,5,Y,[c,b],null):mF(b);b=O(c,0,null);c=O(c,1,null);var d=yz.B(a);b=0>b||b>=K(d)?H(Du.B(a)):of(d,b);return r(b)?QF(b,c,Ko.B(a)):c}function $F(a,b){var c=mF(b);b=O(c,0,null);c=O(c,1,null);var d=yz.B(a);b=r(b)?yf(d):H(d);return r(b)?QF(b,c,Ko.B(a)):c}function aG(a,b){var c=mF(b),d=O(c,0,null);c=O(c,1,null);var e=yz.B(a);e=r(d)?H(e):null;return r(d)?r(e)?QF(e,b,Ko.B(a)):b:c}
function bG(a,b){var c=kC.B(a),d=H(yz.B(a));d=Mf(d)?nF(b):new W(null,2,5,Y,[d,b],null);b=O(d,0,null);d=O(d,1,null);d=mF(d);var e=O(d,0,null);d=O(d,1,null);var f=0;e=gF(e);for(var h=-1;;){if(Kc(c)&&D.j(tt.B(e),h)&&1<f)throw Error("%{ construct not consuming any arguments: Infinite loop!");h=Mf(Nu.B(e))&&(Kc(Vv.B(oq.B(a)))||0<f);if(r(h?h:r(c)?f>=c:c))return d;h=QF(b,e,Ko.B(a));if(D.j(DB,H(h)))return d;f+=1;var k=tt.B(e);e=h;h=k}}
function cG(a,b){var c=kC.B(a),d=H(yz.B(a));d=Mf(d)?nF(b):new W(null,2,5,Y,[d,b],null);b=O(d,0,null);d=O(d,1,null);d=mF(d);var e=O(d,0,null);d=O(d,1,null);for(var f=0;;){var h=Mf(e)&&(Kc(Vv.B(oq.B(a)))||0<f);if(r(h?h:r(c)?f>=c:c))return d;h=QF(b,gF(H(e)),gF(J(e)));if(D.j(iy,H(h)))return d;f+=1;e=J(e)}}
function dG(a,b){var c=kC.B(a),d=H(yz.B(a)),e=Mf(d)?nF(b):new W(null,2,5,Y,[d,b],null);b=O(e,0,null);d=0;e=O(e,1,null);for(var f=-1;;){if(Kc(c)&&D.j(tt.B(e),f)&&1<d)throw Error("%@{ construct not consuming any arguments: Infinite loop!");f=Mf(Nu.B(e))&&(Kc(Vv.B(oq.B(a)))||0<d);if(r(f?f:r(c)?d>=c:c))return e;f=QF(b,e,Ko.B(a));if(D.j(DB,H(f)))return yf(f);d+=1;var h=tt.B(e);e=f;f=h}}
function eG(a,b){var c=kC.B(a),d=H(yz.B(a)),e=Mf(d)?nF(b):new W(null,2,5,Y,[d,b],null);b=O(e,0,null);d=0;for(e=O(e,1,null);;){var f=Mf(Nu.B(e))&&(Kc(Vv.B(oq.B(a)))||0<d);if(r(f?f:r(c)?d>=c:c))return e;f=Nu.B(e);f=r(f)?new W(null,2,5,Y,[H(f),new lF(Mp.B(e),J(f),tt.B(e)+1,null,null,null)],null):new W(null,2,5,Y,[null,e],null);e=O(f,0,null);f=O(f,1,null);e=QF(b,gF(e),f);if(D.j(iy,H(e)))return f;e=f;d+=1}}
function fG(a,b){if(r(Vv.B(oq.B(a)))){var c=yz.B(a),d=K(c),e=1<d?xn.B(Gu.B(H(H(c)))):r(Vv.B(a))?"(":null,f=of(c,1<d?1:0);c=2<d?xn.B(Gu.B(H(of(c,2)))):r(Vv.B(a))?")":null;d=mF(b);b=O(d,0,null);d=O(d,1,null);if(r(bF()))Vd(uc,"#");else{var h=TE,k=UE;TE+=1;UE=0;try{KE(e,c),QF(f,gF(b),Ko.B(a)),LE()}finally{UE=k,TE=h}}a=d}else a=gG(a,b);return a}
function hG(a,b,c){for(var d=Cf;;){if(Mf(a))return new W(null,2,5,Y,[d,b],null);var e=H(a);a:{var f=new pc,h=uc;uc=new xe(f);try{var k=new W(null,2,5,Y,[QF(e,b,c),t.B(f)],null);break a}finally{uc=h}k=void 0}b=O(k,0,null);e=O(k,1,null);if(D.j(DB,H(b)))return new W(null,2,5,Y,[d,yf(b)],null);a=J(a);d=Bf.j(d,e)}}
function gG(a,b){var c=function(){var P=Du.B(a);return r(P)?hG(P,b,Ko.B(a)):null}(),d=O(c,0,null);d=O(d,0,null);c=O(c,1,null);var e=r(c)?c:b;c=function(){var P=LC.B(a);return r(P)?sF(P,e):null}();var f=O(c,0,null);c=O(c,1,null);var h=r(c)?c:e;c=function(){var P=H(Ou.B(f));return r(P)?P:0}();var k=function(){var P=H(oz.B(f));return r(P)?P:hE(uc,pz)}(),m=yz.B(a);h=hG(m,h,Ko.B(a));var n=O(h,0,null);h=O(h,1,null);var p=function(){var P=K(n)-1+(r(Vv.B(a))?1:0)+(r(Pz.B(a))?1:0);return 1>P?1:P}();m=w.j(ug,
hi.j(K,n));var u=WB.B(a),v=cw.B(a),y=Ar.B(a),F=m+p*v;u=F<=u?u:u+y*(1+Ig(F-u-1,y));var G=u-m;m=function(){var P=Ig(G,p);return v>P?v:P}();y=G-m*p;m=uh(t,oi(m,Qs.B(a)));r(r(d)?hE(bq.B(z(z(uc))),lt)+c+u>k:d)&&ZD.G(M([d]));c=y;for(var I=n,N=function(){var P=Vv.B(a);return r(P)?P:D.j(K(I),1)&&Kc(Pz.B(a))}();;)if(E(I))ZD.G(M([[t.B(Kc(N)?H(I):null),t.B(r(function(){var P=N;return r(P)?P:(P=J(I))?P:Pz.B(a)}())?m:null),t.B(0<c?Qs.B(a):null)].join("")])),--c,I=d=r(N)?I:J(I),N=!1;else break;return h}
function iG(a){if("undefined"===typeof qc||"undefined"===typeof SD||"undefined"===typeof VD)VD=function(b,c){this.hb=b;this.oj=c;this.J=1074135040;this.T=0},VD.prototype.ga=function(b,c){return new VD(this.hb,c)},VD.prototype.fa=function(){return this.oj},VD.prototype.fd=function(){return Wd(this.hb)},VD.prototype.Gd=function(b,c){b=Nc(c);if(r(D.j?D.j(String,b):D.call(null,String,b)))return Vd(this.hb,c.toLowerCase());if(r(D.j?D.j(Number,b):D.call(null,Number,b)))return Vd(this.hb,Fg(c).toLowerCase());
throw Error(["No matching clause: ",t.B(b)].join(""));},VD.Ab=!0,VD.sb="cljs.pprint/t_cljs$pprint24591",VD.Eb=function(b){return Vd(b,"cljs.pprint/t_cljs$pprint24591")};return new VD(a,V)}
function jG(a){if("undefined"===typeof qc||"undefined"===typeof SD||"undefined"===typeof WD)WD=function(b,c){this.hb=b;this.pj=c;this.J=1074135040;this.T=0},WD.prototype.ga=function(b,c){return new WD(this.hb,c)},WD.prototype.fa=function(){return this.pj},WD.prototype.fd=function(){return Wd(this.hb)},WD.prototype.Gd=function(b,c){b=Nc(c);if(r(D.j?D.j(String,b):D.call(null,String,b)))return Vd(this.hb,c.toUpperCase());if(r(D.j?D.j(Number,b):D.call(null,Number,b)))return Vd(this.hb,Fg(c).toUpperCase());
throw Error(["No matching clause: ",t.B(b)].join(""));},WD.Ab=!0,WD.sb="cljs.pprint/t_cljs$pprint24632",WD.Eb=function(b){return Vd(b,"cljs.pprint/t_cljs$pprint24632")};return new WD(a,V)}
function kG(a,b){var c=H(a);a=r(r(b)?r(c)?Xb(c):c:b)?[c.toUpperCase(),Mg.j(a,1)].join(""):a;return uh(t,H(dE(function(d){if(Mf(d))return new W(null,2,5,Y,[null,null],null);var e=/\W\w/g.exec(d);e=r(e)?e.index+1:e;return r(e)?new W(null,2,5,Y,[[Mg.C(d,0,e),of(d,e).toUpperCase()].join(""),Mg.j(d,e+1)],null):new W(null,2,5,Y,[d,null],null)},a)))}
function lG(a){var b=$h(!0);if("undefined"===typeof qc||"undefined"===typeof SD||"undefined"===typeof XD)XD=function(c,d,e){this.hb=c;this.Qe=d;this.qj=e;this.J=1074135040;this.T=0},XD.prototype.ga=function(c,d){return new XD(this.hb,this.Qe,d)},XD.prototype.fa=function(){return this.qj},XD.prototype.fd=function(){return Wd(this.hb)},XD.prototype.Gd=function(c,d){c=Nc(d);if(r(D.j?D.j(String,c):D.call(null,String,c)))return Vd(this.hb,kG(d.toLowerCase(),z(this.Qe))),0<d.length?ai(this.Qe,Ib(of(d,K(d)-
1))):null;if(r(D.j?D.j(Number,c):D.call(null,Number,c)))return d=Fg(d),c=r(z(this.Qe))?d.toUpperCase():d,Vd(this.hb,c),ai(this.Qe,Ib(d));throw Error(["No matching clause: ",t.B(c)].join(""));},XD.Ab=!0,XD.sb="cljs.pprint/t_cljs$pprint24701",XD.Eb=function(c){return Vd(c,"cljs.pprint/t_cljs$pprint24701")};return new XD(a,b,V)}
function mG(a){var b=$h(!1);if("undefined"===typeof qc||"undefined"===typeof SD||"undefined"===typeof YD)YD=function(c,d,e){this.hb=c;this.oe=d;this.rj=e;this.J=1074135040;this.T=0},YD.prototype.ga=function(c,d){return new YD(this.hb,this.oe,d)},YD.prototype.fa=function(){return this.rj},YD.prototype.fd=function(){return Wd(this.hb)},YD.prototype.Gd=function(c,d){c=Nc(d);if(r(D.j?D.j(String,c):D.call(null,String,c)))return d=d.toLowerCase(),Kc(z(this.oe))?(c=/\S/g.exec(d),c=r(c)?c.index:c,r(c)?(Vd(this.hb,
[Mg.C(d,0,c),of(d,c).toUpperCase(),Mg.j(d,c+1).toLowerCase()].join("")),ai(this.oe,!0)):Vd(this.hb,d)):Vd(this.hb,d.toLowerCase());if(r(D.j?D.j(Number,c):D.call(null,Number,c)))return d=Fg(d),r(Kc(z(this.oe))?Xb(d):!1)?(ai(this.oe,!0),Vd(this.hb,d.toUpperCase())):Vd(this.hb,d.toLowerCase());throw Error(["No matching clause: ",t.B(c)].join(""));},YD.Ab=!0,YD.sb="cljs.pprint/t_cljs$pprint24759",YD.Eb=function(c){return Vd(c,"cljs.pprint/t_cljs$pprint24759")};return new YD(a,b,V)}
function nG(a,b){var c=r(Vv.B(a))?Qr:Cu;dF(c,ux.B(a));return b}function oG(a,b){a=r(Vv.B(a))?r(Pz.B(a))?qo:ku:r(Pz.B(a))?rA:Mv;cF(a);return b}
var pG=nk("ASDBOXRPCFEG$%\x26|~\nT*?()[;]{}\x3c\x3e^W_I".split(""),[new q(null,5,[Jp,"A",Gu,new q(null,4,[WB,new W(null,2,5,Y,[0,Number],null),Ar,new W(null,2,5,Y,[1,Number],null),cw,new W(null,2,5,Y,[0,Number],null),Qs,new W(null,2,5,Y,[" ",String],null)],null),ly,new Pk(null,new q(null,3,[Vv,null,Pz,null,Sx,null],null),null),CA,V,IB,function(){return function(a,b){return wF(Il,a,b)}}],null),new q(null,5,[Jp,"S",Gu,new q(null,4,[WB,new W(null,2,5,Y,[0,Number],null),Ar,new W(null,2,5,Y,[1,Number],
null),cw,new W(null,2,5,Y,[0,Number],null),Qs,new W(null,2,5,Y,[" ",String],null)],null),ly,new Pk(null,new q(null,3,[Vv,null,Pz,null,Sx,null],null),null),CA,V,IB,function(){return function(a,b){return wF(Gl,a,b)}}],null),new q(null,5,[Jp,"D",Gu,new q(null,4,[WB,new W(null,2,5,Y,[0,Number],null),Qs,new W(null,2,5,Y,[" ",String],null),Su,new W(null,2,5,Y,[",",String],null),Bt,new W(null,2,5,Y,[3,Number],null)],null),ly,new Pk(null,new q(null,3,[Vv,null,Pz,null,Sx,null],null),null),CA,V,IB,function(){return function(a,
b){return zF(10,a,b)}}],null),new q(null,5,[Jp,"B",Gu,new q(null,4,[WB,new W(null,2,5,Y,[0,Number],null),Qs,new W(null,2,5,Y,[" ",String],null),Su,new W(null,2,5,Y,[",",String],null),Bt,new W(null,2,5,Y,[3,Number],null)],null),ly,new Pk(null,new q(null,3,[Vv,null,Pz,null,Sx,null],null),null),CA,V,IB,function(){return function(a,b){return zF(2,a,b)}}],null),new q(null,5,[Jp,"O",Gu,new q(null,4,[WB,new W(null,2,5,Y,[0,Number],null),Qs,new W(null,2,5,Y,[" ",String],null),Su,new W(null,2,5,Y,[",",String],
null),Bt,new W(null,2,5,Y,[3,Number],null)],null),ly,new Pk(null,new q(null,3,[Vv,null,Pz,null,Sx,null],null),null),CA,V,IB,function(){return function(a,b){return zF(8,a,b)}}],null),new q(null,5,[Jp,"X",Gu,new q(null,4,[WB,new W(null,2,5,Y,[0,Number],null),Qs,new W(null,2,5,Y,[" ",String],null),Su,new W(null,2,5,Y,[",",String],null),Bt,new W(null,2,5,Y,[3,Number],null)],null),ly,new Pk(null,new q(null,3,[Vv,null,Pz,null,Sx,null],null),null),CA,V,IB,function(){return function(a,b){return zF(16,a,b)}}],
null),new q(null,5,[Jp,"R",Gu,new q(null,5,[bq,new W(null,2,5,Y,[null,Number],null),WB,new W(null,2,5,Y,[0,Number],null),Qs,new W(null,2,5,Y,[" ",String],null),Su,new W(null,2,5,Y,[",",String],null),Bt,new W(null,2,5,Y,[3,Number],null)],null),ly,new Pk(null,new q(null,3,[Vv,null,Pz,null,Sx,null],null),null),CA,V,IB,function(a){return r(H(bq.B(a)))?function(b,c){return zF(bq.B(b),b,c)}:r(function(){var b=Pz.B(a);return r(b)?Vv.B(a):b}())?function(b,c){return KF(IF,c)}:r(Pz.B(a))?function(b,c){return KF(JF,
c)}:r(Vv.B(a))?function(b,c){b=mF(c);c=O(b,0,null);b=O(b,1,null);if(D.j(0,c))ZD.G(M(["zeroth"]));else{var d=xF(1E3,0>c?-c:c);if(K(d)<=K(EF)){var e=hi.j(FF,ki(1,d));e=GF(e,1);d=HF(Af(d));ZD.G(M([[0>c?"minus ":null,Mf(e)||Mf(d)?Mf(e)?d:[e,"th"].join(""):[e,", ",d].join("")].join("")]))}else zF(10,new q(null,5,[WB,0,Qs," ",Su,",",Bt,3,Vv,!0],null),gF(new W(null,1,5,Y,[c],null))),d=Jg(c,100),c=11<d||19>d,d=Jg(d,10),ZD.G(M([1===d&&c?"st":2===d&&c?"nd":3===d&&c?"rd":"th"]))}return b}:function(b,c){c=mF(c);
b=O(c,0,null);c=O(c,1,null);if(D.j(0,b))ZD.G(M(["zero"]));else{var d=xF(1E3,0>b?-b:b);K(d)<=K(EF)?(d=hi.j(FF,d),d=GF(d,0),ZD.G(M([[0>b?"minus ":null,d].join("")]))):zF(10,new q(null,5,[WB,0,Qs," ",Su,",",Bt,3,Vv,!0],null),gF(new W(null,1,5,Y,[b],null)))}return c}}],null),new q(null,5,[Jp,"P",Gu,V,ly,new Pk(null,new q(null,3,[Vv,null,Pz,null,Sx,null],null),null),CA,V,IB,function(){return function(a,b){b=r(Vv.B(a))?pF(b,-1):b;a=r(Pz.B(a))?new W(null,2,5,Y,["y","ies"],null):new W(null,2,5,Y,["","s"],
null);var c=mF(b);b=O(c,0,null);c=O(c,1,null);ZD.G(M([D.j(b,1)?H(a):yf(a)]));return c}}],null),new q(null,5,[Jp,"C",Gu,new q(null,1,[jz,new W(null,2,5,Y,[null,String],null)],null),ly,new Pk(null,new q(null,3,[Vv,null,Pz,null,Sx,null],null),null),CA,V,IB,function(a){return r(Vv.B(a))?MF:r(Pz.B(a))?NF:OF}],null),new q(null,5,[Jp,"F",Gu,new q(null,5,[mx,new W(null,2,5,Y,[null,Number],null),gx,new W(null,2,5,Y,[null,Number],null),$w,new W(null,2,5,Y,[0,Number],null),PB,new W(null,2,5,Y,[null,String],
null),Qs,new W(null,2,5,Y,[" ",String],null)],null),ly,new Pk(null,new q(null,1,[Pz,null],null),null),CA,V,IB,function(){return VF}],null),new q(null,5,[Jp,"E",Gu,new q(null,7,[mx,new W(null,2,5,Y,[null,Number],null),gx,new W(null,2,5,Y,[null,Number],null),dx,new W(null,2,5,Y,[null,Number],null),$w,new W(null,2,5,Y,[1,Number],null),PB,new W(null,2,5,Y,[null,String],null),Qs,new W(null,2,5,Y,[" ",String],null),Bp,new W(null,2,5,Y,[null,String],null)],null),ly,new Pk(null,new q(null,1,[Pz,null],null),
null),CA,V,IB,function(){return WF}],null),new q(null,5,[Jp,"G",Gu,new q(null,7,[mx,new W(null,2,5,Y,[null,Number],null),gx,new W(null,2,5,Y,[null,Number],null),dx,new W(null,2,5,Y,[null,Number],null),$w,new W(null,2,5,Y,[1,Number],null),PB,new W(null,2,5,Y,[null,String],null),Qs,new W(null,2,5,Y,[" ",String],null),Bp,new W(null,2,5,Y,[null,String],null)],null),ly,new Pk(null,new q(null,1,[Pz,null],null),null),CA,V,IB,function(){return XF}],null),new q(null,5,[Jp,"$",Gu,new q(null,4,[gx,new W(null,
2,5,Y,[2,Number],null),ux,new W(null,2,5,Y,[1,Number],null),mx,new W(null,2,5,Y,[0,Number],null),Qs,new W(null,2,5,Y,[" ",String],null)],null),ly,new Pk(null,new q(null,3,[Vv,null,Pz,null,Sx,null],null),null),CA,V,IB,function(){return YF}],null),new q(null,5,[Jp,"%",Gu,new q(null,1,[xz,new W(null,2,5,Y,[1,Number],null)],null),ly,Rk,CA,V,IB,function(){return function(a,b){a=xz.B(a);for(var c=0;;)if(c<a)aE(),c+=1;else break;return b}}],null),new q(null,5,[Jp,"\x26",Gu,new q(null,1,[xz,new W(null,2,
5,Y,[1,Number],null)],null),ly,new Pk(null,new q(null,1,[Tt,null],null),null),CA,V,IB,function(){return function(a,b){a=xz.B(a);0<a&&((null!=uc?uc.J&32768||l===uc.jh||(uc.J?0:Mc(Bd,uc)):Mc(Bd,uc))?D.j(0,hE(bq.B(z(z(uc))),lt))||aE():aE());--a;for(var c=0;;)if(c<a)aE(),c+=1;else break;return b}}],null),new q(null,5,[Jp,"|",Gu,new q(null,1,[xz,new W(null,2,5,Y,[1,Number],null)],null),ly,Rk,CA,V,IB,function(){return function(a,b){a=xz.B(a);for(var c=0;;)if(c<a)ZD.G(M(["\f"])),c+=1;else break;return b}}],
null),new q(null,5,[Jp,"~",Gu,new q(null,1,[ux,new W(null,2,5,Y,[1,Number],null)],null),ly,Rk,CA,V,IB,function(){return function(a,b){a=ux.B(a);ZD.G(M([uh(t,oi(a,"~"))]));return b}}],null),new q(null,5,[Jp,"\n",Gu,V,ly,new Pk(null,new q(null,2,[Vv,null,Pz,null],null),null),CA,V,IB,function(){return function(a,b){r(Pz.B(a))&&aE();return b}}],null),new q(null,5,[Jp,"T",Gu,new q(null,2,[zA,new W(null,2,5,Y,[1,Number],null),Ar,new W(null,2,5,Y,[1,Number],null)],null),ly,new Pk(null,new q(null,2,[Pz,null,
Tt,null],null),null),CA,V,IB,function(a){return r(Pz.B(a))?function(b,c){var d=zA.B(b);b=Ar.B(b);var e=d+hE(bq.B(z(z(uc))),lt);e=0<b?Jg(e,b):0;d+=D.j(0,e)?0:b-e;ZD.G(M([uh(t,oi(d," "))]));return c}:function(b,c){var d=zA.B(b);b=Ar.B(b);var e=hE(bq.B(z(z(uc))),lt);d=e<d?d-e:D.j(b,0)?0:b-Jg(e-d,b);ZD.G(M([uh(t,oi(d," "))]));return c}}],null),new q(null,5,[Jp,"*",Gu,new q(null,1,[ux,new W(null,2,5,Y,[1,Number],null)],null),ly,new Pk(null,new q(null,2,[Vv,null,Pz,null],null),null),CA,V,IB,function(){return function(a,
b){var c=ux.B(a);return r(Pz.B(a))?oF(b,c):pF(b,r(Vv.B(a))?-c:c)}}],null),new q(null,5,[Jp,"?",Gu,V,ly,new Pk(null,new q(null,1,[Pz,null],null),null),CA,V,IB,function(a){return r(Pz.B(a))?function(b,c){var d=nF(c);c=O(d,0,null);d=O(d,1,null);return QF(c,d,Ko.B(b))}:function(b,c){var d=nF(c);c=O(d,0,null);d=O(d,1,null);var e=mF(d);d=O(e,0,null);e=O(e,1,null);d=gF(d);QF(c,d,Ko.B(b));return e}}],null),new q(null,5,[Jp,"(",Gu,V,ly,new Pk(null,new q(null,3,[Vv,null,Pz,null,Sx,null],null),null),CA,new q(null,
3,[qr,")",ey,null,Du,null],null),IB,function(a){var b=r(function(){var c=Pz.B(a);return r(c)?Vv.B(a):c}())?jG:r(Vv.B(a))?lG:r(Pz.B(a))?mG:iG;return function(c,d){a:{var e=H(yz.B(c)),f=uc;uc=b.B?b.B(uc):b.call(null,uc);try{var h=QF(e,d,Ko.B(c));break a}finally{uc=f}h=void 0}return h}}],null),new q(null,5,[Jp,")",Gu,V,ly,Rk,CA,V,IB,function(){return null}],null),new q(null,5,[Jp,"[",Gu,new q(null,1,[pA,new W(null,2,5,Y,[null,Number],null)],null),ly,new Pk(null,new q(null,2,[Vv,null,Pz,null],null),null),
CA,new q(null,3,[qr,"]",ey,!0,Du,Ww],null),IB,function(a){return r(Vv.B(a))?$F:r(Pz.B(a))?aG:ZF}],null),new q(null,5,[Jp,";",Gu,new q(null,2,[Ou,new W(null,2,5,Y,[null,Number],null),oz,new W(null,2,5,Y,[null,Number],null)],null),ly,new Pk(null,new q(null,1,[Vv,null],null),null),CA,new q(null,1,[Gt,!0],null),IB,function(){return null}],null),new q(null,5,[Jp,"]",Gu,V,ly,Rk,CA,V,IB,function(){return null}],null),new q(null,5,[Jp,"{",Gu,new q(null,1,[kC,new W(null,2,5,Y,[null,Number],null)],null),ly,
new Pk(null,new q(null,3,[Vv,null,Pz,null,Sx,null],null),null),CA,new q(null,2,[qr,"}",ey,!1],null),IB,function(a){var b=Pz.B(a);b=r(b)?Vv.B(a):b;return r(b)?eG:r(Vv.B(a))?cG:r(Pz.B(a))?dG:bG}],null),new q(null,5,[Jp,"}",Gu,V,ly,new Pk(null,new q(null,1,[Vv,null],null),null),CA,V,IB,function(){return null}],null),new q(null,5,[Jp,"\x3c",Gu,new q(null,4,[WB,new W(null,2,5,Y,[0,Number],null),Ar,new W(null,2,5,Y,[1,Number],null),cw,new W(null,2,5,Y,[0,Number],null),Qs,new W(null,2,5,Y,[" ",String],null)],
null),ly,new Pk(null,new q(null,4,[Vv,null,Pz,null,Sx,null,Tt,null],null),null),CA,new q(null,3,[qr,"\x3e",ey,!0,Du,qq],null),IB,function(){return fG}],null),new q(null,5,[Jp,"\x3e",Gu,V,ly,new Pk(null,new q(null,1,[Vv,null],null),null),CA,V,IB,function(){return null}],null),new q(null,5,[Jp,"^",Gu,new q(null,3,[pB,new W(null,2,5,Y,[null,Number],null),rB,new W(null,2,5,Y,[null,Number],null),nB,new W(null,2,5,Y,[null,Number],null)],null),ly,new Pk(null,new q(null,1,[Vv,null],null),null),CA,V,IB,function(){return function(a,
b){var c=pB.B(a),d=rB.B(a),e=nB.B(a),f=r(Vv.B(a))?iy:DB;return r(r(c)?r(d)?e:d:c)?c<=d&&d<=e?new W(null,2,5,Y,[f,b],null):b:r(r(c)?d:c)?D.j(c,d)?new W(null,2,5,Y,[f,b],null):b:r(c)?D.j(c,0)?new W(null,2,5,Y,[f,b],null):b:(r(Vv.B(a))?Mf(Nu.B(Ko.B(a))):Mf(Nu.B(b)))?new W(null,2,5,Y,[f,b],null):b}}],null),new q(null,5,[Jp,"W",Gu,V,ly,new Pk(null,new q(null,4,[Vv,null,Pz,null,Sx,null,Tt,null],null),null),CA,V,IB,function(a){if(r(function(){var c=Pz.B(a);return r(c)?c:Vv.B(a)}())){var b=T.j(r(Pz.B(a))?
new W(null,4,5,Y,[Um,null,uo,null],null):Cf,r(Vv.B(a))?new W(null,2,5,Y,[Tt,!0],null):Cf);return function(c,d){d=mF(d);c=O(d,0,null);d=O(d,1,null);return r(vh(XE,c,b))?new W(null,2,5,Y,[DB,d],null):d}}return function(c,d){d=mF(d);c=O(d,0,null);d=O(d,1,null);return r(WE(c))?new W(null,2,5,Y,[DB,d],null):d}}],null),new q(null,5,[Jp,"_",Gu,V,ly,new Pk(null,new q(null,3,[Vv,null,Pz,null,Sx,null],null),null),CA,V,IB,function(){return oG}],null),new q(null,5,[Jp,"I",Gu,new q(null,1,[ux,new W(null,2,5,Y,
[0,Number],null)],null),ly,new Pk(null,new q(null,1,[Vv,null],null),null),CA,V,IB,function(){return nG}],null)]),qG=/^([vV]|#|('.)|([+-]?\d+)|(?=,))/,rG=new Pk(null,new q(null,2,[et,null,qA,null],null),null);
function sG(a){var b=O(a,0,null),c=O(a,1,null),d=O(a,2,null);a=new RegExp(qG.source,"g");var e=a.exec(b);return r(e)?(d=H(e),b=Mg.j(b,a.lastIndex),a=c+a.lastIndex,D.j(",",of(b,0))?new W(null,2,5,Y,[new W(null,2,5,Y,[d,c],null),new W(null,3,5,Y,[Mg.j(b,1),a+1,!0],null)],null):new W(null,2,5,Y,[new W(null,2,5,Y,[d,c],null),new W(null,3,5,Y,[b,a,!1],null)],null)):r(d)?kF("Badly formed parameters in format directive",c):new W(null,2,5,Y,[null,new W(null,2,5,Y,[b,c],null)],null)}
function tG(a){var b=O(a,0,null);a=O(a,1,null);return new W(null,2,5,Y,[D.j(b.length,0)?null:D.j(b.length,1)&&bg(new Pk(null,new q(null,2,["V",null,"v",null],null),null),of(b,0))?qA:D.j(b.length,1)&&D.j("#",of(b,0))?et:D.j(b.length,2)&&D.j("'",of(b,0))?of(b,1):parseInt(b,10),a],null)}var uG=new q(null,2,[":",Vv,"@",Pz],null);
function vG(a,b){return dE(function(c){var d=O(c,0,null),e=O(c,1,null);c=O(c,2,null);if(Mf(d))return new W(null,2,5,Y,[null,new W(null,3,5,Y,[d,e,c],null)],null);var f=B.j(uG,H(d));return r(f)?bg(c,f)?kF(['Flag "',t.B(H(d)),'" appears more than once in a directive'].join(""),e):new W(null,2,5,Y,[!0,new W(null,3,5,Y,[Mg.j(d,1),e+1,Q.C(c,f,new W(null,2,5,Y,[!0,e],null))],null)],null):new W(null,2,5,Y,[null,new W(null,3,5,Y,[d,e,c],null)],null)},new W(null,3,5,Y,[a,b,V],null))}
function wG(a,b){var c=ly.B(a);r(Kc(Pz.B(c))?Pz.B(b):!1)&&kF(['"@" is an illegal flag for format directive "',t.B(Jp.B(a)),'"'].join(""),of(Pz.B(b),1));r(Kc(Vv.B(c))?Vv.B(b):!1)&&kF(['":" is an illegal flag for format directive "',t.B(Jp.B(a)),'"'].join(""),of(Vv.B(b),1));r(Kc(Sx.B(c))?function(){var d=Pz.B(b);return r(d)?Vv.B(b):d}():!1)&&kF(['Cannot combine "@" and ":" flags for format directive "',t.B(Jp.B(a)),'"'].join(""),function(){var d=of(Vv.B(b),1),e=of(Pz.B(b),1);return d<e?d:e}())}
function xG(a,b,c,d){wG(a,c);K(b)>K(Gu.B(a))&&kF(eF(null,'Too many parameters for directive "~C": ~D~:* ~[were~;was~:;were~] specified but only ~D~:* ~[are~;is~:;are~] allowed',M([Jp.B(a),K(b),K(Gu.B(a))])),yf(H(b)));kl(hi.C(function(e,f){var h=H(e);return null==h||bg(rG,h)||D.j(yf(yf(f)),Nc(h))?null:kF(["Parameter ",Xg(H(f)),' has bad type in directive "',t.B(Jp.B(a)),'": ',t.B(Nc(h))].join(""),yf(e))},b,Gu.B(a)));return Kk.G(M([yi.j(V,Pg(function(){return function h(f){return new Yg(null,function(){for(;;){var k=
E(f);if(k){if(Uf(k)){var m=me(k),n=K(m),p=bh(n);a:for(var u=0;;)if(u<n){var v=x(m,u),y=O(v,0,null);v=O(v,1,null);v=O(v,0,null);p.add(new W(null,2,5,Y,[y,new W(null,2,5,Y,[v,d],null)],null));u+=1}else{m=!0;break a}return m?dh(fh(p),h(ne(k))):dh(fh(p),null)}m=H(k);p=O(m,0,null);m=O(m,1,null);m=O(m,0,null);return uf(new W(null,2,5,Y,[p,new W(null,2,5,Y,[m,d],null)],null),h(Re(k)))}return null}},null,null)}(Gu.B(a))}())),w.C(function(e,f){return vh(Q,e,f)},V,vi(function(e){return H(of(e,1))},Wk(Aj(Gu.B(a)),
b))),c]))}
function yG(a,b){b=dE(sG,new W(null,3,5,Y,[a,b,!1],null));a=O(b,0,null);var c=O(b,1,null);b=O(c,0,null);c=O(c,1,null);b=vG(b,c);O(b,0,null);b=O(b,1,null);var d=O(b,0,null),e=O(b,1,null);b=O(b,2,null);c=H(d);var f=B.j(pG,c.toUpperCase()),h=r(f)?xG(f,hi.j(tG,a),b,e):null;Kc(c)&&kF("Format string ended in the middle of a directive",e);Kc(f)&&kF(['Directive "',t.B(c),'" is undefined'].join(""),e);return new W(null,2,5,Y,[new qF(function(){var k=IB.B(f);return k.j?k.j(h,e):k.call(null,h,e)}(),f,h,e,null,
null,null),function(){var k=Mg.j(d,1),m=e+1;if(D.j("\n",Jp.B(f))&&Kc(Vv.B(h)))a:{var n=new W(null,2,5,Y,[" ","\t"],null);n=Nf(n)?Tk(n):dg([n]);for(var p=0;;){var u;(u=D.j(p,K(k)))||(u=of(k,p),u=n.B?n.B(u):n.call(null,u),u=Kc(u));if(u){n=p;break a}p+=1}}else n=0;k=Mg.j(k,n);return new W(null,2,5,Y,[k,m+n],null)}()],null)}function zG(a,b){return new qF(function(c,d){ZD.G(M([a]));return d},null,new q(null,1,[xn,a],null),b,null,null,null)}
function AG(a,b){var c=BG(CA.B(Vo.B(a)),Qu.B(a),b);b=O(c,0,null);c=O(c,1,null);return new W(null,2,5,Y,[new qF(wx.B(a),Vo.B(a),Kk.G(M([Gu.B(a),fE(b,Qu.B(a))])),Qu.B(a),null,null,null),c],null)}
function CG(a,b,c){return dE(function(d){if(Mf(d))return kF("No closing bracket found.",b);var e=H(d);d=J(d);if(r(qr.B(CA.B(Vo.B(e)))))e=AG(e,d);else if(D.j(qr.B(a),Jp.B(Vo.B(e))))e=new W(null,2,5,Y,[null,new W(null,4,5,Y,[ws,Gu.B(e),null,d],null)],null);else{var f=Gt.B(CA.B(Vo.B(e)));f=r(f)?Vv.B(Gu.B(e)):f;e=r(f)?new W(null,2,5,Y,[null,new W(null,4,5,Y,[Du,null,Gu.B(e),d],null)],null):r(Gt.B(CA.B(Vo.B(e))))?new W(null,2,5,Y,[null,new W(null,4,5,Y,[Gt,null,null,d],null)],null):new W(null,2,5,Y,[e,
d],null)}return e},c)}
function BG(a,b,c){return yf(dE(function(d){var e=O(d,0,null),f=O(d,1,null);d=O(d,2,null);var h=CG(a,b,d);d=O(h,0,null);var k=O(h,1,null);h=O(k,0,null);var m=O(k,1,null),n=O(k,2,null);k=O(k,3,null);return D.j(h,ws)?new W(null,2,5,Y,[null,new W(null,2,5,Y,[Lk.G(T,M([e,Gf([r(f)?Du:yz,new W(null,1,5,Y,[d],null),oq,m])])),k],null)],null):D.j(h,Du)?r(Du.B(e))?kF('Two else clauses ("~:;") inside bracket construction.',b):Kc(Du.B(a))?kF('An else clause ("~:;") is in a bracket type that doesn\'t support it.',b):
D.j(qq,Du.B(a))&&E(yz.B(e))?kF('The else clause ("~:;") is only allowed in the first position for this directive.',b):D.j(qq,Du.B(a))?new W(null,2,5,Y,[!0,new W(null,3,5,Y,[Lk.G(T,M([e,new q(null,2,[Du,new W(null,1,5,Y,[d],null),LC,n],null)])),!1,k],null)],null):new W(null,2,5,Y,[!0,new W(null,3,5,Y,[Lk.G(T,M([e,new q(null,1,[yz,new W(null,1,5,Y,[d],null)],null)])),!0,k],null)],null):D.j(h,Gt)?r(f)?kF('A plain clause (with "~;") follows an else clause ("~:;") inside bracket construction.',b):Kc(ey.B(a))?
kF('A separator ("~;") is in a bracket type that doesn\'t support it.',b):new W(null,2,5,Y,[!0,new W(null,3,5,Y,[Lk.G(T,M([e,new q(null,1,[yz,new W(null,1,5,Y,[d],null)],null)])),!1,k],null)],null):null},new W(null,3,5,Y,[new q(null,1,[yz,Cf],null),!1,c],null)))}function DG(a){return H(dE(function(b){var c=H(b);b=J(b);var d=CA.B(Vo.B(c));return r(qr.B(d))?AG(c,b):new W(null,2,5,Y,[c,b],null)},a))}
function fF(a){var b=jF;jF=a;try{return DG(H(dE(function(c){var d=O(c,0,null);c=O(c,1,null);if(Mf(d))return new W(null,2,5,Y,[null,d],null);var e=d.indexOf("~");return 0>e?new W(null,2,5,Y,[zG(d,c),new W(null,2,5,Y,["",c+d.length],null)],null):0===e?yG(Mg.j(d,1),c+1):new W(null,2,5,Y,[zG(Mg.C(d,0,e),c),new W(null,2,5,Y,[Mg.j(d,e),e+c],null)],null)},new W(null,2,5,Y,[a,0],null))))}finally{jF=b}}
var hF=function hF(a){for(;;){if(Mf(a))return!1;var c=Tt.B(ly.B(Vo.B(H(a))));r(c)||(c=Rh(hF,H(yz.B(Gu.B(H(a))))),c=r(c)?c:Rh(hF,H(Du.B(Gu.B(H(a))))));if(r(c))return!0;a=J(a)}};function iF(a,b){cE(function(c,d){if(PF(d))return new W(null,2,5,Y,[null,d],null);d=sF(Gu.B(c),d);var e=O(d,0,null);d=O(d,1,null);var f=eE(e);e=O(f,0,null);f=O(f,1,null);e=Q.C(e,Ko,d);return new W(null,2,5,Y,[null,uh(wx.B(c),new W(null,3,5,Y,[e,d,f],null))],null)},b,a);return null}
var EG=function(a){var b=$h(V);return function(){function c(e){var f=null;if(0<arguments.length){f=0;for(var h=Array(arguments.length-0);f<h.length;)h[f]=arguments[f+0],++f;f=new Pe(h,0,null)}return d.call(this,f)}function d(e){var f=B.C(z(b),e,Wf);return f===Wf?(f=uh(a,e),bi.P(b,Q,e,f),f):f}c.aa=0;c.ca=function(e){e=E(e);return d(e)};c.G=d;return c}()}(fF),FG=new q(null,6,[Xw,"'",Jy,"#'",Ps,"@",gy,"~",co,"@",No,"~"],null);
function GG(a){var b=H(a);b=FG.B?FG.B(b):FG.call(null,b);return r(r(b)?D.j(2,K(a)):b)?(Vd(uc,b),WE(yf(a)),!0):null}function HG(a){if(r(bF()))Vd(uc,"#");else{var b=TE,c=UE;TE+=1;UE=0;try{KE("[","]");for(var d=0,e=E(a);;){if(Kc(yc)||d<yc){if(e&&(WE(H(e)),J(e))){Vd(uc," ");cF(Mv);a=d+1;var f=J(e);d=a;e=f;continue}}else Vd(uc,"...");break}LE()}finally{UE=c,TE=b}}return null}
(function(){var a=EG("~\x3c[~;~@{~w~^, ~:_~}~;]~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new Pe(f,0,null)}return c.call(this,e)}function c(d){d=gF(d);return iF(a,d)}b.aa=0;b.ca=function(d){d=E(d);return c(d)};b.G=c;return b}()})();
function IG(a){var b=Rf(a)?null:function(){var m=new Me(function(){return Ll},Zw,nk([On,Im,dA,gu,vo,zB,bn,En,dv,My,aw],[!0,Pm,Bx,"cljs/core.cljs",15,1,10307,10307,Qg(new W(null,1,5,Y,[Uq],null)),"Returns [lifted-ns lifted-map] or nil if m can't be lifted.",r(Ll)?Ll.lk:null]));return m.B?m.B(a):m.call(null,a)}(),c=O(b,0,null);b=O(b,1,null);var d=r(b)?b:a,e=r(c)?["#:",t.B(c),"{"].join(""):"{";if(r(bF()))Vd(uc,"#");else{c=TE;b=UE;TE+=1;UE=0;try{KE(e,"}");e=0;for(var f=E(d);;){if(Kc(yc)||e<yc){if(f){if(r(bF()))Vd(uc,
"#");else{d=TE;var h=UE;TE+=1;UE=0;try{KE(null,null),WE(zf(f)),Vd(uc," "),cF(Mv),UE=0,WE(H(J(H(f)))),LE()}finally{UE=h,TE=d}}if(J(f)){Vd(uc,", ");cF(Mv);d=e+1;var k=J(f);e=d;f=k;continue}}}else Vd(uc,"...");break}LE()}finally{UE=b,TE=c}}return null}function JG(a){return Vd(uc,Gl.G(M([a])))}
var KG=function(){var a=EG("~\x3c#{~;~@{~w~^ ~:_~}~;}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new Pe(f,0,null)}return c.call(this,e)}function c(d){d=gF(d);return iF(a,d)}b.aa=0;b.ca=function(d){d=E(d);return c(d)};b.G=c;return b}()}(),LG=new q(null,2,["core$future_call","Future","core$promise","Promise"],null);
function MG(a){var b=ml(/^[^$]+\$[^$]+/,a);b=r(b)?LG.B?LG.B(b):LG.call(null,b):null;return r(b)?b:a}var NG=function(){var a=EG("~\x3c\x3c-(~;~@{~w~^ ~_~}~;)-\x3c~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new Pe(f,0,null)}return c.call(this,e)}function c(d){d=gF(d);return iF(a,d)}b.aa=0;b.ca=function(d){d=E(d);return c(d)};b.G=c;return b}()}();
function OG(a){return a instanceof pj?jA:(null!=a?a.J&32768||l===a.jh||(a.J?0:Mc(Bd,a)):Mc(Bd,a))?hC:a instanceof A?xx:Xf(a)?sB:Qf(a)?gz:Tf(a)?Wx:Of(a)?Qp:null==a?null:Am}var PG,qa=$h(V),ta=$h(V),ua=$h(V),wa=$h(V),xa=B.C(V,bx,nm.O?nm.O():nm.call(null));PG=new zm(Le.j(ba,"simple-dispatch"),OG,xa,qa,ta,ua,wa);
xm(PG,sB,function(a){if(Kc(GG(a)))if(r(bF()))Vd(uc,"#");else{var b=TE,c=UE;TE+=1;UE=0;try{KE("(",")");for(var d=0,e=E(a);;){if(Kc(yc)||d<yc){if(e&&(WE(H(e)),J(e))){Vd(uc," ");cF(Mv);a=d+1;var f=J(e);d=a;e=f;continue}}else Vd(uc,"...");break}LE()}finally{UE=c,TE=b}}return null});xm(PG,Wx,HG);xm(PG,gz,IG);xm(PG,Qp,KG);xm(PG,null,function(){return Vd(uc,Gl.G(M([null])))});xm(PG,Am,JG);NE=PG;function VG(a){return Tf(a)?new W(null,2,5,Y,["[","]"],null):new W(null,2,5,Y,["(",")"],null)}
function WG(a){if(Pf(a)){var b=VG(a),c=O(b,0,null),d=O(b,1,null),e=E(a),f=H(e),h=J(e);if(r(bF()))Vd(uc,"#");else{var k=TE,m=UE,n=TE+1;TE=n;UE=0;try{KE(c,d);(function(){var sa=EG("~w~:i");return function(){function Ba(ma){var pa=null;if(0<arguments.length){pa=0;for(var za=Array(arguments.length-0);pa<za.length;)za[pa]=arguments[pa+0],++pa;pa=new Pe(za,0,null)}return Va.call(this,pa)}function Va(ma){ma=gF(ma);return iF(sa,ma)}Ba.aa=0;Ba.ca=function(ma){ma=E(ma);return Va(ma)};Ba.G=Va;return Ba}()})()(f);
for(var p=h;;)if(E(p)){(function(){var sa=EG(" ");return function(Ba,Va,ma){return function(){function pa(va){var Ca=null;if(0<arguments.length){Ca=0;for(var fb=Array(arguments.length-0);Ca<fb.length;)fb[Ca]=arguments[Ca+0],++Ca;Ca=new Pe(fb,0,null)}return za.call(this,Ca)}function za(va){va=gF(va);return iF(ma,va)}pa.aa=0;pa.ca=function(va){va=E(va);return za(va)};pa.G=za;return pa}()}(p," ",sa,k,m,n,0,b,c,d,a,e,f,h,f,h)})()();var u=H(p);if(Pf(u)){var v=VG(u),y=O(v,0,null),F=O(v,1,null);if(r(bF()))Vd(uc,
"#");else{var G=TE,I=UE,N=TE+1;TE=N;UE=0;try{KE(y,F);if(D.j(K(u),3)&&yf(u)instanceof C){var P=u,U=O(P,0,null),ea=O(P,1,null),fa=O(P,2,null);(function(){var sa=EG("~w ~w ");return function(Ba,Va,ma){return function(){function pa(va){var Ca=null;if(0<arguments.length){Ca=0;for(var fb=Array(arguments.length-0);Ca<fb.length;)fb[Ca]=arguments[Ca+0],++Ca;Ca=new Pe(fb,0,null)}return za.call(this,Ca)}function za(va){va=gF(va);return iF(ma,va)}pa.aa=0;pa.ca=function(va){va=E(va);return za(va)};pa.G=za;return pa}()}(p,
"~w ~w ",sa,P,U,ea,fa,G,I,N,0,v,y,F,u,k,m,n,0,b,c,d,a,e,f,h,f,h)})()(U,ea);Pf(fa)?function(){var sa=Tf(fa)?"~\x3c[~;~@{~w~^ ~:_~}~;]~:\x3e":"~\x3c(~;~@{~w~^ ~:_~}~;)~:\x3e",Ba="string"===typeof sa?EG(sa):sa;return function(Va,ma,pa){return function(){function za(Ca){var fb=null;if(0<arguments.length){fb=0;for(var sc=Array(arguments.length-0);fb<sc.length;)sc[fb]=arguments[fb+0],++fb;fb=new Pe(sc,0,null)}return va.call(this,fb)}function va(Ca){Ca=gF(Ca);return iF(pa,Ca)}za.aa=0;za.ca=function(Ca){Ca=
E(Ca);return va(Ca)};za.G=va;return za}()}(p,sa,Ba,P,U,ea,fa,G,I,N,0,v,y,F,u,k,m,n,0,b,c,d,a,e,f,h,f,h)}()(fa):WE(fa)}else uh(function(){var sa=EG("~w ~:i~@{~w~^ ~:_~}");return function(Ba,Va,ma){return function(){function pa(va){var Ca=null;if(0<arguments.length){Ca=0;for(var fb=Array(arguments.length-0);Ca<fb.length;)fb[Ca]=arguments[Ca+0],++Ca;Ca=new Pe(fb,0,null)}return za.call(this,Ca)}function za(va){va=gF(va);return iF(ma,va)}pa.aa=0;pa.ca=function(va){va=E(va);return za(va)};pa.G=za;return pa}()}(p,
"~w ~:i~@{~w~^ ~:_~}",sa,G,I,N,0,v,y,F,u,k,m,n,0,b,c,d,a,e,f,h,f,h)}(),u);LE()}finally{UE=I,TE=G}}J(p)&&function(){var sa=EG("~_");return function(Ba,Va,ma){return function(){function pa(va){var Ca=null;if(0<arguments.length){Ca=0;for(var fb=Array(arguments.length-0);Ca<fb.length;)fb[Ca]=arguments[Ca+0],++Ca;Ca=new Pe(fb,0,null)}return za.call(this,Ca)}function za(va){va=gF(va);return iF(ma,va)}pa.aa=0;pa.ca=function(va){va=E(va);return za(va)};pa.G=za;return pa}()}(p,"~_",sa,v,y,F,u,k,m,n,0,b,c,
d,a,e,f,h,f,h)}()()}else WE(u),J(p)&&function(){var sa=EG("~:_");return function(Ba,Va,ma){return function(){function pa(va){var Ca=null;if(0<arguments.length){Ca=0;for(var fb=Array(arguments.length-0);Ca<fb.length;)fb[Ca]=arguments[Ca+0],++Ca;Ca=new Pe(fb,0,null)}return za.call(this,Ca)}function za(va){va=gF(va);return iF(ma,va)}pa.aa=0;pa.ca=function(va){va=E(va);return za(va)};pa.G=za;return pa}()}(p,"~:_",sa,u,k,m,n,0,b,c,d,a,e,f,h,f,h)}()();p=J(p)}else break;LE()}finally{UE=m,TE=k}}}else WE(a)}
var XG=function(){var a=EG("~:\x3c~w~^ ~@_~w~^ ~_~@{~w~^ ~_~}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new Pe(f,0,null)}return c.call(this,e)}function c(d){d=gF(d);return iF(a,d)}b.aa=0;b.ca=function(d){d=E(d);return c(d)};b.G=c;return b}()}();
function YG(a,b){E(a)&&(r(b)?function(){var c=EG(" ~_");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+0],++h;h=new Pe(k,0,null)}return e.call(this,h)}function e(f){f=gF(f);return iF(c,f)}d.aa=0;d.ca=function(f){f=E(f);return e(f)};d.G=e;return d}()}()():function(){var c=EG(" ~@_");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+
0],++h;h=new Pe(k,0,null)}return e.call(this,h)}function e(f){f=gF(f);return iF(c,f)}d.aa=0;d.ca=function(f){f=E(f);return e(f)};d.G=e;return d}()}()(),function(){var c=EG("~{~w~^ ~_~}");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+0],++h;h=new Pe(k,0,null)}return e.call(this,h)}function e(f){f=gF(f);return iF(c,f)}d.aa=0;d.ca=function(f){f=E(f);return e(f)};d.G=e;return d}()}()(a))}
function ZG(a){E(a)&&function(){var b=EG(" ~_~{~w~^ ~_~}");return function(){function c(e){var f=null;if(0<arguments.length){f=0;for(var h=Array(arguments.length-0);f<h.length;)h[f]=arguments[f+0],++f;f=new Pe(h,0,null)}return d.call(this,f)}function d(e){e=gF(e);return iF(b,e)}c.aa=0;c.ca=function(e){e=E(e);return d(e)};c.G=d;return c}()}()(a)}
function $G(a){if(J(a)){var b=E(a);a=H(b);var c=J(b);b=H(c);c=J(c);var d="string"===typeof H(c)?new W(null,2,5,Y,[H(c),J(c)],null):new W(null,2,5,Y,[null,c],null);c=O(d,0,null);d=O(d,1,null);var e=Qf(H(d))?new W(null,2,5,Y,[H(d),J(d)],null):new W(null,2,5,Y,[null,d],null);d=O(e,0,null);e=O(e,1,null);if(r(bF()))Vd(uc,"#");else{var f=TE,h=UE;TE+=1;UE=0;try{KE("(",")"),function(){var k=EG("~w ~1I~@_~w");return function(){function m(p){var u=null;if(0<arguments.length){u=0;for(var v=Array(arguments.length-
0);u<v.length;)v[u]=arguments[u+0],++u;u=new Pe(v,0,null)}return n.call(this,u)}function n(p){p=gF(p);return iF(k,p)}m.aa=0;m.ca=function(p){p=E(p);return n(p)};m.G=n;return m}()}()(a,b),r(c)&&function(){var k=EG(" ~_~w");return function(){function m(p){var u=null;if(0<arguments.length){u=0;for(var v=Array(arguments.length-0);u<v.length;)v[u]=arguments[u+0],++u;u=new Pe(v,0,null)}return n.call(this,u)}function n(p){p=gF(p);return iF(k,p)}m.aa=0;m.ca=function(p){p=E(p);return n(p)};m.G=n;return m}()}()(c),
r(d)&&function(){var k=EG(" ~_~w");return function(){function m(p){var u=null;if(0<arguments.length){u=0;for(var v=Array(arguments.length-0);u<v.length;)v[u]=arguments[u+0],++u;u=new Pe(v,0,null)}return n.call(this,u)}function n(p){p=gF(p);return iF(k,p)}m.aa=0;m.ca=function(p){p=E(p);return n(p)};m.G=n;return m}()}()(d),Tf(H(e))?YG(e,r(c)?c:d):ZG(e),LE()}finally{UE=h,TE=f}}return null}return aH(a)}
function bH(a){if(r(bF()))Vd(uc,"#");else{var b=TE,c=UE;TE+=1;UE=0;try{KE("[","]");for(var d=0;;){if(Kc(yc)||d<yc){if(E(a)){if(r(bF()))Vd(uc,"#");else{var e=TE,f=UE;TE+=1;UE=0;try{KE(null,null),WE(H(a)),J(a)&&(Vd(uc," "),cF(rA),WE(yf(a))),LE()}finally{UE=f,TE=e}}if(J(Re(a))){Vd(uc," ");cF(Mv);e=d+1;var h=J(Re(a));d=e;a=h;continue}}}else Vd(uc,"...");break}LE()}finally{UE=c,TE=b}}}
function cH(a){var b=H(a);if(r(bF()))Vd(uc,"#");else{var c=TE,d=UE;TE+=1;UE=0;try{KE("(",")"),J(a)&&Tf(yf(a))?(function(){var e=EG("~w ~1I~@_");return function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new Pe(n,0,null)}return h.call(this,m)}function h(k){k=gF(k);return iF(e,k)}f.aa=0;f.ca=function(k){k=E(k);return h(k)};f.G=h;return f}()}()(b),bH(yf(a)),function(){var e=EG(" ~_~{~w~^ ~_~}");return function(){function f(k){var m=
null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new Pe(n,0,null)}return h.call(this,m)}function h(k){k=gF(k);return iF(e,k)}f.aa=0;f.ca=function(k){k=E(k);return h(k)};f.G=h;return f}()}()(J(Re(a)))):aH(a),LE()}finally{UE=d,TE=c}}return null}
var dH=function(){var a=EG("~:\x3c~1I~w~^ ~@_~w~@{ ~_~w~}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new Pe(f,0,null)}return c.call(this,e)}function c(d){d=gF(d);return iF(a,d)}b.aa=0;b.ca=function(d){d=E(d);return c(d)};b.G=c;return b}()}(),eH=V;
function aH(a){if(r(bF()))Vd(uc,"#");else{var b=TE,c=UE;TE+=1;UE=0;try{KE("(",")");dF(Cu,1);for(var d=0,e=E(a);;){if(Kc(yc)||d<yc){if(e&&(WE(H(e)),J(e))){Vd(uc," ");cF(Mv);a=d+1;var f=J(e);d=a;e=f;continue}}else Vd(uc,"...");break}LE()}finally{UE=c,TE=b}}return null}
var fH=function(a){return yi.j(V,ti(qg,M([function(){return function d(c){return new Yg(null,function(){for(;;){var e=E(c);if(e){if(Uf(e)){var f=me(e),h=K(f),k=bh(h);a:for(var m=0;;)if(m<h){var n=x(f,m);n=new W(null,2,5,Y,[n,new W(null,2,5,Y,[Le.B(Xg(H(n))),yf(n)],null)],null);k.add(n);m+=1}else{f=!0;break a}return f?dh(fh(k),d(ne(e))):dh(fh(k),null)}k=H(e);return uf(new W(null,2,5,Y,[k,new W(null,2,5,Y,[Le.B(Xg(H(k))),yf(k)],null)],null),d(Re(e)))}return null}},null,null)}(a)}()])))}(function(a){return yi.j(V,
hi.j(function(b){var c=O(b,0,null),d=O(b,1,null);var e=Ug(c);e=r(e)?e:bg(new Pk(null,new q(null,24,[ss,"null",Fu,"null",Sm,"null",tw,"null",kn,"null",ap,"null",Uw,"null",Uv,"null",hq,"null",Lw,"null",Nv,"null",Lx,"null",yC,"null",rq,"null",ev,"null",Fn,"null",Gq,"null",Wr,"null",Oz,"null",Jy,"null",Xw,"null",lv,"null",ww,"null",nt,"null"],null),null),c);return Kc(e)?new W(null,2,5,Y,[Le.j("clojure.core",Xg(c)),d],null):b},a))}(nk([Oz,Fn,yq,Lw,fC,Ot,FC,tv,mA,vv,ry,Go,bB,nt,ur,xo,kw,It,sz,Lx,Wo,ez,
Bw,nx,SA,Hp,Yu,ZB,Ez,Lu],[XG,function(a){var b=yf(a),c=H(Re(Re(a)));if(Tf(b)){a=eH;eH=D.j(1,K(b))?Gf([H(b),"%"]):yi.j(V,hi.C(function(d,e){return new W(null,2,5,Y,[d,["%",t.B(e)].join("")],null)},b,el.j(1,K(b)+1)));try{return function(){var d=EG("~\x3c#(~;~@{~w~^ ~_~}~;)~:\x3e");return function(){function e(h){var k=null;if(0<arguments.length){k=0;for(var m=Array(arguments.length-0);k<m.length;)m[k]=arguments[k+0],++k;k=new Pe(m,0,null)}return f.call(this,k)}function f(h){h=gF(h);return iF(d,h)}e.aa=
0;e.ca=function(h){h=E(h);return f(h)};e.G=f;return e}()}()(c)}finally{eH=a}}else return aH(a)},cH,dH,function(a){if(3<K(a)){if(r(bF()))Vd(uc,"#");else{var b=TE,c=UE;TE+=1;UE=0;try{KE("(",")");dF(Cu,1);uh(function(){var k=EG("~w ~@_~w ~@_~w ~_");return function(){function m(p){var u=null;if(0<arguments.length){u=0;for(var v=Array(arguments.length-0);u<v.length;)v[u]=arguments[u+0],++u;u=new Pe(v,0,null)}return n.call(this,u)}function n(p){p=gF(p);return iF(k,p)}m.aa=0;m.ca=function(p){p=E(p);return n(p)};
m.G=n;return m}()}(),a);for(var d=0,e=E(ji(3,a));;){if(Kc(yc)||d<yc){if(e){if(r(bF()))Vd(uc,"#");else{a=TE;var f=UE;TE+=1;UE=0;try{KE(null,null),WE(H(e)),J(e)&&(Vd(uc," "),cF(rA),WE(yf(e))),LE()}finally{UE=f,TE=a}}if(J(Re(e))){Vd(uc," ");cF(Mv);a=d+1;var h=J(Re(e));d=a;e=h;continue}}}else Vd(uc,"...");break}LE()}finally{UE=c,TE=b}}return null}return aH(a)},XG,$G,$G,cH,XG,cH,dH,dH,XG,dH,cH,cH,XG,cH,function(a){if(J(a)){var b=E(a);a=H(b);var c=J(b);b=H(c);c=J(c);var d="string"===typeof H(c)?new W(null,
2,5,Y,[H(c),J(c)],null):new W(null,2,5,Y,[null,c],null);c=O(d,0,null);d=O(d,1,null);d=Qf(H(d))?new W(null,2,5,Y,[H(d),J(d)],null):new W(null,2,5,Y,[null,d],null);var e=O(d,0,null),f=O(d,1,null);if(r(bF()))Vd(uc,"#");else{d=TE;var h=UE;TE+=1;UE=0;try{KE("(",")");(function(){var m=EG("~w ~1I~@_~w");return function(){function n(u){var v=null;if(0<arguments.length){v=0;for(var y=Array(arguments.length-0);v<y.length;)y[v]=arguments[v+0],++v;v=new Pe(y,0,null)}return p.call(this,v)}function p(u){u=gF(u);
return iF(m,u)}n.aa=0;n.ca=function(u){u=E(u);return p(u)};n.G=p;return n}()})()(a,b);r(r(c)?c:r(e)?e:E(f))&&function(){var m=EG("~@:_");return function(){function n(u){var v=null;if(0<arguments.length){v=0;for(var y=Array(arguments.length-0);v<y.length;)y[v]=arguments[v+0],++v;v=new Pe(y,0,null)}return p.call(this,v)}function p(u){u=gF(u);return iF(m,u)}n.aa=0;n.ca=function(u){u=E(u);return p(u)};n.G=p;return n}()}()();r(c)&&eF(!0,'"~a"~:[~;~:@_~]',M([c,r(e)?e:E(f)]));r(e)&&function(){var m=EG("~w~:[~;~:@_~]");
return function(){function n(u){var v=null;if(0<arguments.length){v=0;for(var y=Array(arguments.length-0);v<y.length;)y[v]=arguments[v+0],++v;v=new Pe(y,0,null)}return p.call(this,v)}function p(u){u=gF(u);return iF(m,u)}n.aa=0;n.ca=function(u){u=E(u);return p(u)};n.G=p;return n}()}()(e,E(f));for(a=f;;){WG(H(a));var k=J(a);if(k)b=k,cF(Mv),a=b;else break}LE()}finally{UE=h,TE=d}}return null}return WE(a)},cH,function(a){if(r(bF()))Vd(uc,"#");else{var b=TE,c=UE;TE+=1;UE=0;try{KE("(",")");dF(Cu,1);WE(H(a));
if(J(a)){Vd(uc," ");cF(Mv);for(var d=0,e=J(a);;){if(Kc(yc)||d<yc){if(e){if(r(bF()))Vd(uc,"#");else{a=TE;var f=UE;TE+=1;UE=0;try{KE(null,null),WE(H(e)),J(e)&&(Vd(uc," "),cF(rA),WE(yf(e))),LE()}finally{UE=f,TE=a}}if(J(Re(e))){Vd(uc," ");cF(Mv);a=d+1;var h=J(Re(e));d=a;e=h;continue}}}else Vd(uc,"...");break}}LE()}finally{UE=c,TE=b}}return null},cH,$G,$G,XG,XG,cH,cH,XG]))),gH,Ea=$h(V),Fa=$h(V),Ga=$h(V),Ha=$h(V),Ia=B.C(V,bx,nm.O?nm.O():nm.call(null));gH=new zm(Le.j(ba,"code-dispatch"),OG,Ia,Ea,Fa,Ga,Ha);
xm(gH,sB,function(a){if(Kc(GG(a))){var b=fH.call(null,H(a));return r(b)?b.B?b.B(a):b.call(null,a):aH(a)}return null});xm(gH,xx,function(a){var b=a.B?a.B(eH):a.call(null,eH);return r(b)?ZD.G(M([b])):r(QE)?ZD.G(M([Xg(a)])):$D.call(null,a)});xm(gH,Wx,HG);xm(gH,gz,IG);xm(gH,Qp,KG);xm(gH,jA,NG);
xm(gH,hC,function(a){var b=["#\x3c",t.B(MG(Nc(a).name)),"@",t.B(ya(a)),": "].join("");if(r(bF()))Vd(uc,"#");else{var c=TE,d=UE;TE+=1;UE=0;try{KE(b,"\x3e"),dF(Cu,-(b.length-2)),cF(Mv),WE((null!=a?a.T&1||l===a.hk||(a.T?0:Mc(Zd,a)):Mc(Zd,a))&&!$d(a)?Eo:z(a)),LE()}finally{UE=d,TE=c}}return null});xm(gH,null,$D);xm(gH,Am,JG);NE=PG;var mH="undefined"!=typeof Object.keys?function(a){return Object.keys(a)}:function(a){return ub(a)},nH="undefined"!=typeof Array.isArray?function(a){return Array.isArray(a)}:function(a){return"array"===ra(a)};function oH(){return Math.round(15*Math.random()).toString(16)};function pH(a,b){if(3<a.length){if(b)return!0;b=a.charAt(1);return"~"===a.charAt(0)?":"===b||"$"===b||"#"===b:!1}return!1}function qH(a){var b=Math.floor(a/44);a=String.fromCharCode(a%44+48);return 0===b?"^"+a:"^"+String.fromCharCode(b+48)+a}function rH(){this.cacheSize=this.Jd=this.idx=0;this.cache={}}
rH.prototype.write=function(a,b){return pH(a,b)?(4096===this.cacheSize?(this.clear(),this.Jd=0,this.cache={}):1936===this.idx&&this.clear(),b=this.cache[a],null==b?(this.cache[a]=[qH(this.idx),this.Jd],this.idx++,a):b[1]!=this.Jd?(b[1]=this.Jd,b[0]=qH(this.idx),this.idx++,a):b[0]):a};rH.prototype.clear=function(){this.idx=0;this.Jd++};function sH(){this.idx=0;this.cache=[]}sH.prototype.write=function(a){1936==this.idx&&(this.idx=0);this.cache[this.idx]=a;this.idx++;return a};
sH.prototype.read=function(a){return this.cache[2===a.length?a.charCodeAt(1)-48:44*(a.charCodeAt(1)-48)+(a.charCodeAt(2)-48)]};sH.prototype.clear=function(){this.idx=0};var tH=1;function uH(a,b){if(null==a)return null==b;if(a===b)return!0;if("object"===typeof a){if(nH(a)){if(nH(b)&&a.length===b.length){for(var c=0;c<a.length;c++)if(!uH(a[c],b[c]))return!1;return!0}return!1}if(a.Ic)return a.Ic(b);if(null!=b&&"object"===typeof b){if(b.Ic)return b.Ic(a);c=0;var d=mH(b).length,e;for(e in a)if(a.hasOwnProperty(e)&&(c++,!b.hasOwnProperty(e)||!uH(a[e],b[e])))return!1;return c===d}}return!1}function vH(a,b){return a^b+2654435769+(a<<6)+(a>>2)}var wH={},xH=0;
function yH(a){var b=0;if(null!=a.forEach)a.forEach(function(h,k){b=(b+(zH(k)^zH(h)))%4503599627370496});else for(var c=mH(a),d=0;d<c.length;d++){var e=c[d],f=a[e];b=(b+(zH(e)^zH(f)))%4503599627370496}return b}function AH(a){var b=0;if(nH(a))for(var c=0;c<a.length;c++)b=vH(b,zH(a[c]));else a.forEach&&a.forEach(function(d){b=vH(b,zH(d))});return b}
function zH(a){if(null==a)return 0;switch(typeof a){case "number":return a;case "boolean":return!0===a?1:0;case "string":var b=wH[a];if(null!=b)a=b;else{for(var c=b=0;c<a.length;++c)b=31*b+a.charCodeAt(c),b%=4294967296;xH++;256<=xH&&(wH={},xH=1);a=wH[a]=b}return a;case "function":return b=a.transit$hashCode$,b||(b=tH,"undefined"!=typeof Object.defineProperty?Object.defineProperty(a,"transit$hashCode$",{value:b,enumerable:!1}):a.transit$hashCode$=b,tH++),b;default:return a instanceof Date?a.valueOf():
nH(a)?AH(a):a.Sc?a.Sc():yH(a)}};var BH="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function CH(a,b){this.tag=a;this.rep=b;this.Va=-1}CH.prototype.toString=function(){return"[TaggedValue: "+this.tag+", "+this.rep+"]"};CH.prototype.equiv=function(a){return uH(this,a)};CH.prototype.equiv=CH.prototype.equiv;CH.prototype.Ic=function(a){return a instanceof CH?this.tag===a.tag&&uH(this.rep,a.rep):!1};CH.prototype.Sc=function(){-1===this.Va&&(this.Va=vH(zH(this.tag),zH(this.rep)));return this.Va};
function DH(a,b){return new CH(a,b)}var EH=Ta("9007199254740991"),FH=Ta("-9007199254740991");Na.prototype.equiv=function(a){return uH(this,a)};Na.prototype.equiv=Na.prototype.equiv;Na.prototype.Ic=function(a){return a instanceof Na&&this.equals(a)};Na.prototype.Sc=function(){return this.Wa};function GH(a){this._name=a;this.Va=-1}GH.prototype.toString=function(){return":"+this._name};GH.prototype.namespace=function(){var a=this._name.indexOf("/");return-1!=a?this._name.substring(0,a):null};
GH.prototype.name=function(){var a=this._name.indexOf("/");return-1!=a?this._name.substring(a+1,this._name.length):this._name};GH.prototype.equiv=function(a){return uH(this,a)};GH.prototype.equiv=GH.prototype.equiv;GH.prototype.Ic=function(a){return a instanceof GH&&this._name==a._name};GH.prototype.Sc=function(){-1===this.Va&&(this.Va=zH(this._name));return this.Va};function HH(a){this._name=a;this.Va=-1}
HH.prototype.namespace=function(){var a=this._name.indexOf("/");return-1!=a?this._name.substring(0,a):null};HH.prototype.name=function(){var a=this._name.indexOf("/");return-1!=a?this._name.substring(a+1,this._name.length):this._name};HH.prototype.toString=function(){return this._name};HH.prototype.equiv=function(a){return uH(this,a)};HH.prototype.equiv=HH.prototype.equiv;HH.prototype.Ic=function(a){return a instanceof HH&&this._name==a._name};
HH.prototype.Sc=function(){-1===this.Va&&(this.Va=zH(this._name));return this.Va};function IH(a,b,c){var d="";c=c||b+1;for(var e=8*(7-b),f=(new Na(255,0)).shiftLeft(e);b<c;b++,e-=8,f=Xa(f,8)){var h=Xa(a.and(f),e).toString(16);1==h.length&&(h="0"+h);d+=h}return d}function JH(a,b){this.high=a;this.low=b;this.Va=-1}JH.prototype.toString=function(){var a=this.high,b=this.low;var c=IH(a,0,4)+"-";c+=IH(a,4,6)+"-";c+=IH(a,6,8)+"-";c+=IH(b,0,2)+"-";return c+=IH(b,2,8)};
JH.prototype.equiv=function(a){return uH(this,a)};JH.prototype.equiv=JH.prototype.equiv;JH.prototype.Ic=function(a){return a instanceof JH&&this.high.equals(a.high)&&this.low.equals(a.low)};JH.prototype.Sc=function(){-1===this.Va&&(this.Va=zH(this.toString()));return this.Va};Date.prototype.Ic=function(a){return a instanceof Date?this.valueOf()===a.valueOf():!1};Date.prototype.Sc=function(){return this.valueOf()};function KH(a,b){this.entries=a;this.type=b||0;this.idx=0}
KH.prototype.next=function(){if(this.idx<this.entries.length){var a={value:0===this.type?this.entries[this.idx]:1===this.type?this.entries[this.idx+1]:[this.entries[this.idx],this.entries[this.idx+1]],done:!1};this.idx+=2;return a}return{value:null,done:!0}};KH.prototype.next=KH.prototype.next;KH.prototype[BH]=function(){return this};function LH(a,b){this.map=a;this.type=b||0;this.keys=this.map.getKeys();this.idx=0;this.Nd=null;this.Cd=0}
LH.prototype.next=function(){if(this.idx<this.map.size){null!=this.Nd&&this.Cd<this.Nd.length||(this.Nd=this.map.map[this.keys[this.idx]],this.Cd=0);var a={value:0===this.type?this.Nd[this.Cd]:1===this.type?this.Nd[this.Cd+1]:[this.Nd[this.Cd],this.Nd[this.Cd+1]],done:!1};this.idx++;this.Cd+=2;return a}return{value:null,done:!0}};LH.prototype.next=LH.prototype.next;LH.prototype[BH]=function(){return this};
function MH(a,b){if(a instanceof NH&&(b instanceof OH||b instanceof NH)){if(a.size!==b.size)return!1;for(var c in a.map)for(var d=a.map[c],e=0;e<d.length;e+=2)if(!uH(d[e+1],b.get(d[e])))return!1;return!0}if(a instanceof OH&&(b instanceof OH||b instanceof NH)){if(a.size!==b.size)return!1;a=a.Ua;for(e=0;e<a.length;e+=2)if(!uH(a[e+1],b.get(a[e])))return!1;return!0}if(null!=b&&"object"===typeof b&&(e=mH(b),c=e.length,a.size===c)){for(d=0;d<c;d++){var f=e[d];if(!a.has(f)||!uH(b[f],a.get(f)))return!1}return!0}return!1}
function PH(a){return null==a?"null":"array"==ra(a)?"["+a.toString()+"]":na(a)?'"'+a+'"':a.toString()}function QH(a){var b=0,c="TransitMap {";a.forEach(function(d,e){c+=PH(e)+" \x3d\x3e "+PH(d);b<a.size-1&&(c+=", ");b++});return c+"}"}function RH(a){var b=0,c="TransitSet {";a.forEach(function(d){c+=PH(d);b<a.size-1&&(c+=", ");b++});return c+"}"}function OH(a){this.Ua=a;this.Pa=null;this.Va=-1;this.size=a.length/2;this.Xg=0}OH.prototype.toString=function(){return QH(this)};OH.prototype.inspect=function(){return this.toString()};
function SH(a){if(a.Pa)throw Error("Invalid operation, already converted");if(8>a.size)return!1;a.Xg++;return 32<a.Xg?(a.Pa=TH(a.Ua,!1,!0),a.Ua=[],!0):!1}OH.prototype.clear=function(){this.Va=-1;this.Pa?this.Pa.clear():this.Ua=[];this.size=0};OH.prototype.clear=OH.prototype.clear;OH.prototype.keys=function(){return this.Pa?this.Pa.keys():new KH(this.Ua,0)};OH.prototype.keys=OH.prototype.keys;
OH.prototype.Wd=function(){if(this.Pa)return this.Pa.Wd();for(var a=[],b=0,c=0;c<this.Ua.length;b++,c+=2)a[b]=this.Ua[c];return a};OH.prototype.keySet=OH.prototype.Wd;OH.prototype.entries=function(){return this.Pa?this.Pa.entries():new KH(this.Ua,2)};OH.prototype.entries=OH.prototype.entries;OH.prototype.values=function(){return this.Pa?this.Pa.values():new KH(this.Ua,1)};OH.prototype.values=OH.prototype.values;
OH.prototype.forEach=function(a){if(this.Pa)this.Pa.forEach(a);else for(var b=0;b<this.Ua.length;b+=2)a(this.Ua[b+1],this.Ua[b])};OH.prototype.forEach=OH.prototype.forEach;OH.prototype.get=function(a,b){if(this.Pa)return this.Pa.get(a);if(SH(this))return this.get(a);for(var c=0;c<this.Ua.length;c+=2)if(uH(this.Ua[c],a))return this.Ua[c+1];return b};OH.prototype.get=OH.prototype.get;
OH.prototype.has=function(a){if(this.Pa)return this.Pa.has(a);if(SH(this))return this.has(a);for(var b=0;b<this.Ua.length;b+=2)if(uH(this.Ua[b],a))return!0;return!1};OH.prototype.has=OH.prototype.has;OH.prototype.set=function(a,b){this.Va=-1;if(this.Pa)this.Pa.set(a,b),this.size=this.Pa.size;else{for(var c=0;c<this.Ua.length;c+=2)if(uH(this.Ua[c],a)){this.Ua[c+1]=b;return}this.Ua.push(a);this.Ua.push(b);this.size++;32<this.size&&(this.Pa=TH(this.Ua,!1,!0),this.Ua=null)}};OH.prototype.set=OH.prototype.set;
OH.prototype["delete"]=function(a){this.Va=-1;if(this.Pa)return a=this.Pa.delete(a),this.size=this.Pa.size,a;for(var b=0;b<this.Ua.length;b+=2)if(uH(this.Ua[b],a))return a=this.Ua[b+1],this.Ua.splice(b,2),this.size--,a};OH.prototype.clone=function(){var a=TH();this.forEach(function(b,c){a.set(c,b)});return a};OH.prototype.clone=OH.prototype.clone;OH.prototype[BH]=function(){return this.entries()};OH.prototype.Sc=function(){if(this.Pa)return this.Pa.Sc();-1===this.Va&&(this.Va=yH(this));return this.Va};
OH.prototype.Ic=function(a){return this.Pa?MH(this.Pa,a):MH(this,a)};function NH(a,b,c){this.map=b||{};this._keys=a||[];this.size=c||0;this.Va=-1}NH.prototype.toString=function(){return QH(this)};NH.prototype.inspect=function(){return this.toString()};NH.prototype.clear=function(){this.Va=-1;this.map={};this._keys=[];this.size=0};NH.prototype.clear=NH.prototype.clear;NH.prototype.getKeys=function(){return null!=this._keys?this._keys:mH(this.map)};
NH.prototype["delete"]=function(a){this.Va=-1;this._keys=null;for(var b=zH(a),c=this.map[b],d=0;d<c.length;d+=2)if(uH(a,c[d]))return a=c[d+1],c.splice(d,2),0===c.length&&delete this.map[b],this.size--,a};NH.prototype.entries=function(){return new LH(this,2)};NH.prototype.entries=NH.prototype.entries;NH.prototype.forEach=function(a){for(var b=this.getKeys(),c=0;c<b.length;c++)for(var d=this.map[b[c]],e=0;e<d.length;e+=2)a(d[e+1],d[e],this)};NH.prototype.forEach=NH.prototype.forEach;
NH.prototype.get=function(a,b){var c=zH(a);c=this.map[c];if(null!=c)for(b=0;b<c.length;b+=2){if(uH(a,c[b]))return c[b+1]}else return b};NH.prototype.get=NH.prototype.get;NH.prototype.has=function(a){var b=zH(a);b=this.map[b];if(null!=b)for(var c=0;c<b.length;c+=2)if(uH(a,b[c]))return!0;return!1};NH.prototype.has=NH.prototype.has;NH.prototype.keys=function(){return new LH(this,0)};NH.prototype.keys=NH.prototype.keys;
NH.prototype.Wd=function(){for(var a=this.getKeys(),b=[],c=0;c<a.length;c++)for(var d=this.map[a[c]],e=0;e<d.length;e+=2)b.push(d[e]);return b};NH.prototype.keySet=NH.prototype.Wd;NH.prototype.set=function(a,b){this.Va=-1;var c=zH(a),d=this.map[c];if(null==d)this._keys&&this._keys.push(c),this.map[c]=[a,b],this.size++;else{c=!0;for(var e=0;e<d.length;e+=2)if(uH(b,d[e])){c=!1;d[e]=b;break}c&&(d.push(a),d.push(b),this.size++)}};NH.prototype.set=NH.prototype.set;
NH.prototype.values=function(){return new LH(this,1)};NH.prototype.values=NH.prototype.values;NH.prototype.clone=function(){var a=TH();this.forEach(function(b,c){a.set(c,b)});return a};NH.prototype.clone=NH.prototype.clone;NH.prototype[BH]=function(){return this.entries()};NH.prototype.Sc=function(){-1===this.Va&&(this.Va=yH(this));return this.Va};NH.prototype.Ic=function(a){return MH(this,a)};
function TH(a,b,c){a=a||[];b=!1===b?b:!0;if((!0!==c||!c)&&64>=a.length){if(b){var d=a;a=[];for(b=0;b<d.length;b+=2){var e=!1;for(c=0;c<a.length;c+=2)if(uH(a[c],d[b])){a[c+1]=d[b+1];e=!0;break}e||(a.push(d[b]),a.push(d[b+1]))}}return new OH(a)}d={};e=[];var f=0;for(b=0;b<a.length;b+=2){c=zH(a[b]);var h=d[c];if(null==h)e.push(c),d[c]=[a[b],a[b+1]],f++;else{var k=!0;for(c=0;c<h.length;c+=2)if(uH(h[c],a[b])){h[c+1]=a[b+1];k=!1;break}k&&(h.push(a[b]),h.push(a[b+1]),f++)}}return new NH(e,d,f)}
function UH(a){this.map=a;this.size=a.size}UH.prototype.toString=function(){return RH(this)};UH.prototype.inspect=function(){return this.toString()};UH.prototype.add=function(a){this.map.set(a,a);this.size=this.map.size};UH.prototype.add=UH.prototype.add;UH.prototype.clear=function(){this.map=new NH;this.size=0};UH.prototype.clear=UH.prototype.clear;UH.prototype["delete"]=function(a){a=this.map.delete(a);this.size=this.map.size;return a};UH.prototype.entries=function(){return this.map.entries()};
UH.prototype.entries=UH.prototype.entries;UH.prototype.forEach=function(a){var b=this;this.map.forEach(function(c,d){a(d,b)})};UH.prototype.forEach=UH.prototype.forEach;UH.prototype.has=function(a){return this.map.has(a)};UH.prototype.has=UH.prototype.has;UH.prototype.keys=function(){return this.map.keys()};UH.prototype.keys=UH.prototype.keys;UH.prototype.Wd=function(){return this.map.Wd()};UH.prototype.keySet=UH.prototype.Wd;UH.prototype.values=function(){return this.map.values()};
UH.prototype.values=UH.prototype.values;UH.prototype.clone=function(){var a=VH();this.forEach(function(b){a.add(b)});return a};UH.prototype.clone=UH.prototype.clone;UH.prototype[BH]=function(){return this.values()};UH.prototype.Ic=function(a){if(a instanceof UH){if(this.size===a.size)return uH(this.map,a.map)}else return!1};UH.prototype.Sc=function(){return zH(this.map)};
function VH(a){a=a||[];for(var b={},c=[],d=0,e=0;e<a.length;e++){var f=zH(a[e]),h=b[f];if(null==h)c.push(f),b[f]=[a[e],a[e]],d++;else{f=!0;for(var k=0;k<h.length;k+=2)if(uH(h[k],a[e])){f=!1;break}f&&(h.push(a[e]),h.push(a[e]),d++)}}return new UH(new NH(c,b,d))};function WH(a){this.cc=a}
function XH(a){this.options=a||{};this.vb={};for(var b in this.defaults.vb)this.vb[b]=this.defaults.vb[b];for(b in this.options.handlers){a:{switch(b){case "_":case "s":case "?":case "i":case "d":case "b":case "'":case "array":case "map":a=!0;break a}a=!1}if(a)throw Error('Cannot override handler for ground type "'+b+'"');this.vb[b]=this.options.handlers[b]}this.Ef=null!=this.options.preferStrings?this.options.preferStrings:this.defaults.Ef;this.Gg=null!=this.options.preferBuffers?this.options.preferBuffers:
this.defaults.Gg;this.ng=this.options.defaultHandler||this.defaults.ng;this.Nc=this.options.mapBuilder;this.ce=this.options.arrayBuilder}
XH.prototype.defaults={vb:{_:function(){return null},"?":function(a){return"t"===a},b:function(a,b){if(b&&!1===b.Gg||"undefined"==typeof la.Buffer)if("undefined"!=typeof Uint8Array){if("undefined"!=typeof atob)var c=atob(a);else{a=String(a).replace(/=+$/,"");if(1==a.length%4)throw Error("'atob' failed: The string to be decoded is not correctly encoded.");b=0;for(var d,e=0,f="";d=a.charAt(e++);~d&&(c=b%4?64*c+d:d,b++%4)?f+=String.fromCharCode(255&c>>(-2*b&6)):0)d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".indexOf(d);
c=f}a=c.length;b=new Uint8Array(a);for(d=0;d<a;d++)b[d]=c.charCodeAt(d);c=b}else c=DH("b",a);else c=new la.Buffer(a,"base64");return c},i:function(a){"number"===typeof a||a instanceof Na||(a=Ta(a,10),a=0<a.compare(EH)||0>a.compare(FH)?a:a.toNumber());return a},n:function(a){return DH("n",a)},d:function(a){return parseFloat(a)},f:function(a){return DH("f",a)},c:function(a){return a},":":function(a){return new GH(a)},$:function(a){return new HH(a)},r:function(a){return DH("r",a)},z:function(a){a:switch(a){case "-INF":a=
-Infinity;break a;case "INF":a=Infinity;break a;case "NaN":a=NaN;break a;default:throw Error("Invalid special double value "+a);}return a},"'":function(a){return a},m:function(a){a="number"===typeof a?a:parseInt(a,10);return new Date(a)},t:function(a){return new Date(a)},u:function(a){a=a.replace(/-/g,"");var b,c;var d=b=0;for(c=24;8>d;d+=2,c-=8)b|=parseInt(a.substring(d,d+2),16)<<c;var e=0;d=8;for(c=24;16>d;d+=2,c-=8)e|=parseInt(a.substring(d,d+2),16)<<c;var f=Ma(e,b);b=0;d=16;for(c=24;24>d;d+=2,
c-=8)b|=parseInt(a.substring(d,d+2),16)<<c;e=0;for(c=d=24;32>d;d+=2,c-=8)e|=parseInt(a.substring(d,d+2),16)<<c;return new JH(f,Ma(e,b))},set:function(a){return VH(a)},list:function(a){return DH("list",a)},link:function(a){return DH("link",a)},cmap:function(a){return TH(a,!1)}},ng:function(a,b){return DH(a,b)},Ef:!0,Gg:!0};
XH.prototype.decode=function(a,b,c,d){if(null==a)return null;switch(typeof a){case "string":return pH(a,c)?(a=YH(this,a),b&&b.write(a,c),b=a):b="^"===a.charAt(0)&&" "!==a.charAt(1)?b.read(a,c):YH(this,a),b;case "object":if(nH(a))if("^ "===a[0])if(this.Nc)if(17>a.length&&this.Nc.fromArray){d=[];for(c=1;c<a.length;c+=2)d.push(this.decode(a[c],b,!0,!1)),d.push(this.decode(a[c+1],b,!1,!1));b=this.Nc.fromArray(d,a)}else{d=this.Nc.init(a);for(c=1;c<a.length;c+=2)d=this.Nc.add(d,this.decode(a[c],b,!0,!1),
this.decode(a[c+1],b,!1,!1),a);b=this.Nc.finalize(d,a)}else{d=[];for(c=1;c<a.length;c+=2)d.push(this.decode(a[c],b,!0,!1)),d.push(this.decode(a[c+1],b,!1,!1));b=TH(d,!1)}else b=ZH(this,a,b,c,d);else{c=mH(a);var e=c[0];if((d=1==c.length?this.decode(e,b,!1,!1):null)&&d instanceof WH)a=a[e],c=this.vb[d.cc],b=null!=c?c(this.decode(a,b,!1,!0),this):DH(d.cc,this.decode(a,b,!1,!1));else if(this.Nc)if(16>c.length&&this.Nc.fromArray){var f=[];for(d=0;d<c.length;d++)e=c[d],f.push(this.decode(e,b,!0,!1)),f.push(this.decode(a[e],
b,!1,!1));b=this.Nc.fromArray(f,a)}else{f=this.Nc.init(a);for(d=0;d<c.length;d++)e=c[d],f=this.Nc.add(f,this.decode(e,b,!0,!1),this.decode(a[e],b,!1,!1),a);b=this.Nc.finalize(f,a)}else{f=[];for(d=0;d<c.length;d++)e=c[d],f.push(this.decode(e,b,!0,!1)),f.push(this.decode(a[e],b,!1,!1));b=TH(f,!1)}}return b}return a};XH.prototype.decode=XH.prototype.decode;
function ZH(a,b,c,d,e){if(e){var f=[];for(e=0;e<b.length;e++)f.push(a.decode(b[e],c,d,!1));return f}f=c&&c.idx;if(2===b.length&&"string"===typeof b[0]&&(e=a.decode(b[0],c,!1,!1))&&e instanceof WH)return b=b[1],f=a.vb[e.cc],null!=f?f=f(a.decode(b,c,d,!0),a):DH(e.cc,a.decode(b,c,d,!1));c&&f!=c.idx&&(c.idx=f);if(a.ce){if(32>=b.length&&a.ce.fromArray){f=[];for(e=0;e<b.length;e++)f.push(a.decode(b[e],c,d,!1));return a.ce.fromArray(f,b)}f=a.ce.init(b);for(e=0;e<b.length;e++)f=a.ce.add(f,a.decode(b[e],c,
d,!1),b);return a.ce.finalize(f,b)}f=[];for(e=0;e<b.length;e++)f.push(a.decode(b[e],c,d,!1));return f}function YH(a,b){if("~"===b.charAt(0)){var c=b.charAt(1);if("~"===c||"^"===c||"`"===c)return b.substring(1);if("#"===c)return new WH(b.substring(2));var d=a.vb[c];return null==d?a.ng(c,b.substring(2)):d(b.substring(2),a)}return b};function $H(a){this.Qi=new XH(a)}function aI(a,b){this.Tj=a;this.options=b||{};this.cache=this.options.cache?this.options.cache:new sH}aI.prototype.read=function(a){var b=this.cache;a=this.Tj.Qi.decode(JSON.parse(a),b);this.cache.clear();return a};aI.prototype.read=aI.prototype.read;var bI=0,Ja=(8|3&Math.round(14*Math.random())).toString(16),dI="transit$guid$"+(oH()+oH()+oH()+oH()+oH()+oH()+oH()+oH()+"-"+oH()+oH()+oH()+oH()+"-4"+oH()+oH()+oH()+"-"+Ja+oH()+oH()+oH()+"-"+oH()+oH()+oH()+oH()+oH()+oH()+oH()+oH()+oH()+oH()+oH()+oH());
function eI(a){if(null==a)return"null";if(a===String)return"string";if(a===Boolean)return"boolean";if(a===Number)return"number";if(a===Array)return"array";if(a===Object)return"map";var b=a[dI];null==b&&("undefined"!=typeof Object.defineProperty?(b=++bI,Object.defineProperty(a,dI,{value:b,enumerable:!1})):a[dI]=b=++bI);return b}function fI(a,b){a=a.toString();for(var c=a.length;c<b;c++)a="0"+a;return a}function gI(){}gI.prototype.tag=function(){return"_"};gI.prototype.rep=function(){return null};
gI.prototype.stringRep=function(){return"null"};function hI(){}hI.prototype.tag=function(){return"s"};hI.prototype.rep=function(a){return a};hI.prototype.stringRep=function(a){return a};function iI(){}iI.prototype.tag=function(){return"i"};iI.prototype.rep=function(a){return a};iI.prototype.stringRep=function(a){return a.toString()};function jI(){}jI.prototype.tag=function(){return"i"};jI.prototype.rep=function(a){return a.toString()};jI.prototype.stringRep=function(a){return a.toString()};
function kI(){}kI.prototype.tag=function(){return"?"};kI.prototype.rep=function(a){return a};kI.prototype.stringRep=function(a){return a.toString()};function lI(){}lI.prototype.tag=function(){return"array"};lI.prototype.rep=function(a){return a};lI.prototype.stringRep=function(){return null};function mI(){}mI.prototype.tag=function(){return"map"};mI.prototype.rep=function(a){return a};mI.prototype.stringRep=function(){return null};function nI(){}nI.prototype.tag=function(){return"t"};
nI.prototype.rep=function(a){return a.getUTCFullYear()+"-"+fI(a.getUTCMonth()+1,2)+"-"+fI(a.getUTCDate(),2)+"T"+fI(a.getUTCHours(),2)+":"+fI(a.getUTCMinutes(),2)+":"+fI(a.getUTCSeconds(),2)+"."+fI(a.getUTCMilliseconds(),3)+"Z"};nI.prototype.stringRep=function(a,b){return b.rep(a)};function oI(){}oI.prototype.tag=function(){return"m"};oI.prototype.rep=function(a){return a.valueOf()};oI.prototype.stringRep=function(a){return a.valueOf().toString()};oI.prototype.getVerboseHandler=function(){return new nI};
function pI(){}pI.prototype.tag=function(){return"u"};pI.prototype.rep=function(a){return a.toString()};pI.prototype.stringRep=function(a){return a.toString()};function qI(){}qI.prototype.tag=function(){return":"};qI.prototype.rep=function(a){return a._name};qI.prototype.stringRep=function(a,b){return b.rep(a)};function rI(){}rI.prototype.tag=function(){return"$"};rI.prototype.rep=function(a){return a._name};rI.prototype.stringRep=function(a,b){return b.rep(a)};function sI(){}sI.prototype.tag=function(a){return a.tag};
sI.prototype.rep=function(a){return a.rep};sI.prototype.stringRep=function(){return null};function tI(){}tI.prototype.tag=function(){return"set"};tI.prototype.rep=function(a){var b=[];a.forEach(function(c){b.push(c)});return DH("array",b)};tI.prototype.stringRep=function(){return null};function uI(){}uI.prototype.tag=function(){return"map"};uI.prototype.rep=function(a){return a};uI.prototype.stringRep=function(){return null};function vI(){}vI.prototype.tag=function(){return"map"};
vI.prototype.rep=function(a){return a};vI.prototype.stringRep=function(){return null};function wI(){}wI.prototype.tag=function(){return"b"};wI.prototype.rep=function(a){return a.toString("base64")};wI.prototype.stringRep=function(){return null};function xI(){}xI.prototype.tag=function(){return"b"};
xI.prototype.rep=function(a){for(var b,c=0,d=a.length,e="",f;c<d;)f=a.subarray(c,Math.min(c+32768,d)),e+=String.fromCharCode.apply(null,f),c+=32768;if("undefined"!=typeof btoa)b=btoa(e);else{a=String(e);d=0;e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d";for(f="";a.charAt(d|0)||(e="\x3d",d%1);f+=e.charAt(63&b>>8-d%1*8)){c=a.charCodeAt(d+=.75);if(255<c)throw Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");b=b<<8|c}b=f}return b};
xI.prototype.stringRep=function(){return null};
function yI(){this.vb={};this.set(null,new gI);this.set(String,new hI);this.set(Number,new iI);this.set(Na,new jI);this.set(Boolean,new kI);this.set(Array,new lI);this.set(Object,new mI);this.set(Date,new oI);this.set(JH,new pI);this.set(GH,new qI);this.set(HH,new rI);this.set(CH,new sI);this.set(UH,new tI);this.set(OH,new uI);this.set(NH,new vI);"undefined"!=typeof la.Buffer&&this.set(la.Buffer,new wI);"undefined"!=typeof Uint8Array&&this.set(Uint8Array,new xI)}
yI.prototype.get=function(a){a="string"===typeof a?this.vb[a]:this.vb[eI(a)];return null!=a?a:this.vb["default"]};yI.prototype.get=yI.prototype.get;yI.prototype.set=function(a,b){var c;if(c="string"===typeof a)a:{switch(a){case "null":case "string":case "boolean":case "number":case "array":case "map":c=!1;break a}c=!0}c?this.vb[a]=b:this.vb[eI(a)]=b};function zI(a){this.jb=a||{};this.Ef=null!=this.jb.preferStrings?this.jb.preferStrings:!0;this.Eh=this.jb.objectBuilder||null;this.transform=this.jb.transform||null;this.vb=new yI;if(a=this.jb.handlers){if(nH(a)||!a.forEach)throw Error('transit writer "handlers" option must be a map');var b=this;a.forEach(function(c,d){if(void 0!==d)b.vb.set(d,c);else throw Error("Cannot create handler for JavaScript undefined");})}this.Le=this.jb.handlerForForeign;this.Kf=this.jb.unpack||function(c){return c instanceof
OH&&null===c.Pa?c.Ua:!1};this.We=this.jb&&this.jb.verbose||!1}zI.prototype.handler=function(a){var b=this.vb.get(null==a?null:a.constructor);return null!=b?b:(a=a&&a.transitTag)?this.vb.get(a):null};function AI(a,b,c,d,e){a=a+b+c;return e?e.write(a,d):a}function BI(a,b,c){var d=[];if(nH(b))for(var e=0;e<b.length;e++)d.push(CI(a,b[e],!1,c));else b.forEach(function(f){d.push(CI(a,f,!1,c))});return d}function DI(a,b){return"string"!==typeof b?(a=a.handler(b))&&1===a.tag(b).length:!0}
function EI(a,b){var c=a.Kf(b),d=!0;if(c){for(b=0;b<c.length&&(d=DI(a,c[b]),d);b+=2);return d}if(b.keys){c=b.keys();var e=null;if(c.next){for(e=c.next();!e.done;){d=DI(a,e.value);if(!d)break;e=c.next()}return d}}if(b.forEach)return b.forEach(function(f,h){d=d&&DI(a,h)}),d;throw Error("Cannot walk keys of object type "+(null==b?null:b.constructor).name);}
function FI(a){if(a.constructor.transit$isObject)return!0;var b=a.constructor.toString();b=b.substr(9);b=b.substr(0,b.indexOf("("));b="Object"==b;"undefined"!=typeof Object.defineProperty?Object.defineProperty(a.constructor,"transit$isObject",{value:b,enumerable:!1}):a.constructor.transit$isObject=b;return b}
function GI(a,b,c){var d=null,e=null,f=null;d=null;var h=0;if(b.constructor===Object||null!=b.forEach||a.Le&&FI(b)){if(a.We){if(null!=b.forEach)if(EI(a,b)){var k={};b.forEach(function(m,n){k[CI(a,n,!0,!1)]=CI(a,m,!1,c)})}else{d=a.Kf(b);e=[];f=AI("~#","cmap","",!0,c);if(d)for(;h<d.length;h+=2)e.push(CI(a,d[h],!1,!1)),e.push(CI(a,d[h+1],!1,c));else b.forEach(function(m,n){e.push(CI(a,n,!1,!1));e.push(CI(a,m,!1,c))});k={};k[f]=e}else for(d=mH(b),k={};h<d.length;h++)k[CI(a,d[h],!0,!1)]=CI(a,b[d[h]],!1,
c);return k}if(null!=b.forEach){if(EI(a,b)){d=a.Kf(b);k=["^ "];if(d)for(;h<d.length;h+=2)k.push(CI(a,d[h],!0,c)),k.push(CI(a,d[h+1],!1,c));else b.forEach(function(m,n){k.push(CI(a,n,!0,c));k.push(CI(a,m,!1,c))});return k}d=a.Kf(b);e=[];f=AI("~#","cmap","",!0,c);if(d)for(;h<d.length;h+=2)e.push(CI(a,d[h],!1,c)),e.push(CI(a,d[h+1],!1,c));else b.forEach(function(m,n){e.push(CI(a,n,!1,c));e.push(CI(a,m,!1,c))});return[f,e]}k=["^ "];for(d=mH(b);h<d.length;h++)k.push(CI(a,d[h],!0,c)),k.push(CI(a,b[d[h]],
!1,c));return k}if(null!=a.Eh)return a.Eh(b,function(m){return CI(a,m,!0,c)},function(m){return CI(a,m,!1,c)});h=(null==b?null:b.constructor).name;d=Error("Cannot write "+h);d.data={obj:b,type:h};throw d;}
function CI(a,b,c,d){null!==a.transform&&(b=a.transform(b));var e=a.handler(b)||(a.Le?a.Le(b,a.vb):null),f=e?e.tag(b):null,h=e?e.rep(b):null;if(null!=e&&null!=f)switch(f){case "_":return c?AI("~","_","",c,d):null;case "s":return 0<h.length?(a=h.charAt(0),a="~"===a||"^"===a||"`"===a?"~"+h:h):a=h,AI("","",a,c,d);case "?":return c?AI("~","?",h.toString()[0],c,d):h;case "i":return Infinity===h?AI("~","z","INF",c,d):-Infinity===h?AI("~","z","-INF",c,d):isNaN(h)?AI("~","z","NaN",c,d):c||"string"===typeof h||
h instanceof Na?AI("~","i",h.toString(),c,d):h;case "d":return c?AI(h.Uj,"d",h,c,d):h;case "b":return AI("~","b",h,c,d);case "'":return a.We?(c={},b=AI("~#","'","",!0,d),c[b]=CI(a,h,!1,d),d=c):d=[AI("~#","'","",!0,d),CI(a,h,!1,d)],d;case "array":return BI(a,h,d);case "map":return GI(a,h,d);default:a:{if(1===f.length){if("string"===typeof h){d=AI("~",f,h,c,d);break a}if(c||a.Ef){(a=a.We&&e.getVerboseHandler())?(f=a.tag(b),h=a.stringRep(b,a)):h=e.stringRep(b,e);if(null!==h){d=AI("~",f,h,c,d);break a}d=
Error('Tag "'+f+'" cannot be encoded as string');d.data={tag:f,rep:h,obj:b};throw d;}}c=f;b=h;a.We?(e={},e[AI("~#",c,"",!0,d)]=CI(a,b,!1,d),d=e):d=[AI("~#",c,"",!0,d),CI(a,b,!1,d)]}return d}else throw d=(null==b?null:b.constructor).name,a=Error("Cannot write "+d),a.data={obj:b,type:d},a;}function HI(a,b){a=a.handler(b)||(a.Le?a.Le(b,a.vb):null);if(null!=a)return 1===a.tag(b).length?DH("'",b):b;a=(null==b?null:b.constructor).name;var c=Error("Cannot write "+a);c.data={obj:b,type:a};throw c;}
function II(a,b){this.me=a;this.options=b||{};this.cache=!1===this.options.cache?null:this.options.cache?this.options.cache:new rH}II.prototype.cj=function(){return this.me};II.prototype.marshaller=II.prototype.cj;II.prototype.write=function(a,b){var c=b||{};b=c.asMapKey||!1;var d=this.me.We?!1:this.cache;!1===c.marshalTop?a=CI(this.me,a,b,d):(c=this.me,a=JSON.stringify(CI(c,HI(c,a),b,d)));null!=this.cache&&this.cache.clear();return a};II.prototype.write=II.prototype.write;
II.prototype.register=function(a,b){this.me.vb.set(a,b)};II.prototype.register=II.prototype.register;function JI(a,b){if("json"===a||"json-verbose"===a||null==a)return a=new $H(b),new aI(a,b);throw Error("Cannot create reader of type "+a);}function KI(a,b){if("json"===a||"json-verbose"===a||null==a)return"json-verbose"===a&&(null==b&&(b={}),b.verbose=!0),a=new zI(b),new II(a,b);b=Error('Type must be "json"');b.data={type:a};throw b;};Cm.prototype.ba=function(a,b){return b instanceof Cm?this.bd===b.bd:b instanceof JH?this.bd===b.toString():!1};Cm.prototype.Pc=l;Cm.prototype.Hc=function(a,b){if(b instanceof Cm||b instanceof JH)return eg(this.toString(),b.toString());throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};JH.prototype.Pc=l;JH.prototype.Hc=function(a,b){if(b instanceof Cm||b instanceof JH)return eg(this.toString(),b.toString());throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};
Na.prototype.ba=function(a,b){return this.equiv(b)};JH.prototype.ba=function(a,b){return b instanceof Cm?b.ba(null,this):this.equiv(b)};CH.prototype.ba=function(a,b){return this.equiv(b)};Na.prototype.df=l;Na.prototype.ha=function(){return zH(this)};JH.prototype.df=l;JH.prototype.ha=function(){return Ge(this.toString())};CH.prototype.df=l;CH.prototype.ha=function(){return zH(this)};JH.prototype.Ia=l;JH.prototype.ea=function(a,b){return Vd(b,['#uuid "',t.B(this.toString()),'"'].join(""))};
function LI(a){for(var b=cm(R.j(null,Nn)),c=E(ub(b)),d=null,e=0,f=0;;)if(f<e){var h=d.wa(null,f);a[h]=b[h];f+=1}else if(c=E(c))d=c,Uf(d)?(c=me(d),f=ne(d),d=c,e=K(c),c=f):(c=H(d),a[c]=b[c],c=J(d),d=null,e=0),f=0;else break;return a}function MI(){}MI.prototype.init=function(){return ce(V)};MI.prototype.add=function(a,b,c){return mh.C(a,b,c)};MI.prototype.finalize=function(a){return ge(a)};MI.prototype.fromArray=function(a){return Fj.C?Fj.C(a,!0,!0):Fj.call(null,a,!0,!0)};function NI(){}
NI.prototype.init=function(){return ce(Cf)};NI.prototype.add=function(a,b){return lh.j(a,b)};NI.prototype.finalize=function(a){return ge(a)};NI.prototype.fromArray=function(a){return aj.j?aj.j(a,!0):aj.call(null,a,!0)};function OI(){}OI.prototype.tag=function(){return":"};OI.prototype.rep=function(a){return a.na};OI.prototype.stringRep=function(a){return a.na};function PI(){}PI.prototype.tag=function(){return"$"};PI.prototype.rep=function(a){return a.cc};PI.prototype.stringRep=function(a){return a.cc};
function QI(){}QI.prototype.tag=function(){return"list"};QI.prototype.rep=function(a){var b=[];a=E(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.wa(null,e);b.push(f);e+=1}else if(a=E(a))c=a,Uf(c)?(a=me(c),e=ne(c),c=a,d=K(a),a=e):(a=H(c),b.push(a),a=J(c),c=null,d=0),e=0;else break;return DH("array",b)};QI.prototype.stringRep=function(){return null};function RI(){}RI.prototype.tag=function(){return"map"};RI.prototype.rep=function(a){return a};RI.prototype.stringRep=function(){return null};
function SI(){}SI.prototype.tag=function(){return"set"};SI.prototype.rep=function(a){var b=[];a=E(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.wa(null,e);b.push(f);e+=1}else if(a=E(a))c=a,Uf(c)?(a=me(c),e=ne(c),c=a,d=K(a),a=e):(a=H(c),b.push(a),a=J(c),c=null,d=0),e=0;else break;return DH("array",b)};SI.prototype.stringRep=function(){return null};function TI(){}TI.prototype.tag=function(){return"array"};
TI.prototype.rep=function(a){var b=[];a=E(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.wa(null,e);b.push(f);e+=1}else if(a=E(a))c=a,Uf(c)?(a=me(c),e=ne(c),c=a,d=K(a),a=e):(a=H(c),b.push(a),a=J(c),c=null,d=0),e=0;else break;return b};TI.prototype.stringRep=function(){return null};function UI(){}UI.prototype.tag=function(){return"u"};UI.prototype.rep=function(a){return a.bd};UI.prototype.stringRep=function(a){return this.rep(a)};function VI(a,b){this.value=a;this.meta=b}function WI(){}
WI.prototype.tag=function(){return"with-meta"};WI.prototype.rep=function(a){return DH("array",[a.value,a.meta])};WI.prototype.stringRep=function(){return null};function XI(a,b){return a.write(b)};var YI={},ZI;function pJ(){return Rb("iPhone")&&!Rb("iPod")&&!Rb("iPad")};var qJ=Rb("Opera"),rJ=Rb("Trident")||Rb("MSIE"),sJ=Rb("Edge"),tJ=Rb("Gecko")&&!(Kb("WebKit")&&!Rb("Edge"))&&!(Rb("Trident")||Rb("MSIE"))&&!Rb("Edge"),uJ=Kb("WebKit")&&!Rb("Edge");uJ&&Rb("Mobile");Rb("Macintosh");Rb("Windows");Rb("Linux")||Rb("CrOS");var $a=la.navigator||null;$a&&($a.appVersion||"").indexOf("X11");Rb("Android");pJ();Rb("iPad");Rb("iPod");pJ()||Rb("iPad")||Rb("iPod");Kb("KaiOS");Kb("GAFP");function wJ(){var a=la.document;return a?a.documentMode:void 0}var xJ;
a:{var ab="",bb=function(){var a=Lb;if(tJ)return/rv:([^\);]+)(\)|;)/.exec(a);if(sJ)return/Edge\/([\d\.]+)/.exec(a);if(rJ)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(uJ)return/WebKit\/(\S+)/.exec(a);if(qJ)return/(?:Version)[ \/]?(\S+)/.exec(a)}();bb&&(ab=bb?bb[1]:"");if(rJ){var cb=wJ();if(null!=cb&&cb>parseFloat(ab)){xJ=String(cb);break a}}xJ=ab}var La={};
function BJ(a){return Ka(a,function(){{var b=0;const e=Jb(String(xJ)).split("."),f=Jb(String(a)).split("."),h=Math.max(e.length,f.length);for(let k=0;0==b&&k<h;k++){var c=e[k]||"",d=f[k]||"";do{c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""];d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""];if(0==c[0].length&&0==d[0].length)break;b=Mb(0==c[1].length?0:parseInt(c[1],10),0==d[1].length?0:parseInt(d[1],10))||Mb(0==c[2].length,0==d[2].length)||Mb(c[2],d[2]);c=c[3];d=d[3]}while(0==b)}}return 0<=b})}var db;
db=la.document&&rJ?wJ():void 0;try{(new self.OffscreenCanvas(0,0)).getContext("2d")}catch(a){}!tJ&&!rJ||rJ&&9<=Number(db)||tJ&&BJ("1.9.1");rJ&&BJ("9");(function(a){if("undefined"===typeof qc||"undefined"===typeof rc||"undefined"===typeof YI||"undefined"===typeof ZI)ZI=function(b,c,d){this.f=b;this.eh=c;this.jj=d;this.J=393216;this.T=0},ZI.prototype.ga=function(b,c){return new ZI(this.f,this.eh,c)},ZI.prototype.fa=function(){return this.jj},ZI.Ab=!0,ZI.sb="cljs.core.async/t_cljs$core$async23610",ZI.Eb=function(b){return Vd(b,"cljs.core.async/t_cljs$core$async23610")};return new ZI(a,!0,V)})(function(){return null});function vK(a,b){var c=vh(Xk,a,b);return uf(c,wi(function(d){return c===d},b))}function wK(a,b){return K(a)<K(b)?w.C(Bf,b,a):w.C(Bf,a,b)}var xK=function xK(a){switch(arguments.length){case 1:return xK.B(arguments[0]);case 2:return xK.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Pe(c.slice(2),0,null);return xK.G(arguments[0],arguments[1],c)}};xK.B=function(a){return a};
xK.j=function(a,b){for(;;)if(K(b)<K(a)){var c=a;a=b;b=c}else return w.C(function(d,e){return function(f,h){return bg(e,h)?f:Lf.j(f,h)}}(a,b),a,a)};xK.G=function(a,b,c){a=vK(function(d){return-K(d)},Bf.G(c,b,M([a])));return w.C(xK,H(a),Re(a))};xK.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.G(b,a,c)};xK.aa=2;
var yK=function yK(a){switch(arguments.length){case 1:return yK.B(arguments[0]);case 2:return yK.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Pe(c.slice(2),0,null);return yK.G(arguments[0],arguments[1],c)}};yK.B=function(a){return a};yK.j=function(a,b){return K(a)<K(b)?w.C(function(c,d){return bg(b,d)?Lf.j(c,d):c},a,a):w.C(Lf,a,b)};yK.G=function(a,b,c){return w.C(yK,a,Bf.j(c,b))};
yK.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.G(b,a,c)};yK.aa=2;function zK(a,b){return K(a)<=K(b)&&Qh(function(c){return bg(b,c)},a)};var BK=/[\s]/;function CK(a){return null==a?null:","===a?!0:BK.test(a)}function DK(a){return null==a?null:!/[^0-9]/.test(a)}
function EK(a,b){return function e(d){return new Yg(null,function(){for(;;){var f=E(d);if(f){if(Uf(f)){var h=me(f),k=K(h),m=bh(k);return function(){for(var p=0;;)if(p<k){var u=x(h,p),v=m;if(u instanceof A||u instanceof C){var y=jl(Ug,Xg)(u),F=O(y,0,null);y=O(y,1,null);var G=u instanceof A?Le:Wg;u=null==F?G.j?G.j(a,y):G.call(null,a,y):D.j("_",F)?G.B?G.B(y):G.call(null,y):u}v.add(u);p+=1}else return!0}()?dh(fh(m),e(ne(f))):dh(fh(m),null)}var n=H(f);return uf(n instanceof A||n instanceof C?function(){var p=
jl(Ug,Xg)(n),u=O(p,0,null);p=O(p,1,null);var v=n instanceof A?Le:Wg;return null==u?v.j?v.j(a,p):v.call(null,a,p):D.j("_",u)?v.B?v.B(p):v.call(null,p):n}():n,e(Re(f)))}return null}},null,null)}(b)}function FK(a,b){a=parseInt(a,b);return r(isNaN(a))?-1:a};function GK(a){if(null!=a&&null!=a.Qd)a=a.Qd(a);else{var b=GK[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=GK._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Oc("Reader.read-char",a);}return a}function HK(a){if(null!=a&&null!=a.Ee)a=a.Ee(a);else{var b=HK[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=HK._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Oc("Reader.peek-char",a);}return a}
function IK(a,b){if(null!=a&&null!=a.oh)a.oh(a,b);else{var c=IK[ra(null==a?null:a)];if(null!=c)c.j?c.j(a,b):c.call(null,a,b);else if(c=IK._,null!=c)c.j?c.j(a,b):c.call(null,a,b);else throw Oc("IPushbackReader.unread",a);}}function JK(a){if(null!=a&&null!=a.Hi)a=a.Hi(a);else{var b=JK[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=JK._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Oc("IndexingReader.get-line-number",a);}return a}
function KK(a){if(null!=a&&null!=a.Fi)a=a.Fi(a);else{var b=KK[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=KK._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Oc("IndexingReader.get-column-number",a);}return a}function LK(a){if(null!=a&&null!=a.Gi)a=a.Gi(a);else{var b=LK[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=LK._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Oc("IndexingReader.get-file-name",a);}return a}
function MK(a,b){this.s=a;this.Rh=b;this.je=0}MK.prototype.Qd=function(){if(this.Rh>this.je){var a=this.s.charAt(this.je);this.je+=1;return a}return null};MK.prototype.Ee=function(){return this.Rh>this.je?this.s.charAt(this.je):null};function NK(a,b){this.Kh=a;this.buf=b;this.Oc=this.Qf=1}NK.prototype.Qd=function(){var a=this.Oc<this.Qf?this.buf[this.Oc]:this.Kh.Qd(null);this.Oc<this.Qf&&(this.Oc+=1);return null==a?null:Fg(a)};
NK.prototype.Ee=function(){var a=this.Oc<this.Qf?this.buf[this.Oc]:this.Kh.Ee(null);return null==a?null:Fg(a)};NK.prototype.oh=function(a,b){if(r(b)){if(0===this.Oc)throw Error("Pushback buffer is full");--this.Oc;return this.buf[this.Oc]=b}return null};function OK(a){return null!=a?l===a.mk?!0:!1:!1};function PK(a,b,c,d){var e=K(b);a=r(a)?0:10<e?10:e;b=hi.j(Wh.j(QK,!0),ii.j(a,b));b=uh(t,ji(1,ri.j(ni(" "),b)));e=a<e?"...":null;return[t.B(c),t.B(b),e,t.B(d)].join("")}var QK,eb=$h(V),gb=$h(V),hb=$h(V),ib=$h(V),jb=B.C(V,bx,nm.O?nm.O():nm.call(null));
QK=new zm(Le.j("cljs.tools.reader.impl.inspect","inspect*"),function(a,b){return null==b?Us:"string"===typeof b?xn:b instanceof C?rx:"number"===typeof b?rx:b instanceof A?rx:Tf(b)?Wx:Ng(b)?sB:Qf(b)?gz:Of(b)?Qp:D.j(b,!0)?rx:D.j(b,!1)?rx:Nc(b)},jb,eb,gb,hb,ib);QK.nb(null,xn,function(a,b){a=r(a)?5:20;var c=b.length>a?'..."':'"',d=b.length;return['"',t.B(b.substring(0,a<d?a:d)),c].join("")});QK.nb(null,rx,function(a,b){return t.B(b)});QK.nb(null,Pe,function(){return"\x3cindexed seq\x3e"});
QK.nb(null,yj,function(){return"\x3cmap seq\x3e"});QK.nb(null,dk,function(){return"\x3cmap seq\x3e"});QK.nb(null,Rg,function(){return"\x3ccons\x3e"});QK.nb(null,Yg,function(){return"\x3clazy seq\x3e"});QK.nb(null,Us,function(){return"nil"});QK.nb(null,sB,function(a,b){return PK(a,b,"(",")")});QK.nb(null,gz,function(a,b){var c=K(b),d=r(a)?0:c;b=uh(T,ii.j(d,b));return PK(a,b,"{",c>d?"...}":"}")});QK.nb(null,Qp,function(a,b){return PK(a,b,"#{","}")});QK.nb(null,Wx,function(a,b){return PK(a,b,"[","]")});
QK.nb(null,Am,function(a,b){return Gl.G(M([Nc(b)]))});function WK(a,b,c){b=new q(null,2,[Jq,dt,ts,b],null);a=OK(a)?Q.G(b,gu,LK(a),M([bn,JK(a),Lr,KK(a)])):b;var d=gu.B(a);b=bn.B(a);var e=Lr.B(a);d=r(d)?[t.B(d)," "].join(""):null;b=r(b)?["[line ",t.B(b),", col ",t.B(e),"]"].join(""):null;c=xh(t,d,b,r(r(d)?d:b)?" ":null,c);throw Fm(c,a);}function XK(a,b){return WK(a,Rq,M([uh(t,b)]))}function ZK(a,b){return WK(a,lp,M([uh(t,b)]))}function eL(a,b){return WK(a,my,M([uh(t,b)]))}
function fL(a,b,c,d){XK(a,M(["The map literal starting with ",QK.j(!1,H(d)),r(b)?[" on line ",t.B(b)," column ",t.B(c)].join(""):null," contains ",K(d)," form(s). Map literals must contain an even number of forms."]))}function gL(a,b,c){return XK(a,M(["Invalid ",Xg(b),": ",c,"."]))}function hL(a,b,c){return XK(a,M(["Invalid character: ",c," found while reading ",Xg(b),"."]))}
function iL(a,b){a:{var c=xn instanceof C?xn.na:null;switch(c){case "regex":c='#"';break a;case "string":c='"';break a;default:throw Error(["No matching clause: ",t.B(c)].join(""));}}return eL(a,M(["Unexpected EOF reading ",Xg(xn)," starting ",vh(t,c,b),"."]))}function jL(a,b){return ZK(a,M(["Invalid digit ",b," in unicode character."]))}function kL(a){return XK(a,M(["Octal escape sequence must be in range [0, 377]."]))}
function lL(a,b){b=function(c){return function f(e){return new Yg(null,function(){for(var h=e;;)if(h=E(h)){if(Uf(h)){var k=me(h),m=K(k),n=bh(m);a:for(var p=0;;)if(p<m){var u=x(k,p),v=O(u,0,null);1<O(u,1,null)&&n.add(v);p+=1}else{k=!0;break a}return k?dh(fh(n),f(ne(h))):dh(fh(n),null)}n=H(h);k=O(n,0,null);if(1<O(n,1,null))return uf(k,f(Re(h)));h=Re(h)}else return null},null,null)}(il(c))}(b);return xh(t,a,1<K(b)?"s":null,": ",ji(1,ri.j(ni(", "),b)))}
function mL(a,b,c){b=Xg(b);XK(a,M([lL([String(b.charAt(0)).toUpperCase()+String(b.substr(1)).toLowerCase()," literal contains duplicate key"].join(""),c)]))};function nL(a){for(var b=a.Qd(null);;)if(CK.B?CK.B(b):CK.call(null,b))b=a.Qd(null);else return b}var oL=/^([-+]?)(?:(0)|([1-9][0-9]*)|0[xX]([0-9A-Fa-f]+)|0([0-7]+)|([1-9][0-9]?)[rR]([0-9A-Za-z]+)|0[0-9]+)(N)?$/,pL=/([-+]?[0-9]+)\/([0-9]+)/,qL=/([-+]?[0-9]+(\.[0-9]*)?([eE][-+]?[0-9]+)?)(M)?/;function rL(a,b){a=ml(a,b);return O(a,0,null)===b}
function sL(a){if(rL(oL,a)){var b=mg(ml(oL,a));if(null!=(b.B?b.B(2):b.call(null,2)))a=0;else{a="-"===(b.B?b.B(1):b.call(null,1));b=null!=(b.B?b.B(3):b.call(null,3))?new W(null,2,5,Y,[b.B?b.B(3):b.call(null,3),10],null):null!=(b.B?b.B(4):b.call(null,4))?new W(null,2,5,Y,[b.B?b.B(4):b.call(null,4),16],null):null!=(b.B?b.B(5):b.call(null,5))?new W(null,2,5,Y,[b.B?b.B(5):b.call(null,5),8],null):null!=(b.B?b.B(7):b.call(null,7))?new W(null,2,5,Y,[b.B?b.B(7):b.call(null,7),parseInt(b.B?b.B(6):b.call(null,
6))],null):new W(null,2,5,Y,[null,null],null);var c=b.B?b.B(0):b.call(null,0);null==c?a=null:(b=parseInt(c,b.B?b.B(1):b.call(null,1)),a=a?-1*b:b,a=r(isNaN(a))?null:a)}}else rL(qL,a)?(b=mg(ml(qL,a)),a=null!=(b.B?b.B(4):b.call(null,4))?parseFloat(b.B?b.B(1):b.call(null,1)):parseFloat(a)):rL(pL,a)?(b=mg(ml(pL,a)),a=b.B?b.B(1):b.call(null,1),b=b.B?b.B(2):b.call(null,2),a=r(ml(/^\+/,a))?Mg.j(a,1):a,a=parseInt(a)/parseInt(b)):a=null;return a}
function tL(a){if(""===a||!0===/:$/.test(a)||!0===/^::/.test(a))return null;var b=a.indexOf("/"),c=0<b?Mg.C(a,0,b):null;if(null!=c){b+=1;if(b===K(a))return null;a=Mg.j(a,b);return DK(of(a,0))||""===a||!1!==/:$/.test(c)||"/"!==a&&-1!==a.indexOf("/")?null:new W(null,2,5,Y,[c,a],null)}return"/"===a||-1===a.indexOf("/")?new W(null,2,5,Y,[null,a],null):null}
var uL=function uL(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new Pe(c.slice(1),0,null):null;return uL.G(arguments[0],c)};uL.G=function(a){for(;;){var b=a.Qd(null);if("\n"===b||"\n"===b||null==b)break}return a};uL.aa=1;uL.ca=function(a){var b=H(a);a=J(a);return this.G(b,a)};
function vL(){return function(){function a(c,d){var e=null;if(1<arguments.length){e=0;for(var f=Array(arguments.length-1);e<f.length;)f[e]=arguments[e+1],++e;e=new Pe(f,0,null)}return b.call(this,c,e)}function b(c){return XK(c,M(["Unreadable form"]))}a.aa=1;a.ca=function(c){var d=H(c);c=Re(c);return b(d,c)};a.G=b;return a}()};new pc;function wL(a){return"#"!==a?"'"!==a?":"!==a?xL.B?xL.B(a):xL.call(null,a):!1:!1:!1}function yL(a){return"@"===a||"`"===a||"~"===a}function zL(a,b,c,d){if(Kc(c))return eL(a,M(["Unexpected EOF while reading start of ",Xg(b),"."]));if(r(r(d)?yL(c):d))return hL(a,b,c);d=new pc;for(IK(a,c);;){if(CK(c)||wL(c)||null==c)return t.B(d);if(yL(c))return hL(a,b,c);d.append(GK(a));c=HK(a)}}
function AL(a,b,c){b=GK(a);if(r(b)){var d=BL.B?BL.B(b):BL.call(null,b);if(r(d))return d.C?d.C(a,b,c):d.call(null,a,b,c);IK(a,b);return CL.C?CL.C(a,b,c):CL.call(null,a,b,c)}return eL(a,M(["Unexpected EOF while reading dispatch character."]))}function DL(a,b){return XK(a,M(["Unmatched delimiter ",b,"."]))}
function EL(a,b,c){b=1+b;if(K(a)!==b)throw ZK(null,M(["Invalid unicode literal: \\",a,"."]));for(var d=1,e=0;;){if(d===b)return String.fromCharCode(e);var f=FK(of(a,d),c);if(-1===f)return c=of(a,d),ZK(null,M(["Invalid digit ",c," in unicode character \\",a,"."]));e=f+e*c;d+=1}}
function FL(a,b,c,d,e){for(var f=1,h=FK(b,c);;){if(-1===h)return jL(a,b);if(f!==d){var k=HK(a);var m=CK(k);m||(m=xL.B?xL.B(k):xL.call(null,k),m=r(m)?m:null==k);if(r(m))return r(e)?ZK(a,M(["Invalid unicode literal. Unicode literals should be ",d,"characters long.  ","value suppled is ",f,"characters long."])):String.fromCharCode(h);m=FK(k,c);GK(a);if(-1===m)return jL(a,k);h=m+h*c;f+=1}else return String.fromCharCode(h)}}
function GL(a){var b=GK(a);if(null!=b){b=wL(b)||yL(b)||CK(b)?t.B(b):zL(a,Ow,b,!1);var c=b.length;if(1===c)return of(b,0);if("newline"===b)return"\n";if("space"===b)return" ";if("tab"===b)return"\t";if("backspace"===b)return"\b";if("formfeed"===b)return"\f";if("return"===b)return"\r";if(r(0==b.lastIndexOf("u",0)))return b=EL(b,4,16),c=b.charCodeAt(),55295<c&&57344>c?(b=c.toString(16),a=XK(a,M(["Invalid character literal \\u",b,"."]))):a=b,a;if(r(0==b.lastIndexOf("o",0))){--c;if(3<c)return XK(a,M(["Invalid octal escape sequence in a character literal:",
b,". Octal escape sequences must be 3 or fewer digits."]));b=EL(b,c,8);return 255<(b|0)?kL(a):b}return XK(a,M(["Unsupported character: ",b,"."]))}return eL(a,M(["Unexpected EOF while reading character."]))}function HL(a){return OK(a)?new W(null,2,5,Y,[JK(a),(KK(a)|0)-1|0],null):null}
function IL(a,b,c,d){var e=HL(c),f=O(e,0,null);e=O(e,1,null);b=null==b?null:Fg(b);for(var h=ce(Cf);;){var k=nL(c);if(!r(k)){var m=a,n=f,p=e,u=K(h);eL(c,M(["Unexpected EOF while reading ",r(u)?["item ",t.B(u)," of "].join(""):null,Xg(m),r(n)?[", starting at line ",t.B(n)," and column ",t.B(p)].join(""):null,"."]))}if(D.j(b,null==k?null:Fg(k)))return ge(h);m=xL.B?xL.B(k):xL.call(null,k);r(m)?(k=m.C?m.C(c,k,d):m.call(null,c,k,d),h=k!==c?lh.j(h,k):h):(IK(c,k),k=JL?JL(c,!0,null,d):KL.call(null,c,!0,null,
d),h=k!==c?lh.j(h,k):h)}}function LL(a,b,c){a=IL(sB,")",a,c);return Mf(a)?Se:uh(Qg,a)}function ML(a,b,c){return IL(Wx,"]",a,c)}function NL(a,b,c){var d=HL(a);b=O(d,0,null);d=O(d,1,null);c=IL(gz,"}",a,c);var e=K(c),f=fl(2,c),h=Tk(f);!Sh(e)&&fL(a,b,d,c);D.j(K(h),K(f))||mL(a,gz,f);if(e<=2*Dj)a=Fj(ig(c),!0,!0);else a:for(a=ig(c),b=a.length,d=0,e=ce(Ej);;)if(d<b)c=d+2,e=he(e,a[d],a[d+1]),d=c;else{a=ge(e);break a}return a}
function OL(a,b){for(var c=function(){var h=new pc;h.append(b);return h}(),d=GK(a);;){if(r(function(){var h=CK(d);if(h)return h;h=xL.B?xL.B(d):xL.call(null,d);return r(h)?h:null==d}())){var e=t.B(c);IK(a,d);var f=sL(e);return r(f)?f:XK(a,M(["Invalid number: ",e,"."]))}e=function(){var h=c;h.append(d);return h}();f=GK(a);c=e;d=f}}
function PL(a){var b=GK(a);switch(b){case "t":return"\t";case "r":return"\r";case "n":return"\n";case "\\":return"\\";case '"':return'"';case "b":return"\b";case "f":return"\f";case "u":return b=GK(a),-1===parseInt(b|0,16)?XK(a,M(["Invalid unicode escape: \\u",b,"."])):FL(a,b,16,4,!0);default:return DK(b)?(b=FL(a,b,8,3,!1),255<(b|0)?kL(a):b):XK(a,M(["Unsupported escape character: \\",b,"."]))}}
function QL(a){for(var b=new pc,c=GK(a);;){var d=c;if(D.j(null,d))return iL(a,M(['"',b]));if(D.j("\\",d)){d=function(){var f=b;f.append(PL(a));return f}();var e=GK(a);b=d;c=e}else{if(D.j('"',d))return t.B(b);d=function(){var f=b;f.append(c);return f}();e=GK(a);b=d;c=e}}}
function RL(a,b){b=zL(a,xx,b,!0);if(r(b))switch(b){case "nil":return null;case "true":return!0;case "false":return!1;case "/":return cp;default:var c=tL(b);c=r(c)?Le.j(c.B?c.B(0):c.call(null,0),c.B?c.B(1):c.call(null,1)):null;return r(c)?c:gL(a,xx,b)}else return null}
function SL(a){var b=GK(a);if(CK(b))return XK(a,M(["A single colon is not a valid keyword."]));b=zL(a,MC,b,!0);var c=tL(b);if(r(r(c)?-1===b.indexOf("::"):c)){var d=c.B?c.B(0):c.call(null,0);c=c.B?c.B(1):c.call(null,1);return":"===of(b,0)?gL(a,MC,[":",t.B(b)].join("")):Wg.j(d,c)}return gL(a,MC,[":",t.B(b)].join(""))}
function TL(a,b,c){b=JL?JL(a,!0,null,c):KL.call(null,a,!0,null,c);b=b instanceof C?Gf([b,!0]):b instanceof A?new q(null,1,[Kv,b],null):"string"===typeof b?new q(null,1,[Kv,b],null):b;Qf(b)||XK(a,M(["Metadata cannot be ",QK.j(!1,b),". Metadata must be a Symbol, Keyword, String or Map."]));c=JL?JL(a,!0,null,c):KL.call(null,a,!0,null,c);return null!=c&&(c.J&131072||l===c.ef)?Jf(c,Kk.G(M([Kf(c),b]))):XK(a,M(["Metadata can not be applied to ",QK.j(!1,c),". ","Metadata can only be applied to IMetas."]))}
function UL(a,b,c){b=IL(Qp,"}",a,c);c=Tk(b);D.j(K(b),K(c))||mL(a,Qp,b);return c}function VL(a){JL?JL(a,!0,null,!0):KL.call(null,a,!0,null,!0);return a}
function WL(a,b,c){b=GK(a);b=zL(a,zv,b,!0);var d=null==b?null:tL(b);if(null==d)var e=null;else e=O(d,0,null),d=O(d,1,null),e=r(e)?null:d;return r(e)?"{"===nL(a)?(c=IL(zv,"}",a,c),!Sh(K(c))&&fL(a,null,null,c),b=EK(t.B(e),fl(2,c)),c=fl(2,Re(c)),D.j(K(Tk(b)),K(b))||mL(a,zv,b),Wk(b,c)):XK(a,M(["Namespaced map with namespace ",b," does not specify a map."])):XK(a,M(["Invalid value used as namespace in namespaced map: ",b,"."]))}
function XL(a,b,c){b=JL?JL(a,!0,null,c):KL.call(null,a,!0,null,c);return D.j(BC,b)?Number.NaN:D.j(Hs,b)?Number.NEGATIVE_INFINITY:D.j(EA,b)?Number.POSITIVE_INFINITY:XK(a,M([["Invalid token: ##",t.B(b)].join("")]))}function xL(a){switch(a){case '"':return QL;case ":":return SL;case ";":return uL;case "^":return TL;case "(":return LL;case ")":return DL;case "[":return ML;case "]":return DL;case "{":return NL;case "}":return DL;case "\\":return GL;case "#":return AL;default:return null}}
function BL(a){switch(a){case "^":return TL;case "{":return UL;case "\x3c":return vL();case "!":return uL;case "_":return VL;case ":":return WL;case "#":return XL;default:return null}}
function CL(a,b,c){b=JL?JL(a,!0,null,c):KL.call(null,a,!0,null,c);var d=JL?JL(a,!0,null,c):KL.call(null,a,!0,null,c);b instanceof A||XK(a,M(["Invalid reader tag: ",QK.j(!1,"Reader tag must be a symbol"),". Reader tags must be symbols."]));var e=B.j(an.B(c),b);e=r(e)?e:V.B?V.B(b):V.call(null,b);if(r(e))return e.B?e.B(d):e.call(null,d);c=Am.B(c);return r(c)?c.j?c.j(b,d):c.call(null,b,d):XK(a,M(["No reader function for tag ",QK.j(!1,b),"."]))}
function KL(a){switch(arguments.length){case 1:return YL(V,arguments[0]);case 2:return YL(arguments[0],arguments[1]);case 4:return JL(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function YL(a,b){a=null!=a&&(a.J&64||l===a.ua)?uh(Gk,a):a;var c=B.j(a,my),d=!bg(a,my);return JL(b,d,c,a)}
function JL(a,b,c,d){try{for(;;){var e=GK(a);if(!CK(e)){if(null==e){if(r(b)){b=a;var f=r(null)?eL(b,M(["EOF while reading, starting at line ",null,"."])):eL(b,M(["EOF while reading."]))}else f=c;return f}if(DK(e)||("+"===e||"-"===e)&&DK(a.Ee(null)))return OL(a,e);var h=xL(e);if(r(h)){var k=h.C?h.C(a,e,d):h.call(null,a,e,d);if(k!==a)return k}else return RL(a,e)}}}catch(m){if(m instanceof Error){f=m;if(f instanceof Em){b=f instanceof Em?f.data:null;if(D.j(dt,Jq.B(b)))throw f;a=Kk.G(M([new q(null,1,
[Jq,dt],null),b,OK(a)?new q(null,3,[bn,JK(a),zB,KK(a),gu,LK(a)],null):null]));throw new Em(f.message,a,f);}a=Kk.G(M([new q(null,1,[Jq,dt],null),OK(a)?new q(null,3,[bn,JK(a),zB,KK(a),gu,LK(a)],null):null]));throw new Em(f.message,a,f);}throw m;}};var $L=function(){var a=new W(null,13,5,Y,[null,31,28,31,30,31,30,31,31,30,31,30,31],null),b=new W(null,13,5,Y,[null,31,29,31,30,31,30,31,31,30,31,30,31],null);return function(c,d){return B.j(r(d)?b:a,c)}}(),aM=/(\d\d\d\d)(?:-(\d\d)(?:-(\d\d)(?:[T](\d\d)(?::(\d\d)(?::(\d\d)(?:[.](\d+))?)?)?)?)?)?(?:[Z]|([-+])(\d\d):(\d\d))?/;function bM(a){a=parseInt(a,10);return Kc(isNaN(a))?a:null}
function cM(a,b,c,d){if(!(a<=b&&b<=c))throw Error([t.B(d)," Failed:  ",t.B(a),"\x3c\x3d",t.B(b),"\x3c\x3d",t.B(c)].join(""));return b}
function dM(a){var b=ll(aM,a);O(b,0,null);var c=O(b,1,null),d=O(b,2,null),e=O(b,3,null),f=O(b,4,null),h=O(b,5,null),k=O(b,6,null),m=O(b,7,null),n=O(b,8,null),p=O(b,9,null),u=O(b,10,null);if(Kc(b))throw Error(["Unrecognized date/time syntax: ",t.B(a)].join(""));a=bM(c);b=function(){var I=bM(d);return r(I)?I:1}();c=function(){var I=bM(e);return r(I)?I:1}();var v=function(){var I=bM(f);return r(I)?I:0}(),y=function(){var I=bM(h);return r(I)?I:0}(),F=function(){var I=bM(k);return r(I)?I:0}(),G=function(){a:if(D.j(3,
K(m)))var I=m;else if(3<K(m))I=Mg.C(m,0,3);else for(I=new pc(m);;)if(3>I.getLength())I=I.append("0");else{I=I.toString();break a}I=bM(I);return r(I)?I:0}();n=(D.j(n,"-")?-1:1)*(60*function(){var I=bM(p);return r(I)?I:0}()+function(){var I=bM(u);return r(I)?I:0}());return new W(null,8,5,Y,[a,cM(1,b,12,"timestamp month field must be in range 1..12"),cM(1,c,$L(b,0===Hg(a,4)&&(0!==Hg(a,100)||0===Hg(a,400))),"timestamp day field must be in range 1..last day in month"),cM(0,v,23,"timestamp hour field must be in range 0..23"),
cM(0,y,59,"timestamp minute field must be in range 0..59"),cM(0,F,D.j(y,59)?60:59,"timestamp second field must be in range 0..60"),cM(0,G,999,"timestamp millisecond field must be in range 0..999"),n],null)}
var eM=$h(null),fM=$h(Kk.G(M([new q(null,4,[Tz,function(a){if("string"===typeof a){var b=dM(a);if(r(b)){a=O(b,0,null);var c=O(b,1,null),d=O(b,2,null),e=O(b,3,null),f=O(b,4,null),h=O(b,5,null),k=O(b,6,null);b=O(b,7,null);b=new Date(Date.UTC(a,c-1,d,e,f,h,k)-6E4*b)}else throw Error(["Unrecognized date/time syntax: ",t.B(a)].join(""));return b}throw Error("Instance literal expects a string for its timestamp.");},wu,function(a){if("string"===typeof a)return new Cm(a.toLowerCase(),null);throw Error("UUID literal expects a string as its representation.");
},Bu,function(a){if(Tf(a))return yi.j(qj,a);throw Error("Queue literal expects a vector for its elements.");},py,function(a){if(Tf(a)){var b=[];a=E(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.wa(null,e);b.push(f);e+=1}else if(a=E(a))c=a,Uf(c)?(a=me(c),e=ne(c),c=a,d=K(a),a=e):(a=H(c),b.push(a),a=J(c),c=null,d=0),e=0;else break;return b}if(Qf(a)){b={};a=E(a);c=null;for(e=d=0;;)if(e<d){var h=c.wa(null,e);f=O(h,0,null);h=O(h,1,null);f=Xg(f);b[f]=h;e+=1}else if(a=E(a))Uf(a)?(d=me(a),a=ne(a),c=d,d=K(d)):
(d=H(a),c=O(d,0,null),d=O(d,1,null),c=Xg(c),b[c]=d,a=J(a),c=null,d=0),e=0;else break;return b}throw Error("JS literal expects a vector or map containing only string or unqualified keyword keys");}],null),V])));function gM(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");return d.replace(/%([0\- \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(e,f,h,k,m,n,p,u){if("%"==n)return"%";var v=c.shift();if("undefined"==typeof v)throw Error("[goog.string.format] Not enough arguments");arguments[0]=v;return gM.wd[n].apply(null,arguments)})}gM.wd={};
gM.wd.s=function(a,b,c){return isNaN(c)||""==c||a.length>=Number(c)?a:a=-1<b.indexOf("-",0)?a+Yb(" ",Number(c)-a.length):Yb(" ",Number(c)-a.length)+a};
gM.wd.f=function(a,b,c,d,e){d=a.toString();isNaN(e)||""==e||(d=parseFloat(a).toFixed(e));var f=0>Number(a)?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=Number(a)&&(d=f+d);if(isNaN(c)||d.length>=Number(c))return d;d=isNaN(e)?Math.abs(Number(a)).toString():Math.abs(Number(a)).toFixed(e);a=Number(c)-d.length-f.length;0<=b.indexOf("-",0)?d=f+d+Yb(" ",a):(b=0<=b.indexOf("0",0)?"0":" ",d=f+Yb(b,a)+d);return d};gM.wd.d=function(a,b,c,d,e,f,h,k){return gM.wd.f(parseInt(a,10),b,c,d,0,f,h,k)};
gM.wd.i=gM.wd.d;gM.wd.u=gM.wd.d;rJ&&BJ("9");!uJ||BJ("528");tJ&&BJ("1.9b")||rJ&&BJ("8")||qJ&&BJ("9.5")||uJ&&BJ("528");tJ&&!BJ("8")||rJ&&BJ("9");var AN=new W(null,3,5,Y,[3,12,0],null);function GN(a){return"string"===typeof a?D.j(a,"")?null:a:null}function HN(a){return"number"===typeof a?Gg(a):"string"===typeof a?(a=parseInt(a,10),r(isNaN(a))?null:a):null}D.j("default","nodejs");var MN="undefined"!==typeof window?window:null;function NN(a){a=aD(t.B(a),/-/,2);var b=O(a,0,null);a=O(a,1,null);b=ol(/\d+/,b);b=r(b)?zi.j(HN,b):null;return new q(null,2,[Un,b,Ky,r(a)?a.toLowerCase():null],null)}
function ON(a){var b=O(AN,0,null),c=O(AN,1,null),d=O(AN,2,null),e=Tf(a)?a:Un.B(NN(a));a=O(e,0,null);var f=O(e,1,null);e=O(e,2,null);e=zi.j(function(h){return r(h)?h:0},new W(null,3,5,Y,[a,f,e],null));a=O(e,0,null);f=O(e,1,null);e=O(e,2,null);if(!(b>a||D.j(b,a)&&(c>f||D.j(c,f)&&d>=e)))throw Fm("Insufficient `com.taoensso/encore` version, you may have a dependency conflict: see http://goo.gl/qBbLvC for solutions.",new q(null,2,[hv,YC(".",new W(null,3,5,Y,[a,f,e],null)),Jr,YC(".",new W(null,3,5,Y,[b,
c,d],null))],null));}var SN=function SN(a){switch(arguments.length){case 2:return SN.j(arguments[0],arguments[1]);case 3:return SN.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};SN.j=function(a,b){b=0>b?0:b;var c=K(a);return b>=c?Cf:jj(a,b,c)};SN.C=function(a,b,c){b=0>b?0:b;var d=Gg(K(a));c=c>d?d:c;return b>=c?Cf:jj(a,b,c)};SN.aa=3;
var TN=function TN(a){switch(arguments.length){case 2:return TN.j(arguments[0],arguments[1]);case 3:return TN.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};TN.j=function(a,b){var c=K(a);return 0>b?(b+=c,jj(a,0>b?0:b,c)):b>=c?Cf:jj(a,b,c)};TN.C=function(a,b,c){if(0>=c)return Cf;var d=Gg(K(a));if(0>b)return b+=d,b=0>b?0:b,c=b+c,jj(a,b,c>d?d:c);c=b+c;d=c>d?d:c;return b>=d?Cf:jj(a,b,d)};TN.aa=3;Wh.j(w,T);
(function(){var a=vb(MN,Xg("performance"),null);if(r(a)){var b=function(){var c=vb(a,Xg("now"),null);if(r(c))return c;c=vb(a,Xg("mozNow"),null);if(r(c))return c;c=vb(a,Xg("msNow"),null);if(r(c))return c;c=vb(a,Xg("oNow"),null);return r(c)?c:vb(a,Xg("webkitNow"),null)}();return r(b)?function(){return 1E6*Gg(b.call(a))}:function(){return 1E6*(new Date).getTime()}}return function(){return 1E6*(new Date).getTime()}})();
var tO=function tO(a){switch(arguments.length){case 2:return tO.j(arguments[0],arguments[1]);case 3:return tO.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};tO.j=function(a,b){return a.substring(b)};tO.C=function(a,b,c){return b>=c?"":a.substring(b,c)};tO.aa=3;
var uO=function uO(a){switch(arguments.length){case 2:return uO.j(arguments[0],arguments[1]);case 3:return uO.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};uO.j=function(a,b){return GN(a.substr(b))};uO.C=function(a,b,c){return GN(a.substr(b,c))};uO.aa=3;zi.j(t,"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_");
var yO=function yO(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Pe(c.slice(0),0,null):null;return yO.G(c)};yO.G=function(a){var b=null!=a&&(a.J&64||l===a.ua)?uh(Gk,a):a;a=B.j(b,Ym);var c=B.j(b,OB),d=B.j(b,EC),e=B.j(b,ou),f=B.j(b,Os),h=B.j(b,Jv),k=B.j(b,Zn),m=B.j(b,jv);b=B.j(b,yv);return Math.round((r(b)?31536E6*b:0)+(r(e)?2551392E3*e:0)+(r(c)?6048E5*c:0)+(r(k)?864E5*k:0)+(r(m)?36E5*m:0)+(r(h)?6E4*h:0)+(r(f)?1E3*f:0)+(r(d)?d:0)+(r(a)?a:0))};
yO.aa=0;yO.ca=function(a){return this.G(E(a))};Vh.j(function(a){return Ig(Gg(a),1E3)},yO);Vh.j(Ah,SN);Vh.j(Ah,TN);Vh.j(GN,tO);Vh.j(GN,uO);function gP(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new Pe(b.slice(0),0,null):null;return hP(b)}function hP(a){O(a,0,null);return new q(null,6,[Kx,!0,Yq,!1,oB,null,Gr,null,zt,YA,MA,function(b){b=null!=b&&(b.J&64||l===b.ua)?uh(Gk,b):b;b=B.j(b,lC);b=M([Wl(b)]);var c=Q.C(Ac(),Cc,!1);sl(Cl(b,c));return r(wc)?Fl():null}],null)}
function iP(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new Pe(b.slice(0),0,null):null;return jP(b)}
function jP(a){O(a,0,null);return new q(null,6,[Kx,!0,Yq,!1,oB,null,Gr,null,zt,YA,MA,"undefined"===typeof console?function(){return null}:function(){function b(c){var d=function(){var e=c instanceof C?c.na:null;switch(e){case "trace":return console.trace;case "debug":return console.debug;case "info":return console.info;case "warn":return console.warn;case "error":return console.error;case "fatal":return console.error;case "report":return console.info;default:throw Error(["No matching clause: ",t.B(e)].join(""));
}}();return r(d)?d:console.log}return function(c){var d=b(Um.B(c));if(r(d)){if(r(function(){var h=B.j(c,Xo);return r(h)?h:Ci(c,new W(null,2,5,Y,[cA,Xo],null))}())){var e=function(){var h=Q.G(c,$A,"",M([Aq,null])),k=zt.B(c);return k.B?k.B(h):k.call(null,h)}(),f=function(){var h=fA.B(c),k=Aq.B(c);return r(k)?uf(e,uf(k,h)):uf(e,h)}();return d.apply(console,Uc(f))}return d.call(console,Wl(lC.B(c)))}return null}}()],null)};Tf(AN)?ON(new W(null,3,5,Y,[2,126,2],null)):ON(2.126);"undefined"!==typeof window?iP.B?iP.B(V):iP.call(null,V):gP.B?gP.B(V):gP.call(null,V);Tf(AN)?ON(new W(null,3,5,Y,[2,105,0],null)):ON(2.105);D.j("default","nodejs");yO.G(M([Os,60]));function nQ(a){return w.C(function(b,c){b.push(c);return b},[],a)}function oQ(a){return a instanceof Array};var pQ=H(vi(function(a){return 0!=(32&1<<a)},el.C(31,-1,-1)))+1,qQ=(1<<pQ)-1;function rQ(a,b,c,d){for(var e=0,f=Gg(c);;)if(e<=f){c=e+f>>>1;var h=b[c];0>(a.j?a.j(h,d):a.call(null,h,d))?e=c+1:f=c-1}else return e}function sQ(a,b,c,d){for(var e=0,f=Gg(c);;)if(e<=f){c=e+f>>>1;var h=b[c];0<(a.j?a.j(h,d):a.call(null,h,d))?f=c-1:e=c+1}else return e}function tQ(a,b,c){var d=b.length,e=rQ(a,b,d-1,c);if(d=e<d)b=b[e],d=0===(a.j?a.j(b,c):a.call(null,b,c));return d?e:-1}
function uQ(a,b,c){var d=b.length;a=rQ(a,b,d-1,c);return a===d?-1:a}function vQ(a,b,c,d,e,f){var h=f.length,k=d-b,m=k+h,n=Array(k+h+(c-e));d-=b;for(var p=0;;)if(p<d)n[p+0]=a[p+b],p+=1;else break;b=h-0;for(h=0;;)if(h<b)n[h+k]=f[h+0],h+=1;else break;c-=e;for(f=0;;)if(f<c)n[f+m]=a[f+e],f+=1;else break;return n}function wQ(a,b,c,d){return vQ(a,0,a.length,b,c,d)}
function xQ(a,b){var c=a.length,d=b.length,e=c+d,f=e>>>1,h=Array(f);e=Array(e-f);if(c<=f){for(var k=c-0,m=0;;)if(m<k)h[m+0]=a[m+0],m+=1;else break;a=f-c;for(k=0;;)if(k<a)h[k+c]=b[k+0],k+=1;else break;d-=f-c;for(a=0;;)if(a<d)e[a+0]=b[a+(f-c)],a+=1;else break}else{k=f-0;for(m=0;;)if(m<k)h[m+0]=a[m+0],m+=1;else break;k=c-f;for(m=0;;)if(m<k)e[m+0]=a[m+f],m+=1;else break;d-=0;for(a=0;;)if(a<d)e[a+(c-f)]=b[a+0],a+=1;else break}return[h,e]}
function yQ(a,b,c,d,e,f){d-=c;if(d===f-0)for(f=0;;){if(f===d)return!0;var h=b[f+c],k=e[f+0];if(0!==(a.j?a.j(h,k):a.call(null,h,k)))return!1;f+=1}else return!1}function zQ(a,b){return r(a)?r(b)?[a,b]:[a]:[b]}function AQ(a,b,c){return r(a)?r(b)?r(c)?[a,b,c]:[a,b]:r(c)?[a,c]:[a]:r(b)?r(c)?[b,c]:[b]:[c]}
function BQ(a){if(null!=a&&null!=a.yg)a=a.yg(a);else{var b=BQ[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=BQ._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Oc("INode.node-lim-key",a);}return a}function CQ(a){if(null!=a&&null!=a.Bh)a=a.keys.length;else{var b=CQ[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=CQ._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Oc("INode.node-len",a);}return a}
function DQ(a,b){if(null!=a&&null!=a.Ag)a=a.Ag(a,b);else{var c=DQ[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=DQ._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Oc("INode.node-merge",a);}return a}function EQ(a,b){if(null!=a&&null!=a.Bg)a=a.Bg(a,b);else{var c=EQ[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=EQ._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Oc("INode.node-merge-n-split",a);}return a}
function FQ(a,b,c){if(null!=a&&null!=a.zg)a=a.zg(a,b,c);else{var d=FQ[ra(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=FQ._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Oc("INode.node-lookup",a);}return a}function GQ(a,b,c){if(null!=a&&null!=a.wg)a=a.wg(a,b,c);else{var d=GQ[ra(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=GQ._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Oc("INode.node-conj",a);}return a}
function HQ(a,b,c,d,e,f){if(null!=a&&null!=a.xg)a=a.xg(a,b,c,d,e,f);else{var h=HQ[ra(null==a?null:a)];if(null!=h)a=h.Ya?h.Ya(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f);else if(h=HQ._,null!=h)a=h.Ya?h.Ya(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f);else throw Oc("INode.node-disj",a);}return a}
function IQ(a,b,c,d){if(r(b))return[a];if(16<CQ(a))return AQ(c,a,d);if(r(r(c)?16>=CQ(c):c))return zQ(DQ(c,a),d);if(r(r(d)?16>=CQ(d):d))return zQ(c,DQ(a,d));if(r(r(c)?null==d||CQ(c)<CQ(d):c))return a=EQ(c,a),AQ(a[0],a[1],d);a=EQ(a,d);return AQ(c,a[0],a[1])}function JQ(a,b){this.keys=a;this.pb=b}g=JQ.prototype;g.yg=function(){var a=this.keys;return a[a.length-1]};g.Bh=function(){return this.keys.length};g.Ag=function(a,b){return new JQ(this.keys.concat(b.keys),this.pb.concat(b.pb))};
g.Bg=function(a,b){a=xQ(this.keys,b.keys);b=xQ(this.pb,b.pb);return zQ(new JQ(a[0],b[0]),new JQ(a[1],b[1]))};g.zg=function(a,b,c){a=uQ(b,this.keys,c);return-1===a?null:FQ(this.pb[a],b,c)};g.wg=function(a,b,c){a=rQ(b,this.keys,this.keys.length-2,c);c=GQ(this.pb[a],b,c);if(r(c)){var d=this.keys,e=a+1,f=c.map(BQ);b=yQ(b,d,a,e,f,f.length)?d:wQ(d,a,e,f);a=wQ(this.pb,a,a+1,c);if(32>=a.length)return[new JQ(b,a)];c=a.length>>>1;return[new JQ(b.slice(0,c),a.slice(0,c)),new JQ(b.slice(c),a.slice(c))]}return null};
g.xg=function(a,b,c,d,e,f){var h=uQ(b,this.keys,c);if(-1===h)return null;a=0<=h-1?this.pb[h-1]:null;var k=h+1<this.pb.length?this.pb[h+1]:null;c=HQ(this.pb[h],b,c,!1,a,k);if(r(c)){a=r(a)?h-1:h;h=r(k)?2+h:1+h;k=this.keys;var m=c.map(BQ);b=yQ(b,k,a,h,m,m.length)?k:wQ(k,a,h,m);c=wQ(this.pb,a,h,c);return IQ(new JQ(b,c),d,e,f)}return null};function KQ(a){this.keys=a}g=KQ.prototype;g.yg=function(){var a=this.keys;return a[a.length-1]};g.Bh=function(){return this.keys.length};g.Ag=function(a,b){return new KQ(this.keys.concat(b.keys))};
g.Bg=function(a,b){a=xQ(this.keys,b.keys);return zQ(new KQ(a[0]),new KQ(a[1]))};g.zg=function(a,b,c){a=tQ(b,this.keys,c);return-1===a?null:this.keys[a]};g.wg=function(a,b,c){a=rQ(b,this.keys,this.keys.length-1,c);var d=this.keys.length,e;if(e=a<d)e=this.keys[a],e=0===(b.j?b.j(c,e):b.call(null,c,e));return e?null:32===d?(b=d+1>>>1,a>b?[new KQ(this.keys.slice(0,b)),new KQ(vQ(this.keys,b,d,a,a,[c]))]:[new KQ(vQ(this.keys,0,b,a,a,[c])),new KQ(this.keys.slice(b,d))]):[new KQ(wQ(this.keys,a,a,[c]))]};
g.xg=function(a,b,c,d,e,f){a=tQ(b,this.keys,c);if(-1===a)return null;a=wQ(this.keys,a,a+1,[]);return IQ(new KQ(a),d,e,f)};function LQ(a,b,c,d,e,f){this.root=a;this.shift=b;this.Y=c;this.pc=d;this.meta=e;this._hash=f;this.J=2297303311;this.T=8332}g=LQ.prototype;g.toString=function(){return ye(this)};g.ma=function(a,b){return FQ(this.root,this.pc,b)};g.R=function(a,b,c){a=FQ(this.root,this.pc,b);return r(a)?a:c};g.ea=function(a,b,c){return Z(b,xl,"#{"," ","}",c,E(this))};g.fa=function(){return this.meta};
g.oa=function(){return new LQ(this.root,this.shift,this.Y,this.pc,this.meta,this._hash)};g.ja=function(){return this.Y};g.vc=function(){return Sd(MQ.B?MQ.B(this):MQ.call(null,this))};g.ha=function(){var a=this._hash;return null!=a?a:this._hash=a=Ye(this)};g.ba=function(a,b){var c=this;return Of(b)&&this.Y===K(b)&&Qh(function(d){return bg(c,d)},b)};g.Ed=function(){return this};g.Ka=function(){return new LQ(new KQ([]),0,0,this.pc,this.meta,null)};
g.gf=function(a,b){return NQ.C?NQ.C(this,b,this.pc):NQ.call(null,this,b,this.pc)};g.$a=function(a,b){a=MQ.B?MQ.B(this):MQ.call(null,this);return r(a)?Gd(a,b):b.O?b.O():b.call(null)};g.ab=function(a,b,c){a=MQ.B?MQ.B(this):MQ.call(null,this);return r(a)?Gd(a,b,c):c};g.Fd=function(a,b){return OQ.C?OQ.C(this,b,this.pc):OQ.call(null,this,b,this.pc)};g.Pd=function(){return this};g.ia=function(){return MQ.B?MQ.B(this):MQ.call(null,this)};
g.ga=function(a,b){return new LQ(this.root,this.shift,this.Y,this.pc,b,this._hash)};g.ka=function(a,b){return OQ.C?OQ.C(this,b,this.pc):OQ.call(null,this,b,this.pc)};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Tc(b)))};g.B=function(a){return this.ma(null,a)};
g.j=function(a,b){return this.R(null,a,b)};function PQ(a,b){var c=a.shift;for(a=a.root;;)if(0<c)a=a.pb[qQ&b>>>c],c-=pQ;else return a.keys}function QQ(a,b,c,d){return new LQ(b,c,d,a.pc,a.meta,null)}var RQ=function RQ(a,b,c){var e=qQ&b>>>c;if(0<c){var f=a.pb[e],h=c-pQ;b=RQ.C?RQ.C(f,b,h):RQ.call(null,f,b,h);return-1===b?e+1<a.pb.length?0|e+1<<c:-1:b|e<<c}return e+1<a.keys.length?0|e+1<<0:-1};function SQ(a,b){return RQ(a.root,b,a.shift)}
function TQ(a,b){for(var c=0;;)if(0<b)c|=a.pb.length-1<<b,b-=pQ,a=a.pb,a=a[a.length-1];else return c|a.keys.length-1<<0}var UQ=function UQ(a,b,c){var e=qQ&b>>>c;if(0<c){var f=c-pQ,h=a.pb[e];b=UQ.C?UQ.C(h,b,f):UQ.call(null,h,b,f);return-1===b?0<=e-1?(--e,TQ(a.pb[e],f)|e<<c):-1:b|e<<c}return 0<=e-1?0|e-1<<0:-1};function VQ(a,b){return UQ(a.root,b,a.shift)}function MQ(a){if(0<CQ(a.root)){var b=TQ(a.root,a.shift)+1;return WQ.C?WQ.C(a,0,b):WQ.call(null,a,0,b)}return null}
function XQ(a,b,c){this.K=a;this.off=b;this.end=c;this.J=524306;this.T=0}g=XQ.prototype;g.ja=function(){return this.end-this.off};g.wa=function(a,b){return this.K[this.off+b]};g.Za=function(a,b,c){return 0<=b&&b<this.end-this.off?this.K[this.off+b]:c};g.se=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new ah(this.K,this.off+1,this.end)};g.$a=function(a,b){return this.off===this.end?b.O?b.O():b.call(null):Gd(this.se(null),b,this.K[this.off])};
g.ab=function(a,b,c){for(a=this.off;;)if(a<this.end){var d=this.K[a];c=b.j?b.j(c,d):b.call(null,c,d);if(cf(c))return z(c);a+=1}else return c};function YQ(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.J=2309488832;this.T=1536}g=YQ.prototype;g.toString=function(){return ye(this)};g.ea=function(a,b,c){return Z(b,xl,"("," ",")",c,E(this))};
g.Qa=function(){if(r(this.keys)){if(this.idx+1<this.keys.length)return this.left+1<this.right?new YQ(this.set,this.left+1,this.right,this.keys,this.idx+1):null;var a=SQ(this.set,this.left);return zh.j(-1,a)&&a<this.right?this.Af(a,this.right):null}return null};g.vc=function(){if(r(this.keys)){var a=this.set,b=VQ(this.set,this.left),c=VQ(this.set,this.right);return ZQ.C?ZQ.C(a,b,c):ZQ.call(null,a,b,c)}return null};g.ba=function(a,b){return tf(this,b)};
g.$a=function(a,b){if(null==this.keys)return b.O?b.O():b.call(null);a=this.cb(null);var c=this.Qa(null);return null==c?a:Gd(c,b,a)};g.ab=function(a,b,c){a=this.left;for(var d=this.keys,e=this.idx;;){if(null==d)return c;var f=d[e];c=b.j?b.j(c,f):b.call(null,c,f);if(cf(c))return z(c);if(e+1<d.length)if(a+1<this.right)e+=1,a+=1;else return c;else if(a=SQ(this.set,a),-1!==a&&a<this.right)d=PQ(this.set,a),e=qQ&a>>>0;else return c}};g.cb=function(){return r(this.keys)?this.keys[this.idx]:null};
g.mb=function(){var a=this.Qa(null);return r(a)?a:Se};g.ia=function(){return r(this.keys)?this:null};g.ue=function(){var a=D.j(this.left|qQ,this.right|qQ)?this.right&qQ:this.keys.length;return new XQ(this.keys,this.idx,a)};g.Od=function(){var a=this.te();return r(a)?a:Se};g.Af=function(a,b){return new YQ(this.set,a,b,PQ(this.set,a),qQ&a>>>0)};g.te=function(){var a=SQ(this.set,this.left+(this.keys.length-this.idx-1));return zh.j(-1,a)&&a<this.right?this.Af(a,this.right):null};
function WQ(a,b,c){return new YQ(a,b,c,PQ(a,b),qQ&b>>>0)}function $Q(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.J=2308964544;this.T=0}g=$Q.prototype;g.toString=function(){return ye(this)};g.ea=function(a,b,c){return Z(b,xl,"("," ",")",c,E(this))};
g.Qa=function(){if(r(this.keys)){if(0<=this.idx-1)return this.right-1>this.left?new $Q(this.set,this.left,this.right-1,this.keys,this.idx-1):null;var a=VQ(this.set,this.right);return zh.j(-1,a)&&a>this.left?this.Af(this.left,a):null}return null};g.vc=function(){if(r(this.keys)){var a=-1===this.left?0:SQ(this.set,this.left),b=SQ(this.set,this.right);return WQ(this.set,a,-1===b?this.right+1:b)}return null};g.ba=function(a,b){return tf(this,b)};
g.cb=function(){return r(this.keys)?this.keys[this.idx]:null};g.mb=function(){var a=this.Qa(null);return r(a)?a:Se};g.ia=function(){return r(this.keys)?this:null};g.Af=function(a,b){return new $Q(this.set,a,b,PQ(this.set,b),qQ&b>>>0)};function ZQ(a,b,c){return new $Q(a,b,c,PQ(a,c),qQ&c>>>0)}
function aR(a,b,c,d){a:for(var e=a.root,f=0,h=a.shift;;){var k=CQ(e);if(0===h){var m=e.keys;m=rQ(d,m,k-1,b);b=k===m?-1:f|m<<0;break a}m=e.keys;m=rQ(d,m,k-2,b);f|=m<<h;h-=pQ;e=e.pb[m]}if(0>b)return null;a:for(e=a.root,f=0,h=a.shift;;){m=CQ(e);if(0===h){k=e.keys;m=sQ(d,k,m-1,c);c=f|m<<0;break a}k=e.keys;m=sQ(d,k,m-2,c);f|=m<<h;h-=pQ;e=e.pb[m]}return c>b?new YQ(a,b,c,PQ(a,b),qQ&b>>>0):null}
function bR(a,b){for(var c=b.length,d=0;;)if(d<c){var e=d;var f=b[d];f=a.B?a.B(f):a.call(null,f);b[e]=f;d+=1}else break;return b}function cR(a){var b=a.length,c=ce(Cf);if(0<b)for(var d=0;;){var e=b-d;if(32>=e){lh.j(c,a.slice(d));break}else 40<=e?(lh.j(c,a.slice(d,d+24)),d+=24):(e>>>=1,lh.j(c,a.slice(d,d+e)),d+=e)}return ig(ge(c))}function OQ(a,b,c){b=GQ(a.root,c,b);return null==b?a:1===b.length?QQ(a,b[0],a.shift,a.Y+1):QQ(a,new JQ(b.map(BQ),b),a.shift+pQ,a.Y+1)}
function NQ(a,b,c){b=HQ(a.root,c,b,!0,null,null);if(null==b)return a;b=b[0];return b instanceof JQ&&1===b.pb.length?QQ(a,b.pb[0],a.shift-pQ,a.Y-1):QQ(a,b,a.shift,a.Y-1)}function dR(a,b,c){return aR(a,b,c,a.pc)}function eR(a){var b=fR.P(536870911,null,null,2147483647),c=fR.P(0,null,null,536870912);a=aR(a,c,b,a.pc);return null==a?null:Sd(a)}
function gR(a,b){for(var c=bR(function(h){return new KQ(h)},cR(b)),d=c,e=0;;){var f=K(d);switch(f){case 0:return new LQ(new KQ([]),0,0,a,null,null);case 1:return new LQ(H(d),e,b.length,a,null,null);default:d=bR(function(){return function(h){return new JQ(h.map(BQ),h)}}(d,e,f,c),cR(d)),e+=pQ}}}function hR(a){return new LQ(new KQ([]),0,0,a,null,null)};var iR=Error;function jR(a){return"string"!==typeof a&&(Yf(a)||oQ(a))}var kR=Xh(Bf,Cf),lR=Xh(Bf,Rk);function mR(a,b,c){return H(w.C(function(d,e){var f=O(d,0,null);d=O(d,1,null);e=a.C?a.C(f,e,d):a.call(null,f,e,d);return cf(e)?bf(new W(null,2,5,Y,[e,d],null)):new W(null,2,5,Y,[e,d+1],null)},new W(null,2,5,Y,[b,0],null),c))}function nR(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function oR(a){if(null!=a&&null!=a.Ma)a=a.Ma(a);else{var b=oR[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=oR._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Oc("IDatom.datom-tx",a);}return a}function pR(a){if(null!=a&&null!=a.qc)a=a.qc(a);else{var b=pR[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=pR._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Oc("IDatom.datom-added",a);}return a}
function qR(a,b,c,d,e){this.e=a;this.a=b;this.v=c;this.Jf=d;this._hash=e;this.J=2162164496;this.T=0}g=qR.prototype;g.Ma=function(){return 0<this.Jf?this.Jf:-this.Jf};g.qc=function(){return 0<this.Jf};g.ha=function(){return 0===this._hash?this._hash=rR.B?rR.B(this):rR.call(null,this):this._hash};g.ba=function(a,b){return b instanceof qR?sR.j?sR.j(this,b):sR.call(null,this,b):!1};g.ia=function(){return tR.B?tR.B(this):tR.call(null,this)};
g.ma=function(a,b){return uR.C?uR.C(this,b,null):uR.call(null,this,b,null)};g.R=function(a,b,c){return uR.C?uR.C(this,b,c):uR.call(null,this,b,c)};g.wa=function(a,b){return vR?vR(this,b):wR.call(null,this,b)};g.Za=function(a,b,c){return xR?xR(this,b,c):wR.call(null,this,b,c)};g.da=function(a,b,c){return yR.C?yR.C(this,b,c):yR.call(null,this,b,c)};g.ea=function(a,b,c){return Z(b,xl,"#datascript/Datom ["," ","]",c,new W(null,5,5,Y,[this.e,this.a,this.v,this.Ma(null),this.qc(null)],null))};
oa("datascript.db.Datom",qR);var fR=function fR(a){switch(arguments.length){case 3:return fR.C(arguments[0],arguments[1],arguments[2]);case 4:return fR.P(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return fR.la(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};fR.C=function(a,b,c){return new qR(a,b,c,536870912,0)};fR.P=function(a,b,c,d){return new qR(a,b,c,d,0)};
fR.la=function(a,b,c,d,e){return new qR(a,b,c,r(e)?d:-d,0)};fR.aa=5;function zR(a){return a instanceof qR}function rR(a){return nR(nR(Ge(a.e),Ge(a.a)),Ge(a.v))}function sR(a,b){return a.e===b.e&&D.j(a.a,b.a)&&D.j(a.v,b.v)}function tR(a){return new Df(null,a.e,new Df(null,a.a,new Df(null,a.v,new Df(null,a.Ma(null),new Df(null,a.qc(null),null,1,null),2,null),3,null),4,null),5,null)}
function uR(a,b,c){return D.j(ox,b)?a.v:D.j("e",b)?a.e:D.j($y,b)?a.qc(null):D.j("v",b)?a.v:D.j(dx,b)?a.e:D.j("a",b)?a.a:D.j(Fp,b)?a.Ma(null):D.j("added",b)?a.qc(null):D.j("tx",b)?a.Ma(null):D.j(hx,b)?a.a:c}function wR(a){switch(arguments.length){case 2:return vR(arguments[0],arguments[1]);case 3:return xR(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}
function vR(a,b){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.Ma(null);case 4:return a.qc(null);default:throw Error(["Datom/-nth: Index out of bounds: ",t.B(b)].join(""));}}function xR(a,b,c){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.Ma(null);case 4:return a.qc(null);default:return c}}
function yR(a,b,c){switch(b instanceof C?b.na:null){case "e":return fR.la(c,a.a,a.v,a.Ma(null),a.qc(null));case "a":return fR.la(a.e,c,a.v,a.Ma(null),a.qc(null));case "v":return fR.la(a.e,a.a,c,a.Ma(null),a.qc(null));case "tx":return fR.la(a.e,a.a,a.v,c,a.qc(null));case "added":return fR.la(a.e,a.a,a.v,a.Ma(null),c);default:throw new iR(["invalid key for #datascript/Datom: ",t.B(b)].join(""));}}function AR(a,b){return null==a?0:null==b?0:eg(a,b)}function BR(a,b){return mb(Pc(Nc(a)),Pc(Nc(b)))}
function CR(a,b){try{return D.j(a,b)?0:(null!=a?a.T&2048||l===a.Pc||(a.T?0:Mc(je,a)):Mc(je,a))?ke(a,b):Nc(a)===Nc(b)?"string"===typeof a||Ic(a)||!0===a||!1===a?mb(a,b):Ge(a)-Ge(b):BR(a,b)}catch(d){if(d instanceof Error){var c=d;if(Nc(a)===Nc(b))throw c;return BR(a,b)}throw d;}}function DR(a,b){return null==a?0:null==b?0:CR(a,b)}function ER(a,b){var c=a.e-b.e;return 0===c?(c=AR(a.a,b.a),0===c?(c=DR(a.v,b.v),0===c?(a=a.Ma(null)-b.Ma(null),0===a?0:a):c):c):c}
function FR(a,b){var c=AR(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=DR(a.v,b.v),0===c?(a=a.Ma(null)-b.Ma(null),0===a?0:a):c):c):c}function GR(a,b){var c=AR(a.a,b.a);return 0===c?(c=DR(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.Ma(null)-b.Ma(null),0===a?0:a):c):c):c}function HR(a,b){return a instanceof C?ke(a,b):mb(a,b)}function IR(a,b){var c=a.e-b.e;return 0===c?(c=HR(a.a,b.a),0===c?(c=CR(a.v,b.v),0===c?(a=a.Ma(null)-b.Ma(null),0===a?0:a):c):c):c}
function JR(a,b){var c=HR(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=CR(a.v,b.v),0===c?(a=a.Ma(null)-b.Ma(null),0===a?0:a):c):c):c}function KR(a,b){var c=HR(a.a,b.a);return 0===c?(c=CR(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.Ma(null)-b.Ma(null),0===a?0:a):c):c):c}function LR(){}
function MR(a,b){if(null!=a&&null!=a.uh)a=a.uh(a,b);else{var c=MR[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=MR._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Oc("ISearch.-search",a);}return a}function NR(a,b){return H(MR(a,b))}
function OR(a,b,c){if(null!=a&&null!=a.th)a=a.th(a,b,c);else{var d=OR[ra(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=OR._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Oc("IIndexAccess.-datoms",a);}return a}function PR(){}function QR(a){if(null!=a&&null!=a.Oi)a=a.yb;else{var b=QR[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=QR._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Oc("IDB.-schema",a);}return a}
function RR(a,b){if(null!=a&&null!=a.sh)a=a.sh(a,b);else{var c=RR[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=RR._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Oc("IDB.-attrs-by",a);}return a}function SR(a,b,c,d,e,f,h,k,m,n,p){this.yb=a;this.ub=b;this.Kb=c;this.Lb=d;this.fc=e;this.hc=f;this.bc=h;this.hash=k;this.F=m;this.D=n;this.I=p;this.J=2230716170;this.T=139264}g=SR.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "schema":return this.yb;case "eavt":return this.ub;case "aevt":return this.Kb;case "avet":return this.Lb;case "max-eid":return this.fc;case "max-tx":return this.hc;case "rschema":return this.bc;case "hash":return this.hash;default:return B.C(this.D,b,c)}};g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.db.DB{",", ","}",c,T.j(new W(null,8,5,Y,[new W(null,2,5,Y,[zs,this.yb],null),new W(null,2,5,Y,[Iv,this.ub],null),new W(null,2,5,Y,[Fy,this.Kb],null),new W(null,2,5,Y,[yn,this.Lb],null),new W(null,2,5,Y,[zy,this.fc],null),new W(null,2,5,Y,[Zz,this.hc],null),new W(null,2,5,Y,[iu,this.bc],null),new W(null,2,5,Y,[gB,this.hash],null)],null),this.D))};
g.pa=function(){return new uj(this,8,new W(null,8,5,Y,[zs,Iv,Fy,yn,zy,Zz,iu,gB],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};g.oa=function(){return new SR(this.yb,this.ub,this.Kb,this.Lb,this.fc,this.hc,this.bc,this.hash,this.F,this.D,this.I)};g.ja=function(){return 8+K(this.D)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=-1515640948^Ye(this)};
g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.yb,b.yb)&&D.j(this.ub,b.ub)&&D.j(this.Kb,b.Kb)&&D.j(this.Lb,b.Lb)&&D.j(this.fc,b.fc)&&D.j(this.hc,b.hc)&&D.j(this.bc,b.bc)&&D.j(this.hash,b.hash)&&D.j(this.D,b.D)};
g.ya=function(a,b){return bg(new Pk(null,new q(null,8,[zs,null,Zz,null,gB,null,Fy,null,yn,null,zy,null,Iv,null,iu,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new SR(this.yb,this.ub,this.Kb,this.Lb,this.fc,this.hc,this.bc,this.hash,this.F,Ah(R.j(this.D,b)),null)};
g.da=function(a,b,c){return r(S.j?S.j(zs,b):S.call(null,zs,b))?new SR(c,this.ub,this.Kb,this.Lb,this.fc,this.hc,this.bc,this.hash,this.F,this.D,null):r(S.j?S.j(Iv,b):S.call(null,Iv,b))?new SR(this.yb,c,this.Kb,this.Lb,this.fc,this.hc,this.bc,this.hash,this.F,this.D,null):r(S.j?S.j(Fy,b):S.call(null,Fy,b))?new SR(this.yb,this.ub,c,this.Lb,this.fc,this.hc,this.bc,this.hash,this.F,this.D,null):r(S.j?S.j(yn,b):S.call(null,yn,b))?new SR(this.yb,this.ub,this.Kb,c,this.fc,this.hc,this.bc,this.hash,this.F,
this.D,null):r(S.j?S.j(zy,b):S.call(null,zy,b))?new SR(this.yb,this.ub,this.Kb,this.Lb,c,this.hc,this.bc,this.hash,this.F,this.D,null):r(S.j?S.j(Zz,b):S.call(null,Zz,b))?new SR(this.yb,this.ub,this.Kb,this.Lb,this.fc,c,this.bc,this.hash,this.F,this.D,null):r(S.j?S.j(iu,b):S.call(null,iu,b))?new SR(this.yb,this.ub,this.Kb,this.Lb,this.fc,this.hc,c,this.hash,this.F,this.D,null):r(S.j?S.j(gB,b):S.call(null,gB,b))?new SR(this.yb,this.ub,this.Kb,this.Lb,this.fc,this.hc,this.bc,c,this.F,this.D,null):new SR(this.yb,
this.ub,this.Kb,this.Lb,this.fc,this.hc,this.bc,this.hash,this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(new W(null,8,5,Y,[new X(zs,this.yb,null),new X(Iv,this.ub,null),new X(Fy,this.Kb,null),new X(yn,this.Lb,null),new X(zy,this.fc,null),new X(Zz,this.hc,null),new X(iu,this.bc,null),new X(gB,this.hash,null)],null),this.D))};g.ga=function(a,b){return new SR(this.yb,this.ub,this.Kb,this.Lb,this.fc,this.hc,this.bc,this.hash,b,this.D,this.I)};
g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};function TR(a){var b=R.G(a,zs,M([Iv,Fy,yn,zy,Zz,iu,gB]));b=Rf(a)?yi.j(V,b):b;return new SR(zs.B(a),Iv.B(a),Fy.B(a),yn.B(a),zy.B(a),Zz.B(a),iu.B(a),gB.B(a),null,Ah(b),null)}g.Ia=l;g.ea=function(a,b,c){return UR.C?UR.C(this,b,c):UR.call(null,this,b,c)};g.ih=l;g.ja=function(){return K(this.ub)};g.Ei=l;g.vc=function(){return Sd(this.ub)};g.df=l;g.ha=function(){return VR.B?VR.B(this):VR.call(null,this)};
g.ba=function(a,b){return WR.j?WR.j(this,b):WR.call(null,this,b)};g.kh=l;g.Ed=function(){return Gi.C(Gi.C(Gi.C(this,Iv,jh),Fy,jh),yn,jh)};g.lh=l;g.Ka=function(){var a=this.yb;a=YR?YR(a):ZR.call(null,a);return Jf(a,Kf(this))};g.Fd=function(){throw Fm("datascript.DB/conj! is not supported",V);};g.Pd=function(){return Gi.C(Gi.C(Gi.C(this,Iv,kh),Fy,kh),yn,kh)};g.Yf=l;g.ia=function(){return Nd(this.ub)};
g.th=function(a,b,c){if(D.j(b,yn)&&(a=H(c),null!=a&&!r($R.j?$R.j(this,a):$R.call(null,this,a))))throw Fm(["Attribute ",Gl.G(M([a]))," should be marked as :db/index true"].join(""),new q(null,3,[aq,By,Hz,yn,Km,c],null));return dR(B.j(this,b),aS.la?aS.la(this,b,c,0,536870912):aS.call(null,this,b,c,0,536870912),aS.la?aS.la(this,b,c,2147483647,2147483647):aS.call(null,this,b,c,2147483647,2147483647))};g.rh=l;g.Oi=function(){return this.yb};g.sh=function(a,b){a=this.bc;return a.B?a.B(b):a.call(null,b)};
g.Pi=l;
g.uh=function(a,b){a=O(b,0,null);var c=O(b,1,null),d=O(b,2,null),e=O(b,3,null);b=this.ub;var f=this.Kb,h=this.Lb;bg(RR(this,NB),c);return r(a)?r(c)?null!=d?r(e)?dR(b,fR.P(a,c,d,e),fR.P(a,c,d,e)):dR(b,fR.P(a,c,d,536870912),fR.P(a,c,d,2147483647)):r(e)?vi(function(k){return D.j(e,k.Ma(null))},dR(b,fR.P(a,c,null,536870912),fR.P(a,c,null,2147483647))):dR(b,fR.P(a,c,null,536870912),fR.P(a,c,null,2147483647)):null!=d?r(e)?vi(function(k){return D.j(d,k.v)&&D.j(e,k.Ma(null))},dR(b,fR.P(a,null,null,536870912),
fR.P(a,null,null,2147483647))):vi(function(k){return D.j(d,k.v)},dR(b,fR.P(a,null,null,536870912),fR.P(a,null,null,2147483647))):r(e)?vi(function(k){return D.j(e,k.Ma(null))},dR(b,fR.P(a,null,null,536870912),fR.P(a,null,null,2147483647))):dR(b,fR.P(a,null,null,536870912),fR.P(a,null,null,2147483647)):r(c)?null!=d?r(e)?r($R.j?$R.j(this,c):$R.call(null,this,c))?vi(function(k){return D.j(e,k.Ma(null))},dR(h,fR.P(0,c,d,536870912),fR.P(2147483647,c,d,2147483647))):vi(function(k){return D.j(d,k.v)&&D.j(e,
k.Ma(null))},dR(f,fR.P(0,c,null,536870912),fR.P(2147483647,c,null,2147483647))):r($R.j?$R.j(this,c):$R.call(null,this,c))?dR(h,fR.P(0,c,d,536870912),fR.P(2147483647,c,d,2147483647)):vi(function(k){return D.j(d,k.v)},dR(f,fR.P(0,c,null,536870912),fR.P(2147483647,c,null,2147483647))):r(e)?vi(function(k){return D.j(e,k.Ma(null))},dR(f,fR.P(0,c,null,536870912),fR.P(2147483647,c,null,2147483647))):dR(f,fR.P(0,c,null,536870912),fR.P(2147483647,c,null,2147483647)):null!=d?r(e)?vi(function(k){return D.j(d,
k.v)&&D.j(e,k.Ma(null))},b):vi(function(k){return D.j(d,k.v)},b):r(e)?vi(function(k){return D.j(e,k.Ma(null))},b):b};
function bS(a,b){switch(b instanceof C?b.na:null){case "db.unique/identity":return new W(null,3,5,Y,[dn,Lz,tz],null);case "db.unique/value":return new W(null,3,5,Y,[dn,Cs,tz],null);case "db.cardinality/many":return new W(null,1,5,Y,[NB],null);case "db.type/ref":return new W(null,2,5,Y,[iA,tz],null);default:return D.j(en,a)&&!0===b?new W(null,1,5,Y,[en],null):D.j(tz,a)&&!0===b?new W(null,1,5,Y,[tz],null):D.j(hp,a)?new W(null,2,5,Y,[sn,tz],null):Cf}}
function cS(a,b){return w.C(function(c,d){return mR(function(e,f,h){return Gi.la(e,f,Q,d,h)},c,hp.B(d.B?d.B(a):d.call(null,a)))},V,sn.B(b))}function dS(a){var b=pg(function(c,d,e){return pg(function(f,h,k){return w.C(function(m,n){return Gi.P(m,n,lR,d)},f,bS(h,k))},c,e)},V,a);return Q.C(b,kt,cS(a,b))}function eS(a,b,c,d){if(null!=c&&!bg(d,c))throw Fm(["Bad attribute specification for ",Gl.G(M([Gf([a,Gf([b,c])])])),", expected one of ",t.B(d)].join(""),new q(null,4,[aq,sp,Cp,a,AB,b,Gx,c],null));}
function fS(a){for(var b=E(a),c=null,d=0,e=0;;)if(e<d){var f=c.wa(null,e),h=O(f,0,null),k=O(f,1,null),m=en.j(k,!1);eS(h,en,en.B(k),new Pk(null,new q(null,2,[!0,null,!1,null],null),null));if(r(function(){var I=m;return r(I)?zh.j(qB.B(k),iA):I}()))throw Fm(["Bad attribute specification for ",Gl.G(M([h])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new q(null,3,[aq,sp,Cp,h,AB,en],null));eS(h,dn,dn.B(k),new Pk(null,new q(null,2,[Lz,null,Cs,null],null),null));eS(h,
qB,qB.B(k),new Pk(null,new q(null,1,[iA,null],null),null));eS(h,Ku,Ku.B(k),new Pk(null,new q(null,2,[NB,null,Uy,null],null),null));if(bg(k,hp)){f=new q(null,3,[aq,sp,Cp,h,AB,hp],null);if(D.j(NB,Ku.B(k)))throw Fm([Gl.G(M([h]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),f);var n=hp.B(k);if(!Pf(n))throw Fm([Gl.G(M([h]))," :db/tupleAttrs must be a sequential collection, got: ",Gl.G(M([n]))].join(""),f);if(Mf(n))throw Fm([Gl.G(M([h]))," :db/tupleAttrs cant be empty"].join(""),f);n=E(n);
for(var p=null,u=0,v=0;;)if(v<u){var y=p.wa(null,v),F=Q.C(f,Gx,y);if(bg(B.j(a,y),hp))throw Fm([Gl.G(M([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",Gl.G(M([y]))].join(""),F);if(D.j(NB,Ku.B(B.j(a,y))))throw Fm([Gl.G(M([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",Gl.G(M([y]))].join(""),F);v+=1}else if(n=E(n)){if(Uf(n))u=me(n),n=ne(n),p=u,u=K(u);else{p=H(n);u=Q.C(f,Gx,p);if(bg(B.j(a,p),hp))throw Fm([Gl.G(M([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",
Gl.G(M([p]))].join(""),u);if(D.j(NB,Ku.B(B.j(a,p))))throw Fm([Gl.G(M([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",Gl.G(M([p]))].join(""),u);n=J(n);p=null;u=0}v=0}else break}e+=1}else if(h=E(b)){b=h;if(Uf(b))c=me(b),b=ne(b),h=c,d=K(c),c=h;else{c=H(b);h=O(c,0,null);k=O(c,1,null);var G=en.j(k,!1);eS(h,en,en.B(k),new Pk(null,new q(null,2,[!0,null,!1,null],null),null));if(r(function(){var I=G;return r(I)?zh.j(qB.B(k),iA):I}()))throw Fm(["Bad attribute specification for ",Gl.G(M([h])),
": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new q(null,3,[aq,sp,Cp,h,AB,en],null));eS(h,dn,dn.B(k),new Pk(null,new q(null,2,[Lz,null,Cs,null],null),null));eS(h,qB,qB.B(k),new Pk(null,new q(null,1,[iA,null],null),null));eS(h,Ku,Ku.B(k),new Pk(null,new q(null,2,[NB,null,Uy,null],null),null));if(bg(k,hp)){c=new q(null,3,[aq,sp,Cp,h,AB,hp],null);if(D.j(NB,Ku.B(k)))throw Fm([Gl.G(M([h]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),c);d=hp.B(k);if(!Pf(d))throw Fm([Gl.G(M([h])),
" :db/tupleAttrs must be a sequential collection, got: ",Gl.G(M([d]))].join(""),c);if(Mf(d))throw Fm([Gl.G(M([h]))," :db/tupleAttrs cant be empty"].join(""),c);d=E(d);e=null;for(n=f=0;;)if(n<f){p=e.wa(null,n);u=Q.C(c,Gx,p);if(bg(B.j(a,p),hp))throw Fm([Gl.G(M([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",Gl.G(M([p]))].join(""),u);if(D.j(NB,Ku.B(B.j(a,p))))throw Fm([Gl.G(M([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",Gl.G(M([p]))].join(""),u);n+=1}else if(d=
E(d)){if(Uf(d))f=me(d),d=ne(d),e=f,f=K(f);else{e=H(d);f=Q.C(c,Gx,e);if(bg(B.j(a,e),hp))throw Fm([Gl.G(M([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",Gl.G(M([e]))].join(""),f);if(D.j(NB,Ku.B(B.j(a,e))))throw Fm([Gl.G(M([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",Gl.G(M([e]))].join(""),f);d=J(d);e=null;f=0}n=0}else break}b=J(b);c=null;d=0}e=0}else break}
function ZR(a){switch(arguments.length){case 0:return YR(null);case 1:return YR(arguments[0]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function YR(a){fS(a);return TR(new q(null,8,[zs,a,iu,dS(Kk.G(M([new q(null,1,[tB,new q(null,1,[dn,Lz],null)],null),a]))),Iv,hR(ER),Fy,hR(FR),yn,hR(GR),zy,0,Zz,536870912,gB,$h(0)],null))}function gS(a){a=dx.B(H(eR(a)));return r(a)?a:0}
function hS(a){switch(arguments.length){case 1:return iS(arguments[0],null);case 2:return iS(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}
function iS(a,b){var c=H(li(zR,a));if(null!=c)throw Fm(["init-db expects list of Datoms, got ",Gl.G(M([Nc(c)]))].join(""),new q(null,1,[aq,HA],null));fS(b);c=dS(Kk.G(M([new q(null,1,[tB,new q(null,1,[dn,Lz],null)],null),b])));var d=tz.B(c),e=oQ(a)?a:nQ(a);e.sort(IR);var f=gR(ER,e);e.sort(JR);e=gR(FR,e);a=ig(vi(function(m){return bg(d,m.a)},a));a.sort(KR);a=gR(GR,a);var h=gS(f),k=tg(hi.B(function(m){return m.Ma(null)}),Dg,536870912,f);return TR(new q(null,8,[zs,b,iu,c,Iv,f,Fy,e,yn,a,zy,h,Zz,k,gB,$h(0)],
null))}function VR(a){var b=z(a.hash);return 0===b?ai(a.hash,nR(Ge(a.yb),Ge(a.ub))):b}function WR(a,b){var c;if(c=(b instanceof SR||!1)&&D.j(QR(a),QR(b)))a:for(a=OR(a,Iv,Cf),c=OR(b,Iv,Cf),b=E(a),a=E(c);;){if(null==b){c=null==a;break a}if(D.j(H(b),H(a)))b=J(b),a=J(a);else{c=!1;break a}}return c}
function UR(a,b,c){Vd(b,"#datascript/DB {");Vd(b,":schema ");xl(QR(a),b,c);Vd(b,", :datoms ");Z(b,function(d,e,f){return Z(e,xl,"["," ","]",f,new W(null,4,5,Y,[d.e,d.a,d.v,oR(d)],null))},"["," ","]",c,OR(a,Iv,Cf));return Vd(b,"}")}
function jS(a,b,c,d,e,f,h){if(r(c)){var k=new Df(null,so,new Df(null,jw,new Df(null,b,new Df(null,c,new Df(null,d,new Df(null,e,null,1,null),2,null),3,null),4,null),5,null),6,null);kS.j?kS.j(c,k):kS.call(null,c,k)}return fR.P(function(){var m=lS.j?lS.j(a,b):lS.call(null,a,b);return r(m)?m:f}(),c,r(null!=d?mS.j?mS.j(a,c):mS.call(null,a,c):!1)?nS.j?nS.j(a,d):nS.call(null,a,d):d,function(){var m=lS.j?lS.j(a,e):lS.call(null,a,e);return r(m)?m:h}())}
function aS(a,b,c,d,e){var f=O(c,0,null),h=O(c,1,null),k=O(c,2,null);c=O(c,3,null);b=b instanceof C?b.na:null;switch(b){case "eavt":return jS(a,f,h,k,c,d,e);case "aevt":return jS(a,h,f,k,c,d,e);case "avet":return jS(a,k,f,h,c,d,e);default:throw Error(["No matching clause: ",t.B(b)].join(""));}}function oS(a,b,c,d,e,f,h,k){this.yc=a;this.xc=b;this.Cc=c;this.Ac=d;this.Dc=e;this.F=f;this.D=h;this.I=k;this.J=2230716170;this.T=139264}g=oS.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "db-before":return this.yc;case "db-after":return this.xc;case "tx-data":return this.Cc;case "tempids":return this.Ac;case "tx-meta":return this.Dc;default:return B.C(this.D,b,c)}};g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.db.TxReport{",", ","}",c,T.j(new W(null,5,5,Y,[new W(null,2,5,Y,[Lo,this.yc],null),new W(null,2,5,Y,[Zu,this.xc],null),new W(null,2,5,Y,[As,this.Cc],null),new W(null,2,5,Y,[QC,this.Ac],null),new W(null,2,5,Y,[jp,this.Dc],null)],null),this.D))};g.pa=function(){return new uj(this,5,new W(null,5,5,Y,[Lo,Zu,As,QC,jp],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};
g.oa=function(){return new oS(this.yc,this.xc,this.Cc,this.Ac,this.Dc,this.F,this.D,this.I)};g.ja=function(){return 5+K(this.D)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=-2022644885^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.yc,b.yc)&&D.j(this.xc,b.xc)&&D.j(this.Cc,b.Cc)&&D.j(this.Ac,b.Ac)&&D.j(this.Dc,b.Dc)&&D.j(this.D,b.D)};
g.ya=function(a,b){return bg(new Pk(null,new q(null,5,[QC,null,Zu,null,Lo,null,As,null,jp,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new oS(this.yc,this.xc,this.Cc,this.Ac,this.Dc,this.F,Ah(R.j(this.D,b)),null)};
g.da=function(a,b,c){return r(S.j?S.j(Lo,b):S.call(null,Lo,b))?new oS(c,this.xc,this.Cc,this.Ac,this.Dc,this.F,this.D,null):r(S.j?S.j(Zu,b):S.call(null,Zu,b))?new oS(this.yc,c,this.Cc,this.Ac,this.Dc,this.F,this.D,null):r(S.j?S.j(As,b):S.call(null,As,b))?new oS(this.yc,this.xc,c,this.Ac,this.Dc,this.F,this.D,null):r(S.j?S.j(QC,b):S.call(null,QC,b))?new oS(this.yc,this.xc,this.Cc,c,this.Dc,this.F,this.D,null):r(S.j?S.j(jp,b):S.call(null,jp,b))?new oS(this.yc,this.xc,this.Cc,this.Ac,c,this.F,this.D,
null):new oS(this.yc,this.xc,this.Cc,this.Ac,this.Dc,this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(new W(null,5,5,Y,[new X(Lo,this.yc,null),new X(Zu,this.xc,null),new X(As,this.Cc,null),new X(QC,this.Ac,null),new X(jp,this.Dc,null)],null),this.D))};g.ga=function(a,b){return new oS(this.yc,this.xc,this.Cc,this.Ac,this.Dc,b,this.D,this.I)};g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};
function pS(a){var b=R.G(a,Lo,M([Zu,As,QC,jp]));b=Rf(a)?yi.j(V,b):b;return new oS(Lo.B(a),Zu.B(a),As.B(a),QC.B(a),jp.B(a),null,Ah(b),null)}function qS(a,b,c){return bg(RR(a,c),b)}function mS(a,b){return qS(a,b,iA)}function $R(a,b){return qS(a,b,tz)}
function rS(a,b){for(;;){if("number"===typeof b&&0<b){if(2147483647<b)throw Fm(["Highest supported entity id is ",Gl.G(M([2147483647])),", got ",Gl.G(M([b]))].join(""),new q(null,2,[aq,zu,Gx,b],null));return b}if(Pf(b)){var c=b,d=O(c,0,null);c=O(c,1,null);if(zh.j(K(b),2))throw Fm(["Lookup ref should contain 2 elements: ",Gl.G(M([b]))].join(""),new q(null,2,[aq,$z,zu,b],null));if(qS(a,d,dn))return null==c?null:dx.B(H(OR(a,yn,b)));throw Fm(["Lookup ref attribute should be marked as :db/unique: ",Gl.G(M([b]))].join(""),
new q(null,2,[aq,tn,zu,b],null));}if(Ic(b))b=M(b);else{if(b instanceof C)return dx.B(H(OR(a,yn,new W(null,2,5,Y,[tB,b],null))));throw Fm(["Expected number or lookup ref for entity id, got ",Gl.G(M([b]))].join(""),new q(null,2,[aq,Pr,zu,b],null));}}}function nS(a,b){a=rS(a,b);if(r(a))return a;throw Fm(["Nothing found for entity id ",Gl.G(M([b]))].join(""),new q(null,2,[aq,Zq,zu,b],null));}function lS(a,b){return r(b)?nS(a,b):null}
function kS(a,b){if(a instanceof C||"string"===typeof a)return null;throw Fm(["Bad entity attribute ",Gl.G(M([a]))," at ",Gl.G(M([b])),", expected keyword or string"].join(""),new q(null,3,[aq,In,Cp,a,xA,b],null));}function sS(a,b){if(null==a)throw Fm(["Cannot store nil as a value at ",Gl.G(M([b]))].join(""),new q(null,3,[aq,In,Gx,a,xA,b],null));return null}function tS(a){return Ci(a,new W(null,2,5,Y,[Lo,Zz],null))+1}
function uS(a){return D.j(a,Vm)||D.j(a,":db/current-tx")||D.j(a,"datomic.tx")||D.j(a,"datascript.tx")}function vS(a){return"number"===typeof a&&0>a||"string"===typeof a}function wS(a,b){return b>zy.B(a)&&536870912>b?Q.C(a,zy,b):a}function xS(a,b,c){var d=uS(b)?Gi.la(a,QC,Q,b,c):a;d=vS(b)?Gi.la(d,QC,Q,b,c):d;if(b=!vS(b))a=Zu.B(a),b=c>zy.B(a)&&536870912>c;a=b?Gi.la(d,QC,Q,c,c):d;return Gi.P(a,Zu,wS,c)}
function yS(a,b){var c=b.qc(null);c=r(c)?qS(a,b.a,dn):c;if(r(c)&&(c=Ah(OR(a,yn,new W(null,2,5,Y,[b.a,b.v],null))),null!=c))throw Fm(["Cannot add ",Gl.G(M([b]))," because of unique constraint: ",Gl.G(M([c]))].join(""),new q(null,3,[aq,Qz,Cp,b.a,gw,b],null));c=$R(a,b.a);if(r(b.qc(null)))return a=Gi.la(a,Iv,OQ,b,IR),a=Gi.la(a,Fy,OQ,b,JR),c=c?Gi.la(a,yn,OQ,b,KR):a,b=wS(c,b.e),Q.C(b,gB,$h(0));b=NR(a,new W(null,3,5,Y,[b.e,b.a,b.v],null));if(null==b)return a;a=Gi.la(a,Iv,NQ,b,IR);a=Gi.la(a,Fy,NQ,b,JR);b=
c?Gi.la(a,yn,NQ,b,KR):a;return Q.C(b,gB,$h(0))}function zS(a,b,c,d,e){return pg(function(f,h,k){var m=B.j(f,h);r(m)||(m=ox.B(H(OR(c,Iv,new W(null,2,5,Y,[d,h],null)))),m=r(m)?m:mg(oi(K(hp.B(B.j(QR(c),h))),null)));k=Q.C(m,k,e);return Q.C(f,h,k)},a,b)}function AS(a,b){var c=Zu.B(a),d=hx.B(b);a=Gi.P(Q.C(a,Zu,yS(c,b)),As,Bf,b);if(qS(c,d,kt)){var e=dx.B(b);b=r(pR(b))?ox.B(b):null;var f=B.j(Nz.B(a),e);f=r(f)?f:V;d=B.j(RR(c,kt),d);c=zS(f,d,c,e,b);return Gi.la(a,Nz,Q,e,c)}return a}
function BS(a){if(a instanceof C)return D.j("_",of(Xg(a),0));if("string"===typeof a)return Zf(ll(/(?:([^\/]+)\/)?_([^\/]+)/,a));throw Fm(["Bad attribute type: ",Gl.G(M([a])),", expected keyword or string"].join(""),new q(null,2,[aq,In,Cp,a],null));}
function CS(a){if(a instanceof C)return BS(a)?Wg.j(Ug(a),Mg.j(Xg(a),1)):Wg.j(Ug(a),["_",Xg(a)].join(""));if("string"===typeof a){var b=ll(/(?:([^\/]+)\/)?([^\/]+)/,a);O(b,0,null);a=O(b,1,null);b=O(b,2,null);return D.j("_",of(b,0))?r(a)?[t.B(a),"/",Mg.j(b,1)].join(""):Mg.j(b,1):r(a)?[t.B(a),"/_",t.B(b)].join(""):["_",t.B(b)].join("")}throw Fm(["Bad attribute type: ",Gl.G(M([a])),", expected keyword or string"].join(""),new q(null,2,[aq,In,Cp,a],null));}
function DS(a,b){function c(f,h){return w.C(function(k,m){var n=d(f,m);return null==n?Gi.P(k,0,Bf,m):Gi.la(k,1,Q,m,n)},new W(null,2,5,Y,[Cf,V],null),h)}function d(f,h){return dx.B(H(OR(a,yn,new W(null,2,5,Y,[f,h],null))))}var e=Ah(RR(a,Lz));return null==e?new W(null,2,5,Y,[b,null],null):pg(function(f,h,k){var m=O(f,0,null);f=O(f,1,null);if(bg(e,h)){if(qS(a,h,NB)&&(oQ(k)||Nf(k)&&!Qf(k))){var n=c(h,k);k=O(n,0,null);n=O(n,1,null);return new W(null,2,5,Y,[Mf(k)?m:Q.C(m,h,k),Mf(n)?f:Q.C(f,h,n)],null)}n=
d(h,k);return null==n?new W(null,2,5,Y,[Q.C(m,h,k),f],null):new W(null,2,5,Y,[m,Q.C(f,h,Gf([k,n]))],null)}return new W(null,2,5,Y,[Q.C(m,h,k),f],null)},new W(null,2,5,Y,[V,V],null),b)}
function ES(a,b){var c=pg(function(h,k,m){return pg(function(n,p,u){return Q.C(n,u,new W(null,2,5,Y,[k,p],null))},h,m)},V,b);if(2<=K(c)){b=H(c);a=O(b,0,null);var d=O(b,1,null);b=O(d,0,null);d=O(d,1,null);var e=yf(c);c=O(e,0,null);var f=O(e,1,null);e=O(f,0,null);f=O(f,1,null);throw Fm(["Conflicting upserts: ",Gl.G(M([new W(null,2,5,Y,[b,d],null)]))," resolves to ",Gl.G(M([a])),", but ",Gl.G(M([new W(null,2,5,Y,[e,f],null)]))," resolves to ",Gl.G(M([c]))].join(""),new q(null,3,[aq,wt,pC,new W(null,
3,5,Y,[a,b,d],null),fw,new W(null,3,5,Y,[c,e,f],null)],null));}d=H(c);b=O(d,0,null);c=O(d,1,null);d=O(c,0,null);c=O(c,1,null);a=kg.B(a);if(null!=b&&null!=a&&!vS(a)&&zh.j(b,a))throw Fm(["Conflicting upsert: ",Gl.G(M([new W(null,2,5,Y,[d,c],null)]))," resolves to ",Gl.G(M([b])),", but entity already has :db/id ",Gl.G(M([a]))].join(""),new q(null,3,[aq,wt,pC,new W(null,3,5,Y,[b,d,c],null),fw,new q(null,1,[kg,a],null)],null));return b}
function FS(a,b,c){return BS(b)||qS(a,b,NB)?oQ(c)||Nf(c)&&!Qf(c)?D.j(K(c),2)&&qS(a,H(c),Lz)?new W(null,1,5,Y,[c],null):c:new W(null,1,5,Y,[c],null):new W(null,1,5,Y,[c],null)}
function GS(a,b){var c=kg.B(b);return function f(e){return new Yg(null,function(){for(var h=e;;){var k=E(h);if(k){var m=k,n=H(m),p=O(n,0,null),u=O(n,1,null);if(zh.j(p,kg)){var v=kS(p,Gf([kg,c,p,u])),y=BS(p),F=y?CS(p):p;if(y&&!mS(a,F))throw Fm(["Bad attribute ",Gl.G(M([p])),": reverse attribute name requires {:db/valueType :db.type/ref} in schema"].join(""),new q(null,3,[aq,In,Cp,p,xA,Gf([kg,c,p,u])],null));if(k=E(function(G,I,N,P,U,ea,fa,sa,Ba,Va,ma){return function va(za){return new Yg(null,function(Ca,
fb,sc,Db,ic,bc,ee,Ag,Sf,sh,hd){return function(){for(;;){var Td=E(za);if(Td){if(Uf(Td)){var Ke=me(Td),xi=K(Ke),Ud=bh(xi);a:for(var we=0;;)if(we<xi){var fe=x(Ke,we);fe=mS(a,Db)&&Qf(fe)?Q.C(fe,CS(ee),hd):sc?new W(null,4,5,Y,[HC,fe,Db,hd],null):new W(null,4,5,Y,[HC,hd,Db,fe],null);Ud.add(fe);we+=1}else{Ke=!0;break a}return Ke?dh(fh(Ud),va(ne(Td))):dh(fh(Ud),null)}Ud=H(Td);return uf(mS(a,Db)&&Qf(Ud)?Q.C(Ud,CS(ee),hd):sc?new W(null,4,5,Y,[HC,Ud,Db,hd],null):new W(null,4,5,Y,[HC,hd,Db,Ud],null),va(Re(Td)))}return null}}}(G,
I,N,P,U,ea,fa,sa,Ba,Va,ma),null,null)}}(h,v,y,F,null,n,p,u,m,k,c)(FS(a,p,u))))return T.j(k,f(Re(h)))}h=Re(h)}else return null}},null,null)}(b)}function HS(a,b){O(b,0,null);var c=O(b,1,null),d=O(b,2,null),e=O(b,3,null),f=O(b,4,null);kS(d,b);sS(e,b);b=r(f)?f:tS(a);f=Zu.B(a);c=nS(f,c);e=mS(f,d)?nS(f,e):e;var h=fR.P(c,d,e,b);f=qS(f,d,NB)?NR(f,new W(null,3,5,Y,[c,d,e],null)):NR(f,new W(null,2,5,Y,[c,d],null));return null==f?AS(a,h):D.j(f.v,e)?Gi.P(a,Pt,kR,h):AS(AS(a,fR.la(c,d,f.v,b,!1)),h)}
function IS(a,b){var c=tS(a);return AS(a,fR.la(b.e,b.a,b.v,c,!1))}function JS(a,b){return yi.C(Rk,Vh.j(ui(function(c){return qS(a,c.a,en)}),hi.B(function(c){return new W(null,2,5,Y,[vq,c.v],null)})),b)}function KS(a,b,c,d,e){if(bg(QC.B(a),d))throw Fm(["Conflicting upsert: ",Gl.G(M([d]))," resolves both to ",Gl.G(M([e]))," and ",Gl.G(M([Ci(a,new W(null,2,5,Y,[QC,d],null))]))].join(""),new q(null,1,[aq,wt],null));b=Q.C(QC.B(b),d,e);a=Q.C(a,QC,b);return LS.j?LS.j(a,c):LS.call(null,a,c)}
var MS=new Pk(null,new q(null,8,[wv,null,Ov,null,vq,null,$s,null,js,null,Ct,null,jo,null,HC,null],null),null);function NS(a){var b=Zu.B(a);QR(b);RR(b,kt);return pg(function(c,d,e){return pg(function(f,h,k){k=Qh(Hc,k)?null:k;var m=ox.B(H(OR(b,Iv,new W(null,2,5,Y,[d,h],null))));return D.j(k,m)?f:null==k?Bf.j(f,Jf(new W(null,4,5,Y,[js,d,h,m],null),new q(null,1,[pt,!0],null))):Bf.j(f,Jf(new W(null,4,5,Y,[HC,d,h,k],null),new q(null,1,[pt,!0],null)))},c,e)},Cf,Nz.B(a))}
function OS(a){var b=un.B(a);b=w.C(function(c,d){return r(pR(d))?R.j(c,dx.B(d)):c},b,T.j(As.B(a),Pt.B(a)));if(Mf(b))return R.G(a,un,M([Pt]));throw Fm(["Tempids used only as value in transaction: ",Gl.G(M([hg(eg,Bj(b))]))].join(""),new q(null,2,[aq,In,QC,b],null));}
function LS(a,b){if(null!=b&&!Pf(b))throw Fm(["Bad transaction data ",Gl.G(M([b])),", expected sequential collection"].join(""),new q(null,2,[aq,In,As,b],null));for(var c=!Mf(RR(Zu.B(a),sn)),d=c?ri.j(b,ni(hn)):b,e=a,f=d;;){if(Mf(f))return Gi.la(Gi.la(OS(e),QC,Q,Vm,tS(e)),Zu,Gi,Zz,$e);var h=f,k=E(h),m=H(k),n=J(k),p=m,u=n;if(null==p)f=u;else if(D.j(hn,p))if(bg(e,Nz)){var v=R.j(e,Nz);u=T.j(NS(e),u);e=v;f=u}else f=u;else{var y=Zu.B(e),F=QC.B(e);if(Qf(p)){var G=kg.B(p);if(uS(G))v=tS(e),e=xS(e,G,v),f=u=
uf(Q.C(p,kg,v),u);else if(Pf(G))v=nS(y,G),f=u=uf(Q.C(p,kg,v),u);else{var I=DS(y,p);v=O(I,0,null);I=O(I,1,null);var N=ES(v,I);if(null!=N){if(vS(G)&&bg(F,G)&&zh.j(N,B.j(F,G)))return KS(a,e,b,G,N);e=xS(e,G,N);f=u=T.j(GS(y,Q.C(v,kg,N)),u)}else if("number"===typeof G||null==G||"string"===typeof G)v=null==G?zy.B(y)+1:vS(G)?function(){var bc=B.j(F,G);return r(bc)?bc:zy.B(y)+1}():G,p=Q.C(p,kg,v),e=xS(e,G,v),f=u=T.j(GS(y,p),u);else throw Fm(["Expected number, string or lookup ref for :db/id, got ",Gl.G(M([G]))].join(""),
new q(null,2,[aq,Pr,av,p],null));}}else if(Pf(p)){var P=p;I=O(P,0,null);var U=O(P,1,null);v=O(P,2,null);var ea=O(P,3,null);if(D.j(I,wv)){v=E(p);p=H(v);v=J(v);var fa=p;p=H(v);v=J(v);f=u=T.j(vh(p,y,v),u)}else if(I instanceof C&&Kc(MS.B?MS.B(I):MS.call(null,I))){fa=rS(y,I);if(null==fa)throw Fm(["Cant find entity for transaction fn ",Gl.G(M([I]))].join(""),new q(null,3,[aq,In,Ns,wv,As,p],null));U=ox.B(NR(y,new W(null,2,5,Y,[fa,Nr],null)));v=J(p);if(Hf(U))f=u=T.j(vh(U,y,v),u);else throw Fm(["Entity ",
Gl.G(M([I]))," expected to have :db/fn attribute with fn? value"].join(""),new q(null,3,[aq,In,Ns,wv,As,p],null));}else{if(vS(U)&&zh.j(I,HC))throw Fm(["Can't use tempid in '",Gl.G(M([p])),"'. Tempids are allowed in :db/add only"].join(""),new q(null,2,[aq,In,$o,p],null));if(D.j(I,jo)||D.j(I,Ov)){var sa=p;fa=O(sa,0,null);var Ba=O(sa,1,null),Va=O(sa,2,null),ma=O(sa,3,null),pa=O(sa,4,null),za=nS(y,Ba),va=kS(Va,p),Ca=mS(y,Va)?nS(y,ma):ma,fb=mS(y,Va)?nS(y,pa):pa,sc=sS(fb,p),Db=mg(MR(y,new W(null,2,5,Y,
[za,Va],null)));if(qS(y,Va,NB))if(r(Rh(function(bc,ee,Ag,Sf,sh,hd,Td,Ke,xi,Ud,we){return function(fe){return D.j(fe.v,we)}}(e,f,sa,fa,Ba,Va,ma,pa,za,va,Ca,fb,sc,Db,P,I,U,v,ea,y,F,h,k,m,n,p,u,a,c,d),Db)))e=HS(e,new W(null,4,5,Y,[HC,za,Va,fb],null)),f=u;else throw Fm([":db.fn/cas failed on datom [",Gl.G(M([za]))," ",Gl.G(M([Va]))," ",Gl.G(M([hi.j(ox,Db)])),"], expected ",Gl.G(M([Ca]))].join(""),new q(null,4,[aq,eo,PA,Db,Jm,Ca,as,fb],null));else if(I=ox.B(H(Db)),D.j(I,Ca))e=HS(e,new W(null,4,5,Y,[HC,
za,Va,fb],null)),f=u;else throw Fm([":db.fn/cas failed on datom [",Gl.G(M([za]))," ",Gl.G(M([Va]))," ",Gl.G(M([I])),"], expected ",Gl.G(M([Ca]))].join(""),new q(null,4,[aq,eo,PA,H(Db),Jm,Ca,as,fb],null));}else if(uS(U))p=xS(e,U,tS(e)),u=uf(new W(null,4,5,Y,[I,tS(e),v,ea],null),u),e=p,f=u;else if(mS(y,v)&&uS(ea))p=xS(e,ea,tS(e)),u=uf(new W(null,4,5,Y,[I,U,v,tS(e)],null),u),e=p,f=u;else if(mS(y,v)&&vS(ea))fa=B.j(F,ea),null==fa?(p=zy.B(y)+1,e=Gi.la(xS(e,ea,p),un,Q,p,ea),f=u=f):(p=fa,e=Gi.la(e,un,Q,p,
ea),f=u=uf(new W(null,4,5,Y,[I,U,v,p],null),u));else if(vS(U)){N=qS(y,v,Lz)?dx.B(H(OR(y,yn,new W(null,2,5,Y,[v,ea],null)))):null;var ic=B.j(F,U);if(r(function(){var bc=N;return r(bc)?(bc=ic,r(bc)?zh.j(N,ic):bc):bc}()))return KS(a,e,b,U,N);p=function(){var bc=N;if(r(bc))return bc;bc=ic;return r(bc)?bc:zy.B(y)+1}();e=xS(e,U,p);f=u=uf(new W(null,4,5,Y,[I,p,v,ea],null),u)}else{if(Kc(pt.B(Kf(p)))&&qS(y,v,sn))throw Fm(["Cant modify tuple attrs directly: ",Gl.G(M([p]))].join(""),new q(null,2,[aq,In,As,
p],null));if(D.j(I,HC))e=HS(e,p),f=u;else if(D.j(I,js)&&null!=ea)fa=rS(y,U),null==fa?f=u:(Ba=fa,I=mS(y,v)?nS(y,ea):ea,kS(v,p),sS(I,p),v=NR(y,new W(null,3,5,Y,[Ba,v,I],null)),null==v?f=u:(e=IS(e,v),f=u));else if(D.j(I,Ct)||D.j(I,js))fa=rS(y,U),null==fa?f=u:(Ba=fa,fa=kS(v,p),Db=mg(MR(y,new W(null,2,5,Y,[Ba,v],null))),e=w.C(IS,e,Db),f=u=T.j(JS(y,Db),u));else if(D.j(I,vq)||D.j(I,$s))fa=rS(y,U),null==fa?f=u:(Ba=fa,Db=mg(MR(y,new W(null,1,5,Y,[Ba],null))),v=mg(ti(function(bc,ee,Ag,Sf,sh,hd,Td,Ke,xi,Ud,
we){return function(fe){return MR(we,new W(null,3,5,Y,[null,fe,Sf],null))}}(e,f,Db,Ba,fa,P,I,U,v,ea,y,F,h,k,m,n,p,u,a,c,d),M([RR(y,iA)]))),e=w.C(IS,e,T.j(Db,v)),f=u=T.j(JS(y,Db),u));else throw Fm(["Unknown operation at ",Gl.G(M([p])),", expected :db/add, :db/retract, :db.fn/call, :db.fn/retractAttribute, :db.fn/retractEntity or an ident corresponding to an installed transaction function (e.g. {:db/ident \x3ckeyword\x3e :db/fn \x3cIfn\x3e}, usage of :db/ident requires {:db/unique :db.unique/identity} in schema)"].join(""),
new q(null,3,[aq,In,Ns,I,As,p],null));}}}else if(zR(p))I=p,U=O(I,0,null),v=O(I,1,null),ea=O(I,2,null),p=O(I,3,null),I=O(I,4,null),r(I)?(e=HS(e,new W(null,5,5,Y,[HC,U,v,ea,p],null)),f=u):f=u=uf(new W(null,4,5,Y,[js,U,v,ea],null),u);else throw Fm(["Bad entity type at ",Gl.G(M([p])),", expected map or vector"].join(""),new q(null,2,[aq,In,As,p],null));}}};function PS(a,b,c,d,e){this.nd=a;this.rb=b;this.F=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=PS.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "wildcard?":return this.nd;case "attrs":return this.rb;default:return B.C(this.D,b,c)}};g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.pull-parser.PullSpec{",", ","}",c,T.j(new W(null,2,5,Y,[new W(null,2,5,Y,[up,this.nd],null),new W(null,2,5,Y,[nu,this.rb],null)],null),this.D))};g.pa=function(){return new uj(this,2,new W(null,2,5,Y,[up,nu],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};g.oa=function(){return new PS(this.nd,this.rb,this.F,this.D,this.I)};g.ja=function(){return 2+K(this.D)};
g.ha=function(){var a=this.I;return null!=a?a:this.I=a=90253489^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.nd,b.nd)&&D.j(this.rb,b.rb)&&D.j(this.D,b.D)};g.ya=function(a,b){return bg(new Pk(null,new q(null,2,[nu,null,up,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new PS(this.nd,this.rb,this.F,Ah(R.j(this.D,b)),null)};
g.da=function(a,b,c){return r(S.j?S.j(up,b):S.call(null,up,b))?new PS(c,this.rb,this.F,this.D,null):r(S.j?S.j(nu,b):S.call(null,nu,b))?new PS(this.nd,c,this.F,this.D,null):new PS(this.nd,this.rb,this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(new W(null,2,5,Y,[new X(up,this.nd,null),new X(nu,this.rb,null)],null),this.D))};g.ga=function(a,b){return new PS(this.nd,this.rb,b,this.D,this.I)};g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};
function QS(a){if(null!=a&&null!=a.vd)a=a.vd(a);else{var b=QS[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=QS._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Oc("IPullSpecComponent.-as-spec",a);}return a}function RS(a,b,c,d){this.attr=a;this.F=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=RS.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "attr":return this.attr;default:return B.C(this.D,b,c)}};
g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.pull-parser.PullAttrName{",", ","}",c,T.j(new W(null,1,5,Y,[new W(null,2,5,Y,[Ly,this.attr],null)],null),this.D))};g.pa=function(){return new uj(this,1,new W(null,1,5,Y,[Ly],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};
g.oa=function(){return new RS(this.attr,this.F,this.D,this.I)};g.ja=function(){return 1+K(this.D)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=-838771693^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.attr,b.attr)&&D.j(this.D,b.D)};g.vd=function(){return new W(null,2,5,Y,[this.attr,new q(null,1,[Ly,this.attr],null)],null)};
g.ya=function(a,b){return bg(new Pk(null,new q(null,1,[Ly,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new RS(this.attr,this.F,Ah(R.j(this.D,b)),null)};g.da=function(a,b,c){return r(S.j?S.j(Ly,b):S.call(null,Ly,b))?new RS(c,this.F,this.D,null):new RS(this.attr,this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(new W(null,1,5,Y,[new X(Ly,this.attr,null)],null),this.D))};g.ga=function(a,b){return new RS(this.attr,b,this.D,this.I)};
g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};function SS(a,b,c,d,e){this.attr=a;this.Yc=b;this.F=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=SS.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "attr":return this.attr;case "rattr":return this.Yc;default:return B.C(this.D,b,c)}};
g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.pull-parser.PullReverseAttrName{",", ","}",c,T.j(new W(null,2,5,Y,[new W(null,2,5,Y,[Ly,this.attr],null),new W(null,2,5,Y,[vz,this.Yc],null)],null),this.D))};g.pa=function(){return new uj(this,2,new W(null,2,5,Y,[Ly,vz],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};
g.oa=function(){return new SS(this.attr,this.Yc,this.F,this.D,this.I)};g.ja=function(){return 2+K(this.D)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=158820207^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.attr,b.attr)&&D.j(this.Yc,b.Yc)&&D.j(this.D,b.D)};g.vd=function(){return new W(null,2,5,Y,[this.Yc,new q(null,1,[Ly,this.attr],null)],null)};
g.ya=function(a,b){return bg(new Pk(null,new q(null,2,[vz,null,Ly,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new SS(this.attr,this.Yc,this.F,Ah(R.j(this.D,b)),null)};g.da=function(a,b,c){return r(S.j?S.j(Ly,b):S.call(null,Ly,b))?new SS(c,this.Yc,this.F,this.D,null):r(S.j?S.j(vz,b):S.call(null,vz,b))?new SS(this.attr,c,this.F,this.D,null):new SS(this.attr,this.Yc,this.F,Q.C(this.D,b,c),null)};
g.ia=function(){return E(T.j(new W(null,2,5,Y,[new X(Ly,this.attr,null),new X(vz,this.Yc,null)],null),this.D))};g.ga=function(a,b){return new SS(this.attr,this.Yc,b,this.D,this.I)};g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};function TS(a,b,c,d,e){this.attr=a;this.limit=b;this.F=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=TS.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "attr":return this.attr;case "limit":return this.limit;default:return B.C(this.D,b,c)}};g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.pull-parser.PullLimitExpr{",", ","}",c,T.j(new W(null,2,5,Y,[new W(null,2,5,Y,[Ly,this.attr],null),new W(null,2,5,Y,[on,this.limit],null)],null),this.D))};g.pa=function(){return new uj(this,2,new W(null,2,5,Y,[Ly,on],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};g.oa=function(){return new TS(this.attr,this.limit,this.F,this.D,this.I)};g.ja=function(){return 2+K(this.D)};
g.ha=function(){var a=this.I;return null!=a?a:this.I=a=2109320956^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.attr,b.attr)&&D.j(this.limit,b.limit)&&D.j(this.D,b.D)};g.vd=function(){return Ei(QS(this.attr),new W(null,2,5,Y,[1,on],null),this.limit)};g.ya=function(a,b){return bg(new Pk(null,new q(null,2,[on,null,Ly,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new TS(this.attr,this.limit,this.F,Ah(R.j(this.D,b)),null)};
g.da=function(a,b,c){return r(S.j?S.j(Ly,b):S.call(null,Ly,b))?new TS(c,this.limit,this.F,this.D,null):r(S.j?S.j(on,b):S.call(null,on,b))?new TS(this.attr,c,this.F,this.D,null):new TS(this.attr,this.limit,this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(new W(null,2,5,Y,[new X(Ly,this.attr,null),new X(on,this.limit,null)],null),this.D))};g.ga=function(a,b){return new TS(this.attr,this.limit,b,this.D,this.I)};g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};
function US(a,b,c,d,e){this.attr=a;this.value=b;this.F=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=US.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "attr":return this.attr;case "value":return this.value;default:return B.C(this.D,b,c)}};g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.pull-parser.PullDefaultExpr{",", ","}",c,T.j(new W(null,2,5,Y,[new W(null,2,5,Y,[Ly,this.attr],null),new W(null,2,5,Y,[Gx,this.value],null)],null),this.D))};g.pa=function(){return new uj(this,2,new W(null,2,5,Y,[Ly,Gx],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};g.oa=function(){return new US(this.attr,this.value,this.F,this.D,this.I)};g.ja=function(){return 2+K(this.D)};
g.ha=function(){var a=this.I;return null!=a?a:this.I=a=-1499761615^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.attr,b.attr)&&D.j(this.value,b.value)&&D.j(this.D,b.D)};g.vd=function(){return Ei(QS(this.attr),new W(null,2,5,Y,[1,Am],null),this.value)};g.ya=function(a,b){return bg(new Pk(null,new q(null,2,[Gx,null,Ly,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new US(this.attr,this.value,this.F,Ah(R.j(this.D,b)),null)};
g.da=function(a,b,c){return r(S.j?S.j(Ly,b):S.call(null,Ly,b))?new US(c,this.value,this.F,this.D,null):r(S.j?S.j(Gx,b):S.call(null,Gx,b))?new US(this.attr,c,this.F,this.D,null):new US(this.attr,this.value,this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(new W(null,2,5,Y,[new X(Ly,this.attr,null),new X(Gx,this.value,null)],null),this.D))};g.ga=function(a,b){return new US(this.attr,this.value,b,this.D,this.I)};g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};
function VS(a,b,c){this.F=a;this.D=b;this.I=c;this.J=2230716170;this.T=139264}g=VS.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){return B.C(this.D,b,c)};g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.pull-parser.PullWildcard{",", ","}",c,T.j(Cf,this.D))};
g.pa=function(){return new uj(this,0,Cf,r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};g.oa=function(){return new VS(this.F,this.D,this.I)};g.ja=function(){return 0+K(this.D)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=-163917799^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.D,b.D)};g.ya=function(a,b){return bg(Rk,b)?R.j(Ed(yi.j(V,this),this.F),b):new VS(this.F,Ah(R.j(this.D,b)),null)};
g.da=function(a,b,c){return new VS(this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(Cf,this.D))};g.ga=function(a,b){return new VS(b,this.D,this.I)};g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};function WS(a,b,c,d){this.limit=a;this.F=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=WS.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "limit":return this.limit;default:return B.C(this.D,b,c)}};g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.pull-parser.PullRecursionLimit{",", ","}",c,T.j(new W(null,1,5,Y,[new W(null,2,5,Y,[on,this.limit],null)],null),this.D))};
g.pa=function(){return new uj(this,1,new W(null,1,5,Y,[on],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};g.oa=function(){return new WS(this.limit,this.F,this.D,this.I)};g.ja=function(){return 1+K(this.D)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=1552688154^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.limit,b.limit)&&D.j(this.D,b.D)};g.vd=function(){return new W(null,2,5,Y,[ft,this.limit],null)};
g.ya=function(a,b){return bg(new Pk(null,new q(null,1,[on,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new WS(this.limit,this.F,Ah(R.j(this.D,b)),null)};g.da=function(a,b,c){return r(S.j?S.j(on,b):S.call(null,on,b))?new WS(c,this.F,this.D,null):new WS(this.limit,this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(new W(null,1,5,Y,[new X(on,this.limit,null)],null),this.D))};g.ga=function(a,b){return new WS(this.limit,b,this.D,this.I)};
g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};function XS(a,b,c,d,e){this.attr=a;this.Xc=b;this.F=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=XS.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "attr":return this.attr;case "porrl":return this.Xc;default:return B.C(this.D,b,c)}};
g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.pull-parser.PullMapSpecEntry{",", ","}",c,T.j(new W(null,2,5,Y,[new W(null,2,5,Y,[Ly,this.attr],null),new W(null,2,5,Y,[JC,this.Xc],null)],null),this.D))};g.pa=function(){return new uj(this,2,new W(null,2,5,Y,[Ly,JC],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};
g.oa=function(){return new XS(this.attr,this.Xc,this.F,this.D,this.I)};g.ja=function(){return 2+K(this.D)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=152088668^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.attr,b.attr)&&D.j(this.Xc,b.Xc)&&D.j(this.D,b.D)};g.vd=function(){return Gi.P(QS(this.attr),1,Bf,QS(this.Xc))};
g.ya=function(a,b){return bg(new Pk(null,new q(null,2,[JC,null,Ly,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new XS(this.attr,this.Xc,this.F,Ah(R.j(this.D,b)),null)};g.da=function(a,b,c){return r(S.j?S.j(Ly,b):S.call(null,Ly,b))?new XS(c,this.Xc,this.F,this.D,null):r(S.j?S.j(JC,b):S.call(null,JC,b))?new XS(this.attr,c,this.F,this.D,null):new XS(this.attr,this.Xc,this.F,Q.C(this.D,b,c),null)};
g.ia=function(){return E(T.j(new W(null,2,5,Y,[new X(Ly,this.attr,null),new X(JC,this.Xc,null)],null),this.D))};g.ga=function(a,b){return new XS(this.attr,this.Xc,b,this.D,this.I)};g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};function YS(a,b,c,d,e){this.attr=a;this.jb=b;this.F=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=YS.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "attr":return this.attr;case "opts":return this.jb;default:return B.C(this.D,b,c)}};g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.pull-parser.PullAttrWithOpts{",", ","}",c,T.j(new W(null,2,5,Y,[new W(null,2,5,Y,[Ly,this.attr],null),new W(null,2,5,Y,[Bo,this.jb],null)],null),this.D))};g.pa=function(){return new uj(this,2,new W(null,2,5,Y,[Ly,Bo],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};g.oa=function(){return new YS(this.attr,this.jb,this.F,this.D,this.I)};g.ja=function(){return 2+K(this.D)};
g.ha=function(){var a=this.I;return null!=a?a:this.I=a=-429987476^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.attr,b.attr)&&D.j(this.jb,b.jb)&&D.j(this.D,b.D)};g.vd=function(){return Gi.P(QS(this.attr),1,Kk,this.jb)};g.ya=function(a,b){return bg(new Pk(null,new q(null,2,[Bo,null,Ly,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new YS(this.attr,this.jb,this.F,Ah(R.j(this.D,b)),null)};
g.da=function(a,b,c){return r(S.j?S.j(Ly,b):S.call(null,Ly,b))?new YS(c,this.jb,this.F,this.D,null):r(S.j?S.j(Bo,b):S.call(null,Bo,b))?new YS(this.attr,c,this.F,this.D,null):new YS(this.attr,this.jb,this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(new W(null,2,5,Y,[new X(Ly,this.attr,null),new X(Bo,this.jb,null)],null),this.D))};g.ga=function(a,b){return new YS(this.attr,this.jb,b,this.D,this.I)};g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};
function ZS(a,b){return b instanceof VS?Q.C(a,up,!0):Gi.P(a,nu,lh,QS(b))}function $S(a,b,c,d){this.ld=a;this.F=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=$S.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "specs":return this.ld;default:return B.C(this.D,b,c)}};g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.pull-parser.PullPattern{",", ","}",c,T.j(new W(null,1,5,Y,[new W(null,2,5,Y,[uv,this.ld],null)],null),this.D))};g.pa=function(){return new uj(this,1,new W(null,1,5,Y,[uv],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};g.oa=function(){return new $S(this.ld,this.F,this.D,this.I)};g.ja=function(){return 1+K(this.D)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=-795554044^Ye(this)};
g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.ld,b.ld)&&D.j(this.D,b.D)};g.vd=function(){var a=new PS(!1,ce(V),null,null,null);a=w.C(ZS,a,this.ld);return new W(null,2,5,Y,[kr,Gi.C(a,nu,kh)],null)};g.ya=function(a,b){return bg(new Pk(null,new q(null,1,[uv,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new $S(this.ld,this.F,Ah(R.j(this.D,b)),null)};
g.da=function(a,b,c){return r(S.j?S.j(uv,b):S.call(null,uv,b))?new $S(c,this.F,this.D,null):new $S(this.ld,this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(new W(null,1,5,Y,[new X(uv,this.ld,null)],null),this.D))};g.ga=function(a,b){return new $S(this.ld,b,this.D,this.I)};g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};var aT=new Pk(null,new q(null,3,[Xs,null,"*",null,jy,null],null),null);
function bT(a){return a instanceof C||"string"===typeof a?BS(a)?new SS(CS(a),a,null,null,null):new RS(a,null,null,null):null}var cT=new Pk(null,new q(null,2,["...",null,Cv,null],null),null);function dT(a){return Pf(a)&&D.j(3,K(a))}var eT=new Pk(null,new q(null,3,[tq,null,on,null,"limit",null],null),null);
function fT(a){var b=O(a,0,null),c=O(a,1,null),d=O(a,2,null);if(r(eT.B?eT.B(b):eT.call(null,b))){b=null==d||"number"===typeof d&&0<d?bT(c):!1;if(r(b))return new TS(b,d,null,null,null);throw Fm('Expected ["limit" attr-name (positive-number | nil)]',new q(null,2,[aq,mz,au,a],null));}return null}var gT=new Pk(null,new q(null,3,[Dp,null,Am,null,"default",null],null),null);
function hT(a){if(Pf(a)){a=E(a);var b=H(a);a=J(a);b=bT(b);if(null==b)a=null;else{var c;if(c=Sh(K(a)))c=Qh(new Pk(null,new q(null,3,[on,null,Am,null,bA,null],null),null),hi.j(H,Bi(2,2,a)));a=c?new YS(b,uh(Hk,a),null,null,null):null}return a}return null}
function iT(a){var b=O(a,0,null),c=O(a,1,null);a=function(){var e=bT(b);if(r(e))return e;e=hT(b);return r(e)?e:dT(b)?fT(b):null}();if(r(a)){var d=function(){var e=r(cT.B?cT.B(c):cT.call(null,c))?new WS(null,null,null,null):"number"===typeof c&&0<c?new WS(c,null,null,null):null;return r(e)?e:jT.B?jT.B(c):jT.call(null,c)}();if(r(d))return new XS(a,d,null,null,null);throw Fm("Expected (pattern | recursion-limit)",new q(null,2,[aq,mz,au,new W(null,2,5,Y,[b,c],null)],null));}throw Fm("Expected (attr-name | limit-expr)",
new q(null,2,[aq,mz,au,new W(null,2,5,Y,[b,c],null)],null));}
function kT(a){var b=bT(a);if(r(b))return b;b=r(aT.B?aT.B(a):aT.call(null,a))?new VS(null,null,null):null;if(r(b))return b;b=Qf(a)?iT(H(a)):null;if(r(b))return b;b=hT(a);if(r(b))return b;if(dT(a)){if(b=fT(a),!r(b))b:{var c=O(a,0,null),d=O(a,1,null);b=O(a,2,null);if(r(gT.B?gT.B(c):gT.call(null,c))){c=bT(d);if(r(c)){b=new US(c,b,null,null,null);break b}throw Fm('Expected ["default" attr-name any-value]',new q(null,2,[aq,mz,au,a],null));}b=null}}else b=null;if(r(b))return b;throw Fm("Cannot parse attr-spec, expected: (attr-name | wildcard | map-spec | attr-expr)",
new q(null,2,[aq,mz,au,a],null));}function lT(a){return Qf(a)?gz:r(aT.B?aT.B(a):aT.call(null,a))?Au:Pv}function mT(a){return yi.C(Cf,hi.B(function(b){return Bf.j(V,b)}),a)}function nT(a){a=lm(lT,a);var b=r(Ah(B.j(a,Au)))?new W(null,1,5,Y,[jy],null):Cf;return yi.C(yi.j(b,B.j(a,Pv)),Vh.j(hi.B(mT),Yl),B.j(a,gz))}function jT(a){return Pf(a)?new $S(yi.C(Cf,hi.B(kT),nT(a)),null,null,null):null}
function oT(a){var b=null==a?null:jT(a);b=null==b?null:yf(QS(b));if(r(b))return b;throw Fm("Cannot parse pull pattern, expected: [attr-spec+]",new q(null,2,[aq,mz,au,a],null));};function pT(a,b){return w.C(lh,a,b)}function qT(a,b,c){return nk([Cq,Po,Jo,ft,uv,up,yt,TA,vC],[c,b,TA,new q(null,2,[Bq,V,ps,Rk],null),E(nu.B(a)),up.B(a),ce(V),a,ce(Cf)])}function rT(a,b,c,d){return Q.C(qT(a,b,c),Ly,d)}function sT(a,b,c){var d=TA.B(a);return Q.G(a,Po,b,M([uv,E(nu.B(d)),up,up.B(d),yt,ce(V),vC,function(){var e=vC.B(a);return E(c)?lh.j(e,c):e}()]))}
function tT(a,b,c){var d=null!=a&&(a.J&64||l===a.ua)?uh(Gk,a):a,e=B.j(d,Bq);d=B.j(d,ps);return Q.G(a,Bq,Gi.C(e,b,Xh($e,0)),M([ps,Bf.j(d,c)]))}function uT(a,b,c){a:{var d=Rk;for(var e=Wf,f=a,h=E(new W(null,2,5,Y,[ft,ps],null));;)if(null!=h){f=B.C(f,H(h),e);if(e===f)break a;h=J(h)}else{d=f;break a}}return bg(d,c)?Bf.j(b,Gi.P(a,vC,lh,new q(null,1,[kg,c],null))):null}function vT(a,b){b=yt.B(b);b=null==b?null:ge(b);return null==b?null:B.j(b,a)}
function wT(a,b){var c=Ly.B(a);c=tT(ft.B(a),c,b);return Q.C(rT(TA.B(a),new W(null,1,5,Y,[b],null),!1,pu),ft,c)}function xT(a){a=E(a);var b=H(a);a=J(a);var c=E(Po.B(b));if(c){b=sT(b,Re(c),vT(pu,b));c=H(c);var d=uT(b,a,c);return r(d)?d:Bf.G(a,b,M([wT(b,c)]))}c=vT(pu,b);d=vC.B(b);c=E(c)?lh.j(d,c):d;return Bf.j(a,Q.G(b,Jo,Rx,M([vC,c])))}
function yT(a,b,c,d,e){var f=null!=d&&(d.J&64||l===d.ua)?uh(Gk,d):d,h=B.j(f,ft);f=B.j(f,TA);var k=B.C(B.j(h,Bq),a,0);return D.j(ft.B(B.j(nu.B(f),a)),k)?Bf.j(e,d):xT(Bf.G(e,d,M([new q(null,7,[Jo,ft,TA,f,Ly,a,Cq,b,Po,c,ft,h,vC,ce(Cf)],null)])))}var zT=new PS(!0,V,null,null,null);function AT(a,b,c,d,e){a=tT(ft.B(a),c,b);return Q.C(rT(zT,e,d,c),ft,a)}
function BT(a,b,c,d,e,f,h,k){var m=E(k);k=H(m);m=J(m);var n=B.C(h,on,1E3),p=function(){var I=bA.B(h);return r(I)?I:b}(),u=Ah(r(n)?yi.C(Cf,ii.B(n),f):f);if(r(u)){var v=mS(a,c);f=v&&qS(a,c,en);a=r(e)?qS(a,c,NB):!f;var y=r(e)?function(I){return I.v}:function(I){return I.e};if(bg(h,kr))return Bf.G(m,k,M([rT(kr.B(h),zi.j(y,u),a,p)]));if(bg(h,ft))return yT(p,a,zi.j(y,u),k,m);if(r(f?e:!1))return Bf.G(m,k,M([AT(k,d,p,a,zi.j(y,u))]));var F=function(){return v?Vh.j(function(I){return nk([kg],[I])},y):y}(),
G=!a;return Bf.j(m,Gi.la(k,yt,mh,p,function(){var I=yi.C(Cf,hi.B(F),u);return G?H(I):I}()))}return Bf.j(m,bg(h,Am)?Gi.la(k,yt,mh,p,Am.B(h)):k)}var CT=ui(function(a){var b=O(a,0,null);a=O(a,1,null);return zh.j(b,Ly.B(a))});function DT(a,b,c){return rT(Q.G(TA.B(a),nu,c,M([up,!1])),new W(null,1,5,Y,[b],null),!1,Io)}function ET(a,b){return Bf.j(Re(a),Gi.P(H(a),yt,pT,ge(b)))}function FT(a){var b=E(a);a=H(b);b=J(b);var c=Ay.B(a);a=vT(Io,a);return ET(b,pT(c,r(a)?a:V))}
function GT(a,b){var c=E(b);b=H(c);c=J(c);var d=E(mr.B(b));if(d){var e=H(d);d=O(e,0,null);e=O(e,1,null);var f=B.C(Ci(b,new W(null,2,5,Y,[TA,nu],null)),d,V);return BT(a,d,d,Qw.B(b),!0,e,f,Bf.j(c,Gi.C(b,mr,Re)))}a=Ah(yi.C(V,CT,Ci(b,new W(null,2,5,Y,[TA,nu],null))));return r(a)?(b=Q.G(b,Jo,Uo,M([Ay,yt.B(b),yt,ce(V)])),Bf.G(c,b,M([DT(b,Qw.B(b),a)]))):ET(c,yt.B(b))}
function HT(a,b,c,d,e){var f=lm(function(m){return m.a},OR(a,Iv,new W(null,1,5,Y,[d],null))),h=null!=b&&(b.J&64||l===b.ua)?uh(Gk,b):b,k=B.j(h,Ly);h=B.j(h,ft);k=null!=k?tT(h,k,d):h;return GT(a,Bf.G(c,b,M([new q(null,6,[Jo,Dz,yt,ce(new q(null,1,[kg,d],null)),Qw,d,TA,e,mr,E(f),ft,k],null)])))}
function IT(a,b){for(;;){var c=E(b);b=H(c);var d=J(c);c=b;if(b=E(Po.B(c))){if(r(up.B(c))){b=Q.G(c,uv,Cf,M([Qw,H(b),up,!1]));c=d;var e=null!=b&&(b.J&64||l===b.ua)?uh(Gk,b):b;d=B.j(e,Qw);e=B.j(e,TA);var f=uT(b,c,d);return r(f)?f:HT(a,b,c,d,e)}if(e=E(uv.B(c))){f=e;e=H(f);TA.B(c);c=Bf.j(d,Q.C(c,uv,Re(f)));b=H(b);d=O(e,0,null);e=O(e,1,null);if(D.j(kg,d))a=r(Ah(OR(a,Iv,new W(null,1,5,Y,[b],null))))?Bf.j(Re(c),Gi.la(H(c),yt,mh,kg,b)):c;else{f=Ly.B(e);var h=D.j(d,f),k=h?OR(a,Iv,new W(null,2,5,Y,[b,f],null)):
OR(a,yn,new W(null,2,5,Y,[f,b],null));a=BT(a,d,f,b,h,k,e,c)}return a}b=Bf.j(d,sT(c,Re(b),Ah(ge(yt.B(c)))))}else return Bf.j(d,Q.C(c,Jo,Rx))}}
function JT(a,b){for(;;){var c=Jo.B(H(b));c=c instanceof C?c.na:null;switch(c){case "expand":c=a;b=GT(a,b);a=c;continue;case "expand-rev":b=FT(b);continue;case "pattern":c=a;b=IT(a,b);a=c;continue;case "recursion":b=xT(b);continue;case "done":c=E(b);b=H(c);c=J(c);var d=b,e=c,f=function(){var h=ge(vC.B(d));return Kc(Cq.B(d))?H(h):h}();if(E(e)){b=Bf.j(Re(e),function(){var h=H(e);return r(f)?Gi.la(h,yt,mh,Ly.B(d),f):h}());continue}else return f;default:throw Error(["No matching clause: ",t.B(c)].join(""));
}}}function KT(a,b,c){c=yi.C(Cf,hi.B(function(d){return nS(a,d)}),c);return JT(a,new Df(null,qT(b,c,!1),null,1,null))};function LT(a,b,c,d,e){this.ge=a;this.yh=b;this.Ah=c;this.Jd=d;this.limit=e;this.J=2147484416;this.T=0}LT.prototype.da=function(a,b,c){return MT.C?MT.C(this,b,c):MT.call(null,this,b,c)};LT.prototype.ma=function(a,b){return nd(this.ge,b,null)};LT.prototype.R=function(a,b,c){return nd(this.ge,b,c)};LT.prototype.ea=function(a,b,c){return Yd(this.ge,b,c)};function NT(a,b,c,d,e){return new LT(a,b,c,d,e)}
function MT(a,b,c){var d=a.ge,e=a.yh,f=a.Ah,h=a.Jd;a=a.limit;var k=f.j?f.j(b,null):f.call(null,b,null);if(r(k))return NT(d,Q.C(R.j(e,k),h,b),Q.C(f,b,h),h+1,a);b=NT(Q.C(d,b,c),Q.C(e,h,b),Q.C(f,b,h),h+1,a);return OT.B?OT.B(b):OT.call(null,b)}function OT(a){if(K(a.ge)>a.limit){var b=a.ge,c=a.yh,d=a.Ah,e=a.Jd;a=a.limit;var f=H(c),h=O(f,0,null);f=O(f,1,null);return NT(R.j(b,f),R.j(c,h),R.j(d,f),e,a)}return a};function PT(a,b){b="number"===typeof b||Pf(b)||b instanceof C?rS(a,b):null;if(r(b)){var c=new di(!1),d=new di(V);return QT.P?QT.P(a,b,c,d):QT.call(null,a,b,c,d)}return null}function RT(a,b,c){return qS(a,b,NB)?mS(a,b)?w.C(function(d,e){return Bf.j(d,PT(a,ox.B(e)))},Rk,c):w.C(function(d,e){return Bf.j(d,ox.B(e))},Rk,c):mS(a,b)?PT(a,ox.B(H(c))):ox.B(H(c))}
function ST(a,b,c,d){b=Ah(MR(a,new W(null,3,5,Y,[null,c,b],null)));return r(b)?qS(a,c,en)?PT(a,dx.B(H(b))):w.C(function(e,f){return Bf.j(e,PT(a,dx.B(f)))},Rk,b):d}function TT(a){return r(a)?ig(a):null}
function UT(a){VT.B?VT.B(a):VT.call(null,a);return function d(c){return new Yg(null,function(){for(;;){var e=E(c);if(e){if(Uf(e)){var f=me(e),h=K(f),k=bh(h);a:for(var m=0;;)if(m<h){var n=x(f,m),p=O(n,0,null);n=O(n,1,null);p=qS(a.db,p,NB)?new W(null,2,5,Y,[p,TT(n)],null):new W(null,2,5,Y,[p,n],null);k.add(p);m+=1}else{f=!0;break a}return f?dh(fh(k),d(ne(e))):dh(fh(k),null)}f=H(e);k=O(f,0,null);f=O(f,1,null);return uf(qS(a.db,k,NB)?new W(null,2,5,Y,[k,TT(f)],null):new W(null,2,5,Y,[k,f],null),d(Re(e)))}return null}},
null,null)}(z(a.cache))}function WT(a,b,c,d){this.db=a;this.gd=b;this.Mg=c;this.cache=d;this.J=2162164483;this.T=0}g=WT.prototype;g.entry_set=function(){return ig(hi.j(ig,UT(this)))};
g.forEach=function(){function a(d,e){for(var f=E(UT(this)),h=null,k=0,m=0;;)if(m<k){var n=h.wa(null,m),p=O(n,0,null);n=O(n,1,null);d.call(e,n,p,this);m+=1}else if(f=E(f))Uf(f)?(h=me(f),f=ne(f),p=h,k=K(h),h=p):(h=H(f),p=O(h,0,null),n=O(h,1,null),d.call(e,n,p,this),f=J(f),h=null,k=0),m=0;else return null}function b(d){for(var e=E(UT(this)),f=null,h=0,k=0;;)if(k<h){var m=f.wa(null,k),n=O(m,0,null);m=O(m,1,null);d.C?d.C(m,n,this):d.call(null,m,n,this);k+=1}else if(e=E(e))Uf(e)?(f=me(e),e=ne(e),n=f,h=
K(f),f=n):(f=H(e),n=O(f,0,null),m=O(f,1,null),d.C?d.C(m,n,this):d.call(null,m,n,this),e=J(e),f=null,h=0),k=0;else return null}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+arguments.length);};c.B=b;c.j=a;return c}();g.get=function(a){if(D.j(a,":db/id"))return this.gd;if(BS(a))return TT(ST(this.db,this.gd,CS(a),null));var b=XT?XT(this,a):YT.call(null,this,a);return qS(this.db,a,NB)?TT(b):b};g.key_set=function(){return ig(Aj(this))};
g.entries=function(){return new vj(E(UT(this)))};g.value_set=function(){return ig(hi.j(yf,UT(this)))};g.toString=function(){return ye(this)};g.keys=function(){return Ue(Aj(this))};g.values=function(){return Ue(hi.j(yf,UT(this)))};g.equiv=function(a){return ZT.j?ZT.j(this,a):ZT.call(null,this,a)};g.has=function(a){return null!=this.get(a)};g.ma=function(a,b){return $T?$T(this,b,null):YT.call(null,this,b,null)};g.R=function(a,b,c){return $T?$T(this,b,c):YT.call(null,this,b,c)};
g.ea=function(a,b,c){return Yd(Q.C(z(this.cache),kg,this.gd),b,c)};g.ja=function(){VT.B?VT.B(this):VT.call(null,this);return K(z(this.cache))};g.ha=function(){return Ge(this.gd)};g.ba=function(a,b){return ZT.j?ZT.j(this,b):ZT.call(null,this,b)};g.ia=function(){VT.B?VT.B(this):VT.call(null,this);return E(z(this.cache))};
g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Tc(b)))};g.B=function(a){return XT?XT(this,a):YT.call(null,this,a)};g.j=function(a,b){return $T?$T(this,a,b):YT.call(null,this,a,b)};function QT(a,b,c,d){return new WT(a,b,c,d)}
function ZT(a,b){return b instanceof WT&&D.j(a.gd,b.gd)}function YT(a){switch(arguments.length){case 2:return XT(arguments[0],arguments[1]);case 3:return $T(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function XT(a,b){return $T(a,b,null)}
function $T(a,b,c){if(D.j(b,kg))return a.gd;if(BS(b))return ST(a.db,a.gd,CS(b),c);var d=z(a.cache);d=d.B?d.B(b):d.call(null,b);if(null==d){if(r(z(a.Mg)))return c;d=Ah(MR(a.db,new W(null,2,5,Y,[a.gd,b],null)));if(null==d)return c;c=RT(a.db,b,d);b=Q.C(z(a.cache),b,c);te(a.cache,b);return c}return d}function aU(a,b){return pg(function(c,d,e){return Q.C(c,d,qS(a,d,en)?qS(a,d,NB)?Tk(hi.j(VT,e)):VT.B?VT.B(e):VT.call(null,e):e)},V,b)}
function bU(a,b){return w.C(function(c,d){var e=hx.B(H(d));return Q.C(c,e,RT(a,e,d))},V,hl(hx,b))}function VT(a){if(!r(z(a.Mg))){var b=Ah(MR(a.db,new W(null,1,5,Y,[a.gd],null)));r(b)&&(b=aU(a.db,bU(a.db,b)),te(a.cache,b),te(a.Mg,!0))}return a}oa("datascript.impl.entity.Entity",WT);function cU(){}function dU(a,b,c){if(null!=a&&null!=a.Sa)a=a.Sa(a,b,c);else{var d=dU[ra(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=dU._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Oc("ITraversable.-collect",a);}return a}
function eU(a,b){if(null!=a&&null!=a.Ta)a=a.Ta(a,b);else{var c=eU[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=eU._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Oc("ITraversable.-collect-vars",a);}return a}function fU(a,b){return Pf(a)&&D.j(K(a),b)}function gU(a,b){return Pf(b)?w.C(function(c,d){d=a.B?a.B(d):a.call(null,d);return r(d)?Bf.j(c,d):bf(null)},Cf,b):null}function hU(a,b){return iU(a,b,Cf)}
function iU(a,b,c){return r(a.B?a.B(b):a.call(null,b))?Bf.j(c,b):(null!=b?l===b.Ra||(b.Hd?0:Mc(cU,b)):Mc(cU,b))?dU(b,a,c):jR(b)?w.C(function(d,e){return iU(a,e,d)},c,b):c}function jU(a){var b=Mf(a);return b?b:uh(cg,a)}function kU(a,b){return Jf(a,new q(null,1,[Ln,b],null))}function lU(a){var b=Ln.B(Kf(a));return r(b)?b:a}function mU(a,b,c){this.F=a;this.D=b;this.I=c;this.J=2230716170;this.T=139264}g=mU.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){return B.C(this.D,b,c)};g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.parser.Placeholder{",", ","}",c,T.j(Cf,this.D))};g.pa=function(){return new uj(this,0,Cf,r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};g.oa=function(){return new mU(this.F,this.D,this.I)};g.ja=function(){return 0+K(this.D)};
g.ha=function(){var a=this.I;return null!=a?a:this.I=a=-528488587^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.D,b.D)};g.ya=function(a,b){return bg(Rk,b)?R.j(Ed(yi.j(V,this),this.F),b):new mU(this.F,Ah(R.j(this.D,b)),null)};g.da=function(a,b,c){return new mU(this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(Cf,this.D))};g.ga=function(a,b){return new mU(b,this.D,this.I)};g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};
g.Ra=l;g.Sa=function(a,b,c){return c};g.Ta=function(a,b){return b};function nU(a,b,c,d){this.symbol=a;this.F=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=nU.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "symbol":return this.symbol;default:return B.C(this.D,b,c)}};g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.parser.Variable{",", ","}",c,T.j(new W(null,1,5,Y,[new W(null,2,5,Y,[xx,this.symbol],null)],null),this.D))};g.pa=function(){return new uj(this,1,new W(null,1,5,Y,[xx],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};g.oa=function(){return new nU(this.symbol,this.F,this.D,this.I)};g.ja=function(){return 1+K(this.D)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=736891289^Ye(this)};
g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.symbol,b.symbol)&&D.j(this.D,b.D)};g.ya=function(a,b){return bg(new Pk(null,new q(null,1,[xx,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new nU(this.symbol,this.F,Ah(R.j(this.D,b)),null)};g.da=function(a,b,c){return r(S.j?S.j(xx,b):S.call(null,xx,b))?new nU(c,this.F,this.D,null):new nU(this.symbol,this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(new W(null,1,5,Y,[new X(xx,this.symbol,null)],null),this.D))};
g.ga=function(a,b){return new nU(this.symbol,b,this.D,this.I)};g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};g.Ra=l;g.Sa=function(a,b,c){return iU(b,this.symbol,c)};g.Ta=function(a,b){return oU.j?oU.j(b,this.symbol):oU.call(null,b,this.symbol)};function pU(a,b,c,d){this.symbol=a;this.F=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=pU.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "symbol":return this.symbol;default:return B.C(this.D,b,c)}};g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.parser.SrcVar{",", ","}",c,T.j(new W(null,1,5,Y,[new W(null,2,5,Y,[xx,this.symbol],null)],null),this.D))};
g.pa=function(){return new uj(this,1,new W(null,1,5,Y,[xx],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};g.oa=function(){return new pU(this.symbol,this.F,this.D,this.I)};g.ja=function(){return 1+K(this.D)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=-1648766309^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.symbol,b.symbol)&&D.j(this.D,b.D)};
g.ya=function(a,b){return bg(new Pk(null,new q(null,1,[xx,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new pU(this.symbol,this.F,Ah(R.j(this.D,b)),null)};g.da=function(a,b,c){return r(S.j?S.j(xx,b):S.call(null,xx,b))?new pU(c,this.F,this.D,null):new pU(this.symbol,this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(new W(null,1,5,Y,[new X(xx,this.symbol,null)],null),this.D))};g.ga=function(a,b){return new pU(this.symbol,b,this.D,this.I)};
g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};g.Ra=l;g.Sa=function(a,b,c){return iU(b,this.symbol,c)};g.Ta=function(a,b){return oU.j?oU.j(b,this.symbol):oU.call(null,b,this.symbol)};function qU(a,b,c){this.F=a;this.D=b;this.I=c;this.J=2230716170;this.T=139264}g=qU.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){return B.C(this.D,b,c)};
g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.parser.DefaultSrc{",", ","}",c,T.j(Cf,this.D))};g.pa=function(){return new uj(this,0,Cf,r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};g.oa=function(){return new qU(this.F,this.D,this.I)};g.ja=function(){return 0+K(this.D)};
g.ha=function(){var a=this.I;return null!=a?a:this.I=a=-350962559^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.D,b.D)};g.ya=function(a,b){return bg(Rk,b)?R.j(Ed(yi.j(V,this),this.F),b):new qU(this.F,Ah(R.j(this.D,b)),null)};g.da=function(a,b,c){return new qU(this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(Cf,this.D))};g.ga=function(a,b){return new qU(b,this.D,this.I)};g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};
g.Ra=l;g.Sa=function(a,b,c){return c};g.Ta=function(a,b){return b};function rU(a,b,c){this.F=a;this.D=b;this.I=c;this.J=2230716170;this.T=139264}g=rU.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){return B.C(this.D,b,c)};g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.parser.RulesVar{",", ","}",c,T.j(Cf,this.D))};g.pa=function(){return new uj(this,0,Cf,r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};g.oa=function(){return new rU(this.F,this.D,this.I)};g.ja=function(){return 0+K(this.D)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=-1504050517^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.D,b.D)};
g.ya=function(a,b){return bg(Rk,b)?R.j(Ed(yi.j(V,this),this.F),b):new rU(this.F,Ah(R.j(this.D,b)),null)};g.da=function(a,b,c){return new rU(this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(Cf,this.D))};g.ga=function(a,b){return new rU(b,this.D,this.I)};g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};g.Ra=l;g.Sa=function(a,b,c){return c};g.Ta=function(a,b){return b};function sU(a,b,c,d){this.value=a;this.F=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}
g=sU.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "value":return this.value;default:return B.C(this.D,b,c)}};g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.parser.Constant{",", ","}",c,T.j(new W(null,1,5,Y,[new W(null,2,5,Y,[Gx,this.value],null)],null),this.D))};
g.pa=function(){return new uj(this,1,new W(null,1,5,Y,[Gx],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};g.oa=function(){return new sU(this.value,this.F,this.D,this.I)};g.ja=function(){return 1+K(this.D)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=-812884714^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.value,b.value)&&D.j(this.D,b.D)};
g.ya=function(a,b){return bg(new Pk(null,new q(null,1,[Gx,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new sU(this.value,this.F,Ah(R.j(this.D,b)),null)};g.da=function(a,b,c){return r(S.j?S.j(Gx,b):S.call(null,Gx,b))?new sU(c,this.F,this.D,null):new sU(this.value,this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(new W(null,1,5,Y,[new X(Gx,this.value,null)],null),this.D))};g.ga=function(a,b){return new sU(this.value,b,this.D,this.I)};
g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};g.Ra=l;g.Sa=function(a,b,c){return iU(b,this.value,c)};g.Ta=function(a,b){return oU.j?oU.j(b,this.value):oU.call(null,b,this.value)};function tU(a,b,c,d){this.symbol=a;this.F=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=tU.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "symbol":return this.symbol;default:return B.C(this.D,b,c)}};
g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.parser.PlainSymbol{",", ","}",c,T.j(new W(null,1,5,Y,[new W(null,2,5,Y,[xx,this.symbol],null)],null),this.D))};g.pa=function(){return new uj(this,1,new W(null,1,5,Y,[xx],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};
g.oa=function(){return new tU(this.symbol,this.F,this.D,this.I)};g.ja=function(){return 1+K(this.D)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=1509921913^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.symbol,b.symbol)&&D.j(this.D,b.D)};g.ya=function(a,b){return bg(new Pk(null,new q(null,1,[xx,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new tU(this.symbol,this.F,Ah(R.j(this.D,b)),null)};
g.da=function(a,b,c){return r(S.j?S.j(xx,b):S.call(null,xx,b))?new tU(c,this.F,this.D,null):new tU(this.symbol,this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(new W(null,1,5,Y,[new X(xx,this.symbol,null)],null),this.D))};g.ga=function(a,b){return new tU(this.symbol,b,this.D,this.I)};g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};g.Ra=l;g.Sa=function(a,b,c){return iU(b,this.symbol,c)};g.Ta=function(a,b){return oU.j?oU.j(b,this.symbol):oU.call(null,b,this.symbol)};
function uU(a){return a instanceof A&&D.j(H(Xg(a)),"?")?new nU(a,null,null,null):null}function vU(a){var b=uU(a);if(r(b))return b;throw Fm(["Cannot parse var, expected symbol starting with ?, got: ",Gl.G(M([a]))].join(""),new q(null,2,[aq,Oq,Mt,a],null));}function wU(a){return a instanceof A&&D.j(H(Xg(a)),"$")?new pU(a,null,null,null):null}function xU(a){return a instanceof A?null:new sU(a,null,null,null)}
function yU(a){return a instanceof A&&Kc(uU(a))&&Kc(wU(a))&&Kc(D.j(Lt,a)?new rU(null,null,null):null)&&Kc(D.j(Lq,a)?new mU(null,null,null):null)?new tU(a,null,null,null):null}function zU(a){return r(yU(a))?new nU(a,null,null,null):null}function AU(a){var b=uU(a);if(r(b))return b;b=xU(a);return r(b)?b:wU(a)}function BU(a,b,c,d,e){this.required=a;this.Kc=b;this.F=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=BU.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "required":return this.required;case "free":return this.Kc;default:return B.C(this.D,b,c)}};g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.parser.RuleVars{",", ","}",c,T.j(new W(null,2,5,Y,[new W(null,2,5,Y,[VA,this.required],null),new W(null,2,5,Y,[ls,this.Kc],null)],null),this.D))};g.pa=function(){return new uj(this,2,new W(null,2,5,Y,[VA,ls],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};g.oa=function(){return new BU(this.required,this.Kc,this.F,this.D,this.I)};g.ja=function(){return 2+K(this.D)};
g.ha=function(){var a=this.I;return null!=a?a:this.I=a=892963297^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.required,b.required)&&D.j(this.Kc,b.Kc)&&D.j(this.D,b.D)};g.ya=function(a,b){return bg(new Pk(null,new q(null,2,[ls,null,VA,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new BU(this.required,this.Kc,this.F,Ah(R.j(this.D,b)),null)};
g.da=function(a,b,c){return r(S.j?S.j(VA,b):S.call(null,VA,b))?new BU(c,this.Kc,this.F,this.D,null):r(S.j?S.j(ls,b):S.call(null,ls,b))?new BU(this.required,c,this.F,this.D,null):new BU(this.required,this.Kc,this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(new W(null,2,5,Y,[new X(VA,this.required,null),new X(ls,this.Kc,null)],null),this.D))};g.ga=function(a,b){return new BU(this.required,this.Kc,b,this.D,this.I)};g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};
g.Ra=l;g.Sa=function(a,b,c){return iU(b,this.Kc,iU(b,this.required,c))};g.Ta=function(a,b){a=oU.j?oU.j(b,this.required):oU.call(null,b,this.required);b=this.Kc;return oU.j?oU.j(a,b):oU.call(null,a,b)};
function CU(a){if(Pf(a)){var b=Pf(H(a))?new W(null,2,5,Y,[H(a),J(a)],null):new W(null,2,5,Y,[null,a],null),c=O(b,0,null);b=O(b,1,null);c=gU(vU,c);b=gU(vU,b);if(Mf(c)&&Mf(b))throw Fm("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",new q(null,2,[aq,fr,Mt,a],null));if(!r(jU(T.j(c,b))))throw Fm("Rule variables should be distinct",new q(null,2,[aq,fr,Mt,a],null));return new BU(c,b,null,null,null)}throw Fm("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",
new q(null,2,[aq,fr,Mt,a],null));}function DU(a){return T.B(r(VA.B(a))?function(){zi.j(xx,VA.B(a));return zi.j(xx,ls.B(a))}():null)}function EU(a){return new W(null,2,5,Y,[K(VA.B(a)),K(ls.B(a))],null)}function FU(a,b,c){this.F=a;this.D=b;this.I=c;this.J=2230716170;this.T=139264}g=FU.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){return B.C(this.D,b,c)};
g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.parser.BindIgnore{",", ","}",c,T.j(Cf,this.D))};g.pa=function(){return new uj(this,0,Cf,r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};g.oa=function(){return new FU(this.F,this.D,this.I)};g.ja=function(){return 0+K(this.D)};
g.ha=function(){var a=this.I;return null!=a?a:this.I=a=-890522983^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.D,b.D)};g.ya=function(a,b){return bg(Rk,b)?R.j(Ed(yi.j(V,this),this.F),b):new FU(this.F,Ah(R.j(this.D,b)),null)};g.da=function(a,b,c){return new FU(this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(Cf,this.D))};g.ga=function(a,b){return new FU(b,this.D,this.I)};g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};
g.Ra=l;g.Sa=function(a,b,c){return c};g.Ta=function(a,b){return b};function GU(a,b,c,d){this.Xa=a;this.F=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=GU.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "variable":return this.Xa;default:return B.C(this.D,b,c)}};g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.parser.BindScalar{",", ","}",c,T.j(new W(null,1,5,Y,[new W(null,2,5,Y,[Eu,this.Xa],null)],null),this.D))};g.pa=function(){return new uj(this,1,new W(null,1,5,Y,[Eu],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};g.oa=function(){return new GU(this.Xa,this.F,this.D,this.I)};g.ja=function(){return 1+K(this.D)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=-1522792445^Ye(this)};
g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Xa,b.Xa)&&D.j(this.D,b.D)};g.ya=function(a,b){return bg(new Pk(null,new q(null,1,[Eu,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new GU(this.Xa,this.F,Ah(R.j(this.D,b)),null)};g.da=function(a,b,c){return r(S.j?S.j(Eu,b):S.call(null,Eu,b))?new GU(c,this.F,this.D,null):new GU(this.Xa,this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(new W(null,1,5,Y,[new X(Eu,this.Xa,null)],null),this.D))};
g.ga=function(a,b){return new GU(this.Xa,b,this.D,this.I)};g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};g.Ra=l;g.Sa=function(a,b,c){return iU(b,this.Xa,c)};g.Ta=function(a,b){return oU.j?oU.j(b,this.Xa):oU.call(null,b,this.Xa)};function HU(a,b,c,d){this.bindings=a;this.F=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=HU.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "bindings":return this.bindings;default:return B.C(this.D,b,c)}};g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.parser.BindTuple{",", ","}",c,T.j(new W(null,1,5,Y,[new W(null,2,5,Y,[Pn,this.bindings],null)],null),this.D))};
g.pa=function(){return new uj(this,1,new W(null,1,5,Y,[Pn],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};g.oa=function(){return new HU(this.bindings,this.F,this.D,this.I)};g.ja=function(){return 1+K(this.D)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=-1637239347^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.bindings,b.bindings)&&D.j(this.D,b.D)};
g.ya=function(a,b){return bg(new Pk(null,new q(null,1,[Pn,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new HU(this.bindings,this.F,Ah(R.j(this.D,b)),null)};g.da=function(a,b,c){return r(S.j?S.j(Pn,b):S.call(null,Pn,b))?new HU(c,this.F,this.D,null):new HU(this.bindings,this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(new W(null,1,5,Y,[new X(Pn,this.bindings,null)],null),this.D))};g.ga=function(a,b){return new HU(this.bindings,b,this.D,this.I)};
g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};g.Ra=l;g.Sa=function(a,b,c){return iU(b,this.bindings,c)};g.Ta=function(a,b){return oU.j?oU.j(b,this.bindings):oU.call(null,b,this.bindings)};function IU(a,b,c,d){this.binding=a;this.F=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=IU.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "binding":return this.binding;default:return B.C(this.D,b,c)}};
g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.parser.BindColl{",", ","}",c,T.j(new W(null,1,5,Y,[new W(null,2,5,Y,[Nw,this.binding],null)],null),this.D))};g.pa=function(){return new uj(this,1,new W(null,1,5,Y,[Nw],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};
g.oa=function(){return new IU(this.binding,this.F,this.D,this.I)};g.ja=function(){return 1+K(this.D)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=-1930368089^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.binding,b.binding)&&D.j(this.D,b.D)};g.ya=function(a,b){return bg(new Pk(null,new q(null,1,[Nw,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new IU(this.binding,this.F,Ah(R.j(this.D,b)),null)};
g.da=function(a,b,c){return r(S.j?S.j(Nw,b):S.call(null,Nw,b))?new IU(c,this.F,this.D,null):new IU(this.binding,this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(new W(null,1,5,Y,[new X(Nw,this.binding,null)],null),this.D))};g.ga=function(a,b){return new IU(this.binding,b,this.D,this.I)};g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};g.Ra=l;g.Sa=function(a,b,c){return iU(b,this.binding,c)};g.Ta=function(a,b){return oU.j?oU.j(b,this.binding):oU.call(null,b,this.binding)};
function JU(a){return D.j(Lq,a)?kU(new FU(null,null,null),a):null}function KU(a){var b=JU(a);return r(b)?b:LU.B?LU.B(a):LU.call(null,a)}function MU(a){var b=gU(KU,a);if(r(b)){if(Mf(b))throw Fm("Tuple binding cannot be empty",new q(null,2,[aq,lq,Mt,a],null));return kU(new HU(b,null,null,null),a)}return null}
function LU(a){a:{if(fU(a,2)&&D.j(yf(a),Cv)){var b=H(a);b=LU.B?LU.B(b):LU.call(null,b);if(r(b)){b=kU(new IU(b,null,null,null),a);break a}throw Fm("Cannot parse collection binding",new q(null,2,[aq,lq,Mt,a],null));}b=null}if(r(b))return b;b=fU(a,1)&&Pf(H(a))?kU(new IU(MU(H(a)),null,null,null),a):null;if(r(b))return b;b=MU(a);if(r(b))return b;b=JU(a);if(r(b))return b;b=uU(a);b=r(b)?kU(new GU(b,null,null,null),a):null;if(r(b))return b;throw Fm("Cannot parse binding, expected (bind-scalar | bind-tuple | bind-coll | bind-rel)",
new q(null,2,[aq,lq,Mt,a],null));}function NU(a){if(null!=a&&null!=a.sf)a=a.sf(a);else{var b=NU[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=NU._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Oc("IFindVars.-find-vars",a);}return a}nU.prototype.sf=function(){return new W(null,1,5,Y,[this.symbol],null)};function OU(a,b,c,d,e){this.fn=a;this.args=b;this.F=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=OU.prototype;g.sf=function(){return NU(Af(this.args))};
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "fn":return this.fn;case "args":return this.args;default:return B.C(this.D,b,c)}};g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.parser.Aggregate{",", ","}",c,T.j(new W(null,2,5,Y,[new W(null,2,5,Y,[MA,this.fn],null),new W(null,2,5,Y,[NA,this.args],null)],null),this.D))};g.pa=function(){return new uj(this,2,new W(null,2,5,Y,[MA,NA],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};g.oa=function(){return new OU(this.fn,this.args,this.F,this.D,this.I)};g.ja=function(){return 2+K(this.D)};
g.ha=function(){var a=this.I;return null!=a?a:this.I=a=-91097383^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.fn,b.fn)&&D.j(this.args,b.args)&&D.j(this.D,b.D)};g.ya=function(a,b){return bg(new Pk(null,new q(null,2,[NA,null,MA,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new OU(this.fn,this.args,this.F,Ah(R.j(this.D,b)),null)};
g.da=function(a,b,c){return r(S.j?S.j(MA,b):S.call(null,MA,b))?new OU(c,this.args,this.F,this.D,null):r(S.j?S.j(NA,b):S.call(null,NA,b))?new OU(this.fn,c,this.F,this.D,null):new OU(this.fn,this.args,this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(new W(null,2,5,Y,[new X(MA,this.fn,null),new X(NA,this.args,null)],null),this.D))};g.ga=function(a,b){return new OU(this.fn,this.args,b,this.D,this.I)};g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};g.Ra=l;
g.Sa=function(a,b,c){return iU(b,this.args,iU(b,this.fn,c))};g.Ta=function(a,b){a=oU.j?oU.j(b,this.fn):oU.call(null,b,this.fn);b=this.args;return oU.j?oU.j(a,b):oU.call(null,a,b)};function PU(a,b,c,d,e,f){this.source=a;this.Xa=b;this.pattern=c;this.F=d;this.D=e;this.I=f;this.J=2230716170;this.T=139264}g=PU.prototype;g.sf=function(){return NU(this.Xa)};g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "source":return this.source;case "variable":return this.Xa;case "pattern":return this.pattern;default:return B.C(this.D,b,c)}};g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.parser.Pull{",", ","}",c,T.j(new W(null,3,5,Y,[new W(null,2,5,Y,[Ln,this.source],null),new W(null,2,5,Y,[Eu,this.Xa],null),new W(null,2,5,Y,[TA,this.pattern],null)],null),this.D))};g.pa=function(){return new uj(this,3,new W(null,3,5,Y,[Ln,Eu,TA],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};g.oa=function(){return new PU(this.source,this.Xa,this.pattern,this.F,this.D,this.I)};
g.ja=function(){return 3+K(this.D)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=-2108867663^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.source,b.source)&&D.j(this.Xa,b.Xa)&&D.j(this.pattern,b.pattern)&&D.j(this.D,b.D)};g.ya=function(a,b){return bg(new Pk(null,new q(null,3,[Eu,null,Ln,null,TA,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new PU(this.source,this.Xa,this.pattern,this.F,Ah(R.j(this.D,b)),null)};
g.da=function(a,b,c){return r(S.j?S.j(Ln,b):S.call(null,Ln,b))?new PU(c,this.Xa,this.pattern,this.F,this.D,null):r(S.j?S.j(Eu,b):S.call(null,Eu,b))?new PU(this.source,c,this.pattern,this.F,this.D,null):r(S.j?S.j(TA,b):S.call(null,TA,b))?new PU(this.source,this.Xa,c,this.F,this.D,null):new PU(this.source,this.Xa,this.pattern,this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(new W(null,3,5,Y,[new X(Ln,this.source,null),new X(Eu,this.Xa,null),new X(TA,this.pattern,null)],null),this.D))};
g.ga=function(a,b){return new PU(this.source,this.Xa,this.pattern,b,this.D,this.I)};g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};g.Ra=l;g.Sa=function(a,b,c){return iU(b,this.pattern,iU(b,this.Xa,iU(b,this.source,c)))};g.Ta=function(a,b){a=oU.j?oU.j(b,this.source):oU.call(null,b,this.source);b=this.Xa;a=oU.j?oU.j(a,b):oU.call(null,a,b);b=this.pattern;return oU.j?oU.j(a,b):oU.call(null,a,b)};
function QU(a){if(null!=a&&null!=a.Ge)a=a.Ge(a);else{var b=QU[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=QU._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Oc("IFindElements.find-elements",a);}return a}function RU(a,b,c,d){this.elements=a;this.F=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=RU.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "elements":return this.elements;default:return B.C(this.D,b,c)}};g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.parser.FindRel{",", ","}",c,T.j(new W(null,1,5,Y,[new W(null,2,5,Y,[Et,this.elements],null)],null),this.D))};
g.pa=function(){return new uj(this,1,new W(null,1,5,Y,[Et],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};g.oa=function(){return new RU(this.elements,this.F,this.D,this.I)};g.ja=function(){return 1+K(this.D)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=744809563^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.elements,b.elements)&&D.j(this.D,b.D)};
g.ya=function(a,b){return bg(new Pk(null,new q(null,1,[Et,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new RU(this.elements,this.F,Ah(R.j(this.D,b)),null)};g.Ge=function(){return this.elements};g.da=function(a,b,c){return r(S.j?S.j(Et,b):S.call(null,Et,b))?new RU(c,this.F,this.D,null):new RU(this.elements,this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(new W(null,1,5,Y,[new X(Et,this.elements,null)],null),this.D))};g.ga=function(a,b){return new RU(this.elements,b,this.D,this.I)};
g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};g.Ra=l;g.Sa=function(a,b,c){return iU(b,this.elements,c)};g.Ta=function(a,b){return oU.j?oU.j(b,this.elements):oU.call(null,b,this.elements)};function SU(a,b,c,d){this.element=a;this.F=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=SU.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "element":return this.element;default:return B.C(this.D,b,c)}};
g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.parser.FindColl{",", ","}",c,T.j(new W(null,1,5,Y,[new W(null,2,5,Y,[iz,this.element],null)],null),this.D))};g.pa=function(){return new uj(this,1,new W(null,1,5,Y,[iz],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};
g.oa=function(){return new SU(this.element,this.F,this.D,this.I)};g.ja=function(){return 1+K(this.D)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=124241361^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.element,b.element)&&D.j(this.D,b.D)};g.ya=function(a,b){return bg(new Pk(null,new q(null,1,[iz,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new SU(this.element,this.F,Ah(R.j(this.D,b)),null)};
g.Ge=function(){return new W(null,1,5,Y,[this.element],null)};g.da=function(a,b,c){return r(S.j?S.j(iz,b):S.call(null,iz,b))?new SU(c,this.F,this.D,null):new SU(this.element,this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(new W(null,1,5,Y,[new X(iz,this.element,null)],null),this.D))};g.ga=function(a,b){return new SU(this.element,b,this.D,this.I)};g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};g.Ra=l;g.Sa=function(a,b,c){return iU(b,this.element,c)};
g.Ta=function(a,b){return oU.j?oU.j(b,this.element):oU.call(null,b,this.element)};function TU(a,b,c,d){this.element=a;this.F=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=TU.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "element":return this.element;default:return B.C(this.D,b,c)}};g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.parser.FindScalar{",", ","}",c,T.j(new W(null,1,5,Y,[new W(null,2,5,Y,[iz,this.element],null)],null),this.D))};g.pa=function(){return new uj(this,1,new W(null,1,5,Y,[iz],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};g.oa=function(){return new TU(this.element,this.F,this.D,this.I)};g.ja=function(){return 1+K(this.D)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=-661542332^Ye(this)};
g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.element,b.element)&&D.j(this.D,b.D)};g.ya=function(a,b){return bg(new Pk(null,new q(null,1,[iz,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new TU(this.element,this.F,Ah(R.j(this.D,b)),null)};g.Ge=function(){return new W(null,1,5,Y,[this.element],null)};g.da=function(a,b,c){return r(S.j?S.j(iz,b):S.call(null,iz,b))?new TU(c,this.F,this.D,null):new TU(this.element,this.F,Q.C(this.D,b,c),null)};
g.ia=function(){return E(T.j(new W(null,1,5,Y,[new X(iz,this.element,null)],null),this.D))};g.ga=function(a,b){return new TU(this.element,b,this.D,this.I)};g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};g.Ra=l;g.Sa=function(a,b,c){return iU(b,this.element,c)};g.Ta=function(a,b){return oU.j?oU.j(b,this.element):oU.call(null,b,this.element)};function UU(a,b,c,d){this.elements=a;this.F=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=UU.prototype;
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "elements":return this.elements;default:return B.C(this.D,b,c)}};g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.parser.FindTuple{",", ","}",c,T.j(new W(null,1,5,Y,[new W(null,2,5,Y,[Et,this.elements],null)],null),this.D))};
g.pa=function(){return new uj(this,1,new W(null,1,5,Y,[Et],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};g.oa=function(){return new UU(this.elements,this.F,this.D,this.I)};g.ja=function(){return 1+K(this.D)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=681530371^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.elements,b.elements)&&D.j(this.D,b.D)};
g.ya=function(a,b){return bg(new Pk(null,new q(null,1,[Et,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new UU(this.elements,this.F,Ah(R.j(this.D,b)),null)};g.Ge=function(){return this.elements};g.da=function(a,b,c){return r(S.j?S.j(Et,b):S.call(null,Et,b))?new UU(c,this.F,this.D,null):new UU(this.elements,this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(new W(null,1,5,Y,[new X(Et,this.elements,null)],null),this.D))};g.ga=function(a,b){return new UU(this.elements,b,this.D,this.I)};
g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};g.Ra=l;g.Sa=function(a,b,c){return iU(b,this.elements,c)};g.Ta=function(a,b){return oU.j?oU.j(b,this.elements):oU.call(null,b,this.elements)};function VU(a){return a instanceof OU}function WU(a){return a instanceof PU}
function XU(a){var b=uU(a);if(r(b))return b;a:{if(Pf(a)&&D.j(H(a),jx)){if(3<=K(a)&&4>=K(a)){var c=(b=D.j(K(a),4))?of(a,1):mq;b=b?J(J(a)):J(a);var d=O(b,0,null);b=O(b,1,null);c=wU(c);d=uU(d);var e=uU(b);r(e)?b=e:(e=zU(b),b=r(e)?e:xU(b));if(r(r(c)?r(d)?b:d:c)){b=new PU(c,d,b,null,null,null);break a}}throw Fm("Cannot parse pull expression, expect ['pull' src-var? variable (constant | variable | plain-symbol)]",new q(null,2,[aq,oA,au,a],null));}b=null}if(r(b))return b;a:{if(Pf(a)&&D.j(H(a),mw)){if(3<=
K(a)&&(b=E(a),H(b),c=J(b),b=H(c),c=J(c),b=uU(b),c=gU(AU,c),r(r(b)?c:b))){b=new OU(b,c,null,null,null);break a}throw Fm("Cannot parse custom aggregate call, expect ['aggregate' variable fn-arg+]",new q(null,2,[aq,oA,au,a],null));}b=null}r(b)?a=b:Pf(a)&&2<=K(a)?(b=E(a),a=H(b),b=J(b),a=yU(a),b=gU(AU,b),a=r(r(a)?b:a)?new OU(a,b,null,null,null):null):a=null;return a}
function YU(a){var b=gU(XU,a);b=null==b?null:new RU(b,null,null,null);if(r(b))return b;a:{if(Pf(a)&&D.j(K(a),1)&&(b=H(a),Pf(b)&&D.j(K(b),2)&&D.j(yf(b),Cv))){b=XU(H(b));b=null==b?null:new SU(b,null,null,null);break a}b=null}if(r(b))return b;Pf(a)&&D.j(K(a),2)&&D.j(yf(a),Oz)?(b=XU(H(a)),b=null==b?null:new TU(b,null,null,null)):b=null;if(r(b))return b;Pf(a)&&D.j(K(a),1)?(b=H(a),b=gU(XU,b),b=null==b?null:new UU(b,null,null,null)):b=null;if(r(b))return b;throw Fm("Cannot parse :find, expected: (find-rel | find-coll | find-tuple | find-scalar)",
new q(null,2,[aq,oA,au,a],null));}function ZU(a,b,c,d,e){this.type=a;this.symbols=b;this.F=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=ZU.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "type":return this.type;case "symbols":return this.symbols;default:return B.C(this.D,b,c)}};g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.parser.ReturnMap{",", ","}",c,T.j(new W(null,2,5,Y,[new W(null,2,5,Y,[Jq,this.type],null),new W(null,2,5,Y,[Iy,this.symbols],null)],null),this.D))};g.pa=function(){return new uj(this,2,new W(null,2,5,Y,[Jq,Iy],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};g.oa=function(){return new ZU(this.type,this.symbols,this.F,this.D,this.I)};g.ja=function(){return 2+K(this.D)};
g.ha=function(){var a=this.I;return null!=a?a:this.I=a=-2025547471^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.type,b.type)&&D.j(this.symbols,b.symbols)&&D.j(this.D,b.D)};g.ya=function(a,b){return bg(new Pk(null,new q(null,2,[Jq,null,Iy,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new ZU(this.type,this.symbols,this.F,Ah(R.j(this.D,b)),null)};
g.da=function(a,b,c){return r(S.j?S.j(Jq,b):S.call(null,Jq,b))?new ZU(c,this.symbols,this.F,this.D,null):r(S.j?S.j(Iy,b):S.call(null,Iy,b))?new ZU(this.type,c,this.F,this.D,null):new ZU(this.type,this.symbols,this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(new W(null,2,5,Y,[new X(Jq,this.type,null),new X(Iy,this.symbols,null)],null),this.D))};g.ga=function(a,b){return new ZU(this.type,this.symbols,b,this.D,this.I)};
g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};g.Ra=l;g.Sa=function(a,b,c){return iU(b,this.symbols,iU(b,this.type,c))};g.Ta=function(a,b){a=oU.j?oU.j(b,this.type):oU.call(null,b,this.type);b=this.symbols;return oU.j?oU.j(a,b):oU.call(null,a,b)};
function $U(a,b){if(!Mf(b)&&Qh(He,b))switch(a instanceof C?a.na:null){case "keys":return new ZU(a,zi.j(Wg,b),null,null,null);case "syms":return new ZU(a,mg(b),null,null,null);case "strs":return new ZU(a,zi.j(t,b),null,null,null);default:return null}else return null}function aV(a){var b=wU(a);r(b)||(b=D.j(Lt,a)?new rU(null,null,null):null,b=r(b)?b:zU(a));return r(b)?kU(new GU(b,null,null,null),a):LU(a)}
function bV(a){var b=gU(aV,a);if(r(b))return b;throw Fm("Cannot parse :in clause, expected (src-var | % | plain-symbol | bind-scalar | bind-tuple | bind-coll | bind-rel)",new q(null,2,[aq,fB,Mt,a],null));}function cV(a,b,c,d,e){this.source=a;this.pattern=b;this.F=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=cV.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "source":return this.source;case "pattern":return this.pattern;default:return B.C(this.D,b,c)}};g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.parser.Pattern{",", ","}",c,T.j(new W(null,2,5,Y,[new W(null,2,5,Y,[Ln,this.source],null),new W(null,2,5,Y,[TA,this.pattern],null)],null),this.D))};g.pa=function(){return new uj(this,2,new W(null,2,5,Y,[Ln,TA],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};g.oa=function(){return new cV(this.source,this.pattern,this.F,this.D,this.I)};g.ja=function(){return 2+K(this.D)};
g.ha=function(){var a=this.I;return null!=a?a:this.I=a=575220587^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.source,b.source)&&D.j(this.pattern,b.pattern)&&D.j(this.D,b.D)};g.ya=function(a,b){return bg(new Pk(null,new q(null,2,[Ln,null,TA,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new cV(this.source,this.pattern,this.F,Ah(R.j(this.D,b)),null)};
g.da=function(a,b,c){return r(S.j?S.j(Ln,b):S.call(null,Ln,b))?new cV(c,this.pattern,this.F,this.D,null):r(S.j?S.j(TA,b):S.call(null,TA,b))?new cV(this.source,c,this.F,this.D,null):new cV(this.source,this.pattern,this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(new W(null,2,5,Y,[new X(Ln,this.source,null),new X(TA,this.pattern,null)],null),this.D))};g.ga=function(a,b){return new cV(this.source,this.pattern,b,this.D,this.I)};
g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};g.Ra=l;g.Sa=function(a,b,c){return iU(b,this.pattern,iU(b,this.source,c))};g.Ta=function(a,b){a=oU.j?oU.j(b,this.source):oU.call(null,b,this.source);b=this.pattern;return oU.j?oU.j(a,b):oU.call(null,a,b)};function dV(a,b,c,d,e){this.fn=a;this.args=b;this.F=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=dV.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "fn":return this.fn;case "args":return this.args;default:return B.C(this.D,b,c)}};g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.parser.Predicate{",", ","}",c,T.j(new W(null,2,5,Y,[new W(null,2,5,Y,[MA,this.fn],null),new W(null,2,5,Y,[NA,this.args],null)],null),this.D))};
g.pa=function(){return new uj(this,2,new W(null,2,5,Y,[MA,NA],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};g.oa=function(){return new dV(this.fn,this.args,this.F,this.D,this.I)};g.ja=function(){return 2+K(this.D)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=-1523376880^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.fn,b.fn)&&D.j(this.args,b.args)&&D.j(this.D,b.D)};
g.ya=function(a,b){return bg(new Pk(null,new q(null,2,[NA,null,MA,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new dV(this.fn,this.args,this.F,Ah(R.j(this.D,b)),null)};g.da=function(a,b,c){return r(S.j?S.j(MA,b):S.call(null,MA,b))?new dV(c,this.args,this.F,this.D,null):r(S.j?S.j(NA,b):S.call(null,NA,b))?new dV(this.fn,c,this.F,this.D,null):new dV(this.fn,this.args,this.F,Q.C(this.D,b,c),null)};
g.ia=function(){return E(T.j(new W(null,2,5,Y,[new X(MA,this.fn,null),new X(NA,this.args,null)],null),this.D))};g.ga=function(a,b){return new dV(this.fn,this.args,b,this.D,this.I)};g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};g.Ra=l;g.Sa=function(a,b,c){return iU(b,this.args,iU(b,this.fn,c))};g.Ta=function(a,b){a=oU.j?oU.j(b,this.fn):oU.call(null,b,this.fn);b=this.args;return oU.j?oU.j(a,b):oU.call(null,a,b)};
function eV(a,b,c,d,e,f){this.fn=a;this.args=b;this.binding=c;this.F=d;this.D=e;this.I=f;this.J=2230716170;this.T=139264}g=eV.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "fn":return this.fn;case "args":return this.args;case "binding":return this.binding;default:return B.C(this.D,b,c)}};g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.parser.Function{",", ","}",c,T.j(new W(null,3,5,Y,[new W(null,2,5,Y,[MA,this.fn],null),new W(null,2,5,Y,[NA,this.args],null),new W(null,2,5,Y,[Nw,this.binding],null)],null),this.D))};g.pa=function(){return new uj(this,3,new W(null,3,5,Y,[MA,NA,Nw],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};g.oa=function(){return new eV(this.fn,this.args,this.binding,this.F,this.D,this.I)};
g.ja=function(){return 3+K(this.D)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=589494199^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.fn,b.fn)&&D.j(this.args,b.args)&&D.j(this.binding,b.binding)&&D.j(this.D,b.D)};g.ya=function(a,b){return bg(new Pk(null,new q(null,3,[NA,null,MA,null,Nw,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new eV(this.fn,this.args,this.binding,this.F,Ah(R.j(this.D,b)),null)};
g.da=function(a,b,c){return r(S.j?S.j(MA,b):S.call(null,MA,b))?new eV(c,this.args,this.binding,this.F,this.D,null):r(S.j?S.j(NA,b):S.call(null,NA,b))?new eV(this.fn,c,this.binding,this.F,this.D,null):r(S.j?S.j(Nw,b):S.call(null,Nw,b))?new eV(this.fn,this.args,c,this.F,this.D,null):new eV(this.fn,this.args,this.binding,this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(new W(null,3,5,Y,[new X(MA,this.fn,null),new X(NA,this.args,null),new X(Nw,this.binding,null)],null),this.D))};
g.ga=function(a,b){return new eV(this.fn,this.args,this.binding,b,this.D,this.I)};g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};g.Ra=l;g.Sa=function(a,b,c){return iU(b,this.binding,iU(b,this.args,iU(b,this.fn,c)))};g.Ta=function(a,b){a=oU.j?oU.j(b,this.fn):oU.call(null,b,this.fn);b=this.args;a=oU.j?oU.j(a,b):oU.call(null,a,b);b=this.binding;return oU.j?oU.j(a,b):oU.call(null,a,b)};
function fV(a,b,c,d,e,f){this.source=a;this.name=b;this.args=c;this.F=d;this.D=e;this.I=f;this.J=2230716170;this.T=139264}g=fV.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "source":return this.source;case "name":return this.name;case "args":return this.args;default:return B.C(this.D,b,c)}};g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.parser.RuleExpr{",", ","}",c,T.j(new W(null,3,5,Y,[new W(null,2,5,Y,[Ln,this.source],null),new W(null,2,5,Y,[dA,this.name],null),new W(null,2,5,Y,[NA,this.args],null)],null),this.D))};g.pa=function(){return new uj(this,3,new W(null,3,5,Y,[Ln,dA,NA],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};g.oa=function(){return new fV(this.source,this.name,this.args,this.F,this.D,this.I)};
g.ja=function(){return 3+K(this.D)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=-444662011^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.source,b.source)&&D.j(this.name,b.name)&&D.j(this.args,b.args)&&D.j(this.D,b.D)};g.ya=function(a,b){return bg(new Pk(null,new q(null,3,[NA,null,dA,null,Ln,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new fV(this.source,this.name,this.args,this.F,Ah(R.j(this.D,b)),null)};
g.da=function(a,b,c){return r(S.j?S.j(Ln,b):S.call(null,Ln,b))?new fV(c,this.name,this.args,this.F,this.D,null):r(S.j?S.j(dA,b):S.call(null,dA,b))?new fV(this.source,c,this.args,this.F,this.D,null):r(S.j?S.j(NA,b):S.call(null,NA,b))?new fV(this.source,this.name,c,this.F,this.D,null):new fV(this.source,this.name,this.args,this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(new W(null,3,5,Y,[new X(Ln,this.source,null),new X(dA,this.name,null),new X(NA,this.args,null)],null),this.D))};
g.ga=function(a,b){return new fV(this.source,this.name,this.args,b,this.D,this.I)};g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};g.Ra=l;g.Sa=function(a,b,c){return iU(b,this.args,iU(b,this.name,iU(b,this.source,c)))};g.Ta=function(a,b){a=oU.j?oU.j(b,this.source):oU.call(null,b,this.source);b=this.name;a=oU.j?oU.j(a,b):oU.call(null,a,b);b=this.args;return oU.j?oU.j(a,b):oU.call(null,a,b)};
function gV(a,b,c,d,e,f){this.source=a;this.gb=b;this.Aa=c;this.F=d;this.D=e;this.I=f;this.J=2230716170;this.T=139264}g=gV.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "source":return this.source;case "vars":return this.gb;case "clauses":return this.Aa;default:return B.C(this.D,b,c)}};g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.parser.Not{",", ","}",c,T.j(new W(null,3,5,Y,[new W(null,2,5,Y,[Ln,this.source],null),new W(null,2,5,Y,[Ks,this.gb],null),new W(null,2,5,Y,[yz,this.Aa],null)],null),this.D))};g.pa=function(){return new uj(this,3,new W(null,3,5,Y,[Ln,Ks,yz],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};g.oa=function(){return new gV(this.source,this.gb,this.Aa,this.F,this.D,this.I)};g.ja=function(){return 3+K(this.D)};
g.ha=function(){var a=this.I;return null!=a?a:this.I=a=1394671061^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.source,b.source)&&D.j(this.gb,b.gb)&&D.j(this.Aa,b.Aa)&&D.j(this.D,b.D)};g.ya=function(a,b){return bg(new Pk(null,new q(null,3,[Ln,null,yz,null,Ks,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new gV(this.source,this.gb,this.Aa,this.F,Ah(R.j(this.D,b)),null)};
g.da=function(a,b,c){return r(S.j?S.j(Ln,b):S.call(null,Ln,b))?new gV(c,this.gb,this.Aa,this.F,this.D,null):r(S.j?S.j(Ks,b):S.call(null,Ks,b))?new gV(this.source,c,this.Aa,this.F,this.D,null):r(S.j?S.j(yz,b):S.call(null,yz,b))?new gV(this.source,this.gb,c,this.F,this.D,null):new gV(this.source,this.gb,this.Aa,this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(new W(null,3,5,Y,[new X(Ln,this.source,null),new X(Ks,this.gb,null),new X(yz,this.Aa,null)],null),this.D))};
g.ga=function(a,b){return new gV(this.source,this.gb,this.Aa,b,this.D,this.I)};g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};g.Ra=l;g.Sa=function(a,b,c){return iU(b,this.Aa,iU(b,this.gb,iU(b,this.source,c)))};g.Ta=function(a,b){a=oU.j?oU.j(b,this.source):oU.call(null,b,this.source);b=this.gb;a=oU.j?oU.j(a,b):oU.call(null,a,b);b=this.Aa;return oU.j?oU.j(a,b):oU.call(null,a,b)};
function hV(a,b,c,d,e,f){this.source=a;this.sc=b;this.Aa=c;this.F=d;this.D=e;this.I=f;this.J=2230716170;this.T=139264}g=hV.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "source":return this.source;case "rule-vars":return this.sc;case "clauses":return this.Aa;default:return B.C(this.D,b,c)}};g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.parser.Or{",", ","}",c,T.j(new W(null,3,5,Y,[new W(null,2,5,Y,[Ln,this.source],null),new W(null,2,5,Y,[vA,this.sc],null),new W(null,2,5,Y,[yz,this.Aa],null)],null),this.D))};g.pa=function(){return new uj(this,3,new W(null,3,5,Y,[Ln,vA,yz],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};g.oa=function(){return new hV(this.source,this.sc,this.Aa,this.F,this.D,this.I)};g.ja=function(){return 3+K(this.D)};
g.ha=function(){var a=this.I;return null!=a?a:this.I=a=1461934571^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.source,b.source)&&D.j(this.sc,b.sc)&&D.j(this.Aa,b.Aa)&&D.j(this.D,b.D)};g.ya=function(a,b){return bg(new Pk(null,new q(null,3,[vA,null,Ln,null,yz,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new hV(this.source,this.sc,this.Aa,this.F,Ah(R.j(this.D,b)),null)};
g.da=function(a,b,c){return r(S.j?S.j(Ln,b):S.call(null,Ln,b))?new hV(c,this.sc,this.Aa,this.F,this.D,null):r(S.j?S.j(vA,b):S.call(null,vA,b))?new hV(this.source,c,this.Aa,this.F,this.D,null):r(S.j?S.j(yz,b):S.call(null,yz,b))?new hV(this.source,this.sc,c,this.F,this.D,null):new hV(this.source,this.sc,this.Aa,this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(new W(null,3,5,Y,[new X(Ln,this.source,null),new X(vA,this.sc,null),new X(yz,this.Aa,null)],null),this.D))};
g.ga=function(a,b){return new hV(this.source,this.sc,this.Aa,b,this.D,this.I)};g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};g.Ra=l;g.Sa=function(a,b,c){return iU(b,this.Aa,iU(b,this.sc,iU(b,this.source,c)))};g.Ta=function(a,b){a=oU.j?oU.j(b,this.source):oU.call(null,b,this.source);b=this.sc;a=oU.j?oU.j(a,b):oU.call(null,a,b);b=this.Aa;return oU.j?oU.j(a,b):oU.call(null,a,b)};function iV(a,b,c,d){this.Aa=a;this.F=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}
g=iV.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "clauses":return this.Aa;default:return B.C(this.D,b,c)}};g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.parser.And{",", ","}",c,T.j(new W(null,1,5,Y,[new W(null,2,5,Y,[yz,this.Aa],null)],null),this.D))};
g.pa=function(){return new uj(this,1,new W(null,1,5,Y,[yz],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};g.oa=function(){return new iV(this.Aa,this.F,this.D,this.I)};g.ja=function(){return 1+K(this.D)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=-131856804^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Aa,b.Aa)&&D.j(this.D,b.D)};
g.ya=function(a,b){return bg(new Pk(null,new q(null,1,[yz,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new iV(this.Aa,this.F,Ah(R.j(this.D,b)),null)};g.da=function(a,b,c){return r(S.j?S.j(yz,b):S.call(null,yz,b))?new iV(c,this.F,this.D,null):new iV(this.Aa,this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(new W(null,1,5,Y,[new X(yz,this.Aa,null)],null),this.D))};g.ga=function(a,b){return new iV(this.Aa,b,this.D,this.I)};
g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};g.Ra=l;g.Sa=function(a,b,c){return iU(b,this.Aa,c)};g.Ta=function(a,b){return oU.j?oU.j(b,this.Aa):oU.call(null,b,this.Aa)};function jV(a){var b=D.j(Lq,a)?new mU(null,null,null):null;if(r(b))return b;b=uU(a);return r(b)?b:xU(a)}function kV(a){if(Pf(a)){var b=wU(H(a));return r(b)?new W(null,2,5,Y,[b,J(a)],null):new W(null,2,5,Y,[new qU(null,null,null),a],null)}return null}
function lV(a){if(Pf(a)){var b=E(a);a=H(b);b=J(b);b=null==b?Cf:b;var c=yU(a);a=r(c)?c:uU(a);b=gU(AU,b);return r(r(a)?b:a)?new W(null,2,5,Y,[a,b],null):null}return null}var oU=function oU(a,b){return b instanceof nU?Bf.j(a,b):b instanceof gV?yi.j(a,b.gb):b instanceof hV?(b=b.sc,oU.j?oU.j(a,b):oU.call(null,a,b)):(null!=b?l===b.Ra||(b.Hd?0:Mc(cU,b)):Mc(cU,b))?eU(b,a):Pf(b)?w.C(oU,a,b):a};
function mV(a,b,c){if(Mf(a)&&Mf(b))throw Fm("Join variables should not be empty",new q(null,2,[aq,Ey,Mt,c],null));}function nV(a,b){mV(null,Ks.B(a),b);return a}function oV(a,b){var c=null!=a&&(a.J&64||l===a.ua)?uh(Gk,a):a;c=B.j(c,vA);var d=null!=c&&(c.J&64||l===c.ua)?uh(Gk,c):c;c=B.j(d,VA);d=B.j(d,ls);mV(c,d,b);return a}
function fi(a){if(Pf(a)&&D.j(rw,H(a))){var b=J(a);b=pV.B?pV.B(b):pV.call(null,b);if(r(Ah(b)))return new iV(b,null,null,null);throw Fm("Cannot parse 'and' clause, expected [ 'and' clause+ ]",new q(null,2,[aq,Ey,Mt,a],null));}return null}
function gi(a){a:{var b=kV(a);if(r(b)){var c=O(b,0,null);b=O(b,1,null);var d=E(b);b=H(d);d=J(d);if(D.j(vy,b)){b=pV.B?pV.B(d):pV.call(null,d);if(r(b)){c=nV(kU(new gV(c,mg(Uk(oU(Cf,b))),b,null,null,null),a),a);break a}throw Fm("Cannot parse 'not' clause, expected [ src-var? 'not' clause+ ]",new q(null,2,[aq,Ey,Mt,a],null));}}c=null}if(r(c))return c;a:{b=kV(a);if(r(b)){c=O(b,0,null);b=O(b,1,null);d=E(b);b=H(d);var e=J(d);d=H(e);e=J(e);if(D.j(ir,b)){b=gU(uU,d);d=pV.B?pV.B(e):pV.call(null,e);if(r(r(b)?
d:b)){c=nV(kU(new gV(c,b,d,null,null,null),a),a);break a}throw Fm("Cannot parse 'not-join' clause, expected [ src-var? 'not-join' [variable+] clause+ ]",new q(null,2,[aq,Ey,Mt,a],null));}}c=null}if(r(c))return c;a:{b=kV(a);if(r(b)&&(c=O(b,0,null),b=O(b,1,null),d=E(b),b=H(d),d=J(d),D.j(Kr,b))){b=gU(ei(),d);if(r(b)){c=oV(kU(new hV(c,new BU(null,mg(Uk(oU(Cf,b))),null,null,null),b,null,null,null),a),a);break a}throw Fm("Cannot parse 'or' clause, expected [ src-var? 'or' clause+ ]",new q(null,2,[aq,Ey,
Mt,a],null));}c=null}if(r(c))return c;a:{b=kV(a);if(r(b)&&(c=O(b,0,null),b=O(b,1,null),d=E(b),b=H(d),e=J(d),d=H(e),e=J(e),D.j(Tp,b))){b=CU(d);d=gU(ei(),e);if(r(r(b)?d:b)){c=oV(kU(new hV(c,b,d,null,null,null),a),a);break a}throw Fm("Cannot parse 'or-join' clause, expected [ src-var? 'or-join' [variable+] clause+ ]",new q(null,2,[aq,Ey,Mt,a],null));}c=null}if(r(c))return c;a:{if(fU(a,1)&&(b=lV(H(a)),r(b))){c=O(b,0,null);b=O(b,1,null);c=kU(new dV(c,b,null,null,null),a);break a}c=null}if(r(c))return c;
a:{if(fU(a,2)&&(b=O(a,0,null),c=O(a,1,null),d=lV(b),r(d))){b=O(d,0,null);d=O(d,1,null);c=LU(c);c=r(c)?kU(new eV(b,d,c,null,null,null),a):null;break a}c=null}if(r(c))return c;a:{b=kV(a);if(r(b)&&(c=O(b,0,null),b=O(b,1,null),b=E(b),d=H(b),b=J(b),d=yU(d),e=gU(jV,b),r(d))){if(Mf(b))throw Fm("rule-expr requires at least one argument",new q(null,2,[aq,Ey,Mt,a],null));if(null==e)throw Fm("Cannot parse rule-expr arguments, expected [ (variable | constant | '_')+ ]",new q(null,2,[aq,Ey,Mt,a],null));c=new fV(c,
d,e,null,null,null);break a}c=null}if(r(c))return c;a:{b=kV(a);if(r(b)&&(c=O(b,0,null),b=O(b,1,null),b=gU(jV,b),r(b))){if(Mf(b))throw Fm("Pattern could not be empty",new q(null,2,[aq,Ey,Mt,a],null));c=kU(new cV(c,b,null,null,null),a);break a}c=null}if(r(c))return c;throw Fm("Cannot parse clause, expected (data-pattern | pred-expr | fn-expr | rule-expr | not-clause | not-join-clause | or-clause | or-join-clause)",new q(null,2,[aq,Ey,Mt,a],null));}function pV(a){return gU(gi,a)}
function qV(a){var b=pV(a);if(r(b))return b;throw Fm("Cannot parse :where clause, expected [clause+]",new q(null,2,[aq,Ey,Mt,a],null));}function rV(a,b,c,d,e){this.gb=a;this.Aa=b;this.F=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=rV.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "vars":return this.gb;case "clauses":return this.Aa;default:return B.C(this.D,b,c)}};
g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.parser.RuleBranch{",", ","}",c,T.j(new W(null,2,5,Y,[new W(null,2,5,Y,[Ks,this.gb],null),new W(null,2,5,Y,[yz,this.Aa],null)],null),this.D))};g.pa=function(){return new uj(this,2,new W(null,2,5,Y,[Ks,yz],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};
g.oa=function(){return new rV(this.gb,this.Aa,this.F,this.D,this.I)};g.ja=function(){return 2+K(this.D)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=1024755006^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.gb,b.gb)&&D.j(this.Aa,b.Aa)&&D.j(this.D,b.D)};g.ya=function(a,b){return bg(new Pk(null,new q(null,2,[yz,null,Ks,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new rV(this.gb,this.Aa,this.F,Ah(R.j(this.D,b)),null)};
g.da=function(a,b,c){return r(S.j?S.j(Ks,b):S.call(null,Ks,b))?new rV(c,this.Aa,this.F,this.D,null):r(S.j?S.j(yz,b):S.call(null,yz,b))?new rV(this.gb,c,this.F,this.D,null):new rV(this.gb,this.Aa,this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(new W(null,2,5,Y,[new X(Ks,this.gb,null),new X(yz,this.Aa,null)],null),this.D))};g.ga=function(a,b){return new rV(this.gb,this.Aa,b,this.D,this.I)};g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};g.Ra=l;
g.Sa=function(a,b,c){return iU(b,this.Aa,iU(b,this.gb,c))};g.Ta=function(a,b){return oU(oU(b,this.gb),this.Aa)};function sV(a,b,c,d,e){this.name=a;this.branches=b;this.F=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=sV.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "name":return this.name;case "branches":return this.branches;default:return B.C(this.D,b,c)}};
g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.parser.Rule{",", ","}",c,T.j(new W(null,2,5,Y,[new W(null,2,5,Y,[dA,this.name],null),new W(null,2,5,Y,[mt,this.branches],null)],null),this.D))};g.pa=function(){return new uj(this,2,new W(null,2,5,Y,[dA,mt],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};
g.oa=function(){return new sV(this.name,this.branches,this.F,this.D,this.I)};g.ja=function(){return 2+K(this.D)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=-900273052^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.name,b.name)&&D.j(this.branches,b.branches)&&D.j(this.D,b.D)};
g.ya=function(a,b){return bg(new Pk(null,new q(null,2,[dA,null,mt,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new sV(this.name,this.branches,this.F,Ah(R.j(this.D,b)),null)};g.da=function(a,b,c){return r(S.j?S.j(dA,b):S.call(null,dA,b))?new sV(c,this.branches,this.F,this.D,null):r(S.j?S.j(mt,b):S.call(null,mt,b))?new sV(this.name,c,this.F,this.D,null):new sV(this.name,this.branches,this.F,Q.C(this.D,b,c),null)};
g.ia=function(){return E(T.j(new W(null,2,5,Y,[new X(dA,this.name,null),new X(mt,this.branches,null)],null),this.D))};g.ga=function(a,b){return new sV(this.name,this.branches,b,this.D,this.I)};g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};g.Ra=l;g.Sa=function(a,b,c){return iU(b,this.branches,iU(b,this.name,c))};g.Ta=function(a,b){return oU(oU(b,this.name),this.branches)};
function tV(a){if(Pf(a)){var b=E(a),c=H(b),d=J(b);if(Pf(c)){b=E(c);var e=H(b);c=J(b);b=function(){var h=yU(e);if(r(h))return h;throw Fm("Cannot parse rule name, expected plain-symbol",new q(null,2,[aq,Px,Mt,a],null));}();c=CU(c);var f=function(){var h=Ah(pV(d));if(r(h))return h;throw Fm("Rule branch should have clauses",new q(null,2,[aq,Px,Mt,a],null));}();return new q(null,3,[dA,b,Ks,c,yz,f],null)}throw Fm(["Cannot parse rule head, expected [rule-name rule-vars], got: ",Gl.G(M([c]))].join(""),new q(null,
2,[aq,Px,Mt,a],null));}throw Fm("Cannot parse rule, expected [rule-head clause+]",new q(null,2,[aq,Px,Mt,a],null));}
function uV(a,b){var c=Ks.B(H(b)),d=EU(c);b=E(J(b));for(var e=null,f=0,h=0;;)if(h<f){var k=e.wa(null,h);k=Ks.B(k);if(zh.j(d,EU(k)))throw Fm(["Arity mismatch for rule '",Gl.G(M([xx.B(a)])),"': ",Gl.G(M([DU(c)]))," vs. ",Gl.G(M([DU(k)]))].join(""),new q(null,2,[aq,Px,qp,a],null));h+=1}else if(b=E(b)){if(Uf(b))f=me(b),b=ne(b),e=f,f=K(f);else{k=H(b);e=Ks.B(k);if(zh.j(d,EU(e)))throw Fm(["Arity mismatch for rule '",Gl.G(M([xx.B(a)])),"': ",Gl.G(M([DU(c)]))," vs. ",Gl.G(M([DU(e)]))].join(""),new q(null,
2,[aq,Px,qp,a],null));b=J(b);e=null;f=0}h=0}else break}
function vV(a){mg(function(){return function d(c){return new Yg(null,function(){for(;;){var e=E(c);if(e){var f=e;if(Uf(f)){var h=me(f),k=K(h),m=bh(k);return function(){for(var v=0;;)if(v<k){var y=x(h,v),F=O(y,0,null),G=O(y,1,null);y=zi.j(function(){return function(I){return new rV(Ks.B(I),yz.B(I),null,null,null)}}(v,y,F,G,h,k,m,f,e),G);G=m;uV(F,y);G.add(new sV(F,y,null,null,null));v+=1}else return!0}()?dh(fh(m),d(ne(f))):dh(fh(m),null)}var n=H(f),p=O(n,0,null),u=O(n,1,null);n=zi.j(function(){return function(v){return new rV(Ks.B(v),
yz.B(v),null,null,null)}}(n,p,u,f,e),u);uV(p,n);return uf(new sV(p,n,null,null,null),d(Re(f)))}return null}},null,null)}(lm(dA,gU(tV,a)))}())}function wV(a,b,c,d,e,f,h,k){this.ic=a;this.mc=b;this.kc=c;this.jc=d;this.lc=e;this.F=f;this.D=h;this.I=k;this.J=2230716170;this.T=139264}g=wV.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "qfind":return this.ic;case "qwith":return this.mc;case "qreturn-map":return this.kc;case "qin":return this.jc;case "qwhere":return this.lc;default:return B.C(this.D,b,c)}};g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.parser.Query{",", ","}",c,T.j(new W(null,5,5,Y,[new W(null,2,5,Y,[dr,this.ic],null),new W(null,2,5,Y,[RA,this.mc],null),new W(null,2,5,Y,[cx,this.kc],null),new W(null,2,5,Y,[dz,this.jc],null),new W(null,2,5,Y,[wz,this.lc],null)],null),this.D))};g.pa=function(){return new uj(this,5,new W(null,5,5,Y,[dr,RA,cx,dz,wz],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};
g.oa=function(){return new wV(this.ic,this.mc,this.kc,this.jc,this.lc,this.F,this.D,this.I)};g.ja=function(){return 5+K(this.D)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=181307977^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.ic,b.ic)&&D.j(this.mc,b.mc)&&D.j(this.kc,b.kc)&&D.j(this.jc,b.jc)&&D.j(this.lc,b.lc)&&D.j(this.D,b.D)};
g.ya=function(a,b){return bg(new Pk(null,new q(null,5,[dr,null,wz,null,dz,null,RA,null,cx,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new wV(this.ic,this.mc,this.kc,this.jc,this.lc,this.F,Ah(R.j(this.D,b)),null)};
g.da=function(a,b,c){return r(S.j?S.j(dr,b):S.call(null,dr,b))?new wV(c,this.mc,this.kc,this.jc,this.lc,this.F,this.D,null):r(S.j?S.j(RA,b):S.call(null,RA,b))?new wV(this.ic,c,this.kc,this.jc,this.lc,this.F,this.D,null):r(S.j?S.j(cx,b):S.call(null,cx,b))?new wV(this.ic,this.mc,c,this.jc,this.lc,this.F,this.D,null):r(S.j?S.j(dz,b):S.call(null,dz,b))?new wV(this.ic,this.mc,this.kc,c,this.lc,this.F,this.D,null):r(S.j?S.j(wz,b):S.call(null,wz,b))?new wV(this.ic,this.mc,this.kc,this.jc,c,this.F,this.D,
null):new wV(this.ic,this.mc,this.kc,this.jc,this.lc,this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(new W(null,5,5,Y,[new X(dr,this.ic,null),new X(RA,this.mc,null),new X(cx,this.kc,null),new X(dz,this.jc,null),new X(wz,this.lc,null)],null),this.D))};g.ga=function(a,b){return new wV(this.ic,this.mc,this.kc,this.jc,this.lc,b,this.D,this.I)};g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};g.Ra=l;
g.Sa=function(a,b,c){return iU(b,this.lc,iU(b,this.jc,iU(b,this.kc,iU(b,this.mc,iU(b,this.ic,c)))))};g.Ta=function(a,b){return oU(oU(oU(oU(oU(b,this.ic),this.mc),this.kc),this.jc),this.lc)};function xV(a){var b=R.G(a,dr,M([RA,cx,dz,wz]));b=Rf(a)?yi.j(V,b):b;return new wV(dr.B(a),RA.B(a),cx.B(a),dz.B(a),wz.B(a),null,Ah(b),null)}function yV(a){for(var b=V,c=null;;){var d=H(a);if(r(d))d instanceof C?(c=d,a=J(a)):(b=Fi.P(b,new W(null,1,5,Y,[c],null),Xh(Bf,Cf),d),a=J(a));else return b}}
function zV(a){var b=Ln.B(a);return a instanceof cV?b:null!=b?b instanceof qU?null:b:null}
function AV(a,b,c){var d=Tk(oU(Cf,dr.B(a))),e=Tk(RA.B(a)),f=Tk(oU(Cf,dz.B(a))),h=Tk(oU(Cf,wz.B(a)));f=yK.j(wK(d,e),wK(h,f));d=xK.j(d,e);if(!Mf(f))throw Fm(["Query for unknown vars: ",Gl.G(M([zi.j(xx,f)]))].join(""),new q(null,3,[aq,Wy,Ks,f,Mt,b],null));if(!Mf(d))throw Fm([":find and :with should not use same variables: ",Gl.G(M([zi.j(xx,d)]))].join(""),new q(null,3,[aq,Wy,Ks,d,Mt,b],null));d=cx.B(a);if(null!=d){if(dr.B(a)instanceof TU)throw Fm([Gl.G(M([Jq.B(d)]))," does not work with single-scalar :find"].join(""),
new q(null,2,[aq,Wy,Mt,b],null));if(dr.B(a)instanceof SU)throw Fm([Gl.G(M([Jq.B(d)]))," does not work with collection :find"].join(""),new q(null,2,[aq,Wy,Mt,b],null));}d=Iy.B(cx.B(a));if(null!=d&&(e=QU(dr.B(a)),!D.j(K(d),K(e))))throw Fm(["Count of ",Gl.G(M([Jq.B(cx.B(a))]))," must match count of :find"].join(""),new q(null,4,[aq,Wy,Oo,uf(Jq.B(cx.B(a)),d),Cr,e,Mt,b],null));if(1<K(vi(Lc,new W(null,3,5,Y,[cr.B(c),eA.B(c),Xn.B(c)],null))))throw Fm("Only one of :keys/:syms/:strs must be present",new q(null,
2,[aq,Wy,Mt,b],null));var k=oU(Cf,dz.B(a)),m=hU(function(p){return p instanceof pU},dz.B(a)),n=hU(function(p){return p instanceof rU},dz.B(a));if(!r(function(){var p=jU(k);return r(p)?(p=jU(m),r(p)?jU(n):p):p}()))throw Fm("Vars used in :in should be distinct",new q(null,2,[aq,Wy,Mt,b],null));c=oU(Cf,RA.B(a));if(!r(jU(c)))throw Fm("Vars used in :with should be distinct",new q(null,2,[aq,Wy,Mt,b],null));c=iU(function(p){return p instanceof pU},dz.B(a),Rk);d=iU(function(p){return p instanceof pU},wz.B(a),
Rk);c=yK.j(d,c);if(!Mf(c))throw Fm(["Where uses unknown source vars: ",Gl.G(M([zi.j(xx,c)]))].join(""),new q(null,3,[aq,Wy,Ks,c,Mt,b],null));c=hU(function(p){return p instanceof fV},wz.B(a));a=hU(function(p){return p instanceof rU},dz.B(a));if(!Mf(c)&&Mf(a))throw Fm("Missing rules var '%' in :in",new q(null,2,[aq,Wy,Mt,b],null));}
function BV(a){if(Qf(a))var b=a;else if(Pf(a))b=yV(a);else throw Fm("Query should be a vector or a map",new q(null,2,[aq,Wy,Mt,a],null));var c=b,d=qV(Op.j(c,Cf));b=xV(new q(null,5,[dr,YU(Cr.B(c)),RA,function(){var e=RB.B(c);if(r(e)){var f=gU(uU,e);if(r(f))e=f;else throw Fm("Cannot parse :with clause, expected [ variable+ ]",new q(null,2,[aq,su,Mt,e],null));}else e=null;return e}(),cx,function(){var e=$U(cr,cr.B(c));if(r(e))return e;e=$U(eA,eA.B(c));return r(e)?e:$U(Xn,Xn.B(c))}(),dz,bV(function(){var e=
iC.B(c);return r(e)?e:Mf(hU(zV,d))?Cf:new W(null,1,5,Y,[mq],null)}()),wz,d],null));AV(b,a,c);return b};function CV(a,b,c,d,e,f){this.Zc=a;this.sources=b;this.rules=c;this.F=d;this.D=e;this.I=f;this.J=2230716170;this.T=139264}g=CV.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "rels":return this.Zc;case "sources":return this.sources;case "rules":return this.rules;default:return B.C(this.D,b,c)}};g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.query.Context{",", ","}",c,T.j(new W(null,3,5,Y,[new W(null,2,5,Y,[Iw,this.Zc],null),new W(null,2,5,Y,[Ix,this.sources],null),new W(null,2,5,Y,[Hw,this.rules],null)],null),this.D))};g.pa=function(){return new uj(this,3,new W(null,3,5,Y,[Iw,Ix,Hw],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};g.oa=function(){return new CV(this.Zc,this.sources,this.rules,this.F,this.D,this.I)};
g.ja=function(){return 3+K(this.D)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=1014232958^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Zc,b.Zc)&&D.j(this.sources,b.sources)&&D.j(this.rules,b.rules)&&D.j(this.D,b.D)};g.ya=function(a,b){return bg(new Pk(null,new q(null,3,[Ix,null,Hw,null,Iw,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new CV(this.Zc,this.sources,this.rules,this.F,Ah(R.j(this.D,b)),null)};
g.da=function(a,b,c){return r(S.j?S.j(Iw,b):S.call(null,Iw,b))?new CV(c,this.sources,this.rules,this.F,this.D,null):r(S.j?S.j(Ix,b):S.call(null,Ix,b))?new CV(this.Zc,c,this.rules,this.F,this.D,null):r(S.j?S.j(Hw,b):S.call(null,Hw,b))?new CV(this.Zc,this.sources,c,this.F,this.D,null):new CV(this.Zc,this.sources,this.rules,this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(new W(null,3,5,Y,[new X(Iw,this.Zc,null),new X(Ix,this.sources,null),new X(Hw,this.rules,null)],null),this.D))};
g.ga=function(a,b){return new CV(this.Zc,this.sources,this.rules,b,this.D,this.I)};g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};function DV(a,b,c,d,e){this.rb=a;this.md=b;this.F=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=DV.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "attrs":return this.rb;case "tuples":return this.md;default:return B.C(this.D,b,c)}};
g.xa=function(a,b,c){return w.C(function(d,e){var f=O(e,0,null);e=O(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,xl,""," ","",c,d)},"#datascript.query.Relation{",", ","}",c,T.j(new W(null,2,5,Y,[new W(null,2,5,Y,[nu,this.rb],null),new W(null,2,5,Y,[Hu,this.md],null)],null),this.D))};g.pa=function(){return new uj(this,2,new W(null,2,5,Y,[nu,Hu],null),r(this.D)?ve(this.D):Bh())};g.fa=function(){return this.F};
g.oa=function(){return new DV(this.rb,this.md,this.F,this.D,this.I)};g.ja=function(){return 2+K(this.D)};g.ha=function(){var a=this.I;return null!=a?a:this.I=a=1107093117^Ye(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.rb,b.rb)&&D.j(this.md,b.md)&&D.j(this.D,b.D)};g.ya=function(a,b){return bg(new Pk(null,new q(null,2,[Hu,null,nu,null],null),null),b)?R.j(Ed(yi.j(V,this),this.F),b):new DV(this.rb,this.md,this.F,Ah(R.j(this.D,b)),null)};
g.da=function(a,b,c){return r(S.j?S.j(nu,b):S.call(null,nu,b))?new DV(c,this.md,this.F,this.D,null):r(S.j?S.j(Hu,b):S.call(null,Hu,b))?new DV(this.rb,c,this.F,this.D,null):new DV(this.rb,this.md,this.F,Q.C(this.D,b,c),null)};g.ia=function(){return E(T.j(new W(null,2,5,Y,[new X(nu,this.rb,null),new X(Hu,this.md,null)],null),this.D))};g.ga=function(a,b){return new DV(this.rb,this.md,b,this.D,this.I)};g.ka=function(a,b){return Tf(b)?this.da(null,x(b,0),x(b,1)):w.C(dd,this,b)};
function EV(a,b){return xK.j(Tk(Aj(a)),Tk(Aj(b)))}function FV(a,b){return D.j(K(a),K(b))&&Qh(function(c){return bg(b,c)},Aj(a))&&Qh(function(c){return bg(b,c)},Aj(a))}
var GV=function GV(a,b){return D.j(Lq,a)?!0:D.j(new W(null,1,5,Y,[jy],null),a)?Pf(b):a instanceof A?D.j(b,a):Pf(a)?D.j(Af(a),jy)?Pf(b)&&Qh(function(d){var e=O(d,0,null);d=O(d,1,null);return GV.j?GV.j(e,d):GV.call(null,e,d)},hi.C(ej,Vk(a),b)):Pf(b)&&D.j(K(b),K(a))&&Qh(function(d){var e=O(d,0,null);d=O(d,1,null);return GV.j?GV.j(e,d):GV.call(null,e,d)},hi.C(ej,a,b)):a.B?a.B(b):a.call(null,b)};function HV(a){return a instanceof A&&D.j("$",H(Xg(a)))}
function IV(a){return a instanceof A&&D.j("?",H(Xg(a)))}function JV(a){return a instanceof C||"string"===typeof a}function KV(a){return GV(new W(null,2,5,Y,[JV,Lq],null),a)}function LV(a,b,c,d){for(var e=b.length,f=d.length,h=Array(e+f),k=0;;)if(k<e)h[k]=a[b[k]],k+=1;else break;for(a=0;;)if(a<f)h[e+a]=c[d[a]],a+=1;else break;return h}
var MV=function MV(a,b){var d=null!=a&&(a.J&64||l===a.ua)?uh(Gk,a):a,e=B.j(d,nu);d=B.j(d,Hu);var f=null!=b&&(b.J&64||l===b.ua)?uh(Gk,b):b,h=B.j(f,nu);f=B.j(f,Hu);if(D.j(e,h))return new DV(e,yi.j(mg(d),f),null,null,null);if(FV(e,h)){if(Qh(Jc,Bj(e))){var k=mg(function(){return function v(u){return new Yg(null,function(){for(;;){var y=E(u);if(y){if(Uf(y)){var F=me(y),G=K(F),I=bh(G);a:for(var N=0;;)if(N<G){var P=x(F,N),U=O(P,0,null);P=O(P,1,null);U=new W(null,2,5,Y,[P,e.B?e.B(U):e.call(null,U)],null);
I.add(U);N+=1}else{F=!0;break a}return F?dh(fh(I),v(ne(y))):dh(fh(I),null)}F=H(y);I=O(F,0,null);F=O(F,1,null);return uf(new W(null,2,5,Y,[F,e.B?e.B(I):e.call(null,I)],null),v(Re(y)))}return null}},null,null)}(h)}()),m=w.j(Dg,Bj(e))+1;b=ge(w.C(function(p,u){for(var v=Array(m),y=E(k),F=null,G=0,I=0;;)if(I<G){var N=F.wa(null,I),P=O(N,0,null);N=O(N,1,null);v[N]=u[P];I+=1}else if(y=E(y))Uf(y)?(G=me(y),y=ne(y),F=G,G=K(G)):(G=H(y),F=O(G,0,null),G=O(G,1,null),v[G]=u[F],y=J(y),F=null,G=0),I=0;else break;return lh.j(p,
v)},ce(mg(d)),f));return new DV(e,b,null,null,null)}var n=Wk(Aj(Kk.G(M([e,h]))),el.O());d=function(){var p=new DV(n,Cf,null,null,null);return MV.j?MV.j(p,a):MV.call(null,p,a)}();return MV.j?MV.j(d,b):MV.call(null,d,b)}throw Fm(["Cant sum relations with different attrs: ",Gl.G(M([e]))," and ",Gl.G(M([h]))].join(""),new q(null,1,[aq,bs],null));},NV=function NV(a){switch(arguments.length){case 0:return NV.O();case 2:return NV.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));
}};NV.O=function(){return new DV(V,new W(null,1,5,Y,[[]],null),null,null,null)};NV.j=function(a,b){var c=Aj(nu.B(a)),d=Aj(nu.B(b)),e=ig(hi.j(nu.B(a),c)),f=ig(hi.j(nu.B(b),d));return new DV(Wk(T.j(c,d),el.O()),ge(w.C(function(h,k){return w.C(function(m,n){return lh.j(m,LV(k,e,n,f))},h,Hu.B(b))},ce(Cf),Hu.B(a))),null,null,null)};NV.aa=2;var OV=function OV(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Pe(c.slice(0),0,null):null;return OV.G(c)};
OV.G=function(a){var b=K(a);return zh.j(ii.j(b/2,a),ji(b/2,a))};OV.aa=0;OV.ca=function(a){return this.G(E(a))};var PV=function PV(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new Pe(c.slice(2),0,null):null;return PV.G(arguments[0],arguments[1],c)};PV.G=function(a,b,c){return w.C(function(d,e){d=H(MR(a,new W(null,2,5,Y,[b,e],null)));return null==d?null:bf(new W(null,2,5,Y,[hx.B(d),ox.B(d)],null))},null,c)};PV.aa=2;
PV.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.G(b,a,c)};var QV=function QV(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Pe(c.slice(0),0,null):null;return QV.G(c)};QV.G=function(a){return w.C(function(b,c){return r(c)?c:bf(c)},!0,a)};QV.aa=0;QV.ca=function(a){return this.G(E(a))};
var RV=function RV(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Pe(c.slice(0),0,null):null;return RV.G(c)};RV.G=function(a){return w.C(function(b,c){return r(c)?bf(c):c},null,a)};RV.aa=0;RV.ca=function(a){return this.G(E(a))};
var SV=nk([GB,rw,Vs,by,Dr,Cw,Qv,$q,Mw,Hr,Vy,uA,cp,zr,wC,vy,Cn,oy,mv,xq,rs,lx,bw,Xp,HB,Ms,ms,Fz,BB,bo,Mo,Tw,So,Wt,Dn,zz,jy,Pp,sr,Fw,bt,cn,Av,ot,xB,IC,Rt,bp,fz,hB,it,gt,Wp,vp,qt,Az,Co,EB,vn,Lp,az,Ep,yw,gC,DA,kz,Py,$t,ew,Kr,ao,At,Wu],[function(a){return!0===a},QV,function(a){return!Sh(a)},function(a,b,c,d){if(null==d)throw Fm("get-else: nil default value is not supported",new q(null,1,[aq,bs],null));a=H(MR(a,new W(null,2,5,Y,[b,c],null)));return null==a?d:ox.B(a)},Cg,Il,Bg,K,PV,Hc,qg,$e,xg,Ig,function(a){return!1===
a},Kc,qg,OV,ej,ol,zg,function(a,b){return 0==a.lastIndexOf(b,0)},D,Eg,ug,Xg,function(a,b,c){return null==B.j(PT(a,b),c)},qg,km,Th,Lg,Gk,eg,el,Dg,Mf,wg,Gl,Jl,Kf,function(a){return 0===a},zh,Hl,function(a){return a-1},function(a){if(a instanceof RegExp)return a;var b=ml(/^\(\?([idmsux]*)\)/,a),c=O(b,0,null);b=O(b,1,null);a=Mg.j(a,null==c?0:c.length);return new RegExp(a,r(b)?b:"")},ej,zh,t,yg,Ug,Wg,vg,Lc,function(a){return 0<a},jm,ll,Qg,bg,function(a,b){return Hb(a,b)},Mg,Hg,function(a,b){return-1!=
a.indexOf(b)},Hk,Jg,Sh,Nc,function(a){return 0>a},bD,Ah,RV,function(a,b){return a===b},Tk,ml]),TV=function(){function a(d){var e=b(d);return c(function(){return function k(h){return new Yg(null,function(){for(;;){var m=E(h);if(m){if(Uf(m)){var n=me(m),p=K(n),u=bh(p);a:for(var v=0;;)if(v<p){var y=x(n,v)-e;u.add(y*y);v+=1}else{n=!0;break a}return n?dh(fh(u),k(ne(m))):dh(fh(u),null)}u=H(m)-e;return uf(u*u,k(Re(m)))}return null}},null,null)}(d)}())/K(d)}function b(d){return c(d)/K(d)}function c(d){return w.C(ug,
0,d)}return nk([Iq,$q,Tn,Vp,Xp,Dn,nv,ay,ty,dp,qt,Wz],[a,K,function(d){var e=hg(eg,d);d=K(d);var f=d>>1,h=of(e,f);return Sh(d)?(h+of(e,f-1))/2:h},c,function(){function d(h,k){return mg(w.C(function(m,n){return K(m)<h?hg(eg,Bf.j(m,n)):0>eg(n,Af(m))?hg(eg,Bf.j(Vk(m),n)):m},Cf,k))}function e(h){return w.C(function(k,m){return 0>eg(m,k)?m:k},H(h),J(h))}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return d.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);
};f.B=e;f.j=d;return f}(),function(){function d(h,k){return mg(w.C(function(m,n){return K(m)<h?hg(eg,Bf.j(m,n)):0<eg(n,H(m))?hg(eg,Bf.j(J(m),n)):m},Cf,k))}function e(h){return w.C(function(k,m){return 0<eg(m,k)?m:k},H(h),J(h))}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return d.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.B=e;f.j=d;return f}(),function(d){return K(Uk(d))},Tk,b,function(d){return Math.sqrt(a(d))},function(){function d(f,
h){return mg(qi(f,function(){return of(h,km(K(h)))}))}var e=null;e=function(f,h){switch(arguments.length){case 1:return of(f,km(K(f)));case 2:return d.call(this,f,h)}throw Error("Invalid arity: "+arguments.length);};e.B=function(f){return of(f,km(K(f)))};e.j=d;return e}(),function(d,e){return mg(ii.j(d,lg(e)))}])}();
function UV(a){if("string"===typeof a){var b=new q(null,3,[an,z(fM),Am,z(eM),my,null],null);if(r(r(a)?zh.j(a,""):a)){a=new MK(a,K(a));a:{var c=Array(1);if(Xf(null))for(var d=0,e=E(null);;)if(e&&1>d)c[d]=H(e),d+=1,e=J(e);else break a;else for(d=0;;)if(1>d)c[d]=null,d+=1;else break}b=YL(b,new NK(a,c))}else b=null}else b=a;vV(b);return lm(zf,b)}function VV(a){a=hi.j(xx,mg(Uk(oU(Cf,a))));return new DV(Wk(a,el.O()),Cf,null,null,null)}
function WV(a,b){if(null!=a&&null!=a.He)a=a.He(a,b);else{var c=WV[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=WV._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Oc("IBinding.in-\x3erel",a);}return a}FU.prototype.He=function(){return NV.O()};GU.prototype.He=function(a,b){return new DV(Gf([Ci(this,new W(null,2,5,Y,[Eu,xx],null)),0]),new W(null,1,5,Y,[Uc(new W(null,1,5,Y,[b],null))],null),null,null,null)};
IU.prototype.He=function(a,b){var c=this;if(jR(b))return Mf(b)?VV(c):w.j(MV,hi.j(function(d){return WV(c.binding,d)},b));throw Fm(["Cannot bind value ",Gl.G(M([b]))," to collection ",Gl.G(M([lU(c)]))].join(""),new q(null,3,[aq,nq,Gx,b,Nw,lU(c)],null));};
HU.prototype.He=function(a,b){if(jR(b)){if(K(b)<K(this.bindings))throw Fm(["Not enough elements in a collection ",Gl.G(M([b]))," to bind tuple ",Gl.G(M([lU(this)]))].join(""),new q(null,3,[aq,nq,Gx,b,Nw,lU(this)],null));return w.j(NV,hi.C(function(c,d){return WV(c,d)},this.bindings,b))}throw Fm(["Cannot bind value ",Gl.G(M([b]))," to tuple ",Gl.G(M([lU(this)]))].join(""),new q(null,3,[aq,nq,Gx,b,Nw,lU(this)],null));};
function XV(a,b){var c=O(b,0,null);b=O(b,1,null);return c instanceof GU&&c.Xa instanceof pU?Gi.la(a,Ix,Q,Ci(c,new W(null,2,5,Y,[Eu,xx],null)),b):c instanceof GU&&c.Xa instanceof rU?Q.C(a,Hw,UV(b)):Gi.P(a,Iw,Bf,WV(c,b))}
function YV(a,b,c){var d=K(b),e=K(c);if(d<e)throw Fm(["Extra inputs passed, expected: ",Gl.G(M([zi.j(function(f){return Ln.B(Kf(f))},b)])),", got: ",Gl.G(M([e]))].join(""),new q(null,3,[aq,wp,Jm,b,yx,c],null));if(d>e)throw Fm(["Too few inputs passed, expected: ",Gl.G(M([zi.j(function(f){return Ln.B(Kf(f))},b)])),", got: ",Gl.G(M([e]))].join(""),new q(null,3,[aq,wp,Jm,b,yx,c],null));return w.C(XV,a,Wk(b,c))}var ZV=null,$V=null;
function aW(a,b){var c=a.B?a.B(b):a.call(null,b);return bg(ZV,b)?function(d){d=d[c];return"number"===typeof d?d:Pf(d)?rS($V,d):oQ(d)?rS($V,d):d}:function(d){return d[c]}}function bW(a){if(1===K(a))return H(a);var b=ig(a);return function(c){return E(b.map(function(d){return d.B?d.B(c):d.call(null,c)}))}}function cW(a,b){for(var c=ce(V);;){var d=H(b);if(null==d)return ge(c);var e=a.B?a.B(d):a.call(null,d);b=J(b);c=mh.C(c,e,Bf.j(B.C(c,e,Se),d))}}
function dW(a,b){var c=Hu.B(a),d=Hu.B(b),e=nu.B(a),f=nu.B(b);a=mg(EV(nu.B(a),nu.B(b)));var h=hi.j(function(v){return aW(e,v)},a),k=hi.j(function(v){return aW(f,v)},a);a=Aj(e);b=mg(yK.j(Tk(Aj(f)),Tk(Aj(e))));var m=ig(hi.j(e,a)),n=ig(hi.j(f,b));h=bW(h);var p=cW(h,c),u=bW(k);c=ge(w.C(function(v,y){var F=u.B?u.B(y):u.call(null,y);F=B.j(p,F);return null==F?v:w.C(function(G,I){return lh.j(G,LV(I,m,y,n))},v,F)},ce(Cf),d));return new DV(Wk(T.j(a,b),el.O()),c,null,null,null)}
function eW(a,b){var c=null!=a&&(a.J&64||l===a.ua)?uh(Gk,a):a,d=B.j(c,nu);c=B.j(c,Hu);b=null!=b&&(b.J&64||l===b.ua)?uh(Gk,b):b;var e=B.j(b,nu);b=B.j(b,Hu);var f=EV(d,e),h=hi.j(function(n){return aW(e,n)},f);h=bW(h);var k=cW(h,b);b=hi.j(function(n){return aW(d,n)},f);var m=bW(b);return Q.C(a,Hu,Ai(function(n){n=m.B?m.B(n):m.call(null,n);return null==(k.B?k.B(n):k.call(null,n))},c))}
function fW(a,b){var c=zi.j(function(d){return d instanceof A?null:d},b);a=MR(a,c);b=yi.j(V,vi(function(d){var e=O(d,0,null);O(d,1,null);return IV(e)},hi.C(ej,b,new W(null,4,5,Y,["e","a","v","tx"],null))));return new DV(b,a,null,null,null)}
function gW(a,b){a=vi(function(d){a:for(var e=b;;){var f=d;if(r(r(f)?e:f)){f=H(d);var h=H(e);if(h instanceof A||D.j(f,h))d=J(d),e=J(e);else{d=!1;break a}}else{d=!0;break a}}return d},a);var c=yi.j(V,vi(function(d){var e=O(d,0,null);O(d,1,null);return IV(e)},hi.C(ej,b,el.O())));return new DV(c,zi.j(ig,a),null,null,null)}function hW(a,b){return(null!=a?l===a.Pi||(a.Hd?0:Mc(LR,a)):Mc(LR,a))?fW(a,b):gW(a,b)}
function iW(a,b){for(var c=Cf;;){var d=H(a);if(null==d)return Bf.j(c,b);r(Ah(EV(nu.B(b),nu.B(d))))?(a=J(a),b=dW(d,b)):(a=J(a),c=Bf.j(c,d))}}function jW(a,b){return Rh(function(c){return bg(nu.B(c),b)?c:null},Iw.B(a))}function kW(a,b){var c=jW(a,b);if(null==c)return null;a=H(Hu.B(c));null==a?b=null:(c=nu.B(c),b=c.B?c.B(b):c.call(null,b),b=a[b]);return b}function lW(a,b){return Rh(function(c){return bg(nu.B(a),c)},b)}
function mW(a,b){var c=vi(function(e){return lW(e,b)},Iw.B(a)),d=w.j(NV,c);return new W(null,2,5,Y,[Gi.C(a,Iw,function(e){return wi(Tk(c),e)}),d],null)}
function nW(a,b,c,d){a=Ix.B(a);b=nu.B(b);for(var e=K(d),f=Array(e),h=Array(e),k=0;;)if(k<e){var m=of(d,k);if(m instanceof A){var n=B.j(a,m);null==n?h[k]=B.j(b,m):f[k]=n}else f[k]=m;k+=1}else break;return c===ej?function(p){for(var u=f.slice(0),v=0;;)if(v<e){var y=h[v];null!=y&&(u[v]=p[y]);v+=1}else break;return uh(c,u)}:function(p){for(var u=0;;)if(u<e){var v=h[u];null!=v&&(f[u]=p[v]);u+=1}else break;return uh(c,f)}}
function oW(a,b){var c=O(b,0,null);c=E(c);var d=H(c),e=J(c),f=function(){var m=B.j(SV,d);if(r(m))return m;m=kW(a,d);if(r(m))return m;if(r(null))return null;if(null==jW(a,d))throw Fm(["Unknown predicate '",Gl.G(M([d]))," in ",Gl.G(M([b]))].join(""),new q(null,3,[aq,bs,Mt,b,Ru,d],null));return null}();c=mW(a,vi(He,e));var h=O(c,0,null),k=O(c,1,null);c=r(f)?function(){var m=nW(h,k,f,e);return Gi.C(k,Hu,function(n){return vi(m,n)})}():Q.C(k,Hu,Cf);return Gi.P(h,Iw,Bf,c)}
function pW(a,b){var c=O(b,0,null);c=E(c);var d=H(c),e=J(c);c=O(b,1,null);var f=LU(c),h=function(){var n=B.j(SV,d);if(r(n))return n;n=kW(a,d);if(r(n))return n;if(r(null))return null;if(null==jW(a,d))throw Fm(["Unknown function '",Gl.G(M([d]))," in ",Gl.G(M([b]))].join(""),new q(null,3,[aq,bs,Mt,b,Ru,d],null));return null}();c=mW(a,vi(He,e));var k=O(c,0,null),m=O(c,1,null);c=r(h)?function(){var n=nW(k,m,h,e),p=function(){return function y(v){return new Yg(null,function(){for(var F=v;;)if(F=E(F)){if(Uf(F)){var G=
me(F),I=K(G),N=bh(I);a:for(var P=0;;)if(P<I){var U=x(G,P),ea=n(U);null!=ea&&(U=NV.j(new DV(nu.B(m),new W(null,1,5,Y,[U],null),null,null,null),WV(f,ea)),N.add(U));P+=1}else{G=!0;break a}return G?dh(fh(N),y(ne(F))):dh(fh(N),null)}N=H(F);G=n(N);if(null!=G)return uf(NV.j(new DV(nu.B(m),new W(null,1,5,Y,[N],null),null,null,null),WV(f,G)),y(Re(F)));F=Re(F)}else return null},null,null)}(Hu.B(m))}();return Mf(p)?NV.j(m,VV(f)):w.j(MV,p)}():NV.j(Q.C(m,Hu,Cf),VV(f));return Gi.P(k,Iw,iW,c)}
function qW(a,b){if(Pf(b)){var c=HV(H(b))?yf(b):H(b);if(c instanceof A){if(IV(c)||bg(new Pk(null,new q(null,6,[rw,null,vy,null,ir,null,Tp,null,Kr,null,Lq,null],null),null),c))return!1;if(bg(Hw.B(a),c))return!0;throw Fm(["Unknown rule '",Gl.G(M([c]))," in ",Gl.G(M([b]))].join(""),new q(null,2,[aq,bs,Mt,b],null));}}return!1}var rW=$h(0);
function sW(a,b){var c=E(a),d=H(c),e=J(c),f=bi.j(rW,$e),h=B.j(Hw.B(b),d);return function n(m){return new Yg(null,function(){for(;;){var p=E(m);if(p){var u=p;if(Uf(u)){var v=me(u),y=K(v),F=bh(y);return function(){for(var va=0;;)if(va<y){var Ca=x(v,va),fb=Ca,sc=E(fb),Db=H(sc),ic=J(sc),bc=Db,ee=E(bc),Ag=H(ee),Sf=J(ee),sh=Ag,hd=Sf,Td=ic,Ke=Wk(hd,e);eh(F,TC(function(xi,Ud,we,fe,Fo,ow,pw,fn,hk,yp,cs,ds,Tg,es,fs,zp,qw,ik,jk,gn,gs,hs,is,$B,rY,YK){return function(El){if(IV(El)){var aC=Tg.B?Tg.B(El):Tg.call(null,
El);return null==aC?Le.B([Xg(El),"__auto__",t.B(YK)].join("")):aC}return El}}(va,fb,sc,Db,ic,bc,ee,Ag,Sf,sh,hd,Td,Ke,Ca,v,y,F,u,p,a,c,d,e,d,e,f,h),Td));va+=1}else return!0}()?dh(fh(F),n(ne(u))):dh(fh(F),null)}var G=H(u),I=G,N=E(I),P=H(N),U=J(N),ea=P,fa=E(ea),sa=H(fa),Ba=J(fa),Va=sa,ma=Ba,pa=U,za=Wk(ma,e);return uf(TC(function(va,Ca,fb,sc,Db,ic,bc,ee,Ag,Sf,sh,hd,Td,Ke,xi,Ud,we,fe,Fo,ow,pw,fn){return function(hk){if(IV(hk)){var yp=hd.B?hd.B(hk):hd.call(null,hk);return null==yp?Le.B([Xg(hk),"__auto__",
t.B(fn)].join("")):yp}return hk}}(I,N,P,U,ea,fa,sa,Ba,Va,ma,pa,za,G,u,p,a,c,d,e,d,e,f,h),pa),n(Re(u)))}return null}},null,null)}(h)}function tW(a,b){a=wi(function(c){var d=O(c,0,null);c=O(c,1,null);return D.j(d,c)},hi.C(ej,a,b));return new W(null,2,5,Y,[hi.j(H,a),hi.j(yf,a)],null)}
function uW(a,b){a=E(a);var c=H(a),d=J(a);return function h(f){return new Yg(null,function(){for(;;){var k=E(f);if(k){if(Uf(k)){var m=me(k),n=K(m),p=bh(n);a:for(var u=0;;)if(u<n){var v=x(m,u),y=tW(d,v);v=O(y,0,null);y=O(y,1,null);v=new W(null,1,5,Y,[T.G(new W(null,1,5,Y,[oy],null),v,M([y]))],null);p.add(v);u+=1}else{m=!0;break a}return m?dh(fh(p),h(ne(k))):dh(fh(p),null)}p=H(k);m=tW(d,p);p=O(m,0,null);m=O(m,1,null);return uf(new W(null,1,5,Y,[T.G(new W(null,1,5,Y,[oy],null),p,M([m]))],null),h(Re(k)))}return null}},
null,null)}(B.j(b,c))}function vW(a){var b=$h(Cf);TC(function(c){r(IV.B?IV.B(c):IV.call(null,c))&&bi.C(b,Bf,c);return c},a);return z(b)}function wW(a,b){function c(e){e=O(e,0,null);e=E(e);H(e);e=J(e);return Qh(d,e)}var d=Tk(vW(a));return new W(null,2,5,Y,[vi(c,b),wi(c,b)],null)}
function xW(a,b){function c(ic){return Rh(function(bc){return Mf(Hu.B(bc))},Iw.B(ic))}function d(ic,bc){return w.C(yW,ic,bc)}for(var e=vi(IV,b),f=Wk(e,el.O()),h=new Df(null,new q(null,5,[kp,Cf,GA,a,yz,new W(null,1,5,Y,[b],null),Gy,V,qz,V],null),null,1,null),k=new DV(f,Cf,null,null,null);;){var m=H(h);if(null==m)return k;var n=m,p=gl(function(){return function(ic){return!qW(a,ic)}}(h,k,n,m,e,f,d,c),yz.B(n)),u=O(p,0,null),v=O(p,1,null),y=E(v),F=H(y),G=J(y),I=F,N=G;if(null==I){b=d(GA.B(n),u);b=zW?zW(b,
e):AW.call(null,b,e);var P=new DV(f,b,null,null,null);b=J(h);P=MV(k,P);h=b;k=P}else{var U=I,ea=E(U),fa=H(ea),sa=J(ea),Ba=fa,Va=sa,ma=uW(I,Gy.B(n)),pa=wW(T.j(kp.B(n),u),T.j(ma,qz.B(n))),za=O(pa,0,null),va=O(pa,1,null);if(r(Rh(function(){return function(ic){return D.j(ic,new W(null,1,5,Y,[Qg(oy)],null))}}(h,k,U,ea,fa,sa,Ba,Va,ma,pa,za,va,p,u,v,y,F,G,I,N,n,m,e,f,d,c),za)))b=J(h),P=k,h=b,k=P;else{var Ca=T.j(u,za),fb=d(GA.B(n),Ca);if(r(c(fb)))b=J(h),P=k,h=b,k=P;else{var sc=Q.C(Gy.B(n),Ba,Bf.j(B.C(Gy.B(n),
Ba,Cf),Va)),Db=sW(I,a);b=T.j(function(){return function(ic,bc,ee,Ag,Sf,sh,hd,Td,Ke,xi,Ud,we,fe,Fo,ow,pw,fn,hk,yp,cs,ds,Tg,es,fs,zp,qw,ik,jk,gn,gs){return function $B(is){return new Yg(null,function(rY,YK,El,aC,$K,aL,b_,c_,d_,e_,f_,g_,h_,i_,j_,bL,k_,l_,m_,n_,o_,p_,q_,cL){return function(){for(;;){var Ap=E(is);if(Ap){if(Uf(Ap)){var sw=me(Ap),dL=K(sw),ks=bh(dL);a:for(var bC=0;;)if(bC<dL){var cC=x(sw,bC);cC=new q(null,5,[kp,$K,GA,aL,yz,yi.C(Cf,Yl,M([cC,cL])),Gy,El,qz,bL],null);ks.add(cC);bC+=1}else{sw=
!0;break a}return sw?dh(fh(ks),$B(ne(Ap))):dh(fh(ks),null)}ks=H(Ap);return uf(new q(null,5,[kp,$K,GA,aL,yz,yi.C(Cf,Yl,M([ks,cL])),Gy,El,qz,bL],null),$B(Re(Ap)))}return null}}}(ic,bc,ee,Ag,Sf,sh,hd,Td,Ke,xi,Ud,we,fe,Fo,ow,pw,fn,hk,yp,cs,ds,Tg,es,fs,zp,qw,ik,jk,gn,gs),null,null)}}(h,k,sc,Db,Ca,fb,U,ea,fa,sa,Ba,Va,ma,pa,za,va,p,u,v,y,F,G,I,N,n,m,e,f,d,c)(Db)}(),J(h));P=k;h=b;k=P}}}}}
function BW(a,b){if(null!=a?l===a.rh||(a.Hd?0:Mc(PR,a)):Mc(PR,a)){var c=O(b,0,null),d=O(b,1,null),e=O(b,2,null),f=O(b,3,null);return jj(new W(null,4,5,Y,[r(function(){var h=KV(c);return r(h)?h:JV(c)}())?nS(a,c):c,d,r(function(){if(r(e)){if(JV(d)&&mS(a,d)){var h=KV(e);return r(h)?h:JV(e)}return!1}return e}())?nS(a,e):e,r(KV(f))?nS(a,f):f],null),0,K(b))}return b}
function CW(a,b){var c=O(b,0,null),d=O(b,1,null),e=O(b,2,null);b=O(b,3,null);c=IV(c)?Bf.j(Rk,c):Rk;c=IV(b)?Bf.j(c,b):c;return IV(e)&&!IV(d)&&mS(a,d)?Bf.j(c,e):c}function DW(a,b){return Q.C(a,Iw,Yh(function(c){var d=Ah(Mk(nu.B(c),b));return null==d?null:Q.C(c,nu,d)},Iw.B(a)))}function EW(a){return yi.j(Rk,ti(function(b){return Aj(nu.B(b))},M([Iw.B(a)])))}
function FW(a,b,c){if(zK(b,a))return null;a=yK.j(Tk(b),a);throw Fm(["Insufficient bindings: ",Gl.G(M([a]))," not bound in ",Gl.G(M([c]))].join(""),new q(null,3,[aq,bs,Mt,c,Ks,a],null));}function GW(a,b,c){b=zi.j(function(d){return yK.j(Tk(vW(d)),a)},b);if(r(uh(D,b)))return null;throw Fm(["All clauses in 'or' must use same set of free vars, had ",Gl.G(M([b]))," in ",Gl.G(M([c]))].join(""),new q(null,3,[aq,bs,Mt,c,Ks,b],null));}
function HW(a,b,c){for(var d=Tk(wi(a,b)),e=E(c),f=null,h=0,k=0;;)if(k<h){c=f.wa(null,k);var m=Ah(yK.j(d,Tk(vW(c))));if(null!=m)throw e=m,sl(Cl(M([c,a,b,d]),Ac())),r(wc)&&Fl(),Fm(["All clauses in 'or' must use same set of free vars, had ",Gl.G(M([e]))," not bound in ",Gl.G(M([c]))].join(""),new q(null,3,[aq,bs,Mt,c,Ks,e],null));k+=1}else if(c=E(e)){e=c;if(Uf(e))f=me(e),e=ne(e),c=f,h=K(f),f=c;else{c=H(e);f=Ah(yK.j(d,Tk(vW(c))));if(null!=f)throw e=f,sl(Cl(M([c,a,b,d]),Ac())),r(wc)&&Fl(),Fm(["All clauses in 'or' must use same set of free vars, had ",
Gl.G(M([e]))," not bound in ",Gl.G(M([c]))].join(""),new q(null,3,[aq,bs,Mt,c,Ks,e],null));e=J(e);f=null;h=0}k=0}else return null}var yW=function yW(a){switch(arguments.length){case 2:return yW.j(arguments[0],arguments[1]);case 3:return yW.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};yW.j=function(a,b){return yW.C(a,b,b)};
yW.C=function(a,b,c){for(;;){var d=GV,e=b;if(r(function(){var P=new W(null,1,5,Y,[new W(null,2,5,Y,[He,jy],null)],null),U=e;return d.j?d.j(P,U):d.call(null,P,U)}()))return FW(EW(a),vi(IV,J(H(b))),b),oW(a,b);if(r(function(){var P=new W(null,2,5,Y,[new W(null,2,5,Y,[He,jy],null),Lq],null),U=e;return d.j?d.j(P,U):d.call(null,P,U)}()))return FW(EW(a),vi(IV,J(H(b))),b),pW(a,b);if(r(function(){var P=new W(null,2,5,Y,[HV,jy],null),U=e;return d.j?d.j(P,U):d.call(null,P,U)}())){var f=E(b);c=H(f);f=J(f);var h=
$V;$V=B.j(Ix.B(a),c);try{return yW.C(a,f,b)}finally{$V=h}}else{if(r(function(){var P=new W(null,2,5,Y,[Kr,jy],null),U=e;return d.j?d.j(P,U):d.call(null,P,U)}())){var k=b,m=E(k),n=H(m),p=J(m);f=n;h=p;var u=GW(EW(a),h,b),v=hi.j(function(P){return function(U){return IW.j?IW.j(P,U):IW.call(null,P,U)}}(a,b,c,k,m,n,p,f,h,u,d,e),h);b=hi.j(function(){return function(P){return w.j(dW,Iw.B(P))}}(a,b,c,k,m,n,p,f,h,u,v,d,e),v);return Q.C(H(v),Iw,new W(null,1,5,Y,[w.j(MV,b)],null))}if(r(function(){var P=new W(null,
3,5,Y,[Tp,new W(null,2,5,Y,[new W(null,1,5,Y,[jy],null),jy],null),jy],null),U=e;return d.j?d.j(P,U):d.call(null,P,U)}())){h=E(b);f=H(h);h=J(h);k=H(h);f=J(h);k=E(k);h=H(k);k=J(k);u=h;h=f;f=EW(a);FW(f,u,c);HW(f,k,h);c=ih(Tp,T.j(u,k),h);f=b;b=c;c=f;continue}else{if(r(function(){var P=new W(null,3,5,Y,[Tp,new W(null,1,5,Y,[jy],null),jy],null),U=e;return d.j?d.j(P,U):d.call(null,P,U)}())){n=b;p=E(n);var y=H(p),F=J(p);f=y;var G=H(F),I=J(F);k=G;h=I;var N=Tk(k);u=HW(EW(a),N,h);m=DW(a,N);v=hi.j(function(P,
U,ea,fa,sa,Ba,Va,ma,pa,za,va,Ca,fb,sc,Db){return function(ic){return DW(IW.j?IW.j(Db,ic):IW.call(null,Db,ic),fb)}}(a,b,c,n,p,y,F,f,G,I,k,h,N,u,m,d,e),h);b=hi.j(function(){return function(P){return w.j(dW,Iw.B(P))}}(a,b,c,n,p,y,F,f,G,I,k,h,N,u,m,v,d,e),v);b=w.j(MV,b);return Gi.P(a,Iw,iW,b)}if(r(function(){var P=new W(null,2,5,Y,[rw,jy],null),U=e;return d.j?d.j(P,U):d.call(null,P,U)}()))return c=E(b),b=H(c),c=J(c),f=b,b=c,w.C(IW,a,b);if(r(function(){var P=new W(null,2,5,Y,[vy,jy],null),U=e;return d.j?
d.j(P,U):d.call(null,P,U)}())){f=E(b);b=H(f);h=J(f);f=b;b=h;f=EW(a);h=Tk(vW(b));if(Mf(xK.j(f,h)))throw Fm(["Insufficient bindings: none of ",Gl.G(M([h]))," is bound in ",Gl.G(M([c]))].join(""),new q(null,2,[aq,bs,Mt,c],null));u=null;a=Q.C(a,Iw,new W(null,1,5,Y,[w.j(dW,Iw.B(a))],null));b=w.C(IW,a,b);b=eW(H(Iw.B(a)),w.j(dW,Iw.B(b)));return Q.C(a,Iw,new W(null,1,5,Y,[b],null))}if(r(function(){var P=new W(null,3,5,Y,[ir,new W(null,1,5,Y,[jy],null),jy],null),U=e;return d.j?d.j(P,U):d.call(null,P,U)}()))return b=
E(b),f=H(b),b=J(b),f=H(b),b=J(b),k=f,f=EW(a),u=FW(f,k,c),a=Q.C(a,Iw,new W(null,1,5,Y,[w.j(dW,Iw.B(a))],null)),m=DW(a,k),b=DW(w.C(IW,m,b),k),b=eW(H(Iw.B(a)),w.j(dW,Iw.B(b))),Q.C(a,Iw,new W(null,1,5,Y,[b],null));if(r(function(){var P=new W(null,1,5,Y,[jy],null),U=e;return d.j?d.j(P,U):d.call(null,P,U)}())){c=$V;b=BW(c,b);f=hW(c,b);h=ZV;ZV=(null!=c?l===c.rh||(c.Hd?0:Mc(PR,c)):Mc(PR,c))?CW(c,b):ZV;try{return Gi.P(a,Iw,iW,f)}finally{ZV=h}}else throw Error(["No matching clause: ",t.B(e)].join(""));}}break}};
yW.aa=3;var IW=function IW(a,b){if(qW(a,b))if(HV(H(b))){var d=$V;$V=B.j(Ix.B(a),H(b));try{var e=J(b);return IW.j?IW.j(a,e):IW.call(null,a,e)}finally{$V=d}}else return Gi.P(a,Iw,iW,xW(a,b));else return yW.j(a,b)};function JW(a,b){var c=$V;$V=B.j(Ix.B(a),mq);try{return w.C(IW,a,b)}finally{$V=c}}
function AW(a){switch(arguments.length){case 2:return zW(arguments[0],arguments[1]);case 3:return KW(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function zW(a,b){a=Iw.B(a);return KW(new W(null,1,5,Y,[Array(K(b))],null),a,b)}
function KW(a,b,c){for(;;){var d=H(b);if(null==d)return a;if(Mf(Hu.B(d)))return Cf;var e=Mk(nu.B(d),c);if(Mf(e)){var f=a,h=J(b),k=c;a=f;b=h;c=k}else{var m=ig(hi.j(function(p,u,v,y){return function(F){return B.j(y,F)}}(a,b,c,e,d),c)),n=K(c);f=function(){return function(p,u,v,y,F,G,I){return function U(P){return new Yg(null,function(ea,fa,sa,Ba,Va,ma,pa){return function(){for(var za=P;;){var va=E(za);if(va){var Ca=va,fb=H(Ca);if(va=E(function(sc,Db,ic,bc,ee,Ag,Sf,sh,hd,Td,Ke){return function we(Ud){return new Yg(null,
function(fe,Fo,ow,pw,fn,hk,yp,cs,ds){return function(){for(;;){var Tg=E(Ud);if(Tg){if(Uf(Tg)){var es=me(Tg),fs=K(es),zp=bh(fs);return function(){for(var ik=0;;)if(ik<fs){for(var jk=x(es,ik),gn=zp,gs=Tc(fn),hs=0;;)if(hs<ds){var is=cs[hs];null!=is&&(gs[hs]=jk[is]);hs+=1}else break;gn.add(gs);ik+=1}else return!0}()?dh(fh(zp),we(ne(Tg))):dh(fh(zp),null)}var qw=H(Tg);return uf(function(){for(var ik=Tc(fn),jk=0;;)if(jk<ds){var gn=cs[jk];null!=gn&&(ik[jk]=qw[gn]);jk+=1}else break;return ik}(),we(Re(Tg)))}return null}}}(sc,
Db,ic,bc,ee,Ag,Sf,sh,hd,Td,Ke),null,null)}}(za,ea,fa,sa,fb,Ca,va,Ba,Va,ma,pa)(Hu.B(pa))))return T.j(va,U(Re(za)));za=Re(za)}else return null}}}(p,u,v,y,F,G,I),null,null)}}(a,b,c,m,n,e,d)(a)}();h=J(b);k=c;a=f;b=h;c=k}}}function LW(a,b){return Tk(hi.j(mg,zW(a,b)))}
function MW(a,b){if(null!=a&&null!=a.Ie)a=a.Ie(a,b);else{var c=MW[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=MW._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Oc("IContextResolve.-context-resolve",a);}return a}nU.prototype.Ie=function(a,b){return kW(b,this.symbol)};pU.prototype.Ie=function(a,b){return Ci(b,new W(null,2,5,Y,[Ix,this.symbol],null))};tU.prototype.Ie=function(){var a=B.j(TV,this.symbol);return r(a)?a:null};sU.prototype.Ie=function(){return this.value};
function NW(a,b,c){return zi.P(function(d,e,f){if(VU(d)){e=MW(MA.B(d),b);d=hi.j(function(k){return MW(k,b)},Vk(NA.B(d)));var h=hi.j(function(k){return of(k,f)},c);return uh(e,T.j(d,new W(null,1,5,Y,[h],null)))}return e},a,H(c),el.O())}function OW(a){var b=Th(VU);return wi(Hc,hi.C(function(c,d){return r(b.B?b.B(c):b.call(null,c))?d:null},a,el.O()))}
function PW(a,b,c){var d=OW(a);return function h(f){return new Yg(null,function(){for(;;){var k=E(f);if(k){if(Uf(k)){var m=me(k),n=K(m),p=bh(n);a:for(var u=0;;)if(u<n){var v=x(m,u);O(v,0,null);v=O(v,1,null);v=NW(a,b,v);p.add(v);u+=1}else{m=!0;break a}return m?dh(fh(p),h(ne(k))):dh(fh(p),null)}p=H(k);O(p,0,null);p=O(p,1,null);return uf(NW(a,b,p),h(Re(k)))}return null}},null,null)}(lm(function(f){return hi.j(function(h){return of(f,h)},d)},c))}
function QW(a,b){return w.C(function(c,d){return Bf.j(c,a.B?a.B(d):a.call(null,d))},Ef(b),b)}function RW(a,b){var c=Iy.B(a),d=el.j(0,K(c));return QW(function(e){return w.C(function(f,h){return Q.C(f,of(c,h),of(e,h))},V,d)},b)}function SW(a,b,c){if(null!=a&&null!=a.Je)a=a.Je(a,b,c);else{var d=SW[ra(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=SW._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Oc("IPostProcess.-post-process",a);}return a}
RU.prototype.Je=function(a,b,c){return null==b?c:RW(b,c)};SU.prototype.Je=function(a,b,c){return yi.C(Cf,hi.B(H),c)};TU.prototype.Je=function(a,b,c){return zf(c)};UU.prototype.Je=function(a,b,c){return null!=b?H(RW(b,new W(null,1,5,Y,[H(c)],null))):H(c)};
function TW(a,b,c){var d=function(){return function h(f){return new Yg(null,function(){for(;;){var k=E(f);if(k){if(Uf(k)){var m=me(k),n=K(m),p=bh(n);a:for(var u=0;;)if(u<n){var v=x(m,u);v=WU(v)?new W(null,2,5,Y,[MW(Ln.B(v),b),oT(MW(TA.B(v),b))],null):null;p.add(v);u+=1}else{m=!0;break a}return m?dh(fh(p),h(ne(k))):dh(fh(p),null)}p=H(k);return uf(WU(p)?new W(null,2,5,Y,[MW(Ln.B(p),b),oT(MW(TA.B(p),b))],null):null,h(Re(k)))}return null}},null,null)}(a)}();return function h(f){return new Yg(null,function(){for(;;){var k=
E(f);if(k){var m=k;if(Uf(m)){var n=me(m),p=K(n),u=bh(p);return function(){for(var y=0;;)if(y<p){var F=x(n,y);eh(u,zi.C(function(){return function(G,I){if(r(G)){var N=O(G,0,null);G=O(G,1,null);return KT(N,G,new W(null,1,5,Y,[I],null))}return I}}(y,F,n,p,u,m,k,d),d,F));y+=1}else return!0}()?dh(fh(u),h(ne(m))):dh(fh(u),null)}var v=H(m);return uf(zi.C(function(){return function(y,F){if(r(y)){var G=O(y,0,null);y=O(y,1,null);return KT(G,y,new W(null,1,5,Y,[F],null))}return F}}(v,m,k,d),d,v),h(Re(m)))}return null}},
null,null)}(c)}var UW=new di(NT(V,function(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new Pe(b.slice(0),0,null):null;a:for(b=E(b),d=Fk;;)if(b)c=J(J(b)),d=Q.C(d,H(b),yf(b)),b=c;else break a;return d}(),V,0,100));function VW(a){var b=B.C(z(UW),a,null);return null==b?(b=BV(a),UW.ze(null,Q.C(UW.Db(null),a,b)),b):b}
function $E(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new Pe(b.slice(1),0,null):null;return WW(arguments[0],b)}function WW(a,b){var c=VW(a),d=dr.B(c),e=QU(d),f=ti(NU,M([QU(d)])),h=K(e),k=RA.B(c);f=T.j(f,hi.j(xx,k));a=Pf(a)?yV(a):a;k=Op.B(a);b=YV(new CV(Cf,V,V,null,null,null),dz.B(c),b);f=LW(JW(b,k),f);f=r(RB.B(a))?zi.j(function(m){return mg(jj(m,0,h))},f):f;f=r(Rh(VU,e))?PW(e,b,f):f;e=r(Rh(WU,e))?TW(e,b,f):f;return SW(d,cx.B(c),e)};function XW(a,b){var c=$h(null);bi.j(a,function(d){d=LS(pS(new q(null,5,[Lo,d,Zu,d,As,Cf,QC,V,jp,null],null)),b);ai(c,d);return Zu.B(d)});return z(c)}function YW(a){var b=ZE;a=XW(b,a);b=Iu.B(Kf(b));b=null==b?null:z(b);b=E(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.wa(null,e);O(f,0,null);f=O(f,1,null);f.B?f.B(a):f.call(null,a);e+=1}else if(b=E(b))Uf(b)?(d=me(b),b=ne(b),c=d,d=K(d)):(c=H(b),O(c,0,null),c=O(c,1,null),c.B?c.B(a):c.call(null,a),b=J(b),c=null,d=0),e=0;else break;return a}
function ZW(a,b){return $W(a,b)}
function $W(a,b){var c=pS(new q(null,4,[Lo,z(a),Zu,b,As,T.j(hi.j(function(m){return Q.C(m,$y,!1)},OR(z(a),Iv,Cf)),OR(b,Iv,Cf)),jp,null],null));ai(a,b);for(var d=E(function(){var m=Iu.B(Kf(a));return null==m?null:z(m)}()),e=null,f=0,h=0;;)if(h<f){var k=e.wa(null,h);O(k,0,null);k=O(k,1,null);k.B?k.B(c):k.call(null,c);h+=1}else if(d=E(d))Uf(d)?(f=me(d),d=ne(d),e=f,f=K(f)):(e=H(d),O(e,0,null),e=O(e,1,null),e.B?e.B(c):e.call(null,c),d=J(d),e=null,f=0),h=0;else break;return b}
function aX(a){var b=ZE,c=jm.O();bi.P(Iu.B(Kf(b)),Q,c,a)}
for(var bX=E(new q(null,2,[Ht,function(a){return uh(fR,a)},dw,function(a){var b=null!=a&&(a.J&64||l===a.ua)?uh(Gk,a):a;a=B.j(b,zs);b=B.j(b,mr);return iS(hi.j(function(c){var d=O(c,0,null),e=O(c,1,null),f=O(c,2,null);c=O(c,3,null);return fR.P(d,e,f,c)},b),a)}],null)),cX=null,dX=0,eX=0;;)if(eX<dX){var fX=cX.wa(null,eX),gX=O(fX,0,null),hX=O(fX,1,null),ob=gX,pb=hX;B.j(z(fM),ob);bi.P(fM,Q,ob,pb);eX+=1}else{var kX=E(bX);if(kX){var lX=kX;if(Uf(lX)){var mX=me(lX),nX=ne(lX),oX=mX,pX=K(mX);bX=nX;cX=oX;dX=pX}else{var qX=
H(lX),rX=O(qX,0,null),sX=O(qX,1,null),qb=rX,rb=sX;B.j(z(fM),qb);bi.P(fM,Q,qb,rb);bX=J(lX);cX=null;dX=0}eX=0}else break};var vX={},wX={},xX=[];function yX(a,b){var c=wX[a];if(void 0!==c)return c;try{xX.push(a);var d=vX[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};vX[a]=d}if(e){delete shadow$provide[a];try{e.call(d,la,yX,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),h;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{xX.pop()}return d.exports}yX.cache={};yX.resolve=function(a){return a};
function zX(a){return yX(a,{})};var AX=zX(3);var BX={};var CX={},DX="undefined"!==typeof window&&null!=window.document,EX=new Pk(null,new q(null,2,["aria",null,"data",null],null),null);function FX(a){return 2>K(a)?a.toUpperCase():[Mg.C(a,0,1).toUpperCase(),Mg.j(a,1)].join("")}function GX(a){if("string"===typeof a)return a;a=Xg(a);var b=aD(a,/-/,0);var c=E(b);b=H(c);c=J(c);return r(EX.B?EX.B(b):EX.call(null,b))?a:vh(t,b,hi.j(FX,c))}
function HX(a){var b=function(){if(Hf(a)){var c=a.displayName;r(c)||(c=a.name,c="string"===typeof c&&E(c)?c:null)}else c=!1;if(r(c))return c;c=null!=a&&(a.T&4096||l===a.Xf)?Xg(a):!1;if(r(c))return c;c=Kf(a);return Qf(c)?dA.B(c):null}();return r(b)?XC(t.B(b),"$","."):null}function IX(a){return a instanceof C||a instanceof A}
var JX=function JX(a){switch(arguments.length){case 0:return JX.O();case 1:return JX.B(arguments[0]);case 2:return JX.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Pe(c.slice(2),0,null);return JX.G(arguments[0],arguments[1],c)}};JX.O=function(){return null};JX.B=function(a){return Nf(a)?(a=Yh(function(b){return r(b)?IX(b)?Xg(b):b:null},a),E(a)?YC(" ",a):null):IX(a)?Xg(a):a};
JX.j=function(a,b){return r(a)?r(b)?[t.B(JX.B(a))," ",t.B(JX.B(b))].join(""):JX.B(a):JX.B(b)};JX.G=function(a,b,c){return w.C(JX,JX.j(a,b),c)};JX.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.G(b,a,c)};JX.aa=2;var KX=!1;function LX(a){if(Qf(a))try{var b=B.j(a,AB)}catch(c){b=null}else b=null;return b}
function MX(a){var b=AB.B(Kf(a));if(r(b))return b;b=LX(O(a,1,null));if(r(b))return b;b=O(a,0,null);switch(b instanceof C?b.na:null){case "\x3e":case "f\x3e":return LX(O(a,2,null));case "r\x3e":return a=O(a,2,null),null==a?null:a.key;default:return null}};var NX=0;function OX(a){return setTimeout(a,16)}var PX=DX?function(){var a=window;return function(){var b=a.requestAnimationFrame;if(r(b))return b;b=a.webkitRequestAnimationFrame;if(r(b))return b;b=a.mozRequestAnimationFrame;if(r(b))return b;b=a.msRequestAnimationFrame;return r(b)?b:OX}().bind(a)}():OX;function QX(a,b){return a.jg-b.jg}function RX(){return null}function SX(a){for(var b=a.length,c=0;;)if(c<b){var d=a[c];d.O?d.O():d.call(null);c+=1}else return null}
function TX(a,b,c){b.push(c);return a.schedule()}function UX(){this.Ff=!1}g=UX.prototype;g.flush_after_render=function(){var a=this.Ze;if(null==a)return null;this.Ze=null;return SX(a)};g.queue_render=function(a){null==this.qf&&(this.qf=[]);return TX(this,this.qf,a)};g.schedule=function(){function a(){return b.run_queues()}var b=this;if(this.Ff)return null;this.Ff=!0;return PX.B?PX.B(a):PX.call(null,a)};g.flush_before_flush=function(){var a=this.$e;if(null==a)return null;this.$e=null;return SX(a)};
g.flush_queues=function(){this.flush_before_flush();RX();this.flush_render();return this.flush_after_render()};g.run_queues=function(){this.Ff=!1;return this.flush_queues()};g.add_before_flush=function(a){null==this.$e&&(this.$e=[]);return TX(this,this.$e,a)};g.add_after_render=function(a){null==this.Ze&&(this.Ze=[]);return TX(this,this.Ze,a)};
g.flush_render=function(){var a=this.qf;if(null==a)return null;this.qf=null;a:{a.sort(QX);for(var b=a.length,c=0;;)if(c<b){var d=a[c];!0===d.cljsIsDirty&&d.forceUpdate();c+=1}else break a}return null};var VX=new UX;function WX(a){if(r(a.cljsIsDirty))return null;a.cljsIsDirty=!0;return VX.queue_render(a)};function XX(a){if(null!=a&&null!=a.Kj)a=a.id;else{var b=XX[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=XX._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Oc("Compiler.get-id",a);}return a}function YX(a,b){if(null!=a&&null!=a.Lh)a=a.Lh(a,b);else{var c=YX[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=YX._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Oc("Compiler.as-element",a);}return a}
function ZX(a,b,c,d,e){if(null!=a&&null!=a.Mh)a=a.Mh(a,b,c,d,e);else{var f=ZX[ra(null==a?null:a)];if(null!=f)a=f.la?f.la(a,b,c,d,e):f.call(null,a,b,c,d,e);else if(f=ZX._,null!=f)a=f.la?f.la(a,b,c,d,e):f.call(null,a,b,c,d,e);else throw Oc("Compiler.make-element",a);}return a};var $X;function aY(a,b){b.Rf=null;a:{var c=$X;$X=b;try{var d=a.O?a.O():a.call(null);break a}finally{$X=c}d=void 0}a=b.Rf;b.Id=!1;a:{c=b.be;var e=null==a?0:a.length;if(e===(null==c?0:c.length))for(var f=0;;){var h=f===e;if(h){c=h;break a}if(a[f]===c[f])f+=1;else{c=!1;break a}}else c=!1}c||b._update_watching(a);return d}function bY(a){var b=$X;if(null!=b){var c=b.Rf;null==c?b.Rf=[a]:c.push(a)}}function cY(a,b,c){a.Cb=Q.C(a.Cb,b,c);return a.Qg=null}
function dY(a,b){a.Cb=R.j(a.Cb,b);return a.Qg=null}function eY(a,b,c){var d=a.Qg;d=null==d?a.Qg=pg(function(m,n,p){m.push(n);m.push(p);return m},[],a.Cb):d;for(var e=d.length,f=0;;)if(f<e){var h=d[f],k=d[f+1];k.P?k.P(h,a,b,c):k.call(null,h,a,b,c);f=2+f}else break}function fY(a,b,c,d){Vd(a,["#object[reagent.ratom.",t.B(c)," "].join(""));a:{c=$X;$X=null;try{var e=d;break a}finally{$X=c}e=void 0}xl(e,a,b);return Vd(a,"]")}var gY=null;
function hY(a,b,c,d){this.state=a;this.meta=b;this.validator=c;this.Cb=d;this.J=2154201088;this.T=114690}g=hY.prototype;g.ea=function(a,b,c){return fY(b,c,"RAtom",new q(null,1,[Nl,this.Db(null)],null))};g.fa=function(){return this.meta};g.ha=function(){return ya(this)};g.ba=function(a,b){return this===b};g.Qc=function(a,b){a=this.state;this.state=b;null!=this.Cb&&eY(this,a,b);return b};g.Zf=function(a,b){return this.Qc(null,b.B?b.B(this.state):b.call(null,this.state))};
g.$f=function(a,b,c){return this.Qc(null,b.j?b.j(this.state,c):b.call(null,this.state,c))};g.ag=function(a,b,c,d){return this.Qc(null,b.C?b.C(this.state,c,d):b.call(null,this.state,c,d))};g.cg=function(a,b,c,d,e){return this.Qc(null,xh(b,this.state,c,d,e))};g.eg=function(a,b){eY(this,a,b)};g.hf=function(a,b,c){return cY(this,b,c)};g.jf=function(a,b){return dY(this,b)};g.ga=function(a,b){return new hY(this.state,b,this.validator,this.Cb)};g.Db=function(){bY(this);return this.state};
var iY=function iY(a){switch(arguments.length){case 1:return iY.B(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Pe(c.slice(1),0,null);return iY.G(arguments[0],c)}};iY.B=function(a){return new hY(a,null,null,null)};iY.G=function(a,b){var c=null!=b&&(b.J&64||l===b.ua)?uh(Gk,b):b;b=B.j(c,Dc);c=B.j(c,St);return new hY(a,b,c,null)};iY.ca=function(a){var b=H(a);a=J(a);return this.G(b,a)};iY.aa=1;
function jY(a){if(null!=a&&null!=a.Hg)a=a.Hg(a);else{var b=jY[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=jY._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Oc("IDisposable.dispose!",a);}return a}function kY(a,b,c,d){return a._handle_change(b,c,d)}function lY(a){this.f=a;this.state=null;this.Id=!0;this.Dh=!1;this.Sf=this.dd=this.Cb=this.be=null;this.J=2153807872;this.T=114690}g=lY.prototype;g._peek_at=function(){var a=$X;$X=null;try{return this.Db(null)}finally{$X=a}};
g._handle_change=function(a,b,c){return b===c||this.Id?null:null==this.dd?(this.Id=!0,null==gY&&(gY=[],!1===VX.Ff&&VX.schedule()),gY.push(this)):!0===this.dd?this._run(!1):this.dd.B?this.dd.B(this):this.dd.call(null,this)};
g._update_watching=function(a){var b=Tk(a),c=Tk(this.be);this.be=a;a=E(yK.j(b,c));for(var d=null,e=0,f=0;;)if(f<e){var h=d.wa(null,f);ae(h,this);f+=1}else if(a=E(a))d=a,Uf(d)?(a=me(d),f=ne(d),d=a,e=K(a),a=f):(a=H(d),ae(a,this),a=J(d),d=null,e=0),f=0;else break;b=E(yK.j(c,b));c=null;for(e=d=0;;)if(e<d)a=c.wa(null,e),be(a,this),e+=1;else if(b=E(b))c=b,Uf(c)?(b=me(c),d=ne(c),c=b,a=K(b),b=d,d=a):(a=H(c),be(a,this),b=J(c),c=null,d=0),e=0;else return null};
g._queued_run=function(){return this.Id&&null!=this.be?this._run(!0):null};g._try_capture=function(a){try{return this.Sf=null,aY(a,this)}catch(b){return this.Sf=this.state=a=b,this.Id=!1}};g._run=function(a){var b=this.state;a=r(a)?this._try_capture(this.f):aY(this.f,this);this.Dh||(this.state=a,null==this.Cb||D.j(b,a)||eY(this,b,a));return a};
g._set_opts=function(a){var b=null!=a&&(a.J&64||l===a.ua)?uh(Gk,a):a;a=B.j(b,gv);var c=B.j(b,tA),d=B.j(b,pn);b=B.j(b,Qo);null!=a&&(this.dd=a);null!=c&&(this.zj=c);null!=d&&(this.Hh=d);return null!=b?this.Dh=b:null};g.ea=function(a,b,c){return fY(b,c,"Reaction",new q(null,1,[Nl,this.Db(null)],null))};g.ha=function(){return ya(this)};g.ba=function(a,b){return this===b};
g.Hg=function(){var a=this.state,b=this.be;this.dd=this.state=this.be=null;this.Id=!0;b=E(Tk(b));for(var c=null,d=0,e=0;;)if(e<d){var f=c.wa(null,e);be(f,this);e+=1}else if(b=E(b))c=b,Uf(c)?(b=me(c),e=ne(c),c=b,d=K(b),b=e):(b=H(c),be(b,this),b=J(c),c=null,d=0),e=0;else break;null!=this.Hh&&this.Hh(a);a=this.nk;if(null==a)return null;b=a.length;for(c=0;;)if(c<b)d=a[c],d.B?d.B(this):d.call(null,this),c+=1;else return null};g.Qc=function(a,b){a=this.state;this.state=b;this.zj(a,b);eY(this,a,b);return b};
g.Zf=function(a,b){var c=this;return c.Qc(null,function(){var d=c._peek_at();return b.B?b.B(d):b.call(null,d)}())};g.$f=function(a,b,c){var d=this;return d.Qc(null,function(){var e=d._peek_at();return b.j?b.j(e,c):b.call(null,e,c)}())};g.ag=function(a,b,c,d){var e=this;return e.Qc(null,function(){var f=e._peek_at();return b.C?b.C(f,c,d):b.call(null,f,c,d)}())};g.cg=function(a,b,c,d,e){return this.Qc(null,xh(b,this._peek_at(),c,d,e))};g.eg=function(a,b){eY(this,a,b)};
g.hf=function(a,b,c){return cY(this,b,c)};g.jf=function(a,b){a=Mf(this.Cb);dY(this,b);return!a&&Mf(this.Cb)&&null==this.dd?this.Hg(null):null};g.Db=function(){var a=this.Sf;if(null!=a)throw a;(a=null==$X)&&(mY.O?mY.O():mY.call(null));a&&null==this.dd?this.Id&&(a=this.state,this.state=this.f.O?this.f.O():this.f.call(null),null==this.Cb||D.j(a,this.state)||eY(this,a,this.state)):(bY(this),this.Id&&this._run(!1));return this.state};
function mY(){for(;;){var a=gY;if(null==a)return null;gY=null;for(var b=a.length,c=0;;)if(c<b)a[c]._queued_run(),c+=1;else break}}RX=mY;function nY(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=1<b.length?new Pe(b.slice(1),0,null):null;b=arguments[0];var e=null!=c&&(c.J&64||l===c.ua)?uh(Gk,c):c;c=B.j(e,gv);d=B.j(e,tA);e=B.j(e,pn);b=new lY(b);b._set_opts(new q(null,3,[gv,c,tA,d,pn,e],null));return b}var oY=nY(null);
function pY(a,b){var c=qY,d=oY,e=aY(a,d);null!=d.be&&(oY=nY(null),d._set_opts(c),d.f=a,d.dd=function(){return WX.B?WX.B(b):WX.call(null,b)},b.cljsRatom=d);return e};var sY;function tY(a,b){var c=b.argv;if(null==c){c=Y;a=a.constructor;a:for(var d=ub(b),e=d.length,f=V,h=0;;)if(h<e){var k=d[h];f=Q.C(f,Wg.B(k),vb(b,k));h+=1}else break a;b=new W(null,2,5,c,[a,f],null)}else b=c;return b}function uY(a){var b;if(b=Hf(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.Ld);return b}
function vY(a,b){for(;;){var c=a.Ld,d=!0===a.Ii?c.call(a,a):function(){var e=tY(a,a.props);switch(K(e)){case 1:return c.call(a);case 2:return c.call(a,of(e,1));case 3:return c.call(a,of(e,1),of(e,2));case 4:return c.call(a,of(e,1),of(e,2),of(e,3));case 5:return c.call(a,of(e,1),of(e,2),of(e,3),of(e,4));default:return c.apply(a,Uc(e).slice(1))}}();if(Tf(d))return YX(b,d);if($f(d))d=uY(d)?function(e,f,h,k,m){return function(){function n(u){var v=null;if(0<arguments.length){v=0;for(var y=Array(arguments.length-
0);v<y.length;)y[v]=arguments[v+0],++v;v=new Pe(y,0,null)}return p.call(this,v)}function p(u){return YX(f,vh(ej,m,u))}n.aa=0;n.ca=function(u){u=E(u);return p(u)};n.G=p;return n}()}(a,b,c,null,d):d,a.Ld=d;else return d}}var qY=new q(null,1,[Qo,!0],null);
function wY(a,b){switch(a instanceof C?a.na:null){case "getDefaultProps":throw Error("getDefaultProps not supported");case "getDerivedStateFromProps":return function(c,d){return b.call(null,function(){var e=c.argv;null==e?e=c:(e=O(e,1,null),e=Qf(e)?e:null);return e}(),d)};case "getInitialState":return function(c){var d=c.Ki;d=null!=d?d:c.Ki=iY.B(null);return ai(d,b.call(c,c))};case "getSnapshotBeforeUpdate":return function(c,d){return b.call(this,this,tY(this,c),d)};case "componentWillReceiveProps":return function(c){return b.call(this,
this,tY(this,c))};case "UNSAFE_componentWillReceiveProps":return function(c){return b.call(this,this,tY(this,c))};case "shouldComponentUpdate":return function(c){var d=KX;if(r(d))return d;d=this.props.argv;var e=c.argv,f=null==d||null==e;if(null==b){if(f)return f;try{return zh.j(d,e)}catch(h){return!1}}else return f?b.call(this,this,tY(this,this.props),tY(this,c)):b.call(this,this,d,e)};case "componentWillUpdate":return function(c,d){return b.call(this,this,tY(this,c),d)};case "UNSAFE_componentWillUpdate":return function(c,
d){return b.call(this,this,tY(this,c),d)};case "componentDidUpdate":return function(c,d,e){return b.call(this,this,tY(this,c),d,e)};case "componentWillMount":return function(){return b.call(this,this)};case "UNSAFE_componentWillMount":return function(){return b.call(this,this)};case "componentDidMount":return function(){return b.call(this,this)};case "componentWillUnmount":return function(){var c=vb(this,"cljsRatom");null!=c&&jY(c);this.cljsIsDirty=!1;return null==b?null:b.call(this,this)};case "componentDidCatch":return function(c,
d){return b.call(this,this,c,d)};default:return null}}function xY(a,b){a=wY(a,b);return r(a)?a:b}var yY=new q(null,2,[oC,null,tx,null],null),zY=function(a){var b=$h(V);return function(c){var d=B.j(z(b),c);if(null!=d)return d;d=a.B?a.B(c):a.call(null,c);bi.P(b,Q,c,d);return d}}(function(a){if("string"===typeof a)return a;a=Xg(a);a=XC(a,/(unsafe|UNSAFE)[-_]/,"UNSAFE_");a=aD(a,/-/,0);var b=E(a);a=H(b);b=J(b);return vh(t,a,hi.j(FX,b))});
function AY(a){return pg(function(b,c,d){return Q.C(b,Wg.B(zY(c)),d)},V,a)}
function BY(a,b){var c=function(){var h=vs.B(a);return r(h)?h:$u.B(a)}(),d=null==vs.B(a),e=function(){var h=Xy.B(a);if(r(h))return h;h=HX(c);return r(h)?h:t.B(Rl("reagent"))}(),f=pg(function(h,k,m){return Q.C(h,k,xY(k,m))},V,a);return Q.G(f,Xy,e,M([ns,d,vs,c,$u,function(){var h=this,k=vb(h,"cljsRatom");h.cljsIsDirty=!1;return null==k?pY(function(){a:{var m=sY;sY=h;try{var n=vY(h,b);break a}finally{sY=m}n=void 0}return n},h):k._run(!1)}]))}
function CY(a){return pg(function(b,c,d){c=Xg(c);b[c]=d;return b},{},a)}function DY(a,b){return BY(Kk.G(M([yY,AY(a)])),b)}var EY=new W(null,5,5,Y,[Ev,eu,vx,Dx,lz],null);
function FY(a,b){function c(k,m,n){AX.Component.call(this,k,m,n);r(h)&&(h.j?h.j(this,k):h.call(null,this,k));r(f)&&(this.state=f.B?f.B(this):f.call(null,this));this.jg=NX+=1;return this}a=DY(a,b);b=CY(yh(R,a,Xy,zo,Dv,M([$u,vs,EY])));var d=CY(Mk(a,EY)),e=Xy.B(a),f=zo.B(a),h=Dv.B(a);xb(c.prototype,AX.Component.prototype,b);r($u.B(a))&&(c.prototype.render=$u.B(a));r(vs.B(a))&&(c.prototype.Ld=vs.B(a));r(ns.B(a))&&(c.prototype.Ii=ns.B(a));xb(c,AX.Component,d);r(e)&&(c.displayName=e,c.sb=e,c.Eb=function(k){return Vd(k,
e)});c.Ab=!0;return c.prototype.constructor=c}function GY(a,b,c){a=XX(a);return b[a]=c}
function HY(a,b){for(;;){var c=b.Ld,d=b.argv,e=uh(c,d);if(Tf(e))return YX(a,e);if($f(e))c=uY(e)?function(f,h,k,m,n,p){return function(){function u(y){var F=null;if(0<arguments.length){F=0;for(var G=Array(arguments.length-0);F<G.length;)G[F]=arguments[F+0],++F;F=new Pe(G,0,null)}return v.call(this,F)}function v(y){return YX(f,vh(ej,p,y))}u.aa=0;u.ca=function(y){y=E(y);return v(y)};u.G=v;return u}()}(a,b,c,null,d,e):e,b.Ld=c;else return e}}
function IY(a,b){var c=b.argv,d=b.Ld;b=AX.useState(0);O(b,0,null);var e=O(b,1,null),f=AX.useRef();r(f.current)||function(){var k={forceUpdate:function(){return e.B?e.B($e):e.call(null,$e)}};k.jg=NX+=1;k.constructor=d;k.Ld=d;return f.current=k}();var h=f.current;b=vb(h,"cljsRatom");AX.useEffect(function(){return function(){var k=vb(h,"cljsRatom");return null==k?null:jY(k)}},[]);h.argv=c;h.cljsIsDirty=!1;return null==b?pY(function(){a:{var k=sY;sY=h;try{var m=HY(a,h);break a}finally{sY=k}m=void 0}return m},
h):b._run(!1)}function JY(a,b){a=a.argv;b=b.argv;if(!1===KX)try{return D.j(a,b)}catch(c){return!1}else return!1}function KY(a,b){function c(e){return IY(a,e)}var d=vb(b,XX(a));if(r(d))return d;c.displayName=HX(b);d=AX.memo(c,JY);GY(a,b,d);return d};var LY=new Pk(null,new q(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null);
function MY(a,b,c,d){var e=V;e=null!=e&&(e.J&64||l===e.ua)?uh(Gk,e):e;e=B.j(e,vt);if(a===document.activeElement&&bg(LY,a.type)&&"string"===typeof b&&"string"===typeof c){var f=a.value;if(zh.j(f,c))return VX.add_after_render(function(){return NY.B?NY.B(d):NY.call(null,d)});c=K(f)-a.selectionStart;c=K(b)-c;d.nf=b;a.value=b;Hf(e)&&(e.B?e.B(b):e.call(null,b));a.selectionStart=c;return a.selectionEnd=c}d.nf=b;a.value=b;return Hf(e)?e.B?e.B(b):e.call(null,b):null}
function NY(a){if(r(a.ig)){a.ph=!1;var b=a.Ji,c=a.nf,d=a.sg;return zh.j(b,c)?MY(d,b,c,a):null}return null}function OY(a,b,c){a.nf=c.target.value;r(a.ph)||(a.ph=!0,VX.add_after_render(function(){return NY(a)}));return b.B?b.B(c):b.call(null,c)}
function PY(a){var b=sY;if(r(null!=a?function(){var f=a.hasOwnProperty("onChange");return r(f)?a.hasOwnProperty("value"):f}():!1)){var c=a.value;c=null==c?"":c;var d=a.onChange,e=a.ref;r(b.ig)||(b.ig=!0,b.nf=c);r(b.Nh)||(b.Nh=Hf(e)?function(f){b.sg=f;return e.B?e.B(f):e.call(null,f)}:r(r(e)?e.hasOwnProperty("current"):e)?function(f){b.sg=f;return e.current=f}:function(f){return b.sg=f});b.Ji=c;delete a.value;a.defaultValue=c;a.onChange=function(f){return OY(b,d,f)};a.ref=b.Nh}}
var QY=new q(null,4,[Jx,"ReagentInput",ZA,NY,wq,function(a){return a.ig=null},Sw,function(a,b,c,d,e){PY(c);return ZX(e,a,b,c,d)}],null);var RY={},SY,TY=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/,UY={"class":"className","for":"htmlFor",charset:"charSet"};function VY(a,b){return a.hasOwnProperty(b)?vb(a,b):null}function WY(a,b,c){if(IX(b)){var d=VY(UY,Xg(b));null==d?(d=GX(b),b=Xg(b),b=UY[b]=d):b=d}c=XY.B?XY.B(c):XY.call(null,c);a[b]=c;return a}
function XY(a){return"object"!==ra(a)?a:IX(a)?Xg(a):Qf(a)?pg(WY,{},a):Nf(a)?cm(a):$f(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new Pe(f,0,null)}return c.call(this,e)}function c(d){return uh(a,d)}b.aa=0;b.ca=function(d){d=E(d);return c(d)};b.G=c;return b}():cm(a)}var YY={};function ZY(a,b,c){if(IX(b)){var d=VY(YY,Xg(b));null==d?(d=GX(b),b=Xg(b),b=YY[b]=d):b=d}c=XY(c);a[b]=c;return a}
function $Y(a){return"object"!==ra(a)?a:IX(a)?Xg(a):Qf(a)?pg(ZY,{},a):Nf(a)?cm(a):$f(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new Pe(f,0,null)}return c.call(this,e)}function c(d){return uh(a,d)}b.aa=0;b.ca=function(d){d=E(d);return c(d)};b.G=c;return b}():cm(a)}
function aZ(a,b){var c=b.id;b=b.className;c=null!=c&&null==rC.B(a)?Q.C(a,rC,c):a;return r(b)?Q.C(c,Jz,JX.j(b,function(){var d=Jz.B(a);return r(d)?d:cy.B(a)}())):c}function bZ(a,b,c,d,e){switch(K(b)-e){case 0:return AX.createElement(c,d);case 1:return AX.createElement(c,d,YX(a,O(b,e,null)));default:return AX.createElement.apply(null,pg(function(f,h,k){h>=e&&f.push(YX(a,k));return f},[c,d],b))}}function cZ(a,b,c,d){this.tag=a;this.id=b;this.className=c;this.Ni=d}
function dZ(a,b,c){var d=vb(a,XX(c));null==d?uY(a)?a=GY(c,a,a):(d=Kf(a),d=Q.C(d,Sw,a),d=FY(d,c),a=GY(c,a,d)):a=d;c={};c.argv=b;b=MX(b);null!=b&&(c.key=b);return AX.createElement(a,c)}function eZ(a,b,c,d){var e={};e.Ld=a;e.argv=jj(b,c,K(b));b=MX(b);null!=b&&(e.key=b);return AX.createElement(KY(d,a),e)}function fZ(a,b,c){var d;if(d=Hf(a))d=null==a?null:a.prototype,d=null!=(null==d?null:d.render);return d?dZ(a,b,c):eZ(a,b,1,c)}var gZ={};
function hZ(a,b,c,d){var e=a.tag,f=O(b,c,null),h=null==f||Qf(f),k=function(){var n=h?f:null;var p=Jz.B(n);n=aZ(r(p)?Q.C(n,Jz,JX.B(p)):n,a);n=r(a.Ni)?$Y(n):XY(n);return r(n)?n:{}}();c+=h?1:0;a:switch(e){case "input":case "textarea":var m=!0;break a;default:m=!1}if(m)return m=function(){var n=d.Lj;if(r(n))return n;n=FY(QY,d);return d.Lj=n}(),YX(d,Jf(new W(null,6,5,Y,[m,b,e,k,c,d],null),Kf(b)));m=LX(Kf(b));null!=m&&(k.key=m);return ZX(d,b,e,k,c)}
function iZ(a,b){return Uc(hi.j(function(c){return YX(b,c)},a))}
function jZ(a,b,c){null==b&&console.error("vec-to-elem",Gl.G(M([a])));var d=O(a,0,null);switch(d instanceof C?d.na:null){case "\x3e":return c=O(a,1,null),hZ(new cZ(c,null,null,null),a,2,b);case "r\x3e":c=O(a,1,null);d=O(a,2,null);d=r(d)?d:{};var e=LX(Kf(a));null!=e&&(d.key=e);return ZX(b,a,c,d,3);case "f\x3e":return eZ(O(a,1,null),a,2,b);case "\x3c\x3e":return d=O(a,1,null),c=null==d||Qf(d),d=XY(c?d:null),d=r(d)?d:{},c=1+(c?1:0),e=MX(a),null!=e&&(d.key=e),ZX(b,a,AX.Fragment,d,c);default:if(IX(d)||
"string"===typeof d)a:for(;;)switch(c=O(a,0,null),c=Xg(c),d=c.indexOf("\x3e"),d){case -1:d=VY(gZ,c);if(null==d){var f=J(ll(TY,Xg(c)));d=O(f,0,null);e=O(f,1,null);f=O(f,2,null);f=null==f?null:XC(f,/\./," ");var h=zh.j(-1,d.indexOf("-"));d=new cZ(d,e,f,h);c=gZ[c]=d}else c=d;a=hZ(c,a,1,b);break a;case 0:a=null;break a;default:a=Jf(new W(null,2,5,Y,[Mg.C(c,0,d),Q.C(Jf(a,null),0,Mg.j(c,d+1))],null),Kf(a))}else a=c.C?c.C(d,a,b):c.call(null,d,a,b);return a}}
var kZ=function(a){var b=Rl("G__"),c=r(Kp.B(a))?fZ:dZ;if("undefined"===typeof BX||"undefined"===typeof CX||"undefined"===typeof RY||"undefined"===typeof SY)SY=function(d,e,f,h){this.jb=d;this.id=e;this.xh=f;this.uj=h;this.J=393216;this.T=0},SY.prototype.ga=function(d,e){return new SY(this.jb,this.id,this.xh,e)},SY.prototype.fa=function(){return this.uj},SY.prototype.Kj=function(){return this.id},SY.prototype.Lh=function(d,e){d=this.xh;return"object"!==ra(e)?e:Tf(e)?jZ(e,this,d):Xf(e)?iZ(e,this):IX(e)?
Xg(e):(null!=e?e.J&2147483648||l===e.Ia||(e.J?0:Mc(Xd,e)):Mc(Xd,e))?Gl.G(M([e])):e},SY.prototype.Mh=function(d,e,f,h,k){return bZ(this,e,f,h,k)},SY.Ab=!0,SY.sb="reagent.impl.template/t_reagent$impl$template41309",SY.Eb=function(d){return Vd(d,"reagent.impl.template/t_reagent$impl$template41309")};return new SY(a,b,c,V)}(V);var lZ=zX(12);var mZ=$h(V);function nZ(a,b,c){var d=KX;KX=!0;try{return lZ.render(a.O?a.O():a.call(null),b,function(){var e=KX;KX=!1;try{return bi.P(mZ,Q,b,a),VX.flush_after_render(),null!=c?c.O?c.O():c.call(null):null}finally{KX=e}})}finally{KX=d}}function oZ(a){var b=document.getElementById("app");mY();var c=Hf(kZ)?new W(null,2,5,Y,[kZ,kZ],null):new W(null,2,5,Y,[kZ,Qq.B(kZ)],null),d=O(c,0,null);c=O(c,1,null);return nZ(function(){return YX(d,Hf(a)?a.O?a.O():a.call(null):a)},b,c)};var pZ=new q(null,3,[xC,new q(null,1,[dn,Lz],null),sy,new q(null,2,[qB,iA,Ku,Uy],null),uq,new q(null,2,[qB,iA,Ku,NB],null)],null),ZE,sb=YR?YR(pZ):ZR.call(null,pZ),tb=M([Dc,new q(null,1,[Iu,$h(V)],null)]),yb=null!=tb&&(tb.J&64||l===tb.ua)?uh(Gk,tb):tb,zb=B.j(yb,Dc),Ab=B.j(yb,St);ZE=new Zh(sb,zb,Ab);function vZ(a){return YW(new W(null,1,5,Y,[new W(null,2,5,Y,[vq,a],null)],null))};zD(xC,fp,function(a){return na(a)});zD(st,new Pk(null,new q(null,4,[Hq,"null",Bn,"null",jr,"null",Ws,"null"],null),null),new Pk(null,new q(null,4,[Hq,null,Bn,null,jr,null,Ws,null],null),null));
zD(pr,Qg(hw,Mx,new W(null,2,5,Y,[xC,st],null)),function wZ(a){var c=null!=a&&(a.J&64||l===a.ua)?uh(Gk,a):a,d=B.j(c,mC),e=B.j(c,ht),f=B.j(c,mp),h=B.j(c,xv),k=B.j(c,Jw),m=B.j(c,Zv),n=B.j(c,aB),p=B.j(c,Xx),u=B.j(c,Mx),v=B.j(c,JB),y=B.j(c,Dw),F=B.j(c,iv),G=Wk(T.j(v,n),T.j(p,y)),I=Dm();if("undefined"===typeof qc||"undefined"===typeof UC||"undefined"===typeof cD||"undefined"===typeof dD)dD=function(N,P,U,ea,fa,sa,Ba,Va,ma,pa,za,va,Ca,fb,sc,Db,ic,bc,ee){this.xf=N;this.Aj=P;this.Pj=U;this.Dj=ea;this.aj=fa;
this.Td=sa;this.Gj=Ba;this.yf=Va;this.$g=ma;this.Bj=pa;this.Ej=za;this.Oj=va;this.req=Ca;this.id=fb;this.Nj=sc;this.Cj=Db;this.Xi=ic;this.Hj=bc;this.mj=ee;this.J=393216;this.T=0},dD.prototype.ga=function(N,P){return new dD(this.xf,this.Aj,this.Pj,this.Dj,this.aj,this.Td,this.Gj,this.yf,this.$g,this.Bj,this.Ej,this.Oj,this.req,this.id,this.Nj,this.Cj,this.Xi,this.Hj,P)},dD.prototype.fa=function(){return this.mj},dD.prototype.sd=function(){return this},dD.prototype.td=function(){return this},dD.prototype.mf=
l,dD.prototype.Ce=function(N,P){if(r(this.yf.B?this.yf.B(P):this.yf.call(null,P))){N=z(jD);var U=E(P),ea=H(U);J(U);O(ea,0,null);O(ea,1,null);for(ea=U=P;;){P=U;var fa=ea;ea=E(fa);U=H(ea);var sa=J(ea);ea=U;U=O(ea,0,null);ea=O(ea,1,null);if(r(fa))if(fa=this.xf.B?this.xf.B(U):this.xf.call(null,U),fa=B.j(N,fa),r(fa)){var Ba=ea;fa=hD(xD.B(fa),Ba);if(S(bu,fa))return bu;P=fa===ea?P:Q.C(P,U,fa);ea=sa;U=P}else ea=sa,U=P;else return P}}else return bu},dD.prototype.De=function(N,P){N=Q.C(this.$g,xv,P);return wZ.B?
wZ.B(N):wZ.call(null,N)},dD.Ab=!0,dD.sb="cljs.spec.alpha/t_cljs$spec$alpha23813",dD.Eb=function(N){return Vd(N,"cljs.spec.alpha/t_cljs$spec$alpha23813")};return new dD(function(N){var P=G.B?G.B(N):G.call(null,N);return r(P)?P:N},d,e,f,c,h,k,m,c,n,a,p,u,I,v,y,G,F,V)}(nk([ht,mp,xv,Jw,Zv,aB,Xx,Mx,JB,Dw,iv,mC],[null,null,null,new W(null,3,5,Y,[function(a){return Qf(a)},function(a){return bg(a,xC)},function(a){return bg(a,st)}],null),function(a){return Qf(a)&&bg(a,xC)&&bg(a,st)},Cf,new W(null,2,5,Y,[xC,
st],null),new W(null,2,5,Y,[xC,st],null),new W(null,2,5,Y,[xC,st],null),Cf,new W(null,3,5,Y,[Qg(Sn,new W(null,1,5,Y,[Lt],null),Qg(os,Lt)),Qg(Sn,new W(null,1,5,Y,[Lt],null),Qg(zx,Lt,xC)),Qg(Sn,new W(null,1,5,Y,[Lt],null),Qg(zx,Lt,st))],null),null])));zD(Wv,Qg(vr,pr),FD(pr,pr,new q(null,4,[io,null,Fs,function(a){return Nf(a)},KC,!0,Uz,Qg(vr,pr)],null),null));var xZ=zX(13);var yZ=zX(66);var zZ=zX(67);zX(68);zX(73);var AZ=zX(74);var BZ=zX(86);var CZ=zX(134);var DZ=zX(157);var module$node_modules$ol$style=zX(236);var module$node_modules$ol$Map=zX(254);var EZ=zX(258);var FZ=zX(316);var GZ=zX(351);var HZ=function(a){return JI(Xg(a),LI({handlers:cm(Kk.G(M([new q(null,6,["$",function(b){return Le.B(b)},":",function(b){return Wg.B(b)},"set",function(b){return yi.j(Rk,b)},"list",function(b){return yi.j(Se,b.reverse())},"cmap",function(b){for(var c=0,d=ce(V);;)if(c<b.length){var e=c+2;d=mh.C(d,b[c],b[c+1]);c=e}else return ge(d)},"with-meta",function(b){return Jf(b[0],b[1])}],null),R.j(Nn.B(null),Am)]))),defaultHandler:Am.B(Nn.B(null)),mapBuilder:new MI,arrayBuilder:new NI,prefersStrings:!1}))}(Ys),
IZ=function(a){var b=new QI,c=new RI,d=new SI,e=new TI,f=Kk.G(M([nk([lk,Rg,q,dk,pj,Pe,C,Og,Yg,hj,oj,fk,Jk,VI,yj,W,Df,sf,Pk,Dk,Ik,fj,Sk,ch,A,Cm,cl,qk],[c,b,c,b,b,b,new OI,b,b,e,b,b,b,new WI,b,e,b,b,d,c,b,b,d,b,new PI,new UI,b,b]),"undefined"!==typeof qc&&"undefined"!==typeof rc&&"undefined"!==typeof Zl?Gf([Zl,b]):null,"undefined"!==typeof qc&&"undefined"!==typeof rc&&"undefined"!==typeof mi?Gf([mi,b]):null,"undefined"!==typeof qc&&"undefined"!==typeof rc&&"undefined"!==typeof X?Gf([X,e]):null,Nn.B(null)]));
return KI(Xg(a),LI({objectBuilder:function(h,k,m){return pg(function(n,p,u){n.push(k.B?k.B(p):k.call(null,p),m.B?m.B(u):m.call(null,u));return n},["^ "],h)},handlers:function(){var h=Yc(f);h.forEach=function(k){for(var m=E(this),n=null,p=0,u=0;;)if(u<p){var v=n.wa(null,u),y=O(v,0,null);v=O(v,1,null);D.j(Am,y)?k.j?k.j(v,"default"):k.call(null,v,"default"):k.j?k.j(v,y):k.call(null,v,y);u+=1}else if(m=E(m))Uf(m)?(n=me(m),m=ne(m),y=n,p=K(n),n=y):(n=H(m),y=O(n,0,null),v=O(n,1,null),D.j(Am,y)?k.j?k.j(v,
"default"):k.call(null,v,"default"):k.j?k.j(v,y):k.call(null,v,y),m=J(m),n=null,p=0),u=0;else return null};return h}(),unpack:function(h){return h instanceof q?h.K:!1}}))}(Ys);function NZ(a,b){return FY(new q(null,2,[Sw,a,dB,function(c){var d=lZ.findDOMNode(c);return b.j?b.j(c,d):b.call(null,c,d)}],null),kZ)}
function OZ(a){a=null!=a&&(a.J&64||l===a.ua)?uh(Gk,a):a;var b=B.j(a,Tx),c=B.j(a,rp),d=B.j(a,Ew),e=B.j(a,Ex),f=B.j(a,bz);return NZ(function(){return new W(null,1,5,Y,[gq],null)},function(h,k){h=zZ(k,{value:d,mode:e,lineNumbers:f});h.setSize(c,b);return h})}function PZ(a){a=null!=a&&(a.J&64||l===a.ua)?uh(Gk,a):a;var b=B.j(a,Vz);return NZ(function(){return new W(null,1,5,Y,[gq],null)},function(c,d){return yZ(d,cm(b))})}
function QZ(a){return new W(null,2,5,Y,[Yp,new q(null,1,[fy,new q(null,1,[Yz,xZ(Xz.B(a))],null)],null)],null)}function RZ(a){return new W(null,2,5,Y,[Lm,new q(null,1,[fy,new q(null,1,[Yz,Iz.B(a)],null)],null)],null)}
function SZ(a){var b=null!=a&&(a.J&64||l===a.ua)?uh(Gk,a):a;a=B.j(b,Es);var c=B.j(b,yB),d=B.j(b,Nm),e=B.j(b,or);return r(a)?(b=Kk.G(M([V,r(c)?new q(null,1,["dataProjection",c],null):null,r(d)?new q(null,1,["featureProjection",d],null):null])),a=(new EZ.default).readFeature(a,cm(b)),r(e)&&a.setStyle(new module$node_modules$ol$style.Style(cm(Kk.G(M([V,function(){var f=Ci(e,new W(null,2,5,Y,[kq,xy],null));return r(f)?new q(null,1,[ku,new module$node_modules$ol$style.Fill({color:BZ.asString(f)})],null):
null}(),function(){var f=Ci(e,new W(null,2,5,Y,[px,xy],null));return r(f)?new q(null,1,[Cy,new module$node_modules$ol$style.Stroke({color:BZ.asString(f)})],null):null}()]))))),a):null}
function TZ(a){a=null!=a&&(a.J&64||l===a.ua)?uh(Gk,a):a;var b=B.j(a,Or),c=B.j(a,$r),d=B.j(a,aA),e=B.j(a,du),f=B.j(a,jn),h=B.j(a,Xt);return new W(null,2,5,Y,[Kt,new q(null,2,[Mq,new q(null,1,[Nx,r(b)?b:"500px"],null),Fx,function(k){if(r(k)){var m=null==d?null:cm(d),n=r(e)?function(){var v=null==m?null:CZ.fromLonLat(m);console.log(["Center projection: ",YC(" ",d)," (WGS84) to ",t.B(v)," (EPSG:3857)"].join(""));return v}():m;n=r(n)?n:[0,0];var p=r(c)?new module$node_modules$ol$style.Style(cm(Kk.G(M([V,
function(){var v=Ci(c,new W(null,2,5,Y,[ku,Xv],null));return r(v)?new q(null,1,[ku,new module$node_modules$ol$style.Fill({color:BZ.asString(v)})],null):null}(),function(){var v=Ci(c,new W(null,2,5,Y,[Cy,Xv],null));return r(v)?new q(null,1,[Cy,new module$node_modules$ol$style.Stroke({color:BZ.asString(v)})],null):null}()])))):null,u=new FZ.Vector(cm(new q(null,1,["features",zi.j(SZ,h)],null)));p=new GZ.Vector(cm(Kk.G(M([new q(null,1,[Ln,u],null),r(p)?new q(null,1,[Mq,p],null):null]))));return new module$node_modules$ol$Map.default({target:k,
layers:[new GZ.Tile({source:new FZ.OSM}),p],view:new DZ.default({center:n,zoom:r(f)?f:4})})}return null}],null)],null)}
function UZ(a){return new W(null,2,5,Y,[ax,function(){return function d(c){return new Yg(null,function(){for(;;){var e=E(c);if(e){if(Uf(e)){var f=me(e),h=K(f),k=bh(h);a:for(var m=0;;)if(m<h){var n=x(f,m);n=new W(null,3,5,Y,[Lm,new q(null,1,[AB,xC.B(n)],null),new W(null,2,5,Y,[VZ,n],null)],null);k.add(n);m+=1}else{f=!0;break a}return f?dh(fh(k),d(ne(e))):dh(fh(k),null)}k=H(e);return uf(new W(null,3,5,Y,[Lm,new q(null,1,[AB,xC.B(k)],null),new W(null,2,5,Y,[VZ,k],null)],null),d(Re(e)))}return null}},
null,null)}(uq.B(a))}()],null)}
function WZ(a){return new W(null,2,5,Y,[xw,function(){return function d(c){return new Yg(null,function(){for(;;){var e=E(c);if(e){if(Uf(e)){var f=me(e),h=K(f),k=bh(h);a:for(var m=0;;)if(m<h){var n=x(f,m);n=new W(null,3,5,Y,[Lm,new q(null,1,[AB,xC.B(n)],null),new W(null,2,5,Y,[VZ,n],null)],null);k.add(n);m+=1}else{f=!0;break a}return f?dh(fh(k),d(ne(e))):dh(fh(k),null)}k=H(e);return uf(new W(null,3,5,Y,[Lm,new q(null,1,[AB,xC.B(k)],null),new W(null,2,5,Y,[VZ,k],null)],null),d(Re(e)))}return null}},
null,null)}(uq.B(a))}()],null)}
function VZ(a){var b=null!=a&&(a.J&64||l===a.ua)?uh(Gk,a):a,c=B.j(b,xC),d=B.j(b,st);b=function(){switch(d instanceof C?d.na:null){case "widget.type/html":return RZ;case "widget.type/row":return UZ;case "widget.type/column":return WZ;case "widget.type/vega-embed":return PZ;case "widget.type/codemirror":return OZ;case "widget.type/markdown":return QZ;case "widget.type/geoplot":return TZ;default:return new W(null,2,5,Y,[UA,new W(null,3,5,Y,[Xq,"Unknown Widget type ",new W(null,2,5,Y,[br,t.B(d)],null)],
null)],null)}}();console.log("Render",Xg(d));return Jf(new W(null,2,5,Y,[b,a],null),new q(null,1,[AB,c],null))}
function XZ(){return new W(null,2,5,Y,[Fv,new q(null,2,[Jq,"file",$m,function(a){a=H(a.target.files);if(null==a)return null;var b=new FileReader;console.log("Import...",a);b.onload=function(c){c=HZ.read(c.target.result);c=zi.j(function(d){return uh(fR,d)},c);return ZW(ZE,iS?iS(c,pZ):hS.call(null,c,pZ))};b.onerror=function(c){return console.log(c.target.error)};return b.readAsText(a)}],null)],null)}
function YZ(a){return new W(null,4,5,Y,[rt,new W(null,3,5,Y,[kB,new W(null,3,5,Y,[xu,new q(null,1,[Mq,new q(null,1,[zw,"Cinzel"],null)],null),"Literate"],null),new W(null,2,5,Y,[lr,new W(null,3,5,Y,[cv,new q(null,2,[Jz,"bg-gray-100 hover:bg-gray-300 active:bg-blue-600 rounded hover:shadow-md focus:outline-none transition duration-200 ease-in-out",fo,function(){var b=XI(IZ,hi.j(function(c){var d=null!=c&&(c.J&64||l===c.ua)?uh(Gk,c):c;c=B.j(d,dx);var e=B.j(d,hx);d=B.j(d,ox);return new W(null,3,5,Y,
[c,e,d],null)},OR(z(ZE),Iv,Cf)));return AZ.saveAs(new Blob([b],{type:"application/transit+json"}),"widgets.json")}],null),new W(null,3,5,Y,[Xq,new q(null,1,[Jz,"block text-sm text-gray-700 px-6 py-2"],null),"Export"],null)],null)],null)],null),E(a)?function(){return function d(c){return new Yg(null,function(){for(;;){var e=E(c);if(e){var f=e;if(Uf(f)){var h=me(f),k=K(h),m=bh(k);return function(){for(var y=0;;)if(y<k){var F=x(h,y),G=null!=F&&(F.J&64||l===F.ua)?uh(Gk,F):F,I=G,N=B.j(G,kg);eh(m,new W(null,
4,5,Y,[ko,new q(null,1,[AB,N],null),new W(null,3,5,Y,[mn,new q(null,1,[fo,function(P,U,ea,fa,sa){return function(){return vZ(sa)}}(y,F,G,I,N,h,k,m,f,e)],null),new W(null,1,5,Y,[lu],null)],null),new W(null,2,5,Y,[QA,VZ(I)],null)],null));y+=1}else return!0}()?dh(fh(m),d(ne(f))):dh(fh(m),null)}var n=H(f),p=null!=n&&(n.J&64||l===n.ua)?uh(Gk,n):n,u=p,v=B.j(p,kg);return uf(new W(null,4,5,Y,[ko,new q(null,1,[AB,v],null),new W(null,3,5,Y,[mn,new q(null,1,[fo,function(y,F,G,I){return function(){return vZ(I)}}(n,
p,u,v,f,e)],null),new W(null,1,5,Y,[lu],null)],null),new W(null,2,5,Y,[QA,VZ(u)],null)],null),d(Re(f)))}return null}},null,null)}(a)}():new W(null,2,5,Y,[iB,new W(null,1,5,Y,[XZ],null)],null),new W(null,2,5,Y,[hA,new W(null,3,5,Y,[Qy,new q(null,1,[fo,function(){return YW(new W(null,1,5,Y,[new q(null,6,[xC,t.B(Dm()),st,Bn,Ex,"clojure",Tx,"auto",bz,!1,Ew,function(){var b=new pc,c=wc,d=vc;wc=!0;vc=function(e){return b.append(e)};try{YE()}finally{vc=d,wc=c}return t.B(b)}()],null)],null))}],null),new W(null,
1,5,Y,[cz],null)],null)],null)],null)}function $Z(){var a=new W(null,7,5,Y,[Cr,new W(null,2,5,Y,[Qg(jx,sC,new W(null,2,5,Y,[Xs,new q(null,1,[uq,new W(null,1,5,Y,[jy],null)],null)],null)),Cv],null),iC,mq,Op,new W(null,2,5,Y,[sC,xC],null),new W(null,1,5,Y,[Qg(ms,mq,sC,sy)],null)],null);var b=z(ZE);a=$E.j?$E.j(a,b):$E.call(null,a,b);a=jg(a);return oZ(new W(null,2,5,Y,[YZ,a],null))}
function a_(){console.log("Welcome to Literate",r(!1)?"(Dev build)":"");aX(function(){console.log("Will re-render...");return $Z()});return $Z()}oa("literate.app.init",a_);try{a_()}catch(a){throw console.error("An error occurred when calling (literate.app/init)"),a;};
}).call(this);