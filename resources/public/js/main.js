var shadow$provide = {};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};
$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&($jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+e,e=
$jscomp.propertyToPolyfillSymbol[e],$jscomp.defineProperty(d,e,{configurable:!0,writable:!0,value:b})))};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};
$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};
$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};
$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};
$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var c=a.next();$jscomp.generator.ensureIteratorResultIsObject_(c);if(c.done)this.yieldResult=c.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(c.value,b)};$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};
$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(c){return{value:c,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var d=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(d);if(!d.done)return this.context_.stop_(),d;var e=d.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&a.prototype&&$jscomp.setPrototypeOf(b,a.prototype);return b};
$jscomp.asyncExecutePromiseGenerator=function(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
(function(){
shadow$provide[0]=function(Ia,E,ub,J){var h=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;ub.exports=function(){try{if(!Object.assign)return!1;var I=new String("abc");I[5]="de";if("5"===Object.getOwnPropertyNames(I)[0])return!1;var R={};for(I=0;10>I;I++)R["_"+String.fromCharCode(I)]=I;if("0123456789"!==Object.getOwnPropertyNames(R).map(function(y){return R[y]}).join(""))return!1;var A={};"abcdefghijklmnopqrst".split("").forEach(function(y){A[y]=
y});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},A)).join("")?!1:!0}catch(y){return!1}}()?Object.assign:function(I,R){if(null===I||void 0===I)throw new TypeError("Object.assign cannot be called with null or undefined");var A=Object(I);for(var y,w=1;w<arguments.length;w++){var p=Object(arguments[w]);for(var l in p)n.call(p,l)&&(A[l]=p[l]);if(h){y=h(p);for(var d=0;d<y.length;d++)x.call(p,y[d])&&(A[y[d]]=p[y[d]])}}return A}};
shadow$provide[1]=function(Ia,E,ub,J){function h(pa){for(var sa="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+pa,Ea=1;Ea<arguments.length;Ea++)sa+="\x26args[]\x3d"+encodeURIComponent(arguments[Ea]);return"Minified React error #"+pa+"; visit "+sa+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(pa,sa,Ea){this.props=pa;this.context=sa;this.refs=qa;this.updater=Ea||na}function x(){}function I(pa,sa,Ea){this.props=
pa;this.context=sa;this.refs=qa;this.updater=Ea||na}function R(pa,sa,Ea){var ab,ib={},wa=null,Wa=null;if(null!=sa)for(ab in void 0!==sa.ref&&(Wa=sa.ref),void 0!==sa.key&&(wa=""+sa.key),sa)U.call(sa,ab)&&!z.hasOwnProperty(ab)&&(ib[ab]=sa[ab]);var Xa=arguments.length-2;if(1===Xa)ib.children=Ea;else if(1<Xa){for(var Ga=Array(Xa),ya=0;ya<Xa;ya++)Ga[ya]=arguments[ya+2];ib.children=Ga}if(pa&&pa.defaultProps)for(ab in Xa=pa.defaultProps,Xa)void 0===ib[ab]&&(ib[ab]=Xa[ab]);return{$$typeof:P,type:pa,key:wa,
ref:Wa,props:ib,_owner:ka.current}}function A(pa,sa){return{$$typeof:P,type:pa.type,key:sa,ref:pa.ref,props:pa.props,_owner:pa._owner}}function y(pa){return"object"===typeof pa&&null!==pa&&pa.$$typeof===P}function w(pa){var sa={"\x3d":"\x3d0",":":"\x3d2"};return"$"+(""+pa).replace(/[=:]/g,function(Ea){return sa[Ea]})}function p(pa,sa,Ea,ab){if(da.length){var ib=da.pop();ib.result=pa;ib.keyPrefix=sa;ib.func=Ea;ib.context=ab;ib.count=0;return ib}return{result:pa,keyPrefix:sa,func:Ea,context:ab,count:0}}
function l(pa){pa.result=null;pa.keyPrefix=null;pa.func=null;pa.context=null;pa.count=0;10>da.length&&da.push(pa)}function d(pa,sa,Ea,ab){var ib=typeof pa;if("undefined"===ib||"boolean"===ib)pa=null;var wa=!1;if(null===pa)wa=!0;else switch(ib){case "string":case "number":wa=!0;break;case "object":switch(pa.$$typeof){case P:case G:wa=!0}}if(wa)return Ea(ab,pa,""===sa?"."+b(pa,0):sa),1;wa=0;sa=""===sa?".":sa+":";if(Array.isArray(pa))for(var Wa=0;Wa<pa.length;Wa++){ib=pa[Wa];var Xa=sa+b(ib,Wa);wa+=d(ib,
Xa,Ea,ab)}else if(null===pa||"object"!==typeof pa?Xa=null:(Xa=ha&&pa[ha]||pa["@@iterator"],Xa="function"===typeof Xa?Xa:null),"function"===typeof Xa)for(pa=Xa.call(pa),Wa=0;!(ib=pa.next()).done;)ib=ib.value,Xa=sa+b(ib,Wa++),wa+=d(ib,Xa,Ea,ab);else if("object"===ib)throw Ea=""+pa,Error(h(31,"[object Object]"===Ea?"object with keys {"+Object.keys(pa).join(", ")+"}":Ea,""));return wa}function k(pa,sa,Ea){return null==pa?0:d(pa,"",sa,Ea)}function b(pa,sa){return"object"===typeof pa&&null!==pa&&null!=
pa.key?w(pa.key):sa.toString(36)}function f(pa,sa){pa.func.call(pa.context,sa,pa.count++)}function r(pa,sa,Ea){var ab=pa.result,ib=pa.keyPrefix;pa=pa.func.call(pa.context,sa,pa.count++);Array.isArray(pa)?C(pa,ab,Ea,function(wa){return wa}):null!=pa&&(y(pa)&&(pa=A(pa,ib+(!pa.key||sa&&sa.key===pa.key?"":(""+pa.key).replace(T,"$\x26/")+"/")+Ea)),ab.push(pa))}function C(pa,sa,Ea,ab,ib){var wa="";null!=Ea&&(wa=(""+Ea).replace(T,"$\x26/")+"/");sa=p(sa,wa,ab,ib);k(pa,r,sa);l(sa)}function D(){var pa=aa.current;
if(null===pa)throw Error(h(321));return pa}var F=E(0),S="function"===typeof Symbol&&Symbol.for,P=S?Symbol.for("react.element"):60103,G=S?Symbol.for("react.portal"):60106;Ia=S?Symbol.for("react.fragment"):60107;E=S?Symbol.for("react.strict_mode"):60108;ub=S?Symbol.for("react.profiler"):60114;var B=S?Symbol.for("react.provider"):60109,H=S?Symbol.for("react.context"):60110,M=S?Symbol.for("react.forward_ref"):60112,V=S?Symbol.for("react.suspense"):60113,Y=S?Symbol.for("react.memo"):60115,ia=S?Symbol.for("react.lazy"):
60116,ha="function"===typeof Symbol&&Symbol.iterator,na={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qa={};n.prototype.isReactComponent={};n.prototype.setState=function(pa,sa){if("object"!==typeof pa&&"function"!==typeof pa&&null!=pa)throw Error(h(85));this.updater.enqueueSetState(this,pa,sa,"setState")};n.prototype.forceUpdate=function(pa){this.updater.enqueueForceUpdate(this,pa,"forceUpdate")};x.prototype=n.prototype;
S=I.prototype=new x;S.constructor=I;F(S,n.prototype);S.isPureReactComponent=!0;var ka={current:null},U=Object.prototype.hasOwnProperty,z={key:!0,ref:!0,__self:!0,__source:!0},T=/\/+/g,da=[],aa={current:null};S={ReactCurrentDispatcher:aa,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:ka,IsSomeRendererActing:{current:!1},assign:F};J.Children={map:function(pa,sa,Ea){if(null==pa)return pa;var ab=[];C(pa,ab,null,sa,Ea);return ab},forEach:function(pa,sa,Ea){if(null==pa)return pa;sa=p(null,null,
sa,Ea);k(pa,f,sa);l(sa)},count:function(pa){return k(pa,function(){return null},null)},toArray:function(pa){var sa=[];C(pa,sa,null,function(Ea){return Ea});return sa},only:function(pa){if(!y(pa))throw Error(h(143));return pa}};J.Component=n;J.Fragment=Ia;J.Profiler=ub;J.PureComponent=I;J.StrictMode=E;J.Suspense=V;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S;J.cloneElement=function(pa,sa,Ea){if(null===pa||void 0===pa)throw Error(h(267,pa));var ab=F({},pa.props),ib=pa.key,wa=pa.ref,Wa=pa._owner;
if(null!=sa){void 0!==sa.ref&&(wa=sa.ref,Wa=ka.current);void 0!==sa.key&&(ib=""+sa.key);if(pa.type&&pa.type.defaultProps)var Xa=pa.type.defaultProps;for(Ga in sa)U.call(sa,Ga)&&!z.hasOwnProperty(Ga)&&(ab[Ga]=void 0===sa[Ga]&&void 0!==Xa?Xa[Ga]:sa[Ga])}var Ga=arguments.length-2;if(1===Ga)ab.children=Ea;else if(1<Ga){Xa=Array(Ga);for(var ya=0;ya<Ga;ya++)Xa[ya]=arguments[ya+2];ab.children=Xa}return{$$typeof:P,type:pa.type,key:ib,ref:wa,props:ab,_owner:Wa}};J.createContext=function(pa,sa){void 0===sa&&
(sa=null);pa={$$typeof:H,_calculateChangedBits:sa,_currentValue:pa,_currentValue2:pa,_threadCount:0,Provider:null,Consumer:null};pa.Provider={$$typeof:B,_context:pa};return pa.Consumer=pa};J.createElement=R;J.createFactory=function(pa){var sa=R.bind(null,pa);sa.type=pa;return sa};J.createRef=function(){return{current:null}};J.forwardRef=function(pa){return{$$typeof:M,render:pa}};J.isValidElement=y;J.lazy=function(pa){return{$$typeof:ia,_ctor:pa,_status:-1,_result:null}};J.memo=function(pa,sa){return{$$typeof:Y,
type:pa,compare:void 0===sa?null:sa}};J.useCallback=function(pa,sa){return D().useCallback(pa,sa)};J.useContext=function(pa,sa){return D().useContext(pa,sa)};J.useDebugValue=function(){};J.useEffect=function(pa,sa){return D().useEffect(pa,sa)};J.useImperativeHandle=function(pa,sa,Ea){return D().useImperativeHandle(pa,sa,Ea)};J.useLayoutEffect=function(pa,sa){return D().useLayoutEffect(pa,sa)};J.useMemo=function(pa,sa){return D().useMemo(pa,sa)};J.useReducer=function(pa,sa,Ea){return D().useReducer(pa,
sa,Ea)};J.useRef=function(pa){return D().useRef(pa)};J.useState=function(pa){return D().useState(pa)};J.version="16.13.1"};
shadow$provide[5]=function(Ia,E,ub,J){ub.exports=E(1)};
shadow$provide[6]=function(Ia,E,ub,J){function h(aa,pa){var sa=aa.length;aa.push(pa);a:for(;;){var Ea=sa-1>>>1,ab=aa[Ea];if(void 0!==ab&&0<I(ab,pa))aa[Ea]=pa,aa[sa]=ab,sa=Ea;else break a}}function n(aa){aa=aa[0];return void 0===aa?null:aa}function x(aa){var pa=aa[0];if(void 0!==pa){var sa=aa.pop();if(sa!==pa){aa[0]=sa;var Ea=0,ab=aa.length;a:for(;Ea<ab;){var ib=2*(Ea+1)-1,wa=aa[ib],Wa=ib+1,Xa=aa[Wa];if(void 0!==wa&&0>I(wa,sa))void 0!==Xa&&0>I(Xa,wa)?(aa[Ea]=Xa,aa[Wa]=sa,Ea=Wa):(aa[Ea]=wa,aa[ib]=sa,
Ea=ib);else if(void 0!==Xa&&0>I(Xa,sa))aa[Ea]=Xa,aa[Wa]=sa,Ea=Wa;else break a}}return pa}return null}function I(aa,pa){var sa=aa.sortIndex-pa.sortIndex;return 0!==sa?sa:aa.id-pa.id}function R(aa){for(var pa=n(na);null!==pa;){if(null===pa.callback)x(na);else if(pa.startTime<=aa)x(na),pa.sortIndex=pa.expirationTime,h(ha,pa);else break;pa=n(na)}}function A(aa){da=!1;R(aa);if(!T)if(null!==n(ha))T=!0,b(y);else{var pa=n(na);null!==pa&&f(A,pa.startTime-aa)}}function y(aa,pa){T=!1;da&&(da=!1,r());z=!0;var sa=
U;try{R(pa);for(ka=n(ha);null!==ka&&(!(ka.expirationTime>pa)||aa&&!C());){var Ea=ka.callback;if(null!==Ea){ka.callback=null;U=ka.priorityLevel;var ab=Ea(ka.expirationTime<=pa);pa=J.unstable_now();"function"===typeof ab?ka.callback=ab:ka===n(ha)&&x(ha);R(pa)}else x(ha);ka=n(ha)}if(null!==ka)var ib=!0;else{var wa=n(na);null!==wa&&f(A,wa.startTime-pa);ib=!1}return ib}finally{ka=null,U=sa,z=!1}}function w(aa){switch(aa){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1E4;default:return 5E3}}
if("undefined"===typeof window||"function"!==typeof MessageChannel){var p=null,l=null,d=function(){if(null!==p)try{var aa=J.unstable_now();p(!0,aa);p=null}catch(pa){throw setTimeout(d,0),pa;}},k=Date.now();J.unstable_now=function(){return Date.now()-k};var b=function(aa){null!==p?setTimeout(b,0,aa):(p=aa,setTimeout(d,0))};var f=function(aa,pa){l=setTimeout(aa,pa)};var r=function(){clearTimeout(l)};var C=function(){return!1};Ia=J.unstable_forceFrameRate=function(){}}else{var D=window.performance,F=
window.Date,S=window.setTimeout,P=window.clearTimeout;"undefined"!==typeof console&&(Ia=window.cancelAnimationFrame,"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof Ia&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));if("object"===
typeof D&&"function"===typeof D.now)J.unstable_now=function(){return D.now()};else{var G=F.now();J.unstable_now=function(){return F.now()-G}}var B=!1,H=null,M=-1,V=5,Y=0;C=function(){return J.unstable_now()>=Y};Ia=function(){};J.unstable_forceFrameRate=function(aa){0>aa||125<aa?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):V=0<aa?Math.floor(1E3/aa):5};E=new MessageChannel;var ia=E.port2;E.port1.onmessage=function(){if(null!==
H){var aa=J.unstable_now();Y=aa+V;try{H(!0,aa)?ia.postMessage(null):(B=!1,H=null)}catch(pa){throw ia.postMessage(null),pa;}}else B=!1};b=function(aa){H=aa;B||(B=!0,ia.postMessage(null))};f=function(aa,pa){M=S(function(){aa(J.unstable_now())},pa)};r=function(){P(M);M=-1}}var ha=[],na=[],qa=1,ka=null,U=3,z=!1,T=!1,da=!1;J.unstable_IdlePriority=5;J.unstable_ImmediatePriority=1;J.unstable_LowPriority=4;J.unstable_NormalPriority=3;J.unstable_Profiling=null;J.unstable_UserBlockingPriority=2;J.unstable_cancelCallback=
function(aa){aa.callback=null};J.unstable_continueExecution=function(){T||z||(T=!0,b(y))};J.unstable_getCurrentPriorityLevel=function(){return U};J.unstable_getFirstCallbackNode=function(){return n(ha)};J.unstable_next=function(aa){switch(U){case 1:case 2:case 3:var pa=3;break;default:pa=U}var sa=U;U=pa;try{return aa()}finally{U=sa}};J.unstable_pauseExecution=function(){};J.unstable_requestPaint=Ia;J.unstable_runWithPriority=function(aa,pa){switch(aa){case 1:case 2:case 3:case 4:case 5:break;default:aa=
3}var sa=U;U=aa;try{return pa()}finally{U=sa}};J.unstable_scheduleCallback=function(aa,pa,sa){var Ea=J.unstable_now();if("object"===typeof sa&&null!==sa){var ab=sa.delay;ab="number"===typeof ab&&0<ab?Ea+ab:Ea;sa="number"===typeof sa.timeout?sa.timeout:w(aa)}else sa=w(aa),ab=Ea;sa=ab+sa;aa={id:qa++,callback:pa,priorityLevel:aa,startTime:ab,expirationTime:sa,sortIndex:-1};ab>Ea?(aa.sortIndex=ab,h(na,aa),null===n(ha)&&aa===n(na)&&(da?r():da=!0,f(A,ab-Ea))):(aa.sortIndex=sa,h(ha,aa),T||z||(T=!0,b(y)));
return aa};J.unstable_shouldYield=function(){var aa=J.unstable_now();R(aa);var pa=n(ha);return pa!==ka&&null!==ka&&null!==pa&&null!==pa.callback&&pa.startTime<=aa&&pa.expirationTime<ka.expirationTime||C()};J.unstable_wrapCallback=function(aa){var pa=U;return function(){var sa=U;U=pa;try{return aa.apply(this,arguments)}finally{U=sa}}}};
shadow$provide[8]=function(Ia,E,ub,J){ub.exports=E(6)};
shadow$provide[9]=function(Ia,E,ub,J){function h(t){for(var K="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+t,ma=1;ma<arguments.length;ma++)K+="\x26args[]\x3d"+encodeURIComponent(arguments[ma]);return"Minified React error #"+t+"; visit "+K+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(t,K,ma,Sa,lb,Kb,Wb,uc,sd){var nd=Array.prototype.slice.call(arguments,3);try{K.apply(ma,nd)}catch(fe){this.onError(fe)}}function x(t,
K,ma,Sa,lb,Kb,Wb,uc,sd){ag=!1;Oi=null;n.apply(Sj,arguments)}function I(t,K,ma,Sa,lb,Kb,Wb,uc,sd){x.apply(this,arguments);if(ag){if(ag){var nd=Oi;ag=!1;Oi=null}else throw Error(h(198));Dh||(Dh=!0,gj=nd)}}function R(t,K,ma){var Sa=t.type||"unknown-event";t.currentTarget=hi(ma);I(Sa,K,void 0,t);t.currentTarget=null}function A(){if(hj)for(var t in ii){var K=ii[t],ma=hj.indexOf(t);if(!(-1<ma))throw Error(h(96,t));if(!ij[ma]){if(!K.extractEvents)throw Error(h(97,t));ij[ma]=K;ma=K.eventTypes;for(var Sa in ma){var lb=
void 0,Kb=ma[Sa],Wb=K,uc=Sa;if(Bj.hasOwnProperty(uc))throw Error(h(99,uc));Bj[uc]=Kb;var sd=Kb.phasedRegistrationNames;if(sd){for(lb in sd)sd.hasOwnProperty(lb)&&y(sd[lb],Wb,uc);lb=!0}else Kb.registrationName?(y(Kb.registrationName,Wb,uc),lb=!0):lb=!1;if(!lb)throw Error(h(98,Sa,t));}}}}function y(t,K,ma){if(ui[t])throw Error(h(100,t));ui[t]=K;ji[t]=K.eventTypes[ma].dependencies}function w(t){var K=!1,ma;for(ma in t)if(t.hasOwnProperty(ma)){var Sa=t[ma];if(!ii.hasOwnProperty(ma)||ii[ma]!==Sa){if(ii[ma])throw Error(h(102,
ma));ii[ma]=Sa;K=!0}}K&&A()}function p(t){if(t=Pi(t)){if("function"!==typeof Qi)throw Error(h(280));var K=t.stateNode;K&&(K=jj(K),Qi(t.stateNode,t.type,K))}}function l(t){vi?xg?xg.push(t):xg=[t]:vi=t}function d(){if(vi){var t=vi,K=xg;xg=vi=null;p(t);if(K)for(t=0;t<K.length;t++)p(K[t])}}function k(t,K){return t(K)}function b(t,K,ma,Sa,lb){return t(K,ma,Sa,lb)}function f(){}function r(){if(null!==vi||null!==xg)f(),d()}function C(t,K,ma){if(Ri)return t(K,ma);Ri=!0;try{return Th(t,K,ma)}finally{Ri=!1,
r()}}function D(t){if(kj.call(Jf,t))return!0;if(kj.call(Df,t))return!1;if(hh.test(t))return Jf[t]=!0;Df[t]=!0;return!1}function F(t,K,ma,Sa){if(null!==ma&&0===ma.type)return!1;switch(typeof K){case "function":case "symbol":return!0;case "boolean":if(Sa)return!1;if(null!==ma)return!ma.acceptsBooleans;t=t.toLowerCase().slice(0,5);return"data-"!==t&&"aria-"!==t;default:return!1}}function S(t,K,ma,Sa){if(null===K||"undefined"===typeof K||F(t,K,ma,Sa))return!0;if(Sa)return!1;if(null!==ma)switch(ma.type){case 3:return!K;
case 4:return!1===K;case 5:return isNaN(K);case 6:return isNaN(K)||1>K}return!1}function P(t,K,ma,Sa,lb,Kb){this.acceptsBooleans=2===K||3===K||4===K;this.attributeName=Sa;this.attributeNamespace=lb;this.mustUseProperty=ma;this.propertyName=t;this.type=K;this.sanitizeURL=Kb}function G(t){return t[1].toUpperCase()}function B(t,K,ma,Sa){var lb=Nf.hasOwnProperty(K)?Nf[K]:null;(null!==lb?0===lb.type:Sa?0:2<K.length&&("o"===K[0]||"O"===K[0])&&("n"===K[1]||"N"===K[1]))||(S(K,ma,lb,Sa)&&(ma=null),Sa||null===
lb?D(K)&&(null===ma?t.removeAttribute(K):t.setAttribute(K,""+ma)):lb.mustUseProperty?t[lb.propertyName]=null===ma?3===lb.type?!1:"":ma:(K=lb.attributeName,Sa=lb.attributeNamespace,null===ma?t.removeAttribute(K):(lb=lb.type,ma=3===lb||4===lb&&!0===ma?"":""+ma,Sa?t.setAttributeNS(Sa,K,ma):t.setAttribute(K,ma))))}function H(t){if(null===t||"object"!==typeof t)return null;t=zf&&t[zf]||t["@@iterator"];return"function"===typeof t?t:null}function M(t){if(-1===t._status){t._status=0;var K=t._ctor;K=K();t._result=
K;K.then(function(ma){0===t._status&&(ma=ma.default,t._status=1,t._result=ma)},function(ma){0===t._status&&(t._status=2,t._result=ma)})}}function V(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case ih:return"Fragment";case ki:return"Portal";case Uh:return"Profiler";case wi:return"StrictMode";case Si:return"Suspense";case xi:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case Tj:return"Context.Consumer";
case eh:return"Context.Provider";case Eh:var K=t.render;K=K.displayName||K.name||"";return t.displayName||(""!==K?"ForwardRef("+K+")":"ForwardRef");case fh:return V(t.type);case yi:return V(t.render);case zi:if(t=1===t._status?t._result:null)return V(t)}return null}function Y(t){var K="";do{a:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var ma="";break a;default:var Sa=t._debugOwner,lb=t._debugSource,Kb=V(t.type);ma=null;Sa&&(ma=V(Sa.type));Sa=Kb;Kb="";lb?Kb=" (at "+lb.fileName.replace(Tg,
"")+":"+lb.lineNumber+")":ma&&(Kb=" (created by "+ma+")");ma="\n    in "+(Sa||"Unknown")+Kb}K+=ma;t=t.return}while(t);return K}function ia(t){switch(typeof t){case "boolean":case "number":case "object":case "string":case "undefined":return t;default:return""}}function ha(t){var K=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===K||"radio"===K)}function na(t){var K=ha(t)?"checked":"value",ma=Object.getOwnPropertyDescriptor(t.constructor.prototype,K),Sa=""+t[K];if(!t.hasOwnProperty(K)&&
"undefined"!==typeof ma&&"function"===typeof ma.get&&"function"===typeof ma.set){var lb=ma.get,Kb=ma.set;Object.defineProperty(t,K,{configurable:!0,get:function(){return lb.call(this)},set:function(Wb){Sa=""+Wb;Kb.call(this,Wb)}});Object.defineProperty(t,K,{enumerable:ma.enumerable});return{getValue:function(){return Sa},setValue:function(Wb){Sa=""+Wb},stopTracking:function(){t._valueTracker=null;delete t[K]}}}}function qa(t){t._valueTracker||(t._valueTracker=na(t))}function ka(t){if(!t)return!1;
var K=t._valueTracker;if(!K)return!0;var ma=K.getValue(),Sa="";t&&(Sa=ha(t)?t.checked?"true":"false":t.value);t=Sa;return t!==ma?(K.setValue(t),!0):!1}function U(t,K){var ma=K.checked;return Ig({},K,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=ma?ma:t._wrapperState.initialChecked})}function z(t,K){var ma=null==K.defaultValue?"":K.defaultValue,Sa=null!=K.checked?K.checked:K.defaultChecked;ma=ia(null!=K.value?K.value:ma);t._wrapperState={initialChecked:Sa,initialValue:ma,controlled:"checkbox"===
K.type||"radio"===K.type?null!=K.checked:null!=K.value}}function T(t,K){K=K.checked;null!=K&&B(t,"checked",K,!1)}function da(t,K){T(t,K);var ma=ia(K.value),Sa=K.type;if(null!=ma)if("number"===Sa){if(0===ma&&""===t.value||t.value!=ma)t.value=""+ma}else t.value!==""+ma&&(t.value=""+ma);else if("submit"===Sa||"reset"===Sa){t.removeAttribute("value");return}K.hasOwnProperty("value")?pa(t,K.type,ma):K.hasOwnProperty("defaultValue")&&pa(t,K.type,ia(K.defaultValue));null==K.checked&&null!=K.defaultChecked&&
(t.defaultChecked=!!K.defaultChecked)}function aa(t,K,ma){if(K.hasOwnProperty("value")||K.hasOwnProperty("defaultValue")){var Sa=K.type;if(!("submit"!==Sa&&"reset"!==Sa||void 0!==K.value&&null!==K.value))return;K=""+t._wrapperState.initialValue;ma||K===t.value||(t.value=K);t.defaultValue=K}ma=t.name;""!==ma&&(t.name="");t.defaultChecked=!!t._wrapperState.initialChecked;""!==ma&&(t.name=ma)}function pa(t,K,ma){if("number"!==K||t.ownerDocument.activeElement!==t)null==ma?t.defaultValue=""+t._wrapperState.initialValue:
t.defaultValue!==""+ma&&(t.defaultValue=""+ma)}function sa(t){var K="";lj.Children.forEach(t,function(ma){null!=ma&&(K+=ma)});return K}function Ea(t,K){t=Ig({children:void 0},K);if(K=sa(K.children))t.children=K;return t}function ab(t,K,ma,Sa){t=t.options;if(K){K={};for(var lb=0;lb<ma.length;lb++)K["$"+ma[lb]]=!0;for(ma=0;ma<t.length;ma++)lb=K.hasOwnProperty("$"+t[ma].value),t[ma].selected!==lb&&(t[ma].selected=lb),lb&&Sa&&(t[ma].defaultSelected=!0)}else{ma=""+ia(ma);K=null;for(lb=0;lb<t.length;lb++){if(t[lb].value===
ma){t[lb].selected=!0;Sa&&(t[lb].defaultSelected=!0);return}null!==K||t[lb].disabled||(K=t[lb])}null!==K&&(K.selected=!0)}}function ib(t,K){if(null!=K.dangerouslySetInnerHTML)throw Error(h(91));return Ig({},K,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function wa(t,K){var ma=K.value;if(null==ma){ma=K.children;K=K.defaultValue;if(null!=ma){if(null!=K)throw Error(h(92));if(Array.isArray(ma)){if(!(1>=ma.length))throw Error(h(93));ma=ma[0]}K=ma}null==K&&(K="");ma=K}t._wrapperState=
{initialValue:ia(ma)}}function Wa(t,K){var ma=ia(K.value),Sa=ia(K.defaultValue);null!=ma&&(ma=""+ma,ma!==t.value&&(t.value=ma),null==K.defaultValue&&t.defaultValue!==ma&&(t.defaultValue=ma));null!=Sa&&(t.defaultValue=""+Sa)}function Xa(t){var K=t.textContent;K===t._wrapperState.initialValue&&""!==K&&null!==K&&(t.value=K)}function Ga(t){switch(t){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ya(t,
K){return null==t||"http://www.w3.org/1999/xhtml"===t?Ga(K):"http://www.w3.org/2000/svg"===t&&"foreignObject"===K?"http://www.w3.org/1999/xhtml":t}function X(t,K){if(K){var ma=t.firstChild;if(ma&&ma===t.lastChild&&3===ma.nodeType){ma.nodeValue=K;return}}t.textContent=K}function Z(t,K){var ma={};ma[t.toLowerCase()]=K.toLowerCase();ma["Webkit"+t]="webkit"+K;ma["Moz"+t]="moz"+K;return ma}function ea(t){if(li[t])return li[t];if(!Vf[t])return t;var K=Vf[t],ma;for(ma in K)if(K.hasOwnProperty(ma)&&ma in
mj)return li[t]=K[ma];return t}function fa(t){var K=Re.get(t);void 0===K&&(K=new Map,Re.set(t,K));return K}function xa(t){var K=t,ma=t;if(t.alternate)for(;K.return;)K=K.return;else{t=K;do K=t,0!==(K.effectTag&1026)&&(ma=K.return),t=K.return;while(t)}return 3===K.tag?ma:null}function va(t){if(13===t.tag){var K=t.memoizedState;null===K&&(t=t.alternate,null!==t&&(K=t.memoizedState));if(null!==K)return K.dehydrated}return null}function Fa(t){if(xa(t)!==t)throw Error(h(188));}function ra(t){var K=t.alternate;
if(!K){K=xa(t);if(null===K)throw Error(h(188));return K!==t?null:t}for(var ma=t,Sa=K;;){var lb=ma.return;if(null===lb)break;var Kb=lb.alternate;if(null===Kb){Sa=lb.return;if(null!==Sa){ma=Sa;continue}break}if(lb.child===Kb.child){for(Kb=lb.child;Kb;){if(Kb===ma)return Fa(lb),t;if(Kb===Sa)return Fa(lb),K;Kb=Kb.sibling}throw Error(h(188));}if(ma.return!==Sa.return)ma=lb,Sa=Kb;else{for(var Wb=!1,uc=lb.child;uc;){if(uc===ma){Wb=!0;ma=lb;Sa=Kb;break}if(uc===Sa){Wb=!0;Sa=lb;ma=Kb;break}uc=uc.sibling}if(!Wb){for(uc=
Kb.child;uc;){if(uc===ma){Wb=!0;ma=Kb;Sa=lb;break}if(uc===Sa){Wb=!0;Sa=Kb;ma=lb;break}uc=uc.sibling}if(!Wb)throw Error(h(189));}}if(ma.alternate!==Sa)throw Error(h(190));}if(3!==ma.tag)throw Error(h(188));return ma.stateNode.current===ma?t:K}function Ua(t){t=ra(t);if(!t)return null;for(var K=t;;){if(5===K.tag||6===K.tag)return K;if(K.child)K.child.return=K,K=K.child;else{if(K===t)break;for(;!K.sibling;){if(!K.return||K.return===t)return null;K=K.return}K.sibling.return=K.return;K=K.sibling}}return null}
function hb(t,K){if(null==K)throw Error(h(30));if(null==t)return K;if(Array.isArray(t)){if(Array.isArray(K))return t.push.apply(t,K),t;t.push(K);return t}return Array.isArray(K)?[t].concat(K):[t,K]}function cb(t,K,ma){Array.isArray(t)?t.forEach(K,ma):t&&K.call(ma,t)}function Ka(t){if(t){var K=t._dispatchListeners,ma=t._dispatchInstances;if(Array.isArray(K))for(var Sa=0;Sa<K.length&&!t.isPropagationStopped();Sa++)R(t,K[Sa],ma[Sa]);else K&&R(t,K,ma);t._dispatchListeners=null;t._dispatchInstances=null;
t.isPersistent()||t.constructor.release(t)}}function La(t){null!==t&&(Ai=hb(Ai,t));t=Ai;Ai=null;if(t){cb(t,Ka);if(Ai)throw Error(h(95));if(Dh)throw t=gj,Dh=!1,gj=null,t;}}function ta(t){t=t.target||t.srcElement||window;t.correspondingUseElement&&(t=t.correspondingUseElement);return 3===t.nodeType?t.parentNode:t}function Ma(t){if(!Fh)return!1;t="on"+t;var K=t in document;K||(K=document.createElement("div"),K.setAttribute(t,"return;"),K="function"===typeof K[t]);return K}function Ya(t){t.topLevelType=
null;t.nativeEvent=null;t.targetInst=null;t.ancestors.length=0;10>Bi.length&&Bi.push(t)}function nb(t,K,ma,Sa){if(Bi.length){var lb=Bi.pop();lb.topLevelType=t;lb.eventSystemFlags=Sa;lb.nativeEvent=K;lb.targetInst=ma;return lb}return{topLevelType:t,eventSystemFlags:Sa,nativeEvent:K,targetInst:ma,ancestors:[]}}function Hb(t){var K=t.targetInst,ma=K;do{if(!ma){t.ancestors.push(ma);break}var Sa=ma;if(3===Sa.tag)Sa=Sa.stateNode.containerInfo;else{for(;Sa.return;)Sa=Sa.return;Sa=3!==Sa.tag?null:Sa.stateNode.containerInfo}if(!Sa)break;
K=ma.tag;5!==K&&6!==K||t.ancestors.push(ma);ma=Cb(Sa)}while(ma);for(ma=0;ma<t.ancestors.length;ma++){K=t.ancestors[ma];var lb=ta(t.nativeEvent);Sa=t.topLevelType;var Kb=t.nativeEvent,Wb=t.eventSystemFlags;0===ma&&(Wb|=64);for(var uc=null,sd=0;sd<ij.length;sd++){var nd=ij[sd];nd&&(nd=nd.extractEvents(Sa,K,Kb,lb,Wb))&&(uc=hb(uc,nd))}La(uc)}}function Zb(t,K,ma){if(!ma.has(t)){switch(t){case "scroll":Gd(K,"scroll",!0);break;case "focus":case "blur":Gd(K,"focus",!0);Gd(K,"blur",!0);ma.set("blur",null);
ma.set("focus",null);break;case "cancel":case "close":Ma(t)&&Gd(K,t,!0);break;case "invalid":case "submit":case "reset":break;default:-1===Gh.indexOf(t)&&Ic(t,K)}ma.set(t,null)}}function rc(t,K){var ma=fa(K);hg.forEach(function(Sa){Zb(Sa,K,ma)});nj.forEach(function(Sa){Zb(Sa,K,ma)})}function kd(t,K,ma,Sa,lb){return{blockedOn:t,topLevelType:K,eventSystemFlags:ma|32,nativeEvent:lb,container:Sa}}function hc(t,K){switch(t){case "focus":case "blur":Vh=null;break;case "dragenter":case "dragleave":Wh=null;
break;case "mouseover":case "mouseout":Hh=null;break;case "pointerover":case "pointerout":Ih.delete(K.pointerId);break;case "gotpointercapture":case "lostpointercapture":Jh.delete(K.pointerId)}}function Dc(t,K,ma,Sa,lb,Kb){if(null===t||t.nativeEvent!==Kb)return t=kd(K,ma,Sa,lb,Kb),null!==K&&(K=Xb(K),null!==K&&bl(K)),t;t.eventSystemFlags|=Sa;return t}function pb(t,K,ma,Sa,lb){switch(K){case "focus":return Vh=Dc(Vh,t,K,ma,Sa,lb),!0;case "dragenter":return Wh=Dc(Wh,t,K,ma,Sa,lb),!0;case "mouseover":return Hh=
Dc(Hh,t,K,ma,Sa,lb),!0;case "pointerover":var Kb=lb.pointerId;Ih.set(Kb,Dc(Ih.get(Kb)||null,t,K,ma,Sa,lb));return!0;case "gotpointercapture":return Kb=lb.pointerId,Jh.set(Kb,Dc(Jh.get(Kb)||null,t,K,ma,Sa,lb)),!0}return!1}function jc(t){var K=Cb(t.target);if(null!==K){var ma=xa(K);if(null!==ma)if(K=ma.tag,13===K){if(K=va(ma),null!==K){t.blockedOn=K;Jg.unstable_runWithPriority(t.priority,function(){yl(ma)});return}}else if(3===K&&ma.stateNode.hydrate){t.blockedOn=3===ma.tag?ma.stateNode.containerInfo:
null;return}}t.blockedOn=null}function kc(t){if(null!==t.blockedOn)return!1;var K=Ud(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(null!==K){var ma=Xb(K);null!==ma&&bl(ma);t.blockedOn=K;return!1}return!0}function tc(t,K,ma){kc(t)&&ma.delete(K)}function Oc(){for(Ti=!1;0<jh.length;){var t=jh[0];if(null!==t.blockedOn){t=Xb(t.blockedOn);null!==t&&Lk(t);break}var K=Ud(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);null!==K?t.blockedOn=K:jh.shift()}null!==Vh&&kc(Vh)&&(Vh=
null);null!==Wh&&kc(Wh)&&(Wh=null);null!==Hh&&kc(Hh)&&(Hh=null);Ih.forEach(tc);Jh.forEach(tc)}function sc(t,K){t.blockedOn===K&&(t.blockedOn=null,Ti||(Ti=!0,Jg.unstable_scheduleCallback(Jg.unstable_NormalPriority,Oc)))}function Sc(t){function K(lb){return sc(lb,t)}if(0<jh.length){sc(jh[0],t);for(var ma=1;ma<jh.length;ma++){var Sa=jh[ma];Sa.blockedOn===t&&(Sa.blockedOn=null)}}null!==Vh&&sc(Vh,t);null!==Wh&&sc(Wh,t);null!==Hh&&sc(Hh,t);Ih.forEach(K);Jh.forEach(K);for(ma=0;ma<kh.length;ma++)Sa=kh[ma],
Sa.blockedOn===t&&(Sa.blockedOn=null);for(;0<kh.length&&(ma=kh[0],null===ma.blockedOn);)jc(ma),null===ma.blockedOn&&kh.shift()}function Qc(t,K){for(var ma=0;ma<t.length;ma+=2){var Sa=t[ma],lb=t[ma+1],Kb="on"+(lb[0].toUpperCase()+lb.slice(1));Kb={phasedRegistrationNames:{bubbled:Kb,captured:Kb+"Capture"},dependencies:[Sa],eventPriority:K};Cj.set(Sa,K);Dj.set(Sa,Kb);sh[lb]=Kb}}function Ic(t,K){Gd(K,t,!1)}function Gd(t,K,ma){var Sa=Cj.get(K);switch(void 0===Sa?2:Sa){case 0:Sa=ie.bind(null,K,1,t);break;
case 1:Sa=yd.bind(null,K,1,t);break;default:Sa=ud.bind(null,K,1,t)}ma?t.addEventListener(K,Sa,!0):t.addEventListener(K,Sa,!1)}function ie(t,K,ma,Sa){sg||f();var lb=ud,Kb=sg;sg=!0;try{b(lb,t,K,ma,Sa)}finally{(sg=Kb)||r()}}function yd(t,K,ma,Sa){Ci(Uj,ud.bind(null,t,K,ma,Sa))}function ud(t,K,ma,Sa){if(Xh)if(0<jh.length&&-1<hg.indexOf(t))t=kd(null,t,K,ma,Sa),jh.push(t);else{var lb=Ud(t,K,ma,Sa);if(null===lb)hc(t,Sa);else if(-1<hg.indexOf(t))t=kd(lb,t,K,ma,Sa),jh.push(t);else if(!pb(lb,t,K,ma,Sa)){hc(t,
Sa);t=nb(t,Sa,null,K);try{C(Hb,t)}finally{Ya(t)}}}}function Ud(t,K,ma,Sa){ma=ta(Sa);ma=Cb(ma);if(null!==ma){var lb=xa(ma);if(null===lb)ma=null;else{var Kb=lb.tag;if(13===Kb){ma=va(lb);if(null!==ma)return ma;ma=null}else if(3===Kb){if(lb.stateNode.hydrate)return 3===lb.tag?lb.stateNode.containerInfo:null;ma=null}else lb!==ma&&(ma=null)}}t=nb(t,Sa,ma,K);try{C(Hb,t)}finally{Ya(t)}return null}function Rb(t,K,ma){return null==K||"boolean"===typeof K||""===K?"":ma||"number"!==typeof K||0===K||Di.hasOwnProperty(t)&&
Di[t]?(""+K).trim():K+"px"}function ic(t,K){t=t.style;for(var ma in K)if(K.hasOwnProperty(ma)){var Sa=0===ma.indexOf("--"),lb=Rb(ma,K[ma],Sa);"float"===ma&&(ma="cssFloat");Sa?t.setProperty(ma,lb):t[ma]=lb}}function Gb(t,K){if(K){if(Kh[t]&&(null!=K.children||null!=K.dangerouslySetInnerHTML))throw Error(h(137,t,""));if(null!=K.dangerouslySetInnerHTML){if(null!=K.children)throw Error(h(60));if(!("object"===typeof K.dangerouslySetInnerHTML&&"__html"in K.dangerouslySetInnerHTML))throw Error(h(61));}if(null!=
K.style&&"object"!==typeof K.style)throw Error(h(62,""));}}function Ac(t,K){if(-1===t.indexOf("-"))return"string"===typeof K.is;switch(t){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;default:return!0}}function Rc(t,K){t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument;var ma=fa(t);K=ji[K];for(var Sa=0;Sa<K.length;Sa++)Zb(K[Sa],t,ma)}function Dd(){}function Od(t){t=
t||("undefined"!==typeof document?document:void 0);if("undefined"===typeof t)return null;try{return t.activeElement||t.body}catch(K){return t.body}}function Oa(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kb(t,K){var ma=Oa(t);t=0;for(var Sa;ma;){if(3===ma.nodeType){Sa=t+ma.textContent.length;if(t<=K&&Sa>=K)return{node:ma,offset:K-t};t=Sa}a:{for(;ma;){if(ma.nextSibling){ma=ma.nextSibling;break a}ma=ma.parentNode}ma=void 0}ma=Oa(ma)}}function yb(t,K){return t&&K?t===K?!0:t&&3===t.nodeType?
!1:K&&3===K.nodeType?yb(t,K.parentNode):"contains"in t?t.contains(K):t.compareDocumentPosition?!!(t.compareDocumentPosition(K)&16):!1:!1}function Jb(){for(var t=window,K=Od();K instanceof t.HTMLIFrameElement;){try{var ma="string"===typeof K.contentWindow.location.href}catch(Sa){ma=!1}if(ma)t=K.contentWindow;else break;K=Od(t.document)}return K}function dc(t){var K=t&&t.nodeName&&t.nodeName.toLowerCase();return K&&("input"===K&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===
t.type)||"textarea"===K||"true"===t.contentEditable)}function Mb(t,K){switch(t){case "button":case "input":case "select":case "textarea":return!!K.autoFocus}return!1}function Cc(t,K){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof K.children||"number"===typeof K.children||"object"===typeof K.dangerouslySetInnerHTML&&null!==K.dangerouslySetInnerHTML&&null!=K.dangerouslySetInnerHTML.__html}function vc(t){for(;null!=t;t=t.nextSibling){var K=t.nodeType;if(1===K||3===K)break}return t}
function rb(t){t=t.previousSibling;for(var K=0;t;){if(8===t.nodeType){var ma=t.data;if(ma===th||ma===Ei||ma===Vj){if(0===K)return t;K--}else ma===Ui&&K++}t=t.previousSibling}return null}function Cb(t){var K=t[uh];if(K)return K;for(var ma=t.parentNode;ma;){if(K=ma[Lh]||ma[uh]){ma=K.alternate;if(null!==K.child||null!==ma&&null!==ma.child)for(t=rb(t);null!==t;){if(ma=t[uh])return ma;t=rb(t)}return K}t=ma;ma=t.parentNode}return null}function Xb(t){t=t[uh]||t[Lh];return!t||5!==t.tag&&6!==t.tag&&13!==t.tag&&
3!==t.tag?null:t}function nc(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(h(33));}function Fc(t){return t[Zg]||null}function Gc(t){do t=t.return;while(t&&5!==t.tag);return t?t:null}function Vc(t,K){var ma=t.stateNode;if(!ma)return null;var Sa=jj(ma);if(!Sa)return null;ma=Sa[K];a:switch(K){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(Sa=
!Sa.disabled)||(t=t.type,Sa=!("button"===t||"input"===t||"select"===t||"textarea"===t));t=!Sa;break a;default:t=!1}if(t)return null;if(ma&&"function"!==typeof ma)throw Error(h(231,K,typeof ma));return ma}function Sb(t,K,ma){if(K=Vc(t,ma.dispatchConfig.phasedRegistrationNames[K]))ma._dispatchListeners=hb(ma._dispatchListeners,K),ma._dispatchInstances=hb(ma._dispatchInstances,t)}function Kc(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var K=t._targetInst,ma=[];K;)ma.push(K),K=Gc(K);for(K=
ma.length;0<K--;)Sb(ma[K],"captured",t);for(K=0;K<ma.length;K++)Sb(ma[K],"bubbled",t)}}function Hc(t,K,ma){t&&ma&&ma.dispatchConfig.registrationName&&(K=Vc(t,ma.dispatchConfig.registrationName))&&(ma._dispatchListeners=hb(ma._dispatchListeners,K),ma._dispatchInstances=hb(ma._dispatchInstances,t))}function wc(t){t&&t.dispatchConfig.registrationName&&Hc(t._targetInst,null,t)}function Uc(t){cb(t,Kc)}function bd(){if(Fi)return Fi;var t,K=Cg,ma=K.length,Sa,lb="value"in Yh?Yh.value:Yh.textContent,Kb=lb.length;
for(t=0;t<ma&&K[t]===lb[t];t++);var Wb=ma-t;for(Sa=1;Sa<=Wb&&K[ma-Sa]===lb[Kb-Sa];Sa++);return Fi=lb.slice(t,1<Sa?1-Sa:void 0)}function jd(){return!0}function wd(){return!1}function xd(t,K,ma,Sa){this.dispatchConfig=t;this._targetInst=K;this.nativeEvent=ma;t=this.constructor.Interface;for(var lb in t)t.hasOwnProperty(lb)&&((K=t[lb])?this[lb]=K(ma):"target"===lb?this.target=Sa:this[lb]=ma[lb]);this.isDefaultPrevented=(null!=ma.defaultPrevented?ma.defaultPrevented:!1===ma.returnValue)?jd:wd;this.isPropagationStopped=
wd;return this}function Vd(t,K,ma,Sa){if(this.eventPool.length){var lb=this.eventPool.pop();this.call(lb,t,K,ma,Sa);return lb}return new this(t,K,ma,Sa)}function Rd(t){if(!(t instanceof this))throw Error(h(279));t.destructor();10>this.eventPool.length&&this.eventPool.push(t)}function de(t){t.eventPool=[];t.getPooled=Vd;t.release=Rd}function ze(t,K){switch(t){case "keyup":return-1!==Vi.indexOf(K.keyCode);case "keydown":return 229!==K.keyCode;case "keypress":case "mousedown":case "blur":return!0;default:return!1}}
function Ee(t){t=t.detail;return"object"===typeof t&&"data"in t?t.data:null}function kf(t,K){switch(t){case "compositionend":return Ee(K);case "keypress":if(32!==K.which)return null;oj=!0;return Wj;case "textInput":return t=K.data,t===Wj&&oj?null:t;default:return null}}function cf(t,K){if(vh)return"compositionend"===t||!Gi&&ze(t,K)?(t=bd(),Fi=Cg=Yh=null,vh=!1,t):null;switch(t){case "paste":return null;case "keypress":if(!(K.ctrlKey||K.altKey||K.metaKey)||K.ctrlKey&&K.altKey){if(K.char&&1<K.char.length)return K.char;
if(K.which)return String.fromCharCode(K.which)}return null;case "compositionend":return Hi&&"ko"!==K.locale?null:K.data;default:return null}}function df(t){var K=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===K?!!Wi[t.type]:"textarea"===K?!0:!1}function Sd(t,K,ma){t=xd.getPooled(Xj.change,t,K,ma);t.type="change";l(ma);Uc(t);return t}function ke(t){La(t)}function rf(t){var K=nc(t);if(ka(K))return t}function Se(t,K){if("change"===t)return K}function vf(){Zh&&(Zh.detachEvent("onpropertychange",
oe),$h=Zh=null)}function oe(t){if("value"===t.propertyName&&rf($h))if(t=Sd($h,t,ta(t)),sg)La(t);else{sg=!0;try{k(ke,t)}finally{sg=!1,r()}}}function te(t,K,ma){"focus"===t?(vf(),Zh=K,$h=ma,Zh.attachEvent("onpropertychange",oe)):"blur"===t&&vf()}function lf(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return rf($h)}function xe(t,K){if("click"===t)return rf(K)}function Qd(t,K){if("input"===t||"change"===t)return rf(K)}function Wd(t){var K=this.nativeEvent;return K.getModifierState?K.getModifierState(t):
(t=Mk[t])?!!K[t]:!1}function ue(){return Wd}function wf(t,K){return t===K&&(0!==t||1/t===1/K)||t!==t&&K!==K}function Be(t,K){if(fb(t,K))return!0;if("object"!==typeof t||null===t||"object"!==typeof K||null===K)return!1;var ma=Object.keys(t),Sa=Object.keys(K);if(ma.length!==Sa.length)return!1;for(Sa=0;Sa<ma.length;Sa++)if(!wb.call(K,ma[Sa])||!fb(t[ma[Sa]],K[ma[Sa]]))return!1;return!0}function Xd(t,K){var ma=K.window===K?K.document:9===K.nodeType?K:K.ownerDocument;if(vd||null==Tc||Tc!==Od(ma))return null;
ma=Tc;"selectionStart"in ma&&dc(ma)?ma={start:ma.selectionStart,end:ma.selectionEnd}:(ma=(ma.ownerDocument&&ma.ownerDocument.defaultView||window).getSelection(),ma={anchorNode:ma.anchorNode,anchorOffset:ma.anchorOffset,focusNode:ma.focusNode,focusOffset:ma.focusOffset});return xc&&Be(xc,ma)?null:(xc=ma,t=xd.getPooled(gc.select,zc,t,K),t.type="select",t.target=Tc,Uc(t),t)}function $e(t){var K=t.keyCode;"charCode"in t?(t=t.charCode,0===t&&13===K&&(t=13)):t=K;10===t&&(t=13);return 32<=t||13===t?t:0}
function Ne(t){0>Dg||(t.current=Kg[Dg],Kg[Dg]=null,Dg--)}function Bc(t,K){Dg++;Kg[Dg]=t.current;t.current=K}function Pe(t,K){var ma=t.type.contextTypes;if(!ma)return Ug;var Sa=t.stateNode;if(Sa&&Sa.__reactInternalMemoizedUnmaskedChildContext===K)return Sa.__reactInternalMemoizedMaskedChildContext;var lb={},Kb;for(Kb in ma)lb[Kb]=K[Kb];Sa&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=K,t.__reactInternalMemoizedMaskedChildContext=lb);return lb}function ye(t){t=t.childContextTypes;return null!==
t&&void 0!==t}function mc(){Ne(Lg);Ne(ug)}function Ie(t,K,ma){if(ug.current!==Ug)throw Error(h(168));Bc(ug,K);Bc(Lg,ma)}function le(t,K,ma){var Sa=t.stateNode;t=K.childContextTypes;if("function"!==typeof Sa.getChildContext)return ma;Sa=Sa.getChildContext();for(var lb in Sa)if(!(lb in t))throw Error(h(108,V(K)||"Unknown",lb));return Ig({},ma,{},Sa)}function Oe(t){t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ug;Xi=ug.current;Bc(ug,t);Bc(Lg,Lg.current);return!0}function Kf(t,K,ma){var Sa=
t.stateNode;if(!Sa)throw Error(h(169));ma?(t=le(t,K,Xi),Sa.__reactInternalMemoizedMergedChildContext=t,Ne(Lg),Ne(ug),Bc(ug,t)):Ne(Lg);Bc(Lg,ma)}function Af(){switch(zl()){case og:return 99;case Mh:return 98;case tk:return 97;case pj:return 96;case Nk:return 95;default:throw Error(h(332));}}function sf(t){switch(t){case 99:return og;case 98:return Mh;case 97:return tk;case 96:return pj;case 95:return Nk;default:throw Error(h(332));}}function ff(t,K){t=sf(t);return cl(t,K)}function ne(t,K,ma){t=sf(t);
return uk(t,K,ma)}function Ec(t){null===mi?(mi=[t],Ej=uk(og,Ja)):mi.push(t);return dl}function Ba(){if(null!==Ej){var t=Ej;Ej=null;el(t)}Ja()}function Ja(){if(!Fj&&null!==mi){Fj=!0;var t=0;try{var K=mi;ff(99,function(){for(;t<K.length;t++){var ma=K[t];do ma=ma(!0);while(null!==ma)}});mi=null}catch(ma){throw null!==mi&&(mi=mi.slice(t+1)),uk(og,Ba),ma;}finally{Fj=!1}}}function db(t,K,ma){ma/=10;return 1073741821-(((1073741821-t+K/10)/ma|0)+1)*ma}function Fb(t,K){if(t&&t.defaultProps){K=Ig({},K);t=t.defaultProps;
for(var ma in t)void 0===K[ma]&&(K[ma]=t[ma])}return K}function xb(t){var K=Yj.current;Ne(Yj);t.type._context._currentValue=K}function ac(t,K){for(;null!==t;){var ma=t.alternate;if(t.childExpirationTime<K)t.childExpirationTime=K,null!==ma&&ma.childExpirationTime<K&&(ma.childExpirationTime=K);else if(null!==ma&&ma.childExpirationTime<K)ma.childExpirationTime=K;else break;t=t.return}}function bc(t,K){Gj=t;Hj=ai=null;t=t.dependencies;null!==t&&null!==t.firstContext&&(t.expirationTime>=K&&(lh=!0),t.firstContext=
null)}function Nc(t,K){if(Hj!==t&&!1!==K&&0!==K){if("number"!==typeof K||1073741823===K)Hj=t,K=1073741823;K={context:t,observedBits:K,next:null};if(null===ai){if(null===Gj)throw Error(h(308));ai=K;Gj.dependencies={expirationTime:0,firstContext:K,responders:null}}else ai=ai.next=K}return t._currentValue}function ed(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function Lc(t,K){t=t.updateQueue;K.updateQueue===t&&(K.updateQueue={baseState:t.baseState,
baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function Md(t,K){t={expirationTime:t,suspenseConfig:K,tag:0,payload:null,callback:null,next:null};return t.next=t}function md(t,K){t=t.updateQueue;if(null!==t){t=t.shared;var ma=t.pending;null===ma?K.next=K:(K.next=ma.next,ma.next=K);t.pending=K}}function Hd(t,K){var ma=t.alternate;null!==ma&&Lc(ma,t);t=t.updateQueue;ma=t.baseQueue;null===ma?(t.baseQueue=K.next=K,K.next=K):(K.next=ma.next,ma.next=K)}function fd(t,K,ma,Sa){var lb=t.updateQueue;
Yi=!1;var Kb=lb.baseQueue,Wb=lb.shared.pending;if(null!==Wb){if(null!==Kb){var uc=Kb.next;Kb.next=Wb.next;Wb.next=uc}Kb=Wb;lb.shared.pending=null;uc=t.alternate;null!==uc&&(uc=uc.updateQueue,null!==uc&&(uc.baseQueue=Wb))}if(null!==Kb){uc=Kb.next;var sd=lb.baseState,nd=0,fe=null,re=null,Tf=null;if(null!==uc){var cg=uc;do{Wb=cg.expirationTime;if(Wb<Sa){var pg={expirationTime:cg.expirationTime,suspenseConfig:cg.suspenseConfig,tag:cg.tag,payload:cg.payload,callback:cg.callback,next:null};null===Tf?(re=
Tf=pg,fe=sd):Tf=Tf.next=pg;Wb>nd&&(nd=Wb)}else{null!==Tf&&(Tf=Tf.next={expirationTime:1073741823,suspenseConfig:cg.suspenseConfig,tag:cg.tag,payload:cg.payload,callback:cg.callback,next:null});Of(Wb,cg.suspenseConfig);a:{var Og=t,gd=cg;Wb=K;pg=ma;switch(gd.tag){case 1:Og=gd.payload;if("function"===typeof Og){sd=Og.call(pg,sd,Wb);break a}sd=Og;break a;case 3:Og.effectTag=Og.effectTag&-4097|64;case 0:Og=gd.payload;Wb="function"===typeof Og?Og.call(pg,sd,Wb):Og;if(null===Wb||void 0===Wb)break a;sd=Ig({},
sd,Wb);break a;case 2:Yi=!0}}null!==cg.callback&&(t.effectTag|=32,Wb=lb.effects,null===Wb?lb.effects=[cg]:Wb.push(cg))}cg=cg.next;if(null===cg||cg===uc)if(Wb=lb.shared.pending,null===Wb)break;else cg=Kb.next=Wb.next,Wb.next=uc,lb.baseQueue=Kb=Wb,lb.shared.pending=null}while(1)}null===Tf?fe=sd:Tf.next=re;lb.baseState=fe;lb.baseQueue=Tf;je(nd);t.expirationTime=nd;t.memoizedState=sd}}function Pd(t,K,ma){t=K.effects;K.effects=null;if(null!==t)for(K=0;K<t.length;K++){var Sa=t[K],lb=Sa.callback;if(null!==
lb){Sa.callback=null;Sa=lb;lb=ma;if("function"!==typeof Sa)throw Error(h(191,Sa));Sa.call(lb)}}}function ee(t,K,ma,Sa){K=t.memoizedState;ma=ma(Sa,K);ma=null===ma||void 0===ma?K:Ig({},K,ma);t.memoizedState=ma;0===t.expirationTime&&(t.updateQueue.baseState=ma)}function of(t,K,ma,Sa,lb,Kb,Wb){t=t.stateNode;return"function"===typeof t.shouldComponentUpdate?t.shouldComponentUpdate(Sa,Kb,Wb):K.prototype&&K.prototype.isPureReactComponent?!Be(ma,Sa)||!Be(lb,Kb):!0}function mf(t,K,ma){var Sa=!1,lb=Ug,Kb=K.contextType;
"object"===typeof Kb&&null!==Kb?Kb=Nc(Kb):(lb=ye(K)?Xi:ug.current,Sa=K.contextTypes,Kb=(Sa=null!==Sa&&void 0!==Sa)?Pe(t,lb):Ug);K=new K(ma,Kb);t.memoizedState=null!==K.state&&void 0!==K.state?K.state:null;K.updater=vk;t.stateNode=K;K._reactInternalFiber=t;Sa&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=lb,t.__reactInternalMemoizedMaskedChildContext=Kb);return K}function id(t,K,ma,Sa){t=K.state;"function"===typeof K.componentWillReceiveProps&&K.componentWillReceiveProps(ma,Sa);"function"===
typeof K.UNSAFE_componentWillReceiveProps&&K.UNSAFE_componentWillReceiveProps(ma,Sa);K.state!==t&&vk.enqueueReplaceState(K,K.state,null)}function Ue(t,K,ma,Sa){var lb=t.stateNode;lb.props=ma;lb.state=t.memoizedState;lb.refs=fl;ed(t);var Kb=K.contextType;"object"===typeof Kb&&null!==Kb?lb.context=Nc(Kb):(Kb=ye(K)?Xi:ug.current,lb.context=Pe(t,Kb));fd(t,ma,lb,Sa);lb.state=t.memoizedState;Kb=K.getDerivedStateFromProps;"function"===typeof Kb&&(ee(t,K,Kb,ma),lb.state=t.memoizedState);"function"===typeof K.getDerivedStateFromProps||
"function"===typeof lb.getSnapshotBeforeUpdate||"function"!==typeof lb.UNSAFE_componentWillMount&&"function"!==typeof lb.componentWillMount||(K=lb.state,"function"===typeof lb.componentWillMount&&lb.componentWillMount(),"function"===typeof lb.UNSAFE_componentWillMount&&lb.UNSAFE_componentWillMount(),K!==lb.state&&vk.enqueueReplaceState(lb,lb.state,null),fd(t,ma,lb,Sa),lb.state=t.memoizedState);"function"===typeof lb.componentDidMount&&(t.effectTag|=4)}function Ve(t,K,ma){t=ma.ref;if(null!==t&&"function"!==
typeof t&&"object"!==typeof t){if(ma._owner){if(ma=ma._owner){if(1!==ma.tag)throw Error(h(309));var Sa=ma.stateNode}if(!Sa)throw Error(h(147,t));var lb=""+t;if(null!==K&&null!==K.ref&&"function"===typeof K.ref&&K.ref._stringRef===lb)return K.ref;K=function(Kb){var Wb=Sa.refs;Wb===fl&&(Wb=Sa.refs={});null===Kb?delete Wb[lb]:Wb[lb]=Kb};K._stringRef=lb;return K}if("string"!==typeof t)throw Error(h(284));if(!ma._owner)throw Error(h(290,t));}return t}function gf(t,K){if("textarea"!==t.type)throw Error(h(31,
"[object Object]"===Object.prototype.toString.call(K)?"object with keys {"+Object.keys(K).join(", ")+"}":K,""));}function Pf(t){function K(gd,Xc){if(t){var zd=gd.lastEffect;null!==zd?(zd.nextEffect=Xc,gd.lastEffect=Xc):gd.firstEffect=gd.lastEffect=Xc;Xc.nextEffect=null;Xc.effectTag=8}}function ma(gd,Xc){if(!t)return null;for(;null!==Xc;)K(gd,Xc),Xc=Xc.sibling;return null}function Sa(gd,Xc){for(gd=new Map;null!==Xc;)null!==Xc.key?gd.set(Xc.key,Xc):gd.set(Xc.index,Xc),Xc=Xc.sibling;return gd}function lb(gd,
Xc){gd=bi(gd,Xc);gd.index=0;gd.sibling=null;return gd}function Kb(gd,Xc,zd){gd.index=zd;if(!t)return Xc;zd=gd.alternate;if(null!==zd)return zd=zd.index,zd<Xc?(gd.effectTag=2,Xc):zd;gd.effectTag=2;return Xc}function Wb(gd){t&&null===gd.alternate&&(gd.effectTag=2);return gd}function uc(gd,Xc,zd,Yd){if(null===Xc||6!==Xc.tag)return Xc=Ij(zd,gd.mode,Yd),Xc.return=gd,Xc;Xc=lb(Xc,zd);Xc.return=gd;return Xc}function sd(gd,Xc,zd,Yd){if(null!==Xc&&Xc.elementType===zd.type)return Yd=lb(Xc,zd.props),Yd.ref=Ve(gd,
Xc,zd),Yd.return=gd,Yd;Yd=Ii(zd.type,zd.key,zd.props,null,gd.mode,Yd);Yd.ref=Ve(gd,Xc,zd);Yd.return=gd;return Yd}function nd(gd,Xc,zd,Yd){if(null===Xc||4!==Xc.tag||Xc.stateNode.containerInfo!==zd.containerInfo||Xc.stateNode.implementation!==zd.implementation)return Xc=yg(zd,gd.mode,Yd),Xc.return=gd,Xc;Xc=lb(Xc,zd.children||[]);Xc.return=gd;return Xc}function fe(gd,Xc,zd,Yd,me){if(null===Xc||7!==Xc.tag)return Xc=mh(zd,gd.mode,Yd,me),Xc.return=gd,Xc;Xc=lb(Xc,zd);Xc.return=gd;return Xc}function re(gd,
Xc,zd){if("string"===typeof Xc||"number"===typeof Xc)return Xc=Ij(""+Xc,gd.mode,zd),Xc.return=gd,Xc;if("object"===typeof Xc&&null!==Xc){switch(Xc.$$typeof){case qj:return zd=Ii(Xc.type,Xc.key,Xc.props,null,gd.mode,zd),zd.ref=Ve(gd,null,Xc),zd.return=gd,zd;case ki:return Xc=yg(Xc,gd.mode,zd),Xc.return=gd,Xc}if(wk(Xc)||H(Xc))return Xc=mh(Xc,gd.mode,zd,null),Xc.return=gd,Xc;gf(gd,Xc)}return null}function Tf(gd,Xc,zd,Yd){var me=null!==Xc?Xc.key:null;if("string"===typeof zd||"number"===typeof zd)return null!==
me?null:uc(gd,Xc,""+zd,Yd);if("object"===typeof zd&&null!==zd){switch(zd.$$typeof){case qj:return zd.key===me?zd.type===ih?fe(gd,Xc,zd.props.children,Yd,me):sd(gd,Xc,zd,Yd):null;case ki:return zd.key===me?nd(gd,Xc,zd,Yd):null}if(wk(zd)||H(zd))return null!==me?null:fe(gd,Xc,zd,Yd,null);gf(gd,zd)}return null}function cg(gd,Xc,zd,Yd,me){if("string"===typeof Yd||"number"===typeof Yd)return gd=gd.get(zd)||null,uc(Xc,gd,""+Yd,me);if("object"===typeof Yd&&null!==Yd){switch(Yd.$$typeof){case qj:return gd=
gd.get(null===Yd.key?zd:Yd.key)||null,Yd.type===ih?fe(Xc,gd,Yd.props.children,me,Yd.key):sd(Xc,gd,Yd,me);case ki:return gd=gd.get(null===Yd.key?zd:Yd.key)||null,nd(Xc,gd,Yd,me)}if(wk(Yd)||H(Yd))return gd=gd.get(zd)||null,fe(Xc,gd,Yd,me,null);gf(Xc,Yd)}return null}function pg(gd,Xc,zd,Yd){for(var me=null,De=null,af=Xc,Wf=Xc=0,tg=null;null!==af&&Wf<zd.length;Wf++){af.index>Wf?(tg=af,af=null):tg=af.sibling;var Ff=Tf(gd,af,zd[Wf],Yd);if(null===Ff){null===af&&(af=tg);break}t&&af&&null===Ff.alternate&&
K(gd,af);Xc=Kb(Ff,Xc,Wf);null===De?me=Ff:De.sibling=Ff;De=Ff;af=tg}if(Wf===zd.length)return ma(gd,af),me;if(null===af){for(;Wf<zd.length;Wf++)af=re(gd,zd[Wf],Yd),null!==af&&(Xc=Kb(af,Xc,Wf),null===De?me=af:De.sibling=af,De=af);return me}for(af=Sa(gd,af);Wf<zd.length;Wf++)tg=cg(af,gd,Wf,zd[Wf],Yd),null!==tg&&(t&&null!==tg.alternate&&af.delete(null===tg.key?Wf:tg.key),Xc=Kb(tg,Xc,Wf),null===De?me=tg:De.sibling=tg,De=tg);t&&af.forEach(function(ni){return K(gd,ni)});return me}function Og(gd,Xc,zd,Yd){var me=
H(zd);if("function"!==typeof me)throw Error(h(150));zd=me.call(zd);if(null==zd)throw Error(h(151));for(var De=me=null,af=Xc,Wf=Xc=0,tg=null,Ff=zd.next();null!==af&&!Ff.done;Wf++,Ff=zd.next()){af.index>Wf?(tg=af,af=null):tg=af.sibling;var ni=Tf(gd,af,Ff.value,Yd);if(null===ni){null===af&&(af=tg);break}t&&af&&null===ni.alternate&&K(gd,af);Xc=Kb(ni,Xc,Wf);null===De?me=ni:De.sibling=ni;De=ni;af=tg}if(Ff.done)return ma(gd,af),me;if(null===af){for(;!Ff.done;Wf++,Ff=zd.next())Ff=re(gd,Ff.value,Yd),null!==
Ff&&(Xc=Kb(Ff,Xc,Wf),null===De?me=Ff:De.sibling=Ff,De=Ff);return me}for(af=Sa(gd,af);!Ff.done;Wf++,Ff=zd.next())Ff=cg(af,gd,Wf,Ff.value,Yd),null!==Ff&&(t&&null!==Ff.alternate&&af.delete(null===Ff.key?Wf:Ff.key),Xc=Kb(Ff,Xc,Wf),null===De?me=Ff:De.sibling=Ff,De=Ff);t&&af.forEach(function(Ok){return K(gd,Ok)});return me}return function(gd,Xc,zd,Yd){var me="object"===typeof zd&&null!==zd&&zd.type===ih&&null===zd.key;me&&(zd=zd.props.children);var De="object"===typeof zd&&null!==zd;if(De)switch(zd.$$typeof){case qj:a:{De=
zd.key;for(me=Xc;null!==me;){if(me.key===De){switch(me.tag){case 7:if(zd.type===ih){ma(gd,me.sibling);Xc=lb(me,zd.props.children);Xc.return=gd;gd=Xc;break a}break;default:if(me.elementType===zd.type){ma(gd,me.sibling);Xc=lb(me,zd.props);Xc.ref=Ve(gd,me,zd);Xc.return=gd;gd=Xc;break a}}ma(gd,me);break}else K(gd,me);me=me.sibling}zd.type===ih?(Xc=mh(zd.props.children,gd.mode,Yd,zd.key),Xc.return=gd,gd=Xc):(Yd=Ii(zd.type,zd.key,zd.props,null,gd.mode,Yd),Yd.ref=Ve(gd,Xc,zd),Yd.return=gd,gd=Yd)}return Wb(gd);
case ki:a:{for(me=zd.key;null!==Xc;){if(Xc.key===me)if(4===Xc.tag&&Xc.stateNode.containerInfo===zd.containerInfo&&Xc.stateNode.implementation===zd.implementation){ma(gd,Xc.sibling);Xc=lb(Xc,zd.children||[]);Xc.return=gd;gd=Xc;break a}else{ma(gd,Xc);break}else K(gd,Xc);Xc=Xc.sibling}Xc=yg(zd,gd.mode,Yd);Xc.return=gd;gd=Xc}return Wb(gd)}if("string"===typeof zd||"number"===typeof zd)return zd=""+zd,null!==Xc&&6===Xc.tag?(ma(gd,Xc.sibling),Xc=lb(Xc,zd),Xc.return=gd,gd=Xc):(ma(gd,Xc),Xc=Ij(zd,gd.mode,
Yd),Xc.return=gd,gd=Xc),Wb(gd);if(wk(zd))return pg(gd,Xc,zd,Yd);if(H(zd))return Og(gd,Xc,zd,Yd);De&&gf(gd,zd);if("undefined"===typeof zd&&!me)switch(gd.tag){case 1:case 0:throw gd=gd.type,Error(h(152,gd.displayName||gd.name||"Component"));}return ma(gd,Xc)}}function pf(t){if(t===Zj)throw Error(h(174));return t}function Qe(t,K){Bc(ak,K);Bc(bk,t);Bc(oi,Zj);t=K.nodeType;switch(t){case 9:case 11:K=(K=K.documentElement)?K.namespaceURI:ya(null,"");break;default:t=8===t?K.parentNode:K,K=t.namespaceURI||
null,t=t.tagName,K=ya(K,t)}Ne(oi);Bc(oi,K)}function jf(){Ne(oi);Ne(bk);Ne(ak)}function Aa(t){pf(ak.current);var K=pf(oi.current),ma=ya(K,t.type);K!==ma&&(Bc(bk,t),Bc(oi,ma))}function Ta(t){bk.current===t&&(Ne(oi),Ne(bk))}function vb(t){for(var K=t;null!==K;){if(13===K.tag){var ma=K.memoizedState;if(null!==ma&&(ma=ma.dehydrated,null===ma||ma.data===Vj||ma.data===Ei))return K}else if(19===K.tag&&void 0!==K.memoizedProps.revealOrder){if(0!==(K.effectTag&64))return K}else if(null!==K.child){K.child.return=
K;K=K.child;continue}if(K===t)break;for(;null===K.sibling;){if(null===K.return||K.return===t)return null;K=K.return}K.sibling.return=K.return;K=K.sibling}return null}function Yb(t,K){return{responder:t,props:K}}function Tb(){throw Error(h(321));}function lc(t,K){if(null===K)return!1;for(var ma=0;ma<K.length&&ma<t.length;ma++)if(!fb(t[ma],K[ma]))return!1;return!0}function qc(t,K,ma,Sa,lb,Kb){pi=Kb;Bg=K;K.memoizedState=null;K.updateQueue=null;K.expirationTime=0;xk.current=null===t||null===t.memoizedState?
Jj:ck;t=ma(Sa,lb);if(K.expirationTime===pi){Kb=0;do{K.expirationTime=0;if(!(25>Kb))throw Error(h(301));Kb+=1;$g=ah=null;K.updateQueue=null;xk.current=Kj;t=ma(Sa,lb)}while(K.expirationTime===pi)}xk.current=Fe;K=null!==ah&&null!==ah.next;pi=0;$g=ah=Bg=null;yk=!1;if(K)throw Error(h(300));return t}function Yc(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===$g?Bg.memoizedState=$g=t:$g=$g.next=t;return $g}function Wc(){if(null===ah){var t=Bg.alternate;t=null!==t?t.memoizedState:
null}else t=ah.next;var K=null===$g?Bg.memoizedState:$g.next;if(null!==K)$g=K,ah=t;else{if(null===t)throw Error(h(310));ah=t;t={memoizedState:ah.memoizedState,baseState:ah.baseState,baseQueue:ah.baseQueue,queue:ah.queue,next:null};null===$g?Bg.memoizedState=$g=t:$g=$g.next=t}return $g}function pd(t,K){return"function"===typeof K?K(t):K}function Id(t){var K=Wc(),ma=K.queue;if(null===ma)throw Error(h(311));ma.lastRenderedReducer=t;var Sa=ah,lb=Sa.baseQueue,Kb=ma.pending;if(null!==Kb){if(null!==lb){var Wb=
lb.next;lb.next=Kb.next;Kb.next=Wb}Sa.baseQueue=lb=Kb;ma.pending=null}if(null!==lb){lb=lb.next;Sa=Sa.baseState;var uc=Wb=Kb=null,sd=lb;do{var nd=sd.expirationTime;if(nd<pi){var fe={expirationTime:sd.expirationTime,suspenseConfig:sd.suspenseConfig,action:sd.action,eagerReducer:sd.eagerReducer,eagerState:sd.eagerState,next:null};null===uc?(Wb=uc=fe,Kb=Sa):uc=uc.next=fe;nd>Bg.expirationTime&&(Bg.expirationTime=nd,je(nd))}else null!==uc&&(uc=uc.next={expirationTime:1073741823,suspenseConfig:sd.suspenseConfig,
action:sd.action,eagerReducer:sd.eagerReducer,eagerState:sd.eagerState,next:null}),Of(nd,sd.suspenseConfig),Sa=sd.eagerReducer===t?sd.eagerState:t(Sa,sd.action);sd=sd.next}while(null!==sd&&sd!==lb);null===uc?Kb=Sa:uc.next=Wb;fb(Sa,K.memoizedState)||(lh=!0);K.memoizedState=Sa;K.baseState=Kb;K.baseQueue=uc;ma.lastRenderedState=Sa}return[K.memoizedState,ma.dispatch]}function ae(t){var K=Wc(),ma=K.queue;if(null===ma)throw Error(h(311));ma.lastRenderedReducer=t;var Sa=ma.dispatch,lb=ma.pending,Kb=K.memoizedState;
if(null!==lb){ma.pending=null;var Wb=lb=lb.next;do Kb=t(Kb,Wb.action),Wb=Wb.next;while(Wb!==lb);fb(Kb,K.memoizedState)||(lh=!0);K.memoizedState=Kb;null===K.baseQueue&&(K.baseState=Kb);ma.lastRenderedState=Kb}return[Kb,Sa]}function ge(t){var K=Yc();"function"===typeof t&&(t=t());K.memoizedState=K.baseState=t;t=K.queue={pending:null,dispatch:null,lastRenderedReducer:pd,lastRenderedState:t};t=t.dispatch=Da.bind(null,Bg,t);return[K.memoizedState,t]}function Jd(t,K,ma,Sa){t={tag:t,create:K,destroy:ma,
deps:Sa,next:null};K=Bg.updateQueue;null===K?(K={lastEffect:null},Bg.updateQueue=K,K.lastEffect=t.next=t):(ma=K.lastEffect,null===ma?K.lastEffect=t.next=t:(Sa=ma.next,ma.next=t,t.next=Sa,K.lastEffect=t));return t}function Ye(){return Wc().memoizedState}function be(t,K,ma,Sa){var lb=Yc();Bg.effectTag|=t;lb.memoizedState=Jd(1|K,ma,void 0,void 0===Sa?null:Sa)}function Ge(t,K,ma,Sa){var lb=Wc();Sa=void 0===Sa?null:Sa;var Kb=void 0;if(null!==ah){var Wb=ah.memoizedState;Kb=Wb.destroy;if(null!==Sa&&lc(Sa,
Wb.deps)){Jd(K,ma,Kb,Sa);return}}Bg.effectTag|=t;lb.memoizedState=Jd(1|K,ma,Kb,Sa)}function ve(t,K){return be(516,4,t,K)}function Le(t,K){return Ge(516,4,t,K)}function Lf(t,K){return Ge(4,2,t,K)}function pe(t,K){if("function"===typeof K)return t=t(),K(t),function(){K(null)};if(null!==K&&void 0!==K)return t=t(),K.current=t,function(){K.current=null}}function tf(t,K,ma){ma=null!==ma&&void 0!==ma?ma.concat([t]):null;return Ge(4,2,pe.bind(null,K,t),ma)}function Ze(){}function jg(t,K){Yc().memoizedState=
[t,void 0===K?null:K];return t}function qf(t,K){var ma=Wc();K=void 0===K?null:K;var Sa=ma.memoizedState;if(null!==Sa&&null!==K&&lc(K,Sa[1]))return Sa[0];ma.memoizedState=[t,K];return t}function Qf(t,K){var ma=Wc();K=void 0===K?null:K;var Sa=ma.memoizedState;if(null!==Sa&&null!==K&&lc(K,Sa[1]))return Sa[0];t=t();ma.memoizedState=[t,K];return t}function Ca(t,K,ma){var Sa=Af();ff(98>Sa?98:Sa,function(){t(!0)});ff(97<Sa?97:Sa,function(){var lb=nh.suspense;nh.suspense=void 0===K?null:K;try{t(!1),ma()}finally{nh.suspense=
lb}})}function Da(t,K,ma){var Sa=Db(),lb=dk.suspense;Sa=$b(Sa,t,lb);lb={expirationTime:Sa,suspenseConfig:lb,action:ma,eagerReducer:null,eagerState:null,next:null};var Kb=K.pending;null===Kb?lb.next=lb:(lb.next=Kb.next,Kb.next=lb);K.pending=lb;Kb=t.alternate;if(t===Bg||null!==Kb&&Kb===Bg)yk=!0,lb.expirationTime=pi,Bg.expirationTime=pi;else{if(0===t.expirationTime&&(null===Kb||0===Kb.expirationTime)&&(Kb=K.lastRenderedReducer,null!==Kb))try{var Wb=K.lastRenderedState,uc=Kb(Wb,ma);lb.eagerReducer=Kb;
lb.eagerState=uc;if(fb(uc,Wb))return}catch(sd){}finally{}Ub(t,Sa)}}function Pa(t,K){var ma=Vg(5,null,null,0);ma.elementType="DELETED";ma.type="DELETED";ma.stateNode=K;ma.return=t;ma.effectTag=8;null!==t.lastEffect?(t.lastEffect.nextEffect=ma,t.lastEffect=ma):t.firstEffect=t.lastEffect=ma}function Va(t,K){switch(t.tag){case 5:var ma=t.type;K=1!==K.nodeType||ma.toLowerCase()!==K.nodeName.toLowerCase()?null:K;return null!==K?(t.stateNode=K,!0):!1;case 6:return K=""===t.pendingProps||3!==K.nodeType?null:
K,null!==K?(t.stateNode=K,!0):!1;case 13:return!1;default:return!1}}function jb(t){if(Kd){var K=Xf;if(K){var ma=K;if(!Va(t,K)){K=vc(ma.nextSibling);if(!K||!Va(t,K)){t.effectTag=t.effectTag&-1025|2;Kd=!1;hf=t;return}Pa(hf,ma)}hf=t;Xf=vc(K.firstChild)}else t.effectTag=t.effectTag&-1025|2,Kd=!1,hf=t}}function mb(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;hf=t}function tb(t){if(t!==hf)return!1;if(!Kd)return mb(t),Kd=!0,!1;var K=t.type;if(5!==t.tag||"head"!==K&&"body"!==K&&
!Cc(K,t.memoizedProps))for(K=Xf;K;)Pa(t,K),K=vc(K.nextSibling);mb(t);if(13===t.tag){t=t.memoizedState;t=null!==t?t.dehydrated:null;if(!t)throw Error(h(317));a:{t=t.nextSibling;for(K=0;t;){if(8===t.nodeType){var ma=t.data;if(ma===Ui){if(0===K){Xf=vc(t.nextSibling);break a}K--}else ma!==th&&ma!==Ei&&ma!==Vj||K++}t=t.nextSibling}Xf=null}}else Xf=hf?vc(t.stateNode.nextSibling):null;return!0}function Eb(t,K,ma,Sa){K.child=null===t?Pk(K,null,ma,Sa):Zi(K,t.child,ma,Sa)}function Ab(t,K,ma,Sa,lb){ma=ma.render;
var Kb=K.ref;bc(K,lb);Sa=qc(t,K,ma,Sa,Kb,lb);if(null!==t&&!lh)return K.updateQueue=t.updateQueue,K.effectTag&=-517,t.expirationTime<=lb&&(t.expirationTime=0),oc(t,K,lb);K.effectTag|=1;Eb(t,K,Sa,lb);return K.child}function Lb(t,K,ma,Sa,lb,Kb){if(null===t){var Wb=ma.type;if("function"===typeof Wb&&!Lj(Wb)&&void 0===Wb.defaultProps&&null===ma.compare&&void 0===ma.defaultProps)return K.tag=15,K.type=Wb,Pb(t,K,Wb,Sa,lb,Kb);t=Ii(ma.type,null,Sa,null,K.mode,Kb);t.ref=K.ref;t.return=K;return K.child=t}Wb=
t.child;if(lb<Kb&&(lb=Wb.memoizedProps,ma=ma.compare,ma=null!==ma?ma:Be,ma(lb,Sa)&&t.ref===K.ref))return oc(t,K,Kb);K.effectTag|=1;t=bi(Wb,Sa);t.ref=K.ref;t.return=K;return K.child=t}function Pb(t,K,ma,Sa,lb,Kb){return null!==t&&Be(t.memoizedProps,Sa)&&t.ref===K.ref&&(lh=!1,lb<Kb)?(K.expirationTime=t.expirationTime,oc(t,K,Kb)):yc(t,K,ma,Sa,Kb)}function fc(t,K){var ma=K.ref;if(null===t&&null!==ma||null!==t&&t.ref!==ma)K.effectTag|=128}function yc(t,K,ma,Sa,lb){var Kb=ye(ma)?Xi:ug.current;Kb=Pe(K,Kb);
bc(K,lb);ma=qc(t,K,ma,Sa,Kb,lb);if(null!==t&&!lh)return K.updateQueue=t.updateQueue,K.effectTag&=-517,t.expirationTime<=lb&&(t.expirationTime=0),oc(t,K,lb);K.effectTag|=1;Eb(t,K,ma,lb);return K.child}function ca(t,K,ma,Sa,lb){if(ye(ma)){var Kb=!0;Oe(K)}else Kb=!1;bc(K,lb);if(null===K.stateNode)null!==t&&(t.alternate=null,K.alternate=null,K.effectTag|=2),mf(K,ma,Sa),Ue(K,ma,Sa,lb),Sa=!0;else if(null===t){var Wb=K.stateNode,uc=K.memoizedProps;Wb.props=uc;var sd=Wb.context,nd=ma.contextType;"object"===
typeof nd&&null!==nd?nd=Nc(nd):(nd=ye(ma)?Xi:ug.current,nd=Pe(K,nd));var fe=ma.getDerivedStateFromProps,re="function"===typeof fe||"function"===typeof Wb.getSnapshotBeforeUpdate;re||"function"!==typeof Wb.UNSAFE_componentWillReceiveProps&&"function"!==typeof Wb.componentWillReceiveProps||(uc!==Sa||sd!==nd)&&id(K,Wb,Sa,nd);Yi=!1;var Tf=K.memoizedState;Wb.state=Tf;fd(K,Sa,Wb,lb);sd=K.memoizedState;uc!==Sa||Tf!==sd||Lg.current||Yi?("function"===typeof fe&&(ee(K,ma,fe,Sa),sd=K.memoizedState),(uc=Yi||
of(K,ma,uc,Sa,Tf,sd,nd))?(re||"function"!==typeof Wb.UNSAFE_componentWillMount&&"function"!==typeof Wb.componentWillMount||("function"===typeof Wb.componentWillMount&&Wb.componentWillMount(),"function"===typeof Wb.UNSAFE_componentWillMount&&Wb.UNSAFE_componentWillMount()),"function"===typeof Wb.componentDidMount&&(K.effectTag|=4)):("function"===typeof Wb.componentDidMount&&(K.effectTag|=4),K.memoizedProps=Sa,K.memoizedState=sd),Wb.props=Sa,Wb.state=sd,Wb.context=nd,Sa=uc):("function"===typeof Wb.componentDidMount&&
(K.effectTag|=4),Sa=!1)}else Wb=K.stateNode,Lc(t,K),uc=K.memoizedProps,Wb.props=K.type===K.elementType?uc:Fb(K.type,uc),sd=Wb.context,nd=ma.contextType,"object"===typeof nd&&null!==nd?nd=Nc(nd):(nd=ye(ma)?Xi:ug.current,nd=Pe(K,nd)),fe=ma.getDerivedStateFromProps,(re="function"===typeof fe||"function"===typeof Wb.getSnapshotBeforeUpdate)||"function"!==typeof Wb.UNSAFE_componentWillReceiveProps&&"function"!==typeof Wb.componentWillReceiveProps||(uc!==Sa||sd!==nd)&&id(K,Wb,Sa,nd),Yi=!1,sd=K.memoizedState,
Wb.state=sd,fd(K,Sa,Wb,lb),Tf=K.memoizedState,uc!==Sa||sd!==Tf||Lg.current||Yi?("function"===typeof fe&&(ee(K,ma,fe,Sa),Tf=K.memoizedState),(fe=Yi||of(K,ma,uc,Sa,sd,Tf,nd))?(re||"function"!==typeof Wb.UNSAFE_componentWillUpdate&&"function"!==typeof Wb.componentWillUpdate||("function"===typeof Wb.componentWillUpdate&&Wb.componentWillUpdate(Sa,Tf,nd),"function"===typeof Wb.UNSAFE_componentWillUpdate&&Wb.UNSAFE_componentWillUpdate(Sa,Tf,nd)),"function"===typeof Wb.componentDidUpdate&&(K.effectTag|=4),
"function"===typeof Wb.getSnapshotBeforeUpdate&&(K.effectTag|=256)):("function"!==typeof Wb.componentDidUpdate||uc===t.memoizedProps&&sd===t.memoizedState||(K.effectTag|=4),"function"!==typeof Wb.getSnapshotBeforeUpdate||uc===t.memoizedProps&&sd===t.memoizedState||(K.effectTag|=256),K.memoizedProps=Sa,K.memoizedState=Tf),Wb.props=Sa,Wb.state=Tf,Wb.context=nd,Sa=fe):("function"!==typeof Wb.componentDidUpdate||uc===t.memoizedProps&&sd===t.memoizedState||(K.effectTag|=4),"function"!==typeof Wb.getSnapshotBeforeUpdate||
uc===t.memoizedProps&&sd===t.memoizedState||(K.effectTag|=256),Sa=!1);return ua(t,K,ma,Sa,Kb,lb)}function ua(t,K,ma,Sa,lb,Kb){fc(t,K);var Wb=0!==(K.effectTag&64);if(!Sa&&!Wb)return lb&&Kf(K,ma,!1),oc(t,K,Kb);Sa=K.stateNode;Ji.current=K;var uc=Wb&&"function"!==typeof ma.getDerivedStateFromError?null:Sa.render();K.effectTag|=1;null!==t&&Wb?(K.child=Zi(K,t.child,null,Kb),K.child=Zi(K,null,uc,Kb)):Eb(t,K,uc,Kb);K.memoizedState=Sa.state;lb&&Kf(K,ma,!0);return K.child}function Ra(t){var K=t.stateNode;K.pendingContext?
Ie(t,K.pendingContext,K.pendingContext!==K.context):K.context&&Ie(t,K.context,!1);Qe(t,K.containerInfo)}function Za(t,K,ma){var Sa=K.mode,lb=K.pendingProps,Kb=zg.current,Wb=!1,uc;(uc=0!==(K.effectTag&64))||(uc=0!==(Kb&2)&&(null===t||null!==t.memoizedState));uc?(Wb=!0,K.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===lb.fallback||!0===lb.unstable_avoidThisFallback||(Kb|=1);Bc(zg,Kb&1);if(null===t){void 0!==lb.fallback&&jb(K);if(Wb){Wb=lb.fallback;lb=mh(null,Sa,0,null);lb.return=K;if(0===
(K.mode&2))for(t=null!==K.memoizedState?K.child.child:K.child,lb.child=t;null!==t;)t.return=lb,t=t.sibling;ma=mh(Wb,Sa,ma,null);ma.return=K;lb.sibling=ma;K.memoizedState=zk;K.child=lb;return ma}Sa=lb.children;K.memoizedState=null;return K.child=Pk(K,null,Sa,ma)}if(null!==t.memoizedState){t=t.child;Sa=t.sibling;if(Wb){lb=lb.fallback;ma=bi(t,t.pendingProps);ma.return=K;if(0===(K.mode&2)&&(Wb=null!==K.memoizedState?K.child.child:K.child,Wb!==t.child))for(ma.child=Wb;null!==Wb;)Wb.return=ma,Wb=Wb.sibling;
Sa=bi(Sa,lb);Sa.return=K;ma.sibling=Sa;ma.childExpirationTime=0;K.memoizedState=zk;K.child=ma;return Sa}ma=Zi(K,t.child,lb.children,ma);K.memoizedState=null;return K.child=ma}t=t.child;if(Wb){Wb=lb.fallback;lb=mh(null,Sa,0,null);lb.return=K;lb.child=t;null!==t&&(t.return=lb);if(0===(K.mode&2))for(t=null!==K.memoizedState?K.child.child:K.child,lb.child=t;null!==t;)t.return=lb,t=t.sibling;ma=mh(Wb,Sa,ma,null);ma.return=K;lb.sibling=ma;ma.effectTag|=2;lb.childExpirationTime=0;K.memoizedState=zk;K.child=
lb;return ma}K.memoizedState=null;return K.child=Zi(K,t,lb.children,ma)}function zb(t,K){t.expirationTime<K&&(t.expirationTime=K);var ma=t.alternate;null!==ma&&ma.expirationTime<K&&(ma.expirationTime=K);ac(t.return,K)}function Vb(t,K,ma,Sa,lb,Kb){var Wb=t.memoizedState;null===Wb?t.memoizedState={isBackwards:K,rendering:null,renderingStartTime:0,last:Sa,tail:ma,tailExpiration:0,tailMode:lb,lastEffect:Kb}:(Wb.isBackwards=K,Wb.rendering=null,Wb.renderingStartTime=0,Wb.last=Sa,Wb.tail=ma,Wb.tailExpiration=
0,Wb.tailMode=lb,Wb.lastEffect=Kb)}function cc(t,K,ma){var Sa=K.pendingProps,lb=Sa.revealOrder,Kb=Sa.tail;Eb(t,K,Sa.children,ma);Sa=zg.current;if(0!==(Sa&2))Sa=Sa&1|2,K.effectTag|=64;else{if(null!==t&&0!==(t.effectTag&64))a:for(t=K.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&zb(t,ma);else if(19===t.tag)zb(t,ma);else if(null!==t.child){t.child.return=t;t=t.child;continue}if(t===K)break a;for(;null===t.sibling;){if(null===t.return||t.return===K)break a;t=t.return}t.sibling.return=t.return;
t=t.sibling}Sa&=1}Bc(zg,Sa);if(0===(K.mode&2))K.memoizedState=null;else switch(lb){case "forwards":ma=K.child;for(lb=null;null!==ma;)t=ma.alternate,null!==t&&null===vb(t)&&(lb=ma),ma=ma.sibling;ma=lb;null===ma?(lb=K.child,K.child=null):(lb=ma.sibling,ma.sibling=null);Vb(K,!1,lb,ma,Kb,K.lastEffect);break;case "backwards":ma=null;lb=K.child;for(K.child=null;null!==lb;){t=lb.alternate;if(null!==t&&null===vb(t)){K.child=lb;break}t=lb.sibling;lb.sibling=ma;ma=lb;lb=t}Vb(K,!0,ma,null,Kb,K.lastEffect);break;
case "together":Vb(K,!1,null,null,void 0,K.lastEffect);break;default:K.memoizedState=null}return K.child}function oc(t,K,ma){null!==t&&(K.dependencies=t.dependencies);var Sa=K.expirationTime;0!==Sa&&je(Sa);if(K.childExpirationTime<ma)return null;if(null!==t&&K.child!==t.child)throw Error(h(153));if(null!==K.child){t=K.child;ma=bi(t,t.pendingProps);K.child=ma;for(ma.return=K;null!==t.sibling;)t=t.sibling,ma=ma.sibling=bi(t,t.pendingProps),ma.return=K;ma.sibling=null}return K.child}function Jc(t,K){switch(t.tailMode){case "hidden":K=
t.tail;for(var ma=null;null!==K;)null!==K.alternate&&(ma=K),K=K.sibling;null===ma?t.tail=null:ma.sibling=null;break;case "collapsed":ma=t.tail;for(var Sa=null;null!==ma;)null!==ma.alternate&&(Sa=ma),ma=ma.sibling;null===Sa?K||null===t.tail?t.tail=null:t.tail.sibling=null:Sa.sibling=null}}function cd(t,K,ma){var Sa=K.pendingProps;switch(K.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return ye(K.type)&&mc(),null;case 3:return jf(),Ne(Lg),Ne(ug),
ma=K.stateNode,ma.pendingContext&&(ma.context=ma.pendingContext,ma.pendingContext=null),null!==t&&null!==t.child||!tb(K)||(K.effectTag|=4),Qk(K),null;case 5:Ta(K);ma=pf(ak.current);var lb=K.type;if(null!==t&&null!=K.stateNode)Al(t,K,lb,Sa,ma),t.ref!==K.ref&&(K.effectTag|=128);else{if(!Sa){if(null===K.stateNode)throw Error(h(166));return null}t=pf(oi.current);if(tb(K)){Sa=K.stateNode;lb=K.type;var Kb=K.memoizedProps;Sa[uh]=K;Sa[Zg]=Kb;switch(lb){case "iframe":case "object":case "embed":Ic("load",Sa);
break;case "video":case "audio":for(t=0;t<Gh.length;t++)Ic(Gh[t],Sa);break;case "source":Ic("error",Sa);break;case "img":case "image":case "link":Ic("error",Sa);Ic("load",Sa);break;case "form":Ic("reset",Sa);Ic("submit",Sa);break;case "details":Ic("toggle",Sa);break;case "input":z(Sa,Kb);Ic("invalid",Sa);Rc(ma,"onChange");break;case "select":Sa._wrapperState={wasMultiple:!!Kb.multiple};Ic("invalid",Sa);Rc(ma,"onChange");break;case "textarea":wa(Sa,Kb),Ic("invalid",Sa),Rc(ma,"onChange")}Gb(lb,Kb);
t=null;for(var Wb in Kb)if(Kb.hasOwnProperty(Wb)){var uc=Kb[Wb];"children"===Wb?"string"===typeof uc?Sa.textContent!==uc&&(t=["children",uc]):"number"===typeof uc&&Sa.textContent!==""+uc&&(t=["children",""+uc]):ui.hasOwnProperty(Wb)&&null!=uc&&Rc(ma,Wb)}switch(lb){case "input":qa(Sa);aa(Sa,Kb,!0);break;case "textarea":qa(Sa);Xa(Sa);break;case "select":case "option":break;default:"function"===typeof Kb.onClick&&(Sa.onclick=Dd)}ma=t;K.updateQueue=ma;null!==ma&&(K.effectTag|=4)}else{Wb=9===ma.nodeType?
ma:ma.ownerDocument;"http://www.w3.org/1999/xhtml"===t&&(t=Ga(lb));"http://www.w3.org/1999/xhtml"===t?"script"===lb?(t=Wb.createElement("div"),t.innerHTML="\x3cscript\x3e\x3c/script\x3e",t=t.removeChild(t.firstChild)):"string"===typeof Sa.is?t=Wb.createElement(lb,{is:Sa.is}):(t=Wb.createElement(lb),"select"===lb&&(Wb=t,Sa.multiple?Wb.multiple=!0:Sa.size&&(Wb.size=Sa.size))):t=Wb.createElementNS(t,lb);t[uh]=K;t[Zg]=Sa;gl(t,K,!1,!1);K.stateNode=t;Wb=Ac(lb,Sa);switch(lb){case "iframe":case "object":case "embed":Ic("load",
t);uc=Sa;break;case "video":case "audio":for(uc=0;uc<Gh.length;uc++)Ic(Gh[uc],t);uc=Sa;break;case "source":Ic("error",t);uc=Sa;break;case "img":case "image":case "link":Ic("error",t);Ic("load",t);uc=Sa;break;case "form":Ic("reset",t);Ic("submit",t);uc=Sa;break;case "details":Ic("toggle",t);uc=Sa;break;case "input":z(t,Sa);uc=U(t,Sa);Ic("invalid",t);Rc(ma,"onChange");break;case "option":uc=Ea(t,Sa);break;case "select":t._wrapperState={wasMultiple:!!Sa.multiple};uc=Ig({},Sa,{value:void 0});Ic("invalid",
t);Rc(ma,"onChange");break;case "textarea":wa(t,Sa);uc=ib(t,Sa);Ic("invalid",t);Rc(ma,"onChange");break;default:uc=Sa}Gb(lb,uc);var sd=uc;for(Kb in sd)if(sd.hasOwnProperty(Kb)){var nd=sd[Kb];"style"===Kb?ic(t,nd):"dangerouslySetInnerHTML"===Kb?(nd=nd?nd.__html:void 0,null!=nd&&kg(t,nd)):"children"===Kb?"string"===typeof nd?("textarea"!==lb||""!==nd)&&X(t,nd):"number"===typeof nd&&X(t,""+nd):"suppressContentEditableWarning"!==Kb&&"suppressHydrationWarning"!==Kb&&"autoFocus"!==Kb&&(ui.hasOwnProperty(Kb)?
null!=nd&&Rc(ma,Kb):null!=nd&&B(t,Kb,nd,Wb))}switch(lb){case "input":qa(t);aa(t,Sa,!1);break;case "textarea":qa(t);Xa(t);break;case "option":null!=Sa.value&&t.setAttribute("value",""+ia(Sa.value));break;case "select":t.multiple=!!Sa.multiple;ma=Sa.value;null!=ma?ab(t,!!Sa.multiple,ma,!1):null!=Sa.defaultValue&&ab(t,!!Sa.multiple,Sa.defaultValue,!0);break;default:"function"===typeof uc.onClick&&(t.onclick=Dd)}Mb(lb,Sa)&&(K.effectTag|=4)}null!==K.ref&&(K.effectTag|=128)}return null;case 6:if(t&&null!=
K.stateNode)hl(t,K,t.memoizedProps,Sa);else{if("string"!==typeof Sa&&null===K.stateNode)throw Error(h(166));ma=pf(ak.current);pf(oi.current);tb(K)?(ma=K.stateNode,Sa=K.memoizedProps,ma[uh]=K,ma.nodeValue!==Sa&&(K.effectTag|=4)):(ma=(9===ma.nodeType?ma:ma.ownerDocument).createTextNode(Sa),ma[uh]=K,K.stateNode=ma)}return null;case 13:Ne(zg);Sa=K.memoizedState;if(0!==(K.effectTag&64))return K.expirationTime=ma,K;ma=null!==Sa;Sa=!1;null===t?void 0!==K.memoizedProps.fallback&&tb(K):(lb=t.memoizedState,
Sa=null!==lb,ma||null===lb||(lb=t.child.sibling,null!==lb&&(Kb=K.firstEffect,null!==Kb?(K.firstEffect=lb,lb.nextEffect=Kb):(K.firstEffect=K.lastEffect=lb,lb.nextEffect=null),lb.effectTag=8)));if(ma&&!Sa&&0!==(K.mode&2))if(null===t&&!0!==K.memoizedProps.unstable_avoidThisFallback||0!==(zg.current&1))Pg===rj&&(Pg=gh);else{if(Pg===rj||Pg===gh)Pg=sj;0!==bh&&null!==wh&&(xh(wh,oh),Eg(wh,bh))}if(ma||Sa)K.effectTag|=4;return null;case 4:return jf(),Qk(K),null;case 10:return xb(K),null;case 17:return ye(K.type)&&
mc(),null;case 19:Ne(zg);Sa=K.memoizedState;if(null===Sa)return null;lb=0!==(K.effectTag&64);Kb=Sa.rendering;if(null===Kb)if(lb)Jc(Sa,!1);else{if(Pg!==rj||null!==t&&0!==(t.effectTag&64))for(Kb=K.child;null!==Kb;){t=vb(Kb);if(null!==t){K.effectTag|=64;Jc(Sa,!1);lb=t.updateQueue;null!==lb&&(K.updateQueue=lb,K.effectTag|=4);null===Sa.lastEffect&&(K.firstEffect=null);K.lastEffect=Sa.lastEffect;for(Sa=K.child;null!==Sa;)lb=Sa,Kb=ma,lb.effectTag&=2,lb.nextEffect=null,lb.firstEffect=null,lb.lastEffect=null,
t=lb.alternate,null===t?(lb.childExpirationTime=0,lb.expirationTime=Kb,lb.child=null,lb.memoizedProps=null,lb.memoizedState=null,lb.updateQueue=null,lb.dependencies=null):(lb.childExpirationTime=t.childExpirationTime,lb.expirationTime=t.expirationTime,lb.child=t.child,lb.memoizedProps=t.memoizedProps,lb.memoizedState=t.memoizedState,lb.updateQueue=t.updateQueue,Kb=t.dependencies,lb.dependencies=null===Kb?null:{expirationTime:Kb.expirationTime,firstContext:Kb.firstContext,responders:Kb.responders}),
Sa=Sa.sibling;Bc(zg,zg.current&1|2);return K.child}Kb=Kb.sibling}}else{if(!lb)if(t=vb(Kb),null!==t){if(K.effectTag|=64,lb=!0,ma=t.updateQueue,null!==ma&&(K.updateQueue=ma,K.effectTag|=4),Jc(Sa,!0),null===Sa.tail&&"hidden"===Sa.tailMode&&!Kb.alternate)return K=K.lastEffect=Sa.lastEffect,null!==K&&(K.nextEffect=null),null}else 2*ph()-Sa.renderingStartTime>Sa.tailExpiration&&1<ma&&(K.effectTag|=64,lb=!0,Jc(Sa,!1),K.expirationTime=K.childExpirationTime=ma-1);Sa.isBackwards?(Kb.sibling=K.child,K.child=
Kb):(ma=Sa.last,null!==ma?ma.sibling=Kb:K.child=Kb,Sa.last=Kb)}return null!==Sa.tail?(0===Sa.tailExpiration&&(Sa.tailExpiration=ph()+500),ma=Sa.tail,Sa.rendering=ma,Sa.tail=ma.sibling,Sa.lastEffect=K.lastEffect,Sa.renderingStartTime=ph(),ma.sibling=null,K=zg.current,Bc(zg,lb?K&1|2:K&1),ma):null}throw Error(h(156,K.tag));}function $c(t){switch(t.tag){case 1:ye(t.type)&&mc();var K=t.effectTag;return K&4096?(t.effectTag=K&-4097|64,t):null;case 3:jf();Ne(Lg);Ne(ug);K=t.effectTag;if(0!==(K&64))throw Error(h(285));
t.effectTag=K&-4097|64;return t;case 5:return Ta(t),null;case 13:return Ne(zg),K=t.effectTag,K&4096?(t.effectTag=K&-4097|64,t):null;case 19:return Ne(zg),null;case 4:return jf(),null;case 10:return xb(t),null;default:return null}}function Ld(t,K){return{value:t,source:K,stack:Y(K)}}function Zd(t,K){var ma=K.source,Sa=K.stack;null===Sa&&null!==ma&&(Sa=Y(ma));null!==ma&&V(ma.type);K=K.value;null!==t&&1===t.tag&&V(t.type);try{console.error(K)}catch(lb){setTimeout(function(){throw lb;})}}function od(t,
K){try{K.props=t.memoizedProps,K.state=t.memoizedState,K.componentWillUnmount()}catch(ma){yf(t,ma)}}function Fd(t){var K=t.ref;if(null!==K)if("function"===typeof K)try{K(null)}catch(ma){yf(t,ma)}else K.current=null}function ld(t,K){switch(K.tag){case 0:case 11:case 15:case 22:return;case 1:if(K.effectTag&256&&null!==t){var ma=t.memoizedProps,Sa=t.memoizedState;t=K.stateNode;K=t.getSnapshotBeforeUpdate(K.elementType===K.type?ma:Fb(K.type,ma),Sa);t.__reactInternalSnapshotBeforeUpdate=K}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(h(163));
}function bf(t,K){K=K.updateQueue;K=null!==K?K.lastEffect:null;if(null!==K){var ma=K=K.next;do{if((ma.tag&t)===t){var Sa=ma.destroy;ma.destroy=void 0;void 0!==Sa&&Sa()}ma=ma.next}while(ma!==K)}}function bb(t,K){K=K.updateQueue;K=null!==K?K.lastEffect:null;if(null!==K){var ma=K=K.next;do{if((ma.tag&t)===t){var Sa=ma.create;ma.destroy=Sa()}ma=ma.next}while(ma!==K)}}function sb(t,K,ma){switch(ma.tag){case 0:case 11:case 15:case 22:bb(3,ma);return;case 1:t=ma.stateNode;if(ma.effectTag&4)if(null===K)t.componentDidMount();
else{var Sa=ma.elementType===ma.type?K.memoizedProps:Fb(ma.type,K.memoizedProps);t.componentDidUpdate(Sa,K.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}K=ma.updateQueue;null!==K&&Pd(ma,K,t);return;case 3:K=ma.updateQueue;if(null!==K){t=null;if(null!==ma.child)switch(ma.child.tag){case 5:t=ma.child.stateNode;break;case 1:t=ma.child.stateNode}Pd(ma,K,t)}return;case 5:t=ma.stateNode;null===K&&ma.effectTag&4&&Mb(ma.type,ma.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;
case 13:null===ma.memoizedState&&(ma=ma.alternate,null!==ma&&(ma=ma.memoizedState,null!==ma&&(ma=ma.dehydrated,null!==ma&&Sc(ma))));return;case 19:case 17:case 20:case 21:return}throw Error(h(163));}function Bb(t,K,ma){"function"===typeof Ak&&Ak(K);switch(K.tag){case 0:case 11:case 14:case 15:case 22:t=K.updateQueue;if(null!==t&&(t=t.lastEffect,null!==t)){var Sa=t.next;ff(97<ma?97:ma,function(){var lb=Sa;do{var Kb=lb.destroy;if(void 0!==Kb){var Wb=K;try{Kb()}catch(uc){yf(Wb,uc)}}lb=lb.next}while(lb!==
Sa)})}break;case 1:Fd(K);ma=K.stateNode;"function"===typeof ma.componentWillUnmount&&od(K,ma);break;case 5:Fd(K);break;case 4:Q(t,K,ma)}}function Nb(t){var K=t.alternate;t.return=null;t.child=null;t.memoizedState=null;t.updateQueue=null;t.dependencies=null;t.alternate=null;t.firstEffect=null;t.lastEffect=null;t.pendingProps=null;t.memoizedProps=null;t.stateNode=null;null!==K&&Nb(K)}function ec(t){return 5===t.tag||3===t.tag||4===t.tag}function g(t){a:{for(var K=t.return;null!==K;){if(ec(K)){var ma=
K;break a}K=K.return}throw Error(h(160));}K=ma.stateNode;switch(ma.tag){case 5:var Sa=!1;break;case 3:K=K.containerInfo;Sa=!0;break;case 4:K=K.containerInfo;Sa=!0;break;default:throw Error(h(161));}ma.effectTag&16&&(X(K,""),ma.effectTag&=-17);ma=t;a:b:for(;;){for(;null===ma.sibling;){if(null===ma.return||ec(ma.return)){ma=null;break a}ma=ma.return}ma.sibling.return=ma.return;for(ma=ma.sibling;5!==ma.tag&&6!==ma.tag&&18!==ma.tag;){if(ma.effectTag&2)continue b;if(null===ma.child||4===ma.tag)continue b;
else ma.child.return=ma,ma=ma.child}if(!(ma.effectTag&2)){ma=ma.stateNode;break a}}Sa?a(t,ma,K):q(t,ma,K)}function a(t,K,ma){var Sa=t.tag,lb=5===Sa||6===Sa;if(lb)t=lb?t.stateNode:t.stateNode.instance,K?8===ma.nodeType?ma.parentNode.insertBefore(t,K):ma.insertBefore(t,K):(8===ma.nodeType?(K=ma.parentNode,K.insertBefore(t,ma)):(K=ma,K.appendChild(t)),ma=ma._reactRootContainer,null!==ma&&void 0!==ma||null!==K.onclick||(K.onclick=Dd));else if(4!==Sa&&(t=t.child,null!==t))for(a(t,K,ma),t=t.sibling;null!==
t;)a(t,K,ma),t=t.sibling}function q(t,K,ma){var Sa=t.tag,lb=5===Sa||6===Sa;if(lb)t=lb?t.stateNode:t.stateNode.instance,K?ma.insertBefore(t,K):ma.appendChild(t);else if(4!==Sa&&(t=t.child,null!==t))for(q(t,K,ma),t=t.sibling;null!==t;)q(t,K,ma),t=t.sibling}function Q(t,K,ma){for(var Sa=K,lb=!1,Kb,Wb;;){if(!lb){lb=Sa.return;a:for(;;){if(null===lb)throw Error(h(160));Kb=lb.stateNode;switch(lb.tag){case 5:Wb=!1;break a;case 3:Kb=Kb.containerInfo;Wb=!0;break a;case 4:Kb=Kb.containerInfo;Wb=!0;break a}lb=
lb.return}lb=!0}if(5===Sa.tag||6===Sa.tag){var uc=t,sd=Sa,nd=ma,fe=sd;a:for(;;)if(Bb(uc,fe,nd),null!==fe.child&&4!==fe.tag)fe.child.return=fe,fe=fe.child;else{if(fe===sd)break a;for(;null===fe.sibling;){if(null===fe.return||fe.return===sd)break a;fe=fe.return}fe.sibling.return=fe.return;fe=fe.sibling}Wb?(uc=Kb,sd=Sa.stateNode,8===uc.nodeType?uc.parentNode.removeChild(sd):uc.removeChild(sd)):Kb.removeChild(Sa.stateNode)}else if(4===Sa.tag){if(null!==Sa.child){Kb=Sa.stateNode.containerInfo;Wb=!0;Sa.child.return=
Sa;Sa=Sa.child;continue}}else if(Bb(t,Sa,ma),null!==Sa.child){Sa.child.return=Sa;Sa=Sa.child;continue}if(Sa===K)break;for(;null===Sa.sibling;){if(null===Sa.return||Sa.return===K)return;Sa=Sa.return;4===Sa.tag&&(lb=!1)}Sa.sibling.return=Sa.return;Sa=Sa.sibling}}function la(t,K){switch(K.tag){case 0:case 11:case 14:case 15:case 22:bf(3,K);return;case 1:return;case 5:var ma=K.stateNode;if(null!=ma){var Sa=K.memoizedProps,lb=null!==t?t.memoizedProps:Sa;t=K.type;var Kb=K.updateQueue;K.updateQueue=null;
if(null!==Kb){ma[Zg]=Sa;"input"===t&&"radio"===Sa.type&&null!=Sa.name&&T(ma,Sa);Ac(t,lb);K=Ac(t,Sa);for(lb=0;lb<Kb.length;lb+=2){var Wb=Kb[lb],uc=Kb[lb+1];"style"===Wb?ic(ma,uc):"dangerouslySetInnerHTML"===Wb?kg(ma,uc):"children"===Wb?X(ma,uc):B(ma,Wb,uc,K)}switch(t){case "input":da(ma,Sa);break;case "textarea":Wa(ma,Sa);break;case "select":K=ma._wrapperState.wasMultiple,ma._wrapperState.wasMultiple=!!Sa.multiple,t=Sa.value,null!=t?ab(ma,!!Sa.multiple,t,!1):K!==!!Sa.multiple&&(null!=Sa.defaultValue?
ab(ma,!!Sa.multiple,Sa.defaultValue,!0):ab(ma,!!Sa.multiple,Sa.multiple?[]:"",!1))}}}return;case 6:if(null===K.stateNode)throw Error(h(162));K.stateNode.nodeValue=K.memoizedProps;return;case 3:K=K.stateNode;K.hydrate&&(K.hydrate=!1,Sc(K.containerInfo));return;case 12:return;case 13:ma=K;null===K.memoizedState?Sa=!1:(Sa=!0,ma=K.child,Rk=ph());if(null!==ma)a:for(t=ma;;){if(5===t.tag)Kb=t.stateNode,Sa?(Kb=Kb.style,"function"===typeof Kb.setProperty?Kb.setProperty("display","none","important"):Kb.display=
"none"):(Kb=t.stateNode,lb=t.memoizedProps.style,lb=void 0!==lb&&null!==lb&&lb.hasOwnProperty("display")?lb.display:null,Kb.style.display=Rb("display",lb));else if(6===t.tag)t.stateNode.nodeValue=Sa?"":t.memoizedProps;else if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){Kb=t.child.sibling;Kb.return=t;t=Kb;continue}else if(null!==t.child){t.child.return=t;t=t.child;continue}if(t===ma)break;for(;null===t.sibling;){if(null===t.return||t.return===ma)break a;t=t.return}t.sibling.return=
t.return;t=t.sibling}Qa(K);return;case 19:Qa(K);return;case 17:return}throw Error(h(163));}function Qa(t){var K=t.updateQueue;if(null!==K){t.updateQueue=null;var ma=t.stateNode;null===ma&&(ma=t.stateNode=new il);K.forEach(function(Sa){var lb=Qg.bind(null,t,Sa);ma.has(Sa)||(ma.add(Sa),Sa.then(lb,lb))})}}function $a(t,K,ma){ma=Md(ma,null);ma.tag=3;ma.payload={element:null};var Sa=K.value;ma.callback=function(){Bk||(Bk=!0,ci=Sa);Zd(t,K)};return ma}function ob(t,K,ma){ma=Md(ma,null);ma.tag=3;var Sa=t.type.getDerivedStateFromError;
if("function"===typeof Sa){var lb=K.value;ma.payload=function(){Zd(t,K);return Sa(lb)}}var Kb=t.stateNode;null!==Kb&&"function"===typeof Kb.componentDidCatch&&(ma.callback=function(){"function"!==typeof Sa&&(null===di?di=new Set([this]):di.add(this),Zd(t,K));var Wb=K.stack;this.componentDidCatch(K.value,{componentStack:null!==Wb?Wb:""})});return ma}function Db(){return(nf&(yh|Nh))!==Rg?1073741821-(ph()/10|0):0!==Ck?Ck:Ck=1073741821-(ph()/10|0)}function $b(t,K,ma){K=K.mode;if(0===(K&2))return 1073741823;
var Sa=Af();if(0===(K&4))return 99===Sa?1073741823:1073741822;if((nf&yh)!==Rg)return oh;if(null!==ma)t=db(t,ma.timeoutMs|0||5E3,250);else switch(Sa){case 99:t=1073741823;break;case 98:t=db(t,150,100);break;case 97:case 96:t=db(t,5E3,250);break;case 95:t=2;break;default:throw Error(h(326));}null!==wh&&t===oh&&--t;return t}function Ub(t,K){if(50<$i)throw $i=0,Dk=null,Error(h(185));t=Mc(t,K);if(null!==t){var ma=Af();1073741823===K?(nf&Sk)!==Rg&&(nf&(yh|Nh))===Rg?dd(t):(td(t),nf===Rg&&Ba()):td(t);(nf&
4)===Rg||98!==ma&&99!==ma||(null===aj?aj=new Map([[t,K]]):(ma=aj.get(t),(void 0===ma||ma>K)&&aj.set(t,K)))}}function Mc(t,K){t.expirationTime<K&&(t.expirationTime=K);var ma=t.alternate;null!==ma&&ma.expirationTime<K&&(ma.expirationTime=K);var Sa=t.return,lb=null;if(null===Sa&&3===t.tag)lb=t.stateNode;else for(;null!==Sa;){ma=Sa.alternate;Sa.childExpirationTime<K&&(Sa.childExpirationTime=K);null!==ma&&ma.childExpirationTime<K&&(ma.childExpirationTime=K);if(null===Sa.return&&3===Sa.tag){lb=Sa.stateNode;
break}Sa=Sa.return}null!==lb&&(wh===lb&&(je(K),Pg===sj&&xh(lb,oh)),Eg(lb,K));return lb}function Zc(t){var K=t.lastExpiredTime;if(0!==K)return K;K=t.firstPendingTime;if(!ek(t,K))return K;var ma=t.lastPingedTime;t=t.nextKnownPendingLevel;t=ma>t?ma:t;return 2>=t&&K!==t?0:t}function td(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=Ec(dd.bind(null,t));else{var K=Zc(t),ma=t.callbackNode;if(0===K)null!==ma&&(t.callbackNode=null,t.callbackExpirationTime=
0,t.callbackPriority=90);else{var Sa=Db();1073741823===K?Sa=99:1===K||2===K?Sa=95:(Sa=10*(1073741821-K)-10*(1073741821-Sa),Sa=0>=Sa?99:250>=Sa?98:5250>=Sa?97:95);if(null!==ma){var lb=t.callbackPriority;if(t.callbackExpirationTime===K&&lb>=Sa)return;ma!==dl&&el(ma)}t.callbackExpirationTime=K;t.callbackPriority=Sa;K=1073741823===K?Ec(dd.bind(null,t)):ne(Sa,qd.bind(null,t),{timeout:10*(1073741821-K)-ph()});t.callbackNode=K}}}function qd(t,K){Ck=0;if(K)return K=Db(),bj(t,K),td(t),null;var ma=Zc(t);if(0!==
ma){K=t.callbackNode;if((nf&(yh|Nh))!==Rg)throw Error(h(327));Hf();t===wh&&ma===oh||Ed(t,ma);if(null!==uf){var Sa=nf;nf|=yh;var lb=Ae();do try{for(;null!==uf&&!Bl();)uf=qe(uf);break}catch(uc){se(t,uc)}while(1);Hj=ai=Gj=null;nf=Sa;Ek.current=lb;if(Pg===fk)throw K=ch,Ed(t,ma),xh(t,ma),td(t),K;if(null===uf)switch(lb=t.finishedWork=t.current.alternate,t.finishedExpirationTime=ma,Sa=Pg,wh=null,Sa){case rj:case fk:throw Error(h(345));case Tk:bj(t,2<ma?2:ma);break;case gh:xh(t,ma);Sa=t.lastSuspendedTime;
ma===Sa&&(t.nextKnownPendingLevel=Bd(lb));if(1073741823===ei&&(lb=Rk+qi-ph(),10<lb)){if(Mj){var Kb=t.lastPingedTime;if(0===Kb||Kb>=ma){t.lastPingedTime=ma;Ed(t,ma);break}}Kb=Zc(t);if(0!==Kb&&Kb!==ma)break;if(0!==Sa&&Sa!==ma){t.lastPingedTime=Sa;break}t.timeoutHandle=Wg(Je.bind(null,t),lb);break}Je(t);break;case sj:xh(t,ma);Sa=t.lastSuspendedTime;ma===Sa&&(t.nextKnownPendingLevel=Bd(lb));if(Mj&&(lb=t.lastPingedTime,0===lb||lb>=ma)){t.lastPingedTime=ma;Ed(t,ma);break}lb=Zc(t);if(0!==lb&&lb!==ma)break;
if(0!==Sa&&Sa!==ma){t.lastPingedTime=Sa;break}1073741823!==gk?Sa=10*(1073741821-gk)-ph():1073741823===ei?Sa=0:(Sa=10*(1073741821-ei)-5E3,lb=ph(),ma=10*(1073741821-ma)-lb,Sa=lb-Sa,0>Sa&&(Sa=0),Sa=(120>Sa?120:480>Sa?480:1080>Sa?1080:1920>Sa?1920:3E3>Sa?3E3:4320>Sa?4320:1960*Cl(Sa/1960))-Sa,ma<Sa&&(Sa=ma));if(10<Sa){t.timeoutHandle=Wg(Je.bind(null,t),Sa);break}Je(t);break;case Uk:if(1073741823!==ei&&null!==Fg){Kb=ei;var Wb=Fg;Sa=Wb.busyMinDurationMs|0;0>=Sa?Sa=0:(lb=Wb.busyDelayMs|0,Kb=ph()-(10*(1073741821-
Kb)-(Wb.timeoutMs|0||5E3)),Sa=Kb<=lb?0:lb+Sa-Kb);if(10<Sa){xh(t,ma);t.timeoutHandle=Wg(Je.bind(null,t),Sa);break}}Je(t);break;default:throw Error(h(329));}td(t);if(t.callbackNode===K)return qd.bind(null,t)}}return null}function dd(t){var K=t.lastExpiredTime;K=0!==K?K:1073741823;if((nf&(yh|Nh))!==Rg)throw Error(h(327));Hf();t===wh&&K===oh||Ed(t,K);if(null!==uf){var ma=nf;nf|=yh;var Sa=Ae();do try{for(;null!==uf;)uf=qe(uf);break}catch(lb){se(t,lb)}while(1);Hj=ai=Gj=null;nf=ma;Ek.current=Sa;if(Pg===
fk)throw ma=ch,Ed(t,K),xh(t,K),td(t),ma;if(null!==uf)throw Error(h(261));t.finishedWork=t.current.alternate;t.finishedExpirationTime=K;wh=null;Je(t);td(t)}return null}function Pc(){if(null!==aj){var t=aj;aj=null;t.forEach(function(K,ma){bj(ma,K);td(ma)});Ba()}}function Ad(t,K){var ma=nf;nf|=1;try{return t(K)}finally{nf=ma,nf===Rg&&Ba()}}function he(t,K){var ma=nf;nf&=-2;nf|=Sk;try{return t(K)}finally{nf=ma,nf===Rg&&Ba()}}function Ed(t,K){t.finishedWork=null;t.finishedExpirationTime=0;var ma=t.timeoutHandle;
-1!==ma&&(t.timeoutHandle=-1,Rf(ma));if(null!==uf)for(ma=uf.return;null!==ma;){var Sa=ma;switch(Sa.tag){case 1:Sa=Sa.type.childContextTypes;null!==Sa&&void 0!==Sa&&mc();break;case 3:jf();Ne(Lg);Ne(ug);break;case 5:Ta(Sa);break;case 4:jf();break;case 13:Ne(zg);break;case 19:Ne(zg);break;case 10:xb(Sa)}ma=ma.return}wh=t;uf=bi(t.current,null);oh=K;Pg=rj;ch=null;gk=ei=1073741823;Fg=null;bh=0;Mj=!1}function se(t,K){do{try{Hj=ai=Gj=null;xk.current=Fe;if(yk)for(var ma=Bg.memoizedState;null!==ma;){var Sa=
ma.queue;null!==Sa&&(Sa.pending=null);ma=ma.next}pi=0;$g=ah=Bg=null;yk=!1;if(null===uf||null===uf.return)return Pg=fk,ch=K,uf=null;a:{var lb=t,Kb=uf.return,Wb=uf,uc=K;K=oh;Wb.effectTag|=2048;Wb.firstEffect=Wb.lastEffect=null;if(null!==uc&&"object"===typeof uc&&"function"===typeof uc.then){var sd=uc;if(0===(Wb.mode&2)){var nd=Wb.alternate;nd?(Wb.updateQueue=nd.updateQueue,Wb.memoizedState=nd.memoizedState,Wb.expirationTime=nd.expirationTime):(Wb.updateQueue=null,Wb.memoizedState=null)}var fe=0!==(zg.current&
1),re=Kb;do{var Tf;if(Tf=13===re.tag){var cg=re.memoizedState;if(null!==cg)Tf=null!==cg.dehydrated?!0:!1;else{var pg=re.memoizedProps;Tf=void 0===pg.fallback?!1:!0!==pg.unstable_avoidThisFallback?!0:fe?!1:!0}}if(Tf){var Og=re.updateQueue;if(null===Og){var gd=new Set;gd.add(sd);re.updateQueue=gd}else Og.add(sd);if(0===(re.mode&2)){re.effectTag|=64;Wb.effectTag&=-2981;if(1===Wb.tag)if(null===Wb.alternate)Wb.tag=17;else{var Xc=Md(1073741823,null);Xc.tag=2;md(Wb,Xc)}Wb.expirationTime=1073741823;break a}uc=
void 0;Wb=K;var zd=lb.pingCache;null===zd?(zd=lb.pingCache=new jl,uc=new Set,zd.set(sd,uc)):(uc=zd.get(sd),void 0===uc&&(uc=new Set,zd.set(sd,uc)));if(!uc.has(Wb)){uc.add(Wb);var Yd=ig.bind(null,lb,sd,Wb);sd.then(Yd,Yd)}re.effectTag|=4096;re.expirationTime=K;break a}re=re.return}while(null!==re);uc=Error((V(Wb.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a \x3cSuspense fallback\x3d...\x3e component higher in the tree to provide a loading indicator or placeholder to display."+
Y(Wb))}Pg!==Uk&&(Pg=Tk);uc=Ld(uc,Wb);re=Kb;do{switch(re.tag){case 3:sd=uc;re.effectTag|=4096;re.expirationTime=K;var me=$a(re,sd,K);Hd(re,me);break a;case 1:sd=uc;var De=re.type,af=re.stateNode;if(0===(re.effectTag&64)&&("function"===typeof De.getDerivedStateFromError||null!==af&&"function"===typeof af.componentDidCatch&&(null===di||!di.has(af)))){re.effectTag|=4096;re.expirationTime=K;var Wf=ob(re,sd,K);Hd(re,Wf);break a}}re=re.return}while(null!==re)}uf=Te(uf)}catch(tg){K=tg;continue}break}while(1)}
function Ae(){var t=Ek.current;Ek.current=Fe;return null===t?Fe:t}function Of(t,K){t<ei&&2<t&&(ei=t);null!==K&&t<gk&&2<t&&(gk=t,Fg=K)}function je(t){t>bh&&(bh=t)}function qe(t){var K=kl(t.alternate,t,oh);t.memoizedProps=t.pendingProps;null===K&&(K=Te(t));ll.current=null;return K}function Te(t){uf=t;do{var K=uf.alternate;t=uf.return;if(0===(uf.effectTag&2048)){K=cd(K,uf,oh);if(1===oh||1!==uf.childExpirationTime){for(var ma=0,Sa=uf.child;null!==Sa;){var lb=Sa.expirationTime,Kb=Sa.childExpirationTime;
lb>ma&&(ma=lb);Kb>ma&&(ma=Kb);Sa=Sa.sibling}uf.childExpirationTime=ma}if(null!==K)return K;null!==t&&0===(t.effectTag&2048)&&(null===t.firstEffect&&(t.firstEffect=uf.firstEffect),null!==uf.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=uf.firstEffect),t.lastEffect=uf.lastEffect),1<uf.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=uf:t.firstEffect=uf,t.lastEffect=uf))}else{K=$c(uf);if(null!==K)return K.effectTag&=2047,K;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}K=
uf.sibling;if(null!==K)return K;uf=t}while(null!==uf);Pg===rj&&(Pg=Uk);return null}function Bd(t){var K=t.expirationTime;t=t.childExpirationTime;return K>t?K:t}function Je(t){var K=Af();ff(99,lg.bind(null,t,K));return null}function lg(t,K){do Hf();while(null!==Nj);if((nf&(yh|Nh))!==Rg)throw Error(h(327));var ma=t.finishedWork,Sa=t.finishedExpirationTime;if(null===ma)return null;t.finishedWork=null;t.finishedExpirationTime=0;if(ma===t.current)throw Error(h(177));t.callbackNode=null;t.callbackExpirationTime=
0;t.callbackPriority=90;t.nextKnownPendingLevel=0;var lb=Bd(ma);t.firstPendingTime=lb;Sa<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:Sa<=t.firstSuspendedTime&&(t.firstSuspendedTime=Sa-1);Sa<=t.lastPingedTime&&(t.lastPingedTime=0);Sa<=t.lastExpiredTime&&(t.lastExpiredTime=0);t===wh&&(uf=wh=null,oh=0);1<ma.effectTag?null!==ma.lastEffect?(ma.lastEffect.nextEffect=ma,lb=ma.firstEffect):lb=ma:lb=ma.firstEffect;if(null!==lb){var Kb=nf;nf|=Nh;ll.current=null;Ki=
Xh;var Wb=Jb();if(dc(Wb)){if("selectionStart"in Wb)var uc={start:Wb.selectionStart,end:Wb.selectionEnd};else a:{uc=(uc=Wb.ownerDocument)&&uc.defaultView||window;var sd=uc.getSelection&&uc.getSelection();if(sd&&0!==sd.rangeCount){uc=sd.anchorNode;var nd=sd.anchorOffset,fe=sd.focusNode;sd=sd.focusOffset;try{uc.nodeType,fe.nodeType}catch(Ff){uc=null;break a}var re=0,Tf=-1,cg=-1,pg=0,Og=0,gd=Wb,Xc=null;b:for(;;){for(var zd;;){gd!==uc||0!==nd&&3!==gd.nodeType||(Tf=re+nd);gd!==fe||0!==sd&&3!==gd.nodeType||
(cg=re+sd);3===gd.nodeType&&(re+=gd.nodeValue.length);if(null===(zd=gd.firstChild))break;Xc=gd;gd=zd}for(;;){if(gd===Wb)break b;Xc===uc&&++pg===nd&&(Tf=re);Xc===fe&&++Og===sd&&(cg=re);if(null!==(zd=gd.nextSibling))break;gd=Xc;Xc=gd.parentNode}gd=zd}uc=-1===Tf||-1===cg?null:{start:Tf,end:cg}}else uc=null}uc=uc||{start:0,end:0}}else uc=null;Xg={activeElementDetached:null,focusedElem:Wb,selectionRange:uc};Xh=!1;He=lb;do try{ef()}catch(Ff){if(null===He)throw Error(h(330));yf(He,Ff);He=He.nextEffect}while(null!==
He);He=lb;do try{for(Wb=t,uc=K;null!==He;){var Yd=He.effectTag;Yd&16&&X(He.stateNode,"");if(Yd&128){var me=He.alternate;if(null!==me){var De=me.ref;null!==De&&("function"===typeof De?De(null):De.current=null)}}switch(Yd&1038){case 2:g(He);He.effectTag&=-3;break;case 6:g(He);He.effectTag&=-3;la(He.alternate,He);break;case 1024:He.effectTag&=-1025;break;case 1028:He.effectTag&=-1025;la(He.alternate,He);break;case 4:la(He.alternate,He);break;case 8:nd=He,Q(Wb,nd,uc),Nb(nd)}He=He.nextEffect}}catch(Ff){if(null===
He)throw Error(h(330));yf(He,Ff);He=He.nextEffect}while(null!==He);De=Xg;me=Jb();Yd=De.focusedElem;uc=De.selectionRange;if(me!==Yd&&Yd&&Yd.ownerDocument&&yb(Yd.ownerDocument.documentElement,Yd)){null!==uc&&dc(Yd)&&(me=uc.start,De=uc.end,void 0===De&&(De=me),"selectionStart"in Yd?(Yd.selectionStart=me,Yd.selectionEnd=Math.min(De,Yd.value.length)):(De=(me=Yd.ownerDocument||document)&&me.defaultView||window,De.getSelection&&(De=De.getSelection(),nd=Yd.textContent.length,Wb=Math.min(uc.start,nd),uc=void 0===
uc.end?Wb:Math.min(uc.end,nd),!De.extend&&Wb>uc&&(nd=uc,uc=Wb,Wb=nd),nd=kb(Yd,Wb),fe=kb(Yd,uc),nd&&fe&&(1!==De.rangeCount||De.anchorNode!==nd.node||De.anchorOffset!==nd.offset||De.focusNode!==fe.node||De.focusOffset!==fe.offset)&&(me=me.createRange(),me.setStart(nd.node,nd.offset),De.removeAllRanges(),Wb>uc?(De.addRange(me),De.extend(fe.node,fe.offset)):(me.setEnd(fe.node,fe.offset),De.addRange(me))))));me=[];for(De=Yd;De=De.parentNode;)1===De.nodeType&&me.push({element:De,left:De.scrollLeft,top:De.scrollTop});
"function"===typeof Yd.focus&&Yd.focus();for(Yd=0;Yd<me.length;Yd++)De=me[Yd],De.element.scrollLeft=De.left,De.element.scrollTop=De.top}Xh=!!Ki;Xg=Ki=null;t.current=ma;He=lb;do try{for(Yd=t;null!==He;){var af=He.effectTag;af&36&&sb(Yd,He.alternate,He);if(af&128){me=void 0;var Wf=He.ref;if(null!==Wf){var tg=He.stateNode;switch(He.tag){case 5:me=tg;break;default:me=tg}"function"===typeof Wf?Wf(me):Wf.current=me}}He=He.nextEffect}}catch(Ff){if(null===He)throw Error(h(330));yf(He,Ff);He=He.nextEffect}while(null!==
He);He=null;ml();nf=Kb}else t.current=ma;if(hk)hk=!1,Nj=t,ik=K;else for(He=lb;null!==He;)K=He.nextEffect,He.nextEffect=null,He=K;K=t.firstPendingTime;0===K&&(di=null);1073741823===K?t===Dk?$i++:($i=0,Dk=t):$i=0;"function"===typeof Vk&&Vk(ma.stateNode,Sa);td(t);if(Bk)throw Bk=!1,t=ci,ci=null,t;if((nf&Sk)!==Rg)return null;Ba();return null}function ef(){for(;null!==He;){var t=He.effectTag;0!==(t&256)&&ld(He.alternate,He);0===(t&512)||hk||(hk=!0,ne(97,function(){Hf();return null}));He=He.nextEffect}}
function Hf(){if(90!==ik){var t=97<ik?97:ik;ik=90;return ff(t,Gf)}}function Gf(){if(null===Nj)return!1;var t=Nj;Nj=null;if((nf&(yh|Nh))!==Rg)throw Error(h(331));var K=nf;nf|=Nh;for(t=t.current.firstEffect;null!==t;){try{var ma=t;if(0!==(ma.effectTag&512))switch(ma.tag){case 0:case 11:case 15:case 22:bf(5,ma),bb(5,ma)}}catch(Sa){if(null===t)throw Error(h(330));yf(t,Sa)}ma=t.nextEffect;t.nextEffect=null;t=ma}nf=K;Ba();return!0}function Bf(t,K,ma){K=Ld(ma,K);K=$a(t,K,1073741823);md(t,K);t=Mc(t,1073741823);
null!==t&&td(t)}function yf(t,K){if(3===t.tag)Bf(t,t,K);else for(var ma=t.return;null!==ma;){if(3===ma.tag){Bf(ma,t,K);break}else if(1===ma.tag){var Sa=ma.stateNode;if("function"===typeof ma.type.getDerivedStateFromError||"function"===typeof Sa.componentDidCatch&&(null===di||!di.has(Sa))){t=Ld(K,t);t=ob(ma,t,1073741823);md(ma,t);ma=Mc(ma,1073741823);null!==ma&&td(ma);break}}ma=ma.return}}function ig(t,K,ma){var Sa=t.pingCache;null!==Sa&&Sa.delete(K);wh===t&&oh===ma?Pg===sj||Pg===gh&&1073741823===
ei&&ph()-Rk<qi?Ed(t,oh):Mj=!0:ek(t,ma)&&(K=t.lastPingedTime,0!==K&&K<ma||(t.lastPingedTime=ma,td(t)))}function Qg(t,K){var ma=t.stateNode;null!==ma&&ma.delete(K);K=0;0===K&&(K=Db(),K=$b(K,t,null));t=Mc(t,K);null!==t&&td(t)}function zh(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var K=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(K.isDisabled||!K.supportsFiber)return!0;try{var ma=K.inject(t);Vk=function(Sa){try{K.onCommitFiberRoot(ma,Sa,void 0,64===(Sa.current.effectTag&64))}catch(lb){}};
Ak=function(Sa){try{K.onCommitFiberUnmount(ma,Sa)}catch(lb){}}}catch(Sa){}return!0}function tj(t,K,ma,Sa){this.tag=t;this.key=ma;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=K;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=Sa;this.effectTag=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childExpirationTime=this.expirationTime=0;this.alternate=null}function Vg(t,
K,ma,Sa){return new tj(t,K,ma,Sa)}function Lj(t){t=t.prototype;return!(!t||!t.isReactComponent)}function jk(t){if("function"===typeof t)return Lj(t)?1:0;if(void 0!==t&&null!==t){t=t.$$typeof;if(t===Eh)return 11;if(t===fh)return 14}return 2}function bi(t,K){var ma=t.alternate;null===ma?(ma=Vg(t.tag,K,t.key,t.mode),ma.elementType=t.elementType,ma.type=t.type,ma.stateNode=t.stateNode,ma.alternate=t,t.alternate=ma):(ma.pendingProps=K,ma.effectTag=0,ma.nextEffect=null,ma.firstEffect=null,ma.lastEffect=
null);ma.childExpirationTime=t.childExpirationTime;ma.expirationTime=t.expirationTime;ma.child=t.child;ma.memoizedProps=t.memoizedProps;ma.memoizedState=t.memoizedState;ma.updateQueue=t.updateQueue;K=t.dependencies;ma.dependencies=null===K?null:{expirationTime:K.expirationTime,firstContext:K.firstContext,responders:K.responders};ma.sibling=t.sibling;ma.index=t.index;ma.ref=t.ref;return ma}function Ii(t,K,ma,Sa,lb,Kb){var Wb=2;Sa=t;if("function"===typeof t)Lj(t)&&(Wb=1);else if("string"===typeof t)Wb=
5;else a:switch(t){case ih:return mh(ma.children,lb,Kb,K);case dh:Wb=8;lb|=7;break;case wi:Wb=8;lb|=1;break;case Uh:return t=Vg(12,ma,K,lb|8),t.elementType=Uh,t.type=Uh,t.expirationTime=Kb,t;case Si:return t=Vg(13,ma,K,lb),t.type=Si,t.elementType=Si,t.expirationTime=Kb,t;case xi:return t=Vg(19,ma,K,lb),t.elementType=xi,t.expirationTime=Kb,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case eh:Wb=10;break a;case Tj:Wb=9;break a;case Eh:Wb=11;break a;case fh:Wb=14;break a;case zi:Wb=
16;Sa=null;break a;case yi:Wb=22;break a}throw Error(h(130,null==t?t:typeof t,""));}K=Vg(Wb,ma,K,lb);K.elementType=t;K.type=Sa;K.expirationTime=Kb;return K}function mh(t,K,ma,Sa){t=Vg(7,t,Sa,K);t.expirationTime=ma;return t}function Ij(t,K,ma){t=Vg(6,t,null,K);t.expirationTime=ma;return t}function yg(t,K,ma){K=Vg(4,null!==t.children?t.children:[],t.key,K);K.expirationTime=ma;K.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation};return K}function Fk(t,K,ma){this.tag=
K;this.current=null;this.containerInfo=t;this.pingCache=this.pendingChildren=null;this.finishedExpirationTime=0;this.finishedWork=null;this.timeoutHandle=-1;this.pendingContext=this.context=null;this.hydrate=ma;this.callbackNode=null;this.callbackPriority=90;this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function ek(t,K){var ma=t.firstSuspendedTime;t=t.lastSuspendedTime;return 0!==ma&&ma>=K&&t<=K}function xh(t,
K){var ma=t.firstSuspendedTime,Sa=t.lastSuspendedTime;ma<K&&(t.firstSuspendedTime=K);if(Sa>K||0===ma)t.lastSuspendedTime=K;K<=t.lastPingedTime&&(t.lastPingedTime=0);K<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function Eg(t,K){K>t.firstPendingTime&&(t.firstPendingTime=K);var ma=t.firstSuspendedTime;0!==ma&&(K>=ma?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:K>=t.lastSuspendedTime&&(t.lastSuspendedTime=K+1),K>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=K))}function bj(t,
K){var ma=t.lastExpiredTime;if(0===ma||ma>K)t.lastExpiredTime=K}function uj(t,K,ma,Sa){var lb=K.current,Kb=Db(),Wb=dk.suspense;Kb=$b(Kb,lb,Wb);a:if(ma){ma=ma._reactInternalFiber;b:{if(xa(ma)!==ma||1!==ma.tag)throw Error(h(170));var uc=ma;do{switch(uc.tag){case 3:uc=uc.stateNode.context;break b;case 1:if(ye(uc.type)){uc=uc.stateNode.__reactInternalMemoizedMergedChildContext;break b}}uc=uc.return}while(null!==uc);throw Error(h(171));}if(1===ma.tag){var sd=ma.type;if(ye(sd)){ma=le(ma,sd,uc);break a}}ma=
uc}else ma=Ug;null===K.context?K.context=ma:K.pendingContext=ma;K=Md(Kb,Wb);K.payload={element:t};Sa=void 0===Sa?null:Sa;null!==Sa&&(K.callback=Sa);md(lb,K);Ub(lb,Kb);return Kb}function Li(t){t=t.current;if(!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function kk(t,K){t=t.memoizedState;null!==t&&null!==t.dehydrated&&t.retryTime<K&&(t.retryTime=K)}function cj(t,K){kk(t,K);(t=t.alternate)&&kk(t,K)}function Oh(t,K,ma){ma=null!=ma&&!0===ma.hydrate;
var Sa=new Fk(t,K,ma),lb=Vg(3,null,null,2===K?7:1===K?3:0);Sa.current=lb;lb.stateNode=Sa;ed(lb);t[Lh]=Sa.current;ma&&0!==K&&rc(t,9===t.nodeType?t:t.ownerDocument);this._internalRoot=Sa}function Ph(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Gk(t,K){K||(K=t?9===t.nodeType?t.documentElement:t.firstChild:null,K=!(!K||1!==K.nodeType||!K.hasAttribute("data-reactroot")));if(!K)for(var ma;ma=t.lastChild;)t.removeChild(ma);
return new Oh(t,0,K?{hydrate:!0}:void 0)}function Yg(t,K,ma,Sa,lb){var Kb=ma._reactRootContainer;if(Kb){var Wb=Kb._internalRoot;if("function"===typeof lb){var uc=lb;lb=function(){var nd=Li(Wb);uc.call(nd)}}uj(K,Wb,t,lb)}else{Kb=ma._reactRootContainer=Gk(ma,Sa);Wb=Kb._internalRoot;if("function"===typeof lb){var sd=lb;lb=function(){var nd=Li(Wb);sd.call(nd)}}he(function(){uj(K,Wb,t,lb)})}return Li(Wb)}function vj(t,K,ma){var Sa=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ki,
key:null==Sa?null:""+Sa,children:t,containerInfo:K,implementation:ma}}function lk(t,K){var ma=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ph(K))throw Error(h(200));return vj(t,K,null,ma)}var lj=E(5),Ig=E(0),Jg=E(8);if(!lj)throw Error(h(227));var ag=!1,Oi=null,Dh=!1,gj=null,Sj={onError:function(t){ag=!0;Oi=t}},jj=null,Pi=null,hi=null,hj=null,ii={},ij=[],Bj={},ui={},ji={},Fh=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),
Qi=null,vi=null,xg=null,Th=k,sg=!1,Ri=!1,hh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kj=Object.prototype.hasOwnProperty,Df={},Jf={},Nf={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nf[t]=
new P(t,0,!1,t,null,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var K=t[0];Nf[K]=new P(K,1,!1,t[1],null,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nf[t]=new P(t,2,!1,t.toLowerCase(),null,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nf[t]=new P(t,2,!1,t,null,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nf[t]=
new P(t,3,!1,t.toLowerCase(),null,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nf[t]=new P(t,3,!0,t,null,!1)});["capture","download"].forEach(function(t){Nf[t]=new P(t,4,!1,t,null,!1)});["cols","rows","size","span"].forEach(function(t){Nf[t]=new P(t,6,!1,t,null,!1)});["rowSpan","start"].forEach(function(t){Nf[t]=new P(t,5,!1,t.toLowerCase(),null,!1)});var Mi=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var K=
t.replace(Mi,G);Nf[K]=new P(K,1,!1,t,null,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var K=t.replace(Mi,G);Nf[K]=new P(K,1,!1,t,"http://www.w3.org/1999/xlink",!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var K=t.replace(Mi,G);Nf[K]=new P(K,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)});["tabIndex","crossOrigin"].forEach(function(t){Nf[t]=new P(t,1,!1,t.toLowerCase(),null,!1)});Nf.xlinkHref=new P("xlinkHref",
1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0);["src","href","action","formAction"].forEach(function(t){Nf[t]=new P(t,1,!1,t.toLowerCase(),null,!0)});var Gg=lj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Gg.hasOwnProperty("ReactCurrentDispatcher")||(Gg.ReactCurrentDispatcher={current:null});Gg.hasOwnProperty("ReactCurrentBatchConfig")||(Gg.ReactCurrentBatchConfig={suspense:null});var Tg=/^(.*)[\\\/]/,Ag="function"===typeof Symbol&&Symbol.for,qj=Ag?Symbol.for("react.element"):60103,ki=
Ag?Symbol.for("react.portal"):60106,ih=Ag?Symbol.for("react.fragment"):60107,wi=Ag?Symbol.for("react.strict_mode"):60108,Uh=Ag?Symbol.for("react.profiler"):60114,eh=Ag?Symbol.for("react.provider"):60109,Tj=Ag?Symbol.for("react.context"):60110,dh=Ag?Symbol.for("react.concurrent_mode"):60111,Eh=Ag?Symbol.for("react.forward_ref"):60112,Si=Ag?Symbol.for("react.suspense"):60113,xi=Ag?Symbol.for("react.suspense_list"):60120,fh=Ag?Symbol.for("react.memo"):60115,zi=Ag?Symbol.for("react.lazy"):60116,yi=Ag?
Symbol.for("react.block"):60121,zf="function"===typeof Symbol&&Symbol.iterator,Qh,kg=function(t){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(K,ma,Sa,lb){MSApp.execUnsafeLocalFunction(function(){return t(K,ma,Sa,lb)})}:t}(function(t,K){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=K;else{Qh=Qh||document.createElement("div");Qh.innerHTML="\x3csvg\x3e"+K.valueOf().toString()+"\x3c/svg\x3e";for(K=Qh.firstChild;t.firstChild;)t.removeChild(t.firstChild);
for(;K.firstChild;)t.appendChild(K.firstChild)}}),Vf={animationend:Z("Animation","AnimationEnd"),animationiteration:Z("Animation","AnimationIteration"),animationstart:Z("Animation","AnimationStart"),transitionend:Z("Transition","TransitionEnd")},li={},mj={};Fh&&(mj=document.createElement("div").style,"AnimationEvent"in window||(delete Vf.animationend.animation,delete Vf.animationiteration.animation,delete Vf.animationstart.animation),"TransitionEvent"in window||delete Vf.transitionend.transition);
var mk=ea("animationend"),wj=ea("animationiteration"),Ni=ea("animationstart"),ri=ea("transitionend"),Gh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Re=new ("function"===typeof WeakMap?WeakMap:Map),Ai=null,Bi=[],Ti=!1,jh=[],Vh=null,Wh=null,Hh=null,Ih=new Map,Jh=new Map,kh=[],hg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),
nj="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" "),sh={},Dj=new Map,Cj=new Map,fi=["abort","abort",mk,"animationEnd",wj,"animationIteration",Ni,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata",
"loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",ri,"transitionEnd","waiting","waiting"];Qc("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),
0);Qc("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Qc(fi,2);for(var gi="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),nk=0;nk<gi.length;nk++)Cj.set(gi[nk],0);var Uj=Jg.unstable_UserBlockingPriority,Ci=Jg.unstable_runWithPriority,
Xh=!0,Di={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,
floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qh=["Webkit","ms","Moz","O"];Object.keys(Di).forEach(function(t){qh.forEach(function(K){K=K+t.charAt(0).toUpperCase()+t.substring(1);Di[K]=Di[t]})});var Kh=Ig({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),th="$",Ui="/$",Vj="$?",Ei="$!",Ki=null,Xg=null,Wg="function"===typeof setTimeout?
setTimeout:void 0,Rf="function"===typeof clearTimeout?clearTimeout:void 0,si=Math.random().toString(36).slice(2),uh="__reactInternalInstance$"+si,Zg="__reactEventHandlers$"+si,Lh="__reactContainere$"+si,Yh=null,Cg=null,Fi=null;Ig(xd.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=jd)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?
t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=jd)},persist:function(){this.isPersistent=jd},isPersistent:wd,destructor:function(){var t=this.constructor.Interface,K;for(K in t)this[K]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null;this.isPropagationStopped=this.isDefaultPrevented=wd;this._dispatchInstances=this._dispatchListeners=null}});xd.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,
bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};xd.extend=function(t){function K(){}function ma(){return Sa.apply(this,arguments)}var Sa=this;K.prototype=Sa.prototype;var lb=new K;Ig(lb,ma.prototype);ma.prototype=lb;ma.prototype.constructor=ma;ma.Interface=Ig({},Sa.Interface,t);ma.extend=Sa.extend;de(ma);return ma};de(xd);var ok=xd.extend({data:null}),Rh=xd.extend({data:null}),Vi=[9,13,27,32],Gi=Fh&&"CompositionEvent"in window,
Sh=null;Fh&&"documentMode"in document&&(Sh=document.documentMode);var dj=Fh&&"TextEvent"in window&&!Sh,Hi=Fh&&(!Gi||Sh&&8<Sh&&11>=Sh),Wj=String.fromCharCode(32),Ah={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},
compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},oj=!1,vh=!1,xj={eventTypes:Ah,extractEvents:function(t,K,ma,Sa){var lb;if(Gi)a:{switch(t){case "compositionstart":var Kb=
Ah.compositionStart;break a;case "compositionend":Kb=Ah.compositionEnd;break a;case "compositionupdate":Kb=Ah.compositionUpdate;break a}Kb=void 0}else vh?ze(t,ma)&&(Kb=Ah.compositionEnd):"keydown"===t&&229===ma.keyCode&&(Kb=Ah.compositionStart);Kb?(Hi&&"ko"!==ma.locale&&(vh||Kb!==Ah.compositionStart?Kb===Ah.compositionEnd&&vh&&(lb=bd()):(Yh=Sa,Cg="value"in Yh?Yh.value:Yh.textContent,vh=!0)),Kb=ok.getPooled(Kb,K,ma,Sa),lb?Kb.data=lb:(lb=Ee(ma),null!==lb&&(Kb.data=lb)),Uc(Kb),lb=Kb):lb=null;(t=dj?kf(t,
ma):cf(t,ma))?(K=Rh.getPooled(Ah.beforeInput,K,ma,Sa),K.data=t,Uc(K)):K=null;return null===lb?K:null===K?lb:[lb,K]}},Wi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Xj={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},Zh=null,$h=null,Mg=!1;Fh&&(Mg=Ma("input")&&(!document.documentMode||
9<document.documentMode));var Yf={eventTypes:Xj,_isInputEventSupported:Mg,extractEvents:function(t,K,ma,Sa){var lb=K?nc(K):window,Kb=lb.nodeName&&lb.nodeName.toLowerCase();if("select"===Kb||"input"===Kb&&"file"===lb.type)var Wb=Se;else if(df(lb))if(Mg)Wb=Qd;else{Wb=lf;var uc=te}else(Kb=lb.nodeName)&&"input"===Kb.toLowerCase()&&("checkbox"===lb.type||"radio"===lb.type)&&(Wb=xe);if(Wb&&(Wb=Wb(t,K)))return Sd(Wb,ma,Sa);uc&&uc(t,lb,K);"blur"===t&&(t=lb._wrapperState)&&t.controlled&&"number"===lb.type&&
pa(lb,"number",lb.value)}},mg=xd.extend({view:null,detail:null}),Mk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},ej=0,c=0,u=!1,ba=!1,W=mg.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:ue,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;
var K=ej;ej=t.screenX;return u?"mousemove"===t.type?t.screenX-K:0:(u=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var K=c;c=t.screenY;return ba?"mousemove"===t.type?t.screenY-K:0:(ba=!0,0)}}),ja=W.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Na={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",
dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},eb={eventTypes:Na,extractEvents:function(t,K,ma,Sa,lb){var Kb="mouseover"===t||"pointerover"===t,Wb="mouseout"===t||"pointerout"===t;if(Kb&&0===(lb&32)&&(ma.relatedTarget||ma.fromElement)||!Wb&&!Kb)return null;Kb=Sa.window===Sa?Sa:(Kb=Sa.ownerDocument)?Kb.defaultView||Kb.parentWindow:
window;if(Wb){if(Wb=K,K=(K=ma.relatedTarget||ma.toElement)?Cb(K):null,null!==K){var uc=xa(K);if(K!==uc||5!==K.tag&&6!==K.tag)K=null}}else Wb=null;if(Wb===K)return null;if("mouseout"===t||"mouseover"===t)var sd=W,nd=Na.mouseLeave,fe=Na.mouseEnter,re="mouse";else if("pointerout"===t||"pointerover"===t)sd=ja,nd=Na.pointerLeave,fe=Na.pointerEnter,re="pointer";t=null==Wb?Kb:nc(Wb);Kb=null==K?Kb:nc(K);nd=sd.getPooled(nd,Wb,ma,Sa);nd.type=re+"leave";nd.target=t;nd.relatedTarget=Kb;ma=sd.getPooled(fe,K,ma,
Sa);ma.type=re+"enter";ma.target=Kb;ma.relatedTarget=t;Sa=Wb;re=K;if(Sa&&re)a:{sd=Sa;fe=re;Wb=0;for(t=sd;t;t=Gc(t))Wb++;t=0;for(K=fe;K;K=Gc(K))t++;for(;0<Wb-t;)sd=Gc(sd),Wb--;for(;0<t-Wb;)fe=Gc(fe),t--;for(;Wb--;){if(sd===fe||sd===fe.alternate)break a;sd=Gc(sd);fe=Gc(fe)}sd=null}else sd=null;fe=sd;for(sd=[];Sa&&Sa!==fe;){Wb=Sa.alternate;if(null!==Wb&&Wb===fe)break;sd.push(Sa);Sa=Gc(Sa)}for(Sa=[];re&&re!==fe;){Wb=re.alternate;if(null!==Wb&&Wb===fe)break;Sa.push(re);re=Gc(re)}for(re=0;re<sd.length;re++)Hc(sd[re],
"bubbled",nd);for(re=Sa.length;0<re--;)Hc(Sa[re],"captured",ma);return 0===(lb&64)?[nd]:[nd,ma]}},fb="function"===typeof Object.is?Object.is:wf,wb=Object.prototype.hasOwnProperty,Ob=Fh&&"documentMode"in document&&11>=document.documentMode,gc={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Tc=null,zc=null,xc=null,vd=!1,ce={eventTypes:gc,extractEvents:function(t,
K,ma,Sa,lb,Kb){lb=Kb||(Sa.window===Sa?Sa.document:9===Sa.nodeType?Sa:Sa.ownerDocument);if(!(Kb=!lb)){a:{lb=fa(lb);Kb=ji.onSelect;for(var Wb=0;Wb<Kb.length;Wb++)if(!lb.has(Kb[Wb])){lb=!1;break a}lb=!0}Kb=!lb}if(Kb)return null;lb=K?nc(K):window;switch(t){case "focus":if(df(lb)||"true"===lb.contentEditable)Tc=lb,zc=K,xc=null;break;case "blur":xc=zc=Tc=null;break;case "mousedown":vd=!0;break;case "contextmenu":case "mouseup":case "dragend":return vd=!1,Xd(ma,Sa);case "selectionchange":if(Ob)break;case "keydown":case "keyup":return Xd(ma,
Sa)}return null}},We=xd.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Mf=xd.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ke=mg.extend({relatedTarget:null}),Zf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",
18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dg=mg.extend({key:function(t){if(t.key){var K=Zf[t.key]||t.key;if("Unidentified"!==K)return K}return"keypress"===t.type?(t=$e(t),13===t?"Enter":String.fromCharCode(t)):
"keydown"===t.type||"keyup"===t.type?Sf[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:ue,charCode:function(t){return"keypress"===t.type?$e(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?$e(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),gg=W.extend({dataTransfer:null}),xf=mg.extend({touches:null,targetTouches:null,changedTouches:null,
altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:ue}),eg=xd.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),Uf=W.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),$f={eventTypes:sh,extractEvents:function(t,K,ma,Sa){var lb=Dj.get(t);if(!lb)return null;switch(t){case "keypress":if(0===
$e(ma))return null;case "keydown":case "keyup":t=dg;break;case "blur":case "focus":t=Ke;break;case "click":if(2===ma.button)return null;case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":t=W;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":t=gg;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":t=xf;break;case mk:case wj:case Ni:t=
We;break;case ri:t=eg;break;case "scroll":t=mg;break;case "wheel":t=Uf;break;case "copy":case "cut":case "paste":t=Mf;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":t=ja;break;default:t=xd}K=t.getPooled(lb,K,ma,Sa);Uc(K);return K}};if(hj)throw Error(h(101));hj=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" "));
A();var Sg=Xb;jj=Fc;Pi=Sg;hi=nc;w({SimpleEventPlugin:$f,EnterLeaveEventPlugin:eb,ChangeEventPlugin:Yf,SelectEventPlugin:ce,BeforeInputEventPlugin:xj});var Kg=[],Dg=-1,Ug={},ug={current:Ug},Lg={current:!1},Xi=Ug,cl=Jg.unstable_runWithPriority,uk=Jg.unstable_scheduleCallback,el=Jg.unstable_cancelCallback,nl=Jg.unstable_requestPaint,Hk=Jg.unstable_now,zl=Jg.unstable_getCurrentPriorityLevel,og=Jg.unstable_ImmediatePriority,Mh=Jg.unstable_UserBlockingPriority,tk=Jg.unstable_NormalPriority,pj=Jg.unstable_LowPriority,
Nk=Jg.unstable_IdlePriority,dl={},Bl=Jg.unstable_shouldYield,ml=void 0!==nl?nl:function(){},mi=null,Ej=null,Fj=!1,ol=Hk(),ph=1E4>ol?Hk:function(){return Hk()-ol},Yj={current:null},Gj=null,ai=null,Hj=null,Yi=!1,dk=Gg.ReactCurrentBatchConfig,fl=(new lj.Component).refs,vk={isMounted:function(t){return(t=t._reactInternalFiber)?xa(t)===t:!1},enqueueSetState:function(t,K,ma){t=t._reactInternalFiber;var Sa=Db(),lb=dk.suspense;Sa=$b(Sa,t,lb);lb=Md(Sa,lb);lb.payload=K;void 0!==ma&&null!==ma&&(lb.callback=
ma);md(t,lb);Ub(t,Sa)},enqueueReplaceState:function(t,K,ma){t=t._reactInternalFiber;var Sa=Db(),lb=dk.suspense;Sa=$b(Sa,t,lb);lb=Md(Sa,lb);lb.tag=1;lb.payload=K;void 0!==ma&&null!==ma&&(lb.callback=ma);md(t,lb);Ub(t,Sa)},enqueueForceUpdate:function(t,K){t=t._reactInternalFiber;var ma=Db(),Sa=dk.suspense;ma=$b(ma,t,Sa);Sa=Md(ma,Sa);Sa.tag=2;void 0!==K&&null!==K&&(Sa.callback=K);md(t,Sa);Ub(t,ma)}},wk=Array.isArray,Zi=Pf(!0),Pk=Pf(!1),Zj={},oi={current:Zj},bk={current:Zj},ak={current:Zj},zg={current:0},
xk=Gg.ReactCurrentDispatcher,nh=Gg.ReactCurrentBatchConfig,pi=0,Bg=null,ah=null,$g=null,yk=!1,Fe={readContext:Nc,useCallback:Tb,useContext:Tb,useEffect:Tb,useImperativeHandle:Tb,useLayoutEffect:Tb,useMemo:Tb,useReducer:Tb,useRef:Tb,useState:Tb,useDebugValue:Tb,useResponder:Tb,useDeferredValue:Tb,useTransition:Tb},Jj={readContext:Nc,useCallback:jg,useContext:Nc,useEffect:ve,useImperativeHandle:function(t,K,ma){ma=null!==ma&&void 0!==ma?ma.concat([t]):null;return be(4,2,pe.bind(null,K,t),ma)},useLayoutEffect:function(t,
K){return be(4,2,t,K)},useMemo:function(t,K){var ma=Yc();K=void 0===K?null:K;t=t();ma.memoizedState=[t,K];return t},useReducer:function(t,K,ma){var Sa=Yc();K=void 0!==ma?ma(K):K;Sa.memoizedState=Sa.baseState=K;t=Sa.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:K};t=t.dispatch=Da.bind(null,Bg,t);return[Sa.memoizedState,t]},useRef:function(t){var K=Yc();t={current:t};return K.memoizedState=t},useState:ge,useDebugValue:Ze,useResponder:Yb,useDeferredValue:function(t,K){var ma=
ge(t),Sa=ma[0],lb=ma[1];ve(function(){var Kb=nh.suspense;nh.suspense=void 0===K?null:K;try{lb(t)}finally{nh.suspense=Kb}},[t,K]);return Sa},useTransition:function(t){var K=ge(!1),ma=K[0];K=K[1];return[jg(Ca.bind(null,K,t),[K,t]),ma]}},ck={readContext:Nc,useCallback:qf,useContext:Nc,useEffect:Le,useImperativeHandle:tf,useLayoutEffect:Lf,useMemo:Qf,useReducer:Id,useRef:Ye,useState:function(){return Id(pd)},useDebugValue:Ze,useResponder:Yb,useDeferredValue:function(t,K){var ma=Id(pd),Sa=ma[0],lb=ma[1];
Le(function(){var Kb=nh.suspense;nh.suspense=void 0===K?null:K;try{lb(t)}finally{nh.suspense=Kb}},[t,K]);return Sa},useTransition:function(t){var K=Id(pd),ma=K[0];K=K[1];return[qf(Ca.bind(null,K,t),[K,t]),ma]}},Kj={readContext:Nc,useCallback:qf,useContext:Nc,useEffect:Le,useImperativeHandle:tf,useLayoutEffect:Lf,useMemo:Qf,useReducer:ae,useRef:Ye,useState:function(){return ae(pd)},useDebugValue:Ze,useResponder:Yb,useDeferredValue:function(t,K){var ma=ae(pd),Sa=ma[0],lb=ma[1];Le(function(){var Kb=
nh.suspense;nh.suspense=void 0===K?null:K;try{lb(t)}finally{nh.suspense=Kb}},[t,K]);return Sa},useTransition:function(t){var K=ae(pd),ma=K[0];K=K[1];return[qf(Ca.bind(null,K,t),[K,t]),ma]}},hf=null,Xf=null,Kd=!1,Ji=Gg.ReactCurrentOwner,lh=!1,zk={dehydrated:null,retryTime:0};var gl=function(t,K){for(var ma=K.child;null!==ma;){if(5===ma.tag||6===ma.tag)t.appendChild(ma.stateNode);else if(4!==ma.tag&&null!==ma.child){ma.child.return=ma;ma=ma.child;continue}if(ma===K)break;for(;null===ma.sibling;){if(null===
ma.return||ma.return===K)return;ma=ma.return}ma.sibling.return=ma.return;ma=ma.sibling}};var Qk=function(){};var Al=function(t,K,ma,Sa,lb){var Kb=t.memoizedProps;if(Kb!==Sa){var Wb=K.stateNode;pf(oi.current);t=null;switch(ma){case "input":Kb=U(Wb,Kb);Sa=U(Wb,Sa);t=[];break;case "option":Kb=Ea(Wb,Kb);Sa=Ea(Wb,Sa);t=[];break;case "select":Kb=Ig({},Kb,{value:void 0});Sa=Ig({},Sa,{value:void 0});t=[];break;case "textarea":Kb=ib(Wb,Kb);Sa=ib(Wb,Sa);t=[];break;default:"function"!==typeof Kb.onClick&&"function"===
typeof Sa.onClick&&(Wb.onclick=Dd)}Gb(ma,Sa);var uc,sd;ma=null;for(uc in Kb)if(!Sa.hasOwnProperty(uc)&&Kb.hasOwnProperty(uc)&&null!=Kb[uc])if("style"===uc)for(sd in Wb=Kb[uc],Wb)Wb.hasOwnProperty(sd)&&(ma||(ma={}),ma[sd]="");else"dangerouslySetInnerHTML"!==uc&&"children"!==uc&&"suppressContentEditableWarning"!==uc&&"suppressHydrationWarning"!==uc&&"autoFocus"!==uc&&(ui.hasOwnProperty(uc)?t||(t=[]):(t=t||[]).push(uc,null));for(uc in Sa){var nd=Sa[uc];Wb=null!=Kb?Kb[uc]:void 0;if(Sa.hasOwnProperty(uc)&&
nd!==Wb&&(null!=nd||null!=Wb))if("style"===uc)if(Wb){for(sd in Wb)!Wb.hasOwnProperty(sd)||nd&&nd.hasOwnProperty(sd)||(ma||(ma={}),ma[sd]="");for(sd in nd)nd.hasOwnProperty(sd)&&Wb[sd]!==nd[sd]&&(ma||(ma={}),ma[sd]=nd[sd])}else ma||(t||(t=[]),t.push(uc,ma)),ma=nd;else"dangerouslySetInnerHTML"===uc?(nd=nd?nd.__html:void 0,Wb=Wb?Wb.__html:void 0,null!=nd&&Wb!==nd&&(t=t||[]).push(uc,nd)):"children"===uc?Wb===nd||"string"!==typeof nd&&"number"!==typeof nd||(t=t||[]).push(uc,""+nd):"suppressContentEditableWarning"!==
uc&&"suppressHydrationWarning"!==uc&&(ui.hasOwnProperty(uc)?(null!=nd&&Rc(lb,uc),t||Wb===nd||(t=[])):(t=t||[]).push(uc,nd))}ma&&(t=t||[]).push("style",ma);if(K.updateQueue=t)K.effectTag|=4}};var hl=function(t,K,ma,Sa){ma!==Sa&&(K.effectTag|=4)};var il="function"===typeof WeakSet?WeakSet:Set,jl="function"===typeof WeakMap?WeakMap:Map,Cl=Math.ceil,Ek=Gg.ReactCurrentDispatcher,ll=Gg.ReactCurrentOwner,Rg=0,Sk=8,yh=16,Nh=32,rj=0,fk=1,Tk=2,gh=3,sj=4,Uk=5,nf=Rg,wh=null,uf=null,oh=0,Pg=rj,ch=null,ei=1073741823,
gk=1073741823,Fg=null,bh=0,Mj=!1,Rk=0,qi=500,He=null,Bk=!1,ci=null,di=null,hk=!1,Nj=null,ik=90,aj=null,$i=0,Dk=null,Ck=0;var kl=function(t,K,ma){var Sa=K.expirationTime;if(null!==t){var lb=K.pendingProps;if(t.memoizedProps!==lb||Lg.current)lh=!0;else{if(Sa<ma){lh=!1;switch(K.tag){case 3:Ra(K);Xf=hf=null;Kd=!1;break;case 5:Aa(K);if(K.mode&4&&1!==ma&&lb.hidden)return K.expirationTime=K.childExpirationTime=1,null;break;case 1:ye(K.type)&&Oe(K);break;case 4:Qe(K,K.stateNode.containerInfo);break;case 10:Sa=
K.memoizedProps.value;lb=K.type._context;Bc(Yj,lb._currentValue);lb._currentValue=Sa;break;case 13:if(null!==K.memoizedState){Sa=K.child.childExpirationTime;if(0!==Sa&&Sa>=ma)return Za(t,K,ma);Bc(zg,zg.current&1);K=oc(t,K,ma);return null!==K?K.sibling:null}Bc(zg,zg.current&1);break;case 19:Sa=K.childExpirationTime>=ma;if(0!==(t.effectTag&64)){if(Sa)return cc(t,K,ma);K.effectTag|=64}lb=K.memoizedState;null!==lb&&(lb.rendering=null,lb.tail=null);Bc(zg,zg.current);if(!Sa)return null}return oc(t,K,ma)}lh=
!1}}else lh=!1;K.expirationTime=0;switch(K.tag){case 2:Sa=K.type;null!==t&&(t.alternate=null,K.alternate=null,K.effectTag|=2);t=K.pendingProps;lb=Pe(K,ug.current);bc(K,ma);lb=qc(null,K,Sa,t,lb,ma);K.effectTag|=1;if("object"===typeof lb&&null!==lb&&"function"===typeof lb.render&&void 0===lb.$$typeof){K.tag=1;K.memoizedState=null;K.updateQueue=null;if(ye(Sa)){var Kb=!0;Oe(K)}else Kb=!1;K.memoizedState=null!==lb.state&&void 0!==lb.state?lb.state:null;ed(K);var Wb=Sa.getDerivedStateFromProps;"function"===
typeof Wb&&ee(K,Sa,Wb,t);lb.updater=vk;K.stateNode=lb;lb._reactInternalFiber=K;Ue(K,Sa,t,ma);K=ua(null,K,Sa,!0,Kb,ma)}else K.tag=0,Eb(null,K,lb,ma),K=K.child;return K;case 16:a:{lb=K.elementType;null!==t&&(t.alternate=null,K.alternate=null,K.effectTag|=2);t=K.pendingProps;M(lb);if(1!==lb._status)throw lb._result;lb=lb._result;K.type=lb;Kb=K.tag=jk(lb);t=Fb(lb,t);switch(Kb){case 0:K=yc(null,K,lb,t,ma);break a;case 1:K=ca(null,K,lb,t,ma);break a;case 11:K=Ab(null,K,lb,t,ma);break a;case 14:K=Lb(null,
K,lb,Fb(lb.type,t),Sa,ma);break a}throw Error(h(306,lb,""));}return K;case 0:return Sa=K.type,lb=K.pendingProps,lb=K.elementType===Sa?lb:Fb(Sa,lb),yc(t,K,Sa,lb,ma);case 1:return Sa=K.type,lb=K.pendingProps,lb=K.elementType===Sa?lb:Fb(Sa,lb),ca(t,K,Sa,lb,ma);case 3:Ra(K);Sa=K.updateQueue;if(null===t||null===Sa)throw Error(h(282));Sa=K.pendingProps;lb=K.memoizedState;lb=null!==lb?lb.element:null;Lc(t,K);fd(K,Sa,null,ma);Sa=K.memoizedState.element;if(Sa===lb)Xf=hf=null,Kd=!1,K=oc(t,K,ma);else{if(lb=
K.stateNode.hydrate)Xf=vc(K.stateNode.containerInfo.firstChild),hf=K,lb=Kd=!0;if(lb)for(ma=Pk(K,null,Sa,ma),K.child=ma;ma;)ma.effectTag=ma.effectTag&-3|1024,ma=ma.sibling;else Eb(t,K,Sa,ma),Xf=hf=null,Kd=!1;K=K.child}return K;case 5:return Aa(K),null===t&&jb(K),Sa=K.type,lb=K.pendingProps,Kb=null!==t?t.memoizedProps:null,Wb=lb.children,Cc(Sa,lb)?Wb=null:null!==Kb&&Cc(Sa,Kb)&&(K.effectTag|=16),fc(t,K),K.mode&4&&1!==ma&&lb.hidden?(K.expirationTime=K.childExpirationTime=1,K=null):(Eb(t,K,Wb,ma),K=K.child),
K;case 6:return null===t&&jb(K),null;case 13:return Za(t,K,ma);case 4:return Qe(K,K.stateNode.containerInfo),Sa=K.pendingProps,null===t?K.child=Zi(K,null,Sa,ma):Eb(t,K,Sa,ma),K.child;case 11:return Sa=K.type,lb=K.pendingProps,lb=K.elementType===Sa?lb:Fb(Sa,lb),Ab(t,K,Sa,lb,ma);case 7:return Eb(t,K,K.pendingProps,ma),K.child;case 8:return Eb(t,K,K.pendingProps.children,ma),K.child;case 12:return Eb(t,K,K.pendingProps.children,ma),K.child;case 10:a:{Sa=K.type._context;lb=K.pendingProps;Wb=K.memoizedProps;
Kb=lb.value;var uc=K.type._context;Bc(Yj,uc._currentValue);uc._currentValue=Kb;if(null!==Wb)if(uc=Wb.value,Kb=fb(uc,Kb)?0:("function"===typeof Sa._calculateChangedBits?Sa._calculateChangedBits(uc,Kb):1073741823)|0,0===Kb){if(Wb.children===lb.children&&!Lg.current){K=oc(t,K,ma);break a}}else for(uc=K.child,null!==uc&&(uc.return=K);null!==uc;){var sd=uc.dependencies;if(null!==sd){Wb=uc.child;for(var nd=sd.firstContext;null!==nd;){if(nd.context===Sa&&0!==(nd.observedBits&Kb)){1===uc.tag&&(nd=Md(ma,null),
nd.tag=2,md(uc,nd));uc.expirationTime<ma&&(uc.expirationTime=ma);nd=uc.alternate;null!==nd&&nd.expirationTime<ma&&(nd.expirationTime=ma);ac(uc.return,ma);sd.expirationTime<ma&&(sd.expirationTime=ma);break}nd=nd.next}}else Wb=10===uc.tag?uc.type===K.type?null:uc.child:uc.child;if(null!==Wb)Wb.return=uc;else for(Wb=uc;null!==Wb;){if(Wb===K){Wb=null;break}uc=Wb.sibling;if(null!==uc){uc.return=Wb.return;Wb=uc;break}Wb=Wb.return}uc=Wb}Eb(t,K,lb.children,ma);K=K.child}return K;case 9:return lb=K.type,Kb=
K.pendingProps,Sa=Kb.children,bc(K,ma),lb=Nc(lb,Kb.unstable_observedBits),Sa=Sa(lb),K.effectTag|=1,Eb(t,K,Sa,ma),K.child;case 14:return lb=K.type,Kb=Fb(lb,K.pendingProps),Kb=Fb(lb.type,Kb),Lb(t,K,lb,Kb,Sa,ma);case 15:return Pb(t,K,K.type,K.pendingProps,Sa,ma);case 17:return Sa=K.type,lb=K.pendingProps,lb=K.elementType===Sa?lb:Fb(Sa,lb),null!==t&&(t.alternate=null,K.alternate=null,K.effectTag|=2),K.tag=1,ye(Sa)?(t=!0,Oe(K)):t=!1,bc(K,ma),mf(K,Sa,lb),Ue(K,Sa,lb,ma),ua(null,K,Sa,!0,t,ma);case 19:return cc(t,
K,ma)}throw Error(h(156,K.tag));};var Vk=null,Ak=null;Oh.prototype.render=function(t){uj(t,this._internalRoot,null,null)};Oh.prototype.unmount=function(){var t=this._internalRoot,K=t.containerInfo;uj(null,t,null,function(){K[Lh]=null})};var Lk=function(t){if(13===t.tag){var K=db(Db(),150,100);Ub(t,K);cj(t,K)}};var bl=function(t){13===t.tag&&(Ub(t,3),cj(t,3))};var yl=function(t){if(13===t.tag){var K=Db();K=$b(K,t,null);Ub(t,K);cj(t,K)}};Qi=function(t,K,ma){switch(K){case "input":da(t,ma);K=ma.name;
if("radio"===ma.type&&null!=K){for(ma=t;ma.parentNode;)ma=ma.parentNode;ma=ma.querySelectorAll("input[name\x3d"+JSON.stringify(""+K)+'][type\x3d"radio"]');for(K=0;K<ma.length;K++){var Sa=ma[K];if(Sa!==t&&Sa.form===t.form){var lb=Fc(Sa);if(!lb)throw Error(h(90));ka(Sa);da(Sa,lb)}}}break;case "textarea":Wa(t,ma);break;case "select":K=ma.value,null!=K&&ab(t,!!ma.multiple,K,!1)}};k=Ad;b=function(t,K,ma,Sa,lb){var Kb=nf;nf|=4;try{return ff(98,t.bind(null,K,ma,Sa,lb))}finally{nf=Kb,nf===Rg&&Ba()}};f=function(){(nf&
(1|yh|Nh))===Rg&&(Pc(),Hf())};Th=function(t,K){var ma=nf;nf|=2;try{return t(K)}finally{nf=ma,nf===Rg&&Ba()}};var Dl={Events:[Xb,nc,Fc,w,Bj,Uc,function(t){cb(t,wc)},l,d,ud,La,Hf,{current:!1}]};(function(t){var K=t.findFiberByHostInstance;return zh(Ig({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gg.ReactCurrentDispatcher,findHostInstanceByFiber:function(ma){ma=Ua(ma);return null===ma?null:ma.stateNode},findFiberByHostInstance:function(ma){return K?
K(ma):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))})({findFiberByHostInstance:Cb,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"});J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dl;J.createPortal=lk;J.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var K=t._reactInternalFiber;if(void 0===K){if("function"===typeof t.render)throw Error(h(188));throw Error(h(268,Object.keys(t)));
}t=Ua(K);return t=null===t?null:t.stateNode};J.flushSync=function(t,K){if((nf&(yh|Nh))!==Rg)throw Error(h(187));var ma=nf;nf|=1;try{return ff(99,t.bind(null,K))}finally{nf=ma,Ba()}};J.hydrate=function(t,K,ma){if(!Ph(K))throw Error(h(200));return Yg(null,t,K,!0,ma)};J.render=function(t,K,ma){if(!Ph(K))throw Error(h(200));return Yg(null,t,K,!1,ma)};J.unmountComponentAtNode=function(t){if(!Ph(t))throw Error(h(40));return t._reactRootContainer?(he(function(){Yg(null,null,t,!1,function(){t._reactRootContainer=
null;t[Lh]=null})}),!0):!1};J.unstable_batchedUpdates=Ad;J.unstable_createPortal=function(t,K){return lk(t,K,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)};J.unstable_renderSubtreeIntoContainer=function(t,K,ma,Sa){if(!Ph(ma))throw Error(h(200));if(null==t||void 0===t._reactInternalFiber)throw Error(h(38));return Yg(t,K,ma,!1,Sa)};J.version="16.13.1"};
shadow$provide[14]=function(Ia,E,ub,J){function h(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(n){console.error(n)}}h();ub.exports=E(9)};
shadow$provide[15]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?mb.exports=l():"function"===typeof define&&define.amd?define(l):(m="undefined"!==typeof globalThis?globalThis:m||self,m.marked=l())})(this,function(){function m(na,Aa){for(var ka=0;ka<Aa.length;ka++){var Na=Aa[ka];Na.enumerable=Na.enumerable||!1;Na.configurable=!0;"value"in Na&&(Na.writable=!0);Object.defineProperty(na,Na.key,Na)}}function l(na,Aa,ka){Aa&&m(na.prototype,Aa);ka&&m(na,ka);return na}function u(na,
Aa){if(na){if("string"===typeof na)return G(na,Aa);var ka=Object.prototype.toString.call(na).slice(8,-1);"Object"===ka&&na.constructor&&(ka=na.constructor.name);if("Map"===ka||"Set"===ka)return Array.from(na);if("Arguments"===ka||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ka))return G(na,Aa)}}function G(na,Aa){if(null==Aa||Aa>na.length)Aa=na.length;for(var ka=0,Na=Array(Aa);ka<Aa;ka++)Na[ka]=na[ka];return Na}function L(na,Aa){var ka;if("undefined"===typeof Symbol||null==na[Symbol.iterator]){if(Array.isArray(na)||
(ka=u(na))||Aa&&na&&"number"===typeof na.length){ka&&(na=ka);var Na=0;return function(){return Na>=na.length?{done:!0}:{done:!1,value:na[Na++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}ka=na[Symbol.iterator]();return ka.next.bind(ka)}function w(na){return na.replace(K,function(Aa,ka){ka=ka.toLowerCase();return"colon"===ka?":":"#"===ka.charAt(0)?"x"===ka.charAt(1)?String.fromCharCode(parseInt(ka.substring(2),
16)):String.fromCharCode(+ka.substring(1)):""})}function v(na,Aa,ka){var Na=na.length;if(0===Na)return"";for(var $a=0;$a<Na;){var Wa=na.charAt(Na-$a-1);if(Wa!==Aa||ka)if(Wa!==Aa&&ka)$a++;else break;else $a++}return na.substr(0,Na-$a)}function t(na,Aa,ka){var Na=Aa.href;Aa=Aa.title?N(Aa.title):null;var $a=na[1].replace(/\\([\[\]])/g,"$1");return"!"!==na[0].charAt(0)?{type:"link",raw:ka,href:Na,title:Aa,text:$a}:{type:"image",raw:ka,href:Na,title:Aa,text:N($a)}}function k(na,Aa){na=na.match(/^(\s+)(?:```)/);
if(null===na)return Aa;var ka=na[1];return Aa.split("\n").map(function(Na){var $a=Na.match(/^\s+/);return null===$a?Na:$a[0].length>=ka.length?Na.slice(ka.length):Na}).join("\n")}function g(na){return na.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function d(na){var Aa="",ka,Na=na.length;for(ka=0;ka<Na;ka++){var $a=na.charCodeAt(ka);.5<Math.random()&&($a="x"+
$a.toString(16));Aa+="\x26#"+$a+";"}return Aa}function f(na,Aa,ka){if("undefined"===typeof na||null===na)throw Error("marked(): input parameter is undefined or null");if("string"!==typeof na)throw Error("marked(): input parameter is of type "+Object.prototype.toString.call(na)+", string expected");"function"===typeof Aa&&(ka=Aa,Aa=null);Aa=T({},f.defaults,Aa||{});X(Aa);if(ka){var Na=Aa.highlight;try{var $a=Za.lex(na,Aa)}catch(ma){return ka(ma)}var Wa=function(ma){if(!ma)try{var Ea=R.parse($a,Aa)}catch(Qa){ma=
Qa}Aa.highlight=Na;return ma?ka(ma):ka(null,Ea)};if(!Na||3>Na.length)return Wa();delete Aa.highlight;if(!$a.length)return Wa();var Ca=0;f.walkTokens($a,function(ma){"code"===ma.type&&(Ca++,setTimeout(function(){Na(ma.text,ma.lang,function(Ea,Qa){if(Ea)return Wa(Ea);null!=Qa&&Qa!==ma.text&&(ma.text=Qa,ma.escaped=!0);Ca--;0===Ca&&Wa()})},0))});0===Ca&&Wa()}else try{var Da=Za.lex(na,Aa);Aa.walkTokens&&f.walkTokens(Da,Aa.walkTokens);return R.parse(Da,Aa)}catch(ma){ma.message+="\nPlease report this to https://github.com/markedjs/marked.";
if(Aa.silent)return"\x3cp\x3eAn error occurred:\x3c/p\x3e\x3cpre\x3e"+Z(ma.message+"",!0)+"\x3c/pre\x3e";throw ma;}}var a=function(na){var Aa={exports:{}};return na(Aa,Aa.exports),Aa.exports}(function(na){function Aa(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}na.exports={defaults:Aa(),getDefaults:Aa,
changeDefaults:function(ka){na.exports.defaults=ka}}}),e=/[&<>"']/,n=/[&<>"']/g,x=/[<>"']|&(?!#?\w+;)/,z=/[<>"']|&(?!#?\w+;)/g,B={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#39;"},M=function(na){return B[na]},K=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,D=/(^|[^\[])\^/g,y=/[^\w:]/g,E=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,H={},Q=/^[^:]+:\/*[^/]*$/,S=/^([^:]+:)[\s\S]*$/,ea=/^([^:]+:\/*[^/]*)[\s\S]*$/,ba=function(na,Aa){if(Aa){if(e.test(na))return na.replace(n,M)}else if(x.test(na))return na.replace(z,
M);return na},fa=function(na){for(var Aa=1,ka,Na;Aa<arguments.length;Aa++)for(Na in ka=arguments[Aa],ka)Object.prototype.hasOwnProperty.call(ka,Na)&&(na[Na]=ka[Na]);return na},ia=a.defaults,ca=function(na,Aa){na=na.replace(/\|/g,function(Na,$a,Wa){for(Na=!1;0<=--$a&&"\\"===Wa[$a];)Na=!Na;return Na?"|":" |"}).split(/ \|/);var ka=0;if(na.length>Aa)na.splice(Aa);else for(;na.length<Aa;)na.push("");for(;ka<na.length;ka++)na[ka]=na[ka].trim().replace(/\\\|/g,"|");return na},N=ba,C=function(){function na(ka){this.options=
ka||ia}var Aa=na.prototype;Aa.space=function(ka){if(ka=this.rules.block.newline.exec(ka))return 1<ka[0].length?{type:"space",raw:ka[0]}:{raw:"\n"}};Aa.code=function(ka,Na){if(ka=this.rules.block.code.exec(ka)){if((Na=Na[Na.length-1])&&"paragraph"===Na.type)return{raw:ka[0],text:ka[0].trimRight()};Na=ka[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:ka[0],codeBlockStyle:"indented",text:this.options.pedantic?Na:v(Na,"\n")}}};Aa.fences=function(ka){if(ka=this.rules.block.fences.exec(ka)){var Na=ka[0],
$a=k(Na,ka[3]||"");return{type:"code",raw:Na,lang:ka[2]?ka[2].trim():ka[2],text:$a}}};Aa.heading=function(ka){if(ka=this.rules.block.heading.exec(ka)){var Na=ka[2].trim();if(/#$/.test(Na)){var $a=v(Na,"#");if(this.options.pedantic)Na=$a.trim();else if(!$a||/ $/.test($a))Na=$a.trim()}return{type:"heading",raw:ka[0],depth:ka[1].length,text:Na}}};Aa.nptable=function(ka){if(ka=this.rules.block.nptable.exec(ka))if(ka={type:"table",header:ca(ka[1].replace(/^ *| *\| *$/g,"")),align:ka[2].replace(/^ *|\| *$/g,
"").split(/ *\| */),cells:ka[3]?ka[3].replace(/\n$/,"").split("\n"):[],raw:ka[0]},ka.header.length===ka.align.length){var Na=ka.align.length,$a;for($a=0;$a<Na;$a++)/^ *-+: *$/.test(ka.align[$a])?ka.align[$a]="right":/^ *:-+: *$/.test(ka.align[$a])?ka.align[$a]="center":/^ *:-+ *$/.test(ka.align[$a])?ka.align[$a]="left":ka.align[$a]=null;Na=ka.cells.length;for($a=0;$a<Na;$a++)ka.cells[$a]=ca(ka.cells[$a],ka.header.length);return ka}};Aa.hr=function(ka){if(ka=this.rules.block.hr.exec(ka))return{type:"hr",
raw:ka[0]}};Aa.blockquote=function(ka){if(ka=this.rules.block.blockquote.exec(ka)){var Na=ka[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:ka[0],text:Na}}};Aa.list=function(ka){var Na=this.rules.block.list.exec(ka);if(Na){ka=Na[0];var $a=Na[2],Wa=1<$a.length,Ca={type:"list",raw:ka,ordered:Wa,start:Wa?+$a.slice(0,-1):"",loose:!1,items:[]};Na=Na[0].match(this.rules.block.item);var Da=!1,ma,Ea=Na.length;var Qa=this.rules.block.listItemStart.exec(Na[0]);for(var eb=0;eb<Ea;eb++){ka=ma=Na[eb];
if(eb!==Ea-1){var yb=this.rules.block.listItemStart.exec(Na[eb+1]);if(yb[1].length>Qa[0].length||3<yb[1].length){Na.splice(eb,2,Na[eb]+"\n"+Na[eb+1]);eb--;Ea--;continue}else if(!this.options.pedantic||this.options.smartLists?yb[2][yb[2].length-1]!==$a[$a.length-1]:Wa===(1===yb[2].length))Qa=Na.slice(eb+1).join("\n"),Ca.raw=Ca.raw.substring(0,Ca.raw.length-Qa.length),eb=Ea-1;Qa=yb}yb=ma.length;ma=ma.replace(/^ *([*+-]|\d+[.)]) ?/,"");~ma.indexOf("\n ")&&(yb-=ma.length,ma=this.options.pedantic?ma.replace(/^ {1,4}/gm,
""):ma.replace(new RegExp("^ {1,"+yb+"}","gm"),""));yb=Da||/\n\n(?!\s*$)/.test(ma);eb!==Ea-1&&(Da="\n"===ma.charAt(ma.length-1),yb||(yb=Da));yb&&(Ca.loose=!0);if(this.options.gfm){var Qb=/^\[[ xX]\] /.test(ma);var fc=void 0;Qb&&(fc=" "!==ma[1],ma=ma.replace(/^\[[ xX]\] +/,""))}Ca.items.push({type:"list_item",raw:ka,task:Qb,checked:fc,loose:yb,text:ma})}return Ca}};Aa.html=function(ka){if(ka=this.rules.block.html.exec(ka))return{type:this.options.sanitize?"paragraph":"html",raw:ka[0],pre:!this.options.sanitizer&&
("pre"===ka[1]||"script"===ka[1]||"style"===ka[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ka[0]):N(ka[0]):ka[0]}};Aa.def=function(ka){if(ka=this.rules.block.def.exec(ka))return ka[3]&&(ka[3]=ka[3].substring(1,ka[3].length-1)),{tag:ka[1].toLowerCase().replace(/\s+/g," "),raw:ka[0],href:ka[2],title:ka[3]}};Aa.table=function(ka){var Na=this.rules.block.table.exec(ka);if(Na&&(ka={type:"table",header:ca(Na[1].replace(/^ *| *\| *$/g,"")),align:Na[2].replace(/^ *|\| *$/g,
"").split(/ *\| */),cells:Na[3]?Na[3].replace(/\n$/,"").split("\n"):[]},ka.header.length===ka.align.length)){ka.raw=Na[0];Na=ka.align.length;var $a;for($a=0;$a<Na;$a++)/^ *-+: *$/.test(ka.align[$a])?ka.align[$a]="right":/^ *:-+: *$/.test(ka.align[$a])?ka.align[$a]="center":/^ *:-+ *$/.test(ka.align[$a])?ka.align[$a]="left":ka.align[$a]=null;Na=ka.cells.length;for($a=0;$a<Na;$a++)ka.cells[$a]=ca(ka.cells[$a].replace(/^ *\| *| *\| *$/g,""),ka.header.length);return ka}};Aa.lheading=function(ka){if(ka=
this.rules.block.lheading.exec(ka))return{type:"heading",raw:ka[0],depth:"\x3d"===ka[2].charAt(0)?1:2,text:ka[1]}};Aa.paragraph=function(ka){if(ka=this.rules.block.paragraph.exec(ka))return{type:"paragraph",raw:ka[0],text:"\n"===ka[1].charAt(ka[1].length-1)?ka[1].slice(0,-1):ka[1]}};Aa.text=function(ka,Na){if(ka=this.rules.block.text.exec(ka))return(Na=Na[Na.length-1])&&"text"===Na.type?{raw:ka[0],text:ka[0]}:{type:"text",raw:ka[0],text:ka[0]}};Aa.escape=function(ka){if(ka=this.rules.inline.escape.exec(ka))return{type:"escape",
raw:ka[0],text:N(ka[1])}};Aa.tag=function(ka,Na,$a){if(ka=this.rules.inline.tag.exec(ka))return!Na&&/^<a /i.test(ka[0])?Na=!0:Na&&/^<\/a>/i.test(ka[0])&&(Na=!1),!$a&&/^<(pre|code|kbd|script)(\s|>)/i.test(ka[0])?$a=!0:$a&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(ka[0])&&($a=!1),{type:this.options.sanitize?"text":"html",raw:ka[0],inLink:Na,inRawBlock:$a,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ka[0]):N(ka[0]):ka[0]}};Aa.link=function(ka){if(ka=this.rules.inline.link.exec(ka)){var Na=
ka[2].trim();if(!this.options.pedantic&&/^</.test(Na)){if(!/>$/.test(Na))return;var $a=v(Na.slice(0,-1),"\\");if(0===(Na.length-$a.length)%2)return}else{a:{$a=ka[2];if(-1!==$a.indexOf(")"))for(var Wa=$a.length,Ca=0,Da=0;Da<Wa;Da++)if("\\"===$a[Da])Da++;else if("("===$a[Da])Ca++;else if(")"===$a[Da]&&(Ca--,0>Ca)){$a=Da;break a}$a=-1}-1<$a&&(Wa=(0===ka[0].indexOf("!")?5:4)+ka[1].length+$a,ka[2]=ka[2].substring(0,$a),ka[0]=ka[0].substring(0,Wa).trim(),ka[3]="")}$a=ka[2];Wa="";if(this.options.pedantic){if(Ca=
/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec($a))$a=Ca[1],Wa=Ca[3]}else Wa=ka[3]?ka[3].slice(1,-1):"";$a=$a.trim();/^</.test($a)&&($a=this.options.pedantic&&!/>$/.test(Na)?$a.slice(1):$a.slice(1,-1));return t(ka,{href:$a?$a.replace(this.rules.inline._escapes,"$1"):$a,title:Wa?Wa.replace(this.rules.inline._escapes,"$1"):Wa},ka[0])}};Aa.reflink=function(ka,Na){var $a;if(($a=this.rules.inline.reflink.exec(ka))||($a=this.rules.inline.nolink.exec(ka)))return ka=($a[2]||$a[1]).replace(/\s+/g," "),ka=Na[ka.toLowerCase()],
ka&&ka.href?t($a,ka,$a[0]):(Na=$a[0].charAt(0),{type:"text",raw:Na,text:Na})};Aa.strong=function(ka,Na,$a){void 0===$a&&($a="");var Wa=this.rules.inline.strong.start.exec(ka);if(Wa&&(!Wa[1]||Wa[1]&&(""===$a||this.rules.inline.punctuation.exec($a))))for(Na=Na.slice(-1*ka.length),$a="**"===Wa[0]?this.rules.inline.strong.endAst:this.rules.inline.strong.endUnd,$a.lastIndex=0;null!=(Wa=$a.exec(Na));)if(Wa=this.rules.inline.strong.middle.exec(Na.slice(0,Wa.index+3)))return{type:"strong",raw:ka.slice(0,
Wa[0].length),text:ka.slice(2,Wa[0].length-2)}};Aa.em=function(ka,Na,$a){void 0===$a&&($a="");var Wa=this.rules.inline.em.start.exec(ka);if(Wa&&(!Wa[1]||Wa[1]&&(""===$a||this.rules.inline.punctuation.exec($a))))for(Na=Na.slice(-1*ka.length),$a="*"===Wa[0]?this.rules.inline.em.endAst:this.rules.inline.em.endUnd,$a.lastIndex=0;null!=(Wa=$a.exec(Na));)if(Wa=this.rules.inline.em.middle.exec(Na.slice(0,Wa.index+2)))return{type:"em",raw:ka.slice(0,Wa[0].length),text:ka.slice(1,Wa[0].length-1)}};Aa.codespan=
function(ka){if(ka=this.rules.inline.code.exec(ka)){var Na=ka[2].replace(/\n/g," "),$a=/[^ ]/.test(Na),Wa=/^ /.test(Na)&&/ $/.test(Na);$a&&Wa&&(Na=Na.substring(1,Na.length-1));Na=N(Na,!0);return{type:"codespan",raw:ka[0],text:Na}}};Aa.br=function(ka){if(ka=this.rules.inline.br.exec(ka))return{type:"br",raw:ka[0]}};Aa.del=function(ka){if(ka=this.rules.inline.del.exec(ka))return{type:"del",raw:ka[0],text:ka[2]}};Aa.autolink=function(ka,Na){if(ka=this.rules.inline.autolink.exec(ka)){if("@"===ka[2]){Na=
N(this.options.mangle?Na(ka[1]):ka[1]);var $a="mailto:"+Na}else $a=Na=N(ka[1]);return{type:"link",raw:ka[0],text:Na,href:$a,tokens:[{type:"text",raw:Na,text:Na}]}}};Aa.url=function(ka,Na){if(ka=this.rules.inline.url.exec(ka)){if("@"===ka[2]){Na=N(this.options.mangle?Na(ka[0]):ka[0]);var $a="mailto:"+Na}else{do Na=ka[0],ka[0]=this.rules.inline._backpedal.exec(ka[0])[0];while(Na!==ka[0]);Na=N(ka[0]);$a="www."===ka[1]?"http://"+Na:Na}return{type:"link",raw:ka[0],text:Na,href:$a,tokens:[{type:"text",
raw:Na,text:Na}]}}};Aa.inlineText=function(ka,Na,$a){if(ka=this.rules.inline.text.exec(ka))return Na=Na?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ka[0]):N(ka[0]):ka[0]:N(this.options.smartypants?$a(ka[0]):ka[0]),{type:"text",raw:ka[0],text:Na}};return na}(),W={exec:function(){}},ha=function(na,Aa){na=na.source||na;Aa=Aa||"";var ka={replace:function(Na,$a){$a=$a.source||$a;$a=$a.replace(D,"$1");na=na.replace(Na,$a);return ka},getRegex:function(){return new RegExp(na,Aa)}};
return ka},Y={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:\x3c(script|pre|style)[\\s\x3e][\\s\\S]*?(?:\x3c/\\1\x3e[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|\x3c\\?[\\s\\S]*?(?:\\?\x3e\\n*|$)|\x3c![A-Z][\\s\\S]*?(?:\x3e\\n*|$)|\x3c!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]\x3e\\n*|$)|\x3c/?(tag)(?: +|\\n|/?\x3e)[\\s\\S]*?(?:\\n{2,}|$)|\x3c(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?\x3e(?\x3d[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|\x3c/(?!script|pre|style)[a-z][\\w-]*\\s*\x3e(?\x3d[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",
def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:W,table:W,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Y.def=ha(Y.def).replace("label",Y._label).replace("title",Y._title).getRegex();Y.bullet=/(?:[*+-]|\d{1,9}[.)])/;Y.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/;
Y.item=ha(Y.item,"gm").replace(/bull/g,Y.bullet).getRegex();Y.listItemStart=ha(/^( *)(bull)/).replace("bull",Y.bullet).getRegex();Y.list=ha(Y.list).replace(/bull/g,Y.bullet).replace("hr","\\n+(?\x3d\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?\x3d"+Y.def.source+")").getRegex();Y._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";
Y._comment=/\x3c!--(?!-?>)[\s\S]*?(?:--\x3e|$)/;Y.html=ha(Y.html,"i").replace("comment",Y._comment).replace("tag",Y._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();Y.paragraph=ha(Y._paragraph).replace("hr",Y.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}\x3e").replace("fences"," {0,3}(?:`{3,}(?\x3d[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","\x3c/?(?:tag)(?: +|\\n|/?\x3e)|\x3c(?:script|pre|style|!--)").replace("tag",
Y._tag).getRegex();Y.blockquote=ha(Y.blockquote).replace("paragraph",Y.paragraph).getRegex();Y.normal=fa({},Y);Y.gfm=fa({},Y.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});Y.gfm.nptable=ha(Y.gfm.nptable).replace("hr",Y.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote",
" {0,3}\x3e").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?\x3d[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","\x3c/?(?:tag)(?: +|\\n|/?\x3e)|\x3c(?:script|pre|style|!--)").replace("tag",Y._tag).getRegex();Y.gfm.table=ha(Y.gfm.table).replace("hr",Y.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}\x3e").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?\x3d[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html",
"\x3c/?(?:tag)(?: +|\\n|/?\x3e)|\x3c(?:script|pre|style|!--)").replace("tag",Y._tag).getRegex();Y.pedantic=fa({},Y.normal,{html:ha("^ *(?:comment *(?:\\n|\\s*$)|\x3c(tag)[\\s\\S]+?\x3c/\\1\x3e *(?:\\n{2,}|\\s*$)|\x3ctag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/\x3e\\s]*)*?/?\x3e *(?:\\n{2,}|\\s*$))").replace("comment",Y._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),
def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:W,paragraph:ha(Y.normal._paragraph).replace("hr",Y.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Y.lheading).replace("blockquote"," {0,3}\x3e").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var wa={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:W,tag:"^comment|^\x3c/[a-zA-Z][\\w:-]*\\s*\x3e|^\x3c[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?\x3e|^\x3c\\?[\\s\\S]*?\\?\x3e|^\x3c![a-zA-Z]+\\s[\\s\\S]*?\x3e|^\x3c!\\[CDATA\\[[\\s\\S]*?\\]\\]\x3e",
link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",strong:{start:/^(?:(\*\*(?=[*punctuation]))|\*\*)(?![\s])|__/,middle:/^\*\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*\*$|^__(?![\s])((?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?)__$/,
endAst:/[^punctuation\s]\*\*(?!\*)|[punctuation]\*\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]__(?!_)(?:(?=[punctuation*\s])|$)/},em:{start:/^(?:(\*(?=[punctuation]))|\*)(?![*\s])|_/,middle:/^\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*$|^_(?![_\s])(?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?_$/,endAst:/[^punctuation\s]\*(?!\*)|[punctuation]\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]_(?!_)(?:(?=[punctuation*\s])|$)/},
code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:W,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\s*punctuation])/,_punctuation:"!\"#$%\x26'()+\\-.,/:;\x3c\x3d\x3e?@\\[\\]`^{|}~"};wa.punctuation=ha(wa.punctuation).replace(/punctuation/g,wa._punctuation).getRegex();wa._blockSkip="\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|\x3c[^\x3e]*?\x3e";wa._overlapSkip="__[^_]*?__|\\*\\*\\[^\\*\\]*?\\*\\*";wa._comment=ha(Y._comment).replace("(?:--\x3e|$)",
"--\x3e").getRegex();wa.em.start=ha(wa.em.start).replace(/punctuation/g,wa._punctuation).getRegex();wa.em.middle=ha(wa.em.middle).replace(/punctuation/g,wa._punctuation).replace(/overlapSkip/g,wa._overlapSkip).getRegex();wa.em.endAst=ha(wa.em.endAst,"g").replace(/punctuation/g,wa._punctuation).getRegex();wa.em.endUnd=ha(wa.em.endUnd,"g").replace(/punctuation/g,wa._punctuation).getRegex();wa.strong.start=ha(wa.strong.start).replace(/punctuation/g,wa._punctuation).getRegex();wa.strong.middle=ha(wa.strong.middle).replace(/punctuation/g,
wa._punctuation).replace(/overlapSkip/g,wa._overlapSkip).getRegex();wa.strong.endAst=ha(wa.strong.endAst,"g").replace(/punctuation/g,wa._punctuation).getRegex();wa.strong.endUnd=ha(wa.strong.endUnd,"g").replace(/punctuation/g,wa._punctuation).getRegex();wa.blockSkip=ha(wa._blockSkip,"g").getRegex();wa.overlapSkip=ha(wa._overlapSkip,"g").getRegex();wa._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;wa._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;wa._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;
wa.autolink=ha(wa.autolink).replace("scheme",wa._scheme).replace("email",wa._email).getRegex();wa._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;wa.tag=ha(wa.tag).replace("comment",wa._comment).replace("attribute",wa._attribute).getRegex();wa._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;wa._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;wa._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;wa.link=ha(wa.link).replace("label",
wa._label).replace("href",wa._href).replace("title",wa._title).getRegex();wa.reflink=ha(wa.reflink).replace("label",wa._label).getRegex();wa.reflinkSearch=ha(wa.reflinkSearch,"g").replace("reflink",wa.reflink).replace("nolink",wa.nolink).getRegex();wa.normal=fa({},wa);wa.pedantic=fa({},wa.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,
endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ha(/^!?\[(label)\]\((.*?)\)/).replace("label",wa._label).getRegex(),reflink:ha(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",wa._label).getRegex()});wa.gfm=fa({},wa.normal,{escape:ha(wa.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,
del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/});wa.gfm.url=ha(wa.gfm.url,"i").replace("email",wa.gfm._extended_email).getRegex();wa.breaks=fa({},wa.gfm,{br:ha(wa.br).replace("{2,}","*").getRegex(),text:ha(wa.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});
var xa=a.defaults,Ha=function(na,Aa){if(1>Aa)return"";for(var ka="";1<Aa;)Aa&1&&(ka+=na),Aa>>=1,na+=na;return ka+na},Za=function(){function na(ka){this.tokens=[];this.tokens.links=Object.create(null);this.options=ka||xa;this.options.tokenizer=this.options.tokenizer||new C;this.tokenizer=this.options.tokenizer;this.tokenizer.options=this.options;ka={block:Y.normal,inline:wa.normal};this.options.pedantic?(ka.block=Y.pedantic,ka.inline=wa.pedantic):this.options.gfm&&(ka.block=Y.gfm,ka.inline=this.options.breaks?
wa.breaks:wa.gfm);this.tokenizer.rules=ka}na.lex=function(ka,Na){return(new na(Na)).lex(ka)};na.lexInline=function(ka,Na){return(new na(Na)).inlineTokens(ka)};var Aa=na.prototype;Aa.lex=function(ka){ka=ka.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ");this.blockTokens(ka,this.tokens,!0);this.inline(this.tokens);return this.tokens};Aa.blockTokens=function(ka,Na,$a){void 0===Na&&(Na=[]);void 0===$a&&($a=!0);this.options.pedantic&&(ka=ka.replace(/^ +$/gm,""));for(var Wa,Ca,Da;ka;)if(Wa=this.tokenizer.space(ka))ka=
ka.substring(Wa.raw.length),Wa.type&&Na.push(Wa);else if(Wa=this.tokenizer.code(ka,Na))ka=ka.substring(Wa.raw.length),Wa.type?Na.push(Wa):(Ca=Na[Na.length-1],Ca.raw+="\n"+Wa.raw,Ca.text+="\n"+Wa.text);else if(Wa=this.tokenizer.fences(ka))ka=ka.substring(Wa.raw.length),Na.push(Wa);else if(Wa=this.tokenizer.heading(ka))ka=ka.substring(Wa.raw.length),Na.push(Wa);else if(Wa=this.tokenizer.nptable(ka))ka=ka.substring(Wa.raw.length),Na.push(Wa);else if(Wa=this.tokenizer.hr(ka))ka=ka.substring(Wa.raw.length),
Na.push(Wa);else if(Wa=this.tokenizer.blockquote(ka))ka=ka.substring(Wa.raw.length),Wa.tokens=this.blockTokens(Wa.text,[],$a),Na.push(Wa);else if(Wa=this.tokenizer.list(ka)){ka=ka.substring(Wa.raw.length);Da=Wa.items.length;for(Ca=0;Ca<Da;Ca++)Wa.items[Ca].tokens=this.blockTokens(Wa.items[Ca].text,[],!1);Na.push(Wa)}else if(Wa=this.tokenizer.html(ka))ka=ka.substring(Wa.raw.length),Na.push(Wa);else if($a&&(Wa=this.tokenizer.def(ka)))ka=ka.substring(Wa.raw.length),this.tokens.links[Wa.tag]||(this.tokens.links[Wa.tag]=
{href:Wa.href,title:Wa.title});else if(Wa=this.tokenizer.table(ka))ka=ka.substring(Wa.raw.length),Na.push(Wa);else if(Wa=this.tokenizer.lheading(ka))ka=ka.substring(Wa.raw.length),Na.push(Wa);else if($a&&(Wa=this.tokenizer.paragraph(ka)))ka=ka.substring(Wa.raw.length),Na.push(Wa);else if(Wa=this.tokenizer.text(ka,Na))ka=ka.substring(Wa.raw.length),Wa.type?Na.push(Wa):(Ca=Na[Na.length-1],Ca.raw+="\n"+Wa.raw,Ca.text+="\n"+Wa.text);else if(ka)if(ka="Infinite loop on byte: "+ka.charCodeAt(0),this.options.silent){console.error(ka);
break}else throw Error(ka);return Na};Aa.inline=function(ka){var Na,$a,Wa,Ca=ka.length;for(Na=0;Na<Ca;Na++){var Da=ka[Na];switch(Da.type){case "paragraph":case "text":case "heading":Da.tokens=[];this.inlineTokens(Da.text,Da.tokens);break;case "table":Da.tokens={header:[],cells:[]};var ma=Da.header.length;for($a=0;$a<ma;$a++)Da.tokens.header[$a]=[],this.inlineTokens(Da.header[$a],Da.tokens.header[$a]);ma=Da.cells.length;for($a=0;$a<ma;$a++){var Ea=Da.cells[$a];Da.tokens.cells[$a]=[];for(Wa=0;Wa<Ea.length;Wa++)Da.tokens.cells[$a][Wa]=
[],this.inlineTokens(Ea[Wa],Da.tokens.cells[$a][Wa])}break;case "blockquote":this.inline(Da.tokens);break;case "list":for(ma=Da.items.length,$a=0;$a<ma;$a++)this.inline(Da.items[$a].tokens)}}return ka};Aa.inlineTokens=function(ka,Na,$a,Wa){void 0===Na&&(Na=[]);void 0===$a&&($a=!1);void 0===Wa&&(Wa=!1);var Ca,Da=ka,ma;if(this.tokens.links){var Ea=Object.keys(this.tokens.links);if(0<Ea.length)for(;null!=(Ca=this.tokenizer.rules.inline.reflinkSearch.exec(Da));)Ea.includes(Ca[0].slice(Ca[0].lastIndexOf("[")+
1,-1))&&(Da=Da.slice(0,Ca.index)+"["+Ha("a",Ca[0].length-2)+"]"+Da.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(Ca=this.tokenizer.rules.inline.blockSkip.exec(Da));)Da=Da.slice(0,Ca.index)+"["+Ha("a",Ca[0].length-2)+"]"+Da.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;ka;){Qa||(ma="");var Qa=!1;if(Ca=this.tokenizer.escape(ka))ka=ka.substring(Ca.raw.length),Na.push(Ca);else if(Ca=this.tokenizer.tag(ka,$a,Wa))ka=ka.substring(Ca.raw.length),$a=Ca.inLink,Wa=Ca.inRawBlock,
Na.push(Ca);else if(Ca=this.tokenizer.link(ka))ka=ka.substring(Ca.raw.length),"link"===Ca.type&&(Ca.tokens=this.inlineTokens(Ca.text,[],!0,Wa)),Na.push(Ca);else if(Ca=this.tokenizer.reflink(ka,this.tokens.links))ka=ka.substring(Ca.raw.length),"link"===Ca.type&&(Ca.tokens=this.inlineTokens(Ca.text,[],!0,Wa)),Na.push(Ca);else if(Ca=this.tokenizer.strong(ka,Da,ma))ka=ka.substring(Ca.raw.length),Ca.tokens=this.inlineTokens(Ca.text,[],$a,Wa),Na.push(Ca);else if(Ca=this.tokenizer.em(ka,Da,ma))ka=ka.substring(Ca.raw.length),
Ca.tokens=this.inlineTokens(Ca.text,[],$a,Wa),Na.push(Ca);else if(Ca=this.tokenizer.codespan(ka))ka=ka.substring(Ca.raw.length),Na.push(Ca);else if(Ca=this.tokenizer.br(ka))ka=ka.substring(Ca.raw.length),Na.push(Ca);else if(Ca=this.tokenizer.del(ka))ka=ka.substring(Ca.raw.length),Ca.tokens=this.inlineTokens(Ca.text,[],$a,Wa),Na.push(Ca);else if(Ca=this.tokenizer.autolink(ka,d))ka=ka.substring(Ca.raw.length),Na.push(Ca);else if(!$a&&(Ca=this.tokenizer.url(ka,d)))ka=ka.substring(Ca.raw.length),Na.push(Ca);
else if(Ca=this.tokenizer.inlineText(ka,Wa,g))ka=ka.substring(Ca.raw.length),ma=Ca.raw.slice(-1),Qa=!0,Na.push(Ca);else if(ka)if(ka="Infinite loop on byte: "+ka.charCodeAt(0),this.options.silent){console.error(ka);break}else throw Error(ka);}return Na};l(na,null,[{key:"rules",get:function(){return{block:Y,inline:wa}}}]);return na}(),gb=a.defaults,ra=function(na,Aa,ka){if(na){try{var Na=decodeURIComponent(w(ka)).replace(y,"").toLowerCase()}catch($a){return null}if(0===Na.indexOf("javascript:")||0===
Na.indexOf("vbscript:")||0===Na.indexOf("data:"))return null}Aa&&!E.test(ka)&&(na=Aa,H[" "+na]||(Q.test(na)?H[" "+na]=na+"/":H[" "+na]=v(na,"/",!0)),na=H[" "+na],Aa=-1===na.indexOf(":"),ka="//"===ka.substring(0,2)?Aa?ka:na.replace(S,"$1")+ka:"/"===ka.charAt(0)?Aa?ka:na.replace(ea,"$1")+ka:na+ka);try{ka=encodeURI(ka).replace(/%25/g,"%")}catch($a){return null}return ka},Pa=function(){function na(ka){this.options=ka||gb}var Aa=na.prototype;Aa.code=function(ka,Na,$a){Na=(Na||"").match(/\S*/)[0];if(this.options.highlight){var Wa=
this.options.highlight(ka,Na);null!=Wa&&Wa!==ka&&($a=!0,ka=Wa)}ka=ka.replace(/\n$/,"")+"\n";return Na?'\x3cpre\x3e\x3ccode class\x3d"'+this.options.langPrefix+ba(Na,!0)+'"\x3e'+($a?ka:ba(ka,!0))+"\x3c/code\x3e\x3c/pre\x3e\n":"\x3cpre\x3e\x3ccode\x3e"+($a?ka:ba(ka,!0))+"\x3c/code\x3e\x3c/pre\x3e\n"};Aa.blockquote=function(ka){return"\x3cblockquote\x3e\n"+ka+"\x3c/blockquote\x3e\n"};Aa.html=function(ka){return ka};Aa.heading=function(ka,Na,$a,Wa){return this.options.headerIds?"\x3ch"+Na+' id\x3d"'+
this.options.headerPrefix+Wa.slug($a)+'"\x3e'+ka+"\x3c/h"+Na+"\x3e\n":"\x3ch"+Na+"\x3e"+ka+"\x3c/h"+Na+"\x3e\n"};Aa.hr=function(){return this.options.xhtml?"\x3chr/\x3e\n":"\x3chr\x3e\n"};Aa.list=function(ka,Na,$a){var Wa=Na?"ol":"ul";return"\x3c"+Wa+(Na&&1!==$a?' start\x3d"'+$a+'"':"")+"\x3e\n"+ka+"\x3c/"+Wa+"\x3e\n"};Aa.listitem=function(ka){return"\x3cli\x3e"+ka+"\x3c/li\x3e\n"};Aa.checkbox=function(ka){return"\x3cinput "+(ka?'checked\x3d"" ':"")+'disabled\x3d"" type\x3d"checkbox"'+(this.options.xhtml?
" /":"")+"\x3e "};Aa.paragraph=function(ka){return"\x3cp\x3e"+ka+"\x3c/p\x3e\n"};Aa.table=function(ka,Na){Na&&(Na="\x3ctbody\x3e"+Na+"\x3c/tbody\x3e");return"\x3ctable\x3e\n\x3cthead\x3e\n"+ka+"\x3c/thead\x3e\n"+Na+"\x3c/table\x3e\n"};Aa.tablerow=function(ka){return"\x3ctr\x3e\n"+ka+"\x3c/tr\x3e\n"};Aa.tablecell=function(ka,Na){var $a=Na.header?"th":"td";return(Na.align?"\x3c"+$a+' align\x3d"'+Na.align+'"\x3e':"\x3c"+$a+"\x3e")+ka+"\x3c/"+$a+"\x3e\n"};Aa.strong=function(ka){return"\x3cstrong\x3e"+
ka+"\x3c/strong\x3e"};Aa.em=function(ka){return"\x3cem\x3e"+ka+"\x3c/em\x3e"};Aa.codespan=function(ka){return"\x3ccode\x3e"+ka+"\x3c/code\x3e"};Aa.br=function(){return this.options.xhtml?"\x3cbr/\x3e":"\x3cbr\x3e"};Aa.del=function(ka){return"\x3cdel\x3e"+ka+"\x3c/del\x3e"};Aa.link=function(ka,Na,$a){ka=ra(this.options.sanitize,this.options.baseUrl,ka);if(null===ka)return $a;ka='\x3ca href\x3d"'+ba(ka)+'"';Na&&(ka+=' title\x3d"'+Na+'"');return ka+("\x3e"+$a+"\x3c/a\x3e")};Aa.image=function(ka,Na,$a){ka=
ra(this.options.sanitize,this.options.baseUrl,ka);if(null===ka)return $a;ka='\x3cimg src\x3d"'+ka+'" alt\x3d"'+$a+'"';Na&&(ka+=' title\x3d"'+Na+'"');return ka+=this.options.xhtml?"/\x3e":"\x3e"};Aa.text=function(ka){return ka};return na}(),Ua=function(){function na(){}var Aa=na.prototype;Aa.strong=function(ka){return ka};Aa.em=function(ka){return ka};Aa.codespan=function(ka){return ka};Aa.del=function(ka){return ka};Aa.html=function(ka){return ka};Aa.text=function(ka){return ka};Aa.link=function(ka,
Na,$a){return""+$a};Aa.image=function(ka,Na,$a){return""+$a};Aa.br=function(){return""};return na}(),za=function(){function na(){this.seen={}}var Aa=na.prototype;Aa.serialize=function(ka){return ka.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")};Aa.getNextSafeSlug=function(ka,Na){var $a=ka,Wa=0;if(this.seen.hasOwnProperty($a)){Wa=this.seen[ka];do Wa++,$a=ka+"-"+Wa;while(this.seen.hasOwnProperty($a))}Na||
(this.seen[ka]=Wa,this.seen[$a]=0);return $a};Aa.slug=function(ka,Na){void 0===Na&&(Na={});ka=this.serialize(ka);return this.getNextSafeSlug(ka,Na.dryrun)};return na}(),qa=a.defaults,R=function(){function na(ka){this.options=ka||qa;this.options.renderer=this.options.renderer||new Pa;this.renderer=this.options.renderer;this.renderer.options=this.options;this.textRenderer=new Ua;this.slugger=new za}na.parse=function(ka,Na){return(new na(Na)).parse(ka)};na.parseInline=function(ka,Na){return(new na(Na)).parseInline(ka)};
var Aa=na.prototype;Aa.parse=function(ka,Na){void 0===Na&&(Na=!0);var $a="",Wa,Ca,Da,ma,Ea=ka.length;for(Wa=0;Wa<Ea;Wa++){var Qa=ka[Wa];switch(Qa.type){case "space":continue;case "hr":$a+=this.renderer.hr();continue;case "heading":$a+=this.renderer.heading(this.parseInline(Qa.tokens),Qa.depth,w(this.parseInline(Qa.tokens,this.textRenderer)),this.slugger);continue;case "code":$a+=this.renderer.code(Qa.text,Qa.lang,Qa.escaped);continue;case "table":var eb=ma="";var yb=Qa.header.length;for(Ca=0;Ca<yb;Ca++)eb+=
this.renderer.tablecell(this.parseInline(Qa.tokens.header[Ca]),{header:!0,align:Qa.align[Ca]});ma+=this.renderer.tablerow(eb);var Qb="";yb=Qa.cells.length;for(Ca=0;Ca<yb;Ca++){var fc=Qa.tokens.cells[Ca];eb="";var ad=fc.length;for(Da=0;Da<ad;Da++)eb+=this.renderer.tablecell(this.parseInline(fc[Da]),{header:!1,align:Qa.align[Da]});Qb+=this.renderer.tablerow(eb)}$a+=this.renderer.table(ma,Qb);continue;case "blockquote":Qb=this.parse(Qa.tokens);$a+=this.renderer.blockquote(Qb);continue;case "list":Da=
Qa.ordered;ad=Qa.start;fc=Qa.loose;yb=Qa.items.length;Qb="";for(Ca=0;Ca<yb;Ca++){ma=Qa.items[Ca];var ic=ma.checked;var xc=ma.task;eb="";if(ma.task){var ib=this.renderer.checkbox(ic);fc?0<ma.tokens.length&&"text"===ma.tokens[0].type?(ma.tokens[0].text=ib+" "+ma.tokens[0].text,ma.tokens[0].tokens&&0<ma.tokens[0].tokens.length&&"text"===ma.tokens[0].tokens[0].type&&(ma.tokens[0].tokens[0].text=ib+" "+ma.tokens[0].tokens[0].text)):ma.tokens.unshift({type:"text",text:ib}):eb+=ib}eb+=this.parse(ma.tokens,
fc);Qb+=this.renderer.listitem(eb,xc,ic)}$a+=this.renderer.list(Qb,Da,ad);continue;case "html":$a+=this.renderer.html(Qa.text);continue;case "paragraph":$a+=this.renderer.paragraph(this.parseInline(Qa.tokens));continue;case "text":for(Qb=Qa.tokens?this.parseInline(Qa.tokens):Qa.text;Wa+1<Ea&&"text"===ka[Wa+1].type;)Qa=ka[++Wa],Qb+="\n"+(Qa.tokens?this.parseInline(Qa.tokens):Qa.text);$a+=Na?this.renderer.paragraph(Qb):Qb;continue;default:ka='Token with "'+Qa.type+'" type was not found.';if(this.options.silent){console.error(ka);
return}throw Error(ka);}}return $a};Aa.parseInline=function(ka,Na){Na=Na||this.renderer;var $a="",Wa,Ca=ka.length;for(Wa=0;Wa<Ca;Wa++){var Da=ka[Wa];switch(Da.type){case "escape":$a+=Na.text(Da.text);break;case "html":$a+=Na.html(Da.text);break;case "link":$a+=Na.link(Da.href,Da.title,this.parseInline(Da.tokens,Na));break;case "image":$a+=Na.image(Da.href,Da.title,Da.text);break;case "strong":$a+=Na.strong(this.parseInline(Da.tokens,Na));break;case "em":$a+=Na.em(this.parseInline(Da.tokens,Na));break;
case "codespan":$a+=Na.codespan(Da.text);break;case "br":$a+=Na.br();break;case "del":$a+=Na.del(this.parseInline(Da.tokens,Na));break;case "text":$a+=Na.text(Da.text);break;default:ka='Token with "'+Da.type+'" type was not found.';if(this.options.silent){console.error(ka);return}throw Error(ka);}}return $a};return na}(),T=fa,X=function(na){na&&na.sanitize&&!na.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},
Z=ba;fa=a.getDefaults;var oa=a.changeDefaults;a=a.defaults;f.options=f.setOptions=function(na){T(f.defaults,na);oa(f.defaults);return f};f.getDefaults=fa;f.defaults=a;f.use=function(na){var Aa=T({},na);na.renderer&&function(){var Na=f.defaults.renderer||new Pa,$a=function(Ca){var Da=Na[Ca];Na[Ca]=function(){for(var ma=arguments.length,Ea=Array(ma),Qa=0;Qa<ma;Qa++)Ea[Qa]=arguments[Qa];ma=na.renderer[Ca].apply(Na,Ea);!1===ma&&(ma=Da.apply(Na,Ea));return ma}},Wa;for(Wa in na.renderer)$a(Wa);Aa.renderer=
Na}();na.tokenizer&&function(){var Na=f.defaults.tokenizer||new C,$a=function(Ca){var Da=Na[Ca];Na[Ca]=function(){for(var ma=arguments.length,Ea=Array(ma),Qa=0;Qa<ma;Qa++)Ea[Qa]=arguments[Qa];ma=na.tokenizer[Ca].apply(Na,Ea);!1===ma&&(ma=Da.apply(Na,Ea));return ma}},Wa;for(Wa in na.tokenizer)$a(Wa);Aa.tokenizer=Na}();if(na.walkTokens){var ka=f.defaults.walkTokens;Aa.walkTokens=function(Na){na.walkTokens(Na);ka&&ka(Na)}}f.setOptions(Aa)};f.walkTokens=function(na,Aa){na=L(na);for(var ka;!(ka=na()).done;)switch(ka=
ka.value,Aa(ka),ka.type){case "table":for(var Na=L(ka.tokens.header),$a;!($a=Na()).done;)f.walkTokens($a.value,Aa);for(ka=L(ka.tokens.cells);!(Na=ka()).done;)for(Na=L(Na.value);!($a=Na()).done;)f.walkTokens($a.value,Aa);break;case "list":f.walkTokens(ka.items,Aa);break;default:ka.tokens&&f.walkTokens(ka.tokens,Aa)}};f.parseInline=function(na,Aa){if("undefined"===typeof na||null===na)throw Error("marked.parseInline(): input parameter is undefined or null");if("string"!==typeof na)throw Error("marked.parseInline(): input parameter is of type "+
Object.prototype.toString.call(na)+", string expected");Aa=T({},f.defaults,Aa||{});X(Aa);try{var ka=Za.lexInline(na,Aa);Aa.walkTokens&&f.walkTokens(ka,Aa.walkTokens);return R.parseInline(ka,Aa)}catch(Na){Na.message+="\nPlease report this to https://github.com/markedjs/marked.";if(Aa.silent)return"\x3cp\x3eAn error occurred:\x3c/p\x3e\x3cpre\x3e"+Z(Na.message+"",!0)+"\x3c/pre\x3e";throw Na;}};f.Parser=R;f.parser=R.parse;f.Renderer=Pa;f.TextRenderer=Ua;f.Lexer=Za;f.lexer=Za.lex;f.Tokenizer=C;f.Slugger=
za;return f.parse=f})};
shadow$provide[16]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J):"function"===typeof define&&define.amd?define(["exports"],l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.vega={}))})(this,function(m){function l(qa,R,T){qa.fields=R||[];qa.fname=T;return qa}function u(qa){return null==qa?null:qa.fields}function G(qa){return 1===qa.length?Q(qa[0]):S(qa)}function L(qa){throw Error(qa);}function w(qa){function R(){T.push(na+qa.substring(Aa,ka));na="";
Aa=ka+1}const T=[],X=qa.length;let Z=null,oa=0,na="",Aa,ka,Na;qa+="";for(Aa=ka=0;ka<X;++ka)(Na=qa[ka],"\\"===Na)?(na+=qa.substring(Aa,ka),na+=qa.substring(++ka,++ka),Aa=ka):Na===Z?(R(),Z=null,oa=-1):Z||(Aa===oa&&'"'===Na?(Aa=ka+1,Z=Na):Aa===oa&&"'"===Na?(Aa=ka+1,Z=Na):"."!==Na||oa?"["===Na?(ka>Aa&&R(),oa=Aa=ka+1):"]"===Na&&(oa||L("Access path missing open bracket: "+qa),0<oa&&R(),oa=0,Aa=ka+1):ka>Aa?R():Aa=ka+1);oa&&L("Access path missing closing bracket: "+qa);Z&&L("Access path missing closing quote: "+
qa);ka>Aa&&(ka++,R());return T}function v(qa,R,T){const X=w(qa);qa=1===X.length?X[0]:qa;return l((T&&T.get||G)(X),[qa],R||qa)}function t(qa,R,T){R=[R].concat([].slice.call(T));console[qa].apply(console,R)}function k(qa){return qa===Object(qa)}function g(qa,R,T,X){if("__proto__"!==R){var Z;if(k(T)&&!C(T))for(Z in qa=k(qa[R])?qa[R]:qa[R]={},T)X&&(!0===X||X[Z])?g(qa,Z,T[Z]):"__proto__"!==Z&&(qa[Z]=T[Z]);else qa[R]=T}}function d(qa,R){function T(oa){X[oa.name]||(X[oa.name]=1,Z.push(oa))}if(null==qa)return R;
const X={},Z=[];R.forEach(T);qa.forEach(T);return Z}function f(qa){return qa[qa.length-1]}function a(qa){return null==qa||""===qa?null:+qa}function e(qa,R,T,X){const Z=T(qa[0]);qa=T(f(qa));R*=qa-Z;return[X(Z-R),X(qa-R)]}function n(qa,R,T,X,Z){const oa=X(qa[0]);qa=X(f(qa));R=null!=R?X(R):(oa+qa)/2;return[Z(R+(oa-R)*T),Z(R+(qa-R)*T)]}function x(qa){return null!=qa?C(qa)?qa:[qa]:[]}function z(qa){return"function"===typeof qa}function B(qa){for(let R,T,X=1,Z=arguments.length;X<Z;++X)for(T in R=arguments[X],
R)qa[T]=R[T];return qa}function M(qa,R){return Pa.call(qa,R)}function K(qa){return"[object Date]"===Object.prototype.toString.call(qa)}function D(qa){return"number"===typeof qa}function y(qa){return"string"===typeof qa}function E(qa,R){let T="";for(;0<=--R;)T+=qa;return T}function H(qa){return C(qa)?"["+qa.map(H)+"]":k(qa)||y(qa)?JSON.stringify(qa).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):qa}const Q=qa=>function(R){return R[qa]},S=qa=>{const R=qa.length;return function(T){for(let X=
0;X<R;++X)T=T[qa[X]];return T}},ea=v("id"),ba=l(qa=>qa,[],"identity"),fa=l(()=>0,[],"zero"),ia=l(()=>1,[],"one"),ca=l(()=>!0,[],"true"),N=l(()=>!1,[],"false");var C=Array.isArray;const W=qa=>R=>qa*Math.exp(R),ha=qa=>R=>Math.log(qa*R),Y=qa=>R=>Math.sign(R)*Math.log1p(Math.abs(R/qa)),wa=qa=>R=>Math.sign(R)*Math.expm1(Math.abs(R))*qa,xa=qa=>R=>0>R?-Math.pow(-R,qa):Math.pow(R,qa),Ha=(qa,R)=>(qa<R||null==qa)&&null!=R?-1:(qa>R||null==R)&&null!=qa?1:(R=R instanceof Date?+R:R,qa=qa instanceof Date?+qa:qa)!==
qa&&R===R?-1:R!==R&&qa===qa?1:0,Za=(qa,R)=>1===qa.length?gb(qa[0],R[0]):ra(qa,R,qa.length),gb=(qa,R)=>function(T,X){return Ha(qa(T),qa(X))*R},ra=(qa,R,T)=>{R.push(0);return function(X,Z){var oa=0;let na=-1;for(;0===oa&&++na<T;)oa=qa[na],oa=Ha(oa(X),oa(Z));return oa*R[na]}},Pa=Object.prototype.hasOwnProperty,Ua={},za=qa=>D(qa)?qa:K(qa)?qa:Date.parse(qa);m.Debug=4;m.Error=1;m.Info=3;m.None=0;m.Warn=2;m.accessor=l;m.accessorFields=u;m.accessorName=function(qa){return null==qa?null:qa.fname};m.array=
x;m.ascending=Ha;m.clampRange=function(qa,R,T){let X=qa[0];qa=qa[1];let Z;qa<X&&(Z=qa,qa=X,X=Z);Z=qa-X;return Z>=T-R?[R,T]:[X=Math.min(Math.max(X,R),T-Z),X+Z]};m.compare=function(qa,R,T){T=T||{};R=x(R)||[];const X=[],Z=[],oa={},na=T.comparator||Za;x(qa).forEach((Aa,ka)=>{null!=Aa&&(X.push("descending"===R[ka]?-1:1),Z.push(Aa=z(Aa)?Aa:v(Aa,null,T)),(u(Aa)||[]).forEach(Na=>oa[Na]=1))});return 0===Z.length?null:l(na(Z,X),Object.keys(oa))};m.constant=function(qa){return z(qa)?qa:()=>qa};m.debounce=function(qa,
R){let T;return X=>{T&&clearTimeout(T);T=setTimeout(()=>(R(X),T=null),qa)}};m.error=L;m.extend=B;m.extent=function(qa,R){let T=0,X,Z,oa,na;if(qa&&(X=qa.length))if(null==R){for(Z=qa[T];T<X&&(null==Z||Z!==Z);Z=qa[++T]);for(oa=na=Z;T<X;++T)Z=qa[T],null!=Z&&(Z<oa&&(oa=Z),Z>na&&(na=Z))}else{for(Z=R(qa[T]);T<X&&(null==Z||Z!==Z);Z=R(qa[++T]));for(oa=na=Z;T<X;++T)Z=R(qa[T]),null!=Z&&(Z<oa&&(oa=Z),Z>na&&(na=Z))}return[oa,na]};m.extentIndex=function(qa,R){const T=qa.length;let X=-1,Z,oa,na,Aa,ka;if(null==R){for(;++X<
T;)if(oa=qa[X],null!=oa&&oa>=oa){Z=na=oa;break}if(X===T)return[-1,-1];for(Aa=ka=X;++X<T;)oa=qa[X],null!=oa&&(Z>oa&&(Z=oa,Aa=X),na<oa&&(na=oa,ka=X))}else{for(;++X<T;)if(oa=R(qa[X],X,qa),null!=oa&&oa>=oa){Z=na=oa;break}if(X===T)return[-1,-1];for(Aa=ka=X;++X<T;)oa=R(qa[X],X,qa),null!=oa&&(Z>oa&&(Z=oa,Aa=X),na<oa&&(na=oa,ka=X))}return[Aa,ka]};m.falsy=N;m.fastmap=function(qa){function R(oa){return M(T,oa)&&T[oa]!==Ua}let T={},X;const Z={size:0,empty:0,object:T,has:R,get(oa){return R(oa)?T[oa]:void 0},
set(oa,na){R(oa)||(++Z.size,T[oa]===Ua&&--Z.empty);T[oa]=na;return this},delete(oa){R(oa)&&(--Z.size,++Z.empty,T[oa]=Ua);return this},clear(){Z.size=Z.empty=0;Z.object=T={}},test(oa){return arguments.length?(X=oa,Z):X},clean(){const oa={};let na=0;for(const Aa in T){const ka=T[Aa];ka===Ua||X&&X(ka)||(oa[Aa]=ka,++na)}Z.size=na;Z.empty=0;Z.object=T=oa}};qa&&Object.keys(qa).forEach(oa=>{Z.set(oa,qa[oa])});return Z};m.field=v;m.flush=function(qa,R,T,X,Z,oa){if(!T&&0!==T)return oa;T=+T;let na=qa[0],Aa=
f(qa);Aa<na&&(qa=na,na=Aa,Aa=qa);qa=Math.abs(R-na);R=Math.abs(Aa-R);return qa<R&&qa<=T?X:R<=T?Z:oa};m.hasOwnProperty=M;m.id=ea;m.identity=ba;m.inherits=function(qa,R,T){R=qa.prototype=Object.create(R.prototype);R.constructor=qa;return B(R,T)};m.inrange=function(qa,R,T,X){let Z=R[0];R=R[R.length-1];let oa;Z>R&&(oa=Z,Z=R,R=oa);return(void 0===T||T?Z<=qa:Z<qa)&&(void 0===X||X?qa<=R:qa<R)};m.isArray=C;m.isBoolean=function(qa){return"boolean"===typeof qa};m.isDate=K;m.isFunction=z;m.isIterable=function(qa){return qa&&
z(qa[Symbol.iterator])};m.isNumber=D;m.isObject=k;m.isRegExp=function(qa){return"[object RegExp]"===Object.prototype.toString.call(qa)};m.isString=y;m.key=function(qa,R,T){qa&&(qa=R?x(qa).map(oa=>oa.replace(/\\(.)/g,"$1")):x(qa));const X=qa&&qa.length,Z=T&&T.get||G;T=oa=>Z(R?[oa]:w(oa));if(X)if(1===X){const oa=T(qa[0]);T=function(na){return""+oa(na)}}else{const oa=qa.map(T);T=function(na){let Aa=""+oa[0](na),ka=0;for(;++ka<X;)Aa+="|"+oa[ka](na);return Aa}}else T=function(){return""};return l(T,qa,
"key")};m.lerp=function(qa,R){const T=qa[0];qa=f(qa);return(R=+R)?1===R?qa:T+R*(qa-T):T};m.logger=function(qa,R){let T=qa||0;return{level(X){return arguments.length?(T=+X,this):T},error(){1<=T&&t(R||"error","ERROR",arguments);return this},warn(){2<=T&&t(R||"warn","WARN",arguments);return this},info(){3<=T&&t(R||"log","INFO",arguments);return this},debug(){4<=T&&t(R||"log","DEBUG",arguments);return this}}};m.lruCache=function(qa){qa=+qa||1E4;let R,T,X;const Z=()=>{R={};T={};X=0},oa=(na,Aa)=>{++X>qa&&
(T=R,R={},X=1);return R[na]=Aa};Z();return{clear:Z,has:na=>M(R,na)||M(T,na),get:na=>M(R,na)?R[na]:M(T,na)?oa(na,T[na]):void 0,set:(na,Aa)=>M(R,na)?R[na]=Aa:oa(na,Aa)}};m.merge=function(qa,R,T,X){const Z=R.length,oa=T.length;if(!oa)return R;if(!Z)return T;X=X||new R.constructor(Z+oa);let na=0,Aa=0,ka=0;for(;na<Z&&Aa<oa;++ka)X[ka]=0<qa(R[na],T[Aa])?T[Aa++]:R[na++];for(;na<Z;++na,++ka)X[ka]=R[na];for(;Aa<oa;++Aa,++ka)X[ka]=T[Aa];return X};m.mergeConfig=function(...qa){return qa.reduce((R,T)=>{for(const X in T)"signals"===
X?R.signals=d(R.signals,T.signals):g(R,X,T[X],"legend"===X?{layout:1}:"style"===X?!0:null);return R},{})};m.one=ia;m.pad=function(qa,R,T,X){T=T||" ";qa+="";R-=qa.length;return 0>=R?qa:"left"===X?E(T,R)+qa:"center"===X?E(T,~~(R/2))+qa+E(T,Math.ceil(R/2)):qa+E(T,R)};m.panLinear=function(qa,R){return e(qa,R,a,ba)};m.panLog=function(qa,R){var T=Math.sign(qa[0]);return e(qa,R,ha(T),W(T))};m.panPow=function(qa,R,T){return e(qa,R,xa(T),xa(1/T))};m.panSymlog=function(qa,R,T){return e(qa,R,Y(T),wa(T))};m.peek=
f;m.quarter=function(qa){return 1+~~((new Date(qa)).getMonth()/3)};m.repeat=E;m.span=function(qa){return qa&&f(qa)-qa[0]||0};m.splitAccessPath=w;m.stringValue=H;m.toBoolean=function(qa){return null==qa||""===qa?null:qa&&"false"!==qa&&"0"!==qa?!!qa:!1};m.toDate=function(qa,R){R=R||za;return null==qa||""===qa?null:R(qa)};m.toNumber=a;m.toSet=function(qa){const R={},T=qa.length;for(let X=0;X<T;++X)R[qa[X]]=!0;return R};m.toString=function(qa){return null==qa||""===qa?null:qa+""};m.truncate=function(qa,
R,T,X){X=null!=X?X:"";qa+="";const Z=qa.length,oa=Math.max(0,R-X.length);return Z<=R?qa:"left"===T?X+qa.slice(Z-oa):"center"===T?qa.slice(0,Math.ceil(oa/2))+X+qa.slice(Z-~~(oa/2)):qa.slice(0,oa)+X};m.truthy=ca;m.utcquarter=function(qa){return 1+~~((new Date(qa)).getUTCMonth()/3)};m.visitArray=function(qa,R,T){if(qa)if(R){const X=qa.length;for(let Z=0;Z<X;++Z){const oa=R(qa[Z]);oa&&T(oa,Z,qa)}}else qa.forEach(T)};m.writeConfig=g;m.zero=fa;m.zoomLinear=function(qa,R,T){return n(qa,R,T,a,ba)};m.zoomLog=
function(qa,R,T){const X=Math.sign(qa[0]);return n(qa,R,T,ha(X),W(X))};m.zoomPow=function(qa,R,T,X){return n(qa,R,T,xa(X),xa(1/X))};m.zoomSymlog=function(qa,R,T,X){return n(qa,R,T,Y(X),wa(X))};Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[17]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J):"function"===typeof define&&define.amd?define(["exports"],l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.d3=m.d3||{}))})(this,function(m){function l(Ca,Da){return Ca<Da?-1:Ca>Da?1:Ca>=Da?0:NaN}function u(Ca){function Da(Qa,eb,yb,Qb){null==yb&&(yb=0);null==Qb&&(Qb=Qa.length);for(;yb<Qb;){const fc=yb+Qb>>>1;0>Ea(Qa[fc],eb)?yb=fc+1:Qb=fc}return yb}let ma=Ca,Ea=Ca;1===Ca.length&&(ma=(Qa,
eb)=>Ca(Qa)-eb,Ea=G(Ca));return{left:Da,center:function(Qa,eb,yb,Qb){null==yb&&(yb=0);null==Qb&&(Qb=Qa.length);Qb=Da(Qa,eb,yb,Qb-1);return Qb>yb&&ma(Qa[Qb-1],eb)>-ma(Qa[Qb],eb)?Qb-1:Qb},right:function(Qa,eb,yb,Qb){null==yb&&(yb=0);null==Qb&&(Qb=Qa.length);for(;yb<Qb;){const fc=yb+Qb>>>1;0<Ea(Qa[fc],eb)?Qb=fc:yb=fc+1}return yb}}}function G(Ca){return(Da,ma)=>l(Ca(Da),ma)}function L(Ca){return null===Ca?NaN:+Ca}function*w(Ca,Da){if(void 0===Da)for(var ma of Ca)null!=ma&&(ma=+ma)>=ma&&(yield ma);else{ma=
-1;for(let Ea of Ca)null!=(Ea=Da(Ea,++ma,Ca))&&(Ea=+Ea)>=Ea&&(yield Ea)}}function v(Ca,Da){let ma=0;if(void 0===Da)for(var Ea of Ca)null!=Ea&&(Ea=+Ea)>=Ea&&++ma;else{Ea=-1;for(let Qa of Ca)null!=(Qa=Da(Qa,++Ea,Ca))&&(Qa=+Qa)>=Qa&&++ma}return ma}function t(Ca){return Ca.length|0}function k(Ca){return!(0<Ca)}function g(Ca){return"object"!==typeof Ca||"length"in Ca?Ca:Array.from(Ca)}function d(Ca){return Da=>Ca(...Da)}function f(Ca,Da){let ma=0,Ea,Qa=0,eb=0;if(void 0===Da)for(var yb of Ca)null!=yb&&
(yb=+yb)>=yb&&(Ea=yb-Qa,Qa+=Ea/++ma,eb+=Ea*(yb-Qa));else{yb=-1;for(let Qb of Ca)null!=(Qb=Da(Qb,++yb,Ca))&&(Qb=+Qb)>=Qb&&(Ea=Qb-Qa,Qa+=Ea/++ma,eb+=Ea*(Qb-Qa))}if(1<ma)return eb/(ma-1)}function a(Ca,Da){return(Ca=f(Ca,Da))?Math.sqrt(Ca):Ca}function e(Ca,Da){let ma,Ea;if(void 0===Da)for(var Qa of Ca)null!=Qa&&(void 0===ma?Qa>=Qa&&(ma=Ea=Qa):(ma>Qa&&(ma=Qa),Ea<Qa&&(Ea=Qa)));else{Qa=-1;for(let eb of Ca)null!=(eb=Da(eb,++Qa,Ca))&&(void 0===ma?eb>=eb&&(ma=Ea=eb):(ma>eb&&(ma=eb),Ea<eb&&(Ea=eb)))}return[ma,
Ea]}function n({_intern:Ca,_key:Da},ma){Da=Da(ma);return Ca.has(Da)?Ca.get(Da):ma}function x({_intern:Ca,_key:Da},ma){Da=Da(ma);if(Ca.has(Da))return Ca.get(Da);Ca.set(Da,ma);return ma}function z({_intern:Ca,_key:Da},ma){Da=Da(ma);Ca.has(Da)&&(ma=Ca.get(ma),Ca.delete(Da));return ma}function B(Ca){return null!==Ca&&"object"===typeof Ca?Ca.valueOf():Ca}function M(Ca){return Ca}function K(Ca,...Da){return E(Ca,M,M,Da)}function D(Ca,Da,...ma){return E(Ca,M,Da,ma)}function y(Ca){if(1!==Ca.length)throw Error("duplicate key");
return Ca[0]}function E(Ca,Da,ma,Ea){return function Qb(eb,yb){if(yb>=Ea.length)return ma(eb);const fc=new oa,ad=Ea[yb++];let ic=-1;for(const xc of eb){const ib=ad(xc,++ic,eb),$b=fc.get(ib);$b?$b.push(xc):fc.set(ib,[xc])}for(const [xc,ib]of fc)fc.set(xc,Qb(ib,yb));return Da(fc)}(Ca,0)}function H(Ca,Da){return Array.from(Da,ma=>Ca[ma])}function Q(Ca,...Da){if("function"!==typeof Ca[Symbol.iterator])throw new TypeError("values is not iterable");Ca=Array.from(Ca);let [ma=l]=Da;if(1===ma.length||1<Da.length){const Ea=
Uint32Array.from(Ca,(Qa,eb)=>eb);1<Da.length?(Da=Da.map(Qa=>Ca.map(Qa)),Ea.sort((Qa,eb)=>{for(const yb of Da){const Qb=l(yb[Qa],yb[eb]);if(Qb)return Qb}})):(ma=Ca.map(ma),Ea.sort((Qa,eb)=>l(ma[Qa],ma[eb])));return H(Ca,Ea)}return Ca.sort(ma)}function S(Ca){return function(){return Ca}}function ea(Ca,Da,ma){var Ea,Qa=-1,eb;Da=+Da;Ca=+Ca;ma=+ma;if(Ca===Da&&0<ma)return[Ca];if(Ea=Da<Ca){var yb=Ca;Ca=Da;Da=yb}if(0===(eb=ba(Ca,Da,ma))||!isFinite(eb))return[];if(0<eb)for(Ca=Math.ceil(Ca/eb),Da=Math.floor(Da/
eb),Da=Array(yb=Math.ceil(Da-Ca+1));++Qa<yb;)Da[Qa]=(Ca+Qa)*eb;else for(eb=-eb,Ca=Math.ceil(Ca*eb),Da=Math.floor(Da*eb),Da=Array(yb=Math.ceil(Da-Ca+1));++Qa<yb;)Da[Qa]=(Ca+Qa)/eb;Ea&&Da.reverse();return Da}function ba(Ca,Da,ma){Da=(Da-Ca)/Math.max(0,ma);Ca=Math.floor(Math.log(Da)/Math.LN10);Da/=Math.pow(10,Ca);return 0<=Ca?(Da>=ka?10:Da>=Na?5:Da>=$a?2:1)*Math.pow(10,Ca):-Math.pow(10,-Ca)/(Da>=ka?10:Da>=Na?5:Da>=$a?2:1)}function fa(Ca,Da,ma){let Ea;for(;;){const Qa=ba(Ca,Da,ma);if(Qa===Ea||0===Qa||
!isFinite(Qa))return[Ca,Da];0<Qa?(Ca=Math.floor(Ca/Qa)*Qa,Da=Math.ceil(Da/Qa)*Qa):0>Qa&&(Ca=Math.ceil(Ca*Qa)/Qa,Da=Math.floor(Da*Qa)/Qa);Ea=Qa}}function ia(Ca){return Math.ceil(Math.log(v(Ca))/Math.LN2)+1}function ca(){function Ca(Qa){Array.isArray(Qa)||(Qa=Array.from(Qa));var eb,yb=Qa.length,Qb=Array(yb);for(eb=0;eb<yb;++eb)Qb[eb]=Da(Qa[eb],eb,Qa);var fc=ma(Qb),ad=fc[0];fc=fc[1];var ic=Ea(Qb,ad,fc);if(!Array.isArray(ic)){eb=fc;var xc=+ic;ma===e&&([ad,fc]=fa(ad,fc,xc));ic=ea(ad,fc,xc);ic[ic.length-
1]>=fc&&(eb>=fc&&ma===e?(eb=ba(ad,fc,xc),isFinite(eb)&&(0<eb?fc=(Math.floor(fc/eb)+1)*eb:0>eb&&(fc=(Math.ceil(fc*-eb)+1)/-eb))):ic.pop())}for(xc=ic.length;ic[0]<=ad;)ic.shift(),--xc;for(;ic[xc-1]>fc;)ic.pop(),--xc;var ib=Array(xc+1);for(eb=0;eb<=xc;++eb){var $b=ib[eb]=[];$b.x0=0<eb?ic[eb-1]:ad;$b.x1=eb<xc?ic[eb]:fc}for(eb=0;eb<yb;++eb)$b=Qb[eb],ad<=$b&&$b<=fc&&ib[T(ic,$b,0,xc)].push(Qa[eb]);return ib}var Da=M,ma=e,Ea=ia;Ca.value=function(Qa){return arguments.length?(Da="function"===typeof Qa?Qa:S(Qa),
Ca):Da};Ca.domain=function(Qa){return arguments.length?(ma="function"===typeof Qa?Qa:S([Qa[0],Qa[1]]),Ca):ma};Ca.thresholds=function(Qa){return arguments.length?(Ea="function"===typeof Qa?Qa:Array.isArray(Qa)?S(Aa.call(Qa)):S(Qa),Ca):Ea};return Ca}function N(Ca,Da){let ma;if(void 0===Da)for(var Ea of Ca)null!=Ea&&(ma<Ea||void 0===ma&&Ea>=Ea)&&(ma=Ea);else{Ea=-1;for(let Qa of Ca)null!=(Qa=Da(Qa,++Ea,Ca))&&(ma<Qa||void 0===ma&&Qa>=Qa)&&(ma=Qa)}return ma}function C(Ca,Da){let ma;if(void 0===Da)for(var Ea of Ca)null!=
Ea&&(ma>Ea||void 0===ma&&Ea>=Ea)&&(ma=Ea);else{Ea=-1;for(let Qa of Ca)null!=(Qa=Da(Qa,++Ea,Ca))&&(ma>Qa||void 0===ma&&Qa>=Qa)&&(ma=Qa)}return ma}function W(Ca,Da,ma=0,Ea=Ca.length-1,Qa=l){for(;Ea>ma;){if(600<Ea-ma){var eb=Ea-ma+1,yb=Da-ma+1,Qb=Math.log(eb),fc=.5*Math.exp(2*Qb/3);Qb=.5*Math.sqrt(Qb*fc*(eb-fc)/eb)*(0>yb-eb/2?-1:1);W(Ca,Da,Math.max(ma,Math.floor(Da-yb*fc/eb+Qb)),Math.min(Ea,Math.floor(Da+(eb-yb)*fc/eb+Qb)),Qa)}eb=Ca[Da];yb=ma;fc=Ea;ha(Ca,ma,Da);for(0<Qa(Ca[Ea],eb)&&ha(Ca,ma,Ea);yb<fc;){ha(Ca,
yb,fc);++yb;for(--fc;0>Qa(Ca[yb],eb);)++yb;for(;0<Qa(Ca[fc],eb);)--fc}0===Qa(Ca[ma],eb)?ha(Ca,ma,fc):(++fc,ha(Ca,fc,Ea));fc<=Da&&(ma=fc+1);Da<=fc&&(Ea=fc-1)}return Ca}function ha(Ca,Da,ma){const Ea=Ca[Da];Ca[Da]=Ca[ma];Ca[ma]=Ea}function Y(Ca,Da,ma){Ca=Float64Array.from(w(Ca,ma));if(ma=Ca.length){if(0>=(Da=+Da)||2>ma)return C(Ca);if(1<=Da)return N(Ca);Da*=ma-1;ma=Math.floor(Da);var Ea=N(W(Ca,ma).subarray(0,ma+1));Ca=C(Ca.subarray(ma+1));return Ea+(Ca-Ea)*(Da-ma)}}function wa(Ca,Da){let ma,Ea=-1,Qa=
-1;if(void 0===Da)for(const eb of Ca)++Qa,null!=eb&&(ma<eb||void 0===ma&&eb>=eb)&&(ma=eb,Ea=Qa);else for(let eb of Ca)null!=(eb=Da(eb,++Qa,Ca))&&(ma<eb||void 0===ma&&eb>=eb)&&(ma=eb,Ea=Qa);return Ea}function*xa(Ca){for(const Da of Ca)yield*Da}function Ha(Ca,Da){let ma,Ea=-1,Qa=-1;if(void 0===Da)for(const eb of Ca)++Qa,null!=eb&&(ma>eb||void 0===ma&&eb>=eb)&&(ma=eb,Ea=Qa);else for(let eb of Ca)null!=(eb=Da(eb,++Qa,Ca))&&(ma>eb||void 0===ma&&eb>=eb)&&(ma=eb,Ea=Qa);return Ea}function Za(Ca,Da){return[Ca,
Da]}function gb(Ca,Da=l){if(1===Da.length)return Ha(Ca,Da);let ma,Ea=-1,Qa=-1;for(const eb of Ca)if(++Qa,0>Ea?0===Da(eb,eb):0>Da(eb,ma))ma=eb,Ea=Qa;return Ea}function ra(Ca){return function(Da,ma=0,Ea=Da.length){for(Ea-=ma=+ma;Ea;){const Qa=Ca()*Ea--|0,eb=Da[Ea+ma];Da[Ea+ma]=Da[Qa+ma];Da[Qa+ma]=eb}return Da}}function Pa(Ca){if(!(eb=Ca.length))return[];for(var Da=-1,ma=C(Ca,Ua),Ea=Array(ma);++Da<ma;)for(var Qa=-1,eb,yb=Ea[Da]=Array(eb);++Qa<eb;)yb[Qa]=Ca[Qa][Da];return Ea}function Ua(Ca){return Ca.length}
function za(Ca){return Ca instanceof Set?Ca:new Set(Ca)}function qa(Ca,Da){Ca=Ca[Symbol.iterator]();const ma=new Set;for(const Ea of Da){if(ma.has(Ea))continue;let Qa;for(;{value:Da,done:Qa}=Ca.next();){if(Qa)return!1;ma.add(Da);if(Object.is(Ea,Da))break}}return!0}var R=u(l);const T=R.right;R=R.left;const X=u(L).center;class Z{constructor(){this._partials=new Float64Array(32);this._n=0}add(Ca){const Da=this._partials;let ma=0;for(let Ea=0;Ea<this._n&&32>Ea;Ea++){const Qa=Da[Ea],eb=Ca+Qa;(Ca=Math.abs(Ca)<
Math.abs(Qa)?Ca-(eb-Qa):Qa-(eb-Ca))&&(Da[ma++]=Ca);Ca=eb}Da[ma]=Ca;this._n=ma+1;return this}valueOf(){const Ca=this._partials;let Da=this._n;let ma,Ea=0;if(0<Da){for(Ea=Ca[--Da];0<Da;){var Qa=Ea;ma=Ca[--Da];Ea=Qa+ma;if(Qa=ma-(Ea-Qa))break}0<Da&&(0>Qa&&0>Ca[Da-1]||0<Qa&&0<Ca[Da-1])&&(ma=2*Qa,Qa=Ea+ma,ma==Qa-Ea&&(Ea=Qa))}return Ea}}class oa extends Map{constructor(Ca=[],Da=B){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:Da}});for(const [ma,Ea]of Ca)this.set(ma,Ea)}get(Ca){return super.get(n(this,
Ca))}has(Ca){return super.has(n(this,Ca))}set(Ca,Da){return super.set(x(this,Ca),Da)}delete(Ca){return super.delete(z(this,Ca))}}class na extends Set{constructor(Ca=[],Da=B){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:Da}});for(const ma of Ca)this.add(ma)}has(Ca){return super.has(n(this,Ca))}add(Ca){return super.add(x(this,Ca))}delete(Ca){return super.delete(z(this,Ca))}}var Aa=Array.prototype.slice,ka=Math.sqrt(50),Na=Math.sqrt(10),$a=Math.sqrt(2),Wa=ra(Math.random);
m.Adder=Z;m.InternMap=oa;m.InternSet=na;m.ascending=l;m.bin=ca;m.bisect=T;m.bisectCenter=X;m.bisectLeft=R;m.bisectRight=T;m.bisector=u;m.count=v;m.cross=function(...Ca){const Da="function"===typeof Ca[Ca.length-1]&&d(Ca.pop());Ca=Ca.map(g);const ma=Ca.map(t),Ea=Ca.length-1,Qa=Array(Ea+1).fill(0),eb=[];if(0>Ea||ma.some(k))return eb;for(;;){eb.push(Qa.map((Qb,fc)=>Ca[fc][Qb]));let yb=Ea;for(;++Qa[yb]===ma[yb];){if(0===yb)return Da?eb.map(Da):eb;Qa[yb--]=0}}};m.cumsum=function(Ca,Da){var ma=0,Ea=0;return Float64Array.from(Ca,
void 0===Da?Qa=>ma+=+Qa||0:Qa=>ma+=+Da(Qa,Ea++,Ca)||0)};m.descending=function(Ca,Da){return Da<Ca?-1:Da>Ca?1:Da>=Ca?0:NaN};m.deviation=a;m.difference=function(Ca,...Da){Ca=new Set(Ca);for(const ma of Da)for(const Ea of ma)Ca.delete(Ea);return Ca};m.disjoint=function(Ca,Da){Da=Da[Symbol.iterator]();const ma=new Set;for(const Ea of Ca){if(ma.has(Ea))return!1;let Qa;for(;({value:Ca,done:Qa}=Da.next())&&!Qa;){if(Object.is(Ea,Ca))return!1;ma.add(Ca)}}return!0};m.every=function(Ca,Da){if("function"!==typeof Da)throw new TypeError("test is not a function");
let ma=-1;for(const Ea of Ca)if(!Da(Ea,++ma,Ca))return!1;return!0};m.extent=e;m.filter=function(Ca,Da){if("function"!==typeof Da)throw new TypeError("test is not a function");const ma=[];let Ea=-1;for(const Qa of Ca)Da(Qa,++Ea,Ca)&&ma.push(Qa);return ma};m.fsum=function(Ca,Da){const ma=new Z;if(void 0===Da)for(var Ea of Ca)(Ea=+Ea)&&ma.add(Ea);else{Ea=-1;for(let Qa of Ca)(Qa=+Da(Qa,++Ea,Ca))&&ma.add(Qa)}return+ma};m.greatest=function(Ca,Da=l){let ma,Ea=!1;if(1===Da.length){let Qa;for(const eb of Ca)if(Ca=
Da(eb),Ea?0<l(Ca,Qa):0===l(Ca,Ca))ma=eb,Qa=Ca,Ea=!0}else for(const Qa of Ca)if(Ea?0<Da(Qa,ma):0===Da(Qa,Qa))ma=Qa,Ea=!0;return ma};m.greatestIndex=function(Ca,Da=l){if(1===Da.length)return wa(Ca,Da);let ma,Ea=-1,Qa=-1;for(const eb of Ca)if(++Qa,0>Ea?0===Da(eb,eb):0<Da(eb,ma))ma=eb,Ea=Qa;return Ea};m.group=K;m.groupSort=function(Ca,Da,ma){return(1===Da.length?Q(D(Ca,Da,ma),([Ea,Qa],[eb,yb])=>l(Qa,yb)||l(Ea,eb)):Q(K(Ca,ma),([Ea,Qa],[eb,yb])=>Da(Qa,yb)||l(Ea,eb))).map(([Ea])=>Ea)};m.groups=function(Ca,
...Da){return E(Ca,Array.from,M,Da)};m.histogram=ca;m.index=function(Ca,...Da){return E(Ca,M,y,Da)};m.indexes=function(Ca,...Da){return E(Ca,Array.from,y,Da)};m.intersection=function(Ca,...Da){Ca=new Set(Ca);Da=Da.map(za);a:for(const ma of Ca)for(const Ea of Da)if(!Ea.has(ma)){Ca.delete(ma);continue a}return Ca};m.least=function(Ca,Da=l){let ma,Ea=!1;if(1===Da.length){let Qa;for(const eb of Ca)if(Ca=Da(eb),Ea?0>l(Ca,Qa):0===l(Ca,Ca))ma=eb,Qa=Ca,Ea=!0}else for(const Qa of Ca)if(Ea?0>Da(Qa,ma):0===
Da(Qa,Qa))ma=Qa,Ea=!0;return ma};m.leastIndex=gb;m.map=function(Ca,Da){if("function"!==typeof Ca[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!==typeof Da)throw new TypeError("mapper is not a function");return Array.from(Ca,(ma,Ea)=>Da(ma,Ea,Ca))};m.max=N;m.maxIndex=wa;m.mean=function(Ca,Da){let ma=0,Ea=0;if(void 0===Da)for(var Qa of Ca)null!=Qa&&(Qa=+Qa)>=Qa&&(++ma,Ea+=Qa);else{Qa=-1;for(let eb of Ca)null!=(eb=Da(eb,++Qa,Ca))&&(eb=+eb)>=eb&&(++ma,Ea+=eb)}if(ma)return Ea/
ma};m.median=function(Ca,Da){return Y(Ca,.5,Da)};m.merge=function(Ca){return Array.from(xa(Ca))};m.min=C;m.minIndex=Ha;m.nice=fa;m.pairs=function(Ca,Da=Za){const ma=[];let Ea,Qa=!1;for(const eb of Ca)Qa&&ma.push(Da(Ea,eb)),Ea=eb,Qa=!0;return ma};m.permute=H;m.quantile=Y;m.quantileSorted=function(Ca,Da,ma=L){if(Ea=Ca.length){if(0>=(Da=+Da)||2>Ea)return+ma(Ca[0],0,Ca);if(1<=Da)return+ma(Ca[Ea-1],Ea-1,Ca);var Ea;Da*=Ea-1;Ea=Math.floor(Da);var Qa=+ma(Ca[Ea],Ea,Ca);Ca=+ma(Ca[Ea+1],Ea+1,Ca);return Qa+(Ca-
Qa)*(Da-Ea)}};m.quickselect=W;m.range=function(Ca,Da,ma){Ca=+Ca;Da=+Da;ma=2>(Qa=arguments.length)?(Da=Ca,Ca=0,1):3>Qa?1:+ma;for(var Ea=-1,Qa=Math.max(0,Math.ceil((Da-Ca)/ma))|0,eb=Array(Qa);++Ea<Qa;)eb[Ea]=Ca+Ea*ma;return eb};m.reduce=function(Ca,Da,ma){if("function"!==typeof Da)throw new TypeError("reducer is not a function");const Ea=Ca[Symbol.iterator]();let Qa,eb,yb=-1;if(3>arguments.length){({done:Qa,value:ma}=Ea.next());if(Qa)return;++yb}for(;{done:Qa,value:eb}=Ea.next(),!Qa;)ma=Da(ma,eb,++yb,
Ca);return ma};m.reverse=function(Ca){if("function"!==typeof Ca[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(Ca).reverse()};m.rollup=D;m.rollups=function(Ca,Da,...ma){return E(Ca,Array.from,Da,ma)};m.scan=function(Ca,Da){Ca=gb(Ca,Da);return 0>Ca?void 0:Ca};m.shuffle=Wa;m.shuffler=ra;m.some=function(Ca,Da){if("function"!==typeof Da)throw new TypeError("test is not a function");let ma=-1;for(const Ea of Ca)if(Da(Ea,++ma,Ca))return!0;return!1};m.sort=Q;m.subset=function(Ca,
Da){return qa(Da,Ca)};m.sum=function(Ca,Da){let ma=0;if(void 0===Da)for(var Ea of Ca){if(Ea=+Ea)ma+=Ea}else{Ea=-1;for(let Qa of Ca)if(Qa=+Da(Qa,++Ea,Ca))ma+=Qa}return ma};m.superset=qa;m.thresholdFreedmanDiaconis=function(Ca,Da,ma){return Math.ceil((ma-Da)/(2*(Y(Ca,.75)-Y(Ca,.25))*Math.pow(v(Ca),-1/3)))};m.thresholdScott=function(Ca,Da,ma){return Math.ceil((ma-Da)/(3.5*a(Ca)*Math.pow(v(Ca),-1/3)))};m.thresholdSturges=ia;m.tickIncrement=ba;m.tickStep=function(Ca,Da,ma){var Ea=Math.abs(Da-Ca)/Math.max(0,
ma);ma=Math.pow(10,Math.floor(Math.log(Ea)/Math.LN10));Ea/=ma;Ea>=ka?ma*=10:Ea>=Na?ma*=5:Ea>=$a&&(ma*=2);return Da<Ca?-ma:ma};m.ticks=ea;m.transpose=Pa;m.union=function(...Ca){const Da=new Set;for(const ma of Ca)for(const Ea of ma)Da.add(Ea);return Da};m.variance=f;m.zip=function(){return Pa(arguments)};Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[18]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J):"function"===typeof define&&define.amd?define(["exports"],l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.d3=m.d3||{}))})(this,function(m){function l(B,M){if(0>(M=(B=M?B.toExponential(M-1):B.toExponential()).indexOf("e")))return null;var K=B.slice(0,M);return[1<K.length?K[0]+K.slice(2):K,+B.slice(M+1)]}function u(B){return B=l(Math.abs(B)),B?B[1]:NaN}function G(B,M){return function(K,
D){for(var y=K.length,E=[],H=0,Q=B[0],S=0;0<y&&0<Q;){S+Q+1>D&&(Q=Math.max(1,D-S));E.push(K.substring(y-=Q,y+Q));if((S+=Q+1)>D)break;Q=B[H=(H+1)%B.length]}return E.reverse().join(M)}}function L(B){return function(M){return M.replace(/[0-9]/g,function(K){return B[+K]})}}function w(B){if(!(M=f.exec(B)))throw Error("invalid format: "+B);var M;return new v({fill:M[1],align:M[2],sign:M[3],symbol:M[4],zero:M[5],width:M[6],comma:M[7],precision:M[8]&&M[8].slice(1),trim:M[9],type:M[10]})}function v(B){this.fill=
void 0===B.fill?" ":B.fill+"";this.align=void 0===B.align?"\x3e":B.align+"";this.sign=void 0===B.sign?"-":B.sign+"";this.symbol=void 0===B.symbol?"":B.symbol+"";this.zero=!!B.zero;this.width=void 0===B.width?void 0:+B.width;this.comma=!!B.comma;this.precision=void 0===B.precision?void 0:+B.precision;this.trim=!!B.trim;this.type=void 0===B.type?"":B.type+""}function t(B,M){M=l(B,M);if(!M)return B+"";B=M[0];M=M[1];return 0>M?"0."+Array(-M).join("0")+B:B.length>M+1?B.slice(0,M+1)+"."+B.slice(M+1):B+
Array(M-B.length+2).join("0")}function k(B){return B}function g(B){function M(ba){function fa(Ua){var za=Za,qa=gb,R,T;if("c"===Ha)qa=ra(Ua)+qa,Ua="";else{Ua=+Ua;var X=0>Ua||0>1/Ua;Ua=isNaN(Ua)?ea:ra(Math.abs(Ua),wa);if(xa){var Z=Ua.length,oa=1,na=-1;a:for(;oa<Z;++oa)switch(Ua[oa]){case ".":na=R=oa;break;case "0":0===na&&(na=oa);R=oa;break;default:if(!+Ua[oa])break a;0<na&&(na=0)}Ua=0<na?Ua.slice(0,na)+Ua.slice(R+1):Ua}X&&0===+Ua&&"+"!==N&&(X=!1);za=(X?"("===N?N:S:"-"===N||"("===N?"":N)+za;qa=("s"===
Ha?x[8+a/3]:"")+qa+(X&&"("===N?")":"");if(Pa)for(X=-1,R=Ua.length;++X<R;)if(T=Ua.charCodeAt(X),48>T||57<T){qa=(46===T?E+Ua.slice(X+1):Ua.slice(X))+qa;Ua=Ua.slice(0,X);break}}Y&&!W&&(Ua=K(Ua,Infinity));T=za.length+Ua.length+qa.length;X=T<ha?Array(ha-T+1).join(ia):"";Y&&W&&(Ua=K(X+Ua,X.length?ha-qa.length:Infinity),X="");switch(ca){case "\x3c":Ua=za+Ua+qa+X;break;case "\x3d":Ua=za+X+Ua+qa;break;case "^":Ua=X.slice(0,T=X.length>>1)+za+Ua+qa+X.slice(T);break;default:Ua=X+za+Ua+qa}return H(Ua)}ba=w(ba);
var ia=ba.fill,ca=ba.align,N=ba.sign,C=ba.symbol,W=ba.zero,ha=ba.width,Y=ba.comma,wa=ba.precision,xa=ba.trim,Ha=ba.type;"n"===Ha?(Y=!0,Ha="g"):e[Ha]||(void 0===wa&&(wa=12),xa=!0,Ha="g");if(W||"0"===ia&&"\x3d"===ca)W=!0,ia="0",ca="\x3d";var Za="$"===C?D:"#"===C&&/[boxX]/.test(Ha)?"0"+Ha.toLowerCase():"",gb="$"===C?y:/[%p]/.test(Ha)?Q:"",ra=e[Ha],Pa=/[defgprs%]/.test(Ha);wa=void 0===wa?6:/[gprs]/.test(Ha)?Math.max(1,Math.min(21,wa)):Math.max(0,Math.min(20,wa));fa.toString=function(){return ba+""};return fa}
var K=void 0===B.grouping||void 0===B.thousands?k:G(n.call(B.grouping,Number),B.thousands+""),D=void 0===B.currency?"":B.currency[0]+"",y=void 0===B.currency?"":B.currency[1]+"",E=void 0===B.decimal?".":B.decimal+"",H=void 0===B.numerals?k:L(n.call(B.numerals,String)),Q=void 0===B.percent?"%":B.percent+"",S=void 0===B.minus?"":B.minus+"",ea=void 0===B.nan?"NaN":B.nan+"";return{format:M,formatPrefix:function(ba,fa){var ia=M((ba=w(ba),ba.type="f",ba));ba=3*Math.max(-8,Math.min(8,Math.floor(u(fa)/3)));
var ca=Math.pow(10,-ba),N=x[8+ba/3];return function(C){return ia(ca*C)+N}}}}function d(B){z=g(B);m.format=z.format;m.formatPrefix=z.formatPrefix;return z}var f=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;w.prototype=v.prototype;v.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?
"~":"")+this.type};var a,e={"%":(B,M)=>(100*B).toFixed(M),b:B=>Math.round(B).toString(2),c:B=>B+"",d:function(B){return 1E21<=Math.abs(B=Math.round(B))?B.toLocaleString("en").replace(/,/g,""):B.toString(10)},e:(B,M)=>B.toExponential(M),f:(B,M)=>B.toFixed(M),g:(B,M)=>B.toPrecision(M),o:B=>Math.round(B).toString(8),p:(B,M)=>t(100*B,M),r:t,s:function(B,M){var K=l(B,M);if(!K)return B+"";var D=K[0];K=K[1];K=K-(a=3*Math.max(-8,Math.min(8,Math.floor(K/3))))+1;var y=D.length;return K===y?D:K>y?D+Array(K-
y+1).join("0"):0<K?D.slice(0,K)+"."+D.slice(K):"0."+Array(1-K).join("0")+l(B,Math.max(0,M+K-1))[0]},X:B=>Math.round(B).toString(16).toUpperCase(),x:B=>Math.round(B).toString(16)},n=Array.prototype.map,x="y z a f p n  m  k M G T P E Z Y".split(" "),z;d({thousands:",",grouping:[3],currency:["$",""]});m.FormatSpecifier=v;m.formatDefaultLocale=d;m.formatLocale=g;m.formatSpecifier=w;m.precisionFixed=function(B){return Math.max(0,-u(Math.abs(B)))};m.precisionPrefix=function(B,M){return Math.max(0,3*Math.max(-8,
Math.min(8,Math.floor(u(M)/3)))-u(Math.abs(B)))};m.precisionRound=function(B,M){B=Math.abs(B);M=Math.abs(M)-B;return Math.max(0,u(M)-u(B))+1};Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[19]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J):"function"===typeof define&&define.amd?define(["exports"],l):(m=m||self,l(m.d3=m.d3||{}))})(this,function(m){function l(Da,ma,Ea,Qa){function eb(yb){return Da(yb=0===arguments.length?new Date:new Date(+yb)),yb}eb.floor=function(yb){return Da(yb=new Date(+yb)),yb};eb.ceil=function(yb){return Da(yb=new Date(yb-1)),ma(yb,1),Da(yb),yb};eb.round=function(yb){var Qb=eb(yb),fc=eb.ceil(yb);return yb-Qb<
fc-yb?Qb:fc};eb.offset=function(yb,Qb){return ma(yb=new Date(+yb),null==Qb?1:Math.floor(Qb)),yb};eb.range=function(yb,Qb,fc){var ad=[],ic;yb=eb.ceil(yb);fc=null==fc?1:Math.floor(fc);if(!(yb<Qb&&0<fc))return ad;do ad.push(ic=new Date(+yb)),ma(yb,fc),Da(yb);while(ic<yb&&yb<Qb);return ad};eb.filter=function(yb){return l(function(Qb){if(Qb>=Qb)for(;Da(Qb),!yb(Qb);)Qb.setTime(Qb-1)},function(Qb,fc){if(Qb>=Qb)if(0>fc)for(;0>=++fc;)for(;ma(Qb,-1),!yb(Qb););else for(;0<=--fc;)for(;ma(Qb,1),!yb(Qb););})};
Ea&&(eb.count=function(yb,Qb){L.setTime(+yb);w.setTime(+Qb);Da(L);Da(w);return Math.floor(Ea(L,w))},eb.every=function(yb){yb=Math.floor(yb);return isFinite(yb)&&0<yb?1<yb?eb.filter(Qa?function(Qb){return 0===Qa(Qb)%yb}:function(Qb){return 0===eb.count(0,Qb)%yb}):eb:null});return eb}function u(Da){return l(function(ma){ma.setDate(ma.getDate()-(ma.getDay()+7-Da)%7);ma.setHours(0,0,0,0)},function(ma,Ea){ma.setDate(ma.getDate()+7*Ea)},function(ma,Ea){return(Ea-ma-6E4*(Ea.getTimezoneOffset()-ma.getTimezoneOffset()))/
6048E5})}function G(Da){return l(function(ma){ma.setUTCDate(ma.getUTCDate()-(ma.getUTCDay()+7-Da)%7);ma.setUTCHours(0,0,0,0)},function(ma,Ea){ma.setUTCDate(ma.getUTCDate()+7*Ea)},function(ma,Ea){return(Ea-ma)/6048E5})}var L=new Date,w=new Date,v=l(function(){},function(Da,ma){Da.setTime(+Da+ma)},function(Da,ma){return ma-Da});v.every=function(Da){Da=Math.floor(Da);return isFinite(Da)&&0<Da?1<Da?l(function(ma){ma.setTime(Math.floor(ma/Da)*Da)},function(ma,Ea){ma.setTime(+ma+Ea*Da)},function(ma,Ea){return(Ea-
ma)/Da}):v:null};var t=v.range,k=l(function(Da){Da.setTime(Da-Da.getMilliseconds())},function(Da,ma){Da.setTime(+Da+1E3*ma)},function(Da,ma){return(ma-Da)/1E3},function(Da){return Da.getUTCSeconds()}),g=k.range,d=l(function(Da){Da.setTime(Da-Da.getMilliseconds()-1E3*Da.getSeconds())},function(Da,ma){Da.setTime(+Da+6E4*ma)},function(Da,ma){return(ma-Da)/6E4},function(Da){return Da.getMinutes()}),f=d.range,a=l(function(Da){Da.setTime(Da-Da.getMilliseconds()-1E3*Da.getSeconds()-6E4*Da.getMinutes())},
function(Da,ma){Da.setTime(+Da+36E5*ma)},function(Da,ma){return(ma-Da)/36E5},function(Da){return Da.getHours()}),e=a.range,n=l(Da=>Da.setHours(0,0,0,0),(Da,ma)=>Da.setDate(Da.getDate()+ma),(Da,ma)=>(ma-Da-6E4*(ma.getTimezoneOffset()-Da.getTimezoneOffset()))/864E5,Da=>Da.getDate()-1),x=n.range,z=u(0),B=u(1),M=u(2),K=u(3),D=u(4),y=u(5),E=u(6),H=z.range,Q=B.range,S=M.range,ea=K.range,ba=D.range,fa=y.range,ia=E.range,ca=l(function(Da){Da.setDate(1);Da.setHours(0,0,0,0)},function(Da,ma){Da.setMonth(Da.getMonth()+
ma)},function(Da,ma){return ma.getMonth()-Da.getMonth()+12*(ma.getFullYear()-Da.getFullYear())},function(Da){return Da.getMonth()}),N=ca.range,C=l(function(Da){Da.setMonth(0,1);Da.setHours(0,0,0,0)},function(Da,ma){Da.setFullYear(Da.getFullYear()+ma)},function(Da,ma){return ma.getFullYear()-Da.getFullYear()},function(Da){return Da.getFullYear()});C.every=function(Da){return isFinite(Da=Math.floor(Da))&&0<Da?l(function(ma){ma.setFullYear(Math.floor(ma.getFullYear()/Da)*Da);ma.setMonth(0,1);ma.setHours(0,
0,0,0)},function(ma,Ea){ma.setFullYear(ma.getFullYear()+Ea*Da)}):null};var W=C.range,ha=l(function(Da){Da.setUTCSeconds(0,0)},function(Da,ma){Da.setTime(+Da+6E4*ma)},function(Da,ma){return(ma-Da)/6E4},function(Da){return Da.getUTCMinutes()}),Y=ha.range,wa=l(function(Da){Da.setUTCMinutes(0,0,0)},function(Da,ma){Da.setTime(+Da+36E5*ma)},function(Da,ma){return(ma-Da)/36E5},function(Da){return Da.getUTCHours()}),xa=wa.range,Ha=l(function(Da){Da.setUTCHours(0,0,0,0)},function(Da,ma){Da.setUTCDate(Da.getUTCDate()+
ma)},function(Da,ma){return(ma-Da)/864E5},function(Da){return Da.getUTCDate()-1}),Za=Ha.range,gb=G(0),ra=G(1),Pa=G(2),Ua=G(3),za=G(4),qa=G(5),R=G(6),T=gb.range,X=ra.range,Z=Pa.range,oa=Ua.range,na=za.range,Aa=qa.range,ka=R.range,Na=l(function(Da){Da.setUTCDate(1);Da.setUTCHours(0,0,0,0)},function(Da,ma){Da.setUTCMonth(Da.getUTCMonth()+ma)},function(Da,ma){return ma.getUTCMonth()-Da.getUTCMonth()+12*(ma.getUTCFullYear()-Da.getUTCFullYear())},function(Da){return Da.getUTCMonth()}),$a=Na.range,Wa=l(function(Da){Da.setUTCMonth(0,
1);Da.setUTCHours(0,0,0,0)},function(Da,ma){Da.setUTCFullYear(Da.getUTCFullYear()+ma)},function(Da,ma){return ma.getUTCFullYear()-Da.getUTCFullYear()},function(Da){return Da.getUTCFullYear()});Wa.every=function(Da){return isFinite(Da=Math.floor(Da))&&0<Da?l(function(ma){ma.setUTCFullYear(Math.floor(ma.getUTCFullYear()/Da)*Da);ma.setUTCMonth(0,1);ma.setUTCHours(0,0,0,0)},function(ma,Ea){ma.setUTCFullYear(ma.getUTCFullYear()+Ea*Da)}):null};var Ca=Wa.range;m.timeDay=n;m.timeDays=x;m.timeFriday=y;m.timeFridays=
fa;m.timeHour=a;m.timeHours=e;m.timeInterval=l;m.timeMillisecond=v;m.timeMilliseconds=t;m.timeMinute=d;m.timeMinutes=f;m.timeMonday=B;m.timeMondays=Q;m.timeMonth=ca;m.timeMonths=N;m.timeSaturday=E;m.timeSaturdays=ia;m.timeSecond=k;m.timeSeconds=g;m.timeSunday=z;m.timeSundays=H;m.timeThursday=D;m.timeThursdays=ba;m.timeTuesday=M;m.timeTuesdays=S;m.timeWednesday=K;m.timeWednesdays=ea;m.timeWeek=z;m.timeWeeks=H;m.timeYear=C;m.timeYears=W;m.utcDay=Ha;m.utcDays=Za;m.utcFriday=qa;m.utcFridays=Aa;m.utcHour=
wa;m.utcHours=xa;m.utcMillisecond=v;m.utcMilliseconds=t;m.utcMinute=ha;m.utcMinutes=Y;m.utcMonday=ra;m.utcMondays=X;m.utcMonth=Na;m.utcMonths=$a;m.utcSaturday=R;m.utcSaturdays=ka;m.utcSecond=k;m.utcSeconds=g;m.utcSunday=gb;m.utcSundays=T;m.utcThursday=za;m.utcThursdays=na;m.utcTuesday=Pa;m.utcTuesdays=Z;m.utcWednesday=Ua;m.utcWednesdays=oa;m.utcWeek=gb;m.utcWeeks=T;m.utcYear=Wa;m.utcYears=Ca;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[20]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J,A(16),A(19),A(17)):"function"===typeof define&&define.amd?define(["exports","vega-util","d3-time","d3-array"],l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.vega={},m.vega,m.d3,m.d3))})(this,function(m,l,u,G){function L(xa){const Ha=l.array(xa).slice(),Za={};Ha.length||l.error("Missing time unit.");Ha.forEach(gb=>{l.hasOwnProperty(B,gb)?Za[gb]=1:l.error(`Invalid time unit: ${gb}.`)});
1<(Za.week||Za.day?1:0)+(Za.quarter||Za.month||Za.date?1:0)+(Za.dayofyear?1:0)&&l.error(`Incompatible time units: ${xa}`);Ha.sort((gb,ra)=>B[gb]-B[ra]);return Ha}function w(xa){K.setFullYear(xa);K.setMonth(0);K.setDate(1);K.setHours(0,0,0,0);return K}function v(xa){return u.timeDay.count(w(xa.getFullYear())-1,xa)}function t(xa){return u.timeWeek.count(w(xa.getFullYear())-1,xa)}function k(xa,Ha,Za,gb,ra,Pa,Ua){return 0<=xa&&100>xa?(Ha=new Date(-1,Ha,Za,gb,ra,Pa,Ua),Ha.setFullYear(xa),Ha):new Date(xa,
Ha,Za,gb,ra,Pa,Ua)}function g(xa){const Ha=Date.UTC(xa.getUTCFullYear(),0,1);return u.utcDay.count(Ha-1,xa)}function d(xa){const Ha=Date.UTC(xa.getUTCFullYear(),0,1);return u.utcWeek.count(Ha-1,xa)}function f(xa){K.setTime(Date.UTC(xa,0,1));return K.getUTCDay()}function a(xa,Ha,Za,gb,ra,Pa,Ua){return 0<=xa&&100>xa?(xa=new Date(Date.UTC(-1,Ha,Za,gb,ra,Pa,Ua)),xa.setUTCFullYear(Za.y),xa):new Date(Date.UTC(xa,Ha,Za,gb,ra,Pa,Ua))}function e(xa,Ha,Za,gb,ra){const Pa=Ha||1,Ua=l.peek(xa);Ha=(Aa,ka,Na)=>
{Na=Na||Aa;return n(Za[Na],gb[Na],Aa===Ua&&Pa,ka)};const za=new Date;xa=l.toSet(xa);const qa=xa.year?Ha("year"):l.constant(2012),R=xa.month?Ha("month"):xa.quarter?Ha("quarter"):l.zero,T=xa.week&&xa.day?Ha("day",1,"weekday"):xa.week?Ha("week",1):xa.day?Ha("day",1):xa.date?Ha("date",1):xa.dayofyear?Ha("dayofyear",1):l.one,X=xa.hours?Ha("hours"):l.zero,Z=xa.minutes?Ha("minutes"):l.zero,oa=xa.seconds?Ha("seconds"):l.zero,na=xa.milliseconds?Ha("milliseconds"):l.zero;return function(Aa){za.setTime(+Aa);
Aa=qa(za);return ra(Aa,R(za),T(za,Aa),X(za),Z(za),oa(za),na(za))}}function n(xa,Ha,Za,gb){const ra=1>=Za?xa:gb?(Pa,Ua)=>gb+Za*Math.floor((xa(Pa,Ua)-gb)/Za):(Pa,Ua)=>Za*Math.floor(xa(Pa,Ua)/Za);return Ha?(Pa,Ua)=>Ha(ra(Pa,Ua),Ua):ra}function x(xa,Ha,Za){return Ha+7*xa-(Za+6)%7}const z="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),B=z.reduce((xa,Ha,Za)=>(xa[Ha]=1+Za,xa),{}),M={["year"]:"%Y ",["quarter"]:"Q%q ",["month"]:"%b ",["date"]:"%d ",["week"]:"W%U ",
["day"]:"%a ",["dayofyear"]:"%j ",["hours"]:"%H:00",["minutes"]:"00:%M",["seconds"]:":%S",["milliseconds"]:".%L",["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"},K=new Date,D={["year"]:xa=>xa.getFullYear(),["quarter"]:xa=>Math.floor(xa.getMonth()/3),["month"]:xa=>xa.getMonth(),["date"]:xa=>xa.getDate(),["hours"]:xa=>xa.getHours(),["minutes"]:xa=>xa.getMinutes(),["seconds"]:xa=>xa.getSeconds(),["milliseconds"]:xa=>xa.getMilliseconds(),["dayofyear"]:xa=>v(xa),["week"]:xa=>
t(xa),["weekday"]:(xa,Ha)=>x(t(xa),xa.getDay(),w(Ha).getDay()),["day"]:(xa,Ha)=>x(1,xa.getDay(),w(Ha).getDay())},y={["quarter"]:xa=>3*xa,["week"]:(xa,Ha)=>x(xa,0,w(Ha).getDay())},E={["year"]:xa=>xa.getUTCFullYear(),["quarter"]:xa=>Math.floor(xa.getUTCMonth()/3),["month"]:xa=>xa.getUTCMonth(),["date"]:xa=>xa.getUTCDate(),["hours"]:xa=>xa.getUTCHours(),["minutes"]:xa=>xa.getUTCMinutes(),["seconds"]:xa=>xa.getUTCSeconds(),["milliseconds"]:xa=>xa.getUTCMilliseconds(),["dayofyear"]:xa=>g(xa),["week"]:xa=>
d(xa),["day"]:(xa,Ha)=>x(1,xa.getUTCDay(),f(Ha)),["weekday"]:(xa,Ha)=>x(d(xa),xa.getUTCDay(),f(Ha))},H={["quarter"]:xa=>3*xa,["week"]:(xa,Ha)=>x(xa,0,f(Ha))},Q={["year"]:u.timeYear,["quarter"]:u.timeMonth.every(3),["month"]:u.timeMonth,["week"]:u.timeWeek,["date"]:u.timeDay,["day"]:u.timeDay,["dayofyear"]:u.timeDay,["hours"]:u.timeHour,["minutes"]:u.timeMinute,["seconds"]:u.timeSecond,["milliseconds"]:u.timeMillisecond},S={["year"]:u.utcYear,["quarter"]:u.utcMonth.every(3),["month"]:u.utcMonth,["week"]:u.utcWeek,
["date"]:u.utcDay,["day"]:u.utcDay,["dayofyear"]:u.utcDay,["hours"]:u.utcHour,["minutes"]:u.utcMinute,["seconds"]:u.utcSecond,["milliseconds"]:u.utcMillisecond},ea=6048E5,ba=2592E6,fa=31536E6,ia="year month date hours minutes seconds milliseconds".split(" "),ca=ia.slice(0,-1),N=ca.slice(0,-1),C=N.slice(0,-1),W=C.slice(0,-1),ha=["year","month"],Y=["year"],wa=[[ca,1,1E3],[ca,5,5E3],[ca,15,15E3],[ca,30,3E4],[N,1,6E4],[N,5,3E5],[N,15,9E5],[N,30,18E5],[C,1,36E5],[C,3,108E5],[C,6,216E5],[C,12,432E5],[W,
1,864E5],[["year","week"],1,ea],[ha,1,ba],[ha,3,3*ba],[Y,1,fa]];m.DATE="date";m.DAY="day";m.DAYOFYEAR="dayofyear";m.HOURS="hours";m.MILLISECONDS="milliseconds";m.MINUTES="minutes";m.MONTH="month";m.QUARTER="quarter";m.SECONDS="seconds";m.TIME_UNITS=z;m.WEEK="week";m.YEAR="year";m.dayofyear=function(xa){return v(new Date(xa))};m.timeBin=function(xa){var Ha=xa.extent;xa=xa.maxbins||40;var Za=Math.abs(l.span(Ha))/xa;let gb=G.bisector(ra=>ra[2]).right(wa,Za);gb===wa.length?(Za=Y,Ha=G.tickStep(Ha[0]/fa,
Ha[1]/fa,xa)):gb?(gb=wa[Za/wa[gb-1][2]<wa[gb][2]/Za?gb-1:gb],Za=gb[0],Ha=gb[1]):(Za=ia,Ha=Math.max(G.tickStep(Ha[0],Ha[1],xa),1));return{units:Za,step:Ha}};m.timeFloor=function(xa,Ha){return e(xa,Ha||1,D,y,k)};m.timeInterval=function(xa){return Q[xa]};m.timeOffset=function(xa,Ha,Za){return(xa=Q[xa])?xa.offset(Ha,Za):void 0};m.timeSequence=function(xa,Ha,Za,gb){return(xa=Q[xa])?xa.range(Ha,Za,gb):void 0};m.timeUnitSpecifier=function(xa,Ha){Ha=l.extend({},M,Ha);xa=L(xa);const Za=xa.length;let gb="",
ra,Pa,Ua;for(ra=0;ra<Za;)for(Pa=xa.length;Pa>ra;--Pa)if(Ua=xa.slice(ra,Pa).join("-"),null!=Ha[Ua]){gb+=Ha[Ua];ra=Pa;break}return gb.trim()};m.timeUnits=L;m.utcFloor=function(xa,Ha){return e(xa,Ha||1,E,H,a)};m.utcInterval=function(xa){return S[xa]};m.utcOffset=function(xa,Ha,Za){return(xa=S[xa])?xa.offset(Ha,Za):void 0};m.utcSequence=function(xa,Ha,Za,gb){return(xa=S[xa])?xa.range(Ha,Za,gb):void 0};m.utcdayofyear=function(xa){return g(new Date(xa))};m.utcweek=function(xa){return d(new Date(xa))};m.week=
function(xa){return t(new Date(xa))};Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[21]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J,A(19)):"function"===typeof define&&define.amd?define(["exports","d3-time"],l):(m=m||self,l(m.d3=m.d3||{},m.d3))})(this,function(m,l){function u(Ib){if(0<=Ib.y&&100>Ib.y){var Zb=new Date(-1,Ib.m,Ib.d,Ib.H,Ib.M,Ib.S,Ib.L);Zb.setFullYear(Ib.y);return Zb}return new Date(Ib.y,Ib.m,Ib.d,Ib.H,Ib.M,Ib.S,Ib.L)}function G(Ib){if(0<=Ib.y&&100>Ib.y){var Zb=new Date(Date.UTC(-1,Ib.m,Ib.d,Ib.H,Ib.M,Ib.S,Ib.L));
Zb.setUTCFullYear(Ib.y);return Zb}return new Date(Date.UTC(Ib.y,Ib.m,Ib.d,Ib.H,Ib.M,Ib.S,Ib.L))}function L(Ib,Zb,xb){return{y:Ib,m:Zb,d:xb,H:0,M:0,S:0,L:0}}function w(Ib){function Zb(mc,Kc){return function(Qc){var Zc=[],nd=-1,od=0,Dd=mc.length,Jd,Ud;for(Qc instanceof Date||(Qc=new Date(+Qc));++nd<Dd;)if(37===mc.charCodeAt(nd)){Zc.push(mc.slice(od,nd));null!=(od=Hc[Jd=mc.charAt(++nd)])?Jd=mc.charAt(++nd):od="e"===Jd?" ":"0";if(Ud=Kc[Jd])Jd=Ud(Qc,od);Zc.push(Jd);od=nd+1}Zc.push(mc.slice(od,nd));return Zc.join("")}}
function xb(mc,Kc){return function(Qc){var Zc=L(1900,void 0,1);if(qc(Zc,mc,Qc+="",0)!=Qc.length)return null;if("Q"in Zc)return new Date(Zc.Q);if("s"in Zc)return new Date(1E3*Zc.s+("L"in Zc?Zc.L:0));!Kc||"Z"in Zc||(Zc.Z=0);"p"in Zc&&(Zc.H=Zc.H%12+12*Zc.p);void 0===Zc.m&&(Zc.m="q"in Zc?Zc.q:0);if("V"in Zc){if(1>Zc.V||53<Zc.V)return null;"w"in Zc||(Zc.w=1);if("Z"in Zc){Qc=G(L(Zc.y,0,1));var nd=Qc.getUTCDay();Qc=4<nd||0===nd?l.utcMonday.ceil(Qc):l.utcMonday(Qc);Qc=l.utcDay.offset(Qc,7*(Zc.V-1));Zc.y=
Qc.getUTCFullYear();Zc.m=Qc.getUTCMonth();Zc.d=Qc.getUTCDate()+(Zc.w+6)%7}else Qc=u(L(Zc.y,0,1)),nd=Qc.getDay(),Qc=4<nd||0===nd?l.timeMonday.ceil(Qc):l.timeMonday(Qc),Qc=l.timeDay.offset(Qc,7*(Zc.V-1)),Zc.y=Qc.getFullYear(),Zc.m=Qc.getMonth(),Zc.d=Qc.getDate()+(Zc.w+6)%7}else if("W"in Zc||"U"in Zc)"w"in Zc||(Zc.w="u"in Zc?Zc.u%7:"W"in Zc?1:0),nd="Z"in Zc?G(L(Zc.y,0,1)).getUTCDay():u(L(Zc.y,0,1)).getDay(),Zc.m=0,Zc.d="W"in Zc?(Zc.w+6)%7+7*Zc.W-(nd+5)%7:Zc.w+7*Zc.U-(nd+6)%7;return"Z"in Zc?(Zc.H+=Zc.Z/
100|0,Zc.M+=Zc.Z%100,G(Zc)):u(Zc)}}function qc(mc,Kc,Qc,Zc){for(var nd=0,od=Kc.length,Dd=Qc.length,Jd;nd<od;){if(Zc>=Dd)return-1;Jd=Kc.charCodeAt(nd++);if(37===Jd){if(Jd=Kc.charAt(nd++),Jd=vc[Jd in Hc?Kc.charAt(nd++):Jd],!Jd||0>(Zc=Jd(mc,Qc,Zc)))return-1}else if(Jd!=Qc.charCodeAt(Zc++))return-1}return Zc}var Nc=Ib.dateTime,qd=Ib.date,Ed=Ib.time,Ga=Ib.periods,ab=Ib.days,qb=Ib.shortDays,Bb=Ib.months,Tb=Ib.shortMonths,Eb=k(Ga),rc=g(Ga),lc=k(ab),kb=g(ab),vb=k(qb),Nb=g(qb),ec=k(Bb),tc=g(Bb),uc=k(Tb),Lc=
g(Tb),Jb={a:function(mc){return qb[mc.getDay()]},A:function(mc){return ab[mc.getDay()]},b:function(mc){return Tb[mc.getMonth()]},B:function(mc){return Bb[mc.getMonth()]},c:null,d:ca,e:ca,f:Y,g:R,G:X,H:N,I:C,j:W,L:ha,m:wa,M:xa,p:function(mc){return Ga[+(12<=mc.getHours())]},q:function(mc){return 1+~~(mc.getMonth()/3)},Q:bc,s:kc,S:Ha,u:Za,U:gb,V:Pa,w:Ua,W:za,x:null,X:null,y:qa,Y:T,Z,"%":$b},yc={a:function(mc){return qb[mc.getUTCDay()]},A:function(mc){return ab[mc.getUTCDay()]},b:function(mc){return Tb[mc.getUTCMonth()]},
B:function(mc){return Bb[mc.getUTCMonth()]},c:null,d:oa,e:oa,f:$a,g:ad,G:xc,H:na,I:Aa,j:ka,L:Na,m:Wa,M:Ca,p:function(mc){return Ga[+(12<=mc.getUTCHours())]},q:function(mc){return 1+~~(mc.getUTCMonth()/3)},Q:bc,s:kc,S:Da,u:ma,U:Ea,V:eb,w:yb,W:Qb,x:null,X:null,y:fc,Y:ic,Z:ib,"%":$b},vc={a:function(mc,Kc,Qc){return(Kc=vb.exec(Kc.slice(Qc)))?(mc.w=Nb.get(Kc[0].toLowerCase()),Qc+Kc[0].length):-1},A:function(mc,Kc,Qc){return(Kc=lc.exec(Kc.slice(Qc)))?(mc.w=kb.get(Kc[0].toLowerCase()),Qc+Kc[0].length):-1},
b:function(mc,Kc,Qc){return(Kc=uc.exec(Kc.slice(Qc)))?(mc.m=Lc.get(Kc[0].toLowerCase()),Qc+Kc[0].length):-1},B:function(mc,Kc,Qc){return(Kc=ec.exec(Kc.slice(Qc)))?(mc.m=tc.get(Kc[0].toLowerCase()),Qc+Kc[0].length):-1},c:function(mc,Kc,Qc){return qc(mc,Nc,Kc,Qc)},d:D,e:D,f:ea,g:z,G:x,H:E,I:E,j:y,L:S,m:K,M:H,p:function(mc,Kc,Qc){return(Kc=Eb.exec(Kc.slice(Qc)))?(mc.p=rc.get(Kc[0].toLowerCase()),Qc+Kc[0].length):-1},q:M,Q:fa,s:ia,S:Q,u:f,U:a,V:e,w:d,W:n,x:function(mc,Kc,Qc){return qc(mc,qd,Kc,Qc)},X:function(mc,
Kc,Qc){return qc(mc,Ed,Kc,Qc)},y:z,Y:x,Z:B,"%":ba};Jb.x=Zb(qd,Jb);Jb.X=Zb(Ed,Jb);Jb.c=Zb(Nc,Jb);yc.x=Zb(qd,yc);yc.X=Zb(Ed,yc);yc.c=Zb(Nc,yc);return{format:function(mc){var Kc=Zb(mc+="",Jb);Kc.toString=function(){return mc};return Kc},parse:function(mc){var Kc=xb(mc+="",!1);Kc.toString=function(){return mc};return Kc},utcFormat:function(mc){var Kc=Zb(mc+="",yc);Kc.toString=function(){return mc};return Kc},utcParse:function(mc){var Kc=xb(mc+="",!0);Kc.toString=function(){return mc};return Kc}}}function v(Ib,
Zb,xb){var qc=0>Ib?"-":"";Ib=(qc?-Ib:Ib)+"";var Nc=Ib.length;return qc+(Nc<xb?Array(xb-Nc+1).join(Zb)+Ib:Ib)}function t(Ib){return Ib.replace(Qd,"\\$\x26")}function k(Ib){return new RegExp("^(?:"+Ib.map(t).join("|")+")","i")}function g(Ib){return new Map(Ib.map((Zb,xb)=>[Zb.toLowerCase(),xb]))}function d(Ib,Zb,xb){return(Zb=Bc.exec(Zb.slice(xb,xb+1)))?(Ib.w=+Zb[0],xb+Zb[0].length):-1}function f(Ib,Zb,xb){return(Zb=Bc.exec(Zb.slice(xb,xb+1)))?(Ib.u=+Zb[0],xb+Zb[0].length):-1}function a(Ib,Zb,xb){return(Zb=
Bc.exec(Zb.slice(xb,xb+2)))?(Ib.U=+Zb[0],xb+Zb[0].length):-1}function e(Ib,Zb,xb){return(Zb=Bc.exec(Zb.slice(xb,xb+2)))?(Ib.V=+Zb[0],xb+Zb[0].length):-1}function n(Ib,Zb,xb){return(Zb=Bc.exec(Zb.slice(xb,xb+2)))?(Ib.W=+Zb[0],xb+Zb[0].length):-1}function x(Ib,Zb,xb){return(Zb=Bc.exec(Zb.slice(xb,xb+4)))?(Ib.y=+Zb[0],xb+Zb[0].length):-1}function z(Ib,Zb,xb){return(Zb=Bc.exec(Zb.slice(xb,xb+2)))?(Ib.y=+Zb[0]+(68<+Zb[0]?1900:2E3),xb+Zb[0].length):-1}function B(Ib,Zb,xb){return(Zb=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Zb.slice(xb,
xb+6)))?(Ib.Z=Zb[1]?0:-(Zb[2]+(Zb[3]||"00")),xb+Zb[0].length):-1}function M(Ib,Zb,xb){return(Zb=Bc.exec(Zb.slice(xb,xb+1)))?(Ib.q=3*Zb[0]-3,xb+Zb[0].length):-1}function K(Ib,Zb,xb){return(Zb=Bc.exec(Zb.slice(xb,xb+2)))?(Ib.m=Zb[0]-1,xb+Zb[0].length):-1}function D(Ib,Zb,xb){return(Zb=Bc.exec(Zb.slice(xb,xb+2)))?(Ib.d=+Zb[0],xb+Zb[0].length):-1}function y(Ib,Zb,xb){return(Zb=Bc.exec(Zb.slice(xb,xb+3)))?(Ib.m=0,Ib.d=+Zb[0],xb+Zb[0].length):-1}function E(Ib,Zb,xb){return(Zb=Bc.exec(Zb.slice(xb,xb+2)))?
(Ib.H=+Zb[0],xb+Zb[0].length):-1}function H(Ib,Zb,xb){return(Zb=Bc.exec(Zb.slice(xb,xb+2)))?(Ib.M=+Zb[0],xb+Zb[0].length):-1}function Q(Ib,Zb,xb){return(Zb=Bc.exec(Zb.slice(xb,xb+2)))?(Ib.S=+Zb[0],xb+Zb[0].length):-1}function S(Ib,Zb,xb){return(Zb=Bc.exec(Zb.slice(xb,xb+3)))?(Ib.L=+Zb[0],xb+Zb[0].length):-1}function ea(Ib,Zb,xb){return(Zb=Bc.exec(Zb.slice(xb,xb+6)))?(Ib.L=Math.floor(Zb[0]/1E3),xb+Zb[0].length):-1}function ba(Ib,Zb,xb){return(Ib=td.exec(Zb.slice(xb,xb+1)))?xb+Ib[0].length:-1}function fa(Ib,
Zb,xb){return(Zb=Bc.exec(Zb.slice(xb)))?(Ib.Q=+Zb[0],xb+Zb[0].length):-1}function ia(Ib,Zb,xb){return(Zb=Bc.exec(Zb.slice(xb)))?(Ib.s=+Zb[0],xb+Zb[0].length):-1}function ca(Ib,Zb){return v(Ib.getDate(),Zb,2)}function N(Ib,Zb){return v(Ib.getHours(),Zb,2)}function C(Ib,Zb){return v(Ib.getHours()%12||12,Zb,2)}function W(Ib,Zb){return v(1+l.timeDay.count(l.timeYear(Ib),Ib),Zb,3)}function ha(Ib,Zb){return v(Ib.getMilliseconds(),Zb,3)}function Y(Ib,Zb){return ha(Ib,Zb)+"000"}function wa(Ib,Zb){return v(Ib.getMonth()+
1,Zb,2)}function xa(Ib,Zb){return v(Ib.getMinutes(),Zb,2)}function Ha(Ib,Zb){return v(Ib.getSeconds(),Zb,2)}function Za(Ib){Ib=Ib.getDay();return 0===Ib?7:Ib}function gb(Ib,Zb){return v(l.timeSunday.count(l.timeYear(Ib)-1,Ib),Zb,2)}function ra(Ib){var Zb=Ib.getDay();return 4<=Zb||0===Zb?l.timeThursday(Ib):l.timeThursday.ceil(Ib)}function Pa(Ib,Zb){Ib=ra(Ib);return v(l.timeThursday.count(l.timeYear(Ib),Ib)+(4===l.timeYear(Ib).getDay()),Zb,2)}function Ua(Ib){return Ib.getDay()}function za(Ib,Zb){return v(l.timeMonday.count(l.timeYear(Ib)-
1,Ib),Zb,2)}function qa(Ib,Zb){return v(Ib.getFullYear()%100,Zb,2)}function R(Ib,Zb){Ib=ra(Ib);return v(Ib.getFullYear()%100,Zb,2)}function T(Ib,Zb){return v(Ib.getFullYear()%1E4,Zb,4)}function X(Ib,Zb){var xb=Ib.getDay();Ib=4<=xb||0===xb?l.timeThursday(Ib):l.timeThursday.ceil(Ib);return v(Ib.getFullYear()%1E4,Zb,4)}function Z(Ib){Ib=Ib.getTimezoneOffset();return(0<Ib?"-":(Ib*=-1,"+"))+v(Ib/60|0,"0",2)+v(Ib%60,"0",2)}function oa(Ib,Zb){return v(Ib.getUTCDate(),Zb,2)}function na(Ib,Zb){return v(Ib.getUTCHours(),
Zb,2)}function Aa(Ib,Zb){return v(Ib.getUTCHours()%12||12,Zb,2)}function ka(Ib,Zb){return v(1+l.utcDay.count(l.utcYear(Ib),Ib),Zb,3)}function Na(Ib,Zb){return v(Ib.getUTCMilliseconds(),Zb,3)}function $a(Ib,Zb){return Na(Ib,Zb)+"000"}function Wa(Ib,Zb){return v(Ib.getUTCMonth()+1,Zb,2)}function Ca(Ib,Zb){return v(Ib.getUTCMinutes(),Zb,2)}function Da(Ib,Zb){return v(Ib.getUTCSeconds(),Zb,2)}function ma(Ib){Ib=Ib.getUTCDay();return 0===Ib?7:Ib}function Ea(Ib,Zb){return v(l.utcSunday.count(l.utcYear(Ib)-
1,Ib),Zb,2)}function Qa(Ib){var Zb=Ib.getUTCDay();return 4<=Zb||0===Zb?l.utcThursday(Ib):l.utcThursday.ceil(Ib)}function eb(Ib,Zb){Ib=Qa(Ib);return v(l.utcThursday.count(l.utcYear(Ib),Ib)+(4===l.utcYear(Ib).getUTCDay()),Zb,2)}function yb(Ib){return Ib.getUTCDay()}function Qb(Ib,Zb){return v(l.utcMonday.count(l.utcYear(Ib)-1,Ib),Zb,2)}function fc(Ib,Zb){return v(Ib.getUTCFullYear()%100,Zb,2)}function ad(Ib,Zb){Ib=Qa(Ib);return v(Ib.getUTCFullYear()%100,Zb,2)}function ic(Ib,Zb){return v(Ib.getUTCFullYear()%
1E4,Zb,4)}function xc(Ib,Zb){var xb=Ib.getUTCDay();Ib=4<=xb||0===xb?l.utcThursday(Ib):l.utcThursday.ceil(Ib);return v(Ib.getUTCFullYear()%1E4,Zb,4)}function ib(){return"+0000"}function $b(){return"%"}function bc(Ib){return+Ib}function kc(Ib){return Math.floor(+Ib/1E3)}function Ec(Ib){jd=w(Ib);m.timeFormat=jd.format;m.timeParse=jd.parse;m.utcFormat=jd.utcFormat;m.utcParse=jd.utcParse;return jd}function jc(Ib){return Ib.toISOString()}function Oc(Ib){Ib=new Date(Ib);return isNaN(Ib)?null:Ib}var Hc={"-":"",
_:" ",0:"0"},Bc=/^\s*\d+/,td=/^%/,Qd=/[\\^$*+?|[\]().{}]/g,jd;Ec({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var hd=Date.prototype.toISOString?jc:m.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),
Fd=+new Date("2000-01-01T00:00:00.000Z")?Oc:m.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");m.isoFormat=hd;m.isoParse=Fd;m.timeFormatDefaultLocale=Ec;m.timeFormatLocale=w;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[22]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J,A(17),A(18),A(20),A(16),A(21)):"function"===typeof define&&define.amd?define("exports d3-array d3-format vega-time vega-util d3-time-format".split(" "),l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.vega={},m.d3,m.d3,m.vega,m.vega,m.d3))})(this,function(m,l,u,G,L,w){function v(D){const y={};return E=>y[E]||(y[E]=D(E))}function t(D,y){return E=>{E=D(E);const H=E.indexOf(y);if(0>H)return E;
a:{var Q=E.lastIndexOf("e");if(!(0<Q)){for(Q=E.length;--Q>H;){var S=E.charCodeAt(Q);if(48<=S&&57>=S){Q+=1;break a}}Q=void 0}}for(S=Q<E.length?E.slice(Q):"";--Q>H;)if("0"!==E[Q]){++Q;break}return E.slice(0,Q)+S}}function k(D){const y=v(D.format),E=D.formatPrefix;return{format:y,formatPrefix:E,formatFloat(H){H=u.formatSpecifier(H||",");if(null==H.precision){H.precision=12;switch(H.type){case "%":H.precision-=2;break;case "e":--H.precision}return t(y(H),y(".1f")(1)[1])}return y(H)},formatSpan(H,Q,S,
ea){ea=u.formatSpecifier(null==ea?",f":ea);S=l.tickStep(H,Q,S);H=Math.max(Math.abs(H),Math.abs(Q));if(null==ea.precision)switch(ea.type){case "s":return isNaN(Q=u.precisionPrefix(S,H))||(ea.precision=Q),E(ea,H);case "":case "e":case "g":case "p":case "r":isNaN(Q=u.precisionRound(S,H))||(ea.precision=Q-("e"===ea.type));break;case "f":case "%":isNaN(Q=u.precisionFixed(S))||(ea.precision=Q-2*("%"===ea.type))}return y(ea)}}}function g(){return M=k({format:u.format,formatPrefix:u.formatPrefix})}function d(D){return k(u.formatLocale(D))}
function f(D){return arguments.length?M=d(D):M}function a(D,y,E){E=E||{};L.isObject(E)||L.error(`Invalid time multi-format specifier: ${E}`);const H=y(G.SECONDS),Q=y(G.MINUTES),S=y(G.HOURS),ea=y(G.DATE),ba=y(G.WEEK),fa=y(G.MONTH),ia=y(G.QUARTER),ca=y(G.YEAR),N=D(E[G.MILLISECONDS]||".%L"),C=D(E[G.SECONDS]||":%S"),W=D(E[G.MINUTES]||"%I:%M"),ha=D(E[G.HOURS]||"%I %p"),Y=D(E[G.DATE]||E[G.DAY]||"%a %d"),wa=D(E[G.WEEK]||"%b %d"),xa=D(E[G.MONTH]||"%B"),Ha=D(E[G.QUARTER]||"%B"),Za=D(E[G.YEAR]||"%Y");return gb=>
(H(gb)<gb?N:Q(gb)<gb?C:S(gb)<gb?W:ea(gb)<gb?ha:fa(gb)<gb?ba(gb)<gb?Y:wa:ca(gb)<gb?ia(gb)<gb?xa:Ha:Za)(gb)}function e(D){const y=v(D.format),E=v(D.utcFormat);return{timeFormat:H=>L.isString(H)?y(H):a(y,G.timeInterval,H),utcFormat:H=>L.isString(H)?E(H):a(E,G.utcInterval,H),timeParse:v(D.parse),utcParse:v(D.utcParse)}}function n(){return K=e({format:w.timeFormat,parse:w.timeParse,utcFormat:w.utcFormat,utcParse:w.utcParse})}function x(D){return e(w.timeFormatLocale(D))}function z(D){return arguments.length?
K=x(D):K}function B(D,y){var E=arguments.length;E&&2!==E&&L.error("defaultLocale expects either zero or two arguments.");if(E){E=f(D);var H=z(y);E=L.extend({},E,H)}else E=f(),H=z(),E=L.extend({},E,H);return E}let M;g();let K;n();m.defaultLocale=B;m.locale=function(D,y){D=D?d(D):f();y=y?x(y):z();return L.extend({},D,y)};m.numberFormatDefaultLocale=f;m.numberFormatLocale=d;m.resetDefaultLocale=function(){g();n();return B()};m.resetNumberFormatDefaultLocale=g;m.resetTimeFormatDefaultLocale=n;m.timeFormatDefaultLocale=
z;m.timeFormatLocale=x;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[23]=function(Ia,A,mb,J){function m(w){var v=w.length;if(0<v%4)throw Error("Invalid string. Length must be a multiple of 4");w=w.indexOf("\x3d");-1===w&&(w=v);return[w,w===v?0:4-w%4]}function l(w,v,t){for(var k=[],g=v;g<t;g+=3)v=(w[g]<<16&16711680)+(w[g+1]<<8&65280)+(w[g+2]&255),k.push(u[v>>18&63]+u[v>>12&63]+u[v>>6&63]+u[v&63]);return k.join("")}J.byteLength=function(w){w=m(w);var v=w[1];return 3*(w[0]+v)/4-v};J.toByteArray=function(w){var v=m(w);var t=v[0];v=v[1];var k=new L(3*(t+
v)/4-v),g=0,d=0<v?t-4:t,f;for(f=0;f<d;f+=4)t=G[w.charCodeAt(f)]<<18|G[w.charCodeAt(f+1)]<<12|G[w.charCodeAt(f+2)]<<6|G[w.charCodeAt(f+3)],k[g++]=t>>16&255,k[g++]=t>>8&255,k[g++]=t&255;2===v&&(t=G[w.charCodeAt(f)]<<2|G[w.charCodeAt(f+1)]>>4,k[g++]=t&255);1===v&&(t=G[w.charCodeAt(f)]<<10|G[w.charCodeAt(f+1)]<<4|G[w.charCodeAt(f+2)]>>2,k[g++]=t>>8&255,k[g++]=t&255);return k};J.fromByteArray=function(w){for(var v=w.length,t=v%3,k=[],g=0,d=v-t;g<d;g+=16383)k.push(l(w,g,g+16383>d?d:g+16383));1===t?(w=w[v-
1],k.push(u[w>>2]+u[w<<4&63]+"\x3d\x3d")):2===t&&(w=(w[v-2]<<8)+w[v-1],k.push(u[w>>10]+u[w>>4&63]+u[w<<2&63]+"\x3d"));return k.join("")};var u=[],G=[],L="undefined"!==typeof Uint8Array?Uint8Array:Array;for(Ia=0;64>Ia;++Ia)u[Ia]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ia],G["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(Ia)]=Ia;G[45]=62;G[95]=63};
shadow$provide[24]=function(Ia,A,mb,J){J.read=function(m,l,u,G,L){var w=8*L-G-1;var v=(1<<w)-1,t=v>>1,k=-7;L=u?L-1:0;var g=u?-1:1,d=m[l+L];L+=g;u=d&(1<<-k)-1;d>>=-k;for(k+=w;0<k;u=256*u+m[l+L],L+=g,k-=8);w=u&(1<<-k)-1;u>>=-k;for(k+=G;0<k;w=256*w+m[l+L],L+=g,k-=8);if(0===u)u=1-t;else{if(u===v)return w?NaN:Infinity*(d?-1:1);w+=Math.pow(2,G);u-=t}return(d?-1:1)*w*Math.pow(2,u-G)};J.write=function(m,l,u,G,L,w){var v,t=8*w-L-1,k=(1<<t)-1,g=k>>1,d=23===L?Math.pow(2,-24)-Math.pow(2,-77):0;w=G?0:w-1;var f=
G?1:-1,a=0>l||0===l&&0>1/l?1:0;l=Math.abs(l);isNaN(l)||Infinity===l?(l=isNaN(l)?1:0,G=k):(G=Math.floor(Math.log(l)/Math.LN2),1>l*(v=Math.pow(2,-G))&&(G--,v*=2),l=1<=G+g?l+d/v:l+d*Math.pow(2,1-g),2<=l*v&&(G++,v/=2),G+g>=k?(l=0,G=k):1<=G+g?(l=(l*v-1)*Math.pow(2,L),G+=g):(l=l*Math.pow(2,g-1)*Math.pow(2,L),G=0));for(;8<=L;m[u+w]=l&255,w+=f,l/=256,L-=8);G=G<<L|l;for(t+=L;0<t;m[u+w]=G&255,w+=f,G/=256,t-=8);m[u+w-f]|=128*a}};
shadow$provide[25]=function(Ia,A,mb,J){var m={}.toString;mb.exports=Array.isArray||function(l){return"[object Array]"==m.call(l)}};
shadow$provide[26]=function(Ia,A,mb,J){function m(){try{var N=new Uint8Array(1);N.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return 42===N.foo()&&"function"===typeof N.subarray&&0===N.subarray(1,1).byteLength}catch(C){return!1}}function l(N,C){if((u.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<C)throw new RangeError("Invalid typed array length");u.TYPED_ARRAY_SUPPORT?(N=new Uint8Array(C),N.__proto__=u.prototype):(null===N&&(N=new u(C)),N.length=C);return N}function u(N,C,W){if(!(u.TYPED_ARRAY_SUPPORT||
this instanceof u))return new u(N,C,W);if("number"===typeof N){if("string"===typeof C)throw Error("If encoding is specified then the first argument must be a string");return w(this,N)}return G(this,N,C,W)}function G(N,C,W,ha){if("number"===typeof C)throw new TypeError('"value" argument must not be a number');if("undefined"!==typeof ArrayBuffer&&C instanceof ArrayBuffer){C.byteLength;if(0>W||C.byteLength<W)throw new RangeError("'offset' is out of bounds");if(C.byteLength<W+(ha||0))throw new RangeError("'length' is out of bounds");
C=void 0===W&&void 0===ha?new Uint8Array(C):void 0===ha?new Uint8Array(C,W):new Uint8Array(C,W,ha);u.TYPED_ARRAY_SUPPORT?(N=C,N.__proto__=u.prototype):N=v(N,C);return N}if("string"===typeof C){ha=N;N=W;if("string"!==typeof N||""===N)N="utf8";if(!u.isEncoding(N))throw new TypeError('"encoding" must be a valid string encoding');W=g(C,N)|0;ha=l(ha,W);C=ha.write(C,N);C!==W&&(ha=ha.slice(0,C));return ha}return t(N,C)}function L(N){if("number"!==typeof N)throw new TypeError('"size" argument must be a number');
if(0>N)throw new RangeError('"size" argument must not be negative');}function w(N,C){L(C);N=l(N,0>C?0:k(C)|0);if(!u.TYPED_ARRAY_SUPPORT)for(var W=0;W<C;++W)N[W]=0;return N}function v(N,C){var W=0>C.length?0:k(C.length)|0;N=l(N,W);for(var ha=0;ha<W;ha+=1)N[ha]=C[ha]&255;return N}function t(N,C){if(u.isBuffer(C)){var W=k(C.length)|0;N=l(N,W);if(0===N.length)return N;C.copy(N,0,0,W);return N}if(C){if("undefined"!==typeof ArrayBuffer&&C.buffer instanceof ArrayBuffer||"length"in C)return(W="number"!==
typeof C.length)||(W=C.length,W=W!==W),W?l(N,0):v(N,C);if("Buffer"===C.type&&fa(C.data))return v(N,C.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}function k(N){if(N>=(u.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(u.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return N|0}function g(N,C){if(u.isBuffer(N))return N.length;if("undefined"!==
typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(N)||N instanceof ArrayBuffer))return N.byteLength;"string"!==typeof N&&(N=""+N);var W=N.length;if(0===W)return 0;for(var ha=!1;;)switch(C){case "ascii":case "latin1":case "binary":return W;case "utf8":case "utf-8":case void 0:return H(N).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*W;case "hex":return W>>>1;case "base64":return ea.toByteArray(E(N)).length;default:if(ha)return H(N).length;C=(""+
C).toLowerCase();ha=!0}}function d(N,C,W){var ha=!1;if(void 0===C||0>C)C=0;if(C>this.length)return"";if(void 0===W||W>this.length)W=this.length;if(0>=W)return"";W>>>=0;C>>>=0;if(W<=C)return"";for(N||(N="utf8");;)switch(N){case "hex":N=C;C=W;W=this.length;if(!N||0>N)N=0;if(!C||0>C||C>W)C=W;ha="";for(W=N;W<C;++W)N=ha,ha=this[W],ha=16>ha?"0"+ha.toString(16):ha.toString(16),ha=N+ha;return ha;case "utf8":case "utf-8":return n(this,C,W);case "ascii":N="";for(W=Math.min(this.length,W);C<W;++C)N+=String.fromCharCode(this[C]&
127);return N;case "latin1":case "binary":N="";for(W=Math.min(this.length,W);C<W;++C)N+=String.fromCharCode(this[C]);return N;case "base64":return C=0===C&&W===this.length?ea.fromByteArray(this):ea.fromByteArray(this.slice(C,W)),C;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":C=this.slice(C,W);W="";for(N=0;N<C.length;N+=2)W+=String.fromCharCode(C[N]+256*C[N+1]);return W;default:if(ha)throw new TypeError("Unknown encoding: "+N);N=(N+"").toLowerCase();ha=!0}}function f(N,C,W){var ha=N[C];
N[C]=N[W];N[W]=ha}function a(N,C,W,ha,Y){if(0===N.length)return-1;"string"===typeof W?(ha=W,W=0):2147483647<W?W=2147483647:-2147483648>W&&(W=-2147483648);W=+W;isNaN(W)&&(W=Y?0:N.length-1);0>W&&(W=N.length+W);if(W>=N.length){if(Y)return-1;W=N.length-1}else if(0>W)if(Y)W=0;else return-1;"string"===typeof C&&(C=u.from(C,ha));if(u.isBuffer(C))return 0===C.length?-1:e(N,C,W,ha,Y);if("number"===typeof C)return C&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?Y?Uint8Array.prototype.indexOf.call(N,
C,W):Uint8Array.prototype.lastIndexOf.call(N,C,W):e(N,[C],W,ha,Y);throw new TypeError("val must be string, number or Buffer");}function e(N,C,W,ha,Y){function wa(gb,ra){return 1===xa?gb[ra]:gb.readUInt16BE(ra*xa)}var xa=1,Ha=N.length,Za=C.length;if(void 0!==ha&&(ha=String(ha).toLowerCase(),"ucs2"===ha||"ucs-2"===ha||"utf16le"===ha||"utf-16le"===ha)){if(2>N.length||2>C.length)return-1;xa=2;Ha/=2;Za/=2;W/=2}if(Y)for(ha=-1;W<Ha;W++)if(wa(N,W)===wa(C,-1===ha?0:W-ha)){if(-1===ha&&(ha=W),W-ha+1===Za)return ha*
xa}else-1!==ha&&(W-=W-ha),ha=-1;else for(W+Za>Ha&&(W=Ha-Za);0<=W;W--){Ha=!0;for(ha=0;ha<Za;ha++)if(wa(N,W+ha)!==wa(C,ha)){Ha=!1;break}if(Ha)return W}return-1}function n(N,C,W){W=Math.min(N.length,W);for(var ha=[];C<W;){var Y=N[C],wa=null,xa=239<Y?4:223<Y?3:191<Y?2:1;if(C+xa<=W)switch(xa){case 1:128>Y&&(wa=Y);break;case 2:var Ha=N[C+1];128===(Ha&192)&&(Y=(Y&31)<<6|Ha&63,127<Y&&(wa=Y));break;case 3:Ha=N[C+1];var Za=N[C+2];128===(Ha&192)&&128===(Za&192)&&(Y=(Y&15)<<12|(Ha&63)<<6|Za&63,2047<Y&&(55296>
Y||57343<Y)&&(wa=Y));break;case 4:Ha=N[C+1];Za=N[C+2];var gb=N[C+3];128===(Ha&192)&&128===(Za&192)&&128===(gb&192)&&(Y=(Y&15)<<18|(Ha&63)<<12|(Za&63)<<6|gb&63,65535<Y&&1114112>Y&&(wa=Y))}null===wa?(wa=65533,xa=1):65535<wa&&(wa-=65536,ha.push(wa>>>10&1023|55296),wa=56320|wa&1023);ha.push(wa);C+=xa}N=ha.length;if(N<=ia)ha=String.fromCharCode.apply(String,ha);else{W="";for(C=0;C<N;)W+=String.fromCharCode.apply(String,ha.slice(C,C+=ia));ha=W}return ha}function x(N,C,W){if(0!==N%1||0>N)throw new RangeError("offset is not uint");
if(N+C>W)throw new RangeError("Trying to access beyond buffer length");}function z(N,C,W,ha,Y,wa){if(!u.isBuffer(N))throw new TypeError('"buffer" argument must be a Buffer instance');if(C>Y||C<wa)throw new RangeError('"value" argument is out of bounds');if(W+ha>N.length)throw new RangeError("Index out of range");}function B(N,C,W,ha){0>C&&(C=65535+C+1);for(var Y=0,wa=Math.min(N.length-W,2);Y<wa;++Y)N[W+Y]=(C&255<<8*(ha?Y:1-Y))>>>8*(ha?Y:1-Y)}function M(N,C,W,ha){0>C&&(C=4294967295+C+1);for(var Y=
0,wa=Math.min(N.length-W,4);Y<wa;++Y)N[W+Y]=C>>>8*(ha?Y:3-Y)&255}function K(N,C,W,ha,Y,wa){if(W+ha>N.length)throw new RangeError("Index out of range");if(0>W)throw new RangeError("Index out of range");}function D(N,C,W,ha,Y){Y||K(N,C,W,4,3.4028234663852886E38,-3.4028234663852886E38);ba.write(N,C,W,ha,23,4);return W+4}function y(N,C,W,ha,Y){Y||K(N,C,W,8,1.7976931348623157E308,-1.7976931348623157E308);ba.write(N,C,W,ha,52,8);return W+8}function E(N){N=N.trim?N.trim():N.replace(/^\s+|\s+$/g,"");N=N.replace(ca,
"");if(2>N.length)return"";for(;0!==N.length%4;)N+="\x3d";return N}function H(N,C){C=C||Infinity;for(var W,ha=N.length,Y=null,wa=[],xa=0;xa<ha;++xa){W=N.charCodeAt(xa);if(55295<W&&57344>W){if(!Y){if(56319<W){-1<(C-=3)&&wa.push(239,191,189);continue}else if(xa+1===ha){-1<(C-=3)&&wa.push(239,191,189);continue}Y=W;continue}if(56320>W){-1<(C-=3)&&wa.push(239,191,189);Y=W;continue}W=(Y-55296<<10|W-56320)+65536}else Y&&-1<(C-=3)&&wa.push(239,191,189);Y=null;if(128>W){if(0>--C)break;wa.push(W)}else if(2048>
W){if(0>(C-=2))break;wa.push(W>>6|192,W&63|128)}else if(65536>W){if(0>(C-=3))break;wa.push(W>>12|224,W>>6&63|128,W&63|128)}else if(1114112>W){if(0>(C-=4))break;wa.push(W>>18|240,W>>12&63|128,W>>6&63|128,W&63|128)}else throw Error("Invalid code point");}return wa}function Q(N){for(var C=[],W=0;W<N.length;++W)C.push(N.charCodeAt(W)&255);return C}function S(N,C,W,ha){for(var Y=0;Y<ha&&!(Y+W>=C.length||Y>=N.length);++Y)C[Y+W]=N[Y];return Y}var ea=A(23),ba=A(24),fa=A(25);J.Buffer=u;J.SlowBuffer=function(N){+N!=
N&&(N=0);return u.alloc(+N)};J.INSPECT_MAX_BYTES=50;u.TYPED_ARRAY_SUPPORT=void 0!==Ia.TYPED_ARRAY_SUPPORT?Ia.TYPED_ARRAY_SUPPORT:m();J.kMaxLength=u.TYPED_ARRAY_SUPPORT?2147483647:1073741823;u.poolSize=8192;u._augment=function(N){N.__proto__=u.prototype;return N};u.from=function(N,C,W){return G(null,N,C,W)};u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,
{value:null,configurable:!0}));u.alloc=function(N,C,W){L(N);N=0>=N?l(null,N):void 0!==C?"string"===typeof W?l(null,N).fill(C,W):l(null,N).fill(C):l(null,N);return N};u.allocUnsafe=function(N){return w(null,N)};u.allocUnsafeSlow=function(N){return w(null,N)};u.isBuffer=function(N){return!(null==N||!N._isBuffer)};u.compare=function(N,C){if(!u.isBuffer(N)||!u.isBuffer(C))throw new TypeError("Arguments must be Buffers");if(N===C)return 0;for(var W=N.length,ha=C.length,Y=0,wa=Math.min(W,ha);Y<wa;++Y)if(N[Y]!==
C[Y]){W=N[Y];ha=C[Y];break}return W<ha?-1:ha<W?1:0};u.isEncoding=function(N){switch(String(N).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};u.concat=function(N,C){if(!fa(N))throw new TypeError('"list" argument must be an Array of Buffers');if(0===N.length)return u.alloc(0);var W;if(void 0===C)for(W=C=0;W<N.length;++W)C+=N[W].length;C=u.allocUnsafe(C);var ha=
0;for(W=0;W<N.length;++W){var Y=N[W];if(!u.isBuffer(Y))throw new TypeError('"list" argument must be an Array of Buffers');Y.copy(C,ha);ha+=Y.length}return C};u.byteLength=g;u.prototype._isBuffer=!0;u.prototype.swap16=function(){var N=this.length;if(0!==N%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var C=0;C<N;C+=2)f(this,C,C+1);return this};u.prototype.swap32=function(){var N=this.length;if(0!==N%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var C=
0;C<N;C+=4)f(this,C,C+3),f(this,C+1,C+2);return this};u.prototype.swap64=function(){var N=this.length;if(0!==N%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var C=0;C<N;C+=8)f(this,C,C+7),f(this,C+1,C+6),f(this,C+2,C+5),f(this,C+3,C+4);return this};u.prototype.toString=function(){var N=this.length|0;return 0===N?"":0===arguments.length?n(this,0,N):d.apply(this,arguments)};u.prototype.equals=function(N){if(!u.isBuffer(N))throw new TypeError("Argument must be a Buffer");return this===
N?!0:0===u.compare(this,N)};u.prototype.inspect=function(){var N="",C=J.INSPECT_MAX_BYTES;0<this.length&&(N=this.toString("hex",0,C).match(/.{2}/g).join(" "),this.length>C&&(N+=" ... "));return"\x3cBuffer "+N+"\x3e"};u.prototype.compare=function(N,C,W,ha,Y){if(!u.isBuffer(N))throw new TypeError("Argument must be a Buffer");void 0===C&&(C=0);void 0===W&&(W=N?N.length:0);void 0===ha&&(ha=0);void 0===Y&&(Y=this.length);if(0>C||W>N.length||0>ha||Y>this.length)throw new RangeError("out of range index");
if(ha>=Y&&C>=W)return 0;if(ha>=Y)return-1;if(C>=W)return 1;C>>>=0;W>>>=0;ha>>>=0;Y>>>=0;if(this===N)return 0;var wa=Y-ha,xa=W-C,Ha=Math.min(wa,xa);ha=this.slice(ha,Y);N=N.slice(C,W);for(C=0;C<Ha;++C)if(ha[C]!==N[C]){wa=ha[C];xa=N[C];break}return wa<xa?-1:xa<wa?1:0};u.prototype.includes=function(N,C,W){return-1!==this.indexOf(N,C,W)};u.prototype.indexOf=function(N,C,W){return a(this,N,C,W,!0)};u.prototype.lastIndexOf=function(N,C,W){return a(this,N,C,W,!1)};u.prototype.write=function(N,C,W,ha){if(void 0===
C)ha="utf8",W=this.length,C=0;else if(void 0===W&&"string"===typeof C)ha=C,W=this.length,C=0;else if(isFinite(C))C|=0,isFinite(W)?(W|=0,void 0===ha&&(ha="utf8")):(ha=W,W=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Y=this.length-C;if(void 0===W||W>Y)W=Y;if(0<N.length&&(0>W||0>C)||C>this.length)throw new RangeError("Attempt to write outside buffer bounds");ha||(ha="utf8");for(Y=!1;;)switch(ha){case "hex":a:{C=Number(C)||0;ha=this.length-C;
W?(W=Number(W),W>ha&&(W=ha)):W=ha;ha=N.length;if(0!==ha%2)throw new TypeError("Invalid hex string");W>ha/2&&(W=ha/2);for(ha=0;ha<W;++ha){Y=parseInt(N.substr(2*ha,2),16);if(isNaN(Y)){N=ha;break a}this[C+ha]=Y}N=ha}return N;case "utf8":case "utf-8":return S(H(N,this.length-C),this,C,W);case "ascii":return S(Q(N),this,C,W);case "latin1":case "binary":return S(Q(N),this,C,W);case "base64":return S(ea.toByteArray(E(N)),this,C,W);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":ha=N;Y=this.length-
C;for(var wa=[],xa=0;xa<ha.length&&!(0>(Y-=2));++xa){var Ha=ha.charCodeAt(xa);N=Ha>>8;Ha%=256;wa.push(Ha);wa.push(N)}return S(wa,this,C,W);default:if(Y)throw new TypeError("Unknown encoding: "+ha);ha=(""+ha).toLowerCase();Y=!0}};u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ia=4096;u.prototype.slice=function(N,C){var W=this.length;N=~~N;C=void 0===C?W:~~C;0>N?(N+=W,0>N&&(N=0)):N>W&&(N=W);0>C?(C+=W,0>C&&(C=0)):C>W&&(C=W);C<N&&(C=N);if(u.TYPED_ARRAY_SUPPORT)C=
this.subarray(N,C),C.__proto__=u.prototype;else{W=C-N;C=new u(W,void 0);for(var ha=0;ha<W;++ha)C[ha]=this[ha+N]}return C};u.prototype.readUIntLE=function(N,C,W){N|=0;C|=0;W||x(N,C,this.length);W=this[N];for(var ha=1,Y=0;++Y<C&&(ha*=256);)W+=this[N+Y]*ha;return W};u.prototype.readUIntBE=function(N,C,W){N|=0;C|=0;W||x(N,C,this.length);W=this[N+--C];for(var ha=1;0<C&&(ha*=256);)W+=this[N+--C]*ha;return W};u.prototype.readUInt8=function(N,C){C||x(N,1,this.length);return this[N]};u.prototype.readUInt16LE=
function(N,C){C||x(N,2,this.length);return this[N]|this[N+1]<<8};u.prototype.readUInt16BE=function(N,C){C||x(N,2,this.length);return this[N]<<8|this[N+1]};u.prototype.readUInt32LE=function(N,C){C||x(N,4,this.length);return(this[N]|this[N+1]<<8|this[N+2]<<16)+16777216*this[N+3]};u.prototype.readUInt32BE=function(N,C){C||x(N,4,this.length);return 16777216*this[N]+(this[N+1]<<16|this[N+2]<<8|this[N+3])};u.prototype.readIntLE=function(N,C,W){N|=0;C|=0;W||x(N,C,this.length);W=this[N];for(var ha=1,Y=0;++Y<
C&&(ha*=256);)W+=this[N+Y]*ha;W>=128*ha&&(W-=Math.pow(2,8*C));return W};u.prototype.readIntBE=function(N,C,W){N|=0;C|=0;W||x(N,C,this.length);W=C;for(var ha=1,Y=this[N+--W];0<W&&(ha*=256);)Y+=this[N+--W]*ha;Y>=128*ha&&(Y-=Math.pow(2,8*C));return Y};u.prototype.readInt8=function(N,C){C||x(N,1,this.length);return this[N]&128?-1*(255-this[N]+1):this[N]};u.prototype.readInt16LE=function(N,C){C||x(N,2,this.length);N=this[N]|this[N+1]<<8;return N&32768?N|4294901760:N};u.prototype.readInt16BE=function(N,
C){C||x(N,2,this.length);N=this[N+1]|this[N]<<8;return N&32768?N|4294901760:N};u.prototype.readInt32LE=function(N,C){C||x(N,4,this.length);return this[N]|this[N+1]<<8|this[N+2]<<16|this[N+3]<<24};u.prototype.readInt32BE=function(N,C){C||x(N,4,this.length);return this[N]<<24|this[N+1]<<16|this[N+2]<<8|this[N+3]};u.prototype.readFloatLE=function(N,C){C||x(N,4,this.length);return ba.read(this,N,!0,23,4)};u.prototype.readFloatBE=function(N,C){C||x(N,4,this.length);return ba.read(this,N,!1,23,4)};u.prototype.readDoubleLE=
function(N,C){C||x(N,8,this.length);return ba.read(this,N,!0,52,8)};u.prototype.readDoubleBE=function(N,C){C||x(N,8,this.length);return ba.read(this,N,!1,52,8)};u.prototype.writeUIntLE=function(N,C,W,ha){N=+N;C|=0;W|=0;ha||z(this,N,C,W,Math.pow(2,8*W)-1,0);ha=1;var Y=0;for(this[C]=N&255;++Y<W&&(ha*=256);)this[C+Y]=N/ha&255;return C+W};u.prototype.writeUIntBE=function(N,C,W,ha){N=+N;C|=0;W|=0;ha||z(this,N,C,W,Math.pow(2,8*W)-1,0);ha=W-1;var Y=1;for(this[C+ha]=N&255;0<=--ha&&(Y*=256);)this[C+ha]=N/
Y&255;return C+W};u.prototype.writeUInt8=function(N,C,W){N=+N;C|=0;W||z(this,N,C,1,255,0);u.TYPED_ARRAY_SUPPORT||(N=Math.floor(N));this[C]=N&255;return C+1};u.prototype.writeUInt16LE=function(N,C,W){N=+N;C|=0;W||z(this,N,C,2,65535,0);u.TYPED_ARRAY_SUPPORT?(this[C]=N&255,this[C+1]=N>>>8):B(this,N,C,!0);return C+2};u.prototype.writeUInt16BE=function(N,C,W){N=+N;C|=0;W||z(this,N,C,2,65535,0);u.TYPED_ARRAY_SUPPORT?(this[C]=N>>>8,this[C+1]=N&255):B(this,N,C,!1);return C+2};u.prototype.writeUInt32LE=function(N,
C,W){N=+N;C|=0;W||z(this,N,C,4,4294967295,0);u.TYPED_ARRAY_SUPPORT?(this[C+3]=N>>>24,this[C+2]=N>>>16,this[C+1]=N>>>8,this[C]=N&255):M(this,N,C,!0);return C+4};u.prototype.writeUInt32BE=function(N,C,W){N=+N;C|=0;W||z(this,N,C,4,4294967295,0);u.TYPED_ARRAY_SUPPORT?(this[C]=N>>>24,this[C+1]=N>>>16,this[C+2]=N>>>8,this[C+3]=N&255):M(this,N,C,!1);return C+4};u.prototype.writeIntLE=function(N,C,W,ha){N=+N;C|=0;ha||(ha=Math.pow(2,8*W-1),z(this,N,C,W,ha-1,-ha));ha=0;var Y=1,wa=0;for(this[C]=N&255;++ha<W&&
(Y*=256);)0>N&&0===wa&&0!==this[C+ha-1]&&(wa=1),this[C+ha]=(N/Y>>0)-wa&255;return C+W};u.prototype.writeIntBE=function(N,C,W,ha){N=+N;C|=0;ha||(ha=Math.pow(2,8*W-1),z(this,N,C,W,ha-1,-ha));ha=W-1;var Y=1,wa=0;for(this[C+ha]=N&255;0<=--ha&&(Y*=256);)0>N&&0===wa&&0!==this[C+ha+1]&&(wa=1),this[C+ha]=(N/Y>>0)-wa&255;return C+W};u.prototype.writeInt8=function(N,C,W){N=+N;C|=0;W||z(this,N,C,1,127,-128);u.TYPED_ARRAY_SUPPORT||(N=Math.floor(N));0>N&&(N=255+N+1);this[C]=N&255;return C+1};u.prototype.writeInt16LE=
function(N,C,W){N=+N;C|=0;W||z(this,N,C,2,32767,-32768);u.TYPED_ARRAY_SUPPORT?(this[C]=N&255,this[C+1]=N>>>8):B(this,N,C,!0);return C+2};u.prototype.writeInt16BE=function(N,C,W){N=+N;C|=0;W||z(this,N,C,2,32767,-32768);u.TYPED_ARRAY_SUPPORT?(this[C]=N>>>8,this[C+1]=N&255):B(this,N,C,!1);return C+2};u.prototype.writeInt32LE=function(N,C,W){N=+N;C|=0;W||z(this,N,C,4,2147483647,-2147483648);u.TYPED_ARRAY_SUPPORT?(this[C]=N&255,this[C+1]=N>>>8,this[C+2]=N>>>16,this[C+3]=N>>>24):M(this,N,C,!0);return C+
4};u.prototype.writeInt32BE=function(N,C,W){N=+N;C|=0;W||z(this,N,C,4,2147483647,-2147483648);0>N&&(N=4294967295+N+1);u.TYPED_ARRAY_SUPPORT?(this[C]=N>>>24,this[C+1]=N>>>16,this[C+2]=N>>>8,this[C+3]=N&255):M(this,N,C,!1);return C+4};u.prototype.writeFloatLE=function(N,C,W){return D(this,N,C,!0,W)};u.prototype.writeFloatBE=function(N,C,W){return D(this,N,C,!1,W)};u.prototype.writeDoubleLE=function(N,C,W){return y(this,N,C,!0,W)};u.prototype.writeDoubleBE=function(N,C,W){return y(this,N,C,!1,W)};u.prototype.copy=
function(N,C,W,ha){W||(W=0);ha||0===ha||(ha=this.length);C>=N.length&&(C=N.length);C||(C=0);0<ha&&ha<W&&(ha=W);if(ha===W||0===N.length||0===this.length)return 0;if(0>C)throw new RangeError("targetStart out of bounds");if(0>W||W>=this.length)throw new RangeError("sourceStart out of bounds");if(0>ha)throw new RangeError("sourceEnd out of bounds");ha>this.length&&(ha=this.length);N.length-C<ha-W&&(ha=N.length-C+W);var Y=ha-W;if(this===N&&W<C&&C<ha)for(ha=Y-1;0<=ha;--ha)N[ha+C]=this[ha+W];else if(1E3>
Y||!u.TYPED_ARRAY_SUPPORT)for(ha=0;ha<Y;++ha)N[ha+C]=this[ha+W];else Uint8Array.prototype.set.call(N,this.subarray(W,W+Y),C);return Y};u.prototype.fill=function(N,C,W,ha){if("string"===typeof N){"string"===typeof C?(ha=C,C=0,W=this.length):"string"===typeof W&&(ha=W,W=this.length);if(1===N.length){var Y=N.charCodeAt(0);256>Y&&(N=Y)}if(void 0!==ha&&"string"!==typeof ha)throw new TypeError("encoding must be a string");if("string"===typeof ha&&!u.isEncoding(ha))throw new TypeError("Unknown encoding: "+
ha);}else"number"===typeof N&&(N&=255);if(0>C||this.length<C||this.length<W)throw new RangeError("Out of range index");if(W<=C)return this;C>>>=0;W=void 0===W?this.length:W>>>0;N||(N=0);if("number"===typeof N)for(ha=C;ha<W;++ha)this[ha]=N;else for(N=u.isBuffer(N)?N:H((new u(N,ha)).toString()),Y=N.length,ha=0;ha<W-C;++ha)this[ha+C]=N[ha%Y];return this};var ca=/[^+\/0-9A-Za-z-_]/g};
shadow$provide[27]=function(Ia,A,mb,J){var m=A(26).Buffer;!function(l,u){"object"==typeof J&&"undefined"!=typeof mb?u(J,A(16),A(22)):"function"==typeof define&&define.amd?define(["exports","vega-util","vega-format"],u):u((l="undefined"!=typeof globalThis?globalThis:l||self).vega={},l.vega,l.vega)}(this,function(l,u,G){function L(ra,Pa){const Ua=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const za=yield Ua.sanitize(ra,Pa),qa=za.href;return za.localFile?Ua.file(qa):Ua.http(qa,
Pa)})}function w(ra,Pa){const Ua=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){Pa=u.extend({},Ua.options,Pa);const za=Ua.fileAccess,qa={href:null};let R,T,X;var Z=ca.test(ra.replace(N,""));null!=ra&&"string"==typeof ra&&Z||u.error("Sanitize failure, invalid URI: "+u.stringValue(ra));Z=ia.test(ra);return(X=Pa.baseURL)&&!Z&&(ra.startsWith("/")||"/"===X[X.length-1]||(ra="/"+ra),ra=X+ra),T=(R=ra.startsWith("file://"))||"file"===Pa.mode||"http"!==Pa.mode&&!Z&&za,R?ra=ra.slice(7):
ra.startsWith("//")&&("file"===Pa.defaultProtocol?(ra=ra.slice(2),T=!0):ra=(Pa.defaultProtocol||"http")+":"+ra),Object.defineProperty(qa,"localFile",{value:!!T}),qa.href=ra,Pa.target&&(qa.target=Pa.target+""),Pa.rel&&(qa.rel=Pa.rel+""),"image"===Pa.context&&Pa.crossOrigin&&(qa.crossOrigin=Pa.crossOrigin+""),qa})}function v(ra){return ra?Pa=>new Promise((Ua,za)=>{ra.readFile(Pa,(qa,R)=>{qa?za(qa):Ua(R)})}):t}function t(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){u.error("No file system access.")})}
function k(ra){return ra?function(Pa,Ua){const za=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var qa=u.extend({},za.options.http,Ua);const R=Ua&&Ua.response;qa=yield ra(Pa,qa);return qa.ok?u.isFunction(qa[R])?qa[R]():qa.text():u.error(qa.status+""+qa.statusText)})}:g}function g(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){u.error("No HTTP fetch method available.")})}function d(ra,Pa){if(!ra||!ra.length)return"unknown";const Ua=ra.length,za=ha.length,qa=
ha.map((T,X)=>X+1);for(let T,X,Z=0,oa=0;Z<Ua;++Z)for(X=Pa?ra[Z][Pa]:ra[Z],T=0;T<za;++T)if(qa[T]&&null!=(R=X)&&R==R&&!ha[T](X)&&(qa[T]=0,++oa,oa===ha.length))return"string";var R;return Y[qa.reduce((T,X)=>0===T?X:T,0)-1]}function f(ra,Pa){return Pa.reduce((Ua,za)=>(Ua[za]=d(ra,za),Ua),{})}function a(ra){return new Function("d","return {"+ra.map(function(Pa,Ua){return JSON.stringify(Pa)+": d["+Ua+'] || ""'}).join(",")+"}")}function e(ra){var Pa=Object.create(null),Ua=[];return ra.forEach(function(za){for(var qa in za)qa in
Pa||Ua.push(Pa[qa]=qa)}),Ua}function n(ra,Pa){ra+="";var Ua=ra.length;return Ua<Pa?Array(Pa-Ua+1).join(0)+ra:ra}function x(ra){function Pa(X,Z){function oa(){if(Wa)return xa;if(Ca)return Ca=!1,wa;var ma,Ea,Qa=Na;if(34===X.charCodeAt(Qa)){for(;Na++<ka&&34!==X.charCodeAt(Na)||34===X.charCodeAt(++Na););return(ma=Na)>=ka?Wa=!0:10===(Ea=X.charCodeAt(Na++))?Ca=!0:13===Ea&&(Ca=!0,10===X.charCodeAt(Na)&&++Na),X.slice(Qa+1,ma-1).replace(/""/g,'"')}for(;Na<ka;){if(10===(Ea=X.charCodeAt(ma=Na++)))Ca=!0;else if(13===
Ea)Ca=!0,10===X.charCodeAt(Na)&&++Na;else if(Ea!==T)continue;return X.slice(Qa,ma)}return Wa=!0,X.slice(Qa,ka)}var na,Aa=[],ka=X.length,Na=0,$a=0,Wa=0>=ka,Ca=!1;10===X.charCodeAt(ka-1)&&--ka;for(13===X.charCodeAt(ka-1)&&--ka;(na=oa())!==xa;){for(var Da=[];na!==wa&&na!==xa;)Da.push(na),na=oa();Z&&null==(Da=Z(Da,$a++))||Aa.push(Da)}return Aa}function Ua(X,Z){return X.map(function(oa){return Z.map(function(na){return qa(oa[na])}).join(ra)})}function za(X){return X.map(qa).join(ra)}function qa(X){if(null==
X)var Z="";else{if(X instanceof Date){var oa=X.getUTCHours();var na=X.getUTCMinutes(),Aa=X.getUTCSeconds(),ka=X.getUTCMilliseconds();oa=isNaN(X)?"Invalid Date":(0>(Z=X.getUTCFullYear())?"-"+n(-Z,6):9999<Z?"+"+n(Z,6):n(Z,4))+"-"+n(X.getUTCMonth()+1,2)+"-"+n(X.getUTCDate(),2)+(ka?"T"+n(oa,2)+":"+n(na,2)+":"+n(Aa,2)+"."+n(ka,3)+"Z":Aa?"T"+n(oa,2)+":"+n(na,2)+":"+n(Aa,2)+"Z":na||oa?"T"+n(oa,2)+":"+n(na,2)+"Z":"")}else oa=R.test(X+="")?'"'+X.replace(/"/g,'""')+'"':X;Z=oa}return Z}var R=new RegExp('["'+
ra+"\n\r]"),T=ra.charCodeAt(0);return{parse:function(X,Z){var oa,na;X=Pa(X,function(Aa,ka){if(oa)return oa(Aa,ka-1);na=Aa;oa=Z?function(Na,$a){var Wa=a(Na);return function(Ca,Da){return $a(Wa(Ca),Da,Na)}}(Aa,Z):a(Aa)});return X.columns=na||[],X},parseRows:Pa,format:function(X,Z){return null==Z&&(Z=e(X)),[Z.map(qa).join(ra)].concat(Ua(X,Z)).join("\n")},formatBody:function(X,Z){return null==Z&&(Z=e(X)),Ua(X,Z).join("\n")},formatRows:function(X){return X.map(za).join("\n")},formatRow:za,formatValue:qa}}
function z(ra){const Pa=function(Ua,za){const qa={delimiter:ra};return B(Ua,za?u.extend(za,qa):qa)};return Pa.responseType="text",Pa}function B(ra,Pa){return Pa.header&&(ra=Pa.header.map(u.stringValue).join(Pa.delimiter)+"\n"+ra),x(Pa.delimiter).parse(ra+"")}function M(ra,Pa){const Ua=Pa&&Pa.property?u.field(Pa.property):u.identity;!u.isObject(ra)||(za=ra,"function"==typeof m&&u.isFunction(m.isBuffer)&&m.isBuffer(za))?Pa=Ua(JSON.parse(ra)):(ra=Ua(ra),!u.isArray(ra)&&u.isIterable(ra)&&(ra=[...ra]),
Pa=Pa&&Pa.copy?JSON.parse(JSON.stringify(ra)):ra);return Pa;var za}function K(ra){return ra}function D(ra,Pa){return"string"==typeof Pa&&(Pa=ra.objects[Pa]),"GeometryCollection"===Pa.type?{type:"FeatureCollection",features:Pa.geometries.map(function(Ua){return y(ra,Ua)})}:y(ra,Pa)}function y(ra,Pa){var Ua=Pa.id,za=Pa.bbox,qa=null==Pa.properties?{}:Pa.properties;ra=E(ra,Pa);return null==Ua&&null==za?{type:"Feature",properties:qa,geometry:ra}:null==za?{type:"Feature",id:Ua,properties:qa,geometry:ra}:
{type:"Feature",id:Ua,bbox:za,properties:qa,geometry:ra}}function E(ra,Pa){function Ua(Z){return T(Z)}function za(Z){for(var oa=[],na=0,Aa=Z.length;na<Aa;++na){var ka,Na=Z[na],$a=oa;$a.length&&$a.pop();var Wa=X[0>Na?~Na:Na],Ca=0;for(ka=Wa.length;Ca<ka;++Ca)$a.push(T(Wa[Ca],Ca));if(0>Na)for(Na=$a.length,Wa=Na-ka;Wa<--Na;)ka=$a[Wa],$a[Wa++]=$a[Na],$a[Na]=ka}return 2>oa.length&&oa.push(oa[0]),oa}function qa(Z){for(Z=za(Z);4>Z.length;)Z.push(Z[0]);return Z}function R(Z){return Z.map(qa)}var T=function(Z){if(null==
Z)return K;var oa,na,Aa=Z.scale[0],ka=Z.scale[1],Na=Z.translate[0],$a=Z.translate[1];return function(Wa,Ca){Ca||(oa=na=0);Ca=2;var Da=Wa.length,ma=Array(Da);ma[0]=(oa+=Wa[0])*Aa+Na;for(ma[1]=(na+=Wa[1])*ka+$a;Ca<Da;)ma[Ca]=Wa[Ca],++Ca;return ma}}(ra.transform),X=ra.arcs;return function na(oa){var Aa=oa.type;switch(Aa){case "GeometryCollection":return{type:Aa,geometries:oa.geometries.map(na)};case "Point":oa=T(oa.coordinates);break;case "MultiPoint":oa=oa.coordinates.map(Ua);break;case "LineString":oa=
za(oa.arcs);break;case "MultiLineString":oa=oa.arcs.map(za);break;case "Polygon":oa=R(oa.arcs);break;case "MultiPolygon":oa=oa.arcs.map(R);break;default:return null}return{type:Aa,coordinates:oa}}(Pa)}function H(ra,Pa){function Ua(Z,oa){for(var na in Z){var Aa=Z[na];delete oa[Aa.start];delete Aa.start;delete Aa.end;Aa.forEach(function(ka){za[0>ka?~ka:ka]=1});T.push(Aa)}}var za={},qa={},R={},T=[],X=-1;return Pa.forEach(function(Z,oa){var na,Aa=ra.arcs[0>Z?~Z:Z];3>Aa.length&&!Aa[1][0]&&!Aa[1][1]&&(na=
Pa[++X],Pa[X]=Z,Pa[oa]=na)}),Pa.forEach(function(Z){var oa=function(ka){var Na,$a=ra.arcs[0>ka?~ka:ka],Wa=$a[0];ra.transform?(Na=[0,0],$a.forEach(function(Ca){Na[0]+=Ca[0];Na[1]+=Ca[1]})):Na=$a[$a.length-1];return 0>ka?[Na,Wa]:[Wa,Na]}(Z);var na=oa[0],Aa=oa[1];(oa=R[na])?(delete R[oa.end],oa.push(Z),oa.end=Aa,Z=qa[Aa])?(delete qa[Z.start],na=Z===oa?oa:oa.concat(Z),qa[na.start=oa.start]=R[na.end=Z.end]=na):qa[oa.start]=R[oa.end]=oa:(oa=qa[Aa])?(delete qa[oa.start],oa.unshift(Z),oa.start=na,Z=R[na])?
(delete R[Z.end],na=Z===oa?oa:Z.concat(oa),qa[na.start=Z.start]=R[na.end=oa.end]=na):qa[oa.start]=R[oa.end]=oa:qa[(oa=[Z]).start=na]=R[oa.end=Aa]=oa}),Ua(R,qa),Ua(qa,R),Pa.forEach(function(Z){za[0>Z?~Z:Z]||T.push([Z])}),T}function Q(ra){return E(ra,S.apply(this,arguments))}function S(ra,Pa,Ua){var za;if(1<arguments.length)var qa=ea(ra,Pa,Ua);else{var R=0;for(qa=Array(za=ra.arcs.length);R<za;++R)qa[R]=R}return{type:"MultiLineString",arcs:H(ra,qa)}}function ea(ra,Pa,Ua){function za(oa){var na=0>oa?
~oa:oa;(Z[na]||(Z[na]=[])).push({i:oa,g:T})}function qa(oa){oa.forEach(za)}function R(oa){oa.forEach(qa)}var T,X=[],Z=[];return function Aa(na){switch(T=na,na.type){case "GeometryCollection":na.geometries.forEach(Aa);break;case "LineString":qa(na.arcs);break;case "MultiLineString":case "Polygon":R(na.arcs);break;case "MultiPolygon":na.arcs.forEach(R),!0}}(Pa),Z.forEach(null==Ua?function(na){X.push(na[0].i)}:function(na){Ua(na[0].g,na[na.length-1].g)&&X.push(na[0].i)}),X}function ba(ra,Pa){let Ua,
za,qa,R;return ra=M(ra,Pa),Pa&&Pa.feature?(Ua=D,qa=Pa.feature):Pa&&Pa.mesh?(Ua=Q,qa=Pa.mesh,R=Ha[Pa.filter]):u.error("Missing TopoJSON feature or mesh parameter."),za=(za=ra.objects[qa])?Ua(ra,za,R):u.error("Invalid TopoJSON object: "+qa),za&&za.features||[za]}function fa(ra,Pa){return 1<arguments.length?(Za[ra]=Pa,this):u.hasOwnProperty(Za,ra)?Za[ra]:null}const ia=/^([A-Za-z]+:)?\/\//,ca=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,N=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,
C=ra=>!(Number.isNaN(+ra)||ra instanceof Date),W={boolean:u.toBoolean,integer:u.toNumber,number:u.toNumber,date:u.toDate,string:u.toString,unknown:u.identity},ha=[ra=>"true"===ra||"false"===ra||!0===ra||!1===ra,ra=>C(ra)&&Number.isInteger(+ra),C,ra=>!Number.isNaN(Date.parse(ra))],Y=["boolean","integer","number","date"];var wa={},xa={};B.responseType="text";M.responseType="json";const Ha={interior:(ra,Pa)=>ra!==Pa,exterior:(ra,Pa)=>ra===Pa};ba.responseType="json";const Za={dsv:B,csv:z(","),tsv:z("\t"),
json:M,topojson:ba},gb=function(ra,Pa){return Ua=>({options:Ua||{},sanitize:w,load:L,fileAccess:!!Pa,file:v(Pa),http:k(ra)})}("undefined"!=typeof fetch&&fetch,null);l.format=Za;l.formats=fa;l.inferType=d;l.inferTypes=f;l.loader=gb;l.read=function(ra,Pa,Ua,za){const qa=fa((Pa=Pa||{}).type||"json");return qa||u.error("Unknown data format type: "+Pa.type),ra=qa(ra,Pa),Pa.parse&&function(R,T,X,Z){if(R.length){var oa=G.timeFormatDefaultLocale();X=X||oa.timeParse;Z=Z||oa.utcParse;var na,Aa,ka=R.columns||
Object.keys(R[0]);"auto"===T&&(T=f(R,ka));ka=Object.keys(T);var Na=ka.map(Da=>{var ma=T[Da];if(ma&&(ma.startsWith("date:")||ma.startsWith("utc:")))return Da=ma.split(/:(.+)?/,2),ma=Da[1],("'"===ma[0]&&"'"===ma[ma.length-1]||'"'===ma[0]&&'"'===ma[ma.length-1])&&(ma=ma.slice(1,-1)),("utc"===Da[0]?Z:X)(ma);if(!W[ma])throw Error("Illegal format pattern: "+Da+":"+ma);return W[ma]});var $a=0;var Wa=R.length;for(Aa=ka.length;$a<Wa;++$a)for(oa=R[$a],na=0;na<Aa;++na){var Ca=ka[na];oa[Ca]=Na[na](oa[Ca])}}}(ra,
Pa.parse,Ua,za),u.hasOwnProperty(ra,"columns")&&delete ra.columns,ra};l.responseType=function(ra){return(ra=fa(ra))&&ra.responseType||"text"};l.typeParsers=W;Object.defineProperty(l,"__esModule",{value:!0})})};
shadow$provide[28]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J,A(16),A(27),A(22)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.vega={},m.vega,m.vega,m.vega))})(this,function(m,l,u,G){function L(ra){const Pa=ra||l.identity,Ua=[],za={};Ua.add=qa=>{const R=Pa(qa);za[R]||(za[R]=1,Ua.push(qa));return Ua};Ua.remove=qa=>{const R=Pa(qa);za[R]&&(za[R]=0,
qa=Ua.indexOf(qa),0<=qa&&Ua.splice(qa,1));return Ua};return Ua}function w(ra,Pa){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield Pa(ra)}catch(Ua){ra.error(Ua)}})}function v(ra){ra=ra===Object(ra)?ra:{data:ra};if(!ra[C]){var Pa=W++;ra[C]=Pa}return ra}function t(ra,Pa){for(const Ua in ra)Pa[Ua]=ra[Ua];return Pa}function k(ra){return ra&&ra.constructor===g}function g(){const ra=[],Pa=[],Ua=[],za=[],qa=[];let R=null,T=!1;return{constructor:g,insert(X){X=l.array(X);const Z=X.length;
for(let oa=0;oa<Z;++oa)ra.push(X[oa]);return this},remove(X){const Z=l.isFunction(X)?za:Pa;X=l.array(X);const oa=X.length;for(let na=0;na<oa;++na)Z.push(X[na]);return this},modify(X,Z,oa){Z={field:Z,value:l.constant(oa)};l.isFunction(X)?(Z.filter=X,qa.push(Z)):(Z.tuple=X,Ua.push(Z));return this},encode(X,Z){l.isFunction(X)?qa.push({filter:X,field:Z}):Ua.push({tuple:X,field:Z});return this},clean(X){R=X;return this},reflow(){T=!0;return this},pulse(X,Z){function oa(ma,Ea,Qa){Qa?ma[Ea]=Qa(ma):X.encode=
Ea;T||(Aa[ma[C]]=ma)}const na={},Aa={};let ka,Na,$a,Wa,Ca,Da;ka=0;for(Na=Z.length;ka<Na;++ka)na[Z[ka][C]]=1;ka=0;for(Na=Pa.length;ka<Na;++ka)Ca=Pa[ka],na[Ca[C]]=-1;ka=0;for(Na=za.length;ka<Na;++ka)Wa=za[ka],Z.forEach(ma=>{Wa(ma)&&(na[ma[C]]=-1)});ka=0;for(Na=ra.length;ka<Na;++ka)Ca=ra[ka],Da=Ca[C],na[Da]?na[Da]=1:X.add.push(v(ra[ka]));ka=0;for(Na=Z.length;ka<Na;++ka)Ca=Z[ka],0>na[Ca[C]]&&X.rem.push(Ca);ka=0;for(Na=Ua.length;ka<Na;++ka)$a=Ua[ka],Ca=$a.tuple,Wa=$a.field,Da=na[Ca[C]],0<Da&&(oa(Ca,Wa,
$a.value),X.modifies(Wa));ka=0;for(Na=qa.length;ka<Na;++ka)$a=qa[ka],Wa=$a.filter,Z.forEach(ma=>{Wa(ma)&&0<na[ma[C]]&&oa(ma,$a.field,$a.value)}),X.modifies($a.field);if(T)X.mod=Pa.length||za.length?Z.filter(ma=>0<na[ma[C]]):Z.slice();else for(Da in Aa)X.mod.push(Aa[Da]);(R||null==R&&(Pa.length||za.length))&&X.clean(!0);return X}}}function d(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function f(ra,Pa,Ua,za){this.id=++ha;this.value=ra;this.qrank=this.rank=this.stamp=-1;this.flags=
0;Pa&&(this._update=Pa);Ua&&this.parameters(Ua,za)}function a(ra){return function(Pa){const Ua=this.flags;if(0===arguments.length)return!!(Ua&ra);this.flags=Pa?Ua|ra:Ua&~ra;return this}}function e(ra,Pa,Ua){this.id=++wa;this.value=null;Ua&&(this.receive=Ua);ra&&(this._filter=ra);Pa&&(this._apply=Pa)}function n(ra,Pa,Ua){return new e(ra,Pa,Ua)}function x(ra){let Pa;const Ua=new Promise(za=>Pa=za);Ua.requests=0;Ua.done=()=>{0===--Ua.requests&&(ra._pending=null,Pa(ra))};return ra._pending=Ua}function z(ra,
Pa,Ua,za,qa,R){const T=l.extend({},R,xa);let X;l.isFunction(Ua)||(Ua=l.constant(Ua));void 0===za?qa=Z=>ra.touch(Ua(Z)):l.isFunction(za)?(X=new f(null,za,qa,!1),qa=Z=>{X.evaluate(Z);Z=Ua(Z);const oa=X.value;k(oa)?ra.pulse(Z,oa,R):ra.update(Z,oa,T)}):qa=Z=>ra.update(Ua(Z),za,T);Pa.apply(qa)}function B(ra,Pa,Ua,za,qa,R){void 0===za?Pa.targets().add(Ua):(R=R||{},za=new f(null,M(Ua,za),qa,!1),za.modified(R.force),za.rank=Pa.rank,Pa.targets().add(za),Ua&&(za.skip(!0),za.value=Ua.value,za.targets().add(Ua),
ra.connect(Ua,[za])))}function M(ra,Pa){Pa=l.isFunction(Pa)?Pa:l.constant(Pa);return ra?function(Ua,za){Ua=Pa(Ua,za);ra.skip()||(ra.skip(Ua!==this.value).value=Ua);return Ua}:Pa}function K(ra,Pa,Ua){this.dataflow=ra;this.stamp=null==Pa?-1:Pa;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=Ua||null}function D(ra,Pa){const Ua=[];l.visitArray(ra,Pa,za=>Ua.push(za));return Ua}function y(ra,Pa){const Ua={};ra.visit(Pa,za=>{Ua[za[C]]=1});return za=>Ua[za[C]]?null:za}function E(ra,Pa){return ra?
(Ua,za)=>ra(Ua,za)&&Pa(Ua,za):Pa}function H(ra,Pa,Ua,za){const qa=Ua.length;let R=0;this.dataflow=ra;this.stamp=Pa;this.fields=null;this.encode=za||null;this.pulses=Ua;for(ra=0;ra<qa;++ra)if(za=Ua[ra],za.stamp===Pa){if(za.fields){const T=this.fields||(this.fields={});for(const X in za.fields)T[X]=1}za.changed(this.ADD)&&(R|=this.ADD);za.changed(this.REM)&&(R|=this.REM);za.changed(this.MOD)&&(R|=this.MOD)}this.changes=R}function Q(ra){ra.error("Dataflow already running. Use runAsync() to chain invocations.");
return ra}function S(ra,Pa){if(Pa&&Pa.stamp===ra.stamp)return Pa;ra=ra.fork();Pa&&Pa!==Ha&&(ra.source=Pa.source);return ra}function ea(ra){let Pa=[];return{clear:()=>Pa=[],size:()=>Pa.length,peek:()=>Pa[0],push:Ua=>{Pa.push(Ua);return ba(Pa,0,Pa.length-1,ra)},pop:()=>{var Ua=Pa.pop();let za;if(Pa.length){za=Pa[0];Pa[0]=Ua;{Ua=Pa;var qa=0;const R=qa,T=Ua.length,X=Ua[qa];let Z=(qa<<1)+1,oa;for(;Z<T;)oa=Z+1,oa<T&&0<=ra(Ua[Z],Ua[oa])&&(Z=oa),Ua[qa]=Ua[Z],qa=Z,Z=(qa<<1)+1;Ua[qa]=X;ba(Ua,R,qa,ra)}}else za=
Ua;return za}}}function ba(ra,Pa,Ua,za){let qa,R;const T=ra[Ua];for(;Ua>Pa;)if(R=Ua-1>>1,qa=ra[R],0>za(T,qa))ra[Ua]=qa,Ua=R;else break;return ra[Ua]=T}function fa(){this.logger(l.logger());this.logLevel(l.Error);this._rank=this._clock=0;this._locale=G.defaultLocale();try{this._loader=u.loader()}catch(ra){}this._touched=L(l.id);this._input={};this._pulse=null;this._heap=ea((ra,Pa)=>ra.qrank-Pa.qrank);this._postrun=[]}function ia(ra){return function(){return this._log[ra].apply(this,arguments)}}function ca(ra,
Pa){f.call(this,ra,null,Pa)}function N(ra){ra=ra&&ra.toLowerCase();return l.hasOwnProperty(gb,ra)?gb[ra]:null}const C=Symbol("vega_id");let W=1;d.prototype={set(ra,Pa,Ua,za){const qa=this[ra],R=this["_:mod:_"];if(null!=Pa&&0<=Pa){if(qa[Pa]!==Ua||za)qa[Pa]=Ua,R[Pa+":"+ra]=-1,R[ra]=-1}else if(qa!==Ua||za)this[ra]=Ua,R[ra]=l.isArray(Ua)?1+Ua.length:-1;return this},modified(ra,Pa){const Ua=this["_:mod:_"];if(!arguments.length){for(var za in Ua)if(Ua[za])return!0;return!1}if(l.isArray(ra)){for(za=0;za<
ra.length;++za)if(Ua[ra[za]])return!0;return!1}return null!=Pa&&0<=Pa?Pa+1<Ua[ra]||!!Ua[Pa+":"+ra]:!!Ua[ra]},clear(){this["_:mod:_"]={};return this}};let ha=0;const Y=new d;f.prototype={targets(){return this._targets||(this._targets=L(l.id))},set(ra){return this.value!==ra?(this.value=ra,1):0},skip:a(1),modified:a(2),parameters(ra,Pa,Ua){Pa=!1!==Pa;const za=this._argval=this._argval||new d,qa=this._argops=this._argops||[],R=[];let T,X,Z,oa;const na=(Aa,ka,Na)=>{Na instanceof f?(Na!==this&&(Pa&&Na.targets().add(this),
R.push(Na)),qa.push({op:Na,name:Aa,index:ka})):za.set(Aa,ka,Na)};for(T in ra)if(X=ra[T],"pulse"===T)l.array(X).forEach(Aa=>{Aa instanceof f?Aa!==this&&(Aa.targets().add(this),R.push(Aa)):l.error("Pulse parameters must be operator instances.")}),this.source=X;else if(l.isArray(X))for(za.set(T,-1,Array(Z=X.length)),oa=0;oa<Z;++oa)na(T,oa,X[oa]);else na(T,-1,X);this.marshall().clear();Ua&&(qa.initonly=!0);return R},marshall(ra){const Pa=this._argval||Y,Ua=this._argops;let za,qa,R,T;if(Ua){const X=Ua.length;
for(qa=0;qa<X;++qa)za=Ua[qa],R=za.op,T=R.modified()&&R.stamp===ra,Pa.set(za.name,za.index,R.value,T);if(Ua.initonly){for(qa=0;qa<X;++qa)za=Ua[qa],za.op.targets().remove(this);this._update=this._argops=null}}return Pa},detach(){const ra=this._argops;let Pa,Ua;if(ra)for(Pa=0,Ua=ra.length;Pa<Ua;++Pa){var za=ra[Pa];za=za.op;za._targets&&za._targets.remove(this)}},evaluate(ra){var Pa=this._update;if(Pa){const Ua=this.marshall(ra.stamp);Pa=Pa.call(this,Ua,ra);Ua.clear();if(Pa!==this.value)this.value=Pa;
else if(!this.modified())return ra.StopPropagation}},run(ra){if(ra.stamp<this.stamp)return ra.StopPropagation;let Pa;this.skip()?(this.skip(!1),Pa=0):Pa=this.evaluate(ra);return this.pulse=Pa||ra}};let wa=0;e.prototype={_filter:l.truthy,_apply:l.identity,targets(){return this._targets||(this._targets=L(l.id))},consume(ra){if(!arguments.length)return!!this._consume;this._consume=!!ra;return this},receive(ra){if(this._filter(ra)){const Pa=this.value=this._apply(ra),Ua=this._targets,za=Ua?Ua.length:
0;for(let qa=0;qa<za;++qa)Ua[qa].receive(Pa);this._consume&&(ra.preventDefault(),ra.stopPropagation())}},filter(ra){ra=n(ra);this.targets().add(ra);return ra},apply(ra){ra=n(null,ra);this.targets().add(ra);return ra},merge(){const ra=n();this.targets().add(ra);for(let Pa=0,Ua=arguments.length;Pa<Ua;++Pa)arguments[Pa].targets().add(ra);return ra},throttle(ra){let Pa=-1;return this.filter(()=>{const Ua=Date.now();return Ua-Pa>ra?(Pa=Ua,1):0})},debounce(ra){const Pa=n();this.targets().add(n(null,null,
l.debounce(ra,Ua=>{const za=Ua.dataflow;Pa.receive(Ua);za&&za.run&&za.run()})));return Pa},between(ra,Pa){let Ua=!1;ra.targets().add(n(null,null,()=>Ua=!0));Pa.targets().add(n(null,null,()=>Ua=!1));return this.filter(()=>Ua)},detach(){}};const xa={skip:!0},Ha={};K.prototype={StopPropagation:Ha,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(ra){return(new K(this.dataflow)).init(this,ra)},clone(){const ra=this.fork(7);ra.add=ra.add.slice();ra.rem=ra.rem.slice();
ra.mod=ra.mod.slice();ra.source&&(ra.source=ra.source.slice());return ra.materialize(23)},addAll(){let ra=this;ra.source&&ra.add!==ra.rem&&(ra.rem.length||ra.source.length!==ra.add.length)&&(ra=(new K(this.dataflow)).init(this),ra.add=ra.source,ra.rem=[]);return ra},init(ra,Pa){this.stamp=ra.stamp;this.encode=ra.encode;!ra.fields||Pa&64||(this.fields=ra.fields);Pa&1?(this.addF=ra.addF,this.add=ra.add):(this.addF=null,this.add=[]);Pa&2?(this.remF=ra.remF,this.rem=ra.rem):(this.remF=null,this.rem=[]);
Pa&4?(this.modF=ra.modF,this.mod=ra.mod):(this.modF=null,this.mod=[]);Pa&32?this.source=this.srcF=null:(this.srcF=ra.srcF,this.source=ra.source,ra.cleans&&(this.cleans=ra.cleans));return this},runAfter(ra){this.dataflow.runAfter(ra)},changed(ra){ra=ra||7;return ra&1&&this.add.length||ra&2&&this.rem.length||ra&4&&this.mod.length},reflow(ra){if(ra)return this.fork(7).reflow();ra=this.add.length;const Pa=this.source&&this.source.length;Pa&&Pa!==ra&&(this.mod=this.source,ra&&this.filter(4,y(this,1)));
return this},clean(ra){return arguments.length?(this.cleans=!!ra,this):this.cleans},modifies(ra){const Pa=this.fields||(this.fields={});l.isArray(ra)?ra.forEach(Ua=>Pa[Ua]=!0):Pa[ra]=!0;return this},modified(ra,Pa){const Ua=this.fields;return(Pa||this.mod.length)&&Ua?arguments.length?l.isArray(ra)?ra.some(za=>Ua[za]):Ua[ra]:!!Ua:!1},filter(ra,Pa){ra&1&&(this.addF=E(this.addF,Pa));ra&2&&(this.remF=E(this.remF,Pa));ra&4&&(this.modF=E(this.modF,Pa));ra&16&&(this.srcF=E(this.srcF,Pa));return this},materialize(ra){ra=
ra||7;ra&1&&this.addF&&(this.add=D(this.add,this.addF),this.addF=null);ra&2&&this.remF&&(this.rem=D(this.rem,this.remF),this.remF=null);ra&4&&this.modF&&(this.mod=D(this.mod,this.modF),this.modF=null);ra&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit(ra,Pa){if(ra&16)return l.visitArray(this.source,this.srcF,Pa),this;ra&1&&l.visitArray(this.add,this.addF,Pa);ra&2&&l.visitArray(this.rem,this.remF,Pa);ra&4&&l.visitArray(this.mod,this.modF,Pa);const Ua=this.source;
ra&8&&Ua&&(ra=this.add.length+this.mod.length,ra!==Ua.length&&(ra?l.visitArray(Ua,y(this,5),Pa):l.visitArray(Ua,this.srcF,Pa)));return this}};l.inherits(H,K,{fork(ra){const Pa=(new K(this.dataflow)).init(this,ra&this.NO_FIELDS);void 0!==ra&&(ra&Pa.ADD&&this.visit(Pa.ADD,Ua=>Pa.add.push(Ua)),ra&Pa.REM&&this.visit(Pa.REM,Ua=>Pa.rem.push(Ua)),ra&Pa.MOD&&this.visit(Pa.MOD,Ua=>Pa.mod.push(Ua)));return Pa},changed(ra){return this.changes&ra},modified(ra){const Pa=this.fields;return Pa&&this.changes&this.MOD?
l.isArray(ra)?ra.some(Ua=>Pa[Ua]):Pa[ra]:0},filter(){l.error("MultiPulse does not support filtering.")},materialize(){l.error("MultiPulse does not support materialization.")},visit(ra,Pa){const Ua=this.pulses,za=Ua.length;let qa=0;if(ra&this.SOURCE)for(;qa<za;++qa)Ua[qa].visit(ra,Pa);else for(;qa<za;++qa)Ua[qa].stamp===this.stamp&&Ua[qa].visit(ra,Pa);return this}});const Za={skip:!1,force:!1};fa.prototype={stamp(){return this._clock},loader(ra){return arguments.length?(this._loader=ra,this):this._loader},
locale(ra){return arguments.length?(this._locale=ra,this):this._locale},logger(ra){return arguments.length?(this._log=ra,this):this._log},error:ia("error"),warn:ia("warn"),info:ia("info"),debug:ia("debug"),logLevel:ia("level"),cleanThreshold:1E4,add:function(ra,Pa,Ua,za){let qa=1;ra instanceof f||(ra&&ra.prototype instanceof f?ra=new ra:l.isFunction(ra)?ra=new f(null,ra):(qa=0,ra=new f(ra,Pa)));this.rank(ra);qa&&(za=Ua,Ua=Pa);Ua&&this.connect(ra,ra.parameters(Ua,za));this.touch(ra);return ra},connect:function(ra,
Pa){const Ua=ra.rank,za=Pa.length;for(let qa=0;qa<za;++qa)if(Ua<Pa[qa].rank){this.rerank(ra);break}},rank:function(ra){ra.rank=++this._rank},rerank:function(ra){const Pa=[ra];let Ua,za,qa;for(;Pa.length;)if(this.rank(Ua=Pa.pop()),za=Ua._targets)for(qa=za.length;0<=--qa;)Pa.push(Ua=za[qa]),Ua===ra&&l.error("Cycle detected in dataflow graph.")},pulse:function(ra,Pa,Ua){this.touch(ra,Ua||Za);Ua=new K(this,this._clock+(this._pulse?0:1));const za=ra.pulse&&ra.pulse.source||[];Ua.target=ra;this._input[ra.id]=
Pa.pulse(Ua,za);return this},touch:function(ra,Pa){Pa=Pa||Za;this._pulse?this._enqueue(ra):this._touched.add(ra);Pa.skip&&ra.skip(!0);return this},update:function(ra,Pa,Ua){Ua=Ua||Za;(ra.set(Pa)||Ua.force)&&this.touch(ra,Ua);return this},changeset:g,ingest:function(ra,Pa,Ua){Pa=this.parse(Pa,Ua);return this.pulse(ra,this.changeset().insert(Pa))},parse:function(ra,Pa){const Ua=this.locale();return u.read(ra,Pa,Ua.timeParse,Ua.utcParse)},preload:function(ra,Pa,Ua){const za=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const qa=
za._pending||x(za);qa.requests+=1;const R=yield za.request(Pa,Ua);za.pulse(ra,za.changeset().remove(l.truthy).insert(R.data||[]));qa.done();return R})},request:function(ra,Pa){const Ua=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let za=0,qa;try{qa=yield Ua.loader().load(ra,{context:"dataflow",response:u.responseType(Pa&&Pa.type)});try{qa=Ua.parse(qa,Pa)}catch(R){za=-2,Ua.warn("Data ingestion failed",ra,R)}}catch(R){za=-1,Ua.warn("Loading failed",ra,R)}return{data:qa,status:za}})},
events:function(ra,Pa,Ua,za){const qa=this,R=n(Ua,za);Ua=function(T){T.dataflow=qa;try{R.receive(T)}catch(X){qa.error(X)}finally{qa.run()}};ra="string"===typeof ra&&"undefined"!==typeof document?document.querySelectorAll(ra):l.array(ra);za=ra.length;for(let T=0;T<za;++T)ra[T].addEventListener(Pa,Ua);return R},on:function(ra,Pa,Ua,za,qa){(ra instanceof f?B:z)(this,ra,Pa,Ua,za,qa);return this},evaluate:function(ra,Pa,Ua){const za=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const qa=
[];if(za._pulse)return Q(za);za._pending&&(yield za._pending);Pa&&(yield w(za,Pa));if(!za._touched.length)return za.debug("Dataflow invoked, but nothing to do."),za;var R=++za._clock;za._pulse=new K(za,R,ra);za._touched.forEach(na=>za._enqueue(na,!0));za._touched=L(l.id);var T=0;let X,Z,oa;try{for(;0<za._heap.size();)X=za._heap.pop(),X.rank!==X.qrank?za._enqueue(X,!0):(Z=X.run(za._getPulse(X,ra)),Z.then?Z=yield Z:Z.async&&(qa.push(Z.async),Z=Ha),Z!==Ha&&X._targets&&X._targets.forEach(na=>za._enqueue(na)),
++T)}catch(na){za._heap.clear(),oa=na}za._input={};za._pulse=null;za.debug(`Pulse ${R}: ${T} operators`);oa&&(za._postrun=[],za.error(oa));if(za._postrun.length)for(R=za._postrun.sort((na,Aa)=>Aa.priority-na.priority),za._postrun=[],T=0;T<R.length;++T)yield w(za,R[T].callback);Ua&&(yield w(za,Ua));qa.length&&Promise.all(qa).then(na=>za.runAsync(null,()=>{na.forEach(Aa=>{try{Aa(za)}catch(ka){za.error(ka)}})}));return za})},run:function(ra,Pa,Ua){return this._pulse?Q(this):(this.evaluate(ra,Pa,Ua),
this)},runAsync:function(ra,Pa,Ua){const za=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;za._running;)yield za._running;const qa=()=>za._running=null;(za._running=za.evaluate(ra,Pa,Ua)).then(qa,qa);return za._running})},runAfter:function(ra,Pa,Ua){if(this._pulse||Pa)this._postrun.push({priority:Ua||0,callback:ra});else try{ra(this)}catch(za){this.error(za)}},_enqueue:function(ra,Pa){const Ua=ra.stamp<this._clock;Ua&&(ra.stamp=this._clock);if(Ua||Pa)ra.qrank=ra.rank,this._heap.push(ra)},
_getPulse:function(ra,Pa){const Ua=ra.source,za=this._clock;return Ua&&l.isArray(Ua)?new H(this,za,Ua.map(qa=>qa.pulse),Pa):this._input[ra.id]||S(this._pulse,Ua&&Ua.pulse)}};l.inherits(ca,f,{run(ra){if(ra.stamp<this.stamp)return ra.StopPropagation;let Pa;this.skip()?this.skip(!1):Pa=this.evaluate(ra);Pa=Pa||ra;Pa.then?Pa=Pa.then(Ua=>this.pulse=Ua):Pa!==ra.StopPropagation&&(this.pulse=Pa);return Pa},evaluate(ra){const Pa=this.marshall(ra.stamp);ra=this.transform(Pa,ra);Pa.clear();return ra},transform(){}});
const gb={};m.Dataflow=fa;m.EventStream=e;m.MultiPulse=H;m.Operator=f;m.Parameters=d;m.Pulse=K;m.Transform=ca;m.UniqueList=L;m.asyncCallback=w;m.changeset=g;m.definition=function(ra){return(ra=N(ra))&&ra.Definition||null};m.derive=function(ra){return t(ra,v({}))};m.ingest=v;m.isChangeSet=k;m.isTuple=function(ra){return!(!ra||!ra[C])};m.rederive=t;m.replace=function(ra,Pa){Pa[C]=ra[C];return Pa};m.stableCompare=function(ra,Pa){return ra?Pa?(Ua,za)=>ra(Ua,za)||Pa(Ua)[C]-Pa(za)[C]:(Ua,za)=>ra(Ua,za)||
Ua[C]-za[C]:null};m.transform=N;m.transforms=gb;m.tupleid=function(ra){return ra[C]};Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[29]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J,A(17)):"function"===typeof define&&define.amd?define(["exports","d3-array"],l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.vega={},m.d3))})(this,function(m,l){function*u(C,W){if(null==W)for(var ha of C)null!=ha&&""!==ha&&(ha=+ha)>=ha&&(yield ha);else{ha=-1;for(let Y of C)Y=W(Y,++ha,C),null!=Y&&""!==Y&&(Y=+Y)>=Y&&(yield Y)}}function G(C,W,ha){const Y=Float64Array.from(u(C,ha));Y.sort(l.ascending);
return W.map(wa=>l.quantileSorted(Y,wa))}function L(C,W){return G(C,[.25,.5,.75],W)}function w(C,W){const ha=C.length,Y=l.deviation(C,W);C=L(C,W);return 1.06*(Math.min(Y,(C[2]-C[0])/1.34)||Y||Math.abs(C[0])||1)*Math.pow(ha,-.2)}function v(C,W){const ha=C.length;let Y=0,wa=1,xa,Ha;for(;C[Y]===C[wa];)++wa;for(;wa<ha;){for(xa=wa+1;C[wa]===C[xa];)++xa;if(C[wa]-C[wa-1]<W){for(Ha=wa+(Y+xa-wa-wa>>1);Ha<wa;)C[Ha++]=C[wa];for(;Ha>wa;)C[Ha--]=C[Y]}Y=wa;wa=xa}return C}function t(C,W){C=C||0;W=null==W?1:W;let ha,
Y;if(ca===ca)ha=ca,ca=NaN;else{do{ha=2*m.random()-1;Y=2*m.random()-1;var wa=ha*ha+Y*Y}while(0===wa||1<wa);wa=Math.sqrt(-2*Math.log(wa)/wa);ha*=wa;ca=Y*wa}return C+ha*W}function k(C,W,ha){ha=null==ha?1:ha;C=(C-(W||0))/ha;return Math.exp(-.5*C*C)/(ha*fa)}function g(C,W,ha){C=(C-(W||0))/(null==ha?1:ha);W=Math.abs(C);37<W?ha=0:(ha=Math.exp(-W*W/2),7.07106781186547>W?(ha*=(((((.0352624965998911*W+.700383064443688)*W+6.37396220353165)*W+33.912866078383)*W+112.079291497871)*W+221.213596169931)*W+220.206867912376,
ha/=((((((.0883883476483184*W+1.75566716318264)*W+16.064177579207)*W+86.7807322029461)*W+296.564248779674)*W+637.333633378831)*W+793.826512519948)*W+440.413735824752):ha=ha/(W+1/(W+2/(W+3/(W+4/(W+.65)))))/2.506628274631);return 0<C?1-ha:ha}function d(C,W,ha){if(0>C||1<C)return NaN;C=2*C-1;var Y=-Math.log((1-C)*(1+C));6.25>Y?(Y-=3.125,Y=1.6536545626831027+(.24015818242558962+(-.006033670871430149+(-7.40702534166267E-4+(1.8673420803405714E-4+(-1.3882523362786469E-5+(-1.3654692000834679E-6+(4.2347877827932404E-7+
(-2.9070369957882005E-8+(-4.112633980346984E-9+(1.0512122733215323E-9+(-5.415412054294628E-11+(-1.2975133253453532E-11+(2.6335093153082323E-12+(-8.151934197605472E-14+(-4.054566272975207E-14+(6.637638134358324E-15+(2.0972767875968562E-17+(-1.333171662854621E-16+(1.1157877678025181E-17+(1.28584807152564E-18+(-1.6850591381820166E-19+-3.64441206401782E-21*Y)*Y)*Y)*Y)*Y)*Y)*Y)*Y)*Y)*Y)*Y)*Y)*Y)*Y)*Y)*Y)*Y)*Y)*Y)*Y)*Y)*Y):16>Y?(Y=Math.sqrt(Y)-3.25,Y=3.0838856104922208+(1.0052589676941592+(.005370914553590064+
(-.003751208507569241+(.002491442096107851+(-.0016882755560235047+(9.532893797373805E-4+(-3.550375203628475E-4+(2.4031110387097894E-5+(6.828485145957318E-5+(-4.7318229009055734E-5+(1.2475304481671779E-5+(2.9234449089955446E-6+(-4.013867526981546E-6+(1.5027403968909828E-6+(1.8239629214389228E-8+(-2.7517406297064545E-7+(9.075656193888539E-8+2.2137376921775787E-9*Y)*Y)*Y)*Y)*Y)*Y)*Y)*Y)*Y)*Y)*Y)*Y)*Y)*Y)*Y)*Y)*Y)*Y):Number.isFinite(Y)?(Y=Math.sqrt(Y)-5,Y=4.849906401408584+(1.0103004648645344+(-1.3871931833623122E-4+
(-2.1503011930044477E-4+(7.599527703001776E-5+(-1.968177810553167E-5+(4.526062597223154E-6+(-9.9298272942317E-7+(2.2900482228026655E-7+(-6.771199775845234E-8+(2.914795345090108E-8+(-1.496002662714924E-8+(7.61570120807834E-9+(-3.789465440126737E-9+(1.5076572693500548E-9+(-2.555641816996525E-10+-2.7109920616438573E-11*Y)*Y)*Y)*Y)*Y)*Y)*Y)*Y)*Y)*Y)*Y)*Y)*Y)*Y)*Y)*Y):Y=Infinity;C*=Y;return(W||0)+(null==ha?1:ha)*ia*C}function f(C,W){let ha,Y;const wa={mean(xa){return arguments.length?(ha=xa||0,wa):ha},
stdev(xa){return arguments.length?(Y=null==xa?1:xa,wa):Y},sample:()=>t(ha,Y),pdf:xa=>k(xa,ha,Y),cdf:xa=>g(xa,ha,Y),icdf:xa=>d(xa,ha,Y)};return wa.mean(C).stdev(W)}function a(C,W){W=null==W?1:W;return Math.exp((C||0)+t()*W)}function e(C,W,ha){if(0>=C)return 0;ha=null==ha?1:ha;W=(Math.log(C)-(W||0))/ha;return Math.exp(-.5*W*W)/(ha*fa*C)}function n(C,W,ha){return g(Math.log(C),W,ha)}function x(C,W,ha){return Math.exp(d(C,W,ha))}function z(C,W){null==W&&(W=null==C?1:C,C=0);return C+(W-C)*m.random()}function B(C,
W,ha){null==ha&&(ha=null==W?1:W,W=0);return C>=W&&C<=ha?1/(ha-W):0}function M(C,W,ha){null==ha&&(ha=null==W?1:W,W=0);return C<W?0:C>ha?1:(C-W)/(ha-W)}function K(C,W,ha){null==ha&&(ha=null==W?1:W,W=0);return 0<=C&&1>=C?W+C*(ha-W):NaN}function D(C,W,ha,Y){Y-=C*C;ha=1E-24>Math.abs(Y)?0:(ha-C*W)/Y;return[W-ha*C,ha]}function y(C,W,ha,Y){C=C.filter(Ua=>{let za=W(Ua);Ua=ha(Ua);return null!=za&&(za=+za)>=za&&null!=Ua&&(Ua=+Ua)>=Ua});Y&&C.sort((Ua,za)=>W(Ua)-W(za));Y=C.length;const wa=new Float64Array(Y),
xa=new Float64Array(Y);let Ha=0,Za=0,gb=0,ra,Pa;for(Pa of C)wa[Ha]=C=+W(Pa),xa[Ha]=ra=+ha(Pa),++Ha,Za+=(C-Za)/Ha,gb+=(ra-gb)/Ha;for(Ha=0;Ha<Y;++Ha)wa[Ha]-=Za,xa[Ha]-=gb;return[wa,xa,Za,gb]}function E(C,W,ha,Y){let wa=-1,xa;for(const Ha of C)C=W(Ha),xa=ha(Ha),null!=C&&(C=+C)>=C&&null!=xa&&(xa=+xa)>=xa&&Y(C,xa,++wa)}function H(C,W,ha,Y,wa){let xa=0,Ha=0;E(C,W,ha,(Za,gb)=>{Za=gb-wa(Za);gb-=Y;xa+=Za*Za;Ha+=gb*gb});return 1-xa/Ha}function Q(C,W,ha){let Y=0,wa=0,xa=0,Ha=0,Za=0;E(C,W,ha,(Pa,Ua)=>{++Za;Y+=
(Pa-Y)/Za;wa+=(Ua-wa)/Za;xa+=(Pa*Ua-xa)/Za;Ha+=(Pa*Pa-Ha)/Za});const gb=D(Y,wa,xa,Ha),ra=Pa=>gb[0]+gb[1]*Pa;return{coef:gb,predict:ra,rSquared:H(C,W,ha,wa,ra)}}function S(C,W,ha){const [Y,wa,xa,Ha]=y(C,W,ha);var Za=Y.length,gb=0;let ra=0;var Pa=0;let Ua=0,za=0,qa,R,T,X;for(qa=0;qa<Za;)R=Y[qa],T=wa[qa++],X=R*R,gb+=(X-gb)/qa,ra+=(X*R-ra)/qa,Pa+=(X*X-Pa)/qa,Ua+=(R*T-Ua)/qa,za+=(X*T-za)/qa;Za=Pa-gb*gb;Pa=gb*Za-ra*ra;const Z=(za*gb-Ua*ra)/Pa,oa=(Ua*Za-za*ra)/Pa,na=-Z*gb;gb=Aa=>{Aa-=xa;return Z*Aa*Aa+oa*
Aa+na+Ha};return{coef:[na-oa*xa+Z*xa*xa+Ha,oa-2*Z*xa,Z],predict:gb,rSquared:H(C,W,ha,Ha,gb)}}function ea(C,W,ha,Y){const wa=Array(C);let xa,Ha,Za;for(xa=0;xa<C;++xa)wa[xa]=0;for(xa=C-1;0<=xa;--xa)for(Ha=W[xa],Za=1,wa[xa]+=Ha,C=1;C<=xa;++C)Za*=(xa+1-C)/C,wa[xa-C]+=Ha*Math.pow(ha,C)*Za;wa[0]+=Y;return wa}function ba(C){const W=C.length-1,ha=[];let Y,wa,xa,Ha,Za;for(Y=0;Y<W;++Y){Ha=Y;for(wa=Y+1;wa<W;++wa)Math.abs(C[Y][wa])>Math.abs(C[Y][Ha])&&(Ha=wa);for(xa=Y;xa<W+1;++xa)Za=C[xa][Y],C[xa][Y]=C[xa][Ha],
C[xa][Ha]=Za;for(wa=Y+1;wa<W;++wa)for(xa=W;xa>=Y;xa--)C[xa][wa]-=C[xa][Y]*C[Y][wa]/C[Y][Y]}for(wa=W-1;0<=wa;--wa){Za=0;for(xa=wa+1;xa<W;++xa)Za+=C[xa][wa]*ha[xa];ha[wa]=(C[W][wa]-Za)/C[wa][wa]}return ha}m.random=Math.random;const fa=Math.sqrt(2*Math.PI),ia=Math.SQRT2;let ca=NaN;const N=.1*Math.PI/180;m.bandwidthNRD=w;m.bin=function(C){var W=C.maxbins||20;const ha=C.base||10,Y=Math.log(ha),wa=C.divide||[5,2];let xa=C.extent[0],Ha=C.extent[1];let Za,gb,ra,Pa;const Ua=C.span||Ha-xa||Math.abs(xa)||1;
if(C.step)var za=C.step;else if(C.steps){gb=Ua/W;ra=0;for(Pa=C.steps.length;ra<Pa&&C.steps[ra]<gb;++ra);za=C.steps[Math.max(0,ra-1)]}else{za=Math.ceil(Math.log(W)/Y);Za=C.minstep||0;for(za=Math.max(Za,Math.pow(ha,Math.round(Math.log(Ua)/Y)-za));Math.ceil(Ua/za)>W;)za*=ha;ra=0;for(Pa=wa.length;ra<Pa;++ra)gb=za/wa[ra],gb>=Za&&Ua/gb<=W&&(za=gb)}gb=Math.log(za);W=Math.pow(ha,-(0<=gb?0:~~(-gb/Y)+1)-1);if(C.nice||void 0===C.nice)gb=Math.floor(xa/za+W)*za,xa=xa<gb?gb-za:gb,Ha=Math.ceil(Ha/za)*za;return{start:xa,
stop:Ha===xa?xa+za:Ha,step:za}};m.bootstrapCI=function(C,W,ha,Y){if(!C.length)return[void 0,void 0];C=Float64Array.from(u(C,Y));Y=C.length;let wa,xa,Ha,Za;Ha=0;for(Za=Array(W);Ha<W;++Ha){for(xa=wa=0;xa<Y;++xa)wa+=C[~~(m.random()*Y)];Za[Ha]=wa/Y}Za.sort(l.ascending);return[l.quantile(Za,ha/2),l.quantile(Za,1-ha/2)]};m.cumulativeLogNormal=n;m.cumulativeNormal=g;m.cumulativeUniform=M;m.densityLogNormal=e;m.densityNormal=k;m.densityUniform=B;m.dotbin=function(C,W,ha,Y){Y=Y||(za=>za);const wa=C.length,
xa=new Float64Array(wa);let Ha=0,Za=1,gb=Y(C[0]),ra=gb,Pa=gb+W,Ua;for(;Za<wa;++Za){Ua=Y(C[Za]);if(Ua>=Pa){for(ra=(gb+ra)/2;Ha<Za;++Ha)xa[Ha]=ra;Pa=Ua+W;gb=Ua}ra=Ua}for(ra=(gb+ra)/2;Ha<Za;++Ha)xa[Ha]=ra;return ha?v(xa,W+W/4):xa};m.quantileLogNormal=x;m.quantileNormal=d;m.quantileUniform=K;m.quantiles=G;m.quartiles=L;m.randomInteger=function(C,W){null==W&&(W=C,C=0);let ha,Y,wa;const xa={min(Ha){return arguments.length?(ha=Ha||0,wa=Y-ha,xa):ha},max(Ha){return arguments.length?(Y=Ha||0,wa=Y-ha,xa):Y},
sample(){return ha+Math.floor(wa*m.random())},pdf(Ha){return Ha===Math.floor(Ha)&&Ha>=ha&&Ha<Y?1/wa:0},cdf(Ha){Ha=Math.floor(Ha);return Ha<ha?0:Ha>=Y?1:(Ha-ha+1)/wa},icdf(Ha){return 0<=Ha&&1>=Ha?ha-1+Math.floor(Ha*wa):NaN}};return xa.min(C).max(W)};m.randomKDE=function(C,W){const ha=f();let Y=0;const wa={data(xa){return arguments.length?(Y=(C=xa)?xa.length:0,wa.bandwidth(W)):C},bandwidth(xa){if(!arguments.length)return W;W=xa;!W&&C&&(W=w(C));return wa},sample(){return C[~~(m.random()*Y)]+W*ha.sample()},
pdf(xa){let Ha=0,Za=0;for(;Za<Y;++Za)Ha+=ha.pdf((xa-C[Za])/W);return Ha/W/Y},cdf(xa){let Ha=0,Za=0;for(;Za<Y;++Za)Ha+=ha.cdf((xa-C[Za])/W);return Ha/Y},icdf(){throw Error("KDE icdf not supported.");}};return wa.data(C)};m.randomLCG=function(C){return function(){C=(1103515245*C+12345)%2147483647;return C/2147483647}};m.randomLogNormal=function(C,W){let ha,Y;const wa={mean(xa){return arguments.length?(ha=xa||0,wa):ha},stdev(xa){return arguments.length?(Y=null==xa?1:xa,wa):Y},sample:()=>a(ha,Y),pdf:xa=>
e(xa,ha,Y),cdf:xa=>n(xa,ha,Y),icdf:xa=>x(xa,ha,Y)};return wa.mean(C).stdev(W)};m.randomMixture=function(C,W){let ha=0,Y;const wa={weights(xa){if(arguments.length){{var Ha=W=xa||[];const Za=[];let gb=0,ra;for(ra=0;ra<ha;++ra)gb+=Za[ra]=null==Ha[ra]?1:+Ha[ra];for(ra=0;ra<ha;++ra)Za[ra]/=gb;Y=Za}return wa}return W},distributions(xa){return arguments.length?(xa?(ha=xa.length,C=xa):(ha=0,C=[]),wa.weights(W)):C},sample(){const xa=m.random();let Ha=C[ha-1],Za=Y[0],gb=0;for(;gb<ha-1;Za+=Y[++gb])if(xa<Za){Ha=
C[gb];break}return Ha.sample()},pdf(xa){let Ha=0,Za=0;for(;Za<ha;++Za)Ha+=Y[Za]*C[Za].pdf(xa);return Ha},cdf(xa){let Ha=0,Za=0;for(;Za<ha;++Za)Ha+=Y[Za]*C[Za].cdf(xa);return Ha},icdf(){throw Error("Mixture icdf not supported.");}};return wa.distributions(C).weights(W)};m.randomNormal=f;m.randomUniform=function(C,W){let ha,Y;const wa={min(xa){return arguments.length?(ha=xa||0,wa):ha},max(xa){return arguments.length?(Y=null==xa?1:xa,wa):Y},sample:()=>z(ha,Y),pdf:xa=>B(xa,ha,Y),cdf:xa=>M(xa,ha,Y),icdf:xa=>
K(xa,ha,Y)};null==W&&(W=null==C?1:C,C=0);return wa.min(C).max(W)};m.regressionExp=function(C,W,ha){const [Y,,wa,xa]=y(C,W,ha);let Ha=0,Za=0,gb=0,ra=0,Pa=0,Ua,za,qa;E(C,W,ha,(Z,oa)=>{Ua=Y[Pa++];za=Math.log(oa);qa=Ua*oa;Ha+=(oa*za-Ha)/Pa;Za+=(qa-Za)/Pa;gb+=(qa*za-gb)/Pa;ra+=(Ua*qa-ra)/Pa});const [R,T]=D(Za/xa,Ha/xa,gb/xa,ra/xa),X=Z=>Math.exp(R+T*(Z-wa));return{coef:[Math.exp(R-T*wa),T],predict:X,rSquared:H(C,W,ha,xa,X)}};m.regressionLinear=Q;m.regressionLoess=function(C,W,ha,Y){const [wa,xa,Ha,Za]=
y(C,W,ha,!0);C=wa.length;W=Math.max(2,~~(Y*C));Y=new Float64Array(C);ha=new Float64Array(C);var gb=(new Float64Array(C)).fill(1);for(var ra=-1;2>=++ra;){var Pa=[0,W-1];for(let na=0;na<C;++na){var Ua=wa[na],za=Pa[0],qa=Pa[1],R=0,T=0,X=0,Z=0;let Aa=0;const ka=1/Math.abs(wa[Ua-wa[za]>wa[qa]-Ua?za:qa]-Ua||1);for(;za<=qa;++za){const Wa=wa[za],Ca=xa[za];var oa=Math.abs(Ua-Wa)*ka;const Da=(oa=1-oa*oa*oa)*oa*oa*gb[za];oa=Wa*Da;R+=Da;T+=oa;X+=Ca*Da;Z+=Ca*oa;Aa+=Wa*oa}const [Na,$a]=D(T/R,X/R,Z/R,Aa/R);Y[na]=
Na+$a*Ua;ha[na]=Math.abs(xa[na]-Y[na]);Ua=wa;qa=na+1;R=Pa;T=Ua[qa];X=R[0];Z=R[1]+1;if(!(Z>=Ua.length))for(;qa>X&&Ua[Z]-T<=T-Ua[X];)R[0]=++X,R[1]=Z,++Z}if(2===ra)break;Pa=l.median(ha);if(1E-12>Math.abs(Pa))break;for(let na=0,Aa,ka;na<C;++na)Aa=ha[na]/(6*Pa),gb[na]=1<=Aa?1E-12:(ka=1-Aa*Aa)*ka}C=wa.length;W=[];gb=ha=0;for(ra=[];ha<C;++ha)Pa=wa[ha]+Ha,ra[0]===Pa?ra[1]+=(Y[ha]-ra[1])/++gb:(gb=0,ra[1]+=Za,ra=[Pa,Y[ha]],W.push(ra));ra[1]+=Za;return Y=W};m.regressionLog=function(C,W,ha){let Y=0,wa=0,xa=0,
Ha=0,Za=0;E(C,W,ha,(Pa,Ua)=>{++Za;Pa=Math.log(Pa);Y+=(Pa-Y)/Za;wa+=(Ua-wa)/Za;xa+=(Pa*Ua-xa)/Za;Ha+=(Pa*Pa-Ha)/Za});const gb=D(Y,wa,xa,Ha),ra=Pa=>gb[0]+gb[1]*Math.log(Pa);return{coef:gb,predict:ra,rSquared:H(C,W,ha,wa,ra)}};m.regressionPoly=function(C,W,ha,Y){if(1===Y)return Q(C,W,ha);if(2===Y)return S(C,W,ha);const [wa,xa,Ha,Za]=y(C,W,ha);var gb=wa.length;const ra=[],Pa=[],Ua=Y+1;let za,qa,R,T;for(za=0;za<Ua;++za){for(R=qa=0;qa<gb;++qa)R+=Math.pow(wa[qa],za)*xa[qa];ra.push(R);T=new Float64Array(Ua);
for(Y=0;Y<Ua;++Y){for(R=qa=0;qa<gb;++qa)R+=Math.pow(wa[qa],za+Y);T[Y]=R}Pa.push(T)}Pa.push(ra);const X=ba(Pa);gb=Z=>{Z-=Ha;let oa=Za+X[0]+X[1]*Z+X[2]*Z*Z;for(za=3;za<Ua;++za)oa+=X[za]*Math.pow(Z,za);return oa};return{coef:ea(Ua,X,-Ha,Za),predict:gb,rSquared:H(C,W,ha,Za,gb)}};m.regressionPow=function(C,W,ha){let Y=0,wa=0,xa=0,Ha=0,Za=0,gb=0;E(C,W,ha,(Ua,za)=>{Ua=Math.log(Ua);const qa=Math.log(za);++gb;Y+=(Ua-Y)/gb;wa+=(qa-wa)/gb;xa+=(Ua*qa-xa)/gb;Ha+=(Ua*Ua-Ha)/gb;Za+=(za-Za)/gb});const ra=D(Y,wa,
xa,Ha),Pa=Ua=>ra[0]*Math.pow(Ua,ra[1]);ra[0]=Math.exp(ra[0]);return{coef:ra,predict:Pa,rSquared:H(C,W,ha,Za,Pa)}};m.regressionQuad=S;m.sampleCurve=function(C,W,ha,Y){ha=ha||25;Y=Math.max(ha,Y||200);var wa=Pa=>[Pa,C(Pa)],xa=W[0];const Ha=W[1],Za=Ha-xa;var gb=Za/Y;W=[[xa,C(xa)]];const ra=[];if(ha===Y){for(gb=1;gb<Y;++gb)W.push(wa(xa+gb/ha*Za));W.push([Ha,C(Ha)]);return W}ra.push([Ha,C(Ha)]);for(Y=ha;0<--Y;)ra.push(wa(xa+Y/ha*Za));ha=W[0];for(wa=ra[ra.length-1];wa;)xa=(ha[0]+wa[0])/2,xa=[xa,C(xa)],xa[0]-
ha[0]>=gb&&Math.abs(Math.atan2(wa[1]-ha[1],wa[0]-ha[0])-Math.atan2(xa[1]-ha[1],xa[0]-ha[0]))>N?ra.push(xa):(ha=wa,W.push(wa),ra.pop()),wa=ra[ra.length-1];return W};m.sampleLogNormal=a;m.sampleNormal=t;m.sampleUniform=z;m.setRandom=function(C){m.random=C};Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[30]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J,A(16),A(28),A(29),A(17),A(20)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-statistics d3-array vega-time".split(" "),l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.vega={},m.vega,m.vega,m.vega,m.d3,m.vega))})(this,function(m,l,u,G,L,w){function v(Ga){return ab=>{const qb=Ga.length;let Bb=1,Tb=String(Ga[0](ab));for(;Bb<qb;++Bb)Tb+="|"+Ga[Bb](ab);
return Tb}}function t(Ga){return Ga&&Ga.length?1===Ga.length?Ga[0]:v(Ga):function(){return""}}function k(Ga,ab){return qb=>l.extend({name:Ga,out:qb||Ga},hd,ab)}function g(Ga,ab){return Ga.idx-ab.idx}function d(Ga){const ab={};Ga.forEach(Bb=>ab[Bb.name]=Bb);const qb=Bb=>{Bb.req&&Bb.req.forEach(Tb=>{ab[Tb]||qb(ab[Tb]=Fd[Tb]())})};Ga.forEach(qb);return Object.values(ab).sort(g)}function f(){this.missing=this.valid=0;this._ops.forEach(Ga=>Ga.init(this))}function a(Ga,ab){null==Ga||""===Ga?++this.missing:
Ga===Ga&&(++this.valid,this._ops.forEach(qb=>qb.add(this,Ga,ab)))}function e(Ga,ab){null==Ga||""===Ga?--this.missing:Ga===Ga&&(--this.valid,this._ops.forEach(qb=>qb.rem(this,Ga,ab)))}function n(Ga){this._out.forEach(ab=>Ga[ab.out]=ab.value(this));return Ga}function x(Ga,ab){function qb(Eb){this._ops=Bb;this._out=Tb;this.cell=Eb;this.init()}ab=ab||l.identity;const Bb=d(Ga),Tb=Ga.slice().sort(g);qb.prototype.init=f;qb.prototype.add=a;qb.prototype.rem=e;qb.prototype.set=n;qb.prototype.get=ab;qb.fields=
Ga.map(Eb=>Eb.out);return qb}function z(Ga){this._key=Ga?l.field(Ga):u.tupleid;this.reset()}function B(Ga){u.Transform.call(this,null,Ga);this._adds=[];this._mods=[];this._mlen=this._alen=0;this._drop=!0;this._cross=!1;this._dims=[];this._dnames=[];this._measures=[];this._countOnly=!1;this._outputs=this._inputs=this._prev=this._counts=null}function M(Ga){u.Transform.call(this,null,Ga)}function K(Ga,ab,qb){let Bb=ab||[],Tb=qb||[],Eb={},rc=0;return{add:lc=>Tb.push(lc),remove:lc=>Eb[Ga(lc)]=++rc,size:()=>
Bb.length,data:(lc,kb)=>{rc&&(Bb=Bb.filter(vb=>!Eb[Ga(vb)]),Eb={},rc=0);kb&&lc&&Bb.sort(lc);Tb.length&&(Bb=lc?l.merge(lc,Bb,Tb.sort(lc)):Bb.concat(Tb),Tb=[]);return Bb}}}function D(Ga){u.Transform.call(this,[],Ga)}function y(Ga){u.Operator.call(this,null,E,Ga)}function E(Ga){return this.value&&!Ga.modified()?this.value:l.compare(Ga.fields,Ga.orders)}function H(Ga){u.Transform.call(this,null,Ga)}function Q(Ga){u.Transform.call(this,null,Ga)}function S(Ga,ab){var qb=Ga["function"];l.hasOwnProperty(Zb,
qb)||l.error("Unknown distribution function: "+qb);qb=Zb[qb]();for(const Bb in Ga)if("field"===Bb)qb.data((Ga.from||ab()).map(Ga[Bb]));else if("distributions"===Bb)qb[Bb](Ga[Bb].map(Tb=>S(Tb,ab)));else if("function"===typeof qb[Bb])qb[Bb](Ga[Bb]);return qb}function ea(Ga){u.Transform.call(this,null,Ga)}function ba(Ga){return()=>Ga.materialize(Ga.SOURCE).source}function fa(Ga,ab){return Ga?Ga.map((qb,Bb)=>ab[Bb]||l.accessorName(qb)):null}function ia(Ga,ab,qb){const Bb=[],Tb=ec=>ec(kb);let Eb,rc,lc,
kb,vb,Nb;if(null==ab)Bb.push(Ga.map(qb));else for(Eb={},rc=0,lc=Ga.length;rc<lc;++rc)kb=Ga[rc],vb=ab.map(Tb),Nb=Eb[vb],Nb||(Eb[vb]=Nb=[],Nb.dims=vb,Bb.push(Nb)),Nb.push(qb(kb));return Bb}function ca(Ga){u.Transform.call(this,null,Ga)}function N(Ga){u.Operator.call(this,null,C,Ga);this.modified(!0)}function C(Ga){const ab=Ga.expr;return this.value&&!Ga.modified("expr")?this.value:l.accessor(qb=>ab(qb,Ga),l.accessorFields(ab),l.accessorName(ab))}function W(Ga){u.Transform.call(this,[void 0,void 0],
Ga)}function ha(Ga,ab){u.Operator.call(this,Ga);this.parent=ab;this.count=0}function Y(Ga){u.Transform.call(this,{},Ga);this._keys=l.fastmap();const ab=this._targets=[];ab.active=0;ab.forEach=qb=>{for(let Bb=0,Tb=ab.active;Bb<Tb;++Bb)qb(ab[Bb],Bb,ab)}}function wa(Ga){u.Operator.call(this,null,xa,Ga)}function xa(Ga){return this.value&&!Ga.modified()?this.value:l.isArray(Ga.name)?l.array(Ga.name).map(ab=>l.field(ab)):l.field(Ga.name,Ga.as)}function Ha(Ga){u.Transform.call(this,l.fastmap(),Ga)}function Za(Ga){u.Transform.call(this,
[],Ga)}function gb(Ga){u.Transform.call(this,[],Ga)}function ra(Ga){u.Transform.call(this,null,Ga)}function Pa(Ga){u.Transform.call(this,[],Ga)}function Ua(Ga){u.Transform.call(this,[],Ga)}function za(Ga){var ab=Ga.method||xb.value;if(null==xb[ab])l.error("Unrecognized imputation method: "+ab);else{if(ab===xb.value){var qb=void 0!==Ga.value?Ga.value:0;return()=>qb}return xb[ab]}}function qa(Ga){const ab=Ga.field;return qb=>qb?ab(qb):NaN}function R(Ga,ab,qb,Bb){var Tb=Jb=>Jb(ec),Eb=[];Bb=Bb?Bb.slice():
[];var rc={},lc={},kb,vb;Bb.forEach((Jb,yc)=>rc[Jb]=yc+1);var Nb=0;for(vb=Ga.length;Nb<vb;++Nb){var ec=Ga[Nb];var tc=qb(ec);var uc=rc[tc]||(rc[tc]=Bb.push(tc));var Lc=(tc=ab?ab.map(Tb):qc)+"";(kb=lc[Lc])||(kb=lc[Lc]=[],Eb.push(kb),kb.values=tc);kb[uc-1]=ec}Eb.domain=Bb;return Eb}function T(Ga){B.call(this,Ga)}function X(Ga){u.Transform.call(this,null,Ga)}function Z(Ga){u.Operator.call(this,null,oa,Ga)}function oa(Ga){return this.value&&!Ga.modified()?this.value:l.key(Ga.fields,Ga.flat)}function na(Ga){u.Transform.call(this,
[],Ga);this._pending=null}function Aa(Ga){return Ga.modified("async")&&!(Ga.modified("values")||Ga.modified("url")||Ga.modified("format"))}function ka(Ga,ab,qb){qb.forEach(u.ingest);ab=ab.fork(ab.NO_FIELDS&ab.NO_SOURCE);ab.rem=Ga.value;Ga.value=ab.source=ab.add=qb;Ga._pending=null;ab.rem.length&&ab.clean(!0);return ab}function Na(Ga){u.Transform.call(this,{},Ga)}function $a(Ga){u.Operator.call(this,null,Wa,Ga)}function Wa(Ga){if(this.value&&!Ga.modified())return this.value;Ga=Ga.extents;const ab=
Ga.length;let qb=Infinity,Bb=-Infinity,Tb,Eb;for(Tb=0;Tb<ab;++Tb)Eb=Ga[Tb],Eb[0]<qb&&(qb=Eb[0]),Eb[1]>Bb&&(Bb=Eb[1]);return[qb,Bb]}function Ca(Ga){u.Operator.call(this,null,Da,Ga)}function Da(Ga){return this.value&&!Ga.modified()?this.value:Ga.values.reduce((ab,qb)=>ab.concat(qb),[])}function ma(Ga){u.Transform.call(this,null,Ga)}function Ea(Ga){B.call(this,Ga)}function Qa(Ga,ab){const qb=Ga.field,Bb=Ga.value,Tb=("count"===Ga.op?"__count__":Ga.op)||"sum",Eb=l.accessorFields(qb).concat(l.accessorFields(Bb)),
rc=yb(qb,Ga.limit||0,ab);ab.changed()&&Ga.set("__pivot__",null,null,!0);return{key:Ga.key,groupby:Ga.groupby,ops:rc.map(()=>Tb),fields:rc.map(lc=>eb(lc,qb,Bb,Eb)),as:rc.map(lc=>lc+""),modified:Ga.modified.bind(Ga)}}function eb(Ga,ab,qb,Bb){return l.accessor(Tb=>ab(Tb)===Ga?qb(Tb):NaN,Bb,Ga+"")}function yb(Ga,ab,qb){const Bb={},Tb=[];qb.visit(qb.SOURCE,Eb=>{Eb=Ga(Eb);Bb[Eb]||(Bb[Eb]=1,Tb.push(Eb))});Tb.sort(l.ascending);return ab?Tb.slice(0,ab):Tb}function Qb(Ga){Y.call(this,Ga)}function fc(Ga){u.Transform.call(this,
null,Ga)}function ad(Ga){u.Transform.call(this,null,Ga)}function ic(Ga){u.Transform.call(this,null,Ga)}function xc(Ga){u.Transform.call(this,null,Ga)}function ib(Ga){u.Transform.call(this,[],Ga);this.count=0}function $b(Ga){u.Transform.call(this,null,Ga)}function bc(Ga){u.Transform.call(this,null,Ga);this.modified(!0)}function kc(Ga){u.Transform.call(this,null,Ga)}function Ec(Ga){u.Transform.call(this,l.fastmap(),Ga)}function jc(Ga){u.Transform.call(this,null,Ga)}function Oc(Ga,ab,qb,Bb){const Tb=
qd[Ga](ab,qb);return{init:Tb.init||l.zero,update:function(Eb,rc){rc[Bb]=Tb.next(Eb)}}}function Hc(Ga){function ab(uc){l.array(l.accessorFields(uc)).forEach(Lc=>kb[Lc]=1)}const qb=l.array(Ga.ops),Bb=l.array(Ga.fields),Tb=l.array(Ga.params),Eb=l.array(Ga.as),rc=this.outputs=[],lc=this.windows=[],kb={},vb={},Nb=[],ec=[];let tc=!0;ab(Ga.sort);qb.forEach((uc,Lc)=>{const Jb=Bb[Lc],yc=l.accessorName(Jb),vc=Eb[Lc]||uc+(yc?"_"+yc:"");ab(Jb);rc.push(vc);l.hasOwnProperty(qd,uc)?lc.push(Oc(uc,Bb[Lc],Tb[Lc],vc)):
(null==Jb&&"count"!==uc&&l.error("Null aggregate field specified."),"count"===uc?Nb.push(vc):(tc=!1,Lc=vb[yc],Lc||(Lc=vb[yc]=[],Lc.field=Jb,ec.push(Lc)),Lc.push(Fd[uc](vc))))});if(Nb.length||ec.length)this.cell=Bc(ec,Nb,tc);this.inputs=Object.keys(kb)}function Bc(Ga,ab,qb){Ga=Ga.map(kb=>x(kb,kb.field));const Bb={num:0,agg:null,store:!1,count:ab};if(!qb)for(var Tb=Ga.length,Eb=Bb.agg=Array(Tb),rc=0;rc<Tb;++rc)Eb[rc]=new Ga[rc](Bb);if(Bb.store)var lc=Bb.data=new z;Bb.add=function(kb){Bb.num+=1;if(!qb){lc&&
lc.add(kb);for(let vb=0;vb<Tb;++vb)Eb[vb].add(Eb[vb].get(kb),kb)}};Bb.rem=function(kb){--Bb.num;if(!qb){lc&&lc.rem(kb);for(let vb=0;vb<Tb;++vb)Eb[vb].rem(Eb[vb].get(kb),kb)}};Bb.set=function(kb){let vb,Nb;lc&&lc.values();vb=0;for(Nb=ab.length;vb<Nb;++vb)kb[ab[vb]]=Bb.num;if(!qb)for(vb=0,Nb=Eb.length;vb<Nb;++vb)Eb[vb].set(kb)};Bb.init=function(){Bb.num=0;lc&&lc.reset();for(let kb=0;kb<Tb;++kb)Eb[kb].init()};return Bb}function td(Ga){u.Transform.call(this,{},Ga);this._mlen=0;this._mods=[]}function Qd(Ga,
ab,qb,Bb){var Tb=Bb.sort;const Eb=Tb&&!Bb.ignorePeers;Bb=Bb.frame||[null,0];Ga=Ga.data(qb);qb=Ga.length;const rc=Eb?L.bisector(Tb):null;Tb={i0:0,i1:0,p0:0,p1:0,index:0,data:Ga,compare:Tb||l.constant(-1)};ab.init();for(let ec=0;ec<qb;++ec){var lc=Tb,kb=Bb,vb=ec,Nb=qb;lc.p0=lc.i0;lc.p1=lc.i1;lc.i0=null==kb[0]?0:Math.max(0,vb-Math.abs(kb[0]));lc.i1=null==kb[1]?Nb:Math.min(Nb,vb+Math.abs(kb[1])+1);lc.index=vb;if(Eb){{lc=Tb;kb=rc;vb=lc.i0;Nb=lc.i1-1;const tc=lc.compare,uc=lc.data,Lc=uc.length-1;0<vb&&
!tc(uc[vb],uc[vb-1])&&(lc.i0=kb.left(uc,uc[vb]));Nb<Lc&&!tc(uc[Nb],uc[Nb+1])&&(lc.i1=kb.right(uc,uc[Nb]))}}ab.update(Tb,Ga[ec])}}var jd=()=>{};const hd={init:jd,add:jd,rem:jd,idx:0},Fd={values:{init:Ga=>Ga.cell.store=!0,value:Ga=>Ga.cell.data.values(),idx:-1},count:{value:Ga=>Ga.cell.num},__count__:{value:Ga=>Ga.missing+Ga.valid},missing:{value:Ga=>Ga.missing},valid:{value:Ga=>Ga.valid},sum:{init:Ga=>Ga.sum=0,value:Ga=>Ga.sum,add:(Ga,ab)=>Ga.sum+=+ab,rem:(Ga,ab)=>Ga.sum-=ab},product:{init:Ga=>Ga.product=
1,value:Ga=>Ga.valid?Ga.product:void 0,add:(Ga,ab)=>Ga.product*=ab,rem:(Ga,ab)=>Ga.product/=ab},mean:{init:Ga=>Ga.mean=0,value:Ga=>Ga.valid?Ga.mean:void 0,add:(Ga,ab)=>(Ga.mean_d=ab-Ga.mean,Ga.mean+=Ga.mean_d/Ga.valid),rem:(Ga,ab)=>(Ga.mean_d=ab-Ga.mean,Ga.mean-=Ga.valid?Ga.mean_d/Ga.valid:Ga.mean)},average:{value:Ga=>Ga.valid?Ga.mean:void 0,req:["mean"],idx:1},variance:{init:Ga=>Ga.dev=0,value:Ga=>1<Ga.valid?Ga.dev/(Ga.valid-1):void 0,add:(Ga,ab)=>Ga.dev+=Ga.mean_d*(ab-Ga.mean),rem:(Ga,ab)=>Ga.dev-=
Ga.mean_d*(ab-Ga.mean),req:["mean"],idx:1},variancep:{value:Ga=>1<Ga.valid?Ga.dev/Ga.valid:void 0,req:["variance"],idx:2},stdev:{value:Ga=>1<Ga.valid?Math.sqrt(Ga.dev/(Ga.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:Ga=>1<Ga.valid?Math.sqrt(Ga.dev/Ga.valid):void 0,req:["variance"],idx:2},stderr:{value:Ga=>1<Ga.valid?Math.sqrt(Ga.dev/(Ga.valid*(Ga.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:Ga=>Ga.cell.data.distinct(Ga.get),req:["values"],idx:3},ci0:{value:Ga=>Ga.cell.data.ci0(Ga.get),
req:["values"],idx:3},ci1:{value:Ga=>Ga.cell.data.ci1(Ga.get),req:["values"],idx:3},median:{value:Ga=>Ga.cell.data.q2(Ga.get),req:["values"],idx:3},q1:{value:Ga=>Ga.cell.data.q1(Ga.get),req:["values"],idx:3},q3:{value:Ga=>Ga.cell.data.q3(Ga.get),req:["values"],idx:3},min:{init:Ga=>Ga.min=void 0,value:Ga=>Ga.min=Number.isNaN(Ga.min)?Ga.cell.data.min(Ga.get):Ga.min,add:(Ga,ab)=>{if(ab<Ga.min||void 0===Ga.min)Ga.min=ab},rem:(Ga,ab)=>{ab<=Ga.min&&(Ga.min=NaN)},req:["values"],idx:4},max:{init:Ga=>Ga.max=
void 0,value:Ga=>Ga.max=Number.isNaN(Ga.max)?Ga.cell.data.max(Ga.get):Ga.max,add:(Ga,ab)=>{if(ab>Ga.max||void 0===Ga.max)Ga.max=ab},rem:(Ga,ab)=>{ab>=Ga.max&&(Ga.max=NaN)},req:["values"],idx:4},argmin:{init:Ga=>Ga.argmin=void 0,value:Ga=>Ga.argmin||Ga.cell.data.argmin(Ga.get),add:(Ga,ab,qb)=>{ab<Ga.min&&(Ga.argmin=qb)},rem:(Ga,ab)=>{ab<=Ga.min&&(Ga.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:Ga=>Ga.argmax=void 0,value:Ga=>Ga.argmax||Ga.cell.data.argmax(Ga.get),add:(Ga,ab,qb)=>{ab>Ga.max&&
(Ga.argmax=qb)},rem:(Ga,ab)=>{ab>=Ga.max&&(Ga.argmax=void 0)},req:["max","values"],idx:3}};jd=Object.keys(Fd);jd.forEach(Ga=>{Fd[Ga]=k(Ga,Fd[Ga])});var Ib=z.prototype;Ib.reset=function(){this._add=[];this._rem=[];this._q=this._get=this._ext=null};Ib.add=function(Ga){this._add.push(Ga)};Ib.rem=function(Ga){this._rem.push(Ga)};Ib.values=function(){this._get=null;if(0===this._rem.length)return this._add;const Ga=this._add;var ab=this._rem;const qb=this._key,Bb=Ga.length,Tb=ab.length,Eb=Array(Bb-Tb),
rc={};let lc,kb;for(lc=0;lc<Tb;++lc)rc[qb(ab[lc])]=1;for(ab=lc=0;lc<Bb;++lc)rc[qb(kb=Ga[lc])]?rc[qb(kb)]=0:Eb[ab++]=kb;this._rem=[];return this._add=Eb};Ib.distinct=function(Ga){const ab=this.values(),qb={};let Bb=ab.length,Tb=0,Eb;for(;0<=--Bb;)Eb=Ga(ab[Bb])+"",l.hasOwnProperty(qb,Eb)||(qb[Eb]=1,++Tb);return Tb};Ib.extent=function(Ga){if(this._get!==Ga||!this._ext){const ab=this.values(),qb=l.extentIndex(ab,Ga);this._ext=[ab[qb[0]],ab[qb[1]]];this._get=Ga}return this._ext};Ib.argmin=function(Ga){return this.extent(Ga)[0]||
{}};Ib.argmax=function(Ga){return this.extent(Ga)[1]||{}};Ib.min=function(Ga){const ab=this.extent(Ga)[0];return null!=ab?Ga(ab):void 0};Ib.max=function(Ga){const ab=this.extent(Ga)[1];return null!=ab?Ga(ab):void 0};Ib.quartile=function(Ga){this._get===Ga&&this._q||(this._q=G.quartiles(this.values(),Ga),this._get=Ga);return this._q};Ib.q1=function(Ga){return this.quartile(Ga)[0]};Ib.q2=function(Ga){return this.quartile(Ga)[1]};Ib.q3=function(Ga){return this.quartile(Ga)[2]};Ib.ci=function(Ga){this._get===
Ga&&this._ci||(this._ci=G.bootstrapCI(this.values(),1E3,.05,Ga),this._get=Ga);return this._ci};Ib.ci0=function(Ga){return this.ci(Ga)[0]};Ib.ci1=function(Ga){return this.ci(Ga)[1]};B.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:jd},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"drop",type:"boolean","default":!0},{name:"cross",type:"boolean",
"default":!1},{name:"key",type:"field"}]};l.inherits(B,u.Transform,{transform(Ga,ab){const qb=this,Bb=ab.fork(ab.NO_SOURCE|ab.NO_FIELDS),Tb=Ga.modified();qb.stamp=Bb.stamp;qb.value&&(Tb||ab.modified(qb._inputs,!0))?(qb._prev=qb.value,qb.value=Tb?qb.init(Ga):{},ab.visit(ab.SOURCE,Eb=>qb.add(Eb))):(qb.value=qb.value||qb.init(Ga),ab.visit(ab.REM,Eb=>qb.rem(Eb)),ab.visit(ab.ADD,Eb=>qb.add(Eb)));Bb.modifies(qb._outputs);qb._drop=!1!==Ga.drop;Ga.cross&&1<qb._dims.length&&(qb._drop=!1,qb.cross());ab.clean()&&
qb._drop&&Bb.clean(!0).runAfter(()=>this.clean());return qb.changes(Bb)},cross(){function Ga(lc){let kb,vb,Nb,ec;for(kb in lc)for(Nb=lc[kb].tuple,vb=0;vb<rc;++vb)Eb[vb][ec=Nb[Tb[vb]]]=ec}function ab(lc,kb,vb){const Nb=Tb[vb],ec=Eb[vb++];for(const tc in ec){const uc=lc?lc+"|"+tc:tc;kb[Nb]=ec[tc];vb<rc?ab(uc,kb,vb):Bb[uc]||qb.cell(uc,kb)}}const qb=this,Bb=qb.value,Tb=qb._dnames,Eb=Tb.map(()=>({})),rc=Tb.length;Ga(qb._prev);Ga(Bb);ab("",{},0)},init(Ga){function ab(Jb){Jb=l.array(l.accessorFields(Jb));
const yc=Jb.length;let vc=0,mc;for(;vc<yc;++vc)Tb[mc=Jb[vc]]||(Tb[mc]=1,qb.push(mc))}const qb=this._inputs=[],Bb=this._outputs=[],Tb={};this._dims=l.array(Ga.groupby);this._dnames=this._dims.map(Jb=>{const yc=l.accessorName(Jb);ab(Jb);Bb.push(yc);return yc});this.cellkey=Ga.key?Ga.key:t(this._dims);this._countOnly=!0;this._counts=[];this._measures=[];const Eb=Ga.fields||[null],rc=Ga.ops||["count"];Ga=Ga.as||[];const lc=Eb.length,kb={};let vb,Nb,ec,tc,uc,Lc;lc!==rc.length&&l.error("Unmatched number of fields and aggregate ops.");
for(Lc=0;Lc<lc;++Lc)vb=Eb[Lc],Nb=rc[Lc],null==vb&&"count"!==Nb&&l.error("Null aggregate field specified."),tc=l.accessorName(vb),uc=Ga[Lc]||Nb+(tc?"_"+tc:""),Bb.push(uc),"count"===Nb?this._counts.push(uc):(ec=kb[tc],ec||(ab(vb),ec=kb[tc]=[],ec.field=vb,this._measures.push(ec)),"count"!==Nb&&(this._countOnly=!1),ec.push(Fd[Nb](uc)));this._measures=this._measures.map(Jb=>x(Jb,Jb.field));return{}},cellkey:t(),cell(Ga,ab){let qb=this.value[Ga];qb?0===qb.num&&this._drop&&qb.stamp<this.stamp?(qb.stamp=
this.stamp,this._adds[this._alen++]=qb):qb.stamp<this.stamp&&(qb.stamp=this.stamp,this._mods[this._mlen++]=qb):(qb=this.value[Ga]=this.newcell(Ga,ab),this._adds[this._alen++]=qb);return qb},newcell(Ga,ab){Ga={key:Ga,num:0,agg:null,tuple:this.newtuple(ab,this._prev&&this._prev[Ga]),stamp:this.stamp,store:!1};if(!this._countOnly){ab=this._measures;const qb=ab.length;Ga.agg=Array(qb);for(let Bb=0;Bb<qb;++Bb)Ga.agg[Bb]=new ab[Bb](Ga)}Ga.store&&(Ga.data=new z);return Ga},newtuple(Ga,ab){const qb=this._dnames,
Bb=this._dims,Tb=Bb.length,Eb={};for(let rc=0;rc<Tb;++rc)Eb[qb[rc]]=Bb[rc](Ga);return ab?u.replace(ab.tuple,Eb):u.ingest(Eb)},clean(){const Ga=this.value;for(const ab in Ga)0===Ga[ab].num&&delete Ga[ab]},add(Ga){var ab=this.cellkey(Ga);ab=this.cell(ab,Ga);ab.num+=1;if(!this._countOnly){ab.store&&ab.data.add(Ga);ab=ab.agg;for(let qb=0,Bb=ab.length;qb<Bb;++qb)ab[qb].add(ab[qb].get(Ga),Ga)}},rem(Ga){var ab=this.cellkey(Ga);ab=this.cell(ab,Ga);--ab.num;if(!this._countOnly){ab.store&&ab.data.rem(Ga);ab=
ab.agg;for(let qb=0,Bb=ab.length;qb<Bb;++qb)ab[qb].rem(ab[qb].get(Ga),Ga)}},celltuple(Ga){const ab=Ga.tuple,qb=this._counts;Ga.store&&Ga.data.values();for(let Bb=0,Tb=qb.length;Bb<Tb;++Bb)ab[qb[Bb]]=Ga.num;if(!this._countOnly){Ga=Ga.agg;for(let Bb=0,Tb=Ga.length;Bb<Tb;++Bb)Ga[Bb].set(ab)}return ab},changes(Ga){const ab=this._adds,qb=this._mods;var Bb=this._prev;const Tb=this._drop,Eb=Ga.add,rc=Ga.rem,lc=Ga.mod;let kb;var vb;if(Bb)for(vb in Bb)kb=Bb[vb],Tb&&!kb.num||rc.push(kb.tuple);Bb=0;for(vb=this._alen;Bb<
vb;++Bb)Eb.push(this.celltuple(ab[Bb])),ab[Bb]=null;Bb=0;for(vb=this._mlen;Bb<vb;++Bb)kb=qb[Bb],(0===kb.num&&Tb?rc:lc).push(this.celltuple(kb)),qb[Bb]=null;this._alen=this._mlen=0;this._prev=null;return Ga}});M.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number","default":20},{name:"base",type:"number","default":10},{name:"divide",type:"number",array:!0,
"default":[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number","default":0},{name:"nice",type:"boolean","default":!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,"default":["bin0","bin1"]}]};l.inherits(M,u.Transform,{transform(Ga,ab){const qb=!1!==Ga.interval,Bb=this._bins(Ga),Tb=Bb.start,Eb=Bb.step,rc=Ga.as||["bin0","bin1"],lc=rc[0],
kb=rc[1];Ga.modified()?(ab=ab.reflow(!0),Ga=ab.SOURCE):Ga=ab.modified(l.accessorFields(Ga.field))?ab.ADD_MOD:ab.ADD;ab.visit(Ga,qb?vb=>{const Nb=Bb(vb);vb[lc]=Nb;vb[kb]=null==Nb?null:Tb+Eb*(1+(Nb-Tb)/Eb)}:vb=>vb[lc]=Bb(vb));return ab.modifies(qb?rc:lc)},_bins(Ga){if(this.value&&!Ga.modified())return this.value;const ab=Ga.field,qb=G.bin(Ga),Bb=qb.step;let Tb=qb.start,Eb=Tb+Math.ceil((qb.stop-Tb)/Bb)*Bb;var rc;null!=(rc=Ga.anchor)&&(rc-=Tb+Bb*Math.floor((rc-Tb)/Bb),Tb+=rc,Eb+=rc);rc=function(lc){lc=
l.toNumber(ab(lc));return null==lc?null:lc<Tb?-Infinity:lc>Eb?Infinity:(lc=Math.max(Tb,Math.min(lc,Eb-Bb)),Tb+Bb*Math.floor(1E-14+(lc-Tb)/Bb))};rc.start=Tb;rc.stop=qb.stop;rc.step=Bb;return this.value=l.accessor(rc,l.accessorFields(ab),Ga.name||"bin_"+l.accessorName(ab))}});D.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};l.inherits(D,u.Transform,{transform(Ga,ab){const qb=ab.fork(ab.ALL),Bb=K(u.tupleid,this.value,qb.materialize(qb.ADD).add),Tb=Ga.sort;Ga=ab.changed()||
Tb&&(Ga.modified("sort")||ab.modified(Tb.fields));qb.visit(qb.REM,Bb.remove);this.modified(Ga);this.value=qb.source=Bb.data(u.stableCompare(Tb),Ga);ab.source&&ab.source.root&&(this.value.root=ab.source.root);return qb}});l.inherits(y,u.Operator);H.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],"default":"mixed"},{name:"pattern",type:"string","default":'[\\w"]+'},{name:"stopwords",
type:"string","default":""},{name:"as",type:"string",array:!0,length:2,"default":["text","count"]}]};l.inherits(H,u.Transform,{transform(Ga,ab){var qb=Nb=>ec=>{ec=lc(ec);var tc=Eb;switch(Ga.case){case "upper":ec=ec.toUpperCase();break;case "lower":ec=ec.toLowerCase()}ec=ec.match(tc)||[];var uc;tc=0;for(var Lc=ec.length;tc<Lc;++tc)rc.test(uc=ec[tc])||Nb(uc)};const Bb=this._parameterCheck(Ga,ab),Tb=this._counts,Eb=this._match,rc=this._stop,lc=Ga.field,kb=Ga.as||["text","count"],vb=qb(Nb=>Tb[Nb]=1+(Tb[Nb]||
0));qb=qb(Nb=>--Tb[Nb]);Bb?ab.visit(ab.SOURCE,vb):(ab.visit(ab.ADD,vb),ab.visit(ab.REM,qb));return this._finish(ab,kb)},_parameterCheck(Ga,ab){let qb=!1;if(Ga.modified("stopwords")||!this._stop)this._stop=new RegExp("^"+(Ga.stopwords||"")+"$","i"),qb=!0;if(Ga.modified("pattern")||!this._match)this._match=new RegExp(Ga.pattern||"[\\w']+","g"),qb=!0;if(Ga.modified("field")||ab.modified(Ga.field.fields))qb=!0;qb&&(this._counts={});return qb},_finish(Ga,ab){const qb=this._counts,Bb=this._tuples||(this._tuples=
{}),Tb=ab[0],Eb=ab[1];Ga=Ga.fork(Ga.NO_SOURCE|Ga.NO_FIELDS);let rc,lc,kb;for(rc in qb)lc=Bb[rc],kb=qb[rc]||0,!lc&&kb?(Bb[rc]=lc=u.ingest({}),lc[Tb]=rc,lc[Eb]=kb,Ga.add.push(lc)):0===kb?(lc&&Ga.rem.push(lc),qb[rc]=null,Bb[rc]=null):lc[Eb]!==kb&&(lc[Eb]=kb,Ga.mod.push(lc));return Ga.modifies(ab)}});Q.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,"default":["a","b"]}]};l.inherits(Q,u.Transform,{transform(Ga,ab){const qb=
ab.fork(ab.NO_SOURCE),Bb=Ga.as||["a","b"],Tb=Bb[0],Eb=Bb[1];var rc=!this.value||ab.changed(ab.ADD_REM)||Ga.modified("as")||Ga.modified("filter"),lc=this.value;if(rc){lc&&(qb.rem=lc);ab=lc=ab.materialize(ab.SOURCE).source;Ga=Ga.filter||l.truthy;rc=[];lc={};for(var kb=ab.length,vb=0,Nb,ec;vb<kb;++vb)for(lc[Tb]=ec=ab[vb],Nb=0;Nb<kb;++Nb)lc[Eb]=ab[Nb],Ga(lc)&&(rc.push(u.ingest(lc)),lc={},lc[Tb]=ec);qb.add=this.value=rc}else qb.mod=lc;qb.source=this.value;return qb.modifies(Bb)}});const Zb={kde:G.randomKDE,
mixture:G.randomMixture,normal:G.randomNormal,lognormal:G.randomLogNormal,uniform:G.randomUniform};Ib=[{key:{"function":"normal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"lognormal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"uniform"},params:[{name:"min",type:"number","default":0},{name:"max",type:"number","default":1}]},{key:{"function":"kde"},params:[{name:"field",
type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number","default":0}]}];ea.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"method",type:"string","default":"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:Ib.concat({key:{"function":"mixture"},params:[{name:"distributions",
type:"param",array:!0,params:Ib},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,"default":["value","density"]}]};l.inherits(ea,u.Transform,{transform(Ga,ab){const qb=ab.fork(ab.NO_SOURCE|ab.NO_FIELDS);if(!this.value||ab.changed()||Ga.modified()){const Bb=S(Ga.distribution,ba(ab));ab=Ga.steps||Ga.minsteps||25;const Tb=Ga.steps||Ga.maxsteps||200;let Eb=Ga.method||"pdf";"pdf"!==Eb&&"cdf"!==Eb&&l.error("Invalid density method: "+Eb);Ga.extent||Bb.data||l.error("Missing density extent parameter.");
Eb=Bb[Eb];const rc=Ga.as||["value","density"];Ga=Ga.extent||l.extent(Bb.data());Ga=G.sampleCurve(Eb,Ga,ab,Tb).map(lc=>{const kb={};kb[rc[0]]=lc[0];kb[rc[1]]=lc[1];return u.ingest(kb)});this.value&&(qb.rem=this.value);this.value=qb.add=qb.source=Ga}return qb}});ca.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean","default":!1},{name:"as",type:"string","default":"bin"}]};
l.inherits(ca,u.Transform,{transform(Ga,ab){if(this.value&&!Ga.modified()&&!ab.changed())return ab;var qb=ab.materialize(ab.SOURCE).source;const Bb=ia(ab.source,Ga.groupby,l.identity),Tb=Ga.smooth||!1,Eb=Ga.field;qb=Ga.step||l.span(l.extent(qb,Eb))/30;const rc=u.stableCompare((tc,uc)=>Eb(tc)-Eb(uc));Ga=Ga.as||"bin";const lc=Bb.length;let kb=Infinity,vb=-Infinity,Nb=0,ec;for(;Nb<lc;++Nb){const tc=Bb[Nb].sort(rc);ec=-1;for(const uc of G.dotbin(tc,qb,Tb,Eb))uc<kb&&(kb=uc),uc>vb&&(vb=uc),tc[++ec][Ga]=
uc}this.value={start:kb,stop:vb,step:qb};return ab.reflow(!0).modifies(Ga)}});l.inherits(N,u.Operator);W.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};l.inherits(W,u.Transform,{transform(Ga,ab){var qb=this.value;const Bb=Ga.field;Ga=ab.changed()||ab.modified(Bb.fields)||Ga.modified("field");let Tb=qb[0],Eb=qb[1];if(Ga||null==Tb)Tb=Infinity,Eb=-Infinity;ab.visit(Ga?ab.SOURCE:ab.ADD,rc=>{rc=l.toNumber(Bb(rc));null!=rc&&(rc<Tb&&(Tb=rc),rc>Eb&&(Eb=rc))});Number.isFinite(Tb)&&
Number.isFinite(Eb)||((qb=l.accessorName(Bb))&&(qb=` for field "${qb}"`),ab.dataflow.warn(`Infinite extent${qb}: [${Tb}, ${Eb}]`),Tb=Eb=void 0);this.value=[Tb,Eb]}});l.inherits(ha,u.Operator,{connect(Ga){this.detachSubflow=Ga.detachSubflow;this.targets().add(Ga);return Ga.source=this},add(Ga){this.count+=1;this.value.add.push(Ga)},rem(Ga){--this.count;this.value.rem.push(Ga)},mod(Ga){this.value.mod.push(Ga)},init(Ga){this.value.init(Ga,Ga.NO_SOURCE)},evaluate(){return this.value}});l.inherits(Y,u.Transform,
{activate(Ga){this._targets[this._targets.active++]=Ga},subflow(Ga,ab,qb,Bb){const Tb=this.value;let Eb=l.hasOwnProperty(Tb,Ga)&&Tb[Ga],rc;Eb?Eb.value.stamp<qb.stamp&&(Eb.init(qb),this.activate(Eb)):(rc=Bb||(rc=this._group[Ga])&&rc.tuple,Bb=qb.dataflow,Eb=new ha(qb.fork(qb.NO_SOURCE),this),Bb.add(Eb).connect(ab(Bb,Ga,rc)),Tb[Ga]=Eb,this.activate(Eb));return Eb},clean(){const Ga=this.value;for(const ab in Ga)if(0===Ga[ab].count){const qb=Ga[ab].detachSubflow;qb&&qb();delete Ga[ab]}},initTargets(){const Ga=
this._targets,ab=Ga.length;for(let qb=0;qb<ab&&null!=Ga[qb];++qb)Ga[qb]=null;Ga.active=0},transform(Ga,ab){const qb=ab.dataflow,Bb=Ga.key,Tb=Ga.subflow,Eb=this._keys,rc=Ga.modified("key"),lc=kb=>this.subflow(kb,Tb,ab);this._group=Ga.group||{};this.initTargets();ab.visit(ab.REM,kb=>{const vb=u.tupleid(kb),Nb=Eb.get(vb);void 0!==Nb&&(Eb.delete(vb),lc(Nb).rem(kb))});ab.visit(ab.ADD,kb=>{const vb=Bb(kb);Eb.set(u.tupleid(kb),vb);lc(vb).add(kb)});rc||ab.modified(Bb.fields)?ab.visit(ab.MOD,kb=>{const vb=
u.tupleid(kb),Nb=Eb.get(vb),ec=Bb(kb);Nb===ec?lc(ec).mod(kb):(Eb.set(vb,ec),lc(Nb).rem(kb),lc(ec).add(kb))}):ab.changed(ab.MOD)&&ab.visit(ab.MOD,kb=>{lc(Eb.get(u.tupleid(kb))).mod(kb)});rc&&ab.visit(ab.REFLOW,kb=>{const vb=u.tupleid(kb),Nb=Eb.get(vb),ec=Bb(kb);Nb!==ec&&(Eb.set(vb,ec),lc(Nb).rem(kb),lc(ec).add(kb))});ab.clean()?qb.runAfter(()=>{this.clean();Eb.clean()}):Eb.empty>qb.cleanThreshold&&qb.runAfter(Eb.clean);return ab}});l.inherits(wa,u.Operator);Ha.Definition={type:"Filter",metadata:{changes:!0},
params:[{name:"expr",type:"expr",required:!0}]};l.inherits(Ha,u.Transform,{transform(Ga,ab){function qb(ec){const tc=u.tupleid(ec),uc=vb(ec,Ga),Lc=Tb.get(tc);uc&&Lc?(Tb.delete(tc),rc.push(ec)):uc||Lc?Nb&&uc&&!Lc&&kb.push(ec):(Tb.set(tc,1),lc.push(ec))}const Bb=ab.dataflow,Tb=this.value,Eb=ab.fork(),rc=Eb.add,lc=Eb.rem,kb=Eb.mod,vb=Ga.expr;let Nb=!0;ab.visit(ab.REM,ec=>{const tc=u.tupleid(ec);Tb.has(tc)?Tb.delete(tc):lc.push(ec)});ab.visit(ab.ADD,ec=>{vb(ec,Ga)?rc.push(ec):Tb.set(u.tupleid(ec),1)});
ab.visit(ab.MOD,qb);Ga.modified()&&(Nb=!1,ab.visit(ab.REFLOW,qb));Tb.empty>Bb.cleanThreshold&&Bb.runAfter(Tb.clean);return Eb}});Za.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};l.inherits(Za,u.Transform,{transform(Ga,ab){const qb=ab.fork(ab.NO_SOURCE),Bb=Ga.fields,Tb=fa(Bb,Ga.as||[]),Eb=Ga.index||null,rc=Tb.length;qb.rem=this.value;ab.visit(ab.SOURCE,lc=>{const kb=Bb.map(Lc=>
Lc(lc)),vb=kb.reduce((Lc,Jb)=>Math.max(Lc,Jb.length),0);let Nb=0,ec,tc,uc;for(;Nb<vb;++Nb){tc=u.derive(lc);for(ec=0;ec<rc;++ec)tc[Tb[ec]]=null==(uc=kb[ec][Nb])?null:uc;Eb&&(tc[Eb]=Nb);qb.add.push(tc)}});this.value=qb.source=qb.add;Eb&&qb.modifies(Eb);return qb.modifies(Tb)}});gb.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,"default":["key","value"]}]};l.inherits(gb,u.Transform,{transform(Ga,ab){const qb=
ab.fork(ab.NO_SOURCE),Bb=Ga.fields,Tb=Bb.map(l.accessorName);Ga=Ga.as||["key","value"];const Eb=Ga[0],rc=Ga[1],lc=Bb.length;qb.rem=this.value;ab.visit(ab.SOURCE,kb=>{for(let vb=0,Nb;vb<lc;++vb)Nb=u.derive(kb),Nb[Eb]=Tb[vb],Nb[rc]=Bb[vb](kb),qb.add.push(Nb)});this.value=qb.source=qb.add;return qb.modifies(Ga)}});ra.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};l.inherits(ra,u.Transform,
{transform(Ga,ab){const qb=Ga.expr,Bb=Ga.as,Tb=Ga.modified(),Eb=Ga.initonly?ab.ADD:Tb?ab.SOURCE:ab.modified(qb.fields)||ab.modified(Bb)?ab.ADD_MOD:ab.ADD;Tb&&(ab=ab.materialize().reflow(!0));Ga.initonly||ab.modifies(Bb);return ab.visit(Eb,rc=>rc[Bb]=qb(rc,Ga))}});l.inherits(Pa,u.Transform,{transform(Ga,ab){ab=ab.fork(ab.ALL);const qb=Ga.generator;let Bb=this.value,Tb=Ga.size-Bb.length,Eb,rc;if(0<Tb){for(Eb=[];0<=--Tb;)Eb.push(rc=u.ingest(qb(Ga))),Bb.push(rc);ab.add=ab.add.length?ab.materialize(ab.ADD).add.concat(Eb):
Eb}else Ga=Bb.slice(0,-Tb),ab.rem=ab.rem.length?ab.materialize(ab.REM).rem.concat(Ga):Ga,Bb=Bb.slice(-Tb);ab.source=this.value=Bb;return ab}});const xb={value:"value",median:L.median,mean:L.mean,min:L.min,max:L.max},qc=[];Ua.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum","default":"value",values:["value","mean","median",
"max","min"]},{name:"value","default":0}]};l.inherits(Ua,u.Transform,{transform(Ga,ab){var qb=ab.fork(ab.ALL),Bb=za(Ga),Tb=qa(Ga),Eb=l.accessorName(Ga.field),rc=l.accessorName(Ga.key),lc=(Ga.groupby||[]).map(l.accessorName);Ga=R(ab.source,Ga.groupby,Ga.key,Ga.keyvals);ab=[];var kb=this.value,vb=Ga.domain.length,Nb,ec,tc;var uc=0;for(ec=Ga.length;uc<ec;++uc){var Lc=Ga[uc];var Jb=Lc.values;var yc=NaN;for(Nb=0;Nb<vb;++Nb)if(null==Lc[Nb]){var vc=Ga.domain[Nb];var mc={_impute:!0};var Kc=0;for(tc=Jb.length;Kc<
tc;++Kc)mc[lc[Kc]]=Jb[Kc];mc[rc]=vc;mc[Eb]=Number.isNaN(yc)?yc=Bb(Lc,Tb):yc;ab.push(u.ingest(mc))}}ab.length&&(qb.add=qb.materialize(qb.ADD).add.concat(ab));kb.length&&(qb.rem=qb.materialize(qb.REM).rem.concat(kb));this.value=ab;return qb}});T.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"ops",type:"enum",array:!0,values:jd},{name:"as",type:"string","null":!0,array:!0},{name:"key",type:"field"}]};
l.inherits(T,B,{transform(Ga,ab){const qb=this,Bb=Ga.modified();let Tb;qb.value&&(Bb||ab.modified(qb._inputs,!0))?(Tb=qb.value=Bb?qb.init(Ga):{},ab.visit(ab.SOURCE,Eb=>qb.add(Eb))):(Tb=qb.value=qb.value||this.init(Ga),ab.visit(ab.REM,Eb=>qb.rem(Eb)),ab.visit(ab.ADD,Eb=>qb.add(Eb)));qb.changes();ab.visit(ab.SOURCE,Eb=>{l.extend(Eb,Tb[qb.cellkey(Eb)].tuple)});return ab.reflow(Bb).modifies(this._outputs)},changes(){const Ga=this._adds,ab=this._mods;let qb,Bb;qb=0;for(Bb=this._alen;qb<Bb;++qb)this.celltuple(Ga[qb]),
Ga[qb]=null;qb=0;for(Bb=this._mlen;qb<Bb;++qb)this.celltuple(ab[qb]),ab[qb]=null;this._alen=this._mlen=0}});X.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean","default":!1},{name:"counts",type:"boolean","default":!1},{name:"bandwidth",type:"number","default":0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},
{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"as",type:"string",array:!0,"default":["value","density"]}]};l.inherits(X,u.Transform,{transform(Ga,ab){const qb=ab.fork(ab.NO_SOURCE|ab.NO_FIELDS);if(!this.value||ab.changed()||Ga.modified()){ab=ab.materialize(ab.SOURCE).source;const Bb=ia(ab,Ga.groupby,Ga.field),Tb=(Ga.groupby||[]).map(l.accessorName),Eb=Ga.bandwidth,rc=Ga.cumulative?"cdf":"pdf",lc=Ga.as||["value","density"],
kb=[];let vb=Ga.extent,Nb=Ga.steps||Ga.minsteps||25,ec=Ga.steps||Ga.maxsteps||200;"pdf"!==rc&&"cdf"!==rc&&l.error("Invalid density method: "+rc);"shared"===Ga.resolve&&(vb||(vb=l.extent(ab,Ga.field)),Nb=ec=Ga.steps||ec);Bb.forEach(tc=>{const uc=G.randomKDE(tc,Eb)[rc],Lc=Ga.counts?tc.length:1,Jb=vb||l.extent(tc);G.sampleCurve(uc,Jb,Nb,ec).forEach(yc=>{const vc={};for(let mc=0;mc<Tb.length;++mc)vc[Tb[mc]]=tc.dims[mc];vc[lc[0]]=yc[0];vc[lc[1]]=yc[1]*Lc;kb.push(u.ingest(vc))})});this.value&&(qb.rem=this.value);
this.value=qb.add=qb.source=kb}return qb}});l.inherits(Z,u.Operator);l.inherits(na,u.Transform,{transform(Ga,ab){const qb=ab.dataflow;return this._pending?ka(this,ab,this._pending):Aa(Ga)?ab.StopPropagation:Ga.values?ka(this,ab,qb.parse(Ga.values,Ga.format)):Ga.async?{async:qb.request(Ga.url,Ga.format).then(Bb=>{this._pending=l.array(Bb.data);return Tb=>Tb.touch(this)})}:qb.request(Ga.url,Ga.format).then(Bb=>ka(this,ab,l.array(Bb.data)))}});Na.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",
type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default","default":null}]};l.inherits(Na,u.Transform,{transform(Ga,ab){const qb=Ga.fields,Bb=Ga.index,Tb=Ga.values,Eb=null==Ga.default?null:Ga.default;var rc=Ga.modified();const lc=qb.length;let kb=rc?ab.SOURCE:ab.ADD,vb=ab,Nb=Ga.as,ec;Tb?(ec=Tb.length,1<lc&&!Nb&&l.error('Multi-field lookup requires explicit "as" parameter.'),
Nb&&Nb.length!==lc*ec&&l.error('The "as" parameter has too few output field names.'),Nb=Nb||Tb.map(l.accessorName),Ga=function(tc){for(var uc=0,Lc=0,Jb,yc;uc<lc;++uc)if(yc=Bb.get(qb[uc](tc)),null==yc)for(Jb=0;Jb<ec;++Jb,++Lc)tc[Nb[Lc]]=Eb;else for(Jb=0;Jb<ec;++Jb,++Lc)tc[Nb[Lc]]=Tb[Jb](yc)}):(Nb||l.error("Missing output field names."),Ga=function(tc){for(var uc=0,Lc;uc<lc;++uc)Lc=Bb.get(qb[uc](tc)),tc[Nb[uc]]=null==Lc?Eb:Lc});rc?vb=ab.reflow(!0):(rc=qb.some(tc=>ab.modified(tc.fields)),kb|=rc?ab.MOD:
0);ab.visit(kb,Ga);return vb.modifies(Nb)}});l.inherits($a,u.Operator);l.inherits(Ca,u.Operator);l.inherits(ma,u.Transform,{transform(Ga,ab){this.modified(Ga.modified());this.value=Ga;return ab.fork(ab.NO_SOURCE|ab.NO_FIELDS)}});Ea.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:jd,"default":"sum"},{name:"limit",type:"number","default":0},
{name:"key",type:"field"}]};l.inherits(Ea,B,{_transform:B.prototype.transform,transform(Ga,ab){return this._transform(Qa(Ga,ab),ab)}});l.inherits(Qb,Y,{transform(Ga,ab){const qb=Ga.subflow,Bb=Ga.field,Tb=Eb=>this.subflow(u.tupleid(Eb),qb,ab,Eb);(Ga.modified("field")||Bb&&ab.modified(l.accessorFields(Bb)))&&l.error("PreFacet does not support field modification.");this.initTargets();Bb?(ab.visit(ab.MOD,Eb=>{const rc=Tb(Eb);Bb(Eb).forEach(lc=>rc.mod(lc))}),ab.visit(ab.ADD,Eb=>{const rc=Tb(Eb);Bb(Eb).forEach(lc=>
rc.add(u.ingest(lc)))}),ab.visit(ab.REM,Eb=>{const rc=Tb(Eb);Bb(Eb).forEach(lc=>rc.rem(lc))})):(ab.visit(ab.MOD,Eb=>Tb(Eb).mod(Eb)),ab.visit(ab.ADD,Eb=>Tb(Eb).add(Eb)),ab.visit(ab.REM,Eb=>Tb(Eb).rem(Eb)));ab.clean()&&ab.runAfter(()=>this.clean());return ab}});fc.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string","null":!0,array:!0}]};l.inherits(fc,u.Transform,{transform(Ga,ab){const qb=ab.fork(ab.NO_SOURCE),Bb=Ga.fields,
Tb=fa(Ga.fields,Ga.as||[]),Eb=Bb?(lc,kb)=>{for(let vb=0,Nb=Bb.length;vb<Nb;++vb)kb[Tb[vb]]=Bb[vb](lc);return kb}:u.rederive;let rc;this.value?rc=this.value:(ab=ab.addAll(),rc=this.value={});ab.visit(ab.REM,lc=>{lc=u.tupleid(lc);qb.rem.push(rc[lc]);rc[lc]=null});ab.visit(ab.ADD,lc=>{const kb=Eb(lc,u.ingest({}));rc[u.tupleid(lc)]=kb;qb.add.push(kb)});ab.visit(ab.MOD,lc=>{qb.mod.push(Eb(lc,rc[u.tupleid(lc)]))});return qb}});l.inherits(ad,u.Transform,{transform(Ga,ab){this.value=Ga.value;return Ga.modified("value")?
ab.fork(ab.NO_SOURCE|ab.NO_FIELDS):ab.StopPropagation}});ic.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number","default":.01},{name:"as",type:"string",array:!0,"default":["prob","value"]}]};l.inherits(ic,u.Transform,{transform(Ga,ab){const qb=ab.fork(ab.NO_SOURCE|ab.NO_FIELDS),Bb=Ga.as||["prob","value"];if(this.value&&!Ga.modified()&&!ab.changed())return qb.source=
this.value,qb;ab=ab.materialize(ab.SOURCE).source;ab=ia(ab,Ga.groupby,Ga.field);const Tb=(Ga.groupby||[]).map(l.accessorName),Eb=[],rc=Ga.step||.01,lc=Ga.probs||L.range(rc/2,1-1E-14,rc),kb=lc.length;ab.forEach(vb=>{const Nb=G.quantiles(vb,lc);for(let ec=0;ec<kb;++ec){const tc={};for(let uc=0;uc<Tb.length;++uc)tc[Tb[uc]]=vb.dims[uc];tc[Bb[0]]=lc[ec];tc[Bb[1]]=Nb[ec];Eb.push(u.ingest(tc))}});this.value&&(qb.rem=this.value);this.value=qb.add=qb.source=Eb;return qb}});l.inherits(xc,u.Transform,{transform(Ga,
ab){let qb,Bb;this.value?Bb=this.value:(qb=ab=ab.addAll(),Bb=this.value={});Ga.derive&&(qb=ab.fork(ab.NO_SOURCE),ab.visit(ab.REM,Tb=>{Tb=u.tupleid(Tb);qb.rem.push(Bb[Tb]);Bb[Tb]=null}),ab.visit(ab.ADD,Tb=>{const Eb=u.derive(Tb);Bb[u.tupleid(Tb)]=Eb;qb.add.push(Eb)}),ab.visit(ab.MOD,Tb=>{const Eb=Bb[u.tupleid(Tb)];for(const rc in Tb)Eb[rc]=Tb[rc],qb.modifies(rc);qb.mod.push(Eb)}));return qb}});ib.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number","default":1E3}]};l.inherits(ib,
u.Transform,{transform(Ga,ab){function qb(Nb){let ec,tc;lc.length<Eb?lc.push(Nb):(tc=~~((kb+1)*G.random()),tc<lc.length&&tc>=vb&&(ec=lc[tc],rc[u.tupleid(ec)]&&Bb.rem.push(ec),lc[tc]=Nb));++kb}const Bb=ab.fork(ab.NO_SOURCE);var Tb=Ga.modified("size");const Eb=Ga.size,rc=this.value.reduce((Nb,ec)=>(Nb[u.tupleid(ec)]=1,Nb),{});let lc=this.value,kb=this.count,vb=0;ab.rem.length&&(ab.visit(ab.REM,Nb=>{const ec=u.tupleid(Nb);rc[ec]&&(rc[ec]=-1,Bb.rem.push(Nb));--kb}),lc=lc.filter(Nb=>-1!==rc[u.tupleid(Nb)]));
(ab.rem.length||Tb)&&lc.length<Eb&&ab.source&&(vb=kb=lc.length,ab.visit(ab.SOURCE,Nb=>{rc[u.tupleid(Nb)]||qb(Nb)}),vb=-1);if(Tb&&lc.length>Eb){Ga=lc.length-Eb;for(Tb=0;Tb<Ga;++Tb)rc[u.tupleid(lc[Tb])]=-1,Bb.rem.push(lc[Tb]);lc=lc.slice(Ga)}ab.mod.length&&ab.visit(ab.MOD,Nb=>{rc[u.tupleid(Nb)]&&Bb.mod.push(Nb)});ab.add.length&&ab.visit(ab.ADD,qb);if(ab.add.length||0>vb)Bb.add=lc.filter(Nb=>!rc[u.tupleid(Nb)]);this.count=kb;this.value=Bb.source=lc;return Bb}});$b.Definition={type:"Sequence",metadata:{generates:!0,
changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number","default":1},{name:"as",type:"string","default":"data"}]};l.inherits($b,u.Transform,{transform(Ga,ab){if(!this.value||Ga.modified()){var qb=ab.materialize().fork(ab.MOD),Bb=Ga.as||"data";qb.rem=this.value?ab.rem.concat(this.value):ab.rem;this.value=L.range(Ga.start,Ga.stop,Ga.step||1).map(Tb=>{const Eb={};Eb[Bb]=Tb;return u.ingest(Eb)});qb.add=ab.add.concat(this.value);return qb}}});
l.inherits(bc,u.Transform,{transform(Ga,ab){this.value=ab.source;return ab.changed()?ab.fork(ab.NO_SOURCE|ab.NO_FIELDS):ab.StopPropagation}});const Nc=["unit0","unit1"];kc.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"units",type:"enum",values:w.TIME_UNITS,array:!0},{name:"step",type:"number","default":1},{name:"maxbins",type:"number","default":40},{name:"extent",type:"date",array:!0},{name:"timezone",
type:"enum","default":"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,"default":Nc}]};l.inherits(kc,u.Transform,{transform(Ga,ab){const qb=Ga.field,Bb=!1!==Ga.interval;var Tb="utc"===Ga.timezone;const Eb=this._floor(Ga,ab),rc=(Tb?w.utcInterval:w.timeInterval)(Eb.unit).offset;Tb=Ga.as||Nc;const lc=Tb[0],kb=Tb[1],vb=Eb.step;let Nb=Eb.start||Infinity,ec=Eb.stop||-Infinity,tc=ab.ADD;if(Ga.modified()||ab.modified(l.accessorFields(qb)))ab=ab.reflow(!0),tc=ab.SOURCE,Nb=Infinity,
ec=-Infinity;ab.visit(tc,uc=>{var Lc=qb(uc);let Jb;null==Lc?(uc[lc]=null,Bb&&(uc[kb]=null)):(uc[lc]=Lc=Jb=Eb(Lc),Bb&&(uc[kb]=Jb=rc(Lc,vb)),Lc<Nb&&(Nb=Lc),Jb>ec&&(ec=Jb))});Eb.start=Nb;Eb.stop=ec;return ab.modifies(Bb?Tb:lc)},_floor(Ga,ab){var qb="utc"===Ga.timezone;const {units:Bb,step:Tb}=Ga.units?{units:Ga.units,step:Ga.step||1}:w.timeBin({extent:Ga.extent||l.extent(ab.materialize(ab.SOURCE).source,Ga.field),maxbins:Ga.maxbins});Ga=w.timeUnits(Bb);ab=this.value||{};qb=(qb?w.utcFloor:w.timeFloor)(Ga,
Tb);qb.unit=l.peek(Ga);qb.units=Ga;qb.step=Tb;qb.start=ab.start;qb.stop=ab.stop;return this.value=qb}});l.inherits(Ec,u.Transform,{transform(Ga,ab){const qb=ab.dataflow,Bb=Ga.field,Tb=this.value,Eb=lc=>Tb.set(Bb(lc),lc);let rc=!0;Ga.modified("field")||ab.modified(Bb.fields)?(Tb.clear(),ab.visit(ab.SOURCE,Eb)):ab.changed()?(ab.visit(ab.REM,lc=>Tb.delete(Bb(lc))),ab.visit(ab.ADD,Eb)):rc=!1;this.modified(rc);Tb.empty>qb.cleanThreshold&&qb.runAfter(Tb.clean);return ab.fork()}});l.inherits(jc,u.Transform,
{transform(Ga,ab){if(!this.value||Ga.modified("field")||Ga.modified("sort")||ab.changed()||Ga.sort&&ab.modified(Ga.sort.fields))this.value=(Ga.sort?ab.source.slice().sort(u.stableCompare(Ga.sort)):ab.source).map(Ga.field)}});const qd={row_number:function(){return{next:Ga=>Ga.index+1}},rank:function(){let Ga;return{init:()=>Ga=1,next:ab=>{const qb=ab.index,Bb=ab.data;return qb&&ab.compare(Bb[qb-1],Bb[qb])?Ga=qb+1:Ga}}},dense_rank:function(){let Ga;return{init:()=>Ga=1,next:ab=>{const qb=ab.index,Bb=
ab.data;return qb&&ab.compare(Bb[qb-1],Bb[qb])?++Ga:Ga}}},percent_rank:function(){const Ga=qd.rank(),ab=Ga.next;return{init:Ga.init,next:qb=>(ab(qb)-1)/(qb.data.length-1)}},cume_dist:function(){let Ga;return{init:()=>Ga=0,next:ab=>{const qb=ab.data,Bb=ab.compare;ab=ab.index;if(Ga<ab){for(;ab+1<qb.length&&!Bb(qb[ab],qb[ab+1]);)++ab;Ga=ab}return(1+Ga)/qb.length}}},ntile:function(Ga,ab){ab=+ab;0<ab||l.error("ntile num must be greater than zero.");Ga=qd.cume_dist();const qb=Ga.next;return{init:Ga.init,
next:Bb=>Math.ceil(ab*qb(Bb))}},lag:function(Ga,ab){ab=+ab||1;return{next:qb=>{const Bb=qb.index-ab;return 0<=Bb?Ga(qb.data[Bb]):null}}},lead:function(Ga,ab){ab=+ab||1;return{next:qb=>{const Bb=qb.index+ab;qb=qb.data;return Bb<qb.length?Ga(qb[Bb]):null}}},first_value:function(Ga){return{next:ab=>Ga(ab.data[ab.i0])}},last_value:function(Ga){return{next:ab=>Ga(ab.data[ab.i1-1])}},nth_value:function(Ga,ab){ab=+ab;0<ab||l.error("nth_value nth must be greater than zero.");return{next:qb=>{const Bb=qb.i0+
(ab-1);return Bb<qb.i1?Ga(qb.data[Bb]):null}}},prev_value:function(Ga){let ab;return{init:()=>ab=null,next:qb=>{qb=Ga(qb.data[qb.index]);return null!=qb?ab=qb:ab}}},next_value:function(Ga){let ab,qb;return{init:()=>(ab=null,qb=-1),next:Bb=>{var Tb=Bb.data;if(Bb.index<=qb)Tb=ab;else{a:{Bb=Bb.index;for(let Eb=Tb.length;Bb<Eb;++Bb)if(null!=Ga(Tb[Bb]))break a;Bb=-1}Tb=0>(qb=Bb)?(qb=Tb.length,ab=null):ab=Ga(Tb[qb])}return Tb}}}};Ib=Object.keys(qd);const Ed=Hc.prototype;Ed.init=function(){this.windows.forEach(Ga=>
Ga.init());this.cell&&this.cell.init()};Ed.update=function(Ga,ab){const qb=this.cell,Bb=this.windows,Tb=Ga.data,Eb=Bb&&Bb.length;let rc;if(qb){for(rc=Ga.p0;rc<Ga.i0;++rc)qb.rem(Tb[rc]);for(rc=Ga.p1;rc<Ga.i1;++rc)qb.add(Tb[rc]);qb.set(ab)}for(rc=0;rc<Eb;++rc)Bb[rc].update(Ga,ab)};td.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Ib.concat(jd)},{name:"params",type:"number","null":!0,
array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"frame",type:"number","null":!0,array:!0,length:2,"default":[null,0]},{name:"ignorePeers",type:"boolean","default":!1}]};l.inherits(td,u.Transform,{transform(Ga,ab){this.stamp=ab.stamp;const qb=Ga.modified(),Bb=u.stableCompare(Ga.sort),Tb=t(Ga.groupby),Eb=lc=>this.group(Tb(lc));let rc=this.state;if(!rc||qb)rc=this.state=new Hc(Ga);qb||ab.modified(rc.inputs)?(this.value={},ab.visit(ab.SOURCE,
lc=>Eb(lc).add(lc))):(ab.visit(ab.REM,lc=>Eb(lc).remove(lc)),ab.visit(ab.ADD,lc=>Eb(lc).add(lc)));for(let lc=0,kb=this._mlen;lc<kb;++lc)Qd(this._mods[lc],rc,Bb,Ga);this._mlen=0;this._mods=[];return ab.reflow(qb).modifies(rc.outputs)},group(Ga){let ab=this.value[Ga];ab||(ab=this.value[Ga]=K(u.tupleid),ab.stamp=-1);ab.stamp<this.stamp&&(ab.stamp=this.stamp,this._mods[this._mlen++]=ab);return ab}});m.aggregate=B;m.bin=M;m.collect=D;m.compare=y;m.countpattern=H;m.cross=Q;m.density=ea;m.dotbin=ca;m.expression=
N;m.extent=W;m.facet=Y;m.field=wa;m.filter=Ha;m.flatten=Za;m.fold=gb;m.formula=ra;m.generate=Pa;m.impute=Ua;m.joinaggregate=T;m.kde=X;m.key=Z;m.load=na;m.lookup=Na;m.multiextent=$a;m.multivalues=Ca;m.params=ma;m.pivot=Ea;m.prefacet=Qb;m.project=fc;m.proxy=ad;m.quantile=ic;m.relay=xc;m.sample=ib;m.sequence=$b;m.sieve=bc;m.subflow=ha;m.timeunit=kc;m.tupleindex=Ec;m.values=jc;m.window=td;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[31]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J):"function"===typeof define&&define.amd?define(["exports"],l):(m=m||self,l(m.d3=m.d3||{}))})(this,function(m){function l(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function u(){return new l}const G=Math.PI,L=2*G,w=L-1E-6;l.prototype=u.prototype={constructor:l,moveTo:function(v,t){this._+="M"+(this._x0=this._x1=+v)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=
this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(v,t){this._+="L"+(this._x1=+v)+","+(this._y1=+t)},quadraticCurveTo:function(v,t,k,g){this._+="Q"+ +v+","+ +t+","+(this._x1=+k)+","+(this._y1=+g)},bezierCurveTo:function(v,t,k,g,d,f){this._+="C"+ +v+","+ +t+","+ +k+","+ +g+","+(this._x1=+d)+","+(this._y1=+f)},arcTo:function(v,t,k,g,d){v=+v;t=+t;k=+k;g=+g;d=+d;var f=this._x1,a=this._y1,e=k-v,n=g-t,x=f-v,z=a-t,B=x*x+z*z;if(0>d)throw Error("negative radius: "+d);if(null===this._x1)this._+="M"+(this._x1=
v)+","+(this._y1=t);else if(1E-6<B)if(1E-6<Math.abs(z*e-n*x)&&d){k-=f;g-=a;var M=e*e+n*n;a=Math.sqrt(M);f=Math.sqrt(B);B=d*Math.tan((G-Math.acos((M+B-(k*k+g*g))/(2*a*f)))/2);f=B/f;B/=a;1E-6<Math.abs(f-1)&&(this._+="L"+(v+f*x)+","+(t+f*z));this._+="A"+d+","+d+",0,0,"+ +(z*k>x*g)+","+(this._x1=v+B*e)+","+(this._y1=t+B*n)}else this._+="L"+(this._x1=v)+","+(this._y1=t)},arc:function(v,t,k,g,d,f){v=+v;t=+t;k=+k;f=!!f;var a=k*Math.cos(g),e=k*Math.sin(g),n=v+a,x=t+e,z=1^f;g=f?g-d:d-g;if(0>k)throw Error("negative radius: "+
k);if(null===this._x1)this._+="M"+n+","+x;else if(1E-6<Math.abs(this._x1-n)||1E-6<Math.abs(this._y1-x))this._+="L"+n+","+x;k&&(0>g&&(g=g%L+L),g>w?this._+="A"+k+","+k+",0,1,"+z+","+(v-a)+","+(t-e)+"A"+k+","+k+",0,1,"+z+","+(this._x1=n)+","+(this._y1=x):1E-6<g&&(this._+="A"+k+","+k+",0,"+ +(g>=G)+","+z+","+(this._x1=v+k*Math.cos(d))+","+(this._y1=t+k*Math.sin(d))))},rect:function(v,t,k,g){this._+="M"+(this._x0=this._x1=+v)+","+(this._y0=this._y1=+t)+"h"+ +k+"v"+ +g+"h"+-k+"Z"},toString:function(){return this._}};
m.path=u;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[32]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J,A(31)):"function"===typeof define&&define.amd?define(["exports","d3-path"],l):(m=m||self,l(m.d3=m.d3||{},m.d3))})(this,function(m,l){function u(kb){return function(){return kb}}function G(kb){return 1<=kb?bc:-1>=kb?-bc:Math.asin(kb)}function L(kb){return kb.innerRadius}function w(kb){return kb.outerRadius}function v(kb){return kb.startAngle}function t(kb){return kb.endAngle}function k(kb){return kb&&
kb.padAngle}function g(kb,vb,Nb,ec,tc,uc,Lc){var Jb=kb-Nb,yc=vb-ec;Lc=(Lc?uc:-uc)/ib(Jb*Jb+yc*yc);yc*=Lc;Jb*=-Lc;var vc=kb+yc,mc=vb+Jb,Kc=Nb+yc,Qc=ec+Jb;Nb=(vc+Kc)/2;ec=(mc+Qc)/2;vb=Kc-vc;kb=Qc-mc;Lc=vb*vb+kb*kb;uc=tc-uc;Qc=vc*Qc-Kc*mc;var Zc=(0>kb?-1:1)*ib(ad(0,uc*uc*Lc-Qc*Qc));vc=(Qc*kb-vb*Zc)/Lc;mc=(-Qc*vb-kb*Zc)/Lc;Kc=(Qc*kb+vb*Zc)/Lc;vb=(-Qc*vb+kb*Zc)/Lc;kb=vc-Nb;Lc=mc-ec;Nb=Kc-Nb;ec=vb-ec;kb*kb+Lc*Lc>Nb*Nb+ec*ec&&(vc=Kc,mc=vb);return{cx:vc,cy:mc,x01:-yc,y01:-Jb,x11:vc*(tc/uc-1),y11:mc*(tc/uc-
1)}}function d(kb){return"object"===typeof kb&&"length"in kb?kb:Array.from(kb)}function f(kb){this._context=kb}function a(kb){return new f(kb)}function e(kb){return kb[0]}function n(kb){return kb[1]}function x(kb,vb){function Nb(Jb){var yc,vc=(Jb=d(Jb)).length,mc,Kc=!1,Qc;null==tc&&(Lc=uc(Qc=l.path()));for(yc=0;yc<=vc;++yc)!(yc<vc&&ec(mc=Jb[yc],yc,Jb))===Kc&&((Kc=!Kc)?Lc.lineStart():Lc.lineEnd()),Kc&&Lc.point(+kb(mc,yc,Jb),+vb(mc,yc,Jb));if(Qc)return Lc=null,Qc+""||null}var ec=u(!0),tc=null,uc=a,
Lc=null;kb="function"===typeof kb?kb:void 0===kb?e:u(kb);vb="function"===typeof vb?vb:void 0===vb?n:u(vb);Nb.x=function(Jb){return arguments.length?(kb="function"===typeof Jb?Jb:u(+Jb),Nb):kb};Nb.y=function(Jb){return arguments.length?(vb="function"===typeof Jb?Jb:u(+Jb),Nb):vb};Nb.defined=function(Jb){return arguments.length?(ec="function"===typeof Jb?Jb:u(!!Jb),Nb):ec};Nb.curve=function(Jb){return arguments.length?(uc=Jb,null!=tc&&(Lc=uc(tc)),Nb):uc};Nb.context=function(Jb){return arguments.length?
(null==Jb?tc=Lc=null:Lc=uc(tc=Jb),Nb):tc};return Nb}function z(kb,vb,Nb){function ec(mc){var Kc,Qc,Zc=(mc=d(mc)).length,nd,od=!1,Dd,Jd=Array(Zc),Ud=Array(Zc);null==Jb&&(vc=yc(Dd=l.path()));for(Kc=0;Kc<=Zc;++Kc){if(!(Kc<Zc&&Lc(nd=mc[Kc],Kc,mc))===od)if(od=!od){var ie=Kc;vc.areaStart();vc.lineStart()}else{vc.lineEnd();vc.lineStart();for(Qc=Kc-1;Qc>=ie;--Qc)vc.point(Jd[Qc],Ud[Qc]);vc.lineEnd();vc.areaEnd()}od&&(Jd[Kc]=+kb(nd,Kc,mc),Ud[Kc]=+vb(nd,Kc,mc),vc.point(uc?+uc(nd,Kc,mc):Jd[Kc],Nb?+Nb(nd,Kc,mc):
Ud[Kc]))}if(Dd)return vc=null,Dd+""||null}function tc(){return x().defined(Lc).curve(yc).context(Jb)}var uc=null,Lc=u(!0),Jb=null,yc=a,vc=null;kb="function"===typeof kb?kb:void 0===kb?e:u(+kb);vb="function"===typeof vb?vb:void 0===vb?u(0):u(+vb);Nb="function"===typeof Nb?Nb:void 0===Nb?n:u(+Nb);ec.x=function(mc){return arguments.length?(kb="function"===typeof mc?mc:u(+mc),uc=null,ec):kb};ec.x0=function(mc){return arguments.length?(kb="function"===typeof mc?mc:u(+mc),ec):kb};ec.x1=function(mc){return arguments.length?
(uc=null==mc?null:"function"===typeof mc?mc:u(+mc),ec):uc};ec.y=function(mc){return arguments.length?(vb="function"===typeof mc?mc:u(+mc),Nb=null,ec):vb};ec.y0=function(mc){return arguments.length?(vb="function"===typeof mc?mc:u(+mc),ec):vb};ec.y1=function(mc){return arguments.length?(Nb=null==mc?null:"function"===typeof mc?mc:u(+mc),ec):Nb};ec.lineX0=ec.lineY0=function(){return tc().x(kb).y(vb)};ec.lineY1=function(){return tc().x(kb).y(Nb)};ec.lineX1=function(){return tc().x(uc).y(vb)};ec.defined=
function(mc){return arguments.length?(Lc="function"===typeof mc?mc:u(!!mc),ec):Lc};ec.curve=function(mc){return arguments.length?(yc=mc,null!=Jb&&(vc=yc(Jb)),ec):yc};ec.context=function(mc){return arguments.length?(null==mc?Jb=vc=null:vc=yc(Jb=mc),ec):Jb};return ec}function B(kb,vb){return vb<kb?-1:vb>kb?1:vb>=kb?0:NaN}function M(kb){return kb}function K(kb){this._curve=kb}function D(kb){function vb(Nb){return new K(kb(Nb))}vb._curve=kb;return vb}function y(kb){var vb=kb.curve;kb.angle=kb.x;delete kb.x;
kb.radius=kb.y;delete kb.y;kb.curve=function(Nb){return arguments.length?vb(D(Nb)):vb()._curve};return kb}function E(){return y(x().curve(jc))}function H(){var kb=z().curve(jc),vb=kb.curve,Nb=kb.lineX0,ec=kb.lineX1,tc=kb.lineY0,uc=kb.lineY1;kb.angle=kb.x;delete kb.x;kb.startAngle=kb.x0;delete kb.x0;kb.endAngle=kb.x1;delete kb.x1;kb.radius=kb.y;delete kb.y;kb.innerRadius=kb.y0;delete kb.y0;kb.outerRadius=kb.y1;delete kb.y1;kb.lineStartAngle=function(){return y(Nb())};delete kb.lineX0;kb.lineEndAngle=
function(){return y(ec())};delete kb.lineX1;kb.lineInnerRadius=function(){return y(tc())};delete kb.lineY0;kb.lineOuterRadius=function(){return y(uc())};delete kb.lineY1;kb.curve=function(Lc){return arguments.length?vb(D(Lc)):vb()._curve};return kb}function Q(kb,vb){return[(vb=+vb)*Math.cos(kb-=Math.PI/2),vb*Math.sin(kb)]}function S(kb){return kb.source}function ea(kb){return kb.target}function ba(kb){function vb(){var Jb,yc=Ec.call(arguments),vc=Nb.apply(this,yc),mc=ec.apply(this,yc);Lc||(Lc=Jb=
l.path());kb(Lc,+tc.apply(this,(yc[0]=vc,yc)),+uc.apply(this,yc),+tc.apply(this,(yc[0]=mc,yc)),+uc.apply(this,yc));if(Jb)return Lc=null,Jb+""||null}var Nb=S,ec=ea,tc=e,uc=n,Lc=null;vb.source=function(Jb){return arguments.length?(Nb=Jb,vb):Nb};vb.target=function(Jb){return arguments.length?(ec=Jb,vb):ec};vb.x=function(Jb){return arguments.length?(tc="function"===typeof Jb?Jb:u(+Jb),vb):tc};vb.y=function(Jb){return arguments.length?(uc="function"===typeof Jb?Jb:u(+Jb),vb):uc};vb.context=function(Jb){return arguments.length?
(Lc=null==Jb?null:Jb,vb):Lc};return vb}function fa(kb,vb,Nb,ec,tc){kb.moveTo(vb,Nb);kb.bezierCurveTo(vb=(vb+ec)/2,Nb,vb,tc,ec,tc)}function ia(kb,vb,Nb,ec,tc){kb.moveTo(vb,Nb);kb.bezierCurveTo(vb,Nb=(Nb+tc)/2,ec,Nb,ec,tc)}function ca(kb,vb,Nb,ec,tc){var uc=Q(vb,Nb);vb=Q(vb,Nb=(Nb+tc)/2);Nb=Q(ec,Nb);ec=Q(ec,tc);kb.moveTo(uc[0],uc[1]);kb.bezierCurveTo(vb[0],vb[1],Nb[0],Nb[1],ec[0],ec[1])}function N(){}function C(kb,vb,Nb){kb._context.bezierCurveTo((2*kb._x0+kb._x1)/3,(2*kb._y0+kb._y1)/3,(kb._x0+2*kb._x1)/
3,(kb._y0+2*kb._y1)/3,(kb._x0+4*kb._x1+vb)/6,(kb._y0+4*kb._y1+Nb)/6)}function W(kb){this._context=kb}function ha(kb){this._context=kb}function Y(kb){this._context=kb}function wa(kb,vb){this._basis=new W(kb);this._beta=vb}function xa(kb,vb,Nb){kb._context.bezierCurveTo(kb._x1+kb._k*(kb._x2-kb._x0),kb._y1+kb._k*(kb._y2-kb._y0),kb._x2+kb._k*(kb._x1-vb),kb._y2+kb._k*(kb._y1-Nb),kb._x2,kb._y2)}function Ha(kb,vb){this._context=kb;this._k=(1-vb)/6}function Za(kb,vb){this._context=kb;this._k=(1-vb)/6}function gb(kb,
vb){this._context=kb;this._k=(1-vb)/6}function ra(kb,vb,Nb){var ec=kb._x1,tc=kb._y1,uc=kb._x2,Lc=kb._y2;if(1E-12<kb._l01_a){var Jb=2*kb._l01_2a+3*kb._l01_a*kb._l12_a+kb._l12_2a,yc=3*kb._l01_a*(kb._l01_a+kb._l12_a);ec=(ec*Jb-kb._x0*kb._l12_2a+kb._x2*kb._l01_2a)/yc;tc=(tc*Jb-kb._y0*kb._l12_2a+kb._y2*kb._l01_2a)/yc}1E-12<kb._l23_a&&(Jb=2*kb._l23_2a+3*kb._l23_a*kb._l12_a+kb._l12_2a,yc=3*kb._l23_a*(kb._l23_a+kb._l12_a),uc=(uc*Jb+kb._x1*kb._l23_2a-vb*kb._l12_2a)/yc,Lc=(Lc*Jb+kb._y1*kb._l23_2a-Nb*kb._l12_2a)/
yc);kb._context.bezierCurveTo(ec,tc,uc,Lc,kb._x2,kb._y2)}function Pa(kb,vb){this._context=kb;this._alpha=vb}function Ua(kb,vb){this._context=kb;this._alpha=vb}function za(kb,vb){this._context=kb;this._alpha=vb}function qa(kb){this._context=kb}function R(kb,vb,Nb){var ec=kb._x1-kb._x0;vb-=kb._x1;var tc=(kb._y1-kb._y0)/(ec||0>vb&&-0);kb=(Nb-kb._y1)/(vb||0>ec&&-0);return((0>tc?-1:1)+(0>kb?-1:1))*Math.min(Math.abs(tc),Math.abs(kb),.5*Math.abs((tc*vb+kb*ec)/(ec+vb)))||0}function T(kb,vb){var Nb=kb._x1-
kb._x0;return Nb?(3*(kb._y1-kb._y0)/Nb-vb)/2:vb}function X(kb,vb,Nb){var ec=kb._x0,tc=kb._x1,uc=kb._y1,Lc=(tc-ec)/3;kb._context.bezierCurveTo(ec+Lc,kb._y0+Lc*vb,tc-Lc,uc-Lc*Nb,tc,uc)}function Z(kb){this._context=kb}function oa(kb){this._context=new na(kb)}function na(kb){this._context=kb}function Aa(kb){this._context=kb}function ka(kb){var vb,Nb=kb.length-1,ec=Array(Nb),tc=Array(Nb),uc=Array(Nb);ec[0]=0;tc[0]=2;uc[0]=kb[0]+2*kb[1];for(vb=1;vb<Nb-1;++vb)ec[vb]=1,tc[vb]=4,uc[vb]=4*kb[vb]+2*kb[vb+1];
ec[Nb-1]=2;tc[Nb-1]=7;uc[Nb-1]=8*kb[Nb-1]+kb[Nb];for(vb=1;vb<Nb;++vb){var Lc=ec[vb]/tc[vb-1];tc[vb]-=Lc;uc[vb]-=Lc*uc[vb-1]}ec[Nb-1]=uc[Nb-1]/tc[Nb-1];for(vb=Nb-2;0<=vb;--vb)ec[vb]=(uc[vb]-ec[vb+1])/tc[vb];tc[Nb-1]=(kb[Nb]+ec[Nb-1])/2;for(vb=0;vb<Nb-1;++vb)tc[vb]=2*kb[vb+1]-ec[vb+1];return[ec,tc]}function Na(kb,vb){this._context=kb;this._t=vb}function $a(kb,vb){if(1<(Lc=kb.length))for(var Nb=1,ec,tc,uc=kb[vb[0]],Lc,Jb=uc.length;Nb<Lc;++Nb)for(tc=uc,uc=kb[vb[Nb]],ec=0;ec<Jb;++ec)uc[ec][1]+=uc[ec][0]=
isNaN(tc[ec][1])?tc[ec][0]:tc[ec][1]}function Wa(kb){kb=kb.length;for(var vb=Array(kb);0<=--kb;)vb[kb]=kb;return vb}function Ca(kb,vb){return kb[vb]}function Da(kb){const vb=[];vb.key=kb;return vb}function ma(kb){var vb=kb.map(Ea);return Wa(kb).sort(function(Nb,ec){return vb[Nb]-vb[ec]})}function Ea(kb){for(var vb=-1,Nb=0,ec=kb.length,tc,uc=-Infinity;++vb<ec;)(tc=+kb[vb][1])>uc&&(uc=tc,Nb=vb);return Nb}function Qa(kb){var vb=kb.map(eb);return Wa(kb).sort(function(Nb,ec){return vb[Nb]-vb[ec]})}function eb(kb){for(var vb=
0,Nb=-1,ec=kb.length,tc;++Nb<ec;)if(tc=+kb[Nb][1])vb+=tc;return vb}var yb=Math.abs,Qb=Math.atan2,fc=Math.cos,ad=Math.max,ic=Math.min,xc=Math.sin,ib=Math.sqrt,$b=Math.PI,bc=$b/2,kc=2*$b,Ec=Array.prototype.slice;f.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(kb,vb){kb=+kb;vb=+vb;switch(this._point){case 0:this._point=
1;this._line?this._context.lineTo(kb,vb):this._context.moveTo(kb,vb);break;case 1:this._point=2;default:this._context.lineTo(kb,vb)}}};var jc=D(a);K.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(kb,vb){this._curve.point(vb*Math.sin(kb),vb*-Math.cos(kb))}};var Oc={draw:function(kb,vb){vb=Math.sqrt(vb/$b);kb.moveTo(vb,0);kb.arc(0,0,vb,0,kc)}},Hc=
{draw:function(kb,vb){vb=Math.sqrt(vb/5)/2;kb.moveTo(-3*vb,-vb);kb.lineTo(-vb,-vb);kb.lineTo(-vb,-3*vb);kb.lineTo(vb,-3*vb);kb.lineTo(vb,-vb);kb.lineTo(3*vb,-vb);kb.lineTo(3*vb,vb);kb.lineTo(vb,vb);kb.lineTo(vb,3*vb);kb.lineTo(-vb,3*vb);kb.lineTo(-vb,vb);kb.lineTo(-3*vb,vb);kb.closePath()}},Bc=Math.sqrt(1/3),td=2*Bc,Qd={draw:function(kb,vb){vb=Math.sqrt(vb/td);var Nb=vb*Bc;kb.moveTo(0,-vb);kb.lineTo(Nb,0);kb.lineTo(0,vb);kb.lineTo(-Nb,0);kb.closePath()}},jd=Math.sin($b/10)/Math.sin(7*$b/10),hd=Math.sin(kc/
10)*jd,Fd=-Math.cos(kc/10)*jd;jd={draw:function(kb,vb){vb=Math.sqrt(.8908130915292852*vb);var Nb=hd*vb,ec=Fd*vb;kb.moveTo(0,-vb);kb.lineTo(Nb,ec);for(var tc=1;5>tc;++tc){var uc=kc*tc/5,Lc=Math.cos(uc);uc=Math.sin(uc);kb.lineTo(uc*vb,-Lc*vb);kb.lineTo(Lc*Nb-uc*ec,uc*Nb+Lc*ec)}kb.closePath()}};var Ib={draw:function(kb,vb){vb=Math.sqrt(vb);var Nb=-vb/2;kb.rect(Nb,Nb,vb,vb)}},Zb=Math.sqrt(3),xb={draw:function(kb,vb){vb=-Math.sqrt(vb/(3*Zb));kb.moveTo(0,2*vb);kb.lineTo(-Zb*vb,-vb);kb.lineTo(Zb*vb,-vb);
kb.closePath()}},qc=Math.sqrt(3)/2,Nc=1/Math.sqrt(12),qd=3*(Nc/2+1),Ed={draw:function(kb,vb){var Nb=Math.sqrt(vb/qd);vb=Nb/2;var ec=Nb*Nc;Nb=Nb*Nc+Nb;var tc=-vb;kb.moveTo(vb,ec);kb.lineTo(vb,Nb);kb.lineTo(tc,Nb);kb.lineTo(-.5*vb-qc*ec,qc*vb+-.5*ec);kb.lineTo(-.5*vb-qc*Nb,qc*vb+-.5*Nb);kb.lineTo(-.5*tc-qc*Nb,qc*tc+-.5*Nb);kb.lineTo(-.5*vb+qc*ec,-.5*ec-qc*vb);kb.lineTo(-.5*vb+qc*Nb,-.5*Nb-qc*vb);kb.lineTo(-.5*tc+qc*Nb,-.5*Nb-qc*tc);kb.closePath()}},Ga=[Oc,Hc,Qd,Ib,jd,xb,Ed];W.prototype={areaStart:function(){this._line=
0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:C(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(kb,vb){kb=+kb;vb=+vb;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(kb,vb):this._context.moveTo(kb,vb);break;case 1:this._point=2;
break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:C(this,kb,vb)}this._x0=this._x1;this._x1=kb;this._y0=this._y1;this._y1=vb}};ha.prototype={areaStart:N,areaEnd:N,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+
2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(kb,vb){kb=+kb;vb=+vb;switch(this._point){case 0:this._point=1;this._x2=kb;this._y2=vb;break;case 1:this._point=2;this._x3=kb;this._y3=vb;break;case 2:this._point=3;this._x4=kb;this._y4=vb;this._context.moveTo((this._x0+4*this._x1+kb)/6,(this._y0+
4*this._y1+vb)/6);break;default:C(this,kb,vb)}this._x0=this._x1;this._x1=kb;this._y0=this._y1;this._y1=vb}};Y.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(kb,vb){kb=+kb;vb=+vb;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=
3;var Nb=(this._x0+4*this._x1+kb)/6,ec=(this._y0+4*this._y1+vb)/6;this._line?this._context.lineTo(Nb,ec):this._context.moveTo(Nb,ec);break;case 3:this._point=4;default:C(this,kb,vb)}this._x0=this._x1;this._x1=kb;this._y0=this._y1;this._y1=vb}};wa.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var kb=this._x,vb=this._y,Nb=kb.length-1;if(0<Nb)for(var ec=kb[0],tc=vb[0],uc=kb[Nb]-ec,Lc=vb[Nb]-tc,Jb=-1,yc;++Jb<=Nb;)yc=Jb/Nb,this._basis.point(this._beta*
kb[Jb]+(1-this._beta)*(ec+yc*uc),this._beta*vb[Jb]+(1-this._beta)*(tc+yc*Lc));this._x=this._y=null;this._basis.lineEnd()},point:function(kb,vb){this._x.push(+kb);this._y.push(+vb)}};var ab=function Nb(vb){function ec(tc){return 1===vb?new W(tc):new wa(tc,vb)}ec.beta=function(tc){return Nb(+tc)};return ec}(.85);Ha.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,
this._y2);break;case 3:xa(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(vb,Nb){vb=+vb;Nb=+Nb;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(vb,Nb):this._context.moveTo(vb,Nb);break;case 1:this._point=2;this._x1=vb;this._y1=Nb;break;case 2:this._point=3;default:xa(this,vb,Nb)}this._x0=this._x1;this._x1=this._x2;this._x2=vb;this._y0=this._y1;this._y1=this._y2;this._y2=Nb}};var qb=function ec(Nb){function tc(uc){return new Ha(uc,
Nb)}tc.tension=function(uc){return ec(+uc)};return tc}(0);Za.prototype={areaStart:N,areaEnd:N,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),
this.point(this._x5,this._y5)}},point:function(Nb,ec){Nb=+Nb;ec=+ec;switch(this._point){case 0:this._point=1;this._x3=Nb;this._y3=ec;break;case 1:this._point=2;this._context.moveTo(this._x4=Nb,this._y4=ec);break;case 2:this._point=3;this._x5=Nb;this._y5=ec;break;default:xa(this,Nb,ec)}this._x0=this._x1;this._x1=this._x2;this._x2=Nb;this._y0=this._y1;this._y1=this._y2;this._y2=ec}};var Bb=function tc(ec){function uc(Lc){return new Za(Lc,ec)}uc.tension=function(Lc){return tc(+Lc)};return uc}(0);gb.prototype=
{areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(ec,tc){ec=+ec;tc=+tc;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);
break;case 3:this._point=4;default:xa(this,ec,tc)}this._x0=this._x1;this._x1=this._x2;this._x2=ec;this._y0=this._y1;this._y1=this._y2;this._y2=tc}};var Tb=function uc(tc){function Lc(Jb){return new gb(Jb,tc)}Lc.tension=function(Jb){return uc(+Jb)};return Lc}(0);Pa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=
0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(tc,uc){tc=+tc;uc=+uc;if(this._point){var Lc=this._x2-tc,Jb=this._y2-uc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Lc*Lc+Jb*Jb,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(tc,uc):this._context.moveTo(tc,uc);break;case 1:this._point=
2;break;case 2:this._point=3;default:ra(this,tc,uc)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=tc;this._y0=this._y1;this._y1=this._y2;this._y2=uc}};var Eb=function Lc(uc){function Jb(yc){return uc?new Pa(yc,uc):new Ha(yc,0)}Jb.alpha=function(yc){return Lc(+yc)};return Jb}(.5);Ua.prototype={areaStart:N,areaEnd:N,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=
this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(uc,Lc){uc=+uc;Lc=+Lc;if(this._point){var Jb=this._x2-uc,yc=this._y2-
Lc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Jb*Jb+yc*yc,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=uc;this._y3=Lc;break;case 1:this._point=2;this._context.moveTo(this._x4=uc,this._y4=Lc);break;case 2:this._point=3;this._x5=uc;this._y5=Lc;break;default:ra(this,uc,Lc)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=uc;this._y0=this._y1;this._y1=this._y2;this._y2=Lc}};var rc=function Jb(Lc){function yc(vc){return Lc?
new Ua(vc,Lc):new Za(vc,0)}yc.alpha=function(vc){return Jb(+vc)};return yc}(.5);za.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Lc,Jb){Lc=+Lc;Jb=+Jb;if(this._point){var yc=
this._x2-Lc,vc=this._y2-Jb;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(yc*yc+vc*vc,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ra(this,Lc,Jb)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Lc;this._y0=this._y1;this._y1=
this._y2;this._y2=Jb}};var lc=function yc(Jb){function vc(mc){return Jb?new za(mc,Jb):new gb(mc,0)}vc.alpha=function(mc){return yc(+mc)};return vc}(.5);qa.prototype={areaStart:N,areaEnd:N,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(Jb,yc){Jb=+Jb;yc=+yc;this._point?this._context.lineTo(Jb,yc):(this._point=1,this._context.moveTo(Jb,yc))}};Z.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=
this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:X(this,this._t0,T(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Jb,yc){var vc=NaN;Jb=+Jb;yc=+yc;if(Jb!==this._x1||yc!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Jb,yc):this._context.moveTo(Jb,yc);break;case 1:this._point=2;
break;case 2:this._point=3;X(this,T(this,vc=R(this,Jb,yc)),vc);break;default:X(this,this._t0,vc=R(this,Jb,yc))}this._x0=this._x1;this._x1=Jb;this._y0=this._y1;this._y1=yc;this._t0=vc}}};(oa.prototype=Object.create(Z.prototype)).point=function(Jb,yc){Z.prototype.point.call(this,yc,Jb)};na.prototype={moveTo:function(Jb,yc){this._context.moveTo(yc,Jb)},closePath:function(){this._context.closePath()},lineTo:function(Jb,yc){this._context.lineTo(yc,Jb)},bezierCurveTo:function(Jb,yc,vc,mc,Kc,Qc){this._context.bezierCurveTo(yc,
Jb,mc,vc,Qc,Kc)}};Aa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var Jb=this._x,yc=this._y,vc=Jb.length;if(vc)if(this._line?this._context.lineTo(Jb[0],yc[0]):this._context.moveTo(Jb[0],yc[0]),2===vc)this._context.lineTo(Jb[1],yc[1]);else for(var mc=ka(Jb),Kc=ka(yc),Qc=0,Zc=1;Zc<vc;++Qc,++Zc)this._context.bezierCurveTo(mc[0][Qc],Kc[0][Qc],mc[1][Qc],Kc[1][Qc],Jb[Zc],yc[Zc]);(this._line||0!==this._line&&
1===vc)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(Jb,yc){this._x.push(+Jb);this._y.push(+yc)}};Na.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},
point:function(Jb,yc){Jb=+Jb;yc=+yc;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Jb,yc):this._context.moveTo(Jb,yc);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,yc),this._context.lineTo(Jb,yc);else{var vc=this._x*(1-this._t)+Jb*this._t;this._context.lineTo(vc,this._y);this._context.lineTo(vc,yc)}}this._x=Jb;this._y=yc}};m.arc=function(){function Jb(){var Dd,Jd=+yc.apply(this,arguments),Ud=+vc.apply(this,arguments),ie=Qc.apply(this,arguments)-
bc,ne=Zc.apply(this,arguments)-bc,Ee=yb(ne-ie),De=ne>ie;od||(od=Dd=l.path());if(Ud<Jd){var Fe=Ud;Ud=Jd;Jd=Fe}if(1E-12<Ud)if(Ee>kc-1E-12)od.moveTo(Ud*fc(ie),Ud*xc(ie)),od.arc(0,0,Ud,ie,ne,!De),1E-12<Jd&&(od.moveTo(Jd*fc(ne),Jd*xc(ne)),od.arc(0,0,Jd,ne,ie,De));else{var Id=ie,Td=ne;Fe=ie;var af=ne,Be=Ee,cf=Ee,Xd=nd.apply(this,arguments)/2,ae=1E-12<Xd&&(Kc?+Kc.apply(this,arguments):ib(Jd*Jd+Ud*Ud)),Je=ic(yb(Ud-Jd)/2,+mc.apply(this,arguments)),fe=Je,zd=Je;if(1E-12<ae){var Gd=G(ae/Jd*xc(Xd));Xd=G(ae/Ud*
xc(Xd));1E-12<(Be-=2*Gd)?(Gd*=De?1:-1,Fe+=Gd,af-=Gd):(Be=0,Fe=af=(ie+ne)/2);1E-12<(cf-=2*Xd)?(Xd*=De?1:-1,Id+=Xd,Td-=Xd):(cf=0,Id=Td=(ie+ne)/2)}ie=Ud*fc(Id);ne=Ud*xc(Id);Gd=Jd*fc(af);Xd=Jd*xc(af);if(1E-12<Je){var ce=Ud*fc(Td),Re=Ud*xc(Td),me=Jd*fc(Fe),Hd=Jd*xc(Fe);if(Ee=Ee<$b){var Ge=me-ie;Ee=Hd-ne;ae=Gd-ce;var rf=Xd-Re,zc=rf*Ge-ae*Ee;1E-12>zc*zc?Ge=void 0:(zc=(ae*(ne-Re)-rf*(ie-ce))/zc,Ge=[ie+zc*Ge,ne+zc*Ee]);Ee=Ge}Ee&&(fe=ie-Ge[0],zd=ne-Ge[1],Ee=ce-Ge[0],ae=Re-Ge[1],fe=(fe*Ee+zd*ae)/(ib(fe*fe+zd*
zd)*ib(Ee*Ee+ae*ae)),zd=1/xc((1<fe?0:-1>fe?$b:Math.acos(fe))/2),Ge=ib(Ge[0]*Ge[0]+Ge[1]*Ge[1]),fe=ic(Je,(Jd-Ge)/(zd-1)),zd=ic(Je,(Ud-Ge)/(zd+1)))}1E-12<cf?1E-12<zd?(Id=g(me,Hd,ie,ne,Ud,zd,De),Td=g(ce,Re,Gd,Xd,Ud,zd,De),od.moveTo(Id.cx+Id.x01,Id.cy+Id.y01),zd<Je?od.arc(Id.cx,Id.cy,zd,Qb(Id.y01,Id.x01),Qb(Td.y01,Td.x01),!De):(od.arc(Id.cx,Id.cy,zd,Qb(Id.y01,Id.x01),Qb(Id.y11,Id.x11),!De),od.arc(0,0,Ud,Qb(Id.cy+Id.y11,Id.cx+Id.x11),Qb(Td.cy+Td.y11,Td.cx+Td.x11),!De),od.arc(Td.cx,Td.cy,zd,Qb(Td.y11,Td.x11),
Qb(Td.y01,Td.x01),!De))):(od.moveTo(ie,ne),od.arc(0,0,Ud,Id,Td,!De)):od.moveTo(ie,ne);1E-12<Jd&&1E-12<Be?1E-12<fe?(Id=g(Gd,Xd,ce,Re,Jd,-fe,De),Td=g(ie,ne,me,Hd,Jd,-fe,De),od.lineTo(Id.cx+Id.x01,Id.cy+Id.y01),fe<Je?od.arc(Id.cx,Id.cy,fe,Qb(Id.y01,Id.x01),Qb(Td.y01,Td.x01),!De):(od.arc(Id.cx,Id.cy,fe,Qb(Id.y01,Id.x01),Qb(Id.y11,Id.x11),!De),od.arc(0,0,Jd,Qb(Id.cy+Id.y11,Id.cx+Id.x11),Qb(Td.cy+Td.y11,Td.cx+Td.x11),De),od.arc(Td.cx,Td.cy,fe,Qb(Td.y11,Td.x11),Qb(Td.y01,Td.x01),!De))):od.arc(0,0,Jd,af,
Fe,De):od.lineTo(Gd,Xd)}else od.moveTo(0,0);od.closePath();if(Dd)return od=null,Dd+""||null}var yc=L,vc=w,mc=u(0),Kc=null,Qc=v,Zc=t,nd=k,od=null;Jb.centroid=function(){var Dd=(+yc.apply(this,arguments)+ +vc.apply(this,arguments))/2,Jd=(+Qc.apply(this,arguments)+ +Zc.apply(this,arguments))/2-$b/2;return[fc(Jd)*Dd,xc(Jd)*Dd]};Jb.innerRadius=function(Dd){return arguments.length?(yc="function"===typeof Dd?Dd:u(+Dd),Jb):yc};Jb.outerRadius=function(Dd){return arguments.length?(vc="function"===typeof Dd?
Dd:u(+Dd),Jb):vc};Jb.cornerRadius=function(Dd){return arguments.length?(mc="function"===typeof Dd?Dd:u(+Dd),Jb):mc};Jb.padRadius=function(Dd){return arguments.length?(Kc=null==Dd?null:"function"===typeof Dd?Dd:u(+Dd),Jb):Kc};Jb.startAngle=function(Dd){return arguments.length?(Qc="function"===typeof Dd?Dd:u(+Dd),Jb):Qc};Jb.endAngle=function(Dd){return arguments.length?(Zc="function"===typeof Dd?Dd:u(+Dd),Jb):Zc};Jb.padAngle=function(Dd){return arguments.length?(nd="function"===typeof Dd?Dd:u(+Dd),
Jb):nd};Jb.context=function(Dd){return arguments.length?(od=null==Dd?null:Dd,Jb):od};return Jb};m.area=z;m.areaRadial=H;m.curveBasis=function(Jb){return new W(Jb)};m.curveBasisClosed=function(Jb){return new ha(Jb)};m.curveBasisOpen=function(Jb){return new Y(Jb)};m.curveBundle=ab;m.curveCardinal=qb;m.curveCardinalClosed=Bb;m.curveCardinalOpen=Tb;m.curveCatmullRom=Eb;m.curveCatmullRomClosed=rc;m.curveCatmullRomOpen=lc;m.curveLinear=a;m.curveLinearClosed=function(Jb){return new qa(Jb)};m.curveMonotoneX=
function(Jb){return new Z(Jb)};m.curveMonotoneY=function(Jb){return new oa(Jb)};m.curveNatural=function(Jb){return new Aa(Jb)};m.curveStep=function(Jb){return new Na(Jb,.5)};m.curveStepAfter=function(Jb){return new Na(Jb,1)};m.curveStepBefore=function(Jb){return new Na(Jb,0)};m.line=x;m.lineRadial=E;m.linkHorizontal=function(){return ba(fa)};m.linkRadial=function(){var Jb=ba(ca);Jb.angle=Jb.x;delete Jb.x;Jb.radius=Jb.y;delete Jb.y;return Jb};m.linkVertical=function(){return ba(ia)};m.pie=function(){function Jb(nd){var od,
Dd=(nd=d(nd)).length;var Jd=0;var Ud=Array(Dd),ie=Array(Dd),ne=+Kc.apply(this,arguments);var Ee=Math.min(kc,Math.max(-kc,Qc.apply(this,arguments)-ne));var De=Math.min(Math.abs(Ee)/Dd,Zc.apply(this,arguments)),Fe=De*(0>Ee?-1:1),Id;for(od=0;od<Dd;++od)0<(Id=ie[Ud[od]=od]=+yc(nd[od],od,nd))&&(Jd+=Id);null!=vc?Ud.sort(function(af,Be){return vc(ie[af],ie[Be])}):null!=mc&&Ud.sort(function(af,Be){return mc(nd[af],nd[Be])});od=0;for(Ee=Jd?(Ee-Dd*Fe)/Jd:0;od<Dd;++od,ne=Td){Jd=Ud[od];Id=ie[Jd];var Td=ne+(0<
Id?Id*Ee:0)+Fe;ie[Jd]={data:nd[Jd],index:od,value:Id,startAngle:ne,endAngle:Td,padAngle:De}}return ie}var yc=M,vc=B,mc=null,Kc=u(0),Qc=u(kc),Zc=u(0);Jb.value=function(nd){return arguments.length?(yc="function"===typeof nd?nd:u(+nd),Jb):yc};Jb.sortValues=function(nd){return arguments.length?(vc=nd,mc=null,Jb):vc};Jb.sort=function(nd){return arguments.length?(mc=nd,vc=null,Jb):mc};Jb.startAngle=function(nd){return arguments.length?(Kc="function"===typeof nd?nd:u(+nd),Jb):Kc};Jb.endAngle=function(nd){return arguments.length?
(Qc="function"===typeof nd?nd:u(+nd),Jb):Qc};Jb.padAngle=function(nd){return arguments.length?(Zc="function"===typeof nd?nd:u(+nd),Jb):Zc};return Jb};m.pointRadial=Q;m.radialArea=H;m.radialLine=E;m.stack=function(){function Jb(Qc){var Zc=Array.from(yc.apply(this,arguments),Da),nd=Zc.length,od=-1;for(const Jd of Qc){var Dd=0;for(++od;Dd<nd;++Dd)(Zc[Dd][od]=[0,+Kc(Jd,Zc[Dd].key,od,Qc)]).data=Jd}Dd=0;for(od=d(vc(Zc));Dd<nd;++Dd)Zc[od[Dd]].index=Dd;mc(Zc,od);return Zc}var yc=u([]),vc=Wa,mc=$a,Kc=Ca;Jb.keys=
function(Qc){return arguments.length?(yc="function"===typeof Qc?Qc:u(Array.from(Qc)),Jb):yc};Jb.value=function(Qc){return arguments.length?(Kc="function"===typeof Qc?Qc:u(+Qc),Jb):Kc};Jb.order=function(Qc){return arguments.length?(vc=null==Qc?Wa:"function"===typeof Qc?Qc:u(Array.from(Qc)),Jb):vc};Jb.offset=function(Qc){return arguments.length?(mc=null==Qc?$a:Qc,Jb):mc};return Jb};m.stackOffsetDiverging=function(Jb,yc){if(0<(od=Jb.length))for(var vc,mc=0,Kc,Qc,Zc,nd,od,Dd=Jb[yc[0]].length;mc<Dd;++mc)for(vc=
Zc=nd=0;vc<od;++vc)0<(Qc=(Kc=Jb[yc[vc]][mc])[1]-Kc[0])?(Kc[0]=Zc,Kc[1]=Zc+=Qc):0>Qc?(Kc[1]=nd,Kc[0]=nd+=Qc):(Kc[0]=0,Kc[1]=Qc)};m.stackOffsetExpand=function(Jb,yc){if(0<(mc=Jb.length)){for(var vc,mc,Kc=0,Qc=Jb[0].length,Zc;Kc<Qc;++Kc){for(Zc=vc=0;vc<mc;++vc)Zc+=Jb[vc][Kc][1]||0;if(Zc)for(vc=0;vc<mc;++vc)Jb[vc][Kc][1]/=Zc}$a(Jb,yc)}};m.stackOffsetNone=$a;m.stackOffsetSilhouette=function(Jb,yc){if(0<(Kc=Jb.length)){for(var vc=0,mc=Jb[yc[0]],Kc,Qc=mc.length;vc<Qc;++vc){for(var Zc=0,nd=0;Zc<Kc;++Zc)nd+=
Jb[Zc][vc][1]||0;mc[vc][1]+=mc[vc][0]=-nd/2}$a(Jb,yc)}};m.stackOffsetWiggle=function(Jb,yc){if(0<(Zc=Jb.length)&&0<(Qc=(Kc=Jb[yc[0]]).length)){for(var vc=0,mc=1,Kc,Qc,Zc;mc<Qc;++mc){for(var nd=0,od=0,Dd=0;nd<Zc;++nd){var Jd=Jb[yc[nd]],Ud=Jd[mc][1]||0;Jd=(Ud-(Jd[mc-1][1]||0))/2;for(var ie=0;ie<nd;++ie){var ne=Jb[yc[ie]];Jd+=(ne[mc][1]||0)-(ne[mc-1][1]||0)}od+=Ud;Dd+=Jd*Ud}Kc[mc-1][1]+=Kc[mc-1][0]=vc;od&&(vc-=Dd/od)}Kc[mc-1][1]+=Kc[mc-1][0]=vc;$a(Jb,yc)}};m.stackOrderAppearance=ma;m.stackOrderAscending=
Qa;m.stackOrderDescending=function(Jb){return Qa(Jb).reverse()};m.stackOrderInsideOut=function(Jb){var yc=Jb.length,vc=Jb.map(eb),mc=ma(Jb),Kc=0,Qc=0,Zc=[],nd=[];for(Jb=0;Jb<yc;++Jb){var od=mc[Jb];Kc<Qc?(Kc+=vc[od],Zc.push(od)):(Qc+=vc[od],nd.push(od))}return nd.reverse().concat(Zc)};m.stackOrderNone=Wa;m.stackOrderReverse=function(Jb){return Wa(Jb).reverse()};m.symbol=function(Jb,yc){function vc(){var Kc;mc||(mc=Kc=l.path());Jb.apply(this,arguments).draw(mc,+yc.apply(this,arguments));if(Kc)return mc=
null,Kc+""||null}var mc=null;Jb="function"===typeof Jb?Jb:u(Jb||Oc);yc="function"===typeof yc?yc:u(void 0===yc?64:+yc);vc.type=function(Kc){return arguments.length?(Jb="function"===typeof Kc?Kc:u(Kc),vc):Jb};vc.size=function(Kc){return arguments.length?(yc="function"===typeof Kc?Kc:u(+Kc),vc):yc};vc.context=function(Kc){return arguments.length?(mc=null==Kc?null:Kc,vc):mc};return vc};m.symbolCircle=Oc;m.symbolCross=Hc;m.symbolDiamond=Qd;m.symbolSquare=Ib;m.symbolStar=jd;m.symbolTriangle=xb;m.symbolWye=
Ed;m.symbols=Ga;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[33]=function(Ia,A,mb,J){!function(m,l){"object"==typeof J&&"undefined"!=typeof mb?l(J):"function"==typeof define&&define.amd?define(["exports"],l):l((m="undefined"!=typeof globalThis?globalThis:m||self).vega={})}(this,function(m){function l(u,G){if("undefined"!=typeof document&&document.createElement){const L=document.createElement("canvas");if(L&&L.getContext)return L.width=u,L.height=G,L}return null}m.canvas=l;m.domCanvas=l;m.image=()=>"undefined"!=typeof Image?Image:null;Object.defineProperty(m,
"__esModule",{value:!0})})};
shadow$provide[34]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J):"function"===typeof define&&define.amd?define(["exports"],l):(m=m||self,l(m.d3=m.d3||{}))})(this,function(m){function l(Z,oa,na){Z.prototype=oa.prototype=na;na.constructor=Z}function u(Z,oa){Z=Object.create(Z.prototype);for(var na in oa)Z[na]=oa[na];return Z}function G(){}function L(){return this.rgb().formatHex()}function w(){return this.rgb().formatRgb()}function v(Z){var oa,na;Z=(Z+"").trim().toLowerCase();
return(oa=ha.exec(Z))?(na=oa[1].length,oa=parseInt(oa[1],16),6===na?t(oa):3===na?new f(oa>>8&15|oa>>4&240,oa>>4&15|oa&240,(oa&15)<<4|oa&15,1):8===na?k(oa>>24&255,oa>>16&255,oa>>8&255,(oa&255)/255):4===na?k(oa>>12&15|oa>>8&240,oa>>8&15|oa>>4&240,oa>>4&15|oa&240,((oa&15)<<4|oa&15)/255):null):(oa=Y.exec(Z))?new f(oa[1],oa[2],oa[3],1):(oa=wa.exec(Z))?new f(255*oa[1]/100,255*oa[2]/100,255*oa[3]/100,1):(oa=xa.exec(Z))?k(oa[1],oa[2],oa[3],oa[4]):(oa=Ha.exec(Z))?k(255*oa[1]/100,255*oa[2]/100,255*oa[3]/100,
oa[4]):(oa=Za.exec(Z))?x(oa[1],oa[2]/100,oa[3]/100,1):(oa=gb.exec(Z))?x(oa[1],oa[2]/100,oa[3]/100,oa[4]):ra.hasOwnProperty(Z)?t(ra[Z]):"transparent"===Z?new f(NaN,NaN,NaN,0):null}function t(Z){return new f(Z>>16&255,Z>>8&255,Z&255,1)}function k(Z,oa,na,Aa){0>=Aa&&(Z=oa=na=NaN);return new f(Z,oa,na,Aa)}function g(Z){Z instanceof G||(Z=v(Z));if(!Z)return new f;Z=Z.rgb();return new f(Z.r,Z.g,Z.b,Z.opacity)}function d(Z,oa,na,Aa){return 1===arguments.length?g(Z):new f(Z,oa,na,null==Aa?1:Aa)}function f(Z,
oa,na,Aa){this.r=+Z;this.g=+oa;this.b=+na;this.opacity=+Aa}function a(){return"#"+n(this.r)+n(this.g)+n(this.b)}function e(){var Z=this.opacity;Z=isNaN(Z)?1:Math.max(0,Math.min(1,Z));return(1===Z?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===Z?")":", "+Z+")")}function n(Z){Z=Math.max(0,Math.min(255,Math.round(Z)||0));return(16>Z?"0":"")+Z.toString(16)}function x(Z,oa,na,
Aa){0>=Aa?Z=oa=na=NaN:0>=na||1<=na?Z=oa=NaN:0>=oa&&(Z=NaN);return new M(Z,oa,na,Aa)}function z(Z){if(Z instanceof M)return new M(Z.h,Z.s,Z.l,Z.opacity);Z instanceof G||(Z=v(Z));if(!Z)return new M;if(Z instanceof M)return Z;Z=Z.rgb();var oa=Z.r/255,na=Z.g/255,Aa=Z.b/255,ka=Math.min(oa,na,Aa),Na=Math.max(oa,na,Aa),$a=NaN,Wa=Na-ka,Ca=(Na+ka)/2;Wa?($a=oa===Na?(na-Aa)/Wa+6*(na<Aa):na===Na?(Aa-oa)/Wa+2:(oa-na)/Wa+4,Wa/=.5>Ca?Na+ka:2-Na-ka,$a*=60):Wa=0<Ca&&1>Ca?0:$a;return new M($a,Wa,Ca,Z.opacity)}function B(Z,
oa,na,Aa){return 1===arguments.length?z(Z):new M(Z,oa,na,null==Aa?1:Aa)}function M(Z,oa,na,Aa){this.h=+Z;this.s=+oa;this.l=+na;this.opacity=+Aa}function K(Z,oa,na){return 255*(60>Z?oa+(na-oa)*Z/60:180>Z?na:240>Z?oa+(na-oa)*(240-Z)/60:oa)}function D(Z){if(Z instanceof E)return new E(Z.l,Z.a,Z.b,Z.opacity);if(Z instanceof ia)return ca(Z);Z instanceof f||(Z=g(Z));var oa=ea(Z.r),na=ea(Z.g),Aa=ea(Z.b),ka=H(.2225045*oa+.7168786*na+.0606169*Aa);if(oa===na&&na===Aa)var Na=oa=ka;else Na=H((.4360747*oa+.3850649*
na+.1430804*Aa)/.96422),oa=H((.0139322*oa+.0971045*na+.7141733*Aa)/.82521);return new E(116*ka-16,500*(Na-ka),200*(ka-oa),Z.opacity)}function y(Z,oa,na,Aa){return 1===arguments.length?D(Z):new E(Z,oa,na,null==Aa?1:Aa)}function E(Z,oa,na,Aa){this.l=+Z;this.a=+oa;this.b=+na;this.opacity=+Aa}function H(Z){return Z>T?Math.pow(Z,1/3):Z/R+za}function Q(Z){return Z>qa?Z*Z*Z:R*(Z-za)}function S(Z){return 255*(.0031308>=Z?12.92*Z:1.055*Math.pow(Z,1/2.4)-.055)}function ea(Z){return.04045>=(Z/=255)?Z/12.92:
Math.pow((Z+.055)/1.055,2.4)}function ba(Z){if(Z instanceof ia)return new ia(Z.h,Z.c,Z.l,Z.opacity);Z instanceof E||(Z=D(Z));if(0===Z.a&&0===Z.b)return new ia(NaN,0<Z.l&&100>Z.l?0:NaN,Z.l,Z.opacity);var oa=Math.atan2(Z.b,Z.a)*Ua;return new ia(0>oa?oa+360:oa,Math.sqrt(Z.a*Z.a+Z.b*Z.b),Z.l,Z.opacity)}function fa(Z,oa,na,Aa){return 1===arguments.length?ba(Z):new ia(Z,oa,na,null==Aa?1:Aa)}function ia(Z,oa,na,Aa){this.h=+Z;this.c=+oa;this.l=+na;this.opacity=+Aa}function ca(Z){if(isNaN(Z.h))return new E(Z.l,
0,0,Z.opacity);var oa=Z.h*Pa;return new E(Z.l,Math.cos(oa)*Z.c,Math.sin(oa)*Z.c,Z.opacity)}function N(Z,oa,na,Aa){if(1===arguments.length){var ka=Z;if(ka instanceof C)ka=new C(ka.h,ka.s,ka.l,ka.opacity);else{ka instanceof f||(ka=g(ka));var Na=ka.g/255,$a=ka.b/255,Wa=(X*$a+ka.r/255*-1.7884503806-3.5172982438*Na)/(X+-1.7884503806-3.5172982438);$a-=Wa;var Ca=(1.97294*(Na-Wa)- -.29227*$a)/-.90649;$a=(Na=Math.sqrt(Ca*Ca+$a*$a)/(1.97294*Wa*(1-Wa)))?Math.atan2(Ca,$a)*Ua-120:NaN;ka=new C(0>$a?$a+360:$a,Na,
Wa,ka.opacity)}}else ka=new C(Z,oa,na,null==Aa?1:Aa);return ka}function C(Z,oa,na,Aa){this.h=+Z;this.s=+oa;this.l=+na;this.opacity=+Aa}var W=1/.7,ha=/^#([0-9a-f]{3,8})$/,Y=/^rgb\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*\)$/,wa=/^rgb\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,xa=/^rgba\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,Ha=/^rgba\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,
Za=/^hsl\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,gb=/^hsla\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,ra={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,
burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,
darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,
lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,
mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,
red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};l(G,v,{copy:function(Z){return Object.assign(new this.constructor,
this,Z)},displayable:function(){return this.rgb().displayable()},hex:L,formatHex:L,formatHsl:function(){return z(this).formatHsl()},formatRgb:w,toString:w});l(f,d,u(G,{brighter:function(Z){Z=null==Z?W:Math.pow(W,Z);return new f(this.r*Z,this.g*Z,this.b*Z,this.opacity)},darker:function(Z){Z=null==Z?.7:Math.pow(.7,Z);return new f(this.r*Z,this.g*Z,this.b*Z,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>
this.b&&0<=this.opacity&&1>=this.opacity},hex:a,formatHex:a,formatRgb:e,toString:e}));l(M,B,u(G,{brighter:function(Z){Z=null==Z?W:Math.pow(W,Z);return new M(this.h,this.s,this.l*Z,this.opacity)},darker:function(Z){Z=null==Z?.7:Math.pow(.7,Z);return new M(this.h,this.s,this.l*Z,this.opacity)},rgb:function(){var Z=this.h%360+360*(0>this.h),oa=isNaN(Z)||isNaN(this.s)?0:this.s,na=this.l;oa=na+(.5>na?na:1-na)*oa;na=2*na-oa;return new f(K(240<=Z?Z-240:Z+120,na,oa),K(Z,na,oa),K(120>Z?Z+240:Z-120,na,oa),
this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var Z=this.opacity;Z=isNaN(Z)?1:Math.max(0,Math.min(1,Z));return(1===Z?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===Z?")":", "+Z+")")}}));const Pa=Math.PI/180,Ua=180/Math.PI,za=4/29,qa=6/29,R=3*qa*qa,T=qa*qa*qa;l(E,y,u(G,{brighter:function(Z){return new E(this.l+18*(null==Z?1:Z),this.a,this.b,this.opacity)},
darker:function(Z){return new E(this.l-18*(null==Z?1:Z),this.a,this.b,this.opacity)},rgb:function(){var Z=(this.l+16)/116,oa=isNaN(this.a)?Z:Z+this.a/500,na=isNaN(this.b)?Z:Z-this.b/200;oa=.96422*Q(oa);Z=1*Q(Z);na=.82521*Q(na);return new f(S(3.1338561*oa-1.6168667*Z-.4906146*na),S(-.9787684*oa+1.9161415*Z+.033454*na),S(.0719453*oa-.2289914*Z+1.4052427*na),this.opacity)}}));l(ia,fa,u(G,{brighter:function(Z){return new ia(this.h,this.c,this.l+18*(null==Z?1:Z),this.opacity)},darker:function(Z){return new ia(this.h,
this.c,this.l-18*(null==Z?1:Z),this.opacity)},rgb:function(){return ca(this).rgb()}}));var X=1.78277*-.29227-.1347134789;l(C,N,u(G,{brighter:function(Z){Z=null==Z?W:Math.pow(W,Z);return new C(this.h,this.s,this.l*Z,this.opacity)},darker:function(Z){Z=null==Z?.7:Math.pow(.7,Z);return new C(this.h,this.s,this.l*Z,this.opacity)},rgb:function(){var Z=isNaN(this.h)?0:(this.h+120)*Pa,oa=+this.l,na=isNaN(this.s)?0:this.s*oa*(1-oa),Aa=Math.cos(Z);Z=Math.sin(Z);return new f(255*(oa+na*(-.14861*Aa+1.78277*
Z)),255*(oa+na*(-.29227*Aa+-.90649*Z)),255*(oa+1.97294*na*Aa),this.opacity)}}));m.color=v;m.cubehelix=N;m.gray=function(Z,oa){return new E(Z,0,0,null==oa?1:oa)};m.hcl=fa;m.hsl=B;m.lab=y;m.lch=function(Z,oa,na,Aa){return 1===arguments.length?ba(Z):new ia(na,oa,Z,null==Aa?1:Aa)};m.rgb=d;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[35]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J,A(34)):"function"===typeof define&&define.amd?define(["exports","d3-color"],l):(m=m||self,l(m.d3=m.d3||{},m.d3))})(this,function(m,l){function u(qa,R,T,X,Z){var oa=qa*qa,na=oa*qa;return((1-3*qa+3*oa-na)*R+(4-6*oa+3*na)*T+(1+3*qa+3*oa-3*na)*X+na*Z)/6}function G(qa){var R=qa.length-1;return function(T){var X=0>=T?T=0:1<=T?(T=1,R-1):Math.floor(T*R),Z=qa[X],oa=qa[X+1];return u((T-X/R)*R,0<X?qa[X-1]:
2*Z-oa,Z,oa,X<R-1?qa[X+2]:2*oa-Z)}}function L(qa){var R=qa.length;return function(T){var X=Math.floor((0>(T%=1)?++T:T)*R);return u((T-X/R)*R,qa[(X+R-1)%R],qa[X%R],qa[(X+1)%R],qa[(X+2)%R])}}function w(qa,R){return function(T){return qa+T*R}}function v(qa,R,T){return qa=Math.pow(qa,T),R=Math.pow(R,T)-qa,T=1/T,function(X){return Math.pow(qa+X*R,T)}}function t(qa,R){var T=R-qa;return T?w(qa,180<T||-180>T?T-360*Math.round(T/360):T):ba(isNaN(qa)?R:qa)}function k(qa){return 1===(qa=+qa)?g:function(R,T){return T-
R?v(R,T,qa):ba(isNaN(R)?T:R)}}function g(qa,R){var T=R-qa;return T?w(qa,T):ba(isNaN(qa)?R:qa)}function d(qa){return function(R){var T=R.length,X=Array(T),Z=Array(T),oa=Array(T),na;for(na=0;na<T;++na){var Aa=l.rgb(R[na]);X[na]=Aa.r||0;Z[na]=Aa.g||0;oa[na]=Aa.b||0}X=qa(X);Z=qa(Z);oa=qa(oa);Aa.opacity=1;return function(ka){Aa.r=X(ka);Aa.g=Z(ka);Aa.b=oa(ka);return Aa+""}}}function f(qa,R){R||(R=[]);var T=qa?Math.min(R.length,qa.length):0,X=R.slice(),Z;return function(oa){for(Z=0;Z<T;++Z)X[Z]=qa[Z]*(1-
oa)+R[Z]*oa;return X}}function a(qa){return ArrayBuffer.isView(qa)&&!(qa instanceof DataView)}function e(qa,R){var T=R?R.length:0,X=qa?Math.min(T,qa.length):0,Z=Array(X),oa=Array(T),na;for(na=0;na<X;++na)Z[na]=D(qa[na],R[na]);for(;na<T;++na)oa[na]=R[na];return function(Aa){for(na=0;na<X;++na)oa[na]=Z[na](Aa);return oa}}function n(qa,R){var T=new Date;return qa=+qa,R=+R,function(X){return T.setTime(qa*(1-X)+R*X),T}}function x(qa,R){return qa=+qa,R=+R,function(T){return qa*(1-T)+R*T}}function z(qa,
R){var T={},X={},Z;if(null===qa||"object"!==typeof qa)qa={};if(null===R||"object"!==typeof R)R={};for(Z in R)Z in qa?T[Z]=D(qa[Z],R[Z]):X[Z]=R[Z];return function(oa){for(Z in T)X[Z]=T[Z](oa);return X}}function B(qa){return function(){return qa}}function M(qa){return function(R){return qa(R)+""}}function K(qa,R){var T=N.lastIndex=C.lastIndex=0,X,Z,oa,na=-1,Aa=[],ka=[];qa+="";for(R+="";(X=N.exec(qa))&&(Z=C.exec(R));)(oa=Z.index)>T&&(oa=R.slice(T,oa),Aa[na]?Aa[na]+=oa:Aa[++na]=oa),(X=X[0])===(Z=Z[0])?
Aa[na]?Aa[na]+=Z:Aa[++na]=Z:(Aa[++na]=null,ka.push({i:na,x:x(X,Z)})),T=C.lastIndex;T<R.length&&(oa=R.slice(T),Aa[na]?Aa[na]+=oa:Aa[++na]=oa);return 2>Aa.length?ka[0]?M(ka[0].x):B(R):(R=ka.length,function(Na){for(var $a=0,Wa;$a<R;++$a)Aa[(Wa=ka[$a]).i]=Wa.x(Na);return Aa.join("")})}function D(qa,R){var T=typeof R,X;return null==R||"boolean"===T?ba(R):("number"===T?x:"string"===T?(X=l.color(R))?(R=X,fa):K:R instanceof l.color?fa:R instanceof Date?n:a(R)?f:Array.isArray(R)?e:"function"!==typeof R.valueOf&&
"function"!==typeof R.toString||isNaN(R)?z:x)(qa,R)}function y(qa,R,T,X,Z,oa){var na,Aa,ka;if(na=Math.sqrt(qa*qa+R*R))qa/=na,R/=na;if(ka=qa*T+R*X)T-=qa*ka,X-=R*ka;if(Aa=Math.sqrt(T*T+X*X))T/=Aa,X/=Aa,ka/=Aa;qa*X<R*T&&(qa=-qa,R=-R,ka=-ka,na=-na);return{translateX:Z,translateY:oa,rotate:Math.atan2(R,qa)*W,skewX:Math.atan(ka)*W,scaleX:na,scaleY:Aa}}function E(qa,R,T,X){function Z(Na){return Na.length?Na.pop()+" ":""}function oa(Na,$a,Wa,Ca,Da,ma){Na!==Wa||$a!==Ca?(Da=Da.push("translate(",null,R,null,
T),ma.push({i:Da-4,x:x(Na,Wa)},{i:Da-2,x:x($a,Ca)})):(Wa||Ca)&&Da.push("translate("+Wa+R+Ca+T)}function na(Na,$a,Wa,Ca){Na!==$a?(180<Na-$a?$a+=360:180<$a-Na&&(Na+=360),Ca.push({i:Wa.push(Z(Wa)+"rotate(",null,X)-2,x:x(Na,$a)})):$a&&Wa.push(Z(Wa)+"rotate("+$a+X)}function Aa(Na,$a,Wa,Ca){Na!==$a?Ca.push({i:Wa.push(Z(Wa)+"skewX(",null,X)-2,x:x(Na,$a)}):$a&&Wa.push(Z(Wa)+"skewX("+$a+X)}function ka(Na,$a,Wa,Ca,Da,ma){Na!==Wa||$a!==Ca?(Da=Da.push(Z(Da)+"scale(",null,",",null,")"),ma.push({i:Da-4,x:x(Na,
Wa)},{i:Da-2,x:x($a,Ca)})):1===Wa&&1===Ca||Da.push(Z(Da)+"scale("+Wa+","+Ca+")")}return function(Na,$a){var Wa=[],Ca=[];Na=qa(Na);$a=qa($a);oa(Na.translateX,Na.translateY,$a.translateX,$a.translateY,Wa,Ca);na(Na.rotate,$a.rotate,Wa,Ca);Aa(Na.skewX,$a.skewX,Wa,Ca);ka(Na.scaleX,Na.scaleY,$a.scaleX,$a.scaleY,Wa,Ca);Na=$a=null;return function(Da){for(var ma=-1,Ea=Ca.length,Qa;++ma<Ea;)Wa[(Qa=Ca[ma]).i]=Qa.x(Da);return Wa.join("")}}}function H(qa){return((qa=Math.exp(qa))+1/qa)/2}function Q(qa){return function(R,
T){var X=qa((R=l.hsl(R)).h,(T=l.hsl(T)).h),Z=g(R.s,T.s),oa=g(R.l,T.l),na=g(R.opacity,T.opacity);return function(Aa){R.h=X(Aa);R.s=Z(Aa);R.l=oa(Aa);R.opacity=na(Aa);return R+""}}}function S(qa){return function(R,T){var X=qa((R=l.hcl(R)).h,(T=l.hcl(T)).h),Z=g(R.c,T.c),oa=g(R.l,T.l),na=g(R.opacity,T.opacity);return function(Aa){R.h=X(Aa);R.c=Z(Aa);R.l=oa(Aa);R.opacity=na(Aa);return R+""}}}function ea(qa){return function X(T){function Z(oa,na){var Aa=qa((oa=l.cubehelix(oa)).h,(na=l.cubehelix(na)).h),
ka=g(oa.s,na.s),Na=g(oa.l,na.l),$a=g(oa.opacity,na.opacity);return function(Wa){oa.h=Aa(Wa);oa.s=ka(Wa);oa.l=Na(Math.pow(Wa,T));oa.opacity=$a(Wa);return oa+""}}T=+T;Z.gamma=X;return Z}(1)}var ba=qa=>()=>qa,fa=function T(R){function X(oa,na){var Aa=Z((oa=l.rgb(oa)).r,(na=l.rgb(na)).r),ka=Z(oa.g,na.g),Na=Z(oa.b,na.b),$a=g(oa.opacity,na.opacity);return function(Wa){oa.r=Aa(Wa);oa.g=ka(Wa);oa.b=Na(Wa);oa.opacity=$a(Wa);return oa+""}}var Z=k(R);X.gamma=T;return X}(1),ia=d(G),ca=d(L),N=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,
C=new RegExp(N.source,"g"),W=180/Math.PI,ha={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Y,wa=E(function(R){R=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(R+"");return R.isIdentity?ha:y(R.a,R.b,R.c,R.d,R.e,R.f)},"px, ","px)","deg)"),xa=E(function(R){if(null==R)return ha;Y||(Y=document.createElementNS("http://www.w3.org/2000/svg","g"));Y.setAttribute("transform",R);if(!(R=Y.transform.baseVal.consolidate()))return ha;R=R.matrix;return y(R.a,R.b,R.c,R.d,R.e,R.f)},", ",
")",")"),Ha=function oa(T,X,Z){function na(Aa,ka){var Na=Aa[0],$a=Aa[1],Wa=Aa[2];Aa=ka[2];var Ca=ka[0]-Na,Da=ka[1]-$a,ma=Ca*Ca+Da*Da;if(1E-12>ma){var Ea=Math.log(Aa/Wa)/T;Aa=function(yb){return[Na+yb*Ca,$a+yb*Da,Wa*Math.exp(T*yb*Ea)]}}else{var Qa=Math.sqrt(ma);ka=(Aa*Aa-Wa*Wa+Z*ma)/(2*Wa*X*Qa);Aa=(Aa*Aa-Wa*Wa-Z*ma)/(2*Aa*X*Qa);var eb=Math.log(Math.sqrt(ka*ka+1)-ka);Ea=(Math.log(Math.sqrt(Aa*Aa+1)-Aa)-eb)/T;Aa=function(yb){yb*=Ea;var Qb=H(eb),fc=T*yb+eb;var ad=((fc=Math.exp(2*fc))-1)/(fc+1);var ic=
eb;fc=((ic=Math.exp(ic))-1/ic)/2;ad=Wa/(X*Qa)*(Qb*ad-fc);return[Na+ad*Ca,$a+ad*Da,Wa*Qb/H(T*yb+eb)]}}Aa.duration=1E3*Ea*T/Math.SQRT2;return Aa}na.rho=function(Aa){Aa=Math.max(.001,+Aa);var ka=Aa*Aa;return oa(Aa,ka,ka*ka)};return na}(Math.SQRT2,2,4),Za=Q(t),gb=Q(g),ra=S(t),Pa=S(g),Ua=ea(t),za=ea(g);m.interpolate=D;m.interpolateArray=function(T,X){return(a(X)?f:e)(T,X)};m.interpolateBasis=G;m.interpolateBasisClosed=L;m.interpolateCubehelix=Ua;m.interpolateCubehelixLong=za;m.interpolateDate=n;m.interpolateDiscrete=
function(T){var X=T.length;return function(Z){return T[Math.max(0,Math.min(X-1,Math.floor(Z*X)))]}};m.interpolateHcl=ra;m.interpolateHclLong=Pa;m.interpolateHsl=Za;m.interpolateHslLong=gb;m.interpolateHue=function(T,X){var Z=t(+T,+X);return function(oa){oa=Z(oa);return oa-360*Math.floor(oa/360)}};m.interpolateLab=function(T,X){var Z=g((T=l.lab(T)).l,(X=l.lab(X)).l),oa=g(T.a,X.a),na=g(T.b,X.b),Aa=g(T.opacity,X.opacity);return function(ka){T.l=Z(ka);T.a=oa(ka);T.b=na(ka);T.opacity=Aa(ka);return T+""}};
m.interpolateNumber=x;m.interpolateNumberArray=f;m.interpolateObject=z;m.interpolateRgb=fa;m.interpolateRgbBasis=ia;m.interpolateRgbBasisClosed=ca;m.interpolateRound=function(T,X){return T=+T,X=+X,function(Z){return Math.round(T*(1-Z)+X*Z)}};m.interpolateString=K;m.interpolateTransformCss=wa;m.interpolateTransformSvg=xa;m.interpolateZoom=Ha;m.piecewise=function(T,X){void 0===X&&(X=T,T=D);for(var Z=0,oa=X.length-1,na=X[0],Aa=Array(0>oa?0:oa);Z<oa;)Aa[Z]=T(na,na=X[++Z]);return function(ka){var Na=Math.max(0,
Math.min(oa-1,Math.floor(ka*=oa)));return Aa[Na](ka-Na)}};m.quantize=function(T,X){for(var Z=Array(X),oa=0;oa<X;++oa)Z[oa]=T(oa/(X-1));return Z};Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[36]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J,A(17),A(35),A(18),A(19),A(21)):"function"===typeof define&&define.amd?define("exports d3-array d3-interpolate d3-format d3-time d3-time-format".split(" "),l):(m=m||self,l(m.d3=m.d3||{},m.d3,m.d3,m.d3,m.d3,m.d3))})(this,function(m,l,u,G,L,w){function v(ib,$b){switch(arguments.length){case 0:break;case 1:this.range(ib);break;default:this.range($b).domain(ib)}return this}function t(ib,$b){switch(arguments.length){case 0:break;
case 1:"function"===typeof ib?this.interpolator(ib):this.range(ib);break;default:this.domain(ib),"function"===typeof $b?this.interpolator($b):this.range($b)}return this}function k(){function ib(jc){var Oc=jc+"",Hc=$b.get(Oc);if(!Hc){if(Ec!==Qb)return Ec;$b.set(Oc,Hc=bc.push(jc))}return kc[(Hc-1)%kc.length]}var $b=new Map,bc=[],kc=[],Ec=Qb;ib.domain=function(jc){if(!arguments.length)return bc.slice();bc=[];$b=new Map;for(const Oc of jc){const Hc=Oc+"";$b.has(Hc)||$b.set(Hc,bc.push(Oc))}return ib};
ib.range=function(jc){return arguments.length?(kc=Array.from(jc),ib):kc.slice()};ib.unknown=function(jc){return arguments.length?(Ec=jc,ib):Ec};ib.copy=function(){return k(bc,kc).unknown(Ec)};v.apply(ib,arguments);return ib}function g(){function ib(){var hd=bc().length,Fd=jc<Ec,Ib=Fd?jc:Ec,Zb=Fd?Ec:jc;Oc=(Zb-Ib)/Math.max(1,hd-td+2*Qd);Bc&&(Oc=Math.floor(Oc));Ib+=(Zb-Ib-Oc*(hd-td))*jd;Hc=Oc*(1-td);Bc&&(Ib=Math.round(Ib),Hc=Math.round(Hc));hd=l.range(hd).map(function(xb){return Ib+Oc*xb});return kc(Fd?
hd.reverse():hd)}var $b=k().unknown(void 0),bc=$b.domain,kc=$b.range,Ec=0,jc=1,Oc,Hc,Bc=!1,td=0,Qd=0,jd=.5;delete $b.unknown;$b.domain=function(hd){return arguments.length?(bc(hd),ib()):bc()};$b.range=function(hd){return arguments.length?([Ec,jc]=hd,Ec=+Ec,jc=+jc,ib()):[Ec,jc]};$b.rangeRound=function(hd){return[Ec,jc]=hd,Ec=+Ec,jc=+jc,Bc=!0,ib()};$b.bandwidth=function(){return Hc};$b.step=function(){return Oc};$b.round=function(hd){return arguments.length?(Bc=!!hd,ib()):Bc};$b.padding=function(hd){return arguments.length?
(td=Math.min(1,Qd=+hd),ib()):td};$b.paddingInner=function(hd){return arguments.length?(td=Math.min(1,hd),ib()):td};$b.paddingOuter=function(hd){return arguments.length?(Qd=+hd,ib()):Qd};$b.align=function(hd){return arguments.length?(jd=Math.max(0,Math.min(1,hd)),ib()):jd};$b.copy=function(){return g(bc(),[Ec,jc]).round(Bc).paddingInner(td).paddingOuter(Qd).align(jd)};return v.apply(ib(),arguments)}function d(ib){var $b=ib.copy;ib.padding=ib.paddingOuter;delete ib.paddingInner;delete ib.paddingOuter;
ib.copy=function(){return d($b())};return ib}function f(ib){return function(){return ib}}function a(ib){return+ib}function e(ib){return ib}function n(ib,$b){return($b-=ib=+ib)?function(bc){return(bc-ib)/$b}:f(isNaN($b)?NaN:.5)}function x(ib,$b){if(ib>$b){var bc=ib;ib=$b;$b=bc}return function(kc){return Math.max(ib,Math.min($b,kc))}}function z(ib,$b,bc){var kc=ib[0];ib=ib[1];var Ec=$b[0];$b=$b[1];ib<kc?(kc=n(ib,kc),Ec=bc($b,Ec)):(kc=n(kc,ib),Ec=bc(Ec,$b));return function(jc){return Ec(kc(jc))}}function B(ib,
$b,bc){var kc=Math.min(ib.length,$b.length)-1,Ec=Array(kc),jc=Array(kc),Oc=-1;ib[kc]<ib[0]&&(ib=ib.slice().reverse(),$b=$b.slice().reverse());for(;++Oc<kc;)Ec[Oc]=n(ib[Oc],ib[Oc+1]),jc[Oc]=bc($b[Oc],$b[Oc+1]);return function(Hc){var Bc=l.bisect(ib,Hc,1,kc)-1;return jc[Bc](Ec[Bc](Hc))}}function M(ib,$b){return $b.domain(ib.domain()).range(ib.range()).interpolate(ib.interpolate()).clamp(ib.clamp()).unknown(ib.unknown())}function K(){function ib(){var hd=Math.min(bc.length,kc.length);Bc!==e&&(Bc=x(bc[0],
bc[hd-1]));td=2<hd?B:z;Qd=jd=null;return $b}function $b(hd){return isNaN(hd=+hd)?Hc:(Qd||(Qd=td(bc.map(jc),kc,Ec)))(jc(Bc(hd)))}var bc=fc,kc=fc,Ec=u.interpolate,jc,Oc,Hc,Bc=e,td,Qd,jd;$b.invert=function(hd){return Bc(Oc((jd||(jd=td(kc,bc.map(jc),u.interpolateNumber)))(hd)))};$b.domain=function(hd){return arguments.length?(bc=Array.from(hd,a),ib()):bc.slice()};$b.range=function(hd){return arguments.length?(kc=Array.from(hd),ib()):kc.slice()};$b.rangeRound=function(hd){return kc=Array.from(hd),Ec=u.interpolateRound,
ib()};$b.clamp=function(hd){return arguments.length?(Bc=hd?!0:e,ib()):Bc!==e};$b.interpolate=function(hd){return arguments.length?(Ec=hd,ib()):Ec};$b.unknown=function(hd){return arguments.length?(Hc=hd,$b):Hc};return function(hd,Fd){jc=hd;Oc=Fd;return ib()}}function D(ib,$b,bc,kc){bc=l.tickStep(ib,$b,bc);var Ec;kc=G.formatSpecifier(null==kc?",f":kc);switch(kc.type){case "s":return ib=Math.max(Math.abs(ib),Math.abs($b)),null!=kc.precision||isNaN(Ec=G.precisionPrefix(bc,ib))||(kc.precision=Ec),G.formatPrefix(kc,
ib);case "":case "e":case "g":case "p":case "r":null!=kc.precision||isNaN(Ec=G.precisionRound(bc,Math.max(Math.abs(ib),Math.abs($b))))||(kc.precision=Ec-("e"===kc.type));break;case "f":case "%":null!=kc.precision||isNaN(Ec=G.precisionFixed(bc))||(kc.precision=Ec-2*("%"===kc.type))}return G.format(kc)}function y(ib){var $b=ib.domain;ib.ticks=function(bc){var kc=$b();return l.ticks(kc[0],kc[kc.length-1],null==bc?10:bc)};ib.tickFormat=function(bc,kc){var Ec=$b();return D(Ec[0],Ec[Ec.length-1],null==
bc?10:bc,kc)};ib.nice=function(bc){null==bc&&(bc=10);var kc=$b(),Ec=0,jc=kc.length-1,Oc=kc[Ec],Hc=kc[jc],Bc=10;if(Hc<Oc){var td=Oc;Oc=Hc;Hc=td;td=Ec;Ec=jc;jc=td}for(;0<Bc--;){td=l.tickIncrement(Oc,Hc,bc);if(td===Qd)return kc[Ec]=Oc,kc[jc]=Hc,$b(kc);if(0<td)Oc=Math.floor(Oc/td)*td,Hc=Math.ceil(Hc/td)*td;else if(0>td)Oc=Math.ceil(Oc*td)/td,Hc=Math.floor(Hc*td)/td;else break;var Qd=td}return ib};return ib}function E(){var ib=K()(e,e);ib.copy=function(){return M(ib,E())};v.apply(ib,arguments);return y(ib)}
function H(ib){function $b(kc){return isNaN(kc=+kc)?bc:kc}var bc;$b.invert=$b;$b.domain=$b.range=function(kc){return arguments.length?(ib=Array.from(kc,a),$b):ib.slice()};$b.unknown=function(kc){return arguments.length?(bc=kc,$b):bc};$b.copy=function(){return H(ib).unknown(bc)};ib=arguments.length?Array.from(ib,a):[0,1];return y($b)}function Q(ib,$b){ib=ib.slice();var bc=0,kc=ib.length-1,Ec=ib[bc],jc=ib[kc];if(jc<Ec){var Oc=bc;bc=kc;kc=Oc;Oc=Ec;Ec=jc;jc=Oc}ib[bc]=$b.floor(Ec);ib[kc]=$b.ceil(jc);return ib}
function S(ib){return Math.log(ib)}function ea(ib){return Math.exp(ib)}function ba(ib){return-Math.log(-ib)}function fa(ib){return-Math.exp(-ib)}function ia(ib){return isFinite(ib)?+("1e"+ib):0>ib?0:ib}function ca(ib){return 10===ib?ia:ib===Math.E?Math.exp:function($b){return Math.pow(ib,$b)}}function N(ib){return ib===Math.E?Math.log:10===ib&&Math.log10||2===ib&&Math.log2||(ib=Math.log(ib),function($b){return Math.log($b)/ib})}function C(ib){return function($b){return-ib(-$b)}}function W(ib){function $b(){jc=
N(Ec);Oc=ca(Ec);0>kc()[0]?(jc=C(jc),Oc=C(Oc),ib(ba,fa)):ib(S,ea);return bc}var bc=ib(S,ea),kc=bc.domain,Ec=10,jc,Oc;bc.base=function(Hc){return arguments.length?(Ec=+Hc,$b()):Ec};bc.domain=function(Hc){return arguments.length?(kc(Hc),$b()):kc()};bc.ticks=function(Hc){var Bc=kc(),td=Bc[0];Bc=Bc[Bc.length-1];var Qd;if(Qd=Bc<td)jd=td,td=Bc,Bc=jd;var jd=jc(td),hd=jc(Bc),Fd=null==Hc?10:+Hc,Ib=[];if(!(Ec%1)&&hd-jd<Fd){jd=Math.floor(jd);hd=Math.ceil(hd);if(0<td)for(;jd<=hd;++jd){var Zb=1;for(Hc=Oc(jd);Zb<
Ec;++Zb){var xb=Hc*Zb;if(!(xb<td)){if(xb>Bc)break;Ib.push(xb)}}}else for(;jd<=hd;++jd)for(Zb=Ec-1,Hc=Oc(jd);1<=Zb;--Zb)if(xb=Hc*Zb,!(xb<td)){if(xb>Bc)break;Ib.push(xb)}2*Ib.length<Fd&&(Ib=l.ticks(td,Bc,Fd))}else Ib=l.ticks(jd,hd,Math.min(hd-jd,Fd)).map(Oc);return Qd?Ib.reverse():Ib};bc.tickFormat=function(Hc,Bc){null==Bc&&(Bc=10===Ec?".0e":",");"function"!==typeof Bc&&(Bc=G.format(Bc));if(Infinity===Hc)return Bc;null==Hc&&(Hc=10);var td=Math.max(1,Ec*Hc/bc.ticks().length);return function(Qd){var jd=
Qd/Oc(Math.round(jc(Qd)));jd*Ec<Ec-.5&&(jd*=Ec);return jd<=td?Bc(Qd):""}};bc.nice=function(){return kc(Q(kc(),{floor:function(Hc){return Oc(Math.floor(jc(Hc)))},ceil:function(Hc){return Oc(Math.ceil(jc(Hc)))}}))};return bc}function ha(){var ib=W(K()).domain([1,10]);ib.copy=function(){return M(ib,ha()).base(ib.base())};v.apply(ib,arguments);return ib}function Y(ib){return function($b){return Math.sign($b)*Math.log1p(Math.abs($b/ib))}}function wa(ib){return function($b){return Math.sign($b)*Math.expm1(Math.abs($b))*
ib}}function xa(ib){var $b=1,bc=ib(Y($b),wa($b));bc.constant=function(kc){return arguments.length?ib(Y($b=+kc),wa($b)):$b};return y(bc)}function Ha(){var ib=xa(K());ib.copy=function(){return M(ib,Ha()).constant(ib.constant())};return v.apply(ib,arguments)}function Za(ib){return function($b){return 0>$b?-Math.pow(-$b,ib):Math.pow($b,ib)}}function gb(ib){return 0>ib?-Math.sqrt(-ib):Math.sqrt(ib)}function ra(ib){return 0>ib?-ib*ib:ib*ib}function Pa(ib){var $b=ib(e,e),bc=1;$b.exponent=function(kc){return arguments.length?
(bc=+kc,1===bc?ib(e,e):.5===bc?ib(gb,ra):ib(Za(bc),Za(1/bc))):bc};return y($b)}function Ua(){var ib=Pa(K());ib.copy=function(){return M(ib,Ua()).exponent(ib.exponent())};v.apply(ib,arguments);return ib}function za(ib){return Math.sign(ib)*ib*ib}function qa(){function ib(jc){jc=$b(jc);jc=Math.sign(jc)*Math.sqrt(Math.abs(jc));return isNaN(jc)?Ec:kc?Math.round(jc):jc}var $b=K()(e,e),bc=[0,1],kc=!1,Ec;ib.invert=function(jc){return $b.invert(za(jc))};ib.domain=function(jc){return arguments.length?($b.domain(jc),
ib):$b.domain()};ib.range=function(jc){return arguments.length?($b.range((bc=Array.from(jc,a)).map(za)),ib):bc.slice()};ib.rangeRound=function(jc){return ib.range(jc).round(!0)};ib.round=function(jc){return arguments.length?(kc=!!jc,ib):kc};ib.clamp=function(jc){return arguments.length?($b.clamp(jc),ib):$b.clamp()};ib.unknown=function(jc){return arguments.length?(Ec=jc,ib):Ec};ib.copy=function(){return qa($b.domain(),bc).round(kc).clamp($b.clamp()).unknown(Ec)};v.apply(ib,arguments);return y(ib)}
function R(){function ib(){var Oc=0,Hc=Math.max(1,kc.length);for(Ec=Array(Hc-1);++Oc<Hc;)Ec[Oc-1]=l.quantileSorted(bc,Oc/Hc);return $b}function $b(Oc){return isNaN(Oc=+Oc)?jc:kc[l.bisect(Ec,Oc)]}var bc=[],kc=[],Ec=[],jc;$b.invertExtent=function(Oc){Oc=kc.indexOf(Oc);return 0>Oc?[NaN,NaN]:[0<Oc?Ec[Oc-1]:bc[0],Oc<Ec.length?Ec[Oc]:bc[bc.length-1]]};$b.domain=function(Oc){if(!arguments.length)return bc.slice();bc=[];for(let Hc of Oc)null==Hc||isNaN(Hc=+Hc)||bc.push(Hc);bc.sort(l.ascending);return ib()};
$b.range=function(Oc){return arguments.length?(kc=Array.from(Oc),ib()):kc.slice()};$b.unknown=function(Oc){return arguments.length?(jc=Oc,$b):jc};$b.quantiles=function(){return Ec.slice()};$b.copy=function(){return R().domain(bc).range(kc).unknown(jc)};return v.apply($b,arguments)}function T(){function ib(Bc){return Bc<=Bc?Oc[l.bisect(jc,Bc,0,Ec)]:Hc}function $b(){var Bc=-1;for(jc=Array(Ec);++Bc<Ec;)jc[Bc]=((Bc+1)*kc-(Bc-Ec)*bc)/(Ec+1);return ib}var bc=0,kc=1,Ec=1,jc=[.5],Oc=[0,1],Hc;ib.domain=function(Bc){return arguments.length?
([bc,kc]=Bc,bc=+bc,kc=+kc,$b()):[bc,kc]};ib.range=function(Bc){return arguments.length?(Ec=(Oc=Array.from(Bc)).length-1,$b()):Oc.slice()};ib.invertExtent=function(Bc){Bc=Oc.indexOf(Bc);return 0>Bc?[NaN,NaN]:1>Bc?[bc,jc[0]]:Bc>=Ec?[jc[Ec-1],kc]:[jc[Bc-1],jc[Bc]]};ib.unknown=function(Bc){return arguments.length?(Hc=Bc,ib):ib};ib.thresholds=function(){return jc.slice()};ib.copy=function(){return T().domain([bc,kc]).range(Oc).unknown(Hc)};return v.apply(y(ib),arguments)}function X(){function ib(jc){return jc<=
jc?bc[l.bisect($b,jc,0,Ec)]:kc}var $b=[.5],bc=[0,1],kc,Ec=1;ib.domain=function(jc){return arguments.length?($b=Array.from(jc),Ec=Math.min($b.length,bc.length-1),ib):$b.slice()};ib.range=function(jc){return arguments.length?(bc=Array.from(jc),Ec=Math.min($b.length,bc.length-1),ib):bc.slice()};ib.invertExtent=function(jc){jc=bc.indexOf(jc);return[$b[jc-1],$b[jc]]};ib.unknown=function(jc){return arguments.length?(kc=jc,ib):kc};ib.copy=function(){return X().domain($b).range(bc).unknown(kc)};return v.apply(ib,
arguments)}function Z(ib){return new Date(ib)}function oa(ib){return ib instanceof Date?+ib:+new Date(+ib)}function na(ib,$b,bc,kc,Ec,jc,Oc,Hc,Bc){function td(qb){return(Oc(qb)<qb?Ib:jc(qb)<qb?Zb:Ec(qb)<qb?xb:kc(qb)<qb?qc:$b(qb)<qb?bc(qb)<qb?Nc:qd:ib(qb)<qb?Ed:Ga)(qb)}function Qd(qb,Bb,Tb){null==qb&&(qb=10);if("number"===typeof qb){var Eb=Math.abs(Tb-Bb)/qb,rc=l.bisector(function(lc){return lc[2]}).right(ab,Eb);rc===ab.length?(Bb=l.tickStep(Bb/xc,Tb/xc,qb),qb=ib):rc?(rc=ab[Eb/ab[rc-1][2]<ab[rc][2]/
Eb?rc-1:rc],Bb=rc[1],qb=rc[0]):(Bb=Math.max(l.tickStep(Bb,Tb,qb),1),qb=Hc);return qb.every(Bb)}return qb}var jd=K()(e,e),hd=jd.invert,Fd=jd.domain,Ib=Bc(".%L"),Zb=Bc(":%S"),xb=Bc("%I:%M"),qc=Bc("%I %p"),Nc=Bc("%a %d"),qd=Bc("%b %d"),Ed=Bc("%B"),Ga=Bc("%Y"),ab=[[Oc,1,1E3],[Oc,5,5E3],[Oc,15,15E3],[Oc,30,3E4],[jc,1,6E4],[jc,5,3E5],[jc,15,9E5],[jc,30,18E5],[Ec,1,36E5],[Ec,3,108E5],[Ec,6,216E5],[Ec,12,432E5],[kc,1,864E5],[kc,2,1728E5],[bc,1,ad],[$b,1,ic],[$b,3,3*ic],[ib,1,xc]];jd.invert=function(qb){return new Date(hd(qb))};
jd.domain=function(qb){return arguments.length?Fd(Array.from(qb,oa)):Fd().map(Z)};jd.ticks=function(qb){var Bb=Fd(),Tb=Bb[0];Bb=Bb[Bb.length-1];var Eb=Bb<Tb;if(Eb){var rc=Tb;Tb=Bb;Bb=rc}rc=(rc=Qd(qb,Tb,Bb))?rc.range(Tb,Bb+1):[];return Eb?rc.reverse():rc};jd.tickFormat=function(qb,Bb){return null==Bb?td:Bc(Bb)};jd.nice=function(qb){var Bb=Fd();return(qb=Qd(qb,Bb[0],Bb[Bb.length-1]))?Fd(Q(Bb,qb)):jd};jd.copy=function(){return M(jd,na(ib,$b,bc,kc,Ec,jc,Oc,Hc,Bc))};return jd}function Aa(){function ib(jd){return isNaN(jd=
+jd)?Qd:Bc(0===Oc?.5:(jd=(Hc(jd)-Ec)*Oc,td?Math.max(0,Math.min(1,jd)):jd))}function $b(jd){return function(hd){var Fd,Ib;return arguments.length?([Fd,Ib]=hd,Bc=jd(Fd,Ib),ib):[Bc(0),Bc(1)]}}var bc=0,kc=1,Ec,jc,Oc,Hc,Bc=e,td=!1,Qd;ib.domain=function(jd){return arguments.length?([bc,kc]=jd,Ec=Hc(bc=+bc),jc=Hc(kc=+kc),Oc=Ec===jc?0:1/(jc-Ec),ib):[bc,kc]};ib.clamp=function(jd){return arguments.length?(td=!!jd,ib):td};ib.interpolator=function(jd){return arguments.length?(Bc=jd,ib):Bc};ib.range=$b(u.interpolate);
ib.rangeRound=$b(u.interpolateRound);ib.unknown=function(jd){return arguments.length?(Qd=jd,ib):Qd};return function(jd){Hc=jd;Ec=jd(bc);jc=jd(kc);Oc=Ec===jc?0:1/(jc-Ec);return ib}}function ka(ib,$b){return $b.domain(ib.domain()).interpolator(ib.interpolator()).clamp(ib.clamp()).unknown(ib.unknown())}function Na(){var ib=y(Aa()(e));ib.copy=function(){return ka(ib,Na())};return t.apply(ib,arguments)}function $a(){var ib=W(Aa()).domain([1,10]);ib.copy=function(){return ka(ib,$a()).base(ib.base())};return t.apply(ib,
arguments)}function Wa(){var ib=xa(Aa());ib.copy=function(){return ka(ib,Wa()).constant(ib.constant())};return t.apply(ib,arguments)}function Ca(){var ib=Pa(Aa());ib.copy=function(){return ka(ib,Ca()).exponent(ib.exponent())};return t.apply(ib,arguments)}function Da(){function ib(kc){if(!isNaN(kc=+kc))return bc((l.bisect($b,kc,1)-1)/($b.length-1))}var $b=[],bc=e;ib.domain=function(kc){if(!arguments.length)return $b.slice();$b=[];for(let Ec of kc)null==Ec||isNaN(Ec=+Ec)||$b.push(Ec);$b.sort(l.ascending);
return ib};ib.interpolator=function(kc){return arguments.length?(bc=kc,ib):bc};ib.range=function(){return $b.map((kc,Ec)=>bc(Ec/($b.length-1)))};ib.quantiles=function(kc){return Array.from({length:kc+1},(Ec,jc)=>l.quantile($b,jc/kc))};ib.copy=function(){return Da(bc).domain($b)};return t.apply(ib,arguments)}function ma(){function ib(Zb){return isNaN(Zb=+Zb)?Ib:(Zb=.5+((Zb=+hd(Zb))-Hc)*(jc*Zb<jc*Hc?td:Qd),jd(Fd?Math.max(0,Math.min(1,Zb)):Zb))}function $b(Zb){return function(xb){var qc,Nc,qd;return arguments.length?
([qc,Nc,qd]=xb,jd=u.piecewise(Zb,[qc,Nc,qd]),ib):[jd(0),jd(.5),jd(1)]}}var bc=0,kc=.5,Ec=1,jc=1,Oc,Hc,Bc,td,Qd,jd=e,hd,Fd=!1,Ib;ib.domain=function(Zb){return arguments.length?([bc,kc,Ec]=Zb,Oc=hd(bc=+bc),Hc=hd(kc=+kc),Bc=hd(Ec=+Ec),td=Oc===Hc?0:.5/(Hc-Oc),Qd=Hc===Bc?0:.5/(Bc-Hc),jc=Hc<Oc?-1:1,ib):[bc,kc,Ec]};ib.clamp=function(Zb){return arguments.length?(Fd=!!Zb,ib):Fd};ib.interpolator=function(Zb){return arguments.length?(jd=Zb,ib):jd};ib.range=$b(u.interpolate);ib.rangeRound=$b(u.interpolateRound);
ib.unknown=function(Zb){return arguments.length?(Ib=Zb,ib):Ib};return function(Zb){hd=Zb;Oc=Zb(bc);Hc=Zb(kc);Bc=Zb(Ec);td=Oc===Hc?0:.5/(Hc-Oc);Qd=Hc===Bc?0:.5/(Bc-Hc);jc=Hc<Oc?-1:1;return ib}}function Ea(){var ib=y(ma()(e));ib.copy=function(){return ka(ib,Ea())};return t.apply(ib,arguments)}function Qa(){var ib=W(ma()).domain([.1,1,10]);ib.copy=function(){return ka(ib,Qa()).base(ib.base())};return t.apply(ib,arguments)}function eb(){var ib=xa(ma());ib.copy=function(){return ka(ib,eb()).constant(ib.constant())};
return t.apply(ib,arguments)}function yb(){var ib=Pa(ma());ib.copy=function(){return ka(ib,yb()).exponent(ib.exponent())};return t.apply(ib,arguments)}const Qb=Symbol("implicit");var fc=[0,1],ad=6048E5,ic=2592E6,xc=31536E6;m.scaleBand=g;m.scaleDiverging=Ea;m.scaleDivergingLog=Qa;m.scaleDivergingPow=yb;m.scaleDivergingSqrt=function(){return yb.apply(null,arguments).exponent(.5)};m.scaleDivergingSymlog=eb;m.scaleIdentity=H;m.scaleImplicit=Qb;m.scaleLinear=E;m.scaleLog=ha;m.scaleOrdinal=k;m.scalePoint=
function(){return d(g.apply(null,arguments).paddingInner(1))};m.scalePow=Ua;m.scaleQuantile=R;m.scaleQuantize=T;m.scaleRadial=qa;m.scaleSequential=Na;m.scaleSequentialLog=$a;m.scaleSequentialPow=Ca;m.scaleSequentialQuantile=Da;m.scaleSequentialSqrt=function(){return Ca.apply(null,arguments).exponent(.5)};m.scaleSequentialSymlog=Wa;m.scaleSqrt=function(){return Ua.apply(null,arguments).exponent(.5)};m.scaleSymlog=Ha;m.scaleThreshold=X;m.scaleTime=function(){return v.apply(na(L.timeYear,L.timeMonth,
L.timeWeek,L.timeDay,L.timeHour,L.timeMinute,L.timeSecond,L.timeMillisecond,w.timeFormat).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)};m.scaleUtc=function(){return v.apply(na(L.utcYear,L.utcMonth,L.utcWeek,L.utcDay,L.utcHour,L.utcMinute,L.utcSecond,L.utcMillisecond,w.utcFormat).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)};m.tickFormat=D;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[37]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J,A(16),A(17),A(36),A(35),A(20)):"function"===typeof define&&define.amd?define("exports vega-util d3-array d3-scale d3-interpolate vega-time".split(" "),l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.vega={},m.vega,m.d3,m.d3,m.d3,m.vega))})(this,function(m,l,u,G,L,w){function v(R,T,X){T=R-T+2*X;return R?0<T?T:1:0}function t(R){return function(T){let X=T[0];T=T[1];let Z;T<X&&(Z=X,X=T,
T=Z);return[R.invert(X),R.invert(T)]}}function k(R){return function(T){const X=R.range();let Z=T[0];T=T[1];let oa=-1,na;let Aa;if(T<Z){var ka=Z;Z=T;T=ka}ka=0;for(Aa=X.length;ka<Aa;++ka)X[ka]>=Z&&X[ka]<=T&&(0>oa&&(oa=ka),na=ka);if(!(0>oa))return Z=R.invertExtent(X[oa]),T=R.invertExtent(X[na]),[void 0===Z[0]?Z[1]:Z[0],void 0===T[1]?T[0]:T[1]]}}function g(){function R(){var Ca=X().length;const Da=oa[1]<oa[0],ma=oa[1-Da],Ea=v(Ca,Na,$a);let Qa=oa[Da-0];na=(ma-Qa)/(Ea||1);ka&&(na=Math.floor(na));Qa+=(ma-
Qa-na*(Ca-Na))*Wa;Aa=na*(1-Na);ka&&(Qa=Math.round(Qa),Aa=Math.round(Aa));Ca=u.range(Ca).map(eb=>Qa+na*eb);return Z(Da?Ca.reverse():Ca)}const T=G.scaleOrdinal().unknown(void 0),X=T.domain,Z=T.range;let oa=[0,1],na,Aa,ka=!1,Na=0,$a=0,Wa=.5;delete T.unknown;T.domain=function(Ca){return arguments.length?(X(Ca),R()):X()};T.range=function(Ca){return arguments.length?(oa=[+Ca[0],+Ca[1]],R()):oa.slice()};T.rangeRound=function(Ca){oa=[+Ca[0],+Ca[1]];ka=!0;return R()};T.bandwidth=function(){return Aa};T.step=
function(){return na};T.round=function(Ca){return arguments.length?(ka=!!Ca,R()):ka};T.padding=function(Ca){return arguments.length?(Na=$a=Math.max(0,Math.min(1,Ca)),R()):Na};T.paddingInner=function(Ca){return arguments.length?(Na=Math.max(0,Math.min(1,Ca)),R()):Na};T.paddingOuter=function(Ca){return arguments.length?($a=Math.max(0,Math.min(1,Ca)),R()):$a};T.align=function(Ca){return arguments.length?(Wa=Math.max(0,Math.min(1,Ca)),R()):Wa};T.invertRange=function(Ca){if(null!=Ca[0]&&null!=Ca[1]){var Da=
oa[1]<oa[0],ma=Da?Z().reverse():Z(),Ea=ma.length-1,Qa=+Ca[0],eb=+Ca[1];if(Qa===Qa&&eb===eb){if(eb<Qa){var yb=Qa;Qa=eb;eb=yb}if(!(eb<ma[0]||Qa>oa[1-Da]))return Ca=Math.max(0,u.bisectRight(ma,Qa)-1),eb=Qa===eb?Ca:u.bisectRight(ma,eb)-1,Qa-ma[Ca]>Aa+1E-10&&++Ca,Da&&(yb=Ca,Ca=Ea-eb,eb=Ea-yb),Ca>eb?void 0:X().slice(Ca,eb+1)}}};T.invert=function(Ca){return(Ca=T.invertRange([Ca,Ca]))?Ca[0]:Ca};T.copy=function(){return g().domain(X()).range(oa).round(ka).paddingInner(Na).paddingOuter($a).align(Wa)};return R()}
function d(R){const T=R.copy;R.padding=R.paddingOuter;delete R.paddingInner;R.copy=function(){return d(T())};return R}function f(){function R(Z){return null==Z||Z!==Z?void 0:X[(u.bisect(T,Z)-1)%X.length]}let T=[],X=[];R.domain=function(Z){return arguments.length?(T=W.call(Z,l.toNumber),R):T.slice()};R.range=function(Z){return arguments.length?(X=ha.call(Z),R):X.slice()};R.tickFormat=function(Z,oa){return G.tickFormat(T[0],l.peek(T),null==Z?10:Z,oa)};R.copy=function(){return f().domain(R.domain()).range(R.range())};
return R}function a(R,T,X){const Z=function(){const oa=T();oa.invertRange||(oa.invertRange=oa.invert?t(oa):oa.invertExtent?k(oa):void 0);oa.type=R;return oa};Z.metadata=l.toSet(l.array(X));return Z}function e(R,T,X){return 1<arguments.length?(Y[R]=a(R,T,X),this):n(R)?Y[R]:void 0}function n(R){return l.hasOwnProperty(Y,R)}function x(R,T){return(R=Y[R])&&R.metadata[T]}function z(R){return x(R,"discrete")}function B(R){return x(R,"discretizing")}function M(R){return x(R,"log")}function K(R){return x(R,
"temporal")}function D(R,T,X){return L.piecewise(y(T||"rgb",X),R)}function y(R,T){R=C[E(R)];return null!=T&&R&&R.gamma?R.gamma(T):R}function E(R){return"interpolate"+R.toLowerCase().split("-").map(T=>T[0].toUpperCase()+T.slice(1)).join("")}function H(R){const T=R.length/6|0,X=Array(T);for(let Z=0;Z<T;)X[Z]="#"+R.slice(6*Z,6*++Z);return X}function Q(R,T){for(const X in R)S(X,T(R[X]))}function S(R,T){R=R&&R.toLowerCase();return 1<arguments.length?(xa[R]=T,this):xa[R]}function ea(R,T,X){var Z=R.range();
let oa=Z[0],na=l.peek(Z);Z=Za;oa>na&&(Z=na,na=oa,oa=Z,Z=gb);oa=Math.floor(oa);na=Math.ceil(na);T=T.map(Aa=>[Aa,R(Aa)]).filter(Aa=>oa<=Aa[1]&&Aa[1]<=na).sort(Z).map(Aa=>Aa[0]);if(0<X&&1<T.length){for(Z=[T[0],l.peek(T)];T.length>X&&3<=T.length;)T=T.filter((Aa,ka)=>!(ka%2));3>T.length&&(T=Z)}return T}function ba(R,T){return R.bins?ea(R,R.bins):R.ticks?R.ticks(T):R.domain()}function fa(R,T,X,Z,oa,na){const Aa=T.type;let ka=Ha;if("time"===Aa||"time"===oa)ka=R.timeFormat(Z);else if("utc"===Aa||"utc"===
oa)ka=R.utcFormat(Z);else if(M(Aa)){const Na=R.formatFloat(Z);if(na||T.bins)ka=Na;else{const $a=ia(T,X,!1);ka=Wa=>$a(Wa)?Na(Wa):""}}else T.tickFormat?(T=T.domain(),ka=R.formatSpan(T[0],T[T.length-1],X,Z)):Z&&(ka=R.format(Z));return ka}function ia(R,T,X){const Z=ba(R,T),oa=R.base(),na=Math.log(oa),Aa=Math.max(1,oa*T/Z.length);R=ka=>{ka/=Math.pow(oa,Math.round(Math.log(ka)/na));ka*oa<oa-.5&&(ka*=oa);return ka<=Aa};return X?Z.filter(R):R}function ca(R,T){R.bins?(R=R.bins,T=R.slice(0,-1),T.max=l.peek(R),
R=T):"log"===R.type?R=ia(R,T,!0):ra[R.type]?(R=R[ra[R.type]](),R=[-Infinity].concat(R),R.max=Infinity):R=ba(R,T);return R}function N(R,T,X,Z,oa,na,Aa){if(Pa[T.type]&&"time"!==na&&"utc"!==na){{X=T[Pa[T.type]]();na=X.length;Aa=1<na?X[1]-X[0]:X[0];let ka;for(ka=1;ka<na;++ka)Aa=Math.min(Aa,X[ka]-X[ka-1]);R=R.formatSpan(0,Aa,30,oa)}}else R=fa(R,T,X,oa,na,Aa);return"symbol"===Z&&(ra[T.type]||T.bins)?Ua(R):"discrete"===Z?za(R):qa(R)}var C=function(R){if(R&&R.__esModule)return R;var T=Object.create(null);
R&&Object.keys(R).forEach(function(X){if("default"!==X){var Z=Object.getOwnPropertyDescriptor(R,X);Object.defineProperty(T,X,Z.get?Z:{enumerable:!0,get:function(){return R[X]}})}});T["default"]=R;return Object.freeze(T)}(L),W=Array.prototype.map;const ha=Array.prototype.slice,Y={};e("identity",G.scaleIdentity);e("linear",G.scaleLinear,"continuous");e("log",G.scaleLog,["continuous","log"]);e("pow",G.scalePow,"continuous");e("sqrt",G.scaleSqrt,"continuous");e("symlog",G.scaleSymlog,"continuous");e("time",
G.scaleTime,["continuous","temporal"]);e("utc",G.scaleUtc,["continuous","temporal"]);e("sequential",G.scaleSequential,["continuous","interpolating"]);e("sequential-linear",G.scaleSequential,["continuous","interpolating"]);e("sequential-log",G.scaleSequentialLog,["continuous","interpolating","log"]);e("sequential-pow",G.scaleSequentialPow,["continuous","interpolating"]);e("sequential-sqrt",G.scaleSequentialSqrt,["continuous","interpolating"]);e("sequential-symlog",G.scaleSequentialSymlog,["continuous",
"interpolating"]);e("diverging-linear",G.scaleDiverging,["continuous","interpolating"]);e("diverging-log",G.scaleDivergingLog,["continuous","interpolating","log"]);e("diverging-pow",G.scaleDivergingPow,["continuous","interpolating"]);e("diverging-sqrt",G.scaleDivergingSqrt,["continuous","interpolating"]);e("diverging-symlog",G.scaleDivergingSymlog,["continuous","interpolating"]);e("quantile",G.scaleQuantile,["discretizing","quantile"]);e("quantize",G.scaleQuantize,"discretizing");e("threshold",G.scaleThreshold,
"discretizing");e("bin-ordinal",f,["discrete","discretizing"]);e("ordinal",G.scaleOrdinal,"discrete");e("band",g,"discrete");e("point",function(){return d(g().paddingInner(1))},"discrete");const wa=["clamp","base","constant","exponent"],xa={};Q({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",
category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",
pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},H);Q({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",
oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",
purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",
blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",
redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",
magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",
cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",
sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},R=>D(H(R)));const Ha=R=>l.isArray(R)?R.map(T=>String(T)):String(R),Za=(R,T)=>R[1]-T[1],gb=(R,T)=>T[1]-R[1],ra={["quantile"]:"quantiles",["quantize"]:"thresholds",["threshold"]:"domain"},Pa={["quantile"]:"quantiles",["quantize"]:"domain"},Ua=R=>(T,X,Z)=>{X=Z[X+1];Z=Z.max;Z=null!=Z?Z:Infinity;X=null!=X?X:Z;T=
Number.isFinite(T)?R(T):null;X=Number.isFinite(X)?R(X):null;return T&&X?T+"  "+X:X?"\x3c "+X:" "+T},za=R=>(T,X)=>X?R(T):null,qa=R=>T=>R(T);Object.defineProperty(m,"scaleImplicit",{enumerable:!0,get:function(){return G.scaleImplicit}});m.Band="band";m.BinOrdinal="bin-ordinal";m.DiscreteLegend="discrete";m.Diverging="diverging";m.GradientLegend="gradient";m.Identity="identity";m.Linear="linear";m.Log="log";m.Ordinal="ordinal";m.Point="point";m.Pow="pow";m.Quantile="quantile";m.Quantize="quantize";
m.Sequential="sequential";m.Sqrt="sqrt";m.SymbolLegend="symbol";m.Symlog="symlog";m.Threshold="threshold";m.Time="time";m.UTC="utc";m.bandSpace=v;m.domainCaption=function(R,T,X){X=X||{};var Z=Math.max(3,X.maxlen||7);{var oa=X.format;const na=(X=X.formatType)||T.type;l.isString(oa)&&K(na)&&(oa=oa.replace(/%a/g,"%A").replace(/%b/g,"%B"));R=oa||"time"!==na?oa||"utc"!==na?N(R,T,5,null,oa,X,!0):R.utcFormat("%A, %d %B %Y, %X UTC"):R.timeFormat("%A, %d %B %Y, %X")}if(B(T.type))return Z=ca(T).slice(1).map(R),
T=Z.length,`${T} boundar${1===T?"y":"ies"}: ${Z.join(", ")}`;if(z(T.type))return oa=T.domain(),T=oa.length,Z=T>Z?oa.slice(0,Z-2).map(R).join(", ")+", ending with "+oa.slice(-1).map(R):oa.map(R).join(", "),`${T} value${1===T?"":"s"}: ${Z}`;Z=T.domain();return`values from ${R(Z[0])} to ${R(l.peek(Z))}`};m.interpolate=y;m.interpolateColors=D;m.interpolateRange=function(R,T){const X=T[0],Z=l.peek(T)-X;return function(oa){return R(X+oa*Z)}};m.isContinuous=function(R){return x(R,"continuous")};m.isDiscrete=
z;m.isDiscretizing=B;m.isInterpolating=function(R){return x(R,"interpolating")};m.isLogarithmic=M;m.isQuantile=function(R){return x(R,"quantile")};m.isTemporal=K;m.isValidScaleType=n;m.labelFormat=N;m.labelFraction=function(R){var T=R.domain();const X=T.length-1;let Z=+T[0];T=+l.peek(T);let oa=T-Z;"threshold"===R.type&&(R=X?oa/X:.1,Z-=R,T+=R,oa=T-Z);return na=>(na-Z)/oa};m.labelValues=ca;m.quantizeInterpolator=function(R,T){const X=Array(T),Z=T+1;for(let oa=0;oa<T;)X[oa]=R(++oa/Z);return X};m.scale=
e;m.scaleCopy=function(R){const T=R.type;R=R.copy();R.type=T;return R};m.scaleFraction=function(R,T,X){var Z=X-T;let oa,na;return Z&&Number.isFinite(Z)?(Z=(oa=R.type).indexOf("-"),oa=0>Z?oa:oa.slice(Z+1),na=e(oa)().domain([T,X]).range([0,1]),wa.forEach(Aa=>R[Aa]?na[Aa](R[Aa]()):0),na):l.constant(.5)};m.scheme=S;m.tickCount=function(R,T,X){let Z;l.isNumber(T)&&(R.bins&&(T=Math.max(T,R.bins.length)),null!=X&&(T=Math.min(T,Math.floor(l.span(R.domain())/X||1))));l.isObject(T)&&(Z=T.step,T=T.interval);
l.isString(T)&&(T="time"===R.type?w.timeInterval(T):"utc"==R.type?w.utcInterval(T):l.error("Only time and utc scales accept interval strings."),Z&&(T=T.every(Z)));return T};m.tickFormat=fa;m.tickValues=ba;m.validTicks=ea;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[38]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J,A(16),A(32),A(31),A(33),A(27),A(37)):"function"===typeof define&&define.amd?define("exports vega-util d3-shape d3-path vega-canvas vega-loader vega-scale".split(" "),l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.vega={},m.vega,m.d3,m.d3,m.vega,m.vega,m.vega))})(this,function(m,l,u,G,L,w,v){function t(V,la,La){const Ra=V.gradient;let sb=V.id,Lb="radial"===Ra?"p_":"";sb||(sb=V.id="gradient_"+
ce++,"radial"===Ra?(V.x1=k(V.x1,.5),V.y1=k(V.y1,.5),V.r1=k(V.r1,0),V.x2=k(V.x2,.5),V.y2=k(V.y2,.5),V.r2=k(V.r2,.5),Lb="p_"):(V.x1=k(V.x1,0),V.y1=k(V.y1,0),V.x2=k(V.x2,1),V.y2=k(V.y2,0)));la[sb]=V;return"url("+(La||"")+"#"+Lb+sb+")"}function k(V,la){return null!=V?V:la}function g(V,la,La){V=l.hasOwnProperty(Re,V)&&Re[V];var Ra=null;V&&(Ra=V.curve||V[la||"vertical"],V.tension&&null!=La&&(Ra=Ra[V.tension](La)));return Ra}function d(V){const la=[];let La,Ra,sb,Lb;var Sb;const hc=V.slice().replace(Hd[0],
"###$1").split(Hd[1]).slice(1);V=0;for(Lb=hc.length;V<Lb;++V){var wc=hc[V];var Sc=wc.slice(1).trim().replace(Hd[2],"$1###$2").replace(Hd[3],"$1###$2").split(Hd[4]);Ra=wc.charAt(0);wc=[Ra];sb=0;for(Sb=Sc.length;sb<Sb;++sb)(La=+Sc[sb])===La&&wc.push(La);Sc=me[Ra.toLowerCase()];if(wc.length-1>Sc)for(Sb=wc.length,sb=1,la.push([Ra].concat(wc.slice(sb,sb+=Sc))),Ra="M"===Ra?"L":"m"===Ra?"l":Ra;sb<Sb;sb+=Sc)la.push([Ra].concat(wc.slice(sb,sb+Sc)));else la.push(wc)}return la}function f(V,la,La,Ra,sb,Lb,Sb,
hc,wc){const Sc=xe.call(arguments);if(oe[Sc])return oe[Sc];var Pc=Sb*Ge;const wd=Math.sin(Pc);Pc=Math.cos(Pc);La=Math.abs(La);Ra=Math.abs(Ra);var Nd=Pc*(hc-V)*.5+wd*(wc-la)*.5,cd=Pc*(wc-la)*.5-wd*(hc-V)*.5;Nd=Nd*Nd/(La*La)+cd*cd/(Ra*Ra);1<Nd&&(Nd=Math.sqrt(Nd),La*=Nd,Ra*=Nd);var pd=Pc/La,Xc=wd/La,Ce=-wd/Ra,Sa=Pc/Ra;Nd=pd*hc+Xc*wc;cd=Ce*hc+Sa*wc;pd=pd*V+Xc*la;Xc=Ce*V+Sa*la;Ce=1/((pd-Nd)*(pd-Nd)+(Xc-cd)*(Xc-cd))-.25;0>Ce&&(Ce=0);Sa=Math.sqrt(Ce);Lb==sb&&(Sa=-Sa);Ce=.5*(Nd+pd)-Sa*(Xc-cd);Sa=.5*(cd+Xc)+
Sa*(pd-Nd);Nd=Math.atan2(cd-Sa,Nd-Ce);cd=Math.atan2(Xc-Sa,pd-Ce)-Nd;0>cd&&1===Lb?cd+=zc:0<cd&&0===Lb&&(cd-=zc);pd=Math.ceil(Math.abs(cd/(rf+.001)));Xc=[];for(let jb=0;jb<pd;++jb)Xc[jb]=[Ce,Sa,Nd+jb*cd/pd,Nd+(jb+1)*cd/pd,La,Ra,wd,Pc];return oe[Sc]=Xc}function a(V,la,La,Ra,sb,Lb){var Sb=null,hc=0,wc=0,Sc=0,Pc=0;null==La&&(La=0);null==Ra&&(Ra=0);null==sb&&(sb=1);null==Lb&&(Lb=sb);V.beginPath&&V.beginPath();for(var wd=0,Nd=la.length;wd<Nd;++wd){var cd=la[wd];if(1!==sb||1!==Lb){var pd=sb;var Xc=Lb;var Ce=
de[0]=cd[0];if("a"===Ce||"A"===Ce)de[1]=pd*cd[1],de[2]=Xc*cd[2],de[3]=cd[3],de[4]=cd[4],de[5]=cd[5],de[6]=pd*cd[6],de[7]=Xc*cd[7];else if("h"===Ce||"H"===Ce)de[1]=pd*cd[1];else if("v"===Ce||"V"===Ce)de[1]=Xc*cd[1];else{Ce=1;for(var Sa=cd.length;Ce<Sa;++Ce)de[Ce]=(1==Ce%2?pd:Xc)*cd[Ce]}cd=de}switch(cd[0]){case "l":hc+=cd[1];wc+=cd[2];V.lineTo(hc+La,wc+Ra);break;case "L":hc=cd[1];wc=cd[2];V.lineTo(hc+La,wc+Ra);break;case "h":hc+=cd[1];V.lineTo(hc+La,wc+Ra);break;case "H":hc=cd[1];V.lineTo(hc+La,wc+
Ra);break;case "v":wc+=cd[1];V.lineTo(hc+La,wc+Ra);break;case "V":wc=cd[1];V.lineTo(hc+La,wc+Ra);break;case "m":hc+=cd[1];wc+=cd[2];V.moveTo(hc+La,wc+Ra);break;case "M":hc=cd[1];wc=cd[2];V.moveTo(hc+La,wc+Ra);break;case "c":pd=hc+cd[5];Xc=wc+cd[6];Sc=hc+cd[3];Pc=wc+cd[4];V.bezierCurveTo(hc+cd[1]+La,wc+cd[2]+Ra,Sc+La,Pc+Ra,pd+La,Xc+Ra);hc=pd;wc=Xc;break;case "C":hc=cd[5];wc=cd[6];Sc=cd[3];Pc=cd[4];V.bezierCurveTo(cd[1]+La,cd[2]+Ra,Sc+La,Pc+Ra,hc+La,wc+Ra);break;case "s":pd=hc+cd[3];Xc=wc+cd[4];Sc=
2*hc-Sc;Pc=2*wc-Pc;V.bezierCurveTo(Sc+La,Pc+Ra,hc+cd[1]+La,wc+cd[2]+Ra,pd+La,Xc+Ra);Sc=hc+cd[1];Pc=wc+cd[2];hc=pd;wc=Xc;break;case "S":pd=cd[3];Xc=cd[4];Sc=2*hc-Sc;Pc=2*wc-Pc;V.bezierCurveTo(Sc+La,Pc+Ra,cd[1]+La,cd[2]+Ra,pd+La,Xc+Ra);hc=pd;wc=Xc;Sc=cd[1];Pc=cd[2];break;case "q":pd=hc+cd[3];Xc=wc+cd[4];Sc=hc+cd[1];Pc=wc+cd[2];V.quadraticCurveTo(Sc+La,Pc+Ra,pd+La,Xc+Ra);hc=pd;wc=Xc;break;case "Q":pd=cd[3];Xc=cd[4];V.quadraticCurveTo(cd[1]+La,cd[2]+Ra,pd+La,Xc+Ra);hc=pd;wc=Xc;Sc=cd[1];Pc=cd[2];break;
case "t":pd=hc+cd[1];Xc=wc+cd[2];null===Sb[0].match(/[QqTt]/)?(Sc=hc,Pc=wc):"t"===Sb[0]?(Sc=2*hc-jb,Pc=2*wc-tb):"q"===Sb[0]&&(Sc=2*hc-Sc,Pc=2*wc-Pc);var jb=Sc;var tb=Pc;V.quadraticCurveTo(Sc+La,Pc+Ra,pd+La,Xc+Ra);hc=pd;wc=Xc;Sc=hc+cd[1];Pc=wc+cd[2];break;case "T":pd=cd[1];Xc=cd[2];Sc=2*hc-Sc;Pc=2*wc-Pc;V.quadraticCurveTo(Sc+La,Pc+Ra,pd+La,Xc+Ra);hc=pd;wc=Xc;break;case "a":e(V,hc+La,wc+Ra,[cd[1],cd[2],cd[3],cd[4],cd[5],cd[6]+hc+La,cd[7]+wc+Ra]);hc+=cd[6];wc+=cd[7];break;case "A":e(V,hc+La,wc+Ra,[cd[1],
cd[2],cd[3],cd[4],cd[5],cd[6]+La,cd[7]+Ra]);hc=cd[6];wc=cd[7];break;case "z":case "Z":V.closePath()}Sb=cd}}function e(V,la,La,Ra){la=f(Ra[5],Ra[6],Ra[0],Ra[1],Ra[3],Ra[4],Ra[2],la,La);for(La=0;La<la.length;++La){a:{var sb=la[La];Ra=xe.call(sb);if(dc[Ra]){Ra=dc[Ra];break a}var Lb=sb[0],Sb=sb[1],hc=sb[2],wc=sb[3],Sc=sb[4],Pc=sb[5],wd=sb[6],Nd=sb[7];sb=Nd*Sc;const pd=-wd*Pc;Sc*=wd;Pc*=Nd;var cd=Math.cos(hc);const Xc=Math.sin(hc);wd=Math.cos(wc);Nd=Math.sin(wc);hc=.5*(wc-hc);wc=Math.sin(.5*hc);wc=8/3*
wc*wc/Math.sin(hc);hc=Lb+cd-wc*Xc;cd=Sb+Xc+wc*cd;Lb+=wd;Sb+=Nd;Nd=Lb+wc*Nd;wd=Sb-wc*wd;Ra=dc[Ra]=[sb*hc+pd*cd,Sc*hc+Pc*cd,sb*Nd+pd*wd,Sc*Nd+Pc*wd,sb*Lb+pd*Sb,Sc*Lb+Pc*Sb]}V.bezierCurveTo(Ra[0],Ra[1],Ra[2],Ra[3],Ra[4],Ra[5])}}function n(V){return l.hasOwnProperty(Ie,V)?Ie[V]:x(V)}function x(V){if(!l.hasOwnProperty(sf,V)){const la=d(V);sf[V]={draw:function(La,Ra){a(La,la,0,0,Math.sqrt(Ra)/2)}}}return sf[V]}function z(V){return V.x}function B(V){return V.y}function M(V){return V.width}function K(V){return V.height}
function D(V){return"function"===typeof V?V:()=>+V}function y(V,la,La){return Math.max(la,Math.min(V,La))}function E(){function V(Pc,wd,Nd){var cd;wd=null!=wd?wd:+la.call(this,Pc);Nd=null!=Nd?Nd:+La.call(this,Pc);var pd=+Ra.call(this,Pc),Xc=+sb.call(this,Pc),Ce=Math.min(pd,Xc)/2,Sa=y(+Lb.call(this,Pc),0,Ce),jb=y(+Sb.call(this,Pc),0,Ce),tb=y(+hc.call(this,Pc),0,Ce);Pc=y(+wc.call(this,Pc),0,Ce);Sc||(Sc=cd=G.path());0>=Sa&&0>=jb&&0>=tb&&0>=Pc?Sc.rect(wd,Nd,pd,Xc):(pd=wd+pd,Xc=Nd+Xc,Sc.moveTo(wd+Sa,Nd),
Sc.lineTo(pd-jb,Nd),Sc.bezierCurveTo(pd-.448084975506*jb,Nd,pd,Nd+.448084975506*jb,pd,Nd+jb),Sc.lineTo(pd,Xc-Pc),Sc.bezierCurveTo(pd,Xc-.448084975506*Pc,pd-.448084975506*Pc,Xc,pd-Pc,Xc),Sc.lineTo(wd+tb,Xc),Sc.bezierCurveTo(wd+.448084975506*tb,Xc,wd,Xc-.448084975506*tb,wd,Xc-tb),Sc.lineTo(wd,Nd+Sa),Sc.bezierCurveTo(wd,Nd+.448084975506*Sa,wd+.448084975506*Sa,Nd,wd+Sa,Nd),Sc.closePath());if(cd)return Sc=null,cd+""||null}var la=z,La=B,Ra=M,sb=K,Lb=D(0),Sb=Lb,hc=Lb,wc=Lb,Sc=null;V.x=function(Pc){return arguments.length?
(la=D(Pc),V):la};V.y=function(Pc){return arguments.length?(La=D(Pc),V):La};V.width=function(Pc){return arguments.length?(Ra=D(Pc),V):Ra};V.height=function(Pc){return arguments.length?(sb=D(Pc),V):sb};V.cornerRadius=function(Pc,wd,Nd,cd){return arguments.length?(Lb=D(Pc),Sb=null!=wd?D(wd):Lb,wc=null!=Nd?D(Nd):Lb,hc=null!=cd?D(cd):Sb,V):Lb};V.context=function(Pc){return arguments.length?(Sc=null==Pc?null:Pc,V):Sc};return V}function H(){function V(Pc){var wd,Nd=Pc.length,cd,pd=!1,Xc;null==Lb&&(Lb=Xc=
G.path());for(wd=0;wd<=Nd;++wd)if(!(wd<Nd&&sb(cd=Pc[wd],wd,Pc))===pd&&(pd=!pd)&&(Sb=0),pd){{var Ce=+la(cd,wd,Pc),Sa=+La(cd,wd,Pc);const q=+Ra(cd,wd,Pc)/2;if(Sb){var jb=wc-Sa,tb=Ce-hc;if(jb||tb){var Fb=Math.sqrt(jb*jb+tb*tb),Ub=(jb/=Fb)*Sc;Fb=(tb/=Fb)*Sc;var Ac=Math.atan2(tb,jb);Lb.moveTo(hc-Ub,wc-Fb);Lb.lineTo(Ce-jb*q,Sa-tb*q);Lb.arc(Ce,Sa,q,Ac-Math.PI,Ac);Lb.lineTo(hc+Ub,wc+Fb);Lb.arc(hc,wc,Sc,Ac,Ac+Math.PI)}else Lb.arc(Ce,Sa,q,0,zc);Lb.closePath()}else Sb=1;hc=Ce;wc=Sa;Sc=q}}if(Xc)return Lb=null,
Xc+""||null}var la,La,Ra,sb,Lb=null,Sb,hc,wc,Sc;V.x=function(Pc){return arguments.length?(la=Pc,V):la};V.y=function(Pc){return arguments.length?(La=Pc,V):La};V.size=function(Pc){return arguments.length?(Ra=Pc,V):Ra};V.defined=function(Pc){return arguments.length?(sb=Pc,V):sb};V.context=function(Pc){return arguments.length?(Lb=null==Pc?null:Pc,V):Lb};return V}function Q(V,la){return null!=V?V:la}function S(V){return V.cornerRadius||V.cornerRadiusTopLeft||V.cornerRadiusTopRight||V.cornerRadiusBottomRight||
V.cornerRadiusBottomLeft}function ea(V,la,La,Ra){return Va.context(V)(la,La,Ra)}function ba(V,la,La){var Ra=la.clip;V=V._defs;la=la.clip_id||(la.clip_id="clip"+Rb++);V=V.clipping[la]||(V.clipping[la]={id:la});l.isFunction(Ra)?V.path=Ra(null):S(La)?V.path=ea(null,La,0,0):(V.width=La.width||0,V.height=La.height||0);return"url(#"+la+")"}function fa(V){this.clear();V&&this.union(V)}function ia(V){this.mark=V;this.bounds=this.bounds||new fa}function ca(V){ia.call(this,V);this.items=this.items||[]}function N(V){this._pending=
0;this._loader=V||w.loader()}function C(V,la,La){if(la.stroke&&0!==la.opacity&&0!==la.strokeOpacity){const Ra=null!=la.strokeWidth?+la.strokeWidth:1;V.expand(Ra+(La?la.strokeJoin&&"miter"!==la.strokeJoin?0:Ra:0))}return V}function W(V,la){Gc=V;la?(Bd=la*Ge,dd=Ad=Math.cos(Bd),rd=Math.sin(Bd),$c=-rd):(dd=Ad=1,Bd=rd=$c=0);return Xe}function ha(V,la,La,Ra){La=(V-la)/(V+La-2*la);0<La&&1>La&&Ra(V+(la-V)*La)}function Y(V,la,La,Ra,sb){const Lb=Ra-V+3*la-3*La,Sb=V+La-2*la;var hc=V-la;let wc=0,Sc=0;1E-14<Math.abs(Lb)?
(hc=Sb*Sb+hc*Lb,0<=hc&&(hc=Math.sqrt(hc),wc=(-Sb+hc)/Lb,Sc=(-Sb-hc)/Lb)):wc=.5*hc/Sb;0<wc&&1>wc&&sb(wa(wc,V,la,La,Ra));0<Sc&&1>Sc&&sb(wa(Sc,V,la,La,Ra))}function wa(V,la,La,Ra,sb){const Lb=1-V,Sb=Lb*Lb,hc=V*V;return Sb*Lb*la+3*Sb*V*La+3*Lb*hc*Ra+hc*V*sb}function xa(V){return function(la,La){if(!Ke)return!0;V(Ke,la);tf.clear().union(la.bounds).intersect(La).round();const {x1:Ra,y1:sb,x2:Lb,y2:Sb}=tf;for(la=sb;la<=Sb;++la)for(La=Ra;La<=Lb;++La)if(Ke.isPointInPath(La,la))return!0;return!1}}function Ha(V,
la){return la.contains(V.x||0,V.y||0)}function Za(V,la){const La=V.x||0,Ra=V.y||0;return la.intersects(tf.set(La,Ra,La+(V.width||0),Ra+(V.height||0)))}function gb(V,la){const La=V.x||0,Ra=V.y||0;return ra(la,La,Ra,null!=V.x2?V.x2:La,null!=V.y2?V.y2:Ra)}function ra(V,la,La,Ra,sb){const {x1:Lb,y1:Sb,x2:hc,y2:wc}=V;V=Ra-la;sb-=La;Ra=0;let Sc=1,Pc,wd,Nd,cd;for(cd=0;4>cd;++cd){0===cd&&(Pc=-V,wd=-(Lb-la));1===cd&&(Pc=V,wd=hc-la);2===cd&&(Pc=-sb,wd=-(Sb-La));3===cd&&(Pc=sb,wd=wc-La);if(1E-10>Math.abs(Pc)&&
0>wd)return!1;Nd=wd/Pc;if(0>Pc){if(Nd>Sc)return!1;Nd>Ra&&(Ra=Nd)}else if(0<Pc){if(Nd<Ra)return!1;Nd<Sc&&(Sc=Nd)}}return!0}function Pa(V,la){V.globalCompositeOperation=la.blend||"source-over"}function Ua(V,la){return null==V?la:V}function za(V,la){const La=la.length;for(let Ra=0;Ra<La;++Ra)V.addColorStop(la[Ra].offset,la[Ra].color);return V}function qa(V,la,La){const Ra=La.width(),sb=La.height();if("radial"===la.gradient)V=V.createRadialGradient(La.x1+Ua(la.x1,.5)*Ra,La.y1+Ua(la.y1,.5)*sb,Math.max(Ra,
sb)*Ua(la.r1,0),La.x1+Ua(la.x2,.5)*Ra,La.y1+Ua(la.y2,.5)*sb,Math.max(Ra,sb)*Ua(la.r2,.5));else{const Lb=Ua(la.x1,0),Sb=Ua(la.y1,0),hc=Ua(la.x2,1),wc=Ua(la.y2,0);if(Lb===hc||Sb===wc||Ra===sb)V=V.createLinearGradient(La.x1+Lb*Ra,La.y1+Sb*sb,La.x1+hc*Ra,La.y1+wc*sb);else{La=L.canvas(Math.ceil(Ra),Math.ceil(sb));const Sc=La.getContext("2d");Sc.scale(Ra,sb);Sc.fillStyle=za(Sc.createLinearGradient(Lb,Sb,hc,wc),la.stops);Sc.fillRect(0,0,Ra,sb);return V.createPattern(La,"no-repeat")}}return za(V,la.stops)}
function R(V,la,La){La*=null==la.fillOpacity?1:la.fillOpacity;return 0<La?(V.globalAlpha=La,la=(La=la.fill)&&La.gradient?qa(V,La,la.bounds):La,V.fillStyle=la,!0):!1}function T(V,la,La){var Ra=null!=(Ra=la.strokeWidth)?Ra:1;if(0>=Ra)return!1;La*=null==la.strokeOpacity?1:la.strokeOpacity;return 0<La?(V.globalAlpha=La,La=(La=la.stroke)&&La.gradient?qa(V,La,la.bounds):La,V.strokeStyle=La,V.lineWidth=Ra,V.lineCap=la.strokeCap||"butt",V.lineJoin=la.strokeJoin||"miter",V.miterLimit=la.strokeMiterLimit||
10,V.setLineDash&&(V.setLineDash(la.strokeDash||df),V.lineDashOffset=la.strokeDashOffset||0),!0):!1}function X(V,la){return V.zindex-la.zindex||V.index-la.index}function Z(V){if(!V.zdirty)return V.zitems;var la=V.items,La=[],Ra;var sb=0;for(Ra=la.length;sb<Ra;++sb){var Lb=la[sb];Lb.index=sb;Lb.zindex&&La.push(Lb)}V.zdirty=!1;return V.zitems=La.sort(X)}function oa(V,la){var La=V.items,Ra;if(La&&La.length){var sb=Z(V);if(sb&&sb.length){V=0;for(Ra=La.length;V<Ra;++V)La[V].zindex||la(La[V]);La=sb}V=0;
for(Ra=La.length;V<Ra;++V)la(La[V])}}function na(V,la){var La=V.items,Ra,sb;if(!La||!La.length)return null;const Lb=Z(V);Lb&&Lb.length&&(La=Lb);for(sb=La.length;0<=--sb;)if(Ra=la(La[sb]))return Ra;if(La===Lb)for(La=V.items,sb=La.length;0<=--sb;)if(!La[sb].zindex&&(Ra=la(La[sb])))return Ra;return null}function Aa(V){return function(la,La,Ra){oa(La,sb=>{Ra&&!Ra.intersects(sb.bounds)||Na(V,la,sb,sb)})}}function ka(V){return function(la,La,Ra){!La.items.length||Ra&&!Ra.intersects(La.bounds)||Na(V,la,
La.items[0],La.items)}}function Na(V,la,La,Ra){var sb=null==La.opacity?1:La.opacity;0===sb||V(la,Ra)||(Pa(la,La),La.fill&&R(la,La,sb)&&la.fill(),La.stroke&&T(la,La,sb)&&la.stroke())}function $a(V){V=V||l.truthy;return function(la,La,Ra,sb,Lb,Sb){Ra*=la.pixelRatio;sb*=la.pixelRatio;return na(La,hc=>{const wc=hc.bounds;if((!wc||wc.contains(Lb,Sb))&&wc&&V(la,hc,Ra,sb,Lb,Sb))return hc})}}function Wa(V,la){return function(La,Ra,sb,Lb){var Sb=Array.isArray(Ra)?Ra[0]:Ra,hc=null==la?Sb.fill:la,wc=Sb.stroke&&
La.isPointInStroke;if(wc){var Sc=Sb.strokeWidth;Sb=Sb.strokeCap;La.lineWidth=null!=Sc?Sc:1;La.lineCap=null!=Sb?Sb:"butt"}return V(La,Ra)?!1:hc&&La.isPointInPath(sb,Lb)||wc&&La.isPointInStroke(sb,Lb)}}function Ca(V,la){return"translate("+V+","+la+")"}function Da(V,la,La){function Ra(sb,Lb){var Sb=Lb.x||0,hc=Lb.y||0,wc=Lb.angle||0;sb.translate(Sb,hc);wc&&sb.rotate(wc*=Ge);sb.beginPath();la(sb,Lb);wc&&sb.rotate(-wc);sb.translate(-Sb,-hc)}return{type:V,tag:"path",nested:!1,attr:function(sb,Lb){var Sb=
Ca(Lb.x||0,Lb.y||0)+(Lb.angle?" rotate("+(Lb.angle+")"):"");sb("transform",Sb);sb("d",la(null,Lb))},bound:function(sb,Lb){la(W(sb,Lb.angle),Lb);return C(sb,Lb).translate(Lb.x||0,Lb.y||0)},draw:Aa(Ra),pick:$a(Wa(Ra)),isect:La||xa(Ra)}}function ma(V,la,La){function Ra(Lb,Sb){Lb.beginPath();la(Lb,Sb)}const sb=Wa(Ra);return{type:V,tag:"path",nested:!0,attr:function(Lb,Sb){Sb=Sb.mark.items;Sb.length&&Lb("d",la(null,Sb))},bound:function(Lb,Sb){Sb=Sb.items;if(0===Sb.length)return Lb;la(W(Lb),Sb);return C(Lb,
Sb[0])},draw:ka(Ra),pick:function(Lb,Sb,hc,wc,Sc,Pc){var wd=Sb.items;Sb=Sb.bounds;if(!wd||!wd.length||Sb&&!Sb.contains(Sc,Pc))return null;hc*=Lb.pixelRatio;wc*=Lb.pixelRatio;return sb(Lb,wd,hc,wc)?wd[0]:null},isect:Ha,tip:La}}function Ea(V,la){V.beginPath();S(la)?ea(V,la,0,0):V.rect(0,0,la.width||0,la.height||0);V.clip()}function Qa(V){const la=Ua(V.strokeWidth,1);return null!=V.strokeOffset?V.strokeOffset:V.stroke&&.5<la&&1.5>la?.5-Math.abs(la-1):0}function eb(V,la,La,Ra){const sb=Qa(la);V.beginPath();
ea(V,la,(La||0)+sb,(Ra||0)+sb)}function yb(V,la){var La=V.image;if(!La||V.url&&V.url!==La.url)La={complete:!1,width:0,height:0},la.loadImage(V.url).then(Ra=>{V.image=Ra;V.image.url=V.url});return La}function Qb(V,la){return null!=V.width?V.width:la&&la.width?!1!==V.aspect&&V.height?V.height*la.width/la.height:la.width:0}function fc(V,la){return null!=V.height?V.height:la&&la.height?!1!==V.aspect&&V.width?V.width*la.height/la.width:la.height:0}function ad(V,la){return"center"===V?la/2:"right"===V?
la:0}function ic(V,la){return"middle"===V?la/2:"bottom"===V?la:0}function xc(V,la){var La=la.path;if(null==La)return!0;var Ra=la.x||0,sb=la.y||0,Lb=la.scaleX||1,Sb=la.scaleY||1,hc=(la.angle||0)*Ge,wc=la.pathCache;wc&&wc.path===La||((la.pathCache=wc=d(La)).path=La);hc&&V.rotate&&V.translate?(V.translate(Ra,sb),V.rotate(hc),a(V,wc,0,0,Lb,Sb),V.rotate(-hc),V.translate(-Ra,-sb)):a(V,wc,Ra,sb,Lb,Sb)}function ib(V,la){V.beginPath();ea(V,la)}function $b(V,la,La){if(la.stroke&&T(V,la,La)){La=la.x||0;var Ra=
la.y||0;var sb=null!=la.x2?la.x2:La;la=null!=la.y2?la.y2:Ra;V.beginPath();V.moveTo(La,Ra);V.lineTo(sb,la);return!0}return!1}function bc(V){vd.width=V&&Ke?Ec:kc}function kc(V,la){la=td(V,la);V=Oc(V);return~~(.8*la.length*V)}function Ec(V,la){return 0>=Oc(V)||!(la=td(V,la))?0:jc(la,hd(V))}function jc(V,la){const La=`(${la}) ${V}`;let Ra=Yd.get(La);void 0===Ra&&(Ke.font=la,Ra=Ke.measureText(V).width,Yd.set(La,Ra));return Ra}function Oc(V){return null!=V.fontSize?+V.fontSize||0:11}function Hc(V){return null!=
V.lineHeight?V.lineHeight:Oc(V)+2}function Bc(V){V=V.lineBreak&&V.text&&!l.isArray(V.text)?V.text.split(V.lineBreak):V.text;return l.isArray(V)?1<V.length?V:V[0]:V}function td(V,la){la=null==la?"":(la+"").trim();if(0<V.limit&&la.length){var La=+V.limit,Ra=Qd(V);if(!(Ra(la)<La)){var sb=V.ellipsis||"",Lb="rtl"===V.dir;V=0;var Sb=la.length;La-=Ra(sb);if(Lb){for(;V<Sb;)Lb=V+Sb>>>1,Ra(la.slice(Lb))>La?V=Lb+1:Sb=Lb;la=sb+la.slice(V)}else{for(;V<Sb;)Lb=1+(V+Sb>>>1),Ra(la.slice(0,Lb))<La?V=Lb:Sb=Lb-1;la=
la.slice(0,V)+sb}}}return la}function Qd(V){if(vd.width===Ec){const la=hd(V);return La=>jc(La,la)}{const la=Oc(V);return La=>~~(.8*La.length*la)}}function jd(V,la){V=V.font;return(la&&V?String(V).replace(/"/g,"'"):V)||"sans-serif"}function hd(V,la){return(V.fontStyle?V.fontStyle+" ":"")+(V.fontVariant?V.fontVariant+" ":"")+(V.fontWeight?V.fontWeight+" ":"")+Oc(V)+"px "+jd(V,la)}function Fd(V){var la=V.baseline,La=Oc(V);return Math.round("top"===la?.79*La:"middle"===la?.3*La:"bottom"===la?-.21*La:
"line-top"===la?.29*La+.5*Hc(V):"line-bottom"===la?.29*La-.5*Hc(V):0)}function Ib(V){var la=V.x||0,La=V.y||0,Ra=V.radius||0;Ra&&(V=(V.theta||0)-rf,la+=Ra*Math.cos(V),La+=Ra*Math.sin(V));Kd.x1=la;Kd.y1=La;return Kd}function Zb(V,la,La){var Ra=vd.height(la),sb=la.align,Lb=Ib(la),Sb=Lb.x1;Lb=Lb.y1;var hc=la.dx||0,wc=(la.dy||0)+Fd(la)-Math.round(.8*Ra),Sc=Bc(la);l.isArray(Sc)?(Ra+=Hc(la)*(Sc.length-1),Sc=Sc.reduce((Pc,wd)=>Math.max(Pc,vd.width(la,wd)),0)):Sc=vd.width(la,Sc);"center"===sb?hc-=Sc/2:"right"===
sb&&(hc-=Sc);V.set(hc+=Sb,wc+=Lb,hc+Sc,wc+Ra);if(la.angle&&!La)V.rotate(la.angle*Ge,Sb,Lb);else if(2===La)return V.rotatedPoints(la.angle*Ge,Sb,Lb);return V}function xb(V,la,La){var Ra=re[V.mark.marktype];la=la||Ra.bound;Ra.nested&&(V=V.mark);return la(V.bounds||(V.bounds=new fa),V,La)}function qc(V,la,La){var Ra=re[V.marktype],sb=Ra.bound,Lb=V.items,Sb=Lb&&Lb.length;if(Ra.nested)return Sb?V=Lb[0]:(pf.mark=V,V=pf),La=xb(V,sb,La),la=la&&la.union(La)||La;la=la||V.bounds&&V.bounds.clear()||new fa;if(Sb)for(Ra=
0,Sb=Lb.length;Ra<Sb;++Ra)la.union(xb(Lb[Ra],sb,La));return V.bounds=la}function Nc(V,la){return JSON.stringify(V,$d,la)}function qd(V){V="string"===typeof V?JSON.parse(V):V;return Ed(V)}function Ed(V){var la=V.marktype,La=V.items,Ra;if(La){var sb=0;for(Ra=La.length;sb<Ra;++sb){var Lb=la?"mark":"group";La[sb][Lb]=V;La[sb].zindex&&(La[sb][Lb].zdirty=!0);"group"===(la||Lb)&&Ed(La[sb])}}la&&qc(V);return V}function Ga(V){arguments.length?this.root=qd(V):(this.root=ab({marktype:"group",name:"root",role:"frame"}),
this.root.items=[new ca(this.root)])}function ab(V,la){la={bounds:new fa,clip:!!V.clip,group:la,interactive:!1===V.interactive?!1:!0,items:[],marktype:V.marktype,name:V.name||void 0,role:V.role||void 0,zindex:V.zindex||0};null!=V.aria&&(la.aria=V.aria);V.description&&(la.description=V.description);return la}function qb(V,la,La){!V&&"undefined"!==typeof document&&document.createElement&&(V=document);return V?La?V.createElementNS(La,la):V.createElement(la):null}function Bb(V,la){la=la.toLowerCase();
V=V.childNodes;for(var La=0,Ra=V.length;La<Ra;++La)if(V[La].tagName.toLowerCase()===la)return V[La]}function Tb(V,la,La,Ra){la=V.childNodes[la];if(!la||la.tagName.toLowerCase()!==La.toLowerCase()){var sb=la||null;la=qb(V.ownerDocument,La,Ra);V.insertBefore(la,sb)}return la}function Eb(V,la){for(var La=V.childNodes,Ra=La.length;Ra>la;)V.removeChild(La[--Ra]);return V}function rc(V){return"mark-"+V.marktype+(V.role?" role-"+V.role:"")+(V.name?" "+V.name:"")}function lc(V,la){const La=la.getBoundingClientRect();
return[V.clientX-La.left-(la.clientLeft||0),V.clientY-La.top-(la.clientTop||0)]}function kb(V,la){this._active=null;this._handlers={};this._loader=V||w.loader();this._tooltip=la||vb}function vb(V,la,La,Ra){V.element().setAttribute("title",Ra||"")}function Nb(V){this._bgcolor=this._el=null;this._loader=new N(V)}function ec(V,la){kb.call(this,V,la);this._touch=this._down=null;this._first=!0;this._events={}}function tc(V,la){("touchstart"===la||"touchmove"===la||"touchend"===la?["touchstart","touchmove",
"touchend"]:[la]).forEach(La=>uc(V,La))}function uc(V,la){const La=V.canvas();La&&!V._events[la]&&(V._events[la]=1,La.addEventListener(la,V[la]?Ra=>V[la](Ra):Ra=>V.fire(la,Ra)))}function Lc(V,la,La){return function(Ra){const sb=this._active,Lb=this.pickEvent(Ra);Lb!==sb&&(sb&&sb.exit||this.fire(La,Ra),this._active=Lb,this.fire(la,Ra));this.fire(V,Ra)}}function Jb(V){return function(la){this.fire(V,la);this._active=null}}function yc(V){Nb.call(this,V);this._options={};this._redraw=!1;this._dirty=new fa;
this._tempb=new fa}function vc(V,la){kb.call(this,V,la);const La=this;La._hrefHandler=Uf(La,(Ra,sb)=>{sb&&sb.href&&La.handleHref(Ra,sb,sb.href)});La._tooltipHandler=Uf(La,(Ra,sb)=>{La.handleTooltip(Ra,sb,"mouseout"!==Ra.type)})}function mc(V,la){var La=!1===la.aria;V("aria-hidden",La||void 0);if(La||null==la.description)for(const Ra in ua)V(ua[Ra],void 0);else La=la.mark.marktype,V("aria-label",la.description),V("role",la.ariaRole||("group"===La?"graphics-object":"graphics-symbol")),V("aria-roledescription",
la.ariaRoleDescription||`${La} mark`)}function Kc(V){return!1===V.aria?{["aria-hidden"]:!0}:Ff[V.role]?null:sa[V.role]?Zc(V,sa[V.role]):Qc(V)}function Qc(V){const la=V.marktype,La="group"===la||"text"===la||V.items.some(Ra=>null!=Ra.description&&!1!==Ra.aria);return ef(La?"graphics-object":"graphics-symbol",`${la} mark container`,V.description)}function Zc(V,la){try{const La=V.items[0],Ra=la.caption||(()=>"");return ef(la.role||"graphics-symbol",la.desc,La.description||Ra(La))}catch(La){return null}}
function nd(V){try{return l.array(l.peek(V.items).items[0].text).join(" ")}catch(la){return null}}function od(V){V=V.map(la=>la+("fill"===la||"stroke"===la?" color":""));return 2>V.length?V[0]:V.slice(0,-1).join(", ")+" and "+l.peek(V)}function Dd(){let V="",la="",La="";const Ra=[],sb=(Sb,hc)=>{null!=hc&&(la+=` ${Sb}="${Ka(hc).replace(/"/g,"\x26quot;").replace(/\t/g,"\x26#x9;").replace(/\n/g,"\x26#xA;").replace(/\r/g,"\x26#xD;")}"`);return Lb},Lb={open(Sb,...hc){la&&(V+=`${la}>${La}`,la=La="");Ra.push(Sb);
la="\x3c"+Sb;for(const wc of hc)for(const Sc in wc)sb(Sc,wc[Sc]);return Lb},close(){const Sb=Ra.pop();V=la?V+(la+(La?`>${La}</${Sb}>`:"/\x3e")):V+`</${Sb}>`;la=La="";return Lb},attr:sb,text:Sb=>(La+=Ka(Sb),Lb),toString:()=>V};return Lb}function Jd(V,la){V.open(la.tagName);if(la.hasAttributes()){var La=la.attributes,Ra=La.length;for(var sb=0;sb<Ra;++sb)V.attr(La[sb].name,La[sb].value)}if(la.hasChildNodes())for(la=la.childNodes,La=la.length,Ra=0;Ra<La;Ra++)sb=la[Ra],3===sb.nodeType?V.text(sb.nodeValue):
Jd(V,sb);return V.close()}function Ud(V){Nb.call(this,V);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=null}function ie(V,la){for(;V&&V.dirty!==la;V=V.mark.group)if(V.dirty=la,V.mark&&V.mark.dirty!==la)V.mark.dirty=la;else break}function ne(V,la,La){la=la.lastChild.previousSibling;let Ra,sb=0;oa(La,Lb=>{Ra=V.mark(la,Lb,Ra);++sb});Eb(la,1+sb)}function Ee(V,la,La,Ra,sb){let Lb=V._svg;if(!Lb){var Sb=la.ownerDocument;Lb=qb(Sb,Ra,lb);V._svg=Lb;V.mark&&(Lb.__data__=V,Lb.__values__={fill:"default"},
"g"===Ra&&(Ra=qb(Sb,"path",lb),Lb.appendChild(Ra),Ra.__data__=V,Ra=qb(Sb,"g",lb),Lb.appendChild(Ra),Ra.__data__=V,Sb=qb(Sb,"path",lb),Lb.appendChild(Sb),Sb.__data__=V,Sb.__values__={fill:"default"}))}(Lb.ownerSVGElement!==sb||Lb.parentNode&&1<Lb.parentNode.childNodes.length&&Lb.previousSibling!=La)&&la.insertBefore(Lb,La?La.nextSibling:la.firstChild);return Lb}function De(V,la,La){if(la!==Cb[V]){if(La){var Ra=ub;null!=la?Ra.setAttributeNS(La,V,la):Ra.removeAttributeNS(La,V)}else Td(ub,V,la);Cb[V]=
la}}function Fe(V,la,La){La!==Cb[la]&&(null==La?V.style.removeProperty(la):V.style.setProperty(la,La+""),Cb[la]=La)}function Id(V,la){for(const La in la)Td(V,La,la[La])}function Td(V,la,La){null!=La?V.setAttribute(la,La):V.removeAttribute(la)}function af(){let V;return"undefined"===typeof window?"":(V=window.location).hash?V.href.slice(0,-V.hash.length):V.href}function Be(V){Nb.call(this,V);this._text=null;this._defs={gradient:{},clipping:{}}}function cf(V,la,La,Ra,sb){if(null==la)return V;"bgrect"===
Ra&&!1===La.interactive&&(V["pointer-events"]="none");if("bgfore"===Ra&&(!1===La.interactive&&(V["pointer-events"]="none"),V.display="none",null!==la.fill))return V;"image"===Ra&&!1===la.smooth&&(V.style="image-rendering: optimizeSpeed; image-rendering: pixelated;");"text"===Ra&&(V["font-family"]=jd(la),V["font-size"]=Oc(la)+"px",V["font-style"]=la.fontStyle,V["font-variant"]=la.fontVariant,V["font-weight"]=la.fontWeight);for(const Lb in bb)La=la[Lb],Ra=bb[Lb],("transparent"!==La||"fill"!==Ra&&"stroke"!==
Ra)&&null!=La&&(La&&La.gradient&&(La=t(La,sb.gradient,"")),V[Ra]=La);return V}function Xd(V,la,La,Ra){if(V.bounds&&la.intersects(V.bounds)&&("group"===V.marktype||!1!==V.interactive&&(!La||La(V)))){const Lb=V.items;var sb=V.marktype;V=Lb.length;let Sb=0;if("group"===sb)for(;Sb<V;++Sb)ae(Lb[Sb],la,La,Ra);else for(La=re[sb].isect;Sb<V;++Sb)sb=Lb[Sb],Je(sb,la,La)&&Ra.push(sb)}return Ra}function ae(V,la,La,Ra){La&&La(V.mark)&&Je(V,la,re.group.isect)&&Ra.push(V);const sb=V.items,Lb=sb&&sb.length;if(Lb){const Sb=
V.x||0;V=V.y||0;la.translate(-Sb,-V);for(let hc=0;hc<Lb;++hc)Xd(sb[hc],la,La,Ra);la.translate(Sb,V)}return Ra}function Je(V,la,La){const Ra=V.bounds;return la.encloses(Ra)||la.intersects(Ra)&&La(V,la)}function fe(V,la,La){return V===la?!0:"path"===La?zd(V,la):V instanceof Date&&la instanceof Date?+V===+la:l.isNumber(V)&&l.isNumber(la)?1E-9>=Math.abs(V-la):V&&la&&(l.isObject(V)||l.isObject(la))?Gd(V,la):V==la}function zd(V,la){return fe(d(V),d(la))}function Gd(V,la){var La=Object.keys(V),Ra=Object.keys(la),
sb;if(La.length!==Ra.length)return!1;La.sort();Ra.sort();for(sb=La.length-1;0<=sb;sb--)if(La[sb]!=Ra[sb])return!1;for(sb=La.length-1;0<=sb;sb--)if(Ra=La[sb],!fe(V[Ra],la[Ra],Ra))return!1;return typeof V===typeof la}let ce=0;const Re={basis:{curve:u.curveBasis},"basis-closed":{curve:u.curveBasisClosed},"basis-open":{curve:u.curveBasisOpen},bundle:{curve:u.curveBundle,tension:"beta",value:.85},cardinal:{curve:u.curveCardinal,tension:"tension",value:0},"cardinal-open":{curve:u.curveCardinalOpen,tension:"tension",
value:0},"cardinal-closed":{curve:u.curveCardinalClosed,tension:"tension",value:0},"catmull-rom":{curve:u.curveCatmullRom,tension:"alpha",value:.5},"catmull-rom-closed":{curve:u.curveCatmullRomClosed,tension:"alpha",value:.5},"catmull-rom-open":{curve:u.curveCatmullRomOpen,tension:"alpha",value:.5},linear:{curve:u.curveLinear},"linear-closed":{curve:u.curveLinearClosed},monotone:{horizontal:u.curveMonotoneY,vertical:u.curveMonotoneX},natural:{curve:u.curveNatural},step:{curve:u.curveStep},"step-after":{curve:u.curveStepAfter},
"step-before":{curve:u.curveStepBefore}},me={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},Hd=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\.\d+)(\.\d)/g,/(\d)([-+])/g,/\s|,|###/],Ge=Math.PI/180,rf=Math.PI/2,zc=2*Math.PI,He=Math.sqrt(3)/2;var oe={},dc={},xe=[].join;const de=["l",0,0,0,0,0,0,0],Ie={circle:{draw:function(V,la){la=Math.sqrt(la)/2;V.moveTo(la,0);V.arc(0,0,la,0,zc)}},cross:{draw:function(V,la){la=Math.sqrt(la)/2;var La=la/2.5;V.moveTo(-la,-La);V.lineTo(-la,La);V.lineTo(-La,La);V.lineTo(-La,la);V.lineTo(La,
la);V.lineTo(La,La);V.lineTo(la,La);V.lineTo(la,-La);V.lineTo(La,-La);V.lineTo(La,-la);V.lineTo(-La,-la);V.lineTo(-La,-La);V.closePath()}},diamond:{draw:function(V,la){la=Math.sqrt(la)/2;V.moveTo(-la,0);V.lineTo(0,-la);V.lineTo(la,0);V.lineTo(0,la);V.closePath()}},square:{draw:function(V,la){la=Math.sqrt(la);var La=-la/2;V.rect(La,La,la,la)}},arrow:{draw:function(V,la){la=Math.sqrt(la)/2;var La=la/7,Ra=la/2.5,sb=la/8;V.moveTo(-La,la);V.lineTo(La,la);V.lineTo(La,-sb);V.lineTo(Ra,-sb);V.lineTo(0,-la);
V.lineTo(-Ra,-sb);V.lineTo(-La,-sb);V.closePath()}},wedge:{draw:function(V,la){var La=Math.sqrt(la)/2;la=He*La;var Ra=la-.5773502691896257*La;La/=4;V.moveTo(0,-la-Ra);V.lineTo(-La,la-Ra);V.lineTo(La,la-Ra);V.closePath()}},triangle:{draw:function(V,la){la=Math.sqrt(la)/2;var La=He*la,Ra=La-.5773502691896257*la;V.moveTo(0,-La-Ra);V.lineTo(-la,La-Ra);V.lineTo(la,La-Ra);V.closePath()}},"triangle-up":{draw:function(V,la){la=Math.sqrt(la)/2;var La=He*la;V.moveTo(0,-La);V.lineTo(-la,La);V.lineTo(la,La);
V.closePath()}},"triangle-down":{draw:function(V,la){la=Math.sqrt(la)/2;var La=He*la;V.moveTo(0,La);V.lineTo(-la,-La);V.lineTo(la,-La);V.closePath()}},"triangle-right":{draw:function(V,la){la=Math.sqrt(la)/2;var La=He*la;V.moveTo(La,0);V.lineTo(-La,-la);V.lineTo(-La,la);V.closePath()}},"triangle-left":{draw:function(V,la){la=Math.sqrt(la)/2;var La=He*la;V.moveTo(-La,0);V.lineTo(La,-la);V.lineTo(La,la);V.closePath()}},stroke:{draw:function(V,la){la=Math.sqrt(la)/2;V.moveTo(-la,0);V.lineTo(la,0)}}};
var sf={};const ff=V=>V.x||0,mf=V=>V.y||0,gf=V=>!1!==V.defined,Zd=u.arc().startAngle(V=>V.startAngle||0).endAngle(V=>V.endAngle||0).padAngle(V=>V.padAngle||0).innerRadius(V=>V.innerRadius||0).outerRadius(V=>V.outerRadius||0).cornerRadius(V=>V.cornerRadius||0),sc=u.area().x(ff).y1(mf).y0(V=>(V.y||0)+(V.height||0)).defined(gf),ta=u.area().y(mf).x1(ff).x0(V=>(V.x||0)+(V.width||0)).defined(gf),Ba=u.line().x(ff).y(mf).defined(gf),Va=E().x(ff).y(mf).width(V=>V.width||0).height(V=>V.height||0).cornerRadius(V=>
Q(V.cornerRadiusTopLeft,V.cornerRadius)||0,V=>Q(V.cornerRadiusTopRight,V.cornerRadius)||0,V=>Q(V.cornerRadiusBottomRight,V.cornerRadius)||0,V=>Q(V.cornerRadiusBottomLeft,V.cornerRadius)||0),zb=u.symbol().type(V=>n(V.shape||"circle")).size(V=>Q(V.size,64)),pb=H().x(ff).y(mf).defined(gf).size(V=>V.size||1);var Rb=1;fa.prototype={clone(){return new fa(this)},clear(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;return this},empty(){return this.x1===
+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(V){return this.x1===V.x1&&this.y1===V.y1&&this.x2===V.x2&&this.y2===V.y2},set(V,la,La,Ra){La<V?(this.x2=V,this.x1=La):(this.x1=V,this.x2=La);Ra<la?(this.y2=la,this.y1=Ra):(this.y1=la,this.y2=Ra);return this},add(V,la){V<this.x1&&(this.x1=V);la<this.y1&&(this.y1=la);V>this.x2&&(this.x2=V);la>this.y2&&(this.y2=la);return this},expand(V){this.x1-=V;this.y1-=V;this.x2+=V;this.y2+=V;return this},
round(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);this.x2=Math.ceil(this.x2);this.y2=Math.ceil(this.y2);return this},scale(V){this.x1*=V;this.y1*=V;this.x2*=V;this.y2*=V;return this},translate(V,la){this.x1+=V;this.x2+=V;this.y1+=la;this.y2+=la;return this},rotate(V,la,La){V=this.rotatedPoints(V,la,La);return this.clear().add(V[0],V[1]).add(V[2],V[3]).add(V[4],V[5]).add(V[6],V[7])},rotatedPoints(V,la,La){var {x1:Ra,y1:sb,x2:Lb,y2:Sb}=this,hc=Math.cos(V);V=Math.sin(V);var wc=la-la*hc+
La*V;la=La-la*V-La*hc;return[hc*Ra-V*sb+wc,V*Ra+hc*sb+la,hc*Ra-V*Sb+wc,V*Ra+hc*Sb+la,hc*Lb-V*sb+wc,V*Lb+hc*sb+la,hc*Lb-V*Sb+wc,V*Lb+hc*Sb+la]},union(V){V.x1<this.x1&&(this.x1=V.x1);V.y1<this.y1&&(this.y1=V.y1);V.x2>this.x2&&(this.x2=V.x2);V.y2>this.y2&&(this.y2=V.y2);return this},intersect(V){V.x1>this.x1&&(this.x1=V.x1);V.y1>this.y1&&(this.y1=V.y1);V.x2<this.x2&&(this.x2=V.x2);V.y2<this.y2&&(this.y2=V.y2);return this},encloses(V){return V&&this.x1<=V.x1&&this.x2>=V.x2&&this.y1<=V.y1&&this.y2>=V.y2},
alignsWith(V){return V&&(this.x1==V.x1||this.x2==V.x2||this.y1==V.y1||this.y2==V.y2)},intersects(V){return V&&!(this.x2<V.x1||this.x1>V.x2||this.y2<V.y1||this.y1>V.y2)},contains(V,la){return!(V<this.x1||V>this.x2||la<this.y1||la>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};l.inherits(ca,ia);N.prototype={pending(){return this._pending},sanitizeURL(V){const la=this;la._pending+=1;return la._loader.sanitize(V,{context:"href"}).then(La=>{--la._pending;return La}).catch(()=>
{--la._pending;return null})},loadImage(V){const la=this,La=L.image();la._pending+=1;return la._loader.sanitize(V,{context:"image"}).then(Ra=>{const sb=Ra.href;if(!sb||!La)throw{url:sb};const Lb=new La;Ra=l.hasOwnProperty(Ra,"crossOrigin")?Ra.crossOrigin:"anonymous";null!=Ra&&(Lb.crossOrigin=Ra);Lb.onload=()=>{--la._pending};Lb.onerror=()=>{--la._pending};Lb.src=sb;return Lb}).catch(Ra=>{--la._pending;return{complete:!1,width:0,height:0,src:Ra&&Ra.url||""}})},ready(){const V=this;return new Promise(la=>
{function La(Ra){V.pending()?setTimeout(()=>{La(!0)},10):la(Ra)}La(!1)})}};const Vb=zc-1E-8;let Gc,Vc,Cc,Bd,dd,rd,$c,Ad;const Sd=(V,la)=>{V=Vc=V;la=Cc=la;return Gc.add(V,la)},Ye=V=>Gc.add(V,Gc.y1),Ne=V=>Gc.add(Gc.x1,V),Yc=(V,la)=>Gc.add(dd*V+$c*la,rd*V+Ad*la),ye=(V,la)=>Sd(dd*V+$c*la,rd*V+Ad*la),Xe={beginPath(){},closePath(){},moveTo:ye,lineTo:ye,rect(V,la,La,Ra){Bd?(Yc(V+La,la),Yc(V+La,la+Ra),Yc(V,la+Ra),ye(V,la)):(Gc.add(V+La,la+Ra),Sd(V,la))},quadraticCurveTo(V,la,La,Ra){const sb=rd*V+Ad*la,Lb=
dd*La+$c*Ra;La=rd*La+Ad*Ra;ha(Vc,dd*V+$c*la,Lb,Ye);ha(Cc,sb,La,Ne);Sd(Lb,La)},bezierCurveTo(V,la,La,Ra,sb,Lb){const Sb=rd*V+Ad*la,hc=rd*La+Ad*Ra,wc=dd*sb+$c*Lb;sb=rd*sb+Ad*Lb;Y(Vc,dd*V+$c*la,dd*La+$c*Ra,wc,Ye);Y(Cc,Sb,hc,sb,Ne);Sd(wc,sb)},arc(V,la,La,Ra,sb,Lb){Ra+=Bd;sb+=Bd;Vc=La*Math.cos(sb)+V;Cc=La*Math.sin(sb)+la;if(Math.abs(sb-Ra)>Vb)Gc.add(V-La,la-La),Gc.add(V+La,la+La);else{const Sb=wc=>Gc.add(La*Math.cos(wc)+V,La*Math.sin(wc)+la);let hc;Sb(Ra);Sb(sb);if(sb!==Ra)if(Ra%=zc,0>Ra&&(Ra+=zc),sb%=
zc,0>sb&&(sb+=zc),sb<Ra&&(Lb=!Lb,hc=Ra,Ra=sb,sb=hc),Lb)for(sb-=zc,hc=Ra-Ra%rf,Ra=0;4>Ra&&hc>sb;++Ra,hc-=rf)Sb(hc);else for(hc=Ra-Ra%rf+rf,Ra=0;4>Ra&&hc<sb;++Ra,hc+=rf)Sb(hc)}}};var Ke=(Ke=L.canvas(1,1))?Ke.getContext("2d"):null;const tf=new fa;var df=[],we=Da("arc",function(V,la){return Zd.context(V)(la)}),Pe=ma("area",function(V,la){const La=la[0];return("horizontal"===La.orient?ta:sc).curve(g(La.interpolate||"linear",La.orient,La.tension)).context(V)(la)},function(V,la){la="horizontal"===V[0].orient?
la[1]:la[0];for(var La="horizontal"===V[0].orient?"y":"x",Ra=V.length,sb=Infinity,Lb,Sb;0<=--Ra;)!1!==V[Ra].defined&&(Sb=Math.abs(V[Ra][La]-la),Sb<sb&&(sb=Sb,Lb=V[Ra]));return Lb});const va=Wa(eb),Ma=Wa(eb,!1),rb=Wa(eb,!0);var Pb={type:"group",tag:"g",nested:!1,attr:function(V,la){V("transform",Ca(la.x||0,la.y||0))},bound:function(V,la){if(!la.clip&&la.items){const La=la.items,Ra=La.length;for(let sb=0;sb<Ra;++sb)V.union(La[sb].bounds)}(la.clip||la.width||la.height)&&!la.noBound&&V.add(0,0).add(la.width||
0,la.height||0);C(V,la);return V.translate(la.x||0,la.y||0)},draw:function(V,la,La){oa(la,Ra=>{const sb=Ra.x||0,Lb=Ra.y||0,Sb=Ra.strokeForeground,hc=null==Ra.opacity?1:Ra.opacity;(Ra.stroke||Ra.fill)&&hc&&(eb(V,Ra,sb,Lb),Pa(V,Ra),Ra.fill&&R(V,Ra,hc)&&V.fill(),Ra.stroke&&!Sb&&T(V,Ra,hc)&&V.stroke());V.save();V.translate(sb,Lb);Ra.clip&&Ea(V,Ra);La&&La.translate(-sb,-Lb);oa(Ra,wc=>{this.draw(V,wc,La)});La&&La.translate(sb,Lb);V.restore();Sb&&Ra.stroke&&hc&&(eb(V,Ra,sb,Lb),Pa(V,Ra),T(V,Ra,hc)&&V.stroke())})},
pick:function(V,la,La,Ra,sb,Lb){if(la.bounds&&!la.bounds.contains(sb,Lb)||!la.items)return null;const Sb=La*V.pixelRatio,hc=Ra*V.pixelRatio;return na(la,wc=>{let Sc,Pc;var wd=wc.bounds;if(!wd||wd.contains(sb,Lb)){Sc=wc.x||0;Pc=wc.y||0;wd=Sc+(wc.width||0);var Nd=Pc+(wc.height||0),cd=wc.clip;if(!cd||!(sb<Sc||sb>wd||Lb<Pc||Lb>Nd)){V.save();V.translate(Sc,Pc);Sc=sb-Sc;Pc=Lb-Pc;if(cd&&S(wc)&&!rb(V,wc,Sb,hc))return V.restore(),null;Nd=wc.strokeForeground;if((cd=!1!==la.interactive)&&Nd&&wc.stroke&&Ma(V,
wc,Sb,hc))return V.restore(),wc;wd=na(wc,pd=>(!1!==pd.interactive||"group"===pd.marktype)&&pd.bounds&&pd.bounds.contains(Sc,Pc)?this.pick(pd,La,Ra,Sc,Pc):null);!wd&&cd&&(wc.fill||!Nd&&wc.stroke)&&va(V,wc,Sb,hc)&&(wd=wc);V.restore();return wd||null}}})},isect:Za,content:function(V,la,La){la=la.clip?ba(La,la,la):null;V("clip-path",la)},background:function(V,la){V("class","background");V("aria-hidden",!0);{const La=Qa(la);V("d",ea(null,la,La,La))}},foreground:function(V,la){V("class","foreground");V("aria-hidden",
!0);if(la.strokeForeground){{const La=Qa(la);V("d",ea(null,la,La,La))}}else V("d","")}},Mb={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"},ac={type:"image",tag:"image",nested:!1,attr:function(V,la,La){var Ra=yb(la,La);La=Qb(la,Ra);const sb=fc(la,Ra),Lb=(la.x||0)-ad(la.align,La),Sb=(la.y||0)-ic(la.baseline,sb);Ra=!Ra.src&&Ra.toDataURL?Ra.toDataURL():Ra.src||"";V("href",Ra,Mb["xmlns:xlink"],"xlink:href");V("transform",Ca(Lb,Sb));V("width",La);V("height",
sb);V("preserveAspectRatio",!1===la.aspect?"none":"xMidYMid")},bound:function(V,la){var La=la.image;const Ra=Qb(la,La);La=fc(la,La);const sb=(la.x||0)-ad(la.align,Ra);la=(la.y||0)-ic(la.baseline,La);return V.set(sb,la,sb+Ra,la+La)},draw:function(V,la,La){oa(la,Ra=>{if(!La||La.intersects(Ra.bounds)){var sb=yb(Ra,this),Lb=Qb(Ra,sb),Sb=fc(Ra,sb),hc=(Ra.x||0)-ad(Ra.align,Lb),wc=(Ra.y||0)-ic(Ra.baseline,Sb),Sc;if(!1!==Ra.aspect){var Pc=sb.width/sb.height;var wd=Ra.width/Ra.height;Pc===Pc&&wd===wd&&Pc!==
wd&&(wd<Pc?(Pc=Lb/Pc,wc+=(Sb-Pc)/2,Sb=Pc):(Pc*=Sb,hc+=(Lb-Pc)/2,Lb=Pc))}if(sb.complete||sb.toDataURL)Pa(V,Ra),V.globalAlpha=null!=(Sc=Ra.opacity)?Sc:1,V.imageSmoothingEnabled=!1!==Ra.smooth,V.drawImage(sb,hc,wc,Lb,Sb)}})},pick:$a(),isect:l.truthy,get:yb,xOffset:ad,yOffset:ic},gc=ma("line",function(V,la){const La=la[0];return Ba.curve(g(La.interpolate||"linear",La.orient,La.tension)).context(V)(la)},function(V,la){for(var La=Math.pow(V[0].strokeWidth||1,2),Ra=V.length,sb,Lb;0<=--Ra;)if(!1!==V[Ra].defined&&
(sb=V[Ra].x-la[0],Lb=V[Ra].y-la[1],sb=sb*sb+Lb*Lb,sb<La))return V[Ra];return null}),Uc={type:"path",tag:"path",nested:!1,attr:function(V,la){var La=la.scaleY||1;1===(la.scaleX||1)&&1===La||V("vector-effect","non-scaling-stroke");La=Ca(la.x||0,la.y||0)+(la.angle?" rotate("+(la.angle+")"):"")+(la.scaleX||la.scaleY?" scale("+((la.scaleX||1)+","+(la.scaleY||1)+")"):"");V("transform",La);V("d",la.path)},bound:function(V,la){return xc(W(V,la.angle),la)?V.set(0,0,0,0):C(V,la,!0)},draw:Aa(xc),pick:$a(Wa(xc)),
isect:xa(xc)},Mc={type:"rect",tag:"path",nested:!1,attr:function(V,la){V("d",ea(null,la))},bound:function(V,la){var La,Ra;return C(V.set(La=la.x||0,Ra=la.y||0,La+la.width||0,Ra+la.height||0),la)},draw:Aa(ib),pick:$a(Wa(ib)),isect:Za},fd={type:"rule",tag:"line",nested:!1,attr:function(V,la){V("transform",Ca(la.x||0,la.y||0));V("x2",null!=la.x2?la.x2-(la.x||0):0);V("y2",null!=la.y2?la.y2-(la.y||0):0)},bound:function(V,la){var La,Ra;return C(V.set(La=la.x||0,Ra=la.y||0,null!=la.x2?la.x2:La,null!=la.y2?
la.y2:Ra),la)},draw:function(V,la,La){oa(la,Ra=>{if(!La||La.intersects(Ra.bounds)){var sb=null==Ra.opacity?1:Ra.opacity;sb&&$b(V,Ra,sb)&&(Pa(V,Ra),V.stroke())}})},pick:$a(function(V,la,La,Ra){return V.isPointInStroke?$b(V,la,1)&&V.isPointInStroke(La,Ra):!1}),isect:gb},ud=Da("shape",function(V,la){return(la.mark.shape||la.shape).context(V)(la)}),Od=Da("symbol",function(V,la){return zb.context(V)(la)},Ha);const Yd=l.lruCache();var vd={height:Oc,measureWidth:Ec,estimateWidth:kc,width:kc,canvas:bc};bc(!0);
const ze={left:"start",center:"middle",right:"end"},Kd=new fa;var pe={type:"text",tag:"text",nested:!1,attr:function(V,la){var La=la.dx||0,Ra=(la.dy||0)+Fd(la),sb=Ib(la),Lb=sb.x1;sb=sb.y1;var Sb=la.angle||0;V("text-anchor",ze[la.align]||"start");if(Sb){if(la=Ca(Lb,sb)+" rotate("+(Sb+")"),La||Ra)la+=" "+Ca(La,Ra)}else la=Ca(Lb+La,sb+Ra);V("transform",la)},bound:Zb,draw:function(V,la,La){oa(la,Ra=>{var sb=null==Ra.opacity?1:Ra.opacity,Lb;if(!(La&&!La.intersects(Ra.bounds)||0===sb||0>=Ra.fontSize||null==
Ra.text||0===Ra.text.length)){V.font=hd(Ra);V.textAlign=Ra.align||"left";var Sb=Ib(Ra);var hc=Sb.x1;Sb=Sb.y1;Ra.angle&&(V.save(),V.translate(hc,Sb),V.rotate(Ra.angle*Ge),hc=Sb=0);hc+=Ra.dx||0;Sb+=(Ra.dy||0)+Fd(Ra);var wc=Bc(Ra);Pa(V,Ra);if(l.isArray(wc)){var Sc=Hc(Ra);for(Lb=0;Lb<wc.length;++Lb){var Pc=td(Ra,wc[Lb]);Ra.fill&&R(V,Ra,sb)&&V.fillText(Pc,hc,Sb);Ra.stroke&&T(V,Ra,sb)&&V.strokeText(Pc,hc,Sb);Sb+=Sc}}else Pc=td(Ra,wc),Ra.fill&&R(V,Ra,sb)&&V.fillText(Pc,hc,Sb),Ra.stroke&&T(V,Ra,sb)&&V.strokeText(Pc,
hc,Sb);Ra.angle&&V.restore()}})},pick:$a(function(V,la,La,Ra,sb,Lb){if(0>=la.fontSize)return!1;if(!la.angle)return!0;La=Ib(la);V=La.x1;La=La.y1;Ra=Zb(Kd,la,1);var Sb=-la.angle*Ge;la=Math.cos(Sb);Sb=Math.sin(Sb);return Ra.contains(la*sb-Sb*Lb+(V-la*V+Sb*La),Sb*sb+la*Lb+(La-Sb*V-la*La))}),isect:function(V,la){V=Zb(Kd,V,2);return ra(la,V[0],V[1],V[2],V[3])||ra(la,V[0],V[1],V[4],V[5])||ra(la,V[4],V[5],V[6],V[7])||ra(la,V[2],V[3],V[6],V[7])}},ge=ma("trail",function(V,la){return pb.context(V)(la)},function(V,
la){for(var La=V.length,Ra,sb;0<=--La;)if(!1!==V[La].defined&&(Ra=V[La].x-la[0],sb=V[La].y-la[1],sb=Ra*Ra+sb*sb,Ra=V[La].size||1,sb<Ra*Ra))return V[La];return null}),re={arc:we,area:Pe,group:Pb,image:ac,line:gc,path:Uc,rect:Mc,rule:fd,shape:ud,symbol:Od,text:pe,trail:ge},pf={mark:null};const $d="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription".split(" ");
Ga.prototype={toJSON(V){return Nc(this.root,V||0)},mark(V,la,La){la=la||this.root.items[0];V=ab(V,la);la.items[La]=V;V.zindex&&(V.group.zdirty=!0);return V}};kb.prototype={initialize(V,la,La){this._el=V;this._obj=La||null;return this.origin(la)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(V){return arguments.length?(this._origin=V||[0,0],this):this._origin.slice()},scene(V){if(!arguments.length)return this._scene;this._scene=V;return this},on(){},off(){},_handlerIndex(V,
la,La){for(let Ra=V?V.length:0;0<=--Ra;)if(V[Ra].type===la&&(!La||V[Ra].handler===La))return Ra;return-1},handlers(V){const la=this._handlers,La=[];if(V)La.push(...la[this.eventName(V)]);else for(const Ra in la)La.push(...la[Ra]);return La},eventName(V){const la=V.indexOf(".");return 0>la?V:V.slice(0,la)},handleHref(V,la,La){this._loader.sanitize(La,{context:"href"}).then(Ra=>{const sb=new MouseEvent(V.type,V),Lb=qb(null,"a");for(const Sb in Ra)Lb.setAttribute(Sb,Ra[Sb]);Lb.dispatchEvent(sb)}).catch(()=>
{})},handleTooltip(V,la,La){if(la&&null!=la.tooltip){var Ra=this.canvas(),sb=this._origin,Lb=la&&la.mark,Sb;if(Lb&&(Sb=re[Lb.marktype]).tip){Ra=lc(V,Ra);Ra[0]-=sb[0];for(Ra[1]-=sb[1];la=la.mark.group;)Ra[0]-=la.x||0,Ra[1]-=la.y||0;la=Sb.tip(Lb.items,Ra)}this._tooltip.call(this._obj,this,V,la,La&&la&&la.tooltip||null)}},getItemBoundingClientRect(V){var la=this.canvas();if(la){var La=la.getBoundingClientRect(),Ra=this._origin,sb=V.bounds;la=sb.width();var Lb=sb.height(),Sb=sb.x1+Ra[0]+La.left;for(La=
sb.y1+Ra[1]+La.top;V.mark&&(V=V.mark.group);)Sb+=V.x||0,La+=V.y||0;return{x:Sb,y:La,width:la,height:Lb,left:Sb,top:La,right:Sb+la,bottom:La+Lb}}}};Nb.prototype={initialize(V,la,La,Ra,sb){this._el=V;return this.resize(la,La,Ra,sb)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(V){if(0===arguments.length)return this._bgcolor;this._bgcolor=V;return this},resize(V,la,La,Ra){this._width=V;this._height=la;this._origin=La||[0,0];this._scale=Ra||1;return this},dirty(){},
render(V){const la=this;la._call=function(){la._render(V)};la._call();la._call=null;return la},_render(){},renderAsync(V){const la=this.render(V);return this._ready?this._ready.then(()=>la):Promise.resolve(la)},_load(V,la){var La=this;V=La._loader[V](la);if(!La._ready){const Ra=La._call;La._ready=La._loader.ready().then(sb=>{sb&&Ra();La._ready=null})}return V},sanitizeURL(V){return this._load("sanitizeURL",V)},loadImage(V){return this._load("loadImage",V)}};l.inherits(ec,kb,{initialize(V,la,La){this._canvas=
V&&Bb(V,"canvas");["click","mousedown","mousemove","mouseout","dragleave"].forEach(Ra=>tc(this,Ra));return kb.prototype.initialize.call(this,V,la,La)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:"keydown keypress keyup dragenter dragleave dragover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" "),DOMMouseScroll(V){this.fire("mousewheel",V)},mousemove:Lc("mousemove","mouseover","mouseout"),
dragover:Lc("dragover","dragenter","dragleave"),mouseout:Jb("mouseout"),dragleave:Jb("dragleave"),mousedown(V){this._down=this._active;this.fire("mousedown",V)},click(V){this._down===this._active&&(this.fire("click",V),this._down=null)},touchstart(V){this._touch=this.pickEvent(V.changedTouches[0]);this._first&&(this._active=this._touch,this._first=!1);this.fire("touchstart",V,!0)},touchmove(V){this.fire("touchmove",V,!0)},touchend(V){this.fire("touchend",V,!0);this._touch=null},fire(V,la,La){La=La?
this._touch:this._active;const Ra=this._handlers[V];la.vegaType=V;"click"===V&&La&&La.href?this.handleHref(la,La,La.href):("mousemove"===V||"mouseout"===V)&&this.handleTooltip(la,La,"mouseout"!==V);if(Ra)for(let sb=0,Lb=Ra.length;sb<Lb;++sb)Ra[sb].handler.call(this._obj,la,La)},on(V,la){const La=this.eventName(V),Ra=this._handlers;0>this._handlerIndex(Ra[La],V,la)&&(tc(this,V),(Ra[La]||(Ra[La]=[])).push({type:V,handler:la}));return this},off(V,la){var La=this.eventName(V);La=this._handlers[La];V=
this._handlerIndex(La,V,la);0<=V&&La.splice(V,1);return this},pickEvent(V){V=lc(V,this._canvas);const la=this._origin;return this.pick(this._scene,V[0],V[1],V[0]-la[0],V[1]-la[1])},pick(V,la,La,Ra,sb){const Lb=this.context();return re[V.marktype].pick.call(this,Lb,V,la,La,Ra,sb)}});var Qe="undefined"!==typeof window?window.devicePixelRatio||1:1;const Se=Nb.prototype;l.inherits(yc,Nb,{initialize(V,la,La,Ra,sb,Lb){this._options=Lb||{};this._canvas=this._options.externalContext?null:L.canvas(1,1,this._options.type);
V&&this._canvas&&(Eb(V,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks"));return Se.initialize.call(this,V,la,La,Ra,sb)},resize(V,la,La,Ra){Se.resize.call(this,V,la,La,Ra);if(this._canvas){{V=this._canvas;la=this._width;La=this._height;Ra=this._origin;var sb=this._scale,Lb=this._options.context;const hc="undefined"!==typeof HTMLElement&&V instanceof HTMLElement&&null!=V.parentNode,wc=V.getContext("2d");sb=hc?Qe:sb;V.width=la*sb;V.height=La*sb;for(var Sb in Lb)wc[Sb]=Lb[Sb];hc&&
1!==sb&&(V.style.width=la+"px",V.style.height=La+"px");wc.pixelRatio=sb;wc.setTransform(sb,0,0,sb,sb*Ra[0],sb*Ra[1])}}else(Sb=this._options.externalContext)||l.error("CanvasRenderer is missing a valid canvas or context"),Sb.scale(this._scale,this._scale),Sb.translate(this._origin[0],this._origin[1]);this._redraw=!0;return this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(V){const la=this._tempb.clear().union(V.bounds);
for(V=V.mark.group;V;)la.translate(V.x||0,V.y||0),V=V.mark.group;this._dirty.union(la)},_render(V){const la=this.context(),La=this._origin,Ra=this._width,sb=this._height,Lb=this._dirty;var Sb=(new fa).set(0,0,Ra,sb).translate(-La[0],-La[1]);la.save();this._redraw||Lb.empty()?Sb=(this._redraw=!1,Sb.expand(1)):(Sb=Sb.intersect(Lb),Sb.expand(1).round(),la.pixelRatio%1&&Sb.scale(la.pixelRatio).round().scale(1/la.pixelRatio),Sb.translate(-(La[0]%1),-(La[1]%1)),la.beginPath(),la.rect(Sb.x1,Sb.y1,Sb.width(),
Sb.height()),la.clip());this.clear(-La[0],-La[1],Ra,sb);this.draw(la,V,Sb);la.restore();Lb.clear();return this},draw(V,la,La){const Ra=re[la.marktype];if(la.clip){var sb=la.clip;V.save();l.isFunction(sb)?(V.beginPath(),sb(V),V.clip()):Ea(V,la.group)}Ra.draw.call(this,V,la,La);la.clip&&V.restore()},clear(V,la,La,Ra){const sb=this._options,Lb=this.context();"pdf"===sb.type||sb.externalContext||Lb.clearRect(V,la,La,Ra);null!=this._bgcolor&&(Lb.fillStyle=this._bgcolor,Lb.fillRect(V,la,La,Ra))}});const Uf=
(V,la)=>La=>{let Ra=La.target.__data__;Ra=Array.isArray(Ra)?Ra[0]:Ra;La.vegaType=La.type;la.call(V._obj,La,Ra)};l.inherits(vc,kb,{initialize(V,la,La){let Ra=this._svg;Ra&&(Ra.removeEventListener("click",this._hrefHandler),Ra.removeEventListener("mousemove",this._tooltipHandler),Ra.removeEventListener("mouseout",this._tooltipHandler));if(this._svg=Ra=V&&Bb(V,"svg"))Ra.addEventListener("click",this._hrefHandler),Ra.addEventListener("mousemove",this._tooltipHandler),Ra.addEventListener("mouseout",this._tooltipHandler);
return kb.prototype.initialize.call(this,V,la,La)},canvas(){return this._svg},on(V,la){const La=this.eventName(V),Ra=this._handlers;0>this._handlerIndex(Ra[La],V,la)&&(V={type:V,handler:la,listener:Uf(this,la)},(Ra[La]||(Ra[La]=[])).push(V),this._svg&&this._svg.addEventListener(La,V.listener));return this},off(V,la){const La=this.eventName(V),Ra=this._handlers[La];V=this._handlerIndex(Ra,V,la);0<=V&&(this._svg&&this._svg.removeEventListener(La,Ra[V].listener),Ra.splice(V,1));return this}});const ef=
(V,la,La)=>({["role"]:V,["aria-roledescription"]:la,["aria-label"]:La||void 0}),Ff=l.toSet("axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title".split(" ")),sa={axis:{desc:"axis",caption:function(V){var la=V.datum;const La=V.orient,Ra=la.title?nd(V):null;var sb=V.context;la=sb.scales[la.scale].value;sb=sb.dataflow.locale();const Lb=la.type;return`${"left"===La||"right"===La?"Y":"X"}-axis`+(Ra?` titled '${Ra}'`:
"")+` for a ${v.isDiscrete(Lb)?"discrete":Lb} scale`+` with ${v.domainCaption(sb,la,V)}`}},legend:{desc:"legend",caption:function(V){var la=V.datum;const La=la.title?nd(V):null,Ra=`${la.type||""} legend`.trim();var sb=la.scales;la=Object.keys(sb);var Lb=V.context;sb=Lb.scales[sb[la[0]]].value;Lb=Lb.dataflow.locale();return(Ra.length?Ra[0].toUpperCase()+Ra.slice(1):Ra)+(La?` titled '${La}'`:"")+` for ${od(la)}`+` with ${v.domainCaption(Lb,sb,V)}`}},"title-text":{desc:"title",caption:V=>`Title text '${l.array(V.text).join(" ")}'`},
"title-subtitle":{desc:"subtitle",caption:V=>`Subtitle text '${l.array(V.text).join(" ")}'`}},ua={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"},Ka=V=>(V+"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;"),Oa=V=>Jd(Dd(),V)+"",bb={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",
strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},db={fill:"none","stroke-miterlimit":10},lb=Mb.xmlns,wb=Nb.prototype;l.inherits(Ud,Nb,{initialize(V,la,La,Ra,sb){this._defs={};this._clearDefs();V&&(this._svg=Tb(V,0,"svg",lb),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns",lb),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink",Mb["xmlns:xlink"]),this._svg.setAttribute("version",Mb.version),this._svg.setAttribute("class","marks"),Eb(V,
1),this._root=Tb(this._svg,0,"g",lb),Id(this._root,db),Eb(this._svg,1));this.background(this._bgcolor);return wb.initialize.call(this,V,la,La,Ra,sb)},background(V){arguments.length&&this._svg&&this._svg.style.setProperty("background-color",V);return wb.background.apply(this,arguments)},resize(V,la,La,Ra){wb.resize.call(this,V,la,La,Ra);this._svg&&(Id(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",
`translate(${this._origin})`));this._dirty=[];return this},canvas(){return this._svg},svg(){const V=this._svg,la=this._bgcolor;if(!V)return null;let La;la&&(V.removeAttribute("style"),La=Tb(V,0,"rect",lb),Id(La,{width:this._width,height:this._height,fill:la}));const Ra=Oa(V);la&&(V.removeChild(La),this._svg.style.setProperty("background-color",la));return Ra},_render(V){this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,V),Eb(this._root,1));this.defs();this._dirty=[];++this._dirtyID;
return this},dirty(V){V.dirty!==this._dirtyID&&(V.dirty=this._dirtyID,this._dirty.push(V))},isDirty(V){return this._dirtyAll||!V._svg||V.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const V=this._dirty;if(!V.length||!this._dirtyID)return!0;const la=++this._dirtyID;let La;let Ra,sb,Lb,Sb;Lb=0;for(Sb=V.length;Lb<Sb;++Lb){La=V[Lb];var hc=La.mark;hc.marktype!==Ra&&(Ra=hc.marktype,sb=re[Ra]);hc.zdirty&&hc.dirty!==la&&(this._dirtyAll=!1,ie(La,la),hc.items.forEach(wc=>{wc.dirty=la}));hc.zdirty||
(La.exit?(sb.nested&&hc.items.length?(hc=hc.items[0],hc._svg&&this._update(sb,hc._svg,hc)):La._svg&&(hc=La._svg.parentNode)&&hc.removeChild(La._svg),La._svg=null):(La=sb.nested?hc.items[0]:La,La._update!==la&&(La._svg&&La._svg.ownerSVGElement?this._update(sb,La._svg,La):(this._dirtyAll=!1,ie(La,la)),La._update=la)))}return!this._dirtyAll},mark(V,la,La){if(!this.isDirty(la))return la._svg;const Ra=this._svg,sb=re[la.marktype];var Lb=!1===la.interactive?"none":null;const Sb="g"===sb.tag;let hc=null,
wc=0;const Sc=Ee(la,V,La,"g",Ra);Sc.setAttribute("class",rc(la));V=Kc(la);for(const Pc in V)Td(Sc,Pc,V[Pc]);Sb||Td(Sc,"pointer-events",Lb);Td(Sc,"clip-path",la.clip?ba(this,la,la.group):null);Lb=Pc=>{const wd=this.isDirty(Pc),Nd=Ee(Pc,Sc,hc,sb.tag,Ra);wd&&(this._update(sb,Nd,Pc),Sb&&ne(this,Nd,Pc));hc=Nd;++wc};sb.nested?la.items.length&&Lb(la.items[0]):oa(la,Lb);Eb(Sc,wc);return Sc},_update(V,la,La){ub=la;Cb=la.__values__;mc(De,La);V.attr(De,La,this);const Ra=Hb[V.type];Ra&&Ra.call(this,V,la,La);
ub&&this.style(ub,La)},style(V,la){if(null!=la)for(const La in bb){let Ra="font"===La?jd(la):la[La];if(Ra===Cb[La])continue;const sb=bb[La];null==Ra?V.removeAttribute(sb):(Ra&&Ra.gradient&&(Ra=t(Ra,this._defs.gradient,af())),V.setAttribute(sb,Ra+""));Cb[La]=Ra}},defs(){const V=this._svg,la=this._defs;let La=la.el;var Ra=0;for(var sb in la.gradient){La||(la.el=La=Tb(V,1,"defs",lb));{var Lb=void 0;let wc,Sc;var Sb=La,hc=la.gradient[sb];"radial"===hc.gradient?(Lb=Tb(Sb,Ra++,"pattern",lb),Id(Lb,{id:"p_"+
hc.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),Lb=Tb(Lb,0,"rect",lb),Id(Lb,{width:1,height:1,fill:`url(${af()}#${hc.id})`}),Sb=Tb(Sb,Ra++,"radialGradient",lb),Id(Sb,{id:hc.id,fx:hc.x1,fy:hc.y1,fr:hc.r1,cx:hc.x2,cy:hc.y2,r:hc.r2})):(Sb=Tb(Sb,Ra++,"linearGradient",lb),Id(Sb,{id:hc.id,x1:hc.x1,x2:hc.x2,y1:hc.y1,y2:hc.y2}));Sc=0;for(wc=hc.stops.length;Sc<wc;++Sc)Lb=Tb(Sb,Sc,"stop",lb),Lb.setAttribute("offset",hc.stops[Sc].offset),Lb.setAttribute("stop-color",
hc.stops[Sc].color);Eb(Sb,Sc)}}for(const wc in la.clipping)La||(la.el=La=Tb(V,1,"defs",lb)),Sb=La,hc=la.clipping[wc],sb=Ra,Sb=Tb(Sb,sb,"clipPath",lb),Sb.setAttribute("id",hc.id),hc.path?(Ra=Tb(Sb,0,"path",lb),Ra.setAttribute("d",hc.path)):(Ra=Tb(Sb,0,"rect",lb),Id(Ra,{x:0,y:0,width:hc.width,height:hc.height})),Eb(Sb,1),Ra=sb+1;La&&(0===Ra?(V.removeChild(La),la.el=null):Eb(La,Ra))},_clearDefs(){const V=this._defs;V.gradient={};V.clipping={}}});let ub=null,Cb=null;const Hb={group(V,la,La){const Ra=
ub=la.childNodes[2];Cb=Ra.__values__;V.foreground(De,La,this);Cb=la.__values__;ub=la.childNodes[1];V.content(De,La,this);la=ub=la.childNodes[0];V.background(De,La,this);V=!1===La.mark.interactive?"none":null;V!==Cb.events&&(Td(Ra,"pointer-events",V),Td(la,"pointer-events",V),Cb.events=V);La.strokeForeground&&La.stroke?(V=La.fill,Td(Ra,"display",null),this.style(la,La),Td(la,"stroke",null),V&&(La.fill=null),Cb=Ra.__values__,this.style(Ra,La),V&&(La.fill=V),ub=null):Td(Ra,"display","none")},image(V,
la,La){!1===La.smooth?(Fe(la,"image-rendering","optimizeSpeed"),Fe(la,"image-rendering","pixelated")):Fe(la,"image-rendering",null)},text(V,la,La){V=Bc(La);let Ra,sb,Lb;l.isArray(V)?(Ra=V.map(Sb=>td(La,Sb)),V=Ra.join("\n"),V!==Cb.text&&(Eb(la,0),sb=la.ownerDocument,Lb=Hc(La),Ra.forEach((Sb,hc)=>{const wc=qb(sb,"tspan",lb);wc.__data__=La;wc.textContent=Sb;hc&&(wc.setAttribute("x",0),wc.setAttribute("dy",Lb));la.appendChild(wc)}),Cb.text=V)):(Ra=td(La,V),Ra!==Cb.text&&(la.textContent=Ra,Cb.text=Ra));
Td(la,"font-family",jd(La));Td(la,"font-size",Oc(La)+"px");Td(la,"font-style",La.fontStyle);Td(la,"font-variant",La.fontVariant);Td(la,"font-weight",La.fontWeight)}};l.inherits(Be,Nb,{svg(){return this._text},_render(V){const la=Dd();la.open("svg",l.extend({},Mb,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const La=this._bgcolor;La&&"transparent"!==La&&"none"!==La&&la.open("rect",{width:this._width,height:this._height,
fill:La}).close();la.open("g",db,{transform:"translate("+this._origin+")"});this.mark(la,V);la.close();this.defs(la);this._text=la.close()+"";return this},mark(V,la){const La=re[la.marktype],Ra=La.tag,sb=[mc,La.attr];V.open("g",{"class":rc(la),"clip-path":la.clip?ba(this,la,la.group):null},Kc(la),{"pointer-events":"g"!==Ra&&!1===la.interactive?"none":null});const Lb=Sb=>{const hc=this.href(Sb);hc&&V.open("a",hc);V.open(Ra,this.attr(la,Sb,sb,"g"!==Ra?Ra:null));if("text"===Ra){var wc=Bc(Sb);if(l.isArray(wc)){var Sc=
{x:0,dy:Hc(Sb)};for(var Pc=0;Pc<wc.length;++Pc)V.open("tspan",Pc?Sc:null).text(td(Sb,wc[Pc])).close()}else V.text(td(Sb,wc))}else"g"===Ra&&(wc=Sb.strokeForeground,Sc=Sb.fill,Pc=Sb.stroke,wc&&Pc&&(Sb.stroke=null),V.open("path",this.attr(la,Sb,La.background,"bgrect")).close(),V.open("g",this.attr(la,Sb,La.content)),oa(Sb,wd=>this.mark(V,wd)),V.close(),wc&&Pc?(Sc&&(Sb.fill=null),Sb.stroke=Pc,V.open("path",this.attr(la,Sb,La.foreground,"bgrect")).close(),Sc&&(Sb.fill=Sc)):V.open("path",this.attr(la,Sb,
La.foreground,"bgfore")).close());V.close();hc&&V.close()};La.nested?la.items&&la.items.length&&Lb(la.items[0]):oa(la,Lb);return V.close()},href(V){const la=V.href;if(la){if(V=this._hrefs&&this._hrefs[la])return V;this.sanitizeURL(la).then(La=>{La["xlink:href"]=La.href;La.href=null;(this._hrefs||(this._hrefs={}))[la]=La})}return null},attr(V,la,La,Ra){const sb={},Lb=(Sb,hc,wc,Sc)=>{sb[Sc||Sb]=hc};Array.isArray(La)?La.forEach(Sb=>Sb(Lb,la,this)):La(Lb,la,this);Ra&&cf(sb,la,V,Ra,this._defs);return sb},
defs(V){var la=this._defs.gradient;const La=this._defs.clipping;if(0!==Object.keys(la).length+Object.keys(La).length){V.open("defs");for(const sb in la){var Ra=la[sb];const Lb=Ra.stops;"radial"===Ra.gradient?(V.open("pattern",{id:"p_"+sb,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),V.open("rect",{width:"1",height:"1",fill:"url(#"+sb+")"}).close(),V.close(),V.open("radialGradient",{id:sb,fx:Ra.x1,fy:Ra.y1,fr:Ra.r1,cx:Ra.x2,cy:Ra.y2,r:Ra.r2})):V.open("linearGradient",
{id:sb,x1:Ra.x1,x2:Ra.x2,y1:Ra.y1,y2:Ra.y2});for(Ra=0;Ra<Lb.length;++Ra)V.open("stop",{offset:Lb[Ra].offset,"stop-color":Lb[Ra].color}).close();V.close()}for(const sb in La)la=La[sb],V.open("clipPath",{id:sb}),la.path?V.open("path",{d:la.path}).close():V.open("rect",{x:0,y:0,width:la.width,height:la.height}).close(),V.close();V.close()}}});const Wb={};Wb.canvas=Wb.png={renderer:yc,headless:yc,handler:ec};Wb.svg={renderer:Ud,headless:Be,handler:vc};Wb.none={};const oc=new fa;m.Bounds=fa;m.CanvasHandler=
ec;m.CanvasRenderer=yc;m.Gradient=function(V,la){var La=[],Ra;return Ra={gradient:"linear",x1:V?V[0]:0,y1:V?V[1]:0,x2:la?la[0]:1,y2:la?la[1]:0,stops:La,stop:function(sb,Lb){La.push({offset:sb,color:Lb});return Ra}}};m.GroupItem=ca;m.Handler=kb;m.Item=ia;m.Marks=re;m.RenderType={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"};m.Renderer=Nb;m.ResourceLoader=N;m.SVGHandler=vc;m.SVGRenderer=Ud;m.SVGStringRenderer=Be;m.Scenegraph=Ga;m.boundClip=function(V){const la=V.clip;if(l.isFunction(la))la(W(oc.clear()));
else if(la)oc.set(0,0,V.group.width,V.group.height);else return;V.bounds.intersect(oc)};m.boundContext=W;m.boundItem=xb;m.boundMark=qc;m.boundStroke=C;m.domChild=Tb;m.domClear=Eb;m.domCreate=qb;m.domFind=Bb;m.font=hd;m.fontFamily=jd;m.fontSize=Oc;m.intersect=function(V,la,La){const Ra=[];la=(new fa).union(la);const sb=V.marktype;return sb?Xd(V,la,La,Ra):"group"===sb?ae(V,la,La,Ra):l.error("Intersect scene must be mark node or group item.")};m.intersectBoxLine=ra;m.intersectPath=xa;m.intersectPoint=
Ha;m.intersectRule=gb;m.lineHeight=Hc;m.markup=Dd;m.multiLineOffset=function(V){const la=Bc(V);return(l.isArray(la)?la.length-1:0)*Hc(V)};m.pathCurves=g;m.pathEqual=zd;m.pathParse=d;m.pathRectangle=E;m.pathRender=a;m.pathSymbols=n;m.pathTrail=H;m.point=lc;m.renderModule=function(V,la){V=String(V||"").toLowerCase();return 1<arguments.length?(Wb[V]=la,this):Wb[V]};m.resetSVGClipId=function(){Rb=1};m.resetSVGDefIds=function(){Rb=1;ce=0};m.sceneEqual=fe;m.sceneFromJSON=qd;m.scenePickVisit=na;m.sceneToJSON=
Nc;m.sceneVisit=oa;m.sceneZOrder=Z;m.serializeXML=Oa;m.textMetrics=vd;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[39]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J,A(28),A(38),A(16)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],l):(m="undefined"!==typeof globalThis?globalThis:m||self,l((m.vega=m.vega||{},m.vega.transforms={}),m.vega,m.vega,m.vega))})(this,function(m,l,u,G){function L(T){l.Transform.call(this,null,T)}function w(T,X,Z){return X(T.bounds.clear(),T,Z)}function v(T){l.Transform.call(this,
0,T)}function t(T){return T._signals[":vega_identifier:"]||(T._signals[":vega_identifier:"]=T.add(0))}function k(T){l.Transform.call(this,null,T)}function g(T){const X=T.groups;T=T.parent;return X&&1===X.size?X.get(Object.keys(X.object)[0]):X&&T?X.lookup(T):null}function d(T){l.Transform.call(this,null,T)}function f(T){l.Transform.call(this,null,T)}function a(T,X,Z){return T[X]===Z?0:(T[X]=Z,1)}function e(T){T=T.items[0].orient;return"left"===T||"right"===T}function n(T,X,Z,oa){X=X.items[0];var na=
X.datum,Aa=null!=X.translate?X.translate:.5,ka=X.orient,Na=+na.grid;var $a=[na.ticks?Na++:-1,na.labels?Na++:-1,Na+ +na.domain];Na=X.range;var Wa=X.offset,Ca=X.position,Da=X.minExtent,ma=X.maxExtent;na=na.title&&X.items[$a[2]].items[0];var Ea=X.titlePadding,Qa=X.bounds,eb=na&&u.multiLineOffset(na),yb;za.clear().union(Qa);Qa.clear();-1<(yb=$a[0])&&Qa.union(X.items[yb].bounds);-1<(yb=$a[1])&&Qa.union(X.items[yb].bounds);switch(ka){case "top":Z=Ca||0;oa=-Wa;Da=Math.max(Da,Math.min(ma,-Qa.y1));Qa.add(0,
-Da).add(Na,0);na&&x(T,na,Da,Ea,eb,0,-1,Qa);break;case "left":Z=-Wa;oa=Ca||0;Da=Math.max(Da,Math.min(ma,-Qa.x1));Qa.add(-Da,0).add(0,Na);na&&x(T,na,Da,Ea,eb,1,-1,Qa);break;case "right":Z+=Wa;oa=Ca||0;Da=Math.max(Da,Math.min(ma,Qa.x2));Qa.add(0,0).add(Da,Na);na&&x(T,na,Da,Ea,eb,1,1,Qa);break;case "bottom":Z=Ca||0;oa+=Wa;Da=Math.max(Da,Math.min(ma,Qa.y2));Qa.add(0,0).add(Na,Da);na&&x(T,na,Da,Ea,0,0,1,Qa);break;default:Z=X.x,oa=X.y}u.boundStroke(Qa.translate(Z,oa),X);a(X,"x",Z+Aa)|a(X,"y",oa+Aa)&&(X.bounds=
za,T.dirty(X),X.bounds=Qa,T.dirty(X));return X.mark.bounds.clear().union(Qa)}function x(T,X,Z,oa,na,Aa,ka,Na){const $a=X.bounds;X.auto&&(Z=ka*(Z+na+oa),na=oa=0,T.dirty(X),Aa?oa=(X.x||0)-(X.x=Z):na=(X.y||0)-(X.y=Z),X.mark.bounds.clear().union($a.translate(-oa,-na)),T.dirty(X));Na.union($a)}function z(T){return(new u.Bounds).set(0,0,T.width||0,T.height||0)}function B(T){const X=T.bounds.clone();return X.empty()?X.set(0,0,0,0):X.translate(-(T.x||0),-(T.y||0))}function M(T,X,Z){T=G.isObject(T)?T[X]:T;
return null!=T?T:void 0!==Z?Z:0}function K(T){return 0>T?Math.ceil(-T):0}function D(T,X,Z){var oa=!Z.nodirty,na="flush"===Z.bounds?z:B,Aa=za.set(0,0,0,0),ka=M(Z.align,"column"),Na=M(Z.align,"row"),$a=M(Z.padding,"column"),Wa=M(Z.padding,"row"),Ca=Z.columns||X.length,Da=0>=Ca?1:Math.ceil(X.length/Ca),ma=X.length,Ea=Array(ma),Qa=Array(Ca),eb=0,yb=Array(ma),Qb=Array(Da),fc=0,ad=Array(ma),ic=Array(ma),xc=Array(ma),ib,$b,bc;for(ib=0;ib<Ca;++ib)Qa[ib]=0;for(ib=0;ib<Da;++ib)Qb[ib]=0;for(ib=0;ib<ma;++ib){var kc=
X[ib];var Ec=xc[ib]=na(kc);kc.x=kc.x||0;ad[ib]=0;kc.y=kc.y||0;ic[ib]=0;kc=ib%Ca;var jc=~~(ib/Ca);eb=Math.max(eb,$b=Math.ceil(Ec.x2));fc=Math.max(fc,bc=Math.ceil(Ec.y2));Qa[kc]=Math.max(Qa[kc],$b);Qb[jc]=Math.max(Qb[jc],bc);Ea[ib]=$a+K(Ec.x1);yb[ib]=Wa+K(Ec.y1);oa&&T.dirty(X[ib])}for(ib=0;ib<ma;++ib)0===ib%Ca&&(Ea[ib]=0),ib<Ca&&(yb[ib]=0);if("each"===ka)for(kc=1;kc<Ca;++kc){na=0;for(ib=kc;ib<ma;ib+=Ca)na<Ea[ib]&&(na=Ea[ib]);for(ib=kc;ib<ma;ib+=Ca)Ea[ib]=na+Qa[kc-1]}else if("all"===ka){for(ib=na=0;ib<
ma;++ib)ib%Ca&&na<Ea[ib]&&(na=Ea[ib]);for(ib=0;ib<ma;++ib)ib%Ca&&(Ea[ib]=na+eb)}else for(ka=!1,kc=1;kc<Ca;++kc)for(ib=kc;ib<ma;ib+=Ca)Ea[ib]+=Qa[kc-1];if("each"===Na)for(jc=1;jc<Da;++jc){na=0;ib=jc*Ca;for(kc=ib+Ca;ib<kc;++ib)na<yb[ib]&&(na=yb[ib]);for(ib=jc*Ca;ib<kc;++ib)yb[ib]=na+Qb[jc-1]}else if("all"===Na){na=0;for(ib=Ca;ib<ma;++ib)na<yb[ib]&&(na=yb[ib]);for(ib=Ca;ib<ma;++ib)yb[ib]=na+fc}else for(Na=!1,jc=1;jc<Da;++jc)for(ib=jc*Ca,kc=ib+Ca;ib<kc;++ib)yb[ib]+=Qb[jc-1];for(ib=jc=0;ib<ma;++ib)jc=
Ea[ib]+(ib%Ca?jc:0),ad[ib]+=jc-X[ib].x;for(kc=0;kc<Ca;++kc)for(Ea=0,ib=kc;ib<ma;ib+=Ca)Ea+=yb[ib],ic[ib]+=Ea-X[ib].y;if(ka&&M(Z.center,"column")&&1<Da)for(ib=0;ib<ma;++ib)Ec="all"===ka?eb:Qa[ib%Ca],jc=Ec-xc[ib].x2-X[ib].x-ad[ib],0<jc&&(ad[ib]+=jc/2);if(Na&&M(Z.center,"row")&&1!==Ca)for(ib=0;ib<ma;++ib)Ec="all"===Na?fc:Qb[~~(ib/Ca)],Ea=Ec-xc[ib].y2-X[ib].y-ic[ib],0<Ea&&(ic[ib]+=Ea/2);for(ib=0;ib<ma;++ib)Aa.union(xc[ib].translate(ad[ib],ic[ib]));jc=M(Z.anchor,"x");Ea=M(Z.anchor,"y");switch(M(Z.anchor,
"column")){case "end":jc-=Aa.width();break;case "middle":jc-=Aa.width()/2}switch(M(Z.anchor,"row")){case "end":Ea-=Aa.height();break;case "middle":Ea-=Aa.height()/2}jc=Math.round(jc);Ea=Math.round(Ea);Aa.clear();for(ib=0;ib<ma;++ib)X[ib].mark.bounds.clear();for(ib=0;ib<ma;++ib)kc=X[ib],kc.x+=ad[ib]+=jc,kc.y+=ic[ib]+=Ea,Aa.union(kc.mark.bounds.union(kc.bounds.translate(ad[ib],ic[ib]))),oa&&T.dirty(kc);return Aa}function y(T,X){return"x1"===X?T.x||0:"y1"===X?T.y||0:"x2"===X?(T.x||0)+(T.width||0):"y2"===
X?(T.y||0)+(T.height||0):void 0}function E(T,X){return T.bounds[X]}function H(T,X,Z,oa,na,Aa,ka,Na,$a,Wa,Ca,Da,ma,Ea){var Qa=Z.length,eb=oa=0,yb,Qb;if(!Qa)return oa;for(yb=Ca;yb<Qa;yb+=Da)Z[yb]&&(oa=ka(oa,$a(Z[yb],Wa)));if(!X.length)return oa;X.length>na&&(T.warn("Grid headers exceed limit: "+na),X=X.slice(0,na));oa+=Aa;na=0;for(Aa=X.length;na<Aa;++na)T.dirty(X[na]),X[na].mark.bounds.clear();yb=Ca;na=0;for(Aa=X.length;na<Aa;++na,yb+=Da){$a=X[na];Ca=$a.mark.bounds;for(Qa=yb;0<=Qa&&null==(Qb=Z[Qa]);Qa-=
ma);if(Na){Qa=null==Ea?Qb.x:Math.round(Qb.bounds.x1+Ea*Qb.bounds.width());var fc=oa}else Qa=oa,fc=null==Ea?Qb.y:Math.round(Qb.bounds.y1+Ea*Qb.bounds.height());Ca.union($a.bounds.translate(Qa-($a.x||0),fc-($a.y||0)));$a.x=Qa;$a.y=fc;T.dirty($a);eb=ka(eb,Ca[Wa])}return eb}function Q(T,X,Z,oa,na,Aa){if(X){T.dirty(X);var ka=Z;oa?ka=Math.round(na.x1+Aa*na.width()):Z=Math.round(na.y1+Aa*na.height());X.bounds.translate(ka-(X.x||0),Z-(X.y||0));X.mark.bounds.clear().union(X.bounds);X.x=ka;X.y=Z;T.dirty(X)}}
function S(T,X){const Z=T[X]||{};return(oa,na)=>null!=Z[oa]?Z[oa]:null!=T[oa]?T[oa]:na}function ea(T,X){let Z=-Infinity;T.forEach(oa=>{null!=oa.offset&&(Z=Math.max(Z,oa.offset))});return-Infinity<Z?Z:X}function ba(T,X,Z,oa,na,Aa,ka){const Na=S(Z,X);Z=ea(T,Na("offset",0));const $a=Na("anchor","start"),Wa="end"===$a?1:"middle"===$a?.5:0;T={align:"each",bounds:Na("bounds","flush"),columns:"vertical"===Na("direction")?1:T.length,padding:Na("margin",8),center:Na("center"),nodirty:!0};switch(X){case "left":T.anchor=
{x:Math.floor(oa.x1)-Z,column:"end",y:Wa*(ka||oa.height()+2*oa.y1),row:$a};break;case "right":T.anchor={x:Math.ceil(oa.x2)+Z,y:Wa*(ka||oa.height()+2*oa.y1),row:$a};break;case "top":T.anchor={y:Math.floor(na.y1)-Z,row:"end",x:Wa*(Aa||na.width()+2*na.x1),column:$a};break;case "bottom":T.anchor={y:Math.ceil(na.y2)+Z,x:Wa*(Aa||na.width()+2*na.x1),column:$a};break;case "top-left":T.anchor={x:Z,y:Z};break;case "top-right":T.anchor={x:Aa-Z,y:Z,column:"end"};break;case "bottom-left":T.anchor={x:Z,y:ka-Z,
row:"end"};break;case "bottom-right":T.anchor={x:Aa-Z,y:ka-Z,column:"end",row:"end"}}return T}function fa(T,X){X=X.items[0];var Z=X.datum,oa=X.orient,na=X.bounds,Aa=X.x,ka=X.y;X._bounds?X._bounds.clear().union(na):X._bounds=na.clone();na.clear();var Na=X.items[0].items[0];var $a=X.padding,Wa=$a-Na.x,Ca=$a-Na.y;if(X.datum.title){var Da=X.items[1].items[0],ma=Da.anchor,Ea=X.titlePadding||0,Qa=$a-Da.x,eb=$a-Da.y;switch(Da.orient){case "left":Wa+=Math.ceil(Da.bounds.width())+Ea;break;case "right":case "bottom":break;
default:Ca+=Da.bounds.height()+Ea}(Wa||Ca)&&N(T,Na,Wa,Ca);switch(Da.orient){case "left":eb+=ca(X,Na,Da,ma,1,1);break;case "right":Qa+=ca(X,Na,Da,"end",0,0)+Ea;eb+=ca(X,Na,Da,ma,1,1);break;case "bottom":Qa+=ca(X,Na,Da,ma,0,0);eb+=ca(X,Na,Da,"end",-1,0,1)+Ea;break;default:Qa+=ca(X,Na,Da,ma,0,0)}(Qa||eb)&&N(T,Da,Qa,eb);0>(Qa=Math.round(Da.bounds.x1-$a))&&(N(T,Na,-Qa,0),N(T,Da,-Qa,0))}else(Wa||Ca)&&N(T,Na,Wa,Ca);na=ia(X,na);T=2*X.padding;Na=2*X.padding;na.empty()||(T=Math.ceil(na.width()+T),Na=Math.ceil(na.height()+
Na));"symbol"===Z.type&&C(X.items[0].items[0].items[0].items);"none"!==oa&&(X.x=Aa=0,X.y=ka=0);X.width=T;X.height=Na;u.boundStroke(na.set(Aa,ka,Aa+T,ka+Na),X);X.mark.bounds.clear().union(na);return X}function ia(T,X){T.items.forEach(Z=>X.union(Z.bounds));X.x1=T.padding;X.y1=T.padding;return X}function ca(T,X,Z,oa,na,Aa,ka){const Na=Z.datum.vgrad;T=("symbol"===T.datum.type||!Aa&&Na||ka?X:X.items[0]).bounds[na?"y2":"x2"]-T.padding;X=Na&&Aa?T:0;Aa=Na&&Aa?0:T;Z=0>=na?0:u.multiLineOffset(Z);return Math.round("start"===
oa?X:"end"===oa?Aa-Z:.5*(T-Z))}function N(T,X,Z,oa){X.x+=Z;X.y+=oa;X.bounds.translate(Z,oa);X.mark.bounds.translate(Z,oa);T.dirty(X)}function C(T){const X=T.reduce((Z,oa)=>{Z[oa.column]=Math.max(oa.bounds.x2-oa.x,Z[oa.column]||0);return Z},{});T.forEach(Z=>{Z.width=X[Z.column];Z.height=Z.bounds.y2-Z.y})}function W(T,X,Z,oa,na){var Aa=X.items[0],ka=Aa.orient,Na=Aa.anchor,$a=Aa.offset,Wa=Aa.padding,Ca=Aa.items[0].items[0],Da=Aa.items[1]&&Aa.items[1].items[0],ma="left"===ka||"right"===ka?oa:Z,Ea=0,Qa=
Z=0;"group"!==Aa.frame?"left"===ka?(Ea=na.y2,ma=na.y1):"right"===ka?(Ea=na.y1,ma=na.y2):(Ea=na.x1,ma=na.x2):"left"===ka&&(Ea=oa,ma=0);oa="start"===Na?Ea:"end"===Na?ma:(Ea+ma)/2;if(Da&&Da.text){switch(ka){case "top":case "bottom":Qa=Ca.bounds.height()+Wa;break;case "left":Z=Ca.bounds.width()+Wa;break;case "right":Z=-Ca.bounds.width()-Wa}za.clear().union(Da.bounds);za.translate(Z-(Da.x||0),Qa-(Da.y||0));a(Da,"x",Z)|a(Da,"y",Qa)&&(T.dirty(Da),Da.bounds.clear().union(za),Da.mark.bounds.clear().union(za),
T.dirty(Da));za.clear().union(Da.bounds)}else za.clear();za.union(Ca.bounds);switch(ka){case "top":ka=oa;na=na.y1-za.height()-$a;break;case "left":ka=na.x1-za.width()-$a;na=oa;break;case "right":ka=na.x2+za.width()+$a;na=oa;break;case "bottom":ka=oa;na=na.y2+$a;break;default:ka=Aa.x,na=Aa.y}a(Aa,"x",ka)|a(Aa,"y",na)&&(za.translate(ka,na),T.dirty(Aa),Aa.bounds.clear().union(za),X.bounds.clear().union(za),T.dirty(Aa));return Aa.bounds}function ha(T){l.Transform.call(this,null,T)}function Y(T){return T&&
"legend-entry"!==T.mark.role}function wa(T,X,Z){var oa=X.items,na=Math.max(0,X.width||0),Aa=Math.max(0,X.height||0),ka=(new u.Bounds).set(0,0,na,Aa),Na=ka.clone(),$a=ka.clone(),Wa=[],Ca,Da;var ma=0;for(Da=oa.length;ma<Da;++ma){var Ea=oa[ma];switch(Ea.role){case "axis":var Qa=e(Ea)?Na:$a;Qa.union(n(T,Ea,na,Aa));break;case "title":var eb=Ea;break;case "legend":Wa.push(fa(T,Ea));break;case "frame":case "scope":case "row-header":case "row-footer":case "row-title":case "column-header":case "column-footer":case "column-title":Na.union(Ea.bounds);
$a.union(Ea.bounds);break;default:ka.union(Ea.bounds)}}if(Wa.length){const yb={};Wa.forEach(Qb=>{Ca=Qb.orient||"right";"none"!==Ca&&(yb[Ca]||(yb[Ca]=[])).push(Qb)});for(const Qb in yb)oa=yb[Qb],D(T,oa,ba(oa,Qb,Z.legends,Na,$a,na,Aa));Wa.forEach(Qb=>{const fc=Qb.bounds;fc.equals(Qb._bounds)||(Qb.bounds=Qb._bounds,T.dirty(Qb),Qb.bounds=fc,T.dirty(Qb));if(Z.autosize&&"fit"===Z.autosize.type)switch(Qb.orient){case "left":case "right":ka.add(fc.x1,0).add(fc.x2,0);break;case "top":case "bottom":ka.add(0,
fc.y1).add(0,fc.y2)}else ka.union(fc)})}ka.union(Na).union($a);eb&&ka.union(W(T,eb,na,Aa,ka));X.clip&&ka.set(0,0,X.width||0,X.height||0);xa(T,X,ka,Z)}function xa(T,X,Z,oa){oa=oa.autosize||{};const na=oa.type;if(!(1>T._autosize)&&na){var Aa=T._width,ka=T._height,Na=Math.max(0,X.width||0),$a=Math.max(0,Math.ceil(-Z.x1));X=Math.max(0,X.height||0);var Wa=Math.max(0,Math.ceil(-Z.y1)),Ca=Math.max(0,Math.ceil(Z.x2-Na));Z=Math.max(0,Math.ceil(Z.y2-X));if("padding"===oa.contains){const Da=T.padding();Aa-=
Da.left+Da.right;ka-=Da.top+Da.bottom}"none"===na?(Wa=$a=0,Na=Aa,X=ka):"fit"===na?(Na=Math.max(0,Aa-$a-Ca),X=Math.max(0,ka-Wa-Z)):"fit-x"===na?(Na=Math.max(0,Aa-$a-Ca),ka=X+Wa+Z):"fit-y"===na?(Aa=Na+$a+Ca,X=Math.max(0,ka-Wa-Z)):"pad"===na&&(Aa=Na+$a+Ca,ka=X+Wa+Z);T._resizeView(Aa,ka,Na,X,[$a,Wa],oa.resize)}}G.inherits(L,l.Transform,{transform(T,X){const Z=X.dataflow,oa=T.mark,na=oa.marktype,Aa=u.Marks[na],ka=Aa.bound;let Na=oa.bounds,$a;if(Aa.nested)oa.items.length&&Z.dirty(oa.items[0]),Na=w(oa,ka),
oa.items.forEach(Wa=>{Wa.bounds.clear().union(Na)});else if("group"===na||T.modified())switch(X.visit(X.MOD,Wa=>Z.dirty(Wa)),Na.clear(),oa.items.forEach(Wa=>Na.union(w(Wa,ka))),oa.role){case "axis":case "legend":case "title":X.reflow()}else $a=X.changed(X.REM),X.visit(X.ADD,Wa=>{Na.union(w(Wa,ka))}),X.visit(X.MOD,Wa=>{$a=$a||Na.alignsWith(Wa.bounds);Z.dirty(Wa);Na.union(w(Wa,ka))}),$a&&(Na.clear(),oa.items.forEach(Wa=>Na.union(Wa.bounds)));u.boundClip(oa);return X.modifies("bounds")}});v.Definition=
{type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};G.inherits(v,l.Transform,{transform(T,X){const Z=t(X.dataflow),oa=T.as;let na=Z.value;X.visit(X.ADD,Aa=>Aa[oa]=Aa[oa]||++na);Z.set(this.value=na);return X}});G.inherits(k,l.Transform,{transform(T,X){let Z=this.value;Z||(Z=X.dataflow.scenegraph().mark(T.markdef,g(T),T.index),Z.group.context=T.context,T.context.group||(T.context.group=Z.group),Z.source=this.source,Z.clip=T.clip,Z.interactive=T.interactive,this.value=
Z);const oa="group"===Z.marktype?u.GroupItem:u.Item;X.visit(X.ADD,na=>oa.call(na,Z));if(T.modified("clip")||T.modified("interactive"))Z.clip=T.clip,Z.interactive=!!T.interactive,Z.zdirty=!0,X.reflow();Z.items=X.source;return X}});const Ha={parity:T=>T.filter((X,Z)=>Z%2?X.opacity=0:1),greedy:(T,X)=>{let Z;return T.filter((oa,na)=>na&&Za(Z.bounds,oa.bounds,X)?oa.opacity=0:(Z=oa,1))}},Za=(T,X,Z)=>Z>Math.max(X.x1-T.x2,T.x1-X.x2,X.y1-T.y2,T.y1-X.y2),gb=(T,X)=>{for(var Z=1,oa=T.length,na=T[0].bounds;Z<
oa;++Z)if(Za(na,na=T[Z].bounds,X))return!0},ra=T=>{T=T.bounds;return 1<T.width()&&1<T.height()},Pa=(T,X,Z)=>{T=T.range();var oa=new u.Bounds;"top"===X||"bottom"===X?oa.set(T[0],-Infinity,T[1],Infinity):oa.set(-Infinity,T[0],Infinity,T[1]);oa.expand(Z||1);return na=>oa.encloses(na.bounds)},Ua=T=>{T.forEach(X=>X.opacity=1);return T};G.inherits(d,l.Transform,{transform(T,X){const Z=Ha[T.method]||Ha.parity,oa=T.separation||0;let na=X.materialize(X.SOURCE).source,Aa,ka;if(na&&na.length){if(!T.method)return T.modified("method")&&
(Ua(na),X=X.reflow(T.modified()).modifies("opacity")),X;na=na.filter(ra);if(na.length){T.sort&&(na=na.slice().sort(T.sort));Aa=Ua(na);X=X.reflow(T.modified()).modifies("opacity");if(3<=Aa.length&&gb(Aa,oa)){do Aa=Z(Aa,oa);while(3<=Aa.length&&gb(Aa,oa));3>Aa.length&&!G.peek(na).opacity&&(1<Aa.length&&(G.peek(Aa).opacity=0),G.peek(na).opacity=1)}T.boundScale&&0<=T.boundTolerance&&(ka=Pa(T.boundScale,T.boundOrient,+T.boundTolerance),na.forEach($a=>{ka($a)||($a.opacity=0)}));var Na=Aa[0].mark.bounds.clear();
na.forEach($a=>{$a.opacity&&Na.union($a.bounds)});return X}}}});G.inherits(f,l.Transform,{transform(T,X){const Z=X.dataflow;X.visit(X.ALL,oa=>Z.dirty(oa));X.fields&&X.fields.zindex&&(T=X.source&&X.source[0])&&(T.mark.zdirty=!0)}});const za=new u.Bounds,qa=(T,X)=>Math.floor(Math.min(T,X)),R=(T,X)=>Math.ceil(Math.max(T,X));G.inherits(ha,l.Transform,{transform(T,X){const Z=X.dataflow;T.mark.items.forEach(oa=>{if(T.layout){var na=T.layout;var Aa=oa.items;for(var ka=Aa.length,Na=0,$a,Wa,Ca={marks:[],rowheaders:[],
rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};Na<ka;++Na)if($a=Aa[Na],Wa=$a.items,"group"===$a.marktype)switch($a.role){case "axis":case "legend":case "title":break;case "row-header":Ca.rowheaders.push(...Wa);break;case "row-footer":Ca.rowfooters.push(...Wa);break;case "column-header":Ca.colheaders.push(...Wa);break;case "column-footer":Ca.colfooters.push(...Wa);break;case "row-title":Ca.rowtitle=Wa[0];break;case "column-title":Ca.coltitle=Wa[0];break;default:Ca.marks.push(...Wa)}Aa=
Ca;Wa=Aa.marks;Ca="flush"===na.bounds?y:E;ka=na.offset;var Da=na.columns||Wa.length,ma=0>=Da?1:Math.ceil(Wa.length/Da),Ea=ma*Da;Na=D(Z,Wa,na);Na.empty()&&Na.set(0,0,0,0);if(Aa.rowheaders){$a=M(na.headerBand,"row",null);var Qa=H(Z,Aa.rowheaders,Wa,Da,ma,-M(ka,"rowHeader"),qa,0,Ca,"x1",0,Da,1,$a)}if(Aa.colheaders){$a=M(na.headerBand,"column",null);var eb=H(Z,Aa.colheaders,Wa,Da,Da,-M(ka,"columnHeader"),qa,1,Ca,"y1",0,1,Da,$a)}if(Aa.rowfooters){$a=M(na.footerBand,"row",null);var yb=H(Z,Aa.rowfooters,
Wa,Da,ma,M(ka,"rowFooter"),R,0,Ca,"x2",Da-1,Da,1,$a)}if(Aa.colfooters){$a=M(na.footerBand,"column",null);var Qb=H(Z,Aa.colfooters,Wa,Da,Da,M(ka,"columnFooter"),R,1,Ca,"y2",Ea-Da,1,Da,$a)}Aa.rowtitle&&($a=M(na.titleAnchor,"row"),Wa=M(ka,"rowTitle"),Wa="end"===$a?yb+Wa:Qa-Wa,$a=M(na.titleBand,"row",.5),Q(Z,Aa.rowtitle,Wa,0,Na,$a));Aa.coltitle&&($a=M(na.titleAnchor,"column"),Wa=M(ka,"columnTitle"),Wa="end"===$a?Qb+Wa:eb-Wa,$a=M(na.titleBand,"column",.5),Q(Z,Aa.coltitle,Wa,1,Na,$a))}wa(Z,oa,T)});return Y(T.mark.group)?
X.reflow():X}});m.bound=L;m.identifier=v;m.mark=k;m.overlap=d;m.render=f;m.viewlayout=ha;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[40]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J,A(28),A(37),A(16),A(17),A(35)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-scale vega-util d3-array d3-interpolate".split(" "),l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.vega={},m.vega,m.vega,m.vega,m.d3,m.d3))})(this,function(m,l,u,G,L,w){function v(Y){l.Transform.call(this,null,Y)}function t(Y){l.Transform.call(this,null,Y)}function k(){return l.ingest({})}
function g(Y){const wa=G.fastmap().test(xa=>xa.exit);wa.lookup=xa=>wa.get(Y(xa));return wa}function d(Y){l.Transform.call(this,null,Y)}function f(Y){l.Transform.call(this,[],Y)}function a(Y){l.Transform.call(this,{},Y)}function e(Y){l.Transform.call(this,null,Y)}function n(Y){return u.isContinuous(Y)&&Y!==u.Sequential}function x(Y){l.Transform.call(this,null,Y);this.modified(!0)}function z(Y,wa,xa){u.isLogarithmic(Y)&&Math.abs(wa.reduce((Ha,Za)=>Ha+(0>Za?-1:0<Za?1:0),0))!==wa.length&&xa.warn("Log scale domain includes zero: "+
G.stringValue(wa));return wa}function B(Y,wa,xa){return G.isFunction(Y)&&(wa||xa)?u.interpolateRange(Y,M(wa||[0,1],xa)):Y}function M(Y,wa){return wa?Y.slice().reverse():Y}function K(Y){l.Transform.call(this,null,Y)}function D(Y){l.Transform.call(this,null,Y)}function y(Y,wa,xa,Ha,Za){wa=(wa-Y.sum)/2;for(var gb=Y.length,ra=0,Pa;ra<gb;++ra)Pa=Y[ra],Pa[Ha]=wa,Pa[Za]=wa+=Math.abs(xa(Pa))}function E(Y,wa,xa,Ha,Za){wa=1/Y.sum;for(var gb=0,ra=Y.length,Pa=0,Ua=0,za;Pa<ra;++Pa)za=Y[Pa],za[Ha]=gb,za[Za]=gb=
wa*(Ua+=Math.abs(xa(za)))}function H(Y,wa,xa,Ha,Za){for(var gb=wa=0,ra=Y.length,Pa=0,Ua,za;Pa<ra;++Pa)za=Y[Pa],Ua=+xa(za),0>Ua?(za[Ha]=gb,za[Za]=gb+=Ua):(za[Ha]=wa,za[Za]=wa+=Ua)}function Q(Y,wa,xa,Ha){var Za=[],gb=T=>T(za),ra;if(null==wa)Za.push(Y.slice());else{var Pa={};var Ua=0;for(ra=Y.length;Ua<ra;++Ua){var za=Y[Ua];var qa=wa.map(gb);var R=Pa[qa];R||(Pa[qa]=R=[],Za.push(R));R.push(za)}}gb=qa=0;for(Y=Za.length;qa<Y;++qa){R=Za[qa];wa=Ua=0;for(ra=R.length;Ua<ra;++Ua)wa+=Math.abs(Ha(R[Ua]));R.sum=
wa;wa>gb&&(gb=wa);xa&&R.sort(xa)}Za.max=gb;return Za}G.inherits(v,l.Transform,{transform(Y,wa){if(this.value&&!Y.modified())return wa.StopPropagation;var xa=wa.dataflow.locale();wa=wa.fork(wa.NO_SOURCE|wa.NO_FIELDS);var Ha=this.value,Za=Y.scale,gb=u.tickCount(Za,null==Y.count?Y.values?Y.values.length:10:Y.count,Y.minstep),ra=Y.format||u.tickFormat(xa,Za,gb,Y.formatSpecifier,Y.formatType,!!Y.values),Pa=Y.values?u.validTicks(Za,Y.values,gb):u.tickValues(Za,gb);Ha&&(wa.rem=Ha);Ha=Pa.map((Ua,za)=>l.ingest({index:za/
(Pa.length-1||1),value:Ua,label:ra(Ua)}));Y.extra&&Ha.length&&Ha.push(l.ingest({index:-1,extra:{value:Ha[0].value},label:""}));wa.source=Ha;this.value=wa.add=Ha;return wa}});G.inherits(t,l.Transform,{transform(Y,wa){var xa=wa.dataflow,Ha=wa.fork(wa.NO_SOURCE|wa.NO_FIELDS),Za=Y.item||k,gb=Y.key||l.tupleid,ra=this.value;G.isArray(Ha.encode)&&(Ha.encode=null);ra&&(Y.modified("key")||wa.modified(gb))&&G.error("DataJoin does not support modified key function or fields.");ra||(wa=wa.addAll(),this.value=
ra=g(gb));wa.visit(wa.ADD,Pa=>{const Ua=gb(Pa);let za=ra.get(Ua);za?za.exit?(ra.empty--,Ha.add.push(za)):Ha.mod.push(za):(za=Za(Pa),ra.set(Ua,za),Ha.add.push(za));za.datum=Pa;za.exit=!1});wa.visit(wa.MOD,Pa=>{var Ua=gb(Pa);if(Ua=ra.get(Ua))Ua.datum=Pa,Ha.mod.push(Ua)});wa.visit(wa.REM,Pa=>{var Ua=gb(Pa);Ua=ra.get(Ua);Pa!==Ua.datum||Ua.exit||(Ha.rem.push(Ua),Ua.exit=!0,++ra.empty)});wa.changed(wa.ADD_MOD)&&Ha.modifies("datum");(wa.clean()||Y.clean&&ra.empty>xa.cleanThreshold)&&xa.runAfter(ra.clean);
return Ha}});G.inherits(d,l.Transform,{transform(Y,wa){var xa=wa.fork(wa.ADD_REM),Ha=Y.mod||!1,Za=Y.encoders,gb=wa.encode;if(G.isArray(gb))if(xa.changed()||gb.every(R=>Za[R]))gb=gb[0],xa.encode=null;else return wa.StopPropagation;var ra="enter"===gb,Pa=Za.update||G.falsy,Ua=Za.enter||G.falsy,za=Za.exit||G.falsy,qa=(gb&&!ra?Za[gb]:Pa)||G.falsy;wa.changed(wa.ADD)&&(wa.visit(wa.ADD,R=>{Ua(R,Y);Pa(R,Y)}),xa.modifies(Ua.output),xa.modifies(Pa.output),qa!==G.falsy&&qa!==Pa&&(wa.visit(wa.ADD,R=>{qa(R,Y)}),
xa.modifies(qa.output)));wa.changed(wa.REM)&&za!==G.falsy&&(wa.visit(wa.REM,R=>{za(R,Y)}),xa.modifies(za.output));if(ra||qa!==G.falsy)gb=wa.MOD|(Y.modified()?wa.REFLOW:0),ra?(wa.visit(gb,R=>{const T=Ua(R,Y)||Ha;(qa(R,Y)||T)&&xa.mod.push(R)}),xa.mod.length&&xa.modifies(Ua.output)):wa.visit(gb,R=>{(qa(R,Y)||Ha)&&xa.mod.push(R)}),xa.mod.length&&xa.modifies(qa.output);return xa.changed()?xa:wa.StopPropagation}});G.inherits(f,l.Transform,{transform(Y,wa){if(null!=this.value&&!Y.modified())return wa.StopPropagation;
var xa=wa.dataflow.locale(),Ha=wa.fork(wa.NO_SOURCE|wa.NO_FIELDS),Za=this.value,gb=Y.type||u.SymbolLegend,ra=Y.scale,Pa=+Y.limit,Ua=u.tickCount(ra,null==Y.count?5:Y.count,Y.minstep),za=!!Y.values||gb===u.SymbolLegend,qa=Y.format||u.labelFormat(xa,ra,Ua,gb,Y.formatSpecifier,Y.formatType,za),R=Y.values||u.labelValues(ra,Ua),T;Za&&(Ha.rem=Za);if(gb===u.SymbolLegend){if(Pa&&R.length>Pa){wa.dataflow.warn("Symbol legend count exceeds limit, filtering items.");Za=R.slice(0,Pa-1);var X=!0}else Za=R;if(G.isFunction(T=
Y.size)){Y.values||0!==ra(Za[0])||(Za=Za.slice(1));var Z=Za.reduce((na,Aa)=>Math.max(na,T(Aa,Y)),0)}else T=G.constant(Z=T||8);Za=Za.map((na,Aa)=>l.ingest({index:Aa,label:qa(na,Aa,Za),value:na,offset:Z,size:T(na,Y)}));X&&(X=R[Za.length],Za.push(l.ingest({index:Za.length,label:`\u2026${R.length-Za.length} entries`,value:X,offset:Z,size:T(X,Y)})))}else if(gb===u.GradientLegend){wa=ra.domain();var oa=u.scaleFraction(ra,wa[0],G.peek(wa));3>R.length&&!Y.values&&wa[0]!==G.peek(wa)&&(R=[wa[0],G.peek(wa)]);
Za=R.map((na,Aa)=>l.ingest({index:Aa,label:qa(na,Aa,R),value:na,perc:oa(na)}))}else T=R.length-1,oa=u.labelFraction(ra),Za=R.map((na,Aa)=>l.ingest({index:Aa,label:qa(na,Aa,R),value:na,perc:Aa?oa(na):0,perc2:Aa===T?1:oa(R[Aa+1])}));Ha.source=Za;this.value=Ha.add=Za;return Ha}});const S=Y=>Y.source.x,ea=Y=>Y.source.y,ba=Y=>Y.target.x,fa=Y=>Y.target.y;a.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field","default":"source.x"},{name:"sourceY",type:"field","default":"source.y"},
{name:"targetX",type:"field","default":"target.x"},{name:"targetY",type:"field","default":"target.y"},{name:"orient",type:"enum","default":"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum","default":"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string","default":"path"}]};G.inherits(a,l.Transform,{transform(Y,wa){var xa=Y.sourceX||S,Ha=Y.sourceY||ea,Za=Y.targetX||ba,gb=Y.targetY||fa,ra=Y.as||"path",Pa=Y.shape||
"line",Ua=C.get(Pa+"-"+(Y.orient||"vertical"))||C.get(Pa);Ua||G.error("LinkPath unsupported type: "+Y.shape+(Y.orient?"-"+Y.orient:""));wa.visit(wa.SOURCE,za=>{za[ra]=Ua(xa(za),Ha(za),Za(za),gb(za))});return wa.reflow(Y.modified()).modifies(ra)}});const ia=(Y,wa,xa,Ha)=>"M"+Y+","+wa+"L"+xa+","+Ha,ca=(Y,wa,xa,Ha)=>{var Za=xa-Y,gb=Ha-wa,ra=Math.sqrt(Za*Za+gb*gb)/2;return"M"+Y+","+wa+"A"+ra+","+ra+" "+180*Math.atan2(gb,Za)/Math.PI+" 0 1 "+xa+","+Ha},N=(Y,wa,xa,Ha)=>{var Za=xa-Y;const gb=Ha-wa,ra=.2*
(Za+gb);Za=.2*(gb-Za);return"M"+Y+","+wa+"C"+(Y+ra)+","+(wa+Za)+" "+(xa+Za)+","+(Ha-ra)+" "+xa+","+Ha},C=G.fastmap({line:ia,"line-radial":(Y,wa,xa,Ha)=>ia(wa*Math.cos(Y),wa*Math.sin(Y),Ha*Math.cos(xa),Ha*Math.sin(xa)),arc:ca,"arc-radial":(Y,wa,xa,Ha)=>ca(wa*Math.cos(Y),wa*Math.sin(Y),Ha*Math.cos(xa),Ha*Math.sin(xa)),curve:N,"curve-radial":(Y,wa,xa,Ha)=>N(wa*Math.cos(Y),wa*Math.sin(Y),Ha*Math.cos(xa),Ha*Math.sin(xa)),"orthogonal-horizontal":(Y,wa,xa,Ha)=>"M"+Y+","+wa+"V"+Ha+"H"+xa,"orthogonal-vertical":(Y,
wa,xa,Ha)=>"M"+Y+","+wa+"H"+xa+"V"+Ha,"orthogonal-radial":(Y,wa,xa,Ha)=>{const Za=Math.cos(xa),gb=Math.sin(xa);return"M"+wa*Math.cos(Y)+","+wa*Math.sin(Y)+"A"+wa+","+wa+" 0 0,"+((Math.abs(xa-Y)>Math.PI?xa<=Y:xa>Y)?1:0)+" "+wa*Za+","+wa*gb+"L"+Ha*Za+","+Ha*gb},"diagonal-horizontal":(Y,wa,xa,Ha)=>{const Za=(Y+xa)/2;return"M"+Y+","+wa+"C"+Za+","+wa+" "+Za+","+Ha+" "+xa+","+Ha},"diagonal-vertical":(Y,wa,xa,Ha)=>{const Za=(wa+Ha)/2;return"M"+Y+","+wa+"C"+Y+","+Za+" "+xa+","+Za+" "+xa+","+Ha},"diagonal-radial":(Y,
wa,xa,Ha)=>{const Za=Math.cos(Y);Y=Math.sin(Y);const gb=Math.cos(xa);xa=Math.sin(xa);const ra=(wa+Ha)/2;return"M"+wa*Za+","+wa*Y+"C"+ra*Za+","+ra*Y+" "+ra*gb+","+ra*xa+" "+Ha*gb+","+Ha*xa}});e.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number","default":0},{name:"endAngle",type:"number","default":6.283185307179586},{name:"sort",type:"boolean","default":!1},{name:"as",type:"string",array:!0,length:2,"default":["startAngle","endAngle"]}]};
G.inherits(e,l.Transform,{transform(Y,wa){var xa=Y.as||["startAngle","endAngle"],Ha=xa[0],Za=xa[1],gb=Y.startAngle||0,ra=null!=Y.endAngle?Y.endAngle:2*Math.PI,Pa=wa.source,Ua=Pa.map(Y.field||G.one),za=Ua.length,qa=gb;gb=(ra-gb)/L.sum(Ua);ra=L.range(za);var R;Y.sort&&ra.sort((Z,oa)=>Ua[Z]-Ua[oa]);for(R=0;R<za;++R){var T=Ua[ra[R]];var X=Pa[ra[R]];X[Ha]=qa;X[Za]=qa+=T*gb}this.value=Ua;return wa.reflow(Y.modified()).modifies(xa)}});const W=G.toSet("set modified clear type scheme schemeExtent schemeCount domain domainMin domainMid domainMax domainRaw domainImplicit nice zero bins range rangeStep round reverse interpolate interpolateGamma".split(" "));
G.inherits(x,l.Transform,{transform(Y,wa){var xa=wa.dataflow,Ha=this.value;var Za=Y.type;var gb="";if(Za===u.Sequential)Za=u.Sequential+"-"+u.Linear;else{var ra=Y.type;if(ra=u.isContinuous(ra)&&ra!==u.Time&&ra!==u.UTC&&(Y.scheme||Y.range&&Y.range.length&&Y.range.every(G.isString)))gb=Y.rawDomain?Y.rawDomain.length:Y.domain?Y.domain.length+ +(null!=Y.domainMid):0,gb=2===gb?u.Sequential+"-":3===gb?u.Diverging+"-":"";Za=(gb+Za||u.Linear).toLowerCase()}Ha&&Za===Ha.type||(this.value=Ha=u.scale(Za)());
for(Za in Y)W[Za]||"padding"===Za&&n(Ha.type)||(G.isFunction(Ha[Za])?Ha[Za](Y[Za]):xa.warn("Unsupported scale property: "+Za));gb=Za=Ha;(ra=Y.domainRaw)?(Ha.domain(z(Ha.type,ra,xa)),ra=ra.length):ra=-1;if(-1<ra)xa=ra;else{var Pa=Y.domain;ra=Ha.type;var Ua;!(Ua=Y.zero)&&(Ua=void 0===Y.zero)&&(Ua=Ha.type,Ua=!Ha.bins&&(Ua===u.Linear||Ua===u.Pow||Ua===u.Sqrt));if(Pa){if(n(ra)&&Y.padding&&Pa[0]!==G.peek(Pa)){var za=Y.range,qa=Y.padding;var R=Y.exponent;var T=Y.constant;za=Math.abs(G.peek(za)-za[0]);qa=
za/(za-2*qa);R=ra===u.Log?G.zoomLog(Pa,null,qa):ra===u.Sqrt?G.zoomPow(Pa,null,qa,.5):ra===u.Pow?G.zoomPow(Pa,null,qa,R||1):ra===u.Symlog?G.zoomSymlog(Pa,null,qa,T||1):G.zoomLinear(Pa,null,qa);Pa=Pa.slice();Pa[0]=R[0];Pa[Pa.length-1]=R[1]}if(Ua||null!=Y.domainMin||null!=Y.domainMax||null!=Y.domainMid)R=(Pa=Pa.slice()).length-1||1,Ua&&(0<Pa[0]&&(Pa[0]=0),0>Pa[R]&&(Pa[R]=0)),null!=Y.domainMin&&(Pa[0]=Y.domainMin),null!=Y.domainMax&&(Pa[R]=Y.domainMax),null!=Y.domainMid&&(Ua=Y.domainMid,T=Ua>Pa[R]?R+
1:Ua<Pa[0]?0:R,T!==R&&xa.warn("Scale domainMid exceeds domain min or max.",Ua),Pa.splice(T,0,Ua));Ha.domain(z(ra,Pa,xa));ra===u.Ordinal&&Ha.unknown(Y.domainImplicit?u.scaleImplicit:void 0);Y.nice&&Ha.nice&&Ha.nice(!0!==Y.nice&&u.tickCount(Ha,Y.nice)||null);xa=Pa.length}else xa=0}(ra=Y.bins)&&!G.isArray(ra)&&(Ua=gb.domain(),Ha=Ua[0],Ua=G.peek(Ua),Pa=ra.step,R=null==ra.start?Ha:ra.start,ra=null==ra.stop?Ua:ra.stop,Pa||G.error("Scale bins parameter missing step property."),R<Ha&&(R=Pa*Math.ceil(Ha/Pa)),
ra>Ua&&(ra=Pa*Math.floor(Ua/Pa)),ra=L.range(R,ra+Pa/2,Pa));ra?gb.bins=ra:gb.bins&&delete gb.bins;gb.type===u.BinOrdinal&&(ra?Y.domain||Y.domainRaw||(gb.domain(ra),xa=ra.length):gb.bins=gb.domain());Ha=xa;a:{gb=Za.type;xa=Y.round||!1;ra=Y.range;if(null!=Y.rangeStep)gb!==u.Band&&gb!==u.Point&&G.error("Only band and point scales support rangeStep."),ra=[0,Y.rangeStep*u.bandSpace(Ha,gb===u.Point?1:(null!=Y.paddingInner?Y.paddingInner:Y.padding)||0,(null!=Y.paddingOuter?Y.paddingOuter:Y.padding)||0)];
else if(Y.scheme&&(ra=Y.schemeExtent,G.isArray(Y.scheme)?Ua=u.interpolateColors(Y.scheme,Y.interpolate,Y.interpolateGamma):(Ua=Y.scheme.toLowerCase(),(Ua=u.scheme(Ua))||G.error(`Unrecognized scheme name: ${Y.scheme}`)),Ha=gb===u.Threshold?Ha+1:gb===u.BinOrdinal?Ha-1:gb===u.Quantile||gb===u.Quantize?+Y.schemeCount||5:Ha,ra=u.isInterpolating(gb)?B(Ua,ra,Y.reverse):G.isFunction(Ua)?u.quantizeInterpolator(B(Ua,ra),Ha):gb===u.Ordinal?Ua:Ua.slice(0,Ha),G.isFunction(ra)))if(Za.interpolator){Za.interpolator(ra);
break a}else G.error(`Scale type ${gb} does not support interpolating color schemes.`);ra&&u.isInterpolating(gb)?Za.interpolator(u.interpolateColors(M(ra,Y.reverse),Y.interpolate,Y.interpolateGamma)):(ra&&Y.interpolate&&Za.interpolate?Za.interpolate(u.interpolate(Y.interpolate,Y.interpolateGamma)):G.isFunction(Za.round)?Za.round(xa):G.isFunction(Za.rangeRound)&&Za.interpolate(xa?w.interpolateRound:w.interpolate),ra&&Za.range(M(ra,Y.reverse)))}return wa.fork(wa.NO_SOURCE|wa.NO_FIELDS)}});G.inherits(K,
l.Transform,{transform(Y,wa){const xa=Y.modified("sort")||wa.changed(wa.ADD)||wa.modified(Y.sort.fields)||wa.modified("datum");xa&&wa.source.sort(l.stableCompare(Y.sort));this.modified(xa);return wa}});const ha=["y0","y1"];D.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum","default":"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,
"default":ha}]};G.inherits(D,l.Transform,{transform(Y,wa){var xa=Y.as||ha,Ha=xa[0],Za=xa[1],gb=l.stableCompare(Y.sort),ra=Y.field||G.one,Pa="center"===Y.offset?y:"normalize"===Y.offset?E:H,Ua;gb=Q(wa.source,Y.groupby,gb,ra);var za=0;var qa=gb.length;for(Ua=gb.max;za<qa;++za)Pa(gb[za],Ua,ra,Ha,Za);return wa.reflow(Y.modified()).modifies(xa)}});m.axisticks=v;m.datajoin=t;m.encode=d;m.legendentries=f;m.linkpath=a;m.pie=e;m.scale=x;m.sortitems=K;m.stack=D;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[41]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J,A(17)):"function"===typeof define&&define.amd?define(["exports","d3-array"],l):(m=m||self,l(m.d3=m.d3||{},m.d3))})(this,function(m,l){function u(Sa){return 1<Sa?0:-1>Sa?Xd:Math.acos(Sa)}function G(Sa){return 1<Sa?ae:-1>Sa?-ae:Math.asin(Sa)}function L(Sa){return(Sa=dc(Sa/2))*Sa}function w(){}function v(Sa,jb){if(Sa&&ff.hasOwnProperty(Sa.type))ff[Sa.type](Sa,jb)}function t(Sa,jb,tb){var Fb=-1;tb=Sa.length-
tb;for(jb.lineStart();++Fb<tb;){var Ub=Sa[Fb];jb.point(Ub[0],Ub[1],Ub[2])}jb.lineEnd()}function k(Sa,jb){var tb=-1,Fb=Sa.length;for(jb.polygonStart();++tb<Fb;)t(Sa[tb],jb,1);jb.polygonEnd()}function g(Sa,jb){if(Sa&&sf.hasOwnProperty(Sa.type))sf[Sa.type](Sa,jb);else v(Sa,jb)}function d(){zb.point=a}function f(){e(Zd,sc)}function a(Sa,jb){zb.point=e;Zd=Sa;sc=jb;Sa*=Gd;jb*=Gd;ta=Sa;Ba=Hd(jb=jb/2+Je);Va=dc(jb)}function e(Sa,jb){Sa*=Gd;jb*=Gd;jb=jb/2+Je;var tb=Sa-ta,Fb=0<=tb?1:-1,Ub=Fb*tb;tb=Hd(jb);jb=
dc(jb);var Ac=Va*jb,q=Ba*tb+Ac*Hd(Ub);Fb=Ac*Fb*dc(Ub);mf.add(me(Fb,q));ta=Sa;Ba=tb;Va=jb}function n(Sa){return[me(Sa[1],Sa[0]),G(Sa[2])]}function x(Sa){var jb=Sa[0];Sa=Sa[1];var tb=Hd(Sa);return[tb*Hd(jb),tb*dc(jb),dc(Sa)]}function z(Sa,jb){return Sa[0]*jb[0]+Sa[1]*jb[1]+Sa[2]*jb[2]}function B(Sa,jb){return[Sa[1]*jb[2]-Sa[2]*jb[1],Sa[2]*jb[0]-Sa[0]*jb[2],Sa[0]*jb[1]-Sa[1]*jb[0]]}function M(Sa,jb){Sa[0]+=jb[0];Sa[1]+=jb[1];Sa[2]+=jb[2]}function K(Sa,jb){return[Sa[0]*jb,Sa[1]*jb,Sa[2]*jb]}function D(Sa){var jb=
de(Sa[0]*Sa[0]+Sa[1]*Sa[1]+Sa[2]*Sa[2]);Sa[0]/=jb;Sa[1]/=jb;Sa[2]/=jb}function y(Sa,jb){$c.push(Ad=[pb=Sa,Vb=Sa]);jb<Rb&&(Rb=jb);jb>Gc&&(Gc=jb)}function E(Sa,jb){var tb=x([Sa*Gd,jb*Gd]);if(dd){var Fb=B(dd,tb);Fb=B([Fb[1],-Fb[0],0],Fb);D(Fb);Fb=n(Fb);var Ub=Sa-Vc,Ac=0<Ub?1:-1,q=Fb[0]*zd*Ac;Ub=180<ce(Ub);Ub^(Ac*Vc<q&&q<Ac*Sa)?(Fb=Fb[1]*zd,Fb>Gc&&(Gc=Fb)):(q=(q+360)%360-180,Ub^(Ac*Vc<q&&q<Ac*Sa))?(Fb=-Fb[1]*zd,Fb<Rb&&(Rb=Fb)):(jb<Rb&&(Rb=jb),jb>Gc&&(Gc=jb));Ub?Sa<Vc?fa(pb,Sa)>fa(pb,Vb)&&(Vb=Sa):fa(Sa,
Vb)>fa(pb,Vb)&&(pb=Sa):Vb>=pb?(Sa<pb&&(pb=Sa),Sa>Vb&&(Vb=Sa)):Sa>Vc?fa(pb,Sa)>fa(pb,Vb)&&(Vb=Sa):fa(Sa,Vb)>fa(pb,Vb)&&(pb=Sa)}else $c.push(Ad=[pb=Sa,Vb=Sa]);jb<Rb&&(Rb=jb);jb>Gc&&(Gc=jb);dd=tb;Vc=Sa}function H(){Sd.point=E}function Q(){Ad[0]=pb;Ad[1]=Vb;Sd.point=y;dd=null}function S(Sa,jb){if(dd){var tb=Sa-Vc;rd.add(180<ce(tb)?tb+(0<tb?360:-360):tb)}else Cc=Sa,Bd=jb;zb.point(Sa,jb);E(Sa,jb)}function ea(){zb.lineStart()}function ba(){S(Cc,Bd);zb.lineEnd();1E-6<ce(rd)&&(pb=-(Vb=180));Ad[0]=pb;Ad[1]=
Vb;dd=null}function fa(Sa,jb){return 0>(jb-=Sa)?jb+360:jb}function ia(Sa,jb){return Sa[0]-jb[0]}function ca(Sa,jb){return Sa[0]<=Sa[1]?Sa[0]<=jb&&jb<=Sa[1]:jb<Sa[0]||Sa[1]<jb}function N(Sa,jb){Sa*=Gd;jb*=Gd;var tb=Hd(jb);C(tb*Hd(Sa),tb*dc(Sa),dc(jb))}function C(Sa,jb,tb){++Ye;Yc+=(Sa-Yc)/Ye;ye+=(jb-ye)/Ye;Xe+=(tb-Xe)/Ye}function W(){gc.point=ha}function ha(Sa,jb){Sa*=Gd;jb*=Gd;var tb=Hd(jb);Pb=tb*Hd(Sa);Mb=tb*dc(Sa);ac=dc(jb);gc.point=Y;C(Pb,Mb,ac)}function Y(Sa,jb){Sa*=Gd;jb*=Gd;var tb=Hd(jb),Fb=
tb*Hd(Sa);Sa=tb*dc(Sa);jb=dc(jb);var Ub=me(de((Ub=Mb*jb-ac*Sa)*Ub+(Ub=ac*Fb-Pb*jb)*Ub+(Ub=Pb*Sa-Mb*Fb)*Ub),Pb*Fb+Mb*Sa+ac*jb);Ne+=Ub;Ke+=Ub*(Pb+(Pb=Fb));tf+=Ub*(Mb+(Mb=Sa));df+=Ub*(ac+(ac=jb));C(Pb,Mb,ac)}function wa(){gc.point=N}function xa(){gc.point=Za}function Ha(){gb(Ma,rb);gc.point=N}function Za(Sa,jb){Ma=Sa;rb=jb;Sa*=Gd;jb*=Gd;gc.point=gb;var tb=Hd(jb);Pb=tb*Hd(Sa);Mb=tb*dc(Sa);ac=dc(jb);C(Pb,Mb,ac)}function gb(Sa,jb){Sa*=Gd;jb*=Gd;var tb=Hd(jb),Fb=tb*Hd(Sa);Sa=tb*dc(Sa);jb=dc(jb);tb=Mb*jb-
ac*Sa;var Ub=ac*Fb-Pb*jb,Ac=Pb*Sa-Mb*Fb,q=zc(tb,Ub,Ac),O=G(q);q=q&&-O/q;we.add(q*tb);Pe.add(q*Ub);va.add(q*Ac);Ne+=O;Ke+=O*(Pb+(Pb=Fb));tf+=O*(Mb+(Mb=Sa));df+=O*(ac+(ac=jb));C(Pb,Mb,ac)}function ra(Sa){return function(){return Sa}}function Pa(Sa,jb){function tb(Fb,Ub){return Fb=Sa(Fb,Ub),jb(Fb[0],Fb[1])}Sa.invert&&jb.invert&&(tb.invert=function(Fb,Ub){return Fb=jb.invert(Fb,Ub),Fb&&Sa.invert(Fb[0],Fb[1])});return tb}function Ua(Sa,jb){return[ce(Sa)>Xd?Sa+Math.round(-Sa/fe)*fe:Sa,jb]}function za(Sa,
jb,tb){return(Sa%=fe)?jb||tb?Pa(R(Sa),T(jb,tb)):R(Sa):jb||tb?T(jb,tb):Ua}function qa(Sa){return function(jb,tb){return jb+=Sa,[jb>Xd?jb-fe:jb<-Xd?jb+fe:jb,tb]}}function R(Sa){var jb=qa(Sa);jb.invert=qa(-Sa);return jb}function T(Sa,jb){function tb(O,ja){var Ja=Hd(ja),cb=Hd(O)*Ja;O=dc(O)*Ja;ja=dc(ja);Ja=ja*Fb+cb*Ub;return[me(O*Ac-Ja*q,cb*Fb-ja*Ub),G(Ja*Ac+O*q)]}var Fb=Hd(Sa),Ub=dc(Sa),Ac=Hd(jb),q=dc(jb);tb.invert=function(O,ja){var Ja=Hd(ja),cb=Hd(O)*Ja;O=dc(O)*Ja;ja=dc(ja);Ja=ja*Ac-O*q;return[me(O*
Ac+ja*q,cb*Fb+Ja*Ub),G(Ja*Fb-cb*Ub)]};return tb}function X(Sa){function jb(tb){tb=Sa(tb[0]*Gd,tb[1]*Gd);return tb[0]*=zd,tb[1]*=zd,tb}Sa=za(Sa[0]*Gd,Sa[1]*Gd,2<Sa.length?Sa[2]*Gd:0);jb.invert=function(tb){tb=Sa.invert(tb[0]*Gd,tb[1]*Gd);return tb[0]*=zd,tb[1]*=zd,tb};return jb}function Z(Sa,jb,tb,Fb,Ub,Ac){if(tb){var q=Hd(jb),O=dc(jb);tb*=Fb;if(null==Ub)Ub=jb+Fb*fe,Ac=jb-tb/2;else if(Ub=oa(q,Ub),Ac=oa(q,Ac),0<Fb?Ub<Ac:Ub>Ac)Ub+=Fb*fe;for(;0<Fb?Ub>Ac:Ub<Ac;Ub-=tb)jb=n([q,-O*Hd(Ub),-O*dc(Ub)]),Sa.point(jb[0],
jb[1])}}function oa(Sa,jb){jb=x(jb);jb[0]-=Sa;D(jb);Sa=u(-jb[1]);return((0>-jb[2]?-Sa:Sa)+fe-1E-6)%fe}function na(){var Sa=[],jb;return{point:function(tb,Fb,Ub){jb.push([tb,Fb,Ub])},lineStart:function(){Sa.push(jb=[])},lineEnd:w,rejoin:function(){1<Sa.length&&Sa.push(Sa.pop().concat(Sa.shift()))},result:function(){var tb=Sa;Sa=[];jb=null;return tb}}}function Aa(Sa,jb){return 1E-6>ce(Sa[0]-jb[0])&&1E-6>ce(Sa[1]-jb[1])}function ka(Sa,jb,tb,Fb){this.x=Sa;this.z=jb;this.o=tb;this.e=Fb;this.v=!1;this.n=
this.p=null}function Na(Sa,jb,tb,Fb,Ub){var Ac=[],q=[];Sa.forEach(function(fb){if(!(0>=(nb=fb.length-1))){var nb,Kb=fb[0],Yb=fb[nb];if(Aa(Kb,Yb)){if(!Kb[2]&&!Yb[2]){Ub.lineStart();for(O=0;O<nb;++O)Ub.point((Kb=fb[O])[0],Kb[1]);Ub.lineEnd();return}Yb[0]+=2E-6}Ac.push(nb=new ka(Kb,fb,null,!0));q.push(nb.o=new ka(Kb,null,nb,!1));Ac.push(nb=new ka(Yb,fb,null,!1));q.push(nb.o=new ka(Yb,null,nb,!0))}});if(Ac.length){q.sort(jb);$a(Ac);$a(q);var O=0;for(Sa=q.length;O<Sa;++O)q[O].e=tb=!tb;tb=Ac[0];for(var ja;;){for(var Ja=
tb,cb=!0;Ja.v;)if((Ja=Ja.n)===tb)return;jb=Ja.z;Ub.lineStart();do{Ja.v=Ja.o.v=!0;if(Ja.e){if(cb)for(O=0,Sa=jb.length;O<Sa;++O)Ub.point((ja=jb[O])[0],ja[1]);else Fb(Ja.x,Ja.n.x,1,Ub);Ja=Ja.n}else{if(cb)for(jb=Ja.p.z,O=jb.length-1;0<=O;--O)Ub.point((ja=jb[O])[0],ja[1]);else Fb(Ja.x,Ja.p.x,-1,Ub);Ja=Ja.p}Ja=Ja.o;jb=Ja.z;cb=!cb}while(!Ja.v);Ub.lineEnd()}}}function $a(Sa){if(jb=Sa.length){for(var jb,tb=0,Fb=Sa[0],Ub;++tb<jb;)Fb.n=Ub=Sa[tb],Ub.p=Fb,Fb=Ub;Fb.n=Ub=Sa[0];Ub.p=Fb}}function Wa(Sa){return ce(Sa[0])<=
Xd?Sa[0]:xe(Sa[0])*((ce(Sa[0])+Xd)%fe-Xd)}function Ca(Sa,jb){var tb=Wa(jb);jb=jb[1];var Fb=dc(jb),Ub=[dc(tb),-Hd(tb),0],Ac=0,q=0,O=new l.Adder;1===Fb?jb=ae+1E-6:-1===Fb&&(jb=-ae-1E-6);Fb=0;for(var ja=Sa.length;Fb<ja;++Fb)if(cb=(Ja=Sa[Fb]).length){var Ja,cb,fb=Ja[cb-1],nb=Wa(fb),Kb=fb[1]/2+Je,Yb=dc(Kb),Ob=Hd(Kb);for(Kb=0;Kb<cb;++Kb,nb=Rc,Yb=md,Ob=ed,fb=Fc){var Fc=Ja[Kb],Rc=Wa(Fc);ed=Fc[1]/2+Je;var md=dc(ed),ed=Hd(ed),Wc=Rc-nb,Dc=0<=Wc?1:-1,ld=Dc*Wc,Pd=ld>Xd;Yb*=md;O.add(me(Yb*Dc*dc(ld),Ob*ed+Yb*Hd(ld)));
Ac+=Pd?Wc+Dc*fe:Wc;Pd^nb>=tb^Rc>=tb&&(fb=B(x(fb),x(Fc)),D(fb),nb=B(Ub,fb),D(nb),nb=(Pd^0<=Wc?-1:1)*G(nb[2]),jb>nb||jb===nb&&(fb[0]||fb[1]))&&(q+=Pd^0<=Wc?1:-1)}}return(-1E-6>Ac||1E-6>Ac&&-1E-12>O)^q&1}function Da(Sa,jb,tb,Fb){return function(Ub){function Ac(Wc,Dc){Sa(Wc,Dc)&&Ub.point(Wc,Dc)}function q(Wc,Dc){nb.point(Wc,Dc)}function O(){ed.point=q;nb.lineStart()}function ja(){ed.point=Ac;nb.lineEnd()}function Ja(Wc,Dc){md.push([Wc,Dc]);Yb.point(Wc,Dc)}function cb(){Yb.lineStart();md=[]}function fb(){Ja(md[0][0],
md[0][1]);Yb.lineEnd();var Wc=Yb.clean(),Dc=Kb.result(),ld=Dc.length,Pd;md.pop();Fc.push(md);md=null;if(ld)if(Wc&1){if(ld=Dc[0],0<(Dc=ld.length-1)){Ob||(Ub.polygonStart(),Ob=!0);Ub.lineStart();for(Wc=0;Wc<Dc;++Wc)Ub.point((Pd=ld[Wc])[0],Pd[1]);Ub.lineEnd()}}else 1<ld&&Wc&2&&Dc.push(Dc.pop().concat(Dc.shift())),Rc.push(Dc.filter(ma))}var nb=jb(Ub),Kb=na(),Yb=jb(Kb),Ob=!1,Fc,Rc,md,ed={point:Ac,lineStart:O,lineEnd:ja,polygonStart:function(){ed.point=Ja;ed.lineStart=cb;ed.lineEnd=fb;Rc=[];Fc=[]},polygonEnd:function(){ed.point=
Ac;ed.lineStart=O;ed.lineEnd=ja;Rc=l.merge(Rc);var Wc=Ca(Fc,Fb);Rc.length?(Ob||(Ub.polygonStart(),Ob=!0),Na(Rc,Ea,Wc,tb,Ub)):Wc&&(Ob||(Ub.polygonStart(),Ob=!0),Ub.lineStart(),tb(null,null,1,Ub),Ub.lineEnd());Ob&&(Ub.polygonEnd(),Ob=!1);Rc=Fc=null},sphere:function(){Ub.polygonStart();Ub.lineStart();tb(null,null,1,Ub);Ub.lineEnd();Ub.polygonEnd()}};return ed}}function ma(Sa){return 1<Sa.length}function Ea(Sa,jb){return(0>(Sa=Sa.x)[0]?Sa[1]-ae-1E-6:ae-Sa[1])-(0>(jb=jb.x)[0]?jb[1]-ae-1E-6:ae-jb[1])}function Qa(Sa){function jb(ja,
Ja){return Hd(ja)*Hd(Ja)>Ub}function tb(ja,Ja,cb){var fb=x(ja),nb=x(Ja),Kb=[1,0,0];nb=B(fb,nb);var Yb=z(nb,nb);fb=nb[0];var Ob=Yb-fb*fb;if(!Ob)return!cb&&ja;Yb=Ub*Yb/Ob;Ob=-Ub*fb/Ob;fb=B(Kb,nb);Kb=K(Kb,Yb);nb=K(nb,Ob);M(Kb,nb);nb=z(Kb,fb);Yb=z(fb,fb);Ob=nb*nb-Yb*(z(Kb,Kb)-1);if(!(0>Ob)){var Fc=de(Ob);Ob=K(fb,(-nb-Fc)/Yb);M(Ob,Kb);Ob=n(Ob);if(!cb)return Ob;cb=ja[0];var Rc=Ja[0];ja=ja[1];Ja=Ja[1];if(Rc<cb){var md=cb;cb=Rc;Rc=md}var ed=Rc-cb,Wc=1E-6>ce(ed-Xd);!Wc&&Ja<ja&&(md=ja,ja=Ja,Ja=md);if(Wc||1E-6>
ed?Wc?0<ja+Ja^Ob[1]<(1E-6>ce(Ob[0]-cb)?ja:Ja):ja<=Ob[1]&&Ob[1]<=Ja:ed>Xd^(cb<=Ob[0]&&Ob[0]<=Rc))return Ja=K(fb,(-nb+Fc)/Yb),M(Ja,Kb),[Ob,n(Ja)]}}function Fb(ja,Ja){var cb=q?Sa:Xd-Sa,fb=0;ja<-cb?fb|=1:ja>cb&&(fb|=2);Ja<-cb?fb|=4:Ja>cb&&(fb|=8);return fb}var Ub=Hd(Sa),Ac=6*Gd,q=0<Ub,O=1E-6<ce(Ub);return Da(jb,function(ja){var Ja,cb,fb,nb,Kb;return{lineStart:function(){nb=fb=!1;Kb=1},point:function(Yb,Ob){var Fc=[Yb,Ob],Rc=jb(Yb,Ob);Ob=q?Rc?0:Fb(Yb,Ob):Rc?Fb(Yb+(0>Yb?Xd:-Xd),Ob):0;!Ja&&(nb=fb=Rc)&&ja.lineStart();
Rc!==fb&&(Yb=tb(Ja,Fc),!Yb||Aa(Ja,Yb)||Aa(Fc,Yb))&&(Fc[2]=1);if(Rc!==fb)Kb=0,Rc?(ja.lineStart(),Yb=tb(Fc,Ja),ja.point(Yb[0],Yb[1])):(Yb=tb(Ja,Fc),ja.point(Yb[0],Yb[1],2),ja.lineEnd()),Ja=Yb;else if(O&&Ja&&q^Rc){var md;Ob&cb||!(md=tb(Fc,Ja,!0))||(Kb=0,q?(ja.lineStart(),ja.point(md[0][0],md[0][1]),ja.point(md[1][0],md[1][1]),ja.lineEnd()):(ja.point(md[1][0],md[1][1]),ja.lineEnd(),ja.lineStart(),ja.point(md[0][0],md[0][1],3)))}!Rc||Ja&&Aa(Ja,Fc)||ja.point(Fc[0],Fc[1]);Ja=Fc;fb=Rc;cb=Ob},lineEnd:function(){fb&&
ja.lineEnd();Ja=null},clean:function(){return Kb|(nb&&fb)<<1}}},function(ja,Ja,cb,fb){Z(fb,Sa,Ac,cb,ja,Ja)},q?[0,-Sa]:[-Xd,Sa-Xd])}function eb(Sa,jb,tb,Fb,Ub,Ac){var q=Sa[0],O=Sa[1],ja=0,Ja=1,cb=jb[0]-q,fb=jb[1]-O;tb-=q;if(cb||!(0<tb)){tb/=cb;if(0>cb){if(tb<ja)return;tb<Ja&&(Ja=tb)}else if(0<cb){if(tb>Ja)return;tb>ja&&(ja=tb)}tb=Ub-q;if(cb||!(0>tb)){tb/=cb;if(0>cb){if(tb>Ja)return;tb>ja&&(ja=tb)}else if(0<cb){if(tb<ja)return;tb<Ja&&(Ja=tb)}tb=Fb-O;if(fb||!(0<tb)){tb/=fb;if(0>fb){if(tb<ja)return;tb<
Ja&&(Ja=tb)}else if(0<fb){if(tb>Ja)return;tb>ja&&(ja=tb)}tb=Ac-O;if(fb||!(0>tb)){tb/=fb;if(0>fb){if(tb>Ja)return;tb>ja&&(ja=tb)}else if(0<fb){if(tb<ja)return;tb<Ja&&(Ja=tb)}0<ja&&(Sa[0]=q+ja*cb,Sa[1]=O+ja*fb);1>Ja&&(jb[0]=q+Ja*cb,jb[1]=O+Ja*fb);return!0}}}}}function yb(Sa,jb,tb,Fb){function Ub(ja,Ja,cb,fb){var nb=0,Kb=0;if(null==ja||(nb=Ac(ja,cb))!==(Kb=Ac(Ja,cb))||0>O(ja,Ja)^0<cb){do fb.point(0===nb||3===nb?Sa:tb,1<nb?Fb:jb);while((nb=(nb+cb+4)%4)!==Kb)}else fb.point(Ja[0],Ja[1])}function Ac(ja,
Ja){return 1E-6>ce(ja[0]-Sa)?0<Ja?0:3:1E-6>ce(ja[0]-tb)?0<Ja?2:1:1E-6>ce(ja[1]-jb)?0<Ja?1:0:0<Ja?3:2}function q(ja,Ja){return O(ja.x,Ja.x)}function O(ja,Ja){var cb=Ac(ja,1),fb=Ac(Ja,1);return cb!==fb?cb-fb:0===cb?Ja[1]-ja[1]:1===cb?ja[0]-Ja[0]:2===cb?ja[1]-Ja[1]:Ja[0]-ja[0]}return function(ja){function Ja(ee,be){Sa<=ee&&ee<=tb&&jb<=be&&be<=Fb&&fb.point(ee,be)}function cb(ee,be){var nf=Sa<=ee&&ee<=tb&&jb<=be&&be<=Fb;Yb&&Ob.push([ee,be]);if(ld)Fc=ee,Rc=be,md=nf,ld=!1,nf&&(fb.lineStart(),fb.point(ee,
be));else if(nf&&Dc)fb.point(ee,be);else{var Rd=[ed=Math.max(-1E9,Math.min(1E9,ed)),Wc=Math.max(-1E9,Math.min(1E9,Wc))],Vd=[ee=Math.max(-1E9,Math.min(1E9,ee)),be=Math.max(-1E9,Math.min(1E9,be))];eb(Rd,Vd,Sa,jb,tb,Fb)?(Dc||(fb.lineStart(),fb.point(Rd[0],Rd[1])),fb.point(Vd[0],Vd[1]),nf||fb.lineEnd(),Pd=!1):nf&&(fb.lineStart(),fb.point(ee,be),Pd=!1)}ed=ee;Wc=be;Dc=nf}var fb=ja,nb=na(),Kb,Yb,Ob,Fc,Rc,md,ed,Wc,Dc,ld,Pd,Ld={point:Ja,lineStart:function(){Ld.point=cb;Yb&&Yb.push(Ob=[]);ld=!0;Dc=!1;ed=Wc=
NaN},lineEnd:function(){Kb&&(cb(Fc,Rc),md&&Dc&&nb.rejoin(),Kb.push(nb.result()));Ld.point=Ja;Dc&&fb.lineEnd()},polygonStart:function(){fb=nb;Kb=[];Yb=[];Pd=!0},polygonEnd:function(){for(var ee,be=ee=0,nf=Yb.length;be<nf;++be){var Rd=Yb[be],Vd=1,se=Rd.length,kd=Rd[0],te=kd[0];for(kd=kd[1];Vd<se;++Vd){var Gf=te;var Ae=kd;kd=Rd[Vd];te=kd[0];kd=kd[1];Ae<=Fb?kd>Fb&&(te-Gf)*(Fb-Ae)>(kd-Ae)*(Sa-Gf)&&++ee:kd<=Fb&&(te-Gf)*(Fb-Ae)<(kd-Ae)*(Sa-Gf)&&--ee}}be=Pd&&ee;nf=(Kb=l.merge(Kb)).length;if(be||nf)ja.polygonStart(),
be&&(ja.lineStart(),Ub(null,null,1,ja),ja.lineEnd()),nf&&Na(Kb,q,ee,Ub,ja),ja.polygonEnd();fb=ja;Kb=Yb=Ob=null}};return Ld}}function Qb(){Yd.point=Yd.lineEnd=w}function fc(Sa,jb){Sa*=Gd;jb*=Gd;fd=Sa;ud=dc(jb);Od=Hd(jb);Yd.point=ad}function ad(Sa,jb){Sa*=Gd;jb*=Gd;var tb=dc(jb);jb=Hd(jb);var Fb=ce(Sa-fd),Ub=Hd(Fb);Fb=dc(Fb);Fb*=jb;var Ac=Od*tb-ud*jb*Ub;Ub=ud*tb+Od*jb*Ub;Mc.add(me(de(Fb*Fb+Ac*Ac),Ub));fd=Sa;ud=tb;Od=jb}function ic(Sa){Mc=new l.Adder;g(Sa,Yd);return+Mc}function xc(Sa,jb){vd[0]=Sa;vd[1]=
jb;return ic(ze)}function ib(Sa,jb){return Sa&&pe.hasOwnProperty(Sa.type)?pe[Sa.type](Sa,jb):!1}function $b(Sa,jb){for(var tb,Fb,Ub,Ac=0,q=Sa.length;Ac<q;Ac++){Fb=xc(Sa[Ac],jb);if(0===Fb||0<Ac&&(Ub=xc(Sa[Ac],Sa[Ac-1]),0<Ub&&tb<=Ub&&Fb<=Ub&&(tb+Fb-Ub)*(1-Math.pow((tb-Fb)/Ub,2))<1E-12*Ub))return!0;tb=Fb}return!1}function bc(Sa,jb){return!!Ca(Sa.map(kc),Ec(jb))}function kc(Sa){return Sa=Sa.map(Ec),Sa.pop(),Sa}function Ec(Sa){return[Sa[0]*Gd,Sa[1]*Gd]}function jc(Sa,jb,tb){var Fb=l.range(Sa,jb-1E-6,tb).concat(jb);
return function(Ub){return Fb.map(function(Ac){return[Ub,Ac]})}}function Oc(Sa,jb,tb){var Fb=l.range(Sa,jb-1E-6,tb).concat(jb);return function(Ub){return Fb.map(function(Ac){return[Ac,Ub]})}}function Hc(){function Sa(){return{type:"MultiLineString",coordinates:jb()}}function jb(){return l.range(Ge(Ac/nb)*nb,Ub,nb).map(Fc).concat(l.range(Ge(Ja/Kb)*Kb,ja,Kb).map(Rc)).concat(l.range(Ge(Fb/cb)*cb,tb,cb).filter(function(ed){return 1E-6<ce(ed%nb)}).map(Yb)).concat(l.range(Ge(O/fb)*fb,q,fb).filter(function(ed){return 1E-6<
ce(ed%Kb)}).map(Ob))}var tb,Fb,Ub,Ac,q,O,ja,Ja,cb=10,fb=cb,nb=90,Kb=360,Yb,Ob,Fc,Rc,md=2.5;Sa.lines=function(){return jb().map(function(ed){return{type:"LineString",coordinates:ed}})};Sa.outline=function(){return{type:"Polygon",coordinates:[Fc(Ac).concat(Rc(ja).slice(1),Fc(Ub).reverse().slice(1),Rc(Ja).reverse().slice(1))]}};Sa.extent=function(ed){return arguments.length?Sa.extentMajor(ed).extentMinor(ed):Sa.extentMinor()};Sa.extentMajor=function(ed){if(!arguments.length)return[[Ac,Ja],[Ub,ja]];Ac=
+ed[0][0];Ub=+ed[1][0];Ja=+ed[0][1];ja=+ed[1][1];Ac>Ub&&(ed=Ac,Ac=Ub,Ub=ed);Ja>ja&&(ed=Ja,Ja=ja,ja=ed);return Sa.precision(md)};Sa.extentMinor=function(ed){if(!arguments.length)return[[Fb,O],[tb,q]];Fb=+ed[0][0];tb=+ed[1][0];O=+ed[0][1];q=+ed[1][1];Fb>tb&&(ed=Fb,Fb=tb,tb=ed);O>q&&(ed=O,O=q,q=ed);return Sa.precision(md)};Sa.step=function(ed){return arguments.length?Sa.stepMajor(ed).stepMinor(ed):Sa.stepMinor()};Sa.stepMajor=function(ed){if(!arguments.length)return[nb,Kb];nb=+ed[0];Kb=+ed[1];return Sa};
Sa.stepMinor=function(ed){if(!arguments.length)return[cb,fb];cb=+ed[0];fb=+ed[1];return Sa};Sa.precision=function(ed){if(!arguments.length)return md;md=+ed;Yb=jc(O,q,90);Ob=Oc(Fb,tb,md);Fc=jc(Ja,ja,90);Rc=Oc(Ac,Ub,md);return Sa};return Sa.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Bc(){ef.point=td}function td(Sa,jb){ef.point=Qd;$d=Se=Sa;Qe=Uf=jb}function Qd(Sa,jb){pf.add(Uf*Sa-Se*jb);Se=Sa;Uf=jb}function jd(){Qd($d,Qe)}function hd(Sa,
jb){bb+=Sa;db+=jb;++lb}function Fd(){sb.point=Ib}function Ib(Sa,jb){sb.point=Zb;hd(La=Sa,Ra=jb)}function Zb(Sa,jb){var tb=Sa-La,Fb=jb-Ra;tb=de(tb*tb+Fb*Fb);wb+=tb*(La+Sa)/2;ub+=tb*(Ra+jb)/2;Cb+=tb;hd(La=Sa,Ra=jb)}function xb(){sb.point=hd}function qc(){sb.point=qd}function Nc(){Ed(V,la)}function qd(Sa,jb){sb.point=Ed;hd(V=La=Sa,la=Ra=jb)}function Ed(Sa,jb){var tb=Sa-La,Fb=jb-Ra;tb=de(tb*tb+Fb*Fb);wb+=tb*(La+Sa)/2;ub+=tb*(Ra+jb)/2;Cb+=tb;tb=Ra*Sa-La*jb;Hb+=tb*(La+Sa);Wb+=tb*(Ra+jb);oc+=3*tb;hd(La=
Sa,Ra=jb)}function Ga(Sa){this._context=Sa}function ab(Sa,jb){wd.point=qb;hc=Sc=Sa;wc=Pc=jb}function qb(Sa,jb){Sc-=Sa;Pc-=jb;Lb.add(de(Sc*Sc+Pc*Pc));Sc=Sa;Pc=jb}function Bb(){this._string=[]}function Tb(Sa){return"m0,"+Sa+"a"+Sa+","+Sa+" 0 1,1 0,"+-2*Sa+"a"+Sa+","+Sa+" 0 1,1 0,"+2*Sa+"z"}function Eb(Sa){return function(jb){var tb=new rc,Fb;for(Fb in Sa)tb[Fb]=Sa[Fb];tb.stream=jb;return tb}}function rc(){}function lc(Sa,jb,tb){var Fb=Sa.clipExtent&&Sa.clipExtent();Sa.scale(150).translate([0,0]);null!=
Fb&&Sa.clipExtent(null);g(tb,Sa.stream(Oa));jb(Oa.result());null!=Fb&&Sa.clipExtent(Fb);return Sa}function kb(Sa,jb,tb){return lc(Sa,function(Fb){var Ub=jb[1][0]-jb[0][0],Ac=jb[1][1]-jb[0][1],q=Math.min(Ub/(Fb[1][0]-Fb[0][0]),Ac/(Fb[1][1]-Fb[0][1]));Ub=+jb[0][0]+(Ub-q*(Fb[1][0]+Fb[0][0]))/2;Fb=+jb[0][1]+(Ac-q*(Fb[1][1]+Fb[0][1]))/2;Sa.scale(150*q).translate([Ub,Fb])},tb)}function vb(Sa,jb,tb){return lc(Sa,function(Fb){var Ub=+jb,Ac=Ub/(Fb[1][0]-Fb[0][0]);Ub=(Ub-Ac*(Fb[1][0]+Fb[0][0]))/2;Fb=-Ac*Fb[0][1];
Sa.scale(150*Ac).translate([Ub,Fb])},tb)}function Nb(Sa,jb,tb){return lc(Sa,function(Fb){var Ub=+jb,Ac=Ub/(Fb[1][1]-Fb[0][1]),q=-Ac*Fb[0][0];Fb=(Ub-Ac*(Fb[1][1]+Fb[0][1]))/2;Sa.scale(150*Ac).translate([q,Fb])},tb)}function ec(Sa){return Eb({point:function(jb,tb){jb=Sa(jb,tb);this.stream.point(jb[0],jb[1])}})}function tc(Sa,jb){function tb(Fb,Ub,Ac,q,O,ja,Ja,cb,fb,nb,Kb,Yb,Ob,Fc){var Rc=Ja-Fb,md=cb-Ub,ed=Rc*Rc+md*md;if(ed>4*jb&&Ob--){var Wc=q+nb,Dc=O+Kb,ld=ja+Yb,Pd=de(Wc*Wc+Dc*Dc+ld*ld),Ld=G(ld/=Pd),
ee=1E-6>ce(ce(ld)-1)||1E-6>ce(Ac-fb)?(Ac+fb)/2:me(Dc,Wc),be=Sa(ee,Ld);Ld=be[0];be=be[1];var nf=Ld-Fb,Rd=be-Ub,Vd=md*nf-Rc*Rd;if(Vd*Vd/ed>jb||.3<ce((Rc*nf+md*Rd)/ed-.5)||q*nb+O*Kb+ja*Yb<Nd)tb(Fb,Ub,Ac,q,O,ja,Ld,be,ee,Wc/=Pd,Dc/=Pd,ld,Ob,Fc),Fc.point(Ld,be),tb(Ld,be,ee,Wc,Dc,ld,Ja,cb,fb,nb,Kb,Yb,Ob,Fc)}}return function(Fb){function Ub(Ld,ee){Ld=Sa(Ld,ee);Fb.point(Ld[0],Ld[1])}function Ac(){md=NaN;Pd.point=q;Fb.lineStart()}function q(Ld,ee){var be=x([Ld,ee]);ee=Sa(Ld,ee);tb(md,ed,Rc,Wc,Dc,ld,md=ee[0],
ed=ee[1],Rc=Ld,Wc=be[0],Dc=be[1],ld=be[2],16,Fb);Fb.point(md,ed)}function O(){Pd.point=Ub;Fb.lineEnd()}function ja(){Ac();Pd.point=Ja;Pd.lineEnd=cb}function Ja(Ld,ee){q(fb=Ld,ee);nb=md;Kb=ed;Yb=Wc;Ob=Dc;Fc=ld;Pd.point=q}function cb(){tb(md,ed,Rc,Wc,Dc,ld,nb,Kb,fb,Yb,Ob,Fc,16,Fb);Pd.lineEnd=O;O()}var fb,nb,Kb,Yb,Ob,Fc,Rc,md,ed,Wc,Dc,ld,Pd={point:Ub,lineStart:Ac,lineEnd:O,polygonStart:function(){Fb.polygonStart();Pd.lineStart=ja},polygonEnd:function(){Fb.polygonEnd();Pd.lineStart=Ac}};return Pd}}function uc(Sa){return Eb({point:function(jb,
tb){jb=Sa(jb,tb);return this.stream.point(jb[0],jb[1])}})}function Lc(Sa,jb,tb,Fb,Ub){function Ac(q,O){q*=Fb;O*=Ub;return[jb+Sa*q,tb-Sa*O]}Ac.invert=function(q,O){return[(q-jb)/Sa*Fb,(tb-O)/Sa*Ub]};return Ac}function Jb(Sa,jb,tb,Fb,Ub,Ac){function q(Yb,Ob){Yb*=Fb;Ob*=Ub;return[ja*Yb-Ja*Ob+jb,tb-Ja*Yb-ja*Ob]}if(!Ac)return Lc(Sa,jb,tb,Fb,Ub);var O=Hd(Ac);Ac=dc(Ac);var ja=O*Sa,Ja=Ac*Sa,cb=O/Sa,fb=Ac/Sa,nb=(Ac*tb-O*jb)/Sa,Kb=(Ac*jb+O*tb)/Sa;q.invert=function(Yb,Ob){return[Fb*(cb*Yb-fb*Ob+nb),Ub*(Kb-fb*
Yb-cb*Ob)]};return q}function yc(Sa){return vc(function(){return Sa})()}function vc(Sa){function jb(kd){return Rd(kd[0]*Gd,kd[1]*Gd)}function tb(kd){return(kd=Rd.invert(kd[0],kd[1]))&&[kd[0]*zd,kd[1]*zd]}function Fb(){var kd=Jb(q,0,0,Fc,Rc,Ob).apply(null,Ac(Ja,cb));kd=Jb(q,O-kd[0],ja-kd[1],Fc,Rc,Ob);Yb=za(fb,nb,Kb);nf=Pa(Ac,kd);Rd=Pa(Yb,nf);kd=nf;be=+ee?tc(kd,ee):ec(kd);return Ub()}function Ub(){Vd=se=null;return jb}var Ac,q=150,O=480,ja=250,Ja=0,cb=0,fb=0,nb=0,Kb=0,Yb,Ob=0,Fc=1,Rc=1,md=null,ed=Uc,
Wc=null,Dc,ld,Pd,Ld=ge,ee=.5,be,nf,Rd,Vd,se;jb.stream=function(kd){return Vd&&se===kd?Vd:Vd=cd(uc(Yb)(ed(be(Ld(se=kd)))))};jb.preclip=function(kd){return arguments.length?(ed=kd,md=void 0,Ub()):ed};jb.postclip=function(kd){return arguments.length?(Ld=kd,Wc=Dc=ld=Pd=null,Ub()):Ld};jb.clipAngle=function(kd){return arguments.length?(ed=+kd?Qa(md=kd*Gd):(md=null,Uc),Ub()):md*zd};jb.clipExtent=function(kd){return arguments.length?(Ld=null==kd?(Wc=Dc=ld=Pd=null,ge):yb(Wc=+kd[0][0],Dc=+kd[0][1],ld=+kd[1][0],
Pd=+kd[1][1]),Ub()):null==Wc?null:[[Wc,Dc],[ld,Pd]]};jb.scale=function(kd){return arguments.length?(q=+kd,Fb()):q};jb.translate=function(kd){return arguments.length?(O=+kd[0],ja=+kd[1],Fb()):[O,ja]};jb.center=function(kd){return arguments.length?(Ja=kd[0]%360*Gd,cb=kd[1]%360*Gd,Fb()):[Ja*zd,cb*zd]};jb.rotate=function(kd){return arguments.length?(fb=kd[0]%360*Gd,nb=kd[1]%360*Gd,Kb=2<kd.length?kd[2]%360*Gd:0,Fb()):[fb*zd,nb*zd,Kb*zd]};jb.angle=function(kd){return arguments.length?(Ob=kd%360*Gd,Fb()):
Ob*zd};jb.reflectX=function(kd){return arguments.length?(Fc=kd?-1:1,Fb()):0>Fc};jb.reflectY=function(kd){return arguments.length?(Rc=kd?-1:1,Fb()):0>Rc};jb.precision=function(kd){if(arguments.length){var te=nf;var Gf=ee=kd*kd;te=(be=+Gf?tc(te,Gf):ec(te),Ub())}else te=de(ee);return te};jb.fitExtent=function(kd,te){return kb(jb,kd,te)};jb.fitSize=function(kd,te){return kb(jb,[[0,0],kd],te)};jb.fitWidth=function(kd,te){return vb(jb,kd,te)};jb.fitHeight=function(kd,te){return Nb(jb,kd,te)};return function(){Ac=
Sa.apply(this,arguments);jb.invert=Ac.invert&&tb;return Fb()}}function mc(Sa){var jb=0,tb=Xd/3,Fb=vc(Sa);Sa=Fb(jb,tb);Sa.parallels=function(Ub){return arguments.length?Fb(jb=Ub[0]*Gd,tb=Ub[1]*Gd):[jb*zd,tb*zd]};return Sa}function Kc(Sa){function jb(Fb,Ub){return[Fb*tb,dc(Ub)/tb]}var tb=Hd(Sa);jb.invert=function(Fb,Ub){return[Fb/tb,G(Ub*tb)]};return jb}function Qc(Sa,jb){function tb(O,ja){ja=de(Ac-2*Ub*dc(ja))/Ub;return[ja*dc(O*=Ub),q-ja*Hd(O)]}var Fb=dc(Sa),Ub=(Fb+dc(jb))/2;if(1E-6>ce(Ub))return Kc(Sa);
var Ac=1+Fb*(2*Ub-Fb),q=de(Ac)/Ub;tb.invert=function(O,ja){ja=q-ja;var Ja=me(O,ce(ja))*xe(ja);0>ja*Ub&&(Ja-=Xd*xe(O)*xe(ja));return[Ja/Ub,G((Ac-(O*O+ja*ja)*Ub*Ub)/(2*Ub))]};return tb}function Zc(){return mc(Qc).scale(155.424).center([0,33.6442])}function nd(){return Zc().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function od(Sa){var jb=Sa.length;return{point:function(tb,Fb){for(var Ub=-1;++Ub<jb;)Sa[Ub].point(tb,Fb)},sphere:function(){for(var tb=-1;++tb<
jb;)Sa[tb].sphere()},lineStart:function(){for(var tb=-1;++tb<jb;)Sa[tb].lineStart()},lineEnd:function(){for(var tb=-1;++tb<jb;)Sa[tb].lineEnd()},polygonStart:function(){for(var tb=-1;++tb<jb;)Sa[tb].polygonStart()},polygonEnd:function(){for(var tb=-1;++tb<jb;)Sa[tb].polygonEnd()}}}function Dd(Sa){return function(jb,tb){var Fb=Hd(jb),Ub=Hd(tb);Fb=Sa(Fb*Ub);return Infinity===Fb?[2,0]:[Fb*Ub*dc(jb),Fb*dc(tb)]}}function Jd(Sa){return function(jb,tb){var Fb=de(jb*jb+tb*tb),Ub=Sa(Fb),Ac=dc(Ub);Ub=Hd(Ub);
return[me(jb*Ac,Fb*Ub),G(Fb&&tb*Ac/Fb)]}}function Ud(Sa,jb){return[Sa,He(Ie((ae+jb)/2))]}function ie(Sa){function jb(){var fb=Xd*Ub(),nb=tb(X(tb.rotate()).invert([0,0]));return q(null==O?[[nb[0]-fb,nb[1]-fb],[nb[0]+fb,nb[1]+fb]]:Sa===Ud?[[Math.max(nb[0]-fb,O),ja],[Math.min(nb[0]+fb,Ja),cb]]:[[O,Math.max(nb[1]-fb,ja)],[Ja,Math.min(nb[1]+fb,cb)]])}var tb=yc(Sa),Fb=tb.center,Ub=tb.scale,Ac=tb.translate,q=tb.clipExtent,O=null,ja,Ja,cb;tb.scale=function(fb){return arguments.length?(Ub(fb),jb()):Ub()};
tb.translate=function(fb){return arguments.length?(Ac(fb),jb()):Ac()};tb.center=function(fb){return arguments.length?(Fb(fb),jb()):Fb()};tb.clipExtent=function(fb){return arguments.length?(null==fb?O=ja=Ja=cb=null:(O=+fb[0][0],ja=+fb[0][1],Ja=+fb[1][0],cb=+fb[1][1]),jb()):null==O?null:[[O,ja],[Ja,cb]]};return jb()}function ne(Sa,jb){function tb(q,O){0<Ac?O<-ae+1E-6&&(O=-ae+1E-6):O>ae-1E-6&&(O=ae-1E-6);O=Ac/oe(Ie((ae+O)/2),Ub);return[O*dc(Ub*q),Ac-O*Hd(Ub*q)]}var Fb=Hd(Sa),Ub=Sa===jb?dc(Sa):He(Fb/
Hd(jb))/He(Ie((ae+jb)/2)/Ie((ae+Sa)/2)),Ac=Fb*oe(Ie((ae+Sa)/2),Ub)/Ub;if(!Ub)return Ud;tb.invert=function(q,O){O=Ac-O;var ja=xe(Ub)*de(q*q+O*O),Ja=me(q,ce(O))*xe(O);0>O*Ub&&(Ja-=Xd*xe(q)*xe(O));return[Ja/Ub,2*Re(oe(Ac/ja,1/Ub))-ae]};return tb}function Ee(Sa,jb){return[Sa,jb]}function De(Sa,jb){function tb(q,O){O=Ac-O;q*=Ub;return[O*dc(q),Ac-O*Hd(q)]}var Fb=Hd(Sa),Ub=Sa===jb?dc(Sa):(Fb-Hd(jb))/(jb-Sa),Ac=Fb/Ub+Sa;if(1E-6>ce(Ub))return Ee;tb.invert=function(q,O){O=Ac-O;var ja=me(q,ce(O))*xe(O);0>O*
Ub&&(ja-=Xd*xe(q)*xe(O));return[ja/Ub,Ac-xe(Ub)*de(q*q+O*O)]};return tb}function Fe(Sa,jb){jb=G(Ce*dc(jb));var tb=jb*jb,Fb=tb*tb*tb;return[Sa*Hd(jb)/(Ce*(1.340264+3*-.081106*tb+Fb*(7*8.93E-4+.034164*tb))),jb*(1.340264+-.081106*tb+Fb*(8.93E-4+.003796*tb))]}function Id(Sa,jb){var tb=Hd(jb),Fb=Hd(Sa)*tb;return[tb*dc(Sa)/Fb,dc(jb)/Fb]}function Td(Sa,jb){var tb=jb*jb,Fb=tb*tb;return[Sa*(.8707-.131979*tb+Fb*(-.013791+Fb*(.003971*tb-.001529*Fb))),jb*(1.007226+tb*(.015085+Fb*(-.044475+.028874*tb-.005916*
Fb)))]}function af(Sa,jb){return[Hd(jb)*dc(Sa),dc(jb)]}function Be(Sa,jb){var tb=Hd(jb),Fb=1+Hd(Sa)*tb;return[tb*dc(Sa)/Fb,dc(jb)/Fb]}function cf(Sa,jb){return[He(Ie((ae+jb)/2)),-Sa]}var Xd=Math.PI,ae=Xd/2,Je=Xd/4,fe=2*Xd,zd=180/Xd,Gd=Xd/180,ce=Math.abs,Re=Math.atan,me=Math.atan2,Hd=Math.cos,Ge=Math.ceil,rf=Math.exp,zc=Math.hypot,He=Math.log,oe=Math.pow,dc=Math.sin,xe=Math.sign||function(Sa){return 0<Sa?1:0>Sa?-1:0},de=Math.sqrt,Ie=Math.tan,sf={Feature:function(Sa,jb){v(Sa.geometry,jb)},FeatureCollection:function(Sa,
jb){Sa=Sa.features;for(var tb=-1,Fb=Sa.length;++tb<Fb;)v(Sa[tb].geometry,jb)}},ff={Sphere:function(Sa,jb){jb.sphere()},Point:function(Sa,jb){Sa=Sa.coordinates;jb.point(Sa[0],Sa[1],Sa[2])},MultiPoint:function(Sa,jb){for(var tb=Sa.coordinates,Fb=-1,Ub=tb.length;++Fb<Ub;)Sa=tb[Fb],jb.point(Sa[0],Sa[1],Sa[2])},LineString:function(Sa,jb){t(Sa.coordinates,jb,0)},MultiLineString:function(Sa,jb){Sa=Sa.coordinates;for(var tb=-1,Fb=Sa.length;++tb<Fb;)t(Sa[tb],jb,0)},Polygon:function(Sa,jb){k(Sa.coordinates,
jb)},MultiPolygon:function(Sa,jb){Sa=Sa.coordinates;for(var tb=-1,Fb=Sa.length;++tb<Fb;)k(Sa[tb],jb)},GeometryCollection:function(Sa,jb){Sa=Sa.geometries;for(var tb=-1,Fb=Sa.length;++tb<Fb;)v(Sa[tb],jb)}},mf=new l.Adder,gf=new l.Adder,Zd,sc,ta,Ba,Va,zb={point:w,lineStart:w,lineEnd:w,polygonStart:function(){mf=new l.Adder;zb.lineStart=d;zb.lineEnd=f},polygonEnd:function(){var Sa=+mf;gf.add(0>Sa?fe+Sa:Sa);this.lineStart=this.lineEnd=this.point=w},sphere:function(){gf.add(fe)}},pb,Rb,Vb,Gc,Vc,Cc,Bd,
dd,rd,$c,Ad,Sd={point:y,lineStart:H,lineEnd:Q,polygonStart:function(){Sd.point=S;Sd.lineStart=ea;Sd.lineEnd=ba;rd=new l.Adder;zb.polygonStart()},polygonEnd:function(){zb.polygonEnd();Sd.point=y;Sd.lineStart=H;Sd.lineEnd=Q;0>mf?(pb=-(Vb=180),Rb=-(Gc=90)):1E-6<rd?Gc=90:-1E-6>rd&&(Rb=-90);Ad[0]=pb;Ad[1]=Vb},sphere:function(){pb=-(Vb=180);Rb=-(Gc=90)}},Ye,Ne,Yc,ye,Xe,Ke,tf,df,we,Pe,va,Ma,rb,Pb,Mb,ac,gc={sphere:w,point:N,lineStart:W,lineEnd:wa,polygonStart:function(){gc.lineStart=xa;gc.lineEnd=Ha},polygonEnd:function(){gc.lineStart=
W;gc.lineEnd=wa}};Ua.invert=Ua;var Uc=Da(function(){return!0},function(Sa){var jb=NaN,tb=NaN,Fb=NaN,Ub;return{lineStart:function(){Sa.lineStart();Ub=1},point:function(Ac,q){var O=0<Ac?Xd:-Xd,ja=ce(Ac-jb);if(1E-6>ce(ja-Xd))Sa.point(jb,tb=0<(tb+q)/2?ae:-ae),Sa.point(Fb,tb),Sa.lineEnd(),Sa.lineStart(),Sa.point(O,tb),Sa.point(Ac,tb),Ub=0;else if(Fb!==O&&ja>=Xd){1E-6>ce(jb-Fb)&&(jb-=1E-6*Fb);1E-6>ce(Ac-O)&&(Ac-=1E-6*O);ja=jb;var Ja=tb,cb=Ac,fb,nb,Kb=dc(ja-cb);tb=1E-6<ce(Kb)?Re((dc(Ja)*(nb=Hd(q))*dc(cb)-
dc(q)*(fb=Hd(Ja))*dc(ja))/(fb*nb*Kb)):(Ja+q)/2;Sa.point(Fb,tb);Sa.lineEnd();Sa.lineStart();Sa.point(O,tb);Ub=0}Sa.point(jb=Ac,tb=q);Fb=O},lineEnd:function(){Sa.lineEnd();jb=tb=NaN},clean:function(){return 2-Ub}}},function(Sa,jb,tb,Fb){null==Sa?(tb*=ae,Fb.point(-Xd,tb),Fb.point(0,tb),Fb.point(Xd,tb),Fb.point(Xd,0),Fb.point(Xd,-tb),Fb.point(0,-tb),Fb.point(-Xd,-tb),Fb.point(-Xd,0),Fb.point(-Xd,tb)):1E-6<ce(Sa[0]-jb[0])?(Sa=Sa[0]<jb[0]?Xd:-Xd,tb=tb*Sa/2,Fb.point(-Sa,tb),Fb.point(0,tb),Fb.point(Sa,tb)):
Fb.point(jb[0],jb[1])},[-Xd,-ae]),Mc,fd,ud,Od,Yd={sphere:w,point:w,lineStart:function(){Yd.point=fc;Yd.lineEnd=Qb},lineEnd:w,polygonStart:w,polygonEnd:w},vd=[null,null],ze={type:"LineString",coordinates:vd},Kd={Feature:function(Sa,jb){return ib(Sa.geometry,jb)},FeatureCollection:function(Sa,jb){Sa=Sa.features;for(var tb=-1,Fb=Sa.length;++tb<Fb;)if(ib(Sa[tb].geometry,jb))return!0;return!1}},pe={Sphere:function(){return!0},Point:function(Sa,jb){return 0===xc(Sa.coordinates,jb)},MultiPoint:function(Sa,
jb){Sa=Sa.coordinates;for(var tb=-1,Fb=Sa.length;++tb<Fb;)if(0===xc(Sa[tb],jb))return!0;return!1},LineString:function(Sa,jb){return $b(Sa.coordinates,jb)},MultiLineString:function(Sa,jb){Sa=Sa.coordinates;for(var tb=-1,Fb=Sa.length;++tb<Fb;)if($b(Sa[tb],jb))return!0;return!1},Polygon:function(Sa,jb){return bc(Sa.coordinates,jb)},MultiPolygon:function(Sa,jb){Sa=Sa.coordinates;for(var tb=-1,Fb=Sa.length;++tb<Fb;)if(bc(Sa[tb],jb))return!0;return!1},GeometryCollection:function(Sa,jb){Sa=Sa.geometries;
for(var tb=-1,Fb=Sa.length;++tb<Fb;)if(ib(Sa[tb],jb))return!0;return!1}},ge=Sa=>Sa,re=new l.Adder,pf=new l.Adder,$d,Qe,Se,Uf,ef={point:w,lineStart:w,lineEnd:w,polygonStart:function(){ef.lineStart=Bc;ef.lineEnd=jd},polygonEnd:function(){ef.lineStart=ef.lineEnd=ef.point=w;re.add(ce(pf));pf=new l.Adder},result:function(){var Sa=re/2;re=new l.Adder;return Sa}},Ff=Infinity,sa=Ff,ua=-Ff,Ka=ua,Oa={point:function(Sa,jb){Sa<Ff&&(Ff=Sa);Sa>ua&&(ua=Sa);jb<sa&&(sa=jb);jb>Ka&&(Ka=jb)},lineStart:w,lineEnd:w,polygonStart:w,
polygonEnd:w,result:function(){var Sa=[[Ff,sa],[ua,Ka]];ua=Ka=-(sa=Ff=Infinity);return Sa}},bb=0,db=0,lb=0,wb=0,ub=0,Cb=0,Hb=0,Wb=0,oc=0,V,la,La,Ra,sb={point:hd,lineStart:Fd,lineEnd:xb,polygonStart:function(){sb.lineStart=qc;sb.lineEnd=Nc},polygonEnd:function(){sb.point=hd;sb.lineStart=Fd;sb.lineEnd=xb},result:function(){var Sa=oc?[Hb/oc,Wb/oc]:Cb?[wb/Cb,ub/Cb]:lb?[bb/lb,db/lb]:[NaN,NaN];bb=db=lb=wb=ub=Cb=Hb=Wb=oc=0;return Sa}};Ga.prototype={_radius:4.5,pointRadius:function(Sa){return this._radius=
Sa,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(Sa,jb){switch(this._point){case 0:this._context.moveTo(Sa,jb);this._point=1;break;case 1:this._context.lineTo(Sa,jb);break;default:this._context.moveTo(Sa+this._radius,jb),this._context.arc(Sa,jb,this._radius,0,fe)}},result:w};var Lb=new l.Adder,Sb,hc,wc,Sc,Pc,wd={point:w,lineStart:function(){wd.point=
ab},lineEnd:function(){Sb&&qb(hc,wc);wd.point=w},polygonStart:function(){Sb=!0},polygonEnd:function(){Sb=null},result:function(){var Sa=+Lb;Lb=new l.Adder;return Sa}};Bb.prototype={_radius:4.5,_circle:Tb(4.5),pointRadius:function(Sa){(Sa=+Sa)!==this._radius&&(this._radius=Sa,this._circle=null);return this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z");this._point=NaN},point:function(Sa,
jb){switch(this._point){case 0:this._string.push("M",Sa,",",jb);this._point=1;break;case 1:this._string.push("L",Sa,",",jb);break;default:null==this._circle&&(this._circle=Tb(this._radius)),this._string.push("M",Sa,",",jb,this._circle)}},result:function(){if(this._string.length){var Sa=this._string.join("");this._string=[];return Sa}return null}};rc.prototype={constructor:rc,point:function(Sa,jb){this.stream.point(Sa,jb)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},
lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Nd=Hd(30*Gd),cd=Eb({point:function(Sa,jb){this.stream.point(Sa*Gd,jb*Gd)}}),pd=Dd(function(Sa){return de(2/(1+Sa))});pd.invert=Jd(function(Sa){return 2*G(Sa/2)});var Xc=Dd(function(Sa){return(Sa=u(Sa))&&Sa/dc(Sa)});Xc.invert=Jd(function(Sa){return Sa});Ud.invert=function(Sa,jb){return[Sa,2*Re(rf(jb))-ae]};Ee.invert=Ee;var Ce=de(3)/2;Fe.invert=function(Sa,
jb){for(var tb=jb,Fb=tb*tb,Ub=Fb*Fb*Fb,Ac=0,q;12>Ac&&!(q=tb*(1.340264+-.081106*Fb+Ub*(8.93E-4+.003796*Fb))-jb,Fb=1.340264+3*-.081106*Fb+Ub*(7*8.93E-4+.034164*Fb),tb-=q/=Fb,Fb=tb*tb,Ub=Fb*Fb*Fb,1E-12>ce(q));++Ac);return[Ce*Sa*(1.340264+3*-.081106*Fb+Ub*(7*8.93E-4+.034164*Fb))/Hd(tb),G(dc(tb)/Ce)]};Id.invert=Jd(Re);Td.invert=function(Sa,jb){var tb=jb,Fb=25;do{var Ub=tb*tb;var Ac=Ub*Ub;tb-=Ac=(tb*(1.007226+Ub*(.015085+Ac*(-.044475+.028874*Ub-.005916*Ac)))-jb)/(1.007226+Ub*(.045255+Ac*(-.311325+.259866*
Ub-.005916*11*Ac)))}while(1E-6<ce(Ac)&&0<--Fb);return[Sa/(.8707+(Ub=tb*tb)*(-.131979+Ub*(-.013791+Ub*Ub*Ub*(.003971-.001529*Ub)))),tb]};af.invert=Jd(G);Be.invert=Jd(function(Sa){return 2*Re(Sa)});cf.invert=function(Sa,jb){return[-jb,2*Re(rf(Sa))-ae]};m.geoAlbers=nd;m.geoAlbersUsa=function(){function Sa(nb){var Kb=nb[0];nb=nb[1];return cb=null,(Ac.point(Kb,nb),cb)||(O.point(Kb,nb),cb)||(Ja.point(Kb,nb),cb)}function jb(){tb=Fb=null;return Sa}var tb,Fb,Ub=nd(),Ac,q=Zc().rotate([154,0]).center([-2,58.5]).parallels([55,
65]),O,ja=Zc().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Ja,cb,fb={point:function(nb,Kb){cb=[nb,Kb]}};Sa.invert=function(nb){var Kb=Ub.scale(),Yb=Ub.translate(),Ob=(nb[0]-Yb[0])/Kb;Kb=(nb[1]-Yb[1])/Kb;return(.12<=Kb&&.234>Kb&&-.425<=Ob&&-.214>Ob?q:.166<=Kb&&.234>Kb&&-.214<=Ob&&-.115>Ob?ja:Ub).invert(nb)};Sa.stream=function(nb){return tb&&Fb===nb?tb:tb=od([Ub.stream(Fb=nb),q.stream(nb),ja.stream(nb)])};Sa.precision=function(nb){if(!arguments.length)return Ub.precision();Ub.precision(nb);
q.precision(nb);ja.precision(nb);return jb()};Sa.scale=function(nb){if(!arguments.length)return Ub.scale();Ub.scale(nb);q.scale(.35*nb);ja.scale(nb);return Sa.translate(Ub.translate())};Sa.translate=function(nb){if(!arguments.length)return Ub.translate();var Kb=Ub.scale(),Yb=+nb[0],Ob=+nb[1];Ac=Ub.translate(nb).clipExtent([[Yb-.455*Kb,Ob-.238*Kb],[Yb+.455*Kb,Ob+.238*Kb]]).stream(fb);O=q.translate([Yb-.307*Kb,Ob+.201*Kb]).clipExtent([[Yb-.425*Kb+1E-6,Ob+.12*Kb+1E-6],[Yb-.214*Kb-1E-6,Ob+.234*Kb-1E-6]]).stream(fb);
Ja=ja.translate([Yb-.205*Kb,Ob+.212*Kb]).clipExtent([[Yb-.214*Kb+1E-6,Ob+.166*Kb+1E-6],[Yb-.115*Kb-1E-6,Ob+.234*Kb-1E-6]]).stream(fb);return jb()};Sa.fitExtent=function(nb,Kb){return kb(Sa,nb,Kb)};Sa.fitSize=function(nb,Kb){return kb(Sa,[[0,0],nb],Kb)};Sa.fitWidth=function(nb,Kb){return vb(Sa,nb,Kb)};Sa.fitHeight=function(nb,Kb){return Nb(Sa,nb,Kb)};return Sa.scale(1070)};m.geoArea=function(Sa){gf=new l.Adder;g(Sa,zb);return 2*gf};m.geoAzimuthalEqualArea=function(){return yc(pd).scale(124.75).clipAngle(179.999)};
m.geoAzimuthalEqualAreaRaw=pd;m.geoAzimuthalEquidistant=function(){return yc(Xc).scale(79.4188).clipAngle(179.999)};m.geoAzimuthalEquidistantRaw=Xc;m.geoBounds=function(Sa){var jb,tb,Fb;Gc=Vb=-(pb=Rb=Infinity);$c=[];g(Sa,Sd);if(jb=$c.length){$c.sort(ia);Sa=1;var Ub=$c[0];for(tb=[Ub];Sa<jb;++Sa){var Ac=$c[Sa];ca(Ub,Ac[0])||ca(Ub,Ac[1])?(fa(Ub[0],Ac[1])>fa(Ub[0],Ub[1])&&(Ub[1]=Ac[1]),fa(Ac[0],Ub[1])>fa(Ub[0],Ub[1])&&(Ub[0]=Ac[0])):tb.push(Ub=Ac)}var q=-Infinity;jb=tb.length-1;Sa=0;for(Ub=tb[jb];Sa<=
jb;Ub=Ac,++Sa)Ac=tb[Sa],(Fb=fa(Ub[1],Ac[0]))>q&&(q=Fb,pb=Ac[0],Vb=Ub[1])}$c=Ad=null;return Infinity===pb||Infinity===Rb?[[NaN,NaN],[NaN,NaN]]:[[pb,Rb],[Vb,Gc]]};m.geoCentroid=function(Sa){Ye=Ne=Yc=ye=Xe=Ke=tf=df=0;we=new l.Adder;Pe=new l.Adder;va=new l.Adder;g(Sa,gc);Sa=+we;var jb=+Pe,tb=+va,Fb=zc(Sa,jb,tb);return 1E-12>Fb&&(Sa=Ke,jb=tf,tb=df,1E-6>Ne&&(Sa=Yc,jb=ye,tb=Xe),Fb=zc(Sa,jb,tb),1E-12>Fb)?[NaN,NaN]:[me(jb,Sa)*zd,G(tb/Fb)*zd]};m.geoCircle=function(){function Sa(){var O=jb.apply(this,arguments),
ja=tb.apply(this,arguments)*Gd,Ja=Fb.apply(this,arguments)*Gd;Ub=[];Ac=za(-O[0]*Gd,-O[1]*Gd,0).invert;Z(q,ja,Ja,1);O={type:"Polygon",coordinates:[Ub]};Ub=Ac=null;return O}var jb=ra([0,0]),tb=ra(90),Fb=ra(6),Ub,Ac,q={point:function(O,ja){Ub.push(O=Ac(O,ja));O[0]*=zd;O[1]*=zd}};Sa.center=function(O){return arguments.length?(jb="function"===typeof O?O:ra([+O[0],+O[1]]),Sa):jb};Sa.radius=function(O){return arguments.length?(tb="function"===typeof O?O:ra(+O),Sa):tb};Sa.precision=function(O){return arguments.length?
(Fb="function"===typeof O?O:ra(+O),Sa):Fb};return Sa};m.geoClipAntimeridian=Uc;m.geoClipCircle=Qa;m.geoClipExtent=function(){var Sa=0,jb=0,tb=960,Fb=500,Ub,Ac,q;return q={stream:function(O){return Ub&&Ac===O?Ub:Ub=yb(Sa,jb,tb,Fb)(Ac=O)},extent:function(O){return arguments.length?(Sa=+O[0][0],jb=+O[0][1],tb=+O[1][0],Fb=+O[1][1],Ub=Ac=null,q):[[Sa,jb],[tb,Fb]]}}};m.geoClipRectangle=yb;m.geoConicConformal=function(){return mc(ne).scale(109.5).parallels([30,30])};m.geoConicConformalRaw=ne;m.geoConicEqualArea=
Zc;m.geoConicEqualAreaRaw=Qc;m.geoConicEquidistant=function(){return mc(De).scale(131.154).center([0,13.9389])};m.geoConicEquidistantRaw=De;m.geoContains=function(Sa,jb){return(Sa&&Kd.hasOwnProperty(Sa.type)?Kd[Sa.type]:ib)(Sa,jb)};m.geoDistance=xc;m.geoEqualEarth=function(){return yc(Fe).scale(177.158)};m.geoEqualEarthRaw=Fe;m.geoEquirectangular=function(){return yc(Ee).scale(152.63)};m.geoEquirectangularRaw=Ee;m.geoGnomonic=function(){return yc(Id).scale(144.049).clipAngle(60)};m.geoGnomonicRaw=
Id;m.geoGraticule=Hc;m.geoGraticule10=function(){return Hc()()};m.geoIdentity=function(){function Sa(){Yb=tb*Ac;Ob=tb*q;md=ed=null;return jb}function jb(Wc){var Dc=Wc[0]*Yb;Wc=Wc[1]*Ob;if(O){var ld=Wc*ja-Dc*Ja;Dc=Dc*ja+Wc*Ja;Wc=ld}return[Dc+Fb,Wc+Ub]}var tb=1,Fb=0,Ub=0,Ac=1,q=1,O=0,ja,Ja,cb=null,fb,nb,Kb,Yb=1,Ob=1,Fc=Eb({point:function(Wc,Dc){Wc=jb([Wc,Dc]);this.stream.point(Wc[0],Wc[1])}}),Rc=ge,md,ed;jb.invert=function(Wc){var Dc=Wc[0]-Fb;Wc=Wc[1]-Ub;if(O){var ld=Wc*ja+Dc*Ja;Dc=Dc*ja-Wc*Ja;Wc=ld}return[Dc/
Yb,Wc/Ob]};jb.stream=function(Wc){return md&&ed===Wc?md:md=Fc(Rc(ed=Wc))};jb.postclip=function(Wc){return arguments.length?(Rc=Wc,cb=fb=nb=Kb=null,Sa()):Rc};jb.clipExtent=function(Wc){return arguments.length?(Rc=null==Wc?(cb=fb=nb=Kb=null,ge):yb(cb=+Wc[0][0],fb=+Wc[0][1],nb=+Wc[1][0],Kb=+Wc[1][1]),Sa()):null==cb?null:[[cb,fb],[nb,Kb]]};jb.scale=function(Wc){return arguments.length?(tb=+Wc,Sa()):tb};jb.translate=function(Wc){return arguments.length?(Fb=+Wc[0],Ub=+Wc[1],Sa()):[Fb,Ub]};jb.angle=function(Wc){return arguments.length?
(O=Wc%360*Gd,Ja=dc(O),ja=Hd(O),Sa()):O*zd};jb.reflectX=function(Wc){return arguments.length?(Ac=Wc?-1:1,Sa()):0>Ac};jb.reflectY=function(Wc){return arguments.length?(q=Wc?-1:1,Sa()):0>q};jb.fitExtent=function(Wc,Dc){return kb(jb,Wc,Dc)};jb.fitSize=function(Wc,Dc){return kb(jb,[[0,0],Wc],Dc)};jb.fitWidth=function(Wc,Dc){return vb(jb,Wc,Dc)};jb.fitHeight=function(Wc,Dc){return Nb(jb,Wc,Dc)};return jb};m.geoInterpolate=function(Sa,jb){var tb=Sa[0]*Gd,Fb=Sa[1]*Gd;Sa=jb[0]*Gd;jb=jb[1]*Gd;var Ub=Hd(Fb),
Ac=dc(Fb),q=Hd(jb),O=dc(jb),ja=Ub*Hd(tb),Ja=Ub*dc(tb),cb=q*Hd(Sa),fb=q*dc(Sa),nb=2*G(de(L(jb-Fb)+Ub*q*L(Sa-tb))),Kb=dc(nb);Sa=nb?function(Yb){var Ob=dc(Yb*=nb)/Kb,Fc=dc(nb-Yb)/Kb;Yb=Fc*ja+Ob*cb;var Rc=Fc*Ja+Ob*fb;Ob=Fc*Ac+Ob*O;return[me(Rc,Yb)*zd,me(Ob,de(Yb*Yb+Rc*Rc))*zd]}:function(){return[tb*zd,Fb*zd]};Sa.distance=nb;return Sa};m.geoLength=ic;m.geoMercator=function(){return ie(Ud).scale(961/fe)};m.geoMercatorRaw=Ud;m.geoNaturalEarth1=function(){return yc(Td).scale(175.295)};m.geoNaturalEarth1Raw=
Td;m.geoOrthographic=function(){return yc(af).scale(249.5).clipAngle(90.000001)};m.geoOrthographicRaw=af;m.geoPath=function(Sa,jb){function tb(q){q&&("function"===typeof Fb&&Ac.pointRadius(+Fb.apply(this,arguments)),g(q,Ub(Ac)));return Ac.result()}var Fb=4.5,Ub,Ac;tb.area=function(q){g(q,Ub(ef));return ef.result()};tb.measure=function(q){g(q,Ub(wd));return wd.result()};tb.bounds=function(q){g(q,Ub(Oa));return Oa.result()};tb.centroid=function(q){g(q,Ub(sb));return sb.result()};tb.projection=function(q){return arguments.length?
(Ub=null==q?(Sa=null,ge):(Sa=q).stream,tb):Sa};tb.context=function(q){if(!arguments.length)return jb;Ac=null==q?(jb=null,new Bb):new Ga(jb=q);"function"!==typeof Fb&&Ac.pointRadius(Fb);return tb};tb.pointRadius=function(q){if(!arguments.length)return Fb;Fb="function"===typeof q?q:(Ac.pointRadius(+q),+q);return tb};return tb.projection(Sa).context(jb)};m.geoProjection=yc;m.geoProjectionMutator=vc;m.geoRotation=X;m.geoStereographic=function(){return yc(Be).scale(250).clipAngle(142)};m.geoStereographicRaw=
Be;m.geoStream=g;m.geoTransform=function(Sa){return{stream:Eb(Sa)}};m.geoTransverseMercator=function(){var Sa=ie(cf),jb=Sa.center,tb=Sa.rotate;Sa.center=function(Fb){return arguments.length?jb([-Fb[1],Fb[0]]):(Fb=jb(),[Fb[1],-Fb[0]])};Sa.rotate=function(Fb){return arguments.length?tb([Fb[0],Fb[1],2<Fb.length?Fb[2]+90:90]):(Fb=tb(),[Fb[0],Fb[1],Fb[2]-90])};return tb([0,0,90]).scale(159.155)};m.geoTransverseMercatorRaw=cf;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[42]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J,A(41),A(17)):"function"===typeof define&&define.amd?define(["exports","d3-geo","d3-array"],l):l(m.d3=m.d3||{},m.d3,m.d3)})(this,function(m,l,u){function G(sa){return 1<sa?Va:-1>sa?-Va:Math.asin(sa)}function L(sa){return 1<sa?0:-1>sa?Ba:Math.acos(sa)}function w(sa){return 0<sa?Math.sqrt(sa):0}function v(sa){return(xe(sa)-xe(-sa))/2}function t(sa){return(xe(sa)+xe(-sa))/2}function k(sa){function ua(bb,
db){var lb=dc(bb),wb=dc(db);db=sc(db);lb*=wb;lb=-((1-lb?Ie((1+lb)/2)/(1-lb):-.5)+Oa/(1+lb));return[lb*wb*sc(bb),lb*db]}var Ka=ta(sa/2),Oa=2*Ie(dc(sa/2))/(Ka*Ka);ua.invert=function(bb,db){var lb=w(bb*bb+db*db),wb=-sa/2,ub=50;if(!lb)return[0,0];do{var Cb=wb/2;var Hb=dc(Cb);Cb=sc(Cb);var Wb=Cb/Hb,oc=-Ie(zc(Hb));wb-=Hb=(2/Wb*oc-Oa*Wb-lb)/(-oc/(Cb*Cb)+1-Oa/(2*Hb*Hb))*(0>Hb?.7:1)}while(1E-6<zc(Hb)&&0<--ub);ub=sc(wb);return[oe(bb*ub,lb*dc(wb)),G(db*ub/lb)]};return ua}function g(sa,ua){var Ka=dc(ua);var Oa=
(Oa=L(Ka*dc(sa/=2)))?Oa/Math.sin(Oa):1;return[2*Ka*sc(sa)*Oa,sc(ua)*Oa]}function d(sa){function ua(wb,ub){var Cb=dc(ub),Hb=dc(wb/=2);return[(1+Cb)*sc(wb),(bb*ub>-oe(Hb,db)-.001?0:10*-bb)+lb+sc(ub)*Oa-(1+Cb)*Ka*Hb]}var Ka=sc(sa),Oa=dc(sa),bb=0<=sa?1:-1,db=ta(bb*sa),lb=(1+Ka-Oa)/2;ua.invert=function(wb,ub){var Cb=0,Hb=0,Wb=50;do{var oc=dc(Cb),V=sc(Cb),la=dc(Hb),La=sc(Hb),Ra=1+la,sb=Ra*V-wb,Lb=lb+La*Oa-Ra*Ka*oc-ub,Sb=Ra*oc/2,hc=-V*La;V=Ka*Ra*V/2;la=Oa*la+Ka*oc*La;oc=hc*V-la*Sb;hc=(Lb*hc-sb*la)/oc/2;
sb=(sb*V-Lb*Sb)/oc;2<zc(sb)&&(sb/=2);Cb-=hc;Hb-=sb}while((1E-6<zc(hc)||1E-6<zc(sb))&&0<--Wb);return bb*Hb>-oe(dc(Cb),db)-.001?[2*Cb,Hb]:null};return ua}function f(sa,ua){ua=ta(ua/2);var Ka=w(1-ua*ua),Oa=1+Ka*dc(sa/=2);sa=sc(sa)*Ka/Oa;ua/=Oa;Oa=sa*sa;Ka=ua*ua;return[4/3*sa*(3+Oa-3*Ka),4/3*ua*(3+3*Oa-Ka)]}function a(sa,ua){var Ka=zc(ua);return Ka<zb?[sa,Ie(ta(zb+ua/2))]:[sa*dc(Ka)*(2*Rb-1/sc(Ka)),Zd(ua)*(2*Rb*(Ka-zb)-Ie(ta(Ka/2)))]}function e(sa){function ua(Oa,bb){bb=l.geoAzimuthalEquidistantRaw(Oa,
bb);if(zc(Oa)>Va){Oa=oe(bb[1],bb[0]);var db=w(bb[0]*bb[0]+bb[1]*bb[1]),lb=Ka*gf((Oa-Va)/Ka)+Va,wb=oe(sc(Oa-=lb),2-dc(Oa));Oa=lb+G(Ba/db*sc(wb))-wb;bb[0]=db*dc(Oa);bb[1]=db*sc(Oa)}return bb}var Ka=2*Ba/sa;ua.invert=function(Oa,bb){var db=w(Oa*Oa+bb*bb);if(db>Va){var lb=oe(bb,Oa);Oa=Ka*gf((lb-Va)/Ka)+Va;bb=lb>Oa?-1:1;lb=db*dc(Oa-lb);lb=1/ta(bb*L((lb-Ba)/w(Ba*(Ba-2*lb)+db*db)));lb=Oa+2*He((lb+bb*w(lb*lb-3))/3);Oa=db*dc(lb);bb=db*sc(lb)}return l.geoAzimuthalEquidistantRaw.invert(Oa,bb)};return ua}function n(sa,
ua){function Ka(Oa,bb){Oa=l.geoAzimuthalEqualAreaRaw(Oa/ua,bb);Oa[0]*=sa;return Oa}2>arguments.length&&(ua=sa);if(1===ua)return l.geoAzimuthalEqualAreaRaw;if(Infinity===ua)return x;Ka.invert=function(Oa,bb){Oa=l.geoAzimuthalEqualAreaRaw.invert(Oa/sa,bb);Oa[0]*=ua;return Oa};return Ka}function x(sa,ua){return[sa*dc(ua)/dc(ua/=2),2*sc(ua)]}function z(sa,ua,Ka){var Oa=100;Ka=void 0===Ka?0:+Ka;ua=+ua;do{var bb=sa(Ka);var db=sa(Ka+1E-6);bb===db&&(db=bb+1E-6);Ka-=bb=-1E-6*(bb-ua)/(bb-db)}while(0<Oa--&&
1E-6<zc(bb));return 0>Oa?NaN:Ka}function B(sa,ua,Ka){void 0===ua&&(ua=40);void 0===Ka&&(Ka=1E-12);return function(Oa,bb,db,lb){db=void 0===db?0:+db;lb=void 0===lb?0:+lb;for(var wb=0;wb<ua;wb++){var ub=sa(db,lb),Cb=ub[0]-Oa,Hb=ub[1]-bb;if(zc(Cb)<Ka&&zc(Hb)<Ka)break;var Wb=Cb*Cb+Hb*Hb;if(Wb>oc)db-=la/=2,lb-=Ra/=2;else{var oc=Wb;Wb=(0<db?-1:1)*Ka;var V=(0<lb?-1:1)*Ka;var la=sa(db+Wb,lb);var La=sa(db,lb+V);var Ra=(la[0]-ub[0])/Wb;Wb=(la[1]-ub[1])/Wb;la=(La[0]-ub[0])/V;ub=(La[1]-ub[1])/V;V=ub*Ra-Wb*la;
V=(.5>zc(V)?.5:1)/V;la=(Hb*la-Cb*ub)*V;Ra=(Cb*Wb-Hb*Ra)*V;db+=la;lb+=Ra;if(zc(la)<Ka&&zc(Ra)<Ka)break}}return[db,lb]}}function M(){function sa(Ka,Oa){if(-1.4>Ka+Oa){var bb=(Ka-Oa+1.6)*(Ka+Oa+1.4)/8;Ka+=bb;Oa-=.8*bb*sc(Oa+Ba/2)}bb=ua(Ka,Oa);Ka=(1-dc(Ka*Oa))/12;0>bb[1]&&(bb[0]*=1+Ka);0<bb[1]&&(bb[1]*=1+Ka/1.5*bb[0]*bb[0]);return bb}var ua=n(1.68,2);sa.invert=B(sa);return sa}function K(sa,ua){sa*=sc(ua);var Ka=30,Oa;do ua-=Oa=(ua+sc(ua)-sa)/(1+dc(ua));while(1E-6<zc(Oa)&&0<--Ka);return ua/2}function D(sa,
ua,Ka){function Oa(bb,db){return[sa*bb*dc(db=K(Ka,db)),ua*sc(db)]}Oa.invert=function(bb,db){return db=G(db/ua),[bb/(sa*dc(db)),G((2*db+sc(2*db))/Ka)]};return Oa}function y(sa,ua){var Ka=K(Ba,ua);return[2.00276*sa/(1/dc(ua)+1.11072/dc(Ka)),(ua+Rb*sc(Ka))/2.00276]}function E(sa){var ua=0,Ka=l.geoProjectionMutator(sa);sa=Ka(ua);sa.parallel=function(Oa){return arguments.length?Ka(ua=Oa*Cc):ua*Vc};return sa}function H(sa,ua){return[sa*dc(ua),ua]}function Q(sa){function ua(Oa,bb){var db=Ka+sa-bb;Oa=db?
Oa*dc(bb)/db:db;return[db*sc(Oa),Ka-db*dc(Oa)]}if(!sa)return H;var Ka=1/ta(sa);ua.invert=function(Oa,bb){var db=w(Oa*Oa+(bb=Ka-bb)*bb),lb=Ka+sa-db;return[db/dc(lb)*oe(Oa,bb),lb]};return ua}function S(sa){function ua(Ka,Oa){Ka=(Oa=Va-Oa)?Ka*sa*sc(Oa)/Oa:Oa;return[Oa*sc(Ka)/sa,Va-Oa*dc(Ka)]}ua.invert=function(Ka,Oa){Ka*=sa;var bb=Va-Oa;Oa=w(Ka*Ka+bb*bb);Ka=oe(Ka,bb);return[(Oa?Oa/sc(Oa):1)*Ka/sa,Va-Oa]};return ua}function ea(sa,ua,Ka,Oa,bb,db){var lb=dc(db);if(1<zc(sa)||1<zc(db))sa=L(Ka*bb+ua*Oa*lb);
else{sa=sc(sa/2);var wb=sc(db/2);sa=2*G(w(sa*sa+ua*Oa*wb*wb))}return 1E-6<zc(sa)?[sa,oe(Oa*sc(db),ua*bb-Ka*Oa*lb)]:[0,0]}function ba(sa,ua,Ka){return L((sa*sa+ua*ua-Ka*Ka)/(2*sa*ua))}function fa(sa,ua,Ka){var Oa=[[sa[0],sa[1],sc(sa[1]),dc(sa[1])],[ua[0],ua[1],sc(ua[1]),dc(ua[1])],[Ka[0],Ka[1],sc(Ka[1]),dc(Ka[1])]];sa=Oa[2];for(Ka=0;3>Ka;++Ka,sa=ua)ua=Oa[Ka],sa.v=ea(ua[1]-sa[1],sa[3],sa[2],ua[3],ua[2],ua[0]-sa[0]),sa.point=[0,0];sa=ba(Oa[0].v[0],Oa[2].v[0],Oa[1].v[0]);var bb=ba(Oa[0].v[0],Oa[1].v[0],
Oa[2].v[0]),db=Ba-sa;Oa[2].point[1]=0;Oa[0].point[0]=-(Oa[1].point[0]=Oa[0].v[0]/2);var lb=[Oa[2].point[0]=Oa[0].point[0]+Oa[2].v[0]*dc(sa),2*(Oa[0].point[1]=Oa[1].point[1]=Oa[2].v[0]*sc(sa))];return function(wb,ub){var Cb=sc(ub),Hb=dc(ub),Wb=Array(3),oc;for(oc=0;3>oc;++oc){var V=Oa[oc];Wb[oc]=ea(ub-V[1],V[3],V[2],Hb,Cb,wb-V[0]);if(!Wb[oc][0])return V.point;var la=Wb[oc];V=Wb[oc][1]-V.v[1];V-=2*Ba*de((V+Ba)/(2*Ba));la[1]=V}wb=lb.slice();for(oc=0;3>oc;++oc)ub=ba(Oa[oc].v[0],Wb[oc][0],Wb[2==oc?0:oc+
1][0]),0>Wb[oc][1]&&(ub=-ub),oc?1==oc?(ub=bb-ub,wb[0]-=Wb[oc][0]*dc(ub),wb[1]-=Wb[oc][0]*sc(ub)):(ub=db-ub,wb[0]+=Wb[oc][0]*dc(ub),wb[1]+=Wb[oc][0]*sc(ub)):(wb[0]+=Wb[oc][0]*dc(ub),wb[1]-=Wb[oc][0]*sc(ub));wb[0]/=3;wb[1]/=3;return wb}}function ia(sa){return sa[0]*=Cc,sa[1]*=Cc,sa}function ca(sa,ua,Ka){var Oa=l.geoCentroid({type:"MultiPoint",coordinates:[sa,ua,Ka]});Oa=[-Oa[0],-Oa[1]];var bb=l.geoRotation(Oa);sa=fa(ia(bb(sa)),ia(bb(ua)),ia(bb(Ka)));sa.invert=B(sa);sa=l.geoProjection(sa).rotate(Oa);
var db=sa.center;delete sa.rotate;sa.center=function(lb){return arguments.length?db(bb(lb)):bb.invert(db())};return sa.clipAngle(90)}function N(sa,ua){ua=w(1-sc(ua));return[2/Vb*sa*ua,Vb*(1-ua)]}function C(sa){function ua(Oa,bb){return[Oa,(Oa?Oa/sc(Oa):1)*(sc(bb)*dc(Oa)-Ka*dc(bb))]}var Ka=ta(sa);ua.invert=Ka?function(Oa,bb){Oa&&(bb*=sc(Oa)/Oa);var db=dc(Oa);return[Oa,2*oe(w(db*db+Ka*Ka-bb*bb)-db,Ka-bb)]}:function(Oa,bb){return[Oa,G(Oa?bb*ta(Oa)/Oa:bb)]};return ua}function W(sa,ua){return[Ad*sa*(2*
dc(2*ua/3)-1)/Vb,Ad*Vb*sc(ua/3)]}function ha(sa){function ua(Oa,bb){return[Oa*Ka,sc(bb)/Ka]}var Ka=dc(sa);ua.invert=function(Oa,bb){return[Oa/Ka,G(bb*Ka)]};return ua}function Y(sa){function ua(Oa,bb){return[Oa*Ka,(1+Ka)*ta(bb/2)]}var Ka=dc(sa);ua.invert=function(Oa,bb){return[Oa/Ka,2*He(bb/(1+Ka))]};return ua}function wa(sa,ua){var Ka=w(8/(3*Ba));return[Ka*sa*(1-zc(ua)/Ba),Ka*ua]}function xa(sa,ua){var Ka=w(4-3*sc(zc(ua)));return[2/w(6*Ba)*sa*Ka,Zd(ua)*w(2*Ba/3)*(2-Ka)]}function Ha(sa,ua){var Ka=
w(Ba*(4+Ba));return[2/Ka*sa*(1+w(1-4*ua*ua/(Ba*Ba))),4/Ka*ua]}function Za(sa,ua){var Ka=(2+Va)*sc(ua);ua/=2;for(var Oa=0,bb=Infinity;10>Oa&&1E-6<zc(bb);Oa++)bb=dc(ua),ua-=bb=(ua+sc(ua)*(bb+2)-Ka)/(2*bb*(1+bb));return[2/w(Ba*(4+Ba))*sa*(1+dc(ua)),2*w(Ba/(4+Ba))*sc(ua)]}function gb(sa,ua){return[sa*(1+dc(ua))/w(2+Ba),2*ua/w(2+Ba)]}function ra(sa,ua){for(var Ka=(1+Va)*sc(ua),Oa=0,bb=Infinity;10>Oa&&1E-6<zc(bb);Oa++)ua-=bb=(ua+sc(ua)-Ka)/(1+dc(ua));Ka=w(2+Ba);return[sa*(1+dc(ua))/Ka,2*ua/Ka]}function Pa(sa,
ua){var Ka=sc(sa/=2);sa=dc(sa);var Oa=w(dc(ua)),bb=dc(ua/=2);ua=sc(ua)/(bb+Rb*sa*Oa);var db=w(2/(1+ua*ua));Ka=w((Rb*bb+(sa+Ka)*Oa)/(Rb*bb+(sa-Ka)*Oa));return[Sd*(db*(Ka-1/Ka)-2*Ie(Ka)),Sd*(db*ua*(Ka+1/Ka)-2*He(ua))]}function Ua(sa,ua){ua=ta(ua/2);return[sa*Ye*w(1-ua*ua),(1+Ye)*ua]}function za(sa,ua){var Ka=ua/2,Oa=dc(Ka);return[2*sa/Vb*dc(ua)*Oa*Oa,Vb*ta(Ka)]}function qa(sa){function ua(ub,Cb){var Hb=dc(Cb),Wb=sc(Cb);return[Hb/(bb+sa*Hb)*ub,bb*Cb+sa*Wb]}function Ka(ub,Cb){ub=ua(ub,Cb);return[ub[0]*
wb,ub[1]/wb]}function Oa(ub){return Ka(0,ub)[1]}var bb=1-sa,db=ua(Ba,0)[0]-ua(-Ba,0)[0],lb=ua(0,Va)[1]-ua(0,-Va)[1],wb=w(2*lb/db);Ka.invert=function(ub,Cb){Cb=z(Oa,Cb);return[ub/wb*(sa+bb/dc(Cb)),Cb]};return Ka}function R(sa){return[2*sa[0],2*He(sc(sa[1]*Cc))*Vc]}function T(sa,ua){function Ka(db,lb){db=l.geoAzimuthalEquidistantRaw(db,lb);lb=db[0];var wb=db[1],ub=lb*lb+wb*wb;if(ub>bb){var Cb=w(ub);lb=oe(wb,lb);ub=Oa*gf(lb/Oa);wb=lb-ub;var Hb=sa*dc(wb),Wb=(sa*sc(wb)-wb*sc(Hb))/(Va-Hb),oc=X(wb,Wb),V=
(Ba-sa)/Z(oc,Hb,Ba);lb=Cb;var la=50,La;do lb-=La=(sa+Z(oc,Hb,lb)*V-Cb)/(oc(lb)*V);while(1E-6<zc(La)&&0<--la);wb*=sc(lb);lb<Va&&(wb-=Wb*(lb-Va));Cb=sc(ub);ub=dc(ub);db[0]=lb*ub-wb*Cb;db[1]=lb*Cb+wb*ub}return db}var Oa=2*Ba/ua,bb=sa*sa;Ka.invert=function(db,lb){var wb=db*db+lb*lb;if(wb>bb){var ub=w(wb);lb=oe(lb,db);wb=Oa*gf(lb/Oa);lb-=wb;db=ub*dc(lb);lb=ub*sc(lb);ub=db-Va;for(var Cb=sc(db),Hb=lb/Cb,Wb=db<Va?Infinity:0,oc=10;;){var V=sa*sc(Hb),la=sa*dc(Hb),La=sc(la),Ra=Va-la,sb=(V-Hb*La)/Ra,Lb=X(Hb,
sb);if(1E-12>zc(Wb)||!--oc)break;Hb-=Wb=(Hb*Cb-sb*ub-lb)/(Cb-2*ub*(Ra*(la+Hb*V*dc(la)-La)-V*(V-Hb*La))/(Ra*Ra))}ub=sa+Z(Lb,la,db)*(Ba-sa)/Z(Lb,la,Ba);lb=wb+Hb;db=ub*dc(lb);lb=ub*sc(lb)}return l.geoAzimuthalEquidistantRaw.invert(db,lb)};return Ka}function X(sa,ua){return function(Ka){var Oa=sa*dc(Ka);Ka<Va&&(Oa-=ua);return w(1+Oa*Oa)}}function Z(sa,ua,Ka){var Oa=(Ka-ua)/50;Ka=sa(ua)+sa(Ka);for(var bb=1;50>bb;++bb)Ka+=2*sa(ua+=Oa);return.5*Ka*Oa}function oa(sa,ua,Ka,Oa,bb,db,lb,wb){function ub(Cb,Hb){if(!Hb)return[sa*
Cb/Ba,0];var Wb=Hb*Hb,oc=sa+Wb*(ua+Wb*(Ka+Wb*Oa)),V=Hb*(bb-1+Wb*(db-wb+Wb*lb));V=(oc*oc+V*V)/(2*V);Cb=Cb*G(oc/V)/Ba;return[V*sc(Cb),Hb*(1+Wb*wb)+V*(1-dc(Cb))]}8>arguments.length&&(wb=0);ub.invert=function(Cb,Hb){var Wb=Ba*Cb/sa,oc=Hb,V=50;do{var la=oc*oc,La=sa+la*(ua+la*(Ka+la*Oa)),Ra=oc*(bb-1+la*(db-wb+la*lb)),sb=La*La+Ra*Ra,Lb=2*Ra;var Sb=sb/Lb;var hc=Sb*Sb;var wc=G(La/Sb)/Ba;var Sc=Wb*wc,Pc=La*La,wd=(2*ua+la*(4*Ka+6*la*Oa))*oc,Nd=bb+la*(3*db+5*la*lb);Ra=(2*(La*wd+Ra*(Nd-1))*Lb-2*sb*(Nd-1))/(Lb*
Lb);sb=dc(Sc);Nd=sc(Sc);Lb=Sb*sb;Sc=Sb*Nd;hc=Wb/Ba*(1/w(1-Pc/hc))*(wd*Sb-La*Ra)/hc;La=Sc-Cb;la=oc*(1+la*wb)+Sb-Lb-Hb;Sb=Ra*Nd+Lb*hc;Pc=Lb*wc;Ra=1+Ra-(Ra*sb-Sc*hc);wc*=Sc;sb=Sb*wc-Ra*Pc;if(!sb)break;Wb-=Sb=(la*Sb-La*Ra)/sb;oc-=wc=(La*wc-la*Pc)/sb}while((1E-6<zc(Sb)||1E-6<zc(wc))&&0<--V);return[Wb,oc]};return ub}function na(sa,ua){var Ka=sa*sa,Oa=ua*ua;return[sa*(1-.162388*Oa)*(.87-9.52426E-4*Ka*Ka),ua*(1+Oa/12)]}function Aa(sa){function ua(Oa,bb){var db=0<Oa?-.5:.5;Oa=sa(Oa+db*Ba,bb);Oa[0]-=db*Ka;
return Oa}var Ka=sa(Va,0)[0]-sa(-Va,0)[0];sa.invert&&(ua.invert=function(Oa,bb){var db=0<Oa?-.5:.5;Oa=sa.invert(Oa+db*Ka,bb);db=Oa[0]-db*Ba;db<-Ba?db+=2*Ba:db>Ba&&(db-=2*Ba);Oa[0]=db;return Oa});return ua}function ka(sa,ua){var Ka=Zd(sa),Oa=Zd(ua),bb=dc(ua),db=dc(sa)*bb;sa=sc(sa)*bb;ua=sc(Oa*ua);sa=zc(oe(sa,ua));ua=G(db);1E-6<zc(sa-Va)&&(sa%=Va);db=Na(sa>Ba/4?Va-sa:sa,ua);sa>Ba/4&&(ua=db[0],db[0]=-db[1],db[1]=-ua);return db[0]*=Ka,db[1]*=-Oa,db}function Na(sa,ua){if(ua===Va)return[0,0];var Ka=sc(ua),
Oa=Ka*Ka,bb=Oa*Oa,db=1+bb,lb=1+3*bb,wb=1-bb,ub=G(1/w(db)),Cb=wb+Oa*db*ub,Hb=(1-Ka)/Cb,Wb=w(Hb),oc=Hb*db,V=w(oc),la=Wb*wb;if(0===sa)return[0,-(la+Oa*V)];var La=dc(ua),Ra=1/La,sb=2*Ka*La;ub=(-Cb*La-(1-Ka)*(-3*Oa+ub*lb)*sb)/(Cb*Cb);Ka=-Ra*sb;db=-Ra*(Oa*db*ub+Hb*lb*sb);wb=-2*Ra*(.5*ub/Wb*wb-2*Oa*Wb*sb);Wb=4*sa/Ba;if(sa>.222*Ba||ua<Ba/4&&sa>.175*Ba){ua=(la+Oa*w(oc*(1+bb)-la*la))/(1+bb);if(sa>Ba/4)return[ua,ua];bb=ua;Ra=.5*ua;ua=.5*(Ra+bb);sa=50;do{sb=w(oc-ua*ua);sb=ua*(wb+Ka*sb)+db*G(ua/V)-Wb;if(!sb)break;
0>sb?Ra=ua:bb=ua;ua=.5*(Ra+bb)}while(1E-6<zc(bb-Ra)&&0<--sa)}else{ua=1E-6;sa=25;do sb=ua*ua,bb=w(oc-sb),lb=wb+Ka*bb,Ra=ua*lb+db*G(ua/V)-Wb,sb=lb+(db-Ka*sb)/bb,ua-=bb=bb?Ra/sb:0;while(1E-6<zc(bb)&&0<--sa)}return[ua,-la-Oa*w(oc-ua*ua)]}function $a(sa,ua){if(1E-6>ua){var Ka=sc(sa);var Oa=dc(sa);var bb=ua*(sa-Ka*Oa)/4;return[Ka-bb*Oa,Oa+bb*Ka,1-ua*Ka*Ka/2,sa-bb]}if(.999999<=ua){bb=(1-ua)/4;Oa=t(sa);Ka=xe(2*sa);Ka=(Ka-1)/(Ka+1);ua=1/Oa;var db=Oa*v(sa);return[Ka+bb*(db-sa)/(Oa*Oa),ua-bb*Ka*ua*(db-sa),ua+
bb*Ka*ua*(db+sa),2*He(xe(sa))-Va+bb*(db-sa)/Oa]}var lb=[1,0,0,0,0,0,0,0,0],wb=[w(ua),0,0,0,0,0,0,0,0],ub=0;Oa=w(1-ua);for(db=1;1E-6<zc(wb[ub]/lb[ub])&&8>ub;)bb=lb[ub++],wb[ub]=(bb-Oa)/2,lb[ub]=(bb+Oa)/2,Oa=w(bb*Oa),db*=2;ua=db*lb[ub]*sa;do Ka=wb[ub]*sc(Oa=ua)/lb[ub],ua=(G(Ka)+ua)/2;while(--ub);return[sc(ua),Ka=dc(ua),Ka/dc(ua-Oa),ua]}function Wa(sa,ua){if(!ua)return sa;if(1===ua)return Ie(ta(sa/2+zb));var Ka=1,Oa=w(1-ua),bb=w(ua);for(ua=0;1E-6<zc(bb);ua++)sa%Ba?(bb=He(Oa*ta(sa)/Ka),0>bb&&(bb+=Ba),
sa+=bb+~~(sa/Ba)*Ba):sa+=sa,bb=(Ka+Oa)/2,Oa=w(Ka*Oa),bb=((Ka=bb)-Oa)/2;return sa/(mf(2,ua)*Ka)}function Ca(sa,ua){var Ka=(Rb-1)/(Rb+1),Oa=w(1-Ka*Ka),bb=Wa(Va,Oa*Oa),db=Ie(ta(Ba/4+zc(ua)/2));db=xe(-1*db)/w(Ka);Ka=db*dc(-1*sa);var lb=db*sc(-1*sa);sa=Ka*Ka;db=lb+1;lb=1-sa-lb*lb;sa=[.5*((0<=Ka?Va:-Va)-oe(lb,2*Ka)),-.25*Ie(lb*lb+4*sa)+.5*Ie(db*db+sa)];Ka=sa[0];sa=sa[1];Oa*=Oa;db=zc(Ka);lb=zc(sa);lb=v(lb);if(db){var wb=1/sc(db);db=1/(ta(db)*ta(db));lb=-(db+Oa*lb*lb*wb*wb-1+Oa);lb=(-lb+w(lb*lb-4*(Oa-1)*
db))/2;Oa=[Wa(He(1/w(lb)),Oa)*Zd(Ka),Wa(He(w((lb/db-1)/Oa)),1-Oa)*Zd(sa)]}else Oa=[0,Wa(He(lb),1-Oa)*Zd(sa)];return[-Oa[1],(0<=ua?1:-1)*(.5*bb-Oa[0])]}function Da(sa){function ua(db,lb){var wb=bb(db,lb);db=wb[0];lb=wb[1];wb=sc(lb);lb=dc(lb);var ub=dc(db),Cb=L(Ka*wb+Oa*lb*ub),Hb=sc(Cb);Cb=1E-6<zc(Hb)?Cb/Hb:1;return[Cb*Oa*sc(db),(zc(db)>Va?Cb:-Cb)*(Ka*lb-Oa*wb*ub)]}var Ka=sc(sa),Oa=dc(sa),bb=ma(sa);bb.invert=ma(-sa);ua.invert=function(db,lb){var wb=w(db*db+lb*lb),ub=-sc(wb),Cb=dc(wb),Hb=wb*Cb,Wb=-lb*
ub,oc=wb*Ka,V=w(Hb*Hb+Wb*Wb-oc*oc);Hb=oe(Hb*oc+Wb*V,Wb*oc-Hb*V);db=(wb>Va?-1:1)*oe(db*ub,wb*dc(Hb)*Cb+lb*sc(Hb)*ub);return bb.invert(db,Hb)};return ua}function ma(sa){var ua=sc(sa),Ka=dc(sa);return function(Oa,bb){var db=dc(bb),lb=dc(Oa)*db;Oa=sc(Oa)*db;bb=sc(bb);return[oe(Oa,lb*Ka-bb*ua),G(bb*Ka+lb*ua)]}}function Ea(sa){function ua(Hb,Wb){var oc=zc(Wb);if(oc>Ka){var V=ff(sa-1,sf(0,de((Hb+Ba)/wb)));Hb+=Ba*(sa-1)/sa-V*wb;Hb=N(Hb,oc);Hb[0]=Hb[0]*Gc/Oa-Gc*(sa-1)/(2*sa)+V*Gc/sa;Hb[1]=bb+4*(Hb[1]-db)*
lb/Gc;0>Wb&&(Hb[1]=-Hb[1])}else Hb=tf(Hb,Wb);Hb[0]*=ub;Hb[1]/=Cb;return Hb}var Ka=Ke*Cc,Oa=N(Ba,Ka)[0]-N(-Ba,Ka)[0],bb=tf(0,Ka)[1],db=N(0,Ka)[1],lb=Vb-db,wb=Gc/sa,ub=4/Gc,Cb=bb+lb*lb*4/Gc;ua.invert=function(Hb,Wb){Hb/=ub;Wb*=Cb;var oc=zc(Wb);if(oc>bb){var V=ff(sa-1,sf(0,de((Hb+Ba)/wb)));Hb=(Hb+Ba*(sa-1)/sa-V*wb)*Oa/Gc;Hb=N.invert(Hb,.25*(oc-bb)*Gc/lb+db);Hb[0]-=Ba*(sa-1)/sa-V*wb;0>Wb&&(Hb[1]=-Hb[1]);return Hb}return tf.invert(Hb,Wb)};return ua}function Qa(sa,ua){return[sa,ua&1?89.999999:Ke]}function eb(sa,
ua){return[sa,ua&1?-89.999999:-Ke]}function yb(sa){return[.999999*sa[0],sa[1]]}function Qb(sa){var ua=[].concat(u.range(-180,180+sa/2,sa).map(Qa),u.range(180,-180-sa/2,-sa).map(eb));return{type:"Polygon",coordinates:[180===sa?ua.map(yb):ua]}}function fc(sa){function ua(Hb,Wb){var oc=1-sc(Wb);if(oc&&2>oc){var V=Va-Wb,la=25;do{var La=sc(V);var Ra=dc(V);Wb=bb+oe(La,Ka-Ra);Ra=1+Cb-2*Ka*Ra;V-=La=(V-ub*bb-Ka*La+Ra*Wb-.5*oc*lb)/(2*Ka*La*Wb)}while(1E-12<zc(La)&&0<--la);oc=db*w(Ra);Hb=Hb*Wb/Ba}else oc=db*
(sa+oc),Hb=Hb*bb/Ba;return[oc*sc(Hb),wb-oc*dc(Hb)]}var Ka=1+sa,Oa=sc(1/Ka),bb=G(Oa),db=2*w(Ba/(lb=Ba+4*bb*Ka)),lb,wb=.5*db*(Ka+w(sa*(2+sa))),ub=sa*sa,Cb=Ka*Ka;ua.invert=function(Hb,Wb){var oc=Hb*Hb+(Wb-=wb)*Wb;Wb=(1+Cb-oc/(db*db))/(2*Ka);var V=L(Wb),la=sc(V),La=bb+oe(la,Ka-Wb);return[G(Hb/w(oc))*Ba/La,G(1-2*(V-ub*bb-Ka*la+(1+Cb-2*Ka*Wb)*La)/lb)]};return ua}function ad(sa,ua){return-.7109889596207567<ua?(sa=rd(sa,ua),sa[1]+=.0528035274542,sa):H(sa,ua)}function ic(sa,ua){return.7109889596207567<zc(ua)?
(sa=rd(sa,ua),sa[1]-=0<ua?.0528035274542:-.0528035274542,sa):H(sa,ua)}function xc(sa,ua,Ka,Oa){function bb(Wb){return w(1+sa*dc(2*Wb)+ua*dc(4*Wb))}function db(Wb){Wb*=Ka;return(2*Wb+(1+sa-ua/2)*sc(2*Wb)+(sa+ua)/2*sc(4*Wb)+ua/2*sc(6*Wb))/Ka}function lb(Wb){return bb(Wb)*sc(Wb)}var wb=w(4*Ba/(2*Ka+(1+sa-ua/2)*sc(2*Ka)+(sa+ua)/2*sc(4*Ka)+ua/2*sc(6*Ka))),ub=w(Oa*sc(Ka)*w((1+sa*dc(2*Ka)+ua*dc(4*Ka))/(1+sa+ua))),Cb=Ka*db(1),Hb=function(Wb,oc){var V=Ka*z(db,Cb*sc(oc)/Ka,oc/Ba);isNaN(V)&&(V=Ka*Zd(oc));oc=
wb*bb(V);return[oc*ub*Wb/Ba*dc(V),oc/ub*sc(V)]};Hb.invert=function(Wb,oc){oc=z(lb,oc*ub/wb);return[Wb*Ba/(dc(oc)*wb*ub*bb(oc)),G(Ka*db(oc/Ka)/Cb)]};0===Ka&&(wb=w(Oa/Ba),Hb=function(Wb,oc){return[Wb*wb,sc(oc)/wb]},Hb.invert=function(Wb,oc){return[Wb/wb,G(oc*wb)]});return Hb}function ib(sa,ua,Ka,Oa,bb,db,lb,wb,ub,Cb,Hb){if(Hb.nanEncountered)return NaN;var Wb=Ka-ua;var oc=sa(ua+.25*Wb);var V=sa(Ka-.25*Wb);if(isNaN(oc))Hb.nanEncountered=!0;else if(isNaN(V))Hb.nanEncountered=!0;else{var la=Wb*(Oa+4*oc+
bb)/12;var La=Wb*(bb+4*V+db)/12;var Ra=la+La;lb=(Ra-lb)/15;if(Cb>ub)return Hb.maxDepthCount++,Ra+lb;if(Math.abs(lb)<wb)return Ra+lb;Wb=ua+.5*Wb;ua=ib(sa,ua,Wb,Oa,oc,bb,la,.5*wb,ub,Cb+1,Hb);if(isNaN(ua))return Hb.nanEncountered=!0,NaN;sa=ib(sa,Wb,Ka,bb,V,db,La,.5*wb,ub,Cb+1,Hb);return isNaN(sa)?(Hb.nanEncountered=!0,NaN):ua+sa}}function $b(sa,ua,Ka,Oa,bb){void 0===Oa&&(Oa=1E-8);void 0===bb&&(bb=20);var db=sa(ua),lb=sa(.5*(ua+Ka)),wb=sa(Ka);return ib(sa,ua,Ka,db,lb,wb,(db+4*lb+wb)*(Ka-ua)/6,Oa,bb,1,
{maxDepthCount:0,nanEncountered:!1})}function bc(sa,ua,Ka){function Oa(Hb){return sa+(1-sa)*mf(1-mf(Hb,ua),1/ua)}function bb(Hb){var Wb=0,oc=1E3,V=500;do wb[V]>Hb?oc=V:Wb=V,V=Wb+oc>>1;while(V>Wb);(Wb=wb[V+1]-wb[V])&&(Wb=(Hb-wb[V+1])/Wb);return(V+1+Wb)/1E3}for(var db=1/$b(Oa,0,1,1E-4),lb=1.00000001*db,wb=[],ub=0;1E3>=ub;ub++)wb.push($b(Oa,0,ub/1E3,1E-4)*lb);var Cb=2*bb(1)/Ba*db/Ka;Ka=function(Hb,Wb){var oc=bb(zc(sc(Wb)));Hb*=Oa(oc);oc/=Cb;return[Hb,0<=Wb?oc:-oc]};Ka.invert=function(Hb,Wb){var oc;Wb*=
Cb;1>zc(Wb)&&(oc=Zd(Wb)*G($b(Oa,0,zc(Wb),1E-4)*db));return[Hb/Oa(zc(Wb)),oc]};return Ka}function kc(sa,ua){for(var Ka=-1,Oa=sa.length,bb=sa[0],db,lb,wb,ub=[];++Ka<Oa;){db=sa[Ka];lb=(db[0]-bb[0])/ua;wb=(db[1]-bb[1])/ua;for(var Cb=0;Cb<ua;++Cb)ub.push([bb[0]+Cb*lb,bb[1]+Cb*wb]);bb=db}ub.push(db);return ub}function Ec(sa){var ua=[],Ka,Oa=sa[0].length;for(Ka=0;Ka<Oa;++Ka){var bb=sa[0][Ka];var db=bb[0][0];var lb=bb[0][1];var wb=bb[1][1];var ub=bb[2][0];bb=bb[2][1];ua.push(kc([[db+1E-6,lb+1E-6],[db+1E-6,
wb-1E-6],[ub-1E-6,wb-1E-6],[ub-1E-6,bb+1E-6]],30))}for(Ka=sa[1].length-1;0<=Ka;--Ka)bb=sa[1][Ka],db=bb[0][0],lb=bb[0][1],wb=bb[1][1],ub=bb[2][0],bb=bb[2][1],ua.push(kc([[ub-1E-6,bb-1E-6],[ub-1E-6,wb+1E-6],[db+1E-6,wb+1E-6],[db+1E-6,lb-1E-6]],30));return{type:"Polygon",coordinates:[u.merge(ua)]}}function jc(sa,ua,Ka){function Oa(ub,Cb){for(var Hb=0>Cb?-1:1,Wb=ua[+(0>Cb)],oc=0,V=Wb.length-1;oc<V&&ub>Wb[oc][2][0];++oc);ub=sa(ub-Wb[oc][1][0],Cb);ub[0]+=sa(Wb[oc][1][0],Hb*Cb>Hb*Wb[oc][0][1]?Wb[oc][0][1]:
Cb)[0];return ub}var bb,db;Ka?Oa.invert=Ka(Oa):sa.invert&&(Oa.invert=function(ub,Cb){for(var Hb=db[+(0>Cb)],Wb=ua[+(0>Cb)],oc=0,V=Hb.length;oc<V;++oc){var la=Hb[oc];if(la[0][0]<=ub&&ub<la[1][0]&&la[0][1]<=Cb&&Cb<la[1][1])return Hb=sa.invert(ub-sa(Wb[oc][1][0],0)[0],Cb),Hb[0]+=Wb[oc][1][0],Wb=Oa(Hb[0],Hb[1]),ub=[ub,Cb],1E-6>zc(Wb[0]-ub[0])&&1E-6>zc(Wb[1]-ub[1])?Hb:null}});var lb=l.geoProjection(Oa),wb=lb.stream;lb.stream=function(ub){var Cb=lb.rotate(),Hb=wb(ub),Wb=(lb.rotate([0,0]),wb(ub));lb.rotate(Cb);
Hb.sphere=function(){l.geoStream(bb,Wb)};return Hb};lb.lobes=function(ub){if(!arguments.length)return ua.map(function(Cb){return Cb.map(function(Hb){return[[Hb[0][0]*Vc,Hb[0][1]*Vc],[Hb[1][0]*Vc,Hb[1][1]*Vc],[Hb[2][0]*Vc,Hb[2][1]*Vc]]})});bb=Ec(ub);ua=ub.map(function(Cb){return Cb.map(function(Hb){return[[Hb[0][0]*Cc,Hb[0][1]*Cc],[Hb[1][0]*Cc,Hb[1][1]*Cc],[Hb[2][0]*Cc,Hb[2][1]*Cc]]})});db=ua.map(function(Cb){return Cb.map(function(Hb){var Wb=sa(Hb[0][0],Hb[0][1])[0],oc=sa(Hb[2][0],Hb[2][1])[0],V=
sa(Hb[1][0],Hb[0][1])[1];Hb=sa(Hb[1][0],Hb[1][1])[1];if(V>Hb){var la=V;V=Hb;Hb=la}return[[Wb,V],[oc,Hb]]})});return lb};null!=ua&&lb.lobes(ua);return lb}function Oc(sa,ua){return[3/Gc*sa*w(Ba*Ba/3-ua*ua),ua]}function Hc(sa){function ua(Ka,Oa){if(1E-6>zc(zc(Oa)-Va))return[0,0>Oa?-2:2];Oa=sc(Oa);Oa=mf((1+Oa)/(1-Oa),sa/2);var bb=.5*(Oa+1/Oa)+dc(Ka*=sa);return[2*sc(Ka)/bb,(Oa-1/Oa)/bb]}ua.invert=function(Ka,Oa){var bb=zc(Oa);if(1E-6>zc(bb-2))return Ka?null:[0,Zd(Oa)*Va];if(2<bb)return null;Ka/=2;Oa/=
2;bb=Ka*Ka;var db=Oa*Oa;Oa=2*Oa/(1+bb+db);Oa=mf((1+Oa)/(1-Oa),1/sa);return[oe(2*Ka,1-bb-db)/sa,G((Oa-1)/(Oa+1))]};return ua}function Bc(sa,ua){return[sa*(1+w(dc(ua)))/2,ua/(dc(ua/2)*dc(sa/6))]}function td(sa,ua){var Ka=sa*sa,Oa=ua*ua;return[sa*(.975534+Oa*(-.119161+-.0143059*Ka+-.0547009*Oa)),ua*(1.00384+Ka*(.0802894+-.02855*Oa+1.99025E-4*Ka)+Oa*(.0998909+-.0491032*Oa))]}function Qd(sa,ua){return[sc(sa)/dc(ua),ta(ua)*dc(sa)]}function jd(sa){function ua(bb,db){var lb=db-sa,wb=1E-6>zc(lb)?bb*Ka:1E-6>
zc(wb=zb+db/2)||1E-6>zc(zc(wb)-Va)?0:bb*lb/Ie(ta(wb)/Oa);return[wb,lb]}var Ka=dc(sa),Oa=ta(zb+sa/2);ua.invert=function(bb,db){var lb,wb=db+sa;return[1E-6>zc(db)?bb/Ka:1E-6>zc(lb=zb+wb/2)||1E-6>zc(zc(lb)-Va)?0:bb*Ie(ta(lb)/Oa)/db,wb]};return ua}function hd(sa,ua){return[sa,1.25*Ie(ta(zb+.4*ua))]}function Fd(sa){function ua(Oa,bb){var db=dc(bb),lb=2/(1+db*dc(Oa));Oa=lb*db*sc(Oa);bb=lb*sc(bb);lb=Ka;db=sa[lb];for(var wb=db[0],ub=db[1],Cb;0<=--lb;)db=sa[lb],wb=db[0]+Oa*(Cb=wb)-bb*ub,ub=db[1]+Oa*ub+bb*
Cb;wb=Oa*(Cb=wb)-bb*ub;return[wb,Oa*ub+bb*Cb]}var Ka=sa.length-1;ua.invert=function(Oa,bb){var db=20,lb=Oa,wb=bb;do{for(var ub=Ka,Cb=sa[ub],Hb=Cb[0],Wb=Cb[1],oc=0,V=0,la;0<=--ub;)Cb=sa[ub],oc=Hb+lb*(la=oc)-wb*V,V=Wb+lb*V+wb*la,Hb=Cb[0]+lb*(la=Hb)-wb*Wb,Wb=Cb[1]+lb*Wb+wb*la;oc=Hb+lb*(la=oc)-wb*V;V=Wb+lb*V+wb*la;Hb=lb*(la=Hb)-wb*Wb-Oa;Wb=lb*Wb+wb*la-bb;Cb=oc*oc+V*V;lb-=ub=(Hb*oc+Wb*V)/Cb;wb-=Hb=(Wb*oc-Hb*V)/Cb}while(1E-12<zc(ub)+zc(Hb)&&0<--db);if(db)return Oa=w(lb*lb+wb*wb),bb=2*He(.5*Oa),db=sc(bb),
[oe(lb*db,Oa*dc(bb)),Oa?G(wb*db/Oa):0]};return ua}function Ib(sa,ua){sa=l.geoProjection(Fd(sa)).rotate(ua).clipAngle(90);var Ka=l.geoRotation(ua),Oa=sa.center;delete sa.rotate;sa.center=function(bb){return arguments.length?Oa(Ka(bb)):Ka.invert(Oa())};return sa}function Zb(sa,ua){ua=G(7*sc(ua)/(3*fd));return[fd*sa*(2*dc(2*ua/3)-1)/ud,9*sc(ua/3)/ud]}function xb(sa,ua){for(var Ka=(1+pb)*sc(ua),Oa=0,bb;25>Oa&&!(ua-=bb=(sc(ua/2)+sc(ua)-Ka)/(.5*dc(ua/2)+dc(ua)),1E-6>zc(bb));Oa++);return[sa*(1+2*dc(ua)/
dc(ua/2))/(3*Rb),2*w(3)*sc(ua/2)/w(2+Rb)]}function qc(sa,ua){var Ka=w(6/(4+Ba)),Oa=(1+Ba/4)*sc(ua);ua/=2;for(var bb=0,db;25>bb&&!(ua-=db=(ua/2+sc(ua)-Oa)/(.5+dc(ua)),1E-6>zc(db));bb++);return[Ka*(.5+dc(ua))*sa/1.5,Ka*ua]}function Nc(sa,ua){var Ka=ua*ua,Oa=Ka*Ka,bb=Ka*Oa;return[sa*(.84719-.13063*Ka+bb*bb*(-.04515+.05494*Ka-.02326*Oa+.00331*bb)),ua*(1.01183+Oa*Oa*(-.02625+.01926*Ka-.00396*Oa))]}function qd(sa,ua){return[sa*(1+dc(ua))/2,2*(ua-ta(ua/2))]}function Ed(sa,ua){var Ka=sc(ua),Oa=dc(ua),bb=
Zd(sa);if(0===sa||zc(ua)===Va)return[0,ua];if(0===ua)return[sa,0];if(zc(sa)===Va)return[sa*Oa,Va*Ka];sa=Ba/(2*sa)-2*sa/Ba;var db=2*ua/Ba,lb=(1-db*db)/(Ka-db),wb=sa*sa,ub=lb*lb;db=1+wb/ub;var Cb=1+ub/wb,Hb=(sa*Ka/lb-sa/2)/db,Wb=(ub*Ka/wb+lb/2)/Cb;Ka=Wb*Wb-(ub*Ka*Ka/wb+lb*Ka-1)/Cb;return[Va*(Hb+w(Hb*Hb+Oa*Oa/db)*bb),Va*(Wb+w(0>Ka?0:Ka)*Zd(-ua*sa)*bb)]}function Ga(sa,ua){var Ka=ua*ua;return[sa,ua*(1.0148+Ka*Ka*(.23185+Ka*(-.14499+.02406*Ka)))]}function ab(sa,ua){if(1E-6>zc(ua))return[sa,0];var Ka=ta(ua);
sa*=sc(ua);return[sc(sa)/Ka,ua+(1-dc(sa))/Ka]}function qb(sa,ua){var Ka=Tb(sa[1],sa[0]),Oa=Tb(ua[1],ua[0]),bb=oe(Ka[0]*Oa[1]-Ka[1]*Oa[0],Ka[0]*Oa[0]+Ka[1]*Oa[1]);Ka=w(Ka[0]*Ka[0]+Ka[1]*Ka[1])/w(Oa[0]*Oa[0]+Oa[1]*Oa[1]);return Bb([1,0,sa[0][0],0,1,sa[0][1]],Bb([Ka,0,0,0,Ka,0],Bb([dc(bb),sc(bb),0,-sc(bb),dc(bb),0],[1,0,-ua[0][0],0,1,-ua[0][1]])))}function Bb(sa,ua){return[sa[0]*ua[0]+sa[1]*ua[3],sa[0]*ua[1]+sa[1]*ua[4],sa[0]*ua[2]+sa[1]*ua[5]+sa[2],sa[3]*ua[0]+sa[4]*ua[3],sa[3]*ua[1]+sa[4]*ua[4],sa[3]*
ua[2]+sa[4]*ua[5]+sa[5]]}function Tb(sa,ua){return[sa[0]-ua[0],sa[1]-ua[1]]}function Eb(sa,ua){function Ka(wb,ub){wb.edges=vb(wb.face);if(ub.face){var Cb=wb.shared=kb(wb.face,ub.face),Hb=qb(Cb.map(ub.project),Cb.map(wb.project));wb.transform=ub.transform?Bb(ub.transform,Hb):Hb;Hb=ub.edges;for(var Wb=0,oc=Hb.length;Wb<oc;++Wb)lc(Cb[0],Hb[Wb][1])&&lc(Cb[1],Hb[Wb][0])&&(Hb[Wb]=wb),lc(Cb[0],Hb[Wb][0])&&lc(Cb[1],Hb[Wb][1])&&(Hb[Wb]=wb);Hb=wb.edges;Wb=0;for(oc=Hb.length;Wb<oc;++Wb)lc(Cb[0],Hb[Wb][0])&&
lc(Cb[1],Hb[Wb][1])&&(Hb[Wb]=ub),lc(Cb[0],Hb[Wb][1])&&lc(Cb[1],Hb[Wb][0])&&(Hb[Wb]=ub)}else wb.transform=ub.transform;wb.children&&wb.children.forEach(function(V){Ka(V,wb)});return wb}function Oa(wb,ub){var Cb=ua(wb,ub);wb=Cb.project([wb*Vc,ub*Vc]);if(Cb=Cb.transform)return[Cb[0]*wb[0]+Cb[1]*wb[1]+Cb[2],-(Cb[3]*wb[0]+Cb[4]*wb[1]+Cb[5])];wb[1]=-wb[1];return wb}function bb(wb,ub){var Cb=wb.project.invert,Hb=wb.transform,Wb=ub;if(Hb){var oc=1/(Hb[0]*Hb[4]-Hb[1]*Hb[3]);Hb=[oc*Hb[4],-oc*Hb[1],oc*(Hb[1]*
Hb[5]-Hb[2]*Hb[4]),-oc*Hb[3],oc*Hb[0],oc*(Hb[2]*Hb[3]-Hb[0]*Hb[5])];Wb=[Hb[0]*Wb[0]+Hb[1]*Wb[1]+Hb[2],Hb[3]*Wb[0]+Hb[4]*Wb[1]+Hb[5]]}if(Hb=Cb)Cb=V=Cb(Wb),Cb=ua(Cb[0]*Cc,Cb[1]*Cc),Hb=wb===Cb;if(Hb)return V;var V;wb=wb.children;Cb=0;for(Wb=wb&&wb.length;Cb<Wb;++Cb)if(V=bb(wb[Cb],ub))return V}Ka(sa,{transform:null});Nb(sa)&&(Oa.invert=function(wb,ub){return(wb=bb(sa,[wb,-ub]))&&(wb[0]*=Cc,wb[1]*=Cc,wb)});var db=l.geoProjection(Oa),lb=db.stream;db.stream=function(wb){var ub=db.rotate(),Cb=lb(wb),Hb=(db.rotate([0,
0]),lb(wb));db.rotate(ub);Cb.sphere=function(){Hb.polygonStart();Hb.lineStart();rc(Hb,sa);Hb.lineEnd();Hb.polygonEnd()};return Cb};return db.angle(-30)}function rc(sa,ua,Ka){var Oa,bb=ua.edges,db=bb.length;var lb={type:"MultiPoint",coordinates:ua.face};var wb=ua.face.filter(function(Wb){return 90!==zc(Wb[1])}),ub=l.geoBounds({type:"MultiPoint",coordinates:wb});wb=!1;var Cb=-1,Hb=ub[1][0]-ub[0][0];ub=180===Hb||360===Hb?[(ub[0][0]+ub[1][0])/2,(ub[0][1]+ub[1][1])/2]:l.geoCentroid(lb);if(Ka)for(;++Cb<
db&&bb[Cb]!==Ka;);++Cb;for(Hb=0;Hb<db;++Hb)lb=bb[(Hb+Cb)%db],Array.isArray(lb)?(wb||(sa.point((Oa=l.geoInterpolate(lb[0],ub)(1E-6))[0],Oa[1]),wb=!0),sa.point((Oa=l.geoInterpolate(lb[1],ub)(1E-6))[0],Oa[1])):(wb=!1,lb!==Ka&&rc(sa,lb,ua))}function lc(sa,ua){return sa&&ua&&sa[0]===ua[0]&&sa[1]===ua[1]}function kb(sa,ua){for(var Ka,Oa,bb=sa.length,db=null,lb=0;lb<bb;++lb){Ka=sa[lb];for(var wb=ua.length;0<=--wb;)if(Oa=ua[wb],Ka[0]===Oa[0]&&Ka[1]===Oa[1]){if(db)return[db,Ka];db=Ka}}}function vb(sa){for(var ua=
sa.length,Ka=[],Oa=sa[ua-1],bb=0;bb<ua;++bb)Ka.push([Oa,Oa=sa[bb]]);return Ka}function Nb(sa){return sa.project.invert||sa.children&&sa.children.some(Nb)}function ec(sa,ua){sa=N(sa,ua);return[sa[0]*Kd,sa[1]]}function tc(sa,ua){for(var Ka=0,Oa=sa.length,bb=0;Ka<Oa;++Ka)bb+=sa[Ka]*ua[Ka];return bb}function uc(sa,ua){return[sa[1]*ua[2]-sa[2]*ua[1],sa[2]*ua[0]-sa[0]*ua[2],sa[0]*ua[1]-sa[1]*ua[0]]}function Lc(sa){return[oe(sa[1],sa[0])*Vc,G(sf(-1,ff(1,sa[2])))*Vc]}function Jb(sa){var ua=sa[0]*Cc;sa=sa[1]*
Cc;var Ka=dc(sa);return[Ka*dc(ua),Ka*sc(ua),sc(sa)]}function yc(sa,ua){return{type:"FeatureCollection",features:sa.features.map(function(Ka){return vc(Ka,ua)})}}function vc(sa,ua){return{type:"Feature",id:sa.id,properties:sa.properties,geometry:Kc(sa.geometry,ua)}}function mc(sa,ua){return{type:"GeometryCollection",geometries:sa.geometries.map(function(Ka){return Kc(Ka,ua)})}}function Kc(sa,ua){if(!sa)return null;if("GeometryCollection"===sa.type)return mc(sa,ua);switch(sa.type){case "Point":var Ka=
pf;break;case "MultiPoint":Ka=pf;break;case "LineString":Ka=$d;break;case "MultiLineString":Ka=$d;break;case "Polygon":Ka=Qe;break;case "MultiPolygon":Ka=Qe;break;case "Sphere":Ka=Qe;break;default:return null}l.geoStream(sa,ua(Ka));return Ka.result()}function Qc(sa){function ua(Oa,bb){var db=zc(Oa)<Va;bb=sa(db?Oa:0<Oa?Oa-Ba:Oa+Ba,bb);Oa=(bb[0]-bb[1])*pb;bb=(bb[0]+bb[1])*pb;if(db)return[Oa,bb];db=Ka*pb;var lb=0<Oa^0<bb?-1:1;return[lb*Oa-Zd(bb)*db,lb*bb-Zd(Oa)*db]}var Ka=sa(Va,0)[0]-sa(-Va,0)[0];sa.invert&&
(ua.invert=function(Oa,bb){var db=(Oa+bb)*pb,lb=(bb-Oa)*pb,wb=zc(db)<.5*Ka&&zc(lb)<.5*Ka;if(!wb){var ub=Ka*pb,Cb=0<db^0<lb?-1:1;Oa=-Cb*Oa+(0<lb?1:-1)*ub;bb=-Cb*bb+(0<db?1:-1)*ub;db=(-Oa-bb)*pb;lb=(Oa-bb)*pb}bb=sa.invert(db,lb);wb||(bb[0]+=0<db?Ba:-Ba);return bb});return l.geoProjection(ua).rotate([-90,-90,45]).clipAngle(179.999)}function Zc(sa){function ua(Oa,bb){Oa=Ka?ta(Oa*Ka/2)/Ka:Oa/2;if(!bb)return[2*Oa,-sa];Oa=2*He(Oa*sc(bb));var db=1/ta(bb);return[sc(Oa)*db,bb+(1-dc(Oa))*db-sa]}var Ka=sc(sa);
ua.invert=function(Oa,bb){if(1E-6>zc(bb+=sa))return[Ka?2*He(Ka*Oa/2)/Ka:Oa,0];var db=Oa*Oa+bb*bb,lb=0,wb=10;do{var ub=ta(lb);var Cb=1/dc(lb),Hb=db-2*bb*lb+lb*lb;lb-=ub=(ub*Hb+2*(lb-bb))/(2+Hb*Cb*Cb+2*(lb-bb)*ub)}while(1E-6<zc(ub)&&0<--wb);Oa*=ub=ta(lb);bb=ta(zc(bb)<zc(lb+1/ub)?.5*G(Oa):.5*L(Oa)+Ba/4)/sc(lb);return[Ka?2*He(Ka*bb)/Ka:2*bb,lb]};return ua}function nd(sa,ua){var Ka=ff(18,36*zc(ua)/Ba),Oa=de(Ka);Ka-=Oa;var bb=(ub=Se[Oa])[0],db=ub[1],lb=(ub=Se[++Oa])[0],wb=ub[1];Oa=(ub=Se[ff(19,++Oa)])[0];
ub=ub[1];var ub;return[sa*(lb+Ka*(Oa-bb)/2+Ka*Ka*(Oa-2*lb+bb)/2),(0<ua?Va:-Va)*(wb+Ka*(ub-db)/2+Ka*Ka*(ub-2*wb+db)/2)]}function od(sa){function ua(Ka,Oa){var bb=dc(Oa),db=(sa-1)/(sa-bb*dc(Ka));return[db*bb*sc(Ka),db*sc(Oa)]}ua.invert=function(Ka,Oa){var bb=Ka*Ka+Oa*Oa,db=w(bb);bb=(sa-w(1-bb*(sa+1)/(sa-1)))/((sa-1)/db+db/(sa-1));return[oe(Ka*bb,db*w(1-bb*bb)),db?G(Oa*bb/db):0]};return ua}function Dd(sa,ua){function Ka(lb,wb){lb=Oa(lb,wb);wb=lb[1];var ub=wb*db/(sa-1)+bb;return[lb[0]*bb/ub,wb/ub]}var Oa=
od(sa);if(!ua)return Oa;var bb=dc(ua),db=sc(ua);Ka.invert=function(lb,wb){var ub=(sa-1)/(sa-1-wb*db);return Oa.invert(ub*lb,ub*wb*bb)};return Ka}function Jd(sa){return 0<sa.length}function Ud(sa){return-90===sa||90===sa?[0,sa]:[-180,Math.floor(1E4*sa)/1E4]}function ie(sa){var ua=sa[0],Ka=sa[1],Oa=!1;-179.9999>=ua?(ua=-180,Oa=!0):179.9999<=ua&&(ua=180,Oa=!0);-89.9999>=Ka?(Ka=-90,Oa=!0):89.9999<=Ka&&(Ka=90,Oa=!0);return Oa?[ua,Ka]:sa}function ne(sa){return sa.map(ie)}function Ee(sa,ua,Ka){for(var Oa=
0,bb=sa.length;Oa<bb;++Oa){var db=sa[Oa].slice();Ka.push({index:-1,polygon:ua,ring:db});for(var lb=0,wb=db.length;lb<wb;++lb){var ub=db[lb],Cb=ub[0],Hb=ub[1];if(-179.9999>=Cb||179.9999<=Cb||-89.9999>=Hb||89.9999<=Hb){db[lb]=ie(ub);for(ub=lb+1;ub<wb;++ub){var Wb=db[ub];Cb=Wb[0];Wb=Wb[1];if(-179.9999<Cb&&179.9999>Cb&&-89.9999<Wb&&89.9999>Wb)break}if(ub!==lb+1){lb?(lb={index:-1,polygon:ua,ring:db.slice(0,lb+1)},lb.ring[lb.ring.length-1]=Ud(Hb),Ka[Ka.length-1]=lb):Ka.pop();if(ub>=wb)break;Ka.push({index:-1,
polygon:ua,ring:db=db.slice(ub-1)});db[0]=Ud(db[0][1]);lb=-1;wb=db.length}}}}}function De(sa){var ua,Ka=sa.length,Oa={},bb={};for(ua=0;ua<Ka;++ua){var db=sa[ua];var lb=db.ring[0];var wb=db.ring[db.ring.length-1];lb[0]===wb[0]&&lb[1]===wb[1]?(db.polygon.push(db.ring),sa[ua]=null):(db.index=ua,Oa[lb]=bb[wb]=db)}for(ua=0;ua<Ka;++ua)if(db=sa[ua]){lb=db.ring[0];wb=db.ring[db.ring.length-1];var ub=bb[lb];var Cb=Oa[wb];delete Oa[lb];delete bb[wb];lb[0]===wb[0]&&lb[1]===wb[1]?db.polygon.push(db.ring):ub?
(delete bb[lb],delete Oa[ub.ring[0]],ub.ring.pop(),sa[ub.index]=null,db={index:-1,polygon:ub.polygon,ring:ub.ring.concat(db.ring)},ub===Cb?db.polygon.push(db.ring):(db.index=Ka++,sa.push(Oa[db.ring[0]]=bb[db.ring[db.ring.length-1]]=db))):Cb?(delete Oa[wb],delete bb[Cb.ring[Cb.ring.length-1]],db.ring.pop(),db={index:Ka++,polygon:Cb.polygon,ring:db.ring.concat(Cb.ring)},sa[Cb.index]=null,sa.push(Oa[db.ring[0]]=bb[db.ring[db.ring.length-1]]=db)):(db.ring.push(db.ring[0]),db.polygon.push(db.ring))}}function Fe(sa){var ua=
{type:"Feature",geometry:Id(sa.geometry)};null!=sa.id&&(ua.id=sa.id);null!=sa.bbox&&(ua.bbox=sa.bbox);null!=sa.properties&&(ua.properties=sa.properties);return ua}function Id(sa){if(null==sa)return sa;switch(sa.type){case "GeometryCollection":var ua={type:"GeometryCollection",geometries:sa.geometries.map(Id)};break;case "Point":ua={type:"Point",coordinates:ie(sa.coordinates)};break;case "MultiPoint":case "LineString":ua={type:sa.type,coordinates:ne(sa.coordinates)};break;case "MultiLineString":ua=
{type:"MultiLineString",coordinates:sa.coordinates.map(ne)};break;case "Polygon":var Ka=[];Ee(sa.coordinates,Ka,ua=[]);De(ua);ua={type:"Polygon",coordinates:Ka};break;case "MultiPolygon":ua=[];Ka=-1;var Oa=sa.coordinates.length;for(var bb=Array(Oa);++Ka<Oa;)Ee(sa.coordinates[Ka],bb[Ka]=[],ua);De(ua);ua={type:"MultiPolygon",coordinates:bb.filter(Jd)};break;default:return sa}null!=sa.bbox&&(ua.bbox=sa.bbox);return ua}function Td(sa,ua){ua=ta(ua/2);var Ka=sc(zb*ua);return[sa*(.74482-.34588*Ka*Ka),1.70711*
ua]}function af(sa,ua,Ka){var Oa=l.geoInterpolate(ua,Ka);Ka=Oa(.5);ua=l.geoRotation([-Ka[0],-Ka[1]])(ua);Oa=Oa.distance/2;var bb=-G(sc(ua[1]*Cc)/sc(Oa));Ka=[-Ka[0],-Ka[1],-(0<ua[0]?Ba-bb:bb)*Vc];sa=l.geoProjection(sa(Oa)).rotate(Ka);var db=l.geoRotation(Ka),lb=sa.center;delete sa.rotate;sa.center=function(wb){return arguments.length?lb(db(wb)):db.invert(lb())};return sa.clipAngle(90)}function Be(sa){function ua(Oa,bb){Oa=l.geoGnomonicRaw(Oa,bb);Oa[0]*=Ka;return Oa}var Ka=dc(sa);ua.invert=function(Oa,
bb){return l.geoGnomonicRaw.invert(Oa/Ka,bb)};return ua}function cf(sa,ua){return af(Be,sa,ua)}function Xd(sa){function ua(wb,ub){var Cb=L(dc(ub)*dc(wb-Ka));wb=L(dc(ub)*dc(wb-Oa));Cb*=Cb;wb*=wb;return[(Cb-wb)/(2*sa),(0>ub?-1:1)*w(4*bb*wb-(bb-Cb+wb)*(bb-Cb+wb))/(2*sa)]}if(!(sa*=2))return l.geoAzimuthalEquidistantRaw;var Ka=-sa/2,Oa=-Ka,bb=sa*sa,db=ta(Oa),lb=.5/sc(Oa);ua.invert=function(wb,ub){var Cb=ub*ub,Hb=dc(w(Cb+(Wb=wb+Ka)*Wb));wb=dc(w(Cb+(Wb=wb+Oa)*Wb));var Wb,oc;return[oe(oc=Hb-wb,Wb=(Hb+wb)*
db),(0>ub?-1:1)*L(w(Wb*Wb+oc*oc)*lb)]};return ua}function ae(sa,ua){return af(Xd,sa,ua)}function Je(sa,ua){if(1E-6>zc(ua))return[sa,0];var Ka=zc(ua/Va),Oa=G(Ka);if(1E-6>zc(sa)||1E-6>zc(zc(ua)-Va))return[0,Zd(ua)*Ba*ta(Oa/2)];var bb=dc(Oa);Oa=zc(Ba/sa-sa/Ba)/2;var db=Oa*Oa;bb/=Ka+bb-1;Ka=bb*(2/Ka-1);var lb=Ka*Ka,wb=lb+db,ub=bb-lb,Cb=db+bb;return[Zd(sa)*Ba*(Oa*ub+w(db*ub*ub-wb*(bb*bb-lb)))/wb,Zd(ua)*Ba*(Ka*Cb-Oa*w((db+1)*wb-Cb*Cb))/wb]}function fe(sa,ua){if(1E-6>zc(ua))return[sa,0];var Ka=zc(ua/Va),
Oa=G(Ka);if(1E-6>zc(sa)||1E-6>zc(zc(ua)-Va))return[0,Zd(ua)*Ba*ta(Oa/2)];var bb=dc(Oa);Oa=zc(Ba/sa-sa/Ba)/2;var db=Oa*Oa;Ka=bb*(w(1+db)-Oa*bb)/(1+db*Ka*Ka);return[Zd(sa)*Ba*Ka,Zd(ua)*Ba*w(1-Ka*(2*Oa+Ka))]}function zd(sa,ua){if(1E-6>zc(ua))return[sa,0];var Ka=ua/Va,Oa=G(Ka);if(1E-6>zc(sa)||1E-6>zc(zc(ua)-Va))return[0,Ba*ta(Oa/2)];ua=(Ba/sa-sa/Ba)/2;Ka/=1+dc(Oa);return[Ba*(Zd(sa)*w(ua*ua+1-Ka*Ka)-ua),Ba*Ka]}function Gd(sa,ua){if(!ua)return[sa,0];var Ka=zc(ua);if(!sa||Ka===Va)return[0,ua];var Oa=Ka/
Va;Ka=Oa*Oa;var bb=(8*Oa-Ka*(Ka+2)-5)/(2*Ka*(Oa-1)),db=bb*bb,lb=Oa*bb,wb=Ka+db+2*lb;Oa+=3*bb;bb=sa/Va;bb+=1/bb;bb=Zd(zc(sa)-Va)*w(bb*bb-4);var ub=bb*bb;Ka=(bb*(wb+db-1)+2*w(wb*(Ka+db*ub-1)+(1-Ka)*(Ka*(Oa*Oa+4*db)+12*lb*db+4*db*db)))/(4*wb+ub);return[Zd(sa)*Va*Ka,Zd(ua)*Va*w(1+bb*zc(Ka)-Ka*Ka)]}function ce(sa,ua,Ka,Oa,bb){function db(lb,wb){wb=Ka*sc(Oa*wb);var ub=w(1-wb*wb),Cb=w(2/(1+ub*dc(lb*=bb)));return[sa*ub*Cb*sc(lb),ua*wb*Cb]}db.invert=function(lb,wb){var ub=lb/sa,Cb=wb/ua;ub=w(ub*ub+Cb*Cb);
Cb=2*G(ub/2);return[oe(lb*ta(Cb),sa*ub)/bb,ub&&G(wb*sc(Cb)/(ua*Ka*ub))/Oa]};return db}function Re(sa,ua,Ka,Oa){var bb=Ba/3;sa=sf(sa,1E-6);ua=sf(ua,1E-6);sa=ff(sa,Va);ua=ff(ua,Ba-1E-6);Ka=sf(Ka,0);Ka=ff(Ka,99.999999);Oa=sf(Oa,1E-6);var db=Oa/100;Ka=L((Ka/100+1)*dc(bb))/bb;bb=sc(sa)/sc(Ka*Va);Oa=ua/Ba;ua=w(db*sc(sa/2)/sc(ua/2));sa=ua/w(Oa*bb*Ka);ua=1/(ua*w(Oa*bb*Ka));return ce(sa,ua,bb,Ka,Oa)}function me(){var sa=65*Cc,ua=60*Cc,Ka=20,Oa=200,bb=l.geoProjectionMutator(Re),db=bb(sa,ua,Ka,Oa);db.poleline=
function(lb){return arguments.length?bb(sa=+lb*Cc,ua,Ka,Oa):sa*Vc};db.parallels=function(lb){return arguments.length?bb(sa,ua=+lb*Cc,Ka,Oa):ua*Vc};db.inflation=function(lb){return arguments.length?bb(sa,ua,Ka=+lb,Oa):Ka};db.ratio=function(lb){return arguments.length?bb(sa,ua,Ka,Oa=+lb):Oa};return db.scale(163.775)}function Hd(sa,ua){return[sa*w(1-3*ua*ua/(Ba*Ba)),ua]}function Ge(sa,ua){var Ka=dc(ua),Oa=dc(sa)*Ka,bb=1-Oa;ua=dc(sa=oe(sc(sa)*Ka,-sc(ua)));sa=sc(sa);Ka=w(1-Oa*Oa);return[sa*Ka-ua*bb,-ua*
Ka-sa*bb]}function rf(sa,ua){var Ka=g(sa,ua);return[(Ka[0]+sa/Va)/2,(Ka[1]+ua)/2]}var zc=Math.abs,He=Math.atan,oe=Math.atan2,dc=Math.cos,xe=Math.exp,de=Math.floor,Ie=Math.log,sf=Math.max,ff=Math.min,mf=Math.pow,gf=Math.round,Zd=Math.sign||function(sa){return 0<sa?1:0>sa?-1:0},sc=Math.sin,ta=Math.tan,Ba=Math.PI,Va=Ba/2,zb=Ba/4,pb=Math.SQRT1_2,Rb=w(2),Vb=w(Ba),Gc=2*Ba,Vc=180/Ba,Cc=Ba/180;g.invert=function(sa,ua){if(!(sa*sa+4*ua*ua>Ba*Ba+1E-6)){var Ka=sa,Oa=ua,bb=25;do{var db=sc(Ka),lb=sc(Ka/2),wb=dc(Ka/
2),ub=sc(Oa),Cb=dc(Oa),Hb=sc(2*Oa),Wb=ub*ub,oc=Cb*Cb,V=lb*lb,la=1-oc*wb*wb,La=la?L(Cb*wb)*w(Ra=1/la):Ra=0,Ra;la=2*La*Cb*lb-sa;var sb=La*ub-ua,Lb=Ra*(oc*V+La*Cb*wb*Wb),Sb=Ra*(.5*db*Hb-2*La*ub*lb);db=.25*Ra*(Hb*lb-La*ub*oc*db);Cb=Ra*(Wb*wb+La*V*Cb);wb=Sb*db-Cb*Lb;if(!wb)break;Sb=(sb*Sb-la*Cb)/wb;la=(la*db-sb*Lb)/wb;Ka-=Sb;Oa-=la}while((1E-6<zc(Sb)||1E-6<zc(la))&&0<--bb);return[Ka,Oa]}};f.invert=function(sa,ua){sa*=.375;ua*=.375;if(!sa&&1<zc(ua))return null;var Ka=1+sa*sa+ua*ua,Oa=w((Ka-w(Ka*Ka-4*ua*
ua))/2);Ka=G(Oa)/3;Oa?(Oa=zc(ua/Oa),Oa=Ie(Oa+w(Oa*Oa-1))/3):(Oa=zc(sa),Oa=Ie(Oa+w(Oa*Oa+1))/3);var bb=dc(Ka),db=t(Oa),lb=db*db-bb*bb;return[2*Zd(sa)*oe(v(Oa)*bb,.25-lb),2*Zd(ua)*oe(db*sc(Ka),.25+lb)]};var Bd=w(8),dd=Ie(1+Rb);a.invert=function(sa,ua){if((bb=zc(ua))<dd)return[sa,2*He(xe(ua))-Va];var Ka=zb,Oa=25,bb;do{var db=dc(Ka/2);var lb=ta(Ka/2);Ka-=db=(Bd*(Ka-zb)-Ie(lb)-bb)/(Bd-db*db/(2*lb))}while(1E-12<zc(db)&&0<--Oa);return[sa/(dc(Ka)*(Bd-1/sc(Ka))),Zd(ua)*Ka]};x.invert=function(sa,ua){ua=2*G(ua/
2);return[sa*dc(ua/2)/dc(ua),ua]};var rd=D(Rb/Va,Rb,Ba);y.invert=function(sa,ua){var Ka=2.00276*ua;ua=0>ua?-zb:zb;var Oa=25;do{var bb=Ka-Rb*sc(ua);ua-=bb=(sc(2*ua)+2*ua-Ba*sc(bb))/(2*dc(2*ua)+2+Ba*dc(bb)*Rb*dc(ua))}while(1E-6<zc(bb)&&0<--Oa);bb=Ka-Rb*sc(ua);return[sa*(1/dc(bb)+1.11072/dc(ua))/2.00276,bb]};H.invert=function(sa,ua){return[sa/dc(ua),ua]};var $c=D(1,4/Ba,Ba);N.invert=function(sa,ua){var Ka=(Ka=ua/Vb-1)*Ka;return[0<Ka?sa*w(Ba/Ka)/2:0,G(1-Ka)]};var Ad=w(3);W.invert=function(sa,ua){ua=3*
G(ua/(Ad*Vb));return[Vb*sa/(Ad*(2*dc(2*ua/3)-1)),ua]};wa.invert=function(sa,ua){var Ka=w(8/(3*Ba));ua/=Ka;return[sa/(Ka*(1-zc(ua)/Ba)),ua]};xa.invert=function(sa,ua){var Ka=2-zc(ua)/w(2*Ba/3);return[sa*w(6*Ba)/(2*Ka),Zd(ua)*G((4-Ka*Ka)/3)]};Ha.invert=function(sa,ua){var Ka=w(Ba*(4+Ba))/2;return[sa*Ka/(1+w(1-ua*ua*(4+Ba)/(4*Ba))),ua*Ka/2]};Za.invert=function(sa,ua){ua=ua*w((4+Ba)/Ba)/2;var Ka=G(ua),Oa=dc(Ka);return[sa/(2/w(Ba*(4+Ba))*(1+Oa)),G((Ka+ua*(Oa+2))/(2+Va))]};gb.invert=function(sa,ua){var Ka=
w(2+Ba);ua=ua*Ka/2;return[Ka*sa/(1+dc(ua)),ua]};ra.invert=function(sa,ua){var Ka=1+Va,Oa=w(Ka/2);return[2*sa*Oa/(1+dc(ua*=Oa)),G((ua+sc(ua))/Ka)]};var Sd=3+2*Rb;Pa.invert=function(sa,ua){if(!(bb=f.invert(sa/1.2,1.065*ua)))return null;var Ka=bb[0];bb=bb[1];var Oa=20,bb;sa/=Sd;ua/=Sd;do{var db=Ka/2,lb=bb/2,wb=sc(db),ub=dc(db),Cb=sc(lb),Hb=dc(lb),Wb=dc(bb),oc=w(Wb),V=Cb/(Hb+Rb*ub*oc),la=V*V,La=w(2/(1+la)),Ra=(Rb*Hb+(ub+wb)*oc)/(Rb*Hb+(ub-wb)*oc),sb=w(Ra),Lb=sb-1/sb,Sb=sb+1/sb;lb=La*Lb-2*Ie(sb)-sa;db=
La*V*Sb-2*He(V)-ua;var hc=Cb&&pb*oc*wb*la/Cb,wc=(Rb*ub*Hb+oc)/(2*(Hb+Rb*ub*oc)*(Hb+Rb*ub*oc)*oc),Sc=-.5*V*La*La*La,Pc=Sc*hc;Sc*=wc;var wd=(wd=2*Hb+Rb*oc*(ub-wb))*wd*sb;ub=(Rb*ub*Hb*oc+Wb)/wd;Cb=-(Rb*wb*Cb)/(oc*wd);wb=Lb*Pc-2*ub/sb+La*(ub+ub/Ra);sb=Lb*Sc-2*Cb/sb+La*(Cb+Cb/Ra);hc=V*Sb*Pc-2*hc/(1+la)+La*Sb*hc+La*V*(ub-ub/Ra);la=V*Sb*Sc-2*wc/(1+la)+La*Sb*wc+La*V*(Cb-Cb/Ra);V=sb*hc-la*wb;if(!V)break;la=(db*sb-lb*la)/V;lb=(lb*hc-db*wb)/V;Ka-=la;bb=sf(-Va,ff(Va,bb-lb))}while((1E-6<zc(la)||1E-6<zc(lb))&&
0<--Oa);return 1E-6>zc(zc(bb)-Va)?[0,bb]:Oa&&[Ka,bb]};var Ye=dc(35*Cc);Ua.invert=function(sa,ua){ua/=1+Ye;return[sa&&sa/(Ye*w(1-ua*ua)),2*He(ua)]};za.invert=function(sa,ua){var Ka=He(ua/Vb);ua=dc(Ka);Ka*=2;return[sa*Vb/2/(dc(Ka)*ua*ua),Ka]};var Ne=oa(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555),Yc=oa(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742),ye=oa(5/6*Ba,-.62636,-.0344,0,1.3493,-.05524,0,.045);na.invert=function(sa,ua){var Ka=sa,Oa=ua,bb=50,db;do{var lb=Oa*Oa;Oa-=db=
(Oa*(1+lb/12)-ua)/(1+lb/4)}while(1E-6<zc(db)&&0<--bb);bb=50;sa/=1-.162388*lb;do{var wb=(wb=Ka*Ka)*wb;Ka-=db=(Ka*(.87-9.52426E-4*wb)-sa)/(.87-.00476213*wb)}while(1E-6<zc(db)&&0<--bb);return[Ka,Oa]};var Xe=oa(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);ka.invert=function(sa,ua){1<zc(sa)&&(sa=2*Zd(sa)-sa);1<zc(ua)&&(ua=2*Zd(ua)-ua);var Ka=Zd(sa),Oa=Zd(ua),bb=-Ka*sa,db=-Oa*ua;ua=1>db/bb;sa=ua?db:bb;var lb=ua?bb:db,wb=0,ub=1;bb=.5;for(var Cb=50;;){db=bb*bb;var Hb=w(bb),Wb=G(1/w(1+db)),oc=1-
db+bb*(1+db)*Wb,V=(1-Hb)/oc,la=w(V),La=V*(1+db),Ra=la*(1-db),sb=w(La-sa*sa);Ra=lb+Ra+bb*sb;if(1E-12>zc(ub-wb)||0===--Cb||0===Ra)break;0<Ra?wb=bb:ub=bb;bb=.5*(wb+ub)}Cb?(lb=G(Hb),Cb=dc(lb),wb=1/Cb,ub=2*Hb*Cb,Hb=(-oc*Cb-(1-Hb)*(-3*bb+Wb*(1+3*db))*ub)/(oc*oc),bb=[Ba/4*(sa*(-2*wb*(.5*Hb/la*(1-db)-2*bb*la*ub)+-wb*ub*sb)+-wb*(bb*(1+db)*Hb+V*(1+3*db)*ub)*G(sa/w(La))),lb]):bb=null;sa=bb[0];bb=bb[1];db=dc(bb);ua&&(sa=-Va-sa);return[Ka*(oe(sc(sa)*db,-sc(bb))+Ba),Oa*G(dc(sa)*db)]};Ca.invert=function(sa,ua){var Ka=
(Rb-1)/(Rb+1),Oa=w(1-Ka*Ka);ua=.5*Wa(Va,Oa*Oa)-ua;sa=-sa;Oa*=Oa;if(ua)if(ua=$a(ua,Oa),sa){sa=$a(sa,1-Oa);var bb=sa[1]*sa[1]+Oa*ua[0]*ua[0]*sa[0]*sa[0];ua=[[ua[0]*sa[2]/bb,ua[1]*ua[2]*sa[0]*sa[1]/bb],[ua[1]*sa[1]/bb,-ua[0]*ua[2]*sa[0]*sa[2]/bb],[ua[2]*sa[1]*sa[2]/bb,-Oa*ua[0]*ua[1]*sa[0]/bb]]}else ua=[[ua[0],0],[ua[1],0],[ua[2],0]];else sa=$a(sa,1-Oa),ua=[[0,sa[0]/sa[1]],[1/sa[1],0],[sa[2]/sa[1],0]];Oa=ua[0];ua=ua[1];sa=ua[0]*ua[0]+ua[1]*ua[1];Oa=[(Oa[0]*ua[0]+Oa[1]*ua[1])/sa,(Oa[1]*ua[0]-Oa[0]*ua[1])/
sa];return[oe(Oa[1],Oa[0])/-1,2*He(xe(-.5*Ie(Ka*Oa[0]*Oa[0]+Ka*Oa[1]*Oa[1])))-Va]};var Ke=G(1-1/3)*Vc,tf=ha(0);ad.invert=function(sa,ua){return-.7109889596207567<ua?rd.invert(sa,ua-.0528035274542):H.invert(sa,ua)};ic.invert=function(sa,ua){return.7109889596207567<zc(ua)?rd.invert(sa,ua+(0<ua?.0528035274542:-.0528035274542)):H.invert(sa,ua)};var df=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],
[140,-90],[180,0]]]],we=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],Pe=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],va=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]],Ma=[[[[-180,35],
[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]],rb=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];Oc.invert=function(sa,ua){return[Gc/3*sa/w(Ba*Ba/3-ua*ua),ua]};var Pb=Ba/Rb;Bc.invert=function(sa,ua){var Ka=zc(sa),Oa=zc(ua),bb=1E-6,db=Va;Oa<Pb?db*=Oa/Pb:bb+=6*L(Pb/Oa);for(var lb=0;25>lb;lb++){var wb=
sc(db),ub=w(dc(db)),Cb=sc(db/2),Hb=dc(db/2),Wb=sc(bb/6),oc=dc(bb/6),V=.5*bb*(1+ub)-Ka,la=db/(Hb*oc)-Oa;wb=ub?-.25*bb*wb/ub:0;ub=.5*(1+ub);Cb=(1+.5*db*Cb/Hb)/(Hb*oc);Wb=db/Hb*(Wb/6)/(oc*oc);Hb=wb*Wb-Cb*ub;Wb=(V*Wb-la*ub)/Hb;V=(la*wb-V*Cb)/Hb;db-=Wb;bb-=V;if(1E-6>zc(Wb)&&1E-6>zc(V))break}return[0>sa?-bb:bb,0>ua?-db:db]};td.invert=function(sa,ua){var Ka=Zd(sa)*Ba,Oa=ua/2,bb=50;do{var db=Ka*Ka,lb=Oa*Oa,wb=Ka*Oa,ub=Ka*(.975534+lb*(-.119161+-.0143059*db+-.0547009*lb))-sa,Cb=Oa*(1.00384+db*(.0802894+-.02855*
lb+1.99025E-4*db)+lb*(.0998909+-.0491032*lb))-ua,Hb=.975534-lb*(.119161+.0429177*db+.0547009*lb),Wb=-wb*(.238322+.2188036*lb+.0286118*db);wb*=.1605788+7.961E-4*db+-.0571*lb;lb=1.00384+db*(.0802894+1.99025E-4*db)+lb*(3*(.0998909-.02855*db)-.245516*lb);db=Wb*wb-lb*Hb;Wb=(Cb*Wb-ub*lb)/db;ub=(ub*wb-Cb*Hb)/db;Ka-=Wb;Oa-=ub}while((1E-6<zc(Wb)||1E-6<zc(ub))&&0<--bb);return bb&&[Ka,Oa]};Qd.invert=function(sa,ua){var Ka=sa*sa,Oa=ua*ua+1,bb=Ka+Oa;Ka=sa?pb*w((bb-w(bb*bb-4*Ka))/Ka):1/w(Oa);return[G(sa*Ka),Zd(ua)*
L(Ka)]};hd.invert=function(sa,ua){return[sa,2.5*He(xe(.8*ua))-.625*Ba]};var Mb=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],ac=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],gc=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7.388E-4,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],Uc=[[.9245,0],[0,0],[.01943,0]],Mc=[[.721316,
0],[0,0],[-.00881625,-.00617325]],fd=w(6),ud=w(7);Zb.invert=function(sa,ua){ua=3*G(ua*ud/9);return[sa*ud/(fd*(2*dc(2*ua/3)-1)),G(3*sc(ua)*fd/7)]};xb.invert=function(sa,ua){ua=ua*w(2+Rb)/(2*w(3));var Ka=2*G(ua);return[3*Rb*sa/(1+2*dc(Ka)/dc(Ka/2)),G((ua+sc(Ka))/(1+pb))]};qc.invert=function(sa,ua){var Ka=w(6/(4+Ba));ua/=Ka;1E-6>zc(zc(ua)-Va)&&(ua=0>ua?-Va:Va);return[1.5*sa/(Ka*(.5+dc(ua))),G((ua/2+sc(ua))/(1+Ba/4))]};Nc.invert=function(sa,ua){var Ka=ua,Oa=25;do{var bb=Ka*Ka;var db=bb*bb;Ka-=bb=(Ka*
(1.01183+db*db*(-.02625+.01926*bb-.00396*db))-ua)/(1.01183+db*db*(-.23625+.21186*bb+-.05148*db))}while(1E-12<zc(bb)&&0<--Oa);bb=Ka*Ka;db=bb*bb;ua=bb*db;return[sa/(.84719-.13063*bb+ua*ua*(-.04515+.05494*bb-.02326*db+.00331*ua)),Ka]};qd.invert=function(sa,ua){for(var Ka=ua/2,Oa=0,bb=Infinity;10>Oa&&1E-6<zc(bb);++Oa)bb=dc(ua/2),ua-=bb=(ua-ta(ua/2)-Ka)/(1-.5/(bb*bb));return[2*sa/(1+dc(ua)),ua]};var Od=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,
0]]]];Ed.invert=function(sa,ua){sa/=Va;ua/=Va;var Ka=sa*sa,Oa=Ka+ua*ua,bb=Ba*Ba;return[sa?(Oa-1+w((1-Oa)*(1-Oa)+4*Ka))/(2*sa)*Va:0,z(function(db){return Oa*(Ba*sc(db)-2*db)*Ba+4*db*db*(ua-sc(db))+2*Ba*db-bb*ua},0)]};var Yd=5*.23185;Ga.invert=function(sa,ua){1.790857183<ua?ua=1.790857183:-1.790857183>ua&&(ua=-1.790857183);var Ka=ua;do{var Oa=Ka*Ka;Ka-=Oa=(Ka*(1.0148+Oa*Oa*(.23185+Oa*(-.14499+.02406*Oa)))-ua)/(1.0148+Oa*Oa*(Yd+Oa*(-1.01493+.21654*Oa)))}while(1E-6<zc(Oa));return[sa,Ka]};ab.invert=function(sa,
ua){if(1E-6>zc(ua))return[sa,0];var Ka=sa*sa+ua*ua,Oa=.5*ua,bb=10;do{var db=ta(Oa);var lb=1/dc(Oa),wb=Ka-2*ua*Oa+Oa*Oa;Oa-=db=(db*wb+2*(Oa-ua))/(2+wb*lb*lb+2*(Oa-ua)*db)}while(1E-6<zc(db)&&0<--bb);db=ta(Oa);return[(zc(ua)<zc(Oa+1/db)?G(sa*db):Zd(ua)*Zd(sa)*(L(zc(sa*db))+Va))/sc(Oa),Oa]};var vd=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],ze=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(sa){return sa.map(function(ua){return vd[ua]})}),Kd=2/w(3);ec.invert=function(sa,
ua){return N.invert(sa/Kd,ua)};var pe=()=>{},ge=[],re=[],pf={point:function(sa,ua){ge.push([sa,ua])},result:function(){var sa=ge.length?2>ge.length?{type:"Point",coordinates:ge[0]}:{type:"MultiPoint",coordinates:ge}:null;ge=[];return sa}},$d={lineStart:pe,point:function(sa,ua){ge.push([sa,ua])},lineEnd:function(){ge.length&&(re.push(ge),ge=[])},result:function(){var sa=re.length?2>re.length?{type:"LineString",coordinates:re[0]}:{type:"MultiLineString",coordinates:re}:null;re=[];return sa}},Qe={polygonStart:pe,
lineStart:pe,point:function(sa,ua){ge.push([sa,ua])},lineEnd:function(){var sa=ge.length;if(sa){do ge.push(ge[0].slice());while(4>++sa);re.push(ge);ge=[]}},polygonEnd:pe,result:function(){if(!re.length)return null;var sa=[],ua=[];re.forEach(function(Ka){if(4>(bb=Ka.length))var Oa=!1;else{Oa=0;for(var bb,db=Ka[bb-1][1]*Ka[0][0]-Ka[bb-1][0]*Ka[0][1];++Oa<bb;)db+=Ka[Oa-1][1]*Ka[Oa][0]-Ka[Oa-1][0]*Ka[Oa][1];Oa=0>=db}Oa?sa.push([Ka]):ua.push(Ka)});ua.forEach(function(Ka){var Oa=Ka[0];sa.some(function(bb){for(var db=
bb[0],lb=Oa[0],wb=Oa[1],ub=!1,Cb=0,Hb=db.length,Wb=Hb-1;Cb<Hb;Wb=Cb++){var oc=db[Cb],V=oc[0];oc=oc[1];var la=db[Wb];Wb=la[0];la=la[1];oc>wb^la>wb&&lb<(Wb-V)*(wb-oc)/(la-oc)+V&&(ub=!ub)}if(ub)return bb.push(Ka),!0})||sa.push([Ka])});re=[];return sa.length?1<sa.length?{type:"MultiPolygon",coordinates:sa}:{type:"Polygon",coordinates:sa[0]}:null}},Se=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,
.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];Se.forEach(function(sa){sa[1]*=1.0144});nd.invert=function(sa,ua){var Ka=ua/Va,Oa=90*Ka,bb=ff(18,zc(Oa/5)),db=sf(0,de(bb));do{var lb=Se[db][1],wb=Se[db+1][1],ub=Se[ff(19,db+2)][1],Cb=ub-lb;lb=ub-2*wb+lb;wb=2*(zc(Ka)-wb)/Cb;Cb=lb/Cb;Cb=wb*(1-Cb*wb*(1-2*Cb*wb));if(0<=Cb||1===db){Oa=(0<=ua?5:-5)*(Cb+bb);Ka=50;do bb=ff(18,zc(Oa)/5),db=de(bb),Cb=bb-db,lb=Se[db][1],wb=Se[db+1][1],ub=Se[ff(19,db+2)][1],
Oa-=(bb=(0<=ua?Va:-Va)*(wb+Cb*(ub-lb)/2+Cb*Cb*(ub-2*wb+lb)/2)-ua)*Vc;while(1E-12<zc(bb)&&0<--Ka);break}}while(0<=--db);ua=Se[db][0];bb=Se[db+1][0];db=Se[ff(19,db+2)][0];return[sa/(bb+Cb*(db-ua)/2+Cb*Cb*(db-2*bb+ua)/2),Oa*Cc]};Td.invert=function(sa,ua){ua/=1.70711;var Ka=sc(zb*ua);return[sa/(.74482-.34588*Ka*Ka),2*He(ua)]};Je.invert=function(sa,ua){if(1E-6>zc(ua))return[sa,0];if(1E-6>zc(sa))return[0,Va*sc(2*He(ua/Ba))];var Ka=(sa/=Ba)*sa,Oa=(ua/=Ba)*ua,bb=Ka+Oa,db=bb*bb,lb=-zc(ua)*(1+bb),wb=lb-2*Oa+
Ka,ub=-2*lb+1+2*Oa+db,Cb=Oa/ub+(2*wb*wb*wb/(ub*ub*ub)-9*lb*wb/(ub*ub))/27,Hb=(lb-wb*wb/(3*ub))/ub;lb=2*w(-Hb/3);Cb=L(3*Cb/(Hb*lb))/3;return[Ba*(bb-1+w(1+2*(Ka-Oa)+db))/(2*sa),Zd(ua)*Ba*(-lb*dc(Cb+Ba/3)-wb/(3*ub))]};fe.invert=function(sa,ua){if(!sa)return[0,Va*sc(2*He(ua/Ba))];var Ka=zc(sa/Ba),Oa=(1-Ka*Ka-(ua/=Ba)*ua)/(2*Ka),bb=w(Oa*Oa+1);return[Zd(sa)*Ba*(bb-Oa),Zd(ua)*Va*sc(2*oe(w((1-2*Oa*Ka)*(Oa+bb)-Ka),w(bb+Oa+Ka)))]};zd.invert=function(sa,ua){if(!ua)return[sa,0];ua/=Ba;var Ka=(Ba*Ba*(1-ua*ua)-
sa*sa)/(2*Ba*sa);return[sa?Ba*(Zd(sa)*w(Ka*Ka+1)-Ka):0,Va*sc(2*He(ua))]};Gd.invert=function(sa,ua){if(!sa||!ua)return[sa,ua];var Ka=Zd(ua);ua=zc(ua)/Ba;var Oa=Zd(sa)*sa/Va,bb=(Oa*Oa-1+4*ua*ua)/zc(Oa),db=bb*bb,lb=ua*(2-(.5<ua?ff(ua,zc(sa)):0));ua=sa*sa+ua*ua;var wb=50;do{var ub=lb*lb;var Cb=(8*lb-ub*(ub+2)-5)/(2*ub*(lb-1));var Hb=(3*lb-ub*lb-10)/(2*ub*lb),Wb=Cb*Cb,oc=lb*Cb,V=lb+Cb,la=V*V,La=lb+3*Cb,Ra=-2*V*(4*oc*Wb+(1-4*ub+3*ub*ub)*(1+Hb)+Wb*(-6+14*ub-db+(-8+8*ub-2*db)*Hb)+oc*(-8+12*ub+(-10+10*ub-
db)*Hb));ub=w(la*(ub+Wb*db-1)+(1-ub)*(ub*(La*La+4*Wb)+Wb*(12*oc+4*Wb)));lb-=Cb=(bb*(la+Wb-1)+2*ub-Oa*(4*la+db))/(bb*(2*Cb*Hb+2*V*(1+Hb))+Ra/ub-8*V*(bb*(-1+Wb+la)+2*ub)*(1+Hb)/(db+4*la))}while(1E-6<Cb*ua*ua&&0<--wb);return[Zd(sa)*(w(bb*bb+4)+bb)*Ba/4,Ka*Va*lb]};var Uf=4*Ba+3*w(3),ef=2*w(2*Ba*w(3)/Uf),Ff=D(ef*w(3)/Ba,ef,Uf/6);Hd.invert=function(sa,ua){return[sa/w(1-3*ua*ua/(Ba*Ba)),ua]};Ge.invert=function(sa,ua){var Ka=(sa*sa+ua*ua)/-2,Oa=w(-Ka*(2+Ka)),bb=ua*Ka+sa*Oa;sa=sa*Ka-ua*Oa;ua=w(sa*sa+bb*bb);
return[oe(Oa*bb,ua*(1+Ka)),ua?-G(Oa*sa/ua):0]};rf.invert=function(sa,ua){var Ka=sa,Oa=ua,bb=25;do{var db=dc(Oa),lb=sc(Oa),wb=sc(2*Oa),ub=lb*lb,Cb=db*db,Hb=sc(Ka),Wb=dc(Ka/2),oc=sc(Ka/2),V=oc*oc,la=1-Cb*Wb*Wb,La=la?L(db*Wb)*w(Ra=1/la):Ra=0,Ra;la=.5*(2*La*db*oc+Ka/Va)-sa;var sb=.5*(La*lb+Oa)-ua,Lb=.5*Ra*(Cb*V+La*db*Wb*ub)+.5/Va,Sb=Ra*(Hb*wb/4-La*lb*oc);lb=.125*Ra*(wb*oc-La*lb*Cb*Hb);ub=.5*Ra*(ub*Wb+La*V*db)+.5;db=Sb*lb-ub*Lb;Sb=(sb*Sb-la*ub)/db;la=(la*lb-sb*Lb)/db;Ka-=Sb;Oa-=la}while((1E-6<zc(Sb)||
1E-6<zc(la))&&0<--bb);return[Ka,Oa]};m.geoAiry=function(){var sa=Va,ua=l.geoProjectionMutator(k),Ka=ua(sa);Ka.radius=function(Oa){return arguments.length?ua(sa=Oa*Cc):sa*Vc};return Ka.scale(179.976).clipAngle(147)};m.geoAiryRaw=k;m.geoAitoff=function(){return l.geoProjection(g).scale(152.63)};m.geoAitoffRaw=g;m.geoArmadillo=function(){var sa=20*Cc,ua=0<=sa?1:-1,Ka=ta(ua*sa),Oa=l.geoProjectionMutator(d),bb=Oa(sa),db=bb.stream;bb.parallel=function(lb){if(!arguments.length)return sa*Vc;Ka=ta((ua=0<=
(sa=lb*Cc)?1:-1)*sa);return Oa(sa)};bb.stream=function(lb){var wb=bb.rotate(),ub=db(lb),Cb=(bb.rotate([0,0]),db(lb)),Hb=bb.precision();bb.rotate(wb);ub.sphere=function(){Cb.polygonStart();Cb.lineStart();for(var Wb=-180*ua;180>ua*Wb;Wb+=90*ua)Cb.point(Wb,90*ua);if(sa)for(;-180<=ua*(Wb-=3*ua*Hb);)Cb.point(Wb,ua*-oe(dc(Wb*Cc/2),Ka)*Vc);Cb.lineEnd();Cb.polygonEnd()};return ub};return bb.scale(218.695).center([0,28.0974])};m.geoArmadilloRaw=d;m.geoAugust=function(){return l.geoProjection(f).scale(66.1603)};
m.geoAugustRaw=f;m.geoBaker=function(){return l.geoProjection(a).scale(112.314)};m.geoBakerRaw=a;m.geoBerghaus=function(){var sa=5,ua=l.geoProjectionMutator(e),Ka=ua(sa),Oa=Ka.stream,bb=-dc(.01*Cc),db=sc(.01*Cc);Ka.lobes=function(lb){return arguments.length?ua(sa=+lb):sa};Ka.stream=function(lb){var wb=Ka.rotate(),ub=Oa(lb),Cb=(Ka.rotate([0,0]),Oa(lb));Ka.rotate(wb);ub.sphere=function(){Cb.polygonStart();Cb.lineStart();for(var Hb=0,Wb=360/sa,oc=2*Ba/sa,V=90-180/sa,la=Va;Hb<sa;++Hb,V-=Wb,la-=oc)Cb.point(oe(db*
dc(la),bb)*Vc,G(db*sc(la))*Vc),-90>V?(Cb.point(-90,-180-V-.01),Cb.point(-90,-180-V+.01)):(Cb.point(90,V+.01),Cb.point(90,V-.01));Cb.lineEnd();Cb.polygonEnd()};return ub};return Ka.scale(87.8076).center([0,17.1875]).clipAngle(179.999)};m.geoBerghausRaw=e;m.geoBertin1953=function(){return l.geoProjection(M()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])};m.geoBertin1953Raw=M;m.geoBoggs=function(){return l.geoProjection(y).scale(160.857)};m.geoBoggsRaw=y;m.geoBonne=function(){return E(Q).scale(123.082).center([0,
26.1441]).parallel(45)};m.geoBonneRaw=Q;m.geoBottomley=function(){var sa=.5,ua=l.geoProjectionMutator(S),Ka=ua(sa);Ka.fraction=function(Oa){return arguments.length?ua(sa=+Oa):sa};return Ka.scale(158.837)};m.geoBottomleyRaw=S;m.geoBromley=function(){return l.geoProjection($c).scale(152.63)};m.geoBromleyRaw=$c;m.geoChamberlin=ca;m.geoChamberlinRaw=fa;m.geoChamberlinAfrica=function(){return ca([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])};m.geoCollignon=function(){return l.geoProjection(N).scale(95.6464).center([0,
30])};m.geoCollignonRaw=N;m.geoCraig=function(){return E(C).scale(249.828).clipAngle(90)};m.geoCraigRaw=C;m.geoCraster=function(){return l.geoProjection(W).scale(156.19)};m.geoCrasterRaw=W;m.geoCylindricalEqualArea=function(){return E(ha).parallel(38.58).scale(195.044)};m.geoCylindricalEqualAreaRaw=ha;m.geoCylindricalStereographic=function(){return E(Y).scale(124.75)};m.geoCylindricalStereographicRaw=Y;m.geoEckert1=function(){return l.geoProjection(wa).scale(165.664)};m.geoEckert1Raw=wa;m.geoEckert2=
function(){return l.geoProjection(xa).scale(165.664)};m.geoEckert2Raw=xa;m.geoEckert3=function(){return l.geoProjection(Ha).scale(180.739)};m.geoEckert3Raw=Ha;m.geoEckert4=function(){return l.geoProjection(Za).scale(180.739)};m.geoEckert4Raw=Za;m.geoEckert5=function(){return l.geoProjection(gb).scale(173.044)};m.geoEckert5Raw=gb;m.geoEckert6=function(){return l.geoProjection(ra).scale(173.044)};m.geoEckert6Raw=ra;m.geoEisenlohr=function(){return l.geoProjection(Pa).scale(62.5271)};m.geoEisenlohrRaw=
Pa;m.geoFahey=function(){return l.geoProjection(Ua).scale(137.152)};m.geoFaheyRaw=Ua;m.geoFoucaut=function(){return l.geoProjection(za).scale(135.264)};m.geoFoucautRaw=za;m.geoFoucautSinusoidal=function(){var sa=.5,ua=l.geoProjectionMutator(qa),Ka=ua(sa);Ka.alpha=function(Oa){return arguments.length?ua(sa=+Oa):sa};return Ka.scale(168.725)};m.geoFoucautSinusoidalRaw=qa;m.geoGilbert=function(sa){function ua(db){return Oa([db[0]/2,G(ta(db[1]/2*Cc))*Vc])}function Ka(db){ua[db]=function(){return arguments.length?
(Oa[db].apply(Oa,arguments),ua):Oa[db]()}}null==sa&&(sa=l.geoOrthographic);var Oa=sa(),bb=l.geoEquirectangular().scale(Vc).precision(0).clipAngle(null).translate([0,0]);Oa.invert&&(ua.invert=function(db){return R(Oa.invert(db))});ua.stream=function(db){var lb=Oa.stream(db);db=bb.stream({point:function(wb,ub){lb.point(wb/2,G(ta(-ub/2*Cc))*Vc)},lineStart:function(){lb.lineStart()},lineEnd:function(){lb.lineEnd()},polygonStart:function(){lb.polygonStart()},polygonEnd:function(){lb.polygonEnd()}});db.sphere=
lb.sphere;return db};ua.rotate=function(db){return arguments.length?(bb.rotate(db),ua):bb.rotate()};ua.center=function(db){return arguments.length?(Oa.center([db[0]/2,G(ta(db[1]/2*Cc))*Vc]),ua):R(Oa.center())};Ka("angle");Ka("clipAngle");Ka("clipExtent");Ka("fitExtent");Ka("fitHeight");Ka("fitSize");Ka("fitWidth");Ka("scale");Ka("translate");Ka("precision");return ua.scale(249.5)};m.geoGingery=function(){var sa=6,ua=30*Cc,Ka=dc(ua),Oa=sc(ua),bb=l.geoProjectionMutator(T),db=bb(ua,sa),lb=db.stream,
wb=-dc(.01*Cc),ub=sc(.01*Cc);db.radius=function(Cb){if(!arguments.length)return ua*Vc;Ka=dc(ua=Cb*Cc);Oa=sc(ua);return bb(ua,sa)};db.lobes=function(Cb){return arguments.length?bb(ua,sa=+Cb):sa};db.stream=function(Cb){var Hb=db.rotate(),Wb=lb(Cb),oc=(db.rotate([0,0]),lb(Cb));db.rotate(Hb);Wb.sphere=function(){oc.polygonStart();oc.lineStart();for(var V=0,la=2*Ba/sa,La=0;V<sa;++V,La-=la)oc.point(oe(ub*dc(La),wb)*Vc,G(ub*sc(La))*Vc),oc.point(oe(Oa*dc(La-la/2),Ka)*Vc,G(Oa*sc(La-la/2))*Vc);oc.lineEnd();
oc.polygonEnd()};return Wb};return db.rotate([90,-40]).scale(91.7095).clipAngle(179.999)};m.geoGingeryRaw=T;m.geoGinzburg4=function(){return l.geoProjection(Ne).scale(149.995)};m.geoGinzburg4Raw=Ne;m.geoGinzburg5=function(){return l.geoProjection(Yc).scale(153.93)};m.geoGinzburg5Raw=Yc;m.geoGinzburg6=function(){return l.geoProjection(ye).scale(130.945)};m.geoGinzburg6Raw=ye;m.geoGinzburg8=function(){return l.geoProjection(na).scale(131.747)};m.geoGinzburg8Raw=na;m.geoGinzburg9=function(){return l.geoProjection(Xe).scale(131.087)};
m.geoGinzburg9Raw=Xe;m.geoGringorten=function(){return l.geoProjection(Aa(ka)).scale(239.75)};m.geoGringortenRaw=ka;m.geoGuyou=function(){return l.geoProjection(Aa(Ca)).scale(151.496)};m.geoGuyouRaw=Ca;m.geoHammer=function(){var sa=2,ua=l.geoProjectionMutator(n),Ka=ua(sa);Ka.coefficient=function(Oa){return arguments.length?ua(sa=+Oa):sa};return Ka.scale(169.529)};m.geoHammerRaw=n;m.geoHammerRetroazimuthal=function(){var sa=0,ua=l.geoProjectionMutator(Da),Ka=ua(sa),Oa=Ka.rotate,bb=Ka.stream,db=l.geoCircle();
Ka.parallel=function(lb){if(!arguments.length)return sa*Vc;var wb=Ka.rotate();return ua(sa=lb*Cc).rotate(wb)};Ka.rotate=function(lb){if(!arguments.length)return lb=Oa.call(Ka),lb[1]+=sa*Vc,lb;Oa.call(Ka,[lb[0],lb[1]-sa*Vc]);db.center([-lb[0],-lb[1]]);return Ka};Ka.stream=function(lb){lb=bb(lb);lb.sphere=function(){lb.polygonStart();var wb=db.radius(89.99)().coordinates[0],ub=wb.length-1,Cb=-1,Hb;for(lb.lineStart();++Cb<ub;)lb.point((Hb=wb[Cb])[0],Hb[1]);lb.lineEnd();wb=db.radius(90.01)().coordinates[0];
for(lb.lineStart();0<=--Cb;)lb.point((Hb=wb[Cb])[0],Hb[1]);lb.lineEnd();lb.polygonEnd()};return lb};return Ka.scale(79.4187).parallel(45).clipAngle(179.999)};m.geoHammerRetroazimuthalRaw=Da;m.geoHealpix=function(){var sa=4,ua=l.geoProjectionMutator(Ea),Ka=ua(sa),Oa=Ka.stream;Ka.lobes=function(bb){return arguments.length?ua(sa=+bb):sa};Ka.stream=function(bb){var db=Ka.rotate(),lb=Oa(bb),wb=(Ka.rotate([0,0]),Oa(bb));Ka.rotate(db);lb.sphere=function(){l.geoStream(Qb(180/sa),wb)};return lb};return Ka.scale(239.75)};
m.geoHealpixRaw=Ea;m.geoHill=function(){var sa=1,ua=l.geoProjectionMutator(fc),Ka=ua(sa);Ka.ratio=function(Oa){return arguments.length?ua(sa=+Oa):sa};return Ka.scale(167.774).center([0,18.67])};m.geoHillRaw=fc;m.geoHomolosine=function(){return l.geoProjection(ic).scale(152.63)};m.geoHomolosineRaw=ic;m.geoHufnagel=function(){var sa=1,ua=0,Ka=45*Cc,Oa=2,bb=l.geoProjectionMutator(xc),db=bb(sa,ua,Ka,Oa);db.a=function(lb){return arguments.length?bb(sa=+lb,ua,Ka,Oa):sa};db.b=function(lb){return arguments.length?
bb(sa,ua=+lb,Ka,Oa):ua};db.psiMax=function(lb){return arguments.length?bb(sa,ua,Ka=+lb*Cc,Oa):Ka*Vc};db.ratio=function(lb){return arguments.length?bb(sa,ua,Ka,Oa=+lb):Oa};return db.scale(180.739)};m.geoHufnagelRaw=xc;m.geoHyperelliptical=function(){var sa=0,ua=2.5,Ka=1.183136,Oa=l.geoProjectionMutator(bc),bb=Oa(sa,ua,Ka);bb.alpha=function(db){return arguments.length?Oa(sa=+db,ua,Ka):sa};bb.k=function(db){return arguments.length?Oa(sa,ua=+db,Ka):ua};bb.gamma=function(db){return arguments.length?Oa(sa,
ua,Ka=+db):Ka};return bb.scale(152.63)};m.geoHyperellipticalRaw=bc;m.geoInterrupt=jc;m.geoInterruptedBoggs=function(){return jc(y,df).scale(160.857)};m.geoInterruptedHomolosine=function(){return jc(ic,we).scale(152.63)};m.geoInterruptedMollweide=function(){return jc(rd,Pe).scale(169.529)};m.geoInterruptedMollweideHemispheres=function(){return jc(rd,va).scale(169.529).rotate([20,0])};m.geoInterruptedSinuMollweide=function(){return jc(ad,Ma,B).rotate([-20,-55]).scale(164.263).center([0,-5.4036])};m.geoInterruptedSinusoidal=
function(){return jc(H,rb).scale(152.63).rotate([-20,0])};m.geoKavrayskiy7=function(){return l.geoProjection(Oc).scale(158.837)};m.geoKavrayskiy7Raw=Oc;m.geoLagrange=function(){var sa=.5,ua=l.geoProjectionMutator(Hc),Ka=ua(sa);Ka.spacing=function(Oa){return arguments.length?ua(sa=+Oa):sa};return Ka.scale(124.75)};m.geoLagrangeRaw=Hc;m.geoLarrivee=function(){return l.geoProjection(Bc).scale(97.2672)};m.geoLarriveeRaw=Bc;m.geoLaskowski=function(){return l.geoProjection(td).scale(139.98)};m.geoLaskowskiRaw=
td;m.geoLittrow=function(){return l.geoProjection(Qd).scale(144.049).clipAngle(89.999)};m.geoLittrowRaw=Qd;m.geoLoximuthal=function(){return E(jd).parallel(40).scale(158.837)};m.geoLoximuthalRaw=jd;m.geoMiller=function(){return l.geoProjection(hd).scale(108.318)};m.geoMillerRaw=hd;m.geoModifiedStereographic=Ib;m.geoModifiedStereographicRaw=Fd;m.geoModifiedStereographicAlaska=function(){return Ib(Mb,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)};m.geoModifiedStereographicGs48=
function(){return Ib(ac,[95,-38]).scale(1E3).clipAngle(55).center([-96.5563,38.8675])};m.geoModifiedStereographicGs50=function(){return Ib(gc,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])};m.geoModifiedStereographicMiller=function(){return Ib(Uc,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)};m.geoModifiedStereographicLee=function(){return Ib(Mc,[165,10]).scale(250).clipAngle(130).center([-165,-10])};m.geoMollweide=function(){return l.geoProjection(rd).scale(169.529)};
m.geoMollweideRaw=rd;m.geoMtFlatPolarParabolic=function(){return l.geoProjection(Zb).scale(164.859)};m.geoMtFlatPolarParabolicRaw=Zb;m.geoMtFlatPolarQuartic=function(){return l.geoProjection(xb).scale(188.209)};m.geoMtFlatPolarQuarticRaw=xb;m.geoMtFlatPolarSinusoidal=function(){return l.geoProjection(qc).scale(166.518)};m.geoMtFlatPolarSinusoidalRaw=qc;m.geoNaturalEarth2=function(){return l.geoProjection(Nc).scale(175.295)};m.geoNaturalEarth2Raw=Nc;m.geoNellHammer=function(){return l.geoProjection(qd).scale(152.63)};
m.geoNellHammerRaw=qd;m.geoInterruptedQuarticAuthalic=function(){return jc(n(Infinity),Od).rotate([20,0]).scale(152.63)};m.geoNicolosi=function(){return l.geoProjection(Ed).scale(127.267)};m.geoNicolosiRaw=Ed;m.geoPatterson=function(){return l.geoProjection(Ga).scale(139.319)};m.geoPattersonRaw=Ga;m.geoPolyconic=function(){return l.geoProjection(ab).scale(103.74)};m.geoPolyconicRaw=ab;m.geoPolyhedral=Eb;m.geoPolyhedralButterfly=function(sa){sa=sa||function(Ka){Ka=l.geoCentroid({type:"MultiPoint",
coordinates:Ka});return l.geoGnomonic().scale(1).translate([0,0]).rotate([-Ka[0],-Ka[1]])};var ua=ze.map(function(Ka){return{face:Ka,project:sa(Ka)}});[-1,0,0,1,0,1,4,5].forEach(function(Ka,Oa){(Ka=ua[Ka])&&(Ka.children||(Ka.children=[])).push(ua[Oa])});return Eb(ua[0],function(Ka,Oa){return ua[Ka<-Ba/2?0>Oa?6:4:0>Ka?0>Oa?2:0:Ka<Ba/2?0>Oa?3:1:0>Oa?7:5]}).angle(-30).scale(101.858).center([0,45])};m.geoPolyhedralCollignon=function(sa){sa=sa||function(Ka){Ka=l.geoCentroid({type:"MultiPoint",coordinates:Ka});
return l.geoProjection(ec).translate([0,0]).scale(1).rotate(0<Ka[1]?[-Ka[0],0]:[180-Ka[0],180])};var ua=ze.map(function(Ka){return{face:Ka,project:sa(Ka)}});[-1,0,0,1,0,1,4,5].forEach(function(Ka,Oa){(Ka=ua[Ka])&&(Ka.children||(Ka.children=[])).push(ua[Oa])});return Eb(ua[0],function(Ka,Oa){return ua[Ka<-Ba/2?0>Oa?6:4:0>Ka?0>Oa?2:0:Ka<Ba/2?0>Oa?3:1:0>Oa?7:5]}).angle(-30).scale(121.906).center([0,48.5904])};m.geoPolyhedralWaterman=function(sa){sa=sa||function(db){db=6===db.length?l.geoCentroid({type:"MultiPoint",
coordinates:db}):db[0];return l.geoGnomonic().scale(1).translate([0,0]).rotate([-db[0],-db[1]])};var ua=ze.map(function(db){db=db.map(Jb);for(var lb=db.length,wb=db[lb-1],ub,Cb=[],Hb=0;Hb<lb;++Hb)ub=db[Hb],Cb.push(Lc([.9486832980505138*wb[0]+.31622776601683794*ub[0],.9486832980505138*wb[1]+.31622776601683794*ub[1],.9486832980505138*wb[2]+.31622776601683794*ub[2]]),Lc([.9486832980505138*ub[0]+.31622776601683794*wb[0],.9486832980505138*ub[1]+.31622776601683794*wb[1],.9486832980505138*ub[2]+.31622776601683794*
wb[2]])),wb=ub;return Cb}),Ka=[],Oa=[-1,0,0,1,0,1,4,5];ua.forEach(function(db,lb){for(var wb=ze[lb],ub=wb.length,Cb=Ka[lb]=[],Hb=0;Hb<ub;++Hb)ua.push([wb[Hb],db[(2*Hb+2)%(2*ub)],db[(2*Hb+1)%(2*ub)]]),Oa.push(lb),Cb.push(uc(Jb(db[(2*Hb+2)%(2*ub)]),Jb(db[(2*Hb+1)%(2*ub)])))});var bb=ua.map(function(db){return{project:sa(db),face:db}});Oa.forEach(function(db,lb){(db=bb[db])&&(db.children||(db.children=[])).push(bb[lb])});return Eb(bb[0],function(db,lb){var wb=dc(lb);wb=[wb*dc(db),wb*sc(db),sc(lb)];db=
db<-Ba/2?0>lb?6:4:0>db?0>lb?2:0:db<Ba/2?0>lb?3:1:0>lb?7:5;lb=Ka[db];return bb[0>tc(lb[0],wb)?8+3*db:0>tc(lb[1],wb)?3*db+9:0>tc(lb[2],wb)?3*db+10:db]}).angle(-30).scale(110.625).center([0,45])};m.geoProject=function(sa,ua){ua=ua.stream;if(!ua)throw Error("invalid projection");switch(sa&&sa.type){case "Feature":var Ka=vc;break;case "FeatureCollection":Ka=yc;break;default:Ka=Kc}return Ka(sa,ua)};m.geoGringortenQuincuncial=function(){return Qc(ka).scale(176.423)};m.geoPeirceQuincuncial=function(){return Qc(Ca).scale(111.48)};
m.geoQuantize=function(sa,ua){function Ka(ub){var Cb=ub.length,Hb=2,Wb=Array(Cb);Wb[0]=+ub[0].toFixed(ua);for(Wb[1]=+ub[1].toFixed(ua);Hb<Cb;)Wb[Hb]=ub[Hb],++Hb;return Wb}function Oa(ub){for(var Cb=Ka(ub[0]),Hb=[Cb],Wb=1;Wb<ub.length;Wb++){var oc=Ka(ub[Wb]);if(2<oc.length||oc[0]!=Cb[0]||oc[1]!=Cb[1])Hb.push(oc),Cb=oc}1===Hb.length&&1<ub.length&&Hb.push(Ka(ub[ub.length-1]));return Hb}function bb(ub){return ub.map(Oa)}function db(ub){if(null==ub)return ub;switch(ub.type){case "GeometryCollection":var Cb=
{type:"GeometryCollection",geometries:ub.geometries.map(db)};break;case "Point":Cb={type:"Point",coordinates:Ka(ub.coordinates)};break;case "MultiPoint":Cb={type:ub.type,coordinates:ub.coordinates.map(Ka)};break;case "LineString":Cb={type:ub.type,coordinates:Oa(ub.coordinates)};break;case "MultiLineString":case "Polygon":Cb={type:ub.type,coordinates:bb(ub.coordinates)};break;case "MultiPolygon":Cb={type:"MultiPolygon",coordinates:ub.coordinates.map(bb)};break;default:return ub}null!=ub.bbox&&(Cb.bbox=
ub.bbox);return Cb}function lb(ub){var Cb={type:"Feature",properties:ub.properties,geometry:db(ub.geometry)};null!=ub.id&&(Cb.id=ub.id);null!=ub.bbox&&(Cb.bbox=ub.bbox);return Cb}if(!(0<=(ua=+ua)&&20>=ua))throw Error("invalid digits");if(null!=sa)switch(sa.type){case "Feature":return lb(sa);case "FeatureCollection":var wb={type:"FeatureCollection",features:sa.features.map(lb)};null!=sa.bbox&&(wb.bbox=sa.bbox);return wb;default:return db(sa)}return sa};m.geoQuincuncial=Qc;m.geoRectangularPolyconic=
function(){return E(Zc).scale(131.215)};m.geoRectangularPolyconicRaw=Zc;m.geoRobinson=function(){return l.geoProjection(nd).scale(152.63)};m.geoRobinsonRaw=nd;m.geoSatellite=function(){var sa=2,ua=0,Ka=l.geoProjectionMutator(Dd),Oa=Ka(sa,ua);Oa.distance=function(bb){return arguments.length?Ka(sa=+bb,ua):sa};Oa.tilt=function(bb){return arguments.length?Ka(sa,ua=bb*Cc):ua*Vc};return Oa.scale(432.147).clipAngle(L(1/sa)*Vc-1E-6)};m.geoSatelliteRaw=Dd;m.geoSinuMollweide=function(){return l.geoProjection(ad).rotate([-20,
-55]).scale(164.263).center([0,-5.4036])};m.geoSinuMollweideRaw=ad;m.geoSinusoidal=function(){return l.geoProjection(H).scale(152.63)};m.geoSinusoidalRaw=H;m.geoStitch=function(sa){if(null==sa)return sa;switch(sa.type){case "Feature":return Fe(sa);case "FeatureCollection":var ua={type:"FeatureCollection",features:sa.features.map(Fe)};null!=sa.bbox&&(ua.bbox=sa.bbox);return ua;default:return Id(sa)}};m.geoTimes=function(){return l.geoProjection(Td).scale(146.153)};m.geoTimesRaw=Td;m.geoTwoPointAzimuthal=
cf;m.geoTwoPointAzimuthalRaw=Be;m.geoTwoPointAzimuthalUsa=function(){return cf([-158,21.5],[-77,39]).clipAngle(60).scale(400)};m.geoTwoPointEquidistant=ae;m.geoTwoPointEquidistantRaw=Xd;m.geoTwoPointEquidistantUsa=function(){return ae([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)};m.geoVanDerGrinten=function(){return l.geoProjection(Je).scale(79.4183)};m.geoVanDerGrintenRaw=Je;m.geoVanDerGrinten2=function(){return l.geoProjection(fe).scale(79.4183)};m.geoVanDerGrinten2Raw=fe;m.geoVanDerGrinten3=
function(){return l.geoProjection(zd).scale(79.4183)};m.geoVanDerGrinten3Raw=zd;m.geoVanDerGrinten4=function(){return l.geoProjection(Gd).scale(127.16)};m.geoVanDerGrinten4Raw=Gd;m.geoWagner=me;m.geoWagner7=function(){return me().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)};m.geoWagnerRaw=Re;m.geoWagner4=function(){return l.geoProjection(Ff).scale(176.84)};m.geoWagner4Raw=Ff;m.geoWagner6=function(){return l.geoProjection(Hd).scale(152.63)};m.geoWagner6Raw=Hd;m.geoWiechel=function(){return l.geoProjection(Ge).rotate([0,
-90,45]).scale(124.75).clipAngle(179.999)};m.geoWiechelRaw=Ge;m.geoWinkel3=function(){return l.geoProjection(rf).scale(158.837)};m.geoWinkel3Raw=rf;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[43]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J,A(41),A(42)):"function"===typeof define&&define.amd?define(["exports","d3-geo","d3-geo-projection"],l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.vega={},m.d3,m.d3))})(this,function(m,l,u){function G(k,g){return function f(){const a=g();a.type=k;a.path=l.geoPath().projection(a);a.copy=a.copy||function(){const e=f();v.forEach(n=>{if(a[n])e[n](a[n]())});e.path.pointRadius(a.path.pointRadius());
return e};return a}}function L(k,g){if(!k||"string"!==typeof k)throw Error("Projection type must be a name string.");k=k.toLowerCase();return 1<arguments.length?(t[k]=G(k,g),this):t[k]||null}const w=l.geoPath(),v="clipAngle clipExtent scale translate center rotate parallels precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" "),t={albers:l.geoAlbers,albersusa:l.geoAlbersUsa,azimuthalequalarea:l.geoAzimuthalEqualArea,azimuthalequidistant:l.geoAzimuthalEquidistant,
conicconformal:l.geoConicConformal,conicequalarea:l.geoConicEqualArea,conicequidistant:l.geoConicEquidistant,equalEarth:l.geoEqualEarth,equirectangular:l.geoEquirectangular,gnomonic:l.geoGnomonic,identity:l.geoIdentity,mercator:l.geoMercator,mollweide:u.geoMollweide,naturalEarth1:l.geoNaturalEarth1,orthographic:l.geoOrthographic,stereographic:l.geoStereographic,transversemercator:l.geoTransverseMercator};for(const k in t)L(k,t[k]);m.getProjectionPath=function(k){return k&&k.path||w};m.projection=
L;m.projectionProperties=v;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[44]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J,A(28),A(16),A(17),A(29),A(43),A(41),A(34),A(33)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-util d3-array vega-statistics vega-projection d3-geo d3-color vega-canvas".split(" "),l):(m="undefined"!==typeof globalThis?globalThis:m||self,l((m.vega=m.vega||{},m.vega.transforms={}),m.vega,m.vega,m.d3,m.vega,m.vega,m.d3,m.d3,m.vega))})(this,function(m,l,u,G,L,w,v,t,k){function g(){}
function d(){function za(na,Aa){return Aa.map(ka=>qa(na,ka))}function qa(na,Aa){var ka=[],Na=[];R(na,Aa,$a=>{oa($a,na,Aa);for(var Wa=0,Ca=$a.length,Da=$a[Ca-1][1]*$a[0][0]-$a[Ca-1][0]*$a[0][1];++Wa<Ca;)Da+=$a[Wa-1][1]*$a[Wa][0]-$a[Wa-1][0]*$a[Wa][1];0<Da?ka.push([$a]):Na.push($a)});Na.forEach($a=>{for(var Wa=0,Ca=ka.length,Da;Wa<Ca;++Wa){a:{var ma=(Da=ka[Wa])[0];for(var Ea=$a,Qa=-1,eb=Ea.length;++Qa<eb;){b:{var yb=ma;for(var Qb=Ea[Qa],fc=Qb[0],ad=Qb[1],ic=-1,xc=0,ib=yb.length,$b=ib-1;xc<ib;$b=xc++){var bc=
yb[xc],kc=bc[0],Ec=bc[1],jc=yb[$b];$b=jc[0];var Oc=jc[1],Hc,Bc=bc;bc=jc;jc=Qb;if(Hc=(bc[0]-Bc[0])*(jc[1]-Bc[1])===(jc[0]-Bc[0])*(bc[1]-Bc[1]))Bc=Bc[Hc=+(Bc[0]===bc[0])],jc=jc[Hc],bc=bc[Hc],Hc=Bc<=jc&&jc<=bc||bc<=jc&&jc<=Bc;if(Hc){yb=0;break b}Ec>ad!==Oc>ad&&fc<($b-kc)*(ad-Ec)/(Oc-Ec)+kc&&(ic=-ic)}yb=ic}if(yb){ma=yb;break a}}ma=0}if(-1!==ma){Da.push($a);break}}});return{type:"MultiPolygon",value:Aa,coordinates:ka}}function R(na,Aa,ka){function Na(yb){var Qb=[yb[0][0]+Da,yb[0][1]+Ca];yb=[yb[1][0]+Da,
yb[1][1]+Ca];var fc=2*Qb[0]+Qb[1]*(X+1)*4,ad=2*yb[0]+yb[1]*(X+1)*4,ic,xc;(ic=Wa[fc])?(xc=$a[ad])?(delete Wa[ic.end],delete $a[xc.start],ic===xc?(ic.ring.push(yb),ka(ic.ring)):$a[ic.start]=Wa[xc.end]={start:ic.start,end:xc.end,ring:ic.ring.concat(xc.ring)}):(delete Wa[ic.end],ic.ring.push(yb),Wa[ic.end=ad]=ic):(ic=$a[ad])?(xc=Wa[fc])?(delete $a[ic.start],delete Wa[xc.end],ic===xc?(ic.ring.push(yb),ka(ic.ring)):$a[xc.start]=Wa[ic.end]={start:xc.start,end:ic.end,ring:xc.ring.concat(ic.ring)}):(delete $a[ic.start],
ic.ring.unshift(Qb),$a[ic.start=fc]=ic):$a[fc]=Wa[ad]={start:fc,end:ad,ring:[Qb,yb]}}var $a=[],Wa=[],Ca;var Da=Ca=-1;var ma=na[0]>=Aa;for(Pa[ma<<1].forEach(Na);++Da<X-1;){var Ea=ma;ma=na[Da+1]>=Aa;Pa[Ea|ma<<1].forEach(Na)}for(Pa[ma<<0].forEach(Na);++Ca<Z-1;){Da=-1;ma=na[Ca*X+X]>=Aa;var Qa=na[Ca*X]>=Aa;for(Pa[ma<<1|Qa<<2].forEach(Na);++Da<X-1;){Ea=ma;ma=na[Ca*X+X+Da+1]>=Aa;var eb=Qa;Qa=na[Ca*X+Da+1]>=Aa;Pa[Ea|ma<<1|Qa<<2|eb<<3].forEach(Na)}Pa[ma|Qa<<3].forEach(Na)}Da=-1;Qa=na[Ca*X]>=Aa;for(Pa[Qa<<
2].forEach(Na);++Da<X-1;)eb=Qa,Qa=na[Ca*X+Da+1]>=Aa,Pa[Qa<<2|eb<<3].forEach(Na);Pa[Qa<<3].forEach(Na)}function T(na,Aa,ka){na.forEach(Na=>{var $a=Na[0],Wa=Na[1],Ca=$a|0,Da=Wa|0,ma=Aa[Da*X+Ca];if(0<$a&&$a<X&&Ca===$a){var Ea=Aa[Da*X+Ca-1];Na[0]=$a+(ka-Ea)/(ma-Ea)-.5}0<Wa&&Wa<Z&&Da===Wa&&(Ea=Aa[(Da-1)*X+Ca],Na[1]=Wa+(ka-Ea)/(ma-Ea)-.5)})}var X=1,Z=1,oa=T;za.contour=qa;za.size=function(na){if(!arguments.length)return[X,Z];var Aa=Math.floor(na[0]),ka=Math.floor(na[1]);0<=Aa&&0<=ka||u.error("invalid size");
return X=Aa,Z=ka,za};za.smooth=function(na){return arguments.length?(oa=na?T:g,za):oa===T};return za}function f(za,qa,R){return function(T){var X=u.extent(T);T=R?Math.min(X[0],0):X[0];X=X[1];var Z=X-T;Z=qa?G.tickStep(T,X,za):Z/(za+1);return G.range(T+Z,X,Z)}}function a(za){l.Transform.call(this,null,za)}function e(za,qa,R){const T=f(R.levels||10,R.nice,!1!==R.zero);return"shared"!==R.resolve?T:T(za.map(X=>G.max(qa(X).values)))}function n(za,qa,R,T){var X=T.scale||qa.scale;let Z=T.translate||qa.translate;
u.isFunction(X)&&(X=X(R,T));u.isFunction(Z)&&(Z=Z(R,T));if(1!==X&&null!=X||Z)R=(u.isNumber(X)?X:X[0])||1,X=(u.isNumber(X)?X:X[1])||1,za.forEach(x(qa,R,X,Z&&Z[0]||0,Z&&Z[1]||0))}function x(za,qa,R,T,X){function Z($a){$a.forEach(oa)}function oa($a){Na&&$a.reverse();$a.forEach(na)}function na($a){$a[0]=($a[0]-Aa)*qa+T;$a[1]=($a[1]-ka)*R+X}const Aa=za.x1||0,ka=za.y1||0,Na=0>qa*R;return function($a){$a.coordinates.forEach(Z);return $a}}function z(za,qa,R){za=0<=za?za:L.bandwidthNRD(qa,R);return Math.round((Math.sqrt(4*
za*za+1)-1)/2)}function B(za){return u.isFunction(za)?za:u.constant(+za)}function M(){function za(Aa,ka){const Na=z(X[0],Aa,qa)>>na,$a=z(X[1],Aa,R)>>na,Wa=Na?Na+2:0,Ca=$a?$a+2:0,Da=2*Wa+(Z>>na),ma=2*Ca+(oa>>na),Ea=new Float32Array(Da*ma),Qa=new Float32Array(Da*ma);let eb=Ea;Aa.forEach(yb=>{const Qb=Wa+(+qa(yb)>>na),fc=Ca+(+R(yb)>>na);0<=Qb&&Qb<Da&&0<=fc&&fc<ma&&(Ea[Qb+fc*Da]+=+T(yb))});0<Na&&0<$a?(K(Da,ma,Ea,Qa,Na),D(Da,ma,Qa,Ea,$a),K(Da,ma,Ea,Qa,Na),D(Da,ma,Qa,Ea,$a),K(Da,ma,Ea,Qa,Na),D(Da,ma,Qa,
Ea,$a)):0<Na?(K(Da,ma,Ea,Qa,Na),K(Da,ma,Qa,Ea,Na),K(Da,ma,Ea,Qa,Na),eb=Qa):0<$a&&(D(Da,ma,Ea,Qa,$a),D(Da,ma,Qa,Ea,$a),D(Da,ma,Ea,Qa,$a),eb=Qa);Aa=ka?Math.pow(2,-2*na):1/G.sum(eb);for(let yb=0,Qb=Da*ma;yb<Qb;++yb)eb[yb]*=Aa;return{values:eb,scale:1<<na,width:Da,height:ma,x1:Wa,y1:Ca,x2:Wa+(Z>>na),y2:Ca+(oa>>na)}}var qa=Aa=>Aa[0],R=Aa=>Aa[1],T=u.one,X=[-1,-1],Z=960,oa=500,na=2;za.x=function(Aa){return arguments.length?(qa=B(Aa),za):qa};za.y=function(Aa){return arguments.length?(R=B(Aa),za):R};za.weight=
function(Aa){return arguments.length?(T=B(Aa),za):T};za.size=function(Aa){if(!arguments.length)return[Z,oa];var ka=+Aa[0],Na=+Aa[1];0<=ka&&0<=Na||u.error("invalid size");return Z=ka,oa=Na,za};za.cellSize=function(Aa){if(!arguments.length)return 1<<na;1<=(Aa=+Aa)||u.error("invalid cell size");na=Math.floor(Math.log(Aa)/Math.LN2);return za};za.bandwidth=function(Aa){if(!arguments.length)return X;Aa=u.array(Aa);1===Aa.length&&(Aa=[+Aa[0],+Aa[0]]);2!==Aa.length&&u.error("invalid bandwidth");return X=
Aa,za};return za}function K(za,qa,R,T,X){const Z=(X<<1)+1;for(let oa=0;oa<qa;++oa)for(let na=0,Aa=0;na<za+X;++na)na<za&&(Aa+=R[na+oa*za]),na>=X&&(na>=Z&&(Aa-=R[na-Z+oa*za]),T[na-X+oa*za]=Aa/Math.min(na+1,za-1+Z-na,Z))}function D(za,qa,R,T,X){const Z=(X<<1)+1;for(let oa=0;oa<za;++oa)for(let na=0,Aa=0;na<qa+X;++na)na<qa&&(Aa+=R[oa+na*za]),na>=X&&(na>=Z&&(Aa-=R[oa+(na-Z)*za]),T[oa+(na-X)*za]=Aa/Math.min(na+1,qa-1+Z-na,Z))}function y(za){l.Transform.call(this,null,za)}function E(za,qa){Ua.forEach(R=>
null!=qa[R]?za[R](qa[R]):0);return za}function H(za,qa){var R=[],T=Na=>Na(na),X;if(null==qa)R.push(za);else{var Z={};var oa=0;for(X=za.length;oa<X;++oa){var na=za[oa];var Aa=qa.map(T);var ka=Z[Aa];ka||(Z[Aa]=ka=[],ka.dims=Aa,R.push(ka));ka.push(na)}}return R}function Q(za){l.Transform.call(this,null,za)}function S(za){l.Transform.call(this,null,za)}function ea(za){l.Transform.call(this,null,za)}function ba(za,qa){const R=za.pointRadius();za.context(null);null!=qa&&za.pointRadius(qa);return R}function fa(za){l.Transform.call(this,
null,za)}function ia(za){l.Transform.call(this,null,za)}function ca(za,qa,R){const T=null==R?X=>za(qa(X)):X=>{var Z=za.pointRadius();X=za.pointRadius(R)(qa(X));za.pointRadius(Z);return X};T.context=X=>{za.context(X);return T};return T}function N(za){l.Transform.call(this,[],za);this.generator=v.geoGraticule()}function C(za){l.Transform.call(this,null,za)}function W(za,qa){let R;u.isFunction(za)?(R=T=>t.rgb(za(T,qa)),R.dep=Y(za)):R=u.constant(t.rgb(za||"#888"));return R}function ha(za,qa){let R;u.isFunction(za)?
(R=T=>za(T,qa),R.dep=Y(za)):za?R=u.constant(za):(R=T=>T.$value/T.$max||0,R.dep=!0);return R}function Y(za){if(!u.isFunction(za))return!1;za=u.toSet(u.accessorFields(za));return za.$x||za.$y||za.$value||za.$max}function wa(za,qa,R,T){const X=za.width;var Z=za.height;const oa=za.x1||0,na=za.y1||0,Aa=za.x2||X;Z=za.y2||Z;const ka=za.values;za=ka?Da=>ka[Da]:u.zero;const Na=k.canvas(Aa-oa,Z-na),$a=Na.getContext("2d"),Wa=$a.getImageData(0,0,Aa-oa,Z-na),Ca=Wa.data;for(let Da=na,ma=0;Da<Z;++Da){qa.$y=Da-na;
for(let Ea=oa,Qa=Da*X;Ea<Aa;++Ea,ma+=4){qa.$x=Ea-oa;qa.$value=za(Ea+Qa);const eb=R(qa);Ca[ma+0]=eb.r;Ca[ma+1]=eb.g;Ca[ma+2]=eb.b;Ca[ma+3]=~~(255*T(qa))}}$a.putImageData(Wa,0,0);return Na}function xa(za){l.Transform.call(this,null,za);this.modified(!0)}function Ha(za,qa){const R=gb(qa.fit);qa.extent?za.fitExtent(qa.extent,R):qa.size?za.fitSize(qa.size,R):0}function Za(za){const qa=w.projection((za||"mercator").toLowerCase());qa||u.error("Unrecognized projection type: "+za);return qa()}function gb(za){za=
u.array(za);return 1===za.length?za[0]:{type:"FeatureCollection",features:za.reduce((qa,R)=>qa.concat(ra(R)),[])}}function ra(za){return"FeatureCollection"===za.type?za.features:u.array(za).filter(qa=>null!=qa).map(qa=>"Feature"===qa.type?qa:{type:"Feature",geometry:qa})}const Pa=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,
1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];a.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"zero",type:"boolean","default":!0},{name:"smooth",type:"boolean","default":!0},{name:"scale",type:"number",expr:!0},
{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string","null":!0,"default":"contour"}]};u.inherits(a,l.Transform,{transform(za,qa){if(this.value&&!qa.changed()&&!za.modified())return qa.StopPropagation;var R=qa.fork(qa.NO_SOURCE|qa.NO_FIELDS);qa=qa.materialize(qa.SOURCE).source;var T=za.field||u.identity,X=d().smooth(!1!==za.smooth),Z=za.thresholds||e(qa,T,za),oa=null===za.as?null:za.as||"contour",na=[];qa.forEach(Aa=>{const ka=T(Aa),Na=X.size([ka.width,ka.height])(ka.values,u.isArray(Z)?
Z:Z(ka.values));n(Na,ka,Aa,za);Na.forEach($a=>{na.push(l.rederive(Aa,l.ingest(null!=oa?{[oa]:$a}:$a)))})});this.value&&(R.rem=this.value);this.value=R.source=R.add=na;return R}});y.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,
length:2},{name:"counts",type:"boolean","default":!1},{name:"as",type:"string","default":"grid"}]};const Ua="x y weight size cellSize bandwidth".split(" ");u.inherits(y,l.Transform,{transform(za,qa){function R(Aa,ka){for(let Na=0;Na<X.length;++Na)Aa[X[Na]]=ka[Na];return Aa}if(this.value&&!qa.changed()&&!za.modified())return qa.StopPropagation;var T=qa.fork(qa.NO_SOURCE|qa.NO_FIELDS);qa=qa.materialize(qa.SOURCE).source;qa=H(qa,za.groupby);var X=(za.groupby||[]).map(u.accessorName),Z=E(M(),za),oa=za.as||
"grid",na=[];na=qa.map(Aa=>l.ingest(R({[oa]:Z(Aa,za.counts)},Aa.dims)));this.value&&(T.rem=this.value);this.value=T.source=T.add=na;return T}});Q.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",
"default":!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean","default":!0}]};u.inherits(Q,l.Transform,{transform(za,qa){if(this.value&&!qa.changed()&&!za.modified())return qa.StopPropagation;var R=qa.fork(qa.NO_SOURCE|qa.NO_FIELDS),T=d().smooth(!1!==za.smooth),X=za.values,Z=za.thresholds||f(za.count||10,za.nice,!!X),oa=za.size;if(!X){X=qa.materialize(qa.SOURCE).source;za=E(M(),za)(X,!0);var na=x(za,za.scale||1,za.scale||1,0,0);oa=[za.width,za.height];X=za.values}Z=u.isArray(Z)?
Z:Z(X);X=T.size(oa)(X,Z);na&&X.forEach(na);this.value&&(R.rem=this.value);this.value=R.source=R.add=(X||[]).map(l.ingest);return R}});S.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};u.inherits(S,l.Transform,{transform(za,qa){var R=this._features,T=this._points,X=za.fields,Z=X&&X[0],oa=X&&X[1],na=za.geojson||!X&&u.identity;X=qa.ADD;za=za.modified()||qa.changed(qa.REM)||qa.modified(u.accessorFields(na))||Z&&qa.modified(u.accessorFields(Z))||
oa&&qa.modified(u.accessorFields(oa));if(!this.value||za)X=qa.SOURCE,this._features=R=[],this._points=T=[];na&&qa.visit(X,Aa=>R.push(na(Aa)));Z&&oa&&(qa.visit(X,Aa=>{var ka=Z(Aa);Aa=oa(Aa);null!=ka&&null!=Aa&&(ka=+ka)===ka&&(Aa=+Aa)===Aa&&T.push([ka,Aa])}),R=R.concat({type:"Feature",geometry:{type:"MultiPoint",coordinates:T}}));this.value={type:"FeatureCollection",features:R}}});ea.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},
{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"path"}]};u.inherits(ea,l.Transform,{transform(za,qa){var R=qa.fork(qa.ALL),T=this.value,X=za.field||u.identity,Z=za.as||"path",oa=R.SOURCE;!T||za.modified()?(this.value=T=w.getProjectionPath(za.projection),R.materialize().reflow()):oa=X===u.identity||qa.modified(X.fields)?R.ADD_MOD:R.ADD;za=ba(T,za.pointRadius);R.visit(oa,na=>na[Z]=T(X(na)));T.pointRadius(za);return R.modifies(Z)}});fa.Definition={type:"GeoPoint",metadata:{modifies:!0},
params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,"default":["x","y"]}]};u.inherits(fa,l.Transform,{transform(za,qa){function R(ka){const Na=T([X(ka),Z(ka)]);Na?(ka[na]=Na[0],ka[Aa]=Na[1]):(ka[na]=void 0,ka[Aa]=void 0)}var T=za.projection,X=za.fields[0],Z=za.fields[1],oa=za.as||["x","y"],na=oa[0],Aa=oa[1];za.modified()?qa=qa.materialize().reflow(!0).visit(qa.SOURCE,R):(za=qa.modified(X.fields)||
qa.modified(Z.fields),qa.visit(za?qa.ADD_MOD:qa.ADD,R));return qa.modifies(oa)}});ia.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field","default":"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"shape"}]};u.inherits(ia,l.Transform,{transform(za,qa){qa=qa.fork(qa.ALL);var R=this.value,T=za.as||"shape",X=qa.ADD;if(!R||za.modified())this.value=R=ca(w.getProjectionPath(za.projection),
za.field||u.field("datum"),za.pointRadius),qa.materialize().reflow(),X=qa.SOURCE;qa.visit(X,Z=>Z[T]=R);return qa.modifies(T)}});N.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",
array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,"default":[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,"default":[10,10]},{name:"precision",type:"number","default":2.5}]};u.inherits(N,l.Transform,{transform(za,qa){var R=this.value,T=this.generator;if(!R.length||za.modified())for(const X in za)if(u.isFunction(T[X]))T[X](za[X]);za=T();R.length?qa.mod.push(l.replace(R[0],za)):qa.add.push(l.ingest(za));R[0]=za;return qa}});C.Definition={type:"heatmap",metadata:{modifies:!0},
params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"as",type:"string","default":"image"}]};u.inherits(C,l.Transform,{transform(za,qa){if(!qa.changed()&&!za.modified())return qa.StopPropagation;var R=qa.materialize(qa.SOURCE).source,T="shared"===za.resolve,X=za.field||u.identity,Z=ha(za.opacity,za),oa=W(za.color,za),na=za.as||"image",Aa={$x:0,$y:0,
$value:0,$max:T?G.max(R.map(ka=>G.max(X(ka).values))):0};R.forEach(ka=>{const Na=X(ka),$a=u.extend({},ka,Aa);T||($a.$max=G.max(Na.values||[]));ka[na]=wa(Na,$a,oa.dep?oa:u.constant(oa($a)),Z.dep?Z:u.constant(Z($a)))});return qa.reflow(!0).modifies(na)}});u.inherits(xa,l.Transform,{transform(za,qa){let R=this.value;!R||za.modified("type")?(this.value=R=Za(za.type),w.projectionProperties.forEach(T=>{if(null!=za[T]){var X=R,Z=za[T];if(u.isFunction(X[T]))X[T](Z)}})):w.projectionProperties.forEach(T=>{if(za.modified(T)){var X=
R,Z=za[T];if(u.isFunction(X[T]))X[T](Z)}});null!=za.pointRadius&&R.path.pointRadius(za.pointRadius);za.fit&&Ha(R,za);return qa.fork(qa.NO_SOURCE|qa.NO_FIELDS)}});m.contour=Q;m.geojson=S;m.geopath=ea;m.geopoint=fa;m.geoshape=ia;m.graticule=N;m.heatmap=C;m.isocontour=a;m.kde2d=y;m.projection=xa;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[45]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J):"function"===typeof define&&define.amd?define(["exports"],l):(m=m||self,l(m.d3=m.d3||{}))})(this,function(m){function l(g,d,f,a){if(isNaN(d)||isNaN(f))return g;var e,n=g._root;a={data:a};var x=g._x0,z=g._y0,B=g._x1,M=g._y1,K,D,y,E;if(!n)return g._root=a,g;for(;n.length;)if((y=d>=(K=(x+B)/2))?x=K:B=K,(E=f>=(D=(z+M)/2))?z=D:M=D,e=n,!(n=n[y|=E<<1]))return e[y]=a,g;var H=+g._x.call(null,n.data);var Q=
+g._y.call(null,n.data);if(d===H&&f===Q)return a.next=n,e?e[y]=a:g._root=a,g;do e=e?e[y]=Array(4):g._root=Array(4),(y=d>=(K=(x+B)/2))?x=K:B=K,(E=f>=(D=(z+M)/2))?z=D:M=D;while((y|=E<<1)===(E=(Q>=D)<<1|H>=K));return e[E]=n,e[y]=a,g}function u(g,d,f,a,e){this.node=g;this.x0=d;this.y0=f;this.x1=a;this.y1=e}function G(g){return g[0]}function L(g){return g[1]}function w(g,d,f){d=new v(null==d?G:d,null==f?L:f,NaN,NaN,NaN,NaN);return null==g?d:d.addAll(g)}function v(g,d,f,a,e,n){this._x=g;this._y=d;this._x0=
f;this._y0=a;this._x1=e;this._y1=n;this._root=void 0}function t(g){for(var d={data:g.data},f=d;g=g.next;)f=f.next={data:g.data};return d}var k=w.prototype=v.prototype;k.copy=function(){var g=new v(this._x,this._y,this._x0,this._y0,this._x1,this._y1),d=this._root,f,a;if(!d)return g;if(!d.length)return g._root=t(d),g;for(f=[{source:d,target:g._root=Array(4)}];d=f.pop();)for(var e=0;4>e;++e)if(a=d.source[e])a.length?f.push({source:a,target:d.target[e]=Array(4)}):d.target[e]=t(a);return g};k.add=function(g){const d=
+this._x.call(null,g),f=+this._y.call(null,g);return l(this.cover(d,f),d,f,g)};k.addAll=function(g){var d,f,a=g.length,e,n,x=Array(a),z=Array(a),B=Infinity,M=Infinity,K=-Infinity,D=-Infinity;for(f=0;f<a;++f)isNaN(e=+this._x.call(null,d=g[f]))||isNaN(n=+this._y.call(null,d))||(x[f]=e,z[f]=n,e<B&&(B=e),e>K&&(K=e),n<M&&(M=n),n>D&&(D=n));if(B>K||M>D)return this;this.cover(B,M).cover(K,D);for(f=0;f<a;++f)l(this,x[f],z[f],g[f]);return this};k.cover=function(g,d){if(isNaN(g=+g)||isNaN(d=+d))return this;
var f=this._x0,a=this._y0,e=this._x1,n=this._y1;if(isNaN(f))e=(f=Math.floor(g))+1,n=(a=Math.floor(d))+1;else{for(var x=e-f||1,z=this._root,B,M;f>g||g>=e||a>d||d>=n;)switch(M=(d<a)<<1|g<f,B=Array(4),B[M]=z,z=B,x*=2,M){case 0:e=f+x;n=a+x;break;case 1:f=e-x;n=a+x;break;case 2:e=f+x;a=n-x;break;case 3:f=e-x,a=n-x}this._root&&this._root.length&&(this._root=z)}this._x0=f;this._y0=a;this._x1=e;this._y1=n;return this};k.data=function(){var g=[];this.visit(function(d){if(!d.length){do g.push(d.data);while(d=
d.next)}});return g};k.extent=function(g){return arguments.length?this.cover(+g[0][0],+g[0][1]).cover(+g[1][0],+g[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]};k.find=function(g,d,f){var a=this._x0,e=this._y0,n,x,z,B,M=this._x1,K=this._y1,D=[],y=this._root,E;y&&D.push(new u(y,a,e,M,K));null==f?f=Infinity:(a=g-f,e=d-f,M=g+f,K=d+f,f*=f);for(;E=D.pop();)if(!(!(y=E.node)||(n=E.x0)>M||(x=E.y0)>K||(z=E.x1)<a||(B=E.y1)<e))if(y.length){E=(n+z)/2;var H=(x+B)/2;D.push(new u(y[3],
E,H,z,B),new u(y[2],n,H,E,B),new u(y[1],E,x,z,H),new u(y[0],n,x,E,H));if(y=(d>=H)<<1|g>=E)E=D[D.length-1],D[D.length-1]=D[D.length-1-y],D[D.length-1-y]=E}else if(E=g-+this._x.call(null,y.data),H=d-+this._y.call(null,y.data),E=E*E+H*H,E<f){var Q=Math.sqrt(f=E);a=g-Q;e=d-Q;M=g+Q;K=d+Q;Q=y.data}return Q};k.remove=function(g){if(isNaN(B=+this._x.call(null,g))||isNaN(M=+this._y.call(null,g)))return this;var d,f=this._root,a,e=this._x0,n=this._y0,x=this._x1,z=this._y1,B,M,K,D,y,E;if(!f)return this;if(f.length)for(;;){(y=
B>=(K=(e+x)/2))?e=K:x=K;(E=M>=(D=(n+z)/2))?n=D:z=D;if(!(d=f,f=f[y|=E<<1]))return this;if(!f.length)break;if(d[y+1&3]||d[y+2&3]||d[y+3&3]){var H=d;var Q=y}}for(;f.data!==g;)if(!(a=f,f=f.next))return this;(g=f.next)&&delete f.next;if(a)return g?a.next=g:delete a.next,this;if(!d)return this._root=g,this;g?d[y]=g:delete d[y];(f=d[0]||d[1]||d[2]||d[3])&&f===(d[3]||d[2]||d[1]||d[0])&&!f.length&&(H?H[Q]=f:this._root=f);return this};k.removeAll=function(g){for(var d=0,f=g.length;d<f;++d)this.remove(g[d]);
return this};k.root=function(){return this._root};k.size=function(){var g=0;this.visit(function(d){if(!d.length){do++g;while(d=d.next)}});return g};k.visit=function(g){var d=[],f,a=this._root,e,n,x,z;for(a&&d.push(new u(a,this._x0,this._y0,this._x1,this._y1));f=d.pop();)if(!g(a=f.node,n=f.x0,x=f.y0,z=f.x1,f=f.y1)&&a.length){var B=(n+z)/2,M=(x+f)/2;(e=a[3])&&d.push(new u(e,B,M,z,f));(e=a[2])&&d.push(new u(e,n,M,B,f));(e=a[1])&&d.push(new u(e,B,x,z,M));(e=a[0])&&d.push(new u(e,n,x,B,M))}return this};
k.visitAfter=function(g){var d=[],f=[],a;for(this._root&&d.push(new u(this._root,this._x0,this._y0,this._x1,this._y1));a=d.pop();){var e=a.node;if(e.length){var n,x=a.x0,z=a.y0,B=a.x1,M=a.y1,K=(x+B)/2,D=(z+M)/2;(n=e[0])&&d.push(new u(n,x,z,K,D));(n=e[1])&&d.push(new u(n,K,z,B,D));(n=e[2])&&d.push(new u(n,x,D,K,M));(n=e[3])&&d.push(new u(n,K,D,B,M))}f.push(a)}for(;a=f.pop();)g(a.node,a.x0,a.y0,a.x1,a.y1);return this};k.x=function(g){return arguments.length?(this._x=g,this):this._x};k.y=function(g){return arguments.length?
(this._y=g,this):this._y};m.quadtree=w;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[46]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J):"function"===typeof define&&define.amd?define(["exports"],l):(m=m||self,l(m.d3=m.d3||{}))})(this,function(m){function l(){for(var v=0,t=arguments.length,k={},g;v<t;++v){if(!(g=arguments[v]+"")||g in k||/[\s.]/.test(g))throw Error("illegal type: "+g);k[g]=[]}return new u(k)}function u(v){this._=v}function G(v,t){return v.trim().split(/^|\s+/).map(function(k){var g="",d=k.indexOf(".");0<=d&&(g=k.slice(d+
1),k=k.slice(0,d));if(k&&!t.hasOwnProperty(k))throw Error("unknown type: "+k);return{type:k,name:g}})}function L(v,t,k){for(var g=0,d=v.length;g<d;++g)if(v[g].name===t){v[g]=w;v=v.slice(0,g).concat(v.slice(g+1));break}null!=k&&v.push({name:t,value:k});return v}var w={value:()=>{}};u.prototype=l.prototype={constructor:u,on:function(v,t){var k=this._,g=G(v+"",k),d,f=-1,a=g.length;if(2>arguments.length)for(;++f<a;){var e;if(e=d=(v=g[f]).type){a:{e=k[d];for(var n=0,x=e.length;n<x;++n)if((d=e[n]).name===
v.name){d=d.value;break a}d=void 0}e=d}if(e)return d}else{if(null!=t&&"function"!==typeof t)throw Error("invalid callback: "+t);for(;++f<a;)if(d=(v=g[f]).type)k[d]=L(k[d],v.name,t);else if(null==t)for(d in k)k[d]=L(k[d],v.name,null);return this}},copy:function(){var v={},t=this._,k;for(k in t)v[k]=t[k].slice();return new u(v)},call:function(v,t){if(0<(d=arguments.length-2))for(var k=Array(d),g=0,d,f;g<d;++g)k[g]=arguments[g+2];if(!this._.hasOwnProperty(v))throw Error("unknown type: "+v);f=this._[v];
g=0;for(d=f.length;g<d;++g)f[g].value.apply(t,k)},apply:function(v,t,k){if(!this._.hasOwnProperty(v))throw Error("unknown type: "+v);v=this._[v];for(var g=0,d=v.length;g<d;++g)v[g].value.apply(t,k)}};m.dispatch=l;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[47]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J):"function"===typeof define&&define.amd?define(["exports"],l):(m=m||self,l(m.d3=m.d3||{}))})(this,function(m){function l(){return x||(M(u),x=B.now()+z)}function u(){x=0}function G(){this._call=this._time=this._next=null}function L(K,D,y){var E=new G;E.restart(K,D,y);return E}function w(){l();++g;for(var K=a,D;K;)0<=(D=x-K._time)&&K._call.call(null,D),K=K._next;--g}function v(){x=(n=B.now())+z;g=
d=0;try{w()}finally{g=0;for(var K,D=a,y,E=Infinity;D;)D._call?(E>D._time&&(E=D._time),K=D,D=D._next):(y=D._next,D._next=null,D=K?K._next=y:a=y);e=K;k(E);x=0}}function t(){var K=B.now(),D=K-n;1E3<D&&(z-=D,n=K)}function k(K){g||(d&&(d=clearTimeout(d)),24<K-x?(Infinity>K&&(d=setTimeout(v,K-B.now()-z)),f&&(f=clearInterval(f))):(f||(n=B.now(),f=setInterval(t,1E3)),g=1,M(v)))}var g=0,d=0,f=0,a,e,n=0,x=0,z=0,B="object"===typeof performance&&performance.now?performance:Date,M="object"===typeof window&&window.requestAnimationFrame?
window.requestAnimationFrame.bind(window):function(K){setTimeout(K,17)};G.prototype=L.prototype={constructor:G,restart:function(K,D,y){if("function"!==typeof K)throw new TypeError("callback is not a function");y=(null==y?l():+y)+(null==D?0:+D);this._next||e===this||(e?e._next=this:a=this,e=this);this._call=K;this._time=y;k()},stop:function(){this._call&&(this._call=null,this._time=Infinity,k())}};m.interval=function(K,D,y){var E=new G,H=D;if(null==D)return E.restart(K,D,y),E;E._restart=E.restart;
E.restart=function(Q,S,ea){S=+S;ea=null==ea?l():+ea;E._restart(function ia(fa){fa+=H;E._restart(ia,H+=S,ea);Q(fa)},S,ea)};E.restart(K,D,y);return E};m.now=l;m.timeout=function(K,D,y){var E=new G;D=null==D?0:+D;E.restart(H=>{E.stop();K(H+D)},D,y);return E};m.timer=L;m.timerFlush=w;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[48]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J,A(45),A(46),A(47)):"function"===typeof define&&define.amd?define(["exports","d3-quadtree","d3-dispatch","d3-timer"],l):(m=m||self,l(m.d3=m.d3||{},m.d3,m.d3,m.d3))})(this,function(m,l,u,G){function L(e){return function(){return e}}function w(e){return e.x+e.vx}function v(e){return e.y+e.vy}function t(e){return e.index}function k(e,n){e=e.get(n);if(!e)throw Error("node not found: "+n);return e}function g(){let e=
1;return()=>(e=(1664525*e+1013904223)%4294967296)/4294967296}function d(e){return e.x}function f(e){return e.y}var a=Math.PI*(3-Math.sqrt(5));m.forceCenter=function(e,n){function x(){var M,K=z.length,D=0,y=0;for(M=0;M<K;++M){var E=z[M];D+=E.x;y+=E.y}D=(D/K-e)*B;y=(y/K-n)*B;for(M=0;M<K;++M)E=z[M],E.x-=D,E.y-=y}var z,B=1;null==e&&(e=0);null==n&&(n=0);x.initialize=function(M){z=M};x.x=function(M){return arguments.length?(e=+M,x):e};x.y=function(M){return arguments.length?(n=+M,x):n};x.strength=function(M){return arguments.length?
(B=+M,x):B};return x};m.forceCollide=function(e){function n(){function E(C,W,ha,Y,wa){var xa=C.data;C=C.r;var Ha=ia+C;if(xa)xa.index>ea.index&&(W=ba-xa.x-xa.vx,ha=fa-xa.y-xa.vy,Y=W*W+ha*ha,Y<Ha*Ha&&(0===W&&(W=1E-6*(K()-.5),Y+=W*W),0===ha&&(ha=1E-6*(K()-.5),Y+=ha*ha),Y=(Ha-(Y=Math.sqrt(Y)))/Y*D,ea.vx+=(W*=Y)*(Ha=(C*=C)/(ca+C)),ea.vy+=(ha*=Y)*Ha,xa.vx-=W*(Ha=1-Ha),xa.vy-=ha*Ha));else return W>ba+Ha||Y<ba-Ha||ha>fa+Ha||wa<fa-Ha}for(var H,Q=B.length,S,ea,ba,fa,ia,ca,N=0;N<y;++N)for(S=l.quadtree(B,w,v).visitAfter(x),
H=0;H<Q;++H)ea=B[H],ia=M[ea.index],ca=ia*ia,ba=ea.x+ea.vx,fa=ea.y+ea.vy,S.visit(E)}function x(E){if(E.data)return E.r=M[E.data.index];for(var H=E.r=0;4>H;++H)E[H]&&E[H].r>E.r&&(E.r=E[H].r)}function z(){if(B){var E,H=B.length;M=Array(H);for(E=0;E<H;++E){var Q=B[E];M[Q.index]=+e(Q,E,B)}}}var B,M,K,D=1,y=1;"function"!==typeof e&&(e=L(null==e?1:+e));n.initialize=function(E,H){B=E;K=H;z()};n.iterations=function(E){return arguments.length?(y=+E,n):y};n.strength=function(E){return arguments.length?(D=+E,
n):D};n.radius=function(E){return arguments.length?(e="function"===typeof E?E:L(+E),z(),n):e};return n};m.forceLink=function(e){function n(fa){for(var ia=0,ca=e.length;ia<ba;++ia)for(var N=0,C,W,ha,Y,wa;N<ca;++N)C=e[N],W=C.source,C=C.target,ha=C.x+C.vx-W.x-W.vx||1E-6*(ea()-.5),Y=C.y+C.vy-W.y-W.vy||1E-6*(ea()-.5),wa=Math.sqrt(ha*ha+Y*Y),wa=(wa-E[N])/wa*fa*D[N],ha*=wa,Y*=wa,C.vx-=ha*(wa=S[N]),C.vy-=Y*wa,W.vx+=ha*(wa=1-wa),W.vy+=Y*wa}function x(){if(H){var fa=H.length,ia=e.length,ca=new Map(H.map((C,
W)=>[M(C,W,H),C]));var N=0;for(Q=Array(fa);N<ia;++N)fa=e[N],fa.index=N,"object"!==typeof fa.source&&(fa.source=k(ca,fa.source)),"object"!==typeof fa.target&&(fa.target=k(ca,fa.target)),Q[fa.source.index]=(Q[fa.source.index]||0)+1,Q[fa.target.index]=(Q[fa.target.index]||0)+1;N=0;for(S=Array(ia);N<ia;++N)fa=e[N],S[N]=Q[fa.source.index]/(Q[fa.source.index]+Q[fa.target.index]);D=Array(ia);z();E=Array(ia);B()}}function z(){if(H)for(var fa=0,ia=e.length;fa<ia;++fa)D[fa]=+K(e[fa],fa,e)}function B(){if(H)for(var fa=
0,ia=e.length;fa<ia;++fa)E[fa]=+y(e[fa],fa,e)}var M=t,K=function(fa){return 1/Math.min(Q[fa.source.index],Q[fa.target.index])},D,y=L(30),E,H,Q,S,ea,ba=1;null==e&&(e=[]);n.initialize=function(fa,ia){H=fa;ea=ia;x()};n.links=function(fa){return arguments.length?(e=fa,x(),n):e};n.id=function(fa){return arguments.length?(M=fa,n):M};n.iterations=function(fa){return arguments.length?(ba=+fa,n):ba};n.strength=function(fa){return arguments.length?(K="function"===typeof fa?fa:L(+fa),z(),n):K};n.distance=function(fa){return arguments.length?
(y="function"===typeof fa?fa:L(+fa),B(),n):y};return n};m.forceManyBody=function(){function e(ea){var ba=B.length,fa=l.quadtree(B,d,f).visitAfter(x);D=ea;for(ea=0;ea<ba;++ea)M=B[ea],fa.visit(z)}function n(){if(B){var ea,ba=B.length;E=Array(ba);for(ea=0;ea<ba;++ea){var fa=B[ea];E[fa.index]=+y(fa,ea,B)}}}function x(ea){var ba=0,fa,ia,ca=0,N,C,W;if(ea.length){for(N=C=W=0;4>W;++W)(fa=ea[W])&&(ia=Math.abs(fa.value))&&(ba+=fa.value,ca+=ia,N+=ia*fa.x,C+=ia*fa.y);ea.x=N/ca;ea.y=C/ca}else{fa=ea;fa.x=fa.data.x;
fa.y=fa.data.y;do ba+=E[fa.data.index];while(fa=fa.next)}ea.value=ba}function z(ea,ba,fa,ia){if(!ea.value)return!0;fa=ea.x-M.x;var ca=ea.y-M.y;ba=ia-ba;ia=fa*fa+ca*ca;if(ba*ba/S<ia)return ia<Q&&(0===fa&&(fa=1E-6*(K()-.5),ia+=fa*fa),0===ca&&(ca=1E-6*(K()-.5),ia+=ca*ca),ia<H&&(ia=Math.sqrt(H*ia)),M.vx+=fa*ea.value*D/ia,M.vy+=ca*ea.value*D/ia),!0;if(!(ea.length||ia>=Q)){if(ea.data!==M||ea.next)0===fa&&(fa=1E-6*(K()-.5),ia+=fa*fa),0===ca&&(ca=1E-6*(K()-.5),ia+=ca*ca),ia<H&&(ia=Math.sqrt(H*ia));do ea.data!==
M&&(ba=E[ea.data.index]*D/ia,M.vx+=fa*ba,M.vy+=ca*ba);while(ea=ea.next)}}var B,M,K,D,y=L(-30),E,H=1,Q=Infinity,S=.81;e.initialize=function(ea,ba){B=ea;K=ba;n()};e.strength=function(ea){return arguments.length?(y="function"===typeof ea?ea:L(+ea),n(),e):y};e.distanceMin=function(ea){return arguments.length?(H=ea*ea,e):Math.sqrt(H)};e.distanceMax=function(ea){return arguments.length?(Q=ea*ea,e):Math.sqrt(Q)};e.theta=function(ea){return arguments.length?(S=ea*ea,e):Math.sqrt(S)};return e};m.forceRadial=
function(e,n,x){function z(E){for(var H=0,Q=M.length;H<Q;++H){var S=M[H],ea=S.x-n||1E-6,ba=S.y-x||1E-6,fa=Math.sqrt(ea*ea+ba*ba);fa=(y[H]-fa)*D[H]*E/fa;S.vx+=ea*fa;S.vy+=ba*fa}}function B(){if(M){var E,H=M.length;D=Array(H);y=Array(H);for(E=0;E<H;++E)y[E]=+e(M[E],E,M),D[E]=isNaN(y[E])?0:+K(M[E],E,M)}}var M,K=L(.1),D,y;"function"!==typeof e&&(e=L(+e));null==n&&(n=0);null==x&&(x=0);z.initialize=function(E){M=E;B()};z.strength=function(E){return arguments.length?(K="function"===typeof E?E:L(+E),B(),
z):K};z.radius=function(E){return arguments.length?(e="function"===typeof E?E:L(+E),B(),z):e};z.x=function(E){return arguments.length?(n=+E,z):n};z.y=function(E){return arguments.length?(x=+E,z):x};return z};m.forceSimulation=function(e){function n(){x();ea.call("tick",M);K<D&&(S.stop(),ea.call("end",M))}function x(fa){var ia,ca=e.length;void 0===fa&&(fa=1);for(var N=0;N<fa;++N)for(K+=(E-K)*y,Q.forEach(function(W){W(K)}),ia=0;ia<ca;++ia){var C=e[ia];null==C.fx?C.x+=C.vx*=H:(C.x=C.fx,C.vx=0);null==
C.fy?C.y+=C.vy*=H:(C.y=C.fy,C.vy=0)}return M}function z(){for(var fa=0,ia=e.length,ca;fa<ia;++fa){ca=e[fa];ca.index=fa;null!=ca.fx&&(ca.x=ca.fx);null!=ca.fy&&(ca.y=ca.fy);if(isNaN(ca.x)||isNaN(ca.y)){var N=10*Math.sqrt(.5+fa),C=fa*a;ca.x=N*Math.cos(C);ca.y=N*Math.sin(C)}if(isNaN(ca.vx)||isNaN(ca.vy))ca.vx=ca.vy=0}}function B(fa){fa.initialize&&fa.initialize(e,ba);return fa}var M,K=1,D=.001,y=1-Math.pow(D,1/300),E=0,H=.6,Q=new Map,S=G.timer(n),ea=u.dispatch("tick","end"),ba=g();null==e&&(e=[]);z();
return M={tick:x,restart:function(){return S.restart(n),M},stop:function(){return S.stop(),M},nodes:function(fa){return arguments.length?(e=fa,z(),Q.forEach(B),M):e},alpha:function(fa){return arguments.length?(K=+fa,M):K},alphaMin:function(fa){return arguments.length?(D=+fa,M):D},alphaDecay:function(fa){return arguments.length?(y=+fa,M):+y},alphaTarget:function(fa){return arguments.length?(E=+fa,M):E},velocityDecay:function(fa){return arguments.length?(H=1-fa,M):1-H},randomSource:function(fa){return arguments.length?
(ba=fa,Q.forEach(B),M):ba},force:function(fa,ia){return 1<arguments.length?(null==ia?Q.delete(fa):Q.set(fa,B(ia)),M):Q.get(fa)},find:function(fa,ia,ca){var N,C=e.length;ca=null==ca?Infinity:ca*ca;for(N=0;N<C;++N){var W=e[N];var ha=fa-W.x;var Y=ia-W.y;ha=ha*ha+Y*Y;if(ha<ca){var wa=W;ca=ha}}return wa},on:function(fa,ia){return 1<arguments.length?(ea.on(fa,ia),M):ea.on(fa)}}};m.forceX=function(e){function n(D){for(var y=0,E=B.length,H;y<E;++y)H=B[y],H.vx+=(K[y]-H.x)*M[y]*D}function x(){if(B){var D,y=
B.length;M=Array(y);K=Array(y);for(D=0;D<y;++D)M[D]=isNaN(K[D]=+e(B[D],D,B))?0:+z(B[D],D,B)}}var z=L(.1),B,M,K;"function"!==typeof e&&(e=L(null==e?0:+e));n.initialize=function(D){B=D;x()};n.strength=function(D){return arguments.length?(z="function"===typeof D?D:L(+D),x(),n):z};n.x=function(D){return arguments.length?(e="function"===typeof D?D:L(+D),x(),n):e};return n};m.forceY=function(e){function n(D){for(var y=0,E=B.length,H;y<E;++y)H=B[y],H.vy+=(K[y]-H.y)*M[y]*D}function x(){if(B){var D,y=B.length;
M=Array(y);K=Array(y);for(D=0;D<y;++D)M[D]=isNaN(K[D]=+e(B[D],D,B))?0:+z(B[D],D,B)}}var z=L(.1),B,M,K;"function"!==typeof e&&(e=L(null==e?0:+e));n.initialize=function(D){B=D;x()};n.strength=function(D){return arguments.length?(z="function"===typeof D?D:L(+D),x(),n):z};n.y=function(D){return arguments.length?(e="function"===typeof D?D:L(+D),x(),n):e};return n};Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[49]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J,A(28),A(16),A(48)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-force"],l):(m="undefined"!==typeof globalThis?globalThis:m||self,l((m.vega=m.vega||{},m.vega.transforms={}),m.vega,m.vega,m.d3))})(this,function(m,l,u,G){function L(e){l.Transform.call(this,null,e)}function w(e,n){return()=>e.touch(n).run()}function v(e,n){e=G.forceSimulation(e);const x=e.stop,
z=e.restart;let B=!1;e.stopped=()=>B;e.restart=()=>(B=!1,z());e.stop=()=>(B=!0,x());return t(e,n,!0).on("end",()=>B=!0)}function t(e,n,x,z){var B=u.array(n.forces),M;var K=0;for(M=d.length;K<M;++K){var D=d[K];if("forces"!==D&&n.modified(D))e[D](n[D])}K=0;for(M=B.length;K<M;++K){var y="forces"+K;if(x||n.modified("forces",K)){D=void 0;var E=B[K];u.hasOwnProperty(g,E.force)||u.error("Unrecognized force: "+E.force);var H=g[E.force]();for(D in E)u.isFunction(H[D])&&k(H[D],E[D],E);D=H}else{if(D=z)a:{H=
D=void 0;E=B[K];var Q=z;for(H in E)if(u.isFunction(D=E[H])&&Q.modified(u.accessorFields(D))){D=1;break a}D=0}D=D?e.force(y):null}D&&e.force(y,D)}for(M=e.numForces||0;K<M;++K)e.force("forces"+K,null);e.numForces=B.length;return e}function k(e,n,x){e(u.isFunction(n)?z=>n(z,x):n)}const g={center:G.forceCenter,collide:G.forceCollide,nbody:G.forceManyBody,link:G.forceLink,x:G.forceX,y:G.forceY},d=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],f=["static","iterations"],a=["x","y","vx","vy"];
L.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean","default":!1},{name:"restart",type:"boolean","default":!1},{name:"iterations",type:"number","default":300},{name:"alpha",type:"number","default":1},{name:"alphaMin",type:"number","default":.001},{name:"alphaTarget",type:"number","default":0},{name:"velocityDecay",type:"number","default":.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number","default":0},{name:"y",
type:"number","default":0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number","default":.7},{name:"iterations",type:"number","default":1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number","default":-30},{name:"theta",type:"number","default":.9},{name:"distanceMin",type:"number","default":1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",
"default":30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number","default":1}]},{key:{force:"x"},params:[{name:"strength",type:"number","default":.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number","default":.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,"default":a}]};u.inherits(L,l.Transform,{transform(e,n){var x=this.value,z=n.changed(n.ADD_REM),B=e.modified(d),M=e.iterations||300;x?(z&&(n.modifies("index"),
x.nodes(n.source)),(B||n.changed(n.MOD))&&t(x,e,0,n)):(this.value=x=v(n.source,e),x.on("tick",w(n.dataflow,this)),e.static||(z=!0,x.tick()),n.modifies("index"));if(B||z||e.modified(f)||n.changed()&&e.restart)if(x.alpha(Math.max(x.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(x.alphaMin(),1/M)),e.static)for(x.stop();0<=--M;)x.tick();else if(x.stopped()&&x.restart(),!z)return n.StopPropagation;return this.finish(e,n)},finish(e,n){const x=n.dataflow;for(let D=this._argops,y=0,E=D.length,H;y<E;++y)if(H=
D[y],"forces"===H.name&&"link"===H.op._argval.force)for(var z=H.op._argops,B=0,M=z.length,K;B<M;++B)if("links"===z[B].name&&(K=z[B].op.source)){x.pulse(K,x.changeset().reflow());break}return n.reflow(e.modified()).modifies(a)}});m.force=L;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[50]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J):"function"===typeof define&&define.amd?define(["exports"],l):(m=m||self,l(m.d3=m.d3||{}))})(this,function(m){function l(R,T){return R.parent===T.parent?1:2}function u(R,T){return R+T.x}function G(R,T){return Math.max(R,T.y)}function L(R){for(var T;T=R.children;)R=T[0];return R}function w(R){for(var T;T=R.children;)R=T[T.length-1];return R}function v(R){var T=0,X=R.children,Z=X&&X.length;if(Z)for(;0<=
--Z;)T+=X[Z].value;else T=1;R.value=T}function t(R,T){R instanceof Map?(R=[void 0,R],void 0===T&&(T=g)):void 0===T&&(T=k);R=new a(R);for(var X,Z=[R],oa,na,Aa,ka;X=Z.pop();)if((na=T(X.data))&&(ka=(na=Array.from(na)).length))for(X.children=na,Aa=ka-1;0<=Aa;--Aa)Z.push(oa=na[Aa]=new a(na[Aa])),oa.parent=X,oa.depth=X.depth+1;return R.eachBefore(f)}function k(R){return R.children}function g(R){return Array.isArray(R)?R[1]:null}function d(R){void 0!==R.data.value&&(R.value=R.data.value);R.data=R.data.data}
function f(R){var T=0;do R.height=T;while((R=R.parent)&&R.height<++T)}function a(R){this.data=R;this.depth=this.height=0;this.parent=null}function e(R){var T=0;R=Array.from(R);for(var X=R.length,Z,oa;X;)oa=Math.random()*X--|0,Z=R[X],R[X]=R[oa],R[oa]=Z;X=R.length;Z=[];for(var na;T<X;)if(oa=R[T],na&&x(na,oa))++T;else{a:if(T=Z,z(oa,T))T=[oa];else{for(Z=0;Z<T.length;++Z)if(n(oa,T[Z])&&z(B(T[Z],oa),T)){T=[T[Z],oa];break a}for(Z=0;Z<T.length-1;++Z)for(na=Z+1;na<T.length;++na)if(n(B(T[Z],T[na]),oa)&&n(B(T[Z],
oa),T[na])&&n(B(T[na],oa),T[Z])&&z(M(T[Z],T[na],oa),T)){T=[T[Z],T[na],oa];break a}throw Error();}a:{T=Z=T;switch(T.length){case 1:T=T[0];T={x:T.x,y:T.y,r:T.r};break a;case 2:T=B(T[0],T[1]);break a;case 3:T=M(T[0],T[1],T[2]);break a}T=void 0}na=T;T=0}return na}function n(R,T){var X=R.r-T.r,Z=T.x-R.x;R=T.y-R.y;return 0>X||X*X<Z*Z+R*R}function x(R,T){var X=R.r-T.r+1E-9*Math.max(R.r,T.r,1),Z=T.x-R.x;R=T.y-R.y;return 0<X&&X*X>Z*Z+R*R}function z(R,T){for(var X=0;X<T.length;++X)if(!x(R,T[X]))return!1;return!0}
function B(R,T){var X=R.x,Z=R.y;R=R.r;var oa=T.x,na=T.y;T=T.r;var Aa=oa-X,ka=na-Z,Na=T-R,$a=Math.sqrt(Aa*Aa+ka*ka);return{x:(X+oa+Aa/$a*Na)/2,y:(Z+na+ka/$a*Na)/2,r:($a+R+T)/2}}function M(R,T,X){var Z=R.x,oa=R.y;R=R.r;var na=T.x,Aa=T.y,ka=T.r,Na=X.x,$a=X.y,Wa=X.r;X=Z-na;T=Z-Na;var Ca=oa-Aa,Da=oa-$a,ma=ka-R,Ea=Wa-R,Qa=Z*Z+oa*oa-R*R;Aa=Qa-na*na-Aa*Aa+ka*ka;$a=Qa-Na*Na-$a*$a+Wa*Wa;Na=T*Ca-X*Da;na=(Ca*$a-Da*Aa)/(2*Na)-Z;Ca=(Da*ma-Ca*Ea)/Na;Da=(T*Aa-X*$a)/(2*Na)-oa;X=(X*Ea-T*ma)/Na;T=Ca*Ca+X*X-1;ma=2*(R+
na*Ca+Da*X);R=na*na+Da*Da-R*R;R=-(T?(ma+Math.sqrt(ma*ma-4*T*R))/(2*T):R/ma);return{x:Z+na+Ca*R,y:oa+Da+X*R,r:R}}function K(R,T,X){var Z=R.x-T.x,oa=R.y-T.y,na=Z*Z+oa*oa;if(na){var Aa=T.r+X.r;Aa*=Aa;var ka=R.r+X.r;ka*=ka;if(Aa>ka){var Na=(na+ka-Aa)/(2*na);Aa=Math.sqrt(Math.max(0,ka/na-Na*Na));X.x=R.x-Na*Z-Aa*oa;X.y=R.y-Na*oa+Aa*Z}else Na=(na+Aa-ka)/(2*na),Aa=Math.sqrt(Math.max(0,Aa/na-Na*Na)),X.x=T.x+Na*Z-Aa*oa,X.y=T.y+Na*oa+Aa*Z}else X.x=T.x+X.r,X.y=T.y}function D(R,T){var X=R.r+T.r-1E-6,Z=T.x-R.x;
R=T.y-R.y;return 0<X&&X*X>Z*Z+R*R}function y(R){var T=R._,X=R.next._,Z=T.r+X.r;R=(T.x*X.r+X.x*T.r)/Z;T=(T.y*X.r+X.y*T.r)/Z;return R*R+T*T}function E(R){this._=R;this.previous=this.next=null}function H(R){if(!(X=(R="object"===typeof R&&"length"in R?R:Array.from(R)).length))return 0;var T,X;var Z=R[0];Z.x=0;Z.y=0;if(!(1<X))return Z.r;var oa=R[1];Z.x=-oa.r;oa.x=Z.r;oa.y=0;if(!(2<X))return Z.r+oa.r;K(oa,Z,T=R[2]);Z=new E(Z);oa=new E(oa);T=new E(T);Z.next=T.previous=oa;oa.next=Z.previous=T;T.next=oa.previous=
Z;var na=3;a:for(;na<X;++na){K(Z._,oa._,T=R[na]);T=new E(T);var Aa=oa.next;var ka=Z.previous;var Na=oa._.r;var $a=Z._.r;do if(Na<=$a){if(D(Aa._,T._)){oa=Aa;Z.next=oa;oa.previous=Z;--na;continue a}Na+=Aa._.r;Aa=Aa.next}else{if(D(ka._,T._)){Z=ka;Z.next=oa;oa.previous=Z;--na;continue a}$a+=ka._.r;ka=ka.previous}while(Aa!==ka.next);T.previous=Z;T.next=oa;Z.next=oa.previous=oa=T;for(Aa=y(Z);(T=T.next)!==oa;)(ka=y(T))<Aa&&(Z=T,Aa=ka);oa=Z.next}Z=[oa._];for(T=oa;(T=T.next)!==oa;)Z.push(T._);T=e(Z);for(na=
0;na<X;++na)Z=R[na],Z.x-=T.x,Z.y-=T.y;return T.r}function Q(R){if("function"!==typeof R)throw Error();return R}function S(){return 0}function ea(R){return function(){return R}}function ba(R){return Math.sqrt(R.value)}function fa(R){return function(T){T.children||(T.r=Math.max(0,+R(T)||0))}}function ia(R,T){return function(X){if(Z=X.children){var Z,oa,na=Z.length,Aa=R(X)*T||0;if(Aa)for(oa=0;oa<na;++oa)Z[oa].r+=Aa;var ka=H(Z);if(Aa)for(oa=0;oa<na;++oa)Z[oa].r-=Aa;X.r=ka+Aa}}}function ca(R){return function(T){var X=
T.parent;T.r*=R;X&&(T.x=X.x+R*T.x,T.y=X.y+R*T.y)}}function N(R){R.x0=Math.round(R.x0);R.y0=Math.round(R.y0);R.x1=Math.round(R.x1);R.y1=Math.round(R.y1)}function C(R,T,X,Z,oa){var na=R.children,Aa=-1,ka=na.length;for(Z=R.value&&(Z-T)/R.value;++Aa<ka;)R=na[Aa],R.y0=X,R.y1=oa,R.x0=T,R.x1=T+=R.value*Z}function W(R){return R.id}function ha(R){return R.parentId}function Y(R,T){return R.parent===T.parent?1:2}function wa(R){var T=R.children;return T?T[0]:R.t}function xa(R){var T=R.children;return T?T[T.length-
1]:R.t}function Ha(R,T){this._=R;this.A=this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=null;this.i=T}function Za(R){R=new Ha(R,0);for(var T,X=[R],Z,oa,na;T=X.pop();)if(oa=T._.children)for(T.children=Array(Z=oa.length),na=Z-1;0<=na;--na)X.push(Z=T.children[na]=new Ha(oa[na],na)),Z.parent=T;(R.parent=new Ha(null,0)).children=[R];return R}function gb(R,T,X,Z,oa){var na=R.children,Aa=-1,ka=na.length;for(oa=R.value&&(oa-X)/R.value;++Aa<ka;)R=na[Aa],R.x0=T,R.x1=Z,R.y0=X,
R.y1=X+=R.value*oa}function ra(R,T,X,Z,oa,na){for(var Aa=[],ka=T.children,Na,$a,Wa=Na=0,Ca=ka.length,Da,ma=T.value,Ea,Qa,eb,yb,Qb,fc;Na<Ca;){T=oa-X;Da=na-Z;do Ea=ka[Wa++].value;while(!Ea&&Wa<Ca);Qa=eb=Ea;fc=Math.max(Da/T,T/Da)/(ma*R);yb=Ea*Ea*fc;for(Qb=Math.max(eb/yb,yb/Qa);Wa<Ca;++Wa){Ea+=$a=ka[Wa].value;$a<Qa&&(Qa=$a);$a>eb&&(eb=$a);yb=Ea*Ea*fc;yb=Math.max(eb/yb,yb/Qa);if(yb>Qb){Ea-=$a;break}Qb=yb}Aa.push(Na={value:Ea,dice:T<Da,children:ka.slice(Na,Wa)});Na.dice?C(Na,X,Z,oa,ma?Z+=Da*Ea/ma:na):gb(Na,
X,Z,ma?X+=T*Ea/ma:oa,na);ma-=Ea;Na=Wa}return Aa}a.prototype=t.prototype={constructor:a,count:function(){return this.eachAfter(v)},each:function(R,T){let X=-1;for(const Z of this)R.call(T,Z,++X,this);return this},eachAfter:function(R,T){for(var X,Z=[this],oa=[],na,Aa,ka=-1;X=Z.pop();)if(oa.push(X),X=X.children)for(na=0,Aa=X.length;na<Aa;++na)Z.push(X[na]);for(;X=oa.pop();)R.call(T,X,++ka,this);return this},eachBefore:function(R,T){for(var X,Z=[this],oa,na=-1;X=Z.pop();)if(R.call(T,X,++na,this),X=X.children)for(oa=
X.length-1;0<=oa;--oa)Z.push(X[oa]);return this},find:function(R,T){let X=-1;for(const Z of this)if(R.call(T,Z,++X,this))return Z},sum:function(R){return this.eachAfter(function(T){for(var X=+R(T.data)||0,Z=T.children,oa=Z&&Z.length;0<=--oa;)X+=Z[oa].value;T.value=X})},sort:function(R){return this.eachBefore(function(T){T.children&&T.children.sort(R)})},path:function(R){var T=this;var X=T;var Z=R;if(X!==Z){var oa=X.ancestors(),na=Z.ancestors(),Aa=null;X=oa.pop();for(Z=na.pop();X===Z;)Aa=X,X=oa.pop(),
Z=na.pop();X=Aa}for(Z=[T];T!==X;)T=T.parent,Z.push(T);for(T=Z.length;R!==X;)Z.splice(T,0,R),R=R.parent;return Z},ancestors:function(){for(var R=this,T=[R];R=R.parent;)T.push(R);return T},descendants:function(){return Array.from(this)},leaves:function(){var R=[];this.eachBefore(function(T){T.children||R.push(T)});return R},links:function(){var R=this,T=[];R.each(function(X){X!==R&&T.push({source:X.parent,target:X})});return T},copy:function(){return t(this).eachBefore(d)},[Symbol.iterator]:function*(){var R,
T=[this],X;do{var Z=T.reverse();for(T=[];R=Z.pop();)if(yield R,R=R.children){var oa=0;for(X=R.length;oa<X;++oa)T.push(R[oa])}}while(T.length)}};var Pa={depth:-1},Ua={};Ha.prototype=Object.create(a.prototype);var za=(1+Math.sqrt(5))/2,qa=function X(T){function Z(oa,na,Aa,ka,Na){ra(T,oa,na,Aa,ka,Na)}Z.ratio=function(oa){return X(1<(oa=+oa)?oa:1)};return Z}(za);za=function Z(X){function oa(na,Aa,ka,Na,$a){if((Wa=na._squarify)&&Wa.ratio===X)for(var Wa,Ca,Da,ma=-1,Ea,Qa=Wa.length,eb=na.value;++ma<Qa;){na=
Wa[ma];Ca=na.children;Da=na.value=0;for(Ea=Ca.length;Da<Ea;++Da)na.value+=Ca[Da].value;na.dice?C(na,Aa,ka,Na,eb?ka+=($a-ka)*na.value/eb:$a):gb(na,Aa,ka,eb?Aa+=(Na-Aa)*na.value/eb:Na,$a);eb-=na.value}else na._squarify=Wa=ra(X,na,Aa,ka,Na,$a),Wa.ratio=X}oa.ratio=function(na){return Z(1<(na=+na)?na:1)};return oa}(za);m.cluster=function(){function X(ka){var Na,$a=0;ka.eachAfter(function(Ea){var Qa=Ea.children;if(Qa){var eb=Qa.reduce(u,0)/Qa.length;Ea.x=eb;Ea.y=1+Qa.reduce(G,0)}else Ea.x=Na?$a+=Z(Ea,Na):
0,Ea.y=0,Na=Ea});var Wa=L(ka),Ca=w(ka),Da=Wa.x-Z(Wa,Ca)/2,ma=Ca.x+Z(Ca,Wa)/2;return ka.eachAfter(Aa?function(Ea){Ea.x=(Ea.x-ka.x)*oa;Ea.y=(ka.y-Ea.y)*na}:function(Ea){Ea.x=(Ea.x-Da)/(ma-Da)*oa;Ea.y=(1-(ka.y?Ea.y/ka.y:1))*na})}var Z=l,oa=1,na=1,Aa=!1;X.separation=function(ka){return arguments.length?(Z=ka,X):Z};X.size=function(ka){return arguments.length?(Aa=!1,oa=+ka[0],na=+ka[1],X):Aa?null:[oa,na]};X.nodeSize=function(ka){return arguments.length?(Aa=!0,oa=+ka[0],na=+ka[1],X):Aa?[oa,na]:null};return X};
m.hierarchy=t;m.pack=function(){function X(ka){ka.x=oa/2;ka.y=na/2;Z?ka.eachBefore(fa(Z)).eachAfter(ia(Aa,.5)).eachBefore(ca(1)):ka.eachBefore(fa(ba)).eachAfter(ia(S,1)).eachAfter(ia(Aa,ka.r/Math.min(oa,na))).eachBefore(ca(Math.min(oa,na)/(2*ka.r)));return ka}var Z=null,oa=1,na=1,Aa=S;X.radius=function(ka){return arguments.length?(Z=null==ka?null:Q(ka),X):Z};X.size=function(ka){return arguments.length?(oa=+ka[0],na=+ka[1],X):[oa,na]};X.padding=function(ka){return arguments.length?(Aa="function"===
typeof ka?ka:ea(+ka),X):Aa};return X};m.packEnclose=e;m.packSiblings=function(X){H(X);return X};m.partition=function(){function X(Na){var $a=Na.height+1;Na.x0=Na.y0=Aa;Na.x1=oa;Na.y1=na/$a;Na.eachBefore(Z(na,$a));ka&&Na.eachBefore(N);return Na}function Z(Na,$a){return function(Wa){Wa.children&&C(Wa,Wa.x0,Na*(Wa.depth+1)/$a,Wa.x1,Na*(Wa.depth+2)/$a);var Ca=Wa.x0,Da=Wa.y0,ma=Wa.x1-Aa,Ea=Wa.y1-Aa;ma<Ca&&(Ca=ma=(Ca+ma)/2);Ea<Da&&(Da=Ea=(Da+Ea)/2);Wa.x0=Ca;Wa.y0=Da;Wa.x1=ma;Wa.y1=Ea}}var oa=1,na=1,Aa=
0,ka=!1;X.round=function(Na){return arguments.length?(ka=!!Na,X):ka};X.size=function(Na){return arguments.length?(oa=+Na[0],na=+Na[1],X):[oa,na]};X.padding=function(Na){return arguments.length?(Aa=+Na,X):Aa};return X};m.stratify=function(){function X(na){var Aa=Array.from(na),ka=Aa.length,Na,$a,Wa=new Map;for(Na=0;Na<ka;++Na){var Ca=Aa[Na];var Da=Aa[Na]=new a(Ca);if(null!=($a=Z(Ca,Na,na))&&($a+="")){var ma=Da.id=$a;Wa.set(ma,Wa.has(ma)?Ua:Da)}null!=($a=oa(Ca,Na,na))&&($a+="")&&(Da.parent=$a)}for(Na=
0;Na<ka;++Na)if(Da=Aa[Na],$a=Da.parent){na=Wa.get($a);if(!na)throw Error("missing: "+$a);if(na===Ua)throw Error("ambiguous: "+$a);na.children?na.children.push(Da):na.children=[Da];Da.parent=na}else{if(Ea)throw Error("multiple roots");var Ea=Da}if(!Ea)throw Error("no root");Ea.parent=Pa;Ea.eachBefore(function(Qa){Qa.depth=Qa.parent.depth+1;--ka}).eachBefore(f);Ea.parent=null;if(0<ka)throw Error("cycle");return Ea}var Z=W,oa=ha;X.id=function(na){return arguments.length?(Z=Q(na),X):Z};X.parentId=function(na){return arguments.length?
(oa=Q(na),X):oa};return X};m.tree=function(){function X(Wa){var Ca=Za(Wa);Ca.eachAfter(Z);Ca.parent.m=-Ca.z;Ca.eachBefore(oa);if($a)Wa.eachBefore(na);else{var Da=Wa,ma=Wa,Ea=Wa;Wa.eachBefore(function(Qb){Qb.x<Da.x&&(Da=Qb);Qb.x>ma.x&&(ma=Qb);Qb.depth>Ea.depth&&(Ea=Qb)});Ca=Da===ma?1:Aa(Da,ma)/2;var Qa=Ca-Da.x,eb=ka/(ma.x+Ca+Qa),yb=Na/(Ea.depth||1);Wa.eachBefore(function(Qb){Qb.x=(Qb.x+Qa)*eb;Qb.y=Qb.depth*yb})}return Wa}function Z(Wa){var Ca=Wa.children,Da=Wa.parent.children,ma=Wa.i?Da[Wa.i-1]:null;
if(Ca){for(var Ea=0,Qa=0,eb=Wa.children,yb=eb.length,Qb;0<=--yb;)Qb=eb[yb],Qb.z+=Ea,Qb.m+=Ea,Ea+=Qb.s+(Qa+=Qb.c);Ca=(Ca[0].z+Ca[Ca.length-1].z)/2;ma?(Wa.z=ma.z+Aa(Wa._,ma._),Wa.m=Wa.z-Ca):Wa.z=Ca}else ma&&(Wa.z=ma.z+Aa(Wa._,ma._));Ca=Wa.parent;Da=Wa.parent.A||Da[0];if(ma){Qa=Ea=Wa;eb=Ea.parent.children[0];yb=Ea.m;Qb=Qa.m;for(var fc=ma.m,ad=eb.m,ic;ma=xa(ma),Ea=wa(Ea),ma&&Ea;){eb=wa(eb);Qa=xa(Qa);Qa.a=Wa;ic=ma.z+fc-Ea.z-yb+Aa(ma._,Ea._);if(0<ic){var xc=ma.a.parent===Wa.parent?ma.a:Da,ib=Wa,$b=ic,bc=
$b/(ib.i-xc.i);ib.c-=bc;ib.s+=$b;xc.c+=bc;ib.z+=$b;ib.m+=$b;yb+=ic;Qb+=ic}fc+=ma.m;yb+=Ea.m;ad+=eb.m;Qb+=Qa.m}ma&&!xa(Qa)&&(Qa.t=ma,Qa.m+=fc-Qb);Ea&&!wa(eb)&&(eb.t=Ea,eb.m+=yb-ad,Da=Wa)}Ca.A=Da}function oa(Wa){Wa._.x=Wa.z+Wa.parent.m;Wa.m+=Wa.parent.m}function na(Wa){Wa.x*=ka;Wa.y=Wa.depth*Na}var Aa=Y,ka=1,Na=1,$a=null;X.separation=function(Wa){return arguments.length?(Aa=Wa,X):Aa};X.size=function(Wa){return arguments.length?($a=!1,ka=+Wa[0],Na=+Wa[1],X):$a?null:[ka,Na]};X.nodeSize=function(Wa){return arguments.length?
($a=!0,ka=+Wa[0],Na=+Wa[1],X):$a?[ka,Na]:null};return X};m.treemap=function(){function X(Ea){Ea.x0=Ea.y0=0;Ea.x1=Aa;Ea.y1=ka;Ea.eachBefore(Z);Na=[0];na&&Ea.eachBefore(N);return Ea}function Z(Ea){var Qa=Na[Ea.depth],eb=Ea.x0+Qa,yb=Ea.y0+Qa,Qb=Ea.x1-Qa,fc=Ea.y1-Qa;Qb<eb&&(eb=Qb=(eb+Qb)/2);fc<yb&&(yb=fc=(yb+fc)/2);Ea.x0=eb;Ea.y0=yb;Ea.x1=Qb;Ea.y1=fc;Ea.children&&(Qa=Na[Ea.depth+1]=$a(Ea)/2,eb+=ma(Ea)-Qa,yb+=Wa(Ea)-Qa,Qb-=Ca(Ea)-Qa,fc-=Da(Ea)-Qa,Qb<eb&&(eb=Qb=(eb+Qb)/2),fc<yb&&(yb=fc=(yb+fc)/2),oa(Ea,
eb,yb,Qb,fc))}var oa=qa,na=!1,Aa=1,ka=1,Na=[0],$a=S,Wa=S,Ca=S,Da=S,ma=S;X.round=function(Ea){return arguments.length?(na=!!Ea,X):na};X.size=function(Ea){return arguments.length?(Aa=+Ea[0],ka=+Ea[1],X):[Aa,ka]};X.tile=function(Ea){return arguments.length?(oa=Q(Ea),X):oa};X.padding=function(Ea){return arguments.length?X.paddingInner(Ea).paddingOuter(Ea):X.paddingInner()};X.paddingInner=function(Ea){return arguments.length?($a="function"===typeof Ea?Ea:ea(+Ea),X):$a};X.paddingOuter=function(Ea){return arguments.length?
X.paddingTop(Ea).paddingRight(Ea).paddingBottom(Ea).paddingLeft(Ea):X.paddingTop()};X.paddingTop=function(Ea){return arguments.length?(Wa="function"===typeof Ea?Ea:ea(+Ea),X):Wa};X.paddingRight=function(Ea){return arguments.length?(Ca="function"===typeof Ea?Ea:ea(+Ea),X):Ca};X.paddingBottom=function(Ea){return arguments.length?(Da="function"===typeof Ea?Ea:ea(+Ea),X):Da};X.paddingLeft=function(Ea){return arguments.length?(ma="function"===typeof Ea?Ea:ea(+Ea),X):ma};return X};m.treemapBinary=function(X,
Z,oa,na,Aa){function ka(ma,Ea,Qa,eb,yb,Qb,fc){if(ma>=Ea-1)ma=Na[ma],ma.x0=eb,ma.y0=yb,ma.x1=Qb,ma.y1=fc;else{for(var ad=Da[ma],ic=Qa/2+ad,xc=ma+1,ib=Ea-1;xc<ib;){var $b=xc+ib>>>1;Da[$b]<ic?xc=$b+1:ib=$b}ic-Da[xc-1]<Da[xc]-ic&&ma+1<xc&&--xc;ad=Da[xc]-ad;ic=Qa-ad;Qb-eb>fc-yb?(Qa=Qa?(eb*ic+Qb*ad)/Qa:Qb,ka(ma,xc,ad,eb,yb,Qa,fc),ka(xc,Ea,ic,Qa,yb,Qb,fc)):(Qa=Qa?(yb*ic+fc*ad)/Qa:fc,ka(ma,xc,ad,eb,yb,Qb,Qa),ka(xc,Ea,ic,eb,Qa,Qb,fc))}}var Na=X.children,$a,Wa=Na.length,Ca,Da=Array(Wa+1);for(Da[0]=Ca=$a=0;$a<
Wa;++$a)Da[$a+1]=Ca+=Na[$a].value;ka(0,Wa,X.value,Z,oa,na,Aa)};m.treemapDice=C;m.treemapResquarify=za;m.treemapSlice=gb;m.treemapSliceDice=function(X,Z,oa,na,Aa){(X.depth&1?gb:C)(X,Z,oa,na,Aa)};m.treemapSquarify=qa;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[51]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J,A(28),A(16),A(50)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-hierarchy"],l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.vega={},m.vega,m.vega,m.d3))})(this,function(m,l,u,G){function L(D,y,E){const H={};D.each(Q=>{const S=Q.data;E(S)&&(H[y(S)]=Q)});D.lookup=H;return D}function w(D){l.Transform.call(this,null,D)}function v(){function D(Q,
S){if(S>=E.length)return Q;const ea=Q.length,ba=E[S++],fa={},ia={};let ca=-1,N,C,W;for(;++ca<ea;)N=ba(C=Q[ca])+"",(W=fa[N])?W.push(C):fa[N]=[C];for(N in fa)ia[N]=D(fa[N],S);return ia}function y(Q,S){if(++S>E.length)return Q;const ea=[];for(const ba in Q)ea.push({key:ba,values:y(Q[ba],S)});return ea}const E=[],H={entries:Q=>y(D(Q,0),0),key:Q=>(E.push(Q),H)};return H}function t(D){l.Transform.call(this,null,D)}function k(D,y,E){for(let H,Q=0,S=y.length;Q<S;++Q)if(H=y[Q],H in E)D[H](E[H])}function g(D){t.call(this,
D)}function d(D){t.call(this,D)}function f(D){l.Transform.call(this,null,D)}function a(D){t.call(this,D)}function e(D){l.Transform.call(this,[],D)}function n(D){t.call(this,D)}w.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const x=D=>D.values;u.inherits(w,l.Transform,{transform(D,y){y.source||u.error("Nest transform requires an upstream data source.");var E=D.generate,H=D.modified(),Q=y.clone(),S=this.value;
if(!S||H||y.changed())S&&S.each(ea=>{ea.children&&l.isTuple(ea.data)&&Q.rem.push(ea.data)}),this.value=S=G.hierarchy({values:u.array(D.keys).reduce((ea,ba)=>{ea.key(ba);return ea},v()).entries(Q.source)},x),E&&S.each(ea=>{ea.children&&(ea=l.ingest(ea.data),Q.add.push(ea),Q.source.push(ea))}),L(S,l.tupleid,l.tupleid);Q.source.root=S;return Q}});const z=(D,y)=>D.parent===y.parent?1:2;u.inherits(t,l.Transform,{transform(D,y){y.source&&y.source.root||u.error(this.constructor.name+" transform requires a backing tree data source.");
const E=this.layout(D.method),H=this.fields,Q=y.source.root,S=D.as||H;D.field?Q.sum(D.field):Q.count();D.sort&&Q.sort(l.stableCompare(D.sort,ea=>ea.data));k(E,this.params,D);E.separation&&E.separation(!1!==D.separation?z:u.one);try{this.value=E(Q)}catch(ea){u.error(ea)}Q.each(ea=>{{const ba=ea.data,fa=H.length-1;for(let ia=0;ia<fa;++ia)ba[S[ia]]=ea[H[ia]];ba[S[fa]]=ea.children?ea.children.length:0}});return y.reflow(D.modified()).modifies(S).modifies("leaf")}});var B=["x","y","r","depth","children"];
g.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"radius",type:"field","default":null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:B.length,"default":B}]};u.inherits(g,t,{layout:G.pack,params:["radius","size","padding"],fields:B});B="x0 y0 x1 y1 depth children".split(" ");d.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",
type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:B.length,"default":B}]};u.inherits(d,t,{layout:G.partition,params:["size","round","padding"],fields:B});f.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};u.inherits(f,l.Transform,{transform(D,
y){y.source||u.error("Stratify transform requires an upstream data source.");let E=this.value;const H=D.modified(),Q=y.fork(y.ALL).materialize(y.SOURCE);y=!E||H||y.changed(y.ADD_REM)||y.modified(D.key.fields)||y.modified(D.parentKey.fields);Q.source=Q.source.slice();y&&(E=Q.source.length?L(G.stratify().id(D.key).parentId(D.parentKey)(Q.source),D.key,u.truthy):L(G.stratify()([{}]),D.key,D.key));Q.source.root=this.value=E;return Q}});const M={tidy:G.tree,cluster:G.cluster};B=["x","y","depth","children"];
a.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean","default":!0},{name:"as",type:"string",array:!0,length:B.length,"default":B}]};u.inherits(a,t,{layout(D){D=D||"tidy";if(u.hasOwnProperty(M,D))return M[D]();u.error("Unrecognized Tree layout method: "+
D)},params:["size","nodeSize"],fields:B});e.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};u.inherits(e,l.Transform,{transform(D,y){D=this.value;const E=y.source&&y.source.root,H=y.fork(y.NO_SOURCE),Q={};E||u.error("TreeLinks transform requires a tree data source.");y.changed(y.ADD_REM)?(H.rem=D,y.visit(y.SOURCE,S=>Q[l.tupleid(S)]=1),E.each(S=>{const ea=S.data;(S=S.parent&&S.parent.data)&&Q[l.tupleid(ea)]&&Q[l.tupleid(S)]&&H.add.push(l.ingest({source:S,target:ea}))}),
this.value=H.add):y.changed(y.MOD)&&(y.visit(y.MOD,S=>Q[l.tupleid(S)]=1),D.forEach(S=>{(Q[l.tupleid(S.source)]||Q[l.tupleid(S.target)])&&H.mod.push(S)}));return H}});const K={binary:G.treemapBinary,dice:G.treemapDice,slice:G.treemapSlice,slicedice:G.treemapSliceDice,squarify:G.treemapSquarify,resquarify:G.treemapResquarify};B="x0 y0 x1 y1 depth children".split(" ");n.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",
type:"enum","default":"squarify",values:"squarify resquarify binary dice slice slicedice".split(" ")},{name:"padding",type:"number","default":0},{name:"paddingInner",type:"number","default":0},{name:"paddingOuter",type:"number","default":0},{name:"paddingTop",type:"number","default":0},{name:"paddingRight",type:"number","default":0},{name:"paddingBottom",type:"number","default":0},{name:"paddingLeft",type:"number","default":0},{name:"ratio",type:"number","default":1.618033988749895},{name:"round",
type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:B.length,"default":B}]};u.inherits(n,t,{layout(){const D=G.treemap();D.ratio=y=>{const E=D.tile();E.ratio&&D.tile(E.ratio(y))};D.method=y=>{u.hasOwnProperty(K,y)?D.tile(K[y]):u.error("Unrecognized Treemap layout method: "+y)};return D},params:"method ratio size round padding paddingInner paddingOuter paddingTop paddingRight paddingBottom paddingLeft".split(" "),fields:B});m.nest=w;m.pack=
g;m.partition=d;m.stratify=f;m.tree=a;m.treelinks=e;m.treemap=n;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[52]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J,A(33),A(28),A(38),A(16)):"function"===typeof define&&define.amd?define(["exports","vega-canvas","vega-dataflow","vega-scenegraph","vega-util"],l):(m="undefined"!==typeof globalThis?globalThis:m||self,l((m.vega=m.vega||{},m.vega.transforms={}),m.vega,m.vega,m.vega,m.vega))})(this,function(m,l,u,G,L){function w(ca,N){const C=ca.bitmap();(N||[]).forEach(W=>C.set(ca(W.boundary[0]),ca(W.boundary[3])));
return[C,void 0]}function v(ca,N,C,W){const ha=ca.width,Y=ca.height,wa=C||W,xa=l.canvas(ha,Y).getContext("2d");N.forEach(za=>t(xa,za,wa));N=new Uint32Array(xa.getImageData(0,0,ha,Y).data.buffer);C=ca.bitmap();const Ha=wa&&ca.bitmap();let Za,gb,ra,Pa,Ua;for(gb=0;gb<Y;++gb)for(Za=0;Za<ha;++Za)if(Ua=N[gb*ha+Za]&4278190080)ra=ca(Za),Pa=ca(gb),W||C.set(ra,Pa),wa&&Ua^268435456&&Ha.set(ra,Pa);return[C,Ha]}function t(ca,N,C){if(N.length){var W=N[0].mark.marktype;"group"===W?N.forEach(ha=>{ha.items.forEach(Y=>
t(ca,Y.items,C))}):G.Marks[W].draw(ca,{items:C?N.map(k):N})}}function k(ca){ca=u.rederive(ca,{});ca.stroke&&(ca.strokeOpacity=1);ca.fill&&(ca.fillOpacity=.0625,ca.stroke="#000",ca.strokeOpacity=1,ca.strokeWidth=2);return ca}function g(ca,N){const C=new Uint32Array(~~((ca*N+32)/32));return{array:C,get:(W,ha)=>{W=ha*ca+W;return C[W>>>5]&1<<(W&31)},set:(W,ha)=>{W=ha*ca+W;C[W>>>5]|=1<<(W&31)},clear:(W,ha)=>{W=ha*ca+W;C[W>>>5]&=~(1<<(W&31))},getRange:(W,ha,Y,wa)=>{let xa,Ha,Za;for(;wa>=ha;--wa){var gb=
wa*ca+W;xa=wa*ca+Y;Ha=gb>>>5;Za=xa>>>5;if(Ha===Za){if(C[Ha]&D[gb&31]&y[(xa&31)+1])return!0}else{if(C[Ha]&D[gb&31]||C[Za]&y[(xa&31)+1])return!0;for(gb=Ha+1;gb<Za;++gb)if(C[gb])return!0}}return!1},setRange:(W,ha,Y,wa)=>{let xa,Ha,Za;for(;ha<=wa;++ha){var gb=ha*ca+W;xa=ha*ca+Y;Ha=gb>>>5;Za=xa>>>5;if(Ha===Za)C[Ha]|=D[gb&31]&y[(xa&31)+1];else for(C[Ha]|=D[gb&31],C[Za]|=y[(xa&31)+1],gb=Ha+1;gb<Za;++gb)C[gb]|=4294967295}},clearRange:(W,ha,Y,wa)=>{let xa,Ha,Za;for(;ha<=wa;++ha){var gb=ha*ca+W;xa=ha*ca+Y;
Ha=gb>>>5;Za=xa>>>5;if(Ha===Za)C[Ha]&=y[gb&31]|D[(xa&31)+1];else for(C[Ha]&=y[gb&31],C[Za]&=D[(xa&31)+1],gb=Ha+1;gb<Za;++gb)C[gb]&=0}},outOfBounds:(W,ha,Y,wa)=>0>W||0>ha||wa>=N||Y>=ca}}function d(ca,N,C){const W=Math.max(1,Math.sqrt(ca*N/1E6)),ha=~~((ca+2*C+W)/W),Y=~~((N+2*C+W)/W),wa=xa=>~~((xa+C)/W);wa.invert=xa=>xa*W-C;wa.bitmap=()=>g(ha,Y);wa.ratio=W;wa.padding=C;wa.width=ca;wa.height=N;return wa}function f(ca,N,C,W,ha,Y){C/=2;return 0>ca-C||ca+C>ha||0>N-(C=W/2)||N+C>Y}function a(ca,N,C,W,ha,Y,
wa,xa){ha=ha*Y/(2*W);W=ca(N-ha);N=ca(N+ha);ha=ca(C-(Y/=2));ca=ca(C+Y);return wa.outOfBounds(W,ha,N,ca)||wa.getRange(W,ha,N,ca)||xa&&xa.getRange(W,ha,N,ca)}function e(ca,N,C,W){const ha=ca.width,Y=ca.height,wa=N[0],xa=N[1],Ha=W.length;return function(Za){const gb=Za.boundary,ra=Za.datum.fontSize;if(0>gb[2]||0>gb[5]||gb[0]>ha||gb[3]>Y)return!1;let Pa=0,Ua,za;let qa,R;let T;let X;let Z,oa;for(let xc=0;xc<Ha;++xc){Ua=(C[xc]&3)-1;za=(C[xc]>>>2&3)-1;var na=0===Ua&&0===za||0>W[xc];var Aa=Ua&&za?Math.SQRT1_2:
1;qa=0>W[xc]?-1:1;R=gb[1+Ua]+W[xc]*Ua*Aa;X=gb[4+za]+qa*ra*za/2+W[xc]*za*Aa;Aa=X-ra/2;T=X+ra/2;var ka=ca(R);Z=ca(Aa);oa=ca(T);if(!Pa){var Na=ka;var $a=Z;var Wa=oa;var Ca=wa,Da=xa,ma=R,Ea=R,Qa=Aa,eb=T,yb=gb,Qb=na;if(!Ca.outOfBounds(Na,$a,ka,Wa)&&(Qb&&Da?!Da.getRange(Na,$a,ka,Wa)&&yb[0]<=ma&&Ea<=yb[2]&&yb[3]<=Qa&&eb<=yb[5]:!Ca.getRange(Na,$a,ka,Wa)))Pa=G.textMetrics.width(Za.datum,Za.datum.text);else continue}$a=R+qa*Pa*Ua/2;R=$a-Pa/2;Na=$a+Pa/2;ka=ca(R);Wa=ca(Na);Ca=ka;Da=Wa;ma=Z;Ea=oa;Qa=wa;eb=xa;
yb=R;Qb=Na;var fc=Aa,ad=T,ic=gb;if(!Qa.outOfBounds(Ca,ma,Da,Ea)&&(na&&eb?!eb.getRange(Ca,ma,Da,Ea)&&ic[0]<=yb&&Qb<=ic[2]&&ic[3]<=fc&&ad<=ic[5]:!Qa.getRange(Ca,ma,Da,Ea)))return Za.x=Ua?0>Ua*qa?Na:R:$a,Za.y=za?0>za*qa?T:Aa:X,Za.align=Q[Ua*qa+1],Za.baseline=S[za*qa+1],wa.setRange(ka,Z,Wa,oa),!0}return!1}}function n(ca,N,C,W,ha,Y,wa,xa,Ha,Za,gb){if(!ca.length)return ca;var ra=Math.max(W.length,ha.length);W=x(W,ra);ha=z(ha,ra);ra=B(ca[0].datum);const Pa="group"===ra&&ca[0].datum.items[Ha].marktype,Ua=
"area"===Pa,za=M(ra,Pa,xa,Ha);N=d(N[0],N[1],Za);Za=Ua&&"naive"===gb;xa=ca.map(T=>({datum:T,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:za(T)}));if(!Za){C&&xa.sort((T,X)=>C(T.datum,X.datum));var qa=!1;for(Za=0;Za<ha.length&&!qa;++Za)qa=5===ha[Za]||0>W[Za];ra&&(wa||Ua)&&(Y=[ca.map(T=>T.datum)].concat(Y));qa=Y.length?v(N,Y,qa,Ua):w(N,wa&&xa)}const R=Ua?ba[gb](N,qa,wa,Ha):e(N,qa,ha,W);xa.forEach(T=>T.opacity=+R(T));return xa}function x(ca,N){const C=new Float64Array(N),W=ca.length;
for(let ha=0;ha<W;++ha)C[ha]=ca[ha]||0;for(ca=W;ca<N;++ca)C[ca]=C[W-1];return C}function z(ca,N){const C=new Int8Array(N),W=ca.length;for(let ha=0;ha<W;++ha)C[ha]|=ea[ca[ha]];for(ca=W;ca<N;++ca)C[ca]=C[W-1];return C}function B(ca){return ca&&ca.mark&&ca.mark.marktype}function M(ca,N,C,W){const ha=Y=>[Y.x,Y.x,Y.x,Y.y,Y.y,Y.y];return ca?"line"===ca||"area"===ca?Y=>ha(Y.datum):"line"===N?Y=>{Y=Y.datum.items[W].items;return ha(Y.length?Y["start"===C?0:Y.length-1]:{x:NaN,y:NaN})}:Y=>{Y=Y.datum.bounds;
return[Y.x1,(Y.x1+Y.x2)/2,Y.x2,Y.y1,(Y.y1+Y.y2)/2,Y.y2]}:ha}function K(ca){u.Transform.call(this,null,ca)}const D=new Uint32Array(33),y=new Uint32Array(33);y[0]=0;D[0]=~y[0];for(let ca=1;32>=ca;++ca)y[ca]=y[ca-1]<<1|1,D[ca]=~y[ca];const E=[-1,-1,1,1],H=[-1,1,-1,1],Q=["right","center","left"],S=["bottom","middle","top"],ea={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},ba={naive:function(ca,N,C,W){const ha=ca.width,Y=ca.height;return function(wa){const xa=
wa.datum.datum.items[W].items,Ha=xa.length,Za=wa.datum.fontSize,gb=G.textMetrics.width(wa.datum,wa.datum.text);let ra=0;let Pa,Ua,za,qa,R;for(let X=0;X<Ha;++X){var T=xa[X].x;Ua=xa[X].y;Pa=void 0===xa[X].x2?T:xa[X].x2;za=void 0===xa[X].y2?Ua:xa[X].y2;qa=(T+Pa)/2;R=(Ua+za)/2;T=Math.abs(Pa-T+za-Ua);T>=ra&&(ra=T,wa.x=qa,wa.y=R)}qa=gb/2;R=Za/2;T=wa.x-qa;Pa=wa.x+qa;Ua=wa.y-R;za=wa.y+R;wa.align="center";0>T&&Pa<=ha?wa.align="left":0<=T&&ha<Pa&&(wa.align="right");wa.baseline="middle";0>Ua&&za<=Y?wa.baseline=
"top":0<=Ua&&Y<za&&(wa.baseline="bottom");return!0}},"reduced-search":function(ca,N,C,W){function ha(Za,gb,ra,Pa,Ua){Za=ca.invert(Za);gb=ca.invert(gb);let za=ra,qa=wa,R;if(!f(Za,gb,Pa,Ua,Y,wa)&&!a(ca,Za,gb,Ua,Pa,za,xa,Ha)&&!a(ca,Za,gb,Ua,Pa,Ua,xa,null)){for(;1<=qa-za;)R=(za+qa)/2,a(ca,Za,gb,Ua,Pa,R,xa,Ha)?qa=R:za=R;if(za>ra)return[Za,gb,za,!0]}}const Y=ca.width,wa=ca.height,xa=N[0],Ha=N[1];return function(Za){const gb=Za.datum.datum.items[W].items,ra=gb.length,Pa=Za.datum.fontSize,Ua=G.textMetrics.width(Za.datum,
Za.datum.text);let za=C?Pa:0,qa=!1,R=!1,T=0;let X;let Z;let oa,na,Aa,ka,Na,$a,Wa,Ca;for(let Qa=0;Qa<ra;++Qa){var Da=gb[Qa].x;var ma=gb[Qa].y;X=void 0===gb[Qa].x2?Da:gb[Qa].x2;Z=void 0===gb[Qa].y2?ma:gb[Qa].y2;if(Da>X){var Ea=Da;Da=X;X=Ea}ma>Z&&(Ea=ma,ma=Z,Z=Ea);na=ca(Da);ka=ca(X);Aa=~~((na+ka)/2);Na=ca(ma);Wa=ca(Z);$a=~~((Na+Wa)/2);for(Ea=Aa;Ea>=na;--Ea)for(oa=$a;oa>=Na;--oa)(Ca=ha(Ea,oa,za,Ua,Pa))&&([Za.x,Za.y,za,qa]=Ca);for(Ea=Aa;Ea<=ka;++Ea)for(oa=$a;oa<=Wa;++oa)(Ca=ha(Ea,oa,za,Ua,Pa))&&([Za.x,
Za.y,za,qa]=Ca);qa||C||(Ea=Math.abs(X-Da+Z-ma),Da=(Da+X)/2,ma=(ma+Z)/2,Ea>=T&&!f(Da,ma,Ua,Pa,Y,wa)&&!a(ca,Da,ma,Pa,Ua,Pa,xa,null)&&(T=Ea,Za.x=Da,Za.y=ma,R=!0))}return qa||R?(Da=Ua/2,ma=Pa/2,xa.setRange(ca(Za.x-Da),ca(Za.y-ma),ca(Za.x+Da),ca(Za.y+ma)),Za.align="center",Za.baseline="middle",!0):!1}},floodfill:function(ca,N,C,W){const ha=ca.width,Y=ca.height,wa=N[0],xa=N[1],Ha=ca.bitmap();return function(Za){const gb=Za.datum.datum.items[W].items,ra=gb.length,Pa=Za.datum.fontSize,Ua=G.textMetrics.width(Za.datum,
Za.datum.text),za=[];let qa=C?Pa:0,R=!1,T=!1,X=0,Z,oa,na,Aa,ka,Na;var $a;for(let Da=0;Da<ra;++Da){Z=gb[Da].x;na=gb[Da].y;oa=void 0===gb[Da].x2?Z:gb[Da].x2;Aa=void 0===gb[Da].y2?na:gb[Da].y2;for(za.push([ca((Z+oa)/2),ca((na+Aa)/2)]);za.length;)if([Wa,Ca]=za.pop(),!(wa.get(Wa,Ca)||xa.get(Wa,Ca)||Ha.get(Wa,Ca))){Ha.set(Wa,Ca);for($a=0;4>$a;++$a)ka=Wa+E[$a],Na=Ca+H[$a],Ha.outOfBounds(ka,Na,ka,Na)||za.push([ka,Na]);ka=ca.invert(Wa);Na=ca.invert(Ca);var Wa=qa;var Ca=Y;if(!f(ka,Na,Ua,Pa,ha,Y)&&!a(ca,ka,
Na,Pa,Ua,Wa,wa,xa)&&!a(ca,ka,Na,Pa,Ua,Pa,wa,null)){for(;1<=Ca-Wa;)$a=(Wa+Ca)/2,a(ca,ka,Na,Pa,Ua,$a,wa,xa)?Ca=$a:Wa=$a;Wa>qa&&(Za.x=ka,Za.y=Na,qa=Wa,R=!0)}}R||C||(Wa=Math.abs(oa-Z+Aa-na),ka=(Z+oa)/2,Na=(na+Aa)/2,Wa>=X&&!f(ka,Na,Ua,Pa,ha,Y)&&!a(ca,ka,Na,Pa,Ua,Pa,wa,null)&&(X=Wa,Za.x=ka,Za.y=Na,T=!0))}return R||T?(ka=Ua/2,Na=Pa/2,wa.setRange(ca(Za.x-ka),ca(Za.y-Na),ca(Za.x+ka),ca(Za.y+Na)),Za.align="center",Za.baseline="middle",!0):!1}}},fa=["x","y","opacity","align","baseline"],ia="top-left left bottom-left top bottom top-right right bottom-right".split(" ");
K.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:ia},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",
type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:fa.length,default:fa}]};L.inherits(K,u.Transform,{transform(ca,N){function C(Y){Y=ca[Y];return L.isFunction(Y)&&N.modified(Y.fields)}const W=ca.modified();if(W||N.changed(N.ADD_REM)||C("sort")){ca.size&&2===ca.size.length||L.error("Size parameter should be specified as a [width, height] array.");var ha=ca.as||fa;n(N.materialize(N.SOURCE).source,ca.size,ca.sort,L.array(ca.offset||1),L.array(ca.anchor||ia),ca.avoidMarks||[],!1===
ca.avoidBaseMark?!1:!0,ca.lineAnchor||"end",ca.markIndex||0,ca.padding||0,ca.method||"naive").forEach(Y=>{const wa=Y.datum;wa[ha[0]]=Y.x;wa[ha[1]]=Y.y;wa[ha[2]]=Y.opacity;wa[ha[3]]=Y.align;wa[ha[4]]=Y.baseline});return N.reflow(W).modifies(ha)}}});m.label=K;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[53]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J,A(29),A(28),A(16)):"function"===typeof define&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.vega={},m.vega,m.vega,m.vega))})(this,function(m,l,u,G){function L(k,g){var d=[],f=function(M){return M(x)},a;if(null==g)d.push(k);else{var e={};var n=0;for(a=k.length;n<a;++n){var x=k[n];var z=g.map(f);var B=e[z];
B||(e[z]=B=[],B.dims=z,d.push(B));B.push(x)}}return d}function w(k){u.Transform.call(this,null,k)}function v(k){u.Transform.call(this,null,k)}w.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number","default":.3},{name:"as",type:"string",array:!0}]};G.inherits(w,u.Transform,{transform(k,g){const d=g.fork(g.NO_SOURCE|g.NO_FIELDS);if(!this.value||g.changed()||
k.modified()){g=g.materialize(g.SOURCE).source;g=L(g,k.groupby);const f=(k.groupby||[]).map(G.accessorName),a=f.length,e=k.as||[G.accessorName(k.x),G.accessorName(k.y)],n=[];g.forEach(x=>{l.regressionLoess(x,k.x,k.y,k.bandwidth||.3).forEach(z=>{const B={};for(let M=0;M<a;++M)B[f[M]]=x.dims[M];B[e[0]]=z[0];B[e[1]]=z[1];n.push(u.ingest(B))})});this.value&&(d.rem=this.value);this.value=d.add=d.source=n}return d}});const t={linear:l.regressionLinear,log:l.regressionLog,exp:l.regressionExp,pow:l.regressionPow,
quad:l.regressionQuad,poly:l.regressionPoly};v.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string","default":"linear",values:Object.keys(t)},{name:"order",type:"number","default":3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean","default":!1},{name:"as",type:"string",array:!0}]};G.inherits(v,u.Transform,{transform(k,g){const d=
g.fork(g.NO_SOURCE|g.NO_FIELDS);if(!this.value||g.changed()||k.modified()){var f=g.materialize(g.SOURCE).source;f=L(f,k.groupby);const a=(k.groupby||[]).map(G.accessorName),e=k.method||"linear",n=k.order||3,x="poly"===e?n:"quad"===e?2:1,z=k.as||[G.accessorName(k.x),G.accessorName(k.y)],B=t[e],M=[];let K=k.extent;G.hasOwnProperty(t,e)||G.error("Invalid regression method: "+e);null!=K&&"log"===e&&0>=K[0]&&(g.dataflow.warn("Ignoring extent with values \x3c\x3d 0 for log regression."),K=null);f.forEach(D=>
{if(D.length<=x)g.dataflow.warn("Skipping regression with more parameters than data points.");else{var y=B(D,k.x,k.y,n);if(k.params)M.push(u.ingest({keys:D.dims,coef:y.coef,rSquared:y.rSquared}));else{var E=K||G.extent(D,k.x),H=Q=>{const S={};for(let ea=0;ea<a.length;++ea)S[a[ea]]=D.dims[ea];S[z[0]]=Q[0];S[z[1]]=Q[1];M.push(u.ingest(S))};"linear"===e?E.forEach(Q=>H([Q,y.predict(Q)])):l.sampleCurve(y.predict,E,25,200).forEach(H)}}});this.value&&(d.rem=this.value);this.value=d.add=d.source=M}return d}});
m.loess=w;m.regression=v;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[54]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J):"function"===typeof define&&define.amd?define(["exports"],l):(m=m||self,l(m.d3=m.d3||{}))})(this,function(m){function l(H,Q){H/=Math.abs(H)+Math.abs(Q);return(0<Q?3-H:1+H)/4}function u(H,Q,S,ea){H-=S;Q-=ea;return H*H+Q*Q}function G(H,Q,S,ea,ba,fa){ea=(ea-Q)*(ba-H);H=(S-H)*(fa-Q);return Math.abs(ea-H)>=3.3306690738754716E-16*Math.abs(ea+H)?ea-H:0}function L(H,Q,S,ea,ba,fa){return 0>(G(ba,fa,H,Q,
S,ea)||G(H,Q,S,ea,ba,fa)||G(S,ea,ba,fa,H,Q))}function w(H,Q,S,ea){if(20>=ea-S)for(var ba=S+1;ba<=ea;ba++){for(var fa=H[ba],ia=Q[fa],ca=ba-1;ca>=S&&Q[H[ca]]>ia;)H[ca+1]=H[ca--];H[ca+1]=fa}else{ba=S+1;fa=ea;v(H,S+ea>>1,ba);Q[H[S]]>Q[H[ea]]&&v(H,S,ea);Q[H[ba]]>Q[H[ea]]&&v(H,ba,ea);Q[H[S]]>Q[H[ba]]&&v(H,S,ba);ia=H[ba];for(ca=Q[ia];;){do ba++;while(Q[H[ba]]<ca);do fa--;while(Q[H[fa]]>ca);if(fa<ba)break;v(H,ba,fa)}H[S+1]=H[fa];H[fa]=ia;ea-ba+1>=fa-S?(w(H,Q,ba,ea),w(H,Q,S,fa-1)):(w(H,Q,S,fa-1),w(H,Q,ba,
ea))}}function v(H,Q,S){const ea=H[Q];H[Q]=H[S];H[S]=ea}function t(H){return H[0]}function k(H){return H[1]}function g(H){return H[0]}function d(H){return H[1]}function f(H){const {triangles:Q,coords:S}=H;for(H=0;H<Q.length;H+=3){const ea=2*Q[H],ba=2*Q[H+1],fa=2*Q[H+2];if(1E-10<(S[fa]-S[ea])*(S[ba+1]-S[ea+1])-(S[ba]-S[ea])*(S[fa+1]-S[ea+1]))return!1}return!0}function a(H,Q,S){return[H+Math.sin(H+Q)*S,Q+Math.cos(H-Q)*S]}function*e(H,Q,S,ea){let ba=0;for(const fa of H)yield Q.call(ea,fa,ba,H),yield S.call(ea,
fa,ba,H),++ba}const n=Math.pow(2,-52),x=new Uint32Array(512);class z{static from(H,Q=t,S=k){const ea=H.length,ba=new Float64Array(2*ea);for(let fa=0;fa<ea;fa++){const ia=H[fa];ba[2*fa]=Q(ia);ba[2*fa+1]=S(ia)}return new z(ba)}constructor(H){const Q=H.length>>1;if(0<Q&&"number"!==typeof H[0])throw Error("Expected coords to contain numbers.");this.coords=H;H=Math.max(2*Q-5,0);this._triangles=new Uint32Array(3*H);this._halfedges=new Int32Array(3*H);this._hashSize=Math.ceil(Math.sqrt(Q));this._hullPrev=
new Uint32Array(Q);this._hullNext=new Uint32Array(Q);this._hullTri=new Uint32Array(Q);this._hullHash=(new Int32Array(this._hashSize)).fill(-1);this._ids=new Uint32Array(Q);this._dists=new Float64Array(Q);this.update()}update(){const {coords:H,_hullPrev:Q,_hullNext:S,_hullTri:ea,_hullHash:ba}=this;var fa=H.length>>1,ia=Infinity,ca=Infinity,N=-Infinity,C=-Infinity;for(var W=0;W<fa;W++){var ha=H[2*W];var Y=H[2*W+1];ha<ia&&(ia=ha);Y<ca&&(ca=Y);ha>N&&(N=ha);Y>C&&(C=Y);this._ids[W]=W}N=(ia+N)/2;ca=(ca+
C)/2;ia=Infinity;for(C=0;C<fa;C++)if(W=u(N,ca,H[2*C],H[2*C+1]),W<ia){var wa=C;ia=W}ca=H[2*wa];C=H[2*wa+1];ia=Infinity;for(N=0;N<fa;N++)if(N!==wa&&(W=u(ca,C,H[2*N],H[2*N+1]),W<ia&&0<W)){var xa=N;ia=W}ia=H[2*xa];N=H[2*xa+1];Y=Infinity;for(W=0;W<fa;W++)if(W!==wa&&W!==xa){ha=ia-ca;var Ha=N-C;var Za=H[2*W]-ca;var gb=H[2*W+1]-C,ra=ha*ha+Ha*Ha,Pa=Za*Za+gb*gb,Ua=.5/(ha*gb-Ha*Za);Ha=(gb*ra-Ha*Pa)*Ua;ha=(ha*Pa-Za*ra)*Ua;ha=Ha*Ha+ha*ha;if(ha<Y){var za=W;Y=ha}}W=H[2*za];ha=H[2*za+1];if(Infinity===Y){for(wa=0;wa<
fa;wa++)this._dists[wa]=H[2*wa]-H[0]||H[2*wa+1]-H[1];w(this._ids,this._dists,0,fa-1);wa=new Uint32Array(fa);xa=0;for(let qa=0,R=-Infinity;qa<fa;qa++)za=this._ids[qa],this._dists[za]>R&&(wa[xa++]=za,R=this._dists[za]);this.hull=wa.subarray(0,xa);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0)}else{L(ca,C,ia,N,W,ha)&&(Y=xa,Za=ia,ra=N,xa=za,ia=W,N=ha,za=Y,W=Za,ha=ra);Za=ia-ca;Y=N-C;ra=W-ca;gb=ha-C;Pa=Za*Za+Y*Y;Ua=ra*ra+gb*gb;Ha=.5/(Za*gb-Y*ra);Y=ca+(gb*Pa-Y*Ua)*Ha;Za=C+(Za*Ua-ra*
Pa)*Ha;this._cx=Y;this._cy=Za;for(ra=0;ra<fa;ra++)this._dists[ra]=u(H[2*ra],H[2*ra+1],Y,Za);w(this._ids,this._dists,0,fa-1);this._hullStart=wa;fa=3;S[wa]=Q[za]=xa;S[xa]=Q[wa]=za;S[za]=Q[xa]=wa;ea[wa]=0;ea[xa]=1;ea[za]=2;ba.fill(-1);ba[this._hashKey(ca,C)]=wa;ba[this._hashKey(ia,N)]=xa;ba[this._hashKey(W,ha)]=za;this.trianglesLen=0;this._addTriangle(wa,xa,za,-1,-1,-1);for(let qa=0,R,T;qa<this._ids.length;qa++){ca=this._ids[qa];C=H[2*ca];ia=H[2*ca+1];if(0<qa&&Math.abs(C-R)<=n&&Math.abs(ia-T)<=n)continue;
R=C;T=ia;if(ca===wa||ca===xa||ca===za)continue;N=0;for(let Z=0,oa=this._hashKey(C,ia);Z<this._hashSize&&(N=ba[(oa+Z)%this._hashSize],-1===N||N===S[N]);Z++);W=N=Q[N];let X;for(;X=S[W],!L(C,ia,H[2*W],H[2*W+1],H[2*X],H[2*X+1]);)if(W=X,W===N){W=-1;break}if(-1!==W){ha=this._addTriangle(W,ca,S[W],-1,-1,ea[W]);ea[ca]=this._legalize(ha+2);ea[W]=ha;fa++;for(Y=S[W];X=S[Y],L(C,ia,H[2*Y],H[2*Y+1],H[2*X],H[2*X+1]);)ha=this._addTriangle(Y,ca,X,ea[ca],-1,ea[Y]),ea[ca]=this._legalize(ha+2),S[Y]=Y,fa--,Y=X;if(W===
N)for(;X=Q[W],L(C,ia,H[2*X],H[2*X+1],H[2*W],H[2*W+1]);)ha=this._addTriangle(X,ca,W,-1,ea[W],ea[X]),this._legalize(ha+2),ea[X]=ha,S[W]=W,fa--,W=X;this._hullStart=Q[ca]=W;S[W]=Q[Y]=ca;S[ca]=Y;ba[this._hashKey(C,ia)]=ca;ba[this._hashKey(H[2*W],H[2*W+1])]=W}}this.hull=new Uint32Array(fa);for(let qa=0,R=this._hullStart;qa<fa;qa++)this.hull[qa]=R,R=S[R];this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}}_hashKey(H,Q){return Math.floor(l(H-
this._cx,Q-this._cy)*this._hashSize)%this._hashSize}_legalize(H){const {_triangles:Q,_halfedges:S,coords:ea}=this;let ba=0;for(var fa;;){const wa=S[H];var ia=H-H%3;fa=ia+(H+2)%3;if(-1===wa){if(0===ba)break;H=x[--ba];continue}const xa=wa-wa%3,Ha=xa+(wa+2)%3;var ca=Q[fa],N=Q[H],C=Q[ia+(H+1)%3];ia=Q[Ha];{var W=ea[2*ia],ha=ea[2*ia+1];var Y=ea[2*ca]-W;const Za=ea[2*ca+1]-ha,gb=ea[2*N]-W;N=ea[2*N+1]-ha;W=ea[2*C]-W;ha=ea[2*C+1]-ha;C=gb*gb+N*N;const ra=W*W+ha*ha;Y=0>Y*(N*ra-C*ha)-Za*(gb*ra-C*W)+(Y*Y+Za*Za)*
(gb*ha-N*W)}if(Y){Q[H]=ia;Q[wa]=ca;ca=S[Ha];if(-1===ca){ia=this._hullStart;do{if(this._hullTri[ia]===Ha){this._hullTri[ia]=H;break}ia=this._hullPrev[ia]}while(ia!==this._hullStart)}this._link(H,ca);this._link(wa,S[fa]);this._link(fa,Ha);fa=xa+(wa+1)%3;ba<x.length&&(x[ba++]=fa)}else{if(0===ba)break;H=x[--ba]}}return fa}_link(H,Q){this._halfedges[H]=Q;-1!==Q&&(this._halfedges[Q]=H)}_addTriangle(H,Q,S,ea,ba,fa){const ia=this.trianglesLen;this._triangles[ia]=H;this._triangles[ia+1]=Q;this._triangles[ia+
2]=S;this._link(ia,ea);this._link(ia+1,ba);this._link(ia+2,fa);this.trianglesLen+=3;return ia}}class B{constructor(){this._x0=this._y0=this._x1=this._y1=null;this._=""}moveTo(H,Q){this._+=`M${this._x0=this._x1=+H},${this._y0=this._y1=+Q}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(H,Q){this._+=`L${this._x1=+H},${this._y1=+Q}`}arc(H,Q,S){H=+H;Q=+Q;S=+S;const ea=H+S,ba=Q;if(0>S)throw Error("negative radius");if(null===this._x1)this._+=`M${ea},${ba}`;else if(1E-6<
Math.abs(this._x1-ea)||1E-6<Math.abs(this._y1-ba))this._+="L"+ea+","+ba;S&&(this._+=`A${S},${S},0,1,1,${H-S},${Q}A${S},${S},0,1,1,${this._x1=ea},${this._y1=ba}`)}rect(H,Q,S,ea){this._+=`M${this._x0=this._x1=+H},${this._y0=this._y1=+Q}h${+S}v${+ea}h${-S}Z`}value(){return this._||null}}class M{constructor(){this._=[]}moveTo(H,Q){this._.push([H,Q])}closePath(){this._.push(this._[0].slice())}lineTo(H,Q){this._.push([H,Q])}value(){return this._.length?this._:null}}class K{constructor(H,[Q,S,ea,ba]=[0,
0,960,500]){if(!((ea=+ea)>=(Q=+Q)&&(ba=+ba)>=(S=+S)))throw Error("invalid bounds");this.delaunay=H;this._circumcenters=new Float64Array(2*H.points.length);this.vectors=new Float64Array(2*H.points.length);this.xmax=ea;this.xmin=Q;this.ymax=ba;this.ymin=S;this._init()}update(){this.delaunay.update();this._init();return this}_init(){const {delaunay:{points:H,hull:Q,triangles:S},vectors:ea}=this;var ba=this.circumcenters=this._circumcenters.subarray(0,S.length/3*2);for(let Y=0,wa=0,xa=S.length,Ha,Za;Y<
xa;Y+=3,wa+=2){var fa=2*S[Y],ia=2*S[Y+1],ca=2*S[Y+2],N=H[fa];fa=H[fa+1];var C=H[ca],W=H[ca+1];ca=H[ia]-N;ia=H[ia+1]-fa;var ha=C-N;const gb=W-fa,ra=ca*ca+ia*ia,Pa=ha*ha+gb*gb,Ua=2*(ca*gb-ia*ha);Ua?1E-8>Math.abs(Ua)?(Ha=(N+C)/2,Za=(fa+W)/2):(C=1/Ua,Ha=N+(gb*ra-ia*Pa)*C,Za=fa+(ca*Pa-ha*ra)*C):(Ha=(N+C)/2-1E8*gb,Za=(fa+W)/2+1E8*ha);ba[wa]=Ha;ba[wa+1]=Za}ba=Q[Q.length-1];fa=4*ba;ca=H[2*ba];ia=H[2*ba+1];ea.fill(0);for(ha=0;ha<Q.length;++ha)ba=Q[ha],N=fa,C=ca,W=ia,fa=4*ba,ca=H[2*ba],ia=H[2*ba+1],ea[N+2]=
ea[fa]=W-ia,ea[N+3]=ea[fa+1]=ca-C}render(H){const Q=null==H?H=new B:void 0,{delaunay:{halfedges:S,inedges:ea,hull:ba},circumcenters:fa,vectors:ia}=this;if(1>=ba.length)return null;for(let ha=0,Y=S.length;ha<Y;++ha){var ca=S[ha];if(!(ca<ha)){var N=2*Math.floor(ha/3);ca=2*Math.floor(ca/3);this._renderSegment(fa[N],fa[N+1],fa[ca],fa[ca+1],H)}}N=ba[ba.length-1];for(ca=0;ca<ba.length;++ca){var C=N;N=ba[ca];var W=2*Math.floor(ea[N]/3);const ha=fa[W];W=fa[W+1];C*=4;(C=this._project(ha,W,ia[C+2],ia[C+3]))&&
this._renderSegment(ha,W,C[0],C[1],H)}return Q&&Q.value()}renderBounds(H){const Q=null==H?H=new B:void 0;H.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin);return Q&&Q.value()}renderCell(H,Q){const S=null==Q?Q=new B:void 0;H=this._clip(H);if(null!==H&&H.length){Q.moveTo(H[0],H[1]);for(var ea=H.length;H[0]===H[ea-2]&&H[1]===H[ea-1]&&1<ea;)ea-=2;for(let ba=2;ba<ea;ba+=2)H[ba]===H[ba-2]&&H[ba+1]===H[ba-1]||Q.lineTo(H[ba],H[ba+1]);Q.closePath();return S&&S.value()}}*cellPolygons(){var {delaunay:{points:H}}=
this;for(let Q=0,S=H.length/2;Q<S;++Q)if(H=this.cellPolygon(Q))H.index=Q,yield H}cellPolygon(H){const Q=new M;this.renderCell(H,Q);return Q.value()}_renderSegment(H,Q,S,ea,ba){const fa=this._regioncode(H,Q),ia=this._regioncode(S,ea);if(0===fa&&0===ia)ba.moveTo(H,Q),ba.lineTo(S,ea);else if(H=this._clipSegment(H,Q,S,ea,fa,ia))ba.moveTo(H[0],H[1]),ba.lineTo(H[2],H[3])}contains(H,Q,S){return(Q=+Q,Q!==Q)||(S=+S,S!==S)?!1:this.delaunay._step(H,Q,S)===H}*neighbors(H){const Q=this._clip(H);if(Q)for(const S of this.delaunay.neighbors(H))if(H=
this._clip(S))a:for(let ea=0,ba=Q.length;ea<ba;ea+=2)for(let fa=0,ia=H.length;fa<ia;fa+=2)if(Q[ea]==H[fa]&&Q[ea+1]==H[fa+1]&&Q[(ea+2)%ba]==H[(fa+ia-2)%ia]&&Q[(ea+3)%ba]==H[(fa+ia-1)%ia]){yield S;break a}}_cell(H){const {circumcenters:Q,delaunay:{inedges:S,halfedges:ea,triangles:ba}}=this,fa=S[H];if(-1===fa)return null;const ia=[];let ca=fa;do{const N=Math.floor(ca/3);ia.push(Q[2*N],Q[2*N+1]);ca=2===ca%3?ca-2:ca+1;if(ba[ca]!==H)break;ca=ea[ca]}while(ca!==fa&&-1!==ca);return ia}_clip(H){if(0===H&&1===
this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const Q=this._cell(H);if(null===Q)return null;const {vectors:S}=this,ea=4*H;return S[ea]||S[ea+1]?this._clipInfinite(H,Q,S[ea],S[ea+1],S[ea+2],S[ea+3]):this._clipFinite(H,Q)}_clipFinite(H,Q){const S=Q.length;let ea=null;let ba=Q[S-2],fa=Q[S-1];let ia=this._regioncode(ba,fa),ca;for(let ha=0;ha<S;ha+=2){var N=ba;var C=fa;ba=Q[ha];fa=Q[ha+1];var W=ia;ia=this._regioncode(ba,fa);if(0===W&&
0===ia)ca=0,ea?ea.push(ba,fa):ea=[ba,fa];else{let Y,wa;if(0===W){if(null===(N=this._clipSegment(N,C,ba,fa,W,ia)))continue;[C,W,Y,wa]=N}else{if(null===(N=this._clipSegment(ba,fa,N,C,ia,W)))continue;[Y,wa,C,W]=N;N=ca;ca=this._edgecode(C,W);N&&ca&&this._edge(H,N,ca,ea,ea.length);ea?ea.push(C,W):ea=[C,W]}N=ca;ca=this._edgecode(Y,wa);N&&ca&&this._edge(H,N,ca,ea,ea.length);ea?ea.push(Y,wa):ea=[Y,wa]}}if(ea)N=ca,ca=this._edgecode(ea[0],ea[1]),N&&ca&&this._edge(H,N,ca,ea,ea.length);else if(this.contains(H,
(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return ea}_clipSegment(H,Q,S,ea,ba,fa){for(;;){if(0===ba&&0===fa)return[H,Q,S,ea];if(ba&fa)return null;var ia=void 0;let ca;ia=ba||fa;ia&8?(ia=H+(S-H)*(this.ymax-Q)/(ea-Q),ca=this.ymax):ia&4?(ia=H+(S-H)*(this.ymin-Q)/(ea-Q),ca=this.ymin):ia&2?(ca=Q+(ea-Q)*(this.xmax-H)/(S-H),ia=this.xmax):(ca=Q+(ea-Q)*(this.xmin-H)/(S-H),ia=this.xmin);ba?(H=ia,Q=ca,ba=this._regioncode(H,
Q)):(S=ia,ea=ca,fa=this._regioncode(S,ea))}}_clipInfinite(H,Q,S,ea,ba,fa){Q=Array.from(Q);let ia;(ia=this._project(Q[0],Q[1],S,ea))&&Q.unshift(ia[0],ia[1]);(ia=this._project(Q[Q.length-2],Q[Q.length-1],ba,fa))&&Q.push(ia[0],ia[1]);if(Q=this._clipFinite(H,Q))for(let ca=0,N=Q.length,C,W=this._edgecode(Q[N-2],Q[N-1]);ca<N;ca+=2)C=W,W=this._edgecode(Q[ca],Q[ca+1]),C&&W&&(ca=this._edge(H,C,W,Q,ca),N=Q.length);else this.contains(H,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(Q=[this.xmin,this.ymin,
this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return Q}_edge(H,Q,S,ea,ba){for(;Q!==S;){let fa,ia;switch(Q){case 5:Q=4;continue;case 4:Q=6;fa=this.xmax;ia=this.ymin;break;case 6:Q=2;continue;case 2:Q=10;fa=this.xmax;ia=this.ymax;break;case 10:Q=8;continue;case 8:Q=9;fa=this.xmin;ia=this.ymax;break;case 9:Q=1;continue;case 1:Q=5,fa=this.xmin,ia=this.ymin}ea[ba]===fa&&ea[ba+1]===ia||!this.contains(H,fa,ia)||(ea.splice(ba,0,fa,ia),ba+=2)}if(4<ea.length)for(H=0;H<ea.length;H+=2)if(Q=(H+
2)%ea.length,S=(H+4)%ea.length,ea[H]===ea[Q]&&ea[Q]===ea[S]||ea[H+1]===ea[Q+1]&&ea[Q+1]===ea[S+1])ea.splice(Q,2),H-=2;return ba}_project(H,Q,S,ea){let ba=Infinity,fa,ia,ca;if(0>ea){if(Q<=this.ymin)return null;(fa=(this.ymin-Q)/ea)<ba&&(ca=this.ymin,ia=H+(ba=fa)*S)}else if(0<ea){if(Q>=this.ymax)return null;(fa=(this.ymax-Q)/ea)<ba&&(ca=this.ymax,ia=H+(ba=fa)*S)}if(0<S){if(H>=this.xmax)return null;(fa=(this.xmax-H)/S)<ba&&(ia=this.xmax,ca=Q+fa*ea)}else if(0>S){if(H<=this.xmin)return null;(fa=(this.xmin-
H)/S)<ba&&(ia=this.xmin,ca=Q+fa*ea)}return[ia,ca]}_edgecode(H,Q){return(H===this.xmin?1:H===this.xmax?2:0)|(Q===this.ymin?4:Q===this.ymax?8:0)}_regioncode(H,Q){return(H<this.xmin?1:H>this.xmax?2:0)|(Q<this.ymin?4:Q>this.ymax?8:0)}}const D=2*Math.PI,y=Math.pow;class E{static from(H,Q=g,S=d,ea){if("length"in H){{const ba=H.length,fa=new Float64Array(2*ba);for(let ia=0;ia<ba;++ia){const ca=H[ia];fa[2*ia]=Q.call(ea,ca,ia,H);fa[2*ia+1]=S.call(ea,ca,ia,H)}H=fa}}else H=Float64Array.from(e(H,Q,S,ea));return new E(H)}constructor(H){this._delaunator=
new z(H);this.inedges=new Int32Array(H.length/2);this._hullIndex=new Int32Array(H.length/2);this.points=this._delaunator.coords;this._init()}update(){this._delaunator.update();this._init();return this}_init(){var H=this._delaunator;const Q=this.points;if(H.hull&&2<H.hull.length&&f(H)){this.collinear=Int32Array.from({length:Q.length/2},(ia,ca)=>ca).sort((ia,ca)=>Q[2*ia]-Q[2*ca]||Q[2*ia+1]-Q[2*ca+1]);H=this.collinear[0];var S=this.collinear[this.collinear.length-1];H=[Q[2*H],Q[2*H+1],Q[2*S],Q[2*S+1]];
H=1E-8*Math.hypot(H[3]-H[1],H[2]-H[0]);for(let ia=0,ca=Q.length/2;ia<ca;++ia)S=a(Q[2*ia],Q[2*ia+1],H),Q[2*ia]=S[0],Q[2*ia+1]=S[1];this._delaunator=new z(Q)}else delete this.collinear;H=this.halfedges=this._delaunator.halfedges;S=this.hull=this._delaunator.hull;const ea=this.triangles=this._delaunator.triangles,ba=this.inedges.fill(-1),fa=this._hullIndex.fill(-1);for(let ia=0,ca=H.length;ia<ca;++ia){const N=ea[2===ia%3?ia-2:ia+1];if(-1===H[ia]||-1===ba[N])ba[N]=ia}for(let ia=0,ca=S.length;ia<ca;++ia)fa[S[ia]]=
ia;2>=S.length&&0<S.length&&(this.triangles=(new Int32Array(3)).fill(-1),this.halfedges=(new Int32Array(3)).fill(-1),this.triangles[0]=S[0],this.triangles[1]=S[1],this.triangles[2]=S[1],ba[S[0]]=1,2===S.length&&(ba[S[1]]=0))}voronoi(H){return new K(this,H)}*neighbors(H){const {inedges:Q,hull:S,_hullIndex:ea,halfedges:ba,triangles:fa,collinear:ia}=this;if(ia){var ca=ia.indexOf(H);0<ca&&(yield ia[ca-1]);ca<ia.length-1&&(yield ia[ca+1])}else{var N=Q[H];if(-1!==N){var C=N;do{yield(ca=fa[C]);C=2===C%3?
C-2:C+1;if(fa[C]!==H)break;C=ba[C];if(-1===C){H=S[(ea[H]+1)%S.length];H!==ca&&(yield H);break}}while(C!==N)}}}find(H,Q,S=0){if((H=+H,H!==H)||(Q=+Q,Q!==Q))return-1;const ea=S;let ba;for(;0<=(ba=this._step(S,H,Q))&&ba!==S&&ba!==ea;)S=ba;return ba}_step(H,Q,S){const {inedges:ea,hull:ba,_hullIndex:fa,halfedges:ia,triangles:ca,points:N}=this;if(-1===ea[H]||!N.length)return(H+1)%(N.length>>1);let C=H,W=y(Q-N[2*H],2)+y(S-N[2*H+1],2);const ha=ea[H];let Y=ha;do{let wa=ca[Y];const xa=y(Q-N[2*wa],2)+y(S-N[2*
wa+1],2);xa<W&&(W=xa,C=wa);Y=2===Y%3?Y-2:Y+1;if(ca[Y]!==H)break;Y=ia[Y];if(-1===Y){Y=ba[(fa[H]+1)%ba.length];if(Y!==wa&&y(Q-N[2*Y],2)+y(S-N[2*Y+1],2)<W)return Y;break}}while(Y!==ha);return C}render(H){const Q=null==H?H=new B:void 0,{points:S,halfedges:ea,triangles:ba}=this;for(let ia=0,ca=ea.length;ia<ca;++ia){var fa=ea[ia];if(fa<ia)continue;const N=2*ba[ia];fa=2*ba[fa];H.moveTo(S[N],S[N+1]);H.lineTo(S[fa],S[fa+1])}this.renderHull(H);return Q&&Q.value()}renderPoints(H,Q=2){const S=null==H?H=new B:
void 0,{points:ea}=this;for(let ba=0,fa=ea.length;ba<fa;ba+=2){const ia=ea[ba],ca=ea[ba+1];H.moveTo(ia+Q,ca);H.arc(ia,ca,Q,0,D)}return S&&S.value()}renderHull(H){const Q=null==H?H=new B:void 0,{hull:S,points:ea}=this;var ba=2*S[0];const fa=S.length;H.moveTo(ea[ba],ea[ba+1]);for(ba=1;ba<fa;++ba){const ia=2*S[ba];H.lineTo(ea[ia],ea[ia+1])}H.closePath();return Q&&Q.value()}hullPolygon(){const H=new M;this.renderHull(H);return H.value()}renderTriangle(H,Q){const S=null==Q?Q=new B:void 0,{points:ea,triangles:ba}=
this,fa=2*ba[H*=3],ia=2*ba[H+1];H=2*ba[H+2];Q.moveTo(ea[fa],ea[fa+1]);Q.lineTo(ea[ia],ea[ia+1]);Q.lineTo(ea[H],ea[H+1]);Q.closePath();return S&&S.value()}*trianglePolygons(){const {triangles:H}=this;for(let Q=0,S=H.length/3;Q<S;++Q)yield this.trianglePolygon(Q)}trianglePolygon(H){const Q=new M;this.renderTriangle(H,Q);return Q.value()}}m.Delaunay=E;m.Voronoi=K;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[55]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J,A(28),A(16),A(54)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-delaunay"],l):(m="undefined"!==typeof globalThis?globalThis:m||self,l((m.vega=m.vega||{},m.vega.transforms={}),m.vega,m.vega,m.d3))})(this,function(m,l,u,G){function L(v){l.Transform.call(this,null,v)}L.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},
{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,"default":[[-1E5,-1E5],[1E5,1E5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string","default":"path"}]};const w=[-1E5,-1E5,1E5,1E5];u.inherits(L,l.Transform,{transform(v,t){const k=v.as||"path",g=t.source;if(!g||!g.length)return t;var d=v.size;d=d?[0,0,d[0],d[1]]:(d=v.extent)?[d[0][0],d[0][1],d[1][0],d[1][1]]:w;d=this.value=G.Delaunay.from(g,v.x,v.y).voronoi(d);
for(let e=0,n=g.length;e<n;++e){var f=d.cellPolygon(e),a=g[e];if(f){{const x=f[0][0],z=f[0][1];let B=f.length-1;for(;f[B][0]===x&&f[B][1]===z;--B);f="M"+f.slice(0,B+1).join("L")+"Z"}}else f=null;a[k]=f}return t.reflow(v.modified()).modifies(k)}});m.voronoi=L;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[56]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J,A(33),A(28),A(16),A(37),A(29)):"function"===typeof define&&define.amd?define("exports vega-canvas vega-dataflow vega-util vega-scale vega-statistics".split(" "),l):(m="undefined"!==typeof globalThis?globalThis:m||self,l((m.vega=m.vega||{},m.vega.transforms={}),m.vega,m.vega,m.vega,m.vega,m.vega))})(this,function(m,l,u,G,L,w){function v(){function B(N){N.width=N.height=1;var C=Math.sqrt(N.getContext("2d").getImageData(0,
0,1,1).data.length>>2);N.width=2048/C;N.height=2048/C;N=N.getContext("2d");N.fillStyle=N.strokeStyle="red";N.textAlign="center";return{context:N,ratio:C}}function M(N,C,W){for(var ha=C.x,Y=C.y,wa=Math.sqrt(K[0]*K[0]+K[1]*K[1]),xa=ba(K),Ha=.5>ia()?1:-1,Za=-Ha,gb,ra;gb=xa(Za+=Ha);){ra=~~gb[0];gb=~~gb[1];if(Math.min(Math.abs(ra),Math.abs(gb))>=wa)break;C.x=ha+ra;C.y=Y+gb;if(!(0>C.x+C.x0||0>C.y+C.y0||C.x+C.x1>K[0]||C.y+C.y1>K[1])){if(!(ra=!W)){a:{ra=K[0];ra>>=5;gb=C.sprite;var Pa=C.width>>5;var Ua=C.x-
(Pa<<4);for(var za=Ua&127,qa=32-za,R=C.y1-C.y0,T=(C.y+C.y0)*ra+(Ua>>5),X=0;X<R;X++){for(var Z=Ua=0;Z<=Pa;Z++)if((Ua<<qa|(Z<Pa?(Ua=gb[X*Pa+Z])>>>za:0))&N[T+Z]){ra=!0;break a}T+=ra}ra=!1}ra=!ra}if(ra&&(!W||C.x+C.x1>W[0].x&&C.x+C.x0<W[1].x&&C.y+C.y1>W[0].y&&C.y+C.y0<W[1].y)){W=C.sprite;ha=C.width>>5;Y=K[0]>>5;Za=C.x-(ha<<4);wa=Za&127;xa=32-wa;Ha=C.y1-C.y0;Za=(C.y+C.y0)*Y+(Za>>5);for(gb=0;gb<Ha;gb++){for(Pa=ra=0;Pa<=ha;Pa++)N[Za+Pa]=N[Za+Pa]|ra<<xa|(Pa<ha?(ra=W[gb*ha+Pa])>>>wa:0);Za+=Y}C.sprite=null;
return!0}}}return!1}var K=[256,256],D,y,E,H,Q,S,ea,ba=g,fa=[],ia=Math.random,ca={layout:function(){for(var N=B(l.canvas()),C=d((K[0]>>5)*K[1]),W=null,ha=fa.length,Y=-1,wa=[],xa=fa.map(Za=>({text:D(Za),font:y(Za),style:H(Za),weight:Q(Za),rotate:S(Za),size:~~(E(Za)+1E-14),padding:ea(Za),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:Za})).sort((Za,gb)=>gb.size-Za.size);++Y<ha;){var Ha=xa[Y];Ha.x=K[0]*(ia()+.5)>>1;Ha.y=K[1]*(ia()+.5)>>1;t(N,Ha,xa,Y);Ha.hasText&&M(C,Ha,W)&&(wa.push(Ha),
W?k(W,Ha):W=[{x:Ha.x+Ha.x0,y:Ha.y+Ha.y0},{x:Ha.x+Ha.x1,y:Ha.y+Ha.y1}],Ha.x-=K[0]>>1,Ha.y-=K[1]>>1)}return wa},words:function(N){return arguments.length?(fa=N,ca):fa},size:function(N){return arguments.length?(K=[+N[0],+N[1]],ca):K},font:function(N){return arguments.length?(y=f(N),ca):y},fontStyle:function(N){return arguments.length?(H=f(N),ca):H},fontWeight:function(N){return arguments.length?(Q=f(N),ca):Q},rotate:function(N){return arguments.length?(S=f(N),ca):S},text:function(N){return arguments.length?
(D=f(N),ca):D},spiral:function(N){return arguments.length?(ba=n[N]||N,ca):ba},fontSize:function(N){return arguments.length?(E=f(N),ca):E},padding:function(N){return arguments.length?(ea=f(N),ca):ea},random:function(N){return arguments.length?(ia=N,ca):ia}};return ca}function t(B,M,K,D){if(!M.sprite){var y=B.context,E=B.ratio;y.clearRect(0,0,2048/E,2048/E);var H=B=0,Q=0,S=K.length;for(--D;++D<S;){M=K[D];y.save();y.font=M.style+" "+M.weight+" "+~~((M.size+1)/E)+"px "+M.font;var ea=y.measureText(M.text+
"m").width*E;var ba=M.size<<1;if(M.rotate){var fa=Math.sin(M.rotate*e),ia=Math.cos(M.rotate*e),ca=ea*ia,N=ea*fa;ia*=ba;ea=ba*fa;ea=Math.max(Math.abs(ca+ea),Math.abs(ca-ea))+31>>5<<5;ba=~~Math.max(Math.abs(N+ia),Math.abs(N-ia))}else ea=ea+31>>5<<5;ba>Q&&(Q=ba);2048<=B+ea&&(B=0,H+=Q,Q=0);if(2048<=H+ba)break;y.translate((B+(ea>>1))/E,(H+(ba>>1))/E);M.rotate&&y.rotate(M.rotate*e);y.fillText(M.text,0,0);M.padding&&(y.lineWidth=2*M.padding,y.strokeText(M.text,0,0));y.restore();M.width=ea;M.height=ba;M.xoff=
B;M.yoff=H;M.x1=ea>>1;M.y1=ba>>1;M.x0=-M.x1;M.y0=-M.y1;M.hasText=!0;B+=ea}S=y.getImageData(0,0,2048/E,2048/E).data;for(ca=[];0<=--D;)if(M=K[D],M.hasText){ea=M.width;y=ea>>5;ba=M.y1-M.y0;for(E=0;E<ba*y;E++)ca[E]=0;B=M.xoff;if(null==B)break;H=M.yoff;N=0;fa=-1;for(Q=0;Q<ba;Q++){for(E=0;E<ea;E++)ia=S[2048*(H+Q)+(B+E)<<2]?1<<31-E%32:0,ca[y*Q+(E>>5)]|=ia,N|=ia;N?fa=Q:(M.y0++,ba--,Q--,H++)}M.y1=M.y0+fa;M.sprite=ca.slice(0,(M.y1-M.y0)*y)}}}function k(B,M){var K=B[0];B=B[1];M.x+M.x0<K.x&&(K.x=M.x+M.x0);M.y+
M.y0<K.y&&(K.y=M.y+M.y0);M.x+M.x1>B.x&&(B.x=M.x+M.x1);M.y+M.y1>B.y&&(B.y=M.y+M.y1)}function g(B){var M=B[0]/B[1];return function(K){return[M*(K*=.1)*Math.cos(K),K*Math.sin(K)]}}function d(B){for(var M=[],K=-1;++K<B;)M[K]=0;return M}function f(B){return"function"===typeof B?B:function(){return B}}function a(B){u.Transform.call(this,v(),B)}var e=Math.PI/180,n={archimedean:g,rectangular:function(B){var M=4*B[0]/B[1],K=0,D=0;return function(y){var E=0>y?-1:1;switch(Math.sqrt(1+4*E*y)-E&3){case 0:K+=M;
break;case 1:D+=4;break;case 2:K-=M;break;default:D-=4}return[K,D]}}};const x="x y font fontSize fontStyle fontWeight angle".split(" "),z="text font rotate fontSize fontStyle fontWeight".split(" ");a.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,"default":"sans-serif"},{name:"fontStyle",type:"string",expr:!0,"default":"normal"},{name:"fontWeight",type:"string",expr:!0,"default":"normal"},{name:"fontSize",
type:"number",expr:!0,"default":14},{name:"fontSizeRange",type:"number",array:"nullable","default":[10,50]},{name:"rotate",type:"number",expr:!0,"default":0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,"default":x}]};G.inherits(a,u.Transform,{transform(B,M){function K(ea){ea=B[ea];return G.isFunction(ea)&&M.modified(ea.fields)}!B.size||B.size[0]&&B.size[1]||G.error("Wordcloud size dimensions must be non-zero.");
const D=B.modified();if(D||M.changed(M.ADD_REM)||z.some(K)){var y=M.materialize(M.SOURCE).source,E=this.value,H=B.as||x,Q=B.fontSize||14,S;G.isFunction(Q)?S=B.fontSizeRange:Q=G.constant(Q);if(S){const ea=Q,ba=L.scale("sqrt")().domain(G.extent(y,ea)).range(S);Q=fa=>ba(ea(fa))}y.forEach(ea=>{ea[H[0]]=NaN;ea[H[1]]=NaN;ea[H[3]]=0});y=E.words(y).text(B.text).size(B.size||[500,500]).padding(B.padding||1).spiral(B.spiral||"archimedean").rotate(B.rotate||0).font(B.font||"sans-serif").fontStyle(B.fontStyle||
"normal").fontWeight(B.fontWeight||"normal").fontSize(Q).random(w.random).layout();Q=E.size();E=Q[0]>>1;Q=Q[1]>>1;S=y.length;for(let ea=0,ba,fa;ea<S;++ea)ba=y[ea],fa=ba.datum,fa[H[0]]=ba.x+E,fa[H[1]]=ba.y+Q,fa[H[2]]=ba.font,fa[H[3]]=ba.size,fa[H[4]]=ba.style,fa[H[5]]=ba.weight,fa[H[6]]=ba.rotate;return M.reflow(D).modifies(H)}}});m.wordcloud=a;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[57]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J,A(17),A(28),A(16)):"function"===typeof define&&define.amd?define(["exports","d3-array","vega-dataflow","vega-util"],l):(m="undefined"!==typeof globalThis?globalThis:m||self,l((m.vega=m.vega||{},m.vega.transforms={}),m.d3,m.vega,m.vega))})(this,function(m,l,u,G){function L(){let n=8,x=[],z=new Uint32Array(0),B=w(0,n),M=w(0,n);return{data:()=>x,seen:()=>{var K=z;var D=x.length;K.length>=D||(D=new K.constructor(D),
D.set(K),K=D);return z=K},add(K){for(let D=0,y=x.length,E=K.length,H;D<E;++D)H=K[D],H._index=y++,x.push(H)},remove(K,D){const y=x.length;K=Array(y-K);const E=x;let H,Q,S;for(Q=0;!D[Q]&&Q<y;++Q)K[Q]=x[Q],E[Q]=Q;for(S=Q;Q<y;++Q)H=x[Q],D[Q]?E[Q]=-1:(E[Q]=S,B[S]=B[Q],M[S]=M[Q],K[S]=H,H._index=S++),B[Q]=0;x=K;return E},size:()=>x.length,curr:()=>B,prev:()=>M,reset:K=>M[K]=B[K],all:()=>257>n?255:65537>n?65535:4294967295,set(K,D){B[K]|=D},clear(K,D){B[K]&=~D},resize(K,D){if(K>B.length||D>n)n=Math.max(D,
n),B=w(K,n,B),M=w(K,n)}}}function w(n,x,z){n=(257>x?f:65537>x?a:e)(n);z&&n.set(z);return n}function v(n,x,z){const B=1<<x;return{one:B,zero:~B,range:z.slice(),bisect:n.bisect,index:n.index,size:n.size,onAdd(M,K){var D=this.bisect(this.range,M.value);M=M.index;const y=D[0];D=D[1];const E=M.length;let H;for(H=0;H<y;++H)K[M[H]]|=B;for(H=D;H<E;++H)K[M[H]]|=B;return this}}}function t(){let n=new Uint32Array(0),x=[],z=0;return{insert:function(B,M,K){if(!M.length)return[];const D=z,y=M.length,E=new Uint32Array(y);
let H=Array(y);var Q;for(Q=0;Q<y;++Q)H[Q]=B(M[Q]),E[Q]=Q;H=k(H,E);if(D){B=x;M=n;x=Array(D+y);n=new Uint32Array(D+y);{Q=H;var S=x,ea=n;let ba=0,fa=0,ia;for(ia=0;ba<D&&fa<y;++ia)B[ba]<Q[fa]?(S[ia]=B[ba],ea[ia]=M[ba++]):(S[ia]=Q[fa],ea[ia]=E[fa++]+K);for(;ba<D;++ba,++ia)S[ia]=B[ba],ea[ia]=M[ba];for(;fa<y;++fa,++ia)S[ia]=Q[fa],ea[ia]=E[fa]+K}}else{if(0<K)for(Q=0;Q<y;++Q)E[Q]+=K;x=H;n=E}z=D+y;return{index:E,value:H}},remove:function(B,M){const K=z;let D,y,E;for(y=0;!M[n[y]]&&y<K;++y);for(E=y;y<K;++y)M[D=
n[y]]||(n[E]=D,x[E]=x[y],++E);z=K-B},bisect:function(B,M){let K;M?K=M.length:(M=x,K=z);return[l.bisectLeft(M,B[0],0,K),l.bisectRight(M,B[1],0,K)]},reindex:function(B){for(let M=0,K=z;M<K;++M)n[M]=B[n[M]]},index:()=>n,size:()=>z}}function k(n,x){n.sort.call(x,(z,B)=>{z=n[z];B=n[B];return z<B?-1:z>B?1:0});return l.permute(n,x)}function g(n){u.Transform.call(this,L(),n);this._dims=this._indices=null}function d(n){u.Transform.call(this,null,n)}const f=n=>new Uint8Array(n),a=n=>new Uint16Array(n),e=n=>
new Uint32Array(n);g.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};G.inherits(g,u.Transform,{transform(n,x){return this._dims?n.modified("fields")||n.fields.some(z=>x.modified(z.fields))?this.reinit(n,x):this.eval(n,x):this.init(n,x)},init(n,x){const z=n.fields,B=n.query,M=this._indices={},K=this._dims=[],D=B.length;let y=0;for(var E;y<D;++y)E=z[y].fname,
E=M[E]||(M[E]=t()),K.push(v(E,y,B[y]));return this.eval(n,x)},reinit(n,x){const z=x.materialize().fork(),B=n.fields,M=n.query,K=this._indices,D=this._dims,y=this.value,E=y.curr(),H=y.prev(),Q=y.all(),S=z.rem=z.add,ea=z.mod,ba=M.length,fa={};let ia;var ca;let N,C,W,ha;H.set(E);x.rem.length&&(N=this.remove(n,x,z));x.add.length&&y.add(x.add);if(x.mod.length){C={};var Y=x.mod;W=0;for(ca=Y.length;W<ca;++W)C[Y[W]._index]=1}for(W=0;W<ba;++W)if(ha=B[W],!D[W]||n.modified("fields",W)||x.modified(ha.fields))ca=
ha.fname,(Y=fa[ca])||(K[ca]=ia=t(),fa[ca]=Y=ia.insert(ha,x.source,0)),D[W]=v(ia,W,M[W]).onAdd(Y,E);W=0;for(ca=y.data().length;W<ca;++W)N[W]||(H[W]!==E[W]?S.push(W):C[W]&&E[W]!==Q&&ea.push(W));y.mask=(1<<ba)-1;return z},eval(n,x){const z=x.materialize().fork(),B=this._dims.length;let M=0;x.rem.length&&(this.remove(n,x,z),M|=(1<<B)-1);n.modified("query")&&!n.modified("fields")&&(M|=this.update(n,x,z));x.add.length&&(this.insert(n,x,z),M|=(1<<B)-1);x.mod.length&&(this.modify(x,z),M|=(1<<B)-1);this.value.mask=
M;return z},insert(n,x,z){x=x.add;var B=this.value;const M=this._dims,K=this._indices;n=n.fields;const D={};z=z.add;const y=B.size()+x.length,E=M.length;let H=B.size();B.resize(y,E);B.add(x);const Q=B.curr(),S=B.prev(),ea=B.all();for(B=0;B<E;++B){var ba=n[B].fname;ba=D[ba]||(D[ba]=K[ba].insert(n[B],x,H));M[B].onAdd(ba,Q)}for(;H<y;++H)S[H]=ea,Q[H]!==ea&&z.push(H)},modify(n,x){x=x.mod;var z=this.value;const B=z.curr();z=z.all();n=n.mod;let M,K,D;M=0;for(K=n.length;M<K;++M)D=n[M]._index,B[D]!==z&&x.push(D)},
remove(n,x,z){n=this._indices;var B=this.value;const M=B.curr(),K=B.prev();B=B.all();const D={};z=z.rem;const y=x.rem;let E,H,Q,S;E=0;for(H=y.length;E<H;++E)Q=y[E]._index,D[Q]=1,K[Q]=S=M[Q],M[Q]=B,S!==B&&z.push(Q);for(Q in n)n[Q].remove(H,D);this.reindex(x,H,D);return D},reindex(n,x,z){const B=this._indices,M=this.value;n.runAfter(()=>{const K=M.remove(x,z);for(const D in B)B[D].reindex(K)})},update(n,x,z){const B=this._dims,M=n.query;x=x.stamp;const K=B.length;let D=0,y,E;for(E=z.filters=0;E<K;++E)n.modified("query",
E)&&(y=E,++D);if(1===D)D=B[y].one,this.incrementOne(B[y],M[y],z.add,z.rem);else for(D=E=0;E<K;++E)n.modified("query",E)&&(D|=B[E].one,this.incrementAll(B[E],M[E],x,z.add),z.rem=z.add);return D},incrementAll(n,x,z,B){var M=this.value;const K=M.seen(),D=M.curr();M=M.prev();const y=n.index();var E=n.bisect(n.range),H=n.bisect(x);const Q=H[0];H=H[1];const S=E[0];E=E[1];const ea=n.one;let ba,fa,ia;if(Q<S)for(ba=Q,fa=Math.min(S,H);ba<fa;++ba)ia=y[ba],K[ia]!==z&&(M[ia]=D[ia],K[ia]=z,B.push(ia)),D[ia]^=ea;
else if(Q>S)for(ba=S,fa=Math.min(Q,E);ba<fa;++ba)ia=y[ba],K[ia]!==z&&(M[ia]=D[ia],K[ia]=z,B.push(ia)),D[ia]^=ea;if(H>E)for(ba=Math.max(Q,E),fa=H;ba<fa;++ba)ia=y[ba],K[ia]!==z&&(M[ia]=D[ia],K[ia]=z,B.push(ia)),D[ia]^=ea;else if(H<E)for(ba=Math.max(S,H),fa=E;ba<fa;++ba)ia=y[ba],K[ia]!==z&&(M[ia]=D[ia],K[ia]=z,B.push(ia)),D[ia]^=ea;n.range=x.slice()},incrementOne(n,x,z,B){const M=this.value.curr(),K=n.index();var D=n.bisect(n.range),y=n.bisect(x);const E=y[0];y=y[1];const H=D[0];D=D[1];const Q=n.one;
let S,ea,ba;if(E<H)for(S=E,ea=Math.min(H,y);S<ea;++S)ba=K[S],M[ba]^=Q,z.push(ba);else if(E>H)for(S=H,ea=Math.min(E,D);S<ea;++S)ba=K[S],M[ba]^=Q,B.push(ba);if(y>D)for(S=Math.max(E,D),ea=y;S<ea;++S)ba=K[S],M[ba]^=Q,z.push(ba);else if(y<D)for(S=Math.max(H,y),ea=D;S<ea;++S)ba=K[S],M[ba]^=Q,B.push(ba);n.range=x.slice()}});d.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",
required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};G.inherits(d,u.Transform,{transform(n,x){const z=~(n.ignore||0);n=n.filter;const B=n.mask;if(0===(B&z))return x.StopPropagation;x=x.fork(x.ALL);const M=n.data(),K=n.curr(),D=n.prev(),y=E=>K[E]&z?null:M[E];x.filter(x.MOD,y);B&B-1?(x.filter(x.ADD,E=>{const H=K[E]&z;return!H&&H^D[E]&z?M[E]:null}),x.filter(x.REM,E=>{const H=K[E]&z;return!H||H^H^D[E]&z?null:M[E]})):(x.filter(x.ADD,y),x.filter(x.REM,E=>(K[E]&z)===B?M[E]:
null));return x.filter(x.SOURCE,E=>y(E._index))}});m.crossfilter=g;m.resolvefilter=d;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[58]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J,A(16)):"function"===typeof define&&define.amd?define(["exports","vega-util"],l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.vega={},m.vega))})(this,function(m,l){function u(R){this.type=R}function G(R){switch(R.type){case "ArrayExpression":return R.elements;case "BinaryExpression":case "LogicalExpression":return[R.left,R.right];case "CallExpression":return[R.callee].concat(R.arguments);
case "ConditionalExpression":return[R.test,R.consequent,R.alternate];case "MemberExpression":return[R.object,R.property];case "ObjectExpression":return R.properties;case "Property":return[R.key,R.value];case "UnaryExpression":return[R.argument];default:return[]}}function L(R,T){if(!R)throw Error("ASSERT: "+T);}function w(R){return 48<=R&&57>=R}function v(R){return 0<="0123456789abcdefABCDEF".indexOf(R)}function t(R){return 0<="01234567".indexOf(R)}function k(R){return 10===R||13===R||8232===R||8233===
R}function g(R){return 36===R||95===R||65<=R&&90>=R||97<=R&&122>=R||92===R||128<=R&&ra.test(String.fromCharCode(R))}function d(R){return 36===R||95===R||65<=R&&90>=R||97<=R&&122>=R||48<=R&&57>=R||92===R||128<=R&&Pa.test(String.fromCharCode(R))}function f(){for(;Ha<Za;){const R=xa.charCodeAt(Ha);if(32===R||9===R||11===R||12===R||160===R||5760<=R&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(R)||k(R))++Ha;else break}}function a(R){var T=0;var X=
"u"===R?4:2;for(R=0;R<X;++R)if(Ha<Za&&v(xa[Ha])){var Z=xa[Ha++];T=16*T+"0123456789abcdef".indexOf(Z.toLowerCase())}else S({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(T)}function e(){var R=xa.charCodeAt(Ha++);var T=String.fromCharCode(R);92===R&&(117!==xa.charCodeAt(Ha)&&S({},"Unexpected token %0","ILLEGAL"),++Ha,(R=a("u"))&&"\\"!==R&&g(R.charCodeAt(0))||S({},"Unexpected token %0","ILLEGAL"),T=R);for(;Ha<Za;){R=xa.charCodeAt(Ha);if(!d(R))break;++Ha;T+=String.fromCharCode(R);92===
R&&(T=T.substr(0,T.length-1),117!==xa.charCodeAt(Ha)&&S({},"Unexpected token %0","ILLEGAL"),++Ha,(R=a("u"))&&"\\"!==R&&d(R.charCodeAt(0))||S({},"Unexpected token %0","ILLEGAL"),T+=R)}return T}function n(){var R=Ha,T=xa.charCodeAt(Ha),X=xa[Ha];switch(T){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Ha,{type:7,value:String.fromCharCode(T),start:R,end:Ha};default:var Z=xa.charCodeAt(Ha+1);if(61===Z)switch(T){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Ha+=
2,{type:7,value:String.fromCharCode(T)+String.fromCharCode(Z),start:R,end:Ha};case 33:case 61:return Ha+=2,61===xa.charCodeAt(Ha)&&++Ha,{type:7,value:xa.slice(R,Ha),start:R,end:Ha}}}T=xa.substr(Ha,4);if("\x3e\x3e\x3e\x3d"===T)return Ha+=4,{type:7,value:T,start:R,end:Ha};T=T.substr(0,3);if("\x3e\x3e\x3e"===T||"\x3c\x3c\x3d"===T||"\x3e\x3e\x3d"===T)return Ha+=3,{type:7,value:T,start:R,end:Ha};T=T.substr(0,2);if(X===T[1]&&0<="+-\x3c\x3e\x26|".indexOf(X)||"\x3d\x3e"===T)return Ha+=2,{type:7,value:T,start:R,
end:Ha};if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(X))return++Ha,{type:7,value:X,start:R,end:Ha};S({},"Unexpected token %0","ILLEGAL")}function x(){var R=xa[Ha];L(w(R.charCodeAt(0))||"."===R,"Numeric literal must start with a decimal digit or a decimal point");var T=Ha;var X="";if("."!==R){X=xa[Ha++];R=xa[Ha];if("0"===X){if("x"===R||"X"===R){++Ha;for(X="";Ha<Za&&v(xa[Ha]);)X+=xa[Ha++];0===X.length&&S({},"Unexpected token %0","ILLEGAL");g(xa.charCodeAt(Ha))&&S({},"Unexpected token %0","ILLEGAL");return T=
{type:6,value:parseInt("0x"+X,16),start:T,end:Ha}}if(t(R)){for(X="0"+xa[Ha++];Ha<Za&&t(xa[Ha]);)X+=xa[Ha++];(g(xa.charCodeAt(Ha))||w(xa.charCodeAt(Ha)))&&S({},"Unexpected token %0","ILLEGAL");return T={type:6,value:parseInt(X,8),octal:!0,start:T,end:Ha}}R&&w(R.charCodeAt(0))&&S({},"Unexpected token %0","ILLEGAL")}for(;w(xa.charCodeAt(Ha));)X+=xa[Ha++];R=xa[Ha]}if("."===R){for(X+=xa[Ha++];w(xa.charCodeAt(Ha));)X+=xa[Ha++];R=xa[Ha]}if("e"===R||"E"===R){X+=xa[Ha++];R=xa[Ha];if("+"===R||"-"===R)X+=xa[Ha++];
if(w(xa.charCodeAt(Ha)))for(;w(xa.charCodeAt(Ha));)X+=xa[Ha++];else S({},"Unexpected token %0","ILLEGAL")}g(xa.charCodeAt(Ha))&&S({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(X),start:T,end:Ha}}function z(R,T){let X=R;0<=T.indexOf("u")&&(X=X.replace(/\\u\{([0-9a-fA-F]+)\}/g,(Z,oa)=>{if(1114111>=parseInt(oa,16))return"x";S({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(X)}catch(Z){S({},"Invalid regular expression")}try{return new RegExp(R,
T)}catch(Z){return null}}function B(){f();if(Ha>=Za)return{type:2,start:Ha,end:Ha};var R=xa.charCodeAt(Ha);if(g(R)){R=Ha;if(92===xa.charCodeAt(Ha))var T=e();else a:{for(T=Ha++;Ha<Za;){var X=xa.charCodeAt(Ha);if(92===X){Ha=T;T=e();break a}if(d(X))++Ha;else break}T=xa.slice(T,Ha)}return{type:1===T.length?3:Ua.hasOwnProperty(T)?4:"null"===T?5:"true"===T||"false"===T?1:3,value:T,start:R,end:Ha}}if(40===R||41===R||59===R)return n();if(39===R||34===R){var Z="";X=!1;R=xa[Ha];L("'"===R||'"'===R,"String literal must starts with a quote");
T=Ha;for(++Ha;Ha<Za;){var oa=xa[Ha++];if(oa===R){R="";break}else if("\\"===oa)if((oa=xa[Ha++])&&k(oa.charCodeAt(0)))"\r"===oa&&"\n"===xa[Ha]&&++Ha;else switch(oa){case "u":case "x":if("{"===xa[Ha]){++Ha;var na=xa[Ha];oa=0;for("}"===na&&S({},"Unexpected token %0","ILLEGAL");Ha<Za;){na=xa[Ha++];if(!v(na))break;oa=16*oa+"0123456789abcdef".indexOf(na.toLowerCase())}(1114111<oa||"}"!==na)&&S({},"Unexpected token %0","ILLEGAL");oa=65535>=oa?String.fromCharCode(oa):String.fromCharCode((oa-65536>>10)+55296,
(oa-65536&1023)+56320);Z+=oa}else Z+=a(oa);break;case "n":Z+="\n";break;case "r":Z+="\r";break;case "t":Z+="\t";break;case "b":Z+="\b";break;case "f":Z+="\f";break;case "v":Z+="\x0B";break;default:t(oa)?(na="01234567".indexOf(oa),0!==na&&(X=!0),Ha<Za&&t(xa[Ha])&&(X=!0,na=8*na+"01234567".indexOf(xa[Ha++]),0<="0123".indexOf(oa)&&Ha<Za&&t(xa[Ha])&&(na=8*na+"01234567".indexOf(xa[Ha++]))),Z+=String.fromCharCode(na)):Z+=oa}else if(k(oa.charCodeAt(0)))break;else Z+=oa}""!==R&&S({},"Unexpected token %0",
"ILLEGAL");return{type:8,value:Z,octal:X,start:T,end:Ha}}return 46===R?w(xa.charCodeAt(Ha+1))?x():n():w(R)?x():n()}function M(){const R=gb;Ha=R.end;gb=B();Ha=R.end;return R}function K(){const R=Ha;gb=B();Ha=R}function D(R,T,X){const Z=new u("||"===R||"\x26\x26"===R?"LogicalExpression":"BinaryExpression");Z.operator=R;Z.left=T;Z.right=X;return Z}function y(R){const T=new u("Identifier");T.name=R;return T}function E(R){const T=new u("Literal");T.value=R.value;T.raw=xa.slice(R.start,R.end);R.regex&&
("//"===T.raw&&(T.raw="/(?:)/"),T.regex=R.regex);return T}function H(R,T,X){const Z=new u("MemberExpression");Z.computed="["===R;Z.object=T;Z.property=X;Z.computed||(X.member=!0);return Z}function Q(R,T,X){const Z=new u("Property");Z.key=T;Z.value=X;Z.kind=R;return Z}function S(R,T){var X=Array.prototype.slice.call(arguments,2),Z=T.replace(/%(\d)/g,(na,Aa)=>{L(Aa<X.length,"Message reference must be in range");return X[Aa]});var oa=Error(Z);oa.index=Ha;oa.description=Z;throw oa;}function ea(R){2===
R.type&&S(R,"Unexpected end of input");6===R.type&&S(R,"Unexpected number");8===R.type&&S(R,"Unexpected string");3===R.type&&S(R,"Unexpected identifier");4===R.type&&S(R,"Unexpected reserved word");S(R,"Unexpected token %0",R.value)}function ba(R){const T=M();7===T.type&&T.value===R||ea(T)}function fa(R){return 7===gb.type&&gb.value===R}function ia(){Ha=gb.start;const R=M();return 8===R.type||6===R.type?(R.octal&&S(R,"Octal literals are not allowed in strict mode."),E(R)):y(R.value)}function ca(){if(fa("(")){ba("(");
var R=Y();ba(")");return R}if(fa("[")){R=[];Ha=gb.start;for(ba("[");!fa("]");)fa(",")?(M(),R.push(null)):(R.push(ha()),fa("]")||ba(","));M();var T=new u("ArrayExpression");T.elements=R;return R=T}if(fa("{")){R=[];T={};var X=String;Ha=gb.start;for(ba("{");!fa("}");){Ha=gb.start;var Z=gb;if(3===Z.type){var oa=ia();ba(":");Z=ha();Z=Q("init",oa,Z)}else 2===Z.type||7===Z.type?(ea(Z),Z=void 0):(oa=ia(),ba(":"),Z=ha(),Z=Q("init",oa,Z));oa="Identifier"===Z.key.type?Z.key.name:X(Z.key.value);oa="$"+oa;Object.prototype.hasOwnProperty.call(T,
oa)?S({},"Duplicate data property in object literal not allowed in strict mode"):T[oa]=!0;R.push(Z);fa("}")||ba(",")}ba("}");T=new u("ObjectExpression");T.properties=R;return R=T}R=gb.type;Ha=gb.start;if(3===R||za[gb.value])T=y(M().value);else if(8===R||6===R)gb.octal&&S(gb,"Octal literals are not allowed in strict mode."),T=E(M());else{if(4===R)throw Error("Disabled.");if(1===R)R=M(),R.value="true"===R.value,T=E(R);else if(5===R)R=M(),R.value=null,T=E(R);else if(fa("/")||fa("/\x3d")){var na;gb=null;
f();R=Ha;T=xa[Ha];L("/"===T,"Regular expression literal must start with a slash");X=xa[Ha++];for(oa=Z=!1;Ha<Za;)if(T=xa[Ha++],X+=T,"\\"===T)T=xa[Ha++],k(T.charCodeAt(0))&&S({},"Invalid regular expression: missing /"),X+=T;else if(k(T.charCodeAt(0)))S({},"Invalid regular expression: missing /");else if(Z)"]"===T&&(Z=!1);else if("/"===T){oa=!0;break}else"["===T&&(Z=!0);oa||S({},"Invalid regular expression: missing /");T=X.substr(1,X.length-2);for(na=oa="";Ha<Za;){Z=xa[Ha];if(!d(Z.charCodeAt(0)))break;
++Ha;"\\"===Z&&Ha<Za?S({},"Unexpected token %0","ILLEGAL"):(na+=Z,oa+=Z)}0<=na.search(/[^gimuy]/g)&&S({},"Invalid regular expression",na);Z=na;na=z(T,Z);T=E({literal:X+oa,value:na,regex:{pattern:T,flags:Z},start:R,end:Ha});K()}else ea(M())}return T}function N(){var R;for(R=ca();;)if(fa(".")){ba(".");Ha=gb.start;var T=M();3===T.type||4===T.type||1===T.type||5===T.type||ea(T);T=y(T.value);R=H(".",R,T)}else if(fa("(")){T=[];ba("(");if(!fa(")"))for(;Ha<Za;){T.push(ha());if(fa(")"))break;ba(",")}ba(")");
{const X=new u("CallExpression");X.callee=R;X.arguments=T;R=X}}else if(fa("["))ba("["),T=Y(),ba("]"),R=H("[",R,T);else break;if(7===gb.type&&(fa("++")||fa("--")))throw Error("Disabled.");return R}function C(){if(7!==gb.type&&4!==gb.type)var R=N();else{if(fa("++")||fa("--"))throw Error("Disabled.");if(fa("+")||fa("-")||fa("~")||fa("!")){var T=M();R=C();{T=T.value;const X=new u("UnaryExpression");X.operator=T;X.argument=R;X.prefix=!0;R=X}}else{if(4===gb.type&&"delete"===gb.value||4===gb.type&&"void"===
gb.value||4===gb.type&&"typeof"===gb.value)throw Error("Disabled.");R=N()}}return R}function W(R){let T=0;if(7!==R.type&&4!==R.type)return 0;switch(R.value){case "||":T=1;break;case "\x26\x26":T=2;break;case "|":T=3;break;case "^":T=4;break;case "\x26":T=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":T=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":T=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":T=8;break;case "+":case "-":T=
9;break;case "*":case "/":case "%":T=11}return T}function ha(){var R=gb;var T=C();var X=gb;var Z=W(X);if(0===Z)var oa=T;else{X.prec=Z;M();R=[R,gb];var na=C();for(oa=[T,X,na];0<(Z=W(gb));){for(;2<oa.length&&Z<=oa[oa.length-2].prec;)na=oa.pop(),X=oa.pop().value,T=oa.pop(),R.pop(),T=D(X,T,na),oa.push(T);X=M();X.prec=Z;oa.push(X);R.push(gb);T=C();oa.push(T)}Z=oa.length-1;T=oa[Z];for(R.pop();1<Z;)R.pop(),T=D(oa[Z-1].value,oa[Z-2],T),Z-=2;oa=T}fa("?")&&(M(),R=ha(),ba(":"),Z=ha(),T=new u("ConditionalExpression"),
T.test=oa,T.consequent=R,T.alternate=Z,oa=T);return oa}function Y(){const R=ha();if(fa(","))throw Error("Disabled.");return R}function wa(R){function T(X,Z,oa){return na=>{{let Aa=R(na[0]);Z&&(Aa=Z+"("+Aa+")",0===Z.lastIndexOf("new ",0)&&(Aa="("+Aa+")"));na=Aa+"."+X+(0>oa?"":0===oa?"()":"("+na.slice(1).map(R).join(",")+")")}return na}}return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",
exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(X){3>X.length&&l.error("Missing arguments to clamp function.");3<X.length&&l.error("Too many arguments to clamp function.");X=X.map(R);return"Math.max("+X[1]+", Math.min("+X[2]+","+X[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:"new Date",date:T("getDate","new Date",0),day:T("getDay","new Date",0),year:T("getFullYear",
"new Date",0),month:T("getMonth","new Date",0),hours:T("getHours","new Date",0),minutes:T("getMinutes","new Date",0),seconds:T("getSeconds","new Date",0),milliseconds:T("getMilliseconds","new Date",0),time:T("getTime","new Date",0),timezoneoffset:T("getTimezoneOffset","new Date",0),utcdate:T("getUTCDate","new Date",0),utcday:T("getUTCDay","new Date",0),utcyear:T("getUTCFullYear","new Date",0),utcmonth:T("getUTCMonth","new Date",0),utchours:T("getUTCHours","new Date",0),utcminutes:T("getUTCMinutes",
"new Date",0),utcseconds:T("getUTCSeconds","new Date",0),utcmilliseconds:T("getUTCMilliseconds","new Date",0),length:T("length",null,-1),join:T("join",null),indexof:T("indexOf",null),lastindexof:T("lastIndexOf",null),slice:T("slice",null),reverse:function(X){return"("+R(X[0])+").slice().reverse()"},parseFloat:"parseFloat",parseInt:"parseInt",upper:T("toUpperCase","String",0),lower:T("toLowerCase","String",0),substring:T("substring","String"),split:T("split","String"),replace:T("replace","String"),
trim:T("trim","String",0),regexp:"RegExp",test:T("test","RegExp"),if:function(X){3>X.length&&l.error("Missing arguments to if function.");3<X.length&&l.error("Too many arguments to if function.");X=X.map(R);return"("+X[0]+"?"+X[1]+":"+X[2]+")"}}}u.prototype.visit=function(R){let T,X,Z;if(R(this))return 1;T=G(this);X=0;for(Z=T.length;X<Z;++X)if(T[X].visit(R))return 1};var xa,Ha,Za,gb,ra=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
Pa=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/;
const Ua={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},za={"if":1};var qa={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",
LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};m.ASTNode=u;m.ArrayExpression="ArrayExpression";m.BinaryExpression="BinaryExpression";m.CallExpression="CallExpression";m.ConditionalExpression="ConditionalExpression";m.Identifier="Identifier";m.Literal="Literal";m.LogicalExpression="LogicalExpression";m.MemberExpression="MemberExpression";m.ObjectExpression="ObjectExpression";
m.Property="Property";m.RawCode="RawCode";m.UnaryExpression="UnaryExpression";m.codegen=function(R){function T(Ea){if(l.isString(Ea))return Ea;const Qa=ma[Ea.type];null==Qa&&l.error("Unsupported type: "+Ea.type);return Qa(Ea)}function X(Ea){Ea={code:T(Ea),globals:Object.keys(Wa),fields:Object.keys(Ca)};Wa={};Ca={};return Ea}R=R||{};const Z=R.allowed?l.toSet(R.allowed):{},oa=R.forbidden?l.toSet(R.forbidden):{},na=R.constants||qa,Aa=(R.functions||wa)(T),ka=R.globalvar,Na=R.fieldvar,$a=l.isFunction(ka)?
ka:Ea=>`${ka}["${Ea}"]`;let Wa={},Ca={},Da=0;const ma={Literal:Ea=>Ea.raw,Identifier:Ea=>{Ea=Ea.name;if(0<Da)return Ea;if(l.hasOwnProperty(oa,Ea))return l.error("Illegal identifier: "+Ea);if(l.hasOwnProperty(na,Ea))return na[Ea];if(l.hasOwnProperty(Z,Ea))return Ea;Wa[Ea]=1;return $a(Ea)},MemberExpression:Ea=>{const Qa=!Ea.computed,eb=T(Ea.object);Qa&&(Da+=1);Ea=T(Ea.property);if(eb===Na){var yb=Ca;var Qb=(Qb=Ea&&Ea.length-1)&&('"'===Ea[0]&&'"'===Ea[Qb]||"'"===Ea[0]&&"'"===Ea[Qb])?Ea.slice(1,-1):Ea;
yb[Qb]=1}Qa&&--Da;return eb+(Qa?"."+Ea:"["+Ea+"]")},CallExpression:Ea=>{"Identifier"!==Ea.callee.type&&l.error("Illegal callee type: "+Ea.callee.type);const Qa=Ea.callee.name;Ea=Ea.arguments;const eb=l.hasOwnProperty(Aa,Qa)&&Aa[Qa];eb||l.error("Unrecognized function: "+Qa);return l.isFunction(eb)?eb(Ea):eb+"("+Ea.map(T).join(",")+")"},ArrayExpression:Ea=>"["+Ea.elements.map(T).join(",")+"]",BinaryExpression:Ea=>"("+T(Ea.left)+Ea.operator+T(Ea.right)+")",UnaryExpression:Ea=>"("+Ea.operator+T(Ea.argument)+
")",ConditionalExpression:Ea=>"("+T(Ea.test)+"?"+T(Ea.consequent)+":"+T(Ea.alternate)+")",LogicalExpression:Ea=>"("+T(Ea.left)+Ea.operator+T(Ea.right)+")",ObjectExpression:Ea=>"{"+Ea.properties.map(T).join(",")+"}",Property:Ea=>{Da+=1;const Qa=T(Ea.key);--Da;return Qa+":"+T(Ea.value)}};X.functions=Aa;X.constants=na;return X};m.constants=qa;m.functions=wa;m.parse=function(R){xa=R;Ha=0;Za=xa.length;gb=null;K();R=Y();if(2!==gb.type)throw Error("Unexpect token after expression.");return R};Object.defineProperty(m,
"__esModule",{value:!0})})};
shadow$provide[59]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J,A(16),A(58)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-expression"],l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.vega={},m.vega,m.vega))})(this,function(m,l,u){function G(d){return(f,a)=>{f=d(f);return f<a?-1:f>a?1:f>=a?0:NaN}}function L(d,f){var a=f.fields;f=f.values;for(var e=a.length,n=0,x,z;n<e;++n)if(z=a[n],z.getter=l.field.getter||l.field(z.field),
x=z.getter(d),l.isDate(x)&&(x=l.toNumber(x)),l.isDate(f[n])&&(f[n]=l.toNumber(f[n])),l.isDate(f[n][0])&&(f[n]=f[n].map(l.toNumber)),"E"===z.type){if(l.isArray(f[n])?0>f[n].indexOf(x):x!==f[n])return!1}else if("R"===z.type){if(!l.inrange(x,f[n]))return!1}else if("R-RE"===z.type){if(!l.inrange(x,f[n],!0,!1))return!1}else if("R-E"===z.type){if(!l.inrange(x,f[n],!1,!1))return!1}else if("R-LE"===z.type&&!l.inrange(x,f[n],!1,!0))return!1;return!0}const w=l.field("_vgsid_"),v=function(d){function f(n,x,
z,B){null==z&&(z=0);null==B&&(B=n.length);for(;z<B;){const M=z+B>>>1;0>e(n[M],x)?z=M+1:B=M}return z}let a=d,e=d;1===d.length&&(a=(n,x)=>d(n)-x,e=G(d));return{left:f,center:function(n,x,z,B){null==z&&(z=0);null==B&&(B=n.length);B=f(n,x,z,B-1);return B>z&&a(n[B-1],x)>-a(n[B],x)?B-1:B},right:function(n,x,z,B){null==z&&(z=0);null==B&&(B=n.length);for(;z<B;){const M=z+B>>>1;0<e(n[M],x)?B=M:z=M+1}return z}}}(w),t=v.left,k=v.right;var g={E_union:function(d,f){if(!d.length)return f;for(var a=0,e=f.length;a<
e;++a)0>d.indexOf(f[a])&&d.push(f[a]);return d},E_intersect:function(d,f){return d.length?d.filter(a=>0<=f.indexOf(a)):f},R_union:function(d,f){var a=l.toNumber(f[0]),e=l.toNumber(f[1]);a>e&&(a=f[1],e=f[0]);if(!d.length)return[a,e];d[0]>a&&(d[0]=a);d[1]<e&&(d[1]=e);return d},R_intersect:function(d,f){var a=l.toNumber(f[0]),e=l.toNumber(f[1]);a>e&&(a=f[1],e=f[0]);if(!d.length)return[a,e];if(e<d[0]||d[1]<a)return[];d[0]<a&&(d[0]=a);d[1]>e&&(d[1]=e);return d}};m.selectionIdTest=function(d,f,a){var e=
this.context.data[d];d=e?e.values.value:[];e=e?e["index:unit"]&&e["index:unit"].value:void 0;a="intersect"===a;f=w(f);const n=t(d,f);if(n===d.length||w(d[n])!==f)return!1;if(e&&a){if(1===e.size)return!0;if(k(d,f)-n<e.size)return!1}return!0};m.selectionResolve=function(d,f,a,e){d=(d=this.context.data[d])?d.values.value:[];for(var n={},x={},z={},B,M,K,D,y,E,H=d.length,Q=0,S,ea;Q<H;++Q){B=d[Q];K=B.unit;M=B.fields;B=B.values;S=0;for(ea=M.length;S<ea;++S)D=M[S],y=n[D.field]||(n[D.field]={}),E=y[K]||(y[K]=
[]),z[D.field]=D=D.type.charAt(0),D=g[D+"_union"],y[K]=D(E,l.array(B[S]));a&&(E=x[K]||(x[K]=[]),E.push(l.array(B).reduce((ba,fa,ia)=>(ba[M[ia].field]=fa,ba),{})))}f=f||"union";Object.keys(n).forEach(ba=>{n[ba]=Object.keys(n[ba]).map(fa=>n[ba][fa]).reduce((fa,ia)=>void 0===fa?ia:g[z[ba]+"_"+f](fa,ia))});d=Object.keys(x);a&&d.length&&(n[e?"vlPoint":"vlMulti"]="union"===f?{["or"]:d.reduce((ba,fa)=>(ba.push(...x[fa]),ba),[])}:{["and"]:d.map(ba=>({["or"]:x[ba]}))});return n};m.selectionTest=function(d,
f,a){var e=this.context.data[d];d=e?e.values.value:[];e=e?e["index:unit"]&&e["index:unit"].value:void 0;a="intersect"===a;for(var n=d.length,x=0,z,B,M,K;x<n;++x)if(z=d[x],e&&a){if(B=B||{},M=B[K=z.unit]||0,-1!==M){z=L(f,z);B[K]=z?-1:++M;if(z&&1===e.size)return!0;if(!z&&M===e.get(K).count)return!1}}else if(z=L(f,z),a^z)return z;return n&&a};m.selectionTuples=function(d,f){return d.map(a=>l.extend({values:f.fields.map(e=>(e.getter||(e.getter=l.field(e.field)))(a.datum))},f))};m.selectionVisitor=function(d,
f,a,e){f[0].type!==u.Literal&&l.error("First argument to selection functions must be a string literal.");d=f[0].value;f=2<=f.length&&l.peek(f).value;const n=":"+d;"intersect"!==f||l.hasOwnProperty(e,"@unit")||(e["@unit"]=a.getData(d).indataRef(a,"unit"));l.hasOwnProperty(e,n)||(e[n]=a.getData(d).tuplesRef())};Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[60]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J,A(16),A(58),A(41),A(34),A(28),A(37),A(38),A(59),A(29),A(20),A(17)):"function"===typeof define&&define.amd?define("exports vega-util vega-expression d3-geo d3-color vega-dataflow vega-scale vega-scenegraph vega-selections vega-statistics vega-time d3-array".split(" "),l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.vega={},m.vega,m.vega,m.d3,m.d3,m.vega,m.vega,m.vega,m.vega,m.vega,m.vega,
m.d3))})(this,function(m,l,u,G,L,w,v,t,k,g,d,f){function a(xb){return(xb=this.context.data[xb])?xb.values.value:[]}function e(xb,qc,Nc){return(Nc=(xb=this.context.data[xb]["index:"+qc])?xb.value.get(Nc):void 0)?Nc.count:Nc}function n(xb,qc){const Nc=this.context.dataflow;Nc.pulse(this.context.data[xb].input,Nc.changeset().remove(l.truthy).insert(qc));return 1}function x(xb,qc,Nc){if(xb){const qd=this.context.dataflow;qd.pulse(xb.mark.source,qd.changeset().encode(xb,qc))}return void 0!==Nc?Nc:xb}function z(xb,
qc,Nc){if(!Number.isInteger(xb)||!Number.isInteger(qc))return"";Oc.setYear(2E3);Oc.setMonth(xb);Oc.setDate(qc);return kc.call(this,Oc,Nc)}function B(xb){return z.call(this,xb,1,"%B")}function M(xb){return z.call(this,xb,1,"%b")}function K(xb){return z.call(this,0,2+xb,"%A")}function D(xb){return z.call(this,0,2+xb,"%a")}function y(xb,qc,Nc,qd){qc[0].type!==u.Literal&&l.error("First argument to data functions must be a string literal.");xb=qc[0].value;qc=":"+xb;if(!l.hasOwnProperty(qc,qd))try{qd[qc]=
Nc.getData(xb).tuplesRef()}catch(Ed){}}function E(xb,qc,Nc,qd){qc[0].type!==u.Literal&&l.error("First argument to indata must be a string literal.");qc[1].type!==u.Literal&&l.error("Second argument to indata must be a string literal.");xb=qc[0].value;qc=qc[1].value;const Ed="@"+qc;l.hasOwnProperty(Ed,qd)||(qd[Ed]=Nc.getData(xb).indataRef(Nc,qc))}function H(xb,qc,Nc,qd){if(qc[0].type===u.Literal)Q(Nc,qd,qc[0].value);else for(xb in Nc.scales)Q(Nc,qd,xb)}function Q(xb,qc,Nc){const qd="%"+Nc;if(!l.hasOwnProperty(qc,
qd))try{qc[qd]=xb.scaleRef(Nc)}catch(Ed){}}function S(xb,qc){let Nc;return l.isFunction(xb)?xb:l.isString(xb)?(Nc=qc.scales[xb])&&Nc.value:void 0}function ea(xb,qc,Nc){qc.__bandwidth=Ed=>Ed&&Ed.bandwidth?Ed.bandwidth():0;Nc._bandwidth=H;Nc._range=H;Nc._scale=H;const qd=Ed=>"_["+(Ed.type===u.Literal?l.stringValue("%"+Ed.value):l.stringValue("%")+"+"+xb(Ed))+"]";return{_bandwidth:Ed=>`this.__bandwidth(${qd(Ed[0])})`,_range:Ed=>`${qd(Ed[0])}.range()`,_scale:Ed=>`${qd(Ed[0])}(${xb(Ed[1])})`}}function ba(xb,
qc){return function(Nc,qd,Ed){return Nc?(Nc=S(Nc,(Ed||this).context))&&Nc.path[xb](qd):qc(qd)}}function fa(xb){const qc=this.context.group;let Nc=!1;if(qc)for(;xb;){if(xb===qc){Nc=!0;break}xb=xb.mark.group}return Nc}function ia(xb,qc,Nc){try{xb[qc].apply(xb,["EXPRESSION"].concat([].slice.call(Nc)))}catch(qd){xb.warn(qd)}return Nc[Nc.length-1]}function ca(){return ia(this.context.dataflow,"warn",arguments)}function N(){return ia(this.context.dataflow,"info",arguments)}function C(){return ia(this.context.dataflow,
"debug",arguments)}function W(xb){xb/=255;return.03928>=xb?xb/12.92:Math.pow((xb+.055)/1.055,2.4)}function ha(xb){var qc=L.rgb(xb);xb=W(qc.r);const Nc=W(qc.g);qc=W(qc.b);return.2126*xb+.7152*Nc+.0722*qc}function Y(xb,qc){xb=ha(xb);qc=ha(qc);return(Math.max(xb,qc)+.05)/(Math.min(xb,qc)+.05)}function wa(){const xb=[].slice.call(arguments);xb.unshift({});return l.extend(...xb)}function xa(xb,qc){if(xb===qc||xb!==xb&&qc!==qc)xb=!0;else if(l.isArray(xb))if(l.isArray(qc)&&xb.length===qc.length)a:{for(let Nc=
0,qd=xb.length;Nc<qd;++Nc)if(!xa(xb[Nc],qc[Nc])){xb=!1;break a}xb=!0}else xb=!1;else xb=l.isObject(xb)&&l.isObject(qc)?Ha(xb,qc):!1;return xb}function Ha(xb,qc){for(const Nc in xb)if(!xa(xb[Nc],qc[Nc]))return!1;return!0}function Za(xb){return qc=>Ha(xb,qc)}function gb(xb,qc,Nc,qd,Ed,Ga){const ab=this.context.dataflow,qb=this.context.data[xb],Bb=qb.input;xb=ab.stamp();let Tb=qb.changes,Eb;if(!1===ab._trigger||!(Bb.value.length||qc||qd))return 0;if(!Tb||Tb.stamp<xb)qb.changes=Tb=ab.changeset(),Tb.stamp=
xb,ab.runAfter(()=>{qb.modified=!0;ab.pulse(Bb,Tb).run()},!0,1);Nc&&(Nc=!0===Nc?l.truthy:l.isArray(Nc)||w.isTuple(Nc)?Nc:Za(Nc),Tb.remove(Nc));qc&&Tb.insert(qc);qd&&(Nc=Za(qd),Bb.value.some(Nc)?Tb.remove(Nc):Tb.insert(qd));if(Ed)for(Eb in Ga)Tb.modify(Ed,Eb,Ga[Eb]);return 1}function ra(xb){var qc=xb.touches;xb=qc[0].clientX-qc[1].clientX;qc=qc[0].clientY-qc[1].clientY;return Math.sqrt(xb*xb+qc*qc)}function Pa(xb){xb=xb.touches;return Math.atan2(xb[0].clientY-xb[1].clientY,xb[0].clientX-xb[1].clientX)}
function Ua(xb,qc){qc=td[qc]||(td[qc]=l.field(qc));return l.isArray(xb)?xb.map(qc):qc(xb)}function za(xb){return l.isArray(xb)||ArrayBuffer.isView(xb)?xb:null}function qa(xb){return za(xb)||(l.isString(xb)?xb:null)}function R(xb,...qc){return za(xb).join(...qc)}function T(xb,...qc){return qa(xb).indexOf(...qc)}function X(xb,...qc){return qa(xb).lastIndexOf(...qc)}function Z(xb,...qc){return qa(xb).slice(...qc)}function oa(xb,qc,Nc){l.isFunction(Nc)&&l.error("Function argument passed to replace.");
return String(xb).replace(qc,Nc)}function na(xb){return za(xb).slice().reverse()}function Aa(xb,qc,Nc){return v.bandSpace(xb||0,qc||0,Nc||0)}function ka(xb,qc){return(xb=S(xb,(qc||this).context))&&xb.bandwidth?xb.bandwidth():0}function Na(xb,qc){return(xb=S(xb,(qc||this).context))?xb.copy():void 0}function $a(xb,qc){return(xb=S(xb,(qc||this).context))?xb.domain():[]}function Wa(xb,qc,Nc){return(xb=S(xb,(Nc||this).context))?l.isArray(qc)?(xb.invertRange||xb.invert)(qc):(xb.invert||xb.invertExtent)(qc):
void 0}function Ca(xb,qc){return(xb=S(xb,(qc||this).context))&&xb.range?xb.range():[]}function Da(xb,qc,Nc){return(xb=S(xb,(Nc||this).context))?xb(qc):void 0}function ma(xb,qc,Nc,qd,Ed){xb=S(xb,(Ed||this).context);const Ga=t.Gradient(qc,Nc);qc=xb.domain();Nc=qc[0];Ed=l.peek(qc);let ab=l.identity;Ed-Nc?ab=v.scaleFraction(xb,Nc,Ed):xb=(xb.interpolator?v.scale("sequential")().interpolator(xb.interpolator()):v.scale("linear")().interpolate(xb.interpolate()).range(xb.range())).domain([Nc=0,Ed=1]);xb.ticks&&
(qc=xb.ticks(+qd||15),Nc!==qc[0]&&qc.unshift(Nc),Ed!==l.peek(qc)&&qc.push(Ed));qc.forEach(qb=>Ga.stop(ab(qb),xb(qb)));return Ga}function Ea(xb,qc,Nc){const qd=S(xb,(Nc||this).context);return function(Ed){return qd?qd.path.context(Ed)(qc):""}}function Qa(xb){let qc=null;return function(Nc){return Nc?t.pathRender(Nc,qc=qc||t.pathParse(xb)):xb}}function eb(xb,qc){xb=a.call(qc,xb);return xb.root&&xb.root.lookup||{}}function yb(xb,qc,Nc){xb=eb(xb,this);qc=xb[qc];Nc=xb[Nc];return qc&&Nc?qc.path(Nc).map(Qd):
void 0}function Qb(xb,qc){return(xb=eb(xb,this)[qc])?xb.ancestors().map(Qd):void 0}function fc(){const xb="undefined"!==typeof window&&window||null;return xb?xb.screen:{}}function ad(){const xb="undefined"!==typeof window&&window||null;return xb?[xb.innerWidth,xb.innerHeight]:[void 0,void 0]}function ic(){var xb=this.context.dataflow;return(xb=xb.container&&xb.container())?[xb.clientWidth,xb.clientHeight]:[void 0,void 0]}function xc(xb){let qc=null;if(xb){const Nc=l.array(xb.marktype),qd=l.array(xb.markname);
qc=Ed=>(!Nc.length||Nc.some(Ga=>Ed.marktype===Ga))&&(!qd.length||qd.some(Ga=>Ed.name===Ga))}return qc}function ib(xb,qc,Nc){if(1===arguments.length)return jd[xb];jd[xb]=qc;Nc&&(Fd[xb]=Nc);Zb&&(Zb.functions[xb]="this."+xb);return this}var $b=xb=>function(qc,Nc){return this.context.dataflow.locale()[xb](Nc)(qc)};const bc=$b("format"),kc=$b("timeFormat"),Ec=$b("utcFormat"),jc=$b("timeParse");$b=$b("utcParse");const Oc=new Date(2E3,0,1),Hc=ba("area",G.geoArea),Bc=ba("bounds",G.geoBounds);G=ba("centroid",
G.geoCentroid);const td={},Qd=xb=>xb.data,jd={random(){return g.random()},cumulativeNormal:g.cumulativeNormal,cumulativeLogNormal:g.cumulativeLogNormal,cumulativeUniform:g.cumulativeUniform,densityNormal:g.densityNormal,densityLogNormal:g.densityLogNormal,densityUniform:g.densityUniform,quantileNormal:g.quantileNormal,quantileLogNormal:g.quantileLogNormal,quantileUniform:g.quantileUniform,sampleNormal:g.sampleNormal,sampleLogNormal:g.sampleLogNormal,sampleUniform:g.sampleUniform,isArray:l.isArray,
isBoolean:l.isBoolean,isDate:l.isDate,isDefined(xb){return void 0!==xb},isNumber:l.isNumber,isObject:l.isObject,isRegExp:l.isRegExp,isString:l.isString,isTuple:w.isTuple,isValid(xb){return null!=xb&&xb===xb},toBoolean:l.toBoolean,toDate:l.toDate,toNumber:l.toNumber,toString:l.toString,indexof:T,join:R,lastindexof:X,replace:oa,reverse:na,slice:Z,flush:l.flush,lerp:l.lerp,merge:wa,pad:l.pad,peek:l.peek,pluck:Ua,span:l.span,inrange:l.inrange,truncate:l.truncate,rgb:L.rgb,lab:L.lab,hcl:L.hcl,hsl:L.hsl,
luminance:ha,contrast:Y,sequence:f.range,format:bc,utcFormat:Ec,utcParse:$b,utcOffset:d.utcOffset,utcSequence:d.utcSequence,timeFormat:kc,timeParse:jc,timeOffset:d.timeOffset,timeSequence:d.timeSequence,timeUnitSpecifier:d.timeUnitSpecifier,monthFormat:B,monthAbbrevFormat:M,dayFormat:K,dayAbbrevFormat:D,quarter:l.quarter,utcquarter:l.utcquarter,week:d.week,utcweek:d.utcweek,dayofyear:d.dayofyear,utcdayofyear:d.utcdayofyear,warn:ca,info:N,debug:C,extent:l.extent,inScope:fa,intersect:function(xb,qc,
Nc){if(!xb)return[];const [qd,Ed]=xb;xb=(new t.Bounds).set(qd[0],qd[1],Ed[0],Ed[1]);Nc=Nc||this.context.dataflow.scenegraph().root;return t.intersect(Nc,xb,xc(qc))},clampRange:l.clampRange,pinchDistance:ra,pinchAngle:Pa,screen:fc,containerSize:ic,windowSize:ad,bandspace:Aa,setdata:n,pathShape:Qa,panLinear:l.panLinear,panLog:l.panLog,panPow:l.panPow,panSymlog:l.panSymlog,zoomLinear:l.zoomLinear,zoomLog:l.zoomLog,zoomPow:l.zoomPow,zoomSymlog:l.zoomSymlog,encode:x,modify:gb},hd="view item group xy x y".split(" "),
Fd={},Ib={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:xb=>`_[${l.stringValue("$"+xb)}]`,functions:function(xb){const qc=u.functions(xb);hd.forEach(Nc=>qc[Nc]="event.vega."+Nc);for(const Nc in jd)qc[Nc]="this."+Nc;l.extend(qc,ea(xb,jd,Fd));return qc},constants:u.constants,visitors:Fd},Zb=u.codegen(Ib);ib("bandwidth",ka,H);ib("copy",Na,H);ib("domain",$a,H);ib("range",Ca,H);ib("invert",Wa,H);ib("scale",Da,H);ib("gradient",ma,H);ib("geoArea",Hc,H);ib("geoBounds",Bc,H);
ib("geoCentroid",G,H);ib("geoShape",Ea,H);ib("indata",e,E);ib("data",a,y);ib("treePath",yb,y);ib("treeAncestors",Qb,y);ib("vlSelectionTest",k.selectionTest,k.selectionVisitor);ib("vlSelectionIdTest",k.selectionIdTest,k.selectionVisitor);ib("vlSelectionResolve",k.selectionResolve,k.selectionVisitor);ib("vlSelectionTuples",k.selectionTuples);m.DataPrefix=":";m.IndexPrefix="@";m.ScalePrefix="%";m.SignalPrefix="$";m.bandspace=Aa;m.bandwidth=ka;m.codeGenerator=Zb;m.codegenParams=Ib;m.containerSize=ic;
m.contrast=Y;m.copy=Na;m.data=a;m.dataVisitor=y;m.dayAbbrevFormat=D;m.dayFormat=K;m.debug=C;m.domain=$a;m.encode=x;m.expressionFunction=ib;m.format=bc;m.functionContext=jd;m.geoArea=Hc;m.geoBounds=Bc;m.geoCentroid=G;m.geoShape=Ea;m.inScope=fa;m.indata=e;m.indataVisitor=E;m.indexof=T;m.info=N;m.invert=Wa;m.join=R;m.lastindexof=X;m.luminance=ha;m.merge=wa;m.modify=gb;m.monthAbbrevFormat=M;m.monthFormat=B;m.parseExpression=function(xb,qc){const Nc={};let qd;try{xb=l.isString(xb)?xb:l.stringValue(xb)+
"",qd=u.parse(xb)}catch(Ed){l.error("Expression parse error: "+xb)}qd.visit(Ed=>{if(Ed.type===u.CallExpression){var Ga=Ed.callee.name,ab=Ib.visitors[Ga];ab&&ab(Ga,Ed.arguments,qc,Nc)}});xb=Zb(qd);xb.globals.forEach(Ed=>{const Ga="$"+Ed;!l.hasOwnProperty(Nc,Ga)&&qc.getSignal(Ed)&&(Nc[Ga]=qc.signalRef(Ed))});return{$expr:l.extend({code:xb.code},qc.options.ast?{ast:qd}:null),$fields:xb.fields,$params:Nc}};m.pathShape=Qa;m.pinchAngle=Pa;m.pinchDistance=ra;m.pluck=Ua;m.range=Ca;m.replace=oa;m.reverse=
na;m.scale=Da;m.scaleGradient=ma;m.scaleVisitor=H;m.screen=fc;m.setdata=n;m.slice=Z;m.timeFormat=kc;m.timeParse=jc;m.treeAncestors=Qb;m.treePath=yb;m.utcFormat=Ec;m.utcParse=$b;m.warn=ca;m.windowSize=ad;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[61]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J,A(16),A(28)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow"],l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.vega={},m.vega,m.vega))})(this,function(m,l,u){function G(a,e,n){";"!==n[n.length-1]&&(n="return("+n+");");e=Function(...e.concat(n));return a&&a.functions?e.bind(a.functions):e}function L(a,e,n){if(!a||!l.isObject(a))return a;for(let x=0,
z=d.length,B;x<z;++x)if(B=d[x],l.hasOwnProperty(a,B.key))return B.parse(a,e,n);return a}function w(a,e,n,x){this.dataflow=a;this.transforms=e;this.events=a.events.bind(a);this.expr=x||g;this.signals={};this.scales={};this.nodes={};this.data={};this.fn={};n&&(this.functions=Object.create(n),this.functions.context=this)}function v(a){this.dataflow=a.dataflow;this.transforms=a.transforms;this.events=a.events;this.expr=a.expr;this.signals=Object.create(a.signals);this.scales=Object.create(a.scales);this.nodes=
Object.create(a.nodes);this.data=Object.create(a.data);this.fn=Object.create(a.fn);a.functions&&(this.functions=Object.create(a.functions),this.functions.context=this)}const t=l.toSet(["rule"]),k=l.toSet(["group","image","rect"]);var g={operator:(a,e)=>G(a,["_"],e.code),parameter:(a,e)=>G(a,["datum","_"],e.code),event:(a,e)=>G(a,["event"],e.code),handler:(a,e)=>G(a,["_","event"],`var datum=event.item&&event.item.datum;return ${e.code};`),encode:(a,e)=>{const {marktype:n,channels:x}=e;e="var o\x3ditem,datum\x3do.datum,m\x3d0,$;";
for(var z in x){const B="o["+l.stringValue(z)+"]";e+=`$=${x[z].code};if(${B}!==$)${B}=$,m=1;`}z="";t[n]||(x.x2&&(x.x?(k[n]&&(z+="if(o.x\x3eo.x2)$\x3do.x,o.x\x3do.x2,o.x2\x3d$;"),z+="o.width\x3do.x2-o.x;"):z+="o.x\x3do.x2-(o.width||0);"),x.xc&&(z+="o.x\x3do.xc-(o.width||0)/2;"),x.y2&&(x.y?(k[n]&&(z+="if(o.y\x3eo.y2)$\x3do.y,o.y\x3do.y2,o.y2\x3d$;"),z+="o.height\x3do.y2-o.y;"):z+="o.y\x3do.y2-(o.height||0);"),x.yc&&(z+="o.y\x3do.yc-(o.height||0)/2;"));e+=z;return G(a,["item","_"],e+"return m;")},codegen:{get(a){a=
`[${a.map(l.stringValue).join("][")}]`;const e=Function("_",`return _${a};`);e.path=a;return e},comparator(a,e){let n;a=Function("a","b","var u, v; return "+a.map((x,z)=>{const B=e[z];let M;x.path?(M=`a${x.path}`,x=`b${x.path}`):((n=n||{})["f"+z]=x,M=`this.f${z}(a)`,x=`this.f${z}(b)`);z=-B;return`((u = ${M}) < (v = ${x}) || u == null) && v != null ? ${z}
  : (u > v || v == null) && u != null ? ${B}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${z}
  : v !== v && u === u ? ${B} : `}).join("")+"0;");return n?a.bind(n):a}}},d=[{key:"$ref",parse:function(a,e){return e.get(a.$ref)||l.error("Operator not defined: "+a.$ref)}},{key:"$key",parse:function(a,e){const n="k:"+a.$key+"_"+!!a.$flat;return e.fn[n]||(e.fn[n]=l.key(a.$key,a.$flat,e.expr.codegen))}},{key:"$expr",parse:function(a,e,n){a.$params&&e.parseParameters(a.$params,n);n="e:"+a.$expr.code+"_"+a.$name;return e.fn[n]||(e.fn[n]=l.accessor(e.parameterExpression(a.$expr),a.$fields,a.$name))}},
{key:"$field",parse:function(a,e){if(!a.$field)return null;const n="f:"+a.$field+"_"+a.$name;return e.fn[n]||(e.fn[n]=l.field(a.$field,a.$name,e.expr.codegen))}},{key:"$encode",parse:function(a,e){a=a.$encode;const n={};for(const x in a){const z=a[x];n[x]=l.accessor(e.encodeExpression(z.$expr),z.$fields);n[x].output=z.$output}return n}},{key:"$compare",parse:function(a,e){const n="c:"+a.$compare+"_"+a.$order,x=l.array(a.$compare).map(z=>z&&z.$tupleid?u.tupleid:z);return e.fn[n]||(e.fn[n]=l.compare(x,
a.$order,e.expr.codegen))}},{key:"$context",parse:function(a,e){return e}},{key:"$subflow",parse:function(a,e){const n=a.$subflow;return function(x,z,B){const M=e.fork().parse(n);x=M.get(n.operators[0].id);(z=M.signals.parent)&&z.set(B);x.detachSubflow=()=>e.detach(M);return x}}},{key:"$tupleid",parse:function(){return u.tupleid}}];const f={skip:!0};w.prototype=v.prototype={fork(){const a=new v(this);(this.subcontext||(this.subcontext=[])).push(a);return a},detach(a){this.subcontext=this.subcontext.filter(n=>
n!==a);const e=Object.keys(a.nodes);for(const n of e)a.nodes[n]._targets=null;for(const n of e)a.nodes[n].detach();a.nodes=null},get(a){return this.nodes[a]},set(a,e){return this.nodes[a]=e},add(a,e){const n=this,x=n.dataflow,z=a.value;n.set(a.id,e);"collect"===(a.type+"").toLowerCase()&&z&&(z.$ingest?x.ingest(e,z.$ingest,z.$format):z.$request?x.preload(e,z.$request,z.$format):x.pulse(e,x.changeset().insert(z)));a.root&&(n.root=e);if(a.parent){let B=n.get(a.parent.$ref);B?(x.connect(B,[e]),e.targets().add(B)):
(n.unresolved=n.unresolved||[]).push(()=>{B=n.get(a.parent.$ref);x.connect(B,[e]);e.targets().add(B)})}a.signal&&(n.signals[a.signal]=e);a.scale&&(n.scales[a.scale]=e);if(a.data)for(const B in a.data){const M=n.data[B]||(n.data[B]={});a.data[B].forEach(K=>M[K]=e)}},resolve(){(this.unresolved||[]).forEach(a=>a());delete this.unresolved;return this},operator(a,e){this.add(a,this.dataflow.add(a.value,e))},transform(a,e){this.add(a,this.dataflow.add(this.transforms[(e+"").toLowerCase()]))},stream(a,e){this.set(a.id,
e)},update(a,e,n,x,z){this.dataflow.on(e,n,x,z,a.options)},operatorExpression(a){return this.expr.operator(this,a)},parameterExpression(a){return this.expr.parameter(this,a)},eventExpression(a){return this.expr.event(this,a)},handlerExpression(a){return this.expr.handler(this,a)},encodeExpression(a){return this.expr.encode(this,a)},parse:function(a){const e=this,n=a.operators||[];a.background&&(e.background=a.background);a.eventConfig&&(e.eventConfig=a.eventConfig);a.locale&&(e.locale=a.locale);n.forEach(x=>
e.parseOperator(x));n.forEach(x=>e.parseOperatorParameters(x));(a.streams||[]).forEach(x=>e.parseStream(x));(a.updates||[]).forEach(x=>e.parseUpdate(x));return e.resolve()},parseOperator:function(a){"operator"!==(a.type+"").toLowerCase()&&a.type?this.transform(a,a.type):this.operator(a,a.update?this.operatorExpression(a.update):null)},parseOperatorParameters:function(a){if(a.params){const e=this.get(a.id);e||l.error("Invalid operator id: "+a.id);this.dataflow.connect(e,e.parameters(this.parseParameters(a.params),
a.react,a.initonly))}},parseParameters:function(a,e){e=e||{};const n=this;for(const x in a){const z=a[x];e[x]=l.isArray(z)?z.map(B=>L(B,n,e)):L(z,n,e)}return e},parseStream:function(a){var e=this,n=null!=a.filter?e.eventExpression(a.filter):void 0,x=null!=a.stream?e.get(a.stream):void 0;if(a.source)x=e.events(a.source,a.type,n);else if(a.merge){var z=a.merge.map(B=>e.get(B));x=z[0].merge.apply(z[0],z.slice(1))}a.between&&(z=a.between.map(B=>e.get(B)),x=x.between(z[0],z[1]));a.filter&&(x=x.filter(n));
null!=a.throttle&&(x=x.throttle(+a.throttle));null!=a.debounce&&(x=x.debounce(+a.debounce));null==x&&l.error("Invalid stream definition: "+JSON.stringify(a));a.consume&&x.consume(!0);e.stream(a,x)},parseUpdate:function(a){var e=l.isObject(e=a.source)?e.$ref:e;e=this.get(e);var n=a.update,x=void 0;e||l.error("Source not defined: "+a.source);var z=a.target&&a.target.$expr?this.eventExpression(a.target.$expr):this.get(a.target);n&&n.$expr&&(n.$params&&(x=this.parseParameters(n.$params)),n=this.handlerExpression(n.$expr));
this.update(a,e,z,n,x)},getState:function(a){var e=this,n={};if(a.signals){var x=n.signals={};Object.keys(e.signals).forEach(B=>{const M=e.signals[B];a.signals(B,M)&&(x[B]=M.value)})}if(a.data){var z=n.data={};Object.keys(e.data).forEach(B=>{const M=e.data[B];a.data(B,M)&&(z[B]=M.input.value)})}e.subcontext&&!1!==a.recurse&&(n.subcontext=e.subcontext.map(B=>B.getState(a)));return n},setState:function(a){var e=this,n=e.dataflow,x=a.data,z=a.signals;Object.keys(z||{}).forEach(B=>{n.update(e.signals[B],
z[B],f)});Object.keys(x||{}).forEach(B=>{n.pulse(e.data[B].input,n.changeset().remove(l.truthy).insert(x[B]))});(a.subcontext||[]).forEach((B,M)=>{(M=e.subcontext[M])&&M.setState(B)})}};m.context=function(a,e,n,x){return new w(a,e,n,x)};Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[62]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J,A(16),A(28),A(38),A(17),A(60),A(61),A(47),A(22)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-scenegraph d3-array vega-functions vega-runtime d3-timer vega-format".split(" "),l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.vega={},m.vega,m.vega,m.vega,m.d3,m.vega,m.vega,m.d3,m.vega))})(this,function(m,l,u,G,L,w,v,t,k){function g(ma){const Ea=ma.container();
Ea&&(Ea.setAttribute("role","graphics-document"),Ea.setAttribute("aria-roleDescription","visualization"),d(Ea,ma.description()))}function d(ma,Ea){ma&&(null==Ea?ma.removeAttribute("aria-label"):ma.setAttribute("aria-label",Ea))}function f(ma){ma.add(null,Ea=>{ma._background=Ea.bg;ma._resize=1;return Ea.bg},{bg:ma._signals.background})}function a(ma){const Ea=ma._signals.cursor||(ma._signals.cursor=ma.add({user:"default",item:null}));ma.on(ma.events("view","mousemove"),Ea,(Qa,eb)=>{const yb=(Qa=Ea.value)?
l.isString(Qa)?Qa:Qa.user:"default";eb=eb.item&&eb.item.cursor||null;return Qa&&yb===Qa.user&&eb==Qa.item?Qa:{user:yb,item:eb}});ma.add(null,function(Qa){Qa=Qa.cursor;let eb=this.value;l.isString(Qa)||(eb=Qa.item,Qa=Qa.user);e(ma,Qa&&"default"!==Qa?Qa:eb||Qa);return eb},{cursor:Ea})}function e(ma,Ea){if(ma=ma.globalCursor()?"undefined"!==typeof document&&document.body:ma.container())return null==Ea?ma.style.removeProperty("cursor"):ma.style.cursor=Ea}function n(ma,Ea){ma=ma._runtime.data;l.hasOwnProperty(ma,
Ea)||l.error("Unrecognized data set: "+Ea);return ma[Ea]}function x(ma,Ea){u.isChangeSet(Ea)||l.error("Second argument to changes must be a changeset.");ma=n(this,ma);ma.modified=!0;return this.pulse(ma.input,Ea)}function z(ma){var Ea=ma.padding();return Math.max(0,ma._viewWidth+Ea.left+Ea.right)}function B(ma){var Ea=ma.padding();return Math.max(0,ma._viewHeight+Ea.top+Ea.bottom)}function M(ma){var Ea=ma.padding();ma=ma._origin;return[Ea.left+ma[0],Ea.top+ma[1]]}function K(ma){var Ea=M(ma),Qa=z(ma),
eb=B(ma);ma._renderer.background(ma.background());ma._renderer.resize(Qa,eb,Ea);ma._handler.origin(Ea);ma._resizeListeners.forEach(yb=>{try{yb(Qa,eb)}catch(Qb){ma.error(Qb)}})}function D(ma,Ea,Qa){var eb=ma._renderer;eb=eb&&eb.canvas();if(eb){var yb=M(ma);var Qb=Ea.changedTouches?Ea.changedTouches[0]:Ea;Qb=G.point(Qb,eb);Qb[0]-=yb[0];Qb[1]-=yb[1]}Ea.dataflow=ma;Ea.item=Qa;Ea.vega=y(ma,Qa,Qb);return Ea}function y(ma,Ea,Qa){function eb(fc){var ad=Qb,ic;if(fc)for(ic=Ea;ic;ic=ic.mark.group)if(ic.mark.name===
fc){ad=ic;break}return ad&&ad.mark&&ad.mark.interactive?ad:{}}function yb(fc){if(!fc)return Qa;l.isString(fc)&&(fc=eb(fc));const ad=Qa.slice();for(;fc;)ad[0]-=fc.x||0,ad[1]-=fc.y||0,fc=fc.mark&&fc.mark.group;return ad}const Qb=Ea?"group"===Ea.mark.marktype?Ea:Ea.mark.group:null;return{view:l.constant(ma),item:l.constant(Ea||{}),group:eb,xy:yb,x:fc=>yb(fc)[0],y:fc=>yb(fc)[1]}}function E(ma){ma=l.extend({defaults:{}},ma);const Ea=(Qa,eb)=>{eb.forEach(yb=>{l.isArray(Qa[yb])&&(Qa[yb]=l.toSet(Qa[yb]))})};
Ea(ma.defaults,["prevent","allow"]);Ea(ma,["view","window","selector"]);return ma}function H(ma,Ea,Qa){const eb=ma._eventConfig&&ma._eventConfig[Ea];return!1===eb||l.isObject(eb)&&!eb[Qa]?(ma.warn(`Blocked ${Ea} ${Qa} event listener.`),!1):!0}function Q(ma){return ma.item}function S(ma){return ma.item.mark.source}function ea(ma){return function(Ea,Qa){return Qa.vega.view().changeset().encode(Qa.item,ma)}}function ba(ma,Ea,Qa){ma=document.createElement(ma);for(const eb in Ea)ma.setAttribute(eb,Ea[eb]);
null!=Qa&&(ma.textContent=Qa);return ma}function fa(ma,Ea,Qa){if(Ea){var eb=Qa.param,yb=Qa.state;yb||(yb=Qa.state={elements:null,active:!1,set:null,update:Qb=>{Qb!==ma.signal(eb.signal)&&ma.runAsync(null,()=>{yb.source=!0;ma.signal(eb.signal,Qb)})}},eb.debounce&&(yb.update=l.debounce(eb.debounce,yb.update)));ia(yb,Ea,eb,ma.signal(eb.signal));yb.active||(ma.on(ma._signals[eb.signal],null,()=>{yb.source?yb.source=!1:yb.set(ma.signal(eb.signal))}),yb.active=!0);return yb}}function ia(ma,Ea,Qa,eb){const yb=
ba("div",{"class":"vega-bind"}),Qb="radio"===Qa.input?yb:yb.appendChild(ba("label"));Qb.appendChild(ba("span",{"class":"vega-bind-name"},Qa.name||Qa.signal));Ea.appendChild(yb);Ea=ca;switch(Qa.input){case "checkbox":Ea=N;break;case "select":Ea=C;break;case "radio":Ea=W;break;case "range":Ea=ha}Ea(ma,Qb,Qa,eb)}function ca(ma,Ea,Qa,eb){const yb=ba("input");for(const Qb in Qa)"signal"!==Qb&&"element"!==Qb&&yb.setAttribute("input"===Qb?"type":Qb,Qa[Qb]);yb.setAttribute("name",Qa.signal);yb.value=eb;Ea.appendChild(yb);
yb.addEventListener("input",()=>ma.update(yb.value));ma.elements=[yb];ma.set=Qb=>yb.value=Qb}function N(ma,Ea,Qa,eb){Qa={type:"checkbox",name:Qa.signal};eb&&(Qa.checked=!0);const yb=ba("input",Qa);Ea.appendChild(yb);yb.addEventListener("change",()=>ma.update(yb.checked));ma.elements=[yb];ma.set=Qb=>yb.checked=!!Qb||null}function C(ma,Ea,Qa,eb){const yb=ba("select",{name:Qa.signal}),Qb=Qa.labels||[];Qa.options.forEach((fc,ad)=>{const ic={value:fc};Y(fc,eb)&&(ic.selected=!0);yb.appendChild(ba("option",
ic,(Qb[ad]||fc)+""))});Ea.appendChild(yb);yb.addEventListener("change",()=>{ma.update(Qa.options[yb.selectedIndex])});ma.elements=[yb];ma.set=fc=>{for(let ad=0,ic=Qa.options.length;ad<ic;++ad)if(Y(Qa.options[ad],fc)){yb.selectedIndex=ad;break}}}function W(ma,Ea,Qa,eb){const yb=ba("span",{"class":"vega-bind-radio"}),Qb=Qa.labels||[];Ea.appendChild(yb);ma.elements=Qa.options.map((fc,ad)=>{var ic={type:"radio",name:Qa.signal,value:fc};Y(fc,eb)&&(ic.checked=!0);ic=ba("input",ic);ic.addEventListener("change",
()=>ma.update(fc));ad=ba("label",{},(Qb[ad]||fc)+"");ad.prepend(ic);yb.appendChild(ad);return ic});ma.set=fc=>{const ad=ma.elements,ic=ad.length;for(let xc=0;xc<ic;++xc)Y(ad[xc].value,fc)&&(ad[xc].checked=!0)}}function ha(ma,Ea,Qa,eb){eb=void 0!==eb?eb:(+Qa.max+ +Qa.min)/2;const yb=null!=Qa.max?Qa.max:Math.max(100,+eb)||100,Qb=Qa.min||Math.min(0,yb,+eb)||0,fc=Qa.step||L.tickStep(Qb,yb,100),ad=ba("input",{type:"range",name:Qa.signal,min:Qb,max:yb,step:fc});ad.value=eb;const ic=ba("span",{},+eb);Ea.appendChild(ad);
Ea.appendChild(ic);Ea=()=>{ic.textContent=ad.value;ma.update(+ad.value)};ad.addEventListener("input",Ea);ad.addEventListener("change",Ea);ma.elements=[ad];ma.set=xc=>{ad.value=xc;ic.textContent=xc}}function Y(ma,Ea){return ma===Ea||ma+""===Ea+""}function wa(ma,Ea,Qa,eb,yb,Qb){Ea=Ea||new eb(ma.loader());return Ea.initialize(Qa,z(ma),B(ma),M(ma),yb,Qb).background(ma.background())}function xa(ma,Ea){return Ea?function(){try{Ea.apply(this,arguments)}catch(Qa){ma.error(Qa)}}:null}function Ha(ma,Ea,Qa,
eb){const yb=(new eb(ma.loader(),xa(ma,ma.tooltip()))).scene(ma.scenegraph().root).initialize(Qa,M(ma),ma);Ea&&Ea.handlers().forEach(Qb=>{yb.on(Qb.type,Qb.handler)});return yb}function Za(ma,Ea){if("string"===typeof Ea)if("undefined"!==typeof document){if(Ea=document.querySelector(Ea),!Ea)return ma.error("Signal bind element not found: "+Ea),null}else return ma.error("DOM document instance not found."),null;if(Ea)try{Ea.innerHTML=""}catch(Qa){Ea=null,ma.error(Qa)}return Ea}function gb(ma){l.isObject(ma)?
ma={top:+ma.top||0,bottom:+ma.bottom||0,left:+ma.left||0,right:+ma.right||0}:(ma=+ma||0,ma={top:ma,bottom:ma,left:ma,right:ma});return ma}function ra(ma,Ea,Qa,eb){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var yb=G.renderModule(Ea);(yb=yb&&yb.headless)||l.error("Unrecognized renderer type: "+Ea);yield ma.runAsync();return wa(ma,null,null,yb,Qa,eb).renderAsync(ma._scenegraph.root)})}function Pa(ma,Ea,Qa){return v.context(ma,u.transforms,w.functionContext,Qa).parse(Ea)}function Ua(ma,
Ea){var Qa=ma.autosize();ma=ma.padding();return Ea-(Qa&&"padding"===Qa.contains?ma.left+ma.right:0)}function za(ma,Ea){var Qa=ma.autosize();ma=ma.padding();return Ea-(Qa&&"padding"===Qa.contains?ma.top+ma.bottom:0)}function qa(ma){function Ea(){ma._autosize=ma._resize=1}var Qa=ma._signals,eb=Qa.width,yb=Qa.height;Qa=Qa.padding;ma._resizeWidth=ma.add(null,fc=>{ma._width=fc.size;ma._viewWidth=Ua(ma,fc.size);Ea()},{size:eb});ma._resizeHeight=ma.add(null,fc=>{ma._height=fc.size;ma._viewHeight=za(ma,fc.size);
Ea()},{size:yb});const Qb=ma.add(null,Ea,{pad:Qa});ma._resizeWidth.rank=eb.rank+1;ma._resizeHeight.rank=yb.rank+1;Qb.rank=Qa.rank+1}function R(ma,Ea){return Ea.modified&&l.isArray(Ea.input.value)&&ma.indexOf("_:vega:_")}function T(ma,Ea){return!("parent"===ma||Ea instanceof u.transforms.proxy)}function X(ma,Ea,Qa,eb){(ma=ma.element())&&ma.setAttribute("title",Z(eb))}function Z(ma){return null==ma?"":l.isArray(ma)?"["+ma.map(na).join(", ")+"]":l.isObject(ma)&&!l.isDate(ma)?oa(ma):ma+""}function oa(ma){return Object.keys(ma).map(Ea=>
{const Qa=ma[Ea];return Ea+": "+(l.isArray(Qa)?"["+Qa.map(na).join(", ")+"]":na(Qa))}).join("\n")}function na(ma){return l.isArray(ma)?"[]":l.isObject(ma)&&!l.isDate(ma)?"{}":ma}function Aa(ma,Ea){Ea=Ea||{};u.Dataflow.call(this);Ea.loader&&this.loader(Ea.loader);Ea.logger&&this.logger(Ea.logger);null!=Ea.logLevel&&this.logLevel(Ea.logLevel);if(Ea.locale||ma.locale){var Qa=l.extend({},ma.locale,Ea.locale);this.locale(k.locale(Qa.number,Qa.time))}this._elBind=this._el=null;this._renderType=Ea.renderer||
G.RenderType.Canvas;this._scenegraph=new G.Scenegraph;Qa=this._scenegraph.root;this._renderer=null;this._tooltip=Ea.tooltip||X;this._redraw=!0;this._handler=(new G.CanvasHandler).scene(Qa);this._preventDefault=this._globalCursor=!1;this._timers=[];this._eventListeners=[];this._resizeListeners=[];this._eventConfig=E(ma.eventConfig);this.globalCursor(this._eventConfig.globalCursor);const eb=Pa(this,ma,Ea.expr);this._runtime=eb;this._signals=eb.signals;this._bind=(ma.bindings||[]).map(yb=>({state:null,
param:l.extend({},yb)}));eb.root&&eb.root.set(Qa);Qa.source=eb.data.root.input;this.pulse(eb.data.root.input,this.changeset().insert(Qa.items));this._width=this.width();this._height=this.height();this._viewWidth=Ua(this,this._width);this._viewHeight=za(this,this._height);this._origin=[0,0];this._resize=0;this._autosize=1;qa(this);f(this);a(this);this.description(ma.description);Ea.hover&&this.hover();Ea.container&&this.initialize(Ea.container,Ea.bind)}function ka(ma,Ea){return l.hasOwnProperty(ma._signals,
Ea)?ma._signals[Ea]:l.error("Unrecognized signal name: "+l.stringValue(Ea))}function Na(ma,Ea){ma=(ma._targets||[]).filter(Qa=>Qa._update&&Qa._update.handler===Ea);return ma.length?ma[0]:null}function $a(ma,Ea,Qa,eb){let yb=Na(Qa,eb);yb||(yb=xa(ma,()=>eb(Ea,Qa.value)),yb.handler=eb,ma.on(Qa,null,yb));return ma}function Wa(ma,Ea,Qa){(Qa=Na(Ea,Qa))&&Ea._targets.remove(Qa);return ma}const Ca={trap:!1};var Da={skip:!0};l.inherits(Aa,u.Dataflow,{evaluate(ma,Ea,Qa){const eb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield u.Dataflow.prototype.evaluate.call(eb,
ma,Ea);if(eb._redraw||eb._resize)try{eb._renderer&&(eb._resize&&(eb._resize=0,K(eb)),yield eb._renderer.renderAsync(eb._scenegraph.root)),eb._redraw=!1}catch(yb){eb.error(yb)}Qa&&u.asyncCallback(eb,Qa);return eb})},dirty(ma){this._redraw=!0;this._renderer&&this._renderer.dirty(ma)},description(ma){if(arguments.length){const Ea=null!=ma?ma+"":null;Ea!==this._desc&&d(this._el,this._desc=Ea);return this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},
signal(ma,Ea,Qa){const eb=ka(this,ma);return 1===arguments.length?eb.value:this.update(eb,Ea,Qa)},width(ma){return arguments.length?this.signal("width",ma):this.signal("width")},height(ma){return arguments.length?this.signal("height",ma):this.signal("height")},padding(ma){return arguments.length?this.signal("padding",gb(ma)):gb(this.signal("padding"))},autosize(ma){return arguments.length?this.signal("autosize",ma):this.signal("autosize")},background(ma){return arguments.length?this.signal("background",
ma):this.signal("background")},renderer(ma){if(!arguments.length)return this._renderType;G.renderModule(ma)||l.error("Unrecognized renderer type: "+ma);ma!==this._renderType&&(this._renderType=ma,this._resetRenderer());return this},tooltip(ma){if(!arguments.length)return this._tooltip;ma!==this._tooltip&&(this._tooltip=ma,this._resetRenderer());return this},loader(ma){if(!arguments.length)return this._loader;ma!==this._loader&&(u.Dataflow.prototype.loader.call(this,ma),this._resetRenderer());return this},
resize(){this._autosize=1;return this.touch(ka(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(ma,Ea,Qa,eb,yb,Qb){this.runAfter(fc=>{let ad=0;fc._autosize=0;fc.width()!==Qa&&(ad=1,fc.signal("width",Qa,Da),fc._resizeWidth.skip(!0));fc.height()!==eb&&(ad=1,fc.signal("height",eb,Da),fc._resizeHeight.skip(!0));fc._viewWidth!==ma&&(fc._resize=1,fc._viewWidth=ma);fc._viewHeight!==Ea&&(fc._resize=1,fc._viewHeight=Ea);
if(fc._origin[0]!==yb[0]||fc._origin[1]!==yb[1])fc._resize=1,fc._origin=yb;ad&&fc.run("enter");Qb&&fc.runAfter(ic=>ic.resize())},!1,1)},addEventListener(ma,Ea,Qa){let eb=Ea;Qa&&!1===Qa.trap||(eb=xa(this,Ea),eb.raw=Ea);this._handler.on(ma,eb);return this},removeEventListener(ma,Ea){for(var Qa=this._handler.handlers(ma),eb=Qa.length,yb,Qb;0<=--eb;)if(Qb=Qa[eb].type,yb=Qa[eb].handler,ma===Qb&&(Ea===yb||Ea===yb.raw)){this._handler.off(Qb,yb);break}return this},addResizeListener(ma){const Ea=this._resizeListeners;
0>Ea.indexOf(ma)&&Ea.push(ma);return this},removeResizeListener(ma){var Ea=this._resizeListeners;ma=Ea.indexOf(ma);0<=ma&&Ea.splice(ma,1);return this},addSignalListener(ma,Ea){return $a(this,ma,ka(this,ma),Ea)},removeSignalListener(ma,Ea){return Wa(this,ka(this,ma),Ea)},addDataListener(ma,Ea){return $a(this,ma,n(this,ma).values,Ea)},removeDataListener(ma,Ea){return Wa(this,n(this,ma).values,Ea)},globalCursor(ma){if(arguments.length){if(this._globalCursor!==!!ma){const Ea=e(this,null);this._globalCursor=
!!ma;Ea&&e(this,Ea)}return this}return this._globalCursor},preventDefault(ma){return arguments.length?(this._preventDefault=ma,this):this._preventDefault},timer:function(ma,Ea){this._timers.push(t.interval(function(Qa){ma({timestamp:Date.now(),elapsed:Qa})},Ea))},events:function(ma,Ea,Qa){var eb=this,yb=new u.EventStream(Qa);Qa=function(ic,xc){eb.runAsync(null,()=>{var ib;if(ib="view"===ma){var $b=eb._eventConfig.defaults;ib=$b.prevent;$b=$b.allow;ib=!1===ib||!0===$b?!1:!0===ib||!1===$b?!0:ib?ib[Ea]:
$b?!$b[Ea]:eb.preventDefault()}ib&&ic.preventDefault();yb.receive(D(eb,ic,xc))})};var Qb;if("timer"===ma)H(eb,"timer",Ea)&&eb.timer(Qa,Ea);else if("view"===ma)H(eb,"view",Ea)&&eb.addEventListener(Ea,Qa,Ca);else if("window"===ma?H(eb,"window",Ea)&&"undefined"!==typeof window&&(Qb=[window]):"undefined"!==typeof document&&H(eb,"selector",Ea)&&(Qb=document.querySelectorAll(ma)),Qb){for(var fc=0,ad=Qb.length;fc<ad;++fc)Qb[fc].addEventListener(Ea,Qa);eb._eventListeners.push({type:Ea,sources:Qb,handler:Qa})}else eb.warn("Can not resolve event source: "+
ma);return yb},finalize:function(){var ma=this._tooltip,Ea=this._timers,Qa=this._eventListeners,eb;for(eb=Ea.length;0<=--eb;)Ea[eb].stop();for(eb=Qa.length;0<=--eb;){var yb=Qa[eb];for(Ea=yb.sources.length;0<=--Ea;)yb.sources[Ea].removeEventListener(yb.type,yb.handler)}ma&&ma.call(this,this._handler,null,null,null);return this},hover:function(ma,Ea){ma=[ma||"hover"];Ea=[Ea||"update",ma[0]];this.on(this.events("view","mouseover",Q),S,ea(ma));this.on(this.events("view","mouseout",Q),S,ea(Ea));return this},
data:function(ma,Ea){return 2>arguments.length?n(this,ma).values.value:x.call(this,ma,u.changeset().remove(l.truthy).insert(Ea))},change:x,insert:function(ma,Ea){return x.call(this,ma,u.changeset().insert(Ea))},remove:function(ma,Ea){return x.call(this,ma,u.changeset().remove(Ea))},scale:function(ma){var Ea=this._runtime.scales;l.hasOwnProperty(Ea,ma)||l.error("Unrecognized scale or projection: "+ma);return Ea[ma].value},initialize:function(ma,Ea){const Qa=this;var eb=Qa._renderType;const yb=Qa._eventConfig.bind;
var Qb=G.renderModule(eb);ma=Qa._el=ma?Za(Qa,ma):null;g(Qa);Qb||Qa.error("Unrecognized renderer type: "+eb);eb=Qb.handler||G.CanvasHandler;Qb=ma?Qb.renderer:Qb.headless;Qa._renderer=Qb?wa(Qa,Qa._renderer,ma,Qb):null;Qa._handler=Ha(Qa,Qa._handler,ma,eb);Qa._redraw=!0;ma&&"none"!==yb&&(Ea=Ea?Qa._elBind=Za(Qa,Ea):ma.appendChild(ba("form",{"class":"vega-bindings"})),Qa._bind.forEach(fc=>{fc.param.element&&"container"!==yb&&(fc.element=Za(Qa,fc.param.element))}),Qa._bind.forEach(fc=>{fa(Qa,fc.element||
Ea,fc)}));return Qa},toImageURL:function(ma,Ea){const Qa=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){ma!==G.RenderType.Canvas&&ma!==G.RenderType.SVG&&ma!==G.RenderType.PNG&&l.error("Unrecognized image type: "+ma);var eb=yield ra(Qa,ma,Ea);ma===G.RenderType.SVG?(eb=eb.svg(),eb=new Blob([eb],{type:"image/svg+xml"}),eb=window.URL.createObjectURL(eb)):eb=eb.canvas().toDataURL("image/png");return eb})},toCanvas:function(ma,Ea){const Qa=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield ra(Qa,
G.RenderType.Canvas,ma,Ea)).canvas()})},toSVG:function(ma){const Ea=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield ra(Ea,G.RenderType.SVG,ma)).svg()})},getState:function(ma){return this._runtime.getState(ma||{data:R,signals:T,recurse:!0})},setState:function(ma){this.runAsync(null,Ea=>{Ea._trigger=!1;Ea._runtime.setState(ma)},Ea=>{Ea._trigger=!0});return this}});m.View=Aa;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[63]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J):"function"===typeof define&&define.amd?define(["exports"],l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.vega={}))})(this,function(m){function l(g,d,f,a,e){const n=g.length;let x=0,z;for(;d<n;++d)if(z=g[d],x||z!==f)e&&0<=e.indexOf(z)?--x:a&&0<=a.indexOf(z)&&++x;else break;return d}function u(g){const d=[],f=g.length;let a=0,e=0;for(;e<f;)e=l(g,e,",","[{","]}"),d.push(g.substring(a,
e).trim()),a=++e;if(0===d.length)throw"Empty event selector: "+g;return d}function G(g){if("["===g[0]){var d=g;var f=d.length;g=l(d,1,"]","[","]");if(g===f)throw"Empty between selector: "+d;f=u(d.substring(1,g));if(2!==f.length)throw"Between selector must have two elements: "+d;d=d.slice(g+1).trim();if("\x3e"!==d[0])throw"Expected '\x3e' after between selector: "+d;f=f.map(G);d=G(d.slice(1).trim());d.between?d={between:f,stream:d}:d.between=f}else{{f={source:t};const a=[];let e=[0,0],n=0,x=0,z=g.length,
B=0,M;if("}"===g[z-1]){B=g.lastIndexOf("{");if(0<=B){try{e=L(g.substring(B+1,z-1))}catch(K){throw"Invalid throttle specification: "+g;}g=g.slice(0,B).trim();z=g.length}else throw"Unmatched right brace: "+g;B=0}if(!z)throw g;"@"===g[0]&&(n=++B);M=l(g,B,":");M<z&&(a.push(g.substring(x,M).trim()),x=B=++M);B=l(g,B,"[");if(B===z)a.push(g.substring(x,z).trim());else if(a.push(g.substring(x,B).trim()),d=[],x=++B,x===z)throw"Unmatched left bracket: "+g;for(;B<z;){B=l(g,B,"]");if(B===z)throw"Unmatched left bracket: "+
g;d.push(g.substring(x,B).trim());if(B<z-1&&"["!==g[++B])throw"Expected left bracket: "+g;x=++B}if(!(z=a.length)||w.test(a[z-1]))throw"Invalid event selector: "+g;1<z?(f.type=a[1],n?f.markname=a[0].slice(1):k[a[0]]?f.marktype=a[0]:f.source=a[0]):f.type=a[0];"!"===f.type.slice(-1)&&(f.consume=!0,f.type=f.type.slice(0,-1));null!=d&&(f.filter=d);e[0]&&(f.throttle=e[0]);e[1]&&(f.debounce=e[1]);d=f}}return d}function L(g){const d=g.split(",");if(!g.length||2<d.length)throw g;return d.map(f=>{f=+f;if(f!==
f)throw g;return f})}const w=/[[\]{}]/,v={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let t,k;m.selector=function(g,d,f){t=d||"view";k=f||v;return u(g.trim()).map(G)};Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[64]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?l(J,A(16),A(60),A(63),A(37),A(28)):"function"===typeof define&&define.amd?define("exports vega-util vega-functions vega-event-selector vega-scale vega-dataflow".split(" "),l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.vega={},m.vega,m.vega,m.vega,m.vega,m.vega))})(this,function(m,l,u,G,L,w){function v(va){return l.isObject(va)?va:{type:va||"pad"}}function t(va){l.isObject(va)?va=va.signal?
va:{top:+va.top||0,bottom:+va.bottom||0,left:+va.left||0,right:+va.right||0}:(va=+va||0,va={top:va,bottom:va,left:va,right:va});return va}function k(va,Ma,rb,Pb){return null!=rb?(l.isObject(rb)&&!l.isArray(rb)||l.isArray(rb)&&rb.length&&l.isObject(rb[0])?va.update[Ma]=rb:va[Pb||"enter"][Ma]={value:rb},1):0}function g(va,Ma,rb){for(const Pb in Ma)k(va,Pb,Ma[Pb]);for(const Pb in rb)k(va,Pb,rb[Pb],"update")}function d(va,Ma,rb){for(const Pb in Ma)rb&&l.hasOwnProperty(rb,Pb)||(va[Pb]=l.extend(va[Pb]||
{},Ma[Pb]));return va}function f(va,Ma){return Ma&&(Ma.enter&&Ma.enter[va]||Ma.update&&Ma.update[va])}function a(va,Ma,rb,Pb,Mb){const ac={},gc={};let Uc,Mc;Mc="lineBreak";"text"!==Ma||null==Mb[Mc]||f(Mc,va)||e(ac,Mc,Mb[Mc]);if("legend"==rb||String(rb).startsWith("axis"))rb=null;rb="frame"===rb?Mb.group:"mark"===rb?l.extend({},Mb.mark,Mb[Ma]):null;for(Mc in rb)(Ma=f(Mc,va)||("fill"===Mc||"stroke"===Mc)&&(f("fill",va)||f("stroke",va)))||e(ac,Mc,rb[Mc]);l.array(Pb).forEach(fd=>{fd=Mb.style&&Mb.style[fd];
for(const ud in fd)f(ud,va)||e(ac,ud,fd[ud])});va=l.extend({},va);for(Mc in ac)rb=ac[Mc],rb.signal?(Uc=Uc||{})[Mc]=rb:gc[Mc]=rb;va.enter=l.extend(gc,va.enter);Uc&&(va.update=l.extend(Uc,va.update));return va}function e(va,Ma,rb){va[Ma]=rb&&rb.signal?{signal:rb.signal}:{value:rb}}function n(va){if(null!=va.gradient)return x(va);if(va.signal)var Ma=`(${va.signal})`;else va.color?(Ma=va.color,Ma=Ma.c?Xd("hcl",Ma.h,Ma.c,Ma.l):Ma.h||Ma.s?Xd("hsl",Ma.h,Ma.s,Ma.l):Ma.l||Ma.a?Xd("lab",Ma.l,Ma.a,Ma.b):Ma.r||
Ma.g||Ma.b?Xd("rgb",Ma.r,Ma.g,Ma.b):null):Ma=null!=va.field?B(va.field):void 0!==va.value?l.stringValue(va.value):void 0;if(null!=va.scale){{const rb=cf(va.scale);null!=va.range?Ma=`lerp(_range(${rb}), ${+va.range})`:(void 0!==Ma&&(Ma=`_scale(${rb}, ${Ma})`),va.band&&(Ma=(Ma?Ma+"+":"")+`_bandwidth(${rb})`+(1===+va.band?"":"*"+z(va.band)),va.extra&&(Ma=`(datum.extra ? _scale(${rb}, datum.extra.value) : ${Ma})`)),null==Ma&&(Ma="0"))}}void 0===Ma&&(Ma=null);null!=va.exponent&&(Ma=`pow(${Ma},${z(va.exponent)})`);
null!=va.mult&&(Ma+=`*${z(va.mult)}`);null!=va.offset&&(Ma+=`+${z(va.offset)}`);va.round&&(Ma=`round(${Ma})`);return Ma}function x(va){const Ma=[va.start,va.stop,va.count].map(rb=>null==rb?null:l.stringValue(rb));for(;Ma.length&&null==l.peek(Ma);)Ma.pop();Ma.unshift(cf(va.gradient));return`gradient(${Ma.join(",")})`}function z(va){return l.isObject(va)?"("+n(va)+")":va}function B(va){return M(l.isObject(va)?va:{datum:va})}function M(va){let Ma;if(va.signal){Ma="datum";var rb=va.signal}else if(va.group||
va.parent){rb=Math.max(1,va.level||1);for(Ma="item";0<rb--;)Ma+=".mark.group";va.parent?(rb=va.parent,Ma+=".datum"):rb=va.group}else va.datum?(Ma="datum",rb=va.datum):l.error("Invalid field reference: "+l.stringValue(va));va.signal||(rb=l.isString(rb)?l.splitAccessPath(rb).map(l.stringValue).join("]["):M(rb));return Ma+"["+rb+"]"}function K(va){let Ma="";va.forEach(rb=>{const Pb=n(rb);Ma+=rb.test?`(${rb.test})?${Pb}:`:Pb});":"===l.peek(Ma)&&(Ma+="null");return Ma}function D(va,Ma,rb,Pb,Mb,ac){const gc=
{};ac=ac||{};ac.encoders={$encode:gc};va=a(va,Ma,rb,Pb,Mb.config);for(const ud in va){{rb=va[ud];Pb=Ma;var Uc=ac,Mc=Mb;const Od={},Yd={};for(const vd in rb)if(null!=rb[vd]){var fd=rb[vd];fd=l.isArray(fd)?K(fd):n(fd);Od[vd]=y(fd,Mc,Uc,Yd)}rb={$expr:{marktype:Pb,channels:Od},$fields:Object.keys(Yd),$output:Object.keys(rb)}}gc[ud]=rb}return ac}function y(va,Ma,rb,Pb){va=u.parseExpression(va,Ma);va.$fields.forEach(Mb=>Pb[Mb]=1);l.extend(rb,va.$params);return va.$expr}function E(va,Ma){l.error(va+' for "outer" push: '+
l.stringValue(Ma))}function H(va,Ma){const rb=va.name;if("outer"===va.push)Ma.signals[rb]||E("No prior signal definition",rb),ae.forEach(Pb=>{void 0!==va[Pb]&&E("Invalid property ",Pb)});else{const Pb=Ma.addSignal(rb,va.value);!1===va.react&&(Pb.react=!1);va.bind&&Ma.addBinding(rb,va.bind)}}function Q(va,Ma,rb,Pb){this.id=-1;this.type=va;this.value=Ma;this.params=rb;Pb&&(this.parent=Pb)}function S(va){const Ma={$ref:va.id};0>va.id&&(va.refs=va.refs||[]).push(Ma);return Ma}function ea(va,Ma){return Ma?
{$field:va,$name:Ma}:{$field:va}}function ba(va,Ma){va={$key:va};Ma&&(va.$flat=!0);return va}function fa(va,Ma){return(va&&va.signal?"$"+va.signal:va||"")+(va&&Ma?"_":"")+(Ma&&Ma.signal?"$"+Ma.signal:Ma||"")}function ia(va){return va&&va.signal}function ca(va){if(ia(va))return!0;if(l.isObject(va))for(const Ma in va)if(ca(va[Ma]))return!0;return!1}function N(va,Ma){return null!=va?va:Ma}function C(va){return va&&va.signal||va}function W(va,Ma){return(va.merge?Y:va.stream?wa:va.type?xa:l.error("Invalid stream specification: "+
l.stringValue(va)))(va,Ma)}function ha(va){return"scope"===va?"view":va||"view"}function Y(va,Ma){const rb=va.merge.map(Pb=>W(Pb,Ma));va=Ha({merge:rb},va,Ma);return Ma.addStream(va).id}function wa(va,Ma){const rb=W(va.stream,Ma);va=Ha({stream:rb},va,Ma);return Ma.addStream(va).id}function xa(va,Ma){let rb;"timer"===va.type?(rb=Ma.event("timer",va.throttle),va={between:va.between,filter:va.filter}):rb=Ma.event(ha(va.source),va.type);va=Ha({stream:rb},va,Ma);return 1===Object.keys(va).length?rb:Ma.addStream(va).id}
function Ha(va,Ma,rb){let Pb=Ma.between;Pb&&(2!==Pb.length&&l.error('Stream "between" parameter must have 2 entries: '+l.stringValue(Ma)),va.between=[W(Pb[0],rb),W(Pb[1],rb)]);Pb=Ma.filter?[].concat(Ma.filter):[];(Ma.marktype||Ma.markname||Ma.markrole)&&Pb.push(Za(Ma.marktype,Ma.markname,Ma.markrole));"scope"===Ma.source&&Pb.push("inScope(event.item)");Pb.length&&(va.filter=u.parseExpression("("+Pb.join(")\x26\x26(")+")",rb).$expr);null!=(Pb=Ma.throttle)&&(va.throttle=+Pb);null!=(Pb=Ma.debounce)&&
(va.debounce=+Pb);Ma.consume&&(va.consume=!0);return va}function Za(va,Ma,rb){return"event.item"+(va&&"*"!==va?"\x26\x26event.item.mark.marktype\x3d\x3d\x3d'"+va+"'":"")+(rb?"\x26\x26event.item.mark.role\x3d\x3d\x3d'"+rb+"'":"")+(Ma?"\x26\x26event.item.mark.name\x3d\x3d\x3d'"+Ma+"'":"")}function gb(va,Ma,rb){const Pb=va.encode,Mb={target:rb};rb=va.events;let ac=va.update,gc=[];rb||l.error("Signal update missing events specification.");l.isString(rb)&&(rb=G.selector(rb,Ma.isSubscope()?"scope":"view"));
rb=l.array(rb).filter(Uc=>Uc.signal||Uc.scale?(gc.push(Uc),0):1);1<gc.length&&(gc=[Pa(gc)]);rb.length&&gc.push(1<rb.length?{merge:rb}:rb[0]);null!=Pb&&(ac&&l.error("Signal encode and update are mutually exclusive."),ac="encode(item(),"+l.stringValue(Pb)+")");Mb.update=l.isString(ac)?u.parseExpression(ac,Ma):null!=ac.expr?u.parseExpression(ac.expr,Ma):null!=ac.value?ac.value:null!=ac.signal?{$expr:fe,$params:{$value:Ma.signalRef(ac.signal)}}:l.error("Invalid signal update specification.");va.force&&
(Mb.options={force:!0});gc.forEach(Uc=>Ma.addUpdate(l.extend(ra(Uc,Ma),Mb)))}function ra(va,Ma){return{source:va.signal?Ma.signalRef(va.signal):va.scale?Ma.scaleRef(va.scale):W(va,Ma)}}function Pa(va){return{signal:"["+va.map(Ma=>Ma.scale?'scale("'+Ma.scale+'")':Ma.signal)+"]"}}function Ua(va,Ma){const rb=Ma.getSignal(va.name);let Pb=va.update;va.init&&(Pb?l.error("Signals can not include both init and update expressions."):(Pb=va.init,rb.initonly=!0));Pb&&(Pb=u.parseExpression(Pb,Ma),rb.update=Pb.$expr,
rb.params=Pb.$params);va.on&&va.on.forEach(Mb=>gb(Mb,Ma,rb.id))}function za(va,Ma){return l.isObject(va)?va.signal?Ma.signalRef(va.signal):l.error("Unsupported object: "+l.stringValue(va)):va}function qa(va,Ma){return va.signal?Ma.signalRef(va.signal):va.map(rb=>za(rb,Ma))}function R(va){l.error("Can not find data set: "+l.stringValue(va))}function T(va,Ma,rb){if(va)return va.signal?rb.signalRef(va.signal):(l.isArray(va)?X:va.fields?oa:Z)(va,Ma,rb);null==Ma.domainMin&&null==Ma.domainMax||l.error("No scale domain defined for domainMin/domainMax to override.")}
function X(va,Ma,rb){return va.map(Pb=>za(Pb,rb))}function Z(va,Ma,rb){const Pb=rb.getData(va.data);Pb||R(va.data);return L.isDiscrete(Ma.type)?Pb.valuesRef(rb,va.field,Aa(va.sort,!1)):L.isQuantile(Ma.type)?Pb.domainRef(rb,va.field):Pb.extentRef(rb,va.field)}function oa(va,Ma,rb){const Pb=va.data,Mb=va.fields.reduce((ac,gc)=>{if(l.isString(gc))gc={data:Pb,field:gc};else if(l.isArray(gc)||gc.signal){{var Uc=gc;gc="_:vega:_"+Vc++;const Mc=me({});l.isArray(Uc)?Mc.value={$ingest:Uc}:Uc.signal&&(Uc="setdata("+
l.stringValue(gc)+","+Uc.signal+")",Mc.params.input=rb.signalRef(Uc));rb.addDataPipeline(gc,[Mc,pb({})]);gc={data:gc,field:"data"}}}ac.push(gc);return ac},[]);return(L.isDiscrete(Ma.type)?na:L.isQuantile(Ma.type)?ka:Na)(va,rb,Mb)}function na(va,Ma,rb){const Pb=Aa(va.sort,!0);va=rb.map(ac=>{const gc=Ma.getData(ac.data);gc||R(ac.data);return gc.countsRef(Ma,ac.field,Pb)});const Mb={groupby:Je,pulse:va};Pb&&(va=Pb.op||"count",rb=Pb.field?fa(va,Pb.field):"count",Mb.ops=[Cc[va]],Mb.fields=[Ma.fieldRef(rb)],
Mb.as=[rb]);va=Ma.add(Gd(Mb));va=Ma.add(me({pulse:S(va)}));rb=Ma.add(Gc({field:Je,sort:Ma.sortRef(Pb),pulse:S(va)}));return S(rb)}function Aa(va,Ma){va&&(va.field||va.op?va.field||"count"===va.op?Ma&&va.field&&va.op&&!Cc[va.op]&&l.error("Multiple domain scales can not be sorted using "+va.op):l.error("No field provided for sort aggregate op: "+va.op):l.isObject(va)?va.field="key":va={field:"key"});return va}function ka(va,Ma,rb){va=rb.map(Pb=>{const Mb=Ma.getData(Pb.data);Mb||R(Pb.data);return Mb.domainRef(Ma,
Pb.field)});return S(Ma.add(ff({values:va})))}function Na(va,Ma,rb){va=rb.map(Pb=>{const Mb=Ma.getData(Pb.data);Mb||R(Pb.data);return Mb.extentRef(Ma,Pb.field)});return S(Ma.add(sf({extents:va})))}function $a(va,Ma,rb){const Pb=Ma.config.range;let Mb=va.range;if(Mb.signal)return Ma.signalRef(Mb.signal);if(l.isString(Mb)){if(Pb&&l.hasOwnProperty(Pb,Mb))return va=l.extend({},va,{range:Pb[Mb]}),$a(va,Ma,rb);"width"===Mb?Mb=[0,{signal:"width"}]:"height"===Mb?Mb=L.isDiscrete(va.type)?[0,{signal:"height"}]:
[{signal:"height"},0]:l.error("Unrecognized scale range value: "+l.stringValue(Mb))}else{if(Mb.scheme){rb.scheme=l.isArray(Mb.scheme)?qa(Mb.scheme,Ma):za(Mb.scheme,Ma);Mb.extent&&(rb.schemeExtent=qa(Mb.extent,Ma));Mb.count&&(rb.schemeCount=za(Mb.count,Ma));return}if(Mb.step){rb.rangeStep=za(Mb.step,Ma);return}if(L.isDiscrete(va.type)&&!l.isArray(Mb))return T(Mb,va,Ma);l.isArray(Mb)||l.error("Unsupported range type: "+l.stringValue(Mb))}return Mb.map(ac=>(l.isArray(ac)?qa:za)(ac,Ma))}function Wa(va,
Ma,rb){return l.isArray(va)?va.map(Pb=>Wa(Pb,Ma,rb)):l.isObject(va)?va.signal?rb.signalRef(va.signal):"fit"===Ma?va:l.error("Unsupported parameter object: "+l.stringValue(va)):va}function Ca(va){va.type="group";va.interactive=va.interactive||!1;return va}function Da(va,Ma){const rb=(Pb,Mb)=>N(va[Pb],N(Ma[Pb],Mb));rb.isVertical=Pb=>"vertical"===N(va.direction,Ma.direction||(Pb?Ma.symbolDirection:Ma.gradientDirection));rb.gradientLength=()=>N(va.gradientLength,Ma.gradientLength||Ma.gradientWidth);rb.gradientThickness=
()=>N(va.gradientThickness,Ma.gradientThickness||Ma.gradientHeight);rb.entryColumns=()=>N(va.columns,N(Ma.columns,+rb.isVertical(!0)));return rb}function ma(va,Ma){return(va=Ma&&(Ma.update&&Ma.update[va]||Ma.enter&&Ma.enter[va]))&&va.signal?va:va?va.value:null}function Ea(va,Ma,rb){return`item.anchor === '${"start"}' ? ${va} : item.anchor === '${"end"}' ? ${Ma} : ${rb}`}function Qa(va,Ma){return Ma?va?l.isObject(va)?Object.assign({},va,{offset:Qa(va.offset,Ma)}):{value:va,offset:Ma}:Ma:va}function eb(va,
Ma){Ma?(va.name=Ma.name,va.style=Ma.style||va.style,va.interactive=!!Ma.interactive,va.encode=d(va.encode,Ma,dd)):va.interactive=!1;return va}function yb(va,Ma,rb,Pb){va=Da(va,rb);var Mb=va.isVertical();rb=va.gradientThickness();const ac=va.gradientLength();let gc,Uc,Mc;Mb?(Mb=[0,1],Uc=[0,0],Mc=rb,rb=ac):(Mb=[0,0],Uc=[1,0],Mc=ac);Ma={enter:gc={opacity:rd,x:rd,y:rd,width:Be(Mc),height:Be(rb)},update:l.extend({},gc,{opacity:$c,fill:{gradient:Ma,start:Mb,stop:Uc}}),exit:{opacity:rd}};g(Ma,{stroke:va("gradientStrokeColor"),
strokeWidth:va("gradientStrokeWidth")},{opacity:va("gradientOpacity")});return eb({type:"rect",role:"legend-gradient",encode:Ma},Pb)}function Qb(va,Ma,rb,Pb,Mb){va=Da(va,rb);const ac=va.isVertical();rb=va.gradientThickness();const gc=va.gradientLength();var Uc;let Mc,fd,ud,Od="";ac?(Uc="y",fd="y2",Mc="x",ud="width",Od="1-"):(Uc="x",fd="x2",Mc="y",ud="height");Ma={opacity:rd,fill:{scale:Ma,field:"value"}};Ma[Uc]={signal:Od+"datum.perc",mult:gc};Ma[Mc]=rd;Ma[fd]={signal:Od+"datum.perc2",mult:gc};Ma[ud]=
Be(rb);Uc={enter:Ma,update:l.extend({},Ma,{opacity:$c}),exit:{opacity:rd}};g(Uc,{stroke:va("gradientStrokeColor"),strokeWidth:va("gradientStrokeWidth")},{opacity:va("gradientOpacity")});return eb({type:"rect",role:"legend-band",key:"value",from:Mb,encode:Uc},Pb)}function fc(va,Ma,rb,Pb){const Mb=Da(va,Ma);var ac=Mb.isVertical();const gc=Be(Mb.gradientThickness()),Uc=Mb.gradientLength();let Mc=Mb("labelOverlap"),fd,ud,Od,Yd="";const vd={enter:fd={opacity:rd},update:ud={opacity:$c,text:{field:"label"}},
exit:{opacity:rd}};g(vd,{fill:Mb("labelColor"),fillOpacity:Mb("labelOpacity"),font:Mb("labelFont"),fontSize:Mb("labelFontSize"),fontStyle:Mb("labelFontStyle"),fontWeight:Mb("labelFontWeight"),limit:N(va.labelLimit,Ma.gradientLabelLimit)});ac?(fd.align={value:"left"},fd.baseline=ud.baseline={signal:'datum.perc\x3c\x3d0?"bottom":datum.perc\x3e\x3d1?"top":"middle"'},ac="y",Od="x",Yd="1-"):(fd.align=ud.align={signal:'datum.perc\x3c\x3d0?"left":datum.perc\x3e\x3d1?"right":"center"'},fd.baseline={value:"top"},
ac="x",Od="y");fd[ac]=ud[ac]={signal:Yd+"datum.perc",mult:Uc};fd[Od]=ud[Od]=gc;gc.offset=N(va.labelOffset,Ma.gradientLabelOffset)||0;Mc=Mc?{separation:Mb("labelSeparation"),method:Mc,order:"datum.index"}:void 0;return eb({type:"text",role:"legend-label",style:"guide-label",key:"value",from:Pb,encode:vd,overlap:Mc},rb)}function ad(va,Ma,rb,Pb,Mb){var ac=Da(va,Ma);const gc=rb.entries,Uc=!(!gc||!gc.interactive),Mc=gc?gc.name:void 0,fd=ac("clipHeight"),ud=ac("symbolOffset"),Od={data:"value"},Yd=`(${Mb}) ? datum.${"offset"} : datum.${"size"}`,
vd=fd?Be(fd):{field:"size"},ze=`max(1, ${Mb})`;let Kd,pe;vd.mult=.5;var ge={enter:Kd={opacity:rd,x:{signal:Yd,mult:.5,offset:ud},y:vd},update:pe={opacity:$c,x:Kd.x,y:Kd.y},exit:{opacity:rd}};let re=null,pf=null;va.fill||(re=Ma.symbolBaseFillColor,pf=Ma.symbolBaseStrokeColor);g(ge,{fill:ac("symbolFillColor",re),shape:ac("symbolType"),size:ac("symbolSize"),stroke:ac("symbolStrokeColor",pf),strokeDash:ac("symbolDash"),strokeDashOffset:ac("symbolDashOffset"),strokeWidth:ac("symbolStrokeWidth")},{opacity:ac("symbolOpacity")});
Bd.forEach($d=>{va[$d]&&(pe[$d]=Kd[$d]={scale:va[$d],field:"value"})});Ma=eb({type:"symbol",role:"legend-symbol",key:"value",from:Od,clip:fd?!0:void 0,encode:ge},rb.symbols);ge=Be(ud);ge.offset=ac("labelOffset");ge={enter:Kd={opacity:rd,x:{signal:Yd,offset:ge},y:vd},update:pe={opacity:$c,text:{field:"label"},x:Kd.x,y:Kd.y},exit:{opacity:rd}};g(ge,{align:ac("labelAlign"),baseline:ac("labelBaseline"),fill:ac("labelColor"),fillOpacity:ac("labelOpacity"),font:ac("labelFont"),fontSize:ac("labelFontSize"),
fontStyle:ac("labelFontStyle"),fontWeight:ac("labelFontWeight"),limit:ac("labelLimit")});rb=eb({type:"text",role:"legend-label",style:"guide-label",key:"value",from:Od,encode:ge},rb.labels);ge={enter:{noBound:{value:!fd},width:rd,height:fd?Be(fd):rd,opacity:rd},exit:{opacity:rd},update:pe={opacity:$c,row:{signal:null},column:{signal:null}}};ac.isVertical(!0)?(ac=`ceil(item.mark.items.length / ${ze})`,pe.row.signal=`${"datum.index"}%${ac}`,pe.column.signal=`floor(${"datum.index"} / ${ac})`,ac={field:["row",
"datum.index"]}):(pe.row.signal=`floor(${"datum.index"} / ${ze})`,pe.column.signal=`${"datum.index"} % ${ze}`,ac={field:"datum.index"});pe.column.signal=`(${Mb})?${pe.column.signal}:${"datum.index"}`;Pb={facet:{data:Pb,name:"value",groupby:"index"}};return Ca({role:"scope",from:Pb,encode:d(ge,gc,dd),marks:[Ma,rb],name:Mc,interactive:Uc,sort:ac})}function ic(va,Ma){va=Da(va,Ma);return{align:va("gridAlign"),columns:va.entryColumns(),center:{row:!0,column:!1},padding:{row:va("rowPadding"),column:va("columnPadding")}}}
function xc(va,Ma,rb,Pb){Ma=Da(va,Ma);const Mb={enter:{opacity:rd},update:{opacity:$c,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:rd}};g(Mb,{orient:Ma("titleOrient"),_anchor:Ma("titleAnchor"),anchor:{signal:'item._anchor || ((item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? "middle" : "start")'},angle:{signal:'datum.vgrad \x26\x26 (item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? (item.orient \x3d\x3d\x3d "left" ? -90 : 90) : 0'},
align:{signal:Ye},baseline:{signal:Ne},text:va.title,fill:Ma("titleColor"),fillOpacity:Ma("titleOpacity"),font:Ma("titleFont"),fontSize:Ma("titleFontSize"),fontStyle:Ma("titleFontStyle"),fontWeight:Ma("titleFontWeight"),limit:Ma("titleLimit"),lineHeight:Ma("titleLineHeight")},{align:Ma("titleAlign"),baseline:Ma("titleBaseline")});return eb({type:"text",role:"legend-title",style:"guide-title",from:Pb,encode:Mb},rb)}function ib(va,Ma){let rb;l.isObject(va)&&(va.signal?rb=va.signal:va.path?rb="pathShape("+
$b(va.path)+")":va.sphere&&(rb="geoShape("+$b(va.sphere)+', {type: "Sphere"})'));return rb?Ma.signalRef(rb):!!va}function $b(va){return l.isObject(va)&&va.signal?va.signal:l.stringValue(va)}function bc(va){const Ma=va.role||"";return Ma.indexOf("axis")&&Ma.indexOf("legend")&&Ma.indexOf("title")?"group"===va.type?"scope":Ma||"mark":Ma}function kc(va){return{marktype:va.type,name:va.name||void 0,role:va.role||bc(va),zindex:+va.zindex||void 0,aria:va.aria,description:va.description}}function Ec(va,Ma){return va&&
va.signal?Ma.signalRef(va.signal):!1===va?!1:!0}function jc(va,Ma){const rb=w.definition(va.type);rb||l.error("Unrecognized transform type: "+l.stringValue(va.type));var Pb=rb.type.toLowerCase();var Mb=Oc(rb,va,Ma);Pb=new Q(Pb,null,Mb,void 0);va.signal&&Ma.addSignal(va.signal,Ma.proxy(Pb));Pb.metadata=rb.metadata||{};return Pb}function Oc(va,Ma,rb){const Pb={},Mb=va.params.length;for(let ac=0;ac<Mb;++ac){const gc=va.params[ac];Pb[gc.name]=Hc(gc,Ma,rb)}return Pb}function Hc(va,Ma,rb){const Pb=va.type,
Mb=Ma[va.name];if("index"===Pb)return td(va,Ma,rb);if(void 0===Mb)va.required&&l.error("Missing required "+l.stringValue(Ma.type)+" parameter: "+l.stringValue(va.name));else return"param"===Pb?Qd(va,Ma,rb):"projection"===Pb?rb.projectionRef(Ma[va.name]):va.array&&!ia(Mb)?Mb.map(ac=>Bc(va,ac,rb)):Bc(va,Mb,rb)}function Bc(va,Ma,rb){const Pb=va.type;return ia(Ma)?"expr"===Pb?l.error("Expression references can not be signals."):"field"===Pb?rb.fieldRef(Ma):"compare"===Pb?rb.compareRef(Ma):rb.signalRef(Ma.signal):
(va=va.expr||"field"===Pb)&&Ma&&Ma.expr?rb.exprRef(Ma.expr,Ma.as):va&&Ma&&Ma.field?ea(Ma.field,Ma.as):"expr"===Pb?u.parseExpression(Ma,rb):"data"===Pb?S(rb.getData(Ma).values):"field"===Pb?ea(Ma):"compare"===Pb?rb.compareRef(Ma):Ma}function td(va,Ma,rb){l.isString(Ma.from)||l.error('Lookup "from" parameter must be a string literal.');return rb.getData(Ma.from).lookupRef(rb,Ma.key)}function Qd(va,Ma,rb){Ma=Ma[va.name];return va.array?(l.isArray(Ma)||l.error("Expected an array of sub-parameters. Instead: "+
l.stringValue(Ma)),Ma.map(Pb=>jd(va,Pb,rb))):jd(va,Ma,rb)}function jd(va,Ma,rb){const Pb=va.params.length;let Mb;for(let ac=0;ac<Pb;++ac){Mb=va.params[ac];for(const gc in Mb.key)if(Mb.key[gc]!==Ma[gc]){Mb=null;break}if(Mb)break}Mb||l.error("Unsupported parameter: "+l.stringValue(Ma));va=l.extend(Oc(Mb,Ma,rb),Mb.key);return S(rb.add(gf(va)))}function hd(va,Ma,rb){let Pb,Mb,ac,gc;if(!va)ac=S(rb.add(me(null,[{}])));else if(Pb=va.facet)Ma||l.error("Only group marks can be faceted."),null!=Pb.field?ac=
gc=Fd(Pb,rb):(va.data?gc=S(rb.getData(va.data).aggregate):(Ma=jc(l.extend({type:"aggregate",groupby:l.array(Pb.groupby)},Pb.aggregate),rb),Ma.params.key=rb.keyRef(Pb.groupby),Ma.params.pulse=Fd(Pb,rb),ac=gc=S(rb.add(Ma))),Mb=rb.keyRef(Pb.groupby,!0));ac||(ac=Fd(va,rb));return{key:Mb,pulse:ac,parent:gc}}function Fd(va,Ma){return va.$ref?va:va.data&&va.data.$ref?va.data:S(Ma.getData(va.data).output)}function Ib(va,Ma,rb,Pb,Mb){this.scope=va;this.input=Ma;this.output=rb;this.values=Pb;this.aggregate=
Mb;this.index={}}function Zb(va){return l.isString(va)?va:null}function xb(va,Ma,rb){const Pb=fa(rb.op,rb.field);let Mb;if(Ma.ops)for(let ac=0,gc=Ma.as.length;ac<gc;++ac){if(Ma.as[ac]===Pb)return}else Ma.ops=["count"],Ma.fields=[null],Ma.as=["count"];rb.op&&(Ma.ops.push((Mb=rb.op.signal)?va.signalRef(Mb):rb.op),Ma.fields.push(va.fieldRef(rb.field)),Ma.as.push(Pb))}function qc(va,Ma,rb,Pb,Mb,ac,gc){rb=Ma[rb]||(Ma[rb]={});var Uc=l.isObject(ac)?("descending"===ac.order?"-":"+")+fa(ac.op,ac.field):"";
let Mc=Zb(Mb);if(null!=Mc){va=Ma.scope;Mc+=Uc?"|"+Uc:"";var fd=rb[Mc]}fd||(fd=ac?{field:Je,pulse:Ma.countsRef(va,Mb,ac)}:{field:va.fieldRef(Mb),pulse:S(Ma.output)},Uc&&(fd.sort=va.sortRef(ac)),va=va.add(new Q(Pb,void 0,fd,void 0)),gc&&(Ma.index[Mb]=va),fd=S(va),null!=Mc&&(rb[Mc]=fd));return fd}function Nc(va,Ma,rb){var Pb=va.from.facet;const Mb=Pb.name,ac=Fd(Pb,Ma);let gc;Pb.name||l.error("Facet must have a name: "+l.stringValue(Pb));Pb.data||l.error("Facet must reference a data set: "+l.stringValue(Pb));
Pb.field?gc=Ma.add(Zd({field:Ma.fieldRef(Pb.field),pulse:ac})):Pb.groupby?gc=Ma.add(He({key:Ma.keyRef(Pb.groupby),group:S(Ma.proxy(rb.parent)),pulse:ac})):l.error("Facet must specify groupby or field: "+l.stringValue(Pb));Ma=Ma.fork();rb=Ma.add(me());Pb=Ma.add(pb({pulse:S(rb)}));Ma.addData(Mb,new Ib(Ma,rb,rb,Pb));Ma.addSignal("parent",null);gc.params.subflow={$subflow:Ma.parse(va).toRuntime()}}function qd(va,Ma,rb){rb=Ma.add(Zd({pulse:rb.pulse}));Ma=Ma.fork();Ma.add(pb());Ma.addSignal("parent",null);
rb.params.subflow={$subflow:Ma.parse(va).toRuntime()}}function Ed(va,Ma,rb){const Pb=va.remove,Mb=va.insert,ac=va.toggle,gc=va.modify,Uc=va.values,Mc=Ma.add(new Q("operator",void 0,void 0,void 0));va="if("+va.trigger+',modify("'+rb+'",'+[Mb,Pb,ac,gc,Uc].map(fd=>null==fd?"null":fd).join(",")+"),0)";Ma=u.parseExpression(va,Ma);Mc.update=Ma.$expr;Mc.params=Ma.$params}function Ga(va,Ma){var rb=bc(va),Pb="group"===va.type,Mb=va.from&&va.from.facet;const ac=va.overlap;let gc=va.layout||"scope"===rb||"frame"===
rb,Uc,Mc,fd,ud,Od,Yd;const vd="mark"===rb||gc||Mb,ze=hd(va.from,Pb,Ma);Mc=Ma.add(Ge({key:ze.key||(va.key?ea(va.key):void 0),pulse:ze.pulse,clean:!Pb}));const Kd=S(Mc);Mc=fd=Ma.add(me({pulse:Kd}));Mc=Ma.add(Ie({markdef:kc(va),interactive:Ec(va.interactive,Ma),clip:ib(va.clip,Ma),context:{$context:!0},groups:Ma.lookup(),parent:Ma.signals.parent?Ma.signalRef("parent"):null,index:Ma.markpath(),pulse:S(Mc)}));var pe=S(Mc);Mc=ud=Ma.add(rf(D(va.encode,va.type,rb,va.style,Ma,{mod:!1,pulse:pe})));Mc.params.parent=
Ma.encode();va.transform&&va.transform.forEach(re=>{re=jc(re,Ma);const pf=re.metadata;(pf.generates||pf.changes)&&l.error("Mark transforms should not generate new data.");pf.nomod||(ud.params.mod=!0);re.params.pulse=S(Mc);Ma.add(Mc=re)});va.sort&&(Mc=Ma.add(Rb({sort:Ma.compareRef(va.sort),pulse:S(Mc)})));rb=S(Mc);if(Mb||gc)gc=Ma.add(Vb({layout:Ma.objectProperty(va.layout),legends:Ma.legends,mark:pe,pulse:rb})),Yd=S(gc);const ge=Ma.add(Re({mark:pe,pulse:Yd||rb}));pe=S(ge);Pb&&(vd&&(Uc=Ma.operators,
Uc.pop(),gc&&Uc.pop()),Ma.pushState(rb,Yd||pe,Kd),Mb?Nc(va,Ma,ze):vd?qd(va,Ma,ze):Ma.parse(va),Ma.popState(),vd&&(gc&&Uc.push(gc),Uc.push(ge)));ac&&(pe=ab(ac,pe,Ma));Pb=Ma.add(Va({pulse:pe}));Mb=Ma.add(pb({pulse:S(Pb)},void 0,Ma.parent()));null!=va.name&&(Od=va.name,Ma.addData(Od,new Ib(Ma,fd,Pb,Mb)),va.on&&va.on.forEach(re=>{(re.insert||re.remove||re.toggle)&&l.error("Marks only support modify triggers.");Ed(re,Ma,Od)}))}function ab(va,Ma,rb){const Pb=va.method,Mb=va.bound,ac=va.separation;Ma={separation:ia(ac)?
rb.signalRef(ac.signal):ac,method:ia(Pb)?rb.signalRef(Pb.signal):Pb,pulse:Ma};va.order&&(Ma.sort=rb.compareRef({field:va.order}));Mb&&(va=Mb.tolerance,Ma.boundTolerance=ia(va)?rb.signalRef(va.signal):+va,Ma.boundScale=rb.scaleRef(Mb.scale),Ma.boundOrient=Mb.orient);return S(rb.add(mf(Ma)))}function qb(va,Ma){const rb=Ma.config.legend,Pb=va.encode||{},Mb=Da(va,rb),ac=Pb.legend||{},gc=ac.name||void 0,Uc=ac.interactive,Mc=ac.style,fd={};let ud=0,Od,Yd;Bd.forEach(ge=>va[ge]?(fd[ge]=va[ge],ud=ud||va[ge]):
0);ud||l.error("Missing valid scale for legend.");var vd=Bb(va,Ma.scaleType(ud));const ze={title:null!=va.title,scales:fd,type:vd,vgrad:"symbol"!==vd&&Mb.isVertical()},Kd=S(Ma.add(me(null,[ze]))),pe=S(Ma.add(xe(Yd={type:vd,scale:Ma.scaleRef(ud),count:Ma.objectProperty(Mb("tickCount")),limit:Ma.property(Mb("symbolLimit")),values:Ma.objectProperty(va.values),minstep:Ma.property(va.tickMinStep),formatType:Ma.property(va.formatType),formatSpecifier:Ma.property(va.format)})));"gradient"===vd?(vd=[yb(va,
ud,rb,Pb.gradient),fc(va,rb,Pb.labels,pe)],Yd.count=Yd.count||Ma.signalRef(`max(2,2*floor((${C(Mb.gradientLength())})/100))`)):"discrete"===vd?vd=[Qb(va,ud,rb,Pb.gradient,pe),fc(va,rb,Pb.labels,pe)]:(Od=ic(va,rb),vd=[ad(va,rb,Pb,pe,C(Od.columns))],Yd.size=rc(va,Ma,vd[0].marks));vd=[Ca({role:"legend-entry",from:Kd,encode:{enter:{x:{value:0},y:{value:0}}},marks:vd,layout:Od,interactive:Uc})];ze.title&&vd.push(xc(va,rb,Pb.title,Kd));return Ga(Ca({role:"legend",from:Kd,encode:d(Eb(Mb,va,rb),ac,dd),marks:vd,
aria:Mb("aria"),description:Mb("description"),zindex:Mb("zindex"),name:gc,interactive:Uc,style:Mc}),Ma)}function Bb(va,Ma){let rb=va.type||"symbol";va.type||1!==Tb(va)||!va.fill&&!va.stroke||(rb=L.isContinuous(Ma)?"gradient":L.isDiscretizing(Ma)?"discrete":"symbol");return"gradient"!==rb?rb:L.isDiscretizing(Ma)?"discrete":"gradient"}function Tb(va){return Bd.reduce((Ma,rb)=>Ma+(va[rb]?1:0),0)}function Eb(va,Ma,rb){const Pb={enter:{},update:{}};g(Pb,{orient:va("orient"),offset:va("offset"),padding:va("padding"),
titlePadding:va("titlePadding"),cornerRadius:va("cornerRadius"),fill:va("fillColor"),stroke:va("strokeColor"),strokeWidth:rb.strokeWidth,strokeDash:rb.strokeDash,x:va("legendX"),y:va("legendY"),format:Ma.format,formatType:Ma.formatType});return Pb}function rc(va,Ma,rb){const Pb=C(lc("size",va,rb));va=C(lc("strokeWidth",va,rb));(rb=ma("fontSize",rb[1].encode))||(rb=(rb=Ma.config.style["guide-label"])&&rb.fontSize);rb=C(rb);return u.parseExpression(`max(ceil(sqrt(${Pb})+${va}),${rb})`,Ma)}function lc(va,
Ma,rb){return Ma[va]?`scale("${Ma[va]}",datum)`:ma(va,rb[0].encode)}function kb(va,Ma){va=l.isString(va)?{text:va}:va;const rb=Da(va,Ma.config.title),Pb=va.encode||{};var Mb=Pb.group||{};const ac=Mb.name||void 0,gc=Mb.interactive,Uc=Mb.style,Mc=[],fd=S(Ma.add(me(null,[{}])));Mc.push(Nb(va,rb,vb(va),fd));va.subtitle&&Mc.push(ec(va,rb,Pb.subtitle,fd));va={enter:{},update:{}};g(va,{orient:rb("orient"),anchor:rb("anchor"),align:{signal:Ad},angle:{signal:'item.orient\x3d\x3d\x3d"left"?-90:item.orient\x3d\x3d\x3d"right"?90:0'},
limit:rb("limit"),frame:rb("frame"),offset:rb("offset")||0,padding:rb("subtitlePadding")});Mb=d(va,Mb,dd);return Ga(Ca({role:"title",from:fd,encode:Mb,marks:Mc,aria:rb("aria"),description:rb("description"),zindex:rb("zindex"),name:ac,interactive:gc,style:Uc}),Ma)}function vb(va){const Ma=va.encode;return Ma&&Ma.title||l.extend({name:va.name,interactive:va.interactive,style:va.style},Ma)}function Nb(va,Ma,rb,Pb){var Mb={value:0};Mb={enter:{opacity:Mb},update:{opacity:{value:1}},exit:{opacity:Mb}};
g(Mb,{text:va.text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:Ma("dx"),dy:Ma("dy"),fill:Ma("color"),font:Ma("font"),fontSize:Ma("fontSize"),fontStyle:Ma("fontStyle"),fontWeight:Ma("fontWeight"),lineHeight:Ma("lineHeight")},{align:Ma("align"),angle:Ma("angle"),baseline:Ma("baseline")});return eb({type:"text",role:"title-text",style:"group-title",from:Pb,encode:Mb},rb)}function ec(va,Ma,rb,Pb){var Mb={value:0};
Mb={enter:{opacity:Mb},update:{opacity:{value:1}},exit:{opacity:Mb}};g(Mb,{text:va.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:Ma("dx"),dy:Ma("dy"),fill:Ma("subtitleColor"),font:Ma("subtitleFont"),fontSize:Ma("subtitleFontSize"),fontStyle:Ma("subtitleFontStyle"),fontWeight:Ma("subtitleFontWeight"),lineHeight:Ma("subtitleLineHeight")},{align:Ma("align"),angle:Ma("angle"),baseline:Ma("baseline")});return eb({type:"text",
role:"title-subtitle",style:"group-subtitle",from:Pb,encode:Mb},rb)}function tc(va,Ma){const rb=[];va.transform&&va.transform.forEach(Pb=>{rb.push(jc(Pb,Ma))});va.on&&va.on.forEach(Pb=>{Ed(Pb,Ma,va.name)});Ma.addDataPipeline(va.name,uc(va,Ma,rb))}function uc(va,Ma,rb){const Pb=[];let Mb=null,ac=!1,gc=!1,Uc,Mc,fd,ud;va.values?ia(va.values)||ca(va.format)?(Pb.push(Jb(Ma,va)),Pb.push(Mb=Lc())):Pb.push(Mb=Lc({$ingest:va.values,$format:va.format})):va.url?ca(va.url)||ca(va.format)?(Pb.push(Jb(Ma,va)),
Pb.push(Mb=Lc())):Pb.push(Mb=Lc({$request:va.url,$format:va.format})):va.source&&(Mb=Uc=l.array(va.source).map(Od=>S(Ma.getData(Od).output)),Pb.push(null));va=0;for(Mc=rb.length;va<Mc;++va)fd=rb[va],ud=fd.metadata,Mb||ud.source||Pb.push(Mb=Lc()),Pb.push(fd),ud.generates&&(gc=!0),ud.modifies&&!gc&&(ac=!0),ud.source?Mb=fd:ud.changes&&(Mb=null);Uc&&(Mc=Uc.length-1,Pb[0]=Ba({derive:ac,pulse:Mc?Uc:Uc[0]}),(ac||Mc)&&Pb.splice(1,0,Lc()));Mb||Pb.push(Lc());Pb.push(pb({}));return Pb}function Lc(va){va=me({},
va);va.metadata={source:!0};return va}function Jb(va,Ma){return de({url:Ma.url?va.property(Ma.url):void 0,async:Ma.async?va.property(Ma.async):void 0,values:Ma.values?va.property(Ma.values):void 0,format:va.objectProperty(Ma.format)})}function yc(va,Ma,rb,Pb){let Mb;if(Ma&&l.hasOwnProperty(Ma,va))return Ma[va];if(l.hasOwnProperty(rb,va))return rb[va];if(va.startsWith("title")){switch(va){case "titleColor":Mb="fill";break;case "titleFont":case "titleFontSize":case "titleFontWeight":Mb=va[5].toLowerCase()+
va.slice(6)}return Pb["guide-title"][Mb]}if(va.startsWith("label")){switch(va){case "labelColor":Mb="fill";break;case "labelFont":case "labelFontSize":Mb=va[5].toLowerCase()+va.slice(6)}return Pb["guide-label"][Mb]}return null}function vc(va){const Ma={};for(const rb of va)if(rb)for(const Pb in rb)Ma[Pb]=1;return Object.keys(Ma)}function mc(va,Ma,rb,Pb){var Mb=Da(va,Ma);Ma=va.orient;let ac,gc;const Uc={enter:ac={opacity:rd},update:gc={opacity:$c},exit:{opacity:rd}};g(Uc,{stroke:Mb("domainColor"),
strokeCap:Mb("domainCap"),strokeDash:Mb("domainDash"),strokeDashOffset:Mb("domainDashOffset"),strokeWidth:Mb("domainWidth"),strokeOpacity:Mb("domainOpacity")});Mb={scale:va.scale,range:0};va={scale:va.scale,range:1};ac.x=gc.x=ye(Ma,Mb,rd);ac.x2=gc.x2=ye(Ma,va);ac.y=gc.y=Xe(Ma,Mb,rd);ac.y2=gc.y2=Xe(Ma,va);return eb({type:"rule",role:"axis-domain",from:Pb,encode:Uc},rb)}function Kc(va,Ma,rb,Pb,Mb){var ac=Da(va,Ma);Ma=va.orient;var gc=va.gridScale;const Uc=Yc(Ma,1,-1);a:{var Mc=va.offset;if(1!==Uc)if(l.isObject(Mc)){for(var fd=
Mc=l.extend({},Mc);null!=fd.mult;)if(l.isObject(fd.mult))fd=fd.mult=l.extend({},fd.mult);else{fd.mult=ia(Uc)?{signal:`(${fd.mult}) * (${Uc.signal})`}:fd.mult*Uc;break a}fd.mult=Uc}else Mc=ia(Uc)?{signal:`(${Uc.signal}) * (${Mc||0})`}:Uc*(Mc||0)}const ud=Mc;let Od;const Yd={enter:Mc={opacity:rd},update:Od={opacity:$c},exit:fd={opacity:rd}};g(Yd,{stroke:ac("gridColor"),strokeCap:ac("gridCap"),strokeDash:ac("gridDash"),strokeDashOffset:ac("gridDashOffset"),strokeOpacity:ac("gridOpacity"),strokeWidth:ac("gridWidth")});
va={scale:va.scale,field:"value",band:Mb.band,extra:Mb.extra,offset:Mb.offset,round:ac("tickRound")};ac=ye(Ma,{signal:"height"},{signal:"width"});Mb=gc?{scale:gc,range:0,mult:Uc,offset:ud}:{value:0,offset:ud};gc=gc?{scale:gc,range:1,mult:Uc,offset:ud}:l.extend(ac,{mult:Uc,offset:ud});Mc.x=Od.x=ye(Ma,va,Mb);Mc.y=Od.y=Xe(Ma,va,Mb);Mc.x2=Od.x2=Xe(Ma,gc);Mc.y2=Od.y2=ye(Ma,gc);fd.x=ye(Ma,va);fd.y=Xe(Ma,va);return eb({type:"rule",role:"axis-grid",key:"value",from:Pb,encode:Yd},rb)}function Qc(va,Ma,rb,
Pb,Mb,ac){const gc=Da(va,Ma);Ma=va.orient;const Uc=Yc(Ma,-1,1);let Mc,fd,ud;const Od={enter:Mc={opacity:rd},update:ud={opacity:$c},exit:fd={opacity:rd}};g(Od,{stroke:gc("tickColor"),strokeCap:gc("tickCap"),strokeDash:gc("tickDash"),strokeDashOffset:gc("tickDashOffset"),strokeOpacity:gc("tickOpacity"),strokeWidth:gc("tickWidth")});Mb=Be(Mb);Mb.mult=Uc;va={scale:va.scale,field:"value",band:ac.band,extra:ac.extra,offset:ac.offset,round:gc("tickRound")};ud.y=Mc.y=ye(Ma,rd,va);ud.y2=Mc.y2=ye(Ma,Mb);fd.x=
ye(Ma,va);ud.x=Mc.x=Xe(Ma,rd,va);ud.x2=Mc.x2=Xe(Ma,Mb);fd.y=Xe(Ma,va);return eb({type:"rule",role:"axis-tick",key:"value",from:Pb,encode:Od},rb)}function Zc(va,Ma,rb,Pb,Mb){return{signal:'flush(range("'+va+'"), scale("'+va+'", datum.value), '+Ma+","+rb+","+Pb+","+Mb+")"}}function nd(va,Ma,rb,Pb,Mb,ac){Ma=Da(va,Ma);const gc=va.orient;va=va.scale;var Uc=Yc(gc,-1,1),Mc=C(Ma("labelFlush")),fd=C(Ma("labelFlushOffset")),ud=Ma("labelAlign"),Od=Ma("labelBaseline");let Yd=0===Mc||!!Mc;var vd=Be(Mb);vd.mult=
Uc;vd.offset=Be(Ma("labelPadding")||0);vd.offset.mult=Uc;Uc={scale:va,field:"value",band:.5,offset:Qa(ac.offset,Ma("labelOffset"))};ac=Yd?Zc(va,Mc,'"left"','"right"','"center"'):{value:"center"};Mb=ia(gc)?df(`${gc.signal} === '${"right"}'`,"left","right"):"right"===gc?{value:"left"}:{value:"right"};ac=ye(gc,ac,Mb);Mb=ye(gc,Ke(gc,"bottom","top"),Yd?Zc(va,Mc,'"top"','"bottom"','"middle"'):{value:"middle"});Mc=Zc(va,Mc,`-(${fd})`,fd,0);Yd=Yd&&fd;vd={opacity:rd,x:ye(gc,Uc,vd),y:Xe(gc,Uc,vd)};vd={enter:vd,
update:fd={opacity:$c,text:{field:"label"},x:vd.x,y:vd.y,align:ac,baseline:Mb},exit:{opacity:rd,x:vd.x,y:vd.y}};g(vd,{dx:!ud&&Yd?ye(gc,Mc):null,dy:!Od&&Yd?Xe(gc,Mc):null});g(vd,{angle:Ma("labelAngle"),fill:Ma("labelColor"),fillOpacity:Ma("labelOpacity"),font:Ma("labelFont"),fontSize:Ma("labelFontSize"),fontWeight:Ma("labelFontWeight"),fontStyle:Ma("labelFontStyle"),limit:Ma("labelLimit"),lineHeight:Ma("labelLineHeight")},{align:ud,baseline:Od});ud=Ma("labelBound");Od=(Od=Ma("labelOverlap"))||ud?{separation:Ma("labelSeparation"),
method:Od,order:"datum.index",bound:ud?{scale:va,orient:gc,tolerance:ud}:null}:void 0;fd.align!==ac&&(fd.align=Pe(fd.align,ac));fd.baseline!==Mb&&(fd.baseline=Pe(fd.baseline,Mb));return eb({type:"text",role:"axis-label",style:"guide-label",key:"value",from:Pb,encode:vd,overlap:Od},rb)}function od(va,Ma,rb,Pb){Ma=Da(va,Ma);const Mb=va.orient,ac=Yc(Mb,-1,1);let gc,Uc;const Mc={enter:gc={opacity:rd,anchor:Be(Ma("titleAnchor",null)),align:{signal:Ad}},update:Uc=l.extend({},gc,{opacity:$c,text:Be(va.title)}),
exit:{opacity:rd}};va={signal:`lerp(range("${va.scale}"), ${Ea(0,1,.5)})`};Uc.x=ye(Mb,va);Uc.y=Xe(Mb,va);va=ia(ac)?{signal:`(${ac.signal}) * ${90}`}:{value:90*ac};gc.angle=ye(Mb,rd,va);gc.baseline=ye(Mb,Ke(Mb,"bottom","top"),{value:"bottom"});Uc.angle=gc.angle;Uc.baseline=gc.baseline;g(Mc,{fill:Ma("titleColor"),fillOpacity:Ma("titleOpacity"),font:Ma("titleFont"),fontSize:Ma("titleFontSize"),fontStyle:Ma("titleFontStyle"),fontWeight:Ma("titleFontWeight"),limit:Ma("titleLimit"),lineHeight:Ma("titleLineHeight")},
{align:Ma("titleAlign"),angle:Ma("titleAngle"),baseline:Ma("titleBaseline")});Dd(Ma,Mb,Mc,rb);Mc.update.align=Pe(Mc.update.align,gc.align);Mc.update.angle=Pe(Mc.update.angle,gc.angle);Mc.update.baseline=Pe(Mc.update.baseline,gc.baseline);return eb({type:"text",role:"axis-title",style:"guide-title",from:Pb,encode:Mc},rb)}function Dd(va,Ma,rb,Pb){const Mb=(gc,Uc)=>null!=gc?(rb.update[Uc]=Pe(Be(gc),rb.update[Uc]),!1):f(Uc,Pb)?!1:!0,ac=Mb(va("titleX"),"x");va=Mb(va("titleY"),"y");rb.enter.auto=va===ac?
Be(va):ye(Ma,Be(va),Be(ac))}function Jd(va,Ma,rb){const Pb=l.array(va.signals),Mb=l.array(va.scales);rb||Pb.forEach(ac=>H(ac,Ma));l.array(va.projections).forEach(ac=>{{const gc=Ma.config.projection||{},Uc={};for(const Mc in ac)"name"!==Mc&&(Uc[Mc]=Wa(ac[Mc],Mc,Ma));for(const Mc in gc)null==Uc[Mc]&&(Uc[Mc]=Wa(gc[Mc],Mc,Ma));Ma.addProjection(ac.name,Uc)}});Mb.forEach(ac=>{{const gc=ac.type||"linear";L.isValidScaleType(gc)||l.error("Unrecognized scale type: "+l.stringValue(gc));Ma.addScale(ac.name,{type:gc,
domain:void 0})}});l.array(va.data).forEach(ac=>tc(ac,Ma));Mb.forEach(ac=>{{const Mc=Ma.getScale(ac.name).params;let fd;Mc.domain=T(ac.domain,ac,Ma);null!=ac.range&&(Mc.range=$a(ac,Ma,Mc));if(null!=ac.interpolate){var gc=ac.interpolate,Uc=Mc;Uc.interpolate=za(gc.type||gc);null!=gc.gamma&&(Uc.interpolateGamma=za(gc.gamma))}null!=ac.nice&&(gc=ac.nice,gc=l.isObject(gc)?{interval:za(gc.interval),step:za(gc.step)}:za(gc),Mc.nice=gc);null!=ac.bins&&(gc=ac.bins,gc=gc.signal||l.isArray(gc)?qa(gc,Ma):Ma.objectProperty(gc),
Mc.bins=gc);for(fd in ac)l.hasOwnProperty(Mc,fd)||"name"===fd||(Mc[fd]=za(ac[fd],Ma))}});(rb||Pb).forEach(ac=>Ua(ac,Ma));l.array(va.axes).forEach(ac=>{var gc=Ma.config,Uc=gc.style,Mc=gc.axis,fd="band"===Ma.scaleType(ac.scale)&&gc.axisBand,ud=ac.orient;if(ia(ud)){var Od=vc([gc.axisX,gc.axisY]);var Yd=vc([gc.axisTop,gc.axisBottom,gc.axisLeft,gc.axisRight]);var vd={};for($d of Od)vd[$d]=ye(ud,yc($d,gc.axisX,Mc,Uc),yc($d,gc.axisY,Mc,Uc));Od={};for($d of Yd){Yd=Od;var ze=$d;var Kd=ud.signal;var pe=yc($d,
gc.axisTop,Mc,Uc),ge=yc($d,gc.axisBottom,Mc,Uc),re=yc($d,gc.axisLeft,Mc,Uc),pf=yc($d,gc.axisRight,Mc,Uc);Kd={signal:(null!=re?`${Kd} === '${"left"}' ? (${we(re)}) : `:"")+(null!=ge?`${Kd} === '${"bottom"}' ? (${we(ge)}) : `:"")+(null!=pf?`${Kd} === '${"right"}' ? (${we(pf)}) : `:"")+(null!=pe?`${Kd} === '${"top"}' ? (${we(pe)}) : `:"")+"(null)"};Yd[ze]=Kd}}else vd="top"===ud||"bottom"===ud?gc.axisX:gc.axisY,Od=gc["axis"+ud[0].toUpperCase()+ud.slice(1)];vd=vd||Od||fd?l.extend({},Mc,vd,Od,fd):Mc;var $d=
ac.encode||{};gc=$d.axis||{};Uc=gc.name||void 0;Mc=gc.interactive;fd=gc.style;Kd=ud=Da(ac,vd);Od=Kd("tickBand");Yd=Kd("tickOffset");Od?Od.signal?(ze={signal:`(${Od.signal}) === 'extent' ? 1 : 0.5`},Kd={signal:`(${Od.signal}) === 'extent'`},l.isObject(Yd)||(Yd={signal:`(${Od.signal}) === 'extent' ? 0 : ${Yd}`})):"extent"===Od?(ze=1,Kd=!0,Yd=0):(ze=.5,Kd=!1):(ze=Kd("bandPosition"),Kd=Kd("tickExtra"));ze={extra:Kd,band:ze,offset:Yd};Kd={scale:ac.scale,ticks:!!ud("ticks"),labels:!!ud("labels"),grid:!!ud("grid"),
domain:!!ud("domain"),title:null!=ac.title};Od=S(Ma.add(me({},[Kd])));pe=S(Ma.add(ce({scale:Ma.scaleRef(ac.scale),extra:Ma.property(ze.extra),count:Ma.objectProperty(ac.tickCount),values:Ma.objectProperty(ac.values),minstep:Ma.property(ac.tickMinStep),formatType:Ma.property(ac.formatType),formatSpecifier:Ma.property(ac.format)})));Yd=[];Kd.grid&&Yd.push(Kc(ac,vd,$d.grid,pe,ze));if(Kd.ticks){var Qe=ud("tickSize");Yd.push(Qc(ac,vd,$d.ticks,pe,Qe,ze))}Kd.labels&&(Qe=Kd.ticks?Qe:0,Yd.push(nd(ac,vd,$d.labels,
pe,Qe,ze)));Kd.domain&&Yd.push(mc(ac,vd,$d.domain,Od));Kd.title&&Yd.push(od(ac,vd,$d.title,Od));Qe=ud;vd={enter:{},update:{}};g(vd,{orient:Qe("orient"),offset:Qe("offset")||0,position:N(ac.position,0),titlePadding:Qe("titlePadding"),minExtent:Qe("minExtent"),maxExtent:Qe("maxExtent"),range:{signal:`abs(span(range("${ac.scale}")))`},translate:Qe("translate"),format:ac.format,formatType:ac.formatType});ac=vd;return ac=Ga(Ca({role:"axis",from:Od,encode:d(ac,gc,dd),marks:Yd,aria:ud("aria"),description:ud("description"),
zindex:ud("zindex"),name:Uc,interactive:Mc,style:fd}),Ma)});l.array(va.marks).forEach(ac=>Ga(ac,Ma));l.array(va.legends).forEach(ac=>qb(ac,Ma));va.title&&kb(va.title,Ma);Ma.parseLambdas();return Ma}function Ud(va,Ma){var rb=Ma.config;const Pb=S(Ma.root=Ma.add(new Q("operator",void 0,void 0,void 0))),Mb=ne(va,rb);Mb.forEach(Uc=>H(Uc,Ma));Ma.description=va.description||rb.description;Ma.eventConfig=rb.events;Ma.legends=Ma.objectProperty(rb.legend&&rb.legend.layout);Ma.locale=rb.locale;rb=Ma.add(me());
const ac=Ma.add(rf(D(d({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},va.encode),"group","frame",va.style,Ma,{pulse:S(rb)}))),gc=Ma.add(Vb({layout:Ma.objectProperty(va.layout),legends:Ma.legends,autosize:Ma.signalRef("autosize"),mark:Pb,pulse:S(ac)}));Ma.operators.pop();Ma.pushState(S(ac),S(gc),null);Jd(va,Ma,Mb);Ma.operators.push(gc);va=Ma.add(Re({mark:Pb,pulse:S(gc)}));va=Ma.add(Va({pulse:S(va)}));va=Ma.add(pb({pulse:S(va)}));Ma.addData("root",new Ib(Ma,
rb,rb,va));return Ma}function ie(va,Ma){return Ma&&Ma.signal?{name:va,update:Ma.signal}:{name:va,value:Ma}}function ne(va,Ma){const rb=gc=>N(va[gc],Ma[gc]),Pb=[ie("background",rb("background")),ie("autosize",v(rb("autosize"))),ie("padding",t(rb("padding"))),ie("width",rb("width")||0),ie("height",rb("height")||0)],Mb=Pb.reduce((gc,Uc)=>(gc[Uc.name]=Uc,gc),{}),ac={};l.array(va.signals).forEach(gc=>{l.hasOwnProperty(Mb,gc.name)?gc=l.extend(Mb[gc.name],gc):Pb.push(gc);ac[gc.name]=gc});l.array(Ma.signals).forEach(gc=>
{l.hasOwnProperty(ac,gc.name)||l.hasOwnProperty(Mb,gc.name)||Pb.push(gc)});return Pb}function Ee(va,Ma){this.config=va||{};this.options=Ma||{};this.bindings=[];this.field={};this.signals={};this.lambdas={};this.scales={};this.events={};this.data={};this.streams=[];this.updates=[];this.operators=[];this.locale=this.eventConfig=null;this._subid=this._id=0;this._nextsub=[0];this._parent=[];this._encode=[];this._lookup=[];this._markpath=[]}function De(va){this.config=va.config;this.options=va.options;
this.legends=va.legends;this.field=Object.create(va.field);this.signals=Object.create(va.signals);this.lambdas=Object.create(va.lambdas);this.scales=Object.create(va.scales);this.events=Object.create(va.events);this.data=Object.create(va.data);this.streams=[];this.updates=[];this.operators=[];this._id=0;this._subid=++va._nextsub[0];this._nextsub=va._nextsub;this._parent=va._parent.slice();this._encode=va._encode.slice();this._lookup=va._lookup.slice();this._markpath=va._markpath}function Fe(va){return(l.isArray(va)?
Id:Td)(va)}function Id(va){const Ma=va.length;let rb="[";for(let Pb=0;Pb<Ma;++Pb){const Mb=va[Pb];rb+=(0<Pb?",":"")+(l.isObject(Mb)?Mb.signal||Fe(Mb):l.stringValue(Mb))}return rb+"]"}function Td(va){let Ma="{",rb=0,Pb,Mb;for(Pb in va)Mb=va[Pb],Ma+=(1<++rb?",":"")+l.stringValue(Pb)+":"+(l.isObject(Mb)?Mb.signal||Fe(Mb):l.stringValue(Mb));return Ma+"}"}function af(){return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,
arc:{fill:"#4c78a8"},area:{fill:"#4c78a8"},image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",fontSize:13,fontWeight:"bold"},
"group-subtitle":{fill:"#000",font:"sans-serif",fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:"#ddd"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",
tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,
symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:"circle square triangle-up cross diamond triangle-right triangle-down triangle-left".split(" ")}}}
const Be=va=>l.isObject(va)&&!l.isArray(va)?l.extend({},va):{value:va},cf=va=>l.isString(va)?l.stringValue(va):va.signal?`(${va.signal})`:B(va),Xd=(va,Ma,rb,Pb)=>`(${va}(${[Ma,rb,Pb].map(n).join(",")})+'')`,ae=["value","update","init","react","bind"],Je=ea("key"),fe={code:"_.$value",ast:{type:"Identifier",value:"value"}},zd=va=>(Ma,rb,Pb)=>new Q(va,rb,Ma||void 0,Pb),Gd=zd("aggregate"),ce=zd("axisticks"),Re=zd("bound"),me=zd("collect"),Hd=zd("compare"),Ge=zd("datajoin"),rf=zd("encode"),zc=zd("expression"),
He=zd("facet"),oe=zd("field"),dc=zd("key"),xe=zd("legendentries"),de=zd("load"),Ie=zd("mark"),sf=zd("multiextent"),ff=zd("multivalues"),mf=zd("overlap"),gf=zd("params"),Zd=zd("prefacet"),sc=zd("projection"),ta=zd("proxy"),Ba=zd("relay"),Va=zd("render"),zb=zd("scale"),pb=zd("sieve"),Rb=zd("sortitems"),Vb=zd("viewlayout"),Gc=zd("values");let Vc=0;const Cc={min:"min",max:"max",count:"sum"},Bd="size shape fill stroke strokeWidth strokeDash opacity".split(" "),dd={name:1,style:1,interactive:1},rd={value:0},
$c={value:1},Ad=Ea(l.stringValue("left"),l.stringValue("right"),l.stringValue("center")),Sd=Ea('"top"','"bottom"','"middle"'),Ye=`datum.vgrad && ${'item.orient \x3d\x3d\x3d "right"'} ? (${Ea('"right"','"left"','"center"')}) : (${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} && !(datum.vgrad && ${'item.orient \x3d\x3d\x3d "left"'})) ? "left" : ${Ad}`,Ne=`${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} ? (datum.vgrad ? (${'item.orient \x3d\x3d\x3d "right"'} ? "bottom" : "top") : ${Sd}) : "top"`;
Ib.fromEntries=function(va,Ma){const rb=Ma.length,Pb=Ma[rb-1],Mb=Ma[rb-2];let ac=Ma[0],gc=null,Uc=1;ac&&"load"===ac.type&&(ac=Ma[1]);for(va.add(Ma[0]);Uc<rb;++Uc)Ma[Uc].params.pulse=S(Ma[Uc-1]),va.add(Ma[Uc]),"aggregate"===Ma[Uc].type&&(gc=Ma[Uc]);return new Ib(va,ac,Mb,Pb,gc)};Ib.prototype={countsRef(va,Ma,rb){const Pb=this.counts||(this.counts={}),Mb=Zb(Ma);if(null!=Mb){va=this.scope;var ac=Pb[Mb]}ac?rb&&rb.field&&xb(va,ac.agg.params,rb):(ac={groupby:va.fieldRef(Ma,"key"),pulse:S(this.output)},
rb&&rb.field&&xb(va,ac,rb),rb=va.add(Gd(ac)),ac=va.add(me({pulse:S(rb)})),ac={agg:rb,ref:S(ac)},null!=Mb&&(Pb[Mb]=ac));return ac.ref},tuplesRef(){return S(this.values)},extentRef(va,Ma){return qc(va,this,"extent","extent",Ma,!1)},domainRef(va,Ma){return qc(va,this,"domain","values",Ma,!1)},valuesRef(va,Ma,rb){return qc(va,this,"vals","values",Ma,rb||!0)},lookupRef(va,Ma){return qc(va,this,"lookup","tupleindex",Ma,!1)},indataRef(va,Ma){return qc(va,this,"indata","tupleindex",Ma,!0,!0)}};const Yc=(va,
Ma,rb)=>{ia(va)?(va=va.signal,Ma=df(`${va} === '${"left"}' || ${va} === '${"top"}'`,Ma,rb)):Ma="left"===va||"top"===va?Ma:rb;return Ma},ye=(va,Ma,rb)=>{ia(va)?(va=va.signal,Ma=tf(`${va} === '${"top"}' || ${va} === '${"bottom"}'`,Ma,rb)):Ma="bottom"===va||"top"===va?Ma:rb;return Ma},Xe=(va,Ma,rb)=>{ia(va)?(va=va.signal,Ma=tf(`${va} !== '${"top"}' && ${va} !== '${"bottom"}'`,Ma,rb)):Ma="bottom"===va||"top"===va?rb:Ma;return Ma},Ke=(va,Ma,rb)=>ia(va)?df(`${va.signal} === '${"top"}'`,Ma,rb):"top"===va?
{value:Ma}:{value:rb},tf=(va,Ma,rb)=>{Ma=null!=Ma?Be(Ma):Ma;rb=null!=rb?Be(rb):rb;if(null!=Ma&&1!==Object.keys(Ma).length||null!=rb&&1!==Object.keys(rb).length)return[l.extend({test:va},Ma)].concat(rb||[]);Ma=Ma?Ma.signal||l.stringValue(Ma.value):null;rb=rb?rb.signal||l.stringValue(rb.value):null;return{signal:`${va} ? (${Ma}) : (${rb})`}},df=(va,Ma,rb)=>({signal:`${va} ? (${we(Ma)}) : (${we(rb)})`}),we=va=>ia(va)?va.signal:null==va?null:l.stringValue(va),Pe=(va,Ma)=>{const rb=va.signal;return rb&&
rb.endsWith("(null)")?{signal:rb.slice(0,-6)+Ma.signal}:va};Ee.prototype=De.prototype={parse(va){return Jd(va,this)},fork(){return new De(this)},isSubscope(){return 0<this._subid},toRuntime(){this.finish();return{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(va){this.operators.push(va);va.id=this.id();va.refs&&(va.refs.forEach(Ma=>
{Ma.$ref=va.id}),va.refs=null);return va},proxy(va){va=va instanceof Q?S(va):va;return this.add(ta({value:va}))},addStream(va){this.streams.push(va);va.id=this.id();return va},addUpdate(va){this.updates.push(va);return va},finish(){function va(Pb,Mb,ac){Pb&&(Pb=Pb.data||(Pb.data={}),Mb=Pb[Mb]||(Pb[Mb]=[]),Mb.push(ac))}let Ma,rb;this.root&&(this.root.root=!0);for(Ma in this.signals)this.signals[Ma].signal=Ma;for(Ma in this.scales)this.scales[Ma].scale=Ma;for(Ma in this.data){rb=this.data[Ma];va(rb.input,
Ma,"input");va(rb.output,Ma,"output");va(rb.values,Ma,"values");for(const Pb in rb.index)va(rb.index[Pb],Ma,"index:"+Pb)}return this},pushState(va,Ma,rb){this._encode.push(S(this.add(pb({pulse:va}))));this._parent.push(Ma);this._lookup.push(rb?S(this.proxy(rb)):null);this._markpath.push(-1)},popState(){this._encode.pop();this._parent.pop();this._lookup.pop();this._markpath.pop()},parent(){return l.peek(this._parent)},encode(){return l.peek(this._encode)},lookup(){return l.peek(this._lookup)},markpath(){const va=
this._markpath;return++va[va.length-1]},fieldRef(va,Ma){if(l.isString(va))return ea(va,Ma);va.signal||l.error("Unsupported field reference: "+l.stringValue(va));va=va.signal;var rb=this.field[va];rb||(rb={name:this.signalRef(va)},Ma&&(rb.as=Ma),this.field[va]=rb=S(this.add(oe(rb))));return rb},compareRef(va){let Ma=!1;const rb=Mb=>ia(Mb)?(Ma=!0,this.signalRef(Mb.signal)):Mb&&Mb.expr?(Ma=!0,this.exprRef(Mb.expr)):Mb,Pb=l.array(va.field).map(rb);va=l.array(va.order).map(rb);return Ma?S(this.add(Hd({fields:Pb,
orders:va}))):{$compare:Pb,$order:va}},keyRef(va,Ma){let rb=!1;const Pb=this.signals;va=l.array(va).map(Mb=>ia(Mb)?(rb=!0,S(Pb[Mb.signal])):Mb);return rb?S(this.add(dc({fields:va,flat:Ma}))):ba(va,Ma)},sortRef(va){if(!va)return va;const Ma=fa(va.op,va.field);va=va.order||"ascending";return va.signal?S(this.add(Hd({fields:Ma,orders:this.signalRef(va.signal)}))):{$compare:Ma,$order:va}},event(va,Ma){const rb=va+":"+Ma;if(!this.events[rb]){const Pb=this.id();this.streams.push({id:Pb,source:va,type:Ma});
this.events[rb]=Pb}return this.events[rb]},hasOwnSignal(va){return l.hasOwnProperty(this.signals,va)},addSignal(va,Ma){this.hasOwnSignal(va)&&l.error("Duplicate signal name: "+l.stringValue(va));Ma=Ma instanceof Q?Ma:this.add(new Q("operator",Ma,void 0,void 0));return this.signals[va]=Ma},getSignal(va){this.signals[va]||l.error("Unrecognized signal name: "+l.stringValue(va));return this.signals[va]},signalRef(va){if(this.signals[va])return S(this.signals[va]);l.hasOwnProperty(this.lambdas,va)||(this.lambdas[va]=
this.add(new Q("operator",null,void 0,void 0)));return S(this.lambdas[va])},parseLambdas(){const va=Object.keys(this.lambdas);for(let rb=0,Pb=va.length;rb<Pb;++rb){var Ma=va[rb];const Mb=u.parseExpression(Ma,this);Ma=this.lambdas[Ma];Ma.params=Mb.$params;Ma.update=Mb.$expr}},property(va){return va&&va.signal?this.signalRef(va.signal):va},objectProperty(va){return va&&l.isObject(va)?this.signalRef(va.signal||Fe(va)):va},exprRef(va,Ma){va={expr:u.parseExpression(va,this)};Ma&&(va.expr.$name=Ma);return S(this.add(zc(va)))},
addBinding(va,Ma){this.bindings||l.error("Nested signals do not support binding: "+l.stringValue(va));this.bindings.push(l.extend({signal:va},Ma))},addScaleProj(va,Ma){l.hasOwnProperty(this.scales,va)&&l.error("Duplicate scale or projection name: "+l.stringValue(va));this.scales[va]=this.add(Ma)},addScale(va,Ma){this.addScaleProj(va,zb(Ma))},addProjection(va,Ma){this.addScaleProj(va,sc(Ma))},getScale(va){this.scales[va]||l.error("Unrecognized scale name: "+l.stringValue(va));return this.scales[va]},
scaleRef(va){return S(this.getScale(va))},scaleType(va){return this.getScale(va).params.type},projectionRef(va){return this.scaleRef(va)},projectionType(va){return this.scaleType(va)},addData(va,Ma){l.hasOwnProperty(this.data,va)&&l.error("Duplicate data set name: "+l.stringValue(va));return this.data[va]=Ma},getData(va){this.data[va]||l.error("Undefined data set name: "+l.stringValue(va));return this.data[va]},addDataPipeline(va,Ma){l.hasOwnProperty(this.data,va)&&l.error("Duplicate data set name: "+
l.stringValue(va));return this.addData(va,Ib.fromEntries(this,Ma))}};m.AxisDomainRole="axis-domain";m.AxisGridRole="axis-grid";m.AxisLabelRole="axis-label";m.AxisRole="axis";m.AxisTickRole="axis-tick";m.AxisTitleRole="axis-title";m.DataScope=Ib;m.FrameRole="frame";m.LegendEntryRole="legend-entry";m.LegendLabelRole="legend-label";m.LegendRole="legend";m.LegendSymbolRole="legend-symbol";m.LegendTitleRole="legend-title";m.MarkRole="mark";m.Scope=Ee;m.ScopeRole="scope";m.config=af;m.parse=function(va,
Ma,rb){l.isObject(va)||l.error("Input Vega specification must be an object.");Ma=l.mergeConfig(af(),Ma,va.config);return Ud(va,new Ee(Ma,rb)).toRuntime()};m.signal=H;m.signalUpdates=Ua;m.stream=W;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[65]=function(Ia,A,mb,J){function m(H){if(H&&H.__esModule)return H;var Q=Object.create(null);H&&Object.keys(H).forEach(function(S){if("default"!==S){var ea=Object.getOwnPropertyDescriptor(H,S);Object.defineProperty(Q,S,ea.get?ea:{enumerable:!0,get:function(){return H[S]}})}});Q["default"]=H;return Object.freeze(Q)}Object.defineProperty(J,"__esModule",{value:!0});var l=A(16),u=A(28),G=A(30),L=A(39),w=A(40),v=A(44),t=A(49),k=A(51),g=A(52),d=A(53),f=A(55);mb=A(56);Ia=A(57);var a=A(29),
e=A(20),n=A(27),x=A(38),z=A(37),B=A(43),M=A(62),K=A(22),D=A(60),y=A(64),E=A(61);A=m(G);L=m(L);w=m(w);v=m(v);t=m(t);k=m(k);g=m(g);d=m(d);f=m(f);mb=m(mb);Ia=m(Ia);l.extend(u.transforms,A,L,w,v,t,g,k,d,f,mb,Ia);Object.keys(l).forEach(function(H){"default"!==H&&Object.defineProperty(J,H,{enumerable:!0,get:function(){return l[H]}})});Object.keys(a).forEach(function(H){"default"!==H&&Object.defineProperty(J,H,{enumerable:!0,get:function(){return a[H]}})});Object.keys(e).forEach(function(H){"default"!==
H&&Object.defineProperty(J,H,{enumerable:!0,get:function(){return e[H]}})});Object.keys(n).forEach(function(H){"default"!==H&&Object.defineProperty(J,H,{enumerable:!0,get:function(){return n[H]}})});Object.keys(x).forEach(function(H){"default"!==H&&Object.defineProperty(J,H,{enumerable:!0,get:function(){return x[H]}})});Object.defineProperty(J,"Dataflow",{enumerable:!0,get:function(){return u.Dataflow}});Object.defineProperty(J,"EventStream",{enumerable:!0,get:function(){return u.EventStream}});Object.defineProperty(J,
"MultiPulse",{enumerable:!0,get:function(){return u.MultiPulse}});Object.defineProperty(J,"Operator",{enumerable:!0,get:function(){return u.Operator}});Object.defineProperty(J,"Parameters",{enumerable:!0,get:function(){return u.Parameters}});Object.defineProperty(J,"Pulse",{enumerable:!0,get:function(){return u.Pulse}});Object.defineProperty(J,"Transform",{enumerable:!0,get:function(){return u.Transform}});Object.defineProperty(J,"changeset",{enumerable:!0,get:function(){return u.changeset}});Object.defineProperty(J,
"definition",{enumerable:!0,get:function(){return u.definition}});Object.defineProperty(J,"ingest",{enumerable:!0,get:function(){return u.ingest}});Object.defineProperty(J,"isTuple",{enumerable:!0,get:function(){return u.isTuple}});Object.defineProperty(J,"transform",{enumerable:!0,get:function(){return u.transform}});Object.defineProperty(J,"transforms",{enumerable:!0,get:function(){return u.transforms}});Object.defineProperty(J,"tupleid",{enumerable:!0,get:function(){return u.tupleid}});Object.defineProperty(J,
"interpolate",{enumerable:!0,get:function(){return z.interpolate}});Object.defineProperty(J,"interpolateColors",{enumerable:!0,get:function(){return z.interpolateColors}});Object.defineProperty(J,"interpolateRange",{enumerable:!0,get:function(){return z.interpolateRange}});Object.defineProperty(J,"quantizeInterpolator",{enumerable:!0,get:function(){return z.quantizeInterpolator}});Object.defineProperty(J,"scale",{enumerable:!0,get:function(){return z.scale}});Object.defineProperty(J,"scheme",{enumerable:!0,
get:function(){return z.scheme}});Object.defineProperty(J,"projection",{enumerable:!0,get:function(){return B.projection}});Object.defineProperty(J,"View",{enumerable:!0,get:function(){return M.View}});Object.defineProperty(J,"defaultLocale",{enumerable:!0,get:function(){return K.defaultLocale}});Object.defineProperty(J,"formatLocale",{enumerable:!0,get:function(){return K.numberFormatDefaultLocale}});Object.defineProperty(J,"locale",{enumerable:!0,get:function(){return K.locale}});Object.defineProperty(J,
"resetDefaultLocale",{enumerable:!0,get:function(){return K.resetDefaultLocale}});Object.defineProperty(J,"timeFormatLocale",{enumerable:!0,get:function(){return K.timeFormatDefaultLocale}});Object.defineProperty(J,"expressionFunction",{enumerable:!0,get:function(){return D.expressionFunction}});Object.defineProperty(J,"parse",{enumerable:!0,get:function(){return y.parse}});Object.defineProperty(J,"runtimeContext",{enumerable:!0,get:function(){return E.context}});J.version="5.19.1"};
shadow$provide[66]=function(Ia,A,mb,J){var m=A(26).Buffer;(function(l,u){"object"===typeof J&&"undefined"!==typeof mb?u(J):"function"===typeof define&&define.amd?define(["exports"],u):(l="undefined"!==typeof globalThis?globalThis:l||self,u(l.vegaLite={}))})(this,function(l){function u(h,F,c){h.fields=F||[];h.fname=c;return h}function G(h){return 1===h.length?Al(h[0]):Bl(h)}function L(h){function F(){c.push(pa+h.substring(ya,Ya));pa="";ya=Ya+1}const c=[],r=h.length;let I=null,da=0,pa="",ya,Ya,hb;h+=
"";for(ya=Ya=0;Ya<r;++Ya)if(hb=h[Ya],"\\"===hb)pa+=h.substring(ya,Ya),pa+=h.substring(++Ya,++Ya),ya=Ya;else if(hb===I)F(),I=null,da=-1;else if(!I)if(ya===da&&'"'===hb)ya=Ya+1,I=hb;else if(ya===da&&"'"===hb)ya=Ya+1,I=hb;else if("."===hb&&!da)Ya>ya?F():ya=Ya+1;else if("["===hb)Ya>ya&&F(),da=ya=Ya+1;else if("]"===hb){if(!da)throw Error("Access path missing open bracket: "+h);0<da&&F();da=0;ya=Ya+1}if(da)throw Error("Access path missing closing bracket: "+h);if(I)throw Error("Access path missing closing quote: "+
h);Ya>ya&&(Ya++,F());return c}function w(h,F,c){F=[F].concat([].slice.call(c));console[h].apply(console,F)}function v(h){return h===Object(h)}function t(...h){return h.reduce((F,c)=>{for(const r in c)"signals"===r?F.signals=g(F.signals,c.signals):k(F,r,c[r],"legend"===r?{layout:1}:"style"===r?!0:null);return F},{})}function k(h,F,c,r){if("__proto__"!==F){var I;if(v(c)&&!le(c))for(I in h=v(h[F])?h[F]:h[F]={},c)r&&(!0===r||r[I])?k(h,I,c[I]):"__proto__"!==I&&(h[I]=c[I]);else h[F]=c}}function g(h,F){function c(da){r[da.name]||
(r[da.name]=1,I.push(da))}if(null==h)return F;const r={},I=[];F.forEach(c);h.forEach(c);return I}function d(h){return null!=h?le(h)?h:[h]:[]}function f(h){return"boolean"===typeof h}function a(h){return"number"===typeof h}function e(h){return"string"===typeof h}function n(h){return le(h)?"["+h.map(n)+"]":v(h)||e(h)?JSON.stringify(h).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):h}function x(h){const F={},c=h.length;for(let r=0;r<c;++r)F[h[r]]=!0;return F}function z(h,F){if(h.not)z(h.not,
F);else if(h.and)for(const c of h.and)z(c,F);else if(h.or)for(const c of h.or)z(c,F);else F(h)}function B(h,F){return h.not?{not:B(h.not,F)}:h.and?{and:h.and.map(c=>B(c,F))}:h.or?{or:h.or.map(c=>B(c,F))}:F(h)}function M(h,F){const c={};for(const r of F)Yh.call(h,r)&&(c[r]=h[r]);return c}function K(h,F){h=Object.assign({},h);for(const c of F)delete h[c];return h}function D(h){if(a(h))return h;h=e(h)?h:ri(h);if(250>h.length)return h;let F=0;for(let c=0;c<h.length;c++){const r=h.charCodeAt(c);F=(F<<
5)-F+r;F&=F}return F}function y(h){return!1===h||null===h}function E(h,F){return-1<h.indexOf(F)}function H(h,F){let c=0;for(const r of h.entries()){const [I,da]=r;if(F(da,I,c++))return!0}return!1}function Q(h,F){let c=0;for(const r of h.entries()){const [I,da]=r;if(!F(da,I,c++))return!1}return!0}function S(h,...F){for(const r of F){F=h;var c=null!==r&&void 0!==r?r:{};for(const I of xd(c))k(F,I,c[I],!0)}return h}function ea(h,F){const c=[],r={};for(const I of h)h=F(I),h in r||(r[h]=1,c.push(I));return c}
function ba(h,F){if(h.size!==F.size)return!1;for(const c of h)if(!F.has(c))return!1;return!0}function fa(h,F){for(const c of h)if(F.has(c))return!0;return!1}function ia(h){const F=new Set;for(const c of h){const r=L(c).map((I,da)=>0===da?I:"[".concat(I,"]"));h=r.map((I,da)=>r.slice(0,da+1).join(""));for(const I of h)F.add(I)}return F}function ca(h,F){return void 0===h||void 0===F?!0:fa(ia(h),ia(F))}function N(h){return 0===xd(h).length}function C(h){return!0===h||!1===h}function W(h){const F=h.replace(/\W/g,
"_");return(h.match(/^\d+/)?"_":"")+F}function ha(h,F){return h.not?"!("+ha(h.not,F)+")":h.and?"("+h.and.map(c=>ha(c,F)).join(") \x26\x26 (")+")":h.or?"("+h.or.map(c=>ha(c,F)).join(") || (")+")":F(h)}function Y(h,F){if(0===F.length)return!0;const c=F.shift();c in h&&Y(h[c],F)&&delete h[c];return N(h)}function wa(h){return h.charAt(0).toUpperCase()+h.substr(1)}function xa(h,F){F=void 0===F?"datum":F;h=L(h);const c=[];for(let r=1;r<=h.length;r++){const I="[".concat(h.slice(0,r).map(n).join("]["),"]");
c.push("".concat(F).concat(I))}return c.join(" \x26\x26 ")}function Ha(h,F){return"".concat(void 0===F?"datum":F,"[").concat(n(L(h).join(".")),"]")}function Za(h){return h.replace(/(\[|\]|\.|'|")/g,"\\$1")}function gb(h){return"".concat(L(h).map(Za).join("\\."))}function ra(h,F,c){return h.replace(new RegExp(F.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$\x26"),"g"),c)}function Pa(h){return"".concat(L(h).join("."))}function Ua(h){return h?L(h).length:0}function za(...h){for(const F of h)if(void 0!==F)return F}
function qa(h){const F=++tk;return h?String(h)+F:F}function R(h){return T(h)?h:"__".concat(h)}function T(h){return 0===h.indexOf("__")}function X(h){if(void 0!==h)return(h%360+360)%360}function Z(h){return a(h)?!0:!isNaN(h)&&!isNaN(parseFloat(h))}function oa(h){return h&&h.condition}function na(h){return!!h&&!!h.argmin}function Aa(h){return!!h&&!!h.argmax}function ka(h){return e(h)&&!!Cl[h]}function Na(h){return e(h)&&E(Dl,h)}function $a(h){switch(h){case "latitude":return"y";case "latitude2":return"y2";
case "longitude":return"x";case "longitude2":return"x2"}}function Wa(h){return"color"===h||"fill"===h||"stroke"===h}function Ca(h){return Da(h)!==h}function Da(h){switch(h){case "x2":return"x";case "y2":return"y";case "latitude2":return"latitude";case "longitude2":return"longitude";case "theta2":return"theta";case "radius2":return"radius"}return h}function ma(h){if(h in Kj)switch(h){case "theta":return"startAngle";case "theta2":return"endAngle";case "radius":return"outerRadius";case "radius2":return"innerRadius"}return h}
function Ea(h){switch(h){case "x":return"x2";case "y":return"y2";case "latitude":return"latitude2";case "longitude":return"longitude2";case "theta":return"theta2";case "radius":return"radius2"}}function Qa(h){switch(h){case "x":case "x2":return"width";case "y":case "y2":return"height"}}function eb(h){switch(h){case "x":return"xOffset";case "y":return"yOffset";case "x2":return"x2Offset";case "y2":return"y2Offset";case "theta":return"thetaOffset";case "radius":return"radiusOffset";case "theta2":return"theta2Offset";
case "radius2":return"radius2Offset"}}function yb(h){return"width"===h?"x":"y"}function Qb(h){switch(h){case "color":case "fill":case "stroke":case "description":case "detail":case "key":case "tooltip":case "href":case "order":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "facet":case "row":case "column":return uk;case "x":case "y":case "latitude":case "longitude":return El;case "x2":case "y2":case "latitude2":case "longitude2":return{area:"always",bar:"always",image:"always",
rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case "size":return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case "strokeDash":return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case "shape":return{point:"always",geoshape:"always"};case "text":return{text:"always"};
case "angle":return{point:"always",square:"always",text:"always"};case "url":return{image:"always"};case "theta":return{text:"always",arc:"always"};case "radius":return{text:"always",arc:"always"};case "theta2":case "radius2":return{arc:"always"}}}function fc(h){switch(h){case "facet":case "row":case "column":case "shape":case "strokeDash":case "text":case "tooltip":case "href":case "url":case "description":return"discrete";case "color":case "fill":case "stroke":return"flexible"}}function ad(h){f(h)&&
(h=Mb(h,void 0));return"bin"+xd(h).map(F=>ib(h[F])?W("_".concat(F,"_").concat(si(h[F]))):W("_".concat(F,"_").concat(h[F]))).join("")}function ic(h){return!0===h||v(h)&&!h.binned}function xc(h){return"binned"===h||v(h)&&!0===h.binned}function ib(h){return null===h||void 0===h?void 0:h.selection}function $b(h){switch(h){case "row":case "column":case "size":case "color":case "fill":case "stroke":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "shape":return 6;case "strokeDash":return 4;
default:return 10}}function bc(h,F,c){F in h?Object.defineProperty(h,F,{value:c,enumerable:!0,configurable:!0,writable:!0}):h[F]=c;return h}function kc(h,F,c){F=F.get(h);if(!F)throw new TypeError("attempted to set private field on non-instance");if(F.set)F.set.call(h,c);else{if(!F.writable)throw new TypeError("attempted to set read only private field");F.value=c}return c}function Ec(h){return"Invalid specification ".concat(JSON.stringify(h),'. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".')}
function jc(h){return"".concat("width"==h?"Width":"Height",' "container" only works for single views and layered views.')}function Oc(h){const F="width"==h?"x":"y";return"".concat("width"==h?"Width":"Height",' "container" only works well with autosize "fit" or "fit-').concat(F,'".')}function Hc(h){return h?'Dropping "fit-'.concat(h,'" because spec has discrete ').concat(Qa(h),"."):'Dropping "fit" because spec has discrete size.'}function Bc(h){return"Unknown field for ".concat(h,". Cannot calculate view size.")}
function td(h){return'Cannot project a selection on encoding channel "'.concat(h,'", which has no field.')}function Qd(h,F){return'Cannot project a selection on encoding channel "'.concat(h,'" as it uses an aggregate function ("').concat(F,'").')}function jd(h){return"Selection not supported for ".concat(h," yet.")}function hd(h){return'The "columns" property cannot be used when "'.concat(h,'" has nested row/column.')}function Fd(h,F,c){return'An ancestor parsed field "'.concat(h,'" as ').concat(c,
" but a child wants to parse the field as ").concat(F,".")}function Ib(h){return"Config.customFormatTypes is not true, thus custom format type and format for channel ".concat(h," are dropped.")}function Zb(h,F){const {fill:c,stroke:r}=F;return"Dropping color ".concat(h," as the plot also has ").concat(c&&r?"fill and stroke":c?"fill":"stroke",".")}function xb(h,F){return"Dropping ".concat(Of(h),' from channel "').concat(F,'" since it does not contain any data field, datum, value, or signal.')}function qc(h,
F,c){return"".concat(h,' dropped as it is incompatible with "').concat(F,'"').concat(c?" when ".concat(c):"",".")}function Nc(h){return"".concat(h,"-encoding is dropped as ").concat(h," is not a valid encoding channel.")}function qd(h,F){return'Using discrete channel "'.concat(h,'" to encode "').concat(F,'" field can be misleading as it does not encode ').concat("ordinal"===F?"order":"magnitude",".")}function Ed(h,F,c){return"".concat(c,"-scale's \"").concat(F,'" is dropped as it does not work with ').concat(h,
" scale.")}function Ga(h){return'The step for "'.concat(h,'" is dropped because the ').concat("width"===h?"x":"y"," is continuous.")}function ab(h){return'Cannot stack "'.concat(h,'" if there is already "').concat(h,'2".')}function qb(h,F){return"Invalid ".concat(h,": ").concat(Of(F),".")}function Bb(h){return"1D error band does not support ".concat(h,".")}function Tb(h){return"Channel ".concat(h,' is required for "binned" bin.')}function Eb(...h){Si.warn(...h)}function rc(h){if(h&&v(h))for(const F of Lj)if(F in
h)return!0;return!1}function lc(h){Z(h)&&(h=+h);if(a(h))return h-1;{var F=h.toLowerCase();const c=vk.indexOf(F);if(-1!==c)return c;F=F.substr(0,3);F=Fl.indexOf(F);if(-1!==F)return F;throw Error(qb("month",h));}}function kb(h){Z(h)&&(h=+h);if(a(h))return h%7;{var F=h.toLowerCase();const c=wk.indexOf(F);if(-1!==c)return c;F=F.substr(0,3);F=Gl.indexOf(F);if(-1!==F)return F;throw Error(qb("day",h));}}function vb(h,F){const c=[];F&&void 0!==h.day&&1<xd(h).length&&(Eb("Dropping day from datetime ".concat(Of(h),
" as day cannot be combined with other units.")),h=Te(h),delete h.day);void 0!==h.year?c.push(h.year):c.push(2012);if(void 0!==h.month){var r=F?lc(h.month):h.month;c.push(r)}else if(void 0!==h.quarter){if(F)if(r=h.quarter,Z(r)&&(r=+r),a(r))4<r&&Eb(qb("quarter",r)),--r;else throw Error(qb("quarter",r));else r=h.quarter;c.push(a(r)?3*r:r+"*3")}else c.push(0);void 0!==h.date?c.push(h.date):void 0!==h.day?(F=F?kb(h.day):h.day,c.push(a(F)?F+1:F+"+1")):c.push(1);for(const I of["hours","minutes","seconds",
"milliseconds"])F=h[I],c.push("undefined"===typeof F?0:F);return c}function Nb(h){const F=vb(h,!0).join(", ");return h.utc?"utc(".concat(F,")"):"datetime(".concat(F,")")}function ec(h){const F=vb(h,!0);return h.utc?+new Date(Date.UTC(...F)):+new Date(...F)}function tc(h){const F=[];for(const c of Lj)uc(h,c)&&F.push(c);return F}function uc(h,F){const c=h.indexOf(F);return 0>c||0<c&&"seconds"===F&&"i"===h.charAt(c-1)||h.length>c+3&&"day"===F&&"o"===h.charAt(c+3)||0<c&&"year"===F&&"f"===h.charAt(c-1)?
!1:!0}function Lc(h){if(h)return h=tc(h),"timeUnitSpecifier(".concat(ri(h),", ").concat(ri(Hl),")")}function Jb(h){if(h){var F;e(h)?F={unit:h}:v(h)&&(F=Object.assign({},h,h.unit?{unit:h.unit}:{}));F.unit.startsWith("utc")&&(F.utc=!0,F.unit=F.unit.substr(3));return F}}function yc(h){var F=Jb(h);h=Object.assign({},F);F=F.utc;const c=(delete h.utc,h);return c.unit?(F?"utc":"")+xd(c).map(r=>W("".concat("unit"===r?"":"_".concat(r,"_")).concat(c[r]))).join(""):(F?"utc":"")+"timeunit"+xd(c).map(r=>W("_".concat(r,
"_").concat(c[r]))).join("")}function vc(h){return h&&!!h.signal}function mc(h){return!!h.step}function Kc(h){return le(h)?!1:"field"in h&&"data"in h}function Qc(h){return h&&!!h.field&&void 0!==h.equal}function Zc(h){return h&&!!h.field&&void 0!==h.lt}function nd(h){return h&&!!h.field&&void 0!==h.lte}function od(h){return h&&!!h.field&&void 0!==h.gt}function Dd(h){return h&&!!h.field&&void 0!==h.gte}function Jd(h){return h&&h.field&&(le(h.range)&&2===h.range.length||vc(h.range))?!0:!1}function Ud(h){return h&&
!!h.field&&(le(h.oneOf)||le(h.in))}function ie(h){return Ud(h)||Qc(h)||Jd(h)||Zc(h)||od(h)||nd(h)||Dd(h)}function ne(h,F){return Uc(h,{timeUnit:F,wrapTime:!0})}function Ee(h,F){return h.map(c=>ne(c,F))}function De(h,F){F=void 0===F?!0:F;var c,{field:r}=h;const I=null===(c=Jb(h.timeUnit))||void 0===c?void 0:c.unit;if(I){{({end:c}={end:!1});r=xa(r);const ya=I.startsWith("utc")?"utc":"";const Ya={};for(pa of Lj)if(uc(I,pa)){var da=pa;da="quarter"===da?"(".concat(ya,"quarter(").concat(r,")-1)"):"".concat(ya).concat(da,
"(").concat(r,")");Ya[pa]=da;da=pa}c&&(Ya[da]+="+1");var pa=Ya;c=vb(pa,!1).join(", ");pa=pa.utc?"utc(".concat(c,")"):"datetime(".concat(c,")")}pa="time("+pa+")"}else pa=Yc(h,{expr:"datum"});if(Qc(h))return pa+"\x3d\x3d\x3d"+ne(h.equal,I);if(Zc(h))return F=h.lt,"".concat(pa,"\x3c").concat(ne(F,I));if(od(h))return F=h.gt,"".concat(pa,"\x3e").concat(ne(F,I));if(nd(h))return F=h.lte,"".concat(pa,"\x3c\x3d").concat(ne(F,I));if(Dd(h))return F=h.gte,"".concat(pa,"\x3e\x3d").concat(ne(F,I));if(Ud(h))return"indexof([".concat(Ee(h.oneOf,
I).join(","),"], ").concat(pa,") !\x3d\x3d -1");if(h&&h.field&&void 0!==h.valid)return Fe(pa,h.valid);if(Jd(h)){({range:c}=h);h=vc(c)?{signal:"".concat(c.signal,"[0]")}:c[0];c=vc(c)?{signal:"".concat(c.signal,"[1]")}:c[1];if(null!==h&&null!==c&&F)return"inrange("+pa+", ["+ne(h,I)+", "+ne(c,I)+"])";F=[];null!==h&&F.push("".concat(pa," \x3e\x3d ").concat(ne(h,I)));null!==c&&F.push("".concat(pa," \x3c\x3d ").concat(ne(c,I)));return 0<F.length?F.join(" \x26\x26 "):"true"}throw Error("Invalid field predicate: ".concat(JSON.stringify(h)));
}function Fe(h,F){return void 0===F||F?"isValid(".concat(h,") \x26\x26 isFinite(+").concat(h,")"):"!isValid(".concat(h,") || !isFinite(+").concat(h,")")}function Id(h){if(ie(h)&&h.timeUnit){var F;return Object.assign({},h,{timeUnit:null===(F=Jb(h.timeUnit))||void 0===F?void 0:F.unit})}return h}function Td(h){if(h)switch(h=h.toLowerCase(),h){case "q":case "quantitative":return"quantitative";case "t":case "temporal":return"temporal";case "o":case "ordinal":return"ordinal";case "n":case "nominal":return"nominal";
case "geojson":return"geojson"}}function af(h){return null===h||void 0===h?void 0:h.selection}function Be(h,F){switch(F){case "type":case "domain":case "reverse":case "range":return!0;case "scheme":case "interpolate":return!E(["point","band","identity"],h);case "bins":return!E(["point","band","identity","ordinal"],h);case "round":return h in Fg||"band"===h||"point"===h;case "padding":case "rangeMin":case "rangeMax":return h in Fg||E(["point","band"],h);case "paddingOuter":case "align":return E(["point",
"band"],h);case "paddingInner":return"band"===h;case "domainMax":case "domainMid":case "domainMin":case "clamp":return h in Fg;case "nice":return h in Fg||"quantize"===h||"threshold"===h;case "exponent":return"pow"===h;case "base":return"log"===h;case "constant":return"symlog"===h;case "zero":return h in xg&&!E(["log","time","utc","threshold","quantile"],h)}}function cf(h,F){switch(F){case "interpolate":case "scheme":case "domainMid":if(!Wa(h))return'Cannot use the scale property "'.concat(h,'" with non-color channel.')}}
function Xd(h,F){if(!Qg[h])return!1;switch(h){case "x":case "y":case "theta":case "radius":return F in Fg||E(["band","point"],F);case "size":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "angle":return F in Fg||F in Ti||E(["band","point","ordinal"],F);case "color":case "fill":case "stroke":return"band"!==F;case "strokeDash":return"ordinal"===F||F in Ti;case "shape":return"ordinal"===F}}function ae(h){return h&&!!h.expr}function Je(h){const F=xd(h||{}),c={};for(const r of F)c[r]=
vd(h[r]);return c}function fe(h){return E(["line","area","trail"],h)}function zd(h){return h.type}function Gd(h){const {channel:F,channelDef:c,markDef:r,scale:I,config:da}=h;h=Ge(h);return Vb(c)&&!Na(c.aggregate)&&I&&I.get("type")in Fg&&!1===I.get("zero")?ce({fieldDef:c,channel:F,markDef:r,ref:h,config:da}):h}function ce(h){var {fieldDef:F,channel:c,markDef:r,ref:I,config:da}=h;if(fe(r.type)||null===$d("invalid",r,da))return I;{h=Re(F,!0);const pa="y"===Da(c)?{field:{group:"height"}}:{value:0};h=
Object.assign({},{test:h},pa)}return[h,I]}function Re(h,F){F=void 0===F?!0:F;return Fe(e(h)?h:Yc(h,{expr:"datum"}),!F)}function me(h,F,c,r){const I={};F&&(I.scale=F);Vc(h)?({datum:h}=h,rc(h)?I.signal=Nb(h):vc(h)?I.signal=h.signal:ae(h)?I.signal=h.expr:I.value=h):I.field=Yc(h,c);if(r){const {offset:da,band:pa}=r;da&&(I.offset=da);pa&&(I.band=pa)}return I}function Hd(h){var {scaleName:F,fieldOrDatumDef:c,fieldOrDatumDef2:r,offset:I,startSuffix:da,band:pa=.5}=h,ya=0<pa&&1>pa?"datum":void 0;h=Yc(c,{expr:ya,
suffix:da});const Ya=void 0!==r?Yc(r,{expr:ya}):Yc(c,{suffix:"end",expr:ya});ya={};0===pa||1===pa?(ya.scale=F,ya.field=0===pa?h:Ya):(h="".concat(pa," * ").concat(h," + ").concat(1-pa," * ").concat(Ya),ya.signal='scale("'.concat(F,'", ').concat(h,")"));I&&(ya.offset=I);return ya}function Ge(h){var {channel:F,channelDef:c,channel2Def:r,markDef:I,config:da,scaleName:pa,scale:ya,stack:Ya,offset:hb,defaultRef:Ab,band:Gb}=h;if(c){if(dd(c)){var cc,Jc;if(rd(c)){var Tc;Gb=null!==(Tc=Gb)&&void 0!==Tc?Tc:Va({channel:F,
fieldDef:c,fieldDef2:r,markDef:I,stack:Ya,config:da,isMidPoint:!0});const {bin:bd,timeUnit:sd,type:yd}=c;if(ic(bd)||Gb&&sd&&"temporal"===yd)return Ya&&Ya.impute?me(c,pa,{binSuffix:"mid"},{offset:hb}):Gb?Hd({scaleName:pa,fieldOrDatumDef:c,band:Gb,offset:hb}):me(c,pa,fd(c,F)?{binSuffix:"range"}:{},{offset:hb});if(xc(bd)){if(Vb(r))return Hd({scaleName:pa,fieldOrDatumDef:c,fieldOrDatumDef2:r,band:Gb,offset:hb});Eb(Tb("x"===F?"x2":"y2"))}}h=null===ya||void 0===ya?void 0:ya.get("type");return me(c,pa,h in
og?{binSuffix:"range"}:{},{offset:hb,band:"band"===h?null!==(cc=null!==(Jc=Gb)&&void 0!==Jc?Jc:c.band)&&void 0!==cc?cc:.5:void 0})}if($c(c))return cc=hb?{offset:hb}:{},Object.assign({},rf(F,c.value),cc)}"function"===typeof Ab&&(Ab=Ab());return Ab?Object.assign({},Ab,hb?{offset:hb}:{}):Ab}function rf(h,F){return E(["x","x2"],h)&&"width"===F?{field:{group:"width"}}:E(["y","y2"],h)&&"height"===F?{field:{group:"height"}}:Kd(F)}function zc(h){return h&&"number"!==h&&"time"!==h}function He(h,F,c){return"".concat(h,
"(").concat(F).concat(c?", ".concat(JSON.stringify(c)):"",")")}function oe(h){var {fieldOrDatumDef:F,format:c,formatType:r,expr:I,normalizeStack:da,config:pa}=h;if(zc(r))return xe({fieldOrDatumDef:F,format:c,formatType:r,expr:I,config:pa});h=dc(F,I,da);if(gc(F)){var ya,Ya;var hb=Vb(F)?null===(ya=Jb(F.timeUnit))||void 0===ya?void 0:ya.unit:void 0,Ab=c,Gb=pa.timeFormat;ya=Ad(F)&&(null===(Ya=F.scale)||void 0===Ya?void 0:Ya.type)===Vf.UTC;!hb||Ab?(Ab=e(Ab)?Ab:Gb,h="".concat(ya?"utc":"time","Format(").concat(h,
", '").concat(Ab,"')")):hb?(Ya=Lc(hb),hb=ya||hb.startsWith("utc"),h="".concat(hb?"utc":"time","Format(").concat(h,", ").concat(Ya,")")):h=void 0;return h?{signal:h}:void 0}c=sf(Gc(F),c,pa);return Vb(F)&&ic(F.bin)?(Ya=Yc(F,{expr:I,binSuffix:"end"}),{signal:gf(h,Ya,c,r,pa)}):c||"quantitative"===Gc(F)?{signal:"".concat(ff(h,c))}:{signal:"isValid(".concat(h,") ? ").concat(h,' : ""+').concat(h)}}function dc(h,F,c){if(Vb(h))return c?"".concat(Yc(h,{expr:F,suffix:"end"}),"-").concat(Yc(h,{expr:F,suffix:"start"})):
Yc(h,{expr:F});({datum:h}=h);h=rc(h)?Nb(h):"".concat(JSON.stringify(h));return h}function xe(h){var {fieldOrDatumDef:F,format:c,formatType:r,expr:I,normalizeStack:da,config:pa,field:ya}=h,Ya;ya=null!==(Ya=ya)&&void 0!==Ya?Ya:dc(F,I,da);return Vb(F)&&ic(F.bin)?(h=Yc(F,{expr:I,binSuffix:"end"}),{signal:gf(ya,h,c,r,pa)}):{signal:He(r,ya,c)}}function de(h,F,c,r,I,da){if(!zc(r)){if(gc(h)){var pa;h=Vb(h)?null===(pa=Jb(h.timeUnit))||void 0===pa?void 0:pa.unit:void 0;c=c?c:h?{signal:Lc(h)}:da?void 0:I.timeFormat;
return c}return sf(F,c,I)}}function Ie(h,F,c){if(h&&(vc(h)||"number"===h||"time"===h))return h;if(gc(F)&&"time"!==c&&"utc"!==c)return"time"}function sf(h,F,c){if(e(F))return F;if("quantitative"===h)return c.numberFormat}function ff(h,F){return"format(".concat(h,', "').concat(F||"",'")')}function mf(h,F,c,r){var I;return zc(c)?He(c,h,F):ff(h,null!==(I=e(F)?F:void 0)&&void 0!==I?I:r.numberFormat)}function gf(h,F,c,r,I){const da=mf(h,c,r,I);F=mf(F,c,r,I);return"".concat(Fe(h,!1),' ? "null" : ').concat(da,
' + "').concat("  ",'" + ').concat(F)}function Zd(h){return!!h&&("count"===h.op||!!h.field)}function sc(h){return!!h&&le(h)}function ta(h){return"row"in h||"column"in h}function Ba(h){const {field:F,timeUnit:c,bin:r,aggregate:I}=h;return Object.assign({},c?{timeUnit:c}:{},r?{bin:r}:{},I?{aggregate:I}:{},{field:F})}function Va(h){var {channel:F,fieldDef:c,fieldDef2:r,markDef:I,stack:da,config:pa,isMidPoint:ya}=h;if(dd(c)&&void 0!==c.band)return c.band;if(Vb(c)){const {timeUnit:Ya,bin:hb}=c;if(Ya&&
!r)return ya?Qe("timeUnitBandPosition",I,pa):E(["rect","bar","image","arc"],I.type)?Qe("timeUnitBand",I,pa):0;if(ic(hb))return E(["rect","bar","image","arc"],I.type)&&!ya?1:.5}if((null===da||void 0===da?void 0:da.fieldChannel)===F&&ya)return.5}function zb(h,F,c,r,I,da){return ic(F.bin)||F.timeUnit&&rd(F)&&"temporal"===F.type?!!Va({channel:h,fieldDef:F,fieldDef2:c,stack:r,markDef:I,config:da}):!1}function pb(h){h=h&&h.condition;return!!h&&!le(h)&&Vb(h)}function Rb(h){h=h&&h.condition;return!!h&&!le(h)&&
dd(h)}function Vb(h){return!!h&&(!!h.field||"count"===h.aggregate)}function Gc(h){return h&&h.type}function Vc(h){return!!h&&"datum"in h}function Cc(h){return rd(h)&&!ye(h)||Bd(h)}function Bd(h){return Vc(h)&&a(h.datum)}function dd(h){return Vb(h)||Vc(h)}function rd(h){return!!h&&("field"in h||"count"===h.aggregate)&&"type"in h}function $c(h){return h&&"value"in h&&"value"in h}function Ad(h){return!!h&&("scale"in h||"sort"in h)}function Sd(h){return h&&("axis"in h||"stack"in h||"impute"in h)}function Ye(h){return!!h&&
("format"in h||"formatType"in h)}function Ne(h){return K(h,["legend","axis","header","scale"])}function Yc(h,F){F=void 0===F?{}:F;let c=h.field;const r=F.prefix;let I=F.suffix,da="";if("count"===h.aggregate)c=R("count");else{let hb;if(!F.nofn)if("op"in h)hb=h.op;else{const {bin:Ab,aggregate:Gb,timeUnit:cc}=h;if(ic(Ab)){var pa,ya;hb=ad(Ab);I=(null!==(pa=F.binSuffix)&&void 0!==pa?pa:"")+(null!==(ya=F.suffix)&&void 0!==ya?ya:"")}else if(Gb)Aa(Gb)?(da='["'.concat(c,'"]'),c="argmax_".concat(Gb.argmax)):
na(Gb)?(da='["'.concat(c,'"]'),c="argmin_".concat(Gb.argmin)):hb=String(Gb);else if(cc){var Ya;hb=yc(cc);I=(!E(["range","mid"],F.binSuffix)&&F.binSuffix||"")+(null!==(Ya=F.suffix)&&void 0!==Ya?Ya:"")}}hb&&(c=c?"".concat(hb,"_").concat(c):hb)}I&&(c="".concat(c,"_").concat(I));r&&(c="".concat(r,"_").concat(c));return F.forAs?Pa(c):F.expr?Ha(c,F.expr)+da:gb(c)+da}function ye(h){switch(h.type){case "nominal":case "ordinal":case "geojson":return!0;case "quantitative":return Vb(h)&&!!h.bin;case "temporal":return!1}throw Error('Invalid field type "'.concat(h.type,
'".'));}function Xe(h,F){const {field:c,bin:r,timeUnit:I,aggregate:da}=h;if("count"===da)return F.countTitle;if(ic(r))return"".concat(c," (binned)");if(I){var pa;if(h=null===(pa=Jb(I))||void 0===pa?void 0:pa.unit)return"".concat(c," (").concat(tc(h).join("-"),")")}else if(da)return Aa(da)?"".concat(c," for max ").concat(da.argmax):na(da)?"".concat(c," for min ").concat(da.argmin):"".concat(wa(da)," of ").concat(c);return c}function Ke(h,F,c){var {allowDisabling:r,includeDefault:I=!0}=c,da;c=null===
(da=tf(h))||void 0===da?void 0:da.title;if(!Vb(h))return c;F=I?ti(h,F):void 0;if(r)return za(c,h.title,F);var pa;return null!==(pa=null!==c&&void 0!==c?c:h.title)&&void 0!==pa?pa:F}function tf(h){if(Sd(h)&&h.axis)return h.axis;if(h&&"legend"in h&&h.legend)return h.legend;if(h&&"header"in h&&h.header)return h.header}function df(h){if(Ye(h)){const {format:c,formatType:r}=h;return{format:c,formatType:r}}{var F;h=null!==(F=tf(h))&&void 0!==F?F:{};const {format:c,formatType:r}=h;return{format:c,formatType:r}}}
function we(h,F){var c;switch(F){case "latitude":case "longitude":return"quantitative";case "row":case "column":case "facet":case "shape":case "strokeDash":return"nominal";case "order":return"ordinal"}if("sort"in h&&le(h.sort))return"ordinal";const {aggregate:r,bin:I,timeUnit:da}=h;if(da)return"temporal";if(I||r&&!Aa(r)&&!na(r))return"quantitative";if(Ad(h)&&(null===(c=h.scale)||void 0===c?0:c.type))switch(Mj[h.scale.type]){case "numeric":case "discretizing":return"quantitative";case "time":return"temporal"}return"nominal"}
function Pe(h){if(Vb(h))return h;if(pb(h))return h.condition}function va(h){if(dd(h))return h;if(Rb(h))return h.condition}function Ma(h,F,c,r){r=void 0===r?{}:r;return e(h)||a(h)||f(h)?(c=e(h)?"string":a(h)?"number":"boolean",F="Channel ".concat(F," is a ").concat(c,". Converted to {value: ").concat(Of(h),"}."),Eb(F),{value:h}):dd(h)?rb(h,F,c,r):Rb(h)?Object.assign({},h,{condition:rb(h.condition,F,c,r)}):h}function rb(h,F,c,r){if(Ye(h)){var I=Object.assign({},h),da=h.formatType;I=(delete I.format,
delete I.formatType,I);if(zc(da)&&!c.customFormatTypes)return Eb(Ib(F)),rb(I,F,c,r)}else if((da=Sd(h)?"axis":h&&"legend"in h?"legend":h&&"header"in h?"header":null)&&h[da]){var pa=h[da];I=Object.assign({},pa);pa=pa.formatType;I=(delete I.format,delete I.formatType,I);if(zc(pa)&&!c.customFormatTypes)return Eb(Ib(F)),rb(Object.assign({},h,{[da]:I}),F,c,r)}if(Vb(h))return Pb(h,F,r);F=h.type;F||({datum:F}=h,F=a(F)?"quantitative":e(F)?"nominal":rc(F)?"temporal":void 0,h=Object.assign({},h,{type:F}));return h}
function Pb(h,F,c){({compositeMark:c=!1}=void 0===c?{}:c);const {aggregate:r,timeUnit:I,bin:da,field:pa}=h;h=Object.assign({},h);c||!r||ka(r)||Aa(r)||na(r)||(Eb('Invalid aggregation operator "'.concat(r,'".')),delete h.aggregate);I&&(h.timeUnit=Jb(I));pa&&(h.field="".concat(pa));ic(da)&&(h.bin=Mb(da,F));!xc(da)||F in cg||Eb("Channel ".concat(F,' should not be used with "binned" bin.'));if(rd(h)){({type:c}=h);var ya=Td(c);c!==ya&&(h.type=ya);"quantitative"!==c&&Na(r)&&(c='Invalid field type "'.concat(c,
'" for aggregate: "').concat(r,'", using "quantitative" instead.'),Eb(c),h.type="quantitative")}else Ca(F)||(c=we(h,F),h.type=c);if(rd(h)){const {compatible:Ya,warning:hb}=ac(h,F)||{};!1===Ya&&Eb(hb)}if("sort"in h&&e(h.sort)){({sort:F}=h);if(F in xk)return Object.assign({},h,{sort:{encoding:F}});c=F.substr(1);if("-"===F.charAt(0)&&c in xk)return Object.assign({},h,{sort:{encoding:c,order:"descending"}})}return h&&"header"in h&&({header:F}=h,ya=F,c=Object.assign({},ya),ya=ya.orient,c=(delete c.orient,
c),ya)?Object.assign({},h,{header:Object.assign({},c,{labelOrient:F.labelOrient||ya,titleOrient:F.titleOrient||ya})}):h}function Mb(h,F){return f(h)?{maxbins:$b(F)}:"binned"===h?{binned:!0}:h.maxbins||h.step?h:Object.assign({},h,{maxbins:$b(F)})}function ac(h,F){const c=h.type;if("geojson"===c&&"shape"!==F)return{compatible:!1,warning:"Channel ".concat(F," should not be used with a geojson data.")};switch(F){case "row":case "column":case "facet":return ye(h)?Ch:{compatible:!1,warning:"".concat(F,
" encoding should be discrete (ordinal / nominal / binned).")};case "x":case "y":case "color":case "fill":case "stroke":case "text":case "detail":case "key":case "tooltip":case "href":case "url":case "angle":case "theta":case "radius":case "description":return Ch;case "longitude":case "longitude2":case "latitude":case "latitude2":return"quantitative"!==c?{compatible:!1,warning:"Channel ".concat(F," should be used with a quantitative field only, not ").concat(h.type," field.")}:Ch;case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "size":case "theta2":case "radius2":case "x2":case "y2":return"nominal"!==
c||h.sort?Ch:{compatible:!1,warning:"Channel ".concat(F," should not be used with an unsorted discrete field.")};case "strokeDash":return E(["ordinal","nominal"],h.type)?Ch:{compatible:!1,warning:"StrokeDash channel should be used with only discrete data."};case "shape":return E(["ordinal","nominal","geojson"],h.type)?Ch:{compatible:!1,warning:"Shape channel should be used with only either discrete or geojson data."};case "order":return"nominal"!==h.type||"sort"in h?Ch:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}
function gc(h){var {formatType:F}=df(h),c;if(!(c="time"===F)){if(F=!F)F=h&&("temporal"===h.type||Vb(h)&&!!h.timeUnit);c=F}return c}function Uc(h,F){var {timeUnit:c,type:r,wrapTime:I,undefinedIfExprNotRequired:da}=F;var pa=(F=c&&(null===(pa=Jb(c))||void 0===pa?void 0:pa.unit))||"temporal"===r;let ya;ae(h)?ya=h.expr:vc(h)?ya=h.signal:rc(h)?(pa=!0,ya=Nb(h)):(e(h)||a(h))&&pa&&(ya="datetime(".concat(JSON.stringify(h),")"),yk[F]&&(a(h)&&1E4>h||e(h)&&isNaN(Date.parse(h)))&&(ya=Nb({[F]:h})));return ya?I&&
pa?"time(".concat(ya,")"):ya:da?void 0:JSON.stringify(h)}function Mc(h,F){const {type:c}=h;return F.map(r=>{const I=Uc(r,{timeUnit:Vb(h)?h.timeUnit:void 0,type:c,undefinedIfExprNotRequired:!0});return void 0!==I?{signal:I}:r})}function fd(h,F){return ic(h.bin)?!!Qg[F]&&E(["ordinal","nominal"],h.type):(console.warn("Only call this method for binned field defs."),!1)}function ud(h){var F=Object.assign({},h),c=h.anchor;const r=h.frame,I=h.offset,da=h.orient;var pa=h.color,ya=h.subtitleColor,Ya=h.subtitleFont;
const hb=h.subtitleFontSize,Ab=h.subtitleFontStyle,Gb=h.subtitleFontWeight,cc=h.subtitleLineHeight;h=h.subtitlePadding;F=(delete F.anchor,delete F.frame,delete F.offset,delete F.orient,delete F.color,delete F.subtitleColor,delete F.subtitleFont,delete F.subtitleFontSize,delete F.subtitleFontStyle,delete F.subtitleFontWeight,delete F.subtitleLineHeight,delete F.subtitlePadding,F);pa=Object.assign({},F,pa?{fill:pa}:{});c=Object.assign({},c?{anchor:c}:{},r?{frame:r}:{},I?{offset:I}:{},da?{orient:da}:
{});ya=Object.assign({},ya?{subtitleColor:ya}:{},Ya?{subtitleFont:Ya}:{},hb?{subtitleFontSize:hb}:{},Ab?{subtitleFontStyle:Ab}:{},Gb?{subtitleFontWeight:Gb}:{},cc?{subtitleLineHeight:cc}:{},h?{subtitlePadding:h}:{});Ya=M(pa,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:pa,subtitleMarkConfig:Ya,nonMark:c,subtitle:ya}}function Od(h){return e(h)||le(h)&&e(h[0])}function Yd(h){const F=le(h.condition)?h.condition.map(ze):ze(h.condition);return Object.assign({},vd(h),{condition:F})}function vd(h){if(ae(h)){var F=
Object.assign({},h);h=h.expr;F=(delete F.expr,F);return Object.assign({},{signal:h},F)}return h}function ze(h){if(ae(h)){var F=Object.assign({},h);h=h.expr;F=(delete F.expr,F);return Object.assign({},{signal:h},F)}return h}function Kd(h){if(ae(h)){var F=Object.assign({},h);h=h.expr;F=(delete F.expr,F);return Object.assign({},{signal:h},F)}return vc(h)?h:void 0!==h?{value:h}:void 0}function pe(h){return vc(h)?h.signal:n(h.value)}function ge(h){return vc(h)?h.signal:null==h?null:n(h)}function re(h,
F,c){for(const r of c)c=Qe(r,F.markDef,F.config),void 0!==c&&(h[r]=Kd(c));return h}function pf(h){var F;return[].concat(h.type,null!==(F=h.style)&&void 0!==F?F:[])}function $d(h,F,c,r){r=void 0===r?{}:r;const {vgChannel:I,ignoreVgConfig:da}=r;if(I&&void 0!==F[I])return F[I];if(void 0!==F[h])return F[h];if(!da||I&&I!==h)return Qe(h,F,c,r)}function Qe(h,F,c,r){({vgChannel:r}=void 0===r?{}:r);return za(r?Se(h,F,c.style):void 0,Se(h,F,c.style),r?c[F.type][r]:void 0,c[F.type][h],r?c.mark[r]:c.mark[h])}
function Se(h,F,c){return Uf(h,pf(F),c)}function Uf(h,F,c){F=d(F);let r;for(const I of F)(F=c[I])&&void 0!==F[h]&&(r=F[h]);return r}function ef(h,F){return d(h).reduce((c,r)=>{var I;c.field.push(Yc(r,F));c.order.push(null!==(I=r.sort)&&void 0!==I?I:"ascending");return c},{field:[],order:[]})}function Ff(h,F){const c=[...h];F.forEach(r=>{for(const I of c)if(Zh(I,r))return;c.push(r)});return c}function sa(h,F){return Zh(h,F)||!F?h:h?[...d(h),...d(F)].join(", "):F}function ua(h,F){const c=h.value;F=
F.value;if(null==c||null===F)return{explicit:h.explicit,value:null};if((Od(c)||vc(c))&&(Od(F)||vc(F)))return{explicit:h.explicit,value:sa(c,F)};if(Od(c)||vc(c))return{explicit:h.explicit,value:c};if(Od(F)||vc(F))return{explicit:h.explicit,value:F};if(!(Od(c)||vc(c)||Od(F)||vc(F)))return{explicit:h.explicit,value:Ff(c,F)};throw Error("It should never reach here");}function Ka(h){return"mark"in h}function Oa(h,F){return(h=h&&h[F])?le(h)?H(h,c=>!!c.field):Vb(h)||pb(h):!1}function bb(h){return H(Il,F=>
Oa(h,F)?(F=h[F],le(F)?H(F,c=>!!c.aggregate):(F=Pe(F))&&!!F.aggregate):!1)}function db(h,F){const c=[],r=[],I=[],da=[],pa={};Hb(h,(ya,Ya)=>{if(Vb(ya)){var hb=Object.assign({},ya),Ab=ya.field;const cc=ya.aggregate,Jc=ya.bin,Tc=ya.timeUnit;hb=(delete hb.field,delete hb.aggregate,delete hb.bin,delete hb.timeUnit,hb);if(cc||Tc||Jc){var Gb=tf(ya);const bd=Gb&&Gb.title;Gb=Yc(ya,{forAs:!0});hb=Object.assign({},bd?[]:{title:Ke(ya,F,{allowDisabling:!0})},hb,{field:Gb});if(cc){let sd;Aa(cc)?(sd="argmax",Gb=
Yc({op:"argmax",field:cc.argmax},{forAs:!0}),hb.field="".concat(Gb,".").concat(Ab)):na(cc)?(sd="argmin",Gb=Yc({op:"argmin",field:cc.argmin},{forAs:!0}),hb.field="".concat(Gb,".").concat(Ab)):"boxplot"!==cc&&"errorbar"!==cc&&"errorband"!==cc&&(sd=cc);sd&&(ya={op:sd,as:Gb},Ab&&(ya.field=Ab),da.push(ya))}else c.push(Gb),rd(ya)&&ic(Jc)?(r.push({bin:Jc,field:Ab,as:Gb}),c.push(Yc(ya,{binSuffix:"end"})),fd(ya,Ya)&&c.push(Yc(ya,{binSuffix:"range"})),Ya in cg&&(pa[Ya+"2"]={field:Gb+"_end"}),hb.bin="binned",
Ca(Ya)||(hb.type="quantitative")):Tc&&(I.push({timeUnit:Tc,field:Ab,as:Gb}),(Ab=rd(ya)&&"temporal"!==ya.type&&"time")&&("text"===Ya||"tooltip"===Ya?hb.formatType=Ab:Nj[Ya]?hb.legend=Object.assign({},{formatType:Ab},hb.legend):Ya in cg&&(hb.axis=Object.assign({},{formatType:Ab},hb.axis))));pa[Ya]=hb}else c.push(Ab),pa[Ya]=h[Ya]}else pa[Ya]=h[Ya]});return{bins:r,timeUnits:I,aggregate:da,groupby:c,encoding:pa}}function lb(h,F,c){c=Qb(F)[c];return c&&("binned"!==c||(c=h["x2"===F?"x":"y"],Vb(c)&&Vb(h[F])&&
xc(c.bin)))?!0:!1}function wb(h,F,c,r){return xd(h).reduce((I,da)=>{if(!Ui[da])return Eb(Nc(da)),I;const pa=h[da];"angle"!==da||"arc"!==F||h.theta||(Eb("Arc marks uses theta channel rather than angle, replacing angle with theta."),da="theta");if(!lb(h,da,F))return Eb(qc(da,F)),I;if("size"===da&&"line"===F){const ya=Pe(h[da]);if(null===ya||void 0===ya?0:ya.aggregate)return Eb("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead."),I}if("color"===da&&(c?"fill"in
h:"stroke"in h))return Eb(Zb("encoding",{fill:"fill"in h,stroke:"stroke"in h})),I;if("detail"===da||"order"===da&&!le(pa)&&!$c(pa)||"tooltip"===da&&le(pa))pa&&(I[da]=d(pa).reduce((ya,Ya)=>{Vb(Ya)?ya.push(Pb(Ya,da)):Eb(xb(Ya,da));return ya},[]));else{if("tooltip"===da&&null===pa)I[da]=null;else if(!(Vb(pa)||Vc(pa)||$c(pa)||pa&&"condition"in pa||vc(pa)))return Eb(xb(pa,da)),I;I[da]=Ma(pa,da,r)}return I},{})}function ub(h,F){const c={};for(const r of xd(h)){const I=Ma(h[r],r,F,{compositeMark:!0});c[r]=
I}return c}function Cb(h){const F=[];for(const c of xd(h))if(Oa(h,c)){const r=d(h[c]);for(const I of r)Vb(I)?F.push(I):pb(I)&&F.push(I.condition)}return F}function Hb(h,F,c){if(h)for(const r of xd(h)){const I=h[r];if(le(I))for(const da of I)F.call(c,da,r);else F.call(c,I,r)}}function Wb(h,F,c,r){return h?xd(h).reduce((I,da)=>{const pa=h[da];return le(pa)?pa.reduce((ya,Ya)=>F.call(r,ya,Ya,da),I):F.call(r,I,pa,da)},c):c}function oc(h,F){return xd(F).reduce((c,r)=>{switch(r){case "x":case "y":case "href":case "description":case "url":case "x2":case "y2":case "theta":case "theta2":case "radius":case "radius2":case "latitude":case "longitude":case "latitude2":case "longitude2":case "text":case "shape":case "angle":case "tooltip":return c;
case "order":if("line"===h||"trail"===h)return c;case "detail":case "key":r=F[r];if(le(r)||Vb(r))for(var I of d(r))I.aggregate||c.push(Yc(I,{}));return c;case "size":if("trail"===h)return c;case "color":case "fill":case "stroke":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeDash":case "strokeWidth":return(I=Pe(F[r]))&&!I.aggregate&&c.push(Yc(I,{})),c}},[])}function V(h,F,c,r){r=void 0===r?!0:r;if("tooltip"in c)return{tooltip:c.tooltip};h=h.map(I=>{var {fieldPrefix:da,titlePrefix:pa}=
I;I=r?" of ".concat(la(F)):"";return{field:da+F.field,type:F.type,title:vc(pa)?{signal:pa+'"'.concat(escape(I),'"')}:pa+I}});c=Cb(c).map(Ne);return{tooltip:[...h,...ea(c,D)]}}function la(h){const {title:F,field:c}=h;return za(F,c)}function La(h,F,c,r,I){const {scale:da,axis:pa}=c;return ya=>{var {partName:Ya,mark:hb,positionPrefix:Ab,endPositionPrefix:Gb,extraEncoding:cc={}}=ya;ya=la(c);return Ra(h,Ya,I,{mark:hb,encoding:Object.assign({},{[F]:Object.assign({},{field:Ab+"_"+c.field,type:c.type},void 0!==
ya?{title:ya}:{},void 0!==da?{scale:da}:{},void 0!==pa?{axis:pa}:{})},e(Gb)?{[F+"2"]:{field:Gb+"_"+c.field}}:{},r,cc)})}}function Ra(h,F,c,r){const {clip:I,color:da,opacity:pa}=h,ya=h.type;return h[F]||void 0===h[F]&&c[F]?[Object.assign({},r,{mark:Object.assign({},c[F],I?{clip:I}:{},da?{color:da}:{},pa?{opacity:pa}:{},zd(r.mark)?r.mark:{type:r.mark},{style:"".concat(ya,"-").concat(F)},f(h[F])?{}:h[F])})]:[]}function sb(h,F,c){({encoding:h}=h);F="vertical"===F?"y":"x";const r=h[F+"2"],I=h[F+"Error"],
da=h[F+"Error2"];return{continuousAxisChannelDef:Lb(h[F],c),continuousAxisChannelDef2:Lb(r,c),continuousAxisChannelDefError:Lb(I,c),continuousAxisChannelDefError2:Lb(da,c),continuousAxis:F}}function Lb(h,F){if(h&&h.aggregate){var c=Object.assign({},h);h=h.aggregate;c=(delete c.aggregate,c);h!==F&&(F="Continuous axis should not have customized aggregation function ".concat(h,"; ").concat(F," already agregates the axis."),Eb(F));return c}return h}function Sb(h,F){const {mark:c,encoding:r}=h,{x:I,y:da}=
r;if(zd(c)&&c.orient)return c.orient;if(Cc(I)){if(Cc(da)){h=Vb(I)&&I.aggregate;const pa=Vb(da)&&da.aggregate;if(!h&&pa===F)return"vertical";if(pa||h!==F){if(h===F&&pa===F)throw Error("Both x and y cannot have aggregate");return gc(da)&&!gc(I)?"horizontal":"vertical"}}return"horizontal"}if(Cc(da))return"vertical";throw Error("Need a valid continuous axis for ".concat(F,"s"));}function hc(h){return a(h)?"tukey":h}function wc(h,F){var {config:c}=F,r,I=h=Object.assign({},h,{encoding:ub(h.encoding,c)});
F=Object.assign({},I);var da=I.mark;I=I.selection;F=(delete F.mark,delete F.encoding,delete F.selection,delete F.projection,F);da=zd(da)?da:{type:da};I&&Eb(jd("boxplot"));I=null!==(r=da.extent)&&void 0!==r?r:c.boxplot.extent;var pa=$d("size",da,c);r=hc(I);var ya;{var Ya=h;h=Sb(Ya,"boxplot");const {continuousAxisChannelDef:qf,continuousAxis:Sf}=sb(Ya,h,"boxplot");var hb=qf.field,Ab=hc(I),Gb=[...Sc(hb),{op:"median",field:hb,as:"mid_box_"+hb},{op:"min",field:hb,as:("min-max"===Ab?"lower_whisker_":"min_")+
hb},{op:"max",field:hb,as:("min-max"===Ab?"upper_whisker_":"max_")+hb}];hb="min-max"===Ab||"tukey"===Ab?[]:[{calculate:'datum["upper_box_'.concat(hb,'"] - datum["lower_box_').concat(hb,'"]'),as:"iqr_"+hb},{calculate:'min(datum["upper_box_'.concat(hb,'"] + datum["iqr_').concat(hb,'"] * ').concat(I,', datum["max_').concat(hb,'"])'),as:"upper_whisker_"+hb},{calculate:'max(datum["lower_box_'.concat(hb,'"] - datum["iqr_').concat(hb,'"] * ').concat(I,', datum["min_').concat(hb,'"])'),as:"lower_whisker_"+
hb}];Ya=Object.assign({},Ya.encoding);Ab=(delete Ya[Sf],Ya);Ya=Object.assign({},Ab);Ab=Ab.tooltip;Ya=(delete Ya.tooltip,Ya);if(Ab){var cc;if(le(Ab)){for(var Jc of Ab)Jc.aggregate?(ya||(ya=[]),ya.push(Jc)):(cc||(cc=[]),cc.push(Jc));ya&&(Ya.tooltip=ya)}else Ab.aggregate?Ya.tooltip=Ab:cc=Ab;le(cc)&&1===cc.length&&(cc=cc[0]);ya={customTooltipWithoutAggregatedField:cc,filteredEncoding:Ya}}else ya={filteredEncoding:Ya};const {customTooltipWithoutAggregatedField:Mf,filteredEncoding:Oj}=ya,{bins:ch,timeUnits:ui,
aggregate:zk,groupby:Ak,encoding:Jl}=db(Oj,c);ya=[...ch,...ui,{aggregate:[...zk,...Gb],groupby:Ak},...hb];ya={bins:ch,timeUnits:ui,transform:ya,groupby:Ak,aggregate:zk,continuousAxisChannelDef:qf,continuousAxis:Sf,encodingWithoutContinuousAxis:Jl,ticksOrient:"vertical"===h?"horizontal":"vertical",boxOrient:h,customTooltipWithoutAggregatedField:Mf}}const {bins:Tc,timeUnits:bd,transform:sd,continuousAxisChannelDef:yd,continuousAxis:he,groupby:Oe,aggregate:Wd,encodingWithoutContinuousAxis:Le,ticksOrient:Cd,
boxOrient:Hf,customTooltipWithoutAggregatedField:Ue}=ya;cc=Object.assign({},Le);ya=Le.color;Gb=Le.size;cc=(delete cc.color,delete cc.size,cc);Jc=La(da,he,yd,cc,c.boxplot);h=La(da,he,yd,Le,c.boxplot);Gb=La(da,he,yd,Object.assign({},cc,Gb?{size:Gb}:{}),c.boxplot);hb=V([{fieldPrefix:"min-max"===r?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===r?"lower_whisker_":
"min_",titlePrefix:"Min"}],yd,Le);Ya={type:"tick",color:"black",opacity:1,orient:Cd,invalid:null,aria:!1};Ab="min-max"===r?hb:V([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],yd,Le);Jc=[...Jc({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:Ab}),...Jc({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",
extraEncoding:Ab}),...Jc({partName:"ticks",mark:Ya,positionPrefix:"lower_whisker",extraEncoding:Ab}),...Jc({partName:"ticks",mark:Ya,positionPrefix:"upper_whisker",extraEncoding:Ab})];pa=[..."tukey"!==r?Jc:[],...h({partName:"box",mark:Object.assign({},{type:"bar"},pa?{size:pa}:{},{orient:Hf,invalid:null,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:hb}),...Gb({partName:"median",mark:Object.assign({},{type:"tick",invalid:null},v(c.boxplot.median)&&
c.boxplot.median.color?{color:c.boxplot.median.color}:{},pa?{size:pa}:{},{orient:Cd,aria:!1}),positionPrefix:"mid_box",extraEncoding:hb})];if("min-max"===r){var qe;return Object.assign({},F,{transform:(null!==(qe=F.transform)&&void 0!==qe?qe:[]).concat(sd),layer:pa})}qe='datum["lower_box_'.concat(yd.field,'"]');r='datum["upper_box_'.concat(yd.field,'"]');h="(".concat(r," - ").concat(qe,")");qe="".concat(qe," - ").concat(I," * ").concat(h);h="".concat(r," + ").concat(I," * ").concat(h);Gb='datum["'.concat(yd.field,
'"]');I={joinaggregate:Sc(yd.field),groupby:Oe};r={transform:[{filter:"(".concat(qe," \x3c\x3d ").concat(Gb,") \x26\x26 (").concat(Gb," \x3c\x3d ").concat(h,")")},{aggregate:[{op:"min",field:yd.field,as:"lower_whisker_"+yd.field},{op:"max",field:yd.field,as:"upper_whisker_"+yd.field},{op:"min",field:"lower_box_"+yd.field,as:"lower_box_"+yd.field},{op:"max",field:"upper_box_"+yd.field,as:"upper_box_"+yd.field},...Wd],groupby:Oe}],layer:Jc};cc=Object.assign({},cc);cc=(delete cc.tooltip,cc);const {scale:Bf,
axis:Rf}=yd;Jc=la(yd);hb=K(Rf,["title"]);c=Ra(da,"outliers",c.boxplot,{transform:[{filter:"(".concat(Gb," \x3c ").concat(qe,") || (").concat(Gb," \x3e ").concat(h,")")}],mark:"point",encoding:Object.assign({},{[he]:Object.assign({},{field:yd.field,type:yd.type},void 0!==Jc?{title:Jc}:{},void 0!==Bf?{scale:Bf}:{},N(hb)?{}:{axis:hb})},cc,ya?{color:ya}:{},Ue?{tooltip:Ue}:{})})[0];da=[...Tc,...bd,I];c?c={transform:da,layer:[c,r]}:(c=r,c.transform.unshift(...da));return Object.assign({},F,{layer:[c,{transform:sd,
layer:pa}]})}function Sc(h){return[{op:"q1",field:h,as:"lower_box_"+h},{op:"q3",field:h,as:"upper_box_"+h}]}function Pc(h,F){({config:F}=F);h=Object.assign({},h,{encoding:ub(h.encoding,F)});const {transform:c,continuousAxisChannelDef:r,continuousAxis:I,encodingWithoutContinuousAxis:da,ticksOrient:pa,markDef:ya,outerSpec:Ya,tooltipEncoding:hb}=Nd(h,"errorbar",F);delete da.size;h=La(ya,I,r,da,F.errorbar);F=ya.thickness;var Ab=ya.size;Ab=Object.assign({},{type:"tick",orient:pa,aria:!1},void 0!==F?{thickness:F}:
{},void 0!==Ab?{size:Ab}:{});h=[...h({partName:"ticks",mark:Ab,positionPrefix:"lower",extraEncoding:hb}),...h({partName:"ticks",mark:Ab,positionPrefix:"upper",extraEncoding:hb}),...h({partName:"rule",mark:Object.assign({},{type:"rule",ariaRoleDescription:"errorbar"},void 0!==F?{size:F}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:hb})];return Object.assign({},Ya,{transform:c},1<h.length?{layer:h}:Object.assign({},h[0]))}function wd(h,F){var {encoding:c}=h;if(!(!dd(c.x)&&!dd(c.y)||
dd(c.x2)||dd(c.y2)||dd(c.xError)||dd(c.xError2)||dd(c.yError)||dd(c.yError2)))return{orient:Sb(h,F),inputType:"raw"};var r=dd(c.x2)||dd(c.y2);var I=dd(c.xError)||dd(c.xError2)||dd(c.yError)||dd(c.yError2);h=c.x;const da=c.y;if(r){if(I)throw Error("".concat(F," cannot be both type aggregated-upper-lower and aggregated-error"));r=c.x2;c=c.y2;if(dd(r)&&dd(c))throw Error("".concat(F," cannot have both x2 and y2"));if(dd(r)){if(Cc(h))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw Error("Both x and x2 have to be quantitative in ".concat(F));
}if(dd(c)){if(Cc(da))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw Error("Both y and y2 have to be quantitative in ".concat(F));}}else{r=c.xError;I=c.yError;const pa=c.yError2;if(dd(c.xError2)&&!dd(r))throw Error("".concat(F," cannot have xError2 without xError"));if(dd(pa)&&!dd(I))throw Error("".concat(F," cannot have yError2 without yError"));if(dd(r)&&dd(I))throw Error("".concat(F," cannot have both xError and yError with both are quantiative"));if(dd(r)){if(Cc(h))return{orient:"horizontal",
inputType:"aggregated-error"};throw Error("All x, xError, and xError2 (if exist) have to be quantitative");}if(dd(I)){if(Cc(da))return{orient:"vertical",inputType:"aggregated-error"};throw Error("All y, yError, and yError2 (if exist) have to be quantitative");}}throw Error("No ranged axis");}function Nd(h,F,c){var r,I=Object.assign({},h),da=h.mark,pa=h.encoding,ya=h.selection;I=(delete I.mark,delete I.encoding,delete I.selection,delete I.projection,I);da=zd(da)?da:{type:da};ya&&Eb(jd(F));const {orient:Ya,
inputType:hb}=wd(h,F),{continuousAxisChannelDef:Ab,continuousAxisChannelDef2:Gb,continuousAxisChannelDefError:cc,continuousAxisChannelDefError2:Jc,continuousAxis:Tc}=sb(h,Ya,F);ya=[];h=[];var bd=Ab.field,sd=!1;if("raw"===hb){var yd=da.center?da.center:da.extent?"iqr"===da.extent?"median":"mean":c.errorbar.center;var he=da.extent?da.extent:"mean"===yd?"stderr":"iqr";"median"===yd!==("iqr"===he)&&(ya=he,ya="".concat(yd," is not usually used with ").concat(ya," for ").concat(F,"."),Eb(ya));"stderr"===
he||"stdev"===he?(ya=[{op:he,field:bd,as:"extent_"+bd},{op:yd,field:bd,as:"center_"+bd}],h=[{calculate:'datum["center_'.concat(bd,'"] + datum["extent_').concat(bd,'"]'),as:"upper_"+bd},{calculate:'datum["center_'.concat(bd,'"] - datum["extent_').concat(bd,'"]'),as:"lower_"+bd}],bd={fieldPrefix:"center_",titlePrefix:wa(yd)},sd=he,sd={fieldPrefix:"upper_",titlePrefix:wa(yd)+" + "+sd},F=he,F=wa(yd)+" - "+F,yd=[bd,sd,{fieldPrefix:"lower_",titlePrefix:F}],sd=!0):("ci"===he?(F="mean",yd="ci0",he="ci1"):
(F="median",yd="q1",he="q3"),ya=[{op:yd,field:bd,as:"lower_"+bd},{op:he,field:bd,as:"upper_"+bd},{op:F,field:bd,as:"center_"+bd}],yd=[{fieldPrefix:"upper_",titlePrefix:Ke({field:bd,aggregate:he,type:"quantitative"},c,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:Ke({field:bd,aggregate:yd,type:"quantitative"},c,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:Ke({field:bd,aggregate:F,type:"quantitative"},c,{allowDisabling:!1})}])}else{if(da.center||da.extent){F=da.center;var Oe=da.extent;
F="".concat(Oe?"extent ":"").concat(Oe&&F?"and ":"").concat(F?"center ":"").concat(Oe&&F?"are ":"is ","not needed when data are aggregated.");Eb(F)}"aggregated-upper-lower"===hb?(yd=[],h=[{calculate:'datum["'.concat(Gb.field,'"]'),as:"upper_"+bd},{calculate:'datum["'.concat(bd,'"]'),as:"lower_"+bd}]):"aggregated-error"===hb&&(yd=[{fieldPrefix:"",titlePrefix:bd}],h=[{calculate:'datum["'.concat(bd,'"] + datum["').concat(cc.field,'"]'),as:"upper_"+bd}],Jc?h.push({calculate:'datum["'.concat(bd,'"] + datum["').concat(Jc.field,
'"]'),as:"lower_"+bd}):h.push({calculate:'datum["'.concat(bd,'"] - datum["').concat(cc.field,'"]'),as:"lower_"+bd}));for(he of h)yd.push({fieldPrefix:he.as.substring(0,6),titlePrefix:ra(ra(he.calculate,'datum["',""),'"]',"")})}h={postAggregateCalculates:h,errorBarSpecificAggregate:ya,tooltipSummary:yd,tooltipTitleWithFieldName:sd};const {errorBarSpecificAggregate:Wd,postAggregateCalculates:Le,tooltipSummary:Cd,tooltipTitleWithFieldName:Hf}=h;pa=Object.assign({},pa);h="x"===Tc?"x2":"y2";ya="x"===Tc?
"xError":"yError";bd="x"===Tc?"xError2":"yError2";pa=(delete pa[Tc],delete pa[h],delete pa[ya],delete pa[bd],pa);const {bins:Ue,timeUnits:qe,aggregate:Bf,groupby:Rf,encoding:qf}=db(pa,c);c=[...Bf,...Wd];pa="raw"!==hb?[]:Rf;h=V(Cd,Ab,qf,Hf);return{transform:[...null!==(r=I.transform)&&void 0!==r?r:[],...Ue,...qe,...0===c.length?[]:[{aggregate:c,groupby:pa}],...Le],groupby:pa,continuousAxisChannelDef:Ab,continuousAxis:Tc,encodingWithoutContinuousAxis:qf,ticksOrient:"vertical"===Ya?"horizontal":"vertical",
markDef:da,outerSpec:I,tooltipEncoding:h}}function cd(h,F){({config:F}=F);h=Object.assign({},h,{encoding:ub(h.encoding,F)});const {transform:c,continuousAxisChannelDef:r,continuousAxis:I,encodingWithoutContinuousAxis:da,markDef:pa,outerSpec:ya,tooltipEncoding:Ya}=Nd(h,"errorband",F);F=La(pa,I,r,da,F.errorband);h=void 0!==h.encoding.x&&void 0!==h.encoding.y;let hb={type:h?"area":"rect"},Ab={type:h?"line":"rule"};const Gb=Object.assign({},pa.interpolate?{interpolate:pa.interpolate}:{},pa.tension&&pa.interpolate?
{tension:pa.tension}:{});h?(hb=Object.assign({},hb,Gb,{ariaRoleDescription:"errorband"}),Ab=Object.assign({},Ab,Gb,{aria:!1})):pa.interpolate?Eb(Bb("interpolate")):pa.tension&&Eb(Bb("tension"));return Object.assign({},ya,{transform:c,layer:[...F({partName:"band",mark:hb,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:Ya}),...F({partName:"borders",mark:Ab,positionPrefix:"lower",extraEncoding:Ya}),...F({partName:"borders",mark:Ab,positionPrefix:"upper",extraEncoding:Ya})]})}function pd(h,
F,c){F=new Vi(h,F);Bk[h]={normalizer:F,parts:c}}function Xc(h){const F=[];for(const I of h||[]){var c=I,r=Object.assign({},c);h=c.expr;c=c.bind;r=(delete r.expr,delete r.bind,r);c&&h?(h=Object.assign({},r,{bind:c,init:h}),F.push(h)):(h=Object.assign({},r,h?{update:h}:{},c?{bind:c}:{}),F.push(h))}return F}function Ce(h){return!!h&&("legend"===h||!!h.legend)}function Sa(h){return Ce(h)&&v(h)}function jb(h,F){const c={};for(const r of Kl)h&&void 0!==h[r]&&(c[r]=vd(h[r]));F&&(c.params=h.params);return c}
function tb(h){return v(h)&&void 0!==h.step}function Fb(h){return h.view||h.width||h.height}function Ub(h,F,c){const r={},{spacing:I,columns:da}=c[F];void 0!==I&&(r.spacing=I);void 0!==da&&("facet"in h&&!ta(h.facet)||"concat"in h)&&(r.columns=da);"vconcat"in h&&(r.columns=1);for(const Ya of Ll)if(void 0!==h[Ya])if("spacing"===Ya){var pa,ya;F=h[Ya];r[Ya]=a(F)?F:{row:null!==(pa=F.row)&&void 0!==pa?pa:I,column:null!==(ya=F.column)&&void 0!==ya?ya:I}}else r[Ya]=h[Ya];return r}function Ac(h,F){var c;return null!==
(c=h[F])&&void 0!==c?c:h["width"===F?"continuousWidth":"continuousHeight"]}function q(h,F){h=O(h,F);return tb(h)?h.step:20}function O(h,F){var c;F=null!==(c=h[F])&&void 0!==c?c:h["width"===F?"discreteWidth":"discreteHeight"];return za(F,{step:h.step})}function ja(h){var F=xd(h||{});const c={};for(const r of F)F=h[r],c[r]=oa(F)?Yd(F):vd(F);return c}function Ja(h){h=void 0===h?{}:h;var F=Object.assign({},h),c=h.color,r=h.font;h=h.fontSize;F=(delete F.color,delete F.font,delete F.fontSize,F);r=r?{text:{font:r},
style:{"guide-label":{font:r},"guide-title":{font:r},"group-title":{font:r},"group-subtitle":{font:r}}}:{};c?(c=void 0===c?{}:c,c={signals:[{name:"color",value:v(c)?Object.assign({},Ck,c):Ck}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},
axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}):c={};h=h?{signals:[{name:"fontSize",value:v(h)?Object.assign({},Dk,h):Dk}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},
"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}:{};h=t({},Ml,r,c,h,F||{});F=K(h,Nl);for(var I of["background","lineBreak","padding"])h[I]&&(F[I]=vd(h[I]));for(var da of Ek)h[da]&&(F[da]=Je(h[da]));for(var pa of Fk)h[pa]&&(F[pa]=ja(h[pa]));for(const Ya of Gk)h[Ya]&&(F[Ya]=Je(h[Ya]));h.legend&&(F.legend=Je(h.legend));h.scale&&(F.scale=Je(h.scale));if(h.style){I=h.style;da=
xd(I);pa={};for(ya of da)pa[ya]=ja(I[ya]);var ya=pa;F.style=ya}h.title&&(F.title=Je(h.title));h.view&&(F.view=Je(h.view));return F}function cb(h){h=Te(h);for(var F of Ol)delete h[F];if(h.axis)for(var c in h.axis)oa(h.axis[c])&&delete h.axis[c];if(h.legend)for(var r of Pl)delete h.legend[r];if(h.mark){for(var I of Hk)delete h.mark[I];h.mark.tooltip&&v(h.mark.tooltip)&&delete h.mark.tooltip}h.params&&(h.signals=(h.signals||[]).concat(Xc(h.params)),delete h.params);for(var da of Ql){for(const Ya of Hk)delete h[da][Ya];
if(F=Rl[da])for(const Ya of F)delete h[da][Ya];c=F=void 0;r=h;I=da;var pa=void 0,ya=r[I];"view"===I&&(pa="cell");ya=Object.assign({},ya,r.style[null!==(c=pa)&&void 0!==c?c:I]);N(ya)||(r.style[null!==(F=pa)&&void 0!==F?F:I]=ya);delete r[I]}for(const Ya of xd(Bk))delete h[Ya];{da=h;const {titleMarkConfig:Ya,subtitleMarkConfig:hb,subtitle:Ab}=ud(da.title);N(Ya)||(da.style["group-title"]=Object.assign({},da.style["group-title"],Ya));N(hb)||(da.style["group-subtitle"]=Object.assign({},da.style["group-subtitle"],
hb));N(Ab)?delete da.title:da.title=Ab}for(const Ya in h)v(h[Ya])&&N(h[Ya])&&delete h[Ya];return N(h)?void 0:h}function fb(h,F){const c="x"===F?"y":"radius";var r=h[F];h=h[c];if(Vb(r)&&Vb(h))if("quantitative"===Gc(r)&&"quantitative"===Gc(h)){if(r.stack)return F;if(h.stack)return c;const pa=Vb(r)&&!!r.aggregate,ya=Vb(h)&&!!h.aggregate;if(pa!==ya)return pa?F:c;var I,da;r=null===(I=r.scale)||void 0===I?void 0:I.type;I=null===(da=h.scale)||void 0===da?void 0:da.type;if(r&&"linear"!==r)return c;if(I&&
"linear"!==I)return F}else{if("quantitative"===Gc(r))return F;if("quantitative"===Gc(h))return c}else{if("quantitative"===Gc(r))return F;if("quantitative"===Gc(h))return c}}function nb(h){switch(h){case "x":return"y";case "y":return"x";case "theta":return"radius";case "radius":return"theta"}}function Kb(h,F,c){c=void 0===c?{}:c;h=zd(h)?h.type:h;if(!Sl.has(h))return null;const r=fb(F,"x")||fb(F,"theta");if(!r)return null;const I=F[r];var da=Vb(I)?Yc(I,{}):void 0;let pa=nb(r),ya=F[pa],Ya=Vb(ya)?Yc(ya,
{}):void 0;Ya===da&&(pa=ya=Ya=void 0);da=Tl.reduce((Ab,Gb)=>{if("tooltip"!==Gb&&Oa(F,Gb)){var cc=F[Gb];for(const Jc of d(cc)){cc=Pe(Jc);if(cc.aggregate)continue;const Tc=Yc(cc,{});Tc&&Tc===Ya||Ab.push({channel:Gb,fieldDef:cc})}}return Ab},[]);let hb;void 0!==I.stack?hb=f(I.stack)?I.stack?"zero":null:I.stack:0<da.length&&Ul.has(h)&&(hb="zero");if(!(hb&&hb in Vl)||bb(F)&&0===da.length)return null;if(I.scale&&I.scale.type&&I.scale.type!==Vf.LINEAR){if(c.disallowNonLinearStack)return null;Eb("Cannot stack non-linear scale (".concat(I.scale.type,
")."))}if(dd(F[Ea(r)]))return void 0!==I.stack&&Eb(ab(r)),null;Vb(I)&&I.aggregate&&!E(Wl,I.aggregate)&&Eb('Stacking is applied even though the aggregate function is non-summative ("'.concat(I.aggregate,'").'));return{groupbyChannel:ya?pa:void 0,groupbyField:Ya,fieldChannel:r,impute:null===I.impute?!1:fe(h),stackBy:da,offset:hb}}function Yb(h){h=Object.assign({},h);h=(delete h.point,delete h.line,h);return 1<xd(h).length?h:h.type}function Ob(h){for(const F of["line","area","rule","trail"])h[F]&&(h=
Object.assign({},h,{[F]:K(h[F],["point","line"])}));return h}function Fc(h,F,c){F=void 0===F?{}:F;if("transparent"===h.point)return{opacity:0};if(h.point)return v(h.point)?h.point:{};if(void 0!==h.point)return null;if(F.point||c.shape)return v(F.point)?F.point:{}}function Rc(h,F){F=void 0===F?{}:F;if(h.line)return!0===h.line?{}:h.line;if(void 0!==h.line)return null;if(F.line)return!0===F.line?{}:F.line}function md(h,F){return F?Pd(h,F):h}function ed(h,F,c){const r=F[h];if(r&&!e(r)&&"repeat"in r){if(r.repeat in
c)return Object.assign({},F,{[h]:c[r.repeat]});Eb('Unknown repeated value "'.concat(r.repeat,'".'))}else return F}function Wc(h,F){h=ed("field",h,F);if(void 0!==h){if(null===h)return null;"sort"in h&&Zd(h.sort)&&(F=ed("field",h.sort,F),h=Object.assign({},h,F?{sort:F}:{}));return h}}function Dc(h,F){if(Vb(h))return Wc(h,F);F=ed("datum",h,F);F===h||F.type||(F.type="nominal");return F}function ld(h,F){if(dd(h)){if(F=Dc(h,F))return F;if(h&&"condition"in h)return{condition:h.condition}}else{if(Rb(h)){if(F=
Dc(h.condition,F))return Object.assign({},h,{condition:F});h=Object.assign({},h);return delete h.condition,h}return h}}function Pd(h,F){const c={};for(const I in h)if(Yh.call(h,I)){var r=h[I];le(r)?c[I]=r.map(da=>ld(da,F)).filter(da=>da):(r=ld(r,F),void 0!==r&&(c[I]=r))}return c}function Ld(h){var {parentEncoding:F,encoding:c={},layer:r}=h;h={};if(F){var I=new Set([...xd(F),...xd(c)]);for(const da of I){I=c[da];const pa=F[da];if(dd(I))I=Object.assign({},pa,I),h[da]=I;else if(Rb(I))h[da]=Object.assign({},
I,{condition:Object.assign({},pa,I.condition)});else if(I||null===I)h[da]=I;else if(r||$c(pa)||vc(pa)||dd(pa)||le(pa))h[da]=pa}}else h=c;return!h||N(h)?void 0:h}function ee(h){const {parentProjection:F,projection:c}=h;if(F&&c){{const {parentProjection:r,projection:I}={parentProjection:F,projection:c};h="Layer's shared projection ".concat(Of(r)," is overridden by a child projection ").concat(Of(I),".")}Eb(h)}return null!==c&&void 0!==c?c:F}function be(h,F){void 0===F&&(F=Ja(h.config));var c=F;c=void 0===
c?{}:c;c=Xl.map(h,{config:c});const {width:r,height:I}=h;{let {width:da,height:pa}={width:r,height:I,autosize:h.autosize};h=Ka(c)||"layer"in c;const ya={};h?"container"==da&&"container"==pa?(ya.type="fit",ya.contains="padding"):"container"==da?(ya.type="fit-x",ya.contains="padding"):"container"==pa&&(ya.type="fit-y",ya.contains="padding"):("container"==da&&(Eb(jc("width")),da=void 0),"container"==pa&&(Eb(jc("height")),pa=void 0));F=Object.assign({},{type:"pad"},ya,F?nf(F.autosize):{},nf(c.autosize));
"fit"!==F.type||h||(Eb('Autosize "fit" only works for single views and layered views.'),F.type="pad");"container"==da&&"fit"!=F.type&&"fit-x"!=F.type&&Eb(Oc("width"));"container"==pa&&"fit"!=F.type&&"fit-y"!=F.type&&Eb(Oc("height"));h=Zh(F,{type:"pad"})?void 0:F}return Object.assign({},c,h?{autosize:h}:{})}function nf(h){return e(h)?{type:h}:null!==h&&void 0!==h?h:{}}function Rd(h){return{explicit:!0,value:h}}function Vd(h){return{explicit:!1,value:h}}function se(h){return(F,c,r,I)=>{const da=h(F.value,
c.value);return 0<da?F:0>da?c:kd(F,c,r,I)}}function kd(h,F,c,r){if(h.explicit&&F.explicit){var I=h.value;F=F.value;c="Conflicting ".concat(r.toString(),' property "').concat(c.toString(),'" (').concat(Of(I)," and ").concat(Of(F),"). Using ").concat(Of(I),".");Eb(c)}return h}function te(h,F,c,r,I){I=void 0===I?kd:I;return void 0===h||void 0===h.value?F:h.explicit&&!F.explicit?h:F.explicit&&!h.explicit?F:Zh(h.value,F.value)?h:I(h,F,c,r)}function Gf(h){return"name"in h&&!("url"in h)&&!("values"in h)&&
!Ae(h)}function Ae(h){return h&&("sequence"in h||"sphere"in h||"graticule"in h)}function uf(h){return h.map(F=>"filter"in F?{filter:B(F.filter,Id)}:F)}function Ze(h,F,c){Ik=F||"view";Jk=c||Yl;return hf(h.trim()).map(Df)}function Ve(h,F,c,r,I){const da=h.length;let pa=0,ya;for(;F<da;++F)if(ya=h[F],pa||ya!==c)I&&0<=I.indexOf(ya)?--pa:r&&0<=r.indexOf(ya)&&++pa;else break;return F}function hf(h){const F=[],c=h.length;let r=0,I=0;for(;I<c;)I=Ve(h,I,",","[{","]}"),F.push(h.substring(r,I).trim()),r=++I;
if(0===F.length)throw"Empty event selector: "+h;return F}function Df(h){if("["===h[0]){var F=h;var c=F.length;h=Ve(F,1,"]","[","]");if(h===c)throw"Empty between selector: "+F;c=hf(F.substring(1,h));if(2!==c.length)throw"Between selector must have two elements: "+F;F=F.slice(h+1).trim();if("\x3e"!==F[0])throw"Expected '\x3e' after between selector: "+F;c=c.map(Df);F=Df(F.slice(1).trim());F.between?F={between:c,stream:F}:F.between=c}else{{c={source:Ik};const r=[];let I=[0,0],da=0,pa=0,ya=h.length,Ya=
0,hb;if("}"===h[ya-1]){Ya=h.lastIndexOf("{");if(0<=Ya){try{I=Zf(h.substring(Ya+1,ya-1))}catch(Ab){throw"Invalid throttle specification: "+h;}h=h.slice(0,Ya).trim();ya=h.length}else throw"Unmatched right brace: "+h;Ya=0}if(!ya)throw h;"@"===h[0]&&(da=++Ya);hb=Ve(h,Ya,":");hb<ya&&(r.push(h.substring(pa,hb).trim()),pa=Ya=++hb);Ya=Ve(h,Ya,"[");if(Ya===ya)r.push(h.substring(pa,ya).trim());else if(r.push(h.substring(pa,Ya).trim()),F=[],pa=++Ya,pa===ya)throw"Unmatched left bracket: "+h;for(;Ya<ya;){Ya=Ve(h,
Ya,"]");if(Ya===ya)throw"Unmatched left bracket: "+h;F.push(h.substring(pa,Ya).trim());if(Ya<ya-1&&"["!==h[++Ya])throw"Expected left bracket: "+h;pa=++Ya}if(!(ya=r.length)||Zl.test(r[ya-1]))throw"Invalid event selector: "+h;1<ya?(c.type=r[1],da?c.markname=r[0].slice(1):Jk[r[0]]?c.marktype=r[0]:c.source=r[0]):c.type=r[0];"!"===c.type.slice(-1)&&(c.consume=!0,c.type=c.type.slice(0,-1));null!=F&&(c.filter=F);I[0]&&(c.throttle=I[0]);I[1]&&(c.debounce=I[1]);F=c}}return F}function Zf(h){const F=h.split(",");
if(!h.length||2<F.length)throw h;return F.map(c=>{c=+c;if(c!==c)throw h;return c})}function tg(h,F,c,r){var I=!!F&&"condition"in F&&F.condition;F=r(F);return I?(I=d(I).map(da=>{const pa=r(da);da=da.selection?Wi(h,da.selection):dh(h,da.test);return Object.assign({},{test:da},pa)}),{[c]:[...I,...void 0!==F?[F]:[]]}):void 0!==F?{[c]:F}:{}}function Dh(h,F){F=void 0===F?"text":F;return tg(h,h.encoding[F],F,c=>eh(c,h.config))}function eh(h,F,c){c=void 0===c?"datum":c;if(h){if($c(h))return Kd(h.value);if(dd(h)){const {format:r,
formatType:I}=df(h);return oe({fieldOrDatumDef:h,format:r,formatType:I,expr:c,config:F})}}}function Xi(h,F){F=void 0===F?{}:F;const {encoding:c,markDef:r,config:I,stack:da}=h,pa=c.tooltip;if(le(pa))return{tooltip:vi({tooltip:pa},da,I,F)};{const ya=F.reactiveGeom?"datum.datum":"datum";return tg(h,pa,"tooltip",Ya=>{const hb=eh(Ya,I,ya);if(hb)return hb;if(null!==Ya){Ya=$d("tooltip",r,I);!0===Ya&&(Ya={content:"encoding"});if(e(Ya))return{value:Ya};if(v(Ya))return vc(Ya)?Ya:"encoding"===Ya.content?vi(c,
da,I,F):{signal:ya}}})}}function wi(h,F,c,r){function I(Ya,hb){var Ab,Gb=Da(hb);Ya=rd(Ya)?Ya:Object.assign({},Ya,{type:h[Gb].type});Gb=Ya.title||ti(Ya,c);Gb=d(Gb).join(", ");if(hb in cg){const Tc="x"===hb?"x2":"y2";var cc=Pe(h[Tc]);if(xc(Ya.bin)&&cc){var Jc=Yc(Ya,{expr:pa});cc=Yc(cc,{expr:pa});const {format:bd,formatType:sd}=df(Ya);Jc=gf(Jc,cc,bd,sd,c);da[Tc]=!0}else if(F&&F.fieldChannel===hb&&"normalize"===F.offset){const {format:bd,formatType:sd}=df(Ya);Jc=oe({fieldOrDatumDef:Ya,format:bd,formatType:sd,
expr:pa,config:c,normalizeStack:!0}).signal}}Jc=null!==(Ab=Jc)&&void 0!==Ab?Ab:eh(Ya,c,pa).signal;ya.push({channel:hb,key:Gb,value:Jc})}({reactiveGeom:r}=void 0===r?{}:r);const da={},pa=r?"datum.datum":"datum",ya=[];Hb(h,(Ya,hb)=>{Vb(Ya)?I(Ya,hb):pb(Ya)&&I(Ya.condition,hb)});r={};for(const Ya of ya){const {channel:hb,key:Ab,value:Gb}=Ya;da[hb]||r[Ab]||(r[Ab]=Gb)}return r}function vi(h,F,c,r){({reactiveGeom:r}=void 0===r?{}:r);h=wi(h,F,c,{reactiveGeom:r});h=si(h).map(I=>{var [da,pa]=I;return'"'.concat(da,
'": ').concat(pa)});return 0<h.length?{signal:"{".concat(h.join(", "),"}")}:void 0}function $h(h){const {markDef:F,config:c}=h,r=$d("aria",F,c);return!1===r?{}:Object.assign({},r?{aria:r}:{},Eh(h),Yi(h))}function Eh(h){const {mark:F,markDef:c,config:r}=h;if(!1===r.aria)return{};h=$d("ariaRoleDescription",c,r);return null!=h?{ariaRoleDescription:{value:h}}:F in $l?{}:{ariaRoleDescription:{value:F}}}function Yi(h){const {encoding:F,markDef:c,config:r,stack:I}=h;var da=F.description;if(da)return tg(h,
da,"description",pa=>eh(pa,h.config));da=$d("description",c,r);if(null!=da)return{description:Kd(da)};if(!1===r.aria)return{};da=wi(F,I,r);if(!N(da))return{description:{signal:si(da).map((pa,ya)=>{var [Ya,hb]=pa;return'"'.concat(0<ya?"; ":"").concat(Ya,': " + (').concat(hb,")")}).join(" + ")}}}function Tf(h,F,c){c=void 0===c?{}:c;const {markDef:r,encoding:I,config:da}=F,{vgChannel:pa}=c;let {defaultRef:ya,defaultValue:Ya}=c;if(void 0===ya){var hb;Ya=null!==(hb=Ya)&&void 0!==hb?hb:$d(h,r,da,{vgChannel:pa,
ignoreVgConfig:!0});void 0!==Ya&&(ya=Kd(Ya))}return tg(F,I[h],null!==pa&&void 0!==pa?pa:h,Ab=>Ge({channel:h,channelDef:Ab,markDef:r,config:da,scaleName:F.scaleName(h),scale:F.getScaleComponent(h),stack:null,defaultRef:ya}))}function Zi(h,F){F=void 0===F?{filled:void 0}:F;var c,r,I,da;const {markDef:pa,encoding:ya,config:Ya}=h,{type:hb}=pa;F=null!==(c=F.filled)&&void 0!==c?c:$d("filled",pa,Ya);c=E(["bar","point","circle","square","geoshape"],hb)?"transparent":void 0;c=null!==(r=null!==(I=$d(!0===F?
"color":void 0,pa,Ya,{vgChannel:"fill"}))&&void 0!==I?I:Ya.mark[!0===F&&"color"])&&void 0!==r?r:c;r=null!==(da=$d(!1===F?"color":void 0,pa,Ya,{vgChannel:"stroke"}))&&void 0!==da?da:Ya.mark[!1===F&&"color"];da=F?"fill":"stroke";I=Object.assign({},c?{fill:Kd(c)}:{},r?{stroke:Kd(r)}:{});pa.color&&(F?pa.fill:pa.stroke)&&Eb(Zb("property",{fill:"fill"in pa,stroke:"stroke"in pa}));return Object.assign({},I,Tf("color",h,{vgChannel:da,defaultValue:F?c:r}),Tf("fill",h,{defaultValue:ya.fill?c:void 0}),Tf("stroke",
h,{defaultValue:ya.stroke?r:void 0}))}function $i(h){const {encoding:F,mark:c}=h,r=F.order;return!fe(c)&&$c(r)?tg(h,r,"zindex",I=>Kd(I.value)):{}}function Fh(h,F){h=eb(h);if(F=F[h])return F}function Xf(h,F,c){var {defaultPos:r,vgChannel:I,isMidPoint:da}=c;const {encoding:pa,markDef:ya,config:Ya,stack:hb}=F;c=pa[h];const Ab=pa[Ea(h)],Gb=F.scaleName(h),cc=F.getScaleComponent(h),Jc=Fh(h,ya),Tc=ai({model:F,defaultPos:r,channel:h,scaleName:Gb,scale:cc});if(!c&&h in cg&&(pa.latitude||pa.longitude))F={field:F.getName(h)};
else a:{F={channel:h,channelDef:c,channel2Def:Ab,markDef:ya,config:Ya,isMidPoint:da,scaleName:Gb,scale:cc,stack:hb,offset:Jc,defaultRef:Tc};const {channel:bd,channelDef:sd,isMidPoint:yd,scaleName:he,stack:Oe,offset:Wd,markDef:Le,config:Cd}=F;if(dd(sd)&&Oe&&bd===Oe.fieldChannel){if(Vb(sd)&&(F=Va({channel:bd,fieldDef:sd,isMidPoint:yd,markDef:Le,stack:Oe,config:Cd}),void 0!==F)){F=Hd({scaleName:he,fieldOrDatumDef:sd,startSuffix:"start",band:F,offset:Wd});break a}F=me(sd,he,{suffix:"end"},{offset:Wd})}else F=
Gd(F)}return F?{[I||h]:F}:void 0}function ai(h){var {model:F,defaultPos:c,channel:r,scaleName:I,scale:da}=h;const {markDef:pa,config:ya}=F;return()=>{var Ya=Da(r),hb=ma(r);hb=$d(r,pa,ya,{vgChannel:hb});if(void 0!==hb)return rf(r,hb);switch(c){case "zeroOrMin":case "zeroOrMax":if(I&&(hb=da.get("type"),!E([Vf.LOG,Vf.TIME,Vf.UTC],hb)&&da.domainDefinitelyIncludesZero()))return{scale:I,value:0};if("zeroOrMin"===c)return"y"===Ya?{field:{group:"height"}}:{value:0};switch(Ya){case "radius":return{signal:"min(".concat(F.width.signal,
",").concat(F.height.signal,")/2")};case "theta":return{signal:"2*PI"};case "x":return{field:{group:"width"}};case "y":return{value:0}}break;case "mid":return Ya=F[Qa(r)],Object.assign({},Ya,{mult:.5})}}}function aj(h,F,c,r){r=void 0===r?"middle":r;if("radius"===h||"theta"===h)return ma(h);var I="x"===h?"align":"baseline";F=$d(I,F,c);vc(F)?(Eb("The ".concat(I," for range marks cannot be an expression")),I=void 0):I=F;return"x"===h?am[I||("top"===r?"left":"center")]:bm[I||r]}function Gh(h,F,c){var {defaultPos:r,
defaultPos2:I,range:da}=c;return da?bj(h,F,{defaultPos:r,defaultPos2:I}):Xf(h,F,{defaultPos:r})}function bj(h,F,c){var {defaultPos:r,defaultPos2:I}=c;const {markDef:da,config:pa}=F;var ya=Ea(h);c=Qa(h);{const {encoding:Wd,mark:Le,markDef:Cd,stack:Hf,config:Ue}=F;var Ya=Da(ya);const qe=Qa(ya),Bf=ma(ya);var hb=Wd[Ya];const Rf=F.scaleName(Ya),qf=F.getScaleComponent(Ya);Ya=ya in Wd||ya in Cd?Fh(ya,F.markDef):Fh(Ya,F.markDef);if(hb||"x2"!==ya&&"y2"!==ya||!Wd.latitude&&!Wd.longitude){var {channel:Ab,channelDef:Gb,
channel2Def:cc,markDef:Jc,config:Tc,scaleName:bd,scale:sd,stack:yd,offset:he,defaultRef:Oe}={channel:ya,channelDef:hb,channel2Def:Wd[ya],markDef:Cd,config:Ue,scaleName:Rf,scale:qf,stack:Hf,offset:Ya,defaultRef:void 0};hb=dd(Gb)&&yd&&Ab.charAt(0)===yd.fieldChannel.charAt(0)?me(Gb,bd,{suffix:"start"},{offset:he}):Gd({channel:Ab,channelDef:cc,scaleName:bd,scale:sd,stack:yd,markDef:Jc,config:Tc,offset:he,defaultRef:Oe});ya=void 0!==hb?{[Bf]:hb}:bi(ya,Cd)||bi(ya,{[ya]:Se(ya,Cd,Ue.style),[qe]:Se(qe,Cd,
Ue.style)})||bi(ya,Ue[Le])||bi(ya,Ue.mark)||{[Bf]:ai({model:F,defaultPos:I,channel:ya,scaleName:Rf,scale:qf})()}}else ya={[Bf]:{field:F.getName(ya)}}}c=ya[c]?aj(h,da,pa):ma(h);return Object.assign({},Xf(h,F,{defaultPos:r,vgChannel:c}),ya)}function bi(h,F){const c=Qa(h),r=ma(h);if(void 0!==F[r])return{[r]:rf(h,F[r])};if(void 0!==F[h])return{[r]:rf(h,F[h])};if(F[c])return{[c]:rf(h,F[c])}}function Ig(h,F,c){var r,I;const {config:da,encoding:pa,markDef:ya,stack:Ya}=h;var hb=Ea(F),Ab=Qa(F),Gb=pa[F];hb=
pa[hb];var cc=h.getScaleComponent(F),Jc=cc?cc.get("type"):void 0,Tc=h.scaleName(F);const bd=ya.orient;Ab=null!==(r=null!==(I=pa[Ab])&&void 0!==I?I:pa.size)&&void 0!==r?r:$d("size",ya,da,{vgChannel:Ab});r="bar"===c&&("x"===F?"vertical"===bd:"horizontal"===bd);if(Vb(Gb)&&(ic(Gb.bin)||xc(Gb.bin)||Gb.timeUnit&&!hb)&&!Ab&&!(Jc in og)){var sd,yd;c=Va({channel:F,fieldDef:Gb,stack:Ya,markDef:ya,config:da});h=null===(sd=h.component.axes[F])||void 0===sd?void 0:sd[0];h=null!==(yd=null===h||void 0===h?void 0:
h.get("translate"))&&void 0!==yd?yd:.5;a:{F={fieldDef:Gb,fieldDef2:hb,channel:F,markDef:ya,scaleName:Tc,band:c,axisTranslate:h,spacing:F in cg?$d("binSpacing",ya,da):void 0,reverse:cc.get("reverse"),config:da};var {fieldDef:he,fieldDef2:Oe,channel:Wd,band:Le,scaleName:Cd,markDef:Hf,spacing:Ue=0,axisTranslate:qe,reverse:Bf,config:Rf}=F;F=Ea(Wd);Gb=ma(Wd);h=ma(F);c=Fh(Wd,Hf);if(ic(he.bin)||he.timeUnit)F={[h]:cj({channel:Wd,fieldDef:he,scaleName:Cd,markDef:Hf,band:(1-Le)/2,offset:fh(F,Ue,Bf,qe,c),config:Rf}),
[Gb]:cj({channel:Wd,fieldDef:he,scaleName:Cd,markDef:Hf,band:1-(1-Le)/2,offset:fh(Wd,Ue,Bf,qe,c),config:Rf})};else{if(xc(he.bin)){var qf=me(he,Cd,{},{offset:fh(F,Ue,Bf,qe,c)});if(Vb(Oe)){F={[h]:qf,[Gb]:me(Oe,Cd,{},{offset:fh(Wd,Ue,Bf,qe,c)})};break a}if(v(he.bin)&&he.bin.step){F={[h]:qf,[Gb]:{signal:'scale("'.concat(Cd,'", ').concat(Yc(he,{expr:"datum"})," + ").concat(he.bin.step,")"),offset:fh(Wd,Ue,Bf,qe,c)}};break a}}Eb(Tb(F));F=void 0}}return F}if((dd(Gb)&&Jc in og||r)&&!hb){{var Sf;const {markDef:Mf,
encoding:Oj,config:ch,stack:ui}=h;sd=Mf.orient;cc=h.scaleName(F);Tc=h.getScaleComponent(F);yd=Qa(F);hb=Ea(F);sd="horizontal"===sd&&"y"===F||"vertical"===sd&&"x"===F;r=$d(sd?"size":yd,Mf,ch,{vgChannel:yd});if(Oj.size||void 0!==r)sd?qf=Tf("size",h,{vgChannel:yd,defaultValue:r}):Eb('Cannot apply size to non-oriented mark "'.concat(Mf.type,'".'));sd=null!==(Sf=dd(Gb)?Va({channel:F,fieldDef:Gb,markDef:Mf,stack:ui,config:ch}):void 0)&&void 0!==Sf?Sf:1;qf||(Jc=yd,Sf=cc,r=Tc,qf=ch,I=sd,r?(Jc=r.get("type"),
"point"===Jc||"band"===Jc?void 0!==qf[c].discreteBandSize?c={value:qf[c].discreteBandSize}:Jc===Vf.POINT?(c=r.get("range"),c=mc(c)&&a(c.step)?{value:c.step-2}:{value:18}):c={scale:Sf,band:I}:c={value:qf[c].continuousBandSize}):(Sf=q(qf.view,Jc),c=za(qf[c].discreteBandSize,Sf-2),c=void 0!==c?{value:c}:void 0),qf={[yd]:c});r="band"!==(null===Tc||void 0===Tc?void 0:Tc.get("type"))||!("band"in qf[yd]);c=aj(F,Mf,ch,r?"middle":"top");Sf=Fh(F,Mf);F=Gd({channel:F,channelDef:Gb,markDef:Mf,config:ch,scaleName:cc,
scale:Tc,stack:ui,offset:Sf,defaultRef:ai({model:h,defaultPos:"mid",channel:F,scaleName:cc,scale:Tc}),band:r?.5:(1-sd)/2});yd?F=Object.assign({},{[c]:F},qf):(Gb=ma(hb),h=qf[yd],h=Sf?Object.assign({},h,{offset:Sf}):h,F={[c]:F,[Gb]:le(F)?[F[0],Object.assign({},F[1],{offset:h})]:Object.assign({},F,{offset:h})})}return F}return bj(F,h,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function fh(h,F,c,r,I){if(h in Kj)return 0;h="x"===h||"y2"===h?-F/2:F/2;if(vc(c)||vc(I)||vc(r))return c=ge(c),I=ge(I),
r=(r=ge(r))?"".concat(r," + "):"",c=c?"(".concat(c," ? -1 : 1) * "):"",h=I?"(".concat(I," + ").concat(h,")"):h,{signal:r+c+h};I=I||0;return r+(c?-I-h:+I+h)}function cj(h){var {channel:F,fieldDef:c,scaleName:r,markDef:I,band:da,offset:pa,config:ya}=h;h=Hd({scaleName:r,fieldOrDatumDef:c,band:da,offset:pa});return ce({fieldDef:c,channel:F,markDef:I,ref:h,config:ya})}function pg(h,F){const {fill:c,stroke:r}="include"===F.color?Zi(h):{};return Object.assign({},dj(h.markDef,F),Hh(h,"fill",c),Hh(h,"stroke",
r),Tf("opacity",h),Tf("fillOpacity",h),Tf("strokeOpacity",h),Tf("strokeWidth",h),Tf("strokeDash",h),$i(h),Xi(h),Dh(h,"href"),$h(h))}function Hh(h,F,c){const {config:r,mark:I,markDef:da}=h;return"hide"===$d("invalid",da,r)&&c&&!fe(I)&&(h=ej(h,{invalid:!0,channels:fj}))?{[F]:[{test:h,value:null},...d(c)]}:c?{[F]:c}:{}}function dj(h,F){return cm.reduce((c,r)=>{dm.has(r)||void 0===h[r]||"ignore"===F[r]||(c[r]=Kd(h[r]));return c},{})}function ej(h,F){var {invalid:c=!1,channels:r}=F;F=r.reduce((I,da)=>
{var pa=h.getScaleComponent(da);pa&&(pa=pa.get("type"),(da=h.vgField(da,{expr:"datum"}))&&pa in xg&&(I[da]=!0));return I},{});F=xd(F);if(0<F.length){const I=c?"||":"\x26\x26";return F.map(da=>Re(da,c)).join(" ".concat(I," "))}}function xi(h){const {config:F,markDef:c}=h;return $d("invalid",c,F)&&(h=Pj(h,{channels:yg}))?{defined:{signal:h}}:{}}function Pj(h,F){var {invalid:c=!1,channels:r}=F;F=r.reduce((I,da)=>{var pa=h.getScaleComponent(da);pa&&(pa=pa.get("type"),(da=h.vgField(da,{expr:"datum"}))&&
pa in xg&&(I[da]=!0));return I},{});F=xd(F);if(0<F.length){const I=c?"||":"\x26\x26";return F.map(da=>Re(da,c)).join(" ".concat(I," "))}}function If(h,F){if(void 0!==F)return{[h]:Kd(F)}}function yi(h,F){h=n(h.scaleName(F));return"domain(".concat(h,")")}function Rg(h){var F;return h.parent&&ci(h.parent)&&(null!==(F=!h.parent.parent)&&void 0!==F?F:Rg(h.parent.parent))}function zi(h,F,c){var r;const I=null===(r=h.fieldDef(F))||void 0===r?void 0:r.field;Jg(h,da=>{var pa;const ya=null!==(pa=da.project.hasField[I])&&
void 0!==pa?pa:da.project.hasChannel[F];if(ya&&Kk.has(da)){var Ya;pa=null!==(Ya=c.get("selections"))&&void 0!==Ya?Ya:[];pa.push(da.name);c.set("selections",pa,!1);ya.hasLegend=!0}})}function Ai(h,F,c,r,I){var da,pa=F.name,ya=pa+"_translate_anchor";pa+="_translate_delta";var Ya=c.channel;const hb=gh.has(F);F=I.filter(Gb=>Gb.name===c.signals[hb?"data":"visual"])[0];r=h.getSizeSignalRef(r).signal;h=h.getScaleComponent(Ya);I=h.get("type");const Ab=hb&&"x"===Ya?"-":"";ya="".concat(ya,".extent_").concat(Ya);
Ya="".concat(Ab).concat(pa,".").concat(Ya," / ")+(hb?"".concat(r):"span(".concat(ya,")"));ya="".concat(hb?"log"===I?"panLog":"pow"===I?"panPow":"panLinear":"panLinear","(").concat(ya,", ").concat(Ya)+(hb&&"pow"===I?", ".concat(null!==(da=h.get("exponent"))&&void 0!==da?da:1):"")+")";F.on.push({events:{signal:pa},update:hb?ya:"clampRange(".concat(ya,", 0, ").concat(r,")")})}function Bi(h,F,c,r,I){var da,pa=F.name;const ya=c.channel,Ya=gh.has(F);F=I.filter(Gb=>Gb.name===c.signals[Ya?"data":"visual"])[0];
r=h.getSizeSignalRef(r).signal;I=h.getScaleComponent(ya);const hb=I.get("type"),Ab=Ya?yi(h,ya):F.name;h=pa+"_zoom_delta";pa="".concat(pa).concat("_zoom_anchor",".").concat(ya);pa="".concat(Ya?"log"===hb?"zoomLog":"pow"===hb?"zoomPow":"zoomLinear":"zoomLinear","(").concat(Ab,", ").concat(pa,", ").concat(h)+(Ya&&"pow"===hb?", ".concat(null!==(da=I.get("exponent"))&&void 0!==da?da:1):"")+")";F.on.push({events:{signal:h},update:Ya?pa:"clampRange(".concat(pa,", 0, ").concat(r,")")})}function Ih(h,F){for(const c of em)c.has(h)&&
F(c)}function Sg(h,F,c){F=void 0===F?!0:F;c=void 0===c?fm:c;return le(h)?(h=h.map(r=>Sg(r,F,c)),F?"[".concat(h.join(", "),"]"):h):rc(h)?F?c(Nb(h)):c(ec(h)):F?c(JSON.stringify(h)):h}function gj(h,F){Jg(h,(c,r)=>{const I=c.name;let da=r.modifyExpr(h,c);F.push(...r.signals(h,c));Ih(c,pa=>{pa.signals&&(F=pa.signals(h,c,F));pa.modifyExpr&&(da=pa.modifyExpr(h,c,da))});F.push({name:I+"_modify",on:[{events:{signal:c.name+"_tuple"},update:"modify(".concat(n(c.name+"_store"),", ").concat(da,")")}]})});return Ci(F)}
function Di(h,F){h.component.selection&&xd(h.component.selection).length&&(h=n(h.getName("cell")),F.unshift({name:"facet",value:{},on:[{events:Ze("mousemove","scope"),update:"isTuple(facet) ? facet : group(".concat(h,").datum")}]}));return Ci(F)}function hj(h,F){let c=!1;Jg(h,(r,I)=>{const da=r.name,pa=n(da+"_store");if(0===F.filter(ya=>ya.name===da).length){const ya="global"===r.resolve?"union":r.resolve,Ya="multi"===r.type?", true)":")";F.push({name:r.name,update:"".concat("vlSelectionResolve",
"(").concat(pa,", ").concat(n(ya)).concat(Ya)})}c=!0;I.topLevelSignals&&(F=I.topLevelSignals(h,r,F));Ih(r,ya=>{ya.topLevelSignals&&(F=ya.topLevelSignals(h,r,F))})});c&&0===F.filter(r=>"unit"===r.name).length&&F.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]});return Ci(F)}function ij(h,F){const c=[...F];Jg(h,r=>{const I={name:r.name+"_store"};if(r.init){const da=r.project.items.map(ya=>{ya=Object.assign({},ya);return delete ya.signals,ya}),pa=r.init.map(ya=>
Sg(ya,!1));I.values="interval"===r.type?[{unit:Yf(h,{escape:!1}),fields:da,values:pa}]:pa.map(ya=>({unit:Yf(h,{escape:!1}),fields:da,values:ya}))}c.filter(da=>da.name===r.name+"_store").length||c.push(I)});return c}function jj(h,F){Jg(h,(c,r)=>{F=r.marks?r.marks(h,c,F):F;Ih(c,I=>{I.marks&&(F=I.marks(h,c,F))})});return F}function hh(h,F){for(const c of h.children)Qf(c)&&(F=jj(c,F));return F}function Ci(h){return h.map(F=>{F.on&&!F.on.length&&delete F.on;return F})}function di(h,F,c,r){const I=c.channel,
da=c.signals.visual;c=c.signals.data;const pa=gh.has(F),ya=n(h.scaleName(I));var Ya=h.getScaleComponent(I);Ya=Ya?Ya.get("type"):void 0;const hb=cc=>"scale(".concat(ya,", ").concat(cc,")"),Ab=h.getSizeSignalRef("x"===I?"width":"height").signal,Gb="".concat(I,"(unit)");h=kj(F,(cc,Jc)=>[...cc,{events:Jc.between[0],update:"[".concat(Gb,", ").concat(Gb,"]")},{events:Jc,update:"[".concat(da,"[0], clamp(").concat(Gb,", 0, ").concat(Ab,")]")}]);h.push({events:{signal:F.name+"_scale_trigger"},update:Ya in
xg?"[".concat(hb("".concat(c,"[0]")),", ").concat(hb("".concat(c,"[1]")),"]"):"[0, 0]"});return pa?[{name:c,on:[]}]:[Object.assign({},{name:da},r?{init:Sg(r,!0,hb)}:{value:[]},{on:h}),Object.assign({},{name:c},r?{init:Sg(r)}:{},{on:[{events:{signal:da},update:"".concat(da,"[0] \x3d\x3d\x3d ").concat(da,"[1] ? null : invert(").concat(ya,", ").concat(da,")")}]})]}function kj(h,F){return h.events.reduce((c,r)=>r.between?F(c,r):(Eb("".concat(r," is not an ordered event stream for interval selections.")),
c),[])}function $f(h,F){const c=F.name;var r=c+"_tuple_fields";const I=F.project.items.map(da=>{const pa=h.fieldDef(da.channel);return pa&&pa.bin?"[".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(n(h.vgField(da.channel,{})),"], ")+"".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(n(h.vgField(da.channel,{binSuffix:"end"})),"]]"):"".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(n(da.field),"]")}).join(", ");r="unit: ".concat(Yf(h),", fields: ").concat(r,
", values");F=F.events;return[{name:c+"_tuple",on:F?[{events:F,update:"datum \x26\x26 item().mark.marktype !\x3d\x3d 'group' ? {".concat(r,": [").concat(I,"]} : null"),force:!0}]:[]}]}function Jg(h,F){if(h=h.component.selection)for(const c of Tg(h))if(!0===F(c,gm[c.type]))break}function Yf(h,F){({escape:F}=void 0===F?{escape:!0}:F);F=F?n(h.name):h.name;for(h=h.parent;h&&!Gg(h);)h=h.parent;if(h){const {facet:c}=h;for(const r of zg)c[r]&&(F+=" + '__facet_".concat(r,"_' + (facet[").concat(n(h.vgField(r)),
"])"))}return F}function ei(h){let F=!1;Jg(h,c=>{F=F||c.project.items.some(r=>"_vgsid_"===r.field)});return F}function qg(h){this.type=h}function fi(h){switch(h.type){case "ArrayExpression":return h.elements;case "BinaryExpression":case "LogicalExpression":return[h.left,h.right];case "CallExpression":return[h.callee].concat(h.arguments);case "ConditionalExpression":return[h.test,h.consequent,h.alternate];case "MemberExpression":return[h.object,h.property];case "ObjectExpression":return h.properties;
case "Property":return[h.key,h.value];case "UnaryExpression":return[h.argument];default:return[]}}function $e(h,F){if(!h)throw Error("ASSERT: "+F);}function jf(h){return 48<=h&&57>=h}function Wf(h){return 0<="0123456789abcdefABCDEF".indexOf(h)}function Jh(h){return 0<="01234567".indexOf(h)}function Kg(h){return 10===h||13===h||8232===h||8233===h}function dg(h){return 36===h||95===h||65<=h&&90>=h||97<=h&&122>=h||92===h||128<=h&&hm.test(String.fromCharCode(h))}function Ug(h){return 36===h||95===h||
65<=h&&90>=h||97<=h&&122>=h||48<=h&&57>=h||92===h||128<=h&&im.test(String.fromCharCode(h))}function lj(){for(;id<gg;){const h=je.charCodeAt(id);if(32===h||9===h||11===h||12===h||160===h||5760<=h&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(h)||Kg(h))++id;else break}}function Ei(h){var F=0;var c="u"===h?4:2;for(h=0;h<c;++h)if(id<gg&&Wf(je[id])){var r=je[id++];F=16*F+"0123456789abcdef".indexOf(r.toLowerCase())}else We({},"Unexpected token %0",
"ILLEGAL");return String.fromCharCode(F)}function ih(){var h=je.charCodeAt(id++);var F=String.fromCharCode(h);92===h&&(117!==je.charCodeAt(id)&&We({},"Unexpected token %0","ILLEGAL"),++id,(h=Ei("u"))&&"\\"!==h&&dg(h.charCodeAt(0))||We({},"Unexpected token %0","ILLEGAL"),F=h);for(;id<gg;){h=je.charCodeAt(id);if(!Ug(h))break;++id;F+=String.fromCharCode(h);92===h&&(F=F.substr(0,F.length-1),117!==je.charCodeAt(id)&&We({},"Unexpected token %0","ILLEGAL"),++id,(h=Ei("u"))&&"\\"!==h&&Ug(h.charCodeAt(0))||
We({},"Unexpected token %0","ILLEGAL"),F+=h)}return F}function jh(){var h=id,F=je.charCodeAt(id),c=je[id];switch(F){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++id,{type:7,value:String.fromCharCode(F),start:h,end:id};default:var r=je.charCodeAt(id+1);if(61===r)switch(F){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return id+=2,{type:7,value:String.fromCharCode(F)+String.fromCharCode(r),start:h,end:id};
case 33:case 61:return id+=2,61===je.charCodeAt(id)&&++id,{type:7,value:je.slice(h,id),start:h,end:id}}}F=je.substr(id,4);if("\x3e\x3e\x3e\x3d"===F)return id+=4,{type:7,value:F,start:h,end:id};F=F.substr(0,3);if("\x3e\x3e\x3e"===F||"\x3c\x3c\x3d"===F||"\x3e\x3e\x3d"===F)return id+=3,{type:7,value:F,start:h,end:id};F=F.substr(0,2);if(c===F[1]&&0<="+-\x3c\x3e\x26|".indexOf(c)||"\x3d\x3e"===F)return id+=2,{type:7,value:F,start:h,end:id};if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(c))return++id,{type:7,
value:c,start:h,end:id};We({},"Unexpected token %0","ILLEGAL")}function kh(){var h=je[id];$e(jf(h.charCodeAt(0))||"."===h,"Numeric literal must start with a decimal digit or a decimal point");var F=id;var c="";if("."!==h){c=je[id++];h=je[id];if("0"===c){if("x"===h||"X"===h){++id;for(c="";id<gg&&Wf(je[id]);)c+=je[id++];0===c.length&&We({},"Unexpected token %0","ILLEGAL");dg(je.charCodeAt(id))&&We({},"Unexpected token %0","ILLEGAL");return F={type:6,value:parseInt("0x"+c,16),start:F,end:id}}if(Jh(h)){for(c=
"0"+je[id++];id<gg&&Jh(je[id]);)c+=je[id++];(dg(je.charCodeAt(id))||jf(je.charCodeAt(id)))&&We({},"Unexpected token %0","ILLEGAL");return F={type:6,value:parseInt(c,8),octal:!0,start:F,end:id}}h&&jf(h.charCodeAt(0))&&We({},"Unexpected token %0","ILLEGAL")}for(;jf(je.charCodeAt(id));)c+=je[id++];h=je[id]}if("."===h){for(c+=je[id++];jf(je.charCodeAt(id));)c+=je[id++];h=je[id]}if("e"===h||"E"===h){c+=je[id++];h=je[id];if("+"===h||"-"===h)c+=je[id++];if(jf(je.charCodeAt(id)))for(;jf(je.charCodeAt(id));)c+=
je[id++];else We({},"Unexpected token %0","ILLEGAL")}dg(je.charCodeAt(id))&&We({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(c),start:F,end:id}}function rg(h,F){let c=h;0<=F.indexOf("u")&&(c=c.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,I)=>{if(1114111>=parseInt(I,16))return"x";We({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(c)}catch(r){We({},"Invalid regular expression")}try{return new RegExp(h,F)}catch(r){return null}}function mj(){lj();
if(id>=gg)return{type:2,start:id,end:id};var h=je.charCodeAt(id);if(dg(h)){h=id;if(92===je.charCodeAt(id))var F=ih();else a:{for(F=id++;id<gg;){var c=je.charCodeAt(id);if(92===c){id=F;F=ih();break a}if(Ug(c))++id;else break}F=je.slice(F,id)}return{type:1===F.length?3:jm.hasOwnProperty(F)?4:"null"===F?5:"true"===F||"false"===F?1:3,value:F,start:h,end:id}}if(40===h||41===h||59===h)return jh();if(39===h||34===h){var r="";c=!1;h=je[id];$e("'"===h||'"'===h,"String literal must starts with a quote");F=
id;for(++id;id<gg;){var I=je[id++];if(I===h){h="";break}else if("\\"===I)if((I=je[id++])&&Kg(I.charCodeAt(0)))"\r"===I&&"\n"===je[id]&&++id;else switch(I){case "u":case "x":if("{"===je[id]){++id;var da=je[id];I=0;for("}"===da&&We({},"Unexpected token %0","ILLEGAL");id<gg;){da=je[id++];if(!Wf(da))break;I=16*I+"0123456789abcdef".indexOf(da.toLowerCase())}(1114111<I||"}"!==da)&&We({},"Unexpected token %0","ILLEGAL");I=65535>=I?String.fromCharCode(I):String.fromCharCode((I-65536>>10)+55296,(I-65536&1023)+
56320);r+=I}else r+=Ei(I);break;case "n":r+="\n";break;case "r":r+="\r";break;case "t":r+="\t";break;case "b":r+="\b";break;case "f":r+="\f";break;case "v":r+="\x0B";break;default:Jh(I)?(da="01234567".indexOf(I),0!==da&&(c=!0),id<gg&&Jh(je[id])&&(c=!0,da=8*da+"01234567".indexOf(je[id++]),0<="0123".indexOf(I)&&id<gg&&Jh(je[id])&&(da=8*da+"01234567".indexOf(je[id++]))),r+=String.fromCharCode(da)):r+=I}else if(Kg(I.charCodeAt(0)))break;else r+=I}""!==h&&We({},"Unexpected token %0","ILLEGAL");return{type:8,
value:r,octal:c,start:F,end:id}}return 46===h?jf(je.charCodeAt(id+1))?kh():jh():jf(h)?kh():jh()}function hg(){const h=vf;id=h.end;vf=mj();id=h.end;return h}function Lg(){const h=id;vf=mj();id=h}function Fi(h,F,c){const r=new qg("||"===h||"\x26\x26"===h?"LogicalExpression":"BinaryExpression");r.operator=h;r.left=F;r.right=c;return r}function Kh(h){const F=new qg("Identifier");F.name=h;return F}function ug(h){const F=new qg("Literal");F.value=h.value;F.raw=je.slice(h.start,h.end);h.regex&&("//"===F.raw&&
(F.raw="/(?:)/"),F.regex=h.regex);return F}function lh(h,F,c){const r=new qg("MemberExpression");r.computed="["===h;r.object=F;r.property=c;r.computed||(c.member=!0);return r}function mh(h,F,c){const r=new qg("Property");r.key=F;r.value=c;r.kind=h;return r}function We(h,F){var c=Array.prototype.slice.call(arguments,2),r=F.replace(/%(\d)/g,(da,pa)=>{$e(pa<c.length,"Message reference must be in range");return c[pa]});var I=Error(r);I.index=id;I.description=r;throw I;}function Vg(h){2===h.type&&We(h,
"Unexpected end of input");6===h.type&&We(h,"Unexpected number");8===h.type&&We(h,"Unexpected string");3===h.type&&We(h,"Unexpected identifier");4===h.type&&We(h,"Unexpected reserved word");We(h,"Unexpected token %0",h.value)}function Kf(h){const F=hg();7===F.type&&F.value===h||Vg(F)}function Ef(h){return 7===vf.type&&vf.value===h}function nh(){id=vf.start;const h=hg();return 8===h.type||6===h.type?(h.octal&&We(h,"Octal literals are not allowed in strict mode."),ug(h)):Kh(h.value)}function gi(){if(Ef("(")){Kf("(");
var h=oh();Kf(")");return h}if(Ef("[")){h=[];id=vf.start;for(Kf("[");!Ef("]");)Ef(",")?(hg(),h.push(null)):(h.push(Wg()),Ef("]")||Kf(","));hg();var F=new qg("ArrayExpression");F.elements=h;return h=F}if(Ef("{")){h=[];F={};var c=String;id=vf.start;for(Kf("{");!Ef("}");){id=vf.start;var r=vf;if(3===r.type){var I=nh();Kf(":");r=Wg();r=mh("init",I,r)}else 2===r.type||7===r.type?(Vg(r),r=void 0):(I=nh(),Kf(":"),r=Wg(),r=mh("init",I,r));I="Identifier"===r.key.type?r.key.name:c(r.key.value);I="$"+I;Object.prototype.hasOwnProperty.call(F,
I)?We({},"Duplicate data property in object literal not allowed in strict mode"):F[I]=!0;h.push(r);Ef("}")||Kf(",")}Kf("}");F=new qg("ObjectExpression");F.properties=h;return h=F}h=vf.type;id=vf.start;if(3===h||km[vf.value])F=Kh(hg().value);else if(8===h||6===h)vf.octal&&We(vf,"Octal literals are not allowed in strict mode."),F=ug(hg());else{if(4===h)throw Error("Disabled.");if(1===h)h=hg(),h.value="true"===h.value,F=ug(h);else if(5===h)h=hg(),h.value=null,F=ug(h);else if(Ef("/")||Ef("/\x3d")){var da;
vf=null;lj();h=id;F=je[id];$e("/"===F,"Regular expression literal must start with a slash");c=je[id++];for(I=r=!1;id<gg;)if(F=je[id++],c+=F,"\\"===F)F=je[id++],Kg(F.charCodeAt(0))&&We({},"Invalid regular expression: missing /"),c+=F;else if(Kg(F.charCodeAt(0)))We({},"Invalid regular expression: missing /");else if(r)"]"===F&&(r=!1);else if("/"===F){I=!0;break}else"["===F&&(r=!0);I||We({},"Invalid regular expression: missing /");F=c.substr(1,c.length-2);for(da=I="";id<gg;){r=je[id];if(!Ug(r.charCodeAt(0)))break;
++id;"\\"===r&&id<gg?We({},"Unexpected token %0","ILLEGAL"):(da+=r,I+=r)}0<=da.search(/[^gimuy]/g)&&We({},"Invalid regular expression",da);r=da;da=rg(F,r);F=ug({literal:c+I,value:da,regex:{pattern:F,flags:r},start:h,end:id});Lg()}else Vg(hg())}return F}function nj(){var h;for(h=gi();;)if(Ef(".")){Kf(".");id=vf.start;var F=hg();3===F.type||4===F.type||1===F.type||5===F.type||Vg(F);F=Kh(F.value);h=lh(".",h,F)}else if(Ef("(")){F=[];Kf("(");if(!Ef(")"))for(;id<gg;){F.push(Wg());if(Ef(")"))break;Kf(",")}Kf(")");
{const c=new qg("CallExpression");c.callee=h;c.arguments=F;h=c}}else if(Ef("["))Kf("["),F=oh(),Kf("]"),h=lh("[",h,F);else break;if(7===vf.type&&(Ef("++")||Ef("--")))throw Error("Disabled.");return h}function hi(){if(7!==vf.type&&4!==vf.type)var h=nj();else{if(Ef("++")||Ef("--"))throw Error("Disabled.");if(Ef("+")||Ef("-")||Ef("~")||Ef("!")){var F=hg();h=hi();{F=F.value;const c=new qg("UnaryExpression");c.operator=F;c.argument=h;c.prefix=!0;h=c}}else{if(4===vf.type&&"delete"===vf.value||4===vf.type&&
"void"===vf.value||4===vf.type&&"typeof"===vf.value)throw Error("Disabled.");h=nj()}}return h}function ph(h){let F=0;if(7!==h.type&&4!==h.type)return 0;switch(h.value){case "||":F=1;break;case "\x26\x26":F=2;break;case "|":F=3;break;case "^":F=4;break;case "\x26":F=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":F=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":F=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":F=8;break;
case "+":case "-":F=9;break;case "*":case "/":case "%":F=11}return F}function Wg(){var h=vf;var F=hi();var c=vf;var r=ph(c);if(0===r)var I=F;else{c.prec=r;hg();h=[h,vf];var da=hi();for(I=[F,c,da];0<(r=ph(vf));){for(;2<I.length&&r<=I[I.length-2].prec;)da=I.pop(),c=I.pop().value,F=I.pop(),h.pop(),F=Fi(c,F,da),I.push(F);c=hg();c.prec=r;I.push(c);h.push(vf);F=hi();I.push(F)}r=I.length-1;F=I[r];for(h.pop();1<r;)h.pop(),F=Fi(I[r-1].value,I[r-2],F),r-=2;I=F}Ef("?")&&(hg(),h=Wg(),Kf(":"),r=Wg(),F=new qg("ConditionalExpression"),
F.test=I,F.consequent=h,F.alternate=r,I=F);return I}function oh(){const h=Wg();if(Ef(","))throw Error("Disabled.");return h}function ue(h){je=h;id=0;gg=je.length;vf=null;Lg();h=oh();if(2!==vf.type)throw Error("Unexpect token after expression.");return h}function Gi(h){const F=[];if("Identifier"===h.type)return[h.name];if("Literal"===h.type)return[h.value];"MemberExpression"===h.type&&(F.push(...Gi(h.object)),F.push(...Gi(h.property)));return F}function ii(h){return"MemberExpression"===h.object.type?
ii(h.object):"datum"===h.object.name}function ji(h){h=ue(h);const F=new Set;h.visit(c=>{"MemberExpression"===c.type&&ii(c)&&F.add(Gi(c).slice(1).join("."))});return F}function Hi(h,F){const c={},r=h.config.selection;for(const pa of xd(null!==F&&void 0!==F?F:{})){const ya=Te(F[pa]);var I=Object.assign({},r[ya.type]);I=(delete I.fields,delete I.encodings,I);for(const hb in I)if(!("encodings"===hb&&ya.fields||"fields"===hb&&ya.encodings)&&("mark"===hb&&(ya[hb]=Object.assign({},I[hb],ya[hb])),void 0===
ya[hb]||!0===ya[hb])){var da;ya[hb]=null!==(da=I[hb])&&void 0!==da?da:ya[hb]}I=W(pa);const Ya=c[I]=Object.assign({},ya,{name:I,events:e(ya.on)?Ze(ya.on,"scope"):Te(ya.on)});Ih(Ya,hb=>{hb.has(Ya)&&hb.parse&&hb.parse(h,Ya,ya,F[pa])})}return c}function Wi(h,F,c,r){r=void 0===r?"datum":r;const I=[];F=ha(F,function(da){var pa=W(da);da=h.getSelectionComponent(pa,da);pa=n(pa+"_store");if(da.project.timeUnit){const ya=null!==c&&void 0!==c?c:h.component.data.raw,Ya=da.project.timeUnit.clone();ya.parent?Ya.insertAsParentOf(ya):
ya.parent=Ya}"none"!==da.empty&&I.push(pa);return"vlSelectionTest(".concat(pa,", ").concat(r)+("global"===da.resolve?")":", ".concat(n(da.resolve),")"))});return(I.length?"!("+I.map(da=>"length(data(".concat(da,"))")).join(" || ")+") || ":"")+"(".concat(F,")")}function oj(h,F){const c=F.encoding;let r=F.field;if(!c&&!r)r=h.project.items[0].field,1<h.project.items.length&&Eb('A "field" or "encoding" must be specified when using a selection as a scale domain. '+'Using "field": '.concat(n(r),"."));else if(c&&
!r){const I=h.project.items.filter(da=>da.channel===c);!I.length||1<I.length?(r=h.project.items[0].field,Eb((I.length?"Multiple ":"No ")+"matching ".concat(n(c)," encoding found for selection ").concat(n(F.selection),". ")+'Using "field": '.concat(n(r),"."))):r=I[0].field}return"".concat(h.name,"[").concat(n(r),"]")}function Ii(h,F){Jg(h,c=>{const r=c.name,I=h.getName("lookup_".concat(r));h.component.data.outputNodes[I]=c.materialized=new ig(new Ji(F,h,{selection:r}),I,Nf.Lookup,h.component.data.outputNodeRefCounts)})}
function dh(h,F,c){return ha(F,r=>e(r)?r:(null===r||void 0===r?0:r.selection)?Wi(h,r.selection,c):De(r))}function qh(h,F){if(h)return le(h)&&!Od(h)?h.map(c=>ti(c,F)).join(", "):h}function Mg(h,F,c,r){var I,da,pa;h.encode=null!==(I=h.encode)&&void 0!==I?I:{};h.encode[F]=null!==(da=h.encode[F])&&void 0!==da?da:{};h.encode[F].update=null!==(pa=h.encode[F].update)&&void 0!==pa?pa:{};h.encode[F].update[c]=r}function Lf(h,F,c,r){r=void 0===r?{header:!1}:r;var I=h.combine(),da=Object.assign({},I),pa=I.disable;
const ya=I.orient,Ya=I.scale,hb=I.labelExpr,Ab=I.title;I=I.zindex;da=(delete da.disable,delete da.orient,delete da.scale,delete da.labelExpr,delete da.title,delete da.zindex,da);if(!pa){for(const Tc in da){var Gb=lm[Tc];pa=da[Tc];if(Gb&&Gb!==F&&"both"!==Gb)delete da[Tc];else if(oa(pa)){Gb=pa;pa=Object.assign({},Gb);Gb=Gb.condition;pa=(delete pa.condition,pa);Gb=d(Gb);const bd=Lk[Tc];if(bd){const {vgProp:sd,part:yd}=bd;pa=[...Gb.map(he=>{var Oe=Object.assign({},he);he=he.test;Oe=(delete Oe.test,Oe);
return Object.assign({},{test:dh(null,he)},Oe)}),pa];Mg(da,yd,sd,pa);delete da[Tc]}else null===bd&&(pa={signal:Gb.map(sd=>{var yd=Object.assign({},sd);sd=sd.test;yd=(delete yd.test,yd);return"".concat(dh(null,sd)," ? ").concat(pe(yd)," : ")}).join("")+pe(pa)},da[Tc]=pa)}else if(vc(pa)&&(Gb=Lk[Tc])){const {vgProp:bd,part:sd}=Gb;Mg(da,sd,bd,pa);delete da[Tc]}}if("grid"===F){if(da.grid)return da.encode&&({grid:c}=da.encode,da.encode=Object.assign({},c?{grid:c}:{}),N(da.encode)&&delete da.encode),Object.assign({},
{scale:Ya,orient:ya},da,{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:za(I,0)})}else if(r.header||!h.mainExtracted){if(void 0!==hb){var cc,Jc;F=hb;(null===(cc=da.encode)||void 0===cc?0:null===(Jc=cc.labels)||void 0===Jc?0:Jc.update)&&vc(da.encode.labels.update.text)&&(F=ra(hb,"datum.label",da.encode.labels.update.text.signal));Mg(da,"labels","text",{signal:F})}null===da.labelAlign&&delete da.labelAlign;if(da.encode){for(const Tc of Mk)h.hasAxisPart(Tc)||delete da.encode[Tc];
N(da.encode)&&delete da.encode}h=qh(Ab,c);return Object.assign({},{scale:Ya,orient:ya,grid:!1},h?{title:h}:{},da,!1===c.aria?{aria:!1}:{},{zindex:za(I,0)})}}}function Lh(h){const {axes:F}=h.component,c=[];for(const r of yg)if(F[r])for(const I of F[r])if(!I.get("disable")&&!I.get("gridScale")){const da="x"===r?"height":"width",pa=h.getSizeSignalRef(da).signal;da!==pa&&c.push({name:da,update:pa})}return c}function Ag(h,F){const {x:c=[],y:r=[]}=h;return[...c.map(I=>Lf(I,"grid",F)),...r.map(I=>Lf(I,"grid",
F)),...c.map(I=>Lf(I,"main",F)),...r.map(I=>Lf(I,"main",F))].filter(I=>I)}function Ki(h,F,c,r){return Object.assign.apply(null,[{},...h.map(I=>{if("axisOrient"===I){I="x"===c?"bottom":"left";const da=F["x"===c?"axisBottom":"axisLeft"]||{},pa=F["x"===c?"axisTop":"axisRight"]||{},ya=new Set([...xd(da),...xd(pa)]),Ya={};for(const hb of ya.values())Ya[hb]={signal:"".concat(r.signal,' \x3d\x3d\x3d "').concat(I,'" ? ').concat(ge(da[hb])," : ").concat(ge(pa[hb]))};return Ya}return F[I]})])}function pj(h,
F,c,r){var I="band"===F?["axisDiscrete","axisBand"]:"point"===F?["axisDiscrete","axisPoint"]:F in mm?["axisQuantitative"]:"time"===F||"utc"===F?["axisTemporal"]:[];const da="x"===h?"axisX":"axisY";F=vc(c)?"axisOrient":"axis"+wa(c);I=[...I,...I.map(pa=>da+pa.substr(4))];F=["axis",F,da];return{vlOnlyAxisConfig:Ki(I,r,h,c),vgAxisConfig:Ki(F,r,h,c),axisConfigStyle:Hg([...F,...I],r)}}function Hg(h,F){const c=[{}];for(const I of h){var r;if(h=null===(r=F[I])||void 0===r?void 0:r.style){h=d(h);for(const da of h)c.push(F.style[da])}}return Object.assign.apply(null,
c)}function Ng(h,F,c,r){r=void 0===r?{}:r;F=Uf(h,c,F);if(void 0!==F)return{configFrom:"style",configValue:F};for(const da of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"]){var I;if(void 0!==(null===(I=r[da])||void 0===I?void 0:I[h]))return{configFrom:da,configValue:r[da][h]}}return{}}function Qj(h,F,c,r,I){const da=null===F||void 0===F?void 0:F.labelAngle;if(void 0!==da)return vc(da)?da:X(da);({configValue:F}=Ng("labelAngle",r,null===F||void 0===F?void 0:F.style,I));if(void 0!==F)return X(F);
if("x"===c&&E(["nominal","ordinal"],h.type)&&(!Vb(h)||!h.timeUnit))return 270}function Li(h){return"(((".concat(h.signal," % 360) + 360) % 360)")}function Xg(h,F,c,r){if(void 0!==h)return"x"===c?vc(h)?(r=Li(h),F=vc(F)?"(".concat(F.signal,' \x3d\x3d\x3d "top")'):"top"===F,{signal:"(45 \x3c ".concat(r," \x26\x26 ").concat(r," \x3c 135) || (225 \x3c ").concat(r," \x26\x26 ").concat(r,' \x3c 315) ? "middle" :')+"(".concat(r," \x3c\x3d 45 || 315 \x3c\x3d ").concat(r,") \x3d\x3d\x3d ").concat(F,' ? "bottom" : "top"')}):
45<h&&135>h||225<h&&315>h?"middle":vc(F)?(r=45>=h||315<=h?"\x3d\x3d\x3d":"!\x3d\x3d",{signal:"".concat(F.signal," ").concat(r,' "top" ? "bottom" : "top"')}):(45>=h||315<=h)===("top"===F)?"bottom":"top":vc(h)?(h=Li(h),F=vc(F)?"(".concat(F.signal,' \x3d\x3d\x3d "left")'):"left"===F,r=r?'"middle"':"null",{signal:"".concat(h," \x3c\x3d 45 || 315 \x3c\x3d ").concat(h," || (135 \x3c\x3d ").concat(h," \x26\x26 ").concat(h," \x3c\x3d 225) ? ").concat(r," : (45 \x3c\x3d ").concat(h," \x26\x26 ").concat(h,
" \x3c\x3d 135) \x3d\x3d\x3d ").concat(F,' ? "top" : "bottom"')}):45>=h||315<=h||135<=h&&225>=h?r?"middle":null:vc(F)?(r=45<=h&&135>=h?"\x3d\x3d\x3d":"!\x3d\x3d",{signal:"".concat(F.signal," ").concat(r,' "left" ? "top" : "bottom"')}):(45<=h&&135>=h)===("left"===F)?"top":"bottom"}function rh(h,F,c){if(void 0!==h){var r=(c="x"===c)?0:90,I=c?"bottom":"left";return vc(h)?(h=Li(h),F=vc(F)?"(".concat(F.signal,' \x3d\x3d\x3d "').concat(I,'")'):F===I,{signal:"(".concat(r?"("+h+" + 90)":h," % 180 \x3d\x3d\x3d 0) ? ").concat(c?
null:'"center"'," :")+"(".concat(r," \x3c ").concat(h," \x26\x26 ").concat(h," \x3c ").concat(180+r,") \x3d\x3d\x3d ").concat(F,' ? "left" : "right"')}):0===(h+r)%180?c?null:"center":vc(F)?(c=r<h&&h<180+r?"\x3d\x3d\x3d":"!\x3d\x3d",F="".concat(F.signal," ").concat(c,' "').concat(I,'"'),{signal:"".concat(F,' ? "left" : "right"')}):(r<h&&h<180+r)===(F===I)?"left":"right"}}function Mi(h,F){var c="x"===F?"x2":"y2";F=h.fieldDef(F);h=h.fieldDef(c);c=F?F.title:void 0;h=h?h.title:void 0;if(c&&h)return sa(c,
h);if(c)return c;if(h)return h;if(void 0!==c)return c;if(void 0!==h)return h}function sg(h,F,c){return Yc(h,Object.assign({},{prefix:F,suffix:"sort_index"},null!==c&&void 0!==c?c:{}))}function Bg(h,F){return E(["top","bottom"],F)?"column":E(["left","right"],F)?"row":"row"===h?"row":"column"}function Cg(h,F,c,r){return za((F||{})[h],("row"===r?c.headerRow:"column"===r?c.headerColumn:c.headerFacet)[h],c.header[h])}function Mh(h,F,c,r){const I={};for(const da of h)h=Cg(da,F||{},c,r),void 0!==h&&(I[da]=
h);return I}function Rj(h,F){const c=h.component.layoutHeaders[F].title,r=h.config?h.config:void 0;h=h.component.layoutHeaders[F].facetFieldDef?h.component.layoutHeaders[F].facetFieldDef:void 0;const {titleAnchor:I,titleAngle:da,titleOrient:pa}=Mh(["titleAnchor","titleAngle","titleOrient"],h.header,r,F),ya=Bg(F,pa),Ya=X(da);return{name:"".concat(F,"-title"),type:"group",role:"".concat(ya,"-title"),title:Object.assign({},{text:c},"row"===F?{orient:"left"}:{},{style:"guide-title"},Nh(Ya,ya),Oh(ya,Ya,
I),sh(r,h,F,nm,Nk))}}function Oh(h,F,c){switch(void 0===c?"middle":c){case "start":return{align:"left"};case "end":return{align:"right"}}return(h=rh(F,"row"===h?"left":"top","row"===h?"y":"x"))?{align:h}:{}}function Nh(h,F){return(h=Xg(h,"row"===F?"left":"top","row"===F?"y":"x",!0))?{baseline:h}:{}}function jg(h,F){const c=h.component.layoutHeaders[F],r=[];for(const Gb of Sj)if(c[Gb])for(const cc of c[Gb]){a:{var I=h;var da=F,pa=Gb,ya=c,Ya=cc;if(Ya){let Jc=null;const {facetFieldDef:Tc}=ya;var hb=
I.config?I.config:void 0;if(Tc&&Ya.labels){var {labelOrient:Ab}=Mh(["labelOrient"],Tc.header,hb,da);if("row"===da&&!E(["top","bottom"],Ab)||"column"===da&&!E(["left","right"],Ab))Jc=kf(Tc,da,hb)}hb=Gg(I)&&!ta(I.facet);Ab=Ya.axes;const bd=0<(null===Ab||void 0===Ab?void 0:Ab.length);if(Jc||bd){const sd="row"===da?"height":"width";I=Object.assign({},{name:I.getName("".concat(da,"_").concat(pa)),type:"group",role:"".concat(da,"-").concat(pa)},ya.facetFieldDef?{from:{data:I.getName(da+"_domain")},sort:kg(Tc,
da)}:{},bd&&hb?{from:{data:I.getName("facet_domain_".concat(da))}}:{},Jc?{title:Jc}:{},Ya.sizeSignal?{encode:{update:{[sd]:Ya.sizeSignal}}}:{},bd?{axes:Ab}:{});break a}}I=null}null!=I&&r.push(I)}return r}function kg(h,F){const {sort:c}=h;if(Zd(c)){var r;return{field:Yc(c,{expr:"datum"}),order:null!==(r=c.order)&&void 0!==r?r:"ascending"}}return le(c)?{field:sg(h,F,{expr:"datum"}),order:"ascending"}:{field:Yc(h,{expr:"datum"}),order:null!==c&&void 0!==c?c:"ascending"}}function kf(h,F,c){const {format:r,
formatType:I,labelAngle:da,labelAnchor:pa,labelOrient:ya,labelExpr:Ya}=Mh("format formatType labelAngle labelAnchor labelOrient labelExpr".split(" "),h.header,c,F),hb=oe({fieldOrDatumDef:h,format:r,formatType:I,expr:"parent",config:c}).signal,Ab=Bg(F,ya);return Object.assign({},{text:{signal:Ya?ra(ra(Ya,"datum.label",hb),"datum.value",Yc(h,{expr:"parent"})):hb}},"row"===F?{orient:"left"}:{},{style:"guide-label",frame:"group"},Nh(da,Ab),Oh(Ab,da,pa),sh(c,h,F,om,Ok))}function sh(h,F,c,r,I){const da=
{};for(const pa of r)I[pa]&&(r=Cg(pa,null===F||void 0===F?void 0:F.header,h,c),void 0!==r&&(da[I[pa]]=r));return da}function ki(h){return[...vg(h,"width"),...vg(h,"height"),...vg(h,"childWidth"),...vg(h,"childHeight")]}function vg(h,F){var c="width"===F?"x":"y",r=h.component.layoutSize.get(F);if(!r||"merged"===r)return[];F=h.getSizeSignalRef(F).signal;if("step"===r){if(r=h.getScaleComponent(c)){var I=r.get("type");const da=r.get("range");if(I in og&&mc(da))return I=h.scaleName(c),Gg(h.parent)&&"independent"===
h.parent.component.resolve.scale[c]?[{name:I+"_step",value:da.step}]:[{name:I+"_step",value:da.step},{name:F,update:th(I,r,"domain('".concat(I,"').length"))}]}throw Error("layout size is step although width/height is not step.");}return"container"==r?(c=(r=F.endsWith("width"))?"containerSize()[0]":"containerSize()[1]",h=Ac(h.config.view,r?"width":"height"),h="isFinite(".concat(c,") ? ").concat(c," : ").concat(h),[{name:F,init:h,on:[{update:h,events:"window:resize"}]}]):[{name:F,value:r}]}function th(h,
F,c){const r=F.get("type"),I=F.get("padding"),da=za(F.get("paddingOuter"),I);F=F.get("paddingInner");F="band"===r?void 0!==F?F:I:1;return"bandspace(".concat(c,", ").concat(ge(F),", ").concat(ge(da),") * ").concat(h,"_step")}function qj(h){return"childWidth"===h?"width":"childHeight"===h?"height":h}function ag(h,F){return xd(h).reduce((c,r)=>Object.assign({},c,tg(F,h[r],r,I=>Kd(I.value))),{})}function li(h,F){const c=F in cg?"axis":"legend";return"independent"===h.scale[F]?("shared"===h[c][F]&&Eb('Setting the scale to be independent for "'.concat(F,
'" means we also have to set the guide (axis or legend) to be independent.')),"independent"):h[c][F]||"shared"}function Ni(h){return uh(h,(F,c)=>Math.max(F,c.value))}function Dg(h){return uh(h,(F,c)=>za(F,c.value))}function uh(h,F){var c=h&&h.condition;if(c=!!c&&(le(c)||$c(c)))return d(h.condition).reduce(F,h.value);if($c(h))return h.value}function Ph(h,F,c){h=F.get("selections");if(null!==h&&void 0!==h&&h.length){var r=n(c.field);return h.map(I=>{const da=n(W(I)+"_store");return"(!length(data(".concat(da,
")) || (").concat(I,"[").concat(r,"] \x26\x26 indexof(").concat(I,"[").concat(r,"], datum.value) \x3e\x3d 0))")}).join(" || ")}}function vh(h,F,c,r){h=h.getSizeSignalRef(F).signal;return{signal:"clamp(".concat(h,", ").concat(c,", ").concat(r,")")}}function wh(h){var F;if(Qf(h)){var {encoding:c}=h,r={};for(const Ue of["color",...Pk]){var I=va(c[Ue]);if(I&&h.getScaleComponent(Ue)&&("shape"!==Ue||!Vb(I)||"geojson"!==I.type)){a:{var da=I=void 0,pa=void 0,ya=void 0,Ya=void 0;var hb=void 0;var Ab=h,Gb=
Ue;let qe=Ab.legend(Gb);const {markDef:Bf,encoding:Rf,config:qf}=Ab;var cc=qf.legend;b:{var Jc=Ab;var Tc=Gb,bd=Jc.scaleName(Tc);if("trail"===Jc.mark){if("color"===Tc){Jc={stroke:bd};break b}if("size"===Tc){Jc={strokeWidth:bd};break b}}Jc="color"===Tc?Jc.markDef.filled?{fill:bd}:{stroke:bd}:{[Tc]:bd}}Jc=new pm({},Jc);zi(Ab,Gb,Jc);Tc=void 0!==qe?!qe:cc.disable;Jc.set("disable",Tc,void 0!==qe);if(Tc){I=Jc;break a}qe=qe||{};bd=Ab.getScaleComponent(Gb).get("type");Tc=va(Rf[Gb]);var sd=Vb(Tc)?null===(hb=
Jb(Tc.timeUnit))||void 0===hb?void 0:hb.unit:void 0;const Sf=qe.orient||qf.legend.orient||"right";hb={legend:qe,channel:Gb,timeUnit:sd,scaleType:bd};({legend:sd}=hb);sd=sd.type;b:{var {channel:yd,timeUnit:he,scaleType:Oe}=hb;if(Wa(yd)){if(E(["quarter","month","day"],he)){hb="symbol";break b}if(Oe in Fg){hb="gradient";break b}}hb="symbol"}hb=za(sd,hb);var {legendConfig:Wd,legendType:Le,orient:Cd,legend:Hf}={legend:qe,legendType:hb,orient:Sf,legendConfig:cc};if(null!==(pa=null!==(da=Hf.direction)&&
void 0!==da?da:Wd[Le?"gradientDirection":"symbolDirection"])&&void 0!==pa)da=pa;else b:{switch(Cd){case "top":case "bottom":da="horizontal";break b;case "left":case "right":case "none":case void 0:break;default:da="gradient"===Le?"horizontal":void 0;break b}da=void 0}cc={legend:qe,channel:Gb,model:Ab,markDef:Bf,encoding:Rf,fieldOrDatumDef:Tc,legendConfig:cc,config:qf,scaleType:bd,orient:Sf,legendType:hb,direction:da};for(const Mf of Qk)if(!("gradient"===hb&&Mf.startsWith("symbol")||"symbol"===hb&&
Mf.startsWith("gradient"))&&(da=Mf in Rk?Rk[Mf](cc):qe[Mf],void 0!==da)){b:{pa=Ab.fieldDef(Gb);switch(Mf){case "disable":pa=void 0!==qe;break b;case "values":pa=!(null===qe||void 0===qe||!qe.values);break b;case "title":if("title"===Mf&&da===(null===pa||void 0===pa?void 0:pa.title)){pa=!0;break b}}pa=da===(qe||{})[Mf]}(pa||void 0===qf.legend[Mf])&&Jc.set(Mf,da,pa)}cc=null!==(Ya=null===(ya=qe)||void 0===ya?void 0:ya.encoding)&&void 0!==Ya?Ya:{};ya=Jc.get("selections");Ya={};Gb={fieldOrDatumDef:Tc,
model:Ab,channel:Gb,legendCmpt:Jc,legendType:hb};for(const Mf of"labels legend title symbols gradient entries".split(" "))da=ag(null!==(F=cc[Mf])&&void 0!==F?F:{},Ab),da=Mf in Sk?Sk[Mf](da,Gb):da,void 0===da||N(da)||(Ya[Mf]=Object.assign({},(null===ya||void 0===ya?0:ya.length)&&Vb(Tc)?{name:"".concat(W(Tc.field),"_legend_").concat(Mf)}:{},(null===ya||void 0===ya?0:ya.length)?{interactive:!!ya}:{},{update:da}));N(Ya)||Jc.set("encode",Ya,!(null===(I=qe)||void 0===I||!I.encoding));I=Jc}r[Ue]=I}}F=r}else{{const {legends:Ue,
resolve:qe}=h.component;for(c of h.children){wh(c);for(r of xd(c.component.legends))qe.legend[r]=li(h.component.resolve,r),"shared"===qe.legend[r]&&(Ue[r]=xh(Ue[r],c.component.legends[r]),Ue[r]||(qe.legend[r]="independent",delete Ue[r]))}for(I of xd(Ue))for(Ab of h.children)Ab.component.legends[I]&&"shared"===qe.legend[I]&&delete Ab.component.legends[I];F=Ue}}return h.component.legends=F}function xh(h,F){if(!h)return F.clone();var c=h.getWithExplicit("orient");const r=F.getWithExplicit("orient");
if(!c.explicit||!r.explicit||c.value===r.value){var I=!1;for(const hb of Qk)c=te(h.getWithExplicit(hb),F.getWithExplicit(hb),hb,"legend",(Ab,Gb)=>{switch(hb){case "symbolType":return Ab="circle"===Gb.value?Gb:Ab,Ab;case "title":return ua(Ab,Gb);case "type":return I=!0,Vd("symbol")}return kd(Ab,Gb,hb,"legend")}),h.setWithExplicit(hb,c);if(I){var da,pa,ya,Ya;(null===(da=h.implicit)||void 0===da?0:null===(pa=da.encode)||void 0===pa?0:pa.gradient)&&Y(h.implicit,["encode","gradient"]);(null===(ya=h.explicit)||
void 0===ya?0:null===(Ya=ya.encode)||void 0===Ya?0:Ya.gradient)&&Y(h.explicit,["encode","gradient"])}return h}}function rj(h){const F=h.component.legends,c={};for(const I of xd(F)){var r=h.getScaleComponent(I);r=Of(r.get("domains"));if(c[r])for(const da of c[r])xh(da,F[I])||c[r].push(F[I]);else c[r]=[F[I].clone()]}return Tg(c).flat().map(I=>{{var da=h.config,pa,ya=I.combine();I=Object.assign({},ya);const Tc=ya.disable;ya=ya.labelExpr;I=(delete I.disable,delete I.labelExpr,delete I.selections,I);if(Tc)var Ya=
void 0;else{!1===da.aria&&void 0==I.aria&&(I.aria=!1);if(null===(pa=I.encode)||void 0===pa?0:pa.symbols){da=I.encode.symbols.update;!da.fill||"transparent"===da.fill.value||da.stroke||I.stroke||(da.stroke={value:"transparent"});for(var hb of Pk)I[hb]&&delete da[hb]}I.title||delete I.title;if(void 0!==ya){var Ab,Gb;hb=ya;(null===(Ab=I.encode)||void 0===Ab?0:null===(Gb=Ab.labels)||void 0===Gb?0:Gb.update)&&vc(I.encode.labels.update.text)&&(hb=ra(ya,"datum.label",I.encode.labels.update.text.signal));
Ab=I;Gb={signal:hb};var cc,Jc;Ab.encode=null!==(Ya=Ab.encode)&&void 0!==Ya?Ya:{};Ab.encode.labels=null!==(cc=Ab.encode.labels)&&void 0!==cc?cc:{};Ab.encode.labels.update=null!==(Jc=Ab.encode.labels.update)&&void 0!==Jc?Jc:{};Ab.encode.labels.update.text=Gb}Ya=I}}return Ya}).filter(I=>void 0!==I)}function Oi(h){return h.children.reduce((F,c)=>F.concat(c.assembleProjections()),mi(h))}function mi(h){var F=h.component.projection;if(!F||F.merged)return[];const c=F.combine(),{name:r}=c;if(F.data){const I=
{signal:"[".concat(F.size.map(da=>da.signal).join(", "),"]")};F=F.data.reduce((da,pa)=>{pa=vc(pa)?pa.signal:"data('".concat(h.lookupDataSource(pa),"')");E(da,pa)||da.push(pa);return da},[]);if(0>=F.length)throw Error("Projection's fit didn't find any data sources");return[Object.assign({},{name:r,size:I,fit:{signal:1<F.length?"[".concat(F.join(", "),"]"):F[0]}},c)]}return[Object.assign({},{name:r},{translate:{signal:"[width / 2, height / 2]"}},c)]}function yh(h){var F=h.component;if(Qf(h))if(h.hasProjection){var c;
const da=h.specifiedProjection;var r=!(da&&(null!=da.scale||null!=da.translate));const pa=r?[h.getSizeSignalRef("width"),h.getSizeSignalRef("height")]:void 0;if(r){{r=[];const {encoding:ya}=h;for(I of[["longitude","latitude"],["longitude2","latitude2"]])(va(ya[I[0]])||va(ya[I[1]]))&&r.push({signal:h.getName("geojson_".concat(r.length))});h.channelHasField("shape")&&"geojson"===h.typedFieldDef("shape").type&&r.push({signal:h.getName("geojson_".concat(r.length))});0===r.length&&r.push(h.requestDataName(Nf.Main));
var I=r}}else I=void 0;h=new Tk(h.projectionName(!0),Object.assign({},null!==(c=h.config.projection)&&void 0!==c?c:{},null!==da&&void 0!==da?da:{}),pa,I)}else h=void 0;else h=zh(h);F.projection=h}function Qh(h,F){const c=Q(qm,r=>!Yh.call(h.explicit,r)&&!Yh.call(F.explicit,r)||Yh.call(h.explicit,r)&&Yh.call(F.explicit,r)&&Of(h.get(r))===Of(F.get(r))?!0:!1);if(Of(h.size)===Of(F.size)){if(c)return h;if(Of(h.explicit)===Of({}))return F;if(Of(F.explicit)===Of({}))return h}return null}function zh(h){if(0!==
h.children.length){var F;for(var c of h.children)yh(c);c=Q(h.children,r=>{if(r=r.component.projection){if(F)return(r=Qh(F,r))&&(F=r),!!r;F=r}return!0});if(F&&c){c=h.projectionName(!0);const r=new Tk(c,F.specifiedProjection,F.size,Te(F.data));for(const I of h.children)if(h=I.component.projection)h.isFit&&r.data.push(...I.component.projection.data),I.renameProjection(h.get("name"),c),h.merged=!0;return r}}}function sj(h,F,c,r){if(fd(F,c)){var I,da;h=Qf(h)?null!==(I=null!==(da=h.axis(c))&&void 0!==da?
da:h.legend(c))&&void 0!==I?I:{}:{};I=Yc(F,{expr:"datum"});da=Yc(F,{expr:"datum",binSuffix:"end"});return{formulaAs:Yc(F,{binSuffix:"range",forAs:!0}),formula:gf(I,da,h.format,h.formatType,r)}}return{}}function Rh(h,F){return"".concat(ad(h),"_").concat(F)}function Sh(h,F,c){var r;c=null!==(r=Mb(c,void 0))&&void 0!==r?r:{};F=Rh(c,F);return h.getName("".concat(F,"_bins"))}function eg(h,F,c){let r;r="as"in h?e(h.as)?[h.as,"".concat(h.as,"_end")]:[h.as[0],h.as[1]]:[Yc(h,{forAs:!0}),Yc(h,{binSuffix:"end",
forAs:!0})];const I=Object.assign({},Mb(F,void 0));F=Rh(I,h.field);var da={signal:c.getName("".concat(F,"_bins")),extentSignal:c.getName("".concat(F,"_extent"))};const {signal:pa,extentSignal:ya}=da;if(ib(I.extent)){var Ya=I.extent;da=Ya.selection;Ya=oj(c.getSelectionComponent(W(da),da),Ya);delete I.extent}h=Object.assign({},{bin:I,field:h.field,as:[r]},pa?{signal:pa}:{},ya?{extentSignal:ya}:{},Ya?{span:Ya}:{});return{key:F,binComponent:h}}function wf(h){return"'"===h[0]&&"'"===h[h.length-1]||'"'===
h[0]&&'"'===h[h.length-1]?h.slice(1,-1):h}function Pf(h,F){h=xa(h);if("number"===F)return"toNumber(".concat(h,")");if("boolean"===F)return"toBoolean(".concat(h,")");if("string"===F)return"toString(".concat(h,")");if("date"===F)return"toDate(".concat(h,")");if("flatten"===F)return h;if(0===F.indexOf("date:"))return F=wf(F.slice(5,F.length)),"timeParse(".concat(h,",'").concat(F,"')");if(0===F.indexOf("utc:"))return F=wf(F.slice(4,F.length)),"utcParse(".concat(h,",'").concat(F,"')");Eb('Unrecognized parse "'.concat(F,
'".'));return null}function Tj(h){const F={};z(h.filter,c=>{if(ie(c)){let I=null;if(Qc(c))I=vd(c.equal);else if(nd(c))I=vd(c.lte);else if(Zc(c))I=vd(c.lt);else if(od(c))I=vd(c.gt);else if(Dd(c))I=vd(c.gte);else if(Jd(c))I=c.range[0];else if(Ud(c)){var r;I=(null!==(r=c.oneOf)&&void 0!==r?r:c["in"])[0]}I&&(rc(I)?F[c.field]="date":a(I)?F[c.field]="number":e(I)&&(F[c.field]="string"));c.timeUnit&&(F[c.field]="date")}});return F}function Th(h){function F(r){if(gc(r))c[r.field]="date";else{var I;if(I="quantitative"===
r.type)I=r.aggregate,I=e(I)&&E(["min","max"],I);I?c[r.field]="number":1<Ua(r.field)?r.field in c||(c[r.field]="flatten"):Ad(r)&&Zd(r.sort)&&1<Ua(r.sort.field)&&(r.sort.field in c||(c[r.sort.field]="flatten"))}}const c={};(Qf(h)||Gg(h))&&h.forEachFieldDef((r,I)=>{rd(r)?F(r):(I=Da(I),I=h.fieldDef(I),F(Object.assign({},r,{type:I.type})))});if(Qf(h)){const {mark:r,markDef:I,encoding:da}=h;if(fe(r)&&!h.encoding.order){const pa=da["horizontal"===I.orient?"y":"x"];!Vb(pa)||"quantitative"!==pa.type||pa.field in
c||(c[pa.field]="number")}}return c}function b(h){return h instanceof Uh||h instanceof tj||h instanceof uj}function p(h){return h.stack.stackBy.reduce((F,c)=>{(c=Yc(c.fieldDef))&&F.push(c);return F},[])}function U(h){return le(h)&&h.every(F=>e(F))&&1<h.length}function P(h){function F(c){if(!(c instanceof ni)){const r=c.clone();if(r instanceof ig){const I="scale_"+r.getSource();r.setSource(I);h.model.component.data.outputNodes[I]=r}else(r instanceof Og||r instanceof Ah||r instanceof Pi||r instanceof
oi)&&r.addDimensions(h.fields);for(const I of c.children.flatMap(F))I.parent=r;return[r]}return c.children.flatMap(F)}return F}function aa(h){if(h instanceof ni)if(1!==h.numChildren()||h.children[0]instanceof ig){var F=h.model.component.data.main;Fa(F);const c=P(h);h=h.children.map(c).flat();for(const r of h)r.parent=F}else F=h.children[0],(F instanceof Og||F instanceof Ah||F instanceof Pi||F instanceof oi)&&F.addDimensions(h.fields),F.swapWithParent(),aa(h);else h.children.map(aa)}function Fa(h){if(h instanceof
ig&&h.type===Nf.Main&&1===h.numChildren()){const F=h.children[0];F instanceof ni||(F.swapWithParent(),Fa(h))}}function Ta(h){for(const F of h){for(const c of F.children)if(c.parent!==F)return!1;if(!Ta(F.children))return!1}return!0}function Xa(h,F){let c=!1;for(const r of F)c=h.optimize(r)||c;return c}function ob(h,F,c){let r=h.sources,I=!1;I=Xa(new rm,r)||I;I=Xa(new sm(F),r)||I;r=r.filter(da=>0<da.numChildren());I=Xa(new tm,r)||I;r=r.filter(da=>0<da.numChildren());c||(I=Xa(new um,r)||I,I=Xa(new vm(F),
r)||I,I=Xa(new wm,r)||I,I=Xa(new xm,r)||I,I=Xa(new ym,r)||I,I=Xa(new zm,r)||I,I=Xa(new Am,r)||I,I=Xa(new Bm,r)||I);h.sources=r;return I}function Db(h){const F=h.component.scales;for(const hb of xd(F)){var c=h;var r=hb,I=c.getScaleComponent(r).get("type"),{encoding:da}=c;var pa=c.scaleDomain(r);var ya=c.typedFieldDef(r),Ya=c.config.scale;if("unaggregated"===pa){const {valid:Ab,reason:Gb}=ve(ya,I);Ab||(Eb(Gb),pa=void 0)}else void 0===pa&&Ya.useUnaggregatedDomain&&({valid:ya}=ve(ya,I),ya&&(pa="unaggregated"));
pa!==c.scaleDomain(r)&&(c.specifiedScales[r]=Object.assign({},c.specifiedScales[r],{domain:pa}));c="x"===r&&va(da.x2)?va(da.x)?te(nc(I,pa,c,"x"),nc(I,pa,c,"x2"),"domain","scale",bf):nc(I,pa,c,"x2"):"y"===r&&va(da.y2)?va(da.y)?te(nc(I,pa,c,"y"),nc(I,pa,c,"y2"),"domain","scale",bf):nc(I,pa,c,"y2"):nc(I,pa,c,r);F[hb].setWithExplicit("domains",c);da=void 0;r=h.component.scales[hb];pa=h.specifiedScales[hb].domain;I=null===(da=h.fieldDef(hb))||void 0===da?void 0:da.bin;da=af(pa)&&pa;I=v(I)&&ib(I.extent)&&
I.extent;(da||I)&&r.set("selectionExtent",null!==da&&void 0!==da?da:I,!0);if(h.component.data.isFaceted){for(r=h;!Gg(r)&&r.parent;)r=r.parent;if("shared"===r.component.resolve.scale[hb])for(const Ab of c.value)Kc(Ab)&&(Ab.data="scale_"+Ab.data.replace("scale_",""))}}}function Xb(h){for(var F of h.children){var c=F;Qf(c)?Db(c):Xb(c)}c=h.component.scales;for(const I of xd(c)){let da;F=null;for(const pa of h.children){var r=pa.component.scales[I];r&&(da=void 0===da?r.getWithExplicit("domains"):te(da,
r.getWithExplicit("domains"),"domains","scale",bf),r=r.get("selectionExtent"),F&&r&&F.selection!==r.selection&&Eb("The same selection must be used to override scale domains in a layered view."),F=r)}c[I].setWithExplicit("domains",da);F&&c[I].set("selectionExtent",F,!0)}}function Ic(h,F,c){return h.map(r=>{r=Uc(r,{timeUnit:c,type:F});return{signal:"{data: ".concat(r,"}")}})}function pc(h,F,c){var r;c=null===(r=Jb(c))||void 0===r?void 0:r.unit;return"temporal"===F||c?Ic(h,F,c):[h]}function nc(h,F,c,
r){var {encoding:I}=c;I=va(I[r]);const {type:da}=I,pa=I.timeUnit;if(F&&F.unionWith)return r=nc(h,void 0,c,r),F=pc(F.unionWith,da,pa),Rd([...r.value,...F]);if(vc(F))return Rd([F]);if(F&&"unaggregated"!==F&&!af(F))return Rd(pc(F,da,pa));var ya=c.stack;if(ya&&r===ya.fieldChannel){if("normalize"===ya.offset)return Vd([[0,1]]);F=c.requestDataName(Nf.Main);return Vd([{data:F,field:c.vgField(r,{suffix:"start"})},{data:F,field:c.vgField(r,{suffix:"end"})}])}ya=Qg[r]&&Vb(I)?Md(c,r,h):void 0;if(Vc(I))return r=
pc([I.datum],da,pa),Vd(r);if("unaggregated"===F)return r=c.requestDataName(Nf.Main),{field:F}=I,Vd([{data:r,field:Yc({field:F,aggregate:"min"})},{data:r,field:Yc({field:F,aggregate:"max"})}]);if(ic(I.bin)){if(h in og)return"bin-ordinal"===h?Vd([]):Vd([{data:C(ya)?c.requestDataName(Nf.Main):c.requestDataName(Nf.Raw),field:c.vgField(r,fd(I,r)?{binSuffix:"range"}:{}),sort:!0!==ya&&v(ya)?ya:{field:c.vgField(r,{}),op:"min"}}]);({bin:F}=I);if(ic(F)){const Ya=Sh(c,I.field,F);return Vd([new Eg(()=>{const hb=
c.getSignalName(Ya);return"[".concat(hb,".start, ").concat(hb,".stop]")})])}return Vd([{data:c.requestDataName(Nf.Main),field:c.vgField(r,{})}])}return I.timeUnit&&E(["time","utc"],h)&&zb(r,I,Qf(c)?c.encoding[Ea(r)]:void 0,c.stack,c.markDef,c.config)?(F=c.requestDataName(Nf.Main),Vd([{data:F,field:c.vgField(r)},{data:F,field:c.vgField(r,{suffix:"end"})}])):ya?Vd([{data:C(ya)?c.requestDataName(Nf.Main):c.requestDataName(Nf.Raw),field:c.vgField(r),sort:ya}]):Vd([{data:c.requestDataName(Nf.Main),field:c.vgField(r)}])}
function gd(h,F){const {op:c,field:r,order:I}=h;return Object.assign({},{op:null!==c&&void 0!==c?c:F?"sum":"min"},r?{field:gb(r)}:{},I?{order:I}:{})}function Md(h,F,c){if(c in og){var r=h.fieldDef(F);c=r.sort;if(sc(c))return{op:"min",field:sg(r,F),order:"ascending"};({stack:r}=h);var I=r?[...r.groupbyField?[r.groupbyField]:[],...r.stackBy.map(da=>da.fieldDef.field)]:void 0;if(Zd(c))return h=r&&!E(I,c.field),gd(c,h);if(c&&c.encoding){const {encoding:da,order:pa}=c;h=h.fieldDef(da);const {aggregate:ya,
field:Ya}=h;F=r&&!E(I,Ya);if(na(ya)||Aa(ya))return gd({field:Yc(h),order:pa},F);if(ka(ya)||!ya)return gd({op:ya,field:Ya,order:pa},F)}else{if("descending"===c)return{op:"min",field:h.vgField(F),order:"descending"};if(E(["ascending",void 0],c))return!0}}}function ve(h,F){const {aggregate:c,type:r}=h;return c?e(c)&&!Cm[c]?{valid:!1,reason:'Unaggregated domain not applicable for "'.concat(c,'" since it produces values outside the origin domain of the source data.')}:"quantitative"===r&&"log"===F?{valid:!1,
reason:"Unaggregated domain is currently unsupported for log scale (".concat(Of(h),").")}:{valid:!0}:{valid:!1,reason:"Using unaggregated domain with raw field has no effect (".concat(Of(h),").")}}function bf(h,F,c,r){if(h.explicit&&F.explicit){var I=h.value,da=F.value;c="Conflicting ".concat(r.toString(),' property "').concat(c.toString(),'" (').concat(Of(I)," and ").concat(Of(da),"). Using the union of the two domains.");Eb(c)}return{explicit:h.explicit,value:[...h.value,...F.value]}}function ke(h){var F=
ea(h.map(I=>Kc(I)?(I=Object.assign({},I),delete I.sort,I):I),D),c=ea(h.map(I=>{if(Kc(I))return I=I.sort,void 0===I||C(I)||("op"in I&&"count"===I.op&&delete I.field,"ascending"===I.order&&delete I.order),I}).filter(I=>void 0!==I),D);if(0!==F.length){if(1===F.length){F=h[0];if(Kc(F)&&0<c.length){var r=c[0];1<c.length?(Eb("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),r=!0):v(r)&&"field"in r&&F.field===r.field&&(r=r.order?{order:r.order}:!0);return Object.assign({},
F,{sort:r})}return F}c=ea(c.map(I=>{if(C(I)||!("op"in I)||e(I.op)&&I.op in Dm)return I;Eb("Dropping sort property ".concat(Of(I),' as unioned domains only support boolean or op "count", "min", and "max".'));return!0}),D);1===c.length?r=c[0]:1<c.length&&(Eb("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),r=!0);c=ea(h.map(I=>Kc(I)?I.data:null),I=>I);return 1===c.length&&null!==c[0]?Object.assign({},{data:c[0],fields:F.map(I=>I.field)},r?{sort:r}:{}):Object.assign({},
{fields:F},r?{sort:r}:{})}}function xf(h){if(Kc(h)&&e(h.field))return h.field;var F=le(h)?!1:"fields"in h&&!("data"in h);if(F){let c;for(const r of h.fields)if(Kc(r)&&e(r.field))if(!c)c=r.field;else if(c!==r.field)return Eb("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),c;Eb("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.");
return c}F=le(h)?!1:"fields"in h&&"data"in h;if(F)return Eb("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect."),h=h.fields[0],e(h)?h:void 0}function lf(h,F){F=h.component.scales[F].get("domains").map(c=>{Kc(c)&&(c.data=h.lookupDataSource(c.data));return c});return ke(F)}function zf(h){return ci(h)||Uj(h)?h.children.reduce((F,c)=>F.concat(zf(c)),Cf(h)):Cf(h)}function Cf(h){return xd(h.component.scales).reduce((F,
c)=>{var r=h.component.scales[c];if(r.merged)return F;var I=r.combine(),da=Object.assign({},I);r=I.name;const pa=I.type,ya=I.selectionExtent,Ya=I.reverse;da=(delete da.name,delete da.type,delete da.selectionExtent,delete da.domains,delete da.range,delete da.reverse,da);I=I.range;c in cg?mc(I)&&(I={step:{signal:r+"_step"}}):v(I)&&Kc(I)&&(I=Object.assign({},I,{data:h.lookupDataSource(I.data)}));if(ya){var hb=ya.selection;hb=h.getSelectionComponent(hb,W(hb));hb={signal:oj(hb,ya)}}c=lf(h,c);F.push(Object.assign({},
{name:r,type:pa},c?{domain:c}:{},hb?{domainRaw:hb}:{},{range:I},void 0!==Ya?{reverse:Ya}:{},da));return F},[])}function Me(h){return"x"===h?"width":"y"===h?"height":void 0}function Af(h,F){const c=h.fieldDef(F);if(c&&c.bin&&ic(c.bin)){const r=Sh(h,c.field,c.bin);F=Me(F);const I=h.getName(F);return new Eg(()=>{var da=h.getSignalName(r);da="(".concat(da,".stop - ").concat(da,".start) / ").concat(da,".step");return"".concat(h.getSignalName(I)," / (").concat(da,")")})}}function of(h,F){const c=F.specifiedScales[h];
var {size:r}=F,I=F.getScaleComponent(h).get("type");for(var da of Em)if(void 0!==c[da]){const Ya=Be(I,da),hb=cf(h,da);if(Ya)if(hb)Eb(hb);else switch(da){case "range":I=c.range;if(le(I)){if(h in cg)return Rd(I.map(Ab=>{if("width"===Ab||"height"===Ab){Ab=F.getName(Ab);const Gb=F.getSignalName.bind(F);return Eg.fromName(Gb,Ab)}return Ab}))}else if(v(I))return Rd({data:F.requestDataName(Nf.Main),field:I.field,sort:{op:"min",field:F.vgField(h)}});return Rd(I);case "scheme":return Rd(yf(c[da]))}else Eb(Ed(I,
da,h))}if("x"===h||"y"===h)if(da="x"===h?"width":"height",r=r[da],tb(r)){if(I in og)return Rd({step:r.step});Eb(Ga(da))}const {rangeMin:pa,rangeMax:ya}=c;h=bg(h,F);return(void 0!==pa||void 0!==ya)&&Be(I,"rangeMin")&&le(h)&&2===h.length?Rd([null!==pa&&void 0!==pa?pa:h[0],null!==ya&&void 0!==ya?ya:h[1]]):Vd(h)}function yf(h){return!e(h)&&h.name?Object.assign({},{scheme:h.name},K(h,["name"])):{scheme:h}}function bg(h,F){const {size:c,config:r,mark:I,encoding:da}=F;var pa=F.getSignalName.bind(F),{type:ya}=
va(da[h]);const Ya=F.getScaleComponent(h).get("type"),{domain:hb,domainMid:Ab}=F.specifiedScales[h];switch(h){case "x":case "y":if(E(["point","band"],Ya))if("x"===h&&!c.width){if(ya=O(r.view,"width"),tb(ya))return ya}else if("y"===h&&!c.height&&(ya=O(r.view,"height"),tb(ya)))return ya;ya=Me(h);ya=F.getName(ya);return"y"===h&&Ya in xg?[Eg.fromName(pa,ya),0]:[0,Eg.fromName(pa,ya)];case "size":return pa=F.component.scales[h].get("zero"),pa=Pg(I,pa,r),ya=Yg(I,c,F,r),Ya in Ti?lg(pa,ya,fg(Ya,r,hb,h)):[pa,
ya];case "theta":return[0,2*Math.PI];case "angle":return[0,360];case "radius":return[0,new Eg(()=>{const Gb=F.getSignalName("width"),cc=F.getSignalName("height");return"min(".concat(Gb,",").concat(cc,")/2")})];case "strokeWidth":return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case "strokeDash":return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case "shape":return"symbol";case "color":case "fill":case "stroke":return"ordinal"===Ya?"nominal"===ya?"category":"ordinal":void 0!==Ab?"diverging":"rect"===I||
"geoshape"===I?"heatmap":"ramp";case "opacity":case "fillOpacity":case "strokeOpacity":return[r.scale.minOpacity,r.scale.maxOpacity]}throw Error("Scale range undefined for channel ".concat(h));}function fg(h,F,c,r){switch(h){case "quantile":return F.scale.quantileCount;case "quantize":return F.scale.quantizeCount;case "threshold":if(void 0!==c&&le(c))return c.length+1;Eb("Domain for ".concat(r," is required for threshold scale."));return 3}}function lg(h,F,c){const r=()=>{const I=ge(F),da=ge(h),pa=
"(".concat(I," - ").concat(da,") / (").concat(c," - 1)");return"sequence(".concat(da,", ").concat(I," + ").concat(pa,", ").concat(pa,")")};return vc(F)?new Eg(r):{signal:r()}}function Pg(h,F,c){if(F)return vc(F)?{signal:"".concat(F.signal," ? 0 : ").concat(Pg(h,!1,c))}:0;switch(h){case "bar":case "tick":return c.scale.minBandSize;case "line":case "trail":case "rule":return c.scale.minStrokeWidth;case "text":return c.scale.minFontSize;case "point":case "square":case "circle":return c.scale.minSize}throw Error(qc("size",
h));}function Yg(h,F,c,r){c={x:Af(c,"x"),y:Af(c,"y")};switch(h){case "bar":case "tick":{if(void 0!==r.scale.maxBandSize)return r.scale.maxBandSize;const I=pi(F,c,r.view);return a(I)?I-1:new Eg(()=>"".concat(I.signal," - 1"))}case "line":case "trail":case "rule":return r.scale.maxStrokeWidth;case "text":return r.scale.maxFontSize;case "point":case "square":case "circle":{if(r.scale.maxSize)return r.scale.maxSize;const I=pi(F,c,r.view);return a(I)?Math.pow(.95*I,2):new Eg(()=>"pow(".concat(.95," * ").concat(I.signal,
", 2)"))}}throw Error(qc("size",h));}function pi(h,F,c){const r=tb(h.width)?h.width.step:q(c,"width"),I=tb(h.height)?h.height.step:q(c,"height");return F.x||F.y?new Eg(()=>"min(".concat([F.x?F.x.signal:r,F.y?F.y.signal:I].join(", "),")")):Math.min(r,I)}function Uk(h,F){if(Qf(h)){{const pa=h.component.scales,{config:ya,encoding:Ya,markDef:hb,specifiedScales:Ab}=h;for(const Gb of xd(pa)){var c=Ab[Gb];const cc=pa[Gb];var r=h.getScaleComponent(Gb),I=va(Ya[Gb]),da=c[F];const Jc=r.get("type"),Tc=r.get("padding");
r=r.get("paddingInner");const bd=Be(Jc,F),sd=cf(Gb,F);void 0!==da&&(bd?sd&&Eb(sd):Eb(Ed(Jc,F,Gb)));if(bd&&void 0===sd)if(void 0!==da)switch(da=I.timeUnit,I=I.type,F){case "domainMax":case "domainMin":rc(c[F])||"temporal"===I||da?cc.set(F,{signal:Uc(c[F],{type:I,timeUnit:da})},!0):cc.set(F,c[F],!0);break;default:cc.copyKeyFromObject(F,c)}else c=F in Vk?Vk[F]({model:h,channel:Gb,fieldOrDatumDef:I,scaleType:Jc,scalePadding:Tc,scalePaddingInner:r,domain:c.domain,markDef:hb,config:ya}):ya.scale[F],void 0!==
c&&cc.set(F,c,!1)}}}else Wk(h,F)}function Xk(h){if(Qf(h)){{const F=h.component.scales;for(const c of fj){const r=F[c];if(!r)continue;const I=of(c,h);r.setWithExplicit("range",I)}}}else Wk(h,"range")}function Wk(h,F){const c=h.component.scales;for(var r of h.children)"range"===F?Xk(r):Uk(r,F);for(const I of xd(c)){let da;for(const pa of h.children)if(r=pa.component.scales[I])r=r.getWithExplicit(F),da=te(da,r,F,"scale",se((ya,Ya)=>{switch(F){case "range":if(ya.step&&Ya.step)return ya.step-Ya.step}return 0}));
c[I].setWithExplicit(F,da)}}function Fm(h,F){const c=F.bin;if(ic(c)){const r=Sh(h,F.field,c);return new Eg(()=>h.getSignalName(r))}if(xc(c)&&v(c)&&void 0!==c.step)return{step:c.step}}function Gm(h,F,c){var r;switch(F.type){case "nominal":case "ordinal":if(Wa(h)||"discrete"===fc(h))return"shape"===h&&"ordinal"===F.type&&Eb(qd(h,"ordinal")),"ordinal";if(h in cg){if(E(["rect","bar","image","rule"],c))return"band"}else if("arc"===c&&h in Vj)return"band";return void 0!==F.band||Sd(F)&&(null===(r=F.axis)||
void 0===r?0:r.tickBand)?"band":"point";case "temporal":if(!Wa(h)){if("discrete"===fc(h))return Eb(qd(h,"temporal")),"ordinal";if(Vb(F)&&F.timeUnit&&Jb(F.timeUnit).utc)return"utc"}return"time";case "quantitative":if(Wa(h)){if(Vb(F)&&ic(F.bin))return"bin-ordinal"}else if("discrete"===fc(h))return Eb(qd(h,"quantitative")),"ordinal";return"linear";case "geojson":return}throw Error('Invalid field type "'.concat(F.type,'".'));}function Yk(h){if(Qf(h))h.component.scales=Hm(h);else{var F=h.component;{const ya=
h.component.scales={},Ya={};var c=h.component.resolve;for(const hb of h.children){Yk(hb);for(const Ab of xd(hb.component.scales)){var r,I=c.scale;if(null!==(r=c.scale[Ab])&&void 0!==r)var da=r;else{da=Ab;var pa=h;if(ci(pa)||Gg(pa))da="shared";else if(Uj(pa))da=da in cg?"independent":"shared";else throw Error("invalid model type for resolve");}I[Ab]=da;if("shared"===c.scale[Ab])if(I=Ya[Ab],da=hb.component.scales[Ab].getWithExplicit("type"),I){{pa=Mj[I.value];const Gb=Mj[da.value];pa=pa===Gb||"ordinal-position"===
pa&&"time"===Gb||"ordinal-position"===Gb&&"time"===pa}pa?Ya[Ab]=te(I,da,"type","scale",Im):(c.scale[Ab]="independent",delete Ya[Ab])}else Ya[Ab]=da}}for(const hb of xd(Ya)){r=h.scaleName(hb,!0);ya[hb]=new Zk(r,Ya[hb]);for(const Ab of h.children)if(c=Ab.component.scales[hb])Ab.renameScale(c.get("name"),r),c.merged=!0}h=ya}F.scales=h}}function Hm(h){const {encoding:F,mark:c}=h;return fj.reduce((r,I)=>{var da=va(F[I]);if(da&&c===$k&&"shape"===I&&"geojson"===da.type)return r;let pa=da&&da.scale;if(da&&
null!==pa&&!1!==pa){var ya;pa=null!==(ya=pa)&&void 0!==ya?ya:{};var Ya=pa;ya=Gm(I,da,c);({type:Ya}=Ya);if(Qg[I]){if(void 0!==Ya)if(Xd(I,Ya)){var hb;if(hb=Vb(da))hb=Ya,da=da.type,hb=!(E(["ordinal","nominal"],da)?void 0===hb||hb in og:"temporal"===da?E([Vf.TIME,Vf.UTC,void 0],hb):"quantitative"===da?E([Vf.LOG,Vf.POW,Vf.SQRT,Vf.SYMLOG,Vf.QUANTILE,Vf.QUANTIZE,Vf.THRESHOLD,Vf.LINEAR,void 0],hb):1);hb?(da=ya,da='FieldDef does not work with "'.concat(Ya,'" scale. We are using "').concat(da,'" scale instead.'),
Eb(da)):ya=Ya}else da=Ya,Ya=ya,da='Channel "'.concat(I,'" does not work with "').concat(da,'" scale. We are using "').concat(Ya,'" scale instead.'),Eb(da)}else ya=null;r[I]=new Zk(h.scaleName(I+"",!0),{value:ya,explicit:pa.type===ya})}return r},{})}function Qf(h){return"unit"===(null===h||void 0===h?void 0:h.type)}function Gg(h){return"facet"===(null===h||void 0===h?void 0:h.type)}function Uj(h){return"concat"===(null===h||void 0===h?void 0:h.type)}function ci(h){return"layer"===(null===h||void 0===
h?void 0:h.type)}function al(h){function F(r,I){r instanceof Uh&&!(r.isGenerator||"url"in r.data)&&(h.push(I),I={name:null,source:I.name,transform:[]});if(r instanceof mg)if(r.parent instanceof Uh&&!I.source){var da;I.format=Object.assign({},null!==(da=I.format)&&void 0!==da?da:{},{parse:r.assembleFormatParse()});I.transform.push(...r.assembleTransforms(!0))}else I.transform.push(...r.assembleTransforms());if(r instanceof ni){I.name||(I.name="data_".concat(c++));!I.source||0<I.transform.length?(h.push(I),
r.data=I.name):r.data=I.source;for(const pa of r.assemble())h.push(pa)}else switch((r instanceof tj||r instanceof uj||r instanceof vj||r instanceof Ji||r instanceof Qi||r instanceof wj||r instanceof Ri||r instanceof Og||r instanceof xj||r instanceof Pi||r instanceof oi||r instanceof Wj||r instanceof Xj||r instanceof Yj||r instanceof Zj||r instanceof ak||r instanceof bk||r instanceof Vh||r instanceof ck||r instanceof dk)&&I.transform.push(r.assemble()),(r instanceof Zg||r instanceof $g||r instanceof
qi||r instanceof Ah)&&I.transform.push(...r.assemble()),r instanceof ig&&(I.source&&0===I.transform.length?r.setSource(I.source):r.parent instanceof ig?r.setSource(I.name):(I.name||(I.name="data_".concat(c++)),r.setSource(I.name),1===r.numChildren()&&(h.push(I),I={name:null,source:I.name,transform:[]}))),r.numChildren()){case 0:r instanceof ig&&(!I.source||0<I.transform.length)&&h.push(I);break;case 1:F(r.children[0],I);break;default:I.name||(I.name="data_".concat(c++));da=I.name;!I.source||0<I.transform.length?
h.push(I):da=I.source;for(const pa of r.children)F(pa,{name:null,source:da,transform:[]})}}let c=0;return F}function Jm(h){const F=[],c=al(F);for(const r of h.children)c(r,{source:h.name,name:null,transform:[]});return F}function Km(h,F){const c=[];var r=al(c);let I=0;for(const ya of h.sources){ya.hasName()||(ya.dataName="source_".concat(I++));const Ya=ya.assemble();r(ya,Ya)}for(const ya of c)0===ya.transform.length&&delete ya.transform;r=0;for(const ya of c.entries()){const [Ya,hb]=ya;var da;0!==
(null!==(da=hb.transform)&&void 0!==da?da:[]).length||hb.source||c.splice(r++,0,c.splice(Ya,1)[0])}for(const ya of c)for(const Ya of null!==(pa=ya.transform)&&void 0!==pa?pa:[]){var pa;"lookup"===Ya.type&&(Ya.from=h.outputNodes[Ya.from].getSource())}for(const ya of c)ya.name in F&&(ya.values=F[ya.name]);return c}function bl(h,F,c){F="row"===F?"height":"width";return{labels:c,sizeSignal:h.child.component.layoutSize.get(F)?h.child.getSizeSignalRef(F):void 0,axes:[]}}function cl(h,F){var {child:c}=h;
if(c.component.axes[F]){const {layoutHeaders:I,resolve:da}=h.component;da.axis[F]=li(da,F);if("shared"===da.axis[F]){const pa="x"===F?"column":"row",ya=I[pa];for(const Ya of c.component.axes[F]){var r;F=Ya.get("orient");F="top"===F||"left"===F||vc(F)?"header":"footer";ya[F]=null!==(r=ya[F])&&void 0!==r?r:[bl(h,pa,!1)];(c=Lf(Ya,"main",h.config,{header:!0}))&&ya[F][0].axes.push(c);Ya.mainExtracted=!0}}}}function ek(h){for(const F of h.children)F.parseLayoutSize()}function yj(h,F){const c=qj(F),r=yb(c),
I=h.component.resolve,da=h.component.layoutSize;let pa;for(const ya of h.children){const Ya=ya.component.layoutSize.getWithExplicit(c),hb=I.scale[r];if("independent"===hb&&"step"===Ya.value){pa=void 0;break}if(pa){if("independent"===hb&&pa.value!==Ya.value){pa=void 0;break}pa=te(pa,Ya,c,"")}else pa=Ya}if(pa){for(const ya of h.children)h.renameSignal(ya.getName(c),h.getName(F)),ya.component.layoutSize.set(c,"merged",!1);da.setWithExplicit(F,pa)}else da.setWithExplicit(F,{explicit:!1,value:void 0})}
function Lm(h,F){const c=h.config;var r=h.getScaleComponent("width"===F?"x":"y");if(r)return h=r.get("type"),r=r.get("range"),h in og?(F=O(c.view,F),mc(r)||tb(F)?"step":F):Ac(c.view,F);if(h.hasProjection||"arc"===h.mark)return Ac(c.view,F);F=O(c.view,F);return tb(F)?F.step:F}function fk(h,F,c){return Yc(F,Object.assign({},{suffix:"by_".concat(Yc(h))},null!==c&&void 0!==c?c:{}))}function dl(h,F){for(const ya of F){var c,r,I,da;F=ya.data;if(h.name&&ya.hasName()&&h.name!==ya.dataName)continue;const Ya=
null===(c=h.format)||void 0===c?void 0:c.mesh;var pa=null===(r=F.format)||void 0===r?void 0:r.feature;if(Ya&&pa)continue;const hb=null===(I=h.format)||void 0===I?void 0:I.feature;if(!hb&&!pa||hb===pa)if(pa=null===(da=F.format)||void 0===da?void 0:da.mesh,!Ya&&!pa||Ya===pa)if("values"in h&&"values"in F){if(Zh(h.values,F.values))return ya}else if("url"in h&&"url"in F){if(h.url===F.url)return ya}else if(Gf(h)&&h.name===ya.dataName)return ya}return null}function Mm(h,F){if(h.data||!h.parent){if(null===
h.data)return h=new Uh({values:[]}),F.push(h),h;const c=dl(h.data,F);if(c)return Ae(h.data)||(c.data.format=S({},h.data.format,c.data.format)),!c.hasName()&&h.data.name&&(c.dataName=h.data.name),c;h=new Uh(h.data);F.push(h);return h}return h.parent.component.data.facetRoot?h.parent.component.data.facetRoot:h.parent.component.data.main}function zj(h){var F,c,r,I=Mm(h,h.component.data.sources);const {outputNodes:da,outputNodeRefCounts:pa}=h.component.data,ya=h.parent?h.parent.component.data.ancestorParse.clone():
new Nm,Ya=h.data;Ae(Ya)?("sequence"in Ya?I=new uj(I,Ya.sequence):"graticule"in Ya&&(I=new tj(I,Ya.graticule)),ya.parseNothing=!0):null===(null===Ya||void 0===Ya?void 0:null===(F=Ya.format)||void 0===F?void 0:F.parse)&&(ya.parseNothing=!0);I=null!==(c=mg.makeExplicit(I,h,ya))&&void 0!==c?c:I;I=new Vh(I);F=h.parent&&ci(h.parent);if((Qf(h)||Gg(h))&&F){var hb;I=null!==(hb=Zg.makeFromEncoding(I,h))&&void 0!==hb?hb:I}if(0<h.transforms.length){hb=0;for(const Cd of h.transforms){var Ab=c=void 0;if("calculate"in
Cd)Ab=I=new Qi(I,Cd),c="derived";else if("filter"in Cd){var Gb;Ab=Tj(Cd);Ab=I=null!==(Gb=mg.makeWithAncestors(I,{},Ab,ya))&&void 0!==Gb?Gb:I;I=new Ji(I,h,Cd.filter)}else if("bin"in Cd)Ab=I=Zg.makeFromTransform(I,Cd,h),c="number";else if("timeUnit"in Cd)c="date",void 0===ya.getWithExplicit(Cd.field).value&&(I=new mg(I,{[Cd.field]:c}),ya.set(Cd.field,c,!1)),Ab=I=$g.makeFromTransform(I,Cd);else if("aggregate"in Cd)Ab=I=Og.makeFromTransform(I,Cd),c="number",ei(h)&&(I=new Vh(I));else if("lookup"in Cd)Ab=
I=xj.make(I,h,Cd,hb++),c="derived";else if("window"in Cd)Ab=I=new Pi(I,Cd),c="number";else if("joinaggregate"in Cd)Ab=I=new oi(I,Cd),c="number";else if("stack"in Cd)Ab=I=Ah.makeFromTransform(I,Cd),c="derived";else if("fold"in Cd)Ab=I=new Wj(I,Cd),c="derived";else if("flatten"in Cd)Ab=I=new Xj(I,Cd),c="derived";else if("pivot"in Cd)Ab=I=new dk(I,Cd),c="derived";else if("sample"in Cd)I=new ck(I,Cd);else if("impute"in Cd)Ab=I=qi.makeFromTransform(I,Cd),c="derived";else if("density"in Cd)Ab=I=new Yj(I,
Cd),c="derived";else if("quantile"in Cd)Ab=I=new ak(I,Cd),c="derived";else if("regression"in Cd)Ab=I=new bk(I,Cd),c="derived";else if("loess"in Cd)Ab=I=new Zj(I,Cd),c="derived";else{Eb("Ignoring an invalid transform: ".concat(Of(Cd),"."));continue}if(Ab&&void 0!==c)for(const Hf of null!==(cc=Ab.producedFields())&&void 0!==cc?cc:[]){var cc;ya.set(Hf,c,!1)}}}Gb={};if(Qf(h)&&h.component.selection)for(Tc of xd(h.component.selection)){cc=h.component.selection[Tc];for(var Jc of cc.project.items)!Jc.channel&&
1<Ua(Jc.field)&&(Gb[Jc.field]="flatten")}var Tc=Gb;Jc=Th(h);I=null!==(r=mg.makeWithAncestors(I,{},Object.assign({},Tc,Jc),ya))&&void 0!==r?r:I;Qf(h)&&(I=Ri.parseAll(I,h),I=wj.parseAll(I,h));if(Qf(h)||Gg(h)){var bd;if(!F){var sd;I=null!==(sd=Zg.makeFromEncoding(I,h))&&void 0!==sd?sd:I}I=null!==(bd=$g.makeFromEncoding(I,h))&&void 0!==bd?bd:I;I=Qi.parseAllForSortIndex(I,h)}bd=h.getDataName(Nf.Raw);r=new ig(I,bd,Nf.Raw,pa);I=da[bd]=r;if(Qf(h)){var yd,he;if(bd=Og.makeFromEncoding(I,h))I=bd,ei(h)&&(I=new Vh(I));
I=null!==(yd=qi.makeFromEncoding(I,h))&&void 0!==yd?yd:I;I=null!==(he=Ah.makeFromEncoding(I,h))&&void 0!==he?he:I}if(Qf(h)){var Oe;I=null!==(Oe=vj.make(I,h))&&void 0!==Oe?Oe:I}he=h.getDataName(Nf.Main);yd=new ig(I,he,Nf.Main,pa);I=da[he]=yd;Qf(h)&&Ii(h,yd);Oe=null;if(Gg(h)){var Wd;he=h.getName("facet");{Oe=I;const {row:Cd,column:Hf}=h.facet;if(Cd&&Hf){bd=null;for(Le of[Cd,Hf])if(Zd(Le.sort)){const {field:Ue,op:qe="min"}=Le.sort;Oe=bd=new oi(Oe,{joinaggregate:[{op:qe,field:Ue,as:fk(Le,Le.sort,{forAs:!0})}],
groupby:[Yc(Le)]})}var Le=bd}else Le=null}I=null!==(Wd=Le)&&void 0!==Wd?Wd:I;Oe=new ni(I,h,he,yd.getSource());da[he]=Oe}return Object.assign({},h.component.data,{outputNodes:da,outputNodeRefCounts:pa,raw:r,main:yd,facetRoot:Oe,ancestorParse:ya})}function Om(h){return yg.reduce((F,c)=>{h.component.scales[c]&&(F[c]=[Pm(c,h)]);return F},{})}function Qm(h,F){if(h){if(h.length!==F.length)return;const c=h.length;for(let r=0;r<c;r++){const I=h[r],da=F[r];if(!!I!==!!da)return;if(I&&da){const pa=I.getWithExplicit("orient"),
ya=da.getWithExplicit("orient");if(pa.explicit&&ya.explicit&&pa.value!==ya.value)return;h[r]=Rm(I,da)}}}else return F.map(c=>c.clone());return h}function Rm(h,F){for(const c of el){const r=te(h.getWithExplicit(c),F.getWithExplicit(c),c,"axis",(I,da)=>{switch(c){case "title":return ua(I,da);case "gridScale":return{explicit:I.explicit,value:za(I.value,da.value)}}return kd(I,da,c,"axis")});h.setWithExplicit(c,r)}return h}function Sm(h,F,c,r,I){if("disable"===F)return void 0!==c;c=c||{};switch(F){case "titleAngle":case "labelAngle":return h===
(vc(c.labelAngle)?c.labelAngle:X(c.labelAngle));case "values":return!!c.values;case "encode":return!!c.encoding||!!c.labelAngle;case "title":if(h===Mi(r,I))return!0}return h===c[F]}function Pm(h,F){var c,r,I,da,pa;let ya=F.axis(h);const Ya=new fl;var hb=va(F.encoding[h]);const {mark:Ab,config:Gb}=F;var cc=(null===(c=ya)||void 0===c?void 0:c.orient)||(null===(r=Gb["x"===h?"axisX":"axisY"])||void 0===r?void 0:r.orient)||(null===(I=Gb.axis)||void 0===I?void 0:I.orient)||("x"===h?"bottom":"left");r=F.getScaleComponent(h).get("type");
c=pj(h,r,cc,F.config);I=void 0!==ya?!ya:Ng("disable",Gb.style,null===(da=ya)||void 0===da?void 0:da.style,c).configValue;Ya.set("disable",I,void 0!==ya);if(I)return Ya;ya=ya||{};da=Qj(hb,ya,h,Gb.style,c);hb={fieldOrDatumDef:hb,axis:ya,channel:h,model:F,scaleType:r,orient:cc,labelAngle:da,mark:Ab,config:Gb};for(const Tc of el)if(cc=Tc in gl?gl[Tc](hb):hl[Tc]?ya[Tc]:void 0,da=void 0!==cc,r=Sm(cc,Tc,ya,F,h),da&&r)Ya.set(Tc,cc,r);else{const {configValue:bd,configFrom:sd}=hl[Tc]&&"values"!==Tc?Ng(Tc,Gb.style,
ya.style,c):{};I=void 0!==bd;da&&!I?Ya.set(Tc,cc,r):("vgAxisConfig"!==sd||Tm.has(Tc)&&I||oa(bd)||vc(bd))&&Ya.set(Tc,bd,!1)}const Jc=null!==(pa=ya.encoding)&&void 0!==pa?pa:{};pa=Mk.reduce((Tc,bd)=>{var sd;if(!Ya.hasAxisPart(bd))return Tc;var yd=ag(null!==(sd=Jc[bd])&&void 0!==sd?sd:{},F);if("labels"===bd){{var he;const {encoding:Oe,config:Wd}=F;sd=null!==(he=va(Oe[h]))&&void 0!==he?he:va(Oe[Ea(h)]);he=F.axis(h)||{};const {format:Le,formatType:Cd}=he;yd=zc(Cd)?Object.assign({},{text:xe({fieldOrDatumDef:sd,
field:"datum.value",format:Le,formatType:Cd,config:Wd})},yd):yd}}void 0===yd||N(yd)||(Tc[bd]={update:yd});return Tc},{});N(pa)||Ya.set("encode",pa,!!ya.encoding||void 0!==ya.labelAngle);return Ya}function Um(h,F,c){switch(h){case Aj:case gk:case hk:case il:case Vm:case Wm:return}const {x:r,y:I,x2:da,y2:pa}=F;switch(h){case Bj:if(Vb(r)&&(xc(r.bin)||Vb(I)&&I.aggregate&&!r.aggregate))break;if(Vb(I)&&(xc(I.bin)||Vb(r)&&r.aggregate&&!I.aggregate))return"horizontal";if(pa||da){if(c)return c;if(!da&&(Vb(r)&&
"quantitative"===r.type&&!ic(r.bin)||Bd(r)))return"horizontal";if(!pa&&(Vb(I)&&"quantitative"===I.type&&!ic(I.bin)||Bd(I)))break}case Cj:if(!(!da||Vb(r)&&xc(r.bin)||!pa||Vb(I)&&xc(I.bin)))return;case Dj:if(pa){if(Vb(I)&&xc(I.bin))return"horizontal";break}else if(da)if(Vb(r)&&xc(r.bin))break;else return"horizontal";else if(h===Cj)if(r&&!I)break;else if(I&&!r)return"horizontal";case Ej:case ik:F=Cc(r);var ya=Cc(I);if(F&&!ya)return"tick"!==h?"horizontal":"vertical";if(!F&&ya)return"tick"!==h?"vertical":
"horizontal";if(F&&ya){F="temporal"===r.type;ya="temporal"===I.type;if(F&&!ya)return"tick"!==h?"vertical":"horizontal";if(!F&&ya)return"tick"!==h?"horizontal":"vertical";if(!r.aggregate&&I.aggregate)return"tick"!==h?"vertical":"horizontal";if(r.aggregate&&!I.aggregate)return"tick"!==h?"horizontal":"vertical";if(c)return c}else{if(c)return c;return}}return"vertical"}function jk(h,F){return Object.assign({},pg(h,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),
Xf("x",h,{defaultPos:"mid"}),Xf("y",h,{defaultPos:"mid"}),Tf("size",h),Tf("angle",h),F?{shape:{value:F}}:Tf("shape",h))}function Xm(h,F,c){if(void 0===$d("align",h,c))return"center"}function Ym(h,F,c){if(void 0===$d("baseline",h,c))return"middle"}function Zm(h){var F;const {config:c,markDef:r}=h;var {orient:I}=r;const da="horizontal"===I?"width":"height";h=h.getScaleComponent("horizontal"===I?"x":"y");I=null!==(F=$d("size",r,c,{vgChannel:da}))&&void 0!==F?F:c.tick.bandSize;return void 0!==I?I:(F=
h?h.get("range"):void 0)&&mc(F)&&a(F.step)?3*F.step/4:3*q(c.view,da)/4}function $m(h){if(E([Ej,Dj,an],h.mark)){var F=oc(h.mark,h.encoding);if(0<F.length)return bn(h,F)}else if(E([Bj],h.mark)&&(F=kk.some(c=>$d(c,h.markDef,h.config)),h.stack&&!h.fieldDef("size")&&F))return cn(h);return lk(h)}function bn(h,F){return[{name:h.getName("pathgroup"),type:"group",from:{facet:{name:"faceted_path_"+h.requestDataName(Nf.Main),data:h.requestDataName(Nf.Main),groupby:F}},encode:{update:{width:{field:{group:"width"}},
height:{field:{group:"height"}}}},marks:lk(h,{fromPrefix:"faceted_path_"})}]}function cn(h){const [F]=lk(h,{fromPrefix:"stack_group_"}),c=h.scaleName(h.stack.fieldChannel),r=Ya=>{Ya=void 0===Ya?{}:Ya;return h.vgField(h.stack.fieldChannel,Ya)};var I=(Ya,hb)=>{hb=[r({prefix:"min",suffix:"start",expr:hb}),r({prefix:"max",suffix:"start",expr:hb}),r({prefix:"min",suffix:"end",expr:hb}),r({prefix:"max",suffix:"end",expr:hb})];return"".concat(Ya,"(").concat(hb.map(Ab=>"scale('".concat(c,"',").concat(Ab,
")")).join(","),")")};let da;"x"===h.stack.fieldChannel?(I=Object.assign({},M(F.encode.update,["y","yc","y2","height",...kk]),{x:{signal:I("min","datum")},x2:{signal:I("max","datum")},clip:{value:!0}}),da={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},F.encode.update=Object.assign({},K(F.encode.update,["y","yc","y2"]),{height:{field:{group:"height"}}})):(I=Object.assign({},M(F.encode.update,["x","xc","x2","width"]),{y:{signal:I("min","datum")},y2:{signal:I("max","datum")},clip:{value:!0}}),
da={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},F.encode.update=Object.assign({},K(F.encode.update,["x","xc","x2"]),{width:{field:{group:"width"}}}));for(var pa of kk){var ya=Qe(pa,h.markDef,h.config);F.encode.update[pa]?(I[pa]=F.encode.update[pa],delete F.encode.update[pa]):ya&&(I[pa]=Kd(ya));ya&&(F.encode.update[pa]={value:0})}pa=h.fieldDef(h.stack.groupbyChannel);ya=Yc(pa)?[Yc(pa)]:[];((null===pa||void 0===pa?0:pa.bin)||(null===pa||void 0===pa?0:pa.timeUnit))&&ya.push(Yc(pa,{binSuffix:"end"}));
I="stroke strokeWidth strokeJoin strokeCap strokeDash strokeDashOffset strokeMiterLimit strokeOpacity".split(" ").reduce((Ya,hb)=>{if(F.encode.update[hb])return Object.assign({},Ya,{[hb]:F.encode.update[hb]});{const Ab=Qe(hb,h.markDef,h.config);return void 0!==Ab?Object.assign({},Ya,{[hb]:Kd(Ab)}):Ya}},I);I.stroke&&(I.strokeForeground={value:!0},I.strokeOffset={value:0});return[{type:"group",from:{facet:{data:h.requestDataName(Nf.Main),name:"stack_group_"+h.requestDataName(Nf.Main),groupby:ya,aggregate:{fields:[r({suffix:"start"}),
r({suffix:"start"}),r({suffix:"end"}),r({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:I},marks:[{type:"group",encode:{update:da},marks:[F]}]}]}function dn(h){const {encoding:F,stack:c,mark:r,markDef:I,config:da}=h;var pa=F.order;if(!(!le(pa)&&$c(pa)&&y(pa.value)||!pa&&y($d("order",I,da)))){if((le(pa)||Vb(pa))&&!c)return ef(pa,{expr:"datum"});if(fe(r)){const ya="horizontal"===I.orient?"y":"x",Ya=F[ya];if(Vb(Ya)){pa=Ya.sort;if(le(pa))return{field:Yc(Ya,{prefix:ya,suffix:"sort_index",
expr:"datum"})};if(Zd(pa))return{field:Yc({aggregate:bb(h.encoding)?pa.op:void 0,field:pa.field},{expr:"datum"})};if(pa&&pa.encoding)return h=h.fieldDef(pa.encoding),{field:Yc(h,{expr:"datum"}),order:pa.order};if(null!==pa)return{field:Yc(Ya,{binSuffix:h.stack&&h.stack.impute?"mid":void 0,expr:"datum"})}}}}}function lk(h,F){F=void 0===F?{fromPrefix:""}:F;const {mark:c,markDef:r,encoding:I,config:da}=h;var pa=r.clip;var ya=h.getScaleComponent("x");var Ya=h.getScaleComponent("y");ya=ya&&ya.get("selectionExtent")||
Ya&&Ya.get("selectionExtent")?!0:void 0;Ya=(Ya=h.component.projection)&&!Ya.isFit?!0:void 0;pa=za(pa,ya,Ya);ya=pf(r);Ya=I.key;const hb=dn(h);var Ab;if(h.component.selection){for(var Gb=Ab=xd(h.component.selection).length,cc=h.parent;cc&&0===Gb;)Gb=xd(cc.component.selection).length,cc=cc.parent;Ab=Gb?{interactive:0<Ab||!!h.encoding.tooltip}:null}else Ab=null;Gb=$d("aria",r,da);cc=Fj[c].postEncodingTransform?Fj[c].postEncodingTransform(h):null;return[Object.assign({},{name:h.getName("marks"),type:Fj[c].vgMark},
pa?{clip:!0}:{},ya?{style:ya}:{},Ya?{key:Ya.field}:{},hb?{sort:hb}:{},Ab?Ab:{},!1===Gb?{aria:Gb}:{},{from:{data:F.fromPrefix+h.requestDataName(Nf.Main)},encode:{update:Fj[c].encodeEntry(h)}},cc?{transform:cc}:{})]}function mk(h,F,c,r,I){if("facet"in h)return new Gj(h,F,c,I);if("layer"in h)return new jl(h,F,c,r,I);if(Ka(h))return new kl(h,F,c,r,I);if("vconcat"in h||"hconcat"in h||"concat"in h)return new en(h,F,c,I);throw Error(Ec(h));}function fn(h,F,c,r){c=void 0===c?{}:c;const I=h.config?cb(h.config):
void 0;c=[].concat(h.assembleSelectionData([]),Km(h.component.data,c));const da=h.assembleProjections(),pa=h.assembleTitle(),ya=h.assembleGroupStyle(),Ya=h.assembleGroupEncodeEntry(!0);let hb=h.assembleLayoutSignals();hb=hb.filter(cc=>"width"!==cc.name&&"height"!==cc.name||void 0===cc.value?!0:(F[cc.name]=+cc.value,!1));var Ab=Object.assign({},F);const Gb=F.params;Ab=(delete Ab.params,Ab);return Object.assign({},{$schema:"https://vega.github.io/schema/vega/v5.json"},h.description?{description:h.description}:
{},Ab,pa?{title:pa}:{},ya?{style:ya}:{},Ya?{encode:{update:Ya}}:{},{data:c},0<da.length?{projections:da}:{},h.assembleGroup([...hb,...h.assembleSelectionTopLevelSignals([]),...Xc(Gb)]),I?{config:I}:{},r?{usermeta:r}:{})}const Al=h=>function(F){return F[h]},Bl=h=>{const F=h.length;return function(c){for(let r=0;r<F;++r)c=c[h[r]];return c}};(function(h,F,c){const r=L(h);h=1===r.length?r[0]:h;return u((c&&c.get||G)(r),[h],F||h)})("id");const fm=u(h=>h,[],"identity");u(()=>0,[],"zero");u(()=>1,[],"one");
u(()=>!0,[],"true");u(()=>!1,[],"false");var le=Array.isArray;const Yh=Object.prototype.hasOwnProperty;Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function c(F){var r=isNaN(F)?1:Number(F);return r?Array.prototype.reduce.call(this,function(I,da){return Array.isArray(da)?I.push.apply(I,c.call(da,r-1)):I.push(da),I},[]):Array.prototype.slice.call(this)},writable:!0});Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,
value:function(F){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var ri=function(F,c){c||(c={});"function"===typeof c&&(c={cmp:c});var r="boolean"===typeof c.cycles?c.cycles:!1,I=c.cmp&&function(pa){return function(ya){return function(Ya,hb){return pa({key:Ya,value:ya[Ya]},{key:hb,value:ya[hb]})}}}(c.cmp),da=[];return function Ya(ya){ya&&ya.toJSON&&"function"===typeof ya.toJSON&&(ya=ya.toJSON());if(void 0!==ya){if("number"==typeof ya)return isFinite(ya)?""+ya:"null";if("object"!==
typeof ya)return JSON.stringify(ya);var hb;if(Array.isArray(ya)){var Ab="[";for(hb=0;hb<ya.length;hb++)hb&&(Ab+=","),Ab+=Ya(ya[hb])||"null";return Ab+"]"}if(null===ya)return"null";if(-1!==da.indexOf(ya)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var Gb=da.push(ya)-1,cc=Object.keys(ya).sort(I&&I(ya));Ab="";for(hb=0;hb<cc.length;hb++){var Jc=cc[hb],Tc=Ya(ya[Jc]);Tc&&(Ab&&(Ab+=","),Ab+=JSON.stringify(Jc)+":"+Tc)}da.splice(Gb,1);return"{"+Ab+
"}"}}(F)};const Zh=function I(c,r){if(c===r)return!0;if(c&&r&&"object"==typeof c&&"object"==typeof r){if(c.constructor!==r.constructor)return!1;var da;if(Array.isArray(c)){var pa=c.length;if(pa!=r.length)return!1;for(da=pa;0!==da--;)if(!I(c[da],r[da]))return!1;return!0}if(c.constructor===RegExp)return c.source===r.source&&c.flags===r.flags;if(c.valueOf!==Object.prototype.valueOf)return c.valueOf()===r.valueOf();if(c.toString!==Object.prototype.toString)return c.toString()===r.toString();var ya=Object.keys(c);
pa=ya.length;if(pa!==Object.keys(r).length)return!1;for(da=pa;0!==da--;)if(!Object.prototype.hasOwnProperty.call(r,ya[da]))return!1;for(da=pa;0!==da--;)if(pa=ya[da],!I(c[pa],r[pa]))return!1;return!0}return c!==c&&r!==r},Te=function(c,r,I){return I={path:r,exports:{},require:function(da,pa){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs");}},c(I,I.exports),I.exports}(function(c){var r=function(){function I(Gb,cc){return null!=cc&&Gb instanceof cc}function da(Gb,
cc,Jc,Tc,bd){function sd(Wd,Le){if(null===Wd)return null;if(0===Le||"object"!=typeof Wd)return Wd;if(I(Wd,Ya))var Cd=new Ya;else if(I(Wd,hb))Cd=new hb;else if(I(Wd,Ab))Cd=new Ab(function(Rf,qf){Wd.then(function(Sf){Rf(sd(Sf,Le-1))},function(Sf){qf(sd(Sf,Le-1))})});else if(da.__isArray(Wd))Cd=[];else if(da.__isRegExp(Wd))Cd=new RegExp(Wd.source,ya(Wd)),Wd.lastIndex&&(Cd.lastIndex=Wd.lastIndex);else if(da.__isDate(Wd))Cd=new Date(Wd.getTime());else{if(Oe&&m.isBuffer(Wd))return Cd=m.allocUnsafe?m.allocUnsafe(Wd.length):
new m(Wd.length),Wd.copy(Cd),Cd;if(I(Wd,Error))Cd=Object.create(Wd);else if("undefined"==typeof Tc){var Hf=Object.getPrototypeOf(Wd);Cd=Object.create(Hf)}else Cd=Object.create(Tc),Hf=Tc}if(cc){var Ue=yd.indexOf(Wd);if(-1!=Ue)return he[Ue];yd.push(Wd);he.push(Cd)}I(Wd,Ya)&&Wd.forEach(function(Rf,qf){qf=sd(qf,Le-1);Rf=sd(Rf,Le-1);Cd.set(qf,Rf)});I(Wd,hb)&&Wd.forEach(function(Rf){Rf=sd(Rf,Le-1);Cd.add(Rf)});for(var qe in Wd){var Bf;Hf&&(Bf=Object.getOwnPropertyDescriptor(Hf,qe));Bf&&null==Bf.set||(Cd[qe]=
sd(Wd[qe],Le-1))}if(Object.getOwnPropertySymbols)for(Ue=Object.getOwnPropertySymbols(Wd),qe=0;qe<Ue.length;qe++)if(Bf=Ue[qe],Hf=Object.getOwnPropertyDescriptor(Wd,Bf),!Hf||Hf.enumerable||bd)Cd[Bf]=sd(Wd[Bf],Le-1),Hf.enumerable||Object.defineProperty(Cd,Bf,{enumerable:!1});if(bd)for(Ue=Object.getOwnPropertyNames(Wd),qe=0;qe<Ue.length;qe++)Bf=Ue[qe],Hf=Object.getOwnPropertyDescriptor(Wd,Bf),Hf&&Hf.enumerable||(Cd[Bf]=sd(Wd[Bf],Le-1),Object.defineProperty(Cd,Bf,{enumerable:!1}));return Cd}"object"===
typeof cc&&(Jc=cc.depth,Tc=cc.prototype,bd=cc.includeNonEnumerable,cc=cc.circular);var yd=[],he=[],Oe="undefined"!=typeof m;"undefined"==typeof cc&&(cc=!0);"undefined"==typeof Jc&&(Jc=Infinity);return sd(Gb,Jc)}function pa(Gb){return Object.prototype.toString.call(Gb)}function ya(Gb){var cc="";Gb.global&&(cc+="g");Gb.ignoreCase&&(cc+="i");Gb.multiline&&(cc+="m");return cc}try{var Ya=Map}catch(Gb){Ya=function(){}}try{var hb=Set}catch(Gb){hb=function(){}}try{var Ab=Promise}catch(Gb){Ab=function(){}}da.clonePrototype=
function(Gb){if(null===Gb)return null;var cc=function(){};cc.prototype=Gb;return new cc};da.__objToStr=pa;da.__isDate=function(Gb){return"object"===typeof Gb&&"[object Date]"===pa(Gb)};da.__isArray=function(Gb){return"object"===typeof Gb&&"[object Array]"===pa(Gb)};da.__isRegExp=function(Gb){return"object"===typeof Gb&&"[object RegExp]"===pa(Gb)};da.__getRegExpFlags=ya;return da}();c.exports&&(c.exports=r)});Set.prototype.toJSON=function(){return"Set(".concat([...this].map(c=>ri(c)).join(","),")")};
const Of=ri,xd=Object.keys,Tg=Object.values,si=Object.entries;let tk=42;const Lk={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",
vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}},Mk=["domain","grid","labels","ticks","title"],lm={grid:"grid",
gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",
labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"main",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",
titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},ll={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,
domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,
tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},hl=Object.assign({},ll,{style:1,labelExpr:1,encoding:1}),Fk=xd({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,
axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1}),Cl={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},Dm={count:1,min:1,max:1},Dl=["count","valid","missing","distinct"],Wl=["count",
"sum","distinct","valid","missing"],Cm=x("mean average median q1 q3 min max".split(" ")),Kj={theta:1,theta2:1,radius:1,radius2:1},nk={longitude:1,longitude2:1,latitude:1,latitude2:1},gn=xd(nk),ml=Object.assign({},{x:1,y:1,x2:1,y2:1},Kj,nk,{color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1}),nl={row:1,column:1,facet:1},zg=xd(nl),Ui=Object.assign({},ml,nl),Il=xd(Ui);var Hj=
Object.assign({},Ui),hn=(delete Hj.order,delete Hj.detail,delete Hj.tooltip,Hj),Ij=Object.assign({},hn);const jn=(delete Ij.row,delete Ij.column,delete Ij.facet,Ij),kn="x2 y2 latitude2 longitude2 theta2 radius2".split(" ");var wg=Object.assign({},ml);const Nj=(delete wg.x,delete wg.y,delete wg.x2,delete wg.y2,delete wg.latitude,delete wg.longitude,delete wg.latitude2,delete wg.longitude2,delete wg.theta,delete wg.theta2,delete wg.radius,delete wg.radius2,wg),Tl=xd(Nj),cg={x:1,y:1},yg=xd(cg),Vj={theta:1,
radius:1},ln=xd(Vj);var ah=Object.assign({},Nj);const ol=(delete ah.text,delete ah.tooltip,delete ah.href,delete ah.url,delete ah.description,delete ah.detail,delete ah.key,delete ah.order,ah),mn=xd(ol),Qg=Object.assign({},cg,Vj,ol),fj=xd(Qg),uk={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"};var pl=Object.assign({},uk);const El=(delete pl.geoshape,
pl),ql=function(c,r){let I=c||0;return{level(da){return arguments.length?(I=+da,this):I},error(){1<=I&&w(r||"error","ERROR",arguments);return this},warn(){2<=I&&w(r||"warn","WARN",arguments);return this},info(){3<=I&&w(r||"log","INFO",arguments);return this},debug(){4<=I&&w(r||"log","DEBUG",arguments);return this}}}(2);let Si=ql;const vk="january february march april may june july august september october november december".split(" "),Fl=vk.map(c=>c.substr(0,3)),wk="sunday monday tuesday wednesday thursday friday saturday".split(" "),
Gl=wk.map(c=>c.substr(0,3)),yk={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Lj=xd(yk),Hl={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "},cm=xd({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,
shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),$l={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},kk=["cornerRadius","cornerRadiusTopLeft",
"cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"],Vf={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},Mj={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal",
"bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},rl={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0},sl="linear log pow sqrt symlog time utc".split(" "),Fg=x(sl),mm=x(["linear","log","pow","sqrt","symlog"]),Ti=x(["quantile","quantize","threshold"]),nn=sl.concat(["quantile","quantize","threshold",
"sequential","identity"]),xg=x(nn),og=x(["ordinal","bin-ordinal","point","band"]);var Wh=Object.assign({},{type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1});const on=(delete Wh.type,delete Wh.domain,delete Wh.range,delete Wh.rangeMax,delete Wh.rangeMin,delete Wh.scheme,Wh),pn=xd(on),ng={arc:"arc",area:"area",bar:"bar",
image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},tl=ng.arc,Dj=ng.area,Bj=ng.bar,Wm=ng.image,Ej=ng.line,Aj=ng.point,Vm=ng.rect,Cj=ng.rule,il=ng.text,ik=ng.tick,an=ng.trail,gk=ng.circle,hk=ng.square,$k=ng.geoshape,ul=xd(ng);x(ul);const qn="stroke strokeWidth strokeDash strokeDashOffset strokeOpacity strokeJoin strokeMiterLimit fill fillOpacity".split(" "),Hk=xd({color:1,filled:1,invalid:1,order:1,
radius2:1,theta2:1,timeUnitBand:1,timeUnitBandPosition:1}),Ek=xd({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1}),rn={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},xk={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1},vl=(c,r)=>{switch(r.fieldTitle){case "plain":return c.field;case "functional":{const {aggregate:I,
bin:da,timeUnit:pa,field:ya}=c;Aa(I)?c="".concat(ya," for argmax(").concat(I.argmax,")"):na(I)?c="".concat(ya," for argmin(").concat(I.argmin,")"):(c=Jb(pa),c=(c=I||(null===c||void 0===c?void 0:c.unit)||(null===c||void 0===c?void 0:c.maxbins)&&"timeunit"||ic(da)&&"bin")?c.toUpperCase()+"("+ya+")":ya)}return c;default:return Xe(c,r)}};let ti=vl;const Ch={compatible:!0};class Vi{constructor(c,r){this.name=c;this.run=r}hasMatchingType(c){return Ka(c)?(c=c.mark,(zd(c)?c.type:c)===this.name):!1}}const sn=
new Vi("boxplot",wc),tn=new Vi("errorbar",Pc),un=new Vi("errorband",cd),Bk={};pd("boxplot",wc,["box","median","outliers","rule","ticks"]);pd("errorbar",Pc,["ticks","rule"]);pd("errorband",cd,["band","borders"]);const Pl=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],Nk={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",
titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},Ok={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},nm=xd(Nk),om=xd(Ok),Gk=xd({header:1,headerRow:1,headerColumn:1,
headerFacet:1}),Pk="size shape fill stroke strokeDash strokeWidth opacity".split(" "),Kl=["background","padding"],Ll=xd({align:1,bounds:1,center:1,columns:1,spacing:1}),Ml={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:20},mark:{color:"#4c78a8",invalid:"filter",timeUnitBand:1},arc:{},area:{},bar:{binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},circle:{},geoshape:{},image:{},line:{},point:{},rect:{binSpacing:0,
continuousBandSize:5,timeUnitBandPosition:.5},rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4},
projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:{single:{on:"click",fields:["_vgsid_"],resolve:"global",empty:"all",clear:"dblclick"},multi:{on:"click",fields:["_vgsid_"],toggle:"event.shiftKey",resolve:"global",empty:"all",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] \x3e window:mousemove!",
encodings:["x","y"],translate:"[mousedown, window:mouseup] \x3e window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}},style:{},title:{},facet:{spacing:20},concat:{spacing:20}},bh="#4c78a8 #f58518 #e45756 #72b7b2 #54a24b #eeca3b #b279a2 #ff9da6 #9d755d #bab0ac".split(" "),Dk={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},Ck={blue:bh[0],orange:bh[1],red:bh[2],teal:bh[3],green:bh[4],yellow:bh[5],purple:bh[6],pink:bh[7],
brown:bh[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"},Nl=[...Ek,...Fk,...Gk,"background","padding","legend","lineBreak","scale","style","title","view"],Ql=["view",...ul],Ol="color fontSize background padding facet concat numberFormat timeFormat countTitle header axisQuantitative axisTemporal axisDiscrete axisPoint axisXBand axisXPoint axisXDiscrete axisXQuantitative axisXTemporal axisYBand axisYPoint axisYDiscrete axisYQuantitative axisYTemporal scale selection overlay".split(" "),
Rl=Object.assign({},{view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]});class vn{map(c,r){return"facet"in c?this.mapFacet(c,r):"repeat"in c?this.mapRepeat(c,r):"hconcat"in c?this.mapHConcat(c,r):"vconcat"in c?this.mapVConcat(c,r):"concat"in c?this.mapConcat(c,r):this.mapLayerOrUnit(c,
r)}mapLayerOrUnit(c,r){if("layer"in c)return this.mapLayer(c,r);if(Ka(c))return this.mapUnit(c,r);throw Error(Ec(c));}mapLayer(c,r){return Object.assign({},c,{layer:c.layer.map(I=>this.mapLayerOrUnit(I,r))})}mapHConcat(c,r){return Object.assign({},c,{hconcat:c.hconcat.map(I=>this.map(I,r))})}mapVConcat(c,r){return Object.assign({},c,{vconcat:c.vconcat.map(I=>this.map(I,r))})}mapConcat(c,r){var I=Object.assign({},c);c=c.concat;I=(delete I.concat,I);return Object.assign({},I,{concat:c.map(da=>this.map(da,
r))})}mapFacet(c,r){return Object.assign({},c,{spec:this.map(c.spec,r)})}mapRepeat(c,r){return Object.assign({},c,{spec:this.map(c.spec,r)})}}const Vl={zero:1,center:1,normalize:1},Sl=new Set([tl,Bj,Dj,Cj,Aj,gk,hk,Ej,il,ik]),Ul=new Set([Bj,Dj,tl]);class wn{constructor(){bc(this,"name","path-overlay")}hasMatchingType(c,r){if(Ka(c)){const {mark:I,encoding:da}=c;c=zd(I)?I:{type:I};switch(c.type){case "line":case "rule":case "trail":return!!Fc(c,r[c.type],da);case "area":return!!Fc(c,r[c.type],da)||!!Rc(c,
r[c.type])}}return!1}run(c,r,I){const {config:da}=r;var pa=Object.assign({},c),ya=c.selection;const Ya=c.projection;var hb=c.mark;c=c.encoding;pa=(delete pa.selection,delete pa.projection,delete pa.mark,delete pa.encoding,pa);c=ub(c,da);hb=zd(hb)?hb:{type:hb};const Ab=Fc(hb,da[hb.type],c),Gb="area"===hb.type&&Rc(hb,da[hb.type]);ya=[Object.assign({},ya?{selection:ya}:{},{mark:Yb(Object.assign({},"area"===hb.type&&void 0===hb.opacity&&void 0===hb.fillOpacity?{opacity:.7}:{},hb)),encoding:K(c,["shape"])})];
const cc=Kb(hb,c);let Jc=c;if(cc){const {fieldChannel:Tc,offset:bd}=cc;Jc=Object.assign({},c,{[Tc]:Object.assign({},c[Tc],bd?{stack:bd}:{})})}Gb&&ya.push(Object.assign({},Ya?{projection:Ya}:{},{mark:Object.assign({},{type:"line"},M(hb,["clip","interpolate","tension","tooltip"]),Gb),encoding:Jc}));Ab&&ya.push(Object.assign({},Ya?{projection:Ya}:{},{mark:Object.assign({},{type:"point",opacity:1,filled:!0},M(hb,["clip","tooltip"]),Ab),encoding:Jc}));return I(Object.assign({},pa,{layer:ya}),Object.assign({},
r,{config:Ob(da)}))}}class xn{constructor(){bc(this,"name","RangeStep")}hasMatchingType(c){if(Ka(c)&&c.encoding)for(const I of yg){const da=c.encoding[I];if(da&&dd(da)){var r;if(null===da||void 0===da?0:null===(r=da.scale)||void 0===r?0:r.rangeStep)return!0}}return!1}run(c){const r={};let I=Object.assign({},c.encoding);for(const hb of yg){const Ab=Qa(hb);var da=I[hb];if(da&&dd(da)){var pa;if(null===da||void 0===da?0:null===(pa=da.scale)||void 0===pa?0:pa.rangeStep){var ya=Object.assign({},da);da=
da.scale;ya=(delete ya.scale,ya);var Ya=Object.assign({},da);Ya=(delete Ya.rangeStep,Ya);r[Ab]={step:da.rangeStep};Eb('Scale\'s "rangeStep" is deprecated and will be removed in Vega-Lite 5.0. Please use "width"/"height": {"step": ...} instead. See https://vega.github.io/vega-lite/docs/size.html.');I=Object.assign({},I,{[hb]:Object.assign({},ya,N(Ya)?{}:{scale:Ya})})}}}return Object.assign({},r,c,{encoding:I})}}class yn{constructor(){bc(this,"name","RuleForRangedLine")}hasMatchingType(c){if(Ka(c)){const {encoding:r,
mark:I}=c;if("line"===I)for(const da of kn)if(c=Da(da),c=r[c],r[da]&&(Vb(c)&&!xc(c.bin)||Vc(c)))return!0}return!1}run(c,r,I){var {encoding:da}=c,pa=!!da.x2;da="Line mark is for continuous lines and thus cannot be used with ".concat(pa&&da.y2?"x2 and y2":pa?"x2":"y2",". We will use the rule mark (line segments) instead.");Eb(da);return I(Object.assign({},c,{mark:"rule"}),r)}}class zn extends vn{constructor(...c){super(...c);bc(this,"nonFacetUnitNormalizers",[sn,tn,un,new wn,new yn,new xn])}map(c,r){if(Ka(c)){const I=
Oa(c.encoding,"row"),da=Oa(c.encoding,"column"),pa=Oa(c.encoding,"facet");if(I||da||pa)return this.mapFacetedUnit(c,r)}return super.map(c,r)}mapUnit(c,r){const {parentEncoding:I,parentProjection:da}=r;var pa=md(c.encoding,r.repeater);c=Object.assign({},c,pa?{encoding:pa}:{});if(I||da)return this.mapUnitWithParentEncodingOrProjection(c,r);pa=this.mapLayerOrUnit.bind(this);for(const ya of this.nonFacetUnitNormalizers)if(ya.hasMatchingType(c,r.config))return ya.run(c,r,pa);return c}mapRepeat(c,r){return!le(c.repeat)&&
c.repeat.layer?this.mapLayerRepeat(c,r):this.mapNonLayerRepeat(c,r)}mapLayerRepeat(c,r){var I=Object.assign({},c);const da=c.repeat,pa=c.spec;I=(delete I.repeat,delete I.spec,I);const {row:ya,column:Ya,layer:hb}=da,{repeater:Ab={},repeaterPrefix:Gb=""}=r;return ya||Ya?this.mapRepeat(Object.assign({},c,{repeat:Object.assign({},ya?{row:ya}:{},Ya?{column:Ya}:{}),spec:{repeat:{layer:hb},spec:pa}}),r):Object.assign({},I,{layer:hb.map(cc=>{var Jc=Object.assign({},Ab,{layer:cc});cc=(pa.name||"")+Gb+"child__layer_".concat(W(cc));
Jc=this.mapLayerOrUnit(pa,Object.assign({},r,{repeater:Jc,repeaterPrefix:cc}));Jc.name=cc;return Jc})})}mapNonLayerRepeat(c,r){var I,da=c,pa=Object.assign({},da);const ya=da.repeat,Ya=da.spec;da=da.data;pa=(delete pa.repeat,delete pa.spec,delete pa.data,pa);!le(ya)&&c.columns&&(c=K(c,["columns"]),Eb(hd("repeat")));const hb=[],{repeater:Ab={},repeaterPrefix:Gb=""}=r,cc=!le(ya)&&ya.row||[Ab?Ab.row:null],Jc=!le(ya)&&ya.column||[Ab?Ab.column:null];var Tc=le(ya)&&ya||[Ab?Ab.repeat:null];for(const sd of Tc)for(const yd of cc)for(const he of Jc){var bd=
{repeat:sd,row:yd,column:he,layer:Ab.layer};Tc=(Ya.name||"")+Gb+"child__"+(le(ya)?"".concat(W(sd)):(ya.row?"row_".concat(W(yd)):"")+(ya.column?"column_".concat(W(he)):""));bd=this.map(Ya,Object.assign({},r,{repeater:bd,repeaterPrefix:Tc}));bd.name=Tc;hb.push(K(bd,["data"]))}c=le(ya)?c.columns:ya.column?ya.column.length:1;return Object.assign({},{data:null!==(I=Ya.data)&&void 0!==I?I:da,align:"all"},pa,{columns:c,concat:hb})}mapFacet(c,r){const {facet:I}=c;ta(I)&&c.columns&&(c=K(c,["columns"]),Eb(hd("facet")));
return super.mapFacet(c,r)}mapUnitWithParentEncodingOrProjection(c,r){const {encoding:I,projection:da}=c,{parentEncoding:pa,parentProjection:ya,config:Ya}=r,hb=ee({parentProjection:ya,projection:da});r=Ld({parentEncoding:pa,encoding:md(I,r.repeater)});return this.mapUnit(Object.assign({},c,hb?{projection:hb}:{},r?{encoding:r}:{}),{config:Ya})}mapFacetedUnit(c,r){var I=c.encoding,da=Object.assign({},I),pa=I.row;const ya=I.column;I=I.facet;const Ya=(delete da.row,delete da.column,delete da.facet,da);
var hb=Object.assign({},c);da=c.mark;const Ab=c.width,Gb=c.projection,cc=c.height,Jc=c.view;c=c.selection;hb=(delete hb.mark,delete hb.width,delete hb.projection,delete hb.height,delete hb.view,delete hb.selection,delete hb.encoding,hb);const {facetMapping:Tc,layout:bd}=this.getFacetMappingAndLayout({row:pa,column:ya,facet:I},r);pa=md(Ya,r.repeater);return this.mapFacet(Object.assign({},hb,bd,{facet:Tc,spec:Object.assign({},Ab?{width:Ab}:{},cc?{height:cc}:{},Jc?{view:Jc}:{},Gb?{projection:Gb}:{},
{mark:da,encoding:pa},c?{selection:c}:{})}),r)}getFacetMappingAndLayout(c,r){const {row:I,column:da,facet:pa}=c;if(I||da){pa&&(r=[...I?["row"]:[],...da?["column"]:[]],r="Facet encoding dropped as ".concat(r.join(" and ")," ").concat(1<r.length?"are":"is"," also specified."),Eb(r));r={};var ya={};for(var Ya of["row","column"]){const cc=c[Ya];if(cc){var hb=Object.assign({},cc);hb=(delete hb.align,delete hb.center,delete hb.spacing,delete hb.columns,hb);r[Ya]=hb;for(var Ab of["align","center","spacing"])if(void 0!==
cc[Ab]){var Gb;ya[Ab]=null!==(Gb=ya[Ab])&&void 0!==Gb?Gb:{};ya[Ab][Ya]=cc[Ab]}}}return{facetMapping:r,layout:ya}}ya=Object.assign({},pa);c=pa.align;Gb=pa.center;Ya=pa.spacing;Ab=pa.columns;ya=(delete ya.align,delete ya.center,delete ya.spacing,delete ya.columns,ya);r=(r=r.repeater)?ta(ya)?Pd(ya,r):Wc(ya,r):ya;return{facetMapping:r,layout:Object.assign({},c?{align:c}:{},Gb?{center:Gb}:{},Ya?{spacing:Ya}:{},Ab?{columns:Ab}:{})}}mapLayer(c,r){var I=Object.assign({},r),da=r.parentEncoding;r=r.parentProjection;
I=(delete I.parentEncoding,delete I.parentProjection,I);var pa=Object.assign({},c);const ya=c.encoding;c=c.projection;pa=(delete pa.encoding,delete pa.projection,pa);da=Object.assign({},I,{parentEncoding:Ld({parentEncoding:da,encoding:ya,layer:!0}),parentProjection:ee({parentProjection:r,projection:c})});return super.mapLayer(pa,da)}}const Xl=new zn;class Bh{constructor(c,r){c=void 0===c?{}:c;r=void 0===r?{}:r;this.explicit=c;this.implicit=r}clone(){return new Bh(Te(this.explicit),Te(this.implicit))}combine(){return Object.assign({},
this.explicit,this.implicit)}get(c){return za(this.explicit[c],this.implicit[c])}getWithExplicit(c){return void 0!==this.explicit[c]?{explicit:!0,value:this.explicit[c]}:void 0!==this.implicit[c]?{explicit:!1,value:this.implicit[c]}:{explicit:!1,value:void 0}}setWithExplicit(c,r){void 0!==r.value&&this.set(c,r.value,r.explicit)}set(c,r,I){delete this[I?"implicit":"explicit"][c];this[I?"explicit":"implicit"][c]=r;return this}copyKeyFromSplit(c,r){void 0!==r.explicit[c]?this.set(c,r.explicit[c],!0):
void 0!==r.implicit[c]&&this.set(c,r.implicit[c],!1)}copyKeyFromObject(c,r){void 0!==r[c]&&this.set(c,r[c],!0)}copyAll(c){for(const r of xd(c.combine())){const I=c.getWithExplicit(r);this.setWithExplicit(r,I)}}}class Nm extends Bh{constructor(c,r,I){c=void 0===c?{}:c;r=void 0===r?{}:r;I=void 0===I?!1:I;super(c,r);this.explicit=c;this.implicit=r;this.parseNothing=I}clone(){const c=super.clone();c.parseNothing=this.parseNothing;return c}}let Nf;(function(c){c[c.Raw=0]="Raw";c[c.Main=1]="Main";c[c.Row=
2]="Row";c[c.Column=3]="Column";c[c.Lookup=4]="Lookup"})(Nf||(Nf={}));const Zl=/[[\]{}]/,Yl={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let Ik,Jk;const am={left:"x",center:"xc",right:"x2"},bm={top:"y",middle:"yc",bottom:"y2"},dm=new Set(["aria"]),wl={has:c=>"interval"!==c.type&&c.nearest,parse:(c,r)=>{if(r.events)for(const I of r.events)I.markname=c.getName("voronoi")},marks:(c,r,I)=>{const {x:da,y:pa}=r.project.hasChannel;r=c.mark;if(fe(r))return Eb('The "nearest" transform is not supported for '.concat(r,
" marks.")),I;r={name:c.getName("voronoi"),type:"path",interactive:!0,from:{data:c.getName("marks")},encode:{update:Object.assign({},{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},Xi(c,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:da||!pa?"datum.datum.x || 0":"0"},y:{expr:pa||!da?"datum.datum.y || 0":"0"},size:[c.getSizeSignalRef("width"),c.getSizeSignalRef("height")]}]};let ya=0,Ya=!1;I.forEach((hb,Ab)=>{var Gb;hb=null!==(Gb=hb.name)&&
void 0!==Gb?Gb:"";hb===c.component.mark[0].name?ya=Ab:0<=hb.indexOf("voronoi")&&(Ya=!0)});Ya||I.splice(ya+1,0,r);return I}};class Jf{constructor(c,r){this.debugName=r;bc(this,"_children",[]);bc(this,"_parent",null);bc(this,"_hash",void 0);c&&(this.parent=c)}clone(){throw Error("Cannot clone node");}get parent(){return this._parent}set parent(c){(this._parent=c)&&c.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(c,r){-1<this._children.indexOf(c)?
Eb("Attempt to add the same child twice."):void 0!==r?this._children.splice(r,0,c):this._children.push(c)}removeChild(c){c=this._children.indexOf(c);this._children.splice(c,1);return c}remove(){let c=this._parent.removeChild(this);for(const r of this._children)r._parent=this._parent,this._parent.addChild(r,c++)}insertAsParentOf(c){const r=c.parent;r.removeChild(this);this.parent=r;c.parent=this}swapWithParent(){const c=this._parent,r=c.parent;for(const I of this._children)I.parent=c;this._children=
[];c.removeChild(this);c.parent.removeChild(c);this.parent=r;c.parent=this}}class ig extends Jf{clone(){const c=new this.constructor;c.debugName="clone_"+this.debugName;c._source=this._source;c._name="clone_"+this._name;c.type=this.type;c.refCounts=this.refCounts;c.refCounts[c._name]=0;return c}constructor(c,r,I,da){super(c,r);this.type=I;this.refCounts=da;bc(this,"_source",void 0);bc(this,"_name",void 0);this._source=this._name=r;!this.refCounts||this._name in this.refCounts||(this.refCounts[this._name]=
0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){void 0===this._hash&&(this._hash="Output ".concat(qa()));return this._hash}getSource(){this.refCounts[this._name]++;return this._source}isRequired(){return!!this.refCounts[this._name]}setSource(c){this._source=c}}class $g extends Jf{clone(){return new $g(null,Te(this.formula))}constructor(c,r){super(c);this.formula=r}static makeFromEncoding(c,r){const I=r.reduceFieldDef((da,pa,ya)=>{const {field:Ya,timeUnit:hb}=pa,Ab=Qf(r)?
r.encoding[Ea(ya)]:void 0;ya=Qf(r)&&zb(ya,pa,Ab,r.stack,r.markDef,r.config);hb&&(pa=Yc(pa,{forAs:!0}),da[D({as:pa,field:Ya,timeUnit:hb})]=Object.assign({},{as:pa,field:Ya,timeUnit:hb},ya?{band:!0}:{}));return da},{});return N(I)?null:new $g(c,I)}static makeFromTransform(c,r){var I=Object.assign({},r);r=Object.assign({},I);I=I.timeUnit;r=(delete r.timeUnit,r);I=Jb(I);r=Object.assign({},r,{timeUnit:I});return new $g(c,{[D(r)]:r})}merge(c){this.formula=Object.assign({},this.formula);for(const r in c.formula)if(!this.formula[r]||
c.formula[r].band)this.formula[r]=c.formula[r];for(const r of c.children)c.removeChild(r),r.parent=this;c.remove()}removeFormulas(c){const r={};for(const I of si(this.formula)){const [da,pa]=I;c.has(pa.as)||(r[da]=pa)}this.formula=r}producedFields(){return new Set(Tg(this.formula).map(c=>c.as))}dependentFields(){return new Set(Tg(this.formula).map(c=>c.field))}hash(){return"TimeUnit ".concat(D(this.formula))}assemble(){const c=[];for(const da of Tg(this.formula)){const {field:pa,as:ya,timeUnit:Ya}=
da;var r=Jb(Ya),I=Object.assign({},r);const hb=r.unit;r=r.utc;I=(delete I.unit,delete I.utc,I);c.push(Object.assign({},{field:gb(pa),type:"timeunit"},hb?{units:tc(hb)}:{},r?{timezone:"utc"}:{},I,{as:[ya,"".concat(ya,"_end")]}))}return c}}class An{constructor(...c){bc(this,"hasChannel",void 0);bc(this,"hasField",void 0);bc(this,"timeUnit",void 0);bc(this,"items",void 0);this.items=c;this.hasChannel={};this.hasField={}}}const xl={has:c=>"single"===c.type&&"global"===c.resolve&&c.bind&&"scales"!==c.bind&&
!Ce(c.bind),parse:(c,r,I,da)=>{da.on||delete r.events;da.clear||delete r.clear},topLevelSignals:(c,r,I)=>{const da=r.name;c=r.project;const pa=r.bind,ya=r.init&&r.init[0],Ya=wl.has(r)?"(item().isVoronoi ? datum.datum : datum)":"datum";c.items.forEach((hb,Ab)=>{const Gb=W("".concat(da,"_").concat(hb.field));if(!I.filter(Tc=>Tc.name===Gb).length){var cc,Jc;I.unshift(Object.assign({},{name:Gb},ya?{init:Sg(ya[Ab])}:{value:null},{on:r.events?[{events:r.events,update:"datum \x26\x26 item().mark.marktype !\x3d\x3d 'group' ? ".concat(Ya,
"[").concat(n(hb.field),"] : null")}]:[],bind:null!==(cc=null!==(Jc=pa[hb.field])&&void 0!==Jc?Jc:pa[hb.channel])&&void 0!==cc?cc:pa}))}});return I},signals:(c,r,I)=>{const da=r.name;var pa=r.project;c=I.filter(Ya=>Ya.name===da+"_tuple")[0];r=da+"_tuple_fields";pa=pa.items.map(Ya=>W("".concat(da,"_").concat(Ya.field)));const ya=pa.map(Ya=>"".concat(Ya," !\x3d\x3d null")).join(" \x26\x26 ");pa.length&&(c.update="".concat(ya," ? {fields: ").concat(r,", values: [").concat(pa.join(", "),"]} : null"));
delete c.value;delete c.on;return I}},yl={has:c=>"multi"===c.type&&!!c.toggle,signals:(c,r,I)=>I.concat({name:r.name+"_toggle",value:!1,on:[{events:r.events,update:r.toggle}]}),modifyExpr:(c,r)=>{const I=r.name+"_tuple",da=r.name+"_toggle";return"".concat(da," ? null : ").concat(I,", ")+("global"===r.resolve?"".concat(da," ? null : true, "):"".concat(da," ? null : {unit: ").concat(Yf(c),"}, "))+"".concat(da," ? ").concat(I," : null")}},gh={has:c=>"interval"===c.type&&"global"===c.resolve&&c.bind&&
"scales"===c.bind,parse:(c,r)=>{const I=r.scales=[];for(const pa of r.project.items){var da=pa.channel;if(!Qg[da])continue;const ya=(da=c.getScaleComponent(da))?da.get("type"):void 0;da&&ya in xg?(da.set("selectionExtent",{selection:r.name,field:pa.field},!0),I.push(pa)):Eb("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}},topLevelSignals:(c,r,I)=>{const da=r.scales.filter(ya=>0===I.filter(Ya=>Ya.name===ya.signals.data).length);if(!c.parent||Rg(c)||0===
da.length)return I;c=I.filter(ya=>ya.name===r.name)[0];let pa=c.update;if(0<=pa.indexOf("vlSelectionResolve"))c.update="{".concat(da.map(ya=>"".concat(n(ya.field),": ").concat(ya.signals.data)).join(", "),"}");else{for(const ya of da){const Ya="".concat(n(ya.field),": ").concat(ya.signals.data);0>pa.indexOf(Ya)&&(pa="".concat(pa.substring(0,pa.length-1),", ").concat(Ya,"}"))}c.update=pa}return I.concat(da.map(ya=>({name:ya.signals.data})))},signals:(c,r,I)=>{if(c.parent&&!Rg(c))for(const da of r.scales)c=
I.filter(pa=>pa.name===da.signals.data)[0],c.push="outer",delete c.value,delete c.update;return I}},Kk={has:c=>{const r="global"===c.resolve&&c.bind&&Ce(c.bind);c=1===c.project.items.length&&"_vgsid_"!==c.project.items[0].field;r&&!c&&Eb("Legend bindings are only supported for selections over an individual field or encoding channel.");return r&&c},parse:(c,r,I,da)=>{da.on||delete r.events;da.clear||delete r.clear;if(da.on||da.clear)for(const ya of r.events){var pa;ya.filter=d(null!==(pa=ya.filter)&&
void 0!==pa?pa:[]);0>ya.filter.indexOf('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')&&ya.filter.push('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')}c=Sa(r.bind)?r.bind.legend:"click";c=e(c)?Ze(c,"view"):d(c);r.bind={legend:{merge:c}}},topLevelSignals:(c,r,I)=>{c=r.name;const da=Sa(r.bind)&&r.bind.legend,pa=Ya=>hb=>{hb=Te(hb);hb.markname=Ya;return hb};for(const Ya of r.project.items){if(!Ya.hasLegend)continue;var ya="".concat(W(Ya.field),"_legend");const hb=
"".concat(c,"_").concat(ya);0===I.filter(Ab=>Ab.name===hb).length&&(ya=da.merge.map(pa("".concat(ya,"_symbols"))).concat(da.merge.map(pa("".concat(ya,"_labels")))).concat(da.merge.map(pa("".concat(ya,"_entries")))),I.unshift(Object.assign({},{name:hb},r.init?{}:{value:null},{on:[{events:ya,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:da.merge,update:"!event.item || !datum ? null : ".concat(hb),force:!0}]})))}return I},signals:(c,r,I)=>{const da=r.name;var pa=r.project;
c=I.find(hb=>hb.name===da+"_tuple");var ya=da+"_tuple_fields";pa=pa.items.filter(hb=>hb.hasLegend).map(hb=>W("".concat(da,"_").concat(W(hb.field),"_legend")));const Ya=pa.map(hb=>"".concat(hb," !\x3d\x3d null")).join(" \x26\x26 ");ya="".concat(Ya," ? {fields: ").concat(ya,", values: [").concat(pa.join(", "),"]} : null");r.events&&0<pa.length?c.on.push({events:pa.map(hb=>({signal:hb})),update:ya}):0<pa.length&&(c.update=ya,delete c.value,delete c.on);c=I.find(hb=>hb.name===da+"_toggle");ya=Sa(r.bind)&&
r.bind.legend;c&&(r.events?c.on.push(Object.assign({},c.on[0],{events:ya})):c.on[0].events=ya);return I}},em=[{has:()=>!0,parse:(c,r,I)=>{var da;const pa=r.name,ya=null!==(da=r.project)&&void 0!==da?da:r.project=new An,Ya={};da={};const hb=new Set,Ab=(Tc,bd)=>{Tc="visual"===bd?Tc.channel:Tc.field;let sd=W("".concat(pa,"_").concat(Tc));for(let yd=1;hb.has(sd);yd++)sd=W("".concat(pa,"_").concat(Tc,"_").concat(yd));hb.add(sd);return{[bd]:sd}};if(!I.fields&&!I.encodings){const Tc=c.config.selection[I.type];
if(I.init)for(const bd of d(I.init))for(const sd of xd(bd))jn[sd]?(I.encodings||(I.encodings=[])).push(sd):"interval"===I.type?(Eb('Interval selections should be initialized using "x" and/or "y" keys.'),I.encodings=Tc.encodings):(I.fields||(I.fields=[])).push(sd);else I.encodings=Tc.encodings,I.fields=Tc.fields}for(var Gb of null!==(cc=I.fields)&&void 0!==cc?cc:[]){var cc;cc={type:"E",field:Gb};cc.signals=Object.assign({},Ab(cc,"data"));ya.items.push(cc);ya.hasField[Gb]=cc}for(const Tc of null!==
(Jc=I.encodings)&&void 0!==Jc?Jc:[]){var Jc;(Gb=c.fieldDef(Tc))?(Jc=Gb.field,Gb.aggregate?Eb(Qd(Tc,Gb.aggregate)):Jc?(Gb.timeUnit&&(Jc=c.vgField(Tc),cc={timeUnit:Gb.timeUnit,as:Jc,field:Gb.field},da[D(cc)]=cc),Ya[Jc]||(cc="E","interval"===r.type?c.getScaleComponent(Tc).get("type")in xg&&(cc="R"):Gb.bin&&(cc="R-RE"),Gb={field:Jc,channel:Tc,type:cc},Gb.signals=Object.assign({},Ab(Gb,"data"),Ab(Gb,"visual")),ya.items.push(Ya[Jc]=Gb),ya.hasField[Jc]=ya.hasChannel[Tc]=Ya[Jc])):Eb(td(Tc))):Eb(td(Tc))}I.init&&
(c=Tc=>ya.items.map(bd=>void 0!==Tc[bd.channel]?Tc[bd.channel]:Tc[bd.field]),"interval"===I.type?r.init=c(I.init):(I=d(I.init),r.init=I.map(c)));N(da)||(ya.timeUnit=new $g(null,da))},signals:(c,r,I)=>{const da=r.name+"_tuple_fields";return 0<I.filter(pa=>pa.name===da).length?I:I.concat({name:da,value:r.project.items.map(pa=>{pa=Object.assign({},pa);pa=(delete pa.signals,delete pa.hasLegend,pa);pa.field=gb(pa.field);return pa})})}},yl,gh,Kk,{has:c=>"interval"===c.type&&c.translate,signals:(c,r,I)=>
{const da=r.name,pa=gh.has(r),ya=da+"_translate_anchor",{x:Ya,y:hb}=r.project.hasChannel;let Ab=Ze(r.translate,"scope");pa||(Ab=Ab.map(Gb=>(Gb.between[0].markname=da+"_brush",Gb)));I.push({name:ya,value:{},on:[{events:Ab.map(Gb=>Gb.between[0]),update:"{x: x(unit), y: y(unit)"+(void 0!==Ya?", extent_x: "+(pa?yi(c,"x"):"slice(".concat(Ya.signals.visual,")")):"")+(void 0!==hb?", extent_y: "+(pa?yi(c,"y"):"slice(".concat(hb.signals.visual,")")):"")+"}"}]},{name:da+"_translate_delta",value:{},on:[{events:Ab,
update:"{x: ".concat(ya,".x - x(unit), y: ").concat(ya,".y - y(unit)}")}]});void 0!==Ya&&Ai(c,r,Ya,"width",I);void 0!==hb&&Ai(c,r,hb,"height",I);return I}},{has:c=>"interval"===c.type&&c.zoom,signals:(c,r,I)=>{const da=r.name,pa=gh.has(r),ya=da+"_zoom_delta",{x:Ya,y:hb}=r.project.hasChannel,Ab=n(c.scaleName("x")),Gb=n(c.scaleName("y"));let cc=Ze(r.zoom,"scope");pa||(cc=cc.map(Jc=>(Jc.markname=da+"_brush",Jc)));I.push({name:da+"_zoom_anchor",on:[{events:cc,update:pa?"{"+[Ab?"x: invert(".concat(Ab,
", x(unit))"):"",Gb?"y: invert(".concat(Gb,", y(unit))"):""].filter(Jc=>!!Jc).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:ya,on:[{events:cc,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]});void 0!==Ya&&Bi(c,r,Ya,"width",I);void 0!==hb&&Bi(c,r,hb,"height",I);return I}},xl,wl,{has:c=>void 0!==c.clear&&!1!==c.clear,parse:(c,r,I)=>{I.clear&&(r.clear=e(I.clear)?Ze(I.clear,"scope"):I.clear)},topLevelSignals:(c,r,I)=>{if(xl.has(r))for(const da of r.project.items)c=I.findIndex(pa=>
pa.name===W("".concat(r.name,"_").concat(da.field))),-1!==c&&I[c].on.push({events:r.clear,update:"null"});return I},signals:(c,r,I)=>{function da(pa,ya){-1!==pa&&I[pa].on&&I[pa].on.push({events:r.clear,update:ya})}if("interval"===r.type)for(const pa of r.project.items)c=I.findIndex(ya=>ya.name===pa.signals.visual),da(c,"[0, 0]"),-1===c&&(c=I.findIndex(ya=>ya.name===pa.signals.data),da(c,"null"));else c=I.findIndex(pa=>pa.name===r.name+"_tuple"),da(c,"null"),yl.has(r)&&(c=I.findIndex(pa=>pa.name===
r.name+"_toggle"),da(c,"false"));return I}}],gm={single:{signals:$f,modifyExpr:(c,r)=>r.name+"_tuple, "+("global"===r.resolve?"true":"{unit: ".concat(Yf(c),"}"))},multi:{signals:$f,modifyExpr:(c,r)=>r.name+"_tuple, "+("global"===r.resolve?"null":"{unit: ".concat(Yf(c),"}"))},interval:{signals:(c,r)=>{const I=r.name;var da=I+"_tuple_fields",pa=gh.has(r);const ya=[],Ya=[],hb=[];if(r.translate&&!pa){const Ab="!event.item || event.item.mark.name !\x3d\x3d ".concat(n(I+"_brush"));kj(r,(Gb,cc)=>{var Jc;
cc=d(null!==(Jc=cc.between[0].filter)&&void 0!==Jc?Jc:cc.between[0].filter=[]);0>cc.indexOf(Ab)&&cc.push(Ab);return Gb})}r.project.items.forEach((Ab,Gb)=>{const cc=Ab.channel;if("x"!==cc&&"y"!==cc)Eb("Interval selections only support x and y encoding channels.");else{Gb=di(c,r,Ab,r.init?r.init[Gb]:null);var Jc=Ab.signals.data;Ab=Ab.signals.visual;var Tc=n(c.scaleName(cc)),bd=c.getScaleComponent(cc).get("type")in xg?"+":"";ya.push(...Gb);Ya.push(Jc);hb.push({scaleName:c.scaleName(cc),expr:"(!isArray(".concat(Jc,
") || ")+"(".concat(bd,"invert(").concat(Tc,", ").concat(Ab,")[0] \x3d\x3d\x3d ").concat(bd).concat(Jc,"[0] \x26\x26 ")+"".concat(bd,"invert(").concat(Tc,", ").concat(Ab,")[1] \x3d\x3d\x3d ").concat(bd).concat(Jc,"[1]))")})}});pa||ya.push({name:I+"_scale_trigger",value:{},on:[{events:hb.map(Ab=>({scale:Ab.scaleName})),update:hb.map(Ab=>Ab.expr).join(" \x26\x26 ")+" ? ".concat(I+"_scale_trigger"," : {}")}]});pa=r.init;da="unit: ".concat(Yf(c),", fields: ").concat(da,", values");return ya.concat(Object.assign({},
{name:I+"_tuple"},pa?{init:"{".concat(da,": ").concat(Sg(pa),"}")}:{},{on:[{events:[{signal:Ya.join(" || ")}],update:Ya.join(" \x26\x26 ")+" ? {".concat(da,": [").concat(Ya,"]} : null")}]}))},modifyExpr:(c,r)=>r.name+"_tuple, "+("global"===r.resolve?"true":"{unit: ".concat(Yf(c),"}")),marks:(c,r,I)=>{const da=r.name,{x:pa,y:ya}=r.project.hasChannel,Ya=pa&&pa.signals.visual,hb=ya&&ya.signals.visual;var Ab="data(".concat(n(r.name+"_store"),")");if(gh.has(r))return I;const Gb={x:void 0!==pa?{signal:"".concat(Ya,
"[0]")}:{value:0},y:void 0!==ya?{signal:"".concat(hb,"[0]")}:{value:0},x2:void 0!==pa?{signal:"".concat(Ya,"[1]")}:{field:{group:"width"}},y2:void 0!==ya?{signal:"".concat(hb,"[1]")}:{field:{group:"height"}}};if("global"===r.resolve)for(var cc of xd(Gb))Gb[cc]=[Object.assign({},{test:"".concat(Ab,".length \x26\x26 ").concat(Ab,"[0].unit \x3d\x3d\x3d ").concat(Yf(c))},Gb[cc]),{value:0}];cc=r.mark;Ab=Object.assign({},cc);c=cc.fill;r=cc.fillOpacity;cc=cc.cursor;const Jc=(delete Ab.fill,delete Ab.fillOpacity,
delete Ab.cursor,Ab);Ab=xd(Jc).reduce((Tc,bd)=>{Tc[bd]=[{test:[void 0!==pa&&"".concat(Ya,"[0] !\x3d\x3d ").concat(Ya,"[1]"),void 0!==ya&&"".concat(hb,"[0] !\x3d\x3d ").concat(hb,"[1]")].filter(sd=>sd).join(" \x26\x26 "),value:Jc[bd]},{value:null}];return Tc},{});return[{name:da+"_brush_bg",type:"rect",clip:!0,encode:{enter:{fill:{value:c},fillOpacity:{value:r}},update:Gb}},...I,{name:da+"_brush",type:"rect",clip:!0,encode:{enter:Object.assign({},cc?{cursor:{value:cc}}:{},{fill:{value:"transparent"}}),
update:Object.assign({},Gb,Ab)}}]}}};qg.prototype.visit=function(c){let r,I,da;if(c(this))return 1;r=fi(this);I=0;for(da=r.length;I<da;++I)if(r[I].visit(c))return 1};var je,id,gg,vf,hm=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
im=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/;
const jm={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},km={"if":1};class Ji extends Jf{clone(){return new Ji(null,
this.model,Te(this.filter))}constructor(c,r,I){super(c);this.model=r;this.filter=I;bc(this,"expr",void 0);bc(this,"_dependentFields",void 0);this.expr=dh(this.model,this.filter,this);this._dependentFields=ji(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return"Filter ".concat(this.expr)}}const gl={scale:c=>{var {model:r,channel:I}=c;return r.scaleName(I)},format:c=>{var {fieldOrDatumDef:r,config:I,axis:da}=
c;const {format:pa,formatType:ya}=da;return de(r,r.type,pa,ya,I,!0)},formatType:c=>{var {axis:r,fieldOrDatumDef:I,scaleType:da}=c;({formatType:c}=r);return Ie(c,I,da)},grid:c=>{var {fieldOrDatumDef:r,axis:I,scaleType:da}=c;if(Vb(r)&&xc(r.bin))return!1;var pa;return null!==(pa=I.grid)&&void 0!==pa?pa:!(da in og)&&Vb(r)&&!ic(null===r||void 0===r?void 0:r.bin)},gridScale:c=>{var {model:r,channel:I}=c;c="x"===I?"y":"x";c=r.getScaleComponent(c)?r.scaleName(c):void 0;return c},labelAlign:c=>{var {axis:r,
labelAngle:I,orient:da,channel:pa}=c;return r.labelAlign||rh(I,da,pa)},labelAngle:c=>{({labelAngle:c}=c);return c},labelBaseline:c=>{var {axis:r,labelAngle:I,orient:da,channel:pa}=c;return r.labelBaseline||Xg(I,da,pa)},labelFlush:c=>{var {axis:r,fieldOrDatumDef:I,channel:da}=c,pa;c=null!==(pa=r.labelFlush)&&void 0!==pa?pa:"x"===da&&E(["quantitative","temporal"],I.type)?!0:void 0;return c},labelOverlap:c=>{var {axis:r,fieldOrDatumDef:I,scaleType:da}=c,pa;if(null!==(pa=r.labelOverlap)&&void 0!==pa)c=
pa;else{c=I.type;pa=Vb(I)&&!!I.timeUnit;var ya=Vb(I)?I.sort:void 0;c=pa&&!v(ya)||"nominal"!==c&&"ordinal"!==c?"log"===da||"symlog"===da?"greedy":!0:void 0}return c},orient:c=>{({orient:c}=c);return c},tickCount:c=>{var {channel:r,model:I,axis:da,fieldOrDatumDef:pa,scaleType:ya}=c,Ya;c=(c="x"===r?"width":"y"===r?"height":void 0)?I.getSizeSignalRef(c):void 0;if(null===(Ya=da.tickCount)||void 0===Ya)a:{var {fieldOrDatumDef:hb,scaleType:Ab,size:Gb,values:cc}={fieldOrDatumDef:pa,scaleType:ya,size:c,values:da.values};
if(cc||Ab in og||"log"===Ab)Ya=void 0;else{if(Vb(hb)){var Jc;if(ic(hb.bin)){Ya={signal:"ceil(".concat(Gb.signal,"/10)")};break a}if(hb.timeUnit&&E(["month","hours","day","quarter"],null===(Jc=Jb(hb.timeUnit))||void 0===Jc?void 0:Jc.unit)){Ya=void 0;break a}}Ya={signal:"ceil(".concat(Gb.signal,"/40)")}}}return Ya},title:c=>{var {axis:r,model:I,channel:da}=c;if(void 0!==r.title)return r.title;c=Mi(I,da);if(void 0!==c)return c;c=I.typedFieldDef(da);const pa=I.fieldDef("x"===da?"x2":"y2");return Ff(c?
[Ba(c)]:[],Vb(pa)?[Ba(pa)]:[])},values:c=>{var {axis:r,fieldOrDatumDef:I}=c;c=r.values;c=le(c)?Mc(I,c):vc(c)?c:void 0;return c},zindex:c=>{var {axis:r,fieldOrDatumDef:I,mark:da}=c,pa;c=null!==(pa=r.zindex)&&void 0!==pa?pa:"rect"===da&&ye(I)?1:0;return c}};class Qi extends Jf{clone(){return new Qi(null,Te(this.transform))}constructor(c,r){super(c);this.transform=r;bc(this,"_dependentFields",void 0);this._dependentFields=ji(this.transform.calculate)}static parseAllForSortIndex(c,r){r.forEachFieldDef((I,
da)=>{if(Ad(I)&&sc(I.sort)){const {field:ya,timeUnit:Ya}=I;var pa=I.sort;pa=pa.map((hb,Ab)=>"".concat(De({field:ya,timeUnit:Ya,equal:hb})," ? ").concat(Ab," : ")).join("")+pa.length;c=new Qi(c,{calculate:pa,as:sg(I,da,{forAs:!0})})}});return c}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return"Calculate ".concat(D(this.transform))}}const ok=["row","column"],
Sj=["header","footer"],Bn={column:{start:0,end:1},row:{start:1,end:0}},Cn=Object.assign({},{aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,
labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},
{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),Qk=xd(Cn);class pm extends Bh{}const Sk={symbols:function(c,r){var {fieldOrDatumDef:I,model:da,channel:pa,legendCmpt:ya,legendType:Ya}=r,hb,Ab,Gb,cc;if("symbol"===Ya){var {markDef:Jc,encoding:Tc,config:bd,mark:sd}=da,yd=Jc.filled&&"trail"!==sd;r=Object.assign({},re({},da,qn),Zi(da,{filled:yd}));var he=null!==(hb=ya.get("symbolOpacity"))&&void 0!==hb?hb:bd.legend.symbolOpacity;hb=null!==
(Ab=ya.get("symbolFillColor"))&&void 0!==Ab?Ab:bd.legend.symbolFillColor;Ab=null!==(Gb=ya.get("symbolStrokeColor"))&&void 0!==Gb?Gb:bd.legend.symbolStrokeColor;Gb=void 0===he?null!==(cc=Ni(Tc.opacity))&&void 0!==cc?cc:Jc.opacity:void 0;if(r.fill)if("fill"===pa||yd&&"color"===pa)delete r.fill;else if(r.fill.field)if(hb)delete r.fill;else{var Oe;r.fill=Kd(null!==(Oe=bd.legend.symbolBaseFillColor)&&void 0!==Oe?Oe:"black");r.fillOpacity=Kd(null!==Gb&&void 0!==Gb?Gb:1)}else if(le(r.fill)){var Wd,Le,Cd;
if(cc=null!==(Wd=null!==(Le=Dg(null!==(Cd=Tc.fill)&&void 0!==Cd?Cd:Tc.color))&&void 0!==Le?Le:Jc.fill)&&void 0!==Wd?Wd:yd&&Jc.color)r.fill=Kd(cc)}r.stroke&&("stroke"===pa||!yd&&"color"===pa?delete r.stroke:r.stroke.field||Ab?delete r.stroke:le(r.stroke)&&(Wd=za(Dg(Tc.stroke||Tc.color),Jc.stroke,yd?Jc.color:void 0))&&(r.stroke={value:Wd}));"opacity"!==pa&&((Wd=Vb(I)&&Ph(da,ya,I))?r.opacity=[Object.assign({},{test:Wd},Kd(null!==Gb&&void 0!==Gb?Gb:1)),Kd(bd.legend.unselectedOpacity)]:Gb&&(r.opacity=
Kd(Gb)));r=Object.assign({},r,c);return N(r)?void 0:r}},gradient:function(c,r){var {model:I,legendType:da,legendCmpt:pa}=r,ya;if("gradient"===da){var {config:Ya,markDef:hb,encoding:Ab}=I;r={};var Gb=void 0===(null!==(ya=pa.get("gradientOpacity"))&&void 0!==ya?ya:Ya.legend.gradientOpacity)?Ni(Ab.opacity)||hb.opacity:void 0;Gb&&(r.opacity=Kd(Gb));r=Object.assign({},r,c);return N(r)?void 0:r}},labels:function(c,r){var {fieldOrDatumDef:I,model:da,channel:pa,legendCmpt:ya}=r;r=da.legend(pa)||{};const Ya=
da.config;var hb=Vb(I)?Ph(da,ya,I):void 0;hb=hb?[{test:hb,value:1},{value:Ya.legend.unselectedOpacity}]:void 0;const {format:Ab,formatType:Gb}=r;r=zc(Gb)?xe({fieldOrDatumDef:I,field:"datum.value",format:Ab,formatType:Gb,config:Ya}):void 0;c=Object.assign({},hb?{opacity:hb}:{},r?{text:r}:{},c);return N(c)?void 0:c},entries:function(c,r){({legendCmpt:r}=r);r=r.get("selections");return(null===r||void 0===r?0:r.length)?Object.assign({},c,{fill:{value:"transparent"}}):c}},Rk={direction:c=>{({direction:c}=
c);return c},format:c=>{var {fieldOrDatumDef:r,legend:I,config:da}=c;const {format:pa,formatType:ya}=I;return de(r,r.type,pa,ya,da,!1)},formatType:c=>{var {legend:r,fieldOrDatumDef:I,scaleType:da}=c;({formatType:c}=r);return Ie(c,I,da)},gradientLength:c=>{var r,I;const {legend:da,legendConfig:pa}=c;if(null!==(r=null!==(I=da.gradientLength)&&void 0!==I?I:pa.gradientLength)&&void 0!==r)c=r;else{{var {legendConfig:ya,model:Ya,direction:hb,orient:Ab,scaleType:Gb}=c;const {gradientHorizontalMaxLength:cc,
gradientHorizontalMinLength:Jc,gradientVerticalMaxLength:Tc,gradientVerticalMinLength:bd}=ya;c=Gb in Fg?"horizontal"===hb?"top"===Ab||"bottom"===Ab?vh(Ya,"width",Jc,cc):Jc:vh(Ya,"height",bd,Tc):void 0}}return c},labelOverlap:c=>{var {legend:r,legendConfig:I,scaleType:da}=c,pa,ya;c=null!==(pa=null!==(ya=r.labelOverlap)&&void 0!==ya?ya:I.labelOverlap)&&void 0!==pa?pa:E(["quantile","threshold","log","symlog"],da)?"greedy":void 0;return c},symbolType:c=>{var {legend:r,markDef:I,channel:da,encoding:pa}=
c,ya;if(null!==(ya=r.symbolType)&&void 0!==ya)var Ya=ya;else a:{c=I.type;ya=I.shape;if("shape"!==da&&(ya=null!==(Ya=Dg(pa.shape))&&void 0!==Ya?Ya:ya)){Ya=ya;break a}switch(c){case "bar":case "rect":case "image":case "square":Ya="square";break a;case "line":case "trail":case "rule":Ya="stroke";break a;case "arc":case "point":case "circle":case "tick":case "geoshape":case "area":case "text":Ya="circle";break a}Ya=void 0}return Ya},title:c=>{var {fieldOrDatumDef:r,config:I}=c;return Ke(r,I,{allowDisabling:!0})},
type:c=>{var {legendType:r,scaleType:I,channel:da}=c;if(Wa(da)&&I in Fg){if("gradient"===r)return}else if("symbol"===r)return;return r},values:c=>{var {fieldOrDatumDef:r,legend:I}=c;c=I.values;c=le(c)?Mc(r,c):vc(c)?c:void 0;return c}},qm="type clipAngle clipExtent center rotate precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" ");class Tk extends Bh{constructor(c,r,I,da){super(Object.assign({},r),{name:c});this.specifiedProjection=r;this.size=
I;this.data=da;bc(this,"merged",!1)}get isFit(){return!!this.data}}class Zg extends Jf{clone(){return new Zg(null,Te(this.bins))}constructor(c,r){super(c);this.bins=r}static makeFromEncoding(c,r){const I=r.reduceFieldDef((da,pa,ya)=>{if(rd(pa)&&ic(pa.bin)){const {key:Ya,binComponent:hb}=eg(pa,pa.bin,r);da[Ya]=Object.assign({},hb,da[Ya],sj(r,pa,ya,r.config))}return da},{});return N(I)?null:new Zg(c,I)}static makeFromTransform(c,r,I){const {key:da,binComponent:pa}=eg(r,r.bin,I);return new Zg(c,{[da]:pa})}merge(c,
r){for(const I of xd(c.bins))I in this.bins?(r(c.bins[I].signal,this.bins[I].signal),this.bins[I].as=ea([...this.bins[I].as,...c.bins[I].as],D)):this.bins[I]=c.bins[I];for(const I of c.children)c.removeChild(I),I.parent=this;c.remove()}producedFields(){return new Set(Tg(this.bins).map(c=>c.as).flat(2))}dependentFields(){return new Set(Tg(this.bins).map(c=>c.field))}hash(){return"Bin ".concat(D(this.bins))}assemble(){return Tg(this.bins).flatMap(c=>{const r=[],[I,...da]=c.as;var pa=c.bin,ya=Object.assign({},
pa);pa=pa.extent;ya=(delete ya.extent,ya);ya=Object.assign({},{type:"bin",field:gb(c.field),as:I,signal:c.signal},ib(pa)?{extent:null}:{extent:pa},c.span?{span:{signal:"span(".concat(c.span,")")}}:{},ya);!pa&&c.extentSignal&&(r.push({type:"extent",field:gb(c.field),signal:c.extentSignal}),ya.extent={signal:c.extentSignal});r.push(ya);for(const Ya of da)for(pa=0;2>pa;pa++)r.push({type:"formula",expr:Yc({field:I[pa]},{expr:"datum"}),as:Ya[pa]});c.formula&&r.push({type:"formula",expr:c.formula,as:c.formulaAs});
return r})}}class Og extends Jf{clone(){return new Og(null,new Set(this.dimensions),Te(this.measures))}constructor(c,r,I){super(c);this.dimensions=r;this.measures=I}get groupBy(){return this.dimensions}static makeFromEncoding(c,r){let I=!1;r.forEachFieldDef(ya=>{ya.aggregate&&(I=!0)});const da={},pa=new Set;if(!I)return null;r.forEachFieldDef((ya,Ya)=>{const {aggregate:hb,field:Ab}=ya;if(hb)if("count"===hb){var Gb;da["*"]=null!==(Gb=da["*"])&&void 0!==Gb?Gb:{};da["*"].count=new Set([Yc(ya,{forAs:!0})])}else{if(na(hb)||
Aa(hb)){var cc;ya=na(hb)?"argmin":"argmax";Gb=hb[ya];da[Gb]=null!==(cc=da[Gb])&&void 0!==cc?cc:{};da[Gb][ya]=new Set([Yc({op:ya,field:Gb},{forAs:!0})])}else{var Jc;da[Ab]=null!==(Jc=da[Ab])&&void 0!==Jc?Jc:{};da[Ab][hb]=new Set([Yc(ya,{forAs:!0})])}if(Qg[Ya]&&"unaggregated"===r.scaleDomain(Ya)){var Tc;da[Ab]=null!==(Tc=da[Ab])&&void 0!==Tc?Tc:{};da[Ab].min=new Set([Yc({field:Ab,aggregate:"min"},{forAs:!0})]);da[Ab].max=new Set([Yc({field:Ab,aggregate:"max"},{forAs:!0})])}}else cc=Qf(r)?r.encoding[Ea(Ya)]:
void 0,rd(ya)&&Qf(r)&&zb(Ya,ya,cc,r.stack,r.markDef,r.config)?(pa.add(Yc(ya,{})),pa.add(Yc(ya,{suffix:"end"})),ya.bin&&fd(ya,Ya)&&pa.add(Yc(ya,{binSuffix:"range"}))):Ya in nk?(Ya=$a(Ya),pa.add(r.getName(Ya))):pa.add(Yc(ya))});return 0===pa.size+xd(da).length?null:new Og(c,pa,da)}static makeFromTransform(c,r){const I=new Set,da={};for(const hb of r.aggregate){const {op:Ab,field:Gb,as:cc}=hb;if(Ab)if("count"===Ab){var pa;da["*"]=null!==(pa=da["*"])&&void 0!==pa?pa:{};da["*"].count=new Set([cc?cc:Yc(hb,
{forAs:!0})])}else{var ya;da[Gb]=null!==(ya=da[Gb])&&void 0!==ya?ya:{};da[Gb][Ab]=new Set([cc?cc:Yc(hb,{forAs:!0})])}}for(const hb of null!==(Ya=r.groupby)&&void 0!==Ya?Ya:[]){var Ya;I.add(hb)}return 0===I.size+xd(da).length?null:new Og(c,I,da)}merge(c){if(ba(this.dimensions,c.dimensions)){var r=this.measures;c=c.measures;for(const da of xd(c)){const pa=c[da];for(const ya of xd(pa))if(da in r){var I;r[da][ya]=new Set([...null!==(I=r[da][ya])&&void 0!==I?I:[],...pa[ya]])}else r[da]={[ya]:pa[ya]}}return!0}Si.debug(...["different dimensions, cannot merge"]);
return!1}addDimensions(c){c.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...xd(this.measures)])}producedFields(){const c=new Set;for(const r of xd(this.measures))for(const I of xd(this.measures[r])){const da=this.measures[r][I];0===da.size?c.add("".concat(I,"_").concat(r)):da.forEach(c.add,c)}return c}hash(){return"Aggregate ".concat(D({dimensions:this.dimensions,measures:this.measures}))}assemble(){const c=[],r=[],I=[];for(const da of xd(this.measures))for(const pa of xd(this.measures[da]))for(const ya of this.measures[da][pa])I.push(ya),
c.push(pa),r.push("*"===da?null:gb(da));return{type:"aggregate",groupby:[...this.dimensions].map(gb),ops:c,fields:r,as:I}}}class ni extends Jf{constructor(c,r,I,da){super(c);this.model=r;this.name=I;this.data=da;bc(this,"column",void 0);bc(this,"row",void 0);bc(this,"facet",void 0);bc(this,"childModel",void 0);for(const pa of zg)if(c=r.facet[pa]){const {bin:ya,sort:Ya}=c;this[pa]=Object.assign({},{name:r.getName("".concat(pa,"_domain")),fields:[Yc(c),...ic(ya)?[Yc(c,{binSuffix:"end"})]:[]]},Zd(Ya)?
{sortField:Ya}:le(Ya)?{sortIndexField:sg(c,pa)}:{})}this.childModel=r.child}hash(){let c="Facet";for(const r of zg)this[r]&&(c+=" ".concat(r.charAt(0),":").concat(D(this[r])));return c}get fields(){const c=[];for(const I of zg){var r;(null===(r=this[I])||void 0===r?0:r.fields)&&c.push(...this[I].fields)}return c}dependentFields(){const c=new Set(this.fields);for(const r of zg)this[r]&&(this[r].sortField&&c.add(this[r].sortField.field),this[r].sortIndexField&&c.add(this[r].sortIndexField));return c}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const c=
{};for(const da of yg){var r=this.childModel.component.scales[da];if(r&&!r.merged){var I=r.get("type");r=r.get("range");I in og&&mc(r)&&(I=lf(this.childModel,da),(I=xf(I))?c[da]=I:Eb(Bc(da)))}}return c}assembleRowColumnHeaderData(c,r,I){const da={row:"y",column:"x"}[c],pa=[],ya=[],Ya=[];I&&I[da]&&(r?(pa.push("distinct_".concat(I[da])),ya.push("max")):(pa.push(I[da]),ya.push("distinct")),Ya.push("distinct_".concat(I[da])));const {sortField:hb,sortIndexField:Ab}=this[c];if(hb){const {op:Gb="min",field:cc}=
hb;pa.push(cc);ya.push(Gb);Ya.push(Yc(hb,{forAs:!0}))}else Ab&&(pa.push(Ab),ya.push("max"),Ya.push(Ab));return{name:this[c].name,source:null!==r&&void 0!==r?r:this.data,transform:[Object.assign({},{type:"aggregate",groupby:this[c].fields},pa.length?{fields:pa,ops:ya,as:Ya}:{})]}}assembleFacetHeaderData(c){const {columns:r}=this.model.layout,{layoutHeaders:I}=this.model.component,da=[],pa={};for(const cc of ok){for(const Jc of Sj){var ya,Ya=null!==(ya=I[cc]&&I[cc][Jc])&&void 0!==ya?ya:[];for(const Tc of Ya){var hb;
if(0<(null===(hb=Tc.axes)||void 0===hb?void 0:hb.length)){pa[cc]=!0;break}}}pa[cc]&&(Ya='length(data("'.concat(this.facet.name,'"))'),Ya="row"===cc?r?{signal:"ceil(".concat(Ya," / ").concat(r,")")}:1:r?{signal:"min(".concat(Ya,", ").concat(r,")")}:{signal:Ya},da.push({name:"".concat(this.facet.name,"_").concat(cc),transform:[{type:"sequence",start:0,stop:Ya}]}))}const {row:Ab,column:Gb}=pa;(Ab||Gb)&&da.unshift(this.assembleRowColumnHeaderData("facet",null,c));return da}assemble(){const c=[];var r=
null;const I=this.getChildIndependentFieldsWithStep(),{column:da,row:pa,facet:ya}=this;if(da&&pa&&(I.x||I.y)){var Ya,hb;r="cross_".concat(this.column.name,"_").concat(this.row.name);const Ab=[].concat(null!==(Ya=I.x)&&void 0!==Ya?Ya:[],null!==(hb=I.y)&&void 0!==hb?hb:[]);Ya=Ab.map(()=>"distinct");c.push({name:r,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:Ab,ops:Ya}]})}for(const Ab of["column","row"])this[Ab]&&c.push(this.assembleRowColumnHeaderData(Ab,r,I));ya&&(r=this.assembleFacetHeaderData(I))&&
c.push(...r);return c}}class mg extends Jf{clone(){return new mg(null,Te(this._parse))}constructor(c,r){super(c);bc(this,"_parse",void 0);this._parse=r}hash(){return"Parse ".concat(D(this._parse))}static makeExplicit(c,r,I){let da={};r=r.data;!Ae(r)&&r&&r.format&&r.format.parse&&(da=r.format.parse);return this.makeWithAncestors(c,da,{},I)}static makeWithAncestors(c,r,I,da){for(var pa of xd(I)){const Ya=da.getWithExplicit(pa);void 0!==Ya.value&&(Ya.explicit||Ya.value===I[pa]||"derived"===Ya.value||
"flatten"===I[pa]?delete I[pa]:Eb(Fd(pa,I[pa],Ya.value)))}for(var ya of xd(r))pa=da.get(ya),void 0!==pa&&(pa===r[ya]?delete r[ya]:Eb(Fd(ya,r[ya],pa)));r=new Bh(r,I);da.copyAll(r);I={};for(const Ya of xd(r.combine()))ya=r.get(Ya),null!==ya&&(I[Ya]=ya);return 0===xd(I).length||da.parseNothing?null:new mg(c,I)}get parse(){return this._parse}merge(c){this._parse=Object.assign({},this._parse,c.parse);c.remove()}assembleFormatParse(){const c={};for(const r of xd(this._parse)){const I=this._parse[r];1===
Ua(r)&&(c[r]=I)}return c}producedFields(){return new Set(xd(this._parse))}dependentFields(){return new Set(xd(this._parse))}assembleTransforms(c){c=void 0===c?!1:c;return xd(this._parse).filter(r=>c?1<Ua(r):!0).map(r=>{const I=Pf(r,this._parse[r]);return I?{type:"formula",expr:I,as:Pa(r)}:null}).filter(r=>null!==r)}}class Vh extends Jf{clone(){return new Vh(null)}constructor(c){super(c)}dependentFields(){return new Set}producedFields(){return new Set(["_vgsid_"])}hash(){return"Identifier"}assemble(){return{type:"identifier",
as:"_vgsid_"}}}class tj extends Jf{clone(){return new tj(null,this.params)}constructor(c,r){super(c);this.params=r}dependentFields(){return new Set}producedFields(){}hash(){return"Graticule ".concat(D(this.params))}assemble(){return Object.assign({},{type:"graticule"},!0===this.params?{}:this.params)}}class uj extends Jf{clone(){return new uj(null,this.params)}constructor(c,r){super(c);this.params=r}dependentFields(){return new Set}producedFields(){var c;return new Set([null!==(c=this.params.as)&&
void 0!==c?c:"data"])}hash(){return"Hash ".concat(D(this.params))}assemble(){return Object.assign({},{type:"sequence"},this.params)}}class Uh extends Jf{constructor(c){var r;super(null);bc(this,"_data",void 0);bc(this,"_name",void 0);bc(this,"_generator",void 0);c=null!==(r=c)&&void 0!==r?r:{name:"source"};let I;Ae(c)||(I=c.format?Object.assign({},K(c.format,["parse"])):{});if("values"in c)this._data={values:c.values};else if("url"in c)this._data={url:c.url},I.type||(r=/(?:\.([^.]+))?$/.exec(c.url)[1],
E(["json","csv","tsv","dsv","topojson"],r)||(r="json"),I.type=r);else if("sphere"in c)this._data={values:[{type:"Sphere"}]};else if(Gf(c)||Ae(c))this._data={};this._generator=Ae(c);c.name&&(this._name=c.name);I&&!N(I)&&(this._data.format=I)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(c){this._name=c}set parent(c){throw Error("Source nodes have to be roots.");
}remove(){throw Error("Source nodes are roots and cannot be removed.");}hash(){throw Error("Cannot hash sources");}assemble(){return Object.assign({},{name:this._name},this._data,{transform:[]})}}var Jj=new WeakMap;class pk{constructor(){Jj.set(this,{writable:!0,value:void 0});kc(this,Jj,!1)}setModified(){kc(this,Jj,!0)}get modifiedFlag(){var c=Jj.get(this);if(!c)throw new TypeError("attempted to get private field on non-instance");c=c.get?c.get.call(this):c.value;return c}}class Xh extends pk{getNodeDepths(c,
r,I){I.set(c,r);for(const da of c.children)this.getNodeDepths(da,r+1,I);return I}optimize(c){c=[...this.getNodeDepths(c,0,new Map).entries()].sort((r,I)=>I[1]-r[1]);for(const r of c)this.run(r[0]);return this.modifiedFlag}}class qk extends pk{optimize(c){this.run(c);for(const r of c.children)this.optimize(r);return this.modifiedFlag}}class Am extends qk{mergeNodes(c,r){const I=r.shift();for(const da of r)c.removeChild(da),da.parent=I,da.remove()}run(c){const r=c.children.map(da=>da.hash()),I={};for(let da=
0;da<r.length;da++)void 0===I[r[da]]?I[r[da]]=[c.children[da]]:I[r[da]].push(c.children[da]);for(const da of xd(I))1<I[da].length&&(this.setModified(),this.mergeNodes(c,I[da]))}}class sm extends qk{constructor(c){super();bc(this,"requiresSelectionId",void 0);this.requiresSelectionId=c&&ei(c)}run(c){!(c instanceof Vh)||this.requiresSelectionId&&(b(c.parent)||c.parent instanceof Og||c.parent instanceof mg)||(this.setModified(),c.remove())}}class wm extends pk{optimize(c){this.run(c,new Set);return this.modifiedFlag}run(c,
r){let I=new Set;c instanceof $g&&(I=c.producedFields(),fa(I,r)&&(this.setModified(),c.removeFormulas(r),0===c.producedFields.length&&c.remove()));for(const da of c.children)this.run(da,new Set([...r,...I]))}}class rm extends qk{constructor(){super()}run(c){c instanceof ig&&!c.isRequired()&&(this.setModified(),c.remove())}}class um extends Xh{run(c){if(!(b(c)||1<c.numChildren()))for(const r of c.children)r instanceof mg&&(c instanceof mg?(this.setModified(),c.merge(r)):ca(c.producedFields(),r.dependentFields())||
(this.setModified(),r.swapWithParent()))}}class xm extends Xh{run(c){const r=[...c.children];var I=c.children.filter(pa=>pa instanceof mg);if(1<c.numChildren()&&1<=I.length){const pa={};var da=new Set;for(const ya of I){I=ya.parse;for(const Ya of xd(I))Ya in pa?pa[Ya]!==I[Ya]&&da.add(Ya):pa[Ya]=I[Ya]}for(const ya of da)delete pa[ya];if(!N(pa)){this.setModified();da=new mg(c,pa);for(const ya of r){if(ya instanceof mg)for(const Ya of xd(pa))delete ya.parse[Ya];c.removeChild(ya);ya.parent=da;ya instanceof
mg&&0===xd(ya.parse).length&&ya.remove()}}}}}class tm extends Xh{run(c){c instanceof ig||0<c.numChildren()||c instanceof ni||c instanceof Uh||(this.setModified(),c.remove())}}class zm extends Xh{run(c){c=c.children.filter(I=>I instanceof $g);const r=c.pop();for(const I of c)this.setModified(),r.merge(I)}}class ym extends Xh{run(c){var r=c.children.filter(pa=>pa instanceof Og);const I={};for(var da of r)r=D(da.groupBy),r in I||(I[r]=[]),I[r].push(da);for(const pa of xd(I))if(da=I[pa],1<da.length){r=
da.pop();for(const ya of da)r.merge(ya)&&(c.removeChild(ya),ya.parent=r,ya.remove(),this.setModified())}}}class vm extends Xh{constructor(c){super();this.model=c}run(c){var r=!(b(c)||c instanceof Ji||c instanceof mg||c instanceof Vh);const I=[],da=[];for(const pa of c.children)pa instanceof Zg&&(r&&!ca(c.producedFields(),pa.dependentFields())?I.push(pa):da.push(pa));if(0<I.length){r=I.pop();for(const pa of I)r.merge(pa,this.model.renameSignal.bind(this.model));this.setModified();c instanceof Zg?c.merge(r,
this.model.renameSignal.bind(this.model)):r.swapWithParent()}if(1<da.length){c=da.pop();for(const pa of da)c.merge(pa,this.model.renameSignal.bind(this.model));this.setModified()}}}class Bm extends Xh{run(c){var r=[...c.children];if(H(r,pa=>pa instanceof ig)&&!(1>=c.numChildren())){var I=[];for(const pa of r)if(pa instanceof ig){for(r=pa;1===r.numChildren();){const [ya]=r.children;if(ya instanceof ig)r=ya;else break}I.push(...r.children);if(da)c.removeChild(pa),pa.parent=da.parent,da.parent.removeChild(da),
da.parent=r,this.setModified();else var da=r}else I.push(pa);if(I.length){this.setModified();for(const pa of I)pa.parent.removeChild(pa),pa.parent=da}}}}class oi extends Jf{clone(){return new oi(null,Te(this.transform))}constructor(c,r){super(c);this.transform=r}addDimensions(c){this.transform.groupby=ea(this.transform.groupby.concat(c),r=>r)}dependentFields(){const c=new Set;this.transform.groupby&&this.transform.groupby.forEach(c.add,c);this.transform.joinaggregate.map(r=>r.field).filter(r=>void 0!==
r).forEach(c.add,c);return c}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(c){var r;return null!==(r=c.as)&&void 0!==r?r:Yc(c)}hash(){return"JoinAggregateTransform ".concat(D(this.transform))}assemble(){const c=[],r=[],I=[];for(var da of this.transform.joinaggregate)r.push(da.op),I.push(this.getDefaultName(da)),c.push(void 0===da.field?null:da.field);da=this.transform.groupby;return Object.assign({},{type:"joinaggregate",as:I,ops:r,fields:c},
void 0!==da?{groupby:da}:{})}}class Ah extends Jf{clone(){return new Ah(null,Te(this._stack))}constructor(c,r){super(c);bc(this,"_stack",void 0);this._stack=r}static makeFromTransform(c,r){const {stack:I,groupby:da,as:pa,offset:ya="zero"}=r;var Ya=[];const hb=[];if(void 0!==r.sort)for(const Ab of r.sort)Ya.push(Ab.field),hb.push(za(Ab.order,"ascending"));Ya={field:Ya,order:hb};r=U(pa)?pa:e(pa)?[pa,pa+"_end"]:[r.stack+"_start",r.stack+"_end"];return new Ah(c,{stackField:I,groupby:da,offset:ya,sort:Ya,
facetby:[],as:r})}static makeFromEncoding(c,r){var I=r.stack,{encoding:da}=r;if(!I)return null;const {groupbyChannel:pa,fieldChannel:ya,offset:Ya,impute:hb}=I;let Ab;pa&&(Ab=Pe(da[pa]));I=p(r);da=r.encoding.order;da=le(da)||Vb(da)?ef(da):I.reduce((Gb,cc)=>{Gb.field.push(cc);Gb.order.push("y"===ya?"descending":"ascending");return Gb},{field:[],order:[]});return new Ah(c,{dimensionFieldDef:Ab,stackField:r.vgField(ya),facetby:[],stackby:I,sort:da,offset:Ya,impute:hb,as:[r.vgField(ya,{suffix:"start",
forAs:!0}),r.vgField(ya,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(c){this._stack.facetby.push(...c)}dependentFields(){const c=new Set;c.add(this._stack.stackField);this.getGroupbyFields().forEach(c.add,c);this._stack.facetby.forEach(c.add,c);this._stack.sort.field.forEach(c.add,c);return c}producedFields(){return new Set(this._stack.as)}hash(){return"Stack ".concat(D(this._stack))}getGroupbyFields(){const {dimensionFieldDef:c,impute:r,groupby:I}=this._stack;return c?
c.bin?r?[Yc(c,{binSuffix:"mid"})]:[Yc(c,{}),Yc(c,{binSuffix:"end"})]:[Yc(c)]:null!==I&&void 0!==I?I:[]}assemble(){const c=[],{facetby:r,dimensionFieldDef:I,stackField:da,stackby:pa,sort:ya,offset:Ya,impute:hb,as:Ab}=this._stack;if(hb&&I){const {band:Gb=.5,bin:cc}=I;cc&&c.push({type:"formula",expr:"".concat(Gb,"*")+Yc(I,{expr:"datum"})+"+".concat(1-Gb,"*")+Yc(I,{expr:"datum",binSuffix:"end"}),as:Yc(I,{binSuffix:"mid",forAs:!0})});c.push({type:"impute",field:da,groupby:[...pa,...r],key:Yc(I,{binSuffix:"mid"}),
method:"value",value:0})}c.push({type:"stack",groupby:[...this.getGroupbyFields(),...r],field:da,sort:ya,as:Ab,offset:Ya});return c}}class Pi extends Jf{clone(){return new Pi(null,Te(this.transform))}constructor(c,r){super(c);this.transform=r}addDimensions(c){this.transform.groupby=ea(this.transform.groupby.concat(c),r=>r)}dependentFields(){var c,r;const I=new Set;(null!==(c=this.transform.groupby)&&void 0!==c?c:[]).forEach(I.add,I);(null!==(r=this.transform.sort)&&void 0!==r?r:[]).forEach(da=>I.add(da.field));
this.transform.window.map(da=>da.field).filter(da=>void 0!==da).forEach(I.add,I);return I}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(c){var r;return null!==(r=c.as)&&void 0!==r?r:Yc(c)}hash(){return"WindowTransform ".concat(D(this.transform))}assemble(){const c=[],r=[],I=[],da=[];for(var pa of this.transform.window)r.push(pa.op),I.push(this.getDefaultName(pa)),da.push(void 0===pa.param?null:pa.param),c.push(void 0===pa.field?null:pa.field);pa=this.transform.frame;
const ya=this.transform.groupby;if(pa&&null===pa[0]&&null===pa[1]&&r.every(Gb=>ka(Gb)))return Object.assign({},{type:"joinaggregate",as:I,ops:r,fields:c},void 0!==ya?{groupby:ya}:{});const Ya=[],hb=[];if(void 0!==this.transform.sort)for(const Gb of this.transform.sort){var Ab;Ya.push(Gb.field);hb.push(null!==(Ab=Gb.order)&&void 0!==Ab?Ab:"ascending")}Ab=this.transform.ignorePeers;return Object.assign({},{type:"window",params:da,as:I,ops:r,fields:c,sort:{field:Ya,order:hb}},void 0!==Ab?{ignorePeers:Ab}:
{},void 0!==ya?{groupby:ya}:{},void 0!==pa?{frame:pa}:{})}}class Eg{constructor(c){bc(this,"signal",void 0);Object.defineProperty(this,"signal",{enumerable:!0,get:c})}static fromName(c,r){return new Eg(()=>c(r))}}class Zk extends Bh{constructor(c,r){super({},{name:c});bc(this,"merged",!1);this.setWithExplicit("type",r)}domainDefinitelyIncludesZero(){return!1!==this.get("zero")?!0:H(this.get("domains"),c=>le(c)&&2===c.length&&0>=c[0]&&0<=c[1])}}const Em=["range","scheme"],Vk={bins:c=>{var {model:r,
fieldOrDatumDef:I}=c;return Vb(I)?Fm(r,I):void 0},interpolate:c=>{var {channel:r,fieldOrDatumDef:I}=c;c=I.type;c=E(["color","fill","stroke"],r)&&"nominal"!==c?"hcl":void 0;return c},nice:c=>{var {scaleType:r,channel:I,fieldOrDatumDef:da}=c;var pa;c=(null===(pa=Pe(da))||void 0===pa?0:pa.bin)||E([Vf.TIME,Vf.UTC],r)?void 0:I in cg?!0:void 0;return c},padding:c=>{var {channel:r,scaleType:I,fieldOrDatumDef:da,markDef:pa,config:ya}=c;a:{c=ya.scale;var Ya=ya.bar;if(r in cg){if(I in Fg){if(void 0!==c.continuousPadding){c=
c.continuousPadding;break a}const {type:hb,orient:Ab}=pa;if("bar"===hb&&(!Vb(da)||!da.bin&&!da.timeUnit)&&("vertical"===Ab&&"x"===r||"horizontal"===Ab&&"y"===r)){c=Ya.continuousBandSize;break a}}if(I===Vf.POINT){c=c.pointPadding;break a}}c=void 0}return c},paddingInner:c=>{var {scalePadding:r,channel:I,markDef:da,config:pa}=c;if(void 0!==r)c=void 0;else if(I in cg){const {bandPaddingInner:ya,barBandPaddingInner:Ya,rectBandPaddingInner:hb}=pa.scale;c=za(ya,"bar"===da.type?Ya:hb)}else c=void 0;return c},
paddingOuter:c=>{var {scalePadding:r,channel:I,scaleType:da,scalePaddingInner:pa,config:ya}=c;void 0!==r?c=void 0:I in cg&&da===Vf.BAND?({bandPaddingOuter:c}=ya.scale,c=za(c,vc(pa)?{signal:"".concat(pa.signal,"/2")}:pa/2)):c=void 0;return c},reverse:c=>{var {fieldOrDatumDef:r,scaleType:I,channel:da,config:pa}=c;c=Vb(r)?r.sort:void 0;var ya=pa.scale;c="x"===da&&void 0!==ya.xReverse?I in xg&&"descending"===c?vc(ya.xReverse)?{signal:"!".concat(ya.xReverse.signal)}:!ya.xReverse:ya.xReverse:I in xg&&"descending"===
c?!0:void 0;return c},zero:c=>{var {channel:r,fieldOrDatumDef:I,domain:da,markDef:pa,scaleType:ya}=c;a:if(da&&"unaggregated"!==da&&ya in xg){if(le(da)&&(c=da[da.length-1],0>=da[0]&&0<=c)){c=!0;break a}c=!1}else if("size"!==r||"quantitative"!==I.type||ya in Ti)if(Vb(I)&&I.bin||!E([...yg,...ln],r))c=!1;else{const {orient:Ya,type:hb}=pa;c=E(["bar","area","line","trail"],hb)&&("horizontal"===Ya&&"y"===r||"vertical"===Ya&&"x"===r)?!1:!0}else c=!0;return c}},Im=se((c,r)=>rl[c]-rl[r]);class rk{constructor(){bc(this,
"nameMap",void 0);this.nameMap={}}rename(c,r){this.nameMap[c]=r}has(c){return void 0!==this.nameMap[c]}get(c){for(;this.nameMap[c]&&c!==this.nameMap[c];)c=this.nameMap[c];return c}}class sk{constructor(c,r,I,da,pa,ya,Ya){var hb,Ab;this.type=r;this.parent=I;this.config=pa;bc(this,"name",void 0);bc(this,"size",void 0);bc(this,"title",void 0);bc(this,"description",void 0);bc(this,"data",void 0);bc(this,"transforms",void 0);bc(this,"layout",void 0);bc(this,"scaleNameMap",void 0);bc(this,"projectionNameMap",
void 0);bc(this,"signalNameMap",void 0);bc(this,"component",void 0);bc(this,"view",void 0);bc(this,"children",[]);bc(this,"correctDataNames",Gb=>{Gb.from&&Gb.from.data&&(Gb.from.data=this.lookupDataSource(Gb.from.data));Gb.from&&Gb.from.facet&&Gb.from.facet.data&&(Gb.from.facet.data=this.lookupDataSource(Gb.from.facet.data));return Gb});this.parent=I;this.config=pa;this.view=Je(Ya);this.name=null!==(hb=c.name)&&void 0!==hb?hb:da;this.title=Od(c.title)?{text:c.title}:c.title?this.initTitle(c.title):
void 0;this.scaleNameMap=I?I.scaleNameMap:new rk;this.projectionNameMap=I?I.projectionNameMap:new rk;this.signalNameMap=I?I.signalNameMap:new rk;this.data=c.data;this.description=c.description;this.transforms=uf(null!==(Ab=c.transform)&&void 0!==Ab?Ab:[]);this.layout="layer"===r||"unit"===r?{}:Ub(c,r,pa);this.component={data:{sources:I?I.component.data.sources:[],outputNodes:I?I.component.data.outputNodes:{},outputNodeRefCounts:I?I.component.data.outputNodeRefCounts:{},isFaceted:"facet"in c||I&&I.component.data.isFaceted&&
void 0===c.data},layoutSize:new Bh,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({},{scale:{},axis:{},legend:{}},ya?Te(ya):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}initTitle(c){const r=xd(c),I={text:vd(c.text)};for(const da of r)I[da]=vd(c[da]);return I}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale();this.parseLayoutSize();this.renameTopLevelLayoutSizeSignal();this.parseSelections();
this.parseProjection();this.parseData();this.parseAxesAndHeaders();this.parseLegends();this.parseMarkGroup()}parseScale(){var {ignoreRange:c}={};Yk(this);Qf(this)?Db(this):Xb(this);for(const r of pn)Uk(this,r);c||Xk(this)}parseProjection(){yh(this)}renameTopLevelLayoutSizeSignal(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width");"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){wh(this)}assembleGroupStyle(){if("unit"===
this.type||"layer"===this.type){var c,r;return null!==(c=null===(r=this.view)||void 0===r?void 0:r.style)&&void 0!==c?c:"cell"}}assembleEncodeFromView(c){c=Object.assign({},c);c=(delete c.style,c);const r={};for(const I of xd(c)){const da=c[I];void 0!==da&&(r[I]=Kd(da))}return r}assembleGroupEncodeEntry(c){let r={};this.view&&(r=this.assembleEncodeFromView(this.view));if(!c&&(this.description&&(r.description=Kd(this.description)),"unit"===this.type||"layer"===this.type)){var I;return Object.assign({},
{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!==(I=r)&&void 0!==I?I:{})}return N(r)?void 0:r}assembleLayout(){if(this.layout){var c=this.layout,r=Object.assign({},c);c=c.spacing;r=(delete r.spacing,r);var {component:I,config:da}=this;{var pa=I.layoutHeaders;const hb={};for(Ya of zg){var ya=pa[Ya];if(null===ya||void 0===ya?0:ya.facetFieldDef){const {titleAnchor:Ab,titleOrient:Gb}=Mh(["titleAnchor","titleOrient"],ya.facetFieldDef.header,da,Ya);ya=Bg(Ya,Gb);const cc=
Bn[ya][Ab];void 0!==cc&&(hb[ya]=cc)}}var Ya=N(hb)?void 0:hb}return Object.assign({},{padding:c},this.assembleDefaultLayout(),r,Ya?{titleBand:Ya}:{})}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const {layoutHeaders:c}=this.component;let r=[];for(const I of zg)c[I].title&&r.push(Rj(this,I));for(const I of ok)r=r.concat(jg(this,I));return r}assembleAxes(){return Ag(this.component.axes,this.config)}assembleLegends(){return rj(this)}assembleProjections(){var c=ci(this)||Uj(this)?Oi(this):mi(this);
return c}assembleTitle(){var c,r=null!==(c=this.title)&&void 0!==c?c:{};c=Object.assign({},r);r=r.encoding;c=(delete c.encoding,c);r=Object.assign({},ud(this.config.title).nonMark,c,r?{encode:{update:r}}:{});if(r.text){if(E(["unit","layer"],this.type)){if(E(["middle",void 0],r.anchor)){var I;r.frame=null!==(I=r.frame)&&void 0!==I?I:"group"}}else{var da;r.anchor=null!==(da=r.anchor)&&void 0!==da?da:"start"}return N(r)?void 0:r}}assembleGroup(c){c=void 0===c?[]:c;const r={};c=c.concat(this.assembleSignals());
0<c.length&&(r.signals=c);if(c=this.assembleLayout())r.layout=c;r.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());c=!this.parent||Gg(this.parent)?zf(this):[];0<c.length&&(r.scales=c);c=this.assembleAxes();0<c.length&&(r.axes=c);c=this.assembleLegends();0<c.length&&(r.legends=c);return r}getName(c){return W((this.name?this.name+"_":"")+c)}getDataName(c){return this.getName(Nf[c].toLowerCase())}requestDataName(c){c=this.getDataName(c);const r=this.component.data.outputNodeRefCounts;
r[c]=(r[c]||0)+1;return c}getSizeSignalRef(c){if(Gg(this.parent)){var r=qj(c),I=yb(r);if((r=this.component.scales[I])&&!r.merged){var da=r.get("type");const pa=r.get("range");if(da in og&&mc(pa)){c=r.get("name");da=lf(this,I);if(da=xf(da))return I=Yc({aggregate:"distinct",field:da},{expr:"datum"}),{signal:th(c,r,I)};Eb(Bc(I));return null}}}return{signal:this.signalNameMap.get(this.getName(c))}}lookupDataSource(c){const r=this.component.data.outputNodes[c];return r?r.getSource():c}getSignalName(c){return this.signalNameMap.get(c)}renameSignal(c,
r){this.signalNameMap.rename(c,r)}renameScale(c,r){this.scaleNameMap.rename(c,r)}renameProjection(c,r){this.projectionNameMap.rename(c,r)}scaleName(c,r){if(r)return this.getName(c);if(Ui[c]&&Qg[c]&&this.component.scales[c]||this.scaleNameMap.has(this.getName(c)))return this.scaleNameMap.get(this.getName(c))}projectionName(c){if(c)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(c){if(!this.component.scales)throw Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");
const r=this.component.scales[c];return r&&!r.merged?r:this.parent?this.parent.getScaleComponent(c):void 0}getSelectionComponent(c,r){let I=this.component.selection[c];!I&&this.parent&&(I=this.parent.getSelectionComponent(c,r));if(!I)throw Error('Cannot find a selection named "'.concat(r,'".'));return I}hasAxisOrientSignalRef(){var c,r;return(null===(c=this.component.axes.x)||void 0===c?void 0:c.some(I=>I.hasOrientSignalRef()))||(null===(r=this.component.axes.y)||void 0===r?void 0:r.some(I=>I.hasOrientSignalRef()))}}
class zl extends sk{vgField(c,r){r=void 0===r?{}:r;if(c=this.fieldDef(c))return Yc(c,r)}reduceFieldDef(c,r){return Wb(this.getMapping(),(I,da,pa)=>(da=Pe(da))?c(I,da,pa):I,r)}forEachFieldDef(c,r){Hb(this.getMapping(),(I,da)=>{(I=Pe(I))&&c(I,da)},r)}}class Yj extends Jf{clone(){return new Yj(null,Te(this.transform))}constructor(c,r){var I,da,pa;super(c);this.transform=r;this.transform=Te(r);c=null!==(I=this.transform.as)&&void 0!==I?I:[void 0,void 0];this.transform.as=[null!==(da=c[0])&&void 0!==da?
da:"value",null!==(pa=c[1])&&void 0!==pa?pa:"density"]}dependentFields(){var c;return new Set([this.transform.density,...null!==(c=this.transform.groupby)&&void 0!==c?c:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"DensityTransform ".concat(D(this.transform))}assemble(){var c=this.transform,r=Object.assign({},c);c=c.density;r=(delete r.density,r);return Object.assign({},{type:"kde",field:c},r)}}class vj extends Jf{clone(){return new vj(null,Object.assign({},this.filter))}constructor(c,
r){super(c);this.filter=r}static make(c,r){const {config:I,mark:da,markDef:pa}=r;if("filter"!==$d("invalid",pa,I))return null;const ya=r.reduceFieldDef((Ya,hb,Ab)=>{(Ab=!!Qg[Ab]&&r.getScaleComponent(Ab))&&Ab.get("type")in xg&&"count"!==hb.aggregate&&!fe(da)&&(Ya[hb.field]=hb);return Ya},{});return xd(ya).length?new vj(c,ya):null}dependentFields(){return new Set(xd(this.filter))}producedFields(){return new Set}hash(){return"FilterInvalid ".concat(D(this.filter))}assemble(){const c=xd(this.filter).reduce((r,
I)=>{I=this.filter[I];const da=Yc(I,{expr:"datum"});null!==I&&("temporal"===I.type?r.push("(isDate(".concat(da,") || (isValid(").concat(da,") \x26\x26 isFinite(+").concat(da,")))")):"quantitative"===I.type&&(r.push("isValid(".concat(da,")")),r.push("isFinite(+".concat(da,")"))));return r},[]);return 0<c.length?{type:"filter",expr:c.join(" \x26\x26 ")}:null}}class Xj extends Jf{clone(){return new Xj(this.parent,Te(this.transform))}constructor(c,r){super(c);this.transform=r;this.transform=Te(r);const {flatten:I,
as:da=[]}=this.transform;this.transform.as=I.map((pa,ya)=>{var Ya;return null!==(Ya=da[ya])&&void 0!==Ya?Ya:pa})}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return"FlattenTransform ".concat(D(this.transform))}assemble(){const {flatten:c,as:r}=this.transform;return{type:"flatten",fields:c,as:r}}}class Wj extends Jf{clone(){return new Wj(null,Te(this.transform))}constructor(c,r){var I,da,pa;super(c);this.transform=r;this.transform=
Te(r);c=null!==(I=this.transform.as)&&void 0!==I?I:[void 0,void 0];this.transform.as=[null!==(da=c[0])&&void 0!==da?da:"key",null!==(pa=c[1])&&void 0!==pa?pa:"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return"FoldTransform ".concat(D(this.transform))}assemble(){const {fold:c,as:r}=this.transform;return{type:"fold",fields:c,as:r}}}class Ri extends Jf{clone(){return new Ri(null,Te(this.fields),this.geojson,this.signal)}static parseAll(c,
r){if(r.component.projection&&!r.component.projection.isFit)return c;let I=0;for(var da of[["longitude","latitude"],["longitude2","latitude2"]]){const pa=da.map(ya=>{ya=va(r.encoding[ya]);return Vb(ya)?ya.field:Vc(ya)?{expr:"".concat(ya.datum)}:$c(ya)?{expr:"".concat(ya.value)}:void 0});if(pa[0]||pa[1])c=new Ri(c,pa,null,r.getName("geojson_".concat(I++)))}r.channelHasField("shape")&&(da=r.typedFieldDef("shape"),"geojson"===da.type&&(c=new Ri(c,null,da.field,r.getName("geojson_".concat(I++)))));return c}constructor(c,
r,I,da){super(c);this.fields=r;this.geojson=I;this.signal=da}dependentFields(){var c;const r=(null!==(c=this.fields)&&void 0!==c?c:[]).filter(e);return new Set([...this.geojson?[this.geojson]:[],...r])}producedFields(){return new Set}hash(){return"GeoJSON ".concat(this.geojson," ").concat(this.signal," ").concat(D(this.fields))}assemble(){return Object.assign({},{type:"geojson"},this.fields?{fields:this.fields}:{},this.geojson?{geojson:this.geojson}:{},{signal:this.signal})}}class wj extends Jf{clone(){return new wj(null,
this.projection,Te(this.fields),Te(this.as))}constructor(c,r,I,da){super(c);this.projection=r;this.fields=I;this.as=da}static parseAll(c,r){if(!r.projectionName())return c;for(const I of[["longitude","latitude"],["longitude2","latitude2"]]){const da=I.map(ya=>{ya=va(r.encoding[ya]);return Vb(ya)?ya.field:Vc(ya)?{expr:"".concat(ya.datum)}:$c(ya)?{expr:"".concat(ya.value)}:void 0}),pa="longitude2"===I[0]?"2":"";if(da[0]||da[1])c=new wj(c,r.projectionName(),da,[r.getName("x"+pa),r.getName("y"+pa)])}return c}dependentFields(){return new Set(this.fields.filter(e))}producedFields(){return new Set(this.as)}hash(){return"Geopoint ".concat(this.projection,
" ").concat(D(this.fields)," ").concat(D(this.as))}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class qi extends Jf{clone(){return new qi(null,Te(this.transform))}constructor(c,r){super(c);this.transform=r}dependentFields(){var c;return new Set([this.transform.impute,this.transform.key,...null!==(c=this.transform.groupby)&&void 0!==c?c:[]])}producedFields(){return new Set([this.transform.impute])}processSequence(c){const {start:r=0,stop:I,step:da}=c;
c=[r,I,...da?[da]:[]].join();return{signal:"sequence(".concat(c,")")}}static makeFromTransform(c,r){return new qi(c,r)}static makeFromEncoding(c,r){const I=r.encoding;var da=I.x;const pa=I.y;if(Vb(da)&&Vb(pa)){const ya=da.impute?da:pa.impute?pa:void 0;if(void 0===ya)return;da=da.impute?pa:pa.impute?da:void 0;const {method:Ya,value:hb,frame:Ab,keyvals:Gb}=ya.impute;r=oc(r.mark,I);return new qi(c,Object.assign({},{impute:ya.field,key:da.field},Ya?{method:Ya}:{},void 0!==hb?{value:hb}:{},Ab?{frame:Ab}:
{},void 0!==Gb?{keyvals:Gb}:{},r.length?{groupby:r}:{}))}return null}hash(){return"Impute ".concat(D(this.transform))}assemble(){const {impute:c,key:r,keyvals:I,method:da,groupby:pa,value:ya,frame:Ya=[null,null]}=this.transform,hb=Object.assign({},{type:"impute",field:c,key:r},I?{keyvals:void 0!==(null===I||void 0===I?void 0:I.stop)?this.processSequence(I):I}:{},{method:"value"},pa?{groupby:pa}:{},{value:da&&"value"!==da?null:ya});if(da&&"value"!==da){const Ab=Object.assign({},{type:"window",as:["imputed_".concat(c,
"_value")],ops:[da],fields:[c],frame:Ya,ignorePeers:!1},pa?{groupby:pa}:{}),Gb={type:"formula",expr:"datum.".concat(c," \x3d\x3d\x3d null ? datum.imputed_").concat(c,"_value : datum.").concat(c),as:c};return[hb,Ab,Gb]}return[hb]}}class Zj extends Jf{clone(){return new Zj(null,Te(this.transform))}constructor(c,r){var I,da,pa;super(c);this.transform=r;this.transform=Te(r);c=null!==(I=this.transform.as)&&void 0!==I?I:[void 0,void 0];this.transform.as=[null!==(da=c[0])&&void 0!==da?da:r.on,null!==(pa=
c[1])&&void 0!==pa?pa:r.loess]}dependentFields(){var c;return new Set([this.transform.loess,this.transform.on,...null!==(c=this.transform.groupby)&&void 0!==c?c:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"LoessTransform ".concat(D(this.transform))}assemble(){var c=this.transform,r=Object.assign({},c);const I=c.loess;c=c.on;r=(delete r.loess,delete r.on,r);return Object.assign({},{type:"loess",x:c,y:I},r)}}class xj extends Jf{clone(){return new xj(null,Te(this.transform),
this.secondary)}constructor(c,r,I){super(c);this.transform=r;this.secondary=I}static make(c,r,I,da){const pa=r.component.data.sources,{from:ya}=I;var Ya=null;if("data"in ya)Ya=dl(ya.data,pa),Ya||(Ya=new Uh(ya.data),pa.push(Ya)),da=r.getName("lookup_".concat(da)),Ya=new ig(Ya,da,Nf.Lookup,r.component.data.outputNodeRefCounts),r.component.data.outputNodes[da]=Ya;else if("selection"in ya&&(da=ya.selection,I=Object.assign({},{as:da},I),Ya=r.getSelectionComponent(W(da),da).materialized,!Ya))throw Error('Cannot define and lookup the "'.concat(da,
'" selection in the same view. ')+"Try moving the lookup into a second, layered view?");return new xj(c,I,Ya.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?d(this.transform.as):this.transform.from.fields)}hash(){return"Lookup ".concat(D({transform:this.transform,secondary:this.secondary}))}assemble(){if(this.transform.from.fields)var c=Object.assign({},{values:this.transform.from.fields},this.transform.as?{as:d(this.transform.as)}:
{});else c=this.transform.as,e(c)||(Eb('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),c="_lookup"),c={as:[c]};return Object.assign({},{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},c,this.transform.default?{default:this.transform.default}:{})}}class ak extends Jf{clone(){return new ak(null,Te(this.transform))}constructor(c,r){var I,da,pa;super(c);this.transform=
r;this.transform=Te(r);c=null!==(I=this.transform.as)&&void 0!==I?I:[void 0,void 0];this.transform.as=[null!==(da=c[0])&&void 0!==da?da:"prob",null!==(pa=c[1])&&void 0!==pa?pa:"value"]}dependentFields(){var c;return new Set([this.transform.quantile,...null!==(c=this.transform.groupby)&&void 0!==c?c:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"QuantileTransform ".concat(D(this.transform))}assemble(){var c=this.transform,r=Object.assign({},c);c=c.quantile;r=(delete r.quantile,
r);return Object.assign({},{type:"quantile",field:c},r)}}class bk extends Jf{clone(){return new bk(null,Te(this.transform))}constructor(c,r){var I,da,pa;super(c);this.transform=r;this.transform=Te(r);c=null!==(I=this.transform.as)&&void 0!==I?I:[void 0,void 0];this.transform.as=[null!==(da=c[0])&&void 0!==da?da:r.on,null!==(pa=c[1])&&void 0!==pa?pa:r.regression]}dependentFields(){var c;return new Set([this.transform.regression,this.transform.on,...null!==(c=this.transform.groupby)&&void 0!==c?c:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"RegressionTransform ".concat(D(this.transform))}assemble(){var c=
this.transform,r=Object.assign({},c);const I=c.regression;c=c.on;r=(delete r.regression,delete r.on,r);return Object.assign({},{type:"regression",x:c,y:I},r)}}class dk extends Jf{clone(){return new dk(null,Te(this.transform))}constructor(c,r){super(c);this.transform=r}addDimensions(c){var r;this.transform.groupby=ea((null!==(r=this.transform.groupby)&&void 0!==r?r:[]).concat(c),I=>I)}producedFields(){}dependentFields(){var c;return new Set([this.transform.pivot,this.transform.value,...null!==(c=this.transform.groupby)&&
void 0!==c?c:[]])}hash(){return"PivotTransform ".concat(D(this.transform))}assemble(){const {pivot:c,value:r,groupby:I,limit:da,op:pa}=this.transform;return Object.assign({},{type:"pivot",field:c,value:r},void 0!==da?{limit:da}:{},void 0!==pa?{op:pa}:{},void 0!==I?{groupby:I}:{})}}class ck extends Jf{clone(){return new ck(null,Te(this.transform))}constructor(c,r){super(c);this.transform=r}dependentFields(){return new Set}producedFields(){return new Set}hash(){return"SampleTransform ".concat(D(this.transform))}assemble(){return{type:"sample",
size:this.transform.sample}}}class Gj extends zl{constructor(c,r,I,da){super(c,"facet",r,I,da,c.resolve);bc(this,"facet",void 0);bc(this,"child",void 0);bc(this,"children",void 0);this.child=mk(c.spec,this,this.getName("child"),void 0,da);this.children=[this.child];this.facet=this.initFacet(c.facet)}initFacet(c){if(!ta(c))return{facet:this.initFacetFieldDef(c,"facet")};var r=xd(c);const I={};for(const da of r){if(!E(["row","column"],da)){Eb(qc(da,"facet"));break}r=c[da];if(void 0===r.field){Eb(xb(r,
da));break}I[da]=this.initFacetFieldDef(r,da)}return I}initFacetFieldDef(c,r){var I=Object.assign({},c);c=c.header;I=(delete I.header,I);r=Pb(I,r);c&&(r.header=Je(c));return r}channelHasField(c){return!!this.facet[c]}fieldDef(c){return this.facet[c]}parseData(){this.component.data=zj(this);this.child.parseData()}parseLayoutSize(){ek(this)}parseSelections(){this.child.parseSelections();this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders();
for(const pa of zg){{var c=void 0,r=pa;const {facet:ya,config:Ya,child:hb,component:Ab}=this;if(this.channelHasField(r)){const Gb=ya[r];var I=Cg("title",null,Ya,r);I=Ke(Gb,Ya,{allowDisabling:!0,includeDefault:void 0===I||!!I});hb.component.layoutHeaders[r].title&&(I=le(I)?I.join(", "):I,I+=" / "+hb.component.layoutHeaders[r].title,hb.component.layoutHeaders[r].title=null);var da=Cg("labelOrient",Gb,Ya,r);const cc=null!==(c=Gb.header)&&void 0!==c?c:{};c=za(cc.labels,Ya.header.labels,!0);da=E(["bottom",
"right"],da)?"footer":"header";Ab.layoutHeaders[r]={title:I,facetFieldDef:Gb,[da]:"facet"===r?[]:[bl(this,r,c)]}}}}cl(this,"x");cl(this,"y")}assembleSelectionTopLevelSignals(c){return this.child.assembleSelectionTopLevelSignals(c)}assembleSignals(){this.child.assembleSignals();return[]}assembleSelectionData(c){return this.child.assembleSelectionData(c)}getHeaderLayoutMixins(){const c={};for(const Ya of zg)for(const hb of Sj){const Ab=this.component.layoutHeaders[Ya];var r=Ab[hb],{facetFieldDef:I}=
Ab;if(I&&(I=Cg("titleOrient",I.header,this.config,Ya),E(["right","bottom"],I))){var da;I=Bg(Ya,I);c.titleAnchor=null!==(da=c.titleAnchor)&&void 0!==da?da:{};c.titleAnchor[I]="end"}if(null===r||void 0===r?0:r[0]){r="row"===Ya?"height":"width";I="header"===hb?"headerBand":"footerBand";if("facet"!==Ya&&!this.child.component.layoutSize.get(r)){var pa;c[I]=null!==(pa=c[I])&&void 0!==pa?pa:{};c[I][Ya]=.5}if(Ab.title){var ya;c.offset=null!==(ya=c.offset)&&void 0!==ya?ya:{};c.offset["row"===Ya?"rowTitle":
"columnTitle"]=10}}}return c}assembleDefaultLayout(){const {column:c,row:r}=this.facet,I=c?this.columnDistinctSignal():r?1:void 0;let da="all";r||"independent"!==this.component.resolve.scale.x?c||"independent"!==this.component.resolve.scale.y||(da="none"):da="none";return Object.assign({},this.getHeaderLayoutMixins(),I?{columns:I}:{},{bounds:"full",align:da})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof Gj)){const c=
this.getName("column_domain");return{signal:"length(data('".concat(c,"'))")}}}assembleGroup(c){return this.parent&&this.parent instanceof Gj?Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:Yc(this.facet.column,{prefix:"distinct"})}}}}:{},super.assembleGroup(c)):super.assembleGroup(c)}getCardinalityAggregateForChild(){const c=[],r=[],I=[];if(this.child instanceof Gj){if(this.child.channelHasField("column")){var da=Yc(this.child.facet.column);c.push(da);r.push("distinct");
I.push("distinct_".concat(da))}}else for(da of yg){var pa=this.child.component.scales[da];if(pa&&!pa.merged){var ya=pa.get("type");pa=pa.get("range");ya in og&&mc(pa)&&(ya=lf(this.child,da),(ya=xf(ya))?(c.push(ya),r.push("distinct"),I.push("distinct_".concat(ya))):Eb(Bc(da)))}}return{fields:c,ops:r,as:I}}assembleFacet(){const {name:c,data:r}=this.component.data.facetRoot,{row:I,column:da}=this.facet,{fields:pa,ops:ya,as:Ya}=this.getCardinalityAggregateForChild(),hb=[];for(var Ab of zg){var Gb=this.facet[Ab];
if(Gb){hb.push(Yc(Gb));const {bin:cc,sort:Jc}=Gb;ic(cc)&&hb.push(Yc(Gb,{binSuffix:"end"}));if(Zd(Jc)){const {field:Tc,op:bd="min"}=Jc;Gb=fk(Gb,Jc);I&&da?(pa.push(Gb),ya.push("max")):(pa.push(Tc),ya.push(bd));Ya.push(Gb)}else le(Jc)&&(Gb=sg(Gb,Ab),pa.push(Gb),ya.push("max"),Ya.push(Gb))}}Ab=!!I&&!!da;return Object.assign({},{name:c,data:r,groupby:hb},Ab||0<pa.length?{aggregate:Object.assign({},Ab?{cross:Ab}:{},pa.length?{fields:pa,ops:ya,as:Ya}:{})}:{})}facetSortFields(c){var {facet:r}=this;return(r=
r[c])?Zd(r.sort)?[fk(r,r.sort,{expr:"datum"})]:le(r.sort)?[sg(r,c,{expr:"datum"})]:[Yc(r,{expr:"datum"})]:[]}facetSortOrder(c){const {facet:r}=this;return(c=r[c])?({sort:c}=c,[(Zd(c)?c.order:!le(c)&&c)||"ascending"]):[]}assembleLabelTitle(){const {facet:c,config:r}=this;if(c.facet)return kf(c.facet,"facet",r);const I={row:["top","bottom"],column:["left","right"]};for(const pa of ok)if(c[pa]){var da;const ya=Cg("labelOrient",null===(da=c[pa])||void 0===da?void 0:da.header,r,pa);if(E(I[pa],ya))return kf(c[pa],
pa,r)}}assembleMarks(){const {child:c}=this,r=Jm(this.component.data.facetRoot),I=c.assembleGroupEncodeEntry(!1),da=this.assembleLabelTitle()||c.assembleTitle(),pa=c.assembleGroupStyle();return[Object.assign({},{name:this.getName("cell"),type:"group"},da?{title:da}:{},pa?{style:pa}:{},{from:{facet:this.assembleFacet()},sort:{field:zg.map(ya=>this.facetSortFields(ya)).flat(),order:zg.map(ya=>this.facetSortOrder(ya)).flat()}},0<r.length?{data:r}:{},I?{encode:{update:I}}:{},c.assembleGroup(Di(this,[])))]}getMapping(){return this.facet}}
class en extends sk{constructor(c,r,I,da){var pa,ya,Ya,hb;super(c,"concat",r,I,da,c.resolve);bc(this,"children",void 0);"shared"!==(null===(pa=c.resolve)||void 0===pa?void 0:null===(ya=pa.axis)||void 0===ya?void 0:ya.x)&&"shared"!==(null===(Ya=c.resolve)||void 0===Ya?void 0:null===(hb=Ya.axis)||void 0===hb?void 0:hb.y)||Eb("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).");this.children=this.getChildren(c).map((Ab,Gb)=>mk(Ab,this,this.getName("concat_"+
Gb),void 0,da))}parseData(){this.component.data=zj(this);for(const c of this.children)c.parseData()}parseSelections(){this.component.selection={};for(const c of this.children){c.parseSelections();for(const r of xd(c.component.selection))this.component.selection[r]=c.component.selection[r]}}parseMarkGroup(){for(const c of this.children)c.parseMarkGroup()}parseAxesAndHeaders(){for(const c of this.children)c.parseAxesAndHeaders()}getChildren(c){return"vconcat"in c?c.vconcat:"hconcat"in c?c.hconcat:c.concat}parseLayoutSize(){{ek(this);
const c=void 0===this.layout.columns?"height":"childHeight";yj(this,1===this.layout.columns?"width":"childWidth");yj(this,c)}}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(c){return this.children.reduce((r,I)=>I.assembleSelectionTopLevelSignals(r),c)}assembleSignals(){this.children.forEach(c=>c.assembleSignals());return[]}assembleLayoutSignals(){const c=ki(this);for(const r of this.children)c.push(...r.assembleLayoutSignals());return c}assembleSelectionData(c){return this.children.reduce((r,
I)=>I.assembleSelectionData(r),c)}assembleMarks(){return this.children.map(c=>{const r=c.assembleTitle(),I=c.assembleGroupStyle(),da=c.assembleGroupEncodeEntry(!1);return Object.assign({},{type:"group",name:c.getName("group")},r?{title:r}:{},I?{style:I}:{},da?{encode:{update:da}}:{},c.assembleGroup())})}assembleDefaultLayout(){const c=this.layout.columns;return Object.assign({},null!=c?{columns:c}:{},{bounds:"full",align:"each"})}}const Dn=Object.assign({},{disable:1,gridScale:1,scale:1},ll,{labelExpr:1,
encode:1}),el=xd(Dn);class fl extends Bh{constructor(c,r,I){c=void 0===c?{}:c;r=void 0===r?{}:r;I=void 0===I?!1:I;super();this.explicit=c;this.implicit=r;this.mainExtracted=I}clone(){return new fl(Te(this.explicit),Te(this.implicit),this.mainExtracted)}hasAxisPart(c){if("axis"===c)return!0;if("grid"===c||"title"===c)return!!this.get(c);c=this.get(c);return!(!1===c||null===c)}hasOrientSignalRef(){return vc(this.explicit.orient)}}const En={bottom:"top",top:"bottom",left:"right",right:"left"},Tm=new Set("grid translate format formatType orient labelExpr tickCount position tickMinStep".split(" ")),
Fj={arc:{vgMark:"arc",encodeEntry:c=>Object.assign({},pg(c,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),Xf("x",c,{defaultPos:"mid"}),Xf("y",c,{defaultPos:"mid"}),Ig(c,"radius","arc"),Ig(c,"theta","arc"))},area:{vgMark:"area",encodeEntry:c=>Object.assign({},pg(c,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),Gh("x",c,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===c.markDef.orient}),
Gh("y",c,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===c.markDef.orient}),xi(c))},bar:{vgMark:"rect",encodeEntry:c=>Object.assign({},pg(c,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Ig(c,"x","bar"),Ig(c,"y","bar"))},circle:{vgMark:"symbol",encodeEntry:c=>jk(c,"circle")},geoshape:{vgMark:"shape",encodeEntry:c=>Object.assign({},pg(c,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),
postEncodingTransform:c=>{var {encoding:r}=c;r=r.shape;return[Object.assign({},{type:"geoshape",projection:c.projectionName()},r&&Vb(r)&&"geojson"===r.type?{field:Yc(r,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:c=>Object.assign({},pg(c,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),Ig(c,"x","image"),Ig(c,"y","image"),Dh(c,"url"))},line:{vgMark:"line",encodeEntry:c=>Object.assign({},pg(c,{align:"ignore",baseline:"ignore",color:"include",
size:"ignore",orient:"ignore",theta:"ignore"}),Xf("x",c,{defaultPos:"mid"}),Xf("y",c,{defaultPos:"mid"}),Tf("size",c,{vgChannel:"strokeWidth"}),xi(c))},point:{vgMark:"symbol",encodeEntry:c=>jk(c)},rect:{vgMark:"rect",encodeEntry:c=>Object.assign({},pg(c,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Ig(c,"x","rect"),Ig(c,"y","rect"))},rule:{vgMark:"rule",encodeEntry:c=>{var {markDef:r}=c;r=r.orient;return c.encoding.x||c.encoding.y||c.encoding.latitude||
c.encoding.longitude?Object.assign({},pg(c,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Gh("x",c,{defaultPos:"horizontal"===r?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==r}),Gh("y",c,{defaultPos:"vertical"===r?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==r}),Tf("size",c,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:c=>jk(c,"square")},text:{vgMark:"text",encodeEntry:c=>{const {config:r,encoding:I}=
c;return Object.assign({},pg(c,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),Xf("x",c,{defaultPos:"mid"}),Xf("y",c,{defaultPos:"mid"}),Dh(c),Tf("size",c,{vgChannel:"fontSize"}),Tf("angle",c),If("align",Xm(c.markDef,I,r)),If("baseline",Ym(c.markDef,I,r)),Xf("radius",c,{defaultPos:null,isMidPoint:!0}),Xf("theta",c,{defaultPos:null,isMidPoint:!0}))}},tick:{vgMark:"rect",encodeEntry:c=>{const {config:r,markDef:I}=c;var da=I.orient;const pa="horizontal"===
da?"width":"height";da="horizontal"===da?"height":"width";return Object.assign({},pg(c,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Xf("x",c,{defaultPos:"mid",vgChannel:"xc"}),Xf("y",c,{defaultPos:"mid",vgChannel:"yc"}),Tf("size",c,{defaultValue:Zm(c),vgChannel:pa}),{[da]:Kd($d("thickness",I,r))})}},trail:{vgMark:"trail",encodeEntry:c=>Object.assign({},pg(c,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),
Xf("x",c,{defaultPos:"mid"}),Xf("y",c,{defaultPos:"mid"}),Tf("size",c),xi(c))}};class kl extends zl{constructor(c,r,I,da,pa){da=void 0===da?{}:da;super(c,"unit",r,I,pa,void 0,Fb(c)?c.view:void 0);bc(this,"markDef",void 0);bc(this,"encoding",void 0);bc(this,"specifiedScales",{});bc(this,"stack",void 0);bc(this,"specifiedAxes",{});bc(this,"specifiedLegends",{});bc(this,"specifiedProjection",{});bc(this,"selection",{});bc(this,"children",[]);var ya=zd(c.mark)?Object.assign({},c.mark):{type:c.mark};r=
ya.type;if(void 0===ya.filled){({graticule:I}={graticule:c.data&&"graticule"in c.data});if(I)I=!1;else{I=Qe("filled",ya,pa);var Ya=ya.type;I=za(I,Ya!==Aj&&Ya!==Ej&&Ya!==Cj)}ya.filled=I}I=this.encoding=wb(c.encoding||{},r,ya.filled,pa);ya=Je(ya);Ya=$d("orient",ya,pa);ya.orient=Um(ya.type,I,Ya);void 0!==Ya&&Ya!==ya.orient&&(Ya='Specified orient "'.concat(ya.orient,'" overridden with "').concat(Ya,'".'),Eb(Ya));if("bar"===ya.type&&ya.orient&&(Ya=$d("cornerRadiusEnd",ya,pa),void 0!==Ya)){const cc="horizontal"===
ya.orient&&I.x2||"vertical"===ya.orient&&I.y2?["cornerRadius"]:rn[ya.orient];for(var hb of cc)ya[hb]=Ya;void 0!==ya.cornerRadiusEnd&&delete ya.cornerRadiusEnd}void 0===$d("opacity",ya,pa)&&(hb=E([Aj,ik,gk,hk],ya.type)&&!bb(I)?.7:void 0,ya.opacity=hb);void 0===$d("cursor",ya,pa)&&(hb=ya,pa=I.href||hb.href||$d("href",hb,pa)?"pointer":hb.cursor,ya.cursor=pa);this.markDef=pa=ya;da={encoding:I,size:Fb(c)?Object.assign({},da,c.width?{width:c.width}:{},c.height?{height:c.height}:{}):da};var {encoding:Ab,
size:Gb}=da;for(const cc of yg)da=Qa(cc),tb(Gb[da])&&Cc(Ab[cc])&&(delete Gb[da],Eb(Ga(da)));this.size=Gb;this.stack=Kb(r,I);this.specifiedScales=this.initScales(r,I);this.specifiedAxes=this.initAxes(I);this.specifiedLegends=this.initLegends(I);this.specifiedProjection=c.projection;this.selection=c.selection}get hasProjection(){const {encoding:c}=this,r=this.mark===$k,I=c&&gn.some(da=>dd(c[da]));return r||I}scaleDomain(c){return(c=this.specifiedScales[c])?c.domain:void 0}axis(c){return this.specifiedAxes[c]}legend(c){return this.specifiedLegends[c]}initScales(c,
r){return fj.reduce((I,da)=>{const pa=va(r[da]);if(pa){var ya;I[da]=this.initScale(null!==(ya=pa.scale)&&void 0!==ya?ya:{})}return I},{})}initScale(c){const {domain:r,range:I}=c;c=Je(c);le(r)&&(c.domain=r.map(vd));le(I)&&(c.range=I.map(vd));return c}initAxes(c){return yg.reduce((r,I)=>{var da=c[I];if(dd(da)||"x"===I&&dd(c.x2)||"y"===I&&dd(c.y2))da=dd(da)?da.axis:void 0,r[I]=da?this.initAxis(Object.assign({},da)):da;return r},{})}initAxis(c){var r=xd(c);const I={};for(const da of r)r=c[da],I[da]=oa(r)?
Yd(r):vd(r);return I}initLegends(c){return mn.reduce((r,I)=>{var da=va(c[I]),pa;if(pa=da)a:{switch(I){case "color":case "fill":case "stroke":case "size":case "shape":case "opacity":case "strokeWidth":case "strokeDash":pa=!0;break a;case "fillOpacity":case "strokeOpacity":case "angle":pa=!1;break a}pa=void 0}pa&&(da=da.legend,r[I]=da?Je(da):da);return r},{})}parseData(){this.component.data=zj(this)}parseLayoutSize(){{const {size:r,component:I}=this;for(const da of yg){const pa=Qa(da);if(r[pa]){var c=
r[pa];I.layoutSize.set(pa,tb(c)?"step":c,!0)}else c=Lm(this,pa),I.layoutSize.set(pa,c,!1)}}}parseSelections(){this.component.selection=Hi(this,this.selection)}parseMarkGroup(){this.component.mark=$m(this)}parseAxesAndHeaders(){this.component.axes=Om(this)}assembleSelectionTopLevelSignals(c){return hj(this,c)}assembleSignals(){return[...Lh(this),...gj(this,[])]}assembleSelectionData(c){return ij(this,c)}assembleLayout(){return null}assembleLayoutSignals(){return ki(this)}assembleMarks(){var c;let r=
null!==(c=this.component.mark)&&void 0!==c?c:[];this.parent&&ci(this.parent)||(r=jj(this,r));return r.map(this.correctDataNames)}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(c){return Oa(this.encoding,c)}fieldDef(c){return Pe(this.encoding[c])}typedFieldDef(c){c=this.fieldDef(c);return rd(c)?c:null}}class jl extends sk{constructor(c,r,I,da,pa){super(c,"layer",r,I,pa,c.resolve,c.view);bc(this,"children",void 0);const ya=Object.assign({},da,c.width?{width:c.width}:
{},c.height?{height:c.height}:{});this.children=c.layer.map((Ya,hb)=>{if("layer"in Ya)return new jl(Ya,this,this.getName("layer_"+hb),ya,pa);if(Ka(Ya))return new kl(Ya,this,this.getName("layer_"+hb),ya,pa);throw Error(Ec(Ya));})}parseData(){this.component.data=zj(this);for(const c of this.children)c.parseData()}parseLayoutSize(){ek(this);yj(this,"width");yj(this,"height")}parseSelections(){this.component.selection={};for(const c of this.children){c.parseSelections();for(const r of xd(c.component.selection))this.component.selection[r]=
c.component.selection[r]}}parseMarkGroup(){for(const c of this.children)c.parseMarkGroup()}parseAxesAndHeaders(){{const {axes:I,resolve:da}=this.component,pa={top:0,bottom:0,right:0,left:0};for(var c of this.children){c.parseAxesAndHeaders();for(const ya of xd(c.component.axes))da.axis[ya]=li(this.component.resolve,ya),"shared"===da.axis[ya]&&(I[ya]=Qm(I[ya],c.component.axes[ya]),I[ya]||(da.axis[ya]="independent",delete I[ya]))}for(const ya of yg){for(const Ya of this.children)if(Ya.component.axes[ya]){if("independent"===
da.axis[ya]){var r;I[ya]=(null!==(r=I[ya])&&void 0!==r?r:[]).concat(Ya.component.axes[ya]);for(const hb of Ya.component.axes[ya]){const {value:Ab,explicit:Gb}=hb.getWithExplicit("orient");vc(Ab)||(0<pa[Ab]&&!Gb&&(c=En[Ab],pa[Ab]>pa[c]&&hb.set("orient",c,!1)),pa[Ab]++)}}delete Ya.component.axes[ya]}if("independent"===da.axis[ya]&&I[ya]&&1<I[ya].length)for(const Ya of I[ya])Ya.get("grid")&&!Ya.explicit.grid&&(Ya.implicit.grid=!1)}}}assembleSelectionTopLevelSignals(c){return this.children.reduce((r,
I)=>I.assembleSelectionTopLevelSignals(r),c)}assembleSignals(){return this.children.reduce((c,r)=>c.concat(r.assembleSignals()),Lh(this))}assembleLayoutSignals(){return this.children.reduce((c,r)=>c.concat(r.assembleLayoutSignals()),ki(this))}assembleSelectionData(c){return this.children.reduce((r,I)=>I.assembleSelectionData(r),c)}assembleTitle(){let c=super.assembleTitle();if(c)return c;for(const r of this.children)if(c=r.assembleTitle())return c}assembleLayout(){return null}assembleMarks(){return hh(this,
this.children.flatMap(c=>c.assembleMarks()))}assembleLegends(){return this.children.reduce((c,r)=>c.concat(r.assembleLegends()),rj(this))}}l.accessPathDepth=Ua;l.accessPathWithDatum=xa;l.compile=function(c,r){r=void 0===r?{}:r;r.logger&&(Si=r.logger);r.fieldTitle&&(ti=r.fieldTitle);try{const cc=Ja(t(r.config,c.config)),Jc=be(c,cc),Tc=mk(Jc,null,"",void 0,cc);Tc.parse();{var I=Tc.component.data,da=Tc;Ta(I.sources);let bd=0,sd=0;for(var pa=0;5>pa&&ob(I,da,!0);pa++)bd++;I.sources.map(aa);for(pa=0;5>
pa&&ob(I,da,!1);pa++)sd++;Ta(I.sources);5===Math.max(bd,sd)&&Eb("Maximum optimization runs(".concat(5,") reached."))}{var ya=Jc.autosize;I=cc;da=Tc;const bd=da.component.layoutSize.get("width"),sd=da.component.layoutSize.get("height");void 0===ya?(ya={type:"pad"},da.hasAxisOrientSignalRef()&&(ya.resize=!0)):e(ya)&&(ya={type:ya});var Ya;if(Ya=bd&&sd){var hb=ya.type;Ya="fit"===hb||"fit-x"===hb||"fit-y"===hb}if(Ya)if("step"===bd&&"step"===sd)Eb(Hc()),ya.type="pad";else if("step"===bd||"step"===sd){hb=
"step"===bd?"width":"height";Eb(Hc(yb(hb)));Ya=ya;var Ab=(hb="width"===hb?"height":"width","fit-".concat(yb(hb)));Ya.type=Ab}var Gb=Object.assign({},1===xd(ya).length&&ya.type?"pad"===ya.type?{}:{autosize:ya.type}:{autosize:ya},jb(I,!1),jb(c,!0))}return{spec:fn(Tc,Gb,c.datasets,c.usermeta),normalized:Jc}}finally{r.logger&&(Si=ql),r.fieldTitle&&(ti=vl)}};l.contains=E;l.deepEqual=Zh;l.deleteNestedProperty=Y;l.duplicate=Te;l.entries=si;l.every=Q;l.fieldIntersection=ca;l.flatAccessWithDatum=Ha;l.getFirstDefined=
za;l.hasIntersection=fa;l.hash=D;l.internalField=R;l.isBoolean=C;l.isEmpty=N;l.isEqual=function(c,r){const I=xd(c),da=xd(r);if(I.length!==da.length)return!1;for(const pa of I)if(c[pa]!==r[pa])return!1;return!0};l.isInternalField=T;l.isNullOrFalse=y;l.isNumeric=Z;l.keys=xd;l.logicalExpr=ha;l.mergeDeep=S;l.normalize=be;l.normalizeAngle=X;l.omit=K;l.pick=M;l.prefixGenerator=ia;l.removePathFromField=Pa;l.replaceAll=ra;l.replacePathInField=gb;l.resetIdCounter=function(){tk=42};l.setEqual=ba;l.some=H;l.stringify=
Of;l.titleCase=wa;l.unique=ea;l.uniqueId=qa;l.vals=Tg;l.varName=W;l.version="4.17.0";Object.defineProperty(l,"__esModule",{value:!0})})};
shadow$provide[67]=function(Ia,A,mb,J){function m(){throw Error("setTimeout has not been defined");}function l(){throw Error("clearTimeout has not been defined");}function u(n){if(k===setTimeout)return setTimeout(n,0);if((k===m||!k)&&setTimeout)return k=setTimeout,setTimeout(n,0);try{return k(n,0)}catch(x){try{return k.call(null,n,0)}catch(z){return k.call(this,n,0)}}}function G(n){if(g===clearTimeout)return clearTimeout(n);if((g===l||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(n);try{return g(n)}catch(x){try{return g.call(null,
n)}catch(z){return g.call(this,n)}}}function L(){f&&a&&(f=!1,a.length?d=a.concat(d):e=-1,d.length&&w())}function w(){if(!f){var n=u(L);f=!0;for(var x=d.length;x;){a=d;for(d=[];++e<x;)a&&a[e].run();e=-1;x=d.length}a=null;f=!1;G(n)}}function v(n,x){this.fun=n;this.array=x}function t(){}Ia=mb.exports={};try{var k="function"===typeof setTimeout?setTimeout:m}catch(n){k=m}try{var g="function"===typeof clearTimeout?clearTimeout:l}catch(n){g=l}var d=[],f=!1,a,e=-1;Ia.nextTick=function(n){var x=Array(arguments.length-
1);if(1<arguments.length)for(var z=1;z<arguments.length;z++)x[z-1]=arguments[z];d.push(new v(n,x));1!==d.length||f||u(w)};v.prototype.run=function(){this.fun.apply(null,this.array)};Ia.title="browser";Ia.browser=!0;Ia.env={};Ia.argv=[];Ia.version="";Ia.versions={};Ia.on=t;Ia.addListener=t;Ia.once=t;Ia.off=t;Ia.removeListener=t;Ia.removeAllListeners=t;Ia.emit=t;Ia.prependListener=t;Ia.prependOnceListener=t;Ia.listeners=function(n){return[]};Ia.binding=function(n){throw Error("process.binding is not supported");
};Ia.cwd=function(){return"/"};Ia.chdir=function(n){throw Error("process.chdir is not supported");};Ia.umask=function(){return 0}};
shadow$provide[68]=function(Ia,A,mb,J){var m=A(67);(function(l,u){"object"===typeof J&&"undefined"!==typeof mb?mb.exports=u(A(65),A(66)):"function"===typeof define&&define.amd?define(["vega","vega-lite"],u):(l="undefined"!==typeof globalThis?globalThis:l||self,l.vegaEmbed=u(l.vega,l.vegaLite))})(this,function(l,u){function G(ta){if(ta&&ta.__esModule)return ta;var Ba=Object.create(null);ta&&Object.keys(ta).forEach(function(Va){if("default"!==Va){var zb=Object.getOwnPropertyDescriptor(ta,Va);Object.defineProperty(Ba,
Va,zb.get?zb:{enumerable:!0,get:function(){return ta[Va]}})}});Ba["default"]=ta;return Object.freeze(Ba)}function L(ta,Ba,Va,zb){function pb(Rb){return Rb instanceof Va?Rb:new Va(function(Vb){Vb(Rb)})}return new (Va||(Va=Promise))(function(Rb,Vb){function Gc(Bd){try{Cc(zb.next(Bd))}catch(dd){Vb(dd)}}function Vc(Bd){try{Cc(zb["throw"](Bd))}catch(dd){Vb(dd)}}function Cc(Bd){Bd.done?Rb(Bd.value):pb(Bd.value).then(Gc,Vc)}Cc((zb=zb.apply(ta,Ba||[])).next())})}function w(ta,Ba){function Va(Cc){return function(Bd){return zb([Cc,
Bd])}}function zb(Cc){if(Rb)throw new TypeError("Generator is already executing.");for(;pb;)try{if(Rb=1,Vb&&(Gc=Cc[0]&2?Vb["return"]:Cc[0]?Vb["throw"]||((Gc=Vb["return"])&&Gc.call(Vb),0):Vb.next)&&!(Gc=Gc.call(Vb,Cc[1])).done)return Gc;if(Vb=0,Gc)Cc=[Cc[0]&2,Gc.value];switch(Cc[0]){case 0:case 1:Gc=Cc;break;case 4:return pb.label++,{value:Cc[1],done:!1};case 5:pb.label++;Vb=Cc[1];Cc=[0];continue;case 7:Cc=pb.ops.pop();pb.trys.pop();continue;default:if(!(Gc=pb.trys,Gc=0<Gc.length&&Gc[Gc.length-1])&&
(6===Cc[0]||2===Cc[0])){pb=0;continue}if(3===Cc[0]&&(!Gc||Cc[1]>Gc[0]&&Cc[1]<Gc[3]))pb.label=Cc[1];else if(6===Cc[0]&&pb.label<Gc[1])pb.label=Gc[1],Gc=Cc;else if(Gc&&pb.label<Gc[2])pb.label=Gc[2],pb.ops.push(Cc);else{Gc[2]&&pb.ops.pop();pb.trys.pop();continue}}Cc=Ba.call(ta,pb)}catch(Bd){Cc=[6,Bd],Vb=0}finally{Rb=Gc=0}if(Cc[0]&5)throw Cc[1];return{value:Cc[0]?Cc[1]:void 0,done:!0}}var pb={label:0,sent:function(){if(Gc[0]&1)throw Gc[1];return Gc[1]},trys:[],ops:[]},Rb,Vb,Gc,Vc;return Vc={next:Va(0),
"throw":Va(1),"return":Va(2)},"function"===typeof Symbol&&(Vc[Symbol.iterator]=function(){return this}),Vc}function v(ta){if(Array.isArray(ta)){var Ba=Array(ta.length);for(ta=0;ta<Ba.length;ta++)Ba[ta]=""+ta;return Ba}if(Object.keys)return Object.keys(ta);Ba=[];for(var Va in ta)qa.call(ta,Va)&&Ba.push(Va);return Ba}function t(ta){switch(typeof ta){case "object":return JSON.parse(JSON.stringify(ta));case "undefined":return null;default:return ta}}function k(ta){for(var Ba=0,Va=ta.length,zb;Ba<Va;)if(zb=
ta.charCodeAt(Ba),48<=zb&&57>=zb)Ba++;else return!1;return!0}function g(ta){return-1===ta.indexOf("/")&&-1===ta.indexOf("~")?ta:ta.replace(/~/g,"~0").replace(/\//g,"~1")}function d(ta){return ta.replace(/~1/g,"/").replace(/~0/g,"~")}function f(ta){if(void 0===ta)return!0;if(ta)if(Array.isArray(ta))for(var Ba=0,Va=ta.length;Ba<Va;Ba++){if(f(ta[Ba]))return!0}else if("object"===typeof ta){Va=v(ta);var zb=Va.length;for(Ba=0;Ba<zb;Ba++)if(f(ta[Va[Ba]]))return!0}return!1}function a(ta,Ba){ta=[ta];for(var Va in Ba){var zb=
"object"===typeof Ba[Va]?JSON.stringify(Ba[Va],null,2):Ba[Va];"undefined"!==typeof zb&&ta.push(Va+": "+zb)}return ta.join("\n")}function e(ta,Ba){if(""==Ba)return ta;Ba={op:"_get",path:Ba};n(ta,Ba);return Ba.value}function n(ta,Ba,Va,zb,pb,Rb){void 0===Va&&(Va=!1);void 0===zb&&(zb=!0);void 0===pb&&(pb=!0);void 0===Rb&&(Rb=0);Va&&("function"==typeof Va?Va(Ba,0,ta,Ba.path):z(Ba,0));if(""===Ba.path){pb={newDocument:ta};if("add"===Ba.op)return pb.newDocument=Ba.value,pb;if("replace"===Ba.op)return pb.newDocument=
Ba.value,pb.removed=ta,pb;if("move"===Ba.op||"copy"===Ba.op)return pb.newDocument=e(ta,Ba.from),"move"===Ba.op&&(pb.removed=ta),pb;if("test"===Ba.op){pb.test=M(ta,Ba.value);if(!1===pb.test)throw new T("Test operation failed","TEST_OPERATION_FAILED",Rb,Ba,ta);pb.newDocument=ta;return pb}if("remove"===Ba.op)return pb.removed=ta,pb.newDocument=null,pb;if("_get"===Ba.op)return Ba.value=ta,pb;if(Va)throw new T("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",
Rb,Ba,ta);return pb}zb||(ta=t(ta));zb=(Ba.path||"").split("/");var Vb=ta,Gc=1,Vc=zb.length,Cc=void 0,Bd;for(Bd="function"==typeof Va?Va:z;;){var dd=zb[Gc];if(pb&&"__proto__"==dd)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");Va&&void 0===Cc&&(void 0===Vb[dd]?Cc=zb.slice(0,Gc).join("/"):Gc==Vc-1&&(Cc=Ba.path),void 0!==
Cc&&Bd(Ba,0,ta,Cc));Gc++;if(Array.isArray(Vb)){if("-"===dd)dd=Vb.length;else{if(Va&&!k(dd))throw new T("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",Rb,Ba,ta);k(dd)&&(dd=~~dd)}if(Gc>=Vc){if(Va&&"add"===Ba.op&&dd>Vb.length)throw new T("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",Rb,Ba,ta);pb=Z[Ba.op].call(Ba,Vb,dd,ta);
if(!1===pb.test)throw new T("Test operation failed","TEST_OPERATION_FAILED",Rb,Ba,ta);return pb}}else if(dd&&-1!=dd.indexOf("~")&&(dd=d(dd)),Gc>=Vc){pb=X[Ba.op].call(Ba,Vb,dd,ta);if(!1===pb.test)throw new T("Test operation failed","TEST_OPERATION_FAILED",Rb,Ba,ta);return pb}Vb=Vb[dd]}}function x(ta,Ba,Va,zb,pb){void 0===zb&&(zb=!0);void 0===pb&&(pb=!0);if(Va&&!Array.isArray(Ba))throw new T("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");zb||(ta=t(ta));zb=Array(Ba.length);for(var Rb=0,Vb=
Ba.length;Rb<Vb;Rb++)zb[Rb]=n(ta,Ba[Rb],Va,!0,pb,Rb),ta=zb[Rb].newDocument;zb.newDocument=ta;return zb}function z(ta,Ba,Va,zb){if("object"!==typeof ta||null===ta||Array.isArray(ta))throw new T("Operation is not an object","OPERATION_NOT_AN_OBJECT",Ba,ta,Va);if(X[ta.op]){if("string"!==typeof ta.path)throw new T("Operation `path` property is not a string","OPERATION_PATH_INVALID",Ba,ta,Va);if(0!==ta.path.indexOf("/")&&0<ta.path.length)throw new T('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",
Ba,ta,Va);if("move"!==ta.op&&"copy"!==ta.op||"string"===typeof ta.from)if("add"!==ta.op&&"replace"!==ta.op&&"test"!==ta.op||void 0!==ta.value){if(("add"===ta.op||"replace"===ta.op||"test"===ta.op)&&f(ta.value))throw new T("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",Ba,ta,Va);if(Va)if("add"==ta.op){var pb=ta.path.split("/").length;zb=zb.split("/").length;if(pb!==zb+1&&pb!==zb)throw new T("Cannot perform an `add` operation at the desired path",
"OPERATION_PATH_CANNOT_ADD",Ba,ta,Va);}else if("replace"===ta.op||"remove"===ta.op||"_get"===ta.op){if(ta.path!==zb)throw new T("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",Ba,ta,Va);}else if(("move"===ta.op||"copy"===ta.op)&&(pb=B([{op:"_get",path:ta.from,value:void 0}],Va))&&"OPERATION_PATH_UNRESOLVABLE"===pb.name)throw new T("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",Ba,ta,Va);}else throw new T("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)",
"OPERATION_VALUE_REQUIRED",Ba,ta,Va);else throw new T("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",Ba,ta,Va);}else throw new T("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",Ba,ta,Va);}function B(ta,Ba,Va){try{if(!Array.isArray(ta))throw new T("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(Ba)x(t(Ba),t(ta),Va||!0);else{Va=Va||z;for(var zb=0;zb<ta.length;zb++)Va(ta[zb],
zb,Ba,void 0)}}catch(pb){if(pb instanceof T)return pb;throw pb;}}function M(ta,Ba){if(ta===Ba)return!0;if(ta&&Ba&&"object"==typeof ta&&"object"==typeof Ba){var Va=Array.isArray(ta),zb=Array.isArray(Ba);if(Va&&zb){var pb=ta.length;if(pb!=Ba.length)return!1;for(Va=pb;0!==Va--;)if(!M(ta[Va],Ba[Va]))return!1;return!0}if(Va!=zb)return!1;zb=Object.keys(ta);pb=zb.length;if(pb!==Object.keys(Ba).length)return!1;for(Va=pb;0!==Va--;)if(!Ba.hasOwnProperty(zb[Va]))return!1;for(Va=pb;0!==Va--;)if(pb=zb[Va],!M(ta[pb],
Ba[pb]))return!1;return!0}return ta!==ta&&Ba!==Ba}function K(ta,Ba){void 0===Ba&&(Ba=!1);var Va=na.get(ta.object);D(Va.value,ta.object,ta.patches,"",Ba);ta.patches.length&&x(Va.value,ta.patches);Ba=ta.patches;0<Ba.length&&(ta.patches=[],ta.callback&&ta.callback(Ba));return Ba}function D(ta,Ba,Va,zb,pb){if(Ba!==ta){"function"===typeof Ba.toJSON&&(Ba=Ba.toJSON());for(var Rb=v(Ba),Vb=v(ta),Gc=!1,Vc=Vb.length-1;0<=Vc;Vc--){var Cc=Vb[Vc],Bd=ta[Cc];if(!qa.call(Ba,Cc)||void 0===Ba[Cc]&&void 0!==Bd&&!1===
Array.isArray(Ba))Array.isArray(ta)===Array.isArray(Ba)?(pb&&Va.push({op:"test",path:zb+"/"+g(Cc),value:t(Bd)}),Va.push({op:"remove",path:zb+"/"+g(Cc)}),Gc=!0):(pb&&Va.push({op:"test",path:zb,value:ta}),Va.push({op:"replace",path:zb,value:Ba}));else{var dd=Ba[Cc];"object"==typeof Bd&&null!=Bd&&"object"==typeof dd&&null!=dd?D(Bd,dd,Va,zb+"/"+g(Cc),pb):Bd!==dd&&(pb&&Va.push({op:"test",path:zb+"/"+g(Cc),value:t(Bd)}),Va.push({op:"replace",path:zb+"/"+g(Cc),value:t(dd)}))}}if(Gc||Rb.length!=Vb.length)for(Vc=
0;Vc<Rb.length;Vc++)Cc=Rb[Vc],qa.call(ta,Cc)||void 0===Ba[Cc]||Va.push({op:"add",path:zb+"/"+g(Cc),value:t(Ba[Cc])})}}function y(ta){var Ba=this;Ba instanceof y||(Ba=new y);Ba.tail=null;Ba.head=null;Ba.length=0;if(ta&&"function"===typeof ta.forEach)ta.forEach(function(pb){Ba.push(pb)});else if(0<arguments.length)for(var Va=0,zb=arguments.length;Va<zb;Va++)Ba.push(arguments[Va]);return Ba}function E(ta,Ba,Va,zb){if(!(this instanceof E))return new E(ta,Ba,Va,zb);this.list=zb;this.value=ta;Ba?(Ba.next=
this,this.prev=Ba):this.prev=null;Va?(Va.prev=this,this.next=Va):this.next=null}function H(ta){const [Ba,Va]=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(ta).slice(1,3);return{library:Ba,version:Va}}function Q(ta,Ba,Va){ta.fields=Ba||[];ta.fname=Va;return ta}function S(ta){return 1===ta.length?Ge(ta[0]):rf(ta)}function ea(ta){function Ba(){Va.push(Vb+ta.substring(Gc,Vc));Vb="";Gc=Vc+1}const Va=[],zb=ta.length;let pb=null,Rb=0,Vb="",Gc,Vc,Cc;ta+="";for(Gc=Vc=0;Vc<zb;++Vc)if(Cc=ta[Vc],"\\"===Cc)Vb+=
ta.substring(Gc,Vc),Vb+=ta.substring(++Vc,++Vc),Gc=Vc;else if(Cc===pb)Ba(),pb=null,Rb=-1;else if(!pb)if(Gc===Rb&&'"'===Cc)Gc=Vc+1,pb=Cc;else if(Gc===Rb&&"'"===Cc)Gc=Vc+1,pb=Cc;else if("."===Cc&&!Rb)Vc>Gc?Ba():Gc=Vc+1;else if("["===Cc)Vc>Gc&&Ba(),Rb=Gc=Vc+1;else if("]"===Cc){if(!Rb)throw Error("Access path missing open bracket: "+ta);0<Rb&&Ba();Rb=0;Gc=Vc+1}if(Rb)throw Error("Access path missing closing bracket: "+ta);if(pb)throw Error("Access path missing closing quote: "+ta);Vc>Gc&&(Vc++,Ba());return Va}
function ba(ta,Ba){var Va={},zb;for(zb in ta)Object.prototype.hasOwnProperty.call(ta,zb)&&0>Ba.indexOf(zb)&&(Va[zb]=ta[zb]);if(null!=ta&&"function"===typeof Object.getOwnPropertySymbols){var pb=0;for(zb=Object.getOwnPropertySymbols(ta);pb<zb.length;pb++)0>Ba.indexOf(zb[pb])&&Object.prototype.propertyIsEnumerable.call(ta,zb[pb])&&(Va[zb[pb]]=ta[zb[pb]])}return Va}function fa(ta,Ba,Va){if(zc(ta))return`[${ta.map(pb=>Ba("string"===typeof pb?pb:JSON.stringify(pb,ia(Va)))).join(", ")}]`;if(ta===Object(ta)){let pb=
"";const {title:Rb,image:Vb}=ta;ta=ba(ta,["title","image"]);Rb&&(pb+=`<h2>${Ba(Rb)}</h2>`);Vb&&(pb+=`<img src="${Ba(Vb)}">`);var zb=Object.keys(ta);if(0<zb.length){pb+="\x3ctable\x3e";for(const Gc of zb)zb=ta[Gc],void 0!==zb&&(zb===Object(zb)&&(zb=JSON.stringify(zb,ia(Va))),pb+=`<tr><td class="key">${Ba(Gc)}:</td><td class="value">${Ba(zb)}</td></tr>`);pb+="\x3c/table\x3e"}return pb||"{}"}return Ba(ta)}function ia(ta){const Ba=[];return function(Va,zb){if("object"!==typeof zb||null===zb)return zb;
Va=Ba.indexOf(this)+1;Ba.length=Va;if(Ba.length>ta)return"[Object]";if(0<=Ba.indexOf(zb))return"[Circular]";Ba.push(zb);return zb}}function ca(ta,Ba,Va){function zb(Vc){Vc.source===Rb&&(Gc=0,ta.removeEventListener("message",zb,!1))}function pb(){0>=Gc||(Rb.postMessage(Va,Vb),setTimeout(pb,250),--Gc)}var Rb=ta.open(Ba),Vb=(new URL(Ba)).origin,Gc=40;ta.addEventListener("message",zb,!1);setTimeout(pb,250)}function N(ta){for(var Ba=[],Va=1;Va<arguments.length;Va++)Ba[Va-1]=arguments[Va];for(Va=0;Va<Ba.length;Va++)for(var zb=
ta,pb=Ba[Va],Rb=0,Vb=Object.keys(pb);Rb<Vb.length;Rb++){var Gc=Vb[Rb];l.writeConfig(zb,Gc,pb[Gc],!0)}return ta}function C(ta,Ba,Va,zb){Ba="\x3chtml\x3e\x3chead\x3e"+Ba+'\x3c/head\x3e\x3cbody\x3e\x3cpre\x3e\x3ccode class\x3d"json"\x3e';Va="\x3c/code\x3e\x3c/pre\x3e"+Va+"\x3c/body\x3e\x3c/html\x3e";var pb=window.open("");pb.document.write(Ba+ta+Va);pb.document.title=mf[zb]+" JSON Source"}function W(ta,Ba){var Va;return ta.$schema?(ta=H(ta.$schema),Ba&&Ba!==ta.library&&console.warn("The given visualization spec is written in "+
mf[ta.library]+", but mode argument sets "+(null!==(Va=mf[Ba])&&void 0!==Va?Va:Ba)+"."),Ba=ta.library,ce.satisfies(gf[Ba],"^"+ta.version.slice(1))||console.warn("The input spec uses "+mf[Ba]+" "+ta.version+", but the current version of "+mf[Ba]+" is v"+gf[Ba]+"."),Ba):"mark"in ta||"encoding"in ta||"layer"in ta||"hconcat"in ta||"vconcat"in ta||"facet"in ta||"repeat"in ta?"vega-lite":"marks"in ta||"signals"in ta||"scales"in ta||"axes"in ta?"vega":null!==Ba&&void 0!==Ba?Ba:"vega"}function ha(ta){return ta&&
"load"in ta?ta:xe.loader(ta)}function Y(ta){var Ba;return null!==(Ba=ta.usermeta&&ta.usermeta.embedOptions)&&void 0!==Ba?Ba:{}}function wa(ta,Ba,Va){var zb,pb,Rb;void 0===Va&&(Va={});return L(this,void 0,void 0,function(){var Vb,Gc,Vc,Cc,Bd,dd,rd,$c;return w(this,function(Ad){switch(Ad.label){case 0:if(!l.isString(Ba))return[3,2];Gc=ha(Va.loader);Cc=(Vc=JSON).parse;return[4,Gc.load(Ba)];case 1:return Vb=Cc.apply(Vc,[Ad.sent()]),[3,3];case 2:Vb=Ba,Ad.label=3;case 3:Bd=Y(Vb).loader;if(!Gc||Bd)Gc=ha(null!==
(zb=Va.loader)&&void 0!==zb?zb:Bd);return[4,xa(Y(Vb),Gc)];case 4:return dd=Ad.sent(),[4,xa(Va,Gc)];case 5:return rd=Ad.sent(),$c=Ua(Ua({},N(rd,dd)),{config:l.mergeConfig(null!==(pb=rd.config)&&void 0!==pb?pb:{},null!==(Rb=dd.config)&&void 0!==Rb?Rb:{})}),[4,Za(ta,Vb,$c,Gc)];case 6:return[2,Ad.sent()]}})})}function xa(ta,Ba){var Va;return L(this,void 0,void 0,function(){var zb,pb,Rb,Vb,Gc,Vc,Cc,Bd;return w(this,function(dd){switch(dd.label){case 0:if(!l.isString(ta.config))return[3,2];Vb=(Rb=JSON).parse;
return[4,Ba.load(ta.config)];case 1:return pb=Vb.apply(Rb,[dd.sent()]),[3,3];case 2:pb=null!==(Va=ta.config)&&void 0!==Va?Va:{},dd.label=3;case 3:zb=pb;if(!l.isString(ta.patch))return[3,5];Bd=(Cc=JSON).parse;return[4,Ba.load(ta.patch)];case 4:return Vc=Bd.apply(Cc,[dd.sent()]),[3,6];case 5:Vc=ta.patch,dd.label=6;case 6:return Gc=Vc,[2,Ua(Ua(Ua({},ta),Gc?{patch:Gc}:{}),zb?{config:zb}:{})]}})})}function Ha(ta){var Ba;ta=ta.getRootNode?ta.getRootNode():document;return ta instanceof ShadowRoot?{root:ta,
rootContainer:ta}:{root:document,rootContainer:null!==(Ba=document.head)&&void 0!==Ba?Ba:document.body}}function Za(ta,Ba,Va,zb){var pb,Rb,Vb,Gc,Vc,Cc;void 0===Va&&(Va={});return L(this,void 0,void 0,function(){function Bd(){ud&&document.removeEventListener("click",ud);Mb.finalize()}var dd,rd,$c,Ad,Sd,Ye,Ne,Yc,ye,Xe,Ke,tf,df,we,Pe,va,Ma,rb,Pb,Mb,ac,gc,Uc,Mc,fd,ud,Od,Yd,vd,ze,Kd,pe,ge,re,pf,$d,Qe,Se;return w(this,function(Uf){switch(Uf.label){case 0:dd=Va.theme?l.mergeConfig(Hd[Va.theme],null!==(pb=
Va.config)&&void 0!==pb?pb:{}):Va.config;rd=l.isBoolean(Va.actions)?Va.actions:N({},sf,null!==(Rb=Va.actions)&&void 0!==Rb?Rb:{});$c=Ua(Ua({},ff),Va.i18n);Ad=null!==(Vb=Va.renderer)&&void 0!==Vb?Vb:"canvas";Sd=null!==(Gc=Va.logLevel)&&void 0!==Gc?Gc:xe.Warn;Ye=null!==(Vc=Va.downloadFileName)&&void 0!==Vc?Vc:"visualization";Ne="string"===typeof ta?document.querySelector(ta):ta;if(!Ne)throw Error(ta+" does not exist");!1!==Va.defaultStyle&&(Yc=Ha(Ne),ye=Yc.root,Xe=Yc.rootContainer,ye.getElementById("vega-embed-style")||
(Ke=document.createElement("style"),Ke.id="vega-embed-style",Ke.innerText=void 0===Va.defaultStyle||!0===Va.defaultStyle?'.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box; }\n  .vega-embed.has-actions {\n    padding-right: 38px; }\n  .vega-embed details:not([open]) \x3e :not(summary) {\n    display: none !important; }\n  .vega-embed summary {\n    list-style: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6px;\n    z-index: 1000;\n    background: white;\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n    color: #1b1e23;\n    border: 1px solid #aaa;\n    border-radius: 999px;\n    opacity: 0.2;\n    transition: opacity 0.4s ease-in;\n    outline: none;\n    cursor: pointer;\n    line-height: 0px; }\n    .vega-embed summary::-webkit-details-marker {\n      display: none; }\n    .vega-embed summary:active {\n      box-shadow: #aaa 0px 0px 0px 1px inset; }\n    .vega-embed summary svg {\n      width: 14px;\n      height: 14px; }\n  .vega-embed details[open] summary {\n    opacity: 0.7; }\n  .vega-embed:hover summary,\n  .vega-embed:focus summary {\n    opacity: 1 !important;\n    transition: opacity 0.2s ease; }\n  .vega-embed .vega-actions {\n    position: absolute;\n    z-index: 1001;\n    top: 35px;\n    right: -9px;\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 8px;\n    padding-top: 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n    border: 1px solid #d9d9d9;\n    background: white;\n    animation-duration: 0.15s;\n    animation-name: scale-in;\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n    text-align: left; }\n    .vega-embed .vega-actions a {\n      padding: 8px 16px;\n      font-family: sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      color: #434a56;\n      text-decoration: none; }\n      .vega-embed .vega-actions a:hover {\n        background-color: #f7f7f9;\n        color: black; }\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n      content: "";\n      display: inline-block;\n      position: absolute; }\n    .vega-embed .vega-actions::before {\n      left: auto;\n      right: 14px;\n      top: -16px;\n      border: 8px solid #0000;\n      border-bottom-color: #d9d9d9; }\n    .vega-embed .vega-actions::after {\n      left: auto;\n      right: 15px;\n      top: -14px;\n      border: 7px solid #0000;\n      border-bottom-color: #fff; }\n  .vega-embed .chart-wrapper {\n    width: 100%;\n    height: 100%; }\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px; }\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6); }\n  to {\n    opacity: 1;\n    transform: scale(1); } }\n'.toString():
Va.defaultStyle,Xe.appendChild(Ke)));tf=W(Ba,Va.mode);df=Zd[tf](Ba,dd);"vega-lite"===tf&&df.$schema&&(we=H(df.$schema),ce.satisfies(gf.vega,"^"+we.version.slice(1))||console.warn("The compiled spec uses Vega "+we.version+", but current version is v"+gf.vega+"."));Ne.classList.add("vega-embed");rd&&Ne.classList.add("has-actions");Ne.innerHTML="";Pe=Ne;rd&&(va=document.createElement("div"),va.classList.add("chart-wrapper"),Ne.appendChild(va),Pe=va);(Ma=Va.patch)&&(df=Ma instanceof Function?Ma(df):x(df,
Ma,!0,!1).newDocument);Va.formatLocale&&xe.formatLocale(Va.formatLocale);Va.timeFormatLocale&&xe.timeFormatLocale(Va.timeFormatLocale);rb=Va.ast;Pb=xe.parse(df,"vega-lite"===tf?{}:dd,{ast:rb});Mb=new xe.View(Pb,Ua({loader:zb,logLevel:Sd,renderer:Ad},rb?{expr:xe.expressionInterpreter}:{}));!1!==Va.tooltip&&(ac=void 0,ac="function"===typeof Va.tooltip?Va.tooltip:(new oe(!0===Va.tooltip?{}:Va.tooltip)).call,Mb.tooltip(ac));gc=Va.hover;void 0===gc&&(gc="vega"===tf);gc&&(Uc="boolean"===typeof gc?{}:gc,
Mc=Uc.hoverSet,fd=Uc.updateSet,Mb.hover(Mc,fd));Va&&(null!=Va.width&&Mb.width(Va.width),null!=Va.height&&Mb.height(Va.height),null!=Va.padding&&Mb.padding(Va.padding));return[4,Mb.initialize(Pe,Va.bind).runAsync()];case 1:Uf.sent();if(!1!==rd){Od=Ne;!1!==Va.defaultStyle&&(Yd=document.createElement("details"),Yd.title=$c.CLICK_TO_VIEW_ACTIONS,Ne.append(Yd),Od=Yd,vd=document.createElement("summary"),vd.innerHTML='\n\x3csvg viewBox\x3d"0 0 16 16" fill\x3d"currentColor" stroke\x3d"none" stroke-width\x3d"1" stroke-linecap\x3d"round" stroke-linejoin\x3d"round"\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"2"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"8"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"14"\x3e\x3c/circle\x3e\n\x3c/svg\x3e',
Yd.append(vd),ud=function(ef){Yd.contains(ef.target)||Yd.removeAttribute("open")},document.addEventListener("click",ud));ze=document.createElement("div");Od.append(ze);ze.classList.add("vega-actions");if(!0===rd||!1!==rd["export"])for(Kd=function(ef){if(!0===rd||!0===rd["export"]||rd["export"][ef]){var Ff=$c[ef.toUpperCase()+"_ACTION"],sa=document.createElement("a");sa.text=Ff;sa.href="#";sa.target="_blank";sa.download=Ye+"."+ef;sa.addEventListener("mousedown",function(ua){return L(this,void 0,void 0,
function(){var Ka;return w(this,function(Oa){switch(Oa.label){case 0:return ua.preventDefault(),[4,Mb.toImageURL(ef,Va.scaleFactor)];case 1:return this.href=Ka=Oa.sent(),[2]}})})});ze.append(sa)}},pe=0,ge=["svg","png"];pe<ge.length;pe++)re=ge[pe],Kd(re);if(!0===rd||!1!==rd.source)pf=document.createElement("a"),pf.text=$c.SOURCE_ACTION,pf.href="#",pf.addEventListener("click",function(ef){var Ff,sa;C(Wa(Ba),null!==(Ff=Va.sourceHeader)&&void 0!==Ff?Ff:"",null!==(sa=Va.sourceFooter)&&void 0!==sa?sa:"",
tf);ef.preventDefault()}),ze.append(pf);"vega-lite"!==tf||!0!==rd&&!1===rd.compiled||($d=document.createElement("a"),$d.text=$c.COMPILED_ACTION,$d.href="#",$d.addEventListener("click",function(ef){var Ff,sa;C(Wa(df),null!==(Ff=Va.sourceHeader)&&void 0!==Ff?Ff:"",null!==(sa=Va.sourceFooter)&&void 0!==sa?sa:"","vega");ef.preventDefault()}),ze.append($d));if(!0===rd||!1!==rd.editor)Qe=null!==(Cc=Va.editorUrl)&&void 0!==Cc?Cc:"https://vega.github.io/editor/",Se=document.createElement("a"),Se.text=$c.EDITOR_ACTION,
Se.href="#",Se.addEventListener("click",function(ef){ca(window,Qe,{config:dd,mode:tf,renderer:Ad,spec:Wa(Ba)});ef.preventDefault()}),ze.append(Se)}return[2,{view:Mb,spec:Ba,vgSpec:df,finalize:Bd}]}})})}function gb(ta,Ba){var Va;void 0===Ba&&(Ba={});return L(this,void 0,void 0,function(){var zb,pb,Rb,Vb;return w(this,function(Gc){switch(Gc.label){case 0:return zb=document.createElement("div"),zb.classList.add("vega-embed-wrapper"),pb=document.createElement("div"),zb.appendChild(pb),Rb=!0===Ba.actions||
!1===Ba.actions?Ba.actions:Ua({"export":!0,source:!1,compiled:!0,editor:!0},null!==(Va=Ba.actions)&&void 0!==Va?Va:{}),[4,wa(pb,ta,Ua({actions:Rb},null!==Ba&&void 0!==Ba?Ba:{}))];case 1:return Vb=Gc.sent(),zb.value=Vb.view,[2,zb]}})})}var ra=G(l),Pa=G(u),Ua=function(){Ua=Object.assign||function(ta){for(var Ba,Va=1,zb=arguments.length;Va<zb;Va++){Ba=arguments[Va];for(var pb in Ba)Object.prototype.hasOwnProperty.call(Ba,pb)&&(ta[pb]=Ba[pb])}return ta};return Ua.apply(this,arguments)},za=function(){var ta=
function(Ba,Va){ta=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(zb,pb){zb.__proto__=pb}||function(zb,pb){for(var Rb in pb)pb.hasOwnProperty(Rb)&&(zb[Rb]=pb[Rb])};return ta(Ba,Va)};return function(Ba,Va){function zb(){this.constructor=Ba}ta(Ba,Va);Ba.prototype=null===Va?Object.create(Va):(zb.prototype=Va.prototype,new zb)}}(),qa=Object.prototype.hasOwnProperty,R=function(ta){function Ba(Va,zb,pb,Rb,Vb){var Gc=this.constructor,Vc=ta.call(this,a(Va,{name:zb,index:pb,operation:Rb,tree:Vb}))||
this;Vc.name=zb;Vc.index=pb;Vc.operation=Rb;Vc.tree=Vb;Object.setPrototypeOf(Vc,Gc.prototype);Vc.message=a(Va,{name:zb,index:pb,operation:Rb,tree:Vb});return Vc}za(Ba,ta);return Ba}(Error),T=R,X={add:function(ta,Ba,Va){ta[Ba]=this.value;return{newDocument:Va}},remove:function(ta,Ba,Va){var zb=ta[Ba];delete ta[Ba];return{newDocument:Va,removed:zb}},replace:function(ta,Ba,Va){var zb=ta[Ba];ta[Ba]=this.value;return{newDocument:Va,removed:zb}},move:function(ta,Ba,Va){(ta=e(Va,this.path))&&(ta=t(ta));
Ba=n(Va,{op:"remove",path:this.from}).removed;n(Va,{op:"add",path:this.path,value:Ba});return{newDocument:Va,removed:ta}},copy:function(ta,Ba,Va){ta=e(Va,this.from);n(Va,{op:"add",path:this.path,value:t(ta)});return{newDocument:Va}},test:function(ta,Ba,Va){return{newDocument:Va,test:M(ta[Ba],this.value)}},_get:function(ta,Ba,Va){this.value=ta[Ba];return{newDocument:Va}}},Z={add:function(ta,Ba,Va){k(Ba)?ta.splice(Ba,0,this.value):ta[Ba]=this.value;return{newDocument:Va,index:Ba}},remove:function(ta,
Ba,Va){ta=ta.splice(Ba,1);return{newDocument:Va,removed:ta[0]}},replace:function(ta,Ba,Va){var zb=ta[Ba];ta[Ba]=this.value;return{newDocument:Va,removed:zb}},move:X.move,copy:X.copy,test:X.test,_get:X._get},oa=Object.freeze({__proto__:null,JsonPatchError:T,deepClone:t,getValueByPointer:e,applyOperation:n,applyPatch:x,applyReducer:function(ta,Ba,Va){var zb=n(ta,Ba);if(!1===zb.test)throw new T("Test operation failed","TEST_OPERATION_FAILED",Va,Ba,ta);return zb.newDocument},validator:z,validate:B,_areEquals:M}),
na=new WeakMap,Aa=function(){return function(ta){this.observers=new Map;this.obj=ta}}(),ka=function(){return function(ta,Ba){this.callback=ta;this.observer=Ba}}(),Na=Object.freeze({__proto__:null,unobserve:function(ta,Ba){Ba.unobserve()},observe:function(ta,Ba){var Va=na.get(ta);if(Va){var zb=Va.observers.get(Ba);var pb=zb&&zb.observer}else Va=new Aa(ta),na.set(ta,Va);if(pb)return pb;pb={};Va.value=t(ta);if(Ba){pb.callback=Ba;pb.next=null;var Rb=function(){K(pb)},Vb=function(){clearTimeout(pb.next);
pb.next=setTimeout(Rb)};"undefined"!==typeof window&&(window.addEventListener("mouseup",Vb),window.addEventListener("keyup",Vb),window.addEventListener("mousedown",Vb),window.addEventListener("keydown",Vb),window.addEventListener("change",Vb))}pb.patches=[];pb.object=ta;pb.unobserve=function(){K(pb);clearTimeout(pb.next);Va.observers.delete(pb.callback);"undefined"!==typeof window&&(window.removeEventListener("mouseup",Vb),window.removeEventListener("keyup",Vb),window.removeEventListener("mousedown",
Vb),window.removeEventListener("keydown",Vb),window.removeEventListener("change",Vb))};Va.observers.set(Ba,new ka(Ba,pb));return pb},generate:K,compare:function(ta,Ba,Va){void 0===Va&&(Va=!1);var zb=[];D(ta,Ba,zb,"",Va);return zb}});Object.assign({},oa,Na,{JsonPatchError:R,deepClone:t,escapePathComponent:g,unescapePathComponent:d});var $a=/("(?:[^\\"]|\\.)*")|[:,]/g,Wa=function(ta,Ba){Ba=Ba||{};var Va=JSON.stringify([1],void 0,void 0===Ba.indent?2:Ba.indent).slice(2,-3);var zb=""===Va?Infinity:void 0===
Ba.maxLength?80:Ba.maxLength;var pb=Ba.replacer;return function Cc(Vb,Gc,Vc){Vb&&"function"===typeof Vb.toJSON&&(Vb=Vb.toJSON());var Bd=JSON.stringify(Vb,pb);if(void 0===Bd)return Bd;Vc=zb-Gc.length-Vc;if(Bd.length<=Vc){var dd=Bd.replace($a,function(ye,Xe){return Xe||ye+" "});if(dd.length<=Vc)return dd}null!=pb&&(Vb=JSON.parse(Bd),pb=void 0);if("object"===typeof Vb&&null!==Vb){var rd=Gc+Va;var $c=[];var Ad=0;if(Array.isArray(Vb)){var Sd="[";dd="]";for(Vc=Vb.length;Ad<Vc;Ad++)$c.push(Cc(Vb[Ad],rd,
Ad===Vc-1?0:1)||"null")}else{Sd="{";dd="}";var Ye=Object.keys(Vb);for(Vc=Ye.length;Ad<Vc;Ad++){var Ne=Ye[Ad];var Yc=JSON.stringify(Ne)+": ";Ne=Cc(Vb[Ne],rd,Yc.length+(Ad===Vc-1?0:1));void 0!==Ne&&$c.push(Yc+Ne)}}if(0<$c.length)return[Sd,Va+$c.join(",\n"+rd),dd].join("\n"+Gc)}return Bd}(ta,"",0)},Ca={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},Da="object"===typeof m&&m.env&&m.env.NODE_DEBUG&&/\bsemver\b/i.test(m.env.NODE_DEBUG)?
(...ta)=>console.error("SEMVER",...ta):()=>{},ma=function(ta){var Ba={exports:{}};return ta(Ba,Ba.exports),Ba.exports}(function(ta,Ba){const {MAX_SAFE_COMPONENT_LENGTH:Va}=Ca;Ba=ta.exports={};const zb=Ba.re=[],pb=Ba.src=[],Rb=Ba.t={};let Vb=0;ta=(Gc,Vc,Cc)=>{const Bd=Vb++;Da(Bd,Vc);Rb[Gc]=Bd;pb[Bd]=Vc;zb[Bd]=new RegExp(Vc,Cc?"g":void 0)};ta("NUMERICIDENTIFIER","0|[1-9]\\d*");ta("NUMERICIDENTIFIERLOOSE","[0-9]+");ta("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");ta("MAINVERSION",`(${pb[Rb.NUMERICIDENTIFIER]})\\.`+
`(${pb[Rb.NUMERICIDENTIFIER]})\\.`+`(${pb[Rb.NUMERICIDENTIFIER]})`);ta("MAINVERSIONLOOSE",`(${pb[Rb.NUMERICIDENTIFIERLOOSE]})\\.`+`(${pb[Rb.NUMERICIDENTIFIERLOOSE]})\\.`+`(${pb[Rb.NUMERICIDENTIFIERLOOSE]})`);ta("PRERELEASEIDENTIFIER",`(?:${pb[Rb.NUMERICIDENTIFIER]}|${pb[Rb.NONNUMERICIDENTIFIER]})`);ta("PRERELEASEIDENTIFIERLOOSE",`(?:${pb[Rb.NUMERICIDENTIFIERLOOSE]}|${pb[Rb.NONNUMERICIDENTIFIER]})`);ta("PRERELEASE",`(?:-(${pb[Rb.PRERELEASEIDENTIFIER]}(?:\\.${pb[Rb.PRERELEASEIDENTIFIER]})*))`);ta("PRERELEASELOOSE",
`(?:-?(${pb[Rb.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${pb[Rb.PRERELEASEIDENTIFIERLOOSE]})*))`);ta("BUILDIDENTIFIER","[0-9A-Za-z-]+");ta("BUILD",`(?:\\+(${pb[Rb.BUILDIDENTIFIER]}(?:\\.${pb[Rb.BUILDIDENTIFIER]})*))`);ta("FULLPLAIN",`v?${pb[Rb.MAINVERSION]}${pb[Rb.PRERELEASE]}?${pb[Rb.BUILD]}?`);ta("FULL",`^${pb[Rb.FULLPLAIN]}$`);ta("LOOSEPLAIN",`[v=\\s]*${pb[Rb.MAINVERSIONLOOSE]}${pb[Rb.PRERELEASELOOSE]}?${pb[Rb.BUILD]}?`);ta("LOOSE",`^${pb[Rb.LOOSEPLAIN]}$`);ta("GTLT","((?:\x3c|\x3e)?\x3d?)");ta("XRANGEIDENTIFIERLOOSE",
`${pb[Rb.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);ta("XRANGEIDENTIFIER",`${pb[Rb.NUMERICIDENTIFIER]}|x|X|\\*`);ta("XRANGEPLAIN",`[v=\\s]*(${pb[Rb.XRANGEIDENTIFIER]})`+`(?:\\.(${pb[Rb.XRANGEIDENTIFIER]})`+`(?:\\.(${pb[Rb.XRANGEIDENTIFIER]})`+`(?:${pb[Rb.PRERELEASE]})?${pb[Rb.BUILD]}?`+")?)?");ta("XRANGEPLAINLOOSE",`[v=\\s]*(${pb[Rb.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${pb[Rb.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${pb[Rb.XRANGEIDENTIFIERLOOSE]})`+`(?:${pb[Rb.PRERELEASELOOSE]})?${pb[Rb.BUILD]}?`+")?)?");ta("XRANGE",
`^${pb[Rb.GTLT]}\\s*${pb[Rb.XRANGEPLAIN]}$`);ta("XRANGELOOSE",`^${pb[Rb.GTLT]}\\s*${pb[Rb.XRANGEPLAINLOOSE]}$`);ta("COERCE",`${"(^|[^\\d])(\\d{1,"}${Va}})`+`(?:\\.(\\d{1,${Va}}))?`+`(?:\\.(\\d{1,${Va}}))?`+"(?:$|[^\\d])");ta("COERCERTL",pb[Rb.COERCE],!0);ta("LONETILDE","(?:~\x3e?)");ta("TILDETRIM",`(\\s*)${pb[Rb.LONETILDE]}\\s+`,!0);Ba.tildeTrimReplace="$1~";ta("TILDE",`^${pb[Rb.LONETILDE]}${pb[Rb.XRANGEPLAIN]}$`);ta("TILDELOOSE",`^${pb[Rb.LONETILDE]}${pb[Rb.XRANGEPLAINLOOSE]}$`);ta("LONECARET","(?:\\^)");
ta("CARETTRIM",`(\\s*)${pb[Rb.LONECARET]}\\s+`,!0);Ba.caretTrimReplace="$1^";ta("CARET",`^${pb[Rb.LONECARET]}${pb[Rb.XRANGEPLAIN]}$`);ta("CARETLOOSE",`^${pb[Rb.LONECARET]}${pb[Rb.XRANGEPLAINLOOSE]}$`);ta("COMPARATORLOOSE",`^${pb[Rb.GTLT]}\\s*(${pb[Rb.LOOSEPLAIN]})$|^$`);ta("COMPARATOR",`^${pb[Rb.GTLT]}\\s*(${pb[Rb.FULLPLAIN]})$|^$`);ta("COMPARATORTRIM",`(\\s*)${pb[Rb.GTLT]}\\s*(${pb[Rb.LOOSEPLAIN]}|${pb[Rb.XRANGEPLAIN]})`,!0);Ba.comparatorTrimReplace="$1$2$3";ta("HYPHENRANGE",`^\\s*(${pb[Rb.XRANGEPLAIN]})`+
"\\s+-\\s+"+`(${pb[Rb.XRANGEPLAIN]})`+"\\s*$");ta("HYPHENRANGELOOSE",`^\\s*(${pb[Rb.XRANGEPLAINLOOSE]})`+"\\s+-\\s+"+`(${pb[Rb.XRANGEPLAINLOOSE]})`+"\\s*$");ta("STAR","(\x3c|\x3e)?\x3d?\\s*\\*");ta("GTE0","^\\s*\x3e\x3d\\s*0.0.0\\s*$");ta("GTE0PRE","^\\s*\x3e\x3d\\s*0.0.0-0\\s*$")});const Ea=["includePrerelease","loose","rtl"];var Qa=ta=>ta?"object"!==typeof ta?{loose:!0}:Ea.filter(Ba=>ta[Ba]).reduce((Ba,Va)=>{Ba[Va]=!0;return Ba},{}):{};const eb=/^[0-9]+$/,yb=(ta,Ba)=>{const Va=eb.test(ta),zb=eb.test(Ba);
Va&&zb&&(ta=+ta,Ba=+Ba);return ta===Ba?0:Va&&!zb?-1:zb&&!Va?1:ta<Ba?-1:1};var Qb={compareIdentifiers:yb,rcompareIdentifiers:(ta,Ba)=>yb(Ba,ta)};const {MAX_LENGTH:fc,MAX_SAFE_INTEGER:ad}=Ca,{re:ic,t:xc}=ma,{compareIdentifiers:ib}=Qb;class $b{constructor(ta,Ba){Ba=Qa(Ba);if(ta instanceof $b){if(ta.loose===!!Ba.loose&&ta.includePrerelease===!!Ba.includePrerelease)return ta;ta=ta.version}else if("string"!==typeof ta)throw new TypeError(`Invalid Version: ${ta}`);if(ta.length>fc)throw new TypeError(`version is longer than ${fc} characters`);
Da("SemVer",ta,Ba);this.options=Ba;this.loose=!!Ba.loose;this.includePrerelease=!!Ba.includePrerelease;Ba=ta.trim().match(Ba.loose?ic[xc.LOOSE]:ic[xc.FULL]);if(!Ba)throw new TypeError(`Invalid Version: ${ta}`);this.raw=ta;this.major=+Ba[1];this.minor=+Ba[2];this.patch=+Ba[3];if(this.major>ad||0>this.major)throw new TypeError("Invalid major version");if(this.minor>ad||0>this.minor)throw new TypeError("Invalid minor version");if(this.patch>ad||0>this.patch)throw new TypeError("Invalid patch version");
this.prerelease=Ba[4]?Ba[4].split(".").map(Va=>{if(/^[0-9]+$/.test(Va)){const zb=+Va;if(0<=zb&&zb<ad)return zb}return Va}):[];this.build=Ba[5]?Ba[5].split("."):[];this.format()}format(){this.version=`${this.major}.${this.minor}.${this.patch}`;this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`);return this.version}toString(){return this.version}compare(ta){Da("SemVer.compare",this.version,this.options,ta);if(!(ta instanceof $b)){if("string"===typeof ta&&ta===this.version)return 0;
ta=new $b(ta,this.options)}return ta.version===this.version?0:this.compareMain(ta)||this.comparePre(ta)}compareMain(ta){ta instanceof $b||(ta=new $b(ta,this.options));return ib(this.major,ta.major)||ib(this.minor,ta.minor)||ib(this.patch,ta.patch)}comparePre(ta){ta instanceof $b||(ta=new $b(ta,this.options));if(this.prerelease.length&&!ta.prerelease.length)return-1;if(!this.prerelease.length&&ta.prerelease.length)return 1;if(!this.prerelease.length&&!ta.prerelease.length)return 0;let Ba=0;do{const Va=
this.prerelease[Ba],zb=ta.prerelease[Ba];Da("prerelease compare",Ba,Va,zb);if(void 0===Va&&void 0===zb)return 0;if(void 0===zb)return 1;if(void 0===Va)return-1;if(Va!==zb)return ib(Va,zb)}while(++Ba)}compareBuild(ta){ta instanceof $b||(ta=new $b(ta,this.options));let Ba=0;do{const Va=this.build[Ba],zb=ta.build[Ba];Da("prerelease compare",Ba,Va,zb);if(void 0===Va&&void 0===zb)return 0;if(void 0===zb)return 1;if(void 0===Va)return-1;if(Va!==zb)return ib(Va,zb)}while(++Ba)}inc(ta,Ba){switch(ta){case "premajor":this.minor=
this.patch=this.prerelease.length=0;this.major++;this.inc("pre",Ba);break;case "preminor":this.patch=this.prerelease.length=0;this.minor++;this.inc("pre",Ba);break;case "prepatch":this.prerelease.length=0;this.inc("patch",Ba);this.inc("pre",Ba);break;case "prerelease":0===this.prerelease.length&&this.inc("patch",Ba);this.inc("pre",Ba);break;case "major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++;this.patch=this.minor=0;this.prerelease=[];break;case "minor":0===this.patch&&
0!==this.prerelease.length||this.minor++;this.patch=0;this.prerelease=[];break;case "patch":0===this.prerelease.length&&this.patch++;this.prerelease=[];break;case "pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(ta=this.prerelease.length;0<=--ta;)"number"===typeof this.prerelease[ta]&&(this.prerelease[ta]++,ta=-2);-1===ta&&this.prerelease.push(0)}Ba&&(this.prerelease[0]===Ba?isNaN(this.prerelease[1])&&(this.prerelease=[Ba,0]):this.prerelease=[Ba,0]);break;default:throw Error(`invalid increment argument: ${ta}`);
}this.format();this.raw=this.version;return this}}var bc=$b;const {MAX_LENGTH:kc}=Ca,{re:Ec,t:jc}=ma;var Oc=(ta,Ba)=>{Ba=Qa(Ba);if(ta instanceof bc)return ta;if("string"!==typeof ta||ta.length>kc||!(Ba.loose?Ec[jc.LOOSE]:Ec[jc.FULL]).test(ta))return null;try{return new bc(ta,Ba)}catch(Va){return null}},Hc=(ta,Ba,Va)=>(new bc(ta,Va)).compare(new bc(Ba,Va)),Bc=(ta,Ba,Va)=>{ta=new bc(ta,Va);Ba=new bc(Ba,Va);return ta.compare(Ba)||ta.compareBuild(Ba)},td=(ta,Ba,Va)=>0<Hc(ta,Ba,Va),Qd=(ta,Ba,Va)=>0>Hc(ta,
Ba,Va),jd=(ta,Ba,Va)=>0<=Hc(ta,Ba,Va),hd=(ta,Ba,Va)=>0>=Hc(ta,Ba,Va),Fd=(ta,Ba,Va,zb)=>{switch(Ba){case "\x3d\x3d\x3d":return"object"===typeof ta&&(ta=ta.version),"object"===typeof Va&&(Va=Va.version),ta===Va;case "!\x3d\x3d":return"object"===typeof ta&&(ta=ta.version),"object"===typeof Va&&(Va=Va.version),ta!==Va;case "":case "\x3d":case "\x3d\x3d":return 0===Hc(ta,Va,zb);case "!\x3d":return 0!==Hc(ta,Va,zb);case "\x3e":return 0<Hc(ta,Va,zb);case "\x3e\x3d":return 0<=Hc(ta,Va,zb);case "\x3c":return 0>
Hc(ta,Va,zb);case "\x3c\x3d":return 0>=Hc(ta,Va,zb);default:throw new TypeError(`Invalid operator: ${Ba}`);}};const {re:Ib,t:Zb}=ma;var xb=function(ta){ta.prototype[Symbol.iterator]=function*(){for(let Ba=this.head;Ba;Ba=Ba.next)yield Ba.value}};y.Node=E;y.create=y;y.prototype.removeNode=function(ta){if(ta.list!==this)throw Error("removing node which does not belong to this list");var Ba=ta.next,Va=ta.prev;Ba&&(Ba.prev=Va);Va&&(Va.next=Ba);ta===this.head&&(this.head=Ba);ta===this.tail&&(this.tail=
Va);ta.list.length--;ta.next=null;ta.prev=null;ta.list=null;return Ba};y.prototype.unshiftNode=function(ta){if(ta!==this.head){ta.list&&ta.list.removeNode(ta);var Ba=this.head;ta.list=this;if(ta.next=Ba)Ba.prev=ta;this.head=ta;this.tail||(this.tail=ta);this.length++}};y.prototype.pushNode=function(ta){if(ta!==this.tail){ta.list&&ta.list.removeNode(ta);var Ba=this.tail;ta.list=this;if(ta.prev=Ba)Ba.next=ta;this.tail=ta;this.head||(this.head=ta);this.length++}};y.prototype.push=function(){for(var ta=
0,Ba=arguments.length;ta<Ba;ta++)this.tail=new E(arguments[ta],this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length};y.prototype.unshift=function(){for(var ta=0,Ba=arguments.length;ta<Ba;ta++)this.head=new E(arguments[ta],null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length};y.prototype.pop=function(){if(this.tail){var ta=this.tail.value;(this.tail=this.tail.prev)?this.tail.next=null:this.head=null;this.length--;return ta}};y.prototype.shift=
function(){if(this.head){var ta=this.head.value;(this.head=this.head.next)?this.head.prev=null:this.tail=null;this.length--;return ta}};y.prototype.forEach=function(ta,Ba){Ba=Ba||this;for(var Va=this.head,zb=0;null!==Va;zb++)ta.call(Ba,Va.value,zb,this),Va=Va.next};y.prototype.forEachReverse=function(ta,Ba){Ba=Ba||this;for(var Va=this.tail,zb=this.length-1;null!==Va;zb--)ta.call(Ba,Va.value,zb,this),Va=Va.prev};y.prototype.get=function(ta){for(var Ba=0,Va=this.head;null!==Va&&Ba<ta;Ba++)Va=Va.next;
if(Ba===ta&&null!==Va)return Va.value};y.prototype.getReverse=function(ta){for(var Ba=0,Va=this.tail;null!==Va&&Ba<ta;Ba++)Va=Va.prev;if(Ba===ta&&null!==Va)return Va.value};y.prototype.map=function(ta,Ba){Ba=Ba||this;for(var Va=new y,zb=this.head;null!==zb;)Va.push(ta.call(Ba,zb.value,this)),zb=zb.next;return Va};y.prototype.mapReverse=function(ta,Ba){Ba=Ba||this;for(var Va=new y,zb=this.tail;null!==zb;)Va.push(ta.call(Ba,zb.value,this)),zb=zb.prev;return Va};y.prototype.reduce=function(ta,Ba){var Va=
this.head;if(1<arguments.length)var zb=Ba;else if(this.head)Va=this.head.next,zb=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var pb=0;null!==Va;pb++)zb=ta(zb,Va.value,pb),Va=Va.next;return zb};y.prototype.reduceReverse=function(ta,Ba){var Va=this.tail;if(1<arguments.length)var zb=Ba;else if(this.tail)Va=this.tail.prev,zb=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var pb=this.length-1;null!==Va;pb--)zb=ta(zb,
Va.value,pb),Va=Va.prev;return zb};y.prototype.toArray=function(){for(var ta=Array(this.length),Ba=0,Va=this.head;null!==Va;Ba++)ta[Ba]=Va.value,Va=Va.next;return ta};y.prototype.toArrayReverse=function(){for(var ta=Array(this.length),Ba=0,Va=this.tail;null!==Va;Ba++)ta[Ba]=Va.value,Va=Va.prev;return ta};y.prototype.slice=function(ta,Ba){Ba=Ba||this.length;0>Ba&&(Ba+=this.length);ta=ta||0;0>ta&&(ta+=this.length);var Va=new y;if(Ba<ta||0>Ba)return Va;0>ta&&(ta=0);Ba>this.length&&(Ba=this.length);for(var zb=
0,pb=this.head;null!==pb&&zb<ta;zb++)pb=pb.next;for(;null!==pb&&zb<Ba;zb++,pb=pb.next)Va.push(pb.value);return Va};y.prototype.sliceReverse=function(ta,Ba){Ba=Ba||this.length;0>Ba&&(Ba+=this.length);ta=ta||0;0>ta&&(ta+=this.length);var Va=new y;if(Ba<ta||0>Ba)return Va;0>ta&&(ta=0);Ba>this.length&&(Ba=this.length);for(var zb=this.length,pb=this.tail;null!==pb&&zb>Ba;zb--)pb=pb.prev;for(;null!==pb&&zb>ta;zb--,pb=pb.prev)Va.push(pb.value);return Va};y.prototype.splice=function(ta,Ba,...Va){ta>this.length&&
(ta=this.length-1);0>ta&&(ta=this.length+ta);for(var zb=0,pb=this.head;null!==pb&&zb<ta;zb++)pb=pb.next;ta=[];for(zb=0;pb&&zb<Ba;zb++)ta.push(pb.value),pb=this.removeNode(pb);null===pb&&(pb=this.tail);pb!==this.head&&pb!==this.tail&&(pb=pb.prev);for(zb=0;zb<Va.length;zb++)Ba=pb,pb=Va[zb],Ba=Ba===this.head?new E(pb,null,Ba,this):new E(pb,Ba,Ba.next,this),null===Ba.next&&(this.tail=Ba),null===Ba.prev&&(this.head=Ba),this.length++,pb=Ba;return ta};y.prototype.reverse=function(){for(var ta=this.head,
Ba=this.tail,Va=ta;null!==Va;Va=Va.prev){var zb=Va.prev;Va.prev=Va.next;Va.next=zb}this.head=Ba;this.tail=ta;return this};try{xb(y)}catch(ta){}const qc=Symbol("max"),Nc=Symbol("length"),qd=Symbol("lengthCalculator"),Ed=Symbol("allowStale"),Ga=Symbol("maxAge"),ab=Symbol("dispose"),qb=Symbol("noDisposeOnSet"),Bb=Symbol("lruList"),Tb=Symbol("cache"),Eb=Symbol("updateAgeOnGet"),rc=()=>1;class lc{constructor(ta){"number"===typeof ta&&(ta={max:ta});ta||(ta={});if(ta.max&&("number"!==typeof ta.max||0>ta.max))throw new TypeError("max must be a non-negative number");
this[qc]=ta.max||Infinity;const Ba=ta.length||rc;this[qd]="function"!==typeof Ba?rc:Ba;this[Ed]=ta.stale||!1;if(ta.maxAge&&"number"!==typeof ta.maxAge)throw new TypeError("maxAge must be a number");this[Ga]=ta.maxAge||0;this[ab]=ta.dispose;this[qb]=ta.noDisposeOnSet||!1;this[Eb]=ta.updateAgeOnGet||!1;this.reset()}set max(ta){if("number"!==typeof ta||0>ta)throw new TypeError("max must be a non-negative number");this[qc]=ta||Infinity;Nb(this)}get max(){return this[qc]}set allowStale(ta){this[Ed]=!!ta}get allowStale(){return this[Ed]}set maxAge(ta){if("number"!==
typeof ta)throw new TypeError("maxAge must be a non-negative number");this[Ga]=ta;Nb(this)}get maxAge(){return this[Ga]}set lengthCalculator(ta){"function"!==typeof ta&&(ta=rc);ta!==this[qd]&&(this[qd]=ta,this[Nc]=0,this[Bb].forEach(Ba=>{Ba.length=this[qd](Ba.value,Ba.key);this[Nc]+=Ba.length}));Nb(this)}get lengthCalculator(){return this[qd]}get length(){return this[Nc]}get itemCount(){return this[Bb].length}rforEach(ta,Ba){Ba=Ba||this;for(let Va=this[Bb].tail;null!==Va;){const zb=Va.prev;uc(this,
ta,Va,Ba);Va=zb}}forEach(ta,Ba){Ba=Ba||this;for(let Va=this[Bb].head;null!==Va;){const zb=Va.next;uc(this,ta,Va,Ba);Va=zb}}keys(){return this[Bb].toArray().map(ta=>ta.key)}values(){return this[Bb].toArray().map(ta=>ta.value)}reset(){this[ab]&&this[Bb]&&this[Bb].length&&this[Bb].forEach(ta=>this[ab](ta.key,ta.value));this[Tb]=new Map;this[Bb]=new y;this[Nc]=0}dump(){return this[Bb].map(ta=>vb(this,ta)?!1:{k:ta.key,v:ta.value,e:ta.now+(ta.maxAge||0)}).toArray().filter(ta=>ta)}dumpLru(){return this[Bb]}set(ta,
Ba,Va){if((Va=Va||this[Ga])&&"number"!==typeof Va)throw new TypeError("maxAge must be a number");const zb=Va?Date.now():0,pb=this[qd](Ba,ta);if(this[Tb].has(ta)){if(pb>this[qc])return ec(this,this[Tb].get(ta)),!1;const Rb=this[Tb].get(ta).value;if(this[ab]&&!this[qb])this[ab](ta,Rb.value);Rb.now=zb;Rb.maxAge=Va;Rb.value=Ba;this[Nc]+=pb-Rb.length;Rb.length=pb;this.get(ta);Nb(this);return!0}Va=new tc(ta,Ba,pb,zb,Va);if(Va.length>this[qc]){if(this[ab])this[ab](ta,Ba);return!1}this[Nc]+=Va.length;this[Bb].unshift(Va);
this[Tb].set(ta,this[Bb].head);Nb(this);return!0}has(ta){if(!this[Tb].has(ta))return!1;ta=this[Tb].get(ta).value;return!vb(this,ta)}get(ta){return kb(this,ta,!0)}peek(ta){return kb(this,ta,!1)}pop(){const ta=this[Bb].tail;if(!ta)return null;ec(this,ta);return ta.value}del(ta){ec(this,this[Tb].get(ta))}load(ta){this.reset();const Ba=Date.now();for(let zb=ta.length-1;0<=zb;zb--){const pb=ta[zb];var Va=pb.e||0;0===Va?this.set(pb.k,pb.v):(Va-=Ba,0<Va&&this.set(pb.k,pb.v,Va))}}prune(){this[Tb].forEach((ta,
Ba)=>kb(this,Ba,!1))}}const kb=(ta,Ba,Va)=>{if(Ba=ta[Tb].get(Ba)){const zb=Ba.value;if(vb(ta,zb)){if(ec(ta,Ba),!ta[Ed])return}else Va&&(ta[Eb]&&(Ba.value.now=Date.now()),ta[Bb].unshiftNode(Ba));return zb.value}},vb=(ta,Ba)=>{if(!Ba||!Ba.maxAge&&!ta[Ga])return!1;const Va=Date.now()-Ba.now;return Ba.maxAge?Va>Ba.maxAge:ta[Ga]&&Va>ta[Ga]},Nb=ta=>{if(ta[Nc]>ta[qc])for(let Ba=ta[Bb].tail;ta[Nc]>ta[qc]&&null!==Ba;){const Va=Ba.prev;ec(ta,Ba);Ba=Va}},ec=(ta,Ba)=>{if(Ba){const Va=Ba.value;if(ta[ab])ta[ab](Va.key,
Va.value);ta[Nc]-=Va.length;ta[Tb].delete(Va.key);ta[Bb].removeNode(Ba)}};class tc{constructor(ta,Ba,Va,zb,pb){this.key=ta;this.value=Ba;this.length=Va;this.now=zb;this.maxAge=pb||0}}const uc=(ta,Ba,Va,zb)=>{let pb=Va.value;vb(ta,pb)&&(ec(ta,Va),ta[Ed]||(pb=void 0));pb&&Ba.call(zb,pb.value,pb.key,ta)};class Lc{constructor(ta,Ba){Ba=Qa(Ba);if(ta instanceof Lc)return ta.loose===!!Ba.loose&&ta.includePrerelease===!!Ba.includePrerelease?ta:new Lc(ta.raw,Ba);if(ta instanceof Td)return this.raw=ta.value,
this.set=[[ta]],this.format(),this;this.options=Ba;this.loose=!!Ba.loose;this.includePrerelease=!!Ba.includePrerelease;this.raw=ta;this.set=ta.split(/\s*\|\|\s*/).map(Va=>this.parseRange(Va.trim())).filter(Va=>Va.length);if(!this.set.length)throw new TypeError(`Invalid SemVer Range: ${ta}`);if(1<this.set.length)if(ta=this.set[0],this.set=this.set.filter(Va=>"\x3c0.0.0-0"!==Va[0].value),0===this.set.length)this.set=[ta];else if(1<this.set.length)for(const Va of this.set)if(1===Va.length&&""===Va[0].value){this.set=
[Va];break}this.format()}format(){return this.range=this.set.map(ta=>ta.join(" ").trim()).join("||").trim()}toString(){return this.range}parseRange(ta){ta=ta.trim();const Ba=`parseRange:${Object.keys(this.options).join(",")}:${ta}`;var Va=yc.get(Ba);if(Va)return Va;Va=this.options.loose;ta=ta.replace(Va?vc[mc.HYPHENRANGELOOSE]:vc[mc.HYPHENRANGE],De(this.options.includePrerelease));Da("hyphen replace",ta);ta=ta.replace(vc[mc.COMPARATORTRIM],Kc);Da("comparator trim",ta,vc[mc.COMPARATORTRIM]);ta=ta.replace(vc[mc.TILDETRIM],
Qc);ta=ta.replace(vc[mc.CARETTRIM],Zc);ta=ta.split(/\s+/).join(" ");const zb=Va?vc[mc.COMPARATORLOOSE]:vc[mc.COMPARATOR];ta=ta.split(" ").map(Rb=>{var Vb=Rb;Rb=this.options;Da("comp",Vb,Rb);Vb=Ud(Vb,Rb);Da("caret",Vb);Vb=Dd(Vb,Rb);Da("tildes",Vb);Vb=ne(Vb,Rb);Da("xrange",Vb);Da("replaceStars",Vb,Rb);Vb=Vb.trim().replace(vc[mc.STAR],"");Da("stars",Vb);return Vb}).join(" ").split(/\s+/).map(Rb=>{var Vb=this.options;Da("replaceGTE0",Rb,Vb);return Rb.trim().replace(vc[Vb.includePrerelease?mc.GTE0PRE:
mc.GTE0],"")}).filter(this.options.loose?Rb=>!!Rb.match(zb):()=>!0).map(Rb=>new Td(Rb,this.options));ta.length;Va=new Map;for(var pb of ta){if("\x3c0.0.0-0"===pb.value)return[pb];Va.set(pb.value,pb)}1<Va.size&&Va.has("")&&Va.delete("");pb=[...Va.values()];yc.set(Ba,pb);return pb}intersects(ta,Ba){if(!(ta instanceof Lc))throw new TypeError("a Range is required");return this.set.some(Va=>nd(Va,Ba)&&ta.set.some(zb=>nd(zb,Ba)&&Va.every(pb=>zb.every(Rb=>pb.intersects(Rb,Ba)))))}test(ta){if(!ta)return!1;
if("string"===typeof ta)try{ta=new bc(ta,this.options)}catch(Rb){return!1}for(let Rb=0;Rb<this.set.length;Rb++){a:{var Ba=this.set[Rb];var Va=ta,zb=this.options;for(var pb=0;pb<Ba.length;pb++)if(!Ba[pb].test(Va)){Ba=!1;break a}if(Va.prerelease.length&&!zb.includePrerelease){for(zb=0;zb<Ba.length;zb++)if(Da(Ba[zb].semver),Ba[zb].semver!==Td.ANY&&0<Ba[zb].semver.prerelease.length&&(pb=Ba[zb].semver,pb.major===Va.major&&pb.minor===Va.minor&&pb.patch===Va.patch)){Ba=!0;break a}Ba=!1}else Ba=!0}if(Ba)return!0}return!1}}
var Jb=Lc;const yc=new lc({max:1E3}),{re:vc,t:mc,comparatorTrimReplace:Kc,tildeTrimReplace:Qc,caretTrimReplace:Zc}=ma,nd=(ta,Ba)=>{let Va=!0;ta=ta.slice();let zb=ta.pop();for(;Va&&ta.length;)Va=ta.every(pb=>zb.intersects(pb,Ba)),zb=ta.pop();return Va},od=ta=>!ta||"x"===ta.toLowerCase()||"*"===ta,Dd=(ta,Ba)=>ta.trim().split(/\s+/).map(Va=>Jd(Va,Ba)).join(" "),Jd=(ta,Ba)=>ta.replace(Ba.loose?vc[mc.TILDELOOSE]:vc[mc.TILDE],(Va,zb,pb,Rb,Vb)=>{Da("tilde",ta,Va,zb,pb,Rb,Vb);od(zb)?Va="":od(pb)?Va=`>=${zb}.0.0 <${+zb+
1}.0.0-0`:od(Rb)?Va=`>=${zb}.${pb}.0 <${zb}.${+pb+1}.0-0`:Vb?(Da("replaceTilde pr",Vb),Va=`>=${zb}.${pb}.${Rb}-${Vb} <${zb}.${+pb+1}.0-0`):Va=`>=${zb}.${pb}.${Rb} <${zb}.${+pb+1}.0-0`;Da("tilde return",Va);return Va}),Ud=(ta,Ba)=>ta.trim().split(/\s+/).map(Va=>ie(Va,Ba)).join(" "),ie=(ta,Ba)=>{Da("caret",ta,Ba);const Va=Ba.includePrerelease?"-0":"";return ta.replace(Ba.loose?vc[mc.CARETLOOSE]:vc[mc.CARET],(zb,pb,Rb,Vb,Gc)=>{Da("caret",ta,zb,pb,Rb,Vb,Gc);od(pb)?zb="":od(Rb)?zb=`>=${pb}.0.0${Va} <${+pb+
1}.0.0-0`:od(Vb)?zb="0"===pb?`>=${pb}.${Rb}.0${Va} <${pb}.${+Rb+1}.0-0`:`>=${pb}.${Rb}.0${Va} <${+pb+1}.0.0-0`:Gc?(Da("replaceCaret pr",Gc),zb="0"===pb?"0"===Rb?`>=${pb}.${Rb}.${Vb}-${Gc} <${pb}.${Rb}.${+Vb+1}-0`:`>=${pb}.${Rb}.${Vb}-${Gc} <${pb}.${+Rb+1}.0-0`:`>=${pb}.${Rb}.${Vb}-${Gc} <${+pb+1}.0.0-0`):(Da("no pr"),zb="0"===pb?"0"===Rb?`>=${pb}.${Rb}.${Vb}${Va} <${pb}.${Rb}.${+Vb+1}-0`:`>=${pb}.${Rb}.${Vb}${Va} <${pb}.${+Rb+1}.0-0`:`>=${pb}.${Rb}.${Vb} <${+pb+1}.0.0-0`);Da("caret return",zb);return zb})},
ne=(ta,Ba)=>{Da("replaceXRanges",ta,Ba);return ta.split(/\s+/).map(Va=>Ee(Va,Ba)).join(" ")},Ee=(ta,Ba)=>{ta=ta.trim();return ta.replace(Ba.loose?vc[mc.XRANGELOOSE]:vc[mc.XRANGE],(Va,zb,pb,Rb,Vb,Gc)=>{Da("xRange",ta,Va,zb,pb,Rb,Vb,Gc);const Vc=od(pb),Cc=Vc||od(Rb);Vb=Cc||od(Vb);"\x3d"===zb&&Vb&&(zb="");Gc=Ba.includePrerelease?"-0":"";Vc?Va="\x3e"===zb||"\x3c"===zb?"\x3c0.0.0-0":"*":zb&&Vb?(Cc&&(Rb=0),Vb=0,"\x3e"===zb?(zb="\x3e\x3d",Cc?(pb=+pb+1,Rb=0):Rb=+Rb+1,Vb=0):"\x3c\x3d"===zb&&(zb="\x3c",Cc?
pb=+pb+1:Rb=+Rb+1),"\x3c"===zb&&(Gc="-0"),Va=`${zb+pb}.${Rb}.${Vb}${Gc}`):Cc?Va=`>=${pb}.0.0${Gc} <${+pb+1}.0.0-0`:Vb&&(Va=`>=${pb}.${Rb}.0${Gc} <${pb}.${+Rb+1}.0-0`);Da("xRange return",Va);return Va})},De=ta=>(Ba,Va,zb,pb,Rb,Vb,Gc,Vc,Cc,Bd,dd,rd,$c)=>{Va=od(zb)?"":od(pb)?`>=${zb}.0.0${ta?"-0":""}`:od(Rb)?`>=${zb}.${pb}.0${ta?"-0":""}`:Vb?`>=${Va}`:`>=${Va}${ta?"-0":""}`;Vc=od(Cc)?"":od(Bd)?`<${+Cc+1}.0.0-0`:od(dd)?`<${Cc}.${+Bd+1}.0-0`:rd?`<=${Cc}.${Bd}.${dd}-${rd}`:ta?`<${Cc}.${Bd}.${+dd+1}-0`:
`<=${Vc}`;return`${Va} ${Vc}`.trim()},Fe=Symbol("SemVer ANY");class Id{static get ANY(){return Fe}constructor(ta,Ba){Ba=Qa(Ba);if(ta instanceof Id){if(ta.loose===!!Ba.loose)return ta;ta=ta.value}Da("comparator",ta,Ba);this.options=Ba;this.loose=!!Ba.loose;this.parse(ta);this.value=this.semver===Fe?"":this.operator+this.semver.version;Da("comp",this)}parse(ta){const Ba=ta.match(this.options.loose?af[Be.COMPARATORLOOSE]:af[Be.COMPARATOR]);if(!Ba)throw new TypeError(`Invalid comparator: ${ta}`);this.operator=
void 0!==Ba[1]?Ba[1]:"";"\x3d"===this.operator&&(this.operator="");this.semver=Ba[2]?new bc(Ba[2],this.options.loose):Fe}toString(){return this.value}test(ta){Da("Comparator.test",ta,this.options.loose);if(this.semver===Fe||ta===Fe)return!0;if("string"===typeof ta)try{ta=new bc(ta,this.options)}catch(Ba){return!1}return Fd(ta,this.operator,this.semver,this.options)}intersects(ta,Ba){if(!(ta instanceof Id))throw new TypeError("a Comparator is required");Ba&&"object"===typeof Ba||(Ba={loose:!!Ba,includePrerelease:!1});
if(""===this.operator)return""===this.value?!0:(new Jb(ta.value,Ba)).test(this.value);if(""===ta.operator)return""===ta.value?!0:(new Jb(this.value,Ba)).test(ta.semver);const Va=("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3e\x3d"===ta.operator||"\x3e"===ta.operator),zb=("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3c\x3d"===ta.operator||"\x3c"===ta.operator),pb=this.semver.version===ta.semver.version,Rb=("\x3e\x3d"===this.operator||"\x3c\x3d"===this.operator)&&("\x3e\x3d"===
ta.operator||"\x3c\x3d"===ta.operator),Vb=Fd(this.semver,"\x3c",ta.semver,Ba)&&("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3c\x3d"===ta.operator||"\x3c"===ta.operator);ta=Fd(this.semver,"\x3e",ta.semver,Ba)&&("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3e\x3d"===ta.operator||"\x3e"===ta.operator);return Va||zb||pb&&Rb||Vb||ta}}var Td=Id;const {re:af,t:Be}=ma;var cf=(ta,Ba,Va)=>{try{Ba=new Jb(Ba,Va)}catch(zb){return!1}return Ba.test(ta)};const {ANY:Xd}=Td;var ae=(ta,Ba,Va,
zb)=>{ta=new bc(ta,zb);Ba=new Jb(Ba,zb);let pb,Rb,Vb,Gc;switch(Va){case "\x3e":pb=td;Va=hd;Rb=Qd;Vb="\x3e";Gc="\x3e\x3d";break;case "\x3c":pb=Qd;Va=jd;Rb=td;Vb="\x3c";Gc="\x3c\x3d";break;default:throw new TypeError('Must provide a hilo val of "\x3c" or "\x3e"');}if(cf(ta,Ba,zb))return!1;for(let Vc=0;Vc<Ba.set.length;++Vc){let Cc=null,Bd=null;Ba.set[Vc].forEach(dd=>{dd.semver===Xd&&(dd=new Td("\x3e\x3d0.0.0"));Cc=Cc||dd;Bd=Bd||dd;pb(dd.semver,Cc.semver,zb)?Cc=dd:Rb(dd.semver,Bd.semver,zb)&&(Bd=dd)});
if(Cc.operator===Vb||Cc.operator===Gc||(!Bd.operator||Bd.operator===Vb)&&Va(ta,Bd.semver)||Bd.operator===Gc&&Rb(ta,Bd.semver))return!1}return!0};const {ANY:Je}=Td,fe=(ta,Ba,Va)=>{if(ta===Ba)return!0;if(1===ta.length&&ta[0].semver===Je)return 1===Ba.length&&Ba[0].semver===Je;const zb=new Set;let pb,Rb;for(const Cc of ta)"\x3e"===Cc.operator||"\x3e\x3d"===Cc.operator?pb=zd(pb,Cc,Va):"\x3c"===Cc.operator||"\x3c\x3d"===Cc.operator?Rb=Gd(Rb,Cc,Va):zb.add(Cc.semver);if(1<zb.size)return null;let Vb;if(pb&&
Rb&&(Vb=Hc(pb.semver,Rb.semver,Va),0<Vb||0===Vb&&("\x3e\x3d"!==pb.operator||"\x3c\x3d"!==Rb.operator)))return null;for(const Cc of zb){if(pb&&!cf(Cc,String(pb),Va)||Rb&&!cf(Cc,String(Rb),Va))return null;for(const Bd of Ba)if(!cf(Cc,String(Bd),Va))return!1;return!0}let Gc,Vc;for(const Cc of Ba){Vc=Vc||"\x3e"===Cc.operator||"\x3e\x3d"===Cc.operator;Gc=Gc||"\x3c"===Cc.operator||"\x3c\x3d"===Cc.operator;if(pb)if("\x3e"===Cc.operator||"\x3e\x3d"===Cc.operator){if(ta=zd(pb,Cc,Va),ta===Cc&&ta!==pb)return!1}else if("\x3e\x3d"===
pb.operator&&!cf(pb.semver,String(Cc),Va))return!1;if(Rb)if("\x3c"===Cc.operator||"\x3c\x3d"===Cc.operator){if(ta=Gd(Rb,Cc,Va),ta===Cc&&ta!==Rb)return!1}else if("\x3c\x3d"===Rb.operator&&!cf(Rb.semver,String(Cc),Va))return!1;if(!Cc.operator&&(Rb||pb)&&0!==Vb)return!1}return pb&&Gc&&!Rb&&0!==Vb||Rb&&Vc&&!pb&&0!==Vb?!1:!0},zd=(ta,Ba,Va)=>{if(!ta)return Ba;Va=Hc(ta.semver,Ba.semver,Va);return 0<Va?ta:0>Va?Ba:"\x3e"===Ba.operator&&"\x3e\x3d"===ta.operator?Ba:ta},Gd=(ta,Ba,Va)=>{if(!ta)return Ba;Va=Hc(ta.semver,
Ba.semver,Va);return 0>Va?ta:0<Va?Ba:"\x3c"===Ba.operator&&"\x3c\x3d"===ta.operator?Ba:ta};var ce={re:ma.re,src:ma.src,tokens:ma.t,SEMVER_SPEC_VERSION:Ca.SEMVER_SPEC_VERSION,SemVer:bc,compareIdentifiers:Qb.compareIdentifiers,rcompareIdentifiers:Qb.rcompareIdentifiers,parse:Oc,valid:(ta,Ba)=>(ta=Oc(ta,Ba))?ta.version:null,clean:(ta,Ba)=>(ta=Oc(ta.trim().replace(/^[=v]+/,""),Ba))?ta.version:null,inc:(ta,Ba,Va,zb)=>{"string"===typeof Va&&(zb=Va,Va=void 0);try{return(new bc(ta,Va)).inc(Ba,zb).version}catch(pb){return null}},
diff:(ta,Ba)=>{if(0===Hc(ta,Ba,void 0))return null;{ta=Oc(ta);Ba=Oc(Ba);var Va=ta.prerelease.length||Ba.prerelease.length;const zb=Va?"pre":"";Va=Va?"prerelease":"";for(const pb in ta)if(("major"===pb||"minor"===pb||"patch"===pb)&&ta[pb]!==Ba[pb])return zb+pb;return Va}},major:(ta,Ba)=>(new bc(ta,Ba)).major,minor:(ta,Ba)=>(new bc(ta,Ba)).minor,patch:(ta,Ba)=>(new bc(ta,Ba)).patch,prerelease:(ta,Ba)=>(ta=Oc(ta,Ba))&&ta.prerelease.length?ta.prerelease:null,compare:Hc,rcompare:(ta,Ba,Va)=>Hc(Ba,ta,Va),
compareLoose:(ta,Ba)=>Hc(ta,Ba,!0),compareBuild:Bc,sort:(ta,Ba)=>ta.sort((Va,zb)=>Bc(Va,zb,Ba)),rsort:(ta,Ba)=>ta.sort((Va,zb)=>Bc(zb,Va,Ba)),gt:td,lt:Qd,eq:(ta,Ba,Va)=>0===Hc(ta,Ba,Va),neq:(ta,Ba,Va)=>0!==Hc(ta,Ba,Va),gte:jd,lte:hd,cmp:Fd,coerce:(ta,Ba)=>{if(ta instanceof bc)return ta;"number"===typeof ta&&(ta=String(ta));if("string"!==typeof ta)return null;Ba=Ba||{};let Va=null;if(Ba.rtl){let zb;for(;(zb=Ib[Zb.COERCERTL].exec(ta))&&(!Va||Va.index+Va[0].length!==ta.length);)Va&&zb.index+zb[0].length===
Va.index+Va[0].length||(Va=zb),Ib[Zb.COERCERTL].lastIndex=zb.index+zb[1].length+zb[2].length;Ib[Zb.COERCERTL].lastIndex=-1}else Va=ta.match(Ib[Zb.COERCE]);return null===Va?null:Oc(`${Va[2]}.${Va[3]||"0"}.${Va[4]||"0"}`,Ba)},Comparator:Td,Range:Jb,satisfies:cf,toComparators:(ta,Ba)=>(new Jb(ta,Ba)).set.map(Va=>Va.map(zb=>zb.value).join(" ").trim().split(" ")),maxSatisfying:(ta,Ba,Va)=>{let zb=null,pb=null,Rb=null;try{Rb=new Jb(Ba,Va)}catch(Vb){return null}ta.forEach(Vb=>{!Rb.test(Vb)||zb&&-1!==pb.compare(Vb)||
(zb=Vb,pb=new bc(zb,Va))});return zb},minSatisfying:(ta,Ba,Va)=>{let zb=null,pb=null,Rb=null;try{Rb=new Jb(Ba,Va)}catch(Vb){return null}ta.forEach(Vb=>{!Rb.test(Vb)||zb&&1!==pb.compare(Vb)||(zb=Vb,pb=new bc(zb,Va))});return zb},minVersion:(ta,Ba)=>{ta=new Jb(ta,Ba);Ba=new bc("0.0.0");if(ta.test(Ba))return Ba;Ba=new bc("0.0.0-0");if(ta.test(Ba))return Ba;Ba=null;for(let Va=0;Va<ta.set.length;++Va){let zb=null;ta.set[Va].forEach(pb=>{const Rb=new bc(pb.semver.version);switch(pb.operator){case "\x3e":0===
Rb.prerelease.length?Rb.patch++:Rb.prerelease.push(0),Rb.raw=Rb.format();case "":case "\x3e\x3d":if(!zb||0<Hc(Rb,zb,void 0))zb=Rb;break;case "\x3c":case "\x3c\x3d":break;default:throw Error(`Unexpected operation: ${pb.operator}`);}});!zb||Ba&&!(0<Hc(Ba,zb,void 0))||(Ba=zb)}return Ba&&ta.test(Ba)?Ba:null},validRange:(ta,Ba)=>{try{return(new Jb(ta,Ba)).range||"*"}catch(Va){return null}},outside:ae,gtr:(ta,Ba,Va)=>ae(ta,Ba,"\x3e",Va),ltr:(ta,Ba,Va)=>ae(ta,Ba,"\x3c",Va),intersects:(ta,Ba,Va)=>{ta=new Jb(ta,
Va);Ba=new Jb(Ba,Va);return ta.intersects(Ba)},simplifyRange:(ta,Ba,Va)=>{var zb=[],pb=null;let Rb=null;ta=ta.sort((Vb,Gc)=>Hc(Vb,Gc,Va));for(const Vb of ta)cf(Vb,Ba,Va)?(Rb=Vb,pb||(pb=Vb)):(Rb&&zb.push([pb,Rb]),pb=Rb=null);pb&&zb.push([pb,null]);pb=[];for(const [Vb,Gc]of zb)Vb===Gc?pb.push(Vb):Gc||Vb!==ta[0]?Gc?Vb===ta[0]?pb.push(`<=${Gc}`):pb.push(`${Vb} - ${Gc}`):pb.push(`>=${Vb}`):pb.push("*");zb=pb.join(" || ");return zb.length<("string"===typeof Ba.raw?Ba.raw:String(Ba)).length?zb:Ba},subset:(ta,
Ba,Va)=>{if(ta===Ba)return!0;ta=new Jb(ta,Va);Ba=new Jb(Ba,Va);let zb=!1;a:for(const pb of ta.set){for(const Rb of Ba.set)if(ta=fe(pb,Rb,Va),zb=zb||null!==ta,ta)continue a;if(zb)return!1}return!0}};const Re={"category-6":"#ec8431 #829eb1 #c89d29 #3580b1 #adc839 #ab7fb4".split(" "),"fire-7":"#fbf2c7 #f9e39c #f8d36e #f4bb6a #e68a4f #d15a40 #ab4232".split(" "),"fireandice-6":"#e68a4f #f4bb6a #f9e39c #dadfe2 #a6b7c6 #849eae".split(" "),"ice-7":"#edefee #dadfe2 #c4ccd2 #a6b7c6 #849eae #607785 #47525d".split(" ")},
me={"main-colors":"#1696d2 #d2d2d2 #000000 #fdbf11 #ec008b #55b748 #5c5859 #db2b27".split(" "),"shades-blue":"#CFE8F3 #A2D4EC #73BFE2 #46ABDB #1696D2 #12719E #0A4C6A #062635".split(" "),"shades-gray":"#F5F5F5 #ECECEC #E3E3E3 #DCDBDB #D2D2D2 #9D9D9D #696969 #353535".split(" "),"shades-yellow":"#FFF2CF #FCE39E #FDD870 #FCCB41 #FDBF11 #E88E2D #CA5800 #843215".split(" "),"shades-magenta":"#F5CBDF #EB99C2 #E46AA7 #E54096 #EC008B #AF1F6B #761548 #351123".split(" "),"shades-green":"#DCEDD9 #BCDEB4 #98CF90 #78C26D #55B748 #408941 #2C5C2D #1A2E19".split(" "),
"shades-black":"#D5D5D4 #ADABAC #848081 #5C5859 #332D2F #262223 #1A1717 #0E0C0D".split(" "),"shades-red":"#F8D5D4 #F1AAA9 #E9807D #E25552 #DB2B27 #A4201D #6E1614 #370B0A".split(" "),"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000",
"#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":"#1696d2 #ec008b #fdbf11 #000000 #d2d2d2 #55b748".split(" "),"six-groups-cat-2":"#1696d2 #d2d2d2 #ec008b #fdbf11 #332d2f #0a4c6a".split(" "),
"six-groups-seq":"#cfe8f3 #a2d4ec #73bfe2 #46abdb #1696d2 #12719e".split(" "),"diverging-colors":"#ca5800 #fdbf11 #fdd870 #fff2cf #cfe8f3 #73bfe2 #1696d2 #0a4c6a".split(" ")};var Hd=Object.freeze({__proto__:null,dark:{background:"#333",title:{color:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},excel:{background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},
rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},symbol:{fill:"#4572a7",strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:"#4572a7 #aa4643 #8aa453 #71598e #4598ae #d98445 #94aace #d09393 #b9cc98 #a99cbc".split(" ")}},fivethirtyeight:{arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",
grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:"#30a2da #fc4f30 #e5ae38 #6d904f #8b8b8b #b96db8 #ff9e27 #56cc60 #52d2ca #52689e #545454 #9fe4f8".split(" "),
diverging:"#cc0020 #e77866 #f6e7e1 #d6e8ed #91bfd9 #1d78b5".split(" "),heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},ggplot2:{group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,
gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:"#000000 #7F7F7F #1A1A1A #999999 #333333 #B0B0B0 #4D4D4D #C9C9C9 #666666 #DCDCDC".split(" ")}},googlecharts:{arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",
padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:"#4285F4 #DB4437 #F4B400 #0F9D58 #AB47BC #00ACC1 #FF7043 #9E9D24 #5C6BC0 #F06292 #00796B #C2185B".split(" "),heatmap:["#c6dafc","#5e97f6",
"#2a56c6"]}},latimes:{background:"#ffffff",title:{anchor:"start",color:"#000000",font:"Benton Gothic Bold, sans-serif",fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},
axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},range:{category:Re["category-6"],diverging:Re["fireandice-6"],heatmap:Re["fire-7"],ordinal:Re["fire-7"],ramp:Re["fire-7"]}},quartz:{background:"#f9f9f9",arc:{fill:"#ab5787"},
area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:"#ab5787 #51b2e5 #703c5c #168dd9 #d190b6 #00609f #d365ba #154866 #666666 #c4c4c4".split(" ")}},
urbaninstitute:{background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:"Lato"},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,
labelFont:"Lato",symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:"Lato",orient:"right",offset:10},view:{stroke:"transparent"},range:{category:me["six-groups-cat-1"],diverging:me["diverging-colors"],heatmap:me["diverging-colors"],ordinal:me["six-groups-seq"],ramp:me["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},
text:{font:"Lato",color:"#1696d2",fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},symbol:{fill:"#1696d2",size:30}},version:"2.9.1",vox:{background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},
axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:"#3e5c69 #6793a6 #182429 #0570b0 #3690c0 #74a9cf #a6bddb #e2ddf2".split(" ")}}});const Ge=ta=>function(Ba){return Ba[ta]},rf=ta=>{const Ba=ta.length;return function(Va){for(let zb=0;zb<Ba;++zb)Va=Va[ta[zb]];return Va}};(function(ta,Ba,Va){const zb=ea(ta);ta=1===zb.length?zb[0]:ta;return Q((Va&&Va.get||S)(zb),[ta],Ba||ta)})("id");Q(ta=>ta,[],"identity");Q(()=>0,[],"zero");
Q(()=>1,[],"one");Q(()=>!0,[],"true");Q(()=>!1,[],"false");var zc=Array.isArray;const He={offsetX:10,offsetY:10,id:"vg-tooltip-element",styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(ta){return String(ta).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;")},maxDepth:2};class oe{constructor(ta){this.options=Object.assign(Object.assign({},He),ta);var Ba=this.options.id;this.el=null;this.call=this.tooltipHandler.bind(this);if(!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){ta=
document.createElement("style");ta.setAttribute("id",this.options.styleId);if(!/^[A-Za-z]+[-:.\w]*$/.test(Ba))throw Error("Invalid HTML ID");Ba="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element img {\n    max-width: 200px;\n    max-height: 200px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n".toString().replace("vg-tooltip-element",
Ba);ta.innerHTML=Ba;Ba=document.head;0<Ba.childNodes.length?Ba.insertBefore(ta,Ba.childNodes[0]):Ba.appendChild(ta)}}tooltipHandler(ta,Ba,Va,zb){this.el=document.getElementById(this.options.id);this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el));(null!=document.fullscreenElement?document.fullscreenElement:document.body).appendChild(this.el);if(null==zb||""===zb)this.el.classList.remove("visible",
`${this.options.theme}-theme`);else{this.el.innerHTML=fa(zb,this.options.sanitize,this.options.maxDepth);this.el.classList.add("visible",`${this.options.theme}-theme`);ta=this.el.getBoundingClientRect();var pb=this.options.offsetX;Va=this.options.offsetY;zb=Ba.clientX+pb;zb+ta.width>window.innerWidth&&(zb=+Ba.clientX-pb-ta.width);pb=Ba.clientY+Va;pb+ta.height>window.innerHeight&&(pb=+Ba.clientY-Va-ta.height);Ba={x:zb,y:pb};var {x:Rb,y:Vb}=Ba;this.el.setAttribute("style",`top: ${Vb}px; left: ${Rb}px`)}}}
String.prototype.startsWith||(String.prototype.startsWith=function(ta,Ba){return this.substr(!Ba||0>Ba?0:+Ba,ta.length)===ta});var dc,xe=ra,de=Pa,Ie="undefined"!==typeof window?window:void 0;void 0===de&&(null===(dc=null===Ie||void 0===Ie?void 0:Ie.vl)||void 0===dc?0:dc.compile)&&(de=Ie.vl);var sf={"export":{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},ff={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",
SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},mf={vega:"Vega","vega-lite":"Vega-Lite"},gf={vega:xe.version,"vega-lite":de?de.version:"not available"},Zd={vega:function(ta){return ta},"vega-lite":function(ta,Ba){return de.compile(ta,{config:Ba}).spec}},sc=function(){for(var ta=[],Ba=0;Ba<arguments.length;Ba++)ta[Ba]=arguments[Ba];if(Ba=1<ta.length){if(Ba=l.isString(ta[0]))Ba=ta[0],Ba=!(Ba.startsWith("http://")||Ba.startsWith("https://")||Ba.startsWith("//"));Ba=Ba||ta[0]instanceof HTMLElement||
3===ta.length}return Ba?wa(ta[0],ta[1],ta[2]):gb(ta[0],ta[1])};sc.vegaLite=de;sc.vl=de;sc.container=gb;sc.embed=wa;sc.vega=xe;sc["default"]=wa;sc.version="6.15.1";return sc})};
shadow$provide[69]=function(Ia,A,mb,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof mb?mb.exports=l():"function"===typeof define&&define.amd?define(l):(m=m||self,m.CodeMirror=l())})(this,function(){function m(b){return new RegExp("(^|\\s)"+b+"(?:$|\\s)\\s*")}function l(b){for(var p=b.childNodes.length;0<p;--p)b.removeChild(b.firstChild);return b}function u(b,p){return l(b).appendChild(p)}function G(b,p,U,P){b=document.createElement(b);U&&(b.className=U);P&&(b.style.cssText=P);if("string"==
typeof p)b.appendChild(document.createTextNode(p));else if(p)for(U=0;U<p.length;++U)b.appendChild(p[U]);return b}function L(b,p,U,P){b=G(b,p,U,P);b.setAttribute("role","presentation");return b}function w(b,p){3==p.nodeType&&(p=p.parentNode);if(b.contains)return b.contains(p);do if(11==p.nodeType&&(p=p.host),p==b)return!0;while(p=p.parentNode)}function v(){try{var b=document.activeElement}catch(p){b=document.body||null}for(;b&&b.shadowRoot&&b.shadowRoot.activeElement;)b=b.shadowRoot.activeElement;
return b}function t(b,p){var U=b.className;m(p).test(U)||(b.className+=(U?" ":"")+p)}function k(b,p){b=b.split(" ");for(var U=0;U<b.length;U++)b[U]&&!m(b[U]).test(p)&&(p+=" "+b[U]);return p}function g(b){var p=Array.prototype.slice.call(arguments,1);return function(){return b.apply(null,p)}}function d(b,p,U){p||(p={});for(var P in b)!b.hasOwnProperty(P)||!1===U&&p.hasOwnProperty(P)||(p[P]=b[P]);return p}function f(b,p,U,P,aa){null==p&&(p=b.search(/[^\s\u00a0]/),-1==p&&(p=b.length));P=P||0;for(aa=
aa||0;;){var Fa=b.indexOf("\t",P);if(0>Fa||Fa>=p)return aa+(p-P);aa+=Fa-P;aa+=U-aa%U;P=Fa+1}}function a(b,p){for(var U=0;U<b.length;++U)if(b[U]==p)return U;return-1}function e(b,p,U){for(var P=0,aa=0;;){var Fa=b.indexOf("\t",P);-1==Fa&&(Fa=b.length);var Ta=Fa-P;if(Fa==b.length||aa+Ta>=p)return P+Math.min(Ta,p-aa);aa+=Fa-P;aa+=U-aa%U;P=Fa+1;if(aa>=p)return P}}function n(b){for(;gi.length<=b;)gi.push(x(gi)+" ");return gi[b]}function x(b){return b[b.length-1]}function z(b,p){for(var U=[],P=0;P<b.length;P++)U[P]=
p(b[P],P);return U}function B(b,p,U){for(var P=0,aa=U(p);P<b.length&&U(b[P])<=aa;)P++;b.splice(P,0,p)}function M(){}function K(b,p){Object.create?b=Object.create(b):(M.prototype=b,b=new M);p&&d(p,b);return b}function D(b){return/\w/.test(b)||""<b&&(b.toUpperCase()!=b.toLowerCase()||nj.test(b))}function y(b,p){return p?-1<p.source.indexOf("\\w")&&D(b)?!0:p.test(b):D(b)}function E(b){for(var p in b)if(b.hasOwnProperty(p)&&b[p])return!1;return!0}function H(b){return 768<=b.charCodeAt(0)&&hi.test(b)}
function Q(b,p,U){for(;(0>U?0<p:p<b.length)&&H(b.charAt(p));)p+=U;return p}function S(b,p,U){for(var P=p>U?-1:1;;){if(p==U)return p;var aa=(p+U)/2;aa=0>P?Math.ceil(aa):Math.floor(aa);if(aa==p)return b(aa)?p:U;b(aa)?U=aa:p=aa+P}}function ea(b,p,U,P){if(!b)return P(p,U,"ltr",0);for(var aa=!1,Fa=0;Fa<b.length;++Fa){var Ta=b[Fa];if(Ta.from<U&&Ta.to>p||p==U&&Ta.to==p)P(Math.max(Ta.from,p),Math.min(Ta.to,U),1==Ta.level?"rtl":"ltr",Fa),aa=!0}aa||P(p,U,"ltr")}function ba(b,p,U){var P;ph=null;for(var aa=0;aa<
b.length;++aa){var Fa=b[aa];if(Fa.from<p&&Fa.to>p)return aa;Fa.to==p&&(Fa.from!=Fa.to&&"before"==U?P=aa:ph=aa);Fa.from==p&&(Fa.from!=Fa.to&&"before"!=U?P=aa:ph=aa)}return null!=P?P:ph}function fa(b,p){var U=b.order;null==U&&(U=b.order=Wg(b.text,p));return U}function ia(b,p,U){if(b.removeEventListener)b.removeEventListener(p,U,!1);else if(b.detachEvent)b.detachEvent("on"+p,U);else{var P=(b=b._handlers)&&b[p];P&&(U=a(P,U),-1<U&&(b[p]=P.slice(0,U).concat(P.slice(U+1))))}}function ca(b,p){var U=b._handlers&&
b._handlers[p]||oh;if(U.length)for(var P=Array.prototype.slice.call(arguments,2),aa=0;aa<U.length;++aa)U[aa].apply(null,P)}function N(b,p,U){"string"==typeof p&&(p={type:p,preventDefault:function(){this.defaultPrevented=!0}});ca(b,U||p.type,b,p);return xa(p)||p.codemirrorIgnore}function C(b){var p=b._handlers&&b._handlers.cursorActivity;if(p){b=b.curOp.cursorActivityHandlers||(b.curOp.cursorActivityHandlers=[]);for(var U=0;U<p.length;++U)-1==a(b,p[U])&&b.push(p[U])}}function W(b,p){return 0<(b._handlers&&
b._handlers[p]||oh).length}function ha(b){b.prototype.on=function(p,U){ue(this,p,U)};b.prototype.off=function(p,U){ia(this,p,U)}}function Y(b){b.preventDefault?b.preventDefault():b.returnValue=!1}function wa(b){b.stopPropagation?b.stopPropagation():b.cancelBubble=!0}function xa(b){return null!=b.defaultPrevented?b.defaultPrevented:0==b.returnValue}function Ha(b){Y(b);wa(b)}function Za(b){var p=b.which;null==p&&(b.button&1?p=1:b.button&2?p=3:b.button&4&&(p=2));rg&&b.ctrlKey&&1==p&&(p=3);return p}function gb(b){if(null==
ii){var p=G("span","");u(b,G("span",[p,document.createTextNode("x")]));0!=b.firstChild.offsetHeight&&(ii=1>=p.offsetWidth&&2<p.offsetHeight&&!($e&&8>jf))}b=ii?G("span",""):G("span","",null,"display: inline-block; width: 1px; margin-right: -1px");b.setAttribute("cm-text","");return b}function ra(b,p){2<arguments.length&&(p.dependencies=Array.prototype.slice.call(arguments,2));dh[b]=p}function Pa(b){if("string"==typeof b&&qh.hasOwnProperty(b))b=qh[b];else if(b&&"string"==typeof b.name&&qh.hasOwnProperty(b.name)){var p=
qh[b.name];"string"==typeof p&&(p={name:p});b=K(p,b);b.name=p.name}else{if("string"==typeof b&&/^[\w\-]+\/[\w\-]+\+xml$/.test(b))return Pa("application/xml");if("string"==typeof b&&/^[\w\-]+\/[\w\-]+\+json$/.test(b))return Pa("application/json")}return"string"==typeof b?{name:b}:b||{name:"null"}}function Ua(b,p){p=Pa(p);var U=dh[p.name];if(!U)return Ua(b,"text/plain");b=U(b,p);if(Mg.hasOwnProperty(p.name)){U=Mg[p.name];for(var P in U)U.hasOwnProperty(P)&&(b.hasOwnProperty(P)&&(b["_"+P]=b[P]),b[P]=
U[P])}b.name=p.name;p.helperType&&(b.helperType=p.helperType);if(p.modeProps)for(var aa in p.modeProps)b[aa]=p.modeProps[aa];return b}function za(b,p){b=Mg.hasOwnProperty(b)?Mg[b]:Mg[b]={};d(p,b)}function qa(b,p){if(!0===p)return p;if(b.copyState)return b.copyState(p);b={};for(var U in p){var P=p[U];P instanceof Array&&(P=P.concat([]));b[U]=P}return b}function R(b,p){for(var U;b.innerMode;){U=b.innerMode(p);if(!U||U.mode==b)break;p=U.state;b=U.mode}return U||{mode:b,state:p}}function T(b,p,U){return b.startState?
b.startState(p,U):!0}function X(b,p){p-=b.first;if(0>p||p>=b.size)throw Error("There is no line "+(p+b.first)+" in the document.");for(;!b.lines;)for(var U=0;;++U){var P=b.children[U],aa=P.chunkSize();if(p<aa){b=P;break}p-=aa}return b.lines[p]}function Z(b,p,U){var P=[],aa=p.line;b.iter(p.line,U.line+1,function(Fa){Fa=Fa.text;aa==U.line&&(Fa=Fa.slice(0,U.ch));aa==p.line&&(Fa=Fa.slice(p.ch));P.push(Fa);++aa});return P}function oa(b,p,U){var P=[];b.iter(p,U,function(aa){P.push(aa.text)});return P}function na(b,
p){if(p-=b.height)for(;b;b=b.parent)b.height+=p}function Aa(b){if(null==b.parent)return null;var p=b.parent;b=a(p.lines,b);for(var U=p.parent;U;p=U,U=U.parent)for(var P=0;U.children[P]!=p;++P)b+=U.children[P].chunkSize();return b+p.first}function ka(b,p){var U=b.first;a:do{for(var P=0;P<b.children.length;++P){var aa=b.children[P],Fa=aa.height;if(p<Fa){b=aa;continue a}p-=Fa;U+=aa.chunkSize()}return U}while(!b.lines);for(P=0;P<b.lines.length;++P){aa=b.lines[P].height;if(p<aa)break;p-=aa}return U+P}
function Na(b,p){return p>=b.first&&p<b.first+b.size}function $a(b,p){return String(b.lineNumberFormatter(p+b.firstLineNumber))}function Wa(b,p,U){void 0===U&&(U=null);if(!(this instanceof Wa))return new Wa(b,p,U);this.line=b;this.ch=p;this.sticky=U}function Ca(b,p){return b.line-p.line||b.ch-p.ch}function Da(b,p){return b.sticky==p.sticky&&0==Ca(b,p)}function ma(b){return Wa(b.line,b.ch)}function Ea(b,p){return 0>Ca(b,p)?p:b}function Qa(b,p){return 0>Ca(b,p)?b:p}function eb(b,p){if(p.line<b.first)return Wa(b.first,
0);var U=b.first+b.size-1;if(p.line>U)return Wa(U,X(b,U).text.length);b=X(b,p.line).text.length;U=p.ch;p=null==U||U>b?Wa(p.line,b):0>U?Wa(p.line,0):p;return p}function yb(b,p){for(var U=[],P=0;P<p.length;P++)U[P]=eb(b,p[P]);return U}function Qb(b,p,U,P){var aa=[b.state.modeGen],Fa={};kc(b,p.text,b.doc.mode,U,function(ob,Db){return aa.push(ob,Db)},Fa,P);var Ta=U.state;P=function(ob){U.baseTokens=aa;var Db=b.state.overlays[ob],Xb=1,Ic=0;U.state=!0;kc(b,p.text,Db.mode,U,function(pc,nc){for(var gd=Xb;Ic<
pc;){var Md=aa[Xb];Md>pc&&aa.splice(Xb,1,pc,aa[Xb+1],Md);Xb+=2;Ic=Math.min(pc,Md)}if(nc)if(Db.opaque)aa.splice(gd,Xb-gd,pc,"overlay "+nc),Xb=gd+2;else for(;gd<Xb;gd+=2)pc=aa[gd+1],aa[gd+1]=(pc?pc+" ":"")+"overlay "+nc},Fa);U.state=Ta;U.baseTokens=null;U.baseTokenPos=1};for(var Xa=0;Xa<b.state.overlays.length;++Xa)P(Xa);return{styles:aa,classes:Fa.bgClass||Fa.textClass?Fa:null}}function fc(b,p,U){if(!p.styles||p.styles[0]!=b.state.modeGen){var P=ad(b,Aa(p)),aa=p.text.length>b.options.maxHighlightLength&&
qa(b.doc.mode,P.state),Fa=Qb(b,p,P);aa&&(P.state=aa);p.stateAfter=P.save(!aa);p.styles=Fa.styles;Fa.classes?p.styleClasses=Fa.classes:p.styleClasses&&(p.styleClasses=null);U===b.doc.highlightFrontier&&(b.doc.modeFrontier=Math.max(b.doc.modeFrontier,++b.doc.highlightFrontier))}return p.styles}function ad(b,p,U){var P=b.doc,aa=b.display;if(!P.mode.startState)return new Ag(P,!0,p);var Fa=Ec(b,p,U),Ta=Fa>P.first&&X(P,Fa-1).stateAfter,Xa=Ta?Ag.fromSaved(P,Ta,Fa):new Ag(P,T(P.mode),Fa);P.iter(Fa,p,function(ob){ic(b,
ob.text,Xa);var Db=Xa.line;ob.stateAfter=Db==p-1||0==Db%5||Db>=aa.viewFrom&&Db<aa.viewTo?Xa.save():null;Xa.nextLine()});U&&(P.modeFrontier=Xa.line);return Xa}function ic(b,p,U,P){var aa=b.doc.mode;b=new Lf(p,b.options.tabSize,U);b.start=b.pos=P||0;for(""==p&&xc(aa,U.state);!b.eol();)ib(aa,b,U.state),b.start=b.pos}function xc(b,p){if(b.blankLine)return b.blankLine(p);if(b.innerMode&&(b=R(b,p),b.mode.blankLine))return b.mode.blankLine(b.state)}function ib(b,p,U,P){for(var aa=0;10>aa;aa++){P&&(P[0]=
R(b,U).mode);var Fa=b.token(p,U);if(p.pos>p.start)return Fa}throw Error("Mode "+b.name+" failed to advance stream.");}function $b(b,p,U,P){var aa=b.doc,Fa=aa.mode;p=eb(aa,p);var Ta=X(aa,p.line);U=ad(b,p.line,U);b=new Lf(Ta.text,b.options.tabSize,U);var Xa;for(P&&(Xa=[]);(P||b.pos<p.ch)&&!b.eol();){b.start=b.pos;var ob=ib(Fa,b,U.state);P&&Xa.push(new Ki(b,ob,qa(aa.mode,U.state)))}return P?Xa:new Ki(b,ob,U.state)}function bc(b,p){if(b)for(;;){var U=b.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!U)break;
b=b.slice(0,U.index)+b.slice(U.index+U[0].length);var P=U[1]?"bgClass":"textClass";null==p[P]?p[P]=U[2]:(new RegExp("(?:^|\\s)"+U[2]+"(?:$|\\s)")).test(p[P])||(p[P]+=" "+U[2])}return b}function kc(b,p,U,P,aa,Fa,Ta){var Xa=U.flattenSpans;null==Xa&&(Xa=b.options.flattenSpans);var ob=0,Db=null,Xb=new Lf(p,b.options.tabSize,P),Ic=b.options.addModeClass&&[null];for(""==p&&bc(xc(U,P.state),Fa);!Xb.eol();){if(Xb.pos>b.options.maxHighlightLength){Xa=!1;Ta&&ic(b,p,P,Xb.pos);Xb.pos=p.length;var pc=null}else pc=
bc(ib(U,Xb,P.state,Ic),Fa);if(Ic){var nc=Ic[0].name;nc&&(pc="m-"+(pc?nc+" "+pc:nc))}if(!Xa||Db!=pc){for(;ob<Xb.start;)ob=Math.min(Xb.start,ob+5E3),aa(ob,Db);Db=pc}Xb.start=Xb.pos}for(;ob<Xb.pos;)b=Math.min(Xb.pos,ob+5E3),aa(b,Db),ob=b}function Ec(b,p,U){for(var P,aa,Fa=b.doc,Ta=U?-1:p-(b.doc.mode.innerMode?1E3:100);p>Ta;--p){if(p<=Fa.first)return Fa.first;var Xa=X(Fa,p-1),ob=Xa.stateAfter;if(ob&&(!U||p+(ob instanceof Lh?ob.lookAhead:0)<=Fa.modeFrontier))return p;Xa=f(Xa.text,null,b.options.tabSize);
if(null==aa||P>Xa)aa=p-1,P=Xa}return aa}function jc(b,p){b.modeFrontier=Math.min(b.modeFrontier,p);if(!(b.highlightFrontier<p-10)){for(var U=b.first,P=p-1;P>U;P--){var aa=X(b,P).stateAfter;if(aa&&(!(aa instanceof Lh)||P+aa.lookAhead<p)){U=P+1;break}}b.highlightFrontier=Math.min(b.highlightFrontier,U)}}function Oc(b,p,U){this.marker=b;this.from=p;this.to=U}function Hc(b,p){if(b)for(var U=0;U<b.length;++U){var P=b[U];if(P.marker==p)return P}}function Bc(b,p){if(p.full)return null;var U=Na(b,p.from.line)&&
X(b,p.from.line).markedSpans,P=Na(b,p.to.line)&&X(b,p.to.line).markedSpans;if(!U&&!P)return null;b=p.from.ch;var aa=p.to.ch,Fa=0==Ca(p.from,p.to),Ta;if(U)for(var Xa=0;Xa<U.length;++Xa){var ob=U[Xa],Db=ob.marker;if(null==ob.from||(Db.inclusiveLeft?ob.from<=b:ob.from<b)||!(ob.from!=b||"bookmark"!=Db.type||Fa&&ob.marker.insertLeft)){var Xb=null==ob.to||(Db.inclusiveRight?ob.to>=b:ob.to>b);(Ta||(Ta=[])).push(new Oc(Db,ob.from,Xb?null:ob.to))}}U=Ta;var Ic;if(P)for(Ta=0;Ta<P.length;++Ta)if(Xa=P[Ta],ob=
Xa.marker,null==Xa.to||(ob.inclusiveRight?Xa.to>=aa:Xa.to>aa)||Xa.from==aa&&"bookmark"==ob.type&&(!Fa||Xa.marker.insertLeft))Db=null==Xa.from||(ob.inclusiveLeft?Xa.from<=aa:Xa.from<aa),(Ic||(Ic=[])).push(new Oc(ob,Db?null:Xa.from-aa,null==Xa.to?null:Xa.to-aa));P=1==p.text.length;aa=x(p.text).length+(P?b:0);if(U)for(Fa=0;Fa<U.length;++Fa)if(Ta=U[Fa],null==Ta.to)(Xa=Hc(Ic,Ta.marker),Xa)?P&&(Ta.to=null==Xa.to?null:Xa.to+aa):Ta.to=b;if(Ic)for(b=0;b<Ic.length;++b)Fa=Ic[b],null!=Fa.to&&(Fa.to+=aa),null==
Fa.from?Hc(U,Fa.marker)||(Fa.from=aa,P&&(U||(U=[])).push(Fa)):(Fa.from+=aa,P&&(U||(U=[])).push(Fa));U&&(U=td(U));Ic&&Ic!=U&&(Ic=td(Ic));b=[U];if(!P){p=p.text.length-2;var pc;if(0<p&&U)for(P=0;P<U.length;++P)null==U[P].to&&(pc||(pc=[])).push(new Oc(U[P].marker,null,null));for(U=0;U<p;++U)b.push(pc);b.push(Ic)}return b}function td(b){for(var p=0;p<b.length;++p){var U=b[p];null!=U.from&&U.from==U.to&&!1!==U.marker.clearWhenEmpty&&b.splice(p--,1)}return b.length?b:null}function Qd(b,p,U){var P=null;b.iter(p.line,
U.line+1,function(Xb){if(Xb.markedSpans)for(var Ic=0;Ic<Xb.markedSpans.length;++Ic){var pc=Xb.markedSpans[Ic].marker;!pc.readOnly||P&&-1!=a(P,pc)||(P||(P=[])).push(pc)}});if(!P)return null;b=[{from:p,to:U}];for(p=0;p<P.length;++p){U=P[p];for(var aa=U.find(0),Fa=0;Fa<b.length;++Fa){var Ta=b[Fa];if(!(0>Ca(Ta.to,aa.from)||0<Ca(Ta.from,aa.to))){var Xa=[Fa,1],ob=Ca(Ta.from,aa.from),Db=Ca(Ta.to,aa.to);(0>ob||!U.inclusiveLeft&&!ob)&&Xa.push({from:Ta.from,to:aa.from});(0<Db||!U.inclusiveRight&&!Db)&&Xa.push({from:aa.to,
to:Ta.to});b.splice.apply(b,Xa);Fa+=Xa.length-3}}}return b}function jd(b){var p=b.markedSpans;if(p){for(var U=0;U<p.length;++U)p[U].marker.detachLine(b);b.markedSpans=null}}function hd(b,p){if(p){for(var U=0;U<p.length;++U)p[U].marker.attachLine(b);b.markedSpans=p}}function Fd(b,p){var U=b.lines.length-p.lines.length;if(0!=U)return U;U=b.find();var P=p.find(),aa=Ca(U.from,P.from)||(b.inclusiveLeft?-1:0)-(p.inclusiveLeft?-1:0);return aa?-aa:(U=Ca(U.to,P.to)||(b.inclusiveRight?1:0)-(p.inclusiveRight?
1:0))?U:p.id-b.id}function Ib(b,p){b=Hg&&b.markedSpans;if(b)for(var U,P=0;P<b.length;++P)if(U=b[P],U.marker.collapsed&&null==(p?U.from:U.to)&&(!aa||0>Fd(aa,U.marker)))var aa=U.marker;return aa}function Zb(b,p,U,P,aa){b=X(b,p);if(b=Hg&&b.markedSpans)for(p=0;p<b.length;++p){var Fa=b[p];if(Fa.marker.collapsed){var Ta=Fa.marker.find(0),Xa=Ca(Ta.from,U)||(Fa.marker.inclusiveLeft?-1:0)-(aa.inclusiveLeft?-1:0),ob=Ca(Ta.to,P)||(Fa.marker.inclusiveRight?1:0)-(aa.inclusiveRight?1:0);if(!(0<=Xa&&0>=ob||0>=Xa&&
0<=ob)&&(0>=Xa&&(Fa.marker.inclusiveRight&&aa.inclusiveLeft?0<=Ca(Ta.to,U):0<Ca(Ta.to,U))||0<=Xa&&(Fa.marker.inclusiveRight&&aa.inclusiveLeft?0>=Ca(Ta.from,P):0>Ca(Ta.from,P))))return!0}}}function xb(b){for(var p;p=Ib(b,!0);)b=p.find(-1,!0).line;return b}function qc(b,p){b=X(b,p);var U=xb(b);return b==U?p:Aa(U)}function Nc(b,p){if(p>b.lastLine())return p;var U=X(b,p);if(!qd(b,U))return p;for(;b=Ib(U,!1);)U=b.find(1,!0).line;return Aa(U)+1}function qd(b,p){var U=Hg&&p.markedSpans;if(U)for(var P,aa=
0;aa<U.length;++aa)if(P=U[aa],P.marker.collapsed&&(null==P.from||!P.marker.widgetNode&&0==P.from&&P.marker.inclusiveLeft&&Ed(b,p,P)))return!0}function Ed(b,p,U){if(null==U.to)return p=U.marker.find(1,!0),Ed(b,p.line,Hc(p.line.markedSpans,U.marker));if(U.marker.inclusiveRight&&U.to==p.text.length)return!0;for(var P,aa=0;aa<p.markedSpans.length;++aa)if(P=p.markedSpans[aa],P.marker.collapsed&&!P.marker.widgetNode&&P.from==U.to&&(null==P.to||P.to!=U.from)&&(P.marker.inclusiveLeft||U.marker.inclusiveRight)&&
Ed(b,p,P))return!0}function Ga(b){b=xb(b);for(var p=0,U=b.parent,P=0;P<U.lines.length;++P){var aa=U.lines[P];if(aa==b)break;else p+=aa.height}for(b=U.parent;b;U=b,b=U.parent)for(P=0;P<b.children.length&&(aa=b.children[P],aa!=U);++P)p+=aa.height;return p}function ab(b){if(0==b.height)return 0;for(var p=b.text.length,U,P=b;U=Ib(P,!0);)U=U.find(0,!0),P=U.from.line,p+=U.from.ch-U.to.ch;for(P=b;U=Ib(P,!1);)b=U.find(0,!0),p-=P.text.length-b.from.ch,P=b.to.line,p+=P.text.length-b.to.ch;return p}function qb(b){var p=
b.display;b=b.doc;p.maxLine=X(b,b.first);p.maxLineLength=ab(p.maxLine);p.maxLineChanged=!0;b.iter(function(U){var P=ab(U);P>p.maxLineLength&&(p.maxLineLength=P,p.maxLine=U)})}function Bb(b,p){if(!b||/^\s*$/.test(b))return null;p=p.addModeClass?Li:Qj;return p[b]||(p[b]=b.replace(/\S+/g,"cm-$\x26"))}function Tb(b,p){var U=L("span",null,null,Wf?"padding-right: .1px":null);U={pre:L("pre",[U],"CodeMirror-line"),content:U,col:0,pos:0,cm:b,trailingSpace:!1,splitSpaces:b.getOption("lineWrapping")};p.measure=
{};for(var P=0;P<=(p.rest?p.rest.length:0);P++){var aa=P?p.rest[P-1]:p.line,Fa=void 0;U.pos=0;U.addToken=rc;var Ta=b.display.measure;if(null!=ji)Ta=ji;else{var Xa=u(Ta,document.createTextNode("AA")),ob=lh(Xa,0,1).getBoundingClientRect();Xa=lh(Xa,1,2).getBoundingClientRect();l(Ta);Ta=ob&&ob.left!=ob.right?ji=3>Xa.right-ob.right:!1}Ta&&(Fa=fa(aa,b.doc.direction))&&(U.addToken=lc(U.addToken,Fa));U.map=[];var Db=p!=b.display.externalMeasured&&Aa(aa);a:{var Xb=Xa=ob=Ta=void 0,Ic=void 0,pc=void 0,nc=void 0;
Fa=U;Db=fc(b,aa,Db);var gd=aa.markedSpans,Md=aa.text,ve=0;if(gd)for(var bf=Md.length,ke=0,xf=1,lf="",zf=0;;){if(zf==ke){Ic=Xb=Xa=pc="";ob=Ta=null;zf=Infinity;for(var Cf=[],Me=void 0,Af=0;Af<gd.length;++Af){var of=gd[Af],yf=of.marker;if("bookmark"==yf.type&&of.from==ke&&yf.widgetNode)Cf.push(yf);else if(of.from<=ke&&(null==of.to||of.to>ke||yf.collapsed&&of.to==ke&&of.from==ke)){null!=of.to&&of.to!=ke&&zf>of.to&&(zf=of.to,Xb="");yf.className&&(Ic+=" "+yf.className);yf.css&&(pc=(pc?pc+";":"")+yf.css);
yf.startStyle&&of.from==ke&&(Xa+=" "+yf.startStyle);yf.endStyle&&of.to==zf&&(Me||(Me=[])).push(yf.endStyle,of.to);yf.title&&((Ta||(Ta={})).title=yf.title);if(yf.attributes)for(var bg in yf.attributes)(Ta||(Ta={}))[bg]=yf.attributes[bg];yf.collapsed&&(!ob||0>Fd(ob.marker,yf))&&(ob=of)}else of.from>ke&&zf>of.from&&(zf=of.from)}if(Me)for(Af=0;Af<Me.length;Af+=2)Me[Af+1]==zf&&(Xb+=" "+Me[Af]);if(!ob||ob.from==ke)for(Me=0;Me<Cf.length;++Me)kb(Fa,0,Cf[Me]);if(ob&&(ob.from||0)==ke){kb(Fa,(null==ob.to?bf+
1:ob.to)-ke,ob.marker,null==ob.from);if(null==ob.to)break a;ob.to==ke&&(ob=!1)}}if(ke>=bf)break;for(Cf=Math.min(bf,zf);;){if(lf){Me=ke+lf.length;ob||(Af=Me>Cf?lf.slice(0,Cf-ke):lf,Fa.addToken(Fa,Af,nc?nc+Ic:Ic,Xa,ke+Af.length==zf?Xb:"",pc,Ta));if(Me>=Cf){lf=lf.slice(Cf-ke);ke=Cf;break}ke=Me;Xa=""}lf=Md.slice(ve,ve=Db[xf++]);nc=Bb(Db[xf++],Fa.cm.options)}}else for(Ta=1;Ta<Db.length;Ta+=2)Fa.addToken(Fa,Md.slice(ve,ve=Db[Ta]),Bb(Db[Ta+1],Fa.cm.options))}aa.styleClasses&&(aa.styleClasses.bgClass&&(U.bgClass=
k(aa.styleClasses.bgClass,U.bgClass||"")),aa.styleClasses.textClass&&(U.textClass=k(aa.styleClasses.textClass,U.textClass||"")));0==U.map.length&&U.map.push(0,0,U.content.appendChild(gb(b.display.measure)));0==P?(p.measure.map=U.map,p.measure.cache={}):((p.measure.maps||(p.measure.maps=[])).push(U.map),(p.measure.caches||(p.measure.caches=[])).push({}))}Wf&&(bg=U.content.lastChild,/\bcm-tab\b/.test(bg.className)||bg.querySelector&&bg.querySelector(".cm-tab"))&&(U.content.className="cm-tab-wrap-hack");
ca(b,"renderLine",b,p.line,U.pre);U.pre.className&&(U.textClass=k(U.pre.className,U.textClass||""));return U}function Eb(b){var p=G("span","","cm-invalidchar");p.title="\\u"+b.charCodeAt(0).toString(16);p.setAttribute("aria-label",p.title);return p}function rc(b,p,U,P,aa,Fa,Ta){if(p){if(b.splitSpaces){var Xa=b.trailingSpace;if(1<p.length&&!/  /.test(p))Xa=p;else{for(var ob="",Db=0;Db<p.length;Db++){var Xb=p.charAt(Db);" "!=Xb||!Xa||Db!=p.length-1&&32!=p.charCodeAt(Db+1)||(Xb="");ob+=Xb;Xa=" "==
Xb}Xa=ob}}else Xa=p;ob=Xa;Db=b.cm.state.specialChars;Xb=!1;if(Db.test(p)){Xa=document.createDocumentFragment();for(var Ic=0;;){Db.lastIndex=Ic;var pc=Db.exec(p),nc=pc?pc.index-Ic:p.length-Ic;if(nc){var gd=document.createTextNode(ob.slice(Ic,Ic+nc));$e&&9>jf?Xa.appendChild(G("span",[gd])):Xa.appendChild(gd);b.map.push(b.pos,b.pos+nc,gd);b.col+=nc;b.pos+=nc}if(!pc)break;Ic+=nc+1;"\t"==pc[0]?(pc=b.cm.options.tabSize,pc-=b.col%pc,nc=Xa.appendChild(G("span",n(pc),"cm-tab")),nc.setAttribute("role","presentation"),
nc.setAttribute("cm-text","\t"),b.col+=pc):("\r"==pc[0]||"\n"==pc[0]?(nc=Xa.appendChild(G("span","\r"==pc[0]?"":"","cm-invalidchar")),nc.setAttribute("cm-text",pc[0])):(nc=b.cm.options.specialCharPlaceholder(pc[0]),nc.setAttribute("cm-text",pc[0]),$e&&9>jf?Xa.appendChild(G("span",[nc])):Xa.appendChild(nc)),b.col+=1);b.map.push(b.pos,b.pos+1,nc);b.pos++}}else b.col+=p.length,Xa=document.createTextNode(ob),b.map.push(b.pos,b.pos+p.length,Xa),$e&&9>jf&&(Xb=!0),b.pos+=p.length;b.trailingSpace=32==ob.charCodeAt(p.length-
1);if(U||P||aa||Xb||Fa||Ta){p=U||"";P&&(p+=P);aa&&(p+=aa);P=G("span",[Xa],p,Fa);if(Ta)for(var Md in Ta)Ta.hasOwnProperty(Md)&&"style"!=Md&&"class"!=Md&&P.setAttribute(Md,Ta[Md]);return b.content.appendChild(P)}b.content.appendChild(Xa)}}function lc(b,p){return function(U,P,aa,Fa,Ta,Xa,ob){aa=aa?aa+" cm-force-border":"cm-force-border";for(var Db=U.pos,Xb=Db+P.length;;){for(var Ic=void 0,pc=0;pc<p.length&&!(Ic=p[pc],Ic.to>Db&&Ic.from<=Db);pc++);if(Ic.to>=Xb)return b(U,P,aa,Fa,Ta,Xa,ob);b(U,P.slice(0,
Ic.to-Db),aa,Fa,null,Xa,ob);Fa=null;P=P.slice(Ic.to-Db);Db=Ic.to}}}function kb(b,p,U,P){var aa=!P&&U.widgetNode;aa&&b.map.push(b.pos,b.pos+p,aa);!P&&b.cm.display.input.needsContentAttribute&&(aa||(aa=b.content.appendChild(document.createElement("span"))),aa.setAttribute("cm-marker",U.id));aa&&(b.cm.display.input.setUneditable(aa),b.content.appendChild(aa));b.pos+=p;b.trailingSpace=!1}function vb(b,p,U){for(var P=this.line=p,aa;P=Ib(P,!1);)P=P.find(1,!0).line,(aa||(aa=[])).push(P);this.size=(this.rest=
aa)?Aa(x(this.rest))-U+1:1;this.node=this.text=null;this.hidden=qd(b,p)}function Nb(b,p,U){var P=[],aa;for(aa=p;aa<U;)p=new vb(b.doc,X(b.doc,aa),aa),aa+=p.size,P.push(p);return P}function ec(b,p){if(b=b.ownsGroup)try{var U=b.delayedCallbacks,P=0;do{for(;P<U.length;P++)U[P].call(null);for(var aa=0;aa<b.ops.length;aa++){var Fa=b.ops[aa];if(Fa.cursorActivityHandlers)for(;Fa.cursorActivityCalled<Fa.cursorActivityHandlers.length;)Fa.cursorActivityHandlers[Fa.cursorActivityCalled++].call(null,Fa.cm)}}while(P<
U.length)}finally{Xg=null,p(b)}}function tc(b,p){var U=b._handlers&&b._handlers[p]||oh;if(U.length){var P=Array.prototype.slice.call(arguments,2);if(Xg)var aa=Xg.delayedCallbacks;else rh?aa=rh:(aa=rh=[],setTimeout(uc,0));for(var Fa=function(Xa){aa.push(function(){return U[Xa].apply(null,P)})},Ta=0;Ta<U.length;++Ta)Fa(Ta)}}function uc(){var b=rh;rh=null;for(var p=0;p<b.length;++p)b[p]()}function Lc(b,p,U,P){for(var aa=0;aa<p.changes.length;aa++){var Fa=p.changes[aa];if("text"==Fa){Fa=b;var Ta=p,Xa=
Ta.text.className,ob=yc(Fa,Ta);Ta.text==Ta.node&&(Ta.node=ob.pre);Ta.text.parentNode.replaceChild(ob.pre,Ta.text);Ta.text=ob.pre;ob.bgClass!=Ta.bgClass||ob.textClass!=Ta.textClass?(Ta.bgClass=ob.bgClass,Ta.textClass=ob.textClass,vc(Fa,Ta)):Xa&&(Ta.text.className=Xa)}else if("gutter"==Fa)mc(b,p,U,P);else if("class"==Fa)vc(b,p);else if("widget"==Fa){Fa=b;Ta=p;Xa=P;Ta.alignable&&(Ta.alignable=null);ob=m("CodeMirror-linewidget");for(var Db=Ta.node.firstChild,Xb;Db;Db=Xb)Xb=Db.nextSibling,ob.test(Db.className)&&
Ta.node.removeChild(Db);Qc(Fa,Ta,Xa)}}p.changes=null}function Jb(b){b.node==b.text&&(b.node=G("div",null,null,"position: relative"),b.text.parentNode&&b.text.parentNode.replaceChild(b.node,b.text),b.node.appendChild(b.text),$e&&8>jf&&(b.node.style.zIndex=2));return b.node}function yc(b,p){var U=b.display.externalMeasured;return U&&U.line==p.line?(b.display.externalMeasured=null,p.measure=U.measure,U.built):Tb(b,p)}function vc(b,p){var U=p.bgClass?p.bgClass+" "+(p.line.bgClass||""):p.line.bgClass;
U&&(U+=" CodeMirror-linebackground");if(p.background)U?p.background.className=U:(p.background.parentNode.removeChild(p.background),p.background=null);else if(U){var P=Jb(p);p.background=P.insertBefore(G("div",null,U),P.firstChild);b.display.input.setUneditable(p.background)}p.line.wrapClass?Jb(p).className=p.line.wrapClass:p.node!=p.text&&(p.node.className="");p.text.className=(p.textClass?p.textClass+" "+(p.line.textClass||""):p.line.textClass)||""}function mc(b,p,U,P){p.gutter&&(p.node.removeChild(p.gutter),
p.gutter=null);p.gutterBackground&&(p.node.removeChild(p.gutterBackground),p.gutterBackground=null);if(p.line.gutterClass){var aa=Jb(p);p.gutterBackground=G("div",null,"CodeMirror-gutter-background "+p.line.gutterClass,"left: "+(b.options.fixedGutter?P.fixedPos:-P.gutterTotalWidth)+"px; width: "+P.gutterTotalWidth+"px");b.display.input.setUneditable(p.gutterBackground);aa.insertBefore(p.gutterBackground,p.text)}aa=p.line.gutterMarkers;if(b.options.lineNumbers||aa){var Fa=Jb(p),Ta=p.gutter=G("div",
null,"CodeMirror-gutter-wrapper","left: "+(b.options.fixedGutter?P.fixedPos:-P.gutterTotalWidth)+"px");b.display.input.setUneditable(Ta);Fa.insertBefore(Ta,p.text);p.line.gutterClass&&(Ta.className+=" "+p.line.gutterClass);!b.options.lineNumbers||aa&&aa["CodeMirror-linenumbers"]||(p.lineNumber=Ta.appendChild(G("div",$a(b.options,U),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+P.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+b.display.lineNumInnerWidth+"px")));if(aa)for(p=0;p<b.display.gutterSpecs.length;++p)U=
b.display.gutterSpecs[p].className,(Fa=aa.hasOwnProperty(U)&&aa[U])&&Ta.appendChild(G("div",[Fa],"CodeMirror-gutter-elt","left: "+P.gutterLeft[U]+"px; width: "+P.gutterWidth[U]+"px"))}}function Kc(b,p,U,P){var aa=yc(b,p);p.text=p.node=aa.pre;aa.bgClass&&(p.bgClass=aa.bgClass);aa.textClass&&(p.textClass=aa.textClass);vc(b,p);mc(b,p,U,P);Qc(b,p,P);return p.node}function Qc(b,p,U){Zc(b,p.line,p,U,!0);if(p.rest)for(var P=0;P<p.rest.length;P++)Zc(b,p.rest[P],p,U,!1)}function Zc(b,p,U,P,aa){if(p.widgets){var Fa=
Jb(U),Ta=0;for(p=p.widgets;Ta<p.length;++Ta){var Xa=p[Ta],ob=G("div",[Xa.node],"CodeMirror-linewidget"+(Xa.className?" "+Xa.className:""));Xa.handleMouseEvents||ob.setAttribute("cm-ignore-events","true");var Db=Xa,Xb=ob,Ic=P;if(Db.noHScroll){(U.alignable||(U.alignable=[])).push(Xb);var pc=Ic.wrapperWidth;Xb.style.left=Ic.fixedPos+"px";Db.coverGutter||(pc-=Ic.gutterTotalWidth,Xb.style.paddingLeft=Ic.gutterTotalWidth+"px");Xb.style.width=pc+"px"}Db.coverGutter&&(Xb.style.zIndex=5,Xb.style.position=
"relative",Db.noHScroll||(Xb.style.marginLeft=-Ic.gutterTotalWidth+"px"));b.display.input.setUneditable(ob);aa&&Xa.above?Fa.insertBefore(ob,U.gutter||U.text):Fa.appendChild(ob);tc(Xa,"redraw")}}}function nd(b){if(null!=b.height)return b.height;var p=b.doc.cm;if(!p)return 0;if(!w(document.body,b.node)){var U="position: relative;";b.coverGutter&&(U+="margin-left: -"+p.display.gutters.offsetWidth+"px;");b.noHScroll&&(U+="width: "+p.display.wrapper.clientWidth+"px;");u(p.display.measure,G("div",[b.node],
null,U))}return b.height=b.node.parentNode.offsetHeight}function od(b,p){for(p=p.target||p.srcElement;p!=b.wrapper;p=p.parentNode)if(!p||1==p.nodeType&&"true"==p.getAttribute("cm-ignore-events")||p.parentNode==b.sizer&&p!=b.mover)return!0}function Dd(b){return b.mover.offsetHeight-b.lineSpace.offsetHeight}function Jd(b){if(b.cachedPaddingH)return b.cachedPaddingH;var p=u(b.measure,G("pre","x","CodeMirror-line-like"));p=window.getComputedStyle?window.getComputedStyle(p):p.currentStyle;p={left:parseInt(p.paddingLeft),
right:parseInt(p.paddingRight)};isNaN(p.left)||isNaN(p.right)||(b.cachedPaddingH=p);return p}function Ud(b){return 50-b.display.nativeBarWidth}function ie(b){return b.display.scroller.clientWidth-Ud(b)-b.display.barWidth}function ne(b){return b.display.scroller.clientHeight-Ud(b)-b.display.barHeight}function Ee(b,p,U){if(b.line==p)return{map:b.measure.map,cache:b.measure.cache};for(var P=0;P<b.rest.length;P++)if(b.rest[P]==p)return{map:b.measure.maps[P],cache:b.measure.caches[P]};for(p=0;p<b.rest.length;p++)if(Aa(b.rest[p])>
U)return{map:b.measure.maps[p],cache:b.measure.caches[p],before:!0}}function De(b,p){if(p>=b.display.viewFrom&&p<b.display.viewTo)return b.display.view[Zd(b,p)];if((b=b.display.externalMeasured)&&p>=b.lineN&&p<b.lineN+b.size)return b}function Fe(b,p){var U=Aa(p),P=De(b,U);P&&!P.text?P=null:P&&P.changes&&(Lc(b,P,U,Ie(b)),b.curOp.forceUpdate=!0);if(!P){var aa=xb(p);P=Aa(aa);aa=b.display.externalMeasured=new vb(b.doc,aa,P);aa.lineN=P;P=aa.built=Tb(b,aa);aa.text=P.pre;u(b.display.lineMeasure,P.pre);P=
aa}b=Ee(P,p,U);return{line:p,view:P,rect:null,map:b.map,cache:b.cache,before:b.before,hasHeights:!1}}function Id(b,p,U,P,aa){p.before&&(U=-1);var Fa=U+(P||"");if(p.cache.hasOwnProperty(Fa))b=p.cache[Fa];else{p.rect||(p.rect=p.view.text.getBoundingClientRect());if(!p.hasHeights){var Ta=p.view,Xa=p.rect,ob=b.options.lineWrapping,Db=ob&&ie(b);if(!Ta.measure.heights||ob&&Ta.measure.width!=Db){var Xb=Ta.measure.heights=[];if(ob)for(Ta.measure.width=Db,Ta=Ta.text.firstChild.getClientRects(),ob=0;ob<Ta.length-
1;ob++){Db=Ta[ob];var Ic=Ta[ob+1];2<Math.abs(Db.bottom-Ic.bottom)&&Xb.push((Db.bottom+Ic.top)/2-Xa.top)}Xb.push(Xa.bottom-Xa.top)}p.hasHeights=!0}Xb=P;Ta=Td(p.map,U,Xb);P=Ta.node;Xa=Ta.start;ob=Ta.end;U=Ta.collapse;if(3==P.nodeType){for(var pc=0;4>pc;pc++){for(;Xa&&H(p.line.text.charAt(Ta.coverStart+Xa));)--Xa;for(;Ta.coverStart+ob<Ta.coverEnd&&H(p.line.text.charAt(Ta.coverStart+ob));)++ob;if($e&&9>jf&&0==Xa&&ob==Ta.coverEnd-Ta.coverStart)var nc=P.parentNode.getBoundingClientRect();else{nc=lh(P,Xa,
ob).getClientRects();ob=Mi;if("left"==Xb)for(Db=0;Db<nc.length&&(ob=nc[Db]).left==ob.right;Db++);else for(Db=nc.length-1;0<=Db&&(ob=nc[Db]).left==ob.right;Db--);nc=ob}if(nc.left||nc.right||0==Xa)break;ob=Xa;--Xa;U="right"}$e&&11>jf&&((pc=!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI)||(null!=Ii?pc=Ii:(Xb=u(b.display.measure,G("span","x")),pc=Xb.getBoundingClientRect(),Xb=lh(Xb,0,1).getBoundingClientRect(),pc=Ii=1<Math.abs(pc.left-Xb.left)),pc=!pc),pc||(pc=screen.logicalXDPI/
screen.deviceXDPI,Xb=screen.logicalYDPI/screen.deviceYDPI,nc={left:nc.left*pc,right:nc.right*pc,top:nc.top*Xb,bottom:nc.bottom*Xb}))}else 0<Xa&&(U=Xb="right"),nc=b.options.lineWrapping&&1<(pc=P.getClientRects()).length?pc["right"==Xb?pc.length-1:0]:P.getBoundingClientRect();!($e&&9>jf)||Xa||nc&&(nc.left||nc.right)||(nc=(nc=P.parentNode.getClientRects()[0])?{left:nc.left,right:nc.left+de(b.display),top:nc.top,bottom:nc.bottom}:Mi);P=nc.top-p.rect.top;Xa=nc.bottom-p.rect.top;pc=(P+Xa)/2;Xb=p.view.measure.heights;
for(Ta=0;Ta<Xb.length-1&&!(pc<Xb[Ta]);Ta++);U={left:("right"==U?nc.right:nc.left)-p.rect.left,right:("left"==U?nc.left:nc.right)-p.rect.left,top:Ta?Xb[Ta-1]:0,bottom:Xb[Ta]};nc.left||nc.right||(U.bogus=!0);b.options.singleCursorHeightPerLine||(U.rtop=P,U.rbottom=Xa);b=U;b.bogus||(p.cache[Fa]=b)}return{left:b.left,right:b.right,top:aa?b.rtop:b.top,bottom:aa?b.rbottom:b.bottom}}function Td(b,p,U){for(var P,aa,Fa,Ta,Xa,ob,Db=0;Db<b.length;Db+=3){Xa=b[Db];ob=b[Db+1];if(p<Xa)aa=0,Fa=1,Ta="left";else if(p<
ob)aa=p-Xa,Fa=aa+1;else if(Db==b.length-3||p==ob&&b[Db+3]>p)Fa=ob-Xa,aa=Fa-1,p>=ob&&(Ta="right");if(null!=aa){P=b[Db+2];Xa==ob&&U==(P.insertLeft?"left":"right")&&(Ta=U);if("left"==U&&0==aa)for(;Db&&b[Db-2]==b[Db-3]&&b[Db-1].insertLeft;)P=b[(Db-=3)+2],Ta="left";if("right"==U&&aa==ob-Xa)for(;Db<b.length-3&&b[Db+3]==b[Db+4]&&!b[Db+5].insertLeft;)P=b[(Db+=3)+2],Ta="right";break}}return{node:P,start:aa,end:Fa,collapse:Ta,coverStart:Xa,coverEnd:ob}}function af(b){if(b.measure&&(b.measure.cache={},b.measure.heights=
null,b.rest))for(var p=0;p<b.rest.length;p++)b.measure.caches[p]={}}function Be(b){b.display.externalMeasure=null;l(b.display.lineMeasure);for(var p=0;p<b.display.view.length;p++)af(b.display.view[p])}function cf(b){Be(b);b.display.cachedCharWidth=b.display.cachedTextHeight=b.display.cachedPaddingH=null;b.options.lineWrapping||(b.display.maxLineChanged=!0);b.display.lineNumChars=null}function Xd(){return Kg&&jh?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):
window.pageXOffset||(document.documentElement||document.body).scrollLeft}function ae(){return Kg&&jh?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Je(b){var p=0;if(b.widgets)for(var U=0;U<b.widgets.length;++U)b.widgets[U].above&&(p+=nd(b.widgets[U]));return p}function fe(b,p,U,P,aa){aa||(aa=Je(p),U.top+=aa,U.bottom+=aa);if("line"==P)return U;P||(P="local");p=Ga(p);p=
"local"==P?p+b.display.lineSpace.offsetTop:p-b.display.viewOffset;if("page"==P||"window"==P)b=b.display.lineSpace.getBoundingClientRect(),p+=b.top+("window"==P?0:ae()),P=b.left+("window"==P?0:Xd()),U.left+=P,U.right+=P;U.top+=p;U.bottom+=p;return U}function zd(b,p,U){if("div"==U)return p;var P=p.left;p=p.top;"page"==U?(P-=Xd(),p-=ae()):"local"!=U&&U||(U=b.display.sizer.getBoundingClientRect(),P+=U.left,p+=U.top);b=b.display.lineSpace.getBoundingClientRect();return{left:P-b.left,top:p-b.top}}function Gd(b,
p,U,P,aa){P||(P=X(b.doc,p.line));var Fa=P;p=p.ch;P=Id(b,Fe(b,P),p,aa);return fe(b,Fa,P,U)}function ce(b,p,U,P,aa,Fa){function Ta(pc,nc){pc=Id(b,aa,pc,nc?"right":"left",Fa);nc?pc.left=pc.right:pc.right=pc.left;return fe(b,P,pc,U)}function Xa(pc,nc,gd){return Ta(gd?pc-1:pc,1==ob[nc].level!=gd)}P=P||X(b.doc,p.line);aa||(aa=Fe(b,P));var ob=fa(P,b.doc.direction),Db=p.ch;p=p.sticky;Db>=P.text.length?(Db=P.text.length,p="before"):0>=Db&&(Db=0,p="after");if(!ob)return Ta("before"==p?Db-1:Db,"before"==p);
var Xb=ba(ob,Db,p),Ic=ph;Xb=Xa(Db,Xb,"before"==p);null!=Ic&&(Xb.other=Xa(Db,Ic,"before"!=p));return Xb}function Re(b,p){var U=0;p=eb(b.doc,p);b.options.lineWrapping||(U=de(b.display)*p.ch);p=X(b.doc,p.line);b=Ga(p)+b.display.lineSpace.offsetTop;return{left:U,right:U,top:b,bottom:b+p.height}}function me(b,p,U,P,aa){b=Wa(b,p,U);b.xRel=aa;P&&(b.outside=P);return b}function Hd(b,p,U){var P=b.doc;U+=b.display.viewOffset;if(0>U)return me(P.first,0,null,-1,-1);var aa=ka(P,U),Fa=P.first+P.size-1;if(aa>Fa)return me(P.first+
P.size-1,X(P,Fa).text.length,null,1,1);0>p&&(p=0);for(var Ta=X(P,aa);;){Fa=He(b,Ta,aa,p,U);var Xa=void 0;var ob=Fa.ch+(0<Fa.xRel||0<Fa.outside?1:0);if(Ta=Hg&&Ta.markedSpans)for(var Db=0;Db<Ta.length;++Db){var Xb=Ta[Db];Xb.marker.collapsed&&(null==Xb.from||Xb.from<ob)&&(null==Xb.to||Xb.to>ob)&&(!Xa||0>Fd(Xa,Xb.marker))&&(Xa=Xb.marker)}if(!Xa)return Fa;Fa=Xa.find(1);if(Fa.line==aa)return Fa;Ta=X(P,aa=Fa.line)}}function Ge(b,p,U,P){P-=Je(p);p=p.text.length;var aa=S(function(Fa){return Id(b,U,Fa-1).bottom<=
P},p,0);p=S(function(Fa){return Id(b,U,Fa).top>P},aa,p);return{begin:aa,end:p}}function rf(b,p,U,P){U||(U=Fe(b,p));P=fe(b,p,Id(b,U,P),"line").top;return Ge(b,p,U,P)}function zc(b,p,U,P){return b.bottom<=U?!1:b.top>U?!0:(P?b.left:b.right)>p}function He(b,p,U,P,aa){aa-=Ga(p);var Fa=Fe(b,p),Ta=Je(p),Xa=0,ob=p.text.length,Db=!0,Xb=fa(p,b.doc.direction);Xb&&(Xb=(b.options.lineWrapping?dc:oe)(b,p,U,Fa,Xb,P,aa),Xa=(Db=1!=Xb.level)?Xb.from:Xb.to-1,ob=Db?Xb.to:Xb.from-1);var Ic=null,pc=null;Xb=S(function(gd){var Md=
Id(b,Fa,gd);Md.top+=Ta;Md.bottom+=Ta;if(!zc(Md,P,aa,!1))return!1;Md.top<=aa&&Md.left<=P&&(Ic=gd,pc=Md);return!0},Xa,ob);var nc=!1;pc?(Xa=P-pc.left<pc.right-P,Db=Xa==Db,Xb=Ic+(Db?0:1),Db=Db?"after":"before",Xa=Xa?pc.left:pc.right):(Db||Xb!=ob&&Xb!=Xa||Xb++,Db=0==Xb?"after":Xb==p.text.length?"before":Id(b,Fa,Xb-(Db?1:0)).bottom+Ta<=aa==Db?"after":"before",nc=ce(b,Wa(U,Xb,Db),"line",p,Fa),Xa=nc.left,nc=aa<nc.top?-1:aa>=nc.bottom?1:0);Xb=Q(p.text,Xb,1);return me(U,Xb,Db,nc,P-Xa)}function oe(b,p,U,P,aa,
Fa,Ta){var Xa=S(function(Xb){Xb=aa[Xb];var Ic=1!=Xb.level;return zc(ce(b,Wa(U,Ic?Xb.to:Xb.from,Ic?"before":"after"),"line",p,P),Fa,Ta,!0)},0,aa.length-1),ob=aa[Xa];if(0<Xa){var Db=1!=ob.level;Db=ce(b,Wa(U,Db?ob.from:ob.to,Db?"after":"before"),"line",p,P);zc(Db,Fa,Ta,!0)&&Db.top>Ta&&(ob=aa[Xa-1])}return ob}function dc(b,p,U,P,aa,Fa,Ta){Ta=Ge(b,p,P,Ta);U=Ta.begin;Ta=Ta.end;/\s/.test(p.text.charAt(Ta-1))&&Ta--;for(var Xa=p=null,ob=0;ob<aa.length;ob++){var Db=aa[ob];if(!(Db.from>=Ta||Db.to<=U)){var Xb=
Id(b,P,1!=Db.level?Math.min(Ta,Db.to)-1:Math.max(U,Db.from)).right;Xb=Xb<Fa?Fa-Xb+1E9:Xb-Fa;if(!p||Xa>Xb)p=Db,Xa=Xb}}p||(p=aa[aa.length-1]);p.from<U&&(p={from:U,to:p.to,level:p.level});p.to>Ta&&(p={from:p.from,to:Ta,level:p.level});return p}function xe(b){if(null!=b.cachedTextHeight)return b.cachedTextHeight;if(null==sg){sg=G("pre",null,"CodeMirror-line-like");for(var p=0;49>p;++p)sg.appendChild(document.createTextNode("x")),sg.appendChild(G("br"));sg.appendChild(document.createTextNode("x"))}u(b.measure,
sg);p=sg.offsetHeight/50;3<p&&(b.cachedTextHeight=p);l(b.measure);return p||1}function de(b){if(null!=b.cachedCharWidth)return b.cachedCharWidth;var p=G("span","xxxxxxxxxx"),U=G("pre",[p],"CodeMirror-line-like");u(b.measure,U);p=p.getBoundingClientRect();p=(p.right-p.left)/10;2<p&&(b.cachedCharWidth=p);return p||10}function Ie(b){for(var p=b.display,U={},P={},aa=p.gutters.clientLeft,Fa=p.gutters.firstChild,Ta=0;Fa;Fa=Fa.nextSibling,++Ta){var Xa=b.display.gutterSpecs[Ta].className;U[Xa]=Fa.offsetLeft+
Fa.clientLeft+aa;P[Xa]=Fa.clientWidth}return{fixedPos:sf(p),gutterTotalWidth:p.gutters.offsetWidth,gutterLeft:U,gutterWidth:P,wrapperWidth:p.wrapper.clientWidth}}function sf(b){return b.scroller.getBoundingClientRect().left-b.sizer.getBoundingClientRect().left}function ff(b){var p=xe(b.display),U=b.options.lineWrapping,P=U&&Math.max(5,b.display.scroller.clientWidth/de(b.display)-3);return function(aa){if(qd(b.doc,aa))return 0;var Fa=0;if(aa.widgets)for(var Ta=0;Ta<aa.widgets.length;Ta++)aa.widgets[Ta].height&&
(Fa+=aa.widgets[Ta].height);return U?Fa+(Math.ceil(aa.text.length/P)||1)*p:Fa+p}}function mf(b){var p=b.doc,U=ff(b);p.iter(function(P){var aa=U(P);aa!=P.height&&na(P,aa)})}function gf(b,p,U,P){var aa=b.display;if(!U&&"true"==(p.target||p.srcElement).getAttribute("cm-not-content"))return null;U=aa.lineSpace.getBoundingClientRect();try{var Fa=p.clientX-U.left;var Ta=p.clientY-U.top}catch(ob){return null}p=Hd(b,Fa,Ta);var Xa;P&&0<p.xRel&&(Xa=X(b.doc,p.line).text).length==p.ch&&(P=f(Xa,Xa.length,b.options.tabSize)-
Xa.length,p=Wa(p.line,Math.max(0,Math.round((Fa-Jd(b.display).left)/de(b.display))-P)));return p}function Zd(b,p){if(p>=b.display.viewTo)return null;p-=b.display.viewFrom;if(0>p)return null;b=b.display.view;for(var U=0;U<b.length;U++)if(p-=b[U].size,0>p)return U}function sc(b,p,U,P){null==p&&(p=b.doc.first);null==U&&(U=b.doc.first+b.doc.size);P||(P=0);var aa=b.display;P&&U<aa.viewTo&&(null==aa.updateLineNumbers||aa.updateLineNumbers>p)&&(aa.updateLineNumbers=p);b.curOp.viewChanged=!0;if(p>=aa.viewTo)Hg&&
qc(b.doc,p)<aa.viewTo&&Ba(b);else if(U<=aa.viewFrom)Hg&&Nc(b.doc,U+P)>aa.viewFrom?Ba(b):(aa.viewFrom+=P,aa.viewTo+=P);else if(p<=aa.viewFrom&&U>=aa.viewTo)Ba(b);else if(p<=aa.viewFrom){var Fa=Va(b,U,U+P,1);Fa?(aa.view=aa.view.slice(Fa.index),aa.viewFrom=Fa.lineN,aa.viewTo+=P):Ba(b)}else if(U>=aa.viewTo)(Fa=Va(b,p,p,-1))?(aa.view=aa.view.slice(0,Fa.index),aa.viewTo=Fa.lineN):Ba(b);else{Fa=Va(b,p,p,-1);var Ta=Va(b,U,U+P,1);Fa&&Ta?(aa.view=aa.view.slice(0,Fa.index).concat(Nb(b,Fa.lineN,Ta.lineN)).concat(aa.view.slice(Ta.index)),
aa.viewTo+=P):Ba(b)}if(b=aa.externalMeasured)U<b.lineN?b.lineN+=P:p<b.lineN+b.size&&(aa.externalMeasured=null)}function ta(b,p,U){b.curOp.viewChanged=!0;var P=b.display,aa=b.display.externalMeasured;aa&&p>=aa.lineN&&p<aa.lineN+aa.size&&(P.externalMeasured=null);p<P.viewFrom||p>=P.viewTo||(b=P.view[Zd(b,p)],null!=b.node&&(b=b.changes||(b.changes=[]),-1==a(b,U)&&b.push(U)))}function Ba(b){b.display.viewFrom=b.display.viewTo=b.doc.first;b.display.view=[];b.display.viewOffset=0}function Va(b,p,U,P){var aa=
Zd(b,p),Fa=b.display.view;if(!Hg||U==b.doc.first+b.doc.size)return{index:aa,lineN:U};for(var Ta=b.display.viewFrom,Xa=0;Xa<aa;Xa++)Ta+=Fa[Xa].size;if(Ta!=p){if(0<P){if(aa==Fa.length-1)return null;p=Ta+Fa[aa].size-p;aa++}else p=Ta-p;U+=p}for(;qc(b.doc,U)!=U;){if(aa==(0>P?0:Fa.length-1))return null;U+=P*Fa[aa-(0>P?1:0)].size;aa+=P}return{index:aa,lineN:U}}function zb(b){b=b.display.view;for(var p=0,U=0;U<b.length;U++){var P=b[U];P.hidden||P.node&&!P.changes||++p}return p}function pb(b){b.display.input.showSelection(b.display.input.prepareSelection())}
function Rb(b,p){void 0===p&&(p=!0);for(var U=b.doc,P={},aa=P.cursors=document.createDocumentFragment(),Fa=P.selection=document.createDocumentFragment(),Ta=0;Ta<U.sel.ranges.length;Ta++)if(p||Ta!=U.sel.primIndex){var Xa=U.sel.ranges[Ta];if(!(Xa.from().line>=b.display.viewTo||Xa.to().line<b.display.viewFrom)){var ob=Xa.empty();(ob||b.options.showCursorWhenSelecting)&&Vb(b,Xa.head,aa);ob||Vc(b,Xa,Fa)}}return P}function Vb(b,p,U){p=ce(b,p,"div",null,null,!b.options.singleCursorHeightPerLine);var P=U.appendChild(G("div",
"","CodeMirror-cursor"));P.style.left=p.left+"px";P.style.top=p.top+"px";P.style.height=Math.max(0,p.bottom-p.top)*b.options.cursorHeight+"px";p.other&&(b=U.appendChild(G("div","","CodeMirror-cursor CodeMirror-secondarycursor")),b.style.display="",b.style.left=p.other.left+"px",b.style.top=p.other.top+"px",b.style.height=.85*(p.other.bottom-p.other.top)+"px")}function Gc(b,p){return b.top-p.top||b.left-p.left}function Vc(b,p,U){function P(nc,gd,Md,ve){0>gd&&(gd=0);gd=Math.round(gd);ve=Math.round(ve);
Xa.appendChild(G("div",null,"CodeMirror-selected","position: absolute; left: "+nc+"px;\n                             top: "+gd+"px; width: "+(null==Md?Xb-nc:Md)+"px;\n                             height: "+(ve-gd)+"px"))}function aa(nc,gd,Md){function ve(Me,Af){return Gd(b,Wa(nc,Me),"div",ke,Af)}function bf(Me,Af,of){Me=rf(b,ke,null,Me);Af="ltr"==Af==("after"==of)?"left":"right";of="after"==of?Me.begin:Me.end-(/\s/.test(ke.text.charAt(Me.end-1))?2:1);return ve(of,Af)[Af]}var ke=X(Ta,nc),xf=ke.text.length,
lf,zf,Cf=fa(ke,Ta.direction);ea(Cf,gd||0,null==Md?xf:Md,function(Me,Af,of,yf){var bg="ltr"==of,fg=ve(Me,bg?"left":"right"),lg=ve(Af-1,bg?"right":"left"),Pg=null==gd&&0==Me,Yg=null==Md&&Af==xf,pi=0==yf;yf=!Cf||yf==Cf.length-1;3>=lg.top-fg.top?(Af=(Ic?Pg:Yg)&&pi?Db:(bg?fg:lg).left,P(Af,fg.top,((Ic?Yg:Pg)&&yf?Xb:(bg?lg:fg).right)-Af,fg.bottom)):(bg?(bg=Ic&&Pg&&pi?Db:fg.left,Pg=Ic?Xb:bf(Me,of,"before"),Me=Ic?Db:bf(Af,of,"after"),Yg=Ic&&Yg&&yf?Xb:lg.right):(bg=Ic?bf(Me,of,"before"):Db,Pg=!Ic&&Pg&&pi?Xb:
fg.right,Me=!Ic&&Yg&&yf?Db:lg.left,Yg=Ic?bf(Af,of,"after"):Xb),P(bg,fg.top,Pg-bg,fg.bottom),fg.bottom<lg.top&&P(Db,fg.bottom,null,lg.top),P(Me,lg.top,Yg-Me,lg.bottom));if(!lf||0>Gc(fg,lf))lf=fg;0>Gc(lg,lf)&&(lf=lg);if(!zf||0>Gc(fg,zf))zf=fg;0>Gc(lg,zf)&&(zf=lg)});return{start:lf,end:zf}}var Fa=b.display,Ta=b.doc,Xa=document.createDocumentFragment(),ob=Jd(b.display),Db=ob.left,Xb=Math.max(Fa.sizerWidth,ie(b)-Fa.sizer.offsetLeft)-ob.right,Ic="ltr"==Ta.direction;Fa=p.from();p=p.to();if(Fa.line==p.line)aa(Fa.line,
Fa.ch,p.ch);else{var pc=X(Ta,Fa.line);ob=X(Ta,p.line);ob=xb(pc)==xb(ob);Fa=aa(Fa.line,Fa.ch,ob?pc.text.length+1:null).end;p=aa(p.line,ob?0:null,p.ch).start;ob&&(Fa.top<p.top-2?(P(Fa.right,Fa.top,null,Fa.bottom),P(Db,p.top,p.left,p.bottom)):P(Fa.right,Fa.top,p.left-Fa.right,Fa.bottom));Fa.bottom<p.top&&P(Db,Fa.bottom,null,p.top)}U.appendChild(Xa)}function Cc(b){if(b.state.focused){var p=b.display;clearInterval(p.blinker);var U=!0;p.cursorDiv.style.visibility="";0<b.options.cursorBlinkRate?p.blinker=
setInterval(function(){b.hasFocus()||$c(b);p.cursorDiv.style.visibility=(U=!U)?"":"hidden"},b.options.cursorBlinkRate):0>b.options.cursorBlinkRate&&(p.cursorDiv.style.visibility="hidden")}}function Bd(b){b.hasFocus()||(b.display.input.focus(),b.state.focused||rd(b))}function dd(b){b.state.delayingBlurEvent=!0;setTimeout(function(){b.state.delayingBlurEvent&&(b.state.delayingBlurEvent=!1,b.state.focused&&$c(b))},100)}function rd(b,p){b.state.delayingBlurEvent&&!b.state.draggingText&&(b.state.delayingBlurEvent=
!1);"nocursor"!=b.options.readOnly&&(b.state.focused||(ca(b,"focus",b,p),b.state.focused=!0,t(b.display.wrapper,"CodeMirror-focused"),b.curOp||b.display.selForContextMenu==b.doc.sel||(b.display.input.reset(),Wf&&setTimeout(function(){return b.display.input.reset(!0)},20)),b.display.input.receivedFocus()),Cc(b))}function $c(b,p){b.state.delayingBlurEvent||(b.state.focused&&(ca(b,"blur",b,p),b.state.focused=!1,ug(b.display.wrapper,"CodeMirror-focused")),clearInterval(b.display.blinker),setTimeout(function(){b.state.focused||
(b.display.shift=!1)},150))}function Ad(b){for(var p=b.display,U=p.lineDiv.offsetTop,P=0;P<p.view.length;P++){var aa=p.view[P],Fa=b.options.lineWrapping,Ta=0;if(!aa.hidden){if($e&&8>jf){Fa=aa.node.offsetTop+aa.node.offsetHeight;var Xa=Fa-U;U=Fa}else{var ob=aa.node.getBoundingClientRect();Xa=ob.bottom-ob.top;!Fa&&aa.text.firstChild&&(Ta=aa.text.firstChild.getBoundingClientRect().right-ob.left-1)}Fa=aa.line.height-Xa;if(.005<Fa||-.005>Fa)if(na(aa.line,Xa),Sd(aa.line),aa.rest)for(Xa=0;Xa<aa.rest.length;Xa++)Sd(aa.rest[Xa]);
Ta>b.display.sizerWidth&&(Ta=Math.ceil(Ta/de(b.display)),Ta>b.display.maxLineLength&&(b.display.maxLineLength=Ta,b.display.maxLine=aa.line,b.display.maxLineChanged=!0))}}}function Sd(b){if(b.widgets)for(var p=0;p<b.widgets.length;++p){var U=b.widgets[p],P=U.node.parentNode;P&&(U.height=P.offsetHeight)}}function Ye(b,p,U){var P=U&&null!=U.top?Math.max(0,U.top):b.scroller.scrollTop;P=Math.floor(P-b.lineSpace.offsetTop);var aa=U&&null!=U.bottom?U.bottom:P+b.wrapper.clientHeight;P=ka(p,P);aa=ka(p,aa);
if(U&&U.ensure){var Fa=U.ensure.from.line;U=U.ensure.to.line;Fa<P?(P=Fa,aa=ka(p,Ga(X(p,Fa))+b.wrapper.clientHeight)):Math.min(U,p.lastLine())>=aa&&(P=ka(p,Ga(X(p,U))-b.wrapper.clientHeight),aa=U)}return{from:P,to:Math.max(aa,P+1)}}function Ne(b,p){var U=b.display,P=xe(b.display);0>p.top&&(p.top=0);var aa=b.curOp&&null!=b.curOp.scrollTop?b.curOp.scrollTop:U.scroller.scrollTop,Fa=ne(b),Ta={};p.bottom-p.top>Fa&&(p.bottom=p.top+Fa);var Xa=b.doc.height+Dd(U),ob=p.top<P;P=p.bottom>Xa-P;p.top<aa?Ta.scrollTop=
ob?0:p.top:p.bottom>aa+Fa&&(Fa=Math.min(p.top,(P?Xa:p.bottom)-Fa),Fa!=aa&&(Ta.scrollTop=Fa));aa=b.options.fixedGutter?0:U.gutters.offsetWidth;Fa=b.curOp&&null!=b.curOp.scrollLeft?b.curOp.scrollLeft:U.scroller.scrollLeft-aa;b=ie(b)-U.gutters.offsetWidth;if(U=p.right-p.left>b)p.right=p.left+b;10>p.left?Ta.scrollLeft=0:p.left<Fa?Ta.scrollLeft=Math.max(0,p.left+aa-(U?0:10)):p.right>b+Fa-3&&(Ta.scrollLeft=p.right+(U?0:10)-b);return Ta}function Yc(b,p){null!=p&&(Ke(b),b.curOp.scrollTop=(null==b.curOp.scrollTop?
b.doc.scrollTop:b.curOp.scrollTop)+p)}function ye(b){Ke(b);var p=b.getCursor();b.curOp.scrollToPos={from:p,to:p,margin:b.options.cursorScrollMargin}}function Xe(b,p,U){null==p&&null==U||Ke(b);null!=p&&(b.curOp.scrollLeft=p);null!=U&&(b.curOp.scrollTop=U)}function Ke(b){var p=b.curOp.scrollToPos;if(p){b.curOp.scrollToPos=null;var U=Re(b,p.from),P=Re(b,p.to);tf(b,U,P,p.margin)}}function tf(b,p,U,P){p=Ne(b,{left:Math.min(p.left,U.left),top:Math.min(p.top,U.top)-P,right:Math.max(p.right,U.right),bottom:Math.max(p.bottom,
U.bottom)+P});Xe(b,p.scrollLeft,p.scrollTop)}function df(b,p){2>Math.abs(b.doc.scrollTop-p)||(Yf||ze(b,{top:p}),we(b,p,!0),Yf&&ze(b),ud(b,100))}function we(b,p,U){p=Math.max(0,Math.min(b.display.scroller.scrollHeight-b.display.scroller.clientHeight,p));if(b.display.scroller.scrollTop!=p||U)b.doc.scrollTop=p,b.display.scrollbars.setScrollTop(p),b.display.scroller.scrollTop!=p&&(b.display.scroller.scrollTop=p)}function Pe(b,p,U,P){p=Math.max(0,Math.min(p,b.display.scroller.scrollWidth-b.display.scroller.clientWidth));
(U?p==b.doc.scrollLeft:2>Math.abs(b.doc.scrollLeft-p))&&!P||(b.doc.scrollLeft=p,re(b),b.display.scroller.scrollLeft!=p&&(b.display.scroller.scrollLeft=p),b.display.scrollbars.setScrollLeft(p))}function va(b){var p=b.display,U=p.gutters.offsetWidth,P=Math.round(b.doc.height+Dd(b.display));return{clientHeight:p.scroller.clientHeight,viewHeight:p.wrapper.clientHeight,scrollWidth:p.scroller.scrollWidth,clientWidth:p.scroller.clientWidth,viewWidth:p.wrapper.clientWidth,barLeft:b.options.fixedGutter?U:
0,docHeight:P,scrollHeight:P+Ud(b)+p.barHeight,nativeBarWidth:p.nativeBarWidth,gutterWidth:U}}function Ma(b,p){p||(p=va(b));var U=b.display.barWidth,P=b.display.barHeight;rb(b,p);for(p=0;4>p&&U!=b.display.barWidth||P!=b.display.barHeight;p++)U!=b.display.barWidth&&b.options.lineWrapping&&Ad(b),rb(b,va(b)),U=b.display.barWidth,P=b.display.barHeight}function rb(b,p){var U=b.display,P=U.scrollbars.update(p);U.sizer.style.paddingRight=(U.barWidth=P.right)+"px";U.sizer.style.paddingBottom=(U.barHeight=
P.bottom)+"px";U.heightForcer.style.borderBottom=P.bottom+"px solid transparent";P.right&&P.bottom?(U.scrollbarFiller.style.display="block",U.scrollbarFiller.style.height=P.bottom+"px",U.scrollbarFiller.style.width=P.right+"px"):U.scrollbarFiller.style.display="";P.bottom&&b.options.coverGutterNextToScrollbar&&b.options.fixedGutter?(U.gutterFiller.style.display="block",U.gutterFiller.style.height=P.bottom+"px",U.gutterFiller.style.width=p.gutterWidth+"px"):U.gutterFiller.style.display=""}function Pb(b){b.display.scrollbars&&
(b.display.scrollbars.clear(),b.display.scrollbars.addClass&&ug(b.display.wrapper,b.display.scrollbars.addClass));b.display.scrollbars=new Mh[b.options.scrollbarStyle](function(p){b.display.wrapper.insertBefore(p,b.display.scrollbarFiller);ue(p,"mousedown",function(){b.state.focused&&setTimeout(function(){return b.display.input.focus()},0)});p.setAttribute("cm-not-content","true")},function(p,U){"horizontal"==U?Pe(b,p):df(b,p)},b);b.display.scrollbars.addClass&&t(b.display.wrapper,b.display.scrollbars.addClass)}
function Mb(b){b.curOp={cm:b,viewChanged:!1,startHeight:b.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Rj};b=b.curOp;Xg?Xg.ops.push(b):b.ownsGroup=Xg={ops:[b],delayedCallbacks:[]}}function ac(b){(b=b.curOp)&&ec(b,function(p){for(var U=0;U<p.ops.length;U++)p.ops[U].cm.curOp=null;p=p.ops;for(U=0;U<p.length;U++){var P=p[U],aa=P.cm,
Fa=aa.display,Ta=aa.display;!Ta.scrollbarsClipped&&Ta.scroller.offsetWidth&&(Ta.nativeBarWidth=Ta.scroller.offsetWidth-Ta.scroller.clientWidth,Ta.heightForcer.style.height=Ud(aa)+"px",Ta.sizer.style.marginBottom=-Ta.nativeBarWidth+"px",Ta.sizer.style.borderRightWidth=Ud(aa)+"px",Ta.scrollbarsClipped=!0);P.updateMaxLine&&qb(aa);P.mustUpdate=P.viewChanged||P.forceUpdate||null!=P.scrollTop||P.scrollToPos&&(P.scrollToPos.from.line<Fa.viewFrom||P.scrollToPos.to.line>=Fa.viewTo)||Fa.maxLineChanged&&aa.options.lineWrapping;
P.update=P.mustUpdate&&new Oh(aa,P.mustUpdate&&{top:P.scrollTop,ensure:P.scrollToPos},P.forceUpdate)}for(U=0;U<p.length;U++)P=p[U],P.updatedDisplay=P.mustUpdate&&Yd(P.cm,P.update);for(U=0;U<p.length;U++)if(P=p[U],aa=P.cm,Fa=aa.display,P.updatedDisplay&&Ad(aa),P.barMeasure=va(aa),Fa.maxLineChanged&&!aa.options.lineWrapping&&(Ta=Fa.maxLine.text.length,Ta=Id(aa,Fe(aa,Fa.maxLine),Ta,void 0),P.adjustWidthTo=Ta.left+3,aa.display.sizerWidth=P.adjustWidthTo,P.barMeasure.scrollWidth=Math.max(Fa.scroller.clientWidth,
Fa.sizer.offsetLeft+P.adjustWidthTo+Ud(aa)+aa.display.barWidth),P.maxScrollLeft=Math.max(0,Fa.sizer.offsetLeft+P.adjustWidthTo-ie(aa))),P.updatedDisplay||P.selectionChanged)P.preparedSelection=Fa.input.prepareSelection();for(U=0;U<p.length;U++)P=p[U],aa=P.cm,null!=P.adjustWidthTo&&(aa.display.sizer.style.minWidth=P.adjustWidthTo+"px",P.maxScrollLeft<aa.doc.scrollLeft&&Pe(aa,Math.min(aa.display.scroller.scrollLeft,P.maxScrollLeft),!0),aa.display.maxLineChanged=!1),Fa=P.focus&&P.focus==v(),P.preparedSelection&&
aa.display.input.showSelection(P.preparedSelection,Fa),(P.updatedDisplay||P.startHeight!=aa.doc.height)&&Ma(aa,P.barMeasure),P.updatedDisplay&&ge(aa,P.barMeasure),P.selectionChanged&&Cc(aa),aa.state.focused&&P.updateInput&&aa.display.input.reset(P.typing),Fa&&Bd(P.cm);for(U=0;U<p.length;U++){var Xa=void 0;P=p[U];aa=P.cm;Fa=aa.display;Ta=aa.doc;P.updatedDisplay&&vd(aa,P.update);null==Fa.wheelStartX||null==P.scrollTop&&null==P.scrollLeft&&!P.scrollToPos||(Fa.wheelStartX=Fa.wheelStartY=null);null!=P.scrollTop&&
we(aa,P.scrollTop,P.forceScroll);null!=P.scrollLeft&&Pe(aa,P.scrollLeft,!0,!0);if(P.scrollToPos){var ob=eb(Ta,P.scrollToPos.from);var Db=eb(Ta,P.scrollToPos.to);var Xb=P.scrollToPos.margin;null==Xb&&(Xb=0);aa.options.lineWrapping||ob!=Db||(ob=ob.ch?Wa(ob.line,"before"==ob.sticky?ob.ch-1:ob.ch,"after"):ob,Db="before"==ob.sticky?Wa(ob.line,ob.ch+1,"before"):ob);for(var Ic=0;5>Ic;Ic++){var pc=!1;Xa=ce(aa,ob);var nc=Db&&Db!=ob?ce(aa,Db):Xa;Xa={left:Math.min(Xa.left,nc.left),top:Math.min(Xa.top,nc.top)-
Xb,right:Math.max(Xa.left,nc.left),bottom:Math.max(Xa.bottom,nc.bottom)+Xb};nc=Ne(aa,Xa);var gd=aa.doc.scrollTop,Md=aa.doc.scrollLeft;null!=nc.scrollTop&&(df(aa,nc.scrollTop),1<Math.abs(aa.doc.scrollTop-gd)&&(pc=!0));null!=nc.scrollLeft&&(Pe(aa,nc.scrollLeft),1<Math.abs(aa.doc.scrollLeft-Md)&&(pc=!0));if(!pc)break}Db=Xa;N(aa,"scrollCursorIntoView")||(Xb=aa.display,Ic=Xb.sizer.getBoundingClientRect(),ob=null,0>Db.top+Ic.top?ob=!0:Db.bottom+Ic.top>(window.innerHeight||document.documentElement.clientHeight)&&
(ob=!1),null==ob||Ei||(Db=G("div","",null,"position: absolute;\n                         top: "+(Db.top-Xb.viewOffset-aa.display.lineSpace.offsetTop)+"px;\n                         height: "+(Db.bottom-Db.top+Ud(aa)+Xb.barHeight)+"px;\n                         left: "+Db.left+"px; width: "+Math.max(2,Db.right-Db.left)+"px;"),aa.display.lineSpace.appendChild(Db),Db.scrollIntoView(ob),aa.display.lineSpace.removeChild(Db)))}Db=P.maybeHiddenMarkers;ob=P.maybeUnhiddenMarkers;if(Db)for(Xb=0;Xb<Db.length;++Xb)Db[Xb].lines.length||
ca(Db[Xb],"hide");if(ob)for(Db=0;Db<ob.length;++Db)ob[Db].lines.length&&ca(ob[Db],"unhide");Fa.wrapper.offsetHeight&&(Ta.scrollTop=aa.display.scroller.scrollTop);P.changeObjs&&ca(aa,"changes",aa,P.changeObjs);P.update&&P.update.finish()}})}function gc(b,p){if(b.curOp)return p();Mb(b);try{return p()}finally{ac(b)}}function Uc(b,p){return function(){if(b.curOp)return p.apply(b,arguments);Mb(b);try{return p.apply(b,arguments)}finally{ac(b)}}}function Mc(b){return function(){if(this.curOp)return b.apply(this,
arguments);Mb(this);try{return b.apply(this,arguments)}finally{ac(this)}}}function fd(b){return function(){var p=this.cm;if(!p||p.curOp)return b.apply(this,arguments);Mb(p);try{return b.apply(this,arguments)}finally{ac(p)}}}function ud(b,p){b.doc.highlightFrontier<b.display.viewTo&&b.state.highlight.set(p,g(Od,b))}function Od(b){var p=b.doc;if(!(p.highlightFrontier>=b.display.viewTo)){var U=+new Date+b.options.workTime,P=ad(b,p.highlightFrontier),aa=[];p.iter(P.line,Math.min(p.first+p.size,b.display.viewTo+
500),function(Fa){if(P.line>=b.display.viewFrom){var Ta=Fa.styles,Xa=Fa.text.length>b.options.maxHighlightLength?qa(p.mode,P.state):null,ob=Qb(b,Fa,P,!0);Xa&&(P.state=Xa);Fa.styles=ob.styles;Xa=Fa.styleClasses;(ob=ob.classes)?Fa.styleClasses=ob:Xa&&(Fa.styleClasses=null);ob=!Ta||Ta.length!=Fa.styles.length||Xa!=ob&&(!Xa||!ob||Xa.bgClass!=ob.bgClass||Xa.textClass!=ob.textClass);for(Xa=0;!ob&&Xa<Ta.length;++Xa)ob=Ta[Xa]!=Fa.styles[Xa];ob&&aa.push(P.line);Fa.stateAfter=P.save()}else Fa.text.length<=
b.options.maxHighlightLength&&ic(b,Fa.text,P),Fa.stateAfter=0==P.line%5?P.save():null;P.nextLine();if(+new Date>U)return ud(b,b.options.workDelay),!0});p.highlightFrontier=P.line;p.modeFrontier=Math.max(p.modeFrontier,P.line);aa.length&&gc(b,function(){for(var Fa=0;Fa<aa.length;Fa++)ta(b,aa[Fa],"text")})}}function Yd(b,p){var U=b.display,P=b.doc;if(p.editorIsHidden)return Ba(b),!1;if(!p.force&&p.visible.from>=U.viewFrom&&p.visible.to<=U.viewTo&&(null==U.updateLineNumbers||U.updateLineNumbers>=U.viewTo)&&
U.renderedView==U.view&&0==zb(b))return!1;pf(b)&&(Ba(b),p.dims=Ie(b));var aa=P.first+P.size,Fa=Math.max(p.visible.from-b.options.viewportMargin,P.first),Ta=Math.min(aa,p.visible.to+b.options.viewportMargin);U.viewFrom<Fa&&20>Fa-U.viewFrom&&(Fa=Math.max(P.first,U.viewFrom));U.viewTo>Ta&&20>U.viewTo-Ta&&(Ta=Math.min(aa,U.viewTo));Hg&&(Fa=qc(b.doc,Fa),Ta=Nc(b.doc,Ta));P=Fa!=U.viewFrom||Ta!=U.viewTo||U.lastWrapHeight!=p.wrapperHeight||U.lastWrapWidth!=p.wrapperWidth;aa=b.display;0==aa.view.length||Fa>=
aa.viewTo||Ta<=aa.viewFrom?(aa.view=Nb(b,Fa,Ta),aa.viewFrom=Fa):(aa.viewFrom>Fa?aa.view=Nb(b,Fa,aa.viewFrom).concat(aa.view):aa.viewFrom<Fa&&(aa.view=aa.view.slice(Zd(b,Fa))),aa.viewFrom=Fa,aa.viewTo<Ta?aa.view=aa.view.concat(Nb(b,aa.viewTo,Ta)):aa.viewTo>Ta&&(aa.view=aa.view.slice(0,Zd(b,Ta))));aa.viewTo=Ta;U.viewOffset=Ga(X(b.doc,U.viewFrom));b.display.mover.style.top=U.viewOffset+"px";Ta=zb(b);if(!P&&0==Ta&&!p.force&&U.renderedView==U.view&&(null==U.updateLineNumbers||U.updateLineNumbers>=U.viewTo))return!1;
b.hasFocus()?Fa=null:(Fa=v())&&w(b.display.lineDiv,Fa)?(Fa={activeElt:Fa},window.getSelection&&(aa=window.getSelection(),aa.anchorNode&&aa.extend&&w(b.display.lineDiv,aa.anchorNode)&&(Fa.anchorNode=aa.anchorNode,Fa.anchorOffset=aa.anchorOffset,Fa.focusNode=aa.focusNode,Fa.focusOffset=aa.focusOffset))):Fa=null;4<Ta&&(U.lineDiv.style.display="none");Kd(b,U.updateLineNumbers,p.dims);4<Ta&&(U.lineDiv.style.display="");U.renderedView=U.view;(Ta=Fa)&&Ta.activeElt&&Ta.activeElt!=v()&&(Ta.activeElt.focus(),
!/^(INPUT|TEXTAREA)$/.test(Ta.activeElt.nodeName)&&Ta.anchorNode&&w(document.body,Ta.anchorNode)&&w(document.body,Ta.focusNode)&&(Fa=window.getSelection(),aa=document.createRange(),aa.setEnd(Ta.anchorNode,Ta.anchorOffset),aa.collapse(!1),Fa.removeAllRanges(),Fa.addRange(aa),Fa.extend(Ta.focusNode,Ta.focusOffset)));l(U.cursorDiv);l(U.selectionDiv);U.gutters.style.height=U.sizer.style.minHeight=0;P&&(U.lastWrapHeight=p.wrapperHeight,U.lastWrapWidth=p.wrapperWidth,ud(b,400));U.updateLineNumbers=null;
return!0}function vd(b,p){for(var U=p.viewport,P=!0;;P=!1){if(P&&b.options.lineWrapping&&p.oldDisplayWidth!=ie(b))P&&(p.visible=Ye(b.display,b.doc,U));else if(U&&null!=U.top&&(U={top:Math.min(b.doc.height+Dd(b.display)-ne(b),U.top)}),p.visible=Ye(b.display,b.doc,U),p.visible.from>=b.display.viewFrom&&p.visible.to<=b.display.viewTo)break;if(!Yd(b,p))break;Ad(b);P=va(b);pb(b);Ma(b,P);ge(b,P);p.force=!1}p.signal(b,"update",b);if(b.display.viewFrom!=b.display.reportedViewFrom||b.display.viewTo!=b.display.reportedViewTo)p.signal(b,
"viewportChange",b,b.display.viewFrom,b.display.viewTo),b.display.reportedViewFrom=b.display.viewFrom,b.display.reportedViewTo=b.display.viewTo}function ze(b,p){p=new Oh(b,p);if(Yd(b,p)){Ad(b);vd(b,p);var U=va(b);pb(b);Ma(b,U);ge(b,U);p.finish()}}function Kd(b,p,U){function P(pc){var nc=pc.nextSibling;Wf&&rg&&b.display.currentWheelTarget==pc?pc.style.display="none":pc.parentNode.removeChild(pc);return nc}var aa=b.display,Fa=b.options.lineNumbers,Ta=aa.lineDiv,Xa=Ta.firstChild,ob=aa.view;aa=aa.viewFrom;
for(var Db=0;Db<ob.length;Db++){var Xb=ob[Db];if(!Xb.hidden)if(Xb.node&&Xb.node.parentNode==Ta){for(;Xa!=Xb.node;)Xa=P(Xa);Xa=Fa&&null!=p&&p<=aa&&Xb.lineNumber;Xb.changes&&(-1<a(Xb.changes,"gutter")&&(Xa=!1),Lc(b,Xb,aa,U));Xa&&(l(Xb.lineNumber),Xb.lineNumber.appendChild(document.createTextNode($a(b.options,aa))));Xa=Xb.node.nextSibling}else{var Ic=Kc(b,Xb,aa,U);Ta.insertBefore(Ic,Xa)}aa+=Xb.size}for(;Xa;)Xa=P(Xa)}function pe(b){b.sizer.style.marginLeft=b.gutters.offsetWidth+"px"}function ge(b,p){b.display.sizer.style.minHeight=
p.docHeight+"px";b.display.heightForcer.style.top=p.docHeight+"px";b.display.gutters.style.height=p.docHeight+b.display.barHeight+Ud(b)+"px"}function re(b){var p=b.display,U=p.view;if(p.alignWidgets||p.gutters.firstChild&&b.options.fixedGutter){for(var P=sf(p)-p.scroller.scrollLeft+b.doc.scrollLeft,aa=p.gutters.offsetWidth,Fa=P+"px",Ta=0;Ta<U.length;Ta++)if(!U[Ta].hidden){b.options.fixedGutter&&(U[Ta].gutter&&(U[Ta].gutter.style.left=Fa),U[Ta].gutterBackground&&(U[Ta].gutterBackground.style.left=
Fa));var Xa=U[Ta].alignable;if(Xa)for(var ob=0;ob<Xa.length;ob++)Xa[ob].style.left=Fa}b.options.fixedGutter&&(p.gutters.style.left=P+aa+"px")}}function pf(b){if(!b.options.lineNumbers)return!1;var p=b.doc;p=$a(b.options,p.first+p.size-1);var U=b.display;if(p.length!=U.lineNumChars){var P=U.measure.appendChild(G("div",[G("div",p)],"CodeMirror-linenumber CodeMirror-gutter-elt")),aa=P.firstChild.offsetWidth;P=P.offsetWidth-aa;U.lineGutter.style.width="";U.lineNumInnerWidth=Math.max(aa,U.lineGutter.offsetWidth-
P)+1;U.lineNumWidth=U.lineNumInnerWidth+P;U.lineNumChars=U.lineNumInnerWidth?p.length:-1;U.lineGutter.style.width=U.lineNumWidth+"px";pe(b.display);return!0}return!1}function $d(b,p){for(var U=[],P=!1,aa=0;aa<b.length;aa++){var Fa=b[aa],Ta=null;"string"!=typeof Fa&&(Ta=Fa.style,Fa=Fa.className);if("CodeMirror-linenumbers"==Fa)if(p)P=!0;else continue;U.push({className:Fa,style:Ta})}p&&!P&&U.push({className:"CodeMirror-linenumbers",style:null});return U}function Qe(b){var p=b.gutters,U=b.gutterSpecs;
l(p);b.lineGutter=null;for(var P=0;P<U.length;++P){var aa=U[P],Fa=aa.className;aa=aa.style;var Ta=p.appendChild(G("div",null,"CodeMirror-gutter "+Fa));aa&&(Ta.style.cssText=aa);"CodeMirror-linenumbers"==Fa&&(b.lineGutter=Ta,Ta.style.width=(b.lineNumWidth||1)+"px")}p.style.display=U.length?"":"none";pe(b)}function Se(b){Qe(b.display);sc(b);re(b)}function Uf(b,p,U,P){this.input=U;this.scrollbarFiller=G("div",null,"CodeMirror-scrollbar-filler");this.scrollbarFiller.setAttribute("cm-not-content","true");
this.gutterFiller=G("div",null,"CodeMirror-gutter-filler");this.gutterFiller.setAttribute("cm-not-content","true");this.lineDiv=L("div",null,"CodeMirror-code");this.selectionDiv=G("div",null,null,"position: relative; z-index: 1");this.cursorDiv=G("div",null,"CodeMirror-cursors");this.measure=G("div",null,"CodeMirror-measure");this.lineMeasure=G("div",null,"CodeMirror-measure");this.lineSpace=L("div",[this.measure,this.lineMeasure,this.selectionDiv,this.cursorDiv,this.lineDiv],null,"position: relative; outline: none");
var aa=L("div",[this.lineSpace],"CodeMirror-lines");this.mover=G("div",[aa],null,"position: relative");this.sizer=G("div",[this.mover],"CodeMirror-sizer");this.sizerWidth=null;this.heightForcer=G("div",null,null,"position: absolute; height: 50px; width: 1px;");this.gutters=G("div",null,"CodeMirror-gutters");this.lineGutter=null;this.scroller=G("div",[this.sizer,this.heightForcer,this.gutters],"CodeMirror-scroll");this.scroller.setAttribute("tabIndex","-1");this.wrapper=G("div",[this.scrollbarFiller,
this.gutterFiller,this.scroller],"CodeMirror");$e&&8>jf&&(this.gutters.style.zIndex=-1,this.scroller.style.paddingRight=0);Wf||Yf&&kh||(this.scroller.draggable=!0);b&&(b.appendChild?b.appendChild(this.wrapper):b(this.wrapper));this.reportedViewFrom=this.reportedViewTo=this.viewFrom=this.viewTo=p.first;this.view=[];this.externalMeasured=this.renderedView=null;this.lastWrapHeight=this.lastWrapWidth=this.viewOffset=0;this.updateLineNumbers=null;this.nativeBarWidth=this.barHeight=this.barWidth=0;this.scrollbarsClipped=
!1;this.lineNumWidth=this.lineNumInnerWidth=this.lineNumChars=null;this.alignWidgets=!1;this.maxLine=this.cachedCharWidth=this.cachedTextHeight=this.cachedPaddingH=null;this.maxLineLength=0;this.maxLineChanged=!1;this.wheelDX=this.wheelDY=this.wheelStartX=this.wheelStartY=null;this.shift=!1;this.activeTouch=this.selForContextMenu=null;this.gutterSpecs=$d(P.gutters,P.lineNumbers);Qe(this);U.init(this)}function ef(b){var p=b.wheelDeltaX,U=b.wheelDeltaY;null==p&&b.detail&&b.axis==b.HORIZONTAL_AXIS&&
(p=b.detail);null==U&&b.detail&&b.axis==b.VERTICAL_AXIS?U=b.detail:null==U&&(U=b.wheelDelta);return{x:p,y:U}}function Ff(b){b=ef(b);b.x*=jg;b.y*=jg;return b}function sa(b,p){var U=ef(p),P=U.x;U=U.y;var aa=b.display,Fa=aa.scroller,Ta=Fa.scrollWidth>Fa.clientWidth,Xa=Fa.scrollHeight>Fa.clientHeight;if(P&&Ta||U&&Xa){if(U&&rg&&Wf){Ta=p.target;var ob=aa.view;a:for(;Ta!=Fa;Ta=Ta.parentNode)for(var Db=0;Db<ob.length;Db++)if(ob[Db].node==Ta){b.display.currentWheelTarget=Ta;break a}}!P||Yf||dg||null==jg?(U&&
null!=jg&&(p=U*jg,Xa=b.doc.scrollTop,Ta=Xa+aa.wrapper.clientHeight,0>p?Xa=Math.max(0,Xa+p-50):Ta=Math.min(b.doc.height,Ta+p+50),ze(b,{top:Xa,bottom:Ta})),20>Nh&&(null==aa.wheelStartX?(aa.wheelStartX=Fa.scrollLeft,aa.wheelStartY=Fa.scrollTop,aa.wheelDX=P,aa.wheelDY=U,setTimeout(function(){if(null!=aa.wheelStartX){var Xb=Fa.scrollLeft-aa.wheelStartX,Ic=Fa.scrollTop-aa.wheelStartY;Xb=Ic&&aa.wheelDY&&Ic/aa.wheelDY||Xb&&aa.wheelDX&&Xb/aa.wheelDX;aa.wheelStartX=aa.wheelStartY=null;Xb&&(jg=(jg*Nh+Xb)/(Nh+
1),++Nh)}},200)):(aa.wheelDX+=P,aa.wheelDY+=U))):(U&&Xa&&df(b,Math.max(0,Fa.scrollTop+U*jg)),Pe(b,Math.max(0,Fa.scrollLeft+P*jg)),(!U||U&&Xa)&&Y(p),aa.wheelStartX=null)}}function ua(b,p,U){b=b&&b.options.selectionsMayTouch;U=p[U];p.sort(function(ob,Db){return Ca(ob.from(),Db.from())});U=a(p,U);for(var P=1;P<p.length;P++){var aa=p[P],Fa=p[P-1],Ta=Ca(Fa.to(),aa.from());if(b&&!aa.empty()?0<Ta:0<=Ta){Ta=Qa(Fa.from(),aa.from());var Xa=Ea(Fa.to(),aa.to());aa=Fa.empty()?aa.from()==aa.head:Fa.from()==Fa.head;
P<=U&&--U;p.splice(--P,2,new kf(aa?Xa:Ta,aa?Ta:Xa))}}return new kg(p,U)}function Ka(b,p){return new kg([new kf(b,p||b)],0)}function Oa(b){return b.text?Wa(b.from.line+b.text.length-1,x(b.text).length+(1==b.text.length?b.from.ch:0)):b.to}function bb(b,p){if(0>Ca(b,p.from))return b;if(0>=Ca(b,p.to))return Oa(p);var U=b.line+p.text.length-(p.to.line-p.from.line)-1,P=b.ch;b.line==p.to.line&&(P+=Oa(p).ch-p.to.ch);return Wa(U,P)}function db(b,p){for(var U=[],P=0;P<b.sel.ranges.length;P++){var aa=b.sel.ranges[P];
U.push(new kf(bb(aa.anchor,p),bb(aa.head,p)))}return ua(b.cm,U,b.sel.primIndex)}function lb(b,p,U){return b.line==p.line?Wa(U.line,b.ch-p.ch+U.ch):Wa(U.line+(b.line-p.line),b.ch)}function wb(b){b.doc.mode=Ua(b.options,b.doc.modeOption);ub(b)}function ub(b){b.doc.iter(function(p){p.stateAfter&&(p.stateAfter=null);p.styles&&(p.styles=null)});b.doc.modeFrontier=b.doc.highlightFrontier=b.doc.first;ud(b,100);b.state.modeGen++;b.curOp&&sc(b)}function Cb(b,p){return 0==p.from.ch&&0==p.to.ch&&""==x(p.text)&&
(!b.cm||b.cm.options.wholeLineUpdateBefore)}function Hb(b,p,U,P){function aa(gd,Md,ve){gd.text=Md;gd.stateAfter&&(gd.stateAfter=null);gd.styles&&(gd.styles=null);null!=gd.order&&(gd.order=null);jd(gd);hd(gd,ve);Md=P?P(gd):1;Md!=gd.height&&na(gd,Md);tc(gd,"change",gd,p)}function Fa(gd,Md){for(var ve=[];gd<Md;++gd)ve.push(new Ng(ob[gd],U?U[gd]:null,P));return ve}var Ta=p.from,Xa=p.to,ob=p.text,Db=X(b,Ta.line),Xb=X(b,Xa.line),Ic=x(ob),pc=U?U[ob.length-1]:null,nc=Xa.line-Ta.line;p.full?(b.insert(0,Fa(0,
ob.length)),b.remove(ob.length,b.size-ob.length)):Cb(b,p)?(Xa=Fa(0,ob.length-1),aa(Xb,Xb.text,pc),nc&&b.remove(Ta.line,nc),Xa.length&&b.insert(Ta.line,Xa)):Db==Xb?1==ob.length?aa(Db,Db.text.slice(0,Ta.ch)+Ic+Db.text.slice(Xa.ch),pc):(nc=Fa(1,ob.length-1),nc.push(new Ng(Ic+Db.text.slice(Xa.ch),pc,P)),aa(Db,Db.text.slice(0,Ta.ch)+ob[0],U?U[0]:null),b.insert(Ta.line+1,nc)):1==ob.length?(aa(Db,Db.text.slice(0,Ta.ch)+ob[0]+Xb.text.slice(Xa.ch),U?U[0]:null),b.remove(Ta.line+1,nc)):(aa(Db,Db.text.slice(0,
Ta.ch)+ob[0],U?U[0]:null),aa(Xb,Ic+Xb.text.slice(Xa.ch),pc),pc=Fa(1,ob.length-1),1<nc&&b.remove(Ta.line+1,nc-1),b.insert(Ta.line+1,pc));tc(b,"change",b,p)}function Wb(b,p,U){function P(aa,Fa,Ta){if(aa.linked)for(var Xa=0;Xa<aa.linked.length;++Xa){var ob=aa.linked[Xa];if(ob.doc!=Fa){var Db=Ta&&ob.sharedHist;if(!U||Db)p(ob.doc,Db),P(ob.doc,aa,Db)}}}P(b,null,!0)}function oc(b,p){if(p.cm)throw Error("This document is already in use.");b.doc=p;p.cm=b;mf(b);wb(b);V(b);b.options.lineWrapping||qb(b);b.options.mode=
p.modeOption;sc(b)}function V(b){("rtl"==b.doc.direction?t:ug)(b.display.lineDiv,"CodeMirror-rtl")}function la(b){gc(b,function(){V(b);sc(b)})}function La(b){this.done=[];this.undone=[];this.undoDepth=Infinity;this.lastModTime=this.lastSelTime=0;this.lastOrigin=this.lastSelOrigin=this.lastOp=this.lastSelOp=null;this.generation=this.maxGeneration=b||1}function Ra(b,p){var U={from:ma(p.from),to:Oa(p),text:Z(b,p.from,p.to)};hc(b,U,p.from.line,p.to.line+1);Wb(b,function(P){return hc(P,U,p.from.line,p.to.line+
1)},!0);return U}function sb(b){for(;b.length;)if(x(b).ranges)b.pop();else break}function Lb(b,p,U,P){var aa=b.history;aa.undone.length=0;var Fa=+new Date,Ta;if(Ta=aa.lastOp==P||aa.lastOrigin==p.origin&&p.origin&&("+"==p.origin.charAt(0)&&aa.lastModTime>Fa-(b.cm?b.cm.options.historyEventDelay:500)||"*"==p.origin.charAt(0))){if(aa.lastOp==P){sb(aa.done);var Xa=x(aa.done)}else aa.done.length&&!x(aa.done).ranges?Xa=x(aa.done):1<aa.done.length&&!aa.done[aa.done.length-2].ranges?(aa.done.pop(),Xa=x(aa.done)):
Xa=void 0;Ta=Xa}if(Ta){var ob=x(Xa.changes);0==Ca(p.from,p.to)&&0==Ca(p.from,ob.to)?ob.to=Oa(p):Xa.changes.push(Ra(b,p))}else for((Xa=x(aa.done))&&Xa.ranges||Sb(b.sel,aa.done),Xa={changes:[Ra(b,p)],generation:aa.generation},aa.done.push(Xa);aa.done.length>aa.undoDepth;)aa.done.shift(),aa.done[0].ranges||aa.done.shift();aa.done.push(U);aa.generation=++aa.maxGeneration;aa.lastModTime=aa.lastSelTime=Fa;aa.lastOp=aa.lastSelOp=P;aa.lastOrigin=aa.lastSelOrigin=p.origin;ob||ca(b,"historyAdded")}function Sb(b,
p){var U=x(p);U&&U.ranges&&U.equals(b)||p.push(b)}function hc(b,p,U,P){var aa=p["spans_"+b.id],Fa=0;b.iter(Math.max(b.first,U),Math.min(b.first+b.size,P),function(Ta){Ta.markedSpans&&((aa||(aa=p["spans_"+b.id]={}))[Fa]=Ta.markedSpans);++Fa})}function wc(b){if(!b)return null;for(var p,U=0;U<b.length;++U)b[U].marker.explicitlyCleared?p||(p=b.slice(0,U)):p&&p.push(b[U]);return p?p.length?p:null:b}function Sc(b,p){var U;if(U=p["spans_"+b.id]){for(var P=[],aa=0;aa<p.text.length;++aa)P.push(wc(U[aa]));
U=P}else U=null;b=Bc(b,p);if(!U)return b;if(!b)return U;for(p=0;p<U.length;++p)if(P=U[p],aa=b[p],P&&aa){var Fa=0;a:for(;Fa<aa.length;++Fa){for(var Ta=aa[Fa],Xa=0;Xa<P.length;++Xa)if(P[Xa].marker==Ta.marker)continue a;P.push(Ta)}}else aa&&(U[p]=aa);return U}function Pc(b,p,U){for(var P=[],aa=0;aa<b.length;++aa){var Fa=b[aa];if(Fa.ranges)P.push(U?kg.prototype.deepCopy.call(Fa):Fa);else{Fa=Fa.changes;var Ta=[];P.push({changes:Ta});for(var Xa=0;Xa<Fa.length;++Xa){var ob=Fa[Xa],Db;Ta.push({from:ob.from,
to:ob.to,text:ob.text});if(p)for(var Xb in ob)(Db=Xb.match(/^spans_(\d+)$/))&&-1<a(p,Number(Db[1]))&&(x(Ta)[Xb]=ob[Xb],delete ob[Xb])}}}return P}function wd(b,p,U,P){return P?(b=b.anchor,U&&(P=0>Ca(p,b),P!=0>Ca(U,b)?(b=p,p=U):P!=0>Ca(p,U)&&(p=U)),new kf(b,p)):new kf(U||p,p)}function Nd(b,p,U,P,aa){null==aa&&(aa=b.cm&&(b.cm.display.shift||b.extend));Sa(b,new kg([wd(b.sel.primary(),p,U,aa)],0),P)}function cd(b,p,U){for(var P=[],aa=b.cm&&(b.cm.display.shift||b.extend),Fa=0;Fa<b.sel.ranges.length;Fa++)P[Fa]=
wd(b.sel.ranges[Fa],p[Fa],null,aa);p=ua(b.cm,P,b.sel.primIndex);Sa(b,p,U)}function pd(b,p,U,P){var aa=b.sel.ranges.slice(0);aa[p]=U;Sa(b,ua(b.cm,aa,b.sel.primIndex),P)}function Xc(b,p,U){U={ranges:p.ranges,update:function(P){this.ranges=[];for(var aa=0;aa<P.length;aa++)this.ranges[aa]=new kf(eb(b,P[aa].anchor),eb(b,P[aa].head))},origin:U&&U.origin};ca(b,"beforeSelectionChange",b,U);b.cm&&ca(b.cm,"beforeSelectionChange",b.cm,U);return U.ranges!=p.ranges?ua(b.cm,U.ranges,U.ranges.length-1):p}function Ce(b,
p,U){var P=b.history.done,aa=x(P);aa&&aa.ranges?(P[P.length-1]=p,jb(b,p,U)):Sa(b,p,U)}function Sa(b,p,U){jb(b,p,U);p=b.sel;var P=b.cm?b.cm.curOp.id:NaN,aa=b.history,Fa=U&&U.origin,Ta;if(!(Ta=P==aa.lastSelOp)&&(Ta=Fa&&aa.lastSelOrigin==Fa)&&!(Ta=aa.lastModTime==aa.lastSelTime&&aa.lastOrigin==Fa)){Ta=x(aa.done);var Xa=Fa.charAt(0);Ta="*"==Xa||"+"==Xa&&Ta.ranges.length==p.ranges.length&&Ta.somethingSelected()==p.somethingSelected()&&new Date-b.history.lastSelTime<=(b.cm?b.cm.options.historyEventDelay:
500)}Ta?aa.done[aa.done.length-1]=p:Sb(p,aa.done);aa.lastSelTime=+new Date;aa.lastSelOrigin=Fa;aa.lastSelOp=P;U&&!1!==U.clearRedo&&sb(aa.undone)}function jb(b,p,U){if(W(b,"beforeSelectionChange")||b.cm&&W(b.cm,"beforeSelectionChange"))p=Xc(b,p,U);var P=U&&U.bias||(0>Ca(p.primary().head,b.sel.primary().head)?-1:1);tb(b,Ub(b,p,P,!0));U&&!1===U.scroll||!b.cm||"nocursor"==b.cm.getOption("readOnly")||ye(b.cm)}function tb(b,p){p.equals(b.sel)||(b.sel=p,b.cm&&(b.cm.curOp.updateInput=1,b.cm.curOp.selectionChanged=
!0,C(b.cm)),tc(b,"cursorActivity",b))}function Fb(b){tb(b,Ub(b,b.sel,null,!1))}function Ub(b,p,U,P){for(var aa,Fa=0;Fa<p.ranges.length;Fa++){var Ta=p.ranges[Fa],Xa=p.ranges.length==b.sel.ranges.length&&b.sel.ranges[Fa],ob=q(b,Ta.anchor,Xa&&Xa.anchor,U,P);Xa=q(b,Ta.head,Xa&&Xa.head,U,P);if(aa||ob!=Ta.anchor||Xa!=Ta.head)aa||(aa=p.ranges.slice(0,Fa)),aa[Fa]=new kf(ob,Xa)}return aa?ua(b.cm,aa,p.primIndex):p}function Ac(b,p,U,P,aa){var Fa=X(b,p.line);if(Fa.markedSpans)for(var Ta=0;Ta<Fa.markedSpans.length;++Ta){var Xa=
Fa.markedSpans[Ta],ob=Xa.marker,Db="selectLeft"in ob?!ob.selectLeft:ob.inclusiveLeft,Xb="selectRight"in ob?!ob.selectRight:ob.inclusiveRight;if((null==Xa.from||(Db?Xa.from<=p.ch:Xa.from<p.ch))&&(null==Xa.to||(Xb?Xa.to>=p.ch:Xa.to>p.ch))){if(aa&&(ca(ob,"beforeCursorEnter"),ob.explicitlyCleared))if(Fa.markedSpans){--Ta;continue}else break;if(ob.atomic){if(U){Ta=ob.find(0>P?1:-1);Xa=void 0;if(0>P?Xb:Db)Ta=O(b,Ta,-P,Ta&&Ta.line==p.line?Fa:null);if(Ta&&Ta.line==p.line&&(Xa=Ca(Ta,U))&&(0>P?0>Xa:0<Xa))return Ac(b,
Ta,p,P,aa)}U=ob.find(0>P?-1:1);if(0>P?Db:Xb)U=O(b,U,P,U.line==p.line?Fa:null);return U?Ac(b,U,p,P,aa):null}}}return p}function q(b,p,U,P,aa){P=P||1;p=Ac(b,p,U,P,aa)||!aa&&Ac(b,p,U,P,!0)||Ac(b,p,U,-P,aa)||!aa&&Ac(b,p,U,-P,!0);return p?p:(b.cantEdit=!0,Wa(b.first,0))}function O(b,p,U,P){return 0>U&&0==p.ch?p.line>b.first?eb(b,Wa(p.line-1)):null:0<U&&p.ch==(P||X(b,p.line)).text.length?p.line<b.first+b.size-1?Wa(p.line+1,0):null:new Wa(p.line,p.ch+U)}function ja(b){b.setSelection(Wa(b.firstLine(),0),
Wa(b.lastLine()),Kf)}function Ja(b,p,U){var P={canceled:!1,from:p.from,to:p.to,text:p.text,origin:p.origin,cancel:function(){return P.canceled=!0}};U&&(P.update=function(aa,Fa,Ta,Xa){aa&&(P.from=eb(b,aa));Fa&&(P.to=eb(b,Fa));Ta&&(P.text=Ta);void 0!==Xa&&(P.origin=Xa)});ca(b,"beforeChange",b,P);b.cm&&ca(b.cm,"beforeChange",b.cm,P);return P.canceled?(b.cm&&(b.cm.curOp.updateInput=2),null):{from:P.from,to:P.to,text:P.text,origin:P.origin}}function cb(b,p,U){if(b.cm){if(!b.cm.curOp)return Uc(b.cm,cb)(b,
p,U);if(b.cm.state.suppressEdits)return}if(W(b,"beforeChange")||b.cm&&W(b.cm,"beforeChange"))if(p=Ja(b,p,!0),!p)return;if(U=pj&&!U&&Qd(b,p.from,p.to))for(var P=U.length-1;0<=P;--P)fb(b,{from:U[P].from,to:U[P].to,text:P?[""]:p.text,origin:p.origin});else fb(b,p)}function fb(b,p){if(1!=p.text.length||""!=p.text[0]||0!=Ca(p.from,p.to)){var U=db(b,p);Lb(b,p,U,b.cm?b.cm.curOp.id:NaN);Yb(b,p,U,Bc(b,p));var P=[];Wb(b,function(aa,Fa){Fa||-1!=a(P,aa.history)||(ed(aa.history,p),P.push(aa.history));Yb(aa,p,
null,Bc(aa,p))})}}function nb(b,p,U){var P=b.cm&&b.cm.state.suppressEdits;if(!P||U){for(var aa=b.history,Fa,Ta=b.sel,Xa="undo"==p?aa.done:aa.undone,ob="undo"==p?aa.undone:aa.done,Db=0;Db<Xa.length&&(Fa=Xa[Db],U?!Fa.ranges||Fa.equals(b.sel):Fa.ranges);Db++);if(Db!=Xa.length){for(aa.lastOrigin=aa.lastSelOrigin=null;;)if(Fa=Xa.pop(),Fa.ranges){Sb(Fa,ob);if(U&&!Fa.equals(b.sel)){Sa(b,Fa,{clearRedo:!1});return}Ta=Fa}else{if(P){Xa.push(Fa);return}break}var Xb=[];Sb(Ta,ob);ob.push({changes:Xb,generation:aa.generation});
aa.generation=Fa.generation||++aa.maxGeneration;var Ic=W(b,"beforeChange")||b.cm&&W(b.cm,"beforeChange");U=function(pc){var nc=Fa.changes[pc];nc.origin=p;if(Ic&&!Ja(b,nc,!1))return Xa.length=0,{};Xb.push(Ra(b,nc));var gd=pc?db(b,nc):x(Xa);Yb(b,nc,gd,Sc(b,nc));!pc&&b.cm&&b.cm.scrollIntoView({from:nc.from,to:Oa(nc)});var Md=[];Wb(b,function(ve,bf){bf||-1!=a(Md,ve.history)||(ed(ve.history,nc),Md.push(ve.history));Yb(ve,nc,null,Sc(ve,nc))})};for(P=Fa.changes.length-1;0<=P;--P)if(aa=U(P))return aa.v}}}
function Kb(b,p){if(0!=p&&(b.first+=p,b.sel=new kg(z(b.sel.ranges,function(aa){return new kf(Wa(aa.anchor.line+p,aa.anchor.ch),Wa(aa.head.line+p,aa.head.ch))}),b.sel.primIndex),b.cm)){sc(b.cm,b.first,b.first-p,p);for(var U=b.cm.display,P=U.viewFrom;P<U.viewTo;P++)ta(b.cm,P,"gutter")}}function Yb(b,p,U,P){if(b.cm&&!b.cm.curOp)return Uc(b.cm,Yb)(b,p,U,P);if(p.to.line<b.first)Kb(b,p.text.length-1-(p.to.line-p.from.line));else if(!(p.from.line>b.lastLine())){if(p.from.line<b.first){var aa=p.text.length-
1-(b.first-p.from.line);Kb(b,aa);p={from:Wa(b.first,0),to:Wa(p.to.line+aa,p.to.ch),text:[x(p.text)],origin:p.origin}}aa=b.lastLine();p.to.line>aa&&(p={from:p.from,to:Wa(aa,X(b,aa).text.length),text:[p.text[0]],origin:p.origin});p.removed=Z(b,p.from,p.to);U||(U=db(b,p));b.cm?Ob(b.cm,p,P):Hb(b,p,P);jb(b,U,Kf);b.cantEdit&&q(b,Wa(b.firstLine(),0))&&(b.cantEdit=!1)}}function Ob(b,p,U){var P=b.doc,aa=b.display,Fa=p.from,Ta=p.to,Xa=!1,ob=Fa.line;b.options.lineWrapping||(ob=Aa(xb(X(P,Fa.line))),P.iter(ob,
Ta.line+1,function(Db){if(Db==aa.maxLine)return Xa=!0}));-1<P.sel.contains(p.from,p.to)&&C(b);Hb(P,p,U,ff(b));b.options.lineWrapping||(P.iter(ob,Fa.line+p.text.length,function(Db){var Xb=ab(Db);Xb>aa.maxLineLength&&(aa.maxLine=Db,aa.maxLineLength=Xb,aa.maxLineChanged=!0,Xa=!1)}),Xa&&(b.curOp.updateMaxLine=!0));jc(P,Fa.line);ud(b,400);U=p.text.length-(Ta.line-Fa.line)-1;p.full?sc(b):Fa.line!=Ta.line||1!=p.text.length||Cb(b.doc,p)?sc(b,Fa.line,Ta.line+1,U):ta(b,Fa.line,"text");U=W(b,"changes");if((P=
W(b,"change"))||U)p={from:Fa,to:Ta,text:p.text,removed:p.removed,origin:p.origin},P&&tc(b,"change",b,p),U&&(b.curOp.changeObjs||(b.curOp.changeObjs=[])).push(p);b.display.selForContextMenu=null}function Fc(b,p,U,P,aa){P||(P=U);0>Ca(P,U)&&(P=[P,U],U=P[0],P=P[1]);"string"==typeof p&&(p=b.splitLines(p));cb(b,{from:U,to:P,text:p,origin:aa})}function Rc(b,p,U,P){U<b.line?b.line+=P:p<b.line&&(b.line=p,b.ch=0)}function md(b,p,U,P){for(var aa=0;aa<b.length;++aa){var Fa=b[aa],Ta=!0;if(Fa.ranges)for(Fa.copied||
(Fa=b[aa]=Fa.deepCopy(),Fa.copied=!0),Ta=0;Ta<Fa.ranges.length;Ta++)Rc(Fa.ranges[Ta].anchor,p,U,P),Rc(Fa.ranges[Ta].head,p,U,P);else{for(var Xa=0;Xa<Fa.changes.length;++Xa){var ob=Fa.changes[Xa];if(U<ob.from.line)ob.from=Wa(ob.from.line+P,ob.from.ch),ob.to=Wa(ob.to.line+P,ob.to.ch);else if(p<=ob.to.line){Ta=!1;break}}Ta||(b.splice(0,aa+1),aa=0)}}}function ed(b,p){var U=p.from.line,P=p.to.line;p=p.text.length-(P-U)-1;md(b.done,U,P,p);md(b.undone,U,P,p)}function Wc(b,p,U,P){var aa=p,Fa=p;"number"==
typeof p?Fa=X(b,Math.max(b.first,Math.min(p,b.first+b.size-1))):aa=Aa(p);if(null==aa)return null;P(Fa,aa)&&b.cm&&ta(b.cm,aa,U);return Fa}function Dc(b){this.lines=b;this.parent=null;for(var p=0,U=0;U<b.length;++U)b[U].parent=this,p+=b[U].height;this.height=p}function ld(b){this.children=b;for(var p=0,U=0,P=0;P<b.length;++P){var aa=b[P];p+=aa.chunkSize();U+=aa.height;aa.parent=this}this.size=p;this.height=U;this.parent=null}function Pd(b,p,U,P){var aa=new sh(b,U,P),Fa=b.cm;Fa&&aa.noHScroll&&(Fa.display.alignWidgets=
!0);Wc(b,p,"widget",function(Ta){var Xa=Ta.widgets||(Ta.widgets=[]);null==aa.insertAt?Xa.push(aa):Xa.splice(Math.min(Xa.length,Math.max(0,aa.insertAt)),0,aa);aa.line=Ta;Fa&&!qd(b,Ta)&&(Xa=Ga(Ta)<b.scrollTop,na(Ta,Ta.height+nd(aa)),Xa&&Yc(Fa,aa.height),Fa.curOp.forceUpdate=!0);return!0});Fa&&tc(Fa,"lineWidgetAdded",Fa,aa,"number"==typeof p?p:Aa(p));return aa}function Ld(b,p,U,P,aa){if(P&&P.shared)return ee(b,p,U,P,aa);if(b.cm&&!b.cm.curOp)return Uc(b.cm,Ld)(b,p,U,P,aa);var Fa=new vg(b,aa);aa=Ca(p,
U);P&&d(P,Fa,!1);if(0<aa||0==aa&&!1!==Fa.clearWhenEmpty)return Fa;Fa.replacedWith&&(Fa.collapsed=!0,Fa.widgetNode=L("span",[Fa.replacedWith],"CodeMirror-widget"),P.handleMouseEvents||Fa.widgetNode.setAttribute("cm-ignore-events","true"),P.insertLeft&&(Fa.widgetNode.insertLeft=!0));if(Fa.collapsed){if(Zb(b,p.line,p,U,Fa)||p.line!=U.line&&Zb(b,U.line,p,U,Fa))throw Error("Inserting collapsed marker partially overlapping an existing one");Hg=!0}Fa.addToHistory&&Lb(b,{from:p,to:U,origin:"markText"},b.sel,
NaN);var Ta=p.line,Xa=b.cm,ob;b.iter(Ta,U.line+1,function(Db){Xa&&Fa.collapsed&&!Xa.options.lineWrapping&&xb(Db)==Xa.display.maxLine&&(ob=!0);Fa.collapsed&&Ta!=p.line&&na(Db,0);var Xb=new Oc(Fa,Ta==p.line?p.ch:null,Ta==U.line?U.ch:null);Db.markedSpans=Db.markedSpans?Db.markedSpans.concat([Xb]):[Xb];Xb.marker.attachLine(Db);++Ta});Fa.collapsed&&b.iter(p.line,U.line+1,function(Db){qd(b,Db)&&na(Db,0)});Fa.clearOnEnter&&ue(Fa,"beforeCursorEnter",function(){return Fa.clear()});Fa.readOnly&&(pj=!0,(b.history.done.length||
b.history.undone.length)&&b.clearHistory());Fa.collapsed&&(Fa.id=++ki,Fa.atomic=!0);if(Xa){ob&&(Xa.curOp.updateMaxLine=!0);if(Fa.collapsed)sc(Xa,p.line,U.line+1);else if(Fa.className||Fa.startStyle||Fa.endStyle||Fa.css||Fa.attributes||Fa.title)for(P=p.line;P<=U.line;P++)ta(Xa,P,"text");Fa.atomic&&Fb(Xa.doc);tc(Xa,"markerAdded",Xa,Fa)}return Fa}function ee(b,p,U,P,aa){P=d(P);P.shared=!1;var Fa=[Ld(b,p,U,P,aa)],Ta=Fa[0],Xa=P.widgetNode;Wb(b,function(ob){Xa&&(P.widgetNode=Xa.cloneNode(!0));Fa.push(Ld(ob,
eb(ob,p),eb(ob,U),P,aa));for(var Db=0;Db<ob.linked.length;++Db)if(ob.linked[Db].isParent)return;Ta=x(Fa)});return new th(Fa,Ta)}function be(b){return b.findMarks(Wa(b.first,0),b.clipPos(Wa(b.lastLine())),function(p){return p.parent})}function nf(b){for(var p=function(P){P=b[P];var aa=[P.primary.doc];Wb(P.primary.doc,function(Xa){return aa.push(Xa)});for(var Fa=0;Fa<P.markers.length;Fa++){var Ta=P.markers[Fa];-1==a(aa,Ta.doc)&&(Ta.parent=null,P.markers.splice(Fa--,1))}},U=0;U<b.length;U++)p(U)}function Rd(b){var p=
this;Vd(p);if(!N(p,b)&&!od(p.display,b)){Y(b);$e&&(li=+new Date);var U=gf(p,b,!0),P=b.dataTransfer.files;if(U&&!p.isReadOnly())if(P&&P.length&&window.FileReader&&window.File)for(var aa=P.length,Fa=Array(aa),Ta=0,Xa=function(){++Ta==aa&&Uc(p,function(){U=eb(p.doc,U);var Xb={from:U,to:U,text:p.doc.splitLines(Fa.filter(function(Ic){return null!=Ic}).join(p.doc.lineSeparator())),origin:"paste"};cb(p.doc,Xb);Ce(p.doc,Ka(eb(p.doc,U),eb(p.doc,Oa(Xb))))})()},ob=function(Xb,Ic){if(p.options.allowDropFileTypes&&
-1==a(p.options.allowDropFileTypes,Xb.type))Xa();else{var pc=new FileReader;pc.onerror=function(){return Xa()};pc.onload=function(){var nc=pc.result;/[\x00-\x08\x0e-\x1f]{2}/.test(nc)||(Fa[Ic]=nc);Xa()};pc.readAsText(Xb)}},Db=0;Db<P.length;Db++)ob(P[Db],Db);else if(p.state.draggingText&&-1<p.doc.sel.contains(U))p.state.draggingText(b),setTimeout(function(){return p.display.input.focus()},20);else try{if(ob=b.dataTransfer.getData("Text")){p.state.draggingText&&!p.state.draggingText.copy&&(Db=p.listSelections());
jb(p.doc,Ka(U,U));if(Db)for(P=0;P<Db.length;++P)Fc(p.doc,"",Db[P].anchor,Db[P].head,"drag");p.replaceSelection(ob,"around","paste");p.display.input.focus()}}catch(Xb){}}}function Vd(b){b.display.dragCursor&&(b.display.lineSpace.removeChild(b.display.dragCursor),b.display.dragCursor=null)}function se(b){if(document.getElementsByClassName){for(var p=document.getElementsByClassName("CodeMirror"),U=[],P=0;P<p.length;P++){var aa=p[P].CodeMirror;aa&&U.push(aa)}U.length&&U[0].operation(function(){for(var Fa=
0;Fa<U.length;Fa++)b(U[Fa])})}}function kd(){var b;ue(window,"resize",function(){null==b&&(b=setTimeout(function(){b=null;se(te)},100))});ue(window,"blur",function(){return se($c)})}function te(b){var p=b.display;p.cachedCharWidth=p.cachedTextHeight=p.cachedPaddingH=null;p.scrollbarsClipped=!1;b.setSize()}function Gf(b){var p=b.split(/-(?!$)/);b=p[p.length-1];for(var U,P,aa,Fa,Ta=0;Ta<p.length-1;Ta++){var Xa=p[Ta];if(/^(cmd|meta|m)$/i.test(Xa))Fa=!0;else if(/^a(lt)?$/i.test(Xa))U=!0;else if(/^(c|ctrl|control)$/i.test(Xa))P=
!0;else if(/^s(hift)?$/i.test(Xa))aa=!0;else throw Error("Unrecognized modifier name: "+Xa);}U&&(b="Alt-"+b);P&&(b="Ctrl-"+b);Fa&&(b="Cmd-"+b);aa&&(b="Shift-"+b);return b}function Ae(b){var p={},U;for(U in b)if(b.hasOwnProperty(U)){var P=b[U];if(!/^(name|fallthrough|(de|at)tach)$/.test(U)){if("..."!=P)for(var aa=z(U.split(" "),Gf),Fa=0;Fa<aa.length;Fa++){if(Fa==aa.length-1){var Ta=aa.join(" ");var Xa=P}else Ta=aa.slice(0,Fa+1).join(" "),Xa="...";var ob=p[Ta];if(!ob)p[Ta]=Xa;else if(ob!=Xa)throw Error("Inconsistent bindings for "+
Ta);}delete b[U]}}for(var Db in p)b[Db]=p[Db];return b}function uf(b,p,U,P){p=Df(p);var aa=p.call?p.call(b,P):p[b];if(!1===aa)return"nothing";if("..."===aa)return"multi";if(null!=aa&&U(aa))return"handled";if(p.fallthrough){if("[object Array]"!=Object.prototype.toString.call(p.fallthrough))return uf(b,p.fallthrough,U,P);for(aa=0;aa<p.fallthrough.length;aa++){var Fa=uf(b,p.fallthrough[aa],U,P);if(Fa)return Fa}}}function Ze(b){b="string"==typeof b?b:Dg[b.keyCode];return"Ctrl"==b||"Alt"==b||"Shift"==
b||"Mod"==b}function Ve(b,p,U){var P=b;p.altKey&&"Alt"!=P&&(b="Alt-"+b);(Fi?p.metaKey:p.ctrlKey)&&"Ctrl"!=P&&(b="Ctrl-"+b);(Fi?p.ctrlKey:p.metaKey)&&"Mod"!=P&&(b="Cmd-"+b);!U&&p.shiftKey&&"Shift"!=P&&(b="Shift-"+b);return b}function hf(b,p){if(dg&&34==b.keyCode&&b["char"])return!1;var U=Dg[b.keyCode];if(null==U||b.altGraphKey)return!1;3==b.keyCode&&b.code&&(U=b.code);return Ve(U,b,p)}function Df(b){return"string"==typeof b?wh[b]:b}function Zf(b,p){for(var U=b.doc.sel.ranges,P=[],aa=0;aa<U.length;aa++){for(var Fa=
p(U[aa]);P.length&&0>=Ca(Fa.from,x(P).to);){var Ta=P.pop();if(0>Ca(Ta.from,Fa.from)){Fa.from=Ta.from;break}}P.push(Fa)}gc(b,function(){for(var Xa=P.length-1;0<=Xa;Xa--)Fc(b.doc,"",P[Xa].from,P[Xa].to,"+delete");ye(b)})}function tg(b,p,U){p=Q(b.text,p+U,U);return 0>p||p>b.text.length?null:p}function Dh(b,p,U){b=tg(b,p.ch,U);return null==b?null:new Wa(p.line,b,0>U?"after":"before")}function eh(b,p,U,P,aa){if(b&&("rtl"==p.doc.direction&&(aa=-aa),b=fa(U,p.doc.direction))){b=0>aa?x(b):b[0];var Fa=0>aa==
(1==b.level)?"after":"before";if(0<b.level||"rtl"==p.doc.direction){var Ta=Fe(p,U);var Xa=0>aa?U.text.length-1:0;var ob=Id(p,Ta,Xa).top;Xa=S(function(Db){return Id(p,Ta,Db).top==ob},0>aa==(1==b.level)?b.from:b.to-1,Xa);"before"==Fa&&(Xa=tg(U,Xa,1))}else Xa=0>aa?b.to:b.from;return new Wa(P,Xa,Fa)}return new Wa(P,0>aa?U.text.length:0,0>aa?"before":"after")}function Xi(b,p,U,P){var aa=fa(p,b.doc.direction);if(!aa)return Dh(p,U,P);U.ch>=p.text.length?(U.ch=p.text.length,U.sticky="before"):0>=U.ch&&(U.ch=
0,U.sticky="after");var Fa=ba(aa,U.ch,U.sticky),Ta=aa[Fa];if("ltr"==b.doc.direction&&0==Ta.level%2&&(0<P?Ta.to>U.ch:Ta.from<U.ch))return Dh(p,U,P);var Xa=function(nc,gd){return tg(p,nc instanceof Wa?nc.ch:nc,gd)},ob,Db=function(nc){if(!b.options.lineWrapping)return{begin:0,end:p.text.length};ob=ob||Fe(b,p);return rf(b,p,ob,nc)},Xb=Db("before"==U.sticky?Xa(U,-1):U.ch);if("rtl"==b.doc.direction||1==Ta.level){var Ic=1==Ta.level==0>P,pc=Xa(U,Ic?1:-1);if(null!=pc&&(Ic?pc<=Ta.to&&pc<=Xb.end:pc>=Ta.from&&
pc>=Xb.begin))return new Wa(U.line,pc,Ic?"before":"after")}Ta=function(nc,gd,Md){for(var ve=function(lf,zf){return zf?new Wa(U.line,Xa(lf,1),"before"):new Wa(U.line,lf,"after")};0<=nc&&nc<aa.length;nc+=gd){var bf=aa[nc],ke=0<gd==(1!=bf.level),xf=ke?Md.begin:Xa(Md.end,-1);if(bf.from<=xf&&xf<bf.to)return ve(xf,ke);xf=ke?bf.from:Xa(bf.to,-1);if(Md.begin<=xf&&xf<Md.end)return ve(xf,ke)}};if(Fa=Ta(Fa+P,P,Xb))return Fa;Xb=0<P?Xb.end:Xa(Xb.begin,-1);return null==Xb||0<P&&Xb==p.text.length||!(Fa=Ta(0<P?0:
aa.length-1,P,Db(Xb)))?null:Fa}function wi(b,p){var U=X(b.doc,p),P=xb(U);P!=U&&(p=Aa(P));return eh(!0,b,P,p,1)}function vi(b,p){var U=wi(b,p.line),P=X(b.doc,U.line);b=fa(P,b.doc.direction);return b&&0!=b[0].level?U:(P=Math.max(U.ch,P.text.search(/\S/)),Wa(U.line,p.line==U.line&&p.ch<=P&&p.ch?0:P,U.sticky))}function $h(b,p,U){if("string"==typeof p&&(p=xh[p],!p))return!1;b.display.input.ensurePolled();var P=b.display.shift,aa=!1;try{b.isReadOnly()&&(b.state.suppressEdits=!0),U&&(b.display.shift=!1),
aa=p(b)!=Vg}finally{b.display.shift=P,b.state.suppressEdits=!1}return aa}function Eh(b,p,U,P){var aa=b.state.keySeq;if(aa){if(Ze(p))return"handled";/'$/.test(p)?b.state.keySeq=null:rj.set(50,function(){b.state.keySeq==aa&&(b.state.keySeq=null,b.display.input.reset())});if(Yi(b,aa+" "+p,U,P))return!0}return Yi(b,p,U,P)}function Yi(b,p,U,P){a:{for(var aa=0;aa<b.state.keyMaps.length;aa++){var Fa=uf(p,b.state.keyMaps[aa],P,b);if(Fa){P=Fa;break a}}P=b.options.extraKeys&&uf(p,b.options.extraKeys,P,b)||
uf(p,b.options.keyMap,P,b)}"multi"==P&&(b.state.keySeq=p);"handled"==P&&tc(b,"keyHandled",b,p,U);if("handled"==P||"multi"==P)Y(U),Cc(b);return!!P}function Tf(b,p){var U=hf(p,!0);return U?p.shiftKey&&!b.state.keySeq?Eh(b,"Shift-"+U,p,function(P){return $h(b,P,!0)})||Eh(b,U,p,function(P){if("string"==typeof P?/^go[A-Z]/.test(P):P.motion)return $h(b,P)}):Eh(b,U,p,function(P){return $h(b,P)}):!1}function Zi(b,p,U){return Eh(b,"'"+U+"'",p,function(P){return $h(b,P,!0)})}function $i(b){if(!b.target||b.target==
this.display.input.getField())if(this.curOp.focus=v(),!N(this,b)){$e&&11>jf&&27==b.keyCode&&(b.returnValue=!1);var p=b.keyCode;this.display.shift=16==p||b.shiftKey;var U=Tf(this,b);dg&&(Oi=U?p:null,!U&&88==p&&!oj&&(rg?b.metaKey:b.ctrlKey)&&this.replaceSelection("",null,"cut"));Yf&&!rg&&!U&&46==p&&b.shiftKey&&!b.ctrlKey&&document.execCommand&&document.execCommand("cut");18!=p||/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)||Fh(this)}}function Fh(b){function p(P){18!=P.keyCode&&P.altKey||
(ug(U,"CodeMirror-crosshair"),ia(document,"keyup",p),ia(document,"mouseover",p))}var U=b.display.lineDiv;t(U,"CodeMirror-crosshair");ue(document,"keyup",p);ue(document,"mouseover",p)}function Xf(b){16==b.keyCode&&(this.doc.sel.shift=!1);N(this,b)}function ai(b){if(!(b.target&&b.target!=this.display.input.getField()||od(this.display,b)||N(this,b)||b.ctrlKey&&!b.altKey||rg&&b.metaKey)){var p=b.keyCode,U=b.charCode;if(dg&&p==Oi)Oi=null,Y(b);else if(!dg||b.which&&!(10>b.which)||!Tf(this,b))if(p=String.fromCharCode(null==
U?p:U),"\b"!=p&&!Zi(this,b,p))this.display.input.onKeyPress(b)}}function aj(b,p){var U=+new Date;if(Qh&&Qh.compare(U,b,p))return yh=Qh=null,"triple";if(yh&&yh.compare(U,b,p))return Qh=new mi(U,b,p),yh=null,"double";yh=new mi(U,b,p);Qh=null;return"single"}function Gh(b){var p=this.display;if(!(N(this,b)||p.activeTouch&&p.input.supportsTouch()))if(p.input.ensurePolled(),p.shift=b.shiftKey,od(p,b))Wf||(p.scroller.draggable=!1,setTimeout(function(){return p.scroller.draggable=!0},100));else if(!Hh(this,
b,"gutterClick",!0)){var U=gf(this,b),P=Za(b),aa=U?aj(U,P):"single";window.focus();1==P&&this.state.selectingText&&this.state.selectingText(b);if(!U||!bj(this,P,U,aa,b))if(1==P)U?bi(this,U,aa,b):(b.target||b.srcElement)==p.scroller&&Y(b);else if(2==P)U&&Nd(this.doc,U),setTimeout(function(){return p.input.focus()},20);else if(3==P)if(Kh)this.display.input.onContextMenu(b);else dd(this)}}function bj(b,p,U,P,aa){var Fa="Click";"double"==P?Fa="Double"+Fa:"triple"==P&&(Fa="Triple"+Fa);return Eh(b,Ve((1==
p?"Left":2==p?"Middle":"Right")+Fa,aa),aa,function(Ta){"string"==typeof Ta&&(Ta=xh[Ta]);if(!Ta)return!1;var Xa=!1;try{b.isReadOnly()&&(b.state.suppressEdits=!0),Xa=Ta(b,U)!=Vg}finally{b.state.suppressEdits=!1}return Xa})}function bi(b,p,U,P){$e?setTimeout(g(Bd,b),0):b.curOp.focus=v();var aa=b.getOption("configureMouse");aa=aa?aa(b,U,P):{};null==aa.unit&&(aa.unit=(mj?P.shiftKey&&P.metaKey:P.altKey)?"rectangle":"single"==U?"char":"double"==U?"word":"line");if(null==aa.extend||b.doc.extend)aa.extend=
b.doc.extend||P.shiftKey;null==aa.addNew&&(aa.addNew=rg?P.metaKey:P.ctrlKey);null==aa.moveOnDrag&&(aa.moveOnDrag=!(rg?P.altKey:P.ctrlKey));var Fa=b.doc.sel,Ta;b.options.dragDrop&&Gi&&!b.isReadOnly()&&"single"==U&&-1<(Ta=Fa.contains(p))&&(0>Ca((Ta=Fa.ranges[Ta]).from(),p)||0<p.xRel)&&(0<Ca(Ta.to(),p)||0>p.xRel)?Ig(b,P,p,aa):cj(b,P,p,aa)}function Ig(b,p,U,P){var aa=b.display,Fa=!1,Ta=Uc(b,function(Db){Wf&&(aa.scroller.draggable=!1);b.state.draggingText=!1;b.state.delayingBlurEvent&&(b.hasFocus()?b.state.delayingBlurEvent=
!1:dd(b));ia(aa.wrapper.ownerDocument,"mouseup",Ta);ia(aa.wrapper.ownerDocument,"mousemove",Xa);ia(aa.scroller,"dragstart",ob);ia(aa.scroller,"drop",Ta);Fa||(Y(Db),P.addNew||Nd(b.doc,U,null,null,P.extend),Wf&&!Ug||$e&&9==jf?setTimeout(function(){aa.wrapper.ownerDocument.body.focus({preventScroll:!0});aa.input.focus()},20):aa.input.focus())}),Xa=function(Db){Fa=Fa||10<=Math.abs(p.clientX-Db.clientX)+Math.abs(p.clientY-Db.clientY)},ob=function(){return Fa=!0};Wf&&(aa.scroller.draggable=!0);b.state.draggingText=
Ta;Ta.copy=!P.moveOnDrag;ue(aa.wrapper.ownerDocument,"mouseup",Ta);ue(aa.wrapper.ownerDocument,"mousemove",Xa);ue(aa.scroller,"dragstart",ob);ue(aa.scroller,"drop",Ta);b.state.delayingBlurEvent=!0;setTimeout(function(){return aa.input.focus()},20);aa.scroller.dragDrop&&aa.scroller.dragDrop()}function fh(b,p,U){if("char"==U)return new kf(p,p);if("word"==U)return b.findWordAt(p);if("line"==U)return new kf(Wa(p.line,0),eb(b.doc,Wa(p.line+1,0)));b=U(b,p);return new kf(b.from,b.to)}function cj(b,p,U,P){function aa(ke){if(0!=
Ca(nc,ke))if(nc=ke,"rectangle"==P.unit){var xf=[],lf=b.options.tabSize,zf=f(X(ob,U.line).text,U.ch,lf),Cf=f(X(ob,ke.line).text,ke.ch,lf),Me=Math.min(zf,Cf);zf=Math.max(zf,Cf);Cf=Math.min(U.line,ke.line);for(var Af=Math.min(b.lastLine(),Math.max(U.line,ke.line));Cf<=Af;Cf++){var of=X(ob,Cf).text,yf=e(of,Me,lf);Me==zf?xf.push(new kf(Wa(Cf,yf),Wa(Cf,yf))):of.length>yf&&xf.push(new kf(Wa(Cf,yf),Wa(Cf,e(of,zf,lf))))}xf.length||xf.push(new kf(U,U));Sa(ob,ua(b,Db.ranges.slice(0,Ic).concat(xf),Ic),{origin:"*mouse",
scroll:!1});b.scrollIntoView(ke)}else xf=pc,Me=fh(b,ke,P.unit),ke=xf.anchor,0<Ca(Me.anchor,ke)?(lf=Me.head,ke=Qa(xf.from(),Me.anchor)):(lf=Me.anchor,ke=Ea(xf.to(),Me.head)),xf=Db.ranges.slice(0),xf[Ic]=pg(b,new kf(eb(ob,ke),lf)),Sa(ob,ua(b,xf,Ic),Ef)}function Fa(ke){var xf=++Md,lf=gf(b,ke,!0,"rectangle"==P.unit);if(lf)if(0!=Ca(lf,nc)){b.curOp.focus=v();aa(lf);var zf=Ye(Xa,ob);(lf.line>=zf.to||lf.line<zf.from)&&setTimeout(Uc(b,function(){Md==xf&&Fa(ke)}),150)}else{var Cf=ke.clientY<gd.top?-20:ke.clientY>
gd.bottom?20:0;Cf&&setTimeout(Uc(b,function(){Md==xf&&(Xa.scroller.scrollTop+=Cf,Fa(ke))}),50)}}function Ta(ke){b.state.selectingText=!1;Md=Infinity;ke&&(Y(ke),Xa.input.focus());ia(Xa.wrapper.ownerDocument,"mousemove",ve);ia(Xa.wrapper.ownerDocument,"mouseup",bf);ob.history.lastSelOrigin=null}$e&&dd(b);var Xa=b.display,ob=b.doc;Y(p);var Db=ob.sel,Xb=Db.ranges;if(P.addNew&&!P.extend){var Ic=ob.sel.contains(U);var pc=-1<Ic?Xb[Ic]:new kf(U,U)}else pc=ob.sel.primary(),Ic=ob.sel.primIndex;"rectangle"==
P.unit?(P.addNew||(pc=new kf(U,U)),U=gf(b,p,!0,!0),Ic=-1):(p=fh(b,U,P.unit),pc=P.extend?wd(pc,p.anchor,p.head,P.extend):p);P.addNew?-1==Ic?(Ic=Xb.length,Sa(ob,ua(b,Xb.concat([pc]),Ic),{scroll:!1,origin:"*mouse"})):1<Xb.length&&Xb[Ic].empty()&&"char"==P.unit&&!P.extend?(Sa(ob,ua(b,Xb.slice(0,Ic).concat(Xb.slice(Ic+1)),0),{scroll:!1,origin:"*mouse"}),Db=ob.sel):pd(ob,Ic,pc,Ef):(Ic=0,Sa(ob,new kg([pc],0),Ef),Db=ob.sel);var nc=U,gd=Xa.wrapper.getBoundingClientRect(),Md=0,ve=Uc(b,function(ke){0!==ke.buttons&&
Za(ke)?Fa(ke):Ta(ke)}),bf=Uc(b,Ta);b.state.selectingText=bf;ue(Xa.wrapper.ownerDocument,"mousemove",ve);ue(Xa.wrapper.ownerDocument,"mouseup",bf)}function pg(b,p){var U=p.anchor,P=p.head,aa=X(b.doc,U.line);if(0==Ca(U,P)&&U.sticky==P.sticky)return p;aa=fa(aa);if(!aa)return p;var Fa=ba(aa,U.ch,U.sticky),Ta=aa[Fa];if(Ta.from!=U.ch&&Ta.to!=U.ch)return p;var Xa=Fa+(Ta.from==U.ch==(1!=Ta.level)?0:1);if(0==Xa||Xa==aa.length)return p;P.line!=U.line?b=0<(P.line-U.line)*("ltr"==b.doc.direction?1:-1):(b=ba(aa,
P.ch,P.sticky),Fa=b-Fa||(P.ch-U.ch)*(1==Ta.level?-1:1),b=b==Xa-1||b==Xa?0>Fa:0<Fa);aa=aa[Xa+(b?-1:0)];aa=(Xa=b==(1==aa.level))?aa.from:aa.to;Xa=Xa?"after":"before";return U.ch==aa&&U.sticky==Xa?p:new kf(new Wa(U.line,aa,Xa),P)}function Hh(b,p,U,P){if(p.touches){var aa=p.touches[0].clientX;var Fa=p.touches[0].clientY}else try{aa=p.clientX,Fa=p.clientY}catch(ob){return!1}if(aa>=Math.floor(b.display.gutters.getBoundingClientRect().right))return!1;P&&Y(p);P=b.display;var Ta=P.lineDiv.getBoundingClientRect();
if(Fa>Ta.bottom||!W(b,U))return xa(p);Fa-=Ta.top-P.viewOffset;for(Ta=0;Ta<b.display.gutterSpecs.length;++Ta){var Xa=P.gutters.childNodes[Ta];if(Xa&&Xa.getBoundingClientRect().right>=aa)return aa=ka(b.doc,Fa),ca(b,U,b,aa,b.display.gutterSpecs[Ta].className,p),xa(p)}}function dj(b,p){var U;(U=od(b.display,p))||(U=W(b,"gutterContextMenu")?Hh(b,p,"gutterContextMenu",!1):!1);if(!U&&!N(b,p,"contextmenu")&&!Kh)b.display.input.onContextMenu(p)}function ej(b){b.display.wrapper.className=b.display.wrapper.className.replace(/\s*cm-s-\S+/g,
"")+b.options.theme.replace(/(^|\s)\s*/g," cm-s-");cf(b)}function xi(b,p,U){!p!=!(U&&U!=zh)&&(U=b.display.dragFunctions,p=p?ue:ia,p(b.display.scroller,"dragstart",U.start),p(b.display.scroller,"dragenter",U.enter),p(b.display.scroller,"dragover",U.over),p(b.display.scroller,"dragleave",U.leave),p(b.display.scroller,"drop",U.drop))}function Pj(b){b.options.lineWrapping?(t(b.display.wrapper,"CodeMirror-wrap"),b.display.sizer.style.minWidth="",b.display.sizerWidth=null):(ug(b.display.wrapper,"CodeMirror-wrap"),
qb(b));mf(b);sc(b);cf(b);setTimeout(function(){return Ma(b)},100)}function If(b,p){var U=this;if(!(this instanceof If))return new If(b,p);this.options=p=p?d(p):{};d(sj,p,!1);var P=p.value;"string"==typeof P?P=new ag(P,p.mode,null,p.lineSeparator,p.direction):p.mode&&(P.modeOption=p.mode);this.doc=P;var aa=new If.inputStyles[p.inputStyle](this);b=this.display=new Uf(b,P,aa,p);b.wrapper.CodeMirror=this;ej(this);p.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");Pb(this);this.state=
{keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new We,keySeq:null,specialChars:null};p.autofocus&&!kh&&b.input.focus();$e&&11>jf&&setTimeout(function(){return U.display.input.reset(!0)},20);yi(this);Ni||(kd(),Ni=!0);Mb(this);this.curOp.forceUpdate=!0;oc(this,P);p.autofocus&&!kh||this.hasFocus()?setTimeout(function(){U.hasFocus()&&!U.state.focused&&rd(U)},20):$c(this);for(var Fa in Rh)if(Rh.hasOwnProperty(Fa))Rh[Fa](this,
p[Fa],zh);pf(this);p.finishInit&&p.finishInit(this);for(P=0;P<Sh.length;++P)Sh[P](this);ac(this);Wf&&p.lineWrapping&&"optimizelegibility"==getComputedStyle(b.lineDiv).textRendering&&(b.lineDiv.style.textRendering="auto")}function yi(b){function p(){P.activeTouch&&(aa=setTimeout(function(){return P.activeTouch=null},1E3),Fa=P.activeTouch,Fa.end=+new Date)}function U(Xa,ob){if(null==ob.left)return!0;var Db=ob.left-Xa.left;Xa=ob.top-Xa.top;return 400<Db*Db+Xa*Xa}var P=b.display;ue(P.scroller,"mousedown",
Uc(b,Gh));$e&&11>jf?ue(P.scroller,"dblclick",Uc(b,function(Xa){if(!N(b,Xa)){var ob=gf(b,Xa);!ob||Hh(b,Xa,"gutterClick",!0)||od(b.display,Xa)||(Y(Xa),Xa=b.findWordAt(ob),Nd(b.doc,Xa.anchor,Xa.head))}})):ue(P.scroller,"dblclick",function(Xa){return N(b,Xa)||Y(Xa)});ue(P.scroller,"contextmenu",function(Xa){return dj(b,Xa)});ue(P.input.getField(),"contextmenu",function(Xa){P.scroller.contains(Xa.target)||dj(b,Xa)});var aa,Fa={end:0};ue(P.scroller,"touchstart",function(Xa){var ob;if(ob=!N(b,Xa))1!=Xa.touches.length?
ob=!1:(ob=Xa.touches[0],ob=1>=ob.radiusX&&1>=ob.radiusY),ob=!ob;ob&&!Hh(b,Xa,"gutterClick",!0)&&(P.input.ensurePolled(),clearTimeout(aa),ob=+new Date,P.activeTouch={start:ob,moved:!1,prev:300>=ob-Fa.end?Fa:null},1==Xa.touches.length&&(P.activeTouch.left=Xa.touches[0].pageX,P.activeTouch.top=Xa.touches[0].pageY))});ue(P.scroller,"touchmove",function(){P.activeTouch&&(P.activeTouch.moved=!0)});ue(P.scroller,"touchend",function(Xa){var ob=P.activeTouch;if(ob&&!od(P,Xa)&&null!=ob.left&&!ob.moved&&300>
new Date-ob.start){var Db=b.coordsChar(P.activeTouch,"page");ob=!ob.prev||U(ob,ob.prev)?new kf(Db,Db):!ob.prev.prev||U(ob,ob.prev.prev)?b.findWordAt(Db):new kf(Wa(Db.line,0),eb(b.doc,Wa(Db.line+1,0)));b.setSelection(ob.anchor,ob.head);b.focus();Y(Xa)}p()});ue(P.scroller,"touchcancel",p);ue(P.scroller,"scroll",function(){P.scroller.clientHeight&&(df(b,P.scroller.scrollTop),Pe(b,P.scroller.scrollLeft,!0),ca(b,"scroll",b))});ue(P.scroller,"mousewheel",function(Xa){return sa(b,Xa)});ue(P.scroller,"DOMMouseScroll",
function(Xa){return sa(b,Xa)});ue(P.wrapper,"scroll",function(){return P.wrapper.scrollTop=P.wrapper.scrollLeft=0});P.dragFunctions={enter:function(Xa){N(b,Xa)||Ha(Xa)},over:function(Xa){if(!N(b,Xa)){var ob=gf(b,Xa);if(ob){var Db=document.createDocumentFragment();Vb(b,ob,Db);b.display.dragCursor||(b.display.dragCursor=G("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),b.display.lineSpace.insertBefore(b.display.dragCursor,b.display.cursorDiv));u(b.display.dragCursor,Db)}Ha(Xa)}},start:function(Xa){if($e&&
(!b.state.draggingText||100>+new Date-li))Ha(Xa);else if(!N(b,Xa)&&!od(b.display,Xa)&&(Xa.dataTransfer.setData("Text",b.getSelection()),Xa.dataTransfer.effectAllowed="copyMove",Xa.dataTransfer.setDragImage&&!Ug)){var ob=G("img",null,null,"position: fixed; left: 0; top: 0;");ob.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw\x3d\x3d";dg&&(ob.width=ob.height=1,b.display.wrapper.appendChild(ob),ob._top=ob.offsetTop);Xa.dataTransfer.setDragImage(ob,0,0);dg&&ob.parentNode.removeChild(ob)}},
drop:Uc(b,Rd),leave:function(Xa){N(b,Xa)||Vd(b)}};var Ta=P.input.getField();ue(Ta,"keyup",function(Xa){return Xf.call(b,Xa)});ue(Ta,"keydown",Uc(b,$i));ue(Ta,"keypress",Uc(b,ai));ue(Ta,"focus",function(Xa){return rd(b,Xa)});ue(Ta,"blur",function(Xa){return $c(b,Xa)})}function Rg(b,p,U,P){var aa=b.doc,Fa;null==U&&(U="add");"smart"==U&&(aa.mode.indent?Fa=ad(b,p).state:U="prev");var Ta=b.options.tabSize,Xa=X(aa,p),ob=f(Xa.text,null,Ta);Xa.stateAfter&&(Xa.stateAfter=null);var Db=Xa.text.match(/^\s*/)[0];
if(!P&&!/\S/.test(Xa.text)){var Xb=0;U="not"}else if("smart"==U&&(Xb=aa.mode.indent(Fa,Xa.text.slice(Db.length),Xa.text),Xb==Vg||150<Xb)){if(!P)return;U="prev"}"prev"==U?Xb=p>aa.first?f(X(aa,p-1).text,null,Ta):0:"add"==U?Xb=ob+b.options.indentUnit:"subtract"==U?Xb=ob-b.options.indentUnit:"number"==typeof U&&(Xb=ob+U);Xb=Math.max(0,Xb);U="";P=0;if(b.options.indentWithTabs)for(b=Math.floor(Xb/Ta);b;--b)P+=Ta,U+="\t";P<Xb&&(U+=n(Xb-P));if(U!=Db)return Fc(aa,U,Wa(p,0),Wa(p,Db.length),"+input"),Xa.stateAfter=
null,!0;for(Ta=0;Ta<aa.sel.ranges.length;Ta++)if(Xa=aa.sel.ranges[Ta],Xa.head.line==p&&Xa.head.ch<Db.length){p=Wa(p,Db.length);pd(aa,Ta,new kf(p,p));break}}function zi(b,p,U,P,aa){var Fa=b.doc;b.display.shift=!1;P||(P=Fa.sel);var Ta=+new Date-200,Xa="paste"==aa||b.state.pasteIncoming>Ta,ob=Hi(p),Db=null;if(Xa&&1<P.ranges.length)if(eg&&eg.text.join("\n")==p){if(0==P.ranges.length%eg.text.length){Db=[];for(var Xb=0;Xb<eg.text.length;Xb++)Db.push(Fa.splitLines(eg.text[Xb]))}}else ob.length==P.ranges.length&&
b.options.pasteLinesPerSelection&&(Db=z(ob,function(Md){return[Md]}));Xb=b.curOp.updateInput;for(var Ic=P.ranges.length-1;0<=Ic;Ic--){var pc=P.ranges[Ic],nc=pc.from(),gd=pc.to();pc.empty()&&(U&&0<U?nc=Wa(nc.line,nc.ch-U):b.state.overwrite&&!Xa?gd=Wa(gd.line,Math.min(X(Fa,gd.line).text.length,gd.ch+x(ob).length)):Xa&&eg&&eg.lineWise&&eg.text.join("\n")==ob.join("\n")&&(nc=gd=Wa(nc.line,0)));pc={from:nc,to:gd,text:Db?Db[Ic%Db.length]:ob,origin:aa||(Xa?"paste":b.state.cutIncoming>Ta?"cut":"+input")};
cb(b.doc,pc);tc(b,"inputRead",b,pc)}p&&!Xa&&Bi(b,p);ye(b);2>b.curOp.updateInput&&(b.curOp.updateInput=Xb);b.curOp.typing=!0;b.state.pasteIncoming=b.state.cutIncoming=-1}function Ai(b,p){var U=b.clipboardData&&b.clipboardData.getData("Text");if(U)return b.preventDefault(),p.isReadOnly()||p.options.disableInput||gc(p,function(){return zi(p,U,0,null,"paste")}),!0}function Bi(b,p){if(b.options.electricChars&&b.options.smartIndent)for(var U=b.doc.sel,P=U.ranges.length-1;0<=P;P--){var aa=U.ranges[P];if(!(100<
aa.head.ch||P&&U.ranges[P-1].head.line==aa.head.line)){var Fa=b.getModeAt(aa.head),Ta=!1;if(Fa.electricChars)for(var Xa=0;Xa<Fa.electricChars.length;Xa++){if(-1<p.indexOf(Fa.electricChars.charAt(Xa))){Ta=Rg(b,aa.head.line,"smart");break}}else Fa.electricInput&&Fa.electricInput.test(X(b.doc,aa.head.line).text.slice(0,aa.head.ch))&&(Ta=Rg(b,aa.head.line,"smart"));Ta&&tc(b,"electricInput",b,aa.head.line)}}}function Ih(b){for(var p=[],U=[],P=0;P<b.doc.sel.ranges.length;P++){var aa=b.doc.sel.ranges[P].head.line;
aa={anchor:Wa(aa,0),head:Wa(aa+1,0)};U.push(aa);p.push(b.getRange(aa.anchor,aa.head))}return{text:p,ranges:U}}function Sg(b,p,U,P){b.setAttribute("autocorrect",U?"":"off");b.setAttribute("autocapitalize",P?"":"off");b.setAttribute("spellcheck",!!p)}function gj(){var b=G("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),p=G("div",[b],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");Wf?b.style.width="1000px":b.setAttribute("wrap",
"off");ih&&(b.style.border="1px solid black");Sg(b);return p}function Di(b,p,U,P,aa){function Fa(Md){if("codepoint"==P){var ve=ob.text.charCodeAt(p.ch+(0<U?0:-1));ve=isNaN(ve)?null:new Wa(p.line,Math.max(0,Math.min(ob.text.length,p.ch+U*((0<U?55296<=ve&&56320>ve:56320<=ve&&57343>ve)?2:1))),-U)}else ve=aa?Xi(b.cm,ob,p,U):Dh(ob,p,U);if(null==ve){if(Md=!Md)Md=p.line+Db,Md<b.first||Md>=b.first+b.size?Md=!1:(p=new Wa(Md,p.ch,p.sticky),Md=ob=X(b,Md));if(Md)p=eh(aa,b.cm,ob,p.line,Db);else return!1}else p=
ve;return!0}var Ta=p,Xa=U,ob=X(b,p.line),Db=aa&&"rtl"==b.direction?-U:U;if("char"==P||"codepoint"==P)Fa();else if("column"==P)Fa(!0);else if("word"==P||"group"==P)for(var Xb=null,Ic="group"==P,pc=b.cm&&b.cm.getHelper(p,"wordChars"),nc=!0;!(0>U)||Fa(!nc);nc=!1){var gd=ob.text.charAt(p.ch)||"\n";gd=y(gd,pc)?"w":Ic&&"\n"==gd?"n":!Ic||/\s/.test(gd)?null:"p";!Ic||nc||gd||(gd="s");if(Xb&&Xb!=gd){0>U&&(U=1,Fa(),p.sticky="after");break}gd&&(Xb=gd);if(0<U&&!Fa(!nc))break}Xa=q(b,p,Ta,Xa,!0);Da(Ta,Xa)&&(Xa.hitSide=
!0);return Xa}function hj(b,p,U,P){var aa=b.doc,Fa=p.left;if("page"==P){var Ta=Math.max(Math.min(b.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight)-.5*xe(b.display),3);Ta=(0<U?p.bottom:p.top)+U*Ta}else"line"==P&&(Ta=0<U?p.bottom+3:p.top-3);for(;;){p=Hd(b,Fa,Ta);if(!p.outside)break;if(0>U?0>=Ta:Ta>=aa.height){p.hitSide=!0;break}Ta+=5*U}return p}function ij(b,p){var U=De(b,p.line);if(!U||U.hidden)return null;var P=X(b.doc,p.line);U=Ee(U,P,p.line);b=fa(P,b.doc.direction);
P="left";b&&(P=ba(b,p.ch)%2?"right":"left");p=Td(U.map,p.ch,P);p.offset="right"==p.collapse?p.end:p.start;return p}function jj(b){for(;b;b=b.parentNode)if(/CodeMirror-gutter-wrapper/.test(b.className))return!0;return!1}function hh(b,p){p&&(b.bad=!0);return b}function Ci(b,p,U,P,aa){function Fa(nc){return function(gd){return gd.id==nc}}function Ta(){Xb&&(Db+=Ic,pc&&(Db+=Ic),Xb=pc=!1)}function Xa(nc){nc&&(Ta(),Db+=nc)}function ob(nc){if(1==nc.nodeType){var gd=nc.getAttribute("cm-text");if(gd)Xa(gd);
else{gd=nc.getAttribute("cm-marker");var Md;if(gd)nc=b.findMarks(Wa(P,0),Wa(aa+1,0),Fa(+gd)),nc.length&&(Md=nc[0].find(0))&&Xa(Z(b.doc,Md.from,Md.to).join(Ic));else if("false"!=nc.getAttribute("contenteditable")&&(Md=/^(pre|div|p|li|table|br)$/i.test(nc.nodeName),/^br$/i.test(nc.nodeName)||0!=nc.textContent.length)){Md&&Ta();for(gd=0;gd<nc.childNodes.length;gd++)ob(nc.childNodes[gd]);/^(pre|p)$/i.test(nc.nodeName)&&(pc=!0);Md&&(Xb=!0)}}}else 3==nc.nodeType&&Xa(nc.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g,
" "))}for(var Db="",Xb=!1,Ic=b.doc.lineSeparator(),pc=!1;;){ob(p);if(p==U)break;p=p.nextSibling;pc=!1}return Db}function di(b,p,U){if(p==b.display.lineDiv){var P=b.display.lineDiv.childNodes[U];if(!P)return hh(b.clipPos(Wa(b.display.viewTo-1)),!0);p=null;U=0}else for(P=p;;P=P.parentNode){if(!P||P==b.display.lineDiv)return null;if(P.parentNode&&P.parentNode==b.display.lineDiv)break}for(var aa=0;aa<b.display.view.length;aa++){var Fa=b.display.view[aa];if(Fa.node==P)return kj(Fa,p,U)}}function kj(b,
p,U){function P(Xb,Ic,pc){for(var nc=-1;nc<(Db?Db.length:0);nc++)for(var gd=0>nc?ob.map:Db[nc],Md=0;Md<gd.length;Md+=3){var ve=gd[Md+2];if(ve==Xb||ve==Ic){Ic=Aa(0>nc?b.line:b.rest[nc]);nc=gd[Md]+pc;if(0>pc||ve!=Xb)nc=gd[Md+(pc?1:0)];return Wa(Ic,nc)}}}var aa=b.text.firstChild,Fa=!1;if(!p||!w(aa,p))return hh(Wa(Aa(b.line),0),!0);if(p==aa&&(Fa=!0,p=aa.childNodes[U],U=0,!p))return U=b.rest?x(b.rest):b.line,hh(Wa(Aa(U),U.text.length),Fa);var Ta=3==p.nodeType?p:null,Xa=p;Ta||1!=p.childNodes.length||3!=
p.firstChild.nodeType||(Ta=p.firstChild,U&&(U=Ta.nodeValue.length));for(;Xa.parentNode!=aa;)Xa=Xa.parentNode;var ob=b.measure,Db=ob.maps;if(p=P(Ta,Xa,U))return hh(p,Fa);aa=Xa.nextSibling;for(Ta=Ta?Ta.nodeValue.length-U:0;aa;aa=aa.nextSibling){if(p=P(aa,aa.firstChild,0))return hh(Wa(p.line,p.ch-Ta),Fa);Ta+=aa.textContent.length}for(Xa=Xa.previousSibling;Xa;Xa=Xa.previousSibling){if(p=P(Xa,Xa.firstChild,-1))return hh(Wa(p.line,p.ch+U),Fa);U+=Xa.textContent.length}}var $f=navigator.userAgent,Jg=navigator.platform,
Yf=/gecko\/\d/i.test($f),ei=/MSIE \d/.test($f),qg=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec($f),fi=/Edge\/(\d+)/.exec($f),$e=ei||qg||fi,jf=$e&&(ei?document.documentMode||6:+(fi||qg)[1]),Wf=!fi&&/WebKit\//.test($f),Jh=Wf&&/Qt\/\d+\.\d+/.test($f),Kg=!fi&&/Chrome\//.test($f),dg=/Opera\//.test($f),Ug=/Apple Computer/.test(navigator.vendor),lj=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test($f),Ei=/PhantomJS/.test($f),ih=Ug&&(/Mobile\/\w+/.test($f)||2<navigator.maxTouchPoints),jh=/Android/.test($f),kh=ih||jh||
/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test($f),rg=ih||/Mac/.test(Jg),mj=/\bCrOS\b/.test($f),hg=/win/i.test(Jg),Lg=dg&&$f.match(/Version\/(\d*\.\d*)/);Lg&&(Lg=Number(Lg[1]));Lg&&15<=Lg&&(dg=!1,Wf=!0);var Fi=rg&&(Jh||dg&&(null==Lg||12.11>Lg)),Kh=Yf||$e&&9<=jf,ug=function(b,p){var U=b.className;if(p=m(p).exec(U)){var P=U.slice(p.index+p[0].length);b.className=U.slice(0,p.index)+(P?p[1]+P:"")}};var lh=document.createRange?function(b,p,U,P){var aa=document.createRange();aa.setEnd(P||b,U);
aa.setStart(b,p);return aa}:function(b,p,U){var P=document.body.createTextRange();try{P.moveToElementText(b.parentNode)}catch(aa){return P}P.collapse(!0);P.moveEnd("character",U);P.moveStart("character",p);return P};var mh=function(b){b.select()};ih?mh=function(b){b.selectionStart=0;b.selectionEnd=b.value.length}:$e&&(mh=function(b){try{b.select()}catch(p){}});var We=function(){this.f=this.id=null;this.time=0;this.handler=g(this.onTimeout,this)};We.prototype.onTimeout=function(b){b.id=0;b.time<=+new Date?
b.f():setTimeout(b.handler,b.time-+new Date)};We.prototype.set=function(b,p){this.f=p;p=+new Date+b;if(!this.id||p<this.time)clearTimeout(this.id),this.id=setTimeout(this.handler,b),this.time=p};var Vg={toString:function(){return"CodeMirror.Pass"}},Kf={scroll:!1},Ef={origin:"*mouse"},nh={origin:"+move"},gi=[""],nj=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,hi=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,
ph=null,Wg=function(){function b(Xa){return 247>=Xa?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(Xa):1424<=Xa&&1524>=Xa?"R":1536<=Xa&&1785>=Xa?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(Xa-
1536):1774<=Xa&&2220>=Xa?"r":8192<=Xa&&8203>=Xa?"w":8204==Xa?"b":"L"}function p(Xa,ob,Db){this.level=Xa;this.from=ob;this.to=Db}var U=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,P=/[stwN]/,aa=/[LRr]/,Fa=/[Lb1n]/,Ta=/[1n]/;return function(Xa,ob){var Db="ltr"==ob?"L":"R";if(0==Xa.length||"ltr"==ob&&!U.test(Xa))return!1;for(var Xb=Xa.length,Ic=[],pc=0;pc<Xb;++pc)Ic.push(b(Xa.charCodeAt(pc)));pc=0;for(var nc=Db;pc<Xb;++pc){var gd=Ic[pc];"m"==gd?Ic[pc]=nc:nc=gd}pc=0;for(nc=Db;pc<Xb;++pc)gd=Ic[pc],"1"==
gd&&"r"==nc?Ic[pc]="n":aa.test(gd)&&(nc=gd,"r"==gd&&(Ic[pc]="R"));pc=1;for(nc=Ic[0];pc<Xb-1;++pc)gd=Ic[pc],"+"==gd&&"1"==nc&&"1"==Ic[pc+1]?Ic[pc]="1":","!=gd||nc!=Ic[pc+1]||"1"!=nc&&"n"!=nc||(Ic[pc]=nc),nc=gd;for(pc=0;pc<Xb;++pc)if(nc=Ic[pc],","==nc)Ic[pc]="N";else if("%"==nc){for(nc=pc+1;nc<Xb&&"%"==Ic[nc];++nc);for(gd=pc&&"!"==Ic[pc-1]||nc<Xb&&"1"==Ic[nc]?"1":"N";pc<nc;++pc)Ic[pc]=gd;pc=nc-1}pc=0;for(nc=Db;pc<Xb;++pc)gd=Ic[pc],"L"==nc&&"1"==gd?Ic[pc]="L":aa.test(gd)&&(nc=gd);for(nc=0;nc<Xb;++nc)if(P.test(Ic[nc])){for(pc=
nc+1;pc<Xb&&P.test(Ic[pc]);++pc);gd="L"==(nc?Ic[nc-1]:Db);for(gd=gd==("L"==(pc<Xb?Ic[pc]:Db))?gd?"L":"R":Db;nc<pc;++nc)Ic[nc]=gd;nc=pc-1}Db=[];var Md;for(pc=0;pc<Xb;)if(Fa.test(Ic[pc])){nc=pc;for(++pc;pc<Xb&&Fa.test(Ic[pc]);++pc);Db.push(new p(0,nc,pc))}else{var ve=pc;nc=Db.length;gd="rtl"==ob?1:0;for(++pc;pc<Xb&&"L"!=Ic[pc];++pc);for(var bf=ve;bf<pc;)if(Ta.test(Ic[bf])){ve<bf&&(Db.splice(nc,0,new p(1,ve,bf)),nc+=gd);ve=bf;for(++bf;bf<pc&&Ta.test(Ic[bf]);++bf);Db.splice(nc,0,new p(2,ve,bf));nc+=gd;
ve=bf}else++bf;ve<pc&&Db.splice(nc,0,new p(1,ve,pc))}"ltr"==ob&&(1==Db[0].level&&(Md=Xa.match(/^\s+/))&&(Db[0].from=Md[0].length,Db.unshift(new p(0,0,Md[0].length))),1==x(Db).level&&(Md=Xa.match(/\s+$/))&&(x(Db).to-=Md[0].length,Db.push(new p(0,Xb-Md[0].length,Xb))));return"rtl"==ob?Db.reverse():Db}}(),oh=[],ue=function(b,p,U){b.addEventListener?b.addEventListener(p,U,!1):b.attachEvent?b.attachEvent("on"+p,U):(b=b._handlers||(b._handlers={}),b[p]=(b[p]||oh).concat(U))},Gi=function(){if($e&&9>jf)return!1;
var b=G("div");return"draggable"in b||"dragDrop"in b}(),ii,ji,Hi=3!="\n\nb".split(/\n/).length?function(b){for(var p=0,U=[],P=b.length;p<=P;){var aa=b.indexOf("\n",p);-1==aa&&(aa=b.length);var Fa=b.slice(p,"\r"==b.charAt(aa-1)?aa-1:aa),Ta=Fa.indexOf("\r");-1!=Ta?(U.push(Fa.slice(0,Ta)),p+=Ta+1):(U.push(Fa),p=aa+1)}return U}:function(b){return b.split(/\r\n?|\n/)},Wi=window.getSelection?function(b){try{return b.selectionStart!=b.selectionEnd}catch(p){return!1}}:function(b){try{var p=b.ownerDocument.selection.createRange()}catch(U){}return p&&
p.parentElement()==b?0!=p.compareEndPoints("StartToEnd",p):!1},oj=function(){var b=G("div");if("oncopy"in b)return!0;b.setAttribute("oncopy","return;");return"function"==typeof b.oncopy}(),Ii=null,dh={},qh={},Mg={},Lf=function(b,p,U){this.pos=this.start=0;this.string=b;this.tabSize=p||8;this.lineStart=this.lastColumnPos=this.lastColumnValue=0;this.lineOracle=U};Lf.prototype.eol=function(){return this.pos>=this.string.length};Lf.prototype.sol=function(){return this.pos==this.lineStart};Lf.prototype.peek=
function(){return this.string.charAt(this.pos)||void 0};Lf.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)};Lf.prototype.eat=function(b){var p=this.string.charAt(this.pos);if("string"==typeof b?p==b:p&&(b.test?b.test(p):b(p)))return++this.pos,p};Lf.prototype.eatWhile=function(b){for(var p=this.pos;this.eat(b););return this.pos>p};Lf.prototype.eatSpace=function(){for(var b=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>
b};Lf.prototype.skipToEnd=function(){this.pos=this.string.length};Lf.prototype.skipTo=function(b){b=this.string.indexOf(b,this.pos);if(-1<b)return this.pos=b,!0};Lf.prototype.backUp=function(b){this.pos-=b};Lf.prototype.column=function(){this.lastColumnPos<this.start&&(this.lastColumnValue=f(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start);return this.lastColumnValue-(this.lineStart?f(this.string,this.lineStart,this.tabSize):0)};Lf.prototype.indentation=
function(){return f(this.string,null,this.tabSize)-(this.lineStart?f(this.string,this.lineStart,this.tabSize):0)};Lf.prototype.match=function(b,p,U){if("string"==typeof b){var P=function(Fa){return U?Fa.toLowerCase():Fa},aa=this.string.substr(this.pos,b.length);if(P(aa)==P(b))return!1!==p&&(this.pos+=b.length),!0}else{if((b=this.string.slice(this.pos).match(b))&&0<b.index)return null;b&&!1!==p&&(this.pos+=b[0].length);return b}};Lf.prototype.current=function(){return this.string.slice(this.start,
this.pos)};Lf.prototype.hideFirstChars=function(b,p){this.lineStart+=b;try{return p()}finally{this.lineStart-=b}};Lf.prototype.lookAhead=function(b){var p=this.lineOracle;return p&&p.lookAhead(b)};Lf.prototype.baseToken=function(){var b=this.lineOracle;return b&&b.baseToken(this.pos)};var Lh=function(b,p){this.state=b;this.lookAhead=p},Ag=function(b,p,U,P){this.state=p;this.doc=b;this.line=U;this.maxLookAhead=P||0;this.baseTokens=null;this.baseTokenPos=1};Ag.prototype.lookAhead=function(b){var p=
this.doc.getLine(this.line+b);null!=p&&b>this.maxLookAhead&&(this.maxLookAhead=b);return p};Ag.prototype.baseToken=function(b){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=b;)this.baseTokenPos+=2;var p=this.baseTokens[this.baseTokenPos+1];return{type:p&&p.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-b}};Ag.prototype.nextLine=function(){this.line++;0<this.maxLookAhead&&this.maxLookAhead--};Ag.fromSaved=function(b,p,U){return p instanceof Lh?new Ag(b,
qa(b.mode,p.state),U,p.lookAhead):new Ag(b,qa(b.mode,p),U)};Ag.prototype.save=function(b){b=!1!==b?qa(this.doc.mode,this.state):this.state;return 0<this.maxLookAhead?new Lh(b,this.maxLookAhead):b};var Ki=function(b,p,U){this.start=b.start;this.end=b.pos;this.string=b.current();this.type=p||null;this.state=U},pj=!1,Hg=!1,Ng=function(b,p,U){this.text=b;hd(this,p);this.height=U?U(this):1};Ng.prototype.lineNo=function(){return Aa(this)};ha(Ng);var Qj={},Li={},Xg=null,rh=null,Mi={left:0,right:0,top:0,
bottom:0},sg,Bg=function(b,p,U){this.cm=U;var P=this.vert=G("div",[G("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),aa=this.horiz=G("div",[G("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");P.tabIndex=aa.tabIndex=-1;b(P);b(aa);ue(P,"scroll",function(){P.clientHeight&&p(P.scrollTop,"vertical")});ue(aa,"scroll",function(){aa.clientWidth&&p(aa.scrollLeft,"horizontal")});this.checkedZeroWidth=!1;$e&&8>jf&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};
Bg.prototype.update=function(b){var p=b.scrollWidth>b.clientWidth+1,U=b.scrollHeight>b.clientHeight+1,P=b.nativeBarWidth;U?(this.vert.style.display="block",this.vert.style.bottom=p?P+"px":"0",this.vert.firstChild.style.height=Math.max(0,b.scrollHeight-b.clientHeight+(b.viewHeight-(p?P:0)))+"px"):(this.vert.style.display="",this.vert.firstChild.style.height="0");p?(this.horiz.style.display="block",this.horiz.style.right=U?P+"px":"0",this.horiz.style.left=b.barLeft+"px",this.horiz.firstChild.style.width=
Math.max(0,b.scrollWidth-b.clientWidth+(b.viewWidth-b.barLeft-(U?P:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0");!this.checkedZeroWidth&&0<b.clientHeight&&(0==P&&this.zeroWidthHack(),this.checkedZeroWidth=!0);return{right:U?P:0,bottom:p?P:0}};Bg.prototype.setScrollLeft=function(b){this.horiz.scrollLeft!=b&&(this.horiz.scrollLeft=b);this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")};Bg.prototype.setScrollTop=function(b){this.vert.scrollTop!=
b&&(this.vert.scrollTop=b);this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")};Bg.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=rg&&!lj?"12px":"18px";this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none";this.disableHoriz=new We;this.disableVert=new We};Bg.prototype.enableZeroWidthBar=function(b,p,U){function P(){var aa=b.getBoundingClientRect();("vert"==U?document.elementFromPoint(aa.right-1,(aa.top+aa.bottom)/2):document.elementFromPoint((aa.right+
aa.left)/2,aa.bottom-1))!=b?b.style.pointerEvents="none":p.set(1E3,P)}b.style.pointerEvents="auto";p.set(1E3,P)};Bg.prototype.clear=function(){var b=this.horiz.parentNode;b.removeChild(this.horiz);b.removeChild(this.vert)};var Cg=function(){};Cg.prototype.update=function(){return{bottom:0,right:0}};Cg.prototype.setScrollLeft=function(){};Cg.prototype.setScrollTop=function(){};Cg.prototype.clear=function(){};var Mh={"native":Bg,"null":Cg},Rj=0,Oh=function(b,p,U){var P=b.display;this.viewport=p;this.visible=
Ye(P,b.doc,p);this.editorIsHidden=!P.wrapper.offsetWidth;this.wrapperHeight=P.wrapper.clientHeight;this.wrapperWidth=P.wrapper.clientWidth;this.oldDisplayWidth=ie(b);this.force=U;this.dims=Ie(b);this.events=[]};Oh.prototype.signal=function(b,p){W(b,p)&&this.events.push(arguments)};Oh.prototype.finish=function(){for(var b=0;b<this.events.length;b++)ca.apply(null,this.events[b])};var Nh=0,jg=null;$e?jg=-.53:Yf?jg=15:Kg?jg=-.7:Ug&&(jg=-1/3);var kg=function(b,p){this.ranges=b;this.primIndex=p};kg.prototype.primary=
function(){return this.ranges[this.primIndex]};kg.prototype.equals=function(b){if(b==this)return!0;if(b.primIndex!=this.primIndex||b.ranges.length!=this.ranges.length)return!1;for(var p=0;p<this.ranges.length;p++){var U=this.ranges[p],P=b.ranges[p];if(!Da(U.anchor,P.anchor)||!Da(U.head,P.head))return!1}return!0};kg.prototype.deepCopy=function(){for(var b=[],p=0;p<this.ranges.length;p++)b[p]=new kf(ma(this.ranges[p].anchor),ma(this.ranges[p].head));return new kg(b,this.primIndex)};kg.prototype.somethingSelected=
function(){for(var b=0;b<this.ranges.length;b++)if(!this.ranges[b].empty())return!0;return!1};kg.prototype.contains=function(b,p){p||(p=b);for(var U=0;U<this.ranges.length;U++){var P=this.ranges[U];if(0<=Ca(p,P.from())&&0>=Ca(b,P.to()))return U}return-1};var kf=function(b,p){this.anchor=b;this.head=p};kf.prototype.from=function(){return Qa(this.anchor,this.head)};kf.prototype.to=function(){return Ea(this.anchor,this.head)};kf.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==
this.anchor.ch};Dc.prototype={chunkSize:function(){return this.lines.length},removeInner:function(b,p){for(var U=b,P=b+p;U<P;++U){var aa=this.lines[U];this.height-=aa.height;var Fa=aa;Fa.parent=null;jd(Fa);tc(aa,"delete")}this.lines.splice(b,p)},collapse:function(b){b.push.apply(b,this.lines)},insertInner:function(b,p,U){this.height+=U;this.lines=this.lines.slice(0,b).concat(p).concat(this.lines.slice(b));for(b=0;b<p.length;++b)p[b].parent=this},iterN:function(b,p,U){for(p=b+p;b<p;++b)if(U(this.lines[b]))return!0}};
ld.prototype={chunkSize:function(){return this.size},removeInner:function(b,p){this.size-=p;for(var U=0;U<this.children.length;++U){var P=this.children[U],aa=P.chunkSize();if(b<aa){var Fa=Math.min(p,aa-b),Ta=P.height;P.removeInner(b,Fa);this.height-=Ta-P.height;aa==Fa&&(this.children.splice(U--,1),P.parent=null);if(0==(p-=Fa))break;b=0}else b-=aa}25>this.size-p&&(1<this.children.length||!(this.children[0]instanceof Dc))&&(b=[],this.collapse(b),this.children=[new Dc(b)],this.children[0].parent=this)},
collapse:function(b){for(var p=0;p<this.children.length;++p)this.children[p].collapse(b)},insertInner:function(b,p,U){this.size+=p.length;this.height+=U;for(var P=0;P<this.children.length;++P){var aa=this.children[P],Fa=aa.chunkSize();if(b<=Fa){aa.insertInner(b,p,U);if(aa.lines&&50<aa.lines.length){for(p=b=aa.lines.length%25+25;p<aa.lines.length;)U=new Dc(aa.lines.slice(p,p+=25)),aa.height-=U.height,this.children.splice(++P,0,U),U.parent=this;aa.lines=aa.lines.slice(0,b);this.maybeSpill()}break}b-=
Fa}},maybeSpill:function(){if(!(10>=this.children.length)){var b=this;do{var p=b.children.splice(b.children.length-5,5);p=new ld(p);if(b.parent){b.size-=p.size;b.height-=p.height;var U=a(b.parent.children,b);b.parent.children.splice(U+1,0,p)}else U=new ld(b.children),U.parent=b,b.children=[U,p],b=U;p.parent=b.parent}while(10<b.children.length);b.parent.maybeSpill()}},iterN:function(b,p,U){for(var P=0;P<this.children.length;++P){var aa=this.children[P],Fa=aa.chunkSize();if(b<Fa){Fa=Math.min(p,Fa-b);
if(aa.iterN(b,Fa,U))return!0;if(0==(p-=Fa))break;b=0}else b-=Fa}}};var sh=function(b,p,U){if(U)for(var P in U)U.hasOwnProperty(P)&&(this[P]=U[P]);this.doc=b;this.node=p};sh.prototype.clear=function(){var b=this.doc.cm,p=this.line.widgets,U=this.line,P=Aa(U);if(null!=P&&p){for(var aa=0;aa<p.length;++aa)p[aa]==this&&p.splice(aa--,1);p.length||(U.widgets=null);var Fa=nd(this);na(U,Math.max(0,U.height-Fa));b&&(gc(b,function(){var Ta=-Fa;Ga(U)<(b.curOp&&b.curOp.scrollTop||b.doc.scrollTop)&&Yc(b,Ta);ta(b,
P,"widget")}),tc(b,"lineWidgetCleared",b,this,P))}};sh.prototype.changed=function(){var b=this,p=this.height,U=this.doc.cm,P=this.line;this.height=null;var aa=nd(this)-p;aa&&(qd(this.doc,P)||na(P,P.height+aa),U&&gc(U,function(){U.curOp.forceUpdate=!0;Ga(P)<(U.curOp&&U.curOp.scrollTop||U.doc.scrollTop)&&Yc(U,aa);tc(U,"lineWidgetChanged",U,b,Aa(P))}))};ha(sh);var ki=0,vg=function(b,p){this.lines=[];this.type=p;this.doc=b;this.id=++ki};vg.prototype.clear=function(){if(!this.explicitlyCleared){var b=
this.doc.cm,p=b&&!b.curOp;p&&Mb(b);if(W(this,"clear")){var U=this.find();U&&tc(this,"clear",U.from,U.to)}for(var P=U=null,aa=0;aa<this.lines.length;++aa){var Fa=this.lines[aa],Ta=Hc(Fa.markedSpans,this);b&&!this.collapsed?ta(b,Aa(Fa),"text"):b&&(null!=Ta.to&&(P=Aa(Fa)),null!=Ta.from&&(U=Aa(Fa)));for(var Xa=Fa,ob=void 0,Db=Fa.markedSpans,Xb=Ta,Ic=0;Ic<Db.length;++Ic)Db[Ic]!=Xb&&(ob||(ob=[])).push(Db[Ic]);Xa.markedSpans=ob;null==Ta.from&&this.collapsed&&!qd(this.doc,Fa)&&b&&na(Fa,xe(b.display))}if(b&&
this.collapsed&&!b.options.lineWrapping)for(aa=0;aa<this.lines.length;++aa)Fa=xb(this.lines[aa]),Ta=ab(Fa),Ta>b.display.maxLineLength&&(b.display.maxLine=Fa,b.display.maxLineLength=Ta,b.display.maxLineChanged=!0);null!=U&&b&&this.collapsed&&sc(b,U,P+1);this.lines.length=0;this.explicitlyCleared=!0;this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,b&&Fb(b.doc));b&&tc(b,"markerCleared",b,this,U,P);p&&ac(b);this.parent&&this.parent.clear()}};vg.prototype.find=function(b,p){null==b&&"bookmark"==this.type&&
(b=1);for(var U,P,aa=0;aa<this.lines.length;++aa){var Fa=this.lines[aa],Ta=Hc(Fa.markedSpans,this);if(null!=Ta.from&&(U=Wa(p?Fa:Aa(Fa),Ta.from),-1==b))return U;if(null!=Ta.to&&(P=Wa(p?Fa:Aa(Fa),Ta.to),1==b))return P}return U&&{from:U,to:P}};vg.prototype.changed=function(){var b=this,p=this.find(-1,!0),U=this,P=this.doc.cm;p&&P&&gc(P,function(){var aa=p.line,Fa=Aa(p.line);if(Fa=De(P,Fa))af(Fa),P.curOp.selectionChanged=P.curOp.forceUpdate=!0;P.curOp.updateMaxLine=!0;qd(U.doc,aa)||null==U.height||(Fa=
U.height,U.height=null,(Fa=nd(U)-Fa)&&na(aa,aa.height+Fa));tc(P,"markerChanged",P,b)})};vg.prototype.attachLine=function(b){if(!this.lines.length&&this.doc.cm){var p=this.doc.cm.curOp;p.maybeHiddenMarkers&&-1!=a(p.maybeHiddenMarkers,this)||(p.maybeUnhiddenMarkers||(p.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(b)};vg.prototype.detachLine=function(b){this.lines.splice(a(this.lines,b),1);!this.lines.length&&this.doc.cm&&(b=this.doc.cm.curOp,(b.maybeHiddenMarkers||(b.maybeHiddenMarkers=[])).push(this))};
ha(vg);var th=function(b,p){this.markers=b;this.primary=p;for(p=0;p<b.length;++p)b[p].parent=this};th.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var b=0;b<this.markers.length;++b)this.markers[b].clear();tc(this,"clear")}};th.prototype.find=function(b,p){return this.primary.find(b,p)};ha(th);var qj=0,ag=function(b,p,U,P,aa){if(!(this instanceof ag))return new ag(b,p,U,P,aa);null==U&&(U=0);ld.call(this,[new Dc([new Ng("",null)])]);this.first=U;this.scrollTop=
this.scrollLeft=0;this.cantEdit=!1;this.cleanGeneration=1;this.modeFrontier=this.highlightFrontier=U;U=Wa(U,0);this.sel=Ka(U);this.history=new La(null);this.id=++qj;this.modeOption=p;this.lineSep=P;this.direction="rtl"==aa?"rtl":"ltr";this.extend=!1;"string"==typeof b&&(b=this.splitLines(b));Hb(this,{from:U,to:U,text:b});Sa(this,Ka(U),Kf)};ag.prototype=K(ld.prototype,{constructor:ag,iter:function(b,p,U){U?this.iterN(b-this.first,p-b,U):this.iterN(this.first,this.first+this.size,b)},insert:function(b,
p){for(var U=0,P=0;P<p.length;++P)U+=p[P].height;this.insertInner(b-this.first,p,U)},remove:function(b,p){this.removeInner(b-this.first,p)},getValue:function(b){var p=oa(this,this.first,this.first+this.size);return!1===b?p:p.join(b||this.lineSeparator())},setValue:fd(function(b){var p=Wa(this.first,0),U=this.first+this.size-1;cb(this,{from:p,to:Wa(U,X(this,U).text.length),text:this.splitLines(b),origin:"setValue",full:!0},!0);this.cm&&Xe(this.cm,0,0);Sa(this,Ka(p),Kf)}),replaceRange:function(b,p,
U,P){p=eb(this,p);U=U?eb(this,U):p;Fc(this,b,p,U,P)},getRange:function(b,p,U){b=Z(this,eb(this,b),eb(this,p));return!1===U?b:b.join(U||this.lineSeparator())},getLine:function(b){return(b=this.getLineHandle(b))&&b.text},getLineHandle:function(b){if(Na(this,b))return X(this,b)},getLineNumber:function(b){return Aa(b)},getLineHandleVisualStart:function(b){"number"==typeof b&&(b=X(this,b));return xb(b)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+
this.size-1},clipPos:function(b){return eb(this,b)},getCursor:function(b){var p=this.sel.primary();return null==b||"head"==b?p.head:"anchor"==b?p.anchor:"end"==b||"to"==b||!1===b?p.to():p.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:fd(function(b,p,U){b=eb(this,"number"==typeof b?Wa(b,p||0):b);Sa(this,Ka(b,null),U)}),setSelection:fd(function(b,p,U){var P=eb(this,b);b=eb(this,p||b);Sa(this,Ka(P,b),U)}),extendSelection:fd(function(b,
p,U){Nd(this,eb(this,b),p&&eb(this,p),U)}),extendSelections:fd(function(b,p){cd(this,yb(this,b),p)}),extendSelectionsBy:fd(function(b,p){b=z(this.sel.ranges,b);cd(this,yb(this,b),p)}),setSelections:fd(function(b,p,U){if(b.length){for(var P=[],aa=0;aa<b.length;aa++)P[aa]=new kf(eb(this,b[aa].anchor),eb(this,b[aa].head));null==p&&(p=Math.min(b.length-1,this.sel.primIndex));Sa(this,ua(this.cm,P,p),U)}}),addSelection:fd(function(b,p,U){var P=this.sel.ranges.slice(0);P.push(new kf(eb(this,b),eb(this,p||
b)));Sa(this,ua(this.cm,P,P.length-1),U)}),getSelection:function(b){for(var p=this.sel.ranges,U,P=0;P<p.length;P++){var aa=Z(this,p[P].from(),p[P].to());U=U?U.concat(aa):aa}return!1===b?U:U.join(b||this.lineSeparator())},getSelections:function(b){for(var p=[],U=this.sel.ranges,P=0;P<U.length;P++){var aa=Z(this,U[P].from(),U[P].to());!1!==b&&(aa=aa.join(b||this.lineSeparator()));p[P]=aa}return p},replaceSelection:function(b,p,U){for(var P=[],aa=0;aa<this.sel.ranges.length;aa++)P[aa]=b;this.replaceSelections(P,
p,U||"+input")},replaceSelections:fd(function(b,p,U){for(var P=[],aa=this.sel,Fa=0;Fa<aa.ranges.length;Fa++){var Ta=aa.ranges[Fa];P[Fa]={from:Ta.from(),to:Ta.to(),text:this.splitLines(b[Fa]),origin:U}}if(b=p&&"end"!=p){b=[];aa=U=Wa(this.first,0);for(Fa=0;Fa<P.length;Fa++){var Xa=P[Fa];Ta=lb(Xa.from,U,aa);var ob=lb(Oa(Xa),U,aa);U=Xa.to;aa=ob;"around"==p?(Xa=this.sel.ranges[Fa],Xa=0>Ca(Xa.head,Xa.anchor),b[Fa]=new kf(Xa?ob:Ta,Xa?Ta:ob)):b[Fa]=new kf(Ta,Ta)}b=new kg(b,this.sel.primIndex)}p=b;for(b=P.length-
1;0<=b;b--)cb(this,P[b]);p?Ce(this,p):this.cm&&ye(this.cm)}),undo:fd(function(){nb(this,"undo")}),redo:fd(function(){nb(this,"redo")}),undoSelection:fd(function(){nb(this,"undo",!0)}),redoSelection:fd(function(){nb(this,"redo",!0)}),setExtending:function(b){this.extend=b},getExtending:function(){return this.extend},historySize:function(){for(var b=this.history,p=0,U=0,P=0;P<b.done.length;P++)b.done[P].ranges||++p;for(P=0;P<b.undone.length;P++)b.undone[P].ranges||++U;return{undo:p,redo:U}},clearHistory:function(){var b=
this;this.history=new La(this.history.maxGeneration);Wb(this,function(p){return p.history=b.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(b){b&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null);return this.history.generation},isClean:function(b){return this.history.generation==(b||this.cleanGeneration)},getHistory:function(){return{done:Pc(this.history.done),undone:Pc(this.history.undone)}},setHistory:function(b){var p=
this.history=new La(this.history.maxGeneration);p.done=Pc(b.done.slice(0),null,!0);p.undone=Pc(b.undone.slice(0),null,!0)},setGutterMarker:fd(function(b,p,U){return Wc(this,b,"gutter",function(P){var aa=P.gutterMarkers||(P.gutterMarkers={});aa[p]=U;!U&&E(aa)&&(P.gutterMarkers=null);return!0})}),clearGutter:fd(function(b){var p=this;this.iter(function(U){U.gutterMarkers&&U.gutterMarkers[b]&&Wc(p,U,"gutter",function(){U.gutterMarkers[b]=null;E(U.gutterMarkers)&&(U.gutterMarkers=null);return!0})})}),
lineInfo:function(b){if("number"==typeof b){if(!Na(this,b))return null;var p=b;b=X(this,b);if(!b)return null}else if(p=Aa(b),null==p)return null;return{line:p,handle:b,text:b.text,gutterMarkers:b.gutterMarkers,textClass:b.textClass,bgClass:b.bgClass,wrapClass:b.wrapClass,widgets:b.widgets}},addLineClass:fd(function(b,p,U){return Wc(this,b,"gutter"==p?"gutter":"class",function(P){var aa="text"==p?"textClass":"background"==p?"bgClass":"gutter"==p?"gutterClass":"wrapClass";if(P[aa]){if(m(U).test(P[aa]))return!1;
P[aa]+=" "+U}else P[aa]=U;return!0})}),removeLineClass:fd(function(b,p,U){return Wc(this,b,"gutter"==p?"gutter":"class",function(P){var aa="text"==p?"textClass":"background"==p?"bgClass":"gutter"==p?"gutterClass":"wrapClass",Fa=P[aa];if(Fa)if(null==U)P[aa]=null;else{var Ta=Fa.match(m(U));if(!Ta)return!1;var Xa=Ta.index+Ta[0].length;P[aa]=Fa.slice(0,Ta.index)+(Ta.index&&Xa!=Fa.length?" ":"")+Fa.slice(Xa)||null}else return!1;return!0})}),addLineWidget:fd(function(b,p,U){return Pd(this,b,p,U)}),removeLineWidget:function(b){b.clear()},
markText:function(b,p,U){return Ld(this,eb(this,b),eb(this,p),U,U&&U.type||"range")},setBookmark:function(b,p){p={replacedWith:p&&(null==p.nodeType?p.widget:p),insertLeft:p&&p.insertLeft,clearWhenEmpty:!1,shared:p&&p.shared,handleMouseEvents:p&&p.handleMouseEvents};b=eb(this,b);return Ld(this,b,b,p,"bookmark")},findMarksAt:function(b){b=eb(this,b);var p=[],U=X(this,b.line).markedSpans;if(U)for(var P=0;P<U.length;++P){var aa=U[P];(null==aa.from||aa.from<=b.ch)&&(null==aa.to||aa.to>=b.ch)&&p.push(aa.marker.parent||
aa.marker)}return p},findMarks:function(b,p,U){b=eb(this,b);p=eb(this,p);var P=[],aa=b.line;this.iter(b.line,p.line+1,function(Fa){if(Fa=Fa.markedSpans)for(var Ta=0;Ta<Fa.length;Ta++){var Xa=Fa[Ta];null!=Xa.to&&aa==b.line&&b.ch>=Xa.to||null==Xa.from&&aa!=b.line||null!=Xa.from&&aa==p.line&&Xa.from>=p.ch||U&&!U(Xa.marker)||P.push(Xa.marker.parent||Xa.marker)}++aa});return P},getAllMarks:function(){var b=[];this.iter(function(p){if(p=p.markedSpans)for(var U=0;U<p.length;++U)null!=p[U].from&&b.push(p[U].marker)});
return b},posFromIndex:function(b){var p,U=this.first,P=this.lineSeparator().length;this.iter(function(aa){aa=aa.text.length+P;if(aa>b)return p=b,!0;b-=aa;++U});return eb(this,Wa(U,p))},indexFromPos:function(b){b=eb(this,b);var p=b.ch;if(b.line<this.first||0>b.ch)return 0;var U=this.lineSeparator().length;this.iter(this.first,b.line,function(P){p+=P.text.length+U});return p},copy:function(b){var p=new ag(oa(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);
p.scrollTop=this.scrollTop;p.scrollLeft=this.scrollLeft;p.sel=this.sel;p.extend=!1;b&&(p.history.undoDepth=this.history.undoDepth,p.setHistory(this.getHistory()));return p},linkedDoc:function(b){b||(b={});var p=this.first,U=this.first+this.size;null!=b.from&&b.from>p&&(p=b.from);null!=b.to&&b.to<U&&(U=b.to);p=new ag(oa(this,p,U),b.mode||this.modeOption,p,this.lineSep,this.direction);b.sharedHist&&(p.history=this.history);(this.linked||(this.linked=[])).push({doc:p,sharedHist:b.sharedHist});p.linked=
[{doc:this,isParent:!0,sharedHist:b.sharedHist}];b=be(this);for(U=0;U<b.length;U++){var P=b[U],aa=P.find(),Fa=p.clipPos(aa.from);aa=p.clipPos(aa.to);Ca(Fa,aa)&&(Fa=Ld(p,Fa,aa,P.primary,P.primary.type),P.markers.push(Fa),Fa.parent=P)}return p},unlinkDoc:function(b){b instanceof If&&(b=b.doc);if(this.linked)for(var p=0;p<this.linked.length;++p)if(this.linked[p].doc==b){this.linked.splice(p,1);b.unlinkDoc(this);nf(be(this));break}if(b.history==this.history){var U=[b.id];Wb(b,function(P){return U.push(P.id)},
!0);b.history=new La(null);b.history.done=Pc(this.history.done,U);b.history.undone=Pc(this.history.undone,U)}},iterLinkedDocs:function(b){Wb(this,b)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(b){return this.lineSep?b.split(this.lineSep):Hi(b)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:fd(function(b){"rtl"!=b&&(b="ltr");b!=this.direction&&(this.direction=b,this.iter(function(p){return p.order=null}),this.cm&&la(this.cm))})});
ag.prototype.eachLine=ag.prototype.iter;for(var li=0,Ni=!1,Dg={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"\x3d",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"\x3d",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"\x3d",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",
224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},uh=0;10>uh;uh++)Dg[uh+48]=Dg[uh+96]=String(uh);for(var Ph=65;90>=Ph;Ph++)Dg[Ph]=String.fromCharCode(Ph);for(var vh=1;12>=vh;vh++)Dg[vh+111]=Dg[vh+63235]="F"+vh;var wh={basic:{Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore",
"Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},pcDefault:{"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter",
"Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},emacsy:{"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp",
"Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},macDefault:{"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter",
"Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]}};wh["default"]=rg?wh.macDefault:wh.pcDefault;var xh={selectAll:ja,singleSelection:function(b){return b.setSelection(b.getCursor("anchor"),
b.getCursor("head"),Kf)},killLine:function(b){return Zf(b,function(p){if(p.empty()){var U=X(b.doc,p.head.line).text.length;return p.head.ch==U&&p.head.line<b.lastLine()?{from:p.head,to:Wa(p.head.line+1,0)}:{from:p.head,to:Wa(p.head.line,U)}}return{from:p.from(),to:p.to()}})},deleteLine:function(b){return Zf(b,function(p){return{from:Wa(p.from().line,0),to:eb(b.doc,Wa(p.to().line+1,0))}})},delLineLeft:function(b){return Zf(b,function(p){return{from:Wa(p.from().line,0),to:p.from()}})},delWrappedLineLeft:function(b){return Zf(b,
function(p){var U=b.charCoords(p.head,"div").top+5;return{from:b.coordsChar({left:0,top:U},"div"),to:p.from()}})},delWrappedLineRight:function(b){return Zf(b,function(p){var U=b.charCoords(p.head,"div").top+5;U=b.coordsChar({left:b.display.lineDiv.offsetWidth+100,top:U},"div");return{from:p.from(),to:U}})},undo:function(b){return b.undo()},redo:function(b){return b.redo()},undoSelection:function(b){return b.undoSelection()},redoSelection:function(b){return b.redoSelection()},goDocStart:function(b){return b.extendSelection(Wa(b.firstLine(),
0))},goDocEnd:function(b){return b.extendSelection(Wa(b.lastLine()))},goLineStart:function(b){return b.extendSelectionsBy(function(p){return wi(b,p.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(b){return b.extendSelectionsBy(function(p){return vi(b,p.head)},{origin:"+move",bias:1})},goLineEnd:function(b){return b.extendSelectionsBy(function(p){p=p.head.line;var U=X(b.doc,p);var P=U;for(var aa;aa=Ib(P,!1);)P=aa.find(1,!0).line;P!=U&&(p=Aa(P));return eh(!0,b,U,p,-1)},{origin:"+move",
bias:-1})},goLineRight:function(b){return b.extendSelectionsBy(function(p){p=b.cursorCoords(p.head,"div").top+5;return b.coordsChar({left:b.display.lineDiv.offsetWidth+100,top:p},"div")},nh)},goLineLeft:function(b){return b.extendSelectionsBy(function(p){p=b.cursorCoords(p.head,"div").top+5;return b.coordsChar({left:0,top:p},"div")},nh)},goLineLeftSmart:function(b){return b.extendSelectionsBy(function(p){var U=b.cursorCoords(p.head,"div").top+5;U=b.coordsChar({left:0,top:U},"div");return U.ch<b.getLine(U.line).search(/\S/)?
vi(b,p.head):U},nh)},goLineUp:function(b){return b.moveV(-1,"line")},goLineDown:function(b){return b.moveV(1,"line")},goPageUp:function(b){return b.moveV(-1,"page")},goPageDown:function(b){return b.moveV(1,"page")},goCharLeft:function(b){return b.moveH(-1,"char")},goCharRight:function(b){return b.moveH(1,"char")},goColumnLeft:function(b){return b.moveH(-1,"column")},goColumnRight:function(b){return b.moveH(1,"column")},goWordLeft:function(b){return b.moveH(-1,"word")},goGroupRight:function(b){return b.moveH(1,
"group")},goGroupLeft:function(b){return b.moveH(-1,"group")},goWordRight:function(b){return b.moveH(1,"word")},delCharBefore:function(b){return b.deleteH(-1,"codepoint")},delCharAfter:function(b){return b.deleteH(1,"char")},delWordBefore:function(b){return b.deleteH(-1,"word")},delWordAfter:function(b){return b.deleteH(1,"word")},delGroupBefore:function(b){return b.deleteH(-1,"group")},delGroupAfter:function(b){return b.deleteH(1,"group")},indentAuto:function(b){return b.indentSelection("smart")},
indentMore:function(b){return b.indentSelection("add")},indentLess:function(b){return b.indentSelection("subtract")},insertTab:function(b){return b.replaceSelection("\t")},insertSoftTab:function(b){for(var p=[],U=b.listSelections(),P=b.options.tabSize,aa=0;aa<U.length;aa++){var Fa=U[aa].from();Fa=f(b.getLine(Fa.line),Fa.ch,P);p.push(n(P-Fa%P))}b.replaceSelections(p)},defaultTab:function(b){b.somethingSelected()?b.indentSelection("add"):b.execCommand("insertTab")},transposeChars:function(b){return gc(b,
function(){for(var p=b.listSelections(),U=[],P=0;P<p.length;P++)if(p[P].empty()){var aa=p[P].head,Fa=X(b.doc,aa.line).text;if(Fa)if(aa.ch==Fa.length&&(aa=new Wa(aa.line,aa.ch-1)),0<aa.ch)aa=new Wa(aa.line,aa.ch+1),b.replaceRange(Fa.charAt(aa.ch-1)+Fa.charAt(aa.ch-2),Wa(aa.line,aa.ch-2),aa,"+transpose");else if(aa.line>b.doc.first){var Ta=X(b.doc,aa.line-1).text;Ta&&(aa=new Wa(aa.line,1),b.replaceRange(Fa.charAt(0)+b.doc.lineSeparator()+Ta.charAt(Ta.length-1),Wa(aa.line-1,Ta.length-1),aa,"+transpose"))}U.push(new kf(aa,
aa))}b.setSelections(U)})},newlineAndIndent:function(b){return gc(b,function(){for(var p=b.listSelections(),U=p.length-1;0<=U;U--)b.replaceRange(b.doc.lineSeparator(),p[U].anchor,p[U].head,"+input");p=b.listSelections();for(U=0;U<p.length;U++)b.indentLine(p[U].from().line,null,!0);ye(b)})},openLine:function(b){return b.replaceSelection("\n","start")},toggleOverwrite:function(b){return b.toggleOverwrite()}},rj=new We,Oi=null,mi=function(b,p,U){this.time=b;this.pos=p;this.button=U};mi.prototype.compare=
function(b,p,U){return this.time+400>b&&0==Ca(p,this.pos)&&U==this.button};var yh,Qh,zh={toString:function(){return"CodeMirror.Init"}},sj={},Rh={};If.defaults=sj;If.optionHandlers=Rh;var Sh=[];If.defineInitHook=function(b){return Sh.push(b)};var eg=null,wf=function(b){this.cm=b;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new We;this.composing=null;this.gracePeriod=!1;this.readDOMTimeout=null};wf.prototype.init=function(b){function p(Xa){for(Xa=
Xa.target;Xa;Xa=Xa.parentNode){if(Xa==Ta)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(Xa.className))break}return!1}function U(Xa){if(p(Xa)&&!N(Fa,Xa)){if(Fa.somethingSelected())eg={lineWise:!1,text:Fa.getSelections()},"cut"==Xa.type&&Fa.replaceSelection("",null,"cut");else if(Fa.options.lineWiseCopyCut){var ob=Ih(Fa);eg={lineWise:!0,text:ob.text};"cut"==Xa.type&&Fa.operation(function(){Fa.setSelections(ob.ranges,0,Kf);Fa.replaceSelection("",null,"cut")})}else return;if(Xa.clipboardData){Xa.clipboardData.clearData();
var Db=eg.text.join("\n");Xa.clipboardData.setData("Text",Db);if(Xa.clipboardData.getData("Text")==Db){Xa.preventDefault();return}}var Xb=gj();Xa=Xb.firstChild;Fa.display.lineSpace.insertBefore(Xb,Fa.display.lineSpace.firstChild);Xa.value=eg.text.join("\n");var Ic=document.activeElement;mh(Xa);setTimeout(function(){Fa.display.lineSpace.removeChild(Xb);Ic.focus();Ic==Ta&&aa.showPrimarySelection()},50)}}var P=this,aa=this,Fa=aa.cm,Ta=aa.div=b.lineDiv;Sg(Ta,Fa.options.spellcheck,Fa.options.autocorrect,
Fa.options.autocapitalize);ue(Ta,"paste",function(Xa){!p(Xa)||N(Fa,Xa)||Ai(Xa,Fa)||11>=jf&&setTimeout(Uc(Fa,function(){return P.updateFromDOM()}),20)});ue(Ta,"compositionstart",function(Xa){P.composing={data:Xa.data,done:!1}});ue(Ta,"compositionupdate",function(Xa){P.composing||(P.composing={data:Xa.data,done:!1})});ue(Ta,"compositionend",function(Xa){P.composing&&(Xa.data!=P.composing.data&&P.readFromDOMSoon(),P.composing.done=!0)});ue(Ta,"touchstart",function(){return aa.forceCompositionEnd()});
ue(Ta,"input",function(){P.composing||P.readFromDOMSoon()});ue(Ta,"copy",U);ue(Ta,"cut",U)};wf.prototype.screenReaderLabelChanged=function(b){b?this.div.setAttribute("aria-label",b):this.div.removeAttribute("aria-label")};wf.prototype.prepareSelection=function(){var b=Rb(this.cm,!1);b.focus=document.activeElement==this.div;return b};wf.prototype.showSelection=function(b,p){b&&this.cm.display.view.length&&((b.focus||p)&&this.showPrimarySelection(),this.showMultipleSelections(b))};wf.prototype.getSelection=
function(){return this.cm.display.wrapper.ownerDocument.getSelection()};wf.prototype.showPrimarySelection=function(){var b=this.getSelection(),p=this.cm,U=p.doc.sel.primary(),P=U.from();U=U.to();if(p.display.viewTo==p.display.viewFrom||P.line>=p.display.viewTo||U.line<p.display.viewFrom)b.removeAllRanges();else{var aa=di(p,b.anchorNode,b.anchorOffset),Fa=di(p,b.focusNode,b.focusOffset);if(!aa||aa.bad||!Fa||Fa.bad||0!=Ca(Qa(aa,Fa),P)||0!=Ca(Ea(aa,Fa),U))if(aa=p.display.view,P=P.line>=p.display.viewFrom&&
ij(p,P)||{node:aa[0].measure.map[2],offset:0},U=U.line<p.display.viewTo&&ij(p,U),U||(U=aa[aa.length-1].measure,U=U.maps?U.maps[U.maps.length-1]:U.map,U={node:U[U.length-1],offset:U[U.length-2]-U[U.length-3]}),P&&U){aa=b.rangeCount&&b.getRangeAt(0);try{var Ta=lh(P.node,P.offset,U.offset,U.node)}catch(Xa){}Ta&&(!Yf&&p.state.focused?(b.collapse(P.node,P.offset),Ta.collapsed||(b.removeAllRanges(),b.addRange(Ta))):(b.removeAllRanges(),b.addRange(Ta)),aa&&null==b.anchorNode?b.addRange(aa):Yf&&this.startGracePeriod());
this.rememberSelection()}else b.removeAllRanges()}};wf.prototype.startGracePeriod=function(){var b=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){b.gracePeriod=!1;b.selectionChanged()&&b.cm.operation(function(){return b.cm.curOp.selectionChanged=!0})},20)};wf.prototype.showMultipleSelections=function(b){u(this.cm.display.cursorDiv,b.cursors);u(this.cm.display.selectionDiv,b.selection)};wf.prototype.rememberSelection=function(){var b=this.getSelection();this.lastAnchorNode=
b.anchorNode;this.lastAnchorOffset=b.anchorOffset;this.lastFocusNode=b.focusNode;this.lastFocusOffset=b.focusOffset};wf.prototype.selectionInEditor=function(){var b=this.getSelection();if(!b.rangeCount)return!1;b=b.getRangeAt(0).commonAncestorContainer;return w(this.div,b)};wf.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&document.activeElement==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())};wf.prototype.blur=function(){this.div.blur()};
wf.prototype.getField=function(){return this.div};wf.prototype.supportsTouch=function(){return!0};wf.prototype.receivedFocus=function(){function b(){p.cm.state.focused&&(p.pollSelection(),p.polling.set(p.cm.options.pollInterval,b))}var p=this;this.selectionInEditor()?this.pollSelection():gc(this.cm,function(){return p.cm.curOp.selectionChanged=!0});this.polling.set(this.cm.options.pollInterval,b)};wf.prototype.selectionChanged=function(){var b=this.getSelection();return b.anchorNode!=this.lastAnchorNode||
b.anchorOffset!=this.lastAnchorOffset||b.focusNode!=this.lastFocusNode||b.focusOffset!=this.lastFocusOffset};wf.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var b=this.getSelection(),p=this.cm;if(jh&&Kg&&this.cm.display.gutterSpecs.length&&jj(b.anchorNode))this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();else if(!this.composing){this.rememberSelection();var U=di(p,b.anchorNode,b.anchorOffset),
P=di(p,b.focusNode,b.focusOffset);U&&P&&gc(p,function(){Sa(p.doc,Ka(U,P),Kf);if(U.bad||P.bad)p.curOp.selectionChanged=!0})}}};wf.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var b=this.cm,p=b.display,U=b.doc.sel.primary(),P=U.from(),aa=U.to();0==P.ch&&P.line>b.firstLine()&&(P=Wa(P.line-1,X(b.doc,P.line-1).length));aa.ch==X(b.doc,aa.line).text.length&&aa.line<b.lastLine()&&(aa=Wa(aa.line+1,0));if(P.line<p.viewFrom||aa.line>
p.viewTo-1)return!1;var Fa;P.line==p.viewFrom||0==(Fa=Zd(b,P.line))?(U=Aa(p.view[0].line),Fa=p.view[0].node):(U=Aa(p.view[Fa].line),Fa=p.view[Fa-1].node.nextSibling);var Ta=Zd(b,aa.line);Ta==p.view.length-1?(aa=p.viewTo-1,p=p.lineDiv.lastChild):(aa=Aa(p.view[Ta+1].line)-1,p=p.view[Ta+1].node.previousSibling);if(!Fa)return!1;p=b.doc.splitLines(Ci(b,Fa,p,U,aa));for(Fa=Z(b.doc,Wa(U,0),Wa(aa,X(b.doc,aa).text.length));1<p.length&&1<Fa.length;)if(x(p)==x(Fa))p.pop(),Fa.pop(),aa--;else if(p[0]==Fa[0])p.shift(),
Fa.shift(),U++;else break;var Xa=0;Ta=0;for(var ob=p[0],Db=Fa[0],Xb=Math.min(ob.length,Db.length);Xa<Xb&&ob.charCodeAt(Xa)==Db.charCodeAt(Xa);)++Xa;ob=x(p);Db=x(Fa);for(Xb=Math.min(ob.length-(1==p.length?Xa:0),Db.length-(1==Fa.length?Xa:0));Ta<Xb&&ob.charCodeAt(ob.length-Ta-1)==Db.charCodeAt(Db.length-Ta-1);)++Ta;if(1==p.length&&1==Fa.length&&U==P.line)for(;Xa&&Xa>P.ch&&ob.charCodeAt(ob.length-Ta-1)==Db.charCodeAt(Db.length-Ta-1);)Xa--,Ta++;p[p.length-1]=ob.slice(0,ob.length-Ta).replace(/^\u200b+/,
"");p[0]=p[0].slice(Xa).replace(/\u200b+$/,"");P=Wa(U,Xa);U=Wa(aa,Fa.length?x(Fa).length-Ta:0);if(1<p.length||p[0]||Ca(P,U))return Fc(b.doc,p,P,U,"+input"),!0};wf.prototype.ensurePolled=function(){this.forceCompositionEnd()};wf.prototype.reset=function(){this.forceCompositionEnd()};wf.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())};wf.prototype.readFromDOMSoon=function(){var b=this;
null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){b.readDOMTimeout=null;if(b.composing)if(b.composing.done)b.composing=null;else return;b.updateFromDOM()},80))};wf.prototype.updateFromDOM=function(){var b=this;!this.cm.isReadOnly()&&this.pollContent()||gc(this.cm,function(){return sc(b.cm)})};wf.prototype.setUneditable=function(b){b.contentEditable="false"};wf.prototype.onKeyPress=function(b){0==b.charCode||this.composing||(b.preventDefault(),this.cm.isReadOnly()||Uc(this.cm,zi)(this.cm,
String.fromCharCode(null==b.charCode?b.keyCode:b.charCode),0))};wf.prototype.readOnlyChanged=function(b){this.div.contentEditable=String("nocursor"!=b)};wf.prototype.onContextMenu=function(){};wf.prototype.resetPosition=function(){};wf.prototype.needsContentAttribute=!0;var Pf=function(b){this.cm=b;this.prevInput="";this.pollingFast=!1;this.polling=new We;this.hasSelection=!1;this.composing=null};Pf.prototype.init=function(b){function p(Ta){if(!N(aa,Ta)){if(aa.somethingSelected())eg={lineWise:!1,
text:aa.getSelections()};else if(aa.options.lineWiseCopyCut){var Xa=Ih(aa);eg={lineWise:!0,text:Xa.text};"cut"==Ta.type?aa.setSelections(Xa.ranges,null,Kf):(P.prevInput="",Fa.value=Xa.text.join("\n"),mh(Fa))}else return;"cut"==Ta.type&&(aa.state.cutIncoming=+new Date)}}var U=this,P=this,aa=this.cm;this.createField(b);var Fa=this.textarea;b.wrapper.insertBefore(this.wrapper,b.wrapper.firstChild);ih&&(Fa.style.width="0px");ue(Fa,"input",function(){$e&&9<=jf&&U.hasSelection&&(U.hasSelection=null);P.poll()});
ue(Fa,"paste",function(Ta){N(aa,Ta)||Ai(Ta,aa)||(aa.state.pasteIncoming=+new Date,P.fastPoll())});ue(Fa,"cut",p);ue(Fa,"copy",p);ue(b.scroller,"paste",function(Ta){if(!od(b,Ta)&&!N(aa,Ta))if(Fa.dispatchEvent){var Xa=new Event("paste");Xa.clipboardData=Ta.clipboardData;Fa.dispatchEvent(Xa)}else aa.state.pasteIncoming=+new Date,P.focus()});ue(b.lineSpace,"selectstart",function(Ta){od(b,Ta)||Y(Ta)});ue(Fa,"compositionstart",function(){var Ta=aa.getCursor("from");P.composing&&P.composing.range.clear();
P.composing={start:Ta,range:aa.markText(Ta,aa.getCursor("to"),{className:"CodeMirror-composing"})}});ue(Fa,"compositionend",function(){P.composing&&(P.poll(),P.composing.range.clear(),P.composing=null)})};Pf.prototype.createField=function(b){this.wrapper=gj();this.textarea=this.wrapper.firstChild};Pf.prototype.screenReaderLabelChanged=function(b){b?this.textarea.setAttribute("aria-label",b):this.textarea.removeAttribute("aria-label")};Pf.prototype.prepareSelection=function(){var b=this.cm,p=b.display,
U=b.doc,P=Rb(b);if(b.options.moveInputWithCursor){b=ce(b,U.sel.primary().head,"div");U=p.wrapper.getBoundingClientRect();var aa=p.lineDiv.getBoundingClientRect();P.teTop=Math.max(0,Math.min(p.wrapper.clientHeight-10,b.top+aa.top-U.top));P.teLeft=Math.max(0,Math.min(p.wrapper.clientWidth-10,b.left+aa.left-U.left))}return P};Pf.prototype.showSelection=function(b){var p=this.cm.display;u(p.cursorDiv,b.cursors);u(p.selectionDiv,b.selection);null!=b.teTop&&(this.wrapper.style.top=b.teTop+"px",this.wrapper.style.left=
b.teLeft+"px")};Pf.prototype.reset=function(b){if(!this.contextMenuPending&&!this.composing){var p=this.cm;p.somethingSelected()?(this.prevInput="",b=p.getSelection(),this.textarea.value=b,p.state.focused&&mh(this.textarea),$e&&9<=jf&&(this.hasSelection=b)):b||(this.prevInput=this.textarea.value="",$e&&9<=jf&&(this.hasSelection=null))}};Pf.prototype.getField=function(){return this.textarea};Pf.prototype.supportsTouch=function(){return!1};Pf.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&
(!kh||v()!=this.textarea))try{this.textarea.focus()}catch(b){}};Pf.prototype.blur=function(){this.textarea.blur()};Pf.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0};Pf.prototype.receivedFocus=function(){this.slowPoll()};Pf.prototype.slowPoll=function(){var b=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){b.poll();b.cm.state.focused&&b.slowPoll()})};Pf.prototype.fastPoll=function(){function b(){U.poll()||p?(U.pollingFast=!1,U.slowPoll()):
(p=!0,U.polling.set(60,b))}var p=!1,U=this;U.pollingFast=!0;U.polling.set(20,b)};Pf.prototype.poll=function(){var b=this,p=this.cm,U=this.textarea,P=this.prevInput;if(this.contextMenuPending||!p.state.focused||Wi(U)&&!P&&!this.composing||p.isReadOnly()||p.options.disableInput||p.state.keySeq)return!1;var aa=U.value;if(aa==P&&!p.somethingSelected())return!1;if($e&&9<=jf&&this.hasSelection===aa||rg&&/[\uf700-\uf7ff]/.test(aa))return p.display.input.reset(),!1;if(p.doc.sel==p.display.selForContextMenu){var Fa=
aa.charCodeAt(0);8203!=Fa||P||(P="");if(8666==Fa)return this.reset(),this.cm.execCommand("undo")}var Ta=0;for(Fa=Math.min(P.length,aa.length);Ta<Fa&&P.charCodeAt(Ta)==aa.charCodeAt(Ta);)++Ta;gc(p,function(){zi(p,aa.slice(Ta),P.length-Ta,null,b.composing?"*compose":null);1E3<aa.length||-1<aa.indexOf("\n")?U.value=b.prevInput="":b.prevInput=aa;b.composing&&(b.composing.range.clear(),b.composing.range=p.markText(b.composing.start,p.getCursor("to"),{className:"CodeMirror-composing"}))});return!0};Pf.prototype.ensurePolled=
function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)};Pf.prototype.onKeyPress=function(){$e&&9<=jf&&(this.hasSelection=null);this.fastPoll()};Pf.prototype.onContextMenu=function(b){function p(){if(null!=Ta.selectionStart){var nc=aa.somethingSelected(),gd=""+(nc?Ta.value:"");Ta.value="";Ta.value=gd;P.prevInput=nc?"":"";Ta.selectionStart=1;Ta.selectionEnd=gd.length;Fa.selForContextMenu=aa.doc.sel}}function U(){if(P.contextMenuPending==U&&(P.contextMenuPending=!1,P.wrapper.style.cssText=
Xb,Ta.style.cssText=Db,$e&&9>jf&&Fa.scrollbars.setScrollTop(Fa.scroller.scrollTop=ob),null!=Ta.selectionStart)){(!$e||$e&&9>jf)&&p();var nc=0,gd=function(){Fa.selForContextMenu==aa.doc.sel&&0==Ta.selectionStart&&0<Ta.selectionEnd&&""==P.prevInput?Uc(aa,ja)(aa):10>nc++?Fa.detectingSelectAll=setTimeout(gd,500):(Fa.selForContextMenu=null,Fa.input.reset())};Fa.detectingSelectAll=setTimeout(gd,200)}}var P=this,aa=P.cm,Fa=aa.display,Ta=P.textarea;P.contextMenuPending&&P.contextMenuPending();var Xa=gf(aa,
b),ob=Fa.scroller.scrollTop;if(Xa&&!dg){aa.options.resetSelectionOnContextMenu&&-1==aa.doc.sel.contains(Xa)&&Uc(aa,Sa)(aa.doc,Ka(Xa),Kf);var Db=Ta.style.cssText,Xb=P.wrapper.style.cssText;Xa=P.wrapper.offsetParent.getBoundingClientRect();P.wrapper.style.cssText="position: static";Ta.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(b.clientY-Xa.top-5)+"px; left: "+(b.clientX-Xa.left-5)+"px;\n      z-index: 1000; background: "+($e?"rgba(255, 255, 255, .05)":"transparent")+
";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity\x3d5);";if(Wf)var Ic=window.scrollY;Fa.input.focus();Wf&&window.scrollTo(null,Ic);Fa.input.reset();aa.somethingSelected()||(Ta.value=P.prevInput=" ");P.contextMenuPending=U;Fa.selForContextMenu=aa.doc.sel;clearTimeout(Fa.detectingSelectAll);$e&&9<=jf&&p();if(Kh){Ha(b);var pc=function(){ia(window,"mouseup",pc);setTimeout(U,20)};ue(window,"mouseup",pc)}else setTimeout(U,50)}};Pf.prototype.readOnlyChanged=
function(b){b||this.reset();this.textarea.disabled="nocursor"==b;this.textarea.readOnly=!!b};Pf.prototype.setUneditable=function(){};Pf.prototype.needsContentAttribute=!1;(function(b){function p(P,aa,Fa,Ta){b.defaults[P]=aa;Fa&&(U[P]=Ta?function(Xa,ob,Db){Db!=zh&&Fa(Xa,ob,Db)}:Fa)}var U=b.optionHandlers;b.defineOption=p;b.Init=zh;p("value","",function(P,aa){return P.setValue(aa)},!0);p("mode",null,function(P,aa){P.doc.modeOption=aa;wb(P)},!0);p("indentUnit",2,wb,!0);p("indentWithTabs",!1);p("smartIndent",
!0);p("tabSize",4,function(P){ub(P);cf(P);sc(P)},!0);p("lineSeparator",null,function(P,aa){if(P.doc.lineSep=aa){var Fa=[],Ta=P.doc.first;P.doc.iter(function(ob){for(var Db=0;;){var Xb=ob.text.indexOf(aa,Db);if(-1==Xb)break;Db=Xb+aa.length;Fa.push(Wa(Ta,Xb))}Ta++});for(var Xa=Fa.length-1;0<=Xa;Xa--)Fc(P.doc,aa,Fa[Xa],Wa(Fa[Xa].line,Fa[Xa].ch+aa.length))}});p("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200c\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(P,aa,Fa){P.state.specialChars=
new RegExp(aa.source+(aa.test("\t")?"":"|\t"),"g");Fa!=zh&&P.refresh()});p("specialCharPlaceholder",Eb,function(P){return P.refresh()},!0);p("electricChars",!0);p("inputStyle",kh?"contenteditable":"textarea",function(){throw Error("inputStyle can not (yet) be changed in a running editor");},!0);p("spellcheck",!1,function(P,aa){return P.getInputField().spellcheck=aa},!0);p("autocorrect",!1,function(P,aa){return P.getInputField().autocorrect=aa},!0);p("autocapitalize",!1,function(P,aa){return P.getInputField().autocapitalize=
aa},!0);p("rtlMoveVisually",!hg);p("wholeLineUpdateBefore",!0);p("theme","default",function(P){ej(P);Se(P)},!0);p("keyMap","default",function(P,aa,Fa){aa=Df(aa);(Fa=Fa!=zh&&Df(Fa))&&Fa.detach&&Fa.detach(P,aa);aa.attach&&aa.attach(P,Fa||null)});p("extraKeys",null);p("configureMouse",null);p("lineWrapping",!1,Pj,!0);p("gutters",[],function(P,aa){P.display.gutterSpecs=$d(aa,P.options.lineNumbers);Se(P)},!0);p("fixedGutter",!0,function(P,aa){P.display.gutters.style.left=aa?sf(P.display)+"px":"0";P.refresh()},
!0);p("coverGutterNextToScrollbar",!1,function(P){return Ma(P)},!0);p("scrollbarStyle","native",function(P){Pb(P);Ma(P);P.display.scrollbars.setScrollTop(P.doc.scrollTop);P.display.scrollbars.setScrollLeft(P.doc.scrollLeft)},!0);p("lineNumbers",!1,function(P,aa){P.display.gutterSpecs=$d(P.options.gutters,aa);Se(P)},!0);p("firstLineNumber",1,Se,!0);p("lineNumberFormatter",function(P){return P},Se,!0);p("showCursorWhenSelecting",!1,pb,!0);p("resetSelectionOnContextMenu",!0);p("lineWiseCopyCut",!0);
p("pasteLinesPerSelection",!0);p("selectionsMayTouch",!1);p("readOnly",!1,function(P,aa){"nocursor"==aa&&($c(P),P.display.input.blur());P.display.input.readOnlyChanged(aa)});p("screenReaderLabel",null,function(P,aa){P.display.input.screenReaderLabelChanged(""===aa?null:aa)});p("disableInput",!1,function(P,aa){aa||P.display.input.reset()},!0);p("dragDrop",!0,xi);p("allowDropFileTypes",null);p("cursorBlinkRate",530);p("cursorScrollMargin",0);p("cursorHeight",1,pb,!0);p("singleCursorHeightPerLine",!0,
pb,!0);p("workTime",100);p("workDelay",100);p("flattenSpans",!0,ub,!0);p("addModeClass",!1,ub,!0);p("pollInterval",100);p("undoDepth",200,function(P,aa){return P.doc.history.undoDepth=aa});p("historyEventDelay",1250);p("viewportMargin",10,function(P){return P.refresh()},!0);p("maxHighlightLength",1E4,ub,!0);p("moveInputWithCursor",!0,function(P,aa){aa||P.display.input.resetPosition()});p("tabindex",null,function(P,aa){return P.display.input.getField().tabIndex=aa||""});p("autofocus",null);p("direction",
"ltr",function(P,aa){return P.doc.setDirection(aa)},!0);p("phrases",null)})(If);(function(b){var p=b.optionHandlers,U=b.helpers={};b.prototype={constructor:b,focus:function(){window.focus();this.display.input.focus()},setOption:function(P,aa){var Fa=this.options,Ta=Fa[P];if(Fa[P]!=aa||"mode"==P)Fa[P]=aa,p.hasOwnProperty(P)&&Uc(this,p[P])(this,aa,Ta),ca(this,"optionChange",this,P)},getOption:function(P){return this.options[P]},getDoc:function(){return this.doc},addKeyMap:function(P,aa){this.state.keyMaps[aa?
"push":"unshift"](Df(P))},removeKeyMap:function(P){for(var aa=this.state.keyMaps,Fa=0;Fa<aa.length;++Fa)if(aa[Fa]==P||aa[Fa].name==P)return aa.splice(Fa,1),!0},addOverlay:Mc(function(P,aa){var Fa=P.token?P:b.getMode(this.options,P);if(Fa.startState)throw Error("Overlays may not be stateful.");B(this.state.overlays,{mode:Fa,modeSpec:P,opaque:aa&&aa.opaque,priority:aa&&aa.priority||0},function(Ta){return Ta.priority});this.state.modeGen++;sc(this)}),removeOverlay:Mc(function(P){for(var aa=this.state.overlays,
Fa=0;Fa<aa.length;++Fa){var Ta=aa[Fa].modeSpec;if(Ta==P||"string"==typeof P&&Ta.name==P){aa.splice(Fa,1);this.state.modeGen++;sc(this);break}}}),indentLine:Mc(function(P,aa,Fa){"string"!=typeof aa&&"number"!=typeof aa&&(aa=null==aa?this.options.smartIndent?"smart":"prev":aa?"add":"subtract");Na(this.doc,P)&&Rg(this,P,aa,Fa)}),indentSelection:Mc(function(P){for(var aa=this.doc.sel.ranges,Fa=-1,Ta=0;Ta<aa.length;Ta++){var Xa=aa[Ta];if(Xa.empty())Xa.head.line>Fa&&(Rg(this,Xa.head.line,P,!0),Fa=Xa.head.line,
Ta==this.doc.sel.primIndex&&ye(this));else{var ob=Xa.from();Xa=Xa.to();var Db=Math.max(Fa,ob.line);Fa=Math.min(this.lastLine(),Xa.line-(Xa.ch?0:1))+1;for(Xa=Db;Xa<Fa;++Xa)Rg(this,Xa,P);Xa=this.doc.sel.ranges;0==ob.ch&&aa.length==Xa.length&&0<Xa[Ta].from().ch&&pd(this.doc,Ta,new kf(ob,Xa[Ta].to()),Kf)}}}),getTokenAt:function(P,aa){return $b(this,P,aa)},getLineTokens:function(P,aa){return $b(this,Wa(P),aa,!0)},getTokenTypeAt:function(P){P=eb(this.doc,P);var aa=fc(this,X(this.doc,P.line)),Fa=0,Ta=(aa.length-
1)/2;P=P.ch;if(0==P)aa=aa[2];else for(;;){var Xa=Fa+Ta>>1;if((Xa?aa[2*Xa-1]:0)>=P)Ta=Xa;else if(aa[2*Xa+1]<P)Fa=Xa+1;else{aa=aa[2*Xa+2];break}}Fa=aa?aa.indexOf("overlay "):-1;return 0>Fa?aa:0==Fa?null:aa.slice(0,Fa-1)},getModeAt:function(P){var aa=this.doc.mode;return aa.innerMode?b.innerMode(aa,this.getTokenAt(P).state).mode:aa},getHelper:function(P,aa){return this.getHelpers(P,aa)[0]},getHelpers:function(P,aa){var Fa=[];if(!U.hasOwnProperty(aa))return Fa;var Ta=U[aa];P=this.getModeAt(P);if("string"==
typeof P[aa])Ta[P[aa]]&&Fa.push(Ta[P[aa]]);else if(P[aa])for(var Xa=0;Xa<P[aa].length;Xa++){var ob=Ta[P[aa][Xa]];ob&&Fa.push(ob)}else P.helperType&&Ta[P.helperType]?Fa.push(Ta[P.helperType]):Ta[P.name]&&Fa.push(Ta[P.name]);for(aa=0;aa<Ta._global.length;aa++)Xa=Ta._global[aa],Xa.pred(P,this)&&-1==a(Fa,Xa.val)&&Fa.push(Xa.val);return Fa},getStateAfter:function(P,aa){var Fa=this.doc;P=Math.max(Fa.first,Math.min(null==P?Fa.first+Fa.size-1:P,Fa.first+Fa.size-1));return ad(this,P+1,aa).state},cursorCoords:function(P,
aa){var Fa=this.doc.sel.primary();P=null==P?Fa.head:"object"==typeof P?eb(this.doc,P):P?Fa.from():Fa.to();return ce(this,P,aa||"page")},charCoords:function(P,aa){return Gd(this,eb(this.doc,P),aa||"page")},coordsChar:function(P,aa){P=zd(this,P,aa||"page");return Hd(this,P.left,P.top)},lineAtHeight:function(P,aa){P=zd(this,{top:P,left:0},aa||"page").top;return ka(this.doc,P+this.display.viewOffset)},heightAtLine:function(P,aa,Fa){var Ta=!1;if("number"==typeof P){var Xa=this.doc.first+this.doc.size-
1;P<this.doc.first?P=this.doc.first:P>Xa&&(P=Xa,Ta=!0);P=X(this.doc,P)}return fe(this,P,{top:0,left:0},aa||"page",Fa||Ta).top+(Ta?this.doc.height-Ga(P):0)},defaultTextHeight:function(){return xe(this.display)},defaultCharWidth:function(){return de(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(P,aa,Fa,Ta,Xa){var ob=this.display;P=ce(this,eb(this.doc,P));var Db=P.bottom,Xb=P.left;aa.style.position="absolute";aa.setAttribute("cm-ignore-events",
"true");this.display.input.setUneditable(aa);ob.sizer.appendChild(aa);if("over"==Ta)Db=P.top;else if("above"==Ta||"near"==Ta){var Ic=Math.max(ob.wrapper.clientHeight,this.doc.height),pc=Math.max(ob.sizer.clientWidth,ob.lineSpace.clientWidth);("above"==Ta||P.bottom+aa.offsetHeight>Ic)&&P.top>aa.offsetHeight?Db=P.top-aa.offsetHeight:P.bottom+aa.offsetHeight<=Ic&&(Db=P.bottom);Xb+aa.offsetWidth>pc&&(Xb=pc-aa.offsetWidth)}aa.style.top=Db+"px";aa.style.left=aa.style.right="";"right"==Xa?(Xb=ob.sizer.clientWidth-
aa.offsetWidth,aa.style.right="0px"):("left"==Xa?Xb=0:"middle"==Xa&&(Xb=(ob.sizer.clientWidth-aa.offsetWidth)/2),aa.style.left=Xb+"px");Fa&&(P=Ne(this,{left:Xb,top:Db,right:Xb+aa.offsetWidth,bottom:Db+aa.offsetHeight}),null!=P.scrollTop&&df(this,P.scrollTop),null!=P.scrollLeft&&Pe(this,P.scrollLeft))},triggerOnKeyDown:Mc($i),triggerOnKeyPress:Mc(ai),triggerOnKeyUp:Xf,triggerOnMouseDown:Mc(Gh),execCommand:function(P){if(xh.hasOwnProperty(P))return xh[P].call(null,this)},triggerElectric:Mc(function(P){Bi(this,
P)}),findPosH:function(P,aa,Fa,Ta){var Xa=1;0>aa&&(Xa=-1,aa=-aa);P=eb(this.doc,P);for(var ob=0;ob<aa&&(P=Di(this.doc,P,Xa,Fa,Ta),!P.hitSide);++ob);return P},moveH:Mc(function(P,aa){var Fa=this;this.extendSelectionsBy(function(Ta){return Fa.display.shift||Fa.doc.extend||Ta.empty()?Di(Fa.doc,Ta.head,P,aa,Fa.options.rtlMoveVisually):0>P?Ta.from():Ta.to()},nh)}),deleteH:Mc(function(P,aa){var Fa=this.doc;this.doc.sel.somethingSelected()?Fa.replaceSelection("",null,"+delete"):Zf(this,function(Ta){var Xa=
Di(Fa,Ta.head,P,aa,!1);return 0>P?{from:Xa,to:Ta.head}:{from:Ta.head,to:Xa}})}),findPosV:function(P,aa,Fa,Ta){var Xa=1;0>aa&&(Xa=-1,aa=-aa);var ob=eb(this.doc,P);for(P=0;P<aa&&(ob=ce(this,ob,"div"),null==Ta?Ta=ob.left:ob.left=Ta,ob=hj(this,ob,Xa,Fa),!ob.hitSide);++P);return ob},moveV:Mc(function(P,aa){var Fa=this,Ta=this.doc,Xa=[],ob=!this.display.shift&&!Ta.extend&&Ta.sel.somethingSelected();Ta.extendSelectionsBy(function(Xb){if(ob)return 0>P?Xb.from():Xb.to();var Ic=ce(Fa,Xb.head,"div");null!=Xb.goalColumn&&
(Ic.left=Xb.goalColumn);Xa.push(Ic.left);var pc=hj(Fa,Ic,P,aa);"page"==aa&&Xb==Ta.sel.primary()&&Yc(Fa,Gd(Fa,pc,"div").top-Ic.top);return pc},nh);if(Xa.length)for(var Db=0;Db<Ta.sel.ranges.length;Db++)Ta.sel.ranges[Db].goalColumn=Xa[Db]}),findWordAt:function(P){var aa=X(this.doc,P.line).text,Fa=P.ch,Ta=P.ch;if(aa){var Xa=this.getHelper(P,"wordChars");"before"!=P.sticky&&Ta!=aa.length||!Fa?++Ta:--Fa;var ob=aa.charAt(Fa);for(ob=y(ob,Xa)?function(Db){return y(Db,Xa)}:/\s/.test(ob)?function(Db){return/\s/.test(Db)}:
function(Db){return!/\s/.test(Db)&&!y(Db)};0<Fa&&ob(aa.charAt(Fa-1));)--Fa;for(;Ta<aa.length&&ob(aa.charAt(Ta));)++Ta}return new kf(Wa(P.line,Fa),Wa(P.line,Ta))},toggleOverwrite:function(P){if(null==P||P!=this.state.overwrite)(this.state.overwrite=!this.state.overwrite)?t(this.display.cursorDiv,"CodeMirror-overwrite"):ug(this.display.cursorDiv,"CodeMirror-overwrite"),ca(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==v()},isReadOnly:function(){return!(!this.options.readOnly&&
!this.doc.cantEdit)},scrollTo:Mc(function(P,aa){Xe(this,P,aa)}),getScrollInfo:function(){var P=this.display.scroller;return{left:P.scrollLeft,top:P.scrollTop,height:P.scrollHeight-Ud(this)-this.display.barHeight,width:P.scrollWidth-Ud(this)-this.display.barWidth,clientHeight:ne(this),clientWidth:ie(this)}},scrollIntoView:Mc(function(P,aa){null==P?(P={from:this.doc.sel.primary().head,to:null},null==aa&&(aa=this.options.cursorScrollMargin)):"number"==typeof P?P={from:Wa(P,0),to:null}:null==P.from&&
(P={from:P,to:null});P.to||(P.to=P.from);P.margin=aa||0;null!=P.from.line?(Ke(this),this.curOp.scrollToPos=P):tf(this,P.from,P.to,P.margin)}),setSize:Mc(function(P,aa){var Fa=this,Ta=function(ob){return"number"==typeof ob||/^\d+$/.test(String(ob))?ob+"px":ob};null!=P&&(this.display.wrapper.style.width=Ta(P));null!=aa&&(this.display.wrapper.style.height=Ta(aa));this.options.lineWrapping&&Be(this);var Xa=this.display.viewFrom;this.doc.iter(Xa,this.display.viewTo,function(ob){if(ob.widgets)for(var Db=
0;Db<ob.widgets.length;Db++)if(ob.widgets[Db].noHScroll){ta(Fa,Xa,"widget");break}++Xa});this.curOp.forceUpdate=!0;ca(this,"refresh",this)}),operation:function(P){return gc(this,P)},startOperation:function(){return Mb(this)},endOperation:function(){return ac(this)},refresh:Mc(function(){var P=this.display.cachedTextHeight;sc(this);this.curOp.forceUpdate=!0;cf(this);Xe(this,this.doc.scrollLeft,this.doc.scrollTop);pe(this.display);(null==P||.5<Math.abs(P-xe(this.display))||this.options.lineWrapping)&&
mf(this);ca(this,"refresh",this)}),swapDoc:Mc(function(P){var aa=this.doc;aa.cm=null;this.state.selectingText&&this.state.selectingText();oc(this,P);cf(this);this.display.input.reset();Xe(this,P.scrollLeft,P.scrollTop);this.curOp.forceScroll=!0;tc(this,"swapDoc",this,aa);return aa}),phrase:function(P){var aa=this.options.phrases;return aa&&Object.prototype.hasOwnProperty.call(aa,P)?aa[P]:P},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},
getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};ha(b);b.registerHelper=function(P,aa,Fa){U.hasOwnProperty(P)||(U[P]=b[P]={_global:[]});U[P][aa]=Fa};b.registerGlobalHelper=function(P,aa,Fa,Ta){b.registerHelper(P,aa,Ta);U[P]._global.push({pred:Fa,val:Ta})}})(If);var Tj="iter insert remove copy getEditor constructor".split(" "),Th;for(Th in ag.prototype)ag.prototype.hasOwnProperty(Th)&&0>a(Tj,Th)&&(If.prototype[Th]=function(b){return function(){return b.apply(this.doc,
arguments)}}(ag.prototype[Th]));ha(ag);If.inputStyles={textarea:Pf,contenteditable:wf};If.defineMode=function(b){If.defaults.mode||"null"==b||(If.defaults.mode=b);ra.apply(this,arguments)};If.defineMIME=function(b,p){qh[b]=p};If.defineMode("null",function(){return{token:function(b){return b.skipToEnd()}}});If.defineMIME("text/plain","null");If.defineExtension=function(b,p){If.prototype[b]=p};If.defineDocExtension=function(b,p){ag.prototype[b]=p};If.fromTextArea=function(b,p){function U(){b.value=
Xa.getValue()}p=p?d(p):{};p.value=b.value;!p.tabindex&&b.tabIndex&&(p.tabindex=b.tabIndex);!p.placeholder&&b.placeholder&&(p.placeholder=b.placeholder);if(null==p.autofocus){var P=v();p.autofocus=P==b||null!=b.getAttribute("autofocus")&&P==document.body}if(b.form&&(ue(b.form,"submit",U),!p.leaveSubmitMethodAlone)){var aa=b.form;var Fa=aa.submit;try{var Ta=aa.submit=function(){U();aa.submit=Fa;aa.submit();aa.submit=Ta}}catch(ob){}}p.finishInit=function(ob){ob.save=U;ob.getTextArea=function(){return b};
ob.toTextArea=function(){ob.toTextArea=isNaN;U();b.parentNode.removeChild(ob.getWrapperElement());b.style.display="";b.form&&(ia(b.form,"submit",U),p.leaveSubmitMethodAlone||"function"!=typeof b.form.submit||(b.form.submit=Fa))}};b.style.display="none";var Xa=If(function(ob){return b.parentNode.insertBefore(ob,b.nextSibling)},p);return Xa};(function(b){b.off=ia;b.on=ue;b.wheelEventPixels=Ff;b.Doc=ag;b.splitLines=Hi;b.countColumn=f;b.findColumn=e;b.isWordChar=D;b.Pass=Vg;b.signal=ca;b.Line=Ng;b.changeEnd=
Oa;b.scrollbarModel=Mh;b.Pos=Wa;b.cmpPos=Ca;b.modes=dh;b.mimeModes=qh;b.resolveMode=Pa;b.getMode=Ua;b.modeExtensions=Mg;b.extendMode=za;b.copyState=qa;b.startState=T;b.innerMode=R;b.commands=xh;b.keyMap=wh;b.keyName=hf;b.isModifierKey=Ze;b.lookupKey=uf;b.normalizeKeyMap=Ae;b.StringStream=Lf;b.SharedTextMarker=th;b.TextMarker=vg;b.LineWidget=sh;b.e_preventDefault=Y;b.e_stopPropagation=wa;b.e_stop=Ha;b.addClass=t;b.contains=w;b.rmClass=ug;b.keyNames=Dg})(If);If.version="5.59.2";return If})};
shadow$provide[70]=function(Ia,A,mb,J){(function(m){"object"===typeof J&&"object"===typeof mb?m(A(69)):"function"===typeof define&&define.amd?define(["../../lib/codemirror"],m):m(CodeMirror)})(function(m){m.defineMode("clojure",function(l){function u(M,K){if(M.eatSpace()||M.eat(","))return["space",null];if(M.match(x))return[null,"number"];if(M.match(z))return[null,"string-2"];if(M.eat(/^"/))return(K.tokenize=G)(M,K);if(M.eat(/^[(\[{]/))return["open","bracket"];if(M.eat(/^[)\]}]/))return["close","bracket"];
if(M.eat(/^;/))return M.skipToEnd(),["space","comment"];if(M.eat(/^[#'@^`~]/))return[null,"meta"];var D=M.match(B);D=D&&D[0];return D?"comment"===D&&"("===K.lastToken?(K.tokenize=L)(M,K):v(D,d)||":"===D.charAt(0)?["symbol","atom"]:v(D,f)||v(D,a)?["symbol","keyword"]:"("===K.lastToken?["symbol","builtin"]:["symbol","variable"]:(M.next(),M.eatWhile(function(y){return!v(y,n)}),[null,"error"])}function G(M,K){for(var D=!1,y;y=M.next();){if('"'===y&&!D){K.tokenize=u;break}D=!D&&"\\"===y}return[null,"string"]}
function L(M,K){for(var D=1,y;y=M.next();)if(")"===y&&D--,"("===y&&D++,0===D){M.backUp(1);K.tokenize=u;break}return["space","comment"]}function w(M){for(var K={},D=0;D<M.length;++D)K[M[D]]=!0;return K}function v(M,K){if(K instanceof RegExp)return K.test(M);if(K instanceof Object)return K.propertyIsEnumerable(M)}var t=["false","nil","true"],k=". catch def do if monitor-enter monitor-exit new quote recur set! throw try var".split(" "),g="* *' *1 *2 *3 *agent* *allow-unresolved-vars* *assert* *clojure-version* *command-line-args* *compile-files* *compile-path* *compiler-options* *data-readers* *default-data-reader-fn* *e *err* *file* *flush-on-newline* *fn-loader* *in* *math-context* *ns* *out* *print-dup* *print-length* *print-level* *print-meta* *print-namespace-maps* *print-readably* *read-eval* *reader-resolver* *source-path* *suppress-read* *unchecked-math* *use-context-classloader* *verbose-defrecords* *warn-on-reflection* + +' - -' -\x3e -\x3e\x3e -\x3eArrayChunk -\x3eEduction -\x3eVec -\x3eVecNode -\x3eVecSeq -cache-protocol-fn -reset-methods .. / \x3c \x3c\x3d \x3d \x3d\x3d \x3e \x3e\x3d EMPTY-NODE Inst StackTraceElement-\x3evec Throwable-\x3emap accessor aclone add-classpath add-watch agent agent-error agent-errors aget alength alias all-ns alter alter-meta! alter-var-root amap ancestors and any? apply areduce array-map as-\x3e aset aset-boolean aset-byte aset-char aset-double aset-float aset-int aset-long aset-short assert assoc assoc! assoc-in associative? atom await await-for await1 bases bean bigdec bigint biginteger binding bit-and bit-and-not bit-clear bit-flip bit-not bit-or bit-set bit-shift-left bit-shift-right bit-test bit-xor boolean boolean-array boolean? booleans bound-fn bound-fn* bound? bounded-count butlast byte byte-array bytes bytes? case cast cat char char-array char-escape-string char-name-string char? chars chunk chunk-append chunk-buffer chunk-cons chunk-first chunk-next chunk-rest chunked-seq? class class? clear-agent-errors clojure-version coll? comment commute comp comparator compare compare-and-set! compile complement completing concat cond cond-\x3e cond-\x3e\x3e condp conj conj! cons constantly construct-proxy contains? count counted? create-ns create-struct cycle dec dec' decimal? declare dedupe default-data-readers definline definterface defmacro defmethod defmulti defn defn- defonce defprotocol defrecord defstruct deftype delay delay? deliver denominator deref derive descendants destructure disj disj! dissoc dissoc! distinct distinct? doall dorun doseq dosync dotimes doto double double-array double? doubles drop drop-last drop-while eduction empty empty? ensure ensure-reduced enumeration-seq error-handler error-mode eval even? every-pred every? ex-data ex-info extend extend-protocol extend-type extenders extends? false? ffirst file-seq filter filterv find find-keyword find-ns find-protocol-impl find-protocol-method find-var first flatten float float-array float? floats flush fn fn? fnext fnil for force format frequencies future future-call future-cancel future-cancelled? future-done? future? gen-class gen-interface gensym get get-in get-method get-proxy-class get-thread-bindings get-validator group-by halt-when hash hash-combine hash-map hash-ordered-coll hash-set hash-unordered-coll ident? identical? identity if-let if-not if-some ifn? import in-ns inc inc' indexed? init-proxy inst-ms inst-ms* inst? instance? int int-array int? integer? interleave intern interpose into into-array ints io! isa? iterate iterator-seq juxt keep keep-indexed key keys keyword keyword? last lazy-cat lazy-seq let letfn line-seq list list* list? load load-file load-reader load-string loaded-libs locking long long-array longs loop macroexpand macroexpand-1 make-array make-hierarchy map map-entry? map-indexed map? mapcat mapv max max-key memfn memoize merge merge-with meta method-sig methods min min-key mix-collection-hash mod munge name namespace namespace-munge nat-int? neg-int? neg? newline next nfirst nil? nnext not not-any? not-empty not-every? not\x3d ns ns-aliases ns-imports ns-interns ns-map ns-name ns-publics ns-refers ns-resolve ns-unalias ns-unmap nth nthnext nthrest num number? numerator object-array odd? or parents partial partition partition-all partition-by pcalls peek persistent! pmap pop pop! pop-thread-bindings pos-int? pos? pr pr-str prefer-method prefers primitives-classnames print print-ctor print-dup print-method print-simple print-str printf println println-str prn prn-str promise proxy proxy-call-with-super proxy-mappings proxy-name proxy-super push-thread-bindings pvalues qualified-ident? qualified-keyword? qualified-symbol? quot rand rand-int rand-nth random-sample range ratio? rational? rationalize re-find re-groups re-matcher re-matches re-pattern re-seq read read-line read-string reader-conditional reader-conditional? realized? record? reduce reduce-kv reduced reduced? reductions ref ref-history-count ref-max-history ref-min-history ref-set refer refer-clojure reify release-pending-sends rem remove remove-all-methods remove-method remove-ns remove-watch repeat repeatedly replace replicate require reset! reset-meta! reset-vals! resolve rest restart-agent resultset-seq reverse reversible? rseq rsubseq run! satisfies? second select-keys send send-off send-via seq seq? seqable? seque sequence sequential? set set-agent-send-executor! set-agent-send-off-executor! set-error-handler! set-error-mode! set-validator! set? short short-array shorts shuffle shutdown-agents simple-ident? simple-keyword? simple-symbol? slurp some some-\x3e some-\x3e\x3e some-fn some? sort sort-by sorted-map sorted-map-by sorted-set sorted-set-by sorted? special-symbol? spit split-at split-with str string? struct struct-map subs subseq subvec supers swap! swap-vals! symbol symbol? sync tagged-literal tagged-literal? take take-last take-nth take-while test the-ns thread-bound? time to-array to-array-2d trampoline transduce transient tree-seq true? type unchecked-add unchecked-add-int unchecked-byte unchecked-char unchecked-dec unchecked-dec-int unchecked-divide-int unchecked-double unchecked-float unchecked-inc unchecked-inc-int unchecked-int unchecked-long unchecked-multiply unchecked-multiply-int unchecked-negate unchecked-negate-int unchecked-remainder-int unchecked-short unchecked-subtract unchecked-subtract-int underive unquote unquote-splicing unreduced unsigned-bit-shift-right update update-in update-proxy uri? use uuid? val vals var-get var-set var? vary-meta vec vector vector-of vector? volatile! volatile? vreset! vswap! when when-first when-let when-not when-some while with-bindings with-bindings* with-in-str with-loading-context with-local-vars with-meta with-open with-out-str with-precision with-redefs with-redefs-fn xml-seq zero? zipmap".split(" ");
m.registerHelper("hintWords","clojure",[].concat(t,k,g));var d=w(t),f=w(k),a=w(g),e=w("-\x3e -\x3e\x3e as-\x3e binding bound-fn case catch comment cond cond-\x3e cond-\x3e\x3e condp def definterface defmethod defn defmacro defprotocol defrecord defstruct deftype do doseq dotimes doto extend extend-protocol extend-type fn for future if if-let if-not if-some let letfn locking loop ns proxy reify struct-map some-\x3e some-\x3e\x3e try when when-first when-let when-not when-some while with-bindings with-bindings* with-in-str with-loading-context with-local-vars with-meta with-open with-out-str with-precision with-redefs with-redefs-fn".split(" ")),
n=/^(?:[\\\[\]\s"(),;@^`{}~]|$)/,x=/^(?:[+\-]?\d+(?:(?:N|(?:[eE][+\-]?\d+))|(?:\.?\d*(?:M|(?:[eE][+\-]?\d+))?)|\/\d+|[xX][0-9a-fA-F]+|r[0-9a-zA-Z]+)?(?=[\\\[\]\s"#'(),;@^`{}~]|$))/,z=/^(?:\\(?:backspace|formfeed|newline|return|space|tab|o[0-7]{3}|u[0-9A-Fa-f]{4}|x[0-9A-Fa-f]{4}|.)?(?=[\\\[\]\s"(),;@^`{}~]|$))/,B=/^(?:(?:[^\\\/\[\]\d\s"#'(),;@^`{}~.][^\\\[\]\s"(),;@^`{}~.\/]*(?:\.[^\\\/\[\]\d\s"#'(),;@^`{}~.][^\\\[\]\s"(),;@^`{}~.\/]*)*\/)?(?:\/|[^\\\/\[\]\d\s"#'(),;@^`{}~][^\\\[\]\s"(),;@^`{}~]*)*(?=[\\\[\]\s"(),;@^`{}~]|$))/;
return{startState:function(){return{ctx:{prev:null,start:0,indentTo:0},lastToken:null,tokenize:u}},token:function(M,K){M.sol()&&"number"!==typeof K.ctx.indentTo&&(K.ctx.indentTo=K.ctx.start+1);var D=K.tokenize(M,K),y=D[0];D=D[1];var E=M.current();"space"!==y&&("("===K.lastToken&&null===K.ctx.indentTo?"symbol"===y&&v(E,e)?K.ctx.indentTo=K.ctx.start+l.indentUnit:K.ctx.indentTo="next":"next"===K.ctx.indentTo&&(K.ctx.indentTo=M.column()),K.lastToken=E);"open"===y?K.ctx={prev:K.ctx,start:M.column(),indentTo:null}:
"close"===y&&(K.ctx=K.ctx.prev||K.ctx);return D},indent:function(M){var K=M.ctx.indentTo;return"number"===typeof K?K:M.ctx.start+1},closeBrackets:{pairs:'()[]{}""'},lineComment:";;"}});m.defineMIME("text/x-clojure","clojure");m.defineMIME("text/x-clojurescript","clojure");m.defineMIME("application/edn","clojure")})};
shadow$provide[71]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=function(){function m(){this.disposed=!1}m.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())};m.prototype.disposeInternal=function(){};return m}();J["default"]=Ia};
shadow$provide[72]=function(Ia,A,mb,J){function m(l,u){return l>u?1:l<u?-1:0}Object.defineProperty(J,"__esModule",{value:!0});J.binarySearch=function(l,u,G){for(var L,w=G||m,v=0,t=l.length,k=!1;v<t;)G=v+(t-v>>1),L=+w(l[G],u),0>L?v=G+1:(t=G,k=!L);return k?v:~v};J.numberSafeCompareFunction=m;J.includes=function(l,u){return 0<=l.indexOf(u)};J.linearFindNearest=function(l,u,G){var L=l.length;if(l[0]<=u)return 0;if(!(u<=l[L-1]))if(0<G)for(G=1;G<L;++G){if(l[G]<u)return G-1}else if(0>G)for(G=1;G<L;++G){if(l[G]<=
u)return G}else for(G=1;G<L;++G){if(l[G]==u)return G;if(l[G]<u)return l[G-1]-u<u-l[G]?G-1:G}return L-1};J.reverseSubArray=function(l,u,G){for(;u<G;){var L=l[u];l[u]=l[G];l[G]=L;++u;--G}};J.extend=function(l,u){u=Array.isArray(u)?u:[u];for(var G=u.length,L=0;L<G;L++)l[l.length]=u[L]};J.remove=function(l,u){u=l.indexOf(u);var G=-1<u;G&&l.splice(u,1);return G};J.find=function(l,u){for(var G=l.length>>>0,L,w=0;w<G;w++)if(L=l[w],u(L,w,l))return L;return null};J.equals=function(l,u){var G=l.length;if(G!==
u.length)return!1;for(var L=0;L<G;L++)if(l[L]!==u[L])return!1;return!0};J.stableSort=function(l,u){var G=l.length,L=Array(l.length),w;for(w=0;w<G;w++)L[w]={index:w,value:l[w]};L.sort(function(v,t){return u(v.value,t.value)||v.index-t.index});for(w=0;w<l.length;w++)l[w]=L[w].value};J.findIndex=function(l,u){var G;return l.every(function(L,w){G=w;return!u(L,w,l)})?-1:G};J.isSorted=function(l,u,G){var L=u||m;return l.every(function(w,v){if(0===v)return!0;w=L(l[v-1],w);return!(0<w||G&&0===w)})}};
shadow$provide[73]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J.TRUE=function(){return!0};J.FALSE=function(){return!1};J.VOID=function(){};J.memoizeOne=function(l){var u=!1,G,L,w;return function(){var v=Array.prototype.slice.call(arguments);u&&this===w&&(0,m.equals)(v,L)||(u=!0,w=this,L=v,G=l.apply(this,arguments));return G}};var m=A(72)};
shadow$provide[74]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["abstract"]=function(){throw Error("Unimplemented abstract method.");};J.getUid=function(l){return l.ol_uid||(l.ol_uid=String(++m))};J.VERSION=void 0;var m=0;J.VERSION="6.5.0"};
shadow$provide[75]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var m=A(74),l=function(){var u=function(G,L){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,v){w.__proto__=v}||function(w,v){for(var t in v)Object.prototype.hasOwnProperty.call(v,t)&&(w[t]=v[t])};return u(G,L)};return function(G,L){function w(){this.constructor=G}u(G,L);G.prototype=null===L?Object.create(L):(w.prototype=L.prototype,new w)}}();Ia=function(u){function G(L){var w=
"Assertion failed. See https://openlayers.org/en/"+("latest"===m.VERSION?m.VERSION:"v"+m.VERSION.split("-")[0])+"/doc/errors/#"+L+" for details.";var v=u.call(this,w)||this;v.code=L;v.name="AssertionError";v.message=w;return v}l(G,u);return G}(Error);J["default"]=Ia};
shadow$provide[76]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J.assert=function(l,u){if(!l)throw new m["default"](u);};var m=function(l){return l&&l.__esModule?l:{"default":l}}(A(75))};
shadow$provide[77]=function(Ia,A,mb,J){function m(){return[1,0,0,1,0,0]}function l(g,d){var f=g[0],a=g[1],e=g[2],n=g[3],x=g[4],z=g[5],B=d[0],M=d[1],K=d[2],D=d[3],y=d[4];d=d[5];g[0]=f*B+e*M;g[1]=a*B+n*M;g[2]=f*K+e*D;g[3]=a*K+n*D;g[4]=f*y+e*d+x;g[5]=a*y+n*d+z;return g}function u(g,d,f,a,e,n,x){g[0]=d;g[1]=f;g[2]=a;g[3]=e;g[4]=n;g[5]=x;return g}function G(g,d,f,a,e,n,x,z){var B=Math.sin(n);n=Math.cos(n);g[0]=a*n;g[1]=e*B;g[2]=-a*B;g[3]=e*n;g[4]=x*a*n-z*a*B+d;g[5]=x*e*B+z*e*n+f;return g}function L(g,
d){var f=w(d);(0,t.assert)(0!==f,32);var a=d[0],e=d[1],n=d[2],x=d[3],z=d[4];d=d[5];g[0]=x/f;g[1]=-e/f;g[2]=-n/f;g[3]=a/f;g[4]=(n*d-x*z)/f;g[5]=-(a*d-e*z)/f;return g}function w(g){return g[0]*g[3]-g[1]*g[2]}function v(g){return"matrix("+g.join(", ")+")"}Object.defineProperty(J,"__esModule",{value:!0});J.create=m;J.reset=function(g){return u(g,1,0,0,1,0,0)};J.multiply=l;J.set=u;J.setFromArray=function(g,d){g[0]=d[0];g[1]=d[1];g[2]=d[2];g[3]=d[3];g[4]=d[4];g[5]=d[5];return g};J.apply=function(g,d){var f=
d[0],a=d[1];d[0]=g[0]*f+g[2]*a+g[4];d[1]=g[1]*f+g[3]*a+g[5];return d};J.rotate=function(g,d){var f=Math.cos(d);d=Math.sin(d);return l(g,u(k,f,d,-d,f,0,0))};J.scale=function(g,d,f){return l(g,u(k,d,0,0,f,0,0))};J.makeScale=function(g,d,f){return u(g,d,0,0,f,0,0)};J.translate=function(g,d,f){return l(g,u(k,1,0,0,1,d,f))};J.compose=G;J.composeCssTransform=function(g,d,f,a,e,n,x){return v(G(m(),g,d,f,a,e,n,x))};J.invert=function(g){return L(g,g)};J.makeInverse=L;J.determinant=w;J.toString=v;var t=A(76),
k=Array(6)};
shadow$provide[78]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}};
shadow$provide[79]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}};
shadow$provide[80]=function(Ia,A,mb,J){function m(S){return S&&S.__esModule?S:{"default":S}}function l(S,ea,ba){return S[0]<=ea&&ea<=S[2]&&S[1]<=ba&&ba<=S[3]}function u(S,ea){var ba=S[1],fa=S[2],ia=S[3],ca=ea[0];ea=ea[1];var N=H["default"].UNKNOWN;ca<S[0]?N|=H["default"].LEFT:ca>fa&&(N|=H["default"].RIGHT);ea<ba?N|=H["default"].BELOW:ea>ia&&(N|=H["default"].ABOVE);N===H["default"].UNKNOWN&&(N=H["default"].INTERSECTING);return N}function G(){return[Infinity,Infinity,-Infinity,-Infinity]}function L(S,
ea,ba,fa,ia){return ia?(ia[0]=S,ia[1]=ea,ia[2]=ba,ia[3]=fa,ia):[S,ea,ba,fa]}function w(S){return L(Infinity,Infinity,-Infinity,-Infinity,S)}function v(S,ea){ea[0]<S[0]&&(S[0]=ea[0]);ea[0]>S[2]&&(S[2]=ea[0]);ea[1]<S[1]&&(S[1]=ea[1]);ea[1]>S[3]&&(S[3]=ea[1])}function t(S,ea){for(var ba=0,fa=ea.length;ba<fa;++ba)v(S,ea[ba]);return S}function k(S,ea,ba,fa,ia){for(;ba<fa;ba+=ia)d(S,ea[ba],ea[ba+1]);return S}function g(S,ea){for(var ba=0,fa=ea.length;ba<fa;++ba)t(S,ea[ba]);return S}function d(S,ea,ba){S[0]=
Math.min(S[0],ea);S[1]=Math.min(S[1],ba);S[2]=Math.max(S[2],ea);S[3]=Math.max(S[3],ba)}function f(S){var ea=0;y(S)||(ea=K(S)*x(S));return ea}function a(S){return[S[0],S[1]]}function e(S){return[S[2],S[1]]}function n(S){return[(S[0]+S[2])/2,(S[1]+S[3])/2]}function x(S){return S[3]-S[1]}function z(S,ea,ba){ba=ba?ba:G();D(S,ea)?(ba[0]=S[0]>ea[0]?S[0]:ea[0],ba[1]=S[1]>ea[1]?S[1]:ea[1],ba[2]=S[2]<ea[2]?S[2]:ea[2],ba[3]=S[3]<ea[3]?S[3]:ea[3]):w(ba);return ba}function B(S){return[S[0],S[3]]}function M(S){return[S[2],
S[3]]}function K(S){return S[2]-S[0]}function D(S,ea){return S[0]<=ea[2]&&S[2]>=ea[0]&&S[1]<=ea[3]&&S[3]>=ea[1]}function y(S){return S[2]<S[0]||S[3]<S[1]}Object.defineProperty(J,"__esModule",{value:!0});J.boundingExtent=function(S){for(var ea=G(),ba=0,fa=S.length;ba<fa;++ba)v(ea,S[ba]);return ea};J.buffer=function(S,ea,ba){return ba?(ba[0]=S[0]-ea,ba[1]=S[1]-ea,ba[2]=S[2]+ea,ba[3]=S[3]+ea,ba):[S[0]-ea,S[1]-ea,S[2]+ea,S[3]+ea]};J.clone=function(S,ea){return ea?(ea[0]=S[0],ea[1]=S[1],ea[2]=S[2],ea[3]=
S[3],ea):S.slice()};J.closestSquaredDistanceXY=function(S,ea,ba){ea=ea<S[0]?S[0]-ea:S[2]<ea?ea-S[2]:0;S=ba<S[1]?S[1]-ba:S[3]<ba?ba-S[3]:0;return ea*ea+S*S};J.containsCoordinate=function(S,ea){return l(S,ea[0],ea[1])};J.containsExtent=function(S,ea){return S[0]<=ea[0]&&ea[2]<=S[2]&&S[1]<=ea[1]&&ea[3]<=S[3]};J.containsXY=l;J.coordinateRelationship=u;J.createEmpty=G;J.createOrUpdate=L;J.createOrUpdateEmpty=w;J.createOrUpdateFromCoordinate=function(S,ea){var ba=S[0];S=S[1];return L(ba,S,ba,S,ea)};J.createOrUpdateFromCoordinates=
function(S,ea){ea=w(ea);return t(ea,S)};J.createOrUpdateFromFlatCoordinates=function(S,ea,ba,fa,ia){ia=w(ia);return k(ia,S,ea,ba,fa)};J.createOrUpdateFromRings=function(S,ea){ea=w(ea);return g(ea,S)};J.equals=function(S,ea){return S[0]==ea[0]&&S[2]==ea[2]&&S[1]==ea[1]&&S[3]==ea[3]};J.approximatelyEquals=function(S,ea,ba){return Math.abs(S[0]-ea[0])<ba&&Math.abs(S[2]-ea[2])<ba&&Math.abs(S[1]-ea[1])<ba&&Math.abs(S[3]-ea[3])<ba};J.extend=function(S,ea){ea[0]<S[0]&&(S[0]=ea[0]);ea[2]>S[2]&&(S[2]=ea[2]);
ea[1]<S[1]&&(S[1]=ea[1]);ea[3]>S[3]&&(S[3]=ea[3]);return S};J.extendCoordinate=v;J.extendCoordinates=t;J.extendFlatCoordinates=k;J.extendRings=g;J.extendXY=d;J.forEachCorner=function(S,ea){var ba;return(ba=ea(a(S)))||(ba=ea(e(S)))||(ba=ea(M(S)))?ba:(ba=ea(B(S)))?ba:!1};J.getArea=f;J.getBottomLeft=a;J.getBottomRight=e;J.getCenter=n;J.getCorner=function(S,ea){var ba;ea===E["default"].BOTTOM_LEFT?ba=a(S):ea===E["default"].BOTTOM_RIGHT?ba=e(S):ea===E["default"].TOP_LEFT?ba=B(S):ea===E["default"].TOP_RIGHT?
ba=M(S):(0,Q.assert)(!1,13);return ba};J.getEnlargedArea=function(S,ea){return(Math.max(S[2],ea[2])-Math.min(S[0],ea[0]))*(Math.max(S[3],ea[3])-Math.min(S[1],ea[1]))};J.getForViewAndSize=function(S,ea,ba,fa,ia){var ca=ea*fa[0]/2;fa=ea*fa[1]/2;ea=Math.cos(ba);var N=Math.sin(ba);ba=ca*ea;ca*=N;ea*=fa;var C=fa*N,W=S[0],ha=S[1];S=W-ba+C;fa=W-ba-C;N=W+ba-C;ba=W+ba+C;C=ha-ca-ea;W=ha-ca+ea;var Y=ha+ca+ea;ca=ha+ca-ea;return L(Math.min(S,fa,N,ba),Math.min(C,W,Y,ca),Math.max(S,fa,N,ba),Math.max(C,W,Y,ca),ia)};
J.getHeight=x;J.getIntersectionArea=function(S,ea){S=z(S,ea);return f(S)};J.getIntersection=z;J.getMargin=function(S){return K(S)+x(S)};J.getSize=function(S){return[S[2]-S[0],S[3]-S[1]]};J.getTopLeft=B;J.getTopRight=M;J.getWidth=K;J.intersects=D;J.isEmpty=y;J.returnOrUpdate=function(S,ea){return ea?(ea[0]=S[0],ea[1]=S[1],ea[2]=S[2],ea[3]=S[3],ea):S};J.scaleFromCenter=function(S,ea){var ba=(S[2]-S[0])/2*(ea-1);ea=(S[3]-S[1])/2*(ea-1);S[0]-=ba;S[2]+=ba;S[1]-=ea;S[3]+=ea};J.intersectsSegment=function(S,
ea,ba){var fa=!1,ia=u(S,ea),ca=u(S,ba);if(ia===H["default"].INTERSECTING||ca===H["default"].INTERSECTING)fa=!0;else{var N=S[0],C=S[1],W=S[2];S=S[3];var ha=ba[0];ba=ba[1];ea=(ba-ea[1])/(ha-ea[0]);ca&H["default"].ABOVE&&!(ia&H["default"].ABOVE)&&(fa=ha-(ba-S)/ea,fa=fa>=N&&fa<=W);fa||!(ca&H["default"].RIGHT)||ia&H["default"].RIGHT||(fa=ba-(ha-W)*ea,fa=fa>=C&&fa<=S);fa||!(ca&H["default"].BELOW)||ia&H["default"].BELOW||(fa=ha-(ba-C)/ea,fa=fa>=N&&fa<=W);fa||!(ca&H["default"].LEFT)||ia&H["default"].LEFT||
(fa=ba-(ha-N)*ea,fa=fa>=C&&fa<=S)}return fa};J.applyTransform=function(S,ea,ba,fa){var ia=[];if(1<fa)for(var ca=S[2]-S[0],N=S[3]-S[1],C=0;C<fa;++C)ia.push(S[0]+ca*C/fa,S[1],S[2],S[1]+N*C/fa,S[2]-ca*C/fa,S[3],S[0],S[3]-N*C/fa);else ia=[S[0],S[1],S[2],S[1],S[2],S[3],S[0],S[3]];ea(ia,ia,2);ea=[];S=[];C=0;for(fa=ia.length;C<fa;C+=2)ea.push(ia[C]),S.push(ia[C+1]);ia=Math.min.apply(null,ea);C=Math.min.apply(null,S);ea=Math.max.apply(null,ea);S=Math.max.apply(null,S);return L(ia,C,ea,S,ba)};J.wrapX=function(S,
ea){var ba=ea.getExtent(),fa=n(S);ea.canWrapX()&&(fa[0]<ba[0]||fa[0]>=ba[2])&&(ea=K(ba),ba=Math.floor((fa[0]-ba[0])/ea)*ea,S[0]-=ba,S[2]-=ba);return S};var E=m(A(78)),H=m(A(79)),Q=A(76)};
shadow$provide[81]=function(Ia,A,mb,J){function m(l,u,G,L){l=G-l;u=L-u;return l*l+u*u}Object.defineProperty(J,"__esModule",{value:!0});J.clamp=function(l,u,G){return Math.min(Math.max(l,u),G)};J.squaredSegmentDistance=function(l,u,G,L,w,v){var t=w-G,k=v-L;if(0!==t||0!==k){var g=((l-G)*t+(u-L)*k)/(t*t+k*k);1<g?(G=w,L=v):0<g&&(G+=t*g,L+=k*g)}return m(l,u,G,L)};J.squaredDistance=m;J.solveLinearSystem=function(l){for(var u=l.length,G=0;G<u;G++){for(var L=G,w=Math.abs(l[G][G]),v=G+1;v<u;v++){var t=Math.abs(l[v][G]);
t>w&&(w=t,L=v)}if(0===w)return null;w=l[L];l[L]=l[G];l[G]=w;for(L=G+1;L<u;L++)for(w=-l[L][G]/l[G][G],v=G;v<u+1;v++)l[L][v]=G==v?0:l[L][v]+w*l[G][v]}G=Array(u);for(L=u-1;0<=L;L--)for(G[L]=l[L][u]/l[L][L],w=L-1;0<=w;w--)l[w][u]-=l[w][L]*G[L];return G};J.toDegrees=function(l){return 180*l/Math.PI};J.toRadians=function(l){return l*Math.PI/180};J.modulo=function(l,u){l%=u;return 0>l*u?l+u:l};J.lerp=function(l,u,G){return l+G*(u-l)};J.log2=J.cosh=void 0;Ia=function(){return"cosh"in Math?Math.cosh:function(l){l=
Math.exp(l);return(l+1/l)/2}}();J.cosh=Ia;Ia=function(){return"log2"in Math?Math.log2:function(l){return Math.log(l)*Math.LOG2E}}();J.log2=Ia};
shadow$provide[82]=function(Ia,A,mb,J){function m(k){var g=document.createElement("div");g.style.color=k;return""!==g.style.color?(document.body.appendChild(g),k=getComputedStyle(g).color,document.body.removeChild(g),k):""}function l(k){k[0]=(0,L.clamp)(k[0]+.5|0,0,255);k[1]=(0,L.clamp)(k[1]+.5|0,0,255);k[2]=(0,L.clamp)(k[2]+.5|0,0,255);k[3]=(0,L.clamp)(k[3],0,1);return k}function u(k){var g=k[0];g!=(g|0)&&(g=g+.5|0);var d=k[1];d!=(d|0)&&(d=d+.5|0);var f=k[2];f!=(f|0)&&(f=f+.5|0);return"rgba("+g+
","+d+","+f+","+(void 0===k[3]?1:k[3])+")"}Object.defineProperty(J,"__esModule",{value:!0});J.asString=function(k){return"string"===typeof k?k:u(k)};J.asArray=function(k){return Array.isArray(k)?k:t(k)};J.normalize=l;J.toString=u;J.isStringColor=function(k){v.test(k)&&(k=m(k));return w.test(k)||0===k.indexOf("rgba(")||0===k.indexOf("rgb(")};J.fromString=void 0;var G=A(76),L=A(81),w=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,v=/^([a-z]*)$|^hsla?\(.*\)$/i,t=function(){var k={},g=0;return function(d){if(k.hasOwnProperty(d))var f=
k[d];else{if(1024<=g){f=0;for(var a in k)0===(f++&3)&&(delete k[a],--g)}f=d;v.exec(f)&&(f=m(f));if(w.exec(f)){a=f.length-1;var e=4>=a?1:2;var n=4===a||8===a;a=parseInt(f.substr(1+0*e,e),16);var x=parseInt(f.substr(1+1*e,e),16);var z=parseInt(f.substr(1+2*e,e),16);f=n?parseInt(f.substr(1+3*e,e),16):255;1==e&&(a=(a<<4)+a,x=(x<<4)+x,z=(z<<4)+z,n&&(f=(f<<4)+f));e=[a,x,z,f/255]}else 0==f.indexOf("rgba(")?(e=f.slice(5,-1).split(",").map(Number),l(e)):0==f.indexOf("rgb(")?(e=f.slice(4,-1).split(",").map(Number),
e.push(1),l(e)):(0,G.assert)(!1,14);f=e;k[d]=f;++g}return f}}();J.fromString=t};
shadow$provide[83]=function(Ia,A,mb,J){function m(u,G,L){L=L?(0,l.asString)(L):"null";return G+":"+u+":"+L}Object.defineProperty(J,"__esModule",{value:!0});J.shared=J["default"]=void 0;var l=A(82);Ia=function(){function u(){this.cache_={};this.cacheSize_=0;this.maxCacheSize_=32}u.prototype.clear=function(){this.cache_={};this.cacheSize_=0};u.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_};u.prototype.expire=function(){if(this.canExpireCache()){var G=0,L;for(L in this.cache_){var w=
this.cache_[L];0!==(G++&3)||w.hasListener()||(delete this.cache_[L],--this.cacheSize_)}}};u.prototype.get=function(G,L,w){G=m(G,L,w);return G in this.cache_?this.cache_[G]:null};u.prototype.set=function(G,L,w,v){G=m(G,L,w);this.cache_[G]=v;++this.cacheSize_};u.prototype.setSize=function(G){this.maxCacheSize_=G;this.expire()};return u}();J["default"]=Ia;Ia=new Ia;J.shared=Ia};
shadow$provide[84]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J.stopPropagation=function(m){m.stopPropagation()};J.preventDefault=function(m){m.preventDefault()};J["default"]=void 0;Ia=function(){function m(l){this.type=l;this.target=null}m.prototype.preventDefault=function(){this.propagationStopped=!0};m.prototype.stopPropagation=function(){this.propagationStopped=!0};return m}();J["default"]=Ia};
shadow$provide[85]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={PROPERTYCHANGE:"propertychange"}};
shadow$provide[86]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J.clear=function(m){for(var l in m)delete m[l]};J.isEmpty=function(m){for(var l in m)return!1;return!l};J.getValues=J.assign=void 0;J.assign="function"===typeof Object.assign?Object.assign:function(m,l){if(void 0===m||null===m)throw new TypeError("Cannot convert undefined or null to object");for(var u=Object(m),G=1,L=arguments.length;G<L;++G){var w=arguments[G];if(void 0!==w&&null!==w)for(var v in w)w.hasOwnProperty(v)&&
(u[v]=w[v])}return u};J.getValues="function"===typeof Object.values?Object.values:function(m){var l=[],u;for(u in m)l.push(m[u]);return l}};
shadow$provide[87]=function(Ia,A,mb,J){function m(w){return w&&w.__esModule?w:{"default":w}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=m(A(71));var l=m(A(84)),u=A(73),G=A(86),L=function(){var w=function(v,t){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,g){k.__proto__=g}||function(k,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(k[d]=g[d])};return w(v,t)};return function(v,t){function k(){this.constructor=v}w(v,t);v.prototype=null===
t?Object.create(t):(k.prototype=t.prototype,new k)}}();A=function(w){function v(t){var k=w.call(this)||this;k.eventTarget_=t;k.pendingRemovals_=null;k.dispatching_=null;k.listeners_=null;return k}L(v,w);v.prototype.addEventListener=function(t,k){if(t&&k){var g=this.listeners_||(this.listeners_={});t=g[t]||(g[t]=[]);-1===t.indexOf(k)&&t.push(k)}};v.prototype.dispatchEvent=function(t){var k="string"===typeof t?new l["default"](t):t;t=k.type;k.target||(k.target=this.eventTarget_||this);var g=this.listeners_&&
this.listeners_[t];if(g){var d=this.dispatching_||(this.dispatching_={}),f=this.pendingRemovals_||(this.pendingRemovals_={});t in d||(d[t]=0,f[t]=0);++d[t];for(var a=0,e=g.length;a<e;++a){var n="handleEvent"in g[a]?g[a].handleEvent(k):g[a].call(this,k);if(!1===n||k.propagationStopped){n=!1;break}}--d[t];if(0===d[t]){k=f[t];for(delete f[t];k--;)this.removeEventListener(t,u.VOID);delete d[t]}return n}};v.prototype.disposeInternal=function(){this.listeners_&&(0,G.clear)(this.listeners_)};v.prototype.getListeners=
function(t){return this.listeners_&&this.listeners_[t]||void 0};v.prototype.hasListener=function(t){return this.listeners_?t?t in this.listeners_:0<Object.keys(this.listeners_).length:!1};v.prototype.removeEventListener=function(t,k){var g=this.listeners_&&this.listeners_[t];g&&(k=g.indexOf(k),-1!==k&&(this.pendingRemovals_&&t in this.pendingRemovals_?(g[k]=u.VOID,++this.pendingRemovals_[t]):(g.splice(k,1),0===g.length&&delete this.listeners_[t])))};return v}(Ia["default"]);J["default"]=A};
shadow$provide[88]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}};
shadow$provide[89]=function(Ia,A,mb,J){function m(u,G,L,w,v){w&&w!==u&&(L=L.bind(w));if(v){var t=L;L=function(){u.removeEventListener(G,L);t.apply(this,arguments)}}w={target:u,type:G,listener:L};u.addEventListener(G,L);return w}Object.defineProperty(J,"__esModule",{value:!0});J.listen=m;J.listenOnce=function(u,G,L,w){return m(u,G,L,w,!0)};J.unlistenByKey=function(u){u&&u.target&&(u.target.removeEventListener(u.type,u.listener),(0,l.clear)(u))};var l=A(86)};
shadow$provide[90]=function(Ia,A,mb,J){function m(w){return w&&w.__esModule?w:{"default":w}}function l(w){if(Array.isArray(w))for(var v=0,t=w.length;v<t;++v)(0,G.unlistenByKey)(w[v]);else(0,G.unlistenByKey)(w)}Object.defineProperty(J,"__esModule",{value:!0});J.unByKey=l;J["default"]=void 0;Ia=m(A(87));var u=m(A(88)),G=A(89),L=function(){var w=function(v,t){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,g){k.__proto__=g}||function(k,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,
d)&&(k[d]=g[d])};return w(v,t)};return function(v,t){function k(){this.constructor=v}w(v,t);v.prototype=null===t?Object.create(t):(k.prototype=t.prototype,new k)}}();A=function(w){function v(){var t=w.call(this)||this;t.revision_=0;return t}L(v,w);v.prototype.changed=function(){++this.revision_;this.dispatchEvent(u["default"].CHANGE)};v.prototype.getRevision=function(){return this.revision_};v.prototype.on=function(t,k){if(Array.isArray(t)){for(var g=t.length,d=Array(g),f=0;f<g;++f)d[f]=(0,G.listen)(this,
t[f],k);return d}return(0,G.listen)(this,t,k)};v.prototype.once=function(t,k){if(Array.isArray(t)){var g=t.length;var d=Array(g);for(var f=0;f<g;++f)d[f]=(0,G.listenOnce)(this,t[f],k)}else d=(0,G.listenOnce)(this,t,k);return k.ol_key=d};v.prototype.un=function(t,k){var g=k.ol_key;if(g)l(g);else if(Array.isArray(t)){g=0;for(var d=t.length;g<d;++g)this.removeEventListener(t[g],k)}else this.removeEventListener(t,k)};return v}(Ia["default"]);J["default"]=A};
shadow$provide[91]=function(Ia,A,mb,J){function m(k){return k&&k.__esModule?k:{"default":k}}function l(k){return t.hasOwnProperty(k)?t[k]:t[k]="change:"+k}Object.defineProperty(J,"__esModule",{value:!0});J.getChangeEventType=l;J["default"]=J.ObjectEvent=void 0;Ia=m(A(84));var u=m(A(85));mb=m(A(90));var G=A(86),L=A(74),w=function(){var k=function(g,d){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,
e)&&(f[e]=a[e])};return k(g,d)};return function(g,d){function f(){this.constructor=g}k(g,d);g.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)}}(),v=function(k){function g(d,f,a){d=k.call(this,d)||this;d.key=f;d.oldValue=a;return d}w(g,k);return g}(Ia["default"]);J.ObjectEvent=v;A=function(k){function g(d){var f=k.call(this)||this;(0,L.getUid)(f);f.values_=null;void 0!==d&&f.setProperties(d);return f}w(g,k);g.prototype.get=function(d){var f;this.values_&&this.values_.hasOwnProperty(d)&&
(f=this.values_[d]);return f};g.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]};g.prototype.getProperties=function(){return this.values_&&(0,G.assign)({},this.values_)||{}};g.prototype.hasProperties=function(){return!!this.values_};g.prototype.notify=function(d,f){var a=l(d);this.dispatchEvent(new v(a,d,f));a=u["default"].PROPERTYCHANGE;this.dispatchEvent(new v(a,d,f))};g.prototype.set=function(d,f,a){var e=this.values_||(this.values_={});a?e[d]=f:(a=e[d],e[d]=f,a!==
f&&this.notify(d,a))};g.prototype.setProperties=function(d,f){for(var a in d)this.set(a,d[a],f)};g.prototype.applyProperties=function(d){d.values_&&(0,G.assign)(this.values_||(this.values_={}),d.values_)};g.prototype.unset=function(d,f){if(this.values_&&d in this.values_){var a=this.values_[d];delete this.values_[d];(0,G.isEmpty)(this.values_)&&(this.values_=null);f||this.notify(d,a)}};return g}(mb["default"]);var t={};J["default"]=A};
shadow$provide[92]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source"}};
shadow$provide[93]=function(Ia,A,mb,J){function m(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=m(A(91));var l=m(A(92)),u=A(74),G=A(76),L=A(86),w=A(81),v=function(){var t=function(k,g){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var a in f)Object.prototype.hasOwnProperty.call(f,a)&&(d[a]=f[a])};return t(k,g)};return function(k,g){function d(){this.constructor=k}t(k,g);k.prototype=
null===g?Object.create(g):(d.prototype=g.prototype,new d)}}();A=function(t){function k(g){var d=t.call(this)||this,f=(0,L.assign)({},g);f[l["default"].OPACITY]=void 0!==g.opacity?g.opacity:1;(0,G.assert)("number"===typeof f[l["default"].OPACITY],64);f[l["default"].VISIBLE]=void 0!==g.visible?g.visible:!0;f[l["default"].Z_INDEX]=g.zIndex;f[l["default"].MAX_RESOLUTION]=void 0!==g.maxResolution?g.maxResolution:Infinity;f[l["default"].MIN_RESOLUTION]=void 0!==g.minResolution?g.minResolution:0;f[l["default"].MIN_ZOOM]=
void 0!==g.minZoom?g.minZoom:-Infinity;f[l["default"].MAX_ZOOM]=void 0!==g.maxZoom?g.maxZoom:Infinity;d.className_=void 0!==f.className?g.className:"ol-layer";delete f.className;d.setProperties(f);d.state_=null;return d}v(k,t);k.prototype.getClassName=function(){return this.className_};k.prototype.getLayerState=function(g){g=this.state_||{layer:this,managed:void 0===g?!0:g};var d=this.getZIndex();g.opacity=(0,w.clamp)(Math.round(100*this.getOpacity())/100,0,1);g.sourceState=this.getSourceState();
g.visible=this.getVisible();g.extent=this.getExtent();g.zIndex=void 0!==d?d:!1===g.managed?Infinity:0;g.maxResolution=this.getMaxResolution();g.minResolution=Math.max(this.getMinResolution(),0);g.minZoom=this.getMinZoom();g.maxZoom=this.getMaxZoom();return this.state_=g};k.prototype.getLayersArray=function(g){return(0,u["abstract"])()};k.prototype.getLayerStatesArray=function(g){return(0,u["abstract"])()};k.prototype.getExtent=function(){return this.get(l["default"].EXTENT)};k.prototype.getMaxResolution=
function(){return this.get(l["default"].MAX_RESOLUTION)};k.prototype.getMinResolution=function(){return this.get(l["default"].MIN_RESOLUTION)};k.prototype.getMinZoom=function(){return this.get(l["default"].MIN_ZOOM)};k.prototype.getMaxZoom=function(){return this.get(l["default"].MAX_ZOOM)};k.prototype.getOpacity=function(){return this.get(l["default"].OPACITY)};k.prototype.getSourceState=function(){return(0,u["abstract"])()};k.prototype.getVisible=function(){return this.get(l["default"].VISIBLE)};
k.prototype.getZIndex=function(){return this.get(l["default"].Z_INDEX)};k.prototype.setExtent=function(g){this.set(l["default"].EXTENT,g)};k.prototype.setMaxResolution=function(g){this.set(l["default"].MAX_RESOLUTION,g)};k.prototype.setMinResolution=function(g){this.set(l["default"].MIN_RESOLUTION,g)};k.prototype.setMaxZoom=function(g){this.set(l["default"].MAX_ZOOM,g)};k.prototype.setMinZoom=function(g){this.set(l["default"].MIN_ZOOM,g)};k.prototype.setOpacity=function(g){(0,G.assert)("number"===
typeof g,64);this.set(l["default"].OPACITY,g)};k.prototype.setVisible=function(g){this.set(l["default"].VISIBLE,g)};k.prototype.setZIndex=function(g){this.set(l["default"].Z_INDEX,g)};k.prototype.disposeInternal=function(){this.state_&&(this.state_=this.state_.layer=null);t.prototype.disposeInternal.call(this)};return k}(Ia["default"]);J["default"]=A};
shadow$provide[94]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}};
shadow$provide[95]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}};
shadow$provide[96]=function(Ia,A,mb,J){function m(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(J,"__esModule",{value:!0});J.inView=function(d,f){if(!d.visible)return!1;var a=f.resolution;if(a<d.minResolution||a>=d.maxResolution)return!1;f=f.zoom;return f>d.minZoom&&f<=d.maxZoom};J["default"]=void 0;Ia=m(A(93));var l=m(A(88)),u=m(A(92)),G=m(A(94)),L=m(A(95)),w=A(76),v=A(86),t=A(91),k=A(89),g=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&
function(e,n){e.__proto__=n}||function(e,n){for(var x in n)Object.prototype.hasOwnProperty.call(n,x)&&(e[x]=n[x])};return d(f,a)};return function(f,a){function e(){this.constructor=f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();A=function(d){function f(a){var e=(0,v.assign)({},a);delete e.source;e=d.call(this,e)||this;e.mapPrecomposeKey_=null;e.mapRenderKey_=null;e.sourceChangeKey_=null;e.renderer_=null;a.render&&(e.render=a.render);a.map&&e.setMap(a.map);e.addEventListener((0,
t.getChangeEventType)(u["default"].SOURCE),e.handleSourcePropertyChange_);e.setSource(a.source?a.source:null);return e}g(f,d);f.prototype.getLayersArray=function(a){a=a?a:[];a.push(this);return a};f.prototype.getLayerStatesArray=function(a){a=a?a:[];a.push(this.getLayerState());return a};f.prototype.getSource=function(){return this.get(u["default"].SOURCE)||null};f.prototype.getSourceState=function(){var a=this.getSource();return a?a.getState():L["default"].UNDEFINED};f.prototype.handleSourceChange_=
function(){this.changed()};f.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&((0,k.unlistenByKey)(this.sourceChangeKey_),this.sourceChangeKey_=null);var a=this.getSource();a&&(this.sourceChangeKey_=(0,k.listen)(a,l["default"].CHANGE,this.handleSourceChange_,this));this.changed()};f.prototype.getFeatures=function(a){return this.renderer_.getFeatures(a)};f.prototype.render=function(a,e){var n=this.getRenderer();if(n.prepareFrame(a))return n.renderFrame(a,e)};f.prototype.setMap=
function(a){this.mapPrecomposeKey_&&((0,k.unlistenByKey)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null);a||this.changed();this.mapRenderKey_&&((0,k.unlistenByKey)(this.mapRenderKey_),this.mapRenderKey_=null);a&&(this.mapPrecomposeKey_=(0,k.listen)(a,G["default"].PRECOMPOSE,function(e){e=e.frameState.layerStatesArray;var n=this.getLayerState(!1);(0,w.assert)(!e.some(function(x){return x.layer===n.layer}),67);e.push(n)},this),this.mapRenderKey_=(0,k.listen)(this,l["default"].CHANGE,a.render,a),
this.changed())};f.prototype.setSource=function(a){this.set(u["default"].SOURCE,a)};f.prototype.getRenderer=function(){this.renderer_||(this.renderer_=this.createRenderer());return this.renderer_};f.prototype.hasRenderer=function(){return!!this.renderer_};f.prototype.createRenderer=function(){return null};f.prototype.disposeInternal=function(){this.setSource(null);d.prototype.disposeInternal.call(this)};return f}(Ia["default"]);J["default"]=A};
shadow$provide[97]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J.padNumber=function(m,l,u){m=void 0!==u?m.toFixed(u):""+m;u=m.indexOf(".");u=-1===u?m.length:u;return u>l?m:Array(1+l-u).join("0")+m};J.compareVersions=function(m,l){m=(""+m).split(".");l=(""+l).split(".");for(var u=0;u<Math.max(m.length,l.length);u++){var G=parseInt(m[u]||"0",10),L=parseInt(l[u]||"0",10);if(G>L)return 1;if(L>G)return-1}return 0}};
shadow$provide[98]=function(Ia,A,mb,J){function m(g,d){var f=g[0];g=g[1];var a=d[0],e=d[1];d=a[0];a=a[1];var n=e[0];e=e[1];var x=n-d,z=e-a;f=0===x&&0===z?0:(x*(f-d)+z*(g-a))/(x*x+z*z||0);0>=f?(g=d,f=a):1<=f?(g=n,f=e):(g=d+f*x,f=a+f*z);return[g,f]}function l(g,d,f){d=(0,t.modulo)(d+180,360)-180;var a=Math.abs(3600*d);f=f||0;var e=Math.pow(10,f),n=Math.floor(a/3600),x=Math.floor((a-3600*n)/60);a=Math.ceil((a-3600*n-60*x)*e)/e;60<=a&&(a=0,x+=1);60<=x&&(x=0,n+=1);return n+" "+(0,k.padNumber)(x,2)+" "+
(0,k.padNumber)(a,2,f)+""+(0==d?"":" "+g.charAt(0>d?1:0))}function u(g,d,f){return g?d.replace("{x}",g[0].toFixed(f)).replace("{y}",g[1].toFixed(f)):""}function G(g,d){var f=g[0]-d[0];g=g[1]-d[1];return f*f+g*g}function L(g,d){return u(g,"{x}, {y}",d)}function w(g,d,f){var a=d.getExtent(),e=0;d.canWrapX()&&(g[0]<a[0]||g[0]>a[2])&&(d=f||(0,v.getWidth)(a),e=Math.floor((g[0]-a[0])/d));return e}Object.defineProperty(J,"__esModule",{value:!0});J.add=function(g,d){g[0]+=+d[0];g[1]+=+d[1];return g};J.closestOnCircle=
function(g,d){var f=d.getRadius(),a=d.getCenter();d=a[0];a=a[1];var e=g[0]-d;g=g[1]-a;0===e&&0===g&&(e=1);var n=Math.sqrt(e*e+g*g);return[d+f*e/n,a+f*g/n]};J.closestOnSegment=m;J.createStringXY=function(g){return function(d){return L(d,g)}};J.degreesToStringHDMS=l;J.format=u;J.equals=function(g,d){for(var f=!0,a=g.length-1;0<=a;--a)if(g[a]!=d[a]){f=!1;break}return f};J.rotate=function(g,d){var f=Math.cos(d);d=Math.sin(d);var a=g[1]*f+g[0]*d;g[0]=g[0]*f-g[1]*d;g[1]=a;return g};J.scale=function(g,d){g[0]*=
d;g[1]*=d;return g};J.squaredDistance=G;J.distance=function(g,d){return Math.sqrt(G(g,d))};J.squaredDistanceToSegment=function(g,d){return G(g,m(g,d))};J.toStringHDMS=function(g,d){return g?l("NS",g[1],d)+" "+l("EW",g[0],d):""};J.toStringXY=L;J.wrapX=function(g,d){if(d.canWrapX()){var f=(0,v.getWidth)(d.getExtent());(d=w(g,d,f))&&(g[0]-=d*f)}return g};J.getWorldsAway=w;var v=A(80),t=A(81),k=A(97)};
shadow$provide[99]=function(Ia,A,mb,J){function m(g,d){w.shared.expire()}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=function(g){return g&&g.__esModule?g:{"default":g}}(A(71));var l=A(73),u=A(74),G=A(77),L=A(80),w=A(83),v=A(96),t=A(98),k=function(){var g=function(d,f){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])};return g(d,f)};return function(d,
f){function a(){this.constructor=d}g(d,f);d.prototype=null===f?Object.create(f):(a.prototype=f.prototype,new a)}}();A=function(g){function d(f){var a=g.call(this)||this;a.map_=f;return a}k(d,g);d.prototype.dispatchRenderEvent=function(f,a){(0,u["abstract"])()};d.prototype.calculateMatrices2D=function(f){var a=f.viewState,e=f.coordinateToPixelTransform,n=f.pixelToCoordinateTransform;(0,G.compose)(e,f.size[0]/2,f.size[1]/2,1/a.resolution,-1/a.resolution,-a.rotation,-a.center[0],-a.center[1]);(0,G.makeInverse)(n,
e)};d.prototype.forEachFeatureAtCoordinate=function(f,a,e,n,x,z,B,M){function K(W,ha,Y,wa){return x.call(z,ha,W?Y:null,wa)}var D=a.viewState,y=D.projection,E=(0,t.wrapX)(f.slice(),y),H=[[0,0]];y.canWrapX()&&n&&(n=y.getExtent(),n=(0,L.getWidth)(n),H.push([-n,0],[n,0]));n=a.layerStatesArray;y=n.length;for(var Q=[],S=[],ea=0;ea<H.length;ea++)for(var ba=y-1;0<=ba;--ba){var fa=n[ba],ia=fa.layer;if(ia.hasRenderer()&&(0,v.inView)(fa,D)&&B.call(M,ia)){var ca=ia.getRenderer();ia=ia.getSource();if(ca&&ia){ia=
ia.getWrapX()?E:f;fa=K.bind(null,fa.managed);S[0]=ia[0]+H[ea][0];S[1]=ia[1]+H[ea][1];var N=ca.forEachFeatureAtCoordinate(S,a,e,fa,Q)}if(N)return N}}if(0!==Q.length){var C=1/Q.length;Q.forEach(function(W,ha){return W.distanceSq+=ha*C});Q.sort(function(W,ha){return W.distanceSq-ha.distanceSq});Q.some(function(W){return N=W.callback(W.feature,W.layer,W.geometry)});return N}};d.prototype.forEachLayerAtPixel=function(f,a,e,n,x){return(0,u["abstract"])()};d.prototype.hasFeatureAtCoordinate=function(f,a,
e,n,x,z){return void 0!==this.forEachFeatureAtCoordinate(f,a,e,n,l.TRUE,this,x,z)};d.prototype.getMap=function(){return this.map_};d.prototype.renderFrame=function(f){(0,u["abstract"])()};d.prototype.scheduleExpireIconCache=function(f){w.shared.canExpireCache()&&f.postRenderFunctions.push(m)};return d}(Ia["default"]);J["default"]=A};
shadow$provide[100]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=function(l){return l&&l.__esModule?l:{"default":l}}(A(84));var m=function(){var l=function(u,G){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,w){L.__proto__=w}||function(L,w){for(var v in w)Object.prototype.hasOwnProperty.call(w,v)&&(L[v]=w[v])};return l(u,G)};return function(u,G){function L(){this.constructor=u}l(u,G);u.prototype=null===G?Object.create(G):(L.prototype=
G.prototype,new L)}}();Ia=function(l){function u(G,L,w,v){G=l.call(this,G)||this;G.inversePixelTransform=L;G.frameState=w;G.context=v;return G}m(u,l);return u}(Ia["default"]);J["default"]=Ia};
shadow$provide[101]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J.getFontParameters=J.CLASS_COLLAPSED=J.CLASS_CONTROL=J.CLASS_UNSUPPORTED=J.CLASS_UNSELECTABLE=J.CLASS_SELECTABLE=J.CLASS_HIDDEN=void 0;J.CLASS_HIDDEN="ol-hidden";J.CLASS_SELECTABLE="ol-selectable";J.CLASS_UNSELECTABLE="ol-unselectable";J.CLASS_UNSUPPORTED="ol-unsupported";J.CLASS_CONTROL="ol-control";J.CLASS_COLLAPSED="ol-collapsed";var m=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[\.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[\.\d]+(?:\%|in|[cem]m|ex|p[ctx])?))?\s*([-,\"\'\sa-z]+?)\s*$/i,
l="style variant weight size lineHeight family".split(" ");J.getFontParameters=function(u){u=u.match(m);if(!u)return null;for(var G={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},L=0,w=l.length;L<w;++L){var v=u[L+1];void 0!==v&&(G[l[L]]=v)}G.families=G.family.split(/,\s?/);return G}};
shadow$provide[102]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J.PASSIVE_EVENT_LISTENERS=J.IMAGE_DECODE=J.WORKER_OFFSCREEN_CANVAS=J.DEVICE_PIXEL_RATIO=J.MAC=J.WEBKIT=J.SAFARI=J.FIREFOX=void 0;Ia="undefined"!==typeof navigator&&"undefined"!==typeof navigator.userAgent?navigator.userAgent.toLowerCase():"";A=-1!==Ia.indexOf("firefox");J.FIREFOX=A;A=-1!==Ia.indexOf("safari")&&-1==Ia.indexOf("chrom");J.SAFARI=A;A=-1!==Ia.indexOf("webkit")&&-1==Ia.indexOf("edge");J.WEBKIT=A;Ia=
-1!==Ia.indexOf("macintosh");J.MAC=Ia;J.DEVICE_PIXEL_RATIO="undefined"!==typeof devicePixelRatio?devicePixelRatio:1;J.WORKER_OFFSCREEN_CANVAS="undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof OffscreenCanvas&&self instanceof WorkerGlobalScope;J.IMAGE_DECODE="undefined"!==typeof Image&&Image.prototype.decode;Ia=function(){var m=!1;try{var l=Object.defineProperty({},"passive",{get:function(){m=!0}});window.addEventListener("_",null,l);window.removeEventListener("_",null,l)}catch(u){}return m}();
J.PASSIVE_EVENT_LISTENERS=Ia};
shadow$provide[103]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J.createCanvasContext2D=function(l,u,G){G=G&&G.length?G.shift():m.WORKER_OFFSCREEN_CANVAS?new OffscreenCanvas(l||300,u||300):document.createElement("canvas");l&&(G.width=l);u&&(G.height=u);return G.getContext("2d")};J.outerWidth=function(l){var u=l.offsetWidth;l=getComputedStyle(l);return u+=parseInt(l.marginLeft,10)+parseInt(l.marginRight,10)};J.outerHeight=function(l){var u=l.offsetHeight;l=getComputedStyle(l);
return u+=parseInt(l.marginTop,10)+parseInt(l.marginBottom,10)};J.replaceNode=function(l,u){var G=u.parentNode;G&&G.replaceChild(l,u)};J.removeNode=function(l){return l&&l.parentNode?l.parentNode.removeChild(l):null};J.removeChildren=function(l){for(;l.lastChild;)l.removeChild(l.lastChild)};J.replaceChildren=function(l,u){for(var G=l.childNodes,L=0;;++L){var w=G[L],v=u[L];if(!w&&!v)break;w!==v&&(w?v?l.insertBefore(v,w):(l.removeChild(w),--L):l.appendChild(v))}};var m=A(102)};
shadow$provide[104]=function(Ia,A,mb,J){function m(e){return e&&e.__esModule?e:{"default":e}}function l(e,n){g||(g=(0,w.createCanvasContext2D)(1,1));e!=d&&(g.font=e,d=g.font);return g.measureText(n)}function u(e,n){return l(e,n).width}Object.defineProperty(J,"__esModule",{value:!0});J.measureTextWidth=u;J.measureAndCacheTextWidth=function(e,n,x){if(n in x)return x[n];e=u(e,n);return x[n]=e};J.measureTextWidths=function(e,n,x){for(var z=n.length,B=0,M=0;M<z;++M){var K=u(e,n[M]);B=Math.max(B,K);x.push(K)}return B};
J.rotateAtOffset=function(e,n,x,z){0!==n&&(e.translate(x,z),e.rotate(n),e.translate(-x,-z))};J.drawImageOrLabel=function(e,n,x,z,B,M,K,D,y,E,H){e.save();1!==x&&(e.globalAlpha*=x);n&&e.setTransform.apply(e,n);if(z.contextInstructions)for(e.translate(y,E),e.scale(H[0],H[1]),n=z.contextInstructions,x=0,z=n.length;x<z;x+=2)Array.isArray(n[x+1])?e[n[x]].apply(e,n[x+1]):e[n[x]]=n[x+1];else 0>H[0]||0>H[1]?(e.translate(y,E),e.scale(H[0],H[1]),e.drawImage(z,B,M,K,D,0,0,K,D)):e.drawImage(z,B,M,K,D,y,E,K*H[0],
D*H[1]);e.restore()};J.createTransformString=function(e){if(G.WORKER_OFFSCREEN_CANVAS)return(0,t.toString)(e);a||(a=(0,w.createCanvasContext2D)(1,1).canvas);a.style.transform=(0,t.toString)(e);return a.style.transform};J.measureTextHeight=J.registerFont=J.textHeights=J.labelCache=J.checkedFonts=J.defaultLineWidth=J.defaultPadding=J.defaultTextBaseline=J.defaultTextAlign=J.defaultStrokeStyle=J.defaultMiterLimit=J.defaultLineJoin=J.defaultLineDashOffset=J.defaultLineDash=J.defaultLineCap=J.defaultFillStyle=
J.defaultFont=void 0;Ia=m(A(91));mb=m(A(87));var G=A(102),L=A(86),w=A(103),v=A(101),t=A(77);J.defaultFont="10px sans-serif";J.defaultFillStyle="#000";J.defaultLineCap="round";J.defaultLineDash=[];J.defaultLineDashOffset=0;J.defaultLineJoin="round";J.defaultMiterLimit=10;J.defaultStrokeStyle="#000";J.defaultTextAlign="center";J.defaultTextBaseline="middle";J.defaultPadding=[0,0,0,0];J.defaultLineWidth=1;var k=new Ia["default"];J.checkedFonts=k;A=new mb["default"];J.labelCache=A;A.setSize=function(){console.warn("labelCache is deprecated.")};
var g=null,d,f={};J.textHeights=f;A=function(){function e(K,D,y){for(var E=!0,H=0;H<z;++H){var Q=x[H];M=u(K+" "+D+" 32px "+Q,"wmytzilWMYTZIL@#/\x26?$%10");y!=Q&&(Q=u(K+" "+D+" 32px "+y+","+Q,"wmytzilWMYTZIL@#/\x26?$%10"),E=E&&Q!=M)}return E?!0:!1}function n(){for(var K=!0,D=k.getKeys(),y=0,E=D.length;y<E;++y){var H=D[y];100>k.get(H)&&(e.apply(this,H.split("\n"))?((0,L.clear)(f),g=null,d=void 0,k.set(H,100)):(k.set(H,k.get(H)+1,!0),K=!1))}K&&(clearInterval(B),B=void 0)}var x=["monospace","serif"],
z=x.length,B,M;return function(K){if(K=(0,v.getFontParameters)(K))for(var D=K.families,y=0,E=D.length;y<E;++y){var H=D[y],Q=K.style+"\n"+K.weight+"\n"+H;void 0===k.get(Q)&&(k.set(Q,100,!0),e(K.style,K.weight,H)||(k.set(Q,0,!0),void 0===B&&(B=setInterval(n,32))))}}}();J.registerFont=A;A=function(){var e;return function(n){var x=f[n];if(void 0==x){if(G.WORKER_OFFSCREEN_CANVAS){x=(0,v.getFontParameters)(n);var z=l(n,"g");x=(isNaN(Number(x.lineHeight))?1.2:Number(x.lineHeight))*(z.actualBoundingBoxAscent+
z.actualBoundingBoxDescent)}else e||(e=document.createElement("div"),e.innerHTML="M",e.style.margin="0 !important",e.style.padding="0 !important",e.style.position="absolute !important",e.style.left="-99999px !important"),e.style.font=n,document.body.appendChild(e),x=e.offsetHeight,document.body.removeChild(e);f[n]=x}return x}}();J.measureTextHeight=A;var a=null};
shadow$provide[105]=function(Ia,A,mb,J){function m(f){return f&&f.__esModule?f:{"default":f}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=m(A(99));var l=m(A(85)),u=m(A(100)),G=m(A(94)),L=m(A(95)),w=A(101),v=A(104),t=A(96),k=A(89),g=A(103),d=function(){var f=function(a,e){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,x){n.__proto__=x}||function(n,x){for(var z in x)Object.prototype.hasOwnProperty.call(x,z)&&(n[z]=x[z])};return f(a,e)};return function(a,
e){function n(){this.constructor=a}f(a,e);a.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();A=function(f){function a(e){var n=f.call(this,e)||this;n.fontChangeListenerKey_=(0,k.listen)(v.checkedFonts,l["default"].PROPERTYCHANGE,e.redrawText.bind(e));n.element_=document.createElement("div");var x=n.element_.style;x.position="absolute";x.width="100%";x.height="100%";x.zIndex="0";n.element_.className=w.CLASS_UNSELECTABLE+" ol-layers";e=e.getViewport();e.insertBefore(n.element_,
e.firstChild||null);n.children_=[];n.renderedVisible_=!0;return n}d(a,f);a.prototype.dispatchRenderEvent=function(e,n){var x=this.getMap();x.hasListener(e)&&(e=new u["default"](e,void 0,n),x.dispatchEvent(e))};a.prototype.disposeInternal=function(){(0,k.unlistenByKey)(this.fontChangeListenerKey_);this.element_.parentNode.removeChild(this.element_);f.prototype.disposeInternal.call(this)};a.prototype.renderFrame=function(e){if(e){this.calculateMatrices2D(e);this.dispatchRenderEvent(G["default"].PRECOMPOSE,
e);var n=e.layerStatesArray.sort(function(E,H){return E.zIndex-H.zIndex}),x=e.viewState;this.children_.length=0;for(var z=[],B=null,M=0,K=n.length;M<K;++M){var D=n[M];e.layerIndex=M;if((0,t.inView)(D,x)&&(D.sourceState==L["default"].READY||D.sourceState==L["default"].UNDEFINED)){D=D.layer;var y=D.render(e,B);y&&(y!==B&&(this.children_.push(y),B=y),"getDeclutter"in D&&z.push(D))}}for(M=z.length-1;0<=M;--M)z[M].renderDeclutter(e);(0,g.replaceChildren)(this.element_,this.children_);this.dispatchRenderEvent(G["default"].POSTCOMPOSE,
e);this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0);this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)};a.prototype.forEachLayerAtPixel=function(e,n,x,z,B){for(var M=n.viewState,K=n.layerStatesArray,D=K.length-1;0<=D;--D){var y=K[D],E=y.layer;if(E.hasRenderer()&&(0,t.inView)(y,M)&&B(E)&&(y=E.getRenderer().getDataAtPixel(e,n,x))&&(E=z(E,y)))return E}};return a}(Ia["default"]);J["default"]=A};
shadow$provide[106]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={ADD:"add",REMOVE:"remove"}};
shadow$provide[107]=function(Ia,A,mb,J){function m(w){return w&&w.__esModule?w:{"default":w}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=J.CollectionEvent=void 0;var l=m(A(75));Ia=m(A(91));var u=m(A(106));A=m(A(84));var G=function(){var w=function(v,t){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,g){k.__proto__=g}||function(k,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(k[d]=g[d])};return w(v,t)};return function(v,t){function k(){this.constructor=
v}w(v,t);v.prototype=null===t?Object.create(t):(k.prototype=t.prototype,new k)}}(),L=function(w){function v(t,k,g){t=w.call(this,t)||this;t.element=k;t.index=g;return t}G(v,w);return v}(A["default"]);J.CollectionEvent=L;A=function(w){function v(t,k){var g=w.call(this)||this;g.unique_=!!(k||{}).unique;g.array_=t?t:[];if(g.unique_)for(t=0,k=g.array_.length;t<k;++t)g.assertUnique_(g.array_[t],t);g.updateLength_();return g}G(v,w);v.prototype.clear=function(){for(;0<this.getLength();)this.pop()};v.prototype.extend=
function(t){for(var k=0,g=t.length;k<g;++k)this.push(t[k]);return this};v.prototype.forEach=function(t){for(var k=this.array_,g=0,d=k.length;g<d;++g)t(k[g],g,k)};v.prototype.getArray=function(){return this.array_};v.prototype.item=function(t){return this.array_[t]};v.prototype.getLength=function(){return this.get("length")};v.prototype.insertAt=function(t,k){this.unique_&&this.assertUnique_(k);this.array_.splice(t,0,k);this.updateLength_();this.dispatchEvent(new L(u["default"].ADD,k,t))};v.prototype.pop=
function(){return this.removeAt(this.getLength()-1)};v.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var k=this.getLength();this.insertAt(k,t);return this.getLength()};v.prototype.remove=function(t){for(var k=this.array_,g=0,d=k.length;g<d;++g)if(k[g]===t)return this.removeAt(g)};v.prototype.removeAt=function(t){var k=this.array_[t];this.array_.splice(t,1);this.updateLength_();this.dispatchEvent(new L(u["default"].REMOVE,k,t));return k};v.prototype.setAt=function(t,k){var g=this.getLength();
if(t<g)this.unique_&&this.assertUnique_(k,t),g=this.array_[t],this.array_[t]=k,this.dispatchEvent(new L(u["default"].REMOVE,g,t)),this.dispatchEvent(new L(u["default"].ADD,k,t));else{for(;g<t;++g)this.insertAt(g,void 0);this.insertAt(t,k)}};v.prototype.updateLength_=function(){this.set("length",this.array_.length)};v.prototype.assertUnique_=function(t,k){for(var g=0,d=this.array_.length;g<d;++g)if(this.array_[g]===t&&g!==k)throw new l["default"](58);};return v}(Ia["default"]);J["default"]=A};
shadow$provide[108]=function(Ia,A,mb,J){function m(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=m(A(93));var l=m(A(107)),u=m(A(106)),G=m(A(88)),L=m(A(85)),w=m(A(95)),v=A(76),t=A(86),k=A(91),g=A(80),d=A(74),f=A(89),a=function(){var e=function(n,x){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,B){z.__proto__=B}||function(z,B){for(var M in B)Object.prototype.hasOwnProperty.call(B,M)&&(z[M]=B[M])};return e(n,x)};
return function(n,x){function z(){this.constructor=n}e(n,x);n.prototype=null===x?Object.create(x):(z.prototype=x.prototype,new z)}}();A=function(e){function n(x){var z=x||{};x=(0,t.assign)({},z);delete x.layers;z=z.layers;x=e.call(this,x)||this;x.layersListenerKeys_=[];x.listenerKeys_={};x.addEventListener((0,k.getChangeEventType)("layers"),x.handleLayersChanged_);z?Array.isArray(z)?z=new l["default"](z.slice(),{unique:!0}):(0,v.assert)("function"===typeof z.getArray,43):z=new l["default"](void 0,
{unique:!0});x.setLayers(z);return x}a(n,e);n.prototype.handleLayerChange_=function(){this.changed()};n.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(f.unlistenByKey);this.layersListenerKeys_.length=0;var x=this.getLayers();this.layersListenerKeys_.push((0,f.listen)(x,u["default"].ADD,this.handleLayersAdd_,this),(0,f.listen)(x,u["default"].REMOVE,this.handleLayersRemove_,this));for(var z in this.listenerKeys_)this.listenerKeys_[z].forEach(f.unlistenByKey);(0,t.clear)(this.listenerKeys_);
x=x.getArray();z=0;for(var B=x.length;z<B;z++){var M=x[z];this.listenerKeys_[(0,d.getUid)(M)]=[(0,f.listen)(M,L["default"].PROPERTYCHANGE,this.handleLayerChange_,this),(0,f.listen)(M,G["default"].CHANGE,this.handleLayerChange_,this)]}this.changed()};n.prototype.handleLayersAdd_=function(x){x=x.element;this.listenerKeys_[(0,d.getUid)(x)]=[(0,f.listen)(x,L["default"].PROPERTYCHANGE,this.handleLayerChange_,this),(0,f.listen)(x,G["default"].CHANGE,this.handleLayerChange_,this)];this.changed()};n.prototype.handleLayersRemove_=
function(x){x=x.element;x=(0,d.getUid)(x);this.listenerKeys_[x].forEach(f.unlistenByKey);delete this.listenerKeys_[x];this.changed()};n.prototype.getLayers=function(){return this.get("layers")};n.prototype.setLayers=function(x){this.set("layers",x)};n.prototype.getLayersArray=function(x){var z=void 0!==x?x:[];this.getLayers().forEach(function(B){B.getLayersArray(z)});return z};n.prototype.getLayerStatesArray=function(x){var z=void 0!==x?x:[],B=z.length;this.getLayers().forEach(function(D){D.getLayerStatesArray(z)});
x=this.getLayerState();for(var M=z.length;B<M;B++){var K=z[B];K.opacity*=x.opacity;K.visible=K.visible&&x.visible;K.maxResolution=Math.min(K.maxResolution,x.maxResolution);K.minResolution=Math.max(K.minResolution,x.minResolution);K.minZoom=Math.max(K.minZoom,x.minZoom);K.maxZoom=Math.min(K.maxZoom,x.maxZoom);void 0!==x.extent&&(K.extent=void 0!==K.extent?(0,g.getIntersection)(K.extent,x.extent):x.extent)}return z};n.prototype.getSourceState=function(){return w["default"].READY};return n}(Ia["default"]);
J["default"]=A};
shadow$provide[109]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=function(l){return l&&l.__esModule?l:{"default":l}}(A(84));var m=function(){var l=function(u,G){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,w){L.__proto__=w}||function(L,w){for(var v in w)Object.prototype.hasOwnProperty.call(w,v)&&(L[v]=w[v])};return l(u,G)};return function(u,G){function L(){this.constructor=u}l(u,G);u.prototype=null===G?Object.create(G):(L.prototype=
G.prototype,new L)}}();Ia=function(l){function u(G,L,w){G=l.call(this,G)||this;G.map=L;G.frameState=void 0!==w?w:null;return G}m(u,l);return u}(Ia["default"]);J["default"]=Ia};
shadow$provide[110]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=function(l){return l&&l.__esModule?l:{"default":l}}(A(109));var m=function(){var l=function(u,G){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,w){L.__proto__=w}||function(L,w){for(var v in w)Object.prototype.hasOwnProperty.call(w,v)&&(L[v]=w[v])};return l(u,G)};return function(u,G){function L(){this.constructor=u}l(u,G);u.prototype=null===G?Object.create(G):(L.prototype=
G.prototype,new L)}}();Ia=function(l){function u(G,L,w,v,t){G=l.call(this,G,L,t)||this;G.originalEvent=w;G.pixel_=null;G.coordinate_=null;G.dragging=void 0!==v?v:!1;return G}m(u,l);Object.defineProperty(u.prototype,"pixel",{get:function(){this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent));return this.pixel_},set:function(G){this.pixel_=G},enumerable:!1,configurable:!0});Object.defineProperty(u.prototype,"coordinate",{get:function(){this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel));
return this.coordinate_},set:function(G){this.coordinate_=G},enumerable:!1,configurable:!0});u.prototype.preventDefault=function(){l.prototype.preventDefault.call(this);this.originalEvent.preventDefault()};u.prototype.stopPropagation=function(){l.prototype.stopPropagation.call(this);this.originalEvent.stopPropagation()};return u}(Ia["default"]);J["default"]=Ia};
shadow$provide[111]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=(Ia=A(88))&&Ia.__esModule?Ia:{"default":Ia};J["default"]={SINGLECLICK:"singleclick",CLICK:Ia["default"].CLICK,DBLCLICK:Ia["default"].DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}};
shadow$provide[112]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}};
shadow$provide[113]=function(Ia,A,mb,J){function m(k){return k&&k.__esModule?k:{"default":k}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=m(A(87));var l=m(A(88)),u=m(A(110)),G=m(A(111)),L=m(A(112)),w=A(102),v=A(89),t=function(){var k=function(g,d){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(f[e]=a[e])};return k(g,d)};return function(g,d){function f(){this.constructor=
g}k(g,d);g.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)}}();A=function(k){function g(d,f){var a=k.call(this,d)||this;a.map_=d;a.emulateClicks_=!1;a.dragging_=!1;a.dragListenerKeys_=[];a.moveTolerance_=f?f*w.DEVICE_PIXEL_RATIO:w.DEVICE_PIXEL_RATIO;a.down_=null;d=a.map_.getViewport();a.activePointers_=0;a.trackedTouches_={};a.element_=d;a.pointerdownListenerKey_=(0,v.listen)(d,L["default"].POINTERDOWN,a.handlePointerDown_,a);a.relayedListenerKey_=(0,v.listen)(d,L["default"].POINTERMOVE,
a.relayEvent_,a);a.boundHandleTouchMove_=a.handleTouchMove_.bind(a);a.element_.addEventListener(l["default"].TOUCHMOVE,a.boundHandleTouchMove_,w.PASSIVE_EVENT_LISTENERS?{passive:!1}:!1);return a}t(g,k);g.prototype.emulateClick_=function(d){var f=new u["default"](G["default"].CLICK,this.map_,d);this.dispatchEvent(f);void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,f=new u["default"](G["default"].DBLCLICK,this.map_,d),this.dispatchEvent(f)):this.clickTimeoutId_=
setTimeout(function(){this.clickTimeoutId_=void 0;var a=new u["default"](G["default"].SINGLECLICK,this.map_,d);this.dispatchEvent(a)}.bind(this),250)};g.prototype.updateActivePointers_=function(d){d.type==G["default"].POINTERUP||d.type==G["default"].POINTERCANCEL?delete this.trackedTouches_[d.pointerId]:d.type==G["default"].POINTERDOWN&&(this.trackedTouches_[d.pointerId]=!0);this.activePointers_=Object.keys(this.trackedTouches_).length};g.prototype.handlePointerUp_=function(d){this.updateActivePointers_(d);
var f=new u["default"](G["default"].POINTERUP,this.map_,d);this.dispatchEvent(f);this.emulateClicks_&&!f.propagationStopped&&!this.dragging_&&this.isMouseActionButton_(d)&&this.emulateClick_(this.down_);0===this.activePointers_&&(this.dragListenerKeys_.forEach(v.unlistenByKey),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)};g.prototype.isMouseActionButton_=function(d){return 0===d.button};g.prototype.handlePointerDown_=function(d){this.emulateClicks_=0===this.activePointers_;this.updateActivePointers_(d);
var f=new u["default"](G["default"].POINTERDOWN,this.map_,d);this.dispatchEvent(f);this.down_=d;0===this.dragListenerKeys_.length&&(d=this.map_.getOwnerDocument(),this.dragListenerKeys_.push((0,v.listen)(d,G["default"].POINTERMOVE,this.handlePointerMove_,this),(0,v.listen)(d,G["default"].POINTERUP,this.handlePointerUp_,this),(0,v.listen)(this.element_,G["default"].POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==d&&this.dragListenerKeys_.push((0,
v.listen)(this.element_.getRootNode(),G["default"].POINTERUP,this.handlePointerUp_,this)))};g.prototype.handlePointerMove_=function(d){this.isMoving_(d)&&(this.dragging_=!0,d=new u["default"](G["default"].POINTERDRAG,this.map_,d,this.dragging_),this.dispatchEvent(d))};g.prototype.relayEvent_=function(d){this.originalPointerMoveEvent_=d;var f=!(!this.down_||!this.isMoving_(d));this.dispatchEvent(new u["default"](d.type,this.map_,d,f))};g.prototype.handleTouchMove_=function(d){this.originalPointerMoveEvent_&&
!this.originalPointerMoveEvent_.defaultPrevented||d.preventDefault()};g.prototype.isMoving_=function(d){return this.dragging_||Math.abs(d.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(d.clientY-this.down_.clientY)>this.moveTolerance_};g.prototype.disposeInternal=function(){this.relayedListenerKey_&&((0,v.unlistenByKey)(this.relayedListenerKey_),this.relayedListenerKey_=null);this.element_.removeEventListener(l["default"].TOUCHMOVE,this.boundHandleTouchMove_);this.pointerdownListenerKey_&&
((0,v.unlistenByKey)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null);this.dragListenerKeys_.forEach(v.unlistenByKey);this.dragListenerKeys_.length=0;this.element_=null;k.prototype.disposeInternal.call(this)};return g}(Ia["default"]);J["default"]=A};
shadow$provide[114]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}};
shadow$provide[115]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"}};
shadow$provide[116]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=J.DROP=void 0;var m=A(76),l=A(86);J.DROP=Infinity;Ia=function(){function u(G,L){this.priorityFunction_=G;this.keyFunction_=L;this.elements_=[];this.priorities_=[];this.queuedElements_={}}u.prototype.clear=function(){this.elements_.length=0;this.priorities_.length=0;(0,l.clear)(this.queuedElements_)};u.prototype.dequeue=function(){var G=this.elements_,L=this.priorities_,w=G[0];1==G.length?(G.length=
0,L.length=0):(G[0]=G.pop(),L[0]=L.pop(),this.siftUp_(0));G=this.keyFunction_(w);delete this.queuedElements_[G];return w};u.prototype.enqueue=function(G){(0,m.assert)(!(this.keyFunction_(G)in this.queuedElements_),31);var L=this.priorityFunction_(G);return Infinity!=L?(this.elements_.push(G),this.priorities_.push(L),this.queuedElements_[this.keyFunction_(G)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1};u.prototype.getCount=function(){return this.elements_.length};u.prototype.getLeftChildIndex_=
function(G){return 2*G+1};u.prototype.getRightChildIndex_=function(G){return 2*G+2};u.prototype.getParentIndex_=function(G){return G-1>>1};u.prototype.heapify_=function(){var G;for(G=(this.elements_.length>>1)-1;0<=G;G--)this.siftUp_(G)};u.prototype.isEmpty=function(){return 0===this.elements_.length};u.prototype.isKeyQueued=function(G){return G in this.queuedElements_};u.prototype.isQueued=function(G){return this.isKeyQueued(this.keyFunction_(G))};u.prototype.siftUp_=function(G){for(var L=this.elements_,
w=this.priorities_,v=L.length,t=L[G],k=w[G],g=G;G<v>>1;){var d=this.getLeftChildIndex_(G),f=this.getRightChildIndex_(G);d=f<v&&w[f]<w[d]?f:d;L[G]=L[d];w[G]=w[d];G=d}L[G]=t;w[G]=k;this.siftDown_(g,G)};u.prototype.siftDown_=function(G,L){for(var w=this.elements_,v=this.priorities_,t=w[L],k=v[L];L>G;){var g=this.getParentIndex_(L);if(v[g]>k)w[L]=w[g],v[L]=v[g],L=g;else break}w[L]=t;v[L]=k};u.prototype.reprioritize=function(){var G=this.priorityFunction_,L=this.elements_,w=this.priorities_,v=0,t=L.length,
k;for(k=0;k<t;++k){var g=L[k];var d=G(g);Infinity==d?delete this.queuedElements_[this.keyFunction_(g)]:(w[v]=d,L[v++]=g)}L.length=v;w.length=v;this.heapify_()};return u}();J["default"]=Ia};
shadow$provide[117]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}};
shadow$provide[118]=function(Ia,A,mb,J){function m(t){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(k){return typeof k}:function(k){return k&&"function"===typeof Symbol&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k};return m(t)}function l(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;l=function(){return t};return t}function u(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(J,"__esModule",{value:!0});J.getTilePriority=function(t,
k,g,d,f){if(!(t&&g in t.wantedTiles&&t.wantedTiles[g][k.getKey()]))return L.DROP;k=t.viewState.center;t=d[0]-k[0];d=d[1]-k[1];return 65536*Math.log(f)+Math.sqrt(t*t+d*d)/f};J["default"]=void 0;var G=u(A(88)),L=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==m(t)&&"function"!==typeof t)return{"default":t};var k=l();if(k&&k.has(t))return k.get(t);var g={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor,f;for(f in t)if(Object.prototype.hasOwnProperty.call(t,f)){var a=d?Object.getOwnPropertyDescriptor(t,
f):null;a&&(a.get||a.set)?Object.defineProperty(g,f,a):g[f]=t[f]}g["default"]=t;k&&k.set(t,g);return g}(A(116)),w=u(A(117)),v=function(){var t=function(k,g){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var a in f)Object.prototype.hasOwnProperty.call(f,a)&&(d[a]=f[a])};return t(k,g)};return function(k,g){function d(){this.constructor=k}t(k,g);k.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}}();Ia=function(t){function k(g,
d){var f=t.call(this,function(a){return g.apply(null,a)},function(a){return a[0].getKey()})||this;f.boundHandleTileChange_=f.handleTileChange.bind(f);f.tileChangeCallback_=d;f.tilesLoading_=0;f.tilesLoadingKeys_={};return f}v(k,t);k.prototype.enqueue=function(g){var d=t.prototype.enqueue.call(this,g);d&&g[0].addEventListener(G["default"].CHANGE,this.boundHandleTileChange_);return d};k.prototype.getTilesLoading=function(){return this.tilesLoading_};k.prototype.handleTileChange=function(g){g=g.target;
var d=g.getState();if(g.hifi&&d===w["default"].LOADED||d===w["default"].ERROR||d===w["default"].EMPTY)g.removeEventListener(G["default"].CHANGE,this.boundHandleTileChange_),g=g.getKey(),g in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[g],--this.tilesLoading_),this.tileChangeCallback_()};k.prototype.loadMoreTiles=function(g,d){for(var f=0,a,e,n;this.tilesLoading_<g&&f<d&&0<this.getCount();)e=this.dequeue()[0],n=e.getKey(),a=e.getState(),a!==w["default"].IDLE||n in this.tilesLoadingKeys_||
(this.tilesLoadingKeys_[n]=!0,++this.tilesLoading_,++f,e.load())};return k}(L["default"]);J["default"]=Ia};
shadow$provide[119]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}};
shadow$provide[120]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=J.METERS_PER_UNIT=void 0;Ia={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"};A={};J.METERS_PER_UNIT=A;A[Ia.DEGREES]=12741994*Math.PI/360;A[Ia.FEET]=.3048;A[Ia.METERS]=1;A[Ia.USFEET]=1200/3937;J["default"]=Ia};
shadow$provide[121]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={ANIMATING:0,INTERACTING:1}};
shadow$provide[122]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"}};
shadow$provide[123]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J.DEFAULT_MAX_ZOOM=42;J.DEFAULT_TILE_SIZE=256};
shadow$provide[124]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var m=A(120);Ia=function(){function l(u){this.code_=u.code;this.units_=u.units;this.extent_=void 0!==u.extent?u.extent:null;this.worldExtent_=void 0!==u.worldExtent?u.worldExtent:null;this.axisOrientation_=void 0!==u.axisOrientation?u.axisOrientation:"enu";this.global_=void 0!==u.global?u.global:!1;this.canWrapX_=!(!this.global_||!this.extent_);this.getPointResolutionFunc_=u.getPointResolution;
this.defaultTileGrid_=null;this.metersPerUnit_=u.metersPerUnit}l.prototype.canWrapX=function(){return this.canWrapX_};l.prototype.getCode=function(){return this.code_};l.prototype.getExtent=function(){return this.extent_};l.prototype.getUnits=function(){return this.units_};l.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||m.METERS_PER_UNIT[this.units_]};l.prototype.getWorldExtent=function(){return this.worldExtent_};l.prototype.getAxisOrientation=function(){return this.axisOrientation_};
l.prototype.isGlobal=function(){return this.global_};l.prototype.setGlobal=function(u){this.global_=u;this.canWrapX_=!(!u||!this.extent_)};l.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_};l.prototype.setDefaultTileGrid=function(u){this.defaultTileGrid_=u};l.prototype.setExtent=function(u){this.extent_=u;this.canWrapX_=!(!this.global_||!u)};l.prototype.setWorldExtent=function(u){this.worldExtent_=u};l.prototype.setGetPointResolution=function(u){this.getPointResolutionFunc_=u};
l.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_};return l}();J["default"]=Ia};
shadow$provide[125]=function(Ia,A,mb,J){function m(k){return k&&k.__esModule?k:{"default":k}}Object.defineProperty(J,"__esModule",{value:!0});J.fromEPSG4326=function(k,g,d){var f=k.length;d=1<d?d:2;void 0===g&&(g=2<d?k.slice():Array(f));for(var a=0;a<f;a+=d){g[a]=L*k[a]/180;var e=6378137*Math.log(Math.tan(Math.PI*(+k[a+1]+90)/360));e>t?e=t:e<-t&&(e=-t);g[a+1]=e}return g};J.toEPSG4326=function(k,g,d){var f=k.length;d=1<d?d:2;void 0===g&&(g=2<d?k.slice():Array(f));for(var a=0;a<f;a+=d)g[a]=180*k[a]/
L,g[a+1]=360*Math.atan(Math.exp(k[a+1]/6378137))/Math.PI-90;return g};J.PROJECTIONS=J.MAX_SAFE_Y=J.WORLD_EXTENT=J.EXTENT=J.HALF_SIZE=J.RADIUS=void 0;Ia=m(A(124));var l=m(A(120)),u=A(81),G=function(){var k=function(g,d){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(f[e]=a[e])};return k(g,d)};return function(g,d){function f(){this.constructor=g}k(g,d);g.prototype=null===d?Object.create(d):
(f.prototype=d.prototype,new f)}}();J.RADIUS=6378137;var L=6378137*Math.PI;J.HALF_SIZE=L;var w=[-L,-L,L,L];J.EXTENT=w;var v=[-180,-85,180,85];J.WORLD_EXTENT=v;var t=6378137*Math.log(Math.tan(Math.PI/2));J.MAX_SAFE_Y=t;A=function(k){function g(d){return k.call(this,{code:d,units:l["default"].METERS,extent:w,global:!0,worldExtent:v,getPointResolution:function(f,a){return f/(0,u.cosh)(a[1]/6378137)}})||this}G(g,k);return g}(Ia["default"]);A=[new A("EPSG:3857"),new A("EPSG:102100"),new A("EPSG:102113"),
new A("EPSG:900913"),new A("http://www.opengis.net/gml/srs/epsg.xml#3857")];J.PROJECTIONS=A};
shadow$provide[126]=function(Ia,A,mb,J){function m(w){return w&&w.__esModule?w:{"default":w}}Object.defineProperty(J,"__esModule",{value:!0});J.PROJECTIONS=J.METERS_PER_UNIT=J.EXTENT=J.RADIUS=void 0;Ia=m(A(124));var l=m(A(120)),u=function(){var w=function(v,t){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,g){k.__proto__=g}||function(k,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(k[d]=g[d])};return w(v,t)};return function(v,t){function k(){this.constructor=v}
w(v,t);v.prototype=null===t?Object.create(t):(k.prototype=t.prototype,new k)}}();J.RADIUS=6378137;var G=[-180,-90,180,90];J.EXTENT=G;var L=6378137*Math.PI/180;J.METERS_PER_UNIT=L;A=function(w){function v(t,k){return w.call(this,{code:t,units:l["default"].DEGREES,extent:G,axisOrientation:k,global:!0,metersPerUnit:L,worldExtent:G})||this}u(v,w);return v}(Ia["default"]);A=[new A("CRS:84"),new A("EPSG:4326","neu"),new A("urn:ogc:def:crs:OGC:1.3:CRS84"),new A("urn:ogc:def:crs:OGC:2:84"),new A("http://www.opengis.net/gml/srs/epsg.xml#4326",
"neu")];J.PROJECTIONS=A};
shadow$provide[127]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J.clear=function(){m={}};J.get=function(l){return m[l]||m[l.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null};J.add=function(l,u){m[l]=u};var m={}};
shadow$provide[128]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J.clear=function(){l={}};J.add=function(u,G,L){u=u.getCode();G=G.getCode();u in l||(l[u]={});l[u][G]=L};J.remove=function(u,G){u=u.getCode();G=G.getCode();var L=l[u][G];delete l[u][G];(0,m.isEmpty)(l[u])&&delete l[u];return L};J.get=function(u,G){var L;u in l&&G in l[u]&&(L=l[u][G]);return L};var m=A(86),l={}};
shadow$provide[129]=function(Ia,A,mb,J){function m(k,g,d){d=d||t;var f=(0,v.toRadians)(k[1]),a=(0,v.toRadians)(g[1]),e=(a-f)/2;k=(0,v.toRadians)(g[0]-k[0])/2;k=Math.sin(e)*Math.sin(e)+Math.sin(k)*Math.sin(k)*Math.cos(f)*Math.cos(a);return 2*d*Math.atan2(Math.sqrt(k),Math.sqrt(1-k))}function l(k,g){for(var d=0,f=0,a=k.length;f<a-1;++f)d+=m(k[f],k[f+1],g);return d}function u(k,g){var d=g||{},f=d.radius||t;d=d.projection||"EPSG:3857";var a=k.getType();a!==w["default"].GEOMETRY_COLLECTION&&(k=k.clone().transform(d,
"EPSG:4326"));d=0;var e;switch(a){case w["default"].POINT:case w["default"].MULTI_POINT:break;case w["default"].LINE_STRING:case w["default"].LINEAR_RING:g=k.getCoordinates();d=l(g,f);break;case w["default"].MULTI_LINE_STRING:case w["default"].POLYGON:g=k.getCoordinates();k=0;for(a=g.length;k<a;++k)d+=l(g[k],f);break;case w["default"].MULTI_POLYGON:g=k.getCoordinates();k=0;for(a=g.length;k<a;++k){var n=g[k];var x=0;for(e=n.length;x<e;++x)d+=l(n[x],f)}break;case w["default"].GEOMETRY_COLLECTION:f=
k.getGeometries();k=0;for(a=f.length;k<a;++k)d+=u(f[k],g);break;default:throw Error("Unsupported geometry type: "+a);}return d}function G(k,g){for(var d=0,f=k.length,a=k[f-1][0],e=k[f-1][1],n=0;n<f;n++){var x=k[n][0],z=k[n][1];d+=(0,v.toRadians)(x-a)*(2+Math.sin((0,v.toRadians)(e))+Math.sin((0,v.toRadians)(z)));a=x;e=z}return d*g*g/2}function L(k,g){var d=g||{},f=d.radius||t;d=d.projection||"EPSG:3857";var a=k.getType();a!==w["default"].GEOMETRY_COLLECTION&&(k=k.clone().transform(d,"EPSG:4326"));
d=0;var e;switch(a){case w["default"].POINT:case w["default"].MULTI_POINT:case w["default"].LINE_STRING:case w["default"].MULTI_LINE_STRING:case w["default"].LINEAR_RING:break;case w["default"].POLYGON:g=k.getCoordinates();d=Math.abs(G(g[0],f));k=1;for(a=g.length;k<a;++k)d-=Math.abs(G(g[k],f));break;case w["default"].MULTI_POLYGON:g=k.getCoordinates();k=0;for(a=g.length;k<a;++k){var n=g[k];d+=Math.abs(G(n[0],f));var x=1;for(e=n.length;x<e;++x)d-=Math.abs(G(n[x],f))}break;case w["default"].GEOMETRY_COLLECTION:f=
k.getGeometries();k=0;for(a=f.length;k<a;++k)d+=L(f[k],g);break;default:throw Error("Unsupported geometry type: "+a);}return d}Object.defineProperty(J,"__esModule",{value:!0});J.getDistance=m;J.getLength=u;J.getArea=L;J.offset=function(k,g,d,f){var a=f||t;f=(0,v.toRadians)(k[1]);k=(0,v.toRadians)(k[0]);a=g/a;g=Math.asin(Math.sin(f)*Math.cos(a)+Math.cos(f)*Math.sin(a)*Math.cos(d));d=k+Math.atan2(Math.sin(d)*Math.sin(a)*Math.cos(f),Math.cos(a)-Math.sin(f)*Math.sin(g));return[(0,v.toDegrees)(d),(0,v.toDegrees)(g)]};
J.DEFAULT_RADIUS=void 0;var w=function(k){return k&&k.__esModule?k:{"default":k}}(A(119)),v=A(81),t=6371008.8;J.DEFAULT_RADIUS=t};
shadow$provide[130]=function(Ia,A,mb,J){function m(ba){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(fa){return typeof fa}:function(fa){return fa&&"function"===typeof Symbol&&fa.constructor===Symbol&&fa!==Symbol.prototype?"symbol":typeof fa};return m(ba)}function l(){if("function"!==typeof WeakMap)return null;var ba=new WeakMap;l=function(){return ba};return ba}function u(ba,fa,ia){if(void 0!==fa){ia=0;for(var ca=ba.length;ia<ca;++ia)fa[ia]=ba[ia];ba=fa}else ba=ba.slice();
return ba}function G(ba,fa,ia){if(void 0!==fa&&ba!==fa){ia=0;for(var ca=ba.length;ia<ca;++ia)fa[ia]=ba[ia];ba=fa}return ba}function L(ba){(0,D.add)(ba.getCode(),ba);(0,y.add)(ba,ba,u)}function w(ba){ba.forEach(L)}function v(ba){return"string"===typeof ba?(0,D.get)(ba):ba||null}function t(ba){w(ba);ba.forEach(function(fa){ba.forEach(function(ia){fa!==ia&&(0,y.add)(fa,ia,u)})})}function k(ba,fa,ia,ca){ba.forEach(function(N){fa.forEach(function(C){(0,y.add)(N,C,ia);(0,y.add)(C,N,ca)})})}function g(ba){return function(fa,
ia,ca){var N=fa.length;ca=void 0!==ca?ca:2;ia=void 0!==ia?ia:Array(N);for(var C=0;C<N;C+=ca){var W=ba([fa[C],fa[C+1]]);ia[C]=W[0];ia[C+1]=W[1];for(W=ca-1;2<=W;--W)ia[C+W]=fa[C+W]}return ia}}function d(ba,fa){ba=ba.getCode();fa=fa.getCode();(fa=(0,y.get)(ba,fa))||(fa=G);return fa}function f(ba,fa){ba=v(ba);fa=v(fa);return d(ba,fa)}function a(ba,fa,ia){return f(fa,ia)(ba,void 0,ba.length)}function e(ba,fa,ia,ca){fa=f(fa,ia);return(0,E.applyTransform)(ba,fa,void 0,ca)}function n(ba){ea=v(ba)}function x(){t(M.PROJECTIONS);
t(K.PROJECTIONS);k(K.PROJECTIONS,M.PROJECTIONS,M.fromEPSG4326,M.toEPSG4326)}Object.defineProperty(J,"__esModule",{value:!0});J.cloneTransform=u;J.identityTransform=G;J.addProjection=L;J.addProjections=w;J.get=v;J.getPointResolution=function(ba,fa,ia,ca){ba=v(ba);var N=ba.getPointResolutionFunc();if(N)fa=N(fa,ia),ca&&ca!==ba.getUnits()&&(ba=ba.getMetersPerUnit())&&(fa=fa*ba/B.METERS_PER_UNIT[ca]);else{var C=ba.getUnits();C==B["default"].DEGREES&&!ca||ca==B["default"].DEGREES||(N=d(ba,v("EPSG:4326")),
N===G&&C!==B["default"].DEGREES?fa*=ba.getMetersPerUnit():(fa=[ia[0]-fa/2,ia[1],ia[0]+fa/2,ia[1],ia[0],ia[1]-fa/2,ia[0],ia[1]+fa/2],fa=N(fa,fa,2),ia=(0,Q.getDistance)(fa.slice(0,2),fa.slice(2,4)),fa=(0,Q.getDistance)(fa.slice(4,6),fa.slice(6,8)),fa=(ia+fa)/2),ba=ca?B.METERS_PER_UNIT[ca]:ba.getMetersPerUnit(),void 0!==ba&&(fa/=ba))}return fa};J.addEquivalentProjections=t;J.addEquivalentTransforms=k;J.clearAllProjections=function(){(0,D.clear)();(0,y.clear)()};J.createProjection=function(ba,fa){return ba?
"string"===typeof ba?v(ba):ba:v(fa)};J.createTransformFromCoordinateTransform=g;J.addCoordinateTransforms=function(ba,fa,ia,ca){ba=v(ba);fa=v(fa);(0,y.add)(ba,fa,g(ia));(0,y.add)(fa,ba,g(ca))};J.fromLonLat=function(ba,fa){return a(ba,"EPSG:4326",void 0!==fa?fa:"EPSG:3857")};J.toLonLat=function(ba,fa){ba=a(ba,void 0!==fa?fa:"EPSG:3857","EPSG:4326");fa=ba[0];if(-180>fa||180<fa)ba[0]=(0,H.modulo)(fa+180,360)-180;return ba};J.equivalent=function(ba,fa){if(ba===fa)return!0;var ia=ba.getUnits()===fa.getUnits();
return ba.getCode()===fa.getCode()?ia:d(ba,fa)===u&&ia};J.getTransformFromProjections=d;J.getTransform=f;J.transform=a;J.transformExtent=e;J.transformWithProjections=function(ba,fa,ia){return d(fa,ia)(ba)};J.setUserProjection=n;J.clearUserProjection=function(){ea=null};J.getUserProjection=function(){return ea};J.useGeographic=function(){n("EPSG:4326")};J.toUserCoordinate=function(ba,fa){return ea?a(ba,fa,ea):ba};J.fromUserCoordinate=function(ba,fa){return ea?a(ba,ea,fa):ba};J.toUserExtent=function(ba,
fa){return ea?e(ba,fa,ea):ba};J.fromUserExtent=function(ba,fa){return ea?e(ba,ea,fa):ba};J.createSafeCoordinateTransform=function(ba,fa,ia){return function(ca){var N=ca[0],C=ca[1],W;if(ba.canWrapX()){var ha=ba.getExtent(),Y=(0,E.getWidth)(ha);(W=(0,S.getWorldsAway)(ca,ba,Y))&&(N-=W*Y);N=(0,H.clamp)(N,ha[0],ha[2]);C=(0,H.clamp)(C,ha[1],ha[3]);ca=ia([N,C])}else ca=ia(ca);W&&fa.canWrapX()&&(ca[0]+=W*(0,E.getWidth)(fa.getExtent()));return ca}};J.addCommon=x;Object.defineProperty(J,"Projection",{enumerable:!0,
get:function(){return z["default"]}});Object.defineProperty(J,"METERS_PER_UNIT",{enumerable:!0,get:function(){return B.METERS_PER_UNIT}});var z=function(ba){return ba&&ba.__esModule?ba:{"default":ba}}(A(124)),B=function(ba){if(ba&&ba.__esModule)return ba;if(null===ba||"object"!==m(ba)&&"function"!==typeof ba)return{"default":ba};var fa=l();if(fa&&fa.has(ba))return fa.get(ba);var ia={},ca=Object.defineProperty&&Object.getOwnPropertyDescriptor,N;for(N in ba)if(Object.prototype.hasOwnProperty.call(ba,
N)){var C=ca?Object.getOwnPropertyDescriptor(ba,N):null;C&&(C.get||C.set)?Object.defineProperty(ia,N,C):ia[N]=ba[N]}ia["default"]=ba;fa&&fa.set(ba,ia);return ia}(A(120)),M=A(125),K=A(126),D=A(127),y=A(128),E=A(80),H=A(81),Q=A(129),S=A(98),ea=null;x()};
shadow$provide[131]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J.createExtent=function(l,u,G){return function(L,w,v,t,k){if(L){var g=u?0:v[0]*w,d=u?0:v[1]*w;v=k?k[0]:0;var f=k?k[1]:0;k=l[0]+g/2+v;g=l[2]-g/2+v;v=l[1]+d/2+f;d=l[3]-d/2+f;k>g&&(g=k=(g+k)/2);v>d&&(d=v=(d+v)/2);f=(0,m.clamp)(L[0],k,g);var a=(0,m.clamp)(L[1],v,d);w*=30;t&&G&&(f+=-w*Math.log(1+Math.max(0,k-L[0])/w)+w*Math.log(1+Math.max(0,L[0]-g)/w),a+=-w*Math.log(1+Math.max(0,v-L[1])/w)+w*Math.log(1+Math.max(0,
L[1]-d)/w));return[f,a]}}};J.none=function(l){return l};var m=A(81)};
shadow$provide[132]=function(Ia,A,mb,J){function m(w,v,t,k){var g=(0,G.getWidth)(v)/t[0];v=(0,G.getHeight)(v)/t[1];return k?Math.min(w,Math.max(g,v)):Math.min(w,Math.min(g,v))}function l(w,v,t){var k=Math.min(w,v);k*=Math.log(1+50*Math.max(0,w/v-1))/50+1;t&&(k=Math.max(k,t),k/=Math.log(1+50*Math.max(0,t/w-1))/50+1);return(0,u.clamp)(k,t/2,2*v)}Object.defineProperty(J,"__esModule",{value:!0});J.createSnapToResolutions=function(w,v,t,k){return function(g,d,f,a){if(void 0!==g){var e=w[0],n=w[w.length-
1];f=t?m(e,t,f,k):e;if(a)return void 0===v||v?l(g,f,n):(0,u.clamp)(g,n,f);g=Math.min(f,g);d=Math.floor((0,L.linearFindNearest)(w,g,d));return w[d]>f&&d<w.length-1?w[d+1]:w[d]}}};J.createSnapToPower=function(w,v,t,k,g,d){return function(f,a,e,n){if(void 0!==f){e=g?m(v,g,e,d):v;var x=void 0!==t?t:0;if(n)return void 0===k||k?l(f,e,x):(0,u.clamp)(f,x,e);f=v/Math.pow(w,Math.max(Math.ceil(Math.log(v/e)/Math.log(w)-1E-9),Math.floor(Math.log(v/Math.min(e,f))/Math.log(w)+(-a*(.5-1E-9)+.5))));return(0,u.clamp)(f,
x,e)}}};J.createMinMaxResolution=function(w,v,t,k,g){return function(d,f,a,e){if(void 0!==d)return f=k?m(w,k,a,g):w,void 0!==t&&!t||!e?(0,u.clamp)(d,v,f):l(d,f,v)}};var u=A(81),G=A(80),L=A(72)};
shadow$provide[133]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J.disable=function(l){if(void 0!==l)return 0};J.none=function(l){if(void 0!==l)return l};J.createSnapToN=function(l){var u=2*Math.PI/l;return function(G,L){if(L)return G;if(void 0!==G)return G=Math.floor(G/u+.5)*u}};J.createSnapToZero=function(l){var u=l||(0,m.toRadians)(5);return function(G,L){if(L)return G;if(void 0!==G)return Math.abs(G)<=u?0:G}};var m=A(81)};
shadow$provide[134]=function(Ia,A,mb,J){function m(u){return Math.pow(u,3)}function l(u){return 3*u*u-2*u*u*u}Object.defineProperty(J,"__esModule",{value:!0});J.easeIn=m;J.easeOut=function(u){return 1-m(1-u)};J.inAndOut=l;J.linear=function(u){return u};J.upAndDown=function(u){return.5>u?l(2*u):1-l(2*(u-.5))}};
shadow$provide[135]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}};
shadow$provide[136]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J.transform2D=function(m,l,u,G,L,w){for(var v=w?w:[],t=0;l<u;l+=G){var k=m[l],g=m[l+1];v[t++]=L[0]*k+L[2]*g+L[4];v[t++]=L[1]*k+L[3]*g+L[5]}w&&v.length!=t&&(v.length=t);return v};J.rotate=function(m,l,u,G,L,w,v){var t=v?v:[],k=Math.cos(L);L=Math.sin(L);var g=w[0];w=w[1];for(var d=0;l<u;l+=G){var f=m[l]-g,a=m[l+1]-w;t[d++]=g+f*k-a*L;t[d++]=w+f*L+a*k;for(f=l+2;f<l+G;++f)t[d++]=m[f]}v&&t.length!=d&&(t.length=d);return t};
J.scale=function(m,l,u,G,L,w,v,t){var k=t?t:[],g=v[0];v=v[1];for(var d=0;l<u;l+=G){var f=m[l]-g,a=m[l+1]-v;k[d++]=g+L*f;k[d++]=v+w*a;for(f=l+2;f<l+G;++f)k[d++]=m[f]}t&&k.length!=d&&(k.length=d);return k};J.translate=function(m,l,u,G,L,w,v){for(var t=v?v:[],k=0;l<u;l+=G){t[k++]=m[l]+L;t[k++]=m[l+1]+w;for(var g=l+2;g<l+G;++g)t[k++]=m[g]}v&&t.length!=k&&(t.length=k);return t}};
shadow$provide[137]=function(Ia,A,mb,J){function m(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=m(A(91));var l=m(A(120)),u=A(74),G=A(77),L=A(80),w=A(130),v=A(73),t=A(136),k=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var x in n)Object.prototype.hasOwnProperty.call(n,x)&&(e[x]=n[x])};return d(f,a)};return function(f,a){function e(){this.constructor=
f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),g=(0,G.create)();A=function(d){function f(){var a=d.call(this)||this;a.extent_=(0,L.createEmpty)();a.extentRevision_=-1;a.simplifiedGeometryMaxMinSquaredTolerance=0;a.simplifiedGeometryRevision=0;a.simplifyTransformedInternal=(0,v.memoizeOne)(function(e,n,x){if(!x)return this.getSimplifiedGeometry(n);e=this.clone();e.applyTransform(x);return e.getSimplifiedGeometry(n)});return a}k(f,d);f.prototype.simplifyTransformed=
function(a,e){return this.simplifyTransformedInternal(this.getRevision(),a,e)};f.prototype.clone=function(){return(0,u["abstract"])()};f.prototype.closestPointXY=function(a,e,n,x){return(0,u["abstract"])()};f.prototype.containsXY=function(a,e){var n=this.getClosestPoint([a,e]);return n[0]===a&&n[1]===e};f.prototype.getClosestPoint=function(a,e){e=e?e:[NaN,NaN];this.closestPointXY(a[0],a[1],e,Infinity);return e};f.prototype.intersectsCoordinate=function(a){return this.containsXY(a[0],a[1])};f.prototype.computeExtent=
function(a){return(0,u["abstract"])()};f.prototype.getExtent=function(a){if(this.extentRevision_!=this.getRevision()){var e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&(0,L.createOrUpdateEmpty)(e);this.extentRevision_=this.getRevision()}return(0,L.returnOrUpdate)(this.extent_,a)};f.prototype.rotate=function(a,e){(0,u["abstract"])()};f.prototype.scale=function(a,e,n){(0,u["abstract"])()};f.prototype.simplify=function(a){return this.getSimplifiedGeometry(a*a)};f.prototype.getSimplifiedGeometry=
function(a){return(0,u["abstract"])()};f.prototype.getType=function(){return(0,u["abstract"])()};f.prototype.applyTransform=function(a){(0,u["abstract"])()};f.prototype.intersectsExtent=function(a){return(0,u["abstract"])()};f.prototype.translate=function(a,e){(0,u["abstract"])()};f.prototype.transform=function(a,e){var n=(0,w.get)(a);a=n.getUnits()==l["default"].TILE_PIXELS?function(x,z,B){var M=n.getExtent(),K=n.getWorldExtent();M=(0,L.getHeight)(K)/(0,L.getHeight)(M);(0,G.compose)(g,K[0],K[3],
M,-M,0,0,0);(0,t.transform2D)(x,0,x.length,B,g,z);return(0,w.getTransform)(n,e)(x,z,B)}:(0,w.getTransform)(n,e);this.applyTransform(a);return this};return f}(Ia["default"]);J["default"]=A};
shadow$provide[138]=function(Ia,A,mb,J){function m(t){return t&&t.__esModule?t:{"default":t}}function l(t){var k;t==u["default"].XY?k=2:t==u["default"].XYZ||t==u["default"].XYM?k=3:t==u["default"].XYZM&&(k=4);return k}Object.defineProperty(J,"__esModule",{value:!0});J.getStrideForLayout=l;J.transformGeom2D=function(t,k,g){var d=t.getFlatCoordinates();return d?(t=t.getStride(),(0,w.transform2D)(d,0,d.length,t,k,g)):null};J["default"]=void 0;Ia=m(A(137));var u=m(A(135)),G=A(74),L=A(80),w=A(136),v=function(){var t=
function(k,g){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var a in f)Object.prototype.hasOwnProperty.call(f,a)&&(d[a]=f[a])};return t(k,g)};return function(k,g){function d(){this.constructor=k}t(k,g);k.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}}();A=function(t){function k(){var g=t.call(this)||this;g.layout=u["default"].XY;g.stride=2;g.flatCoordinates=null;return g}v(k,t);k.prototype.computeExtent=function(g){return(0,
L.createOrUpdateFromFlatCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,g)};k.prototype.getCoordinates=function(){return(0,G["abstract"])()};k.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)};k.prototype.getFlatCoordinates=function(){return this.flatCoordinates};k.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)};k.prototype.getLayout=function(){return this.layout};
k.prototype.getSimplifiedGeometry=function(g){this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision());if(0>g||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&g<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var d=this.getSimplifiedGeometryInternal(g);if(d.getFlatCoordinates().length<this.flatCoordinates.length)return d;this.simplifiedGeometryMaxMinSquaredTolerance=g;return this};k.prototype.getSimplifiedGeometryInternal=
function(g){return this};k.prototype.getStride=function(){return this.stride};k.prototype.setFlatCoordinates=function(g,d){this.stride=l(g);this.layout=g;this.flatCoordinates=d};k.prototype.setCoordinates=function(g,d){(0,G["abstract"])()};k.prototype.setLayout=function(g,d,f){if(g)d=l(g);else{for(g=0;g<f;++g){if(0===d.length){this.layout=u["default"].XY;this.stride=2;return}d=d[0]}d=d.length;if(2==d)var a=u["default"].XY;else 3==d?a=u["default"].XYZ:4==d&&(a=u["default"].XYZM);g=a}this.layout=g;
this.stride=d};k.prototype.applyTransform=function(g){this.flatCoordinates&&(g(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())};k.prototype.rotate=function(g,d){var f=this.getFlatCoordinates();if(f){var a=this.getStride();(0,w.rotate)(f,0,f.length,a,g,d,f);this.changed()}};k.prototype.scale=function(g,d,f){void 0===d&&(d=g);f||(f=(0,L.getCenter)(this.getExtent()));var a=this.getFlatCoordinates();if(a){var e=this.getStride();(0,w.scale)(a,0,a.length,e,g,d,f,a);this.changed()}};
k.prototype.translate=function(g,d){var f=this.getFlatCoordinates();if(f){var a=this.getStride();(0,w.translate)(f,0,f.length,a,g,d,f);this.changed()}};return k}(Ia["default"]);J["default"]=A};
shadow$provide[139]=function(Ia,A,mb,J){function m(v,t,k,g,d,f,a){var e=v[t],n=v[t+1],x=v[k]-e,z=v[k+1]-n;if(0!==x||0!==z)if(f=((d-e)*x+(f-n)*z)/(x*x+z*z),1<f)t=k;else if(0<f){for(d=0;d<g;++d)a[d]=(0,w.lerp)(v[t+d],v[k+d],f);a.length=g;return}for(d=0;d<g;++d)a[d]=v[t+d];a.length=g}function l(v,t,k,g,d){var f=v[t],a=v[t+1];for(t+=g;t<k;t+=g){var e=v[t],n=v[t+1];f=(0,w.squaredDistance)(f,a,e,n);f>d&&(d=f);f=e;a=n}return d}function u(v,t,k,g,d){for(var f=0,a=k.length;f<a;++f){var e=k[f];d=l(v,t,e,g,
d);t=e}return d}function G(v,t,k,g,d,f,a,e,n,x,z){if(t==k)return x;if(0===d){var B=(0,w.squaredDistance)(a,e,v[t],v[t+1]);if(B<x){for(z=0;z<g;++z)n[z]=v[t+z];n.length=g;return B}return x}for(var M=z?z:[NaN,NaN],K=t+g;K<k;)if(m(v,K-g,K,g,a,e,M),B=(0,w.squaredDistance)(a,e,M[0],M[1]),B<x){x=B;for(z=0;z<g;++z)n[z]=M[z];n.length=g;K+=g}else K+=g*Math.max((Math.sqrt(B)-Math.sqrt(x))/d|0,1);if(f&&(m(v,k-g,t,g,a,e,M),B=(0,w.squaredDistance)(a,e,M[0],M[1]),B<x)){x=B;for(z=0;z<g;++z)n[z]=M[z];n.length=g}return x}
function L(v,t,k,g,d,f,a,e,n,x,z){z=z?z:[NaN,NaN];for(var B=0,M=k.length;B<M;++B){var K=k[B];x=G(v,t,K,g,d,f,a,e,n,x,z);t=K}return x}Object.defineProperty(J,"__esModule",{value:!0});J.maxSquaredDelta=l;J.arrayMaxSquaredDelta=u;J.multiArrayMaxSquaredDelta=function(v,t,k,g,d){for(var f=0,a=k.length;f<a;++f){var e=k[f];d=u(v,t,e,g,d);t=e[e.length-1]}return d};J.assignClosestPoint=G;J.assignClosestArrayPoint=L;J.assignClosestMultiArrayPoint=function(v,t,k,g,d,f,a,e,n,x,z){z=z?z:[NaN,NaN];for(var B=0,
M=k.length;B<M;++B){var K=k[B];x=L(v,t,K,g,d,f,a,e,n,x,z);t=K[K.length-1]}return x};var w=A(81)};
shadow$provide[140]=function(Ia,A,mb,J){function m(u,G,L,w){for(var v=0,t=L.length;v<t;++v)for(var k=L[v],g=0;g<w;++g)u[G++]=k[g];return G}function l(u,G,L,w,v){v=v?v:[];for(var t=0,k=0,g=L.length;k<g;++k)G=m(u,G,L[k],w),v[t++]=G;v.length=t;return v}Object.defineProperty(J,"__esModule",{value:!0});J.deflateCoordinate=function(u,G,L,w){w=0;for(var v=L.length;w<v;++w)u[G++]=L[w];return G};J.deflateCoordinates=m;J.deflateCoordinatesArray=l;J.deflateMultiCoordinatesArray=function(u,G,L,w,v){v=v?v:[];
for(var t=0,k=0,g=L.length;k<g;++k)G=l(u,G,L[k],w,v[t]),v[t++]=G,G=G[G.length-1];v.length=t;return v}};
shadow$provide[141]=function(Ia,A,mb,J){function m(t,k,g,d,f,a,e){var n=(g-k)/d;if(3>n){for(;k<g;k+=d)a[e++]=t[k],a[e++]=t[k+1];return e}var x=Array(n);x[0]=1;x[n-1]=1;g=[k,g-d];for(var z=0;0<g.length;){for(var B=g.pop(),M=g.pop(),K=0,D=t[M],y=t[M+1],E=t[B],H=t[B+1],Q=M+d;Q<B;Q+=d){var S=t[Q],ea=t[Q+1];S=(0,v.squaredSegmentDistance)(S,ea,D,y,E,H);S>K&&(z=Q,K=S)}K>f&&(x[(z-k)/d]=1,M+d<z&&g.push(M,z),z+d<B&&g.push(z,B))}for(Q=0;Q<n;++Q)x[Q]&&(a[e++]=t[k+Q*d],a[e++]=t[k+Q*d+1]);return e}function l(t,
k,g,d,f,a,e,n){for(var x=0,z=g.length;x<z;++x){var B=g[x];e=m(t,k,B,d,f,a,e);n.push(e);k=B}return e}function u(t,k,g,d,f,a,e){if(g<=k+d){for(;k<g;k+=d)a[e++]=t[k],a[e++]=t[k+1];return e}var n=t[k],x=t[k+1];a[e++]=n;a[e++]=x;var z=n,B=x;for(k+=d;k<g;k+=d)z=t[k],B=t[k+1],(0,v.squaredDistance)(n,x,z,B)>f&&(a[e++]=z,a[e++]=B,n=z,x=B);if(z!=n||B!=x)a[e++]=z,a[e++]=B;return e}function G(t,k){return k*Math.round(t/k)}function L(t,k,g,d,f,a,e){if(k==g)return e;var n=G(t[k],f),x=G(t[k+1],f);k+=d;a[e++]=n;
a[e++]=x;do{var z=G(t[k],f);var B=G(t[k+1],f);k+=d;if(k==g)return a[e++]=z,a[e++]=B,e}while(z==n&&B==x);for(;k<g;){var M=G(t[k],f),K=G(t[k+1],f);k+=d;if(M!=z||K!=B){var D=z-n,y=B-x,E=M-n,H=K-x;D*H==y*E&&(0>D&&E<D||D==E||0<D&&E>D)&&(0>y&&H<y||y==H||0<y&&H>y)||(a[e++]=z,a[e++]=B,n=z,x=B);z=M;B=K}}a[e++]=z;a[e++]=B;return e}function w(t,k,g,d,f,a,e,n){for(var x=0,z=g.length;x<z;++x){var B=g[x];e=L(t,k,B,d,f,a,e);n.push(e);k=B}return e}Object.defineProperty(J,"__esModule",{value:!0});J.simplifyLineString=
function(t,k,g,d,f,a,e){e=void 0!==e?e:[];a||(g=u(t,k,g,d,f,e,0),t=e,k=0,d=2);e.length=m(t,k,g,d,f,e,0);return e};J.douglasPeucker=m;J.douglasPeuckerArray=l;J.douglasPeuckerMultiArray=function(t,k,g,d,f,a,e,n){for(var x=0,z=g.length;x<z;++x){var B=g[x],M=[];e=l(t,k,B,d,f,a,e,M);n.push(M);k=B[B.length-1]}return e};J.radialDistance=u;J.snap=G;J.quantize=L;J.quantizeArray=w;J.quantizeMultiArray=function(t,k,g,d,f,a,e,n){for(var x=0,z=g.length;x<z;++x){var B=g[x],M=[];e=w(t,k,B,d,f,a,e,M);n.push(M);k=
B[B.length-1]}return e};var v=A(81)};
shadow$provide[142]=function(Ia,A,mb,J){function m(u,G,L,w,v){v=void 0!==v?v:[];for(var t=0;G<L;G+=w)v[t++]=u.slice(G,G+w);v.length=t;return v}function l(u,G,L,w,v){v=void 0!==v?v:[];for(var t=0,k=0,g=L.length;k<g;++k){var d=L[k];v[t++]=m(u,G,d,w,v[t]);G=d}v.length=t;return v}Object.defineProperty(J,"__esModule",{value:!0});J.inflateCoordinates=m;J.inflateCoordinatesArray=l;J.inflateMultiCoordinatesArray=function(u,G,L,w,v){v=void 0!==v?v:[];for(var t=0,k=0,g=L.length;k<g;++k){var d=L[k];v[t++]=l(u,
G,d,w,v[t]);G=d[d.length-1]}v.length=t;return v}};
shadow$provide[143]=function(Ia,A,mb,J){function m(u,G,L,w){for(var v=0,t=u[L-w],k=u[L-w+1];G<L;G+=w){var g=u[G],d=u[G+1];v+=k*g-t*d;t=g;k=d}return v/2}function l(u,G,L,w){for(var v=0,t=0,k=L.length;t<k;++t){var g=L[t];v+=m(u,G,g,w);G=g}return v}Object.defineProperty(J,"__esModule",{value:!0});J.linearRing=m;J.linearRings=l;J.linearRingss=function(u,G,L,w){for(var v=0,t=0,k=L.length;t<k;++t){var g=L[t];v+=l(u,G,g,w);G=g[g.length-1]}return v}};
shadow$provide[144]=function(Ia,A,mb,J){function m(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(A(135)),u=m(A(119));Ia=m(A(138));var G=A(139),L=A(80),w=A(140),v=A(141),t=A(142),k=A(143),g=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var x in n)Object.prototype.hasOwnProperty.call(n,x)&&(e[x]=n[x])};return d(f,a)};return function(f,a){function e(){this.constructor=
f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();A=function(d){function f(a,e){var n=d.call(this)||this;n.maxDelta_=-1;n.maxDeltaRevision_=-1;void 0===e||Array.isArray(a[0])?n.setCoordinates(a,e):n.setFlatCoordinates(e,a);return n}g(f,d);f.prototype.clone=function(){return new f(this.flatCoordinates.slice(),this.layout)};f.prototype.closestPointXY=function(a,e,n,x){if(x<(0,L.closestSquaredDistanceXY)(this.getExtent(),a,e))return x;this.maxDeltaRevision_!=this.getRevision()&&
(this.maxDelta_=Math.sqrt((0,G.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,G.assignClosestPoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,a,e,n,x)};f.prototype.getArea=function(){return(0,k.linearRing)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};f.prototype.getCoordinates=function(){return(0,t.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,
this.stride)};f.prototype.getSimplifiedGeometryInternal=function(a){var e=[];e.length=(0,v.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,a,e,0);return new f(e,l["default"].XY)};f.prototype.getType=function(){return u["default"].LINEAR_RING};f.prototype.intersectsExtent=function(a){return!1};f.prototype.setCoordinates=function(a,e){this.setLayout(e,a,1);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,w.deflateCoordinates)(this.flatCoordinates,
0,a,this.stride);this.changed()};return f}(Ia["default"]);J["default"]=A};
shadow$provide[145]=function(Ia,A,mb,J){function m(v){return v&&v.__esModule?v:{"default":v}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(A(119));Ia=m(A(138));var u=A(80),G=A(140),L=A(81),w=function(){var v=function(t,k){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(g[f]=d[f])};return v(t,k)};return function(t,k){function g(){this.constructor=t}v(t,k);t.prototype=
null===k?Object.create(k):(g.prototype=k.prototype,new g)}}();A=function(v){function t(k,g){var d=v.call(this)||this;d.setCoordinates(k,g);return d}w(t,v);t.prototype.clone=function(){var k=new t(this.flatCoordinates.slice(),this.layout);k.applyProperties(this);return k};t.prototype.closestPointXY=function(k,g,d,f){var a=this.flatCoordinates;k=(0,L.squaredDistance)(k,g,a[0],a[1]);if(k<f){f=this.stride;for(g=0;g<f;++g)d[g]=a[g];d.length=f;return k}return f};t.prototype.getCoordinates=function(){return this.flatCoordinates?
this.flatCoordinates.slice():[]};t.prototype.computeExtent=function(k){return(0,u.createOrUpdateFromCoordinate)(this.flatCoordinates,k)};t.prototype.getType=function(){return l["default"].POINT};t.prototype.intersectsExtent=function(k){return(0,u.containsXY)(k,this.flatCoordinates[0],this.flatCoordinates[1])};t.prototype.setCoordinates=function(k,g){this.setLayout(g,k,0);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,G.deflateCoordinate)(this.flatCoordinates,0,k,this.stride);
this.changed()};return t}(Ia["default"]);J["default"]=A};
shadow$provide[146]=function(Ia,A,mb,J){function m(G,L,w,v,t,k){for(var g=0,d=G[w-v],f=G[w-v+1];L<w;L+=v){var a=G[L],e=G[L+1];f<=k?e>k&&0<(a-d)*(k-f)-(t-d)*(e-f)&&g++:e<=k&&0>(a-d)*(k-f)-(t-d)*(e-f)&&g--;d=a;f=e}return 0!==g}function l(G,L,w,v,t,k){if(0===w.length||!m(G,L,w[0],v,t,k))return!1;L=1;for(var g=w.length;L<g;++L)if(m(G,w[L-1],w[L],v,t,k))return!1;return!0}Object.defineProperty(J,"__esModule",{value:!0});J.linearRingContainsExtent=function(G,L,w,v,t){return!(0,u.forEachCorner)(t,function(k){return!m(G,
L,w,v,k[0],k[1])})};J.linearRingContainsXY=m;J.linearRingsContainsXY=l;J.linearRingssContainsXY=function(G,L,w,v,t,k){if(0===w.length)return!1;for(var g=0,d=w.length;g<d;++g){var f=w[g];if(l(G,L,f,v,t,k))return!0;L=f[f.length-1]}return!1};var u=A(80)};
shadow$provide[147]=function(Ia,A,mb,J){function m(G,L,w,v,t,k,g){for(var d,f,a,e,n,x=t[k+1],z=[],B=0,M=w.length;B<M;++B){var K=w[B];a=G[K-v];n=G[K-v+1];for(d=L;d<K;d+=v){e=G[d];f=G[d+1];if(x<=n&&f<=x||n<=x&&x<=f)a=(x-n)/(f-n)*(e-a)+a,z.push(a);a=e;n=f}}B=NaN;M=-Infinity;z.sort(u.numberSafeCompareFunction);a=z[0];d=1;for(f=z.length;d<f;++d)e=z[d],K=Math.abs(e-a),K>M&&(a=(a+e)/2,(0,l.linearRingsContainsXY)(G,L,w,v,a,x)&&(B=a,M=K)),a=e;isNaN(B)&&(B=t[k]);return g?(g.push(B,x,M),g):[B,x,M]}Object.defineProperty(J,
"__esModule",{value:!0});J.getInteriorPointOfArray=m;J.getInteriorPointsOfMultiArray=function(G,L,w,v,t){for(var k=[],g=0,d=w.length;g<d;++g){var f=w[g];k=m(G,L,f,v,t,2*g,k);L=f[f.length-1]}return k};var l=A(146),u=A(72)};
shadow$provide[148]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J.forEach=function(m,l,u,G,L){for(var w=[m[l],m[l+1]],v=[],t;l+G<u;l+=G){v[0]=m[l+G];v[1]=m[l+G+1];if(t=L(w,v))return t;w[0]=v[0];w[1]=v[1]}return!1}};
shadow$provide[149]=function(Ia,A,mb,J){function m(v,t,k,g,d){var f=(0,G.extendFlatCoordinates)((0,G.createEmpty)(),v,t,k,g);return(0,G.intersects)(d,f)?(0,G.containsExtent)(d,f)||f[0]>=d[0]&&f[2]<=d[2]||f[1]>=d[1]&&f[3]<=d[3]?!0:(0,L.forEach)(v,t,k,g,function(a,e){return(0,G.intersectsSegment)(d,a,e)}):!1}function l(v,t,k,g,d){return m(v,t,k,g,d)||(0,w.linearRingContainsXY)(v,t,k,g,d[0],d[1])||(0,w.linearRingContainsXY)(v,t,k,g,d[0],d[3])||(0,w.linearRingContainsXY)(v,t,k,g,d[2],d[1])||(0,w.linearRingContainsXY)(v,
t,k,g,d[2],d[3])?!0:!1}function u(v,t,k,g,d){if(!l(v,t,k[0],g,d))return!1;if(1===k.length)return!0;t=1;for(var f=k.length;t<f;++t)if((0,w.linearRingContainsExtent)(v,k[t-1],k[t],g,d)&&!m(v,k[t-1],k[t],g,d))return!1;return!0}Object.defineProperty(J,"__esModule",{value:!0});J.intersectsLineString=m;J.intersectsLineStringArray=function(v,t,k,g,d){for(var f=0,a=k.length;f<a;++f){if(m(v,t,k[f],g,d))return!0;t=k[f]}return!1};J.intersectsLinearRing=l;J.intersectsLinearRingArray=u;J.intersectsLinearRingMultiArray=
function(v,t,k,g,d){for(var f=0,a=k.length;f<a;++f){var e=k[f];if(u(v,t,e,g,d))return!0;t=e[e.length-1]}return!1};var G=A(80),L=A(148),w=A(146)};
shadow$provide[150]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J.coordinates=function(m,l,u,G){for(;l<u-G;){for(var L=0;L<G;++L){var w=m[l+L];m[l+L]=m[u-G+L];m[u-G+L]=w}l+=G;u-=G}}};
shadow$provide[151]=function(Ia,A,mb,J){function m(L,w,v,t){for(var k=0,g=L[v-t],d=L[v-t+1];w<v;w+=t){var f=L[w],a=L[w+1];k+=(f-g)*(a+d);g=f;d=a}return 0===k?void 0:0<k}function l(L,w,v,t,k){k=void 0!==k?k:!1;for(var g=0,d=v.length;g<d;++g){var f=v[g];w=m(L,w,f,t);if(0===g){if(k&&w||!k&&!w)return!1}else if(k&&!w||!k&&w)return!1;w=f}return!0}function u(L,w,v,t,k){k=void 0!==k?k:!1;for(var g=0,d=v.length;g<d;++g){var f=v[g],a=m(L,w,f,t);(0===g?k&&a||!k&&!a:k&&!a||!k&&a)&&(0,G.coordinates)(L,w,f,t);
w=f}return w}Object.defineProperty(J,"__esModule",{value:!0});J.linearRingIsClockwise=m;J.linearRingsAreOriented=l;J.linearRingssAreOriented=function(L,w,v,t,k){for(var g=0,d=v.length;g<d;++g){var f=v[g];if(!l(L,w,f,t,k))return!1;f.length&&(w=f[f.length-1])}return!0};J.orientLinearRings=u;J.orientLinearRingsArray=function(L,w,v,t,k){for(var g=0,d=v.length;g<d;++g)w=u(L,w,v[g],t,k);return w};var G=A(150)};
shadow$provide[152]=function(Ia,A,mb,J){function m(y){return y&&y.__esModule?y:{"default":y}}function l(y,E,H,Q){var S=y.getFlatCoordinates(),ea=y.getStride(),ba=S.length/ea-1;Q=Q?Q:0;for(var fa=0;fa<=ba;++fa){var ia=fa*ea,ca=Q+2*(0,z.modulo)(fa,ba)*Math.PI/ba;S[ia]=E[0]+H*Math.cos(ca);S[ia+1]=E[1]+H*Math.sin(ca)}y.changed()}Object.defineProperty(J,"__esModule",{value:!0});J.circular=function(y,E,H,Q){H=H?H:32;for(var S=[],ea=0;ea<H;++ea)(0,g.extend)(S,(0,M.offset)(y,E,2*Math.PI*ea/H,Q));S.push(S[0],
S[1]);return new D(S,u["default"].XY,[S.length])};J.fromExtent=function(y){var E=y[0],H=y[1],Q=y[2];y=y[3];E=[E,H,E,y,Q,y,Q,H,E,H];return new D(E,u["default"].XY,[E.length])};J.fromCircle=function(y,E,H){var Q=E?E:32,S=y.getStride(),ea=y.getLayout();E=y.getCenter();Q=S*(Q+1);for(var ba=Array(Q),fa=0;fa<Q;fa+=S){ba[fa]=0;ba[fa+1]=0;for(var ia=2;ia<S;ia++)ba[fa+ia]=E[ia]}S=new D(ba,ea,[ba.length]);l(S,E,y.getRadius(),H);return S};J.makeRegular=l;J["default"]=void 0;var u=m(A(135)),G=m(A(119)),L=m(A(144)),
w=m(A(145));Ia=m(A(138));var v=A(139),t=A(80),k=A(140),g=A(72),d=A(147),f=A(142),a=A(149),e=A(151),n=A(143),x=A(146),z=A(81),B=A(141),M=A(129),K=function(){var y=function(E,H){y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,S){Q.__proto__=S}||function(Q,S){for(var ea in S)Object.prototype.hasOwnProperty.call(S,ea)&&(Q[ea]=S[ea])};return y(E,H)};return function(E,H){function Q(){this.constructor=E}y(E,H);E.prototype=null===H?Object.create(H):(Q.prototype=H.prototype,new Q)}}(),
D=function(y){function E(H,Q,S){var ea=y.call(this)||this;ea.ends_=[];ea.flatInteriorPointRevision_=-1;ea.flatInteriorPoint_=null;ea.maxDelta_=-1;ea.maxDeltaRevision_=-1;ea.orientedRevision_=-1;ea.orientedFlatCoordinates_=null;void 0!==Q&&S?(ea.setFlatCoordinates(Q,H),ea.ends_=S):ea.setCoordinates(H,Q);return ea}K(E,y);E.prototype.appendLinearRing=function(H){this.flatCoordinates?(0,g.extend)(this.flatCoordinates,H.getFlatCoordinates()):this.flatCoordinates=H.getFlatCoordinates().slice();this.ends_.push(this.flatCoordinates.length);
this.changed()};E.prototype.clone=function(){var H=new E(this.flatCoordinates.slice(),this.layout,this.ends_.slice());H.applyProperties(this);return H};E.prototype.closestPointXY=function(H,Q,S,ea){if(ea<(0,t.closestSquaredDistanceXY)(this.getExtent(),H,Q))return ea;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,v.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,v.assignClosestArrayPoint)(this.flatCoordinates,
0,this.ends_,this.stride,this.maxDelta_,!0,H,Q,S,ea)};E.prototype.containsXY=function(H,Q){return(0,x.linearRingsContainsXY)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,H,Q)};E.prototype.getArea=function(){return(0,n.linearRings)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)};E.prototype.getCoordinates=function(H){if(void 0!==H){var Q=this.getOrientedFlatCoordinates().slice();(0,e.orientLinearRings)(Q,0,this.ends_,this.stride,H)}else Q=this.flatCoordinates;return(0,f.inflateCoordinatesArray)(Q,
0,this.ends_,this.stride)};E.prototype.getEnds=function(){return this.ends_};E.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var H=(0,t.getCenter)(this.getExtent());this.flatInteriorPoint_=(0,d.getInteriorPointOfArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,H,0);this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_};E.prototype.getInteriorPoint=function(){return new w["default"](this.getFlatInteriorPoint(),
u["default"].XYM)};E.prototype.getLinearRingCount=function(){return this.ends_.length};E.prototype.getLinearRing=function(H){return 0>H||this.ends_.length<=H?null:new L["default"](this.flatCoordinates.slice(0===H?0:this.ends_[H-1],this.ends_[H]),this.layout)};E.prototype.getLinearRings=function(){for(var H=this.layout,Q=this.flatCoordinates,S=this.ends_,ea=[],ba=0,fa=0,ia=S.length;fa<ia;++fa){var ca=S[fa];ba=new L["default"](Q.slice(ba,ca),H);ea.push(ba);ba=ca}return ea};E.prototype.getOrientedFlatCoordinates=
function(){if(this.orientedRevision_!=this.getRevision()){var H=this.flatCoordinates;(0,e.linearRingsAreOriented)(H,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=H:(this.orientedFlatCoordinates_=H.slice(),this.orientedFlatCoordinates_.length=(0,e.orientLinearRings)(this.orientedFlatCoordinates_,0,this.ends_,this.stride));this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_};E.prototype.getSimplifiedGeometryInternal=function(H){var Q=[],S=[];Q.length=(0,B.quantizeArray)(this.flatCoordinates,
0,this.ends_,this.stride,Math.sqrt(H),Q,0,S);return new E(Q,u["default"].XY,S)};E.prototype.getType=function(){return G["default"].POLYGON};E.prototype.intersectsExtent=function(H){return(0,a.intersectsLinearRingArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,H)};E.prototype.setCoordinates=function(H,Q){this.setLayout(Q,H,2);this.flatCoordinates||(this.flatCoordinates=[]);H=(0,k.deflateCoordinatesArray)(this.flatCoordinates,0,H,this.stride,this.ends_);this.flatCoordinates.length=
0===H.length?0:H[H.length-1];this.changed()};return E}(Ia["default"]);J["default"]=D};
shadow$provide[153]=function(Ia,A,mb,J){function m(ba){return ba&&ba.__esModule?ba:{"default":ba}}function l(ba,fa){setTimeout(function(){ba(fa)},0)}function u(ba){if(void 0!==ba.extent){var fa=void 0!==ba.smoothExtentConstraint?ba.smoothExtentConstraint:!0;return(0,B.createExtent)(ba.extent,ba.constrainOnlyCenter,fa)}fa=(0,a.createProjection)(ba.projection,"EPSG:3857");return!0!==ba.multiWorld&&fa.isGlobal()?(ba=fa.getExtent().slice(),ba[0]=-Infinity,ba[2]=Infinity,(0,B.createExtent)(ba,!1,!1)):
B.none}function G(ba){var fa=void 0!==ba.minZoom?ba.minZoom:ea,ia=void 0!==ba.maxZoom?ba.maxZoom:28,ca=void 0!==ba.zoomFactor?ba.zoomFactor:2;var N=void 0!==ba.multiWorld?ba.multiWorld:!1;var C=void 0!==ba.smoothResolutionConstraint?ba.smoothResolutionConstraint:!0,W=void 0!==ba.showFullExtent?ba.showFullExtent:!1;var ha=(0,a.createProjection)(ba.projection,"EPSG:3857");var Y=ha.getExtent(),wa=ba.constrainOnlyCenter,xa=ba.extent;N||xa||!ha.isGlobal()||(wa=!1,xa=Y);if(void 0!==ba.resolutions)Y=ba.resolutions,
N=Y[fa],ha=void 0!==Y[ia]?Y[ia]:Y[Y.length-1],ba=ba.constrainResolution?(0,K.createSnapToResolutions)(Y,C,!wa&&xa,W):(0,K.createMinMaxResolution)(N,ha,C,!wa&&xa,W);else{Y=(Y?Math.max((0,E.getWidth)(Y),(0,E.getHeight)(Y)):360*a.METERS_PER_UNIT[k["default"].DEGREES]/ha.getMetersPerUnit())/f.DEFAULT_TILE_SIZE/Math.pow(2,ea);var Ha=Y/Math.pow(2,28-ea);N=ba.maxResolution;void 0!==N?fa=0:N=Y/Math.pow(ca,fa);ha=ba.minResolution;void 0===ha&&(ha=void 0!==ba.maxZoom?void 0!==ba.maxResolution?N/Math.pow(ca,
ia):Y/Math.pow(ca,ia):Ha);ia=fa+Math.floor(Math.log(N/ha)/Math.log(ca));ha=N/Math.pow(ca,ia-fa);ba=ba.constrainResolution?(0,K.createSnapToPower)(ca,N,ha,C,!wa&&xa,W):(0,K.createMinMaxResolution)(N,ha,C,!wa&&xa,W)}return{constraint:ba,maxResolution:N,minResolution:ha,minZoom:fa,zoomFactor:ca}}function L(ba){return(void 0!==ba.enableRotation?ba.enableRotation:1)?(ba=ba.constrainRotation,void 0===ba||!0===ba?(0,D.createSnapToZero)():!1===ba?D.none:"number"===typeof ba?(0,D.createSnapToN)(ba):D.none):
D.disable}function w(ba){return ba.sourceCenter&&ba.targetCenter&&!(0,n.equals)(ba.sourceCenter,ba.targetCenter)||ba.sourceResolution!==ba.targetResolution||ba.sourceRotation!==ba.targetRotation?!1:!0}function v(ba,fa,ia,ca,N){var C=Math.cos(-N);N=Math.sin(-N);var W=ba[0]*C-ba[1]*N;ba=ba[1]*C+ba[0]*N;W+=(fa[0]/2-ia[0])*ca;ba+=(ia[1]-fa[1]/2)*ca;N=-N;return[W*C-ba*N,ba*C+W*N]}Object.defineProperty(J,"__esModule",{value:!0});J.createCenterConstraint=u;J.createResolutionConstraint=G;J.createRotationConstraint=
L;J.isNoopAnimation=w;J["default"]=void 0;Ia=m(A(91));var t=m(A(119)),k=m(A(120)),g=m(A(121)),d=m(A(122)),f=A(123),a=A(130),e=A(73),n=A(98),x=A(76),z=A(86),B=A(131),M=A(81),K=A(132),D=A(133),y=A(134),E=A(80),H=A(72),Q=A(152),S=function(){var ba=function(fa,ia){ba=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ca,N){ca.__proto__=N}||function(ca,N){for(var C in N)Object.prototype.hasOwnProperty.call(N,C)&&(ca[C]=N[C])};return ba(fa,ia)};return function(fa,ia){function ca(){this.constructor=
fa}ba(fa,ia);fa.prototype=null===ia?Object.create(ia):(ca.prototype=ia.prototype,new ca)}}(),ea=0;A=function(ba){function fa(ia){var ca=ba.call(this)||this;ia=(0,z.assign)({},ia);ca.hints_=[0,0];ca.animations_=[];ca.projection_=(0,a.createProjection)(ia.projection,"EPSG:3857");ca.viewportSize_=[100,100];ca.targetCenter_=null;ca.cancelAnchor_=void 0;ia.center&&(ia.center=(0,a.fromUserCoordinate)(ia.center,ca.projection_));ia.extent&&(ia.extent=(0,a.fromUserExtent)(ia.extent,ca.projection_));ca.applyOptions_(ia);
return ca}S(fa,ba);fa.prototype.applyOptions_=function(ia){var ca=G(ia);this.maxResolution_=ca.maxResolution;this.minResolution_=ca.minResolution;this.zoomFactor_=ca.zoomFactor;this.resolutions_=ia.resolutions;this.padding=ia.padding;this.minZoom_=ca.minZoom;var N=u(ia);ca=ca.constraint;var C=L(ia);this.constraints_={center:N,resolution:ca,rotation:C};this.setRotation(void 0!==ia.rotation?ia.rotation:0);this.setCenterInternal(void 0!==ia.center?ia.center:null);void 0!==ia.resolution?this.setResolution(ia.resolution):
void 0!==ia.zoom&&this.setZoom(ia.zoom);this.setProperties({});this.options_=ia};fa.prototype.getUpdatedOptions_=function(ia){var ca=(0,z.assign)({},this.options_);void 0!==ca.resolution?ca.resolution=this.getResolution():ca.zoom=this.getZoom();ca.center=this.getCenterInternal();ca.rotation=this.getRotation();return(0,z.assign)({},ca,ia)};fa.prototype.animate=function(ia){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var ca=Array(arguments.length),N=0;N<ca.length;++N){var C=arguments[N];
C.center&&(C=(0,z.assign)({},C),C.center=(0,a.fromUserCoordinate)(C.center,this.getProjection()));C.anchor&&(C=(0,z.assign)({},C),C.anchor=(0,a.fromUserCoordinate)(C.anchor,this.getProjection()));ca[N]=C}this.animateInternal.apply(this,ca)};fa.prototype.animateInternal=function(ia){var ca=arguments.length;if(1<ca&&"function"===typeof arguments[ca-1]){var N=arguments[ca-1];--ca}if(this.isDef()){for(var C=Date.now(),W=this.targetCenter_.slice(),ha=this.targetResolution_,Y=this.targetRotation_,wa=[],
xa=0;xa<ca;++xa){var Ha=arguments[xa],Za={start:C,complete:!1,anchor:Ha.anchor,duration:void 0!==Ha.duration?Ha.duration:1E3,easing:Ha.easing||y.inAndOut,callback:N};Ha.center&&(Za.sourceCenter=W,Za.targetCenter=Ha.center.slice(),W=Za.targetCenter);void 0!==Ha.zoom?(Za.sourceResolution=ha,Za.targetResolution=this.getResolutionForZoom(Ha.zoom),ha=Za.targetResolution):Ha.resolution&&(Za.sourceResolution=ha,Za.targetResolution=Ha.resolution,ha=Za.targetResolution);void 0!==Ha.rotation&&(Za.sourceRotation=
Y,Ha=(0,M.modulo)(Ha.rotation-Y+Math.PI,2*Math.PI)-Math.PI,Za.targetRotation=Y+Ha,Y=Za.targetRotation);w(Za)?Za.complete=!0:C+=Za.duration;wa.push(Za)}this.animations_.push(wa);this.setHint(g["default"].ANIMATING,1);this.updateAnimations_()}else ca=arguments[ca-1],ca.center&&this.setCenterInternal(ca.center),void 0!==ca.zoom&&this.setZoom(ca.zoom),void 0!==ca.rotation&&this.setRotation(ca.rotation),N&&l(N,!0)};fa.prototype.getAnimating=function(){return 0<this.hints_[g["default"].ANIMATING]};fa.prototype.getInteracting=
function(){return 0<this.hints_[g["default"].INTERACTING]};fa.prototype.cancelAnimations=function(){this.setHint(g["default"].ANIMATING,-this.hints_[g["default"].ANIMATING]);for(var ia,ca=0,N=this.animations_.length;ca<N;++ca){var C=this.animations_[ca];C[0].callback&&l(C[0].callback,!1);if(!ia)for(var W=0,ha=C.length;W<ha;++W){var Y=C[W];if(!Y.complete){ia=Y.anchor;break}}}this.animations_.length=0;this.cancelAnchor_=ia};fa.prototype.updateAnimations_=function(){void 0!==this.updateAnimationKey_&&
(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0);if(this.getAnimating()){for(var ia=Date.now(),ca=!1,N=this.animations_.length-1;0<=N;--N){for(var C=this.animations_[N],W=!0,ha=0,Y=C.length;ha<Y;++ha){var wa=C[ha];if(!wa.complete){ca=ia-wa.start;ca=0<wa.duration?ca/wa.duration:1;1<=ca?(wa.complete=!0,ca=1):W=!1;ca=wa.easing(ca);if(wa.sourceCenter){var xa=wa.sourceCenter[0],Ha=wa.sourceCenter[1];this.targetCenter_=[xa+ca*(wa.targetCenter[0]-xa),Ha+ca*(wa.targetCenter[1]-
Ha)]}wa.sourceResolution&&wa.targetResolution&&(xa=1===ca?wa.targetResolution:wa.sourceResolution+ca*(wa.targetResolution-wa.sourceResolution),wa.anchor&&(Ha=this.getViewportSize_(this.getRotation()),Ha=this.constraints_.resolution(xa,0,Ha,!0),this.targetCenter_=this.calculateCenterZoom(Ha,wa.anchor)),this.targetResolution_=xa,this.applyTargetState_(!0));void 0!==wa.sourceRotation&&void 0!==wa.targetRotation&&(ca=1===ca?(0,M.modulo)(wa.targetRotation+Math.PI,2*Math.PI)-Math.PI:wa.sourceRotation+ca*
(wa.targetRotation-wa.sourceRotation),wa.anchor&&(xa=this.constraints_.rotation(ca,!0),this.targetCenter_=this.calculateCenterRotate(xa,wa.anchor)),this.targetRotation_=ca);this.applyTargetState_(!0);ca=!0;if(!wa.complete)break}}W&&(this.animations_[N]=null,this.setHint(g["default"].ANIMATING,-1),(C=C[0].callback)&&l(C,!0))}this.animations_=this.animations_.filter(Boolean);ca&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}};
fa.prototype.calculateCenterRotate=function(ia,ca){var N=this.getCenterInternal();if(void 0!==N){var C=[N[0]-ca[0],N[1]-ca[1]];(0,n.rotate)(C,ia-this.getRotation());(0,n.add)(C,ca)}return C};fa.prototype.calculateCenterZoom=function(ia,ca){var N,C=this.getCenterInternal(),W=this.getResolution();void 0!==C&&void 0!==W&&(N=[ca[0]-ia*(ca[0]-C[0])/W,ca[1]-ia*(ca[1]-C[1])/W]);return N};fa.prototype.getViewportSize_=function(ia){var ca=this.viewportSize_;if(ia){var N=ca[0];ca=ca[1];return[Math.abs(N*Math.cos(ia))+
Math.abs(ca*Math.sin(ia)),Math.abs(N*Math.sin(ia))+Math.abs(ca*Math.cos(ia))]}return ca};fa.prototype.setViewportSize=function(ia){this.viewportSize_=Array.isArray(ia)?ia.slice():[100,100];this.getAnimating()||this.resolveConstraints(0)};fa.prototype.getCenter=function(){var ia=this.getCenterInternal();return ia?(0,a.toUserCoordinate)(ia,this.getProjection()):ia};fa.prototype.getCenterInternal=function(){return this.get(d["default"].CENTER)};fa.prototype.getConstraints=function(){return this.constraints_};
fa.prototype.getConstrainResolution=function(){return this.options_.constrainResolution};fa.prototype.getHints=function(ia){return void 0!==ia?(ia[0]=this.hints_[0],ia[1]=this.hints_[1],ia):this.hints_.slice()};fa.prototype.calculateExtent=function(ia){ia=this.calculateExtentInternal(ia);return(0,a.toUserExtent)(ia,this.getProjection())};fa.prototype.calculateExtentInternal=function(ia){ia=ia||this.getViewportSize_();var ca=this.getCenterInternal();(0,x.assert)(ca,1);var N=this.getResolution();(0,
x.assert)(void 0!==N,2);var C=this.getRotation();(0,x.assert)(void 0!==C,3);return(0,E.getForViewAndSize)(ca,N,C,ia)};fa.prototype.getMaxResolution=function(){return this.maxResolution_};fa.prototype.getMinResolution=function(){return this.minResolution_};fa.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)};fa.prototype.setMaxZoom=function(ia){this.applyOptions_(this.getUpdatedOptions_({maxZoom:ia}))};fa.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)};
fa.prototype.setMinZoom=function(ia){this.applyOptions_(this.getUpdatedOptions_({minZoom:ia}))};fa.prototype.setConstrainResolution=function(ia){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:ia}))};fa.prototype.getProjection=function(){return this.projection_};fa.prototype.getResolution=function(){return this.get(d["default"].RESOLUTION)};fa.prototype.getResolutions=function(){return this.resolutions_};fa.prototype.getResolutionForExtent=function(ia,ca){return this.getResolutionForExtentInternal((0,
a.fromUserExtent)(ia,this.getProjection()),ca)};fa.prototype.getResolutionForExtentInternal=function(ia,ca){var N=ca||this.getViewportSize_();ca=(0,E.getWidth)(ia)/N[0];ia=(0,E.getHeight)(ia)/N[1];return Math.max(ca,ia)};fa.prototype.getResolutionForValueFunction=function(ia){var ca=ia||2,N=this.getConstrainedResolution(this.maxResolution_),C=Math.log(N/this.minResolution_)/Math.log(ca);return function(W){return N/Math.pow(ca,W*C)}};fa.prototype.getRotation=function(){return this.get(d["default"].ROTATION)};
fa.prototype.getValueForResolutionFunction=function(ia){var ca=Math.log(ia||2),N=this.getConstrainedResolution(this.maxResolution_),C=Math.log(N/this.minResolution_)/ca;return function(W){return Math.log(N/W)/ca/C}};fa.prototype.getViewportSizeMinusPadding_=function(ia){ia=this.getViewportSize_(ia);var ca=this.padding;ca&&(ia=[ia[0]-ca[1]-ca[3],ia[1]-ca[0]-ca[2]]);return ia};fa.prototype.getState=function(){var ia=this.getProjection(),ca=this.getResolution(),N=this.getRotation(),C=this.getCenterInternal(),
W=this.padding;if(W){var ha=this.getViewportSizeMinusPadding_();C=v(C,this.getViewportSize_(),[ha[0]/2+W[3],ha[1]/2+W[0]],ca,N)}return{center:C.slice(0),projection:void 0!==ia?ia:null,resolution:ca,rotation:N,zoom:this.getZoom()}};fa.prototype.getZoom=function(){var ia,ca=this.getResolution();void 0!==ca&&(ia=this.getZoomForResolution(ca));return ia};fa.prototype.getZoomForResolution=function(ia){var ca=this.minZoom_||0,N;if(this.resolutions_){ca=N=(0,H.linearFindNearest)(this.resolutions_,ia,1);
var C=this.resolutions_[N];N=N==this.resolutions_.length-1?2:C/this.resolutions_[N+1]}else C=this.maxResolution_,N=this.zoomFactor_;return ca+Math.log(C/ia)/Math.log(N)};fa.prototype.getResolutionForZoom=function(ia){if(this.resolutions_){if(1>=this.resolutions_.length)return 0;var ca=(0,M.clamp)(Math.floor(ia),0,this.resolutions_.length-2);return this.resolutions_[ca]/Math.pow(this.resolutions_[ca]/this.resolutions_[ca+1],(0,M.clamp)(ia-ca,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,
ia-this.minZoom_)};fa.prototype.fit=function(ia,ca){(0,x.assert)(Array.isArray(ia)||"function"===typeof ia.getSimplifiedGeometry,24);if(Array.isArray(ia)){(0,x.assert)(!(0,E.isEmpty)(ia),25);var N=(0,a.fromUserExtent)(ia,this.getProjection());ia=(0,Q.fromExtent)(N)}else ia.getType()===t["default"].CIRCLE?(N=(0,a.fromUserExtent)(ia.getExtent(),this.getProjection()),ia=(0,Q.fromExtent)(N),ia.rotate(this.getRotation(),(0,E.getCenter)(N))):ia=(N=(0,a.getUserProjection)())?ia.clone().transform(N,this.getProjection()):
ia;this.fitInternal(ia,ca)};fa.prototype.fitInternal=function(ia,ca){ca=ca||{};var N=ca.size;N||(N=this.getViewportSizeMinusPadding_());var C=void 0!==ca.padding?ca.padding:[0,0,0,0],W=void 0!==ca.nearest?ca.nearest:!1;var ha=void 0!==ca.minResolution?ca.minResolution:void 0!==ca.maxZoom?this.getResolutionForZoom(ca.maxZoom):0;var Y=ia.getFlatCoordinates(),wa=this.getRotation(),xa=Math.cos(-wa);wa=Math.sin(-wa);var Ha=Infinity,Za=Infinity,gb=-Infinity,ra=-Infinity;ia=ia.getStride();for(var Pa=0,Ua=
Y.length;Pa<Ua;Pa+=ia){var za=Y[Pa]*xa-Y[Pa+1]*wa,qa=Y[Pa]*wa+Y[Pa+1]*xa;Ha=Math.min(Ha,za);Za=Math.min(Za,qa);gb=Math.max(gb,za);ra=Math.max(ra,qa)}N=this.getResolutionForExtentInternal([Ha,Za,gb,ra],[N[0]-C[1]-C[3],N[1]-C[0]-C[2]]);N=isNaN(N)?ha:Math.max(N,ha);N=this.getConstrainedResolution(N,W?0:1);wa=-wa;W=(Ha+gb)/2+(C[1]-C[3])/2*N;C=(Za+ra)/2+(C[0]-C[2])/2*N;xa=this.getConstrainedCenter([W*xa-C*wa,C*xa+W*wa],N);C=ca.callback?ca.callback:e.VOID;void 0!==ca.duration?this.animateInternal({resolution:N,
center:xa,duration:ca.duration,easing:ca.easing},C):(this.targetResolution_=N,this.targetCenter_=xa,this.applyTargetState_(!1,!0),l(C,!0))};fa.prototype.centerOn=function(ia,ca,N){this.centerOnInternal((0,a.fromUserCoordinate)(ia,this.getProjection()),ca,N)};fa.prototype.centerOnInternal=function(ia,ca,N){this.setCenterInternal(v(ia,ca,N,this.getResolution(),this.getRotation()))};fa.prototype.calculateCenterShift=function(ia,ca,N,C){var W=this.padding;if(W&&ia){var ha=this.getViewportSizeMinusPadding_(-N);
ca=v(ia,C,[ha[0]/2+W[3],ha[1]/2+W[0]],ca,N);ha=[ia[0]-ca[0],ia[1]-ca[1]]}return ha};fa.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()};fa.prototype.adjustCenter=function(ia){var ca=(0,a.toUserCoordinate)(this.targetCenter_,this.getProjection());this.setCenter([ca[0]+ia[0],ca[1]+ia[1]])};fa.prototype.adjustCenterInternal=function(ia){var ca=this.targetCenter_;this.setCenterInternal([ca[0]+ia[0],ca[1]+ia[1]])};fa.prototype.adjustResolution=function(ia,ca){ca=
ca&&(0,a.fromUserCoordinate)(ca,this.getProjection());this.adjustResolutionInternal(ia,ca)};fa.prototype.adjustResolutionInternal=function(ia,ca){var N=this.getAnimating()||this.getInteracting(),C=this.getViewportSize_(this.getRotation());N=this.constraints_.resolution(this.targetResolution_*ia,0,C,N);ca&&(this.targetCenter_=this.calculateCenterZoom(N,ca));this.targetResolution_*=ia;this.applyTargetState_()};fa.prototype.adjustZoom=function(ia,ca){this.adjustResolution(Math.pow(this.zoomFactor_,-ia),
ca)};fa.prototype.adjustRotation=function(ia,ca){ca&&(ca=(0,a.fromUserCoordinate)(ca,this.getProjection()));this.adjustRotationInternal(ia,ca)};fa.prototype.adjustRotationInternal=function(ia,ca){var N=this.getAnimating()||this.getInteracting();N=this.constraints_.rotation(this.targetRotation_+ia,N);ca&&(this.targetCenter_=this.calculateCenterRotate(N,ca));this.targetRotation_+=ia;this.applyTargetState_()};fa.prototype.setCenter=function(ia){this.setCenterInternal((0,a.fromUserCoordinate)(ia,this.getProjection()))};
fa.prototype.setCenterInternal=function(ia){this.targetCenter_=ia;this.applyTargetState_()};fa.prototype.setHint=function(ia,ca){this.hints_[ia]+=ca;this.changed();return this.hints_[ia]};fa.prototype.setResolution=function(ia){this.targetResolution_=ia;this.applyTargetState_()};fa.prototype.setRotation=function(ia){this.targetRotation_=ia;this.applyTargetState_()};fa.prototype.setZoom=function(ia){this.setResolution(this.getResolutionForZoom(ia))};fa.prototype.applyTargetState_=function(ia,ca){var N=
this.getAnimating()||this.getInteracting()||ca;ca=this.constraints_.rotation(this.targetRotation_,N);var C=this.getViewportSize_(ca),W=this.constraints_.resolution(this.targetResolution_,0,C,N);N=this.constraints_.center(this.targetCenter_,W,C,N,this.calculateCenterShift(this.targetCenter_,W,ca,C));this.get(d["default"].ROTATION)!==ca&&this.set(d["default"].ROTATION,ca);this.get(d["default"].RESOLUTION)!==W&&this.set(d["default"].RESOLUTION,W);this.get(d["default"].CENTER)&&(0,n.equals)(this.get(d["default"].CENTER),
N)||this.set(d["default"].CENTER,N);this.getAnimating()&&!ia&&this.cancelAnimations();this.cancelAnchor_=void 0};fa.prototype.resolveConstraints=function(ia,ca,N){ia=void 0!==ia?ia:200;var C=ca||0;ca=this.constraints_.rotation(this.targetRotation_);var W=this.getViewportSize_(ca);C=this.constraints_.resolution(this.targetResolution_,C,W);W=this.constraints_.center(this.targetCenter_,C,W,!1,this.calculateCenterShift(this.targetCenter_,C,ca,W));0!==ia||this.cancelAnchor_?(N=N||(0===ia?this.cancelAnchor_:
void 0),this.cancelAnchor_=void 0,this.getResolution()===C&&this.getRotation()===ca&&this.getCenterInternal()&&(0,n.equals)(this.getCenterInternal(),W)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:ca,center:W,resolution:C,duration:ia,easing:y.easeOut,anchor:N}))):(this.targetResolution_=C,this.targetRotation_=ca,this.targetCenter_=W,this.applyTargetState_())};fa.prototype.beginInteraction=function(){this.resolveConstraints(0);this.setHint(g["default"].INTERACTING,
1)};fa.prototype.endInteraction=function(ia,ca,N){N=N&&(0,a.fromUserCoordinate)(N,this.getProjection());this.endInteractionInternal(ia,ca,N)};fa.prototype.endInteractionInternal=function(ia,ca,N){this.setHint(g["default"].INTERACTING,-1);this.resolveConstraints(ia,ca,N)};fa.prototype.getConstrainedCenter=function(ia,ca){var N=this.getViewportSize_(this.getRotation());return this.constraints_.center(ia,ca||this.getResolution(),N)};fa.prototype.getConstrainedZoom=function(ia,ca){ia=this.getResolutionForZoom(ia);
return this.getZoomForResolution(this.getConstrainedResolution(ia,ca))};fa.prototype.getConstrainedResolution=function(ia,ca){ca=ca||0;var N=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(ia,ca,N)};return fa}(Ia["default"]);J["default"]=A};
shadow$provide[154]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J.buffer=function(m,l,u){void 0===u&&(u=[0,0]);u[0]=m[0]+2*l;u[1]=m[1]+2*l;return u};J.hasArea=function(m){return 0<m[0]&&0<m[1]};J.scale=function(m,l,u){void 0===u&&(u=[0,0]);u[0]=m[0]*l+.5|0;u[1]=m[1]*l+.5|0;return u};J.toSize=function(m,l){if(Array.isArray(m))return m;void 0===l?l=[m,m]:(l[0]=m,l[1]=m);return l}};
shadow$provide[155]=function(Ia,A,mb,J){function m(C){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(W){return typeof W}:function(W){return W&&"function"===typeof Symbol&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W};return m(C)}function l(C){return C&&C.__esModule?C:{"default":C}}function u(){if("function"!==typeof WeakMap)return null;var C=new WeakMap;u=function(){return C};return C}function G(C){if(C&&C.__esModule)return C;if(null===C||"object"!==m(C)&&
"function"!==typeof C)return{"default":C};var W=u();if(W&&W.has(C))return W.get(C);var ha={},Y=Object.defineProperty&&Object.getOwnPropertyDescriptor,wa;for(wa in C)if(Object.prototype.hasOwnProperty.call(C,wa)){var xa=Y?Object.getOwnPropertyDescriptor(C,wa):null;xa&&(xa.get||xa.set)?Object.defineProperty(ha,wa,xa):ha[wa]=C[wa]}ha["default"]=C;W&&W.set(C,ha);return ha}function L(C){var W=null;void 0!==C.keyboardEventTarget&&(W="string"===typeof C.keyboardEventTarget?document.getElementById(C.keyboardEventTarget):
C.keyboardEventTarget);var ha={},Y=C.layers&&"function"===typeof C.layers.getLayers?C.layers:new g["default"]({layers:C.layers});ha[x["default"].LAYERGROUP]=Y;ha[x["default"].TARGET]=C.target;ha[x["default"].VIEW]=void 0!==C.view?C.view:new D["default"];if(void 0!==C.controls)if(Array.isArray(C.controls))var wa=new v["default"](C.controls.slice());else(0,S.assert)("function"===typeof C.controls.getArray,47),wa=C.controls;if(void 0!==C.interactions)if(Array.isArray(C.interactions))var xa=new v["default"](C.interactions.slice());
else(0,S.assert)("function"===typeof C.interactions.getArray,48),xa=C.interactions;void 0!==C.overlays?Array.isArray(C.overlays)?C=new v["default"](C.overlays.slice()):((0,S.assert)("function"===typeof C.overlays.getArray,49),C=C.overlays):C=new v["default"];return{controls:wa,interactions:xa,keyboardEventTarget:W,overlays:C,values:ha}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var w=G(A(91)),v=l(A(107)),t=l(A(106)),k=l(A(88)),g=l(A(108)),d=l(A(110)),f=l(A(113)),a=l(A(111)),
e=l(A(109)),n=l(A(114)),x=l(A(115)),z=l(A(85)),B=l(A(112)),M=l(A(94)),K=G(A(118)),D=l(A(153)),y=l(A(121)),E=A(102),H=A(73),Q=A(77),S=A(76),ea=A(80),ba=A(130),fa=A(154),ia=A(89),ca=A(103),N=function(){var C=function(W,ha){C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,wa){Y.__proto__=wa}||function(Y,wa){for(var xa in wa)Object.prototype.hasOwnProperty.call(wa,xa)&&(Y[xa]=wa[xa])};return C(W,ha)};return function(W,ha){function Y(){this.constructor=W}C(W,ha);W.prototype=null===ha?
Object.create(ha):(Y.prototype=ha.prototype,new Y)}}();Ia=function(C){function W(ha){var Y=C.call(this)||this,wa=L(ha);Y.boundHandleBrowserEvent_=Y.handleBrowserEvent.bind(Y);Y.maxTilesLoading_=void 0!==ha.maxTilesLoading?ha.maxTilesLoading:16;Y.pixelRatio_=void 0!==ha.pixelRatio?ha.pixelRatio:E.DEVICE_PIXEL_RATIO;Y.animationDelay_=function(){this.animationDelayKey_=void 0;this.renderFrame_(Date.now())}.bind(Y);Y.coordinateToPixelTransform_=(0,Q.create)();Y.pixelToCoordinateTransform_=(0,Q.create)();
Y.frameIndex_=0;Y.frameState_=null;Y.previousExtent_=null;Y.viewPropertyListenerKey_=null;Y.viewChangeListenerKey_=null;Y.layerGroupPropertyListenerKeys_=null;Y.viewport_=document.createElement("div");Y.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":"");Y.viewport_.style.position="relative";Y.viewport_.style.overflow="hidden";Y.viewport_.style.width="100%";Y.viewport_.style.height="100%";Y.overlayContainer_=document.createElement("div");Y.overlayContainer_.style.position="absolute";
Y.overlayContainer_.style.zIndex="0";Y.overlayContainer_.style.width="100%";Y.overlayContainer_.style.height="100%";Y.overlayContainer_.style.pointerEvents="none";Y.overlayContainer_.className="ol-overlaycontainer";Y.viewport_.appendChild(Y.overlayContainer_);Y.overlayContainerStopEvent_=document.createElement("div");Y.overlayContainerStopEvent_.style.position="absolute";Y.overlayContainerStopEvent_.style.zIndex="0";Y.overlayContainerStopEvent_.style.width="100%";Y.overlayContainerStopEvent_.style.height=
"100%";Y.overlayContainerStopEvent_.style.pointerEvents="none";Y.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";Y.viewport_.appendChild(Y.overlayContainerStopEvent_);Y.mapBrowserEventHandler_=null;Y.moveTolerance_=ha.moveTolerance;Y.keyboardEventTarget_=wa.keyboardEventTarget;Y.keyHandlerKeys_=null;Y.controls=wa.controls||new v["default"];Y.interactions=wa.interactions||new v["default"];Y.overlays_=wa.overlays;Y.overlayIdIndex_={};Y.renderer_=null;Y.postRenderFunctions_=[];Y.tileQueue_=
new K["default"](Y.getTilePriority.bind(Y),Y.handleTileChange_.bind(Y));Y.addEventListener((0,w.getChangeEventType)(x["default"].LAYERGROUP),Y.handleLayerGroupChanged_);Y.addEventListener((0,w.getChangeEventType)(x["default"].VIEW),Y.handleViewChanged_);Y.addEventListener((0,w.getChangeEventType)(x["default"].SIZE),Y.handleSizeChanged_);Y.addEventListener((0,w.getChangeEventType)(x["default"].TARGET),Y.handleTargetChanged_);Y.setProperties(wa.values);Y.controls.forEach(function(xa){xa.setMap(this)}.bind(Y));
Y.controls.addEventListener(t["default"].ADD,function(xa){xa.element.setMap(this)}.bind(Y));Y.controls.addEventListener(t["default"].REMOVE,function(xa){xa.element.setMap(null)}.bind(Y));Y.interactions.forEach(function(xa){xa.setMap(this)}.bind(Y));Y.interactions.addEventListener(t["default"].ADD,function(xa){xa.element.setMap(this)}.bind(Y));Y.interactions.addEventListener(t["default"].REMOVE,function(xa){xa.element.setMap(null)}.bind(Y));Y.overlays_.forEach(Y.addOverlayInternal_.bind(Y));Y.overlays_.addEventListener(t["default"].ADD,
function(xa){this.addOverlayInternal_(xa.element)}.bind(Y));Y.overlays_.addEventListener(t["default"].REMOVE,function(xa){var Ha=xa.element.getId();void 0!==Ha&&delete this.overlayIdIndex_[Ha.toString()];xa.element.setMap(null)}.bind(Y));return Y}N(W,C);W.prototype.createRenderer=function(){throw Error("Use a map type that has a createRenderer method");};W.prototype.addControl=function(ha){this.getControls().push(ha)};W.prototype.addInteraction=function(ha){this.getInteractions().push(ha)};W.prototype.addLayer=
function(ha){this.getLayerGroup().getLayers().push(ha)};W.prototype.addOverlay=function(ha){this.getOverlays().push(ha)};W.prototype.addOverlayInternal_=function(ha){var Y=ha.getId();void 0!==Y&&(this.overlayIdIndex_[Y.toString()]=ha);ha.setMap(this)};W.prototype.disposeInternal=function(){this.setTarget(null);C.prototype.disposeInternal.call(this)};W.prototype.forEachFeatureAtPixel=function(ha,Y,wa){if(this.frameState_)return ha=this.getCoordinateFromPixelInternal(ha),wa=void 0!==wa?wa:{},this.renderer_.forEachFeatureAtCoordinate(ha,
this.frameState_,void 0!==wa.hitTolerance?wa.hitTolerance:0,!1!==wa.checkWrapped,Y,null,void 0!==wa.layerFilter?wa.layerFilter:H.TRUE,null)};W.prototype.getFeaturesAtPixel=function(ha,Y){var wa=[];this.forEachFeatureAtPixel(ha,function(xa){wa.push(xa)},Y);return wa};W.prototype.forEachLayerAtPixel=function(ha,Y,wa){if(this.frameState_)return wa=wa||{},this.renderer_.forEachLayerAtPixel(ha,this.frameState_,void 0!==wa.hitTolerance?wa.hitTolerance:0,Y,wa.layerFilter||H.TRUE)};W.prototype.hasFeatureAtPixel=
function(ha,Y){if(!this.frameState_)return!1;ha=this.getCoordinateFromPixelInternal(ha);Y=void 0!==Y?Y:{};return this.renderer_.hasFeatureAtCoordinate(ha,this.frameState_,void 0!==Y.hitTolerance?Y.hitTolerance:0,!1!==Y.checkWrapped,void 0!==Y.layerFilter?Y.layerFilter:H.TRUE,null)};W.prototype.getEventCoordinate=function(ha){return this.getCoordinateFromPixel(this.getEventPixel(ha))};W.prototype.getEventCoordinateInternal=function(ha){return this.getCoordinateFromPixelInternal(this.getEventPixel(ha))};
W.prototype.getEventPixel=function(ha){var Y=this.viewport_.getBoundingClientRect();ha="changedTouches"in ha?ha.changedTouches[0]:ha;return[ha.clientX-Y.left,ha.clientY-Y.top]};W.prototype.getTarget=function(){return this.get(x["default"].TARGET)};W.prototype.getTargetElement=function(){var ha=this.getTarget();return void 0!==ha?"string"===typeof ha?document.getElementById(ha):ha:null};W.prototype.getCoordinateFromPixel=function(ha){return(0,ba.toUserCoordinate)(this.getCoordinateFromPixelInternal(ha),
this.getView().getProjection())};W.prototype.getCoordinateFromPixelInternal=function(ha){var Y=this.frameState_;return Y?(0,Q.apply)(Y.pixelToCoordinateTransform,ha.slice()):null};W.prototype.getControls=function(){return this.controls};W.prototype.getOverlays=function(){return this.overlays_};W.prototype.getOverlayById=function(ha){ha=this.overlayIdIndex_[ha.toString()];return void 0!==ha?ha:null};W.prototype.getInteractions=function(){return this.interactions};W.prototype.getLayerGroup=function(){return this.get(x["default"].LAYERGROUP)};
W.prototype.getLayers=function(){return this.getLayerGroup().getLayers()};W.prototype.getLoading=function(){for(var ha=this.getLayerGroup().getLayerStatesArray(),Y=0,wa=ha.length;Y<wa;++Y){var xa=ha[Y].layer.getSource();if(xa&&xa.loading)return!0}return!1};W.prototype.getPixelFromCoordinate=function(ha){ha=(0,ba.fromUserCoordinate)(ha,this.getView().getProjection());return this.getPixelFromCoordinateInternal(ha)};W.prototype.getPixelFromCoordinateInternal=function(ha){var Y=this.frameState_;return Y?
(0,Q.apply)(Y.coordinateToPixelTransform,ha.slice(0,2)):null};W.prototype.getRenderer=function(){return this.renderer_};W.prototype.getSize=function(){return this.get(x["default"].SIZE)};W.prototype.getView=function(){return this.get(x["default"].VIEW)};W.prototype.getViewport=function(){return this.viewport_};W.prototype.getOverlayContainer=function(){return this.overlayContainer_};W.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_};W.prototype.getOwnerDocument=
function(){return this.getTargetElement()?this.getTargetElement().ownerDocument:document};W.prototype.getTilePriority=function(ha,Y,wa,xa){return(0,K.getTilePriority)(this.frameState_,ha,Y,wa,xa)};W.prototype.handleBrowserEvent=function(ha,Y){ha=new d["default"](Y||ha.type,this,ha);this.handleMapBrowserEvent(ha)};W.prototype.handleMapBrowserEvent=function(ha){if(this.frameState_){var Y=ha.originalEvent,wa=Y.type;if(wa===B["default"].POINTERDOWN||wa===k["default"].WHEEL||wa===k["default"].KEYDOWN){wa=
this.getOwnerDocument();var xa=this.viewport_.getRootNode?this.viewport_.getRootNode():wa;Y="host"in xa?xa.elementFromPoint(Y.clientX,Y.clientY):Y.target;if(this.overlayContainerStopEvent_.contains(Y)||!(xa===wa?wa.documentElement:xa).contains(Y))return}ha.frameState=this.frameState_;if(!1!==this.dispatchEvent(ha))for(Y=this.getInteractions().getArray().slice(),wa=Y.length-1;0<=wa&&(xa=Y[wa],xa.getMap()!==this||!xa.getActive()||!this.getTargetElement()||xa.handleEvent(ha)&&!ha.propagationStopped);wa--);
}};W.prototype.handlePostRender=function(){var ha=this.frameState_,Y=this.tileQueue_;if(!Y.isEmpty()){var wa=this.maxTilesLoading_,xa=wa;if(ha){var Ha=ha.viewHints;if(Ha[y["default"].ANIMATING]||Ha[y["default"].INTERACTING])wa=(xa=!E.IMAGE_DECODE&&8<Date.now()-ha.time)?0:8,xa=xa?0:2}Y.getTilesLoading()<wa&&(Y.reprioritize(),Y.loadMoreTiles(wa,xa))}!ha||!this.hasListener(M["default"].RENDERCOMPLETE)||ha.animate||this.tileQueue_.getTilesLoading()||this.getLoading()||this.renderer_.dispatchRenderEvent(M["default"].RENDERCOMPLETE,
ha);Y=this.postRenderFunctions_;wa=0;for(xa=Y.length;wa<xa;++wa)Y[wa](this,ha);Y.length=0};W.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0);this.render()};W.prototype.handleTargetChanged_=function(){var ha;this.getTarget()&&(ha=this.getTargetElement());if(this.mapBrowserEventHandler_){for(var Y=0,wa=this.keyHandlerKeys_.length;Y<wa;++Y)(0,ia.unlistenByKey)(this.keyHandlerKeys_[Y]);this.keyHandlerKeys_=null;this.viewport_.removeEventListener(k["default"].CONTEXTMENU,
this.boundHandleBrowserEvent_);this.viewport_.removeEventListener(k["default"].WHEEL,this.boundHandleBrowserEvent_);void 0!==this.handleResize_&&(removeEventListener(k["default"].RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.mapBrowserEventHandler_.dispose();this.mapBrowserEventHandler_=null;(0,ca.removeNode)(this.viewport_)}if(ha){ha.appendChild(this.viewport_);this.renderer_||(this.renderer_=this.createRenderer());this.mapBrowserEventHandler_=new f["default"](this,this.moveTolerance_);
for(var xa in a["default"])this.mapBrowserEventHandler_.addEventListener(a["default"][xa],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(k["default"].CONTEXTMENU,this.boundHandleBrowserEvent_,!1);this.viewport_.addEventListener(k["default"].WHEEL,this.boundHandleBrowserEvent_,E.PASSIVE_EVENT_LISTENERS?{passive:!1}:!1);ha=this.keyboardEventTarget_?this.keyboardEventTarget_:ha;this.keyHandlerKeys_=[(0,ia.listen)(ha,k["default"].KEYDOWN,this.handleBrowserEvent,this),(0,ia.listen)(ha,
k["default"].KEYPRESS,this.handleBrowserEvent,this)];this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(k["default"].RESIZE,this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()};W.prototype.handleTileChange_=
function(){this.render()};W.prototype.handleViewPropertyChanged_=function(){this.render()};W.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&((0,ia.unlistenByKey)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null);this.viewChangeListenerKey_&&((0,ia.unlistenByKey)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var ha=this.getView();ha&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=(0,ia.listen)(ha,z["default"].PROPERTYCHANGE,this.handleViewPropertyChanged_,
this),this.viewChangeListenerKey_=(0,ia.listen)(ha,k["default"].CHANGE,this.handleViewPropertyChanged_,this),ha.resolveConstraints(0));this.render()};W.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(ia.unlistenByKey),this.layerGroupPropertyListenerKeys_=null);var ha=this.getLayerGroup();ha&&(this.layerGroupPropertyListenerKeys_=[(0,ia.listen)(ha,z["default"].PROPERTYCHANGE,this.render,this),(0,ia.listen)(ha,k["default"].CHANGE,
this.render,this)]);this.render()};W.prototype.isRendered=function(){return!!this.frameState_};W.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_);this.animationDelay_()};W.prototype.redrawText=function(){for(var ha=this.getLayerGroup().getLayerStatesArray(),Y=0,wa=ha.length;Y<wa;++Y){var xa=ha[Y].layer;xa.hasRenderer()&&xa.getRenderer().handleFontsChanged()}};W.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=
requestAnimationFrame(this.animationDelay_))};W.prototype.removeControl=function(ha){return this.getControls().remove(ha)};W.prototype.removeInteraction=function(ha){return this.getInteractions().remove(ha)};W.prototype.removeLayer=function(ha){return this.getLayerGroup().getLayers().remove(ha)};W.prototype.removeOverlay=function(ha){return this.getOverlays().remove(ha)};W.prototype.renderFrame_=function(ha){var Y=this,wa=this.getSize(),xa=this.getView(),Ha=this.frameState_,Za=null;void 0!==wa&&(0,
fa.hasArea)(wa)&&xa&&xa.isDef()&&(Za=xa.getHints(this.frameState_?this.frameState_.viewHints:void 0),xa=xa.getState(),Za={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:(0,ea.getForViewAndSize)(xa.center,xa.resolution,xa.rotation,wa),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:wa,
tileQueue:this.tileQueue_,time:ha,usedTiles:{},viewState:xa,viewHints:Za,wantedTiles:{}});this.frameState_=Za;this.renderer_.renderFrame(Za);Za&&(Za.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,Za.postRenderFunctions),!Ha||this.previousExtent_&&((0,ea.isEmpty)(this.previousExtent_)||(0,ea.equals)(Za.extent,this.previousExtent_))||(this.dispatchEvent(new e["default"](n["default"].MOVESTART,this,Ha)),this.previousExtent_=(0,ea.createOrUpdateEmpty)(this.previousExtent_)),
!this.previousExtent_||Za.viewHints[y["default"].ANIMATING]||Za.viewHints[y["default"].INTERACTING]||(0,ea.equals)(Za.extent,this.previousExtent_)||(this.dispatchEvent(new e["default"](n["default"].MOVEEND,this,Za)),(0,ea.clone)(Za.extent,this.previousExtent_)));this.dispatchEvent(new e["default"](n["default"].POSTRENDER,this,Za));this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){Y.postRenderTimeoutHandle_=void 0;Y.handlePostRender()},0))};W.prototype.setLayerGroup=
function(ha){this.set(x["default"].LAYERGROUP,ha)};W.prototype.setSize=function(ha){this.set(x["default"].SIZE,ha)};W.prototype.setTarget=function(ha){this.set(x["default"].TARGET,ha)};W.prototype.setView=function(ha){this.set(x["default"].VIEW,ha)};W.prototype.updateSize=function(){var ha=this.getTargetElement();if(ha){var Y=getComputedStyle(ha);this.setSize([ha.offsetWidth-parseFloat(Y.borderLeftWidth)-parseFloat(Y.paddingLeft)-parseFloat(Y.paddingRight)-parseFloat(Y.borderRightWidth),ha.offsetHeight-
parseFloat(Y.borderTopWidth)-parseFloat(Y.paddingTop)-parseFloat(Y.paddingBottom)-parseFloat(Y.borderBottomWidth)])}else this.setSize(void 0);this.updateViewportSize_()};W.prototype.updateViewportSize_=function(){var ha=this.getView();if(ha){var Y=void 0,wa=getComputedStyle(this.viewport_);wa.width&&wa.height&&(Y=[parseInt(wa.width,10),parseInt(wa.height,10)]);ha.setViewportSize(Y)}};return W}(w["default"]);J["default"]=Ia};
shadow$provide[156]=function(Ia,A,mb,J){function m(v){return v&&v.__esModule?v:{"default":v}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=m(A(91));var l=m(A(114)),u=A(73),G=A(89),L=A(103),w=function(){var v=function(t,k){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(g[f]=d[f])};return v(t,k)};return function(t,k){function g(){this.constructor=t}v(t,k);t.prototype=
null===k?Object.create(k):(g.prototype=k.prototype,new g)}}();A=function(v){function t(k){var g=v.call(this)||this,d=k.element;!d||k.target||d.style.pointerEvents||(d.style.pointerEvents="auto");g.element=d?d:null;g.target_=null;g.map_=null;g.listenerKeys=[];k.render&&(g.render=k.render);k.target&&g.setTarget(k.target);return g}w(t,v);t.prototype.disposeInternal=function(){(0,L.removeNode)(this.element);v.prototype.disposeInternal.call(this)};t.prototype.getMap=function(){return this.map_};t.prototype.setMap=
function(k){this.map_&&(0,L.removeNode)(this.element);for(var g=0,d=this.listenerKeys.length;g<d;++g)(0,G.unlistenByKey)(this.listenerKeys[g]);this.listenerKeys.length=0;if(this.map_=k)(this.target_?this.target_:k.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==u.VOID&&this.listenerKeys.push((0,G.listen)(k,l["default"].POSTRENDER,this.render,this)),k.render()};t.prototype.render=function(k){};t.prototype.setTarget=function(k){this.target_="string"===typeof k?document.getElementById(k):
k};return t}(Ia["default"]);J["default"]=A};
shadow$provide[157]=function(Ia,A,mb,J){function m(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=m(A(156));var l=m(A(88)),u=A(101),G=A(72),L=A(96),w=A(103),v=function(){var t=function(k,g){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var a in f)Object.prototype.hasOwnProperty.call(f,a)&&(d[a]=f[a])};return t(k,g)};return function(k,g){function d(){this.constructor=k}t(k,
g);k.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}}();A=function(t){function k(g){var d=g?g:{};g=t.call(this,{element:document.createElement("div"),render:d.render,target:d.target})||this;g.ulElement_=document.createElement("ul");g.collapsed_=void 0!==d.collapsed?d.collapsed:!0;g.userCollapsed_=g.collapsed_;g.overrideCollapsible_=void 0!==d.collapsible;g.collapsible_=void 0!==d.collapsible?d.collapsible:!0;g.collapsible_||(g.collapsed_=!1);var f=void 0!==d.className?d.className:
"ol-attribution",a=void 0!==d.tipLabel?d.tipLabel:"Attributions",e=void 0!==d.expandClassName?d.expandClassName:f+"-expand",n=void 0!==d.collapseLabel?d.collapseLabel:"",x=void 0!==d.collapseClassName?d.collapseClassName:f+"-collpase";"string"===typeof n?(g.collapseLabel_=document.createElement("span"),g.collapseLabel_.textContent=n,g.collapseLabel_.className=x):g.collapseLabel_=n;d=void 0!==d.label?d.label:"i";"string"===typeof d?(g.label_=document.createElement("span"),g.label_.textContent=d,g.label_.className=
e):g.label_=d;d=g.collapsible_&&!g.collapsed_?g.collapseLabel_:g.label_;e=document.createElement("button");e.setAttribute("type","button");e.title=a;e.appendChild(d);e.addEventListener(l["default"].CLICK,g.handleClick_.bind(g),!1);a=g.element;a.className=f+" "+u.CLASS_UNSELECTABLE+" "+u.CLASS_CONTROL+(g.collapsed_&&g.collapsible_?" "+u.CLASS_COLLAPSED:"")+(g.collapsible_?"":" ol-uncollapsible");a.appendChild(g.ulElement_);a.appendChild(e);g.renderedAttributions_=[];g.renderedVisible_=!0;return g}
v(k,t);k.prototype.collectSourceAttributions_=function(g){for(var d={},f=[],a=!0,e=g.layerStatesArray,n=0,x=e.length;n<x;++n){var z=e[n];if((0,L.inView)(z,g.viewState)){var B=z.layer.getSource();if(B&&(z=B.getAttributions())&&(z=z(g)))if(a=a&&!1!==B.getAttributionsCollapsible(),Array.isArray(z)){B=0;for(var M=z.length;B<M;++B)z[B]in d||(f.push(z[B]),d[z[B]]=!0)}else z in d||(f.push(z),d[z]=!0)}}this.overrideCollapsible_||this.setCollapsible(a);return f};k.prototype.updateElement_=function(g){if(g){g=
this.collectSourceAttributions_(g);var d=0<g.length;this.renderedVisible_!=d&&(this.element.style.display=d?"":"none",this.renderedVisible_=d);if(!(0,G.equals)(g,this.renderedAttributions_)){(0,w.removeChildren)(this.ulElement_);d=0;for(var f=g.length;d<f;++d){var a=document.createElement("li");a.innerHTML=g[d];this.ulElement_.appendChild(a)}this.renderedAttributions_=g}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)};k.prototype.handleClick_=function(g){g.preventDefault();
this.handleToggle_();this.userCollapsed_=this.collapsed_};k.prototype.handleToggle_=function(){this.element.classList.toggle(u.CLASS_COLLAPSED);this.collapsed_?(0,w.replaceNode)(this.collapseLabel_,this.label_):(0,w.replaceNode)(this.label_,this.collapseLabel_);this.collapsed_=!this.collapsed_};k.prototype.getCollapsible=function(){return this.collapsible_};k.prototype.setCollapsible=function(g){this.collapsible_!==g&&(this.collapsible_=g,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&
this.handleToggle_())};k.prototype.setCollapsed=function(g){this.userCollapsed_=g;this.collapsible_&&this.collapsed_!==g&&this.handleToggle_()};k.prototype.getCollapsed=function(){return this.collapsed_};k.prototype.render=function(g){this.updateElement_(g.frameState)};return k}(Ia["default"]);J["default"]=A};
shadow$provide[158]=function(Ia,A,mb,J){function m(w){return w&&w.__esModule?w:{"default":w}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=m(A(156));var l=m(A(88)),u=A(101),G=A(134),L=function(){var w=function(v,t){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,g){k.__proto__=g}||function(k,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(k[d]=g[d])};return w(v,t)};return function(v,t){function k(){this.constructor=v}w(v,t);v.prototype=null===
t?Object.create(t):(k.prototype=t.prototype,new k)}}();A=function(w){function v(t){var k=t?t:{};t=w.call(this,{element:document.createElement("div"),render:k.render,target:k.target})||this;var g=void 0!==k.className?k.className:"ol-rotate",d=void 0!==k.label?k.label:"",f=void 0!==k.compassClassName?k.compassClassName:"ol-compass";t.label_=null;"string"===typeof d?(t.label_=document.createElement("span"),t.label_.className=f,t.label_.textContent=d):(t.label_=d,t.label_.classList.add(f));f=k.tipLabel?
k.tipLabel:"Reset rotation";d=document.createElement("button");d.className=g+"-reset";d.setAttribute("type","button");d.title=f;d.appendChild(t.label_);d.addEventListener(l["default"].CLICK,t.handleClick_.bind(t),!1);f=t.element;f.className=g+" "+u.CLASS_UNSELECTABLE+" "+u.CLASS_CONTROL;f.appendChild(d);t.callResetNorth_=k.resetNorth?k.resetNorth:void 0;t.duration_=void 0!==k.duration?k.duration:250;t.autoHide_=void 0!==k.autoHide?k.autoHide:!0;t.rotation_=void 0;t.autoHide_&&t.element.classList.add(u.CLASS_HIDDEN);
return t}L(v,w);v.prototype.handleClick_=function(t){t.preventDefault();void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()};v.prototype.resetNorth_=function(){var t=this.getMap().getView();if(t){var k=t.getRotation();void 0!==k&&(0<this.duration_&&0!==k%(2*Math.PI)?t.animate({rotation:0,duration:this.duration_,easing:G.easeOut}):t.setRotation(0))}};v.prototype.render=function(t){if(t=t.frameState){t=t.viewState.rotation;if(t!=this.rotation_){var k="rotate("+t+"rad)";if(this.autoHide_){var g=
this.element.classList.contains(u.CLASS_HIDDEN);g||0!==t?g&&0!==t&&this.element.classList.remove(u.CLASS_HIDDEN):this.element.classList.add(u.CLASS_HIDDEN)}this.label_.style.transform=k}this.rotation_=t}};return v}(Ia["default"]);J["default"]=A};
shadow$provide[159]=function(Ia,A,mb,J){function m(w){return w&&w.__esModule?w:{"default":w}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=m(A(156));var l=m(A(88)),u=A(101),G=A(134),L=function(){var w=function(v,t){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,g){k.__proto__=g}||function(k,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(k[d]=g[d])};return w(v,t)};return function(v,t){function k(){this.constructor=v}w(v,t);v.prototype=null===
t?Object.create(t):(k.prototype=t.prototype,new k)}}();A=function(w){function v(t){var k=t?t:{};t=w.call(this,{element:document.createElement("div"),target:k.target})||this;var g=void 0!==k.className?k.className:"ol-zoom",d=void 0!==k.delta?k.delta:1,f=void 0!==k.zoomInClassName?k.zoomInClassName:g+"-in",a=void 0!==k.zoomOutClassName?k.zoomOutClassName:g+"-out",e=void 0!==k.zoomInLabel?k.zoomInLabel:"+",n=void 0!==k.zoomOutLabel?k.zoomOutLabel:"",x=void 0!==k.zoomInTipLabel?k.zoomInTipLabel:"Zoom in",
z=void 0!==k.zoomOutTipLabel?k.zoomOutTipLabel:"Zoom out",B=document.createElement("button");B.className=f;B.setAttribute("type","button");B.title=x;B.appendChild("string"===typeof e?document.createTextNode(e):e);B.addEventListener(l["default"].CLICK,t.handleClick_.bind(t,d),!1);f=document.createElement("button");f.className=a;f.setAttribute("type","button");f.title=z;f.appendChild("string"===typeof n?document.createTextNode(n):n);f.addEventListener(l["default"].CLICK,t.handleClick_.bind(t,-d),!1);
d=t.element;d.className=g+" "+u.CLASS_UNSELECTABLE+" "+u.CLASS_CONTROL;d.appendChild(B);d.appendChild(f);t.duration_=void 0!==k.duration?k.duration:250;return t}L(v,w);v.prototype.handleClick_=function(t,k){k.preventDefault();this.zoomByDelta_(t)};v.prototype.zoomByDelta_=function(t){var k=this.getMap().getView();if(k){var g=k.getZoom();void 0!==g&&(t=k.getConstrainedZoom(g+t),0<this.duration_?(k.getAnimating()&&k.cancelAnimations(),k.animate({zoom:t,duration:this.duration_,easing:G.easeOut})):k.setZoom(t))}};
return v}(Ia["default"]);J["default"]=A};
shadow$provide[160]=function(Ia,A,mb,J){function m(d){return d&&d.__esModule?d:{"default":d}}function l(){var d=document.body;return!!(d.webkitRequestFullscreen||d.msRequestFullscreen&&document.msFullscreenEnabled||d.requestFullscreen&&document.fullscreenEnabled)}function u(){return!!(document.webkitIsFullScreen||document.msFullscreenElement||document.fullscreenElement)}function G(d){d.requestFullscreen?d.requestFullscreen():d.msRequestFullscreen?d.msRequestFullscreen():d.webkitRequestFullscreen&&
d.webkitRequestFullscreen()}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=m(A(156));var L=m(A(88)),w=A(101),v=A(89),t=A(103),k=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var x in n)Object.prototype.hasOwnProperty.call(n,x)&&(e[x]=n[x])};return d(f,a)};return function(f,a){function e(){this.constructor=f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),
g=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"];A=function(d){function f(a){var e=a?a:{};a=d.call(this,{element:document.createElement("div"),target:e.target})||this;a.cssClassName_=void 0!==e.className?e.className:"ol-full-screen";a.activeClassName_=void 0!==e.activeClassName?e.activeClassName.split(" "):[a.cssClassName_+"-true"];a.inactiveClassName_=void 0!==e.inactiveClassName?e.inactiveClassName.split(" "):[a.cssClassName_+"-false"];var n=void 0!==e.label?e.label:"";a.labelNode_=
"string"===typeof n?document.createTextNode(n):n;n=void 0!==e.labelActive?e.labelActive:"";a.labelActiveNode_="string"===typeof n?document.createTextNode(n):n;a.button_=document.createElement("button");n=e.tipLabel?e.tipLabel:"Toggle full-screen";a.setClassName_(a.button_,u());a.button_.setAttribute("type","button");a.button_.title=n;a.button_.appendChild(a.labelNode_);a.button_.addEventListener(L["default"].CLICK,a.handleClick_.bind(a),!1);n=a.cssClassName_+" "+w.CLASS_UNSELECTABLE+" "+w.CLASS_CONTROL+
" "+(l()?"":w.CLASS_UNSUPPORTED);var x=a.element;x.className=n;x.appendChild(a.button_);a.keys_=void 0!==e.keys?e.keys:!1;a.source_=e.source;return a}k(f,d);f.prototype.handleClick_=function(a){a.preventDefault();this.handleFullScreen_()};f.prototype.handleFullScreen_=function(){if(l()){var a=this.getMap();a&&(u()?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():(a=this.source_?"string"===
typeof this.source_?document.getElementById(this.source_):this.source_:a.getTargetElement(),this.keys_?a.webkitRequestFullscreen?a.webkitRequestFullscreen():G(a):G(a)))}};f.prototype.handleFullScreenChange_=function(){var a=this.getMap();u()?(this.setClassName_(this.button_,!0),(0,t.replaceNode)(this.labelActiveNode_,this.labelNode_),this.dispatchEvent("enterfullscreen")):(this.setClassName_(this.button_,!1),(0,t.replaceNode)(this.labelNode_,this.labelActiveNode_),this.dispatchEvent("leavefullscreen"));
a&&a.updateSize()};f.prototype.setClassName_=function(a,e){var n,x,z,B=this.activeClassName_,M=this.inactiveClassName_;e=e?B:M;(n=a.classList).remove.apply(n,B);(x=a.classList).remove.apply(x,M);(z=a.classList).add.apply(z,e)};f.prototype.setMap=function(a){d.prototype.setMap.call(this,a);if(a){a=0;for(var e=g.length;a<e;++a)this.listenerKeys.push((0,v.listen)(document,g[a],this.handleFullScreenChange_,this))}};return f}(Ia["default"]);J["default"]=A};
shadow$provide[161]=function(Ia,A,mb,J){function m(v){return v&&v.__esModule?v:{"default":v}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=m(A(156));var l=m(A(112)),u=A(91),G=A(130),L=A(89),w=function(){var v=function(t,k){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(g[f]=d[f])};return v(t,k)};return function(t,k){function g(){this.constructor=t}v(t,k);t.prototype=
null===k?Object.create(k):(g.prototype=k.prototype,new g)}}();A=function(v){function t(k){var g=k?k:{},d=document.createElement("div");d.className=void 0!==g.className?g.className:"ol-mouse-position";k=v.call(this,{element:d,render:g.render,target:g.target})||this;k.addEventListener((0,u.getChangeEventType)("projection"),k.handleProjectionChanged_);g.coordinateFormat&&k.setCoordinateFormat(g.coordinateFormat);g.projection&&k.setProjection(g.projection);k.undefinedHTML_=void 0!==g.undefinedHTML?g.undefinedHTML:
"\x26#160;";k.renderOnMouseOut_=!!k.undefinedHTML_;k.renderedHTML_=d.innerHTML;k.mapProjection_=null;k.transform_=null;return k}w(t,v);t.prototype.handleProjectionChanged_=function(){this.transform_=null};t.prototype.getCoordinateFormat=function(){return this.get("coordinateFormat")};t.prototype.getProjection=function(){return this.get("projection")};t.prototype.handleMouseMove=function(k){var g=this.getMap();this.updateHTML_(g.getEventPixel(k))};t.prototype.handleMouseOut=function(k){this.updateHTML_(null)};
t.prototype.setMap=function(k){v.prototype.setMap.call(this,k);k&&(k=k.getViewport(),this.listenerKeys.push((0,L.listen)(k,l["default"].POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push((0,L.listen)(k,l["default"].POINTEROUT,this.handleMouseOut,this)))};t.prototype.setCoordinateFormat=function(k){this.set("coordinateFormat",k)};t.prototype.setProjection=function(k){this.set("projection",(0,G.get)(k))};t.prototype.updateHTML_=function(k){var g=this.undefinedHTML_;
if(k&&this.mapProjection_){if(!this.transform_){var d=this.getProjection();this.transform_=d?(0,G.getTransformFromProjections)(this.mapProjection_,d):G.identityTransform}if(k=this.getMap().getCoordinateFromPixelInternal(k)){if(g=(0,G.getUserProjection)())this.transform_=(0,G.getTransformFromProjections)(this.mapProjection_,g);this.transform_(k,k);g=(g=this.getCoordinateFormat())?g(k):k.toString()}}this.renderedHTML_&&g===this.renderedHTML_||(this.renderedHTML_=this.element.innerHTML=g)};t.prototype.render=
function(k){k=k.frameState;k?this.mapProjection_!=k.viewState.projection&&(this.mapProjection_=k.viewState.projection,this.transform_=null):this.mapProjection_=null};return t}(Ia["default"]);J["default"]=A};
shadow$provide[162]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"}};
shadow$provide[163]=function(Ia,A,mb,J){function m(f){return f&&f.__esModule?f:{"default":f}}function l(){if("function"!==typeof WeakMap)return null;var f=new WeakMap;l=function(){return f};return f}function u(f){u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return u(f)}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;
var G=function(f){if(f&&f.__esModule)return f;if(null===f||"object"!==u(f)&&"function"!==typeof f)return{"default":f};var a=l();if(a&&a.has(f))return a.get(f);var e={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor,x;for(x in f)if(Object.prototype.hasOwnProperty.call(f,x)){var z=n?Object.getOwnPropertyDescriptor(f,x):null;z&&(z.get||z.set)?Object.defineProperty(e,x,z):e[x]=f[x]}e["default"]=f;a&&a.set(f,e);return e}(A(91)),L=m(A(114)),w=m(A(162)),v=A(101),t=A(80),k=A(89),g=A(103),d=function(){var f=
function(a,e){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,x){n.__proto__=x}||function(n,x){for(var z in x)Object.prototype.hasOwnProperty.call(x,z)&&(n[z]=x[z])};return f(a,e)};return function(a,e){function n(){this.constructor=a}f(a,e);a.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();Ia=function(f){function a(e){var n=f.call(this)||this;n.options=e;n.id=e.id;n.insertFirst=void 0!==e.insertFirst?e.insertFirst:!0;n.stopEvent=void 0!==e.stopEvent?e.stopEvent:
!0;n.element=document.createElement("div");n.element.className=void 0!==e.className?e.className:"ol-overlay-container "+v.CLASS_SELECTABLE;n.element.style.position="absolute";n.element.style.pointerEvents="auto";var x=e.autoPan;x&&"object"!==u(x)&&(x={animation:e.autoPanAnimation,margin:e.autoPanMargin});n.autoPan=x||!1;n.rendered={transform_:"",visible:!0};n.mapPostrenderListenerKey=null;n.addEventListener((0,G.getChangeEventType)("element"),n.handleElementChanged);n.addEventListener((0,G.getChangeEventType)("map"),
n.handleMapChanged);n.addEventListener((0,G.getChangeEventType)("offset"),n.handleOffsetChanged);n.addEventListener((0,G.getChangeEventType)("position"),n.handlePositionChanged);n.addEventListener((0,G.getChangeEventType)("positioning"),n.handlePositioningChanged);void 0!==e.element&&n.setElement(e.element);n.setOffset(void 0!==e.offset?e.offset:[0,0]);n.setPositioning(void 0!==e.positioning?e.positioning:w["default"].TOP_LEFT);void 0!==e.position&&n.setPosition(e.position);return n}d(a,f);a.prototype.getElement=
function(){return this.get("element")};a.prototype.getId=function(){return this.id};a.prototype.getMap=function(){return this.get("map")};a.prototype.getOffset=function(){return this.get("offset")};a.prototype.getPosition=function(){return this.get("position")};a.prototype.getPositioning=function(){return this.get("positioning")};a.prototype.handleElementChanged=function(){(0,g.removeChildren)(this.element);var e=this.getElement();e&&this.element.appendChild(e)};a.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&
((0,g.removeNode)(this.element),(0,k.unlistenByKey)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var e=this.getMap();e&&(this.mapPostrenderListenerKey=(0,k.listen)(e,L["default"].POSTRENDER,this.render,this),this.updatePixelPosition(),e=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer(),this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element),this.performAutoPan())};a.prototype.render=function(){this.updatePixelPosition()};
a.prototype.handleOffsetChanged=function(){this.updatePixelPosition()};a.prototype.handlePositionChanged=function(){this.updatePixelPosition();this.performAutoPan()};a.prototype.handlePositioningChanged=function(){this.updatePixelPosition()};a.prototype.setElement=function(e){this.set("element",e)};a.prototype.setMap=function(e){this.set("map",e)};a.prototype.setOffset=function(e){this.set("offset",e)};a.prototype.setPosition=function(e){this.set("position",e)};a.prototype.performAutoPan=function(){this.autoPan&&
this.panIntoView(this.autoPan)};a.prototype.panIntoView=function(e){var n=this.getMap();if(n&&n.getTargetElement()&&this.get("position")){var x=this.getRect(n.getTargetElement(),n.getSize()),z=this.getElement(),B=this.getRect(z,[(0,g.outerWidth)(z),(0,g.outerHeight)(z)]);e=e||{};z=void 0===e.margin?20:e.margin;if(!(0,t.containsExtent)(x,B)){var M=B[0]-x[0],K=x[2]-B[2],D=B[1]-x[1];B=x[3]-B[3];x=[0,0];0>M?x[0]=M-z:0>K&&(x[0]=Math.abs(K)+z);0>D?x[1]=D-z:0>B&&(x[1]=Math.abs(B)+z);if(0!==x[0]||0!==x[1])if(z=
n.getView().getCenterInternal(),z=n.getPixelFromCoordinateInternal(z))x=[z[0]+x[0],z[1]+x[1]],e=e.animation||{},n.getView().animateInternal({center:n.getCoordinateFromPixelInternal(x),duration:e.duration,easing:e.easing})}}};a.prototype.getRect=function(e,n){var x=e.getBoundingClientRect();e=x.left+window.pageXOffset;x=x.top+window.pageYOffset;return[e,x,e+n[0],x+n[1]]};a.prototype.setPositioning=function(e){this.set("positioning",e)};a.prototype.setVisible=function(e){this.rendered.visible!==e&&
(this.element.style.display=e?"":"none",this.rendered.visible=e)};a.prototype.updatePixelPosition=function(){var e=this.getMap(),n=this.getPosition();e&&e.isRendered()&&n?(n=e.getPixelFromCoordinate(n),e=e.getSize(),this.updateRenderedPosition(n,e)):this.setVisible(!1)};a.prototype.updateRenderedPosition=function(e,n){n=this.element.style;var x=this.getOffset(),z=this.getPositioning();this.setVisible(!0);var B=Math.round(e[0]+x[0])+"px";e=Math.round(e[1]+x[1])+"px";var M=x="0%";if(z==w["default"].BOTTOM_RIGHT||
z==w["default"].CENTER_RIGHT||z==w["default"].TOP_RIGHT)x="-100%";else if(z==w["default"].BOTTOM_CENTER||z==w["default"].CENTER_CENTER||z==w["default"].TOP_CENTER)x="-50%";if(z==w["default"].BOTTOM_LEFT||z==w["default"].BOTTOM_CENTER||z==w["default"].BOTTOM_RIGHT)M="-100%";else if(z==w["default"].CENTER_LEFT||z==w["default"].CENTER_CENTER||z==w["default"].CENTER_RIGHT)M="-50%";z="translate("+x+", "+M+") translate("+B+", "+e+")";this.rendered.transform_!=z&&(this.rendered.transform_=z,n.transform=
z,n.msTransform=z)};a.prototype.getOptions=function(){return this.options};return a}(G["default"]);J["default"]=Ia};
shadow$provide[164]=function(Ia,A,mb,J){function m(M){return M&&M.__esModule?M:{"default":M}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(A(105));Ia=m(A(156));var u=m(A(88)),G=m(A(114)),L=m(A(115)),w=m(A(85)),v=m(A(163)),t=m(A(162));mb=m(A(155));var k=m(A(153)),g=m(A(122)),d=A(101),f=A(80),a=A(91),e=A(89),n=A(152),x=A(103),z=function(){var M=function(K,D){M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,E){y.__proto__=E}||function(y,E){for(var H in E)Object.prototype.hasOwnProperty.call(E,
H)&&(y[H]=E[H])};return M(K,D)};return function(K,D){function y(){this.constructor=K}M(K,D);K.prototype=null===D?Object.create(D):(y.prototype=D.prototype,new y)}}(),B=function(M){function K(){return null!==M&&M.apply(this,arguments)||this}z(K,M);K.prototype.createRenderer=function(){return new l["default"](this)};return K}(mb["default"]);A=function(M){function K(D){var y=this,E=D?D:{};y=M.call(this,{element:document.createElement("div"),render:E.render,target:E.target})||this;y.boundHandleRotationChanged_=
y.handleRotationChanged_.bind(y);y.collapsed_=void 0!==E.collapsed?E.collapsed:!0;y.collapsible_=void 0!==E.collapsible?E.collapsible:!0;y.collapsible_||(y.collapsed_=!1);y.rotateWithView_=void 0!==E.rotateWithView?E.rotateWithView:!1;y.viewExtent_=void 0;D=void 0!==E.className?E.className:"ol-overviewmap";var H=void 0!==E.tipLabel?E.tipLabel:"Overview map",Q=void 0!==E.collapseLabel?E.collapseLabel:"";"string"===typeof Q?(y.collapseLabel_=document.createElement("span"),y.collapseLabel_.textContent=
Q):y.collapseLabel_=Q;Q=void 0!==E.label?E.label:"";"string"===typeof Q?(y.label_=document.createElement("span"),y.label_.textContent=Q):y.label_=Q;var S=y.collapsible_&&!y.collapsed_?y.collapseLabel_:y.label_;Q=document.createElement("button");Q.setAttribute("type","button");Q.title=H;Q.appendChild(S);Q.addEventListener(u["default"].CLICK,y.handleClick_.bind(y),!1);y.ovmapDiv_=document.createElement("div");y.ovmapDiv_.className="ol-overviewmap-map";y.view_=E.view;y.ovmap_=new B({view:E.view});var ea=
y.ovmap_;E.layers&&E.layers.forEach(function(N){ea.addLayer(N)});E=document.createElement("div");E.className="ol-overviewmap-box";E.style.boxSizing="border-box";y.boxOverlay_=new v["default"]({position:[0,0],positioning:t["default"].CENTER_CENTER,element:E});y.ovmap_.addOverlay(y.boxOverlay_);E=y.element;E.className=D+" "+d.CLASS_UNSELECTABLE+" "+d.CLASS_CONTROL+(y.collapsed_&&y.collapsible_?" "+d.CLASS_COLLAPSED:"")+(y.collapsible_?"":" ol-uncollapsible");E.appendChild(y.ovmapDiv_);E.appendChild(Q);
var ba=y,fa=y.boxOverlay_,ia=function(N){N=ea.getEventCoordinateInternal({clientX:N.clientX,clientY:N.clientY});fa.setPosition(N)},ca=function W(C){C=ea.getEventCoordinateInternal(C);ba.getMap().getView().setCenterInternal(C);window.removeEventListener("mousemove",ia);window.removeEventListener("mouseup",W)};y.boxOverlay_.getElement().addEventListener("mousedown",function(){window.addEventListener("mousemove",ia);window.addEventListener("mouseup",ca)});return y}z(K,M);K.prototype.setMap=function(D){var y=
this.getMap();D!==y&&(y&&((y=y.getView())&&this.unbindView_(y),this.ovmap_.setTarget(null)),M.prototype.setMap.call(this,D),D&&(this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push((0,e.listen)(D,w["default"].PROPERTYCHANGE,this.handleMapPropertyChange_,this)),D=D.getView()))&&(this.bindView_(D),D.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_()))};K.prototype.handleMapPropertyChange_=function(D){D.key===L["default"].VIEW&&((D=D.oldValue)&&this.unbindView_(D),D=this.getMap().getView(),
this.bindView_(D))};K.prototype.bindView_=function(D){if(!this.view_){var y=new k["default"]({projection:D.getProjection()});this.ovmap_.setView(y)}D.addEventListener((0,a.getChangeEventType)(g["default"].ROTATION),this.boundHandleRotationChanged_);this.handleRotationChanged_()};K.prototype.unbindView_=function(D){D.removeEventListener((0,a.getChangeEventType)(g["default"].ROTATION),this.boundHandleRotationChanged_)};K.prototype.handleRotationChanged_=function(){this.rotateWithView_&&this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())};
K.prototype.validateExtent_=function(){var D=this.getMap(),y=this.ovmap_;if(D.isRendered()&&y.isRendered()){var E=D.getSize();D=D.getView().calculateExtentInternal(E);if(!this.viewExtent_||!(0,f.equals)(D,this.viewExtent_)){this.viewExtent_=D;var H=y.getSize();E=y.getView().calculateExtentInternal(H);var Q=y.getPixelFromCoordinateInternal((0,f.getTopLeft)(D)),S=y.getPixelFromCoordinateInternal((0,f.getBottomRight)(D));y=Math.abs(Q[0]-S[0]);Q=Math.abs(Q[1]-S[1]);S=H[0];H=H[1];y<.1*S||Q<.1*H||y>.75*
S||Q>.75*H?this.resetExtent_():(0,f.containsExtent)(E,D)||this.recenter_()}}};K.prototype.resetExtent_=function(){var D=this.getMap(),y=this.ovmap_,E=D.getSize();D=D.getView().calculateExtentInternal(E);y=y.getView();E=1/(.1*Math.pow(2,Math.log(7.5)/Math.LN2/2));(0,f.scaleFromCenter)(D,E);y.fitInternal((0,n.fromExtent)(D))};K.prototype.recenter_=function(){var D=this.getMap(),y=this.ovmap_;D=D.getView();y.getView().setCenterInternal(D.getCenterInternal())};K.prototype.updateBox_=function(){var D=
this.getMap(),y=this.ovmap_;if(D.isRendered()&&y.isRendered()){var E=D.getSize(),H=D.getView(),Q=y.getView();y=this.rotateWithView_?0:-H.getRotation();D=this.boxOverlay_;var S=this.boxOverlay_.getElement(),ea=H.getCenterInternal();H=H.getResolution();var ba=Q.getResolution();Q=E[0]*H/ba;E=E[1]*H/ba;D.setPosition(ea);S&&(S.style.width=Q+"px",S.style.height=E+"px",S.style.transform="rotate("+y+"rad)")}};K.prototype.handleClick_=function(D){D.preventDefault();this.handleToggle_()};K.prototype.handleToggle_=
function(){this.element.classList.toggle(d.CLASS_COLLAPSED);this.collapsed_?(0,x.replaceNode)(this.collapseLabel_,this.label_):(0,x.replaceNode)(this.label_,this.collapseLabel_);this.collapsed_=!this.collapsed_;var D=this.ovmap_;this.collapsed_||(D.isRendered()?(this.viewExtent_=void 0,D.render()):(D.updateSize(),this.resetExtent_(),(0,e.listenOnce)(D,G["default"].POSTRENDER,function(y){this.updateBox_()},this)))};K.prototype.getCollapsible=function(){return this.collapsible_};K.prototype.setCollapsible=
function(D){this.collapsible_!==D&&(this.collapsible_=D,this.element.classList.toggle("ol-uncollapsible"),!D&&this.collapsed_&&this.handleToggle_())};K.prototype.setCollapsed=function(D){this.collapsible_&&this.collapsed_!==D&&this.handleToggle_()};K.prototype.getCollapsed=function(){return this.collapsed_};K.prototype.getRotateWithView=function(){return this.rotateWithView_};K.prototype.setRotateWithView=function(D){this.rotateWithView_!==D&&(this.rotateWithView_=D,0!==this.getMap().getView().getRotation()&&
(this.rotateWithView_?this.handleRotationChanged_():this.ovmap_.getView().setRotation(0),this.viewExtent_=void 0,this.validateExtent_(),this.updateBox_()))};K.prototype.getOverviewMap=function(){return this.ovmap_};K.prototype.render=function(D){this.validateExtent_();this.updateBox_()};return K}(Ia["default"]);J["default"]=A};
shadow$provide[165]=function(Ia,A,mb,J){function m(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=J.Units=void 0;Ia=m(A(156));var l=m(A(120)),u=A(101),G=A(130),L=A(76),w=A(91),v=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var x in n)Object.prototype.hasOwnProperty.call(n,x)&&(e[x]=n[x])};return d(f,a)};return function(f,a){function e(){this.constructor=
f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),t={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"};J.Units=t;var k=[1,2,5],g=25.4/.28;A=function(d){function f(a){var e=a?a:{},n=void 0!==e.className?e.className:e.bar?"ol-scale-bar":"ol-scale-line";a=d.call(this,{element:document.createElement("div"),render:e.render,target:e.target})||this;a.innerElement_=document.createElement("div");a.innerElement_.className=n+"-inner";a.element.className=
n+" "+u.CLASS_UNSELECTABLE;a.element.appendChild(a.innerElement_);a.viewState_=null;a.minWidth_=void 0!==e.minWidth?e.minWidth:64;a.renderedVisible_=!1;a.renderedWidth_=void 0;a.renderedHTML_="";a.addEventListener((0,w.getChangeEventType)("units"),a.handleUnitsChanged_);a.setUnits(e.units||t.METRIC);a.scaleBar_=e.bar||!1;a.scaleBarSteps_=e.steps||4;a.scaleBarText_=e.text||!1;a.dpi_=e.dpi||void 0;return a}v(f,d);f.prototype.getUnits=function(){return this.get("units")};f.prototype.handleUnitsChanged_=
function(){this.updateElement_()};f.prototype.setUnits=function(a){this.set("units",a)};f.prototype.setDpi=function(a){this.dpi_=a};f.prototype.updateElement_=function(){var a=this.viewState_;if(a){var e=a.center,n=a.projection,x=this.getUnits(),z=x==t.DEGREES?l["default"].DEGREES:l["default"].METERS;a=(0,G.getPointResolution)(n,a.resolution,e,z);e=this.minWidth_*(this.dpi_||g)/g;z=e*a;n="";x==t.DEGREES?(x=G.METERS_PER_UNIT[l["default"].DEGREES],z*=x,z<x/60?(n="",a*=3600):z<x?(n="",a*=60):n=""):
x==t.IMPERIAL?.9144>z?(n="in",a/=.0254):1609.344>z?(n="ft",a/=.3048):(n="mi",a/=1609.344):x==t.NAUTICAL?(a/=1852,n="nm"):x==t.METRIC?.001>z?(n="m",a*=1E6):1>z?(n="mm",a*=1E3):1E3>z?n="m":(n="km",a/=1E3):x==t.US?.9144>z?(n="in",a*=39.37):1609.344>z?(n="ft",a/=.30480061):(n="mi",a/=1609.3472):(0,L.assert)(!1,33);z=3*Math.floor(Math.log(e*a)/Math.log(10));for(var B,M;;){M=Math.floor(z/3);B=k[(z%3+3)%3]*Math.pow(10,M);x=Math.round(B/a);if(isNaN(x)){this.element.style.display="none";this.renderedVisible_=
!1;return}if(x>=e)break;++z}a=this.scaleBar_?this.createScaleBar(x,B,n):B.toFixed(0>M?-M:0)+" "+n;this.renderedHTML_!=a&&(this.renderedHTML_=this.innerElement_.innerHTML=a);this.renderedWidth_!=x&&(this.innerElement_.style.width=x+"px",this.renderedWidth_=x);this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)};f.prototype.createScaleBar=function(a,e,n){for(var x="1 : "+Math.round(this.getScaleForResolution()).toLocaleString(),
z=[],B=a/this.scaleBarSteps_,M="#ffffff",K=0;K<this.scaleBarSteps_;K++)0===K&&z.push(this.createMarker("absolute",K)),z.push('\x3cdiv\x3e\x3cdiv class\x3d"ol-scale-singlebar" style\x3d"width: '+B+"px;background-color: "+M+';"\x3e\x3c/div\x3e'+this.createMarker("relative",K)+(0===K%2||2===this.scaleBarSteps_?this.createStepText(K,a,!1,e,n):"")+"\x3c/div\x3e"),K===this.scaleBarSteps_-1&&z.push(this.createStepText(K+1,a,!0,e,n)),M="#ffffff"===M?"#000000":"#ffffff";return'\x3cdiv style\x3d"display: flex;"\x3e'+
(this.scaleBarText_?'\x3cdiv class\x3d"ol-scale-text" style\x3d"width: '+a+'px;"\x3e'+x+"\x3c/div\x3e":"")+z.join("")+"\x3c/div\x3e"};f.prototype.createMarker=function(a,e){return'\x3cdiv class\x3d"ol-scale-step-marker" style\x3d"position: '+a+";top: "+("absolute"===a?3:-10)+'px;"\x3e\x3c/div\x3e'};f.prototype.createStepText=function(a,e,n,x,z){return'\x3cdiv class\x3d"ol-scale-step-text" style\x3d"margin-left: '+(0===a?-3:e/this.scaleBarSteps_*-1)+"px;text-align: "+(0===a?"left":"center")+"; min-width: "+
(0===a?0:e/this.scaleBarSteps_*2)+"px;left: "+(n?e+"px":"unset")+';"\x3e'+((0===a?0:Math.round(x/this.scaleBarSteps_*a*100)/100)+(0===a?"":" "+z))+"\x3c/div\x3e"};f.prototype.getScaleForResolution=function(){var a=(0,G.getPointResolution)(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center),e=this.dpi_||g,n=this.viewState_.projection.getMetersPerUnit(),x=1E3/25.4;return parseFloat(a.toString())*n*x*e};f.prototype.render=function(a){this.viewState_=(a=a.frameState)?a.viewState:
null;this.updateElement_()};return f}(Ia["default"]);J["default"]=A};
shadow$provide[166]=function(Ia,A,mb,J){function m(g){return g&&g.__esModule?g:{"default":g}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=m(A(156));var l=m(A(88)),u=m(A(112)),G=A(101),L=A(81),w=A(134),v=A(89),t=A(84),k=function(){var g=function(d,f){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])};return g(d,f)};return function(d,f){function a(){this.constructor=
d}g(d,f);d.prototype=null===f?Object.create(f):(a.prototype=f.prototype,new a)}}();A=function(g){function d(f){var a=f?f:{};f=g.call(this,{element:document.createElement("div"),render:a.render})||this;f.dragListenerKeys_=[];f.currentResolution_=void 0;f.direction_=0;f.heightLimit_=0;f.widthLimit_=0;f.thumbSize_=null;f.sliderInitialized_=!1;f.duration_=void 0!==a.duration?a.duration:200;a=void 0!==a.className?a.className:"ol-zoomslider";var e=document.createElement("button");e.setAttribute("type",
"button");e.className=a+"-thumb "+G.CLASS_UNSELECTABLE;var n=f.element;n.className=a+" "+G.CLASS_UNSELECTABLE+" "+G.CLASS_CONTROL;n.appendChild(e);n.addEventListener(u["default"].POINTERDOWN,f.handleDraggerStart_.bind(f),!1);n.addEventListener(u["default"].POINTERMOVE,f.handleDraggerDrag_.bind(f),!1);n.addEventListener(u["default"].POINTERUP,f.handleDraggerEnd_.bind(f),!1);n.addEventListener(l["default"].CLICK,f.handleContainerClick_.bind(f),!1);e.addEventListener(l["default"].CLICK,t.stopPropagation,
!1);return f}k(d,g);d.prototype.setMap=function(f){g.prototype.setMap.call(this,f);f&&f.render()};d.prototype.initSlider_=function(){var f=this.element,a=f.offsetWidth,e=f.offsetHeight;if(0===a&&0===e)return this.sliderInitialized_=!1;var n=f.firstElementChild,x=getComputedStyle(n);f=n.offsetWidth+parseFloat(x.marginRight)+parseFloat(x.marginLeft);n=n.offsetHeight+parseFloat(x.marginTop)+parseFloat(x.marginBottom);this.thumbSize_=[f,n];a>e?(this.direction_=1,this.widthLimit_=a-f):(this.direction_=
0,this.heightLimit_=e-n);return this.sliderInitialized_=!0};d.prototype.handleContainerClick_=function(f){var a=this.getMap().getView();f=this.getRelativePosition_(f.offsetX-this.thumbSize_[0]/2,f.offsetY-this.thumbSize_[1]/2);f=this.getResolutionForPosition_(f);f=a.getConstrainedZoom(a.getZoomForResolution(f));a.animateInternal({zoom:f,duration:this.duration_,easing:w.easeOut})};d.prototype.handleDraggerStart_=function(f){if(!this.dragging_&&f.target===this.element.firstElementChild){var a=this.element.firstElementChild;
this.getMap().getView().beginInteraction();this.startX_=f.clientX-parseFloat(a.style.left);this.startY_=f.clientY-parseFloat(a.style.top);this.dragging_=!0;if(0===this.dragListenerKeys_.length){f=this.handleDraggerDrag_;a=this.handleDraggerEnd_;var e=this.getMap().getOwnerDocument();this.dragListenerKeys_.push((0,v.listen)(e,u["default"].POINTERMOVE,f,this),(0,v.listen)(e,u["default"].POINTERUP,a,this))}}};d.prototype.handleDraggerDrag_=function(f){this.dragging_&&(f=this.getRelativePosition_(f.clientX-
this.startX_,f.clientY-this.startY_),this.currentResolution_=this.getResolutionForPosition_(f),this.getMap().getView().setResolution(this.currentResolution_))};d.prototype.handleDraggerEnd_=function(f){this.dragging_&&(this.getMap().getView().endInteraction(),this.dragging_=!1,this.startY_=this.startX_=void 0,this.dragListenerKeys_.forEach(v.unlistenByKey),this.dragListenerKeys_.length=0)};d.prototype.setThumbPosition_=function(f){f=this.getPositionForResolution_(f);var a=this.element.firstElementChild;
1==this.direction_?a.style.left=this.widthLimit_*f+"px":a.style.top=this.heightLimit_*f+"px"};d.prototype.getRelativePosition_=function(f,a){f=1===this.direction_?f/this.widthLimit_:a/this.heightLimit_;return(0,L.clamp)(f,0,1)};d.prototype.getResolutionForPosition_=function(f){return this.getMap().getView().getResolutionForValueFunction()(1-f)};d.prototype.getPositionForResolution_=function(f){var a=this.getMap().getView().getValueForResolutionFunction();return(0,L.clamp)(1-a(f),0,1)};d.prototype.render=
function(f){f.frameState&&(this.sliderInitialized_||this.initSlider_())&&(this.currentResolution_=f=f.frameState.viewState.resolution,this.setThumbPosition_(f))};return d}(Ia["default"]);J["default"]=A};
shadow$provide[167]=function(Ia,A,mb,J){function m(w){return w&&w.__esModule?w:{"default":w}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=m(A(156));var l=m(A(88)),u=A(101),G=A(152),L=function(){var w=function(v,t){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,g){k.__proto__=g}||function(k,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(k[d]=g[d])};return w(v,t)};return function(v,t){function k(){this.constructor=v}w(v,t);v.prototype=null===
t?Object.create(t):(k.prototype=t.prototype,new k)}}();A=function(w){function v(t){var k=t?t:{};t=w.call(this,{element:document.createElement("div"),target:k.target})||this;t.extent=k.extent?k.extent:null;var g=void 0!==k.className?k.className:"ol-zoom-extent",d=void 0!==k.label?k.label:"E",f=void 0!==k.tipLabel?k.tipLabel:"Fit to extent";k=document.createElement("button");k.setAttribute("type","button");k.title=f;k.appendChild("string"===typeof d?document.createTextNode(d):d);k.addEventListener(l["default"].CLICK,
t.handleClick_.bind(t),!1);d=t.element;d.className=g+" "+u.CLASS_UNSELECTABLE+" "+u.CLASS_CONTROL;d.appendChild(k);return t}L(v,w);v.prototype.handleClick_=function(t){t.preventDefault();this.handleZoomToExtent()};v.prototype.handleZoomToExtent=function(){var t=this.getMap().getView(),k=this.extent?this.extent:t.getProjection().getExtent();t.fitInternal((0,G.fromExtent)(k))};return v}(Ia["default"]);J["default"]=A};
shadow$provide[168]=function(Ia,A,mb,J){function m(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(J,"__esModule",{value:!0});J.defaults=function(a){a=a?a:{};var e=new u["default"];(void 0!==a.zoom?a.zoom:1)&&e.push(new L["default"](a.zoomOptions));(void 0!==a.rotate?a.rotate:1)&&e.push(new G["default"](a.rotateOptions));(void 0!==a.attribution?a.attribution:1)&&e.push(new l["default"](a.attributionOptions));return e};Object.defineProperty(J,"Attribution",{enumerable:!0,get:function(){return l["default"]}});
Object.defineProperty(J,"Rotate",{enumerable:!0,get:function(){return G["default"]}});Object.defineProperty(J,"Zoom",{enumerable:!0,get:function(){return L["default"]}});Object.defineProperty(J,"Control",{enumerable:!0,get:function(){return w["default"]}});Object.defineProperty(J,"FullScreen",{enumerable:!0,get:function(){return v["default"]}});Object.defineProperty(J,"MousePosition",{enumerable:!0,get:function(){return t["default"]}});Object.defineProperty(J,"OverviewMap",{enumerable:!0,get:function(){return k["default"]}});
Object.defineProperty(J,"ScaleLine",{enumerable:!0,get:function(){return g["default"]}});Object.defineProperty(J,"ZoomSlider",{enumerable:!0,get:function(){return d["default"]}});Object.defineProperty(J,"ZoomToExtent",{enumerable:!0,get:function(){return f["default"]}});var l=m(A(157)),u=m(A(107)),G=m(A(158)),L=m(A(159)),w=m(A(156)),v=m(A(160)),t=m(A(161)),k=m(A(164)),g=m(A(165)),d=m(A(166)),f=m(A(167))};
shadow$provide[169]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={ACTIVE:"active"}};
shadow$provide[170]=function(Ia,A,mb,J){function m(L){return L&&L.__esModule?L:{"default":L}}Object.defineProperty(J,"__esModule",{value:!0});J.pan=function(L,w,v){var t=L.getCenterInternal();t&&L.animateInternal({duration:void 0!==v?v:250,easing:u.linear,center:L.getConstrainedCenter([t[0]+w[0],t[1]+w[1]])})};J.zoomByDelta=function(L,w,v,t){var k=L.getZoom();void 0!==k&&(w=L.getConstrainedZoom(k+w),w=L.getResolutionForZoom(w),L.getAnimating()&&L.cancelAnimations(),L.animate({resolution:w,anchor:v,
duration:void 0!==t?t:250,easing:u.easeOut}))};J["default"]=void 0;Ia=m(A(91));var l=m(A(169)),u=A(134),G=function(){var L=function(w,v){L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,k){t.__proto__=k}||function(t,k){for(var g in k)Object.prototype.hasOwnProperty.call(k,g)&&(t[g]=k[g])};return L(w,v)};return function(w,v){function t(){this.constructor=w}L(w,v);w.prototype=null===v?Object.create(v):(t.prototype=v.prototype,new t)}}();A=function(L){function w(v){var t=L.call(this)||
this;v&&v.handleEvent&&(t.handleEvent=v.handleEvent);t.map_=null;t.setActive(!0);return t}G(w,L);w.prototype.getActive=function(){return this.get(l["default"].ACTIVE)};w.prototype.getMap=function(){return this.map_};w.prototype.handleEvent=function(v){return!0};w.prototype.setActive=function(v){this.set(l["default"].ACTIVE,v)};w.prototype.setMap=function(v){this.map_=v};return w}(Ia["default"]);J["default"]=A};
shadow$provide[171]=function(Ia,A,mb,J){function m(w){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"===typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v};return m(w)}function l(){if("function"!==typeof WeakMap)return null;var w=new WeakMap;l=function(){return w};return w}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var u=function(w){if(w&&w.__esModule)return w;if(null===
w||"object"!==m(w)&&"function"!==typeof w)return{"default":w};var v=l();if(v&&v.has(w))return v.get(w);var t={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor,g;for(g in w)if(Object.prototype.hasOwnProperty.call(w,g)){var d=k?Object.getOwnPropertyDescriptor(w,g):null;d&&(d.get||d.set)?Object.defineProperty(t,g,d):t[g]=w[g]}t["default"]=w;v&&v.set(w,t);return t}(A(170)),G=function(w){return w&&w.__esModule?w:{"default":w}}(A(111)),L=function(){var w=function(v,t){w=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(k,g){k.__proto__=g}||function(k,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(k[d]=g[d])};return w(v,t)};return function(v,t){function k(){this.constructor=v}w(v,t);v.prototype=null===t?Object.create(t):(k.prototype=t.prototype,new k)}}();Ia=function(w){function v(t){var k=w.call(this)||this;t=t?t:{};k.delta_=t.delta?t.delta:1;k.duration_=void 0!==t.duration?t.duration:250;return k}L(v,w);v.prototype.handleEvent=function(t){var k=!1;if(t.type==
G["default"].DBLCLICK){k=t.originalEvent;var g=t.coordinate,d=k.shiftKey?-this.delta_:this.delta_;t=t.map.getView();(0,u.zoomByDelta)(t,d,g,this.duration_);k.preventDefault();k=!0}return!k};return v}(u["default"]);J["default"]=Ia};
shadow$provide[172]=function(Ia,A,mb,J){function m(L){return L&&L.__esModule?L:{"default":L}}Object.defineProperty(J,"__esModule",{value:!0});J.centroid=function(L){for(var w=L.length,v=0,t=0,k=0;k<w;k++)v+=L[k].clientX,t+=L[k].clientY;return[v/w,t/w]};J["default"]=void 0;Ia=m(A(170));var l=m(A(111)),u=A(86),G=function(){var L=function(w,v){L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,k){t.__proto__=k}||function(t,k){for(var g in k)Object.prototype.hasOwnProperty.call(k,g)&&
(t[g]=k[g])};return L(w,v)};return function(w,v){function t(){this.constructor=w}L(w,v);w.prototype=null===v?Object.create(v):(t.prototype=v.prototype,new t)}}();A=function(L){function w(v){var t=v?v:{};v=L.call(this,t)||this;t.handleDownEvent&&(v.handleDownEvent=t.handleDownEvent);t.handleDragEvent&&(v.handleDragEvent=t.handleDragEvent);t.handleMoveEvent&&(v.handleMoveEvent=t.handleMoveEvent);t.handleUpEvent&&(v.handleUpEvent=t.handleUpEvent);t.stopDown&&(v.stopDown=t.stopDown);v.handlingDownUpSequence=
!1;v.trackedPointers_={};v.targetPointers=[];return v}G(w,L);w.prototype.getPointerCount=function(){return this.targetPointers.length};w.prototype.handleDownEvent=function(v){return!1};w.prototype.handleDragEvent=function(v){};w.prototype.handleEvent=function(v){if(!v.originalEvent)return!0;var t=!1;this.updateTrackedPointers_(v);this.handlingDownUpSequence?v.type==l["default"].POINTERDRAG?(this.handleDragEvent(v),v.originalEvent.preventDefault()):v.type==l["default"].POINTERUP&&(this.handlingDownUpSequence=
this.handleUpEvent(v)&&0<this.targetPointers.length):v.type==l["default"].POINTERDOWN?(this.handlingDownUpSequence=v=this.handleDownEvent(v),t=this.stopDown(v)):v.type==l["default"].POINTERMOVE&&this.handleMoveEvent(v);return!t};w.prototype.handleMoveEvent=function(v){};w.prototype.handleUpEvent=function(v){return!1};w.prototype.stopDown=function(v){return v};w.prototype.updateTrackedPointers_=function(v){var t=v.type;if(t===l["default"].POINTERDOWN||t===l["default"].POINTERDRAG||t===l["default"].POINTERUP){t=
v.originalEvent;var k=t.pointerId.toString();v.type==l["default"].POINTERUP?delete this.trackedPointers_[k]:v.type==l["default"].POINTERDOWN?this.trackedPointers_[k]=t:k in this.trackedPointers_&&(this.trackedPointers_[k]=t);this.targetPointers=(0,u.getValues)(this.trackedPointers_)}};return w}(Ia["default"]);J["default"]=A};
shadow$provide[173]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J.all=function(L){var w=arguments;return function(v){for(var t=!0,k=0,g=w.length;k<g&&(t=t&&w[k](v),t);++k);return t}};J.primaryAction=J.penOnly=J.touchOnly=J.mouseOnly=J.targetNotEditable=J.shiftKeyOnly=J.platformModifierKeyOnly=J.noModifierKeys=J.doubleClick=J.singleClick=J.pointerMove=J.never=J.mouseActionButton=J.click=J.always=J.focusWithTabindex=J.focus=J.altShiftKeysOnly=J.altKeyOnly=void 0;var m=function(L){return L&&
L.__esModule?L:{"default":L}}(A(111));Ia=A(73);var l=A(102),u=A(76);J.altKeyOnly=function(L){L=L.originalEvent;return L.altKey&&!(L.metaKey||L.ctrlKey)&&!L.shiftKey};J.altShiftKeysOnly=function(L){L=L.originalEvent;return L.altKey&&!(L.metaKey||L.ctrlKey)&&L.shiftKey};var G=function(L){return L.target.getTargetElement().contains(document.activeElement)};J.focus=G;J.focusWithTabindex=function(L){return L.map.getTargetElement().hasAttribute("tabindex")?G(L):!0};J.always=Ia.TRUE;J.click=function(L){return L.type==
m["default"].CLICK};J.mouseActionButton=function(L){L=L.originalEvent;return 0==L.button&&!(l.WEBKIT&&l.MAC&&L.ctrlKey)};J.never=Ia.FALSE;J.pointerMove=function(L){return"pointermove"==L.type};J.singleClick=function(L){return L.type==m["default"].SINGLECLICK};J.doubleClick=function(L){return L.type==m["default"].DBLCLICK};J.noModifierKeys=function(L){L=L.originalEvent;return!L.altKey&&!(L.metaKey||L.ctrlKey)&&!L.shiftKey};J.platformModifierKeyOnly=function(L){L=L.originalEvent;return!L.altKey&&(l.MAC?
L.metaKey:L.ctrlKey)&&!L.shiftKey};J.shiftKeyOnly=function(L){L=L.originalEvent;return!L.altKey&&!(L.metaKey||L.ctrlKey)&&L.shiftKey};J.targetNotEditable=function(L){L=L.originalEvent.target.tagName;return"INPUT"!==L&&"SELECT"!==L&&"TEXTAREA"!==L};J.mouseOnly=function(L){L=L.originalEvent;(0,u.assert)(void 0!==L,56);return"mouse"==L.pointerType};J.touchOnly=function(L){L=L.originalEvent;(0,u.assert)(void 0!==L,56);return"touch"===L.pointerType};J.penOnly=function(L){L=L.originalEvent;(0,u.assert)(void 0!==
L,56);return"pen"===L.pointerType};J.primaryAction=function(L){L=L.originalEvent;(0,u.assert)(void 0!==L,56);return L.isPrimary&&0===L.button}};
shadow$provide[174]=function(Ia,A,mb,J){function m(k){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"===typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g};return m(k)}function l(){if("function"!==typeof WeakMap)return null;var k=new WeakMap;l=function(){return k};return k}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var u=function(k){if(k&&k.__esModule)return k;if(null===
k||"object"!==m(k)&&"function"!==typeof k)return{"default":k};var g=l();if(g&&g.has(k))return g.get(k);var d={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor,a;for(a in k)if(Object.prototype.hasOwnProperty.call(k,a)){var e=f?Object.getOwnPropertyDescriptor(k,a):null;e&&(e.get||e.set)?Object.defineProperty(d,a,e):d[a]=k[a]}d["default"]=k;g&&g.set(k,d);return d}(A(172)),G=A(73),L=A(173),w=A(134),v=A(98),t=function(){var k=function(g,d){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&
function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(f[e]=a[e])};return k(g,d)};return function(g,d){function f(){this.constructor=g}k(g,d);g.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)}}();Ia=function(k){function g(d){var f=k.call(this,{stopDown:G.FALSE})||this;d=d?d:{};f.kinetic_=d.kinetic;f.lastCentroid=null;f.panning_=!1;var a=d.condition?d.condition:(0,L.all)(L.noModifierKeys,L.primaryAction);f.condition_=d.onFocusOnly?
(0,L.all)(L.focusWithTabindex,a):a;f.noKinetic_=!1;return f}t(g,k);g.prototype.handleDragEvent=function(d){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var f=this.targetPointers,a=(0,u.centroid)(f);if(f.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(a[0],a[1]),this.lastCentroid){var e=[this.lastCentroid[0]-a[0],a[1]-this.lastCentroid[1]],n=d.map.getView();(0,v.scale)(e,n.getResolution());(0,v.rotate)(e,n.getRotation());n.adjustCenterInternal(e)}}else this.kinetic_&&
this.kinetic_.begin();this.lastCentroid=a;this.lastPointersCount_=f.length;d.originalEvent.preventDefault()};g.prototype.handleUpEvent=function(d){var f=d.map;d=f.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var a=this.kinetic_.getDistance(),e=this.kinetic_.getAngle(),n=d.getCenterInternal();n=f.getPixelFromCoordinateInternal(n);f=f.getCoordinateFromPixelInternal([n[0]-a*Math.cos(e),n[1]-a*Math.sin(e)]);d.animateInternal({center:d.getConstrainedCenter(f),
duration:500,easing:w.easeOut})}this.panning_&&(this.panning_=!1,d.endInteraction());return!1}this.kinetic_&&this.kinetic_.begin();this.lastCentroid=null;return!0};g.prototype.handleDownEvent=function(d){return 0<this.targetPointers.length&&this.condition_(d)?(d=d.map.getView(),this.lastCentroid=null,d.getAnimating()&&d.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=1<this.targetPointers.length,!0):!1};return g}(u["default"]);J["default"]=Ia};
shadow$provide[175]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=function(L){return L&&L.__esModule?L:{"default":L}}(A(172));var m=A(73),l=A(173),u=A(133),G=function(){var L=function(w,v){L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,k){t.__proto__=k}||function(t,k){for(var g in k)Object.prototype.hasOwnProperty.call(k,g)&&(t[g]=k[g])};return L(w,v)};return function(w,v){function t(){this.constructor=w}L(w,v);w.prototype=null===
v?Object.create(v):(t.prototype=v.prototype,new t)}}();A=function(L){function w(v){var t=v?v:{};v=L.call(this,{stopDown:m.FALSE})||this;v.condition_=t.condition?t.condition:l.altShiftKeysOnly;v.lastAngle_=void 0;v.duration_=void 0!==t.duration?t.duration:250;return v}G(w,L);w.prototype.handleDragEvent=function(v){if((0,l.mouseOnly)(v)){var t=v.map,k=t.getView();k.getConstraints().rotation!==u.disable&&(t=t.getSize(),v=v.pixel,v=Math.atan2(t[1]/2-v[1],v[0]-t[0]/2),void 0!==this.lastAngle_&&k.adjustRotationInternal(-(v-
this.lastAngle_)),this.lastAngle_=v)}};w.prototype.handleUpEvent=function(v){if(!(0,l.mouseOnly)(v))return!0;v.map.getView().endInteraction(this.duration_);return!1};w.prototype.handleDownEvent=function(v){return(0,l.mouseOnly)(v)&&(0,l.mouseActionButton)(v)&&this.condition_(v)?(v.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1};return w}(Ia["default"]);J["default"]=A};
shadow$provide[176]=function(Ia,A,mb,J){function m(G){return G&&G.__esModule?G:{"default":G}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=m(A(71));var l=m(A(152)),u=function(){var G=function(L,w){G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,t){v.__proto__=t}||function(v,t){for(var k in t)Object.prototype.hasOwnProperty.call(t,k)&&(v[k]=t[k])};return G(L,w)};return function(L,w){function v(){this.constructor=L}G(L,w);L.prototype=null===w?Object.create(w):
(v.prototype=w.prototype,new v)}}();A=function(G){function L(w){var v=G.call(this)||this;v.geometry_=null;v.element_=document.createElement("div");v.element_.style.position="absolute";v.element_.style.pointerEvents="auto";v.element_.className="ol-box "+w;v.map_=null;v.startPixel_=null;v.endPixel_=null;return v}u(L,G);L.prototype.disposeInternal=function(){this.setMap(null)};L.prototype.render_=function(){var w=this.startPixel_,v=this.endPixel_,t=this.element_.style;t.left=Math.min(w[0],v[0])+"px";
t.top=Math.min(w[1],v[1])+"px";t.width=Math.abs(v[0]-w[0])+"px";t.height=Math.abs(v[1]-w[1])+"px"};L.prototype.setMap=function(w){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var v=this.element_.style;v.left="inherit";v.top="inherit";v.width="inherit";v.height="inherit"}(this.map_=w)&&this.map_.getOverlayContainer().appendChild(this.element_)};L.prototype.setPixels=function(w,v){this.startPixel_=w;this.endPixel_=v;this.createOrUpdateGeometry();this.render_()};L.prototype.createOrUpdateGeometry=
function(){var w=this.startPixel_,v=this.endPixel_;w=[w,[w[0],v[1]],v,[v[0],w[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);w[4]=w[0].slice();this.geometry_?this.geometry_.setCoordinates([w]):this.geometry_=new l["default"]([w])};L.prototype.getGeometry=function(){return this.geometry_};return L}(Ia["default"]);J["default"]=A};
shadow$provide[177]=function(Ia,A,mb,J){function m(w){return w&&w.__esModule?w:{"default":w}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=J.DragBoxEvent=void 0;Ia=m(A(84));mb=m(A(172));var l=m(A(176)),u=A(173),G=function(){var w=function(v,t){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,g){k.__proto__=g}||function(k,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(k[d]=g[d])};return w(v,t)};return function(v,t){function k(){this.constructor=v}w(v,
t);v.prototype=null===t?Object.create(t):(k.prototype=t.prototype,new k)}}(),L=function(w){function v(t,k,g){t=w.call(this,t)||this;t.coordinate=k;t.mapBrowserEvent=g;return t}G(v,w);return v}(Ia["default"]);J.DragBoxEvent=L;A=function(w){function v(t){var k=w.call(this)||this;t=t?t:{};k.box_=new l["default"](t.className||"ol-dragbox");k.minArea_=void 0!==t.minArea?t.minArea:64;t.onBoxEnd&&(k.onBoxEnd=t.onBoxEnd);k.startPixel_=null;k.condition_=t.condition?t.condition:u.mouseActionButton;k.boxEndCondition_=
t.boxEndCondition?t.boxEndCondition:k.defaultBoxEndCondition;return k}G(v,w);v.prototype.defaultBoxEndCondition=function(t,k,g){t=g[0]-k[0];k=g[1]-k[1];return t*t+k*k>=this.minArea_};v.prototype.getGeometry=function(){return this.box_.getGeometry()};v.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel);this.dispatchEvent(new L("boxdrag",t.coordinate,t))};v.prototype.handleUpEvent=function(t){this.box_.setMap(null);var k=this.boxEndCondition_(t,this.startPixel_,t.pixel);
if(k)this.onBoxEnd(t);this.dispatchEvent(new L(k?"boxend":"boxcancel",t.coordinate,t));return!1};v.prototype.handleDownEvent=function(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new L("boxstart",t.coordinate,t)),!0):!1};v.prototype.onBoxEnd=function(t){};return v}(mb["default"]);J["default"]=A};
shadow$provide[178]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=function(L){return L&&L.__esModule?L:{"default":L}}(A(177));var m=A(80),l=A(134),u=A(173),G=function(){var L=function(w,v){L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,k){t.__proto__=k}||function(t,k){for(var g in k)Object.prototype.hasOwnProperty.call(k,g)&&(t[g]=k[g])};return L(w,v)};return function(w,v){function t(){this.constructor=w}L(w,v);w.prototype=null===
v?Object.create(v):(t.prototype=v.prototype,new t)}}();A=function(L){function w(v){var t=v?v:{};v=L.call(this,{condition:t.condition?t.condition:u.shiftKeyOnly,className:t.className||"ol-dragzoom",minArea:t.minArea})||this;v.duration_=void 0!==t.duration?t.duration:200;v.out_=void 0!==t.out?t.out:!1;return v}G(w,L);w.prototype.onBoxEnd=function(v){var t=this.getMap();v=t.getView();var k=t.getSize(),g=this.getGeometry().getExtent();if(this.out_){var d=v.calculateExtentInternal(k);g=(0,m.createOrUpdateFromCoordinates)([t.getPixelFromCoordinateInternal((0,
m.getBottomLeft)(g)),t.getPixelFromCoordinateInternal((0,m.getTopRight)(g))]);g=v.getResolutionForExtentInternal(g,k);(0,m.scaleFromCenter)(d,1/g);g=d}k=v.getConstrainedResolution(v.getResolutionForExtentInternal(g,k));d=v.getConstrainedCenter((0,m.getCenter)(g),k);v.animateInternal({resolution:k,center:d,duration:this.duration_,easing:l.easeOut})};return w}(Ia["default"]);J["default"]=A};
shadow$provide[179]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={LEFT:37,UP:38,RIGHT:39,DOWN:40}};
shadow$provide[180]=function(Ia,A,mb,J){function m(g){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"===typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};return m(g)}function l(){if("function"!==typeof WeakMap)return null;var g=new WeakMap;l=function(){return g};return g}function u(g){return g&&g.__esModule?g:{"default":g}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;
var G=u(A(88)),L=function(g){if(g&&g.__esModule)return g;if(null===g||"object"!==m(g)&&"function"!==typeof g)return{"default":g};var d=l();if(d&&d.has(g))return d.get(g);var f={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor,e;for(e in g)if(Object.prototype.hasOwnProperty.call(g,e)){var n=a?Object.getOwnPropertyDescriptor(g,e):null;n&&(n.get||n.set)?Object.defineProperty(f,e,n):f[e]=g[e]}f["default"]=g;d&&d.set(g,f);return f}(A(170)),w=u(A(179)),v=A(173),t=A(98),k=function(){var g=function(d,
f){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])};return g(d,f)};return function(d,f){function a(){this.constructor=d}g(d,f);d.prototype=null===f?Object.create(f):(a.prototype=f.prototype,new a)}}();Ia=function(g){function d(f){var a=g.call(this)||this;f=f||{};a.defaultCondition_=function(e){return(0,v.noModifierKeys)(e)&&(0,v.targetNotEditable)(e)};a.condition_=void 0!==f.condition?
f.condition:a.defaultCondition_;a.duration_=void 0!==f.duration?f.duration:100;a.pixelDelta_=void 0!==f.pixelDelta?f.pixelDelta:128;return a}k(d,g);d.prototype.handleEvent=function(f){var a=!1;if(f.type==G["default"].KEYDOWN){var e=f.originalEvent,n=e.keyCode;if(this.condition_(f)&&(n==w["default"].DOWN||n==w["default"].LEFT||n==w["default"].RIGHT||n==w["default"].UP)){f=f.map.getView();a=f.getResolution()*this.pixelDelta_;var x=0,z=0;n==w["default"].DOWN?z=-a:n==w["default"].LEFT?x=-a:n==w["default"].RIGHT?
x=a:z=a;n=[x,z];(0,t.rotate)(n,f.getRotation());(0,L.pan)(f,n,this.duration_);e.preventDefault();a=!0}}return!a};return d}(L["default"]);J["default"]=Ia};
shadow$provide[181]=function(Ia,A,mb,J){function m(v){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return m(v)}function l(){if("function"!==typeof WeakMap)return null;var v=new WeakMap;l=function(){return v};return v}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var u=function(v){return v&&v.__esModule?v:{"default":v}}(A(88)),
G=function(v){if(v&&v.__esModule)return v;if(null===v||"object"!==m(v)&&"function"!==typeof v)return{"default":v};var t=l();if(t&&t.has(v))return t.get(v);var k={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor,d;for(d in v)if(Object.prototype.hasOwnProperty.call(v,d)){var f=g?Object.getOwnPropertyDescriptor(v,d):null;f&&(f.get||f.set)?Object.defineProperty(k,d,f):k[d]=v[d]}k["default"]=v;t&&t.set(v,k);return k}(A(170)),L=A(173),w=function(){var v=function(t,k){v=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(g[f]=d[f])};return v(t,k)};return function(t,k){function g(){this.constructor=t}v(t,k);t.prototype=null===k?Object.create(k):(g.prototype=k.prototype,new g)}}();Ia=function(v){function t(k){var g=v.call(this)||this;k=k?k:{};g.condition_=k.condition?k.condition:L.targetNotEditable;g.delta_=k.delta?k.delta:1;g.duration_=void 0!==k.duration?k.duration:100;return g}w(t,
v);t.prototype.handleEvent=function(k){var g=!1;if(k.type==u["default"].KEYDOWN||k.type==u["default"].KEYPRESS){var d=k.originalEvent,f=d.charCode;!this.condition_(k)||43!=f&&45!=f||(g=43==f?this.delta_:-this.delta_,k=k.map.getView(),(0,G.zoomByDelta)(k,g,void 0,this.duration_),d.preventDefault(),g=!0)}return!g};return t}(G["default"]);J["default"]=Ia};
shadow$provide[182]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=function(){function m(l,u,G){this.decay_=l;this.minVelocity_=u;this.delay_=G;this.points_=[];this.initialVelocity_=this.angle_=0}m.prototype.begin=function(){this.initialVelocity_=this.angle_=this.points_.length=0};m.prototype.update=function(l,u){this.points_.push(l,u,Date.now())};m.prototype.end=function(){if(6>this.points_.length)return!1;var l=Date.now()-this.delay_,u=this.points_.length-
3;if(this.points_[u+2]<l)return!1;for(var G=u-3;0<G&&this.points_[G+2]>l;)G-=3;l=this.points_[u+2]-this.points_[G+2];if(l<1E3/60)return!1;var L=this.points_[u]-this.points_[G];u=this.points_[u+1]-this.points_[G+1];this.angle_=Math.atan2(u,L);this.initialVelocity_=Math.sqrt(L*L+u*u)/l;return this.initialVelocity_>this.minVelocity_};m.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_};m.prototype.getAngle=function(){return this.angle_};return m}();J["default"]=
Ia};
shadow$provide[183]=function(Ia,A,mb,J){function m(g){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"===typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};return m(g)}function l(){if("function"!==typeof WeakMap)return null;var g=new WeakMap;l=function(){return g};return g}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=J.Mode=void 0;var u=function(g){return g&&g.__esModule?g:{"default":g}}(A(88)),
G=function(g){if(g&&g.__esModule)return g;if(null===g||"object"!==m(g)&&"function"!==typeof g)return{"default":g};var d=l();if(d&&d.has(g))return d.get(g);var f={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor,e;for(e in g)if(Object.prototype.hasOwnProperty.call(g,e)){var n=a?Object.getOwnPropertyDescriptor(g,e):null;n&&(n.get||n.set)?Object.defineProperty(f,e,n):f[e]=g[e]}f["default"]=g;d&&d.set(g,f);return f}(A(170)),L=A(102),w=A(173),v=A(81),t=function(){var g=function(d,f){g=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])};return g(d,f)};return function(d,f){function a(){this.constructor=d}g(d,f);d.prototype=null===f?Object.create(f):(a.prototype=f.prototype,new a)}}(),k={TRACKPAD:"trackpad",WHEEL:"wheel"};J.Mode=k;Ia=function(g){function d(f){var a=f?f:{};f=g.call(this,a)||this;f.totalDelta_=0;f.lastDelta_=0;f.maxDelta_=void 0!==a.maxDelta?a.maxDelta:1;f.duration_=void 0!==
a.duration?a.duration:250;f.timeout_=void 0!==a.timeout?a.timeout:80;f.useAnchor_=void 0!==a.useAnchor?a.useAnchor:!0;f.constrainResolution_=void 0!==a.constrainResolution?a.constrainResolution:!1;var e=a.condition?a.condition:w.always;f.condition_=a.onFocusOnly?(0,w.all)(w.focusWithTabindex,e):e;f.lastAnchor_=null;f.startTime_=void 0;f.mode_=void 0;f.trackpadEventGap_=400;f.deltaPerZoom_=300;return f}t(d,g);d.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;this.getMap().getView().endInteraction(void 0,
this.lastDelta_?0<this.lastDelta_?1:-1:0,this.lastAnchor_)};d.prototype.handleEvent=function(f){if(!this.condition_(f)||f.type!==u["default"].WHEEL)return!0;var a=f.map,e=f.originalEvent;e.preventDefault();this.useAnchor_&&(this.lastAnchor_=f.coordinate);if(f.type==u["default"].WHEEL){var n=e.deltaY;L.FIREFOX&&e.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=L.DEVICE_PIXEL_RATIO);e.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)}if(0===n)return!1;this.lastDelta_=n;f=Date.now();void 0===this.startTime_&&
(this.startTime_=f);if(!this.mode_||f-this.startTime_>this.trackpadEventGap_)this.mode_=4>Math.abs(n)?k.TRACKPAD:k.WHEEL;e=a.getView();if(this.mode_===k.TRACKPAD&&!e.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(e.getAnimating()&&e.cancelAnimations(),e.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),e.adjustZoom(-n/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=
f,!1;this.totalDelta_+=n;n=Math.max(this.timeout_-(f-this.startTime_),0);clearTimeout(this.timeoutId_);this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,a),n);return!1};d.prototype.handleWheelZoom_=function(f){f=f.getView();f.getAnimating()&&f.cancelAnimations();var a=-(0,v.clamp)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;if(f.getConstrainResolution()||this.constrainResolution_)a=a?0<a?1:-1:0;(0,G.zoomByDelta)(f,a,this.lastAnchor_,
this.duration_);this.mode_=void 0;this.totalDelta_=0;this.lastAnchor_=null;this.timeoutId_=this.startTime_=void 0};d.prototype.setMouseAnchor=function(f){this.useAnchor_=f;f||(this.lastAnchor_=null)};return d}(G["default"]);J["default"]=Ia};
shadow$provide[184]=function(Ia,A,mb,J){function m(v){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return m(v)}function l(){if("function"!==typeof WeakMap)return null;var v=new WeakMap;l=function(){return v};return v}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var u=function(v){if(v&&v.__esModule)return v;if(null===
v||"object"!==m(v)&&"function"!==typeof v)return{"default":v};var t=l();if(t&&t.has(v))return t.get(v);var k={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor,d;for(d in v)if(Object.prototype.hasOwnProperty.call(v,d)){var f=g?Object.getOwnPropertyDescriptor(v,d):null;f&&(f.get||f.set)?Object.defineProperty(k,d,f):k[d]=v[d]}k["default"]=v;t&&t.set(v,k);return k}(A(172)),G=A(73),L=A(133),w=function(){var v=function(t,k){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=
d}||function(g,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(g[f]=d[f])};return v(t,k)};return function(t,k){function g(){this.constructor=t}v(t,k);t.prototype=null===k?Object.create(k):(g.prototype=k.prototype,new g)}}();Ia=function(v){function t(k){var g=k?k:{};g.stopDown||(g.stopDown=G.FALSE);k=v.call(this,g)||this;k.anchor_=null;k.lastAngle_=void 0;k.rotating_=!1;k.rotationDelta_=0;k.threshold_=void 0!==g.threshold?g.threshold:.3;k.duration_=void 0!==g.duration?g.duration:250;
return k}w(t,v);t.prototype.handleDragEvent=function(k){var g=0,d=this.targetPointers[0],f=this.targetPointers[1];d=Math.atan2(f.clientY-d.clientY,f.clientX-d.clientX);void 0!==this.lastAngle_&&(g=d-this.lastAngle_,this.rotationDelta_+=g,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0));this.lastAngle_=d;k=k.map;d=k.getView();if(d.getConstraints().rotation!==L.disable){f=k.getViewport().getBoundingClientRect();var a=(0,u.centroid)(this.targetPointers);a[0]-=f.left;
a[1]-=f.top;this.anchor_=k.getCoordinateFromPixelInternal(a);this.rotating_&&(k.render(),d.adjustRotationInternal(g,this.anchor_))}};t.prototype.handleUpEvent=function(k){return 2>this.targetPointers.length?(k.map.getView().endInteraction(this.duration_),!1):!0};t.prototype.handleDownEvent=function(k){return 2<=this.targetPointers.length?(k=k.map,this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||k.getView().beginInteraction(),!0):!1};return t}(u["default"]);
J["default"]=Ia};
shadow$provide[185]=function(Ia,A,mb,J){function m(w){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"===typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v};return m(w)}function l(){if("function"!==typeof WeakMap)return null;var w=new WeakMap;l=function(){return w};return w}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var u=function(w){if(w&&w.__esModule)return w;if(null===
w||"object"!==m(w)&&"function"!==typeof w)return{"default":w};var v=l();if(v&&v.has(w))return v.get(w);var t={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor,g;for(g in w)if(Object.prototype.hasOwnProperty.call(w,g)){var d=k?Object.getOwnPropertyDescriptor(w,g):null;d&&(d.get||d.set)?Object.defineProperty(t,g,d):t[g]=w[g]}t["default"]=w;v&&v.set(w,t);return t}(A(172)),G=A(73),L=function(){var w=function(v,t){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,g){k.__proto__=
g}||function(k,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(k[d]=g[d])};return w(v,t)};return function(v,t){function k(){this.constructor=v}w(v,t);v.prototype=null===t?Object.create(t):(k.prototype=t.prototype,new k)}}();Ia=function(w){function v(t){var k=t?t:{};k.stopDown||(k.stopDown=G.FALSE);t=w.call(this,k)||this;t.anchor_=null;t.duration_=void 0!==k.duration?k.duration:400;t.lastDistance_=void 0;t.lastScaleDelta_=1;return t}L(v,w);v.prototype.handleDragEvent=function(t){var k=
1,g=this.targetPointers[0],d=this.targetPointers[1],f=g.clientX-d.clientX;g=g.clientY-d.clientY;f=Math.sqrt(f*f+g*g);void 0!==this.lastDistance_&&(k=this.lastDistance_/f);this.lastDistance_=f;t=t.map;f=t.getView();1!=k&&(this.lastScaleDelta_=k);g=t.getViewport().getBoundingClientRect();d=(0,u.centroid)(this.targetPointers);d[0]-=g.left;d[1]-=g.top;this.anchor_=t.getCoordinateFromPixelInternal(d);t.render();f.adjustResolutionInternal(k,this.anchor_)};v.prototype.handleUpEvent=function(t){return 2>
this.targetPointers.length?(t.map.getView().endInteraction(this.duration_,1<this.lastScaleDelta_?1:-1),!1):!0};v.prototype.handleDownEvent=function(t){return 2<=this.targetPointers.length?(t=t.map,this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0):!1};return v}(u["default"]);J["default"]=Ia};
shadow$provide[186]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"}};
shadow$provide[187]=function(Ia,A,mb,J){function m(k){return k&&k.__esModule?k:{"default":k}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=J.DragAndDropEvent=void 0;Ia=m(A(84));var l=m(A(88)),u=m(A(186));mb=m(A(170));var G=A(73),L=A(130),w=A(89),v=function(){var k=function(g,d){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(f[e]=a[e])};return k(g,d)};return function(g,d){function f(){this.constructor=
g}k(g,d);g.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)}}(),t=function(k){function g(d,f,a,e){d=k.call(this,d)||this;d.features=a;d.file=f;d.projection=e;return d}v(g,k);return g}(Ia["default"]);J.DragAndDropEvent=t;A=function(k){function g(d){var f=d?d:{};d=k.call(this,{handleEvent:G.TRUE})||this;d.readAsBuffer_=!1;d.formats_=[];for(var a=f.formatConstructors?f.formatConstructors:[],e=0,n=a.length;e<n;++e){var x=a[e];"function"===typeof x&&(x=new x);d.formats_.push(x);d.readAsBuffer_=
d.readAsBuffer_||x.getType()===u["default"].ARRAY_BUFFER}d.projection_=f.projection?(0,L.get)(f.projection):null;d.dropListenKeys_=null;d.source_=f.source||null;d.target=f.target?f.target:null;return d}v(g,k);g.prototype.handleResult_=function(d,f){f=f.target.result;var a=this.getMap(),e=this.projection_;e||(e=a.getView().getProjection());var n;a=this.formats_;for(var x=0,z=a.length;x<z;++x){var B=a[x],M=f;this.readAsBuffer_&&B.getType()!==u["default"].ARRAY_BUFFER&&(void 0===n&&(n=(new TextDecoder).decode(f)),
M=n);if((B=this.tryReadFeatures_(B,M,{featureProjection:e}))&&0<B.length){this.source_&&(this.source_.clear(),this.source_.addFeatures(B));this.dispatchEvent(new t("addfeatures",d,B,e));break}}};g.prototype.registerListeners_=function(){var d=this.getMap();d&&(d=this.target?this.target:d.getViewport(),this.dropListenKeys_=[(0,w.listen)(d,l["default"].DROP,this.handleDrop,this),(0,w.listen)(d,l["default"].DRAGENTER,this.handleStop,this),(0,w.listen)(d,l["default"].DRAGOVER,this.handleStop,this),(0,
w.listen)(d,l["default"].DROP,this.handleStop,this)])};g.prototype.setActive=function(d){!this.getActive()&&d&&this.registerListeners_();this.getActive()&&!d&&this.unregisterListeners_();k.prototype.setActive.call(this,d)};g.prototype.setMap=function(d){this.unregisterListeners_();k.prototype.setMap.call(this,d);this.getActive()&&this.registerListeners_()};g.prototype.tryReadFeatures_=function(d,f,a){try{return d.readFeatures(f,a)}catch(e){return null}};g.prototype.unregisterListeners_=function(){this.dropListenKeys_&&
(this.dropListenKeys_.forEach(w.unlistenByKey),this.dropListenKeys_=null)};g.prototype.handleDrop=function(d){d=d.dataTransfer.files;for(var f=0,a=d.length;f<a;++f){var e=d.item(f),n=new FileReader;n.addEventListener(l["default"].LOAD,this.handleResult_.bind(this,e));this.readAsBuffer_?n.readAsArrayBuffer(e):n.readAsText(e)}};g.prototype.handleStop=function(d){d.stopPropagation();d.preventDefault();d.dataTransfer.dropEffect="copy"};return g}(mb["default"]);J["default"]=A};
shadow$provide[188]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=function(u){return u&&u.__esModule?u:{"default":u}}(A(172));var m=A(173),l=function(){var u=function(G,L){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,v){w.__proto__=v}||function(w,v){for(var t in v)Object.prototype.hasOwnProperty.call(v,t)&&(w[t]=v[t])};return u(G,L)};return function(G,L){function w(){this.constructor=G}u(G,L);G.prototype=null===L?Object.create(L):
(w.prototype=L.prototype,new w)}}();A=function(u){function G(L){var w=L?L:{};L=u.call(this,w)||this;L.condition_=w.condition?w.condition:m.shiftKeyOnly;L.lastAngle_=void 0;L.lastMagnitude_=void 0;L.lastScaleDelta_=0;L.duration_=void 0!==w.duration?w.duration:400;return L}l(G,u);G.prototype.handleDragEvent=function(L){if((0,m.mouseOnly)(L)){var w=L.map,v=w.getSize(),t=L.pixel;L=t[0]-v[0]/2;t=v[1]/2-t[1];v=Math.atan2(t,L);L=Math.sqrt(L*L+t*t);w=w.getView();void 0!==this.lastAngle_&&w.adjustRotationInternal(this.lastAngle_-
v);this.lastAngle_=v;void 0!==this.lastMagnitude_&&w.adjustResolutionInternal(this.lastMagnitude_/L);void 0!==this.lastMagnitude_&&(this.lastScaleDelta_=this.lastMagnitude_/L);this.lastMagnitude_=L}};G.prototype.handleUpEvent=function(L){if(!(0,m.mouseOnly)(L))return!0;L.map.getView().endInteraction(this.duration_,1<this.lastScaleDelta_?1:-1);this.lastScaleDelta_=0;return!1};G.prototype.handleDownEvent=function(L){return(0,m.mouseOnly)(L)&&this.condition_(L)?(L.map.getView().beginInteraction(),this.lastMagnitude_=
this.lastAngle_=void 0,!0):!1};return G}(Ia["default"]);J["default"]=A};
shadow$provide[189]=function(Ia,A,mb,J){function m(v){return v&&v.__esModule?v:{"default":v}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(A(119));Ia=m(A(138));var u=A(80),G=A(140),L=A(136),w=function(){var v=function(t,k){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(g[f]=d[f])};return v(t,k)};return function(t,k){function g(){this.constructor=t}v(t,k);
t.prototype=null===k?Object.create(k):(g.prototype=k.prototype,new g)}}();A=function(v){function t(k,g,d){var f=v.call(this)||this;void 0!==d&&void 0===g?f.setFlatCoordinates(d,k):f.setCenterAndRadius(k,g?g:0,d);return f}w(t,v);t.prototype.clone=function(){var k=new t(this.flatCoordinates.slice(),void 0,this.layout);k.applyProperties(this);return k};t.prototype.closestPointXY=function(k,g,d,f){var a=this.flatCoordinates;k-=a[0];var e=g-a[1];g=k*k+e*e;if(g<f){0===g?f=0:(f=this.getRadius()/Math.sqrt(g),
d[0]=a[0]+f*k,d[1]=a[1]+f*e,f=2);for(;f<this.stride;++f)d[f]=a[f];d.length=this.stride;return g}return f};t.prototype.containsXY=function(k,g){var d=this.flatCoordinates;k-=d[0];g-=d[1];return k*k+g*g<=this.getRadiusSquared_()};t.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)};t.prototype.computeExtent=function(k){var g=this.flatCoordinates,d=g[this.stride]-g[0];return(0,u.createOrUpdate)(g[0]-d,g[1]-d,g[0]+d,g[1]+d,k)};t.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())};
t.prototype.getRadiusSquared_=function(){var k=this.flatCoordinates[this.stride]-this.flatCoordinates[0],g=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return k*k+g*g};t.prototype.getType=function(){return l["default"].CIRCLE};t.prototype.intersectsExtent=function(k){var g=this.getExtent();return(0,u.intersects)(k,g)?(g=this.getCenter(),k[0]<=g[0]&&k[2]>=g[0]||k[1]<=g[1]&&k[3]>=g[1]?!0:(0,u.forEachCorner)(k,this.intersectsCoordinate.bind(this))):!1};t.prototype.setCenter=function(k){var g=
this.stride,d=this.flatCoordinates[g]-this.flatCoordinates[0],f=k.slice();f[g]=f[0]+d;for(d=1;d<g;++d)f[g+d]=k[d];this.setFlatCoordinates(this.layout,f);this.changed()};t.prototype.setCenterAndRadius=function(k,g,d){this.setLayout(d,k,0);this.flatCoordinates||(this.flatCoordinates=[]);d=this.flatCoordinates;k=(0,G.deflateCoordinate)(d,0,k,this.stride);d[k++]=d[0]+g;g=1;for(var f=this.stride;g<f;++g)d[k++]=d[g];d.length=k;this.changed()};t.prototype.getCoordinates=function(){return null};t.prototype.setCoordinates=
function(k,g){};t.prototype.setRadius=function(k){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+k;this.changed()};t.prototype.rotate=function(k,g){var d=this.getCenter(),f=this.getStride();this.setCenter((0,L.rotate)(d,0,d.length,f,k,g,d));this.changed()};t.prototype.translate=function(k,g){var d=this.getCenter(),f=this.getStride();this.setCenter((0,L.translate)(d,0,d.length,f,k,g,d));this.changed()};return t}(Ia["default"]);J["default"]=A};
shadow$provide[190]=function(Ia,A,mb,J){function m(k){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"===typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g};return m(k)}function l(){if("function"!==typeof WeakMap)return null;var k=new WeakMap;l=function(){return k};return k}function u(k){if("function"===typeof k)return k;if(Array.isArray(k))var g=k;else(0,w.assert)("function"===typeof k.getZIndex,
41),g=[k];return function(){return g}}Object.defineProperty(J,"__esModule",{value:!0});J.createStyleFunction=u;J["default"]=void 0;var G=function(k){if(k&&k.__esModule)return k;if(null===k||"object"!==m(k)&&"function"!==typeof k)return{"default":k};var g=l();if(g&&g.has(k))return g.get(k);var d={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor,a;for(a in k)if(Object.prototype.hasOwnProperty.call(k,a)){var e=f?Object.getOwnPropertyDescriptor(k,a):null;e&&(e.get||e.set)?Object.defineProperty(d,
a,e):d[a]=k[a]}d["default"]=k;g&&g.set(k,d);return d}(A(91)),L=function(k){return k&&k.__esModule?k:{"default":k}}(A(88)),w=A(76),v=A(89),t=function(){var k=function(g,d){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(f[e]=a[e])};return k(g,d)};return function(g,d){function f(){this.constructor=g}k(g,d);g.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)}}();Ia=function(k){function g(d){var f=
k.call(this)||this;f.id_=void 0;f.geometryName_="geometry";f.style_=null;f.styleFunction_=void 0;f.geometryChangeKey_=null;f.addEventListener((0,G.getChangeEventType)(f.geometryName_),f.handleGeometryChanged_);d&&("function"===typeof d.getSimplifiedGeometry?f.setGeometry(d):f.setProperties(d));return f}t(g,k);g.prototype.clone=function(){var d=new g(this.hasProperties()?this.getProperties():null);d.setGeometryName(this.getGeometryName());var f=this.getGeometry();f&&d.setGeometry(f.clone());(f=this.getStyle())&&
d.setStyle(f);return d};g.prototype.getGeometry=function(){return this.get(this.geometryName_)};g.prototype.getId=function(){return this.id_};g.prototype.getGeometryName=function(){return this.geometryName_};g.prototype.getStyle=function(){return this.style_};g.prototype.getStyleFunction=function(){return this.styleFunction_};g.prototype.handleGeometryChange_=function(){this.changed()};g.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&((0,v.unlistenByKey)(this.geometryChangeKey_),
this.geometryChangeKey_=null);var d=this.getGeometry();d&&(this.geometryChangeKey_=(0,v.listen)(d,L["default"].CHANGE,this.handleGeometryChange_,this));this.changed()};g.prototype.setGeometry=function(d){this.set(this.geometryName_,d)};g.prototype.setStyle=function(d){this.styleFunction_=(this.style_=d)?u(d):void 0;this.changed()};g.prototype.setId=function(d){this.id_=d;this.changed()};g.prototype.setGeometryName=function(d){this.removeEventListener((0,G.getChangeEventType)(this.geometryName_),this.handleGeometryChanged_);
this.geometryName_=d;this.addEventListener((0,G.getChangeEventType)(this.geometryName_),this.handleGeometryChanged_);this.handleGeometryChanged_()};return g}(G["default"]);J["default"]=Ia};
shadow$provide[191]=function(Ia,A,mb,J){function m(G,L,w,v,t,k){if(w==L)return null;if(t<G[L+v-1])return k?(w=G.slice(L,L+v),w[v-1]=t,w):null;if(G[w-1]<t)return k?(w=G.slice(w-v,w),w[v-1]=t,w):null;if(t==G[L+v-1])return G.slice(L,L+v);L/=v;for(w/=v;L<w;)k=L+w>>1,t<G[(k+1)*v-1]?w=k:L=k+1;w=G[L*v-1];if(t==w)return G.slice((L-1)*v,(L-1)*v+v);k=(t-w)/(G[(L+1)*v-1]-w);w=[];for(var g=0;g<v-1;++g)w.push((0,u.lerp)(G[(L-1)*v+g],G[L*v+g],k));w.push(t);return w}Object.defineProperty(J,"__esModule",{value:!0});
J.interpolatePoint=function(G,L,w,v,t,k,g){var d=(w-L)/v;if(1===d)var f=L;else if(2===d){f=L;var a=t}else if(0!==d){var e=G[L],n=G[L+1],x=0;f=[0];for(d=L+v;d<w;d+=v){var z=G[d],B=G[d+1];x+=Math.sqrt((z-e)*(z-e)+(B-n)*(B-n));f.push(x);e=z;n=B}d=t*x;w=(0,l.binarySearch)(f,d);0>w?(a=(d-f[-w-2])/(f[-w-1]-f[-w-2]),f=L+(-w-2)*v):f=L+w*v}L=1<g?g:2;k=k?k:Array(L);for(d=0;d<L;++d)k[d]=void 0===f?NaN:void 0===a?G[f+d]:(0,u.lerp)(G[f+d],G[f+v+d],a);return k};J.lineStringCoordinateAtM=m;J.lineStringsCoordinateAtM=
function(G,L,w,v,t,k,g){if(g)return m(G,L,w[w.length-1],v,t,k);if(t<G[v-1])return k?(G=G.slice(0,v),G[v-1]=t,G):null;if(G[G.length-1]<t)return k?(G=G.slice(G.length-v),G[v-1]=t,G):null;k=0;for(g=w.length;k<g;++k){var d=w[k];if(L!=d){if(t<G[L+v-1])break;else if(t<=G[d-1])return m(G,L,d,v,t,!1);L=d}}return null};var l=A(72),u=A(81)};
shadow$provide[192]=function(Ia,A,mb,J){function m(l,u,G,L){var w=l[u],v=l[u+1],t=0;for(u+=L;u<G;u+=L){var k=l[u],g=l[u+1];t+=Math.sqrt((k-w)*(k-w)+(g-v)*(g-v));w=k;v=g}return t}Object.defineProperty(J,"__esModule",{value:!0});J.lineStringLength=m;J.linearRingLength=function(l,u,G,L){var w=m(l,u,G,L),v=l[G-L]-l[u];l=l[G-L+1]-l[u+1];return w+=Math.sqrt(v*v+l*l)}};
shadow$provide[193]=function(Ia,A,mb,J){function m(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(A(135)),u=m(A(119));Ia=m(A(138));var G=A(139),L=A(80),w=A(140),v=A(141),t=A(72),k=A(148),g=A(142),d=A(191),f=A(149),a=A(192),e=function(){var n=function(x,z){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,M){B.__proto__=M}||function(B,M){for(var K in M)Object.prototype.hasOwnProperty.call(M,K)&&(B[K]=M[K])};return n(x,
z)};return function(x,z){function B(){this.constructor=x}n(x,z);x.prototype=null===z?Object.create(z):(B.prototype=z.prototype,new B)}}();A=function(n){function x(z,B){var M=n.call(this)||this;M.flatMidpoint_=null;M.flatMidpointRevision_=-1;M.maxDelta_=-1;M.maxDeltaRevision_=-1;void 0===B||Array.isArray(z[0])?M.setCoordinates(z,B):M.setFlatCoordinates(B,z);return M}e(x,n);x.prototype.appendCoordinate=function(z){this.flatCoordinates?(0,t.extend)(this.flatCoordinates,z):this.flatCoordinates=z.slice();
this.changed()};x.prototype.clone=function(){var z=new x(this.flatCoordinates.slice(),this.layout);z.applyProperties(this);return z};x.prototype.closestPointXY=function(z,B,M,K){if(K<(0,L.closestSquaredDistanceXY)(this.getExtent(),z,B))return K;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,G.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,G.assignClosestPoint)(this.flatCoordinates,0,
this.flatCoordinates.length,this.stride,this.maxDelta_,!1,z,B,M,K)};x.prototype.forEachSegment=function(z){return(0,k.forEach)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,z)};x.prototype.getCoordinateAtM=function(z,B){if(this.layout!=l["default"].XYM&&this.layout!=l["default"].XYZM)return null;B=void 0!==B?B:!1;return(0,d.lineStringCoordinateAtM)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,z,B)};x.prototype.getCoordinates=function(){return(0,g.inflateCoordinates)(this.flatCoordinates,
0,this.flatCoordinates.length,this.stride)};x.prototype.getCoordinateAt=function(z,B){return(0,d.interpolatePoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,z,B,this.stride)};x.prototype.getLength=function(){return(0,a.lineStringLength)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};x.prototype.getFlatMidpoint=function(){this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=
this.getRevision());return this.flatMidpoint_};x.prototype.getSimplifiedGeometryInternal=function(z){var B=[];B.length=(0,v.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,z,B,0);return new x(B,l["default"].XY)};x.prototype.getType=function(){return u["default"].LINE_STRING};x.prototype.intersectsExtent=function(z){return(0,f.intersectsLineString)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,z)};x.prototype.setCoordinates=function(z,B){this.setLayout(B,
z,1);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,w.deflateCoordinates)(this.flatCoordinates,0,z,this.stride);this.changed()};return x}(Ia["default"]);J["default"]=A};
shadow$provide[194]=function(Ia,A,mb,J){function m(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(A(135)),u=m(A(119)),G=m(A(193));Ia=m(A(138));var L=A(139),w=A(80),v=A(140),t=A(141),k=A(72),g=A(142),d=A(191),f=A(149),a=function(){var e=function(n,x){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,B){z.__proto__=B}||function(z,B){for(var M in B)Object.prototype.hasOwnProperty.call(B,M)&&(z[M]=B[M])};return e(n,
x)};return function(n,x){function z(){this.constructor=n}e(n,x);n.prototype=null===x?Object.create(x):(z.prototype=x.prototype,new z)}}();A=function(e){function n(x,z,B){var M=e.call(this)||this;M.ends_=[];M.maxDelta_=-1;M.maxDeltaRevision_=-1;if(Array.isArray(x[0]))M.setCoordinates(x,z);else if(void 0!==z&&B)M.setFlatCoordinates(z,x),M.ends_=B;else{z=M.getLayout();B=[];for(var K=[],D=0,y=x.length;D<y;++D){var E=x[D];0===D&&(z=E.getLayout());(0,k.extend)(B,E.getFlatCoordinates());K.push(B.length)}M.setFlatCoordinates(z,
B);M.ends_=K}return M}a(n,e);n.prototype.appendLineString=function(x){this.flatCoordinates?(0,k.extend)(this.flatCoordinates,x.getFlatCoordinates().slice()):this.flatCoordinates=x.getFlatCoordinates().slice();this.ends_.push(this.flatCoordinates.length);this.changed()};n.prototype.clone=function(){var x=new n(this.flatCoordinates.slice(),this.layout,this.ends_.slice());x.applyProperties(this);return x};n.prototype.closestPointXY=function(x,z,B,M){if(M<(0,w.closestSquaredDistanceXY)(this.getExtent(),
x,z))return M;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,L.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,L.assignClosestArrayPoint)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,x,z,B,M)};n.prototype.getCoordinateAtM=function(x,z,B){if(this.layout!=l["default"].XYM&&this.layout!=l["default"].XYZM||0===this.flatCoordinates.length)return null;z=void 0!==z?z:!1;B=void 0!==B?B:
!1;return(0,d.lineStringsCoordinateAtM)(this.flatCoordinates,0,this.ends_,this.stride,x,z,B)};n.prototype.getCoordinates=function(){return(0,g.inflateCoordinatesArray)(this.flatCoordinates,0,this.ends_,this.stride)};n.prototype.getEnds=function(){return this.ends_};n.prototype.getLineString=function(x){return 0>x||this.ends_.length<=x?null:new G["default"](this.flatCoordinates.slice(0===x?0:this.ends_[x-1],this.ends_[x]),this.layout)};n.prototype.getLineStrings=function(){for(var x=this.flatCoordinates,
z=this.ends_,B=this.layout,M=[],K=0,D=0,y=z.length;D<y;++D){var E=z[D];K=new G["default"](x.slice(K,E),B);M.push(K);K=E}return M};n.prototype.getFlatMidpoints=function(){for(var x=[],z=this.flatCoordinates,B=0,M=this.ends_,K=this.stride,D=0,y=M.length;D<y;++D){var E=M[D];B=(0,d.interpolatePoint)(z,B,E,K,.5);(0,k.extend)(x,B);B=E}return x};n.prototype.getSimplifiedGeometryInternal=function(x){var z=[],B=[];z.length=(0,t.douglasPeuckerArray)(this.flatCoordinates,0,this.ends_,this.stride,x,z,0,B);return new n(z,
l["default"].XY,B)};n.prototype.getType=function(){return u["default"].MULTI_LINE_STRING};n.prototype.intersectsExtent=function(x){return(0,f.intersectsLineStringArray)(this.flatCoordinates,0,this.ends_,this.stride,x)};n.prototype.setCoordinates=function(x,z){this.setLayout(z,x,2);this.flatCoordinates||(this.flatCoordinates=[]);x=(0,v.deflateCoordinatesArray)(this.flatCoordinates,0,x,this.stride,this.ends_);this.flatCoordinates.length=0===x.length?0:x[x.length-1];this.changed()};return n}(Ia["default"]);
J["default"]=A};
shadow$provide[195]=function(Ia,A,mb,J){function m(g){return g&&g.__esModule?g:{"default":g}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(A(119)),u=m(A(145));Ia=m(A(138));var G=A(80),L=A(140),w=A(72),v=A(142),t=A(81),k=function(){var g=function(d,f){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])};return g(d,f)};return function(d,f){function a(){this.constructor=
d}g(d,f);d.prototype=null===f?Object.create(f):(a.prototype=f.prototype,new a)}}();A=function(g){function d(f,a){var e=g.call(this)||this;a&&!Array.isArray(f[0])?e.setFlatCoordinates(a,f):e.setCoordinates(f,a);return e}k(d,g);d.prototype.appendPoint=function(f){this.flatCoordinates?(0,w.extend)(this.flatCoordinates,f.getFlatCoordinates()):this.flatCoordinates=f.getFlatCoordinates().slice();this.changed()};d.prototype.clone=function(){var f=new d(this.flatCoordinates.slice(),this.layout);f.applyProperties(this);
return f};d.prototype.closestPointXY=function(f,a,e,n){if(n<(0,G.closestSquaredDistanceXY)(this.getExtent(),f,a))return n;for(var x=this.flatCoordinates,z=this.stride,B=0,M=x.length;B<M;B+=z){var K=(0,t.squaredDistance)(f,a,x[B],x[B+1]);if(K<n){n=K;for(K=0;K<z;++K)e[K]=x[B+K];e.length=z}}return n};d.prototype.getCoordinates=function(){return(0,v.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};d.prototype.getPoint=function(f){var a=this.flatCoordinates?this.flatCoordinates.length/
this.stride:0;return 0>f||a<=f?null:new u["default"](this.flatCoordinates.slice(f*this.stride,(f+1)*this.stride),this.layout)};d.prototype.getPoints=function(){for(var f=this.flatCoordinates,a=this.layout,e=this.stride,n=[],x=0,z=f.length;x<z;x+=e){var B=new u["default"](f.slice(x,x+e),a);n.push(B)}return n};d.prototype.getType=function(){return l["default"].MULTI_POINT};d.prototype.intersectsExtent=function(f){for(var a=this.flatCoordinates,e=this.stride,n=0,x=a.length;n<x;n+=e){var z=a[n],B=a[n+
1];if((0,G.containsXY)(f,z,B))return!0}return!1};d.prototype.setCoordinates=function(f,a){this.setLayout(a,f,1);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,L.deflateCoordinates)(this.flatCoordinates,0,f,this.stride);this.changed()};return d}(Ia["default"]);J["default"]=A};
shadow$provide[196]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J.linearRingss=function(l,u,G,L){var w=[];(0,m.createEmpty)();for(var v=0,t=G.length;v<t;++v){var k=G[v];u=(0,m.createOrUpdateFromFlatCoordinates)(l,u,k[0],L);w.push((u[0]+u[2])/2,(u[1]+u[3])/2);u=k[k.length-1]}return w};var m=A(80)};
shadow$provide[197]=function(Ia,A,mb,J){function m(M){return M&&M.__esModule?M:{"default":M}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(A(135)),u=m(A(119)),G=m(A(195)),L=m(A(152));Ia=m(A(138));var w=A(139),v=A(80),t=A(140),k=A(72),g=A(147),d=A(142),f=A(149),a=A(151),e=A(143),n=A(196),x=A(146),z=A(141),B=function(){var M=function(K,D){M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,E){y.__proto__=E}||function(y,E){for(var H in E)Object.prototype.hasOwnProperty.call(E,
H)&&(y[H]=E[H])};return M(K,D)};return function(K,D){function y(){this.constructor=K}M(K,D);K.prototype=null===D?Object.create(D):(y.prototype=D.prototype,new y)}}();A=function(M){function K(D,y,E){var H=M.call(this)||this;H.endss_=[];H.flatInteriorPointsRevision_=-1;H.flatInteriorPoints_=null;H.maxDelta_=-1;H.maxDeltaRevision_=-1;H.orientedRevision_=-1;H.orientedFlatCoordinates_=null;if(!E&&!Array.isArray(D[0])){y=H.getLayout();var Q=D;D=[];E=[];for(var S=0,ea=Q.length;S<ea;++S){var ba=Q[S];0===
S&&(y=ba.getLayout());for(var fa=D.length,ia=ba.getEnds(),ca=0,N=ia.length;ca<N;++ca)ia[ca]+=fa;(0,k.extend)(D,ba.getFlatCoordinates());E.push(ia)}}void 0!==y&&E?(H.setFlatCoordinates(y,D),H.endss_=E):H.setCoordinates(D,y);return H}B(K,M);K.prototype.appendPolygon=function(D){if(this.flatCoordinates){var y=this.flatCoordinates.length;(0,k.extend)(this.flatCoordinates,D.getFlatCoordinates());D=D.getEnds().slice();for(var E=0,H=D.length;E<H;++E)D[E]+=y}else this.flatCoordinates=D.getFlatCoordinates().slice(),
D=D.getEnds().slice(),this.endss_.push();this.endss_.push(D);this.changed()};K.prototype.clone=function(){for(var D=this.endss_.length,y=Array(D),E=0;E<D;++E)y[E]=this.endss_[E].slice();D=new K(this.flatCoordinates.slice(),this.layout,y);D.applyProperties(this);return D};K.prototype.closestPointXY=function(D,y,E,H){if(H<(0,v.closestSquaredDistanceXY)(this.getExtent(),D,y))return H;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,w.multiArrayMaxSquaredDelta)(this.flatCoordinates,
0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,w.assignClosestMultiArrayPoint)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,D,y,E,H)};K.prototype.containsXY=function(D,y){return(0,x.linearRingssContainsXY)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,D,y)};K.prototype.getArea=function(){return(0,e.linearRingss)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)};K.prototype.getCoordinates=function(D){if(void 0!==
D){var y=this.getOrientedFlatCoordinates().slice();(0,a.orientLinearRingsArray)(y,0,this.endss_,this.stride,D)}else y=this.flatCoordinates;return(0,d.inflateMultiCoordinatesArray)(y,0,this.endss_,this.stride)};K.prototype.getEndss=function(){return this.endss_};K.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var D=(0,n.linearRingss)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=(0,g.getInteriorPointsOfMultiArray)(this.getOrientedFlatCoordinates(),
0,this.endss_,this.stride,D);this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_};K.prototype.getInteriorPoints=function(){return new G["default"](this.getFlatInteriorPoints().slice(),l["default"].XYM)};K.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var D=this.flatCoordinates;(0,a.linearRingssAreOriented)(D,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=D:(this.orientedFlatCoordinates_=D.slice(),this.orientedFlatCoordinates_.length=
(0,a.orientLinearRingsArray)(this.orientedFlatCoordinates_,0,this.endss_,this.stride));this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_};K.prototype.getSimplifiedGeometryInternal=function(D){var y=[],E=[];y.length=(0,z.quantizeMultiArray)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(D),y,0,E);return new K(y,l["default"].XY,E)};K.prototype.getPolygon=function(D){if(0>D||this.endss_.length<=D)return null;if(0===D)var y=0;else y=this.endss_[D-1],y=y[y.length-
1];D=this.endss_[D].slice();var E=D[D.length-1];if(0!==y)for(var H=0,Q=D.length;H<Q;++H)D[H]-=y;return new L["default"](this.flatCoordinates.slice(y,E),this.layout,D)};K.prototype.getPolygons=function(){for(var D=this.layout,y=this.flatCoordinates,E=this.endss_,H=[],Q=0,S=0,ea=E.length;S<ea;++S){var ba=E[S].slice(),fa=ba[ba.length-1];if(0!==Q)for(var ia=0,ca=ba.length;ia<ca;++ia)ba[ia]-=Q;Q=new L["default"](y.slice(Q,fa),D,ba);H.push(Q);Q=fa}return H};K.prototype.getType=function(){return u["default"].MULTI_POLYGON};
K.prototype.intersectsExtent=function(D){return(0,f.intersectsLinearRingMultiArray)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,D)};K.prototype.setCoordinates=function(D,y){this.setLayout(y,D,3);this.flatCoordinates||(this.flatCoordinates=[]);D=(0,t.deflateMultiCoordinatesArray)(this.flatCoordinates,0,D,this.stride,this.endss_);0===D.length?this.flatCoordinates.length=0:(D=D[D.length-1],this.flatCoordinates.length=0===D.length?0:D[D.length-1]);this.changed()};return K}(Ia["default"]);
J["default"]=A};
shadow$provide[198]=function(Ia,A,mb,J){!function(m,l){"object"==typeof J&&"undefined"!=typeof mb?mb.exports=l():"function"==typeof define&&define.amd?define(l):(m=m||self).RBush=l()}(this,function(){function m(x,z,B,M,K){!function ea(y,E,H,Q,S){for(;Q>H;){if(600<Q-H){var ba=Q-H+1,fa=E-H+1,ia=Math.log(ba),ca=.5*Math.exp(2*ia/3);ia=.5*Math.sqrt(ia*ca*(ba-ca)/ba)*(0>fa-ba/2?-1:1);ea(y,E,Math.max(H,Math.floor(E-fa*ca/ba+ia)),Math.min(Q,Math.floor(E+(ba-fa)*ca/ba+ia)),S)}ba=y[E];fa=H;ca=Q;l(y,H,E);for(0<
S(y[Q],ba)&&l(y,H,Q);fa<ca;){l(y,fa,ca);fa++;for(ca--;0>S(y[fa],ba);)fa++;for(;0<S(y[ca],ba);)ca--}0===S(y[H],ba)?l(y,H,ca):l(y,++ca,Q);ca<=E&&(H=ca+1);E<=ca&&(Q=ca-1)}}(x,z,B||0,M||x.length-1,K||u)}function l(x,z,B){var M=x[z];x[z]=x[B];x[B]=M}function u(x,z){return x<z?-1:x>z?1:0}function G(x,z){L(x,0,x.children.length,z,x)}function L(x,z,B,M,K){K||(K=a(null));K.minX=1/0;K.minY=1/0;K.maxX=-1/0;for(K.maxY=-1/0;z<B;z++){var D=x.children[z];w(K,x.leaf?M(D):D)}return K}function w(x,z){return x.minX=
Math.min(x.minX,z.minX),x.minY=Math.min(x.minY,z.minY),x.maxX=Math.max(x.maxX,z.maxX),x.maxY=Math.max(x.maxY,z.maxY),x}function v(x,z){return x.minX-z.minX}function t(x,z){return x.minY-z.minY}function k(x){return(x.maxX-x.minX)*(x.maxY-x.minY)}function g(x){return x.maxX-x.minX+(x.maxY-x.minY)}function d(x,z){return x.minX<=z.minX&&x.minY<=z.minY&&z.maxX<=x.maxX&&z.maxY<=x.maxY}function f(x,z){return z.minX<=x.maxX&&z.minY<=x.maxY&&z.maxX>=x.minX&&z.maxY>=x.minY}function a(x){return{children:x,height:1,
leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function e(x,z,B,M,K){for(var D=[z,B];D.length;)if(!((B=D.pop())-(z=D.pop())<=M)){var y=z+Math.ceil((B-z)/M/2)*M;m(x,y,z,B,K);D.push(z,y,y,B)}}var n=function(x){void 0===x&&(x=9);this._maxEntries=Math.max(4,x);this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries));this.clear()};return n.prototype.all=function(){return this._all(this.data,[])},n.prototype.search=function(x){var z=this.data,B=[];if(!f(x,z))return B;for(var M=this.toBBox,K=[];z;){for(var D=
0;D<z.children.length;D++){var y=z.children[D],E=z.leaf?M(y):y;f(x,E)&&(z.leaf?B.push(y):d(x,E)?this._all(y,B):K.push(y))}z=K.pop()}return B},n.prototype.collides=function(x){var z=this.data;if(!f(x,z))return!1;for(var B=[];z;){for(var M=0;M<z.children.length;M++){var K=z.children[M],D=z.leaf?this.toBBox(K):K;if(f(x,D)){if(z.leaf||d(x,D))return!0;B.push(K)}}z=B.pop()}return!1},n.prototype.load=function(x){if(!x||!x.length)return this;if(x.length<this._minEntries){for(var z=0;z<x.length;z++)this.insert(x[z]);
return this}x=this._build(x.slice(),0,x.length-1,0);this.data.children.length?this.data.height===x.height?this._splitRoot(this.data,x):(this.data.height<x.height&&(z=this.data,this.data=x,x=z),this._insert(x,this.data.height-x.height-1,!0)):this.data=x;return this},n.prototype.insert=function(x){return x&&this._insert(x,this.data.height-1),this},n.prototype.clear=function(){return this.data=a([]),this},n.prototype.remove=function(x,z){if(!x)return this;for(var B,M,K,D=this.data,y=this.toBBox(x),E=
[],H=[];D||E.length;){if(D||(D=E.pop(),M=E[E.length-1],B=H.pop(),K=!0),D.leaf){a:{var Q=x;var S=D.children,ea=z;if(ea){for(var ba=0;ba<S.length;ba++)if(ea(Q,S[ba])){Q=ba;break a}Q=-1}else Q=S.indexOf(Q)}if(-1!==Q)return D.children.splice(Q,1),E.push(D),this._condense(E),this}K||D.leaf||!d(D,y)?M?(B++,D=M.children[B],K=!1):D=null:(E.push(D),H.push(B),B=0,M=D,D=D.children[0])}return this},n.prototype.toBBox=function(x){return x},n.prototype.compareMinX=function(x,z){return x.minX-z.minX},n.prototype.compareMinY=
function(x,z){return x.minY-z.minY},n.prototype.toJSON=function(){return this.data},n.prototype.fromJSON=function(x){return this.data=x,this},n.prototype._all=function(x,z){for(var B=[];x;)x.leaf?z.push.apply(z,x.children):B.push.apply(B,x.children),x=B.pop();return z},n.prototype._build=function(x,z,B,M){var K,D=B-z+1,y=this._maxEntries;if(D<=y)return G(K=a(x.slice(z,B+1)),this.toBBox),K;M||(M=Math.ceil(Math.log(D)/Math.log(y)),y=Math.ceil(D/Math.pow(y,M-1)));(K=a([])).leaf=!1;K.height=M;D=Math.ceil(D/
y);y=D*Math.ceil(Math.sqrt(y));for(e(x,z,B,y,this.compareMinX);z<=B;z+=y){var E=Math.min(z+y-1,B);e(x,z,E,D,this.compareMinY);for(var H=z;H<=E;H+=D)K.children.push(this._build(x,H,Math.min(H+D-1,E),M-1))}return G(K,this.toBBox),K},n.prototype._chooseSubtree=function(x,z,B,M){for(;M.push(z),!z.leaf&&M.length-1!==B;){for(var K=1/0,D=1/0,y=void 0,E=0;E<z.children.length;E++){var H=z.children[E],Q=k(H),S=(ea=x,ba=H,(Math.max(ba.maxX,ea.maxX)-Math.min(ba.minX,ea.minX))*(Math.max(ba.maxY,ea.maxY)-Math.min(ba.minY,
ea.minY))-Q);S<D?(D=S,K=Q<K?Q:K,y=H):S===D&&Q<K&&(K=Q,y=H)}z=y||z.children[0]}var ea,ba;return z},n.prototype._insert=function(x,z,B){B=B?x:this.toBBox(x);var M=[],K=this._chooseSubtree(B,this.data,z,M);K.children.push(x);for(w(K,B);0<=z&&M[z].children.length>this._maxEntries;)this._split(M,z),z--;this._adjustParentBBoxes(B,M,z)},n.prototype._split=function(x,z){var B=x[z],M=B.children.length,K=this._minEntries;this._chooseSplitAxis(B,K,M);M=this._chooseSplitIndex(B,K,M);M=a(B.children.splice(M,B.children.length-
M));M.height=B.height;M.leaf=B.leaf;G(B,this.toBBox);G(M,this.toBBox);z?x[z-1].children.push(M):this._splitRoot(B,M)},n.prototype._splitRoot=function(x,z){this.data=a([x,z]);this.data.height=x.height+1;this.data.leaf=!1;G(this.data,this.toBBox)},n.prototype._chooseSplitIndex=function(x,z,B){for(var M,K,D,y,E,H,Q,S=1/0,ea=1/0,ba=z;ba<=B-z;ba++){var fa=L(x,0,ba,this.toBBox),ia=L(x,ba,B,this.toBBox),ca=(K=fa,D=ia,y=void 0,E=void 0,H=void 0,Q=void 0,y=Math.max(K.minX,D.minX),E=Math.max(K.minY,D.minY),
H=Math.min(K.maxX,D.maxX),Q=Math.min(K.maxY,D.maxY),Math.max(0,H-y)*Math.max(0,Q-E));fa=k(fa)+k(ia);ca<S?(S=ca,M=ba,ea=fa<ea?fa:ea):ca===S&&fa<ea&&(ea=fa,M=ba)}return M||B-z},n.prototype._chooseSplitAxis=function(x,z,B){var M=x.leaf?this.compareMinX:v,K=x.leaf?this.compareMinY:t;this._allDistMargin(x,z,B,M)<this._allDistMargin(x,z,B,K)&&x.children.sort(M)},n.prototype._allDistMargin=function(x,z,B,M){x.children.sort(M);M=this.toBBox;for(var K=L(x,0,z,M),D=L(x,B-z,B,M),y=g(K)+g(D),E=z;E<B-z;E++){var H=
x.children[E];w(K,x.leaf?M(H):H);y+=g(K)}for(B=B-z-1;B>=z;B--)K=x.children[B],w(D,x.leaf?M(K):K),y+=g(D);return y},n.prototype._adjustParentBBoxes=function(x,z,B){for(;0<=B;B--)w(z[B],x)},n.prototype._condense=function(x){for(var z=x.length-1,B=void 0;0<=z;z--)0===x[z].children.length?0<z?(B=x[z-1].children).splice(B.indexOf(x[z]),1):this.clear():G(x[z],this.toBBox)},n})};
shadow$provide[199]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}};
shadow$provide[200]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var m=A(74),l=A(154);Ia=function(){function u(G){this.opacity_=G.opacity;this.rotateWithView_=G.rotateWithView;this.rotation_=G.rotation;this.scale_=G.scale;this.scaleArray_=(0,l.toSize)(G.scale);this.displacement_=G.displacement}u.prototype.clone=function(){var G=this.getScale();return new u({opacity:this.getOpacity(),scale:Array.isArray(G)?G.slice():G,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),
displacement:this.getDisplacement().slice()})};u.prototype.getOpacity=function(){return this.opacity_};u.prototype.getRotateWithView=function(){return this.rotateWithView_};u.prototype.getRotation=function(){return this.rotation_};u.prototype.getScale=function(){return this.scale_};u.prototype.getScaleArray=function(){return this.scaleArray_};u.prototype.getDisplacement=function(){return this.displacement_};u.prototype.getAnchor=function(){return(0,m["abstract"])()};u.prototype.getImage=function(G){return(0,
m["abstract"])()};u.prototype.getHitDetectionImage=function(){return(0,m["abstract"])()};u.prototype.getPixelRatio=function(G){return 1};u.prototype.getImageState=function(){return(0,m["abstract"])()};u.prototype.getImageSize=function(){return(0,m["abstract"])()};u.prototype.getHitDetectionImageSize=function(){return(0,m["abstract"])()};u.prototype.getOrigin=function(){return(0,m["abstract"])()};u.prototype.getSize=function(){return(0,m["abstract"])()};u.prototype.setOpacity=function(G){this.opacity_=
G};u.prototype.setRotateWithView=function(G){this.rotateWithView_=G};u.prototype.setRotation=function(G){this.rotation_=G};u.prototype.setScale=function(G){this.scale_=G;this.scaleArray_=(0,l.toSize)(G)};u.prototype.listenImageChange=function(G){(0,m["abstract"])()};u.prototype.load=function(){(0,m["abstract"])()};u.prototype.unlistenImageChange=function(G){(0,m["abstract"])()};return u}();J["default"]=Ia};
shadow$provide[201]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J.asColorLike=function(l){return Array.isArray(l)?(0,m.toString)(l):l};var m=A(82)};
shadow$provide[202]=function(Ia,A,mb,J){function m(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(A(199));Ia=m(A(200));var u=A(82),G=A(201),L=A(103),w=A(104),v=function(){var t=function(k,g){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var a in f)Object.prototype.hasOwnProperty.call(f,a)&&(d[a]=f[a])};return t(k,g)};return function(k,g){function d(){this.constructor=
k}t(k,g);k.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}}();A=function(t){function k(g){var d=t.call(this,{opacity:1,rotateWithView:void 0!==g.rotateWithView?g.rotateWithView:!1,rotation:void 0!==g.rotation?g.rotation:0,scale:void 0!==g.scale?g.scale:1,displacement:void 0!==g.displacement?g.displacement:[0,0]})||this;d.canvas_={};d.hitDetectionCanvas_=null;d.fill_=void 0!==g.fill?g.fill:null;d.origin_=[0,0];d.points_=g.points;d.radius_=void 0!==g.radius?g.radius:g.radius1;d.radius2_=
g.radius2;d.angle_=void 0!==g.angle?g.angle:0;d.stroke_=void 0!==g.stroke?g.stroke:null;d.anchor_=null;d.size_=null;d.imageSize_=null;d.hitDetectionImageSize_=null;d.render();return d}v(k,t);k.prototype.clone=function(){var g=this.getScale();g=new k({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),
scale:Array.isArray(g)?g.slice():g,displacement:this.getDisplacement().slice()});g.setOpacity(this.getOpacity());return g};k.prototype.getAnchor=function(){return this.anchor_};k.prototype.getAngle=function(){return this.angle_};k.prototype.getFill=function(){return this.fill_};k.prototype.getHitDetectionImage=function(){if(!this.hitDetectionCanvas_){var g=this.createRenderOptions();this.createHitDetectionCanvas_(g)}return this.hitDetectionCanvas_};k.prototype.getImage=function(g){if(!this.canvas_[g||
1]){var d=this.createRenderOptions(),f=(0,L.createCanvasContext2D)(d.size*g||1,d.size*g||1);this.draw_(d,f,0,0,g||1);this.canvas_[g||1]=f.canvas}return this.canvas_[g||1]};k.prototype.getPixelRatio=function(g){return g};k.prototype.getImageSize=function(){return this.imageSize_};k.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_};k.prototype.getImageState=function(){return l["default"].LOADED};k.prototype.getOrigin=function(){return this.origin_};k.prototype.getPoints=
function(){return this.points_};k.prototype.getRadius=function(){return this.radius_};k.prototype.getRadius2=function(){return this.radius2_};k.prototype.getSize=function(){return this.size_};k.prototype.getStroke=function(){return this.stroke_};k.prototype.listenImageChange=function(g){};k.prototype.load=function(){};k.prototype.unlistenImageChange=function(g){};k.prototype.createRenderOptions=function(){var g=w.defaultLineCap,d=w.defaultLineJoin,f=0,a=null,e=0,n=0;if(this.stroke_){var x=this.stroke_.getColor();
null===x&&(x=w.defaultStrokeStyle);x=(0,G.asColorLike)(x);n=this.stroke_.getWidth();void 0===n&&(n=w.defaultLineWidth);a=this.stroke_.getLineDash();e=this.stroke_.getLineDashOffset();d=this.stroke_.getLineJoin();void 0===d&&(d=w.defaultLineJoin);g=this.stroke_.getLineCap();void 0===g&&(g=w.defaultLineCap);f=this.stroke_.getMiterLimit();void 0===f&&(f=w.defaultMiterLimit)}return{strokeStyle:x,strokeWidth:n,size:2*(this.radius_+n)+1,lineCap:g,lineDash:a,lineDashOffset:e,lineJoin:d,miterLimit:f}};k.prototype.render=
function(){var g=this.createRenderOptions(),d=(0,L.createCanvasContext2D)(g.size,g.size);this.draw_(g,d,0,0,1);this.canvas_={};this.canvas_[1]=d.canvas;d=d.canvas.width;var f=this.getDisplacement();this.hitDetectionImageSize_=[g.size,g.size];this.createHitDetectionCanvas_(g);this.anchor_=[d/2-f[0],d/2+f[1]];this.size_=[d,d];this.imageSize_=[d,d]};k.prototype.draw_=function(g,d,f,a,e){d.setTransform(e,0,0,e,0,0);d.translate(f,a);d.beginPath();var n=this.points_;if(Infinity===n)d.arc(g.size/2,g.size/
2,this.radius_,0,2*Math.PI,!0);else{var x=void 0!==this.radius2_?this.radius2_:this.radius_;x!==this.radius_&&(n*=2);for(f=0;f<=n;f++)a=2*f*Math.PI/n-Math.PI/2+this.angle_,e=0===f%2?this.radius_:x,d.lineTo(g.size/2+e*Math.cos(a),g.size/2+e*Math.sin(a))}this.fill_&&(f=this.fill_.getColor(),null===f&&(f=w.defaultFillStyle),d.fillStyle=(0,G.asColorLike)(f),d.fill());this.stroke_&&(d.strokeStyle=g.strokeStyle,d.lineWidth=g.strokeWidth,d.setLineDash&&g.lineDash&&(d.setLineDash(g.lineDash),d.lineDashOffset=
g.lineDashOffset),d.lineCap=g.lineCap,d.lineJoin=g.lineJoin,d.miterLimit=g.miterLimit,d.stroke());d.closePath()};k.prototype.createHitDetectionCanvas_=function(g){this.hitDetectionCanvas_=this.getImage(1);if(this.fill_){var d=this.fill_.getColor(),f=0;"string"===typeof d&&(d=(0,u.asArray)(d));null===d?f=1:Array.isArray(d)&&(f=4===d.length?d[3]:1);0===f&&(d=(0,L.createCanvasContext2D)(g.size,g.size),this.hitDetectionCanvas_=d.canvas,this.drawHitDetectionCanvas_(g,d,0,0))}};k.prototype.drawHitDetectionCanvas_=
function(g,d,f,a){d.translate(f,a);d.beginPath();f=this.points_;if(Infinity===f)d.arc(g.size/2,g.size/2,this.radius_,0,2*Math.PI,!0);else{a=void 0!==this.radius2_?this.radius2_:this.radius_;a!==this.radius_&&(f*=2);var e;for(e=0;e<=f;e++){var n=2*e*Math.PI/f-Math.PI/2+this.angle_;var x=0===e%2?this.radius_:a;d.lineTo(g.size/2+x*Math.cos(n),g.size/2+x*Math.sin(n))}}d.fillStyle=w.defaultFillStyle;d.fill();this.stroke_&&(d.strokeStyle=g.strokeStyle,d.lineWidth=g.strokeWidth,g.lineDash&&(d.setLineDash(g.lineDash),
d.lineDashOffset=g.lineDashOffset),d.stroke());d.closePath()};return k}(Ia["default"]);J["default"]=A};
shadow$provide[203]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=function(l){return l&&l.__esModule?l:{"default":l}}(A(202));var m=function(){var l=function(u,G){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,w){L.__proto__=w}||function(L,w){for(var v in w)Object.prototype.hasOwnProperty.call(w,v)&&(L[v]=w[v])};return l(u,G)};return function(u,G){function L(){this.constructor=u}l(u,G);u.prototype=null===G?Object.create(G):(L.prototype=
G.prototype,new L)}}();Ia=function(l){function u(G){G=G?G:{};return l.call(this,{points:Infinity,fill:G.fill,radius:G.radius,stroke:G.stroke,scale:void 0!==G.scale?G.scale:1,rotation:void 0!==G.rotation?G.rotation:0,rotateWithView:void 0!==G.rotateWithView?G.rotateWithView:!1,displacement:void 0!==G.displacement?G.displacement:[0,0]})||this}m(u,l);u.prototype.clone=function(){var G=this.getScale();G=new u({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():
void 0,radius:this.getRadius(),scale:Array.isArray(G)?G.slice():G,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});G.setOpacity(this.getOpacity());return G};u.prototype.setRadius=function(G){this.radius_=G;this.render()};return u}(Ia["default"]);J["default"]=Ia};
shadow$provide[204]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=function(){function m(l){l=l||{};this.color_=void 0!==l.color?l.color:null}m.prototype.clone=function(){var l=this.getColor();return new m({color:Array.isArray(l)?l.slice():l||void 0})};m.prototype.getColor=function(){return this.color_};m.prototype.setColor=function(l){this.color_=l};return m}();J["default"]=Ia};
shadow$provide[205]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=function(){function m(l){l=l||{};this.color_=void 0!==l.color?l.color:null;this.lineCap_=l.lineCap;this.lineDash_=void 0!==l.lineDash?l.lineDash:null;this.lineDashOffset_=l.lineDashOffset;this.lineJoin_=l.lineJoin;this.miterLimit_=l.miterLimit;this.width_=l.width}m.prototype.clone=function(){var l=this.getColor();return new m({color:Array.isArray(l)?l.slice():l||void 0,lineCap:this.getLineCap(),
lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})};m.prototype.getColor=function(){return this.color_};m.prototype.getLineCap=function(){return this.lineCap_};m.prototype.getLineDash=function(){return this.lineDash_};m.prototype.getLineDashOffset=function(){return this.lineDashOffset_};m.prototype.getLineJoin=function(){return this.lineJoin_};m.prototype.getMiterLimit=
function(){return this.miterLimit_};m.prototype.getWidth=function(){return this.width_};m.prototype.setColor=function(l){this.color_=l};m.prototype.setLineCap=function(l){this.lineCap_=l};m.prototype.setLineDash=function(l){this.lineDash_=l};m.prototype.setLineDashOffset=function(l){this.lineDashOffset_=l};m.prototype.setLineJoin=function(l){this.lineJoin_=l};m.prototype.setMiterLimit=function(l){this.miterLimit_=l};m.prototype.setWidth=function(l){this.width_=l};return m}();J["default"]=Ia};
shadow$provide[206]=function(Ia,A,mb,J){function m(d){return d&&d.__esModule?d:{"default":d}}function l(d){l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"===typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f};return l(d)}function u(d){return d.getGeometry()}Object.defineProperty(J,"__esModule",{value:!0});J.toFunction=function(d){if("function"!==typeof d){if(Array.isArray(d))var f=d;else(0,t.assert)("function"===
typeof d.getZIndex,41),f=[d];d=function(){return f}}return d};J.createDefaultStyle=function(d,f){g||(d=new L["default"]({color:"rgba(255,255,255,0.4)"}),f=new v["default"]({color:"#3399CC",width:1.25}),g=[new k({image:new G["default"]({fill:d,stroke:f,radius:5}),fill:d,stroke:f})]);return g};J.createEditingStyle=function(){var d={},f=[255,255,255,1],a=[0,153,255,1];d[w["default"].POLYGON]=[new k({fill:new L["default"]({color:[255,255,255,.5]})})];d[w["default"].MULTI_POLYGON]=d[w["default"].POLYGON];
d[w["default"].LINE_STRING]=[new k({stroke:new v["default"]({color:f,width:5})}),new k({stroke:new v["default"]({color:a,width:3})})];d[w["default"].MULTI_LINE_STRING]=d[w["default"].LINE_STRING];d[w["default"].CIRCLE]=d[w["default"].POLYGON].concat(d[w["default"].LINE_STRING]);d[w["default"].POINT]=[new k({image:new G["default"]({radius:6,fill:new L["default"]({color:a}),stroke:new v["default"]({color:f,width:1.5})}),zIndex:Infinity})];d[w["default"].MULTI_POINT]=d[w["default"].POINT];d[w["default"].GEOMETRY_COLLECTION]=
d[w["default"].POLYGON].concat(d[w["default"].LINE_STRING],d[w["default"].POINT]);return d};J["default"]=void 0;var G=m(A(203)),L=m(A(204)),w=m(A(119)),v=m(A(205)),t=A(76),k=function(){function d(f){f=f||{};this.geometry_=null;this.geometryFunction_=u;void 0!==f.geometry&&this.setGeometry(f.geometry);this.fill_=void 0!==f.fill?f.fill:null;this.image_=void 0!==f.image?f.image:null;this.renderer_=void 0!==f.renderer?f.renderer:null;this.stroke_=void 0!==f.stroke?f.stroke:null;this.text_=void 0!==f.text?
f.text:null;this.zIndex_=f.zIndex}d.prototype.clone=function(){var f=this.getGeometry();f&&"object"===l(f)&&(f=f.clone());return new d({geometry:f,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})};d.prototype.getRenderer=function(){return this.renderer_};d.prototype.setRenderer=function(f){this.renderer_=f};d.prototype.getGeometry=
function(){return this.geometry_};d.prototype.getGeometryFunction=function(){return this.geometryFunction_};d.prototype.getFill=function(){return this.fill_};d.prototype.setFill=function(f){this.fill_=f};d.prototype.getImage=function(){return this.image_};d.prototype.setImage=function(f){this.image_=f};d.prototype.getStroke=function(){return this.stroke_};d.prototype.setStroke=function(f){this.stroke_=f};d.prototype.getText=function(){return this.text_};d.prototype.setText=function(f){this.text_=
f};d.prototype.getZIndex=function(){return this.zIndex_};d.prototype.setGeometry=function(f){"function"===typeof f?this.geometryFunction_=f:"string"===typeof f?this.geometryFunction_=function(a){return a.get(f)}:f?void 0!==f&&(this.geometryFunction_=function(){return f}):this.geometryFunction_=u;this.geometry_=f};d.prototype.setZIndex=function(f){this.zIndex_=f};return d}(),g=null;J["default"]=k};
shadow$provide[207]=function(Ia,A,mb,J){function m(w){return w&&w.__esModule?w:{"default":w}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=m(A(96));var l=m(A(198)),u=A(86),G=A(206),L=function(){var w=function(v,t){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,g){k.__proto__=g}||function(k,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(k[d]=g[d])};return w(v,t)};return function(v,t){function k(){this.constructor=v}w(v,t);v.prototype=null===
t?Object.create(t):(k.prototype=t.prototype,new k)}}();A=function(w){function v(t){t=t?t:{};var k=(0,u.assign)({},t);delete k.style;delete k.renderBuffer;delete k.updateWhileAnimating;delete k.updateWhileInteracting;k=w.call(this,k)||this;k.declutter_=void 0!==t.declutter?t.declutter:!1;k.renderBuffer_=void 0!==t.renderBuffer?t.renderBuffer:100;k.style_=null;k.styleFunction_=void 0;k.setStyle(t.style);k.updateWhileAnimating_=void 0!==t.updateWhileAnimating?t.updateWhileAnimating:!1;k.updateWhileInteracting_=
void 0!==t.updateWhileInteracting?t.updateWhileInteracting:!1;return k}L(v,w);v.prototype.getDeclutter=function(){return this.declutter_};v.prototype.getFeatures=function(t){return w.prototype.getFeatures.call(this,t)};v.prototype.getRenderBuffer=function(){return this.renderBuffer_};v.prototype.getRenderOrder=function(){return this.get("renderOrder")};v.prototype.getStyle=function(){return this.style_};v.prototype.getStyleFunction=function(){return this.styleFunction_};v.prototype.getUpdateWhileAnimating=
function(){return this.updateWhileAnimating_};v.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_};v.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new l["default"](9));this.getRenderer().renderDeclutter(t)};v.prototype.setRenderOrder=function(t){this.set("renderOrder",t)};v.prototype.setStyle=function(t){this.style_=void 0!==t?t:G.createDefaultStyle;this.styleFunction_=null===t?void 0:(0,G.toFunction)(this.style_);this.changed()};return v}(Ia["default"]);
J["default"]=A};
shadow$provide[208]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12};J.fillInstruction=[Ia.FILL];J.strokeInstruction=[Ia.STROKE];J.beginPathInstruction=[Ia.BEGIN_PATH];J.closePathInstruction=[Ia.CLOSE_PATH];J["default"]=Ia};
shadow$provide[209]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=function(){function m(){}m.prototype.drawCustom=function(l,u,G){};m.prototype.drawGeometry=function(l){};m.prototype.setStyle=function(l){};m.prototype.drawCircle=function(l,u){};m.prototype.drawFeature=function(l,u){};m.prototype.drawGeometryCollection=function(l,u){};m.prototype.drawLineString=function(l,u){};m.prototype.drawMultiLineString=function(l,u){};m.prototype.drawMultiPoint=function(l,
u){};m.prototype.drawMultiPolygon=function(l,u){};m.prototype.drawPoint=function(l,u){};m.prototype.drawPolygon=function(l,u){};m.prototype.drawText=function(l,u){};m.prototype.setFillStrokeStyle=function(l,u){};m.prototype.setImageStyle=function(l,u){};m.prototype.setTextStyle=function(l,u){};return m}();J["default"]=Ia};
shadow$provide[210]=function(Ia,A,mb,J){function m(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(A(208)),u=m(A(119)),G=m(A(79));Ia=m(A(209));var L=A(201),w=A(80),v=A(104),t=A(72),k=A(142),g=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var x in n)Object.prototype.hasOwnProperty.call(n,x)&&(e[x]=n[x])};return d(f,a)};return function(f,a){function e(){this.constructor=
f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();A=function(d){function f(a,e,n,x){var z=d.call(this)||this;z.tolerance=a;z.maxExtent=e;z.pixelRatio=x;z.maxLineWidth=0;z.resolution=n;z.beginGeometryInstruction1_=null;z.beginGeometryInstruction2_=null;z.bufferedMaxExtent_=null;z.instructions=[];z.coordinates=[];z.tmpCoordinate_=[];z.hitDetectionInstructions=[];z.state={};return z}g(f,d);f.prototype.applyPixelRatio=function(a){var e=this.pixelRatio;return 1==e?a:a.map(function(n){return n*
e})};f.prototype.appendFlatPointCoordinates=function(a,e){for(var n=this.getBufferedMaxExtent(),x=this.tmpCoordinate_,z=this.coordinates,B=z.length,M=0,K=a.length;M<K;M+=e)x[0]=a[M],x[1]=a[M+1],(0,w.containsCoordinate)(n,x)&&(z[B++]=x[0],z[B++]=x[1]);return B};f.prototype.appendFlatLineCoordinates=function(a,e,n,x,z,B){var M=this.coordinates,K=M.length,D=this.getBufferedMaxExtent();B&&(e+=x);B=a[e];var y=a[e+1],E=this.tmpCoordinate_,H=!0,Q;for(Q=e+x;Q<n;Q+=x){E[0]=a[Q];E[1]=a[Q+1];var S=(0,w.coordinateRelationship)(D,
E);S!==ea?(H&&(M[K++]=B,M[K++]=y,H=!1),M[K++]=E[0],M[K++]=E[1]):S===G["default"].INTERSECTING?(M[K++]=E[0],M[K++]=E[1],H=!1):H=!0;B=E[0];y=E[1];var ea=S}if(z&&H||Q===e+x)M[K++]=B,M[K++]=y;return K};f.prototype.drawCustomCoordinates_=function(a,e,n,x,z){for(var B=0,M=n.length;B<M;++B){var K=n[B];e=this.appendFlatLineCoordinates(a,e,K,x,!1,!1);z.push(e);e=K}return e};f.prototype.drawCustom=function(a,e,n){this.beginGeometry(a,e);var x=a.getType(),z=a.getStride(),B=this.coordinates.length,M;if(x==u["default"].MULTI_POLYGON){x=
a.getOrientedFlatCoordinates();var K=[];for(var D=a.getEndss(),y=M=0,E=D.length;y<E;++y){var H=[];M=this.drawCustomCoordinates_(x,M,D[y],z,H);K.push(H)}this.instructions.push([l["default"].CUSTOM,B,K,a,n,k.inflateMultiCoordinatesArray])}else x==u["default"].POLYGON||x==u["default"].MULTI_LINE_STRING?(K=[],x=x==u["default"].POLYGON?a.getOrientedFlatCoordinates():a.getFlatCoordinates(),this.drawCustomCoordinates_(x,0,a.getEnds(),z,K),this.instructions.push([l["default"].CUSTOM,B,K,a,n,k.inflateCoordinatesArray])):
x==u["default"].LINE_STRING||x==u["default"].CIRCLE?(x=a.getFlatCoordinates(),z=this.appendFlatLineCoordinates(x,0,x.length,z,!1,!1),this.instructions.push([l["default"].CUSTOM,B,z,a,n,k.inflateCoordinates])):x==u["default"].MULTI_POINT?(x=a.getFlatCoordinates(),z=this.appendFlatPointCoordinates(x,z),z>B&&this.instructions.push([l["default"].CUSTOM,B,z,a,n,k.inflateCoordinates])):x==u["default"].POINT&&(x=a.getFlatCoordinates(),this.coordinates.push(x[0],x[1]),z=this.coordinates.length,this.instructions.push([l["default"].CUSTOM,
B,z,a,n]));this.endGeometry(e)};f.prototype.beginGeometry=function(a,e){this.beginGeometryInstruction1_=[l["default"].BEGIN_GEOMETRY,e,0,a];this.instructions.push(this.beginGeometryInstruction1_);this.beginGeometryInstruction2_=[l["default"].BEGIN_GEOMETRY,e,0,a];this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)};f.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}};f.prototype.reverseHitDetectionInstructions=
function(){var a=this.hitDetectionInstructions;a.reverse();var e,n=a.length,x=-1;for(e=0;e<n;++e){var z=a[e];var B=z[0];B==l["default"].END_GEOMETRY?x=e:B==l["default"].BEGIN_GEOMETRY&&(z[2]=e,(0,t.reverseSubArray)(this.hitDetectionInstructions,x,e),x=-1)}};f.prototype.setFillStrokeStyle=function(a,e){var n=this.state;a?(a=a.getColor(),n.fillStyle=(0,L.asColorLike)(a?a:v.defaultFillStyle)):n.fillStyle=void 0;e?(a=e.getColor(),n.strokeStyle=(0,L.asColorLike)(a?a:v.defaultStrokeStyle),a=e.getLineCap(),
n.lineCap=void 0!==a?a:v.defaultLineCap,a=e.getLineDash(),n.lineDash=a?a.slice():v.defaultLineDash,a=e.getLineDashOffset(),n.lineDashOffset=a?a:v.defaultLineDashOffset,a=e.getLineJoin(),n.lineJoin=void 0!==a?a:v.defaultLineJoin,a=e.getWidth(),n.lineWidth=void 0!==a?a:v.defaultLineWidth,e=e.getMiterLimit(),n.miterLimit=void 0!==e?e:v.defaultMiterLimit,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)):(n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,
n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0)};f.prototype.createFill=function(a){a=a.fillStyle;var e=[l["default"].SET_FILL_STYLE,a];"string"!==typeof a&&e.push(!0);return e};f.prototype.applyStroke=function(a){this.instructions.push(this.createStroke(a))};f.prototype.createStroke=function(a){return[l["default"].SET_STROKE_STYLE,a.strokeStyle,a.lineWidth*this.pixelRatio,a.lineCap,a.lineJoin,a.miterLimit,this.applyPixelRatio(a.lineDash),a.lineDashOffset*this.pixelRatio]};
f.prototype.updateFillStyle=function(a,e){var n=a.fillStyle;if("string"!==typeof n||a.currentFillStyle!=n)void 0!==n&&this.instructions.push(e.call(this,a)),a.currentFillStyle=n};f.prototype.updateStrokeStyle=function(a,e){var n=a.strokeStyle,x=a.lineCap,z=a.lineDash,B=a.lineDashOffset,M=a.lineJoin,K=a.lineWidth,D=a.miterLimit;if(a.currentStrokeStyle!=n||a.currentLineCap!=x||z!=a.currentLineDash&&!(0,t.equals)(a.currentLineDash,z)||a.currentLineDashOffset!=B||a.currentLineJoin!=M||a.currentLineWidth!=
K||a.currentMiterLimit!=D)void 0!==n&&e.call(this,a),a.currentStrokeStyle=n,a.currentLineCap=x,a.currentLineDash=z,a.currentLineDashOffset=B,a.currentLineJoin=M,a.currentLineWidth=K,a.currentMiterLimit=D};f.prototype.endGeometry=function(a){this.beginGeometryInstruction1_[2]=this.instructions.length;this.beginGeometryInstruction1_=null;this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length;this.beginGeometryInstruction2_=null;a=[l["default"].END_GEOMETRY,a];this.instructions.push(a);
this.hitDetectionInstructions.push(a)};f.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,w.clone)(this.maxExtent),0<this.maxLineWidth)){var a=this.resolution*(this.maxLineWidth+1)/2;(0,w.buffer)(this.bufferedMaxExtent_,a,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_};return f}(Ia["default"]);J["default"]=A};
shadow$provide[211]=function(Ia,A,mb,J){function m(G){return G&&G.__esModule?G:{"default":G}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=m(A(210));var l=m(A(208)),u=function(){var G=function(L,w){G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,t){v.__proto__=t}||function(v,t){for(var k in t)Object.prototype.hasOwnProperty.call(t,k)&&(v[k]=t[k])};return G(L,w)};return function(L,w){function v(){this.constructor=L}G(L,w);L.prototype=null===w?Object.create(w):
(v.prototype=w.prototype,new v)}}();A=function(G){function L(w,v,t,k){w=G.call(this,w,v,t,k)||this;w.hitDetectionImage_=null;w.image_=null;w.imagePixelRatio_=void 0;w.anchorX_=void 0;w.anchorY_=void 0;w.height_=void 0;w.opacity_=void 0;w.originX_=void 0;w.originY_=void 0;w.rotateWithView_=void 0;w.rotation_=void 0;w.scale_=void 0;w.width_=void 0;w.declutterImageWithText_=void 0;return w}u(L,G);L.prototype.drawPoint=function(w,v){if(this.image_){this.beginGeometry(w,v);var t=w.getFlatCoordinates(),
k=w.getStride();w=this.coordinates.length;t=this.appendFlatPointCoordinates(t,k);this.instructions.push([l["default"].DRAW_IMAGE,w,t,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]);
this.hitDetectionInstructions.push([l["default"].DRAW_IMAGE,w,t,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]);this.endGeometry(v)}};L.prototype.drawMultiPoint=function(w,v){if(this.image_){this.beginGeometry(w,v);var t=w.getFlatCoordinates(),k=w.getStride();w=this.coordinates.length;t=this.appendFlatPointCoordinates(t,k);this.instructions.push([l["default"].DRAW_IMAGE,
w,t,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]);this.hitDetectionInstructions.push([l["default"].DRAW_IMAGE,w,t,this.hitDetectionImage_,this.anchorX_,this.anchorY_,
this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]);this.endGeometry(v)}};L.prototype.finish=function(){this.reverseHitDetectionInstructions();this.anchorY_=this.anchorX_=void 0;this.image_=this.hitDetectionImage_=null;this.width_=this.rotation_=this.rotateWithView_=this.originY_=this.originX_=this.opacity_=this.scale_=this.height_=this.imagePixelRatio_=void 0;return G.prototype.finish.call(this)};L.prototype.setImageStyle=
function(w,v){var t=w.getAnchor(),k=w.getSize(),g=w.getHitDetectionImage(),d=w.getImage(this.pixelRatio),f=w.getOrigin();this.imagePixelRatio_=w.getPixelRatio(this.pixelRatio);this.anchorX_=t[0];this.anchorY_=t[1];this.hitDetectionImage_=g;this.image_=d;this.height_=k[1];this.opacity_=w.getOpacity();this.originX_=f[0];this.originY_=f[1];this.rotateWithView_=w.getRotateWithView();this.rotation_=w.getRotation();this.scale_=w.getScaleArray();this.width_=k[0];this.declutterImageWithText_=v};return L}(Ia["default"]);
J["default"]=A};
shadow$provide[212]=function(Ia,A,mb,J){function m(L){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"===typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w};return m(L)}function l(){if("function"!==typeof WeakMap)return null;var L=new WeakMap;l=function(){return L};return L}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=function(L){return L&&L.__esModule?L:{"default":L}}(A(210));
var u=function(L){if(L&&L.__esModule)return L;if(null===L||"object"!==m(L)&&"function"!==typeof L)return{"default":L};var w=l();if(w&&w.has(L))return w.get(L);var v={},t=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in L)if(Object.prototype.hasOwnProperty.call(L,k)){var g=t?Object.getOwnPropertyDescriptor(L,k):null;g&&(g.get||g.set)?Object.defineProperty(v,k,g):v[k]=L[k]}v["default"]=L;w&&w.set(L,v);return v}(A(208)),G=function(){var L=function(w,v){L=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(t,k){t.__proto__=k}||function(t,k){for(var g in k)Object.prototype.hasOwnProperty.call(k,g)&&(t[g]=k[g])};return L(w,v)};return function(w,v){function t(){this.constructor=w}L(w,v);w.prototype=null===v?Object.create(v):(t.prototype=v.prototype,new t)}}();A=function(L){function w(v,t,k,g){return L.call(this,v,t,k,g)||this}G(w,L);w.prototype.drawFlatCoordinates_=function(v,t,k,g){var d=this.coordinates.length;v=this.appendFlatLineCoordinates(v,t,k,g,!1,!1);d=[u["default"].MOVE_TO_LINE_TO,
d,v];this.instructions.push(d);this.hitDetectionInstructions.push(d);return k};w.prototype.drawLineString=function(v,t){var k=this.state,g=k.lineWidth;void 0!==k.strokeStyle&&void 0!==g&&(this.updateStrokeStyle(k,this.applyStroke),this.beginGeometry(v,t),this.hitDetectionInstructions.push([u["default"].SET_STROKE_STYLE,k.strokeStyle,k.lineWidth,k.lineCap,k.lineJoin,k.miterLimit,k.lineDash,k.lineDashOffset],u.beginPathInstruction),k=v.getFlatCoordinates(),v=v.getStride(),this.drawFlatCoordinates_(k,
0,k.length,v),this.hitDetectionInstructions.push(u.strokeInstruction),this.endGeometry(t))};w.prototype.drawMultiLineString=function(v,t){var k=this.state,g=k.lineWidth;if(void 0!==k.strokeStyle&&void 0!==g){this.updateStrokeStyle(k,this.applyStroke);this.beginGeometry(v,t);this.hitDetectionInstructions.push([u["default"].SET_STROKE_STYLE,k.strokeStyle,k.lineWidth,k.lineCap,k.lineJoin,k.miterLimit,k.lineDash,k.lineDashOffset],u.beginPathInstruction);k=v.getEnds();g=v.getFlatCoordinates();v=v.getStride();
for(var d=0,f=0,a=k.length;f<a;++f)d=this.drawFlatCoordinates_(g,d,k[f],v);this.hitDetectionInstructions.push(u.strokeInstruction);this.endGeometry(t)}};w.prototype.finish=function(){var v=this.state;void 0!=v.lastStroke&&v.lastStroke!=this.coordinates.length&&this.instructions.push(u.strokeInstruction);this.reverseHitDetectionInstructions();this.state=null;return L.prototype.finish.call(this)};w.prototype.applyStroke=function(v){void 0!=v.lastStroke&&v.lastStroke!=this.coordinates.length&&(this.instructions.push(u.strokeInstruction),
v.lastStroke=this.coordinates.length);v.lastStroke=0;L.prototype.applyStroke.call(this,v);this.instructions.push(u.beginPathInstruction)};return w}(Ia["default"]);J["default"]=A};
shadow$provide[213]=function(Ia,A,mb,J){function m(v){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return m(v)}function l(){if("function"!==typeof WeakMap)return null;var v=new WeakMap;l=function(){return v};return v}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=function(v){return v&&v.__esModule?v:{"default":v}}(A(210));
var u=function(v){if(v&&v.__esModule)return v;if(null===v||"object"!==m(v)&&"function"!==typeof v)return{"default":v};var t=l();if(t&&t.has(v))return t.get(v);var k={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor,d;for(d in v)if(Object.prototype.hasOwnProperty.call(v,d)){var f=g?Object.getOwnPropertyDescriptor(v,d):null;f&&(f.get||f.set)?Object.defineProperty(k,d,f):k[d]=v[d]}k["default"]=v;t&&t.set(v,k);return k}(A(208)),G=A(104),L=A(141),w=function(){var v=function(t,k){v=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(g[f]=d[f])};return v(t,k)};return function(t,k){function g(){this.constructor=t}v(t,k);t.prototype=null===k?Object.create(k):(g.prototype=k.prototype,new g)}}();A=function(v){function t(k,g,d,f){return v.call(this,k,g,d,f)||this}w(t,v);t.prototype.drawFlatCoordinatess_=function(k,g,d,f){var a=this.state,e=void 0!==a.fillStyle;a=void 0!==a.strokeStyle;var n=d.length;
this.instructions.push(u.beginPathInstruction);this.hitDetectionInstructions.push(u.beginPathInstruction);for(var x=0;x<n;++x){var z=d[x],B=this.coordinates.length;g=this.appendFlatLineCoordinates(k,g,z,f,!0,!a);g=[u["default"].MOVE_TO_LINE_TO,B,g];this.instructions.push(g);this.hitDetectionInstructions.push(g);a&&(this.instructions.push(u.closePathInstruction),this.hitDetectionInstructions.push(u.closePathInstruction));g=z}e&&(this.instructions.push(u.fillInstruction),this.hitDetectionInstructions.push(u.fillInstruction));
a&&(this.instructions.push(u.strokeInstruction),this.hitDetectionInstructions.push(u.strokeInstruction));return g};t.prototype.drawCircle=function(k,g){var d=this.state,f=d.strokeStyle;if(void 0!==d.fillStyle||void 0!==f){this.setFillStrokeStyles_();this.beginGeometry(k,g);void 0!==d.fillStyle&&this.hitDetectionInstructions.push([u["default"].SET_FILL_STYLE,G.defaultFillStyle]);void 0!==d.strokeStyle&&this.hitDetectionInstructions.push([u["default"].SET_STROKE_STYLE,d.strokeStyle,d.lineWidth,d.lineCap,
d.lineJoin,d.miterLimit,d.lineDash,d.lineDashOffset]);f=k.getFlatCoordinates();k=k.getStride();var a=this.coordinates.length;this.appendFlatLineCoordinates(f,0,f.length,k,!1,!1);f=[u["default"].CIRCLE,a];this.instructions.push(u.beginPathInstruction,f);this.hitDetectionInstructions.push(u.beginPathInstruction,f);void 0!==d.fillStyle&&(this.instructions.push(u.fillInstruction),this.hitDetectionInstructions.push(u.fillInstruction));void 0!==d.strokeStyle&&(this.instructions.push(u.strokeInstruction),
this.hitDetectionInstructions.push(u.strokeInstruction));this.endGeometry(g)}};t.prototype.drawPolygon=function(k,g){var d=this.state,f=d.strokeStyle;if(void 0!==d.fillStyle||void 0!==f)this.setFillStrokeStyles_(),this.beginGeometry(k,g),void 0!==d.fillStyle&&this.hitDetectionInstructions.push([u["default"].SET_FILL_STYLE,G.defaultFillStyle]),void 0!==d.strokeStyle&&this.hitDetectionInstructions.push([u["default"].SET_STROKE_STYLE,d.strokeStyle,d.lineWidth,d.lineCap,d.lineJoin,d.miterLimit,d.lineDash,
d.lineDashOffset]),d=k.getEnds(),f=k.getOrientedFlatCoordinates(),k=k.getStride(),this.drawFlatCoordinatess_(f,0,d,k),this.endGeometry(g)};t.prototype.drawMultiPolygon=function(k,g){var d=this.state,f=d.strokeStyle;if(void 0!==d.fillStyle||void 0!==f){this.setFillStrokeStyles_();this.beginGeometry(k,g);void 0!==d.fillStyle&&this.hitDetectionInstructions.push([u["default"].SET_FILL_STYLE,G.defaultFillStyle]);void 0!==d.strokeStyle&&this.hitDetectionInstructions.push([u["default"].SET_STROKE_STYLE,
d.strokeStyle,d.lineWidth,d.lineCap,d.lineJoin,d.miterLimit,d.lineDash,d.lineDashOffset]);d=k.getEndss();f=k.getOrientedFlatCoordinates();k=k.getStride();for(var a=0,e=0,n=d.length;e<n;++e)a=this.drawFlatCoordinatess_(f,a,d[e],k);this.endGeometry(g)}};t.prototype.finish=function(){this.reverseHitDetectionInstructions();this.state=null;var k=this.tolerance;if(0!==k)for(var g=this.coordinates,d=0,f=g.length;d<f;++d)g[d]=(0,L.snap)(g[d],k);return v.prototype.finish.call(this)};t.prototype.setFillStrokeStyles_=
function(){var k=this.state;void 0!==k.fillStyle&&this.updateFillStyle(k,this.createFill);void 0!==k.strokeStyle&&this.updateStrokeStyle(k,this.applyStroke)};return t}(Ia["default"]);J["default"]=A};
shadow$provide[214]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={POINT:"point",LINE:"line"}};
shadow$provide[215]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J.matchingChunk=function(m,l,u,G,L){for(var w=u,v=u,t=0,k=0,g=u,d,f,a,e,n,x;u<G;u+=L){var z=l[u],B=l[u+1];void 0!==a&&(a=z-a,e=B-e,f=Math.sqrt(a*a+e*e),void 0!==n&&(k+=d,d=Math.acos((n*a+x*e)/(d*f)),d>m&&(k>t&&(t=k,w=g,v=u),k=0,g=u-L)),d=f,n=a,x=e);a=z;e=B}return k+f>t?[g,u]:[w,v]}};
shadow$provide[216]=function(Ia,A,mb,J){function m(f){return f&&f.__esModule?f:{"default":f}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=J.TEXT_ALIGN=void 0;Ia=m(A(210));var l=m(A(208)),u=m(A(119)),G=m(A(214)),L=A(201),w=A(104),v=A(74),t=A(80),k=A(215),g=function(){var f=function(a,e){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,x){n.__proto__=x}||function(n,x){for(var z in x)Object.prototype.hasOwnProperty.call(x,z)&&(n[z]=x[z])};return f(a,e)};return function(a,
e){function n(){this.constructor=a}f(a,e);a.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),d={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};J.TEXT_ALIGN=d;A=function(f){function a(e,n,x,z){e=f.call(this,e,n,x,z)||this;e.labels_=null;e.text_="";e.textOffsetX_=0;e.textOffsetY_=0;e.textRotateWithView_=void 0;e.textRotation_=0;e.textFillState_=null;e.fillStates={};e.textStrokeState_=null;e.strokeStates={};e.textState_=
{};e.textStates={};e.textKey_="";e.fillKey_="";e.strokeKey_="";e.declutterImageWithText_=void 0;return e}g(a,f);a.prototype.finish=function(){var e=f.prototype.finish.call(this);e.textStates=this.textStates;e.fillStates=this.fillStates;e.strokeStates=this.strokeStates;return e};a.prototype.drawText=function(e,n){var x=this.textFillState_,z=this.textStrokeState_,B=this.textState_;if(""!==this.text_&&B&&(x||z)){var M=this.coordinates;x=M.length;var K=e.getType();z=null;var D=e.getStride();if(B.placement!==
G["default"].LINE||K!=u["default"].LINE_STRING&&K!=u["default"].MULTI_LINE_STRING&&K!=u["default"].POLYGON&&K!=u["default"].MULTI_POLYGON){M=B.overflow?null:[];switch(K){case u["default"].POINT:case u["default"].MULTI_POINT:z=e.getFlatCoordinates();break;case u["default"].LINE_STRING:z=e.getFlatMidpoint();break;case u["default"].CIRCLE:z=e.getCenter();break;case u["default"].MULTI_LINE_STRING:z=e.getFlatMidpoints();D=2;break;case u["default"].POLYGON:z=e.getFlatInteriorPoint();B.overflow||M.push(z[2]/
this.resolution);D=3;break;case u["default"].MULTI_POLYGON:D=e.getFlatInteriorPoints();z=[];K=0;for(Q=D.length;K<Q;K+=3)B.overflow||M.push(D[K+2]/this.resolution),z.push(D[K],D[K+1]);if(0===z.length)return;D=2}K=this.appendFlatPointCoordinates(z,D);if(K===x)return;this.saveTextStates_();if(B.backgroundFill||B.backgroundStroke)this.setFillStrokeStyle(B.backgroundFill,B.backgroundStroke),B.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),
B.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)));this.beginGeometry(e,n);z=B.padding;if(z!=w.defaultPadding&&(0>B.scale[0]||0>B.scale[1])){z=B.padding[0];D=B.padding[1];var y=B.padding[2];e=B.padding[3];0>B.scale[0]&&(D=-D,e=-e);0>B.scale[1]&&(z=-z,y=-y);z=[z,D,y,e]}var E=this.pixelRatio;this.instructions.push([l["default"].DRAW_IMAGE,x,K,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,
1],NaN,this.declutterImageWithText_,z==w.defaultPadding?w.defaultPadding:z.map(function(ba){return ba*E}),!!B.backgroundFill,!!B.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,M]);D=1/E;this.hitDetectionInstructions.push([l["default"].DRAW_IMAGE,x,K,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[D,D],NaN,this.declutterImageWithText_,z,!!B.backgroundFill,!!B.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,
this.textOffsetX_,this.textOffsetY_,M])}else{if(!(0,t.intersects)(this.getBufferedMaxExtent(),e.getExtent()))return;y=void 0;z=e.getFlatCoordinates();if(K==u["default"].LINE_STRING)y=[z.length];else if(K==u["default"].MULTI_LINE_STRING)y=e.getEnds();else if(K==u["default"].POLYGON)y=e.getEnds().slice(0,1);else if(K==u["default"].MULTI_POLYGON){var H=e.getEndss();y=[];K=0;for(var Q=H.length;K<Q;++K)y.push(H[K][0])}this.beginGeometry(e,n);e=B.textAlign;var S=0,ea=void 0;Q=0;for(H=y.length;Q<H;++Q){void 0==
e?(K=(0,k.matchingChunk)(B.maxAngle,z,S,y[Q],D),S=K[0],ea=K[1]):ea=y[Q];for(K=S;K<ea;K+=D)M.push(z[K],z[K+1]);K=M.length;S=y[Q];this.drawChars_(x,K);x=K}}this.endGeometry(n)}};a.prototype.saveTextStates_=function(){var e=this.textStrokeState_,n=this.textState_,x=this.textFillState_,z=this.strokeKey_;e&&(z in this.strokeStates||(this.strokeStates[z]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));
e=this.textKey_;e in this.textStates||(this.textStates[e]={font:n.font,textAlign:n.textAlign||w.defaultTextAlign,textBaseline:n.textBaseline||w.defaultTextBaseline,scale:n.scale});n=this.fillKey_;x&&(n in this.fillStates||(this.fillStates[n]={fillStyle:x.fillStyle}))};a.prototype.drawChars_=function(e,n){var x=this.textStrokeState_,z=this.textState_,B=this.strokeKey_,M=this.textKey_,K=this.fillKey_;this.saveTextStates_();var D=this.pixelRatio,y=d[z.textBaseline],E=this.textOffsetY_*D,H=this.text_;
x=x?x.lineWidth*Math.abs(z.scale[0])/2:0;this.instructions.push([l["default"].DRAW_CHARS,e,n,y,z.overflow,K,z.maxAngle,D,E,B,x*D,H,M,1]);this.hitDetectionInstructions.push([l["default"].DRAW_CHARS,e,n,y,z.overflow,K,z.maxAngle,1,E,B,x,H,M,1/D])};a.prototype.setTextStyle=function(e,n){var x,z;if(e){if(z=e.getFill()){var B=this.textFillState_;B||(this.textFillState_=B={});B.fillStyle=(0,L.asColorLike)(z.getColor()||w.defaultFillStyle)}else this.textFillState_=B=null;if(x=e.getStroke()){z=this.textStrokeState_;
z||(this.textStrokeState_=z={});var M=x.getLineDash(),K=x.getLineDashOffset(),D=x.getWidth(),y=x.getMiterLimit();z.lineCap=x.getLineCap()||w.defaultLineCap;z.lineDash=M?M.slice():w.defaultLineDash;z.lineDashOffset=void 0===K?w.defaultLineDashOffset:K;z.lineJoin=x.getLineJoin()||w.defaultLineJoin;z.lineWidth=void 0===D?w.defaultLineWidth:D;z.miterLimit=void 0===y?w.defaultMiterLimit:y;z.strokeStyle=(0,L.asColorLike)(x.getColor()||w.defaultStrokeStyle)}else this.textStrokeState_=z=null;x=this.textState_;
M=e.getFont()||w.defaultFont;(0,w.registerFont)(M);K=e.getScaleArray();x.overflow=e.getOverflow();x.font=M;x.maxAngle=e.getMaxAngle();x.placement=e.getPlacement();x.textAlign=e.getTextAlign();x.textBaseline=e.getTextBaseline()||w.defaultTextBaseline;x.backgroundFill=e.getBackgroundFill();x.backgroundStroke=e.getBackgroundStroke();x.padding=e.getPadding()||w.defaultPadding;x.scale=void 0===K?[1,1]:K;M=e.getOffsetX();K=e.getOffsetY();D=e.getRotateWithView();y=e.getRotation();this.text_=e.getText()||
"";this.textOffsetX_=void 0===M?0:M;this.textOffsetY_=void 0===K?0:K;this.textRotateWithView_=void 0===D?!1:D;this.textRotation_=void 0===y?0:y;this.strokeKey_=z?("string"==typeof z.strokeStyle?z.strokeStyle:(0,v.getUid)(z.strokeStyle))+z.lineCap+z.lineDashOffset+"|"+z.lineWidth+z.lineJoin+z.miterLimit+"["+z.lineDash.join()+"]":"";this.textKey_=x.font+x.scale+(x.textAlign||"?")+(x.textBaseline||"?");this.fillKey_=B?"string"==typeof B.fillStyle?B.fillStyle:"|"+(0,v.getUid)(B.fillStyle):""}else this.text_=
"";this.declutterImageWithText_=n};return a}(Ia["default"]);J["default"]=A};
shadow$provide[217]=function(Ia,A,mb,J){function m(L){return L&&L.__esModule?L:{"default":L}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=m(A(210));mb=m(A(211));var l=m(A(212)),u=m(A(213));A=m(A(216));var G={Circle:u["default"],Default:Ia["default"],Image:mb["default"],LineString:l["default"],Polygon:u["default"],Text:A["default"]};A=function(){function L(w,v,t,k){this.tolerance_=w;this.maxExtent_=v;this.pixelRatio_=k;this.resolution_=t;this.buildersByZIndex_={}}L.prototype.finish=
function(){var w={},v;for(v in this.buildersByZIndex_){w[v]=w[v]||{};var t=this.buildersByZIndex_[v],k;for(k in t){var g=t[k].finish();w[v][k]=g}}return w};L.prototype.getBuilder=function(w,v){var t=void 0!==w?w.toString():"0";w=this.buildersByZIndex_[t];void 0===w&&(w={},this.buildersByZIndex_[t]=w);t=w[v];void 0===t&&(t=new G[v](this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),w[v]=t);return t};return L}();J["default"]=A};
shadow$provide[218]=function(Ia,A,mb,J){function m(v){return v&&v.__esModule?v:{"default":v}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(A(88)),u=m(A(199));Ia=m(A(90));var G=m(A(95)),L=A(74),w=function(){var v=function(t,k){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(g[f]=d[f])};return v(t,k)};return function(t,k){function g(){this.constructor=t}v(t,
k);t.prototype=null===k?Object.create(k):(g.prototype=k.prototype,new g)}}();A=function(v){function t(k){var g=v.call(this)||this;g.boundHandleImageChange_=g.handleImageChange_.bind(g);g.layer_=k;g.declutterExecutorGroup=null;return g}w(t,v);t.prototype.getFeatures=function(k){return(0,L["abstract"])()};t.prototype.prepareFrame=function(k){return(0,L["abstract"])()};t.prototype.renderFrame=function(k,g){return(0,L["abstract"])()};t.prototype.loadedTileCallback=function(k,g,d){k[g]||(k[g]={});k[g][d.tileCoord.toString()]=
d};t.prototype.createLoadedTileFinder=function(k,g,d){return function(f,a){var e=this.loadedTileCallback.bind(this,d,f);return k.forEachLoadedTile(g,f,a,e)}.bind(this)};t.prototype.forEachFeatureAtCoordinate=function(k,g,d,f,a){};t.prototype.getDataAtPixel=function(k,g,d){return(0,L["abstract"])()};t.prototype.getLayer=function(){return this.layer_};t.prototype.handleFontsChanged=function(){};t.prototype.handleImageChange_=function(k){k.target.getState()===u["default"].LOADED&&this.renderIfReadyAndVisible()};
t.prototype.loadImage=function(k){var g=k.getState();g!=u["default"].LOADED&&g!=u["default"].ERROR&&k.addEventListener(l["default"].CHANGE,this.boundHandleImageChange_);g==u["default"].IDLE&&(k.load(),g=k.getState());return g==u["default"].LOADED};t.prototype.renderIfReadyAndVisible=function(){var k=this.getLayer();k.getVisible()&&k.getSourceState()==G["default"].READY&&k.changed()};return t}(Ia["default"]);J["default"]=A};
shadow$provide[219]=function(Ia,A,mb,J){function m(k){return k&&k.__esModule?k:{"default":k}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=m(A(218));var l=m(A(100)),u=m(A(94)),G=A(77),L=A(80),w=A(103),v=A(104),t=function(){var k=function(g,d){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(f[e]=a[e])};return k(g,d)};return function(g,d){function f(){this.constructor=
g}k(g,d);g.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)}}();A=function(k){function g(d){d=k.call(this,d)||this;d.container=null;d.tempTransform=(0,G.create)();d.pixelTransform=(0,G.create)();d.inversePixelTransform=(0,G.create)();d.context=null;d.containerReused=!1;return d}t(g,k);g.prototype.useContainer=function(d,f,a){a=this.getLayer().getClassName();var e;if(d&&""===d.style.opacity&&d.className===a){var n=d.firstElementChild;n instanceof HTMLCanvasElement&&(e=n.getContext("2d"))}!e||
0!==e.canvas.width&&e.canvas.style.transform!==f?this.containerReused&&(this.context=this.container=null,this.containerReused=!1):(this.container=d,this.context=e,this.containerReused=!0);this.container||(d=document.createElement("div"),d.className=a,f=d.style,f.position="absolute",f.width="100%",f.height="100%",e=(0,w.createCanvasContext2D)(),n=e.canvas,d.appendChild(n),f=n.style,f.position="absolute",f.left="0",f.transformOrigin="top left",this.container=d,this.context=e)};g.prototype.clip=function(d,
f,a){var e=f.pixelRatio,n=f.size[0]*e/2,x=f.size[1]*e/2,z=f.viewState.rotation,B=(0,L.getTopLeft)(a),M=(0,L.getTopRight)(a),K=(0,L.getBottomRight)(a);a=(0,L.getBottomLeft)(a);(0,G.apply)(f.coordinateToPixelTransform,B);(0,G.apply)(f.coordinateToPixelTransform,M);(0,G.apply)(f.coordinateToPixelTransform,K);(0,G.apply)(f.coordinateToPixelTransform,a);d.save();(0,v.rotateAtOffset)(d,-z,n,x);d.beginPath();d.moveTo(B[0]*e,B[1]*e);d.lineTo(M[0]*e,M[1]*e);d.lineTo(K[0]*e,K[1]*e);d.lineTo(a[0]*e,a[1]*e);
d.clip();(0,v.rotateAtOffset)(d,z,n,x)};g.prototype.clipUnrotated=function(d,f,a){var e=(0,L.getTopLeft)(a),n=(0,L.getTopRight)(a),x=(0,L.getBottomRight)(a);a=(0,L.getBottomLeft)(a);(0,G.apply)(f.coordinateToPixelTransform,e);(0,G.apply)(f.coordinateToPixelTransform,n);(0,G.apply)(f.coordinateToPixelTransform,x);(0,G.apply)(f.coordinateToPixelTransform,a);f=this.inversePixelTransform;(0,G.apply)(f,e);(0,G.apply)(f,n);(0,G.apply)(f,x);(0,G.apply)(f,a);d.save();d.beginPath();d.moveTo(Math.round(e[0]),
Math.round(e[1]));d.lineTo(Math.round(n[0]),Math.round(n[1]));d.lineTo(Math.round(x[0]),Math.round(x[1]));d.lineTo(Math.round(a[0]),Math.round(a[1]));d.clip()};g.prototype.dispatchRenderEvent_=function(d,f,a){var e=this.getLayer();e.hasListener(d)&&(d=new l["default"](d,this.inversePixelTransform,a,f),e.dispatchEvent(d))};g.prototype.preRender=function(d,f){this.dispatchRenderEvent_(u["default"].PRERENDER,d,f)};g.prototype.postRender=function(d,f){this.dispatchRenderEvent_(u["default"].POSTRENDER,
d,f)};g.prototype.getRenderTransform=function(d,f,a,e,n,x,z){n/=2;x/=2;f=e/f;e=-f;z=-d[0]+z;d=-d[1];return(0,G.compose)(this.tempTransform,n,x,f,e,-a,z,d)};g.prototype.getDataAtPixel=function(d,f,a){a=(0,G.apply)(this.inversePixelTransform,d.slice());var e=this.context,n=this.getLayer().getExtent();if(n&&(d=(0,G.apply)(f.pixelToCoordinateTransform,d.slice()),!(0,L.containsCoordinate)(n,d)))return null;try{var x=Math.round(a[0]),z=Math.round(a[1]),B=document.createElement("canvas"),M=B.getContext("2d");
B.width=1;B.height=1;M.clearRect(0,0,1,1);M.drawImage(e.canvas,x,z,1,1,0,0,1,1);var K=M.getImageData(0,0,1,1).data}catch(D){return"SecurityError"===D.name?new Uint8Array:K}return 0===K[3]?null:K};return g}(Ia["default"]);J["default"]=A};
shadow$provide[220]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"}};
shadow$provide[221]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J.drawTextOnPath=function(u,G,L,w,v,t,k,g,d,f,a,e){function n(){B=x;M=z;G+=w;x=u[G];z=u[G+1];D+=K;K=Math.sqrt((x-B)*(x-B)+(z-M)*(z-M))}var x=u[G],z=u[G+1],B=0,M=0,K=0,D=0;do n();while(G<L-w&&D+K<t);for(var y=(t-D)/K,E=(0,m.lerp)(B,x,y),H=(0,m.lerp)(M,z,y),Q=G-w,S=D,ea=t+g*d(f,v,a);G<L-w&&D+K<ea;)n();y=(ea-D)/K;var ba=(0,m.lerp)(B,x,y);y=(0,m.lerp)(M,z,y);if(e){var fa=[E,H,ba,y];(0,l.rotate)(fa,0,4,2,e,fa,fa);
e=fa[0]>fa[2]}else e=E>ba;fa=Math.PI;var ia=[],ca=Q+w===G;G=Q;K=0;D=S;x=u[G];z=u[G+1];if(ca)return n(),L=Math.atan2(z-M,x-B),e&&(L+=0<L?-fa:fa),ia[0]=[(ba+E)/2,(y+H)/2,(ea-t)/2,L,v],ia;E=0;for(H=v.length;E<H;){n();ea=Math.atan2(z-M,x-B);e&&(ea+=0<ea?-fa:fa);if(void 0!==N){var N=ea-N;N+=N>fa?-2*fa:N<-fa?2*fa:0;if(Math.abs(N)>k)return null}N=ea;y=E;for(ba=0;E<H;++E){Q=g*d(f,v[e?H-E-1:E],a);if(G+w<L&&D+K<t+ba+Q/2)break;ba+=Q}E!==y&&(S=e?v.substring(H-y,H-E):v.substring(y,E),y=(t+ba/2-D)/K,Q=(0,m.lerp)(B,
x,y),y=(0,m.lerp)(M,z,y),ia.push([Q,y,ba/2,ea,S]),t+=ba)}return ia};var m=A(81),l=A(136)};
shadow$provide[222]=function(Ia,A,mb,J){function m(M){return M[3].declutterBox}function l(M,K){"start"!==K&&"end"!==K||B.test(M)||(K="start"===K?"left":"right");return G.TEXT_ALIGN[K]}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var u=function(M){return M&&M.__esModule?M:{"default":M}}(A(208)),G=A(216),L=A(102),w=A(77),v=A(80),t=A(104),k=A(221),g=A(72),d=A(192),f=A(136),a=(0,v.createEmpty)(),e=[],n=[],x=[],z=[],B=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+
String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");Ia=function(){function M(K,D,y,E,H){this.overlaps=y;this.pixelRatio=D;this.resolution=K;this.instructions=E.instructions;this.coordinates=E.coordinates;this.coordinateCache_={};this.renderBuffer_=H;this.renderedTransform_=(0,w.create)();this.hitDetectionInstructions=
E.hitDetectionInstructions;this.pixelCoordinates_=null;this.viewRotation_=0;this.fillStates=E.fillStates||{};this.strokeStates=E.strokeStates||{};this.textStates=E.textStates||{};this.widths_={};this.labels_={}}M.prototype.createLabel=function(K,D,y,E){var H=K+D+y+E;if(this.labels_[H])return this.labels_[H];var Q=E?this.strokeStates[E]:null,S=y?this.fillStates[y]:null,ea=this.textStates[D];D=this.pixelRatio;var ba=[ea.scale[0]*D,ea.scale[1]*D],fa=l(K,ea.textAlign||t.defaultTextAlign);D=E&&Q.lineWidth?
Q.lineWidth:0;K=K.split("\n");var ia=K.length,ca=[],N=(0,t.measureTextWidths)(ea.font,K,ca),C=(0,t.measureTextHeight)(ea.font),W=N+D;N=[];var ha=(W+2)*ba[0],Y=(C*ia+D)*ba[1];ha={width:0>ha?Math.floor(ha):Math.ceil(ha),height:0>Y?Math.floor(Y):Math.ceil(Y),contextInstructions:N};1==ba[0]&&1==ba[1]||N.push("scale",ba);N.push("font",ea.font);E&&(N.push("strokeStyle",Q.strokeStyle),N.push("lineWidth",D),N.push("lineCap",Q.lineCap),N.push("lineJoin",Q.lineJoin),N.push("miterLimit",Q.miterLimit),(L.WORKER_OFFSCREEN_CANVAS?
OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(N.push("setLineDash",[Q.lineDash]),N.push("lineDashOffset",Q.lineDashOffset)));y&&N.push("fillStyle",S.fillStyle);N.push("textBaseline","middle");N.push("textAlign","center");Q=.5-fa;S=fa*W+Q*D;if(E)for(E=0;E<ia;++E)N.push("strokeText",[K[E],S+Q*ca[E],.5*(D+C)+E*C]);if(y)for(E=0;E<ia;++E)N.push("fillText",[K[E],S+Q*ca[E],.5*(D+C)+E*C]);return this.labels_[H]=ha};M.prototype.replayTextBackground_=function(K,D,y,E,H,
Q,S){K.beginPath();K.moveTo.apply(K,D);K.lineTo.apply(K,y);K.lineTo.apply(K,E);K.lineTo.apply(K,H);K.lineTo.apply(K,D);Q&&(this.alignFill_=Q[2],this.fill_(K));S&&(this.setStrokeStyle_(K,S),K.stroke())};M.prototype.calculateImageOrLabelDimensions_=function(K,D,y,E,H,Q,S,ea,ba,fa,ia,ca,N,C,W,ha){S*=ca[0];ea*=ca[1];S=y-S;ea=E-ea;K=H+ba>K?K-ba:H;D=Q+fa>D?D-fa:Q;Q=C[3]+K*ca[0]+C[1];H=C[0]+D*ca[1]+C[2];var Y=S-C[3];C=ea-C[0];if(W||0!==ia)e[0]=Y,z[0]=Y,e[1]=C,n[1]=C,n[0]=Y+Q,x[0]=n[0],x[1]=C+H,z[1]=x[1];
if(0!==ia){var wa=(0,w.compose)((0,w.create)(),y,E,1,1,ia,-y,-E);(0,w.apply)(wa,e);(0,w.apply)(wa,n);(0,w.apply)(wa,x);(0,w.apply)(wa,z);(0,v.createOrUpdate)(Math.min(e[0],n[0],x[0],z[0]),Math.min(e[1],n[1],x[1],z[1]),Math.max(e[0],n[0],x[0],z[0]),Math.max(e[1],n[1],x[1],z[1]),a)}else(0,v.createOrUpdate)(Math.min(Y,Y+Q),Math.min(C,C+H),Math.max(Y,Y+Q),Math.max(C,C+H),a);N&&(S=Math.round(S),ea=Math.round(ea));return{drawImageX:S,drawImageY:ea,drawImageW:K,drawImageH:D,originX:ba,originY:fa,declutterBox:{minX:a[0],
minY:a[1],maxX:a[2],maxY:a[3],value:ha},canvasTransform:wa,scale:ca}};M.prototype.replayImageOrLabel_=function(K,D,y,E,H,Q,S){var ea=E.declutterBox,ba=K.canvas,fa=S?S[2]*E.scale[0]/2:0;ea.minX-fa<=ba.width/D&&0<=ea.maxX+fa&&ea.minY-fa<=ba.height/D&&0<=ea.maxY+fa&&((Q||S)&&this.replayTextBackground_(K,e,n,x,z,Q,S),(0,t.drawImageOrLabel)(K,E.canvasTransform,H,y,E.originX,E.originY,E.drawImageW,E.drawImageH,E.drawImageX,E.drawImageY,E.scale));return!0};M.prototype.fill_=function(K){if(this.alignFill_){var D=
(0,w.apply)(this.renderedTransform_,[0,0]),y=512*this.pixelRatio;K.save();K.translate(D[0]%y,D[1]%y);K.rotate(this.viewRotation_)}K.fill();this.alignFill_&&K.restore()};M.prototype.setStrokeStyle_=function(K,D){K.strokeStyle=D[1];K.lineWidth=D[2];K.lineCap=D[3];K.lineJoin=D[4];K.miterLimit=D[5];K.setLineDash&&(K.lineDashOffset=D[7],K.setLineDash(D[6]))};M.prototype.drawLabelWithPointPlacement_=function(K,D,y,E){var H=this.textStates[D];D=this.createLabel(K,D,E,y);E=this.strokeStates[y];y=this.pixelRatio;
K=l(K,H.textAlign||t.defaultTextAlign);var Q=G.TEXT_ALIGN[H.textBaseline||t.defaultTextBaseline];E=E&&E.lineWidth?E.lineWidth:0;return{label:D,anchorX:K*(D.width/y-2*H.scale[0])+2*(.5-K)*E,anchorY:Q*D.height/y+2*(.5-Q)*E}};M.prototype.execute_=function(K,D,y,E,H,Q,S,ea){if(this.pixelCoordinates_&&(0,g.equals)(y,this.renderedTransform_))var ba=this.pixelCoordinates_;else this.pixelCoordinates_||(this.pixelCoordinates_=[]),ba=(0,f.transform2D)(this.coordinates,0,this.coordinates.length,2,y,this.pixelCoordinates_),
(0,w.setFromArray)(this.renderedTransform_,y);var fa=0,ia=E.length,ca,N=0,C=0,W=null,ha=null,Y=this.coordinateCache_,wa=this.viewRotation_;y=Math.round(1E12*Math.atan2(-y[1],y[0]))/1E12;for(var xa={context:K,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:wa},Ha=this.instructions!=E||this.overlaps?0:200,Za,gb;fa<ia;){var ra=E[fa];switch(ra[0]){case u["default"].BEGIN_GEOMETRY:Za=ra[1];gb=ra[3];Za.getGeometry()?void 0===S||(0,v.intersects)(S,gb.getExtent())?++fa:fa=ra[2]+1:fa=ra[2];
break;case u["default"].BEGIN_PATH:N>Ha&&(this.fill_(K),N=0);C>Ha&&(K.stroke(),C=0);if(!N&&!C){K.beginPath();var Pa=ca=NaN}++fa;break;case u["default"].CIRCLE:var Ua=ra[1];var za=ba[Ua];var qa=ba[Ua+1];var R=ba[Ua+2]-za;Ua=ba[Ua+3]-qa;R=Math.sqrt(R*R+Ua*Ua);K.moveTo(za+R,qa);K.arc(za,qa,R,0,2*Math.PI,!0);++fa;break;case u["default"].CLOSE_PATH:K.closePath();++fa;break;case u["default"].CUSTOM:Ua=ra[1];var T=ra[2];za=ra[4];qa=6==ra.length?ra[5]:void 0;xa.geometry=ra[3];xa.feature=Za;fa in Y||(Y[fa]=
[]);R=Y[fa];qa?qa(ba,Ua,T,2,R):(R[0]=ba[Ua],R[1]=ba[Ua+1],R.length=2);za(R,xa);++fa;break;case u["default"].DRAW_IMAGE:Ua=ra[1];T=ra[2];za=ra[3];var X=ra[4];var Z=ra[5];qa=ra[6];var oa=ra[7],na=ra[8],Aa=ra[9],ka=ra[10],Na=ra[11],$a=ra[12];R=ra[13];var Wa=ra[14];!za&&19<=ra.length&&(X=ra[18],za=ra[19],qa=ra[20],R=ra[21],qa=this.drawLabelWithPointPlacement_(X,za,qa,R),za=qa.label,ra[3]=za,X=(qa.anchorX-ra[22])*this.pixelRatio,ra[4]=X,Z=(qa.anchorY-ra[23])*this.pixelRatio,ra[5]=Z,qa=za.height,ra[6]=
qa,R=za.width,ra[13]=R);var Ca=void 0;24<ra.length&&(Ca=ra[24]);if(16<ra.length){var Da=ra[15];var ma=ra[16];var Ea=ra[17]}else Da=t.defaultPadding,Ea=ma=!1;ka&&y?Na+=wa:ka||y||(Na-=wa);for(ka=0;Ua<T;Ua+=2)if(!(Ca&&Ca[ka++]<R/this.pixelRatio)){ra=this.calculateImageOrLabelDimensions_(za.width,za.height,ba[Ua],ba[Ua+1],R,qa,X,Z,na,Aa,Na,$a,H,Da,ma||Ea,Za);var Qa=[K,D,za,ra,oa,ma?W:null,Ea?ha:null],eb=void 0,yb=void 0;if(ea&&Wa){if(!Wa[Ua]){Wa[Ua]=Qa;continue}eb=Wa[Ua];delete Wa[Ua];yb=m(eb);if(ea.collides(yb))continue}ea&&
ea.collides(ra.declutterBox)||(eb&&(ea&&ea.insert(yb),this.replayImageOrLabel_.apply(this,eb)),ea&&ea.insert(ra.declutterBox),this.replayImageOrLabel_.apply(this,Qa))}++fa;break;case u["default"].DRAW_CHARS:Z=ra[1];Na=ra[2];Ua=ra[3];Wa=ra[4];R=ra[5];$a=ra[6];Aa=ra[7];T=ra[8];qa=ra[9];oa=ra[10];X=ra[11];za=ra[12];na=[ra[13],ra[13]];ka=this.textStates[za];ra=ka.font;Aa=[ka.scale[0]*Aa,ka.scale[1]*Aa];ra in this.widths_?ka=this.widths_[ra]:(ka={},this.widths_[ra]=ka);Ca=(0,d.lineStringLength)(ba,Z,Na,
2);Da=Math.abs(Aa[0])*(0,t.measureAndCacheTextWidth)(ra,X,ka);if(Wa||Da<=Ca)a:if(Wa=(Ca-Da)*G.TEXT_ALIGN[this.textStates[za].textAlign],$a=(0,k.drawTextOnPath)(ba,Z,Na,2,X,Wa,$a,Math.abs(Aa[0]),t.measureAndCacheTextWidth,ra,ka,y?0:this.viewRotation_),$a){Na=[];if(qa)for(Wa=0,ka=$a.length;Wa<ka;++Wa){ra=$a[Wa];X=ra[4];Ca=this.createLabel(X,za,"",qa);X=ra[2]+(0>Aa[0]?-oa:oa);Z=Ua*Ca.height+2*(.5-Ua)*oa*Aa[1]/Aa[0]-T;ra=this.calculateImageOrLabelDimensions_(Ca.width,Ca.height,ra[0],ra[1],Ca.width,Ca.height,
X,Z,0,0,ra[3],na,!1,t.defaultPadding,!1,Za);if(ea&&ea.collides(ra.declutterBox))break a;Na.push([K,D,Ca,ra,1,null,null])}if(R)for(Wa=0,ka=$a.length;Wa<ka;++Wa){ra=$a[Wa];X=ra[4];Ca=this.createLabel(X,za,R,"");X=ra[2];Z=Ua*Ca.height-T;ra=this.calculateImageOrLabelDimensions_(Ca.width,Ca.height,ra[0],ra[1],Ca.width,Ca.height,X,Z,0,0,ra[3],na,!1,t.defaultPadding,!1,Za);if(ea&&ea.collides(ra.declutterBox))break a;Na.push([K,D,Ca,ra,1,null,null])}ea&&ea.load(Na.map(m));za=0;for(qa=Na.length;za<qa;++za)this.replayImageOrLabel_.apply(this,
Na[za])}++fa;break;case u["default"].END_GEOMETRY:if(void 0!==Q&&(Za=ra[1],za=Q(Za,gb)))return za;++fa;break;case u["default"].FILL:Ha?N++:this.fill_(K);++fa;break;case u["default"].MOVE_TO_LINE_TO:Ua=ra[1];T=ra[2];R=ba[Ua];X=ba[Ua+1];za=R+.5|0;qa=X+.5|0;if(za!==ca||qa!==Pa)K.moveTo(R,X),ca=za,Pa=qa;for(Ua+=2;Ua<T;Ua+=2)if(R=ba[Ua],X=ba[Ua+1],za=R+.5|0,qa=X+.5|0,Ua==T-2||za!==ca||qa!==Pa)K.lineTo(R,X),ca=za,Pa=qa;++fa;break;case u["default"].SET_FILL_STYLE:W=ra;this.alignFill_=ra[2];N&&(this.fill_(K),
N=0,C&&(K.stroke(),C=0));K.fillStyle=ra[1];++fa;break;case u["default"].SET_STROKE_STYLE:ha=ra;C&&(K.stroke(),C=0);this.setStrokeStyle_(K,ra);++fa;break;case u["default"].STROKE:Ha?C++:K.stroke();++fa;break;default:++fa}}N&&this.fill_(K);C&&K.stroke()};M.prototype.execute=function(K,D,y,E,H,Q){this.viewRotation_=E;this.execute_(K,D,y,this.instructions,H,void 0,void 0,Q)};M.prototype.executeHitDetection=function(K,D,y,E,H){this.viewRotation_=y;return this.execute_(K,1,D,this.hitDetectionInstructions,
!0,E,H)};return M}();J["default"]=Ia};
shadow$provide[223]=function(Ia,A,mb,J){function m(a){return a&&a.__esModule?a:{"default":a}}function l(a){if(void 0!==f[a])return f[a];for(var e=2*a+1,n=a*a,x=Array(n+1),z=0;z<=a;++z)for(var B=0;B<=a;++B){var M=z*z+B*B;if(M>n)break;var K=x[M];K||(K=[],x[M]=K);K.push(4*((a+z)*e+(a+B))+3);0<z&&K.push(4*((a-z)*e+(a+B))+3);0<B&&(K.push(4*((a+z)*e+(a-B))+3),0<z&&K.push(4*((a-z)*e+(a-B))+3))}e=[];z=0;for(n=x.length;z<n;++z)x[z]&&e.push.apply(e,x[z]);return f[a]=e}Object.defineProperty(J,"__esModule",{value:!0});
J.getPixelIndexArray=l;J["default"]=void 0;var u=m(A(220)),G=m(A(222)),L=A(80),w=A(77),v=A(103),t=A(86),k=A(72),g=A(136),d=[u["default"].POLYGON,u["default"].CIRCLE,u["default"].LINE_STRING,u["default"].IMAGE,u["default"].TEXT,u["default"].DEFAULT];Ia=function(){function a(e,n,x,z,B,M){this.maxExtent_=e;this.overlaps_=z;this.pixelRatio_=x;this.resolution_=n;this.renderBuffer_=M;this.executorsByZIndex_={};this.hitDetectionContext_=null;this.hitDetectionTransform_=(0,w.create)();this.createExecutors_(B)}
a.prototype.clip=function(e,n){n=this.getClipCoords(n);e.beginPath();e.moveTo(n[0],n[1]);e.lineTo(n[2],n[3]);e.lineTo(n[4],n[5]);e.lineTo(n[6],n[7]);e.clip()};a.prototype.createExecutors_=function(e){for(var n in e){var x=this.executorsByZIndex_[n];void 0===x&&(x={},this.executorsByZIndex_[n]=x);var z=e[n],B=[this.renderBuffer_||0,this.renderBuffer_||0],M;for(M in z)x[M]=new G["default"](this.resolution_,this.pixelRatio_,this.overlaps_,z[M],B)}};a.prototype.hasExecutors=function(e){for(var n in this.executorsByZIndex_)for(var x=
this.executorsByZIndex_[n],z=0,B=e.length;z<B;++z)if(e[z]in x)return!0;return!1};a.prototype.forEachFeatureAtCoordinate=function(e,n,x,z,B,M){function K(ia,ca){for(var N=H.getImageData(0,0,D,D).data,C=0,W=S.length;C<W;C++)if(0<N[S[C]]){if(!M||ba!==u["default"].IMAGE&&ba!==u["default"].TEXT||-1!==M.indexOf(ia))if(C=(S[C]-3)/4,N=z-C%D,C=z-(C/D|0),ia=B(ia,ca,N*N+C*C))return ia;H.clearRect(0,0,D,D);break}}z=Math.round(z);var D=2*z+1,y=(0,w.compose)(this.hitDetectionTransform_,z+.5,z+.5,1/n,-1/n,-x,-e[0],
-e[1]),E=!this.hitDetectionContext_;E&&(this.hitDetectionContext_=(0,v.createCanvasContext2D)(D,D));var H=this.hitDetectionContext_;H.canvas.width!==D||H.canvas.height!==D?(H.canvas.width=D,H.canvas.height=D):E||H.clearRect(0,0,D,D);if(void 0!==this.renderBuffer_){var Q=(0,L.createEmpty)();(0,L.extendCoordinate)(Q,e);(0,L.buffer)(Q,n*(this.renderBuffer_+z),Q)}var S=l(z);e=Object.keys(this.executorsByZIndex_).map(Number);e.sort(k.numberSafeCompareFunction);for(n=e.length-1;0<=n;--n){var ea=this.executorsByZIndex_[e[n].toString()];
for(E=d.length-1;0<=E;--E){var ba=d[E];var fa=ea[ba];if(void 0!==fa&&(fa=fa.executeHitDetection(H,y,x,K,Q)))return fa}}};a.prototype.getClipCoords=function(e){var n=this.maxExtent_;if(!n)return null;var x=n[0],z=n[1],B=n[2];n=n[3];x=[x,z,x,n,B,n,B,z];(0,g.transform2D)(x,0,8,2,e,x);return x};a.prototype.isEmpty=function(){return(0,t.isEmpty)(this.executorsByZIndex_)};a.prototype.execute=function(e,n,x,z,B,M,K){var D=Object.keys(this.executorsByZIndex_).map(Number);D.sort(k.numberSafeCompareFunction);
this.maxExtent_&&(e.save(),this.clip(e,x));M=M?M:d;var y,E;K&&D.reverse();var H=0;for(y=D.length;H<y;++H){var Q=this.executorsByZIndex_[D[H].toString()];var S=0;for(E=M.length;S<E;++S){var ea=Q[M[S]];void 0!==ea&&ea.execute(e,n,x,z,B,K)}}this.maxExtent_&&e.restore()};return a}();var f={};J["default"]=Ia};
shadow$provide[224]=function(Ia,A,mb,J){function m(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(A(119));Ia=m(A(209));var u=A(201),G=A(77),L=A(104),w=A(72),v=A(80),t=A(136),k=A(138),g=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var x in n)Object.prototype.hasOwnProperty.call(n,x)&&(e[x]=n[x])};return d(f,a)};return function(f,a){function e(){this.constructor=
f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();A=function(d){function f(a,e,n,x,z,B,M){var K=d.call(this)||this;K.context_=a;K.pixelRatio_=e;K.extent_=n;K.transform_=x;K.viewRotation_=z;K.squaredTolerance_=B;K.userTransform_=M;K.contextFillState_=null;K.contextStrokeState_=null;K.contextTextState_=null;K.fillState_=null;K.strokeState_=null;K.image_=null;K.imageAnchorX_=0;K.imageAnchorY_=0;K.imageHeight_=0;K.imageOpacity_=0;K.imageOriginX_=0;K.imageOriginY_=0;K.imageRotateWithView_=
!1;K.imageRotation_=0;K.imageScale_=[0,0];K.imageWidth_=0;K.text_="";K.textOffsetX_=0;K.textOffsetY_=0;K.textRotateWithView_=!1;K.textRotation_=0;K.textScale_=[0,0];K.textFillState_=null;K.textStrokeState_=null;K.textState_=null;K.pixelCoordinates_=[];K.tmpLocalTransform_=(0,G.create)();return K}g(f,d);f.prototype.drawImages_=function(a,e,n,x){if(this.image_){a=(0,t.transform2D)(a,e,n,2,this.transform_,this.pixelCoordinates_);e=this.context_;n=this.tmpLocalTransform_;x=e.globalAlpha;1!=this.imageOpacity_&&
(e.globalAlpha=x*this.imageOpacity_);var z=this.imageRotation_;this.imageRotateWithView_&&(z+=this.viewRotation_);for(var B=0,M=a.length;B<M;B+=2){var K=a[B]-this.imageAnchorX_,D=a[B+1]-this.imageAnchorY_;0!==z||1!=this.imageScale_[0]||1!=this.imageScale_[1]?(K+=this.imageAnchorX_,D+=this.imageAnchorY_,(0,G.compose)(n,K,D,1,1,z,-K,-D),e.setTransform.apply(e,n),e.translate(K,D),e.scale(this.imageScale_[0],this.imageScale_[1]),e.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,
this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),e.setTransform(1,0,0,1,0,0)):e.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,K,D,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(e.globalAlpha=x)}};f.prototype.drawText_=function(a,e,n,x){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_);this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_);
this.setContextTextState_(this.textState_);a=(0,t.transform2D)(a,e,n,x,this.transform_,this.pixelCoordinates_);var z=this.context_,B=this.textRotation_;for(this.textRotateWithView_&&(B+=this.viewRotation_);e<n;e+=x){var M=a[e]+this.textOffsetX_,K=a[e+1]+this.textOffsetY_;if(0!==B||1!=this.textScale_[0]||1!=this.textScale_[1]){var D=(0,G.compose)(this.tmpLocalTransform_,M,K,1,1,B,-M,-K);z.setTransform.apply(z,D);z.translate(M,K);z.scale(this.textScale_[0],this.textScale_[1]);this.textStrokeState_&&
z.strokeText(this.text_,0,0);this.textFillState_&&z.fillText(this.text_,0,0);z.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&z.strokeText(this.text_,M,K),this.textFillState_&&z.fillText(this.text_,M,K)}}};f.prototype.moveToLineTo_=function(a,e,n,x,z){var B=this.context_;a=(0,t.transform2D)(a,e,n,x,this.transform_,this.pixelCoordinates_);B.moveTo(a[0],a[1]);e=a.length;z&&(e-=2);for(x=2;x<e;x+=2)B.lineTo(a[x],a[x+1]);z&&B.closePath();return n};f.prototype.drawRings_=function(a,e,n,x){for(var z=
0,B=n.length;z<B;++z)e=this.moveToLineTo_(a,e,n[z],x,!0);return e};f.prototype.drawCircle=function(a){if((0,v.intersects)(this.extent_,a.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_);this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=(0,k.transformGeom2D)(a,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],x=e[3]-e[1];n=Math.sqrt(n*n+x*x);x=this.context_;x.beginPath();x.arc(e[0],e[1],n,0,2*Math.PI);this.fillState_&&
x.fill();this.strokeState_&&x.stroke()}""!==this.text_&&this.drawText_(a.getCenter(),0,2,2)}};f.prototype.setStyle=function(a){this.setFillStrokeStyle(a.getFill(),a.getStroke());this.setImageStyle(a.getImage());this.setTextStyle(a.getText())};f.prototype.setTransform=function(a){this.transform_=a};f.prototype.drawGeometry=function(a){switch(a.getType()){case l["default"].POINT:this.drawPoint(a);break;case l["default"].LINE_STRING:this.drawLineString(a);break;case l["default"].POLYGON:this.drawPolygon(a);
break;case l["default"].MULTI_POINT:this.drawMultiPoint(a);break;case l["default"].MULTI_LINE_STRING:this.drawMultiLineString(a);break;case l["default"].MULTI_POLYGON:this.drawMultiPolygon(a);break;case l["default"].GEOMETRY_COLLECTION:this.drawGeometryCollection(a);break;case l["default"].CIRCLE:this.drawCircle(a)}};f.prototype.drawFeature=function(a,e){(a=e.getGeometryFunction()(a))&&(0,v.intersects)(this.extent_,a.getExtent())&&(this.setStyle(e),this.drawGeometry(a))};f.prototype.drawGeometryCollection=
function(a){a=a.getGeometriesArray();for(var e=0,n=a.length;e<n;++e)this.drawGeometry(a[e])};f.prototype.drawPoint=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=a.getFlatCoordinates();a=a.getStride();this.image_&&this.drawImages_(e,0,e.length,a);""!==this.text_&&this.drawText_(e,0,e.length,a)};f.prototype.drawMultiPoint=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=a.getFlatCoordinates();
a=a.getStride();this.image_&&this.drawImages_(e,0,e.length,a);""!==this.text_&&this.drawText_(e,0,e.length,a)};f.prototype.drawLineString=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));if((0,v.intersects)(this.extent_,a.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=a.getFlatCoordinates();e.beginPath();this.moveToLineTo_(n,0,n.length,a.getStride(),!1);e.stroke()}""!==this.text_&&(a=
a.getFlatMidpoint(),this.drawText_(a,0,2,2))}};f.prototype.drawMultiLineString=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=a.getExtent();if((0,v.intersects)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);e=this.context_;var n=a.getFlatCoordinates(),x=0,z=a.getEnds(),B=a.getStride();e.beginPath();for(var M=0,K=z.length;M<K;++M)x=this.moveToLineTo_(n,x,z[M],B,!1);e.stroke()}""!==this.text_&&(a=
a.getFlatMidpoints(),this.drawText_(a,0,a.length,2))}};f.prototype.drawPolygon=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));if((0,v.intersects)(this.extent_,a.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_);this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath();this.drawRings_(a.getOrientedFlatCoordinates(),0,a.getEnds(),a.getStride());
this.fillState_&&e.fill();this.strokeState_&&e.stroke()}""!==this.text_&&(a=a.getFlatInteriorPoint(),this.drawText_(a,0,2,2))}};f.prototype.drawMultiPolygon=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));if((0,v.intersects)(this.extent_,a.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_);this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=a.getOrientedFlatCoordinates(),
x=0,z=a.getEndss(),B=a.getStride();e.beginPath();for(var M=0,K=z.length;M<K;++M)x=this.drawRings_(n,x,z[M],B);this.fillState_&&e.fill();this.strokeState_&&e.stroke()}""!==this.text_&&(a=a.getFlatInteriorPoints(),this.drawText_(a,0,a.length,2))}};f.prototype.setContextFillState_=function(a){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=a.fillStyle&&(n.fillStyle=a.fillStyle,e.fillStyle=a.fillStyle):(e.fillStyle=a.fillStyle,this.contextFillState_={fillStyle:a.fillStyle})};f.prototype.setContextStrokeState_=
function(a){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=a.lineCap&&(n.lineCap=a.lineCap,e.lineCap=a.lineCap),e.setLineDash&&((0,w.equals)(n.lineDash,a.lineDash)||e.setLineDash(n.lineDash=a.lineDash),n.lineDashOffset!=a.lineDashOffset&&(n.lineDashOffset=a.lineDashOffset,e.lineDashOffset=a.lineDashOffset)),n.lineJoin!=a.lineJoin&&(n.lineJoin=a.lineJoin,e.lineJoin=a.lineJoin),n.lineWidth!=a.lineWidth&&(n.lineWidth=a.lineWidth,e.lineWidth=a.lineWidth),n.miterLimit!=a.miterLimit&&(n.miterLimit=
a.miterLimit,e.miterLimit=a.miterLimit),n.strokeStyle!=a.strokeStyle&&(n.strokeStyle=a.strokeStyle,e.strokeStyle=a.strokeStyle)):(e.lineCap=a.lineCap,e.setLineDash&&(e.setLineDash(a.lineDash),e.lineDashOffset=a.lineDashOffset),e.lineJoin=a.lineJoin,e.lineWidth=a.lineWidth,e.miterLimit=a.miterLimit,e.strokeStyle=a.strokeStyle,this.contextStrokeState_={lineCap:a.lineCap,lineDash:a.lineDash,lineDashOffset:a.lineDashOffset,lineJoin:a.lineJoin,lineWidth:a.lineWidth,miterLimit:a.miterLimit,strokeStyle:a.strokeStyle})};
f.prototype.setContextTextState_=function(a){var e=this.context_,n=this.contextTextState_,x=a.textAlign?a.textAlign:L.defaultTextAlign;n?(n.font!=a.font&&(n.font=a.font,e.font=a.font),n.textAlign!=x&&(n.textAlign=x,e.textAlign=x),n.textBaseline!=a.textBaseline&&(n.textBaseline=a.textBaseline,e.textBaseline=a.textBaseline)):(e.font=a.font,e.textAlign=x,e.textBaseline=a.textBaseline,this.contextTextState_={font:a.font,textAlign:x,textBaseline:a.textBaseline})};f.prototype.setFillStrokeStyle=function(a,
e){a?(a=a.getColor(),this.fillState_={fillStyle:(0,u.asColorLike)(a?a:L.defaultFillStyle)}):this.fillState_=null;if(e){a=e.getColor();var n=e.getLineCap(),x=e.getLineDash(),z=e.getLineDashOffset(),B=e.getLineJoin(),M=e.getWidth();e=e.getMiterLimit();this.strokeState_={lineCap:void 0!==n?n:L.defaultLineCap,lineDash:x?x:L.defaultLineDash,lineDashOffset:z?z:L.defaultLineDashOffset,lineJoin:void 0!==B?B:L.defaultLineJoin,lineWidth:this.pixelRatio_*(void 0!==M?M:L.defaultLineWidth),miterLimit:void 0!==
e?e:L.defaultMiterLimit,strokeStyle:(0,u.asColorLike)(a?a:L.defaultStrokeStyle)}}else this.strokeState_=null};f.prototype.setImageStyle=function(a){if(a){var e=a.getSize();if(e){var n=a.getAnchor(),x=a.getImage(1),z=a.getOrigin(),B=a.getScaleArray();this.imageAnchorX_=n[0];this.imageAnchorY_=n[1];this.imageHeight_=e[1];this.image_=x;this.imageOpacity_=a.getOpacity();this.imageOriginX_=z[0];this.imageOriginY_=z[1];this.imageRotateWithView_=a.getRotateWithView();this.imageRotation_=a.getRotation();
this.imageScale_=[this.pixelRatio_*B[0],this.pixelRatio_*B[1]];this.imageWidth_=e[0]}else this.image_=null}else this.image_=null};f.prototype.setTextStyle=function(a){if(a){var e=a.getFill();e?(e=e.getColor(),this.textFillState_={fillStyle:(0,u.asColorLike)(e?e:L.defaultFillStyle)}):this.textFillState_=null;var n=a.getStroke();if(n){e=n.getColor();var x=n.getLineCap(),z=n.getLineDash(),B=n.getLineDashOffset(),M=n.getLineJoin(),K=n.getWidth();n=n.getMiterLimit();this.textStrokeState_={lineCap:void 0!==
x?x:L.defaultLineCap,lineDash:z?z:L.defaultLineDash,lineDashOffset:B?B:L.defaultLineDashOffset,lineJoin:void 0!==M?M:L.defaultLineJoin,lineWidth:void 0!==K?K:L.defaultLineWidth,miterLimit:void 0!==n?n:L.defaultMiterLimit,strokeStyle:(0,u.asColorLike)(e?e:L.defaultStrokeStyle)}}else this.textStrokeState_=null;e=a.getFont();x=a.getOffsetX();z=a.getOffsetY();B=a.getRotateWithView();M=a.getRotation();K=a.getScaleArray();n=a.getText();var D=a.getTextAlign();a=a.getTextBaseline();this.textState_={font:void 0!==
e?e:L.defaultFont,textAlign:void 0!==D?D:L.defaultTextAlign,textBaseline:void 0!==a?a:L.defaultTextBaseline};this.text_=void 0!==n?n:"";this.textOffsetX_=void 0!==x?this.pixelRatio_*x:0;this.textOffsetY_=void 0!==z?this.pixelRatio_*z:0;this.textRotateWithView_=void 0!==B?B:!1;this.textRotation_=void 0!==M?M:0;this.textScale_=[this.pixelRatio_*K[0],this.pixelRatio_*K[1]]}else this.text_=""};return f}(Ia["default"]);J["default"]=A};
shadow$provide[225]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={FRACTION:"fraction",PIXELS:"pixels"}};
shadow$provide[226]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}};
shadow$provide[227]=function(Ia,A,mb,J){function m(L){return L&&L.__esModule?L:{"default":L}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=m(A(87));var l=m(A(88)),u=A(74),G=function(){var L=function(w,v){L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,k){t.__proto__=k}||function(t,k){for(var g in k)Object.prototype.hasOwnProperty.call(k,g)&&(t[g]=k[g])};return L(w,v)};return function(w,v){function t(){this.constructor=w}L(w,v);w.prototype=null===v?Object.create(v):
(t.prototype=v.prototype,new t)}}();A=function(L){function w(v,t,k,g){var d=L.call(this)||this;d.extent=v;d.pixelRatio_=k;d.resolution=t;d.state=g;return d}G(w,L);w.prototype.changed=function(){this.dispatchEvent(l["default"].CHANGE)};w.prototype.getExtent=function(){return this.extent};w.prototype.getImage=function(){return(0,u["abstract"])()};w.prototype.getPixelRatio=function(){return this.pixelRatio_};w.prototype.getResolution=function(){return this.resolution};w.prototype.getState=function(){return this.state};
w.prototype.load=function(){(0,u["abstract"])()};return w}(Ia["default"]);J["default"]=A};
shadow$provide[228]=function(Ia,A,mb,J){function m(k){return k&&k.__esModule?k:{"default":k}}function l(k,g,d){if(k.src&&L.IMAGE_DECODE){var f=!0;k.decode().then(function(){f&&g()})["catch"](function(e){f&&("EncodingError"===e.name&&"Invalid image type."===e.message?g():d())});return function(){f=!1}}var a=[(0,v.listenOnce)(k,u["default"].LOAD,g),(0,v.listenOnce)(k,u["default"].ERROR,d)];return function(){a.forEach(v.unlistenByKey)}}Object.defineProperty(J,"__esModule",{value:!0});J.listenImage=l;
J["default"]=void 0;var u=m(A(88));Ia=m(A(227));var G=m(A(199)),L=A(102),w=A(80),v=A(89),t=function(){var k=function(g,d){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(f[e]=a[e])};return k(g,d)};return function(g,d){function f(){this.constructor=g}k(g,d);g.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)}}();A=function(k){function g(d,f,a,e,n,x){d=k.call(this,d,f,a,
G["default"].IDLE)||this;d.src_=e;d.image_=new Image;null!==n&&(d.image_.crossOrigin=n);d.unlisten_=null;d.state=G["default"].IDLE;d.imageLoadFunction_=x;return d}t(g,k);g.prototype.getImage=function(){return this.image_};g.prototype.handleImageError_=function(){this.state=G["default"].ERROR;this.unlistenImage_();this.changed()};g.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=(0,w.getHeight)(this.extent)/this.image_.height);this.state=G["default"].LOADED;this.unlistenImage_();
this.changed()};g.prototype.load=function(){if(this.state==G["default"].IDLE||this.state==G["default"].ERROR)this.state=G["default"].LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=l(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))};g.prototype.setImage=function(d){this.image_=d};g.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)};return g}(Ia["default"]);J["default"]=A};
shadow$provide[229]=function(Ia,A,mb,J){function m(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(J,"__esModule",{value:!0});J.get=function(d,f,a,e,n,x){var z=w.shared.get(f,e,x);z||(z=new g(d,f,a,e,n,x),w.shared.set(f,e,x,z));return z};J["default"]=void 0;Ia=m(A(87));var l=m(A(88)),u=m(A(199)),G=A(82),L=A(103),w=A(83),v=A(228),t=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var x in n)Object.prototype.hasOwnProperty.call(n,
x)&&(e[x]=n[x])};return d(f,a)};return function(f,a){function e(){this.constructor=f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),k=null,g=function(d){function f(a,e,n,x,z,B){var M=d.call(this)||this;M.hitDetectionImage_=null;M.image_=a?a:new Image;null!==x&&(M.image_.crossOrigin=x);M.canvas_={};M.color_=B;M.unlisten_=null;M.imageState_=z;M.size_=n;M.src_=e;return M}t(f,d);f.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===u["default"].LOADED){k||
(k=(0,L.createCanvasContext2D)(1,1));k.drawImage(this.image_,0,0);try{k.getImageData(0,0,1,1),this.tainted_=!1}catch(a){k=null,this.tainted_=!0}}return!0===this.tainted_};f.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(l["default"].CHANGE)};f.prototype.handleImageError_=function(){this.imageState_=u["default"].ERROR;this.unlistenImage_();this.dispatchChangeEvent_()};f.prototype.handleImageLoad_=function(){this.imageState_=u["default"].LOADED;this.size_?(this.image_.width=this.size_[0],
this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height];this.unlistenImage_();this.dispatchChangeEvent_()};f.prototype.getImage=function(a){this.replaceColor_(a);return this.canvas_[a]?this.canvas_[a]:this.image_};f.prototype.getPixelRatio=function(a){this.replaceColor_(a);return this.canvas_[a]?a:1};f.prototype.getImageState=function(){return this.imageState_};f.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var a=this.size_[0],
e=this.size_[1],n=(0,L.createCanvasContext2D)(a,e);n.fillRect(0,0,a,e);this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_};f.prototype.getSize=function(){return this.size_};f.prototype.getSrc=function(){return this.src_};f.prototype.load=function(){if(this.imageState_==u["default"].IDLE){this.imageState_=u["default"].LOADING;try{this.image_.src=this.src_}catch(a){this.handleImageError_()}this.unlisten_=(0,v.listenImage)(this.image_,this.handleImageLoad_.bind(this),
this.handleImageError_.bind(this))}};f.prototype.replaceColor_=function(a){if(this.color_&&!this.canvas_[a]){var e=document.createElement("canvas");this.canvas_[a]=e;e.width=Math.ceil(this.image_.width*a);e.height=Math.ceil(this.image_.height*a);var n=e.getContext("2d");n.scale(a,a);n.drawImage(this.image_,0,0);n.globalCompositeOperation="multiply";if("multiply"===n.globalCompositeOperation||this.isTainted_())n.fillStyle=(0,G.asString)(this.color_),n.fillRect(0,0,e.width,e.height),n.globalCompositeOperation=
"destination-in",n.drawImage(this.image_,0,0);else{a=n.getImageData(0,0,e.width,e.height);e=a.data;for(var x=this.color_[0]/255,z=this.color_[1]/255,B=this.color_[2]/255,M=this.color_[3],K=0,D=e.length;K<D;K+=4)e[K]*=x,e[K+1]*=z,e[K+2]*=B,e[K+3]*=M;n.putImageData(a,0,0)}}};f.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)};return f}(Ia["default"]);J["default"]=g};
shadow$provide[230]=function(Ia,A,mb,J){function m(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(A(88)),u=m(A(225)),G=m(A(226)),L=m(A(199));Ia=m(A(200));var w=A(82),v=A(76),t=A(229),k=A(74),g=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var x in n)Object.prototype.hasOwnProperty.call(n,x)&&(e[x]=n[x])};return d(f,a)};return function(f,
a){function e(){this.constructor=f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();A=function(d){function f(a){var e=a||{};a=d.call(this,{opacity:void 0!==e.opacity?e.opacity:1,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0],rotateWithView:void 0!==e.rotateWithView?e.rotateWithView:!1})||this;a.anchor_=void 0!==e.anchor?e.anchor:[.5,.5];a.normalizedAnchor_=null;a.anchorOrigin_=void 0!==
e.anchorOrigin?e.anchorOrigin:G["default"].TOP_LEFT;a.anchorXUnits_=void 0!==e.anchorXUnits?e.anchorXUnits:u["default"].FRACTION;a.anchorYUnits_=void 0!==e.anchorYUnits?e.anchorYUnits:u["default"].FRACTION;a.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null;var n=void 0!==e.img?e.img:null,x=void 0!==e.imgSize?e.imgSize:null,z=e.src;(0,v.assert)(!(void 0!==z&&n),4);(0,v.assert)(!n||n&&x,5);void 0!==z&&0!==z.length||!n||(z=n.src||(0,k.getUid)(n));(0,v.assert)(void 0!==z&&0<z.length,6);var B=void 0!==
e.src?L["default"].IDLE:L["default"].LOADED;a.color_=void 0!==e.color?(0,w.asArray)(e.color):null;a.iconImage_=(0,t.get)(n,z,x,a.crossOrigin_,B,a.color_);a.offset_=void 0!==e.offset?e.offset:[0,0];a.offsetOrigin_=void 0!==e.offsetOrigin?e.offsetOrigin:G["default"].TOP_LEFT;a.origin_=null;a.size_=void 0!==e.size?e.size:null;return a}g(f,d);f.prototype.clone=function(){var a=this.getScale();return new f({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,
crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(a)?a.slice():a,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})};f.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var a=this.anchor_,e=this.getSize();if(this.anchorXUnits_==
u["default"].FRACTION||this.anchorYUnits_==u["default"].FRACTION){if(!e)return null;a=this.anchor_.slice();this.anchorXUnits_==u["default"].FRACTION&&(a[0]*=e[0]);this.anchorYUnits_==u["default"].FRACTION&&(a[1]*=e[1])}if(this.anchorOrigin_!=G["default"].TOP_LEFT){if(!e)return null;a===this.anchor_&&(a=this.anchor_.slice());if(this.anchorOrigin_==G["default"].TOP_RIGHT||this.anchorOrigin_==G["default"].BOTTOM_RIGHT)a[0]=-a[0]+e[0];if(this.anchorOrigin_==G["default"].BOTTOM_LEFT||this.anchorOrigin_==
G["default"].BOTTOM_RIGHT)a[1]=-a[1]+e[1]}return this.normalizedAnchor_=a};f.prototype.setAnchor=function(a){this.anchor_=a;this.normalizedAnchor_=null};f.prototype.getColor=function(){return this.color_};f.prototype.getImage=function(a){return this.iconImage_.getImage(a)};f.prototype.getPixelRatio=function(a){return this.iconImage_.getPixelRatio(a)};f.prototype.getImageSize=function(){return this.iconImage_.getSize()};f.prototype.getHitDetectionImageSize=function(){return this.getImageSize()};f.prototype.getImageState=
function(){return this.iconImage_.getImageState()};f.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()};f.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var a=this.offset_,e=this.getDisplacement();if(this.offsetOrigin_!=G["default"].TOP_LEFT){var n=this.getSize(),x=this.iconImage_.getSize();if(!n||!x)return null;a=a.slice();if(this.offsetOrigin_==G["default"].TOP_RIGHT||this.offsetOrigin_==G["default"].BOTTOM_RIGHT)a[0]=x[0]-n[0]-a[0];if(this.offsetOrigin_==
G["default"].BOTTOM_LEFT||this.offsetOrigin_==G["default"].BOTTOM_RIGHT)a[1]=x[1]-n[1]-a[1]}a[0]+=e[0];a[1]+=e[1];return this.origin_=a};f.prototype.getSrc=function(){return this.iconImage_.getSrc()};f.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()};f.prototype.listenImageChange=function(a){this.iconImage_.addEventListener(l["default"].CHANGE,a)};f.prototype.load=function(){this.iconImage_.load()};f.prototype.unlistenImageChange=function(a){this.iconImage_.removeEventListener(l["default"].CHANGE,
a)};return f}(Ia["default"]);J["default"]=A};
shadow$provide[231]=function(Ia,A,mb,J){function m(L){return L&&L.__esModule?L:{"default":L}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(A(204)),u=m(A(214)),G=A(154);Ia=function(){function L(w){w=w||{};this.font_=w.font;this.rotation_=w.rotation;this.rotateWithView_=w.rotateWithView;this.scale_=w.scale;this.scaleArray_=(0,G.toSize)(void 0!==w.scale?w.scale:1);this.text_=w.text;this.textAlign_=w.textAlign;this.textBaseline_=w.textBaseline;this.fill_=void 0!==w.fill?
w.fill:new l["default"]({color:"#333"});this.maxAngle_=void 0!==w.maxAngle?w.maxAngle:Math.PI/4;this.placement_=void 0!==w.placement?w.placement:u["default"].POINT;this.overflow_=!!w.overflow;this.stroke_=void 0!==w.stroke?w.stroke:null;this.offsetX_=void 0!==w.offsetX?w.offsetX:0;this.offsetY_=void 0!==w.offsetY?w.offsetY:0;this.backgroundFill_=w.backgroundFill?w.backgroundFill:null;this.backgroundStroke_=w.backgroundStroke?w.backgroundStroke:null;this.padding_=void 0===w.padding?null:w.padding}
L.prototype.clone=function(){var w=this.getScale();return new L({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(w)?w.slice():w,text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),
backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})};L.prototype.getOverflow=function(){return this.overflow_};L.prototype.getFont=function(){return this.font_};L.prototype.getMaxAngle=function(){return this.maxAngle_};L.prototype.getPlacement=function(){return this.placement_};L.prototype.getOffsetX=function(){return this.offsetX_};L.prototype.getOffsetY=function(){return this.offsetY_};
L.prototype.getFill=function(){return this.fill_};L.prototype.getRotateWithView=function(){return this.rotateWithView_};L.prototype.getRotation=function(){return this.rotation_};L.prototype.getScale=function(){return this.scale_};L.prototype.getScaleArray=function(){return this.scaleArray_};L.prototype.getStroke=function(){return this.stroke_};L.prototype.getText=function(){return this.text_};L.prototype.getTextAlign=function(){return this.textAlign_};L.prototype.getTextBaseline=function(){return this.textBaseline_};
L.prototype.getBackgroundFill=function(){return this.backgroundFill_};L.prototype.getBackgroundStroke=function(){return this.backgroundStroke_};L.prototype.getPadding=function(){return this.padding_};L.prototype.setOverflow=function(w){this.overflow_=w};L.prototype.setFont=function(w){this.font_=w};L.prototype.setMaxAngle=function(w){this.maxAngle_=w};L.prototype.setOffsetX=function(w){this.offsetX_=w};L.prototype.setOffsetY=function(w){this.offsetY_=w};L.prototype.setPlacement=function(w){this.placement_=
w};L.prototype.setRotateWithView=function(w){this.rotateWithView_=w};L.prototype.setFill=function(w){this.fill_=w};L.prototype.setRotation=function(w){this.rotation_=w};L.prototype.setScale=function(w){this.scale_=w;this.scaleArray_=(0,G.toSize)(void 0!==w?w:1)};L.prototype.setStroke=function(w){this.stroke_=w};L.prototype.setText=function(w){this.text_=w};L.prototype.setTextAlign=function(w){this.textAlign_=w};L.prototype.setTextBaseline=function(w){this.textBaseline_=w};L.prototype.setBackgroundFill=
function(w){this.backgroundFill_=w};L.prototype.setBackgroundStroke=function(w){this.backgroundStroke_=w};L.prototype.setPadding=function(w){this.padding_=w};return L}();J["default"]=Ia};
shadow$provide[232]=function(Ia,A,mb,J){function m(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(J,"__esModule",{value:!0});Object.defineProperty(J,"Circle",{enumerable:!0,get:function(){return l["default"]}});Object.defineProperty(J,"Fill",{enumerable:!0,get:function(){return u["default"]}});Object.defineProperty(J,"Icon",{enumerable:!0,get:function(){return G["default"]}});Object.defineProperty(J,"IconImage",{enumerable:!0,get:function(){return L["default"]}});Object.defineProperty(J,
"Image",{enumerable:!0,get:function(){return w["default"]}});Object.defineProperty(J,"RegularShape",{enumerable:!0,get:function(){return v["default"]}});Object.defineProperty(J,"Stroke",{enumerable:!0,get:function(){return t["default"]}});Object.defineProperty(J,"Style",{enumerable:!0,get:function(){return k["default"]}});Object.defineProperty(J,"Text",{enumerable:!0,get:function(){return g["default"]}});var l=m(A(203)),u=m(A(204)),G=m(A(230)),L=m(A(229)),w=m(A(200)),v=m(A(202)),t=m(A(205)),k=m(A(206)),
g=m(A(231))};
shadow$provide[233]=function(Ia,A,mb,J){function m(k){return k&&k.__esModule?k:{"default":k}}Object.defineProperty(J,"__esModule",{value:!0});J.createHitDetectionImageData=function(k,g,d,f,a,e,n){var x=k[0]/2;k=k[1]/2;x=(0,w.createCanvasContext2D)(x,k);x.imageSmoothingEnabled=!1;k=x.canvas;n=new l["default"](x,.5,a,null,n);for(var z=d.length,B=Math.floor(16777215/z),M={},K=1;K<=z;++K){var D=d[K-1],y=D.getStyleFunction()||f;if(f){var E=y(D,e);if(E){Array.isArray(E)||(E=[E]);var H="#"+("000000"+(K*
B).toString(16)).slice(-6);y=0;for(var Q=E.length;y<Q;++y){var S=E[y],ea=S.clone(),ba=ea.getFill();ba&&ba.setColor(H);(ba=ea.getStroke())&&ba.setColor(H);ea.setText(void 0);if(S=S.getImage()){ba=S.getImageSize();if(!ba)continue;var fa=document.createElement("canvas");fa.width=ba[0];fa.height=ba[1];var ia=fa.getContext("2d",{alpha:!1});ia.fillStyle=H;fa=ia.canvas;ia.fillRect(0,0,fa.width,fa.height);ia=ba?ba[0]:fa.width;var ca=ba?ba[1]:fa.height;(0,w.createCanvasContext2D)(ia,ca).drawImage(fa,0,0);
ea.setImage(new L.Icon({img:fa,imgSize:ba,anchor:S.getAnchor(),anchorXUnits:G["default"].PIXELS,anchorYUnits:G["default"].PIXELS,offset:S.getOrigin(),size:S.getSize(),opacity:S.getOpacity(),scale:S.getScale(),rotation:S.getRotation(),rotateWithView:S.getRotateWithView()}))}ba=Number(ea.getZIndex());S=M[ba];S||(S={},M[ba]=S,S[u["default"].POLYGON]=[],S[u["default"].CIRCLE]=[],S[u["default"].LINE_STRING]=[],S[u["default"].POINT]=[]);(ba=ea.getGeometryFunction()(D))&&(0,v.intersects)(a,ba.getExtent())&&
S[ba.getType().replace("Multi","")].push(ba,ea)}}}}d=Object.keys(M).map(Number).sort(t.numberSafeCompareFunction);K=0;for(f=d.length;K<f;++K){S=M[d[K]];for(var N in S)for(a=S[N],y=0,Q=a.length;y<Q;y+=2)for(n.setStyle(a[y+1]),e=0,z=g.length;e<z;++e)n.setTransform(g[e]),n.drawGeometry(a[y])}return x.getImageData(0,0,k.width,k.height)};J.hitDetect=function(k,g,d){var f=[];d&&(k=4*(Math.round(k[0]/2)+Math.round(k[1]/2)*d.width),d=d.data[k+2]+256*(d.data[k+1]+256*d.data[k]),k=Math.floor(16777215/g.length),
d&&0===d%k&&f.push(g[d/k-1]));return f};var l=m(A(224)),u=m(A(119)),G=m(A(225)),L=A(232),w=A(103),v=A(80),t=A(72)};
shadow$provide[234]=function(Ia,A,mb,J){function m(k){return k&&k.__esModule?k:{"default":k}}function l(k,g,d,f){if(g.getType()==G["default"].GEOMETRY_COLLECTION){g=g.getGeometries();for(var a=0,e=g.length;a<e;++a)l(k,g[a],d,f)}else k.getBuilder(d.getZIndex(),u["default"].DEFAULT).drawCustom(g,f,d.getRenderer())}Object.defineProperty(J,"__esModule",{value:!0});J.defaultOrder=function(k,g){return parseInt((0,w.getUid)(k),10)-parseInt((0,w.getUid)(g),10)};J.getSquaredTolerance=function(k,g){k=v*k/g;
return k*k};J.getTolerance=function(k,g){return v*k/g};J.renderFeature=function(k,g,d,f,a,e,n){var x=!1,z=d.getImage();if(z){var B=z.getImageState();B==L["default"].LOADED||B==L["default"].ERROR?z.unlistenImageChange(a):(B==L["default"].IDLE&&z.load(),z.getImageState(),z.listenImageChange(a),x=!0)}if(a=d.getGeometryFunction()(g))if(f=a.simplifyTransformed(f,e),d.getRenderer())l(k,f,d,g);else(0,t[f.getType()])(k,f,d,g,n);return x};var u=m(A(220)),G=m(A(119)),L=m(A(199)),w=A(74),v=.5,t={Point:function(k,
g,d,f,a){var e=d.getImage(),n=d.getText();if(a){k=a;var x=e&&n&&n.getText()?{}:void 0}if(e){if(e.getImageState()!=L["default"].LOADED)return;a=k.getBuilder(d.getZIndex(),u["default"].IMAGE);a.setImageStyle(e,x);a.drawPoint(g,f)}n&&n.getText()&&(k=k.getBuilder(d.getZIndex(),u["default"].TEXT),k.setTextStyle(n,x),k.drawText(g,f))},LineString:function(k,g,d,f,a){var e=d.getStroke();if(e){var n=k.getBuilder(d.getZIndex(),u["default"].LINE_STRING);n.setFillStrokeStyle(null,e);n.drawLineString(g,f)}(e=
d.getText())&&e.getText()&&(k=(a||k).getBuilder(d.getZIndex(),u["default"].TEXT),k.setTextStyle(e),k.drawText(g,f))},Polygon:function(k,g,d,f,a){var e=d.getFill(),n=d.getStroke();if(e||n){var x=k.getBuilder(d.getZIndex(),u["default"].POLYGON);x.setFillStrokeStyle(e,n);x.drawPolygon(g,f)}(e=d.getText())&&e.getText()&&(k=(a||k).getBuilder(d.getZIndex(),u["default"].TEXT),k.setTextStyle(e),k.drawText(g,f))},MultiPoint:function(k,g,d,f,a){var e=d.getImage(),n=d.getText();if(a){k=a;var x=e&&n&&n.getText()?
{}:void 0}if(e){if(e.getImageState()!=L["default"].LOADED)return;var z=k.getBuilder(d.getZIndex(),u["default"].IMAGE);z.setImageStyle(e,x);z.drawMultiPoint(g,f)}n&&n.getText()&&(k=(a||k).getBuilder(d.getZIndex(),u["default"].TEXT),k.setTextStyle(n,x),k.drawText(g,f))},MultiLineString:function(k,g,d,f,a){var e=d.getStroke();if(e){var n=k.getBuilder(d.getZIndex(),u["default"].LINE_STRING);n.setFillStrokeStyle(null,e);n.drawMultiLineString(g,f)}(e=d.getText())&&e.getText()&&(k=(a||k).getBuilder(d.getZIndex(),
u["default"].TEXT),k.setTextStyle(e),k.drawText(g,f))},MultiPolygon:function(k,g,d,f,a){var e=d.getFill(),n=d.getStroke();if(n||e){var x=k.getBuilder(d.getZIndex(),u["default"].POLYGON);x.setFillStrokeStyle(e,n);x.drawMultiPolygon(g,f)}(e=d.getText())&&e.getText()&&(k=(a||k).getBuilder(d.getZIndex(),u["default"].TEXT),k.setTextStyle(e),k.drawText(g,f))},GeometryCollection:function(k,g,d,f,a){g=g.getGeometriesArray();var e;var n=0;for(e=g.length;n<e;++n)(0,t[g[n].getType()])(k,g[n],d,f,a)},Circle:function(k,
g,d,f,a){var e=d.getFill(),n=d.getStroke();if(e||n){var x=k.getBuilder(d.getZIndex(),u["default"].CIRCLE);x.setFillStrokeStyle(e,n);x.drawCircle(g,f)}(e=d.getText())&&e.getText()&&(k=(a||k).getBuilder(d.getZIndex(),u["default"].TEXT),k.setTextStyle(e),k.drawText(g,f))}}};
shadow$provide[235]=function(Ia,A,mb,J){function m(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(A(217));Ia=m(A(219));var u=m(A(223)),G=m(A(121)),L=A(77),w=A(80),v=A(233),t=A(234),k=A(130),g=A(74),d=A(98),f=function(){var a=function(e,n){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,z){x.__proto__=z}||function(x,z){for(var B in z)Object.prototype.hasOwnProperty.call(z,B)&&(x[B]=z[B])};return a(e,n)};return function(e,
n){function x(){this.constructor=e}a(e,n);e.prototype=null===n?Object.create(n):(x.prototype=n.prototype,new x)}}();A=function(a){function e(n){n=a.call(this,n)||this;n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n);n.dirty_=!1;n.hitDetectionImageData_=null;n.renderedFeatures_=null;n.renderedRevision_=-1;n.renderedResolution_=NaN;n.renderedExtent_=(0,w.createEmpty)();n.renderedCenter_=null;n.renderedProjection_=null;n.renderedRenderOrder_=null;n.replayGroup_=null;n.replayGroupChanged=
!0;n.declutterExecutorGroup=null;n.clipping=!0;return n}f(e,a);e.prototype.useContainer=function(n,x,z){1>z&&(n=null);a.prototype.useContainer.call(this,n,x,z)};e.prototype.renderWorlds=function(n,x,z){var B=x.extent,M=x.viewState,K=M.center,D=M.resolution,y=M.projection;M=M.rotation;var E=y.getExtent(),H=this.getLayer().getSource(),Q=x.pixelRatio,S=x.viewHints;S=!(S[G["default"].ANIMATING]||S[G["default"].INTERACTING]);var ea=this.context,ba=Math.round(x.size[0]*Q);x=Math.round(x.size[1]*Q);var fa=
H.getWrapX()&&y.canWrapX();y=fa?(0,w.getWidth)(E):null;H=fa?Math.ceil((B[2]-E[2])/y)+1:1;B=fa?Math.floor((B[0]-E[0])/y):0;do E=this.getRenderTransform(K,D,M,Q,ba,x,B*y),n.execute(ea,1,E,M,S,void 0,z);while(++B<H)};e.prototype.renderDeclutter=function(n){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,n,n.declutterTree)};e.prototype.renderFrame=function(n,x){var z=n.pixelRatio,B=n.layerStatesArray[n.layerIndex];(0,L.makeScale)(this.pixelTransform,1/z,1/z);(0,L.makeInverse)(this.inversePixelTransform,
this.pixelTransform);var M=(0,L.toString)(this.pixelTransform);this.useContainer(x,M,B.opacity);x=this.context;var K=x.canvas,D=this.replayGroup_,y=this.declutterExecutorGroup;if(!(D&&!D.isEmpty()||y&&!y.isEmpty()))return!this.containerReused&&0<K.width&&(K.width=0),this.container;y=Math.round(n.size[0]*z);z=Math.round(n.size[1]*z);K.width!=y||K.height!=z?(K.width=y,K.height=z,K.style.transform!==M&&(K.style.transform=M)):this.containerReused||x.clearRect(0,0,y,z);this.preRender(x,n);M=n.viewState;
K=M.projection;z=!1;B.extent&&this.clipping&&(K=(0,k.fromUserExtent)(B.extent,K),(z=!(0,w.containsExtent)(K,n.extent)&&(0,w.intersects)(K,n.extent))&&this.clipUnrotated(x,n,K));this.renderWorlds(D,n);z&&x.restore();this.postRender(x,n);n=B.opacity;B=this.container;n!==parseFloat(B.style.opacity)&&(B.style.opacity=1===n?"":String(n));this.renderedRotation_!==M.rotation&&(this.renderedRotation_=M.rotation,this.hitDetectionImageData_=null);return this.container};e.prototype.getFeatures=function(n){return new Promise(function(x){if(!this.hitDetectionImageData_&&
!this.animatingOrInteracting_){var z=[this.context.canvas.width,this.context.canvas.height];(0,L.apply)(this.pixelTransform,z);var B=this.renderedCenter_,M=this.renderedResolution_,K=this.renderedRotation_,D=this.renderedProjection_,y=this.renderedExtent_,E=this.getLayer(),H=[],Q=z[0]/2,S=z[1]/2;H.push(this.getRenderTransform(B,M,K,.5,Q,S,0).slice());var ea=E.getSource(),ba=D.getExtent();if(ea.getWrapX()&&D.canWrapX()&&!(0,w.containsExtent)(ba,y)){D=y[0];ea=(0,w.getWidth)(ba);for(var fa=0,ia;D<ba[0];)--fa,
ia=ea*fa,H.push(this.getRenderTransform(B,M,K,.5,Q,S,ia).slice()),D+=ea;fa=0;for(D=y[2];D>ba[2];)++fa,ia=ea*fa,H.push(this.getRenderTransform(B,M,K,.5,Q,S,ia).slice()),D-=ea}this.hitDetectionImageData_=(0,v.createHitDetectionImageData)(z,H,this.renderedFeatures_,E.getStyleFunction(),y,M,K)}x((0,v.hitDetect)(n,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))};e.prototype.forEachFeatureAtCoordinate=function(n,x,z,B,M){var K=this;if(this.replayGroup_){var D=x.viewState.resolution,y=
x.viewState.rotation,E=this.getLayer(),H={},Q=function(ba,fa,ia){var ca=(0,g.getUid)(ba),N=H[ca];if(!N){if(0===ia)return H[ca]=!0,B(ba,E,fa);M.push(H[ca]={feature:ba,layer:E,geometry:fa,distanceSq:ia,callback:B})}else if(!0!==N&&ia<N.distanceSq){if(0===ia)return H[ca]=!0,M.splice(M.lastIndexOf(N),1),B(ba,E,fa);N.geometry=fa;N.distanceSq=ia}},S,ea=[this.replayGroup_];this.declutterExecutorGroup&&ea.push(this.declutterExecutorGroup);ea.some(function(ba){return S=ba.forEachFeatureAtCoordinate(n,D,y,
z,Q,ba===K.declutterExecutorGroup?x.declutterTree.all().map(function(fa){return fa.value}):null)});return S}};e.prototype.handleFontsChanged=function(){var n=this.getLayer();n.getVisible()&&this.replayGroup_&&n.changed()};e.prototype.handleStyleImageChange_=function(n){this.renderIfReadyAndVisible()};e.prototype.prepareFrame=function(n){var x=this.getLayer(),z=x.getSource();if(!z)return!1;var B=n.viewHints[G["default"].ANIMATING],M=n.viewHints[G["default"].INTERACTING],K=x.getUpdateWhileAnimating(),
D=x.getUpdateWhileInteracting();if(!this.dirty_&&!K&&B||!D&&M)return this.animatingOrInteracting_=!0;this.animatingOrInteracting_=!1;var y=n.extent,E=n.viewState;B=E.projection;var H=E.resolution;M=n.pixelRatio;K=x.getRevision();var Q=x.getRenderBuffer();D=x.getRenderOrder();void 0===D&&(D=t.defaultOrder);E=E.center.slice();y=(0,w.buffer)(y,Q*H);Q=[y.slice()];var S=B.getExtent();if(z.getWrapX()&&B.canWrapX()&&!(0,w.containsExtent)(S,n.extent)){n=(0,w.getWidth)(S);var ea=Math.max((0,w.getWidth)(y)/
2,n);y[0]=S[0]-ea;y[2]=S[2]+ea;(0,d.wrapX)(E,B);ea=(0,w.wrapX)(Q[0],B);ea[0]<S[0]&&ea[2]<S[2]?Q.push([ea[0]+n,ea[1],ea[2]+n,ea[3]]):ea[0]>S[0]&&ea[2]>S[2]&&Q.push([ea[0]-n,ea[1],ea[2]-n,ea[3]])}if(!this.dirty_&&this.renderedResolution_==H&&this.renderedRevision_==K&&this.renderedRenderOrder_==D&&(0,w.containsExtent)(this.renderedExtent_,y))return this.replayGroupChanged=!1,!0;this.replayGroup_=null;this.dirty_=!1;var ba=new l["default"]((0,t.getTolerance)(H,M),y,H,M),fa;this.getLayer().getDeclutter()&&
(fa=new l["default"]((0,t.getTolerance)(H,M),y,H,M));ea=(0,k.getUserProjection)();if(ea){n=0;for(S=Q.length;n<S;++n)z.loadFeatures((0,k.toUserExtent)(Q[n],B),H,ea);var ia=(0,k.getTransformFromProjections)(ea,B)}else for(n=0,S=Q.length;n<S;++n)z.loadFeatures(Q[n],H,B);var ca=(0,t.getSquaredTolerance)(H,M);Q=function(N){var C,W=N.getStyleFunction()||x.getStyleFunction();W&&(C=W(N,H));C&&(N=this.renderFeature(N,ca,C,ba,ia,fa),this.dirty_=this.dirty_||N)}.bind(this);n=(0,k.toUserExtent)(y,B);ea=z.getFeaturesInExtent(n);
D&&ea.sort(D);n=0;for(S=ea.length;n<S;++n)Q(ea[n]);this.renderedFeatures_=ea;n=ba.finish();n=new u["default"](y,H,M,z.getOverlaps(),n,x.getRenderBuffer());fa&&(this.declutterExecutorGroup=new u["default"](y,H,M,z.getOverlaps(),fa.finish(),x.getRenderBuffer()));this.renderedResolution_=H;this.renderedRevision_=K;this.renderedRenderOrder_=D;this.renderedExtent_=y;this.renderedCenter_=E;this.renderedProjection_=B;this.replayGroup_=n;this.hitDetectionImageData_=null;return this.replayGroupChanged=!0};
e.prototype.renderFeature=function(n,x,z,B,M,K){if(!z)return!1;var D=!1;if(Array.isArray(z))for(var y=0,E=z.length;y<E;++y)D=(0,t.renderFeature)(B,n,z[y],x,this.boundHandleStyleImageChange_,M,K)||D;else D=(0,t.renderFeature)(B,n,z,x,this.boundHandleStyleImageChange_,M,K);return D};return e}(Ia["default"]);J["default"]=A};
shadow$provide[236]=function(Ia,A,mb,J){function m(G){return G&&G.__esModule?G:{"default":G}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=m(A(207));var l=m(A(235)),u=function(){var G=function(L,w){G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,t){v.__proto__=t}||function(v,t){for(var k in t)Object.prototype.hasOwnProperty.call(t,k)&&(v[k]=t[k])};return G(L,w)};return function(L,w){function v(){this.constructor=L}G(L,w);L.prototype=null===w?Object.create(w):
(v.prototype=w.prototype,new v)}}();A=function(G){function L(w){return G.call(this,w)||this}u(L,G);L.prototype.createRenderer=function(){return new l["default"](this)};return L}(Ia["default"]);J["default"]=A};
shadow$provide[237]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var m=function(L){return L&&L.__esModule?L:{"default":L}}(A(198)),l=A(80),u=A(74),G=A(86);Ia=function(){function L(w){this.rbush_=new m["default"](w);this.items_={}}L.prototype.insert=function(w,v){w={minX:w[0],minY:w[1],maxX:w[2],maxY:w[3],value:v};this.rbush_.insert(w);this.items_[(0,u.getUid)(v)]=w};L.prototype.load=function(w,v){for(var t=Array(v.length),k=0,g=v.length;k<g;k++){var d=w[k],
f=v[k];d={minX:d[0],minY:d[1],maxX:d[2],maxY:d[3],value:f};t[k]=d;this.items_[(0,u.getUid)(f)]=d}this.rbush_.load(t)};L.prototype.remove=function(w){w=(0,u.getUid)(w);var v=this.items_[w];delete this.items_[w];return null!==this.rbush_.remove(v)};L.prototype.update=function(w,v){var t=this.items_[(0,u.getUid)(v)];t=[t.minX,t.minY,t.maxX,t.maxY];(0,l.equals)(t,w)||(this.remove(v),this.insert(w,v))};L.prototype.getAll=function(){return this.rbush_.all().map(function(w){return w.value})};L.prototype.getInExtent=
function(w){return this.rbush_.search({minX:w[0],minY:w[1],maxX:w[2],maxY:w[3]}).map(function(v){return v.value})};L.prototype.forEach=function(w){return this.forEach_(this.getAll(),w)};L.prototype.forEachInExtent=function(w,v){return this.forEach_(this.getInExtent(w),v)};L.prototype.forEach_=function(w,v){for(var t,k=0,g=w.length;k<g&&!(t=v(w[k]));k++);return t};L.prototype.isEmpty=function(){return(0,G.isEmpty)(this.items_)};L.prototype.clear=function(){this.rbush_.clear();this.items_={}};L.prototype.getExtent=
function(w){var v=this.rbush_.toJSON();return(0,l.createOrUpdate)(v.minX,v.minY,v.maxX,v.maxY,w)};L.prototype.concat=function(w){this.rbush_.load(w.rbush_.all());for(var v in w.items_)this.items_[v]=w.items_[v]};return L}();J["default"]=Ia};
shadow$provide[238]=function(Ia,A,mb,J){function m(v){return v&&v.__esModule?v:{"default":v}}function l(v){return v?Array.isArray(v)?function(t){return v}:"function"===typeof v?v:function(t){return[v]}:null}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=m(A(91));var u=m(A(95)),G=A(74),L=A(130),w=function(){var v=function(t,k){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,
f)&&(g[f]=d[f])};return v(t,k)};return function(t,k){function g(){this.constructor=t}v(t,k);t.prototype=null===k?Object.create(k):(g.prototype=k.prototype,new g)}}();A=function(v){function t(k){var g=v.call(this)||this;g.projection_=(0,L.get)(k.projection);g.attributions_=l(k.attributions);g.attributionsCollapsible_=void 0!==k.attributionsCollapsible?k.attributionsCollapsible:!0;g.loading=!1;g.state_=void 0!==k.state?k.state:u["default"].READY;g.wrapX_=void 0!==k.wrapX?k.wrapX:!1;return g}w(t,v);
t.prototype.getAttributions=function(){return this.attributions_};t.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_};t.prototype.getProjection=function(){return this.projection_};t.prototype.getResolutions=function(){return(0,G["abstract"])()};t.prototype.getState=function(){return this.state_};t.prototype.getWrapX=function(){return this.wrapX_};t.prototype.getContextOptions=function(){};t.prototype.refresh=function(){this.changed()};t.prototype.setAttributions=
function(k){this.attributions_=l(k);this.changed()};t.prototype.setState=function(k){this.state_=k;this.changed()};return t}(Ia["default"]);J["default"]=A};
shadow$provide[239]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"}};
shadow$provide[240]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J.all=function(m,l){return[[-Infinity,-Infinity,Infinity,Infinity]]};J.bbox=function(m,l){return[m]};J.tile=function(m){return function(l,u){u=m.getZForResolution(u);l=m.getTileRangeForExtentAndZ(l,u);var G=[];u=[u,0,0];for(u[1]=l.minX;u[1]<=l.maxX;++u[1])for(u[2]=l.minY;u[2]<=l.maxY;++u[2])G.push(m.getTileCoordExtent(u));return G}}};
shadow$provide[241]=function(Ia,A,mb,J){function m(L,w,v,t,k,g,d){var f=new XMLHttpRequest;f.open("GET","function"===typeof L?L(v,t,k):L,!0);w.getType()==l["default"].ARRAY_BUFFER&&(f.responseType="arraybuffer");f.withCredentials=G;f.onload=function(a){if(!f.status||200<=f.status&&300>f.status){a=w.getType();var e=void 0;a==l["default"].JSON||a==l["default"].TEXT?e=f.responseText:a==l["default"].XML?(e=f.responseXML)||(e=(new DOMParser).parseFromString(f.responseText,"application/xml")):a==l["default"].ARRAY_BUFFER&&
(e=f.response);e?g(w.readFeatures(e,{extent:v,featureProjection:k}),w.readProjection(e)):d()}else d()};f.onerror=d;f.send()}Object.defineProperty(J,"__esModule",{value:!0});J.loadFeaturesXhr=m;J.xhr=function(L,w){return function(v,t,k,g,d){var f=this;m(L,w,v,t,k,function(a,e){void 0!==g&&g(a);f.addFeatures(a)},d?d:u.VOID)}};J.setWithCredentials=function(L){G=L};var l=function(L){return L&&L.__esModule?L:{"default":L}}(A(186)),u=A(73),G=!1};
shadow$provide[242]=function(Ia,A,mb,J){function m(K){return K&&K.__esModule?K:{"default":K}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=J.VectorSourceEvent=void 0;var l=m(A(107)),u=m(A(106));Ia=m(A(84));var G=m(A(88)),L=m(A(85)),w=m(A(237));mb=m(A(238));var v=m(A(95)),t=m(A(239)),k=A(73),g=A(240),d=A(76),f=A(80),a=A(72),e=A(74),n=A(86),x=A(89),z=A(241),B=function(){var K=function(D,y){K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,H){E.__proto__=H}||function(E,
H){for(var Q in H)Object.prototype.hasOwnProperty.call(H,Q)&&(E[Q]=H[Q])};return K(D,y)};return function(D,y){function E(){this.constructor=D}K(D,y);D.prototype=null===y?Object.create(y):(E.prototype=y.prototype,new E)}}(),M=function(K){function D(y,E,H){y=K.call(this,y)||this;y.feature=E;y.features=H;return y}B(D,K);return D}(Ia["default"]);J.VectorSourceEvent=M;A=function(K){function D(y){var E=y||{};y=K.call(this,{attributions:E.attributions,projection:void 0,state:v["default"].READY,wrapX:void 0!==
E.wrapX?E.wrapX:!0})||this;y.loader_=k.VOID;y.format_=E.format;y.overlaps_=void 0===E.overlaps?!0:E.overlaps;y.url_=E.url;void 0!==E.loader?y.loader_=E.loader:void 0!==y.url_&&((0,d.assert)(y.format_,7),y.loader_=(0,z.xhr)(y.url_,y.format_));y.strategy_=void 0!==E.strategy?E.strategy:g.all;var H=void 0!==E.useSpatialIndex?E.useSpatialIndex:!0;y.featuresRtree_=H?new w["default"]:null;y.loadedExtentsRtree_=new w["default"];y.nullGeometryFeatures_={};y.idIndex_={};y.uidIndex_={};y.featureChangeKeys_=
{};y.featuresCollection_=null;if(Array.isArray(E.features))var Q=E.features;else if(E.features){var S=E.features;Q=S.getArray()}H||void 0!==S||(S=new l["default"](Q));void 0!==Q&&y.addFeaturesInternal(Q);void 0!==S&&y.bindFeaturesCollection_(S);return y}B(D,K);D.prototype.addFeature=function(y){this.addFeatureInternal(y);this.changed()};D.prototype.addFeatureInternal=function(y){var E=(0,e.getUid)(y);if(this.addToIndex_(E,y)){this.setupChangeEvents_(E,y);var H=y.getGeometry();H?(E=H.getExtent(),this.featuresRtree_&&
this.featuresRtree_.insert(E,y)):this.nullGeometryFeatures_[E]=y;this.dispatchEvent(new M(t["default"].ADDFEATURE,y))}else this.featuresCollection_&&this.featuresCollection_.remove(y)};D.prototype.setupChangeEvents_=function(y,E){this.featureChangeKeys_[y]=[(0,x.listen)(E,G["default"].CHANGE,this.handleFeatureChange_,this),(0,x.listen)(E,L["default"].PROPERTYCHANGE,this.handleFeatureChange_,this)]};D.prototype.addToIndex_=function(y,E){var H=!0,Q=E.getId();void 0!==Q&&(Q.toString()in this.idIndex_?
H=!1:this.idIndex_[Q.toString()]=E);H&&((0,d.assert)(!(y in this.uidIndex_),30),this.uidIndex_[y]=E);return H};D.prototype.addFeatures=function(y){this.addFeaturesInternal(y);this.changed()};D.prototype.addFeaturesInternal=function(y){for(var E=[],H=[],Q=[],S=0,ea=y.length;S<ea;S++){var ba=y[S],fa=(0,e.getUid)(ba);this.addToIndex_(fa,ba)&&H.push(ba)}S=0;for(y=H.length;S<y;S++)ba=H[S],fa=(0,e.getUid)(ba),this.setupChangeEvents_(fa,ba),(ea=ba.getGeometry())?(fa=ea.getExtent(),E.push(fa),Q.push(ba)):
this.nullGeometryFeatures_[fa]=ba;this.featuresRtree_&&this.featuresRtree_.load(E,Q);S=0;for(E=H.length;S<E;S++)this.dispatchEvent(new M(t["default"].ADDFEATURE,H[S]))};D.prototype.bindFeaturesCollection_=function(y){var E=!1;this.addEventListener(t["default"].ADDFEATURE,function(H){E||(E=!0,y.push(H.feature),E=!1)});this.addEventListener(t["default"].REMOVEFEATURE,function(H){E||(E=!0,y.remove(H.feature),E=!1)});y.addEventListener(u["default"].ADD,function(H){E||(E=!0,this.addFeature(H.element),
E=!1)}.bind(this));y.addEventListener(u["default"].REMOVE,function(H){E||(E=!0,this.removeFeature(H.element),E=!1)}.bind(this));this.featuresCollection_=y};D.prototype.clear=function(y){if(y){for(var E in this.featureChangeKeys_)this.featureChangeKeys_[E].forEach(x.unlistenByKey);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this));for(var H in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[H])}this.featuresCollection_&&
this.featuresCollection_.clear();this.featuresRtree_&&this.featuresRtree_.clear();this.nullGeometryFeatures_={};y=new M(t["default"].CLEAR);this.dispatchEvent(y);this.changed()};D.prototype.forEachFeature=function(y){if(this.featuresRtree_)return this.featuresRtree_.forEach(y);this.featuresCollection_&&this.featuresCollection_.forEach(y)};D.prototype.forEachFeatureAtCoordinateDirect=function(y,E){return this.forEachFeatureInExtent([y[0],y[1],y[0],y[1]],function(H){if(H.getGeometry().intersectsCoordinate(y))return E(H)})};
D.prototype.forEachFeatureInExtent=function(y,E){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(y,E);this.featuresCollection_&&this.featuresCollection_.forEach(E)};D.prototype.forEachFeatureIntersectingExtent=function(y,E){return this.forEachFeatureInExtent(y,function(H){if(H.getGeometry().intersectsExtent(y)&&(H=E(H)))return H})};D.prototype.getFeaturesCollection=function(){return this.featuresCollection_};D.prototype.getFeatures=function(){if(this.featuresCollection_)var y=this.featuresCollection_.getArray();
else this.featuresRtree_&&(y=this.featuresRtree_.getAll(),(0,n.isEmpty)(this.nullGeometryFeatures_)||(0,a.extend)(y,(0,n.getValues)(this.nullGeometryFeatures_)));return y};D.prototype.getFeaturesAtCoordinate=function(y){var E=[];this.forEachFeatureAtCoordinateDirect(y,function(H){E.push(H)});return E};D.prototype.getFeaturesInExtent=function(y){return this.featuresRtree_?this.featuresRtree_.getInExtent(y):this.featuresCollection_?this.featuresCollection_.getArray():[]};D.prototype.getClosestFeatureToCoordinate=
function(y,E){var H=y[0],Q=y[1],S=null,ea=[NaN,NaN],ba=Infinity,fa=[-Infinity,-Infinity,Infinity,Infinity],ia=E?E:k.TRUE;this.featuresRtree_.forEachInExtent(fa,function(ca){if(ia(ca)){var N=ca.getGeometry(),C=ba;ba=N.closestPointXY(H,Q,ea,ba);ba<C&&(S=ca,ca=Math.sqrt(ba),fa[0]=H-ca,fa[1]=Q-ca,fa[2]=H+ca,fa[3]=Q+ca)}});return S};D.prototype.getExtent=function(y){return this.featuresRtree_.getExtent(y)};D.prototype.getFeatureById=function(y){y=this.idIndex_[y.toString()];return void 0!==y?y:null};D.prototype.getFeatureByUid=
function(y){y=this.uidIndex_[y];return void 0!==y?y:null};D.prototype.getFormat=function(){return this.format_};D.prototype.getOverlaps=function(){return this.overlaps_};D.prototype.getUrl=function(){return this.url_};D.prototype.handleFeatureChange_=function(y){y=y.target;var E=(0,e.getUid)(y),H=y.getGeometry();H?(H=H.getExtent(),E in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[E],this.featuresRtree_&&this.featuresRtree_.insert(H,y)):this.featuresRtree_&&this.featuresRtree_.update(H,
y)):E in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(y),this.nullGeometryFeatures_[E]=y);H=y.getId();void 0!==H?(E=H.toString(),this.idIndex_[E]!==y&&(this.removeFromIdIndex_(y),this.idIndex_[E]=y)):(this.removeFromIdIndex_(y),this.uidIndex_[E]=y);this.changed();this.dispatchEvent(new M(t["default"].CHANGEFEATURE,y))};D.prototype.hasFeature=function(y){var E=y.getId();return void 0!==E?E in this.idIndex_:(0,e.getUid)(y)in this.uidIndex_};D.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&
(0,n.isEmpty)(this.nullGeometryFeatures_)};D.prototype.loadFeatures=function(y,E,H){var Q=this.loadedExtentsRtree_,S=this.strategy_(y,E);this.loading=!1;y=function(ia,ca){var N=S[ia];Q.forEachInExtent(N,function(C){return(0,f.containsExtent)(C.extent,N)})||(ea.dispatchEvent(new M(t["default"].FEATURESLOADSTART)),ea.loader_.call(ea,N,E,H,function(C){this.dispatchEvent(new M(t["default"].FEATURESLOADEND,void 0,C))}.bind(ea),function(){this.dispatchEvent(new M(t["default"].FEATURESLOADERROR))}.bind(ea)),
Q.insert(N,{extent:N.slice()}),ea.loading=ea.loader_!==k.VOID)};for(var ea=this,ba=0,fa=S.length;ba<fa;++ba)y(ba,fa)};D.prototype.refresh=function(){this.clear(!0);this.loadedExtentsRtree_.clear();K.prototype.refresh.call(this)};D.prototype.removeLoadedExtent=function(y){var E=this.loadedExtentsRtree_,H;E.forEachInExtent(y,function(Q){if((0,f.equals)(Q.extent,y))return H=Q,!0});H&&E.remove(H)};D.prototype.removeFeature=function(y){var E=(0,e.getUid)(y);E in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[E]:
this.featuresRtree_&&this.featuresRtree_.remove(y);this.removeFeatureInternal(y);this.changed()};D.prototype.removeFeatureInternal=function(y){var E=(0,e.getUid)(y);this.featureChangeKeys_[E].forEach(x.unlistenByKey);delete this.featureChangeKeys_[E];var H=y.getId();void 0!==H&&delete this.idIndex_[H.toString()];delete this.uidIndex_[E];this.dispatchEvent(new M(t["default"].REMOVEFEATURE,y))};D.prototype.removeFromIdIndex_=function(y){var E=!1,H;for(H in this.idIndex_)if(this.idIndex_[H]===y){delete this.idIndex_[H];
E=!0;break}return E};D.prototype.setLoader=function(y){this.loader_=y};D.prototype.setUrl=function(y){(0,d.assert)(this.format_,7);this.setLoader((0,z.xhr)(y,this.format_))};return D}(mb["default"]);J["default"]=A};
shadow$provide[243]=function(Ia,A,mb,J){function m(ca){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(N){return typeof N}:function(N){return N&&"function"===typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N};return m(ca)}function l(){if("function"!==typeof WeakMap)return null;var ca=new WeakMap;l=function(){return ca};return ca}function u(ca){return ca&&ca.__esModule?ca:{"default":ca}}function G(){var ca=(0,H.createEditingStyle)();return function(N,
C){return ca[N.getGeometry().getType()]}}function L(ca){if(ca===k["default"].POINT||ca===k["default"].MULTI_POINT)var N=fa.POINT;else ca===k["default"].LINE_STRING||ca===k["default"].MULTI_LINE_STRING?N=fa.LINE_STRING:ca===k["default"].POLYGON||ca===k["default"].MULTI_POLYGON?N=fa.POLYGON:ca===k["default"].CIRCLE&&(N=fa.CIRCLE);return N}Object.defineProperty(J,"__esModule",{value:!0});J.createRegularPolygon=function(ca,N){return function(C,W,ha){var Y=(0,Q.fromUserCoordinate)(C[0],ha);C=(0,Q.fromUserCoordinate)(C[C.length-
1],ha);var wa=Math.sqrt((0,ea.squaredDistance)(Y,C));W=W?W:(0,B.fromCircle)(new w["default"](Y),ca);var xa=N;N||0===N||(xa=Math.atan2(C[1]-Y[1],C[0]-Y[0]));(0,B.makeRegular)(W,Y,wa,xa);(Y=(0,Q.getUserProjection)())&&W.transform(ha,Y);return W}};J.createBox=function(){return function(ca,N,C){ca=(0,E.boundingExtent)([ca[0],ca[ca.length-1]].map(function(W){return(0,Q.fromUserCoordinate)(W,C)}));ca=[[(0,E.getBottomLeft)(ca),(0,E.getBottomRight)(ca),(0,E.getTopRight)(ca),(0,E.getTopLeft)(ca),(0,E.getBottomLeft)(ca)]];
N?N.setCoordinates(ca):N=new B["default"](ca);(ca=(0,Q.getUserProjection)())&&N.transform(C,ca);return N}};J["default"]=J.DrawEvent=void 0;var w=u(A(189));Ia=u(A(84));var v=u(A(88)),t=u(A(190)),k=u(A(119)),g=u(A(169)),d=u(A(193)),f=u(A(110)),a=u(A(111)),e=u(A(194)),n=u(A(195)),x=u(A(197)),z=u(A(145));mb=u(A(172));var B=function(ca){if(ca&&ca.__esModule)return ca;if(null===ca||"object"!==m(ca)&&"function"!==typeof ca)return{"default":ca};var N=l();if(N&&N.has(ca))return N.get(ca);var C={},W=Object.defineProperty&&
Object.getOwnPropertyDescriptor,ha;for(ha in ca)if(Object.prototype.hasOwnProperty.call(ca,ha)){var Y=W?Object.getOwnPropertyDescriptor(ca,ha):null;Y&&(Y.get||Y.set)?Object.defineProperty(C,ha,Y):C[ha]=ca[ha]}C["default"]=ca;N&&N.set(ca,C);return C}(A(152)),M=u(A(236)),K=u(A(242)),D=A(73),y=A(173),E=A(80),H=A(206),Q=A(130),S=A(91),ea=A(98),ba=function(){var ca=function(N,C){ca=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,ha){W.__proto__=ha}||function(W,ha){for(var Y in ha)Object.prototype.hasOwnProperty.call(ha,
Y)&&(W[Y]=ha[Y])};return ca(N,C)};return function(N,C){function W(){this.constructor=N}ca(N,C);N.prototype=null===C?Object.create(C):(W.prototype=C.prototype,new W)}}(),fa={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},ia=function(ca){function N(C,W){C=ca.call(this,C)||this;C.feature=W;return C}ba(N,ca);return N}(Ia["default"]);J.DrawEvent=ia;A=function(ca){function N(C){var W=this;C.stopDown||(C.stopDown=D.FALSE);W=ca.call(this,C)||this;W.shouldHandle_=!1;W.downPx_=null;
W.freehand_=!1;W.source_=C.source?C.source:null;W.features_=C.features?C.features:null;W.snapTolerance_=C.snapTolerance?C.snapTolerance:12;W.type_=C.type;W.mode_=L(W.type_);W.stopClick_=!!C.stopClick;W.minPoints_=C.minPoints?C.minPoints:W.mode_===fa.POLYGON?3:2;W.maxPoints_=W.mode_===fa.CIRCLE?2:C.maxPoints?C.maxPoints:Infinity;W.finishCondition_=C.finishCondition?C.finishCondition:D.TRUE;var ha=C.geometryFunction;if(!ha){var Y=W.mode_;if(Y===fa.CIRCLE)ha=function(xa,Ha,Za){Ha=Ha?Ha:new w["default"]([NaN,
NaN]);var gb=(0,Q.fromUserCoordinate)(xa[0],Za);xa=(0,ea.squaredDistance)(gb,(0,Q.fromUserCoordinate)(xa[xa.length-1],Za));Ha.setCenterAndRadius(gb,Math.sqrt(xa));(xa=(0,Q.getUserProjection)())&&Ha.transform(Za,xa);return Ha};else{var wa;Y===fa.POINT?wa=z["default"]:Y===fa.LINE_STRING?wa=d["default"]:Y===fa.POLYGON&&(wa=B["default"]);ha=function(xa,Ha,Za){Ha?Y===fa.POLYGON?xa[0].length?Ha.setCoordinates([xa[0].concat([xa[0][0]])]):Ha.setCoordinates([]):Ha.setCoordinates(xa):Ha=new wa(xa);return Ha}}}W.geometryFunction_=
ha;W.dragVertexDelay_=void 0!==C.dragVertexDelay?C.dragVertexDelay:500;W.finishCoordinate_=null;W.sketchFeature_=null;W.sketchPoint_=null;W.sketchCoords_=null;W.sketchLine_=null;W.sketchLineCoords_=null;W.squaredClickTolerance_=C.clickTolerance?C.clickTolerance*C.clickTolerance:36;W.overlay_=new M["default"]({source:new K["default"]({useSpatialIndex:!1,wrapX:C.wrapX?C.wrapX:!1}),style:C.style?C.style:G(),updateWhileInteracting:!0});W.geometryName_=C.geometryName;W.condition_=C.condition?C.condition:
y.noModifierKeys;W.freehandCondition_=C.freehand?y.always:C.freehandCondition?C.freehandCondition:y.shiftKeyOnly;W.addEventListener((0,S.getChangeEventType)(g["default"].ACTIVE),W.updateState_);return W}ba(N,ca);N.prototype.setMap=function(C){ca.prototype.setMap.call(this,C);this.updateState_()};N.prototype.getOverlay=function(){return this.overlay_};N.prototype.handleEvent=function(C){C.originalEvent.type===v["default"].CONTEXTMENU&&C.originalEvent.preventDefault();this.freehand_=this.mode_!==fa.POINT&&
this.freehandCondition_(C);var W=C.type===a["default"].POINTERMOVE,ha=!0;!this.freehand_&&this.lastDragTime_&&C.type===a["default"].POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=C.pixel,this.shouldHandle_=!this.freehand_,W=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0));this.freehand_&&C.type===a["default"].POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(C.coordinate),
ha=!1):this.freehand_&&C.type===a["default"].POINTERDOWN?ha=!1:W&&2>this.getPointerCount()?(ha=C.type===a["default"].POINTERMOVE)&&this.freehand_?(this.handlePointerMove_(C),this.shouldHandle_&&C.originalEvent.preventDefault()):("mouse"===C.originalEvent.pointerType||C.type===a["default"].POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(C):C.type===a["default"].DBLCLICK&&(ha=!1);return ca.prototype.handleEvent.call(this,C)&&ha};N.prototype.handleDownEvent=function(C){this.shouldHandle_=
!this.freehand_;if(this.freehand_)return this.downPx_=C.pixel,this.finishCoordinate_||this.startDrawing_(C.coordinate),!0;if(this.condition_(C))return this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new f["default"](a["default"].POINTERMOVE,C.map,C.originalEvent,!1,C.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=C.pixel,!0;this.lastDragTime_=void 0;return!1};N.prototype.handleUpEvent=function(C){var W=!0;if(0===this.getPointerCount())if(this.downTimeout_&&
(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(C),this.shouldHandle_){switch(!0){case !this.finishCoordinate_:if(this.startDrawing_(C.coordinate),this.mode_!==fa.POINT)break;case this.freehand_||this.atFinish_(C.pixel)&&this.finishCondition_(C):this.finishDrawing();break;case !this.freehand_:this.addToDrawing_(C.coordinate)}W=!1}else this.freehand_&&this.abortDrawing();!W&&this.stopClick_&&C.originalEvent.stopPropagation();return W};N.prototype.handlePointerMove_=
function(C){this.pointerType_=C.originalEvent.pointerType;if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var W=this.downPx_,ha=C.pixel,Y=W[0]-ha[0];W=W[1]-ha[1];Y=Y*Y+W*W;this.shouldHandle_=this.freehand_?Y>this.squaredClickTolerance_:Y<=this.squaredClickTolerance_;if(!this.shouldHandle_)return}this.finishCoordinate_?this.modifyDrawing_(C.coordinate):this.createOrUpdateSketchPoint_(C)};N.prototype.atFinish_=function(C){var W=!1;if(this.sketchFeature_){var ha=
!1,Y=[this.finishCoordinate_],wa=this.mode_;wa===fa.POINT?W=!0:wa===fa.CIRCLE?W=2===this.sketchCoords_.length:wa===fa.LINE_STRING?ha=this.sketchCoords_.length>this.minPoints_:wa===fa.POLYGON&&(Y=this.sketchCoords_,ha=Y[0].length>this.minPoints_,Y=[Y[0][0],Y[0][Y[0].length-2]]);if(ha){ha=this.getMap();wa=0;for(var xa=Y.length;wa<xa;wa++){var Ha=Y[wa],Za=ha.getPixelFromCoordinate(Ha);W=C[0]-Za[0];Za=C[1]-Za[1];if(W=Math.sqrt(W*W+Za*Za)<=(this.freehand_?1:this.snapTolerance_)){this.finishCoordinate_=
Ha;break}}}}return W};N.prototype.createOrUpdateSketchPoint_=function(C){C=C.coordinate.slice();this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(C):(this.sketchPoint_=new t["default"](new z["default"](C)),this.updateSketchFeatures_())};N.prototype.createOrUpdateCustomSketchLine_=function(C){this.sketchLine_||(this.sketchLine_=new t["default"]);C=C.getLinearRing(0);var W=this.sketchLine_.getGeometry();W?(W.setFlatCoordinates(C.getLayout(),C.getFlatCoordinates()),W.changed()):(W=new d["default"](C.getFlatCoordinates(),
C.getLayout()),this.sketchLine_.setGeometry(W))};N.prototype.startDrawing_=function(C){var W=this.getMap().getView().getProjection();this.finishCoordinate_=C;this.mode_===fa.POINT?this.sketchCoords_=C.slice():this.mode_===fa.POLYGON?(this.sketchCoords_=[[C.slice(),C.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[C.slice(),C.slice()];this.sketchLineCoords_&&(this.sketchLine_=new t["default"](new d["default"](this.sketchLineCoords_)));C=this.geometryFunction_(this.sketchCoords_,
void 0,W);this.sketchFeature_=new t["default"];this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_);this.sketchFeature_.setGeometry(C);this.updateSketchFeatures_();this.dispatchEvent(new ia("drawstart",this.sketchFeature_))};N.prototype.modifyDrawing_=function(C){var W=this.getMap(),ha=this.sketchFeature_.getGeometry(),Y=W.getView().getProjection();if(this.mode_===fa.POINT)var wa=this.sketchCoords_;else this.mode_===fa.POLYGON?(wa=this.sketchCoords_[0],wa=wa[wa.length-1],this.atFinish_(W.getPixelFromCoordinate(C))&&
(C=this.finishCoordinate_.slice())):(wa=this.sketchCoords_,wa=wa[wa.length-1]);wa[0]=C[0];wa[1]=C[1];this.geometryFunction_(this.sketchCoords_,ha,Y);this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(C);ha.getType()===k["default"].POLYGON&&this.mode_!==fa.POLYGON?this.createOrUpdateCustomSketchLine_(ha):this.sketchLineCoords_&&this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_);this.updateSketchFeatures_()};N.prototype.addToDrawing_=function(C){var W=this.sketchFeature_.getGeometry(),
ha=this.getMap().getView().getProjection(),Y;var wa=this.mode_;wa===fa.LINE_STRING||wa===fa.CIRCLE?(this.finishCoordinate_=C.slice(),wa=this.sketchCoords_,wa.length>=this.maxPoints_&&(this.freehand_?wa.pop():Y=!0),wa.push(C.slice()),this.geometryFunction_(wa,W,ha)):wa===fa.POLYGON&&(wa=this.sketchCoords_[0],wa.length>=this.maxPoints_&&(this.freehand_?wa.pop():Y=!0),wa.push(C.slice()),Y&&(this.finishCoordinate_=wa[0]),this.geometryFunction_(this.sketchCoords_,W,ha));this.updateSketchFeatures_();Y&&
this.finishDrawing()};N.prototype.removeLastPoint=function(){if(this.sketchFeature_){var C=this.sketchFeature_.getGeometry(),W=this.getMap().getView().getProjection(),ha=this.mode_;if(ha===fa.LINE_STRING||ha===fa.CIRCLE){var Y=this.sketchCoords_;Y.splice(-2,1);2<=Y.length&&(this.finishCoordinate_=Y[Y.length-2].slice(),ha=this.finishCoordinate_.slice(),Y[Y.length-1]=ha,this.sketchPoint_.setGeometry(new z["default"](ha)));this.geometryFunction_(Y,C,W);C.getType()===k["default"].POLYGON&&this.sketchLine_&&
this.createOrUpdateCustomSketchLine_(C)}else if(ha===fa.POLYGON){Y=this.sketchCoords_[0];Y.splice(-2,1);var wa=this.sketchLine_.getGeometry();2<=Y.length&&(ha=Y[Y.length-2].slice(),Y[Y.length-1]=ha,this.sketchPoint_.setGeometry(new z["default"](ha)));wa.setCoordinates(Y);this.geometryFunction_(this.sketchCoords_,C,W)}1===Y.length&&this.abortDrawing();this.updateSketchFeatures_()}};N.prototype.finishDrawing=function(){var C=this.abortDrawing_();if(C){var W=this.sketchCoords_,ha=C.getGeometry(),Y=this.getMap().getView().getProjection();
this.mode_===fa.LINE_STRING?(W.pop(),this.geometryFunction_(W,ha,Y)):this.mode_===fa.POLYGON&&(W[0].pop(),this.geometryFunction_(W,ha,Y),W=ha.getCoordinates());this.type_===k["default"].MULTI_POINT?C.setGeometry(new n["default"]([W])):this.type_===k["default"].MULTI_LINE_STRING?C.setGeometry(new e["default"]([W])):this.type_===k["default"].MULTI_POLYGON&&C.setGeometry(new x["default"]([W]));this.dispatchEvent(new ia("drawend",C));this.features_&&this.features_.push(C);this.source_&&this.source_.addFeature(C)}};
N.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var C=this.sketchFeature_;this.sketchLine_=this.sketchPoint_=this.sketchFeature_=null;this.overlay_.getSource().clear(!0);return C};N.prototype.abortDrawing=function(){var C=this.abortDrawing_();C&&this.dispatchEvent(new ia("drawabort",C))};N.prototype.appendCoordinates=function(C){var W=this.mode_,ha=!this.sketchFeature_;ha&&this.startDrawing_(C[0]);if(W===fa.LINE_STRING||W===fa.CIRCLE)W=this.sketchCoords_;else if(W===fa.POLYGON)W=
this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[];else return;ha&&W.shift();W.pop();for(ha=0;ha<C.length;ha++)this.addToDrawing_(C[ha]);C=C[C.length-1];this.addToDrawing_(C);this.modifyDrawing_(C)};N.prototype.extend=function(C){var W=C.getGeometry();this.sketchFeature_=C;this.sketchCoords_=W.getCoordinates();C=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=C.slice();this.sketchCoords_.push(C.slice());this.sketchPoint_=new t["default"](new z["default"](C));
this.updateSketchFeatures_();this.dispatchEvent(new ia("drawstart",this.sketchFeature_))};N.prototype.updateSketchFeatures_=function(){var C=[];this.sketchFeature_&&C.push(this.sketchFeature_);this.sketchLine_&&C.push(this.sketchLine_);this.sketchPoint_&&C.push(this.sketchPoint_);var W=this.overlay_.getSource();W.clear(!0);W.addFeatures(C)};N.prototype.updateState_=function(){var C=this.getMap(),W=this.getActive();C&&W||this.abortDrawing();this.overlay_.setMap(W?C:null)};return N}(mb["default"]);
J["default"]=A};
shadow$provide[244]=function(Ia,A,mb,J){function m(K){return K&&K.__esModule?K:{"default":K}}function l(){var K=(0,n.createEditingStyle)();return function(D,y){return K[v["default"].POLYGON]}}function u(){var K=(0,n.createEditingStyle)();return function(D,y){return K[v["default"].POINT]}}function G(K){return function(D){return(0,a.boundingExtent)([K,D])}}function L(K,D){return K[0]==D[0]?function(y){return(0,a.boundingExtent)([K,[y[0],D[1]]])}:K[1]==D[1]?function(y){return(0,a.boundingExtent)([K,
[D[0],y[1]]])}:null}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=J.ExtentEvent=void 0;Ia=m(A(84));var w=m(A(190)),v=m(A(119)),t=m(A(111)),k=m(A(145));mb=m(A(172));var g=m(A(236)),d=m(A(242)),f=A(173),a=A(80),e=A(98),n=A(206),x=A(152),z=A(130),B=function(){var K=function(D,y){K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,H){E.__proto__=H}||function(E,H){for(var Q in H)Object.prototype.hasOwnProperty.call(H,Q)&&(E[Q]=H[Q])};return K(D,y)};return function(D,y){function E(){this.constructor=
D}K(D,y);D.prototype=null===y?Object.create(y):(E.prototype=y.prototype,new E)}}(),M=function(K){function D(y){var E=K.call(this,"extentchanged")||this;E.extent=y;return E}B(D,K);return D}(Ia["default"]);J.ExtentEvent=M;A=function(K){function D(y){var E=y||{};var H=K.call(this,E)||this;H.condition_=E.condition?E.condition:f.always;H.extent_=null;H.pointerHandler_=null;H.pixelTolerance_=void 0!==E.pixelTolerance?E.pixelTolerance:10;H.snappedToVertex_=!1;H.extentFeature_=null;H.vertexFeature_=null;
y||(y={});H.extentOverlay_=new g["default"]({source:new d["default"]({useSpatialIndex:!1,wrapX:!!y.wrapX}),style:y.boxStyle?y.boxStyle:l(),updateWhileAnimating:!0,updateWhileInteracting:!0});H.vertexOverlay_=new g["default"]({source:new d["default"]({useSpatialIndex:!1,wrapX:!!y.wrapX}),style:y.pointerStyle?y.pointerStyle:u(),updateWhileAnimating:!0,updateWhileInteracting:!0});y.extent&&H.setExtent(y.extent);return H}B(D,K);D.prototype.snapToVertex_=function(y,E){var H=E.getCoordinateFromPixelInternal(y),
Q=function(ba,fa){return(0,e.squaredDistanceToSegment)(H,ba)-(0,e.squaredDistanceToSegment)(H,fa)},S=this.getExtentInternal();if(S){S=[[[S[0],S[1]],[S[0],S[3]]],[[S[0],S[3]],[S[2],S[3]]],[[S[2],S[3]],[S[2],S[1]]],[[S[2],S[1]],[S[0],S[1]]]];S.sort(Q);Q=S[0];S=(0,e.closestOnSegment)(H,Q);var ea=E.getPixelFromCoordinateInternal(S);if((0,e.distance)(y,ea)<=this.pixelTolerance_)return y=E.getPixelFromCoordinateInternal(Q[0]),E=E.getPixelFromCoordinateInternal(Q[1]),y=(0,e.squaredDistance)(ea,y),E=(0,e.squaredDistance)(ea,
E),(this.snappedToVertex_=Math.sqrt(Math.min(y,E))<=this.pixelTolerance_)&&(S=y>E?Q[1]:Q[0]),S}return null};D.prototype.handlePointerMove_=function(y){var E=y.pixel;y=y.map;var H=this.snapToVertex_(E,y);H||(H=y.getCoordinateFromPixelInternal(E));this.createOrUpdatePointerFeature_(H)};D.prototype.createOrUpdateExtentFeature_=function(y){var E=this.extentFeature_;E?y?E.setGeometry((0,x.fromExtent)(y)):E.setGeometry(void 0):(this.extentFeature_=E=y?new w["default"]((0,x.fromExtent)(y)):new w["default"]({}),
this.extentOverlay_.getSource().addFeature(E));return E};D.prototype.createOrUpdatePointerFeature_=function(y){var E=this.vertexFeature_;E?E.getGeometry().setCoordinates(y):(this.vertexFeature_=E=new w["default"](new k["default"](y)),this.vertexOverlay_.getSource().addFeature(E));return E};D.prototype.handleEvent=function(y){if(!y.originalEvent||!this.condition_(y))return!0;y.type!=t["default"].POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(y);K.prototype.handleEvent.call(this,
y);return!1};D.prototype.handleDownEvent=function(y){var E=y.pixel,H=y.map,Q=this.getExtentInternal();y=this.snapToVertex_(E,H);var S=function(ea){var ba=null,fa=null;ea[0]==Q[0]?ba=Q[2]:ea[0]==Q[2]&&(ba=Q[0]);ea[1]==Q[1]?fa=Q[3]:ea[1]==Q[3]&&(fa=Q[1]);return null!==ba&&null!==fa?[ba,fa]:null};y&&Q?(E=y[0]==Q[0]||y[0]==Q[2]?y[0]:null,H=y[1]==Q[1]||y[1]==Q[3]?y[1]:null,null!==E&&null!==H?this.pointerHandler_=G(S(y)):null!==E?this.pointerHandler_=L(S([E,Q[1]]),S([E,Q[3]])):null!==H&&(this.pointerHandler_=
L(S([Q[0],H]),S([Q[2],H])))):(y=H.getCoordinateFromPixelInternal(E),this.setExtent([y[0],y[1],y[0],y[1]]),this.pointerHandler_=G(y));return!0};D.prototype.handleDragEvent=function(y){this.pointerHandler_&&(y=y.coordinate,this.setExtent(this.pointerHandler_(y)),this.createOrUpdatePointerFeature_(y))};D.prototype.handleUpEvent=function(y){this.pointerHandler_=null;(y=this.getExtentInternal())&&0!==(0,a.getArea)(y)||this.setExtent(null);return!1};D.prototype.setMap=function(y){this.extentOverlay_.setMap(y);
this.vertexOverlay_.setMap(y);K.prototype.setMap.call(this,y)};D.prototype.getExtent=function(){return(0,z.toUserExtent)(this.getExtentInternal(),this.getMap().getView().getProjection())};D.prototype.getExtentInternal=function(){return this.extent_};D.prototype.setExtent=function(y){this.extent_=y?y:null;this.createOrUpdateExtentFeature_(y);this.dispatchEvent(new M(this.extent_))};return D}(mb["default"]);J["default"]=A};
shadow$provide[245]=function(Ia,A,mb,J){function m(ia){return ia&&ia.__esModule?ia:{"default":ia}}function l(ia){l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(ca){return typeof ca}:function(ca){return ca&&"function"===typeof Symbol&&ca.constructor===Symbol&&ca!==Symbol.prototype?"symbol":typeof ca};return l(ia)}function u(ia,ca){return ia.index-ca.index}function G(ia,ca,N){var C=ca.geometry;if(C.getType()===d["default"].CIRCLE&&1===ca.index)return(ca=(0,H.getUserProjection)())&&
(C=C.clone().transform(ca,N)),N=(0,K.squaredDistance)(C.getCenter(),(0,H.fromUserCoordinate)(ia,N)),N=Math.sqrt(N)-C.getRadius(),N*N;ia=(0,H.fromUserCoordinate)(ia,N);ba[0]=(0,H.fromUserCoordinate)(ca.segment[0],N);ba[1]=(0,H.fromUserCoordinate)(ca.segment[1],N);return(0,K.squaredDistanceToSegment)(ia,ba)}function L(ia,ca,N){var C=ca.geometry;if(C.getType()===d["default"].CIRCLE&&1===ca.index)return ca=C,(C=(0,H.getUserProjection)())&&(ca=ca.clone().transform(C,N)),(0,H.toUserCoordinate)(ca.getClosestPoint((0,
H.fromUserCoordinate)(ia,N)),N);ia=(0,H.fromUserCoordinate)(ia,N);ba[0]=(0,H.fromUserCoordinate)(ca.segment[0],N);ba[1]=(0,H.fromUserCoordinate)(ca.segment[1],N);return(0,H.toUserCoordinate)((0,K.closestOnSegment)(ia,ba),N)}function w(){var ia=(0,D.createEditingStyle)();return function(ca,N){return ia[d["default"].POINT]}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=J.ModifyEvent=void 0;var v=m(A(107)),t=m(A(106));Ia=m(A(84));var k=m(A(88)),g=m(A(190)),d=m(A(119)),f=m(A(111)),a=m(A(145));
mb=m(A(172));var e=m(A(237)),n=m(A(239)),x=m(A(236)),z=m(A(242)),B=A(173),M=A(80),K=A(98),D=A(206),y=A(72),E=A(152),H=A(130),Q=A(74),S=function(){var ia=function(ca,N){ia=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,W){C.__proto__=W}||function(C,W){for(var ha in W)Object.prototype.hasOwnProperty.call(W,ha)&&(C[ha]=W[ha])};return ia(ca,N)};return function(ca,N){function C(){this.constructor=ca}ia(ca,N);ca.prototype=null===N?Object.create(N):(C.prototype=N.prototype,new C)}}(),
ea=[0,0,0,0],ba=[],fa=function(ia){function ca(N,C,W){N=ia.call(this,N)||this;N.features=C;N.mapBrowserEvent=W;return N}S(ca,ia);return ca}(Ia["default"]);J.ModifyEvent=fa;A=function(ia){function ca(N){var C=ia.call(this,N)||this;C.boundHandleFeatureChange_=C.handleFeatureChange_.bind(C);C.condition_=N.condition?N.condition:B.primaryAction;C.defaultDeleteCondition_=function(ha){return(0,B.altKeyOnly)(ha)&&(0,B.singleClick)(ha)};C.deleteCondition_=N.deleteCondition?N.deleteCondition:C.defaultDeleteCondition_;
C.insertVertexCondition_=N.insertVertexCondition?N.insertVertexCondition:B.always;C.vertexFeature_=null;C.vertexSegments_=null;C.lastPixel_=[0,0];C.ignoreNextSingleClick_=!1;C.featuresBeingModified_=null;C.rBush_=new e["default"];C.pixelTolerance_=void 0!==N.pixelTolerance?N.pixelTolerance:10;C.snappedToVertex_=!1;C.changingFeature_=!1;C.dragSegments_=[];C.overlay_=new x["default"]({source:new z["default"]({useSpatialIndex:!1,wrapX:!!N.wrapX}),style:N.style?N.style:w(),updateWhileAnimating:!0,updateWhileInteracting:!0});
C.SEGMENT_WRITERS_={Point:C.writePointGeometry_.bind(C),LineString:C.writeLineStringGeometry_.bind(C),LinearRing:C.writeLineStringGeometry_.bind(C),Polygon:C.writePolygonGeometry_.bind(C),MultiPoint:C.writeMultiPointGeometry_.bind(C),MultiLineString:C.writeMultiLineStringGeometry_.bind(C),MultiPolygon:C.writeMultiPolygonGeometry_.bind(C),Circle:C.writeCircleGeometry_.bind(C),GeometryCollection:C.writeGeometryCollectionGeometry_.bind(C)};C.source_=null;C.hitDetection_=null;if(N.features)var W=N.features;
else N.source&&(C.source_=N.source,W=new v["default"](C.source_.getFeatures()),C.source_.addEventListener(n["default"].ADDFEATURE,C.handleSourceAdd_.bind(C)),C.source_.addEventListener(n["default"].REMOVEFEATURE,C.handleSourceRemove_.bind(C)));if(!W)throw Error("The modify interaction requires features, a source or a layer");N.hitDetection&&(C.hitDetection_=N.hitDetection);C.features_=W;C.features_.forEach(C.addFeature_.bind(C));C.features_.addEventListener(t["default"].ADD,C.handleFeatureAdd_.bind(C));
C.features_.addEventListener(t["default"].REMOVE,C.handleFeatureRemove_.bind(C));C.lastPointerEvent_=null;C.delta_=[0,0];return C}S(ca,ia);ca.prototype.addFeature_=function(N){var C=N.getGeometry();if(C){var W=this.SEGMENT_WRITERS_[C.getType()];W&&W(N,C)}(C=this.getMap())&&C.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,C);N.addEventListener(k["default"].CHANGE,this.boundHandleFeatureChange_)};ca.prototype.willModifyFeatures_=function(N,C){if(!this.featuresBeingModified_){this.featuresBeingModified_=
new v["default"];for(var W=this.featuresBeingModified_.getArray(),ha=0,Y=C.length;ha<Y;++ha){var wa=C[ha][0].feature;-1===W.indexOf(wa)&&this.featuresBeingModified_.push(wa)}this.dispatchEvent(new fa("modifystart",this.featuresBeingModified_,N))}};ca.prototype.removeFeature_=function(N){this.removeFeatureSegmentData_(N);this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null);N.removeEventListener(k["default"].CHANGE,
this.boundHandleFeatureChange_)};ca.prototype.removeFeatureSegmentData_=function(N){var C=this.rBush_,W=[];C.forEach(function(xa){N===xa.feature&&W.push(xa)});for(var ha=W.length-1;0<=ha;--ha){for(var Y=W[ha],wa=this.dragSegments_.length-1;0<=wa;--wa)this.dragSegments_[wa][0]===Y&&this.dragSegments_.splice(wa,1);C.remove(Y)}};ca.prototype.setActive=function(N){this.vertexFeature_&&!N&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null);ia.prototype.setActive.call(this,
N)};ca.prototype.setMap=function(N){this.overlay_.setMap(N);ia.prototype.setMap.call(this,N)};ca.prototype.getOverlay=function(){return this.overlay_};ca.prototype.handleSourceAdd_=function(N){N.feature&&this.features_.push(N.feature)};ca.prototype.handleSourceRemove_=function(N){N.feature&&this.features_.remove(N.feature)};ca.prototype.handleFeatureAdd_=function(N){this.addFeature_(N.element)};ca.prototype.handleFeatureChange_=function(N){this.changingFeature_||(N=N.target,this.removeFeature_(N),
this.addFeature_(N))};ca.prototype.handleFeatureRemove_=function(N){this.removeFeature_(N.element)};ca.prototype.writePointGeometry_=function(N,C){var W=C.getCoordinates();N={feature:N,geometry:C,segment:[W,W]};this.rBush_.insert(C.getExtent(),N)};ca.prototype.writeMultiPointGeometry_=function(N,C){for(var W=C.getCoordinates(),ha=0,Y=W.length;ha<Y;++ha){var wa=W[ha];wa={feature:N,geometry:C,depth:[ha],index:ha,segment:[wa,wa]};this.rBush_.insert(C.getExtent(),wa)}};ca.prototype.writeLineStringGeometry_=
function(N,C){for(var W=C.getCoordinates(),ha=0,Y=W.length-1;ha<Y;++ha){var wa=W.slice(ha,ha+2),xa={feature:N,geometry:C,index:ha,segment:wa};this.rBush_.insert((0,M.boundingExtent)(wa),xa)}};ca.prototype.writeMultiLineStringGeometry_=function(N,C){for(var W=C.getCoordinates(),ha=0,Y=W.length;ha<Y;++ha)for(var wa=W[ha],xa=0,Ha=wa.length-1;xa<Ha;++xa){var Za=wa.slice(xa,xa+2),gb={feature:N,geometry:C,depth:[ha],index:xa,segment:Za};this.rBush_.insert((0,M.boundingExtent)(Za),gb)}};ca.prototype.writePolygonGeometry_=
function(N,C){for(var W=C.getCoordinates(),ha=0,Y=W.length;ha<Y;++ha)for(var wa=W[ha],xa=0,Ha=wa.length-1;xa<Ha;++xa){var Za=wa.slice(xa,xa+2),gb={feature:N,geometry:C,depth:[ha],index:xa,segment:Za};this.rBush_.insert((0,M.boundingExtent)(Za),gb)}};ca.prototype.writeMultiPolygonGeometry_=function(N,C){for(var W=C.getCoordinates(),ha=0,Y=W.length;ha<Y;++ha)for(var wa=W[ha],xa=0,Ha=wa.length;xa<Ha;++xa)for(var Za=wa[xa],gb=0,ra=Za.length-1;gb<ra;++gb){var Pa=Za.slice(gb,gb+2),Ua={feature:N,geometry:C,
depth:[xa,ha],index:gb,segment:Pa};this.rBush_.insert((0,M.boundingExtent)(Pa),Ua)}};ca.prototype.writeCircleGeometry_=function(N,C){var W=C.getCenter(),ha={feature:N,geometry:C,index:0,segment:[W,W]};N={feature:N,geometry:C,index:1,segment:[W,W]};var Y=[ha,N];ha.featureSegments=Y;N.featureSegments=Y;this.rBush_.insert((0,M.createOrUpdateFromCoordinate)(W),ha);(W=(0,H.getUserProjection)())&&this.getMap()&&(ha=this.getMap().getView().getProjection(),C=C.clone().transform(W,ha),C=(0,E.fromCircle)(C).transform(ha,
W));this.rBush_.insert(C.getExtent(),N)};ca.prototype.writeGeometryCollectionGeometry_=function(N,C){C=C.getGeometriesArray();for(var W=0;W<C.length;++W){var ha=C[W];(0,this.SEGMENT_WRITERS_[ha.getType()])(N,ha)}};ca.prototype.createOrUpdateVertexFeature_=function(N,C,W){var ha=this.vertexFeature_;ha?ha.getGeometry().setCoordinates(N):(this.vertexFeature_=ha=new g["default"](new a["default"](N)),this.overlay_.getSource().addFeature(ha));ha.set("features",C);ha.set("geometries",W);return ha};ca.prototype.handleEvent=
function(N){if(!N.originalEvent)return!0;this.lastPointerEvent_=N;var C;N.map.getView().getInteracting()||N.type!=f["default"].POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(N);this.vertexFeature_&&this.deleteCondition_(N)&&(C=N.type==f["default"].SINGLECLICK&&this.ignoreNextSingleClick_?!0:this.removePoint());N.type==f["default"].SINGLECLICK&&(this.ignoreNextSingleClick_=!1);return ia.prototype.handleEvent.call(this,N)&&!C};ca.prototype.handleDragEvent=function(N){this.ignoreNextSingleClick_=
!1;this.willModifyFeatures_(N,this.dragSegments_);for(var C=[N.coordinate[0]+this.delta_[0],N.coordinate[1]+this.delta_[1]],W=[],ha=[],Y=0,wa=this.dragSegments_.length;Y<wa;++Y){var xa=this.dragSegments_[Y],Ha=xa[0],Za=Ha.feature;-1===W.indexOf(Za)&&W.push(Za);Za=Ha.geometry;-1===ha.indexOf(Za)&&ha.push(Za);var gb=Ha.depth,ra=void 0,Pa=Ha.segment;for(xa=xa[1];C.length<Za.getStride();)C.push(Pa[xa][C.length]);switch(Za.getType()){case d["default"].POINT:ra=C;Pa[0]=C;Pa[1]=C;break;case d["default"].MULTI_POINT:ra=
Za.getCoordinates();ra[Ha.index]=C;Pa[0]=C;Pa[1]=C;break;case d["default"].LINE_STRING:ra=Za.getCoordinates();ra[Ha.index+xa]=C;Pa[xa]=C;break;case d["default"].MULTI_LINE_STRING:ra=Za.getCoordinates();ra[gb[0]][Ha.index+xa]=C;Pa[xa]=C;break;case d["default"].POLYGON:ra=Za.getCoordinates();ra[gb[0]][Ha.index+xa]=C;Pa[xa]=C;break;case d["default"].MULTI_POLYGON:ra=Za.getCoordinates();ra[gb[1]][gb[0]][Ha.index+xa]=C;Pa[xa]=C;break;case d["default"].CIRCLE:Pa[0]=C;Pa[1]=C;if(0===Ha.index)this.changingFeature_=
!0,Za.setCenter(C);else{this.changingFeature_=!0;Ha=N.map.getView().getProjection();xa=(0,K.distance)((0,H.fromUserCoordinate)(Za.getCenter(),Ha),(0,H.fromUserCoordinate)(C,Ha));if(gb=(0,H.getUserProjection)())Pa=Za.clone().transform(gb,Ha),Pa.setRadius(xa),xa=Pa.transform(Ha,gb).getRadius();Za.setRadius(xa)}this.changingFeature_=!1}ra&&this.setGeometryCoordinates_(Za,ra)}this.createOrUpdateVertexFeature_(C,W,ha)};ca.prototype.handleDownEvent=function(N){if(!this.condition_(N))return!1;var C=N.coordinate;
this.handlePointerAtPixel_(N.pixel,N.map,C);this.dragSegments_.length=0;this.featuresBeingModified_=null;var W=this.vertexFeature_;if(W){var ha=N.map.getView().getProjection(),Y=[];W=W.getGeometry().getCoordinates();var wa=(0,M.boundingExtent)([W]);wa=this.rBush_.getInExtent(wa);var xa={};wa.sort(u);for(var Ha=0,Za=wa.length;Ha<Za;++Ha){var gb=wa[Ha],ra=gb.segment,Pa=(0,Q.getUid)(gb.geometry),Ua=gb.depth;Ua&&(Pa+="-"+Ua.join("-"));xa[Pa]||(xa[Pa]=Array(2));if(gb.geometry.getType()===d["default"].CIRCLE&&
1===gb.index)ra=L(C,gb,ha),(0,K.equals)(ra,W)&&!xa[Pa][0]&&(this.dragSegments_.push([gb,0]),xa[Pa][0]=gb);else if((0,K.equals)(ra[0],W)&&!xa[Pa][0])this.dragSegments_.push([gb,0]),xa[Pa][0]=gb;else if((0,K.equals)(ra[1],W)&&!xa[Pa][1]){if(gb.geometry.getType()!==d["default"].LINE_STRING&&gb.geometry.getType()!==d["default"].MULTI_LINE_STRING||!xa[Pa][0]||0!==xa[Pa][0].index)this.dragSegments_.push([gb,1]),xa[Pa][1]=gb}else(0,Q.getUid)(ra)in this.vertexSegments_&&!xa[Pa][0]&&!xa[Pa][1]&&this.insertVertexCondition_(N)&&
Y.push(gb)}Y.length&&this.willModifyFeatures_(N,[Y]);for(N=Y.length-1;0<=N;--N)this.insertVertex_(Y[N],W)}return!!this.vertexFeature_};ca.prototype.handleUpEvent=function(N){for(var C=this.dragSegments_.length-1;0<=C;--C){var W=this.dragSegments_[C][0],ha=W.geometry;if(ha.getType()===d["default"].CIRCLE){var Y=ha.getCenter(),wa=W.featureSegments[0];W=W.featureSegments[1];wa.segment[0]=Y;wa.segment[1]=Y;W.segment[0]=Y;W.segment[1]=Y;this.rBush_.update((0,M.createOrUpdateFromCoordinate)(Y),wa);if(Y=
(0,H.getUserProjection)())wa=N.map.getView().getProjection(),ha=ha.clone().transform(Y,wa),ha=(0,E.fromCircle)(ha).transform(wa,Y);this.rBush_.update(ha.getExtent(),W)}else this.rBush_.update((0,M.boundingExtent)(W.segment),W)}this.featuresBeingModified_&&(this.dispatchEvent(new fa("modifyend",this.featuresBeingModified_,N)),this.featuresBeingModified_=null);return!1};ca.prototype.handlePointerMove_=function(N){this.lastPixel_=N.pixel;this.handlePointerAtPixel_(N.pixel,N.map,N.coordinate)};ca.prototype.handlePointerAtPixel_=
function(N,C,W){var ha=this,Y=W||C.getCoordinateFromPixel(N),wa=C.getView().getProjection();W=function(za,qa){return G(Y,za,wa)-G(Y,qa,wa)};var xa;if(this.hitDetection_){var Ha="object"===l(this.hitDetection_)?function(za){return za===ha.hitDetection_}:void 0;C.forEachFeatureAtPixel(N,function(za,qa,R){R=R||za.getGeometry();R.getType()===d["default"].POINT&&(xa=R,qa=R.getCoordinates(),gb=[{feature:za,geometry:R,segment:[qa,qa]}]);return!0},{layerFilter:Ha})}if(!gb){Ha=(0,H.fromUserExtent)((0,M.createOrUpdateFromCoordinate)(Y,
ea),wa);var Za=C.getView().getResolution()*this.pixelTolerance_;Ha=(0,H.toUserExtent)((0,M.buffer)(Ha,Za,ea),wa);var gb=this.rBush_.getInExtent(Ha)}if(gb&&0<gb.length){Ha=gb.sort(W)[0];W=Ha.segment;Za=L(Y,Ha,wa);var ra=C.getPixelFromCoordinate(Za),Pa=(0,K.distance)(N,ra);if(xa||Pa<=this.pixelTolerance_){N={};N[(0,Q.getUid)(W)]=!0;this.delta_[0]=Za[0]-Y[0];this.delta_[1]=Za[1]-Y[1];if(Ha.geometry.getType()===d["default"].CIRCLE&&1===Ha.index)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(Za,
[Ha.feature],[Ha.geometry]);else{Pa=C.getPixelFromCoordinate(W[0]);var Ua=C.getPixelFromCoordinate(W[1]);C=(0,K.squaredDistance)(ra,Pa);ra=(0,K.squaredDistance)(ra,Ua);Pa=Math.sqrt(Math.min(C,ra));(this.snappedToVertex_=Pa<=this.pixelTolerance_)&&(Za=C>ra?W[1]:W[0]);this.createOrUpdateVertexFeature_(Za,[Ha.feature],[Ha.geometry]);C={};C[(0,Q.getUid)(Ha.geometry)]=!0;Ha=1;for(Za=gb.length;Ha<Za;++Ha)if(ra=gb[Ha].segment,(0,K.equals)(W[0],ra[0])&&(0,K.equals)(W[1],ra[1])||(0,K.equals)(W[0],ra[1])&&
(0,K.equals)(W[1],ra[0]))Pa=(0,Q.getUid)(gb[Ha].geometry),Pa in C||(C[Pa]=!0,N[(0,Q.getUid)(ra)]=!0);else break}this.vertexSegments_=N;return}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)};ca.prototype.insertVertex_=function(N,C){for(var W=N.segment,ha=N.feature,Y=N.geometry,wa=N.depth,xa=N.index,Ha;C.length<Y.getStride();)C.push(0);switch(Y.getType()){case d["default"].MULTI_LINE_STRING:Ha=Y.getCoordinates();Ha[wa[0]].splice(xa+1,0,
C);break;case d["default"].POLYGON:Ha=Y.getCoordinates();Ha[wa[0]].splice(xa+1,0,C);break;case d["default"].MULTI_POLYGON:Ha=Y.getCoordinates();Ha[wa[1]][wa[0]].splice(xa+1,0,C);break;case d["default"].LINE_STRING:Ha=Y.getCoordinates();Ha.splice(xa+1,0,C);break;default:return}this.setGeometryCoordinates_(Y,Ha);Ha=this.rBush_;Ha.remove(N);this.updateSegmentIndices_(Y,xa,wa,1);N={segment:[W[0],C],feature:ha,geometry:Y,depth:wa,index:xa};Ha.insert((0,M.boundingExtent)(N.segment),N);this.dragSegments_.push([N,
1]);C={segment:[C,W[1]],feature:ha,geometry:Y,depth:wa,index:xa+1};Ha.insert((0,M.boundingExtent)(C.segment),C);this.dragSegments_.push([C,0]);this.ignoreNextSingleClick_=!0};ca.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=f["default"].POINTERDRAG){var N=this.lastPointerEvent_;this.willModifyFeatures_(N,this.dragSegments_);var C=this.removeVertex_();this.dispatchEvent(new fa("modifyend",this.featuresBeingModified_,N));this.featuresBeingModified_=null;return C}return!1};
ca.prototype.removeVertex_=function(){var N=this.dragSegments_,C={},W=!1,ha,Y;for(Y=N.length-1;0<=Y;--Y){var wa=N[Y];var xa=wa[0];var Ha=(0,Q.getUid)(xa.feature);xa.depth&&(Ha+="-"+xa.depth.join("-"));Ha in C||(C[Ha]={});0===wa[1]?(C[Ha].right=xa,C[Ha].index=xa.index):1==wa[1]&&(C[Ha].left=xa,C[Ha].index=xa.index+1)}for(Ha in C){var Za=C[Ha].right;var gb=C[Ha].left;Y=C[Ha].index;var ra=Y-1;xa=void 0!==gb?gb:Za;0>ra&&(ra=0);wa=xa.geometry;var Pa=ha=wa.getCoordinates();W=!1;switch(wa.getType()){case d["default"].MULTI_LINE_STRING:2<
ha[xa.depth[0]].length&&(ha[xa.depth[0]].splice(Y,1),W=!0);break;case d["default"].LINE_STRING:2<ha.length&&(ha.splice(Y,1),W=!0);break;case d["default"].MULTI_POLYGON:Pa=Pa[xa.depth[1]];case d["default"].POLYGON:Pa=Pa[xa.depth[0]],4<Pa.length&&(Y==Pa.length-1&&(Y=0),Pa.splice(Y,1),W=!0,0===Y&&(Pa.pop(),Pa.push(Pa[0]),ra=Pa.length-1))}W&&(this.setGeometryCoordinates_(wa,ha),Pa=[],void 0!==gb&&(this.rBush_.remove(gb),Pa.push(gb.segment[0])),void 0!==Za&&(this.rBush_.remove(Za),Pa.push(Za.segment[1])),
void 0!==gb&&void 0!==Za&&(gb={depth:xa.depth,feature:xa.feature,geometry:xa.geometry,index:ra,segment:Pa},this.rBush_.insert((0,M.boundingExtent)(gb.segment),gb)),this.updateSegmentIndices_(wa,Y,xa.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),N.length=0)}return W};ca.prototype.setGeometryCoordinates_=function(N,C){this.changingFeature_=!0;N.setCoordinates(C);this.changingFeature_=!1};ca.prototype.updateSegmentIndices_=function(N,
C,W,ha){this.rBush_.forEachInExtent(N.getExtent(),function(Y){Y.geometry===N&&(void 0===W||void 0===Y.depth||(0,y.equals)(Y.depth,W))&&Y.index>C&&(Y.index+=ha)})};return ca}(mb["default"]);J["default"]=A};
shadow$provide[246]=function(Ia,A,mb,J){function m(n){return n&&n.__esModule?n:{"default":n}}function l(){var n=(0,t.createEditingStyle)();(0,k.extend)(n[L["default"].POLYGON],n[L["default"].LINE_STRING]);(0,k.extend)(n[L["default"].GEOMETRY_COLLECTION],n[L["default"].LINE_STRING]);return function(x){return x.getGeometry()?n[x.getGeometry().getType()]:null}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=J.SelectEvent=void 0;var u=m(A(107)),G=m(A(106));Ia=m(A(84));var L=m(A(119));mb=
m(A(170));var w=A(73),v=A(86),t=A(206),k=A(72),g=A(74),d=A(173),f=function(){var n=function(x,z){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,M){B.__proto__=M}||function(B,M){for(var K in M)Object.prototype.hasOwnProperty.call(M,K)&&(B[K]=M[K])};return n(x,z)};return function(x,z){function B(){this.constructor=x}n(x,z);x.prototype=null===z?Object.create(z):(B.prototype=z.prototype,new B)}}(),a=function(n){function x(z,B,M,K){z=n.call(this,z)||this;z.selected=B;z.deselected=
M;z.mapBrowserEvent=K;return z}f(x,n);return x}(Ia["default"]);J.SelectEvent=a;var e={};A=function(n){function x(z){var B=n.call(this)||this;z=z?z:{};B.boundAddFeature_=B.addFeature_.bind(B);B.boundRemoveFeature_=B.removeFeature_.bind(B);B.condition_=z.condition?z.condition:d.singleClick;B.addCondition_=z.addCondition?z.addCondition:d.never;B.removeCondition_=z.removeCondition?z.removeCondition:d.never;B.toggleCondition_=z.toggleCondition?z.toggleCondition:d.shiftKeyOnly;B.multi_=z.multi?z.multi:
!1;B.filter_=z.filter?z.filter:w.TRUE;B.hitTolerance_=z.hitTolerance?z.hitTolerance:0;B.style_=void 0!==z.style?z.style:l();B.features_=z.features||new u["default"];if(z.layers)if("function"===typeof z.layers)z=z.layers;else{var M=z.layers;z=function(K){return(0,k.includes)(M,K)}}else z=w.TRUE;B.layerFilter_=z;B.featureLayerAssociation_={};return B}f(x,n);x.prototype.addFeatureLayerAssociation_=function(z,B){this.featureLayerAssociation_[(0,g.getUid)(z)]=B};x.prototype.getFeatures=function(){return this.features_};
x.prototype.getHitTolerance=function(){return this.hitTolerance_};x.prototype.getLayer=function(z){return this.featureLayerAssociation_[(0,g.getUid)(z)]};x.prototype.setHitTolerance=function(z){this.hitTolerance_=z};x.prototype.setMap=function(z){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this));n.prototype.setMap.call(this,z);z?(this.features_.addEventListener(G["default"].ADD,this.boundAddFeature_),this.features_.addEventListener(G["default"].REMOVE,this.boundRemoveFeature_),
this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(G["default"].ADD,this.boundAddFeature_),this.features_.removeEventListener(G["default"].REMOVE,this.boundRemoveFeature_))};x.prototype.addFeature_=function(z){z=z.element;this.style_&&this.applySelectedStyle_(z)};x.prototype.removeFeature_=function(z){z=z.element;this.style_&&this.restorePreviousStyle_(z)};x.prototype.getStyle=function(){return this.style_};x.prototype.applySelectedStyle_=
function(z){var B=(0,g.getUid)(z);B in e||(e[B]=z.getStyle());z.setStyle(this.style_)};x.prototype.restorePreviousStyle_=function(z){for(var B=this.getMap().getInteractions().getArray(),M=B.length-1;0<=M;--M){var K=B[M];if(K!==this&&K instanceof x&&K.getStyle()&&-1!==K.getFeatures().getArray().lastIndexOf(z)){z.setStyle(K.getStyle());return}}B=(0,g.getUid)(z);z.setStyle(e[B]);delete e[B]};x.prototype.removeFeatureLayerAssociation_=function(z){delete this.featureLayerAssociation_[(0,g.getUid)(z)]};
x.prototype.handleEvent=function(z){if(!this.condition_(z))return!0;var B=this.addCondition_(z),M=this.removeCondition_(z),K=this.toggleCondition_(z),D=!B&&!M&&!K,y=z.map,E=this.getFeatures(),H=[],Q=[];if(D){(0,v.clear)(this.featureLayerAssociation_);y.forEachFeatureAtPixel(z.pixel,function(ea,ba){if(this.filter_(ea,ba))return Q.push(ea),this.addFeatureLayerAssociation_(ea,ba),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(D=E.getLength()-1;0<=D;--D){y=
E.item(D);var S=Q.indexOf(y);-1<S?Q.splice(S,1):(E.remove(y),H.push(y))}0!==Q.length&&E.extend(Q)}else{y.forEachFeatureAtPixel(z.pixel,function(ea,ba){if(this.filter_(ea,ba))return!B&&!K||(0,k.includes)(E.getArray(),ea)?(M||K)&&(0,k.includes)(E.getArray(),ea)&&(H.push(ea),this.removeFeatureLayerAssociation_(ea)):(Q.push(ea),this.addFeatureLayerAssociation_(ea,ba)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(D=H.length-1;0<=D;--D)E.remove(H[D]);E.extend(Q)}(0<
Q.length||0<H.length)&&this.dispatchEvent(new a("select",Q,H,z));return!0};return x}(mb["default"]);J["default"]=A};
shadow$provide[247]=function(Ia,A,mb,J){function m(B){return B&&B.__esModule?B:{"default":B}}function l(B){if(B.feature)return B.feature;if(B.element)return B.element}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var u=m(A(106)),G=m(A(88)),L=m(A(119));Ia=m(A(172));var w=m(A(237)),v=m(A(239)),t=A(73),k=A(80),g=A(98),d=A(152),f=A(130),a=A(74),e=A(86),n=A(89),x=function(){var B=function(M,K){B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,y){D.__proto__=y}||
function(D,y){for(var E in y)Object.prototype.hasOwnProperty.call(y,E)&&(D[E]=y[E])};return B(M,K)};return function(M,K){function D(){this.constructor=M}B(M,K);M.prototype=null===K?Object.create(K):(D.prototype=K.prototype,new D)}}(),z=[];A=function(B){function M(K){var D=K?K:{};D.handleDownEvent||(D.handleDownEvent=t.TRUE);D.stopDown||(D.stopDown=t.FALSE);K=B.call(this,D)||this;K.source_=D.source?D.source:null;K.vertex_=void 0!==D.vertex?D.vertex:!0;K.edge_=void 0!==D.edge?D.edge:!0;K.features_=
D.features?D.features:null;K.featuresListenerKeys_=[];K.featureChangeListenerKeys_={};K.indexedFeaturesExtents_={};K.pendingFeatures_={};K.pixelTolerance_=void 0!==D.pixelTolerance?D.pixelTolerance:10;K.rBush_=new w["default"];K.SEGMENT_WRITERS_={Point:K.writePointGeometry_.bind(K),LineString:K.writeLineStringGeometry_.bind(K),LinearRing:K.writeLineStringGeometry_.bind(K),Polygon:K.writePolygonGeometry_.bind(K),MultiPoint:K.writeMultiPointGeometry_.bind(K),MultiLineString:K.writeMultiLineStringGeometry_.bind(K),
MultiPolygon:K.writeMultiPolygonGeometry_.bind(K),GeometryCollection:K.writeGeometryCollectionGeometry_.bind(K),Circle:K.writeCircleGeometry_.bind(K)};return K}x(M,B);M.prototype.addFeature=function(K,D){D=void 0!==D?D:!0;var y=(0,a.getUid)(K),E=K.getGeometry();if(E){var H=this.SEGMENT_WRITERS_[E.getType()];H&&(this.indexedFeaturesExtents_[y]=E.getExtent((0,k.createEmpty)()),H(K,E))}D&&(this.featureChangeListenerKeys_[y]=(0,n.listen)(K,G["default"].CHANGE,this.handleFeatureChange_,this))};M.prototype.forEachFeatureAdd_=
function(K){this.addFeature(K)};M.prototype.forEachFeatureRemove_=function(K){this.removeFeature(K)};M.prototype.getFeatures_=function(){var K;this.features_?K=this.features_:this.source_&&(K=this.source_.getFeatures());return K};M.prototype.handleEvent=function(K){var D=this.snapTo(K.pixel,K.coordinate,K.map);D.snapped&&(K.coordinate=D.vertex.slice(0,2),K.pixel=D.vertexPixel);return B.prototype.handleEvent.call(this,K)};M.prototype.handleFeatureAdd_=function(K){K=l(K);this.addFeature(K)};M.prototype.handleFeatureRemove_=
function(K){K=l(K);this.removeFeature(K)};M.prototype.handleFeatureChange_=function(K){K=K.target;if(this.handlingDownUpSequence){var D=(0,a.getUid)(K);D in this.pendingFeatures_||(this.pendingFeatures_[D]=K)}else this.updateFeature_(K)};M.prototype.handleUpEvent=function(K){K=(0,e.getValues)(this.pendingFeatures_);K.length&&(K.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={});return!1};M.prototype.removeFeature=function(K,D){D=void 0!==D?D:!0;var y=(0,a.getUid)(K),E=this.indexedFeaturesExtents_[y];
if(E){var H=this.rBush_,Q=[];H.forEachInExtent(E,function(S){K===S.feature&&Q.push(S)});for(E=Q.length-1;0<=E;--E)H.remove(Q[E])}D&&((0,n.unlistenByKey)(this.featureChangeListenerKeys_[y]),delete this.featureChangeListenerKeys_[y])};M.prototype.setMap=function(K){var D=this.getMap(),y=this.featuresListenerKeys_,E=this.getFeatures_();D&&(y.forEach(n.unlistenByKey),y.length=0,E.forEach(this.forEachFeatureRemove_.bind(this)));B.prototype.setMap.call(this,K);K&&(this.features_?y.push((0,n.listen)(this.features_,
u["default"].ADD,this.handleFeatureAdd_,this),(0,n.listen)(this.features_,u["default"].REMOVE,this.handleFeatureRemove_,this)):this.source_&&y.push((0,n.listen)(this.source_,v["default"].ADDFEATURE,this.handleFeatureAdd_,this),(0,n.listen)(this.source_,v["default"].REMOVEFEATURE,this.handleFeatureRemove_,this)),E.forEach(this.forEachFeatureAdd_.bind(this)))};M.prototype.snapTo=function(K,D,y){var E=y.getCoordinateFromPixel([K[0]-this.pixelTolerance_,K[1]+this.pixelTolerance_]),H=y.getCoordinateFromPixel([K[0]+
this.pixelTolerance_,K[1]-this.pixelTolerance_]);E=(0,k.boundingExtent)([E,H]);var Q=this.rBush_.getInExtent(E);this.vertex_&&!this.edge_&&(Q=Q.filter(function(C){return C.feature.getGeometry().getType()!==L["default"].CIRCLE}));E=!1;var S=H=null;if(0===Q.length)return{snapped:E,vertex:H,vertexPixel:S};var ea=y.getView().getProjection();D=(0,f.fromUserCoordinate)(D,ea);for(var ba,fa=Infinity,ia=0;ia<Q.length;++ia){var ca=Q[ia];z[0]=(0,f.fromUserCoordinate)(ca.segment[0],ea);z[1]=(0,f.fromUserCoordinate)(ca.segment[1],
ea);var N=(0,g.squaredDistanceToSegment)(D,z);N<fa&&(ba=ca,fa=N)}Q=ba.segment;this.vertex_&&!this.edge_?(ba=y.getPixelFromCoordinate(Q[0]),ea=y.getPixelFromCoordinate(Q[1]),ba=(0,g.squaredDistance)(K,ba),K=(0,g.squaredDistance)(K,ea),ea=Math.sqrt(Math.min(ba,K)),ea<=this.pixelTolerance_&&(E=!0,H=ba>K?Q[1]:Q[0],S=y.getPixelFromCoordinate(H))):this.edge_&&((fa=ba.feature.getGeometry().getType()===L["default"].CIRCLE)?(H=ba.feature.getGeometry(),(S=(0,f.getUserProjection)())&&(H=H.clone().transform(S,
ea)),H=(0,f.toUserCoordinate)((0,g.closestOnCircle)(D,H),ea)):(z[0]=(0,f.fromUserCoordinate)(Q[0],ea),z[1]=(0,f.fromUserCoordinate)(Q[1],ea),H=(0,f.toUserCoordinate)((0,g.closestOnSegment)(D,z),ea)),S=y.getPixelFromCoordinate(H),(0,g.distance)(K,S)<=this.pixelTolerance_&&(E=!0,this.vertex_&&!fa&&(ba=y.getPixelFromCoordinate(Q[0]),ea=y.getPixelFromCoordinate(Q[1]),ba=(0,g.squaredDistance)(S,ba),K=(0,g.squaredDistance)(S,ea),ea=Math.sqrt(Math.min(ba,K)),ea<=this.pixelTolerance_&&(H=ba>K?Q[1]:Q[0],S=
y.getPixelFromCoordinate(H)))));E&&(S=[Math.round(S[0]),Math.round(S[1])]);return{snapped:E,vertex:H,vertexPixel:S}};M.prototype.updateFeature_=function(K){this.removeFeature(K,!1);this.addFeature(K,!1)};M.prototype.writeCircleGeometry_=function(K,D){var y=this.getMap().getView().getProjection(),E=D;(D=(0,f.getUserProjection)())&&(E=E.clone().transform(D,y));E=(0,d.fromCircle)(E);D&&E.transform(y,D);y=E.getCoordinates()[0];D=0;for(E=y.length-1;D<E;++D){var H=y.slice(D,D+2),Q={feature:K,segment:H};
this.rBush_.insert((0,k.boundingExtent)(H),Q)}};M.prototype.writeGeometryCollectionGeometry_=function(K,D){D=D.getGeometriesArray();for(var y=0;y<D.length;++y){var E=this.SEGMENT_WRITERS_[D[y].getType()];E&&E(K,D[y])}};M.prototype.writeLineStringGeometry_=function(K,D){D=D.getCoordinates();for(var y=0,E=D.length-1;y<E;++y){var H=D.slice(y,y+2),Q={feature:K,segment:H};this.rBush_.insert((0,k.boundingExtent)(H),Q)}};M.prototype.writeMultiLineStringGeometry_=function(K,D){D=D.getCoordinates();for(var y=
0,E=D.length;y<E;++y)for(var H=D[y],Q=0,S=H.length-1;Q<S;++Q){var ea=H.slice(Q,Q+2),ba={feature:K,segment:ea};this.rBush_.insert((0,k.boundingExtent)(ea),ba)}};M.prototype.writeMultiPointGeometry_=function(K,D){for(var y=D.getCoordinates(),E=0,H=y.length;E<H;++E){var Q=y[E];Q={feature:K,segment:[Q,Q]};this.rBush_.insert(D.getExtent(),Q)}};M.prototype.writeMultiPolygonGeometry_=function(K,D){D=D.getCoordinates();for(var y=0,E=D.length;y<E;++y)for(var H=D[y],Q=0,S=H.length;Q<S;++Q)for(var ea=H[Q],ba=
0,fa=ea.length-1;ba<fa;++ba){var ia=ea.slice(ba,ba+2),ca={feature:K,segment:ia};this.rBush_.insert((0,k.boundingExtent)(ia),ca)}};M.prototype.writePointGeometry_=function(K,D){var y=D.getCoordinates();K={feature:K,segment:[y,y]};this.rBush_.insert(D.getExtent(),K)};M.prototype.writePolygonGeometry_=function(K,D){D=D.getCoordinates();for(var y=0,E=D.length;y<E;++y)for(var H=D[y],Q=0,S=H.length-1;Q<S;++Q){var ea=H.slice(Q,Q+2),ba={feature:K,segment:ea};this.rBush_.insert((0,k.boundingExtent)(ea),ba)}};
return M}(Ia["default"]);J["default"]=A};
shadow$provide[248]=function(Ia,A,mb,J){function m(k){return k&&k.__esModule?k:{"default":k}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=J.TranslateEvent=void 0;var l=m(A(107));Ia=m(A(84));var u=m(A(169));mb=m(A(172));var G=A(73),L=A(91),w=A(72),v=function(){var k=function(g,d){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(f[e]=a[e])};return k(g,d)};return function(g,
d){function f(){this.constructor=g}k(g,d);g.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)}}(),t=function(k){function g(d,f,a,e,n){d=k.call(this,d)||this;d.features=f;d.coordinate=a;d.startCoordinate=e;d.mapBrowserEvent=n;return d}v(g,k);return g}(Ia["default"]);J.TranslateEvent=t;A=function(k){function g(d){var f=this;d=d?d:{};f=k.call(this,d)||this;f.lastCoordinate_=null;f.startCoordinate_=null;f.features_=void 0!==d.features?d.features:null;if(d.layers)if("function"===typeof d.layers)var a=
d.layers;else{var e=d.layers;a=function(n){return(0,w.includes)(e,n)}}else a=G.TRUE;f.layerFilter_=a;f.filter_=d.filter?d.filter:G.TRUE;f.hitTolerance_=d.hitTolerance?d.hitTolerance:0;f.lastFeature_=null;f.addEventListener((0,L.getChangeEventType)(u["default"].ACTIVE),f.handleActiveChanged_);return f}v(g,k);g.prototype.handleDownEvent=function(d){this.lastFeature_=this.featuresAtPixel_(d.pixel,d.map);if(!this.lastCoordinate_&&this.lastFeature_){this.lastCoordinate_=this.startCoordinate_=d.coordinate;
this.handleMoveEvent(d);var f=this.features_||new l["default"]([this.lastFeature_]);this.dispatchEvent(new t("translatestart",f,d.coordinate,this.startCoordinate_,d));return!0}return!1};g.prototype.handleUpEvent=function(d){if(this.lastCoordinate_){this.lastCoordinate_=null;this.handleMoveEvent(d);var f=this.features_||new l["default"]([this.lastFeature_]);this.dispatchEvent(new t("translateend",f,d.coordinate,this.startCoordinate_,d));this.startCoordinate_=null;return!0}return!1};g.prototype.handleDragEvent=
function(d){if(this.lastCoordinate_){var f=d.coordinate,a=f[0]-this.lastCoordinate_[0],e=f[1]-this.lastCoordinate_[1],n=this.features_||new l["default"]([this.lastFeature_]);n.forEach(function(x){var z=x.getGeometry();z.translate(a,e);x.setGeometry(z)});this.lastCoordinate_=f;this.dispatchEvent(new t("translating",n,f,this.startCoordinate_,d))}};g.prototype.handleMoveEvent=function(d){var f=d.map.getViewport();this.featuresAtPixel_(d.pixel,d.map)?(f.classList.remove(this.lastCoordinate_?"ol-grab":
"ol-grabbing"),f.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")):f.classList.remove("ol-grab","ol-grabbing")};g.prototype.featuresAtPixel_=function(d,f){return f.forEachFeatureAtPixel(d,function(a,e){if(this.filter_(a,e)&&(!this.features_||(0,w.includes)(this.features_.getArray(),a)))return a}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})};g.prototype.getHitTolerance=function(){return this.hitTolerance_};g.prototype.setHitTolerance=function(d){this.hitTolerance_=
d};g.prototype.setMap=function(d){var f=this.getMap();k.prototype.setMap.call(this,d);this.updateState_(f)};g.prototype.handleActiveChanged_=function(){this.updateState_(null)};g.prototype.updateState_=function(d){var f=this.getMap(),a=this.getActive();f&&a||(f=f||d)&&f.getViewport().classList.remove("ol-grab","ol-grabbing")};return g}(mb["default"]);J["default"]=A};
shadow$provide[249]=function(Ia,A,mb,J){function m(H){return H&&H.__esModule?H:{"default":H}}Object.defineProperty(J,"__esModule",{value:!0});J.defaults=function(H){H=H?H:{};var Q=new l["default"],S=new k["default"](-.005,.05,100);(void 0!==H.altShiftDragRotate?H.altShiftDragRotate:1)&&Q.push(new L["default"]);(void 0!==H.doubleClickZoom?H.doubleClickZoom:1)&&Q.push(new u["default"]({delta:H.zoomDelta,duration:H.zoomDuration}));(void 0!==H.dragPan?H.dragPan:1)&&Q.push(new G["default"]({onFocusOnly:H.onFocusOnly,
kinetic:S}));(void 0!==H.pinchRotate?H.pinchRotate:1)&&Q.push(new d["default"]);(void 0!==H.pinchZoom?H.pinchZoom:1)&&Q.push(new f["default"]({duration:H.zoomDuration}));if(void 0!==H.keyboard?H.keyboard:1)Q.push(new v["default"]),Q.push(new t["default"]({delta:H.zoomDelta,duration:H.zoomDuration}));(void 0!==H.mouseWheelZoom?H.mouseWheelZoom:1)&&Q.push(new g["default"]({onFocusOnly:H.onFocusOnly,duration:H.zoomDuration}));(void 0!==H.shiftDragZoom?H.shiftDragZoom:1)&&Q.push(new w["default"]({duration:H.zoomDuration}));
return Q};Object.defineProperty(J,"DoubleClickZoom",{enumerable:!0,get:function(){return u["default"]}});Object.defineProperty(J,"DragPan",{enumerable:!0,get:function(){return G["default"]}});Object.defineProperty(J,"DragRotate",{enumerable:!0,get:function(){return L["default"]}});Object.defineProperty(J,"DragZoom",{enumerable:!0,get:function(){return w["default"]}});Object.defineProperty(J,"KeyboardPan",{enumerable:!0,get:function(){return v["default"]}});Object.defineProperty(J,"KeyboardZoom",{enumerable:!0,
get:function(){return t["default"]}});Object.defineProperty(J,"MouseWheelZoom",{enumerable:!0,get:function(){return g["default"]}});Object.defineProperty(J,"PinchRotate",{enumerable:!0,get:function(){return d["default"]}});Object.defineProperty(J,"PinchZoom",{enumerable:!0,get:function(){return f["default"]}});Object.defineProperty(J,"DragAndDrop",{enumerable:!0,get:function(){return a["default"]}});Object.defineProperty(J,"DragBox",{enumerable:!0,get:function(){return e["default"]}});Object.defineProperty(J,
"DragRotateAndZoom",{enumerable:!0,get:function(){return n["default"]}});Object.defineProperty(J,"Draw",{enumerable:!0,get:function(){return x["default"]}});Object.defineProperty(J,"Extent",{enumerable:!0,get:function(){return z["default"]}});Object.defineProperty(J,"Interaction",{enumerable:!0,get:function(){return B["default"]}});Object.defineProperty(J,"Modify",{enumerable:!0,get:function(){return M["default"]}});Object.defineProperty(J,"Pointer",{enumerable:!0,get:function(){return K["default"]}});
Object.defineProperty(J,"Select",{enumerable:!0,get:function(){return D["default"]}});Object.defineProperty(J,"Snap",{enumerable:!0,get:function(){return y["default"]}});Object.defineProperty(J,"Translate",{enumerable:!0,get:function(){return E["default"]}});var l=m(A(107)),u=m(A(171)),G=m(A(174)),L=m(A(175)),w=m(A(178)),v=m(A(180)),t=m(A(181)),k=m(A(182)),g=m(A(183)),d=m(A(184)),f=m(A(185)),a=m(A(187)),e=m(A(177)),n=m(A(188)),x=m(A(243)),z=m(A(244)),B=m(A(170)),M=m(A(245)),K=m(A(172)),D=m(A(246)),
y=m(A(247)),E=m(A(248))};
shadow$provide[250]=function(Ia,A,mb,J){function m(v){return v&&v.__esModule?v:{"default":v}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(A(105));Ia=m(A(155));var u=A(86),G=A(168),L=A(249),w=function(){var v=function(t,k){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(g[f]=d[f])};return v(t,k)};return function(t,k){function g(){this.constructor=t}v(t,k);
t.prototype=null===k?Object.create(k):(g.prototype=k.prototype,new g)}}();A=function(v){function t(k){k=(0,u.assign)({},k);k.controls||(k.controls=(0,G.defaults)());k.interactions||(k.interactions=(0,L.defaults)({onFocusOnly:!0}));return v.call(this,k)||this}w(t,v);t.prototype.createRenderer=function(){return new l["default"](this)};return t}(Ia["default"]);J["default"]=A};
shadow$provide[251]=function(Ia,A,mb,J){function m(t){return t&&t.__esModule?t:{"default":t}}function l(t){for(var k=[],g=0,d=t.length;g<d;++g)k.push(t[g].clone());return k}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var u=m(A(88));Ia=m(A(137));var G=m(A(119)),L=A(80),w=A(89),v=function(){var t=function(k,g){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var a in f)Object.prototype.hasOwnProperty.call(f,a)&&(d[a]=f[a])};
return t(k,g)};return function(k,g){function d(){this.constructor=k}t(k,g);k.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}}();A=function(t){function k(g){var d=t.call(this)||this;d.geometries_=g?g:null;d.changeEventsKeys_=[];d.listenGeometriesChange_();return d}v(k,t);k.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(w.unlistenByKey);this.changeEventsKeys_.length=0};k.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var g=0,
d=this.geometries_.length;g<d;++g)this.changeEventsKeys_.push((0,w.listen)(this.geometries_[g],u["default"].CHANGE,this.changed,this))};k.prototype.clone=function(){var g=new k(null);g.setGeometries(this.geometries_);g.applyProperties(this);return g};k.prototype.closestPointXY=function(g,d,f,a){if(a<(0,L.closestSquaredDistanceXY)(this.getExtent(),g,d))return a;for(var e=this.geometries_,n=0,x=e.length;n<x;++n)a=e[n].closestPointXY(g,d,f,a);return a};k.prototype.containsXY=function(g,d){for(var f=
this.geometries_,a=0,e=f.length;a<e;++a)if(f[a].containsXY(g,d))return!0;return!1};k.prototype.computeExtent=function(g){(0,L.createOrUpdateEmpty)(g);for(var d=this.geometries_,f=0,a=d.length;f<a;++f)(0,L.extend)(g,d[f].getExtent());return g};k.prototype.getGeometries=function(){return l(this.geometries_)};k.prototype.getGeometriesArray=function(){return this.geometries_};k.prototype.getGeometriesArrayRecursive=function(){for(var g=[],d=this.geometries_,f=0,a=d.length;f<a;++f)d[f].getType()===this.getType()?
g=g.concat(d[f].getGeometriesArrayRecursive()):g.push(d[f]);return g};k.prototype.getSimplifiedGeometry=function(g){this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision());if(0>g||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&g<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var d=[],f=this.geometries_,a=!1,e=0,n=f.length;e<n;++e){var x=f[e],z=x.getSimplifiedGeometry(g);d.push(z);
z!==x&&(a=!0)}if(a)return g=new k(null),g.setGeometriesArray(d),g;this.simplifiedGeometryMaxMinSquaredTolerance=g;return this};k.prototype.getType=function(){return G["default"].GEOMETRY_COLLECTION};k.prototype.intersectsExtent=function(g){for(var d=this.geometries_,f=0,a=d.length;f<a;++f)if(d[f].intersectsExtent(g))return!0;return!1};k.prototype.isEmpty=function(){return 0===this.geometries_.length};k.prototype.rotate=function(g,d){for(var f=this.geometries_,a=0,e=f.length;a<e;++a)f[a].rotate(g,
d);this.changed()};k.prototype.scale=function(g,d,f){f||(f=(0,L.getCenter)(this.getExtent()));for(var a=this.geometries_,e=0,n=a.length;e<n;++e)a[e].scale(g,d,f);this.changed()};k.prototype.setGeometries=function(g){this.setGeometriesArray(l(g))};k.prototype.setGeometriesArray=function(g){this.unlistenGeometriesChange_();this.geometries_=g;this.listenGeometriesChange_();this.changed()};k.prototype.applyTransform=function(g){for(var d=this.geometries_,f=0,a=d.length;f<a;++f)d[f].applyTransform(g);
this.changed()};k.prototype.translate=function(g,d){for(var f=this.geometries_,a=0,e=f.length;a<e;++a)f[a].translate(g,d);this.changed()};k.prototype.disposeInternal=function(){this.unlistenGeometriesChange_();t.prototype.disposeInternal.call(this)};return k}(Ia["default"]);J["default"]=A};
shadow$provide[252]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J.transformGeometryWithOptions=function(L,w,v){var t=v?(0,G.get)(v.featureProjection):null,k=v?(0,G.get)(v.dataProjection):null;t=t&&k&&!(0,G.equivalent)(t,k)?(w?L.clone():L).transform(w?t:k,w?k:t):L;if(w&&v&&void 0!==v.decimals){var g=Math.pow(10,v.decimals);t===L&&(t=L.clone());t.applyTransform(function(d){for(var f=0,a=d.length;f<a;++f)d[f]=Math.round(d[f]*g)/g;return d})}return t};J.transformExtentWithOptions=
function(L,w){var v=w?(0,G.get)(w.featureProjection):null;w=w?(0,G.get)(w.dataProjection):null;return v&&w&&!(0,G.equivalent)(v,w)?(0,G.transformExtent)(L,w,v):L};J["default"]=void 0;var m=function(L){return L&&L.__esModule?L:{"default":L}}(A(120)),l=A(74),u=A(86),G=A(130);Ia=function(){function L(){this.defaultFeatureProjection=this.dataProjection=null}L.prototype.getReadOptions=function(w,v){if(v){w=v.dataProjection?(0,G.get)(v.dataProjection):this.readProjection(w);v.extent&&w&&w.getUnits()===
m["default"].TILE_PIXELS&&(w=(0,G.get)(w),w.setWorldExtent(v.extent));var t={dataProjection:w,featureProjection:v.featureProjection}}return this.adaptOptions(t)};L.prototype.adaptOptions=function(w){return(0,u.assign)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},w)};L.prototype.getType=function(){return(0,l["abstract"])()};L.prototype.readFeature=function(w,v){return(0,l["abstract"])()};L.prototype.readFeatures=function(w,v){return(0,l["abstract"])()};L.prototype.readGeometry=
function(w,v){return(0,l["abstract"])()};L.prototype.readProjection=function(w){return(0,l["abstract"])()};L.prototype.writeFeature=function(w,v){return(0,l["abstract"])()};L.prototype.writeFeatures=function(w,v){return(0,l["abstract"])()};L.prototype.writeGeometry=function(w,v){return(0,l["abstract"])()};return L}();J["default"]=Ia};
shadow$provide[253]=function(Ia,A,mb,J){function m(w){return w&&w.__esModule?w:{"default":w}}function l(w){return"string"===typeof w?w:""}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=m(A(252));var u=m(A(186)),G=A(74),L=function(){var w=function(v,t){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,g){k.__proto__=g}||function(k,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(k[d]=g[d])};return w(v,t)};return function(v,t){function k(){this.constructor=
v}w(v,t);v.prototype=null===t?Object.create(t):(k.prototype=t.prototype,new k)}}();A=function(w){function v(){return w.call(this)||this}L(v,w);v.prototype.getType=function(){return u["default"].TEXT};v.prototype.readFeature=function(t,k){return this.readFeatureFromText(l(t),this.adaptOptions(k))};v.prototype.readFeatureFromText=function(t,k){return(0,G["abstract"])()};v.prototype.readFeatures=function(t,k){return this.readFeaturesFromText(l(t),this.adaptOptions(k))};v.prototype.readFeaturesFromText=
function(t,k){return(0,G["abstract"])()};v.prototype.readGeometry=function(t,k){return this.readGeometryFromText(l(t),this.adaptOptions(k))};v.prototype.readGeometryFromText=function(t,k){return(0,G["abstract"])()};v.prototype.readProjection=function(t){return this.readProjectionFromText(l(t))};v.prototype.readProjectionFromText=function(t){return this.dataProjection};v.prototype.writeFeature=function(t,k){return this.writeFeatureText(t,this.adaptOptions(k))};v.prototype.writeFeatureText=function(t,
k){return(0,G["abstract"])()};v.prototype.writeFeatures=function(t,k){return this.writeFeaturesText(t,this.adaptOptions(k))};v.prototype.writeFeaturesText=function(t,k){return(0,G["abstract"])()};v.prototype.writeGeometry=function(t,k){return this.writeGeometryText(t,this.adaptOptions(k))};v.prototype.writeGeometryText=function(t,k){return(0,G["abstract"])()};return v}(Ia["default"]);J["default"]=A};
shadow$provide[254]=function(Ia,A,mb,J){function m(y){return y&&y.__esModule?y:{"default":y}}function l(y){y=y.getCoordinates();return 0===y.length?"":y.join(" ")}function u(y){y=y.getCoordinates();for(var E=[],H=0,Q=y.length;H<Q;++H)E.push(y[H].join(" "));return E.join(",")}function G(y){var E=[];y=y.getLinearRings();for(var H=0,Q=y.length;H<Q;++H)E.push("("+u(y[H])+")");return E.join(",")}function L(y){var E=y.getType(),H=(0,D[E])(y);E=E.toUpperCase();if("function"===typeof y.getFlatCoordinates){y=
y.getLayout();var Q="";if(y===t["default"].XYZ||y===t["default"].XYZM)Q+="Z";if(y===t["default"].XYM||y===t["default"].XYZM)Q+="M";y=Q;0<y.length&&(E+=" "+y)}return 0===H.length?E+" EMPTY":E+"("+H+")"}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var w=m(A(190)),v=m(A(251)),t=m(A(135)),k=m(A(119));Ia=m(A(193));mb=m(A(194));var g=m(A(195)),d=m(A(197)),f=m(A(145)),a=m(A(152)),e=m(A(253)),n=A(252),x=function(){var y=function(E,H){y=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(Q,S){Q.__proto__=S}||function(Q,S){for(var ea in S)Object.prototype.hasOwnProperty.call(S,ea)&&(Q[ea]=S[ea])};return y(E,H)};return function(E,H){function Q(){this.constructor=E}y(E,H);E.prototype=null===H?Object.create(H):(Q.prototype=H.prototype,new Q)}}(),z={POINT:f["default"],LINESTRING:Ia["default"],POLYGON:a["default"],MULTIPOINT:g["default"],MULTILINESTRING:mb["default"],MULTIPOLYGON:d["default"]},B;for(B in k["default"])k["default"][B].toUpperCase();var M=function(){function y(E){this.wkt=
E;this.index_=-1}y.prototype.isAlpha_=function(E){return"a"<=E&&"z">=E||"A"<=E&&"Z">=E};y.prototype.isNumeric_=function(E,H){return"0"<=E&&"9">=E||"."==E&&!(void 0!==H&&H)};y.prototype.isWhiteSpace_=function(E){return" "==E||"\t"==E||"\r"==E||"\n"==E};y.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)};y.prototype.nextToken=function(){var E=this.nextChar_(),H=this.index_,Q=E;if("("==E)E=2;else if(","==E)E=5;else if(")"==E)E=3;else if(this.isNumeric_(E)||"-"==E)E=4,Q=this.readNumber_();
else if(this.isAlpha_(E))E=1,Q=this.readText_();else{if(this.isWhiteSpace_(E))return this.nextToken();if(""===E)E=6;else throw Error("Unexpected character: "+E);}return{position:H,value:Q,type:E}};y.prototype.readNumber_=function(){var E=this.index_,H=!1,Q=!1;do{if("."==S)H=!0;else if("e"==S||"E"==S)Q=!0;var S=this.nextChar_()}while(this.isNumeric_(S,H)||!Q&&("e"==S||"E"==S)||Q&&("-"==S||"+"==S));return parseFloat(this.wkt.substring(E,this.index_--))};y.prototype.readText_=function(){var E=this.index_;
do var H=this.nextChar_();while(this.isAlpha_(H));return this.wkt.substring(E,this.index_--).toUpperCase()};return y}(),K=function(){function y(E){this.lexer_=E;this.layout_=t["default"].XY}y.prototype.consume_=function(){this.token_=this.lexer_.nextToken()};y.prototype.isTokenType=function(E){return this.token_.type==E};y.prototype.match=function(E){(E=this.isTokenType(E))&&this.consume_();return E};y.prototype.parse=function(){this.consume_();return this.parseGeometry_()};y.prototype.parseGeometryLayout_=
function(){var E=t["default"].XY,H=this.token_;this.isTokenType(1)&&(H=H.value,"Z"===H?E=t["default"].XYZ:"M"===H?E=t["default"].XYM:"ZM"===H&&(E=t["default"].XYZM),E!==t["default"].XY&&this.consume_());return E};y.prototype.parseGeometryCollectionText_=function(){if(this.match(2)){var E=[];do E.push(this.parseGeometry_());while(this.match(5));if(this.match(3))return E}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());};y.prototype.parsePointText_=function(){if(this.match(2)){var E=
this.parsePoint_();if(this.match(3))return E}else if(this.isEmptyGeometry_())return null;throw Error(this.formatErrorMessage_());};y.prototype.parseLineStringText_=function(){if(this.match(2)){var E=this.parsePointList_();if(this.match(3))return E}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());};y.prototype.parsePolygonText_=function(){if(this.match(2)){var E=this.parseLineStringTextList_();if(this.match(3))return E}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());
};y.prototype.parseMultiPointText_=function(){if(this.match(2)){var E=2==this.token_.type?this.parsePointTextList_():this.parsePointList_();if(this.match(3))return E}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());};y.prototype.parseMultiLineStringText_=function(){if(this.match(2)){var E=this.parseLineStringTextList_();if(this.match(3))return E}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());};y.prototype.parseMultiPolygonText_=function(){if(this.match(2)){var E=
this.parsePolygonTextList_();if(this.match(3))return E}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());};y.prototype.parsePoint_=function(){for(var E=[],H=this.layout_.length,Q=0;Q<H;++Q){var S=this.token_;if(this.match(4))E.push(S.value);else break}if(E.length==H)return E;throw Error(this.formatErrorMessage_());};y.prototype.parsePointList_=function(){for(var E=[this.parsePoint_()];this.match(5);)E.push(this.parsePoint_());return E};y.prototype.parsePointTextList_=
function(){for(var E=[this.parsePointText_()];this.match(5);)E.push(this.parsePointText_());return E};y.prototype.parseLineStringTextList_=function(){for(var E=[this.parseLineStringText_()];this.match(5);)E.push(this.parseLineStringText_());return E};y.prototype.parsePolygonTextList_=function(){for(var E=[this.parsePolygonText_()];this.match(5);)E.push(this.parsePolygonText_());return E};y.prototype.isEmptyGeometry_=function(){var E=this.isTokenType(1)&&"EMPTY"==this.token_.value;E&&this.consume_();
return E};y.prototype.formatErrorMessage_=function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"};y.prototype.parseGeometry_=function(){var E=this.token_;if(this.match(1)){var H=E.value;this.layout_=this.parseGeometryLayout_();if("GEOMETRYCOLLECTION"==H)return E=this.parseGeometryCollectionText_(),new v["default"](E);E=z[H];if(!E)throw Error("Invalid geometry type: "+H);switch(H){case "POINT":H=this.parsePointText_();break;case "LINESTRING":H=
this.parseLineStringText_();break;case "POLYGON":H=this.parsePolygonText_();break;case "MULTIPOINT":H=this.parseMultiPointText_();break;case "MULTILINESTRING":H=this.parseMultiLineStringText_();break;case "MULTIPOLYGON":H=this.parseMultiPolygonText_();break;default:throw Error("Invalid geometry type: "+H);}H||(H=E===z.POINT?[NaN,NaN]:[]);return new E(H,this.layout_)}throw Error(this.formatErrorMessage_());};return y}();A=function(y){function E(H){var Q=y.call(this)||this;H=H?H:{};Q.splitCollection_=
void 0!==H.splitCollection?H.splitCollection:!1;return Q}x(E,y);E.prototype.parse_=function(H){H=new M(H);return(new K(H)).parse()};E.prototype.readFeatureFromText=function(H,Q){return(H=this.readGeometryFromText(H,Q))?(Q=new w["default"],Q.setGeometry(H),Q):null};E.prototype.readFeaturesFromText=function(H,Q){H=this.readGeometryFromText(H,Q);H=this.splitCollection_&&H.getType()==k["default"].GEOMETRY_COLLECTION?H.getGeometriesArray():[H];Q=[];for(var S=0,ea=H.length;S<ea;++S){var ba=new w["default"];
ba.setGeometry(H[S]);Q.push(ba)}return Q};E.prototype.readGeometryFromText=function(H,Q){return(H=this.parse_(H))?(0,n.transformGeometryWithOptions)(H,!1,Q):null};E.prototype.writeFeatureText=function(H,Q){return(H=H.getGeometry())?this.writeGeometryText(H,Q):""};E.prototype.writeFeaturesText=function(H,Q){if(1==H.length)return this.writeFeatureText(H[0],Q);for(var S=[],ea=0,ba=H.length;ea<ba;++ea)S.push(H[ea].getGeometry());H=new v["default"](S);return this.writeGeometryText(H,Q)};E.prototype.writeGeometryText=
function(H,Q){return L((0,n.transformGeometryWithOptions)(H,!0,Q))};return E}(e["default"]);var D={Point:l,LineString:u,Polygon:G,MultiPoint:function(y){var E=[];y=y.getPoints();for(var H=0,Q=y.length;H<Q;++H)E.push("("+l(y[H])+")");return E.join(",")},MultiLineString:function(y){var E=[];y=y.getLineStrings();for(var H=0,Q=y.length;H<Q;++H)E.push("("+u(y[H])+")");return E.join(",")},MultiPolygon:function(y){var E=[];y=y.getPolygons();for(var H=0,Q=y.length;H<Q;++H)E.push("("+G(y[H])+")");return E.join(",")},
GeometryCollection:function(y){var E=[];y=y.getGeometries();for(var H=0,Q=y.length;H<Q;++H)E.push(L(y[H]));return E.join(",")}};J["default"]=A};
shadow$provide[255]=function(Ia,A,mb,J){function m(v){return v&&v.__esModule?v:{"default":v}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=m(A(87));var l=m(A(88)),u=m(A(117)),G=A(74),L=A(134),w=function(){var v=function(t,k){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(g[f]=d[f])};return v(t,k)};return function(t,k){function g(){this.constructor=t}v(t,k);t.prototype=
null===k?Object.create(k):(g.prototype=k.prototype,new g)}}();A=function(v){function t(k,g,d){var f=v.call(this)||this;d=d?d:{};f.tileCoord=k;f.state=g;f.interimTile=null;f.hifi=!0;f.key="";f.transition_=void 0===d.transition?250:d.transition;f.transitionStarts_={};return f}w(t,v);t.prototype.changed=function(){this.dispatchEvent(l["default"].CHANGE)};t.prototype.release=function(){};t.prototype.getKey=function(){return this.key+"/"+this.tileCoord};t.prototype.getInterimTile=function(){if(!this.interimTile)return this;
var k=this.interimTile;do{if(k.getState()==u["default"].LOADED)return this.transition_=0,k;k=k.interimTile}while(k);return this};t.prototype.refreshInterimChain=function(){if(this.interimTile){var k=this.interimTile,g=this;do{if(k.getState()==u["default"].LOADED){k.interimTile=null;break}else k.getState()==u["default"].LOADING?g=k:k.getState()==u["default"].IDLE?g.interimTile=k.interimTile:g=k;k=g.interimTile}while(k)}};t.prototype.getTileCoord=function(){return this.tileCoord};t.prototype.getState=
function(){return this.state};t.prototype.setState=function(k){if(this.state!==u["default"].ERROR&&this.state>k)throw Error("Tile load sequence violation");this.state=k;this.changed()};t.prototype.load=function(){(0,G["abstract"])()};t.prototype.getAlpha=function(k,g){if(!this.transition_)return 1;var d=this.transitionStarts_[k];if(!d)d=g,this.transitionStarts_[k]=d;else if(-1===d)return 1;k=g-d+1E3/60;return k>=this.transition_?1:(0,L.easeIn)(k/this.transition_)};t.prototype.inTransition=function(k){return this.transition_?
-1!==this.transitionStarts_[k]:!1};t.prototype.endTransition=function(k){this.transition_&&(this.transitionStarts_[k]=-1)};return t}(Ia["default"]);J["default"]=A};
shadow$provide[256]=function(Ia,A,mb,J){function m(w){return w&&w.__esModule?w:{"default":w}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=m(A(255));var l=m(A(117)),u=A(103),G=A(228),L=function(){var w=function(v,t){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,g){k.__proto__=g}||function(k,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(k[d]=g[d])};return w(v,t)};return function(v,t){function k(){this.constructor=v}w(v,t);v.prototype=
null===t?Object.create(t):(k.prototype=t.prototype,new k)}}();A=function(w){function v(t,k,g,d,f,a){t=w.call(this,t,k,a)||this;t.crossOrigin_=d;t.src_=g;t.key=g;t.image_=new Image;null!==d&&(t.image_.crossOrigin=d);t.unlisten_=null;t.tileLoadFunction_=f;return t}L(v,w);v.prototype.getImage=function(){return this.image_};v.prototype.handleImageError_=function(){this.state=l["default"].ERROR;this.unlistenImage_();var t=(0,u.createCanvasContext2D)(1,1);t.fillStyle="rgba(0,0,0,0)";t.fillRect(0,0,1,1);
this.image_=t.canvas;this.changed()};v.prototype.handleImageLoad_=function(){var t=this.image_;this.state=t.naturalWidth&&t.naturalHeight?l["default"].LOADED:l["default"].EMPTY;this.unlistenImage_();this.changed()};v.prototype.load=function(){this.state==l["default"].ERROR&&(this.state=l["default"].IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_));this.state==l["default"].IDLE&&(this.state=l["default"].LOADING,this.changed(),this.tileLoadFunction_(this,
this.src_),this.unlisten_=(0,G.listenImage)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))};v.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)};return v}(Ia["default"]);J["default"]=A};
shadow$provide[257]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J.ERROR_THRESHOLD=.5;J.ENABLE_RASTER_REPROJECTION=!0};
shadow$provide[258]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var m=A(80),l=A(130),u=A(81);Ia=function(){function G(L,w,v,t,k,g){this.sourceProj_=L;this.targetProj_=w;var d={},f=(0,l.getTransform)(this.targetProj_,this.sourceProj_);this.transformInv_=function(B){var M=B[0]+"/"+B[1];d[M]||(d[M]=f(B));return d[M]};this.maxSourceExtent_=t;this.errorThresholdSquared_=k*k;this.triangles_=[];this.wrapsXInSource_=!1;this.canWrapXInSource_=this.sourceProj_.canWrapX()&&
!!t&&!!this.sourceProj_.getExtent()&&(0,m.getWidth)(t)==(0,m.getWidth)(this.sourceProj_.getExtent());this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,m.getWidth)(this.sourceProj_.getExtent()):null;this.targetWorldWidth_=this.targetProj_.getExtent()?(0,m.getWidth)(this.targetProj_.getExtent()):null;L=(0,m.getTopLeft)(v);w=(0,m.getTopRight)(v);t=(0,m.getBottomRight)(v);k=(0,m.getBottomLeft)(v);var a=this.transformInv_(L),e=this.transformInv_(w),n=this.transformInv_(t),x=this.transformInv_(k);
v=10+(g?Math.max(0,Math.ceil((0,u.log2)((0,m.getArea)(v)/(g*g*65536)))):0);this.addQuad_(L,w,t,k,a,e,n,x,v);if(this.wrapsXInSource_){var z=Infinity;this.triangles_.forEach(function(B,M,K){z=Math.min(z,B.source[0][0],B.source[1][0],B.source[2][0])});this.triangles_.forEach(function(B){if(Math.max(B.source[0][0],B.source[1][0],B.source[2][0])-z>this.sourceWorldWidth_/2){var M=[[B.source[0][0],B.source[0][1]],[B.source[1][0],B.source[1][1]],[B.source[2][0],B.source[2][1]]];M[0][0]-z>this.sourceWorldWidth_/
2&&(M[0][0]-=this.sourceWorldWidth_);M[1][0]-z>this.sourceWorldWidth_/2&&(M[1][0]-=this.sourceWorldWidth_);M[2][0]-z>this.sourceWorldWidth_/2&&(M[2][0]-=this.sourceWorldWidth_);Math.max(M[0][0],M[1][0],M[2][0])-Math.min(M[0][0],M[1][0],M[2][0])<this.sourceWorldWidth_/2&&(B.source=M)}}.bind(this))}d={}}G.prototype.addTriangle_=function(L,w,v,t,k,g){this.triangles_.push({source:[t,k,g],target:[L,w,v]})};G.prototype.addQuad_=function(L,w,v,t,k,g,d,f,a){var e=(0,m.boundingExtent)([k,g,d,f]),n=this.sourceWorldWidth_?
(0,m.getWidth)(e)/this.sourceWorldWidth_:null,x=this.sourceWorldWidth_,z=this.sourceProj_.canWrapX()&&.5<n&&1>n,B=!1;if(0<a){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var M=(0,m.boundingExtent)([L,w,v,t]);B=.25<(0,m.getWidth)(M)/this.targetWorldWidth_||B}!z&&this.sourceProj_.isGlobal()&&n&&(B=.25<n||B)}if(B||!this.maxSourceExtent_||!(isFinite(e[0])&&isFinite(e[1])&&isFinite(e[2])&&isFinite(e[3]))||(0,m.intersects)(e,this.maxSourceExtent_)){e=0;if(!(B||isFinite(k[0])&&isFinite(k[1])&&
isFinite(g[0])&&isFinite(g[1])&&isFinite(d[0])&&isFinite(d[1])&&isFinite(f[0])&&isFinite(f[1])))if(0<a)B=!0;else if(e=(isFinite(k[0])&&isFinite(k[1])?0:8)+(isFinite(g[0])&&isFinite(g[1])?0:4)+(isFinite(d[0])&&isFinite(d[1])?0:2)+(isFinite(f[0])&&isFinite(f[1])?0:1),1!=e&&2!=e&&4!=e&&8!=e)return;if(0<a&&(B||(B=this.transformInv_([(L[0]+v[0])/2,(L[1]+v[1])/2]),x=z?((0,u.modulo)(k[0],x)+(0,u.modulo)(d[0],x))/2-(0,u.modulo)(B[0],x):(k[0]+d[0])/2-B[0],B=(k[1]+d[1])/2-B[1],B=x*x+B*B>this.errorThresholdSquared_),
B)){Math.abs(L[0]-v[0])<=Math.abs(L[1]-v[1])?(z=[(w[0]+v[0])/2,(w[1]+v[1])/2],x=this.transformInv_(z),B=[(t[0]+L[0])/2,(t[1]+L[1])/2],e=this.transformInv_(B),this.addQuad_(L,w,z,B,k,g,x,e,a-1),this.addQuad_(B,z,v,t,e,x,d,f,a-1)):(z=[(L[0]+w[0])/2,(L[1]+w[1])/2],x=this.transformInv_(z),B=[(v[0]+t[0])/2,(v[1]+t[1])/2],e=this.transformInv_(B),this.addQuad_(L,z,B,t,k,x,e,f,a-1),this.addQuad_(z,w,v,B,x,g,d,e,a-1));return}if(z){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(e&11)&&this.addTriangle_(L,
v,t,k,d,f);0==(e&14)&&this.addTriangle_(L,v,w,k,d,g);e&&(0==(e&13)&&this.addTriangle_(w,t,L,g,f,k),0==(e&7)&&this.addTriangle_(w,t,v,g,f,d))}};G.prototype.calculateSourceExtent=function(){var L=(0,m.createEmpty)();this.triangles_.forEach(function(w,v,t){w=w.source;(0,m.extendCoordinate)(L,w[0]);(0,m.extendCoordinate)(L,w[1]);(0,m.extendCoordinate)(L,w[2])});return L};G.prototype.getTriangles=function(){return this.triangles_};return G}();J["default"]=Ia};
shadow$provide[259]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J.DEFAULT_WMS_VERSION="1.3.0";J.IMAGE_SMOOTHING_DISABLED={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1}};
shadow$provide[260]=function(Ia,A,mb,J){function m(d,f,a,e,n){d.beginPath();d.moveTo(0,0);d.lineTo(f,a);d.lineTo(e,n);d.closePath();d.save();d.clip();d.fillRect(0,0,Math.max(f,e)+1,Math.max(a,n));d.restore()}function l(d,f){return 2<Math.abs(d[4*f]-210)||2<Math.abs(d[4*f+3]-191.25)}function u(d,f,a,e){var n=(0,t.transform)(a,f,d);a=(0,t.getPointResolution)(f,e,a);f=f.getMetersPerUnit();void 0!==f&&(a*=f);f=d.getMetersPerUnit();void 0!==f&&(a/=f);f=d.getExtent();if(!f||(0,w.containsCoordinate)(f,n))d=
(0,t.getPointResolution)(d,a,n)/a,isFinite(d)&&0<d&&(a/=d);return a}Object.defineProperty(J,"__esModule",{value:!0});J.calculateSourceResolution=u;J.calculateSourceExtentResolution=function(d,f,a,e){var n=(0,w.getCenter)(a),x=u(d,f,n,e);(!isFinite(x)||0>=x)&&(0,w.forEachCorner)(a,function(z){x=u(d,f,z,e);return isFinite(x)&&0<x});return x};J.render=function(d,f,a,e,n,x,z,B,M,K,D,y){function E(fa){return Math.round(fa*a)/a}var H=(0,v.createCanvasContext2D)(Math.round(a*d),Math.round(a*f));(0,L.assign)(H,
y);if(0===M.length)return H.canvas;H.scale(a,a);H.globalCompositeOperation="lighter";var Q=(0,w.createEmpty)();M.forEach(function(fa,ia,ca){(0,w.extend)(Q,fa.extent)});d=(0,w.getWidth)(Q);f=(0,w.getHeight)(Q);var S=(0,v.createCanvasContext2D)(Math.round(a*d/e),Math.round(a*f/e));(0,L.assign)(S,y);var ea=a/e;M.forEach(function(fa,ia,ca){ia=fa.extent[0]-Q[0];ca=-(fa.extent[3]-Q[3]);var N=(0,w.getWidth)(fa.extent),C=(0,w.getHeight)(fa.extent);0<fa.image.width&&0<fa.image.height&&S.drawImage(fa.image,
K,K,fa.image.width-2*K,fa.image.height-2*K,ia*ea,ca*ea,N*ea,C*ea)});var ba=(0,w.getTopLeft)(z);B.getTriangles().forEach(function(fa,ia,ca){ca=fa.source;var N=fa.target;fa=ca[0][0];ia=ca[0][1];var C=ca[1][0],W=ca[1][1],ha=ca[2][0],Y=ca[2][1];ca=E((N[0][0]-ba[0])/x);var wa=E(-(N[0][1]-ba[1])/x),xa=E((N[1][0]-ba[0])/x),Ha=E(-(N[1][1]-ba[1])/x),Za=E((N[2][0]-ba[0])/x);N=E(-(N[2][1]-ba[1])/x);C-=fa;W-=ia;ha-=fa;Y-=ia;C=[[C,W,0,0,xa-ca],[ha,Y,0,0,Za-ca],[0,0,C,W,Ha-wa],[0,0,ha,Y,N-wa]];if(C=(0,k.solveLinearSystem)(C)){H.save();
H.beginPath();void 0===g&&(W=document.createElement("canvas").getContext("2d"),W.globalCompositeOperation="lighter",W.fillStyle="rgba(210, 0, 0, 0.75)",m(W,4,5,4,0),m(W,4,5,0,5),W=W.getImageData(0,0,3,3).data,g=l(W,0)||l(W,4)||l(W,8));if(g||y===G.IMAGE_SMOOTHING_DISABLED)for(H.moveTo(xa,Ha),W=ca-xa,ha=wa-Ha,Y=0;4>Y;Y++)H.lineTo(xa+E((Y+1)*W/4),Ha+E(Y*ha/3)),3!=Y&&H.lineTo(xa+E((Y+1)*W/4),Ha+E((Y+1)*ha/3));else H.moveTo(xa,Ha),H.lineTo(ca,wa);H.lineTo(Za,N);H.clip();H.transform(C[0],C[2],C[1],C[3],
ca,wa);H.translate(Q[0]-fa,Q[3]-ia);H.scale(e/a,-e/a);H.drawImage(S.canvas,0,0);H.restore()}});D&&(H.save(),H.globalCompositeOperation="source-over",H.strokeStyle="black",H.lineWidth=1,B.getTriangles().forEach(function(fa,ia,ca){var N=fa.target;fa=(N[0][0]-ba[0])/x;ia=-(N[0][1]-ba[1])/x;ca=(N[1][0]-ba[0])/x;var C=-(N[1][1]-ba[1])/x,W=(N[2][0]-ba[0])/x;N=-(N[2][1]-ba[1])/x;H.beginPath();H.moveTo(ca,C);H.lineTo(fa,ia);H.lineTo(W,N);H.closePath();H.stroke()}),H.restore());return H.canvas};var G=A(259),
L=A(86),w=A(80),v=A(103),t=A(130),k=A(81),g};
shadow$provide[261]=function(Ia,A,mb,J){function m(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=A(257),u=m(A(88));Ia=m(A(255));var G=m(A(117)),L=m(A(258)),w=A(260),v=A(81),t=A(80),k=A(89),g=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var x in n)Object.prototype.hasOwnProperty.call(n,x)&&(e[x]=n[x])};return d(f,a)};return function(f,a){function e(){this.constructor=
f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();A=function(d){function f(a,e,n,x,z,B,M,K,D,y,E,H){var Q=d.call(this,z,G["default"].IDLE)||this;Q.renderEdges_=void 0!==E?E:!1;Q.contextOptions_=H;Q.pixelRatio_=M;Q.gutter_=K;Q.canvas_=null;Q.sourceTileGrid_=e;Q.targetTileGrid_=x;Q.wrappedTileCoord_=B?B:z;Q.sourceTiles_=[];Q.sourcesListenerKeys_=null;Q.sourceZ_=0;B=x.getTileCoordExtent(Q.wrappedTileCoord_);K=Q.targetTileGrid_.getExtent();z=Q.sourceTileGrid_.getExtent();
B=K?(0,t.getIntersection)(B,K):B;if(0===(0,t.getArea)(B))return Q.state=G["default"].EMPTY,Q;(K=a.getExtent())&&(z=z?(0,t.getIntersection)(z,K):K);x=x.getResolution(Q.wrappedTileCoord_[0]);K=(0,w.calculateSourceExtentResolution)(a,n,B,x);if(!isFinite(K)||0>=K)return Q.state=G["default"].EMPTY,Q;Q.triangulation_=new L["default"](a,n,B,z,K*(void 0!==y?y:l.ERROR_THRESHOLD),x);if(0===Q.triangulation_.getTriangles().length)return Q.state=G["default"].EMPTY,Q;Q.sourceZ_=e.getZForResolution(K);n=Q.triangulation_.calculateSourceExtent();
z&&(a.canWrapX()?(n[1]=(0,v.clamp)(n[1],z[1],z[3]),n[3]=(0,v.clamp)(n[3],z[1],z[3])):n=(0,t.getIntersection)(n,z));if((0,t.getArea)(n)){a=e.getTileRangeForExtentAndZ(n,Q.sourceZ_);for(e=a.minX;e<=a.maxX;e++)for(n=a.minY;n<=a.maxY;n++)(y=D(Q.sourceZ_,e,n,M))&&Q.sourceTiles_.push(y);0===Q.sourceTiles_.length&&(Q.state=G["default"].EMPTY)}else Q.state=G["default"].EMPTY;return Q}g(f,d);f.prototype.getImage=function(){return this.canvas_};f.prototype.reproject_=function(){var a=[];this.sourceTiles_.forEach(function(M,
K,D){M&&M.getState()==G["default"].LOADED&&a.push({extent:this.sourceTileGrid_.getTileCoordExtent(M.tileCoord),image:M.getImage()})}.bind(this));this.sourceTiles_.length=0;if(0===a.length)this.state=G["default"].ERROR;else{var e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),x="number"===typeof n?n:n[0];n="number"===typeof n?n:n[1];e=this.targetTileGrid_.getResolution(e);var z=this.sourceTileGrid_.getResolution(this.sourceZ_),B=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);
this.canvas_=(0,w.render)(x,n,this.pixelRatio_,z,this.sourceTileGrid_.getExtent(),e,B,this.triangulation_,a,this.gutter_,this.renderEdges_,this.contextOptions_);this.state=G["default"].LOADED}this.changed()};f.prototype.load=function(){if(this.state==G["default"].IDLE){this.state=G["default"].LOADING;this.changed();var a=0;this.sourcesListenerKeys_=[];this.sourceTiles_.forEach(function(e,n,x){n=e.getState();if(n==G["default"].IDLE||n==G["default"].LOADING){a++;var z=(0,k.listen)(e,u["default"].CHANGE,
function(B){B=e.getState();if(B==G["default"].LOADED||B==G["default"].ERROR||B==G["default"].EMPTY)(0,k.unlistenByKey)(z),a--,0===a&&(this.unlistenSources_(),this.reproject_())},this);this.sourcesListenerKeys_.push(z)}}.bind(this));this.sourceTiles_.forEach(function(e,n,x){e.getState()==G["default"].IDLE&&e.load()});0===a&&setTimeout(this.reproject_.bind(this),0)}};f.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(k.unlistenByKey);this.sourcesListenerKeys_=null};return f}(Ia["default"]);
J["default"]=A};
shadow$provide[262]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var m=A(76);Ia=function(){function l(u){this.highWaterMark=void 0!==u?u:2048;this.count_=0;this.entries_={};this.newest_=this.oldest_=null}l.prototype.canExpireCache=function(){return 0<this.highWaterMark&&this.getCount()>this.highWaterMark};l.prototype.clear=function(){this.count_=0;this.entries_={};this.newest_=this.oldest_=null};l.prototype.containsKey=function(u){return this.entries_.hasOwnProperty(u)};
l.prototype.forEach=function(u){for(var G=this.oldest_;G;)u(G.value_,G.key_,this),G=G.newer};l.prototype.get=function(u,G){u=this.entries_[u];(0,m.assert)(void 0!==u,15);if(u===this.newest_)return u.value_;u===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(u.newer.older=u.older,u.older.newer=u.newer);u.newer=null;u.older=this.newest_;this.newest_=this.newest_.newer=u;return u.value_};l.prototype.remove=function(u){var G=this.entries_[u];(0,m.assert)(void 0!==G,15);if(G===
this.newest_){if(this.newest_=G.older)this.newest_.newer=null}else if(G===this.oldest_){if(this.oldest_=G.newer)this.oldest_.older=null}else G.newer.older=G.older,G.older.newer=G.newer;delete this.entries_[u];--this.count_;return G.value_};l.prototype.getCount=function(){return this.count_};l.prototype.getKeys=function(){var u=Array(this.count_),G=0,L;for(L=this.newest_;L;L=L.older)u[G++]=L.key_;return u};l.prototype.getValues=function(){var u=Array(this.count_),G=0,L;for(L=this.newest_;L;L=L.older)u[G++]=
L.value_;return u};l.prototype.peekLast=function(){return this.oldest_.value_};l.prototype.peekLastKey=function(){return this.oldest_.key_};l.prototype.peekFirstKey=function(){return this.newest_.key_};l.prototype.pop=function(){var u=this.oldest_;delete this.entries_[u.key_];u.newer&&(u.newer.older=null);this.oldest_=u.newer;this.oldest_||(this.newest_=null);--this.count_;return u.value_};l.prototype.replace=function(u,G){this.get(u);this.entries_[u].value_=G};l.prototype.set=function(u,G){(0,m.assert)(!(u in
this.entries_),16);G={key_:u,newer:null,older:this.newest_,value_:G};this.newest_?this.newest_.newer=G:this.oldest_=G;this.newest_=G;this.entries_[u]=G;++this.count_};l.prototype.setSize=function(u){this.highWaterMark=u};return l}();J["default"]=Ia};
shadow$provide[263]=function(Ia,A,mb,J){function m(l,u,G){return l+"/"+u+"/"+G}Object.defineProperty(J,"__esModule",{value:!0});J.createOrUpdate=function(l,u,G,L){return void 0!==L?(L[0]=l,L[1]=u,L[2]=G,L):[l,u,G]};J.getKeyZXY=m;J.getKey=function(l){return m(l[0],l[1],l[2])};J.fromKey=function(l){return l.split("/").map(Number)};J.hash=function(l){return(l[1]<<l[0])+l[2]};J.withinExtentAndZ=function(l,u){var G=l[0],L=l[1];l=l[2];return u.getMinZoom()>G||G>u.getMaxZoom()?!1:(u=u.getFullTileRange(G))?
u.containsXY(L,l):!0}};
shadow$provide[264]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=function(u){return u&&u.__esModule?u:{"default":u}}(A(262));var m=A(263),l=function(){var u=function(G,L){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,v){w.__proto__=v}||function(w,v){for(var t in v)Object.prototype.hasOwnProperty.call(v,t)&&(w[t]=v[t])};return u(G,L)};return function(G,L){function w(){this.constructor=G}u(G,L);G.prototype=null===L?Object.create(L):
(w.prototype=L.prototype,new w)}}();A=function(u){function G(){return null!==u&&u.apply(this,arguments)||this}l(G,u);G.prototype.expireCache=function(L){for(;this.canExpireCache()&&!(this.peekLast().getKey()in L);)this.pop().release()};G.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var L=this.peekFirstKey(),w=(0,m.fromKey)(L)[0];this.forEach(function(v){v.tileCoord[0]!==w&&(this.remove((0,m.getKey)(v.tileCoord)),v.release())}.bind(this))}};return G}(Ia["default"]);J["default"]=
A};
shadow$provide[265]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"}};
shadow$provide[266]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J.createOrUpdate=function(l,u,G,L,w){return void 0!==w?(w.minX=l,w.maxX=u,w.minY=G,w.maxY=L,w):new m(l,u,G,L)};J["default"]=void 0;var m=function(){function l(u,G,L,w){this.minX=u;this.maxX=G;this.minY=L;this.maxY=w}l.prototype.contains=function(u){return this.containsXY(u[1],u[2])};l.prototype.containsTileRange=function(u){return this.minX<=u.minX&&u.maxX<=this.maxX&&this.minY<=u.minY&&u.maxY<=this.maxY};l.prototype.containsXY=
function(u,G){return this.minX<=u&&u<=this.maxX&&this.minY<=G&&G<=this.maxY};l.prototype.equals=function(u){return this.minX==u.minX&&this.minY==u.minY&&this.maxX==u.maxX&&this.maxY==u.maxY};l.prototype.extend=function(u){u.minX<this.minX&&(this.minX=u.minX);u.maxX>this.maxX&&(this.maxX=u.maxX);u.minY<this.minY&&(this.minY=u.minY);u.maxY>this.maxY&&(this.maxY=u.maxY)};l.prototype.getHeight=function(){return this.maxY-this.minY+1};l.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]};
l.prototype.getWidth=function(){return this.maxX-this.minX+1};l.prototype.intersects=function(u){return this.minX<=u.maxX&&this.maxX>=u.minX&&this.minY<=u.maxY&&this.maxY>=u.minY};return l}();J["default"]=m};
shadow$provide[267]=function(Ia,A,mb,J){function m(f){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return m(f)}function l(){if("function"!==typeof WeakMap)return null;var f=new WeakMap;l=function(){return f};return f}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var u=function(f){if(f&&f.__esModule)return f;if(null===
f||"object"!==m(f)&&"function"!==typeof f)return{"default":f};var a=l();if(a&&a.has(f))return a.get(f);var e={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor,x;for(x in f)if(Object.prototype.hasOwnProperty.call(f,x)){var z=n?Object.getOwnPropertyDescriptor(f,x):null;z&&(z.get||z.set)?Object.defineProperty(e,x,z):e[x]=f[x]}e["default"]=f;a&&a.set(f,e);return e}(A(266)),G=A(123),L=A(76),w=A(81),v=A(80),t=A(263),k=A(72),g=A(154),d=[0,0,0];Ia=function(){function f(a){this.minZoom=void 0!==
a.minZoom?a.minZoom:0;this.resolutions_=a.resolutions;(0,L.assert)((0,k.isSorted)(this.resolutions_,function(B,M){return M-B},!0),17);if(!a.origins)for(var e=0,n=this.resolutions_.length-1;e<n;++e)if(!x)var x=this.resolutions_[e]/this.resolutions_[e+1];else if(this.resolutions_[e]/this.resolutions_[e+1]!==x){x=void 0;break}this.zoomFactor_=x;this.maxZoom=this.resolutions_.length-1;this.origin_=void 0!==a.origin?a.origin:null;this.origins_=null;void 0!==a.origins&&(this.origins_=a.origins,(0,L.assert)(this.origins_.length==
this.resolutions_.length,20));var z=a.extent;void 0===z||this.origin_||this.origins_||(this.origin_=(0,v.getTopLeft)(z));(0,L.assert)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18);this.tileSizes_=null;void 0!==a.tileSizes&&(this.tileSizes_=a.tileSizes,(0,L.assert)(this.tileSizes_.length==this.resolutions_.length,19));this.tileSize_=void 0!==a.tileSize?a.tileSize:this.tileSizes_?null:G.DEFAULT_TILE_SIZE;(0,L.assert)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,
22);this.extent_=void 0!==z?z:null;this.fullTileRanges_=null;this.tmpSize_=[0,0];void 0!==a.sizes?this.fullTileRanges_=a.sizes.map(function(B,M){B=new u["default"](Math.min(0,B[0]),Math.max(B[0]-1,-1),Math.min(0,B[1]),Math.max(B[1]-1,-1));z&&(M=this.getTileRangeForExtentAndZ(z,M),B.minX=Math.max(M.minX,B.minX),B.maxX=Math.min(M.maxX,B.maxX),B.minY=Math.max(M.minY,B.minY),B.maxY=Math.min(M.maxY,B.maxY));return B},this):z&&this.calculateTileRanges_(z)}f.prototype.forEachTileCoord=function(a,e,n){a=
this.getTileRangeForExtentAndZ(a,e);for(var x=a.minX,z=a.maxX;x<=z;++x)for(var B=a.minY,M=a.maxY;B<=M;++B)n([e,x,B])};f.prototype.forEachTileCoordParentTileRange=function(a,e,n,x){var z=null,B=a[0]-1;if(2===this.zoomFactor_){var M=a[1];var K=a[2]}else z=this.getTileCoordExtent(a,x);for(;B>=this.minZoom;){2===this.zoomFactor_?(M=Math.floor(M/2),K=Math.floor(K/2),a=(0,u.createOrUpdate)(M,M,K,K,n)):a=this.getTileRangeForExtentAndZ(z,B,n);if(e(B,a))return!0;--B}return!1};f.prototype.getExtent=function(){return this.extent_};
f.prototype.getMaxZoom=function(){return this.maxZoom};f.prototype.getMinZoom=function(){return this.minZoom};f.prototype.getOrigin=function(a){return this.origin_?this.origin_:this.origins_[a]};f.prototype.getResolution=function(a){return this.resolutions_[a]};f.prototype.getResolutions=function(){return this.resolutions_};f.prototype.getTileCoordChildTileRange=function(a,e,n){if(a[0]<this.maxZoom){if(2===this.zoomFactor_)return n=2*a[1],a=2*a[2],(0,u.createOrUpdate)(n,n+1,a,a+1,e);n=this.getTileCoordExtent(a,
n);return this.getTileRangeForExtentAndZ(n,a[0]+1,e)}return null};f.prototype.getTileRangeExtent=function(a,e,n){var x=this.getOrigin(a),z=this.getResolution(a),B=(0,g.toSize)(this.getTileSize(a),this.tmpSize_);a=x[0]+e.minX*B[0]*z;var M=x[0]+(e.maxX+1)*B[0]*z,K=x[1]+e.minY*B[1]*z;e=x[1]+(e.maxY+1)*B[1]*z;return(0,v.createOrUpdate)(a,K,M,e,n)};f.prototype.getTileRangeForExtentAndZ=function(a,e,n){this.getTileCoordForXYAndZ_(a[0],a[3],e,!1,d);var x=d[1],z=d[2];this.getTileCoordForXYAndZ_(a[2],a[1],
e,!0,d);return(0,u.createOrUpdate)(x,d[1],z,d[2],n)};f.prototype.getTileCoordCenter=function(a){var e=this.getOrigin(a[0]),n=this.getResolution(a[0]),x=(0,g.toSize)(this.getTileSize(a[0]),this.tmpSize_);return[e[0]+(a[1]+.5)*x[0]*n,e[1]-(a[2]+.5)*x[1]*n]};f.prototype.getTileCoordExtent=function(a,e){var n=this.getOrigin(a[0]),x=this.getResolution(a[0]),z=(0,g.toSize)(this.getTileSize(a[0]),this.tmpSize_),B=n[0]+a[1]*z[0]*x;a=n[1]-(a[2]+1)*z[1]*x;n=B+z[0]*x;x=a+z[1]*x;return(0,v.createOrUpdate)(B,
a,n,x,e)};f.prototype.getTileCoordForCoordAndResolution=function(a,e,n){return this.getTileCoordForXYAndResolution_(a[0],a[1],e,!1,n)};f.prototype.getTileCoordForXYAndResolution_=function(a,e,n,x,z){var B=this.getZForResolution(n),M=n/this.getResolution(B),K=this.getOrigin(B),D=(0,g.toSize)(this.getTileSize(B),this.tmpSize_);a=M*Math.floor((a-K[0])/n+(x?.5:0))/D[0];e=M*Math.floor((K[1]-e)/n+(x?.5:0))/D[1];x?(a=Math.ceil(a)-1,e=Math.ceil(e)-1):(a=Math.floor(a),e=Math.floor(e));return(0,t.createOrUpdate)(B,
a,e,z)};f.prototype.getTileCoordForXYAndZ_=function(a,e,n,x,z){var B=this.getOrigin(n),M=this.getResolution(n),K=(0,g.toSize)(this.getTileSize(n),this.tmpSize_);a=Math.floor((a-B[0])/M+(x?.5:0))/K[0];e=Math.floor((B[1]-e)/M+(x?.5:0))/K[1];x?(a=Math.ceil(a)-1,e=Math.ceil(e)-1):(a=Math.floor(a),e=Math.floor(e));return(0,t.createOrUpdate)(n,a,e,z)};f.prototype.getTileCoordForCoordAndZ=function(a,e,n){return this.getTileCoordForXYAndZ_(a[0],a[1],e,!1,n)};f.prototype.getTileCoordResolution=function(a){return this.resolutions_[a[0]]};
f.prototype.getTileSize=function(a){return this.tileSize_?this.tileSize_:this.tileSizes_[a]};f.prototype.getFullTileRange=function(a){return this.fullTileRanges_?this.fullTileRanges_[a]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,a):null};f.prototype.getZForResolution=function(a,e){a=(0,k.linearFindNearest)(this.resolutions_,a,e||0);return(0,w.clamp)(a,this.minZoom,this.maxZoom)};f.prototype.calculateTileRanges_=function(a){for(var e=this.resolutions_.length,n=Array(e),x=this.minZoom;x<
e;++x)n[x]=this.getTileRangeForExtentAndZ(a,x);this.fullTileRanges_=n};return f}();J["default"]=Ia};
shadow$provide[268]=function(Ia,A,mb,J){function m(a){return a&&a.__esModule?a:{"default":a}}function l(a,e,n,x){x=void 0!==x?x:w["default"].TOP_LEFT;e=u(a,e,n);return new v["default"]({extent:a,origin:(0,d.getCorner)(a,x),resolutions:e,tileSize:n})}function u(a,e,n,x){e=void 0!==e?e:k.DEFAULT_MAX_ZOOM;var z=(0,d.getHeight)(a);a=(0,d.getWidth)(a);n=(0,f.toSize)(void 0!==n?n:k.DEFAULT_TILE_SIZE);x=0<x?x:Math.max(a/n[0],z/n[1]);e+=1;n=Array(e);for(z=0;z<e;++z)n[z]=x/Math.pow(2,z);return n}function G(a,
e,n,x){a=L(a);return l(a,e,n,x)}function L(a){a=(0,g.get)(a);var e=a.getExtent();e||(a=180*g.METERS_PER_UNIT[t["default"].DEGREES]/a.getMetersPerUnit(),e=(0,d.createOrUpdate)(-a,-a,a,a));return e}Object.defineProperty(J,"__esModule",{value:!0});J.getForProjection=function(a){var e=a.getDefaultTileGrid();e||(e=G(a),a.setDefaultTileGrid(e));return e};J.wrapX=function(a,e,n){var x=e[0],z=a.getTileCoordCenter(e);n=L(n);if((0,d.containsCoordinate)(n,z))return e;e=(0,d.getWidth)(n);z[0]+=e*Math.ceil((n[0]-
z[0])/e);return a.getTileCoordForCoordAndZ(z,x)};J.createForExtent=l;J.createXYZ=function(a){a=a||{};var e=a.extent||(0,g.get)("EPSG:3857").getExtent();a={extent:e,minZoom:a.minZoom,tileSize:a.tileSize,resolutions:u(e,a.maxZoom,a.tileSize,a.maxResolution)};return new v["default"](a)};J.createForProjection=G;J.extentFromProjection=L;var w=m(A(78)),v=m(A(267)),t=m(A(120)),k=A(123),g=A(130),d=A(80),f=A(154)};
shadow$provide[269]=function(Ia,A,mb,J){function m(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=J.TileSourceEvent=void 0;Ia=m(A(84));mb=m(A(238));var l=m(A(264)),u=m(A(117)),G=A(74),L=A(76),w=A(130),v=A(263),t=A(268),k=A(154),g=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var x in n)Object.prototype.hasOwnProperty.call(n,x)&&(e[x]=n[x])};return d(f,
a)};return function(f,a){function e(){this.constructor=f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();A=function(d){function f(a){var e=d.call(this,{attributions:a.attributions,attributionsCollapsible:a.attributionsCollapsible,projection:a.projection,state:a.state,wrapX:a.wrapX})||this;e.opaque_=void 0!==a.opaque?a.opaque:!1;e.tilePixelRatio_=void 0!==a.tilePixelRatio?a.tilePixelRatio:1;e.tileGrid=void 0!==a.tileGrid?a.tileGrid:null;var n=[256,256],x=a.tileGrid;
x&&(0,k.toSize)(x.getTileSize(x.getMinZoom()),n);e.tileCache=new l["default"](a.cacheSize||0);e.tmpSize=[0,0];e.key_=a.key||"";e.tileOptions={transition:a.transition};e.zDirection=a.zDirection?a.zDirection:0;return e}g(f,d);f.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()};f.prototype.expireCache=function(a,e){(a=this.getTileCacheForProjection(a))&&a.expireCache(e)};f.prototype.forEachLoadedTile=function(a,e,n,x){a=this.getTileCacheForProjection(a);if(!a)return!1;for(var z=
!0,B,M,K=n.minX;K<=n.maxX;++K)for(var D=n.minY;D<=n.maxY;++D)B=(0,v.getKeyZXY)(e,K,D),M=!1,a.containsKey(B)&&(B=a.get(B),(M=B.getState()===u["default"].LOADED)&&(M=!1!==x(B))),M||(z=!1);return z};f.prototype.getGutterForProjection=function(a){return 0};f.prototype.getKey=function(){return this.key_};f.prototype.setKey=function(a){this.key_!==a&&(this.key_=a,this.changed())};f.prototype.getOpaque=function(a){return this.opaque_};f.prototype.getResolutions=function(){return this.tileGrid.getResolutions()};
f.prototype.getTile=function(a,e,n,x,z){return(0,G["abstract"])()};f.prototype.getTileGrid=function(){return this.tileGrid};f.prototype.getTileGridForProjection=function(a){return this.tileGrid?this.tileGrid:(0,t.getForProjection)(a)};f.prototype.getTileCacheForProjection=function(a){(0,L.assert)((0,w.equivalent)(this.getProjection(),a),68);return this.tileCache};f.prototype.getTilePixelRatio=function(a){return this.tilePixelRatio_};f.prototype.getTilePixelSize=function(a,e,n){n=this.getTileGridForProjection(n);
e=this.getTilePixelRatio(e);a=(0,k.toSize)(n.getTileSize(a),this.tmpSize);return 1==e?a:(0,k.scale)(a,e,this.tmpSize)};f.prototype.getTileCoordForTileUrlFunction=function(a,e){e=void 0!==e?e:this.getProjection();var n=this.getTileGridForProjection(e);this.getWrapX()&&e.isGlobal()&&(a=(0,t.wrapX)(n,a,e));return(0,v.withinExtentAndZ)(a,n)?a:null};f.prototype.clear=function(){this.tileCache.clear()};f.prototype.refresh=function(){this.clear();d.prototype.refresh.call(this)};f.prototype.updateCacheSize=
function(a,e){e=this.getTileCacheForProjection(e);a>e.highWaterMark&&(e.highWaterMark=a)};f.prototype.useTile=function(a,e,n,x){};return f}(mb["default"]);Ia=function(d){function f(a,e){a=d.call(this,a)||this;a.tile=e;return a}g(f,d);return f}(Ia["default"]);J.TileSourceEvent=Ia;J["default"]=A};
shadow$provide[270]=function(Ia,A,mb,J){function m(w,v){var t=/\{z\}/g,k=/\{x\}/g,g=/\{y\}/g,d=/\{-y\}/g;return function(f,a,e){if(f)return w.replace(t,f[0].toString()).replace(k,f[1].toString()).replace(g,f[2].toString()).replace(d,function(){var n=v.getFullTileRange(f[0]);(0,u.assert)(n,55);return(n.getHeight()-f[2]-1).toString()})}}function l(w){return 1===w.length?w[0]:function(v,t,k){if(v){var g=(0,L.hash)(v);g=(0,G.modulo)(g,w.length);return w[g](v,t,k)}}}Object.defineProperty(J,"__esModule",
{value:!0});J.createFromTemplate=m;J.createFromTemplates=function(w,v){for(var t=w.length,k=Array(t),g=0;g<t;++g)k[g]=m(w[g],v);return l(k)};J.createFromTileUrlFunctions=l;J.nullTileUrlFunction=function(w,v,t){};J.expandUrl=function(w){var v=[],t=/\{([a-z])-([a-z])\}/.exec(w);if(t){for(var k=t[1].charCodeAt(0),g=t[2].charCodeAt(0);k<=g;++k)v.push(w.replace(t[0],String.fromCharCode(k)));return v}if(t=/\{(\d+)-(\d+)\}/.exec(w)){g=parseInt(t[2],10);for(k=parseInt(t[1],10);k<=g;k++)v.push(w.replace(t[0],
k.toString()));return v}v.push(w);return v};var u=A(76),G=A(81),L=A(263)};
shadow$provide[271]=function(Ia,A,mb,J){function m(d){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"===typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f};return m(d)}function l(){if("function"!==typeof WeakMap)return null;var d=new WeakMap;l=function(){return d};return d}function u(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;
var G=u(A(265)),L=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==m(d)&&"function"!==typeof d)return{"default":d};var f=l();if(f&&f.has(d))return f.get(d);var a={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in d)if(Object.prototype.hasOwnProperty.call(d,n)){var x=e?Object.getOwnPropertyDescriptor(d,n):null;x&&(x.get||x.set)?Object.defineProperty(a,n,x):a[n]=d[n]}a["default"]=d;f&&f.set(d,a);return a}(A(269)),w=u(A(117)),v=A(270),t=A(263),k=A(74),g=function(){var d=
function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var x in n)Object.prototype.hasOwnProperty.call(n,x)&&(e[x]=n[x])};return d(f,a)};return function(f,a){function e(){this.constructor=f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();Ia=function(d){function f(a){var e=d.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,opaque:a.opaque,projection:a.projection,state:a.state,tileGrid:a.tileGrid,
tilePixelRatio:a.tilePixelRatio,wrapX:a.wrapX,transition:a.transition,key:a.key,attributionsCollapsible:a.attributionsCollapsible,zDirection:a.zDirection})||this;e.generateTileUrlFunction_=e.tileUrlFunction===f.prototype.tileUrlFunction;e.tileLoadFunction=a.tileLoadFunction;a.tileUrlFunction&&(e.tileUrlFunction=a.tileUrlFunction);e.urls=null;a.urls?e.setUrls(a.urls):a.url&&e.setUrl(a.url);e.tileLoadingKeys_={};return e}g(f,d);f.prototype.getTileLoadFunction=function(){return this.tileLoadFunction};
f.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction};f.prototype.getUrls=function(){return this.urls};f.prototype.handleTileChange=function(a){a=a.target;var e=(0,k.getUid)(a),n=a.getState();if(n==w["default"].LOADING){this.tileLoadingKeys_[e]=!0;var x=G["default"].TILELOADSTART}else e in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[e],x=n==w["default"].ERROR?G["default"].TILELOADERROR:
n==w["default"].LOADED?G["default"].TILELOADEND:void 0);void 0!=x&&this.dispatchEvent(new L.TileSourceEvent(x,a))};f.prototype.setTileLoadFunction=function(a){this.tileCache.clear();this.tileLoadFunction=a;this.changed()};f.prototype.setTileUrlFunction=function(a,e){this.tileUrlFunction=a;this.tileCache.pruneExceptNewestZ();"undefined"!==typeof e?this.setKey(e):this.changed()};f.prototype.setUrl=function(a){this.urls=a=(0,v.expandUrl)(a);this.setUrls(a)};f.prototype.setUrls=function(a){this.urls=
a;var e=a.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction((0,v.createFromTemplates)(a,this.tileGrid),e):this.setKey(e)};f.prototype.tileUrlFunction=function(a,e,n){};f.prototype.useTile=function(a,e,n){a=(0,t.getKeyZXY)(a,e,n);this.tileCache.containsKey(a)&&this.tileCache.get(a)};return f}(L["default"]);J["default"]=Ia};
shadow$provide[272]=function(Ia,A,mb,J){function m(n){return n&&n.__esModule?n:{"default":n}}function l(n,x){n.getImage().src=x}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var u=m(A(88)),G=m(A(256)),L=m(A(261)),w=m(A(264)),v=m(A(117));Ia=m(A(271));var t=A(257),k=A(259),g=A(130),d=A(263),f=A(268),a=A(74),e=function(){var n=function(x,z){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,M){B.__proto__=M}||function(B,M){for(var K in M)Object.prototype.hasOwnProperty.call(M,
K)&&(B[K]=M[K])};return n(x,z)};return function(x,z){function B(){this.constructor=x}n(x,z);x.prototype=null===z?Object.create(z):(B.prototype=z.prototype,new B)}}();A=function(n){function x(z){var B=n.call(this,{attributions:z.attributions,cacheSize:z.cacheSize,opaque:z.opaque,projection:z.projection,state:z.state,tileGrid:z.tileGrid,tileLoadFunction:z.tileLoadFunction?z.tileLoadFunction:l,tilePixelRatio:z.tilePixelRatio,tileUrlFunction:z.tileUrlFunction,url:z.url,urls:z.urls,wrapX:z.wrapX,transition:z.transition,
key:z.key,attributionsCollapsible:z.attributionsCollapsible,zDirection:z.zDirection})||this;B.crossOrigin=void 0!==z.crossOrigin?z.crossOrigin:null;B.tileClass=void 0!==z.tileClass?z.tileClass:G["default"];B.tileCacheForProjection={};B.tileGridForProjection={};B.reprojectionErrorThreshold_=z.reprojectionErrorThreshold;B.contextOptions_=!1===z.imageSmoothing?k.IMAGE_SMOOTHING_DISABLED:void 0;B.renderReprojectionEdges_=!1;return B}e(x,n);x.prototype.canExpireCache=function(){if(!t.ENABLE_RASTER_REPROJECTION)return n.prototype.canExpireCache.call(this);
if(this.tileCache.canExpireCache())return!0;for(var z in this.tileCacheForProjection)if(this.tileCacheForProjection[z].canExpireCache())return!0;return!1};x.prototype.expireCache=function(z,B){if(t.ENABLE_RASTER_REPROJECTION){z=this.getTileCacheForProjection(z);this.tileCache.expireCache(this.tileCache==z?B:{});for(var M in this.tileCacheForProjection){var K=this.tileCacheForProjection[M];K.expireCache(K==z?B:{})}}else n.prototype.expireCache.call(this,z,B)};x.prototype.getContextOptions=function(){return this.contextOptions_};
x.prototype.getGutterForProjection=function(z){return t.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&z&&!(0,g.equivalent)(this.getProjection(),z)?0:this.getGutter()};x.prototype.getGutter=function(){return 0};x.prototype.getKey=function(){return n.prototype.getKey.call(this)+(this.contextOptions_?"\n"+JSON.stringify(this.contextOptions_):"")};x.prototype.getOpaque=function(z){return t.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&z&&!(0,g.equivalent)(this.getProjection(),z)?!1:n.prototype.getOpaque.call(this,
z)};x.prototype.getTileGridForProjection=function(z){if(!t.ENABLE_RASTER_REPROJECTION)return n.prototype.getTileGridForProjection.call(this,z);var B=this.getProjection();return!this.tileGrid||B&&!(0,g.equivalent)(B,z)?(B=(0,a.getUid)(z),B in this.tileGridForProjection||(this.tileGridForProjection[B]=(0,f.getForProjection)(z)),this.tileGridForProjection[B]):this.tileGrid};x.prototype.getTileCacheForProjection=function(z){if(!t.ENABLE_RASTER_REPROJECTION)return n.prototype.getTileCacheForProjection.call(this,
z);var B=this.getProjection();if(!B||(0,g.equivalent)(B,z))return this.tileCache;z=(0,a.getUid)(z);z in this.tileCacheForProjection||(this.tileCacheForProjection[z]=new w["default"](this.tileCache.highWaterMark));return this.tileCacheForProjection[z]};x.prototype.createTile_=function(z,B,M,K,D,y){z=[z,B,M];K=(B=this.getTileCoordForTileUrlFunction(z,D))?this.tileUrlFunction(B,K,D):void 0;K=new this.tileClass(z,void 0!==K?v["default"].IDLE:v["default"].EMPTY,void 0!==K?K:"",this.crossOrigin,this.tileLoadFunction,
this.tileOptions);K.key=y;K.addEventListener(u["default"].CHANGE,this.handleTileChange.bind(this));return K};x.prototype.getTile=function(z,B,M,K,D){var y=this.getProjection();if(t.ENABLE_RASTER_REPROJECTION&&y&&D&&!(0,g.equivalent)(y,D)){var E=this.getTileCacheForProjection(D),H=[z,B,M];z=void 0;B=(0,d.getKey)(H);E.containsKey(B)&&(z=E.get(B));M=this.getKey();if(z&&z.key==M)return z;var Q=this.getTileGridForProjection(y),S=this.getTileGridForProjection(D),ea=this.getTileCoordForTileUrlFunction(H,
D);K=new L["default"](y,Q,D,S,H,ea,this.getTilePixelRatio(K),this.getGutter(),function(ba,fa,ia,ca){return this.getTileInternal(ba,fa,ia,ca,y)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.contextOptions_);K.key=M;z?(K.interimTile=z,K.refreshInterimChain(),E.replace(B,K)):E.set(B,K);return K}return this.getTileInternal(z,B,M,K,y||D)};x.prototype.getTileInternal=function(z,B,M,K,D){var y=(0,d.getKeyZXY)(z,B,M),E=this.getKey();if(this.tileCache.containsKey(y)){var H=
this.tileCache.get(y);if(H.key!=E){var Q=H;H=this.createTile_(z,B,M,K,D,E);Q.getState()==v["default"].IDLE?H.interimTile=Q.interimTile:H.interimTile=Q;H.refreshInterimChain();this.tileCache.replace(y,H)}}else H=this.createTile_(z,B,M,K,D,E),this.tileCache.set(y,H);return H};x.prototype.setRenderReprojectionEdges=function(z){if(t.ENABLE_RASTER_REPROJECTION&&this.renderReprojectionEdges_!=z){this.renderReprojectionEdges_=z;for(var B in this.tileCacheForProjection)this.tileCacheForProjection[B].clear();
this.changed()}};x.prototype.setTileGridForProjection=function(z,B){t.ENABLE_RASTER_REPROJECTION&&(z=(0,g.get)(z))&&(z=(0,a.getUid)(z),z in this.tileGridForProjection||(this.tileGridForProjection[z]=B))};return x}(Ia["default"]);J["default"]=A};
shadow$provide[273]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J.jsonp=function(l,u,G,L){function w(){delete window[t];v.parentNode.removeChild(v)}var v=document.createElement("script"),t="olc_"+(0,m.getUid)(u);v.async=!0;v.src=l+(-1==l.indexOf("?")?"?":"\x26")+(L||"callback")+"\x3d"+t;var k=setTimeout(function(){w();G&&G()},1E4);window[t]=function(g){clearTimeout(k);w();u(g)};document.getElementsByTagName("head")[0].appendChild(v)};var m=A(74)};
shadow$provide[274]=function(Ia,A,mb,J){function m(d){return d&&d.__esModule?d:{"default":d}}function l(d){var f=d[0],a=Array(f),e=1<<f-1,n;for(n=0;n<f;++n){var x=48;d[1]&e&&(x+=1);d[2]&e&&(x+=2);a[n]=String.fromCharCode(x);e>>=1}return a.join("")}Object.defineProperty(J,"__esModule",{value:!0});J.quadKey=l;J["default"]=void 0;var u=m(A(95));Ia=m(A(272));var G=A(80),L=A(270),w=A(263),v=A(268),t=A(130),k=A(273),g=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&
function(e,n){e.__proto__=n}||function(e,n){for(var x in n)Object.prototype.hasOwnProperty.call(n,x)&&(e[x]=n[x])};return d(f,a)};return function(f,a){function e(){this.constructor=f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();A=function(d){function f(a){var e=void 0!==a.hidpi?a.hidpi:!1;var n=d.call(this,{cacheSize:a.cacheSize,crossOrigin:"anonymous",imageSmoothing:a.imageSmoothing,opaque:!0,projection:(0,t.get)("EPSG:3857"),reprojectionErrorThreshold:a.reprojectionErrorThreshold,
state:u["default"].LOADING,tileLoadFunction:a.tileLoadFunction,tilePixelRatio:e?2:1,wrapX:void 0!==a.wrapX?a.wrapX:!0,transition:a.transition})||this;n.hidpi_=e;n.culture_=void 0!==a.culture?a.culture:"en-us";n.maxZoom_=void 0!==a.maxZoom?a.maxZoom:-1;n.apiKey_=a.key;n.imagerySet_=a.imagerySet;a="https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+n.imagerySet_+"?uriScheme\x3dhttps\x26include\x3dImageryProviders\x26key\x3d"+n.apiKey_+"\x26c\x3d"+n.culture_;(0,k.jsonp)(a,n.handleImageryMetadataResponse.bind(n),
void 0,"jsonp");return n}g(f,d);f.prototype.getApiKey=function(){return this.apiKey_};f.prototype.getImagerySet=function(){return this.imagerySet_};f.prototype.handleImageryMetadataResponse=function(a){if(200!=a.statusCode||"OK"!=a.statusDescription||"ValidCredentials"!=a.authenticationResultCode||1!=a.resourceSets.length||1!=a.resourceSets[0].resources.length)this.setState(u["default"].ERROR);else{var e=a.resourceSets[0].resources[0];a=-1==this.maxZoom_?e.zoomMax:this.maxZoom_;var n=this.getProjection();
n=(0,v.extentFromProjection)(n);var x=this.hidpi_?2:1;x=e.imageWidth==e.imageHeight?e.imageWidth/x:[e.imageWidth/x,e.imageHeight/x];this.tileGrid=(0,v.createXYZ)({extent:n,minZoom:e.zoomMin,maxZoom:a,tileSize:x});var z=this.culture_,B=this.hidpi_;this.tileUrlFunction=(0,L.createFromTileUrlFunctions)(e.imageUrlSubdomains.map(function(K){var D=[0,0,0],y=e.imageUrl.replace("{subdomain}",K).replace("{culture}",z);return function(E,H,Q){if(E)return(0,w.createOrUpdate)(E[0],E[1],E[2],D),E=y,B&&(E+="\x26dpi\x3dd1\x26device\x3dmobile"),
E.replace("{quadkey}",l(D))}}));if(e.imageryProviders){var M=(0,t.getTransformFromProjections)((0,t.get)("EPSG:4326"),this.getProjection());this.setAttributions(function(K){var D=[],y=K.viewState,E=this.getTileGrid(),H=E.getZForResolution(y.resolution,this.zDirection),Q=E.getTileCoordForCoordAndZ(y.center,H)[0];e.imageryProviders.map(function(S){for(var ea=!1,ba=S.coverageAreas,fa=0,ia=ba.length;fa<ia;++fa){var ca=ba[fa];if(Q>=ca.zoomMin&&Q<=ca.zoomMax&&(ca=ca.bbox,ca=[ca[1],ca[0],ca[3],ca[2]],ca=
(0,G.applyTransform)(ca,M),(0,G.intersects)(ca,K.extent))){ea=!0;break}}ea&&D.push(S.attribution)});D.push('\x3ca class\x3d"ol-attribution-bing-tos" href\x3d"https://www.microsoft.com/maps/product/terms.html" target\x3d"_blank"\x3eTerms of Use\x3c/a\x3e');return D}.bind(this))}this.setState(u["default"].READY)}};return f}(Ia["default"]);J["default"]=A};
shadow$provide[275]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=function(u){return u&&u.__esModule?u:{"default":u}}(A(272));var m=A(268),l=function(){var u=function(G,L){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,v){w.__proto__=v}||function(w,v){for(var t in v)Object.prototype.hasOwnProperty.call(v,t)&&(w[t]=v[t])};return u(G,L)};return function(G,L){function w(){this.constructor=G}u(G,L);G.prototype=null===L?Object.create(L):
(w.prototype=L.prototype,new w)}}();A=function(u){function G(L){L=L||{};var w=void 0!==L.projection?L.projection:"EPSG:3857",v=void 0!==L.tileGrid?L.tileGrid:(0,m.createXYZ)({extent:(0,m.extentFromProjection)(w),maxResolution:L.maxResolution,maxZoom:L.maxZoom,minZoom:L.minZoom,tileSize:L.tileSize});return u.call(this,{attributions:L.attributions,cacheSize:L.cacheSize,crossOrigin:L.crossOrigin,imageSmoothing:L.imageSmoothing,opaque:L.opaque,projection:w,reprojectionErrorThreshold:L.reprojectionErrorThreshold,
tileGrid:v,tileLoadFunction:L.tileLoadFunction,tilePixelRatio:L.tilePixelRatio,tileUrlFunction:L.tileUrlFunction,url:L.url,urls:L.urls,wrapX:void 0!==L.wrapX?L.wrapX:!0,transition:L.transition,attributionsCollapsible:L.attributionsCollapsible,zDirection:L.zDirection})||this}l(G,u);return G}(Ia["default"]);J["default"]=A};
shadow$provide[276]=function(Ia,A,mb,J){function m(L){return L&&L.__esModule?L:{"default":L}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(A(95));Ia=m(A(275));var u=A(86),G=function(){var L=function(w,v){L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,k){t.__proto__=k}||function(t,k){for(var g in k)Object.prototype.hasOwnProperty.call(k,g)&&(t[g]=k[g])};return L(w,v)};return function(w,v){function t(){this.constructor=w}L(w,v);w.prototype=null===
v?Object.create(v):(t.prototype=v.prototype,new t)}}();A=function(L){function w(v){var t=L.call(this,{attributions:v.attributions,cacheSize:v.cacheSize,crossOrigin:v.crossOrigin,maxZoom:void 0!==v.maxZoom?v.maxZoom:18,minZoom:v.minZoom,projection:v.projection,transition:v.transition,wrapX:v.wrapX})||this;t.account_=v.account;t.mapId_=v.map||"";t.config_=v.config||{};t.templateCache_={};t.initializeMap_();return t}G(w,L);w.prototype.getConfig=function(){return this.config_};w.prototype.updateConfig=
function(v){(0,u.assign)(this.config_,v);this.initializeMap_()};w.prototype.setConfig=function(v){this.config_=v||{};this.initializeMap_()};w.prototype.initializeMap_=function(){var v=JSON.stringify(this.config_);if(this.templateCache_[v])this.applyTemplate_(this.templateCache_[v]);else{var t="https://"+this.account_+".carto.com/api/v1/map";this.mapId_&&(t+="/named/"+this.mapId_);var k=new XMLHttpRequest;k.addEventListener("load",this.handleInitResponse_.bind(this,v));k.addEventListener("error",this.handleInitError_.bind(this));
k.open("POST",t);k.setRequestHeader("Content-type","application/json");k.send(JSON.stringify(this.config_))}};w.prototype.handleInitResponse_=function(v,t){t=t.target;if(!t.status||200<=t.status&&300>t.status){var k=void 0;try{k=JSON.parse(t.responseText)}catch(g){this.setState(l["default"].ERROR);return}this.applyTemplate_(k);this.templateCache_[v]=k;this.setState(l["default"].READY)}else this.setState(l["default"].ERROR)};w.prototype.handleInitError_=function(v){this.setState(l["default"].ERROR)};
w.prototype.applyTemplate_=function(v){this.setUrl("https://"+v.cdn_url.https+"/"+this.account_+"/api/v1/map/"+v.layergroupid+"/{z}/{x}/{y}.png")};return w}(Ia["default"]);J["default"]=A};
shadow$provide[277]=function(Ia,A,mb,J){function m(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(A(88)),u=m(A(190)),G=m(A(119)),L=m(A(145));Ia=m(A(242));var w=A(98),v=A(76),t=A(80),k=A(74),g=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var x in n)Object.prototype.hasOwnProperty.call(n,x)&&(e[x]=n[x])};return d(f,a)};return function(f,a){function e(){this.constructor=
f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();A=function(d){function f(a){var e=d.call(this,{attributions:a.attributions,wrapX:a.wrapX})||this;e.resolution=void 0;e.distance=void 0!==a.distance?a.distance:20;e.features=[];e.geometryFunction=a.geometryFunction||function(n){n=n.getGeometry();(0,v.assert)(n.getType()==G["default"].POINT,10);return n};e.boundRefresh_=e.refresh.bind(e);e.setSource(a.source||null);return e}g(f,d);f.prototype.clear=function(a){this.features.length=
0;d.prototype.clear.call(this,a)};f.prototype.getDistance=function(){return this.distance};f.prototype.getSource=function(){return this.source};f.prototype.loadFeatures=function(a,e,n){this.source.loadFeatures(a,e,n);e!==this.resolution&&(this.clear(),this.resolution=e,this.cluster(),this.addFeatures(this.features))};f.prototype.setDistance=function(a){this.distance=a;this.refresh()};f.prototype.setSource=function(a){this.source&&this.source.removeEventListener(l["default"].CHANGE,this.boundRefresh_);
(this.source=a)&&a.addEventListener(l["default"].CHANGE,this.boundRefresh_);this.refresh()};f.prototype.refresh=function(){this.clear();this.cluster();this.addFeatures(this.features)};f.prototype.cluster=function(){if(void 0!==this.resolution&&this.source)for(var a=(0,t.createEmpty)(),e=this.distance*this.resolution,n=this.source.getFeatures(),x={},z=0,B=n.length;z<B;z++){var M=n[z];(0,k.getUid)(M)in x||!(M=this.geometryFunction(M))||(M=M.getCoordinates(),(0,t.createOrUpdateFromCoordinate)(M,a),(0,
t.buffer)(a,e,a),M=this.source.getFeaturesInExtent(a),M=M.filter(function(K){K=(0,k.getUid)(K);return K in x?!1:x[K]=!0}),this.features.push(this.createCluster(M)))}};f.prototype.createCluster=function(a){for(var e=[0,0],n=a.length-1;0<=n;--n){var x=this.geometryFunction(a[n]);x?(0,w.add)(e,x.getCoordinates()):a.splice(n,1)}(0,w.scale)(e,1/a.length);e=new u["default"](new L["default"](e));e.set("features",a);return e};return f}(Ia["default"]);J["default"]=A};
shadow$provide[278]=function(Ia,A,mb,J){function m(f){return f&&f.__esModule?f:{"default":f}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=J.CustomTile=void 0;var l=A(123);Ia=m(A(256));var u=m(A(267));mb=m(A(272));var G=m(A(117)),L=A(76),w=A(103),v=A(270),t=A(80),k=A(154),g=function(){var f=function(a,e){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,x){n.__proto__=x}||function(n,x){for(var z in x)Object.prototype.hasOwnProperty.call(x,z)&&(n[z]=x[z])};return f(a,
e)};return function(a,e){function n(){this.constructor=a}f(a,e);a.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),d=function(f){function a(e,n,x,z,B,M,K){n=f.call(this,n,x,z,B,M,K)||this;n.zoomifyImage_=null;n.tileSize_=e;return n}g(a,f);a.prototype.getImage=function(){if(this.zoomifyImage_)return this.zoomifyImage_;var e=f.prototype.getImage.call(this);if(this.state==G["default"].LOADED){var n=this.tileSize_;if(e.width==n[0]&&e.height==n[1])return this.zoomifyImage_=e;n=(0,
w.createCanvasContext2D)(n[0],n[1]);n.drawImage(e,0,0);return this.zoomifyImage_=n.canvas}return e};return a}(Ia["default"]);J.CustomTile=d;A=function(f){function a(e){var n=this,x=e.size;n=e.tilePixelRatio||1;var z=x[0],B=x[1],M=[],K=e.tileSize||l.DEFAULT_TILE_SIZE;x=K*n;switch(void 0!==e.tierSizeCalculation?e.tierSizeCalculation:"default"){case "default":for(;z>x||B>x;)M.push([Math.ceil(z/x),Math.ceil(B/x)]),x+=x;break;case "truncated":for(var D=z,y=B;D>x||y>x;)M.push([Math.ceil(D/x),Math.ceil(y/
x)]),D>>=1,y>>=1;break;default:(0,L.assert)(!1,53)}M.push([1,1]);M.reverse();x=[n];var E=[0];D=1;for(y=M.length;D<y;D++)x.push(n<<D),E.push(M[D-1][0]*M[D-1][1]+E[D-1]);x.reverse();z=new u["default"]({tileSize:K,extent:e.extent||[0,-B,z,0],resolutions:x});(B=e.url)&&-1==B.indexOf("{TileGroup}")&&-1==B.indexOf("{tileIndex}")&&(B+="{TileGroup}/{z}-{x}-{y}.jpg");B=(0,v.expandUrl)(B);var H=K*n;B=(0,v.createFromTileUrlFunctions)(B.map(function(Q){return function(S,ea,ba){if(S){ea=S[0];ba=S[1];S=S[2];var fa=
ba+S*M[ea][0],ia={z:ea,x:ba,y:S,tileIndex:fa,TileGroup:"TileGroup"+((fa+E[ea])/H|0)};return Q.replace(/\{(\w+?)\}/g,function(ca,N){return ia[N]})}}}));D=d.bind(null,(0,k.toSize)(K*n));n=f.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,imageSmoothing:e.imageSmoothing,projection:e.projection,tilePixelRatio:n,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:D,tileGrid:z,tileUrlFunction:B,transition:e.transition})||this;n.zDirection=e.zDirection;
e=z.getTileCoordForCoordAndResolution((0,t.getCenter)(z.getExtent()),x[x.length-1]);e=B(e,1,null);x=new Image;x.addEventListener("error",function(){H=K;this.changed()}.bind(n));x.src=e;return n}g(a,f);return a}(mb["default"]);J["default"]=A};
shadow$provide[279]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=J.Versions=void 0;var m=A(76),l=function(){for(var k=0,g=0,d=arguments.length;g<d;g++)k+=arguments[g].length;k=Array(k);var f=0;for(g=0;g<d;g++)for(var a=arguments[g],e=0,n=a.length;e<n;e++,f++)k[f]=a[e];return k},u={VERSION1:"version1",VERSION2:"version2",VERSION3:"version3"};J.Versions=u;var G={};G[u.VERSION1]={level0:{supports:[],formats:[],qualities:["native"]},level1:{supports:["regionByPx",
"sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["native"]},level2:{supports:"regionByPx regionByPct sizeByW sizeByH sizeByPct sizeByConfinedWh sizeByWh".split(" "),formats:["jpg","png"],qualities:["native","color","grey","bitonal"]}};G[u.VERSION2]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["default"]},level2:{supports:"regionByPx regionByPct sizeByW sizeByH sizeByPct sizeByConfinedWh sizeByDistortedWh sizeByWh".split(" "),
formats:["jpg","png"],qualities:["default","bitonal"]}};G[u.VERSION3]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","regionSquare","sizeByW","sizeByH","sizeByWh"],formats:["jpg"],qualities:["default"]},level2:{supports:"regionByPx regionSquare regionByPct sizeByW sizeByH sizeByPct sizeByConfinedWh sizeByWh".split(" "),formats:["jpg","png"],qualities:["default"]}};G.none={none:{supports:[],formats:[],qualities:[]}};var L=/^https?:\/\/library\.stanford\.edu\/iiif\/image-api\/(?:1\.1\/)?compliance\.html#level[0-2]$/,
w=/^https?:\/\/iiif\.io\/api\/image\/2\/level[0-2](?:\.json)?$/,v=/(^https?:\/\/iiif\.io\/api\/image\/3\/level[0-2](?:\.json)?$)|(^level[0-2]$)/,t={};t[u.VERSION1]=function(k){var g=k.getComplianceLevelSupportedFeatures();void 0===g&&(g=G[u.VERSION1].level0);return{url:void 0===k.imageInfo["@id"]?void 0:k.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),supports:g.supports,formats:l(g.formats,[void 0===k.imageInfo.formats?[]:k.imageInfo.formats]),qualities:l(g.qualities,[void 0===k.imageInfo.qualities?
[]:k.imageInfo.qualities]),resolutions:k.imageInfo.scale_factors,tileSize:void 0!==k.imageInfo.tile_width?void 0!==k.imageInfo.tile_height?[k.imageInfo.tile_width,k.imageInfo.tile_height]:[k.imageInfo.tile_width,k.imageInfo.tile_width]:void 0!=k.imageInfo.tile_height?[k.imageInfo.tile_height,k.imageInfo.tile_height]:void 0}};t[u.VERSION2]=function(k){var g=k.getComplianceLevelSupportedFeatures(),d=Array.isArray(k.imageInfo.profile)&&1<k.imageInfo.profile.length,f=d&&k.imageInfo.profile[1].supports?
k.imageInfo.profile[1].supports:[],a=d&&k.imageInfo.profile[1].formats?k.imageInfo.profile[1].formats:[];d=d&&k.imageInfo.profile[1].qualities?k.imageInfo.profile[1].qualities:[];return{url:k.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),sizes:void 0===k.imageInfo.sizes?void 0:k.imageInfo.sizes.map(function(e){return[e.width,e.height]}),tileSize:void 0===k.imageInfo.tiles?void 0:[k.imageInfo.tiles.map(function(e){return e.width})[0],k.imageInfo.tiles.map(function(e){return void 0===e.height?
e.width:e.height})[0]],resolutions:void 0===k.imageInfo.tiles?void 0:k.imageInfo.tiles.map(function(e){return e.scaleFactors})[0],supports:l(g.supports,f),formats:l(g.formats,a),qualities:l(g.qualities,d)}};t[u.VERSION3]=function(k){var g=k.getComplianceLevelSupportedFeatures(),d=void 0===k.imageInfo.extraFormats?g.formats:l(g.formats,k.imageInfo.extraFormats),f=void 0!==k.imageInfo.preferredFormats&&Array.isArray(k.imageInfo.preferredFormats)&&0<k.imageInfo.preferredFormats.length?k.imageInfo.preferredFormats.filter(function(a){return["jpg",
"png","gif"].includes(a)}).reduce(function(a,e){return void 0===a&&d.includes(e)?e:a},void 0):void 0;return{url:k.imageInfo.id,sizes:void 0===k.imageInfo.sizes?void 0:k.imageInfo.sizes.map(function(a){return[a.width,a.height]}),tileSize:void 0===k.imageInfo.tiles?void 0:[k.imageInfo.tiles.map(function(a){return a.width})[0],k.imageInfo.tiles.map(function(a){return a.height})[0]],resolutions:void 0===k.imageInfo.tiles?void 0:k.imageInfo.tiles.map(function(a){return a.scaleFactors})[0],supports:void 0===
k.imageInfo.extraFeatures?g.supports:l(g.supports,k.imageInfo.extraFeatures),formats:d,qualities:void 0===k.imageInfo.extraQualities?g.qualities:l(g.qualities,k.imageInfo.extraQualities),preferredFormat:f}};Ia=function(){function k(g){this.setImageInfo(g)}k.prototype.setImageInfo=function(g){this.imageInfo="string"==typeof g?JSON.parse(g):g};k.prototype.getImageApiVersion=function(){if(void 0!==this.imageInfo){var g=this.imageInfo["@context"]||"ol-no-context";"string"==typeof g&&(g=[g]);for(var d=
0;d<g.length;d++)switch(g[d]){case "http://library.stanford.edu/iiif/image-api/1.1/context.json":case "http://iiif.io/api/image/1/context.json":return u.VERSION1;case "http://iiif.io/api/image/2/context.json":return u.VERSION2;case "http://iiif.io/api/image/3/context.json":return u.VERSION3;case "ol-no-context":if(this.getComplianceLevelEntryFromProfile(u.VERSION1)&&this.imageInfo.identifier)return u.VERSION1}(0,m.assert)(!1,61)}};k.prototype.getComplianceLevelEntryFromProfile=function(g){if(void 0!==
this.imageInfo&&void 0!==this.imageInfo.profile)switch(void 0===g&&(g=this.getImageApiVersion()),g){case u.VERSION1:if(L.test(this.imageInfo.profile))return this.imageInfo.profile;break;case u.VERSION3:if(v.test(this.imageInfo.profile))return this.imageInfo.profile;break;case u.VERSION2:if("string"===typeof this.imageInfo.profile&&w.test(this.imageInfo.profile))return this.imageInfo.profile;if(Array.isArray(this.imageInfo.profile)&&0<this.imageInfo.profile.length&&"string"===typeof this.imageInfo.profile[0]&&
w.test(this.imageInfo.profile[0]))return this.imageInfo.profile[0]}};k.prototype.getComplianceLevelFromProfile=function(g){g=this.getComplianceLevelEntryFromProfile(g);if(void 0!==g)return g=g.match(/level[0-2](?:\.json)?$/g),Array.isArray(g)?g[0].replace(".json",""):void 0};k.prototype.getComplianceLevelSupportedFeatures=function(){if(void 0!==this.imageInfo){var g=this.getImageApiVersion(),d=this.getComplianceLevelFromProfile(g);return void 0===d?G.none.none:G[g][d]}};k.prototype.getTileSourceOptions=
function(g){g=g||{};var d=this.getImageApiVersion();if(void 0!==d){var f=void 0===d?void 0:t[d](this);if(void 0!==f)return{url:f.url,version:d,size:[this.imageInfo.width,this.imageInfo.height],sizes:f.sizes,format:void 0!==g.format&&f.formats.includes(g.format)?g.format:void 0!==f.preferredFormat?f.preferredFormat:"jpg",supports:f.supports,quality:g.quality&&f.qualities.includes(g.quality)?g.quality:f.qualities.includes("native")?"native":"default",resolutions:Array.isArray(f.resolutions)?f.resolutions.sort(function(a,
e){return e-a}):void 0,tileSize:f.tileSize}}};return k}();J["default"]=Ia};
shadow$provide[280]=function(Ia,A,mb,J){function m(d){return d&&d.__esModule?d:{"default":d}}function l(d){return d.toLocaleString("en",{maximumFractionDigits:10})}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var u=m(A(267));Ia=m(A(272));var G=A(278),L=A(123),w=A(279),v=A(76),t=A(80),k=A(154),g=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var x in n)Object.prototype.hasOwnProperty.call(n,
x)&&(e[x]=n[x])};return d(f,a)};return function(f,a){function e(){this.constructor=f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();A=function(d){function f(a){var e=this;a=a||{};var n=a.url||"";n+=n.lastIndexOf("/")===n.length-1||""===n?"":"/";var x=a.version||w.Versions.VERSION2,z=a.sizes||[];e=a.size;(0,v.assert)(void 0!=e&&Array.isArray(e)&&2==e.length&&!isNaN(e[0])&&0<e[0]&&!isNaN(e[1])&&0<e[1],60);var B=e[0],M=e[1];e=a.tileSize;var K=a.tilePixelRatio||1,D=a.format||
"jpg",y=a.quality||(a.version==w.Versions.VERSION1?"native":"default"),E=a.resolutions||[],H=a.supports||[],Q=a.extent||[0,-M,B,0],S=void 0!=z&&Array.isArray(z)&&0<z.length,ea=void 0!==e&&("number"===typeof e&&Number.isInteger(e)&&0<e||Array.isArray(e)&&0<e.length),ba=void 0!=H&&Array.isArray(H)&&(H.includes("regionByPx")||H.includes("regionByPct"))&&(H.includes("sizeByWh")||H.includes("sizeByH")||H.includes("sizeByW")||H.includes("sizeByPct")),fa,ia;E.sort(function(ha,Y){return Y-ha});if(ea||ba){if(void 0!=
e)if("number"===typeof e&&Number.isInteger(e)&&0<e)var ca=fa=e;else if(Array.isArray(e)&&0<e.length){if(1==e.length||void 0==e[1]&&Number.isInteger(e[0]))fa=e[0],ca=e[0];2==e.length&&(Number.isInteger(e[0])&&Number.isInteger(e[1])?(fa=e[0],ca=e[1]):void 0==e[0]&&Number.isInteger(e[1])&&(fa=e[1],ca=e[1]))}if(void 0===fa||void 0===ca)ca=fa=L.DEFAULT_TILE_SIZE;if(0==E.length)for(var N=ia=Math.max(Math.ceil(Math.log(B/fa)/Math.LN2),Math.ceil(Math.log(M/ca)/Math.LN2));0<=N;N--)E.push(Math.pow(2,N));else N=
Math.max.apply(Math,E),ia=Math.round(Math.log(N)/Math.LN2)}else if(fa=B,ca=M,E=[],S){z.sort(function(ha,Y){return ha[0]-Y[0]});ia=-1;var C=[];for(N=0;N<z.length;N++){var W=B/z[N][0];0<E.length&&E[E.length-1]==W?C.push(N):(E.push(W),ia++)}if(0<C.length)for(N=0;N<C.length;N++)z.splice(C[N]-N,1)}else E.push(1),z.push([B,M]),ia=0;Q=new u["default"]({tileSize:[fa,ca],extent:Q,origin:(0,t.getTopLeft)(Q),resolutions:E});e=G.CustomTile.bind(null,(0,k.toSize)(e||256).map(function(ha){return ha*K}));e=d.call(this,
{attributions:a.attributions,attributionsCollapsible:a.attributionsCollapsible,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,imageSmoothing:a.imageSmoothing,projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,state:a.state,tileClass:e,tileGrid:Q,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:function(ha,Y,wa){var xa;Y=ha[0];if(!(Y>ia)){wa=ha[1];var Ha=ha[2];ha=E[Y];if(!(void 0===wa||void 0===Ha||void 0===ha||0>wa||Math.ceil(B/ha/fa)<=wa||0>Ha||Math.ceil(M/ha/ca)<=Ha)){if(ba||
ea){var Za=wa*fa*ha,gb=Ha*ca*ha,ra=fa*ha;Ha=ca*ha;Y=fa;wa=ca;Za+ra>B&&(ra=B-Za);gb+Ha>M&&(Ha=M-gb);Za+fa*ha>B&&(Y=Math.floor((B-Za+ha-1)/ha));gb+ca*ha>M&&(wa=Math.floor((M-gb+ha-1)/ha));if(0==Za&&ra==B&&0==gb&&Ha==M)var Pa="full";else!ba||H.includes("regionByPx")?Pa=Za+","+gb+","+ra+","+Ha:H.includes("regionByPct")&&(Pa=l(Za/B*100),Za=l(gb/M*100),ra=l(ra/B*100),Ha=l(Ha/M*100),Pa="pct:"+Pa+","+Za+","+ra+","+Ha);x!=w.Versions.VERSION3||ba&&!H.includes("sizeByWh")?!ba||H.includes("sizeByW")?xa=Y+",":
H.includes("sizeByH")?xa=","+wa:H.includes("sizeByWh")?xa=Y+","+wa:H.includes("sizeByPct")&&(xa="pct:"+l(100/ha)):xa=Y+","+wa}else Pa="full",S?(xa=z[Y][0],ha=z[Y][1],xa=x==w.Versions.VERSION3?xa==B&&ha==M?"max":xa+","+ha:xa==B?"full":xa+","):xa=x==w.Versions.VERSION3?"max":"full";return n+Pa+"/"+xa+"/0/"+y+"."+D}}},transition:a.transition})||this;e.zDirection=a.zDirection;return e}g(f,d);return f}(Ia["default"]);J["default"]=A};
shadow$provide[281]=function(Ia,A,mb,J){function m(g){return g&&g.__esModule?g:{"default":g}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=A(257),u=m(A(88));Ia=m(A(227));var G=m(A(199)),L=m(A(258)),w=A(260),v=A(80),t=A(89),k=function(){var g=function(d,f){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])};return g(d,f)};return function(d,f){function a(){this.constructor=
d}g(d,f);d.prototype=null===f?Object.create(f):(a.prototype=f.prototype,new a)}}();A=function(g){function d(f,a,e,n,x,z,B){var M,K=f.getExtent(),D=(M=a.getExtent())?(0,v.getIntersection)(e,M):e;M=(0,v.getCenter)(D);M=(0,w.calculateSourceResolution)(f,a,M,n);f=new L["default"](f,a,D,K,M*l.ERROR_THRESHOLD,n);D=f.calculateSourceExtent();M=(x=z(D,M,x))?G["default"].IDLE:G["default"].EMPTY;z=x?x.getPixelRatio():1;M=g.call(this,e,n,z,M)||this;M.targetProj_=a;M.maxSourceExtent_=K;M.triangulation_=f;M.targetResolution_=
n;M.targetExtent_=e;M.sourceImage_=x;M.sourcePixelRatio_=z;M.contextOptions_=B;M.canvas_=null;M.sourceListenerKey_=null;return M}k(d,g);d.prototype.disposeInternal=function(){this.state==G["default"].LOADING&&this.unlistenSource_();g.prototype.disposeInternal.call(this)};d.prototype.getImage=function(){return this.canvas_};d.prototype.getProjection=function(){return this.targetProj_};d.prototype.reproject_=function(){var f=this.sourceImage_.getState();if(f==G["default"].LOADED){var a=(0,v.getWidth)(this.targetExtent_)/
this.targetResolution_,e=(0,v.getHeight)(this.targetExtent_)/this.targetResolution_;this.canvas_=(0,w.render)(a,e,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.contextOptions_)}this.state=f;this.changed()};d.prototype.load=function(){if(this.state==G["default"].IDLE){this.state=G["default"].LOADING;this.changed();var f=
this.sourceImage_.getState();f==G["default"].LOADED||f==G["default"].ERROR?this.reproject_():(this.sourceListenerKey_=(0,t.listen)(this.sourceImage_,u["default"].CHANGE,function(a){a=this.sourceImage_.getState();if(a==G["default"].LOADED||a==G["default"].ERROR)this.unlistenSource_(),this.reproject_()},this),this.sourceImage_.load())}};d.prototype.unlistenSource_=function(){(0,t.unlistenByKey)(this.sourceListenerKey_);this.sourceListenerKey_=null};return d}(Ia["default"]);J["default"]=A};
shadow$provide[282]=function(Ia,A,mb,J){function m(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(J,"__esModule",{value:!0});J.defaultImageLoadFunction=function(a,e){a.getImage().src=e};J["default"]=J.ImageSourceEvent=J.ImageSourceEventType=void 0;Ia=m(A(84));var l=m(A(199)),u=m(A(281));mb=m(A(238));var G=A(257),L=A(259),w=A(74),v=A(80),t=A(130),k=A(72),g=function(){var a=function(e,n){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,z){x.__proto__=z}||function(x,
z){for(var B in z)Object.prototype.hasOwnProperty.call(z,B)&&(x[B]=z[B])};return a(e,n)};return function(e,n){function x(){this.constructor=e}a(e,n);e.prototype=null===n?Object.create(n):(x.prototype=n.prototype,new x)}}(),d={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};J.ImageSourceEventType=d;var f=function(a){function e(n,x){n=a.call(this,n)||this;n.image=x;return n}g(e,a);return e}(Ia["default"]);J.ImageSourceEvent=f;A=function(a){function e(n){var x=
a.call(this,{attributions:n.attributions,projection:n.projection,state:n.state})||this;x.resolutions_=void 0!==n.resolutions?n.resolutions:null;x.reprojectedImage_=null;x.reprojectedRevision_=0;x.contextOptions_=!1===n.imageSmoothing?L.IMAGE_SMOOTHING_DISABLED:void 0;return x}g(e,a);e.prototype.getResolutions=function(){return this.resolutions_};e.prototype.getContextOptions=function(){return this.contextOptions_};e.prototype.findNearestResolution=function(n){this.resolutions_&&(n=(0,k.linearFindNearest)(this.resolutions_,
n,0),n=this.resolutions_[n]);return n};e.prototype.getImage=function(n,x,z,B){var M=this.getProjection();if(G.ENABLE_RASTER_REPROJECTION&&M&&B&&!(0,t.equivalent)(M,B)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&(0,t.equivalent)(this.reprojectedImage_.getProjection(),B)&&this.reprojectedImage_.getResolution()==x&&(0,v.equals)(this.reprojectedImage_.getExtent(),n))return this.reprojectedImage_;this.reprojectedImage_.dispose();this.reprojectedImage_=null}this.reprojectedImage_=
new u["default"](M,B,n,x,z,function(K,D,y){return this.getImageInternal(K,D,y,M)}.bind(this),this.contextOptions_);this.reprojectedRevision_=this.getRevision();return this.reprojectedImage_}M&&(B=M);return this.getImageInternal(n,x,z,B)};e.prototype.getImageInternal=function(n,x,z,B){return(0,w["abstract"])()};e.prototype.handleImageChange=function(n){n=n.target;switch(n.getState()){case l["default"].LOADING:this.loading=!0;this.dispatchEvent(new f(d.IMAGELOADSTART,n));break;case l["default"].LOADED:this.loading=
!1;this.dispatchEvent(new f(d.IMAGELOADEND,n));break;case l["default"].ERROR:this.loading=!1,this.dispatchEvent(new f(d.IMAGELOADERROR,n))}};return e}(mb["default"]);J["default"]=A};
shadow$provide[283]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J.appendParams=function(m,l){var u=[];Object.keys(l).forEach(function(L){null!==l[L]&&void 0!==l[L]&&u.push(L+"\x3d"+encodeURIComponent(l[L]))});var G=u.join("\x26");m=m.replace(/[?&]$/,"");m=-1===m.indexOf("?")?m+"?":m+"\x26";return m+G}};
shadow$provide[284]=function(Ia,A,mb,J){function m(f){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return m(f)}function l(){if("function"!==typeof WeakMap)return null;var f=new WeakMap;l=function(){return f};return f}function u(f){return f&&f.__esModule?f:{"default":f}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;
var G=u(A(88)),L=function(f){if(f&&f.__esModule)return f;if(null===f||"object"!==m(f)&&"function"!==typeof f)return{"default":f};var a=l();if(a&&a.has(f))return a.get(f);var e={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor,x;for(x in f)if(Object.prototype.hasOwnProperty.call(f,x)){var z=n?Object.getOwnPropertyDescriptor(f,x):null;z&&(z.get||z.set)?Object.defineProperty(e,x,z):e[x]=f[x]}e["default"]=f;a&&a.set(f,e);return e}(A(282)),w=u(A(228)),v=A(283),t=A(76),k=A(86),g=A(80),d=function(){var f=
function(a,e){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,x){n.__proto__=x}||function(n,x){for(var z in x)Object.prototype.hasOwnProperty.call(x,z)&&(n[z]=x[z])};return f(a,e)};return function(a,e){function n(){this.constructor=a}f(a,e);a.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();Ia=function(f){function a(e){var n=e?e:{};e=f.call(this,{attributions:n.attributions,imageSmoothing:n.imageSmoothing,projection:n.projection,resolutions:n.resolutions})||
this;e.crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:null;e.hidpi_=void 0!==n.hidpi?n.hidpi:!0;e.url_=n.url;e.imageLoadFunction_=void 0!==n.imageLoadFunction?n.imageLoadFunction:L.defaultImageLoadFunction;e.params_=n.params||{};e.image_=null;e.imageSize_=[0,0];e.renderedRevision_=0;e.ratio_=void 0!==n.ratio?n.ratio:1.5;return e}d(a,f);a.prototype.getParams=function(){return this.params_};a.prototype.getImageInternal=function(e,n,x,z){if(void 0===this.url_)return null;n=this.findNearestResolution(n);
x=this.hidpi_?x:1;var B=this.image_;if(B&&this.renderedRevision_==this.getRevision()&&B.getResolution()==n&&B.getPixelRatio()==x&&(0,g.containsExtent)(B.getExtent(),e))return B;B={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};(0,k.assign)(B,this.params_);e=e.slice();var M=(e[0]+e[2])/2,K=(e[1]+e[3])/2;if(1!=this.ratio_){var D=this.ratio_*(0,g.getWidth)(e)/2,y=this.ratio_*(0,g.getHeight)(e)/2;e[0]=M-D;e[1]=K-y;e[2]=M+D;e[3]=K+y}D=n/x;y=Math.ceil((0,g.getWidth)(e)/D);var E=Math.ceil((0,g.getHeight)(e)/D);
e[0]=M-D*y/2;e[2]=M+D*y/2;e[1]=K-D*E/2;e[3]=K+D*E/2;this.imageSize_[0]=y;this.imageSize_[1]=E;z=this.getRequestUrl_(e,this.imageSize_,x,z,B);this.image_=new w["default"](e,n,x,z,this.crossOrigin_,this.imageLoadFunction_);this.renderedRevision_=this.getRevision();this.image_.addEventListener(G["default"].CHANGE,this.handleImageChange.bind(this));return this.image_};a.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};a.prototype.getRequestUrl_=function(e,n,x,z,B){z=z.getCode().split(":").pop();
B.SIZE=n[0]+","+n[1];B.BBOX=e.join(",");B.BBOXSR=z;B.IMAGESR=z;B.DPI=Math.round(90*x);e=this.url_;n=e.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");n==e&&(0,t.assert)(!1,50);return(0,v.appendParams)(n,B)};a.prototype.getUrl=function(){return this.url_};a.prototype.setImageLoadFunction=function(e){this.image_=null;this.imageLoadFunction_=e;this.changed()};a.prototype.setUrl=function(e){e!=this.url_&&(this.url_=e,this.image_=null,this.changed())};a.prototype.updateParams=
function(e){(0,k.assign)(this.params_,e);this.image_=null;this.changed()};return a}(L["default"]);J["default"]=Ia};
shadow$provide[285]=function(Ia,A,mb,J){function m(G){return G&&G.__esModule?G:{"default":G}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=m(A(227));var l=m(A(199)),u=function(){var G=function(L,w){G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,t){v.__proto__=t}||function(v,t){for(var k in t)Object.prototype.hasOwnProperty.call(t,k)&&(v[k]=t[k])};return G(L,w)};return function(L,w){function v(){this.constructor=L}G(L,w);L.prototype=null===w?Object.create(w):
(v.prototype=w.prototype,new v)}}();A=function(G){function L(w,v,t,k,g){w=G.call(this,w,v,t,void 0!==g?l["default"].IDLE:l["default"].LOADED)||this;w.loader_=void 0!==g?g:null;w.canvas_=k;w.error_=null;return w}u(L,G);L.prototype.getError=function(){return this.error_};L.prototype.handleLoad_=function(w){w?(this.error_=w,this.state=l["default"].ERROR):this.state=l["default"].LOADED;this.changed()};L.prototype.load=function(){this.state==l["default"].IDLE&&(this.state=l["default"].LOADING,this.changed(),
this.loader_(this.handleLoad_.bind(this)))};L.prototype.getImage=function(){return this.canvas_};return L}(Ia["default"]);J["default"]=A};
shadow$provide[286]=function(Ia,A,mb,J){function m(L){return L&&L.__esModule?L:{"default":L}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(A(285));Ia=m(A(282));var u=A(80),G=function(){var L=function(w,v){L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,k){t.__proto__=k}||function(t,k){for(var g in k)Object.prototype.hasOwnProperty.call(k,g)&&(t[g]=k[g])};return L(w,v)};return function(w,v){function t(){this.constructor=w}L(w,v);w.prototype=null===
v?Object.create(v):(t.prototype=v.prototype,new t)}}();A=function(L){function w(v){var t=v?v:{};v=L.call(this,{attributions:t.attributions,imageSmoothing:t.imageSmoothing,projection:t.projection,resolutions:t.resolutions,state:t.state})||this;v.canvasFunction_=t.canvasFunction;v.canvas_=null;v.renderedRevision_=0;v.ratio_=void 0!==t.ratio?t.ratio:1.5;return v}G(w,L);w.prototype.getImageInternal=function(v,t,k,g){t=this.findNearestResolution(t);var d=this.canvas_;if(d&&this.renderedRevision_==this.getRevision()&&
d.getResolution()==t&&d.getPixelRatio()==k&&(0,u.containsExtent)(d.getExtent(),v))return d;v=v.slice();(0,u.scaleFromCenter)(v,this.ratio_);var f=(0,u.getWidth)(v)/t,a=(0,u.getHeight)(v)/t;(g=this.canvasFunction_.call(this,v,t,k,[f*k,a*k],g))&&(d=new l["default"](v,t,k,g));this.canvas_=d;this.renderedRevision_=this.getRevision();return d};return w}(Ia["default"]);J["default"]=A};
shadow$provide[287]=function(Ia,A,mb,J){function m(d){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"===typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f};return m(d)}function l(){if("function"!==typeof WeakMap)return null;var d=new WeakMap;l=function(){return d};return d}function u(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;
var G=u(A(88)),L=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==m(d)&&"function"!==typeof d)return{"default":d};var f=l();if(f&&f.has(d))return f.get(d);var a={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in d)if(Object.prototype.hasOwnProperty.call(d,n)){var x=e?Object.getOwnPropertyDescriptor(d,n):null;x&&(x.get||x.set)?Object.defineProperty(a,n,x):a[n]=d[n]}a["default"]=d;f&&f.set(d,a);return a}(A(282)),w=u(A(228)),v=A(283),t=A(86),k=A(80),g=function(){var d=
function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var x in n)Object.prototype.hasOwnProperty.call(n,x)&&(e[x]=n[x])};return d(f,a)};return function(f,a){function e(){this.constructor=f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();Ia=function(d){function f(a){var e=d.call(this,{imageSmoothing:a.imageSmoothing,projection:a.projection,resolutions:a.resolutions})||this;e.crossOrigin_=void 0!==a.crossOrigin?
a.crossOrigin:null;e.displayDpi_=void 0!==a.displayDpi?a.displayDpi:96;e.params_=a.params||{};e.url_=a.url;e.imageLoadFunction_=void 0!==a.imageLoadFunction?a.imageLoadFunction:L.defaultImageLoadFunction;e.hidpi_=void 0!==a.hidpi?a.hidpi:!0;e.metersPerUnit_=void 0!==a.metersPerUnit?a.metersPerUnit:1;e.ratio_=void 0!==a.ratio?a.ratio:1;e.useOverlay_=void 0!==a.useOverlay?a.useOverlay:!1;e.image_=null;e.renderedRevision_=0;return e}g(f,d);f.prototype.getParams=function(){return this.params_};f.prototype.getImageInternal=
function(a,e,n,x){e=this.findNearestResolution(e);n=this.hidpi_?n:1;var z=this.image_;if(z&&this.renderedRevision_==this.getRevision()&&z.getResolution()==e&&z.getPixelRatio()==n&&(0,k.containsExtent)(z.getExtent(),a))return z;1!=this.ratio_&&(a=a.slice(),(0,k.scaleFromCenter)(a,this.ratio_));z=(0,k.getWidth)(a)/e;var B=(0,k.getHeight)(a)/e;z=[z*n,B*n];void 0!==this.url_?(x=this.getUrl(this.url_,this.params_,a,z,x),z=new w["default"](a,e,n,x,this.crossOrigin_,this.imageLoadFunction_),z.addEventListener(G["default"].CHANGE,
this.handleImageChange.bind(this))):z=null;this.image_=z;this.renderedRevision_=this.getRevision();return z};f.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};f.prototype.updateParams=function(a){(0,t.assign)(this.params_,a);this.changed()};f.prototype.getUrl=function(a,e,n,x,z){z=this.metersPerUnit_;var B=this.displayDpi_,M=(0,k.getWidth)(n),K=(0,k.getHeight)(n),D=x[0],y=x[1];B=.0254/B;z=y*M>D*K?M*z/(D*B):K*z/(y*B);n=(0,k.getCenter)(n);x={OPERATION:this.useOverlay_?"GETDYNAMICMAPOVERLAYIMAGE":
"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol/source/ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.displayDpi_,SETDISPLAYWIDTH:Math.round(x[0]),SETDISPLAYHEIGHT:Math.round(x[1]),SETVIEWSCALE:z,SETVIEWCENTERX:n[0],SETVIEWCENTERY:n[1]};(0,t.assign)(x,e);return(0,v.appendParams)(a,x)};f.prototype.setImageLoadFunction=function(a){this.image_=null;this.imageLoadFunction_=a;this.changed()};return f}(L["default"]);J["default"]=Ia};
shadow$provide[288]=function(Ia,A,mb,J){function m(a){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return m(a)}function l(){if("function"!==typeof WeakMap)return null;var a=new WeakMap;l=function(){return a};return a}function u(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;
var G=u(A(88)),L=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==m(a)&&"function"!==typeof a)return{"default":a};var e=l();if(e&&e.has(a))return e.get(a);var n={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor,z;for(z in a)if(Object.prototype.hasOwnProperty.call(a,z)){var B=x?Object.getOwnPropertyDescriptor(a,z):null;B&&(B.get||B.set)?Object.defineProperty(n,z,B):n[z]=a[z]}n["default"]=a;e&&e.set(a,n);return n}(A(282)),w=u(A(199)),v=u(A(228)),t=A(86),k=A(103),g=A(80),d=A(130),
f=function(){var a=function(e,n){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,z){x.__proto__=z}||function(x,z){for(var B in z)Object.prototype.hasOwnProperty.call(z,B)&&(x[B]=z[B])};return a(e,n)};return function(e,n){function x(){this.constructor=e}a(e,n);e.prototype=null===n?Object.create(n):(x.prototype=n.prototype,new x)}}();Ia=function(a){function e(n){var x=void 0!==n.crossOrigin?n.crossOrigin:null,z=void 0!==n.imageLoadFunction?n.imageLoadFunction:L.defaultImageLoadFunction;
var B=a.call(this,{attributions:n.attributions,imageSmoothing:n.imageSmoothing,projection:(0,d.get)(n.projection)})||this;B.url_=n.url;B.imageExtent_=n.imageExtent;B.image_=new v["default"](B.imageExtent_,void 0,1,B.url_,x,z);B.imageSize_=n.imageSize?n.imageSize:null;B.image_.addEventListener(G["default"].CHANGE,B.handleImageChange.bind(B));return B}f(e,a);e.prototype.getImageExtent=function(){return this.imageExtent_};e.prototype.getImageInternal=function(n,x,z,B){return(0,g.intersects)(n,this.image_.getExtent())?
this.image_:null};e.prototype.getUrl=function(){return this.url_};e.prototype.handleImageChange=function(n){if(this.image_.getState()==w["default"].LOADED){var x=this.image_.getExtent(),z=this.image_.getImage();if(this.imageSize_){var B=this.imageSize_[0];var M=this.imageSize_[1]}else B=z.width,M=z.height;var K=(0,g.getHeight)(x)/M;x=Math.ceil((0,g.getWidth)(x)/K);x!=B&&(x=(0,k.createCanvasContext2D)(x,M),(0,t.assign)(x,this.getContextOptions()),K=x.canvas,x.drawImage(z,0,0,B,M,0,0,K.width,K.height),
this.image_.setImage(K))}a.prototype.handleImageChange.call(this,n)};return e}(L["default"]);J["default"]=Ia};
shadow$provide[289]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"}};
shadow$provide[290]=function(Ia,A,mb,J){function m(B){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"===typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M};return m(B)}function l(){if("function"!==typeof WeakMap)return null;var B=new WeakMap;l=function(){return B};return B}function u(B){return B&&B.__esModule?B:{"default":B}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;
var G=A(259),L=u(A(88)),w=function(B){if(B&&B.__esModule)return B;if(null===B||"object"!==m(B)&&"function"!==typeof B)return{"default":B};var M=l();if(M&&M.has(B))return M.get(B);var K={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor,y;for(y in B)if(Object.prototype.hasOwnProperty.call(B,y)){var E=D?Object.getOwnPropertyDescriptor(B,y):null;E&&(E.get||E.set)?Object.defineProperty(K,y,E):K[y]=B[y]}K["default"]=B;M&&M.set(B,K);return K}(A(282)),v=u(A(228)),t=u(A(289)),k=A(283),g=A(76),d=
A(86),f=A(260),a=A(97),e=A(80),n=A(130),x=function(){var B=function(M,K){B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,y){D.__proto__=y}||function(D,y){for(var E in y)Object.prototype.hasOwnProperty.call(y,E)&&(D[E]=y[E])};return B(M,K)};return function(M,K){function D(){this.constructor=M}B(M,K);M.prototype=null===K?Object.create(K):(D.prototype=K.prototype,new D)}}(),z=[101,101];Ia=function(B){function M(K){var D=K?K:{};K=B.call(this,{attributions:D.attributions,imageSmoothing:D.imageSmoothing,
projection:D.projection,resolutions:D.resolutions})||this;K.crossOrigin_=void 0!==D.crossOrigin?D.crossOrigin:null;K.url_=D.url;K.imageLoadFunction_=void 0!==D.imageLoadFunction?D.imageLoadFunction:w.defaultImageLoadFunction;K.params_=D.params||{};K.v13_=!0;K.updateV13_();K.serverType_=D.serverType;K.hidpi_=void 0!==D.hidpi?D.hidpi:!0;K.image_=null;K.imageSize_=[0,0];K.renderedRevision_=0;K.ratio_=void 0!==D.ratio?D.ratio:1.5;return K}x(M,B);M.prototype.getFeatureInfoUrl=function(K,D,y,E){if(void 0!==
this.url_){y=(0,n.get)(y);var H=this.getProjection();H&&H!==y&&(D=(0,f.calculateSourceResolution)(H,y,K,D),K=(0,n.transform)(K,y,H));var Q=(0,e.getForViewAndSize)(K,D,0,z),S={SERVICE:"WMS",VERSION:G.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};(0,d.assign)(S,this.params_,E);E=Math.floor((Q[3]-K[1])/D);S[this.v13_?"I":"X"]=Math.floor((K[0]-Q[0])/D);S[this.v13_?"J":"Y"]=E;return this.getRequestUrl_(Q,z,1,H||y,S)}};M.prototype.getLegendUrl=
function(K,D){if(void 0!==this.url_){var y={SERVICE:"WMS",VERSION:G.DEFAULT_WMS_VERSION,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===D||void 0===D.LAYER){var E=this.params_.LAYERS;if(Array.isArray(E)&&1!==E.length)return;y.LAYER=E}void 0!==K&&(E=this.getProjection()?this.getProjection().getMetersPerUnit():1,y.SCALE=K*E/2.8E-4);(0,d.assign)(y,D);return(0,k.appendParams)(this.url_,y)}};M.prototype.getParams=function(){return this.params_};M.prototype.getImageInternal=function(K,D,y,E){if(void 0===
this.url_)return null;D=this.findNearestResolution(D);1==y||this.hidpi_&&void 0!==this.serverType_||(y=1);var H=D/y,Q=(0,e.getCenter)(K),S=Math.ceil((0,e.getWidth)(K)/H),ea=Math.ceil((0,e.getHeight)(K)/H);S=(0,e.getForViewAndSize)(Q,H,0,[S,ea]);ea=Math.ceil(this.ratio_*(0,e.getWidth)(K)/H);K=Math.ceil(this.ratio_*(0,e.getHeight)(K)/H);Q=(0,e.getForViewAndSize)(Q,H,0,[ea,K]);if((K=this.image_)&&this.renderedRevision_==this.getRevision()&&K.getResolution()==D&&K.getPixelRatio()==y&&(0,e.containsExtent)(K.getExtent(),
S))return K;S={SERVICE:"WMS",VERSION:G.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};(0,d.assign)(S,this.params_);this.imageSize_[0]=Math.round((0,e.getWidth)(Q)/H);this.imageSize_[1]=Math.round((0,e.getHeight)(Q)/H);E=this.getRequestUrl_(Q,this.imageSize_,y,E,S);this.image_=new v["default"](Q,D,y,E,this.crossOrigin_,this.imageLoadFunction_);this.renderedRevision_=this.getRevision();this.image_.addEventListener(L["default"].CHANGE,this.handleImageChange.bind(this));return this.image_};
M.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};M.prototype.getRequestUrl_=function(K,D,y,E,H){(0,g.assert)(void 0!==this.url_,9);H[this.v13_?"CRS":"SRS"]=E.getCode();"STYLES"in this.params_||(H.STYLES="");if(1!=y)switch(this.serverType_){case t["default"].GEOSERVER:y=90*y+.5|0;H.FORMAT_OPTIONS="FORMAT_OPTIONS"in H?H.FORMAT_OPTIONS+(";dpi:"+y):"dpi:"+y;break;case t["default"].MAPSERVER:H.MAP_RESOLUTION=90*y;break;case t["default"].CARMENTA_SERVER:case t["default"].QGIS:H.DPI=
90*y;break;default:(0,g.assert)(!1,8)}H.WIDTH=D[0];H.HEIGHT=D[1];D=E.getAxisOrientation();K=this.v13_&&"ne"==D.substr(0,2)?[K[1],K[0],K[3],K[2]]:K;H.BBOX=K.join(",");return(0,k.appendParams)(this.url_,H)};M.prototype.getUrl=function(){return this.url_};M.prototype.setImageLoadFunction=function(K){this.image_=null;this.imageLoadFunction_=K;this.changed()};M.prototype.setUrl=function(K){K!=this.url_&&(this.url_=K,this.image_=null,this.changed())};M.prototype.updateParams=function(K){(0,d.assign)(this.params_,
K);this.updateV13_();this.image_=null;this.changed()};M.prototype.updateV13_=function(){var K=this.params_.VERSION||G.DEFAULT_WMS_VERSION;this.v13_=0<=(0,a.compareVersions)(K,"1.3")};return M}(w["default"]);J["default"]=Ia};
shadow$provide[291]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=J.ATTRIBUTION=void 0;Ia=function(l){return l&&l.__esModule?l:{"default":l}}(A(275));var m=function(){var l=function(u,G){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,w){L.__proto__=w}||function(L,w){for(var v in w)Object.prototype.hasOwnProperty.call(w,v)&&(L[v]=w[v])};return l(u,G)};return function(u,G){function L(){this.constructor=u}l(u,G);u.prototype=null===G?Object.create(G):
(L.prototype=G.prototype,new L)}}();J.ATTRIBUTION='\x26#169; \x3ca href\x3d"https://www.openstreetmap.org/copyright" target\x3d"_blank"\x3eOpenStreetMap\x3c/a\x3e contributors.';Ia=function(l){function u(G){G=G||{};return l.call(this,{attributions:void 0!==G.attributions?G.attributions:['\x26#169; \x3ca href\x3d"https://www.openstreetmap.org/copyright" target\x3d"_blank"\x3eOpenStreetMap\x3c/a\x3e contributors.'],attributionsCollapsible:!1,cacheSize:G.cacheSize,crossOrigin:void 0!==G.crossOrigin?
G.crossOrigin:"anonymous",imageSmoothing:G.imageSmoothing,maxZoom:void 0!==G.maxZoom?G.maxZoom:19,opaque:void 0!==G.opaque?G.opaque:!0,reprojectionErrorThreshold:G.reprojectionErrorThreshold,tileLoadFunction:G.tileLoadFunction,transition:G.transition,url:void 0!==G.url?G.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:G.wrapX})||this}m(u,l);return u}(Ia["default"]);J["default"]=Ia};
shadow$provide[292]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=function(l){return l&&l.__esModule?l:{"default":l}}(A(96));var m=function(){var l=function(u,G){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,w){L.__proto__=w}||function(L,w){for(var v in w)Object.prototype.hasOwnProperty.call(w,v)&&(L[v]=w[v])};return l(u,G)};return function(u,G){function L(){this.constructor=u}l(u,G);u.prototype=null===G?Object.create(G):(L.prototype=
G.prototype,new L)}}();Ia=function(l){function u(G){return l.call(this,G?G:{})||this}m(u,l);return u}(Ia["default"]);J["default"]=Ia};
shadow$provide[293]=function(Ia,A,mb,J){function m(g){return g&&g.__esModule?g:{"default":g}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=m(A(219));var l=m(A(121)),u=A(257),G=A(86),L=A(77),w=A(80),v=A(104),t=A(130),k=function(){var g=function(d,f){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])};return g(d,f)};return function(d,f){function a(){this.constructor=
d}g(d,f);d.prototype=null===f?Object.create(f):(a.prototype=f.prototype,new a)}}();A=function(g){function d(f){f=g.call(this,f)||this;f.image_=null;return f}k(d,g);d.prototype.getImage=function(){return this.image_?this.image_.getImage():null};d.prototype.prepareFrame=function(f){var a=f.layerStatesArray[f.layerIndex],e=f.pixelRatio,n=f.viewState,x=n.resolution,z=this.getLayer().getSource(),B=f.viewHints;f=f.extent;void 0!==a.extent&&(f=(0,w.getIntersection)(f,(0,t.fromUserExtent)(a.extent,n.projection)));
B[l["default"].ANIMATING]||B[l["default"].INTERACTING]||(0,w.isEmpty)(f)||(z?(a=n.projection,u.ENABLE_RASTER_REPROJECTION||(n=z.getProjection())&&(a=n),(e=z.getImage(f,x,e,a))&&this.loadImage(e)&&(this.image_=e)):this.image_=null);return!!this.image_};d.prototype.renderFrame=function(f,a){var e=this.image_,n=e.getExtent(),x=e.getResolution(),z=e.getPixelRatio(),B=f.layerStatesArray[f.layerIndex],M=f.pixelRatio,K=f.viewState,D=K.center,y=f.size,E=M*x/(K.resolution*z),H=Math.round(y[0]*M),Q=Math.round(y[1]*
M);if(y=K.rotation){var S=Math.round(Math.sqrt(H*H+Q*Q));Q=H=S}(0,L.compose)(this.pixelTransform,f.size[0]/2,f.size[1]/2,1/M,1/M,y,-H/2,-Q/2);(0,L.makeInverse)(this.inversePixelTransform,this.pixelTransform);y=(0,v.createTransformString)(this.pixelTransform);this.useContainer(a,y,B.opacity);a=this.context;S=a.canvas;S.width!=H||S.height!=Q?(S.width=H,S.height=Q):this.containerReused||a.clearRect(0,0,H,Q);var ea=!1;B.extent&&(K=(0,t.fromUserExtent)(B.extent,K.projection),(ea=!(0,w.containsExtent)(K,
f.extent)&&(0,w.intersects)(K,f.extent))&&this.clipUnrotated(a,f,K));e=e.getImage();n=(0,L.compose)(this.tempTransform,H/2,Q/2,E,E,0,z*(n[0]-D[0])/x,z*(D[1]-n[3])/x);this.renderedResolution=x*M/z;x=n[4];z=n[5];M=e.width*n[0];n=e.height*n[3];(0,G.assign)(a,this.getLayer().getSource().getContextOptions());this.preRender(a,f);.5<=M&&.5<=n&&(B=B.opacity,D=void 0,1!==B&&(D=this.context.globalAlpha,this.context.globalAlpha=B),this.context.drawImage(e,0,0,+e.width,+e.height,Math.round(x),Math.round(z),Math.round(M),
Math.round(n)),1!==B&&(this.context.globalAlpha=D));this.postRender(a,f);ea&&a.restore();y!==S.style.transform&&(S.style.transform=y);return this.container};return d}(Ia["default"]);J["default"]=A};
shadow$provide[294]=function(Ia,A,mb,J){function m(G){return G&&G.__esModule?G:{"default":G}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=m(A(292));var l=m(A(293)),u=function(){var G=function(L,w){G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,t){v.__proto__=t}||function(v,t){for(var k in t)Object.prototype.hasOwnProperty.call(t,k)&&(v[k]=t[k])};return G(L,w)};return function(L,w){function v(){this.constructor=L}G(L,w);L.prototype=null===w?Object.create(w):
(v.prototype=w.prototype,new v)}}();A=function(G){function L(w){return G.call(this,w)||this}u(L,G);L.prototype.createRenderer=function(){return new l["default"](this)};return L}(Ia["default"]);J["default"]=A};
shadow$provide[295]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"}};
shadow$provide[296]=function(Ia,A,mb,J){function m(L){return L&&L.__esModule?L:{"default":L}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=m(A(96));var l=m(A(295)),u=A(86),G=function(){var L=function(w,v){L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,k){t.__proto__=k}||function(t,k){for(var g in k)Object.prototype.hasOwnProperty.call(k,g)&&(t[g]=k[g])};return L(w,v)};return function(w,v){function t(){this.constructor=w}L(w,v);w.prototype=null===v?Object.create(v):
(t.prototype=v.prototype,new t)}}();A=function(L){function w(v){v=v?v:{};var t=(0,u.assign)({},v);delete t.preload;delete t.useInterimTilesOnError;t=L.call(this,t)||this;t.setPreload(void 0!==v.preload?v.preload:0);t.setUseInterimTilesOnError(void 0!==v.useInterimTilesOnError?v.useInterimTilesOnError:!0);return t}G(w,L);w.prototype.getPreload=function(){return this.get(l["default"].PRELOAD)};w.prototype.setPreload=function(v){this.set(l["default"].PRELOAD,v)};w.prototype.getUseInterimTilesOnError=
function(){return this.get(l["default"].USE_INTERIM_TILES_ON_ERROR)};w.prototype.setUseInterimTilesOnError=function(v){this.set(l["default"].USE_INTERIM_TILES_ON_ERROR,v)};return w}(Ia["default"]);J["default"]=A};
shadow$provide[297]=function(Ia,A,mb,J){function m(f){return f&&f.__esModule?f:{"default":f}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=m(A(219));var l=m(A(266)),u=m(A(117)),G=A(77),L=A(86),w=A(80),v=A(104),t=A(130),k=A(74),g=A(72),d=function(){var f=function(a,e){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,x){n.__proto__=x}||function(n,x){for(var z in x)Object.prototype.hasOwnProperty.call(x,z)&&(n[z]=x[z])};return f(a,e)};return function(a,e){function n(){this.constructor=
a}f(a,e);a.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();A=function(f){function a(e){e=f.call(this,e)||this;e.extentChanged=!0;e.renderedExtent_=null;e.renderedProjection=null;e.renderedTiles=[];e.newTiles_=!1;e.tmpExtent=(0,w.createEmpty)();e.tmpTileRange_=new l["default"](0,0,0,0);return e}d(a,f);a.prototype.isDrawableTile=function(e){var n=this.getLayer();e=e.getState();n=n.getUseInterimTilesOnError();return e==u["default"].LOADED||e==u["default"].EMPTY||e==u["default"].ERROR&&
!n};a.prototype.getTile=function(e,n,x,z){var B=z.pixelRatio,M=z.viewState.projection;z=this.getLayer();e=z.getSource().getTile(e,n,x,B,M);e.getState()==u["default"].ERROR&&(z.getUseInterimTilesOnError()?0<z.getPreload()&&(this.newTiles_=!0):e.setState(u["default"].LOADED));this.isDrawableTile(e)||(e=e.getInterimTile());return e};a.prototype.loadedTileCallback=function(e,n,x){return this.isDrawableTile(x)?f.prototype.loadedTileCallback.call(this,e,n,x):!1};a.prototype.prepareFrame=function(e){return!!this.getLayer().getSource()};
a.prototype.renderFrame=function(e,n){var x=e.layerStatesArray[e.layerIndex],z=e.viewState,B=z.projection,M=z.resolution,K=z.center,D=z.rotation;z=e.pixelRatio;var y=this.getLayer(),E=y.getSource(),H=E.getRevision(),Q=E.getTileGridForProjection(B),S=Q.getZForResolution(M,E.zDirection),ea=Q.getResolution(S),ba=e.extent,fa=x.extent&&(0,t.fromUserExtent)(x.extent,B);fa&&(ba=(0,w.getIntersection)(ba,(0,t.fromUserExtent)(x.extent,B)));var ia=E.getTilePixelRatio(z),ca=Math.round(e.size[0]*ia),N=Math.round(e.size[1]*
ia);if(D){var C=Math.round(Math.sqrt(ca*ca+N*N));N=ca=C}C=ea*ca/2/ia;var W=ea*N/2/ia;K=[K[0]-C,K[1]-W,K[0]+C,K[1]+W];var ha=Q.getTileRangeForExtentAndZ(ba,S);C={};C[S]={};var Y=this.createLoadedTileFinder(E,B,C),wa=this.tmpExtent,xa=this.tmpTileRange_;this.newTiles_=!1;for(var Ha=ha.minX;Ha<=ha.maxX;++Ha)for(var Za=ha.minY;Za<=ha.maxY;++Za){W=this.getTile(S,Ha,Za,e);if(this.isDrawableTile(W)){var gb=(0,k.getUid)(this);if(W.getState()==u["default"].LOADED){C[S][W.tileCoord.toString()]=W;var ra=W.inTransition(gb);
this.newTiles_||!ra&&-1!==this.renderedTiles.indexOf(W)||(this.newTiles_=!0)}if(1===W.getAlpha(gb,e.time))continue}ra=Q.getTileCoordChildTileRange(W.tileCoord,xa,wa);gb=!1;ra&&(gb=Y(S+1,ra));gb||Q.forEachTileCoordParentTileRange(W.tileCoord,Y,xa,wa)}M=ea/M;(0,G.compose)(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/ia,1/ia,D,-ca/2,-N/2);D=(0,v.createTransformString)(this.pixelTransform);this.useContainer(n,D,x.opacity);n=this.context;ha=n.canvas;(0,G.makeInverse)(this.inversePixelTransform,this.pixelTransform);
(0,G.compose)(this.tempTransform,ca/2,N/2,M,M,0,-ca/2,-N/2);ha.width!=ca||ha.height!=N?(ha.width=ca,ha.height=N):this.containerReused||n.clearRect(0,0,ca,N);fa&&this.clipUnrotated(n,e,fa);(0,L.assign)(n,E.getContextOptions());this.preRender(n,e);this.renderedTiles.length=0;fa=Object.keys(C).map(Number);fa.sort(g.numberSafeCompareFunction);if(1!==x.opacity||this.containerReused&&!E.getOpaque(e.viewState.projection)){var Pa=[];var Ua=[]}else fa=fa.reverse();for(ca=fa.length-1;0<=ca;--ca){N=fa[ca];W=
E.getTilePixelSize(N,z,B);Ha=Q.getResolution(N)/ea;Y=W[0]*Ha*M;wa=W[1]*Ha*M;xa=Q.getTileCoordForCoordAndZ((0,w.getTopLeft)(K),N);W=Q.getTileCoordExtent(xa);gb=(0,G.apply)(this.tempTransform,[ia*(W[0]-K[0])/ea,ia*(K[3]-W[3])/ea]);var za=ia*E.getGutterForProjection(B),qa=C[N],R;for(R in qa){W=qa[R];Za=W.tileCoord;Ha=gb[0]-(xa[1]-Za[1])*Y;ra=Math.round(Ha+Y);Za=gb[1]-(xa[2]-Za[2])*wa;var T=Math.round(Za+wa);Ha=Math.round(Ha);Za=Math.round(Za);var X=ra-Ha,Z=T-Za,oa=S===N;ra=oa&&1!==W.getAlpha((0,k.getUid)(this),
e.time);if(!ra)if(Pa){n.save();T=[Ha,Za,Ha+X,Za,Ha+X,Za+Z,Ha,Za+Z];for(var na=0,Aa=Pa.length;na<Aa;++na)if(S!==N&&N<Ua[na]){var ka=Pa[na];n.beginPath();n.moveTo(T[0],T[1]);n.lineTo(T[2],T[3]);n.lineTo(T[4],T[5]);n.lineTo(T[6],T[7]);n.moveTo(ka[6],ka[7]);n.lineTo(ka[4],ka[5]);n.lineTo(ka[2],ka[3]);n.lineTo(ka[0],ka[1]);n.clip()}Pa.push(T);Ua.push(N)}else n.clearRect(Ha,Za,X,Z);this.drawTileImage(W,e,Ha,Za,X,Z,za,oa,x.opacity);Pa&&!ra&&n.restore();this.renderedTiles.push(W);this.updateUsedTiles(e.usedTiles,
E,W)}}this.renderedRevision=H;this.renderedResolution=ea;this.extentChanged=!this.renderedExtent_||!(0,w.equals)(this.renderedExtent_,K);this.renderedExtent_=K;this.renderedPixelRatio=z;this.renderedProjection=B;this.manageTilePyramid(e,E,Q,z,B,ba,S,y.getPreload());this.scheduleExpireCache(e,E);this.postRender(n,e);x.extent&&n.restore();D!==ha.style.transform&&(ha.style.transform=D);return this.container};a.prototype.drawTileImage=function(e,n,x,z,B,M,K,D,y){var E=this.getTileImage(e);if(E){var H=
(0,k.getUid)(this),Q=D?e.getAlpha(H,n.time):1;y*=Q;var S=y!==this.context.globalAlpha;S&&(this.context.save(),this.context.globalAlpha=y);this.context.drawImage(E,K,K,E.width-2*K,E.height-2*K,x,z,B,M);S&&this.context.restore();1!==Q?n.animate=!0:D&&e.endTransition(H)}};a.prototype.getImage=function(){var e=this.context;return e?e.canvas:null};a.prototype.getTileImage=function(e){return e.getImage()};a.prototype.scheduleExpireCache=function(e,n){n.canExpireCache()&&(n=function(x,z,B){z=(0,k.getUid)(x);
z in B.usedTiles&&x.expireCache(B.viewState.projection,B.usedTiles[z])}.bind(null,n),e.postRenderFunctions.push(n))};a.prototype.updateUsedTiles=function(e,n,x){n=(0,k.getUid)(n);n in e||(e[n]={});e[n][x.getKey()]=!0};a.prototype.manageTilePyramid=function(e,n,x,z,B,M,K,D,y){var E=(0,k.getUid)(n);E in e.wantedTiles||(e.wantedTiles[E]={});var H=e.wantedTiles[E];e=e.tileQueue;var Q=0,S,ea,ba;for(ba=x.getMinZoom();ba<=K;++ba){var fa=x.getTileRangeForExtentAndZ(M,ba,fa);var ia=x.getResolution(ba);for(S=
fa.minX;S<=fa.maxX;++S)for(ea=fa.minY;ea<=fa.maxY;++ea)if(K-ba<=D){++Q;var ca=n.getTile(ba,S,ea,z,B);ca.getState()==u["default"].IDLE&&(H[ca.getKey()]=!0,e.isKeyQueued(ca.getKey())||e.enqueue([ca,E,x.getTileCoordCenter(ca.tileCoord),ia]));void 0!==y&&y(ca)}else n.useTile(ba,S,ea,B)}n.updateCacheSize(Q,B)};return a}(Ia["default"]);J["default"]=A};
shadow$provide[298]=function(Ia,A,mb,J){function m(G){return G&&G.__esModule?G:{"default":G}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=m(A(296));var l=m(A(297)),u=function(){var G=function(L,w){G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,t){v.__proto__=t}||function(v,t){for(var k in t)Object.prototype.hasOwnProperty.call(t,k)&&(v[k]=t[k])};return G(L,w)};return function(L,w){function v(){this.constructor=L}G(L,w);L.prototype=null===w?Object.create(w):
(v.prototype=w.prototype,new v)}}();A=function(G){function L(w){return G.call(this,w)||this}u(L,G);L.prototype.createRenderer=function(){return new l["default"](this)};return L}(Ia["default"]);J["default"]=A};
shadow$provide[299]=function(Ia,A,mb,J){function m(ba){return ba&&ba.__esModule?ba:{"default":ba}}function l(ba,fa,ia){if(E)return new ImageData(ba,fa,ia);fa=H.createImageData(fa,ia);fa.data.set(ba);return fa}function u(ba){var fa=!0;try{new ImageData(10,10)}catch(ia){fa=!1}return function(ia){var ca=ia.buffers,N=ia.meta,C=ia.width,W=ia.height,ha=ca.length,Y=ca[0].byteLength;if(ia.imageOps){Y=Array(ha);for(ia=0;ia<ha;++ia){var wa=ia;var xa=new Uint8ClampedArray(ca[ia]);var Ha=C,Za=W;xa=fa?new ImageData(xa,
Ha,Za):{data:xa,width:Ha,height:Za};Y[wa]=xa}C=ba(Y,N).data}else{C=new Uint8ClampedArray(Y);W=Array(ha);wa=Array(ha);for(ia=0;ia<ha;++ia)W[ia]=new Uint8ClampedArray(ca[ia]),wa[ia]=[0,0,0,0];for(ca=0;ca<Y;ca+=4){for(ia=0;ia<ha;++ia)xa=W[ia],wa[ia][0]=xa[ca],wa[ia][1]=xa[ca+1],wa[ia][2]=xa[ca+2],wa[ia][3]=xa[ca+3];ia=ba(wa,N);C[ca]=ia[0];C[ca+1]=ia[1];C[ca+2]=ia[2];C[ca+3]=ia[3]}}return C.buffer}}function G(ba,fa){var ia=Object.keys(ba.lib||{}).map(function(ca){return"var "+ca+" \x3d "+ba.lib[ca].toString()+
";"}).concat(["var __minion__ \x3d ("+u.toString()+")(",ba.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer \x3d __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]);ia=new Blob(ia,{type:"text/javascript"});ia=URL.createObjectURL(ia);ia=new Worker(ia);ia.addEventListener("message",fa);return ia}function L(ba,fa){var ia=u(ba.operation),ca=!1;return{postMessage:function(N){setTimeout(function(){ca||fa({data:{buffer:ia(N),
meta:N.meta}})},0)},terminate:function(){ca=!0}}}function w(ba,fa){var ia=ba.getRenderer();if(!ia)throw Error("Unsupported layer type: "+ba);if(!ia.prepareFrame(fa))return null;ba=fa.size[0];var ca=fa.size[1];if(0===ba||0===ca)return null;fa=ia.renderFrame(fa,null);if(fa)var N=fa.firstElementChild;if(!(N instanceof HTMLCanvasElement))throw Error("Unsupported rendered element: "+N);if(N.width===ba&&N.height===ca)return N.getContext("2d").getImageData(0,0,ba,ca);ea?(fa=ea.canvas,fa.width!==ba||fa.height!==
ca?ea=(0,M.createCanvasContext2D)(ba,ca):ea.clearRect(0,0,ba,ca)):ea=(0,M.createCanvasContext2D)(ba,ca);ea.drawImage(N,0,0,ba,ca);return ea.getImageData(0,0,ba,ca)}function v(ba){return ba.map(function(fa){return fa.getLayerState()})}function t(ba){for(var fa=ba.length,ia=Array(fa),ca=0;ca<fa;++ca){var N=ca,C=void 0,W=ba[ca];W instanceof a["default"]?W instanceof z["default"]?C=new n["default"]({source:W}):W instanceof f["default"]&&(C=new d["default"]({source:W})):C=W;ia[N]=C}return ia}Object.defineProperty(J,
"__esModule",{value:!0});J.newImageData=l;J["default"]=J.RasterSourceEvent=J.Processor=void 0;Ia=m(A(71));mb=m(A(84));var k=m(A(88)),g=m(A(285)),d=m(A(294)),f=m(A(282)),a=m(A(238)),e=m(A(95)),n=m(A(298)),x=m(A(118)),z=m(A(269)),B=A(86),M=A(103),K=A(77),D=A(80),y=function(){var ba=function(fa,ia){ba=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ca,N){ca.__proto__=N}||function(ca,N){for(var C in N)Object.prototype.hasOwnProperty.call(N,C)&&(ca[C]=N[C])};return ba(fa,ia)};return function(fa,
ia){function ca(){this.constructor=fa}ba(fa,ia);fa.prototype=null===ia?Object.create(ia):(ca.prototype=ia.prototype,new ca)}}(),E=!0;try{new ImageData(10,10)}catch(ba){E=!1}var H=document.createElement("canvas").getContext("2d"),Q=function(ba){function fa(ia){var ca=ba.call(this)||this;ca._imageOps=!!ia.imageOps;var N=0===ia.threads?0:ca._imageOps?1:ia.threads||1;var C=[];if(N)for(var W=0;W<N;++W)C[W]=G(ia,ca._onWorkerMessage.bind(ca,W));else C[0]=L(ia,ca._onWorkerMessage.bind(ca,0));ca._workers=
C;ca._queue=[];ca._maxQueueLength=ia.queue||Infinity;ca._running=0;ca._dataLookup={};ca._job=null;return ca}y(fa,ba);fa.prototype.process=function(ia,ca,N){this._enqueue({inputs:ia,meta:ca,callback:N});this._dispatch()};fa.prototype._enqueue=function(ia){for(this._queue.push(ia);this._queue.length>this._maxQueueLength;)this._queue.shift().callback(null,null)};fa.prototype._dispatch=function(){if(0===this._running&&0<this._queue.length){var ia=this._queue.shift();this._job=ia;var ca=ia.inputs[0].width,
N=ia.inputs[0].height,C=ia.inputs.map(function(gb){return gb.data.buffer}),W=this._workers.length;this._running=W;if(1===W)this._workers[0].postMessage({buffers:C,meta:ia.meta,imageOps:this._imageOps,width:ca,height:N},C);else for(var ha=4*Math.ceil(ia.inputs[0].data.length/4/W),Y=0;Y<W;++Y){for(var wa=Y*ha,xa=[],Ha=0,Za=C.length;Ha<Za;++Ha)xa.push(C[Ha].slice(wa,wa+ha));this._workers[Y].postMessage({buffers:xa,meta:ia.meta,imageOps:this._imageOps,width:ca,height:N},xa)}}};fa.prototype._onWorkerMessage=
function(ia,ca){this.disposed||(this._dataLookup[ia]=ca.data,--this._running,0===this._running&&this._resolveJob())};fa.prototype._resolveJob=function(){var ia=this._job,ca=this._workers.length;if(1===ca){var N=new Uint8ClampedArray(this._dataLookup[0].buffer);var C=this._dataLookup[0].meta}else{var W=ia.inputs[0].data.length;N=new Uint8ClampedArray(W);C=Array(W);W=4*Math.ceil(W/4/ca);for(var ha=0;ha<ca;++ha){var Y=ha*W;N.set(new Uint8ClampedArray(this._dataLookup[ha].buffer),Y);C[ha]=this._dataLookup[ha].meta}}this._job=
null;this._dataLookup={};ia.callback(null,l(N,ia.inputs[0].width,ia.inputs[0].height),C);this._dispatch()};fa.prototype.disposeInternal=function(){for(var ia=0;ia<this._workers.length;++ia)this._workers[ia].terminate();this._workers.length=0};return fa}(Ia["default"]);J.Processor=Q;var S=function(ba){function fa(ia,ca,N){ia=ba.call(this,ia)||this;ia.extent=ca.extent;ia.resolution=ca.viewState.resolution/ca.pixelRatio;ia.data=N;return ia}y(fa,ba);return fa}(mb["default"]);J.RasterSourceEvent=S;A=function(ba){function fa(ia){var ca=
ba.call(this,{projection:null})||this;ca.processor_=null;ca.operationType_=void 0!==ia.operationType?ia.operationType:"pixel";ca.threads_=void 0!==ia.threads?ia.threads:1;ca.layers_=t(ia.sources);for(var N=ca.changed.bind(ca),C=0,W=ca.layers_.length;C<W;++C)ca.layers_[C].addEventListener(k["default"].CHANGE,N);ca.tileQueue_=new x["default"](function(){return 1},ca.changed.bind(ca));ca.renderedImageCanvas_=null;ca.frameState_={animate:!1,coordinateToPixelTransform:(0,K.create)(),declutterTree:null,
extent:null,index:0,layerIndex:0,layerStatesArray:v(ca.layers_),pixelRatio:1,pixelToCoordinateTransform:(0,K.create)(),postRenderFunctions:[],size:[0,0],tileQueue:ca.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}};ca.setAttributions(function(ha){for(var Y=[],wa=0,xa=ia.sources.length;wa<xa;++wa){var Ha=ia.sources[wa];Ha=(Ha instanceof a["default"]?Ha:Ha.getSource()).getAttributions();"function"===typeof Ha&&(Ha=Ha(ha),Y.push.apply(Y,Ha))}return 0!==Y.length?
Y:null});void 0!==ia.operation&&ca.setOperation(ia.operation,ia.lib);return ca}y(fa,ba);fa.prototype.setOperation=function(ia,ca){this.processor_&&this.processor_.dispose();this.processor_=new Q({operation:ia,imageOps:"image"===this.operationType_,queue:1,lib:ca,threads:this.threads_});this.changed()};fa.prototype.updateFrameState_=function(ia,ca,N){var C=(0,B.assign)({},this.frameState_);C.viewState=(0,B.assign)({},C.viewState);var W=(0,D.getCenter)(ia);C.extent=ia.slice();C.size[0]=Math.round((0,
D.getWidth)(ia)/ca);C.size[1]=Math.round((0,D.getHeight)(ia)/ca);C.time=Infinity;ia=C.viewState;ia.center=W;ia.projection=N;ia.resolution=ca;return C};fa.prototype.allSourcesReady_=function(){for(var ia=!0,ca,N=0,C=this.layers_.length;N<C;++N)if(ca=this.layers_[N].getSource(),ca.getState()!==e["default"].READY){ia=!1;break}return ia};fa.prototype.getImage=function(ia,ca,N,C){if(!this.allSourcesReady_())return null;this.requestedFrameState_=N=this.updateFrameState_(ia,ca,C);if(this.renderedImageCanvas_){C=
this.renderedImageCanvas_.getResolution();var W=this.renderedImageCanvas_.getExtent();ca===C&&(0,D.equals)(ia,W)||(this.renderedImageCanvas_=null)}this.renderedImageCanvas_&&this.getRevision()===this.renderedRevision_||this.processSources_();N.tileQueue.loadMoreTiles(16,16);N.animate&&requestAnimationFrame(this.changed.bind(this));return this.renderedImageCanvas_};fa.prototype.processSources_=function(){for(var ia=this.requestedFrameState_,ca=this.layers_.length,N=Array(ca),C=0;C<ca;++C){ia.layerIndex=
C;var W=w(this.layers_[C],ia);if(W)N[C]=W;else return}ca={};this.dispatchEvent(new S("beforeoperations",ia,ca));this.processor_.process(N,ca,this.onWorkerComplete_.bind(this,ia))};fa.prototype.onWorkerComplete_=function(ia,ca,N,C){if(!ca&&N){ca=ia.extent;var W=ia.viewState.resolution;if(W===this.requestedFrameState_.viewState.resolution&&(0,D.equals)(ca,this.requestedFrameState_.extent)){if(this.renderedImageCanvas_)var ha=this.renderedImageCanvas_.getImage().getContext("2d");else{ha=Math.round((0,
D.getWidth)(ca)/W);var Y=Math.round((0,D.getHeight)(ca)/W);ha=(0,M.createCanvasContext2D)(ha,Y);this.renderedImageCanvas_=new g["default"](ca,W,1,ha.canvas)}ha.putImageData(N,0,0);this.changed();this.renderedRevision_=this.getRevision();this.dispatchEvent(new S("afteroperations",ia,C))}}};fa.prototype.getImageInternal=function(){return null};fa.prototype.disposeInternal=function(){this.processor_&&this.processor_.dispose();ba.prototype.disposeInternal.call(this)};return fa}(f["default"]);var ea=null;
J["default"]=A};
shadow$provide[300]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=function(L){return L&&L.__esModule?L:{"default":L}}(A(275));A=A(291);var m=function(){var L=function(w,v){L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,k){t.__proto__=k}||function(t,k){for(var g in k)Object.prototype.hasOwnProperty.call(k,g)&&(t[g]=k[g])};return L(w,v)};return function(w,v){function t(){this.constructor=w}L(w,v);w.prototype=null===v?Object.create(v):
(t.prototype=v.prototype,new t)}}(),l=['Map tiles by \x3ca href\x3d"https://stamen.com/" target\x3d"_blank"\x3eStamen Design\x3c/a\x3e, under \x3ca href\x3d"https://creativecommons.org/licenses/by/3.0/" target\x3d"_blank"\x3eCC BY 3.0\x3c/a\x3e.',A.ATTRIBUTION],u={terrain:{extension:"jpg",opaque:!0},"terrain-background":{extension:"jpg",opaque:!0},"terrain-labels":{extension:"png",opaque:!1},"terrain-lines":{extension:"png",opaque:!1},"toner-background":{extension:"png",opaque:!0},toner:{extension:"png",
opaque:!0},"toner-hybrid":{extension:"png",opaque:!1},"toner-labels":{extension:"png",opaque:!1},"toner-lines":{extension:"png",opaque:!1},"toner-lite":{extension:"png",opaque:!0},watercolor:{extension:"jpg",opaque:!0}},G={terrain:{minZoom:0,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:0,maxZoom:18}};A=function(L){function w(v){var t=v.layer.indexOf("-");t=-1==t?v.layer:v.layer.slice(0,t);t=G[t];var k=u[v.layer];return L.call(this,{attributions:l,cacheSize:v.cacheSize,crossOrigin:"anonymous",
imageSmoothing:v.imageSmoothing,maxZoom:void 0!=v.maxZoom?v.maxZoom:t.maxZoom,minZoom:void 0!=v.minZoom?v.minZoom:t.minZoom,opaque:k.opaque,reprojectionErrorThreshold:v.reprojectionErrorThreshold,tileLoadFunction:v.tileLoadFunction,transition:v.transition,url:void 0!==v.url?v.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+v.layer+"/{z}/{x}/{y}."+k.extension,wrapX:v.wrapX})||this}m(w,L);return w}(Ia["default"]);J["default"]=A};
shadow$provide[301]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=function(t){return t&&t.__esModule?t:{"default":t}}(A(272));var m=A(283),l=A(86),u=A(80),G=A(81),L=A(154),w=A(263),v=function(){var t=function(k,g){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var a in f)Object.prototype.hasOwnProperty.call(f,a)&&(d[a]=f[a])};return t(k,g)};return function(k,g){function d(){this.constructor=k}t(k,
g);k.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}}();A=function(t){function k(g){var d=g?g:{};g=t.call(this,{attributions:d.attributions,cacheSize:d.cacheSize,crossOrigin:d.crossOrigin,imageSmoothing:d.imageSmoothing,projection:d.projection,reprojectionErrorThreshold:d.reprojectionErrorThreshold,tileGrid:d.tileGrid,tileLoadFunction:d.tileLoadFunction,url:d.url,urls:d.urls,wrapX:void 0!==d.wrapX?d.wrapX:!0,transition:d.transition})||this;g.params_=d.params||{};g.hidpi_=void 0!==
d.hidpi?d.hidpi:!0;g.tmpExtent_=(0,u.createEmpty)();g.setKey(g.getKeyForParams_());return g}v(k,t);k.prototype.getKeyForParams_=function(){var g=0,d=[],f;for(f in this.params_)d[g++]=f+"-"+this.params_[f];return d.join("/")};k.prototype.getParams=function(){return this.params_};k.prototype.getRequestUrl_=function(g,d,f,a,e,n){var x=this.urls;if(x)return e=e.getCode().split(":").pop(),n.SIZE=d[0]+","+d[1],n.BBOX=f.join(","),n.BBOXSR=e,n.IMAGESR=e,n.DPI=Math.round(n.DPI?n.DPI*a:90*a),1==x.length?x=
x[0]:(g=(0,G.modulo)((0,w.hash)(g),x.length),x=x[g]),x=x.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),(0,m.appendParams)(x,n)};k.prototype.getTilePixelRatio=function(g){return this.hidpi_?g:1};k.prototype.updateParams=function(g){(0,l.assign)(this.params_,g);this.setKey(this.getKeyForParams_())};k.prototype.tileUrlFunction=function(g,d,f){var a=this.getTileGrid();a||(a=this.getTileGridForProjection(f));if(!(a.getResolutions().length<=g[0])){1==d||
this.hidpi_||(d=1);var e=a.getTileCoordExtent(g,this.tmpExtent_);a=(0,L.toSize)(a.getTileSize(g[0]),this.tmpSize);1!=d&&(a=(0,L.scale)(a,d,this.tmpSize));var n={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};(0,l.assign)(n,this.params_);return this.getRequestUrl_(g,a,e,d,f,n)}};return k}(Ia["default"]);J["default"]=A};
shadow$provide[302]=function(Ia,A,mb,J){function m(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=m(A(255));var l=m(A(117));mb=m(A(275));var u=A(103),G=A(263),L=A(154),w=function(){var t=function(k,g){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var a in f)Object.prototype.hasOwnProperty.call(f,a)&&(d[a]=f[a])};return t(k,g)};return function(k,g){function d(){this.constructor=
k}t(k,g);k.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}}(),v=function(t){function k(g,d,f){g=t.call(this,g,l["default"].LOADED)||this;g.tileSize_=d;g.text_=f;g.canvas_=null;return g}w(k,t);k.prototype.getImage=function(){if(this.canvas_)return this.canvas_;var g=this.tileSize_,d=(0,u.createCanvasContext2D)(g[0],g[1]);d.strokeStyle="grey";d.strokeRect(.5,.5,g[0]+.5,g[1]+.5);d.fillStyle="grey";d.strokeStyle="white";d.textAlign="center";d.textBaseline="middle";d.font="24px sans-serif";
d.lineWidth=4;d.strokeText(this.text_,g[0]/2,g[1]/2,g[0]);d.fillText(this.text_,g[0]/2,g[1]/2,g[0]);return this.canvas_=d.canvas};k.prototype.load=function(){};return k}(Ia["default"]);A=function(t){function k(g){g=g||{};return t.call(this,{opaque:!1,projection:g.projection,tileGrid:g.tileGrid,wrapX:void 0!==g.wrapX?g.wrapX:!0,zDirection:g.zDirection})||this}w(k,t);k.prototype.getTile=function(g,d,f){var a=(0,G.getKeyZXY)(g,d,f);if(this.tileCache.containsKey(a))return this.tileCache.get(a);var e=
(0,L.toSize)(this.tileGrid.getTileSize(g));g=[g,d,f];d=this.getTileCoordForTileUrlFunction(g);e=new v(g,e,d?"z:"+d[0]+" x:"+d[1]+" y:"+d[2]:"none");this.tileCache.set(a,e);return e};return k}(mb["default"]);J["default"]=A};
shadow$provide[303]=function(Ia,A,mb,J){function m(g){return g&&g.__esModule?g:{"default":g}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(A(95));Ia=m(A(272));var u=A(80),G=A(76),L=A(270),w=A(268),v=A(130),t=A(273),k=function(){var g=function(d,f){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])};return g(d,f)};return function(d,f){function a(){this.constructor=
d}g(d,f);d.prototype=null===f?Object.create(f):(a.prototype=f.prototype,new a)}}();A=function(g){function d(f){var a=g.call(this,{attributions:f.attributions,cacheSize:f.cacheSize,crossOrigin:f.crossOrigin,imageSmoothing:f.imageSmoothing,projection:(0,v.get)("EPSG:3857"),reprojectionErrorThreshold:f.reprojectionErrorThreshold,state:l["default"].LOADING,tileLoadFunction:f.tileLoadFunction,wrapX:void 0!==f.wrapX?f.wrapX:!0,transition:f.transition})||this;a.tileJSON_=null;a.tileSize_=f.tileSize;if(f.url)if(f.jsonp)(0,
t.jsonp)(f.url,a.handleTileJSONResponse.bind(a),a.handleTileJSONError.bind(a));else{var e=new XMLHttpRequest;e.addEventListener("load",a.onXHRLoad_.bind(a));e.addEventListener("error",a.onXHRError_.bind(a));e.open("GET",f.url);e.send()}else f.tileJSON?a.handleTileJSONResponse(f.tileJSON):(0,G.assert)(!1,51);return a}k(d,g);d.prototype.onXHRLoad_=function(f){f=f.target;if(!f.status||200<=f.status&&300>f.status){var a=void 0;try{a=JSON.parse(f.responseText)}catch(e){this.handleTileJSONError();return}this.handleTileJSONResponse(a)}else this.handleTileJSONError()};
d.prototype.onXHRError_=function(f){this.handleTileJSONError()};d.prototype.getTileJSON=function(){return this.tileJSON_};d.prototype.handleTileJSONResponse=function(f){var a=(0,v.get)("EPSG:4326"),e=this.getProjection();if(void 0!==f.bounds){var n=(0,v.getTransformFromProjections)(a,e);n=(0,u.applyTransform)(f.bounds,n)}var x=f.minzoom||0,z=f.maxzoom||22;this.tileGrid=e=(0,w.createXYZ)({extent:(0,w.extentFromProjection)(e),maxZoom:z,minZoom:x,tileSize:this.tileSize_});this.tileUrlFunction=(0,L.createFromTemplates)(f.tiles,
e);if(void 0!==f.attribution&&!this.getAttributions()){var B=void 0!==n?n:a.getExtent();this.setAttributions(function(M){return(0,u.intersects)(B,M.extent)?[f.attribution]:null})}this.tileJSON_=f;this.setState(l["default"].READY)};d.prototype.handleTileJSONError=function(){this.setState(l["default"].ERROR)};return d}(Ia["default"]);J["default"]=A};
shadow$provide[304]=function(Ia,A,mb,J){function m(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=A(259);Ia=m(A(272));var u=m(A(289)),G=A(283),L=A(76),w=A(86),v=A(80),t=A(154),k=A(260),g=A(97),d=A(130),f=A(81),a=A(263),e=function(){var n=function(x,z){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,M){B.__proto__=M}||function(B,M){for(var K in M)Object.prototype.hasOwnProperty.call(M,K)&&(B[K]=M[K])};return n(x,
z)};return function(x,z){function B(){this.constructor=x}n(x,z);x.prototype=null===z?Object.create(z):(B.prototype=z.prototype,new B)}}();A=function(n){function x(z){var B=z?z:{},M=B.params||{};z=n.call(this,{attributions:B.attributions,cacheSize:B.cacheSize,crossOrigin:B.crossOrigin,imageSmoothing:B.imageSmoothing,opaque:!("TRANSPARENT"in M?M.TRANSPARENT:1),projection:B.projection,reprojectionErrorThreshold:B.reprojectionErrorThreshold,tileClass:B.tileClass,tileGrid:B.tileGrid,tileLoadFunction:B.tileLoadFunction,
url:B.url,urls:B.urls,wrapX:void 0!==B.wrapX?B.wrapX:!0,transition:B.transition})||this;z.gutter_=void 0!==B.gutter?B.gutter:0;z.params_=M;z.v13_=!0;z.serverType_=B.serverType;z.hidpi_=void 0!==B.hidpi?B.hidpi:!0;z.tmpExtent_=(0,v.createEmpty)();z.updateV13_();z.setKey(z.getKeyForParams_());return z}e(x,n);x.prototype.getFeatureInfoUrl=function(z,B,M,K){M=(0,d.get)(M);var D=this.getProjection(),y=this.getTileGrid();y||(y=this.getTileGridForProjection(M));B=y.getZForResolution(B,this.zDirection);B=
y.getTileCoordForCoordAndZ(z,B);if(!(y.getResolutions().length<=B[0])){var E=y.getResolution(B[0]),H=y.getTileCoordExtent(B,this.tmpExtent_);y=(0,t.toSize)(y.getTileSize(B[0]),this.tmpSize);var Q=this.gutter_;0!==Q&&(y=(0,t.buffer)(y,Q,this.tmpSize),H=(0,v.buffer)(H,E*Q,H));D&&D!==M&&(E=(0,k.calculateSourceResolution)(D,M,z,E),H=(0,d.transformExtent)(H,M,D),z=(0,d.transform)(z,M,D));Q={SERVICE:"WMS",VERSION:l.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};
(0,w.assign)(Q,this.params_,K);K=Math.floor((H[3]-z[1])/E);Q[this.v13_?"I":"X"]=Math.floor((z[0]-H[0])/E);Q[this.v13_?"J":"Y"]=K;return this.getRequestUrl_(B,y,H,1,D||M,Q)}};x.prototype.getLegendUrl=function(z,B){if(void 0!==this.urls[0]){var M={SERVICE:"WMS",VERSION:l.DEFAULT_WMS_VERSION,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===B||void 0===B.LAYER){var K=this.params_.LAYERS;if(Array.isArray(K)&&1!==K.length)return;M.LAYER=K}void 0!==z&&(K=this.getProjection()?this.getProjection().getMetersPerUnit():
1,M.SCALE=z*K/2.8E-4);(0,w.assign)(M,B);return(0,G.appendParams)(this.urls[0],M)}};x.prototype.getGutter=function(){return this.gutter_};x.prototype.getParams=function(){return this.params_};x.prototype.getRequestUrl_=function(z,B,M,K,D,y){var E=this.urls;if(E){y.WIDTH=B[0];y.HEIGHT=B[1];y[this.v13_?"CRS":"SRS"]=D.getCode();"STYLES"in this.params_||(y.STYLES="");if(1!=K)switch(this.serverType_){case u["default"].GEOSERVER:B=90*K+.5|0;y.FORMAT_OPTIONS="FORMAT_OPTIONS"in y?y.FORMAT_OPTIONS+(";dpi:"+
B):"dpi:"+B;break;case u["default"].MAPSERVER:y.MAP_RESOLUTION=90*K;break;case u["default"].CARMENTA_SERVER:case u["default"].QGIS:y.DPI=90*K;break;default:(0,L.assert)(!1,52)}D=D.getAxisOrientation();this.v13_&&"ne"==D.substr(0,2)&&(D=M[0],M[0]=M[1],M[1]=D,D=M[2],M[2]=M[3],M[3]=D);y.BBOX=M.join(",");1==E.length?E=E[0]:(z=(0,f.modulo)((0,a.hash)(z),E.length),E=E[z]);return(0,G.appendParams)(E,y)}};x.prototype.getTilePixelRatio=function(z){return this.hidpi_&&void 0!==this.serverType_?z:1};x.prototype.getKeyForParams_=
function(){var z=0,B=[],M;for(M in this.params_)B[z++]=M+"-"+this.params_[M];return B.join("/")};x.prototype.updateParams=function(z){(0,w.assign)(this.params_,z);this.updateV13_();this.setKey(this.getKeyForParams_())};x.prototype.updateV13_=function(){var z=this.params_.VERSION||l.DEFAULT_WMS_VERSION;this.v13_=0<=(0,g.compareVersions)(z,"1.3")};x.prototype.tileUrlFunction=function(z,B,M){var K=this.getTileGrid();K||(K=this.getTileGridForProjection(M));if(!(K.getResolutions().length<=z[0])){1==B||
this.hidpi_&&void 0!==this.serverType_||(B=1);var D=K.getResolution(z[0]),y=K.getTileCoordExtent(z,this.tmpExtent_);K=(0,t.toSize)(K.getTileSize(z[0]),this.tmpSize);var E=this.gutter_;0!==E&&(K=(0,t.buffer)(K,E,this.tmpSize),y=(0,v.buffer)(y,D*E,y));1!=B&&(K=(0,t.scale)(K,B,this.tmpSize));D={SERVICE:"WMS",VERSION:l.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};(0,w.assign)(D,this.params_);return this.getRequestUrl_(z,K,y,B,M,D)}};return x}(Ia["default"]);J["default"]=A};
shadow$provide[305]=function(Ia,A,mb,J){function m(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=J.CustomTile=void 0;var l=m(A(88)),u=m(A(95));Ia=m(A(255));mb=m(A(269));var G=m(A(117)),L=A(80),w=A(76),v=A(270),t=A(268),k=A(263),g=A(130),d=A(89),f=A(273),a=function(){var n=function(x,z){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,M){B.__proto__=M}||function(B,M){for(var K in M)Object.prototype.hasOwnProperty.call(M,K)&&
(B[K]=M[K])};return n(x,z)};return function(x,z){function B(){this.constructor=x}n(x,z);x.prototype=null===z?Object.create(z):(B.prototype=z.prototype,new B)}}(),e=function(n){function x(z,B,M,K,D,y){z=n.call(this,z,B)||this;z.src_=M;z.extent_=K;z.preemptive_=D;z.grid_=null;z.keys_=null;z.data_=null;z.jsonp_=y;return z}a(x,n);x.prototype.getImage=function(){return null};x.prototype.getData=function(z){if(!this.grid_||!this.keys_)return null;var B=this.grid_[Math.floor((1-(z[1]-this.extent_[1])/(this.extent_[3]-
this.extent_[1]))*this.grid_.length)];if("string"!==typeof B)return null;z=B.charCodeAt(Math.floor((z[0]-this.extent_[0])/(this.extent_[2]-this.extent_[0])*B.length));93<=z&&z--;35<=z&&z--;z-=32;B=null;z in this.keys_&&(z=this.keys_[z],B=this.data_&&z in this.data_?this.data_[z]:z);return B};x.prototype.forDataAtCoordinate=function(z,B,M){this.state==G["default"].EMPTY&&!0===M?(this.state=G["default"].IDLE,(0,d.listenOnce)(this,l["default"].CHANGE,function(K){B(this.getData(z))},this),this.loadInternal_()):
!0===M?setTimeout(function(){B(this.getData(z))}.bind(this),0):B(this.getData(z))};x.prototype.getKey=function(){return this.src_};x.prototype.handleError_=function(){this.state=G["default"].ERROR;this.changed()};x.prototype.handleLoad_=function(z){this.grid_=z.grid;this.keys_=z.keys;this.data_=z.data;this.state=G["default"].LOADED;this.changed()};x.prototype.loadInternal_=function(){if(this.state==G["default"].IDLE)if(this.state=G["default"].LOADING,this.jsonp_)(0,f.jsonp)(this.src_,this.handleLoad_.bind(this),
this.handleError_.bind(this));else{var z=new XMLHttpRequest;z.addEventListener("load",this.onXHRLoad_.bind(this));z.addEventListener("error",this.onXHRError_.bind(this));z.open("GET",this.src_);z.send()}};x.prototype.onXHRLoad_=function(z){z=z.target;if(!z.status||200<=z.status&&300>z.status){var B=void 0;try{B=JSON.parse(z.responseText)}catch(M){this.handleError_();return}this.handleLoad_(B)}else this.handleError_()};x.prototype.onXHRError_=function(z){this.handleError_()};x.prototype.load=function(){this.preemptive_?
this.loadInternal_():this.setState(G["default"].EMPTY)};return x}(Ia["default"]);J.CustomTile=e;A=function(n){function x(z){var B=n.call(this,{projection:(0,g.get)("EPSG:3857"),state:u["default"].LOADING})||this;B.preemptive_=void 0!==z.preemptive?z.preemptive:!0;B.tileUrlFunction_=v.nullTileUrlFunction;B.template_=void 0;B.jsonp_=z.jsonp||!1;if(z.url)if(B.jsonp_)(0,f.jsonp)(z.url,B.handleTileJSONResponse.bind(B),B.handleTileJSONError.bind(B));else{var M=new XMLHttpRequest;M.addEventListener("load",
B.onXHRLoad_.bind(B));M.addEventListener("error",B.onXHRError_.bind(B));M.open("GET",z.url);M.send()}else z.tileJSON?B.handleTileJSONResponse(z.tileJSON):(0,w.assert)(!1,51);return B}a(x,n);x.prototype.onXHRLoad_=function(z){z=z.target;if(!z.status||200<=z.status&&300>z.status){var B=void 0;try{B=JSON.parse(z.responseText)}catch(M){this.handleTileJSONError();return}this.handleTileJSONResponse(B)}else this.handleTileJSONError()};x.prototype.onXHRError_=function(z){this.handleTileJSONError()};x.prototype.getTemplate=
function(){return this.template_};x.prototype.forDataAtCoordinateAndResolution=function(z,B,M,K){this.tileGrid?(B=this.tileGrid.getZForResolution(B,this.zDirection),B=this.tileGrid.getTileCoordForCoordAndZ(z,B),this.getTile(B[0],B[1],B[2],1,this.getProjection()).forDataAtCoordinate(z,M,K)):!0===K?setTimeout(function(){M(null)},0):M(null)};x.prototype.handleTileJSONError=function(){this.setState(u["default"].ERROR)};x.prototype.handleTileJSONResponse=function(z){var B=(0,g.get)("EPSG:4326"),M=this.getProjection();
if(void 0!==z.bounds){var K=(0,g.getTransformFromProjections)(B,M);K=(0,L.applyTransform)(z.bounds,K)}var D=z.minzoom||0,y=z.maxzoom||22;this.tileGrid=M=(0,t.createXYZ)({extent:(0,t.extentFromProjection)(M),maxZoom:y,minZoom:D});this.template_=z.template;if(D=z.grids){this.tileUrlFunction_=(0,v.createFromTemplates)(D,M);if(void 0!==z.attribution){var E=void 0!==K?K:B.getExtent();this.setAttributions(function(H){return(0,L.intersects)(E,H.extent)?[z.attribution]:null})}this.setState(u["default"].READY)}else this.setState(u["default"].ERROR)};
x.prototype.getTile=function(z,B,M,K,D){var y=(0,k.getKeyZXY)(z,B,M);if(this.tileCache.containsKey(y))return this.tileCache.get(y);z=[z,B,M];B=this.getTileCoordForTileUrlFunction(z,D);K=this.tileUrlFunction_(B,K,D);K=new e(z,void 0!==K?G["default"].IDLE:G["default"].EMPTY,void 0!==K?K:"",this.tileGrid.getTileCoordExtent(z),this.preemptive_,this.jsonp_);this.tileCache.set(y,K);return K};x.prototype.useTile=function(z,B,M){z=(0,k.getKeyZXY)(z,B,M);this.tileCache.containsKey(z)&&this.tileCache.get(z)};
return x}(mb["default"]);J["default"]=A};
shadow$provide[306]=function(Ia,A,mb,J){function m(G){return G&&G.__esModule?G:{"default":G}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=m(A(255));var l=m(A(117)),u=function(){var G=function(L,w){G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,t){v.__proto__=t}||function(v,t){for(var k in t)Object.prototype.hasOwnProperty.call(t,k)&&(v[k]=t[k])};return G(L,w)};return function(L,w){function v(){this.constructor=L}G(L,w);L.prototype=null===w?Object.create(w):
(v.prototype=w.prototype,new v)}}();A=function(G){function L(w,v,t,k,g,d){w=G.call(this,w,v,d)||this;w.extent=null;w.format_=k;w.features_=null;w.projection=null;w.tileLoadFunction_=g;w.url_=t;w.key=t;return w}u(L,G);L.prototype.getFormat=function(){return this.format_};L.prototype.getFeatures=function(){return this.features_};L.prototype.load=function(){this.state==l["default"].IDLE&&(this.setState(l["default"].LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,
this.resolution,this.projection))};L.prototype.onLoad=function(w,v){this.setFeatures(w)};L.prototype.onError=function(){this.setState(l["default"].ERROR)};L.prototype.setFeatures=function(w){this.features_=w;this.setState(l["default"].LOADED)};L.prototype.setLoader=function(w){this.loader_=w};return L}(Ia["default"]);J["default"]=A};
shadow$provide[307]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=function(L){return L&&L.__esModule?L:{"default":L}}(A(255));var m=A(103),l=A(74),u=function(){var L=function(w,v){L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,k){t.__proto__=k}||function(t,k){for(var g in k)Object.prototype.hasOwnProperty.call(k,g)&&(t[g]=k[g])};return L(w,v)};return function(w,v){function t(){this.constructor=w}L(w,v);w.prototype=null===v?Object.create(v):
(t.prototype=v.prototype,new t)}}(),G=[];A=function(L){function w(v,t,k,g){v=L.call(this,v,t,{transition:0})||this;v.context_={};v.executorGroups={};v.declutterExecutorGroups={};v.loadingSourceTiles=0;v.errorSourceTileKeys={};v.hitDetectionImageData={};v.replayState_={};v.sourceTiles=null;v.getSourceTiles=g.bind(void 0,v);v.sourceZ=-1;v.hifi=!1;v.wrappedTileCoord=k;return v}u(w,L);w.prototype.getContext=function(v){v=(0,l.getUid)(v);v in this.context_||(this.context_[v]=(0,m.createCanvasContext2D)(1,
1,G));return this.context_[v]};w.prototype.hasContext=function(v){return(0,l.getUid)(v)in this.context_};w.prototype.getImage=function(v){return this.hasContext(v)?this.getContext(v).canvas:null};w.prototype.getReplayState=function(v){v=(0,l.getUid)(v);v in this.replayState_||(this.replayState_[v]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedZ:-1,renderedTileZ:-1});return this.replayState_[v]};w.prototype.load=
function(){this.getSourceTiles()};w.prototype.release=function(){for(var v in this.context_)G.push(this.context_[v].canvas),delete this.context_[v];L.prototype.release.call(this)};return w}(Ia["default"]);J["default"]=A};
shadow$provide[308]=function(Ia,A,mb,J){function m(n){return n&&n.__esModule?n:{"default":n}}function l(n,x){n.setLoader(function(z,B,M){(0,f.loadFeaturesXhr)(x,n.getFormat(),z,B,M,n.onLoad.bind(n),n.onError.bind(n))})}Object.defineProperty(J,"__esModule",{value:!0});J.defaultLoadFunction=l;J["default"]=void 0;var u=m(A(88)),G=m(A(306)),L=m(A(264)),w=m(A(117));Ia=m(A(271));var v=m(A(307)),t=A(80),k=A(268),g=A(72),d=A(263),f=A(241),a=A(154),e=function(){var n=function(x,z){n=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(B,M){B.__proto__=M}||function(B,M){for(var K in M)Object.prototype.hasOwnProperty.call(M,K)&&(B[K]=M[K])};return n(x,z)};return function(x,z){function B(){this.constructor=x}n(x,z);x.prototype=null===z?Object.create(z):(B.prototype=z.prototype,new B)}}();A=function(n){function x(z){var B=z.projection||"EPSG:3857";var M=z.extent||(0,k.extentFromProjection)(B);M=z.tileGrid||(0,k.createXYZ)({extent:M,maxResolution:z.maxResolution,maxZoom:void 0!==z.maxZoom?z.maxZoom:
22,minZoom:z.minZoom,tileSize:z.tileSize||512});B=n.call(this,{attributions:z.attributions,attributionsCollapsible:z.attributionsCollapsible,cacheSize:z.cacheSize,opaque:!1,projection:B,state:z.state,tileGrid:M,tileLoadFunction:z.tileLoadFunction?z.tileLoadFunction:l,tileUrlFunction:z.tileUrlFunction,url:z.url,urls:z.urls,wrapX:void 0===z.wrapX?!0:z.wrapX,transition:z.transition,zDirection:void 0===z.zDirection?1:z.zDirection})||this;B.format_=z.format?z.format:null;B.loadingTiles_={};B.sourceTileCache=
new L["default"](B.tileCache.highWaterMark);B.overlaps_=void 0==z.overlaps?!0:z.overlaps;B.tileClass=z.tileClass?z.tileClass:G["default"];B.tileGrids_={};return B}e(x,n);x.prototype.getFeaturesInExtent=function(z){var B=[],M=this.tileCache;if(0===M.getCount())return B;var K=(0,d.fromKey)(M.peekFirstKey())[0],D=this.tileGrid;M.forEach(function(y){if(y.tileCoord[0]===K&&y.getState()===w["default"].LOADED){y=y.getSourceTiles();for(var E=0,H=y.length;E<H;++E){var Q=y[E],S=Q.tileCoord;if((0,t.intersects)(z,
D.getTileCoordExtent(S))&&(Q=Q.getFeatures())){S=0;for(var ea=Q.length;S<ea;++S){var ba=Q[S],fa=ba.getGeometry();(0,t.intersects)(z,fa.getExtent())&&B.push(ba)}}}}});return B};x.prototype.getOverlaps=function(){return this.overlaps_};x.prototype.clear=function(){this.tileCache.clear();this.sourceTileCache.clear()};x.prototype.expireCache=function(z,B){n.prototype.expireCache.call(this,z,B);this.sourceTileCache.expireCache({})};x.prototype.getSourceTiles=function(z,B,M){var K=M.wrappedTileCoord,D=
this.getTileGridForProjection(B),y=D.getTileCoordExtent(K);K=D.getResolution(K[0]);(0,t.buffer)(y,-K,y);var E=this.tileGrid;(D=E.getExtent())&&(0,t.getIntersection)(y,D,y);var H=E.getZForResolution(K,1);K=E.getMinZoom();D=M.sourceTiles;if(D&&0<D.length&&D[0].tileCoord[0]===H){var Q=D;var S=!0;var ea=H}else{Q=[];ea=H+1;do--ea,S=!0,E.forEachTileCoord(y,ea,function(ba){var fa=this.tileUrlFunction(ba,z,B);if(void 0!==fa)if(this.sourceTileCache.containsKey(fa)){var ia=this.sourceTileCache.get(fa);ba=ia.getState();
if(ba===w["default"].LOADED||ba===w["default"].ERROR||ba===w["default"].EMPTY){Q.push(ia);return}}else ea===H&&(ia=new this.tileClass(ba,w["default"].IDLE,fa,this.format_,this.tileLoadFunction),ia.extent=E.getTileCoordExtent(ba),ia.projection=B,ia.resolution=E.getResolution(ba[0]),this.sourceTileCache.set(fa,ia),ia.addEventListener(u["default"].CHANGE,this.handleTileChange.bind(this)),ia.load());S=S&&ia&&ia.getState()===w["default"].LOADED;ia&&ia.getState()!==w["default"].EMPTY&&M.getState()===w["default"].IDLE&&
(M.loadingSourceTiles++,ia.addEventListener(u["default"].CHANGE,function N(){var C=ia.getState(),W=ia.getKey();if(C===w["default"].LOADED||C===w["default"].ERROR)C===w["default"].LOADED?(ia.removeEventListener(u["default"].CHANGE,N),M.loadingSourceTiles--,delete M.errorSourceTileKeys[W]):C===w["default"].ERROR&&(M.errorSourceTileKeys[W]=!0),C=Object.keys(M.errorSourceTileKeys).length,0===M.loadingSourceTiles-C&&(M.hifi=0===C,M.sourceZ=H,M.setState(w["default"].LOADED))}))}.bind(this)),S||(Q.length=
0);while(!S&&ea>K)}M.getState()===w["default"].IDLE&&M.setState(w["default"].LOADING);S&&(M.hifi=H===ea,M.sourceZ=ea,M.getState()<w["default"].LOADED?M.setState(w["default"].LOADED):D&&(0,g.equals)(Q,D)||(M.sourceTiles=Q));return Q};x.prototype.getTile=function(z,B,M,K,D){var y=(0,d.getKeyZXY)(z,B,M),E=this.getKey();if(this.tileCache.containsKey(y)){var H=this.tileCache.get(y);if(H.key===E)return H}B=[z,B,M];M=this.getTileCoordForTileUrlFunction(B,D);var Q=this.getTileGrid().getExtent(),S=this.getTileGridForProjection(D);
if(M&&Q){var ea=S.getTileCoordExtent(M);(0,t.buffer)(ea,-S.getResolution(z),ea);(0,t.intersects)(Q,ea)||(M=null)}var ba=!0;null!==M&&(Q=this.tileGrid,z=S.getResolution(z),ea=Q.getZForResolution(z,1),S=S.getTileCoordExtent(M),(0,t.buffer)(S,-z,S),Q.forEachTileCoord(S,ea,function(fa){ba=ba&&!this.tileUrlFunction(fa,K,D)}.bind(this)));B=new v["default"](B,ba?w["default"].EMPTY:w["default"].IDLE,M,this.getSourceTiles.bind(this,K,D));B.key=E;H?(B.interimTile=H,B.refreshInterimChain(),this.tileCache.replace(y,
B)):this.tileCache.set(y,B);return B};x.prototype.getTileGridForProjection=function(z){var B=z.getCode(),M=this.tileGrids_[B];M||(M=this.tileGrid,M=(0,k.createForProjection)(z,void 0,M?M.getTileSize(M.getMinZoom()):void 0),this.tileGrids_[B]=M);return M};x.prototype.getTilePixelRatio=function(z){return z};x.prototype.getTilePixelSize=function(z,B,M){M=this.getTileGridForProjection(M);z=(0,a.toSize)(M.getTileSize(z),this.tmpSize);return[Math.round(z[0]*B),Math.round(z[1]*B)]};x.prototype.updateCacheSize=
function(z,B){n.prototype.updateCacheSize.call(this,2*z,B)};return x}(Ia["default"]);J["default"]=A};
shadow$provide[309]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={KVP:"KVP",REST:"REST"}};
shadow$provide[310]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J.createFromCapabilitiesMatrixSet=function(L,w,v){var t=[],k=[],g=[],d=[],f=[],a=void 0!==v?v:[];v=L.SupportedCRS;v=(0,l.get)(v);var e=v.getMetersPerUnit(),n="ne"==v.getAxisOrientation().substr(0,2);L.TileMatrix.sort(function(x,z){return z.ScaleDenominator-x.ScaleDenominator});L.TileMatrix.forEach(function(x){if(0<a.length?(0,m.find)(a,function(K){return x.Identifier==K.TileMatrix?!0:-1===x.Identifier.indexOf(":")?
L.Identifier+":"+x.Identifier===K.TileMatrix:!1}):1){k.push(x.Identifier);var z=2.8E-4*x.ScaleDenominator/e,B=x.TileWidth,M=x.TileHeight;n?g.push([x.TopLeftCorner[1],x.TopLeftCorner[0]]):g.push(x.TopLeftCorner);t.push(z);d.push(B==M?B:[B,M]);f.push([x.MatrixWidth,x.MatrixHeight])}});return new G({extent:w,origins:g,resolutions:t,matrixIds:k,tileSizes:d,sizes:f})};J["default"]=void 0;Ia=function(L){return L&&L.__esModule?L:{"default":L}}(A(267));var m=A(72),l=A(130),u=function(){var L=function(w,v){L=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,k){t.__proto__=k}||function(t,k){for(var g in k)Object.prototype.hasOwnProperty.call(k,g)&&(t[g]=k[g])};return L(w,v)};return function(w,v){function t(){this.constructor=w}L(w,v);w.prototype=null===v?Object.create(v):(t.prototype=v.prototype,new t)}}(),G=function(L){function w(v){var t=L.call(this,{extent:v.extent,origin:v.origin,origins:v.origins,resolutions:v.resolutions,tileSize:v.tileSize,tileSizes:v.tileSizes,sizes:v.sizes})||
this;t.matrixIds_=v.matrixIds;return t}u(w,L);w.prototype.getMatrixId=function(v){return this.matrixIds_[v]};w.prototype.getMatrixIds=function(){return this.matrixIds_};return w}(Ia["default"]);J["default"]=G};
shadow$provide[311]=function(Ia,A,mb,J){function m(g){return g&&g.__esModule?g:{"default":g}}Object.defineProperty(J,"__esModule",{value:!0});J.optionsFromCapabilities=function(g,d){var f=g.Contents.Layer;f=(0,t.find)(f,function(ea,ba,fa){return ea.Identifier==d.layer});if(null===f)return null;var a=g.Contents.TileMatrixSet;var e=1<f.TileMatrixSetLink.length?"projection"in d?(0,t.findIndex)(f.TileMatrixSetLink,function(ea,ba,fa){ba=(0,t.find)(a,function(ca){return ca.Identifier==ea.TileMatrixSet}).SupportedCRS;
fa=(0,v.get)(ba);var ia=(0,v.get)(d.projection);return fa&&ia?(0,v.equivalent)(fa,ia):ba==d.projection}):(0,t.findIndex)(f.TileMatrixSetLink,function(ea,ba,fa){return ea.TileMatrixSet==d.matrixSet}):0;0>e&&(e=0);var n=f.TileMatrixSetLink[e].TileMatrixSet,x=f.TileMatrixSetLink[e].TileMatrixSetLimits,z=f.Format[0];"format"in d&&(z=d.format);e=(0,t.findIndex)(f.Style,function(ea,ba,fa){return"style"in d?ea.Title==d.style:ea.isDefault});0>e&&(e=0);e=f.Style[e].Identifier;var B={};"Dimension"in f&&f.Dimension.forEach(function(ea,
ba,fa){ba=ea.Identifier;fa=ea.Default;void 0===fa&&(fa=ea.Value[0]);B[ba]=fa});var M=g.Contents.TileMatrixSet,K=(0,t.find)(M,function(ea,ba,fa){return ea.Identifier==n}),D;(M=K.SupportedCRS)&&(D=(0,v.get)(M));"projection"in d&&(M=(0,v.get)(d.projection),!M||D&&!(0,v.equivalent)(M,D)||(D=M));var y="ne"==D.getAxisOrientation().substr(0,2);M=K.TileMatrix[0];var E={MinTileCol:0,MinTileRow:0,MaxTileCol:M.MatrixWidth-1,MaxTileRow:M.MatrixHeight-1};if(x){E=x[x.length-1];var H=(0,t.find)(K.TileMatrix,function(ea){return ea.Identifier===
E.TileMatrix||K.Identifier+":"+ea.Identifier===E.TileMatrix});H&&(M=H)}H=2.8E-4*M.ScaleDenominator/D.getMetersPerUnit();y=y?[M.TopLeftCorner[1],M.TopLeftCorner[0]]:M.TopLeftCorner;var Q=M.TileWidth*H;M=M.TileHeight*H;M=[y[0]+Q*E.MinTileCol,y[1]-M*(1+E.MaxTileRow),y[0]+Q*(1+E.MaxTileCol),y[1]-M*E.MinTileRow];null===D.getExtent()&&D.setExtent(M);x=(0,L.createFromCapabilitiesMatrixSet)(K,M,x);var S=[];M=d.requestEncoding;M=void 0!==M?M:"";if("OperationsMetadata"in g&&"GetTile"in g.OperationsMetadata)for(g=
g.OperationsMetadata.GetTile.DCP.HTTP.Get,H=0,y=g.length;H<y;++H)if(g[H].Constraint)if(Q=(0,t.find)(g[H].Constraint,function(ea){return"GetEncoding"==ea.name}).AllowedValues.Value,""===M&&(M=Q[0]),M===l["default"].KVP)(0,t.includes)(Q,l["default"].KVP)&&S.push(g[H].href);else break;else g[H].href&&(M=l["default"].KVP,S.push(g[H].href));0===S.length&&(M=l["default"].REST,f.ResourceURL.forEach(function(ea){"tile"===ea.resourceType&&(z=ea.format,S.push(ea.template))}));return{urls:S,layer:d.layer,matrixSet:n,
format:z,projection:D,requestEncoding:M,tileGrid:x,style:e,dimensions:B,wrapX:!1,crossOrigin:d.crossOrigin}};J["default"]=void 0;Ia=m(A(272));var l=m(A(309)),u=A(283),G=A(86),L=A(310),w=A(270),v=A(130),t=A(72),k=function(){var g=function(d,f){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])};return g(d,f)};return function(d,f){function a(){this.constructor=d}g(d,f);d.prototype=
null===f?Object.create(f):(a.prototype=f.prototype,new a)}}();A=function(g){function d(f){var a=void 0!==f.requestEncoding?f.requestEncoding:l["default"].KVP;var e=f.tileGrid;var n=f.urls;void 0===n&&void 0!==f.url&&(n=(0,w.expandUrl)(f.url));e=g.call(this,{attributions:f.attributions,cacheSize:f.cacheSize,crossOrigin:f.crossOrigin,imageSmoothing:f.imageSmoothing,projection:f.projection,reprojectionErrorThreshold:f.reprojectionErrorThreshold,tileClass:f.tileClass,tileGrid:e,tileLoadFunction:f.tileLoadFunction,
tilePixelRatio:f.tilePixelRatio,urls:n,wrapX:void 0!==f.wrapX?f.wrapX:!1,transition:f.transition})||this;e.version_=void 0!==f.version?f.version:"1.0.0";e.format_=void 0!==f.format?f.format:"image/jpeg";e.dimensions_=void 0!==f.dimensions?f.dimensions:{};e.layer_=f.layer;e.matrixSet_=f.matrixSet;e.style_=f.style;e.requestEncoding_=a;e.setKey(e.getKeyForDimensions_());n&&0<n.length&&(e.tileUrlFunction=(0,w.createFromTileUrlFunctions)(n.map(e.createFromWMTSTemplate.bind(e))));return e}k(d,g);d.prototype.setUrls=
function(f){this.urls=f;var a=f.join("\n");this.setTileUrlFunction((0,w.createFromTileUrlFunctions)(f.map(this.createFromWMTSTemplate.bind(this))),a)};d.prototype.getDimensions=function(){return this.dimensions_};d.prototype.getFormat=function(){return this.format_};d.prototype.getLayer=function(){return this.layer_};d.prototype.getMatrixSet=function(){return this.matrixSet_};d.prototype.getRequestEncoding=function(){return this.requestEncoding_};d.prototype.getStyle=function(){return this.style_};
d.prototype.getVersion=function(){return this.version_};d.prototype.getKeyForDimensions_=function(){var f=0,a=[],e;for(e in this.dimensions_)a[f++]=e+"-"+this.dimensions_[e];return a.join("/")};d.prototype.updateDimensions=function(f){(0,G.assign)(this.dimensions_,f);this.setKey(this.getKeyForDimensions_())};d.prototype.createFromWMTSTemplate=function(f){var a=this.requestEncoding_,e={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};a==l["default"].KVP&&(0,G.assign)(e,{Service:"WMTS",
Request:"GetTile",Version:this.version_,Format:this.format_});f=a==l["default"].KVP?(0,u.appendParams)(f,e):f.replace(/\{(\w+?)\}/g,function(z,B){return B.toLowerCase()in e?e[B.toLowerCase()]:z});var n=this.tileGrid,x=this.dimensions_;return function(z,B,M){if(z){var K={TileMatrix:n.getMatrixId(z[0]),TileCol:z[1],TileRow:z[2]};(0,G.assign)(K,x);z=f;return z=a==l["default"].KVP?(0,u.appendParams)(z,K):z.replace(/\{(\w+?)\}/g,function(D,y){return K[y]})}}};return d}(Ia["default"]);J["default"]=A};
shadow$provide[312]=function(Ia,A,mb,J){function m(fa){return fa&&fa.__esModule?fa:{"default":fa}}Object.defineProperty(J,"__esModule",{value:!0});Object.defineProperty(J,"BingMaps",{enumerable:!0,get:function(){return l["default"]}});Object.defineProperty(J,"CartoDB",{enumerable:!0,get:function(){return u["default"]}});Object.defineProperty(J,"Cluster",{enumerable:!0,get:function(){return G["default"]}});Object.defineProperty(J,"IIIF",{enumerable:!0,get:function(){return L["default"]}});Object.defineProperty(J,
"Image",{enumerable:!0,get:function(){return w["default"]}});Object.defineProperty(J,"ImageArcGISRest",{enumerable:!0,get:function(){return v["default"]}});Object.defineProperty(J,"ImageCanvas",{enumerable:!0,get:function(){return t["default"]}});Object.defineProperty(J,"ImageMapGuide",{enumerable:!0,get:function(){return k["default"]}});Object.defineProperty(J,"ImageStatic",{enumerable:!0,get:function(){return g["default"]}});Object.defineProperty(J,"ImageWMS",{enumerable:!0,get:function(){return d["default"]}});
Object.defineProperty(J,"OSM",{enumerable:!0,get:function(){return f["default"]}});Object.defineProperty(J,"Raster",{enumerable:!0,get:function(){return a["default"]}});Object.defineProperty(J,"Source",{enumerable:!0,get:function(){return e["default"]}});Object.defineProperty(J,"Stamen",{enumerable:!0,get:function(){return n["default"]}});Object.defineProperty(J,"Tile",{enumerable:!0,get:function(){return x["default"]}});Object.defineProperty(J,"TileArcGISRest",{enumerable:!0,get:function(){return z["default"]}});
Object.defineProperty(J,"TileDebug",{enumerable:!0,get:function(){return B["default"]}});Object.defineProperty(J,"TileImage",{enumerable:!0,get:function(){return M["default"]}});Object.defineProperty(J,"TileJSON",{enumerable:!0,get:function(){return K["default"]}});Object.defineProperty(J,"TileWMS",{enumerable:!0,get:function(){return D["default"]}});Object.defineProperty(J,"UrlTile",{enumerable:!0,get:function(){return y["default"]}});Object.defineProperty(J,"UTFGrid",{enumerable:!0,get:function(){return E["default"]}});
Object.defineProperty(J,"Vector",{enumerable:!0,get:function(){return H["default"]}});Object.defineProperty(J,"VectorTile",{enumerable:!0,get:function(){return Q["default"]}});Object.defineProperty(J,"WMTS",{enumerable:!0,get:function(){return S["default"]}});Object.defineProperty(J,"XYZ",{enumerable:!0,get:function(){return ea["default"]}});Object.defineProperty(J,"Zoomify",{enumerable:!0,get:function(){return ba["default"]}});var l=m(A(274)),u=m(A(276)),G=m(A(277)),L=m(A(280)),w=m(A(282)),v=m(A(284)),
t=m(A(286)),k=m(A(287)),g=m(A(288)),d=m(A(290)),f=m(A(291)),a=m(A(299)),e=m(A(238)),n=m(A(300)),x=m(A(269)),z=m(A(301)),B=m(A(302)),M=m(A(272)),K=m(A(303)),D=m(A(304)),y=m(A(271)),E=m(A(305)),H=m(A(242)),Q=m(A(308)),S=m(A(311)),ea=m(A(275)),ba=m(A(278))};
shadow$provide[313]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J.toContext=function(w,v){var t=w.canvas,k=v?v:{};v=k.pixelRatio||l.DEVICE_PIXEL_RATIO;if(k=k.size)t.width=k[0]*v,t.height=k[1]*v,t.style.width=k[0]+"px",t.style.height=k[1]+"px";t=[0,0,t.width,t.height];k=(0,u.scale)((0,u.create)(),v,v);return new m["default"](w,v,t,k,0)};J.getVectorContext=function(w){var v=w.frameState,t=(0,u.multiply)(w.inversePixelTransform.slice(),v.coordinateToPixelTransform),k=(0,G.getSquaredTolerance)(v.viewState.resolution,
v.pixelRatio),g,d=(0,L.getUserProjection)();d&&(g=(0,L.getTransformFromProjections)(d,v.viewState.projection));return new m["default"](w.context,v.pixelRatio,v.extent,t,v.viewState.rotation,k,g)};J.getRenderPixel=function(w,v){v=v.slice(0);(0,u.apply)(w.inversePixelTransform.slice(),v);return v};var m=function(w){return w&&w.__esModule?w:{"default":w}}(A(224)),l=A(102),u=A(77),G=A(234),L=A(130)};
shadow$provide[314]=function(Ia,A,mb,J){function m(G,L,w){for(var v=[],t=G(0),k=G(1),g=L(t),d=L(k),f=[k,t],a=[d,g],e=[1,0],n={},x=1E5,z,B,M,K,D;0<--x&&0<e.length;)M=e.pop(),t=f.pop(),g=a.pop(),k=M.toString(),k in n||(v.push(g[0],g[1]),n[k]=!0),K=e.pop(),k=f.pop(),d=a.pop(),D=(M+K)/2,z=G(D),B=L(z),(0,u.squaredSegmentDistance)(B[0],B[1],g[0],g[1],d[0],d[1])<w?(v.push(d[0],d[1]),k=K.toString(),n[k]=!0):(e.push(K,D,D,M),a.push(d,B,B,g),f.push(k,z,z,t));return v}Object.defineProperty(J,"__esModule",{value:!0});
J.greatCircleArc=function(G,L,w,v,t,k){var g=(0,l.get)("EPSG:4326"),d=Math.cos((0,u.toRadians)(L)),f=Math.sin((0,u.toRadians)(L)),a=Math.cos((0,u.toRadians)(v)),e=Math.sin((0,u.toRadians)(v)),n=Math.cos((0,u.toRadians)(w-G)),x=Math.sin((0,u.toRadians)(w-G)),z=f*e+d*a*n;return m(function(B){if(1<=z)return[w,v];var M=B*Math.acos(z);B=Math.cos(M);var K=Math.sin(M),D=Math.atan2(x*a,d*e-f*a*n);M=Math.asin(f*B+d*K*Math.cos(D));B=(0,u.toRadians)(G)+Math.atan2(Math.sin(D)*K*d,B-f*Math.sin(M));return[(0,u.toDegrees)(B),
(0,u.toDegrees)(M)]},(0,l.getTransform)(g,t),k)};J.meridian=function(G,L,w,v,t){var k=(0,l.get)("EPSG:4326");return m(function(g){return[G,L+(w-L)*g]},(0,l.getTransform)(k,v),t)};J.parallel=function(G,L,w,v,t){var k=(0,l.get)("EPSG:4326");return m(function(g){return[L+(w-L)*g,G]},(0,l.getTransform)(k,v),t)};var l=A(130),u=A(81)};
shadow$provide[315]=function(Ia,A,mb,J){function m(E){return E&&E.__esModule?E:{"default":E}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(A(107)),u=m(A(94)),G=m(A(190)),L=m(A(204)),w=m(A(135)),v=m(A(193)),t=m(A(145)),k=m(A(205)),g=m(A(206)),d=m(A(231));Ia=m(A(236));var f=m(A(242)),a=A(80),e=A(86),n=A(81),x=A(98),z=A(130),B=A(313),M=A(314),K=function(){var E=function(H,Q){E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,ea){S.__proto__=ea}||function(S,
ea){for(var ba in ea)Object.prototype.hasOwnProperty.call(ea,ba)&&(S[ba]=ea[ba])};return E(H,Q)};return function(H,Q){function S(){this.constructor=H}E(H,Q);H.prototype=null===Q?Object.create(Q):(S.prototype=Q.prototype,new S)}}(),D=new k["default"]({color:"rgba(0,0,0,0.2)"}),y=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001];A=function(E){function H(Q){var S=this;Q=Q?Q:{};S=(0,e.assign)({updateWhileAnimating:!0,updateWhileInteracting:!0,renderBuffer:0},Q);delete S.maxLines;delete S.strokeStyle;
delete S.targetSize;delete S.showLabels;delete S.lonLabelFormatter;delete S.latLabelFormatter;delete S.lonLabelPosition;delete S.latLabelPosition;delete S.lonLabelStyle;delete S.latLabelStyle;delete S.intervals;S=E.call(this,S)||this;S.projection_=null;S.maxLat_=Infinity;S.maxLon_=Infinity;S.minLat_=-Infinity;S.minLon_=-Infinity;S.maxX_=Infinity;S.maxY_=Infinity;S.minX_=-Infinity;S.minY_=-Infinity;S.targetSize_=void 0!==Q.targetSize?Q.targetSize:100;S.maxLines_=void 0!==Q.maxLines?Q.maxLines:100;
S.meridians_=[];S.parallels_=[];S.strokeStyle_=void 0!==Q.strokeStyle?Q.strokeStyle:D;S.fromLonLatTransform_=void 0;S.toLonLatTransform_=void 0;S.projectionCenterLonLat_=null;S.bottomLeft_=null;S.bottomRight_=null;S.topLeft_=null;S.topRight_=null;S.meridiansLabels_=null;S.parallelsLabels_=null;Q.showLabels&&(S.lonLabelFormatter_=void 0==Q.lonLabelFormatter?x.degreesToStringHDMS.bind(S,"EW"):Q.lonLabelFormatter,S.latLabelFormatter_=void 0==Q.latLabelFormatter?x.degreesToStringHDMS.bind(S,"NS"):Q.latLabelFormatter,
S.lonLabelPosition_=void 0==Q.lonLabelPosition?0:Q.lonLabelPosition,S.latLabelPosition_=void 0==Q.latLabelPosition?1:Q.latLabelPosition,S.lonLabelStyleBase_=new g["default"]({text:void 0!==Q.lonLabelStyle?Q.lonLabelStyle.clone():new d["default"]({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new L["default"]({color:"rgba(0,0,0,1)"}),stroke:new k["default"]({color:"rgba(255,255,255,1)",width:3})})}),S.lonLabelStyle_=function(ea){ea=ea.get("graticule_label");this.lonLabelStyleBase_.getText().setText(ea);
return this.lonLabelStyleBase_}.bind(S),S.latLabelStyleBase_=new g["default"]({text:void 0!==Q.latLabelStyle?Q.latLabelStyle.clone():new d["default"]({font:"12px Calibri,sans-serif",textAlign:"right",fill:new L["default"]({color:"rgba(0,0,0,1)"}),stroke:new k["default"]({color:"rgba(255,255,255,1)",width:3})})}),S.latLabelStyle_=function(ea){ea=ea.get("graticule_label");this.latLabelStyleBase_.getText().setText(ea);return this.latLabelStyleBase_}.bind(S),S.meridiansLabels_=[],S.parallelsLabels_=[],
S.addEventListener(u["default"].POSTRENDER,S.drawLabels_.bind(S)));S.intervals_=void 0!==Q.intervals?Q.intervals:y;S.setSource(new f["default"]({loader:S.loaderFunction.bind(S),strategy:S.strategyFunction.bind(S),features:new l["default"],overlaps:!1,useSpatialIndex:!1,wrapX:Q.wrapX}));S.featurePool_=[];S.lineStyle_=new g["default"]({stroke:S.strokeStyle_});S.loadedExtent_=null;S.renderedExtent_=null;S.setRenderOrder(null);return S}K(H,E);H.prototype.strategyFunction=function(Q,S){Q=Q.slice();this.projection_&&
this.getSource().getWrapX()&&(0,a.wrapX)(Q,this.projection_);this.loadedExtent_&&((0,a.approximatelyEquals)(this.loadedExtent_,Q,S)?Q=this.loadedExtent_.slice():this.getSource().removeLoadedExtent(this.loadedExtent_));return[Q]};H.prototype.loaderFunction=function(Q,S,ea){this.loadedExtent_=Q;var ba=this.getSource(),fa=this.getExtent()||[-Infinity,-Infinity,Infinity,Infinity];Q=(0,a.getIntersection)(fa,Q);if(!this.renderedExtent_||!(0,a.equals)(this.renderedExtent_,Q))if(this.renderedExtent_=Q,!(0,
a.isEmpty)(Q)){fa=(0,a.getCenter)(Q);var ia=S*S/4;this.projection_&&(0,z.equivalent)(this.projection_,ea)||this.updateProjectionInfo_(ea);this.createGraticule_(Q,fa,S,ia);ea=this.meridians_.length+this.parallels_.length;this.meridiansLabels_&&(ea+=this.meridians_.length);for(this.parallelsLabels_&&(ea+=this.parallels_.length);ea>this.featurePool_.length;)S=new G["default"],this.featurePool_.push(S);ba=ba.getFeaturesCollection();ba.clear();Q=ea=0;for(fa=this.meridians_.length;Q<fa;++Q)S=this.featurePool_[ea++],
S.setGeometry(this.meridians_[Q]),S.setStyle(this.lineStyle_),ba.push(S);Q=0;for(fa=this.parallels_.length;Q<fa;++Q)S=this.featurePool_[ea++],S.setGeometry(this.parallels_[Q]),S.setStyle(this.lineStyle_),ba.push(S)}};H.prototype.addMeridian_=function(Q,S,ea,ba,fa,ia){S=this.getMeridian_(Q,S,ea,ba,ia);(0,a.intersects)(S.getExtent(),fa)&&(this.meridiansLabels_&&(Q=this.lonLabelFormatter_(Q),ia in this.meridiansLabels_?this.meridiansLabels_[ia].text=Q:this.meridiansLabels_[ia]={geom:new t["default"]([]),
text:Q}),this.meridians_[ia++]=S);return ia};H.prototype.addParallel_=function(Q,S,ea,ba,fa,ia){S=this.getParallel_(Q,S,ea,ba,ia);(0,a.intersects)(S.getExtent(),fa)&&(this.parallelsLabels_&&(Q=this.latLabelFormatter_(Q),ia in this.parallelsLabels_?this.parallelsLabels_[ia].text=Q:this.parallelsLabels_[ia]={geom:new t["default"]([]),text:Q}),this.parallels_[ia++]=S);return ia};H.prototype.drawLabels_=function(Q){var S=Q.frameState.viewState.rotation,ea=Q.frameState.extent,ba=(0,a.getCenter)(ea),fa=
ea;if(S){var ia=(0,a.getWidth)(ea),ca=(0,a.getHeight)(ea),N=Math.abs(Math.cos(S)),C=Math.abs(Math.sin(S));fa=(C*ca-N*ia)/(C*C-N*N);ia=(C*ia-N*ca)/(C*C-N*N);fa=[ba[0]-fa/2,ba[1]-ia/2,ba[0]+fa/2,ba[1]+ia/2]}ca=ia=0;N=.5>this.latLabelPosition_;var W=this.projection_.getExtent();C=(0,a.getWidth)(W);this.getSource().getWrapX()&&this.projection_.canWrapX()&&!(0,a.containsExtent)(W,ea)&&(ia=Math.floor((ea[0]-W[0])/C),ca=Math.ceil((ea[2]-W[2])/C),N=N!==Math.abs(S)>Math.PI/2);Q=(0,B.getVectorContext)(Q);for(W=
ia;W<=ca;++W){var ha=this.meridians_.length+this.parallels_.length,Y;if(this.meridiansLabels_){var wa=0;for(Y=this.meridiansLabels_.length;wa<Y;++wa){var xa=this.meridians_[wa];if(S||0!==W){xa=xa.clone();xa.translate(W*C,0);xa.rotate(-S,ba);var Ha=this.getMeridianPoint_(xa,fa,wa);Ha.rotate(S,ba)}else Ha=this.getMeridianPoint_(xa,ea,wa);xa=this.featurePool_[ha++];xa.setGeometry(Ha);xa.set("graticule_label",this.meridiansLabels_[wa].text);Q.drawFeature(xa,this.lonLabelStyle_(xa))}}if(this.parallelsLabels_&&
(W===ia&&N||W===ca&&!N))for(wa=0,Y=this.parallels_.length;wa<Y;++wa)xa=this.parallels_[wa],S||0!==W?(xa=xa.clone(),xa.translate(W*C,0),xa.rotate(-S,ba),Ha=this.getParallelPoint_(xa,fa,wa),Ha.rotate(S,ba)):Ha=this.getParallelPoint_(xa,ea,wa),xa=this.featurePool_[ha++],xa.setGeometry(Ha),xa.set("graticule_label",this.parallelsLabels_[wa].text),Q.drawFeature(xa,this.latLabelStyle_(xa))}};H.prototype.createGraticule_=function(Q,S,ea,ba){ea=this.getInterval_(ea);if(-1==ea)this.meridians_.length=0,this.parallels_.length=
0,this.meridiansLabels_&&(this.meridiansLabels_.length=0),this.parallelsLabels_&&(this.parallelsLabels_.length=0);else{var fa=!1,ia=this.projection_.getExtent(),ca=(0,a.getWidth)(ia);this.getSource().getWrapX()&&this.projection_.canWrapX()&&!(0,a.containsExtent)(ia,Q)&&((0,a.getWidth)(Q)>=ca?(Q[0]=ia[0],Q[2]=ia[2]):fa=!0);S=[(0,n.clamp)(S[0],this.minX_,this.maxX_),(0,n.clamp)(S[1],this.minY_,this.maxY_)];ia=this.toLonLatTransform_(S);isNaN(ia[1])&&(ia[1]=Math.abs(this.maxLat_)>=Math.abs(this.minLat_)?
this.maxLat_:this.minLat_);S=(0,n.clamp)(ia[0],this.minLon_,this.maxLon_);ia=(0,n.clamp)(ia[1],this.minLat_,this.maxLat_);ca=this.maxLines_;var N=Q;fa||(N=[(0,n.clamp)(Q[0],this.minX_,this.maxX_),(0,n.clamp)(Q[1],this.minY_,this.maxY_),(0,n.clamp)(Q[2],this.minX_,this.maxX_),(0,n.clamp)(Q[3],this.minY_,this.maxY_)]);var C=(0,a.applyTransform)(N,this.toLonLatTransform_,void 0,8),W=C[3],ha=C[2],Y=C[1];C=C[0];fa||((0,a.containsCoordinate)(N,this.bottomLeft_)&&(C=this.minLon_,Y=this.minLat_),(0,a.containsCoordinate)(N,
this.bottomRight_)&&(ha=this.maxLon_,Y=this.minLat_),(0,a.containsCoordinate)(N,this.topLeft_)&&(C=this.minLon_,W=this.maxLat_),(0,a.containsCoordinate)(N,this.topRight_)&&(ha=this.maxLon_,W=this.maxLat_),W=(0,n.clamp)(W,ia,this.maxLat_),ha=(0,n.clamp)(ha,S,this.maxLon_),Y=(0,n.clamp)(Y,this.minLat_,ia),C=(0,n.clamp)(C,this.minLon_,S));S=Math.floor(S/ea)*ea;var wa=(0,n.clamp)(S,this.minLon_,this.maxLon_);var xa=this.addMeridian_(wa,Y,W,ba,Q,0);N=0;if(fa)for(;(wa-=ea)>=C&&N++<ca;)xa=this.addMeridian_(wa,
Y,W,ba,Q,xa);else for(;wa!=this.minLon_&&N++<ca;)wa=Math.max(wa-ea,this.minLon_),xa=this.addMeridian_(wa,Y,W,ba,Q,xa);wa=(0,n.clamp)(S,this.minLon_,this.maxLon_);N=0;if(fa)for(;(wa+=ea)<=ha&&N++<ca;)xa=this.addMeridian_(wa,Y,W,ba,Q,xa);else for(;wa!=this.maxLon_&&N++<ca;)wa=Math.min(wa+ea,this.maxLon_),xa=this.addMeridian_(wa,Y,W,ba,Q,xa);this.meridians_.length=xa;this.meridiansLabels_&&(this.meridiansLabels_.length=xa);ia=Math.floor(ia/ea)*ea;fa=(0,n.clamp)(ia,this.minLat_,this.maxLat_);xa=this.addParallel_(fa,
C,ha,ba,Q,0);for(N=0;fa!=this.minLat_&&N++<ca;)fa=Math.max(fa-ea,this.minLat_),xa=this.addParallel_(fa,C,ha,ba,Q,xa);fa=(0,n.clamp)(ia,this.minLat_,this.maxLat_);for(N=0;fa!=this.maxLat_&&N++<ca;)fa=Math.min(fa+ea,this.maxLat_),xa=this.addParallel_(fa,C,ha,ba,Q,xa);this.parallels_.length=xa;this.parallelsLabels_&&(this.parallelsLabels_.length=xa)}};H.prototype.getInterval_=function(Q){var S=this.projectionCenterLonLat_[0],ea=this.projectionCenterLonLat_[1],ba=-1;Q=Math.pow(this.targetSize_*Q,2);for(var fa=
[],ia=[],ca=0,N=this.intervals_.length;ca<N;++ca){var C=(0,n.clamp)(this.intervals_[ca]/2,0,90),W=(0,n.clamp)(ea,-90+C,90-C);fa[0]=S-C;fa[1]=W-C;ia[0]=S+C;ia[1]=W+C;this.fromLonLatTransform_(fa,fa);this.fromLonLatTransform_(ia,ia);if(Math.pow(ia[0]-fa[0],2)+Math.pow(ia[1]-fa[1],2)<=Q)break;ba=this.intervals_[ca]}return ba};H.prototype.getMeridian_=function(Q,S,ea,ba,fa){Q=(0,M.meridian)(Q,S,ea,this.projection_,ba);(S=this.meridians_[fa])?(S.setFlatCoordinates(w["default"].XY,Q),S.changed()):(S=new v["default"](Q,
w["default"].XY),this.meridians_[fa]=S);return S};H.prototype.getMeridianPoint_=function(Q,S,ea){Q=Q.getFlatCoordinates();var ba=1,fa=Q.length-1;Q[ba]>Q[fa]&&(ba=fa,fa=1);var ia=Math.max(S[1],Q[ba]),ca=Math.min(S[3],Q[fa]);S=(0,n.clamp)(S[1]+Math.abs(S[1]-S[3])*this.lonLabelPosition_,ia,ca);ea=this.meridiansLabels_[ea].geom;ea.setCoordinates([Q[ba-1]+(Q[fa-1]-Q[ba-1])*(S-Q[ba])/(Q[fa]-Q[ba]),S]);return ea};H.prototype.getMeridians=function(){return this.meridians_};H.prototype.getParallel_=function(Q,
S,ea,ba,fa){Q=(0,M.parallel)(Q,S,ea,this.projection_,ba);(fa=this.parallels_[fa])?(fa.setFlatCoordinates(w["default"].XY,Q),fa.changed()):fa=new v["default"](Q,w["default"].XY);return fa};H.prototype.getParallelPoint_=function(Q,S,ea){Q=Q.getFlatCoordinates();var ba=0,fa=Q.length-2;Q[ba]>Q[fa]&&(ba=fa,fa=0);var ia=Math.max(S[0],Q[ba]),ca=Math.min(S[2],Q[fa]);S=(0,n.clamp)(S[0]+Math.abs(S[0]-S[2])*this.latLabelPosition_,ia,ca);ea=this.parallelsLabels_[ea].geom;ea.setCoordinates([S,Q[ba+1]+(Q[fa+1]-
Q[ba+1])*(S-Q[ba])/(Q[fa]-Q[ba])]);return ea};H.prototype.getParallels=function(){return this.parallels_};H.prototype.updateProjectionInfo_=function(Q){var S=(0,z.get)("EPSG:4326"),ea=Q.getWorldExtent();this.maxLat_=ea[3];this.maxLon_=ea[2];this.minLat_=ea[1];this.minLon_=ea[0];var ba=(0,z.getTransform)(Q,S);if(this.minLon_<this.maxLon_)this.toLonLatTransform_=ba;else{var fa=this.minLon_+this.maxLon_/2;this.maxLon_+=360;this.toLonLatTransform_=function(ia,ca,N){N=N||2;ia=ba(ia,ca,N);ca=0;for(var C=
ia.length;ca<C;ca+=N)ia[ca]<fa&&(ia[ca]+=360);return ia}}this.fromLonLatTransform_=(0,z.getTransform)(S,Q);S=(0,a.applyTransform)([this.minLon_,this.minLat_,this.maxLon_,this.maxLat_],this.fromLonLatTransform_,void 0,8);this.minX_=S[0];this.maxX_=S[2];this.minY_=S[1];this.maxY_=S[3];this.bottomLeft_=this.fromLonLatTransform_([this.minLon_,this.minLat_]);this.bottomRight_=this.fromLonLatTransform_([this.maxLon_,this.minLat_]);this.topLeft_=this.fromLonLatTransform_([this.minLon_,this.maxLat_]);this.topRight_=
this.fromLonLatTransform_([this.maxLon_,this.maxLat_]);this.projectionCenterLonLat_=this.toLonLatTransform_((0,a.getCenter)(Q.getExtent()));isNaN(this.projectionCenterLonLat_[1])&&(this.projectionCenterLonLat_[1]=Math.abs(this.maxLat_)>=Math.abs(this.minLat_)?this.maxLat_:this.minLat_);this.projection_=Q};return H}(Ia["default"]);J["default"]=A};
shadow$provide[316]=function(Ia,A,mb,J){function m(G,L){for(var w=l.length,v=0;v<w;++v)try{var t=G.getContext(l[v],L);if(t)return t}catch(k){}return null}Object.defineProperty(J,"__esModule",{value:!0});J.getContext=m;J.getSupportedExtensions=function(){if(!u){var G=document.createElement("canvas");(G=m(G))&&(u=G.getSupportedExtensions())}return u};J.FLOAT=J.UNSIGNED_INT=J.UNSIGNED_SHORT=J.UNSIGNED_BYTE=J.DYNAMIC_DRAW=J.STATIC_DRAW=J.STREAM_DRAW=J.ELEMENT_ARRAY_BUFFER=J.ARRAY_BUFFER=void 0;J.ARRAY_BUFFER=
34962;J.ELEMENT_ARRAY_BUFFER=34963;J.STREAM_DRAW=35040;J.STATIC_DRAW=35044;J.DYNAMIC_DRAW=35048;J.UNSIGNED_BYTE=5121;J.UNSIGNED_SHORT=5123;J.UNSIGNED_INT=5125;J.FLOAT=5126;var l=["experimental-webgl","webgl","webkit-3d","moz-webgl"],u};
shadow$provide[317]=function(Ia,A,mb,J){function m(L){switch(L){case l.ARRAY_BUFFER:return Float32Array;case l.ELEMENT_ARRAY_BUFFER:return Uint32Array;default:return Float32Array}}Object.defineProperty(J,"__esModule",{value:!0});J.getArrayClassForType=m;J["default"]=J.BufferUsage=void 0;var l=A(316),u=A(76),G={STATIC_DRAW:l.STATIC_DRAW,STREAM_DRAW:l.STREAM_DRAW,DYNAMIC_DRAW:l.DYNAMIC_DRAW};J.BufferUsage=G;Ia=function(){function L(w,v){this.array=null;this.type=w;(0,u.assert)(w===l.ARRAY_BUFFER||w===
l.ELEMENT_ARRAY_BUFFER,62);this.usage=void 0!==v?v:G.STATIC_DRAW}L.prototype.ofSize=function(w){this.array=new (m(this.type))(w)};L.prototype.fromArray=function(w){this.array=m(this.type).from(w)};L.prototype.fromArrayBuffer=function(w){this.array=new (m(this.type))(w)};L.prototype.getType=function(){return this.type};L.prototype.getArray=function(){return this.array};L.prototype.getUsage=function(){return this.usage};L.prototype.getSize=function(){return this.array?this.array.length:0};return L}();
J["default"]=Ia};
shadow$provide[318]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"}};
shadow$provide[319]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=function(){function m(l){var u=this.gl_=l.webGlContext;this.scaleRatio_=l.scaleRatio||1;this.renderTargetTexture_=u.createTexture();this.renderTargetTextureSize_=null;this.frameBuffer_=u.createFramebuffer();var G=u.createShader(u.VERTEX_SHADER);u.shaderSource(G,l.vertexShader||"\n  precision mediump float;\n  \n  attribute vec2 a_position;\n  varying vec2 v_texCoord;\n  varying vec2 v_screenCoord;\n  \n  uniform vec2 u_screenSize;\n   \n  void main() {\n    v_texCoord \x3d a_position * 0.5 + 0.5;\n    v_screenCoord \x3d v_texCoord * u_screenSize;\n    gl_Position \x3d vec4(a_position, 0.0, 1.0);\n  }\n");
u.compileShader(G);var L=u.createShader(u.FRAGMENT_SHADER);u.shaderSource(L,l.fragmentShader||"\n  precision mediump float;\n   \n  uniform sampler2D u_image;\n   \n  varying vec2 v_texCoord;\n   \n  void main() {\n    gl_FragColor \x3d texture2D(u_image, v_texCoord);\n  }\n");u.compileShader(L);this.renderTargetProgram_=u.createProgram();u.attachShader(this.renderTargetProgram_,G);u.attachShader(this.renderTargetProgram_,L);u.linkProgram(this.renderTargetProgram_);this.renderTargetVerticesBuffer_=
u.createBuffer();u.bindBuffer(u.ARRAY_BUFFER,this.renderTargetVerticesBuffer_);u.bufferData(u.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),u.STATIC_DRAW);this.renderTargetAttribLocation_=u.getAttribLocation(this.renderTargetProgram_,"a_position");this.renderTargetUniformLocation_=u.getUniformLocation(this.renderTargetProgram_,"u_screenSize");this.renderTargetTextureLocation_=u.getUniformLocation(this.renderTargetProgram_,"u_image");this.uniforms_=[];l.uniforms&&Object.keys(l.uniforms).forEach(function(w){this.uniforms_.push({value:l.uniforms[w],
location:u.getUniformLocation(this.renderTargetProgram_,w)})}.bind(this))}m.prototype.getGL=function(){return this.gl_};m.prototype.init=function(l){l=this.getGL();var u=[l.drawingBufferWidth*this.scaleRatio_,l.drawingBufferHeight*this.scaleRatio_];l.bindFramebuffer(l.FRAMEBUFFER,this.getFrameBuffer());l.viewport(0,0,u[0],u[1]);if(!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==u[0]||this.renderTargetTextureSize_[1]!==u[1]){this.renderTargetTextureSize_=u;var G=l.RGBA,L=l.RGBA,
w=l.UNSIGNED_BYTE;l.bindTexture(l.TEXTURE_2D,this.renderTargetTexture_);l.texImage2D(l.TEXTURE_2D,0,G,u[0],u[1],0,L,w,null);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.LINEAR);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE);l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,this.renderTargetTexture_,0)}};m.prototype.apply=function(l,u){var G=this.getGL(),L=l.size;G.bindFramebuffer(G.FRAMEBUFFER,
u?u.getFrameBuffer():null);G.activeTexture(G.TEXTURE0);G.bindTexture(G.TEXTURE_2D,this.renderTargetTexture_);G.clearColor(0,0,0,0);G.clear(G.COLOR_BUFFER_BIT);G.enable(G.BLEND);G.blendFunc(G.ONE,G.ONE_MINUS_SRC_ALPHA);G.viewport(0,0,G.drawingBufferWidth,G.drawingBufferHeight);G.bindBuffer(G.ARRAY_BUFFER,this.renderTargetVerticesBuffer_);G.useProgram(this.renderTargetProgram_);G.enableVertexAttribArray(this.renderTargetAttribLocation_);G.vertexAttribPointer(this.renderTargetAttribLocation_,2,G.FLOAT,
!1,0,0);G.uniform2f(this.renderTargetUniformLocation_,L[0],L[1]);G.uniform1i(this.renderTargetTextureLocation_,0);this.applyUniforms(l);G.drawArrays(G.TRIANGLES,0,6)};m.prototype.getFrameBuffer=function(){return this.frameBuffer_};m.prototype.applyUniforms=function(l){var u=this.getGL(),G,L=1;this.uniforms_.forEach(function(w){G="function"===typeof w.value?w.value(l):w.value;if(G instanceof HTMLCanvasElement||G instanceof ImageData)w.texture||(w.texture=u.createTexture()),u.activeTexture(u["TEXTURE"+
L]),u.bindTexture(u.TEXTURE_2D,w.texture),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,u.LINEAR),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE),G instanceof ImageData?u.texImage2D(u.TEXTURE_2D,0,u.RGBA,u.RGBA,G.width,G.height,0,u.UNSIGNED_BYTE,new Uint8Array(G.data)):u.texImage2D(u.TEXTURE_2D,0,u.RGBA,u.RGBA,u.UNSIGNED_BYTE,G),u.uniform1i(w.location,L++);else if(Array.isArray(G))switch(G.length){case 2:u.uniform2f(w.location,
G[0],G[1]);break;case 3:u.uniform3f(w.location,G[0],G[1],G[2]);break;case 4:u.uniform4f(w.location,G[0],G[1],G[2],G[3])}else"number"===typeof G&&u.uniform1f(w.location,G)})};return m}();J["default"]=Ia};
shadow$provide[320]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J.create=function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]};J.fromTransform=function(m,l){m[0]=l[0];m[1]=l[1];m[4]=l[2];m[5]=l[3];m[12]=l[4];m[13]=l[5];return m}};
shadow$provide[321]=function(Ia,A,mb,J){function m(x){return x&&x.__esModule?x:{"default":x}}function l(x){for(var z=0,B=0;B<x.length;B++){var M=x[B];z+=M.size*u(M.type)}return z}function u(x){switch(x){case n.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case n.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case n.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;default:return Float32Array.BYTES_PER_ELEMENT}}Object.defineProperty(J,"__esModule",{value:!0});J.computeAttributesStride=l;J["default"]=
J.AttributeType=J.DefaultUniform=J.ShaderType=void 0;var G=m(A(318));Ia=m(A(71));var L=m(A(319)),w=A(316),v=A(76),t=A(86),k=A(77),g=A(320),d=A(74),f=A(72),a=function(){var x=function(z,B){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,K){M.__proto__=K}||function(M,K){for(var D in K)Object.prototype.hasOwnProperty.call(K,D)&&(M[D]=K[D])};return x(z,B)};return function(z,B){function M(){this.constructor=z}x(z,B);z.prototype=null===B?Object.create(B):(M.prototype=B.prototype,new M)}}();
J.ShaderType={FRAGMENT_SHADER:35632,VERTEX_SHADER:35633};var e={PROJECTION_MATRIX:"u_projectionMatrix",OFFSET_SCALE_MATRIX:"u_offsetScaleMatrix",OFFSET_ROTATION_MATRIX:"u_offsetRotateMatrix",TIME:"u_time",ZOOM:"u_zoom",RESOLUTION:"u_resolution"};J.DefaultUniform=e;var n={UNSIGNED_BYTE:w.UNSIGNED_BYTE,UNSIGNED_SHORT:w.UNSIGNED_SHORT,UNSIGNED_INT:w.UNSIGNED_INT,FLOAT:w.FLOAT};J.AttributeType=n;A=function(x){function z(B){var M=x.call(this)||this;B=B||{};M.boundHandleWebGLContextLost_=M.handleWebGLContextLost.bind(M);
M.boundHandleWebGLContextRestored_=M.handleWebGLContextRestored.bind(M);M.canvas_=document.createElement("canvas");M.canvas_.style.position="absolute";M.canvas_.style.left="0";M.gl_=(0,w.getContext)(M.canvas_);var K=M.getGL();M.bufferCache_={};M.currentProgram_=null;(0,v.assert)((0,f.includes)((0,w.getSupportedExtensions)(),"OES_element_index_uint"),63);K.getExtension("OES_element_index_uint");M.canvas_.addEventListener(G["default"].LOST,M.boundHandleWebGLContextLost_);M.canvas_.addEventListener(G["default"].RESTORED,
M.boundHandleWebGLContextRestored_);M.offsetRotateMatrix_=(0,k.create)();M.offsetScaleMatrix_=(0,k.create)();M.tmpMat4_=(0,g.create)();M.uniformLocations_={};M.attribLocations_={};M.uniforms_=[];if(B.uniforms)for(var D in B.uniforms)M.uniforms_.push({name:D,value:B.uniforms[D]});M.postProcessPasses_=B.postProcesses?B.postProcesses.map(function(y){return new L["default"]({webGlContext:K,scaleRatio:y.scaleRatio,vertexShader:y.vertexShader,fragmentShader:y.fragmentShader,uniforms:y.uniforms})}):[new L["default"]({webGlContext:K})];
M.shaderCompileErrors_=null;M.startTime_=Date.now();return M}a(z,x);z.prototype.bindBuffer=function(B){var M=this.getGL(),K=(0,d.getUid)(B),D=this.bufferCache_[K];D||(D=M.createBuffer(),D={buffer:B,webGlBuffer:D},this.bufferCache_[K]=D);M.bindBuffer(B.getType(),D.webGlBuffer)};z.prototype.flushBufferData=function(B){var M=this.getGL();this.bindBuffer(B);M.bufferData(B.getType(),B.getArray(),B.getUsage())};z.prototype.deleteBuffer=function(B){var M=this.getGL();B=(0,d.getUid)(B);var K=this.bufferCache_[B];
M.isContextLost()||M.deleteBuffer(K.buffer);delete this.bufferCache_[B]};z.prototype.disposeInternal=function(){this.canvas_.removeEventListener(G["default"].LOST,this.boundHandleWebGLContextLost_);this.canvas_.removeEventListener(G["default"].RESTORED,this.boundHandleWebGLContextRestored_)};z.prototype.prepareDraw=function(B){var M=this.getGL(),K=this.getCanvas(),D=B.size,y=B.pixelRatio;K.width=D[0]*y;K.height=D[1]*y;K.style.width=D[0]+"px";K.style.height=D[1]+"px";M.useProgram(this.currentProgram_);
for(K=this.postProcessPasses_.length-1;0<=K;K--)this.postProcessPasses_[K].init(B);M.bindTexture(M.TEXTURE_2D,null);M.clearColor(0,0,0,0);M.clear(M.COLOR_BUFFER_BIT);M.enable(M.BLEND);M.blendFunc(M.ONE,M.ONE_MINUS_SRC_ALPHA);M.useProgram(this.currentProgram_);this.applyFrameState(B);this.applyUniforms(B)};z.prototype.prepareDrawToRenderTarget=function(B,M,K){var D=this.getGL(),y=M.getSize();D.bindFramebuffer(D.FRAMEBUFFER,M.getFramebuffer());D.viewport(0,0,y[0],y[1]);D.bindTexture(D.TEXTURE_2D,M.getTexture());
D.clearColor(0,0,0,0);D.clear(D.COLOR_BUFFER_BIT);D.enable(D.BLEND);D.blendFunc(D.ONE,K?D.ZERO:D.ONE_MINUS_SRC_ALPHA);D.useProgram(this.currentProgram_);this.applyFrameState(B);this.applyUniforms(B)};z.prototype.drawElements=function(B,M){var K=this.getGL();K.drawElements(K.TRIANGLES,M-B,K.UNSIGNED_INT,4*B)};z.prototype.finalizeDraw=function(B){for(var M=0;M<this.postProcessPasses_.length;M++)this.postProcessPasses_[M].apply(B,this.postProcessPasses_[M+1]||null)};z.prototype.getCanvas=function(){return this.canvas_};
z.prototype.getGL=function(){return this.gl_};z.prototype.applyFrameState=function(B){var M=B.size,K=B.viewState.rotation,D=(0,k.reset)(this.offsetScaleMatrix_);(0,k.scale)(D,2/M[0],2/M[1]);M=(0,k.reset)(this.offsetRotateMatrix_);0!==K&&(0,k.rotate)(M,-K);this.setUniformMatrixValue(e.OFFSET_SCALE_MATRIX,(0,g.fromTransform)(this.tmpMat4_,D));this.setUniformMatrixValue(e.OFFSET_ROTATION_MATRIX,(0,g.fromTransform)(this.tmpMat4_,M));this.setUniformFloatValue(e.TIME,.001*(Date.now()-this.startTime_));
this.setUniformFloatValue(e.ZOOM,B.viewState.zoom);this.setUniformFloatValue(e.RESOLUTION,B.viewState.resolution)};z.prototype.applyUniforms=function(B){var M=this.getGL(),K,D=0;this.uniforms_.forEach(function(y){K="function"===typeof y.value?y.value(B):y.value;if(K instanceof HTMLCanvasElement||K instanceof HTMLImageElement||K instanceof ImageData)y.texture||(y.prevValue=void 0,y.texture=M.createTexture()),M.activeTexture(M["TEXTURE"+D]),M.bindTexture(M.TEXTURE_2D,y.texture),M.texParameteri(M.TEXTURE_2D,
M.TEXTURE_MIN_FILTER,M.LINEAR),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_S,M.CLAMP_TO_EDGE),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_T,M.CLAMP_TO_EDGE),K instanceof HTMLImageElement&&!K.complete||y.prevValue===K||(y.prevValue=K,M.texImage2D(M.TEXTURE_2D,0,M.RGBA,M.RGBA,M.UNSIGNED_BYTE,K)),M.uniform1i(this.getUniformLocation(y.name),D++);else if(Array.isArray(K)&&6===K.length)this.setUniformMatrixValue(y.name,(0,g.fromTransform)(this.tmpMat4_,K));else if(Array.isArray(K)&&4>=K.length)switch(K.length){case 2:M.uniform2f(this.getUniformLocation(y.name),
K[0],K[1]);break;case 3:M.uniform3f(this.getUniformLocation(y.name),K[0],K[1],K[2]);break;case 4:M.uniform4f(this.getUniformLocation(y.name),K[0],K[1],K[2],K[3])}else"number"===typeof K&&M.uniform1f(this.getUniformLocation(y.name),K)}.bind(this))};z.prototype.useProgram=function(B){if(B==this.currentProgram_)return!1;this.getGL().useProgram(B);this.currentProgram_=B;this.uniformLocations_={};this.attribLocations_={};return!0};z.prototype.compileShader=function(B,M){var K=this.getGL();M=K.createShader(M);
K.shaderSource(M,B);K.compileShader(M);return M};z.prototype.getProgram=function(B,M){var K=this.getGL();B=this.compileShader(B,K.FRAGMENT_SHADER);M=this.compileShader(M,K.VERTEX_SHADER);this.shaderCompileErrors_=null;K.getShaderInfoLog(B)&&(this.shaderCompileErrors_="Fragment shader compilation failed:\n"+K.getShaderInfoLog(B));K.getShaderInfoLog(M)&&(this.shaderCompileErrors_=(this.shaderCompileErrors_||"")+("Vertex shader compilation failed:\n"+K.getShaderInfoLog(M)));var D=K.createProgram();K.attachShader(D,
B);K.attachShader(D,M);K.linkProgram(D);return D};z.prototype.getShaderCompileErrors=function(){return this.shaderCompileErrors_};z.prototype.getUniformLocation=function(B){void 0===this.uniformLocations_[B]&&(this.uniformLocations_[B]=this.getGL().getUniformLocation(this.currentProgram_,B));return this.uniformLocations_[B]};z.prototype.getAttributeLocation=function(B){void 0===this.attribLocations_[B]&&(this.attribLocations_[B]=this.getGL().getAttribLocation(this.currentProgram_,B));return this.attribLocations_[B]};
z.prototype.makeProjectionTransform=function(B,M){var K=B.size,D=B.viewState.rotation,y=B.viewState.resolution;B=B.viewState.center;(0,k.reset)(M);(0,k.compose)(M,0,0,2/(y*K[0]),2/(y*K[1]),-D,-B[0],-B[1]);return M};z.prototype.setUniformFloatValue=function(B,M){this.getGL().uniform1f(this.getUniformLocation(B),M)};z.prototype.setUniformMatrixValue=function(B,M){this.getGL().uniformMatrix4fv(this.getUniformLocation(B),!1,M)};z.prototype.enableAttributeArray_=function(B,M,K,D,y){B=this.getAttributeLocation(B);
0>B||(this.getGL().enableVertexAttribArray(B),this.getGL().vertexAttribPointer(B,M,K,!1,D,y))};z.prototype.enableAttributes=function(B){for(var M=l(B),K=0,D=0;D<B.length;D++){var y=B[D];this.enableAttributeArray_(y.name,y.size,y.type||w.FLOAT,M,K);K+=y.size*u(y.type)}};z.prototype.handleWebGLContextLost=function(){(0,t.clear)(this.bufferCache_);this.currentProgram_=null};z.prototype.handleWebGLContextRestored=function(){};z.prototype.createTexture=function(B,M,K){var D=this.getGL();K=K||D.createTexture();
var y=D.RGBA,E=D.RGBA,H=D.UNSIGNED_BYTE;D.bindTexture(D.TEXTURE_2D,K);M?D.texImage2D(D.TEXTURE_2D,0,y,E,H,M):D.texImage2D(D.TEXTURE_2D,0,y,B[0],B[1],0,E,H,null);D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MIN_FILTER,D.LINEAR);D.texParameteri(D.TEXTURE_2D,D.TEXTURE_WRAP_S,D.CLAMP_TO_EDGE);D.texParameteri(D.TEXTURE_2D,D.TEXTURE_WRAP_T,D.CLAMP_TO_EDGE);return K};return z}(Ia["default"]);J["default"]=A};
shadow$provide[322]=function(Ia,A,mb,J){function m(k){return k&&k.__esModule?k:{"default":k}}function l(k,g,d,f,a){k[g+0]=d;k[g+1]=f;k[g+2]=a}Object.defineProperty(J,"__esModule",{value:!0});J.writePointFeatureToBuffers=function(k,g,d,f,a,e){var n=3+a,x=k[g+0],z=k[g+1],B=v;B.length=a;for(a=0;a<B.length;a++)B[a]=k[g+2+a];k=e?e.vertexPosition:0;e=e?e.indexPosition:0;g=k/n;l(d,k,x,z,0);B.length&&d.set(B,k+3);k+=n;l(d,k,x,z,1);B.length&&d.set(B,k+3);k+=n;l(d,k,x,z,2);B.length&&d.set(B,k+3);k+=n;l(d,k,
x,z,3);B.length&&d.set(B,k+3);f[e++]=g;f[e++]=g+1;f[e++]=g+3;f[e++]=g+1;f[e++]=g+2;f[e++]=g+3;t.vertexPosition=k+n;t.indexPosition=e;return t};J.getBlankImageData=function(){var k=document.createElement("canvas").getContext("2d").createImageData(1,1);k.data[0]=255;k.data[1]=255;k.data[2]=255;k.data[3]=255;return k};J.colorEncodeId=function(k,g){g=g||[];g[0]=Math.floor(k/256/256/256)/255;g[1]=Math.floor(k/256/256)%256/255;g[2]=Math.floor(k/256)%256/255;g[3]=k%256/255;return g};J.colorDecodeId=function(k){var g=
0+Math.round(4278190080*k[0]);g+=Math.round(16711680*k[1]);g+=Math.round(65280*k[2]);return g+=Math.round(255*k[3])};J["default"]=J.WebGLWorkerMessageType=void 0;Ia=m(A(218));var u=m(A(100)),G=m(A(94)),L=m(A(321)),w=function(){var k=function(g,d){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(f[e]=a[e])};return k(g,d)};return function(g,d){function f(){this.constructor=g}k(g,d);g.prototype=
null===d?Object.create(d):(f.prototype=d.prototype,new f)}}();J.WebGLWorkerMessageType={GENERATE_BUFFERS:"GENERATE_BUFFERS"};A=function(k){function g(d,f){d=k.call(this,d)||this;f=f||{};d.helper=new L["default"]({postProcesses:f.postProcesses,uniforms:f.uniforms});void 0!==f.className&&(d.helper.getCanvas().className=f.className);return d}w(g,k);g.prototype.disposeInternal=function(){this.helper.dispose();k.prototype.disposeInternal.call(this)};g.prototype.getShaderCompileErrors=function(){return this.helper.getShaderCompileErrors()};
g.prototype.dispatchRenderEvent_=function(d,f){var a=this.getLayer();a.hasListener(d)&&(d=new u["default"](d,null,f,null),a.dispatchEvent(d))};g.prototype.preRender=function(d){this.dispatchRenderEvent_(G["default"].PRERENDER,d)};g.prototype.postRender=function(d){this.dispatchRenderEvent_(G["default"].POSTRENDER,d)};return g}(Ia["default"]);var v=[],t={vertexPosition:0,indexPosition:0};J["default"]=A};
shadow$provide[323]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var m=A(72),l=new Uint8Array(4);Ia=function(){function u(G,L){this.helper_=G;G=G.getGL();this.texture_=G.createTexture();this.framebuffer_=G.createFramebuffer();this.size_=L||[1,1];this.data_=new Uint8Array(0);this.dataCacheDirty_=!0;this.updateSize_()}u.prototype.setSize=function(G){(0,m.equals)(G,this.size_)||(this.size_[0]=G[0],this.size_[1]=G[1],this.updateSize_())};u.prototype.getSize=
function(){return this.size_};u.prototype.clearCachedData=function(){this.dataCacheDirty_=!0};u.prototype.readAll=function(){if(this.dataCacheDirty_){var G=this.size_,L=this.helper_.getGL();L.bindFramebuffer(L.FRAMEBUFFER,this.framebuffer_);L.readPixels(0,0,G[0],G[1],L.RGBA,L.UNSIGNED_BYTE,this.data_);this.dataCacheDirty_=!1}return this.data_};u.prototype.readPixel=function(G,L){if(0>G||0>L||G>this.size_[0]||L>=this.size_[1])return l[0]=0,l[1]=0,l[2]=0,l[3]=0,l;this.readAll();G=Math.floor(G)+(this.size_[1]-
Math.floor(L)-1)*this.size_[0];l[0]=this.data_[4*G];l[1]=this.data_[4*G+1];l[2]=this.data_[4*G+2];l[3]=this.data_[4*G+3];return l};u.prototype.getTexture=function(){return this.texture_};u.prototype.getFramebuffer=function(){return this.framebuffer_};u.prototype.updateSize_=function(){var G=this.size_,L=this.helper_.getGL();this.texture_=this.helper_.createTexture(G,null,this.texture_);L.bindFramebuffer(L.FRAMEBUFFER,this.framebuffer_);L.viewport(0,0,G[0],G[1]);L.framebufferTexture2D(L.FRAMEBUFFER,
L.COLOR_ATTACHMENT0,L.TEXTURE_2D,this.texture_,0);this.data_=new Uint8Array(G[0]*G[1]*4)};return u}();J["default"]=Ia};
shadow$provide[324]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J.create=function(){return new Worker(m)};Ia=new Blob(['var e\x3d"function"\x3d\x3dtypeof Object.assign?Object.assign:function(e,n){if(null\x3d\x3de)throw new TypeError("Cannot convert undefined or null to object");for(var t\x3dObject(e),r\x3d1,o\x3darguments.length;r\x3co;++r){var i\x3darguments[r];if(null!\x3di)for(var f in i)i.hasOwnProperty(f)\x26\x26(t[f]\x3di[f])}return t},n\x3d"GENERATE_BUFFERS",t\x3d[],r\x3d{vertexPosition:0,indexPosition:0};function o(e,n,t,r,o){e[n+0]\x3dt,e[n+1]\x3dr,e[n+2]\x3do}function i(e,n,i,f,s,u){var a\x3d3+s,l\x3de[n+0],v\x3de[n+1],c\x3dt;c.length\x3ds;for(var g\x3d0;g\x3cc.length;g++)c[g]\x3de[n+2+g];var b\x3du?u.vertexPosition:0,h\x3du?u.indexPosition:0,d\x3db/a;return o(i,b,l,v,0),c.length\x26\x26i.set(c,b+3),o(i,b+\x3da,l,v,1),c.length\x26\x26i.set(c,b+3),o(i,b+\x3da,l,v,2),c.length\x26\x26i.set(c,b+3),o(i,b+\x3da,l,v,3),c.length\x26\x26i.set(c,b+3),b+\x3da,f[h++]\x3dd,f[h++]\x3dd+1,f[h++]\x3dd+3,f[h++]\x3dd+1,f[h++]\x3dd+2,f[h++]\x3dd+3,r.vertexPosition\x3db,r.indexPosition\x3dh,r}var f\x3dself;f.onmessage\x3dfunction(t){var r\x3dt.data;if(r.type\x3d\x3d\x3dn){for(var o\x3dr.customAttributesCount,s\x3d2+o,u\x3dnew Float32Array(r.renderInstructions),a\x3du.length/s,l\x3d4*a*(o+3),v\x3dnew Uint32Array(6*a),c\x3dnew Float32Array(l),g\x3dnull,b\x3d0;b\x3cu.length;b+\x3ds)g\x3di(u,b,c,v,o,g);var h\x3de({vertexBuffer:c.buffer,indexBuffer:v.buffer,renderInstructions:u.buffer},r);f.postMessage(h,[c.buffer,v.buffer,u.buffer])}};'],
{type:"application/javascript"});var m=URL.createObjectURL(Ia)};
shadow$provide[325]=function(Ia,A,mb,J){function m(K){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"===typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D};return m(K)}function l(){if("function"!==typeof WeakMap)return null;var K=new WeakMap;l=function(){return K};return K}function u(K){return K&&K.__esModule?K:{"default":K}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;
var G=u(A(207)),L=u(A(119)),w=u(A(239)),v=u(A(121)),t=u(A(317)),k=function(K){if(K&&K.__esModule)return K;if(null===K||"object"!==m(K)&&"function"!==typeof K)return{"default":K};var D=l();if(D&&D.has(K))return D.get(K);var y={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor,H;for(H in K)if(Object.prototype.hasOwnProperty.call(K,H)){var Q=E?Object.getOwnPropertyDescriptor(K,H):null;Q&&(Q.get||Q.set)?Object.defineProperty(y,H,Q):y[H]=K[H]}y["default"]=K;D&&D.set(K,y);return y}(A(322)),g=u(A(323)),
d=A(316),f=A(321),a=A(77),e=A(76),n=A(80),x=A(324),z=A(74),B=A(89),M=function(){var K=function(D,y){K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,H){E.__proto__=H}||function(E,H){for(var Q in H)Object.prototype.hasOwnProperty.call(H,Q)&&(E[Q]=H[Q])};return K(D,y)};return function(D,y){function E(){this.constructor=D}K(D,y);D.prototype=null===y?Object.create(y):(E.prototype=y.prototype,new E)}}();Ia=function(K){function D(y,E){var H=this;H=E.uniforms||{};var Q=(0,a.create)();
H[f.DefaultUniform.PROJECTION_MATRIX]=Q;H=K.call(this,y,{className:E.className,uniforms:H,postProcesses:E.postProcesses})||this;H.sourceRevision_=-1;H.verticesBuffer_=new t["default"](d.ARRAY_BUFFER,d.DYNAMIC_DRAW);H.hitVerticesBuffer_=new t["default"](d.ARRAY_BUFFER,d.DYNAMIC_DRAW);H.indicesBuffer_=new t["default"](d.ELEMENT_ARRAY_BUFFER,d.DYNAMIC_DRAW);H.program_=H.helper.getProgram(E.fragmentShader,E.vertexShader);H.hitDetectionEnabled_=E.hitFragmentShader&&E.hitVertexShader?!0:!1;H.hitProgram_=
H.hitDetectionEnabled_&&H.helper.getProgram(E.hitFragmentShader,E.hitVertexShader);y=E.attributes?E.attributes.map(function(S){return{name:"a_"+S.name,size:1,type:f.AttributeType.FLOAT}}):[];H.attributes=[{name:"a_position",size:2,type:f.AttributeType.FLOAT},{name:"a_index",size:1,type:f.AttributeType.FLOAT}].concat(y);H.hitDetectionAttributes=[{name:"a_position",size:2,type:f.AttributeType.FLOAT},{name:"a_index",size:1,type:f.AttributeType.FLOAT},{name:"a_hitColor",size:4,type:f.AttributeType.FLOAT},
{name:"a_featureUid",size:1,type:f.AttributeType.FLOAT}].concat(y);H.customAttributes=E.attributes?E.attributes:[];H.previousExtent_=(0,n.createEmpty)();H.currentTransform_=Q;H.renderTransform_=(0,a.create)();H.invertRenderTransform_=(0,a.create)();H.renderInstructions_=new Float32Array(0);H.hitRenderInstructions_=new Float32Array(0);H.hitRenderTarget_=H.hitDetectionEnabled_&&new g["default"](H.helper);H.worker_=(0,x.create)();H.worker_.addEventListener("message",function(S){var ea=S.data;if(ea.type===
k.WebGLWorkerMessageType.GENERATE_BUFFERS){var ba=ea.projectionTransform;ea.hitDetection?(this.hitVerticesBuffer_.fromArrayBuffer(ea.vertexBuffer),this.helper.flushBufferData(this.hitVerticesBuffer_)):(this.verticesBuffer_.fromArrayBuffer(ea.vertexBuffer),this.helper.flushBufferData(this.verticesBuffer_));this.indicesBuffer_.fromArrayBuffer(ea.indexBuffer);this.helper.flushBufferData(this.indicesBuffer_);this.renderTransform_=ba;(0,a.makeInverse)(this.invertRenderTransform_,this.renderTransform_);
ea.hitDetection?this.hitRenderInstructions_=new Float32Array(S.data.renderInstructions):this.renderInstructions_=new Float32Array(S.data.renderInstructions);this.getLayer().changed()}}.bind(H));H.featureCache_={};H.featureCount_=0;E=H.getLayer().getSource();H.sourceListenKeys_=[(0,B.listen)(E,w["default"].ADDFEATURE,H.handleSourceFeatureAdded_,H),(0,B.listen)(E,w["default"].CHANGEFEATURE,H.handleSourceFeatureChanged_,H),(0,B.listen)(E,w["default"].REMOVEFEATURE,H.handleSourceFeatureDelete_,H),(0,
B.listen)(E,w["default"].CLEAR,H.handleSourceFeatureClear_,H)];E.forEachFeature(function(S){this.featureCache_[(0,z.getUid)(S)]={feature:S,properties:S.getProperties(),geometry:S.getGeometry()};this.featureCount_++}.bind(H));return H}M(D,K);D.prototype.handleSourceFeatureAdded_=function(y){y=y.feature;this.featureCache_[(0,z.getUid)(y)]={feature:y,properties:y.getProperties(),geometry:y.getGeometry()};this.featureCount_++};D.prototype.handleSourceFeatureChanged_=function(y){y=y.feature;this.featureCache_[(0,
z.getUid)(y)]={feature:y,properties:y.getProperties(),geometry:y.getGeometry()}};D.prototype.handleSourceFeatureDelete_=function(y){y=y.feature;delete this.featureCache_[(0,z.getUid)(y)];this.featureCount_--};D.prototype.handleSourceFeatureClear_=function(){this.featureCache_={};this.featureCount_=0};D.prototype.renderFrame=function(y){this.preRender(y);var E=this.indicesBuffer_.getSize();this.helper.drawElements(0,E);this.helper.finalizeDraw(y);E=this.helper.getCanvas();var H=y.layerStatesArray[y.layerIndex].opacity;
H!==parseFloat(E.style.opacity)&&(E.style.opacity=String(H));this.hitDetectionEnabled_&&(this.renderHitDetection(y),this.hitRenderTarget_.clearCachedData());this.postRender(y);return E};D.prototype.prepareFrame=function(y){var E=this.getLayer(),H=E.getSource(),Q=y.viewState,S=!y.viewHints[v["default"].ANIMATING]&&!y.viewHints[v["default"].INTERACTING],ea=!(0,n.equals)(this.previousExtent_,y.extent),ba=this.sourceRevision_<H.getRevision();ba&&(this.sourceRevision_=H.getRevision());S&&(ea||ba)&&(S=
Q.projection,Q=Q.resolution,E=E instanceof G["default"]?E.getRenderBuffer():0,E=(0,n.buffer)(y.extent,E*Q),H.loadFeatures(E,Q,S),this.rebuildBuffers_(y),this.previousExtent_=y.extent.slice());this.helper.makeProjectionTransform(y,this.currentTransform_);(0,a.multiply)(this.currentTransform_,this.invertRenderTransform_);this.helper.useProgram(this.program_);this.helper.prepareDraw(y);this.helper.bindBuffer(this.verticesBuffer_);this.helper.bindBuffer(this.indicesBuffer_);this.helper.enableAttributes(this.attributes);
return!0};D.prototype.rebuildBuffers_=function(y){var E=(0,a.create)();this.helper.makeProjectionTransform(y,E);y=(2+this.customAttributes.length)*this.featureCount_;this.renderInstructions_&&this.renderInstructions_.length===y||(this.renderInstructions_=new Float32Array(y));this.hitDetectionEnabled_&&(y=(7+this.customAttributes.length)*this.featureCount_,this.hitRenderInstructions_&&this.hitRenderInstructions_.length===y||(this.hitRenderInstructions_=new Float32Array(y)));var H,Q=[],S=[],ea=0,ba=
0;for(ia in this.featureCache_)if(y=this.featureCache_[ia],(H=y.geometry)&&H.getType()===L["default"].POINT){Q[0]=H.getFlatCoordinates()[0];Q[1]=H.getFlatCoordinates()[1];(0,a.apply)(E,Q);H=(0,k.colorEncodeId)(ba+6,S);this.renderInstructions_[ea++]=Q[0];this.renderInstructions_[ea++]=Q[1];this.hitDetectionEnabled_&&(this.hitRenderInstructions_[ba++]=Q[0],this.hitRenderInstructions_[ba++]=Q[1],this.hitRenderInstructions_[ba++]=H[0],this.hitRenderInstructions_[ba++]=H[1],this.hitRenderInstructions_[ba++]=
H[2],this.hitRenderInstructions_[ba++]=H[3],this.hitRenderInstructions_[ba++]=Number(ia));for(var fa=0;fa<this.customAttributes.length;fa++)H=this.customAttributes[fa].callback(y.feature,y.properties),this.renderInstructions_[ea++]=H,this.hitDetectionEnabled_&&(this.hitRenderInstructions_[ba++]=H)}var ia={type:k.WebGLWorkerMessageType.GENERATE_BUFFERS,renderInstructions:this.renderInstructions_.buffer,customAttributesCount:this.customAttributes.length};ia.projectionTransform=E;this.worker_.postMessage(ia,
[this.renderInstructions_.buffer]);this.renderInstructions_=null;this.hitDetectionEnabled_&&(ia={type:k.WebGLWorkerMessageType.GENERATE_BUFFERS,renderInstructions:this.hitRenderInstructions_.buffer,customAttributesCount:5+this.customAttributes.length},ia.projectionTransform=E,ia.hitDetection=!0,this.worker_.postMessage(ia,[this.hitRenderInstructions_.buffer]),this.hitRenderInstructions_=null)};D.prototype.forEachFeatureAtCoordinate=function(y,E,H,Q,S){(0,e.assert)(this.hitDetectionEnabled_,66);if(this.hitRenderInstructions_&&
(y=(0,a.apply)(E.coordinateToPixelTransform,y.slice()),y=this.hitRenderTarget_.readPixel(y[0]/2,y[1]/2),y=[y[0]/255,y[1]/255,y[2]/255,y[3]/255],y=(0,k.colorDecodeId)(y),y=Math.floor(this.hitRenderInstructions_[y]).toString(),y=this.getLayer().getSource().getFeatureByUid(y)))return Q(y,this.getLayer(),null)};D.prototype.renderHitDetection=function(y){this.hitVerticesBuffer_.getSize()&&(this.hitRenderTarget_.setSize([Math.floor(y.size[0]/2),Math.floor(y.size[1]/2)]),this.helper.useProgram(this.hitProgram_),
this.helper.prepareDrawToRenderTarget(y,this.hitRenderTarget_,!0),this.helper.bindBuffer(this.hitVerticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.hitDetectionAttributes),y=this.indicesBuffer_.getSize(),this.helper.drawElements(0,y))};D.prototype.disposeInternal=function(){this.worker_.terminate();this.layer_=null;this.sourceListenKeys_.forEach(function(y){(0,B.unlistenByKey)(y)});this.sourceListenKeys_=null;K.prototype.disposeInternal.call(this)};return D}(k["default"]);
J["default"]=Ia};
shadow$provide[326]=function(Ia,A,mb,J){function m(k){return k&&k.__esModule?k:{"default":k}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=m(A(236));var l=m(A(325)),u=A(86),G=A(81),L=A(103),w=A(91),v=function(){var k=function(g,d){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(f[e]=a[e])};return k(g,d)};return function(g,d){function f(){this.constructor=g}k(g,
d);g.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)}}(),t=["#00f","#0ff","#0f0","#ff0","#f00"];A=function(k){function g(d){var f=this;d=d?d:{};f=(0,u.assign)({},d);delete f.gradient;delete f.radius;delete f.blur;delete f.weight;f=k.call(this,f)||this;f.gradient_=null;f.addEventListener((0,w.getChangeEventType)("gradient"),f.handleGradientChanged_);f.setGradient(d.gradient?d.gradient:t);f.setBlur(void 0!==d.blur?d.blur:15);f.setRadius(void 0!==d.radius?d.radius:8);var a=d.weight?
d.weight:"weight";f.weightFunction_="string"===typeof a?function(e){return e.get(a)}:a;f.setRenderOrder(null);return f}v(g,k);g.prototype.getBlur=function(){return this.get("blur")};g.prototype.getGradient=function(){return this.get("gradient")};g.prototype.getRadius=function(){return this.get("radius")};g.prototype.handleGradientChanged_=function(){for(var d=this.getGradient(),f=(0,L.createCanvasContext2D)(1,256),a=f.createLinearGradient(0,0,1,256),e=1/(d.length-1),n=0,x=d.length;n<x;++n)a.addColorStop(n*
e,d[n]);f.fillStyle=a;f.fillRect(0,0,1,256);this.gradient_=f.canvas};g.prototype.setBlur=function(d){this.set("blur",d)};g.prototype.setGradient=function(d){this.set("gradient",d)};g.prototype.setRadius=function(d){this.set("radius",d)};g.prototype.createRenderer=function(){return new l["default"](this,{className:this.getClassName(),attributes:[{name:"weight",callback:function(d){d=this.weightFunction_(d);return void 0!==d?(0,G.clamp)(d,0,1):1}.bind(this)}],vertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          mat4 offsetMatrix \x3d u_offsetScaleMatrix;\n          float offsetX \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets \x3d offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position \x3d u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? 0.0 : 1.0;\n          float v \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? 0.0 : 1.0;\n          v_texCoord \x3d vec2(u, v);\n          v_weight \x3d a_weight;\n        }",
fragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          vec2 texCoord \x3d v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius \x3d texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value \x3d (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha \x3d smoothstep(0.0, 1.0, value) * v_weight;\n          gl_FragColor \x3d vec4(alpha, alpha, alpha, alpha);\n        }",
hitVertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n        attribute vec4 a_hitColor;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          mat4 offsetMatrix \x3d u_offsetScaleMatrix;\n          float offsetX \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets \x3d offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position \x3d u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? 0.0 : 1.0;\n          float v \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? 0.0 : 1.0;\n          v_texCoord \x3d vec2(u, v);\n          v_hitColor \x3d a_hitColor;\n          v_weight \x3d a_weight;\n        }",
hitFragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          vec2 texCoord \x3d v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius \x3d texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value \x3d (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha \x3d smoothstep(0.0, 1.0, value) * v_weight;\n          if (alpha \x3c 0.05) {\n            discard;\n          }\n\n          gl_FragColor \x3d v_hitColor;\n        }",
uniforms:{u_size:function(){return 2*(this.get("radius")+this.get("blur"))}.bind(this),u_blurSlope:function(){return this.get("radius")/Math.max(1,this.get("blur"))}.bind(this)},postProcesses:[{fragmentShader:"\n            precision mediump float;\n\n            uniform sampler2D u_image;\n            uniform sampler2D u_gradientTexture;\n\n            varying vec2 v_texCoord;\n\n            void main() {\n              vec4 color \x3d texture2D(u_image, v_texCoord);\n              gl_FragColor.a \x3d color.a;\n              gl_FragColor.rgb \x3d texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;\n              gl_FragColor.rgb *\x3d gl_FragColor.a;\n            }",
uniforms:{u_gradientTexture:function(){return this.gradient_}.bind(this)}}]})};g.prototype.renderDeclutter=function(){};return g}(Ia["default"]);J["default"]=A};
shadow$provide[327]=function(Ia,A,mb,J){function m(D){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(D)?D:new Uint8Array(D||0);this.type=this.pos=0;this.length=this.buf.length}function l(D,y,E){var H=E.buf;var Q=H[E.pos++];var S=(Q&112)>>4;if(128>Q)return G(D,S,y);Q=H[E.pos++];S|=(Q&127)<<3;if(128>Q)return G(D,S,y);Q=H[E.pos++];S|=(Q&127)<<10;if(128>Q)return G(D,S,y);Q=H[E.pos++];S|=(Q&127)<<17;if(128>Q)return G(D,S,y);Q=H[E.pos++];S|=(Q&127)<<24;if(128>Q)return G(D,S,y);Q=H[E.pos++];if(128>Q)return G(D,
S|(Q&1)<<31,y);throw Error("Expected varint not more than 10 bytes");}function u(D){return D.type===m.Bytes?D.readVarint()+D.pos:D.pos+1}function G(D,y,E){return E?4294967296*y+(D>>>0):4294967296*(y>>>0)+(D>>>0)}function L(D,y,E){y=16383>=y?1:2097151>=y?2:268435455>=y?3:Math.floor(Math.log(y)/(7*Math.LN2));E.realloc(y);for(var H=E.pos-1;H>=D;H--)E.buf[H+y]=E.buf[H]}function w(D,y){for(var E=0;E<D.length;E++)y.writeVarint(D[E])}function v(D,y){for(var E=0;E<D.length;E++)y.writeSVarint(D[E])}function t(D,
y){for(var E=0;E<D.length;E++)y.writeFloat(D[E])}function k(D,y){for(var E=0;E<D.length;E++)y.writeDouble(D[E])}function g(D,y){for(var E=0;E<D.length;E++)y.writeBoolean(D[E])}function d(D,y){for(var E=0;E<D.length;E++)y.writeFixed32(D[E])}function f(D,y){for(var E=0;E<D.length;E++)y.writeSFixed32(D[E])}function a(D,y){for(var E=0;E<D.length;E++)y.writeFixed64(D[E])}function e(D,y){for(var E=0;E<D.length;E++)y.writeSFixed64(D[E])}function n(D,y){return(D[y]|D[y+1]<<8|D[y+2]<<16)+16777216*D[y+3]}function x(D,
y,E){D[E]=y;D[E+1]=y>>>8;D[E+2]=y>>>16;D[E+3]=y>>>24}function z(D,y){return(D[y]|D[y+1]<<8|D[y+2]<<16)+(D[y+3]<<24)}mb.exports=m;var B=A(24);m.Varint=0;m.Fixed64=1;m.Bytes=2;m.Fixed32=5;var M=1/4294967296,K="undefined"===typeof TextDecoder?null:new TextDecoder("utf8");m.prototype={destroy:function(){this.buf=null},readFields:function(D,y,E){for(E=E||this.length;this.pos<E;){var H=this.readVarint(),Q=H>>3,S=this.pos;this.type=H&7;D(Q,y,this);this.pos===S&&this.skip(H)}return y},readMessage:function(D,
y){return this.readFields(D,y,this.readVarint()+this.pos)},readFixed32:function(){var D=n(this.buf,this.pos);this.pos+=4;return D},readSFixed32:function(){var D=z(this.buf,this.pos);this.pos+=4;return D},readFixed64:function(){var D=n(this.buf,this.pos)+4294967296*n(this.buf,this.pos+4);this.pos+=8;return D},readSFixed64:function(){var D=n(this.buf,this.pos)+4294967296*z(this.buf,this.pos+4);this.pos+=8;return D},readFloat:function(){var D=B.read(this.buf,this.pos,!0,23,4);this.pos+=4;return D},readDouble:function(){var D=
B.read(this.buf,this.pos,!0,52,8);this.pos+=8;return D},readVarint:function(D){var y=this.buf;var E=y[this.pos++];var H=E&127;if(128>E)return H;E=y[this.pos++];H|=(E&127)<<7;if(128>E)return H;E=y[this.pos++];H|=(E&127)<<14;if(128>E)return H;E=y[this.pos++];H|=(E&127)<<21;if(128>E)return H;E=y[this.pos];return l(H|(E&15)<<28,D,this)},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var D=this.readVarint();return 1===D%2?(D+1)/-2:D/2},readBoolean:function(){return!!this.readVarint()},
readString:function(){var D=this.readVarint()+this.pos,y=this.pos;this.pos=D;if(12<=D-y&&K)return K.decode(this.buf.subarray(y,D));for(var E=this.buf,H="";y<D;){var Q=E[y],S=null,ea=239<Q?4:223<Q?3:191<Q?2:1;if(y+ea>D)break;if(1===ea)128>Q&&(S=Q);else if(2===ea){var ba=E[y+1];128===(ba&192)&&(S=(Q&31)<<6|ba&63,127>=S&&(S=null))}else if(3===ea){ba=E[y+1];var fa=E[y+2];128===(ba&192)&&128===(fa&192)&&(S=(Q&15)<<12|(ba&63)<<6|fa&63,2047>=S||55296<=S&&57343>=S)&&(S=null)}else if(4===ea){ba=E[y+1];fa=
E[y+2];var ia=E[y+3];128===(ba&192)&&128===(fa&192)&&128===(ia&192)&&(S=(Q&15)<<18|(ba&63)<<12|(fa&63)<<6|ia&63,65535>=S||1114112<=S)&&(S=null)}null===S?(S=65533,ea=1):65535<S&&(S-=65536,H+=String.fromCharCode(S>>>10&1023|55296),S=56320|S&1023);H+=String.fromCharCode(S);y+=ea}return H},readBytes:function(){var D=this.readVarint()+this.pos,y=this.buf.subarray(this.pos,D);this.pos=D;return y},readPackedVarint:function(D,y){if(this.type!==m.Bytes)return D.push(this.readVarint(y));var E=u(this);for(D=
D||[];this.pos<E;)D.push(this.readVarint(y));return D},readPackedSVarint:function(D){if(this.type!==m.Bytes)return D.push(this.readSVarint());var y=u(this);for(D=D||[];this.pos<y;)D.push(this.readSVarint());return D},readPackedBoolean:function(D){if(this.type!==m.Bytes)return D.push(this.readBoolean());var y=u(this);for(D=D||[];this.pos<y;)D.push(this.readBoolean());return D},readPackedFloat:function(D){if(this.type!==m.Bytes)return D.push(this.readFloat());var y=u(this);for(D=D||[];this.pos<y;)D.push(this.readFloat());
return D},readPackedDouble:function(D){if(this.type!==m.Bytes)return D.push(this.readDouble());var y=u(this);for(D=D||[];this.pos<y;)D.push(this.readDouble());return D},readPackedFixed32:function(D){if(this.type!==m.Bytes)return D.push(this.readFixed32());var y=u(this);for(D=D||[];this.pos<y;)D.push(this.readFixed32());return D},readPackedSFixed32:function(D){if(this.type!==m.Bytes)return D.push(this.readSFixed32());var y=u(this);for(D=D||[];this.pos<y;)D.push(this.readSFixed32());return D},readPackedFixed64:function(D){if(this.type!==
m.Bytes)return D.push(this.readFixed64());var y=u(this);for(D=D||[];this.pos<y;)D.push(this.readFixed64());return D},readPackedSFixed64:function(D){if(this.type!==m.Bytes)return D.push(this.readSFixed64());var y=u(this);for(D=D||[];this.pos<y;)D.push(this.readSFixed64());return D},skip:function(D){D&=7;if(D===m.Varint)for(;127<this.buf[this.pos++];);else if(D===m.Bytes)this.pos=this.readVarint()+this.pos;else if(D===m.Fixed32)this.pos+=4;else if(D===m.Fixed64)this.pos+=8;else throw Error("Unimplemented type: "+
D);},writeTag:function(D,y){this.writeVarint(D<<3|y)},realloc:function(D){for(var y=this.length||16;y<this.pos+D;)y*=2;y!==this.length&&(D=new Uint8Array(y),D.set(this.buf),this.buf=D,this.length=y)},finish:function(){this.length=this.pos;this.pos=0;return this.buf.subarray(0,this.length)},writeFixed32:function(D){this.realloc(4);x(this.buf,D,this.pos);this.pos+=4},writeSFixed32:function(D){this.realloc(4);x(this.buf,D,this.pos);this.pos+=4},writeFixed64:function(D){this.realloc(8);x(this.buf,D&-1,
this.pos);x(this.buf,Math.floor(D*M),this.pos+4);this.pos+=8},writeSFixed64:function(D){this.realloc(8);x(this.buf,D&-1,this.pos);x(this.buf,Math.floor(D*M),this.pos+4);this.pos+=8},writeVarint:function(D){D=+D||0;if(268435455<D||0>D){if(0<=D){var y=D%4294967296|0;var E=D/4294967296|0}else y=~(-D%4294967296),E=~(-D/4294967296),y^4294967295?y=y+1|0:(y=0,E=E+1|0);if(1.8446744073709552E19<=D||-1.8446744073709552E19>D)throw Error("Given varint doesn't fit into 10 bytes");this.realloc(10);D=y;this.buf[this.pos++]=
D&127|128;D>>>=7;this.buf[this.pos++]=D&127|128;D>>>=7;this.buf[this.pos++]=D&127|128;D>>>=7;this.buf[this.pos++]=D&127|128;this.buf[this.pos]=D>>>7&127;this.buf[this.pos++]|=(E&7)<<4|((E>>>=3)?128:0);E&&(this.buf[this.pos++]=E&127|((E>>>=7)?128:0),E&&(this.buf[this.pos++]=E&127|((E>>>=7)?128:0),E&&(this.buf[this.pos++]=E&127|((E>>>=7)?128:0),E&&(this.buf[this.pos++]=E&127|((E>>>=7)?128:0),E&&(this.buf[this.pos++]=E&127)))))}else this.realloc(4),this.buf[this.pos++]=D&127|(127<D?128:0),127>=D||(this.buf[this.pos++]=
(D>>>=7)&127|(127<D?128:0),127>=D||(this.buf[this.pos++]=(D>>>=7)&127|(127<D?128:0),127>=D||(this.buf[this.pos++]=D>>>7&127)))},writeSVarint:function(D){this.writeVarint(0>D?2*-D-1:2*D)},writeBoolean:function(D){this.writeVarint(!!D)},writeString:function(D){D=String(D);this.realloc(4*D.length);this.pos++;for(var y=this.pos,E=this.buf,H=this.pos,Q=0,S,ea;Q<D.length;Q++){S=D.charCodeAt(Q);if(55295<S&&57344>S)if(ea)if(56320>S){E[H++]=239;E[H++]=191;E[H++]=189;ea=S;continue}else S=ea-55296<<10|S-56320|
65536,ea=null;else{56319<S||Q+1===D.length?(E[H++]=239,E[H++]=191,E[H++]=189):ea=S;continue}else ea&&(E[H++]=239,E[H++]=191,E[H++]=189,ea=null);128>S?E[H++]=S:(2048>S?E[H++]=S>>6|192:(65536>S?E[H++]=S>>12|224:(E[H++]=S>>18|240,E[H++]=S>>12&63|128),E[H++]=S>>6&63|128),E[H++]=S&63|128)}this.pos=H;E=this.pos-y;128<=E&&L(y,E,this);this.pos=y-1;this.writeVarint(E);this.pos+=E},writeFloat:function(D){this.realloc(4);B.write(this.buf,D,this.pos,!0,23,4);this.pos+=4},writeDouble:function(D){this.realloc(8);
B.write(this.buf,D,this.pos,!0,52,8);this.pos+=8},writeBytes:function(D){var y=D.length;this.writeVarint(y);this.realloc(y);for(var E=0;E<y;E++)this.buf[this.pos++]=D[E]},writeRawMessage:function(D,y){this.pos++;var E=this.pos;D(y,this);D=this.pos-E;128<=D&&L(E,D,this);this.pos=E-1;this.writeVarint(D);this.pos+=D},writeMessage:function(D,y,E){this.writeTag(D,m.Bytes);this.writeRawMessage(y,E)},writePackedVarint:function(D,y){y.length&&this.writeMessage(D,w,y)},writePackedSVarint:function(D,y){y.length&&
this.writeMessage(D,v,y)},writePackedBoolean:function(D,y){y.length&&this.writeMessage(D,g,y)},writePackedFloat:function(D,y){y.length&&this.writeMessage(D,t,y)},writePackedDouble:function(D,y){y.length&&this.writeMessage(D,k,y)},writePackedFixed32:function(D,y){y.length&&this.writeMessage(D,d,y)},writePackedSFixed32:function(D,y){y.length&&this.writeMessage(D,f,y)},writePackedFixed64:function(D,y){y.length&&this.writeMessage(D,a,y)},writePackedSFixed64:function(D,y){y.length&&this.writeMessage(D,
e,y)},writeBytesField:function(D,y){this.writeTag(D,m.Bytes);this.writeBytes(y)},writeFixed32Field:function(D,y){this.writeTag(D,m.Fixed32);this.writeFixed32(y)},writeSFixed32Field:function(D,y){this.writeTag(D,m.Fixed32);this.writeSFixed32(y)},writeFixed64Field:function(D,y){this.writeTag(D,m.Fixed64);this.writeFixed64(y)},writeSFixed64Field:function(D,y){this.writeTag(D,m.Fixed64);this.writeSFixed64(y)},writeVarintField:function(D,y){this.writeTag(D,m.Varint);this.writeVarint(y)},writeSVarintField:function(D,
y){this.writeTag(D,m.Varint);this.writeSVarint(y)},writeStringField:function(D,y){this.writeTag(D,m.Bytes);this.writeString(y)},writeFloatField:function(D,y){this.writeTag(D,m.Fixed32);this.writeFloat(y)},writeDoubleField:function(D,y){this.writeTag(D,m.Fixed64);this.writeDouble(y)},writeBooleanField:function(D,y){this.writeVarintField(D,!!y)}}};
shadow$provide[328]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var m=function(d){return d&&d.__esModule?d:{"default":d}}(A(119)),l=A(77),u=A(80),G=A(72),L=A(147),w=A(130),v=A(191),t=A(196),k=A(136),g=(0,l.create)();Ia=function(){function d(f,a,e,n,x){this.id_=x;this.type_=f;this.flatCoordinates_=a;this.flatMidpoints_=this.flatInteriorPoints_=null;this.ends_=e;this.properties_=n}d.prototype.get=function(f){return this.properties_[f]};d.prototype.getExtent=
function(){this.extent_||(this.extent_=this.type_===m["default"].POINT?(0,u.createOrUpdateFromCoordinate)(this.flatCoordinates_):(0,u.createOrUpdateFromFlatCoordinates)(this.flatCoordinates_,0,this.flatCoordinates_.length,2));return this.extent_};d.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var f=(0,u.getCenter)(this.getExtent());this.flatInteriorPoints_=(0,L.getInteriorPointOfArray)(this.flatCoordinates_,0,this.ends_,2,f,0)}return this.flatInteriorPoints_};d.prototype.getFlatInteriorPoints=
function(){if(!this.flatInteriorPoints_){var f=(0,t.linearRingss)(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=(0,L.getInteriorPointsOfMultiArray)(this.flatCoordinates_,0,this.ends_,2,f)}return this.flatInteriorPoints_};d.prototype.getFlatMidpoint=function(){this.flatMidpoints_||(this.flatMidpoints_=(0,v.interpolatePoint)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5));return this.flatMidpoints_};d.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=
[];for(var f=this.flatCoordinates_,a=0,e=this.ends_,n=0,x=e.length;n<x;++n){var z=e[n];a=(0,v.interpolatePoint)(f,a,z,2,.5);(0,G.extend)(this.flatMidpoints_,a);a=z}}return this.flatMidpoints_};d.prototype.getId=function(){return this.id_};d.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_};d.prototype.getGeometry=function(){return this};d.prototype.getSimplifiedGeometry=function(f){return this};d.prototype.simplifyTransformed=function(f,a){return this};d.prototype.getProperties=
function(){return this.properties_};d.prototype.getStride=function(){return 2};d.prototype.getStyleFunction=function(){};d.prototype.getType=function(){return this.type_};d.prototype.transform=function(f){f=(0,w.get)(f);var a=f.getExtent();f=f.getWorldExtent();a&&f&&(a=(0,u.getHeight)(f)/(0,u.getHeight)(a),(0,l.compose)(g,f[0],f[3],a,-a,0,0,0),(0,k.transform2D)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,g,this.flatCoordinates_))};d.prototype.getEnds=function(){return this.ends_};return d}();
Ia.prototype.getEndss=Ia.prototype.getEnds;Ia.prototype.getFlatCoordinates=Ia.prototype.getOrientedFlatCoordinates;J["default"]=Ia};
shadow$provide[329]=function(Ia,A,mb,J){function m(Q){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"===typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S};return m(Q)}function l(Q){return Q&&Q.__esModule?Q:{"default":Q}}function u(){if("function"!==typeof WeakMap)return null;var Q=new WeakMap;u=function(){return Q};return Q}function G(Q,S,ea){if(3===Q){Q={keys:[],values:[],features:[]};var ba=
ea.readVarint()+ea.pos;ea.readFields(L,Q,ba);Q.length=Q.features.length;Q.length&&(S[Q.name]=Q)}}function L(Q,S,ea){if(15===Q)S.version=ea.readVarint();else if(1===Q)S.name=ea.readString();else if(5===Q)S.extent=ea.readVarint();else if(2===Q)S.features.push(ea.pos);else if(3===Q)S.keys.push(ea.readString());else if(4===Q){Q=null;for(var ba=ea.readVarint()+ea.pos;ea.pos<ba;)Q=ea.readVarint()>>3,Q=1===Q?ea.readString():2===Q?ea.readFloat():3===Q?ea.readDouble():4===Q?ea.readVarint64():5===Q?ea.readVarint():
6===Q?ea.readSVarint():7===Q?ea.readBoolean():null;S.values.push(Q)}}function w(Q,S,ea){if(1==Q)S.id=ea.readVarint();else if(2==Q)for(Q=ea.readVarint()+ea.pos;ea.pos<Q;){var ba=S.layer.keys[ea.readVarint()],fa=S.layer.values[ea.readVarint()];S.properties[ba]=fa}else 3==Q?S.type=ea.readVarint():4==Q&&(S.geometry=ea.pos)}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var v=function(Q){if(Q&&Q.__esModule)return Q;if(null===Q||"object"!==m(Q)&&"function"!==typeof Q)return{"default":Q};
var S=u();if(S&&S.has(Q))return S.get(Q);var ea={},ba=Object.defineProperty&&Object.getOwnPropertyDescriptor,fa;for(fa in Q)if(Object.prototype.hasOwnProperty.call(Q,fa)){var ia=ba?Object.getOwnPropertyDescriptor(Q,fa):null;ia&&(ia.get||ia.set)?Object.defineProperty(ea,fa,ia):ea[fa]=Q[fa]}ea["default"]=Q;S&&S.set(Q,ea);return ea}(A(252)),t=l(A(186)),k=l(A(135)),g=l(A(119)),d=l(A(193)),f=l(A(194)),a=l(A(195)),e=l(A(197)),n=l(A(327)),x=l(A(145)),z=l(A(152)),B=l(A(124)),M=l(A(328)),K=l(A(120)),D=A(76),
y=A(130),E=A(151),H=function(){var Q=function(S,ea){Q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ba,fa){ba.__proto__=fa}||function(ba,fa){for(var ia in fa)Object.prototype.hasOwnProperty.call(fa,ia)&&(ba[ia]=fa[ia])};return Q(S,ea)};return function(S,ea){function ba(){this.constructor=S}Q(S,ea);S.prototype=null===ea?Object.create(ea):(ba.prototype=ea.prototype,new ba)}}();Ia=function(Q){function S(ea){var ba=Q.call(this)||this;ea=ea?ea:{};ba.dataProjection=new B["default"]({code:"",
units:K["default"].TILE_PIXELS});ba.featureClass_=ea.featureClass?ea.featureClass:M["default"];ba.geometryName_=ea.geometryName;ba.layerName_=ea.layerName?ea.layerName:"layer";ba.layers_=ea.layers?ea.layers:null;ba.idProperty_=ea.idProperty;return ba}H(S,Q);S.prototype.readRawGeometry_=function(ea,ba,fa,ia){ea.pos=ba.geometry;ba=ea.readVarint()+ea.pos;for(var ca=1,N=0,C=0,W=0,ha=0,Y=0;ea.pos<ba;)N||(N=ea.readVarint(),ca=N&7,N>>=3),N--,1===ca||2===ca?(C+=ea.readSVarint(),W+=ea.readSVarint(),1===ca&&
ha>Y&&(ia.push(ha),Y=ha),fa.push(C,W),ha+=2):7===ca?ha>Y&&(fa.push(fa[Y],fa[Y+1]),ha+=2):(0,D.assert)(!1,59);ha>Y&&ia.push(ha)};S.prototype.createFeature_=function(ea,ba,fa){var ia=ba.type;if(0===ia)return null;var ca=ba.properties;if(this.idProperty_){var N=ca[this.idProperty_];delete ca[this.idProperty_]}else N=ba.id;ca[this.layerName_]=ba.layer.name;var C=[];var W=[];this.readRawGeometry_(ea,ba,C,W);ea=W.length;if(1===ia)var ha=1===ea?g["default"].POINT:g["default"].MULTI_POINT;else 2===ia?ha=
1===ea?g["default"].LINE_STRING:g["default"].MULTI_LINE_STRING:3===ia&&(ha=g["default"].POLYGON);ia=ha;if(this.featureClass_===M["default"])C=new this.featureClass_(ia,C,W,ca,N),C.transform(fa.dataProjection);else{if(ia==g["default"].POLYGON){ia=[];ba=ea=ha=0;for(var Y=W.length;ba<Y;++ba){var wa=W[ba];if((0,E.linearRingIsClockwise)(C,ha,wa,2)){if(0===ia.length)continue;ia[ia.length-1].push(W[ea])}else ia.push(W.slice(ea,ba+1));ea=ba+1;ha=wa}W=1<ia.length?new e["default"](C,k["default"].XY,ia):new z["default"](C,
k["default"].XY,W)}else W=ia===g["default"].POINT?new x["default"](C,k["default"].XY):ia===g["default"].LINE_STRING?new d["default"](C,k["default"].XY):ia===g["default"].POLYGON?new z["default"](C,k["default"].XY,W):ia===g["default"].MULTI_POINT?new a["default"](C,k["default"].XY):ia===g["default"].MULTI_LINE_STRING?new f["default"](C,k["default"].XY,W):null;C=new this.featureClass_;this.geometryName_&&C.setGeometryName(this.geometryName_);fa=(0,v.transformGeometryWithOptions)(W,!1,fa);C.setGeometry(fa);
C.setId(N);C.setProperties(ca,!0)}return C};S.prototype.getType=function(){return t["default"].ARRAY_BUFFER};S.prototype.readFeatures=function(ea,ba){var fa=this.layers_;ba=this.adaptOptions(ba);var ia=(0,y.get)(ba.dataProjection);ia.setWorldExtent(ba.extent);ba.dataProjection=ia;ea=new n["default"](ea);var ca=ea.readFields(G,{}),N=[],C;for(C in ca)if(!fa||-1!=fa.indexOf(C)){var W=ca[C];ia.setExtent(W?[0,0,W.extent,W.extent]:null);for(var ha=0,Y=W.length;ha<Y;++ha){var wa=ea,xa=W;wa.pos=xa.features[ha];
var Ha=wa.readVarint()+wa.pos;xa={layer:xa,type:0,properties:{}};wa.readFields(w,xa,Ha);N.push(this.createFeature_(ea,xa,ba))}}return N};S.prototype.readProjection=function(ea){return this.dataProjection};S.prototype.setLayers=function(ea){this.layers_=ea};return S}(v["default"]);J["default"]=Ia};
shadow$provide[330]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"}};
shadow$provide[331]=function(Ia,A,mb,J){function m(K){return K&&K.__esModule?K:{"default":K}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(A(217)),u=m(A(223));Ia=m(A(297));var G=m(A(88));mb=m(A(220));var L=m(A(117)),w=m(A(330)),v=m(A(121)),t=A(77),k=A(80),g=A(86),d=A(233),f=A(234),a=A(74),e=A(89),n=A(154),x=A(98),z=function(){var K=function(D,y){K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,H){E.__proto__=H}||function(E,H){for(var Q in H)Object.prototype.hasOwnProperty.call(H,
Q)&&(E[Q]=H[Q])};return K(D,y)};return function(D,y){function E(){this.constructor=D}K(D,y);D.prototype=null===y?Object.create(y):(E.prototype=y.prototype,new E)}}(),B={image:[mb["default"].POLYGON,mb["default"].CIRCLE,mb["default"].LINE_STRING,mb["default"].IMAGE,mb["default"].TEXT],hybrid:[mb["default"].POLYGON,mb["default"].LINE_STRING],vector:[]},M={image:[mb["default"].DEFAULT],hybrid:[mb["default"].IMAGE,mb["default"].TEXT,mb["default"].DEFAULT],vector:[mb["default"].POLYGON,mb["default"].CIRCLE,
mb["default"].LINE_STRING,mb["default"].IMAGE,mb["default"].TEXT,mb["default"].DEFAULT]};A=function(K){function D(y){y=K.call(this,y)||this;y.boundHandleStyleImageChange_=y.handleStyleImageChange_.bind(y);y.dirty_=!1;y.renderedPixelToCoordinateTransform_=null;y.renderTileImageQueue_={};y.tileListenerKeys_={};y.tmpTransform_=(0,t.create)();return y}z(D,K);D.prototype.prepareTile=function(y,E,H,Q){var S=(0,a.getUid)(y),ea=y.getState();(ea===L["default"].LOADED&&y.hifi||ea===L["default"].ERROR)&&S in
this.tileListenerKeys_&&((0,e.unlistenByKey)(this.tileListenerKeys_[S]),delete this.tileListenerKeys_[S]);if(ea===L["default"].LOADED||ea===L["default"].ERROR)if(this.updateExecutorGroup_(y,E,H),this.tileImageNeedsRender_(y,E,H)){var ba=!0;Q&&(this.renderTileImageQueue_[S]=y)}return ba};D.prototype.getTile=function(y,E,H,Q){var S=Q.pixelRatio,ea=Q.viewState,ba=ea.resolution;ea=ea.projection;var fa=this.getLayer(),ia=fa.getSource().getTile(y,E,H,S,ea);if(ia.getState()<L["default"].LOADED)ia.wantedResolution=
ba,ba=(0,a.getUid)(ia),ba in this.tileListenerKeys_||(S=(0,e.listen)(ia,G["default"].CHANGE,this.prepareTile.bind(this,ia,S,ea,!0)),this.tileListenerKeys_[ba]=S);else{var ca=Q.viewHints;(ca[v["default"].ANIMATING]||ca[v["default"].INTERACTING])&&ia.wantedResolution||(ia.wantedResolution=ba);this.prepareTile(ia,S,ea,!1)&&fa.getRenderMode()!==w["default"].VECTOR&&this.renderTileImage_(ia,Q)}return K.prototype.getTile.call(this,y,E,H,Q)};D.prototype.isDrawableTile=function(y){var E=this.getLayer();return K.prototype.isDrawableTile.call(this,
y)&&(E.getRenderMode()===w["default"].VECTOR?(0,a.getUid)(E)in y.executorGroups:y.hasContext(E))};D.prototype.getTileImage=function(y){return y.getImage(this.getLayer())};D.prototype.prepareFrame=function(y){var E=this.getLayer().getRevision();this.renderedLayerRevision_!=E&&(this.renderedTiles.length=0);this.renderedLayerRevision_=E;return K.prototype.prepareFrame.call(this,y)};D.prototype.updateExecutorGroup_=function(y,E,H){var Q=this.getLayer(),S=Q.getRevision(),ea=Q.getRenderOrder()||null,ba=
y.wantedResolution,fa=y.getReplayState(Q);if(fa.dirty||fa.renderedResolution!==ba||fa.renderedRevision!=S||fa.renderedRenderOrder!=ea||fa.renderedZ!==y.sourceZ){var ia=Q.getSource(),ca=Q.getDeclutter(),N=ia.getTileGrid(),C=ia.getTileGridForProjection(H).getTileCoordExtent(y.wrappedTileCoord),W=ia.getSourceTiles(E,H,y),ha=(0,a.getUid)(Q);delete y.hitDetectionImageData[ha];y.executorGroups[ha]=[];ca&&(y.declutterExecutorGroups[ha]=[]);H=function(Ha,Za){var gb=W[Ha];if(gb.getState()!=L["default"].LOADED)return"continue";
Za=N.getTileCoordExtent(gb.tileCoord);Ha=(0,k.getIntersection)(C,Za);Za=(0,k.equals)(Za,Ha)?null:(0,k.buffer)(Ha,Q.getRenderBuffer()*ba,Y.tmpExtent);fa.dirty=!1;var ra=new l["default"](0,Ha,ba,E),Pa=ca?new l["default"](0,Ha,ba,E):void 0,Ua=(0,f.getSquaredTolerance)(ba,E),za=function(X){var Z,oa=X.getStyleFunction()||Q.getStyleFunction();oa&&(Z=oa(X,ba));Z&&(X=this.renderFeature(X,Ua,Z,ra,Pa),this.dirty_=this.dirty_||X,fa.dirty=fa.dirty||X)};gb=gb.getFeatures();ea&&ea!==fa.renderedRenderOrder&&gb.sort(ea);
for(var qa=0,R=gb.length;qa<R;++qa){var T=gb[qa];Za&&!(0,k.intersects)(Za,T.getGeometry().getExtent())||za.call(Y,T)}Za=ra.finish();Ha=Q.getRenderMode()!==w["default"].VECTOR&&ca&&1===W.length?null:Ha;Za=new u["default"](Ha,ba,E,ia.getOverlaps(),Za,Q.getRenderBuffer());y.executorGroups[ha].push(Za);Pa&&(Ha=new u["default"](Ha,ba,E,ia.getOverlaps(),Pa.finish(),Q.getRenderBuffer()),y.declutterExecutorGroups[ha].push(Ha))};for(var Y=this,wa=0,xa=W.length;wa<xa;++wa)H(wa,xa);fa.renderedRevision=S;fa.renderedZ=
y.sourceZ;fa.renderedRenderOrder=ea;fa.renderedResolution=ba}};D.prototype.forEachFeatureAtCoordinate=function(y,E,H,Q,S){var ea=E.viewState.resolution,ba=E.viewState.rotation;H=void 0==H?0:H;var fa=this.getLayer(),ia=fa.getSource().getTileGridForProjection(E.viewState.projection),ca=(0,k.boundingExtent)([y]);(0,k.buffer)(ca,ea*H,ca);for(var N={},C=function(Ha,Za,gb){var ra=Ha.getId();void 0===ra&&(ra=(0,a.getUid)(Ha));var Pa=N[ra];if(!Pa){if(0===gb)return N[ra]=!0,Q(Ha,fa,Za);S.push(N[ra]={feature:Ha,
layer:fa,geometry:Za,distanceSq:gb,callback:Q})}else if(!0!==Pa&&gb<Pa.distanceSq){if(0===gb)return N[ra]=!0,S.splice(S.lastIndexOf(Pa),1),Q(Ha,fa,Za);Pa.geometry=Za;Pa.distanceSq=gb}},W=this.renderedTiles,ha,Y=function(Ha,Za){Ha=W[Ha];Za=ia.getTileCoordExtent(Ha.wrappedTileCoord);if(!(0,k.intersects)(Za,ca))return"continue";Za=(0,a.getUid)(fa);var gb=[Ha.executorGroups[Za]],ra=Ha.declutterExecutorGroups[Za];ra&&gb.push(ra);gb.some(function(Pa){for(var Ua=Pa===ra?E.declutterTree.all().map(function(R){return R.value}):
null,za=0,qa=Pa.length;za<qa;++za)if(ha=Pa[za].forEachFeatureAtCoordinate(y,ea,ba,H,C,Ua))return!0})},wa=0,xa=W.length;!ha&&wa<xa;++wa)Y(wa,xa);return ha};D.prototype.getFeatures=function(y){return new Promise(function(E,H){H=this.getLayer();for(var Q=(0,a.getUid)(H),S=H.getSource(),ea=this.renderedProjection,ba=ea.getExtent(),fa=this.renderedResolution,ia=S.getTileGridForProjection(ea),ca=(0,t.apply)(this.renderedPixelToCoordinateTransform_,y.slice()),N=ia.getTileCoordForCoordAndResolution(ca,fa),
C,W=0,ha=this.renderedTiles.length;W<ha;++W)if(N.toString()===this.renderedTiles[W].tileCoord.toString()){C=this.renderedTiles[W];if(C.getState()===L["default"].LOADED&&C.hifi){N=ia.getTileCoordExtent(C.tileCoord);S.getWrapX()&&ea.canWrapX()&&!(0,k.containsExtent)(ba,N)&&(0,x.wrapX)(ca,ea);break}C=void 0}!C||0<C.loadingSourceTiles?E([]):(S=ia.getTileCoordExtent(C.wrappedTileCoord),S=(0,k.getTopLeft)(S),ca=[(ca[0]-S[0])/fa,(S[1]-ca[1])/fa],S=C.getSourceTiles().reduce(function(Y,wa){return Y.concat(wa.getFeatures())},
[]),ea=C.hitDetectionImageData[Q],ea||this.animatingOrInteracting_||(ea=(0,n.toSize)(ia.getTileSize(ia.getZForResolution(fa))),N=[ea[0]/2,ea[1]/2],ba=this.renderedRotation_,fa=[this.getRenderTransform(ia.getTileCoordCenter(C.wrappedTileCoord),fa,0,.5,N[0],N[1],0)],ea=(0,d.createHitDetectionImageData)(ea,fa,S,H.getStyleFunction(),ia.getTileCoordExtent(C.wrappedTileCoord),C.getReplayState(H).renderedResolution,ba),C.hitDetectionImageData[Q]=ea),E((0,d.hitDetect)(ca,S,ea)))}.bind(this))};D.prototype.handleFontsChanged=
function(){(0,g.clear)(this.renderTileImageQueue_);var y=this.getLayer();y.getVisible()&&void 0!==this.renderedLayerRevision_&&y.changed()};D.prototype.handleStyleImageChange_=function(y){this.renderIfReadyAndVisible()};D.prototype.renderDeclutter=function(y){var E=y.viewHints;E=!(E[v["default"].ANIMATING]||E[v["default"].INTERACTING]);for(var H=this.renderedTiles,Q=0,S=H.length;Q<S;++Q){var ea=H[Q],ba=ea.declutterExecutorGroups[(0,a.getUid)(this.getLayer())];if(ba)for(var fa=ba.length-1;0<=fa;--fa)ba[fa].execute(this.context,
1,this.getTileRenderTransform(ea,y),y.viewState.rotation,E,void 0,y.declutterTree)}};D.prototype.getTileRenderTransform=function(y,E){var H=E.pixelRatio,Q=E.viewState,S=Q.center,ea=Q.resolution;Q=Q.rotation;var ba=E.size,fa=Math.round(ba[0]*H);ba=Math.round(ba[1]*H);E=this.getLayer().getSource().getTileGridForProjection(E.viewState.projection);var ia=y.tileCoord;y=E.getTileCoordExtent(y.wrappedTileCoord);y=E.getTileCoordExtent(ia,this.tmpExtent)[0]-y[0];return(0,t.multiply)((0,t.scale)(this.inversePixelTransform.slice(),
1/H,1/H),this.getRenderTransform(S,ea,Q,H,fa,ba,y))};D.prototype.renderFrame=function(y,E){var H=y.viewHints;H=!(H[v["default"].ANIMATING]||H[v["default"].INTERACTING]);this.renderQueuedTileImages_(H,y);K.prototype.renderFrame.call(this,y,E);this.renderedPixelToCoordinateTransform_=y.pixelToCoordinateTransform.slice();this.renderedRotation_=y.viewState.rotation;E=this.getLayer();var Q=E.getRenderMode();if(Q===w["default"].IMAGE)return this.container;var S=E.getSource();S=y.usedTiles[(0,a.getUid)(S)];
for(var ea in this.renderTileImageQueue_)S&&ea in S||delete this.renderTileImageQueue_[ea];ea=this.context;Q=M[Q];S=y.viewState.rotation;for(var ba=this.renderedTiles,fa=[],ia=[],ca=ba.length-1;0<=ca;--ca)for(var N=ba[ca],C=this.getTileRenderTransform(N,y),W=N.executorGroups[(0,a.getUid)(E)],ha=!1,Y=0,wa=W.length;Y<wa;++Y){var xa=W[Y];if(xa.hasExecutors(Q)){var Ha=N.tileCoord[0],Za=void 0;if(!ha&&(Za=xa.getClipCoords(C))){ea.save();for(var gb=0,ra=fa.length;gb<ra;++gb){var Pa=fa[gb];Ha<ia[gb]&&(ea.beginPath(),
ea.moveTo(Za[0],Za[1]),ea.lineTo(Za[2],Za[3]),ea.lineTo(Za[4],Za[5]),ea.lineTo(Za[6],Za[7]),ea.moveTo(Pa[6],Pa[7]),ea.lineTo(Pa[4],Pa[5]),ea.lineTo(Pa[2],Pa[3]),ea.lineTo(Pa[0],Pa[1]),ea.clip())}}xa.execute(ea,1,C,S,H,Q);!ha&&Za&&(ea.restore(),fa.push(Za),ia.push(Ha),ha=!0)}}return this.container};D.prototype.renderQueuedTileImages_=function(y,E){for(var H in this.renderTileImageQueue_){if(!y&&8<Date.now()-E.time){E.animate=!0;break}var Q=this.renderTileImageQueue_[H];delete this.renderTileImageQueue_[H];
this.renderTileImage_(Q,E)}};D.prototype.renderFeature=function(y,E,H,Q,S){if(!H)return!1;var ea=!1;if(Array.isArray(H))for(var ba=0,fa=H.length;ba<fa;++ba)ea=(0,f.renderFeature)(Q,y,H[ba],E,this.boundHandleStyleImageChange_,void 0,S)||ea;else ea=(0,f.renderFeature)(Q,y,H,E,this.boundHandleStyleImageChange_,void 0,S);return ea};D.prototype.tileImageNeedsRender_=function(y,E,H){H=this.getLayer();E=y.getReplayState(H);H=H.getRevision();var Q=y.sourceZ;return E.renderedTileResolution!==y.wantedResolution||
E.renderedTileRevision!==H||E.renderedTileZ!==Q};D.prototype.renderTileImage_=function(y,E){var H=this.getLayer(),Q=y.getReplayState(H),S=H.getRevision(),ea=y.executorGroups[(0,a.getUid)(H)];Q.renderedTileRevision=S;Q.renderedTileZ=y.sourceZ;S=y.wrappedTileCoord;var ba=S[0],fa=H.getSource(),ia=E.pixelRatio,ca=E.viewState.projection,N=fa.getTileGridForProjection(ca),C=N.getResolution(y.tileCoord[0]);C*=E.pixelRatio/y.wantedResolution;var W=N.getResolution(ba);E=y.getContext(H);ia=Math.round(Math.max(ia,
C/ia));ba=fa.getTilePixelSize(ba,ia,ca);E.canvas.width=ba[0];E.canvas.height=ba[1];ia/=C;1!==ia&&(ba=(0,t.reset)(this.tmpTransform_),(0,t.scale)(ba,ia,ia),E.setTransform.apply(E,ba));S=N.getTileCoordExtent(S,this.tmpExtent);C/=W;N=(0,t.reset)(this.tmpTransform_);(0,t.scale)(N,C,-C);(0,t.translate)(N,-S[0],-S[3]);S=0;for(C=ea.length;S<C;++S)ea[S].execute(E,ia,N,0,!0,B[H.getRenderMode()]);Q.renderedTileResolution=y.wantedResolution};return D}(Ia["default"]);J["default"]=A};
shadow$provide[332]=function(Ia,A,mb,J){function m(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=m(A(207));var l=m(A(331)),u=m(A(295)),G=m(A(330)),L=A(76),w=A(86),v=function(){var t=function(k,g){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var a in f)Object.prototype.hasOwnProperty.call(f,a)&&(d[a]=f[a])};return t(k,g)};return function(k,g){function d(){this.constructor=
k}t(k,g);k.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}}();A=function(t){function k(g){g=g?g:{};var d=(0,w.assign)({},g);delete d.preload;delete d.useInterimTilesOnError;d=t.call(this,d)||this;var f=g.renderMode||G["default"].HYBRID;(0,L.assert)(void 0==f||f==G["default"].IMAGE||f==G["default"].HYBRID||f==G["default"].VECTOR,28);d.renderMode_=f;d.setPreload(g.preload?g.preload:0);d.setUseInterimTilesOnError(void 0!==g.useInterimTilesOnError?g.useInterimTilesOnError:!0);return d}
v(k,t);k.prototype.createRenderer=function(){return new l["default"](this)};k.prototype.getFeatures=function(g){return t.prototype.getFeatures.call(this,g)};k.prototype.getRenderMode=function(){return this.renderMode_};k.prototype.getPreload=function(){return this.get(u["default"].PRELOAD)};k.prototype.getUseInterimTilesOnError=function(){return this.get(u["default"].USE_INTERIM_TILES_ON_ERROR)};k.prototype.setPreload=function(g){this.set(u["default"].PRELOAD,g)};k.prototype.setUseInterimTilesOnError=
function(g){this.set(u["default"].USE_INTERIM_TILES_ON_ERROR,g)};return k}(Ia["default"]);J["default"]=A};
shadow$provide[333]=function(Ia,A,mb,J){var m={thin:100,hairline:100,"ultra-light":100,"extra-light":100,light:200,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,heavy:800,black:800,"extra-bold":800,"ultra-black":900,"extra-black":900,"ultra-bold":900,"heavy-black":900,fat:900,poster:900},l=/(italic|oblique)$/i,u={};mb.exports=function(G,L,w){var v=u[G];if(!v){Array.isArray(G)||(G=[G]);v=400;for(var t="normal",k=[],g=0,d=G.length;g<
d;++g){var f=G[g].split(" "),a=f[f.length-1].toLowerCase();"normal"==a||"italic"==a||"oblique"==a?(t=a,f.pop(),a=f[f.length-1].toLowerCase()):l.test(a)&&(a=a.replace(l,""),t=f[f.length-1].replace(a,""));for(var e in m)if(a==e||a==e.replace("-","")||a==e.replace("-"," ")){v=m[e];f.pop();break}"number"==typeof a&&(v=a);f=f.join(" ").replace("Klokantech Noto Sans","Noto Sans");-1!==f.indexOf(" ")&&(f='"'+f+'"');k.push(f)}v=u[G]=[t,v,k]}return v[0]+" "+v[1]+" "+L+"px"+(w?"/"+w:"")+" "+v[2]}};
shadow$provide[334]=function(Ia,A,mb,J){var m=A(26).Buffer;(function(l,u){"object"===typeof J&&"undefined"!==typeof mb?u(J):"function"===typeof define&&define.amd?define(["exports"],u):(l=l||self,u(l.mapboxGlStyleSpecification={}))})(this,function(l){function u(q,O){const ja={};for(const Ja in O)void 0!==q[Ja]&&(ja[Ja]=q[Ja]);for(const Ja in q)void 0===ja[Ja]&&(ja[Ja]=q[Ja]);return ja}function G(){throw Error("Dynamic requires are not currently supported by rollup-plugin-commonjs");}function L(q,
O){return O={exports:{}},q(O,O.exports),O.exports}function w(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=this.auth=this.slashes=this.protocol=null}function v(q,O,ja){if(q&&de.isObject(q)&&q instanceof w)return q;var Ja=new w;Ja.parse(q,O,ja);return Ja}function t(q){for(var O=0;O<zc.layout.length;O++)for(const ja in zc[zc.layout[O]])if(ja===q)return zc[zc.layout[O]][ja];for(O=0;O<zc.paint.length;O++)for(const ja in zc[zc.paint[O]])if(ja===
q)return zc[zc.paint[O]][ja];return null}function k(q,O){for(const ja in q.sources)O(q.sources[ja])}function g(q,O){for(const ja of q.layers)O(ja)}function d(q,O,ja){function Ja(cb,fb){const nb=cb[fb];nb&&Object.keys(nb).forEach(Kb=>{ja({path:[cb.id,fb,Kb],key:Kb,value:nb[Kb],reference:t(Kb),set(Yb){nb[Kb]=Yb}})})}g(q,cb=>{O.paint&&Ja(cb,"paint");O.layout&&Ja(cb,"layout")})}function f(q,O){for(const ja in q)0===ja.indexOf("layout")&&O(q[ja],ja)}function a(q,O){for(const ja in q)0===ja.indexOf("paint")&&
O(q[ja],ja)}function e(q,O){return"string"===typeof O&&"@"===O[0]?e(q,q.constants[O]):O}function n(q,O,ja){q[ja]=q[O];delete q[O]}function x(q){function O(cb){const fb=Cc.parse(cb),nb=fb.pathname.split("/");if("mapbox:"!==fb.protocol)return cb;if("fontstack"===fb.hostname)return"mapbox://fonts/mapbox/{fontstack}/{range}.pbf";if("fonts"===fb.hostname)return`mapbox://fonts/${nb[2]}/{fontstack}/{range}.pbf`}function ja(cb){function fb(nb){return nb.split(",").map(Kb=>Kb.trim())}if(Array.isArray(cb))return cb;
if("string"===typeof cb)return fb(cb);if("object"===typeof cb)return cb.stops.forEach(nb=>{nb[1]=fb(nb[1])}),cb;throw Error("unexpected font value");}q.version=8;k(q,cb=>{"video"===cb.type&&void 0!==cb.url&&n(cb,"url","urls");"video"===cb.type&&cb.coordinates.forEach(fb=>fb.reverse())});g(q,cb=>{f(cb,fb=>{void 0!==fb["symbol-min-distance"]&&n(fb,"symbol-min-distance","symbol-spacing")});a(cb,fb=>{void 0!==fb["background-image"]&&n(fb,"background-image","background-pattern");void 0!==fb["line-image"]&&
n(fb,"line-image","line-pattern");void 0!==fb["fill-image"]&&n(fb,"fill-image","fill-pattern")})});d(q,{paint:!0,layout:!0},cb=>{const fb=e(q,cb.value);Array.isArray(fb.stops)&&fb.stops.forEach(nb=>{nb[1]=e(q,nb[1])});cb.set(fb)});delete q.constants;g(q,cb=>{f(cb,fb=>{delete fb["text-max-size"];delete fb["icon-max-size"]});a(cb,fb=>{fb["text-size"]&&(cb.layout||(cb.layout={}),cb.layout["text-size"]=fb["text-size"],delete fb["text-size"]);fb["icon-size"]&&(cb.layout||(cb.layout={}),cb.layout["icon-size"]=
fb["icon-size"],delete fb["icon-size"])})});q.glyphs&&(q.glyphs=O(q.glyphs));g(q,cb=>{f(cb,fb=>{fb["text-font"]&&(fb["text-font"]=ja(fb["text-font"]))})});var Ja=0;for(let cb=q.layers.length-1;0<=cb;cb--)if("symbol"!==q.layers[cb].type){Ja=cb+1;break}Ja=q.layers.splice(Ja);Ja.reverse();q.layers=q.layers.concat(Ja);return q}function z(q,...O){for(const ja of O)for(const Ja in ja)q[Ja]=ja[Ja];return q}function B(q,O){return{kind:"array",itemType:q,N:O}}function M(q){if("array"===q.kind){const O=M(q.itemType);
return"number"===typeof q.N?`array<${O}, ${q.N}>`:"value"===q.itemType.kind?"array":`array<${O}>`}return q.kind}function K(q,O){if("error"===O.kind)return null;if("array"===q.kind){if("array"===O.kind&&(0===O.N&&"value"===O.itemType.kind||!K(q.itemType,O.itemType))&&("number"!==typeof q.N||q.N===O.N))return null}else{if(q.kind===O.kind)return null;if("value"===q.kind)for(const ja of tf)if(!K(ja,O))return null}return`Expected ${M(q)} but found ${M(O)} instead.`}function D(q,O){return O.some(ja=>ja.kind===
q.kind)}function y(q,O){return O.some(ja=>"null"===ja?null===q:"array"===ja?Array.isArray(q):"object"===ja?q&&!Array.isArray(q)&&"object"===typeof q:ja===typeof q)}function E(q,O,ja,Ja){return"number"===typeof q&&0<=q&&255>=q&&"number"===typeof O&&0<=O&&255>=O&&"number"===typeof ja&&0<=ja&&255>=ja?"undefined"===typeof Ja||"number"===typeof Ja&&0<=Ja&&1>=Ja?null:`Invalid rgba value [${[q,O,ja,Ja].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"===typeof Ja?[q,O,ja,Ja]:[q,
O,ja]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function H(q){if(null===q||"string"===typeof q||"boolean"===typeof q||"number"===typeof q||q instanceof we||q instanceof Pe||q instanceof Ma||q instanceof rb)return!0;if(Array.isArray(q)){for(const O of q)if(!H(O))return!1;return!0}if("object"===typeof q){for(const O in q)if(!H(q[O]))return!1;return!0}return!1}function Q(q){if(null===q)return rd;if("string"===typeof q)return Ad;if("boolean"===typeof q)return Sd;if("number"===typeof q)return $c;
if(q instanceof we)return Ye;if(q instanceof Pe)return ye;if(q instanceof Ma)return Xe;if(q instanceof rb)return Ke;if(Array.isArray(q)){const O=q.length;let ja;for(const Ja of q)if(q=Q(Ja),ja){if(ja!==q){ja=Yc;break}}else ja=q;return B(ja||Yc,O)}return Ne}function S(q){const O=typeof q;return null===q?"":"string"===O||"number"===O||"boolean"===O?String(q):q instanceof we||q instanceof Ma||q instanceof rb?q.toString():JSON.stringify(q)}function ea(q,O){q[0]=Math.min(q[0],O[0]);q[1]=Math.min(q[1],
O[1]);q[2]=Math.max(q[2],O[0]);q[3]=Math.max(q[3],O[1])}function ba(q,O){return q[0]<=O[0]||q[2]>=O[2]||q[1]<=O[1]||q[3]>=O[3]?!1:!0}function fa(q,O){let ja=!1;for(let nb=0,Kb=O.length;nb<Kb;nb++){const Yb=O[nb];for(let Ob=0,Fc=Yb.length;Ob<Fc-1;Ob++){{var Ja=Yb[Ob],cb=Yb[Ob+1];var fb=q[0]-Ja[0];Ja=q[1]-Ja[1];const Rc=q[0]-cb[0];cb=q[1]-cb[1];fb=0===fb*cb-Rc*Ja&&0>=fb*Rc&&0>=Ja*cb}if(fb)return!1;fb=Yb[Ob];cb=Yb[Ob+1];fb[1]>q[1]!==cb[1]>q[1]&&q[0]<(cb[0]-fb[0])*(q[1]-fb[1])/(cb[1]-fb[1])+fb[0]&&(ja=
!ja)}}return ja}function ia(q,O,ja,Ja){const cb=Ja[0]-ja[0];Ja=Ja[1]-ja[1];q=(q[0]-ja[0])*Ja-cb*(q[1]-ja[1]);O=(O[0]-ja[0])*Ja-cb*(O[1]-ja[1]);return 0<q&&0>O||0>q&&0<O?!0:!1}function ca(q,O){for(var ja=0;ja<q.length;++ja)if(!fa(q[ja],O))return!1;for(ja=0;ja<q.length-1;++ja){a:{var Ja=q[ja];var cb=q[ja+1],fb=O;for(const Rc of fb)for(let md=0;md<Rc.length-1;++md){fb=Ja;var nb=cb,Kb=Rc[md],Yb=Rc[md+1],Ob=[Yb[0]-Kb[0],Yb[1]-Kb[1]],Fc=[nb[0]-fb[0],nb[1]-fb[1]];if(0===Ob[0]*Fc[1]-Ob[1]*Fc[0]?0:ia(fb,nb,
Kb,Yb)&&ia(Kb,Yb,fb,nb)){Ja=!0;break a}}Ja=!1}if(Ja)return!1}return!0}function N(q,O,ja){const Ja=[];for(let fb=0;fb<q.length;fb++){const nb=[];for(let Kb=0;Kb<q[fb].length;Kb++){{var cb=q[fb][Kb];const Yb=Math.pow(2,ja.z);cb=[Math.round((180+cb[0])/360*Yb*8192),Math.round((180-180/Math.PI*Math.log(Math.tan(Math.PI/4+cb[1]*Math.PI/360)))/360*Yb*8192)]}ea(O,cb);nb.push(cb)}Ja.push(nb)}return Ja}function C(q,O,ja){const Ja=[];for(let cb=0;cb<q.length;cb++){const fb=N(q[cb],O,ja);Ja.push(fb)}return Ja}
function W(q,O,ja,Ja){if(q[0]<ja[0]||q[0]>ja[2]){const cb=.5*Ja;let fb=q[0]-ja[0]>cb?-Ja:ja[0]-q[0]>cb?Ja:0;0===fb&&(fb=q[0]-ja[2]>cb?-Ja:ja[2]-q[0]>cb?Ja:0);q[0]+=fb}ea(O,q)}function ha(q,O,ja,Ja){const cb=8192*Math.pow(2,Ja.z);Ja=[8192*Ja.x,8192*Ja.y];const fb=[];for(const nb of q)for(const Kb of nb)q=[Kb.x+Ja[0],Kb.y+Ja[1]],W(q,O,ja,cb),fb.push(q);return fb}function Y(q,O,ja,Ja){const cb=8192*Math.pow(2,Ja.z);Ja=[8192*Ja.x,8192*Ja.y];const fb=[];for(const nb of q){q=[];for(const Kb of nb){const Yb=
[Kb.x+Ja[0],Kb.y+Ja[1]];ea(O,Yb);q.push(Yb)}fb.push(q)}if(O[2]-O[0]<=cb/2){O[0]=O[1]=Infinity;O[2]=O[3]=-Infinity;for(const nb of fb)for(const Kb of nb)W(Kb,O,ja,cb)}return fb}function wa(q,O){var ja=[Infinity,Infinity,-Infinity,-Infinity],Ja=[Infinity,Infinity,-Infinity,-Infinity];const cb=q.canonicalID();if("Polygon"===O.type){const fb=N(O.coordinates,Ja,cb),nb=ha(q.geometry(),ja,Ja,cb);if(!ba(ja,Ja))return!1;for(const Kb of nb)if(!fa(Kb,fb))return!1}if("MultiPolygon"===O.type){O=C(O.coordinates,
Ja,cb);q=ha(q.geometry(),ja,Ja,cb);if(!ba(ja,Ja))return!1;for(const fb of q){a:{ja=fb;Ja=O;for(q=0;q<Ja.length;q++)if(fa(ja,Ja[q])){ja=!0;break a}ja=!1}if(!ja)return!1}}return!0}function xa(q,O){var ja=[Infinity,Infinity,-Infinity,-Infinity],Ja=[Infinity,Infinity,-Infinity,-Infinity];const cb=q.canonicalID();if("Polygon"===O.type){const fb=N(O.coordinates,Ja,cb),nb=Y(q.geometry(),ja,Ja,cb);if(!ba(ja,Ja))return!1;for(const Kb of nb)if(!ca(Kb,fb))return!1}if("MultiPolygon"===O.type){O=C(O.coordinates,
Ja,cb);q=Y(q.geometry(),ja,Ja,cb);if(!ba(ja,Ja))return!1;for(const fb of q){a:{ja=fb;Ja=O;for(q=0;q<Ja.length;q++)if(ca(ja,Ja[q])){ja=!0;break a}ja=!1}if(!ja)return!1}}return!0}function Ha(q){if(q instanceof vd&&("get"===q.name&&1===q.args.length||"feature-state"===q.name||"has"===q.name&&1===q.args.length||"properties"===q.name||"geometry-type"===q.name||"id"===q.name||/^filter-/.test(q.name))||q instanceof Kd)return!1;let O=!0;q.eachChild(ja=>{O&&!Ha(ja)&&(O=!1)});return O}function Za(q){if(q instanceof
vd&&"feature-state"===q.name)return!1;let O=!0;q.eachChild(ja=>{O&&!Za(ja)&&(O=!1)});return O}function gb(q,O){if(q instanceof vd&&0<=O.indexOf(q.name))return!1;let ja=!0;q.eachChild(Ja=>{ja&&!gb(Ja,O)&&(ja=!1)});return ja}function ra(q){if(q instanceof pe)return ra(q.boundExpression);if(q instanceof vd&&"error"===q.name||q instanceof ze||q instanceof Kd)return!1;const O=q instanceof ud||q instanceof gc;let ja=!0;q.eachChild(Ja=>{ja=O?ja&&ra(Ja):ja&&Ja instanceof Pb});return ja?Ha(q)&&gb(q,"zoom heatmap-density line-progress sky-radial-progress accumulated is-supported-script".split(" ")):
!1}function Pa(q,O){const ja=q.length-1;let Ja=0,cb=ja,fb,nb,Kb;for(;Ja<=cb;)if(fb=Math.floor((Ja+cb)/2),nb=q[fb],Kb=q[fb+1],nb<=O){if(fb===ja||O<Kb)return fb;Ja=fb+1}else if(nb>O)cb=fb-1;else throw new Mb("Input is not a number.");return 0}function Ua(q,O,ja,Ja){this.cx=3*q;this.bx=3*(ja-q)-this.cx;this.ax=1-this.cx-this.bx;this.cy=3*O;this.by=3*(Ja-O)-this.cy;this.ay=1-this.cy-this.by;this.p1x=q;this.p1y=Ja;this.p2x=ja;this.p2y=Ja}function za(q,O,ja){return q*(1-ja)+O*ja}function qa(q){return q>
Uf?Math.pow(q,1/3):q/Se+$d}function R(q){return q>Qe?q*q*q:Se*(q-$d)}function T(q){return 255*(.0031308>=q?12.92*q:1.055*Math.pow(q,1/2.4)-.055)}function X(q){q/=255;return.04045>=q?q/12.92:Math.pow((q+.055)/1.055,2.4)}function Z(q){var O=X(q.r);const ja=X(q.g),Ja=X(q.b),cb=qa((.4124564*O+.3575761*ja+.1804375*Ja)/.95047),fb=qa(.2126729*O+.7151522*ja+.072175*Ja);O=qa((.0193339*O+.119192*ja+.9503041*Ja)/1.08883);return{l:116*fb-16,a:500*(cb-fb),b:200*(fb-O),alpha:q.a}}function oa(q){let O=(q.l+16)/
116,ja=isNaN(q.a)?O:O+q.a/500,Ja=isNaN(q.b)?O:O-q.b/200;O=1*R(O);ja=.95047*R(ja);Ja=1.08883*R(Ja);return new we(T(3.2404542*ja-1.5371385*O-.4985314*Ja),T(-.969266*ja+1.8760108*O+.041556*Ja),T(.0556434*ja-.2040259*O+1.0572252*Ja),q.alpha)}function na(q,O,ja,Ja){Ja-=ja;q-=ja;return 0===Ja?0:1===O?q/Ja:(Math.pow(O,q)-1)/(Math.pow(O,Ja)-1)}function Aa(q,O){return"\x3d\x3d"===q||"!\x3d"===q?"boolean"===O.kind||"string"===O.kind||"number"===O.kind||"null"===O.kind||"value"===O.kind:"string"===O.kind||"number"===
O.kind||"value"===O.kind}function ka(q,O,ja,Ja){return 0===Ja.compare(O,ja)}function Na(q,O,ja){const Ja="\x3d\x3d"!==q&&"!\x3d"!==q;return class cb{constructor(fb,nb,Kb){this.type=Sd;this.lhs=fb;this.rhs=nb;this.collator=Kb;this.hasUntypedArgument="value"===fb.type.kind||"value"===nb.type.kind}static parse(fb,nb){if(3!==fb.length&&4!==fb.length)return nb.error("Expected two or three arguments.");var Kb=fb[0];let Yb=nb.parse(fb[1],1,Yc);if(!Yb)return null;if(!Aa(Kb,Yb.type))return nb.concat(1).error(`"${Kb}" comparisons are not supported for type '${M(Yb.type)}'.`);
let Ob=nb.parse(fb[2],2,Yc);if(!Ob)return null;if(!Aa(Kb,Ob.type))return nb.concat(2).error(`"${Kb}" comparisons are not supported for type '${M(Ob.type)}'.`);if(Yb.type.kind!==Ob.type.kind&&"value"!==Yb.type.kind&&"value"!==Ob.type.kind)return nb.error(`Cannot compare types '${M(Yb.type)}' and '${M(Ob.type)}'.`);Ja&&("value"===Yb.type.kind&&"value"!==Ob.type.kind?Yb=new gc(Ob.type,[Yb]):"value"!==Yb.type.kind&&"value"===Ob.type.kind&&(Ob=new gc(Yb.type,[Ob])));Kb=null;if(4===fb.length){if("string"!==
Yb.type.kind&&"string"!==Ob.type.kind&&"value"!==Yb.type.kind&&"value"!==Ob.type.kind)return nb.error("Cannot use collator to compare non-string types.");Kb=nb.parse(fb[3],3,ye);if(!Kb)return null}return new cb(Yb,Ob,Kb)}evaluate(fb){const nb=this.lhs.evaluate(fb),Kb=this.rhs.evaluate(fb);if(Ja&&this.hasUntypedArgument){var Yb=Q(nb),Ob=Q(Kb);if(Yb.kind!==Ob.kind||"string"!==Yb.kind&&"number"!==Yb.kind)throw new Mb(`Expected arguments for "${q}" to be (string, string) or (number, number), but found (${Yb.kind}, ${Ob.kind}) instead.`);
}return this.collator&&!Ja&&this.hasUntypedArgument&&(Yb=Q(nb),Ob=Q(Kb),"string"!==Yb.kind||"string"!==Ob.kind)?O(fb,nb,Kb):this.collator?ja(fb,nb,Kb,this.collator.evaluate(fb)):O(fb,nb,Kb)}eachChild(fb){fb(this.lhs);fb(this.rhs);this.collator&&fb(this.collator)}outputDefined(){return!0}serialize(){const fb=[q];this.eachChild(nb=>{fb.push(nb.serialize())});return fb}}}function $a(q,[O,ja,Ja,cb]){O=O.evaluate(q);ja=ja.evaluate(q);Ja=Ja.evaluate(q);q=cb?cb.evaluate(q):1;if(cb=E(O,ja,Ja,q))throw new Mb(cb);
return new we(O/255*q,ja/255*q,Ja/255*q,q)}function Wa(q,O){q=O[q];return"undefined"===typeof q?null:q}function Ca(q){return{result:"success",value:q}}function Da(q){return{result:"error",value:q}}function ma(q){return"data-driven"===q["property-type"]||"cross-faded-data-driven"===q["property-type"]}function Ea(q){return!!q.expression&&-1<q.expression.parameters.indexOf("zoom")}function Qa(q){return!!q.expression&&q.expression.interpolated}function eb(q){return q instanceof Number?"number":q instanceof
String?"string":q instanceof Boolean?"boolean":Array.isArray(q)?"array":null===q?"null":typeof q}function yb(q){return"object"===typeof q&&null!==q&&!Array.isArray(q)}function Qb(q){return q}function fc(q,O){var ja="color"===O.type,Ja=q.stops&&"object"===typeof q.stops[0][0],cb=Ja||void 0!==q.property;cb=Ja||!cb;var fb=q.type||(Qa(O)?"exponential":"interval");ja&&(q=z({},q),q.stops&&(q.stops=q.stops.map(Rc=>[Rc[0],we.parse(Rc[1])])),q.default=q.default?we.parse(q.default):we.parse(O.default));if(q.colorSpace&&
"rgb"!==q.colorSpace&&!Ka[q.colorSpace])throw Error(`Unknown color space: ${q.colorSpace}`);let nb,Kb,Yb;if("exponential"===fb)nb=ib;else if("interval"===fb)nb=xc;else if("categorical"===fb){nb=ic;Kb=Object.create(null);for(var Ob of q.stops)Kb[Ob[0]]=Ob[1];Yb=typeof q.stops[0][0]}else if("identity"===fb)nb=$b;else throw Error(`Unknown function type "${fb}"`);if(Ja){ja={};Ja=[];for(Ob=0;Ob<q.stops.length;Ob++)cb=q.stops[Ob],fb=cb[0].zoom,void 0===ja[fb]&&(ja[fb]={zoom:fb,type:q.type,property:q.property,
default:q.default,stops:[]},Ja.push(fb)),ja[fb].stops.push([cb[0].value,cb[1]]);const Rc=[];for(var Fc of Ja)Rc.push([ja[Fc].zoom,fc(ja[Fc],O)]);Fc={name:"linear"};return{kind:"composite",interpolationType:Fc,interpolationFactor:Oa.interpolationFactor.bind(void 0,Fc),zoomStops:Rc.map(md=>md[0]),evaluate({zoom:md},ed){return ib({stops:Rc,base:q.base},O,md).evaluate(md,ed)}}}return cb?(Fc="exponential"===fb?{name:"exponential",base:void 0!==q.base?q.base:1}:null,{kind:"camera",interpolationType:Fc,
interpolationFactor:Oa.interpolationFactor.bind(void 0,Fc),zoomStops:q.stops.map(Rc=>Rc[0]),evaluate:({zoom:Rc})=>nb(q,O,Rc,Kb,Yb)}):{kind:"source",evaluate(Rc,md){Rc=md&&md.properties?md.properties[q.property]:void 0;return void 0===Rc?ad(q.default,O.default):nb(q,O,Rc,Kb,Yb)}}}function ad(q,O,ja){if(void 0!==q)return q;if(void 0!==O)return O;if(void 0!==ja)return ja}function ic(q,O,ja,Ja,cb){return ad(typeof ja===cb?Ja[ja]:void 0,q.default,O.default)}function xc(q,O,ja){if("number"!==eb(ja))return ad(q.default,
O.default);O=q.stops.length;if(1===O||ja<=q.stops[0][0])return q.stops[0][1];if(ja>=q.stops[O-1][0])return q.stops[O-1][1];ja=Pa(q.stops.map(Ja=>Ja[0]),ja);return q.stops[ja][1]}function ib(q,O,ja){const Ja=void 0!==q.base?q.base:1;if("number"!==eb(ja))return ad(q.default,O.default);var cb=q.stops.length;if(1===cb||ja<=q.stops[0][0])return q.stops[0][1];if(ja>=q.stops[cb-1][0])return q.stops[cb-1][1];cb=Pa(q.stops.map(Ob=>Ob[0]),ja);const fb=bc(ja,Ja,q.stops[cb][0],q.stops[cb+1][0]),nb=q.stops[cb][1],
Kb=q.stops[cb+1][1];let Yb=pf[O.type]||Qb;if(q.colorSpace&&"rgb"!==q.colorSpace){const Ob=Ka[q.colorSpace];Yb=(Fc,Rc)=>Ob.reverse(Ob.interpolate(Ob.forward(Fc),Ob.forward(Rc),fb))}return"function"===typeof nb.evaluate?{evaluate(...Ob){const Fc=nb.evaluate.apply(void 0,Ob);Ob=Kb.evaluate.apply(void 0,Ob);if(void 0!==Fc&&void 0!==Ob)return Yb(Fc,Ob,fb)}}:Yb(nb,Kb,fb)}function $b(q,O,ja){"color"===O.type?ja=we.parse(ja):"formatted"===O.type?ja=Ma.fromString(ja.toString()):"resolvedImage"===O.type?ja=
rb.fromString(ja.toString()):eb(ja)===O.type||"enum"===O.type&&O.values[ja]||(ja=void 0);return ad(ja,q.default,O.default)}function bc(q,O,ja,Ja){Ja-=ja;q-=ja;return 0===Ja?0:1===O?q/Ja:(Math.pow(O,q)-1)/(Math.pow(O,Ja)-1)}function kc(q){return Array.isArray(q)&&0<q.length&&"string"===typeof q[0]&&q[0]in hc}function Ec(q,O){if(O){var ja={color:Ye,string:Ad,number:$c,enum:Ad,boolean:Sd,formatted:Xe,resolvedImage:Ke};ja="array"===O.type?B(ja[O.value]||Yc,O.length):ja[O.type]}else ja=void 0;ja=new ge(hc,
[],ja);return(q=ja.parse(q,void 0,void 0,void 0,O&&"string"===O.type?{typeAnnotation:"coerce"}:void 0))?Ca(new wc(q,O)):Da(ja.errors)}function jc(q,O){q=Ec(q,O);if("error"===q.result)return q;var ja=q.value.expression;const Ja=Ha(ja);if(!Ja&&!ma(O))return Da([new Bd("","data expressions not supported")]);const cb=gb(ja,["zoom"]);if(!cb&&!Ea(O))return Da([new Bd("","zoom expressions not supported")]);if((ja=Oc(ja))||cb){if(ja instanceof Bd)return Da([ja]);if(ja instanceof Oa&&!Qa(O))return Da([new Bd("",
'"interpolate" expressions cannot be used with this property')])}else return Da([new Bd("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(!ja)return Ca(Ja?new Sc("constant",q.value):new Sc("source",q.value));O=ja instanceof Oa?ja.interpolation:void 0;return Ca(Ja?new Pc("camera",q.value,ja.labels,O):new Pc("composite",q.value,ja.labels,O))}function Oc(q){let O=null;if(q instanceof db)O=Oc(q.result);else if(q instanceof bb)for(const ja of q.args){if(O=
Oc(ja))break}else(q instanceof re||q instanceof Oa)&&q.input instanceof vd&&"zoom"===q.input.name&&(O=q);if(O instanceof Bd)return O;q.eachChild(ja=>{ja=Oc(ja);ja instanceof Bd?O=ja:!O&&ja?O=new Bd("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):O&&ja&&O!==ja&&(O=new Bd("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))});return O}function Hc(q){return"object"===typeof q?["literal",q]:q}function Bc(q,
O){let ja=q.stops;if(!ja)return td(q,O);const Ja=ja&&"object"===typeof ja[0][0],cb=Ja||void 0!==q.property,fb=Ja||!cb;ja=ja.map(nb=>!cb&&O.tokens&&"string"===typeof nb[1]?[nb[0],Nc(nb[1])]:[nb[0],Hc(nb[1])]);return Ja?jd(q,O,ja):fb?Ib(q,O,ja):Fd(q,O,ja)}function td(q,O){const ja=["get",q.property];if(void 0===q.default)return"string"===O.type?["string",ja]:ja;if("enum"===O.type)return["match",ja,Object.keys(O.values),ja,q.default];q=["color"===O.type?"to-color":O.type,ja,Hc(q.default)];"array"===
O.type&&q.splice(1,0,O.value,O.length||null);return q}function Qd(q){switch(q.colorSpace){case "hcl":return"interpolate-hcl";case "lab":return"interpolate-lab";default:return"interpolate"}}function jd(q,O,ja){const Ja={},cb={};var fb=[];for(let Yb=0;Yb<ja.length;Yb++){const Ob=ja[Yb],Fc=Ob[0].zoom;void 0===Ja[Fc]&&(Ja[Fc]={zoom:Fc,type:q.type,property:q.property,default:q.default},cb[Fc]=[],fb.push(Fc));cb[Fc].push([Ob[0].value,Ob[1]])}if("exponential"===qc({},O)){var nb=[Qd(q),["linear"],["zoom"]];
for(var Kb of fb)fb=Fd(Ja[Kb],O,cb[Kb]),xb(nb,Kb,fb,!1);return nb}Kb=["step",["zoom"]];for(nb of fb)fb=Fd(Ja[nb],O,cb[nb]),xb(Kb,nb,fb,!0);Zb(Kb);return Kb}function hd(q,O){q=q.default;var ja=O.default;q=Hc(void 0!==q?q:void 0!==ja?ja:void 0);return void 0===q&&"resolvedImage"===O.type?"":q}function Fd(q,O,ja){const Ja=qc(q,O);var cb=["get",q.property];if("categorical"===Ja&&"boolean"===typeof ja[0][0]){var fb=["case"];for(const nb of ja)fb.push(["\x3d\x3d",cb,nb[0]],nb[1]);fb.push(hd(q,O));return fb}if("categorical"===
Ja){cb=["match",cb];for(const nb of ja)xb(cb,nb[0],nb[1],!1);cb.push(hd(q,O));return cb}if("interval"===Ja){O=["step",["number",cb]];for(const nb of ja)xb(O,nb[0],nb[1],!0);Zb(O);return void 0===q.default?O:["case",["\x3d\x3d",["typeof",cb],"number"],O,Hc(q.default)]}if("exponential"===Ja){O=void 0!==q.base?q.base:1;O=[Qd(q),1===O?["linear"]:["exponential",O],["number",cb]];for(fb of ja)xb(O,fb[0],fb[1],!1);return void 0===q.default?O:["case",["\x3d\x3d",["typeof",cb],"number"],O,Hc(q.default)]}throw Error(`Unknown property function type ${Ja}`);
}function Ib(q,O,ja,Ja=["zoom"]){var cb=qc(q,O);O=!1;if("interval"===cb)q=["step",Ja],O=!0;else if("exponential"===cb)cb=void 0!==q.base?q.base:1,q=[Qd(q),1===cb?["linear"]:["exponential",cb],Ja];else throw Error(`Unknown zoom function type "${cb}"`);for(const fb of ja)xb(q,fb[0],fb[1],O);Zb(q);return q}function Zb(q){"step"===q[0]&&3===q.length&&(q.push(0),q.push(q[3]))}function xb(q,O,ja,Ja){3<q.length&&O===q[q.length-2]||(Ja&&2===q.length||q.push(O),q.push(ja))}function qc(q,O){return q.type?q.type:
O.expression.interpolated?"exponential":"interval"}function Nc(q){const O=["concat"],ja=/{([^{}]+)}/g;let Ja=0;for(let cb=ja.exec(q);null!==cb;cb=ja.exec(q)){const fb=q.slice(Ja,ja.lastIndex-cb[0].length);Ja=ja.lastIndex;0<fb.length&&O.push(fb);O.push(["get",cb[1]])}if(1===O.length)return q;if(Ja<q.length)O.push(q.slice(Ja));else if(2===O.length)return["to-string",O[1]];return O}function qd(q){if(!0===q||!1===q)return!0;if(!Array.isArray(q)||0===q.length)return!1;switch(q[0]){case "has":return 2<=
q.length&&"$id"!==q[1]&&"$type"!==q[1];case "in":return 3<=q.length&&("string"!==typeof q[1]||Array.isArray(q[2]));case "!in":case "!has":case "none":return!1;case "\x3d\x3d":case "!\x3d":case "\x3e":case "\x3e\x3d":case "\x3c":case "\x3c\x3d":return 3!==q.length||Array.isArray(q[1])||Array.isArray(q[2]);case "any":case "all":for(const O of q.slice(1))if(!qd(O)&&"boolean"!==typeof O)return!1;return!0;default:return!0}}function Ed(q,O){return q<O?-1:q>O?1:0}function Ga(q){if(!Array.isArray(q))return!1;
if("within"===q[0])return!0;for(let O=1;O<q.length;O++)if(Ga(q[O]))return!0;return!1}function ab(q){if(!q)return!0;const O=q[0];return 1>=q.length?"any"!==O:"\x3d\x3d"===O?qb(q[1],q[2],"\x3d\x3d"):"!\x3d"===O?Eb(qb(q[1],q[2],"\x3d\x3d")):"\x3c"===O||"\x3e"===O||"\x3c\x3d"===O||"\x3e\x3d"===O?qb(q[1],q[2],O):"any"===O?["any"].concat(q.slice(1).map(ab)):"all"===O?["all"].concat(q.slice(1).map(ab)):"none"===O?["all"].concat(q.slice(1).map(ab).map(Eb)):"in"===O?Bb(q[1],q.slice(2)):"!in"===O?Eb(Bb(q[1],
q.slice(2))):"has"===O?Tb(q[1]):"!has"===O?Eb(Tb(q[1])):"within"===O?q:!0}function qb(q,O,ja){switch(q){case "$type":return[`filter-type-${ja}`,O];case "$id":return[`filter-id-${ja}`,O];default:return[`filter-${ja}`,q,O]}}function Bb(q,O){if(0===O.length)return!1;switch(q){case "$type":return["filter-type-in",["literal",O]];case "$id":return["filter-id-in",["literal",O]];default:return 200<O.length&&!O.some(ja=>typeof ja!==typeof O[0])?["filter-in-large",q,["literal",O.sort(Ed)]]:["filter-in-small",
q,["literal",O]]}}function Tb(q){switch(q){case "$type":return!0;case "$id":return["filter-has-id"];default:return["filter-has",q]}}function Eb(q){return["!",q]}function rc(q){return lc(q,{})}function lc(q,O){if(qd(q))return q;if(!q)return!0;const ja=q[0];if(1>=q.length)return"any"!==ja;if("\x3d\x3d"===ja||"!\x3d"===ja||"\x3c"===ja||"\x3e"===ja||"\x3c\x3d"===ja||"\x3e\x3d"===ja){const [,Ja,cb]=q;q=kb(Ja,cb,ja,O)}else{if("any"===ja)return q=q.slice(1).map(Ja=>{var cb={};Ja=lc(Ja,cb);{const fb=[];for(const nb in cb)fb.push(["\x3d\x3d",
["typeof","$id"===nb?["id"]:["get",nb]],cb[nb]]);cb=0===fb.length?!0:1===fb.length?fb[0]:["all"].concat(fb)}return!0===cb?Ja:["case",cb,Ja,!1]}),["any"].concat(q);if("all"===ja)return q=q.slice(1).map(Ja=>lc(Ja,O)),1<q.length?["all"].concat(q):[].concat(...q);if("none"===ja)return["!",lc(["any"].concat(q.slice(1)),{})];q="in"===ja?vb(q[1],q.slice(2)):"!in"===ja?vb(q[1],q.slice(2),!0):"has"===ja?Nb(q[1]):"!has"===ja?["!",Nb(q[1])]:!0}return q}function kb(q,O,ja,Ja){let cb;if("$type"===q)return[ja,
["geometry-type"],O];cb="$id"===q?["id"]:["get",q];Ja&&null!==O&&(Ja[q]=typeof O);return"\x3d\x3d"===ja&&"$id"!==q&&null===O?["all",["has",q],["\x3d\x3d",cb,null]]:"!\x3d"===ja&&"$id"!==q&&null===O?["any",["!",["has",q]],["!\x3d",cb,null]]:[ja,cb,O]}function vb(q,O,ja=!1){if(0===O.length)return ja;let Ja;Ja="$type"===q?["geometry-type"]:"$id"===q?["id"]:["get",q];q=!0;const cb=typeof O[0];for(var fb of O)if(typeof fb!==cb){q=!1;break}return!q||"string"!==cb&&"number"!==cb?[ja?"all":"any"].concat(O.map(nb=>
[ja?"!\x3d":"\x3d\x3d",Ja,nb])):(fb=O.sort().filter((nb,Kb)=>0===Kb||O[Kb-1]!==nb),["match",Ja,fb,!ja,ja])}function Nb(q){return"$type"===q?!0:"$id"===q?["!\x3d",["id"],null]:["has",q]}function ec(q){const O=[];g(q,ja=>{ja.filter&&(ja.filter=rc(ja.filter))});d(q,{paint:!0,layout:!0},({path:ja,value:Ja,reference:cb,set:fb})=>{kc(Ja)||("object"!==typeof Ja||Array.isArray(Ja)?cb.tokens&&"string"===typeof Ja&&fb(Nc(Ja)):(fb(Bc(Ja,cb)),O.push(ja.join("."))))});return q}function tc(q,O){const ja={};for(const Ja in q)"ref"!==
Ja&&(ja[Ja]=q[Ja]);cd.forEach(Ja=>{Ja in O&&(ja[Ja]=O[Ja])});return ja}function uc(q,O){if(Array.isArray(q)){if(!Array.isArray(O)||q.length!==O.length)return!1;for(var ja=0;ja<q.length;ja++)if(!uc(q[ja],O[ja]))return!1;return!0}if("object"===typeof q&&null!==q&&null!==O){if("object"!==typeof O||Object.keys(q).length!==Object.keys(O).length)return!1;for(ja in q)if(!uc(q[ja],O[ja]))return!1;return!0}return q===O}function Lc(q,O,ja,Ja){q=q||{};O=O||{};let cb;for(cb in q)if(q.hasOwnProperty(cb)&&!O.hasOwnProperty(cb)){var fb=
cb,nb=Ja;ja.push({command:pd.removeSource,args:[fb]});nb[fb]=!0}for(cb in O)if(O.hasOwnProperty(cb))if(!q.hasOwnProperty(cb))ja.push({command:pd.addSource,args:[cb,O[cb]]});else if(!uc(q[cb],O[cb])){if(fb="geojson"===q[cb].type&&"geojson"===O[cb].type)a:{var Kb=void 0;fb=q;nb=O;var Yb=cb;for(Kb in fb[Yb])if(fb[Yb].hasOwnProperty(Kb)&&"data"!==Kb&&!uc(fb[Yb][Kb],nb[Yb][Kb])){fb=!1;break a}for(Kb in nb[Yb])if(nb[Yb].hasOwnProperty(Kb)&&"data"!==Kb&&!uc(fb[Yb][Kb],nb[Yb][Kb])){fb=!1;break a}fb=!0}if(fb)ja.push({command:pd.setGeoJSONSourceData,
args:[cb,O[cb].data]});else{fb=cb;nb=O;Yb=ja;Kb=fb;var Ob=Ja;Yb.push({command:pd.removeSource,args:[Kb]});Ob[Kb]=!0;Yb.push({command:pd.addSource,args:[fb,nb[fb]]})}}}function Jb(q,O,ja,Ja,cb,fb){q=q||{};O=O||{};let nb;for(nb in q)q.hasOwnProperty(nb)&&(uc(q[nb],O[nb])||ja.push({command:fb,args:[Ja,nb,O[nb],cb]}));for(nb in O)O.hasOwnProperty(nb)&&!q.hasOwnProperty(nb)&&(uc(q[nb],O[nb])||ja.push({command:fb,args:[Ja,nb,O[nb],cb]}))}function yc(q){return q.id}function vc(q,O){q[O.id]=O;return q}function mc(q,
O,ja){q=q||[];O=O||[];var Ja=q.map(yc);const cb=O.map(yc);q=q.reduce(vc,{});O=O.reduce(vc,{});const fb=Ja.slice(),nb=Object.create(null);let Kb;var Yb;let Ob,Fc,Rc;for(Yb=Kb=0;Kb<Ja.length;Kb++)Ob=Ja[Kb],O.hasOwnProperty(Ob)?Yb++:(ja.push({command:pd.removeLayer,args:[Ob]}),fb.splice(fb.indexOf(Ob,Yb),1));for(Yb=Kb=0;Kb<cb.length;Kb++)Ob=cb[cb.length-1-Kb],fb[fb.length-1-Kb]!==Ob&&(q.hasOwnProperty(Ob)?(ja.push({command:pd.removeLayer,args:[Ob]}),fb.splice(fb.lastIndexOf(Ob,fb.length-Yb),1)):Yb++,
Fc=fb[fb.length-Kb],ja.push({command:pd.addLayer,args:[O[Ob],Fc]}),fb.splice(fb.length-Kb,0,Ob),nb[Ob]=!0);for(Kb=0;Kb<cb.length;Kb++)if(Ob=cb[Kb],Yb=q[Ob],Ja=O[Ob],!nb[Ob]&&!uc(Yb,Ja))if(uc(Yb.source,Ja.source)&&uc(Yb["source-layer"],Ja["source-layer"])&&uc(Yb.type,Ja.type)){Jb(Yb.layout,Ja.layout,ja,Ob,null,pd.setLayoutProperty);Jb(Yb.paint,Ja.paint,ja,Ob,null,pd.setPaintProperty);uc(Yb.filter,Ja.filter)||ja.push({command:pd.setFilter,args:[Ob,Ja.filter]});uc(Yb.minzoom,Ja.minzoom)&&uc(Yb.maxzoom,
Ja.maxzoom)||ja.push({command:pd.setLayerZoomRange,args:[Ob,Ja.minzoom,Ja.maxzoom]});for(Rc in Yb)Yb.hasOwnProperty(Rc)&&"layout"!==Rc&&"paint"!==Rc&&"filter"!==Rc&&"metadata"!==Rc&&"minzoom"!==Rc&&"maxzoom"!==Rc&&(0===Rc.indexOf("paint.")?Jb(Yb[Rc],Ja[Rc],ja,Ob,Rc.slice(6),pd.setPaintProperty):uc(Yb[Rc],Ja[Rc])||ja.push({command:pd.setLayerProperty,args:[Ob,Rc,Ja[Rc]]}));for(Rc in Ja)Ja.hasOwnProperty(Rc)&&!Yb.hasOwnProperty(Rc)&&"layout"!==Rc&&"paint"!==Rc&&"filter"!==Rc&&"metadata"!==Rc&&"minzoom"!==
Rc&&"maxzoom"!==Rc&&(0===Rc.indexOf("paint.")?Jb(Yb[Rc],Ja[Rc],ja,Ob,Rc.slice(6),pd.setPaintProperty):uc(Yb[Rc],Ja[Rc])||ja.push({command:pd.setLayerProperty,args:[Ob,Rc,Ja[Rc]]}))}else ja.push({command:pd.removeLayer,args:[Ob]}),Fc=fb[fb.lastIndexOf(Ob)+1],ja.push({command:pd.addLayer,args:[Ja,Fc]})}function Kc(q){const O=q.key;return(q=q.value)?[new Xc(O,q,"constants have been deprecated as of v8")]:[]}function Qc(q){return q instanceof Number||q instanceof String||q instanceof Boolean?q.valueOf():
q}function Zc(q){if(Array.isArray(q))return q.map(Zc);if(q instanceof Object&&!(q instanceof Number||q instanceof String||q instanceof Boolean)){const O={};for(const ja in q)O[ja]=Zc(q[ja]);return O}return Qc(q)}function nd(q){const O=q.key,ja=q.value,Ja=q.valueSpec||{},cb=q.objectElementValidators||{},fb=q.style;q=q.styleSpec;let nb=[];var Kb=eb(ja);if("object"!==Kb)return[new Xc(O,ja,`object expected, ${Kb} found`)];for(const Ob in ja){var Yb=Ob.split(".")[0];Kb=Ja[Yb]||Ja["*"];if(cb[Yb])Yb=cb[Yb];
else if(Ja[Yb])Yb=ae;else if(cb["*"])Yb=cb["*"];else if(Ja["*"])Yb=ae;else{nb.push(new Xc(O,ja[Ob],`unknown property "${Ob}"`));continue}nb=nb.concat(Yb({key:(O?`${O}.`:O)+Ob,value:ja[Ob],valueSpec:Kb,style:fb,styleSpec:q,object:ja,objectKey:Ob},ja))}for(const Ob in Ja)cb[Ob]||Ja[Ob].required&&void 0===Ja[Ob]["default"]&&void 0===ja[Ob]&&nb.push(new Xc(O,ja,`missing required property "${Ob}"`));return nb}function od(q){const O=q.value;var ja=q.valueSpec;const Ja=q.style,cb=q.styleSpec,fb=q.key;q=
q.arrayElementValidator||ae;if("array"!==eb(O))return[new Xc(fb,O,`array expected, ${eb(O)} found`)];if(ja.length&&O.length!==ja.length)return[new Xc(fb,O,`array length ${ja.length} expected, length ${O.length} found`)];if(ja["min-length"]&&O.length<ja["min-length"])return[new Xc(fb,O,`array length at least ${ja["min-length"]} expected, length ${O.length} found`)];let nb={type:ja.value,values:ja.values};7>cb.$version&&(nb.function=ja.function);"object"===eb(ja.value)&&(nb=ja.value);ja=[];for(let Kb=
0;Kb<O.length;Kb++)ja=ja.concat(q({array:O,arrayIndex:Kb,value:O[Kb],valueSpec:nb,style:Ja,styleSpec:cb,key:`${fb}[${Kb}]`}));return ja}function Dd(q){const O=q.key,ja=q.value;q=q.valueSpec;let Ja=eb(ja);"number"===Ja&&ja!==ja&&(Ja="NaN");return"number"!==Ja?[new Xc(O,ja,`number expected, ${Ja} found`)]:"minimum"in q&&ja<q.minimum?[new Xc(O,ja,`${ja} is less than the minimum value ${q.minimum}`)]:"maximum"in q&&ja>q.maximum?[new Xc(O,ja,`${ja} is greater than the maximum value ${q.maximum}`)]:[]}
function Jd(q){function O(ed){let Wc=[];const Dc=ed.value,ld=ed.key;if("array"!==eb(Dc))return[new Xc(ld,Dc,`array expected, ${eb(Dc)} found`)];if(2!==Dc.length)return[new Xc(ld,Dc,`array length 2 expected, length ${Dc.length} found`)];if(Rc){if("object"!==eb(Dc[0]))return[new Xc(ld,Dc,`object expected, ${eb(Dc[0])} found`)];if(void 0===Dc[0].zoom)return[new Xc(ld,Dc,"object stop key must have zoom")];if(void 0===Dc[0].value)return[new Xc(ld,Dc,"object stop key must have value")];if(Yb&&Yb>Qc(Dc[0].zoom))return[new Xc(ld,
Dc[0].zoom,"stop zoom values must appear in ascending order")];Qc(Dc[0].zoom)!==Yb&&(Yb=Qc(Dc[0].zoom),Kb=void 0,nb={});Wc=Wc.concat(nd({key:`${ld}[0]`,value:Dc[0],valueSpec:{zoom:{}},style:ed.style,styleSpec:ed.styleSpec,objectElementValidators:{zoom:Dd,value:ja}}))}else Wc=Wc.concat(ja({key:`${ld}[0]`,value:Dc[0],valueSpec:{},style:ed.style,styleSpec:ed.styleSpec},Dc));return kc(Zc(Dc[1]))?Wc.concat([new Xc(`${ld}[1]`,Dc[1],"expressions are not allowed in function stops.")]):Wc.concat(ae({key:`${ld}[1]`,
value:Dc[1],valueSpec:Ja,style:ed.style,styleSpec:ed.styleSpec}))}function ja(ed,Wc){var Dc=eb(ed.value);const ld=Qc(ed.value);Wc=null!==ed.value?ed.value:Wc;if(!fb)fb=Dc;else if(Dc!==fb)return[new Xc(ed.key,Wc,`${Dc} stop domain type must match previous stop domain type ${fb}`)];if("number"!==Dc&&"string"!==Dc&&"boolean"!==Dc)return[new Xc(ed.key,Wc,"stop domain value must be a number, string, or boolean")];if("number"!==Dc&&"categorical"!==cb)return Dc=`number expected, ${Dc} found`,ma(Ja)&&void 0===
cb&&(Dc+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Xc(ed.key,Wc,Dc)];if("categorical"===cb&&"number"===Dc&&(!isFinite(ld)||Math.floor(ld)!==ld))return[new Xc(ed.key,Wc,`integer expected, found ${ld}`)];if("categorical"!==cb&&"number"===Dc&&void 0!==Kb&&ld<Kb)return[new Xc(ed.key,Wc,"stop domain values must appear in ascending order")];Kb=ld;if("categorical"===cb&&ld in nb)return[new Xc(ed.key,Wc,"stop domain values must be unique")];nb[ld]=!0;return[]}
const Ja=q.valueSpec,cb=Qc(q.value.type);let fb,nb={},Kb,Yb;const Ob="categorical"!==cb&&void 0===q.value.property,Fc=!Ob,Rc="array"===eb(q.value.stops)&&"array"===eb(q.value.stops[0])&&"object"===eb(q.value.stops[0][0]),md=nd({key:q.key,value:q.value,valueSpec:q.styleSpec.function,style:q.style,styleSpec:q.styleSpec,objectElementValidators:{stops:function(ed){if("identity"===cb)return[new Xc(ed.key,ed.value,'identity function may not have a "stops" property')];let Wc=[];const Dc=ed.value;Wc=Wc.concat(od({key:ed.key,
value:Dc,valueSpec:ed.valueSpec,style:ed.style,styleSpec:ed.styleSpec,arrayElementValidator:O}));"array"===eb(Dc)&&0===Dc.length&&Wc.push(new Xc(ed.key,Dc,"array must have at least one stop"));return Wc},default:function(ed){return ae({key:ed.key,value:ed.value,valueSpec:Ja,style:ed.style,styleSpec:ed.styleSpec})}}});"identity"===cb&&Ob&&md.push(new Xc(q.key,q.value,'missing required property "property"'));"identity"===cb||q.value.stops||md.push(new Xc(q.key,q.value,'missing required property "stops"'));
"exponential"===cb&&q.valueSpec.expression&&!Qa(q.valueSpec)&&md.push(new Xc(q.key,q.value,"exponential functions not supported"));8<=q.styleSpec.$version&&(Fc&&!ma(q.valueSpec)?md.push(new Xc(q.key,q.value,"property functions not supported")):Ob&&!Ea(q.valueSpec)&&md.push(new Xc(q.key,q.value,"zoom functions not supported")));"categorical"!==cb&&!Rc||void 0!==q.value.property||md.push(new Xc(q.key,q.value,'"property" property is required'));return md}function Ud(q){var O=("property"===q.expressionContext?
jc:Ec)(Zc(q.value),q.valueSpec);if("error"===O.result)return O.value.map(ja=>new Xc(`${q.key}${ja.key}`,q.value,ja.message));O=O.value.expression||O.value._styleExpression.expression;if("property"===q.expressionContext&&"text-font"===q.propertyKey&&!O.outputDefined())return[new Xc(q.key,q.value,`Invalid data expression for "${q.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===q.expressionContext&&"layout"===q.propertyType&&!Za(O))return[new Xc(q.key,
q.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===q.expressionContext&&!Za(O))return[new Xc(q.key,q.value,'"feature-state" data expressions are not supported with filters.')];if(q.expressionContext&&0===q.expressionContext.indexOf("cluster")){if(!gb(O,["zoom","feature-state"]))return[new Xc(q.key,q.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===q.expressionContext&&!Ha(O))return[new Xc(q.key,
q.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function ie(q){const O=q.key,ja=q.value;q=q.valueSpec;const Ja=[];Array.isArray(q.values)?-1===q.values.indexOf(Qc(ja))&&Ja.push(new Xc(O,ja,`expected one of [${q.values.join(", ")}], ${JSON.stringify(ja)} found`)):-1===Object.keys(q.values).indexOf(Qc(ja))&&Ja.push(new Xc(O,ja,`expected one of [${Object.keys(q.values).join(", ")}], ${JSON.stringify(ja)} found`));return Ja}function ne(q){return qd(Zc(q.value))?
Ud(z({},q,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Ee(q)}function Ee(q){const O=q.value,ja=q.key;if("array"!==eb(O))return[new Xc(ja,O,`array expected, ${eb(O)} found`)];var Ja=q.styleSpec;let cb,fb=[];if(1>O.length)return[new Xc(ja,O,"filter array must have at least 1 element")];fb=fb.concat(ie({key:`${ja}[0]`,value:O[0],valueSpec:Ja.filter_operator,style:q.style,styleSpec:q.styleSpec}));switch(Qc(O[0])){case "\x3c":case "\x3c\x3d":case "\x3e":case "\x3e\x3d":2<=O.length&&"$type"===
Qc(O[1])&&fb.push(new Xc(ja,O,`"$type" cannot be use with operator "${O[0]}"`));case "\x3d\x3d":case "!\x3d":3!==O.length&&fb.push(new Xc(ja,O,`filter array for operator "${O[0]}" must have 3 elements`));case "in":case "!in":2<=O.length&&(cb=eb(O[1]),"string"!==cb&&fb.push(new Xc(`${ja}[1]`,O[1],`string expected, ${cb} found`)));for(let nb=2;nb<O.length;nb++)cb=eb(O[nb]),"$type"===Qc(O[1])?fb=fb.concat(ie({key:`${ja}[${nb}]`,value:O[nb],valueSpec:Ja.geometry_type,style:q.style,styleSpec:q.styleSpec})):
"string"!==cb&&"number"!==cb&&"boolean"!==cb&&fb.push(new Xc(`${ja}[${nb}]`,O[nb],`string, number, or boolean expected, ${cb} found`));break;case "any":case "all":case "none":for(Ja=1;Ja<O.length;Ja++)fb=fb.concat(Ee({key:`${ja}[${Ja}]`,value:O[Ja],style:q.style,styleSpec:q.styleSpec}));break;case "has":case "!has":cb=eb(O[1]);2!==O.length?fb.push(new Xc(ja,O,`filter array for "${O[0]}" operator must have 2 elements`)):"string"!==cb&&fb.push(new Xc(`${ja}[1]`,O[1],`string expected, ${cb} found`));
break;case "within":cb=eb(O[1]),2!==O.length?fb.push(new Xc(ja,O,`filter array for "${O[0]}" operator must have 2 elements`)):"object"!==cb&&fb.push(new Xc(`${ja}[1]`,O[1],`object expected, ${cb} found`))}return fb}function De(q,O){const ja=q.key,Ja=q.style,cb=q.styleSpec,fb=q.value,nb=q.objectKey;var Kb=cb[`${O}_${q.layerType}`];if(!Kb)return[];const Yb=nb.match(/^(.*)-transition$/);if("paint"===O&&Yb&&Kb[Yb[1]]&&Kb[Yb[1]].transition)return ae({key:ja,value:fb,valueSpec:cb.transition,style:Ja,styleSpec:cb});
Kb=q.valueSpec||Kb[nb];if(!Kb)return[new Xc(ja,fb,`unknown property "${nb}"`)];var Ob;if("string"===eb(fb)&&ma(Kb)&&!Kb.tokens&&(Ob=/^{([^}]+)}$/.exec(fb)))return[new Xc(ja,fb,`"${nb}" does not support interpolation syntax\n`+`Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(Ob[1])} }\`.`)];Ob=[];"symbol"===q.layerType&&("text-field"===nb&&Ja&&!Ja.glyphs&&Ob.push(new Xc(ja,fb,'use of "text-field" requires a style "glyphs" property')),"text-font"===nb&&
yb(Zc(fb))&&"identity"===Qc(fb.type)&&Ob.push(new Xc(ja,fb,'"text-font" does not support identity functions')));return Ob.concat(ae({key:q.key,value:fb,valueSpec:Kb,style:Ja,styleSpec:cb,expressionContext:"property",propertyType:O,propertyKey:nb}))}function Fe(q){return De(q,"paint")}function Id(q){return De(q,"layout")}function Td(q){let O=[];const ja=q.value,Ja=q.key;var cb=q.style;const fb=q.styleSpec;ja.type||ja.ref||O.push(new Xc(Ja,ja,'either "type" or "ref" is required'));let nb=Qc(ja.type);
const Kb=Qc(ja.ref);if(ja.id){var Yb=Qc(ja.id);for(let Ob=0;Ob<q.arrayIndex;Ob++){const Fc=cb.layers[Ob];Qc(Fc.id)===Yb&&O.push(new Xc(Ja,ja.id,`duplicate layer id "${ja.id}", previously used at line ${Fc.id.__line__}`))}}if("ref"in ja){["type","source","source-layer","filter","layout"].forEach(Fc=>{Fc in ja&&O.push(new Xc(Ja,ja[Fc],`"${Fc}" is prohibited for ref layers`))});let Ob;cb.layers.forEach(Fc=>{Qc(Fc.id)===Kb&&(Ob=Fc)});Ob?Ob.ref?O.push(new Xc(Ja,ja.ref,"ref cannot reference another ref layer")):
nb=Qc(Ob.type):O.push(new Xc(Ja,ja.ref,`ref layer "${Kb}" not found`))}else"background"!==nb&&"sky"!==nb&&(ja.source?(Yb=(cb=cb.sources&&cb.sources[ja.source])&&Qc(cb.type),cb?"vector"===Yb&&"raster"===nb?O.push(new Xc(Ja,ja.source,`layer "${ja.id}" requires a raster source`)):"raster"===Yb&&"raster"!==nb?O.push(new Xc(Ja,ja.source,`layer "${ja.id}" requires a vector source`)):"vector"!==Yb||ja["source-layer"]?"raster-dem"===Yb&&"hillshade"!==nb?O.push(new Xc(Ja,ja.source,"raster-dem source can only be used with layer type 'hillshade'.")):
"line"!==nb||!ja.paint||!ja.paint["line-gradient"]||"geojson"===Yb&&cb.lineMetrics||O.push(new Xc(Ja,ja,`layer "${ja.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):O.push(new Xc(Ja,ja,`layer "${ja.id}" must specify a "source-layer"`)):O.push(new Xc(Ja,ja.source,`source "${ja.source}" not found`))):O.push(new Xc(Ja,ja,'missing required property "source"')));return O=O.concat(nd({key:Ja,value:ja,valueSpec:fb.layer,style:q.style,styleSpec:q.styleSpec,
objectElementValidators:{["*"](){return[]},type(){return ae({key:`${Ja}.type`,value:ja.type,valueSpec:fb.layer.type,style:q.style,styleSpec:q.styleSpec,object:ja,objectKey:"type"})},filter:ne,layout(Ob){return nd({layer:ja,key:Ob.key,value:Ob.value,style:Ob.style,styleSpec:Ob.styleSpec,objectElementValidators:{["*"](Fc){return Id(z({layerType:nb},Fc))}}})},paint(Ob){return nd({layer:ja,key:Ob.key,value:Ob.value,style:Ob.style,styleSpec:Ob.styleSpec,objectElementValidators:{["*"](Fc){return Fe(z({layerType:nb},
Fc))}}})}}}))}function af(q){const O=q.value;q=q.key;const ja=eb(O);return"string"!==ja?[new Xc(q,O,`string expected, ${ja} found`)]:[]}function Be(q){const O=q.value,ja=q.key;var Ja=q.styleSpec;const cb=q.style;if(!O.type)return[new Xc(ja,O,'"type" is required')];const fb=Qc(O.type);switch(fb){case "vector":case "raster":case "raster-dem":return q=nd({key:ja,value:O,valueSpec:Ja[`source_${fb.replace("-","_")}`],style:q.style,styleSpec:Ja,objectElementValidators:Sa});case "geojson":q=nd({key:ja,value:O,
valueSpec:Ja.source_geojson,style:cb,styleSpec:Ja,objectElementValidators:Sa});if(O.cluster)for(const nb in O.clusterProperties){const [Kb,Yb]=O.clusterProperties[nb];Ja="string"===typeof Kb?[Kb,["accumulated"],["get",nb]]:Kb;q.push(...Ud({key:`${ja}.${nb}.map`,value:Yb,expressionContext:"cluster-map"}));q.push(...Ud({key:`${ja}.${nb}.reduce`,value:Ja,expressionContext:"cluster-reduce"}))}return q;case "video":return nd({key:ja,value:O,valueSpec:Ja.source_video,style:cb,styleSpec:Ja});case "image":return nd({key:ja,
value:O,valueSpec:Ja.source_image,style:cb,styleSpec:Ja});case "canvas":return[new Xc(ja,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return ie({key:`${ja}.type`,value:O.type,valueSpec:{values:"vector raster raster-dem geojson video image".split(" ")},style:cb,styleSpec:Ja})}}function cf(q){const O=q.value,ja=q.styleSpec,Ja=ja.light;q=q.style;let cb=[];var fb=eb(O);if(void 0===O)return cb;if("object"!==fb)return cb=cb.concat([new Xc("light",
O,`object expected, ${fb} found`)]);for(const nb in O)cb=(fb=nb.match(/^(.*)-transition$/))&&Ja[fb[1]]&&Ja[fb[1]].transition?cb.concat(ae({key:nb,value:O[nb],valueSpec:ja.transition,style:q,styleSpec:ja})):Ja[nb]?cb.concat(ae({key:nb,value:O[nb],valueSpec:Ja[nb],style:q,styleSpec:ja})):cb.concat([new Xc(nb,O[nb],`unknown property "${nb}"`)]);return cb}function Xd(q){const O=q.value,ja=q.key;var Ja=q.style;const cb=q.styleSpec,fb=cb.terrain;q=[];var nb=eb(O);if(void 0===O)return q;if("object"!==nb)return q=
q.concat([new Xc("terrain",O,`object expected, ${nb} found`)]);for(var Kb in O)q=(nb=Kb.match(/^(.*)-transition$/))&&fb[nb[1]]&&fb[nb[1]].transition?q.concat(ae({key:Kb,value:O[Kb],valueSpec:cb.transition,style:Ja,styleSpec:cb})):fb[Kb]?q.concat(ae({key:Kb,value:O[Kb],valueSpec:fb[Kb],style:Ja,styleSpec:cb})):q.concat([new Xc(Kb,O[Kb],`unknown property "${Kb}"`)]);O.source?(Kb=(Ja=Ja.sources&&Ja.sources[O.source])&&Qc(Ja.type),Ja?"raster-dem"!==Kb&&q.push(new Xc(ja,O.source,`terrain cannot be used with a source of type ${Kb}, it only be used with a "raster-dem" source type`)):
q.push(new Xc(ja,O.source,`source "${O.source}" not found`))):q.push(new Xc(ja,O,'terrain is missing required property "source"'));return q}function ae(q){const O=q.value,ja=q.valueSpec,Ja=q.styleSpec;return ja.expression&&yb(Qc(O))?Jd(q):ja.expression&&kc(Zc(O))?Ud(q):ja.type&&jb[ja.type]?jb[ja.type](q):nd(z({},q,{valueSpec:ja.type?Ja[ja.type]:ja}))}function Je(q){const O=q.value,ja=q.key;q=af(q);if(q.length)return q;-1===O.indexOf("{fontstack}")&&q.push(new Xc(ja,O,'"glyphs" url must include a "{fontstack}" token'));
-1===O.indexOf("{range}")&&q.push(new Xc(ja,O,'"glyphs" url must include a "{range}" token'));return q}function fe(q,O=zc){let ja=[];ja=ja.concat(ae({key:"",value:q,valueSpec:O.$root,styleSpec:O,style:q,objectElementValidators:{glyphs:Je,["*"](){return[]}}}));q.constants&&(ja=ja.concat(Kc({key:"constants",value:q.constants,style:q,styleSpec:O})));return zd(ja)}function zd(q){return[].concat(q).sort((O,ja)=>O.line-ja.line)}function Gd(q){return function(...O){return zd(q.apply(this,O))}}function ce(q){if(q instanceof
String||"string"===typeof q||q instanceof m)try{return tb.parse(q.toString())}catch(O){throw new Ce(O);}return q}function Re(q,O=zc){try{q=ce(q)}catch(ja){return[ja]}return fe(q,O)}function me(q,O){return q&&"string"===eb(q)?!!q.match(O):!0}function Hd(q,O,ja){const Ja=new Set(O),cb=[];Object.keys(q).forEach(fb=>{Ja.has(fb)||cb.push(new Xc(ja?`${ja}.${fb}`:null,q[fb],`Unsupported property "${fb}"`))});return cb}function Ge(q){const O=[];let ja=0;Object.keys(q).forEach((Ja,cb)=>{{var fb=q[Ja];const nb=
[];nb.push(...Hd(fb,["type","url","tileSize"],"source"));me(fb.url,/^mapbox:\/\/([^/]*)$/)||nb.push(new Xc(`sources[${cb}]`,fb.url,"Source url must be a valid Mapbox tileset url"));cb=nb}cb.length||(fb=ja,Ja=q[Ja],Ja=Ja.url?Ja.url.split(",").length:0,ja=fb+Ja);O.push(...cb)});15<ja&&O.push(new Xc("sources",null,"Styles must contain 15 or fewer sources"));return O}function rf(q,O){const ja=[];O=Hd(q,[...O,"owner","id","cacheControl","draft","created","modified","visibility"]);ja.push(...O);(8<q.version||
8>q.version)&&ja.push(new Xc("version",q.version,"Style version must be 8"));me(q.glyphs,/^mapbox:\/\/fonts\/([^/]*)\/{fontstack}\/{range}.pbf$/)||ja.push(new Xc("glyphs",q.glyphs,"Styles must reference glyphs hosted by Mapbox"));me(q.sprite,/^mapbox:\/\/sprites\/([^/]*)\/([^/]*)\/?([^/]*)?$/)||ja.push(new Xc("sprite",q.sprite,"Styles must reference sprites hosted by Mapbox"));me(q.visibility,/^(public|private)$/)||ja.push(new Xc("visibility",q.visibility,"Style visibility must be public or private"));
return ja}var zc={$version:8,$root:{version:{required:!0,type:"enum",values:[8],doc:"Style specification version number. Must be 8.",example:8},name:{type:"string",doc:"A human-readable name for the style.",example:"Bright"},metadata:{type:"*",doc:"Arbitrary properties useful to track with the stylesheet, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},center:{type:"array",value:"number",doc:"Default map center in longitude and latitude.  The style center will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",
example:[-73.9749,40.7736]},zoom:{type:"number",doc:"Default zoom level.  The style zoom will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:12.5},bearing:{type:"number","default":0,period:360,units:"degrees",doc:'Default bearing, in degrees. The bearing is the compass direction that is "up"; for example, a bearing of 90 orients the map so that east is up. This value will be used only if the map has not been positioned by other means (e.g. map options or user interaction).',
example:29},pitch:{type:"number","default":0,units:"degrees",doc:"Default pitch, in degrees. Zero is perpendicular to the surface, for a look straight down at the map, while a greater value like 60 looks ahead towards the horizon. The style pitch will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:50},light:{type:"light",doc:"The global light source.",example:{anchor:"viewport",color:"white",intensity:.4}},terrain:{type:"terrain",doc:"A global modifier that elevates layers and markers based on a DEM data source."},
sources:{required:!0,type:"sources",doc:"Data source specifications.",example:{"mapbox-streets":{type:"vector",url:"mapbox://mapbox.mapbox-streets-v6"}}},sprite:{type:"string",doc:"A base URL for retrieving the sprite image and metadata. The extensions `.png`, `.json` and scale factor `@2x.png` will be automatically appended. This property is required if any layer uses the `background-pattern`, `fill-pattern`, `line-pattern`, `fill-extrusion-pattern`, or `icon-image` properties. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",
example:"mapbox://sprites/mapbox/bright-v8"},glyphs:{type:"string",doc:"A URL template for loading signed-distance-field glyph sets in PBF format. The URL must include `{fontstack}` and `{range}` tokens. This property is required if any layer uses the `text-field` layout property. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"},transition:{type:"transition",doc:"A global transition definition to use as a default across properties, to be used for timing transitions between one value and the next when no property-specific transition is set. Collision-based symbol fading is controlled independently of the style's `transition` property.",
example:{duration:300,delay:0}},layers:{required:!0,type:"array",value:"layer",doc:"Layers will be drawn in the order of this array.",example:[{id:"water",source:"mapbox-streets","source-layer":"water",type:"fill",paint:{"fill-color":"#00ffff"}}]}},sources:{"*":{type:"source",doc:"Specification of a data source. For vector and raster sources, either TileJSON or a URL to a TileJSON must be provided. For image and video sources, a URL must be provided. For GeoJSON sources, a URL or inline GeoJSON must be provided."}},
source:"source_vector source_raster source_raster_dem source_geojson source_video source_image".split(" "),source_vector:{type:{required:!0,type:"enum",values:{vector:{doc:"A vector tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://\x3cTileset ID\x3e`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",
length:4,"default":[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},"default":"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},
minzoom:{type:"number","default":0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number","default":22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{\x3csourceLayer\x3e: \x3cpropertyName\x3e}`. If specified as a string for a vector tile source, the same property is used across all its source layers."},
volatile:{type:"boolean","default":!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},source_raster:{type:{required:!0,type:"enum",values:{raster:{doc:"A raster tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://\x3cTileset ID\x3e`."},
tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,"default":[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},minzoom:{type:"number",
"default":0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number","default":22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number","default":512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},
tms:{doc:"OSGeo spec scheme."}},"default":"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},volatile:{type:"boolean","default":!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},
source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{doc:"A RGB-encoded raster DEM source"}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://\x3cTileset ID\x3e`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,"default":[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},
minzoom:{type:"number","default":0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number","default":22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number","default":512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},attribution:{type:"string",
doc:"Contains an attribution to be displayed when the map is shown to a user."},encoding:{type:"enum",values:{terrarium:{doc:"Terrarium format PNG tiles. See https://aws.amazon.com/es/public-datasets/terrain/ for more info."},mapbox:{doc:"Mapbox Terrain RGB tiles. See https://www.mapbox.com/help/access-elevation-data/#mapbox-terrain-rgb for more info."}},"default":"mapbox",doc:"The encoding used by this source. Mapbox Terrain RGB is used by default"},volatile:{type:"boolean","default":!1,doc:"A setting to determine whether a source's tiles are cached locally.",
"sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{doc:"A GeoJSON data source."}},doc:"The data type of the GeoJSON source."},data:{type:"*",doc:"A URL to a GeoJSON file, or inline GeoJSON."},maxzoom:{type:"number","default":18,doc:"Maximum zoom level at which to create vector tiles (higher means greater detail at high zoom levels)."},attribution:{type:"string",
doc:"Contains an attribution to be displayed when the map is shown to a user."},buffer:{type:"number","default":128,maximum:512,minimum:0,doc:"Size of the tile buffer on each side. A value of 0 produces no buffer. A value of 512 produces a buffer as wide as the tile itself. Larger values produce fewer rendering artifacts near tile edges and slower performance."},filter:{type:"*",doc:"An expression for filtering features prior to processing them for rendering."},tolerance:{type:"number","default":.375,
doc:"Douglas-Peucker simplification tolerance (higher means simpler geometries and faster performance)."},cluster:{type:"boolean","default":!1,doc:"If the data is a collection of point features, setting this to true clusters the points by radius into groups. Cluster groups become new `Point` features in the source with additional properties:\n * `cluster` Is `true` if the point is a cluster \n * `cluster_id` A unqiue id for the cluster to be used in conjunction with the [cluster inspection methods](https://www.mapbox.com/mapbox-gl-js/api/#geojsonsource#getclusterexpansionzoom)\n * `point_count` Number of original points grouped into this cluster\n * `point_count_abbreviated` An abbreviated point count"},
clusterRadius:{type:"number","default":50,minimum:0,doc:"Radius of each cluster if clustering is enabled. A value of 512 indicates a radius equal to the width of a tile."},clusterMaxZoom:{type:"number",doc:"Max zoom on which to cluster points if clustering is enabled. Defaults to one zoom less than maxzoom (so that last zoom features are not clustered). Clusters are re-evaluated at integer zoom levels so setting clusterMaxZoom to 14 means the clusters will be displayed until z15."},clusterMinPoints:{type:"number",
doc:"Minimum number of points necessary to form a cluster if clustering is enabled. Defaults to `2`."},clusterProperties:{type:"*",doc:'An object defining custom properties on the generated clusters if clustering is enabled, aggregating values from clustered points. Has the form `{"property_name": [operator, map_expression]}`. `operator` is any expression function that accepts at least 2 operands (e.g. `"+"` or `"max"`)  it accumulates the property value from clusters/points the cluster contains; `map_expression` produces the value of a single point.\n\nExample: `{"sum": ["+", ["get", "scalerank"]]}`.\n\nFor more advanced use cases, in place of `operator`, you can use a custom reduce expression that references a special `["accumulated"]` value, e.g.:\n`{"sum": [["+", ["accumulated"], ["get", "sum"]], ["get", "scalerank"]]}`'},
lineMetrics:{type:"boolean","default":!1,doc:"Whether to calculate line distance metrics. This is required for line layers that specify `line-gradient` values."},generateId:{type:"boolean","default":!1,doc:"Whether to generate ids for the geojson features. When enabled, the `feature.id` property will be auto assigned based on its index in the `features` array, over-writing any previous values."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{\x3csourceLayer\x3e: \x3cpropertyName\x3e}`."}},
source_video:{type:{required:!0,type:"enum",values:{video:{doc:"A video data source."}},doc:"The data type of the video source."},urls:{required:!0,type:"array",value:"string",doc:"URLs to video content in order of preferred format."},coordinates:{required:!0,doc:"Corners of video specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},source_image:{type:{required:!0,type:"enum",values:{image:{doc:"An image data source."}},
doc:"The data type of the image source."},url:{required:!0,type:"string",doc:"URL that points to an image."},coordinates:{required:!0,doc:"Corners of image specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},layer:{id:{type:"string",doc:"Unique layer name.",required:!0},type:{type:"enum",values:{fill:{doc:"A filled polygon with an optional stroked border.","sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},line:{doc:"A stroked line.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},symbol:{doc:"An icon or a text label.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},circle:{doc:"A filled circle.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},heatmap:{doc:"A heatmap.","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"fill-extrusion":{doc:"An extruded (3D) polygon.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},raster:{doc:"Raster map textures such as satellite imagery.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},hillshade:{doc:"Client-side hillshading visualization based on DEM data. Currently, the implementation only supports Mapbox Terrain RGB and Mapzen Terrarium tiles.",
"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},background:{doc:"The background color or pattern of the map.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},sky:{doc:"A spherical dome around the map that is always rendered behind all other layers.","sdk-support":{"basic functionality":{js:"2.0.0"}}}},doc:"Rendering type of this layer.",required:!0},metadata:{type:"*",doc:"Arbitrary properties useful to track with the layer, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},
source:{type:"string",doc:"Name of a source description to be used for this layer. Required for all layer types except `background`."},"source-layer":{type:"string",doc:"Layer to use from a vector tile source. Required for vector tile sources; prohibited for all other source types, including GeoJSON sources."},minzoom:{type:"number",minimum:0,maximum:24,doc:"The minimum zoom level for the layer. At zoom levels less than the minzoom, the layer will be hidden."},maxzoom:{type:"number",minimum:0,maximum:24,
doc:"The maximum zoom level for the layer. At zoom levels equal to or greater than the maxzoom, the layer will be hidden."},filter:{type:"filter",doc:"A expression specifying conditions on source features. Only features that match the filter are displayed. Zoom expressions in filters are only evaluated at integer zoom levels. The `feature-state` expression is not supported in filter expressions."},layout:{type:"layout",doc:"Layout properties for the layer."},paint:{type:"paint",doc:"Default paint properties for this layer."}},
layout:"layout_fill layout_line layout_circle layout_heatmap layout_fill-extrusion layout_symbol layout_raster layout_hillshade layout_background layout_sky".split(" "),layout_background:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_sky:{visibility:{type:"enum",
values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"2.0.0"}},"property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},
"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",
doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"},"data-driven styling":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},
"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",
values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},"property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{doc:"A cap with a squared-off end which is drawn to the exact endpoint of the line."},round:{doc:"A cap with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},
square:{doc:"A cap with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."}},"default":"butt",doc:"The display of line endings.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{doc:"A join with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."},
round:{doc:"A join with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},miter:{doc:"A join with a sharp, angled corner which is drawn with the outer sides beyond the endpoint of the path until they meet."}},"default":"miter",doc:"The display of lines when joining.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",
ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number","default":2,doc:"Used to automatically convert miter joins to bevel joins for sharp angles.",requires:[{"line-join":"miter"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number","default":1.05,
doc:"Used to automatically convert round joins to miter joins for shallow angles.",requires:[{"line-join":"round"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",
android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},
layout_symbol:{"symbol-placement":{type:"enum",values:{point:{doc:"The label is placed at the point where the geometry is located."},line:{doc:"The label is placed along the line of the geometry. Can only be used on `LineString` and `Polygon` geometries."},"line-center":{doc:"The label is placed at the center of the line of the geometry. Can only be used on `LineString` and `Polygon` geometries. Note that a single feature in a vector tile may contain multiple line geometries."}},"default":"point",
doc:"Label placement relative to its geometry.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`line-center` value":{js:"0.47.0",android:"6.4.0",ios:"4.3.0",macos:"0.10.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number","default":250,minimum:1,units:"pixels",doc:"Distance between two symbol anchors.",requires:[{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean","default":!1,doc:"If true, the symbols will not cross tile edges to avoid mutual collisions. Recommended in layers that don't have enough padding in the vector tile to prevent collisions, or if it is a point symbol layer placed after a line symbol layer. When using a client that supports global collision detection, like Mapbox GL JS version 0.42.0 or greater, enabling this property is not needed to prevent clipped labels at tile boundaries.",
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with lower sort keys are drawn and placed first.  When `icon-allow-overlap` or `text-allow-overlap` is `false`, features with a lower sort key will have priority during placement. When `icon-allow-overlap` or `text-allow-overlap` is set to `true`, features with a higher sort key will overlap over features with a lower sort key.",
"sdk-support":{"basic functionality":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"},"data-driven styling":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},
"viewport-y":{doc:"Sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},source:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, no sorting is applied; symbols are rendered in the same order as the source data."}},"default":"auto",doc:"Determines whether overlapping symbols in the same layer are rendered in the order that they appear in the data source or by their y-position relative to the viewport. To control the order and prioritization of symbols otherwise, use `symbol-sort-key`.",
"sdk-support":{"basic functionality":{js:"0.49.0",android:"6.6.0",ios:"4.5.0",macos:"0.12.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean","default":!1,doc:"If true, the icon will be visible even if it collides with other previously drawn symbols.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},
"icon-ignore-placement":{type:"boolean","default":!1,doc:"If true, other symbols can be visible even if they collide with the icon.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean","default":!1,doc:"If true, text will display without their corresponding icons when the icon collides with other symbols and the text does not.",
requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns icons east-west. When `symbol-placement` is set to `line` or `line-center`, aligns icon x-axes with the line."},viewport:{doc:"Produces icons whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},
auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},"default":"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,
parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number","default":1,minimum:0,units:"factor of the original icon size",doc:"Scales the original size of the icon by the provided factor. The new pixel size of the image will be the original pixel size multiplied by `icon-size`. 1 is the original size; 3 triples the size of the image.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",
android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{doc:"The icon is displayed at its intrinsic aspect ratio."},width:{doc:"The icon is scaled in the x-dimension to fit the width of the text."},height:{doc:"The icon is scaled in the y-dimension to fit the height of the text."},both:{doc:"The icon is scaled in both x- and y-dimensions."}},"default":"none",doc:"Scales the icon to fit around the associated text.",
requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"stretchable icons":{js:"1.6.0",android:"9.2.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,"default":[0,0,0,0],units:"pixels",doc:"Size of the additional area added to dimensions determined by `icon-text-fit`, in clockwise order: top, right, bottom, left.",
requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",doc:"Name of image in sprite to use for drawing an image background.",tokens:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",
ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number","default":0,period:360,units:"degrees",doc:"Rotates the icon clockwise.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},
"icon-padding":{type:"number","default":2,minimum:0,units:"pixels",doc:"Size of the additional area around the icon bounding box used for detecting symbol collisions.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean","default":!1,doc:"If true, the icon may be flipped to prevent it from being rendered upside-down.",
requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,"default":[0,0],doc:"Offset distance of icon from its anchor. Positive values indicate right and down, while negative values indicate left and up. Each component is multiplied by the value of `icon-size` to obtain the final offset in pixels. When combined with `icon-rotate` the offset will be as if the rotated direction was up.",
requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{doc:"The center of the icon is placed closest to the anchor."},left:{doc:"The left side of the icon is placed closest to the anchor."},right:{doc:"The right side of the icon is placed closest to the anchor."},
top:{doc:"The top of the icon is placed closest to the anchor."},bottom:{doc:"The bottom of the icon is placed closest to the anchor."},"top-left":{doc:"The top left corner of the icon is placed closest to the anchor."},"top-right":{doc:"The top right corner of the icon is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the icon is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the icon is placed closest to the anchor."}},"default":"center",
doc:"Part of the icon placed closest to the anchor.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{doc:"The icon is aligned to the plane of the map."},viewport:{doc:"The icon is aligned to the plane of the viewport."},
auto:{doc:"Automatically matches the value of `icon-rotation-alignment`."}},"default":"auto",doc:"Orientation of icon when map is pitched.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{doc:"The text is aligned to the plane of the map."},viewport:{doc:"The text is aligned to the plane of the viewport."},
auto:{doc:"Automatically matches the value of `text-rotation-alignment`."}},"default":"auto",doc:"Orientation of text when map is pitched.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns text east-west. When `symbol-placement` is set to `line` or `line-center`, aligns text x-axes with the line."},
viewport:{doc:"Produces glyphs whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},"default":"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of the individual glyphs forming the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted","default":"",tokens:!0,doc:"Value to use for a text label. If a plain `string` is provided, it will be treated as a `formatted` with default/inherited formatting options.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",
android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string","default":["Open Sans Regular","Arial Unicode MS Regular"],doc:"Font stack to use for displaying text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,
parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number","default":16,minimum:0,units:"pixels",doc:"Font size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number","default":10,minimum:0,units:"ems",doc:"The maximum line width for text wrapping.",
requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number","default":1.2,units:"ems",doc:"Text leading value for multi-line text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},
expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number","default":0,units:"ems",doc:"Text tracking amount.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{doc:"The text is aligned towards the anchor position."},
left:{doc:"The text is aligned to the left."},center:{doc:"The text is centered."},right:{doc:"The text is aligned to the right."}},"default":"center",doc:"Text justification options.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},auto:{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},
"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems","default":0,doc:"Radial offset of text, in the direction of the symbol's anchor. Useful in combination with `text-variable-anchor`, which defaults to using the two-dimensional `text-offset` if present.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"},"data-driven styling":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},requires:["text-field"],"property-type":"data-driven",
expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},
"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},requires:["text-field",{"symbol-placement":["point"]}],doc:"To increase the chance of placing high-priority labels on the map, you can provide an array of `text-anchor` locations: the renderer will attempt to place the label at each location, in order, before moving onto the next label. Use `text-justify: auto` to choose justification based on anchor position. To apply an offset, use the `text-radial-offset` or the two-dimensional `text-offset`.",
"sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},
"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},"default":"center",doc:"Part of the text placed closest to the anchor.",requires:["text-field",{"!":"text-variable-anchor"}],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number","default":45,units:"degrees",doc:"Maximum angle change between adjacent characters.",requires:["text-field",{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,
parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{doc:"If a text's language supports horizontal writing mode, symbols with point placement would be laid out horizontally."},vertical:{doc:"If a text's language supports vertical writing mode, symbols with point placement would be laid out vertically."}},doc:"The property allows control over a symbol's orientation. Note that the property values act as a hint, so that a symbol whose language doesnt support the provided orientation will be laid out in its natural orientation. Example: English point symbol will be rendered horizontally even if array value contains single 'vertical' enum value. The order of elements in an array define priority order for the placement of an orientation variant.",
requires:["text-field",{"symbol-placement":["point"]}],"sdk-support":{"basic functionality":{js:"1.3.0",android:"8.3.0",ios:"5.3.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number","default":0,period:360,units:"degrees",doc:"Rotates the text clockwise.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",
ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number","default":2,minimum:0,units:"pixels",doc:"Size of the additional area around the text bounding box used for detecting symbol collisions.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",
"default":!0,doc:"If true, the text may be flipped vertically to prevent it from being rendered upside-down.",requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{doc:"The text is not altered."},uppercase:{doc:"Forces all letters to be displayed in uppercase."},
lowercase:{doc:"Forces all letters to be displayed in lowercase."}},"default":"none",doc:"Specifies how to capitalize text, similar to the CSS `text-transform` property.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",doc:"Offset distance of text from its anchor. Positive values indicate right and down, while negative values indicate left and up. If used with text-variable-anchor, input values will be taken as absolute values. Offsets along the x- and y-axis will be applied automatically based on the anchor position.",
value:"number",units:"ems",length:2,"default":[0,0],requires:["text-field",{"!":"text-radial-offset"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean","default":!1,doc:"If true, the text will be visible even if it collides with other previously drawn symbols.",
requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean","default":!1,doc:"If true, other symbols can be visible even if they collide with the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},
"text-optional":{type:"boolean","default":!1,doc:"If true, icons will display without their corresponding text when the text collides with other symbols and the icon does not.",requires:["text-field","icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",
doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",
values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},filter:{type:"array",value:"*",doc:"A filter selects specific features from a layer."},filter_operator:{type:"enum",values:{"\x3d\x3d":{doc:'`["\x3d\x3d", key, value]` equality: `feature[key] \x3d value`'},"!\x3d":{doc:'`["!\x3d", key, value]` inequality: `feature[key]  value`'},
"\x3e":{doc:'`["\x3e", key, value]` greater than: `feature[key] \x3e value`'},"\x3e\x3d":{doc:'`["\x3e\x3d", key, value]` greater than or equal: `feature[key]  value`'},"\x3c":{doc:'`["\x3c", key, value]` less than: `feature[key] \x3c value`'},"\x3c\x3d":{doc:'`["\x3c\x3d", key, value]` less than or equal: `feature[key]  value`'},"in":{doc:'`["in", key, v0, ..., vn]` set inclusion: `feature[key]  {v0, ..., vn}`'},"!in":{doc:'`["!in", key, v0, ..., vn]` set exclusion: `feature[key]  {v0, ..., vn}`'},
all:{doc:'`["all", f0, ..., fn]` logical `AND`: `f0  ...  fn`'},any:{doc:'`["any", f0, ..., fn]` logical `OR`: `f0  ...  fn`'},none:{doc:'`["none", f0, ..., fn]` logical `NOR`: `f0  ...  fn`'},has:{doc:'`["has", key]` `feature[key]` exists'},"!has":{doc:'`["!has", key]` `feature[key]` does not exist'},within:{doc:'`["within", object]` feature geometry is within object geometry'}},doc:"The filter operator."},geometry_type:{type:"enum",values:{Point:{doc:"Filter to point geometries."},LineString:{doc:"Filter to line geometries."},
Polygon:{doc:"Filter to polygon geometries."}},doc:"The geometry type for the filter to select."},"function":{expression:{type:"expression",doc:"An expression."},stops:{type:"array",doc:"An array of stops.",value:"function_stop"},base:{type:"number","default":1,minimum:0,doc:"The exponential base of the interpolation curve. It controls the rate at which the result increases. Higher values make the result increase more towards the high end of the range. With `1` the stops are interpolated linearly."},
property:{type:"string",doc:"The name of a feature property to use as the function input.","default":"$zoom"},type:{type:"enum",values:{identity:{doc:"Return the input value as the output value."},exponential:{doc:"Generate an output by interpolating between stops just less than and just greater than the function input."},interval:{doc:"Return the output value of the stop just less than the function input."},categorical:{doc:"Return the output value of the stop equal to the function input."}},doc:"The interpolation strategy to use in function evaluation.",
"default":"exponential"},colorSpace:{type:"enum",values:{rgb:{doc:"Use the RGB color space to interpolate color values"},lab:{doc:"Use the LAB color space to interpolate color values."},hcl:{doc:"Use the HCL color space to interpolate color values, interpolating the Hue, Chroma, and Luminance channels individually."}},doc:"The color space in which colors interpolated. Interpolating colors in perceptual color spaces like LAB and HCL tend to produce color ramps that look more consistent and produce colors that can be differentiated more easily than those interpolated in RGB space.",
"default":"rgb"},"default":{type:"*",required:!1,doc:"A value to serve as a fallback function result when a value isn't otherwise available. It is used in the following circumstances:\n* In categorical functions, when the feature value does not match any of the stop domain values.\n* In property and zoom-and-property functions, when a feature does not contain a value for the specified property.\n* In identity functions, when the feature value is not valid for the style property (for example, if the function is being used for a `circle-color` property but the feature property value is not a string or not a valid color).\n* In interval or exponential property and zoom-and-property functions, when the feature value is not numeric.\nIf no default is provided, the style property's default is used in these circumstances."}},
function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2,doc:"Zoom level and value pair."},expression:{type:"array",value:"*",minimum:1,doc:"An expression defines a function that can be used for data-driven style properties or feature filters."},expression_name:{doc:"",type:"enum",values:{let:{doc:'Binds expressions to named variables, which can then be referenced in the result expression using ["var", "variable_name"].',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"var":{doc:'References variable bound using "let".',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},literal:{doc:"Provides a literal array or object value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},array:{doc:"Asserts that the input is an array (optionally with a specific item type and length).  If, when the input expression is evaluated, it is not of the asserted type, then this assertion will cause the whole expression to be aborted.",
group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},at:{doc:"Retrieves an item from an array.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"in":{doc:"Determines whether an item exists in an array or a substring exists in a string.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.6.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"index-of":{doc:"Returns the first position at which an item can be found in an array or a substring can be found in a string, or `-1` if the input cannot be found. Accepts an optional index from where to begin the search.",
group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0"}}},slice:{doc:"Returns an item from an array or a substring from a string from a specified start index, or between a start index and an end index if set. The return value is inclusive of the start index but not of the end index.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0"}}},"case":{doc:"Selects the first output whose corresponding test condition evaluates to true, or the fallback value otherwise.",group:"Decision",
"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},match:{doc:'Selects the output whose label value matches the input value, or the fallback value if no match is found. The input can be any expression (e.g. `["get", "building_type"]`). Each label must be either:\n - a single literal value; or\n - an array of literal values, whose values must be all strings or all numbers (e.g. `[100, 101]` or `["c", "b"]`). The input matches if any of the values in the array matches, similar to the `"in"` operator.\nEach label must be unique. If the input type does not match the type of the labels, the result will be the fallback value.',
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},coalesce:{doc:"Evaluates each expression in turn until the first non-null value is obtained, and returns that value.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},step:{doc:'Produces discrete, stepped results by evaluating a piecewise-constant function defined by pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. Returns the output value of the stop just less than the input, or the first output if the input is less than the first stop.',
group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},interpolate:{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. The output type must be `number`, `array\x3cnumber\x3e`, or `color`.\n\nInterpolation types:\n- `["linear"]`: Interpolates linearly between the pair of stops just less than and just greater than the input.\n- `["exponential", base]`: Interpolates exponentially between the stops just less than and just greater than the input. `base` controls the rate at which the output increases: higher values make the output increase more towards the high end of the range. With values close to 1 the output increases linearly.\n- `["cubic-bezier", x1, y1, x2, y2]`: Interpolates using the cubic bezier curve defined by the given control points.',
group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"interpolate-hcl":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the Hue-Chroma-Luminance color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},"interpolate-lab":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the CIELAB color space.',
group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},ln2:{doc:"Returns mathematical constant ln(2).",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pi:{doc:"Returns the mathematical constant pi.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},e:{doc:"Returns the mathematical constant e.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"typeof":{doc:"Returns a string describing the type of the given value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},string:{doc:"Asserts that the input value is a string. If multiple values are provided, each one is evaluated in order until a string is obtained. If none of the inputs are strings, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},number:{doc:"Asserts that the input value is a number. If multiple values are provided, each one is evaluated in order until a number is obtained. If none of the inputs are numbers, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},boolean:{doc:"Asserts that the input value is a boolean. If multiple values are provided, each one is evaluated in order until a boolean is obtained. If none of the inputs are booleans, the expression is an error.",
group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},object:{doc:"Asserts that the input value is an object. If multiple values are provided, each one is evaluated in order until an object is obtained. If none of the inputs are objects, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},collator:{doc:"Returns a `collator` for use in locale-dependent comparison operations. The `case-sensitive` and `diacritic-sensitive` options default to `false`. The `locale` argument specifies the IETF language tag of the locale to use. If none is provided, the default locale is used. If the requested locale is not available, the `collator` will use a system-defined fallback locale. Use `resolved-locale` to test the results of locale fallback behavior.",
group:"Types","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},format:{doc:'Returns a `formatted` string for displaying mixed-format text in the `text-field` property. The input may contain a string literal or expression, including an [`\'image\'`](#types-image) expression. Strings may be followed by a style override object that supports the following properties:\n- `"text-font"`: Overrides the font stack specified by the root layout property.\n- `"text-color"`: Overrides the color specified by the root paint property.\n- `"font-scale"`: Applies a scaling factor on `text-size` as specified by the root layout property.',
group:"Types","sdk-support":{"basic functionality":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-font":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"font-scale":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-color":{js:"1.3.0",android:"7.3.0",ios:"4.10.0",macos:"0.14.0"},image:{js:"1.6.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},image:{doc:"Returns an `image` type for use in `icon-image`, `*-pattern` entries and as a section in the `format` expression. If set, the `image` argument will check that the requested image exists in the style and will return either the resolved image name or `null`, depending on whether or not the image is currently in the style. This validation process is synchronous and requires the image to have been added to the style before requesting it in the `image` argument.",
group:"Types","sdk-support":{"basic functionality":{js:"1.4.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},"number-format":{doc:"Converts the input number into a string representation using the providing formatting rules. If set, the `locale` argument specifies the locale to use, as a BCP 47 language tag. If set, the `currency` argument specifies an ISO 4217 code to use for currency-style formatting. If set, the `min-fraction-digits` and `max-fraction-digits` arguments specify the minimum and maximum number of fractional digits to include.",
group:"Types","sdk-support":{"basic functionality":{js:"0.54.0"}}},"to-string":{doc:'Converts the input value to a string. If the input is `null`, the result is `""`. If the input is a boolean, the result is `"true"` or `"false"`. If the input is a number, it is converted to a string as specified by the ["NumberToString" algorithm](https://tc39.github.io/ecma262/#sec-tostring-applied-to-the-number-type) of the ECMAScript Language Specification. If the input is a color, it is converted to a string of the form `"rgba(r,g,b,a)"`, where `r`, `g`, and `b` are numerals ranging from 0 to 255, and `a` ranges from 0 to 1. Otherwise, the input is converted to a string in the format specified by the [`JSON.stringify`](https://tc39.github.io/ecma262/#sec-json.stringify) function of the ECMAScript Language Specification.',
group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-number":{doc:'Converts the input value to a number, if possible. If the input is `null` or `false`, the result is 0. If the input is `true`, the result is 1. If the input is a string, it is converted to a number as specified by the ["ToNumber Applied to the String Type" algorithm](https://tc39.github.io/ecma262/#sec-tonumber-applied-to-the-string-type) of the ECMAScript Language Specification. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.',
group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-boolean":{doc:"Converts the input value to a boolean. The result is `false` when then input is an empty string, 0, `false`, `null`, or `NaN`; otherwise it is `true`.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-rgba":{doc:"Returns a four-element array containing the input color's red, green, blue, and alpha components, in that order.",
group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-color":{doc:"Converts the input value to a color. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgb:{doc:"Creates a color value from red, green, and blue components, which must range between 0 and 255, and an alpha component of 1. If any component is out of range, the expression is an error.",
group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgba:{doc:"Creates a color value from red, green, blue components, which must range between 0 and 255, and an alpha component which must range between 0 and 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},get:{doc:"Retrieves a property value from the current feature's properties, or from another object if a second argument is provided. Returns null if the requested property is missing.",
group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},has:{doc:"Tests for the presence of an property value in the current feature's properties, or from another object if a second argument is provided.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},length:{doc:"Gets the length of an array or string.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",
ios:"4.0.0",macos:"0.7.0"}}},properties:{doc:'Gets the feature properties object.  Note that in some cases, it may be more efficient to use ["get", "property_name"] directly.',group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"feature-state":{doc:"Retrieves a property value from the current feature's state. Returns null if the requested property is not present on the feature's state. A feature's state is not part of the GeoJSON or vector tile data, and must be set programmatically on each feature. Features are identified by their `id` attribute, which must be an integer or a string that can be cast to an integer. Note that [\"feature-state\"] can only be used with paint properties that support data-driven styling.",
group:"Feature data","sdk-support":{"basic functionality":{js:"0.46.0"}}},"geometry-type":{doc:"Gets the feature's geometry type: `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},id:{doc:"Gets the feature's id, if it has one.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},zoom:{doc:'Gets the current zoom level.  Note that in style layout and paint properties, ["zoom"] may only appear as the input to a top-level "step" or "interpolate" expression.',
group:"Zoom","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"heatmap-density":{doc:"Gets the kernel density estimation of a pixel in a heatmap layer, which is a relative measure of how many data points are crowded around a particular pixel. Can only be used in the `heatmap-color` property.",group:"Heatmap","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"line-progress":{doc:"Gets the progress along a gradient line. Can only be used in the `line-gradient` property.",
group:"Feature data","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.6.0",macos:"0.12.0"}}},"sky-radial-progress":{doc:"Gets the distance of a point on the sky from the sun position. Returns 0 at sun position and 1 when the distance reaches `sky-gradient-radius`. Can only be used in the `sky-gradient` property.",group:"sky","sdk-support":{"basic functionality":{js:"2.0.0"}}},accumulated:{doc:"Gets the value of a cluster property accumulated so far. Can only be used in the `clusterProperties` option of a clustered GeoJSON source.",
group:"Feature data","sdk-support":{"basic functionality":{js:"0.53.0"}}},"+":{doc:"Returns the sum of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"*":{doc:"Returns the product of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"-":{doc:"For two inputs, returns the result of subtracting the second input from the first. For a single input, returns the result of subtracting it from 0.",
group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"/":{doc:"Returns the result of floating point division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"%":{doc:"Returns the remainder after integer division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},
"^":{doc:"Returns the result of raising the first input to the power specified by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sqrt:{doc:"Returns the square root of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log10:{doc:"Returns the base-ten logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",
macos:"0.7.0"}}},ln:{doc:"Returns the natural logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log2:{doc:"Returns the base-two logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sin:{doc:"Returns the sine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},cos:{doc:"Returns the cosine of the input.",
group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},tan:{doc:"Returns the tangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},asin:{doc:"Returns the arcsine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},acos:{doc:"Returns the arccosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},atan:{doc:"Returns the arctangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},min:{doc:"Returns the minimum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},max:{doc:"Returns the maximum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",
macos:"0.7.0"}}},round:{doc:'Rounds the input to the nearest integer. Halfway values are rounded away from zero. For example, `["round", -1.5]` evaluates to -2.',group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},abs:{doc:"Returns the absolute value of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ceil:{doc:"Returns the smallest integer that is greater than or equal to the input.",
group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},floor:{doc:"Returns the largest integer that is less than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},distance:{doc:"Returns the shortest distance in meters between the evaluated feature and the input geometry. The input value can be a valid GeoJSON of type `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Distance values returned may vary in precision due to loss in precision from encoding geometries, particularly below zoom level 13.",
group:"Math","sdk-support":{"basic functionality":{android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}}},"\x3d\x3d":{doc:"Returns `true` if the input values are equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision",
"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"!\x3d":{doc:"Returns `true` if the input values are not equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"\x3e":{doc:"Returns `true` if the first input is strictly greater than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"\x3c":{doc:"Returns `true` if the first input is strictly less than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"\x3e\x3d":{doc:"Returns `true` if the first input is greater than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"\x3c\x3d":{doc:"Returns `true` if the first input is less than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},all:{doc:"Returns `true` if all the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `false`, the result is `false` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},any:{doc:"Returns `true` if any of the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `true`, the result is `true` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"!":{doc:"Logical negation. Returns `true` if the input is `false`, and `false` if the input is `true`.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},within:{doc:"Returns `true` if the evaluated feature is fully contained inside a boundary of the input geometry, `false` otherwise. The input value can be a valid GeoJSON of type `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Supported features for evaluation:\n- `Point`: Returns `false` if a point is on the boundary or falls outside the boundary.\n- `LineString`: Returns `false` if any part of a line falls outside the boundary, the line intersects the boundary, or a line's endpoint is on the boundary.",
group:"Decision","sdk-support":{"basic functionality":{js:"1.9.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"is-supported-script":{doc:"Returns `true` if the input string is expected to render legibly. Returns `false` if the input string contains sections that cannot be rendered without potential loss of meaning (e.g. Indic scripts that require complex text shaping, or right-to-left scripts if the the `mapbox-gl-rtl-text` plugin is not in use in Mapbox GL JS).",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",
android:"6.6.0"}}},upcase:{doc:"Returns the input string converted to uppercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},downcase:{doc:"Returns the input string converted to lowercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",
group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},concat:{doc:"Returns a `string` consisting of the concatenation of the inputs. Each input is converted to a string as if by `to-string`.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"resolved-locale":{doc:"Returns the IETF language tag of the locale being used by the provided `collator`. This can be used to determine the default system locale, or to determine if a requested locale was successfully loaded.",
group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}}}},light:{anchor:{type:"enum","default":"viewport",values:{map:{doc:"The position of the light source is aligned to the rotation of the map."},viewport:{doc:"The position of the light source is aligned to the rotation of the viewport."}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},doc:"Whether extruded geometries are lit relative to the map or viewport.",
example:"map","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},position:{type:"array","default":[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"Position of the light source relative to lit (extruded) geometries, in [r radial coordinate, a azimuthal angle, p polar angle] where r indicates the distance from the center of the base of an object to its light, a indicates the position of the light relative to 0 (0 when `light.anchor` is set to `viewport` corresponds to the top of the viewport, or 0 when `light.anchor` is set to `map` corresponds to due north, and degrees proceed clockwise), and p indicates the height of the light (from 0, directly above, to 180, directly below).",
example:[1.5,90,80],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},color:{type:"color","property-type":"data-constant","default":"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Color tint for lighting extruded geometries.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},intensity:{type:"number","property-type":"data-constant","default":.5,minimum:0,maximum:1,expression:{interpolated:!0,
parameters:["zoom"]},transition:!0,doc:"Intensity of lighting (on a scale from 0 to 1). Higher numbers will present as more extreme contrast.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}}},terrain:{source:{type:"string",doc:"Name of a source of `raster_dem` type to be used for terrain elevation.",required:!0},exaggeration:{type:"number","property-type":"data-constant","default":1,minimum:0,maximum:1E3,expression:{interpolated:!0,parameters:["zoom"]},
transition:!0,doc:"Exaggerates the elevation of the terrain by multiplying the data from the DEM with this value.","sdk-support":{"basic functionality":{js:"2.0.0"}}}},paint:"paint_fill paint_line paint_circle paint_heatmap paint_fill-extrusion paint_symbol paint_raster paint_hillshade paint_background paint_sky".split(" "),paint_fill:{"fill-antialias":{type:"boolean","default":!0,doc:"Whether or not the fill should be antialiased.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",
ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number","default":1,minimum:0,maximum:1,doc:"The opacity of the entire fill layer. In contrast to the `fill-color`, this value will also affect the 1px stroke around the fill, if the stroke is used.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",
macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color","default":"#000000",doc:"The color of the filled part of this layer. This color can be specified as `rgba` with an alpha component and the color's opacity will not affect the opacity of the 1px stroke, if it is used.",transition:!0,requires:[{"!":"fill-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},
"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",doc:"The outline color of the fill. Matches the value of `fill-color` if unspecified.",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",
android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},
"fill-translate-anchor":{type:"enum",values:{map:{doc:"The fill is translated relative to the map."},viewport:{doc:"The fill is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-translate`.","default":"map",requires:["fill-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.",
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number","default":1,minimum:0,maximum:1,doc:"The opacity of the entire fill extrusion layer. This is rendered on a per-layer, not per-feature, basis, and data-driven styling is not available.",
transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color","default":"#000000",doc:"The base color of the extruded fill. The extrusion's surfaces will be shaded differently based on this color in combination with the root `light` settings. If this color is specified as `rgba` with an alpha component, the alpha component will be ignored; use `fill-extrusion-opacity` to set layer opacity.",
transition:!0,requires:[{"!":"fill-extrusion-pattern"}],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up (on the flat plane), respectively.",
"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{doc:"The fill extrusion is translated relative to the map."},viewport:{doc:"The fill extrusion is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-extrusion-translate`.","default":"map",requires:["fill-extrusion-translate"],"sdk-support":{"basic functionality":{js:"0.27.0",
android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing images on extruded fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",
ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number","default":0,minimum:0,units:"meters",doc:"The height with which to extrude this layer.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",
macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number","default":0,minimum:0,units:"meters",doc:"The height with which to extrude the base of this layer. Must be less than or equal to `fill-extrusion-height`.",transition:!0,requires:["fill-extrusion-height"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",
ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean","default":!0,doc:"Whether to apply a vertical gradient to the sides of a fill-extrusion layer. If true, sides will be shaded slightly darker farther down.",transition:!1,"sdk-support":{"basic functionality":{js:"0.50.0",ios:"4.7.0",macos:"0.13.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},
paint_line:{"line-opacity":{type:"number",doc:"The opacity at which the line will be drawn.","default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",doc:"The color with which the line will be drawn.","default":"#000000",
transition:!0,requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.23.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.",
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{doc:"The line is translated relative to the map."},viewport:{doc:"The line is translated relative to the viewport."}},doc:"Controls the frame of reference for `line-translate`.","default":"map",requires:["line-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",
ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number","default":1,minimum:0,transition:!0,units:"pixels",doc:"Stroke thickness.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",
"default":0,minimum:0,doc:"Draws a line casing outside of a line's actual path. Value indicates the width of the inner gap.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number","default":0,doc:"The line's offset. For linear features, a positive value offsets the line to the right, relative to the direction of the line, and a negative value to the left. For polygon features, a positive value results in an inset, and a negative value results in an outset.",
transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.12.1",android:"3.0.0",ios:"3.1.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",doc:"Blur applied to the line, in pixels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",
macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",doc:"Specifies the lengths of the alternating dashes and gaps that form the dash pattern. The lengths are later scaled by the line width. To convert a dash length to pixels, multiply the length by the current line width. Note that GeoJSON sources with `lineMetrics: true` specified won't render dashed lines to the expected scale. Also note that zoom-dependent expressions will be evaluated only at integer zoom levels.",
minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image lines. For seamless patterns, image width must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.",
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",doc:'Defines a gradient with which to color a line feature. Can only be used with GeoJSON sources that specify `"lineMetrics": true`.',transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},
{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.4.0",macos:"0.11.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number","default":5,minimum:0,transition:!0,units:"pixels",doc:"Circle radius.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",
ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color","default":"#000000",doc:"The fill color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},
"circle-blur":{type:"number","default":0,doc:"Amount to blur the circle. 1 blurs the circle such that only the centerpoint is full opacity.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",doc:"The opacity at which the circle will be drawn.",
"default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.",
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{doc:"The circle is translated relative to the map."},viewport:{doc:"The circle is translated relative to the viewport."}},doc:"Controls the frame of reference for `circle-translate`.","default":"map",requires:["circle-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{doc:"Circles are scaled according to their apparent distance to the camera."},viewport:{doc:"Circles are not scaled."}},"default":"map",doc:"Controls the scaling behavior of the circle when the map is pitched.","sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!1,
parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{doc:"The circle is aligned to the plane of the map."},viewport:{doc:"The circle is aligned to the plane of the viewport."}},"default":"viewport",doc:"Orientation of circle when map is pitched.","sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",
"default":0,minimum:0,transition:!0,units:"pixels",doc:"The width of the circle's stroke. Strokes are placed outside of the `circle-radius`.","sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color","default":"#000000",doc:"The stroke color of the circle.",
transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",doc:"The opacity of the circle's stroke.","default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},
"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number","default":30,minimum:1,transition:!0,units:"pixels",doc:"Radius of influence of one heatmap point in pixels. Increasing the value makes the heatmap smoother, but less detailed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},
"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number","default":1,minimum:0,transition:!1,doc:"A measure of how much an individual point contributes to the heatmap. A value of 10 would be equivalent to having 10 points of weight 1 in the same spot. Especially useful when combined with clustering.","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number","default":1,minimum:0,transition:!0,doc:"Similar to `heatmap-weight` but controls the intensity of the heatmap globally. Primarily used for adjusting the heatmap based on zoom level.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",
ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],doc:'Defines the color of each pixel based on its density value in a heatmap.  Should be an expression that uses `["heatmap-density"]` as input.',transition:!1,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",
ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",doc:"The global opacity at which the heatmap layer will be drawn.","default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{doc:"The opacity at which the icon will be drawn.",
type:"number","default":1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color","default":"#000000",transition:!0,doc:"The color of the icon. This can only be used with sdf icons.",requires:["icon-image"],
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the icon's halo. Icon halos can only be used with SDF icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the icon outline.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",
android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",doc:"Fade out the halo towards the outside.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,
parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"Distance that the icon's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},
"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{doc:"Icons are translated relative to the map."},viewport:{doc:"Icons are translated relative to the viewport."}},doc:"Controls the frame of reference for `icon-translate`.","default":"map",requires:["icon-image","icon-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",
doc:"The opacity at which the text will be drawn.","default":1,minimum:0,maximum:1,transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",doc:"The color with which the text will be drawn.","default":"#000000",transition:!0,
overridable:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the text's halo, which helps it stand out from backgrounds.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the font outline. Max text halo width is 1/4 of the font-size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",
macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",doc:"The halo's fadeout distance towards the outside.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",
ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"Distance that the text's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},
expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{doc:"The text is translated relative to the map."},viewport:{doc:"The text is translated relative to the viewport."}},doc:"Controls the frame of reference for `text-translate`.","default":"map",requires:["text-field","text-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},
"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",doc:"The opacity at which the image will be drawn.","default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number","default":0,period:360,transition:!0,units:"degrees",doc:"Rotates hues around the color wheel.","sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the minimum brightness.","default":0,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",
doc:"Increase or reduce the brightness of the image. The value is the maximum brightness.","default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",doc:"Increase or reduce the saturation of the image.","default":0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",
ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",doc:"Increase or reduce the contrast of the image.","default":0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",doc:"The resampling/interpolation method to use for overscaling, also known as texture magnification filter",
values:{linear:{doc:"(Bi)linear filtering interpolates pixel values using the weighted average of the four closest original source pixels creating a smooth but blurry look when overscaled"},nearest:{doc:"Nearest neighbor filtering interpolates pixel values using the nearest original source pixel creating a sharp but pixelated look when overscaled"}},"default":"linear","sdk-support":{"basic functionality":{js:"0.47.0",android:"6.3.0",ios:"4.2.0",macos:"0.9.0"}},expression:{interpolated:!1,parameters:["zoom"]},
"property-type":"data-constant"},"raster-fade-duration":{type:"number","default":300,minimum:0,transition:!1,units:"milliseconds",doc:"Fade duration when a new tile is added.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number","default":335,minimum:0,maximum:359,doc:"The direction of the light source used to generate the hillshading with 0 as the top of the viewport if `hillshade-illumination-anchor` is set to `viewport` and due north if `hillshade-illumination-anchor` is set to `map`.",
transition:!1,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{doc:"The hillshade illumination is relative to the north direction."},viewport:{doc:"The hillshade illumination is relative to the top of the viewport."}},"default":"viewport",doc:"Direction of light source when map is rotated.","sdk-support":{"basic functionality":{js:"0.43.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",doc:"Intensity of the hillshade","default":.5,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color","default":"#000000",doc:"The shading color of areas that face away from the light source.",
transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color","default":"#FFFFFF",doc:"The shading color of areas that faces towards the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},
"hillshade-accent-color":{type:"color","default":"#000000",doc:"The shading color used to accentuate rugged terrain like sharp cliffs and gorges.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color","default":"#000000",doc:"The color with which the background will be drawn.",transition:!0,requires:[{"!":"background-pattern"}],
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing an image background. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number","default":1,minimum:0,maximum:1,doc:"The opacity at which the background will be drawn.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{doc:"Renders the sky with a gradient that can be configured with `sky-gradient-radius` and `sky-gradient`."},
atmosphere:{doc:"Renders the sky with a simulated atmospheric scattering algorithm, the sun direction can be attached to the light position or explicitly set through `sky-atmosphere-sun`."}},"default":"atmosphere",doc:"The type of the sky","sdk-support":{"basic functionality":{js:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,transition:!1,doc:"Position of the sun center [a azimuthal angle, p polar angle]. The azimuthal angle indicates the position of the sun relative to 0 north, where degrees proceed clockwise. The polar angle indicates the height of the sun, where 0 is directly above, at zenith, and 90 at the horizon. When this property is ommitted, the sun center is directly inherited from the light position.",
"sdk-support":{"basic functionality":{js:"2.0.0"}},requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],"default":10,minimum:0,maximum:100,transition:!1,doc:"Intensity of the sun as a light source in the atmosphere (on a scale from 0 to a 100). Setting higher values will brighten up the sky.","sdk-support":{"basic functionality":{js:"2.0.0"}},"property-type":"data-constant"},
"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number","default":[0,0],length:2,transition:!1,doc:"Position of the gradient center [a azimuthal angle, p polar angle]. The azimuthal angle indicates the position of the gradient center relative to 0 north, where degrees proceed clockwise. The polar angle indicates the height of the gradient center, where 0 is directly above, at zenith, and 90 at the horizon.","sdk-support":{"basic functionality":{js:"2.0.0"}},expression:{interpolated:!1,
parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],"default":90,minimum:0,maximum:180,transition:!1,doc:"The angular distance (measured in degrees) from `sky-gradient-center` up to which the gradient extends. A value of 180 causes the gradient to wrap around to the opposite direction from `sky-gradient-center`.","sdk-support":{"basic functionality":{js:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},
"sky-gradient":{type:"color","default":["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],doc:"Defines a radial color gradient with which to color the sky. The color values can be interpolated with an expression using `sky-radial-progress`. The range [0, 1] for the interpolant covers a radial distance (in degrees) of [0, `sky-gradient-radius`] centered at the position specified by `sky-gradient-center`.",transition:!1,requires:[{"sky-type":"gradient"}],"sdk-support":{"basic functionality":{js:"2.0.0"},
"data-driven styling":{}},expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color","default":"white",doc:"A color applied to the atmosphere sun halo. The alpha channel describes how strongly the sun halo is represented in an atmosphere sky layer.",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0"}},"property-type":"data-constant"},"sky-atmosphere-color":{type:"color","default":"white",
doc:"A color used to tweak the main atmospheric scattering coefficients. Using white applies the default coefficients giving the natural blue color to the atmosphere. This color affects how heavily the corresponding wavelength is represented during scattering. The alpha channel describes the density of the atmosphere, with 1 maximum density and 0 no density.",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0"}},"property-type":"data-constant"},"sky-opacity":{type:"number",
"default":1,minimum:0,maximum:1,doc:"The opacity of the entire sky layer.",transition:!0,"sdk-support":{"basic functionality":{js:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number","default":300,minimum:0,units:"milliseconds",doc:"Time allotted for transitions to complete."},delay:{type:"number","default":0,minimum:0,units:"milliseconds",doc:"Length of time before a transition begins."}},"property-type":{"data-driven":{type:"property-type",
doc:"Property is interpolable and can be represented using a property expression."},"cross-faded":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms."},"cross-faded-data-driven":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms. It can be represented using a property expression."},"color-ramp":{type:"property-type",doc:"Property should be specified using a color ramp from which the output color can be sampled based on a property calculation."},
"data-constant":{type:"property-type",doc:"Property is interpolable but cannot be represented using a property expression."},constant:{type:"property-type",doc:"Property is constant across all zoom levels and property values."}},promoteId:{"*":{type:"string",doc:"A name of a feature property to use as ID for feature state."}}},He=/("(?:[^\\"]|\\.)*")|[:,]/g,oe=function(q,O){O=O||{};var ja=JSON.stringify([1],void 0,void 0===O.indent?2:O.indent).slice(2,-3);var Ja=""===ja?Infinity:void 0===O.maxLength?
80:O.maxLength;var cb=O.replacer;return function Ob(nb,Kb,Yb){nb&&"function"===typeof nb.toJSON&&(nb=nb.toJSON());var Fc=JSON.stringify(nb,cb);if(void 0===Fc)return Fc;Yb=Ja-Kb.length-Yb;if(Fc.length<=Yb){var Rc=Fc.replace(He,function(ee,be){return be||ee+" "});if(Rc.length<=Yb)return Rc}null!=cb&&(nb=JSON.parse(Fc),cb=void 0);if("object"===typeof nb&&null!==nb){var md=Kb+ja;var ed=[];var Wc=0;if(Array.isArray(nb)){var Dc="[";Rc="]";for(Yb=nb.length;Wc<Yb;Wc++)ed.push(Ob(nb[Wc],md,Wc===Yb-1?0:1)||
"null")}else{Dc="{";Rc="}";var ld=Object.keys(nb);for(Yb=ld.length;Wc<Yb;Wc++){var Pd=ld[Wc];var Ld=JSON.stringify(Pd)+": ";Pd=Ob(nb[Pd],md,Ld.length+(Wc===Yb-1?0:1));void 0!==Pd&&ed.push(Ld+Pd)}}if(0<ed.length)return[Dc,ja+ed.join(",\n"+md),Rc].join("\n"+Kb)}return Fc}(q,"",0)},dc="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof Ia?Ia:"undefined"!==typeof self?self:{},xe=L(function(q,O){(function(ja){function Ja(Rd){throw RangeError(Ld[Rd]);}function cb(Rd,
Vd){for(var se=Rd.length,kd=[];se--;)kd[se]=Vd(Rd[se]);return kd}function fb(Rd,Vd){var se=Rd.split("@"),kd="";1<se.length&&(kd=se[0]+"@",Rd=se[1]);Rd=Rd.replace(Pd,".");Rd=Rd.split(".");Vd=cb(Rd,Vd).join(".");return kd+Vd}function nb(Rd){for(var Vd=[],se=0,kd=Rd.length,te,Gf;se<kd;)te=Rd.charCodeAt(se++),55296<=te&&56319>=te&&se<kd?(Gf=Rd.charCodeAt(se++),56320==(Gf&64512)?Vd.push(((te&1023)<<10)+(Gf&1023)+65536):(Vd.push(te),se--)):Vd.push(te);return Vd}function Kb(Rd){return cb(Rd,function(Vd){var se=
"";65535<Vd&&(Vd-=65536,se+=be(Vd>>>10&1023|55296),Vd=56320|Vd&1023);return se+=be(Vd)}).join("")}function Yb(Rd,Vd){return Rd+22+75*(26>Rd)-((0!=Vd)<<5)}function Ob(Rd,Vd,se){var kd=0;Rd=se?ee(Rd/700):Rd>>1;for(Rd+=ee(Rd/Vd);455<Rd;kd+=36)Rd=ee(Rd/35);return ee(kd+36*Rd/(Rd+38))}function Fc(Rd){var Vd=[],se=Rd.length,kd=0,te=128,Gf=72,Ae,uf;var Ze=Rd.lastIndexOf("-");0>Ze&&(Ze=0);for(Ae=0;Ae<Ze;++Ae)128<=Rd.charCodeAt(Ae)&&Ja("not-basic"),Vd.push(Rd.charCodeAt(Ae));for(Ze=0<Ze?Ze+1:0;Ze<se;){Ae=
kd;var Ve=1;for(uf=36;;uf+=36){Ze>=se&&Ja("invalid-input");var hf=Rd.charCodeAt(Ze++);hf=10>hf-48?hf-22:26>hf-65?hf-65:26>hf-97?hf-97:36;(36<=hf||hf>ee((2147483647-kd)/Ve))&&Ja("overflow");kd+=hf*Ve;var Df=uf<=Gf?1:uf>=Gf+26?26:uf-Gf;if(hf<Df)break;hf=36-Df;Ve>ee(2147483647/hf)&&Ja("overflow");Ve*=hf}Ve=Vd.length+1;Gf=Ob(kd-Ae,Ve,0==Ae);ee(kd/Ve)>2147483647-te&&Ja("overflow");te+=ee(kd/Ve);kd%=Ve;Vd.splice(kd++,0,te)}return Kb(Vd)}function Rc(Rd){var Vd,se,kd,te=[];Rd=nb(Rd);var Gf=Rd.length;var Ae=
128;var uf=0;var Ze=72;for(kd=0;kd<Gf;++kd){var Ve=Rd[kd];128>Ve&&te.push(be(Ve))}for((Vd=se=te.length)&&te.push("-");Vd<Gf;){var hf=2147483647;for(kd=0;kd<Gf;++kd)Ve=Rd[kd],Ve>=Ae&&Ve<hf&&(hf=Ve);var Df=Vd+1;hf-Ae>ee((2147483647-uf)/Df)&&Ja("overflow");uf+=(hf-Ae)*Df;Ae=hf;for(kd=0;kd<Gf;++kd)if(Ve=Rd[kd],Ve<Ae&&2147483647<++uf&&Ja("overflow"),Ve==Ae){var Zf=uf;for(hf=36;;hf+=36){Ve=hf<=Ze?1:hf>=Ze+26?26:hf-Ze;if(Zf<Ve)break;var tg=Zf-Ve;Zf=36-Ve;te.push(be(Yb(Ve+tg%Zf,0)));Zf=ee(tg/Zf)}te.push(be(Yb(Zf,
0)));Ze=Ob(uf,Df,Vd==se);uf=0;++Vd}++uf;++Ae}return te.join("")}var md=O&&!O.nodeType&&O,ed=q&&!q.nodeType&&q,Wc="object"==typeof dc&&dc;if(Wc.global===Wc||Wc.window===Wc||Wc.self===Wc)ja=Wc;var Dc=/^xn--/,ld=/[^\x20-\x7E]/,Pd=/[\x2E\u3002\uFF0E\uFF61]/g,Ld={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input \x3e\x3d 0x80 (not a basic code point)","invalid-input":"Invalid input"},ee=Math.floor,be=String.fromCharCode,nf;Wc={version:"1.3.2",ucs2:{decode:nb,encode:Kb},
decode:Fc,encode:Rc,toASCII:function(Rd){return fb(Rd,function(Vd){return ld.test(Vd)?"xn--"+Rc(Vd):Vd})},toUnicode:function(Rd){return fb(Rd,function(Vd){return Dc.test(Vd)?Fc(Vd.slice(4).toLowerCase()):Vd})}};if(md&&ed)if(q.exports==md)ed.exports=Wc;else for(nf in Wc)Wc.hasOwnProperty(nf)&&(md[nf]=Wc[nf]);else ja.punycode=Wc})(dc)}),de={isString:function(q){return"string"===typeof q},isObject:function(q){return"object"===typeof q&&null!==q},isNull:function(q){return null===q},isNullOrUndefined:function(q){return null==
q}},Ie=function(q,O,ja,Ja){ja=ja||"\x3d";var cb={};if("string"!==typeof q||0===q.length)return cb;var fb=/\+/g;q=q.split(O||"\x26");O=1E3;Ja&&"number"===typeof Ja.maxKeys&&(O=Ja.maxKeys);Ja=q.length;0<O&&Ja>O&&(Ja=O);for(O=0;O<Ja;++O){var nb=q[O].replace(fb,"%20"),Kb=nb.indexOf(ja);if(0<=Kb){var Yb=nb.substr(0,Kb);nb=nb.substr(Kb+1)}else Yb=nb,nb="";Yb=decodeURIComponent(Yb);nb=decodeURIComponent(nb);Object.prototype.hasOwnProperty.call(cb,Yb)?Array.isArray(cb[Yb])?cb[Yb].push(nb):cb[Yb]=[cb[Yb],
nb]:cb[Yb]=nb}return cb},sf=function(q){switch(typeof q){case "string":return q;case "boolean":return q?"true":"false";case "number":return isFinite(q)?q:"";default:return""}},ff=function(q,O,ja,Ja){O=O||"\x26";ja=ja||"\x3d";null===q&&(q=void 0);return"object"===typeof q?Object.keys(q).map(function(cb){var fb=encodeURIComponent(sf(cb))+ja;return Array.isArray(q[cb])?q[cb].map(function(nb){return fb+encodeURIComponent(sf(nb))}).join(O):fb+encodeURIComponent(sf(q[cb]))}).join(O):Ja?encodeURIComponent(sf(Ja))+
ja+encodeURIComponent(sf(q)):""},mf=L(function(q,O){O.decode=O.parse=Ie;O.encode=O.stringify=ff}),gf=/^([a-z0-9.+-]+:)/i,Zd=/:[0-9]*$/,sc=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,ta="{}|\\^`".split("").concat('\x3c\x3e"` \r\n\t'.split("")),Ba=["'"].concat(ta),Va=["%","/","?",";","#"].concat(Ba),zb=["/","?","#"],pb=/^[+a-z0-9A-Z_-]{0,63}$/,Rb=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Vb={javascript:!0,"javascript:":!0},Gc={javascript:!0,"javascript:":!0},Vc={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,
"ftp:":!0,"gopher:":!0,"file:":!0};w.prototype.parse=function(q,O,ja){if(!de.isString(q))throw new TypeError("Parameter 'url' must be a string, not "+typeof q);var Ja=q.indexOf("?");Ja=-1!==Ja&&Ja<q.indexOf("#")?"?":"#";q=q.split(Ja);q[0]=q[0].replace(/\\/g,"/");q=q.join(Ja);Ja=q.trim();if(!ja&&1===q.split("#").length&&(q=sc.exec(Ja)))return this.href=this.path=Ja,this.pathname=q[1],q[2]?(this.search=q[2],this.query=O?mf.parse(this.search.substr(1)):this.search.substr(1)):O&&(this.search="",this.query=
{}),this;if(q=gf.exec(Ja)){q=q[0];var cb=q.toLowerCase();this.protocol=cb;Ja=Ja.substr(q.length)}if(ja||q||Ja.match(/^\/\/[^@\/]+@[^@\/]+/)){var fb="//"===Ja.substr(0,2);!fb||q&&Gc[q]||(Ja=Ja.substr(2),this.slashes=!0)}if(!Gc[q]&&(fb||q&&!Vc[q])){fb=-1;for(ja=0;ja<zb.length;ja++)q=Ja.indexOf(zb[ja]),-1!==q&&(-1===fb||q<fb)&&(fb=q);fb=-1===fb?Ja.lastIndexOf("@"):Ja.lastIndexOf("@",fb);-1!==fb&&(ja=Ja.slice(0,fb),Ja=Ja.slice(fb+1),this.auth=decodeURIComponent(ja));fb=-1;for(ja=0;ja<Va.length;ja++)q=
Ja.indexOf(Va[ja]),-1!==q&&(-1===fb||q<fb)&&(fb=q);-1===fb&&(fb=Ja.length);this.host=Ja.slice(0,fb);Ja=Ja.slice(fb);this.parseHost();this.hostname=this.hostname||"";fb="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!fb){var nb=this.hostname.split(/\./);ja=0;for(q=nb.length;ja<q;ja++){var Kb=nb[ja];if(Kb&&!Kb.match(pb)){for(var Yb="",Ob=0,Fc=Kb.length;Ob<Fc;Ob++)Yb=127<Kb.charCodeAt(Ob)?Yb+"x":Yb+Kb[Ob];if(!Yb.match(pb)){q=nb.slice(0,ja);ja=nb.slice(ja+1);if(Kb=Kb.match(Rb))q.push(Kb[1]),
ja.unshift(Kb[2]);ja.length&&(Ja="/"+ja.join(".")+Ja);this.hostname=q.join(".");break}}}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase();fb||(this.hostname=xe.toASCII(this.hostname));ja=this.port?":"+this.port:"";this.host=(this.hostname||"")+ja;this.href+=this.host;fb&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==Ja[0]&&(Ja="/"+Ja))}if(!Vb[cb])for(ja=0,q=Ba.length;ja<q;ja++)fb=Ba[ja],-1!==Ja.indexOf(fb)&&(Kb=encodeURIComponent(fb),Kb===fb&&(Kb=escape(fb)),
Ja=Ja.split(fb).join(Kb));ja=Ja.indexOf("#");-1!==ja&&(this.hash=Ja.substr(ja),Ja=Ja.slice(0,ja));ja=Ja.indexOf("?");-1!==ja?(this.search=Ja.substr(ja),this.query=Ja.substr(ja+1),O&&(this.query=mf.parse(this.query)),Ja=Ja.slice(0,ja)):O&&(this.search="",this.query={});Ja&&(this.pathname=Ja);Vc[cb]&&this.hostname&&!this.pathname&&(this.pathname="/");if(this.pathname||this.search)ja=this.pathname||"",this.path=ja+(this.search||"");this.href=this.format();return this};w.prototype.format=function(){var q=
this.auth||"";q&&(q=encodeURIComponent(q),q=q.replace(/%3A/i,":"),q+="@");var O=this.protocol||"",ja=this.pathname||"",Ja=this.hash||"",cb=!1,fb="";this.host?cb=q+this.host:this.hostname&&(cb=q+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(cb+=":"+this.port));this.query&&de.isObject(this.query)&&Object.keys(this.query).length&&(fb=mf.stringify(this.query));q=this.search||fb&&"?"+fb||"";O&&":"!==O.substr(-1)&&(O+=":");this.slashes||(!O||Vc[O])&&!1!==cb?(cb="//"+
(cb||""),ja&&"/"!==ja.charAt(0)&&(ja="/"+ja)):cb||(cb="");Ja&&"#"!==Ja.charAt(0)&&(Ja="#"+Ja);q&&"?"!==q.charAt(0)&&(q="?"+q);ja=ja.replace(/[?#]/g,function(nb){return encodeURIComponent(nb)});q=q.replace("#","%23");return O+cb+ja+q+Ja};w.prototype.resolve=function(q){return this.resolveObject(v(q,!1,!0)).format()};w.prototype.resolveObject=function(q){if(de.isString(q)){var O=new w;O.parse(q,!1,!0);q=O}O=new w;for(var ja=Object.keys(this),Ja=0;Ja<ja.length;Ja++){var cb=ja[Ja];O[cb]=this[cb]}O.hash=
q.hash;if(""===q.href)return O.href=O.format(),O;if(q.slashes&&!q.protocol){ja=Object.keys(q);for(Ja=0;Ja<ja.length;Ja++)cb=ja[Ja],"protocol"!==cb&&(O[cb]=q[cb]);Vc[O.protocol]&&O.hostname&&!O.pathname&&(O.path=O.pathname="/");O.href=O.format();return O}if(q.protocol&&q.protocol!==O.protocol){if(!Vc[q.protocol]){ja=Object.keys(q);for(Ja=0;Ja<ja.length;Ja++)cb=ja[Ja],O[cb]=q[cb];O.href=O.format();return O}O.protocol=q.protocol;if(q.host||Gc[q.protocol])O.pathname=q.pathname;else{for(var fb=(q.pathname||
"").split("/");fb.length&&!(q.host=fb.shift()););q.host||(q.host="");q.hostname||(q.hostname="");""!==fb[0]&&fb.unshift("");2>fb.length&&fb.unshift("");O.pathname=fb.join("/")}O.search=q.search;O.query=q.query;O.host=q.host||"";O.auth=q.auth;O.hostname=q.hostname||q.host;O.port=q.port;if(O.pathname||O.search)O.path=(O.pathname||"")+(O.search||"");O.slashes=O.slashes||q.slashes;O.href=O.format();return O}ja=O.pathname&&"/"===O.pathname.charAt(0);var nb=q.host||q.pathname&&"/"===q.pathname.charAt(0),
Kb=ja=nb||ja||O.host&&q.pathname;Ja=O.pathname&&O.pathname.split("/")||[];fb=q.pathname&&q.pathname.split("/")||[];if(cb=O.protocol&&!Vc[O.protocol])O.hostname="",O.port=null,O.host&&(""===Ja[0]?Ja[0]=O.host:Ja.unshift(O.host)),O.host="",q.protocol&&(q.hostname=null,q.port=null,q.host&&(""===fb[0]?fb[0]=q.host:fb.unshift(q.host)),q.host=null),ja=ja&&(""===fb[0]||""===Ja[0]);if(nb)O.host=q.host||""===q.host?q.host:O.host,O.hostname=q.hostname||""===q.hostname?q.hostname:O.hostname,O.search=q.search,
O.query=q.query,Ja=fb;else if(fb.length)Ja||(Ja=[]),Ja.pop(),Ja=Ja.concat(fb),O.search=q.search,O.query=q.query;else if(!de.isNullOrUndefined(q.search))return cb&&(O.hostname=O.host=Ja.shift(),cb=O.host&&0<O.host.indexOf("@")?O.host.split("@"):!1)&&(O.auth=cb.shift(),O.host=O.hostname=cb.shift()),O.search=q.search,O.query=q.query,de.isNull(O.pathname)&&de.isNull(O.search)||(O.path=(O.pathname?O.pathname:"")+(O.search?O.search:"")),O.href=O.format(),O;if(!Ja.length)return O.pathname=null,O.path=O.search?
"/"+O.search:null,O.href=O.format(),O;nb=Ja.slice(-1)[0];fb=(O.host||q.host||1<Ja.length)&&("."===nb||".."===nb)||""===nb;for(var Yb=0,Ob=Ja.length;0<=Ob;Ob--)nb=Ja[Ob],"."===nb?Ja.splice(Ob,1):".."===nb?(Ja.splice(Ob,1),Yb++):Yb&&(Ja.splice(Ob,1),Yb--);if(!ja&&!Kb)for(;Yb--;Yb)Ja.unshift("..");!ja||""===Ja[0]||Ja[0]&&"/"===Ja[0].charAt(0)||Ja.unshift("");fb&&"/"!==Ja.join("/").substr(-1)&&Ja.push("");Kb=""===Ja[0]||Ja[0]&&"/"===Ja[0].charAt(0);cb&&(O.hostname=O.host=Kb?"":Ja.length?Ja.shift():"",
cb=O.host&&0<O.host.indexOf("@")?O.host.split("@"):!1)&&(O.auth=cb.shift(),O.host=O.hostname=cb.shift());(ja=ja||O.host&&Ja.length)&&!Kb&&Ja.unshift("");Ja.length?O.pathname=Ja.join("/"):(O.pathname=null,O.path=null);de.isNull(O.pathname)&&de.isNull(O.search)||(O.path=(O.pathname?O.pathname:"")+(O.search?O.search:""));O.auth=q.auth||O.auth;O.slashes=O.slashes||q.slashes;O.href=O.format();return O};w.prototype.parseHost=function(){var q=this.host,O=Zd.exec(q);O&&(O=O[0],":"!==O&&(this.port=O.substr(1)),
q=q.substr(0,q.length-O.length));q&&(this.hostname=q)};var Cc={parse:v,resolve:function(q,O){return v(q,!1,!0).resolve(O)},resolveObject:function(q,O){return q?v(q,!1,!0).resolveObject(O):O},format:function(q){de.isString(q)&&(q=v(q));return q instanceof w?q.format():w.prototype.format.call(q)},Url:w};class Bd extends Error{constructor(q,O){super(O);this.message=O;this.key=q}}class dd{constructor(q,O=[]){this.parent=q;this.bindings={};for(const [ja,Ja]of O)this.bindings[ja]=Ja}concat(q){return new dd(this,
q)}get(q){if(this.bindings[q])return this.bindings[q];if(this.parent)return this.parent.get(q);throw Error(`${q} not found in scope.`);}has(q){return this.bindings[q]?!0:this.parent?this.parent.has(q):!1}}const rd={kind:"null"},$c={kind:"number"},Ad={kind:"string"},Sd={kind:"boolean"},Ye={kind:"color"},Ne={kind:"object"},Yc={kind:"value"},ye={kind:"collator"},Xe={kind:"formatted"},Ke={kind:"resolvedImage"},tf=[rd,$c,Ad,Sd,Ye,Xe,Ne,B(Yc),Ke];var df=L(function(q,O){function ja(Ob){Ob=Math.round(Ob);
return 0>Ob?0:255<Ob?255:Ob}function Ja(Ob){return 0>Ob?0:1<Ob?1:Ob}function cb(Ob){return"%"===Ob[Ob.length-1]?ja(parseFloat(Ob)/100*255):ja(parseInt(Ob))}function fb(Ob){return"%"===Ob[Ob.length-1]?Ja(parseFloat(Ob)/100):Ja(parseFloat(Ob))}function nb(Ob,Fc,Rc){0>Rc?Rc+=1:1<Rc&&--Rc;return 1>6*Rc?Ob+(Fc-Ob)*Rc*6:1>2*Rc?Fc:2>3*Rc?Ob+(Fc-Ob)*(2/3-Rc)*6:Ob}function Kb(Ob){Ob=Ob.replace(/ /g,"").toLowerCase();if(Ob in Yb)return Yb[Ob].slice();if("#"===Ob[0])return 4===Ob.length?(Ob=parseInt(Ob.substr(1),
16),0<=Ob&&4095>=Ob?[(Ob&3840)>>4|(Ob&3840)>>8,Ob&240|(Ob&240)>>4,Ob&15|(Ob&15)<<4,1]:null):7===Ob.length?(Ob=parseInt(Ob.substr(1),16),0<=Ob&&16777215>=Ob?[(Ob&16711680)>>16,(Ob&65280)>>8,Ob&255,1]:null):null;var Fc=Ob.indexOf("("),Rc=Ob.indexOf(")");if(-1!==Fc&&Rc+1===Ob.length){var md=Ob.substr(0,Fc);Fc=Ob.substr(Fc+1,Rc-(Fc+1)).split(",");Ob=1;switch(md){case "rgba":if(4!==Fc.length)break;Ob=fb(Fc.pop());case "rgb":if(3!==Fc.length)break;return[cb(Fc[0]),cb(Fc[1]),cb(Fc[2]),Ob];case "hsla":if(4!==
Fc.length)break;Ob=fb(Fc.pop());case "hsl":if(3===Fc.length)return md=(parseFloat(Fc[0])%360+360)%360/360,Rc=fb(Fc[1]),Fc=fb(Fc[2]),Rc=.5>=Fc?Fc*(Rc+1):Fc+Rc-Fc*Rc,Fc=2*Fc-Rc,[ja(255*nb(Fc,Rc,md+1/3)),ja(255*nb(Fc,Rc,md)),ja(255*nb(Fc,Rc,md-1/3)),Ob]}}return null}var Yb={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,
205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,
107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,
220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,
250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,
85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,
170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,
192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{O.parseCSSColor=Kb}catch(Ob){}}).parseCSSColor;class we{constructor(q,
O,ja,Ja=1){this.r=q;this.g=O;this.b=ja;this.a=Ja}static parse(q){if(q){if(q instanceof we)return q;if("string"===typeof q&&(q=df(q)))return new we(q[0]/255*q[3],q[1]/255*q[3],q[2]/255*q[3],q[3])}}toString(){const [q,O,ja,Ja]=this.toArray();return`rgba(${Math.round(q)},${Math.round(O)},${Math.round(ja)},${Ja})`}toArray(){const {r:q,g:O,b:ja,a:Ja}=this;return 0===Ja?[0,0,0,0]:[255*q/Ja,255*O/Ja,255*ja/Ja,Ja]}}we.black=new we(0,0,0,1);we.white=new we(1,1,1,1);we.transparent=new we(0,0,0,0);we.red=new we(1,
0,0,1);we.blue=new we(0,0,1,1);class Pe{constructor(q,O,ja){this.sensitivity=q?O?"variant":"case":O?"accent":"base";this.locale=ja;this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(q,O){return this.collator.compare(q,O)}resolvedLocale(){return(new Intl.Collator(this.locale?this.locale:[])).resolvedOptions().locale}}class va{constructor(q,O,ja,Ja,cb){this.text=q;this.image=O;this.scale=ja;this.fontStack=Ja;this.textColor=cb}}class Ma{constructor(q){this.sections=
q}static fromString(q){return new Ma([new va(q,null,null,null,null)])}isEmpty(){return 0===this.sections.length?!0:!this.sections.some(q=>0!==q.text.length||q.image&&0!==q.image.name.length)}static factory(q){return q instanceof Ma?q:Ma.fromString(q)}toString(){return 0===this.sections.length?"":this.sections.map(q=>q.text).join("")}serialize(){const q=["format"];for(const O of this.sections){if(O.image){q.push(["image",O.image.name]);continue}q.push(O.text);const ja={};O.fontStack&&(ja["text-font"]=
["literal",O.fontStack.split(",")]);O.scale&&(ja["font-scale"]=O.scale);O.textColor&&(ja["text-color"]=["rgba"].concat(O.textColor.toArray()));q.push(ja)}return q}}class rb{constructor(q){this.name=q.name;this.available=q.available}toString(){return this.name}static fromString(q){return q?new rb({name:q,available:!1}):null}serialize(){return["image",this.name]}}class Pb{constructor(q,O){this.type=q;this.value=O}static parse(q,O){if(2!==q.length)return O.error(`'literal' expression requires exactly one argument, but found ${q.length-
1} instead.`);if(!H(q[1]))return O.error("invalid value");q=q[1];let ja=Q(q);O=O.expectedType;"array"!==ja.kind||0!==ja.N||!O||"array"!==O.kind||"number"===typeof O.N&&0!==O.N||(ja=O);return new Pb(ja,q)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof we?["rgba"].concat(this.value.toArray()):this.value instanceof Ma?this.value.serialize():this.value}}class Mb{constructor(q){this.name=
"ExpressionEvaluationError";this.message=q}toJSON(){return this.message}}const ac={string:Ad,number:$c,boolean:Sd,object:Ne};class gc{constructor(q,O){this.type=q;this.args=O}static parse(q,O){if(2>q.length)return O.error("Expected at least one argument.");let ja=1;var Ja=q[0];if("array"===Ja){if(2<q.length){Ja=q[1];if("string"!==typeof Ja||!(Ja in ac)||"object"===Ja)return O.error('The item type argument of "array" must be one of string, number, boolean',1);Ja=ac[Ja];ja++}else Ja=Yc;if(3<q.length){if(null!==
q[2]&&("number"!==typeof q[2]||0>q[2]||q[2]!==Math.floor(q[2])))return O.error('The length argument to "array" must be a positive integer literal',2);var cb=q[2];ja++}cb=B(Ja,cb)}else cb=ac[Ja];for(Ja=[];ja<q.length;ja++){const fb=O.parse(q[ja],ja,Yc);if(!fb)return null;Ja.push(fb)}return new gc(cb,Ja)}evaluate(q){for(let O=0;O<this.args.length;O++){const ja=this.args[O].evaluate(q);if(!K(this.type,Q(ja)))return ja;if(O===this.args.length-1)throw new Mb(`Expected value to be of type ${M(this.type)}, but found ${M(Q(ja))} instead.`);
}return null}eachChild(q){this.args.forEach(q)}outputDefined(){return this.args.every(q=>q.outputDefined())}serialize(){var q=this.type;const O=[q.kind];if("array"===q.kind){const ja=q.itemType;if("string"===ja.kind||"number"===ja.kind||"boolean"===ja.kind)O.push(ja.kind),q=q.N,("number"===typeof q||1<this.args.length)&&O.push(q)}return O.concat(this.args.map(ja=>ja.serialize()))}}class Uc{constructor(q){this.type=Xe;this.sections=q}static parse(q,O){if(2>q.length)return O.error("Expected at least one argument.");
var ja=q[1];if(!Array.isArray(ja)&&"object"===typeof ja)return O.error("First argument must be an image or text section.");ja=[];var Ja=!1;for(let nb=1;nb<=q.length-1;++nb){var cb=q[nb];if(Ja&&"object"===typeof cb&&!Array.isArray(cb)){Ja=!1;var fb=null;if(cb["font-scale"]&&(fb=O.parse(cb["font-scale"],1,$c),!fb))return null;let Kb=null;if(cb["text-font"]&&(Kb=O.parse(cb["text-font"],1,B(Ad)),!Kb))return null;let Yb=null;if(cb["text-color"]&&(Yb=O.parse(cb["text-color"],1,Ye),!Yb))return null;cb=ja[ja.length-
1];cb.scale=fb;cb.font=Kb;cb.textColor=Yb}else{fb=O.parse(q[nb],1,Yc);if(!fb)return null;Ja=fb.type.kind;if("string"!==Ja&&"value"!==Ja&&"null"!==Ja&&"resolvedImage"!==Ja)return O.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Ja=!0;ja.push({content:fb,scale:null,font:null,textColor:null})}}return new Uc(ja)}evaluate(q){return new Ma(this.sections.map(O=>{const ja=O.content.evaluate(q);return Q(ja)===Ke?new va("",ja,null,null,null):new va(S(ja),null,O.scale?O.scale.evaluate(q):
null,O.font?O.font.evaluate(q).join(","):null,O.textColor?O.textColor.evaluate(q):null)}))}eachChild(q){for(const O of this.sections)q(O.content),O.scale&&q(O.scale),O.font&&q(O.font),O.textColor&&q(O.textColor)}outputDefined(){return!1}serialize(){const q=["format"];for(const O of this.sections){q.push(O.content.serialize());const ja={};O.scale&&(ja["font-scale"]=O.scale.serialize());O.font&&(ja["text-font"]=O.font.serialize());O.textColor&&(ja["text-color"]=O.textColor.serialize());q.push(ja)}return q}}
class Mc{constructor(q){this.type=Ke;this.input=q}static parse(q,O){return 2!==q.length?O.error("Expected two arguments."):(q=O.parse(q[1],1,Ad))?new Mc(q):O.error("No image name provided.")}evaluate(q){const O=this.input.evaluate(q),ja=rb.fromString(O);ja&&q.availableImages&&(ja.available=-1<q.availableImages.indexOf(O));return ja}eachChild(q){q(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const fd={"to-boolean":Sd,"to-color":Ye,"to-number":$c,"to-string":Ad};
class ud{constructor(q,O){this.type=q;this.args=O}static parse(q,O){if(2>q.length)return O.error("Expected at least one argument.");var ja=q[0];if(("to-boolean"===ja||"to-string"===ja)&&2!==q.length)return O.error("Expected one argument.");ja=fd[ja];const Ja=[];for(let cb=1;cb<q.length;cb++){const fb=O.parse(q[cb],cb,Yc);if(!fb)return null;Ja.push(fb)}return new ud(ja,Ja)}evaluate(q){if("boolean"===this.type.kind)return!!this.args[0].evaluate(q);if("color"===this.type.kind){for(const cb of this.args){var O=
cb.evaluate(q);var ja=null;if(O instanceof we)return O;if("string"===typeof O){var Ja=q.parseColor(O);if(Ja)return Ja}else if(Array.isArray(O)&&(ja=3>O.length||4<O.length?`Invalid rbga value ${JSON.stringify(O)}: expected an array containing either three or four numeric values.`:E(O[0],O[1],O[2],O[3]),!ja))return new we(O[0]/255,O[1]/255,O[2]/255,O[3])}throw new Mb(ja||`Could not parse color from value '${"string"===typeof O?O:String(JSON.stringify(O))}'`);}if("number"===this.type.kind){O=null;for(Ja of this.args){O=
Ja.evaluate(q);if(null===O)return 0;ja=Number(O);if(!isNaN(ja))return ja}throw new Mb(`Could not convert ${JSON.stringify(O)} to number.`);}return"formatted"===this.type.kind?Ma.fromString(S(this.args[0].evaluate(q))):"resolvedImage"===this.type.kind?rb.fromString(S(this.args[0].evaluate(q))):S(this.args[0].evaluate(q))}eachChild(q){this.args.forEach(q)}outputDefined(){return this.args.every(q=>q.outputDefined())}serialize(){if("formatted"===this.type.kind)return(new Uc([{content:this.args[0],scale:null,
font:null,textColor:null}])).serialize();if("resolvedImage"===this.type.kind)return(new Mc(this.args[0])).serialize();const q=[`to-${this.type.kind}`];this.eachChild(O=>{q.push(O.serialize())});return q}}const Od=["Unknown","Point","LineString","Polygon"];class Yd{constructor(){this.formattedSection=this.featureState=this.feature=this.globals=null;this._parseColorCache={};this.canonical=this.availableImages=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?
"number"===typeof this.feature.type?Od[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(q){let O=this._parseColorCache[q];O||(O=this._parseColorCache[q]=we.parse(q));return O}}class vd{constructor(q,O,ja,Ja){this.name=q;this.type=O;this._evaluate=ja;this.args=Ja}evaluate(q){return this._evaluate(q,this.args)}eachChild(q){this.args.forEach(q)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(q=>
q.serialize()))}static parse(q,O){var ja=q[0],Ja=vd.definitions[ja];if(!Ja)return O.error(`Unknown expression "${ja}". If you wanted a literal array, use ["literal", [...]].`,0);var cb=Array.isArray(Ja)?Ja[0]:Ja.type;Ja=Array.isArray(Ja)?[[Ja[1],Ja[2]]]:Ja.overloads;var fb=Ja.filter(([Fc])=>!Array.isArray(Fc)||Fc.length===q.length-1);let nb=null;for(const [Fc,Rc]of fb){nb=new ge(O.registry,O.path,null,O.scope);const md=[];var Kb=!1;for(var Yb=1;Yb<q.length;Yb++){var Ob=q[Yb];const ed=Array.isArray(Fc)?
Fc[Yb-1]:Fc.type;Ob=nb.parse(Ob,1+md.length,ed);if(!Ob){Kb=!0;break}md.push(Ob)}if(!Kb)if(Array.isArray(Fc)&&Fc.length!==md.length)nb.error(`Expected ${Fc.length} arguments, but found ${md.length} instead.`);else{for(Kb=0;Kb<md.length;Kb++)Yb=Array.isArray(Fc)?Fc[Kb]:Fc.type,Ob=md[Kb],nb.concat(Kb+1).checkSubtype(Yb,Ob.type);if(0===nb.errors.length)return new vd(ja,cb,Rc,md)}}if(1===fb.length)O.errors.push(...nb.errors);else{ja=(fb.length?fb:Ja).map(([Fc])=>{Fc=Array.isArray(Fc)?`(${Fc.map(M).join(", ")})`:
`(${M(Fc.type)}...)`;return Fc}).join(" | ");cb=[];for(Ja=1;Ja<q.length;Ja++){fb=O.parse(q[Ja],1+cb.length);if(!fb)return null;cb.push(M(fb.type))}O.error(`Expected arguments of type ${ja}, but found (${cb.join(", ")}) instead.`)}return null}static register(q,O){vd.definitions=O;for(const ja in O)q[ja]=vd}}class ze{constructor(q,O,ja){this.type=ye;this.locale=ja;this.caseSensitive=q;this.diacriticSensitive=O}static parse(q,O){if(2!==q.length)return O.error("Expected one argument.");q=q[1];if("object"!==
typeof q||Array.isArray(q))return O.error("Collator options argument must be an object.");const ja=O.parse(void 0===q["case-sensitive"]?!1:q["case-sensitive"],1,Sd);if(!ja)return null;const Ja=O.parse(void 0===q["diacritic-sensitive"]?!1:q["diacritic-sensitive"],1,Sd);if(!Ja)return null;let cb=null;return q.locale&&(cb=O.parse(q.locale,1,Ad),!cb)?null:new ze(ja,Ja,cb)}evaluate(q){return new Pe(this.caseSensitive.evaluate(q),this.diacriticSensitive.evaluate(q),this.locale?this.locale.evaluate(q):null)}eachChild(q){q(this.caseSensitive);
q(this.diacriticSensitive);this.locale&&q(this.locale)}outputDefined(){return!1}serialize(){const q={};q["case-sensitive"]=this.caseSensitive.serialize();q["diacritic-sensitive"]=this.diacriticSensitive.serialize();this.locale&&(q.locale=this.locale.serialize());return["collator",q]}}class Kd{constructor(q,O){this.type=Sd;this.geojson=q;this.geometries=O}static parse(q,O){if(2!==q.length)return O.error(`'within' expression requires exactly one argument, but found ${q.length-1} instead.`);if(H(q[1]))if(q=
q[1],"FeatureCollection"===q.type)for(var ja=0;ja<q.features.length;++ja){const Ja=q.features[ja].geometry.type;if("Polygon"===Ja||"MultiPolygon"===Ja)return new Kd(q,q.features[ja].geometry)}else if("Feature"===q.type){if(ja=q.geometry.type,"Polygon"===ja||"MultiPolygon"===ja)return new Kd(q,q.geometry)}else if("Polygon"===q.type||"MultiPolygon"===q.type)return new Kd(q,q);return O.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(q){if(null!=
q.geometry()&&null!=q.canonicalID()){if("Point"===q.geometryType())return wa(q,this.geometries);if("LineString"===q.geometryType())return xa(q,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}class pe{constructor(q,O){this.type=O.type;this.name=q;this.boundExpression=O}static parse(q,O){if(2!==q.length||"string"!==typeof q[1])return O.error("'var' expression requires exactly one string literal argument.");q=q[1];return O.scope.has(q)?new pe(q,
O.scope.get(q)):O.error(`Unknown variable "${q}". Make sure "${q}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(q){return this.boundExpression.evaluate(q)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}class ge{constructor(q,O=[],ja,Ja=new dd,cb=[]){this.registry=q;this.path=O;this.key=O.map(fb=>`[${fb}]`).join("");this.scope=Ja;this.errors=cb;this.expectedType=ja}parse(q,O,ja,Ja,cb={}){return O?this.concat(O,ja,Ja)._parse(q,cb):this._parse(q,
cb)}_parse(q,O){function ja(fb,nb,Kb){return"assert"===Kb?new gc(nb,[fb]):"coerce"===Kb?new ud(nb,[fb]):fb}if(null===q||"string"===typeof q||"boolean"===typeof q||"number"===typeof q)q=["literal",q];if(Array.isArray(q)){if(0===q.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var Ja=q[0];if("string"!==typeof Ja)return this.error(`Expression name must be a string, but found ${typeof Ja} instead. If you wanted a literal array, use ["literal", [...]].`,
0),null;var cb=this.registry[Ja];if(cb){q=cb.parse(q,this);if(!q)return null;if(this.expectedType)if(Ja=this.expectedType,cb=q.type,("string"===Ja.kind||"number"===Ja.kind||"boolean"===Ja.kind||"object"===Ja.kind||"array"===Ja.kind)&&"value"===cb.kind)q=ja(q,Ja,O.typeAnnotation||"assert");else if(!("color"!==Ja.kind&&"formatted"!==Ja.kind&&"resolvedImage"!==Ja.kind||"value"!==cb.kind&&"string"!==cb.kind))q=ja(q,Ja,O.typeAnnotation||"coerce");else if(this.checkSubtype(Ja,cb))return null;if(!(q instanceof
Pb)&&"resolvedImage"!==q.type.kind&&ra(q)){O=new Yd;try{q=new Pb(q.type,q.evaluate(O))}catch(fb){return this.error(fb.message),null}}return q}return this.error(`Unknown expression "${Ja}". If you wanted a literal array, use ["literal", [...]].`,0)}return"undefined"===typeof q?this.error("'undefined' value invalid. Use null instead."):"object"===typeof q?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof q} instead.`)}concat(q,O,ja){q=
"number"===typeof q?this.path.concat(q):this.path;ja=ja?this.scope.concat(ja):this.scope;return new ge(this.registry,q,O||null,ja,this.errors)}error(q,...O){O=`${this.key}${O.map(ja=>`[${ja}]`).join("")}`;this.errors.push(new Bd(O,q))}checkSubtype(q,O){(q=K(q,O))&&this.error(q);return q}}class re{constructor(q,O,ja){this.type=q;this.input=O;this.labels=[];this.outputs=[];for(const [Ja,cb]of ja)this.labels.push(Ja),this.outputs.push(cb)}static parse(q,O){if(4>q.length-1)return O.error(`Expected at least 4 arguments, but found only ${q.length-
1}.`);if(0!==(q.length-1)%2)return O.error("Expected an even number of arguments.");const ja=O.parse(q[1],1,$c);if(!ja)return null;const Ja=[];let cb=null;O.expectedType&&"value"!==O.expectedType.kind&&(cb=O.expectedType);for(let nb=1;nb<q.length;nb+=2){const Kb=1===nb?-Infinity:q[nb];var fb=q[nb+1];const Yb=nb,Ob=nb+1;if("number"!==typeof Kb)return O.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Yb);
if(Ja.length&&Ja[Ja.length-1][0]>=Kb)return O.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',Yb);fb=O.parse(fb,Ob,cb);if(!fb)return null;cb=cb||fb.type;Ja.push([Kb,fb])}return new re(cb,ja,Ja)}evaluate(q){var O=this.labels;const ja=this.outputs;if(1===O.length)return ja[0].evaluate(q);const Ja=this.input.evaluate(q);if(Ja<=O[0])return ja[0].evaluate(q);const cb=O.length;if(Ja>=O[cb-1])return ja[cb-1].evaluate(q);O=Pa(O,Ja);return ja[O].evaluate(q)}eachChild(q){q(this.input);
for(const O of this.outputs)q(O)}outputDefined(){return this.outputs.every(q=>q.outputDefined())}serialize(){const q=["step",this.input.serialize()];for(let O=0;O<this.labels.length;O++)0<O&&q.push(this.labels[O]),q.push(this.outputs[O].serialize());return q}}Ua.prototype.sampleCurveX=function(q){return((this.ax*q+this.bx)*q+this.cx)*q};Ua.prototype.sampleCurveY=function(q){return((this.ay*q+this.by)*q+this.cy)*q};Ua.prototype.sampleCurveDerivativeX=function(q){return(3*this.ax*q+2*this.bx)*q+this.cx};
Ua.prototype.solveCurveX=function(q,O){"undefined"===typeof O&&(O=1E-6);var ja;var Ja=q;for(ja=0;8>ja;ja++){var cb=this.sampleCurveX(Ja)-q;if(Math.abs(cb)<O)return Ja;var fb=this.sampleCurveDerivativeX(Ja);if(1E-6>Math.abs(fb))break;Ja-=cb/fb}ja=0;fb=1;Ja=q;if(Ja<ja)return ja;if(Ja>fb)return fb;for(;ja<fb;){cb=this.sampleCurveX(Ja);if(Math.abs(cb-q)<O)break;q>cb?ja=Ja:fb=Ja;Ja=.5*(fb-ja)+ja}return Ja};Ua.prototype.solve=function(q,O){return this.sampleCurveY(this.solveCurveX(q,O))};var pf=Object.freeze({__proto__:null,
number:za,color:function(q,O,ja){return new we(za(q.r,O.r,ja),za(q.g,O.g,ja),za(q.b,O.b,ja),za(q.a,O.a,ja))},array:function(q,O,ja){return q.map((Ja,cb)=>za(Ja,O[cb],ja))}});const $d=4/29,Qe=6/29,Se=3*Qe*Qe,Uf=Qe*Qe*Qe,ef=Math.PI/180,Ff=180/Math.PI,sa={forward:Z,reverse:oa,interpolate:function(q,O,ja){return{l:za(q.l,O.l,ja),a:za(q.a,O.a,ja),b:za(q.b,O.b,ja),alpha:za(q.alpha,O.alpha,ja)}}},ua={forward:function(q){const {l:O,a:ja,b:Ja}=Z(q),cb=Math.atan2(Ja,ja)*Ff;return{h:0>cb?cb+360:cb,c:Math.sqrt(ja*
ja+Ja*Ja),l:O,alpha:q.a}},reverse:function(q){const O=q.h*ef,ja=q.c;return oa({l:q.l,a:Math.cos(O)*ja,b:Math.sin(O)*ja,alpha:q.alpha})},interpolate:function(q,O,ja){{var Ja=q.h;const cb=O.h-Ja;Ja+=ja*(180<cb||-180>cb?cb-360*Math.round(cb/360):cb)}return{h:Ja,c:za(q.c,O.c,ja),l:za(q.l,O.l,ja),alpha:za(q.alpha,O.alpha,ja)}}};var Ka=Object.freeze({__proto__:null,lab:sa,hcl:ua});class Oa{constructor(q,O,ja,Ja,cb){this.type=q;this.operator=O;this.interpolation=ja;this.input=Ja;this.labels=[];this.outputs=
[];for(const [fb,nb]of cb)this.labels.push(fb),this.outputs.push(nb)}static interpolationFactor(q,O,ja,Ja){let cb=0;"exponential"===q.name?cb=na(O,q.base,ja,Ja):"linear"===q.name?cb=na(O,1,ja,Ja):"cubic-bezier"===q.name&&(q=q.controlPoints,cb=(new Ua(q[0],q[1],q[2],q[3])).solve(na(O,1,ja,Ja)));return cb}static parse(q,O){let [ja,Ja,cb,...fb]=q;if(!Array.isArray(Ja)||0===Ja.length)return O.error("Expected an interpolation type expression.",1);if("linear"===Ja[0])Ja={name:"linear"};else if("exponential"===
Ja[0]){var nb=Ja[1];if("number"!==typeof nb)return O.error("Exponential interpolation requires a numeric base.",1,1);Ja={name:"exponential",base:nb}}else if("cubic-bezier"===Ja[0]){nb=Ja.slice(1);if(4!==nb.length||nb.some(Yb=>"number"!==typeof Yb||0>Yb||1<Yb))return O.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);Ja={name:"cubic-bezier",controlPoints:nb}}else return O.error(`Unknown interpolation type ${String(Ja[0])}`,1,0);if(4>q.length-1)return O.error(`Expected at least 4 arguments, but found only ${q.length-
1}.`);if(0!==(q.length-1)%2)return O.error("Expected an even number of arguments.");cb=O.parse(cb,2,$c);if(!cb)return null;q=[];nb=null;"interpolate-hcl"===ja||"interpolate-lab"===ja?nb=Ye:O.expectedType&&"value"!==O.expectedType.kind&&(nb=O.expectedType);for(let Yb=0;Yb<fb.length;Yb+=2){const Ob=fb[Yb];var Kb=fb[Yb+1];const Fc=Yb+3,Rc=Yb+4;if("number"!==typeof Ob)return O.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',
Fc);if(q.length&&q[q.length-1][0]>=Ob)return O.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Fc);Kb=O.parse(Kb,Rc,nb);if(!Kb)return null;nb=nb||Kb.type;q.push([Ob,Kb])}return"number"===nb.kind||"color"===nb.kind||"array"===nb.kind&&"number"===nb.itemType.kind&&"number"===typeof nb.N?new Oa(nb,ja,Ja,cb,q):O.error(`Type ${M(nb)} is not interpolatable.`)}evaluate(q){var O=this.labels;const ja=this.outputs;if(1===O.length)return ja[0].evaluate(q);
var Ja=this.input.evaluate(q);if(Ja<=O[0])return ja[0].evaluate(q);var cb=O.length;if(Ja>=O[cb-1])return ja[cb-1].evaluate(q);cb=Pa(O,Ja);O=Oa.interpolationFactor(this.interpolation,Ja,O[cb],O[cb+1]);Ja=ja[cb].evaluate(q);q=ja[cb+1].evaluate(q);return"interpolate"===this.operator?pf[this.type.kind.toLowerCase()](Ja,q,O):"interpolate-hcl"===this.operator?ua.reverse(ua.interpolate(ua.forward(Ja),ua.forward(q),O)):sa.reverse(sa.interpolate(sa.forward(Ja),sa.forward(q),O))}eachChild(q){q(this.input);
for(const O of this.outputs)q(O)}outputDefined(){return this.outputs.every(q=>q.outputDefined())}serialize(){var q="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);q=[this.operator,q,this.input.serialize()];for(let O=0;O<this.labels.length;O++)q.push(this.labels[O],this.outputs[O].serialize());return q}}class bb{constructor(q,
O){this.type=q;this.args=O}static parse(q,O){if(2>q.length)return O.error("Expectected at least one argument.");let ja=null;const Ja=O.expectedType;Ja&&"value"!==Ja.kind&&(ja=Ja);const cb=[];for(const fb of q.slice(1)){q=O.parse(fb,1+cb.length,ja,void 0,{typeAnnotation:"omit"});if(!q)return null;ja=ja||q.type;cb.push(q)}return Ja&&cb.some(fb=>K(Ja,fb.type))?new bb(Yc,cb):new bb(ja,cb)}evaluate(q){let O=null,ja=0,Ja;for(const cb of this.args)if(ja++,(O=cb.evaluate(q))&&O instanceof rb&&!O.available&&
(Ja||(Ja=O.name),O=null,ja===this.args.length&&(O=Ja)),null!==O)break;return O}eachChild(q){this.args.forEach(q)}outputDefined(){return this.args.every(q=>q.outputDefined())}serialize(){const q=["coalesce"];this.eachChild(O=>{q.push(O.serialize())});return q}}class db{constructor(q,O){this.type=O.type;this.bindings=[].concat(q);this.result=O}evaluate(q){return this.result.evaluate(q)}eachChild(q){for(const O of this.bindings)q(O[1]);q(this.result)}static parse(q,O){if(4>q.length)return O.error(`Expected at least 3 arguments, but found ${q.length-
1} instead.`);const ja=[];for(let Ja=1;Ja<q.length-1;Ja+=2){const cb=q[Ja];if("string"!==typeof cb)return O.error(`Expected string, but found ${typeof cb} instead.`,Ja);if(/[^a-zA-Z0-9_]/.test(cb))return O.error("Variable names must contain only alphanumeric characters or '_'.",Ja);const fb=O.parse(q[Ja+1],Ja+1);if(!fb)return null;ja.push([cb,fb])}return(q=O.parse(q[q.length-1],q.length-1,O.expectedType,ja))?new db(ja,q):null}outputDefined(){return this.result.outputDefined()}serialize(){const q=
["let"];for(const [O,ja]of this.bindings)q.push(O,ja.serialize());q.push(this.result.serialize());return q}}class lb{constructor(q,O,ja){this.type=q;this.index=O;this.input=ja}static parse(q,O){if(3!==q.length)return O.error(`Expected 2 arguments, but found ${q.length-1} instead.`);const ja=O.parse(q[1],1,$c);q=O.parse(q[2],2,B(O.expectedType||Yc));return ja&&q?new lb(q.type.itemType,ja,q):null}evaluate(q){const O=this.index.evaluate(q);q=this.input.evaluate(q);if(0>O)throw new Mb(`Array index out of bounds: ${O} < 0.`);
if(O>=q.length)throw new Mb(`Array index out of bounds: ${O} > ${q.length-1}.`);if(O!==Math.floor(O))throw new Mb(`Array index must be an integer, but found ${O} instead.`);return q[O]}eachChild(q){q(this.index);q(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}class wb{constructor(q,O){this.type=Sd;this.needle=q;this.haystack=O}static parse(q,O){if(3!==q.length)return O.error(`Expected 2 arguments, but found ${q.length-1} instead.`);const ja=
O.parse(q[1],1,Yc);q=O.parse(q[2],2,Yc);return ja&&q?D(ja.type,[Sd,Ad,$c,rd,Yc])?new wb(ja,q):O.error(`Expected first argument to be of type boolean, string, number or null, but found ${M(ja.type)} instead`):null}evaluate(q){const O=this.needle.evaluate(q);q=this.haystack.evaluate(q);if(!q)return!1;if(!y(O,["boolean","string","number","null"]))throw new Mb(`Expected first argument to be of type boolean, string, number or null, but found ${M(Q(O))} instead.`);if(!y(q,["string","array"]))throw new Mb(`Expected second argument to be of type array or string, but found ${M(Q(q))} instead.`);
return 0<=q.indexOf(O)}eachChild(q){q(this.needle);q(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}class ub{constructor(q,O,ja){this.type=$c;this.needle=q;this.haystack=O;this.fromIndex=ja}static parse(q,O){if(2>=q.length||5<=q.length)return O.error(`Expected 3 or 4 arguments, but found ${q.length-1} instead.`);const ja=O.parse(q[1],1,Yc),Ja=O.parse(q[2],2,Yc);return ja&&Ja?D(ja.type,[Sd,Ad,$c,rd,Yc])?4===q.length?(q=O.parse(q[3],
3,$c))?new ub(ja,Ja,q):null:new ub(ja,Ja):O.error(`Expected first argument to be of type boolean, string, number or null, but found ${M(ja.type)} instead`):null}evaluate(q){const O=this.needle.evaluate(q),ja=this.haystack.evaluate(q);if(!y(O,["boolean","string","number","null"]))throw new Mb(`Expected first argument to be of type boolean, string, number or null, but found ${M(Q(O))} instead.`);if(!y(ja,["string","array"]))throw new Mb(`Expected second argument to be of type array or string, but found ${M(Q(ja))} instead.`);
return this.fromIndex?(q=this.fromIndex.evaluate(q),ja.indexOf(O,q)):ja.indexOf(O)}eachChild(q){q(this.needle);q(this.haystack);this.fromIndex&&q(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const q=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),q]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}class Cb{constructor(q,O,ja,Ja,cb,fb){this.inputType=q;this.type=O;this.input=
ja;this.cases=Ja;this.outputs=cb;this.otherwise=fb}static parse(q,O){if(5>q.length)return O.error(`Expected at least 4 arguments, but found only ${q.length-1}.`);if(1!==q.length%2)return O.error("Expected an even number of arguments.");let ja,Ja;O.expectedType&&"value"!==O.expectedType.kind&&(Ja=O.expectedType);const cb={},fb=[];for(var nb=2;nb<q.length-1;nb+=2){var Kb=q[nb];const Yb=q[nb+1];Array.isArray(Kb)||(Kb=[Kb]);const Ob=O.concat(nb);if(0===Kb.length)return Ob.error("Expected at least one branch label.");
for(const Fc of Kb){if("number"!==typeof Fc&&"string"!==typeof Fc)return Ob.error("Branch labels must be numbers or strings.");if("number"===typeof Fc&&Math.abs(Fc)>Number.MAX_SAFE_INTEGER)return Ob.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"===typeof Fc&&Math.floor(Fc)!==Fc)return Ob.error("Numeric branch labels must be integer values.");if(!ja)ja=Q(Fc);else if(Ob.checkSubtype(ja,Q(Fc)))return null;if("undefined"!==typeof cb[String(Fc)])return Ob.error("Branch labels must be unique.");
cb[String(Fc)]=fb.length}Kb=O.parse(Yb,nb,Ja);if(!Kb)return null;Ja=Ja||Kb.type;fb.push(Kb)}nb=O.parse(q[1],1,Yc);if(!nb)return null;q=O.parse(q[q.length-1],q.length-1,Ja);return!q||"value"!==nb.type.kind&&O.concat(1).checkSubtype(ja,nb.type)?null:new Cb(ja,Ja,nb,cb,fb,q)}evaluate(q){const O=this.input.evaluate(q);return(Q(O)===this.inputType&&this.outputs[this.cases[O]]||this.otherwise).evaluate(q)}eachChild(q){q(this.input);this.outputs.forEach(q);q(this.otherwise)}outputDefined(){return this.outputs.every(q=>
q.outputDefined())&&this.otherwise.outputDefined()}serialize(){const q=["match",this.input.serialize()];var O=Object.keys(this.cases).sort();const ja=[];var Ja={};for(const cb of O)O=Ja[this.cases[cb]],void 0===O?(Ja[this.cases[cb]]=ja.length,ja.push([this.cases[cb],[cb]])):ja[O][1].push(cb);Ja=cb=>"number"===this.inputType.kind?Number(cb):cb;for(const [cb,fb]of ja)1===fb.length?q.push(Ja(fb[0])):q.push(fb.map(Ja)),q.push(this.outputs[cb].serialize());q.push(this.otherwise.serialize());return q}}
class Hb{constructor(q,O,ja){this.type=q;this.branches=O;this.otherwise=ja}static parse(q,O){if(4>q.length)return O.error(`Expected at least 3 arguments, but found only ${q.length-1}.`);if(0!==q.length%2)return O.error("Expected an odd number of arguments.");let ja;O.expectedType&&"value"!==O.expectedType.kind&&(ja=O.expectedType);const Ja=[];for(let cb=1;cb<q.length-1;cb+=2){const fb=O.parse(q[cb],cb,Sd);if(!fb)return null;const nb=O.parse(q[cb+1],cb+1,ja);if(!nb)return null;Ja.push([fb,nb]);ja=
ja||nb.type}return(q=O.parse(q[q.length-1],q.length-1,ja))?new Hb(ja,Ja,q):null}evaluate(q){for(const [O,ja]of this.branches)if(O.evaluate(q))return ja.evaluate(q);return this.otherwise.evaluate(q)}eachChild(q){for(const [O,ja]of this.branches)q(O),q(ja);q(this.otherwise)}outputDefined(){return this.branches.every(([,q])=>q.outputDefined())&&this.otherwise.outputDefined()}serialize(){const q=["case"];this.eachChild(O=>{q.push(O.serialize())});return q}}class Wb{constructor(q,O,ja,Ja){this.type=q;
this.input=O;this.beginIndex=ja;this.endIndex=Ja}static parse(q,O){if(2>=q.length||5<=q.length)return O.error(`Expected 3 or 4 arguments, but found ${q.length-1} instead.`);const ja=O.parse(q[1],1,Yc),Ja=O.parse(q[2],2,$c);return ja&&Ja?D(ja.type,[B(Yc),Ad,Yc])?4===q.length?(q=O.parse(q[3],3,$c))?new Wb(ja.type,ja,Ja,q):null:new Wb(ja.type,ja,Ja):O.error(`Expected first argument to be of type array or string, but found ${M(ja.type)} instead`):null}evaluate(q){const O=this.input.evaluate(q),ja=this.beginIndex.evaluate(q);
if(!y(O,["string","array"]))throw new Mb(`Expected first argument to be of type array or string, but found ${M(Q(O))} instead.`);return this.endIndex?(q=this.endIndex.evaluate(q),O.slice(ja,q)):O.slice(ja)}eachChild(q){q(this.input);q(this.beginIndex);this.endIndex&&q(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const q=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),q]}return["slice",this.input.serialize(),
this.beginIndex.serialize()]}}const oc=Na("\x3d\x3d",function(q,O,ja){return O===ja},ka),V=Na("!\x3d",function(q,O,ja){return O!==ja},function(q,O,ja,Ja){return!ka(q,O,ja,Ja)}),la=Na("\x3c",function(q,O,ja){return O<ja},function(q,O,ja,Ja){return 0>Ja.compare(O,ja)}),La=Na("\x3e",function(q,O,ja){return O>ja},function(q,O,ja,Ja){return 0<Ja.compare(O,ja)}),Ra=Na("\x3c\x3d",function(q,O,ja){return O<=ja},function(q,O,ja,Ja){return 0>=Ja.compare(O,ja)}),sb=Na("\x3e\x3d",function(q,O,ja){return O>=ja},
function(q,O,ja,Ja){return 0<=Ja.compare(O,ja)});class Lb{constructor(q,O,ja,Ja,cb){this.type=Ad;this.number=q;this.locale=O;this.currency=ja;this.minFractionDigits=Ja;this.maxFractionDigits=cb}static parse(q,O){if(3!==q.length)return O.error("Expected two arguments.");const ja=O.parse(q[1],1,$c);if(!ja)return null;q=q[2];if("object"!==typeof q||Array.isArray(q))return O.error("NumberFormat options argument must be an object.");let Ja=null;if(q.locale&&(Ja=O.parse(q.locale,1,Ad),!Ja))return null;
let cb=null;if(q.currency&&(cb=O.parse(q.currency,1,Ad),!cb))return null;let fb=null;if(q["min-fraction-digits"]&&(fb=O.parse(q["min-fraction-digits"],1,$c),!fb))return null;let nb=null;return q["max-fraction-digits"]&&(nb=O.parse(q["max-fraction-digits"],1,$c),!nb)?null:new Lb(ja,Ja,cb,fb,nb)}evaluate(q){return(new Intl.NumberFormat(this.locale?this.locale.evaluate(q):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(q):void 0,minimumFractionDigits:this.minFractionDigits?
this.minFractionDigits.evaluate(q):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(q):void 0})).format(this.number.evaluate(q))}eachChild(q){q(this.number);this.locale&&q(this.locale);this.currency&&q(this.currency);this.minFractionDigits&&q(this.minFractionDigits);this.maxFractionDigits&&q(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const q={};this.locale&&(q.locale=this.locale.serialize());this.currency&&(q.currency=this.currency.serialize());
this.minFractionDigits&&(q["min-fraction-digits"]=this.minFractionDigits.serialize());this.maxFractionDigits&&(q["max-fraction-digits"]=this.maxFractionDigits.serialize());return["number-format",this.number.serialize(),q]}}class Sb{constructor(q){this.type=$c;this.input=q}static parse(q,O){return 2!==q.length?O.error(`Expected 1 argument, but found ${q.length-1} instead.`):(q=O.parse(q[1],1))?"array"!==q.type.kind&&"string"!==q.type.kind&&"value"!==q.type.kind?O.error(`Expected argument of type string or array, but found ${M(q.type)} instead.`):
new Sb(q):null}evaluate(q){q=this.input.evaluate(q);if("string"===typeof q||Array.isArray(q))return q.length;throw new Mb(`Expected value to be of type string or array, but found ${M(Q(q))} instead.`);}eachChild(q){q(this.input)}outputDefined(){return!1}serialize(){const q=["length"];this.eachChild(O=>{q.push(O.serialize())});return q}}const hc={"\x3d\x3d":oc,"!\x3d":V,"\x3e":La,"\x3c":la,"\x3e\x3d":sb,"\x3c\x3d":Ra,array:gc,at:lb,"boolean":gc,"case":Hb,coalesce:bb,collator:ze,format:Uc,image:Mc,
"in":wb,"index-of":ub,interpolate:Oa,"interpolate-hcl":Oa,"interpolate-lab":Oa,length:Sb,let:db,literal:Pb,match:Cb,number:gc,"number-format":Lb,object:gc,slice:Wb,step:re,string:gc,"to-boolean":ud,"to-color":ud,"to-number":ud,"to-string":ud,"var":pe,within:Kd};vd.register(hc,{error:[{kind:"error"},[Ad],(q,[O])=>{throw new Mb(O.evaluate(q));}],"typeof":[Ad,[Yc],(q,[O])=>M(Q(O.evaluate(q)))],"to-rgba":[B($c,4),[Ye],(q,[O])=>O.evaluate(q).toArray()],rgb:[Ye,[$c,$c,$c],$a],rgba:[Ye,[$c,$c,$c,$c],$a],
has:{type:Sd,overloads:[[[Ad],(q,[O])=>{O=O.evaluate(q);q=q.properties();return O in q}],[[Ad,Ne],(q,[O,ja])=>{O=O.evaluate(q);q=ja.evaluate(q);return O in q}]]},get:{type:Yc,overloads:[[[Ad],(q,[O])=>Wa(O.evaluate(q),q.properties())],[[Ad,Ne],(q,[O,ja])=>Wa(O.evaluate(q),ja.evaluate(q))]]},"feature-state":[Yc,[Ad],(q,[O])=>Wa(O.evaluate(q),q.featureState||{})],properties:[Ne,[],q=>q.properties()],"geometry-type":[Ad,[],q=>q.geometryType()],id:[Yc,[],q=>q.id()],zoom:[$c,[],q=>q.globals.zoom],"heatmap-density":[$c,
[],q=>q.globals.heatmapDensity||0],"line-progress":[$c,[],q=>q.globals.lineProgress||0],"sky-radial-progress":[$c,[],q=>q.globals.skyRadialProgress||0],accumulated:[Yc,[],q=>void 0===q.globals.accumulated?null:q.globals.accumulated],"+":[$c,{type:$c},(q,O)=>{let ja=0;for(const Ja of O)ja+=Ja.evaluate(q);return ja}],"*":[$c,{type:$c},(q,O)=>{let ja=1;for(const Ja of O)ja*=Ja.evaluate(q);return ja}],"-":{type:$c,overloads:[[[$c,$c],(q,[O,ja])=>O.evaluate(q)-ja.evaluate(q)],[[$c],(q,[O])=>-O.evaluate(q)]]},
"/":[$c,[$c,$c],(q,[O,ja])=>O.evaluate(q)/ja.evaluate(q)],"%":[$c,[$c,$c],(q,[O,ja])=>O.evaluate(q)%ja.evaluate(q)],ln2:[$c,[],()=>Math.LN2],pi:[$c,[],()=>Math.PI],e:[$c,[],()=>Math.E],"^":[$c,[$c,$c],(q,[O,ja])=>Math.pow(O.evaluate(q),ja.evaluate(q))],sqrt:[$c,[$c],(q,[O])=>Math.sqrt(O.evaluate(q))],log10:[$c,[$c],(q,[O])=>Math.log(O.evaluate(q))/Math.LN10],ln:[$c,[$c],(q,[O])=>Math.log(O.evaluate(q))],log2:[$c,[$c],(q,[O])=>Math.log(O.evaluate(q))/Math.LN2],sin:[$c,[$c],(q,[O])=>Math.sin(O.evaluate(q))],
cos:[$c,[$c],(q,[O])=>Math.cos(O.evaluate(q))],tan:[$c,[$c],(q,[O])=>Math.tan(O.evaluate(q))],asin:[$c,[$c],(q,[O])=>Math.asin(O.evaluate(q))],acos:[$c,[$c],(q,[O])=>Math.acos(O.evaluate(q))],atan:[$c,[$c],(q,[O])=>Math.atan(O.evaluate(q))],min:[$c,{type:$c},(q,O)=>Math.min(...O.map(ja=>ja.evaluate(q)))],max:[$c,{type:$c},(q,O)=>Math.max(...O.map(ja=>ja.evaluate(q)))],abs:[$c,[$c],(q,[O])=>Math.abs(O.evaluate(q))],round:[$c,[$c],(q,[O])=>{q=O.evaluate(q);return 0>q?-Math.round(-q):Math.round(q)}],
floor:[$c,[$c],(q,[O])=>Math.floor(O.evaluate(q))],ceil:[$c,[$c],(q,[O])=>Math.ceil(O.evaluate(q))],"filter-\x3d\x3d":[Sd,[Ad,Yc],(q,[O,ja])=>q.properties()[O.value]===ja.value],"filter-id-\x3d\x3d":[Sd,[Yc],(q,[O])=>q.id()===O.value],"filter-type-\x3d\x3d":[Sd,[Ad],(q,[O])=>q.geometryType()===O.value],"filter-\x3c":[Sd,[Ad,Yc],(q,[O,ja])=>{q=q.properties()[O.value];ja=ja.value;return typeof q===typeof ja&&q<ja}],"filter-id-\x3c":[Sd,[Yc],(q,[O])=>{q=q.id();O=O.value;return typeof q===typeof O&&q<
O}],"filter-\x3e":[Sd,[Ad,Yc],(q,[O,ja])=>{q=q.properties()[O.value];ja=ja.value;return typeof q===typeof ja&&q>ja}],"filter-id-\x3e":[Sd,[Yc],(q,[O])=>{q=q.id();O=O.value;return typeof q===typeof O&&q>O}],"filter-\x3c\x3d":[Sd,[Ad,Yc],(q,[O,ja])=>{q=q.properties()[O.value];ja=ja.value;return typeof q===typeof ja&&q<=ja}],"filter-id-\x3c\x3d":[Sd,[Yc],(q,[O])=>{q=q.id();O=O.value;return typeof q===typeof O&&q<=O}],"filter-\x3e\x3d":[Sd,[Ad,Yc],(q,[O,ja])=>{q=q.properties()[O.value];ja=ja.value;return typeof q===
typeof ja&&q>=ja}],"filter-id-\x3e\x3d":[Sd,[Yc],(q,[O])=>{q=q.id();O=O.value;return typeof q===typeof O&&q>=O}],"filter-has":[Sd,[Yc],(q,[O])=>O.value in q.properties()],"filter-has-id":[Sd,[],q=>null!==q.id()&&void 0!==q.id()],"filter-type-in":[Sd,[B(Ad)],(q,[O])=>0<=O.value.indexOf(q.geometryType())],"filter-id-in":[Sd,[B(Yc)],(q,[O])=>0<=O.value.indexOf(q.id())],"filter-in-small":[Sd,[Ad,B(Yc)],(q,[O,ja])=>0<=ja.value.indexOf(q.properties()[O.value])],"filter-in-large":[Sd,[Ad,B(Yc)],(q,[O,ja])=>
{a:{q=q.properties()[O.value];O=ja.value;var Ja=0;for(ja=ja.value.length-1;Ja<=ja;){const cb=Ja+ja>>1;if(O[cb]===q){ja=!0;break a}O[cb]>q?ja=cb-1:Ja=cb+1}ja=!1}return ja}],all:{type:Sd,overloads:[[[Sd,Sd],(q,[O,ja])=>O.evaluate(q)&&ja.evaluate(q)],[{type:Sd},(q,O)=>{for(const ja of O)if(!ja.evaluate(q))return!1;return!0}]]},any:{type:Sd,overloads:[[[Sd,Sd],(q,[O,ja])=>O.evaluate(q)||ja.evaluate(q)],[{type:Sd},(q,O)=>{for(const ja of O)if(ja.evaluate(q))return!0;return!1}]]},"!":[Sd,[Sd],(q,[O])=>
!O.evaluate(q)],"is-supported-script":[Sd,[Ad],(q,[O])=>{const ja=q.globals&&q.globals.isSupportedScript;return ja?ja(O.evaluate(q)):!0}],upcase:[Ad,[Ad],(q,[O])=>O.evaluate(q).toUpperCase()],downcase:[Ad,[Ad],(q,[O])=>O.evaluate(q).toLowerCase()],concat:[Ad,{type:Yc},(q,O)=>O.map(ja=>S(ja.evaluate(q))).join("")],"resolved-locale":[Ad,[ye],(q,[O])=>O.evaluate(q).resolvedLocale()]});class wc{constructor(q,O){this.expression=q;this._warningHistory={};this._evaluator=new Yd;this._defaultValue=O?"color"===
O.type&&yb(O.default)?new we(0,0,0,0):"color"===O.type?we.parse(O.default)||null:void 0===O.default?null:O.default:null;this._enumValues=O&&"enum"===O.type?O.values:null}evaluateWithoutErrorHandling(q,O,ja,Ja,cb,fb){this._evaluator.globals=q;this._evaluator.feature=O;this._evaluator.featureState=ja;this._evaluator.canonical=Ja;this._evaluator.availableImages=cb||null;this._evaluator.formattedSection=fb;return this.expression.evaluate(this._evaluator)}evaluate(q,O,ja,Ja,cb,fb){this._evaluator.globals=
q;this._evaluator.feature=O||null;this._evaluator.featureState=ja||null;this._evaluator.canonical=Ja;this._evaluator.availableImages=cb||null;this._evaluator.formattedSection=fb||null;try{const nb=this.expression.evaluate(this._evaluator);if(null===nb||void 0===nb||"number"===typeof nb&&nb!==nb)return this._defaultValue;if(this._enumValues&&!(nb in this._enumValues))throw new Mb(`Expected value to be one of ${Object.keys(this._enumValues).map(Kb=>JSON.stringify(Kb)).join(", ")}, but found ${JSON.stringify(nb)} instead.`);
return nb}catch(nb){return this._warningHistory[nb.message]||(this._warningHistory[nb.message]=!0,"undefined"!==typeof console&&console.warn(nb.message)),this._defaultValue}}}class Sc{constructor(q,O){this.kind=q;this._styleExpression=O;this.isStateDependent="constant"!==q&&!Za(O.expression)}evaluateWithoutErrorHandling(q,O,ja,Ja,cb,fb){return this._styleExpression.evaluateWithoutErrorHandling(q,O,ja,Ja,cb,fb)}evaluate(q,O,ja,Ja,cb,fb){return this._styleExpression.evaluate(q,O,ja,Ja,cb,fb)}}class Pc{constructor(q,
O,ja,Ja){this.kind=q;this.zoomStops=ja;this._styleExpression=O;this.isStateDependent="camera"!==q&&!Za(O.expression);this.interpolationType=Ja}evaluateWithoutErrorHandling(q,O,ja,Ja,cb,fb){return this._styleExpression.evaluateWithoutErrorHandling(q,O,ja,Ja,cb,fb)}evaluate(q,O,ja,Ja,cb,fb){return this._styleExpression.evaluate(q,O,ja,Ja,cb,fb)}interpolationFactor(q,O,ja){return this.interpolationType?Oa.interpolationFactor(this.interpolationType,q,O,ja):0}}class wd{constructor(q,O){this._parameters=
q;this._specification=O;z(this,fc(this._parameters,this._specification))}static deserialize(q){return new wd(q._parameters,q._specification)}static serialize(q){return{_parameters:q._parameters,_specification:q._specification}}}const Nd={type:"boolean","default":!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};var cd="type source source-layer minzoom maxzoom filter layout".split(" ");const pd={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",
setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain"};class Xc{constructor(q,O,ja,Ja){this.message=
(q?`${q}: `:"")+ja;Ja&&(this.identifier=Ja);null!==O&&void 0!==O&&O.__line__&&(this.line=O.__line__)}}class Ce{constructor(q){this.error=q;this.message=q.message;this.line=(q=q.message.match(/line (\d+)/))?parseInt(q[1],10):0}}const Sa={promoteId:function({key:q,value:O}){if("string"===eb(O))return af({key:q,value:O});{const ja=[];for(const Ja in O)ja.push(...af({key:`${q}.${Ja}`,value:O[Ja]}));return ja}}},jb={["*"](){return[]},array:od,"boolean":function(q){const O=q.value;q=q.key;const ja=eb(O);
return"boolean"!==ja?[new Xc(q,O,`boolean expected, ${ja} found`)]:[]},number:Dd,color:function(q){const O=q.key;q=q.value;const ja=eb(q);return"string"!==ja?[new Xc(O,q,`color expected, ${ja} found`)]:null===df(q)?[new Xc(O,q,`color expected, "${q}" found`)]:[]},constants:Kc,"enum":ie,filter:ne,"function":Jd,layer:Td,object:nd,source:Be,light:cf,terrain:Xd,string:af,formatted:function(q){return 0===af(q).length?[]:Ud(q)},resolvedImage:function(q){return 0===af(q).length?[]:Ud(q)}};fe.source=Gd(Be);
fe.light=Gd(cf);fe.terrain=Gd(Xd);fe.layer=Gd(Td);fe.filter=Gd(ne);fe.paintProperty=Gd(Fe);fe.layoutProperty=Gd(Id);var tb=L(function(q,O){var ja=function(){function Ja(){this.yy={}}var cb=function(Dc,ld,Pd,Ld){Pd=Pd||{};for(Ld=Dc.length;Ld--;Pd[Dc[Ld]]=ld);return Pd},fb=[1,12],nb=[1,13],Kb=[1,9],Yb=[1,10],Ob=[1,11],Fc=[1,14],Rc=[1,15],md=[14,18,22,24],ed=[18,22],Wc=[22,24];cb={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,
TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(Dc,ld,
Pd,Ld,ee,be,nf){ld=be.length-1;switch(ee){case 1:this.$=new String(Dc.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b"));this.$.__line__=this._$.first_line;break;case 2:this.$=new Number(Dc);this.$.__line__=this._$.first_line;break;case 3:this.$=null;break;case 4:this.$=new Boolean(!0);this.$.__line__=this._$.first_line;break;case 5:this.$=new Boolean(!1);this.$.__line__=this._$.first_line;break;
case 6:return this.$=be[ld-1];case 13:this.$={};Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 14:case 19:this.$=be[ld-1];Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 15:this.$=[be[ld-2],be[ld]];break;case 16:this.$={};this.$[be[ld][0]]=be[ld][1];break;case 17:this.$=be[ld-2];be[ld-2][be[ld][0]]=be[ld][1];break;case 18:this.$=[];Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});
break;case 20:this.$=[be[ld]];break;case 21:this.$=be[ld-2],be[ld-2].push(be[ld])}},table:[{3:5,4:fb,5:6,6:nb,7:3,8:Kb,9:4,10:Yb,11:Ob,12:1,13:2,15:7,16:8,17:Fc,23:Rc},{1:[3]},{14:[1,16]},cb(md,[2,7]),cb(md,[2,8]),cb(md,[2,9]),cb(md,[2,10]),cb(md,[2,11]),cb(md,[2,12]),cb(md,[2,3]),cb(md,[2,4]),cb(md,[2,5]),cb([14,18,21,22,24],[2,1]),cb(md,[2,2]),{3:20,4:fb,18:[1,17],19:18,20:19},{3:5,4:fb,5:6,6:nb,7:3,8:Kb,9:4,10:Yb,11:Ob,13:23,15:7,16:8,17:Fc,23:Rc,24:[1,21],25:22},{1:[2,6]},cb(md,[2,13]),{18:[1,
24],22:[1,25]},cb(ed,[2,16]),{21:[1,26]},cb(md,[2,18]),{22:[1,28],24:[1,27]},cb(Wc,[2,20]),cb(md,[2,14]),{3:20,4:fb,20:29},{3:5,4:fb,5:6,6:nb,7:3,8:Kb,9:4,10:Yb,11:Ob,13:30,15:7,16:8,17:Fc,23:Rc},cb(md,[2,19]),{3:5,4:fb,5:6,6:nb,7:3,8:Kb,9:4,10:Yb,11:Ob,13:31,15:7,16:8,17:Fc,23:Rc},cb(ed,[2,17]),cb(ed,[2,15]),cb(Wc,[2,21])],defaultActions:{16:[2,6]},parseError:function(Dc,ld){if(ld.recoverable)this.trace(Dc);else throw Error(Dc);},parse:function(Dc){var ld=[0],Pd=[null],Ld=[],ee=this.table,be="",
nf=0,Rd=0,Vd=Ld.slice.call(arguments,1),se=Object.create(this.lexer),kd={};for(te in this.yy)Object.prototype.hasOwnProperty.call(this.yy,te)&&(kd[te]=this.yy[te]);se.setInput(Dc,kd);kd.lexer=se;kd.parser=this;"undefined"==typeof se.yylloc&&(se.yylloc={});var te=se.yylloc;Ld.push(te);var Gf=se.options&&se.options.ranges;this.parseError="function"===typeof kd.parseError?kd.parseError:Object.getPrototypeOf(this).parseError;for(var Ae,uf,Ze,Ve={},hf,Df;;){uf=ld[ld.length-1];if(this.defaultActions[uf])Ze=
this.defaultActions[uf];else{if(null===Ae||"undefined"==typeof Ae)Ae=se.lex()||1,"number"!==typeof Ae&&(Ae=this.symbols_[Ae]||Ae);Ze=ee[uf]&&ee[uf][Ae]}if("undefined"===typeof Ze||!Ze.length||!Ze[0]){Df=[];for(hf in ee[uf])this.terminals_[hf]&&2<hf&&Df.push("'"+this.terminals_[hf]+"'");var Zf=se.showPosition?"Parse error on line "+(nf+1)+":\n"+se.showPosition()+"\nExpecting "+Df.join(", ")+", got '"+(this.terminals_[Ae]||Ae)+"'":"Parse error on line "+(nf+1)+": Unexpected "+(1==Ae?"end of input":
"'"+(this.terminals_[Ae]||Ae)+"'");this.parseError(Zf,{text:se.match,token:this.terminals_[Ae]||Ae,line:se.yylineno,loc:te,expected:Df})}if(Ze[0]instanceof Array&&1<Ze.length)throw Error("Parse Error: multiple actions possible at state: "+uf+", token: "+Ae);switch(Ze[0]){case 1:ld.push(Ae);Pd.push(se.yytext);Ld.push(se.yylloc);ld.push(Ze[1]);Ae=null;Rd=se.yyleng;be=se.yytext;nf=se.yylineno;te=se.yylloc;break;case 2:Df=this.productions_[Ze[1]][1];Ve.$=Pd[Pd.length-Df];Ve._$={first_line:Ld[Ld.length-
(Df||1)].first_line,last_line:Ld[Ld.length-1].last_line,first_column:Ld[Ld.length-(Df||1)].first_column,last_column:Ld[Ld.length-1].last_column};Gf&&(Ve._$.range=[Ld[Ld.length-(Df||1)].range[0],Ld[Ld.length-1].range[1]]);uf=this.performAction.apply(Ve,[be,Rd,nf,kd,Ze[1],Pd,Ld].concat(Vd));if("undefined"!==typeof uf)return uf;Df&&(ld=ld.slice(0,-2*Df),Pd=Pd.slice(0,-1*Df),Ld=Ld.slice(0,-1*Df));ld.push(this.productions_[Ze[1]][0]);Pd.push(Ve.$);Ld.push(Ve._$);Ze=ee[ld[ld.length-2]][ld[ld.length-1]];
ld.push(Ze);break;case 3:return!0}}}};fb=function(){return{EOF:1,parseError:function(Dc,ld){if(this.yy.parser)this.yy.parser.parseError(Dc,ld);else throw Error(Dc);},setInput:function(Dc,ld){this.yy=ld||this.yy||{};this._input=Dc;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},
input:function(){var Dc=this._input[0];this.yytext+=Dc;this.yyleng++;this.offset++;this.match+=Dc;this.matched+=Dc;Dc.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return Dc},unput:function(Dc){var ld=Dc.length,Pd=Dc.split(/(?:\r\n?|\n)/g);this._input=Dc+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-ld);this.offset-=ld;Dc=this.match.split(/(?:\r\n?|\n)/g);this.match=
this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);Pd.length-1&&(this.yylineno-=Pd.length-1);var Ld=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Pd?(Pd.length===Dc.length?this.yylloc.first_column:0)+Dc[Dc.length-Pd.length].length-Pd[0].length:this.yylloc.first_column-ld};this.options.ranges&&(this.yylloc.range=[Ld[0],Ld[0]+this.yyleng-ld]);this.yyleng=this.yytext.length;
return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer \x3d true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Dc){this.unput(this.match.slice(Dc))},pastInput:function(){var Dc=this.matched.substr(0,
this.matched.length-this.match.length);return(20<Dc.length?"...":"")+Dc.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Dc=this.match;20>Dc.length&&(Dc+=this._input.substr(0,20-Dc.length));return(Dc.substr(0,20)+(20<Dc.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var Dc=this.pastInput(),ld=Array(Dc.length+1).join("-");return Dc+this.upcomingInput()+"\n"+ld+"^"},test_match:function(Dc,ld){var Pd;if(this.options.backtrack_lexer){var Ld={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,
last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done};this.options.ranges&&(Ld.yylloc.range=this.yylloc.range.slice(0))}if(Pd=Dc[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=Pd.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+
1,first_column:this.yylloc.last_column,last_column:Pd?Pd[Pd.length-1].length-Pd[Pd.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Dc[0].length};this.yytext+=Dc[0];this.match+=Dc[0];this.matches=Dc;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(Dc[0].length);this.matched+=Dc[0];Dc=this.performAction.call(this,this.yy,this,ld,this.conditionStack[this.conditionStack.length-
1]);this.done&&this._input&&(this.done=!1);if(Dc)return Dc;if(this._backtrack)for(var ee in Ld)this[ee]=Ld[ee];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Dc;this._more||(this.match=this.yytext="");for(var ld=this._currentRules(),Pd=0;Pd<ld.length;Pd++)if((Dc=this._input.match(this.rules[ld[Pd]]))&&(!Ld||Dc[0].length>Ld[0].length)){var Ld=Dc;var ee=Pd;if(this.options.backtrack_lexer){Ld=this.test_match(Dc,ld[Pd]);if(!1!==Ld)return Ld;if(this._backtrack)Ld=
!1;else return!1}else if(!this.options.flex)break}return Ld?(Ld=this.test_match(Ld,ld[ee]),!1!==Ld?Ld:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Dc=this.next();return Dc?Dc:this.lex()},begin:function(Dc){this.conditionStack.push(Dc)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&
this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Dc){Dc=this.conditionStack.length-1-Math.abs(Dc||0);return 0<=Dc?this.conditionStack[Dc]:"INITIAL"},pushState:function(Dc){this.begin(Dc)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(Dc,ld,Pd,Ld){switch(Pd){case 1:return 6;case 2:return ld.yytext=ld.yytext.substr(1,ld.yyleng-2),
4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,
2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}}}();cb.lexer=fb;Ja.prototype=cb;cb.Parser=Ja;return new Ja}();"undefined"!==typeof G&&(O.parser=ja,O.Parser=ja.Parser,O.parse=function(){return ja.parse.apply(ja,arguments)})});const Fb={StyleExpression:wc,isExpression:kc,isExpressionFilter:qd,createExpression:Ec,createPropertyExpression:jc,normalizePropertyExpression:function(q,O){if(yb(q))return new wd(q,O);if(kc(q)){q=jc(q,O);if("error"===q.result)throw Error(q.value.map(ja=>`${ja.key}: ${ja.message}`).join(", "));
return q.value}{let ja=q;"string"===typeof q&&"color"===O.type&&(ja=we.parse(q));return{kind:"constant",evaluate:()=>ja}}},ZoomConstantExpression:Sc,ZoomDependentExpression:Pc,StylePropertyFunction:wd},Ub={convertFunction:Bc,createFunction:fc,isFunction:yb},Ac={eachSource:k,eachLayer:g,eachProperty:d};Re.parsed=Re;Re.latest=Re;l.Color=we;l.ParsingError=Ce;l.ValidationError=Xc;l.composite=function(q){const O=[],ja=[],Ja=[];for(const nb in q.sources){var cb=q.sources[nb];"vector"===cb.type&&(cb=/^mapbox:\/\/(.*)/.exec(cb.url))&&
(O.push(nb),ja.push(cb[1]))}if(2>O.length)return q;O.forEach(nb=>{delete q.sources[nb]});const fb=ja.join(",");q.sources[fb]={type:"vector",url:`mapbox://${fb}`};q.layers.forEach(nb=>{if(0<=O.indexOf(nb.source)&&(nb.source=fb,"source-layer"in nb)){if(0<=Ja.indexOf(nb["source-layer"]))throw Error("Conflicting source layer names");Ja.push(nb["source-layer"])}});return q};l.convertFilter=rc;l.derefLayers=function(q){q=q.slice();const O=Object.create(null);for(var ja=0;ja<q.length;ja++)O[q[ja].id]=q[ja];
for(ja=0;ja<q.length;ja++)"ref"in q[ja]&&(q[ja]=tc(q[ja],O[q[ja].ref]));return q};l.diff=function(q,O){if(!q)return[{command:pd.setStyle,args:[O]}];let ja=[];try{if(!uc(q.version,O.version))return[{command:pd.setStyle,args:[O]}];uc(q.center,O.center)||ja.push({command:pd.setCenter,args:[O.center]});uc(q.zoom,O.zoom)||ja.push({command:pd.setZoom,args:[O.zoom]});uc(q.bearing,O.bearing)||ja.push({command:pd.setBearing,args:[O.bearing]});uc(q.pitch,O.pitch)||ja.push({command:pd.setPitch,args:[O.pitch]});
uc(q.sprite,O.sprite)||ja.push({command:pd.setSprite,args:[O.sprite]});uc(q.glyphs,O.glyphs)||ja.push({command:pd.setGlyphs,args:[O.glyphs]});uc(q.transition,O.transition)||ja.push({command:pd.setTransition,args:[O.transition]});uc(q.light,O.light)||ja.push({command:pd.setLight,args:[O.light]});const Ja={},cb=[];Lc(q.sources,O.sources,cb,Ja);const fb=[];q.layers&&q.layers.forEach(Kb=>{Ja[Kb.source]?ja.push({command:pd.removeLayer,args:[Kb.id]}):fb.push(Kb)});let nb=q.terrain;nb&&Ja[nb.source]&&(ja.push({command:pd.setTerrain,
args:[void 0]}),nb=void 0);ja=ja.concat(cb);uc(nb,O.terrain)||ja.push({command:pd.setTerrain,args:[O.terrain]});mc(fb,O.layers,ja)}catch(Ja){console.warn("Unable to compute style diff:",Ja),ja=[{command:pd.setStyle,args:[O]}]}return ja};l.expression=Fb;l.featureFilter=function(q){if(null===q||void 0===q)return{filter:()=>!0,needGeometry:!1};qd(q)||(q=ab(q));const O=Ec(q,Nd);if("error"===O.result)throw Error(O.value.map(ja=>`${ja.key}: ${ja.message}`).join(", "));return{filter:(ja,Ja,cb)=>O.value.evaluate(ja,
Ja,{},cb),needGeometry:Ga(q)}};l.format=function(q,O=2){q=u(q,zc.$root);q.layers&&(q.layers=q.layers.map(ja=>u(ja,zc.layer)));return oe(q,{indent:O})};l.function=Ub;l.latest=zc;l.migrate=function(q){let O=!1;7===q.version&&(q=x(q),O=!0);8===q.version&&(ec(q),O=!0);if(!O)throw Error("cannot migrate from",q.version);return q};l.v8=zc;l.validate=Re;l.validateMapboxApiSupported=function(q){try{q=ce(q)}catch(ja){return[ja]}let O=fe(q,zc).concat(rf(q,Object.keys(zc.$root)));q.sources&&(O=O.concat(Ge(q.sources)));
return O};l.visit=Ac;Object.defineProperty(l,"__esModule",{value:!0})})};
shadow$provide[335]=function(Ia,A,mb,J){function m(g,d){if("undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"undefined"!==typeof OffscreenCanvas)return new OffscreenCanvas(g,d);var f=document.createElement("canvas");f.width=g;f.height=d;return f}function l(g,d){if(.05<=d){var f="";g=g.split("\n");d=v.slice(0,Math.round(d/.1));for(var a=0,e=g.length;a<e;++a)0<a&&(f+="\n"),f+=g[a].split("").join(d);return f}return g}function u(){t||(t=m(1,1).getContext("2d"));return t}function G(g,
d){return u().measureText(g).width+(g.length-1)*d}function L(g,d,f,a){if(-1!==g.indexOf("\n")){var e=g.split("\n");g=[];for(var n=0,x=e.length;n<x;++n)g.push(L(e[n],d,f,a));return g.join("\n")}e=f+","+d+","+g+","+a;n=k[e];if(!n){var z=g.split(" ");if(1<z.length){g=u();g.font=d;d=g.measureText("M").width*f;f="";g=[];n=0;for(x=z.length;n<x;++n){var B=z[n],M=f+(f?" ":"")+B;G(M,a)<=d?f=M:(f&&g.push(f),f=B)}f&&g.push(f);n=0;for(x=g.length;n<x&&1<x;++n)z=g[n],G(z,a)<.35*d&&(f=0<n?G(g[n-1],a):Infinity,B=
n<x-1?G(g[n+1],a):Infinity,g.splice(n,1),--x,f<B?(g[n-1]+=" "+z,--n):g[n]=z+" "+g[n]);n=0;for(x=g.length-1;n<x;++n)f=g[n],z=g[n+1],G(f,a)>.7*d&&G(z,a)<.6*d&&(f=f.split(" "),B=f.pop(),G(B,a)<.2*d&&(g[n]=f.join(" "),g[n+1]=B+" "+z),--x);n=g.join("\n")}else n=g;n=l(n,a);k[e]=n}return n}Object.defineProperty(J,"__esModule",{value:!0});J.deg2rad=function(g){return g*Math.PI/180};J.createCanvas=m;J.getZoomForResolution=function(g,d){for(var f=0,a=d.length;f<a;++f)if(d[f]<g&&f+1<a)return f+Math.log(d[f]/
g)/Math.log(d[f]/d[f+1]);return a-1};J.applyLetterSpacing=l;J.wrapText=L;J.defaultResolutions=J.assign=void 0;Ia=A(89);mb=function(g){return g&&g.__esModule?g:{"default":g}}(A(88));A=A(104);J.assign="function"===typeof Object.assign?Object.assign:function(g,d){if(void 0===g||null===g)throw new TypeError("Cannot convert undefined or null to object");for(var f=Object(g),a=1,e=arguments.length;a<e;++a){var n=arguments[a];if(void 0!==n&&null!==n)for(var x in n)n.hasOwnProperty(x)&&(f[x]=n[x])}return f};
var w=function(){for(var g=[],d=78271.51696402048;24>=g.length;d/=2)g.push(d);return g}();J.defaultResolutions=w;var v=Array(256).join(""),t,k={};A.labelCache&&(0,Ia.listen)(A.labelCache,mb["default"].CLEAR,function(){k={}})};
shadow$provide[336]=function(Ia,A,mb,J){function m(ca){return ca&&ca.__esModule?ca:{"default":ca}}function l(ca,N,C,W,ha){var Y=ca.id;Q[Y]||(Q[Y]={});Y=Q[Y];if(!Y[C]){var wa=(ca[N]||E)[C];ca=a.latest[N+"_"+ca.type][C];void 0===wa&&(wa=ca["default"]);N=B(wa);!N&&x(wa)&&(wa=z(wa,ca),N=!0);N?(ca=y(wa,ca),Y[C]=ca.evaluate.bind(ca)):("color"==ca.type&&(wa=a.Color.parse(wa)),Y[C]=function(){return wa})}H.zoom=W;return Y[C](H,ha)}function u(ca,N,C,W){ca in ba||(ba[ca]=(0,a.featureFilter)(N).filter);H.zoom=
W;return ba[ca](H,C)}function G(ca,N){if(ca){if(0===ca.a||0===N)return;var C=ca.a;return"rgba("+Math.round(255*ca.r/C)+","+Math.round(255*ca.g/C)+","+Math.round(255*ca.b/C)+","+C*(void 0===N?1:N)+")"}return ca}function L(ca,N){var C;do(C=ca.match(fa))&&(ca=C[1]+(N[C[2]]||"")+C[3]);while(C);return ca}Object.defineProperty(J,"__esModule",{value:!0});J._getValue=J.getValue=l;J.recordStyleLayer=function(ca){ia=ca};J["default"]=function(ca,N,C,W,ha,Y,wa){void 0===W&&(W=n.defaultResolutions);"string"==
typeof N&&(N=JSON.parse(N));if(8!=N.version)throw Error("glStyle version 8 required.");var xa,Ha;if(Y)if("undefined"!==typeof Image){var Za=new Image;Za.crossOrigin="anonymous";Za.onload=function(){xa=Za;Ha=[Za.width,Za.height];ca.changed();Za.onload=null};Za.src=Y}else if("undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){var gb=self;gb.postMessage({action:"loadImage",src:Y});gb.addEventListener("message",function($a){"imageLoaded"===$a.data.action&&$a.data.src===Y&&(xa=$a.data.image,
Ha=[xa.width,xa.height])})}var ra=(0,a.derefLayers)(N.layers),Pa={};gb=[];for(var Ua,za=0,qa=ra.length;za<qa;++za){var R=ra[za],T=R.id;if("string"==typeof C&&R.source==C||-1!==C.indexOf(T)){var X=R["source-layer"];if(!Ua){Ua=R.source;var Z=N.sources[Ua];if(!Z)throw Error('Source "'+Ua+'" is not defined');Z=Z.type;if("vector"!==Z&&"geojson"!==Z)throw Error('Source "'+Ua+'" is not of type "vector" or "geojson", but "'+Z+'"');}(Z=Pa[X])||(Z=Pa[X]=[]);Z.push({layer:R,index:za});gb.push(T)}delete Q[T];
delete ba[T]}var oa=new t["default"],na=new v["default"],Aa={},ka={},Na=[];N=function($a,Wa){var Ca=$a.getProperties(),Da=Pa[Ca.layer];if(Da){var ma=W.indexOf(Wa);-1==ma&&(ma=(0,n.getZoomForResolution)(Wa,W));var Ea=K[$a.getGeometry().getType()],Qa={properties:Ca,type:Ea},eb=-1,yb,Qb=function(ic,xc){var ib=Da[ic];ic=ib.layer;xc=ic.id;var $b=ic.layout||E,bc=ic.paint||E;if("none"===$b.visibility||"minzoom"in ic&&ma<ic.minzoom||"maxzoom"in ic&&ma>=ic.maxzoom)return"continue";var kc=ic.filter;if(!kc||
u(xc,kc,Qa,ma)){yb=ic;var Ec=void 0,jc=kc=void 0,Oc=jc=void 0;xc=void 0;ib=ib.index;if(3==Ea&&("fill"==ic.type||"fill-extrusion"==ic.type))if(kc=l(ic,"paint",ic.type+"-opacity",ma,Qa),ic.type+"-pattern"in bc){if(jc=l(ic,"paint",ic.type+"-pattern",ma,Qa))if(Ec="string"===typeof jc?L(jc,Ca):jc.toString(),xa&&ha&&ha[Ec]){++eb;xc=Na[eb];if(!xc||!xc.getFill()||xc.getStroke()||xc.getText())xc=Na[eb]=new w["default"]({fill:new v["default"]});jc=xc.getFill();xc.setZIndex(ib);var Hc=Ec+"."+kc;Oc=ka[Hc];if(!Oc){var Bc=
ha[Ec],td=(0,n.createCanvas)(Bc.width,Bc.height),Qd=td.getContext("2d");Qd.globalAlpha=kc;Qd.drawImage(xa,Bc.x,Bc.y,Bc.width,Bc.height,0,0,Bc.width,Bc.height);Oc=Qd.createPattern(td,"repeat");ka[Hc]=Oc}jc.setColor(Oc)}}else if(Ec=G(l(ic,"paint",ic.type+"-color",ma,Qa),kc))ic.type+"-outline-color"in bc&&(Oc=G(l(ic,"paint",ic.type+"-outline-color",ma,Qa),kc)),Oc||(Oc=Ec),++eb,(xc=Na[eb])&&xc.getFill()&&xc.getStroke()&&!xc.getText()||(xc=Na[eb]=new w["default"]({fill:new v["default"],stroke:new t["default"]})),
jc=xc.getFill(),jc.setColor(Ec),jc=xc.getStroke(),jc.setColor(Oc),jc.setWidth(1),xc.setZIndex(ib);if(1!=Ea&&"line"==ic.type){Ec=!("line-pattern"in bc)&&"line-color"in bc?G(l(ic,"paint","line-color",ma,Qa),l(ic,"paint","line-opacity",ma,Qa)):void 0;var jd=l(ic,"paint","line-width",ma,Qa);if(Ec&&0<jd){++eb;xc=Na[eb];if(!xc||!xc.getStroke()||xc.getFill()||xc.getText())xc=Na[eb]=new w["default"]({stroke:new t["default"]});jc=xc.getStroke();jc.setLineCap(l(ic,"layout","line-cap",ma,Qa));jc.setLineJoin(l(ic,
"layout","line-join",ma,Qa));jc.setMiterLimit(l(ic,"layout","line-miter-limit",ma,Qa));jc.setColor(Ec);jc.setWidth(jd);jc.setLineDash(bc["line-dasharray"]?l(ic,"paint","line-dasharray",ma,Qa).map(function(Tb){return Tb*jd}):null);xc.setZIndex(ib)}}Ec=!1;jc=null;var hd=0;Oc=Bc=Qd=void 0;if((1==Ea||2==Ea)&&"icon-image"in $b){var Fd=l(ic,"layout","icon-image",ma,Qa);if(Fd&&(Qd="string"===typeof Fd?L(Fd,Ca):Fd.toString(),Fd=void 0,xa&&ha&&ha[Qd])){td=l(ic,"layout","icon-rotation-alignment",ma,Qa);if(2==
Ea){var Ib=$a.getGeometry();if(Ib.getFlatMidpoint||Ib.getFlatMidpoints)if(Hc=Ib.getExtent(),150<Math.sqrt(Math.max(Math.pow((Hc[2]-Hc[0])/Wa,2),Math.pow((Hc[3]-Hc[1])/Wa,2)))){Hc="MultiLineString"===Ib.getType()?Ib.getFlatMidpoints():Ib.getFlatMidpoint();ea||(S=[NaN,NaN],ea=new f["default"]("Point",S,[],{},null));Fd=ea;S[0]=Hc[0];S[1]=Hc[1];var Zb=l(ic,"layout","symbol-placement",ma,Qa);if("line"===Zb&&"map"===td){Zb=Ib.getStride();Ib=Ib.getFlatCoordinates();for(var xb=0,qc=Ib.length-Zb;xb<qc;xb+=
Zb){var Nc=Ib[xb],qd=Ib[xb+1],Ed=Ib[xb+Zb],Ga=Ib[xb+Zb+1],ab=Math.min(qd,Ga),qb=Math.max(Nc,Ed),Bb=Math.max(qd,Ga);if(Hc[0]>=Math.min(Nc,Ed)&&Hc[0]<=qb&&Hc[1]>=ab&&Hc[1]<=Bb){hd=Math.atan2(qd-Ga,Ed-Nc);break}}}}}if(2!==Ea||Fd){Zb=l(ic,"layout","icon-size",ma,Qa);Ib=void 0!==bc["icon-color"]?l(ic,"paint","icon-color",ma,Qa):null;if(!Ib||0!==Ib.a)if(Hc=Qd+"."+Zb,null!==Ib&&(Hc+="."+Ib),Bc=Aa[Hc],!Bc)if(Bc=ha[Qd],null!==Ib){td=(0,n.createCanvas)(Bc.width,Bc.height);Qd=td.getContext("2d");Qd.drawImage(xa,
Bc.x,Bc.y,Bc.width,Bc.height,0,0,Bc.width,Bc.height);xb=Qd.getImageData(0,0,td.width,td.height);qc=0;for(Nc=xb.data.length;qc<Nc;qc+=4)qd=Ib.a,0!==qd&&(xb.data[qc]=255*Ib.r/qd,xb.data[qc+1]=255*Ib.g/qd,xb.data[qc+2]=255*Ib.b/qd),xb.data[qc+3]=qd;Qd.putImageData(xb,0,0);Bc=Aa[Hc]=new k["default"]({img:td,imgSize:[td.width,td.height],scale:Zb/Bc.pixelRatio})}else Bc=Aa[Hc]=new k["default"]({img:xa,imgSize:Ha,size:[Bc.width,Bc.height],offset:[Bc.x,Bc.y],rotateWithView:"map"===td,scale:Zb/Bc.pixelRatio});
if(Bc){++eb;xc=Na[eb];if(!xc||!xc.getImage()||xc.getFill()||xc.getStroke())xc=Na[eb]=new w["default"];xc.setGeometry(Fd);Bc.setRotation(hd+(0,n.deg2rad)(l(ic,"layout","icon-rotate",ma,Qa)));Bc.setOpacity(l(ic,"paint","icon-opacity",ma,Qa));Bc.setAnchor(D[l(ic,"layout","icon-anchor",ma,Qa)]);xc.setImage(Bc);jc=xc.getText();xc.setText(void 0);xc.setZIndex(ib);Ec=!0;Oc=!1}}else Oc=!0}}if(1==Ea&&"circle-radius"in bc){++eb;xc=Na[eb];if(!xc||!xc.getImage()||xc.getFill()||xc.getStroke())xc=Na[eb]=new w["default"];
jc=l(ic,"paint","circle-radius",ma,Qa);Ec=G(l(ic,"paint","circle-stroke-color",ma,Qa),l(ic,"paint","circle-stroke-opacity",ma,Qa));bc=G(l(ic,"paint","circle-color",ma,Qa),l(ic,"paint","circle-opacity",ma,Qa));hd=l(ic,"paint","circle-stroke-width",ma,Qa);Fd=jc+"."+Ec+"."+bc+"."+hd;(Bc=Aa[Fd])||(Bc=Aa[Fd]=new d["default"]({radius:jc,stroke:Ec&&0<hd?new t["default"]({width:hd,color:Ec}):void 0,fill:bc?new v["default"]({color:bc}):void 0}));xc.setImage(Bc);jc=xc.getText();xc.setText(void 0);xc.setGeometry(void 0);
xc.setZIndex(ib);Ec=!0}hd=void 0;"text-field"in $b&&(kc=l(ic,"layout","text-field",ma,Qa).toString(),hd=L(kc,Ca).trim(),kc=l(ic,"paint","text-opacity",ma,Qa));if(hd&&kc&&!Oc){if(!Ec){++eb;xc=Na[eb];if(!xc||!xc.getText()||xc.getFill()||xc.getStroke())xc=Na[eb]=new w["default"];xc.setImage(void 0);xc.setGeometry(void 0)}xc.getText()||xc.setText(jc||new g["default"]({padding:[2,2,2,2]}));jc=xc.getText();bc=Math.round(l(ic,"layout","text-size",ma,Qa));Fd=l(ic,"layout","text-font",ma,Qa);Oc=l(ic,"layout",
"text-line-height",ma,Qa);Fd=(0,e["default"])(wa?wa(Fd):Fd,bc,Oc);$b=$b["text-transform"];"uppercase"==$b?hd=hd.toUpperCase():"lowercase"==$b&&(hd=hd.toLowerCase());$b=l(ic,"layout","text-max-width",ma,Qa);Bc=l(ic,"layout","text-letter-spacing",ma,Qa);Hc=2==Ea?(0,n.applyLetterSpacing)(hd,Bc):(0,n.wrapText)(hd,Fd,$b,Bc);jc.setText(Hc);jc.setFont(Fd);jc.setRotation((0,n.deg2rad)(l(ic,"layout","text-rotate",ma,Qa)));Fd=l(ic,"layout","text-anchor",ma,Qa);Zb=Ec||1==Ea?"point":l(ic,"layout","symbol-placement",
ma,Qa);jc.setPlacement(Zb);$b=l(ic,"paint","text-halo-width",ma,Qa);Ec=l(ic,"layout","text-offset",ma,Qa);Bc=l(ic,"paint","text-translate",ma,Qa);Qd=td=0;"point"==Zb?(hd="center",-1!==Fd.indexOf("left")?(hd="left",Qd=$b):-1!==Fd.indexOf("right")&&(hd="right",Qd=-$b),jc.setTextAlign(hd),hd=l(ic,"layout","text-rotation-alignment",ma,Qa),jc.setRotateWithView("map"==hd)):(jc.setMaxAngle((0,n.deg2rad)(l(ic,"layout","text-max-angle",ma,Qa))*hd.length/Hc.length),jc.setTextAlign(),jc.setRotateWithView(!1));
hd="middle";0==Fd.indexOf("bottom")?(hd="bottom",td=-$b-.5*(Oc-1)*bc):0==Fd.indexOf("top")&&(hd="top",td=$b+.5*(Oc-1)*bc);jc.setTextBaseline(hd);jc.setOffsetX(Ec[0]*bc+Qd+Bc[0]);jc.setOffsetY(Ec[1]*bc+td+Bc[1]);na.setColor(G(l(ic,"paint","text-color",ma,Qa),kc));jc.setFill(na);(kc=G(l(ic,"paint","text-halo-color",ma,Qa),kc))?(oa.setColor(kc),$b*=2,kc=.5*bc,oa.setWidth($b<=kc?$b:kc),jc.setStroke(oa)):jc.setStroke(void 0);ic=l(ic,"layout","text-padding",ma,Qa);kc=jc.getPadding();ic!==kc[0]&&(kc[0]=
kc[1]=kc[2]=kc[3]=ic);xc.setZIndex(ib)}}},fc=0,ad=Da.length;for(;fc<ad;++fc)Qb(fc,ad);if(-1<eb)return Na.length=eb+1,ia&&("function"===typeof $a.set?$a.set("mapbox-layer",yb):$a.getProperties()["mapbox-layer"]=yb),Na}};ca.setStyle(N);ca.set("mapbox-source",Ua);ca.set("mapbox-layers",gb);return N};J._colorWithOpacity=G;J._evaluateFilter=u;J._fromTemplate=L;J._functionCache=J._filterCache=void 0;var w=m(A(206)),v=m(A(204)),t=m(A(205)),k=m(A(230)),g=m(A(231)),d=m(A(203)),f=m(A(328)),a=A(334),e=m(A(333)),
n=A(335),x=a["function"].isFunction,z=a["function"].convertFunction,B=a.expression.isExpression,M=a.expression.createPropertyExpression,K={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},D={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},y=function(ca,N){ca=M(ca,N);if("error"===ca.result)throw Error(ca.value.map(function(C){return C.key+": "+C.message}).join(", "));return ca.value},
E={},H={zoom:0},Q={};J._functionCache=Q;var S,ea,ba={};J._filterCache=ba;var fa=/^([^]*)\{(.*)\}([^]*)$/,ia=!1};
shadow$provide[337]=function(Ia,A,mb,J){(function(){mb.exports={icon:"icons/google.svg",name:"google",title:"Google Fonts",link:"google.com/fonts",getNames:function(){return m},getLink:function(l){return"https://fonts.google.com/specimen/"+l.replace(/( )/g,"+")},normalizeName:function(l){return l}};var m="ABeeZee;Abel;Abril Fatface;Aclonica;Acme;Actor;Adamina;Advent Pro;Aguafina Script;Akronim;Aladin;Aldrich;Alef;Alegreya;Alegreya SC;Alegreya Sans;Alegreya Sans SC;Alex Brush;Alfa Slab One;Alice;Alike;Alike Angular;Allan;Allerta;Allerta Stencil;Allura;Almendra;Almendra Display;Almendra SC;Amarante;Amaranth;Amatic SC;Amethysta;Amiri;Amita;Anaheim;Andada;Andika;Angkor;Annie Use Your Telescope;Anonymous Pro;Antic;Antic Didone;Antic Slab;Anton;Arapey;Arbutus;Arbutus Slab;Architects Daughter;Archivo Black;Archivo Narrow;Arimo;Arizonia;Armata;Artifika;Arvo;Arya;Asap;Asar;Asset;Astloch;Asul;Atomic Age;Aubrey;Audiowide;Autour One;Average;Average Sans;Averia Gruesa Libre;Averia Libre;Averia Sans Libre;Averia Serif Libre;Bad Script;Balthazar;Bangers;Basic;Battambang;Baumans;Bayon;Belgrano;Belleza;BenchNine;Bentham;Berkshire Swash;Bevan;Bigelow Rules;Bigshot One;Bilbo;Bilbo Swash Caps;Biryani;Bitter;Black Ops One;Bokor;Bonbon;Boogaloo;Bowlby One;Bowlby One SC;Brawler;Bree Serif;Bubblegum Sans;Bubbler One;Buda;Buenard;Butcherman;Butterfly Kids;Cabin;Cabin Condensed;Cabin Sketch;Caesar Dressing;Cagliostro;Calligraffitti;Cambay;Cambo;Candal;Cantarell;Cantata One;Cantora One;Capriola;Cardo;Carme;Carrois Gothic;Carrois Gothic SC;Carter One;Catamaran;Caudex;Caveat;Caveat Brush;Cedarville Cursive;Ceviche One;Changa One;Chango;Chau Philomene One;Chela One;Chelsea Market;Chenla;Cherry Cream Soda;Cherry Swash;Chewy;Chicle;Chivo;Chonburi;Cinzel;Cinzel Decorative;Clicker Script;Coda;Coda Caption;Codystar;Combo;Comfortaa;Coming Soon;Concert One;Condiment;Content;Contrail One;Convergence;Cookie;Copse;Corben;Courgette;Cousine;Coustard;Covered By Your Grace;Crafty Girls;Creepster;Crete Round;Crimson Text;Croissant One;Crushed;Cuprum;Cutive;Cutive Mono;Damion;Dancing Script;Dangrek;Dawning of a New Day;Days One;Dekko;Delius;Delius Swash Caps;Delius Unicase;Della Respira;Denk One;Devonshire;Dhurjati;Didact Gothic;Diplomata;Diplomata SC;Domine;Donegal One;Doppio One;Dorsa;Dosis;Dr Sugiyama;Droid Sans;Droid Sans Mono;Droid Serif;Duru Sans;Dynalight;EB Garamond;Eagle Lake;Eater;Economica;Eczar;Ek Mukta;Electrolize;Elsie;Elsie Swash Caps;Emblema One;Emilys Candy;Engagement;Englebert;Enriqueta;Erica One;Esteban;Euphoria Script;Ewert;Exo;Exo 2;Expletus Sans;Fanwood Text;Fascinate;Fascinate Inline;Faster One;Fasthand;Fauna One;Federant;Federo;Felipa;Fenix;Finger Paint;Fira Mono;Fira Sans;Fjalla One;Fjord One;Flamenco;Flavors;Fondamento;Fontdiner Swanky;Forum;Francois One;Freckle Face;Fredericka the Great;Fredoka One;Freehand;Fresca;Frijole;Fruktur;Fugaz One;GFS Didot;GFS Neohellenic;Gabriela;Gafata;Galdeano;Galindo;Gentium Basic;Gentium Book Basic;Geo;Geostar;Geostar Fill;Germania One;Gidugu;Gilda Display;Give You Glory;Glass Antiqua;Glegoo;Gloria Hallelujah;Goblin One;Gochi Hand;Gorditas;Goudy Bookletter 1911;Graduate;Grand Hotel;Gravitas One;Great Vibes;Griffy;Gruppo;Gudea;Gurajada;Habibi;Halant;Hammersmith One;Hanalei;Hanalei Fill;Handlee;Hanuman;Happy Monkey;Headland One;Henny Penny;Herr Von Muellerhoff;Hind;Hind Siliguri;Hind Vadodara;Holtwood One SC;Homemade Apple;Homenaje;IM Fell DW Pica;IM Fell DW Pica SC;IM Fell Double Pica;IM Fell Double Pica SC;IM Fell English;IM Fell English SC;IM Fell French Canon;IM Fell French Canon SC;IM Fell Great Primer;IM Fell Great Primer SC;Iceberg;Iceland;Imprima;Inconsolata;Inder;Indie Flower;Inika;Inknut Antiqua;Irish Grover;Istok Web;Italiana;Italianno;Itim;Jacques Francois;Jacques Francois Shadow;Jaldi;Jim Nightshade;Jockey One;Jolly Lodger;Josefin Sans;Josefin Slab;Joti One;Judson;Julee;Julius Sans One;Junge;Jura;Just Another Hand;Just Me Again Down Here;Kadwa;Kalam;Kameron;Kantumruy;Karla;Karma;Kaushan Script;Kavoon;Kdam Thmor;Keania One;Kelly Slab;Kenia;Khand;Khmer;Khula;Kite One;Knewave;Kotta One;Koulen;Kranky;Kreon;Kristi;Krona One;Kurale;La Belle Aurore;Laila;Lakki Reddy;Lancelot;Lateef;Lato;League Script;Leckerli One;Ledger;Lekton;Lemon;Libre Baskerville;Life Savers;Lilita One;Lily Script One;Limelight;Linden Hill;Lobster;Lobster Two;Londrina Outline;Londrina Shadow;Londrina Sketch;Londrina Solid;Lora;Love Ya Like A Sister;Loved by the King;Lovers Quarrel;Luckiest Guy;Lusitana;Lustria;Macondo;Macondo Swash Caps;Magra;Maiden Orange;Mako;Mallanna;Mandali;Marcellus;Marcellus SC;Marck Script;Margarine;Marko One;Marmelad;Martel;Martel Sans;Marvel;Mate;Mate SC;Maven Pro;McLaren;Meddon;MedievalSharp;Medula One;Megrim;Meie Script;Merienda;Merienda One;Merriweather;Merriweather Sans;Metal;Metal Mania;Metamorphous;Metrophobic;Michroma;Milonga;Miltonian;Miltonian Tattoo;Miniver;Miss Fajardose;Modak;Modern Antiqua;Molengo;Molle;Monda;Monofett;Monoton;Monsieur La Doulaise;Montaga;Montez;Montserrat;Montserrat Alternates;Montserrat Subrayada;Moul;Moulpali;Mountains of Christmas;Mouse Memoirs;Mr Bedfort;Mr Dafoe;Mr De Haviland;Mrs Saint Delafield;Mrs Sheppards;Muli;Mystery Quest;NTR;Neucha;Neuton;New Rocker;News Cycle;Niconne;Nixie One;Nobile;Nokora;Norican;Nosifer;Nothing You Could Do;Noticia Text;Noto Sans;Noto Serif;Nova Cut;Nova Flat;Nova Mono;Nova Oval;Nova Round;Nova Script;Nova Slim;Nova Square;Numans;Nunito;Odor Mean Chey;Offside;Old Standard TT;Oldenburg;Oleo Script;Oleo Script Swash Caps;Open Sans;Open Sans Condensed;Oranienbaum;Orbitron;Oregano;Orienta;Original Surfer;Oswald;Over the Rainbow;Overlock;Overlock SC;Ovo;Oxygen;Oxygen Mono;PT Mono;PT Sans;PT Sans Caption;PT Sans Narrow;PT Serif;PT Serif Caption;Pacifico;Palanquin;Palanquin Dark;Paprika;Parisienne;Passero One;Passion One;Pathway Gothic One;Patrick Hand;Patrick Hand SC;Patua One;Paytone One;Peddana;Peralta;Permanent Marker;Petit Formal Script;Petrona;Philosopher;Piedra;Pinyon Script;Pirata One;Plaster;Play;Playball;Playfair Display;Playfair Display SC;Podkova;Poiret One;Poller One;Poly;Pompiere;Pontano Sans;Poppins;Port Lligat Sans;Port Lligat Slab;Pragati Narrow;Prata;Preahvihear;Press Start 2P;Princess Sofia;Prociono;Prosto One;Puritan;Purple Purse;Quando;Quantico;Quattrocento;Quattrocento Sans;Questrial;Quicksand;Quintessential;Qwigley;Racing Sans One;Radley;Rajdhani;Raleway;Raleway Dots;Ramabhadra;Ramaraja;Rambla;Rammetto One;Ranchers;Rancho;Ranga;Rationale;Ravi Prakash;Redressed;Reenie Beanie;Revalia;Rhodium Libre;Ribeye;Ribeye Marrow;Righteous;Risque;Roboto;Roboto Condensed;Roboto Mono;Roboto Slab;Rochester;Rock Salt;Rokkitt;Romanesco;Ropa Sans;Rosario;Rosarivo;Rouge Script;Rozha One;Rubik;Rubik Mono One;Rubik One;Ruda;Rufina;Ruge Boogie;Ruluko;Rum Raisin;Ruslan Display;Russo One;Ruthie;Rye;Sacramento;Sahitya;Sail;Salsa;Sanchez;Sancreek;Sansita One;Sarala;Sarina;Sarpanch;Satisfy;Scada;Scheherazade;Schoolbell;Seaweed Script;Sevillana;Seymour One;Shadows Into Light;Shadows Into Light Two;Shanti;Share;Share Tech;Share Tech Mono;Shojumaru;Short Stack;Siemreap;Sigmar One;Signika;Signika Negative;Simonetta;Sintony;Sirin Stencil;Six Caps;Skranji;Slabo 13px;Slabo 27px;Slackey;Smokum;Smythe;Sniglet;Snippet;Snowburst One;Sofadi One;Sofia;Sonsie One;Sorts Mill Goudy;Source Code Pro;Source Sans Pro;Source Serif Pro;Special Elite;Spicy Rice;Spinnaker;Spirax;Squada One;Sree Krushnadevaraya;Stalemate;Stalinist One;Stardos Stencil;Stint Ultra Condensed;Stint Ultra Expanded;Stoke;Strait;Sue Ellen Francisco;Sumana;Sunshiney;Supermercado One;Sura;Suranna;Suravaram;Suwannaphum;Swanky and Moo Moo;Syncopate;Tangerine;Taprom;Tauri;Teko;Telex;Tenali Ramakrishna;Tenor Sans;Text Me One;The Girl Next Door;Tienne;Tillana;Timmana;Tinos;Titan One;Titillium Web;Trade Winds;Trocchi;Trochut;Trykker;Tulpen One;Ubuntu;Ubuntu Condensed;Ubuntu Mono;Ultra;Uncial Antiqua;Underdog;Unica One;UnifrakturCook;UnifrakturMaguntia;Unkempt;Unlock;Unna;VT323;Vampiro One;Varela;Varela Round;Vast Shadow;Vesper Libre;Vibur;Vidaloka;Viga;Voces;Volkhov;Vollkorn;Voltaire;Waiting for the Sunrise;Wallpoet;Walter Turncoat;Warnes;Wellfleet;Wendy One;Wire One;Work Sans;Yanone Kaffeesatz;Yantramanav;Yellowtail;Yeseva One;Yesteryear;Zeyada".split(";")}).call(this)};
shadow$provide[338]=function(Ia,A,mb,J){function m(w){return w&&w.__esModule?w:{"default":w}}function l(w){return"string"===typeof w?(w=JSON.parse(w))?w:null:null!==w?w:null}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=m(A(252));var u=m(A(186)),G=A(74),L=function(){var w=function(v,t){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,g){k.__proto__=g}||function(k,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(k[d]=g[d])};return w(v,t)};return function(v,
t){function k(){this.constructor=v}w(v,t);v.prototype=null===t?Object.create(t):(k.prototype=t.prototype,new k)}}();A=function(w){function v(){return w.call(this)||this}L(v,w);v.prototype.getType=function(){return u["default"].JSON};v.prototype.readFeature=function(t,k){return this.readFeatureFromObject(l(t),this.getReadOptions(t,k))};v.prototype.readFeatures=function(t,k){return this.readFeaturesFromObject(l(t),this.getReadOptions(t,k))};v.prototype.readFeatureFromObject=function(t,k){return(0,G["abstract"])()};
v.prototype.readFeaturesFromObject=function(t,k){return(0,G["abstract"])()};v.prototype.readGeometry=function(t,k){return this.readGeometryFromObject(l(t),this.getReadOptions(t,k))};v.prototype.readGeometryFromObject=function(t,k){return(0,G["abstract"])()};v.prototype.readProjection=function(t){return this.readProjectionFromObject(l(t))};v.prototype.readProjectionFromObject=function(t){return(0,G["abstract"])()};v.prototype.writeFeature=function(t,k){return JSON.stringify(this.writeFeatureObject(t,
k))};v.prototype.writeFeatureObject=function(t,k){return(0,G["abstract"])()};v.prototype.writeFeatures=function(t,k){return JSON.stringify(this.writeFeaturesObject(t,k))};v.prototype.writeFeaturesObject=function(t,k){return(0,G["abstract"])()};v.prototype.writeGeometry=function(t,k){return JSON.stringify(this.writeGeometryObject(t,k))};v.prototype.writeGeometryObject=function(t,k){return(0,G["abstract"])()};return v}(Ia["default"]);J["default"]=A};
shadow$provide[339]=function(Ia,A,mb,J){function m(K){return K&&K.__esModule?K:{"default":K}}function l(K,D){if(!K)return null;switch(K.type){case t["default"].POINT:K=new a["default"](K.coordinates);break;case t["default"].LINE_STRING:K=new k["default"](K.coordinates);break;case t["default"].POLYGON:K=new e["default"](K.coordinates);break;case t["default"].MULTI_POINT:K=new d["default"](K.coordinates);break;case t["default"].MULTI_LINE_STRING:K=new g["default"](K.coordinates);break;case t["default"].MULTI_POLYGON:K=
new f["default"](K.coordinates);break;case t["default"].GEOMETRY_COLLECTION:K=u(K);break;default:throw Error("Unsupported GeoJSON type: "+K.type);}return(0,B.transformGeometryWithOptions)(K,!1,D)}function u(K,D){K=K.geometries.map(function(y){return l(y,D)});return new v["default"](K)}function G(K,D){K=(0,B.transformGeometryWithOptions)(K,!0,D);var y=K.getType();switch(y){case t["default"].POINT:K={type:"Point",coordinates:K.getCoordinates()};break;case t["default"].LINE_STRING:K={type:"LineString",
coordinates:K.getCoordinates()};break;case t["default"].POLYGON:if(D)var E=D.rightHanded;K={type:"Polygon",coordinates:K.getCoordinates(E)};break;case t["default"].MULTI_POINT:K={type:"MultiPoint",coordinates:K.getCoordinates()};break;case t["default"].MULTI_LINE_STRING:K={type:"MultiLineString",coordinates:K.getCoordinates()};break;case t["default"].MULTI_POLYGON:if(D)var H=D.rightHanded;K={type:"MultiPolygon",coordinates:K.getCoordinates(H)};break;case t["default"].GEOMETRY_COLLECTION:K=L(K,D);
break;case t["default"].CIRCLE:K={type:"GeometryCollection",geometries:[]};break;default:throw Error("Unsupported geometry type: "+y);}return K}function L(K,D){return{type:"GeometryCollection",geometries:K.getGeometriesArray().map(function(y){var E=(0,x.assign)({},D);delete E.featureProjection;return G(y,E)})}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var w=m(A(190)),v=m(A(251)),t=m(A(119));Ia=m(A(338));var k=m(A(193)),g=m(A(194)),d=m(A(195)),f=m(A(197)),a=m(A(145)),e=m(A(152)),
n=A(76),x=A(86),z=A(130),B=A(252),M=function(){var K=function(D,y){K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,H){E.__proto__=H}||function(E,H){for(var Q in H)Object.prototype.hasOwnProperty.call(H,Q)&&(E[Q]=H[Q])};return K(D,y)};return function(D,y){function E(){this.constructor=D}K(D,y);D.prototype=null===y?Object.create(y):(E.prototype=y.prototype,new E)}}();A=function(K){function D(y){var E=y?y:{};y=K.call(this)||this;y.dataProjection=(0,z.get)(E.dataProjection?E.dataProjection:
"EPSG:4326");E.featureProjection&&(y.defaultFeatureProjection=(0,z.get)(E.featureProjection));y.geometryName_=E.geometryName;y.extractGeometryName_=E.extractGeometryName;return y}M(D,K);D.prototype.readFeatureFromObject=function(y,E){y="Feature"===y.type?y:{type:"Feature",geometry:y,properties:null};E=l(y.geometry,E);var H=new w["default"];this.geometryName_?H.setGeometryName(this.geometryName_):this.extractGeometryName_&&H.setGeometryName(y.geometry_name);H.setGeometry(E);"id"in y&&H.setId(y.id);
y.properties&&H.setProperties(y.properties,!0);return H};D.prototype.readFeaturesFromObject=function(y,E){if("FeatureCollection"===y.type){var H=[];y=y.features;for(var Q=0,S=y.length;Q<S;++Q)H.push(this.readFeatureFromObject(y[Q],E))}else H=[this.readFeatureFromObject(y,E)];return H};D.prototype.readGeometryFromObject=function(y,E){return l(y,E)};D.prototype.readProjectionFromObject=function(y){y=y.crs;var E;y?"name"==y.type?E=(0,z.get)(y.properties.name):"EPSG"===y.type?E=(0,z.get)("EPSG:"+y.properties.code):
(0,n.assert)(!1,36):E=this.dataProjection;return E};D.prototype.writeFeatureObject=function(y,E){E=this.adaptOptions(E);var H={type:"Feature",geometry:null,properties:null},Q=y.getId();void 0!==Q&&(H.id=Q);if(!y.hasProperties())return H;Q=y.getProperties();var S=y.getGeometry();S&&(H.geometry=G(S,E),delete Q[y.getGeometryName()]);(0,x.isEmpty)(Q)||(H.properties=Q);return H};D.prototype.writeFeaturesObject=function(y,E){E=this.adaptOptions(E);for(var H=[],Q=0,S=y.length;Q<S;++Q)H.push(this.writeFeatureObject(y[Q],
E));return{type:"FeatureCollection",features:H}};D.prototype.writeGeometryObject=function(y,E){return G(y,this.adaptOptions(E))};return D}(Ia["default"]);J["default"]=A};
shadow$provide[340]=function(Ia,A,mb,J){function m(){if("function"!==typeof WeakMap)return null;var za=new WeakMap;m=function(){return za};return za}function l(za){return za&&za.__esModule?za:{"default":za}}function u(za){u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(qa){return typeof qa}:function(qa){return qa&&"function"===typeof Symbol&&qa.constructor===Symbol&&qa!==Symbol.prototype?"symbol":typeof qa};return u(za)}function G(za){if(!Ha){Ha={};for(var qa=document.styleSheets,
R=0,T=qa.length;R<T;++R){var X=qa[R];try{var Z=X.rules||X.cssRules;if(Z){X=0;for(var oa=Z.length;X<oa;++X){var na=Z[X];if(5==na.type){var Aa=na.cssText.match(wa);Ha[Aa[1].replace(xa,"")]=!0}}}}catch(ka){}}}return za in Ha}function L(za){var qa=za.toString();if(qa in Za)return za;for(var R=za.map(function(na){na=(0,M["default"])(na,1).split(" ");return[na.slice(3).join(" ").replace(/"/g,""),na[1]+na[0]]}),T=0,X=R.length;T<X;++T){var Z=R[T],oa=Z[0];G(oa)||-1===gb.indexOf(oa)||(Z="https://fonts.googleapis.com/css?family\x3d"+
oa.replace(/ /g,"+")+":"+Z[1],document.querySelector('link[href\x3d"'+Z+'"]')||(oa=document.createElement("link"),oa.href=Z,oa.rel="stylesheet",document.head.appendChild(oa)))}Za[qa]=!0;return za}function w(za,qa){qa&&0===za.indexOf(".")&&(za=qa+za);return za}function v(za,qa,R){za=w(za,qa);return(qa=za.match(ra))?qa[1]+R+(2<qa.length?qa[2]:""):za+R}function t(za,qa,R,T,X){return new Promise(function(Z,oa){function na(){Na||qa.sprite&&!Aa?Na?(za.setStyle(Na),Z()):oa(Error("Something went wrong trying to apply style.")):
(Na=(0,K["default"])(za,qa,R,X,Aa,ka,L),za.getStyle()?Z():oa(Error("Nothing to show for source ["+R+"]")))}"object"!=u(qa)&&(qa=JSON.parse(qa));if(8!=qa.version)return oa(Error("glStyle version 8 required."));if(!(za instanceof fa["default"]||za instanceof ia["default"]))return oa(Error("Can only apply to VectorLayer or VectorTileLayer"));var Aa,ka,Na;if(qa.sprite){var $a=1.5<=window.devicePixelRatio?.5:1;var Wa=.5==$a?"@2x":"",Ca=v(qa.sprite,T,Wa+".json");fetch(Ca,{credentials:"same-origin"}).then(function(Da){if(Da.ok||
""===Wa)return Da;Ca=v(qa.sprite,T,".json");return fetch(Ca,{credentials:"same-origin"})}).then(function(Da){if(Da.ok)return Da.json();oa(Error("Problem fetching sprite from "+Ca+": "+Da.statusText))}).then(function(Da){if(void 0===Da)return oa(Error("No sprites found."));Aa=Da;ka=v(qa.sprite,T,Wa+".png");na()})["catch"](function(Da){oa(Error("Sprites cannot be loaded: "+Ca+": "+Da.message))})}else na()})}function k(za,qa){function R(){var X=za.getTargetElement();if(X){var Z=qa.layout||{},oa=qa.paint||
{};T.paint=oa;T.id="olms-bg-"+oa["background-opacity"]+oa["background-color"];var na=za.getView().getZoom();if(void 0!==oa["background-color"]){var Aa=(0,K.getValue)(T,"paint","background-color",na,Pa);X.style.background=W.Color.parse(Aa).toString()}void 0!==oa["background-opacity"]&&(X.style.opacity=(0,K.getValue)(T,"paint","background-opacity",na,Pa));"none"==Z.visibility&&(X.style.backgroundColor="",X.style.opacity="")}}var T={type:qa.type};za.getTargetElement()&&R();za.on(["change:resolution",
"change:target"],R)}function g(za,qa){var R;za.some(function(T){if(T.id==qa)return R=T.source,!0});return R}function d(za){var qa=za.bounds;if(qa)return za=(0,D.fromLonLat)([qa[0],qa[1]]),qa=(0,D.fromLonLat)([qa[2],qa[3]]),[za[0],za[1],qa[0],qa[1]]}function f(za,qa,R){za=(0,ha.assign)({},za);var T=new ia["default"]({declutter:!0,visible:!1});qa=JSON.stringify(za);var X=Y[qa];X||(X=Y[qa]=new ca["default"]({url:za.tiles?void 0:R,tileJSON:za.tiles?za:void 0}));var Z=X.on("change",function(){var oa=X.getState();
if("ready"===oa){var na=X.getTileJSON();oa=Array.isArray(na.tiles)?na.tiles:[na.tiles];if(R)for(var Aa=0,ka=oa.length;Aa<ka;++Aa){var Na=oa[Aa];0!=Na.indexOf("http")&&(oa[Aa]=R.replace(/\/?$/,"/")+Na.replace(/^\//,""))}Aa=X.getTileGrid();ka=d(na);Na=na.minzoom||0;na=na.maxzoom||22;var $a=X.get("ol-source");void 0===$a&&($a=new C["default"]({attributions:X.getAttributions(),format:new S["default"],tileGrid:new E["default"]({origin:Aa.getOrigin(0),extent:ka||Aa.getExtent(),minZoom:Na,resolutions:ha.defaultResolutions.slice(0,
na+1),tileSize:512}),urls:oa}),X.set("ol-source",$a));(0,ea.unByKey)(Z);T.setSource($a)}else"error"===oa&&(X.set("ol-source",null),(0,ea.unByKey)(Z),T.setSource(void 0))});"ready"===X.getState()&&X.changed();return T}function a(za,qa){var R=new ba["default"],T=new ca["default"]({transition:0,url:za.tiles?void 0:qa,tileJSON:za.tiles?za:void 0,crossOrigin:"anonymous"}),X=T.on("change",function(){var Z=T.getState();if("ready"===Z){(0,ea.unByKey)(X);var oa=T.getTileJSON();Z=d(oa);var na=T.getTileGrid(),
Aa=za.tileSize||oa.tileSize||512,ka=oa.minzoom||0;oa=oa.maxzoom||22;T.tileGrid=new E["default"]({origin:na.getOrigin(0),extent:Z||na.getExtent(),minZoom:ka,resolutions:(0,y.createXYZ)({maxZoom:oa,tileSize:Aa}).getResolutions(),tileSize:Aa});R.setSource(T)}else"error"===Z&&((0,ea.unByKey)(X),R.setSource(void 0))});T.setTileLoadFunction(function(Z,oa){if(-1!=oa.indexOf("{bbox-epsg-3857}")){var na=T.getTileGrid().getTileCoordExtent(Z.getTileCoord());oa=oa.replace("{bbox-epsg-3857}",na.toString())}Z.getImage().src=
oa});return R}function e(za,qa){var R=za.data,T,X;"string"==typeof R?X=w(R,qa):T=Ua.readFeatures(R,{featureProjection:"EPSG:3857"});return new fa["default"]({source:new N["default"]({attributions:za.attribution,features:T,format:Ua,url:X}),visible:!1})}function n(za,qa,R){R=R.getZoom();za=(0,K.getValue)(za,"paint","raster-opacity",R,Pa);qa.setOpacity(za)}function x(za,qa,R,T,X,Z){void 0===Z&&(Z="");var oa=[],na=qa.getView();na.isDef()||na.getRotation()||na.getResolutions()||(na=new Q["default"]({maxResolution:ha.defaultResolutions[0]}),
qa.setView(na));"center"in za&&!na.getCenter()&&na.setCenter((0,D.fromLonLat)(za.center));"zoom"in za&&void 0===na.getZoom()&&na.setResolution(ha.defaultResolutions[0]/Math.pow(2,za.zoom));na.getCenter()&&void 0!==na.getZoom()||na.fit(na.getProjection().getExtent(),{nearest:!0,size:qa.getSize()});za.sprite&&(0==za.sprite.indexOf("mapbox://")?za.sprite=R+"/sprite"+Z:0!=za.sprite.indexOf("http")&&(za.sprite=(T?T+X:"")+za.sprite+Z));var Aa=za.layers,ka=[],Na,$a,Wa,Ca,Da,ma;R=function(yb,Qb){Na=Aa[yb];
yb=Na.type;if("heatmap"!=yb&&"hillshade"!=yb)if("background"==yb)k(qa,Na);else{Ca=Na.source||g(Aa,Na.ref);if(Ca!=Wa){ka.length&&(oa.push(B(Da,ka,za,X,qa)),ka=[]);$a=za.sources[Ca];if(ma=$a.url)if(ma=w(ma,X),0==ma.indexOf("mapbox://")){var fc=ma.replace("mapbox://","");$a.tiles=["a","b","c","d"].map(function(ad){return"https://"+ad+".tiles.mapbox.com/v4/"+fc+"/{z}/{x}/{y}."+("vector"==$a.type?"vector.pbf":"png")+Z})}else 0===ma.indexOf("/")&&0===T.indexOf("http")&&(ma=T+ma);"vector"==$a.type?Da=f($a,
Z,ma):"raster"==$a.type?(Da=a($a,ma),Da.setVisible(Na.layout?"none"!==Na.layout.visibility:!0),na.on("change:resolution",n.bind(Ea,Na,Da,na)),n(Na,Da,na)):"geojson"==$a.type&&(Da=e($a,X));Wa=Ca;Da&&Da.set("mapbox-source",Wa)}ka.push(Na.id)}};for(var Ea=this,Qa=0,eb=Aa.length;Qa<eb;++Qa)R(Qa,eb);oa.push(B(Da,ka,za,X,qa));qa.set("mapbox-style",za);return Promise.all(oa)}function z(za,qa){var R,T,X,Z;var oa=R=T=X="";if("string"===typeof za||za instanceof HTMLElement)za=new H["default"]({target:za});
if("string"===typeof qa){if(Z=qa.match(ra))R=Z[1],oa=2<Z.length?Z[2]:"";Z=new Promise(function(na,Aa){fetch(qa,{credentials:"same-origin"}).then(function(ka){return ka.json()}).then(function(ka){var Na=document.createElement("A");Na.href=qa;var $a=Na.href;X=Na.pathname.split("/").slice(0,-1).join("/")+"/";T=$a.substr(0,$a.indexOf(X));x(ka,za,R,T,X,oa).then(function(){na(za)})["catch"](Aa)})["catch"](function(ka){Aa(Error("Could not load "+qa+": "+ka.message))})})}else Z=new Promise(function(na,Aa){x(qa,
za).then(function(){na(za)})["catch"](Aa)});return Z}function B(za,qa,R,T,X){for(var Z=24,oa=0,na=R.layers,Aa=0,ka=na.length;Aa<ka;++Aa){var Na=na[Aa];-1!==qa.indexOf(Na.id)&&(Z=Math.min("minzoom"in Na?Na.minzoom:0,Z),oa=Math.max("maxzoom"in Na?Na.maxzoom:24,oa))}return new Promise(function($a,Wa){var Ca=function(){var Da=za.getSource();if(Da&&"error"!==Da.getState()){if("function"===typeof Da.getTileGrid){var ma=Da.getTileGrid();if(ma){var Ea=ma.getMinZoom();(0<Z||0<Ea)&&za.setMaxResolution(Math.min(ha.defaultResolutions[Z],
ma.getResolution(Ea))+1E-9);24>oa&&za.setMinResolution(ha.defaultResolutions[oa]+1E-9)}}Da instanceof N["default"]||Da instanceof C["default"]?t(za,R,qa,T).then(function(){za.setVisible(!0);$a()},function(Qa){Wa(Qa)}):$a()}else Wa(Error("Error accessing data for source "+za.get("mapbox-source")))};za.set("mapbox-layers",qa);-1===X.getLayers().getArray().indexOf(za)&&X.addLayer(za);if(za.getSource())Ca();else za.once("change:source",Ca)})}Object.defineProperty(J,"__esModule",{value:!0});J.applyStyle=
t;J.applyBackground=function(za,qa){qa.layers.some(function(R){if("background"==R.type)return k(za,R),!0})};J["default"]=z;J.apply=function(za,qa){if("string"===typeof za||za instanceof HTMLElement)za=new H["default"]({target:za});setTimeout(function(){z(za,qa)},0);return za};J.getLayer=function(za,qa){za=za.getLayers().getArray();for(var R=0,T=za.length;R<T;++R){var X=za[R].get("mapbox-layers");if(X&&-1!==X.indexOf(qa))return za[R]}};J.getLayers=function(za,qa){var R=[];za=za.getLayers().getArray();
for(var T=0,X=za.length;T<X;++T)za[T].get("mapbox-source")===qa&&R.push(za[T]);return R};J.getSource=function(za,qa){za=za.getLayers().getArray();for(var R=0,T=za.length;R<T;++R){var X=za[R].getSource();if(za[R].get("mapbox-source")===qa)return X}};J._finalizeLayer=B;J._getFonts=L;var M=l(A(333)),K=function(za){if(za&&za.__esModule)return za;if(null===za||"object"!==u(za)&&"function"!==typeof za)return{"default":za};var qa=m();if(qa&&qa.has(za))return qa.get(za);var R={},T=Object.defineProperty&&
Object.getOwnPropertyDescriptor,X;for(X in za)if(Object.prototype.hasOwnProperty.call(za,X)){var Z=T?Object.getOwnPropertyDescriptor(za,X):null;Z&&(Z.get||Z.set)?Object.defineProperty(R,X,Z):R[X]=za[X]}R["default"]=za;qa&&qa.set(za,R);return R}(A(336));Ia=l(A(337));var D=A(130),y=A(268),E=l(A(267)),H=l(A(250)),Q=l(A(153));mb=l(A(339));var S=l(A(329)),ea=A(90),ba=l(A(298)),fa=l(A(236)),ia=l(A(332)),ca=l(A(303)),N=l(A(242)),C=l(A(308)),W=A(334),ha=A(335),Y={},wa=/font-family: ?([^;]*);/,xa=/("|')/g,
Ha,Za={},gb=Ia["default"].getNames(),ra=/^(.*)(\?.*)$/,Pa={},Ua=new mb["default"]};
shadow$provide[341]=function(Ia,A,mb,J){function m(n){return n&&n.__esModule?n:{"default":n}}function l(n){return 0!==n.indexOf("mapbox://")?"":n.slice(9)}function u(n,x){var z=l(n);if(!z)return n;if(0!==z.indexOf("sprites/"))throw Error("unexpected sprites url: "+n);n=z.slice(8);return a+"/styles/v1/"+n+"/sprite?access_token\x3d"+x}function G(n,x){var z=l(n);if(!z)return n;if(0!==z.indexOf("fonts/"))throw Error("unexpected fonts url: "+n);n=z.slice(6);return a+"/fonts/v1/"+n+"/0-255.pbf?access_token\x3d"+
x}function L(n,x){var z=l(n);if(!z)return n;if(0!==z.indexOf("styles/"))throw Error("unexpected style url: "+n);n=z.slice(7);return a+"/styles/v1/"+n+"?\x26access_token\x3d"+x}function w(n,x){var z=l(n);return z?"https://{a-d}.tiles.mapbox.com/v4/"+z+"/{z}/{x}/{y}.vector.pbf?access_token\x3d"+x:n}Object.defineProperty(J,"__esModule",{value:!0});J.getMapboxPath=l;J.normalizeSpriteUrl=u;J.normalizeGlyphsUrl=G;J.normalizeStyleUrl=L;J.normalizeSourceUrl=w;J["default"]=void 0;Ia=m(A(84));var v=m(A(88)),
t=m(A(329)),k=m(A(95));mb=m(A(332));var g=m(A(308)),d=A(340),f=function(){var n=function(x,z){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,M){B.__proto__=M}||function(B,M){for(var K in M)Object.prototype.hasOwnProperty.call(M,K)&&(B[K]=M[K])};return n(x,z)};return function(x,z){function B(){this.constructor=x}n(x,z);x.prototype=null===z?Object.create(z):(B.prototype=z.prototype,new B)}}(),a="https://api.mapbox.com",e=function(n){function x(z){var B=n.call(this,v["default"].ERROR)||
this;B.error=z;return B}f(x,n);return x}(Ia["default"]);A=function(n){function x(z){var B="declutter"in z?z.declutter:!0;var M=new g["default"]({state:k["default"].LOADING,format:new t["default"]});B=n.call(this,{source:M,declutter:B,className:z.className,opacity:z.opacity,visible:z.visible,zIndex:z.zIndex,minResolution:z.minResolution,maxResolution:z.maxResolution,minZoom:z.minZoom,maxZoom:z.maxZoom,renderOrder:z.renderOrder,renderBuffer:z.renderBuffer,renderMode:z.renderMode,map:z.map,updateWhileAnimating:z.updateWhileAnimating,
updateWhileInteracting:z.updateWhileInteracting,preload:z.preload,useInterimTilesOnError:z.useInterimTilesOnError})||this;B.sourceId=z.source;B.layers=z.layers;B.accessToken=z.accessToken;B.fetchStyle(z.styleUrl);return B}f(x,n);x.prototype.fetchStyle=function(z){var B=this;z=L(z,this.accessToken);fetch(z).then(function(M){if(!M.ok)throw Error("unexpected response when fetching style: "+M.status);return M.json()}).then(function(M){B.onStyleLoad(M)})["catch"](function(M){B.handleError(M)})};x.prototype.onStyleLoad=
function(z){var B=this,M;if(this.layers){var K={};for(M=0;M<z.layers.length;++M){var D=z.layers[M];D.source&&(K[D.id]=D.source)}D=void 0;for(M=0;M<this.layers.length;++M){var y=K[this.layers[M]];if(!y){this.handleError(Error("could not find source for "+this.layers[M]));return}if(!D)D=y;else if(D!==y){this.handleError(Error("layers can only use a single source, found "+D+" and "+y));return}}M=D;K=this.layers}else K=M=this.sourceId;K||(K=M=Object.keys(z.sources)[0]);z.sprite&&(z.sprite=u(z.sprite,
this.accessToken));z.glyphs&&(z.glyphs=G(z.glyphs,this.accessToken));M=z.sources[M];if("vector"!==M.type)this.handleError(Error("only works for vector sources, found "+M.type));else{var E=this.getSource();E.setUrl(w(M.url,this.accessToken));(0,d.applyStyle)(this,z,K).then(function(){E.setState(k["default"].READY)})["catch"](function(H){B.handleError(H)})}};x.prototype.handleError=function(z){this.dispatchEvent(new e(z));this.getSource().setState(k["default"].ERROR)};return x}(mb["default"]);J["default"]=
A};
shadow$provide[342]=function(Ia,A,mb,J){function m(f){return f&&f.__esModule?f:{"default":f}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=m(A(293));var l=m(A(235)),u=m(A(88)),G=m(A(285)),L=m(A(199)),w=m(A(198)),v=m(A(121)),t=A(77),k=A(86),g=A(80),d=function(){var f=function(a,e){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,x){n.__proto__=x}||function(n,x){for(var z in x)Object.prototype.hasOwnProperty.call(x,z)&&(n[z]=x[z])};return f(a,e)};return function(a,
e){function n(){this.constructor=a}f(a,e);a.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();A=function(f){function a(e){var n=f.call(this,e)||this;n.vectorRenderer_=new l["default"](e);n.layerImageRatio_=e.getImageRatio();n.coordinateToVectorPixelTransform_=(0,t.create)();n.renderedPixelToCoordinateTransform_=null;return n}d(a,f);a.prototype.disposeInternal=function(){this.vectorRenderer_.dispose();f.prototype.disposeInternal.call(this)};a.prototype.getFeatures=function(e){return this.vectorRenderer_?
(e=(0,t.apply)(this.coordinateToVectorPixelTransform_,(0,t.apply)(this.renderedPixelToCoordinateTransform_,e.slice())),this.vectorRenderer_.getFeatures(e)):new Promise(function(n,x){n([])})};a.prototype.handleFontsChanged=function(){this.vectorRenderer_.handleFontsChanged()};a.prototype.prepareFrame=function(e){var n=e.pixelRatio,x=e.viewState,z=x.resolution,B=e.viewHints,M=this.vectorRenderer_,K=e.extent;1!==this.layerImageRatio_&&(K=K.slice(0),(0,g.scaleFromCenter)(K,this.layerImageRatio_));var D=
(0,g.getWidth)(K)/z,y=(0,g.getHeight)(K)/z;if(!B[v["default"].ANIMATING]&&!B[v["default"].INTERACTING]&&!(0,g.isEmpty)(K)){M.useContainer(null,null,1);B=M.context;var E=(0,k.assign)({},e,{declutterTree:new w["default"](9),extent:K,size:[D,y],viewState:(0,k.assign)({},e.viewState,{rotation:0})}),H=new G["default"](K,z,n,B.canvas,function(Q){M.prepareFrame(E)&&M.replayGroupChanged&&(M.clipping=!1,M.renderFrame(E,null),M.renderDeclutter(E),Q())});H.addEventListener(u["default"].CHANGE,function(){if(H.getState()===
L["default"].LOADED){this.image_=H;var Q=H.getResolution(),S=H.getPixelRatio();this.renderedResolution=Q=Q*n/S;this.coordinateToVectorPixelTransform_=(0,t.compose)(this.coordinateToVectorPixelTransform_,D/2,y/2,1/Q,-1/Q,0,-x.center[0],-x.center[1])}}.bind(this));H.load()}this.image_&&(this.renderedPixelToCoordinateTransform_=e.pixelToCoordinateTransform.slice());return!!this.image_};a.prototype.preRender=function(){};a.prototype.postRender=function(){};a.prototype.renderDeclutter=function(){};a.prototype.forEachFeatureAtCoordinate=
function(e,n,x,z,B){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(e,n,x,z,B):f.prototype.forEachFeatureAtCoordinate.call(this,e,n,x,z,B)};return a}(Ia["default"]);J["default"]=A};
shadow$provide[343]=function(Ia,A,mb,J){function m(L){return L&&L.__esModule?L:{"default":L}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=m(A(207));var l=m(A(342)),u=A(86),G=function(){var L=function(w,v){L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,k){t.__proto__=k}||function(t,k){for(var g in k)Object.prototype.hasOwnProperty.call(k,g)&&(t[g]=k[g])};return L(w,v)};return function(w,v){function t(){this.constructor=w}L(w,v);w.prototype=null===v?Object.create(v):
(t.prototype=v.prototype,new t)}}();A=function(L){function w(v){v=v?v:{};var t=(0,u.assign)({},v);delete t.imageRatio;t=L.call(this,t)||this;t.imageRatio_=void 0!==v.imageRatio?v.imageRatio:1;return t}G(w,L);w.prototype.getImageRatio=function(){return this.imageRatio_};w.prototype.createRenderer=function(){return new l["default"](this)};return w}(Ia["default"]);J["default"]=A};
shadow$provide[344]=function(Ia,A,mb,J){function m(y){if("number"===typeof y)return K.NUMBER;if("boolean"===typeof y)return K.BOOLEAN;if("string"===typeof y)return(0,M.isStringColor)(y)?K.COLOR|K.STRING:K.STRING;if(!Array.isArray(y))throw Error("Unhandled value type: "+JSON.stringify(y));if(y.every(function(H){return"number"===typeof H}))return 3===y.length||4===y.length?K.COLOR|K.NUMBER_ARRAY:K.NUMBER_ARRAY;if("string"!==typeof y[0])throw Error("Expected an expression operator but received: "+JSON.stringify(y));
var E=D[y[0]];if(void 0===E)throw Error("Unrecognized expression operator: "+JSON.stringify(y));return E.getReturnType(y.slice(1))}function l(y){return 0===Math.log2(y)%1}function u(y){y=y.toString();return-1===y.indexOf(".")?y+".0":y}function G(y){if(2>y.length||4<y.length)throw Error("`formatArray` can only output `vec2`, `vec3` or `vec4` arrays.");return"vec"+y.length+"("+y.map(u).join(", ")+")"}function L(y){y=(0,M.asArray)(y).slice();4>y.length&&y.push(1);return G(y.map(function(E,H){return 3>
H?E/255:E}))}function w(y,E){void 0===y.stringLiteralsMap[E]&&(y.stringLiteralsMap[E]=Object.keys(y.stringLiteralsMap).length);return y.stringLiteralsMap[E]}function v(y,E){return u(w(y,E))}function t(y,E,H){if(Array.isArray(E)&&"string"===typeof E[0]){var Q=D[E[0]];if(void 0===Q)throw Error("Unrecognized expression operator: "+JSON.stringify(E));return Q.toGlsl(y,E.slice(1),H)}Q=m(E);if(0<(Q&K.NUMBER))return u(E);if(0<(Q&K.BOOLEAN))return E.toString();if(0<(Q&K.STRING)&&(void 0===H||H==K.STRING))return v(y,
E.toString());if(0<(Q&K.COLOR)&&(void 0===H||H==K.COLOR))return L(E);if(0<(Q&K.NUMBER_ARRAY))return G(E)}function k(y){for(var E=0;E<y.length;E++){var H=y[E];if(!(m(H)&K.NUMBER))throw Error("A numeric value was expected, got "+JSON.stringify(H)+" instead");}}function g(y){if(!(m(y)&K.STRING))throw Error("A string value was expected, got "+JSON.stringify(y)+" instead");}function d(y){if(!(m(y)&K.BOOLEAN))throw Error("A boolean value was expected, got "+JSON.stringify(y)+" instead");}function f(y,E){if(y.length!==
E)throw Error("Exactly "+E+" arguments were expected, got "+y.length+" instead");}function a(y,E){if(y.length<E)throw Error("At least "+E+" arguments were expected, got "+y.length+" instead");}function e(y,E){if(y.length>E)throw Error("At most "+E+" arguments were expected, got "+y.length+" instead");}function n(y){if(0!==y.length%2)throw Error("An even amount of arguments was expected, got "+y+" instead");}function x(y,E){if(!l(E))throw Error("Could not infer only one type from the following expression: "+
JSON.stringify(y));}function z(y){return{getReturnType:function(E){return K.BOOLEAN},toGlsl:function(E,H){f(H,2);for(var Q=K.ANY,S=0;S<H.length;S++)Q&=m(H[S]);if(0===Q)throw Error("All arguments should be of compatible type, got "+JSON.stringify(H)+" instead");return"("+t(E,H[0],Q)+" "+y+" "+t(E,H[1],Q)+")"}}}function B(y){return{getReturnType:function(E){return K.BOOLEAN},toGlsl:function(E,H){a(H,2);for(var Q=0;Q<H.length;Q++)d(H[Q]);Q="";Q=H.map(function(S){return t(E,S)}).join(" "+y+" ");return"("+
Q+")"}}}Object.defineProperty(J,"__esModule",{value:!0});J.getValueType=m;J.isTypeUnique=l;J.numberToGlsl=u;J.arrayToGlsl=G;J.colorToGlsl=L;J.getStringNumberEquivalent=w;J.stringToGlsl=v;J.expressionToGlsl=t;J.Operators=J.ValueTypes=void 0;var M=A(82),K={NUMBER:1,STRING:2,COLOR:4,BOOLEAN:8,NUMBER_ARRAY:16,ANY:31,NONE:0};J.ValueTypes=K;var D={};J.Operators=D;D.get={getReturnType:function(y){return K.ANY},toGlsl:function(y,E){f(E,1);g(E[0]);E=E[0].toString();-1===y.attributes.indexOf(E)&&y.attributes.push(E);
return(y.inFragmentShader?"v_":"a_")+E}};D["var"]={getReturnType:function(y){return K.ANY},toGlsl:function(y,E){f(E,1);g(E[0]);E=E[0].toString();-1===y.variables.indexOf(E)&&y.variables.push(E);return"u_"+E}};D.time={getReturnType:function(y){return K.NUMBER},toGlsl:function(y,E){f(E,0);return"u_time"}};D.zoom={getReturnType:function(y){return K.NUMBER},toGlsl:function(y,E){f(E,0);return"u_zoom"}};D.resolution={getReturnType:function(y){return K.NUMBER},toGlsl:function(y,E){f(E,0);return"u_resolution"}};
D["*"]={getReturnType:function(y){return K.NUMBER},toGlsl:function(y,E){f(E,2);k(E);return"("+t(y,E[0])+" * "+t(y,E[1])+")"}};D["/"]={getReturnType:function(y){return K.NUMBER},toGlsl:function(y,E){f(E,2);k(E);return"("+t(y,E[0])+" / "+t(y,E[1])+")"}};D["+"]={getReturnType:function(y){return K.NUMBER},toGlsl:function(y,E){f(E,2);k(E);return"("+t(y,E[0])+" + "+t(y,E[1])+")"}};D["-"]={getReturnType:function(y){return K.NUMBER},toGlsl:function(y,E){f(E,2);k(E);return"("+t(y,E[0])+" - "+t(y,E[1])+")"}};
D.clamp={getReturnType:function(y){return K.NUMBER},toGlsl:function(y,E){f(E,3);k(E);var H=t(y,E[1]),Q=t(y,E[2]);return"clamp("+t(y,E[0])+", "+H+", "+Q+")"}};D["%"]={getReturnType:function(y){return K.NUMBER},toGlsl:function(y,E){f(E,2);k(E);return"mod("+t(y,E[0])+", "+t(y,E[1])+")"}};D["^"]={getReturnType:function(y){return K.NUMBER},toGlsl:function(y,E){f(E,2);k(E);return"pow("+t(y,E[0])+", "+t(y,E[1])+")"}};D["\x3e"]={getReturnType:function(y){return K.BOOLEAN},toGlsl:function(y,E){f(E,2);k(E);
return"("+t(y,E[0])+" \x3e "+t(y,E[1])+")"}};D["\x3e\x3d"]={getReturnType:function(y){return K.BOOLEAN},toGlsl:function(y,E){f(E,2);k(E);return"("+t(y,E[0])+" \x3e\x3d "+t(y,E[1])+")"}};D["\x3c"]={getReturnType:function(y){return K.BOOLEAN},toGlsl:function(y,E){f(E,2);k(E);return"("+t(y,E[0])+" \x3c "+t(y,E[1])+")"}};D["\x3c\x3d"]={getReturnType:function(y){return K.BOOLEAN},toGlsl:function(y,E){f(E,2);k(E);return"("+t(y,E[0])+" \x3c\x3d "+t(y,E[1])+")"}};D["\x3d\x3d"]=z("\x3d\x3d");D["!\x3d"]=z("!\x3d");
D["!"]={getReturnType:function(y){return K.BOOLEAN},toGlsl:function(y,E){f(E,1);d(E[0]);return"(!"+t(y,E[0])+")"}};D.all=B("\x26\x26");D.any=B("||");D.between={getReturnType:function(y){return K.BOOLEAN},toGlsl:function(y,E){f(E,3);k(E);var H=t(y,E[1]),Q=t(y,E[2]);y=t(y,E[0]);return"("+y+" \x3e\x3d "+H+" \x26\x26 "+y+" \x3c\x3d "+Q+")"}};D.array={getReturnType:function(y){return K.NUMBER_ARRAY},toGlsl:function(y,E){a(E,2);e(E,4);k(E);var H=E.map(function(Q){return t(y,Q,K.NUMBER)});return"vec"+E.length+
"("+H.join(", ")+")"}};D.color={getReturnType:function(y){return K.COLOR},toGlsl:function(y,E){a(E,3);e(E,4);k(E);3===E.length&&E.push(1);var H=E.map(function(Q,S){return t(y,Q,K.NUMBER)+(3>S?" / 255.0":"")});return"vec"+E.length+"("+H.join(", ")+")"}};D.interpolate={getReturnType:function(y){for(var E=K.COLOR|K.NUMBER,H=3;H<y.length;H+=2)E&=m(y[H]);return E},toGlsl:function(y,E,H){n(E);a(E,6);var Q=E[0];switch(Q[0]){case "linear":var S=1;break;case "exponential":S=Q[1];break;default:S=null}if(!S)throw Error('Invalid interpolation type for "interpolate" operator, received: '+
JSON.stringify(Q));H=void 0!==H?H:K.ANY;H&=D.interpolate.getReturnType(E);x(E,H);Q=t(y,E[1]);for(var ea=null,ba=2;ba<E.length-2;ba+=2){var fa=t(y,E[ba]),ia=t(y,E[ba+1],H),ca=t(y,E[ba+2]),N=t(y,E[ba+3],H);ea="mix("+(ea||ia)+", "+N+", pow(clamp(("+Q+" - "+fa+") / ("+ca+" - "+fa+"), 0.0, 1.0), "+u(S)+"))"}return ea}};D.match={getReturnType:function(y){for(var E=K.ANY,H=2;H<y.length;H+=2)E&=m(y[H]);return E&=m(y[y.length-1])},toGlsl:function(y,E,H){n(E);a(E,4);H=void 0!==H?H:K.ANY;H&=D.match.getReturnType(E);
x(E,H);for(var Q=t(y,E[0]),S=t(y,E[E.length-1],H),ea=null,ba=E.length-3;1<=ba;ba-=2){var fa=t(y,E[ba]),ia=t(y,E[ba+1],H);ea="("+Q+" \x3d\x3d "+fa+" ? "+ia+" : "+(ea||S)+")"}return ea}};D["case"]={getReturnType:function(y){for(var E=K.ANY,H=1;H<y.length;H+=2)E&=m(y[H]);return E&=m(y[y.length-1])},toGlsl:function(y,E,H){if(0===E.length%2)throw Error("An odd amount of arguments was expected, got "+E+" instead");a(E,3);H=void 0!==H?H:K.ANY;H&=D["case"].getReturnType(E);x(E,H);for(var Q=0;Q<E.length-1;Q+=
2)d(E[Q]);var S=t(y,E[E.length-1],H),ea=null;for(Q=E.length-3;0<=Q;Q-=2){var ba=t(y,E[Q]),fa=t(y,E[Q+1],H);ea="("+ba+" ? "+fa+" : "+(ea||S)+")"}return ea}}};
shadow$provide[345]=function(Ia,A,mb,J){Object.defineProperty(J,"__esModule",{value:!0});J.parseLiteralStyle=function(u){var G=u.symbol,L=void 0!==G.size?G.size:1,w=G.color||"white",v=G.textureCoord||[0,0,1,1],t=G.offset||[0,0],k=void 0!==G.opacity?G.opacity:1,g=void 0!==G.rotation?G.rotation:0,d={inFragmentShader:!1,variables:[],attributes:[],stringLiteralsMap:{}},f=(0,m.expressionToGlsl)(d,L,m.ValueTypes.NUMBER_ARRAY|m.ValueTypes.NUMBER);t=(0,m.expressionToGlsl)(d,t,m.ValueTypes.NUMBER_ARRAY);v=
(0,m.expressionToGlsl)(d,v,m.ValueTypes.NUMBER_ARRAY);var a=(0,m.expressionToGlsl)(d,g,m.ValueTypes.NUMBER);g={inFragmentShader:!0,variables:d.variables,attributes:[],stringLiteralsMap:d.stringLiteralsMap};w=(0,m.expressionToGlsl)(g,w,m.ValueTypes.COLOR);k=(0,m.expressionToGlsl)(g,k,m.ValueTypes.NUMBER);var e="1.0";L="vec2("+(0,m.expressionToGlsl)(g,L,m.ValueTypes.NUMBER_ARRAY|m.ValueTypes.NUMBER)+").x";switch(G.symbolType){case "square":break;case "image":break;case "circle":e="(1.0-smoothstep(1.-4./"+
L+",1.,dot(v_quadCoord-.5,v_quadCoord-.5)*4.))";break;case "triangle":e="(1.0-smoothstep(.5-3./"+L+",.5,cos(floor(.5+(atan((v_quadCoord*2.-1.).x,(v_quadCoord*2.-1.).y))/2.094395102)*2.094395102-(atan((v_quadCoord*2.-1.).x,(v_quadCoord*2.-1.).y)))*length((v_quadCoord*2.-1.))))";break;default:throw Error("Unexpected symbol type: "+G.symbolType);}var n=(new l).setSizeExpression("vec2("+f+")").setRotationExpression(a).setSymbolOffsetExpression(t).setTextureCoordinateExpression(v).setSymbolRotateWithView(!!G.rotateWithView).setColorExpression("vec4("+
w+".rgb, "+w+".a * "+k+" * "+e+")");u.filter&&(f=(0,m.expressionToGlsl)(g,u.filter,m.ValueTypes.BOOLEAN),n.setFragmentDiscardExpression("!"+f));var x={};g.variables.forEach(function(z){n.addUniform("float u_"+z);x["u_"+z]=function(){if(!u.variables||void 0===u.variables[z])throw Error("The following variable is missing from the style: "+z);var B=u.variables[z];"string"===typeof B&&(B=(0,m.getStringNumberEquivalent)(d,B));return void 0!==B?B:-9999999}});"image"===G.symbolType&&G.src&&(f=new Image,
f.src=G.src,n.addUniform("sampler2D u_texture").setColorExpression(n.getColorExpression()+" * texture2D(u_texture, v_texCoord)"),x.u_texture=f);g.attributes.forEach(function(z){-1===d.attributes.indexOf(z)&&d.attributes.push(z);n.addVarying("v_"+z,"float","a_"+z)});d.attributes.forEach(function(z){n.addAttribute("float a_"+z)});return{builder:n,attributes:d.attributes.map(function(z){return{name:z,callback:function(B,M){B=M[z];"string"===typeof B&&(B=(0,m.getStringNumberEquivalent)(d,B));return void 0!==
B?B:-9999999}}}),uniforms:x}};J.ShaderBuilder=void 0;var m=A(344),l=function(){function u(){this.uniforms=[];this.attributes=[];this.varyings=[];this.sizeExpression="vec2(1.0)";this.rotationExpression="0.0";this.offsetExpression="vec2(0.0)";this.colorExpression="vec4(1.0)";this.texCoordExpression="vec4(0.0, 0.0, 1.0, 1.0)";this.discardExpression="false";this.rotateWithView=!1}u.prototype.addUniform=function(G){this.uniforms.push(G);return this};u.prototype.addAttribute=function(G){this.attributes.push(G);
return this};u.prototype.addVarying=function(G,L,w){this.varyings.push({name:G,type:L,expression:w});return this};u.prototype.setSizeExpression=function(G){this.sizeExpression=G;return this};u.prototype.setRotationExpression=function(G){this.rotationExpression=G;return this};u.prototype.setSymbolOffsetExpression=function(G){this.offsetExpression=G;return this};u.prototype.setColorExpression=function(G){this.colorExpression=G;return this};u.prototype.setTextureCoordinateExpression=function(G){this.texCoordExpression=
G;return this};u.prototype.setFragmentDiscardExpression=function(G){this.discardExpression=G;return this};u.prototype.setSymbolRotateWithView=function(G){this.rotateWithView=G;return this};u.prototype.getSizeExpression=function(){return this.sizeExpression};u.prototype.getOffsetExpression=function(){return this.offsetExpression};u.prototype.getColorExpression=function(){return this.colorExpression};u.prototype.getTextureCoordinateExpression=function(){return this.texCoordExpression};u.prototype.getFragmentDiscardExpression=
function(){return this.discardExpression};u.prototype.getSymbolVertexShader=function(G){var L=this.rotateWithView?"u_offsetScaleMatrix * u_offsetRotateMatrix":"u_offsetScaleMatrix",w=this.attributes,v=this.varyings;G&&(w=w.concat("vec4 a_hitColor"),v=v.concat({name:"v_hitColor",type:"vec4",expression:"a_hitColor"}));return"precision mediump float;\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_time;\nuniform float u_zoom;\nuniform float u_resolution;\n"+
this.uniforms.map(function(t){return"uniform "+t+";"}).join("\n")+"\nattribute vec2 a_position;\nattribute float a_index;\n"+w.map(function(t){return"attribute "+t+";"}).join("\n")+"\nvarying vec2 v_texCoord;\nvarying vec2 v_quadCoord;\n"+v.map(function(t){return"varying "+t.type+" "+t.name+";"}).join("\n")+"\nvoid main(void) {\n  mat4 offsetMatrix \x3d "+L+";\n  vec2 halfSize \x3d "+this.sizeExpression+" * 0.5;\n  vec2 offset \x3d "+this.offsetExpression+";\n  float angle \x3d "+this.rotationExpression+
";\n  float offsetX;\n  float offsetY;\n  if (a_index \x3d\x3d 0.0) {\n    offsetX \x3d (offset.x - halfSize.x) * cos(angle) + (offset.y - halfSize.y) * sin(angle);\n    offsetY \x3d (offset.y - halfSize.y) * cos(angle) - (offset.x - halfSize.x) * sin(angle);\n  } else if (a_index \x3d\x3d 1.0) {\n    offsetX \x3d (offset.x + halfSize.x) * cos(angle) + (offset.y - halfSize.y) * sin(angle);\n    offsetY \x3d (offset.y - halfSize.y) * cos(angle) - (offset.x + halfSize.x) * sin(angle);\n  } else if (a_index \x3d\x3d 2.0) {\n    offsetX \x3d (offset.x + halfSize.x) * cos(angle) + (offset.y + halfSize.y) * sin(angle);\n    offsetY \x3d (offset.y + halfSize.y) * cos(angle) - (offset.x + halfSize.x) * sin(angle);\n  } else {\n    offsetX \x3d (offset.x - halfSize.x) * cos(angle) + (offset.y + halfSize.y) * sin(angle);\n    offsetY \x3d (offset.y + halfSize.y) * cos(angle) - (offset.x - halfSize.x) * sin(angle);\n  }\n  vec4 offsets \x3d offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n  gl_Position \x3d u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n  vec4 texCoord \x3d "+
this.texCoordExpression+";\n  float u \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? texCoord.s : texCoord.p;\n  float v \x3d a_index \x3d\x3d 2.0 || a_index \x3d\x3d 3.0 ? texCoord.t : texCoord.q;\n  v_texCoord \x3d vec2(u, v);\n  u \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? 0.0 : 1.0;\n  v \x3d a_index \x3d\x3d 2.0 || a_index \x3d\x3d 3.0 ? 0.0 : 1.0;\n  v_quadCoord \x3d vec2(u, v);\n"+v.map(function(t){return"  "+t.name+" \x3d "+t.expression+";"}).join("\n")+"\n}"};u.prototype.getSymbolFragmentShader=
function(G){var L=G?"  if (gl_FragColor.a \x3c 0.1) { discard; } gl_FragColor \x3d v_hitColor;":"",w=this.varyings;G&&(w=w.concat({name:"v_hitColor",type:"vec4",expression:"a_hitColor"}));return"precision mediump float;\nuniform float u_time;\nuniform float u_zoom;\nuniform float u_resolution;\n"+this.uniforms.map(function(v){return"uniform "+v+";"}).join("\n")+"\nvarying vec2 v_texCoord;\nvarying vec2 v_quadCoord;\n"+w.map(function(v){return"varying "+v.type+" "+v.name+";"}).join("\n")+"\nvoid main(void) {\n  if ("+
this.discardExpression+") { discard; }\n  gl_FragColor \x3d "+this.colorExpression+";\n  gl_FragColor.rgb *\x3d gl_FragColor.a;\n"+L+"\n}"};return u}();J.ShaderBuilder=l};
shadow$provide[346]=function(Ia,A,mb,J){function m(w){return w&&w.__esModule?w:{"default":w}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ia=m(A(96));var l=m(A(325)),u=A(86),G=A(345),L=function(){var w=function(v,t){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,g){k.__proto__=g}||function(k,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(k[d]=g[d])};return w(v,t)};return function(v,t){function k(){this.constructor=v}w(v,t);v.prototype=null===
t?Object.create(t):(k.prototype=t.prototype,new k)}}();A=function(w){function v(t){var k=(0,u.assign)({},t);k=w.call(this,k)||this;k.parseResult_=(0,G.parseLiteralStyle)(t.style);k.hitDetectionDisabled_=!!t.disableHitDetection;return k}L(v,w);v.prototype.createRenderer=function(){return new l["default"](this,{className:this.getClassName(),vertexShader:this.parseResult_.builder.getSymbolVertexShader(),fragmentShader:this.parseResult_.builder.getSymbolFragmentShader(),hitVertexShader:!this.hitDetectionDisabled_&&
this.parseResult_.builder.getSymbolVertexShader(!0),hitFragmentShader:!this.hitDetectionDisabled_&&this.parseResult_.builder.getSymbolFragmentShader(!0),uniforms:this.parseResult_.uniforms,attributes:this.parseResult_.attributes})};v.prototype.disposeInternal=function(){this.getRenderer().disposeInternal();w.prototype.disposeInternal.call(this)};return v}(Ia["default"]);J["default"]=A};
shadow$provide[347]=function(Ia,A,mb,J){function m(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(J,"__esModule",{value:!0});Object.defineProperty(J,"Graticule",{enumerable:!0,get:function(){return l["default"]}});Object.defineProperty(J,"Group",{enumerable:!0,get:function(){return u["default"]}});Object.defineProperty(J,"Heatmap",{enumerable:!0,get:function(){return G["default"]}});Object.defineProperty(J,"Image",{enumerable:!0,get:function(){return L["default"]}});Object.defineProperty(J,
"Layer",{enumerable:!0,get:function(){return w["default"]}});Object.defineProperty(J,"MapboxVector",{enumerable:!0,get:function(){return v["default"]}});Object.defineProperty(J,"Tile",{enumerable:!0,get:function(){return t["default"]}});Object.defineProperty(J,"Vector",{enumerable:!0,get:function(){return k["default"]}});Object.defineProperty(J,"VectorImage",{enumerable:!0,get:function(){return g["default"]}});Object.defineProperty(J,"VectorTile",{enumerable:!0,get:function(){return d["default"]}});
Object.defineProperty(J,"WebGLPoints",{enumerable:!0,get:function(){return f["default"]}});var l=m(A(315)),u=m(A(108)),G=m(A(326)),L=m(A(294)),w=m(A(96)),v=m(A(341)),t=m(A(298)),k=m(A(236)),g=m(A(343)),d=m(A(332)),f=m(A(346))};
var aa="cljs.core",ba="cljs.pprint",ca="cljs.spec.alpha",da="clojure.string",fa="datascript.db",ha="datascript.pull-api",ja="taoensso.sente",g,la=la||{},ma=this||self;function na(){}
function oa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function qa(a){return"array"==oa(a)}function ra(a){var b=oa(a);return"array"==b||"object"==b&&"number"==typeof a.length}function sa(a){return"function"==oa(a)}function ta(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function wa(a){return a[za]||(a[za]=++Aa)}var za="closure_uid_"+(1E9*Math.random()>>>0),Aa=0;function Da(a,b,c){return a.call.apply(a.bind,arguments)}
function Ea(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}return function(){return a.apply(b,arguments)}}function Fa(a,b,c){Fa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Da:Ea;return Fa.apply(null,arguments)}var Ga=Date.now||function(){return+new Date};
function Ha(a,b){a=a.split(".");var c=ma;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}:c[d]=b}function Ia(a,b){function c(){}c.prototype=b.prototype;a.wd=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(d,e,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[e].apply(d,h)}};function Ja(a){Ja[" "](a);return a}Ja[" "]=na;function Ka(a,b){var c=La;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};function Ma(a){let b=!1,c;return function(){b||(c=a(),b=!0);return c}};var Na=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,0);for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Oa=Array.prototype.lastIndexOf?function(a,b){return Array.prototype.lastIndexOf.call(a,b,a.length-1)}:function(a,b){var c=a.length-1;0>c&&(c=Math.max(0,a.length+c));if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.lastIndexOf(b,c);
for(;0<=c;c--)if(c in a&&a[c]===b)return c;return-1},Pa=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e="string"===typeof a?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Qa=Array.prototype.some?function(a,b){return Array.prototype.some.call(a,b,void 0)}:function(a,b){for(var c=a.length,d="string"===typeof a?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a))return!0;return!1},Ra=Array.prototype.every?function(a,b,
c){return Array.prototype.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e="string"===typeof a?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function Sa(a){a:{var b=Ua;for(var c=a.length,d="string"===typeof a?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:"string"===typeof a?a.charAt(b):a[b]}function Va(a){if(!qa(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0}
function Wa(a,b){b=Na(a,b);var c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c}function Xa(a){return Array.prototype.concat.apply([],arguments)}function Za(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function $a(a,b){a.sort(b||ab)}function bb(a,b){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]={index:d,value:a[d]};var e=b||ab;$a(c,function(f,h){return e(f.value,h.value)||f.index-h.index});for(d=0;d<a.length;d++)a[d]=c[d].value}
function ab(a,b){return a>b?1:a<b?-1:0}function cb(a){for(var b=Math.random,c=a.length-1;0<c;c--){var d=Math.floor(b()*(c+1)),e=a[c];a[c]=a[d];a[d]=e}};function db(a){this.Vi=a}db.prototype.toString=function(){return this.Vi};var eb=new db("IFRAME"),fb=new db("SCRIPT");function gb(a,b){for(const c in a)if(b.call(void 0,a[c],c,a))return!0;return!1}function hb(a){const b=[];let c=0;for(const d in a)b[c++]=a[d];return b}function ib(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b}function jb(a,b,c){return null!==a&&b in a?a[b]:c}function kb(a,b,c){a[b]=c}var lb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function mb(a,b){let c,d;for(let e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(let f=0;f<lb.length;f++)c=lb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function nb(a,b){this.Ui=a===ob&&b||"";this.vh=pb}var pb={},ob={},qb=new nb(ob,"");function rb(){}rb.prototype.td=function(){return this};(new rb).td("");function sb(a,b){this.Mi=a===tb&&b||"";this.wh=ub}var ub={},tb={};function vb(a,b){const c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c}function wb(a){return/^[\s\xa0]*$/.test(a)}var xb=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function zb(a){return-1!=Ab.toLowerCase().indexOf(a.toLowerCase())}function Bb(a,b){return a<b?-1:a>b?1:0};function Cb(){}Cb.prototype.td=function(){return this};(new Cb).td("");function Db(){}Db.prototype.td=function(){return this};(new Db).td("");var Ab;a:{var ia=ma.navigator;if(ia){var Eb=ia.userAgent;if(Eb){Ab=Eb;break a}}Ab=""}function Gb(a){return-1!=Ab.indexOf(a)};function Hb(){this.gh="";this.uh=Ib}function Jb(){var a=Kb;if(a instanceof Hb&&a.constructor===Hb&&a.uh===Ib)return a.gh;oa(a);return"type_error:SafeHtml"}var Ib={};Hb.prototype.td=function(a){this.gh=a;return this};(new Hb).td("\x3c!DOCTYPE html\x3e");var Kb=(new Hb).td("");(new Hb).td("\x3cbr\x3e");function Lb(a){var b=new sb(tb,qb instanceof nb&&qb.constructor===nb&&qb.vh===pb?qb.Ui:"type_error:Const");b instanceof sb&&b.constructor===sb&&b.wh===ub?b=b.Mi:(oa(b),b="type_error:TrustedResourceUrl");a.src=b.toString()};function Mb(a){return 1==a.length&&" "<=a&&"~">=a||""<=a&&"">=a}var Nb=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};function Ob(a){return String(a.charAt(0)).toUpperCase()+String(a.substr(1)).toLowerCase()};function Pb(a){if(a.getCount&&"function"==typeof a.getCount)a=a.getCount();else if(ra(a)||"string"===typeof a)a=a.length;else{{let b=0;for(const c in a)b++;a=b}}return a}function Qb(a){if(a.getValues&&"function"==typeof a.getValues)return a.getValues();if("string"===typeof a)return a.split("");if(ra(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return hb(a)}
function Rb(a){if(a.getKeys&&"function"==typeof a.getKeys)return a.getKeys();if(!a.getValues||"function"!=typeof a.getValues){if(ra(a)||"string"===typeof a){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return ib(a)}}function Sb(a,b,c){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,c);else if(ra(a)||"string"===typeof a)Pa(a,b,c);else for(var d=Rb(a),e=Qb(a),f=e.length,h=0;h<f;h++)b.call(c,e[h],d&&d[h],a)}
function Tb(a,b){if("function"==typeof a.every)return a.every(b,void 0);if(ra(a)||"string"===typeof a)return Ra(a,b,void 0);for(var c=Rb(a),d=Qb(a),e=d.length,f=0;f<e;f++)if(!b.call(void 0,d[f],c&&c[f],a))return!1;return!0};function Ub(a,b){this.map_={};this.keys_=[];this.version_=this.count_=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)}g=Ub.prototype;g.getCount=function(){return this.count_};g.getValues=function(){Vb(this);for(var a=[],b=0;b<this.keys_.length;b++)a.push(this.map_[this.keys_[b]]);return a};g.getKeys=function(){Vb(this);return this.keys_.concat()};
g.containsKey=function(a){return Wb(this.map_,a)};g.ze=function(a){for(var b=0;b<this.keys_.length;b++){var c=this.keys_[b];if(Wb(this.map_,c)&&this.map_[c]==a)return!0}return!1};g.equals=function(a,b){if(this===a)return!0;if(this.count_!=a.getCount())return!1;b=b||Xb;Vb(this);for(var c,d=0;c=this.keys_[d];d++)if(!b(this.get(c),a.get(c)))return!1;return!0};function Xb(a,b){return a===b}g.isEmpty=function(){return 0==this.count_};
g.clear=function(){this.map_={};this.version_=this.count_=this.keys_.length=0};g.remove=function(a){return Wb(this.map_,a)?(delete this.map_[a],this.count_--,this.version_++,this.keys_.length>2*this.count_&&Vb(this),!0):!1};
function Vb(a){if(a.count_!=a.keys_.length){for(var b=0,c=0;b<a.keys_.length;){var d=a.keys_[b];Wb(a.map_,d)&&(a.keys_[c++]=d);b++}a.keys_.length=c}if(a.count_!=a.keys_.length){var e={};for(c=b=0;b<a.keys_.length;)d=a.keys_[b],Wb(e,d)||(a.keys_[c++]=d,e[d]=1),b++;a.keys_.length=c}}g.get=function(a,b){return Wb(this.map_,a)?this.map_[a]:b};g.set=function(a,b){Wb(this.map_,a)||(this.count_++,this.keys_.push(a),this.version_++);this.map_[a]=b};
g.addAll=function(a){if(a instanceof Ub)for(var b=a.getKeys(),c=0;c<b.length;c++)this.set(b[c],a.get(b[c]));else for(b in a)this.set(b,a[b])};g.forEach=function(a,b){for(var c=this.getKeys(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};g.clone=function(){return new Ub(this)};g.transpose=function(){for(var a=new Ub,b=0;b<this.keys_.length;b++){var c=this.keys_[b];a.set(this.map_[c],c)}return a};function Wb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var Zb=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function $b(a,b){if(a){a=a.split("\x26");for(var c=0;c<a.length;c++){var d=a[c].indexOf("\x3d"),e=null;if(0<=d){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?decodeURIComponent(e.replace(/\+/g," ")):"")}}};function ac(a,b){this.count_=this.xb=null;this.Hc=a||null;this.Yh=!!b}function cc(a){a.xb||(a.xb=new Ub,a.count_=0,a.Hc&&$b(a.Hc,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))}g=ac.prototype;g.getCount=function(){cc(this);return this.count_};g.add=function(a,b){cc(this);this.Hc=null;a=dc(this,a);var c=this.xb.get(a);c||this.xb.set(a,c=[]);c.push(b);this.count_+=1;return this};
g.remove=function(a){cc(this);a=dc(this,a);return this.xb.containsKey(a)?(this.Hc=null,this.count_-=this.xb.get(a).length,this.xb.remove(a)):!1};g.clear=function(){this.xb=this.Hc=null;this.count_=0};g.isEmpty=function(){cc(this);return 0==this.count_};g.containsKey=function(a){cc(this);a=dc(this,a);return this.xb.containsKey(a)};g.ze=function(a){var b=this.getValues();return 0<=Na(b,a)};g.forEach=function(a,b){cc(this);this.xb.forEach(function(c,d){Pa(c,function(e){a.call(b,e,d,this)},this)},this)};
g.getKeys=function(){cc(this);for(var a=this.xb.getValues(),b=this.xb.getKeys(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};g.getValues=function(a){cc(this);var b=[];if("string"===typeof a)this.containsKey(a)&&(b=Xa(b,this.xb.get(dc(this,a))));else{a=this.xb.getValues();for(var c=0;c<a.length;c++)b=Xa(b,a[c])}return b};
g.set=function(a,b){cc(this);this.Hc=null;a=dc(this,a);this.containsKey(a)&&(this.count_-=this.xb.get(a).length);this.xb.set(a,[b]);this.count_+=1;return this};g.get=function(a,b){if(!a)return b;a=this.getValues(a);return 0<a.length?String(a[0]):b};
g.toString=function(){if(this.Hc)return this.Hc;if(!this.xb)return"";for(var a=[],b=this.xb.getKeys(),c=0;c<b.length;c++){var d=b[c],e=encodeURIComponent(String(d));d=this.getValues(d);for(var f=0;f<d.length;f++){var h=e;""!==d[f]&&(h+="\x3d"+encodeURIComponent(String(d[f])));a.push(h)}}return this.Hc=a.join("\x26")};g.clone=function(){var a=new ac;a.Hc=this.Hc;this.xb&&(a.xb=this.xb.clone(),a.count_=this.count_);return a};function dc(a,b){b=String(b);a.Yh&&(b=b.toLowerCase());return b}
g.extend=function(a){for(var b=0;b<arguments.length;b++)Sb(arguments[b],function(c,d){this.add(d,c)},this)};function ec(a,b){null!=a&&this.append.apply(this,arguments)}g=ec.prototype;g.Ad="";g.set=function(a){this.Ad=""+a};g.append=function(a,b,c){this.Ad+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.Ad+=arguments[d];return this};g.clear=function(){this.Ad=""};g.getLength=function(){return this.Ad.length};g.toString=function(){return this.Ad};var gc={},hc={},ic,l={},jc=null,kc=null,lc=!0,mc=!0,nc=null,oc=null;function pc(){return new p(null,5,[qc,!0,rc,mc,sc,!1,tc,!1,uc,nc],null)}function vc(){lc=!1;kc=function(){return console.log.apply(console,Za(arguments))}}function r(a){return null!=a&&!1!==a}function wc(a){return null==a}function xc(a){return a instanceof Array}function yc(a){return"number"===typeof a}function zc(a){return null==a?!0:!1===a?!0:!1}function Ac(a){return null!=a}
function Bc(a,b){return a[oa(null==b?null:b)]?!0:a._?!0:!1}function Cc(a){return null==a?null:a.constructor}function Dc(a,b){var c=Cc(b);c=r(r(c)?c.Fb:c)?c.yb:oa(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function Ec(a){var b=a.yb;return r(b)?b:t.ba(a)}
var Fc="undefined"!==typeof Symbol&&"function"===oa(Symbol)?Symbol.iterator:"@@iterator",Gc={_RBRACE_:"}",_COLON_:":",_BANG_:"!",_QMARK_:"?",_BSLASH_:"\\\\",_SLASH_:"/",_PERCENT_:"%",_PLUS_:"+",_SHARP_:"#",_LBRACE_:"{",_BAR_:"|",_LBRACK_:"[",_EQ_:"\x3d",_:"-",_TILDE_:"~",_RBRACK_:"]",_GT_:"\x3e",_SINGLEQUOTE_:"'",_CIRCA_:"@",_AMPERSAND_:"\x26",_DOUBLEQUOTE_:'\\"',_CARET_:"^",_LT_:"\x3c",_STAR_:"*"},Hc=null;
function Ic(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function Jc(a){function b(d,e){d.push(e);return d}var c=[];return v.ca?v.ca(b,c,a):v.call(null,b,c,a)}function Kc(a){return"symbol"===oa(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function Lc(){}function Mc(){}function Nc(){}
function Oc(a){if(null!=a&&null!=a.xa)a=a.xa(a);else{var b=Oc[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=Oc._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("ICounted.-count",a);}return a}function Pc(){}function Qc(a){if(null!=a&&null!=a.Xa)a=a.Xa(a);else{var b=Qc[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=Qc._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("IEmptyableCollection.-empty",a);}return a}function Rc(){}
function Sc(a,b){if(null!=a&&null!=a.za)a=a.za(a,b);else{var c=Sc[oa(null==a?null:a)];if(null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else if(c=Sc._,null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else throw Dc("ICollection.-conj",a);}return a}function Tc(){}
var Uc=function(){function a(d,e,f){var h=x[oa(null==d?null:d)];if(null!=h)return h.ca?h.ca(d,e,f):h.call(null,d,e,f);h=x._;if(null!=h)return h.ca?h.ca(d,e,f):h.call(null,d,e,f);throw Dc("IIndexed.-nth",d);}function b(d,e){var f=x[oa(null==d?null:d)];if(null!=f)return f.aa?f.aa(d,e):f.call(null,d,e);f=x._;if(null!=f)return f.aa?f.aa(d,e):f.call(null,d,e);throw Dc("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,
f)}throw Error("Invalid arity: "+arguments.length);};c.aa=b;c.ca=a;return c}(),x=function x(a){switch(arguments.length){case 2:return x.aa(arguments[0],arguments[1]);case 3:return x.ca(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.ba(arguments.length)].join(""));}};x.aa=function(a,b){return null!=a&&null!=a.La?a.La(a,b):Uc(a,b)};x.ca=function(a,b,c){return null!=a&&null!=a.fb?a.fb(a,b,c):Uc(a,b,c)};x.ma=3;function Vc(){}
function Wc(a){if(null!=a&&null!=a.ib)a=a.ib(a);else{var b=Wc[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=Wc._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("ISeq.-first",a);}return a}function Xc(a){if(null!=a&&null!=a.pb)a=a.pb(a);else{var b=Xc[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=Xc._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("ISeq.-rest",a);}return a}function Yc(){}
function Zc(a){if(null!=a&&null!=a.$a)a=a.$a(a);else{var b=Zc[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=Zc._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("INext.-next",a);}return a}function ad(){}
var cd=function(){function a(d,e,f){var h=bd[oa(null==d?null:d)];if(null!=h)return h.ca?h.ca(d,e,f):h.call(null,d,e,f);h=bd._;if(null!=h)return h.ca?h.ca(d,e,f):h.call(null,d,e,f);throw Dc("ILookup.-lookup",d);}function b(d,e){var f=bd[oa(null==d?null:d)];if(null!=f)return f.aa?f.aa(d,e):f.call(null,d,e);f=bd._;if(null!=f)return f.aa?f.aa(d,e):f.call(null,d,e);throw Dc("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,
d,e,f)}throw Error("Invalid arity: "+arguments.length);};c.aa=b;c.ca=a;return c}(),bd=function bd(a){switch(arguments.length){case 2:return bd.aa(arguments[0],arguments[1]);case 3:return bd.ca(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.ba(arguments.length)].join(""));}};bd.aa=function(a,b){return null!=a&&null!=a.Aa?a.Aa(a,b):cd(a,b)};bd.ca=function(a,b,c){return null!=a&&null!=a.la?a.la(a,b,c):cd(a,b,c)};bd.ma=3;
function dd(a,b,c){if(null!=a&&null!=a.ra)a=a.ra(a,b,c);else{var d=dd[oa(null==a?null:a)];if(null!=d)a=d.ca?d.ca(a,b,c):d.call(null,a,b,c);else if(d=dd._,null!=d)a=d.ca?d.ca(a,b,c):d.call(null,a,b,c);else throw Dc("IAssociative.-assoc",a);}return a}function ed(a,b){if(null!=a&&null!=a.ld)a=a.ld(a,b);else{var c=ed[oa(null==a?null:a)];if(null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else if(c=ed._,null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else throw Dc("IFind.-find",a);}return a}function fd(){}
function gd(a,b){if(null!=a&&null!=a.Ka)a=a.Ka(a,b);else{var c=gd[oa(null==a?null:a)];if(null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else if(c=gd._,null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else throw Dc("IMap.-dissoc",a);}return a}function hd(a){if(null!=a&&null!=a.Ef)a=a.key;else{var b=hd[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=hd._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("IMapEntry.-key",a);}return a}
function id(a){if(null!=a&&null!=a.Ff)a=a.val;else{var b=id[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=id._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("IMapEntry.-val",a);}return a}function jd(){}function kd(a,b){if(null!=a&&null!=a.If)a=a.If(a,b);else{var c=kd[oa(null==a?null:a)];if(null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else if(c=kd._,null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else throw Dc("ISet.-disjoin",a);}return a}
function ld(a){if(null!=a&&null!=a.md)a=a.md(a);else{var b=ld[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=ld._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("IStack.-peek",a);}return a}function md(a){if(null!=a&&null!=a.nd)a=a.nd(a);else{var b=md[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=md._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("IStack.-pop",a);}return a}function nd(){}
function od(a,b,c){if(null!=a&&null!=a.Qc)a=a.Qc(a,b,c);else{var d=od[oa(null==a?null:a)];if(null!=d)a=d.ca?d.ca(a,b,c):d.call(null,a,b,c);else if(d=od._,null!=d)a=d.ca?d.ca(a,b,c):d.call(null,a,b,c);else throw Dc("IVector.-assoc-n",a);}return a}function pd(){}function y(a){if(null!=a&&null!=a.tb)a=a.tb(a);else{var b=y[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=y._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("IDeref.-deref",a);}return a}function qd(){}
function rd(a){if(null!=a&&null!=a.sa)a=a.sa(a);else{var b=rd[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=rd._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("IMeta.-meta",a);}return a}function sd(a,b){if(null!=a&&null!=a.ta)a=a.ta(a,b);else{var c=sd[oa(null==a?null:a)];if(null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else if(c=sd._,null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else throw Dc("IWithMeta.-with-meta",a);}return a}function td(){}
var vd=function(){function a(d,e,f){var h=ud[oa(null==d?null:d)];if(null!=h)return h.ca?h.ca(d,e,f):h.call(null,d,e,f);h=ud._;if(null!=h)return h.ca?h.ca(d,e,f):h.call(null,d,e,f);throw Dc("IReduce.-reduce",d);}function b(d,e){var f=ud[oa(null==d?null:d)];if(null!=f)return f.aa?f.aa(d,e):f.call(null,d,e);f=ud._;if(null!=f)return f.aa?f.aa(d,e):f.call(null,d,e);throw Dc("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,
d,e,f)}throw Error("Invalid arity: "+arguments.length);};c.aa=b;c.ca=a;return c}(),ud=function ud(a){switch(arguments.length){case 2:return ud.aa(arguments[0],arguments[1]);case 3:return ud.ca(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.ba(arguments.length)].join(""));}};ud.aa=function(a,b){return null!=a&&null!=a.gb?a.gb(a,b):vd(a,b)};ud.ca=function(a,b,c){return null!=a&&null!=a.hb?a.hb(a,b,c):vd(a,b,c)};ud.ma=3;function wd(){}
function xd(a,b,c){if(null!=a&&null!=a.Ja)a=a.Ja(a,b,c);else{var d=xd[oa(null==a?null:a)];if(null!=d)a=d.ca?d.ca(a,b,c):d.call(null,a,b,c);else if(d=xd._,null!=d)a=d.ca?d.ca(a,b,c):d.call(null,a,b,c);else throw Dc("IKVReduce.-kv-reduce",a);}return a}function yd(a,b){if(null!=a&&null!=a.qa)a=a.qa(a,b);else{var c=yd[oa(null==a?null:a)];if(null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else if(c=yd._,null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else throw Dc("IEquiv.-equiv",a);}return a}
function zd(a){if(null!=a&&null!=a.wa)a=a.wa(a);else{var b=zd[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=zd._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("IHash.-hash",a);}return a}function Ad(){}function Bd(a){if(null!=a&&null!=a.va)a=a.va(a);else{var b=Bd[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=Bd._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("ISeqable.-seq",a);}return a}function Cd(){}function Dd(){}function Hd(){}
function Id(){}function Jd(a){if(null!=a&&null!=a.Dc)a=a.Dc(a);else{var b=Jd[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=Jd._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("IReversible.-rseq",a);}return a}function Kd(a,b){if(null!=a&&null!=a.Dd)a=a.Dd(a,b);else{var c=Kd[oa(null==a?null:a)];if(null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else if(c=Kd._,null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else throw Dc("IWriter.-write",a);}return a}
function Ld(a){if(null!=a&&null!=a.$c)a=a.$c(a);else{var b=Ld[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=Ld._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("IWriter.-flush",a);}return a}function Md(){}function Nd(a,b,c){if(null!=a&&null!=a.ua)a=a.ua(a,b,c);else{var d=Nd[oa(null==a?null:a)];if(null!=d)a=d.ca?d.ca(a,b,c):d.call(null,a,b,c);else if(d=Nd._,null!=d)a=d.ca?d.ca(a,b,c):d.call(null,a,b,c);else throw Dc("IPrintWithWriter.-pr-writer",a);}return a}
function Od(){}function Pd(a){if(null!=a&&null!=a.Xe)a=a.Xe(a);else{var b=Pd[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=Pd._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("IPending.-realized?",a);}return a}function Qd(a,b,c){if(null!=a&&null!=a.Ye)a.Ye(a,b,c);else{var d=Qd[oa(null==a?null:a)];if(null!=d)d.ca?d.ca(a,b,c):d.call(null,a,b,c);else if(d=Qd._,null!=d)d.ca?d.ca(a,b,c):d.call(null,a,b,c);else throw Dc("IWatchable.-add-watch",a);}}
function Rd(a,b){if(null!=a&&null!=a.Ze)a.Ze(a,b);else{var c=Rd[oa(null==a?null:a)];if(null!=c)c.aa?c.aa(a,b):c.call(null,a,b);else if(c=Rd._,null!=c)c.aa?c.aa(a,b):c.call(null,a,b);else throw Dc("IWatchable.-remove-watch",a);}}function Sd(a){if(null!=a&&null!=a.Bd)a=a.Bd(a);else{var b=Sd[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=Sd._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("IEditableCollection.-as-transient",a);}return a}
function Td(a,b){if(null!=a&&null!=a.Cd)a=a.Cd(a,b);else{var c=Td[oa(null==a?null:a)];if(null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else if(c=Td._,null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else throw Dc("ITransientCollection.-conj!",a);}return a}function Ud(a){if(null!=a&&null!=a.Md)a=a.Md(a);else{var b=Ud[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=Ud._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("ITransientCollection.-persistent!",a);}return a}
function Wd(a,b,c){if(null!=a&&null!=a.Zd)a=a.Zd(a,b,c);else{var d=Wd[oa(null==a?null:a)];if(null!=d)a=d.ca?d.ca(a,b,c):d.call(null,a,b,c);else if(d=Wd._,null!=d)a=d.ca?d.ca(a,b,c):d.call(null,a,b,c);else throw Dc("ITransientAssociative.-assoc!",a);}return a}function Xd(a,b){if(null!=a&&null!=a.Nf)a=a.Nf(a,b);else{var c=Xd[oa(null==a?null:a)];if(null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else if(c=Xd._,null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else throw Dc("ITransientMap.-dissoc!",a);}return a}
function Yd(){}function Zd(a,b){if(null!=a&&null!=a.Zc)a=a.Zc(a,b);else{var c=Zd[oa(null==a?null:a)];if(null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else if(c=Zd._,null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else throw Dc("IComparable.-compare",a);}return a}function $d(a){if(null!=a&&null!=a.le)a=a.le(a);else{var b=$d[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=$d._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("IChunk.-drop-first",a);}return a}
function ae(a){if(null!=a&&null!=a.ne)a=a.ne(a);else{var b=ae[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=ae._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("IChunkedSeq.-chunked-first",a);}return a}function be(a){if(null!=a&&null!=a.Ld)a=a.Ld(a);else{var b=be[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=be._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("IChunkedSeq.-chunked-rest",a);}return a}
function ce(a){if(null!=a&&null!=a.qe)a=a.qe(a);else{var b=ce[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=ce._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("INamed.-name",a);}return a}function de(a){if(null!=a&&null!=a.se)a=a.se(a);else{var b=de[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=de._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("INamed.-namespace",a);}return a}
function ee(a,b){if(null!=a&&null!=a.Pc)a=a.Pc(a,b);else{var c=ee[oa(null==a?null:a)];if(null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else if(c=ee._,null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else throw Dc("IReset.-reset!",a);}return a}
var ge=function(){function a(f,h,k,m,n){var q=fe[oa(null==f?null:f)];if(null!=q)return q.ya?q.ya(f,h,k,m,n):q.call(null,f,h,k,m,n);q=fe._;if(null!=q)return q.ya?q.ya(f,h,k,m,n):q.call(null,f,h,k,m,n);throw Dc("ISwap.-swap!",f);}function b(f,h,k,m){var n=fe[oa(null==f?null:f)];if(null!=n)return n.ka?n.ka(f,h,k,m):n.call(null,f,h,k,m);n=fe._;if(null!=n)return n.ka?n.ka(f,h,k,m):n.call(null,f,h,k,m);throw Dc("ISwap.-swap!",f);}function c(f,h,k){var m=fe[oa(null==f?null:f)];if(null!=m)return m.ca?m.ca(f,
h,k):m.call(null,f,h,k);m=fe._;if(null!=m)return m.ca?m.ca(f,h,k):m.call(null,f,h,k);throw Dc("ISwap.-swap!",f);}function d(f,h){var k=fe[oa(null==f?null:f)];if(null!=k)return k.aa?k.aa(f,h):k.call(null,f,h);k=fe._;if(null!=k)return k.aa?k.aa(f,h):k.call(null,f,h);throw Dc("ISwap.-swap!",f);}var e=null;e=function(f,h,k,m,n){switch(arguments.length){case 2:return d.call(this,f,h);case 3:return c.call(this,f,h,k);case 4:return b.call(this,f,h,k,m);case 5:return a.call(this,f,h,k,m,n)}throw Error("Invalid arity: "+
arguments.length);};e.aa=d;e.ca=c;e.ka=b;e.ya=a;return e}(),fe=function fe(a){switch(arguments.length){case 2:return fe.aa(arguments[0],arguments[1]);case 3:return fe.ca(arguments[0],arguments[1],arguments[2]);case 4:return fe.ka(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return fe.ya(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",t.ba(arguments.length)].join(""));}};
fe.aa=function(a,b){return null!=a&&null!=a.Jf?a.Jf(a,b):ge(a,b)};fe.ca=function(a,b,c){return null!=a&&null!=a.Kf?a.Kf(a,b,c):ge(a,b,c)};fe.ka=function(a,b,c,d){return null!=a&&null!=a.Lf?a.Lf(a,b,c,d):ge(a,b,c,d)};fe.ya=function(a,b,c,d,e){return null!=a&&null!=a.Mf?a.Mf(a,b,c,d,e):ge(a,b,c,d,e)};fe.ma=5;
function he(a,b){if(null!=a&&null!=a.Rc)a=a.Rc(a,b);else{var c=he[oa(null==a?null:a)];if(null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else if(c=he._,null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else throw Dc("IVolatile.-vreset!",a);}return a}function ie(){}function je(a){if(null!=a&&null!=a.Ca)a=a.Ca(a);else{var b=je[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=je._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("IIterable.-iterator",a);}return a}
function ke(a){this.Ti=a;this.ha=1073741824;this.na=0}ke.prototype.Dd=function(a,b){return this.Ti.append(b)};ke.prototype.$c=function(){return null};function le(a){var b=new ec,c=new ke(b);a.ua(null,c,pc());c.$c(null);return t.ba(b)}var me="undefined"!==typeof Math&&"undefined"!==typeof Math.imul&&0!==Math.imul(4294967295,5)?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};
function ne(a){a=me(a|0,-862048943);return me(a<<15|a>>>-15,461845907)}function oe(a,b){a=(a|0)^(b|0);return me(a<<13|a>>>-13,5)+-430675100|0}function pe(a,b){a=(a|0)^b;a=me(a^a>>>16,-2048144789);a=me(a^a>>>13,-1028477387);return a^a>>>16}var qe={},re=0;
function se(a){255<re&&(qe={},re=0);if(null==a)return 0;var b=qe[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=me(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;qe[a]=b;re+=1;a=b}return a}
function te(a){if(null!=a&&(a.ha&4194304||l===a.Eh))return a.wa(null)^0;if("number"===typeof a){if(r(isFinite(a)))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=se(a),a=0===a?a:pe(oe(0,ne(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:zd(a)^0,a}function ue(a){return a instanceof A}
function ve(a){var b=a.name;a:{var c=1;for(var d=0;;)if(c<b.length)d=oe(d,ne(b.charCodeAt(c-1)|b.charCodeAt(c)<<16)),c+=2;else{c=d;break a}}b=pe(1===(b.length&1)?c^ne(b.charCodeAt(b.length-1)):c,me(2,b.length));a=se(a.$b);return b^a+2654435769+(b<<6)+(b>>2)}function we(a,b){if(a.hd===b.hd)return 0;if(r(zc(a.$b)?b.$b:!1))return-1;if(r(a.$b)){if(zc(b.$b))return 1;var c=ab(a.$b,b.$b);return 0===c?ab(a.name,b.name):c}return ab(a.name,b.name)}
function A(a,b,c,d,e){this.$b=a;this.name=b;this.hd=c;this._hash=d;this.Ac=e;this.ha=2154168321;this.na=4096}g=A.prototype;g.toString=function(){return this.hd};g.equiv=function(a){return this.qa(null,a)};g.qa=function(a,b){return b instanceof A?this.hd===b.hd:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.ba(arguments[1]);case 2:return this.aa(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.ba(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Ic(b)))};g.ba=function(a){return B.aa?B.aa(a,this):B.call(null,a,this)};g.aa=function(a,b){return B.ca?B.ca(a,this,b):B.call(null,a,this,b)};g.sa=function(){return this.Ac};g.ta=function(a,b){return new A(this.$b,this.name,this.hd,this._hash,b)};g.wa=function(){var a=this._hash;return null!=a?a:this._hash=a=ve(this)};g.qe=function(){return this.name};g.se=function(){return this.$b};g.ua=function(a,b){return Kd(b,this.hd)};
var xe=function xe(a){switch(arguments.length){case 1:return xe.ba(arguments[0]);case 2:return xe.aa(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.ba(arguments.length)].join(""));}};xe.ba=function(a){for(;;){if(a instanceof A)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?xe.aa(null,a):xe.aa(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof Ae)return a.Vd;if(a instanceof C)a=a.Ba;else throw Error("no conversion to symbol");}};
xe.aa=function(a,b){var c=null!=a?[t.ba(a),"/",t.ba(b)].join(""):b;return new A(a,b,c,null,null)};xe.ma=2;function Ae(a,b,c){this.val=a;this.Vd=b;this.Ac=c;this.ha=6717441;this.na=0}g=Ae.prototype;g.toString=function(){return["#'",t.ba(this.Vd)].join("")};g.tb=function(){return this.val.ja?this.val.ja():this.val.call(null)};g.sa=function(){return this.Ac};g.ta=function(a,b){return new Ae(this.val,this.Vd,b)};
g.qa=function(a,b){return b instanceof Ae?(a=this.Vd,b=b.Vd,D.aa?D.aa(a,b):D.call(null,a,b)):!1};g.wa=function(){return ve(this.Vd)};g.Fg=l;
g.call=function(a){switch(arguments.length-1){case 0:return this.ja();case 1:return this.ba(arguments[1]);case 2:return this.aa(arguments[1],arguments[2]);case 3:return this.ca(arguments[1],arguments[2],arguments[3]);case 4:return this.ka(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.ya(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.eb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Vb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Eb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Wb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Kb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Lb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Mb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Nb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ob(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Pb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Qb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Rb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Sb(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Tb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Ub(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.oe(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",t.ba(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ic(b)))};g.ja=function(){var a=this.val.ja?this.val.ja():this.val.call(null);return a.ja?a.ja():a.call(null)};g.ba=function(a){var b=this.val.ja?this.val.ja():this.val.call(null);return b.ba?b.ba(a):b.call(null,a)};
g.aa=function(a,b){var c=this.val.ja?this.val.ja():this.val.call(null);return c.aa?c.aa(a,b):c.call(null,a,b)};g.ca=function(a,b,c){var d=this.val.ja?this.val.ja():this.val.call(null);return d.ca?d.ca(a,b,c):d.call(null,a,b,c)};g.ka=function(a,b,c,d){var e=this.val.ja?this.val.ja():this.val.call(null);return e.ka?e.ka(a,b,c,d):e.call(null,a,b,c,d)};g.ya=function(a,b,c,d,e){var f=this.val.ja?this.val.ja():this.val.call(null);return f.ya?f.ya(a,b,c,d,e):f.call(null,a,b,c,d,e)};
g.eb=function(a,b,c,d,e,f){var h=this.val.ja?this.val.ja():this.val.call(null);return h.eb?h.eb(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f)};g.Vb=function(a,b,c,d,e,f,h){var k=this.val.ja?this.val.ja():this.val.call(null);return k.Vb?k.Vb(a,b,c,d,e,f,h):k.call(null,a,b,c,d,e,f,h)};g.Eb=function(a,b,c,d,e,f,h,k){var m=this.val.ja?this.val.ja():this.val.call(null);return m.Eb?m.Eb(a,b,c,d,e,f,h,k):m.call(null,a,b,c,d,e,f,h,k)};
g.Wb=function(a,b,c,d,e,f,h,k,m){var n=this.val.ja?this.val.ja():this.val.call(null);return n.Wb?n.Wb(a,b,c,d,e,f,h,k,m):n.call(null,a,b,c,d,e,f,h,k,m)};g.Kb=function(a,b,c,d,e,f,h,k,m,n){var q=this.val.ja?this.val.ja():this.val.call(null);return q.Kb?q.Kb(a,b,c,d,e,f,h,k,m,n):q.call(null,a,b,c,d,e,f,h,k,m,n)};g.Lb=function(a,b,c,d,e,f,h,k,m,n,q){var u=this.val.ja?this.val.ja():this.val.call(null);return u.Lb?u.Lb(a,b,c,d,e,f,h,k,m,n,q):u.call(null,a,b,c,d,e,f,h,k,m,n,q)};
g.Mb=function(a,b,c,d,e,f,h,k,m,n,q,u){var w=this.val.ja?this.val.ja():this.val.call(null);return w.Mb?w.Mb(a,b,c,d,e,f,h,k,m,n,q,u):w.call(null,a,b,c,d,e,f,h,k,m,n,q,u)};g.Nb=function(a,b,c,d,e,f,h,k,m,n,q,u,w){var z=this.val.ja?this.val.ja():this.val.call(null);return z.Nb?z.Nb(a,b,c,d,e,f,h,k,m,n,q,u,w):z.call(null,a,b,c,d,e,f,h,k,m,n,q,u,w)};
g.Ob=function(a,b,c,d,e,f,h,k,m,n,q,u,w,z){var F=this.val.ja?this.val.ja():this.val.call(null);return F.Ob?F.Ob(a,b,c,d,e,f,h,k,m,n,q,u,w,z):F.call(null,a,b,c,d,e,f,h,k,m,n,q,u,w,z)};g.Pb=function(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F){var H=this.val.ja?this.val.ja():this.val.call(null);return H.Pb?H.Pb(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F):H.call(null,a,b,c,d,e,f,h,k,m,n,q,u,w,z,F)};
g.Qb=function(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H){var G=this.val.ja?this.val.ja():this.val.call(null);return G.Qb?G.Qb(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H):G.call(null,a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H)};g.Rb=function(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G){var N=this.val.ja?this.val.ja():this.val.call(null);return N.Rb?N.Rb(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G):N.call(null,a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G)};
g.Sb=function(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N){var O=this.val.ja?this.val.ja():this.val.call(null);return O.Sb?O.Sb(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N):O.call(null,a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N)};g.Tb=function(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N,O){var U=this.val.ja?this.val.ja():this.val.call(null);return U.Tb?U.Tb(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N,O):U.call(null,a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N,O)};
g.Ub=function(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N,O,U){var ea=this.val.ja?this.val.ja():this.val.call(null);return ea.Ub?ea.Ub(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N,O,U):ea.call(null,a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N,O,U)};g.oe=function(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N,O,U,ea){var va=this.val.ja?this.val.ja():this.val.call(null);return Be.Df?Be.Df(va,a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N,O,U,ea):Be.call(null,va,a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N,O,U,ea)};
function Ce(a){return null!=a?a.na&131072||l===a.aj?!0:a.na?!1:Bc(ie,a):Bc(ie,a)}function E(a){if(null==a)return null;if(null!=a&&(a.ha&8388608||l===a.Hf))return a.va(null);if(xc(a)||"string"===typeof a)return 0===a.length?null:new I(a,0,null);if(null!=a&&null!=a[Fc])return a=jb(a,Fc).call(a),De.ba?De.ba(a):De.call(null,a);if(Bc(Ad,a))return Bd(a);throw Error([t.ba(a)," is not ISeqable"].join(""));}
function J(a){if(null==a)return null;if(null!=a&&(a.ha&64||l===a.Ea))return a.ib(null);a=E(a);return null==a?null:Wc(a)}function Ee(a){return null!=a?null!=a&&(a.ha&64||l===a.Ea)?a.pb(null):(a=E(a))?a.pb(null):Fe:Fe}function K(a){return null==a?null:null!=a&&(a.ha&128||l===a.te)?a.$a(null):E(Ee(a))}
var D=function D(a){switch(arguments.length){case 1:return D.ba(arguments[0]);case 2:return D.aa(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return D.ea(arguments[0],arguments[1],c)}};D.ba=function(){return!0};D.aa=function(a,b){return null==a?null==b:a===b||yd(a,b)};D.ea=function(a,b,c){for(;;)if(D.aa(a,b))if(K(c))a=b,b=J(c),c=K(c);else return D.aa(b,J(c));else return!1};
D.pa=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.ea(b,a,c)};D.ma=2;function Ge(a){this.s=a}Ge.prototype.next=function(){if(null!=this.s){var a=J(this.s);this.s=K(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function He(a){return new Ge(E(a))}function Ie(a,b){this.value=a;this.iter=b;this.yf=null;this.ha=8388672;this.na=0}Ie.prototype.va=function(){return this};Ie.prototype.ib=function(){return this.value};
Ie.prototype.pb=function(){null==this.yf&&(this.yf=De.ba?De.ba(this.iter):De.call(null,this.iter));return this.yf};function De(a){var b=a.next();return r(b.done)?null:new Ie(b.value,a)}function Je(a){var b=0,c=1;for(a=E(a);;)if(null!=a)b+=1,c=me(31,c)+te(J(a))|0,a=K(a);else return pe(oe(0,ne(c)),b)}var Ke=pe(oe(0,ne(1)),0);function Le(a){var b=0,c=0;for(a=E(a);;)if(null!=a)b+=1,c=c+te(J(a))|0,a=K(a);else return pe(oe(0,ne(c)),b)}var Me=pe(oe(0,ne(0)),0);Nc["null"]=!0;Oc["null"]=function(){return 0};
Date.prototype.qa=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};Date.prototype.kd=l;Date.prototype.Zc=function(a,b){if(b instanceof Date)return ab(this.valueOf(),b.valueOf());throw Error(["Cannot compare ",t.ba(this)," to ",t.ba(b)].join(""));};yd.number=function(a,b){return a===b};Lc["function"]=!0;qd["function"]=!0;rd["function"]=function(){return null};zd._=function(a){return wa(a)};function Ne(a){return a+1}function Oe(a){this.val=a;this.ha=32768;this.na=0}
Oe.prototype.tb=function(){return this.val};function Pe(a){return new Oe(a)}function Qe(a){return a instanceof Oe}function Re(a){return Qe(a)?Se.ba?Se.ba(a):Se.call(null,a):a}function Se(a){return y(a)}function Te(a,b){var c=a.xa(null);if(0===c)return b.ja?b.ja():b.call(null);for(var d=a.La(null,0),e=1;;)if(e<c){var f=a.La(null,e);d=b.aa?b.aa(d,f):b.call(null,d,f);if(Qe(d))return y(d);e+=1}else return d}
function Ue(a,b,c){var d=a.xa(null),e=c;for(c=0;;)if(c<d){var f=a.La(null,c);e=b.aa?b.aa(e,f):b.call(null,e,f);if(Qe(e))return y(e);c+=1}else return e}function Ve(a,b){var c=a.length;if(0===a.length)return b.ja?b.ja():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.aa?b.aa(d,f):b.call(null,d,f);if(Qe(d))return y(d);e+=1}else return d}function We(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.aa?b.aa(e,f):b.call(null,e,f);if(Qe(e))return y(e);c+=1}else return e}
function Xe(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.aa?b.aa(c,f):b.call(null,c,f);if(Qe(c))return y(c);d+=1}else return c}function Ye(a){return null!=a?a.ha&2||l===a.Gg?!0:a.ha?!1:Bc(Nc,a):Bc(Nc,a)}function Ze(a){return null!=a?a.ha&16||l===a.Kg?!0:a.ha?!1:Bc(Tc,a):Bc(Tc,a)}function $e(a,b,c){var d=M.ba?M.ba(a):M.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(D.aa(af?af(a,c):bf.call(null,a,c),b))return c;c+=1}else return-1}
function cf(a,b,c){var d=M.ba?M.ba(a):M.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(D.aa(af?af(a,c):bf.call(null,a,c),b))return c;--c}else return-1}function df(a,b){this.ia=a;this.i=b}df.prototype.mb=function(){return this.i<this.ia.length};df.prototype.next=function(){var a=this.ia[this.i];this.i+=1;return a};function I(a,b,c){this.ia=a;this.i=b;this.meta=c;this.ha=166592766;this.na=139264}g=I.prototype;g.toString=function(){return le(this)};
g.equiv=function(a){return this.qa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return $e(this,b,0);case 2:return $e(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.ba=function(b){return $e(this,b,0)};a.aa=function(b,c){return $e(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return cf(this,c,M.ba?M.ba(this):M.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return cf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.ba=a;b.aa=function(c,d){return cf(this,c,d)};return b}();g.La=function(a,b){a=b+this.i;if(0<=a&&a<this.ia.length)return this.ia[a];throw Error("Index out of bounds");};g.fb=function(a,b,c){a=b+this.i;return 0<=a&&a<this.ia.length?this.ia[a]:c};
g.Ca=function(){return new df(this.ia,this.i)};g.sa=function(){return this.meta};g.$a=function(){return this.i+1<this.ia.length?new I(this.ia,this.i+1,null):null};g.xa=function(){var a=this.ia.length-this.i;return 0>a?0:a};g.Dc=function(){var a=this.xa(null);return 0<a?new ef(this,a-1,null):null};g.wa=function(){return Je(this)};g.qa=function(a,b){return ff.aa?ff.aa(this,b):ff.call(null,this,b)};g.Xa=function(){return Fe};g.gb=function(a,b){return Xe(this.ia,b,this.ia[this.i],this.i+1)};
g.hb=function(a,b,c){return Xe(this.ia,b,c,this.i)};g.ib=function(){return this.ia[this.i]};g.pb=function(){return this.i+1<this.ia.length?new I(this.ia,this.i+1,null):Fe};g.va=function(){return this.i<this.ia.length?this:null};g.ta=function(a,b){return b===this.meta?this:new I(this.ia,this.i,b)};g.za=function(a,b){return gf.aa?gf.aa(b,this):gf.call(null,b,this)};I.prototype[Fc]=function(){return He(this)};function P(a){return 0<a.length?new I(a,0,null):null}
function ef(a,b,c){this.ci=a;this.i=b;this.meta=c;this.ha=32374990;this.na=8192}g=ef.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.qa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return $e(this,b,0);case 2:return $e(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.ba=function(b){return $e(this,b,0)};a.aa=function(b,c){return $e(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return cf(this,c,M.ba?M.ba(this):M.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return cf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.ba=a;b.aa=function(c,d){return cf(this,c,d)};return b}();g.sa=function(){return this.meta};g.$a=function(){return 0<this.i?new ef(this.ci,this.i-1,null):null};g.xa=function(){return this.i+1};g.wa=function(){return Je(this)};
g.qa=function(a,b){return ff.aa?ff.aa(this,b):ff.call(null,this,b)};g.Xa=function(){return Fe};g.gb=function(a,b){return hf?hf(b,this):jf.call(null,b,this)};g.hb=function(a,b,c){return kf?kf(b,c,this):jf.call(null,b,c,this)};g.ib=function(){return x(this.ci,this.i)};g.pb=function(){return 0<this.i?new ef(this.ci,this.i-1,null):Fe};g.va=function(){return this};g.ta=function(a,b){return b===this.meta?this:new ef(this.ci,this.i,b)};g.za=function(a,b){return gf.aa?gf.aa(b,this):gf.call(null,b,this)};
ef.prototype[Fc]=function(){return He(this)};function lf(a){return J(K(a))}function mf(a){return J(J(a))}function nf(a){for(;;){var b=K(a);if(null!=b)a=b;else return J(a)}}yd._=function(a,b){return a===b};
var of=function of(a){switch(arguments.length){case 0:return of.ja();case 1:return of.ba(arguments[0]);case 2:return of.aa(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return of.ea(arguments[0],arguments[1],c)}};of.ja=function(){return pf};of.ba=function(a){return a};of.aa=function(a,b){return null!=a?Sc(a,b):new qf(null,b,null,1,null)};
of.ea=function(a,b,c){for(;;)if(r(c))a=of.aa(a,b),b=J(c),c=K(c);else return of.aa(a,b)};of.pa=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.ea(b,a,c)};of.ma=2;function rf(a){return null==a?null:null!=a&&(a.ha&4||l===a.Jg)?a.Xa(null):(null!=a?a.ha&4||l===a.Jg||(a.ha?0:Bc(Pc,a)):Bc(Pc,a))?Qc(a):null}
function M(a){if(null!=a)if(null!=a&&(a.ha&2||l===a.Gg))a=a.xa(null);else if(xc(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.ha&8388608||l===a.Hf))a:{a=E(a);for(var b=0;;){if(Ye(a)){a=b+Oc(a);break a}a=K(a);b+=1}}else a=Oc(a);else a=0;return a}function sf(a,b,c){for(;;){if(null==a)return c;if(0===b)return E(a)?J(a):c;if(Ze(a))return x(a,b,c);if(E(a))a=K(a),--b;else return c}}
function bf(a){switch(arguments.length){case 2:return af(arguments[0],arguments[1]);case 3:return Q(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.ba(arguments.length)].join(""));}}
function af(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.ha&16||l===a.Kg))return a.La(null,b);if(xc(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.ha&64||l===a.Ea)||null!=a&&(a.ha&16777216||l===a.Lg)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(E(a)){a=J(a);break a}throw Error("Index out of bounds");}if(Ze(a)){a=x(a,b);break a}if(E(a))a=K(a),--b;else throw Error("Index out of bounds");}return a}if(Bc(Tc,a))return x(a,b);throw Error(["nth not supported on this type ",t.ba(Ec(Cc(a)))].join(""));}
function Q(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.ha&16||l===a.Kg))return a.fb(null,b,c);if(xc(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.ha&64||l===a.Ea)||null!=a&&(a.ha&16777216||l===a.Lg))return 0>b?c:sf(a,b,c);if(Bc(Tc,a))return x(a,b,c);throw Error(["nth not supported on this type ",t.ba(Ec(Cc(a)))].join(""));}
var B=function B(a){switch(arguments.length){case 2:return B.aa(arguments[0],arguments[1]);case 3:return B.ca(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.ba(arguments.length)].join(""));}};B.aa=function(a,b){return null==a?null:null!=a&&(a.ha&256||l===a.Fh)?a.Aa(null,b):xc(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:Bc(ad,a)?bd(a,b):null};
B.ca=function(a,b,c){return null!=a?null!=a&&(a.ha&256||l===a.Fh)?a.la(null,b,c):xc(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:Bc(ad,a)?bd(a,b,c):c:c};B.ma=3;var R=function R(a){switch(arguments.length){case 3:return R.ca(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(3),0,null);return R.ea(arguments[0],arguments[1],arguments[2],c)}};
R.ca=function(a,b,c){return null!=a&&(a.ha&512||l===a.Wi)?a.ra(null,b,c):null!=a?dd(a,b,c):tf([b,c])};R.ea=function(a,b,c,d){for(;;)if(a=R.ca(a,b,c),r(d))b=J(d),c=lf(d),d=K(K(d));else return a};R.pa=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);d=K(d);return this.ea(b,a,c,d)};R.ma=3;
var S=function S(a){switch(arguments.length){case 1:return S.ba(arguments[0]);case 2:return S.aa(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return S.ea(arguments[0],arguments[1],c)}};S.ba=function(a){return a};S.aa=function(a,b){return null==a?null:gd(a,b)};S.ea=function(a,b,c){for(;;){if(null==a)return null;a=S.aa(a,b);if(r(c))b=J(c),c=K(c);else return a}};
S.pa=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.ea(b,a,c)};S.ma=2;function uf(a){var b=sa(a);return b?b:null!=a?l===a.Fg?!0:a.Ed?!1:Bc(Lc,a):Bc(Lc,a)}function vf(a,b){this.Da=a;this.meta=b;this.ha=393217;this.na=0}g=vf.prototype;g.sa=function(){return this.meta};g.ta=function(a,b){return new vf(this.Da,b)};g.Fg=l;
g.call=function(a){switch(arguments.length-1){case 0:return this.ja();case 1:return this.ba(arguments[1]);case 2:return this.aa(arguments[1],arguments[2]);case 3:return this.ca(arguments[1],arguments[2],arguments[3]);case 4:return this.ka(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.ya(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.eb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Vb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Eb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Wb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Kb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Lb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Mb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Nb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ob(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Pb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Qb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Rb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Sb(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Tb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Ub(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.oe(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",t.ba(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ic(b)))};g.ja=function(){return this.Da.ja?this.Da.ja():this.Da.call(null)};g.ba=function(a){return this.Da.ba?this.Da.ba(a):this.Da.call(null,a)};g.aa=function(a,b){return this.Da.aa?this.Da.aa(a,b):this.Da.call(null,a,b)};
g.ca=function(a,b,c){return this.Da.ca?this.Da.ca(a,b,c):this.Da.call(null,a,b,c)};g.ka=function(a,b,c,d){return this.Da.ka?this.Da.ka(a,b,c,d):this.Da.call(null,a,b,c,d)};g.ya=function(a,b,c,d,e){return this.Da.ya?this.Da.ya(a,b,c,d,e):this.Da.call(null,a,b,c,d,e)};g.eb=function(a,b,c,d,e,f){return this.Da.eb?this.Da.eb(a,b,c,d,e,f):this.Da.call(null,a,b,c,d,e,f)};g.Vb=function(a,b,c,d,e,f,h){return this.Da.Vb?this.Da.Vb(a,b,c,d,e,f,h):this.Da.call(null,a,b,c,d,e,f,h)};
g.Eb=function(a,b,c,d,e,f,h,k){return this.Da.Eb?this.Da.Eb(a,b,c,d,e,f,h,k):this.Da.call(null,a,b,c,d,e,f,h,k)};g.Wb=function(a,b,c,d,e,f,h,k,m){return this.Da.Wb?this.Da.Wb(a,b,c,d,e,f,h,k,m):this.Da.call(null,a,b,c,d,e,f,h,k,m)};g.Kb=function(a,b,c,d,e,f,h,k,m,n){return this.Da.Kb?this.Da.Kb(a,b,c,d,e,f,h,k,m,n):this.Da.call(null,a,b,c,d,e,f,h,k,m,n)};g.Lb=function(a,b,c,d,e,f,h,k,m,n,q){return this.Da.Lb?this.Da.Lb(a,b,c,d,e,f,h,k,m,n,q):this.Da.call(null,a,b,c,d,e,f,h,k,m,n,q)};
g.Mb=function(a,b,c,d,e,f,h,k,m,n,q,u){return this.Da.Mb?this.Da.Mb(a,b,c,d,e,f,h,k,m,n,q,u):this.Da.call(null,a,b,c,d,e,f,h,k,m,n,q,u)};g.Nb=function(a,b,c,d,e,f,h,k,m,n,q,u,w){return this.Da.Nb?this.Da.Nb(a,b,c,d,e,f,h,k,m,n,q,u,w):this.Da.call(null,a,b,c,d,e,f,h,k,m,n,q,u,w)};g.Ob=function(a,b,c,d,e,f,h,k,m,n,q,u,w,z){return this.Da.Ob?this.Da.Ob(a,b,c,d,e,f,h,k,m,n,q,u,w,z):this.Da.call(null,a,b,c,d,e,f,h,k,m,n,q,u,w,z)};
g.Pb=function(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F){return this.Da.Pb?this.Da.Pb(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F):this.Da.call(null,a,b,c,d,e,f,h,k,m,n,q,u,w,z,F)};g.Qb=function(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H){return this.Da.Qb?this.Da.Qb(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H):this.Da.call(null,a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H)};g.Rb=function(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G){return this.Da.Rb?this.Da.Rb(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G):this.Da.call(null,a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G)};
g.Sb=function(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N){return this.Da.Sb?this.Da.Sb(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N):this.Da.call(null,a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N)};g.Tb=function(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N,O){return this.Da.Tb?this.Da.Tb(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N,O):this.Da.call(null,a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N,O)};
g.Ub=function(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N,O,U){return this.Da.Ub?this.Da.Ub(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N,O,U):this.Da.call(null,a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N,O,U)};g.oe=function(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N,O,U,ea){return Be.Df?Be.Df(this.Da,a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N,O,U,ea):Be.call(null,this.Da,a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N,O,U,ea)};function wf(a,b){return sa(a)?new vf(a,b):null==a?null:sd(a,b)}
function xf(a){return null!=a&&(null!=a?a.ha&131072||l===a.pe||(a.ha?0:Bc(qd,a)):Bc(qd,a))?rd(a):null}var yf=function yf(a){switch(arguments.length){case 1:return yf.ba(arguments[0]);case 2:return yf.aa(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return yf.ea(arguments[0],arguments[1],c)}};yf.ba=function(a){return a};yf.aa=function(a,b){return null==a?null:kd(a,b)};
yf.ea=function(a,b,c){for(;;){if(null==a)return null;a=yf.aa(a,b);if(r(c))b=J(c),c=K(c);else return a}};yf.pa=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.ea(b,a,c)};yf.ma=2;function zf(a){return null==a||zc(E(a))}function Af(a){return null==a?!1:null!=a?a.ha&8||l===a.Yi?!0:a.ha?!1:Bc(Rc,a):Bc(Rc,a)}function Bf(a){return null==a?!1:null!=a?a.ha&4096||l===a.hj?!0:a.ha?!1:Bc(jd,a):Bc(jd,a)}function Cf(a){return null!=a?a.ha&16777216||l===a.Lg?!0:a.ha?!1:Bc(Cd,a):Bc(Cd,a)}
function Ef(a){return null==a?!1:null!=a?a.ha&1024||l===a.dj?!0:a.ha?!1:Bc(fd,a):Bc(fd,a)}function Ff(a){return null!=a?a.ha&67108864||l===a.gj?!0:a.ha?!1:Bc(Hd,a):Bc(Hd,a)}function Gf(a){return null!=a?a.ha&16384||l===a.ij?!0:a.ha?!1:Bc(nd,a):Bc(nd,a)}function Hf(a){return null!=a?a.na&512||l===a.Xi?!0:!1:!1}function If(a,b,c,d,e){for(;0!==e;)c[d]=a[b],d+=1,--e,b+=1}var Jf={};function Kf(a){return null==a?!1:null!=a?a.ha&64||l===a.Ea?!0:a.ha?!1:Bc(Vc,a):Bc(Vc,a)}
function Lf(a){return null==a?!1:!1===a?!1:!0}function Mf(a){var b=uf(a);return b?b:null!=a?a.ha&1||l===a.$i?!0:a.ha?!1:Bc(Mc,a):Bc(Mc,a)}function Nf(a){return"number"===typeof a&&!isNaN(a)&&Infinity!==a&&parseFloat(a)===parseInt(a,10)}function Of(a,b){return B.ca(a,b,Jf)===Jf?!1:!0}
var Pf=function Pf(a){switch(arguments.length){case 1:return Pf.ba(arguments[0]);case 2:return Pf.aa(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return Pf.ea(arguments[0],arguments[1],c)}};Pf.ba=function(){return!0};Pf.aa=function(a,b){return!D.aa(a,b)};Pf.ea=function(a,b,c){if(D.aa(a,b))return!1;a=Qf([a,b]);for(b=c;;){var d=J(b);c=K(b);if(r(b)){if(Of(a,d))return!1;a=of.aa(a,d);b=c}else return!0}};
Pf.pa=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.ea(b,a,c)};Pf.ma=2;function Rf(a,b){if(a===b)return 0;if(null==a)return-1;if(null==b)return 1;if("number"===typeof a){if("number"===typeof b)return ab(a,b);throw Error(["Cannot compare ",t.ba(a)," to ",t.ba(b)].join(""));}if(null!=a?a.na&2048||l===a.kd||(a.na?0:Bc(Yd,a)):Bc(Yd,a))return Zd(a,b);if("string"!==typeof a&&!xc(a)&&!0!==a&&!1!==a||Cc(a)!==Cc(b))throw Error(["Cannot compare ",t.ba(a)," to ",t.ba(b)].join(""));return ab(a,b)}
function Sf(a,b){var c=M(a),d=M(b);if(c<d)a=-1;else if(c>d)a=1;else if(0===c)a=0;else a:for(d=0;;){var e=Rf(af(a,d),af(b,d));if(0===e&&d+1<c)d+=1;else{a=e;break a}}return a}function Tf(a){return D.aa(a,Rf)?Rf:function(b,c){var d=a.aa?a.aa(b,c):a.call(null,b,c);return"number"===typeof d?d:r(d)?-1:r(a.aa?a.aa(c,b):a.call(null,c,b))?1:0}}function Uf(a,b){return E(b)?(b=Vf.ba?Vf.ba(b):Vf.call(null,b),bb(b,Tf(a)),E(b)):Fe}
function Wf(a){var b=Xf;return Uf(function(c,d){c=b.ba?b.ba(c):b.call(null,c);d=b.ba?b.ba(d):b.call(null,d);var e=Tf(Rf);return e.aa?e.aa(c,d):e.call(null,c,d)},a)}function jf(a){switch(arguments.length){case 2:return hf(arguments[0],arguments[1]);case 3:return kf(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.ba(arguments.length)].join(""));}}function hf(a,b){var c=E(b);return c?(b=J(c),c=K(c),v.ca?v.ca(a,b,c):v.call(null,a,b,c)):a.ja?a.ja():a.call(null)}
function kf(a,b,c){for(c=E(c);;)if(c){var d=J(c);b=a.aa?a.aa(b,d):a.call(null,b,d);if(Qe(b))return y(b);c=K(c)}else return b}function Yf(a){a=Vf.ba?Vf.ba(a):Vf.call(null,a);cb(a);return Zf.ba?Zf.ba(a):Zf.call(null,a)}function $f(a,b){a=je(a);if(r(a.mb()))for(var c=a.next();;)if(a.mb()){var d=a.next();c=b.aa?b.aa(c,d):b.call(null,c,d);if(Qe(c))return y(c)}else return c;else return b.ja?b.ja():b.call(null)}
function ag(a,b,c){for(a=je(a);;)if(a.mb()){var d=a.next();c=b.aa?b.aa(c,d):b.call(null,c,d);if(Qe(c))return y(c)}else return c}var v=function v(a){switch(arguments.length){case 2:return v.aa(arguments[0],arguments[1]);case 3:return v.ca(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.ba(arguments.length)].join(""));}};
v.aa=function(a,b){return null!=b&&(b.ha&524288||l===b.Gh)?b.gb(null,a):xc(b)?Ve(b,a):"string"===typeof b?Ve(b,a):Bc(td,b)?ud(b,a):Ce(b)?$f(b,a):hf(a,b)};v.ca=function(a,b,c){return null!=c&&(c.ha&524288||l===c.Gh)?c.hb(null,a,b):xc(c)?We(c,a,b):"string"===typeof c?We(c,a,b):Bc(td,c)?ud(c,a,b):Ce(c)?ag(c,a,b):kf(a,b,c)};v.ma=3;function bg(a,b,c){return null!=c?xd(c,a,b):b}function cg(a){return a}
function fg(a,b){return function(){function c(h,k){return a.aa?a.aa(h,k):a.call(null,h,k)}function d(h){return b.ba?b.ba(h):b.call(null,h)}function e(){return a.ja?a.ja():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.ja=e;f.ba=d;f.aa=c;return f}()}function gg(a,b,c){return hg(a,b,b.ja?b.ja():b.call(null),c)}
function hg(a,b,c,d){a=a.ba?a.ba(b):a.call(null,b);c=v.ca(a,c,d);return a.ba?a.ba(c):a.call(null,c)}var ig=function ig(a){switch(arguments.length){case 0:return ig.ja();case 1:return ig.ba(arguments[0]);case 2:return ig.aa(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return ig.ea(arguments[0],arguments[1],c)}};ig.ja=function(){return 0};ig.ba=function(a){return a};ig.aa=function(a,b){return a+b};
ig.ea=function(a,b,c){return v.ca(ig,a+b,c)};ig.pa=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.ea(b,a,c)};ig.ma=2;var jg=function jg(a){switch(arguments.length){case 1:return jg.ba(arguments[0]);case 2:return jg.aa(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return jg.ea(arguments[0],arguments[1],c)}};jg.ba=function(a){return-a};jg.aa=function(a,b){return a-b};
jg.ea=function(a,b,c){return v.ca(jg,a-b,c)};jg.pa=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.ea(b,a,c)};jg.ma=2;var kg=function kg(a){switch(arguments.length){case 0:return kg.ja();case 1:return kg.ba(arguments[0]);case 2:return kg.aa(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return kg.ea(arguments[0],arguments[1],c)}};kg.ja=function(){return 1};kg.ba=function(a){return a};
kg.aa=function(a,b){return a*b};kg.ea=function(a,b,c){return v.ca(kg,a*b,c)};kg.pa=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.ea(b,a,c)};kg.ma=2;var lg=function lg(a){switch(arguments.length){case 1:return lg.ba(arguments[0]);case 2:return lg.aa(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return lg.ea(arguments[0],arguments[1],c)}};lg.ba=function(a){return 1/a};
lg.aa=function(a,b){return a/b};lg.ea=function(a,b,c){return v.ca(lg,a/b,c)};lg.pa=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.ea(b,a,c)};lg.ma=2;var mg=function mg(a){switch(arguments.length){case 1:return mg.ba(arguments[0]);case 2:return mg.aa(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return mg.ea(arguments[0],arguments[1],c)}};mg.ba=function(){return!0};
mg.aa=function(a,b){return a<b};mg.ea=function(a,b,c){for(;;)if(a<b)if(K(c))a=b,b=J(c),c=K(c);else return b<J(c);else return!1};mg.pa=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.ea(b,a,c)};mg.ma=2;var ng=function ng(a){switch(arguments.length){case 1:return ng.ba(arguments[0]);case 2:return ng.aa(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return ng.ea(arguments[0],arguments[1],c)}};
ng.ba=function(){return!0};ng.aa=function(a,b){return a<=b};ng.ea=function(a,b,c){for(;;)if(a<=b)if(K(c))a=b,b=J(c),c=K(c);else return b<=J(c);else return!1};ng.pa=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.ea(b,a,c)};ng.ma=2;
var og=function og(a){switch(arguments.length){case 1:return og.ba(arguments[0]);case 2:return og.aa(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return og.ea(arguments[0],arguments[1],c)}};og.ba=function(){return!0};og.aa=function(a,b){return a>b};og.ea=function(a,b,c){for(;;)if(a>b)if(K(c))a=b,b=J(c),c=K(c);else return b>J(c);else return!1};
og.pa=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.ea(b,a,c)};og.ma=2;var pg=function pg(a){switch(arguments.length){case 1:return pg.ba(arguments[0]);case 2:return pg.aa(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return pg.ea(arguments[0],arguments[1],c)}};pg.ba=function(){return!0};pg.aa=function(a,b){return a>=b};
pg.ea=function(a,b,c){for(;;)if(a>=b)if(K(c))a=b,b=J(c),c=K(c);else return b>=J(c);else return!1};pg.pa=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.ea(b,a,c)};pg.ma=2;var qg=function qg(a){switch(arguments.length){case 1:return qg.ba(arguments[0]);case 2:return qg.aa(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return qg.ea(arguments[0],arguments[1],c)}};qg.ba=function(a){return a};
qg.aa=function(a,b){return a>b?a:b};qg.ea=function(a,b,c){return v.ca(qg,a>b?a:b,c)};qg.pa=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.ea(b,a,c)};qg.ma=2;var rg=function rg(a){switch(arguments.length){case 1:return rg.ba(arguments[0]);case 2:return rg.aa(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return rg.ea(arguments[0],arguments[1],c)}};rg.ba=function(a){return a};
rg.aa=function(a,b){return a<b?a:b};rg.ea=function(a,b,c){return v.ca(rg,a<b?a:b,c)};rg.pa=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.ea(b,a,c)};rg.ma=2;function sg(a){if("number"===typeof a)return String.fromCharCode(a);if("string"===typeof a&&1===a.length)return a;throw Error("Argument to char must be a character or number");}function tg(a){return 0<=a?Math.floor(a):Math.ceil(a)}function ug(a,b){return(a%b+b)%b}function vg(a,b){return tg((a-a%b)/b)}
function wg(a,b){return a-b*vg(a,b)}function xg(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}var yg=function yg(a){switch(arguments.length){case 1:return yg.ba(arguments[0]);case 2:return yg.aa(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return yg.ea(arguments[0],arguments[1],c)}};yg.ba=function(){return!0};yg.aa=function(a,b){return yd(a,b)};
yg.ea=function(a,b,c){for(;;)if(a===b)if(K(c))a=b,b=J(c),c=K(c);else return b===J(c);else return!1};yg.pa=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.ea(b,a,c)};yg.ma=2;var t=function t(a){switch(arguments.length){case 0:return t.ja();case 1:return t.ba(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(1),0,null);return t.ea(arguments[0],c)}};t.ja=function(){return""};t.ba=function(a){return null==a?"":[a].join("")};
t.ea=function(a,b){for(a=new ec(t.ba(a));;)if(r(b))a=a.append(t.ba(J(b))),b=K(b);else return a.toString()};t.pa=function(a){var b=J(a);a=K(a);return this.ea(b,a)};t.ma=1;var zg=function zg(a){switch(arguments.length){case 2:return zg.aa(arguments[0],arguments[1]);case 3:return zg.ca(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.ba(arguments.length)].join(""));}};zg.aa=function(a,b){return a.substring(b)};zg.ca=function(a,b,c){return a.substring(b,c)};zg.ma=3;
function ff(a,b){if(Cf(b))if(Ye(a)&&Ye(b)&&M(a)!==M(b))a=!1;else a:for(a=E(a),b=E(b);;){if(null==a){a=null==b;break a}if(null!=b&&D.aa(J(a),J(b)))a=K(a),b=K(b);else{a=!1;break a}}else a=null;return Lf(a)}function qf(a,b,c,d,e){this.meta=a;this.first=b;this.rest=c;this.count=d;this.ga=e;this.ha=65937646;this.na=8192}g=qf.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.qa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return $e(this,b,0);case 2:return $e(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.ba=function(b){return $e(this,b,0)};a.aa=function(b,c){return $e(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return cf(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return cf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.ba=a;b.aa=function(c,d){return cf(this,c,d)};return b}();g.sa=function(){return this.meta};g.$a=function(){return 1===this.count?null:this.rest};g.xa=function(){return this.count};g.md=function(){return this.first};g.nd=function(){return this.pb(null)};
g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=Je(this)};g.qa=function(a,b){return ff(this,b)};g.Xa=function(){return sd(Fe,this.meta)};g.gb=function(a,b){return hf(b,this)};g.hb=function(a,b,c){return kf(b,c,this)};g.ib=function(){return this.first};g.pb=function(){return 1===this.count?Fe:this.rest};g.va=function(){return this};g.ta=function(a,b){return b===this.meta?this:new qf(b,this.first,this.rest,this.count,this.ga)};
g.za=function(a,b){return new qf(this.meta,b,this,this.count+1,null)};function Ag(a){return null!=a?a.ha&33554432||l===a.cj?!0:a.ha?!1:Bc(Dd,a):Bc(Dd,a)}qf.prototype[Fc]=function(){return He(this)};function Bg(a){this.meta=a;this.ha=65937614;this.na=8192}g=Bg.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.qa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return $e(this,b,0);case 2:return $e(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.ba=function(b){return $e(this,b,0)};a.aa=function(b,c){return $e(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return cf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return cf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.ba=a;b.aa=function(c,d){return cf(this,c,d)};return b}();g.sa=function(){return this.meta};g.$a=function(){return null};g.xa=function(){return 0};g.md=function(){return null};g.nd=function(){throw Error("Can't pop empty list");};g.wa=function(){return Ke};
g.qa=function(a,b){return Ag(b)||Cf(b)?null==E(b):!1};g.Xa=function(){return this};g.gb=function(a,b){return hf(b,this)};g.hb=function(a,b,c){return kf(b,c,this)};g.ib=function(){return null};g.pb=function(){return Fe};g.va=function(){return null};g.ta=function(a,b){return b===this.meta?this:new Bg(b)};g.za=function(a,b){return new qf(this.meta,b,null,1,null)};var Fe=new Bg(null);Bg.prototype[Fc]=function(){return He(this)};
function Cg(a){return(null!=a?a.ha&134217728||l===a.Hh||(a.ha?0:Bc(Id,a)):Bc(Id,a))?(a=Jd(a))?a:Fe:v.ca(of,Fe,a)}var Dg=function Dg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new I(c.slice(0),0,null):null;return Dg.ea(c)};Dg.ea=function(a){if(a instanceof I&&0===a.i)var b=a.ia;else a:for(b=[];;)if(null!=a)b.push(Wc(a)),a=Zc(a);else break a;a=b.length;for(var c=Fe;;)if(0<a){var d=a-1;c=Sc(c,b[a-1]);a=d}else return c};Dg.ma=0;Dg.pa=function(a){return this.ea(E(a))};
function Eg(a,b,c,d){this.meta=a;this.first=b;this.rest=c;this.ga=d;this.ha=65929452;this.na=8192}g=Eg.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.qa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return $e(this,b,0);case 2:return $e(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.ba=function(b){return $e(this,b,0)};a.aa=function(b,c){return $e(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return cf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return cf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.ba=a;b.aa=function(c,d){return cf(this,c,d)};return b}();g.sa=function(){return this.meta};g.$a=function(){return null==this.rest?null:E(this.rest)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=Je(this)};g.qa=function(a,b){return ff(this,b)};g.Xa=function(){return Fe};
g.gb=function(a,b){return hf(b,this)};g.hb=function(a,b,c){return kf(b,c,this)};g.ib=function(){return this.first};g.pb=function(){return null==this.rest?Fe:this.rest};g.va=function(){return this};g.ta=function(a,b){return b===this.meta?this:new Eg(b,this.first,this.rest,this.ga)};g.za=function(a,b){return new Eg(null,b,this,null)};Eg.prototype[Fc]=function(){return He(this)};
function gf(a,b){return null==b?new qf(null,a,null,1,null):null!=b&&(b.ha&64||l===b.Ea)?new Eg(null,a,b,null):new Eg(null,a,E(b),null)}function Fg(a,b){if(a.Ba===b.Ba)return 0;if(r(zc(a.$b)?b.$b:!1))return-1;if(r(a.$b)){if(zc(b.$b))return 1;var c=ab(a.$b,b.$b);return 0===c?ab(a.name,b.name):c}return ab(a.name,b.name)}function C(a,b,c,d){this.$b=a;this.name=b;this.Ba=c;this._hash=d;this.ha=2153775105;this.na=4096}g=C.prototype;g.toString=function(){return[":",t.ba(this.Ba)].join("")};
g.equiv=function(a){return this.qa(null,a)};g.qa=function(a,b){return b instanceof C?this.Ba===b.Ba:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.ba(arguments[1]);case 2:return this.aa(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.ba(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ic(b)))};g.ba=function(a){return B.aa(a,this)};g.aa=function(a,b){return B.ca(a,this,b)};
g.wa=function(){var a=this._hash;return null!=a?a:this._hash=a=ve(this)+2654435769|0};g.qe=function(){return this.name};g.se=function(){return this.$b};g.ua=function(a,b){return Kd(b,[":",t.ba(this.Ba)].join(""))};function T(a,b){return a===b?!0:a instanceof C&&b instanceof C?a.Ba===b.Ba:!1}function Gg(a){if(null!=a&&(a.na&4096||l===a.Gf))return a.se(null);throw Error(["Doesn't support namespace: ",t.ba(a)].join(""));}function Hg(a){return a instanceof C||a instanceof A}
var Ig=function Ig(a){switch(arguments.length){case 1:return Ig.ba(arguments[0]);case 2:return Ig.aa(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.ba(arguments.length)].join(""));}};Ig.ba=function(a){if(a instanceof C)return a;if(a instanceof A)return new C(Gg(a),Jg.ba?Jg.ba(a):Jg.call(null,a),a.hd,null);if(D.aa("/",a))return new C(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new C(b[0],b[1],a,null):new C(null,b[0],a,null)}return null};
Ig.aa=function(a,b){a=a instanceof C?Jg.ba?Jg.ba(a):Jg.call(null,a):a instanceof A?Jg.ba?Jg.ba(a):Jg.call(null,a):a;b=b instanceof C?Jg.ba?Jg.ba(b):Jg.call(null,b):b instanceof A?Jg.ba?Jg.ba(b):Jg.call(null,b):b;return new C(a,b,[r(a)?[t.ba(a),"/"].join(""):null,t.ba(b)].join(""),null)};Ig.ma=2;function Kg(a,b,c,d){this.meta=a;this.fn=b;this.s=c;this.ga=d;this.ha=32374988;this.na=1}g=Kg.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.qa(null,a)};
function Lg(a){null!=a.fn&&(a.s=a.fn.ja?a.fn.ja():a.fn.call(null),a.fn=null);return a.s}g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return $e(this,b,0);case 2:return $e(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.ba=function(b){return $e(this,b,0)};a.aa=function(b,c){return $e(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return cf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return cf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.ba=a;b.aa=function(c,d){return cf(this,c,d)};return b}();g.sa=function(){return this.meta};g.$a=function(){this.va(null);return null==this.s?null:K(this.s)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=Je(this)};g.qa=function(a,b){return ff(this,b)};
g.Xa=function(){return sd(Fe,this.meta)};g.Xe=function(){return zc(this.fn)};g.gb=function(a,b){return hf(b,this)};g.hb=function(a,b,c){return kf(b,c,this)};g.ib=function(){this.va(null);return null==this.s?null:J(this.s)};g.pb=function(){this.va(null);return null!=this.s?Ee(this.s):Fe};g.va=function(){Lg(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof Kg)a=Lg(a);else return this.s=a,E(this.s)};
g.ta=function(a,b){var c=this;return b===this.meta?c:new Kg(b,function(){return c.va(null)},null,this.ga)};g.za=function(a,b){return gf(b,this)};Kg.prototype[Fc]=function(){return He(this)};function Mg(a){this.buf=a;this.end=0;this.ha=2;this.na=0}Mg.prototype.add=function(a){this.buf[this.end]=a;return this.end+=1};Mg.prototype.jc=function(){var a=new Ng(this.buf,0,this.end);this.buf=null;return a};Mg.prototype.xa=function(){return this.end};function Og(a){return new Mg(Array(a))}
function Ng(a,b,c){this.ia=a;this.off=b;this.end=c;this.ha=524306;this.na=0}g=Ng.prototype;g.xa=function(){return this.end-this.off};g.La=function(a,b){return this.ia[this.off+b]};g.fb=function(a,b,c){return 0<=b&&b<this.end-this.off?this.ia[this.off+b]:c};g.le=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Ng(this.ia,this.off+1,this.end)};g.gb=function(a,b){return Xe(this.ia,b,this.ia[this.off],this.off+1)};g.hb=function(a,b,c){return Xe(this.ia,b,c,this.off)};
function Pg(a,b,c,d){this.jc=a;this.more=b;this.meta=c;this.ga=d;this.ha=31850732;this.na=1536}g=Pg.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.qa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return $e(this,b,0);case 2:return $e(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.ba=function(b){return $e(this,b,0)};a.aa=function(b,c){return $e(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return cf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return cf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.ba=a;b.aa=function(c,d){return cf(this,c,d)};return b}();g.sa=function(){return this.meta};g.$a=function(){return 1<Oc(this.jc)?new Pg($d(this.jc),this.more,null,null):null==this.more?null:Bd(this.more)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=Je(this)};
g.qa=function(a,b){return ff(this,b)};g.Xa=function(){return Fe};g.ib=function(){return x(this.jc,0)};g.pb=function(){return 1<Oc(this.jc)?new Pg($d(this.jc),this.more,null,null):null==this.more?Fe:this.more};g.va=function(){return this};g.ne=function(){return this.jc};g.Ld=function(){return null==this.more?Fe:this.more};g.ta=function(a,b){return b===this.meta?this:new Pg(this.jc,this.more,b,this.ga)};g.za=function(a,b){return gf(b,this)};g.me=function(){return null==this.more?null:this.more};
Pg.prototype[Fc]=function(){return He(this)};function Qg(a,b){return 0===Oc(a)?b:new Pg(a,b,null,null)}function Rg(a,b){a.add(b)}function Sg(a){return a.jc()}function Vf(a){var b=[];for(a=E(a);;)if(null!=a)b.push(J(a)),a=K(a);else return b}function Tg(a,b){if(Ye(b))return M(b);var c=0;for(b=E(b);;)if(null!=b&&c<a)c+=1,b=K(b);else return c}
var Ug=function Ug(a){if(null==a)return null;var c=K(a);return null==c?E(J(a)):gf(J(a),Ug.ba?Ug.ba(c):Ug.call(null,c))},V=function V(a){switch(arguments.length){case 0:return V.ja();case 1:return V.ba(arguments[0]);case 2:return V.aa(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return V.ea(arguments[0],arguments[1],c)}};V.ja=function(){return new Kg(null,function(){return null},null,null)};
V.ba=function(a){return new Kg(null,function(){return a},null,null)};V.aa=function(a,b){return new Kg(null,function(){var c=E(a);return c?Hf(c)?Qg(ae(c),V.aa(be(c),b)):gf(J(c),V.aa(Ee(c),b)):b},null,null)};V.ea=function(a,b,c){return function h(e,f){return new Kg(null,function(){var k=E(e);return k?Hf(k)?Qg(ae(k),h(be(k),f)):gf(J(k),h(Ee(k),f)):r(f)?h(J(f),K(f)):null},null,null)}(V.aa(a,b),c)};V.pa=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.ea(b,a,c)};V.ma=2;
function Vg(a,b,c){return gf(a,gf(b,c))}function Xg(a){return Sd(a)}function Yg(a){return Ud(a)}var Zg=function Zg(a){switch(arguments.length){case 0:return Zg.ja();case 1:return Zg.ba(arguments[0]);case 2:return Zg.aa(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return Zg.ea(arguments[0],arguments[1],c)}};Zg.ja=function(){return Sd(pf)};Zg.ba=function(a){return a};Zg.aa=function(a,b){return Td(a,b)};
Zg.ea=function(a,b,c){for(;;)if(a=Td(a,b),r(c))b=J(c),c=K(c);else return a};Zg.pa=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.ea(b,a,c)};Zg.ma=2;var $g=function $g(a){switch(arguments.length){case 3:return $g.ca(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(3),0,null);return $g.ea(arguments[0],arguments[1],arguments[2],c)}};$g.ca=function(a,b,c){return Wd(a,b,c)};
$g.ea=function(a,b,c,d){for(;;)if(a=Wd(a,b,c),r(d))b=J(d),c=lf(d),d=K(K(d));else return a};$g.pa=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);d=K(d);return this.ea(b,a,c,d)};$g.ma=3;
function ah(a,b,c){var d=E(c);if(0===b)return a.ja?a.ja():a.call(null);c=Wc(d);var e=Xc(d);if(1===b)return a.ba?a.ba(c):a.call(null,c);d=Wc(e);var f=Xc(e);if(2===b)return a.aa?a.aa(c,d):a.call(null,c,d);e=Wc(f);var h=Xc(f);if(3===b)return a.ca?a.ca(c,d,e):a.call(null,c,d,e);f=Wc(h);var k=Xc(h);if(4===b)return a.ka?a.ka(c,d,e,f):a.call(null,c,d,e,f);h=Wc(k);var m=Xc(k);if(5===b)return a.ya?a.ya(c,d,e,f,h):a.call(null,c,d,e,f,h);k=Wc(m);var n=Xc(m);if(6===b)return a.eb?a.eb(c,d,e,f,h,k):a.call(null,
c,d,e,f,h,k);m=Wc(n);var q=Xc(n);if(7===b)return a.Vb?a.Vb(c,d,e,f,h,k,m):a.call(null,c,d,e,f,h,k,m);n=Wc(q);var u=Xc(q);if(8===b)return a.Eb?a.Eb(c,d,e,f,h,k,m,n):a.call(null,c,d,e,f,h,k,m,n);q=Wc(u);var w=Xc(u);if(9===b)return a.Wb?a.Wb(c,d,e,f,h,k,m,n,q):a.call(null,c,d,e,f,h,k,m,n,q);u=Wc(w);var z=Xc(w);if(10===b)return a.Kb?a.Kb(c,d,e,f,h,k,m,n,q,u):a.call(null,c,d,e,f,h,k,m,n,q,u);w=Wc(z);var F=Xc(z);if(11===b)return a.Lb?a.Lb(c,d,e,f,h,k,m,n,q,u,w):a.call(null,c,d,e,f,h,k,m,n,q,u,w);z=Wc(F);
var H=Xc(F);if(12===b)return a.Mb?a.Mb(c,d,e,f,h,k,m,n,q,u,w,z):a.call(null,c,d,e,f,h,k,m,n,q,u,w,z);F=Wc(H);var G=Xc(H);if(13===b)return a.Nb?a.Nb(c,d,e,f,h,k,m,n,q,u,w,z,F):a.call(null,c,d,e,f,h,k,m,n,q,u,w,z,F);H=Wc(G);var N=Xc(G);if(14===b)return a.Ob?a.Ob(c,d,e,f,h,k,m,n,q,u,w,z,F,H):a.call(null,c,d,e,f,h,k,m,n,q,u,w,z,F,H);G=Wc(N);var O=Xc(N);if(15===b)return a.Pb?a.Pb(c,d,e,f,h,k,m,n,q,u,w,z,F,H,G):a.call(null,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G);N=Wc(O);var U=Xc(O);if(16===b)return a.Qb?a.Qb(c,
d,e,f,h,k,m,n,q,u,w,z,F,H,G,N):a.call(null,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N);O=Wc(U);var ea=Xc(U);if(17===b)return a.Rb?a.Rb(c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N,O):a.call(null,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N,O);U=Wc(ea);var va=Xc(ea);if(18===b)return a.Sb?a.Sb(c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N,O,U):a.call(null,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N,O,U);ea=Wc(va);va=Xc(va);if(19===b)return a.Tb?a.Tb(c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N,O,U,ea):a.call(null,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N,O,U,ea);var xa=Wc(va);Xc(va);
if(20===b)return a.Ub?a.Ub(c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N,O,U,ea,xa):a.call(null,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N,O,U,ea,xa);throw Error("Only up to 20 arguments supported on functions");}function bh(a){return null!=a&&(a.ha&128||l===a.te)?a.$a(null):E(Ee(a))}function ch(a,b,c){return null==c?a.ba?a.ba(b):a.call(a,b):dh(a,b,Wc(c),bh(c))}function dh(a,b,c,d){return null==d?a.aa?a.aa(b,c):a.call(a,b,c):eh(a,b,c,Wc(d),bh(d))}
function eh(a,b,c,d,e){return null==e?a.ca?a.ca(b,c,d):a.call(a,b,c,d):gh(a,b,c,d,Wc(e),bh(e))}
function gh(a,b,c,d,e,f){if(null==f)return a.ka?a.ka(b,c,d,e):a.call(a,b,c,d,e);var h=Wc(f),k=K(f);if(null==k)return a.ya?a.ya(b,c,d,e,h):a.call(a,b,c,d,e,h);f=Wc(k);var m=K(k);if(null==m)return a.eb?a.eb(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=Wc(m);var n=K(m);if(null==n)return a.Vb?a.Vb(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);m=Wc(n);var q=K(n);if(null==q)return a.Eb?a.Eb(b,c,d,e,h,f,k,m):a.call(a,b,c,d,e,h,f,k,m);n=Wc(q);var u=K(q);if(null==u)return a.Wb?a.Wb(b,c,d,e,h,f,k,m,n):a.call(a,b,c,d,e,h,
f,k,m,n);q=Wc(u);var w=K(u);if(null==w)return a.Kb?a.Kb(b,c,d,e,h,f,k,m,n,q):a.call(a,b,c,d,e,h,f,k,m,n,q);u=Wc(w);var z=K(w);if(null==z)return a.Lb?a.Lb(b,c,d,e,h,f,k,m,n,q,u):a.call(a,b,c,d,e,h,f,k,m,n,q,u);w=Wc(z);var F=K(z);if(null==F)return a.Mb?a.Mb(b,c,d,e,h,f,k,m,n,q,u,w):a.call(a,b,c,d,e,h,f,k,m,n,q,u,w);z=Wc(F);var H=K(F);if(null==H)return a.Nb?a.Nb(b,c,d,e,h,f,k,m,n,q,u,w,z):a.call(a,b,c,d,e,h,f,k,m,n,q,u,w,z);F=Wc(H);var G=K(H);if(null==G)return a.Ob?a.Ob(b,c,d,e,h,f,k,m,n,q,u,w,z,F):
a.call(a,b,c,d,e,h,f,k,m,n,q,u,w,z,F);H=Wc(G);var N=K(G);if(null==N)return a.Pb?a.Pb(b,c,d,e,h,f,k,m,n,q,u,w,z,F,H):a.call(a,b,c,d,e,h,f,k,m,n,q,u,w,z,F,H);G=Wc(N);var O=K(N);if(null==O)return a.Qb?a.Qb(b,c,d,e,h,f,k,m,n,q,u,w,z,F,H,G):a.call(a,b,c,d,e,h,f,k,m,n,q,u,w,z,F,H,G);N=Wc(O);var U=K(O);if(null==U)return a.Rb?a.Rb(b,c,d,e,h,f,k,m,n,q,u,w,z,F,H,G,N):a.call(a,b,c,d,e,h,f,k,m,n,q,u,w,z,F,H,G,N);O=Wc(U);var ea=K(U);if(null==ea)return a.Sb?a.Sb(b,c,d,e,h,f,k,m,n,q,u,w,z,F,H,G,N,O):a.call(a,b,
c,d,e,h,f,k,m,n,q,u,w,z,F,H,G,N,O);U=Wc(ea);var va=K(ea);if(null==va)return a.Tb?a.Tb(b,c,d,e,h,f,k,m,n,q,u,w,z,F,H,G,N,O,U):a.call(a,b,c,d,e,h,f,k,m,n,q,u,w,z,F,H,G,N,O,U);ea=Wc(va);va=K(va);if(null==va)return a.Ub?a.Ub(b,c,d,e,h,f,k,m,n,q,u,w,z,F,H,G,N,O,U,ea):a.call(a,b,c,d,e,h,f,k,m,n,q,u,w,z,F,H,G,N,O,U,ea);b=[b,c,d,e,h,f,k,m,n,q,u,w,z,F,H,G,N,O,U,ea];for(c=va;;)if(c)b.push(Wc(c)),c=K(c);else break;return a.apply(a,b)}
function Be(a){switch(arguments.length){case 2:return hh(arguments[0],arguments[1]);case 3:return ih(arguments[0],arguments[1],arguments[2]);case 4:return jh(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return kh(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=new I(b.slice(5),0,null);return lh(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)}}
function hh(a,b){if(a.pa){var c=a.ma,d=Tg(c+1,b);return d<=c?ah(a,d,b):a.pa(b)}b=E(b);return null==b?a.ja?a.ja():a.call(a):ch(a,Wc(b),bh(b))}function ih(a,b,c){if(a.pa){b=gf(b,c);var d=a.ma;c=Tg(d,c)+1;return c<=d?ah(a,c,b):a.pa(b)}return ch(a,b,E(c))}function jh(a,b,c,d){return a.pa?(b=Vg(b,c,d),c=a.ma,d=2+Tg(c-1,d),d<=c?ah(a,d,b):a.pa(b)):dh(a,b,c,E(d))}function kh(a,b,c,d,e){return a.pa?(b=gf(b,gf(c,gf(d,e))),c=a.ma,e=3+Tg(c-2,e),e<=c?ah(a,e,b):a.pa(b)):eh(a,b,c,d,E(e))}
function lh(a,b,c,d,e,f){return a.pa?(f=Ug(f),b=gf(b,gf(c,gf(d,gf(e,f)))),c=a.ma,f=4+Tg(c-3,f),f<=c?ah(a,f,b):a.pa(b)):gh(a,b,c,d,e,Ug(f))}var mh=function mh(a){switch(arguments.length){case 1:return mh.ba(arguments[0]);case 2:return mh.aa(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return mh.ea(arguments[0],arguments[1],c)}};mh.ba=function(){return!1};mh.aa=function(a,b){return!D.aa(a,b)};
mh.ea=function(a,b,c){return zc(jh(D,a,b,c))};mh.pa=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.ea(b,a,c)};mh.ma=2;function nh(a){return E(a)?a:null}
function oh(){if("undefined"===typeof gc||"undefined"===typeof hc||"undefined"===typeof ic)ic=function(a){this.gi=a;this.ha=393216;this.na=0},ic.prototype.ta=function(a,b){return new ic(b)},ic.prototype.sa=function(){return this.gi},ic.prototype.mb=function(){return!1},ic.prototype.next=function(){return Error("No such element")},ic.prototype.remove=function(){return Error("Unsupported operation")},ic.Fb=!0,ic.yb="cljs.core/t_cljs$core19721",ic.Ib=function(a){return Kd(a,"cljs.core/t_cljs$core19721")};
return new ic(W)}var ph={},qh={};function rh(a){this.he=ph;this._next=a}rh.prototype.mb=function(){this.he===ph?(this.he=qh,this._next=E(this._next)):this.he===this._next&&(this._next=K(this.he));return null!=this._next};rh.prototype.next=function(){if(this.mb())return this.he=this._next,J(this._next);throw Error("No such element");};rh.prototype.remove=function(){return Error("Unsupported operation")};
function sh(a,b){for(;;){if(null==E(b))return!0;var c=J(b);c=a.ba?a.ba(c):a.call(null,c);if(r(c))b=K(b);else return!1}}function th(a,b){for(;;)if(b=E(b)){var c=J(b);c=a.ba?a.ba(c):a.call(null,c);if(r(c))return c;b=K(b)}else return null}function uh(a){if(Nf(a))return 0===(a&1);throw Error(["Argument must be an integer: ",t.ba(a)].join(""));}
function vh(a){return function(){function b(h,k){return zc(a.aa?a.aa(h,k):a.call(null,h,k))}function c(h){return zc(a.ba?a.ba(h):a.call(null,h))}function d(){return zc(a.ja?a.ja():a.call(null))}var e=null,f=function(){function h(m,n,q){var u=null;if(2<arguments.length){u=0;for(var w=Array(arguments.length-2);u<w.length;)w[u]=arguments[u+2],++u;u=new I(w,0,null)}return k.call(this,m,n,u)}function k(m,n,q){return zc(jh(a,m,n,q))}h.ma=2;h.pa=function(m){var n=J(m);m=K(m);var q=J(m);m=Ee(m);return k(n,
q,m)};h.ea=k;return h}();e=function(h,k,m){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,h);case 2:return b.call(this,h,k);default:var n=null;if(2<arguments.length){n=0;for(var q=Array(arguments.length-2);n<q.length;)q[n]=arguments[n+2],++n;n=new I(q,0,null)}return f.ea(h,k,n)}throw Error("Invalid arity: "+arguments.length);};e.ma=2;e.pa=f.pa;e.ja=d;e.ba=c;e.aa=b;e.ea=f.ea;return e}()}
function wh(a){return function(){function b(c){if(0<arguments.length)for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;return a}b.ma=0;b.pa=function(c){E(c);return a};b.ea=function(){return a};return b}()}
var xh=function xh(a){switch(arguments.length){case 0:return xh.ja();case 1:return xh.ba(arguments[0]);case 2:return xh.aa(arguments[0],arguments[1]);case 3:return xh.ca(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(3),0,null);return xh.ea(arguments[0],arguments[1],arguments[2],c)}};xh.ja=function(){return cg};xh.ba=function(a){return a};
xh.aa=function(a,b){return function(){function c(m,n,q){m=b.ca?b.ca(m,n,q):b.call(null,m,n,q);return a.ba?a.ba(m):a.call(null,m)}function d(m,n){m=b.aa?b.aa(m,n):b.call(null,m,n);return a.ba?a.ba(m):a.call(null,m)}function e(m){m=b.ba?b.ba(m):b.call(null,m);return a.ba?a.ba(m):a.call(null,m)}function f(){var m=b.ja?b.ja():b.call(null);return a.ba?a.ba(m):a.call(null,m)}var h=null,k=function(){function m(q,u,w,z){var F=null;if(3<arguments.length){F=0;for(var H=Array(arguments.length-3);F<H.length;)H[F]=
arguments[F+3],++F;F=new I(H,0,null)}return n.call(this,q,u,w,F)}function n(q,u,w,z){q=kh(b,q,u,w,z);return a.ba?a.ba(q):a.call(null,q)}m.ma=3;m.pa=function(q){var u=J(q);q=K(q);var w=J(q);q=K(q);var z=J(q);q=Ee(q);return n(u,w,z,q)};m.ea=n;return m}();h=function(m,n,q,u){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,m,n,q);default:var w=null;if(3<arguments.length){w=0;for(var z=Array(arguments.length-3);w<
z.length;)z[w]=arguments[w+3],++w;w=new I(z,0,null)}return k.ea(m,n,q,w)}throw Error("Invalid arity: "+arguments.length);};h.ma=3;h.pa=k.pa;h.ja=f;h.ba=e;h.aa=d;h.ca=c;h.ea=k.ea;return h}()};
xh.ca=function(a,b,c){return function(){function d(n,q,u){n=c.ca?c.ca(n,q,u):c.call(null,n,q,u);n=b.ba?b.ba(n):b.call(null,n);return a.ba?a.ba(n):a.call(null,n)}function e(n,q){n=c.aa?c.aa(n,q):c.call(null,n,q);n=b.ba?b.ba(n):b.call(null,n);return a.ba?a.ba(n):a.call(null,n)}function f(n){n=c.ba?c.ba(n):c.call(null,n);n=b.ba?b.ba(n):b.call(null,n);return a.ba?a.ba(n):a.call(null,n)}function h(){var n=c.ja?c.ja():c.call(null);n=b.ba?b.ba(n):b.call(null,n);return a.ba?a.ba(n):a.call(null,n)}var k=null,
m=function(){function n(u,w,z,F){var H=null;if(3<arguments.length){H=0;for(var G=Array(arguments.length-3);H<G.length;)G[H]=arguments[H+3],++H;H=new I(G,0,null)}return q.call(this,u,w,z,H)}function q(u,w,z,F){u=kh(c,u,w,z,F);u=b.ba?b.ba(u):b.call(null,u);return a.ba?a.ba(u):a.call(null,u)}n.ma=3;n.pa=function(u){var w=J(u);u=K(u);var z=J(u);u=K(u);var F=J(u);u=Ee(u);return q(w,z,F,u)};n.ea=q;return n}();k=function(n,q,u,w){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,
n);case 2:return e.call(this,n,q);case 3:return d.call(this,n,q,u);default:var z=null;if(3<arguments.length){z=0;for(var F=Array(arguments.length-3);z<F.length;)F[z]=arguments[z+3],++z;z=new I(F,0,null)}return m.ea(n,q,u,z)}throw Error("Invalid arity: "+arguments.length);};k.ma=3;k.pa=m.pa;k.ja=h;k.ba=f;k.aa=e;k.ca=d;k.ea=m.ea;return k}()};
xh.ea=function(a,b,c,d){var e=Cg(gf(a,gf(b,gf(c,d))));return function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new I(n,0,null)}return h.call(this,m)}function h(k){k=hh(J(e),k);for(var m=K(e);;)if(m){var n=J(m);k=n.ba?n.ba(k):n.call(null,k);m=K(m)}else return k}f.ma=0;f.pa=function(k){k=E(k);return h(k)};f.ea=h;return f}()};
xh.pa=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);d=K(d);return this.ea(b,a,c,d)};xh.ma=3;
var yh=function yh(a){switch(arguments.length){case 1:return yh.ba(arguments[0]);case 2:return yh.aa(arguments[0],arguments[1]);case 3:return yh.ca(arguments[0],arguments[1],arguments[2]);case 4:return yh.ka(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(4),0,null);return yh.ea(arguments[0],arguments[1],arguments[2],arguments[3],c)}};yh.ba=function(a){return a};
yh.aa=function(a,b){return function(){function c(m,n,q){return a.ka?a.ka(b,m,n,q):a.call(null,b,m,n,q)}function d(m,n){return a.ca?a.ca(b,m,n):a.call(null,b,m,n)}function e(m){return a.aa?a.aa(b,m):a.call(null,b,m)}function f(){return a.ba?a.ba(b):a.call(null,b)}var h=null,k=function(){function m(q,u,w,z){var F=null;if(3<arguments.length){F=0;for(var H=Array(arguments.length-3);F<H.length;)H[F]=arguments[F+3],++F;F=new I(H,0,null)}return n.call(this,q,u,w,F)}function n(q,u,w,z){return lh(a,b,q,u,
w,P([z]))}m.ma=3;m.pa=function(q){var u=J(q);q=K(q);var w=J(q);q=K(q);var z=J(q);q=Ee(q);return n(u,w,z,q)};m.ea=n;return m}();h=function(m,n,q,u){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,m,n,q);default:var w=null;if(3<arguments.length){w=0;for(var z=Array(arguments.length-3);w<z.length;)z[w]=arguments[w+3],++w;w=new I(z,0,null)}return k.ea(m,n,q,w)}throw Error("Invalid arity: "+arguments.length);};h.ma=
3;h.pa=k.pa;h.ja=f;h.ba=e;h.aa=d;h.ca=c;h.ea=k.ea;return h}()};
yh.ca=function(a,b,c){return function(){function d(n,q,u){return a.ya?a.ya(b,c,n,q,u):a.call(null,b,c,n,q,u)}function e(n,q){return a.ka?a.ka(b,c,n,q):a.call(null,b,c,n,q)}function f(n){return a.ca?a.ca(b,c,n):a.call(null,b,c,n)}function h(){return a.aa?a.aa(b,c):a.call(null,b,c)}var k=null,m=function(){function n(u,w,z,F){var H=null;if(3<arguments.length){H=0;for(var G=Array(arguments.length-3);H<G.length;)G[H]=arguments[H+3],++H;H=new I(G,0,null)}return q.call(this,u,w,z,H)}function q(u,w,z,F){return lh(a,
b,c,u,w,P([z,F]))}n.ma=3;n.pa=function(u){var w=J(u);u=K(u);var z=J(u);u=K(u);var F=J(u);u=Ee(u);return q(w,z,F,u)};n.ea=q;return n}();k=function(n,q,u,w){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,n);case 2:return e.call(this,n,q);case 3:return d.call(this,n,q,u);default:var z=null;if(3<arguments.length){z=0;for(var F=Array(arguments.length-3);z<F.length;)F[z]=arguments[z+3],++z;z=new I(F,0,null)}return m.ea(n,q,u,z)}throw Error("Invalid arity: "+arguments.length);
};k.ma=3;k.pa=m.pa;k.ja=h;k.ba=f;k.aa=e;k.ca=d;k.ea=m.ea;return k}()};
yh.ka=function(a,b,c,d){return function(){function e(q,u,w){return a.eb?a.eb(b,c,d,q,u,w):a.call(null,b,c,d,q,u,w)}function f(q,u){return a.ya?a.ya(b,c,d,q,u):a.call(null,b,c,d,q,u)}function h(q){return a.ka?a.ka(b,c,d,q):a.call(null,b,c,d,q)}function k(){return a.ca?a.ca(b,c,d):a.call(null,b,c,d)}var m=null,n=function(){function q(w,z,F,H){var G=null;if(3<arguments.length){G=0;for(var N=Array(arguments.length-3);G<N.length;)N[G]=arguments[G+3],++G;G=new I(N,0,null)}return u.call(this,w,z,F,G)}function u(w,
z,F,H){return lh(a,b,c,d,w,P([z,F,H]))}q.ma=3;q.pa=function(w){var z=J(w);w=K(w);var F=J(w);w=K(w);var H=J(w);w=Ee(w);return u(z,F,H,w)};q.ea=u;return q}();m=function(q,u,w,z){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,q);case 2:return f.call(this,q,u);case 3:return e.call(this,q,u,w);default:var F=null;if(3<arguments.length){F=0;for(var H=Array(arguments.length-3);F<H.length;)H[F]=arguments[F+3],++F;F=new I(H,0,null)}return n.ea(q,u,w,F)}throw Error("Invalid arity: "+
arguments.length);};m.ma=3;m.pa=n.pa;m.ja=k;m.ba=h;m.aa=f;m.ca=e;m.ea=n.ea;return m}()};yh.ea=function(a,b,c,d,e){return function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new I(n,0,null)}return h.call(this,m)}function h(k){return kh(a,b,c,d,V.aa(e,k))}f.ma=0;f.pa=function(k){k=E(k);return h(k)};f.ea=h;return f}()};
yh.pa=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);var e=K(d);d=J(e);e=K(e);return this.ea(b,a,c,d,e)};yh.ma=4;
function zh(a,b){return function(){function c(k,m,n){k=null==k?b:k;return a.ca?a.ca(k,m,n):a.call(null,k,m,n)}function d(k,m){k=null==k?b:k;return a.aa?a.aa(k,m):a.call(null,k,m)}function e(k){k=null==k?b:k;return a.ba?a.ba(k):a.call(null,k)}var f=null,h=function(){function k(n,q,u,w){var z=null;if(3<arguments.length){z=0;for(var F=Array(arguments.length-3);z<F.length;)F[z]=arguments[z+3],++z;z=new I(F,0,null)}return m.call(this,n,q,u,z)}function m(n,q,u,w){return kh(a,null==n?b:n,q,u,w)}k.ma=3;k.pa=
function(n){var q=J(n);n=K(n);var u=J(n);n=K(n);var w=J(n);n=Ee(n);return m(q,u,w,n)};k.ea=m;return k}();f=function(k,m,n,q){switch(arguments.length){case 1:return e.call(this,k);case 2:return d.call(this,k,m);case 3:return c.call(this,k,m,n);default:var u=null;if(3<arguments.length){u=0;for(var w=Array(arguments.length-3);u<w.length;)w[u]=arguments[u+3],++u;u=new I(w,0,null)}return h.ea(k,m,n,u)}throw Error("Invalid arity: "+arguments.length);};f.ma=3;f.pa=h.pa;f.ba=e;f.aa=d;f.ca=c;f.ea=h.ea;return f}()}
function Ah(a){return function(b){return function(){function c(h,k){k=a.ba?a.ba(k):a.call(null,k);return null==k?h:b.aa?b.aa(h,k):b.call(null,h,k)}function d(h){return b.ba?b.ba(h):b.call(null,h)}function e(){return b.ja?b.ja():b.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.ja=e;f.ba=d;f.aa=c;return f}()}}
function Bh(a,b){return new Kg(null,function(){var c=E(b);if(c){if(Hf(c)){for(var d=ae(c),e=M(d),f=Og(e),h=0;;)if(h<e){var k=function(){var m=x(d,h);return a.ba?a.ba(m):a.call(null,m)}();null!=k&&f.add(k);h+=1}else break;return Qg(Sg(f),Bh(a,be(c)))}e=function(){var m=J(c);return a.ba?a.ba(m):a.call(null,m)}();return null==e?Bh(a,Ee(c)):gf(e,Bh(a,Ee(c)))}return null},null,null)}function Ch(a,b,c){this.state=a;this.meta=b;this.validator=c;this.Hb=null;this.na=16386;this.ha=6455296}g=Ch.prototype;
g.equiv=function(a){return this.qa(null,a)};g.qa=function(a,b){return this===b};g.tb=function(){return this.state};g.sa=function(){return this.meta};g.Of=function(a,b){for(var c=E(this.Hb),d=null,e=0,f=0;;)if(f<e){var h=d.La(null,f),k=Q(h,0,null);h=Q(h,1,null);h.ka?h.ka(k,this,a,b):h.call(null,k,this,a,b);f+=1}else if(c=E(c))Hf(c)?(d=ae(c),c=be(c),k=d,e=M(d),d=k):(d=J(c),k=Q(d,0,null),h=Q(d,1,null),h.ka?h.ka(k,this,a,b):h.call(null,k,this,a,b),c=K(c),d=null,e=0),f=0;else break};
g.Ye=function(a,b,c){this.Hb=R.ca(this.Hb,b,c);return this};g.Ze=function(a,b){return this.Hb=S.aa(this.Hb,b)};g.wa=function(){return wa(this)};function Dh(a){return new Ch(a,null,null)}function Eh(a,b){if(a instanceof Ch){var c=a.validator;if(null!=c&&!r(c.ba?c.ba(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;null!=a.Hb&&a.Of(c,b);return b}return ee(a,b)}
var Fh=function Fh(a){switch(arguments.length){case 2:return Fh.aa(arguments[0],arguments[1]);case 3:return Fh.ca(arguments[0],arguments[1],arguments[2]);case 4:return Fh.ka(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(4),0,null);return Fh.ea(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
Fh.aa=function(a,b){if(a instanceof Ch){var c=a.state;b=b.ba?b.ba(c):b.call(null,c);a=Eh(a,b)}else a=fe(a,b);return a};Fh.ca=function(a,b,c){if(a instanceof Ch){var d=a.state;b=b.aa?b.aa(d,c):b.call(null,d,c);a=Eh(a,b)}else a=fe(a,b,c);return a};Fh.ka=function(a,b,c,d){if(a instanceof Ch){var e=a.state;b=b.ca?b.ca(e,c,d):b.call(null,e,c,d);a=Eh(a,b)}else a=fe(a,b,c,d);return a};Fh.ea=function(a,b,c,d,e){return a instanceof Ch?Eh(a,kh(b,a.state,c,d,e)):fe(a,b,c,d,e)};
Fh.pa=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);var e=K(d);d=J(e);e=K(e);return this.ea(b,a,c,d,e)};Fh.ma=4;function Gh(a){return D.aa(a.tb(null),!1)?(Eh(a,!0),!0):!1}function Hh(a){this.state=a;this.ha=32768;this.na=0}Hh.prototype.Rc=function(a,b){return this.state=b};Hh.prototype.tb=function(){return this.state};function Ih(a){return new Hh(a)}
function Jh(){var a=Kh,b=Lh;return function(){function c(k,m,n){var q=a.ba?a.ba(k):a.call(null,k);if(r(q))return q;q=a.ba?a.ba(m):a.call(null,m);if(r(q))return q;q=a.ba?a.ba(n):a.call(null,n);if(r(q))return q;k=b.ba?b.ba(k):b.call(null,k);if(r(k))return k;m=b.ba?b.ba(m):b.call(null,m);return r(m)?m:b.ba?b.ba(n):b.call(null,n)}function d(k,m){var n=a.ba?a.ba(k):a.call(null,k);if(r(n))return n;n=a.ba?a.ba(m):a.call(null,m);if(r(n))return n;k=b.ba?b.ba(k):b.call(null,k);return r(k)?k:b.ba?b.ba(m):b.call(null,
m)}function e(k){var m=a.ba?a.ba(k):a.call(null,k);return r(m)?m:b.ba?b.ba(k):b.call(null,k)}var f=null,h=function(){function k(n,q,u,w){var z=null;if(3<arguments.length){z=0;for(var F=Array(arguments.length-3);z<F.length;)F[z]=arguments[z+3],++z;z=new I(F,0,null)}return m.call(this,n,q,u,z)}function m(n,q,u,w){n=f.ca(n,q,u);return r(n)?n:th(function(z){var F=a.ba?a.ba(z):a.call(null,z);return r(F)?F:b.ba?b.ba(z):b.call(null,z)},w)}k.ma=3;k.pa=function(n){var q=J(n);n=K(n);var u=J(n);n=K(n);var w=
J(n);n=Ee(n);return m(q,u,w,n)};k.ea=m;return k}();f=function(k,m,n,q){switch(arguments.length){case 0:return null;case 1:return e.call(this,k);case 2:return d.call(this,k,m);case 3:return c.call(this,k,m,n);default:var u=null;if(3<arguments.length){u=0;for(var w=Array(arguments.length-3);u<w.length;)w[u]=arguments[u+3],++u;u=new I(w,0,null)}return h.ea(k,m,n,u)}throw Error("Invalid arity: "+arguments.length);};f.ma=3;f.pa=h.pa;f.ja=function(){return null};f.ba=e;f.aa=d;f.ca=c;f.ea=h.ea;return f}()}
var Mh=function Mh(a){switch(arguments.length){case 1:return Mh.ba(arguments[0]);case 2:return Mh.aa(arguments[0],arguments[1]);case 3:return Mh.ca(arguments[0],arguments[1],arguments[2]);case 4:return Mh.ka(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(4),0,null);return Mh.ea(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
Mh.ba=function(a){return function(b){return function(){function c(k,m){m=a.ba?a.ba(m):a.call(null,m);return b.aa?b.aa(k,m):b.call(null,k,m)}function d(k){return b.ba?b.ba(k):b.call(null,k)}function e(){return b.ja?b.ja():b.call(null)}var f=null,h=function(){function k(n,q,u){var w=null;if(2<arguments.length){w=0;for(var z=Array(arguments.length-2);w<z.length;)z[w]=arguments[w+2],++w;w=new I(z,0,null)}return m.call(this,n,q,w)}function m(n,q,u){q=ih(a,q,u);return b.aa?b.aa(n,q):b.call(null,n,q)}k.ma=
2;k.pa=function(n){var q=J(n);n=K(n);var u=J(n);n=Ee(n);return m(q,u,n)};k.ea=m;return k}();f=function(k,m,n){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,m);default:var q=null;if(2<arguments.length){q=0;for(var u=Array(arguments.length-2);q<u.length;)u[q]=arguments[q+2],++q;q=new I(u,0,null)}return h.ea(k,m,q)}throw Error("Invalid arity: "+arguments.length);};f.ma=2;f.pa=h.pa;f.ja=e;f.ba=d;f.aa=c;f.ea=h.ea;return f}()}};
Mh.aa=function(a,b){return new Kg(null,function(){var c=E(b);if(c){if(Hf(c)){for(var d=ae(c),e=M(d),f=Og(e),h=0;;)if(h<e)Rg(f,function(){var k=x(d,h);return a.ba?a.ba(k):a.call(null,k)}()),h+=1;else break;return Qg(Sg(f),Mh.aa(a,be(c)))}return gf(function(){var k=J(c);return a.ba?a.ba(k):a.call(null,k)}(),Mh.aa(a,Ee(c)))}return null},null,null)};
Mh.ca=function(a,b,c){return new Kg(null,function(){var d=E(b),e=E(c);if(d&&e){var f=J(d);var h=J(e);f=a.aa?a.aa(f,h):a.call(null,f,h);d=gf(f,Mh.ca(a,Ee(d),Ee(e)))}else d=null;return d},null,null)};Mh.ka=function(a,b,c,d){return new Kg(null,function(){var e=E(b),f=E(c),h=E(d);if(e&&f&&h){var k=J(e);var m=J(f),n=J(h);k=a.ca?a.ca(k,m,n):a.call(null,k,m,n);e=gf(k,Mh.ka(a,Ee(e),Ee(f),Ee(h)))}else e=null;return e},null,null)};
Mh.ea=function(a,b,c,d,e){return Mh.aa(function(f){return hh(a,f)},function k(h){return new Kg(null,function(){var m=Mh.aa(E,h);return sh(cg,m)?gf(Mh.aa(J,m),k(Mh.aa(Ee,m))):null},null,null)}(of.ea(e,d,P([c,b]))))};Mh.pa=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);var e=K(d);d=J(e);e=K(e);return this.ea(b,a,c,d,e)};Mh.ma=4;
var Nh=function Nh(a){switch(arguments.length){case 1:return Nh.ba(arguments[0]);case 2:return Nh.aa(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.ba(arguments.length)].join(""));}};
Nh.ba=function(a){return function(b){var c=Ih(a);return function(){function d(k,m){var n=y(c),q=c.Rc(null,c.tb(null)-1);k=0<n?b.aa?b.aa(k,m):b.call(null,k,m):k;return 0<q?k:Qe(k)?k:Pe(k)}function e(k){return b.ba?b.ba(k):b.call(null,k)}function f(){return b.ja?b.ja():b.call(null)}var h=null;h=function(k,m){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,k);case 2:return d.call(this,k,m)}throw Error("Invalid arity: "+arguments.length);};h.ja=f;h.ba=e;h.aa=d;return h}()}};
Nh.aa=function(a,b){return new Kg(null,function(){if(0<a){var c=E(b);return c?gf(J(c),Nh.aa(a-1,Ee(c))):null}return null},null,null)};Nh.ma=2;function Oh(a,b){return new Kg(null,function(){a:for(var c=a,d=b;;)if(d=E(d),0<c&&d)--c,d=Ee(d);else break a;return d},null,null)}function Ph(a,b){return Mh.ca(function(c){return c},b,Oh(a,b))}
function Qh(a,b){return new Kg(null,function(){a:for(var c=a,d=b;;){d=E(d);var e;if(e=d)e=J(d),e=c.ba?c.ba(e):c.call(null,e);if(r(e))d=Ee(d);else break a}return d},null,null)}function Rh(a,b,c,d){this.meta=a;this.count=b;this.val=c;this.next=d;this.ga=null;this.ha=32374988;this.na=1}g=Rh.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.qa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return $e(this,b,0);case 2:return $e(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.ba=function(b){return $e(this,b,0)};a.aa=function(b,c){return $e(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return cf(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return cf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.ba=a;b.aa=function(c,d){return cf(this,c,d)};return b}();g.sa=function(){return this.meta};g.$a=function(){return null==this.next?1<this.count?this.next=new Rh(null,this.count-1,this.val,null):-1===this.count?this:null:this.next};
g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=Je(this)};g.qa=function(a,b){return ff(this,b)};g.Xa=function(){return Fe};g.Xe=function(){return!1};g.gb=function(a,b){if(-1===this.count)for(var c=b.aa?b.aa(this.val,this.val):b.call(null,this.val,this.val);;){if(Qe(c))return y(c);c=b.aa?b.aa(c,this.val):b.call(null,c,this.val)}else for(a=1,c=this.val;;)if(a<this.count){c=b.aa?b.aa(c,this.val):b.call(null,c,this.val);if(Qe(c))return y(c);a+=1}else return c};
g.hb=function(a,b,c){if(-1===this.count)for(c=b.aa?b.aa(c,this.val):b.call(null,c,this.val);;){if(Qe(c))return y(c);c=b.aa?b.aa(c,this.val):b.call(null,c,this.val)}else for(a=0;;)if(a<this.count){c=b.aa?b.aa(c,this.val):b.call(null,c,this.val);if(Qe(c))return y(c);a+=1}else return c};g.ib=function(){return this.val};g.pb=function(){return null==this.next?1<this.count?this.next=new Rh(null,this.count-1,this.val,null):-1===this.count?this:Fe:this.next};g.va=function(){return this};
g.ta=function(a,b){return b===this.meta?this:new Rh(b,this.count,this.val,this.next)};g.za=function(a,b){return gf(b,this)};function Sh(a){return new Rh(null,-1,a,null)}function Th(a,b){return 0<a?new Rh(null,a,b,null):Fe}function Uh(a){return new Kg(null,function(){return gf(a.ja?a.ja():a.call(null),Uh(a))},null,null)}function Vh(a,b){return Nh.aa(a,Uh(b))}
var Wh=function Wh(a){switch(arguments.length){case 0:return Wh.ja();case 1:return Wh.ba(arguments[0]);case 2:return Wh.aa(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return Wh.ea(arguments[0],arguments[1],c)}};Wh.ja=function(){return Fe};Wh.ba=function(a){return new Kg(null,function(){return a},null,null)};
Wh.aa=function(a,b){return new Kg(null,function(){var c=E(a),d=E(b);return c&&d?gf(J(c),gf(J(d),Wh.aa(Ee(c),Ee(d)))):null},null,null)};Wh.ea=function(a,b,c){return new Kg(null,function(){var d=Mh.aa(E,of.ea(c,b,P([a])));return sh(cg,d)?V.aa(Mh.aa(J,d),hh(Wh,Mh.aa(Ee,d))):null},null,null)};Wh.pa=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.ea(b,a,c)};Wh.ma=2;
function Xh(){return function(a){var b=Ih(!1);return function(){function c(h,k){if(r(y(b)))return h=a.aa?a.aa(h," "):a.call(null,h," "),Qe(h)?h:a.aa?a.aa(h,k):a.call(null,h,k);he(b,!0);return a.aa?a.aa(h,k):a.call(null,h,k)}function d(h){return a.ba?a.ba(h):a.call(null,h)}function e(){return a.ja?a.ja():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);
};f.ja=e;f.ba=d;f.aa=c;return f}()}}function Yh(a,b){return hh(V,ih(Mh,a,b))}
function Zh(a){return function(b){return function(){function c(h,k){return r(a.ba?a.ba(k):a.call(null,k))?b.aa?b.aa(h,k):b.call(null,h,k):h}function d(h){return b.ba?b.ba(h):b.call(null,h)}function e(){return b.ja?b.ja():b.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.ja=e;f.ba=d;f.aa=c;return f}()}}
function $h(a,b){return new Kg(null,function(){var c=E(b);if(c){if(Hf(c)){for(var d=ae(c),e=M(d),f=Og(e),h=0;;)if(h<e){var k=x(d,h);k=a.ba?a.ba(k):a.call(null,k);r(k)&&(k=x(d,h),f.add(k));h+=1}else break;return Qg(Sg(f),$h(a,be(c)))}d=J(c);c=Ee(c);return r(a.ba?a.ba(d):a.call(null,d))?gf(d,$h(a,c)):$h(a,c)}return null},null,null)}function ai(a,b){return $h(vh(a),b)}
var bi=function bi(a){switch(arguments.length){case 0:return bi.ja();case 1:return bi.ba(arguments[0]);case 2:return bi.aa(arguments[0],arguments[1]);case 3:return bi.ca(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.ba(arguments.length)].join(""));}};bi.ja=function(){return pf};bi.ba=function(a){return a};bi.aa=function(a,b){return null!=a?null!=a&&(a.na&4||l===a.Ig)?sd(Ud(v.ca(Td,Sd(a),b)),xf(a)):v.ca(Sc,a,b):v.ca(of,a,b)};
bi.ca=function(a,b,c){return null!=a&&(a.na&4||l===a.Ig)?sd(Ud(hg(b,Zg,Sd(a),c)),xf(a)):hg(b,of,a,c)};bi.ma=3;
var ci=function ci(a){switch(arguments.length){case 2:return ci.aa(arguments[0],arguments[1]);case 3:return ci.ca(arguments[0],arguments[1],arguments[2]);case 4:return ci.ka(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(4),0,null);return ci.ea(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
ci.aa=function(a,b){return Ud(v.ca(function(c,d){return Zg.aa(c,a.ba?a.ba(d):a.call(null,d))},Sd(pf),b))};ci.ca=function(a,b,c){return bi.aa(pf,Mh.ca(a,b,c))};ci.ka=function(a,b,c,d){return bi.aa(pf,Mh.ka(a,b,c,d))};ci.ea=function(a,b,c,d,e){return bi.aa(pf,lh(Mh,a,b,c,d,P([e])))};ci.pa=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);var e=K(d);d=J(e);e=K(e);return this.ea(b,a,c,d,e)};ci.ma=4;
function di(a,b){return Ud(v.ca(function(c,d){return r(a.ba?a.ba(d):a.call(null,d))?Zg.aa(c,d):c},Sd(pf),b))}function ei(a,b,c){return new Kg(null,function(){var d=E(c);if(d){var e=Nh.aa(a,d);return a===M(e)?gf(e,ei(a,b,Oh(b,d))):null}return null},null,null)}function fi(a,b){return v.ca(B,a,b)}function gi(a,b,c){var d=Jf;for(b=E(b);;)if(null!=b){a=B.ca(a,J(b),d);if(d===a)return c;b=K(b)}else return a}
var hi=function hi(a,b,c){b=E(b);var e=J(b),f=K(b);return f?R.ca(a,e,function(){var h=B.aa(a,e);return hi.ca?hi.ca(h,f,c):hi.call(null,h,f,c)}()):R.ca(a,e,c)},ii=function ii(a){switch(arguments.length){case 3:return ii.ca(arguments[0],arguments[1],arguments[2]);case 4:return ii.ka(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return ii.ya(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return ii.eb(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],
arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(6),0,null);return ii.ea(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};ii.ca=function(a,b,c){b=E(b);var d=J(b);return(b=K(b))?R.ca(a,d,ii.ca(B.aa(a,d),b,c)):R.ca(a,d,function(){var e=B.aa(a,d);return c.ba?c.ba(e):c.call(null,e)}())};
ii.ka=function(a,b,c,d){b=E(b);var e=J(b);return(b=K(b))?R.ca(a,e,ii.ka(B.aa(a,e),b,c,d)):R.ca(a,e,function(){var f=B.aa(a,e);return c.aa?c.aa(f,d):c.call(null,f,d)}())};ii.ya=function(a,b,c,d,e){b=E(b);var f=J(b);return(b=K(b))?R.ca(a,f,ii.ya(B.aa(a,f),b,c,d,e)):R.ca(a,f,function(){var h=B.aa(a,f);return c.ca?c.ca(h,d,e):c.call(null,h,d,e)}())};
ii.eb=function(a,b,c,d,e,f){b=E(b);var h=J(b);return(b=K(b))?R.ca(a,h,ii.eb(B.aa(a,h),b,c,d,e,f)):R.ca(a,h,function(){var k=B.aa(a,h);return c.ka?c.ka(k,d,e,f):c.call(null,k,d,e,f)}())};ii.ea=function(a,b,c,d,e,f,h){var k=E(b);b=J(k);return(k=K(k))?R.ca(a,b,lh(ii,B.aa(a,b),k,c,d,P([e,f,h]))):R.ca(a,b,lh(c,B.aa(a,b),d,e,f,P([h])))};ii.pa=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);var e=K(d);d=J(e);var f=K(e);e=J(f);var h=K(f);f=J(h);h=K(h);return this.ea(b,a,c,d,e,f,h)};ii.ma=6;
var ji=function ji(a){switch(arguments.length){case 3:return ji.ca(arguments[0],arguments[1],arguments[2]);case 4:return ji.ka(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return ji.ya(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return ji.eb(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(6),0,null);return ji.ea(arguments[0],
arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};ji.ca=function(a,b,c){return R.ca(a,b,function(){var d=B.aa(a,b);return c.ba?c.ba(d):c.call(null,d)}())};ji.ka=function(a,b,c,d){return R.ca(a,b,function(){var e=B.aa(a,b);return c.aa?c.aa(e,d):c.call(null,e,d)}())};ji.ya=function(a,b,c,d,e){return R.ca(a,b,function(){var f=B.aa(a,b);return c.ca?c.ca(f,d,e):c.call(null,f,d,e)}())};
ji.eb=function(a,b,c,d,e,f){return R.ca(a,b,function(){var h=B.aa(a,b);return c.ka?c.ka(h,d,e,f):c.call(null,h,d,e,f)}())};ji.ea=function(a,b,c,d,e,f,h){return R.ca(a,b,lh(c,B.aa(a,b),d,e,f,P([h])))};ji.pa=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);var e=K(d);d=J(e);var f=K(e);e=J(f);var h=K(f);f=J(h);h=K(h);return this.ea(b,a,c,d,e,f,h)};ji.ma=6;function ki(a,b){this.Za=a;this.ia=b}
function li(a){return new ki(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function mi(a){return new ki(a.Za,Ic(a.ia))}function ni(a){a=a.oa;return 32>a?0:a-1>>>5<<5}function oi(a,b,c){for(;;){if(0===b)return c;var d=li(a);d.ia[0]=c;c=d;b-=5}}
var pi=function pi(a,b,c,d){var f=mi(c),h=a.oa-1>>>b&31;5===b?f.ia[h]=d:(c=c.ia[h],null!=c?(b-=5,a=pi.ka?pi.ka(a,b,c,d):pi.call(null,a,b,c,d)):a=oi(null,b-5,d),f.ia[h]=a);return f};function qi(a,b){throw Error(["No item ",t.ba(a)," in vector of length ",t.ba(b)].join(""));}function ri(a,b){if(b>=ni(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.ia[b>>>a&31];a=d}else return c.ia}function si(a,b){return 0<=b&&b<a.oa?ri(a,b):qi(b,a.oa)}
var ti=function ti(a,b,c,d,e){var h=mi(c);if(0===b)h.ia[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.ia[k];a=ti.ya?ti.ya(a,b,c,d,e):ti.call(null,a,b,c,d,e);h.ia[k]=a}return h},ui=function ui(a,b,c){var e=a.oa-2>>>b&31;if(5<b){b-=5;var f=c.ia[e];a=ui.ca?ui.ca(a,b,f):ui.call(null,a,b,f);if(null==a&&0===e)return null;c=mi(c);c.ia[e]=a;return c}if(0===e)return null;c=mi(c);c.ia[e]=null;return c};function vi(a,b,c,d,e,f){this.i=a;this.base=b;this.ia=c;this.v=d;this.start=e;this.end=f}
vi.prototype.mb=function(){return this.i<this.end};vi.prototype.next=function(){32===this.i-this.base&&(this.ia=ri(this.v,this.i),this.base+=32);var a=this.ia[this.i&31];this.i+=1;return a};function wi(a,b,c){return new vi(b,b-b%32,b<M(a)?ri(a,b):null,a,b,c)}function xi(a,b,c,d){return c<d?yi(a,b,af(a,c),c+1,d):b.ja?b.ja():b.call(null)}
function yi(a,b,c,d,e){var f=c;c=d;for(d=ri(a,d);;)if(c<e){var h=c&31;d=0===h?ri(a,c):d;h=d[h];f=b.aa?b.aa(f,h):b.call(null,f,h);if(Qe(f))return y(f);c+=1}else return f}function X(a,b,c,d,e,f){this.meta=a;this.oa=b;this.shift=c;this.root=d;this.tail=e;this.ga=f;this.ha=167666463;this.na=139268}g=X.prototype;g.ld=function(a,b){return 0<=b&&b<this.oa?new Y(b,ri(this,b)[b&31]):null};g.toString=function(){return le(this)};g.equiv=function(a){return this.qa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return $e(this,b,0);case 2:return $e(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.ba=function(b){return $e(this,b,0)};a.aa=function(b,c){return $e(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return cf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return cf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.ba=a;b.aa=function(c,d){return cf(this,c,d)};return b}();g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){return"number"===typeof b?this.fb(null,b,c):c};
g.Ja=function(a,b,c){a=0;for(var d=c;;)if(a<this.oa){var e=ri(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.ca?b.ca(d,h,k):b.call(null,d,h,k);if(Qe(d)){e=d;break a}f+=1}else{e=d;break a}if(Qe(e))return y(e);a+=c;d=e}else return d};g.Cf=l;g.La=function(a,b){return si(this,b)[b&31]};g.fb=function(a,b,c){return 0<=b&&b<this.oa?ri(this,b)[b&31]:c};
g.Qc=function(a,b,c){if(0<=b&&b<this.oa)return ni(this)<=b?(a=Ic(this.tail),a[b&31]=c,new X(this.meta,this.oa,this.shift,this.root,a,null)):new X(this.meta,this.oa,this.shift,ti(this,this.shift,this.root,b,c),this.tail,null);if(b===this.oa)return this.za(null,c);throw Error(["Index ",t.ba(b)," out of bounds  [0,",t.ba(this.oa),"]"].join(""));};g.Ca=function(){return wi(this,0,this.oa)};g.sa=function(){return this.meta};g.xa=function(){return this.oa};
g.md=function(){return 0<this.oa?this.La(null,this.oa-1):null};g.nd=function(){if(0===this.oa)throw Error("Can't pop empty vector");if(1===this.oa)return sd(pf,this.meta);if(1<this.oa-ni(this))return new X(this.meta,this.oa-1,this.shift,this.root,this.tail.slice(0,-1),null);var a=ri(this,this.oa-2),b=ui(this,this.shift,this.root);b=null==b?Z:b;var c=this.oa-1;return 5<this.shift&&null==b.ia[1]?new X(this.meta,c,this.shift-5,b.ia[0],a,null):new X(this.meta,c,this.shift,b,a,null)};
g.Dc=function(){return 0<this.oa?new ef(this,this.oa-1,null):null};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=Je(this)};g.qa=function(a,b){if(b instanceof X)if(this.oa===M(b))for(a=this.Ca(null),b=b.Ca(null);;)if(a.mb()){var c=a.next(),d=b.next();if(!D.aa(c,d))return!1}else return!0;else return!1;else return ff(this,b)};g.Bd=function(){return new zi(this.oa,this.shift,Ai.ba?Ai.ba(this.root):Ai.call(null,this.root),Bi.ba?Bi.ba(this.tail):Bi.call(null,this.tail))};
g.Xa=function(){return sd(pf,this.meta)};g.gb=function(a,b){return xi(this,b,0,this.oa)};g.hb=function(a,b,c){a=0;for(var d=c;;)if(a<this.oa){var e=ri(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.aa?b.aa(d,h):b.call(null,d,h);if(Qe(d)){e=d;break a}f+=1}else{e=d;break a}if(Qe(e))return y(e);a+=c;d=e}else return d};g.ra=function(a,b,c){if("number"===typeof b)return this.Qc(null,b,c);throw Error("Vector's key for assoc must be a number.");};
g.va=function(){if(0===this.oa)return null;if(32>=this.oa)return new I(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.ia[0];else{a=a.ia;break a}}return Ci?Ci(this,a,0,0):Di.call(null,this,a,0,0)};g.ta=function(a,b){return b===this.meta?this:new X(b,this.oa,this.shift,this.root,this.tail,this.ga)};
g.za=function(a,b){if(32>this.oa-ni(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new X(this.meta,this.oa+1,this.shift,this.root,c,null)}a=(c=this.oa>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=li(null),c.ia[0]=this.root,d=oi(null,this.shift,new ki(null,this.tail)),c.ia[1]=d):c=pi(this,this.shift,this.root,new ki(null,this.tail));return new X(this.meta,this.oa+1,a,c,[b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.ba(arguments[1]);case 2:return this.aa(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.ba(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ic(b)))};g.ba=function(a){return this.La(null,a)};g.aa=function(a,b){return this.fb(null,a,b)};
var Z=new ki(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),pf=new X(null,0,5,Z,[],Ke);function Ei(a,b){var c=a.length;a=b?a:Ic(a);if(32>c)return new X(null,c,5,Z,a,null);var d=a.slice(0,32);b=32;for(var e=(new X(null,32,5,Z,d,null)).Bd(null);;)if(b<c)d=b+1,e=Zg.aa(e,a[b]),b=d;else return Ud(e)}X.prototype[Fc]=function(){return He(this)};
function Zf(a){return r(Fi.ba?Fi.ba(a):Fi.call(null,a))?new X(null,2,5,Z,[Gi.ba?Gi.ba(a):Gi.call(null,a),Hi.ba?Hi.ba(a):Hi.call(null,a)],null):Gf(a)?wf(a,null):xc(a)?Ei(a,!0):Ud(v.ca(Td,Sd(pf),a))}var Ii=function Ii(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new I(c.slice(0),0,null):null;return Ii.ea(c)};Ii.ea=function(a){return a instanceof I&&0===a.i?Ei(a.ia,!xc(a.ia)):Zf(a)};Ii.ma=0;Ii.pa=function(a){return this.ea(E(a))};
function Ji(a,b,c,d,e){this.vc=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.ga=null;this.ha=32375020;this.na=1536}g=Ji.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.qa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return $e(this,b,0);case 2:return $e(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.ba=function(b){return $e(this,b,0)};a.aa=function(b,c){return $e(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return cf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return cf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.ba=a;b.aa=function(c,d){return cf(this,c,d)};return b}();g.sa=function(){return this.meta};g.$a=function(){if(this.off+1<this.node.length){var a=this.vc;var b=this.node,c=this.i,d=this.off+1;a=Ci?Ci(a,b,c,d):Di.call(null,a,b,c,d);return null==a?null:a}return this.me()};
g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=Je(this)};g.qa=function(a,b){return ff(this,b)};g.Xa=function(){return Fe};g.gb=function(a,b){return xi(this.vc,b,this.i+this.off,M(this.vc))};g.hb=function(a,b,c){return yi(this.vc,b,c,this.i+this.off,M(this.vc))};g.ib=function(){return this.node[this.off]};g.pb=function(){if(this.off+1<this.node.length){var a=this.vc;var b=this.node,c=this.i,d=this.off+1;a=Ci?Ci(a,b,c,d):Di.call(null,a,b,c,d);return null==a?Fe:a}return this.Ld(null)};
g.va=function(){return this};g.ne=function(){var a=this.node;return new Ng(a,this.off,a.length)};g.Ld=function(){var a=this.i+this.node.length;if(a<Oc(this.vc)){var b=this.vc,c=ri(this.vc,a);return Ci?Ci(b,c,a,0):Di.call(null,b,c,a,0)}return Fe};g.ta=function(a,b){return b===this.meta?this:Ki?Ki(this.vc,this.node,this.i,this.off,b):Di.call(null,this.vc,this.node,this.i,this.off,b)};g.za=function(a,b){return gf(b,this)};
g.me=function(){var a=this.i+this.node.length;if(a<Oc(this.vc)){var b=this.vc,c=ri(this.vc,a);return Ci?Ci(b,c,a,0):Di.call(null,b,c,a,0)}return null};Ji.prototype[Fc]=function(){return He(this)};
function Di(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new Ji(b,si(b,c),c,d,null);case 4:return Ci(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Ki(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",t.ba(arguments.length)].join(""));}}function Ci(a,b,c,d){return new Ji(a,b,c,d,null)}function Ki(a,b,c,d,e){return new Ji(a,b,c,d,e)}
function Li(a,b,c,d,e){this.meta=a;this.v=b;this.start=c;this.end=d;this.ga=e;this.ha=167666463;this.na=139264}g=Li.prototype;g.ld=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new Y(b,bd(this.v,a)):null};g.toString=function(){return le(this)};g.equiv=function(a){return this.qa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return $e(this,b,0);case 2:return $e(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.ba=function(b){return $e(this,b,0)};a.aa=function(b,c){return $e(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return cf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return cf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.ba=a;b.aa=function(c,d){return cf(this,c,d)};return b}();g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){return"number"===typeof b?this.fb(null,b,c):c};
g.Ja=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,f=x(this.v,a);c=b.ca?b.ca(c,e,f):b.call(null,c,e,f);if(Qe(c))return y(c);d+=1;a+=1}else return c};g.La=function(a,b){return 0>b||this.end<=this.start+b?qi(b,this.end-this.start):x(this.v,this.start+b)};g.fb=function(a,b,c){return 0>b||this.end<=this.start+b?c:x(this.v,this.start+b,c)};
g.Qc=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",t.ba(b)," out of bounds [0,",t.ba(this.xa(null)),"]"].join(""));b=this.meta;c=R.ca(this.v,a,c);var d=this.start,e=this.end;a+=1;a=e>a?e:a;return Mi.ya?Mi.ya(b,c,d,a,null):Mi.call(null,b,c,d,a,null)};g.Ca=function(){return null!=this.v&&l===this.v.Cf?wi(this.v,this.start,this.end):new rh(this)};g.sa=function(){return this.meta};g.xa=function(){return this.end-this.start};
g.md=function(){return this.start===this.end?null:x(this.v,this.end-1)};g.nd=function(){if(this.start===this.end)throw Error("Can't pop empty vector");var a=this.meta,b=this.v,c=this.start,d=this.end-1;return Mi.ya?Mi.ya(a,b,c,d,null):Mi.call(null,a,b,c,d,null)};g.Dc=function(){return this.start!==this.end?new ef(this,this.end-this.start-1,null):null};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=Je(this)};g.qa=function(a,b){return ff(this,b)};g.Xa=function(){return sd(pf,this.meta)};
g.gb=function(a,b){return null!=this.v&&l===this.v.Cf?xi(this.v,b,this.start,this.end):Te(this,b)};g.hb=function(a,b,c){return null!=this.v&&l===this.v.Cf?yi(this.v,b,c,this.start,this.end):Ue(this,b,c)};g.ra=function(a,b,c){if("number"===typeof b)return this.Qc(null,b,c);throw Error("Subvec's key for assoc must be a number.");};g.va=function(){var a=this;return function d(c){return c===a.end?null:gf(x(a.v,c),new Kg(null,function(){return d(c+1)},null,null))}(a.start)};
g.ta=function(a,b){return b===this.meta?this:Mi.ya?Mi.ya(b,this.v,this.start,this.end,this.ga):Mi.call(null,b,this.v,this.start,this.end,this.ga)};g.za=function(a,b){a=this.meta;b=od(this.v,this.end,b);var c=this.start,d=this.end+1;return Mi.ya?Mi.ya(a,b,c,d,null):Mi.call(null,a,b,c,d,null)};g.call=function(a){switch(arguments.length-1){case 1:return this.ba(arguments[1]);case 2:return this.aa(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.ba(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Ic(b)))};g.ba=function(a){return this.La(null,a)};g.aa=function(a,b){return this.fb(null,a,b)};Li.prototype[Fc]=function(){return He(this)};function Mi(a,b,c,d,e){for(;;)if(b instanceof Li)c=b.start+c,d=b.start+d,b=b.v;else{if(!Gf(b))throw Error("v must satisfy IVector");if(0>c||d<c||d>M(b))throw Error("Index out of bounds");return new Li(a,b,c,d,e)}}function Ni(a,b,c){return Mi(null,a,b|0,c|0,null)}
function Oi(a,b){return a===b.Za?b:new ki(a,Ic(b.ia))}function Ai(a){return new ki({},Ic(a.ia))}function Bi(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];If(a,0,b,0,a.length);return b}var Pi=function Pi(a,b,c,d){c=Oi(a.root.Za,c);var f=a.oa-1>>>b&31;if(5===b)a=d;else{var h=c.ia[f];null!=h?(b-=5,a=Pi.ka?Pi.ka(a,b,h,d):Pi.call(null,a,b,h,d)):a=oi(a.root.Za,b-5,d)}c.ia[f]=a;return c};
function zi(a,b,c,d){this.oa=a;this.shift=b;this.root=c;this.tail=d;this.na=88;this.ha=275}g=zi.prototype;
g.Cd=function(a,b){if(this.root.Za){if(32>this.oa-ni(this))this.tail[this.oa&31]=b;else{a=new ki(this.root.Za,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.oa>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=
this.shift+5,b[0]=this.root,b[1]=oi(this.root.Za,this.shift,a),this.root=new ki(this.root.Za,b),this.shift=c):this.root=Pi(this,this.shift,this.root,a)}this.oa+=1;return this}throw Error("conj! after persistent!");};g.Md=function(){if(this.root.Za){this.root.Za=null;var a=this.oa-ni(this),b=Array(a);If(this.tail,0,b,0,a);return new X(null,this.oa,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.Zd=function(a,b,c){if("number"===typeof b)return Qi(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function Qi(a,b,c){if(a.root.Za){if(0<=b&&b<a.oa){if(ni(a)<=b)a.tail[b&31]=c;else{var d=function k(f,h){h=Oi(a.root.Za,h);if(0===f)h.ia[b&31]=c;else{var m=b>>>f&31;f=k(f-5,h.ia[m]);h.ia[m]=f}return h}(a.shift,a.root);a.root=d}return a}if(b===a.oa)return a.Cd(null,c);throw Error(["Index ",t.ba(b)," out of bounds for TransientVector of length",t.ba(a.oa)].join(""));}throw Error("assoc! after persistent!");}g.xa=function(){if(this.root.Za)return this.oa;throw Error("count after persistent!");};
g.La=function(a,b){if(this.root.Za)return si(this,b)[b&31];throw Error("nth after persistent!");};g.fb=function(a,b,c){return 0<=b&&b<this.oa?this.La(null,b):c};g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){if(this.root.Za)return"number"===typeof b?this.fb(null,b,c):c;throw Error("lookup after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.ba(arguments[1]);case 2:return this.aa(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.ba(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ic(b)))};g.ba=function(a){return this.Aa(null,a)};g.aa=function(a,b){return this.la(null,a,b)};function Ri(a,b){this.ae=a;this.Me=b}
Ri.prototype.mb=function(){var a=null!=this.ae&&E(this.ae);return a?a:null!=this.Me?this.Me.mb():!1};Ri.prototype.next=function(){if(null!=this.ae){var a=J(this.ae);this.ae=K(this.ae);return a}if(null!=this.Me&&this.Me.mb())return this.Me.next();throw Error("No such element");};Ri.prototype.remove=function(){return Error("Unsupported operation")};function Si(a,b,c,d){this.meta=a;this.fc=b;this.uc=c;this.ga=d;this.ha=31850700;this.na=0}g=Si.prototype;g.toString=function(){return le(this)};
g.equiv=function(a){return this.qa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return $e(this,b,0);case 2:return $e(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.ba=function(b){return $e(this,b,0)};a.aa=function(b,c){return $e(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return cf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return cf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.ba=a;b.aa=function(c,d){return cf(this,c,d)};return b}();g.sa=function(){return this.meta};g.$a=function(){var a=K(this.fc);return a?new Si(this.meta,a,this.uc,null):null!=this.uc?new Si(this.meta,this.uc,null,null):null};
g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=Je(this)};g.qa=function(a,b){return ff(this,b)};g.Xa=function(){return sd(Fe,this.meta)};g.ib=function(){return J(this.fc)};g.pb=function(){var a=K(this.fc);return a?new Si(this.meta,a,this.uc,null):null==this.uc?this.Xa(null):new Si(this.meta,this.uc,null,null)};g.va=function(){return this};g.ta=function(a,b){return b===this.meta?this:new Si(b,this.fc,this.uc,this.ga)};g.za=function(a,b){return gf(b,this)};Si.prototype[Fc]=function(){return He(this)};
function Ti(a,b,c,d,e){this.meta=a;this.count=b;this.fc=c;this.uc=d;this.ga=e;this.na=139264;this.ha=31858766}g=Ti.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.qa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return $e(this,b,0);case 2:return $e(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.ba=function(b){return $e(this,b,0)};a.aa=function(b,c){return $e(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return cf(this,c,this.count.ba?this.count.ba(this):this.count.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return cf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.ba=a;b.aa=function(c,d){return cf(this,c,d)};return b}();g.Ca=function(){return new Ri(this.fc,je(this.uc))};g.sa=function(){return this.meta};g.xa=function(){return this.count};g.md=function(){return J(this.fc)};
g.nd=function(){if(r(this.fc)){var a=K(this.fc);return a?new Ti(this.meta,this.count-1,a,this.uc,null):new Ti(this.meta,this.count-1,E(this.uc),pf,null)}return this};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=Je(this)};g.qa=function(a,b){return ff(this,b)};g.Xa=function(){return sd(Ui,this.meta)};g.ib=function(){return J(this.fc)};g.pb=function(){return Ee(E(this))};g.va=function(){var a=E(this.uc),b=this.fc;return r(r(b)?b:a)?new Si(null,this.fc,E(a),null):null};
g.ta=function(a,b){return b===this.meta?this:new Ti(b,this.count,this.fc,this.uc,this.ga)};g.za=function(a,b){r(this.fc)?(a=this.uc,b=new Ti(this.meta,this.count+1,this.fc,of.aa(r(a)?a:pf,b),null)):b=new Ti(this.meta,this.count+1,of.aa(this.fc,b),pf,null);return b};var Ui=new Ti(null,0,null,pf,Ke);Ti.prototype[Fc]=function(){return He(this)};function Vi(){this.ha=2097152;this.na=0}Vi.prototype.equiv=function(a){return this.qa(null,a)};Vi.prototype.qa=function(){return!1};var Wi=new Vi;
function Xi(a,b){return Lf(Ef(b)&&!Ff(b)?M(a)===M(b)?(null!=a?a.ha&1048576||l===a.bj||(a.ha?0:Bc(wd,a)):Bc(wd,a))?bg(function(c,d,e){return D.aa(B.ca(b,d,Wi),e)?!0:Pe(!1)},!0,a):sh(function(c){return D.aa(B.ca(b,J(c),Wi),lf(c))},a):null:null)}function Yi(a,b,c,d){this.i=0;this.Pi=a;this.Bg=b;this.fields=c;this.Ug=d}Yi.prototype.mb=function(){var a=this.i<this.Bg;return a?a:this.Ug.mb()};
Yi.prototype.next=function(){if(this.i<this.Bg){var a=af(this.fields,this.i);this.i+=1;return new Y(a,bd(this.Pi,a))}return this.Ug.next()};Yi.prototype.remove=function(){return Error("Unsupported operation")};function Zi(a){this.s=a}Zi.prototype.next=function(){if(null!=this.s){var a=J(this.s),b=Q(a,0,null);a=Q(a,1,null);this.s=K(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function $i(a){this.s=a}
$i.prototype.next=function(){if(null!=this.s){var a=J(this.s);this.s=K(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function aj(a,b){if(b instanceof C)a:{var c=a.length;b=b.Ba;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof C&&b===a[d].Ba){a=d;break a}d+=2}}else if("string"==typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof A)a:for(c=a.length,b=b.hd,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof A&&b===a[d].hd){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(D.aa(b,a[d])){a=d;break a}d+=2}return a}function Y(a,b){this.key=a;this.val=b;this.ga=null;this.ha=166619935;this.na=0}g=Y.prototype;g.ld=function(a,b){switch(b){case 0:return new Y(0,this.key);case 1:return new Y(1,this.val);default:return null}};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return $e(this,b,0);case 2:return $e(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.ba=function(b){return $e(this,b,0)};a.aa=function(b,c){return $e(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return cf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return cf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.ba=a;b.aa=function(c,d){return cf(this,c,d)};return b}();g.Aa=function(a,b){return this.fb(null,b,null)};g.la=function(a,b,c){return this.fb(null,b,c)};g.La=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};
g.fb=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.Qc=function(a,b,c){return(new X(null,2,5,Z,[this.key,this.val],null)).Qc(null,b,c)};g.sa=function(){return null};g.xa=function(){return 2};g.Ef=function(){return this.key};g.Ff=function(){return this.val};g.md=function(){return this.val};g.nd=function(){return new X(null,1,5,Z,[this.key],null)};g.Dc=function(){return new I([this.val,this.key],0,null)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=Je(this)};
g.qa=function(a,b){return ff(this,b)};g.Xa=function(){return null};g.gb=function(a,b){return Te(this,b)};g.hb=function(a,b,c){return Ue(this,b,c)};g.ra=function(a,b,c){return R.ca(new X(null,2,5,Z,[this.key,this.val],null),b,c)};g.va=function(){return new I([this.key,this.val],0,null)};g.ta=function(a,b){return wf(new X(null,2,5,Z,[this.key,this.val],null),b)};g.za=function(a,b){return new X(null,3,5,Z,[this.key,this.val,b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.ba(arguments[1]);case 2:return this.aa(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.ba(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ic(b)))};g.ba=function(a){return this.La(null,a)};g.aa=function(a,b){return this.fb(null,a,b)};function Fi(a){return null!=a?a.ha&2048||l===a.ej?!0:!1:!1}
function bj(a,b,c){this.ia=a;this.i=b;this.Ac=c;this.ha=32374990;this.na=0}g=bj.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.qa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return $e(this,b,0);case 2:return $e(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.ba=function(b){return $e(this,b,0)};a.aa=function(b,c){return $e(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return cf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return cf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.ba=a;b.aa=function(c,d){return cf(this,c,d)};return b}();g.sa=function(){return this.Ac};g.$a=function(){return this.i<this.ia.length-2?new bj(this.ia,this.i+2,null):null};g.xa=function(){return(this.ia.length-this.i)/2};g.wa=function(){return Je(this)};
g.qa=function(a,b){return ff(this,b)};g.Xa=function(){return Fe};g.gb=function(a,b){return hf(b,this)};g.hb=function(a,b,c){return kf(b,c,this)};g.ib=function(){return new Y(this.ia[this.i],this.ia[this.i+1])};g.pb=function(){return this.i<this.ia.length-2?new bj(this.ia,this.i+2,null):Fe};g.va=function(){return this};g.ta=function(a,b){return b===this.Ac?this:new bj(this.ia,this.i,b)};g.za=function(a,b){return gf(b,this)};bj.prototype[Fc]=function(){return He(this)};
function cj(a,b){this.ia=a;this.i=0;this.oa=b}cj.prototype.mb=function(){return this.i<this.oa};cj.prototype.next=function(){var a=new Y(this.ia[this.i],this.ia[this.i+1]);this.i+=2;return a};function p(a,b,c,d){this.meta=a;this.oa=b;this.ia=c;this.ga=d;this.ha=16647951;this.na=139268}g=p.prototype;g.ld=function(a,b){a=aj(this.ia,b);return-1===a?null:new Y(this.ia[a],this.ia[a+1])};g.toString=function(){return le(this)};g.equiv=function(a){return this.qa(null,a)};
g.keys=function(){return He(dj.ba?dj.ba(this):dj.call(null,this))};g.entries=function(){return new Zi(E(E(this)))};g.values=function(){return He(ej.ba?ej.ba(this):ej.call(null,this))};g.has=function(a){return Of(this,a)};g.get=function(a,b){return this.la(null,a,b)};
g.forEach=function(a){for(var b=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.La(null,e),h=Q(f,0,null);f=Q(f,1,null);a.aa?a.aa(f,h):a.call(null,f,h);e+=1}else if(b=E(b))Hf(b)?(c=ae(b),b=be(b),h=c,d=M(c),c=h):(c=J(b),h=Q(c,0,null),f=Q(c,1,null),a.aa?a.aa(f,h):a.call(null,f,h),b=K(b),c=null,d=0),e=0;else return null};g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){a=aj(this.ia,b);return-1===a?c:this.ia[a+1]};
g.Ja=function(a,b,c){a=this.ia.length;for(var d=0;;)if(d<a){var e=this.ia[d],f=this.ia[d+1];c=b.ca?b.ca(c,e,f):b.call(null,c,e,f);if(Qe(c))return y(c);d+=2}else return c};g.Ca=function(){return new cj(this.ia,2*this.oa)};g.sa=function(){return this.meta};g.xa=function(){return this.oa};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=Le(this)};
g.qa=function(a,b){if(Ef(b)&&!Ff(b))if(a=this.ia.length,this.oa===b.xa(null))for(var c=0;;)if(c<a){var d=b.la(null,this.ia[c],Jf);if(d!==Jf)if(D.aa(this.ia[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.Bd=function(){return new fj(this.ia.length,Ic(this.ia))};g.Xa=function(){return sd(W,this.meta)};g.gb=function(a,b){return $f(this,b)};g.hb=function(a,b,c){return ag(this,b,c)};
g.Ka=function(a,b){if(0<=aj(this.ia,b)){a=this.ia.length;var c=a-2;if(0===c)return this.Xa(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new p(this.meta,this.oa-1,c,null);D.aa(b,this.ia[d])?d+=2:(c[e]=this.ia[d],c[e+1]=this.ia[d+1],e+=2,d+=2)}}else return this};
g.ra=function(a,b,c){a=aj(this.ia,b);if(-1===a){if(this.oa<gj){a=this.ia;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new p(this.meta,this.oa+1,e,null)}return sd(dd(bi.aa(hj,this),b,c),this.meta)}if(c===this.ia[a+1])return this;b=Ic(this.ia);b[a+1]=c;return new p(this.meta,this.oa,b,null)};g.va=function(){var a=this.ia;return 0<=a.length-2?new bj(a,0,null):null};g.ta=function(a,b){return b===this.meta?this:new p(b,this.oa,this.ia,this.ga)};
g.za=function(a,b){if(Gf(b))return this.ra(null,x(b,0),x(b,1));a=this;for(b=E(b);;){if(null==b)return a;var c=J(b);if(Gf(c))a=dd(a,x(c,0),x(c,1)),b=K(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.ba(arguments[1]);case 2:return this.aa(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.ba(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ic(b)))};
g.ba=function(a){return this.Aa(null,a)};g.aa=function(a,b){return this.la(null,a,b)};var W=new p(null,0,[],Me),gj=8;function tf(a){for(var b=[],c=0;;)if(c<a.length){var d=a[c],e=a[c+1],f=aj(b,d);-1===f?(f=b,f.push(d),f.push(e)):b[f+1]=e;c+=2}else break;return new p(null,b.length/2,b,null)}p.prototype[Fc]=function(){return He(this)};function fj(a,b){this.Od={};this.Vc=a;this.ia=b;this.ha=259;this.na=56}g=fj.prototype;
g.xa=function(){if(this.Od)return vg(this.Vc,2);throw Error("count after persistent!");};g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){if(this.Od)return a=aj(this.ia,b),-1===a?c:this.ia[a+1];throw Error("lookup after persistent!");};
g.Cd=function(a,b){if(this.Od){if(Fi(b))return this.Zd(null,Gi.ba?Gi.ba(b):Gi.call(null,b),Hi.ba?Hi.ba(b):Hi.call(null,b));if(Gf(b))return this.Zd(null,b.ba?b.ba(0):b.call(null,0),b.ba?b.ba(1):b.call(null,1));a=E(b);for(b=this;;){var c=J(a);if(r(c))a=K(a),b=Wd(b,Gi.ba?Gi.ba(c):Gi.call(null,c),Hi.ba?Hi.ba(c):Hi.call(null,c));else return b}}else throw Error("conj! after persistent!");};
g.Md=function(){if(this.Od)return this.Od=!1,new p(null,vg(this.Vc,2),this.ia,null);throw Error("persistent! called twice");};g.Zd=function(a,b,c){if(this.Od){a=aj(this.ia,b);if(-1===a)return this.Vc+2<=2*gj?(this.Vc+=2,this.ia.push(b),this.ia.push(c),this):$g.ca(ij.aa?ij.aa(this.Vc,this.ia):ij.call(null,this.Vc,this.ia),b,c);c!==this.ia[a+1]&&(this.ia[a+1]=c);return this}throw Error("assoc! after persistent!");};
g.Nf=function(a,b){if(this.Od)return a=aj(this.ia,b),0<=a&&(this.ia[a]=this.ia[this.Vc-2],this.ia[a+1]=this.ia[this.Vc-1],a=this.ia,a.pop(),a.pop(),this.Vc-=2),this;throw Error("dissoc! after persistent!");};g.call=function(a){switch(arguments.length-1){case 1:return this.ba(arguments[1]);case 2:return this.aa(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.ba(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ic(b)))};
g.ba=function(a){return this.la(null,a,null)};g.aa=function(a,b){return this.la(null,a,b)};function ij(a,b){for(var c=Sd(hj),d=0;;)if(d<a)c=$g.ca(c,b[d],b[d+1]),d+=2;else return c}function jj(){this.val=!1}function kj(a,b){return a===b?!0:T(a,b)?!0:D.aa(a,b)}function lj(a,b,c){a=Ic(a);a[b]=c;return a}function mj(a,b){var c=Array(a.length-2);If(a,0,c,0,2*b);If(a,2*(b+1),c,2*b,c.length-2*b);return c}function nj(a,b,c,d){a=a.rd(b);a.ia[c]=d;return a}
function oj(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.ca?b.ca(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.Td(b,f):f;if(Qe(c))return c;e+=2;f=c}else return f}function pj(a){this.ia=a;this.i=0;this.Wc=this.Ke=null}pj.prototype.advance=function(){for(var a=this.ia.length;;)if(this.i<a){var b=this.ia[this.i],c=this.ia[this.i+1];null!=b?b=this.Ke=new Y(b,c):null!=c?(b=je(c),b=b.mb()?this.Wc=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};
pj.prototype.mb=function(){var a=null!=this.Ke;return a?a:(a=null!=this.Wc)?a:this.advance()};pj.prototype.next=function(){if(null!=this.Ke){var a=this.Ke;this.Ke=null;return a}if(null!=this.Wc)return a=this.Wc.next(),this.Wc.mb()||(this.Wc=null),a;if(this.advance())return this.next();throw Error("No such element");};pj.prototype.remove=function(){return Error("Unsupported operation")};function qj(a,b,c){this.Za=a;this.bitmap=b;this.ia=c;this.na=131072;this.ha=0}g=qj.prototype;
g.rd=function(a){if(a===this.Za)return this;var b=xg(this.bitmap),c=Array(0>b?4:2*(b+1));If(this.ia,0,c,0,2*b);return new qj(a,this.bitmap,c)};g.Ie=function(a,b,c,d,e){var f=1<<(c>>>b&31);if(0===(this.bitmap&f))return this;var h=xg(this.bitmap&f-1),k=this.ia[2*h],m=this.ia[2*h+1];return null==k?(b=m.Ie(a,b+5,c,d,e),b===m?this:null!=b?nj(this,a,2*h+1,b):this.bitmap===f?null:rj(this,a,f,h)):kj(d,k)?(e.val=!0,rj(this,a,f,h)):this};
function rj(a,b,c,d){if(a.bitmap===c)return null;a=a.rd(b);b=a.ia;var e=b.length;a.bitmap^=c;If(b,2*(d+1),b,2*d,e-2*(d+1));b[e-2]=null;b[e-1]=null;return a}g.Ge=function(){return sj?sj(this.ia):tj.call(null,this.ia)};g.Td=function(a,b){return oj(this.ia,a,b)};g.Sd=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=xg(this.bitmap&e-1);e=this.ia[2*f];f=this.ia[2*f+1];return null==e?f.Sd(a+5,b,c,d):kj(c,e)?f:d};
g.Uc=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=xg(this.bitmap&h-1);if(0===(this.bitmap&h)){var m=xg(this.bitmap);if(2*m<this.ia.length){a=this.rd(a);b=a.ia;f.val=!0;c=2*(m-k);f=2*k+(c-1);for(m=2*(k+1)+(c-1);0!==c;)b[m]=b[f],--m,--c,--f;b[2*k]=d;b[2*k+1]=e;a.bitmap|=h;return a}if(16<=m){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=uj.Uc(a,b+5,c,d,e,f);for(e=d=0;;)if(32>
d)0===(this.bitmap>>>d&1)?d+=1:(k[d]=null!=this.ia[e]?uj.Uc(a,b+5,te(this.ia[e]),this.ia[e],this.ia[e+1],f):this.ia[e+1],e+=2,d+=1);else break;return new vj(a,m+1,k)}b=Array(2*(m+4));If(this.ia,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;If(this.ia,2*k,b,2*(k+1),2*(m-k));f.val=!0;a=this.rd(a);a.ia=b;a.bitmap|=h;return a}m=this.ia[2*k];h=this.ia[2*k+1];if(null==m)return m=h.Uc(a,b+5,c,d,e,f),m===h?this:nj(this,a,2*k+1,m);if(kj(d,m))return e===h?this:nj(this,a,2*k+1,e);f.val=!0;f=b+5;d=wj?wj(a,f,m,h,c,d,e):xj.call(null,
a,f,m,h,c,d,e);e=2*k;k=2*k+1;a=this.rd(a);a.ia[e]=null;a.ia[k]=d;return a};
g.Tc=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=xg(this.bitmap&f-1);if(0===(this.bitmap&f)){var k=xg(this.bitmap);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=uj.Tc(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.bitmap>>>c&1)?c+=1:(h[c]=null!=this.ia[d]?uj.Tc(a+5,te(this.ia[d]),this.ia[d],this.ia[d+1],e):this.ia[d+1],d+=2,c+=1);else break;return new vj(null,k+1,h)}a=
Array(2*(k+1));If(this.ia,0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;If(this.ia,2*h,a,2*(h+1),2*(k-h));e.val=!0;return new qj(null,this.bitmap|f,a)}var m=this.ia[2*h];f=this.ia[2*h+1];if(null==m)return k=f.Tc(a+5,b,c,d,e),k===f?this:new qj(null,this.bitmap,lj(this.ia,2*h+1,k));if(kj(c,m))return d===f?this:new qj(null,this.bitmap,lj(this.ia,2*h+1,d));e.val=!0;e=this.bitmap;k=this.ia;a+=5;a=Bj?Bj(a,m,f,b,c,d):xj.call(null,a,m,f,b,c,d);c=2*h;h=2*h+1;d=Ic(k);d[c]=null;d[h]=a;return new qj(null,e,d)};
g.Fe=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=xg(this.bitmap&e-1);e=this.ia[2*f];f=this.ia[2*f+1];return null==e?f.Fe(a+5,b,c,d):kj(c,e)?new Y(e,f):d};
g.He=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.bitmap&d))return this;var e=xg(this.bitmap&d-1),f=this.ia[2*e],h=this.ia[2*e+1];return null==f?(a=h.He(a+5,b,c),a===h?this:null!=a?new qj(null,this.bitmap,lj(this.ia,2*e+1,a)):this.bitmap===d?null:new qj(null,this.bitmap^d,mj(this.ia,e))):kj(c,f)?new qj(null,this.bitmap^d,mj(this.ia,e)):this};g.Ca=function(){return new pj(this.ia)};var uj=new qj(null,0,[]);
function Cj(a,b,c){var d=a.ia,e=d.length;a=Array(2*(a.oa-1));for(var f=0,h=1,k=0;;)if(f<e)f!==c&&null!=d[f]?(a[h]=d[f],h+=2,k|=1<<f,f+=1):f+=1;else return new qj(b,k,a)}function Dj(a){this.ia=a;this.i=0;this.Wc=null}Dj.prototype.mb=function(){for(var a=this.ia.length;;){if(null!=this.Wc&&this.Wc.mb())return!0;if(this.i<a){var b=this.ia[this.i];this.i+=1;null!=b&&(this.Wc=je(b))}else return!1}};Dj.prototype.next=function(){if(this.mb())return this.Wc.next();throw Error("No such element");};
Dj.prototype.remove=function(){return Error("Unsupported operation")};function vj(a,b,c){this.Za=a;this.oa=b;this.ia=c;this.na=131072;this.ha=0}g=vj.prototype;g.rd=function(a){return a===this.Za?this:new vj(a,this.oa,Ic(this.ia))};g.Ie=function(a,b,c,d,e){var f=c>>>b&31,h=this.ia[f];if(null==h)return this;b=h.Ie(a,b+5,c,d,e);if(b===h)return this;if(null==b){if(8>=this.oa)return Cj(this,a,f);a=nj(this,a,f,b);--a.oa;return a}return nj(this,a,f,b)};
g.Ge=function(){return Ej?Ej(this.ia):Fj.call(null,this.ia)};g.Td=function(a,b){for(var c=this.ia.length,d=0;;)if(d<c){var e=this.ia[d];if(null!=e){b=e.Td(a,b);if(Qe(b))return b;d+=1}else d+=1}else return b};g.Sd=function(a,b,c,d){var e=this.ia[b>>>a&31];return null!=e?e.Sd(a+5,b,c,d):d};g.Uc=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.ia[h];if(null==k)return a=nj(this,a,h,uj.Uc(a,b+5,c,d,e,f)),a.oa+=1,a;b=k.Uc(a,b+5,c,d,e,f);return b===k?this:nj(this,a,h,b)};
g.Tc=function(a,b,c,d,e){var f=b>>>a&31,h=this.ia[f];if(null==h)return new vj(null,this.oa+1,lj(this.ia,f,uj.Tc(a+5,b,c,d,e)));a=h.Tc(a+5,b,c,d,e);return a===h?this:new vj(null,this.oa,lj(this.ia,f,a))};g.Fe=function(a,b,c,d){var e=this.ia[b>>>a&31];return null!=e?e.Fe(a+5,b,c,d):d};g.He=function(a,b,c){var d=b>>>a&31,e=this.ia[d];return null!=e?(a=e.He(a+5,b,c),a===e?this:null==a?8>=this.oa?Cj(this,null,d):new vj(null,this.oa-1,lj(this.ia,d,a)):new vj(null,this.oa,lj(this.ia,d,a))):this};g.Ca=function(){return new Dj(this.ia)};
function Gj(a,b,c){b*=2;for(var d=0;;)if(d<b){if(kj(c,a[d]))return d;d+=2}else return-1}function Hj(a,b,c,d){this.Za=a;this.od=b;this.oa=c;this.ia=d;this.na=131072;this.ha=0}g=Hj.prototype;g.rd=function(a){if(a===this.Za)return this;var b=Array(2*(this.oa+1));If(this.ia,0,b,0,2*this.oa);return new Hj(a,this.od,this.oa,b)};
g.Ie=function(a,b,c,d,e){b=Gj(this.ia,this.oa,d);if(-1===b)return this;e.val=!0;if(1===this.oa)return null;a=this.rd(a);e=a.ia;e[b]=e[2*this.oa-2];e[b+1]=e[2*this.oa-1];e[2*this.oa-1]=null;e[2*this.oa-2]=null;--a.oa;return a};g.Ge=function(){return sj?sj(this.ia):tj.call(null,this.ia)};g.Td=function(a,b){return oj(this.ia,a,b)};g.Sd=function(a,b,c,d){a=Gj(this.ia,this.oa,c);return 0>a?d:kj(c,this.ia[a])?this.ia[a+1]:d};
g.Uc=function(a,b,c,d,e,f){if(c===this.od){b=Gj(this.ia,this.oa,d);if(-1===b){if(this.ia.length>2*this.oa)return b=2*this.oa,c=2*this.oa+1,a=this.rd(a),a.ia[b]=d,a.ia[c]=e,f.val=!0,a.oa+=1,a;c=this.ia.length;b=Array(c+2);If(this.ia,0,b,0,c);b[c]=d;b[c+1]=e;f.val=!0;d=this.oa+1;a===this.Za?(this.ia=b,this.oa=d,a=this):a=new Hj(this.Za,this.od,d,b);return a}return this.ia[b+1]===e?this:nj(this,a,b+1,e)}return(new qj(a,1<<(this.od>>>b&31),[null,this,null,null])).Uc(a,b,c,d,e,f)};
g.Tc=function(a,b,c,d,e){return b===this.od?(a=Gj(this.ia,this.oa,c),-1===a?(a=2*this.oa,b=Array(a+2),If(this.ia,0,b,0,a),b[a]=c,b[a+1]=d,e.val=!0,new Hj(null,this.od,this.oa+1,b)):D.aa(this.ia[a+1],d)?this:new Hj(null,this.od,this.oa,lj(this.ia,a+1,d))):(new qj(null,1<<(this.od>>>a&31),[null,this])).Tc(a,b,c,d,e)};g.Fe=function(a,b,c,d){a=Gj(this.ia,this.oa,c);return 0>a?d:kj(c,this.ia[a])?new Y(this.ia[a],this.ia[a+1]):d};
g.He=function(a,b,c){a=Gj(this.ia,this.oa,c);return-1===a?this:1===this.oa?null:new Hj(null,this.od,this.oa-1,mj(this.ia,vg(a,2)))};g.Ca=function(){return new pj(this.ia)};function xj(a){switch(arguments.length){case 6:return Bj(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return wj(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",t.ba(arguments.length)].join(""));}}
function Bj(a,b,c,d,e,f){var h=te(b);if(h===d)return new Hj(null,h,2,[b,c,e,f]);var k=new jj;return uj.Tc(a,h,b,c,k).Tc(a,d,e,f,k)}function wj(a,b,c,d,e,f,h){var k=te(c);if(k===e)return new Hj(null,k,2,[c,d,f,h]);var m=new jj;return uj.Uc(a,b,k,c,d,m).Uc(a,b,e,f,h,m)}function Ij(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.ga=e;this.ha=32374988;this.na=0}g=Ij.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.qa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return $e(this,b,0);case 2:return $e(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.ba=function(b){return $e(this,b,0)};a.aa=function(b,c){return $e(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return cf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return cf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.ba=a;b.aa=function(c,d){return cf(this,c,d)};return b}();g.sa=function(){return this.meta};g.$a=function(){if(null==this.s){var a=this.nodes,b=this.i+2;return Jj?Jj(a,b,null):tj.call(null,a,b,null)}a=this.nodes;b=this.i;var c=K(this.s);return Jj?Jj(a,b,c):tj.call(null,a,b,c)};
g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=Je(this)};g.qa=function(a,b){return ff(this,b)};g.Xa=function(){return Fe};g.gb=function(a,b){return hf(b,this)};g.hb=function(a,b,c){return kf(b,c,this)};g.ib=function(){return null==this.s?new Y(this.nodes[this.i],this.nodes[this.i+1]):J(this.s)};
g.pb=function(){var a=this,b=null==a.s?function(){var c=a.nodes,d=a.i+2;return Jj?Jj(c,d,null):tj.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=K(a.s);return Jj?Jj(c,d,e):tj.call(null,c,d,e)}();return null!=b?b:Fe};g.va=function(){return this};g.ta=function(a,b){return b===this.meta?this:new Ij(b,this.nodes,this.i,this.s,this.ga)};g.za=function(a,b){return gf(b,this)};Ij.prototype[Fc]=function(){return He(this)};
function tj(a){switch(arguments.length){case 1:return sj(arguments[0]);case 3:return Jj(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.ba(arguments.length)].join(""));}}function sj(a){return Jj(a,0,null)}function Jj(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new Ij(null,a,b,null,null);var d=a[b+1];if(r(d)&&(d=d.Ge(),r(d)))return new Ij(null,a,b+2,d,null);b+=2}else return null;else return new Ij(null,a,b,c,null)}
function Kj(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.ga=e;this.ha=32374988;this.na=0}g=Kj.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.qa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return $e(this,b,0);case 2:return $e(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.ba=function(b){return $e(this,b,0)};a.aa=function(b,c){return $e(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return cf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return cf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.ba=a;b.aa=function(c,d){return cf(this,c,d)};return b}();g.sa=function(){return this.meta};g.$a=function(){var a=this.nodes,b=this.i,c=K(this.s);return Lj?Lj(a,b,c):Fj.call(null,a,b,c)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=Je(this)};
g.qa=function(a,b){return ff(this,b)};g.Xa=function(){return Fe};g.gb=function(a,b){return hf(b,this)};g.hb=function(a,b,c){return kf(b,c,this)};g.ib=function(){return J(this.s)};g.pb=function(){var a=this.nodes;var b=this.i,c=K(this.s);a=Lj?Lj(a,b,c):Fj.call(null,a,b,c);return null!=a?a:Fe};g.va=function(){return this};g.ta=function(a,b){return b===this.meta?this:new Kj(b,this.nodes,this.i,this.s,this.ga)};g.za=function(a,b){return gf(b,this)};Kj.prototype[Fc]=function(){return He(this)};
function Fj(a){switch(arguments.length){case 1:return Ej(arguments[0]);case 3:return Lj(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.ba(arguments.length)].join(""));}}function Ej(a){return Lj(a,0,null)}function Lj(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(r(d)&&(d=d.Ge(),r(d)))return new Kj(null,a,b+1,d,null);b+=1}else return null;else return new Kj(null,a,b,c,null)}function Mj(a,b){this.Cb=a;this.oh=b;this.seen=!1}
Mj.prototype.mb=function(){return!this.seen||this.oh.mb()};Mj.prototype.next=function(){if(this.seen)return this.oh.next();this.seen=!0;return new Y(null,this.Cb)};Mj.prototype.remove=function(){return Error("Unsupported operation")};function Nj(a,b,c,d,e,f){this.meta=a;this.oa=b;this.root=c;this.Bb=d;this.Cb=e;this.ga=f;this.ha=16123663;this.na=139268}g=Nj.prototype;g.ld=function(a,b){return null==b?this.Bb?new Y(null,this.Cb):null:null==this.root?null:this.root.Fe(0,te(b),b,null)};g.toString=function(){return le(this)};
g.equiv=function(a){return this.qa(null,a)};g.keys=function(){return He(dj.ba?dj.ba(this):dj.call(null,this))};g.entries=function(){return new Zi(E(E(this)))};g.values=function(){return He(ej.ba?ej.ba(this):ej.call(null,this))};g.has=function(a){return Of(this,a)};g.get=function(a,b){return this.la(null,a,b)};
g.forEach=function(a){for(var b=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.La(null,e),h=Q(f,0,null);f=Q(f,1,null);a.aa?a.aa(f,h):a.call(null,f,h);e+=1}else if(b=E(b))Hf(b)?(c=ae(b),b=be(b),h=c,d=M(c),c=h):(c=J(b),h=Q(c,0,null),f=Q(c,1,null),a.aa?a.aa(f,h):a.call(null,f,h),b=K(b),c=null,d=0),e=0;else return null};g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){return null==b?this.Bb?this.Cb:c:null==this.root?c:this.root.Sd(0,te(b),b,c)};
g.Ja=function(a,b,c){a=this.Bb?b.ca?b.ca(c,null,this.Cb):b.call(null,c,null,this.Cb):c;return Qe(a)?y(a):null!=this.root?Re(this.root.Td(b,a)):a};g.Ca=function(){var a=this.root?je(this.root):oh();return this.Bb?new Mj(this.Cb,a):a};g.sa=function(){return this.meta};g.xa=function(){return this.oa};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=Le(this)};g.qa=function(a,b){return Xi(this,b)};g.Bd=function(){return new Oj(this.root,this.oa,this.Bb,this.Cb)};g.Xa=function(){return sd(hj,this.meta)};
g.Ka=function(a,b){if(null==b)return this.Bb?new Nj(this.meta,this.oa-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.He(0,te(b),b);return a===this.root?this:new Nj(this.meta,this.oa-1,a,this.Bb,this.Cb,null)};
g.ra=function(a,b,c){if(null==b)return this.Bb&&c===this.Cb?this:new Nj(this.meta,this.Bb?this.oa:this.oa+1,this.root,!0,c,null);a=new jj;b=(null==this.root?uj:this.root).Tc(0,te(b),b,c,a);return b===this.root?this:new Nj(this.meta,a.val?this.oa+1:this.oa,b,this.Bb,this.Cb,null)};g.va=function(){if(0<this.oa){var a=null!=this.root?this.root.Ge():null;return this.Bb?gf(new Y(null,this.Cb),a):a}return null};g.ta=function(a,b){return b===this.meta?this:new Nj(b,this.oa,this.root,this.Bb,this.Cb,this.ga)};
g.za=function(a,b){if(Gf(b))return this.ra(null,x(b,0),x(b,1));a=this;for(b=E(b);;){if(null==b)return a;var c=J(b);if(Gf(c))a=dd(a,x(c,0),x(c,1)),b=K(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.ba(arguments[1]);case 2:return this.aa(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.ba(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ic(b)))};
g.ba=function(a){return this.Aa(null,a)};g.aa=function(a,b){return this.la(null,a,b)};var hj=new Nj(null,0,null,!1,null,Me);function Pj(a,b){for(var c=a.length,d=0,e=Sd(hj);;)if(d<c){var f=d+1;e=Wd(e,a[d],b[d]);d=f}else return Ud(e)}Nj.prototype[Fc]=function(){return He(this)};function Oj(a,b,c,d){this.Za={};this.root=a;this.count=b;this.Bb=c;this.Cb=d;this.ha=259;this.na=56}
function Qj(a,b,c){if(a.Za){if(null==b)a.Cb!==c&&(a.Cb=c),a.Bb||(a.count+=1,a.Bb=!0);else{var d=new jj;b=(null==a.root?uj:a.root).Uc(a.Za,0,te(b),b,c,d);b!==a.root&&(a.root=b);d.val&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=Oj.prototype;g.xa=function(){if(this.Za)return this.count;throw Error("count after persistent!");};g.Aa=function(a,b){return null==b?this.Bb?this.Cb:null:null==this.root?null:this.root.Sd(0,te(b),b)};
g.la=function(a,b,c){return null==b?this.Bb?this.Cb:c:null==this.root?c:this.root.Sd(0,te(b),b,c)};g.Cd=function(a,b){a:if(this.Za)if(Fi(b))a=Qj(this,Gi.ba?Gi.ba(b):Gi.call(null,b),Hi.ba?Hi.ba(b):Hi.call(null,b));else if(Gf(b))a=Qj(this,b.ba?b.ba(0):b.call(null,0),b.ba?b.ba(1):b.call(null,1));else for(a=E(b),b=this;;){var c=J(a);if(r(c))a=K(a),b=Qj(b,Gi.ba?Gi.ba(c):Gi.call(null,c),Hi.ba?Hi.ba(c):Hi.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
g.Md=function(){if(this.Za){this.Za=null;var a=new Nj(null,this.count,this.root,this.Bb,this.Cb,null)}else throw Error("persistent! called twice");return a};g.Zd=function(a,b,c){return Qj(this,b,c)};g.Nf=function(a,b){if(this.Za)null==b?this.Bb&&(this.Bb=!1,this.Cb=null,--this.count):null!=this.root&&(a=new jj,b=this.root.Ie(this.Za,0,te(b),b,a),b!==this.root&&(this.root=b),a.val&&--this.count);else throw Error("dissoc! after persistent!");return this};
g.call=function(a){switch(arguments.length-1){case 1:return this.ba(arguments[1]);case 2:return this.aa(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.ba(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ic(b)))};g.ba=function(a){return this.Aa(null,a)};g.aa=function(a,b){return this.la(null,a,b)};function Rj(a,b,c){for(var d=b;;)if(null!=a)b=c?a.left:a.right,d=of.aa(d,a),a=b;else return d}
function Sj(a,b,c,d,e){this.meta=a;this.stack=b;this.Kd=c;this.oa=d;this.ga=e;this.ha=32374990;this.na=0}g=Sj.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.qa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return $e(this,b,0);case 2:return $e(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.ba=function(b){return $e(this,b,0)};a.aa=function(b,c){return $e(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return cf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return cf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.ba=a;b.aa=function(c,d){return cf(this,c,d)};return b}();g.sa=function(){return this.meta};g.$a=function(){var a=J(this.stack);a=Rj(this.Kd?a.right:a.left,K(this.stack),this.Kd);return null==a?null:new Sj(null,a,this.Kd,this.oa-1,null)};
g.xa=function(){return 0>this.oa?M(K(this))+1:this.oa};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=Je(this)};g.qa=function(a,b){return ff(this,b)};g.Xa=function(){return Fe};g.gb=function(a,b){return hf(b,this)};g.hb=function(a,b,c){return kf(b,c,this)};g.ib=function(){var a=this.stack;return null==a?null:ld(a)};g.pb=function(){var a=J(this.stack);a=Rj(this.Kd?a.right:a.left,K(this.stack),this.Kd);return null!=a?new Sj(null,a,this.Kd,this.oa-1,null):Fe};g.va=function(){return this};
g.ta=function(a,b){return b===this.meta?this:new Sj(b,this.stack,this.Kd,this.oa,this.ga)};g.za=function(a,b){return gf(b,this)};Sj.prototype[Fc]=function(){return He(this)};function Tj(a,b,c){return new Sj(null,Rj(a,null,b),b,c,null)}
function Uj(a,b,c,d){return c instanceof Vj?c.left instanceof Vj?new Vj(c.key,c.val,c.left.jd(),new Wj(a,b,c.right,d)):c.right instanceof Vj?new Vj(c.right.key,c.right.val,new Wj(c.key,c.val,c.left,c.right.left),new Wj(a,b,c.right.right,d)):new Wj(a,b,c,d):new Wj(a,b,c,d)}
function Xj(a,b,c,d){return d instanceof Vj?d.right instanceof Vj?new Vj(d.key,d.val,new Wj(a,b,c,d.left),d.right.jd()):d.left instanceof Vj?new Vj(d.left.key,d.left.val,new Wj(a,b,c,d.left.left),new Wj(d.key,d.val,d.left.right,d.right)):new Wj(a,b,c,d):new Wj(a,b,c,d)}
function Yj(a,b,c,d){if(c instanceof Vj)return new Vj(a,b,c.jd(),d);if(d instanceof Wj)return Xj(a,b,c,d.Le());if(d instanceof Vj&&d.left instanceof Wj)return new Vj(d.left.key,d.left.val,new Wj(a,b,c,d.left.left),Xj(d.key,d.val,d.left.right,d.right.Le()));throw Error("red-black tree invariant violation");}
function Zj(a,b,c,d){if(d instanceof Vj)return new Vj(a,b,c,d.jd());if(c instanceof Wj)return Uj(a,b,c.Le(),d);if(c instanceof Vj&&c.right instanceof Wj)return new Vj(c.right.key,c.right.val,Uj(c.key,c.val,c.left.Le(),c.right.left),new Wj(a,b,c.right.right,d));throw Error("red-black tree invariant violation");}
var ak=function ak(a,b,c){var e=null!=a.left?function(){var k=a.left;return ak.ca?ak.ca(k,b,c):ak.call(null,k,b,c)}():c;if(Qe(e))return e;var f=function(){var k=a.key,m=a.val;return b.ca?b.ca(e,k,m):b.call(null,e,k,m)}();if(Qe(f))return f;if(null!=a.right){var h=a.right;return ak.ca?ak.ca(h,b,f):ak.call(null,h,b,f)}return f};function Wj(a,b,c,d){this.key=a;this.val=b;this.left=c;this.right=d;this.ga=null;this.ha=166619935;this.na=0}g=Wj.prototype;
g.ld=function(a,b){switch(b){case 0:return new Y(0,this.key);case 1:return new Y(1,this.val);default:return null}};g.lastIndexOf=function(){function a(c){return cf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return cf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.ba=a;b.aa=function(c,d){return cf(this,c,d)};return b}();
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return $e(this,b,0);case 2:return $e(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.ba=function(b){return $e(this,b,0)};a.aa=function(b,c){return $e(this,b,c)};return a}();g.xg=function(a){return a.Ag(this)};g.Le=function(){return new Vj(this.key,this.val,this.left,this.right)};g.jd=function(){return this};g.wg=function(a){return a.zg(this)};g.replace=function(a,b,c,d){return new Wj(a,b,c,d)};
g.zg=function(a){return new Wj(a.key,a.val,this,a.right)};g.Ag=function(a){return new Wj(a.key,a.val,a.left,this)};g.Td=function(a,b){return ak(this,a,b)};g.Aa=function(a,b){return this.fb(null,b,null)};g.la=function(a,b,c){return this.fb(null,b,c)};g.La=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};g.fb=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.Qc=function(a,b,c){return(new X(null,2,5,Z,[this.key,this.val],null)).Qc(null,b,c)};
g.sa=function(){return null};g.xa=function(){return 2};g.Ef=function(){return this.key};g.Ff=function(){return this.val};g.md=function(){return this.val};g.nd=function(){return new X(null,1,5,Z,[this.key],null)};g.Dc=function(){return new I([this.val,this.key],0,null)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=Je(this)};g.qa=function(a,b){return ff(this,b)};g.Xa=function(){return null};g.gb=function(a,b){return Te(this,b)};g.hb=function(a,b,c){return Ue(this,b,c)};
g.ra=function(a,b,c){return R.ca(new X(null,2,5,Z,[this.key,this.val],null),b,c)};g.va=function(){return new I([this.key,this.val],0,null)};g.ta=function(a,b){return sd(new X(null,2,5,Z,[this.key,this.val],null),b)};g.za=function(a,b){return new X(null,3,5,Z,[this.key,this.val,b],null)};g.call=function(a){switch(arguments.length-1){case 1:return this.ba(arguments[1]);case 2:return this.aa(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.ba(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Ic(b)))};g.ba=function(a){return this.La(null,a)};g.aa=function(a,b){return this.fb(null,a,b)};Wj.prototype[Fc]=function(){return He(this)};function Vj(a,b,c,d){this.key=a;this.val=b;this.left=c;this.right=d;this.ga=null;this.ha=166619935;this.na=0}g=Vj.prototype;g.ld=function(a,b){switch(b){case 0:return new Y(0,this.key);case 1:return new Y(1,this.val);default:return null}};
g.lastIndexOf=function(){function a(c){return cf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return cf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.ba=a;b.aa=function(c,d){return cf(this,c,d)};return b}();
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return $e(this,b,0);case 2:return $e(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.ba=function(b){return $e(this,b,0)};a.aa=function(b,c){return $e(this,b,c)};return a}();g.xg=function(a){return new Vj(this.key,this.val,this.left,a)};g.Le=function(){throw Error("red-black tree invariant violation");};g.jd=function(){return new Wj(this.key,this.val,this.left,this.right)};
g.wg=function(a){return new Vj(this.key,this.val,a,this.right)};g.replace=function(a,b,c,d){return new Vj(a,b,c,d)};g.zg=function(a){return this.left instanceof Vj?new Vj(this.key,this.val,this.left.jd(),new Wj(a.key,a.val,this.right,a.right)):this.right instanceof Vj?new Vj(this.right.key,this.right.val,new Wj(this.key,this.val,this.left,this.right.left),new Wj(a.key,a.val,this.right.right,a.right)):new Wj(a.key,a.val,this,a.right)};
g.Ag=function(a){return this.right instanceof Vj?new Vj(this.key,this.val,new Wj(a.key,a.val,a.left,this.left),this.right.jd()):this.left instanceof Vj?new Vj(this.left.key,this.left.val,new Wj(a.key,a.val,a.left,this.left.left),new Wj(this.key,this.val,this.left.right,this.right)):new Wj(a.key,a.val,a.left,this)};g.Td=function(a,b){return ak(this,a,b)};g.Aa=function(a,b){return this.fb(null,b,null)};g.la=function(a,b,c){return this.fb(null,b,c)};
g.La=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};g.fb=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.Qc=function(a,b,c){return(new X(null,2,5,Z,[this.key,this.val],null)).Qc(null,b,c)};g.sa=function(){return null};g.xa=function(){return 2};g.Ef=function(){return this.key};g.Ff=function(){return this.val};g.md=function(){return this.val};g.nd=function(){return new X(null,1,5,Z,[this.key],null)};
g.Dc=function(){return new I([this.val,this.key],0,null)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=Je(this)};g.qa=function(a,b){return ff(this,b)};g.Xa=function(){return null};g.gb=function(a,b){return Te(this,b)};g.hb=function(a,b,c){return Ue(this,b,c)};g.ra=function(a,b,c){return R.ca(new X(null,2,5,Z,[this.key,this.val],null),b,c)};g.va=function(){return new I([this.key,this.val],0,null)};g.ta=function(a,b){return sd(new X(null,2,5,Z,[this.key,this.val],null),b)};
g.za=function(a,b){return new X(null,3,5,Z,[this.key,this.val,b],null)};g.call=function(a){switch(arguments.length-1){case 1:return this.ba(arguments[1]);case 2:return this.aa(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.ba(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ic(b)))};g.ba=function(a){return this.La(null,a)};g.aa=function(a,b){return this.fb(null,a,b)};Vj.prototype[Fc]=function(){return He(this)};
var bk=function bk(a,b,c,d,e){if(null==b)return new Vj(c,d,null,null);var h=function(){var k=b.key;return a.aa?a.aa(c,k):a.call(null,c,k)}();if(0===h)return e[0]=b,null;if(0>h)return h=function(){var k=b.left;return bk.ya?bk.ya(a,k,c,d,e):bk.call(null,a,k,c,d,e)}(),null!=h?b.wg(h):null;h=function(){var k=b.right;return bk.ya?bk.ya(a,k,c,d,e):bk.call(null,a,k,c,d,e)}();return null!=h?b.xg(h):null},ck=function ck(a,b){if(null==a)return b;if(null==b)return a;if(a instanceof Vj){if(b instanceof Vj){var d=
function(){var e=a.right,f=b.left;return ck.aa?ck.aa(e,f):ck.call(null,e,f)}();return d instanceof Vj?new Vj(d.key,d.val,new Vj(a.key,a.val,a.left,d.left),new Vj(b.key,b.val,d.right,b.right)):new Vj(a.key,a.val,a.left,new Vj(b.key,b.val,d,b.right))}return new Vj(a.key,a.val,a.left,function(){var e=a.right;return ck.aa?ck.aa(e,b):ck.call(null,e,b)}())}if(b instanceof Vj)return new Vj(b.key,b.val,function(){var e=b.left;return ck.aa?ck.aa(a,e):ck.call(null,a,e)}(),b.right);d=function(){var e=a.right,
f=b.left;return ck.aa?ck.aa(e,f):ck.call(null,e,f)}();return d instanceof Vj?new Vj(d.key,d.val,new Wj(a.key,a.val,a.left,d.left),new Wj(b.key,b.val,d.right,b.right)):Yj(a.key,a.val,a.left,new Wj(b.key,b.val,d,b.right))},dk=function dk(a,b,c,d){if(null!=b){var f=function(){var h=b.key;return a.aa?a.aa(c,h):a.call(null,c,h)}();if(0===f)return d[0]=b,ck(b.left,b.right);if(0>f)return f=function(){var h=b.left;return dk.ka?dk.ka(a,h,c,d):dk.call(null,a,h,c,d)}(),null!=f||null!=d[0]?b.left instanceof Wj?
Yj(b.key,b.val,f,b.right):new Vj(b.key,b.val,f,b.right):null;f=function(){var h=b.right;return dk.ka?dk.ka(a,h,c,d):dk.call(null,a,h,c,d)}();return null!=f||null!=d[0]?b.right instanceof Wj?Zj(b.key,b.val,b.left,f):new Vj(b.key,b.val,b.left,f):null}return null},ek=function ek(a,b,c,d){var f=b.key,h=a.aa?a.aa(c,f):a.call(null,c,f);return 0===h?b.replace(f,d,b.left,b.right):0>h?b.replace(f,b.val,function(){var k=b.left;return ek.ka?ek.ka(a,k,c,d):ek.call(null,a,k,c,d)}(),b.right):b.replace(f,b.val,
b.left,function(){var k=b.right;return ek.ka?ek.ka(a,k,c,d):ek.call(null,a,k,c,d)}())};function fk(a,b,c,d,e){this.Ec=a;this.tree=b;this.oa=c;this.meta=d;this.ga=e;this.ha=418776847;this.na=8192}g=fk.prototype;g.ld=function(a,b){return gk(this,b)};
g.forEach=function(a){for(var b=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.La(null,e),h=Q(f,0,null);f=Q(f,1,null);a.aa?a.aa(f,h):a.call(null,f,h);e+=1}else if(b=E(b))Hf(b)?(c=ae(b),b=be(b),h=c,d=M(c),c=h):(c=J(b),h=Q(c,0,null),f=Q(c,1,null),a.aa?a.aa(f,h):a.call(null,f,h),b=K(b),c=null,d=0),e=0;else return null};g.get=function(a,b){return this.la(null,a,b)};g.entries=function(){return new Zi(E(E(this)))};g.toString=function(){return le(this)};
g.keys=function(){return He(dj.ba?dj.ba(this):dj.call(null,this))};g.values=function(){return He(ej.ba?ej.ba(this):ej.call(null,this))};g.equiv=function(a){return this.qa(null,a)};function gk(a,b){for(var c=a.tree;;)if(null!=c){var d=c.key;d=a.Ec.aa?a.Ec.aa(b,d):a.Ec.call(null,b,d);if(0===d)return c;c=0>d?c.left:c.right}else return null}g.has=function(a){return Of(this,a)};g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){a=gk(this,b);return null!=a?a.val:c};
g.Ja=function(a,b,c){return null!=this.tree?Re(ak(this.tree,b,c)):c};g.sa=function(){return this.meta};g.xa=function(){return this.oa};g.Dc=function(){return 0<this.oa?Tj(this.tree,!1,this.oa):null};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=Le(this)};g.qa=function(a,b){return Xi(this,b)};g.Xa=function(){return new fk(this.Ec,null,0,this.meta,0)};
g.Ka=function(a,b){a=[null];b=dk(this.Ec,this.tree,b,a);return null==b?null==af(a,0)?this:new fk(this.Ec,null,0,this.meta,null):new fk(this.Ec,b.jd(),this.oa-1,this.meta,null)};g.ra=function(a,b,c){a=[null];var d=bk(this.Ec,this.tree,b,c,a);return null==d?(a=af(a,0),D.aa(c,a.val)?this:new fk(this.Ec,ek(this.Ec,this.tree,b,c),this.oa,this.meta,null)):new fk(this.Ec,d.jd(),this.oa+1,this.meta,null)};g.va=function(){return 0<this.oa?Tj(this.tree,!0,this.oa):null};
g.ta=function(a,b){return b===this.meta?this:new fk(this.Ec,this.tree,this.oa,b,this.ga)};g.za=function(a,b){if(Gf(b))return this.ra(null,x(b,0),x(b,1));a=this;for(b=E(b);;){if(null==b)return a;var c=J(b);if(Gf(c))a=dd(a,x(c,0),x(c,1)),b=K(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.ba(arguments[1]);case 2:return this.aa(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.ba(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ic(b)))};g.ba=function(a){return this.Aa(null,a)};g.aa=function(a,b){return this.la(null,a,b)};var hk=new fk(Rf,null,0,null,Me);fk.prototype[Fc]=function(){return He(this)};
var ik=function ik(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new I(c.slice(0),0,null):null;return ik.ea(c)};ik.ea=function(a){a=E(a);for(var b=Sd(hj);;)if(a){var c=K(K(a));b=$g.ca(b,J(a),lf(a));a=c}else return Ud(b)};ik.ma=0;ik.pa=function(a){return this.ea(E(a))};var jk=function jk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new I(c.slice(0),0,null):null;return jk.ea(c)};
jk.ea=function(a){a=a instanceof I&&0===a.i?a.ia:Jc(a);return tf(a)};jk.ma=0;jk.pa=function(a){return this.ea(E(a))};function kk(a,b){this.Va=a;this.Ac=b;this.ha=32374988;this.na=0}g=kk.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.qa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return $e(this,b,0);case 2:return $e(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.ba=function(b){return $e(this,b,0)};a.aa=function(b,c){return $e(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return cf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return cf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.ba=a;b.aa=function(c,d){return cf(this,c,d)};return b}();g.sa=function(){return this.Ac};g.$a=function(){var a=(null!=this.Va?this.Va.ha&128||l===this.Va.te||(this.Va.ha?0:Bc(Yc,this.Va)):Bc(Yc,this.Va))?this.Va.$a(null):K(this.Va);return null==a?null:new kk(a,null)};g.wa=function(){return Je(this)};
g.qa=function(a,b){return ff(this,b)};g.Xa=function(){return Fe};g.gb=function(a,b){return hf(b,this)};g.hb=function(a,b,c){return kf(b,c,this)};g.ib=function(){return this.Va.ib(null).key};g.pb=function(){var a=(null!=this.Va?this.Va.ha&128||l===this.Va.te||(this.Va.ha?0:Bc(Yc,this.Va)):Bc(Yc,this.Va))?this.Va.$a(null):K(this.Va);return null!=a?new kk(a,null):Fe};g.va=function(){return this};g.ta=function(a,b){return b===this.Ac?this:new kk(this.Va,b)};g.za=function(a,b){return gf(b,this)};
kk.prototype[Fc]=function(){return He(this)};function dj(a){return(a=E(a))?new kk(a,null):null}function Gi(a){return hd(a)}function lk(a,b){this.Va=a;this.Ac=b;this.ha=32374988;this.na=0}g=lk.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.qa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return $e(this,b,0);case 2:return $e(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.ba=function(b){return $e(this,b,0)};a.aa=function(b,c){return $e(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return cf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return cf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.ba=a;b.aa=function(c,d){return cf(this,c,d)};return b}();g.sa=function(){return this.Ac};g.$a=function(){var a=(null!=this.Va?this.Va.ha&128||l===this.Va.te||(this.Va.ha?0:Bc(Yc,this.Va)):Bc(Yc,this.Va))?this.Va.$a(null):K(this.Va);return null==a?null:new lk(a,null)};g.wa=function(){return Je(this)};
g.qa=function(a,b){return ff(this,b)};g.Xa=function(){return Fe};g.gb=function(a,b){return hf(b,this)};g.hb=function(a,b,c){return kf(b,c,this)};g.ib=function(){return this.Va.ib(null).val};g.pb=function(){var a=(null!=this.Va?this.Va.ha&128||l===this.Va.te||(this.Va.ha?0:Bc(Yc,this.Va)):Bc(Yc,this.Va))?this.Va.$a(null):K(this.Va);return null!=a?new lk(a,null):Fe};g.va=function(){return this};g.ta=function(a,b){return b===this.Ac?this:new lk(this.Va,b)};g.za=function(a,b){return gf(b,this)};
lk.prototype[Fc]=function(){return He(this)};function ej(a){return(a=E(a))?new lk(a,null):null}function Hi(a){return id(a)}var mk=function mk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new I(c.slice(0),0,null):null;return mk.ea(c)};mk.ea=function(a){return r(th(cg,a))?v.aa(function(b,c){return of.aa(r(b)?b:W,c)},a):null};mk.ma=0;mk.pa=function(a){return this.ea(E(a))};
var nk=function nk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new I(c.slice(1),0,null):null;return nk.ea(arguments[0],c)};nk.ea=function(a,b){if(r(th(cg,b))){var c=function(d,e){var f=hd(e),h=id(e);return Of(d,f)?R.ca(d,f,function(){var k=B.aa(d,f);return a.aa?a.aa(k,h):a.call(null,k,h)}()):R.ca(d,f,h)};return v.aa(function(d,e){return v.ca(c,r(d)?d:W,E(e))},b)}return null};nk.ma=1;nk.pa=function(a){var b=J(a);a=K(a);return this.ea(b,a)};
function ok(a,b){var c=W;for(b=E(b);;)if(b){var d=J(b),e=B.ca(a,d,pk);c=mh.aa(e,pk)?R.ca(c,d,e):c;b=K(b)}else return sd(c,xf(a))}function qk(a){this.iter=a}qk.prototype.mb=function(){return this.iter.mb()};qk.prototype.next=function(){if(this.iter.mb())return this.iter.next().key;throw Error("No such element");};qk.prototype.remove=function(){return Error("Unsupported operation")};function rk(a,b,c){this.meta=a;this.sd=b;this.ga=c;this.ha=15077647;this.na=139268}g=rk.prototype;g.toString=function(){return le(this)};
g.equiv=function(a){return this.qa(null,a)};g.keys=function(){return He(E(this))};g.entries=function(){return new $i(E(E(this)))};g.values=function(){return He(E(this))};g.has=function(a){return Of(this,a)};
g.forEach=function(a){for(var b=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.La(null,e),h=Q(f,0,null);f=Q(f,1,null);a.aa?a.aa(f,h):a.call(null,f,h);e+=1}else if(b=E(b))Hf(b)?(c=ae(b),b=be(b),h=c,d=M(c),c=h):(c=J(b),h=Q(c,0,null),f=Q(c,1,null),a.aa?a.aa(f,h):a.call(null,f,h),b=K(b),c=null,d=0),e=0;else return null};g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){a=ed(this.sd,b);return r(a)?hd(a):c};g.Ca=function(){return new qk(je(this.sd))};g.sa=function(){return this.meta};
g.xa=function(){return Oc(this.sd)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=Le(this)};g.qa=function(a,b){if(Bf(b))if(M(this)===M(b))try{return bg(function(c,d){return(c=Of(b,d))?c:Pe(!1)},!0,this.sd)}catch(c){if(c instanceof Error)return!1;throw c;}else return!1;else return!1};g.Bd=function(){return new sk(Sd(this.sd))};g.Xa=function(){return sd(tk,this.meta)};g.If=function(a,b){return new rk(this.meta,gd(this.sd,b),null)};g.va=function(){return dj(this.sd)};
g.ta=function(a,b){return b===this.meta?this:new rk(b,this.sd,this.ga)};g.za=function(a,b){return new rk(this.meta,R.ca(this.sd,b,null),null)};g.call=function(a){switch(arguments.length-1){case 1:return this.ba(arguments[1]);case 2:return this.aa(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.ba(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ic(b)))};g.ba=function(a){return this.Aa(null,a)};
g.aa=function(a,b){return this.la(null,a,b)};var tk=new rk(null,W,Me);function Qf(a){for(var b=a.length,c=Sd(tk),d=0;;)if(d<b)Td(c,a[d]),d+=1;else break;return Ud(c)}rk.prototype[Fc]=function(){return He(this)};function sk(a){this.Wd=a;this.na=136;this.ha=259}g=sk.prototype;g.Cd=function(a,b){this.Wd=$g.ca(this.Wd,b,null);return this};g.Md=function(){return new rk(null,Ud(this.Wd),null)};g.xa=function(){return M(this.Wd)};g.Aa=function(a,b){return this.la(null,b,null)};
g.la=function(a,b,c){return bd(this.Wd,b,Jf)===Jf?c:b};g.call=function(a){switch(arguments.length-1){case 1:return this.ba(arguments[1]);case 2:return this.aa(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.ba(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ic(b)))};g.ba=function(a){return bd(this.Wd,a,Jf)===Jf?null:a};g.aa=function(a,b){return bd(this.Wd,a,Jf)===Jf?b:a};
function uk(a){if(Bf(a))return wf(a,null);a=E(a);if(null==a)return tk;if(a instanceof I&&0===a.i)return Qf(a.ia);for(var b=Sd(tk);;)if(null!=a){var c=K(a);b=Td(b,Wc(a));a=c}else return Ud(b)}function vk(a){return function e(c,d){return new Kg(null,function(){var f;a:{var h=c;for(f=d;;){var k=h;h=Q(k,0,null);if(k=E(k))if(Of(f,h))h=Ee(k);else{f=gf(h,e(Ee(k),of.aa(f,h)));break a}else{f=null;break a}}}return f},null,null)}(a,tk)}
function wk(a){for(var b=pf;;)if(K(a))b=of.aa(b,J(a)),a=K(a);else return E(b)}function Jg(a){if(null!=a&&(a.na&4096||l===a.Gf))return a.qe(null);if("string"===typeof a)return a;throw Error(["Doesn't support name: ",t.ba(a)].join(""));}function xk(a,b){var c=Sd(W);a=E(a);for(b=E(b);;)if(a&&b)c=$g.ca(c,J(a),J(b)),a=K(a),b=K(b);else return Ud(c)}
var yk=function yk(a){switch(arguments.length){case 2:return yk.aa(arguments[0],arguments[1]);case 3:return yk.ca(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(3),0,null);return yk.ea(arguments[0],arguments[1],arguments[2],c)}};yk.aa=function(a,b){return b};yk.ca=function(a,b,c){return(a.ba?a.ba(b):a.call(null,b))>(a.ba?a.ba(c):a.call(null,c))?b:c};
yk.ea=function(a,b,c,d){return v.ca(function(e,f){return yk.ca(a,e,f)},yk.ca(a,b,c),d)};yk.pa=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);d=K(d);return this.ea(b,a,c,d)};yk.ma=3;function zk(){this.ia=[]}g=zk.prototype;g.add=function(a){return this.ia.push(a)};g.size=function(){return this.ia.length};g.clear=function(){return this.ia=[]};g.isEmpty=function(){return 0===this.ia.length};g.toArray=function(){return this.ia};
function Ak(){return function(a){var b=new zk;return function(){function c(h,k){b.add(k);return 2===b.size()?(k=Zf(b.toArray()),b.clear(),a.aa?a.aa(h,k):a.call(null,h,k)):h}function d(h){if(!r(b.isEmpty())){var k=Zf(b.toArray());b.clear();h=Re(a.aa?a.aa(h,k):a.call(null,h,k))}return a.ba?a.ba(h):a.call(null,h)}function e(){return a.ja?a.ja():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+
arguments.length);};f.ja=e;f.ba=d;f.aa=c;return f}()}}function Bk(a,b){return new Kg(null,function(){var c=E(b);if(c){var d=J(c);d=a.ba?a.ba(d):a.call(null,d);c=r(d)?gf(J(c),Bk(a,Ee(c))):null}else c=null;return c},null,null)}function Ck(a,b,c){this.start=a;this.step=b;this.count=c;this.ha=82;this.na=0}g=Ck.prototype;g.xa=function(){return this.count};g.ib=function(){return this.start};g.La=function(a,b){return this.start+b*this.step};
g.fb=function(a,b,c){return 0<=b&&b<this.count?this.start+b*this.step:c};g.le=function(){if(1>=this.count)throw Error("-drop-first of empty chunk");return new Ck(this.start+this.step,this.step,this.count-1)};function Dk(a,b,c){this.i=a;this.end=b;this.step=c}Dk.prototype.mb=function(){return 0<this.step?this.i<this.end:this.i>this.end};Dk.prototype.next=function(){var a=this.i;this.i+=this.step;return a};
function Ek(a,b,c,d,e,f,h){this.meta=a;this.start=b;this.end=c;this.step=d;this.jc=e;this.We=f;this.ga=h;this.ha=32375006;this.na=140800}g=Ek.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.qa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return $e(this,b,0);case 2:return $e(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.ba=function(b){return $e(this,b,0)};a.aa=function(b,c){return $e(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return cf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return cf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.ba=a;b.aa=function(c,d){return cf(this,c,d)};return b}();function Fk(a){if(null==a.jc){var b=a.xa(null);32<b?(a.We=new Ek(null,a.start+32*a.step,a.end,a.step,null,null,null),a.jc=new Ck(a.start,a.step,32)):a.jc=new Ck(a.start,a.step,b)}}
g.La=function(a,b){if(0<=b&&b<this.xa(null))return this.start+b*this.step;if(0<=b&&this.start>this.end&&0===this.step)return this.start;throw Error("Index out of bounds");};g.fb=function(a,b,c){return 0<=b&&b<this.xa(null)?this.start+b*this.step:0<=b&&this.start>this.end&&0===this.step?this.start:c};g.Ca=function(){return new Dk(this.start,this.end,this.step)};g.sa=function(){return this.meta};
g.$a=function(){return 0<this.step?this.start+this.step<this.end?new Ek(null,this.start+this.step,this.end,this.step,null,null,null):null:this.start+this.step>this.end?new Ek(null,this.start+this.step,this.end,this.step,null,null,null):null};g.xa=function(){return Math.ceil((this.end-this.start)/this.step)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=Je(this)};g.qa=function(a,b){return ff(this,b)};g.Xa=function(){return Fe};g.gb=function(a,b){return Te(this,b)};
g.hb=function(a,b,c){for(a=this.start;;)if(0<this.step?a<this.end:a>this.end){c=b.aa?b.aa(c,a):b.call(null,c,a);if(Qe(c))return y(c);a+=this.step}else return c};g.ib=function(){return this.start};g.pb=function(){var a=this.$a(null);return null==a?Fe:a};g.va=function(){return this};g.ne=function(){Fk(this);return this.jc};g.Ld=function(){Fk(this);return null==this.We?Fe:this.We};g.ta=function(a,b){return b===this.meta?this:new Ek(b,this.start,this.end,this.step,this.jc,this.We,this.ga)};
g.za=function(a,b){return gf(b,this)};g.me=function(){return E(this.Ld(null))};Ek.prototype[Fc]=function(){return He(this)};var Gk=function Gk(a){switch(arguments.length){case 0:return Gk.ja();case 1:return Gk.ba(arguments[0]);case 2:return Gk.aa(arguments[0],arguments[1]);case 3:return Gk.ca(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.ba(arguments.length)].join(""));}};Gk.ja=function(){return Gk.ca(0,Number.MAX_VALUE,1)};Gk.ba=function(a){return Gk.ca(0,a,1)};
Gk.aa=function(a,b){return Gk.ca(a,b,1)};Gk.ca=function(a,b,c){return 0<c?b<=a?Fe:new Ek(null,a,b,c,null,null,null):0>c?b>=a?Fe:new Ek(null,a,b,c,null,null,null):b===a?Fe:Sh(a)};Gk.ma=3;function Hk(a,b){return new Kg(null,function(){var c=E(b);return c?gf(J(c),Hk(a,Oh(a,c))):null},null,null)}function Ik(a,b){return new X(null,2,5,Z,[Bk(a,b),Qh(a,b)],null)}
function Jk(a,b){return new Kg(null,function(){var c=E(b);if(c){var d=J(c),e=a.ba?a.ba(d):a.call(null,d),f=gf(d,Bk(function(h){return D.aa(e,a.ba?a.ba(h):a.call(null,h))},K(c)));return gf(f,Jk(a,new Kg(null,function(){return Oh(M(f),c)},null,null)))}return null},null,null)}function Kk(a){return Ud(v.ca(function(b,c){return $g.ca(b,c,B.ca(b,c,0)+1)},Sd(W),a))}
function Lk(a,b){return function(){function c(m,n,q){return new X(null,2,5,Z,[a.ca?a.ca(m,n,q):a.call(null,m,n,q),b.ca?b.ca(m,n,q):b.call(null,m,n,q)],null)}function d(m,n){return new X(null,2,5,Z,[a.aa?a.aa(m,n):a.call(null,m,n),b.aa?b.aa(m,n):b.call(null,m,n)],null)}function e(m){return new X(null,2,5,Z,[a.ba?a.ba(m):a.call(null,m),b.ba?b.ba(m):b.call(null,m)],null)}function f(){return new X(null,2,5,Z,[a.ja?a.ja():a.call(null),b.ja?b.ja():b.call(null)],null)}var h=null,k=function(){function m(q,
u,w,z){var F=null;if(3<arguments.length){F=0;for(var H=Array(arguments.length-3);F<H.length;)H[F]=arguments[F+3],++F;F=new I(H,0,null)}return n.call(this,q,u,w,F)}function n(q,u,w,z){return new X(null,2,5,Z,[kh(a,q,u,w,z),kh(b,q,u,w,z)],null)}m.ma=3;m.pa=function(q){var u=J(q);q=K(q);var w=J(q);q=K(q);var z=J(q);q=Ee(q);return n(u,w,z,q)};m.ea=n;return m}();h=function(m,n,q,u){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,
m,n,q);default:var w=null;if(3<arguments.length){w=0;for(var z=Array(arguments.length-3);w<z.length;)z[w]=arguments[w+3],++w;w=new I(z,0,null)}return k.ea(m,n,q,w)}throw Error("Invalid arity: "+arguments.length);};h.ma=3;h.pa=k.pa;h.ja=f;h.ba=e;h.aa=d;h.ca=c;h.ea=k.ea;return h}()}function Mk(a){a:for(var b=a;;)if(b=E(b))b=K(b);else break a;return a}
function Nk(a,b){if("string"===typeof b)return a=a.exec(b),null!=a&&D.aa(a[0],b)?1===a.length?a[0]:Zf(a):null;throw new TypeError("re-matches must match against a string.");}function Ok(a,b){if("string"===typeof b)return a=a.exec(b),null==a?null:1===a.length?a[0]:Zf(a);throw new TypeError("re-find must match against a string.");}
var Pk=function Pk(a,b){var d=a.exec(b);if(null==d)return null;var e=d[0],f=1===d.length?e:Zf(d);return gf(f,new Kg(null,function(){var h=e.length;h=d.index+(1>h?1:h);return h<=b.length?(h=zg.aa(b,h),Pk.aa?Pk.aa(a,h):Pk.call(null,a,h)):null},null,null))};function Qk(a,b){if("string"===typeof b)return Pk(a,b);throw new TypeError("re-seq must match against a string.");}
function Sk(a){if(a instanceof RegExp)return a;var b=Ok(/^\(\?([idmsux]*)\)/,a),c=Q(b,0,null);b=Q(b,1,null);a=zg.aa(a,null==c?0:c.length);return new RegExp(a,r(b)?b:"")}
function Tk(a,b,c,d,e,f,h){var k=oc;oc=null==oc?null:oc-1;try{if(null!=oc&&0>oc)return Kd(a,"#");Kd(a,c);if(0===uc.ba(f))E(h)&&Kd(a,function(){var z=Uk.ba(f);return r(z)?z:"..."}());else{if(E(h)){var m=J(h);b.ca?b.ca(m,a,f):b.call(null,m,a,f)}for(var n=K(h),q=uc.ba(f)-1;;)if(!n||null!=q&&0===q){E(n)&&0===q&&(Kd(a,d),Kd(a,function(){var z=Uk.ba(f);return r(z)?z:"..."}()));break}else{Kd(a,d);var u=J(n);c=a;h=f;b.ca?b.ca(u,c,h):b.call(null,u,c,h);var w=K(n);c=q-1;n=w;q=c}}return Kd(a,e)}finally{oc=k}}
function Vk(a,b){b=E(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.La(null,e);Kd(a,f);e+=1}else if(b=E(b))c=b,Hf(c)?(b=ae(c),d=be(c),c=b,f=M(b),b=d,d=f):(f=J(c),Kd(a,f),b=K(c),c=null,d=0),e=0;else return null}function Wk(a){if(null==kc)throw Error("No *print-fn* fn set for evaluation environment");kc.call(null,a);return null}var Xk={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};
function Yk(a){return['"',t.ba(a.replace(/[\\"\b\f\n\r\t]/g,function(b){return Xk[b]})),'"'].join("")}function Zk(a,b){return Lf(B.aa(a,sc))?null!=b&&(b.ha&131072||l===b.pe)?null!=xf(b):!1:!1}
function $k(a,b,c){if(null==a)return Kd(b,"nil");if(Zk(c,a)){Kd(b,"^");var d=xf(a);al.ca?al.ca(d,b,c):al.call(null,d,b,c);Kd(b," ")}if(a.Fb)return a.Ib(b);if(null!=a?a.ha&2147483648||l===a.Wa||(a.ha?0:Bc(Md,a)):Bc(Md,a))return Nd(a,b,c);if(!0===a||!1===a)return Kd(b,t.ba(a));if("number"===typeof a)return Kd(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":t.ba(a));if(null!=a&&a.constructor===Object)return Kd(b,"#js "),d=Mh.aa(function(f){return new Y(null!=
Nk(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,f)?Ig.ba(f):f,a[f])},ib(a)),bl.ka?bl.ka(d,al,b,c):bl.call(null,d,al,b,c);if(xc(a))return Tk(b,al,"#js ["," ","]",c,a);if("string"==typeof a)return r(rc.ba(c))?Kd(b,Yk(a)):Kd(b,a);if(sa(a)){var e=a.name;c=r(function(){var f=null==e;return f?f:wb(e)}())?"Function":e;return Vk(b,P(["#object[",c,r(!1)?[' "',t.ba(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,h){for(f=t.ba(f);;)if(f.length<h)f=["0",f].join("");else return f},Vk(b,P(['#inst "',
t.ba(a.getUTCFullYear()),"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return Vk(b,P(['#"',a.source,'"']));if(Kc(a))return Vk(b,P(["#object[",a.toString(),"]"]));if(r(function(){var f=null==a?null:a.constructor;return null==f?null:f.yb}()))return Vk(b,P(["#object[",a.constructor.yb.replace(/\//g,"."),"]"]));e=function(){var f=null==a?null:a.constructor;
return null==f?null:f.name}();c=r(function(){var f=null==e;return f?f:wb(e)}())?"Object":e;return null==a.constructor?Vk(b,P(["#object[",c,"]"])):Vk(b,P(["#object[",c," ",t.ba(a),"]"]))}function al(a,b,c){var d=cl.ba(c);return r(d)?(c=R.ca(c,dl,$k),d.ca?d.ca(a,b,c):d.call(null,a,b,c)):$k(a,b,c)}
function el(a,b){var c=new ec,d=new ke(c);a:{al(J(a),d,b);a=E(K(a));for(var e=null,f=0,h=0;;)if(h<f){var k=e.La(null,h);Kd(d," ");al(k,d,b);h+=1}else if(a=E(a))e=a,Hf(e)?(a=ae(e),f=be(e),e=a,k=M(a),a=f,f=k):(k=J(e),Kd(d," "),al(k,d,b),a=K(e),e=null,f=0),h=0;else break a}d.$c(null);return c}function fl(a,b){return zf(a)?"":t.ba(el(a,b))}function gl(a,b){if(zf(a))return"\n";a=el(a,b);a.append("\n");return t.ba(a)}
var hl=function hl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new I(c.slice(0),0,null):null;return hl.ea(c)};hl.ea=function(a){return fl(a,pc())};hl.ma=0;hl.pa=function(a){return this.ea(E(a))};var il=function il(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new I(c.slice(0),0,null):null;return il.ea(c)};il.ea=function(a){return gl(a,pc())};il.ma=0;il.pa=function(a){return this.ea(E(a))};
var jl=function jl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new I(c.slice(0),0,null):null;return jl.ea(c)};jl.ea=function(a){return fl(a,R.ca(pc(),rc,!1))};jl.ma=0;jl.pa=function(a){return this.ea(E(a))};var kl=function kl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new I(c.slice(0),0,null):null;return kl.ea(c)};kl.ea=function(a){return gl(a,R.ca(pc(),rc,!1))};kl.ma=0;kl.pa=function(a){return this.ea(E(a))};
function ll(a){Wk(fl(a,pc()));r(lc)&&(a=pc(),Wk("\n"),B.aa(a,qc))}function ml(a){return a instanceof A?xe.aa(null,Jg(a)):Ig.aa(null,Jg(a))}
function nl(a){if(r(!1)){var b=E(a),c=E(b),d=J(c);K(c);Q(d,0,null);Q(d,1,null);c=rf(a);for(a=null;;){d=a;b=E(b);a=J(b);var e=K(b),f=a;a=Q(f,0,null);b=Q(f,1,null);if(r(f))if(a instanceof C||a instanceof A)if(r(d))if(D.aa(d,Gg(a)))c=R.ca(c,ml(a),b),a=d,b=e;else return null;else if(d=Gg(a),r(d))c=R.ca(c,ml(a),b),a=d,b=e;else return null;else return null;else return new X(null,2,5,Z,[d,c],null)}}else return null}
function ol(a,b,c,d,e){return Tk(d,function(f,h,k){var m=hd(f);c.ca?c.ca(m,h,k):c.call(null,m,h,k);Kd(h," ");f=id(f);return c.ca?c.ca(f,h,k):c.call(null,f,h,k)},[t.ba(a),"{"].join(""),", ","}",e,E(b))}function bl(a,b,c,d){var e=Ef(a)?nl(a):null,f=Q(e,0,null);e=Q(e,1,null);return r(f)?ol(["#:",t.ba(f)].join(""),e,b,c,d):ol(null,a,b,c,d)}Hh.prototype.Wa=l;Hh.prototype.ua=function(a,b,c){Kd(b,"#object[cljs.core.Volatile ");al(new p(null,1,[pl,this.state],null),b,c);return Kd(b,"]")};
Ae.prototype.Wa=l;Ae.prototype.ua=function(a,b,c){Kd(b,"#'");return al(this.Vd,b,c)};I.prototype.Wa=l;I.prototype.ua=function(a,b,c){return Tk(b,al,"("," ",")",c,this)};Kg.prototype.Wa=l;Kg.prototype.ua=function(a,b,c){return Tk(b,al,"("," ",")",c,this)};Y.prototype.Wa=l;Y.prototype.ua=function(a,b,c){return Tk(b,al,"["," ","]",c,this)};Sj.prototype.Wa=l;Sj.prototype.ua=function(a,b,c){return Tk(b,al,"("," ",")",c,this)};Ij.prototype.Wa=l;
Ij.prototype.ua=function(a,b,c){return Tk(b,al,"("," ",")",c,this)};Wj.prototype.Wa=l;Wj.prototype.ua=function(a,b,c){return Tk(b,al,"["," ","]",c,this)};bj.prototype.Wa=l;bj.prototype.ua=function(a,b,c){return Tk(b,al,"("," ",")",c,this)};Ie.prototype.Wa=l;Ie.prototype.ua=function(a,b,c){return Tk(b,al,"("," ",")",c,this)};Ji.prototype.Wa=l;Ji.prototype.ua=function(a,b,c){return Tk(b,al,"("," ",")",c,this)};Eg.prototype.Wa=l;Eg.prototype.ua=function(a,b,c){return Tk(b,al,"("," ",")",c,this)};
ef.prototype.Wa=l;ef.prototype.ua=function(a,b,c){return Tk(b,al,"("," ",")",c,this)};Nj.prototype.Wa=l;Nj.prototype.ua=function(a,b,c){return bl(this,al,b,c)};Kj.prototype.Wa=l;Kj.prototype.ua=function(a,b,c){return Tk(b,al,"("," ",")",c,this)};Li.prototype.Wa=l;Li.prototype.ua=function(a,b,c){return Tk(b,al,"["," ","]",c,this)};fk.prototype.Wa=l;fk.prototype.ua=function(a,b,c){return bl(this,al,b,c)};rk.prototype.Wa=l;rk.prototype.ua=function(a,b,c){return Tk(b,al,"#{"," ","}",c,this)};
Pg.prototype.Wa=l;Pg.prototype.ua=function(a,b,c){return Tk(b,al,"("," ",")",c,this)};Ch.prototype.Wa=l;Ch.prototype.ua=function(a,b,c){Kd(b,"#object[cljs.core.Atom ");al(new p(null,1,[pl,this.state],null),b,c);return Kd(b,"]")};lk.prototype.Wa=l;lk.prototype.ua=function(a,b,c){return Tk(b,al,"("," ",")",c,this)};Vj.prototype.Wa=l;Vj.prototype.ua=function(a,b,c){return Tk(b,al,"["," ","]",c,this)};Rh.prototype.Wa=l;Rh.prototype.ua=function(a,b,c){return Tk(b,al,"("," ",")",c,this)};
X.prototype.Wa=l;X.prototype.ua=function(a,b,c){return Tk(b,al,"["," ","]",c,this)};Si.prototype.Wa=l;Si.prototype.ua=function(a,b,c){return Tk(b,al,"("," ",")",c,this)};Bg.prototype.Wa=l;Bg.prototype.ua=function(a,b){return Kd(b,"()")};Ti.prototype.Wa=l;Ti.prototype.ua=function(a,b,c){return Tk(b,al,"#queue ["," ","]",c,E(this))};p.prototype.Wa=l;p.prototype.ua=function(a,b,c){return bl(this,al,b,c)};Ek.prototype.Wa=l;Ek.prototype.ua=function(a,b,c){return Tk(b,al,"("," ",")",c,this)};
kk.prototype.Wa=l;kk.prototype.ua=function(a,b,c){return Tk(b,al,"("," ",")",c,this)};qf.prototype.Wa=l;qf.prototype.ua=function(a,b,c){return Tk(b,al,"("," ",")",c,this)};A.prototype.kd=l;A.prototype.Zc=function(a,b){if(b instanceof A)return we(this,b);throw Error(["Cannot compare ",t.ba(this)," to ",t.ba(b)].join(""));};C.prototype.kd=l;C.prototype.Zc=function(a,b){if(b instanceof C)return Fg(this,b);throw Error(["Cannot compare ",t.ba(this)," to ",t.ba(b)].join(""));};Li.prototype.kd=l;
Li.prototype.Zc=function(a,b){if(Gf(b))return Sf(this,b);throw Error(["Cannot compare ",t.ba(this)," to ",t.ba(b)].join(""));};X.prototype.kd=l;X.prototype.Zc=function(a,b){if(Gf(b))return Sf(this,b);throw Error(["Cannot compare ",t.ba(this)," to ",t.ba(b)].join(""));};Y.prototype.kd=l;Y.prototype.Zc=function(a,b){if(Gf(b))return Sf(this,b);throw Error(["Cannot compare ",t.ba(this)," to ",t.ba(b)].join(""));};Wj.prototype.kd=l;
Wj.prototype.Zc=function(a,b){if(Gf(b))return Sf(this,b);throw Error(["Cannot compare ",t.ba(this)," to ",t.ba(b)].join(""));};Vj.prototype.kd=l;Vj.prototype.Zc=function(a,b){if(Gf(b))return Sf(this,b);throw Error(["Cannot compare ",t.ba(this)," to ",t.ba(b)].join(""));};function ql(a,b){Qd(a,rl,b)}var sl=null;function tl(a){null==sl&&(sl=Dh(0));return xe.ba([t.ba(a),t.ba(Fh.aa(sl,Ne))].join(""))}function ul(a){this.f=a;this.value=null;this.ha=2147516416;this.na=1}
ul.prototype.tb=function(){r(this.f)&&(this.value=this.f.ja?this.f.ja():this.f.call(null),this.f=null);return this.value};ul.prototype.Xe=function(){return zc(this.f)};ul.prototype.ua=function(a,b,c){Kd(b,"#object[cljs.core.Delay ");al(new p(null,2,[vl,null==this.f?wl:xl,pl,this.value],null),b,c);return Kd(b,"]")};function yl(a){return a instanceof ul?y(a):a}function zl(a){return function(b,c){b=a.aa?a.aa(b,c):a.call(null,b,c);return Qe(b)?Pe(b):b}}
function Al(a){var b=zl(a);return function(){function c(h,k){return v.ca(b,h,k)}function d(h){return a.ba?a.ba(h):a.call(null,h)}function e(){return a.ja?a.ja():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.ja=e;f.ba=d;f.aa=c;return f}()}function Bl(){}
function Cl(a){if(null!=a&&null!=a.Dh)a=a.Dh(a);else{var b=Cl[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=Cl._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("IEncodeJS.-clj-\x3ejs",a);}return a}function Dl(a,b){return(null!=a?l===a.Ch||(a.Ed?0:Bc(Bl,a)):Bc(Bl,a))?Cl(a):"string"===typeof a||"number"===typeof a||a instanceof C||a instanceof A?b.ba?b.ba(a):b.call(null,a):hl.ea(P([a]))}
var El=function El(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new I(c.slice(1),0,null):null;return El.ea(arguments[0],c)};
El.ea=function(a,b){b=null!=b&&(b.ha&64||l===b.Ea)?hh(ik,b):b;var c=B.ca(b,Fl,Jg),d=function h(f){if(null==f)return null;if(null!=f?l===f.Ch||(f.Ed?0:Bc(Bl,f)):Bc(Bl,f))return Cl(f);if(f instanceof C)return c.ba?c.ba(f):c.call(null,f);if(f instanceof A)return t.ba(f);if(Ef(f)){var k={};f=E(f);for(var m=null,n=0,q=0;;)if(q<n){var u=m.La(null,q),w=Q(u,0,null);u=Q(u,1,null);w=Dl(w,d);u=h(u);k[w]=u;q+=1}else if(f=E(f))Hf(f)?(n=ae(f),f=be(f),m=n,n=M(n)):(n=J(f),m=Q(n,0,null),n=Q(n,1,null),m=Dl(m,d),n=
h(n),k[m]=n,f=K(f),m=null,n=0),q=0;else break;return k}if(Af(f)){k=[];f=E(Mh.aa(h,f));m=null;for(q=n=0;;)if(q<n)w=m.La(null,q),k.push(w),q+=1;else if(f=E(f))m=f,Hf(m)?(f=ae(m),q=be(m),m=f,n=M(f),f=q):(f=J(m),k.push(f),f=K(m),m=null,n=0),q=0;else break;return k}return f};return d(a)};El.ma=1;El.pa=function(a){var b=J(a);a=K(a);return this.ea(b,a)};function Gl(){}
function Hl(a,b){if(null!=a&&null!=a.Bh)a=a.Bh(a,b);else{var c=Hl[oa(null==a?null:a)];if(null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else if(c=Hl._,null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else throw Dc("IEncodeClojure.-js-\x3eclj",a);}return a}
function Il(a){var b=P([Jl,!1]),c=null!=b&&(b.ha&64||l===b.Ea)?hh(ik,b):b;c=B.aa(c,Jl);var d=r(c)?Ig:t;return function h(f){return(null!=f?l===f.Zi||(f.Ed?0:Bc(Gl,f)):Bc(Gl,f))?Hl(f,hh(jk,b)):Kf(f)?Mk(Mh.aa(h,f)):Fi(f)?new Y(h(hd(f)),h(id(f))):Af(f)?bi.ca(rf(f),Mh.ba(h),f):xc(f)?Ud(v.ca(function(k,m){return Zg.aa(k,h(m))},Sd(pf),f)):Cc(f)===Object?Ud(v.ca(function(k,m){return $g.ca(k,d.ba?d.ba(m):d.call(null,m),h(jb(f,m)))},Sd(W),ib(f))):f}(a)}
function Kl(a){var b=Dh(W);return function(){function c(e){var f=null;if(0<arguments.length){f=0;for(var h=Array(arguments.length-0);f<h.length;)h[f]=arguments[f+0],++f;f=new I(h,0,null)}return d.call(this,f)}function d(e){var f=B.ca(y(b),e,Jf);return f===Jf?(f=hh(a,e),Fh.ka(b,R,e,f),f):f}c.ma=0;c.pa=function(e){e=E(e);return d(e)};c.ea=d;return c}()}
var Ll=function Ll(a){switch(arguments.length){case 0:return Ll.ja();case 1:return Ll.ba(arguments[0]);default:throw Error(["Invalid arity: ",t.ba(arguments.length)].join(""));}};Ll.ja=function(){return Ll.ba(1)};Ll.ba=function(a){return Math.random()*a};Ll.ma=1;function Ml(a){return Math.floor(Math.random()*a)}function Nl(a,b){return Ud(v.ca(function(c,d){var e=a.ba?a.ba(d):a.call(null,d);return $g.ca(c,e,of.aa(B.ca(c,e,pf),d))},Sd(W),b))}var Ol=null;
function Pl(){null==Ol&&(Ol=Dh(new p(null,3,[Ql,W,Rl,W,Sl,W],null)));return Ol}function Tl(a,b,c){var d=D.aa(b,c);if(d)return d;d=Sl.ba(a);d=d.ba?d.ba(b):d.call(null,b);if(d=Of(d,c))return d;if(Gf(c))if(Gf(b))if(M(c)===M(b)){d=!0;for(var e=0;;)if(d&&e!==M(c))d=Tl(a,b.ba?b.ba(e):b.call(null,e),c.ba?c.ba(e):c.call(null,e)),e+=1;else return d}else return!1;else return!1;else return!1}function Ul(a){var b=y(Pl());return nh(B.aa(Ql.ba(b),a))}
function Vl(a,b,c,d){Fh.aa(a,function(){return y(b)});Fh.aa(c,function(){return y(d)})}
var Wl=function Wl(a,b,c){var e=function(){var f=y(c);return f.ba?f.ba(a):f.call(null,a)}();e=r(r(e)?e.ba?e.ba(b):e.call(null,b):e)?!0:null;if(r(e))return e;e=function(){for(var f=Ul(b);;)if(0<M(f)){var h=J(f);Wl.ca?Wl.ca(a,h,c):Wl.call(null,a,h,c);f=Ee(f)}else return null}();if(r(e))return e;e=function(){for(var f=Ul(a);;)if(0<M(f)){var h=J(f);Wl.ca?Wl.ca(h,b,c):Wl.call(null,h,b,c);f=Ee(f)}else return null}();return r(e)?e:!1};function Xl(a,b,c,d){c=Wl(a,b,c);return r(c)?c:Tl(d,a,b)}
var Yl=function Yl(a,b,c,d,e,f,h,k){var n=v.ca(function(u,w){var z=Q(w,0,null);Q(w,1,null);if(Tl(y(c),b,z)){u=null==u||Xl(z,J(u),e,y(c))?w:u;if(!Xl(J(u),z,e,y(c)))throw Error(["Multiple methods in multimethod '",t.ba(a),"' match dispatch value: ",t.ba(b)," -\x3e ",t.ba(z)," and ",t.ba(J(u)),", and neither is preferred"].join(""));return u}return u},null,y(d)),q=function(){if(null==n){var u=y(d);u=u.ba?u.ba(k):u.call(null,k)}else u=!1;return r(u)?new X(null,2,5,Z,[k,u],null):n}();if(r(q)){if(D.aa(y(h),
y(c)))return Fh.ka(f,R,b,lf(q)),lf(q);Vl(f,d,h,c);return Yl.Eb?Yl.Eb(a,b,c,d,e,f,h,k):Yl.call(null,a,b,c,d,e,f,h,k)}return null};function Zl(a,b,c){if(null!=a&&null!=a.ub)a.ub(a,b,c);else{var d=Zl[oa(null==a?null:a)];if(null!=d)d.ca?d.ca(a,b,c):d.call(null,a,b,c);else if(d=Zl._,null!=d)d.ca?d.ca(a,b,c):d.call(null,a,b,c);else throw Dc("IMultiFn.-add-method",a);}}function $l(a,b){throw Error(["No method in multimethod '",t.ba(a),"' for dispatch value: ",t.ba(b)].join(""));}
function am(a,b,c,d,e,f,h){var k=bm;this.name=a;this.Fa=b;this.Th=k;this.hierarchy=c;this.rf=d;this.Li=e;this.qf=f;this.Te=h;this.ha=4194305;this.na=4352}g=am.prototype;
g.call=function(a){switch(arguments.length-1){case 0:return this.ja();case 1:return this.ba(arguments[1]);case 2:return this.aa(arguments[1],arguments[2]);case 3:return this.ca(arguments[1],arguments[2],arguments[3]);case 4:return this.ka(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.ya(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.eb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Vb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Eb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Wb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Kb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Lb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Mb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Nb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ob(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Pb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Qb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Rb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Sb(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Tb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Ub(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.oe(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",t.ba(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ic(b)))};g.ja=function(){var a=this.Fa.ja?this.Fa.ja():this.Fa.call(null),b=cm(this,a);r(b)||$l(this.name,a);return b.ja?b.ja():b.call(null)};g.ba=function(a){var b=this.Fa.ba?this.Fa.ba(a):this.Fa.call(null,a),c=cm(this,b);r(c)||$l(this.name,b);return c.ba?c.ba(a):c.call(null,a)};
g.aa=function(a,b){var c=this.Fa.aa?this.Fa.aa(a,b):this.Fa.call(null,a,b),d=cm(this,c);r(d)||$l(this.name,c);return d.aa?d.aa(a,b):d.call(null,a,b)};g.ca=function(a,b,c){var d=this.Fa.ca?this.Fa.ca(a,b,c):this.Fa.call(null,a,b,c),e=cm(this,d);r(e)||$l(this.name,d);return e.ca?e.ca(a,b,c):e.call(null,a,b,c)};g.ka=function(a,b,c,d){var e=this.Fa.ka?this.Fa.ka(a,b,c,d):this.Fa.call(null,a,b,c,d),f=cm(this,e);r(f)||$l(this.name,e);return f.ka?f.ka(a,b,c,d):f.call(null,a,b,c,d)};
g.ya=function(a,b,c,d,e){var f=this.Fa.ya?this.Fa.ya(a,b,c,d,e):this.Fa.call(null,a,b,c,d,e),h=cm(this,f);r(h)||$l(this.name,f);return h.ya?h.ya(a,b,c,d,e):h.call(null,a,b,c,d,e)};g.eb=function(a,b,c,d,e,f){var h=this.Fa.eb?this.Fa.eb(a,b,c,d,e,f):this.Fa.call(null,a,b,c,d,e,f),k=cm(this,h);r(k)||$l(this.name,h);return k.eb?k.eb(a,b,c,d,e,f):k.call(null,a,b,c,d,e,f)};
g.Vb=function(a,b,c,d,e,f,h){var k=this.Fa.Vb?this.Fa.Vb(a,b,c,d,e,f,h):this.Fa.call(null,a,b,c,d,e,f,h),m=cm(this,k);r(m)||$l(this.name,k);return m.Vb?m.Vb(a,b,c,d,e,f,h):m.call(null,a,b,c,d,e,f,h)};g.Eb=function(a,b,c,d,e,f,h,k){var m=this.Fa.Eb?this.Fa.Eb(a,b,c,d,e,f,h,k):this.Fa.call(null,a,b,c,d,e,f,h,k),n=cm(this,m);r(n)||$l(this.name,m);return n.Eb?n.Eb(a,b,c,d,e,f,h,k):n.call(null,a,b,c,d,e,f,h,k)};
g.Wb=function(a,b,c,d,e,f,h,k,m){var n=this.Fa.Wb?this.Fa.Wb(a,b,c,d,e,f,h,k,m):this.Fa.call(null,a,b,c,d,e,f,h,k,m),q=cm(this,n);r(q)||$l(this.name,n);return q.Wb?q.Wb(a,b,c,d,e,f,h,k,m):q.call(null,a,b,c,d,e,f,h,k,m)};g.Kb=function(a,b,c,d,e,f,h,k,m,n){var q=this.Fa.Kb?this.Fa.Kb(a,b,c,d,e,f,h,k,m,n):this.Fa.call(null,a,b,c,d,e,f,h,k,m,n),u=cm(this,q);r(u)||$l(this.name,q);return u.Kb?u.Kb(a,b,c,d,e,f,h,k,m,n):u.call(null,a,b,c,d,e,f,h,k,m,n)};
g.Lb=function(a,b,c,d,e,f,h,k,m,n,q){var u=this.Fa.Lb?this.Fa.Lb(a,b,c,d,e,f,h,k,m,n,q):this.Fa.call(null,a,b,c,d,e,f,h,k,m,n,q),w=cm(this,u);r(w)||$l(this.name,u);return w.Lb?w.Lb(a,b,c,d,e,f,h,k,m,n,q):w.call(null,a,b,c,d,e,f,h,k,m,n,q)};g.Mb=function(a,b,c,d,e,f,h,k,m,n,q,u){var w=this.Fa.Mb?this.Fa.Mb(a,b,c,d,e,f,h,k,m,n,q,u):this.Fa.call(null,a,b,c,d,e,f,h,k,m,n,q,u),z=cm(this,w);r(z)||$l(this.name,w);return z.Mb?z.Mb(a,b,c,d,e,f,h,k,m,n,q,u):z.call(null,a,b,c,d,e,f,h,k,m,n,q,u)};
g.Nb=function(a,b,c,d,e,f,h,k,m,n,q,u,w){var z=this.Fa.Nb?this.Fa.Nb(a,b,c,d,e,f,h,k,m,n,q,u,w):this.Fa.call(null,a,b,c,d,e,f,h,k,m,n,q,u,w),F=cm(this,z);r(F)||$l(this.name,z);return F.Nb?F.Nb(a,b,c,d,e,f,h,k,m,n,q,u,w):F.call(null,a,b,c,d,e,f,h,k,m,n,q,u,w)};
g.Ob=function(a,b,c,d,e,f,h,k,m,n,q,u,w,z){var F=this.Fa.Ob?this.Fa.Ob(a,b,c,d,e,f,h,k,m,n,q,u,w,z):this.Fa.call(null,a,b,c,d,e,f,h,k,m,n,q,u,w,z),H=cm(this,F);r(H)||$l(this.name,F);return H.Ob?H.Ob(a,b,c,d,e,f,h,k,m,n,q,u,w,z):H.call(null,a,b,c,d,e,f,h,k,m,n,q,u,w,z)};
g.Pb=function(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F){var H=this.Fa.Pb?this.Fa.Pb(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F):this.Fa.call(null,a,b,c,d,e,f,h,k,m,n,q,u,w,z,F),G=cm(this,H);r(G)||$l(this.name,H);return G.Pb?G.Pb(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F):G.call(null,a,b,c,d,e,f,h,k,m,n,q,u,w,z,F)};
g.Qb=function(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H){var G=this.Fa.Qb?this.Fa.Qb(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H):this.Fa.call(null,a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H),N=cm(this,G);r(N)||$l(this.name,G);return N.Qb?N.Qb(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H):N.call(null,a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H)};
g.Rb=function(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G){var N=this.Fa.Rb?this.Fa.Rb(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G):this.Fa.call(null,a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G),O=cm(this,N);r(O)||$l(this.name,N);return O.Rb?O.Rb(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G):O.call(null,a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G)};
g.Sb=function(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N){var O=this.Fa.Sb?this.Fa.Sb(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N):this.Fa.call(null,a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N),U=cm(this,O);r(U)||$l(this.name,O);return U.Sb?U.Sb(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N):U.call(null,a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N)};
g.Tb=function(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N,O){var U=this.Fa.Tb?this.Fa.Tb(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N,O):this.Fa.call(null,a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N,O),ea=cm(this,U);r(ea)||$l(this.name,U);return ea.Tb?ea.Tb(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N,O):ea.call(null,a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N,O)};
g.Ub=function(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N,O,U){var ea=this.Fa.Ub?this.Fa.Ub(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N,O,U):this.Fa.call(null,a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N,O,U),va=cm(this,ea);r(va)||$l(this.name,ea);return va.Ub?va.Ub(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N,O,U):va.call(null,a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N,O,U)};
g.oe=function(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N,O,U,ea){var va=lh(this.Fa,a,b,c,d,P([e,f,h,k,m,n,q,u,w,z,F,H,G,N,O,U,ea])),xa=cm(this,va);r(xa)||$l(this.name,va);return lh(xa,a,b,c,d,P([e,f,h,k,m,n,q,u,w,z,F,H,G,N,O,U,ea]))};g.ub=function(a,b,c){Fh.ka(this.rf,R,b,c);Vl(this.qf,this.rf,this.Te,this.hierarchy);return this};
function cm(a,b){D.aa(y(a.Te),y(a.hierarchy))||Vl(a.qf,a.rf,a.Te,a.hierarchy);var c=y(a.qf);c=c.ba?c.ba(b):c.call(null,b);return r(c)?c:Yl(a.name,b,a.hierarchy,a.rf,a.Li,a.qf,a.Te,a.Th)}g.qe=function(){return ce(this.name)};g.se=function(){return de(this.name)};g.wa=function(){return wa(this)};function dm(a){this.Xd=a;this.ga=null;this.ha=2153775104;this.na=2048}g=dm.prototype;g.toString=function(){return this.Xd};g.equiv=function(a){return this.qa(null,a)};
g.qa=function(a,b){return b instanceof dm&&this.Xd===b.Xd};g.ua=function(a,b){return Kd(b,['#uuid "',t.ba(this.Xd),'"'].join(""))};g.wa=function(){null==this.ga&&(this.ga=te(this.Xd));return this.ga};g.Zc=function(a,b){return ab(this.Xd,b.Xd)};
function em(){function a(){return Ml(16).toString(16)}var b=(8|3&Ml(16)).toString(16);return new dm([t.ba(a()),t.ba(a()),t.ba(a()),t.ba(a()),t.ba(a()),t.ba(a()),t.ba(a()),t.ba(a()),"-",t.ba(a()),t.ba(a()),t.ba(a()),t.ba(a()),"-4",t.ba(a()),t.ba(a()),t.ba(a()),"-",t.ba(b),t.ba(a()),t.ba(a()),t.ba(a()),"-",t.ba(a()),t.ba(a()),t.ba(a()),t.ba(a()),t.ba(a()),t.ba(a()),t.ba(a()),t.ba(a()),t.ba(a()),t.ba(a()),t.ba(a()),t.ba(a())].join("").toLowerCase())}
function fm(a,b,c){var d=Error(a);this.message=a;this.data=b;this.Eg=c;this.name=d.name;this.description=d.description;this.number=d.number;this.fileName=d.fileName;this.lineNumber=d.lineNumber;this.columnNumber=d.columnNumber;this.stack=d.stack;return this}fm.prototype.__proto__=Error.prototype;fm.prototype.Wa=l;
fm.prototype.ua=function(a,b,c){Kd(b,"#error {:message ");al(this.message,b,c);r(this.data)&&(Kd(b,", :data "),al(this.data,b,c));r(this.Eg)&&(Kd(b,", :cause "),al(this.Eg,b,c));return Kd(b,"}")};fm.prototype.toString=function(){return le(this)};function gm(a,b){return new fm(a,b,null)}
function hm(){r(Hc)||(Hc=function(){for(var a=Uf(function(e,f){return f.length-e.length},ib(Gc)),b="";;)if(E(a)){var c=K(a),d=[function(){var e=b;return""!==b?[e,"|"].join(""):e}(),t.ba(J(a))].join("");a=c;b=d}else return[b,"|\\$"].join("")}());return Hc}
function im(a){var b=t.ba(a);if("_DOT__DOT_"===b)var c="..";else a:{c=new RegExp(hm(),"g");b=r(vb(b,"$"))?b.substring(0,b.length-1):b;for(var d="",e=0;;){var f=c.exec(b);if(r(f))f=Q(f,0,null),d=[d,t.ba(b.substring(e,c.lastIndex-f.length)),t.ba("$"===f?"/":jb(Gc,f))].join(""),e=c.lastIndex;else{c=[d,t.ba(b.substring(e,b.length))].join("");break a}}}a=a instanceof A?xe:t;return a.ba?a.ba(c):a.call(null,c)}"undefined"!==typeof console&&vc();vc();var jm=new C(null,"ns","ns",441598760),km=new C(null,"expected","expected",1583670997),lm=new C(null,"components","components",-1073188942),mm=new C(null,"div.flex-1","div.flex-1",2004402050),nm=new C(null,"data-error","data-error",-1058016301),om=new C(null,"apparent-success","apparent-success",242592222),pm=new A(null,aa,aa,770546058,null),sm=new C("chsk","error","chsk/error",-984175439),tm=new C(null,"p2","p2",905500641),um=new A(null,"defrecord*","defrecord*",-1936366207,null),vm=new C(null,"p1",
"p1",-936759954),wm=new C(null,"level","level",1290497552),xm=new C("db","current-tx","db/current-tx",1600722132),ym=new C(null,"type-tag","type-tag",-1873863267),zm=new C(null,"?err_","?err_",789480858),Am=new C(null,"ms","ms",-1152709733),Bm=new C(null,"middleware-fn","middleware-fn",-61585752),Cm=new C(null,"class-properties","class-properties",1351279702),Dm=new C(null,"readers","readers",-2118263030),Em=new C(null,"line","line",212345235),Fm=new A(null,"!\x3d","!\x3d",-201205829,null),Gm=new C("db",
"unique","db/unique",329396388),Hm=new C("db","isComponent","db/isComponent",423352398),Im=new C(fa,"flush-tuples","datascript.db/flush-tuples",-797350002),Jm=new C("widget.geoplot","zoom","widget.geoplot/zoom",1712183482),Km=new A(null,"ns*","ns*",1840949383,null),Lm=new C(null,"lp-timeout","lp-timeout",1149461302),Mm=new C(null,"div.text-gray-600.rounded.bg-gray-200.hover:bg-gray-300.h-5.w-5.flex.items-center.justify-center.mb-1.cursor-pointer","div.text-gray-600.rounded.bg-gray-200.hover:bg-gray-300.h-5.w-5.flex.items-center.justify-center.mb-1.cursor-pointer",
-1098663220),Nm=new C(null,"start-block-t","start-block-t",-373430594),Om=new C(null,"limit","limit",-1355822363),Pm=new C(null,"on-dispose","on-dispose",2105306360),Qm=new C(null,"per-line-prefix","per-line-prefix",846941813),Rm=new C(null,"form-str","form-str",871608859),Sm=new C("db.type","tuple","db.type/tuple",938234914),Tm=new C("lookup-ref","unique","lookup-ref/unique",-960647710),Um=new C(fa,"value-tempids","datascript.db/value-tempids",244806162),Vm=new A(da,"ends-with?","clojure.string/ends-with?",
-745964149,null),Wm=new C(null,"headers","headers",-835030129),Xm=new C(null,"string","string",-1989541586),Ym=new C(null,"avet","avet",1383857032),Zm=new C(null,"data","data",-232669377),$m=new C(null,"factor","factor",-2103172748),an=new A(null,"identity","identity",-1007039734,null),bn=new A(null,"max","max",1701898075,null),cn=new C(null,"did-update","did-update",-2143702256),dn=new C(null,"end-line","end-line",1837326455),en=new A(null,"fn*","fn*",-752876845,null),fn=new C(null,"ks","ks",1900203942),
gn=new C(ca,"amp","cljs.spec.alpha/amp",831147508),hn=new C("transact","syntax","transact/syntax",-299207078),jn=new C(null,"abort","abort",521193198),kn=new C(null,"allow","allow",-1857325745),ln=new C(null,"source","source",-433931539),mn=new C(null,"done-nl","done-nl",-381024340),nn=new C(null,"private","private",-558947994),on=new C(null,"bindings","bindings",1271397192),pn=new C(ca,"alt","cljs.spec.alpha/alt",523685437),qn=new C(null,"?status","?status",938730360),rn=new A(aa,"fn","cljs.core/fn",
-1065745098,null),sn=new A(null,"median","median",-2084869638,null),vl=new C(null,"status","status",-1997798413),tn=new C(null,"version","version",425292698),un=new C(null,"circle","circle",1903212362),vn=new C(null,"htmlFor","htmlFor",-1050291720),Rl=new C(null,"descendants","descendants",1824886031),wn=new C(null,"report","report",1394055010),xn=new C(null,"strs","strs",1175537277),yn=new C(null,"start","start",-355208981),zn=new C(null,"days","days",-1394072564),An=new C(null,"ns-whitelist","ns-whitelist",
-1717299774),Bn=new A(null,"identical?","identical?",-745864205,null),Cn=new A(null,"complement","complement",-913606051,null),Dn=new A(aa,"deref","cljs.core/deref",1901963335,null),En=new C("transact","cas","transact/cas",816687170),Fn=new C(null,"on-click","on-click",1632826543),Gn=new C(null,"recur","recur",-437573268),Hn=new C(ca,"nil","cljs.spec.alpha/nil",1733813950),In=new C(ca,"kind-form","cljs.spec.alpha/kind-form",-1047104697),Jn=new C("db.fn","cas","db.fn/cas",-379352172),Kn=new C(null,
"deny-spec","deny-spec",-1074984268),Ln=new C(null,"port","port",1534937262),Mn=new C("chsk","timeout","chsk/timeout",-319776489),Nn=new C(null,"*?data*","*?data*",1047537922),On=new C(null,"child-context","child-context",-1375270295),Pn=new C(null,"http","http",382524695),Qn=new C(null,"mandatory","mandatory",542802336),Rn=new A(null,"resolve-datom","resolve-datom",-294110827,null),Sn=new C(null,"ajax-chsk-opts","ajax-chsk-opts",1602591327),Tn=new C(null,"udt","udt",2011712751),Un=new C(null,"length",
"length",588987862),Vn=new C(null,"end-column","end-column",1425389514),Wn=new C(null,"appender-id","appender-id",-1917983538),Xn=new A(null,"with-open","with-open",172119667,null),Yn=new C(null,"timeout-ms","timeout-ms",754221406),Zn=new C(null,"getInitialState","getInitialState",1541760916),$n=new C(null,"ps","ps",292358046),rl=new C("chsk","auto-ajax-downgrade","chsk/auto-ajax-downgrade",-831528080),ao=new C(null,"opts","opts",155075701),bo=new A(null,"list","list",-1889078086,null),co=new C(null,
"downgrading-ws-to-ajax","downgrading-ws-to-ajax",402136720),eo=new C(null,"not-delivered","not-delivered",1599158697),fo=new A(null,"if-not","if-not",-265415609,null),ho=new C(null,"blacklist","blacklist",1248093170),io=new C(ha,"expand-rev","datascript.pull-api/expand-rev",2143627459),jo=new C(null,"state","state",-1988618099),ko=new C(null,"base-args","base-args",-1268706822),lo=new C(null,"db-before","db-before",-553691536),mo=new A(null,"\x3d\x3d","\x3d\x3d",-234118149,null),no=new A(aa,"unquote",
"cljs.core/unquote",1013085760,null),oo=new C(null,"return-map","return-map",1620104901),pk=new C(aa,"not-found","cljs.core/not-found",-1572889185),po=new C(null,"eids","eids",1546550700),qo=new C(null,"no-cache","no-cache",1588056370),ro=new A(null,"compare","compare",1109853757,null),so=new C(null,"vargs_","vargs_",552132148),to=new C(null,"server","server",1499190120),uo=new C(null,"expand-rev","expand-rev",1249112650),vo=new C(null,"def","def",-1043430536),wo=new A(null,"dotimes","dotimes",-818708397,
null),xo=new C(null,"raw-console?","raw-console?",-2061489061),yo=new C(null,"conform-keys","conform-keys",-1800041814),zo=new C("widget.type","vega-lite","widget.type/vega-lite",1594251738),Ao=new C(null,"exception","exception",-335277064),Bo=new C("rum","react-component","rum/react-component",-1879897248),Co=new C(null,"op","op",-1882987955),Do=new A(null,"finally","finally",-1065347064,null),Eo=new A(null,"str","str",-1564826950,null),Fo=new A(null,"/","/",-1371932971,null),Go=new A(null,"stddev",
"stddev",775056588,null),Ho=new C(null,"buffering","buffering",-876713613),Io=new A(aa,"string?","cljs.core/string?",-2072921719,null),Oo=new C("ajax","bad-response-type","ajax/bad-response-type",789441015),Po=new C("db","tupleAttrs","db/tupleAttrs",250080092),Qo=new C(null,"clean?","clean?",-1675631009),Ro=new C(null,"tx-meta","tx-meta",1159283194),So=new C(null,"prefix-clauses","prefix-clauses",1294180028),To=new C(null,"illegal-argument","illegal-argument",-1845493170),Uo=new C("mem","all","mem/all",
892075139),Vo=new C(null,"opt-un","opt-un",883442496),Wo=new C(null,"first-open?","first-open?",396686530),Xo=new C("chsk","ws-ping","chsk/ws-ping",191675304),Yo=new C(null,"rule","rule",729973257),Zo=new C("debug","timeout","debug/timeout",309499949),$o=new C("schema","validation","schema/validation",1178447161),ap=new C(null,"right-margin","right-margin",-810413306),bp=new C(null,"wildcard?","wildcard?",-686044101),cp=new A(null,"pos?","pos?",-244377722,null),dp=new C("query","inputs","query/inputs",
1042810394),ep=new C(null,"wrong-id-type","wrong-id-type",-1213601689),fp=new C(null,"exponentchar","exponentchar",1986664222),gp=new C(null,"attribute","attribute",-2074029119),hp=new A(null,"default","default",-347290801,null),ip=new A(da,"includes?","clojure.string/includes?",-1842146260,null),jp=new C(null,"tx","tx",466630418),kp=new C("taoensso.encore","dynamic","taoensso.encore/dynamic",-1726758399),lp=new A(null,"locking","locking",1542862874,null),mp=new C(null,"uid","uid",-1447769400),np=
new C(null,"directive","directive",793559132),op=new C(null,"function-components","function-components",1492814963),pp=new A(null,"subs","subs",1453849536,null),qp=new C(null,"seq","seq",-1817803783),rp=new C(null,"qname","qname",-1983612179),sp=new C(null,"where","where",-2044795965),tp=new A(null,"pr-str","pr-str",-2066912145,null),up=new C(null,"set","set",304602554),vp=new C(null,"flush?","flush?",-108887231),wp=new A(null,"p1__23712#","p1__23712#",-810580610,null),xp=new A(null,"or-join","or-join",
591375469,null),yp=new C(null,"handshake?","handshake?",-423743093),zp=new C(ca,"name","cljs.spec.alpha/name",205233570),Ap=new A(null,"sum","sum",1777518341,null),Bp=new A(null,"some?","some?",234752293,null),Cp=new A(null,"min","min",2085523049,null),Dp=new C(null,"div.flex-1.bg-white.px-3.py-1.font-thin","div.flex-1.bg-white.px-3.py-1.font-thin",1633962198),Ep=new C(null,"handshake","handshake",68079331),Fp=new C(null,"error","error",-978969032),Gp=new C(null,"xhr-pool-depleted","xhr-pool-depleted",
-1812092376),Hp=new C(null,"base","base",185279322),Ip=new C(null,"actual","actual",107306363),Jp=new C(null,"event","event",301435442),Kp=new C("widget.type","leaflet","widget.type/leaflet",-1837279356),Lp=new C(null,"noop","noop",-673731258),Mp=new C(null,"trailing-white-space","trailing-white-space",1496006996),Np=new A(null,"letfn*","letfn*",-110097810,null),Op=new C(null,"handshake-data","handshake-data",-278378864),Pp=new C(null,"prefix","prefix",-265908465),Qp=new C("parser","binding","parser/binding",
-346395752),Rp=new A(null,"$","$",-1580747756,null),Sp=new C("query","binding","query/binding",698240489),Tp=new C(null,"right-params","right-params",-1790676237),Up=new C(null,"start-pos","start-pos",668789086),Fl=new C(null,"keyword-fn","keyword-fn",-64566675),Vp=new C(null,"first","first",-644103046),Wp=new A(null,"let*","let*",1920721458,null),Xp=new C("widget.type","hiccup","widget.type/hiccup",48060386),Yp=new C(null,"for","for",-1323786319),Zp=new C(null,"pathname","pathname",-1420497528),
$p=new A(null,"limit","limit",284709164,null),aq=new C("widget","children","widget/children",485181574),bq=new C("db.fn","retractEntity","db.fn/retractEntity",-1423535441),cq=new C(null,"component-will-unmount","component-will-unmount",-2058314698),dq=new A(null,"re-seq","re-seq",-2105554076,null),eq=new A(null,"when-first","when-first",821699168,null),fq=new C(null,"ns-blacklist","ns-blacklist",1957763142),hq=new C(null,"?err","?err",549653299),iq=new C(null,"depth","depth",1768663640),jq=new C(null,
"multi?","multi?",-749311069),kq=new C(null,"onmessage-fn","onmessage-fn",1633804172),lq=new C(null,"?error","?error",1070752222),mq=new C(null,"href","href",-793805698),nq=new A(null,"recur","recur",1202958259,null),oq=new C("widget.type","markdown","widget.type/markdown",177221797),pq=new A(null,"variance","variance",-1522424942,null),qq=new C(null,"type","type",1174270348),rq=new C(null,"none","none",1333468478),sq=new A(null,"_","_",-1201019570,null),tq=new C(null,"style","style",-496642736),
vq=new C(null,"impl_","impl_",1218818179),wq=new C("parser","rule-var","parser/rule-var",-1584354459),xq=new C(null,"callback","callback",-705136228),yq=new C(null,"span.text-lg.text-gray-700.py-6","span.text-lg.text-gray-700.py-6",1537118948),zq=new C(null,"reader-error","reader-error",1610253121),Aq=new A(null,"v","v",1661996586,null),Bq=new C(ca,"op","cljs.spec.alpha/op",-1269055252),Cq=new A(null,"m","m",-1021758608,null),Dq=new A(null,"k","k",-505765866,null),Eq=new C(null,"ws","ws",86841443),
Fq=new C(null,"span","span",1394872991),Gq=new C("widget","code","widget/code",-845791534),Hq=new C(null,"async?","async?",1523057758),Iq=new C("entity-id","missing","entity-id/missing",1234588374),Jq=new A(null,"count","count",-514511684,null),Kq=new C(null,"no-stacktrace?","no-stacktrace?",1701072694),Lq=new C(null,"code","code",1586293142),Nq=new C(null,"keys","keys",1068423698),Oq=new C(null,"qfind","qfind",1529332972),Pq=new C(null,"intra-block-nl","intra-block-nl",1808826875),Qq=new C("parser",
"rule-vars","parser/rule-vars",-1493174969),Rq=new C(null,"gen-max","gen-max",-793680445),sc=new C(null,"meta","meta",1499536964),Sq=new A(null,"not-join","not-join",-645515756,null),Tq=new C(null,"deny","deny",1589338523),Uq=new C(null,"wrap-render","wrap-render",1782000986),Vq=new C("widget.type","html","widget.type/html",-2034153477),Wq=new C(null,"subpattern","subpattern",45002743),Xq=new C(null,"datoms","datoms",-290874434),Yq=new C(null,"search","search",1564939822),Zq=new C(null,"div.flex.flex-col.p-1.mb-6.border-l-2.border-transparent.hover:border-blue-500",
"div.flex.flex-col.p-1.mb-6.border-l-2.border-transparent.hover:border-blue-500",2054366269),$q=new C("literate","widget","literate/widget",-1743430817),ar=new C(null,"right","right",-452581833),ir=new A(null,"println-str","println-str",-2049216703,null),kr=new C(null,"host","host",-1558485167),lr=new C(null,"err","err",-2089457205),mr=new A(null,"when","when",1064114221,null),nr=new A(ca,"coll-of","cljs.spec.alpha/coll-of",1019430407,null),or=new A(aa,"set?","cljs.core/set?",-1176684971,null),pr=
new C(null,"logical-blocks","logical-blocks",-1466339776),qr=new C(null,"\x3cserver","\x3cserver",-2135373537),rr=new A(null,"quot","quot",-1125214196,null),sr=new C(null,"colinc","colinc",-584873385),tr=new C(null,"auto","auto",-566279492),ur=new C(null,"find","find",496279456),vr=new A(null,"\x3e\x3d","\x3e\x3d",1016916022,null),wr=new C(null,"fatal","fatal",1874419888),xr=new C(null,"logical-block","logical-block",-581022564),yr=new C(null,"rate-limit","rate-limit",1748082022),zr=new A(null,"nil?",
"nil?",1612038930,null),Ar=new C(null,"namespaced-keyword","namespaced-keyword",131372895),Br=new C(null,"your-version","your-version",-351781765),Cr=new A(null,"or","or",1876275696,null),Dr=new C(null,"col","col",-1959363084),Er=new C("db","fn","db/fn",-1175261470),Fr=new C(null,"?ns-str","?ns-str",2012733966),Gr=new C("widget.geoplot","height","widget.geoplot/height",774138358),Hr=new C("entity-id","syntax","entity-id/syntax",1921317045),Ir=new C(null,"current","current",-1088038603),Jr=new C(null,
"writing","writing",-1486865108),Kr=new C(null,"ch-recv","ch-recv",-990916861),Lr=new C(null,"start-col","start-col",668080143),Mr=new C(null,"into","into",-150836029),Nr=new C(null,"suppress-namespaces","suppress-namespaces",2130686956),Or=new A(null,"set!","set!",250714521,null),Pr=new C(null,"uri-str","uri-str",304128675),Qr=new C(null,"parent","parent",-878878779),Rr=new C(null,"instance-handle_","instance-handle_",-1923384457),Sr=new C(null,"new","new",-2085437848),Tr=new C("query","where","query/where",
-1935159429),Ur=new C("db","retract","db/retract",-1549825231),Vr=new C(null,"free","free",801364328),Wr=new A(null,"missing?","missing?",-1710383910,null),Xr=new C(null,"cljsLegacyRender","cljsLegacyRender",-1527295613),Yr=new A(aa,"map?","cljs.core/map?",-1390345523,null),Zr=new C(null,"seen","seen",-518999789),$r=new C(null,"instant","instant",655498374),as=new A(null,"\x3c\x3d","\x3c\x3d",1244895369,null),bs=new A(null,"\x26","\x26",-2144855648,null),cs=new C(null,"ex-kind","ex-kind",1581199296),
ds=new C(null,"internal","internal",-854870097),es=new C(null,"reagentRender","reagentRender",-358306383),fs=new C(null,"right-bracket","right-bracket",951856080),gs=new C(null,"last-ws-error","last-ws-error",-820288502),hs=new C(null,"req-id","req-id",-471642231),is=new C(null,"schema","schema",-1582001791),js=new C(null,"tx-data","tx-data",934159761),ks=new C(null,"amp","amp",271690571),ls=new C("db.unique","value","db.unique/value",276903088),ms=new C(null,"csrf-token","csrf-token",-1872302856),
ns=new C(ca,"cpred","cljs.spec.alpha/cpred",-693471218),os=new C(null,"will-update","will-update",328062998),ps=new C("chsk","state","chsk/state",-1991397620),qs=new A(null,"-Inf","-Inf",-2123243689,null),Xf=new C("db","id","db/id",-1388397098),rs=new C(null,"vars","vars",-2046957217),ss=new C(null,"any","any",1705907423),ts=new C(null,"client-uuid","client-uuid",-1717531965),us=new C(null,"will-unmount","will-unmount",-808051550),vs=new A(null,"name","name",-810760592,null),ws=new C(null,"operation",
"operation",-1267664310),xs=new C(null,"after-render","after-render",1997533433),bm=new C(null,"default","default",-1987822328),ys=new C(null,"secs","secs",1532330091),zs=new A("clojure.core","deref","clojure.core/deref",188719157,null),As=new C(null,"padchar","padchar",2018584530),Bs=new C(null,"unexpected","unexpected",-1137752424),Cs=new C(null,"elidable?","elidable?",248362249),Ds=new C(null,"cache?","cache?",-1601953949),uc=new C(null,"print-length","print-length",1931866356),Es=new C(null,"nil",
"nil",99600501),Fs=new A(null,"odd?","odd?",-1458588199,null),Gs=new C(null,"*","*",-1294732318),Hs=new C(null,"json","json",1279968570),Is=new C(null,"allow-spec","allow-spec",448749872),Js=new C("db","retractEntity","db/retractEntity",-1452737935),Ks=new C(null,"no-op","no-op",-93046065),Ls=new A(null,"zero?","zero?",325758897,null),Ms=new C(null,"buffer-block","buffer-block",-10937307),Ns=new C(null,"reader-exception","reader-exception",-1938323098),Os=new C(null,"remaining-arg-count","remaining-arg-count",
-1216589335),Ps=new C(null,"recursion","recursion",-749738765),Qs=new A(null,"-","-",-471816912,null),Rs=new C(null,"req-un","req-un",1074571008),Ss=new A(null,"keyword","keyword",-1843046022,null),Ts=new C(null,"forms","forms",2045992350),Us=new C("db","attrTuples","db/attrTuples",860541631),Vs=new C(null,"cur","cur",1153190599),Ws=new C(null,"init","init",-1875481434),Xs=new C(null,"branches","branches",-1240337268),Ys=new A(null,"def","def",597100991,null),Zs=new A(null,"dec","dec",-766002333,
null),$s=new C(fa,"internal","datascript.db/internal",-249301114),at=new A(null,"rand","rand",-1745930995,null),bt=new C("rum","class","rum/class",-2030775258),Jl=new C(null,"keywordize-keys","keywordize-keys",1310784252),ct=new C("widget","type","widget/type",-1894308144),dt=new C(null,"pos","pos",-864607220),et=new C(ca,"v","cljs.spec.alpha/v",552625740),ft=new C(null,"on-write","on-write",31519475),gt=new C("transact","upsert","transact/upsert",412688078),ht=new C(ca,"k","cljs.spec.alpha/k",-1602615178),
it=new C(null,"kvps","kvps",65308317),jt=new C(null,"info","info",-317069002),kt=new C(null,"output-fn","output-fn",1600951539),lt=new A(null,"set","set",1945134081,null),mt=new C(null,"commainterval","commainterval",-1980061083),nt=new C("mem","del","mem/del",574870667),ot=new C("db.fn","retractAttribute","db.fn/retractAttribute",937402164),pt=new C(null,"elements","elements",657646735),qt=new C(null,"send-buffers","send-buffers",-1788003787),rt=new C(null,"total","total",1916810418),st=new C(null,
"separator","separator",-1628749125),tt=new A("datascript","Datom","datascript/Datom",-901340080,null),ut=new A(null,"defonce","defonce",-1681484013,null),vt=new C(null,"?content","?content",1697782054),wt=new C(null,"div.w-full","div.w-full",-1626749092),xt=new A(null,"%","%",-950237169,null),yt=new C(null,"form","form",-1624062471),zt=new C(null,"pretty-writer","pretty-writer",-1222834267),At=new A(null,"..","..",-300507420,null),Bt=new C(fa,"tx-redundant","datascript.db/tx-redundant",-1117921977),
Ct=new C(null,"length-computable?","length-computable?",1915473276),Dt=new A(null,"not\x3d","not\x3d",1466536204,null),Et=new C(null,"validator","validator",-1966190681),Ft=new C(null,"pretty","pretty",-1916372486),Gt=new C(null,"unnamespaced-id","unnamespaced-id",1976189772),Ht=new C(null,"buffer-level","buffer-level",928864731),It=new A(null,"range","range",-1014743483,null),Jt=new A(da,"blank?","clojure.string/blank?",1772874244,null),Kt=new C("rl","all","rl/all",892118056),Lt=new C(null,"ever-opened?",
"ever-opened?",1128459732),Mt=new C(null,"fragment","fragment",826775688),xl=new C(null,"pending","pending",-220036727),Nt=new C(ca,"invalid","cljs.spec.alpha/invalid",-1220295119),Ot=new C(ca,"pcat","cljs.spec.alpha/pcat",26406623),rc=new C(null,"readably","readably",1129599760),Pt=new C(null,"contextTypes","contextTypes",-2023853910),Qt=new C(null,"chsk","chsk",-863703081),Rt=new C(null,"file","file",-1269645878),St=new C(null,"error-handler","error-handler",-484945776),Tt=new C(null,"rschema",
"rschema",-1196134054),Ut=new C(null,"progress-fn","progress-fn",-1146547855),Vt=new C(null,"fill","fill",883462889),Wt=new C(null,"i.zmdi.zmdi-close","i.zmdi.zmdi-close",1663309273),Xt=new C("widget","html","widget/html",-1786567845),Yt=new C(null,"client-id","client-id",-464622140),Zt=new C(null,"attrs","attrs",-2090668713),$t=new C(ha,"recursion","datascript.pull-api/recursion",-1897884534),au=new C(null,"months","months",-45571637),cu=new C(null,"radix","radix",857016463),du=new C(null,"send-fn",
"send-fn",351002041),eu=new C("parser","with","parser/with",-386255821),fu=new C(null,"text","text",-1790561697),gu=new C(null,"distinct","distinct",-1788879121),hu=new C(null,"ns-str","ns-str",-2062616499),iu=new A(null,"uuid","uuid",-504564192,null),ju=new C(null,"udt-last-comms_","udt-last-comms_",-145799639),ku=new C(null,"entity-id","entity-id",1485898093),lu=new C(null,"wildcard","wildcard",-622473020),mu=new A(null,"queue","queue",-1198599890,null),nu=new C(null,"block","block",664686210),
ou=new C(null,"else","else",-1508377146),pu=new C(null,"variable","variable",-281346492),qu=new A(null,"case*","case*",-1938255072,null),ru=new A(null,"p1__23714#","p1__23714#",-535609071,null),uu=new C(null,"params","params",710516235),Sl=new C(null,"ancestors","ancestors",-776045424),wu=new C(null,"tuples","tuples",-676032639),xu=new C(null,"listeners","listeners",394544445),yu=new C(null,"retry-count_","retry-count_",20238093),zu=new C("db","cardinality","db/cardinality",-104975659),Au=new A(null,
"struct-map","struct-map",-1387540878,null),Bu=new C(null,"hostname","hostname",2105669933),Cu=new C(null,"rest","rest",-1241696419),Du=new C(null,"min-remaining","min-remaining",962687677),Eu=new C(null,"?data","?data",-9471433),Fu=new C(null,"offset","offset",296498311),Gu=new C(null,"var","var",-769682797),Hu=new C(null,"commachar","commachar",652859327),Iu=new C(null,"error-level?","error-level?",778415885),Ju=new C(null,"content","content",15833224),Ku=new C(null,"ring-req","ring-req",-747861961),
Lu=new C(null,"loaded","loaded",-1246482293),Mu=new A(null,"re-find","re-find",1143444147,null),pl=new C(null,"val","val",128701612),Nu=new A(aa,"zipmap","cljs.core/zipmap",-1902130674,null),Ou=new A(null,"-\x3e","-\x3e",-2139605430,null),Pu=new C(null,"db-after","db-after",-571884666),Qu=new C(null,"render","render",-1408033454),Ru=new C(null,"entity","entity",-450970276),Su=new C(null,"timeout","timeout",-318625318),Tu=new C(null,"arglists","arglists",1661989754),Uu=new C(null,"div.flex.flex-col",
"div.flex.flex-col",255067761),Vu=new A(null,"js*","js*",-1134233646,null),Wu=new C(null,"end-pos","end-pos",-1643883926),Xu=new C(null,"auto-run","auto-run",1958400437),Yu=new C(null,"min-version","min-version",-1697197126),Zu=new C(null,"pred-forms","pred-forms",172611832),$u=new C(null,"hours","hours",58380855),av=new C(null,"trace-evs?","trace-evs?",1502453512),bv=new A(null,"catch","catch",-1616370245,null),cv=new A(null,"tuple","tuple",1167864243,null),dv=new A(null,"count-distinct","count-distinct",
-1566572514,null),ev=new C(null,"get","get",1683182755),fv=new C(ca,"kvs-\x3emap","cljs.spec.alpha/kvs-\x3emap",579713455),gv=new C(null,"kind","kind",-717265803),hv=new C(null,"method","method",55703592),iv=new C(null,"val-type","val-type",-279850094),jv=new A(null,"defn","defn",-126010802,null),kv=new C(null,"specs","specs",1426570741),lv=new A(null,"struct","struct",325972931,null),mv=new C("db.fn","call","db.fn/call",-151594418),nv=new C("widget.type","code","widget.type/code",-673996494),ov=
new C(null,"gfn","gfn",791517474),pv=new C(null,"years","years",-1298579689),qv=new C(null,"namespaced-map","namespaced-map",1235665380),rv=new A(null,"prn-str","prn-str",-145225943,null),sv=new C(ca,"accept","cljs.spec.alpha/accept",370988198),tv=new A(null,"...","...",-1926939749,null),uv=new C(null,"constructor","constructor",-1953928811),vv=new C(null,"childContextTypes","childContextTypes",578717991),xv=new C(null,"onerror-fn","onerror-fn",1069372505),yv=new C(null,"xhr","xhr",-177710851),zv=
new C(null,"eavt","eavt",-666437073),Av=new C(null,"mins","mins",467369676),Bv=new C(null,"tag","tag",-1290361223),Cv=new C(null,"hostname_","hostname_",-2091647379),Dv=new C(null,"linear","linear",872268697),Ev=new A(null,"new","new",-444906321,null),Fv=new C("db","cas","db/cas",-451542322),Gv=new C(null,"other","other",995793544),Hv=new A(null,"\x3e","\x3e",1085014381,null),Iv=new C(null,"?msg-fmt","?msg-fmt",-852453891),Jv=new C(null,"sections","sections",-886710106),Kv=new C(null,"lines","lines",
-700165781),Lv=new A(null,"do","do",1686842252,null),Mv=new C(null,"colon","colon",-965200945),Nv=new C("literate","widgets","literate/widgets",1235755088),Pv=new C(null,"edn","edn",1317840885),Qv=new C(null,"keys-pred","keys-pred",858984739),Rv=new C("widget.type","identicon","widget.type/identicon",-1604205816),Sv=new C(null,"?line","?line",-631853385),Tv=new C(null,"test","test",577538877),Uv=new A(null,"\x3d","\x3d",-1501502141,null),Vv=new C(null,"minpad","minpad",323570901),Wv=new A("datascript",
"DB","datascript/DB",-487332776,null),cl=new C(null,"alt-impl","alt-impl",670969595),Yv=new A(null,"not-empty","not-empty",2029453590,null),Zv=new C(null,"conflict","conflict",1978796605),aw=new C(null,"datom","datom",-371556090),bw=new A(ca,"keys","cljs.spec.alpha/keys",1109346032,null),cw=new C(null,"given","given",716253602),dw=new C(null,"did-remount","did-remount",1362550500),ew=new A(null,"db","db",-1661185010,null),fw=new A(null,"with-local-vars","with-local-vars",837642072,null),gw=new C(null,
"did-catch","did-catch",2139522313),hw=new A(null,"aggregate","aggregate",-1142967327,null),iw=new C(null,"udt-next-reconnect","udt-next-reconnect",-1990375733),jw=new A(null,"and","and",668631710,null),kw=new A(null,"try","try",-1273693247,null),lw=new C(null,"location","location",1815599388),mw=new C(null,"xml","xml",-1170142052),nw=new A(null,"throw","throw",595905694,null),ow=new C(null,"before-render","before-render",71256781),pw=new A(null,"array-map","array-map",1555038968,null),qw=new C(null,
"font-family","font-family",-667419874),rw=new C(null,"?reply-fn","?reply-fn",-1479510592),sw=new A(null,"let","let",358118826,null),qc=new C(null,"flush-on-newline","flush-on-newline",-151457939),tw=new A(null,"print-str","print-str",-699700354,null),uw=new C(null,"opt-specs","opt-specs",-384905450),vw=new A(null,"meta","meta",-1154898805,null),ww=new C(null,"wrong-length","wrong-length",1367572281),xw=new C(null,"rules","rules",1198912366),yw=new C(null,"rels","rels",1770187185),zw=new C(null,"pred-exprs",
"pred-exprs",1792271395),Aw=new A(null,"if","if",1181717262,null),Bw=new A(null,"get-some","get-some",409442058,null),Cw=new C("rum","args","rum/args",1315791754),Dw=new C(null,"binding","binding",539932593),Ew=new C(null,"character","character",380652989),Fw=new C(ca,"kfn","cljs.spec.alpha/kfn",672643897),Gw=new C(null,"eid","eid",559519930),Hw=new C(null,"wrap-recv-evs?","wrap-recv-evs?",-1996694153),Iw=new C(null,"reagent-render","reagent-render",-985383853),Jw=new A(null,"hash-map","hash-map",
-439030950,null),Kw=new A(null,"loop*","loop*",615029416,null),Lw=new C(null,"min-count","min-count",1594709013),Mw=new C(null,"last","last",1105735132),Nw=new A(null,"quote","quote",1377916282,null),Ow=new A(aa,"vector?","cljs.core/vector?",-1550392028,null),Pw=new A(aa,"lift-ns","cljs.core/lift-ns",463499081,null),Qw=new C(null,"k","k",-2146297393),Rw=new C(null,"hierarchy","hierarchy",-1053470341),Sw=new C(null,"qreturn-map","qreturn-map",1841215994),Tw=new C(null,"e","e",1381269198),Uw=new C(null,
"f","f",-1597136552),Vw=new C(null,"trace","trace",-1082747415),Ww=new C(null,"d","d",1972142424),Xw=new C(null,"a","a",-2123407586),Yw=new C("rl","reset","rl/reset",-800926172),Zw=new A(null,"pull","pull",779986722,null),$w=new C(null,"ajax-cb","ajax-cb",-807060321),ax=new A(da,"starts-with?","clojure.string/starts-with?",656256322,null),bx=new C(null,"w","w",354169001),cx=new A(null,"fn","fn",465265323,null),dx=new C(null,"v","v",21465059),fx=new C(null,"last-close","last-close",-2054255782),gx=
new C(null,"strable","strable",1877668047),hx=new C(null,"p","p",151049309),ix=new C(null,"componentWillUnmount","componentWillUnmount",1573788814),jx=new C(null,"n","n",562130025),lx=new C(null,"contextType","contextType",1033066077),mx=new C(null,"func","func",-238706040),nx=new C(null,"symbol","symbol",-1038572696),ox=new C(null,"got","got",-1674745710),px=new A(aa,"contains?","cljs.core/contains?",-976526835,null),qx=new C(null,"indent-t","indent-t",528318969),rx=new A(null,"lift-ns","lift-ns",
602311926,null),sx=new C(null,"middleware","middleware",1462115504),tx=new C(null,"getDerivedStateFromProps","getDerivedStateFromProps",-991834739),ux=new C(null,"ref","ref",1289896967),vx=new C(null,"value","value",305978217),wx=new C(null,"ws-chsk-opts","ws-chsk-opts",-1990170104),dl=new C(null,"fallback-impl","fallback-impl",-1501286995),xx=new C(null,"sources","sources",-321166424),yx=new C(null,"display-name","display-name",694513143),zx=new C(null,"enabled?","enabled?",-1376075057),Ax=new A(null,
"ns","ns",2082130287,null),Bx=new C(null,"req","req",-326448303),Cx=new C(null,"height","height",1025178622),Dx=new C(null,"ret","ret",-468222814),Ex=new C("parser","rule","parser/rule",-464044566),Fx=new C(null,"done","done",-889844188),Gx=new C(null,"chs","chs",376886120),Hx=new C(null,"both","both",-393648840),Ix=new C(null,"debug","debug",-1608172596),Jx=new C(null,"vector","vector",1902966158),Kx=new C(null,"req-specs","req-specs",553962313),Lx=new C(null,"end","end",-268185958),Mx=new C(null,
"wrong-type","wrong-type",929556915),Nx=new C(null,"connected-uids","connected-uids",1454332231),Ox=new A(null,"distinct","distinct",-148347594,null),Px=new A(null,"get-else","get-else",1312024065,null),Qx=new C(null,"className","className",-1983287057),Rx=new C(null,"buffer-blob","buffer-blob",-1830112173),Sx=new C(null,"allows-separator","allows-separator",-818967742),Ux=new C(null,"dangerouslySetInnerHTML","dangerouslySetInnerHTML",-554971138),Vx=new A("clojure.core","unquote","clojure.core/unquote",
843087510,null),Wx=new C(null,"appenders","appenders",1245583998),Xx=new C(null,"colon-up-arrow","colon-up-arrow",244853007),Yx=new A(null,"*","*",345799209,null),Zx=new C("rl","peek","rl/peek",-291391771),$x=new C(null,"flags","flags",1775418075),ay=new C(null,"eof","eof",-489063237),by=new A(null,"-differ?","-differ?",1465687357,null),cy=new C(null,"ws-kalive-ms","ws-kalive-ms",1442179968),dy=new A(null,"js","js",-886355190,null),ey=new C(null,"relative-to","relative-to",-470100051),fy=new A(null,
"doseq","doseq",221164135,null),gy=new C("widget","parent","widget/parent",-1665940103),hy=new A(null,"avg","avg",1837937727,null),iy=new A(ca,"conformer","cljs.spec.alpha/conformer",2140085535,null),jy=new A(null,"not","not",1044554643,null),ky=new A(aa,"list?","cljs.core/list?",-684796618,null),ly=new C(null,"max-eid","max-eid",2134868075),my=new C(null,"expand-kvps","expand-kvps",44141154),ny=new C(null,"unknown","unknown",-935977881),Uk=new C(null,"more-marker","more-marker",-14717935),py=new C(null,
"index-access","index-access",-1548960265),qy=new C(null,"X-CSRF-Token","X-CSRF-Token",1562992453),ry=new C("parser","where","parser/where",-966053850),sy=new C(null,"aevt","aevt",-585148059),ty=new C("widget.geoplot","wkt","widget.geoplot/wkt",1238224566),uy=new C(null,"used-args","used-args",23596256),vy=new C(null,"nl-t","nl-t",-1608382114),wy=new C(null,"symbols","symbols",1211743),xy=new A(null,"var","var",870848730,null),yy=new C(null,"qualifier","qualifier",125841738),zy=new C(null,"attr",
"attr",-604132353),Ay=new C(null,"doc","doc",1913296891),By=new C("chsk","bad-package","chsk/bad-package",501893679),Cy=new C(null,"cbs-waiting_","cbs-waiting_",-1519029061),wl=new C(null,"ready","ready",1086465795),Dy=new A(null,"neg?","neg?",-1902175577,null),Ey=new C(null,"div.rounded-full.h-8.w-8.flex.items-center.justify-center.text-2xl.hover:bg-green-200","div.rounded-full.h-8.w-8.flex.items-center.justify-center.text-2xl.hover:bg-green-200",-1396684735),Fy=new C(null,"hash_","hash_",-827203612),
Gy=new C(null,"http-error","http-error",-1040049553),Hy=new C("db.cardinality","one","db.cardinality/one",1428352190),Iy=new A(null,"untuple","untuple",-606149900,null),Jy=new C("parser","query","parser/query",1877320671),Ky=new C(null,"displayName","displayName",-809144601),Ly=new C(ca,"gfn","cljs.spec.alpha/gfn",-593120375),My=new C(null,"added","added",2057651688),Ny=new C(null,"?file","?file",1533429675),Oy=new A(null,"mod","mod",1510044207,null),Py=new C(null,"i.zmdi.zmdi-bug.text-green-500",
"i.zmdi.zmdi-bug.text-green-500",-1589227883),Qy=new C(null,"qin","qin",1372651151),Ry=new A(null,"cond","cond",1606708055,null),Sy=new A(null,"\x3c","\x3c",993667236,null),Ty=new C(null,"map","map",1371690461),Uy=new C(null,"open?","open?",1238443125),Vy=new C(null,"element","element",1974019749),Wy=new C(null,"char-format","char-format",-1016499218),Xy=new A(null,"type","type",-1480165421,null),Yy=new C(null,"getDerivedStateFromError","getDerivedStateFromError",166658477),Zy=new C("parser","pull",
"parser/pull",-2147427204),$y=new C(null,"mode","mode",654403691),az=new C(null,"max-columns","max-columns",1742323262),bz=new C(null,"will-mount","will-mount",-434633071),cz=new C(null,"max","max",61366548),dz=new C(null,"pending-guards","pending-guards",-1255527308),ez=new C(null,"last-ws-close","last-ws-close",-798104932),fz=new A(null,"when-let","when-let",-1383043480,null),gz=new C("db","index","db/index",-1531680669),hz=new C(null,"url","url",276297046),iz=new C(null,"rattr","rattr",-1122345563),
jz=new C(null,"qwhere","qwhere",-1645067378),kz=new C(null,"count","count",2139924085),lz=new C(null,"clauses","clauses",1454841241),mz=new A(null,"empty?","empty?",76408555,null),sz=new A(null,"re-matches","re-matches",-1865705768,null),tz=new C(null,"static-properties","static-properties",-577838503),uz=new C(null,"ever-opened?_","ever-opened?_",1641338913),vz=new C(null,"miser-width","miser-width",-1310049437),wz=new C(null,"expand","expand",595248157),xz=new A(null,"binding","binding",-2114503176,
null),yz=new A(null,"ground","ground",-1460862835,null),zz=new C(null,"state_","state_",957667102),Az=new C("rum","component-stack","rum/component-stack",2037541138),Bz=new C(null,"index","index",-1531685915),Cz=new C(null,"class","class",-2030961996),Dz=new C(null,"packer","packer",66077544),Ez=new C("db.unique","identity","db.unique/identity",1675950722),Fz=new C(null,"success?","success?",-122854052),Gz=new C(fa,"queued-tuples","datascript.db/queued-tuples",-762852029),Hz=new A(null,".",".",1975675962,
null),Iz=new C(null,"at","at",1476951349),Jz=new C("transact","unique","transact/unique",-940992320),Kz=new C(null,"splice","splice",449588165),Lz=new C(null,"dispatch","dispatch",1319337009),Mz=new A(null,"inst","inst",-2008473268,null),Nz=new C(ca,"describe","cljs.spec.alpha/describe",1883026911),Oz=new A(null,"sample","sample",1719555128,null),Pz=new C("widget","markdown","widget/markdown",-145862203),Qz=new C(null,"__html","__html",674048345),Rz=new C(null,"max-tx","max-tx",1119558339),Sz=new C("lookup-ref",
"syntax","lookup-ref/syntax",-317304012),Tz=new C("widget.geoplot","center","widget.geoplot/center",-530369016),Uz=new C(null,"as","as",1148689641),Vz=new C(null,"?meta","?meta",-793560773),Wz=new C(null,"name","name",1843675177),Xz=new C(null,"syms","syms",-1575891762),Yz=new C(null,"vargs","vargs",-966597273),Zz=new C("chsk","bad-event","chsk/bad-event",-565206930),$z=new C(null,"div.fixed.bottom-0.right-0.mr-4.mb-4","div.fixed.bottom-0.right-0.mr-4.mb-4",211353752),aA=new C("db.type","ref","db.type/ref",
-1728373079),bA=new C(null,"queue","queue",1455835879),cA=new C(null,"stacktrace-fonts","stacktrace-fonts",830799382),dA=new C(null,"warn","warn",-436710552),eA=new A(null,"loop","loop",1244978678,null),fA=new C("parser","find","parser/find",-801023103),gA=new C(null,"appender","appender",1267426510),hA=new C(null,"selector","selector",762528866),iA=new C(null,"key-fn","key-fn",-636154479),jA=new C(null,"parameter-from-args","parameter-from-args",-758446196),kA=new C(null,"miser","miser",-556060186),
lA=new C("mem","fresh","mem/fresh",-1179989133),mA=new C(null,"ajax","ajax",814345549),nA=new C(null,"on-set","on-set",-140953470),oA=new A(null,"inc","inc",324505433,null),pA=new C(null,"rule-vars","rule-vars",1665972520),qA=new C(null,"backoff-ms-fn","backoff-ms-fn",772895955),rA=new C(null,"context","context",-830191113),sA=new C(null,"chsk-url-fn","chsk-url-fn",1968894294),tA=new C(null,"colnum","colnum",2023796854),uA=new C(null,"raw-resp","raw-resp",-1924342506),vA=new C(null,"section","section",
-300141526),wA=new C(null,"bracket-info","bracket-info",-1600092774),xA=new A(null,"even?","even?",-1827825394,null),yA=new A(null,"Inf","Inf",647172781,null),zA=new A(aa,"map","cljs.core/map",-338988913,null),AA=new C(null,"did-mount","did-mount",918232960),tc=new C(null,"dup","dup",556298533),BA=new C(null,"prefix-context","prefix-context",-1269613591),CA=new C(null,"init-db","init-db",1595181278),DA=new C(null,"should-update","should-update",-1292781795),EA=new C(null,"timestamp_","timestamp_",
-954533417),FA=new C("ajax","resp-as-text","ajax/resp-as-text",141416819),GA=new C(null,"socket_","socket_",-361048908),HA=new C(ca,"rep","cljs.spec.alpha/rep",1483217317),IA=new C(null,"fn","fn",-1175266204),JA=new C(null,"args","args",1315556576),KA=new C(null,"suffix","suffix",367373057),LA=new C(null,"old","old",-1825222690),MA=new C(null,"div.flex.flex-1.overflow-x-auto","div.flex.flex-1.overflow-x-auto",2231265),NA=new C(null,"qwith","qwith",-45809392),OA=new A(null,"defn-","defn-",1097765044,
null),PA=new C(null,"pattern","pattern",242135423),QA=new C(null,"div.p-2","div.p-2",-325121057),RA=new C(null,"required","required",1807647006),SA=new C(null,"priority","priority",1431093715),TA=new C(null,"buffer","buffer",617295198),UA=new C(null,"inherit","inherit",-1840815422),VA=new C(null,"component-did-update","component-did-update",-1468549173),WA=new C(null,"msg_","msg_",-1925147E3),XA=new C(null,"opt-keys","opt-keys",1262688261),YA=new A(null,"when-not","when-not",-1223136340,null),ZA=
new C(null,"ev","ev",-406827324),$A=new C(null,"console","console",1228072057),aB=new C("parser","in","parser/in",1617442048),bB=new C(null,"hash","hash",-13781596),cB=new A(null,"namespace","namespace",1263021155,null),dB=new C(null,"?content-type","?content-type",-2129759049),eB=new C(null,"post","post",269697687),fB=new C(null,"simple-auto-threading?","simple-auto-threading?",1950754184),gB=new C(null,"arg3","arg3",-1486822496),hB=new C(null,"min-level","min-level",1634684919),iB=new C(null,"arg1",
"arg1",951899358),jB=new C("db","valueType","db/valueType",1827971944),kB=new C(null,"arg2","arg2",1729550917),lB=new C(null,"list","list",765357683),mB=new C("db","ident","db/ident",-737096),nB=new C(null,"dt","dt",-368444759),oB=new C(null,"min","min",444991522),pB=new C("literate","!transact","literate/!transact",758397308),qB=new A(null,"re-pattern","re-pattern",1047705161,null),rB=new C(null,"column","column",2078222095),sB=new C(null,"key","key",-1516042587),tB=new A(null,"rand-int","rand-int",
-495012157,null),uB=new C("chsk","recv","chsk/recv",561097091),vB=new C(null,"up-arrow","up-arrow",1705310333),wB=new A(null,"contains?","contains?",-1676812576,null),xB=new A(null,"true?","true?",-1600332395,null),yB=new C(null,"?ratio","?ratio",-1275760831),zB=new A(null,"+","+",-740910886,null),AB=new C(null,"generator-fn","generator-fn",811851656),BB=new C(null,"req-keys","req-keys",514319221),CB=new C(null,"logical-block-callback","logical-block-callback",1612691194),DB=new C(null,"resp-type",
"resp-type",1050675962),EB=new C("db.cardinality","many","db.cardinality/many",772806234),FB=new C(null,"weeks","weeks",1844596125),GB=new C(null,"overflowchar","overflowchar",-1620088106),HB=new C(null,"with","with",-1536296876),IB=new C(null,"cb","cb",589947841),JB=new C("swap","dissoc","swap/dissoc",-605373782),KB=new C(null,"ppstr","ppstr",1557495252),Ql=new C(null,"parents","parents",-2027538891),LB=new C("chsk","handshake","chsk/handshake",64910686),MB=new C(null,"with-credentials?","with-credentials?",
-1773202222),NB=new C(null,"mincol","mincol",1230695445),OB=new C(null,"protocol","protocol",652470118),PB=new C(null,"curr-xhr_","curr-xhr_",-1318773696),QB=new A(null,"if-let","if-let",1803593690,null),RB=new C(null,"*assert*","*assert*",-160895053),SB=new C("chsk","dummy-cb-200","chsk/dummy-cb-200",-1663130337),TB=new A(null,"condp","condp",1054325175,null),UB=new A(null,"rem","rem",664046770,null),VB=new C("widget","vega-lite-spec","widget/vega-lite-spec",1203345650),WB=new C(null,"deref","deref",
-145586795),XB=new C(null,"in","in",-1531184865),YB=new C(ca,"unknown","cljs.spec.alpha/unknown",651034818),ZB=new C(null,"max-iterations","max-iterations",2021275563),$B=new C(null,"output_","output_",-36797880),aC=new C(null,"opt","opt",-794706369),bC=new C(null,"reason","reason",-2070751759),cC=new C(null,"shouldComponentUpdate","shouldComponentUpdate",1795750960),dC=new C(null,"assertion","assertion",-1645134882),eC=new C(null,"config","config",994861415),fC=new C(null,"id","id",-1388402092),
gC=new A(null,"?e","?e",-1194391683,null),hC=new C(null,"onclose-fn","onclose-fn",-1388163785),iC=new C(null,"stream","stream",1534941648),jC=new C(null,"results","results",-1134170113),kC=new A(null,"false?","false?",-1522377573,null),lC=new C("widget","uuid","widget/uuid",-585315811),mC=new A(null,"deftype*","deftype*",962659890,null),nC=new C(null,"rep+","rep+",-281382396),oC=new C(null,"ajax-opts","ajax-opts",-518239109),pC=new A(null,"NaN","NaN",666918153,null),qC=new C(null,"indent","indent",
-148200125),rC=new C("chsk","closed","chsk/closed",-922855264),sC=new C(null,"msecs","msecs",1711980553),tC=new A(null,"defmacro","defmacro",2054157304,null),uC=new C("db","add","db/add",235286841),vC=new A(null,"vector","vector",-751469611,null),wC=new C(null,"recv-buf-or-n","recv-buf-or-n",1363950355),xC=new C(null,"porrl","porrl",-1693905102),yC=new C(ca,"conform-all","cljs.spec.alpha/conform-all",45201917),zC=new C(null,"else-params","else-params",-832171646),AC=new C(null,"keyword","keyword",
811389747),BC=new C(null,"whitelist","whitelist",-979294437),CC=new C(null,"end-block-t","end-block-t",1544648735),DC=new C(null,"tempids","tempids",1767509089),EC=new C(null,"errors","errors",-908790718),FC=new C(null,"max-count","max-count",1539185305);function GC(a,b,c){if(Ag(c)){var d=hh(Dg,Mh.aa(a,c));return b.ba?b.ba(d):b.call(null,d)}return Fi(c)?(d=new Y(function(){var e=hd(c);return a.ba?a.ba(e):a.call(null,e)}(),function(){var e=id(c);return a.ba?a.ba(e):a.call(null,e)}()),b.ba?b.ba(d):b.call(null,d)):Kf(c)?(d=Mk(Mh.aa(a,c)),b.ba?b.ba(d):b.call(null,d)):Ff(c)?(d=v.ca(function(e,f){return of.aa(e,a.ba?a.ba(f):a.call(null,f))},c,c),b.ba?b.ba(d):b.call(null,d)):Af(c)?(d=bi.aa(rf(c),Mh.aa(a,c)),b.ba?b.ba(d):b.call(null,d)):b.ba?b.ba(c):b.call(null,
c)}var HC=function HC(a,b){return GC(yh.aa(HC,a),a,b)};var IC={};function JC(a,b,c){var d=RegExp,e=b.source,f=r(b.ignoreCase)?"gi":"g";f=r(b.multiline)?[f,"m"].join(""):f;b=r(b.mj)?[f,"u"].join(""):f;d=new d(e,b);return a.replace(d,c)}
function KC(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new I(f,0,null)}return c.call(this,e)}function c(d){d=Ph(2,d);if(D.aa(M(d),1))return d=J(d),a.ba?a.ba(d):a.call(null,d);d=Zf(d);return a.ba?a.ba(d):a.call(null,d)}b.ma=0;b.pa=function(d){d=E(d);return c(d)};b.ea=c;return b}()}
function LC(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?JC(a,b,c):JC(a,b,KC(c));throw["Invalid match arg: ",t.ba(b)].join("");}function MC(a){var b=new ec;for(a=E(a);;)if(null!=a)b=b.append(t.ba(J(a))),a=K(a);else return b.toString()}
function NC(a,b){var c=new ec;for(b=E(b);;)if(null!=b)c.append(t.ba(J(b))),b=K(b),null!=b&&c.append(a);else return c.toString()}function OC(a){return Ob(a)}function PC(a,b){if(0>=b||b>=2+M(a))return of.aa(Zf(gf("",Mh.aa(t,E(a)))),"");if(r(yg.aa?yg.aa(1,b):yg.call(null,1,b)))return new X(null,1,5,Z,[a],null);if(r(yg.aa?yg.aa(2,b):yg.call(null,2,b)))return new X(null,2,5,Z,["",a],null);b-=2;return of.aa(Zf(gf("",Ni(Zf(Mh.aa(t,E(a))),0,b))),zg.aa(a,b))}function QC(a,b){return RC(a,b,0)}
function RC(a,b,c){if("/(?:)/"===t.ba(b))b=PC(a,c);else if(1>c)b=Zf(t.ba(a).split(b));else a:for(var d=c,e=pf;;){if(1===d){b=of.aa(e,a);break a}var f=Ok(b,a);if(null!=f){var h=a.indexOf(f);f=a.substring(h+M(f));--d;e=of.aa(e,a.substring(0,h));a=f}else{b=of.aa(e,a);break a}}if(0===c&&1<M(b))a:for(c=b;;)if(""===(null==c?null:ld(c)))c=null==c?null:md(c);else break a;else c=b;return c}function SC(a){return wb(null==a?"":String(a))};var TC={},UC,VC,WC,XC;function YC(a,b){if(null!=a&&null!=a.we)a=a.we(a,b);else{var c=YC[oa(null==a?null:a)];if(null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else if(c=YC._,null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else throw Dc("Spec.conform*",a);}return a}function ZC(a,b){if(null!=a&&null!=a.xe)a=a.xe(a,b);else{var c=ZC[oa(null==a?null:a)];if(null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else if(c=ZC._,null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else throw Dc("Spec.with-gen*",a);}return a}var $C=Dh(W);
function aD(a){if(Hg(a)){var b=y($C);a=B.aa(b,a);if(Hg(a))a:for(;;)if(Hg(a))a=B.aa(b,a);else{b=a;break a}else b=a;return b}return a}function bD(a){if(Hg(a)){var b=aD(a);if(r(b))return b;throw Error(["Unable to resolve spec: ",t.ba(a)].join(""));}return a}function cD(a){return null!=a&&l===a.bf?a:null}function dD(a){var b=Bq.ba(a);return r(b)?a:b}function eD(a,b){return Hg(a)?a:r(dD(a))?R.ca(a,zp,b):null!=a&&(a.ha&131072||l===a.pe)?wf(a,R.ca(xf(a),zp,b)):null}
function fD(a){return Hg(a)?a:r(dD(a))?zp.ba(a):null!=a&&(a.ha&131072||l===a.pe)?zp.ba(xf(a)):null}function gD(a){var b=function(){var c=Hg(a)?aD(a):!1;if(r(c))return c;c=cD(a);if(r(c))return c;c=dD(a);return r(c)?c:null}();return r(dD(b))?eD(hD(b,null),fD(b)):b}function iD(a){var b=gD(a);if(r(b))return b;if(Hg(a))throw Error(["Unable to resolve spec: ",t.ba(a)].join(""));return null}
function jD(a){if(SC(a))return null;a=Mh.aa(im,QC(a,"$"));if(2<=M(a)&&sh(function(c){return!SC(c)},a)){var b=Lk(wk,nf)(a);a=Q(b,0,null);b=Q(b,1,null);return xe.ba([NC(".",a),"/",t.ba(b)].join(""))}return null}
var lD=function(){function a(d,e){var f=kD[oa(null==d?null:d)];if(null!=f)return f.aa?f.aa(d,e):f.call(null,d,e);f=kD._;if(null!=f)return f.aa?f.aa(d,e):f.call(null,d,e);throw Dc("Specize.specize*",d);}function b(d){var e=kD[oa(null==d?null:d)];if(null!=e)return e.ba?e.ba(d):e.call(null,d);e=kD._;if(null!=e)return e.ba?e.ba(d):e.call(null,d);throw Dc("Specize.specize*",d);}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+
arguments.length);};c.ba=b;c.aa=a;return c}(),kD=function kD(a){switch(arguments.length){case 1:return kD.ba(arguments[0]);case 2:return kD.aa(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.ba(arguments.length)].join(""));}};kD.ba=function(a){return null!=a&&null!=a.Fd?a.Fd(a):lD(a)};kD.aa=function(a,b){return null!=a&&null!=a.Gd?a.Gd(a,b):lD(a,b)};kD.ma=2;C.prototype.Fd=function(){return kD(bD(this))};C.prototype.Gd=function(){return kD(bD(this))};A.prototype.Fd=function(){return kD(bD(this))};
A.prototype.Gd=function(){return kD(bD(this))};rk.prototype.Fd=function(){return mD(this,this,null,null,null)};rk.prototype.Gd=function(a,b){return mD(b,this,null,null,null)};
kD._=function(){function a(c){var d=uf(c)?jD(c.name):!1;return r(d)?mD(d,c,null,null,null):mD(YB,c,null,null,null)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return mD(d,c,null,null,null)}throw Error("Invalid arity: "+arguments.length);};b.ba=a;b.aa=function(c,d){return mD(d,c,null,null,null)};return b}();
var nD=function nD(a){switch(arguments.length){case 1:return nD.ba(arguments[0]);case 2:return nD.aa(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.ba(arguments.length)].join(""));}};nD.ba=function(a){var b=cD(a);return r(b)?b:kD(a)};nD.aa=function(a,b){var c=cD(a);return r(c)?c:kD(a,b)};nD.ma=2;function oD(a,b){a=aD(a);return r(dD(a))?R.ca(a,Ly,b):ZC(nD.ba(a),b)}
function pD(a,b,c){if(null==c)Fh.ca($C,S,a);else{var d=cD(c);r(d)||(d=dD(c),d=r(d)?d:B.aa(y($C),c));b=r(d)?c:mD(b,c,null,null,null);Fh.ka($C,R,a,eD(b,a))}}function qD(a,b,c){if(r(a)){var d=iD(a);if(r(d))return YC(nD.ba(d),b);if(Mf(a))return r(null)?a.ba?a.ba(b):a.call(null,b):r(a.ba?a.ba(b):a.call(null,b))?b:Nt;throw Error([hl.ea(P([c]))," is not a fn, expected predicate fn"].join(""));}return b}function rD(a,b){a=nD.ba(a);return!T(Nt,YC(a,b))}
function mD(a,b,c,d,e){if(r(cD(b)))return r(c)?oD(b,c):b;if(r(dD(b)))return hD(b,c);if(Hg(b))return a=iD(b),r(c)?oD(a,c):a;if("undefined"===typeof gc||"undefined"===typeof IC||"undefined"===typeof TC||"undefined"===typeof VC)VC=function(f,h,k,m,n,q){this.form=f;this.pred=h;this.Qd=k;this.Uf=m;this.sh=n;this.ki=q;this.ha=393216;this.na=0},VC.prototype.ta=function(f,h){return new VC(this.form,this.pred,this.Qd,this.Uf,this.sh,h)},VC.prototype.sa=function(){return this.ki},VC.prototype.Fd=function(){return this},
VC.prototype.Gd=function(){return this},VC.prototype.bf=l,VC.prototype.we=function(f,h){f=this.pred.ba?this.pred.ba(h):this.pred.call(null,h);return r(this.Uf)?f:r(f)?h:Nt},VC.prototype.xe=function(f,h){return mD(this.form,this.pred,h,this.Uf,this.sh)},VC.Fb=!0,VC.yb="cljs.spec.alpha/t_cljs$spec$alpha22056",VC.Ib=function(f){return Kd(f,"cljs.spec.alpha/t_cljs$spec$alpha22056")};return new VC(a,b,c,d,e,W)}
function sD(a,b,c){var d=E(b);J(d);K(d);d=E(c);J(d);K(d);for(d=c;;){c=a;b=E(b);a=J(b);b=K(b);var e=E(d);d=J(e);e=K(e);var f=d;d=e;if(r(a)){c=qD(a,c,f);if(T(Nt,c))return Nt;a=c}else return c}}var tD=new p(null,4,[Ow,pf,or,tk,ky,Fe,Yr,W],null);
function uD(a,b,c,d){function e(xa,ya,Ta,ka){return of.aa(xa,ka)}var f=null!=c&&(c.ha&64||l===c.Ea)?hh(ik,c):c,h=B.aa(f,FC),k=B.aa(f,In),m=B.ca(f,Rq,20),n=B.aa(f,ns),q=B.aa(f,yo),u=B.aa(f,Nz),w=B.aa(f,gu),z=B.aa(f,Fw),F=B.aa(f,kz),H=B.aa(f,Lw),G=B.aa(f,gv),N=B.aa(f,yC),O=B.aa(f,Mr),U=r(O)?rf(O):B.aa(tD,k),ea=new ul(function(){return nD.ba(b)}),va=function(){return r(z)?z:function(xa){return xa}}();if("undefined"===typeof gc||"undefined"===typeof IC||"undefined"===typeof TC||"undefined"===typeof WC)WC=
function(xa,ya,Ta,ka,pa,Ca,ua,Ba,Ya,bc,yb,fc,Yb,Vd,dg,Df,Wg,$c,Ed,ye,eg,Fd,ze,Gd,uq){this.form=xa;this.fi=ya;this.Ii=Ta;this.Ah=ka;this.Qd=pa;this.Wh=Ca;this.pred=ua;this.ef=Ba;this.ei=Ya;this.Ph=bc;this.ai=yb;this.yh=fc;this.Ve=Yb;this.Uh=Vd;this.distinct=dg;this.spec=Df;this.$h=Wg;this.Vh=$c;this.count=Ed;this.zi=ye;this.mc=eg;this.kind=Fd;this.Og=ze;this.Oh=Gd;this.li=uq;this.ha=393216;this.na=0},WC.prototype.ta=function(xa,ya){return new WC(this.form,this.fi,this.Ii,this.Ah,this.Qd,this.Wh,this.pred,
this.ef,this.ei,this.Ph,this.ai,this.yh,this.Ve,this.Uh,this.distinct,this.spec,this.$h,this.Vh,this.count,this.zi,this.mc,this.kind,this.Og,this.Oh,ya)},WC.prototype.sa=function(){return this.li},WC.prototype.Fd=function(){return this},WC.prototype.Gd=function(){return this},WC.prototype.bf=l,WC.prototype.we=function(xa,ya){xa=y(this.spec);if(zc(this.ef.ba?this.ef.ba(ya):this.ef.call(null,ya)))return Nt;if(r(this.Og)){var Ta=this.Ve.ba?this.Ve.ba(ya):this.Ve.call(null,ya),ka=Q(Ta,0,null),pa=Q(Ta,
1,null);Ta=Q(Ta,2,null);var Ca=ka.ba?ka.ba(ya):ka.call(null,ya);ka=0;var ua=E(ya);ya=E(ua);J(ya);K(ya);for(ya=Ca;;){var Ba=ua;Ca=E(Ba);ua=J(Ca);Ca=K(Ca);if(Ba){Ba=YC(xa,ua);if(T(Nt,Ba))return Nt;ya=pa.ka?pa.ka(ya,ka,ua,Ba):pa.call(null,ya,ka,ua,Ba);ka+=1;ua=Ca}else return Ta.ba?Ta.ba(ya):Ta.call(null,ya)}}else if(Ze(ya))for(pa=tg(M(ya)/101),pa=1>pa?1:pa,ka=0;;){if(ka>=M(ya))return ya;if(rD(xa,af(ya,ka)))ka+=pa;else return Nt}else for(ka=0,pa=E(ya),Ta=E(pa),J(Ta),K(Ta);;){ua=E(pa);Ta=J(ua);Ca=K(ua);
ua=Ta;Ba=pa;if(null==Ba||D.aa(ka,101))return ya;if(rD(xa,ua))pa=Ca,ka+=1;else return Nt}},WC.prototype.xe=function(xa,ya){return uD(this.form,this.pred,this.mc,ya)},WC.Fb=!0,WC.yb="cljs.spec.alpha/t_cljs$spec$alpha22581",WC.Ib=function(xa){return Kd(xa,"cljs.spec.alpha/t_cljs$spec$alpha22581")};return new WC(a,h,c,function(xa){return rD(y(ea),xa)},d,m,b,n,f,q,k,e,function(xa){return Gf(xa)&&(zc(O)||Gf(O))?new X(null,3,5,Z,[cg,function(ya,Ta,ka,pa){return ka===pa?ya:R.ca(ya,Ta,pa)},cg],null):r(Ef(xa)?
function(){var ya=r(G)?zc(O):G;return r(ya)?ya:Ef(O)}():!1)?new X(null,3,5,Z,[r(q)?rf:cg,function(ya,Ta,ka,pa){return ka===pa&&zc(q)?ya:R.ca(ya,af(r(q)?pa:ka,0),af(pa,1))},cg],null):Ag(O)||Kf(O)||zc(O)&&(Ag(xa)||Kf(xa))?new X(null,3,5,Z,[rf,e,Cg],null):new X(null,3,5,Z,[function(ya){return rf(r(O)?O:ya)},e,cg],null)},u,w,ea,va,U,F,H,f,G,N,O,W)}function vD(a){return new p(null,2,[Bq,sv,Dx,a],null)}function wD(a){a=null!=a&&(a.ha&64||l===a.Ea)?hh(ik,a):a;a=B.aa(a,Bq);return D.aa(sv,a)}
var xD=function xD(a){var c=null!=a&&(a.ha&64||l===a.Ea)?hh(ik,a):a,d=B.aa(c,$n);a=E(d);var e=J(a);a=K(a);var f=B.aa(c,fn),h=E(f),k=J(h);h=K(h);var m=B.aa(c,Ts),n=E(m);J(n);n=K(n);var q=B.aa(c,Dx);c=B.aa(c,nC);return sh(cg,d)?wD(e)?(d=Dx.ba(e),d=of.aa(q,r(f)?tf([k,d]):d),a?(a=new p(null,4,[$n,a,fn,h,Ts,n,Dx,d],null),xD.ba?xD.ba(a):xD.call(null,a)):vD(d)):new p(null,6,[Bq,Ot,$n,d,Dx,q,fn,f,Ts,m,nC,c],null):null};
function yD(a,b,c,d,e){return r(a)?(d=new p(null,5,[Bq,HA,tm,b,Kz,d,Ts,e,fC,em()],null),wD(a)?R.ea(d,vm,b,P([Dx,of.aa(c,Dx.ba(a))])):R.ea(d,vm,a,P([Dx,c]))):null}
function zD(a,b,c,d){return r(r(b)?b:c)?(a=$h(function(e){e=J(e);return d.ba?d.ba(e):d.call(null,e)},Mh.ka(Ii,a,function(){var e=E(b);return e?e:Sh(null)}(),function(){var e=E(c);return e?e:Sh(null)}())),new X(null,3,5,Z,[E(Mh.aa(J,a)),r(b)?E(Mh.aa(lf,a)):null,r(c)?E(Mh.aa(function(e){return af(e,2)},a)):null],null)):new X(null,3,5,Z,[E($h(d,a)),b,c],null)}
function AD(a,b,c){var d=zD(a,b,c,cg);c=Q(d,0,null);b=E(c);a=J(b);var e=K(b),f=Q(d,1,null);b=Q(f,0,null);d=Q(d,2,null);return r(c)?(c=new p(null,4,[Bq,pn,$n,c,fn,f,Ts,d],null),null==e?r(b)&&(wD(a)?(a=Dx.ba(a),a=vD(new Y(b,a))):a=c):a=c,a):null}function BD(a,b){return r(r(a)?b:a)?AD(P([a,b]),null,null):r(a)?a:b}
var CD=function CD(a){a=bD(a);var c=null!=a&&(a.ha&64||l===a.Ea)?hh(ik,a):a,d=B.aa(c,Bq),e=B.aa(c,$n);a=B.aa(c,vm);var f=B.aa(c,tm);c=B.aa(c,Ts);if(D.aa(sv,d))return!0;if(D.aa(null,d))return null;if(D.aa(gn,d))return d=CD.ba?CD.ba(a):CD.call(null,a),r(d)?(a=sD(DD(a),e,K(c)),!T(Nt,a)):d;if(D.aa(HA,d))return(e=a===f)?e:CD.ba?CD.ba(a):CD.call(null,a);if(D.aa(Ot,d))return sh(CD,e);if(D.aa(pn,d))return th(CD,e);throw Error(["No matching clause: ",t.ba(d)].join(""));},DD=function DD(a){a=bD(a);var c=null!=
a&&(a.ha&64||l===a.Ea)?hh(ik,a):a;a=B.aa(c,$n);var d=E(a),e=J(d);K(d);var f=B.aa(c,fn),h=Q(f,0,null),k=B.aa(c,Bq);d=B.aa(c,vm);var m=B.aa(c,Dx);c=B.aa(c,Ts);if(D.aa(sv,k))return m;if(D.aa(null,k))return null;if(D.aa(gn,k))return e=DD.ba?DD.ba(d):DD.call(null,d),(f=D.aa(e,Hn))?d=f:(d=Bq.ba(bD(d)),f=new rk(null,new p(null,2,[HA,null,Ot,null],null),null),d=f.ba?f.ba(d):f.call(null,d),d=r(d)?zf(e):d,d=r(d)?d:null),r(d)?Hn:sD(e,a,c);if(D.aa(HA,k))return ED(d,m,h);if(D.aa(Ot,k))return ED(e,m,h);if(D.aa(pn,
k))return c=zD(a,f,c,CD),a=Q(c,0,null),a=Q(a,0,null),c=Q(c,1,null),c=Q(c,0,null),a=null==a?Hn:DD.ba?DD.ba(a):DD.call(null,a),r(c)?new Y(c,a):a;throw Error(["No matching clause: ",t.ba(k)].join(""));};
function ED(a,b,c){a=bD(a);var d=null!=a&&(a.ha&64||l===a.Ea)?hh(ik,a):a,e=B.aa(d,Bq);B.aa(d,$n);a=B.aa(d,Kz);if(D.aa(null,e))return b;if(D.aa(pn,e)||D.aa(sv,e)||D.aa(gn,e))return a=DD(d),D.aa(a,Hn)?b:of.aa(b,r(c)?tf([c,a]):a);if(D.aa(HA,e)||D.aa(Ot,e))return d=DD(d),zf(d)||(c=r(c)?tf([c,d]):d,a=r(a)?bi:of,b=a.aa?a.aa(b,c):a.call(null,b,c)),b;throw Error(["No matching clause: ",t.ba(e)].join(""));}
var FD=function FD(a,b){a=bD(a);var d=null!=a&&(a.ha&64||l===a.Ea)?hh(ik,a):a,e=B.aa(d,Ts),f=B.aa(d,tm);a=B.aa(d,$n);var h=E(a),k=J(h),m=K(h),n=B.aa(d,Dx);h=B.aa(d,Bq);var q=B.aa(d,Kz),u=B.aa(d,fn),w=E(u),z=J(w),F=K(w);w=B.aa(d,ks);var H=B.aa(d,vm);if(r(d)){if(D.aa(sv,h))return null;if(D.aa(null,h))return a=qD(d,b,d),T(Nt,a)?null:vD(a);if(D.aa(gn,h))return d=FD.aa?FD.aa(H,b):FD.call(null,H,b),r(d)?D.aa(sv,Bq.ba(d))?(a=sD(DD(d),a,K(e)),T(Nt,a)?null:vD(a)):new p(null,5,[Bq,gn,vm,d,ks,w,$n,a,Ts,e],null):
null;if(D.aa(Ot,h))return BD(xD(new p(null,4,[$n,gf(FD.aa?FD.aa(k,b):FD.call(null,k,b),m),fn,u,Ts,e,Dx,n],null)),r(CD(k))?function(){var G=xD(new p(null,4,[$n,m,fn,F,Ts,K(e),Dx,ED(k,n,z)],null));return FD.aa?FD.aa(G,b):FD.call(null,G,b)}():null);if(D.aa(pn,h))return AD(Mh.aa(function(G){return FD.aa?FD.aa(G,b):FD.call(null,G,b)},a),u,e);if(D.aa(HA,h))return BD(yD(FD.aa?FD.aa(H,b):FD.call(null,H,b),f,n,q,e),r(CD(H))?function(){var G=yD(f,f,ED(H,n,null),q,e);return FD.aa?FD.aa(G,b):FD.call(null,G,b)}():
null);throw Error(["No matching clause: ",t.ba(h)].join(""));}return null};function GD(a,b){for(;;){var c=E(b),d=J(c);c=K(c);if(zf(b))return r(CD(a))?(a=DD(a),D.aa(a,Hn)?null:a):Nt;a=FD(a,d);if(r(a))b=c;else return Nt}}
var hD=function hD(a,b){if("undefined"===typeof gc||"undefined"===typeof IC||"undefined"===typeof TC||"undefined"===typeof XC)XC=function(d,e,f){this.re=d;this.Qd=e;this.ri=f;this.ha=393216;this.na=0},XC.prototype.ta=function(d,e){return new XC(this.re,this.Qd,e)},XC.prototype.sa=function(){return this.ri},XC.prototype.Fd=function(){return this},XC.prototype.Gd=function(){return this},XC.prototype.bf=l,XC.prototype.we=function(d,e){return null==e||Cf(e)?GD(this.re,E(e)):Nt},XC.prototype.xe=function(d,
e){return hD.aa?hD.aa(this.re,e):hD.call(null,this.re,e)},XC.Fb=!0,XC.yb="cljs.spec.alpha/t_cljs$spec$alpha23518",XC.Ib=function(d){return Kd(d,"cljs.spec.alpha/t_cljs$spec$alpha23518")};return new XC(a,b,W)};
pD(fv,Dg(iy,Dg(en,new X(null,1,5,Z,[wp],null),Dg(Nu,Dg(zA,ht,wp),Dg(zA,et,wp))),Dg(en,new X(null,1,5,Z,[ru],null),Dg(zA,Dg(rn,new X(null,1,5,Z,[new X(null,2,5,Z,[Dq,Aq],null)],null),new p(null,2,[ht,Dq,et,Aq],null)),ru))),mD(Dg(iy,Dg(rn,new X(null,1,5,Z,[xt],null),Dg(Nu,Dg(zA,ht,xt),Dg(zA,et,xt))),Dg(rn,new X(null,1,5,Z,[xt],null),Dg(zA,Dg(rn,new X(null,1,5,Z,[new X(null,2,5,Z,[Dq,Aq],null)],null),new p(null,2,[ht,Dq,et,Aq],null)),xt))),function(a){return xk(Mh.aa(ht,a),Mh.aa(et,a))},null,!0,function(a){return Mh.aa(function(b){var c=
Q(b,0,null);b=Q(b,1,null);return new p(null,2,[ht,c,et,b],null)},a)}));var HD={},ID,JD,KD,LD,MD,ND,OD=function OD(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new I(c.slice(0),0,null):null;return OD.ea(c)};OD.ea=function(a){return Kd(jc,hh(jl,a))};OD.ma=0;OD.pa=function(a){return this.ea(E(a))};var PD=function PD(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new I(c.slice(0),0,null):null;return PD.ea(c)};PD.ea=function(a){return Kd(jc,hh(hl,a))};PD.ma=0;PD.pa=function(a){return this.ea(E(a))};
function QD(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new I(b.slice(0),0,null):null;hh(PD,b);Kd(jc,"\n")}function RD(a){if("number"===typeof a)return a;if("string"===typeof a&&1===a.length)return a.charCodeAt(0);throw Error("Argument to char must be a character or number");}
function SD(a,b,c){var d=c;for(c=pf;;){if(zf(d))return new X(null,2,5,Z,[c,b],null);var e=J(d);d=K(d);e=hh(a,new X(null,2,5,Z,[e,b],null));b=Q(e,0,null);e=Q(e,1,null);c=of.aa(c,b);b=e}}function TD(a,b){var c=b;for(b=pf;;){var d=hh(a,new X(null,1,5,Z,[c],null));c=Q(d,0,null);d=Q(d,1,null);if(zc(c))return new X(null,2,5,Z,[b,d],null);b=of.aa(b,c);c=d}}
function UD(a){return new X(null,2,5,Z,[bi.aa(W,function(){return function d(c){return new Kg(null,function(){for(;;){var e=E(c);if(e){if(Hf(e)){var f=ae(e),h=M(f),k=Og(h);a:for(var m=0;;)if(m<h){var n=x(f,m),q=Q(n,0,null);n=Q(n,1,null);var u=Q(n,0,null);Q(n,1,null);k.add(new X(null,2,5,Z,[q,u],null));m+=1}else{f=!0;break a}return f?Qg(Sg(k),d(be(e))):Qg(Sg(k),null)}f=J(e);k=Q(f,0,null);f=Q(f,1,null);h=Q(f,0,null);Q(f,1,null);return gf(new X(null,2,5,Z,[k,h],null),d(Ee(e)))}return null}},null,null)}(a)}()),
bi.aa(W,function(){return function d(c){return new Kg(null,function(){for(;;){var e=E(c);if(e){if(Hf(e)){var f=ae(e),h=M(f),k=Og(h);a:for(var m=0;;)if(m<h){var n=x(f,m),q=Q(n,0,null);n=Q(n,1,null);Q(n,0,null);n=Q(n,1,null);k.add(new X(null,2,5,Z,[q,n],null));m+=1}else{f=!0;break a}return f?Qg(Sg(k),d(be(e))):Qg(Sg(k),null)}f=J(e);k=Q(f,0,null);f=Q(f,1,null);Q(f,0,null);f=Q(f,1,null);return gf(new X(null,2,5,Z,[k,f],null),d(Ee(e)))}return null}},null,null)}(a)}())],null)}
function VD(a,b){return bi.aa(W,function(){return function e(d){return new Kg(null,function(){for(;;){var f=E(d);if(f){if(Hf(f)){var h=ae(f),k=M(h),m=Og(k);a:for(var n=0;;)if(n<k){var q=x(h,n),u=Q(q,0,null);q=Q(q,1,null);m.add(new X(null,2,5,Z,[u,new X(null,2,5,Z,[q,b],null)],null));n+=1}else{h=!0;break a}return h?Qg(Sg(m),e(be(f))):Qg(Sg(m),null)}h=J(f);m=Q(h,0,null);h=Q(h,1,null);return gf(new X(null,2,5,Z,[m,new X(null,2,5,Z,[h,b],null)],null),e(Ee(f)))}return null}},null,null)}(a)}())}
function WD(){var a=jc;if(null!=a&&null!=a.Rf)a.Rf(a);else{var b=WD[oa(null==a?null:a)];if(null!=b)b.ba?b.ba(a):b.call(null,a);else if(b=WD._,null!=b)b.ba?b.ba(a):b.call(null,a);else throw Dc("IPrettyFlush.-ppflush",a);}}function XD(a,b){a=y(y(a));return b.ba?b.ba(a):b.call(null,a)}function YD(a,b,c){Fh.ka(y(a),R,b,c)}function ZD(a,b){D.aa(b,"\n")?(YD(a,Vs,0),YD(a,Em,XD(a,Em)+1)):YD(a,Vs,XD(a,Vs)+1);return Kd(XD(a,Hp),b)}
function $D(a,b){var c=Dh(new p(null,4,[cz,b,Vs,0,Em,0,Hp,a],null));if("undefined"===typeof gc||"undefined"===typeof HD||"undefined"===typeof ID)ID=function(d,e,f,h){this.kb=d;this.dg=e;this.fields=f;this.hi=h;this.ha=1074167808;this.na=0},ID.prototype.ta=function(d,e){return new ID(this.kb,this.dg,this.fields,e)},ID.prototype.sa=function(){return this.hi},ID.prototype.tb=function(){return this.fields},ID.prototype.$c=function(){return Ld(this.kb)},ID.prototype.Dd=function(d,e){d=Cc(e);if(r(D.aa?
D.aa(String,d):D.call(null,String,d)))return d=e.lastIndexOf("\n"),0>d?YD(this,Vs,XD(this,Vs)+M(e)):(YD(this,Vs,M(e)-d-1),YD(this,Em,XD(this,Em)+M($h(function(f){return D.aa(f,"\n")},e)))),Kd(XD(this,Hp),e);if(r(D.aa?D.aa(Number,d):D.call(null,Number,d)))return ZD(this,e);throw Error(["No matching clause: ",t.ba(d)].join(""));},ID.Fb=!0,ID.yb="cljs.pprint/t_cljs$pprint21082",ID.Ib=function(d){return Kd(d,"cljs.pprint/t_cljs$pprint21082")};return new ID(a,b,c,W)}
function aE(a,b,c,d,e,f,h,k,m,n,q,u,w){this.parent=a;this.bc=b;this.Jb=c;this.indent=d;this.Xb=e;this.Yb=f;this.prefix=h;this.ac=k;this.suffix=m;this.Zb=n;this.fa=q;this.da=u;this.ga=w;this.ha=2230716170;this.na=139264}g=aE.prototype;g.Aa=function(a,b){return this.la(null,b,null)};
g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "parent":return this.parent;case "section":return this.bc;case "start-col":return this.Jb;case "indent":return this.indent;case "done-nl":return this.Xb;case "intra-block-nl":return this.Yb;case "prefix":return this.prefix;case "per-line-prefix":return this.ac;case "suffix":return this.suffix;case "logical-block-callback":return this.Zb;default:return B.ca(this.da,b,c)}};
g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};
g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#cljs.pprint.logical-block{",", ","}",c,V.aa(new X(null,10,5,Z,[new X(null,2,5,Z,[Qr,this.parent],null),new X(null,2,5,Z,[vA,this.bc],null),new X(null,2,5,Z,[Lr,this.Jb],null),new X(null,2,5,Z,[qC,this.indent],null),new X(null,2,5,Z,[mn,this.Xb],null),new X(null,2,5,Z,[Pq,this.Yb],null),new X(null,2,5,Z,[Pp,this.prefix],null),new X(null,2,5,Z,[Qm,this.ac],null),new X(null,2,5,Z,[KA,this.suffix],null),new X(null,2,5,Z,[CB,
this.Zb],null)],null),this.da))};g.Ca=function(){return new Yi(this,10,new X(null,10,5,Z,[Qr,vA,Lr,qC,mn,Pq,Pp,Qm,KA,CB],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 10+M(this.da)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=1977012399^Le(this)};
g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.parent,b.parent)&&D.aa(this.bc,b.bc)&&D.aa(this.Jb,b.Jb)&&D.aa(this.indent,b.indent)&&D.aa(this.Xb,b.Xb)&&D.aa(this.Yb,b.Yb)&&D.aa(this.prefix,b.prefix)&&D.aa(this.ac,b.ac)&&D.aa(this.suffix,b.suffix)&&D.aa(this.Zb,b.Zb)&&D.aa(this.da,b.da)};
g.Ka=function(a,b){return Of(new rk(null,new p(null,10,[KA,null,qC,null,Qr,null,vA,null,mn,null,Lr,null,Pp,null,Qm,null,CB,null,Pq,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new aE(this.parent,this.bc,this.Jb,this.indent,this.Xb,this.Yb,this.prefix,this.ac,this.suffix,this.Zb,this.fa,nh(S.aa(this.da,b)),null)};
g.ra=function(a,b,c){return r(T.aa?T.aa(Qr,b):T.call(null,Qr,b))?new aE(c,this.bc,this.Jb,this.indent,this.Xb,this.Yb,this.prefix,this.ac,this.suffix,this.Zb,this.fa,this.da,null):r(T.aa?T.aa(vA,b):T.call(null,vA,b))?new aE(this.parent,c,this.Jb,this.indent,this.Xb,this.Yb,this.prefix,this.ac,this.suffix,this.Zb,this.fa,this.da,null):r(T.aa?T.aa(Lr,b):T.call(null,Lr,b))?new aE(this.parent,this.bc,c,this.indent,this.Xb,this.Yb,this.prefix,this.ac,this.suffix,this.Zb,this.fa,this.da,null):r(T.aa?T.aa(qC,
b):T.call(null,qC,b))?new aE(this.parent,this.bc,this.Jb,c,this.Xb,this.Yb,this.prefix,this.ac,this.suffix,this.Zb,this.fa,this.da,null):r(T.aa?T.aa(mn,b):T.call(null,mn,b))?new aE(this.parent,this.bc,this.Jb,this.indent,c,this.Yb,this.prefix,this.ac,this.suffix,this.Zb,this.fa,this.da,null):r(T.aa?T.aa(Pq,b):T.call(null,Pq,b))?new aE(this.parent,this.bc,this.Jb,this.indent,this.Xb,c,this.prefix,this.ac,this.suffix,this.Zb,this.fa,this.da,null):r(T.aa?T.aa(Pp,b):T.call(null,Pp,b))?new aE(this.parent,
this.bc,this.Jb,this.indent,this.Xb,this.Yb,c,this.ac,this.suffix,this.Zb,this.fa,this.da,null):r(T.aa?T.aa(Qm,b):T.call(null,Qm,b))?new aE(this.parent,this.bc,this.Jb,this.indent,this.Xb,this.Yb,this.prefix,c,this.suffix,this.Zb,this.fa,this.da,null):r(T.aa?T.aa(KA,b):T.call(null,KA,b))?new aE(this.parent,this.bc,this.Jb,this.indent,this.Xb,this.Yb,this.prefix,this.ac,c,this.Zb,this.fa,this.da,null):r(T.aa?T.aa(CB,b):T.call(null,CB,b))?new aE(this.parent,this.bc,this.Jb,this.indent,this.Xb,this.Yb,
this.prefix,this.ac,this.suffix,c,this.fa,this.da,null):new aE(this.parent,this.bc,this.Jb,this.indent,this.Xb,this.Yb,this.prefix,this.ac,this.suffix,this.Zb,this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(new X(null,10,5,Z,[new Y(Qr,this.parent),new Y(vA,this.bc),new Y(Lr,this.Jb),new Y(qC,this.indent),new Y(mn,this.Xb),new Y(Pq,this.Yb),new Y(Pp,this.prefix),new Y(Qm,this.ac),new Y(KA,this.suffix),new Y(CB,this.Zb)],null),this.da))};
g.ta=function(a,b){return new aE(this.parent,this.bc,this.Jb,this.indent,this.Xb,this.Yb,this.prefix,this.ac,this.suffix,this.Zb,b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};function bE(a,b){for(b=Qr.ba(b);;){if(null==b)return!1;if(a===b)return!0;b=Qr.ba(b)}}function cE(a,b,c,d,e,f,h,k){this.Ia=a;this.data=b;this.Kc=c;this.Ha=d;this.Ga=e;this.fa=f;this.da=h;this.ga=k;this.ha=2230716170;this.na=139264}g=cE.prototype;
g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "type-tag":return this.Ia;case "data":return this.data;case "trailing-white-space":return this.Kc;case "start-pos":return this.Ha;case "end-pos":return this.Ga;default:return B.ca(this.da,b,c)}};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};
g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#cljs.pprint.buffer-blob{",", ","}",c,V.aa(new X(null,5,5,Z,[new X(null,2,5,Z,[ym,this.Ia],null),new X(null,2,5,Z,[Zm,this.data],null),new X(null,2,5,Z,[Mp,this.Kc],null),new X(null,2,5,Z,[Up,this.Ha],null),new X(null,2,5,Z,[Wu,this.Ga],null)],null),this.da))};g.Ca=function(){return new Yi(this,5,new X(null,5,5,Z,[ym,Zm,Mp,Up,Wu],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};
g.xa=function(){return 5+M(this.da)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=1809113693^Le(this)};g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.Ia,b.Ia)&&D.aa(this.data,b.data)&&D.aa(this.Kc,b.Kc)&&D.aa(this.Ha,b.Ha)&&D.aa(this.Ga,b.Ga)&&D.aa(this.da,b.da)};
g.Ka=function(a,b){return Of(new rk(null,new p(null,5,[Wu,null,Mp,null,ym,null,Up,null,Zm,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new cE(this.Ia,this.data,this.Kc,this.Ha,this.Ga,this.fa,nh(S.aa(this.da,b)),null)};
g.ra=function(a,b,c){return r(T.aa?T.aa(ym,b):T.call(null,ym,b))?new cE(c,this.data,this.Kc,this.Ha,this.Ga,this.fa,this.da,null):r(T.aa?T.aa(Zm,b):T.call(null,Zm,b))?new cE(this.Ia,c,this.Kc,this.Ha,this.Ga,this.fa,this.da,null):r(T.aa?T.aa(Mp,b):T.call(null,Mp,b))?new cE(this.Ia,this.data,c,this.Ha,this.Ga,this.fa,this.da,null):r(T.aa?T.aa(Up,b):T.call(null,Up,b))?new cE(this.Ia,this.data,this.Kc,c,this.Ga,this.fa,this.da,null):r(T.aa?T.aa(Wu,b):T.call(null,Wu,b))?new cE(this.Ia,this.data,this.Kc,
this.Ha,c,this.fa,this.da,null):new cE(this.Ia,this.data,this.Kc,this.Ha,this.Ga,this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(new X(null,5,5,Z,[new Y(ym,this.Ia),new Y(Zm,this.data),new Y(Mp,this.Kc),new Y(Up,this.Ha),new Y(Wu,this.Ga)],null),this.da))};g.ta=function(a,b){return new cE(this.Ia,this.data,this.Kc,this.Ha,this.Ga,b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};
function dE(a,b,c,d,e,f,h,k){this.Ia=a;this.type=b;this.Ma=c;this.Ha=d;this.Ga=e;this.fa=f;this.da=h;this.ga=k;this.ha=2230716170;this.na=139264}g=dE.prototype;g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "type-tag":return this.Ia;case "type":return this.type;case "logical-block":return this.Ma;case "start-pos":return this.Ha;case "end-pos":return this.Ga;default:return B.ca(this.da,b,c)}};
g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#cljs.pprint.nl-t{",", ","}",c,V.aa(new X(null,5,5,Z,[new X(null,2,5,Z,[ym,this.Ia],null),new X(null,2,5,Z,[qq,this.type],null),new X(null,2,5,Z,[xr,this.Ma],null),new X(null,2,5,Z,[Up,this.Ha],null),new X(null,2,5,Z,[Wu,this.Ga],null)],null),this.da))};
g.Ca=function(){return new Yi(this,5,new X(null,5,5,Z,[ym,qq,xr,Up,Wu],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 5+M(this.da)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=-1640656800^Le(this)};g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.Ia,b.Ia)&&D.aa(this.type,b.type)&&D.aa(this.Ma,b.Ma)&&D.aa(this.Ha,b.Ha)&&D.aa(this.Ga,b.Ga)&&D.aa(this.da,b.da)};
g.Ka=function(a,b){return Of(new rk(null,new p(null,5,[Wu,null,qq,null,xr,null,ym,null,Up,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new dE(this.Ia,this.type,this.Ma,this.Ha,this.Ga,this.fa,nh(S.aa(this.da,b)),null)};
g.ra=function(a,b,c){return r(T.aa?T.aa(ym,b):T.call(null,ym,b))?new dE(c,this.type,this.Ma,this.Ha,this.Ga,this.fa,this.da,null):r(T.aa?T.aa(qq,b):T.call(null,qq,b))?new dE(this.Ia,c,this.Ma,this.Ha,this.Ga,this.fa,this.da,null):r(T.aa?T.aa(xr,b):T.call(null,xr,b))?new dE(this.Ia,this.type,c,this.Ha,this.Ga,this.fa,this.da,null):r(T.aa?T.aa(Up,b):T.call(null,Up,b))?new dE(this.Ia,this.type,this.Ma,c,this.Ga,this.fa,this.da,null):r(T.aa?T.aa(Wu,b):T.call(null,Wu,b))?new dE(this.Ia,this.type,this.Ma,
this.Ha,c,this.fa,this.da,null):new dE(this.Ia,this.type,this.Ma,this.Ha,this.Ga,this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(new X(null,5,5,Z,[new Y(ym,this.Ia),new Y(qq,this.type),new Y(xr,this.Ma),new Y(Up,this.Ha),new Y(Wu,this.Ga)],null),this.da))};g.ta=function(a,b){return new dE(this.Ia,this.type,this.Ma,this.Ha,this.Ga,b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};
function eE(a,b,c,d,e,f,h){this.Ia=a;this.Ma=b;this.Ha=c;this.Ga=d;this.fa=e;this.da=f;this.ga=h;this.ha=2230716170;this.na=139264}g=eE.prototype;g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "type-tag":return this.Ia;case "logical-block":return this.Ma;case "start-pos":return this.Ha;case "end-pos":return this.Ga;default:return B.ca(this.da,b,c)}};
g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#cljs.pprint.start-block-t{",", ","}",c,V.aa(new X(null,4,5,Z,[new X(null,2,5,Z,[ym,this.Ia],null),new X(null,2,5,Z,[xr,this.Ma],null),new X(null,2,5,Z,[Up,this.Ha],null),new X(null,2,5,Z,[Wu,this.Ga],null)],null),this.da))};
g.Ca=function(){return new Yi(this,4,new X(null,4,5,Z,[ym,xr,Up,Wu],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 4+M(this.da)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=-414877272^Le(this)};g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.Ia,b.Ia)&&D.aa(this.Ma,b.Ma)&&D.aa(this.Ha,b.Ha)&&D.aa(this.Ga,b.Ga)&&D.aa(this.da,b.da)};
g.Ka=function(a,b){return Of(new rk(null,new p(null,4,[Wu,null,xr,null,ym,null,Up,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new eE(this.Ia,this.Ma,this.Ha,this.Ga,this.fa,nh(S.aa(this.da,b)),null)};
g.ra=function(a,b,c){return r(T.aa?T.aa(ym,b):T.call(null,ym,b))?new eE(c,this.Ma,this.Ha,this.Ga,this.fa,this.da,null):r(T.aa?T.aa(xr,b):T.call(null,xr,b))?new eE(this.Ia,c,this.Ha,this.Ga,this.fa,this.da,null):r(T.aa?T.aa(Up,b):T.call(null,Up,b))?new eE(this.Ia,this.Ma,c,this.Ga,this.fa,this.da,null):r(T.aa?T.aa(Wu,b):T.call(null,Wu,b))?new eE(this.Ia,this.Ma,this.Ha,c,this.fa,this.da,null):new eE(this.Ia,this.Ma,this.Ha,this.Ga,this.fa,R.ca(this.da,b,c),null)};
g.va=function(){return E(V.aa(new X(null,4,5,Z,[new Y(ym,this.Ia),new Y(xr,this.Ma),new Y(Up,this.Ha),new Y(Wu,this.Ga)],null),this.da))};g.ta=function(a,b){return new eE(this.Ia,this.Ma,this.Ha,this.Ga,b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};function fE(a,b,c,d,e,f,h){this.Ia=a;this.Ma=b;this.Ha=c;this.Ga=d;this.fa=e;this.da=f;this.ga=h;this.ha=2230716170;this.na=139264}g=fE.prototype;g.Aa=function(a,b){return this.la(null,b,null)};
g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "type-tag":return this.Ia;case "logical-block":return this.Ma;case "start-pos":return this.Ha;case "end-pos":return this.Ga;default:return B.ca(this.da,b,c)}};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};
g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#cljs.pprint.end-block-t{",", ","}",c,V.aa(new X(null,4,5,Z,[new X(null,2,5,Z,[ym,this.Ia],null),new X(null,2,5,Z,[xr,this.Ma],null),new X(null,2,5,Z,[Up,this.Ha],null),new X(null,2,5,Z,[Wu,this.Ga],null)],null),this.da))};g.Ca=function(){return new Yi(this,4,new X(null,4,5,Z,[ym,xr,Up,Wu],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 4+M(this.da)};
g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=1365867980^Le(this)};g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.Ia,b.Ia)&&D.aa(this.Ma,b.Ma)&&D.aa(this.Ha,b.Ha)&&D.aa(this.Ga,b.Ga)&&D.aa(this.da,b.da)};g.Ka=function(a,b){return Of(new rk(null,new p(null,4,[Wu,null,xr,null,ym,null,Up,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new fE(this.Ia,this.Ma,this.Ha,this.Ga,this.fa,nh(S.aa(this.da,b)),null)};
g.ra=function(a,b,c){return r(T.aa?T.aa(ym,b):T.call(null,ym,b))?new fE(c,this.Ma,this.Ha,this.Ga,this.fa,this.da,null):r(T.aa?T.aa(xr,b):T.call(null,xr,b))?new fE(this.Ia,c,this.Ha,this.Ga,this.fa,this.da,null):r(T.aa?T.aa(Up,b):T.call(null,Up,b))?new fE(this.Ia,this.Ma,c,this.Ga,this.fa,this.da,null):r(T.aa?T.aa(Wu,b):T.call(null,Wu,b))?new fE(this.Ia,this.Ma,this.Ha,c,this.fa,this.da,null):new fE(this.Ia,this.Ma,this.Ha,this.Ga,this.fa,R.ca(this.da,b,c),null)};
g.va=function(){return E(V.aa(new X(null,4,5,Z,[new Y(ym,this.Ia),new Y(xr,this.Ma),new Y(Up,this.Ha),new Y(Wu,this.Ga)],null),this.da))};g.ta=function(a,b){return new fE(this.Ia,this.Ma,this.Ha,this.Ga,b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};function gE(a,b,c,d,e,f,h,k,m){this.Ia=a;this.Ma=b;this.yc=c;this.offset=d;this.Ha=e;this.Ga=f;this.fa=h;this.da=k;this.ga=m;this.ha=2230716170;this.na=139264}g=gE.prototype;
g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "type-tag":return this.Ia;case "logical-block":return this.Ma;case "relative-to":return this.yc;case "offset":return this.offset;case "start-pos":return this.Ha;case "end-pos":return this.Ga;default:return B.ca(this.da,b,c)}};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};
g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#cljs.pprint.indent-t{",", ","}",c,V.aa(new X(null,6,5,Z,[new X(null,2,5,Z,[ym,this.Ia],null),new X(null,2,5,Z,[xr,this.Ma],null),new X(null,2,5,Z,[ey,this.yc],null),new X(null,2,5,Z,[Fu,this.offset],null),new X(null,2,5,Z,[Up,this.Ha],null),new X(null,2,5,Z,[Wu,this.Ga],null)],null),this.da))};g.Ca=function(){return new Yi(this,6,new X(null,6,5,Z,[ym,xr,ey,Fu,Up,Wu],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};
g.xa=function(){return 6+M(this.da)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=-1602780238^Le(this)};g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.Ia,b.Ia)&&D.aa(this.Ma,b.Ma)&&D.aa(this.yc,b.yc)&&D.aa(this.offset,b.offset)&&D.aa(this.Ha,b.Ha)&&D.aa(this.Ga,b.Ga)&&D.aa(this.da,b.da)};
g.Ka=function(a,b){return Of(new rk(null,new p(null,6,[Fu,null,Wu,null,ey,null,xr,null,ym,null,Up,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new gE(this.Ia,this.Ma,this.yc,this.offset,this.Ha,this.Ga,this.fa,nh(S.aa(this.da,b)),null)};
g.ra=function(a,b,c){return r(T.aa?T.aa(ym,b):T.call(null,ym,b))?new gE(c,this.Ma,this.yc,this.offset,this.Ha,this.Ga,this.fa,this.da,null):r(T.aa?T.aa(xr,b):T.call(null,xr,b))?new gE(this.Ia,c,this.yc,this.offset,this.Ha,this.Ga,this.fa,this.da,null):r(T.aa?T.aa(ey,b):T.call(null,ey,b))?new gE(this.Ia,this.Ma,c,this.offset,this.Ha,this.Ga,this.fa,this.da,null):r(T.aa?T.aa(Fu,b):T.call(null,Fu,b))?new gE(this.Ia,this.Ma,this.yc,c,this.Ha,this.Ga,this.fa,this.da,null):r(T.aa?T.aa(Up,b):T.call(null,
Up,b))?new gE(this.Ia,this.Ma,this.yc,this.offset,c,this.Ga,this.fa,this.da,null):r(T.aa?T.aa(Wu,b):T.call(null,Wu,b))?new gE(this.Ia,this.Ma,this.yc,this.offset,this.Ha,c,this.fa,this.da,null):new gE(this.Ia,this.Ma,this.yc,this.offset,this.Ha,this.Ga,this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(new X(null,6,5,Z,[new Y(ym,this.Ia),new Y(xr,this.Ma),new Y(ey,this.yc),new Y(Fu,this.offset),new Y(Up,this.Ha),new Y(Wu,this.Ga)],null),this.da))};
g.ta=function(a,b){return new gE(this.Ia,this.Ma,this.yc,this.offset,this.Ha,this.Ga,b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};var hE=function(){var a=Dh(W),b=Dh(W),c=Dh(W),d=Dh(W),e=B.ca(W,Rw,Pl.ja?Pl.ja():Pl.call(null));return new am(xe.aa(ba,"write-token"),function(f,h){return ym.ba(h)},e,a,b,c,d)}();
hE.ub(null,Nm,function(a,b){var c=CB.ba(y(y(a)));r(c)&&(c.ba?c.ba(yn):c.call(null,yn));b=xr.ba(b);c=Pp.ba(b);r(c)&&Kd(Hp.ba(y(y(a))),c);a=XD(Hp.ba(y(y(a))),Vs);Eh(Lr.ba(b),a);return Eh(qC.ba(b),a)});hE.ub(null,CC,function(a,b){var c=CB.ba(y(y(a)));r(c)&&(c.ba?c.ba(Lx):c.call(null,Lx));b=KA.ba(xr.ba(b));return r(b)?Kd(Hp.ba(y(y(a))),b):null});
hE.ub(null,qx,function(a,b){var c=xr.ba(b),d=qC.ba(c),e=Fu.ba(b);b=ey.ba(b);if(r(D.aa?D.aa(nu,b):D.call(null,nu,b)))a=y(Lr.ba(c));else if(r(D.aa?D.aa(Ir,b):D.call(null,Ir,b)))a=XD(Hp.ba(y(y(a))),Vs);else throw Error(["No matching clause: ",t.ba(b)].join(""));return Eh(d,e+a)});hE.ub(null,Rx,function(a,b){return Kd(Hp.ba(y(y(a))),Zm.ba(b))});
hE.ub(null,vy,function(a,b){var c=(c=D.aa(qq.ba(b),Qn))?c:D.aa(qq.ba(b),Vt)?!1:y(mn.ba(xr.ba(b)));r(c)?iE.aa?iE.aa(a,b):iE.call(null,a,b):(b=Mp.ba(y(y(a))),r(b)&&Kd(Hp.ba(y(y(a))),b));return Fh.ka(y(a),R,Mp,null)});
function jE(a,b,c){b=E(b);for(var d=null,e=0,f=0;;)if(f<e){var h=d.La(null,f);if(!D.aa(ym.ba(h),vy)){var k=Mp.ba(y(y(a)));r(k)&&Kd(Hp.ba(y(y(a))),k)}hE.aa(a,h);Fh.ka(y(a),R,Mp,Mp.ba(h));h=Mp.ba(y(y(a)));r(r(c)?h:c)&&(Kd(Hp.ba(y(y(a))),h),Fh.ka(y(a),R,Mp,null));f+=1}else if(b=E(b))Hf(b)?(d=ae(b),b=be(b),h=d,e=M(d),d=h):(h=J(b),D.aa(ym.ba(h),vy)||(d=Mp.ba(y(y(a))),r(d)&&Kd(Hp.ba(y(y(a))),d)),hE.aa(a,h),Fh.ka(y(a),R,Mp,Mp.ba(h)),h=Mp.ba(y(y(a))),r(r(c)?h:c)&&(Kd(Hp.ba(y(y(a))),h),Fh.ka(y(a),R,Mp,null)),
b=K(b),d=null,e=0),f=0;else break}function kE(a,b){var c=XD(Hp.ba(y(y(a))),cz),d;(d=null==c)||(a=XD(Hp.ba(y(y(a))),Vs),b=(b=E(b))?Wu.ba(nf(b))-Up.ba(J(b)):0,d=a+b<c);return d}function lE(a,b,c){b=y(mn.ba(b));return r(b)?b:!kE(a,c)}function mE(a,b,c){var d=vz.ba(y(y(a))),e=XD(Hp.ba(y(y(a))),cz);return r(d)?r(e)?y(Lr.ba(b))>=e-d?lE(a,b,c):!1:e:d}
var nE=function(){var a=Dh(W),b=Dh(W),c=Dh(W),d=Dh(W),e=B.ca(W,Rw,Pl.ja?Pl.ja():Pl.call(null));return new am(xe.aa(ba,"emit-nl?"),function(f){return qq.ba(f)},e,a,b,c,d)}();nE.ub(null,Dv,function(a,b,c){a=xr.ba(a);return lE(b,a,c)});nE.ub(null,kA,function(a,b,c){a=xr.ba(a);return mE(b,a,c)});nE.ub(null,Vt,function(a,b,c,d){a=xr.ba(a);var e=y(Pq.ba(a));return r(e)?e:(d=!kE(b,d))?d:mE(b,a,c)});nE.ub(null,Qn,function(){return!0});
function oE(a){var b=J(a),c=xr.ba(b);b=E(Bk(function(d){return!(D.aa(ym.ba(d),vy)&&bE(xr.ba(d),c))},K(a)));return new X(null,2,5,Z,[b,E(Oh(M(b)+1,a))],null)}function pE(a){var b=J(a),c=xr.ba(b);return E(Bk(function(d){var e=xr.ba(d);return!(D.aa(ym.ba(d),vy)&&(D.aa(e,c)||bE(e,c)))},K(a)))}
function iE(a,b){Kd(Hp.ba(y(y(a))),"\n");Fh.ka(y(a),R,Mp,null);b=xr.ba(b);var c=Qm.ba(b);r(c)&&Kd(Hp.ba(y(y(a))),c);c=hh(t,Th(y(qC.ba(b))-M(c)," "));Kd(Hp.ba(y(y(a))),c);a:for(Eh(Pq.ba(b),!0),Eh(mn.ba(b),!0),a=Qr.ba(b);;)if(r(a))Eh(mn.ba(a),!0),Eh(Pq.ba(a),!0),a=Qr.ba(a);else break a;return null}function qE(a){var b=E(Bk(function(c){return!D.aa(ym.ba(c),vy)},a));return new X(null,2,5,Z,[b,E(Oh(M(b),a))],null)}
var rE=function rE(a,b){var d=qE(b);b=Q(d,0,null);var e=Q(d,1,null);r(b)&&jE(a,b,!1);if(r(e)){d=oE(e);b=Q(d,0,null);d=Q(d,1,null);var f=J(e),h=nE.ka(f,a,b,pE(e));r(h)&&(iE(a,f),e=K(e));kE(a,e)?a=e:(e=rE.aa?rE.aa(a,b):rE.call(null,a,b),D.aa(e,b)?(jE(a,b,!1),a=d):a=bi.aa(pf,V.aa(e,d)));return a}return null};function sE(a){for(var b=TA.ba(y(y(a)));;){Fh.ka(y(a),R,TA,bi.aa(pf,b));if(kE(a,b))return null;var c=rE(a,b);if(b!==c)b=c;else return null}}
function tE(a,b){Fh.ka(y(a),R,TA,of.aa(TA.ba(y(y(a))),b));return kE(a,TA.ba(y(y(a))))?null:sE(a)}function uE(a){var b=Mp.ba(y(y(a)));return r(b)?(Kd(Hp.ba(y(y(a))),b),Fh.ka(y(a),R,Mp,null)):null}
function vE(a,b){var c=RC(b,"\n",-1);if(D.aa(M(c),1))return b;b=Qm.ba(J(pr.ba(y(y(a)))));var d=J(c);if(D.aa(Ho,$y.ba(y(y(a))))){var e=dt.ba(y(y(a))),f=e+M(d);Fh.ka(y(a),R,dt,f);tE(a,new cE(Rx,d,null,e,f,null,null,null));sE(a);d=TA.ba(y(y(a)));r(d)&&(jE(a,d,!0),Fh.ka(y(a),R,TA,pf))}else uE(a),Kd(Hp.ba(y(y(a))),d);Kd(Hp.ba(y(y(a))),"\n");d=E(K(wk(c)));e=null;for(var h=f=0;;)if(h<f){var k=e.La(null,h);Kd(Hp.ba(y(y(a))),k);Kd(Hp.ba(y(y(a))),"\n");r(b)&&Kd(Hp.ba(y(y(a))),b);h+=1}else if(d=E(d))e=d,Hf(e)?
(d=ae(e),h=be(e),e=d,f=M(d),d=h):(d=J(e),Kd(Hp.ba(y(y(a))),d),Kd(Hp.ba(y(y(a))),"\n"),r(b)&&Kd(Hp.ba(y(y(a))),b),d=K(e),e=null,f=0),h=0;else break;Fh.ka(y(a),R,Ho,Jr);return nf(c)}
function wE(a){var b=xE,c=yE,d=new aE(null,null,Dh(0),Dh(0),Dh(!1),Dh(!1),null,null,null,null,null,null,null),e=Dh(Pj([pr,vz,Ms,zt,Jv,$y,dt,Mp,Hp,Ht,TA],[d,c,d,!0,null,Jr,0,null,$D(a,b),1,pf]));if("undefined"===typeof gc||"undefined"===typeof HD||"undefined"===typeof JD)JD=function(f,h,k,m,n,q){this.kb=f;this.dg=h;this.Ai=k;this.bi=m;this.fields=n;this.ii=q;this.ha=1074167808;this.na=0},JD.prototype.ta=function(f,h){return new JD(this.kb,this.dg,this.Ai,this.bi,this.fields,h)},JD.prototype.sa=function(){return this.ii},
JD.prototype.tb=function(){return this.fields},JD.prototype.Dd=function(f,h){f=Cc(h);if(r(D.aa?D.aa(String,f):D.call(null,String,f))){var k=vE(this,h);h=k.replace(/\s+$/,"");f=zg.aa(k,h.length);var m=$y.ba(y(y(this)));if(D.aa(m,Jr))return uE(this),Kd(Hp.ba(y(y(this))),h),Fh.ka(y(this),R,Mp,f);m=dt.ba(y(y(this)));k=m+M(k);Fh.ka(y(this),R,dt,k);return tE(this,new cE(Rx,h,f,m,k,null,null,null))}if(r(D.aa?D.aa(Number,f):D.call(null,Number,f)))return D.aa($y.ba(y(y(this))),Jr)?(uE(this),h=Kd(Hp.ba(y(y(this))),
h)):D.aa(h,"\n")?h=vE(this,"\n"):(f=dt.ba(y(y(this))),k=f+1,Fh.ka(y(this),R,dt,k),h=sg(h),h=tE(this,new cE(Rx,h,null,f,k,null,null,null))),h;throw Error(["No matching clause: ",t.ba(f)].join(""));},JD.prototype.$c=function(){this.Rf(null);return Ld(Hp.ba(y(y(this))))},JD.prototype.Rf=function(){return D.aa($y.ba(y(y(this))),Ho)?(jE(this,TA.ba(y(y(this))),!0),Fh.ka(y(this),R,TA,pf)):uE(this)},JD.Fb=!0,JD.yb="cljs.pprint/t_cljs$pprint21860",JD.Ib=function(f){return Kd(f,"cljs.pprint/t_cljs$pprint21860")};
return new JD(a,b,c,d,e,W)}function zE(a,b){var c=jc;b=new aE(pr.ba(y(y(c))),null,Dh(0),Dh(0),Dh(!1),Dh(!1),a,null,b,null,null,null,null);Fh.ka(y(c),R,pr,b);if(D.aa($y.ba(y(y(c))),Jr)){uE(c);var d=CB.ba(y(y(c)));r(d)&&(d.ba?d.ba(yn):d.call(null,yn));r(a)&&Kd(Hp.ba(y(y(c))),a);c=XD(Hp.ba(y(y(c))),Vs);Eh(b.Jb,c);Eh(b.indent,c)}else d=dt.ba(y(y(c))),a=d+(r(a)?M(a):0),Fh.ka(y(c),R,dt,a),tE(c,new eE(Nm,b,d,a,null,null,null))}
function AE(){var a=jc,b=pr.ba(y(y(a))),c=KA.ba(b);if(D.aa($y.ba(y(y(a))),Jr)){uE(a);r(c)&&Kd(Hp.ba(y(y(a))),c);var d=CB.ba(y(y(a)));r(d)&&(d.ba?d.ba(Lx):d.call(null,Lx))}else d=dt.ba(y(y(a))),c=d+(r(c)?M(c):0),Fh.ka(y(a),R,dt,c),tE(a,new fE(CC,b,d,c,null,null,null));Fh.ka(y(a),R,pr,Qr.ba(b))}var BE=!0,CE=null,xE=72,yE=40,DE=null,EE=null,FE=null,GE=null,HE=10,IE=0,JE=null;function KE(a){return(null!=a?a.ha&32768||l===a.Hg||(a.ha?0:Bc(pd,a)):Bc(pd,a))?zt.ba(y(y(a))):!1}
function LE(a){var b=JE;r(b)&&(b=nc,b=r(b)?JE>=nc:b);zc(BE)?PD.call(null,a):r(b)?Kd(jc,"..."):(r(JE)&&(JE+=1),CE.call(null,a));return b}var ME=function ME(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new I(c.slice(1),0,null):null;return ME.ea(arguments[0],c)};
ME.ea=function(a,b){var c=mk.ea(P([new p(null,1,[iC,!0],null),hh(ik,b)]));b=HE;var d=EE,e=nc,f=oc,h=DE,k=yE,m=CE,n=BE,q=GE,u=mc,w=xE,z=FE,F=Hp.aa(c,HE),H=un.aa(c,EE),G=Un.aa(c,nc),N=wm.aa(c,oc),O=Kv.aa(c,DE),U=vz.aa(c,yE),ea=Lz.aa(c,CE),va=Ft.aa(c,BE),xa=cu.aa(c,GE),ya=rc.aa(c,mc),Ta=ap.aa(c,xE),ka=Nr.aa(c,FE);HE=F;EE=H;nc=G;oc=N;DE=O;yE=U;CE=ea;BE=va;GE=xa;mc=ya;xE=Ta;FE=ka;try{var pa=new ec,Ca=Of(c,iC)?iC.ba(c):!0,ua=!0===Ca||null==Ca?new ke(pa):Ca;if(r(BE)){var Ba=zc(KE(ua));c=jc;jc=Ba?wE(ua):
ua;try{LE(a),WD()}finally{jc=c}}else{Ba=jc;jc=ua;try{PD.call(null,a)}finally{jc=Ba}}!0===Ca&&Wk(t.ba(pa));return null==Ca?t.ba(pa):null}finally{FE=z,xE=w,mc=u,GE=q,BE=n,CE=m,yE=k,DE=h,oc=f,nc=e,EE=d,HE=b}};ME.ma=1;ME.pa=function(a){var b=J(a);a=K(a);return this.ea(b,a)};
function NE(){var a=new X(null,6,5,Z,[ur,new X(null,2,5,Z,[Dg(Zw,gC,new X(null,1,5,Z,[Gs],null)),tv],null),XB,Rp,sp,new X(null,2,5,Z,[gC,lC],null)],null);var b=y(OE);a=PE.aa?PE.aa(a,b):PE.call(null,a,b);b=new ec;var c=jc;jc=new ke(b);try{var d=jc,e=zc(KE(d)),f=jc;jc=e?wE(d):d;try{e=BE;BE=!0;try{LE(a)}finally{BE=e}D.aa(0,XD(jc,Vs))||Kd(jc,"\n");WD()}finally{jc=f}Wk(t.ba(b))}finally{jc=c}}
function QE(a,b){if(zc(b.ba?b.ba(a):b.call(null,a)))throw Error(["Bad argument: ",t.ba(a),". It must be one of ",t.ba(b)].join(""));}function RE(){var a=oc;return r(a)?IE>=oc:a}function SE(a){QE(a,new rk(null,new p(null,4,[Qn,null,kA,null,Vt,null,Dv,null],null),null));var b=jc;Fh.ka(y(b),R,$y,Ho);var c=dt.ba(y(y(b))),d=pr.ba(y(y(b)));tE(b,new dE(vy,a,d,c,c,null,null,null))}
function TE(a,b){QE(a,new rk(null,new p(null,2,[nu,null,Ir,null],null),null));var c=jc,d=pr.ba(y(y(c)));if(D.aa($y.ba(y(y(c))),Jr)){uE(c);var e=qC.ba(d);if(r(D.aa?D.aa(nu,a):D.call(null,nu,a)))a=y(Lr.ba(d));else if(r(D.aa?D.aa(Ir,a):D.call(null,Ir,a)))a=XD(Hp.ba(y(y(c))),Vs);else throw Error(["No matching clause: ",t.ba(a)].join(""));Eh(e,b+a)}else e=dt.ba(y(y(c))),tE(c,new gE(qx,d,a,b,e,e,null,null,null))}
function UE(a,b,c){b="string"===typeof b?VE(b):b;c=WE(c);a:{var d=new ec,e=zc(a)||!0===a?new ke(d):a,f=XE(b)&&zc(KE(e))?r(KE(e))?e:wE(e):e,h=jc;jc=f;try{try{YE(b,c)}finally{e!==f&&Ld(f)}var k=zc(a)?t.ba(d):!0===a?Wk(t.ba(d)):null;break a}finally{jc=h}k=void 0}return k}var ZE=null;function $E(a,b){a=[t.ba(a),"\n",t.ba(ZE),"\n",t.ba(hh(t,Th(b," "))),"^\n"].join("");throw Error(a);}
function aF(a,b,c,d,e,f){this.gd=a;this.rest=b;this.pos=c;this.fa=d;this.da=e;this.ga=f;this.ha=2230716170;this.na=139264}g=aF.prototype;g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "seq":return this.gd;case "rest":return this.rest;case "pos":return this.pos;default:return B.ca(this.da,b,c)}};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};
g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#cljs.pprint.arg-navigator{",", ","}",c,V.aa(new X(null,3,5,Z,[new X(null,2,5,Z,[qp,this.gd],null),new X(null,2,5,Z,[Cu,this.rest],null),new X(null,2,5,Z,[dt,this.pos],null)],null),this.da))};g.Ca=function(){return new Yi(this,3,new X(null,3,5,Z,[qp,Cu,dt],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 3+M(this.da)};
g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=-402038447^Le(this)};g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.gd,b.gd)&&D.aa(this.rest,b.rest)&&D.aa(this.pos,b.pos)&&D.aa(this.da,b.da)};g.Ka=function(a,b){return Of(new rk(null,new p(null,3,[dt,null,qp,null,Cu,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new aF(this.gd,this.rest,this.pos,this.fa,nh(S.aa(this.da,b)),null)};
g.ra=function(a,b,c){return r(T.aa?T.aa(qp,b):T.call(null,qp,b))?new aF(c,this.rest,this.pos,this.fa,this.da,null):r(T.aa?T.aa(Cu,b):T.call(null,Cu,b))?new aF(this.gd,c,this.pos,this.fa,this.da,null):r(T.aa?T.aa(dt,b):T.call(null,dt,b))?new aF(this.gd,this.rest,c,this.fa,this.da,null):new aF(this.gd,this.rest,this.pos,this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(new X(null,3,5,Z,[new Y(qp,this.gd),new Y(Cu,this.rest),new Y(dt,this.pos)],null),this.da))};
g.ta=function(a,b){return new aF(this.gd,this.rest,this.pos,b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};function WE(a){a=E(a);return new aF(a,a,0,null,null,null)}function bF(a){var b=Cu.ba(a);if(r(b))return new X(null,2,5,Z,[J(b),new aF(qp.ba(a),K(b),dt.ba(a)+1,null,null,null)],null);throw Error("Not enough arguments for format definition");}
function cF(a){var b=bF(a);a=Q(b,0,null);b=Q(b,1,null);a="string"===typeof a?VE(a):a;return new X(null,2,5,Z,[a,b],null)}function dF(a,b){return b>=dt.ba(a)?(b=dt.ba(a)-b,eF.aa?eF.aa(a,b):eF.call(null,a,b)):new aF(qp.ba(a),Oh(b,qp.ba(a)),b,null,null,null)}function eF(a,b){var c=dt.ba(a)+b;return 0>b?dF(a,c):new aF(qp.ba(a),Oh(b,Cu.ba(a)),c,null,null,null)}function fF(a,b,c,d,e,f,h){this.func=a;this.def=b;this.params=c;this.offset=d;this.fa=e;this.da=f;this.ga=h;this.ha=2230716170;this.na=139264}
g=fF.prototype;g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "func":return this.func;case "def":return this.def;case "params":return this.params;case "offset":return this.offset;default:return B.ca(this.da,b,c)}};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};
g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#cljs.pprint.compiled-directive{",", ","}",c,V.aa(new X(null,4,5,Z,[new X(null,2,5,Z,[mx,this.func],null),new X(null,2,5,Z,[vo,this.def],null),new X(null,2,5,Z,[uu,this.params],null),new X(null,2,5,Z,[Fu,this.offset],null)],null),this.da))};g.Ca=function(){return new Yi(this,4,new X(null,4,5,Z,[mx,vo,uu,Fu],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 4+M(this.da)};
g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=-829256337^Le(this)};g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.func,b.func)&&D.aa(this.def,b.def)&&D.aa(this.params,b.params)&&D.aa(this.offset,b.offset)&&D.aa(this.da,b.da)};g.Ka=function(a,b){return Of(new rk(null,new p(null,4,[Fu,null,mx,null,uu,null,vo,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new fF(this.func,this.def,this.params,this.offset,this.fa,nh(S.aa(this.da,b)),null)};
g.ra=function(a,b,c){return r(T.aa?T.aa(mx,b):T.call(null,mx,b))?new fF(c,this.def,this.params,this.offset,this.fa,this.da,null):r(T.aa?T.aa(vo,b):T.call(null,vo,b))?new fF(this.func,c,this.params,this.offset,this.fa,this.da,null):r(T.aa?T.aa(uu,b):T.call(null,uu,b))?new fF(this.func,this.def,c,this.offset,this.fa,this.da,null):r(T.aa?T.aa(Fu,b):T.call(null,Fu,b))?new fF(this.func,this.def,this.params,c,this.fa,this.da,null):new fF(this.func,this.def,this.params,this.offset,this.fa,R.ca(this.da,b,
c),null)};g.va=function(){return E(V.aa(new X(null,4,5,Z,[new Y(mx,this.func),new Y(vo,this.def),new Y(uu,this.params),new Y(Fu,this.offset)],null),this.da))};g.ta=function(a,b){return new fF(this.func,this.def,this.params,this.offset,b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};
function gF(a,b){var c=Q(a,0,null);a=Q(a,1,null);var d=Q(a,0,null);a=Q(a,1,null);d=Of(new rk(null,new p(null,2,[Mv,null,Iz,null],null),null),c)?new X(null,2,5,Z,[d,b],null):D.aa(d,jA)?bF(b):D.aa(d,Os)?new X(null,2,5,Z,[M(Cu.ba(b)),b],null):new X(null,2,5,Z,[d,b],null);b=Q(d,0,null);d=Q(d,1,null);return new X(null,2,5,Z,[new X(null,2,5,Z,[c,new X(null,2,5,Z,[b,a],null)],null),d],null)}function hF(a,b){b=SD(gF,b,a);a=Q(b,0,null);b=Q(b,1,null);return new X(null,2,5,Z,[bi.aa(W,a),b],null)}
var iF=new p(null,3,[2,"#b",8,"#o",16,"#x"],null);function jF(a){return Nf(a)?D.aa(HE,10)?[t.ba(a),r(GE)?".":null].join(""):[t.ba(r(GE)?function(){var b=B.aa(iF,HE);return r(b)?b:["#",t.ba(HE),"r"].join("")}():null),t.ba(kF(HE,a))].join(""):null}
function lF(a,b,c){c=bF(c);var d=Q(c,0,null);c=Q(c,1,null);var e=jF(d);a=r(e)?e:a.ba?a.ba(d):a.call(null,d);d=a.length;e=d+Vv.ba(b);e=e>=NB.ba(b)?e:e+(vg(NB.ba(b)-e-1,sr.ba(b))+1)*sr.ba(b);d=hh(t,Th(e-d,As.ba(b)));r(Iz.ba(b))?OD.ea(P([[t.ba(d),t.ba(a)].join("")])):OD.ea(P([[t.ba(a),t.ba(d)].join("")]));return c}function mF(a,b){return Cg(J(TD(function(c){return 0<c?new X(null,2,5,Z,[wg(c,a),vg(c,a)],null):new X(null,2,5,Z,[null,null],null)},b)))}
function kF(a,b){return 0===b?"0":hh(t,Mh.aa(function(c){return 10>c?sg(RD("0")+c):sg(RD("a")+(c-10))},mF(a,b)))}function nF(a,b){return Cg(J(TD(function(c){return new X(null,2,5,Z,[E(Cg(Nh.aa(a,c))),E(Oh(a,c))],null)},Cg(b))))}
function oF(a,b,c){c=bF(c);var d=Q(c,0,null);c=Q(c,1,null);if(Nf(d)||"number"===typeof d&&!isNaN(d)&&Infinity!==d&&parseFloat(d)!==parseInt(d,10)&&D.aa(d,Math.floor(d))){var e=0>d,f=kF(a,e?-d:d);a=r(Mv.ba(b))?function(){var h=Mh.aa(function(m){return hh(t,m)},nF(mt.ba(b),f)),k=Th(M(h),Hu.ba(b));return hh(t,K(Wh.aa(k,h)))}():f;a=e?["-",t.ba(a)].join(""):r(Iz.ba(b))?["+",t.ba(a)].join(""):a;a=a.length<NB.ba(b)?[t.ba(hh(t,Th(NB.ba(b)-a.length,As.ba(b)))),t.ba(a)].join(""):a;OD.ea(P([a]))}else lF(jl,
new p(null,5,[NB,NB.ba(b),sr,1,Vv,0,As,As.ba(b),Iz,!0],null),WE(new X(null,1,5,Z,[d],null)));return c}
var pF=new X(null,20,5,Z,"zero one two three four five six seven eight nine ten eleven twelve thirteen fourteen fifteen sixteen seventeen eighteen nineteen".split(" "),null),qF=new X(null,20,5,Z,"zeroth first second third fourth fifth sixth seventh eighth ninth tenth eleventh twelfth thirteenth fourteenth fifteenth sixteenth seventeenth eighteenth nineteenth".split(" "),null),rF=new X(null,10,5,Z,"  twenty thirty forty fifty sixty seventy eighty ninety".split(" "),null),sF=new X(null,10,5,Z,"  twentieth thirtieth fortieth fiftieth sixtieth seventieth eightieth ninetieth".split(" "),
null),tF=new X(null,22,5,Z," thousand million billion trillion quadrillion quintillion sextillion septillion octillion nonillion decillion undecillion duodecillion tredecillion quattuordecillion quindecillion sexdecillion septendecillion octodecillion novemdecillion vigintillion".split(" "),null);
function uF(a){var b=vg(a,100),c=wg(a,100);return[0<b?[t.ba(af(pF,b))," hundred"].join(""):null,0<b&&0<c?" ":null,t.ba(0<c?20>c?af(pF,c):function(){var d=vg(c,10),e=wg(c,10);return[t.ba(0<d?af(rF,d):null),0<d&&0<e?"-":null,t.ba(0<e?af(pF,e):null)].join("")}():null)].join("")}
function vF(a,b){var c=M(a),d=pf;--c;var e=J(a);for(a=K(a);;){if(null==a)return[t.ba(hh(t,Oh(1,Wh.aa(Sh(", "),d)))),zf(e)||zf(d)?null:", ",t.ba(e),!zf(e)&&0<c+b?[" ",t.ba(af(tF,c+b))].join(""):null].join("");d=zf(e)?d:of.aa(d,[t.ba(e)," ",t.ba(af(tF,c+b))].join(""));--c;e=J(a);a=K(a)}}
function wF(a){var b=vg(a,100),c=wg(a,100);return[0<b?[t.ba(af(pF,b))," hundred"].join(""):null,0<b&&0<c?" ":null,t.ba(0<c?20>c?af(qF,c):function(){var d=vg(c,10),e=wg(c,10);return 0<d&&!(0<e)?af(sF,d):[t.ba(0<d?af(rF,d):null),0<d&&0<e?"-":null,t.ba(0<e?af(qF,e):null)].join("")}():0<b?"th":null)].join("")}
var xF=new X(null,4,5,Z,[new X(null,9,5,Z,"I II III IIII V VI VII VIII VIIII".split(" "),null),new X(null,9,5,Z,"X XX XXX XXXX L LX LXX LXXX LXXXX".split(" "),null),new X(null,9,5,Z,"C CC CCC CCCC D DC DCC DCCC DCCCC".split(" "),null),new X(null,3,5,Z,["M","MM","MMM"],null)],null),yF=new X(null,4,5,Z,[new X(null,9,5,Z,"I II III IV V VI VII VIII IX".split(" "),null),new X(null,9,5,Z,"X XX XXX XL L LX LXX LXXX XC".split(" "),null),new X(null,9,5,Z,"C CC CCC CD D DC DCC DCCC CM".split(" "),null),new X(null,
3,5,Z,["M","MM","MMM"],null)],null);function zF(a,b){b=bF(b);var c=Q(b,0,null);b=Q(b,1,null);if("number"===typeof c&&0<c&&4E3>c){var d=mF(10,c);c=pf;for(var e=M(d)-1;;)if(zf(d)){OD.ea(P([hh(t,c)]));break}else{var f=J(d);c=D.aa(0,f)?c:of.aa(c,af(af(a,e),f-1));--e;d=K(d)}}else oF(10,new p(null,5,[NB,0,As," ",Hu,",",mt,3,Mv,!0],null),WE(new X(null,1,5,Z,[c],null)));return b}var AF=new p(null,5,[8,"Backspace",9,"Tab",10,"Newline",13,"Return",32,"Space"],null);
function BF(a,b){a=bF(b);b=Q(a,0,null);a=Q(a,1,null);var c=RD(b);b=c&127;c&=128;var d=B.aa(AF,b);0<c&&OD.ea(P(["Meta-"]));OD.ea(P([r(d)?d:32>b?["Control-",t.ba(sg(b+64))].join(""):D.aa(b,127)?"Control-?":sg(b)]));return a}
function CF(a,b){var c=bF(b);b=Q(c,0,null);c=Q(c,1,null);a=Wy.ba(a);if(r(D.aa?D.aa("o",a):D.call(null,"o",a)))UE(!0,"\\o~3, '0o",P([RD(b)]));else if(r(D.aa?D.aa("u",a):D.call(null,"u",a)))UE(!0,"\\u~4, '0x",P([RD(b)]));else if(r(D.aa?D.aa(null,a):D.call(null,null,a)))Kd(jc,r(D.aa?D.aa("\b",b):D.call(null,"\b",b))?"\\backspace":r(D.aa?D.aa(" ",b):D.call(null," ",b))?"\\space":r(D.aa?D.aa("\t",b):D.call(null,"\t",b))?"\\tab":r(D.aa?D.aa("\n",b):D.call(null,"\n",b))?"\\newline":r(D.aa?D.aa("\f",b):D.call(null,
"\f",b))?"\\formfeed":r(D.aa?D.aa("\r",b):D.call(null,"\r",b))?"\\return":r(D.aa?D.aa('"',b):D.call(null,'"',b))?'\\"':r(D.aa?D.aa("\\",b):D.call(null,"\\",b))?"\\\\":["\\",t.ba(b)].join(""));else throw Error(["No matching clause: ",t.ba(a)].join(""));return c}function DF(a,b){b=bF(b);a=Q(b,0,null);b=Q(b,1,null);OD.ea(P([a]));return b}function EF(a){a=J(a);return D.aa(vB,a)||D.aa(Xx,a)}
function FF(a,b,c){return lf(SD(function(d,e){if(EF(e))return new X(null,2,5,Z,[null,e],null);e=hF(uu.ba(d),e);var f=Q(e,0,null);e=Q(e,1,null);var h=UD(f);f=Q(h,0,null);h=Q(h,1,null);f=R.ca(f,ko,c);return new X(null,2,5,Z,[null,hh(mx.ba(d),new X(null,3,5,Z,[f,e,h],null))],null)},b,a))}
function GF(a){a=t.ba(a).toLowerCase();var b=a.indexOf("e"),c=a.indexOf(".");a=0>b?0>c?new X(null,2,5,Z,[a,t.ba(a.length-1)],null):new X(null,2,5,Z,[[zg.ca(a,0,c),zg.aa(a,c+1)].join(""),t.ba(c-1)],null):0>c?new X(null,2,5,Z,[zg.ca(a,0,b),zg.aa(a,b+1)],null):new X(null,2,5,Z,[[zg.ca(a,0,1),zg.ca(a,2,b)].join(""),zg.aa(a,b+1)],null);b=Q(a,0,null);a=Q(a,1,null);a:if(c=M(b),0<c&&D.aa(af(b,M(b)-1),"0"))for(--c;;){if(0>c){b="";break a}if(D.aa(af(b,c),"0"))--c;else{b=zg.ca(b,0,c+1);break a}}a:{c=b;var d=
M(c);if(0<d&&D.aa(af(c,0),"0"))for(var e=0;;){if(D.aa(e,d)||!D.aa(af(c,e),"0")){c=zg.aa(c,e);break a}e+=1}}b=M(b)-M(c);a=0<M(a)&&D.aa(af(a,0),"+")?zg.aa(a,1):a;return zf(c)?new X(null,2,5,Z,["0",0],null):new X(null,2,5,Z,[c,parseInt(a,10)-b],null)}
function HF(a,b,c,d){if(r(r(c)?c:d)){var e=M(a);d=r(d)?2>d?2:d:0;r(c)?c=b+c+1:0<=b?(c=b+1,--d,c=c>d?c:d):c=d+b;var f=D.aa(c,0)?new X(null,4,5,Z,[["0",t.ba(a)].join(""),b+1,1,e+1],null):new X(null,4,5,Z,[a,b,c,e],null);c=Q(f,0,null);e=Q(f,1,null);d=Q(f,2,null);f=Q(f,3,null);if(r(d)){if(0>d)return new X(null,3,5,Z,["0",0,!1],null);if(f>d){b=af(c,d);a=zg.ca(c,0,d);if(RD(b)>=RD("5")){a:for(b=M(a)-1,c=b|0;;){if(0>c){b=ih(t,"1",Th(b+1,"0"));break a}if(D.aa("9",a.charAt(c)))--c;else{b=jh(t,zg.ca(a,0,c),
sg(RD(a.charAt(c))+1),Th(b-c,"0"));break a}}a=M(b)>a.length;return new X(null,3,5,Z,[a?zg.ca(b,0,M(b)-1):b,e,a],null)}return new X(null,3,5,Z,[a,e,!1],null)}}}return new X(null,3,5,Z,[a,b,!1],null)}
function IF(a,b,c){var d=0>b?new X(null,2,5,Z,[[t.ba(hh(t,Th(-b-1,"0"))),t.ba(a)].join(""),-1],null):new X(null,2,5,Z,[a,b],null);a=Q(d,0,null);var e=Q(d,1,null);d=M(a);c=r(c)?e+c+1:e+1;c=d<c?[t.ba(a),t.ba(hh(t,Th(c-d,"0")))].join(""):a;0>b?b=[".",t.ba(c)].join(""):(b+=1,b=[zg.ca(c,0,b),".",zg.aa(c,b)].join(""));return b}function JF(a,b){return 0>b?[".",t.ba(a)].join(""):[zg.ca(a,0,b),".",zg.aa(a,b)].join("")}
function KF(a,b){var c=bx.ba(a),d=Ww.ba(a);b=bF(b);var e=Q(b,0,null);b=Q(b,1,null);var f=0>e?new X(null,2,5,Z,["-",-e],null):new X(null,2,5,Z,["+",e],null),h=Q(f,0,null);f=Q(f,1,null);f=GF(f);var k=Q(f,0,null),m=Q(f,1,null)+Qw.ba(a);f=Iz.ba(a);e=r(f)?f:0>e;f=zc(d)&&M(k)-1<=m;var n=HF(k,m,d,r(c)?c-(r(e)?1:0):null);k=Q(n,0,null);m=Q(n,1,null);n=Q(n,2,null);k=IF(k,r(n)?m+1:m,d);d=r(r(c)?r(d)?1<=d&&D.aa(k.charAt(0),"0")&&D.aa(k.charAt(1),".")&&k.length>c-(r(e)?1:0):d:c)?zg.aa(k,1):k;m=D.aa(J(d),".");
r(c)?(k=d.length,k=r(e)?k+1:k,m=m&&!(k>=c),f=f&&!(k>=c),k=m||f?k+1:k,r(k>c?GB.ba(a):!1)?OD.ea(P([hh(t,Th(c,GB.ba(a)))])):OD.ea(P([[t.ba(hh(t,Th(c-k,As.ba(a)))),t.ba(r(e)?h:null),m?"0":null,d,f?"0":null].join("")]))):OD.ea(P([[t.ba(r(e)?h:null),m?"0":null,d,f?"0":null].join("")]));return b}
function LF(a,b){b=bF(b);var c=Q(b,0,null);b=Q(b,1,null);var d=GF(0>c?-c:c);Q(d,0,null);for(Q(d,1,null);;){var e=Q(d,0,null),f=Q(d,1,null),h=bx.ba(a),k=Ww.ba(a),m=Tw.ba(a),n=Qw.ba(a),q=function(){var G=fp.ba(a);return r(G)?G:"E"}();d=function(){var G=Iz.ba(a);return r(G)?G:0>c}();var u=0>=n,w=f-(n-1),z=t.ba(Math.abs(w));q=[t.ba(q),0>w?"-":"+",t.ba(r(m)?hh(t,Th(m-z.length,"0")):null),z].join("");var F=q.length;w=M(e);e=[t.ba(hh(t,Th(-n,"0"))),t.ba(e),t.ba(r(k)?hh(t,Th(k-(w-1)-(0>n?-n:0),"0")):null)].join("");
w=r(h)?h-F:null;e=HF(e,0,D.aa(n,0)?k-1:0<n?k:0>n?k-1:null,r(w)?w-(r(d)?1:0):null);w=Q(e,0,null);Q(e,1,null);z=Q(e,2,null);e=JF(w,n);k=D.aa(n,M(w))&&null==k;if(zc(z)){if(r(h)){f=e.length+F;f=r(d)?f+1:f;var H=(u=u&&!D.aa(f,h))?f+1:f;f=k&&H<h;r(function(){var G=H>h;G||(G=m,G=r(G)?F-2>m:G);return r(G)?GB.ba(a):G}())?OD.ea(P([hh(t,Th(h,GB.ba(a)))])):OD.ea(P([[t.ba(hh(t,Th(h-H-(f?1:0),As.ba(a)))),r(d)?0>c?"-":"+":null,u?"0":null,e,f?"0":null,q].join("")]))}else OD.ea(P([[r(d)?0>c?"-":"+":null,u?"0":null,
e,k?"0":null,q].join("")]));break}else d=new X(null,2,5,Z,[w,f+1],null)}return b}function MF(a,b,c){var d=bF(b),e=Q(d,0,null);Q(d,1,null);d=GF(0>e?-e:e);var f=Q(d,0,null);d=Q(d,1,null);var h=bx.ba(a),k=Ww.ba(a),m=Tw.ba(a);d=D.aa(e,0)?0:d+1;e=r(m)?m+2:4;h=r(h)?h-e:null;r(k)?f=k:(f=M(f),k=7>d?d:7,f=f>k?f:k);d=f-d;return 0<=d&&d<=f?(a=KF(new p(null,6,[bx,h,Ww,d,Qw,0,GB,GB.ba(a),As,As.ba(a),Iz,Iz.ba(a)],null),b,c),OD.ea(P([hh(t,Th(e," "))])),a):LF(a,b,c)}
function NF(a,b){b=bF(b);var c=Q(b,0,null);b=Q(b,1,null);var d=GF(Math.abs(c)),e=Q(d,0,null),f=Q(d,1,null),h=Ww.ba(a),k=jx.ba(a);d=bx.ba(a);var m=function(){var q=Iz.ba(a);return r(q)?q:0>c}(),n=HF(e,f,h,null);e=Q(n,0,null);f=Q(n,1,null);n=Q(n,2,null);h=IF(e,r(n)?f+1:f,h);k=[t.ba(hh(t,Th(k-h.indexOf("."),"0"))),h].join("");h=k.length+(r(m)?1:0);OD.ea(P([[r(function(){var q=Mv.ba(a);return r(q)?m:q}())?0>c?"-":"+":null,t.ba(hh(t,Th(d-h,As.ba(a)))),r(zc(Mv.ba(a))?m:!1)?0>c?"-":"+":null,k].join("")]));
return b}function OF(a,b){var c=hA.ba(a);c=r(c)?new X(null,2,5,Z,[c,b],null):bF(b);b=Q(c,0,null);c=Q(c,1,null);var d=lz.ba(a);b=0>b||b>=M(d)?J(ou.ba(a)):af(d,b);return r(b)?FF(b,c,ko.ba(a)):c}function PF(a,b){var c=bF(b);b=Q(c,0,null);c=Q(c,1,null);var d=lz.ba(a);b=r(b)?lf(d):J(d);return r(b)?FF(b,c,ko.ba(a)):c}function QF(a,b){var c=bF(b),d=Q(c,0,null);c=Q(c,1,null);var e=lz.ba(a);e=r(d)?J(e):null;return r(d)?r(e)?FF(e,b,ko.ba(a)):b:c}
function RF(a,b){var c=ZB.ba(a),d=J(lz.ba(a));d=zf(d)?cF(b):new X(null,2,5,Z,[d,b],null);b=Q(d,0,null);d=Q(d,1,null);d=bF(d);var e=Q(d,0,null);d=Q(d,1,null);var f=0;e=WE(e);for(var h=-1;;){if(zc(c)&&D.aa(dt.ba(e),h)&&1<f)throw Error("%{ construct not consuming any arguments: Infinite loop!");h=zf(Cu.ba(e))&&(zc(Mv.ba(Tp.ba(a)))||0<f);if(r(h?h:r(c)?f>=c:c))return d;h=FF(b,e,ko.ba(a));if(D.aa(vB,J(h)))return d;f+=1;var k=dt.ba(e);e=h;h=k}}
function SF(a,b){var c=ZB.ba(a),d=J(lz.ba(a));d=zf(d)?cF(b):new X(null,2,5,Z,[d,b],null);b=Q(d,0,null);d=Q(d,1,null);d=bF(d);var e=Q(d,0,null);d=Q(d,1,null);for(var f=0;;){var h=zf(e)&&(zc(Mv.ba(Tp.ba(a)))||0<f);if(r(h?h:r(c)?f>=c:c))return d;h=FF(b,WE(J(e)),WE(K(e)));if(D.aa(Xx,J(h)))return d;f+=1;e=K(e)}}
function TF(a,b){var c=ZB.ba(a),d=J(lz.ba(a)),e=zf(d)?cF(b):new X(null,2,5,Z,[d,b],null);b=Q(e,0,null);d=0;e=Q(e,1,null);for(var f=-1;;){if(zc(c)&&D.aa(dt.ba(e),f)&&1<d)throw Error("%@{ construct not consuming any arguments: Infinite loop!");f=zf(Cu.ba(e))&&(zc(Mv.ba(Tp.ba(a)))||0<d);if(r(f?f:r(c)?d>=c:c))return e;f=FF(b,e,ko.ba(a));if(D.aa(vB,J(f)))return lf(f);d+=1;var h=dt.ba(e);e=f;f=h}}
function UF(a,b){var c=ZB.ba(a),d=J(lz.ba(a)),e=zf(d)?cF(b):new X(null,2,5,Z,[d,b],null);b=Q(e,0,null);d=0;for(e=Q(e,1,null);;){var f=zf(Cu.ba(e))&&(zc(Mv.ba(Tp.ba(a)))||0<d);if(r(f?f:r(c)?d>=c:c))return e;f=Cu.ba(e);f=r(f)?new X(null,2,5,Z,[J(f),new aF(qp.ba(e),K(f),dt.ba(e)+1,null,null,null)],null):new X(null,2,5,Z,[null,e],null);e=Q(f,0,null);f=Q(f,1,null);e=FF(b,WE(e),f);if(D.aa(Xx,J(e)))return f;e=f;d+=1}}
function VF(a,b){if(r(Mv.ba(Tp.ba(a)))){var c=lz.ba(a),d=M(c),e=1<d?Xm.ba(uu.ba(J(J(c)))):r(Mv.ba(a))?"(":null,f=af(c,1<d?1:0);c=2<d?Xm.ba(uu.ba(J(af(c,2)))):r(Mv.ba(a))?")":null;d=bF(b);b=Q(d,0,null);d=Q(d,1,null);if(r(RE()))Kd(jc,"#");else{var h=IE,k=JE;IE+=1;JE=0;try{zE(e,c),FF(f,WE(b),ko.ba(a)),AE()}finally{JE=k,IE=h}}a=d}else a=WF(a,b);return a}
function XF(a,b,c){for(var d=pf;;){if(zf(a))return new X(null,2,5,Z,[d,b],null);var e=J(a);a:{var f=new ec,h=jc;jc=new ke(f);try{var k=new X(null,2,5,Z,[FF(e,b,c),t.ba(f)],null);break a}finally{jc=h}k=void 0}b=Q(k,0,null);e=Q(k,1,null);if(D.aa(vB,J(b)))return new X(null,2,5,Z,[d,lf(b)],null);a=K(a);d=of.aa(d,e)}}
function WF(a,b){var c=function(){var O=ou.ba(a);return r(O)?XF(O,b,ko.ba(a)):null}(),d=Q(c,0,null);d=Q(d,0,null);c=Q(c,1,null);var e=r(c)?c:b;c=function(){var O=zC.ba(a);return r(O)?hF(O,e):null}();var f=Q(c,0,null);c=Q(c,1,null);var h=r(c)?c:e;c=function(){var O=J(Du.ba(f));return r(O)?O:0}();var k=function(){var O=J(az.ba(f));return r(O)?O:XD(jc,cz)}(),m=lz.ba(a);h=XF(m,h,ko.ba(a));var n=Q(h,0,null);h=Q(h,1,null);var q=function(){var O=M(n)-1+(r(Mv.ba(a))?1:0)+(r(Iz.ba(a))?1:0);return 1>O?1:O}();
m=v.aa(ig,Mh.aa(M,n));var u=NB.ba(a),w=Vv.ba(a),z=sr.ba(a),F=m+q*w;u=F<=u?u:u+z*(1+vg(F-u-1,z));var H=u-m;m=function(){var O=vg(H,q);return w>O?w:O}();z=H-m*q;m=hh(t,Th(m,As.ba(a)));r(r(d)?XD(Hp.ba(y(y(jc))),Vs)+c+u>k:d)&&OD.ea(P([d]));c=z;for(var G=n,N=function(){var O=Mv.ba(a);return r(O)?O:D.aa(M(G),1)&&zc(Iz.ba(a))}();;)if(E(G))OD.ea(P([[t.ba(zc(N)?J(G):null),t.ba(r(function(){var O=N;return r(O)?O:(O=K(G))?O:Iz.ba(a)}())?m:null),t.ba(0<c?As.ba(a):null)].join("")])),--c,G=d=r(N)?G:K(G),N=!1;else break;
return h}
function YF(a){if("undefined"===typeof gc||"undefined"===typeof HD||"undefined"===typeof KD)KD=function(b,c){this.kb=b;this.mi=c;this.ha=1074135040;this.na=0},KD.prototype.ta=function(b,c){return new KD(this.kb,c)},KD.prototype.sa=function(){return this.mi},KD.prototype.$c=function(){return Ld(this.kb)},KD.prototype.Dd=function(b,c){b=Cc(c);if(r(D.aa?D.aa(String,b):D.call(null,String,b)))return Kd(this.kb,c.toLowerCase());if(r(D.aa?D.aa(Number,b):D.call(null,Number,b)))return Kd(this.kb,sg(c).toLowerCase());
throw Error(["No matching clause: ",t.ba(b)].join(""));},KD.Fb=!0,KD.yb="cljs.pprint/t_cljs$pprint23428",KD.Ib=function(b){return Kd(b,"cljs.pprint/t_cljs$pprint23428")};return new KD(a,W)}
function ZF(a){if("undefined"===typeof gc||"undefined"===typeof HD||"undefined"===typeof LD)LD=function(b,c){this.kb=b;this.ni=c;this.ha=1074135040;this.na=0},LD.prototype.ta=function(b,c){return new LD(this.kb,c)},LD.prototype.sa=function(){return this.ni},LD.prototype.$c=function(){return Ld(this.kb)},LD.prototype.Dd=function(b,c){b=Cc(c);if(r(D.aa?D.aa(String,b):D.call(null,String,b)))return Kd(this.kb,c.toUpperCase());if(r(D.aa?D.aa(Number,b):D.call(null,Number,b)))return Kd(this.kb,sg(c).toUpperCase());
throw Error(["No matching clause: ",t.ba(b)].join(""));},LD.Fb=!0,LD.yb="cljs.pprint/t_cljs$pprint23461",LD.Ib=function(b){return Kd(b,"cljs.pprint/t_cljs$pprint23461")};return new LD(a,W)}
function $F(a,b){var c=J(a);a=r(r(b)?r(c)?Mb(c):c:b)?[c.toUpperCase(),zg.aa(a,1)].join(""):a;return hh(t,J(TD(function(d){if(zf(d))return new X(null,2,5,Z,[null,null],null);var e=/\W\w/g.exec(d);e=r(e)?e.index+1:e;return r(e)?new X(null,2,5,Z,[[zg.ca(d,0,e),af(d,e).toUpperCase()].join(""),zg.aa(d,e+1)],null):new X(null,2,5,Z,[d,null],null)},a)))}
function aG(a){var b=Dh(!0);if("undefined"===typeof gc||"undefined"===typeof HD||"undefined"===typeof MD)MD=function(c,d,e){this.kb=c;this.Je=d;this.oi=e;this.ha=1074135040;this.na=0},MD.prototype.ta=function(c,d){return new MD(this.kb,this.Je,d)},MD.prototype.sa=function(){return this.oi},MD.prototype.$c=function(){return Ld(this.kb)},MD.prototype.Dd=function(c,d){c=Cc(d);if(r(D.aa?D.aa(String,c):D.call(null,String,c)))return Kd(this.kb,$F(d.toLowerCase(),y(this.Je))),0<d.length?Eh(this.Je,wb(af(d,
M(d)-1))):null;if(r(D.aa?D.aa(Number,c):D.call(null,Number,c)))return d=sg(d),c=r(y(this.Je))?d.toUpperCase():d,Kd(this.kb,c),Eh(this.Je,wb(d));throw Error(["No matching clause: ",t.ba(c)].join(""));},MD.Fb=!0,MD.yb="cljs.pprint/t_cljs$pprint23515",MD.Ib=function(c){return Kd(c,"cljs.pprint/t_cljs$pprint23515")};return new MD(a,b,W)}
function bG(a){var b=Dh(!1);if("undefined"===typeof gc||"undefined"===typeof HD||"undefined"===typeof ND)ND=function(c,d,e){this.kb=c;this.je=d;this.si=e;this.ha=1074135040;this.na=0},ND.prototype.ta=function(c,d){return new ND(this.kb,this.je,d)},ND.prototype.sa=function(){return this.si},ND.prototype.$c=function(){return Ld(this.kb)},ND.prototype.Dd=function(c,d){c=Cc(d);if(r(D.aa?D.aa(String,c):D.call(null,String,c)))return d=d.toLowerCase(),zc(y(this.je))?(c=/\S/g.exec(d),c=r(c)?c.index:c,r(c)?
(Kd(this.kb,[zg.ca(d,0,c),af(d,c).toUpperCase(),zg.aa(d,c+1).toLowerCase()].join("")),Eh(this.je,!0)):Kd(this.kb,d)):Kd(this.kb,d.toLowerCase());if(r(D.aa?D.aa(Number,c):D.call(null,Number,c)))return d=sg(d),r(zc(y(this.je))?Mb(d):!1)?(Eh(this.je,!0),Kd(this.kb,d.toUpperCase())):Kd(this.kb,d.toLowerCase());throw Error(["No matching clause: ",t.ba(c)].join(""));},ND.Fb=!0,ND.yb="cljs.pprint/t_cljs$pprint23557",ND.Ib=function(c){return Kd(c,"cljs.pprint/t_cljs$pprint23557")};return new ND(a,b,W)}
function cG(a,b){var c=r(Mv.ba(a))?Ir:nu;TE(c,jx.ba(a));return b}function dG(a,b){a=r(Mv.ba(a))?r(Iz.ba(a))?Qn:Vt:r(Iz.ba(a))?kA:Dv;SE(a);return b}
var eG=Pj("ASDBOXRPCFEG$%\x26|~\nT*?()[;]{}\x3c\x3e^W_I".split(""),[new p(null,5,[np,"A",uu,new p(null,4,[NB,new X(null,2,5,Z,[0,Number],null),sr,new X(null,2,5,Z,[1,Number],null),Vv,new X(null,2,5,Z,[0,Number],null),As,new X(null,2,5,Z,[" ",String],null)],null),$x,new rk(null,new p(null,3,[Mv,null,Iz,null,Hx,null],null),null),wA,W,AB,function(){return function(a,b){return lF(jl,a,b)}}],null),new p(null,5,[np,"S",uu,new p(null,4,[NB,new X(null,2,5,Z,[0,Number],null),sr,new X(null,2,5,Z,[1,Number],
null),Vv,new X(null,2,5,Z,[0,Number],null),As,new X(null,2,5,Z,[" ",String],null)],null),$x,new rk(null,new p(null,3,[Mv,null,Iz,null,Hx,null],null),null),wA,W,AB,function(){return function(a,b){return lF(hl,a,b)}}],null),new p(null,5,[np,"D",uu,new p(null,4,[NB,new X(null,2,5,Z,[0,Number],null),As,new X(null,2,5,Z,[" ",String],null),Hu,new X(null,2,5,Z,[",",String],null),mt,new X(null,2,5,Z,[3,Number],null)],null),$x,new rk(null,new p(null,3,[Mv,null,Iz,null,Hx,null],null),null),wA,W,AB,function(){return function(a,
b){return oF(10,a,b)}}],null),new p(null,5,[np,"B",uu,new p(null,4,[NB,new X(null,2,5,Z,[0,Number],null),As,new X(null,2,5,Z,[" ",String],null),Hu,new X(null,2,5,Z,[",",String],null),mt,new X(null,2,5,Z,[3,Number],null)],null),$x,new rk(null,new p(null,3,[Mv,null,Iz,null,Hx,null],null),null),wA,W,AB,function(){return function(a,b){return oF(2,a,b)}}],null),new p(null,5,[np,"O",uu,new p(null,4,[NB,new X(null,2,5,Z,[0,Number],null),As,new X(null,2,5,Z,[" ",String],null),Hu,new X(null,2,5,Z,[",",String],
null),mt,new X(null,2,5,Z,[3,Number],null)],null),$x,new rk(null,new p(null,3,[Mv,null,Iz,null,Hx,null],null),null),wA,W,AB,function(){return function(a,b){return oF(8,a,b)}}],null),new p(null,5,[np,"X",uu,new p(null,4,[NB,new X(null,2,5,Z,[0,Number],null),As,new X(null,2,5,Z,[" ",String],null),Hu,new X(null,2,5,Z,[",",String],null),mt,new X(null,2,5,Z,[3,Number],null)],null),$x,new rk(null,new p(null,3,[Mv,null,Iz,null,Hx,null],null),null),wA,W,AB,function(){return function(a,b){return oF(16,a,b)}}],
null),new p(null,5,[np,"R",uu,new p(null,5,[Hp,new X(null,2,5,Z,[null,Number],null),NB,new X(null,2,5,Z,[0,Number],null),As,new X(null,2,5,Z,[" ",String],null),Hu,new X(null,2,5,Z,[",",String],null),mt,new X(null,2,5,Z,[3,Number],null)],null),$x,new rk(null,new p(null,3,[Mv,null,Iz,null,Hx,null],null),null),wA,W,AB,function(a){return r(J(Hp.ba(a)))?function(b,c){return oF(Hp.ba(b),b,c)}:r(function(){var b=Iz.ba(a);return r(b)?Mv.ba(a):b}())?function(b,c){return zF(xF,c)}:r(Iz.ba(a))?function(b,c){return zF(yF,
c)}:r(Mv.ba(a))?function(b,c){b=bF(c);c=Q(b,0,null);b=Q(b,1,null);if(D.aa(0,c))OD.ea(P(["zeroth"]));else{var d=mF(1E3,0>c?-c:c);if(M(d)<=M(tF)){var e=Mh.aa(uF,Ph(1,d));e=vF(e,1);d=wF(nf(d));OD.ea(P([[0>c?"minus ":null,zf(e)||zf(d)?zf(e)?d:[e,"th"].join(""):[e,", ",d].join("")].join("")]))}else oF(10,new p(null,5,[NB,0,As," ",Hu,",",mt,3,Mv,!0],null),WE(new X(null,1,5,Z,[c],null))),d=wg(c,100),c=11<d||19>d,d=wg(d,10),OD.ea(P([1===d&&c?"st":2===d&&c?"nd":3===d&&c?"rd":"th"]))}return b}:function(b,c){c=
bF(c);b=Q(c,0,null);c=Q(c,1,null);if(D.aa(0,b))OD.ea(P(["zero"]));else{var d=mF(1E3,0>b?-b:b);M(d)<=M(tF)?(d=Mh.aa(uF,d),d=vF(d,0),OD.ea(P([[0>b?"minus ":null,d].join("")]))):oF(10,new p(null,5,[NB,0,As," ",Hu,",",mt,3,Mv,!0],null),WE(new X(null,1,5,Z,[b],null)))}return c}}],null),new p(null,5,[np,"P",uu,W,$x,new rk(null,new p(null,3,[Mv,null,Iz,null,Hx,null],null),null),wA,W,AB,function(){return function(a,b){b=r(Mv.ba(a))?eF(b,-1):b;a=r(Iz.ba(a))?new X(null,2,5,Z,["y","ies"],null):new X(null,2,
5,Z,["","s"],null);var c=bF(b);b=Q(c,0,null);c=Q(c,1,null);OD.ea(P([D.aa(b,1)?J(a):lf(a)]));return c}}],null),new p(null,5,[np,"C",uu,new p(null,1,[Wy,new X(null,2,5,Z,[null,String],null)],null),$x,new rk(null,new p(null,3,[Mv,null,Iz,null,Hx,null],null),null),wA,W,AB,function(a){return r(Mv.ba(a))?BF:r(Iz.ba(a))?CF:DF}],null),new p(null,5,[np,"F",uu,new p(null,5,[bx,new X(null,2,5,Z,[null,Number],null),Ww,new X(null,2,5,Z,[null,Number],null),Qw,new X(null,2,5,Z,[0,Number],null),GB,new X(null,2,5,
Z,[null,String],null),As,new X(null,2,5,Z,[" ",String],null)],null),$x,new rk(null,new p(null,1,[Iz,null],null),null),wA,W,AB,function(){return KF}],null),new p(null,5,[np,"E",uu,new p(null,7,[bx,new X(null,2,5,Z,[null,Number],null),Ww,new X(null,2,5,Z,[null,Number],null),Tw,new X(null,2,5,Z,[null,Number],null),Qw,new X(null,2,5,Z,[1,Number],null),GB,new X(null,2,5,Z,[null,String],null),As,new X(null,2,5,Z,[" ",String],null),fp,new X(null,2,5,Z,[null,String],null)],null),$x,new rk(null,new p(null,
1,[Iz,null],null),null),wA,W,AB,function(){return LF}],null),new p(null,5,[np,"G",uu,new p(null,7,[bx,new X(null,2,5,Z,[null,Number],null),Ww,new X(null,2,5,Z,[null,Number],null),Tw,new X(null,2,5,Z,[null,Number],null),Qw,new X(null,2,5,Z,[1,Number],null),GB,new X(null,2,5,Z,[null,String],null),As,new X(null,2,5,Z,[" ",String],null),fp,new X(null,2,5,Z,[null,String],null)],null),$x,new rk(null,new p(null,1,[Iz,null],null),null),wA,W,AB,function(){return MF}],null),new p(null,5,[np,"$",uu,new p(null,
4,[Ww,new X(null,2,5,Z,[2,Number],null),jx,new X(null,2,5,Z,[1,Number],null),bx,new X(null,2,5,Z,[0,Number],null),As,new X(null,2,5,Z,[" ",String],null)],null),$x,new rk(null,new p(null,3,[Mv,null,Iz,null,Hx,null],null),null),wA,W,AB,function(){return NF}],null),new p(null,5,[np,"%",uu,new p(null,1,[kz,new X(null,2,5,Z,[1,Number],null)],null),$x,tk,wA,W,AB,function(){return function(a,b){a=kz.ba(a);for(var c=0;;)if(c<a)QD(),c+=1;else break;return b}}],null),new p(null,5,[np,"\x26",uu,new p(null,1,
[kz,new X(null,2,5,Z,[1,Number],null)],null),$x,new rk(null,new p(null,1,[Ft,null],null),null),wA,W,AB,function(){return function(a,b){a=kz.ba(a);0<a&&((null!=jc?jc.ha&32768||l===jc.Hg||(jc.ha?0:Bc(pd,jc)):Bc(pd,jc))?D.aa(0,XD(Hp.ba(y(y(jc))),Vs))||QD():QD());--a;for(var c=0;;)if(c<a)QD(),c+=1;else break;return b}}],null),new p(null,5,[np,"|",uu,new p(null,1,[kz,new X(null,2,5,Z,[1,Number],null)],null),$x,tk,wA,W,AB,function(){return function(a,b){a=kz.ba(a);for(var c=0;;)if(c<a)OD.ea(P(["\f"])),
c+=1;else break;return b}}],null),new p(null,5,[np,"~",uu,new p(null,1,[jx,new X(null,2,5,Z,[1,Number],null)],null),$x,tk,wA,W,AB,function(){return function(a,b){a=jx.ba(a);OD.ea(P([hh(t,Th(a,"~"))]));return b}}],null),new p(null,5,[np,"\n",uu,W,$x,new rk(null,new p(null,2,[Mv,null,Iz,null],null),null),wA,W,AB,function(){return function(a,b){r(Iz.ba(a))&&QD();return b}}],null),new p(null,5,[np,"T",uu,new p(null,2,[tA,new X(null,2,5,Z,[1,Number],null),sr,new X(null,2,5,Z,[1,Number],null)],null),$x,
new rk(null,new p(null,2,[Iz,null,Ft,null],null),null),wA,W,AB,function(a){return r(Iz.ba(a))?function(b,c){var d=tA.ba(b);b=sr.ba(b);var e=d+XD(Hp.ba(y(y(jc))),Vs);e=0<b?wg(e,b):0;d+=D.aa(0,e)?0:b-e;OD.ea(P([hh(t,Th(d," "))]));return c}:function(b,c){var d=tA.ba(b);b=sr.ba(b);var e=XD(Hp.ba(y(y(jc))),Vs);d=e<d?d-e:D.aa(b,0)?0:b-wg(e-d,b);OD.ea(P([hh(t,Th(d," "))]));return c}}],null),new p(null,5,[np,"*",uu,new p(null,1,[jx,new X(null,2,5,Z,[1,Number],null)],null),$x,new rk(null,new p(null,2,[Mv,
null,Iz,null],null),null),wA,W,AB,function(){return function(a,b){var c=jx.ba(a);return r(Iz.ba(a))?dF(b,c):eF(b,r(Mv.ba(a))?-c:c)}}],null),new p(null,5,[np,"?",uu,W,$x,new rk(null,new p(null,1,[Iz,null],null),null),wA,W,AB,function(a){return r(Iz.ba(a))?function(b,c){var d=cF(c);c=Q(d,0,null);d=Q(d,1,null);return FF(c,d,ko.ba(b))}:function(b,c){var d=cF(c);c=Q(d,0,null);d=Q(d,1,null);var e=bF(d);d=Q(e,0,null);e=Q(e,1,null);d=WE(d);FF(c,d,ko.ba(b));return e}}],null),new p(null,5,[np,"(",uu,W,$x,new rk(null,
new p(null,3,[Mv,null,Iz,null,Hx,null],null),null),wA,new p(null,3,[ar,")",Sx,null,ou,null],null),AB,function(a){var b=r(function(){var c=Iz.ba(a);return r(c)?Mv.ba(a):c}())?ZF:r(Mv.ba(a))?aG:r(Iz.ba(a))?bG:YF;return function(c,d){a:{var e=J(lz.ba(c)),f=jc;jc=b.ba?b.ba(jc):b.call(null,jc);try{var h=FF(e,d,ko.ba(c));break a}finally{jc=f}h=void 0}return h}}],null),new p(null,5,[np,")",uu,W,$x,tk,wA,W,AB,function(){return null}],null),new p(null,5,[np,"[",uu,new p(null,1,[hA,new X(null,2,5,Z,[null,Number],
null)],null),$x,new rk(null,new p(null,2,[Mv,null,Iz,null],null),null),wA,new p(null,3,[ar,"]",Sx,!0,ou,Mw],null),AB,function(a){return r(Mv.ba(a))?PF:r(Iz.ba(a))?QF:OF}],null),new p(null,5,[np,";",uu,new p(null,2,[Du,new X(null,2,5,Z,[null,Number],null),az,new X(null,2,5,Z,[null,Number],null)],null),$x,new rk(null,new p(null,1,[Mv,null],null),null),wA,new p(null,1,[st,!0],null),AB,function(){return null}],null),new p(null,5,[np,"]",uu,W,$x,tk,wA,W,AB,function(){return null}],null),new p(null,5,[np,
"{",uu,new p(null,1,[ZB,new X(null,2,5,Z,[null,Number],null)],null),$x,new rk(null,new p(null,3,[Mv,null,Iz,null,Hx,null],null),null),wA,new p(null,2,[ar,"}",Sx,!1],null),AB,function(a){var b=Iz.ba(a);b=r(b)?Mv.ba(a):b;return r(b)?UF:r(Mv.ba(a))?SF:r(Iz.ba(a))?TF:RF}],null),new p(null,5,[np,"}",uu,W,$x,new rk(null,new p(null,1,[Mv,null],null),null),wA,W,AB,function(){return null}],null),new p(null,5,[np,"\x3c",uu,new p(null,4,[NB,new X(null,2,5,Z,[0,Number],null),sr,new X(null,2,5,Z,[1,Number],null),
Vv,new X(null,2,5,Z,[0,Number],null),As,new X(null,2,5,Z,[" ",String],null)],null),$x,new rk(null,new p(null,4,[Mv,null,Iz,null,Hx,null,Ft,null],null),null),wA,new p(null,3,[ar,"\x3e",Sx,!0,ou,Vp],null),AB,function(){return VF}],null),new p(null,5,[np,"\x3e",uu,W,$x,new rk(null,new p(null,1,[Mv,null],null),null),wA,W,AB,function(){return null}],null),new p(null,5,[np,"^",uu,new p(null,3,[iB,new X(null,2,5,Z,[null,Number],null),kB,new X(null,2,5,Z,[null,Number],null),gB,new X(null,2,5,Z,[null,Number],
null)],null),$x,new rk(null,new p(null,1,[Mv,null],null),null),wA,W,AB,function(){return function(a,b){var c=iB.ba(a),d=kB.ba(a),e=gB.ba(a),f=r(Mv.ba(a))?Xx:vB;return r(r(c)?r(d)?e:d:c)?c<=d&&d<=e?new X(null,2,5,Z,[f,b],null):b:r(r(c)?d:c)?D.aa(c,d)?new X(null,2,5,Z,[f,b],null):b:r(c)?D.aa(c,0)?new X(null,2,5,Z,[f,b],null):b:(r(Mv.ba(a))?zf(Cu.ba(ko.ba(a))):zf(Cu.ba(b)))?new X(null,2,5,Z,[f,b],null):b}}],null),new p(null,5,[np,"W",uu,W,$x,new rk(null,new p(null,4,[Mv,null,Iz,null,Hx,null,Ft,null],
null),null),wA,W,AB,function(a){if(r(function(){var c=Iz.ba(a);return r(c)?c:Mv.ba(a)}())){var b=V.aa(r(Iz.ba(a))?new X(null,4,5,Z,[wm,null,Un,null],null):pf,r(Mv.ba(a))?new X(null,2,5,Z,[Ft,!0],null):pf);return function(c,d){d=bF(d);c=Q(d,0,null);d=Q(d,1,null);return r(ih(ME,c,b))?new X(null,2,5,Z,[vB,d],null):d}}return function(c,d){d=bF(d);c=Q(d,0,null);d=Q(d,1,null);return r(LE(c))?new X(null,2,5,Z,[vB,d],null):d}}],null),new p(null,5,[np,"_",uu,W,$x,new rk(null,new p(null,3,[Mv,null,Iz,null,
Hx,null],null),null),wA,W,AB,function(){return dG}],null),new p(null,5,[np,"I",uu,new p(null,1,[jx,new X(null,2,5,Z,[0,Number],null)],null),$x,new rk(null,new p(null,1,[Mv,null],null),null),wA,W,AB,function(){return cG}],null)]),fG=/^([vV]|#|('.)|([+-]?\d+)|(?=,))/,gG=new rk(null,new p(null,2,[Os,null,jA,null],null),null);
function hG(a){var b=Q(a,0,null),c=Q(a,1,null),d=Q(a,2,null);a=new RegExp(fG.source,"g");var e=a.exec(b);return r(e)?(d=J(e),b=zg.aa(b,a.lastIndex),a=c+a.lastIndex,D.aa(",",af(b,0))?new X(null,2,5,Z,[new X(null,2,5,Z,[d,c],null),new X(null,3,5,Z,[zg.aa(b,1),a+1,!0],null)],null):new X(null,2,5,Z,[new X(null,2,5,Z,[d,c],null),new X(null,3,5,Z,[b,a,!1],null)],null)):r(d)?$E("Badly formed parameters in format directive",c):new X(null,2,5,Z,[null,new X(null,2,5,Z,[b,c],null)],null)}
function iG(a){var b=Q(a,0,null);a=Q(a,1,null);return new X(null,2,5,Z,[D.aa(b.length,0)?null:D.aa(b.length,1)&&Of(new rk(null,new p(null,2,["V",null,"v",null],null),null),af(b,0))?jA:D.aa(b.length,1)&&D.aa("#",af(b,0))?Os:D.aa(b.length,2)&&D.aa("'",af(b,0))?af(b,1):parseInt(b,10),a],null)}var jG=new p(null,2,[":",Mv,"@",Iz],null);
function kG(a,b){return TD(function(c){var d=Q(c,0,null),e=Q(c,1,null);c=Q(c,2,null);if(zf(d))return new X(null,2,5,Z,[null,new X(null,3,5,Z,[d,e,c],null)],null);var f=B.aa(jG,J(d));return r(f)?Of(c,f)?$E(['Flag "',t.ba(J(d)),'" appears more than once in a directive'].join(""),e):new X(null,2,5,Z,[!0,new X(null,3,5,Z,[zg.aa(d,1),e+1,R.ca(c,f,new X(null,2,5,Z,[!0,e],null))],null)],null):new X(null,2,5,Z,[null,new X(null,3,5,Z,[d,e,c],null)],null)},new X(null,3,5,Z,[a,b,W],null))}
function lG(a,b){var c=$x.ba(a);r(zc(Iz.ba(c))?Iz.ba(b):!1)&&$E(['"@" is an illegal flag for format directive "',t.ba(np.ba(a)),'"'].join(""),af(Iz.ba(b),1));r(zc(Mv.ba(c))?Mv.ba(b):!1)&&$E(['":" is an illegal flag for format directive "',t.ba(np.ba(a)),'"'].join(""),af(Mv.ba(b),1));r(zc(Hx.ba(c))?function(){var d=Iz.ba(b);return r(d)?Mv.ba(b):d}():!1)&&$E(['Cannot combine "@" and ":" flags for format directive "',t.ba(np.ba(a)),'"'].join(""),function(){var d=af(Mv.ba(b),1),e=af(Iz.ba(b),1);return d<
e?d:e}())}
function mG(a,b,c,d){lG(a,c);M(b)>M(uu.ba(a))&&$E(UE(null,'Too many parameters for directive "~C": ~D~:* ~[were~;was~:;were~] specified but only ~D~:* ~[are~;is~:;are~] allowed',P([np.ba(a),M(b),M(uu.ba(a))])),lf(J(b)));Mk(Mh.ca(function(e,f){var h=J(e);return null==h||Of(gG,h)||D.aa(lf(lf(f)),Cc(h))?null:$E(["Parameter ",Jg(J(f)),' has bad type in directive "',t.ba(np.ba(a)),'": ',t.ba(Cc(h))].join(""),lf(e))},b,uu.ba(a)));return mk.ea(P([bi.aa(W,Cg(function(){return function h(f){return new Kg(null,function(){for(;;){var k=
E(f);if(k){if(Hf(k)){var m=ae(k),n=M(m),q=Og(n);a:for(var u=0;;)if(u<n){var w=x(m,u),z=Q(w,0,null);w=Q(w,1,null);w=Q(w,0,null);q.add(new X(null,2,5,Z,[z,new X(null,2,5,Z,[w,d],null)],null));u+=1}else{m=!0;break a}return m?Qg(Sg(q),h(be(k))):Qg(Sg(q),null)}m=J(k);q=Q(m,0,null);m=Q(m,1,null);m=Q(m,0,null);return gf(new X(null,2,5,Z,[q,new X(null,2,5,Z,[m,d],null)],null),h(Ee(k)))}return null}},null,null)}(uu.ba(a))}())),v.ca(function(e,f){return ih(R,e,f)},W,$h(function(e){return J(af(e,1))},xk(dj(uu.ba(a)),
b))),c]))}
function nG(a,b){b=TD(hG,new X(null,3,5,Z,[a,b,!1],null));a=Q(b,0,null);var c=Q(b,1,null);b=Q(c,0,null);c=Q(c,1,null);b=kG(b,c);Q(b,0,null);b=Q(b,1,null);var d=Q(b,0,null),e=Q(b,1,null);b=Q(b,2,null);c=J(d);var f=B.aa(eG,c.toUpperCase()),h=r(f)?mG(f,Mh.aa(iG,a),b,e):null;zc(c)&&$E("Format string ended in the middle of a directive",e);zc(f)&&$E(['Directive "',t.ba(c),'" is undefined'].join(""),e);return new X(null,2,5,Z,[new fF(function(){var k=AB.ba(f);return k.aa?k.aa(h,e):k.call(null,h,e)}(),f,
h,e,null,null,null),function(){var k=zg.aa(d,1),m=e+1;if(D.aa("\n",np.ba(f))&&zc(Mv.ba(h)))a:{var n=new X(null,2,5,Z,[" ","\t"],null);n=Af(n)?uk(n):Qf([n]);for(var q=0;;){var u;(u=D.aa(q,M(k)))||(u=af(k,q),u=n.ba?n.ba(u):n.call(null,u),u=zc(u));if(u){n=q;break a}q+=1}}else n=0;k=zg.aa(k,n);return new X(null,2,5,Z,[k,m+n],null)}()],null)}function oG(a,b){return new fF(function(c,d){OD.ea(P([a]));return d},null,new p(null,1,[Xm,a],null),b,null,null,null)}
function pG(a,b){var c=qG(wA.ba(vo.ba(a)),Fu.ba(a),b);b=Q(c,0,null);c=Q(c,1,null);return new X(null,2,5,Z,[new fF(mx.ba(a),vo.ba(a),mk.ea(P([uu.ba(a),VD(b,Fu.ba(a))])),Fu.ba(a),null,null,null),c],null)}
function rG(a,b,c){return TD(function(d){if(zf(d))return $E("No closing bracket found.",b);var e=J(d);d=K(d);if(r(ar.ba(wA.ba(vo.ba(e)))))e=pG(e,d);else if(D.aa(ar.ba(a),np.ba(vo.ba(e))))e=new X(null,2,5,Z,[null,new X(null,4,5,Z,[fs,uu.ba(e),null,d],null)],null);else{var f=st.ba(wA.ba(vo.ba(e)));f=r(f)?Mv.ba(uu.ba(e)):f;e=r(f)?new X(null,2,5,Z,[null,new X(null,4,5,Z,[ou,null,uu.ba(e),d],null)],null):r(st.ba(wA.ba(vo.ba(e))))?new X(null,2,5,Z,[null,new X(null,4,5,Z,[st,null,null,d],null)],null):new X(null,
2,5,Z,[e,d],null)}return e},c)}
function qG(a,b,c){return lf(TD(function(d){var e=Q(d,0,null),f=Q(d,1,null);d=Q(d,2,null);var h=rG(a,b,d);d=Q(h,0,null);var k=Q(h,1,null);h=Q(k,0,null);var m=Q(k,1,null),n=Q(k,2,null);k=Q(k,3,null);return D.aa(h,fs)?new X(null,2,5,Z,[null,new X(null,2,5,Z,[nk.ea(V,P([e,tf([r(f)?ou:lz,new X(null,1,5,Z,[d],null),Tp,m])])),k],null)],null):D.aa(h,ou)?r(ou.ba(e))?$E('Two else clauses ("~:;") inside bracket construction.',b):zc(ou.ba(a))?$E('An else clause ("~:;") is in a bracket type that doesn\'t support it.',b):
D.aa(Vp,ou.ba(a))&&E(lz.ba(e))?$E('The else clause ("~:;") is only allowed in the first position for this directive.',b):D.aa(Vp,ou.ba(a))?new X(null,2,5,Z,[!0,new X(null,3,5,Z,[nk.ea(V,P([e,new p(null,2,[ou,new X(null,1,5,Z,[d],null),zC,n],null)])),!1,k],null)],null):new X(null,2,5,Z,[!0,new X(null,3,5,Z,[nk.ea(V,P([e,new p(null,1,[lz,new X(null,1,5,Z,[d],null)],null)])),!0,k],null)],null):D.aa(h,st)?r(f)?$E('A plain clause (with "~;") follows an else clause ("~:;") inside bracket construction.',
b):zc(Sx.ba(a))?$E('A separator ("~;") is in a bracket type that doesn\'t support it.',b):new X(null,2,5,Z,[!0,new X(null,3,5,Z,[nk.ea(V,P([e,new p(null,1,[lz,new X(null,1,5,Z,[d],null)],null)])),!1,k],null)],null):null},new X(null,3,5,Z,[new p(null,1,[lz,pf],null),!1,c],null)))}function sG(a){return J(TD(function(b){var c=J(b);b=K(b);var d=wA.ba(vo.ba(c));return r(ar.ba(d))?pG(c,b):new X(null,2,5,Z,[c,b],null)},a))}
function VE(a){var b=ZE;ZE=a;try{return sG(J(TD(function(c){var d=Q(c,0,null);c=Q(c,1,null);if(zf(d))return new X(null,2,5,Z,[null,d],null);var e=d.indexOf("~");return 0>e?new X(null,2,5,Z,[oG(d,c),new X(null,2,5,Z,["",c+d.length],null)],null):0===e?nG(zg.aa(d,1),c+1):new X(null,2,5,Z,[oG(zg.ca(d,0,e),c),new X(null,2,5,Z,[zg.aa(d,e),e+c],null)],null)},new X(null,2,5,Z,[a,0],null))))}finally{ZE=b}}
var XE=function XE(a){for(;;){if(zf(a))return!1;var c=Ft.ba($x.ba(vo.ba(J(a))));r(c)||(c=th(XE,J(lz.ba(uu.ba(J(a))))),c=r(c)?c:th(XE,J(ou.ba(uu.ba(J(a))))));if(r(c))return!0;a=K(a)}};function YE(a,b){SD(function(c,d){if(EF(d))return new X(null,2,5,Z,[null,d],null);d=hF(uu.ba(c),d);var e=Q(d,0,null);d=Q(d,1,null);var f=UD(e);e=Q(f,0,null);f=Q(f,1,null);e=R.ca(e,ko,d);return new X(null,2,5,Z,[null,hh(mx.ba(c),new X(null,3,5,Z,[e,d,f],null))],null)},b,a);return null}
var tG=Kl(VE),uG=new p(null,6,[Nw,"'",xy,"#'",zs,"@",Vx,"~",Dn,"@",no,"~"],null);function vG(a){var b=J(a);b=uG.ba?uG.ba(b):uG.call(null,b);return r(r(b)?D.aa(2,M(a)):b)?(Kd(jc,b),LE(lf(a)),!0):null}function wG(a){if(r(RE()))Kd(jc,"#");else{var b=IE,c=JE;IE+=1;JE=0;try{zE("[","]");for(var d=0,e=E(a);;){if(zc(nc)||d<nc){if(e&&(LE(J(e)),K(e))){Kd(jc," ");SE(Dv);a=d+1;var f=K(e);d=a;e=f;continue}}else Kd(jc,"...");break}AE()}finally{JE=c,IE=b}}return null}
(function(){var a=tG("~\x3c[~;~@{~w~^, ~:_~}~;]~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new I(f,0,null)}return c.call(this,e)}function c(d){d=WE(d);return YE(a,d)}b.ma=0;b.pa=function(d){d=E(d);return c(d)};b.ea=c;return b}()})();
function xG(a){var b=Ff(a)?null:function(){var m=new Ae(function(){return nl},Pw,Pj([nn,jm,Wz,Rt,Vn,rB,Em,dn,Tu,Ay,Tv],[!0,pm,rx,"cljs/core.cljs",15,1,10307,10307,Dg(new X(null,1,5,Z,[Cq],null)),"Returns [lifted-ns lifted-map] or nil if m can't be lifted.",r(nl)?nl.jj:null]));return m.ba?m.ba(a):m.call(null,a)}(),c=Q(b,0,null);b=Q(b,1,null);var d=r(b)?b:a,e=r(c)?["#:",t.ba(c),"{"].join(""):"{";if(r(RE()))Kd(jc,"#");else{c=IE;b=JE;IE+=1;JE=0;try{zE(e,"}");e=0;for(var f=E(d);;){if(zc(nc)||e<nc){if(f){if(r(RE()))Kd(jc,
"#");else{d=IE;var h=JE;IE+=1;JE=0;try{zE(null,null),LE(mf(f)),Kd(jc," "),SE(Dv),JE=0,LE(J(K(J(f)))),AE()}finally{JE=h,IE=d}}if(K(f)){Kd(jc,", ");SE(Dv);d=e+1;var k=K(f);e=d;f=k;continue}}}else Kd(jc,"...");break}AE()}finally{JE=b,IE=c}}return null}function yG(a){return Kd(jc,hl.ea(P([a])))}
var zG=function(){var a=tG("~\x3c#{~;~@{~w~^ ~:_~}~;}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new I(f,0,null)}return c.call(this,e)}function c(d){d=WE(d);return YE(a,d)}b.ma=0;b.pa=function(d){d=E(d);return c(d)};b.ea=c;return b}()}(),AG=new p(null,2,["core$future_call","Future","core$promise","Promise"],null);
function BG(a){var b=Ok(/^[^$]+\$[^$]+/,a);b=r(b)?AG.ba?AG.ba(b):AG.call(null,b):null;return r(b)?b:a}var CG=function(){var a=tG("~\x3c\x3c-(~;~@{~w~^ ~_~}~;)-\x3c~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new I(f,0,null)}return c.call(this,e)}function c(d){d=WE(d);return YE(a,d)}b.ma=0;b.pa=function(d){d=E(d);return c(d)};b.ea=c;return b}()}();
function DG(a){return a instanceof Ti?bA:(null!=a?a.ha&32768||l===a.Hg||(a.ha?0:Bc(pd,a)):Bc(pd,a))?WB:a instanceof A?nx:Kf(a)?lB:Ef(a)?Ty:Gf(a)?Jx:Bf(a)?up:null==a?null:bm}var EG,Fb=Dh(W),go=Dh(W),gq=Dh(W),Mq=Dh(W),bu=B.ca(W,Rw,Pl.ja?Pl.ja():Pl.call(null));EG=new am(xe.aa(ba,"simple-dispatch"),DG,bu,Fb,go,gq,Mq);
Zl(EG,lB,function(a){if(zc(vG(a)))if(r(RE()))Kd(jc,"#");else{var b=IE,c=JE;IE+=1;JE=0;try{zE("(",")");for(var d=0,e=E(a);;){if(zc(nc)||d<nc){if(e&&(LE(J(e)),K(e))){Kd(jc," ");SE(Dv);a=d+1;var f=K(e);d=a;e=f;continue}}else Kd(jc,"...");break}AE()}finally{JE=c,IE=b}}return null});Zl(EG,Jx,wG);Zl(EG,Ty,xG);Zl(EG,up,zG);Zl(EG,null,function(){return Kd(jc,hl.ea(P([null])))});Zl(EG,bm,yG);CE=EG;function KG(a){return Gf(a)?new X(null,2,5,Z,["[","]"],null):new X(null,2,5,Z,["(",")"],null)}
function LG(a){if(Cf(a)){var b=KG(a),c=Q(b,0,null),d=Q(b,1,null),e=E(a),f=J(e),h=K(e);if(r(RE()))Kd(jc,"#");else{var k=IE,m=JE,n=IE+1;IE=n;JE=0;try{zE(c,d);(function(){var xa=tG("~w~:i");return function(){function ya(ka){var pa=null;if(0<arguments.length){pa=0;for(var Ca=Array(arguments.length-0);pa<Ca.length;)Ca[pa]=arguments[pa+0],++pa;pa=new I(Ca,0,null)}return Ta.call(this,pa)}function Ta(ka){ka=WE(ka);return YE(xa,ka)}ya.ma=0;ya.pa=function(ka){ka=E(ka);return Ta(ka)};ya.ea=Ta;return ya}()})()(f);
for(var q=h;;)if(E(q)){(function(){var xa=tG(" ");return function(ya,Ta,ka){return function(){function pa(ua){var Ba=null;if(0<arguments.length){Ba=0;for(var Ya=Array(arguments.length-0);Ba<Ya.length;)Ya[Ba]=arguments[Ba+0],++Ba;Ba=new I(Ya,0,null)}return Ca.call(this,Ba)}function Ca(ua){ua=WE(ua);return YE(ka,ua)}pa.ma=0;pa.pa=function(ua){ua=E(ua);return Ca(ua)};pa.ea=Ca;return pa}()}(q," ",xa,k,m,n,0,b,c,d,a,e,f,h,f,h)})()();var u=J(q);if(Cf(u)){var w=KG(u),z=Q(w,0,null),F=Q(w,1,null);if(r(RE()))Kd(jc,
"#");else{var H=IE,G=JE,N=IE+1;IE=N;JE=0;try{zE(z,F);if(D.aa(M(u),3)&&lf(u)instanceof C){var O=u,U=Q(O,0,null),ea=Q(O,1,null),va=Q(O,2,null);(function(){var xa=tG("~w ~w ");return function(ya,Ta,ka){return function(){function pa(ua){var Ba=null;if(0<arguments.length){Ba=0;for(var Ya=Array(arguments.length-0);Ba<Ya.length;)Ya[Ba]=arguments[Ba+0],++Ba;Ba=new I(Ya,0,null)}return Ca.call(this,Ba)}function Ca(ua){ua=WE(ua);return YE(ka,ua)}pa.ma=0;pa.pa=function(ua){ua=E(ua);return Ca(ua)};pa.ea=Ca;return pa}()}(q,
"~w ~w ",xa,O,U,ea,va,H,G,N,0,w,z,F,u,k,m,n,0,b,c,d,a,e,f,h,f,h)})()(U,ea);Cf(va)?function(){var xa=Gf(va)?"~\x3c[~;~@{~w~^ ~:_~}~;]~:\x3e":"~\x3c(~;~@{~w~^ ~:_~}~;)~:\x3e",ya="string"===typeof xa?tG(xa):xa;return function(Ta,ka,pa){return function(){function Ca(Ba){var Ya=null;if(0<arguments.length){Ya=0;for(var bc=Array(arguments.length-0);Ya<bc.length;)bc[Ya]=arguments[Ya+0],++Ya;Ya=new I(bc,0,null)}return ua.call(this,Ya)}function ua(Ba){Ba=WE(Ba);return YE(pa,Ba)}Ca.ma=0;Ca.pa=function(Ba){Ba=
E(Ba);return ua(Ba)};Ca.ea=ua;return Ca}()}(q,xa,ya,O,U,ea,va,H,G,N,0,w,z,F,u,k,m,n,0,b,c,d,a,e,f,h,f,h)}()(va):LE(va)}else hh(function(){var xa=tG("~w ~:i~@{~w~^ ~:_~}");return function(ya,Ta,ka){return function(){function pa(ua){var Ba=null;if(0<arguments.length){Ba=0;for(var Ya=Array(arguments.length-0);Ba<Ya.length;)Ya[Ba]=arguments[Ba+0],++Ba;Ba=new I(Ya,0,null)}return Ca.call(this,Ba)}function Ca(ua){ua=WE(ua);return YE(ka,ua)}pa.ma=0;pa.pa=function(ua){ua=E(ua);return Ca(ua)};pa.ea=Ca;return pa}()}(q,
"~w ~:i~@{~w~^ ~:_~}",xa,H,G,N,0,w,z,F,u,k,m,n,0,b,c,d,a,e,f,h,f,h)}(),u);AE()}finally{JE=G,IE=H}}K(q)&&function(){var xa=tG("~_");return function(ya,Ta,ka){return function(){function pa(ua){var Ba=null;if(0<arguments.length){Ba=0;for(var Ya=Array(arguments.length-0);Ba<Ya.length;)Ya[Ba]=arguments[Ba+0],++Ba;Ba=new I(Ya,0,null)}return Ca.call(this,Ba)}function Ca(ua){ua=WE(ua);return YE(ka,ua)}pa.ma=0;pa.pa=function(ua){ua=E(ua);return Ca(ua)};pa.ea=Ca;return pa}()}(q,"~_",xa,w,z,F,u,k,m,n,0,b,c,
d,a,e,f,h,f,h)}()()}else LE(u),K(q)&&function(){var xa=tG("~:_");return function(ya,Ta,ka){return function(){function pa(ua){var Ba=null;if(0<arguments.length){Ba=0;for(var Ya=Array(arguments.length-0);Ba<Ya.length;)Ya[Ba]=arguments[Ba+0],++Ba;Ba=new I(Ya,0,null)}return Ca.call(this,Ba)}function Ca(ua){ua=WE(ua);return YE(ka,ua)}pa.ma=0;pa.pa=function(ua){ua=E(ua);return Ca(ua)};pa.ea=Ca;return pa}()}(q,"~:_",xa,u,k,m,n,0,b,c,d,a,e,f,h,f,h)}()();q=K(q)}else break;AE()}finally{JE=m,IE=k}}}else LE(a)}
var MG=function(){var a=tG("~:\x3c~w~^ ~@_~w~^ ~_~@{~w~^ ~_~}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new I(f,0,null)}return c.call(this,e)}function c(d){d=WE(d);return YE(a,d)}b.ma=0;b.pa=function(d){d=E(d);return c(d)};b.ea=c;return b}()}();
function NG(a,b){E(a)&&(r(b)?function(){var c=tG(" ~_");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+0],++h;h=new I(k,0,null)}return e.call(this,h)}function e(f){f=WE(f);return YE(c,f)}d.ma=0;d.pa=function(f){f=E(f);return e(f)};d.ea=e;return d}()}()():function(){var c=tG(" ~@_");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+
0],++h;h=new I(k,0,null)}return e.call(this,h)}function e(f){f=WE(f);return YE(c,f)}d.ma=0;d.pa=function(f){f=E(f);return e(f)};d.ea=e;return d}()}()(),function(){var c=tG("~{~w~^ ~_~}");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+0],++h;h=new I(k,0,null)}return e.call(this,h)}function e(f){f=WE(f);return YE(c,f)}d.ma=0;d.pa=function(f){f=E(f);return e(f)};d.ea=e;return d}()}()(a))}
function OG(a){E(a)&&function(){var b=tG(" ~_~{~w~^ ~_~}");return function(){function c(e){var f=null;if(0<arguments.length){f=0;for(var h=Array(arguments.length-0);f<h.length;)h[f]=arguments[f+0],++f;f=new I(h,0,null)}return d.call(this,f)}function d(e){e=WE(e);return YE(b,e)}c.ma=0;c.pa=function(e){e=E(e);return d(e)};c.ea=d;return c}()}()(a)}
function PG(a){if(K(a)){var b=E(a);a=J(b);var c=K(b);b=J(c);c=K(c);var d="string"===typeof J(c)?new X(null,2,5,Z,[J(c),K(c)],null):new X(null,2,5,Z,[null,c],null);c=Q(d,0,null);d=Q(d,1,null);var e=Ef(J(d))?new X(null,2,5,Z,[J(d),K(d)],null):new X(null,2,5,Z,[null,d],null);d=Q(e,0,null);e=Q(e,1,null);if(r(RE()))Kd(jc,"#");else{var f=IE,h=JE;IE+=1;JE=0;try{zE("(",")"),function(){var k=tG("~w ~1I~@_~w");return function(){function m(q){var u=null;if(0<arguments.length){u=0;for(var w=Array(arguments.length-
0);u<w.length;)w[u]=arguments[u+0],++u;u=new I(w,0,null)}return n.call(this,u)}function n(q){q=WE(q);return YE(k,q)}m.ma=0;m.pa=function(q){q=E(q);return n(q)};m.ea=n;return m}()}()(a,b),r(c)&&function(){var k=tG(" ~_~w");return function(){function m(q){var u=null;if(0<arguments.length){u=0;for(var w=Array(arguments.length-0);u<w.length;)w[u]=arguments[u+0],++u;u=new I(w,0,null)}return n.call(this,u)}function n(q){q=WE(q);return YE(k,q)}m.ma=0;m.pa=function(q){q=E(q);return n(q)};m.ea=n;return m}()}()(c),
r(d)&&function(){var k=tG(" ~_~w");return function(){function m(q){var u=null;if(0<arguments.length){u=0;for(var w=Array(arguments.length-0);u<w.length;)w[u]=arguments[u+0],++u;u=new I(w,0,null)}return n.call(this,u)}function n(q){q=WE(q);return YE(k,q)}m.ma=0;m.pa=function(q){q=E(q);return n(q)};m.ea=n;return m}()}()(d),Gf(J(e))?NG(e,r(c)?c:d):OG(e),AE()}finally{JE=h,IE=f}}return null}return QG(a)}
function RG(a){if(r(RE()))Kd(jc,"#");else{var b=IE,c=JE;IE+=1;JE=0;try{zE("[","]");for(var d=0;;){if(zc(nc)||d<nc){if(E(a)){if(r(RE()))Kd(jc,"#");else{var e=IE,f=JE;IE+=1;JE=0;try{zE(null,null),LE(J(a)),K(a)&&(Kd(jc," "),SE(kA),LE(lf(a))),AE()}finally{JE=f,IE=e}}if(K(Ee(a))){Kd(jc," ");SE(Dv);e=d+1;var h=K(Ee(a));d=e;a=h;continue}}}else Kd(jc,"...");break}AE()}finally{JE=c,IE=b}}}
function SG(a){var b=J(a);if(r(RE()))Kd(jc,"#");else{var c=IE,d=JE;IE+=1;JE=0;try{zE("(",")"),K(a)&&Gf(lf(a))?(function(){var e=tG("~w ~1I~@_");return function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new I(n,0,null)}return h.call(this,m)}function h(k){k=WE(k);return YE(e,k)}f.ma=0;f.pa=function(k){k=E(k);return h(k)};f.ea=h;return f}()}()(b),RG(lf(a)),function(){var e=tG(" ~_~{~w~^ ~_~}");return function(){function f(k){var m=
null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new I(n,0,null)}return h.call(this,m)}function h(k){k=WE(k);return YE(e,k)}f.ma=0;f.pa=function(k){k=E(k);return h(k)};f.ea=h;return f}()}()(K(Ee(a)))):QG(a),AE()}finally{JE=d,IE=c}}return null}
var TG=function(){var a=tG("~:\x3c~1I~w~^ ~@_~w~@{ ~_~w~}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new I(f,0,null)}return c.call(this,e)}function c(d){d=WE(d);return YE(a,d)}b.ma=0;b.pa=function(d){d=E(d);return c(d)};b.ea=c;return b}()}(),UG=W;
function QG(a){if(r(RE()))Kd(jc,"#");else{var b=IE,c=JE;IE+=1;JE=0;try{zE("(",")");TE(nu,1);for(var d=0,e=E(a);;){if(zc(nc)||d<nc){if(e&&(LE(J(e)),K(e))){Kd(jc," ");SE(Dv);a=d+1;var f=K(e);d=a;e=f;continue}}else Kd(jc,"...");break}AE()}finally{JE=c,IE=b}}return null}
var VG=function(a){return bi.aa(W,Yh(cg,P([function(){return function d(c){return new Kg(null,function(){for(;;){var e=E(c);if(e){if(Hf(e)){var f=ae(e),h=M(f),k=Og(h);a:for(var m=0;;)if(m<h){var n=x(f,m);n=new X(null,2,5,Z,[n,new X(null,2,5,Z,[xe.ba(Jg(J(n))),lf(n)],null)],null);k.add(n);m+=1}else{f=!0;break a}return f?Qg(Sg(k),d(be(e))):Qg(Sg(k),null)}k=J(e);return gf(new X(null,2,5,Z,[k,new X(null,2,5,Z,[xe.ba(Jg(J(k))),lf(k)],null)],null),d(Ee(e)))}return null}},null,null)}(a)}()])))}(function(a){return bi.aa(W,
Mh.aa(function(b){var c=Q(b,0,null),d=Q(b,1,null);var e=Gg(c);e=r(e)?e:Of(new rk(null,new p(null,24,[bs,"null",qu,"null",um,"null",kw,"null",Km,"null",Do,"null",Kw,"null",Lv,"null",Np,"null",Aw,"null",Ev,"null",Ax,"null",mC,"null",Wp,"null",Vu,"null",en,"null",nq,"null",Or,"null",Hz,"null",xy,"null",Nw,"null",bv,"null",nw,"null",Ys,"null"],null),null),c);return zc(e)?new X(null,2,5,Z,[xe.aa("clojure.core",Jg(c)),d],null):b},a))}(Pj([Hz,en,eq,Aw,TB,At,tC,jv,eA,lv,fy,fo,YA,Ys,mr,Xn,fw,ut,fz,Ax,wo,Ry,
sw,cx,OA,lp,Ou,QB,xz,Au],[MG,function(a){var b=lf(a),c=J(Ee(Ee(a)));if(Gf(b)){a=UG;UG=D.aa(1,M(b))?tf([J(b),"%"]):bi.aa(W,Mh.ca(function(d,e){return new X(null,2,5,Z,[d,["%",t.ba(e)].join("")],null)},b,Gk.aa(1,M(b)+1)));try{return function(){var d=tG("~\x3c#(~;~@{~w~^ ~_~}~;)~:\x3e");return function(){function e(h){var k=null;if(0<arguments.length){k=0;for(var m=Array(arguments.length-0);k<m.length;)m[k]=arguments[k+0],++k;k=new I(m,0,null)}return f.call(this,k)}function f(h){h=WE(h);return YE(d,
h)}e.ma=0;e.pa=function(h){h=E(h);return f(h)};e.ea=f;return e}()}()(c)}finally{UG=a}}else return QG(a)},SG,TG,function(a){if(3<M(a)){if(r(RE()))Kd(jc,"#");else{var b=IE,c=JE;IE+=1;JE=0;try{zE("(",")");TE(nu,1);hh(function(){var k=tG("~w ~@_~w ~@_~w ~_");return function(){function m(q){var u=null;if(0<arguments.length){u=0;for(var w=Array(arguments.length-0);u<w.length;)w[u]=arguments[u+0],++u;u=new I(w,0,null)}return n.call(this,u)}function n(q){q=WE(q);return YE(k,q)}m.ma=0;m.pa=function(q){q=E(q);
return n(q)};m.ea=n;return m}()}(),a);for(var d=0,e=E(Oh(3,a));;){if(zc(nc)||d<nc){if(e){if(r(RE()))Kd(jc,"#");else{a=IE;var f=JE;IE+=1;JE=0;try{zE(null,null),LE(J(e)),K(e)&&(Kd(jc," "),SE(kA),LE(lf(e))),AE()}finally{JE=f,IE=a}}if(K(Ee(e))){Kd(jc," ");SE(Dv);a=d+1;var h=K(Ee(e));d=a;e=h;continue}}}else Kd(jc,"...");break}AE()}finally{JE=c,IE=b}}return null}return QG(a)},MG,PG,PG,SG,MG,SG,TG,TG,MG,TG,SG,SG,MG,SG,function(a){if(K(a)){var b=E(a);a=J(b);var c=K(b);b=J(c);c=K(c);var d="string"===typeof J(c)?
new X(null,2,5,Z,[J(c),K(c)],null):new X(null,2,5,Z,[null,c],null);c=Q(d,0,null);d=Q(d,1,null);d=Ef(J(d))?new X(null,2,5,Z,[J(d),K(d)],null):new X(null,2,5,Z,[null,d],null);var e=Q(d,0,null),f=Q(d,1,null);if(r(RE()))Kd(jc,"#");else{d=IE;var h=JE;IE+=1;JE=0;try{zE("(",")");(function(){var m=tG("~w ~1I~@_~w");return function(){function n(u){var w=null;if(0<arguments.length){w=0;for(var z=Array(arguments.length-0);w<z.length;)z[w]=arguments[w+0],++w;w=new I(z,0,null)}return q.call(this,w)}function q(u){u=
WE(u);return YE(m,u)}n.ma=0;n.pa=function(u){u=E(u);return q(u)};n.ea=q;return n}()})()(a,b);r(r(c)?c:r(e)?e:E(f))&&function(){var m=tG("~@:_");return function(){function n(u){var w=null;if(0<arguments.length){w=0;for(var z=Array(arguments.length-0);w<z.length;)z[w]=arguments[w+0],++w;w=new I(z,0,null)}return q.call(this,w)}function q(u){u=WE(u);return YE(m,u)}n.ma=0;n.pa=function(u){u=E(u);return q(u)};n.ea=q;return n}()}()();r(c)&&UE(!0,'"~a"~:[~;~:@_~]',P([c,r(e)?e:E(f)]));r(e)&&function(){var m=
tG("~w~:[~;~:@_~]");return function(){function n(u){var w=null;if(0<arguments.length){w=0;for(var z=Array(arguments.length-0);w<z.length;)z[w]=arguments[w+0],++w;w=new I(z,0,null)}return q.call(this,w)}function q(u){u=WE(u);return YE(m,u)}n.ma=0;n.pa=function(u){u=E(u);return q(u)};n.ea=q;return n}()}()(e,E(f));for(a=f;;){LG(J(a));var k=K(a);if(k)b=k,SE(Dv),a=b;else break}AE()}finally{JE=h,IE=d}}return null}return LE(a)},SG,function(a){if(r(RE()))Kd(jc,"#");else{var b=IE,c=JE;IE+=1;JE=0;try{zE("(",
")");TE(nu,1);LE(J(a));if(K(a)){Kd(jc," ");SE(Dv);for(var d=0,e=K(a);;){if(zc(nc)||d<nc){if(e){if(r(RE()))Kd(jc,"#");else{a=IE;var f=JE;IE+=1;JE=0;try{zE(null,null),LE(J(e)),K(e)&&(Kd(jc," "),SE(kA),LE(lf(e))),AE()}finally{JE=f,IE=a}}if(K(Ee(e))){Kd(jc," ");SE(Dv);a=d+1;var h=K(Ee(e));d=a;e=h;continue}}}else Kd(jc,"...");break}}AE()}finally{JE=c,IE=b}}return null},SG,PG,PG,MG,MG,SG,SG,MG]))),WG,wv=Dh(W),Ov=Dh(W),Xv=Dh(W),$v=Dh(W),ex=B.ca(W,Rw,Pl.ja?Pl.ja():Pl.call(null));
WG=new am(xe.aa(ba,"code-dispatch"),DG,ex,wv,Ov,Xv,$v);Zl(WG,lB,function(a){if(zc(vG(a))){var b=VG.call(null,J(a));return r(b)?b.ba?b.ba(a):b.call(null,a):QG(a)}return null});Zl(WG,nx,function(a){var b=a.ba?a.ba(UG):a.call(null,UG);return r(b)?OD.ea(P([b])):r(FE)?OD.ea(P([Jg(a)])):PD.call(null,a)});Zl(WG,Jx,wG);Zl(WG,Ty,xG);Zl(WG,up,zG);Zl(WG,bA,CG);
Zl(WG,WB,function(a){var b=["#\x3c",t.ba(BG(Cc(a).name)),"@",t.ba(wa(a)),": "].join("");if(r(RE()))Kd(jc,"#");else{var c=IE,d=JE;IE+=1;JE=0;try{zE(b,"\x3e"),TE(nu,-(b.length-2)),SE(Dv),LE((null!=a?a.na&1||l===a.fj||(a.na?0:Bc(Od,a)):Bc(Od,a))&&!Pd(a)?eo:y(a)),AE()}finally{JE=d,IE=c}}return null});Zl(WG,null,PD);Zl(WG,bm,yG);CE=EG;var bH=/[\s]/;function cH(a){return null==a?null:","===a?!0:bH.test(a)}function dH(a){return null==a?null:!/[^0-9]/.test(a)}
function eH(a,b){return function e(d){return new Kg(null,function(){for(;;){var f=E(d);if(f){if(Hf(f)){var h=ae(f),k=M(h),m=Og(k);return function(){for(var q=0;;)if(q<k){var u=x(h,q),w=m;if(u instanceof A||u instanceof C){var z=Lk(Gg,Jg)(u),F=Q(z,0,null);z=Q(z,1,null);var H=u instanceof A?xe:Ig;u=null==F?H.aa?H.aa(a,z):H.call(null,a,z):D.aa("_",F)?H.ba?H.ba(z):H.call(null,z):u}w.add(u);q+=1}else return!0}()?Qg(Sg(m),e(be(f))):Qg(Sg(m),null)}var n=J(f);return gf(n instanceof A||n instanceof C?function(){var q=
Lk(Gg,Jg)(n),u=Q(q,0,null);q=Q(q,1,null);var w=n instanceof A?xe:Ig;return null==u?w.aa?w.aa(a,q):w.call(null,a,q):D.aa("_",u)?w.ba?w.ba(q):w.call(null,q):n}():n,e(Ee(f)))}return null}},null,null)}(b)}function fH(a,b){a=parseInt(a,b);return r(isNaN(a))?-1:a};function gH(a){if(null!=a&&null!=a.Nd)a=a.Nd(a);else{var b=gH[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=gH._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("Reader.read-char",a);}return a}function hH(a){if(null!=a&&null!=a.ye)a=a.ye(a);else{var b=hH[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=hH._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("Reader.peek-char",a);}return a}
function iH(a,b){if(null!=a&&null!=a.Mg)a.Mg(a,b);else{var c=iH[oa(null==a?null:a)];if(null!=c)c.aa?c.aa(a,b):c.call(null,a,b);else if(c=iH._,null!=c)c.aa?c.aa(a,b):c.call(null,a,b);else throw Dc("IPushbackReader.unread",a);}}function jH(a){if(null!=a&&null!=a.Kh)a=a.Kh(a);else{var b=jH[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=jH._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("IndexingReader.get-line-number",a);}return a}
function kH(a){if(null!=a&&null!=a.Ih)a=a.Ih(a);else{var b=kH[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=kH._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("IndexingReader.get-column-number",a);}return a}function lH(a){if(null!=a&&null!=a.Jh)a=a.Jh(a);else{var b=lH[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=lH._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("IndexingReader.get-file-name",a);}return a}
function mH(a,b){this.s=a;this.ph=b;this.ee=0}mH.prototype.Nd=function(){if(this.ph>this.ee){var a=this.s.charAt(this.ee);this.ee+=1;return a}return null};mH.prototype.ye=function(){return this.ph>this.ee?this.s.charAt(this.ee):null};function nH(a,b){this.ih=a;this.buf=b;this.Oc=this.Af=1}nH.prototype.Nd=function(){var a=this.Oc<this.Af?this.buf[this.Oc]:this.ih.Nd(null);this.Oc<this.Af&&(this.Oc+=1);return null==a?null:sg(a)};
nH.prototype.ye=function(){var a=this.Oc<this.Af?this.buf[this.Oc]:this.ih.ye(null);return null==a?null:sg(a)};nH.prototype.Mg=function(a,b){if(r(b)){if(0===this.Oc)throw Error("Pushback buffer is full");--this.Oc;return this.buf[this.Oc]=b}return null};function oH(a){return null!=a?l===a.kj?!0:!1:!1};function pH(a,b,c,d){var e=M(b);a=r(a)?0:10<e?10:e;b=Mh.aa(yh.aa(qH,!0),Nh.aa(a,b));b=hh(t,Oh(1,Wh.aa(Sh(" "),b)));e=a<e?"...":null;return[t.ba(c),t.ba(b),e,t.ba(d)].join("")}var qH,kx=Dh(W),Tx=Dh(W),oy=Dh(W),FG=Dh(W),GG=B.ca(W,Rw,Pl.ja?Pl.ja():Pl.call(null));
qH=new am(xe.aa("cljs.tools.reader.impl.inspect","inspect*"),function(a,b){return null==b?Es:"string"===typeof b?Xm:b instanceof C?gx:"number"===typeof b?gx:b instanceof A?gx:Gf(b)?Jx:Ag(b)?lB:Ef(b)?Ty:Bf(b)?up:D.aa(b,!0)?gx:D.aa(b,!1)?gx:Cc(b)},GG,kx,Tx,oy,FG);qH.ub(null,Xm,function(a,b){a=r(a)?5:20;var c=b.length>a?'..."':'"',d=b.length;return['"',t.ba(b.substring(0,a<d?a:d)),c].join("")});qH.ub(null,gx,function(a,b){return t.ba(b)});qH.ub(null,I,function(){return"\x3cindexed seq\x3e"});
qH.ub(null,bj,function(){return"\x3cmap seq\x3e"});qH.ub(null,Ij,function(){return"\x3cmap seq\x3e"});qH.ub(null,Eg,function(){return"\x3ccons\x3e"});qH.ub(null,Kg,function(){return"\x3clazy seq\x3e"});qH.ub(null,Es,function(){return"nil"});qH.ub(null,lB,function(a,b){return pH(a,b,"(",")")});qH.ub(null,Ty,function(a,b){var c=M(b),d=r(a)?0:c;b=hh(V,Nh.aa(d,b));return pH(a,b,"{",c>d?"...}":"}")});qH.ub(null,up,function(a,b){return pH(a,b,"#{","}")});qH.ub(null,Jx,function(a,b){return pH(a,b,"[","]")});
qH.ub(null,bm,function(a,b){return hl.ea(P([Cc(b)]))});function wH(a,b,c){b=new p(null,2,[qq,Ns,cs,b],null);a=oH(a)?R.ea(b,Rt,lH(a),P([Em,jH(a),Dr,kH(a)])):b;var d=Rt.ba(a);b=Em.ba(a);var e=Dr.ba(a);d=r(d)?[t.ba(d)," "].join(""):null;b=r(b)?["[line ",t.ba(b),", col ",t.ba(e),"]"].join(""):null;c=kh(t,d,b,r(r(d)?d:b)?" ":null,c);throw gm(c,a);}function xH(a,b){return wH(a,zq,P([hh(t,b)]))}function yH(a,b){return wH(a,To,P([hh(t,b)]))}function zH(a,b){return wH(a,ay,P([hh(t,b)]))}
function AH(a,b,c,d){xH(a,P(["The map literal starting with ",qH.aa(!1,J(d)),r(b)?[" on line ",t.ba(b)," column ",t.ba(c)].join(""):null," contains ",M(d)," form(s). Map literals must contain an even number of forms."]))}function BH(a,b,c){return xH(a,P(["Invalid ",Jg(b),": ",c,"."]))}function CH(a,b,c){return xH(a,P(["Invalid character: ",c," found while reading ",Jg(b),"."]))}
function DH(a,b){a:{var c=Xm instanceof C?Xm.Ba:null;switch(c){case "regex":c='#"';break a;case "string":c='"';break a;default:throw Error(["No matching clause: ",t.ba(c)].join(""));}}return zH(a,P(["Unexpected EOF reading ",Jg(Xm)," starting ",ih(t,c,b),"."]))}function EH(a,b){return yH(a,P(["Invalid digit ",b," in unicode character."]))}function FH(a){return xH(a,P(["Octal escape sequence must be in range [0, 377]."]))}
function GH(a,b){b=function(c){return function f(e){return new Kg(null,function(){for(var h=e;;)if(h=E(h)){if(Hf(h)){var k=ae(h),m=M(k),n=Og(m);a:for(var q=0;;)if(q<m){var u=x(k,q),w=Q(u,0,null);1<Q(u,1,null)&&n.add(w);q+=1}else{k=!0;break a}return k?Qg(Sg(n),f(be(h))):Qg(Sg(n),null)}n=J(h);k=Q(n,0,null);if(1<Q(n,1,null))return gf(k,f(Ee(h)));h=Ee(h)}else return null},null,null)}(Kk(c))}(b);return kh(t,a,1<M(b)?"s":null,": ",Oh(1,Wh.aa(Sh(", "),b)))}
function HH(a,b,c){xH(a,P([GH([Ob(Jg(b))," literal contains duplicate key"].join(""),c)]))};function IH(a){for(var b=a.Nd(null);;)if(cH.ba?cH.ba(b):cH.call(null,b))b=a.Nd(null);else return b}var JH=/^([-+]?)(?:(0)|([1-9][0-9]*)|0[xX]([0-9A-Fa-f]+)|0([0-7]+)|([1-9][0-9]?)[rR]([0-9A-Za-z]+)|0[0-9]+)(N)?$/,KH=/([-+]?[0-9]+)\/([0-9]+)/,LH=/([-+]?[0-9]+(\.[0-9]*)?([eE][-+]?[0-9]+)?)(M)?/;function MH(a,b){a=Ok(a,b);return Q(a,0,null)===b}
function NH(a){if(MH(JH,a)){var b=Zf(Ok(JH,a));if(null!=(b.ba?b.ba(2):b.call(null,2)))a=0;else{a="-"===(b.ba?b.ba(1):b.call(null,1));b=null!=(b.ba?b.ba(3):b.call(null,3))?new X(null,2,5,Z,[b.ba?b.ba(3):b.call(null,3),10],null):null!=(b.ba?b.ba(4):b.call(null,4))?new X(null,2,5,Z,[b.ba?b.ba(4):b.call(null,4),16],null):null!=(b.ba?b.ba(5):b.call(null,5))?new X(null,2,5,Z,[b.ba?b.ba(5):b.call(null,5),8],null):null!=(b.ba?b.ba(7):b.call(null,7))?new X(null,2,5,Z,[b.ba?b.ba(7):b.call(null,7),parseInt(b.ba?
b.ba(6):b.call(null,6))],null):new X(null,2,5,Z,[null,null],null);var c=b.ba?b.ba(0):b.call(null,0);null==c?a=null:(b=parseInt(c,b.ba?b.ba(1):b.call(null,1)),a=a?-1*b:b,a=r(isNaN(a))?null:a)}}else MH(LH,a)?(b=Zf(Ok(LH,a)),a=null!=(b.ba?b.ba(4):b.call(null,4))?parseFloat(b.ba?b.ba(1):b.call(null,1)):parseFloat(a)):MH(KH,a)?(b=Zf(Ok(KH,a)),a=b.ba?b.ba(1):b.call(null,1),b=b.ba?b.ba(2):b.call(null,2),a=r(Ok(/^\+/,a))?zg.aa(a,1):a,a=parseInt(a)/parseInt(b)):a=null;return a}
function OH(a){if(""===a||!0===/:$/.test(a)||!0===/^::/.test(a))return null;var b=a.indexOf("/"),c=0<b?zg.ca(a,0,b):null;if(null!=c){b+=1;if(b===M(a))return null;a=zg.aa(a,b);return dH(af(a,0))||""===a||!1!==/:$/.test(c)||"/"!==a&&-1!==a.indexOf("/")?null:new X(null,2,5,Z,[c,a],null)}return"/"===a||-1===a.indexOf("/")?new X(null,2,5,Z,[null,a],null):null}
var PH=function PH(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new I(c.slice(1),0,null):null;return PH.ea(arguments[0],c)};PH.ea=function(a){for(;;){var b=a.Nd(null);if("\n"===b||"\n"===b||null==b)break}return a};PH.ma=1;PH.pa=function(a){var b=J(a);a=K(a);return this.ea(b,a)};
function QH(){return function(){function a(c,d){var e=null;if(1<arguments.length){e=0;for(var f=Array(arguments.length-1);e<f.length;)f[e]=arguments[e+1],++e;e=new I(f,0,null)}return b.call(this,c,e)}function b(c){return xH(c,P(["Unreadable form"]))}a.ma=1;a.pa=function(c){var d=J(c);c=Ee(c);return b(d,c)};a.ea=b;return a}()};new ec;function RH(a){return"#"!==a?"'"!==a?":"!==a?XH.ba?XH.ba(a):XH.call(null,a):!1:!1:!1}function YH(a){return"@"===a||"`"===a||"~"===a}function ZH(a,b,c,d){if(zc(c))return zH(a,P(["Unexpected EOF while reading start of ",Jg(b),"."]));if(r(r(d)?YH(c):d))return CH(a,b,c);d=new ec;for(iH(a,c);;){if(cH(c)||RH(c)||null==c)return t.ba(d);if(YH(c))return CH(a,b,c);d.append(gH(a));c=hH(a)}}
function $H(a,b,c){b=gH(a);if(r(b)){var d=aI.ba?aI.ba(b):aI.call(null,b);if(r(d))return d.ca?d.ca(a,b,c):d.call(null,a,b,c);iH(a,b);return bI.ca?bI.ca(a,b,c):bI.call(null,a,b,c)}return zH(a,P(["Unexpected EOF while reading dispatch character."]))}function cI(a,b){return xH(a,P(["Unmatched delimiter ",b,"."]))}
function dI(a,b,c){b=1+b;if(M(a)!==b)throw yH(null,P(["Invalid unicode literal: \\",a,"."]));for(var d=1,e=0;;){if(d===b)return String.fromCharCode(e);var f=fH(af(a,d),c);if(-1===f)return c=af(a,d),yH(null,P(["Invalid digit ",c," in unicode character \\",a,"."]));e=f+e*c;d+=1}}
function eI(a,b,c,d,e){for(var f=1,h=fH(b,c);;){if(-1===h)return EH(a,b);if(f!==d){var k=hH(a);var m=cH(k);m||(m=XH.ba?XH.ba(k):XH.call(null,k),m=r(m)?m:null==k);if(r(m))return r(e)?yH(a,P(["Invalid unicode literal. Unicode literals should be ",d,"characters long.  ","value suppled is ",f,"characters long."])):String.fromCharCode(h);m=fH(k,c);gH(a);if(-1===m)return EH(a,k);h=m+h*c;f+=1}else return String.fromCharCode(h)}}
function fI(a){var b=gH(a);if(null!=b){b=RH(b)||YH(b)||cH(b)?t.ba(b):ZH(a,Ew,b,!1);var c=b.length;if(1===c)return af(b,0);if("newline"===b)return"\n";if("space"===b)return" ";if("tab"===b)return"\t";if("backspace"===b)return"\b";if("formfeed"===b)return"\f";if("return"===b)return"\r";if(r(0==b.lastIndexOf("u",0)))return b=dI(b,4,16),c=b.charCodeAt(),55295<c&&57344>c?(b=c.toString(16),a=xH(a,P(["Invalid character literal \\u",b,"."]))):a=b,a;if(r(0==b.lastIndexOf("o",0))){--c;if(3<c)return xH(a,P(["Invalid octal escape sequence in a character literal:",
b,". Octal escape sequences must be 3 or fewer digits."]));b=dI(b,c,8);return 255<(b|0)?FH(a):b}return xH(a,P(["Unsupported character: ",b,"."]))}return zH(a,P(["Unexpected EOF while reading character."]))}function gI(a){return oH(a)?new X(null,2,5,Z,[jH(a),(kH(a)|0)-1|0],null):null}
function hI(a,b,c,d){var e=gI(c),f=Q(e,0,null);e=Q(e,1,null);b=null==b?null:sg(b);for(var h=Sd(pf);;){var k=IH(c);if(!r(k)){var m=a,n=f,q=e,u=M(h);zH(c,P(["Unexpected EOF while reading ",r(u)?["item ",t.ba(u)," of "].join(""):null,Jg(m),r(n)?[", starting at line ",t.ba(n)," and column ",t.ba(q)].join(""):null,"."]))}if(D.aa(b,null==k?null:sg(k)))return Ud(h);m=XH.ba?XH.ba(k):XH.call(null,k);r(m)?(k=m.ca?m.ca(c,k,d):m.call(null,c,k,d),h=k!==c?Zg.aa(h,k):h):(iH(c,k),k=iI?iI(c,!0,null,d):jI.call(null,
c,!0,null,d),h=k!==c?Zg.aa(h,k):h)}}function kI(a,b,c){a=hI(lB,")",a,c);return zf(a)?Fe:hh(Dg,a)}function lI(a,b,c){return hI(Jx,"]",a,c)}function mI(a,b,c){var d=gI(a);b=Q(d,0,null);d=Q(d,1,null);c=hI(Ty,"}",a,c);var e=M(c),f=Hk(2,c),h=uk(f);!uh(e)&&AH(a,b,d,c);D.aa(M(h),M(f))||HH(a,Ty,f);if(e<=2*gj)a=Vf(c),a=new p(null,a.length/2,a,null);else a:for(a=Vf(c),b=a.length,d=0,e=Sd(hj);;)if(d<b)c=d+2,e=Wd(e,a[d],a[d+1]),d=c;else{a=Ud(e);break a}return a}
function nI(a,b){for(var c=function(){var h=new ec;h.append(b);return h}(),d=gH(a);;){if(r(function(){var h=cH(d);if(h)return h;h=XH.ba?XH.ba(d):XH.call(null,d);return r(h)?h:null==d}())){var e=t.ba(c);iH(a,d);var f=NH(e);return r(f)?f:xH(a,P(["Invalid number: ",e,"."]))}e=function(){var h=c;h.append(d);return h}();f=gH(a);c=e;d=f}}
function oI(a){var b=gH(a);switch(b){case "t":return"\t";case "r":return"\r";case "n":return"\n";case "\\":return"\\";case '"':return'"';case "b":return"\b";case "f":return"\f";case "u":return b=gH(a),-1===parseInt(b|0,16)?xH(a,P(["Invalid unicode escape: \\u",b,"."])):eI(a,b,16,4,!0);default:return dH(b)?(b=eI(a,b,8,3,!1),255<(b|0)?FH(a):b):xH(a,P(["Unsupported escape character: \\",b,"."]))}}
function pI(a){for(var b=new ec,c=gH(a);;){var d=c;if(D.aa(null,d))return DH(a,P(['"',b]));if(D.aa("\\",d)){d=function(){var f=b;f.append(oI(a));return f}();var e=gH(a);b=d;c=e}else{if(D.aa('"',d))return t.ba(b);d=function(){var f=b;f.append(c);return f}();e=gH(a);b=d;c=e}}}
function qI(a,b){b=ZH(a,nx,b,!0);if(r(b))switch(b){case "nil":return null;case "true":return!0;case "false":return!1;case "/":return Fo;default:var c=OH(b);c=r(c)?xe.aa(c.ba?c.ba(0):c.call(null,0),c.ba?c.ba(1):c.call(null,1)):null;return r(c)?c:BH(a,nx,b)}else return null}
function rI(a){var b=gH(a);if(cH(b))return xH(a,P(["A single colon is not a valid keyword."]));b=ZH(a,AC,b,!0);var c=OH(b);if(r(r(c)?-1===b.indexOf("::"):c)){var d=c.ba?c.ba(0):c.call(null,0);c=c.ba?c.ba(1):c.call(null,1);return":"===af(b,0)?BH(a,AC,b):Ig.aa(d,c)}return BH(a,AC,b)}
function sI(a,b,c){b=iI?iI(a,!0,null,c):jI.call(null,a,!0,null,c);b=b instanceof C?tf([b,!0]):b instanceof A?new p(null,1,[Bv,b],null):"string"===typeof b?new p(null,1,[Bv,b],null):b;Ef(b)||xH(a,P(["Metadata cannot be ",qH.aa(!1,b),". Metadata must be a Symbol, Keyword, String or Map."]));c=iI?iI(a,!0,null,c):jI.call(null,a,!0,null,c);return null!=c&&(c.ha&131072||l===c.pe)?wf(c,mk.ea(P([xf(c),b]))):xH(a,P(["Metadata can not be applied to ",qH.aa(!1,c),". ","Metadata can only be applied to IMetas."]))}
function tI(a,b,c){b=hI(up,"}",a,c);c=uk(b);D.aa(M(b),M(c))||HH(a,up,b);return c}function uI(a){iI?iI(a,!0,null,!0):jI.call(null,a,!0,null,!0);return a}
function vI(a,b,c){b=gH(a);b=ZH(a,qv,b,!0);var d=null==b?null:OH(b);if(null==d)var e=null;else e=Q(d,0,null),d=Q(d,1,null),e=r(e)?null:d;return r(e)?"{"===IH(a)?(c=hI(qv,"}",a,c),!uh(M(c))&&AH(a,null,null,c),b=eH(t.ba(e),Hk(2,c)),c=Hk(2,Ee(c)),D.aa(M(uk(b)),M(b))||HH(a,qv,b),xk(b,c)):xH(a,P(["Namespaced map with namespace ",b," does not specify a map."])):xH(a,P(["Invalid value used as namespace in namespaced map: ",b,"."]))}
function wI(a,b,c){b=iI?iI(a,!0,null,c):jI.call(null,a,!0,null,c);return D.aa(pC,b)?Number.NaN:D.aa(qs,b)?Number.NEGATIVE_INFINITY:D.aa(yA,b)?Number.POSITIVE_INFINITY:xH(a,P([["Invalid token: ##",t.ba(b)].join("")]))}function XH(a){switch(a){case '"':return pI;case ":":return rI;case ";":return PH;case "^":return sI;case "(":return kI;case ")":return cI;case "[":return lI;case "]":return cI;case "{":return mI;case "}":return cI;case "\\":return fI;case "#":return $H;default:return null}}
function aI(a){switch(a){case "^":return sI;case "{":return tI;case "\x3c":return QH();case "!":return PH;case "_":return uI;case ":":return vI;case "#":return wI;default:return null}}
function bI(a,b,c){b=iI?iI(a,!0,null,c):jI.call(null,a,!0,null,c);var d=iI?iI(a,!0,null,c):jI.call(null,a,!0,null,c);b instanceof A||xH(a,P(["Invalid reader tag: ",qH.aa(!1,"Reader tag must be a symbol"),". Reader tags must be symbols."]));var e=B.aa(Dm.ba(c),b);e=r(e)?e:W.ba?W.ba(b):W.call(null,b);if(r(e))return e.ba?e.ba(d):e.call(null,d);c=bm.ba(c);return r(c)?c.aa?c.aa(b,d):c.call(null,b,d):xH(a,P(["No reader function for tag ",qH.aa(!1,b),"."]))}
function jI(a){switch(arguments.length){case 1:return xI(W,arguments[0]);case 2:return xI(arguments[0],arguments[1]);case 4:return iI(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",t.ba(arguments.length)].join(""));}}function xI(a,b){a=null!=a&&(a.ha&64||l===a.Ea)?hh(ik,a):a;var c=B.aa(a,ay),d=!Of(a,ay);return iI(b,d,c,a)}
function iI(a,b,c,d){try{for(;;){var e=gH(a);if(!cH(e)){if(null==e){if(r(b)){b=a;var f=r(null)?zH(b,P(["EOF while reading, starting at line ",null,"."])):zH(b,P(["EOF while reading."]))}else f=c;return f}if(dH(e)||("+"===e||"-"===e)&&dH(a.ye(null)))return nI(a,e);var h=XH(e);if(r(h)){var k=h.ca?h.ca(a,e,d):h.call(null,a,e,d);if(k!==a)return k}else return qI(a,e)}}}catch(m){if(m instanceof Error){f=m;if(f instanceof fm){b=f instanceof fm?f.data:null;if(D.aa(Ns,qq.ba(b)))throw f;a=mk.ea(P([new p(null,
1,[qq,Ns],null),b,oH(a)?new p(null,3,[Em,jH(a),rB,kH(a),Rt,lH(a)],null):null]));throw new fm(f.message,a,f);}a=mk.ea(P([new p(null,1,[qq,Ns],null),oH(a)?new p(null,3,[Em,jH(a),rB,kH(a),Rt,lH(a)],null):null]));throw new fm(f.message,a,f);}throw m;}}function yI(a,b){if(r(r(b)?mh.aa(b,""):b)){b=new mH(b,M(b));a:{var c=Array(1);if(Kf(null))for(var d=0,e=E(null);;)if(e&&1>d)c[d]=J(e),d+=1,e=K(e);else break a;else for(d=0;;)if(1>d)c[d]=null,d+=1;else break}a=xI(a,new nH(b,c))}else a=null;return a};var zI=function(){var a=new X(null,13,5,Z,[null,31,28,31,30,31,30,31,31,30,31,30,31],null),b=new X(null,13,5,Z,[null,31,29,31,30,31,30,31,31,30,31,30,31],null);return function(c,d){return B.aa(r(d)?b:a,c)}}(),AI=/(\d\d\d\d)(?:-(\d\d)(?:-(\d\d)(?:[T](\d\d)(?::(\d\d)(?::(\d\d)(?:[.](\d+))?)?)?)?)?)?(?:[Z]|([-+])(\d\d):(\d\d))?/;function BI(a){a=parseInt(a,10);return zc(isNaN(a))?a:null}
function CI(a,b,c,d){if(!(a<=b&&b<=c))throw Error([t.ba(d)," Failed:  ",t.ba(a),"\x3c\x3d",t.ba(b),"\x3c\x3d",t.ba(c)].join(""));return b}
function DI(a){var b=Nk(AI,a);Q(b,0,null);var c=Q(b,1,null),d=Q(b,2,null),e=Q(b,3,null),f=Q(b,4,null),h=Q(b,5,null),k=Q(b,6,null),m=Q(b,7,null),n=Q(b,8,null),q=Q(b,9,null),u=Q(b,10,null);if(zc(b))throw Error(["Unrecognized date/time syntax: ",t.ba(a)].join(""));a=BI(c);b=function(){var G=BI(d);return r(G)?G:1}();c=function(){var G=BI(e);return r(G)?G:1}();var w=function(){var G=BI(f);return r(G)?G:0}(),z=function(){var G=BI(h);return r(G)?G:0}(),F=function(){var G=BI(k);return r(G)?G:0}(),H=function(){a:if(D.aa(3,
M(m)))var G=m;else if(3<M(m))G=zg.ca(m,0,3);else for(G=new ec(m);;)if(3>G.getLength())G=G.append("0");else{G=G.toString();break a}G=BI(G);return r(G)?G:0}();n=(D.aa(n,"-")?-1:1)*(60*function(){var G=BI(q);return r(G)?G:0}()+function(){var G=BI(u);return r(G)?G:0}());return new X(null,8,5,Z,[a,CI(1,b,12,"timestamp month field must be in range 1..12"),CI(1,c,zI(b,0===ug(a,4)&&(0!==ug(a,100)||0===ug(a,400))),"timestamp day field must be in range 1..last day in month"),CI(0,w,23,"timestamp hour field must be in range 0..23"),
CI(0,z,59,"timestamp minute field must be in range 0..59"),CI(0,F,D.aa(z,59)?60:59,"timestamp second field must be in range 0..60"),CI(0,H,999,"timestamp millisecond field must be in range 0..999"),n],null)}
var EI=Dh(null),FI=Dh(mk.ea(P([new p(null,4,[Mz,function(a){if("string"===typeof a){var b=DI(a);if(r(b)){a=Q(b,0,null);var c=Q(b,1,null),d=Q(b,2,null),e=Q(b,3,null),f=Q(b,4,null),h=Q(b,5,null),k=Q(b,6,null);b=Q(b,7,null);b=new Date(Date.UTC(a,c-1,d,e,f,h,k)-6E4*b)}else throw Error(["Unrecognized date/time syntax: ",t.ba(a)].join(""));return b}throw Error("Instance literal expects a string for its timestamp.");},iu,function(a){if("string"===typeof a)return new dm(a.toLowerCase());throw Error("UUID literal expects a string as its representation.");
},mu,function(a){if(Gf(a))return bi.aa(Ui,a);throw Error("Queue literal expects a vector for its elements.");},dy,function(a){if(Gf(a)){var b=[];a=E(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.La(null,e);b.push(f);e+=1}else if(a=E(a))c=a,Hf(c)?(a=ae(c),e=be(c),c=a,d=M(a),a=e):(a=J(c),b.push(a),a=K(c),c=null,d=0),e=0;else break;return b}if(Ef(a)){b={};a=E(a);c=null;for(e=d=0;;)if(e<d){var h=c.La(null,e);f=Q(h,0,null);h=Q(h,1,null);f=Jg(f);b[f]=h;e+=1}else if(a=E(a))Hf(a)?(d=ae(a),a=be(a),c=d,d=M(d)):
(d=J(a),c=Q(d,0,null),d=Q(d,1,null),c=Jg(c),b[c]=d,a=K(a),c=null,d=0),e=0;else break;return b}throw Error("JS literal expects a vector or map containing only string or unqualified keyword keys");}],null),W])));function GI(a,b){var c=ih(yk,a,b);return gf(c,ai(function(d){return c===d},b))}function HI(a,b){return M(a)<M(b)?v.ca(of,b,a):v.ca(of,a,b)}var II=function II(a){switch(arguments.length){case 1:return II.ba(arguments[0]);case 2:return II.aa(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return II.ea(arguments[0],arguments[1],c)}};II.ba=function(a){return a};
II.aa=function(a,b){for(;;)if(M(b)<M(a)){var c=a;a=b;b=c}else return v.ca(function(d,e){return function(f,h){return Of(e,h)?f:yf.aa(f,h)}}(a,b),a,a)};II.ea=function(a,b,c){a=GI(function(d){return-M(d)},of.ea(c,b,P([a])));return v.ca(II,J(a),Ee(a))};II.pa=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.ea(b,a,c)};II.ma=2;
var JI=function JI(a){switch(arguments.length){case 1:return JI.ba(arguments[0]);case 2:return JI.aa(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return JI.ea(arguments[0],arguments[1],c)}};JI.ba=function(a){return a};JI.aa=function(a,b){return M(a)<M(b)?v.ca(function(c,d){return Of(b,d)?yf.aa(c,d):c},a,a):v.ca(yf,a,b)};JI.ea=function(a,b,c){return v.ca(JI,a,of.aa(c,b))};
JI.pa=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.ea(b,a,c)};JI.ma=2;function KI(a){var b=new p(null,2,[Cz,Qx,Yp,vn],null);return v.ca(function(c,d){var e=Q(d,0,null);d=Q(d,1,null);return Of(a,e)?R.ca(c,d,B.aa(a,e)):c},ih(S,a,dj(b)),b)}function LI(a,b){return M(a)<=M(b)&&sh(function(c){return Of(b,c)},a)}function MI(a,b){return M(a)>=M(b)&&sh(function(c){return Of(a,c)},b)};function NI(a){return v.ca(function(b,c){b.push(c);return b},[],a)}function OI(a){return a instanceof Array};var PI=J($h(function(a){return 0!=(32&1<<a)},Gk.ca(31,-1,-1)))+1,QI=(1<<PI)-1;function RI(a,b,c,d){for(var e=0,f=tg(c);;)if(e<=f){c=e+f>>>1;var h=b[c];0>(a.aa?a.aa(h,d):a.call(null,h,d))?e=c+1:f=c-1}else return e}function SI(a,b,c,d){for(var e=0,f=tg(c);;)if(e<=f){c=e+f>>>1;var h=b[c];0<(a.aa?a.aa(h,d):a.call(null,h,d))?f=c-1:e=c+1}else return e}function TI(a,b,c){var d=b.length,e=RI(a,b,d-1,c);if(d=e<d)b=b[e],d=0===(a.aa?a.aa(b,c):a.call(null,b,c));return d?e:-1}
function UI(a,b,c){var d=b.length;a=RI(a,b,d-1,c);return a===d?-1:a}function VI(a,b,c,d,e,f){var h=f.length,k=d-b,m=k+h,n=Array(k+h+(c-e));d-=b;for(var q=0;;)if(q<d)n[q+0]=a[q+b],q+=1;else break;b=h-0;for(h=0;;)if(h<b)n[h+k]=f[h+0],h+=1;else break;c-=e;for(f=0;;)if(f<c)n[f+m]=a[f+e],f+=1;else break;return n}function WI(a,b,c,d){return VI(a,0,a.length,b,c,d)}
function XI(a,b){var c=a.length,d=b.length,e=c+d,f=e>>>1,h=Array(f);e=Array(e-f);if(c<=f){for(var k=c-0,m=0;;)if(m<k)h[m+0]=a[m+0],m+=1;else break;a=f-c;for(k=0;;)if(k<a)h[k+c]=b[k+0],k+=1;else break;d-=f-c;for(a=0;;)if(a<d)e[a+0]=b[a+(f-c)],a+=1;else break}else{k=f-0;for(m=0;;)if(m<k)h[m+0]=a[m+0],m+=1;else break;k=c-f;for(m=0;;)if(m<k)e[m+0]=a[m+f],m+=1;else break;d-=0;for(a=0;;)if(a<d)e[a+(c-f)]=b[a+0],a+=1;else break}return[h,e]}
function YI(a,b,c,d,e,f){d-=c;if(d===f-0)for(f=0;;){if(f===d)return!0;var h=b[f+c],k=e[f+0];if(0!==(a.aa?a.aa(h,k):a.call(null,h,k)))return!1;f+=1}else return!1}function ZI(a,b){return r(a)?r(b)?[a,b]:[a]:[b]}function $I(a,b,c){return r(a)?r(b)?r(c)?[a,b,c]:[a,b]:r(c)?[a,c]:[a]:r(b)?r(c)?[b,c]:[b]:[c]}
function aJ(a){if(null!=a&&null!=a.gg)a=a.gg(a);else{var b=aJ[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=aJ._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("INode.node-lim-key",a);}return a}function bJ(a){if(null!=a&&null!=a.$g)a=a.keys.length;else{var b=bJ[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=bJ._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("INode.node-len",a);}return a}
function cJ(a,b){if(null!=a&&null!=a.ig)a=a.ig(a,b);else{var c=cJ[oa(null==a?null:a)];if(null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else if(c=cJ._,null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else throw Dc("INode.node-merge",a);}return a}function dJ(a,b){if(null!=a&&null!=a.jg)a=a.jg(a,b);else{var c=dJ[oa(null==a?null:a)];if(null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else if(c=dJ._,null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else throw Dc("INode.node-merge-n-split",a);}return a}
function eJ(a,b,c){if(null!=a&&null!=a.hg)a=a.hg(a,b,c);else{var d=eJ[oa(null==a?null:a)];if(null!=d)a=d.ca?d.ca(a,b,c):d.call(null,a,b,c);else if(d=eJ._,null!=d)a=d.ca?d.ca(a,b,c):d.call(null,a,b,c);else throw Dc("INode.node-lookup",a);}return a}function fJ(a,b,c){if(null!=a&&null!=a.eg)a=a.eg(a,b,c);else{var d=fJ[oa(null==a?null:a)];if(null!=d)a=d.ca?d.ca(a,b,c):d.call(null,a,b,c);else if(d=fJ._,null!=d)a=d.ca?d.ca(a,b,c):d.call(null,a,b,c);else throw Dc("INode.node-conj",a);}return a}
function gJ(a,b,c,d,e,f){if(null!=a&&null!=a.fg)a=a.fg(a,b,c,d,e,f);else{var h=gJ[oa(null==a?null:a)];if(null!=h)a=h.eb?h.eb(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f);else if(h=gJ._,null!=h)a=h.eb?h.eb(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f);else throw Dc("INode.node-disj",a);}return a}
function hJ(a,b,c,d){if(r(b))return[a];if(16<bJ(a))return $I(c,a,d);if(r(r(c)?16>=bJ(c):c))return ZI(cJ(c,a),d);if(r(r(d)?16>=bJ(d):d))return ZI(c,cJ(a,d));if(r(r(c)?null==d||bJ(c)<bJ(d):c))return a=dJ(c,a),$I(a[0],a[1],d);a=dJ(a,d);return $I(c,a[0],a[1])}function iJ(a,b){this.keys=a;this.vb=b}g=iJ.prototype;g.gg=function(){var a=this.keys;return a[a.length-1]};g.$g=function(){return this.keys.length};g.ig=function(a,b){return new iJ(this.keys.concat(b.keys),this.vb.concat(b.vb))};
g.jg=function(a,b){a=XI(this.keys,b.keys);b=XI(this.vb,b.vb);return ZI(new iJ(a[0],b[0]),new iJ(a[1],b[1]))};g.hg=function(a,b,c){a=UI(b,this.keys,c);return-1===a?null:eJ(this.vb[a],b,c)};g.eg=function(a,b,c){a=RI(b,this.keys,this.keys.length-2,c);c=fJ(this.vb[a],b,c);if(r(c)){var d=this.keys,e=a+1,f=c.map(aJ);b=YI(b,d,a,e,f,f.length)?d:WI(d,a,e,f);a=WI(this.vb,a,a+1,c);if(32>=a.length)return[new iJ(b,a)];c=a.length>>>1;return[new iJ(b.slice(0,c),a.slice(0,c)),new iJ(b.slice(c),a.slice(c))]}return null};
g.fg=function(a,b,c,d,e,f){var h=UI(b,this.keys,c);if(-1===h)return null;a=0<=h-1?this.vb[h-1]:null;var k=h+1<this.vb.length?this.vb[h+1]:null;c=gJ(this.vb[h],b,c,!1,a,k);if(r(c)){a=r(a)?h-1:h;h=r(k)?2+h:1+h;k=this.keys;var m=c.map(aJ);b=YI(b,k,a,h,m,m.length)?k:WI(k,a,h,m);c=WI(this.vb,a,h,c);return hJ(new iJ(b,c),d,e,f)}return null};function jJ(a){this.keys=a}g=jJ.prototype;g.gg=function(){var a=this.keys;return a[a.length-1]};g.$g=function(){return this.keys.length};g.ig=function(a,b){return new jJ(this.keys.concat(b.keys))};
g.jg=function(a,b){a=XI(this.keys,b.keys);return ZI(new jJ(a[0]),new jJ(a[1]))};g.hg=function(a,b,c){a=TI(b,this.keys,c);return-1===a?null:this.keys[a]};g.eg=function(a,b,c){a=RI(b,this.keys,this.keys.length-1,c);var d=this.keys.length,e;if(e=a<d)e=this.keys[a],e=0===(b.aa?b.aa(c,e):b.call(null,c,e));return e?null:32===d?(b=d+1>>>1,a>b?[new jJ(this.keys.slice(0,b)),new jJ(VI(this.keys,b,d,a,a,[c]))]:[new jJ(VI(this.keys,0,b,a,a,[c])),new jJ(this.keys.slice(b,d))]):[new jJ(WI(this.keys,a,a,[c]))]};
g.fg=function(a,b,c,d,e,f){a=TI(b,this.keys,c);if(-1===a)return null;a=WI(this.keys,a,a+1,[]);return hJ(new jJ(a),d,e,f)};function kJ(a,b,c,d,e,f){this.root=a;this.shift=b;this.oa=c;this.wc=d;this.meta=e;this._hash=f;this.ha=2297303311;this.na=8332}g=kJ.prototype;g.toString=function(){return le(this)};g.Aa=function(a,b){return eJ(this.root,this.wc,b)};g.la=function(a,b,c){a=eJ(this.root,this.wc,b);return r(a)?a:c};g.ua=function(a,b,c){return Tk(b,al,"#{"," ","}",c,E(this))};g.sa=function(){return this.meta};
g.xa=function(){return this.oa};g.Dc=function(){return Jd(lJ.ba?lJ.ba(this):lJ.call(null,this))};g.wa=function(){var a=this._hash;return null!=a?a:this._hash=a=Le(this)};g.qa=function(a,b){var c=this;return Bf(b)&&this.oa===M(b)&&sh(function(d){return Of(c,d)},b)};g.Bd=function(){return this};g.Xa=function(){return new kJ(new jJ([]),0,0,this.wc,this.meta,null)};g.If=function(a,b){return mJ.ca?mJ.ca(this,b,this.wc):mJ.call(null,this,b,this.wc)};
g.gb=function(a,b){a=lJ.ba?lJ.ba(this):lJ.call(null,this);return r(a)?ud(a,b):b.ja?b.ja():b.call(null)};g.hb=function(a,b,c){a=lJ.ba?lJ.ba(this):lJ.call(null,this);return r(a)?ud(a,b,c):c};g.Cd=function(a,b){return nJ.ca?nJ.ca(this,b,this.wc):nJ.call(null,this,b,this.wc)};g.Md=function(){return this};g.va=function(){return lJ.ba?lJ.ba(this):lJ.call(null,this)};g.ta=function(a,b){return new kJ(this.root,this.shift,this.oa,this.wc,b,this._hash)};
g.za=function(a,b){return nJ.ca?nJ.ca(this,b,this.wc):nJ.call(null,this,b,this.wc)};g.call=function(a){switch(arguments.length-1){case 1:return this.ba(arguments[1]);case 2:return this.aa(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.ba(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ic(b)))};g.ba=function(a){return this.Aa(null,a)};g.aa=function(a,b){return this.la(null,a,b)};
function oJ(a,b){var c=a.shift;for(a=a.root;;)if(0<c)a=a.vb[QI&b>>>c],c-=PI;else return a.keys}function pJ(a,b,c,d){return new kJ(b,c,d,a.wc,a.meta,null)}var qJ=function qJ(a,b,c){var e=QI&b>>>c;if(0<c){var f=a.vb[e],h=c-PI;b=qJ.ca?qJ.ca(f,b,h):qJ.call(null,f,b,h);return-1===b?e+1<a.vb.length?0|e+1<<c:-1:b|e<<c}return e+1<a.keys.length?0|e+1<<0:-1};function rJ(a,b){return qJ(a.root,b,a.shift)}
function sJ(a,b){for(var c=0;;)if(0<b)c|=a.vb.length-1<<b,b-=PI,a=a.vb,a=a[a.length-1];else return c|a.keys.length-1<<0}var tJ=function tJ(a,b,c){var e=QI&b>>>c;if(0<c){var f=c-PI,h=a.vb[e];b=tJ.ca?tJ.ca(h,b,f):tJ.call(null,h,b,f);return-1===b?0<=e-1?(--e,sJ(a.vb[e],f)|e<<c):-1:b|e<<c}return 0<=e-1?0|e-1<<0:-1};function uJ(a,b){return tJ(a.root,b,a.shift)}function lJ(a){if(0<bJ(a.root)){var b=sJ(a.root,a.shift)+1;return vJ.ca?vJ.ca(a,0,b):vJ.call(null,a,0,b)}return null}
function wJ(a,b,c){this.ia=a;this.off=b;this.end=c;this.ha=524306;this.na=0}g=wJ.prototype;g.xa=function(){return this.end-this.off};g.La=function(a,b){return this.ia[this.off+b]};g.fb=function(a,b,c){return 0<=b&&b<this.end-this.off?this.ia[this.off+b]:c};g.le=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Ng(this.ia,this.off+1,this.end)};g.gb=function(a,b){return this.off===this.end?b.ja?b.ja():b.call(null):ud(this.le(null),b,this.ia[this.off])};
g.hb=function(a,b,c){for(a=this.off;;)if(a<this.end){var d=this.ia[a];c=b.aa?b.aa(c,d):b.call(null,c,d);if(Qe(c))return y(c);a+=1}else return c};function xJ(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.ha=2309488832;this.na=1536}g=xJ.prototype;g.toString=function(){return le(this)};g.ua=function(a,b,c){return Tk(b,al,"("," ",")",c,E(this))};
g.$a=function(){if(r(this.keys)){if(this.idx+1<this.keys.length)return this.left+1<this.right?new xJ(this.set,this.left+1,this.right,this.keys,this.idx+1):null;var a=rJ(this.set,this.left);return mh.aa(-1,a)&&a<this.right?this.pf(a,this.right):null}return null};g.Dc=function(){if(r(this.keys)){var a=this.set,b=uJ(this.set,this.left),c=uJ(this.set,this.right);return yJ.ca?yJ.ca(a,b,c):yJ.call(null,a,b,c)}return null};g.qa=function(a,b){return ff(this,b)};
g.gb=function(a,b){if(null==this.keys)return b.ja?b.ja():b.call(null);a=this.ib(null);var c=this.$a(null);return null==c?a:ud(c,b,a)};g.hb=function(a,b,c){a=this.left;for(var d=this.keys,e=this.idx;;){if(null==d)return c;var f=d[e];c=b.aa?b.aa(c,f):b.call(null,c,f);if(Qe(c))return y(c);if(e+1<d.length)if(a+1<this.right)e+=1,a+=1;else return c;else if(a=rJ(this.set,a),-1!==a&&a<this.right)d=oJ(this.set,a),e=QI&a>>>0;else return c}};g.ib=function(){return r(this.keys)?this.keys[this.idx]:null};
g.pb=function(){var a=this.$a(null);return r(a)?a:Fe};g.va=function(){return r(this.keys)?this:null};g.ne=function(){var a=D.aa(this.left|QI,this.right|QI)?this.right&QI:this.keys.length;return new wJ(this.keys,this.idx,a)};g.Ld=function(){var a=this.me();return r(a)?a:Fe};g.pf=function(a,b){return new xJ(this.set,a,b,oJ(this.set,a),QI&a>>>0)};g.me=function(){var a=rJ(this.set,this.left+(this.keys.length-this.idx-1));return mh.aa(-1,a)&&a<this.right?this.pf(a,this.right):null};
function vJ(a,b,c){return new xJ(a,b,c,oJ(a,b),QI&b>>>0)}function zJ(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.ha=2308964544;this.na=0}g=zJ.prototype;g.toString=function(){return le(this)};g.ua=function(a,b,c){return Tk(b,al,"("," ",")",c,E(this))};
g.$a=function(){if(r(this.keys)){if(0<=this.idx-1)return this.right-1>this.left?new zJ(this.set,this.left,this.right-1,this.keys,this.idx-1):null;var a=uJ(this.set,this.right);return mh.aa(-1,a)&&a>this.left?this.pf(this.left,a):null}return null};g.Dc=function(){if(r(this.keys)){var a=-1===this.left?0:rJ(this.set,this.left),b=rJ(this.set,this.right);return vJ(this.set,a,-1===b?this.right+1:b)}return null};g.qa=function(a,b){return ff(this,b)};
g.ib=function(){return r(this.keys)?this.keys[this.idx]:null};g.pb=function(){var a=this.$a(null);return r(a)?a:Fe};g.va=function(){return r(this.keys)?this:null};g.pf=function(a,b){return new zJ(this.set,a,b,oJ(this.set,b),QI&b>>>0)};function yJ(a,b,c){return new zJ(a,b,c,oJ(a,c),QI&c>>>0)}
function AJ(a,b,c,d){a:for(var e=a.root,f=0,h=a.shift;;){var k=bJ(e);if(0===h){var m=e.keys;m=RI(d,m,k-1,b);b=k===m?-1:f|m<<0;break a}m=e.keys;m=RI(d,m,k-2,b);f|=m<<h;h-=PI;e=e.vb[m]}if(0>b)return null;a:for(e=a.root,f=0,h=a.shift;;){m=bJ(e);if(0===h){k=e.keys;m=SI(d,k,m-1,c);c=f|m<<0;break a}k=e.keys;m=SI(d,k,m-2,c);f|=m<<h;h-=PI;e=e.vb[m]}return c>b?new xJ(a,b,c,oJ(a,b),QI&b>>>0):null}
function BJ(a,b){for(var c=b.length,d=0;;)if(d<c){var e=d;var f=b[d];f=a.ba?a.ba(f):a.call(null,f);b[e]=f;d+=1}else break;return b}function CJ(a){var b=a.length,c=Sd(pf);if(0<b)for(var d=0;;){var e=b-d;if(32>=e){Zg.aa(c,a.slice(d));break}else 40<=e?(Zg.aa(c,a.slice(d,d+24)),d+=24):(e>>>=1,Zg.aa(c,a.slice(d,d+e)),d+=e)}return Vf(Ud(c))}function nJ(a,b,c){b=fJ(a.root,c,b);return null==b?a:1===b.length?pJ(a,b[0],a.shift,a.oa+1):pJ(a,new iJ(b.map(aJ),b),a.shift+PI,a.oa+1)}
function mJ(a,b,c){b=gJ(a.root,c,b,!0,null,null);if(null==b)return a;b=b[0];return b instanceof iJ&&1===b.vb.length?pJ(a,b.vb[0],a.shift-PI,a.oa-1):pJ(a,b,a.shift,a.oa-1)}function DJ(a,b,c){return AJ(a,b,c,a.wc)}function EJ(a){var b=FJ.ka(536870911,null,null,2147483647),c=FJ.ka(0,null,null,536870912);a=AJ(a,c,b,a.wc);return null==a?null:Jd(a)}
function GJ(a,b){for(var c=BJ(function(h){return new jJ(h)},CJ(b)),d=c,e=0;;){var f=M(d);switch(f){case 0:return new kJ(new jJ([]),0,0,a,null,null);case 1:return new kJ(J(d),e,b.length,a,null,null);default:d=BJ(function(){return function(h){return new iJ(h.map(aJ),h)}}(d,e,f,c),CJ(d)),e+=PI}}}function HJ(a){return new kJ(new jJ([]),0,0,a,null,null)};var IJ=Error;function JJ(a){var b;if(b="string"!==typeof a)b=null==a,b||(b=(b=null!=a?a.ha&8388608||l===a.Hf?!0:a.ha?!1:Bc(Ad,a):Bc(Ad,a))?b:xc(a)||"string"===typeof a),b=b||OI(a);return b}var KJ=zh(of,pf),LJ=zh(of,tk);function MJ(a,b,c){return J(v.ca(function(d,e){var f=Q(d,0,null);d=Q(d,1,null);e=a.ca?a.ca(f,e,d):a.call(null,f,e,d);return Qe(e)?Pe(new X(null,2,5,Z,[e,d],null)):new X(null,2,5,Z,[e,d+1],null)},new X(null,2,5,Z,[b,0],null),c))}function NJ(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function OJ(a){if(null!=a&&null!=a.Ya)a=a.Ya(a);else{var b=OJ[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=OJ._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("IDatom.datom-tx",a);}return a}function PJ(a){if(null!=a&&null!=a.oc)a=a.oc(a);else{var b=PJ[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=PJ._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("IDatom.datom-added",a);}return a}
function QJ(a,b,c,d,e){this.e=a;this.a=b;this.v=c;this.vf=d;this._hash=e;this.ha=2162164496;this.na=0}g=QJ.prototype;g.Ya=function(){return 0<this.vf?this.vf:-this.vf};g.oc=function(){return 0<this.vf};g.wa=function(){return 0===this._hash?this._hash=RJ.ba?RJ.ba(this):RJ.call(null,this):this._hash};g.qa=function(a,b){return b instanceof QJ?SJ.aa?SJ.aa(this,b):SJ.call(null,this,b):!1};g.va=function(){return TJ.ba?TJ.ba(this):TJ.call(null,this)};
g.Aa=function(a,b){return UJ.ca?UJ.ca(this,b,null):UJ.call(null,this,b,null)};g.la=function(a,b,c){return UJ.ca?UJ.ca(this,b,c):UJ.call(null,this,b,c)};g.La=function(a,b){return VJ?VJ(this,b):WJ.call(null,this,b)};g.fb=function(a,b,c){return XJ?XJ(this,b,c):WJ.call(null,this,b,c)};g.ra=function(a,b,c){return YJ.ca?YJ.ca(this,b,c):YJ.call(null,this,b,c)};g.ua=function(a,b,c){return Tk(b,al,"#datascript/Datom ["," ","]",c,new X(null,5,5,Z,[this.e,this.a,this.v,this.Ya(null),this.oc(null)],null))};
Ha("datascript.db.Datom",QJ);var FJ=function FJ(a){switch(arguments.length){case 3:return FJ.ca(arguments[0],arguments[1],arguments[2]);case 4:return FJ.ka(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return FJ.ya(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",t.ba(arguments.length)].join(""));}};FJ.ca=function(a,b,c){return new QJ(a,b,c,536870912,0)};FJ.ka=function(a,b,c,d){return new QJ(a,b,c,d,0)};
FJ.ya=function(a,b,c,d,e){return new QJ(a,b,c,r(e)?d:-d,0)};FJ.ma=5;function ZJ(a){return a instanceof QJ}function RJ(a){return NJ(NJ(te(a.e),te(a.a)),te(a.v))}function SJ(a,b){return a.e===b.e&&D.aa(a.a,b.a)&&D.aa(a.v,b.v)}function TJ(a){return new qf(null,a.e,new qf(null,a.a,new qf(null,a.v,new qf(null,a.Ya(null),new qf(null,a.oc(null),null,1,null),2,null),3,null),4,null),5,null)}
function UJ(a,b,c){return D.aa(dx,b)?a.v:D.aa("e",b)?a.e:D.aa(My,b)?a.oc(null):D.aa("v",b)?a.v:D.aa(Tw,b)?a.e:D.aa("a",b)?a.a:D.aa(jp,b)?a.Ya(null):D.aa("added",b)?a.oc(null):D.aa("tx",b)?a.Ya(null):D.aa(Xw,b)?a.a:c}function WJ(a){switch(arguments.length){case 2:return VJ(arguments[0],arguments[1]);case 3:return XJ(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.ba(arguments.length)].join(""));}}
function VJ(a,b){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.Ya(null);case 4:return a.oc(null);default:throw Error(["Datom/-nth: Index out of bounds: ",t.ba(b)].join(""));}}function XJ(a,b,c){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.Ya(null);case 4:return a.oc(null);default:return c}}
function YJ(a,b,c){switch(b instanceof C?b.Ba:null){case "e":return FJ.ya(c,a.a,a.v,a.Ya(null),a.oc(null));case "a":return FJ.ya(a.e,c,a.v,a.Ya(null),a.oc(null));case "v":return FJ.ya(a.e,a.a,c,a.Ya(null),a.oc(null));case "tx":return FJ.ya(a.e,a.a,a.v,c,a.oc(null));case "added":return FJ.ya(a.e,a.a,a.v,a.Ya(null),c);default:throw new IJ(["invalid key for #datascript/Datom: ",t.ba(b)].join(""));}}function $J(a,b){return null==a?0:null==b?0:Rf(a,b)}
function aK(a,b){return D.aa(a,b)?0:(null!=a?a.na&2048||l===a.kd||(a.na?0:Bc(Yd,a)):Bc(Yd,a))?Zd(a,b):"string"!==typeof a&&!xc(a)&&!0!==a&&!1!==a||Cc(a)!==Cc(b)?te(a)-te(b):ab(a,b)}function bK(a,b){return null==a?0:null==b?0:aK(a,b)}function cK(a,b){var c=a.e-b.e;return 0===c?(c=$J(a.a,b.a),0===c?(c=bK(a.v,b.v),0===c?(a=a.Ya(null)-b.Ya(null),0===a?0:a):c):c):c}function dK(a,b){var c=$J(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=bK(a.v,b.v),0===c?(a=a.Ya(null)-b.Ya(null),0===a?0:a):c):c):c}
function eK(a,b){var c=$J(a.a,b.a);return 0===c?(c=bK(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.Ya(null)-b.Ya(null),0===a?0:a):c):c):c}function fK(a,b){return a instanceof C?Zd(a,b):ab(a,b)}function gK(a,b){var c=a.e-b.e;return 0===c?(c=fK(a.a,b.a),0===c?(c=aK(a.v,b.v),0===c?(a=a.Ya(null)-b.Ya(null),0===a?0:a):c):c):c}function hK(a,b){var c=fK(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=aK(a.v,b.v),0===c?(a=a.Ya(null)-b.Ya(null),0===a?0:a):c):c):c}
function iK(a,b){var c=fK(a.a,b.a);return 0===c?(c=aK(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.Ya(null)-b.Ya(null),0===a?0:a):c):c):c}function jK(){}function kK(a,b){if(null!=a&&null!=a.Sg)a=a.Sg(a,b);else{var c=kK[oa(null==a?null:a)];if(null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else if(c=kK._,null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else throw Dc("ISearch.-search",a);}return a}function lK(a,b){return J(kK(a,b))}
function mK(a,b,c){if(null!=a&&null!=a.Rg)a=a.Rg(a,b,c);else{var d=mK[oa(null==a?null:a)];if(null!=d)a=d.ca?d.ca(a,b,c):d.call(null,a,b,c);else if(d=mK._,null!=d)a=d.ca?d.ca(a,b,c):d.call(null,a,b,c);else throw Dc("IIndexAccess.-datoms",a);}return a}function nK(){}function oK(a){if(null!=a&&null!=a.Rh)a=a.Gb;else{var b=oK[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=oK._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("IDB.-schema",a);}return a}
function pK(a,b){if(null!=a&&null!=a.Qg)a=a.Qg(a,b);else{var c=pK[oa(null==a?null:a)];if(null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else if(c=pK._,null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else throw Dc("IDB.-attrs-by",a);}return a}function qK(a,b,c,d,e,f,h,k,m,n,q){this.Gb=a;this.Ab=b;this.cc=c;this.dc=d;this.kc=e;this.lc=f;this.ic=h;this.hash=k;this.fa=m;this.da=n;this.ga=q;this.ha=2230716170;this.na=139264}g=qK.prototype;g.Aa=function(a,b){return this.la(null,b,null)};
g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "schema":return this.Gb;case "eavt":return this.Ab;case "aevt":return this.cc;case "avet":return this.dc;case "max-eid":return this.kc;case "max-tx":return this.lc;case "rschema":return this.ic;case "hash":return this.hash;default:return B.ca(this.da,b,c)}};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};
g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.db.DB{",", ","}",c,V.aa(new X(null,8,5,Z,[new X(null,2,5,Z,[is,this.Gb],null),new X(null,2,5,Z,[zv,this.Ab],null),new X(null,2,5,Z,[sy,this.cc],null),new X(null,2,5,Z,[Ym,this.dc],null),new X(null,2,5,Z,[ly,this.kc],null),new X(null,2,5,Z,[Rz,this.lc],null),new X(null,2,5,Z,[Tt,this.ic],null),new X(null,2,5,Z,[bB,this.hash],null)],null),this.da))};
g.Ca=function(){return new Yi(this,8,new X(null,8,5,Z,[is,zv,sy,Ym,ly,Rz,Tt,bB],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 8+M(this.da)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=-1515640948^Le(this)};
g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.Gb,b.Gb)&&D.aa(this.Ab,b.Ab)&&D.aa(this.cc,b.cc)&&D.aa(this.dc,b.dc)&&D.aa(this.kc,b.kc)&&D.aa(this.lc,b.lc)&&D.aa(this.ic,b.ic)&&D.aa(this.hash,b.hash)&&D.aa(this.da,b.da)};
g.Ka=function(a,b){return Of(new rk(null,new p(null,8,[is,null,Rz,null,bB,null,sy,null,Ym,null,ly,null,zv,null,Tt,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new qK(this.Gb,this.Ab,this.cc,this.dc,this.kc,this.lc,this.ic,this.hash,this.fa,nh(S.aa(this.da,b)),null)};
g.ra=function(a,b,c){return r(T.aa?T.aa(is,b):T.call(null,is,b))?new qK(c,this.Ab,this.cc,this.dc,this.kc,this.lc,this.ic,this.hash,this.fa,this.da,null):r(T.aa?T.aa(zv,b):T.call(null,zv,b))?new qK(this.Gb,c,this.cc,this.dc,this.kc,this.lc,this.ic,this.hash,this.fa,this.da,null):r(T.aa?T.aa(sy,b):T.call(null,sy,b))?new qK(this.Gb,this.Ab,c,this.dc,this.kc,this.lc,this.ic,this.hash,this.fa,this.da,null):r(T.aa?T.aa(Ym,b):T.call(null,Ym,b))?new qK(this.Gb,this.Ab,this.cc,c,this.kc,this.lc,this.ic,this.hash,
this.fa,this.da,null):r(T.aa?T.aa(ly,b):T.call(null,ly,b))?new qK(this.Gb,this.Ab,this.cc,this.dc,c,this.lc,this.ic,this.hash,this.fa,this.da,null):r(T.aa?T.aa(Rz,b):T.call(null,Rz,b))?new qK(this.Gb,this.Ab,this.cc,this.dc,this.kc,c,this.ic,this.hash,this.fa,this.da,null):r(T.aa?T.aa(Tt,b):T.call(null,Tt,b))?new qK(this.Gb,this.Ab,this.cc,this.dc,this.kc,this.lc,c,this.hash,this.fa,this.da,null):r(T.aa?T.aa(bB,b):T.call(null,bB,b))?new qK(this.Gb,this.Ab,this.cc,this.dc,this.kc,this.lc,this.ic,c,
this.fa,this.da,null):new qK(this.Gb,this.Ab,this.cc,this.dc,this.kc,this.lc,this.ic,this.hash,this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(new X(null,8,5,Z,[new Y(is,this.Gb),new Y(zv,this.Ab),new Y(sy,this.cc),new Y(Ym,this.dc),new Y(ly,this.kc),new Y(Rz,this.lc),new Y(Tt,this.ic),new Y(bB,this.hash)],null),this.da))};g.ta=function(a,b){return new qK(this.Gb,this.Ab,this.cc,this.dc,this.kc,this.lc,this.ic,this.hash,b,this.da,this.ga)};
g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};function rK(a){var b=S.ea(a,is,P([zv,sy,Ym,ly,Rz,Tt,bB]));b=Ff(a)?bi.aa(W,b):b;return new qK(is.ba(a),zv.ba(a),sy.ba(a),Ym.ba(a),ly.ba(a),Rz.ba(a),Tt.ba(a),bB.ba(a),null,nh(b),null)}g.Wa=l;g.ua=function(a,b,c){return sK.ca?sK.ca(this,b,c):sK.call(null,this,b,c)};g.Gg=l;g.xa=function(){return M(this.Ab)};g.Hh=l;g.Dc=function(){return Jd(this.Ab)};g.Eh=l;g.wa=function(){return tK.ba?tK.ba(this):tK.call(null,this)};
g.qa=function(a,b){return uK.aa?uK.aa(this,b):uK.call(null,this,b)};g.Ig=l;g.Bd=function(){return ji.ca(ji.ca(ji.ca(this,zv,Xg),sy,Xg),Ym,Xg)};g.Jg=l;g.Xa=function(){var a=this.Gb;a=vK?vK(a):wK.call(null,a);return wf(a,xf(this))};g.Cd=function(){throw gm("datascript.DB/conj! is not supported",W);};g.Md=function(){return ji.ca(ji.ca(ji.ca(this,zv,Yg),sy,Yg),Ym,Yg)};g.Hf=l;g.va=function(){return Bd(this.Ab)};
g.Rg=function(a,b,c){if(D.aa(b,Ym)&&(a=J(c),null!=a&&!r(xK.aa?xK.aa(this,a):xK.call(null,this,a))))throw gm(["Attribute ",hl.ea(P([a]))," should be marked as :db/index true"].join(""),new p(null,3,[Fp,py,Bz,Ym,lm,c],null));return DJ(B.aa(this,b),yK.ya?yK.ya(this,b,c,0,536870912):yK.call(null,this,b,c,0,536870912),yK.ya?yK.ya(this,b,c,2147483647,2147483647):yK.call(null,this,b,c,2147483647,2147483647))};g.Pg=l;g.Rh=function(){return this.Gb};
g.Qg=function(a,b){a=this.ic;return a.ba?a.ba(b):a.call(null,b)};g.Sh=l;
g.Sg=function(a,b){a=Q(b,0,null);var c=Q(b,1,null),d=Q(b,2,null),e=Q(b,3,null);b=this.Ab;var f=this.cc,h=this.dc;Of(pK(this,EB),c);return r(a)?r(c)?null!=d?r(e)?DJ(b,FJ.ka(a,c,d,e),FJ.ka(a,c,d,e)):DJ(b,FJ.ka(a,c,d,536870912),FJ.ka(a,c,d,2147483647)):r(e)?$h(function(k){return D.aa(e,k.Ya(null))},DJ(b,FJ.ka(a,c,null,536870912),FJ.ka(a,c,null,2147483647))):DJ(b,FJ.ka(a,c,null,536870912),FJ.ka(a,c,null,2147483647)):null!=d?r(e)?$h(function(k){return D.aa(d,k.v)&&D.aa(e,k.Ya(null))},DJ(b,FJ.ka(a,null,
null,536870912),FJ.ka(a,null,null,2147483647))):$h(function(k){return D.aa(d,k.v)},DJ(b,FJ.ka(a,null,null,536870912),FJ.ka(a,null,null,2147483647))):r(e)?$h(function(k){return D.aa(e,k.Ya(null))},DJ(b,FJ.ka(a,null,null,536870912),FJ.ka(a,null,null,2147483647))):DJ(b,FJ.ka(a,null,null,536870912),FJ.ka(a,null,null,2147483647)):r(c)?null!=d?r(e)?r(xK.aa?xK.aa(this,c):xK.call(null,this,c))?$h(function(k){return D.aa(e,k.Ya(null))},DJ(h,FJ.ka(0,c,d,536870912),FJ.ka(2147483647,c,d,2147483647))):$h(function(k){return D.aa(d,
k.v)&&D.aa(e,k.Ya(null))},DJ(f,FJ.ka(0,c,null,536870912),FJ.ka(2147483647,c,null,2147483647))):r(xK.aa?xK.aa(this,c):xK.call(null,this,c))?DJ(h,FJ.ka(0,c,d,536870912),FJ.ka(2147483647,c,d,2147483647)):$h(function(k){return D.aa(d,k.v)},DJ(f,FJ.ka(0,c,null,536870912),FJ.ka(2147483647,c,null,2147483647))):r(e)?$h(function(k){return D.aa(e,k.Ya(null))},DJ(f,FJ.ka(0,c,null,536870912),FJ.ka(2147483647,c,null,2147483647))):DJ(f,FJ.ka(0,c,null,536870912),FJ.ka(2147483647,c,null,2147483647)):null!=d?r(e)?
$h(function(k){return D.aa(d,k.v)&&D.aa(e,k.Ya(null))},b):$h(function(k){return D.aa(d,k.v)},b):r(e)?$h(function(k){return D.aa(e,k.Ya(null))},b):b};
function zK(a,b){switch(b instanceof C?b.Ba:null){case "db.unique/identity":return new X(null,3,5,Z,[Gm,Ez,gz],null);case "db.unique/value":return new X(null,3,5,Z,[Gm,ls,gz],null);case "db.cardinality/many":return new X(null,1,5,Z,[EB],null);case "db.type/ref":return new X(null,2,5,Z,[aA,gz],null);default:return D.aa(Hm,a)&&!0===b?new X(null,1,5,Z,[Hm],null):D.aa(gz,a)&&!0===b?new X(null,1,5,Z,[gz],null):D.aa(Po,a)?new X(null,2,5,Z,[Sm,gz],null):pf}}
function AK(a,b){return v.ca(function(c,d){return MJ(function(e,f,h){return ji.ya(e,f,R,d,h)},c,Po.ba(d.ba?d.ba(a):d.call(null,a)))},W,Sm.ba(b))}function BK(a){var b=bg(function(c,d,e){return bg(function(f,h,k){return v.ca(function(m,n){return ji.ka(m,n,LJ,d)},f,zK(h,k))},c,e)},W,a);return R.ca(b,Us,AK(a,b))}
function CK(a,b,c,d){if(null!=c&&!Of(d,c))throw gm(["Bad attribute specification for ",hl.ea(P([tf([a,tf([b,c])])])),", expected one of ",t.ba(d)].join(""),new p(null,4,[Fp,$o,gp,a,sB,b,vx,c],null));}
function DK(a){for(var b=E(a),c=null,d=0,e=0;;)if(e<d){var f=c.La(null,e),h=Q(f,0,null),k=Q(f,1,null),m=Hm.aa(k,!1);CK(h,Hm,Hm.ba(k),new rk(null,new p(null,2,[!0,null,!1,null],null),null));if(r(function(){var G=m;return r(G)?mh.aa(jB.ba(k),aA):G}()))throw gm(["Bad attribute specification for ",hl.ea(P([h])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new p(null,3,[Fp,$o,gp,h,sB,Hm],null));CK(h,Gm,Gm.ba(k),new rk(null,new p(null,2,[Ez,null,ls,null],null),null));
CK(h,jB,jB.ba(k),new rk(null,new p(null,1,[aA,null],null),null));CK(h,zu,zu.ba(k),new rk(null,new p(null,2,[EB,null,Hy,null],null),null));if(Of(k,Po)){f=new p(null,3,[Fp,$o,gp,h,sB,Po],null);if(D.aa(EB,zu.ba(k)))throw gm([hl.ea(P([h]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),f);var n=Po.ba(k);if(!Cf(n))throw gm([hl.ea(P([h]))," :db/tupleAttrs must be a sequential collection, got: ",hl.ea(P([n]))].join(""),f);if(zf(n))throw gm([hl.ea(P([h]))," :db/tupleAttrs cant be empty"].join(""),
f);n=E(n);for(var q=null,u=0,w=0;;)if(w<u){var z=q.La(null,w),F=R.ca(f,vx,z);if(Of(B.aa(a,z),Po))throw gm([hl.ea(P([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",hl.ea(P([z]))].join(""),F);if(D.aa(EB,zu.ba(B.aa(a,z))))throw gm([hl.ea(P([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",hl.ea(P([z]))].join(""),F);w+=1}else if(n=E(n)){if(Hf(n))u=ae(n),n=be(n),q=u,u=M(u);else{q=J(n);u=R.ca(f,vx,q);if(Of(B.aa(a,q),Po))throw gm([hl.ea(P([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",
hl.ea(P([q]))].join(""),u);if(D.aa(EB,zu.ba(B.aa(a,q))))throw gm([hl.ea(P([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",hl.ea(P([q]))].join(""),u);n=K(n);q=null;u=0}w=0}else break}e+=1}else if(h=E(b)){b=h;if(Hf(b))c=ae(b),b=be(b),h=c,d=M(c),c=h;else{c=J(b);h=Q(c,0,null);k=Q(c,1,null);var H=Hm.aa(k,!1);CK(h,Hm,Hm.ba(k),new rk(null,new p(null,2,[!0,null,!1,null],null),null));if(r(function(){var G=H;return r(G)?mh.aa(jB.ba(k),aA):G}()))throw gm(["Bad attribute specification for ",
hl.ea(P([h])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new p(null,3,[Fp,$o,gp,h,sB,Hm],null));CK(h,Gm,Gm.ba(k),new rk(null,new p(null,2,[Ez,null,ls,null],null),null));CK(h,jB,jB.ba(k),new rk(null,new p(null,1,[aA,null],null),null));CK(h,zu,zu.ba(k),new rk(null,new p(null,2,[EB,null,Hy,null],null),null));if(Of(k,Po)){c=new p(null,3,[Fp,$o,gp,h,sB,Po],null);if(D.aa(EB,zu.ba(k)))throw gm([hl.ea(P([h]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),
c);d=Po.ba(k);if(!Cf(d))throw gm([hl.ea(P([h]))," :db/tupleAttrs must be a sequential collection, got: ",hl.ea(P([d]))].join(""),c);if(zf(d))throw gm([hl.ea(P([h]))," :db/tupleAttrs cant be empty"].join(""),c);d=E(d);e=null;for(n=f=0;;)if(n<f){q=e.La(null,n);u=R.ca(c,vx,q);if(Of(B.aa(a,q),Po))throw gm([hl.ea(P([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",hl.ea(P([q]))].join(""),u);if(D.aa(EB,zu.ba(B.aa(a,q))))throw gm([hl.ea(P([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",
hl.ea(P([q]))].join(""),u);n+=1}else if(d=E(d)){if(Hf(d))f=ae(d),d=be(d),e=f,f=M(f);else{e=J(d);f=R.ca(c,vx,e);if(Of(B.aa(a,e),Po))throw gm([hl.ea(P([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",hl.ea(P([e]))].join(""),f);if(D.aa(EB,zu.ba(B.aa(a,e))))throw gm([hl.ea(P([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",hl.ea(P([e]))].join(""),f);d=K(d);e=null;f=0}n=0}else break}b=K(b);c=null;d=0}e=0}else break}
function wK(a){switch(arguments.length){case 0:return vK(null);case 1:return vK(arguments[0]);default:throw Error(["Invalid arity: ",t.ba(arguments.length)].join(""));}}function vK(a){DK(a);return rK(new p(null,8,[is,a,Tt,BK(mk.ea(P([new p(null,1,[mB,new p(null,1,[Gm,Ez],null)],null),a]))),zv,HJ(cK),sy,HJ(dK),Ym,HJ(eK),ly,0,Rz,536870912,bB,Dh(0)],null))}function EK(a){a=Tw.ba(J(EJ(a)));return r(a)?a:0}
function FK(a,b){var c=J(Qh(ZJ,a));if(null!=c)throw gm(["init-db expects list of Datoms, got ",hl.ea(P([Cc(c)]))].join(""),new p(null,1,[Fp,CA],null));DK(b);c=BK(mk.ea(P([new p(null,1,[mB,new p(null,1,[Gm,Ez],null)],null),b])));var d=gz.ba(c),e=OI(a)?a:NI(a);e.sort(gK);var f=GJ(cK,e);e.sort(hK);e=GJ(dK,e);a=Vf($h(function(m){return Of(d,m.a)},a));a.sort(iK);a=GJ(eK,a);var h=EK(f),k=hg(Mh.ba(function(m){return m.Ya(null)}),qg,536870912,f);return rK(new p(null,8,[is,b,Tt,c,zv,f,sy,e,Ym,a,ly,h,Rz,k,
bB,Dh(0)],null))}function tK(a){var b=y(a.hash);return 0===b?Eh(a.hash,NJ(te(a.Gb),te(a.Ab))):b}function uK(a,b){var c;if(c=(b instanceof qK||!1)&&D.aa(oK(a),oK(b)))a:for(a=mK(a,zv,pf),c=mK(b,zv,pf),b=E(a),a=E(c);;){if(null==b){c=null==a;break a}if(D.aa(J(b),J(a)))b=K(b),a=K(a);else{c=!1;break a}}return c}
function sK(a,b,c){Kd(b,"#datascript/DB {");Kd(b,":schema ");al(oK(a),b,c);Kd(b,", :datoms ");Tk(b,function(d,e,f){return Tk(e,al,"["," ","]",f,new X(null,4,5,Z,[d.e,d.a,d.v,OJ(d)],null))},"["," ","]",c,mK(a,zv,pf));return Kd(b,"}")}
function GK(a,b,c,d,e,f,h){if(r(c)){var k=new qf(null,Rn,new qf(null,ew,new qf(null,b,new qf(null,c,new qf(null,d,new qf(null,e,null,1,null),2,null),3,null),4,null),5,null),6,null);HK.aa?HK.aa(c,k):HK.call(null,c,k)}return FJ.ka(function(){var m=IK.aa?IK.aa(a,b):IK.call(null,a,b);return r(m)?m:f}(),c,r(null!=d?JK.aa?JK.aa(a,c):JK.call(null,a,c):!1)?KK.aa?KK.aa(a,d):KK.call(null,a,d):d,function(){var m=IK.aa?IK.aa(a,e):IK.call(null,a,e);return r(m)?m:h}())}
function yK(a,b,c,d,e){var f=Q(c,0,null),h=Q(c,1,null),k=Q(c,2,null);c=Q(c,3,null);b=b instanceof C?b.Ba:null;switch(b){case "eavt":return GK(a,f,h,k,c,d,e);case "aevt":return GK(a,h,f,k,c,d,e);case "avet":return GK(a,k,f,h,c,d,e);default:throw Error(["No matching clause: ",t.ba(b)].join(""));}}function LK(a,b,c,d,e,f,h,k){this.Gc=a;this.Fc=b;this.Lc=c;this.Jc=d;this.Mc=e;this.fa=f;this.da=h;this.ga=k;this.ha=2230716170;this.na=139264}g=LK.prototype;g.Aa=function(a,b){return this.la(null,b,null)};
g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "db-before":return this.Gc;case "db-after":return this.Fc;case "tx-data":return this.Lc;case "tempids":return this.Jc;case "tx-meta":return this.Mc;default:return B.ca(this.da,b,c)}};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};
g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.db.TxReport{",", ","}",c,V.aa(new X(null,5,5,Z,[new X(null,2,5,Z,[lo,this.Gc],null),new X(null,2,5,Z,[Pu,this.Fc],null),new X(null,2,5,Z,[js,this.Lc],null),new X(null,2,5,Z,[DC,this.Jc],null),new X(null,2,5,Z,[Ro,this.Mc],null)],null),this.da))};g.Ca=function(){return new Yi(this,5,new X(null,5,5,Z,[lo,Pu,js,DC,Ro],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 5+M(this.da)};
g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=-2022644885^Le(this)};g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.Gc,b.Gc)&&D.aa(this.Fc,b.Fc)&&D.aa(this.Lc,b.Lc)&&D.aa(this.Jc,b.Jc)&&D.aa(this.Mc,b.Mc)&&D.aa(this.da,b.da)};g.Ka=function(a,b){return Of(new rk(null,new p(null,5,[DC,null,Pu,null,lo,null,js,null,Ro,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new LK(this.Gc,this.Fc,this.Lc,this.Jc,this.Mc,this.fa,nh(S.aa(this.da,b)),null)};
g.ra=function(a,b,c){return r(T.aa?T.aa(lo,b):T.call(null,lo,b))?new LK(c,this.Fc,this.Lc,this.Jc,this.Mc,this.fa,this.da,null):r(T.aa?T.aa(Pu,b):T.call(null,Pu,b))?new LK(this.Gc,c,this.Lc,this.Jc,this.Mc,this.fa,this.da,null):r(T.aa?T.aa(js,b):T.call(null,js,b))?new LK(this.Gc,this.Fc,c,this.Jc,this.Mc,this.fa,this.da,null):r(T.aa?T.aa(DC,b):T.call(null,DC,b))?new LK(this.Gc,this.Fc,this.Lc,c,this.Mc,this.fa,this.da,null):r(T.aa?T.aa(Ro,b):T.call(null,Ro,b))?new LK(this.Gc,this.Fc,this.Lc,this.Jc,
c,this.fa,this.da,null):new LK(this.Gc,this.Fc,this.Lc,this.Jc,this.Mc,this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(new X(null,5,5,Z,[new Y(lo,this.Gc),new Y(Pu,this.Fc),new Y(js,this.Lc),new Y(DC,this.Jc),new Y(Ro,this.Mc)],null),this.da))};g.ta=function(a,b){return new LK(this.Gc,this.Fc,this.Lc,this.Jc,this.Mc,b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};function MK(a,b,c){return Of(pK(a,c),b)}
function JK(a,b){return MK(a,b,aA)}function xK(a,b){return MK(a,b,gz)}
function NK(a,b){for(;;){if("number"===typeof b&&0<b){if(2147483647<b)throw gm(["Highest supported entity id is ",hl.ea(P([2147483647])),", got ",hl.ea(P([b]))].join(""),new p(null,2,[Fp,ku,vx,b],null));return b}if(Cf(b)){var c=b,d=Q(c,0,null);c=Q(c,1,null);if(mh.aa(M(b),2))throw gm(["Lookup ref should contain 2 elements: ",hl.ea(P([b]))].join(""),new p(null,2,[Fp,Sz,ku,b],null));if(MK(a,d,Gm))return null==c?null:Tw.ba(J(mK(a,Ym,b)));throw gm(["Lookup ref attribute should be marked as :db/unique: ",
hl.ea(P([b]))].join(""),new p(null,2,[Fp,Tm,ku,b],null));}if(xc(b))b=P(b);else{if(b instanceof C)return Tw.ba(J(mK(a,Ym,new X(null,2,5,Z,[mB,b],null))));throw gm(["Expected number or lookup ref for entity id, got ",hl.ea(P([b]))].join(""),new p(null,2,[Fp,Hr,ku,b],null));}}}function KK(a,b){a=NK(a,b);if(r(a))return a;throw gm(["Nothing found for entity id ",hl.ea(P([b]))].join(""),new p(null,2,[Fp,Iq,ku,b],null));}function IK(a,b){return r(b)?KK(a,b):null}
function HK(a,b){if(a instanceof C||"string"===typeof a)return null;throw gm(["Bad entity attribute ",hl.ea(P([a]))," at ",hl.ea(P([b])),", expected keyword or string"].join(""),new p(null,3,[Fp,hn,gp,a,rA,b],null));}function OK(a,b){if(null==a)throw gm(["Cannot store nil as a value at ",hl.ea(P([b]))].join(""),new p(null,3,[Fp,hn,vx,a,rA,b],null));return null}function PK(a){return fi(a,new X(null,2,5,Z,[lo,Rz],null))+1}
function QK(a){return D.aa(a,xm)||D.aa(a,":db/current-tx")||D.aa(a,"datomic.tx")||D.aa(a,"datascript.tx")}function RK(a){return"number"===typeof a&&0>a||"string"===typeof a}function SK(a,b){return b>ly.ba(a)&&536870912>b?R.ca(a,ly,b):a}function TK(a,b,c){var d=QK(b)?ji.ya(a,DC,R,b,c):a;d=RK(b)?ji.ya(d,DC,R,b,c):d;if(b=!RK(b))a=Pu.ba(a),b=c>ly.ba(a)&&536870912>c;a=b?ji.ya(d,DC,R,c,c):d;return ji.ka(a,Pu,SK,c)}
function UK(a,b){var c=b.oc(null);c=r(c)?MK(a,b.a,Gm):c;if(r(c)&&(c=nh(mK(a,Ym,new X(null,2,5,Z,[b.a,b.v],null))),null!=c))throw gm(["Cannot add ",hl.ea(P([b]))," because of unique constraint: ",hl.ea(P([c]))].join(""),new p(null,3,[Fp,Jz,gp,b.a,aw,b],null));c=xK(a,b.a);if(r(b.oc(null)))return a=ji.ya(a,zv,nJ,b,gK),a=ji.ya(a,sy,nJ,b,hK),c=c?ji.ya(a,Ym,nJ,b,iK):a,b=SK(c,b.e),R.ca(b,bB,Dh(0));b=lK(a,new X(null,3,5,Z,[b.e,b.a,b.v],null));if(null==b)return a;a=ji.ya(a,zv,mJ,b,gK);a=ji.ya(a,sy,mJ,b,hK);
b=c?ji.ya(a,Ym,mJ,b,iK):a;return R.ca(b,bB,Dh(0))}function VK(a,b,c,d,e){return bg(function(f,h,k){var m=B.aa(f,h);r(m)||(m=dx.ba(J(mK(c,zv,new X(null,2,5,Z,[d,h],null)))),m=r(m)?m:Zf(Th(M(Po.ba(B.aa(oK(c),h))),null)));k=R.ca(m,k,e);return R.ca(f,h,k)},a,b)}function WK(a,b){var c=Pu.ba(a),d=Xw.ba(b);a=ji.ka(R.ca(a,Pu,UK(c,b)),js,of,b);if(MK(c,d,Us)){var e=Tw.ba(b);b=r(PJ(b))?dx.ba(b):null;var f=B.aa(Gz.ba(a),e);f=r(f)?f:W;d=B.aa(pK(c,Us),d);c=VK(f,d,c,e,b);return ji.ya(a,Gz,R,e,c)}return a}
function XK(a){if(a instanceof C)return D.aa("_",af(Jg(a),0));if("string"===typeof a)return Lf(Nk(/(?:([^\/]+)\/)?_([^\/]+)/,a));throw gm(["Bad attribute type: ",hl.ea(P([a])),", expected keyword or string"].join(""),new p(null,2,[Fp,hn,gp,a],null));}
function YK(a){if(a instanceof C)return XK(a)?Ig.aa(Gg(a),zg.aa(Jg(a),1)):Ig.aa(Gg(a),["_",Jg(a)].join(""));if("string"===typeof a){var b=Nk(/(?:([^\/]+)\/)?([^\/]+)/,a);Q(b,0,null);a=Q(b,1,null);b=Q(b,2,null);return D.aa("_",af(b,0))?r(a)?[t.ba(a),"/",zg.aa(b,1)].join(""):zg.aa(b,1):r(a)?[t.ba(a),"/_",t.ba(b)].join(""):["_",t.ba(b)].join("")}throw gm(["Bad attribute type: ",hl.ea(P([a])),", expected keyword or string"].join(""),new p(null,2,[Fp,hn,gp,a],null));}
function ZK(a,b){function c(f,h){return v.ca(function(k,m){var n=d(f,m);return null==n?ji.ka(k,0,of,m):ji.ya(k,1,R,m,n)},new X(null,2,5,Z,[pf,W],null),h)}function d(f,h){return Tw.ba(J(mK(a,Ym,new X(null,2,5,Z,[f,h],null))))}var e=nh(pK(a,Ez));return null==e?new X(null,2,5,Z,[b,null],null):bg(function(f,h,k){var m=Q(f,0,null);f=Q(f,1,null);if(Of(e,h)){if(MK(a,h,EB)&&(OI(k)||Af(k)&&!Ef(k))){var n=c(h,k);k=Q(n,0,null);n=Q(n,1,null);return new X(null,2,5,Z,[zf(k)?m:R.ca(m,h,k),zf(n)?f:R.ca(f,h,n)],null)}n=
d(h,k);return null==n?new X(null,2,5,Z,[R.ca(m,h,k),f],null):new X(null,2,5,Z,[m,R.ca(f,h,tf([k,n]))],null)}return new X(null,2,5,Z,[R.ca(m,h,k),f],null)},new X(null,2,5,Z,[W,W],null),b)}
function $K(a,b){var c=bg(function(h,k,m){return bg(function(n,q,u){return R.ca(n,u,new X(null,2,5,Z,[k,q],null))},h,m)},W,b);if(2<=M(c)){b=J(c);a=Q(b,0,null);var d=Q(b,1,null);b=Q(d,0,null);d=Q(d,1,null);var e=lf(c);c=Q(e,0,null);var f=Q(e,1,null);e=Q(f,0,null);f=Q(f,1,null);throw gm(["Conflicting upserts: ",hl.ea(P([new X(null,2,5,Z,[b,d],null)]))," resolves to ",hl.ea(P([a])),", but ",hl.ea(P([new X(null,2,5,Z,[e,f],null)]))," resolves to ",hl.ea(P([c]))].join(""),new p(null,3,[Fp,gt,dC,new X(null,
3,5,Z,[a,b,d],null),Zv,new X(null,3,5,Z,[c,e,f],null)],null));}d=J(c);b=Q(d,0,null);c=Q(d,1,null);d=Q(c,0,null);c=Q(c,1,null);a=Xf.ba(a);if(null!=b&&null!=a&&!RK(a)&&mh.aa(b,a))throw gm(["Conflicting upsert: ",hl.ea(P([new X(null,2,5,Z,[d,c],null)]))," resolves to ",hl.ea(P([b])),", but entity already has :db/id ",hl.ea(P([a]))].join(""),new p(null,3,[Fp,gt,dC,new X(null,3,5,Z,[b,d,c],null),Zv,new p(null,1,[Xf,a],null)],null));return b}
function aL(a,b,c){return XK(b)||MK(a,b,EB)?OI(c)||Af(c)&&!Ef(c)?D.aa(M(c),2)&&MK(a,J(c),Ez)?new X(null,1,5,Z,[c],null):c:new X(null,1,5,Z,[c],null):new X(null,1,5,Z,[c],null)}
function bL(a,b){var c=Xf.ba(b);return function f(e){return new Kg(null,function(){for(var h=e;;){var k=E(h);if(k){var m=k,n=J(m),q=Q(n,0,null),u=Q(n,1,null);if(mh.aa(q,Xf)){var w=HK(q,tf([Xf,c,q,u])),z=XK(q),F=z?YK(q):q;if(z&&!JK(a,F))throw gm(["Bad attribute ",hl.ea(P([q])),": reverse attribute name requires {:db/valueType :db.type/ref} in schema"].join(""),new p(null,3,[Fp,hn,gp,q,rA,tf([Xf,c,q,u])],null));if(k=E(function(H,G,N,O,U,ea,va,xa,ya,Ta,ka){return function ua(Ca){return new Kg(null,function(Ba,
Ya,bc,yb,fc,Yb,Vd,dg,Df,Wg,$c){return function(){for(;;){var Ed=E(Ca);if(Ed){if(Hf(Ed)){var ye=ae(Ed),eg=M(ye),Fd=Og(eg);a:for(var ze=0;;)if(ze<eg){var Gd=x(ye,ze);Gd=JK(a,yb)&&Ef(Gd)?R.ca(Gd,YK(Vd),$c):bc?new X(null,4,5,Z,[uC,Gd,yb,$c],null):new X(null,4,5,Z,[uC,$c,yb,Gd],null);Fd.add(Gd);ze+=1}else{ye=!0;break a}return ye?Qg(Sg(Fd),ua(be(Ed))):Qg(Sg(Fd),null)}Fd=J(Ed);return gf(JK(a,yb)&&Ef(Fd)?R.ca(Fd,YK(Vd),$c):bc?new X(null,4,5,Z,[uC,Fd,yb,$c],null):new X(null,4,5,Z,[uC,$c,yb,Fd],null),ua(Ee(Ed)))}return null}}}(H,
G,N,O,U,ea,va,xa,ya,Ta,ka),null,null)}}(h,w,z,F,null,n,q,u,m,k,c)(aL(a,q,u))))return V.aa(k,f(Ee(h)))}h=Ee(h)}else return null}},null,null)}(b)}function cL(a,b){Q(b,0,null);var c=Q(b,1,null),d=Q(b,2,null),e=Q(b,3,null),f=Q(b,4,null);HK(d,b);OK(e,b);b=r(f)?f:PK(a);f=Pu.ba(a);c=KK(f,c);e=JK(f,d)?KK(f,e):e;var h=FJ.ka(c,d,e,b);f=MK(f,d,EB)?lK(f,new X(null,3,5,Z,[c,d,e],null)):lK(f,new X(null,2,5,Z,[c,d],null));return null==f?WK(a,h):D.aa(f.v,e)?ji.ka(a,Bt,KJ,h):WK(WK(a,FJ.ya(c,d,f.v,b,!1)),h)}
function dL(a,b){var c=PK(a);return WK(a,FJ.ya(b.e,b.a,b.v,c,!1))}function eL(a,b){return bi.ca(tk,xh.aa(Zh(function(c){return MK(a,c.a,Hm)}),Mh.ba(function(c){return new X(null,2,5,Z,[bq,c.v],null)})),b)}function fL(a,b,c,d,e){if(Of(DC.ba(a),d))throw gm(["Conflicting upsert: ",hl.ea(P([d]))," resolves both to ",hl.ea(P([e]))," and ",hl.ea(P([fi(a,new X(null,2,5,Z,[DC,d],null))]))].join(""),new p(null,1,[Fp,gt],null));b=R.ca(DC.ba(b),d,e);a=R.ca(a,DC,b);return gL.aa?gL.aa(a,c):gL.call(null,a,c)}
var hL=new rk(null,new p(null,8,[mv,null,Fv,null,bq,null,Js,null,Ur,null,ot,null,Jn,null,uC,null],null),null);function iL(a){var b=Pu.ba(a);oK(b);pK(b,Us);return bg(function(c,d,e){return bg(function(f,h,k){k=sh(wc,k)?null:k;var m=dx.ba(J(mK(b,zv,new X(null,2,5,Z,[d,h],null))));return D.aa(k,m)?f:null==k?of.aa(f,wf(new X(null,4,5,Z,[Ur,d,h,m],null),new p(null,1,[$s,!0],null))):of.aa(f,wf(new X(null,4,5,Z,[uC,d,h,k],null),new p(null,1,[$s,!0],null)))},c,e)},pf,Gz.ba(a))}
function jL(a){var b=Um.ba(a);b=v.ca(function(c,d){return r(PJ(d))?S.aa(c,Tw.ba(d)):c},b,V.aa(js.ba(a),Bt.ba(a)));if(zf(b))return S.ea(a,Um,P([Bt]));throw gm(["Tempids used only as value in transaction: ",hl.ea(P([Uf(Rf,ej(b))]))].join(""),new p(null,2,[Fp,hn,DC,b],null));}
function gL(a,b){if(null!=b&&!Cf(b))throw gm(["Bad transaction data ",hl.ea(P([b])),", expected sequential collection"].join(""),new p(null,2,[Fp,hn,js,b],null));for(var c=!zf(pK(Pu.ba(a),Sm)),d=c?Wh.aa(b,Sh(Im)):b,e=a,f=d;;){if(zf(f))return ji.ya(ji.ya(jL(e),DC,R,xm,PK(e)),Pu,ji,Rz,Ne);var h=f,k=E(h),m=J(k),n=K(k),q=m,u=n;if(null==q)f=u;else if(D.aa(Im,q))if(Of(e,Gz)){var w=S.aa(e,Gz);u=V.aa(iL(e),u);e=w;f=u}else f=u;else{var z=Pu.ba(e),F=DC.ba(e);if(Ef(q)){var H=Xf.ba(q);if(QK(H))w=PK(e),e=TK(e,
H,w),f=u=gf(R.ca(q,Xf,w),u);else if(Cf(H))w=KK(z,H),f=u=gf(R.ca(q,Xf,w),u);else{var G=ZK(z,q);w=Q(G,0,null);G=Q(G,1,null);var N=$K(w,G);if(null!=N){if(RK(H)&&Of(F,H)&&mh.aa(N,B.aa(F,H)))return fL(a,e,b,H,N);e=TK(e,H,N);f=u=V.aa(bL(z,R.ca(w,Xf,N)),u)}else if("number"===typeof H||null==H||"string"===typeof H)w=null==H?ly.ba(z)+1:RK(H)?function(){var Yb=B.aa(F,H);return r(Yb)?Yb:ly.ba(z)+1}():H,q=R.ca(q,Xf,w),e=TK(e,H,w),f=u=V.aa(bL(z,q),u);else throw gm(["Expected number, string or lookup ref for :db/id, got ",
hl.ea(P([H]))].join(""),new p(null,2,[Fp,Hr,Ru,q],null));}}else if(Cf(q)){var O=q;G=Q(O,0,null);var U=Q(O,1,null);w=Q(O,2,null);var ea=Q(O,3,null);if(D.aa(G,mv)){w=E(q);q=J(w);w=K(w);var va=q;q=J(w);w=K(w);f=u=V.aa(ih(q,z,w),u)}else if(G instanceof C&&zc(hL.ba?hL.ba(G):hL.call(null,G))){va=NK(z,G);if(null==va)throw gm(["Cant find entity for transaction fn ",hl.ea(P([G]))].join(""),new p(null,3,[Fp,hn,ws,mv,js,q],null));U=dx.ba(lK(z,new X(null,2,5,Z,[va,Er],null)));w=K(q);if(uf(U))f=u=V.aa(ih(U,z,
w),u);else throw gm(["Entity ",hl.ea(P([G]))," expected to have :db/fn attribute with fn? value"].join(""),new p(null,3,[Fp,hn,ws,mv,js,q],null));}else{if(RK(U)&&mh.aa(G,uC))throw gm(["Can't use tempid in '",hl.ea(P([q])),"'. Tempids are allowed in :db/add only"].join(""),new p(null,2,[Fp,hn,Co,q],null));if(D.aa(G,Jn)||D.aa(G,Fv)){var xa=q;va=Q(xa,0,null);var ya=Q(xa,1,null),Ta=Q(xa,2,null),ka=Q(xa,3,null),pa=Q(xa,4,null),Ca=KK(z,ya),ua=HK(Ta,q),Ba=JK(z,Ta)?KK(z,ka):ka,Ya=JK(z,Ta)?KK(z,pa):pa,bc=
OK(Ya,q),yb=Zf(kK(z,new X(null,2,5,Z,[Ca,Ta],null)));if(MK(z,Ta,EB))if(r(th(function(Yb,Vd,dg,Df,Wg,$c,Ed,ye,eg,Fd,ze){return function(Gd){return D.aa(Gd.v,ze)}}(e,f,xa,va,ya,Ta,ka,pa,Ca,ua,Ba,Ya,bc,yb,O,G,U,w,ea,z,F,h,k,m,n,q,u,a,c,d),yb)))e=cL(e,new X(null,4,5,Z,[uC,Ca,Ta,Ya],null)),f=u;else throw gm([":db.fn/cas failed on datom [",hl.ea(P([Ca]))," ",hl.ea(P([Ta]))," ",hl.ea(P([Mh.aa(dx,yb)])),"], expected ",hl.ea(P([Ba]))].join(""),new p(null,4,[Fp,En,LA,yb,km,Ba,Sr,Ya],null));else if(G=dx.ba(J(yb)),
D.aa(G,Ba))e=cL(e,new X(null,4,5,Z,[uC,Ca,Ta,Ya],null)),f=u;else throw gm([":db.fn/cas failed on datom [",hl.ea(P([Ca]))," ",hl.ea(P([Ta]))," ",hl.ea(P([G])),"], expected ",hl.ea(P([Ba]))].join(""),new p(null,4,[Fp,En,LA,J(yb),km,Ba,Sr,Ya],null));}else if(QK(U))q=TK(e,U,PK(e)),u=gf(new X(null,4,5,Z,[G,PK(e),w,ea],null),u),e=q,f=u;else if(JK(z,w)&&QK(ea))q=TK(e,ea,PK(e)),u=gf(new X(null,4,5,Z,[G,U,w,PK(e)],null),u),e=q,f=u;else if(JK(z,w)&&RK(ea))va=B.aa(F,ea),null==va?(q=ly.ba(z)+1,e=ji.ya(TK(e,ea,
q),Um,R,q,ea),f=u=f):(q=va,e=ji.ya(e,Um,R,q,ea),f=u=gf(new X(null,4,5,Z,[G,U,w,q],null),u));else if(RK(U)){N=MK(z,w,Ez)?Tw.ba(J(mK(z,Ym,new X(null,2,5,Z,[w,ea],null)))):null;var fc=B.aa(F,U);if(r(function(){var Yb=N;return r(Yb)?(Yb=fc,r(Yb)?mh.aa(N,fc):Yb):Yb}()))return fL(a,e,b,U,N);q=function(){var Yb=N;if(r(Yb))return Yb;Yb=fc;return r(Yb)?Yb:ly.ba(z)+1}();e=TK(e,U,q);f=u=gf(new X(null,4,5,Z,[G,q,w,ea],null),u)}else{if(zc($s.ba(xf(q)))&&MK(z,w,Sm))throw gm(["Cant modify tuple attrs directly: ",
hl.ea(P([q]))].join(""),new p(null,2,[Fp,hn,js,q],null));if(D.aa(G,uC))e=cL(e,q),f=u;else if(D.aa(G,Ur)&&null!=ea)va=NK(z,U),null==va?f=u:(ya=va,G=JK(z,w)?KK(z,ea):ea,HK(w,q),OK(G,q),w=lK(z,new X(null,3,5,Z,[ya,w,G],null)),null==w?f=u:(e=dL(e,w),f=u));else if(D.aa(G,ot)||D.aa(G,Ur))va=NK(z,U),null==va?f=u:(ya=va,va=HK(w,q),yb=Zf(kK(z,new X(null,2,5,Z,[ya,w],null))),e=v.ca(dL,e,yb),f=u=V.aa(eL(z,yb),u));else if(D.aa(G,bq)||D.aa(G,Js))va=NK(z,U),null==va?f=u:(ya=va,yb=Zf(kK(z,new X(null,1,5,Z,[ya],
null))),w=Zf(Yh(function(Yb,Vd,dg,Df,Wg,$c,Ed,ye,eg,Fd,ze){return function(Gd){return kK(ze,new X(null,3,5,Z,[null,Gd,Df],null))}}(e,f,yb,ya,va,O,G,U,w,ea,z,F,h,k,m,n,q,u,a,c,d),P([pK(z,aA)]))),e=v.ca(dL,e,V.aa(yb,w)),f=u=V.aa(eL(z,yb),u));else throw gm(["Unknown operation at ",hl.ea(P([q])),", expected :db/add, :db/retract, :db.fn/call, :db.fn/retractAttribute, :db.fn/retractEntity or an ident corresponding to an installed transaction function (e.g. {:db/ident \x3ckeyword\x3e :db/fn \x3cIfn\x3e}, usage of :db/ident requires {:db/unique :db.unique/identity} in schema)"].join(""),
new p(null,3,[Fp,hn,ws,G,js,q],null));}}}else if(ZJ(q))G=q,U=Q(G,0,null),w=Q(G,1,null),ea=Q(G,2,null),q=Q(G,3,null),G=Q(G,4,null),r(G)?(e=cL(e,new X(null,5,5,Z,[uC,U,w,ea,q],null)),f=u):f=u=gf(new X(null,4,5,Z,[Ur,U,w,ea],null),u);else throw gm(["Bad entity type at ",hl.ea(P([q])),", expected map or vector"].join(""),new p(null,2,[Fp,hn,js,q],null));}}};function kL(a,b,c,d,e){this.yd=a;this.Db=b;this.fa=c;this.da=d;this.ga=e;this.ha=2230716170;this.na=139264}g=kL.prototype;g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "wildcard?":return this.yd;case "attrs":return this.Db;default:return B.ca(this.da,b,c)}};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};
g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.pull-parser.PullSpec{",", ","}",c,V.aa(new X(null,2,5,Z,[new X(null,2,5,Z,[bp,this.yd],null),new X(null,2,5,Z,[Zt,this.Db],null)],null),this.da))};g.Ca=function(){return new Yi(this,2,new X(null,2,5,Z,[bp,Zt],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 2+M(this.da)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=90253489^Le(this)};
g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.yd,b.yd)&&D.aa(this.Db,b.Db)&&D.aa(this.da,b.da)};g.Ka=function(a,b){return Of(new rk(null,new p(null,2,[Zt,null,bp,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new kL(this.yd,this.Db,this.fa,nh(S.aa(this.da,b)),null)};
g.ra=function(a,b,c){return r(T.aa?T.aa(bp,b):T.call(null,bp,b))?new kL(c,this.Db,this.fa,this.da,null):r(T.aa?T.aa(Zt,b):T.call(null,Zt,b))?new kL(this.yd,c,this.fa,this.da,null):new kL(this.yd,this.Db,this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(new X(null,2,5,Z,[new Y(bp,this.yd),new Y(Zt,this.Db)],null),this.da))};g.ta=function(a,b){return new kL(this.yd,this.Db,b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};
function lL(a){if(null!=a&&null!=a.pd)a=a.pd(a);else{var b=lL[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=lL._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("IPullSpecComponent.-as-spec",a);}return a}function mL(a,b,c,d){this.attr=a;this.fa=b;this.da=c;this.ga=d;this.ha=2230716170;this.na=139264}g=mL.prototype;g.Aa=function(a,b){return this.la(null,b,null)};
g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "attr":return this.attr;default:return B.ca(this.da,b,c)}};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.pull-parser.PullAttrName{",", ","}",c,V.aa(new X(null,1,5,Z,[new X(null,2,5,Z,[zy,this.attr],null)],null),this.da))};
g.Ca=function(){return new Yi(this,1,new X(null,1,5,Z,[zy],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 1+M(this.da)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=-838771693^Le(this)};g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.attr,b.attr)&&D.aa(this.da,b.da)};g.pd=function(){return new X(null,2,5,Z,[this.attr,new p(null,1,[zy,this.attr],null)],null)};
g.Ka=function(a,b){return Of(new rk(null,new p(null,1,[zy,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new mL(this.attr,this.fa,nh(S.aa(this.da,b)),null)};g.ra=function(a,b,c){return r(T.aa?T.aa(zy,b):T.call(null,zy,b))?new mL(c,this.fa,this.da,null):new mL(this.attr,this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(new X(null,1,5,Z,[new Y(zy,this.attr)],null),this.da))};g.ta=function(a,b){return new mL(this.attr,b,this.da,this.ga)};
g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};function nL(a,b,c,d,e){this.attr=a;this.ed=b;this.fa=c;this.da=d;this.ga=e;this.ha=2230716170;this.na=139264}g=nL.prototype;g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "attr":return this.attr;case "rattr":return this.ed;default:return B.ca(this.da,b,c)}};
g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.pull-parser.PullReverseAttrName{",", ","}",c,V.aa(new X(null,2,5,Z,[new X(null,2,5,Z,[zy,this.attr],null),new X(null,2,5,Z,[iz,this.ed],null)],null),this.da))};g.Ca=function(){return new Yi(this,2,new X(null,2,5,Z,[zy,iz],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};
g.xa=function(){return 2+M(this.da)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=158820207^Le(this)};g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.attr,b.attr)&&D.aa(this.ed,b.ed)&&D.aa(this.da,b.da)};g.pd=function(){return new X(null,2,5,Z,[this.ed,new p(null,1,[zy,this.attr],null)],null)};
g.Ka=function(a,b){return Of(new rk(null,new p(null,2,[iz,null,zy,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new nL(this.attr,this.ed,this.fa,nh(S.aa(this.da,b)),null)};g.ra=function(a,b,c){return r(T.aa?T.aa(zy,b):T.call(null,zy,b))?new nL(c,this.ed,this.fa,this.da,null):r(T.aa?T.aa(iz,b):T.call(null,iz,b))?new nL(this.attr,c,this.fa,this.da,null):new nL(this.attr,this.ed,this.fa,R.ca(this.da,b,c),null)};
g.va=function(){return E(V.aa(new X(null,2,5,Z,[new Y(zy,this.attr),new Y(iz,this.ed)],null),this.da))};g.ta=function(a,b){return new nL(this.attr,this.ed,b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};function oL(a,b,c,d,e){this.attr=a;this.limit=b;this.fa=c;this.da=d;this.ga=e;this.ha=2230716170;this.na=139264}g=oL.prototype;g.Aa=function(a,b){return this.la(null,b,null)};
g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "attr":return this.attr;case "limit":return this.limit;default:return B.ca(this.da,b,c)}};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};
g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.pull-parser.PullLimitExpr{",", ","}",c,V.aa(new X(null,2,5,Z,[new X(null,2,5,Z,[zy,this.attr],null),new X(null,2,5,Z,[Om,this.limit],null)],null),this.da))};g.Ca=function(){return new Yi(this,2,new X(null,2,5,Z,[zy,Om],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 2+M(this.da)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=2109320956^Le(this)};
g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.attr,b.attr)&&D.aa(this.limit,b.limit)&&D.aa(this.da,b.da)};g.pd=function(){return hi(lL(this.attr),new X(null,2,5,Z,[1,Om],null),this.limit)};g.Ka=function(a,b){return Of(new rk(null,new p(null,2,[Om,null,zy,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new oL(this.attr,this.limit,this.fa,nh(S.aa(this.da,b)),null)};
g.ra=function(a,b,c){return r(T.aa?T.aa(zy,b):T.call(null,zy,b))?new oL(c,this.limit,this.fa,this.da,null):r(T.aa?T.aa(Om,b):T.call(null,Om,b))?new oL(this.attr,c,this.fa,this.da,null):new oL(this.attr,this.limit,this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(new X(null,2,5,Z,[new Y(zy,this.attr),new Y(Om,this.limit)],null),this.da))};g.ta=function(a,b){return new oL(this.attr,this.limit,b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};
function pL(a,b,c,d,e){this.attr=a;this.value=b;this.fa=c;this.da=d;this.ga=e;this.ha=2230716170;this.na=139264}g=pL.prototype;g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "attr":return this.attr;case "value":return this.value;default:return B.ca(this.da,b,c)}};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};
g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.pull-parser.PullDefaultExpr{",", ","}",c,V.aa(new X(null,2,5,Z,[new X(null,2,5,Z,[zy,this.attr],null),new X(null,2,5,Z,[vx,this.value],null)],null),this.da))};g.Ca=function(){return new Yi(this,2,new X(null,2,5,Z,[zy,vx],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 2+M(this.da)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=-1499761615^Le(this)};
g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.attr,b.attr)&&D.aa(this.value,b.value)&&D.aa(this.da,b.da)};g.pd=function(){return hi(lL(this.attr),new X(null,2,5,Z,[1,bm],null),this.value)};g.Ka=function(a,b){return Of(new rk(null,new p(null,2,[vx,null,zy,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new pL(this.attr,this.value,this.fa,nh(S.aa(this.da,b)),null)};
g.ra=function(a,b,c){return r(T.aa?T.aa(zy,b):T.call(null,zy,b))?new pL(c,this.value,this.fa,this.da,null):r(T.aa?T.aa(vx,b):T.call(null,vx,b))?new pL(this.attr,c,this.fa,this.da,null):new pL(this.attr,this.value,this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(new X(null,2,5,Z,[new Y(zy,this.attr),new Y(vx,this.value)],null),this.da))};g.ta=function(a,b){return new pL(this.attr,this.value,b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};
function qL(a,b,c){this.fa=a;this.da=b;this.ga=c;this.ha=2230716170;this.na=139264}g=qL.prototype;g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){return B.ca(this.da,b,c)};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.pull-parser.PullWildcard{",", ","}",c,V.aa(pf,this.da))};
g.Ca=function(){return new Yi(this,0,pf,r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 0+M(this.da)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=-163917799^Le(this)};g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.da,b.da)};g.Ka=function(a,b){return Of(tk,b)?S.aa(sd(bi.aa(W,this),this.fa),b):new qL(this.fa,nh(S.aa(this.da,b)),null)};g.ra=function(a,b,c){return new qL(this.fa,R.ca(this.da,b,c),null)};
g.va=function(){return E(V.aa(pf,this.da))};g.ta=function(a,b){return new qL(b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};function rL(a,b,c,d){this.limit=a;this.fa=b;this.da=c;this.ga=d;this.ha=2230716170;this.na=139264}g=rL.prototype;g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "limit":return this.limit;default:return B.ca(this.da,b,c)}};
g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.pull-parser.PullRecursionLimit{",", ","}",c,V.aa(new X(null,1,5,Z,[new X(null,2,5,Z,[Om,this.limit],null)],null),this.da))};g.Ca=function(){return new Yi(this,1,new X(null,1,5,Z,[Om],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 1+M(this.da)};
g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=1552688154^Le(this)};g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.limit,b.limit)&&D.aa(this.da,b.da)};g.pd=function(){return new X(null,2,5,Z,[Ps,this.limit],null)};g.Ka=function(a,b){return Of(new rk(null,new p(null,1,[Om,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new rL(this.limit,this.fa,nh(S.aa(this.da,b)),null)};
g.ra=function(a,b,c){return r(T.aa?T.aa(Om,b):T.call(null,Om,b))?new rL(c,this.fa,this.da,null):new rL(this.limit,this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(new X(null,1,5,Z,[new Y(Om,this.limit)],null),this.da))};g.ta=function(a,b){return new rL(this.limit,b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};function sL(a,b,c,d,e){this.attr=a;this.dd=b;this.fa=c;this.da=d;this.ga=e;this.ha=2230716170;this.na=139264}g=sL.prototype;
g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "attr":return this.attr;case "porrl":return this.dd;default:return B.ca(this.da,b,c)}};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};
g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.pull-parser.PullMapSpecEntry{",", ","}",c,V.aa(new X(null,2,5,Z,[new X(null,2,5,Z,[zy,this.attr],null),new X(null,2,5,Z,[xC,this.dd],null)],null),this.da))};g.Ca=function(){return new Yi(this,2,new X(null,2,5,Z,[zy,xC],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 2+M(this.da)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=152088668^Le(this)};
g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.attr,b.attr)&&D.aa(this.dd,b.dd)&&D.aa(this.da,b.da)};g.pd=function(){return ji.ka(lL(this.attr),1,of,lL(this.dd))};g.Ka=function(a,b){return Of(new rk(null,new p(null,2,[xC,null,zy,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new sL(this.attr,this.dd,this.fa,nh(S.aa(this.da,b)),null)};
g.ra=function(a,b,c){return r(T.aa?T.aa(zy,b):T.call(null,zy,b))?new sL(c,this.dd,this.fa,this.da,null):r(T.aa?T.aa(xC,b):T.call(null,xC,b))?new sL(this.attr,c,this.fa,this.da,null):new sL(this.attr,this.dd,this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(new X(null,2,5,Z,[new Y(zy,this.attr),new Y(xC,this.dd)],null),this.da))};g.ta=function(a,b){return new sL(this.attr,this.dd,b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};
function tL(a,b,c,d,e){this.attr=a;this.mc=b;this.fa=c;this.da=d;this.ga=e;this.ha=2230716170;this.na=139264}g=tL.prototype;g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "attr":return this.attr;case "opts":return this.mc;default:return B.ca(this.da,b,c)}};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};
g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.pull-parser.PullAttrWithOpts{",", ","}",c,V.aa(new X(null,2,5,Z,[new X(null,2,5,Z,[zy,this.attr],null),new X(null,2,5,Z,[ao,this.mc],null)],null),this.da))};g.Ca=function(){return new Yi(this,2,new X(null,2,5,Z,[zy,ao],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 2+M(this.da)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=-429987476^Le(this)};
g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.attr,b.attr)&&D.aa(this.mc,b.mc)&&D.aa(this.da,b.da)};g.pd=function(){return ji.ka(lL(this.attr),1,mk,this.mc)};g.Ka=function(a,b){return Of(new rk(null,new p(null,2,[ao,null,zy,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new tL(this.attr,this.mc,this.fa,nh(S.aa(this.da,b)),null)};
g.ra=function(a,b,c){return r(T.aa?T.aa(zy,b):T.call(null,zy,b))?new tL(c,this.mc,this.fa,this.da,null):r(T.aa?T.aa(ao,b):T.call(null,ao,b))?new tL(this.attr,c,this.fa,this.da,null):new tL(this.attr,this.mc,this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(new X(null,2,5,Z,[new Y(zy,this.attr),new Y(ao,this.mc)],null),this.da))};g.ta=function(a,b){return new tL(this.attr,this.mc,b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};
function uL(a,b){return b instanceof qL?R.ca(a,bp,!0):ji.ka(a,Zt,Zg,lL(b))}function vL(a,b,c,d){this.vd=a;this.fa=b;this.da=c;this.ga=d;this.ha=2230716170;this.na=139264}g=vL.prototype;g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "specs":return this.vd;default:return B.ca(this.da,b,c)}};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};
g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.pull-parser.PullPattern{",", ","}",c,V.aa(new X(null,1,5,Z,[new X(null,2,5,Z,[kv,this.vd],null)],null),this.da))};g.Ca=function(){return new Yi(this,1,new X(null,1,5,Z,[kv],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 1+M(this.da)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=-795554044^Le(this)};
g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.vd,b.vd)&&D.aa(this.da,b.da)};g.pd=function(){var a=new kL(!1,Sd(W),null,null,null);a=v.ca(uL,a,this.vd);return new X(null,2,5,Z,[Wq,ji.ca(a,Zt,Yg)],null)};g.Ka=function(a,b){return Of(new rk(null,new p(null,1,[kv,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new vL(this.vd,this.fa,nh(S.aa(this.da,b)),null)};
g.ra=function(a,b,c){return r(T.aa?T.aa(kv,b):T.call(null,kv,b))?new vL(c,this.fa,this.da,null):new vL(this.vd,this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(new X(null,1,5,Z,[new Y(kv,this.vd)],null),this.da))};g.ta=function(a,b){return new vL(this.vd,b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};var wL=new rk(null,new p(null,3,[Gs,null,"*",null,Yx,null],null),null);
function xL(a){return a instanceof C||"string"===typeof a?XK(a)?new nL(YK(a),a,null,null,null):new mL(a,null,null,null):null}var yL=new rk(null,new p(null,2,["...",null,tv,null],null),null);function zL(a){return Cf(a)&&D.aa(3,M(a))}var AL=new rk(null,new p(null,3,[$p,null,Om,null,"limit",null],null),null);
function BL(a){var b=Q(a,0,null),c=Q(a,1,null),d=Q(a,2,null);if(r(AL.ba?AL.ba(b):AL.call(null,b))){b=null==d||"number"===typeof d&&0<d?xL(c):!1;if(r(b))return new oL(b,d,null,null,null);throw gm('Expected ["limit" attr-name (positive-number | nil)]',new p(null,2,[Fp,Zy,Mt,a],null));}return null}var CL=new rk(null,new p(null,3,[hp,null,bm,null,"default",null],null),null);
function DL(a){if(Cf(a)){a=E(a);var b=J(a);a=K(a);b=xL(b);if(null==b)a=null;else{var c;if(c=uh(M(a)))c=sh(new rk(null,new p(null,3,[Om,null,bm,null,Uz,null],null),null),Mh.aa(J,ei(2,2,a)));a=c?new tL(b,hh(jk,a),null,null,null):null}return a}return null}
function EL(a){var b=Q(a,0,null),c=Q(a,1,null);a=function(){var e=xL(b);if(r(e))return e;e=DL(b);return r(e)?e:zL(b)?BL(b):null}();if(r(a)){var d=function(){var e=r(yL.ba?yL.ba(c):yL.call(null,c))?new rL(null,null,null,null):"number"===typeof c&&0<c?new rL(c,null,null,null):null;return r(e)?e:FL.ba?FL.ba(c):FL.call(null,c)}();if(r(d))return new sL(a,d,null,null,null);throw gm("Expected (pattern | recursion-limit)",new p(null,2,[Fp,Zy,Mt,new X(null,2,5,Z,[b,c],null)],null));}throw gm("Expected (attr-name | limit-expr)",
new p(null,2,[Fp,Zy,Mt,new X(null,2,5,Z,[b,c],null)],null));}
function GL(a){var b=xL(a);if(r(b))return b;b=r(wL.ba?wL.ba(a):wL.call(null,a))?new qL(null,null,null):null;if(r(b))return b;b=Ef(a)?EL(J(a)):null;if(r(b))return b;b=DL(a);if(r(b))return b;if(zL(a)){if(b=BL(a),!r(b))b:{var c=Q(a,0,null),d=Q(a,1,null);b=Q(a,2,null);if(r(CL.ba?CL.ba(c):CL.call(null,c))){c=xL(d);if(r(c)){b=new pL(c,b,null,null,null);break b}throw gm('Expected ["default" attr-name any-value]',new p(null,2,[Fp,Zy,Mt,a],null));}b=null}}else b=null;if(r(b))return b;throw gm("Cannot parse attr-spec, expected: (attr-name | wildcard | map-spec | attr-expr)",
new p(null,2,[Fp,Zy,Mt,a],null));}function HL(a){return Ef(a)?Ty:r(wL.ba?wL.ba(a):wL.call(null,a))?lu:Gv}function IL(a){return bi.ca(pf,Mh.ba(function(b){return of.aa(W,b)}),a)}function JL(a){a=Nl(HL,a);var b=r(nh(B.aa(a,lu)))?new X(null,1,5,Z,[Yx],null):pf;return bi.ca(bi.aa(b,B.aa(a,Gv)),xh.aa(Mh.ba(IL),Al),B.aa(a,Ty))}function FL(a){return Cf(a)?new vL(bi.ca(pf,Mh.ba(GL),JL(a)),null,null,null):null}
function KL(a){var b=null==a?null:FL(a);b=null==b?null:lf(lL(b));if(r(b))return b;throw gm("Cannot parse pull pattern, expected: [attr-spec+]",new p(null,2,[Fp,Zy,Mt,a],null));};function LL(a,b){return v.ca(Zg,a,b)}function ML(a,b,c){return Pj([jq,po,jo,Ps,kv,bp,it,PA,jC],[c,b,PA,new p(null,2,[iq,W,Zr,tk],null),E(Zt.ba(a)),bp.ba(a),Sd(W),a,Sd(pf)])}function NL(a,b,c,d){return R.ca(ML(a,b,c),zy,d)}function OL(a,b,c){var d=PA.ba(a);return R.ea(a,po,b,P([kv,E(Zt.ba(d)),bp,bp.ba(d),it,Sd(W),jC,function(){var e=jC.ba(a);return E(c)?Zg.aa(e,c):e}()]))}
function PL(a,b,c){var d=null!=a&&(a.ha&64||l===a.Ea)?hh(ik,a):a,e=B.aa(d,iq);d=B.aa(d,Zr);return R.ea(a,iq,ji.ca(e,b,zh(Ne,0)),P([Zr,of.aa(d,c)]))}function QL(a,b,c){return Of(gi(a,new X(null,2,5,Z,[Ps,Zr],null),tk),c)?of.aa(b,ji.ka(a,jC,Zg,new p(null,1,[Xf,c],null))):null}function RL(a,b){b=it.ba(b);b=null==b?null:Ud(b);return null==b?null:B.aa(b,a)}function SL(a,b){var c=zy.ba(a);c=PL(Ps.ba(a),c,b);return R.ca(NL(PA.ba(a),new X(null,1,5,Z,[b],null),!1,$t),Ps,c)}
function TL(a){a=E(a);var b=J(a);a=K(a);var c=E(po.ba(b));if(c){b=OL(b,Ee(c),RL($t,b));c=J(c);var d=QL(b,a,c);return r(d)?d:of.ea(a,b,P([SL(b,c)]))}c=RL($t,b);d=jC.ba(b);c=E(c)?Zg.aa(d,c):d;return of.aa(a,R.ea(b,jo,Fx,P([jC,c])))}function UL(a,b,c,d,e){var f=null!=d&&(d.ha&64||l===d.Ea)?hh(ik,d):d,h=B.aa(f,Ps);f=B.aa(f,PA);var k=B.ca(B.aa(h,iq),a,0);return D.aa(Ps.ba(B.aa(Zt.ba(f),a)),k)?of.aa(e,d):TL(of.ea(e,d,P([new p(null,7,[jo,Ps,PA,f,zy,a,jq,b,po,c,Ps,h,jC,Sd(pf)],null)])))}
var VL=new kL(!0,W,null,null,null);function WL(a,b,c,d,e){a=PL(Ps.ba(a),c,b);return R.ca(NL(VL,e,d,c),Ps,a)}
function XL(a,b,c,d,e,f,h,k){var m=E(k);k=J(m);m=K(m);var n=B.ca(h,Om,1E3),q=function(){var G=Uz.ba(h);return r(G)?G:b}(),u=nh(r(n)?bi.ca(pf,Nh.ba(n),f):f);if(r(u)){var w=JK(a,c);f=w&&MK(a,c,Hm);a=r(e)?MK(a,c,EB):!f;var z=r(e)?function(G){return G.v}:function(G){return G.e};if(Of(h,Wq))return of.ea(m,k,P([NL(Wq.ba(h),ci.aa(z,u),a,q)]));if(Of(h,Ps))return UL(q,a,ci.aa(z,u),k,m);if(r(f?e:!1))return of.ea(m,k,P([WL(k,d,q,a,ci.aa(z,u))]));var F=function(){return w?xh.aa(function(G){return Pj([Xf],[G])},
z):z}(),H=!a;return of.aa(m,ji.ya(k,it,$g,q,function(){var G=bi.ca(pf,Mh.ba(F),u);return H?J(G):G}()))}return of.aa(m,Of(h,bm)?ji.ya(k,it,$g,q,bm.ba(h)):k)}var YL=Zh(function(a){var b=Q(a,0,null);a=Q(a,1,null);return mh.aa(b,zy.ba(a))});function ZL(a,b,c){return NL(R.ea(PA.ba(a),Zt,c,P([bp,!1])),new X(null,1,5,Z,[b],null),!1,io)}function $L(a,b){return of.aa(Ee(a),ji.ka(J(a),it,LL,Ud(b)))}function aM(a){var b=E(a);a=J(b);b=K(b);var c=my.ba(a);a=RL(io,a);return $L(b,LL(c,r(a)?a:W))}
function bM(a,b){var c=E(b);b=J(c);c=K(c);var d=E(Xq.ba(b));if(d){var e=J(d);d=Q(e,0,null);e=Q(e,1,null);var f=B.ca(fi(b,new X(null,2,5,Z,[PA,Zt],null)),d,W);return XL(a,d,d,Gw.ba(b),!0,e,f,of.aa(c,ji.ca(b,Xq,Ee)))}a=nh(bi.ca(W,YL,fi(b,new X(null,2,5,Z,[PA,Zt],null))));return r(a)?(b=R.ea(b,jo,uo,P([my,it.ba(b),it,Sd(W)])),of.ea(c,b,P([ZL(b,Gw.ba(b),a)]))):$L(c,it.ba(b))}
function cM(a,b,c,d,e){var f=Nl(function(m){return m.a},mK(a,zv,new X(null,1,5,Z,[d],null))),h=null!=b&&(b.ha&64||l===b.Ea)?hh(ik,b):b,k=B.aa(h,zy);h=B.aa(h,Ps);k=null!=k?PL(h,k,d):h;return bM(a,of.ea(c,b,P([new p(null,6,[jo,wz,it,Sd(new p(null,1,[Xf,d],null)),Gw,d,PA,e,Xq,E(f),Ps,k],null)])))}
function dM(a,b){for(;;){var c=E(b);b=J(c);var d=K(c);c=b;if(b=E(po.ba(c))){if(r(bp.ba(c))){b=R.ea(c,kv,pf,P([Gw,J(b),bp,!1]));c=d;var e=null!=b&&(b.ha&64||l===b.Ea)?hh(ik,b):b;d=B.aa(e,Gw);e=B.aa(e,PA);var f=QL(b,c,d);return r(f)?f:cM(a,b,c,d,e)}if(e=E(kv.ba(c))){f=e;e=J(f);PA.ba(c);c=of.aa(d,R.ca(c,kv,Ee(f)));b=J(b);d=Q(e,0,null);e=Q(e,1,null);if(D.aa(Xf,d))a=r(nh(mK(a,zv,new X(null,1,5,Z,[b],null))))?of.aa(Ee(c),ji.ya(J(c),it,$g,Xf,b)):c;else{f=zy.ba(e);var h=D.aa(d,f),k=h?mK(a,zv,new X(null,2,
5,Z,[b,f],null)):mK(a,Ym,new X(null,2,5,Z,[f,b],null));a=XL(a,d,f,b,h,k,e,c)}return a}b=of.aa(d,OL(c,Ee(b),nh(Ud(it.ba(c)))))}else return of.aa(d,R.ca(c,jo,Fx))}}
function eM(a,b){for(;;){var c=jo.ba(J(b));c=c instanceof C?c.Ba:null;switch(c){case "expand":c=a;b=bM(a,b);a=c;continue;case "expand-rev":b=aM(b);continue;case "pattern":c=a;b=dM(a,b);a=c;continue;case "recursion":b=TL(b);continue;case "done":c=E(b);b=J(c);c=K(c);var d=b,e=c,f=function(){var h=Ud(jC.ba(d));return zc(jq.ba(d))?J(h):h}();if(E(e)){b=of.aa(Ee(e),function(){var h=J(e);return r(f)?ji.ya(h,it,$g,zy.ba(d),f):h}());continue}else return f;default:throw Error(["No matching clause: ",t.ba(c)].join(""));
}}}function fM(a,b,c){c=bi.ca(pf,Mh.ba(function(d){return KK(a,d)}),c);return eM(a,new qf(null,ML(b,c,!1),null,1,null))};function gM(a,b,c,d,e){this.be=a;this.Xg=b;this.Zg=c;this.Wg=d;this.limit=e;this.ha=2147484416;this.na=0}gM.prototype.ra=function(a,b,c){return hM.ca?hM.ca(this,b,c):hM.call(null,this,b,c)};gM.prototype.Aa=function(a,b){return bd(this.be,b,null)};gM.prototype.la=function(a,b,c){return bd(this.be,b,c)};gM.prototype.ua=function(a,b,c){return Nd(this.be,b,c)};function iM(a,b,c,d,e){return new gM(a,b,c,d,e)}
function hM(a,b,c){var d=a.be,e=a.Xg,f=a.Zg,h=a.Wg;a=a.limit;var k=f.aa?f.aa(b,null):f.call(null,b,null);if(r(k))return iM(d,R.ca(S.aa(e,k),h,b),R.ca(f,b,h),h+1,a);b=iM(R.ca(d,b,c),R.ca(e,h,b),R.ca(f,b,h),h+1,a);return jM.ba?jM.ba(b):jM.call(null,b)}function jM(a){if(M(a.be)>a.limit){var b=a.be,c=a.Xg,d=a.Zg,e=a.Wg;a=a.limit;var f=J(c),h=Q(f,0,null);f=Q(f,1,null);return iM(S.aa(b,f),S.aa(c,h),S.aa(d,f),e,a)}return a};function kM(a,b){b="number"===typeof b||Cf(b)||b instanceof C?NK(a,b):null;if(r(b)){var c=Ih(!1),d=Ih(W);return lM.ka?lM.ka(a,b,c,d):lM.call(null,a,b,c,d)}return null}function mM(a,b,c){return MK(a,b,EB)?JK(a,b)?v.ca(function(d,e){return of.aa(d,kM(a,dx.ba(e)))},tk,c):v.ca(function(d,e){return of.aa(d,dx.ba(e))},tk,c):JK(a,b)?kM(a,dx.ba(J(c))):dx.ba(J(c))}
function nM(a,b,c,d){b=nh(kK(a,new X(null,3,5,Z,[null,c,b],null)));return r(b)?MK(a,c,Hm)?kM(a,Tw.ba(J(b))):v.ca(function(e,f){return of.aa(e,kM(a,Tw.ba(f)))},tk,b):d}function oM(a){return r(a)?Vf(a):null}
function pM(a){qM.ba?qM.ba(a):qM.call(null,a);return function d(c){return new Kg(null,function(){for(;;){var e=E(c);if(e){if(Hf(e)){var f=ae(e),h=M(f),k=Og(h);a:for(var m=0;;)if(m<h){var n=x(f,m),q=Q(n,0,null);n=Q(n,1,null);q=MK(a.db,q,EB)?new X(null,2,5,Z,[q,oM(n)],null):new X(null,2,5,Z,[q,n],null);k.add(q);m+=1}else{f=!0;break a}return f?Qg(Sg(k),d(be(e))):Qg(Sg(k),null)}f=J(e);k=Q(f,0,null);f=Q(f,1,null);return gf(MK(a.db,k,EB)?new X(null,2,5,Z,[k,oM(f)],null):new X(null,2,5,Z,[k,f],null),d(Ee(e)))}return null}},
null,null)}(y(a.cache))}function rM(a,b,c,d){this.db=a;this.ad=b;this.rg=c;this.cache=d;this.ha=2162164483;this.na=0}g=rM.prototype;g.entry_set=function(){return Vf(Mh.aa(Vf,pM(this)))};
g.forEach=function(){function a(d,e){for(var f=E(pM(this)),h=null,k=0,m=0;;)if(m<k){var n=h.La(null,m),q=Q(n,0,null);n=Q(n,1,null);d.call(e,n,q,this);m+=1}else if(f=E(f))Hf(f)?(h=ae(f),f=be(f),q=h,k=M(h),h=q):(h=J(f),q=Q(h,0,null),n=Q(h,1,null),d.call(e,n,q,this),f=K(f),h=null,k=0),m=0;else return null}function b(d){for(var e=E(pM(this)),f=null,h=0,k=0;;)if(k<h){var m=f.La(null,k),n=Q(m,0,null);m=Q(m,1,null);d.ca?d.ca(m,n,this):d.call(null,m,n,this);k+=1}else if(e=E(e))Hf(e)?(f=ae(e),e=be(e),n=f,
h=M(f),f=n):(f=J(e),n=Q(f,0,null),m=Q(f,1,null),d.ca?d.ca(m,n,this):d.call(null,m,n,this),e=K(e),f=null,h=0),k=0;else return null}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+arguments.length);};c.ba=b;c.aa=a;return c}();g.get=function(a){if(D.aa(a,":db/id"))return this.ad;if(XK(a))return oM(nM(this.db,this.ad,YK(a),null));var b=sM?sM(this,a):tM.call(null,this,a);return MK(this.db,a,EB)?oM(b):b};
g.key_set=function(){return Vf(dj(this))};g.entries=function(){return new Zi(E(pM(this)))};g.value_set=function(){return Vf(Mh.aa(lf,pM(this)))};g.toString=function(){return le(this)};g.keys=function(){return He(dj(this))};g.values=function(){return He(Mh.aa(lf,pM(this)))};g.equiv=function(a){return uM.aa?uM.aa(this,a):uM.call(null,this,a)};g.has=function(a){return null!=this.get(a)};g.Aa=function(a,b){return vM?vM(this,b,null):tM.call(null,this,b,null)};
g.la=function(a,b,c){return vM?vM(this,b,c):tM.call(null,this,b,c)};g.ua=function(a,b,c){return Nd(R.ca(y(this.cache),Xf,this.ad),b,c)};g.xa=function(){qM.ba?qM.ba(this):qM.call(null,this);return M(y(this.cache))};g.wa=function(){return te(this.ad)};g.qa=function(a,b){return uM.aa?uM.aa(this,b):uM.call(null,this,b)};g.va=function(){qM.ba?qM.ba(this):qM.call(null,this);return E(y(this.cache))};
g.call=function(a){switch(arguments.length-1){case 1:return this.ba(arguments[1]);case 2:return this.aa(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.ba(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ic(b)))};g.ba=function(a){return sM?sM(this,a):tM.call(null,this,a)};g.aa=function(a,b){return vM?vM(this,a,b):tM.call(null,this,a,b)};function lM(a,b,c,d){return new rM(a,b,c,d)}
function uM(a,b){return b instanceof rM&&D.aa(a.ad,b.ad)}function tM(a){switch(arguments.length){case 2:return sM(arguments[0],arguments[1]);case 3:return vM(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.ba(arguments.length)].join(""));}}function sM(a,b){return vM(a,b,null)}
function vM(a,b,c){if(D.aa(b,Xf))return a.ad;if(XK(b))return nM(a.db,a.ad,YK(b),c);var d=y(a.cache);d=d.ba?d.ba(b):d.call(null,b);if(null==d){if(r(y(a.rg)))return c;d=nh(kK(a.db,new X(null,2,5,Z,[a.ad,b],null)));if(null==d)return c;c=mM(a.db,b,d);b=R.ca(y(a.cache),b,c);he(a.cache,b);return c}return d}function wM(a,b){return bg(function(c,d,e){return R.ca(c,d,MK(a,d,Hm)?MK(a,d,EB)?uk(Mh.aa(qM,e)):qM.ba?qM.ba(e):qM.call(null,e):e)},W,b)}
function xM(a,b){return v.ca(function(c,d){var e=Xw.ba(J(d));return R.ca(c,e,mM(a,e,d))},W,Jk(Xw,b))}function qM(a){if(!r(y(a.rg))){var b=nh(kK(a.db,new X(null,1,5,Z,[a.ad],null)));r(b)&&(b=wM(a.db,xM(a.db,b)),he(a.cache,b),he(a.rg,!0))}return a}Ha("datascript.impl.entity.Entity",rM);function yM(){}function zM(a,b,c){if(null!=a&&null!=a.bb)a=a.bb(a,b,c);else{var d=zM[oa(null==a?null:a)];if(null!=d)a=d.ca?d.ca(a,b,c):d.call(null,a,b,c);else if(d=zM._,null!=d)a=d.ca?d.ca(a,b,c):d.call(null,a,b,c);else throw Dc("ITraversable.-collect",a);}return a}
function AM(a,b){if(null!=a&&null!=a.cb)a=a.cb(a,b);else{var c=AM[oa(null==a?null:a)];if(null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else if(c=AM._,null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else throw Dc("ITraversable.-collect-vars",a);}return a}function BM(a,b){return Cf(a)&&D.aa(M(a),b)}function CM(a,b){return Cf(b)?v.ca(function(c,d){d=a.ba?a.ba(d):a.call(null,d);return r(d)?of.aa(c,d):Pe(null)},pf,b):null}function DM(a,b){return EM(a,b,pf)}
function EM(a,b,c){return r(a.ba?a.ba(b):a.call(null,b))?of.aa(c,b):(null!=b?l===b.ab||(b.Ed?0:Bc(yM,b)):Bc(yM,b))?zM(b,a,c):JJ(b)?v.ca(function(d,e){return EM(a,e,d)},c,b):c}function FM(a){var b=zf(a);return b?b:hh(Pf,a)}function GM(a,b){return wf(a,new p(null,1,[ln,b],null))}function HM(a){var b=ln.ba(xf(a));return r(b)?b:a}function IM(a,b,c){this.fa=a;this.da=b;this.ga=c;this.ha=2230716170;this.na=139264}g=IM.prototype;g.Aa=function(a,b){return this.la(null,b,null)};
g.la=function(a,b,c){return B.ca(this.da,b,c)};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.parser.Placeholder{",", ","}",c,V.aa(pf,this.da))};g.Ca=function(){return new Yi(this,0,pf,r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 0+M(this.da)};
g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=-528488587^Le(this)};g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.da,b.da)};g.Ka=function(a,b){return Of(tk,b)?S.aa(sd(bi.aa(W,this),this.fa),b):new IM(this.fa,nh(S.aa(this.da,b)),null)};g.ra=function(a,b,c){return new IM(this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(pf,this.da))};g.ta=function(a,b){return new IM(b,this.da,this.ga)};
g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};g.ab=l;g.bb=function(a,b,c){return c};g.cb=function(a,b){return b};function JM(a,b,c,d){this.symbol=a;this.fa=b;this.da=c;this.ga=d;this.ha=2230716170;this.na=139264}g=JM.prototype;g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "symbol":return this.symbol;default:return B.ca(this.da,b,c)}};
g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.parser.Variable{",", ","}",c,V.aa(new X(null,1,5,Z,[new X(null,2,5,Z,[nx,this.symbol],null)],null),this.da))};g.Ca=function(){return new Yi(this,1,new X(null,1,5,Z,[nx],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 1+M(this.da)};
g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=736891289^Le(this)};g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.symbol,b.symbol)&&D.aa(this.da,b.da)};g.Ka=function(a,b){return Of(new rk(null,new p(null,1,[nx,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new JM(this.symbol,this.fa,nh(S.aa(this.da,b)),null)};
g.ra=function(a,b,c){return r(T.aa?T.aa(nx,b):T.call(null,nx,b))?new JM(c,this.fa,this.da,null):new JM(this.symbol,this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(new X(null,1,5,Z,[new Y(nx,this.symbol)],null),this.da))};g.ta=function(a,b){return new JM(this.symbol,b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};g.ab=l;g.bb=function(a,b,c){return EM(b,this.symbol,c)};
g.cb=function(a,b){return KM.aa?KM.aa(b,this.symbol):KM.call(null,b,this.symbol)};function LM(a,b,c,d){this.symbol=a;this.fa=b;this.da=c;this.ga=d;this.ha=2230716170;this.na=139264}g=LM.prototype;g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "symbol":return this.symbol;default:return B.ca(this.da,b,c)}};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};
g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.parser.SrcVar{",", ","}",c,V.aa(new X(null,1,5,Z,[new X(null,2,5,Z,[nx,this.symbol],null)],null),this.da))};g.Ca=function(){return new Yi(this,1,new X(null,1,5,Z,[nx],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 1+M(this.da)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=-1648766309^Le(this)};
g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.symbol,b.symbol)&&D.aa(this.da,b.da)};g.Ka=function(a,b){return Of(new rk(null,new p(null,1,[nx,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new LM(this.symbol,this.fa,nh(S.aa(this.da,b)),null)};g.ra=function(a,b,c){return r(T.aa?T.aa(nx,b):T.call(null,nx,b))?new LM(c,this.fa,this.da,null):new LM(this.symbol,this.fa,R.ca(this.da,b,c),null)};
g.va=function(){return E(V.aa(new X(null,1,5,Z,[new Y(nx,this.symbol)],null),this.da))};g.ta=function(a,b){return new LM(this.symbol,b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};g.ab=l;g.bb=function(a,b,c){return EM(b,this.symbol,c)};g.cb=function(a,b){return KM.aa?KM.aa(b,this.symbol):KM.call(null,b,this.symbol)};function MM(a,b,c){this.fa=a;this.da=b;this.ga=c;this.ha=2230716170;this.na=139264}g=MM.prototype;
g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){return B.ca(this.da,b,c)};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.parser.DefaultSrc{",", ","}",c,V.aa(pf,this.da))};g.Ca=function(){return new Yi(this,0,pf,r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 0+M(this.da)};
g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=-350962559^Le(this)};g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.da,b.da)};g.Ka=function(a,b){return Of(tk,b)?S.aa(sd(bi.aa(W,this),this.fa),b):new MM(this.fa,nh(S.aa(this.da,b)),null)};g.ra=function(a,b,c){return new MM(this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(pf,this.da))};g.ta=function(a,b){return new MM(b,this.da,this.ga)};
g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};g.ab=l;g.bb=function(a,b,c){return c};g.cb=function(a,b){return b};function NM(a,b,c){this.fa=a;this.da=b;this.ga=c;this.ha=2230716170;this.na=139264}g=NM.prototype;g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){return B.ca(this.da,b,c)};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};
g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.parser.RulesVar{",", ","}",c,V.aa(pf,this.da))};g.Ca=function(){return new Yi(this,0,pf,r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 0+M(this.da)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=-1504050517^Le(this)};g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.da,b.da)};
g.Ka=function(a,b){return Of(tk,b)?S.aa(sd(bi.aa(W,this),this.fa),b):new NM(this.fa,nh(S.aa(this.da,b)),null)};g.ra=function(a,b,c){return new NM(this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(pf,this.da))};g.ta=function(a,b){return new NM(b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};g.ab=l;g.bb=function(a,b,c){return c};g.cb=function(a,b){return b};
function OM(a,b,c,d){this.value=a;this.fa=b;this.da=c;this.ga=d;this.ha=2230716170;this.na=139264}g=OM.prototype;g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "value":return this.value;default:return B.ca(this.da,b,c)}};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};
g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.parser.Constant{",", ","}",c,V.aa(new X(null,1,5,Z,[new X(null,2,5,Z,[vx,this.value],null)],null),this.da))};g.Ca=function(){return new Yi(this,1,new X(null,1,5,Z,[vx],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 1+M(this.da)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=-812884714^Le(this)};
g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.value,b.value)&&D.aa(this.da,b.da)};g.Ka=function(a,b){return Of(new rk(null,new p(null,1,[vx,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new OM(this.value,this.fa,nh(S.aa(this.da,b)),null)};g.ra=function(a,b,c){return r(T.aa?T.aa(vx,b):T.call(null,vx,b))?new OM(c,this.fa,this.da,null):new OM(this.value,this.fa,R.ca(this.da,b,c),null)};
g.va=function(){return E(V.aa(new X(null,1,5,Z,[new Y(vx,this.value)],null),this.da))};g.ta=function(a,b){return new OM(this.value,b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};g.ab=l;g.bb=function(a,b,c){return EM(b,this.value,c)};g.cb=function(a,b){return KM.aa?KM.aa(b,this.value):KM.call(null,b,this.value)};function PM(a,b,c,d){this.symbol=a;this.fa=b;this.da=c;this.ga=d;this.ha=2230716170;this.na=139264}g=PM.prototype;
g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "symbol":return this.symbol;default:return B.ca(this.da,b,c)}};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.parser.PlainSymbol{",", ","}",c,V.aa(new X(null,1,5,Z,[new X(null,2,5,Z,[nx,this.symbol],null)],null),this.da))};
g.Ca=function(){return new Yi(this,1,new X(null,1,5,Z,[nx],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 1+M(this.da)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=1509921913^Le(this)};g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.symbol,b.symbol)&&D.aa(this.da,b.da)};
g.Ka=function(a,b){return Of(new rk(null,new p(null,1,[nx,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new PM(this.symbol,this.fa,nh(S.aa(this.da,b)),null)};g.ra=function(a,b,c){return r(T.aa?T.aa(nx,b):T.call(null,nx,b))?new PM(c,this.fa,this.da,null):new PM(this.symbol,this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(new X(null,1,5,Z,[new Y(nx,this.symbol)],null),this.da))};g.ta=function(a,b){return new PM(this.symbol,b,this.da,this.ga)};
g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};g.ab=l;g.bb=function(a,b,c){return EM(b,this.symbol,c)};g.cb=function(a,b){return KM.aa?KM.aa(b,this.symbol):KM.call(null,b,this.symbol)};function QM(a){return a instanceof A&&D.aa(J(Jg(a)),"?")?new JM(a,null,null,null):null}function RM(a){var b=QM(a);if(r(b))return b;throw gm(["Cannot parse var, expected symbol starting with ?, got: ",hl.ea(P([a]))].join(""),new p(null,2,[Fp,wq,yt,a],null));}
function SM(a){return a instanceof A&&D.aa(J(Jg(a)),"$")?new LM(a,null,null,null):null}function TM(a){return a instanceof A?null:new OM(a,null,null,null)}function UM(a){return a instanceof A&&zc(QM(a))&&zc(SM(a))&&zc(D.aa(xt,a)?new NM(null,null,null):null)&&zc(D.aa(sq,a)?new IM(null,null,null):null)?new PM(a,null,null,null):null}function VM(a){return r(UM(a))?new JM(a,null,null,null):null}function WM(a){var b=QM(a);if(r(b))return b;b=TM(a);return r(b)?b:SM(a)}
function XM(a,b,c,d,e){this.required=a;this.Sc=b;this.fa=c;this.da=d;this.ga=e;this.ha=2230716170;this.na=139264}g=XM.prototype;g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "required":return this.required;case "free":return this.Sc;default:return B.ca(this.da,b,c)}};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};
g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.parser.RuleVars{",", ","}",c,V.aa(new X(null,2,5,Z,[new X(null,2,5,Z,[RA,this.required],null),new X(null,2,5,Z,[Vr,this.Sc],null)],null),this.da))};g.Ca=function(){return new Yi(this,2,new X(null,2,5,Z,[RA,Vr],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 2+M(this.da)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=892963297^Le(this)};
g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.required,b.required)&&D.aa(this.Sc,b.Sc)&&D.aa(this.da,b.da)};g.Ka=function(a,b){return Of(new rk(null,new p(null,2,[Vr,null,RA,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new XM(this.required,this.Sc,this.fa,nh(S.aa(this.da,b)),null)};
g.ra=function(a,b,c){return r(T.aa?T.aa(RA,b):T.call(null,RA,b))?new XM(c,this.Sc,this.fa,this.da,null):r(T.aa?T.aa(Vr,b):T.call(null,Vr,b))?new XM(this.required,c,this.fa,this.da,null):new XM(this.required,this.Sc,this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(new X(null,2,5,Z,[new Y(RA,this.required),new Y(Vr,this.Sc)],null),this.da))};g.ta=function(a,b){return new XM(this.required,this.Sc,b,this.da,this.ga)};
g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};g.ab=l;g.bb=function(a,b,c){return EM(b,this.Sc,EM(b,this.required,c))};g.cb=function(a,b){a=KM.aa?KM.aa(b,this.required):KM.call(null,b,this.required);b=this.Sc;return KM.aa?KM.aa(a,b):KM.call(null,a,b)};
function YM(a){if(Cf(a)){var b=Cf(J(a))?new X(null,2,5,Z,[J(a),K(a)],null):new X(null,2,5,Z,[null,a],null),c=Q(b,0,null);b=Q(b,1,null);c=CM(RM,c);b=CM(RM,b);if(zf(c)&&zf(b))throw gm("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",new p(null,2,[Fp,Qq,yt,a],null));if(!r(FM(V.aa(c,b))))throw gm("Rule variables should be distinct",new p(null,2,[Fp,Qq,yt,a],null));return new XM(c,b,null,null,null)}throw gm("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",
new p(null,2,[Fp,Qq,yt,a],null));}function ZM(a){return V.ba(r(RA.ba(a))?function(){ci.aa(nx,RA.ba(a));return ci.aa(nx,Vr.ba(a))}():null)}function $M(a){return new X(null,2,5,Z,[M(RA.ba(a)),M(Vr.ba(a))],null)}function aN(a,b,c){this.fa=a;this.da=b;this.ga=c;this.ha=2230716170;this.na=139264}g=aN.prototype;g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){return B.ca(this.da,b,c)};
g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.parser.BindIgnore{",", ","}",c,V.aa(pf,this.da))};g.Ca=function(){return new Yi(this,0,pf,r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 0+M(this.da)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=-890522983^Le(this)};
g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.da,b.da)};g.Ka=function(a,b){return Of(tk,b)?S.aa(sd(bi.aa(W,this),this.fa),b):new aN(this.fa,nh(S.aa(this.da,b)),null)};g.ra=function(a,b,c){return new aN(this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(pf,this.da))};g.ta=function(a,b){return new aN(b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};g.ab=l;g.bb=function(a,b,c){return c};g.cb=function(a,b){return b};
function bN(a,b,c,d){this.jb=a;this.fa=b;this.da=c;this.ga=d;this.ha=2230716170;this.na=139264}g=bN.prototype;g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "variable":return this.jb;default:return B.ca(this.da,b,c)}};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};
g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.parser.BindScalar{",", ","}",c,V.aa(new X(null,1,5,Z,[new X(null,2,5,Z,[pu,this.jb],null)],null),this.da))};g.Ca=function(){return new Yi(this,1,new X(null,1,5,Z,[pu],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 1+M(this.da)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=-1522792445^Le(this)};
g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.jb,b.jb)&&D.aa(this.da,b.da)};g.Ka=function(a,b){return Of(new rk(null,new p(null,1,[pu,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new bN(this.jb,this.fa,nh(S.aa(this.da,b)),null)};g.ra=function(a,b,c){return r(T.aa?T.aa(pu,b):T.call(null,pu,b))?new bN(c,this.fa,this.da,null):new bN(this.jb,this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(new X(null,1,5,Z,[new Y(pu,this.jb)],null),this.da))};
g.ta=function(a,b){return new bN(this.jb,b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};g.ab=l;g.bb=function(a,b,c){return EM(b,this.jb,c)};g.cb=function(a,b){return KM.aa?KM.aa(b,this.jb):KM.call(null,b,this.jb)};function cN(a,b,c,d){this.bindings=a;this.fa=b;this.da=c;this.ga=d;this.ha=2230716170;this.na=139264}g=cN.prototype;g.Aa=function(a,b){return this.la(null,b,null)};
g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "bindings":return this.bindings;default:return B.ca(this.da,b,c)}};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.parser.BindTuple{",", ","}",c,V.aa(new X(null,1,5,Z,[new X(null,2,5,Z,[on,this.bindings],null)],null),this.da))};
g.Ca=function(){return new Yi(this,1,new X(null,1,5,Z,[on],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 1+M(this.da)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=-1637239347^Le(this)};g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.bindings,b.bindings)&&D.aa(this.da,b.da)};
g.Ka=function(a,b){return Of(new rk(null,new p(null,1,[on,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new cN(this.bindings,this.fa,nh(S.aa(this.da,b)),null)};g.ra=function(a,b,c){return r(T.aa?T.aa(on,b):T.call(null,on,b))?new cN(c,this.fa,this.da,null):new cN(this.bindings,this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(new X(null,1,5,Z,[new Y(on,this.bindings)],null),this.da))};g.ta=function(a,b){return new cN(this.bindings,b,this.da,this.ga)};
g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};g.ab=l;g.bb=function(a,b,c){return EM(b,this.bindings,c)};g.cb=function(a,b){return KM.aa?KM.aa(b,this.bindings):KM.call(null,b,this.bindings)};function dN(a,b,c,d){this.binding=a;this.fa=b;this.da=c;this.ga=d;this.ha=2230716170;this.na=139264}g=dN.prototype;g.Aa=function(a,b){return this.la(null,b,null)};
g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "binding":return this.binding;default:return B.ca(this.da,b,c)}};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.parser.BindColl{",", ","}",c,V.aa(new X(null,1,5,Z,[new X(null,2,5,Z,[Dw,this.binding],null)],null),this.da))};
g.Ca=function(){return new Yi(this,1,new X(null,1,5,Z,[Dw],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 1+M(this.da)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=-1930368089^Le(this)};g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.binding,b.binding)&&D.aa(this.da,b.da)};
g.Ka=function(a,b){return Of(new rk(null,new p(null,1,[Dw,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new dN(this.binding,this.fa,nh(S.aa(this.da,b)),null)};g.ra=function(a,b,c){return r(T.aa?T.aa(Dw,b):T.call(null,Dw,b))?new dN(c,this.fa,this.da,null):new dN(this.binding,this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(new X(null,1,5,Z,[new Y(Dw,this.binding)],null),this.da))};g.ta=function(a,b){return new dN(this.binding,b,this.da,this.ga)};
g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};g.ab=l;g.bb=function(a,b,c){return EM(b,this.binding,c)};g.cb=function(a,b){return KM.aa?KM.aa(b,this.binding):KM.call(null,b,this.binding)};function eN(a){return D.aa(sq,a)?GM(new aN(null,null,null),a):null}function fN(a){var b=eN(a);return r(b)?b:gN.ba?gN.ba(a):gN.call(null,a)}
function hN(a){var b=CM(fN,a);if(r(b)){if(zf(b))throw gm("Tuple binding cannot be empty",new p(null,2,[Fp,Qp,yt,a],null));return GM(new cN(b,null,null,null),a)}return null}
function gN(a){a:{if(BM(a,2)&&D.aa(lf(a),tv)){var b=J(a);b=gN.ba?gN.ba(b):gN.call(null,b);if(r(b)){b=GM(new dN(b,null,null,null),a);break a}throw gm("Cannot parse collection binding",new p(null,2,[Fp,Qp,yt,a],null));}b=null}if(r(b))return b;b=BM(a,1)&&Cf(J(a))?GM(new dN(hN(J(a)),null,null,null),a):null;if(r(b))return b;b=hN(a);if(r(b))return b;b=eN(a);if(r(b))return b;b=QM(a);b=r(b)?GM(new bN(b,null,null,null),a):null;if(r(b))return b;throw gm("Cannot parse binding, expected (bind-scalar | bind-tuple | bind-coll | bind-rel)",
new p(null,2,[Fp,Qp,yt,a],null));}function iN(a){if(null!=a&&null!=a.ff)a=a.ff(a);else{var b=iN[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=iN._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("IFindVars.-find-vars",a);}return a}JM.prototype.ff=function(){return new X(null,1,5,Z,[this.symbol],null)};function jN(a,b,c,d,e){this.fn=a;this.args=b;this.fa=c;this.da=d;this.ga=e;this.ha=2230716170;this.na=139264}g=jN.prototype;g.ff=function(){return iN(nf(this.args))};
g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "fn":return this.fn;case "args":return this.args;default:return B.ca(this.da,b,c)}};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};
g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.parser.Aggregate{",", ","}",c,V.aa(new X(null,2,5,Z,[new X(null,2,5,Z,[IA,this.fn],null),new X(null,2,5,Z,[JA,this.args],null)],null),this.da))};g.Ca=function(){return new Yi(this,2,new X(null,2,5,Z,[IA,JA],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 2+M(this.da)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=-91097383^Le(this)};
g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.fn,b.fn)&&D.aa(this.args,b.args)&&D.aa(this.da,b.da)};g.Ka=function(a,b){return Of(new rk(null,new p(null,2,[JA,null,IA,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new jN(this.fn,this.args,this.fa,nh(S.aa(this.da,b)),null)};
g.ra=function(a,b,c){return r(T.aa?T.aa(IA,b):T.call(null,IA,b))?new jN(c,this.args,this.fa,this.da,null):r(T.aa?T.aa(JA,b):T.call(null,JA,b))?new jN(this.fn,c,this.fa,this.da,null):new jN(this.fn,this.args,this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(new X(null,2,5,Z,[new Y(IA,this.fn),new Y(JA,this.args)],null),this.da))};g.ta=function(a,b){return new jN(this.fn,this.args,b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};g.ab=l;
g.bb=function(a,b,c){return EM(b,this.args,EM(b,this.fn,c))};g.cb=function(a,b){a=KM.aa?KM.aa(b,this.fn):KM.call(null,b,this.fn);b=this.args;return KM.aa?KM.aa(a,b):KM.call(null,a,b)};function kN(a,b,c,d,e,f){this.source=a;this.jb=b;this.pattern=c;this.fa=d;this.da=e;this.ga=f;this.ha=2230716170;this.na=139264}g=kN.prototype;g.ff=function(){return iN(this.jb)};g.Aa=function(a,b){return this.la(null,b,null)};
g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "source":return this.source;case "variable":return this.jb;case "pattern":return this.pattern;default:return B.ca(this.da,b,c)}};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};
g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.parser.Pull{",", ","}",c,V.aa(new X(null,3,5,Z,[new X(null,2,5,Z,[ln,this.source],null),new X(null,2,5,Z,[pu,this.jb],null),new X(null,2,5,Z,[PA,this.pattern],null)],null),this.da))};g.Ca=function(){return new Yi(this,3,new X(null,3,5,Z,[ln,pu,PA],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 3+M(this.da)};
g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=-2108867663^Le(this)};g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.source,b.source)&&D.aa(this.jb,b.jb)&&D.aa(this.pattern,b.pattern)&&D.aa(this.da,b.da)};g.Ka=function(a,b){return Of(new rk(null,new p(null,3,[pu,null,ln,null,PA,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new kN(this.source,this.jb,this.pattern,this.fa,nh(S.aa(this.da,b)),null)};
g.ra=function(a,b,c){return r(T.aa?T.aa(ln,b):T.call(null,ln,b))?new kN(c,this.jb,this.pattern,this.fa,this.da,null):r(T.aa?T.aa(pu,b):T.call(null,pu,b))?new kN(this.source,c,this.pattern,this.fa,this.da,null):r(T.aa?T.aa(PA,b):T.call(null,PA,b))?new kN(this.source,this.jb,c,this.fa,this.da,null):new kN(this.source,this.jb,this.pattern,this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(new X(null,3,5,Z,[new Y(ln,this.source),new Y(pu,this.jb),new Y(PA,this.pattern)],null),this.da))};
g.ta=function(a,b){return new kN(this.source,this.jb,this.pattern,b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};g.ab=l;g.bb=function(a,b,c){return EM(b,this.pattern,EM(b,this.jb,EM(b,this.source,c)))};g.cb=function(a,b){a=KM.aa?KM.aa(b,this.source):KM.call(null,b,this.source);b=this.jb;a=KM.aa?KM.aa(a,b):KM.call(null,a,b);b=this.pattern;return KM.aa?KM.aa(a,b):KM.call(null,a,b)};
function lN(a){if(null!=a&&null!=a.Ae)a=a.Ae(a);else{var b=lN[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=lN._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("IFindElements.find-elements",a);}return a}function mN(a,b,c,d){this.elements=a;this.fa=b;this.da=c;this.ga=d;this.ha=2230716170;this.na=139264}g=mN.prototype;g.Aa=function(a,b){return this.la(null,b,null)};
g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "elements":return this.elements;default:return B.ca(this.da,b,c)}};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.parser.FindRel{",", ","}",c,V.aa(new X(null,1,5,Z,[new X(null,2,5,Z,[pt,this.elements],null)],null),this.da))};
g.Ca=function(){return new Yi(this,1,new X(null,1,5,Z,[pt],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 1+M(this.da)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=744809563^Le(this)};g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.elements,b.elements)&&D.aa(this.da,b.da)};
g.Ka=function(a,b){return Of(new rk(null,new p(null,1,[pt,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new mN(this.elements,this.fa,nh(S.aa(this.da,b)),null)};g.Ae=function(){return this.elements};g.ra=function(a,b,c){return r(T.aa?T.aa(pt,b):T.call(null,pt,b))?new mN(c,this.fa,this.da,null):new mN(this.elements,this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(new X(null,1,5,Z,[new Y(pt,this.elements)],null),this.da))};
g.ta=function(a,b){return new mN(this.elements,b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};g.ab=l;g.bb=function(a,b,c){return EM(b,this.elements,c)};g.cb=function(a,b){return KM.aa?KM.aa(b,this.elements):KM.call(null,b,this.elements)};function nN(a,b,c,d){this.element=a;this.fa=b;this.da=c;this.ga=d;this.ha=2230716170;this.na=139264}g=nN.prototype;g.Aa=function(a,b){return this.la(null,b,null)};
g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "element":return this.element;default:return B.ca(this.da,b,c)}};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.parser.FindColl{",", ","}",c,V.aa(new X(null,1,5,Z,[new X(null,2,5,Z,[Vy,this.element],null)],null),this.da))};
g.Ca=function(){return new Yi(this,1,new X(null,1,5,Z,[Vy],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 1+M(this.da)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=124241361^Le(this)};g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.element,b.element)&&D.aa(this.da,b.da)};
g.Ka=function(a,b){return Of(new rk(null,new p(null,1,[Vy,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new nN(this.element,this.fa,nh(S.aa(this.da,b)),null)};g.Ae=function(){return new X(null,1,5,Z,[this.element],null)};g.ra=function(a,b,c){return r(T.aa?T.aa(Vy,b):T.call(null,Vy,b))?new nN(c,this.fa,this.da,null):new nN(this.element,this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(new X(null,1,5,Z,[new Y(Vy,this.element)],null),this.da))};
g.ta=function(a,b){return new nN(this.element,b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};g.ab=l;g.bb=function(a,b,c){return EM(b,this.element,c)};g.cb=function(a,b){return KM.aa?KM.aa(b,this.element):KM.call(null,b,this.element)};function oN(a,b,c,d){this.element=a;this.fa=b;this.da=c;this.ga=d;this.ha=2230716170;this.na=139264}g=oN.prototype;g.Aa=function(a,b){return this.la(null,b,null)};
g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "element":return this.element;default:return B.ca(this.da,b,c)}};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.parser.FindScalar{",", ","}",c,V.aa(new X(null,1,5,Z,[new X(null,2,5,Z,[Vy,this.element],null)],null),this.da))};
g.Ca=function(){return new Yi(this,1,new X(null,1,5,Z,[Vy],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 1+M(this.da)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=-661542332^Le(this)};g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.element,b.element)&&D.aa(this.da,b.da)};
g.Ka=function(a,b){return Of(new rk(null,new p(null,1,[Vy,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new oN(this.element,this.fa,nh(S.aa(this.da,b)),null)};g.Ae=function(){return new X(null,1,5,Z,[this.element],null)};g.ra=function(a,b,c){return r(T.aa?T.aa(Vy,b):T.call(null,Vy,b))?new oN(c,this.fa,this.da,null):new oN(this.element,this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(new X(null,1,5,Z,[new Y(Vy,this.element)],null),this.da))};
g.ta=function(a,b){return new oN(this.element,b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};g.ab=l;g.bb=function(a,b,c){return EM(b,this.element,c)};g.cb=function(a,b){return KM.aa?KM.aa(b,this.element):KM.call(null,b,this.element)};function pN(a,b,c,d){this.elements=a;this.fa=b;this.da=c;this.ga=d;this.ha=2230716170;this.na=139264}g=pN.prototype;g.Aa=function(a,b){return this.la(null,b,null)};
g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "elements":return this.elements;default:return B.ca(this.da,b,c)}};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.parser.FindTuple{",", ","}",c,V.aa(new X(null,1,5,Z,[new X(null,2,5,Z,[pt,this.elements],null)],null),this.da))};
g.Ca=function(){return new Yi(this,1,new X(null,1,5,Z,[pt],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 1+M(this.da)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=681530371^Le(this)};g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.elements,b.elements)&&D.aa(this.da,b.da)};
g.Ka=function(a,b){return Of(new rk(null,new p(null,1,[pt,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new pN(this.elements,this.fa,nh(S.aa(this.da,b)),null)};g.Ae=function(){return this.elements};g.ra=function(a,b,c){return r(T.aa?T.aa(pt,b):T.call(null,pt,b))?new pN(c,this.fa,this.da,null):new pN(this.elements,this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(new X(null,1,5,Z,[new Y(pt,this.elements)],null),this.da))};
g.ta=function(a,b){return new pN(this.elements,b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};g.ab=l;g.bb=function(a,b,c){return EM(b,this.elements,c)};g.cb=function(a,b){return KM.aa?KM.aa(b,this.elements):KM.call(null,b,this.elements)};function qN(a){return a instanceof jN}function rN(a){return a instanceof kN}
function sN(a){var b=QM(a);if(r(b))return b;a:{if(Cf(a)&&D.aa(J(a),Zw)){if(3<=M(a)&&4>=M(a)){var c=(b=D.aa(M(a),4))?af(a,1):Rp;b=b?K(K(a)):K(a);var d=Q(b,0,null);b=Q(b,1,null);c=SM(c);d=QM(d);var e=QM(b);r(e)?b=e:(e=VM(b),b=r(e)?e:TM(b));if(r(r(c)?r(d)?b:d:c)){b=new kN(c,d,b,null,null,null);break a}}throw gm("Cannot parse pull expression, expect ['pull' src-var? variable (constant | variable | plain-symbol)]",new p(null,2,[Fp,fA,Mt,a],null));}b=null}if(r(b))return b;a:{if(Cf(a)&&D.aa(J(a),hw)){if(3<=
M(a)&&(b=E(a),J(b),c=K(b),b=J(c),c=K(c),b=QM(b),c=CM(WM,c),r(r(b)?c:b))){b=new jN(b,c,null,null,null);break a}throw gm("Cannot parse custom aggregate call, expect ['aggregate' variable fn-arg+]",new p(null,2,[Fp,fA,Mt,a],null));}b=null}r(b)?a=b:Cf(a)&&2<=M(a)?(b=E(a),a=J(b),b=K(b),a=UM(a),b=CM(WM,b),a=r(r(a)?b:a)?new jN(a,b,null,null,null):null):a=null;return a}
function tN(a){var b=CM(sN,a);b=null==b?null:new mN(b,null,null,null);if(r(b))return b;a:{if(Cf(a)&&D.aa(M(a),1)&&(b=J(a),Cf(b)&&D.aa(M(b),2)&&D.aa(lf(b),tv))){b=sN(J(b));b=null==b?null:new nN(b,null,null,null);break a}b=null}if(r(b))return b;Cf(a)&&D.aa(M(a),2)&&D.aa(lf(a),Hz)?(b=sN(J(a)),b=null==b?null:new oN(b,null,null,null)):b=null;if(r(b))return b;Cf(a)&&D.aa(M(a),1)?(b=J(a),b=CM(sN,b),b=null==b?null:new pN(b,null,null,null)):b=null;if(r(b))return b;throw gm("Cannot parse :find, expected: (find-rel | find-coll | find-tuple | find-scalar)",
new p(null,2,[Fp,fA,Mt,a],null));}function uN(a,b,c,d,e){this.type=a;this.symbols=b;this.fa=c;this.da=d;this.ga=e;this.ha=2230716170;this.na=139264}g=uN.prototype;g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "type":return this.type;case "symbols":return this.symbols;default:return B.ca(this.da,b,c)}};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};
g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.parser.ReturnMap{",", ","}",c,V.aa(new X(null,2,5,Z,[new X(null,2,5,Z,[qq,this.type],null),new X(null,2,5,Z,[wy,this.symbols],null)],null),this.da))};g.Ca=function(){return new Yi(this,2,new X(null,2,5,Z,[qq,wy],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 2+M(this.da)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=-2025547471^Le(this)};
g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.type,b.type)&&D.aa(this.symbols,b.symbols)&&D.aa(this.da,b.da)};g.Ka=function(a,b){return Of(new rk(null,new p(null,2,[qq,null,wy,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new uN(this.type,this.symbols,this.fa,nh(S.aa(this.da,b)),null)};
g.ra=function(a,b,c){return r(T.aa?T.aa(qq,b):T.call(null,qq,b))?new uN(c,this.symbols,this.fa,this.da,null):r(T.aa?T.aa(wy,b):T.call(null,wy,b))?new uN(this.type,c,this.fa,this.da,null):new uN(this.type,this.symbols,this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(new X(null,2,5,Z,[new Y(qq,this.type),new Y(wy,this.symbols)],null),this.da))};g.ta=function(a,b){return new uN(this.type,this.symbols,b,this.da,this.ga)};
g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};g.ab=l;g.bb=function(a,b,c){return EM(b,this.symbols,EM(b,this.type,c))};g.cb=function(a,b){a=KM.aa?KM.aa(b,this.type):KM.call(null,b,this.type);b=this.symbols;return KM.aa?KM.aa(a,b):KM.call(null,a,b)};
function vN(a,b){if(!zf(b)&&sh(ue,b))switch(a instanceof C?a.Ba:null){case "keys":return new uN(a,ci.aa(Ig,b),null,null,null);case "syms":return new uN(a,Zf(b),null,null,null);case "strs":return new uN(a,ci.aa(t,b),null,null,null);default:return null}else return null}function wN(a){var b=SM(a);r(b)||(b=D.aa(xt,a)?new NM(null,null,null):null,b=r(b)?b:VM(a));return r(b)?GM(new bN(b,null,null,null),a):gN(a)}
function xN(a){var b=CM(wN,a);if(r(b))return b;throw gm("Cannot parse :in clause, expected (src-var | % | plain-symbol | bind-scalar | bind-tuple | bind-coll | bind-rel)",new p(null,2,[Fp,aB,yt,a],null));}function yN(a,b,c,d,e){this.source=a;this.pattern=b;this.fa=c;this.da=d;this.ga=e;this.ha=2230716170;this.na=139264}g=yN.prototype;g.Aa=function(a,b){return this.la(null,b,null)};
g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "source":return this.source;case "pattern":return this.pattern;default:return B.ca(this.da,b,c)}};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};
g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.parser.Pattern{",", ","}",c,V.aa(new X(null,2,5,Z,[new X(null,2,5,Z,[ln,this.source],null),new X(null,2,5,Z,[PA,this.pattern],null)],null),this.da))};g.Ca=function(){return new Yi(this,2,new X(null,2,5,Z,[ln,PA],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 2+M(this.da)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=575220587^Le(this)};
g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.source,b.source)&&D.aa(this.pattern,b.pattern)&&D.aa(this.da,b.da)};g.Ka=function(a,b){return Of(new rk(null,new p(null,2,[ln,null,PA,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new yN(this.source,this.pattern,this.fa,nh(S.aa(this.da,b)),null)};
g.ra=function(a,b,c){return r(T.aa?T.aa(ln,b):T.call(null,ln,b))?new yN(c,this.pattern,this.fa,this.da,null):r(T.aa?T.aa(PA,b):T.call(null,PA,b))?new yN(this.source,c,this.fa,this.da,null):new yN(this.source,this.pattern,this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(new X(null,2,5,Z,[new Y(ln,this.source),new Y(PA,this.pattern)],null),this.da))};g.ta=function(a,b){return new yN(this.source,this.pattern,b,this.da,this.ga)};
g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};g.ab=l;g.bb=function(a,b,c){return EM(b,this.pattern,EM(b,this.source,c))};g.cb=function(a,b){a=KM.aa?KM.aa(b,this.source):KM.call(null,b,this.source);b=this.pattern;return KM.aa?KM.aa(a,b):KM.call(null,a,b)};function zN(a,b,c,d,e){this.fn=a;this.args=b;this.fa=c;this.da=d;this.ga=e;this.ha=2230716170;this.na=139264}g=zN.prototype;g.Aa=function(a,b){return this.la(null,b,null)};
g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "fn":return this.fn;case "args":return this.args;default:return B.ca(this.da,b,c)}};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.parser.Predicate{",", ","}",c,V.aa(new X(null,2,5,Z,[new X(null,2,5,Z,[IA,this.fn],null),new X(null,2,5,Z,[JA,this.args],null)],null),this.da))};
g.Ca=function(){return new Yi(this,2,new X(null,2,5,Z,[IA,JA],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 2+M(this.da)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=-1523376880^Le(this)};g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.fn,b.fn)&&D.aa(this.args,b.args)&&D.aa(this.da,b.da)};
g.Ka=function(a,b){return Of(new rk(null,new p(null,2,[JA,null,IA,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new zN(this.fn,this.args,this.fa,nh(S.aa(this.da,b)),null)};g.ra=function(a,b,c){return r(T.aa?T.aa(IA,b):T.call(null,IA,b))?new zN(c,this.args,this.fa,this.da,null):r(T.aa?T.aa(JA,b):T.call(null,JA,b))?new zN(this.fn,c,this.fa,this.da,null):new zN(this.fn,this.args,this.fa,R.ca(this.da,b,c),null)};
g.va=function(){return E(V.aa(new X(null,2,5,Z,[new Y(IA,this.fn),new Y(JA,this.args)],null),this.da))};g.ta=function(a,b){return new zN(this.fn,this.args,b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};g.ab=l;g.bb=function(a,b,c){return EM(b,this.args,EM(b,this.fn,c))};g.cb=function(a,b){a=KM.aa?KM.aa(b,this.fn):KM.call(null,b,this.fn);b=this.args;return KM.aa?KM.aa(a,b):KM.call(null,a,b)};
function AN(a,b,c,d,e,f){this.fn=a;this.args=b;this.binding=c;this.fa=d;this.da=e;this.ga=f;this.ha=2230716170;this.na=139264}g=AN.prototype;g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "fn":return this.fn;case "args":return this.args;case "binding":return this.binding;default:return B.ca(this.da,b,c)}};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};
g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.parser.Function{",", ","}",c,V.aa(new X(null,3,5,Z,[new X(null,2,5,Z,[IA,this.fn],null),new X(null,2,5,Z,[JA,this.args],null),new X(null,2,5,Z,[Dw,this.binding],null)],null),this.da))};g.Ca=function(){return new Yi(this,3,new X(null,3,5,Z,[IA,JA,Dw],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 3+M(this.da)};
g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=589494199^Le(this)};g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.fn,b.fn)&&D.aa(this.args,b.args)&&D.aa(this.binding,b.binding)&&D.aa(this.da,b.da)};g.Ka=function(a,b){return Of(new rk(null,new p(null,3,[JA,null,IA,null,Dw,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new AN(this.fn,this.args,this.binding,this.fa,nh(S.aa(this.da,b)),null)};
g.ra=function(a,b,c){return r(T.aa?T.aa(IA,b):T.call(null,IA,b))?new AN(c,this.args,this.binding,this.fa,this.da,null):r(T.aa?T.aa(JA,b):T.call(null,JA,b))?new AN(this.fn,c,this.binding,this.fa,this.da,null):r(T.aa?T.aa(Dw,b):T.call(null,Dw,b))?new AN(this.fn,this.args,c,this.fa,this.da,null):new AN(this.fn,this.args,this.binding,this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(new X(null,3,5,Z,[new Y(IA,this.fn),new Y(JA,this.args),new Y(Dw,this.binding)],null),this.da))};
g.ta=function(a,b){return new AN(this.fn,this.args,this.binding,b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};g.ab=l;g.bb=function(a,b,c){return EM(b,this.binding,EM(b,this.args,EM(b,this.fn,c)))};g.cb=function(a,b){a=KM.aa?KM.aa(b,this.fn):KM.call(null,b,this.fn);b=this.args;a=KM.aa?KM.aa(a,b):KM.call(null,a,b);b=this.binding;return KM.aa?KM.aa(a,b):KM.call(null,a,b)};
function BN(a,b,c,d,e,f){this.source=a;this.name=b;this.args=c;this.fa=d;this.da=e;this.ga=f;this.ha=2230716170;this.na=139264}g=BN.prototype;g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "source":return this.source;case "name":return this.name;case "args":return this.args;default:return B.ca(this.da,b,c)}};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};
g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.parser.RuleExpr{",", ","}",c,V.aa(new X(null,3,5,Z,[new X(null,2,5,Z,[ln,this.source],null),new X(null,2,5,Z,[Wz,this.name],null),new X(null,2,5,Z,[JA,this.args],null)],null),this.da))};g.Ca=function(){return new Yi(this,3,new X(null,3,5,Z,[ln,Wz,JA],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 3+M(this.da)};
g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=-444662011^Le(this)};g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.source,b.source)&&D.aa(this.name,b.name)&&D.aa(this.args,b.args)&&D.aa(this.da,b.da)};g.Ka=function(a,b){return Of(new rk(null,new p(null,3,[JA,null,Wz,null,ln,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new BN(this.source,this.name,this.args,this.fa,nh(S.aa(this.da,b)),null)};
g.ra=function(a,b,c){return r(T.aa?T.aa(ln,b):T.call(null,ln,b))?new BN(c,this.name,this.args,this.fa,this.da,null):r(T.aa?T.aa(Wz,b):T.call(null,Wz,b))?new BN(this.source,c,this.args,this.fa,this.da,null):r(T.aa?T.aa(JA,b):T.call(null,JA,b))?new BN(this.source,this.name,c,this.fa,this.da,null):new BN(this.source,this.name,this.args,this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(new X(null,3,5,Z,[new Y(ln,this.source),new Y(Wz,this.name),new Y(JA,this.args)],null),this.da))};
g.ta=function(a,b){return new BN(this.source,this.name,this.args,b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};g.ab=l;g.bb=function(a,b,c){return EM(b,this.args,EM(b,this.name,EM(b,this.source,c)))};g.cb=function(a,b){a=KM.aa?KM.aa(b,this.source):KM.call(null,b,this.source);b=this.name;a=KM.aa?KM.aa(a,b):KM.call(null,a,b);b=this.args;return KM.aa?KM.aa(a,b):KM.call(null,a,b)};
function CN(a,b,c,d,e,f){this.source=a;this.rb=b;this.Na=c;this.fa=d;this.da=e;this.ga=f;this.ha=2230716170;this.na=139264}g=CN.prototype;g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "source":return this.source;case "vars":return this.rb;case "clauses":return this.Na;default:return B.ca(this.da,b,c)}};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};
g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.parser.Not{",", ","}",c,V.aa(new X(null,3,5,Z,[new X(null,2,5,Z,[ln,this.source],null),new X(null,2,5,Z,[rs,this.rb],null),new X(null,2,5,Z,[lz,this.Na],null)],null),this.da))};g.Ca=function(){return new Yi(this,3,new X(null,3,5,Z,[ln,rs,lz],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 3+M(this.da)};
g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=1394671061^Le(this)};g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.source,b.source)&&D.aa(this.rb,b.rb)&&D.aa(this.Na,b.Na)&&D.aa(this.da,b.da)};g.Ka=function(a,b){return Of(new rk(null,new p(null,3,[ln,null,lz,null,rs,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new CN(this.source,this.rb,this.Na,this.fa,nh(S.aa(this.da,b)),null)};
g.ra=function(a,b,c){return r(T.aa?T.aa(ln,b):T.call(null,ln,b))?new CN(c,this.rb,this.Na,this.fa,this.da,null):r(T.aa?T.aa(rs,b):T.call(null,rs,b))?new CN(this.source,c,this.Na,this.fa,this.da,null):r(T.aa?T.aa(lz,b):T.call(null,lz,b))?new CN(this.source,this.rb,c,this.fa,this.da,null):new CN(this.source,this.rb,this.Na,this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(new X(null,3,5,Z,[new Y(ln,this.source),new Y(rs,this.rb),new Y(lz,this.Na)],null),this.da))};
g.ta=function(a,b){return new CN(this.source,this.rb,this.Na,b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};g.ab=l;g.bb=function(a,b,c){return EM(b,this.Na,EM(b,this.rb,EM(b,this.source,c)))};g.cb=function(a,b){a=KM.aa?KM.aa(b,this.source):KM.call(null,b,this.source);b=this.rb;a=KM.aa?KM.aa(a,b):KM.call(null,a,b);b=this.Na;return KM.aa?KM.aa(a,b):KM.call(null,a,b)};
function DN(a,b,c,d,e,f){this.source=a;this.zc=b;this.Na=c;this.fa=d;this.da=e;this.ga=f;this.ha=2230716170;this.na=139264}g=DN.prototype;g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "source":return this.source;case "rule-vars":return this.zc;case "clauses":return this.Na;default:return B.ca(this.da,b,c)}};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};
g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.parser.Or{",", ","}",c,V.aa(new X(null,3,5,Z,[new X(null,2,5,Z,[ln,this.source],null),new X(null,2,5,Z,[pA,this.zc],null),new X(null,2,5,Z,[lz,this.Na],null)],null),this.da))};g.Ca=function(){return new Yi(this,3,new X(null,3,5,Z,[ln,pA,lz],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 3+M(this.da)};
g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=1461934571^Le(this)};g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.source,b.source)&&D.aa(this.zc,b.zc)&&D.aa(this.Na,b.Na)&&D.aa(this.da,b.da)};g.Ka=function(a,b){return Of(new rk(null,new p(null,3,[pA,null,ln,null,lz,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new DN(this.source,this.zc,this.Na,this.fa,nh(S.aa(this.da,b)),null)};
g.ra=function(a,b,c){return r(T.aa?T.aa(ln,b):T.call(null,ln,b))?new DN(c,this.zc,this.Na,this.fa,this.da,null):r(T.aa?T.aa(pA,b):T.call(null,pA,b))?new DN(this.source,c,this.Na,this.fa,this.da,null):r(T.aa?T.aa(lz,b):T.call(null,lz,b))?new DN(this.source,this.zc,c,this.fa,this.da,null):new DN(this.source,this.zc,this.Na,this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(new X(null,3,5,Z,[new Y(ln,this.source),new Y(pA,this.zc),new Y(lz,this.Na)],null),this.da))};
g.ta=function(a,b){return new DN(this.source,this.zc,this.Na,b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};g.ab=l;g.bb=function(a,b,c){return EM(b,this.Na,EM(b,this.zc,EM(b,this.source,c)))};g.cb=function(a,b){a=KM.aa?KM.aa(b,this.source):KM.call(null,b,this.source);b=this.zc;a=KM.aa?KM.aa(a,b):KM.call(null,a,b);b=this.Na;return KM.aa?KM.aa(a,b):KM.call(null,a,b)};
function EN(a,b,c,d){this.Na=a;this.fa=b;this.da=c;this.ga=d;this.ha=2230716170;this.na=139264}g=EN.prototype;g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "clauses":return this.Na;default:return B.ca(this.da,b,c)}};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};
g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.parser.And{",", ","}",c,V.aa(new X(null,1,5,Z,[new X(null,2,5,Z,[lz,this.Na],null)],null),this.da))};g.Ca=function(){return new Yi(this,1,new X(null,1,5,Z,[lz],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 1+M(this.da)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=-131856804^Le(this)};
g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.Na,b.Na)&&D.aa(this.da,b.da)};g.Ka=function(a,b){return Of(new rk(null,new p(null,1,[lz,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new EN(this.Na,this.fa,nh(S.aa(this.da,b)),null)};g.ra=function(a,b,c){return r(T.aa?T.aa(lz,b):T.call(null,lz,b))?new EN(c,this.fa,this.da,null):new EN(this.Na,this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(new X(null,1,5,Z,[new Y(lz,this.Na)],null),this.da))};
g.ta=function(a,b){return new EN(this.Na,b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};g.ab=l;g.bb=function(a,b,c){return EM(b,this.Na,c)};g.cb=function(a,b){return KM.aa?KM.aa(b,this.Na):KM.call(null,b,this.Na)};function FN(a){var b=D.aa(sq,a)?new IM(null,null,null):null;if(r(b))return b;b=QM(a);return r(b)?b:TM(a)}
function GN(a){if(Cf(a)){var b=SM(J(a));return r(b)?new X(null,2,5,Z,[b,K(a)],null):new X(null,2,5,Z,[new MM(null,null,null),a],null)}return null}function HN(a){if(Cf(a)){var b=E(a);a=J(b);b=K(b);b=null==b?pf:b;var c=UM(a);a=r(c)?c:QM(a);b=CM(WM,b);return r(r(a)?b:a)?new X(null,2,5,Z,[a,b],null):null}return null}
var KM=function KM(a,b){return b instanceof JM?of.aa(a,b):b instanceof CN?bi.aa(a,b.rb):b instanceof DN?(b=b.zc,KM.aa?KM.aa(a,b):KM.call(null,a,b)):(null!=b?l===b.ab||(b.Ed?0:Bc(yM,b)):Bc(yM,b))?AM(b,a):Cf(b)?v.ca(KM,a,b):a};function IN(a,b,c){if(zf(a)&&zf(b))throw gm("Join variables should not be empty",new p(null,2,[Fp,ry,yt,c],null));}function JN(a,b){IN(null,rs.ba(a),b);return a}
function KN(a,b){var c=null!=a&&(a.ha&64||l===a.Ea)?hh(ik,a):a;c=B.aa(c,pA);var d=null!=c&&(c.ha&64||l===c.Ea)?hh(ik,c):c;c=B.aa(d,RA);d=B.aa(d,Vr);IN(c,d,b);return a}function Kh(a){if(Cf(a)&&D.aa(jw,J(a))){var b=K(a);b=LN.ba?LN.ba(b):LN.call(null,b);if(r(nh(b)))return new EN(b,null,null,null);throw gm("Cannot parse 'and' clause, expected [ 'and' clause+ ]",new p(null,2,[Fp,ry,yt,a],null));}return null}
function Lh(a){a:{var b=GN(a);if(r(b)){var c=Q(b,0,null);b=Q(b,1,null);var d=E(b);b=J(d);d=K(d);if(D.aa(jy,b)){b=LN.ba?LN.ba(d):LN.call(null,d);if(r(b)){c=JN(GM(new CN(c,Zf(vk(KM(pf,b))),b,null,null,null),a),a);break a}throw gm("Cannot parse 'not' clause, expected [ src-var? 'not' clause+ ]",new p(null,2,[Fp,ry,yt,a],null));}}c=null}if(r(c))return c;a:{b=GN(a);if(r(b)){c=Q(b,0,null);b=Q(b,1,null);d=E(b);b=J(d);var e=K(d);d=J(e);e=K(e);if(D.aa(Sq,b)){b=CM(QM,d);d=LN.ba?LN.ba(e):LN.call(null,e);if(r(r(b)?
d:b)){c=JN(GM(new CN(c,b,d,null,null,null),a),a);break a}throw gm("Cannot parse 'not-join' clause, expected [ src-var? 'not-join' [variable+] clause+ ]",new p(null,2,[Fp,ry,yt,a],null));}}c=null}if(r(c))return c;a:{b=GN(a);if(r(b)&&(c=Q(b,0,null),b=Q(b,1,null),d=E(b),b=J(d),d=K(d),D.aa(Cr,b))){b=CM(Jh(),d);if(r(b)){c=KN(GM(new DN(c,new XM(null,Zf(vk(KM(pf,b))),null,null,null),b,null,null,null),a),a);break a}throw gm("Cannot parse 'or' clause, expected [ src-var? 'or' clause+ ]",new p(null,2,[Fp,ry,
yt,a],null));}c=null}if(r(c))return c;a:{b=GN(a);if(r(b)&&(c=Q(b,0,null),b=Q(b,1,null),d=E(b),b=J(d),e=K(d),d=J(e),e=K(e),D.aa(xp,b))){b=YM(d);d=CM(Jh(),e);if(r(r(b)?d:b)){c=KN(GM(new DN(c,b,d,null,null,null),a),a);break a}throw gm("Cannot parse 'or-join' clause, expected [ src-var? 'or-join' [variable+] clause+ ]",new p(null,2,[Fp,ry,yt,a],null));}c=null}if(r(c))return c;a:{if(BM(a,1)&&(b=HN(J(a)),r(b))){c=Q(b,0,null);b=Q(b,1,null);c=GM(new zN(c,b,null,null,null),a);break a}c=null}if(r(c))return c;
a:{if(BM(a,2)&&(b=Q(a,0,null),c=Q(a,1,null),d=HN(b),r(d))){b=Q(d,0,null);d=Q(d,1,null);c=gN(c);c=r(c)?GM(new AN(b,d,c,null,null,null),a):null;break a}c=null}if(r(c))return c;a:{b=GN(a);if(r(b)&&(c=Q(b,0,null),b=Q(b,1,null),b=E(b),d=J(b),b=K(b),d=UM(d),e=CM(FN,b),r(d))){if(zf(b))throw gm("rule-expr requires at least one argument",new p(null,2,[Fp,ry,yt,a],null));if(null==e)throw gm("Cannot parse rule-expr arguments, expected [ (variable | constant | '_')+ ]",new p(null,2,[Fp,ry,yt,a],null));c=new BN(c,
d,e,null,null,null);break a}c=null}if(r(c))return c;a:{b=GN(a);if(r(b)&&(c=Q(b,0,null),b=Q(b,1,null),b=CM(FN,b),r(b))){if(zf(b))throw gm("Pattern could not be empty",new p(null,2,[Fp,ry,yt,a],null));c=GM(new yN(c,b,null,null,null),a);break a}c=null}if(r(c))return c;throw gm("Cannot parse clause, expected (data-pattern | pred-expr | fn-expr | rule-expr | not-clause | not-join-clause | or-clause | or-join-clause)",new p(null,2,[Fp,ry,yt,a],null));}function LN(a){return CM(Lh,a)}
function MN(a){var b=LN(a);if(r(b))return b;throw gm("Cannot parse :where clause, expected [clause+]",new p(null,2,[Fp,ry,yt,a],null));}function NN(a,b,c,d,e){this.rb=a;this.Na=b;this.fa=c;this.da=d;this.ga=e;this.ha=2230716170;this.na=139264}g=NN.prototype;g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "vars":return this.rb;case "clauses":return this.Na;default:return B.ca(this.da,b,c)}};
g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.parser.RuleBranch{",", ","}",c,V.aa(new X(null,2,5,Z,[new X(null,2,5,Z,[rs,this.rb],null),new X(null,2,5,Z,[lz,this.Na],null)],null),this.da))};g.Ca=function(){return new Yi(this,2,new X(null,2,5,Z,[rs,lz],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};
g.xa=function(){return 2+M(this.da)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=1024755006^Le(this)};g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.rb,b.rb)&&D.aa(this.Na,b.Na)&&D.aa(this.da,b.da)};g.Ka=function(a,b){return Of(new rk(null,new p(null,2,[lz,null,rs,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new NN(this.rb,this.Na,this.fa,nh(S.aa(this.da,b)),null)};
g.ra=function(a,b,c){return r(T.aa?T.aa(rs,b):T.call(null,rs,b))?new NN(c,this.Na,this.fa,this.da,null):r(T.aa?T.aa(lz,b):T.call(null,lz,b))?new NN(this.rb,c,this.fa,this.da,null):new NN(this.rb,this.Na,this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(new X(null,2,5,Z,[new Y(rs,this.rb),new Y(lz,this.Na)],null),this.da))};g.ta=function(a,b){return new NN(this.rb,this.Na,b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};g.ab=l;
g.bb=function(a,b,c){return EM(b,this.Na,EM(b,this.rb,c))};g.cb=function(a,b){return KM(KM(b,this.rb),this.Na)};function ON(a,b,c,d,e){this.name=a;this.branches=b;this.fa=c;this.da=d;this.ga=e;this.ha=2230716170;this.na=139264}g=ON.prototype;g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "name":return this.name;case "branches":return this.branches;default:return B.ca(this.da,b,c)}};
g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.parser.Rule{",", ","}",c,V.aa(new X(null,2,5,Z,[new X(null,2,5,Z,[Wz,this.name],null),new X(null,2,5,Z,[Xs,this.branches],null)],null),this.da))};g.Ca=function(){return new Yi(this,2,new X(null,2,5,Z,[Wz,Xs],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};
g.xa=function(){return 2+M(this.da)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=-900273052^Le(this)};g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.name,b.name)&&D.aa(this.branches,b.branches)&&D.aa(this.da,b.da)};g.Ka=function(a,b){return Of(new rk(null,new p(null,2,[Wz,null,Xs,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new ON(this.name,this.branches,this.fa,nh(S.aa(this.da,b)),null)};
g.ra=function(a,b,c){return r(T.aa?T.aa(Wz,b):T.call(null,Wz,b))?new ON(c,this.branches,this.fa,this.da,null):r(T.aa?T.aa(Xs,b):T.call(null,Xs,b))?new ON(this.name,c,this.fa,this.da,null):new ON(this.name,this.branches,this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(new X(null,2,5,Z,[new Y(Wz,this.name),new Y(Xs,this.branches)],null),this.da))};g.ta=function(a,b){return new ON(this.name,this.branches,b,this.da,this.ga)};
g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};g.ab=l;g.bb=function(a,b,c){return EM(b,this.branches,EM(b,this.name,c))};g.cb=function(a,b){return KM(KM(b,this.name),this.branches)};
function PN(a){if(Cf(a)){var b=E(a),c=J(b),d=K(b);if(Cf(c)){b=E(c);var e=J(b);c=K(b);b=function(){var h=UM(e);if(r(h))return h;throw gm("Cannot parse rule name, expected plain-symbol",new p(null,2,[Fp,Ex,yt,a],null));}();c=YM(c);var f=function(){var h=nh(LN(d));if(r(h))return h;throw gm("Rule branch should have clauses",new p(null,2,[Fp,Ex,yt,a],null));}();return new p(null,3,[Wz,b,rs,c,lz,f],null)}throw gm(["Cannot parse rule head, expected [rule-name rule-vars], got: ",hl.ea(P([c]))].join(""),new p(null,
2,[Fp,Ex,yt,a],null));}throw gm("Cannot parse rule, expected [rule-head clause+]",new p(null,2,[Fp,Ex,yt,a],null));}
function QN(a,b){var c=rs.ba(J(b)),d=$M(c);b=E(K(b));for(var e=null,f=0,h=0;;)if(h<f){var k=e.La(null,h);k=rs.ba(k);if(mh.aa(d,$M(k)))throw gm(["Arity mismatch for rule '",hl.ea(P([nx.ba(a)])),"': ",hl.ea(P([ZM(c)]))," vs. ",hl.ea(P([ZM(k)]))].join(""),new p(null,2,[Fp,Ex,Yo,a],null));h+=1}else if(b=E(b)){if(Hf(b))f=ae(b),b=be(b),e=f,f=M(f);else{k=J(b);e=rs.ba(k);if(mh.aa(d,$M(e)))throw gm(["Arity mismatch for rule '",hl.ea(P([nx.ba(a)])),"': ",hl.ea(P([ZM(c)]))," vs. ",hl.ea(P([ZM(e)]))].join(""),
new p(null,2,[Fp,Ex,Yo,a],null));b=K(b);e=null;f=0}h=0}else break}
function RN(a){Zf(function(){return function d(c){return new Kg(null,function(){for(;;){var e=E(c);if(e){var f=e;if(Hf(f)){var h=ae(f),k=M(h),m=Og(k);return function(){for(var w=0;;)if(w<k){var z=x(h,w),F=Q(z,0,null),H=Q(z,1,null);z=ci.aa(function(){return function(G){return new NN(rs.ba(G),lz.ba(G),null,null,null)}}(w,z,F,H,h,k,m,f,e),H);H=m;QN(F,z);H.add(new ON(F,z,null,null,null));w+=1}else return!0}()?Qg(Sg(m),d(be(f))):Qg(Sg(m),null)}var n=J(f),q=Q(n,0,null),u=Q(n,1,null);n=ci.aa(function(){return function(w){return new NN(rs.ba(w),
lz.ba(w),null,null,null)}}(n,q,u,f,e),u);QN(q,n);return gf(new ON(q,n,null,null,null),d(Ee(f)))}return null}},null,null)}(Nl(Wz,CM(PN,a)))}())}function SN(a,b,c,d,e,f,h,k){this.pc=a;this.tc=b;this.rc=c;this.qc=d;this.sc=e;this.fa=f;this.da=h;this.ga=k;this.ha=2230716170;this.na=139264}g=SN.prototype;g.Aa=function(a,b){return this.la(null,b,null)};
g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "qfind":return this.pc;case "qwith":return this.tc;case "qreturn-map":return this.rc;case "qin":return this.qc;case "qwhere":return this.sc;default:return B.ca(this.da,b,c)}};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};
g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.parser.Query{",", ","}",c,V.aa(new X(null,5,5,Z,[new X(null,2,5,Z,[Oq,this.pc],null),new X(null,2,5,Z,[NA,this.tc],null),new X(null,2,5,Z,[Sw,this.rc],null),new X(null,2,5,Z,[Qy,this.qc],null),new X(null,2,5,Z,[jz,this.sc],null)],null),this.da))};g.Ca=function(){return new Yi(this,5,new X(null,5,5,Z,[Oq,NA,Sw,Qy,jz],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 5+M(this.da)};
g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=181307977^Le(this)};g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.pc,b.pc)&&D.aa(this.tc,b.tc)&&D.aa(this.rc,b.rc)&&D.aa(this.qc,b.qc)&&D.aa(this.sc,b.sc)&&D.aa(this.da,b.da)};g.Ka=function(a,b){return Of(new rk(null,new p(null,5,[Oq,null,jz,null,Qy,null,NA,null,Sw,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new SN(this.pc,this.tc,this.rc,this.qc,this.sc,this.fa,nh(S.aa(this.da,b)),null)};
g.ra=function(a,b,c){return r(T.aa?T.aa(Oq,b):T.call(null,Oq,b))?new SN(c,this.tc,this.rc,this.qc,this.sc,this.fa,this.da,null):r(T.aa?T.aa(NA,b):T.call(null,NA,b))?new SN(this.pc,c,this.rc,this.qc,this.sc,this.fa,this.da,null):r(T.aa?T.aa(Sw,b):T.call(null,Sw,b))?new SN(this.pc,this.tc,c,this.qc,this.sc,this.fa,this.da,null):r(T.aa?T.aa(Qy,b):T.call(null,Qy,b))?new SN(this.pc,this.tc,this.rc,c,this.sc,this.fa,this.da,null):r(T.aa?T.aa(jz,b):T.call(null,jz,b))?new SN(this.pc,this.tc,this.rc,this.qc,
c,this.fa,this.da,null):new SN(this.pc,this.tc,this.rc,this.qc,this.sc,this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(new X(null,5,5,Z,[new Y(Oq,this.pc),new Y(NA,this.tc),new Y(Sw,this.rc),new Y(Qy,this.qc),new Y(jz,this.sc)],null),this.da))};g.ta=function(a,b){return new SN(this.pc,this.tc,this.rc,this.qc,this.sc,b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};g.ab=l;
g.bb=function(a,b,c){return EM(b,this.sc,EM(b,this.qc,EM(b,this.rc,EM(b,this.tc,EM(b,this.pc,c)))))};g.cb=function(a,b){return KM(KM(KM(KM(KM(b,this.pc),this.tc),this.rc),this.qc),this.sc)};function TN(a){var b=S.ea(a,Oq,P([NA,Sw,Qy,jz]));b=Ff(a)?bi.aa(W,b):b;return new SN(Oq.ba(a),NA.ba(a),Sw.ba(a),Qy.ba(a),jz.ba(a),null,nh(b),null)}function UN(a){for(var b=W,c=null;;){var d=J(a);if(r(d))d instanceof C?(c=d,a=K(a)):(b=ii.ka(b,new X(null,1,5,Z,[c],null),zh(of,pf),d),a=K(a));else return b}}
function VN(a){var b=ln.ba(a);return a instanceof yN?b:null!=b?b instanceof MM?null:b:null}
function WN(a,b,c){var d=uk(KM(pf,Oq.ba(a))),e=uk(NA.ba(a)),f=uk(KM(pf,Qy.ba(a))),h=uk(KM(pf,jz.ba(a)));f=JI.aa(HI(d,e),HI(h,f));d=II.aa(d,e);if(!zf(f))throw gm(["Query for unknown vars: ",hl.ea(P([ci.aa(nx,f)]))].join(""),new p(null,3,[Fp,Jy,rs,f,yt,b],null));if(!zf(d))throw gm([":find and :with should not use same variables: ",hl.ea(P([ci.aa(nx,d)]))].join(""),new p(null,3,[Fp,Jy,rs,d,yt,b],null));d=Sw.ba(a);if(null!=d){if(Oq.ba(a)instanceof oN)throw gm([hl.ea(P([qq.ba(d)]))," does not work with single-scalar :find"].join(""),
new p(null,2,[Fp,Jy,yt,b],null));if(Oq.ba(a)instanceof nN)throw gm([hl.ea(P([qq.ba(d)]))," does not work with collection :find"].join(""),new p(null,2,[Fp,Jy,yt,b],null));}d=wy.ba(Sw.ba(a));if(null!=d&&(e=lN(Oq.ba(a)),!D.aa(M(d),M(e))))throw gm(["Count of ",hl.ea(P([qq.ba(Sw.ba(a))]))," must match count of :find"].join(""),new p(null,4,[Fp,Jy,oo,gf(qq.ba(Sw.ba(a)),d),ur,e,yt,b],null));if(1<M($h(Ac,new X(null,3,5,Z,[Nq.ba(c),Xz.ba(c),xn.ba(c)],null))))throw gm("Only one of :keys/:syms/:strs must be present",
new p(null,2,[Fp,Jy,yt,b],null));var k=KM(pf,Qy.ba(a)),m=DM(function(q){return q instanceof LM},Qy.ba(a)),n=DM(function(q){return q instanceof NM},Qy.ba(a));if(!r(function(){var q=FM(k);return r(q)?(q=FM(m),r(q)?FM(n):q):q}()))throw gm("Vars used in :in should be distinct",new p(null,2,[Fp,Jy,yt,b],null));c=KM(pf,NA.ba(a));if(!r(FM(c)))throw gm("Vars used in :with should be distinct",new p(null,2,[Fp,Jy,yt,b],null));c=EM(function(q){return q instanceof LM},Qy.ba(a),tk);d=EM(function(q){return q instanceof
LM},jz.ba(a),tk);c=JI.aa(d,c);if(!zf(c))throw gm(["Where uses unknown source vars: ",hl.ea(P([ci.aa(nx,c)]))].join(""),new p(null,3,[Fp,Jy,rs,c,yt,b],null));c=DM(function(q){return q instanceof BN},jz.ba(a));a=DM(function(q){return q instanceof NM},Qy.ba(a));if(!zf(c)&&zf(a))throw gm("Missing rules var '%' in :in",new p(null,2,[Fp,Jy,yt,b],null));}
function XN(a){if(Ef(a))var b=a;else if(Cf(a))b=UN(a);else throw gm("Query should be a vector or a map",new p(null,2,[Fp,Jy,yt,a],null));var c=b,d=MN(sp.aa(c,pf));b=TN(new p(null,5,[Oq,tN(ur.ba(c)),NA,function(){var e=HB.ba(c);if(r(e)){var f=CM(QM,e);if(r(f))e=f;else throw gm("Cannot parse :with clause, expected [ variable+ ]",new p(null,2,[Fp,eu,yt,e],null));}else e=null;return e}(),Sw,function(){var e=vN(Nq,Nq.ba(c));if(r(e))return e;e=vN(Xz,Xz.ba(c));return r(e)?e:vN(xn,xn.ba(c))}(),Qy,xN(function(){var e=
XB.ba(c);return r(e)?e:zf(DM(VN,d))?pf:new X(null,1,5,Z,[Rp],null)}()),jz,d],null));WN(b,a,c);return b};function YN(a,b,c,d,e,f){this.fd=a;this.sources=b;this.rules=c;this.fa=d;this.da=e;this.ga=f;this.ha=2230716170;this.na=139264}g=YN.prototype;g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "rels":return this.fd;case "sources":return this.sources;case "rules":return this.rules;default:return B.ca(this.da,b,c)}};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};
g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.query.Context{",", ","}",c,V.aa(new X(null,3,5,Z,[new X(null,2,5,Z,[yw,this.fd],null),new X(null,2,5,Z,[xx,this.sources],null),new X(null,2,5,Z,[xw,this.rules],null)],null),this.da))};g.Ca=function(){return new Yi(this,3,new X(null,3,5,Z,[yw,xx,xw],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 3+M(this.da)};
g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=1014232958^Le(this)};g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.fd,b.fd)&&D.aa(this.sources,b.sources)&&D.aa(this.rules,b.rules)&&D.aa(this.da,b.da)};g.Ka=function(a,b){return Of(new rk(null,new p(null,3,[xx,null,xw,null,yw,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new YN(this.fd,this.sources,this.rules,this.fa,nh(S.aa(this.da,b)),null)};
g.ra=function(a,b,c){return r(T.aa?T.aa(yw,b):T.call(null,yw,b))?new YN(c,this.sources,this.rules,this.fa,this.da,null):r(T.aa?T.aa(xx,b):T.call(null,xx,b))?new YN(this.fd,c,this.rules,this.fa,this.da,null):r(T.aa?T.aa(xw,b):T.call(null,xw,b))?new YN(this.fd,this.sources,c,this.fa,this.da,null):new YN(this.fd,this.sources,this.rules,this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(new X(null,3,5,Z,[new Y(yw,this.fd),new Y(xx,this.sources),new Y(xw,this.rules)],null),this.da))};
g.ta=function(a,b){return new YN(this.fd,this.sources,this.rules,b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};function ZN(a,b,c,d,e){this.Db=a;this.xd=b;this.fa=c;this.da=d;this.ga=e;this.ha=2230716170;this.na=139264}g=ZN.prototype;g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "attrs":return this.Db;case "tuples":return this.xd;default:return B.ca(this.da,b,c)}};
g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#datascript.query.Relation{",", ","}",c,V.aa(new X(null,2,5,Z,[new X(null,2,5,Z,[Zt,this.Db],null),new X(null,2,5,Z,[wu,this.xd],null)],null),this.da))};g.Ca=function(){return new Yi(this,2,new X(null,2,5,Z,[Zt,wu],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};
g.xa=function(){return 2+M(this.da)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=1107093117^Le(this)};g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.Db,b.Db)&&D.aa(this.xd,b.xd)&&D.aa(this.da,b.da)};g.Ka=function(a,b){return Of(new rk(null,new p(null,2,[wu,null,Zt,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new ZN(this.Db,this.xd,this.fa,nh(S.aa(this.da,b)),null)};
g.ra=function(a,b,c){return r(T.aa?T.aa(Zt,b):T.call(null,Zt,b))?new ZN(c,this.xd,this.fa,this.da,null):r(T.aa?T.aa(wu,b):T.call(null,wu,b))?new ZN(this.Db,c,this.fa,this.da,null):new ZN(this.Db,this.xd,this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(new X(null,2,5,Z,[new Y(Zt,this.Db),new Y(wu,this.xd)],null),this.da))};g.ta=function(a,b){return new ZN(this.Db,this.xd,b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};
function $N(a,b){return II.aa(uk(dj(a)),uk(dj(b)))}function aO(a,b){return D.aa(M(a),M(b))&&sh(function(c){return Of(b,c)},dj(a))&&sh(function(c){return Of(b,c)},dj(a))}
var bO=function bO(a,b){return D.aa(sq,a)?!0:D.aa(new X(null,1,5,Z,[Yx],null),a)?Cf(b):a instanceof A?D.aa(b,a):Cf(a)?D.aa(nf(a),Yx)?Cf(b)&&sh(function(d){var e=Q(d,0,null);d=Q(d,1,null);return bO.aa?bO.aa(e,d):bO.call(null,e,d)},Mh.ca(Ii,wk(a),b)):Cf(b)&&D.aa(M(b),M(a))&&sh(function(d){var e=Q(d,0,null);d=Q(d,1,null);return bO.aa?bO.aa(e,d):bO.call(null,e,d)},Mh.ca(Ii,a,b)):a.ba?a.ba(b):a.call(null,b)};function cO(a){return a instanceof A&&D.aa("$",J(Jg(a)))}
function dO(a){return a instanceof A&&D.aa("?",J(Jg(a)))}function eO(a){return a instanceof C||"string"===typeof a}function fO(a){return bO(new X(null,2,5,Z,[eO,sq],null),a)}function gO(a,b,c,d){for(var e=b.length,f=d.length,h=Array(e+f),k=0;;)if(k<e)h[k]=a[b[k]],k+=1;else break;for(a=0;;)if(a<f)h[e+a]=c[d[a]],a+=1;else break;return h}
var hO=function hO(a,b){var d=null!=a&&(a.ha&64||l===a.Ea)?hh(ik,a):a,e=B.aa(d,Zt);d=B.aa(d,wu);var f=null!=b&&(b.ha&64||l===b.Ea)?hh(ik,b):b,h=B.aa(f,Zt);f=B.aa(f,wu);if(D.aa(e,h))return new ZN(e,bi.aa(Zf(d),f),null,null,null);if(aO(e,h)){if(sh(yc,ej(e))){var k=Zf(function(){return function w(u){return new Kg(null,function(){for(;;){var z=E(u);if(z){if(Hf(z)){var F=ae(z),H=M(F),G=Og(H);a:for(var N=0;;)if(N<H){var O=x(F,N),U=Q(O,0,null);O=Q(O,1,null);U=new X(null,2,5,Z,[O,e.ba?e.ba(U):e.call(null,
U)],null);G.add(U);N+=1}else{F=!0;break a}return F?Qg(Sg(G),w(be(z))):Qg(Sg(G),null)}F=J(z);G=Q(F,0,null);F=Q(F,1,null);return gf(new X(null,2,5,Z,[F,e.ba?e.ba(G):e.call(null,G)],null),w(Ee(z)))}return null}},null,null)}(h)}()),m=v.aa(qg,ej(e))+1;b=Ud(v.ca(function(q,u){for(var w=Array(m),z=E(k),F=null,H=0,G=0;;)if(G<H){var N=F.La(null,G),O=Q(N,0,null);N=Q(N,1,null);w[N]=u[O];G+=1}else if(z=E(z))Hf(z)?(H=ae(z),z=be(z),F=H,H=M(H)):(H=J(z),F=Q(H,0,null),H=Q(H,1,null),w[H]=u[F],z=K(z),F=null,H=0),G=
0;else break;return Zg.aa(q,w)},Sd(Zf(d)),f));return new ZN(e,b,null,null,null)}var n=xk(dj(mk.ea(P([e,h]))),Gk.ja());d=function(){var q=new ZN(n,pf,null,null,null);return hO.aa?hO.aa(q,a):hO.call(null,q,a)}();return hO.aa?hO.aa(d,b):hO.call(null,d,b)}throw gm(["Cant sum relations with different attrs: ",hl.ea(P([e]))," and ",hl.ea(P([h]))].join(""),new p(null,1,[Fp,Tr],null));},iO=function iO(a){switch(arguments.length){case 0:return iO.ja();case 2:return iO.aa(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",
t.ba(arguments.length)].join(""));}};iO.ja=function(){return new ZN(W,new X(null,1,5,Z,[[]],null),null,null,null)};iO.aa=function(a,b){var c=dj(Zt.ba(a)),d=dj(Zt.ba(b)),e=Vf(Mh.aa(Zt.ba(a),c)),f=Vf(Mh.aa(Zt.ba(b),d));return new ZN(xk(V.aa(c,d),Gk.ja()),Ud(v.ca(function(h,k){return v.ca(function(m,n){return Zg.aa(m,gO(k,e,n,f))},h,wu.ba(b))},Sd(pf),wu.ba(a))),null,null,null)};iO.ma=2;
var jO=function jO(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new I(c.slice(0),0,null):null;return jO.ea(c)};jO.ea=function(a){var b=M(a);return mh.aa(Nh.aa(b/2,a),Oh(b/2,a))};jO.ma=0;jO.pa=function(a){return this.ea(E(a))};var kO=function kO(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new I(c.slice(2),0,null):null;return kO.ea(arguments[0],arguments[1],c)};
kO.ea=function(a,b,c){return v.ca(function(d,e){d=J(kK(a,new X(null,2,5,Z,[b,e],null)));return null==d?null:Pe(new X(null,2,5,Z,[Xw.ba(d),dx.ba(d)],null))},null,c)};kO.ma=2;kO.pa=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.ea(b,a,c)};var lO=function lO(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new I(c.slice(0),0,null):null;return lO.ea(c)};lO.ea=function(a){return v.ca(function(b,c){return r(c)?c:Pe(c)},!0,a)};lO.ma=0;lO.pa=function(a){return this.ea(E(a))};
var mO=function mO(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new I(c.slice(0),0,null):null;return mO.ea(c)};mO.ea=function(a){return v.ca(function(b,c){return r(c)?Pe(c):c},null,a)};mO.ma=0;mO.pa=function(a){return this.ea(E(a))};
var nO=Pj([xB,jw,Fs,Px,vr,tw,Hv,Jq,Bw,zr,Iy,oA,Fo,rr,kC,jy,an,by,cv,dq,as,ax,Uv,Cp,zB,vs,Wr,yz,tB,Cn,mo,Jw,ro,It,bn,mz,Yx,tp,ir,vw,Ls,Fm,rv,Zs,qB,vC,Dt,Eo,Sy,cB,Ss,Qs,Bp,cp,at,sz,bo,wB,Vm,pp,Oy,ip,pw,UB,xA,Xy,Dy,Jt,Yv,Cr,Bn,lt,Mu],[function(a){return!0===a},lO,function(a){return!uh(a)},function(a,b,c,d){if(null==d)throw gm("get-else: nil default value is not supported",new p(null,1,[Fp,Tr],null));a=J(kK(a,new X(null,2,5,Z,[b,c],null)));return null==a?d:dx.ba(a)},pg,jl,og,M,kO,wc,cg,Ne,lg,vg,function(a){return!1===
a},zc,cg,jO,Ii,Qk,ng,function(a,b){return 0==a.lastIndexOf(b,0)},D,rg,ig,Jg,function(a,b,c){return null==B.aa(kM(a,b),c)},cg,Ml,vh,yg,ik,Rf,Gk,qg,zf,kg,hl,kl,xf,function(a){return 0===a},mh,il,function(a){return a-1},Sk,Ii,mh,t,mg,Gg,Ig,jg,Ac,function(a){return 0<a},Ll,Nk,Dg,Of,function(a,b){return vb(a,b)},zg,ug,function(a,b){return-1!=a.indexOf(b)},jk,wg,uh,Cc,function(a){return 0>a},SC,nh,mO,function(a,b){return a===b},uk,Ok]),oO=function(){function a(d){var e=b(d);return c(function(){return function k(h){return new Kg(null,
function(){for(;;){var m=E(h);if(m){if(Hf(m)){var n=ae(m),q=M(n),u=Og(q);a:for(var w=0;;)if(w<q){var z=x(n,w)-e;u.add(z*z);w+=1}else{n=!0;break a}return n?Qg(Sg(u),k(be(m))):Qg(Sg(u),null)}u=J(m)-e;return gf(u*u,k(Ee(m)))}return null}},null,null)}(d)}())/M(d)}function b(d){return c(d)/M(d)}function c(d){return v.ca(ig,0,d)}return Pj([pq,Jq,sn,Ap,Cp,bn,dv,Ox,hy,Go,at,Oz],[a,M,function(d){var e=Uf(Rf,d);d=M(d);var f=d>>1,h=af(e,f);return uh(d)?(h+af(e,f-1))/2:h},c,function(){function d(h,k){return Zf(v.ca(function(m,
n){return M(m)<h?Uf(Rf,of.aa(m,n)):0>Rf(n,nf(m))?Uf(Rf,of.aa(wk(m),n)):m},pf,k))}function e(h){return v.ca(function(k,m){return 0>Rf(m,k)?m:k},J(h),K(h))}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return d.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.ba=e;f.aa=d;return f}(),function(){function d(h,k){return Zf(v.ca(function(m,n){return M(m)<h?Uf(Rf,of.aa(m,n)):0<Rf(n,J(m))?Uf(Rf,of.aa(K(m),n)):m},pf,k))}function e(h){return v.ca(function(k,
m){return 0<Rf(m,k)?m:k},J(h),K(h))}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return d.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.ba=e;f.aa=d;return f}(),function(d){return M(vk(d))},uk,b,function(d){return Math.sqrt(a(d))},function(){function d(f,h){return Zf(Vh(f,function(){return af(h,Ml(M(h)))}))}var e=null;e=function(f,h){switch(arguments.length){case 1:return af(f,Ml(M(f)));case 2:return d.call(this,f,h)}throw Error("Invalid arity: "+
arguments.length);};e.ba=function(f){return af(f,Ml(M(f)))};e.aa=d;return e}(),function(d,e){return Zf(Nh.aa(d,Yf(e)))}])}();function pO(a){a="string"===typeof a?yI(new p(null,3,[Dm,y(FI),bm,y(EI),ay,null],null),a):a;RN(a);return Nl(mf,a)}function qO(a){a=Mh.aa(nx,Zf(vk(KM(pf,a))));return new ZN(xk(a,Gk.ja()),pf,null,null,null)}
function rO(a,b){if(null!=a&&null!=a.Be)a=a.Be(a,b);else{var c=rO[oa(null==a?null:a)];if(null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else if(c=rO._,null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else throw Dc("IBinding.in-\x3erel",a);}return a}aN.prototype.Be=function(){return iO.ja()};bN.prototype.Be=function(a,b){return new ZN(tf([fi(this,new X(null,2,5,Z,[pu,nx],null)),0]),new X(null,1,5,Z,[Jc(new X(null,1,5,Z,[b],null))],null),null,null,null)};
dN.prototype.Be=function(a,b){var c=this;if(JJ(b))return zf(b)?qO(c):v.aa(hO,Mh.aa(function(d){return rO(c.binding,d)},b));throw gm(["Cannot bind value ",hl.ea(P([b]))," to collection ",hl.ea(P([HM(c)]))].join(""),new p(null,3,[Fp,Sp,vx,b,Dw,HM(c)],null));};
cN.prototype.Be=function(a,b){if(JJ(b)){if(M(b)<M(this.bindings))throw gm(["Not enough elements in a collection ",hl.ea(P([b]))," to bind tuple ",hl.ea(P([HM(this)]))].join(""),new p(null,3,[Fp,Sp,vx,b,Dw,HM(this)],null));return v.aa(iO,Mh.ca(function(c,d){return rO(c,d)},this.bindings,b))}throw gm(["Cannot bind value ",hl.ea(P([b]))," to tuple ",hl.ea(P([HM(this)]))].join(""),new p(null,3,[Fp,Sp,vx,b,Dw,HM(this)],null));};
function sO(a,b){var c=Q(b,0,null);b=Q(b,1,null);return c instanceof bN&&c.jb instanceof LM?ji.ya(a,xx,R,fi(c,new X(null,2,5,Z,[pu,nx],null)),b):c instanceof bN&&c.jb instanceof NM?R.ca(a,xw,pO(b)):ji.ka(a,yw,of,rO(c,b))}
function tO(a,b,c){var d=M(b),e=M(c);if(d<e)throw gm(["Extra inputs passed, expected: ",hl.ea(P([ci.aa(function(f){return ln.ba(xf(f))},b)])),", got: ",hl.ea(P([e]))].join(""),new p(null,3,[Fp,dp,km,b,ox,c],null));if(d>e)throw gm(["Too few inputs passed, expected: ",hl.ea(P([ci.aa(function(f){return ln.ba(xf(f))},b)])),", got: ",hl.ea(P([e]))].join(""),new p(null,3,[Fp,dp,km,b,ox,c],null));return v.ca(sO,a,xk(b,c))}var uO=null,vO=null;
function wO(a,b){var c=a.ba?a.ba(b):a.call(null,b);return Of(uO,b)?function(d){d=d[c];return"number"===typeof d?d:Cf(d)?NK(vO,d):OI(d)?NK(vO,d):d}:function(d){return d[c]}}function xO(a){if(1===M(a))return J(a);var b=Vf(a);return function(c){return E(b.map(function(d){return d.ba?d.ba(c):d.call(null,c)}))}}function yO(a,b){for(var c=Sd(W);;){var d=J(b);if(null==d)return Ud(c);var e=a.ba?a.ba(d):a.call(null,d);b=K(b);c=$g.ca(c,e,of.aa(B.ca(c,e,Fe),d))}}
function zO(a,b){var c=wu.ba(a),d=wu.ba(b),e=Zt.ba(a),f=Zt.ba(b);a=Zf($N(Zt.ba(a),Zt.ba(b)));var h=Mh.aa(function(w){return wO(e,w)},a),k=Mh.aa(function(w){return wO(f,w)},a);a=dj(e);b=Zf(JI.aa(uk(dj(f)),uk(dj(e))));var m=Vf(Mh.aa(e,a)),n=Vf(Mh.aa(f,b));h=xO(h);var q=yO(h,c),u=xO(k);c=Ud(v.ca(function(w,z){var F=u.ba?u.ba(z):u.call(null,z);F=B.aa(q,F);return null==F?w:v.ca(function(H,G){return Zg.aa(H,gO(G,m,z,n))},w,F)},Sd(pf),d));return new ZN(xk(V.aa(a,b),Gk.ja()),c,null,null,null)}
function AO(a,b){var c=null!=a&&(a.ha&64||l===a.Ea)?hh(ik,a):a,d=B.aa(c,Zt);c=B.aa(c,wu);b=null!=b&&(b.ha&64||l===b.Ea)?hh(ik,b):b;var e=B.aa(b,Zt);b=B.aa(b,wu);var f=$N(d,e),h=Mh.aa(function(n){return wO(e,n)},f);h=xO(h);var k=yO(h,b);b=Mh.aa(function(n){return wO(d,n)},f);var m=xO(b);return R.ca(a,wu,di(function(n){n=m.ba?m.ba(n):m.call(null,n);return null==(k.ba?k.ba(n):k.call(null,n))},c))}
function BO(a,b){var c=ci.aa(function(d){return d instanceof A?null:d},b);a=kK(a,c);b=bi.aa(W,$h(function(d){var e=Q(d,0,null);Q(d,1,null);return dO(e)},Mh.ca(Ii,b,new X(null,4,5,Z,["e","a","v","tx"],null))));return new ZN(b,a,null,null,null)}
function CO(a,b){a=$h(function(d){a:for(var e=b;;){var f=d;if(r(r(f)?e:f)){f=J(d);var h=J(e);if(h instanceof A||D.aa(f,h))d=K(d),e=K(e);else{d=!1;break a}}else{d=!0;break a}}return d},a);var c=bi.aa(W,$h(function(d){var e=Q(d,0,null);Q(d,1,null);return dO(e)},Mh.ca(Ii,b,Gk.ja())));return new ZN(c,ci.aa(Vf,a),null,null,null)}function DO(a,b){return(null!=a?l===a.Sh||(a.Ed?0:Bc(jK,a)):Bc(jK,a))?BO(a,b):CO(a,b)}
function EO(a,b){for(var c=pf;;){var d=J(a);if(null==d)return of.aa(c,b);r(nh($N(Zt.ba(b),Zt.ba(d))))?(a=K(a),b=zO(d,b)):(a=K(a),c=of.aa(c,d))}}function FO(a,b){return th(function(c){return Of(Zt.ba(c),b)?c:null},yw.ba(a))}function GO(a,b){var c=FO(a,b);if(null==c)return null;a=J(wu.ba(c));null==a?b=null:(c=Zt.ba(c),b=c.ba?c.ba(b):c.call(null,b),b=a[b]);return b}function HO(a,b){return th(function(c){return Of(Zt.ba(a),c)},b)}
function IO(a,b){var c=$h(function(e){return HO(e,b)},yw.ba(a)),d=v.aa(iO,c);return new X(null,2,5,Z,[ji.ca(a,yw,function(e){return ai(uk(c),e)}),d],null)}
function JO(a,b,c,d){a=xx.ba(a);b=Zt.ba(b);for(var e=M(d),f=Array(e),h=Array(e),k=0;;)if(k<e){var m=af(d,k);if(m instanceof A){var n=B.aa(a,m);null==n?h[k]=B.aa(b,m):f[k]=n}else f[k]=m;k+=1}else break;return c===Ii?function(q){for(var u=f.slice(0),w=0;;)if(w<e){var z=h[w];null!=z&&(u[w]=q[z]);w+=1}else break;return hh(c,u)}:function(q){for(var u=0;;)if(u<e){var w=h[u];null!=w&&(f[u]=q[w]);u+=1}else break;return hh(c,f)}}
function KO(a,b){var c=Q(b,0,null);c=E(c);var d=J(c),e=K(c),f=function(){var m=B.aa(nO,d);if(r(m))return m;m=GO(a,d);if(r(m))return m;if(r(null))return null;if(null==FO(a,d))throw gm(["Unknown predicate '",hl.ea(P([d]))," in ",hl.ea(P([b]))].join(""),new p(null,3,[Fp,Tr,yt,b,Gu,d],null));return null}();c=IO(a,$h(ue,e));var h=Q(c,0,null),k=Q(c,1,null);c=r(f)?function(){var m=JO(h,k,f,e);return ji.ca(k,wu,function(n){return $h(m,n)})}():R.ca(k,wu,pf);return ji.ka(h,yw,of,c)}
function LO(a,b){var c=Q(b,0,null);c=E(c);var d=J(c),e=K(c);c=Q(b,1,null);var f=gN(c),h=function(){var n=B.aa(nO,d);if(r(n))return n;n=GO(a,d);if(r(n))return n;if(r(null))return null;if(null==FO(a,d))throw gm(["Unknown function '",hl.ea(P([d]))," in ",hl.ea(P([b]))].join(""),new p(null,3,[Fp,Tr,yt,b,Gu,d],null));return null}();c=IO(a,$h(ue,e));var k=Q(c,0,null),m=Q(c,1,null);c=r(h)?function(){var n=JO(k,m,h,e),q=function(){return function z(w){return new Kg(null,function(){for(var F=w;;)if(F=E(F)){if(Hf(F)){var H=
ae(F),G=M(H),N=Og(G);a:for(var O=0;;)if(O<G){var U=x(H,O),ea=n(U);null!=ea&&(U=iO.aa(new ZN(Zt.ba(m),new X(null,1,5,Z,[U],null),null,null,null),rO(f,ea)),N.add(U));O+=1}else{H=!0;break a}return H?Qg(Sg(N),z(be(F))):Qg(Sg(N),null)}N=J(F);H=n(N);if(null!=H)return gf(iO.aa(new ZN(Zt.ba(m),new X(null,1,5,Z,[N],null),null,null,null),rO(f,H)),z(Ee(F)));F=Ee(F)}else return null},null,null)}(wu.ba(m))}();return zf(q)?iO.aa(m,qO(f)):v.aa(hO,q)}():iO.aa(R.ca(m,wu,pf),qO(f));return ji.ka(k,yw,EO,c)}
function MO(a,b){if(Cf(b)){var c=cO(J(b))?lf(b):J(b);if(c instanceof A){if(dO(c)||Of(new rk(null,new p(null,6,[jw,null,jy,null,Sq,null,xp,null,Cr,null,sq,null],null),null),c))return!1;if(Of(xw.ba(a),c))return!0;throw gm(["Unknown rule '",hl.ea(P([c]))," in ",hl.ea(P([b]))].join(""),new p(null,2,[Fp,Tr,yt,b],null));}}return!1}var NO=Dh(0);
function OO(a,b){var c=E(a),d=J(c),e=K(c),f=Fh.aa(NO,Ne),h=B.aa(xw.ba(b),d);return function n(m){return new Kg(null,function(){for(;;){var q=E(m);if(q){var u=q;if(Hf(u)){var w=ae(u),z=M(w),F=Og(z);return function(){for(var ua=0;;)if(ua<z){var Ba=x(w,ua),Ya=Ba,bc=E(Ya),yb=J(bc),fc=K(bc),Yb=yb,Vd=E(Yb),dg=J(Vd),Df=K(Vd),Wg=dg,$c=Df,Ed=fc,ye=xk($c,e);Rg(F,HC(function(eg,Fd,ze,Gd,uq,br,Jo,cr,yj,Ko,nz,dr,Lo,oz,er,fr,zj,gr,hr,Mo,su,qm,Aj,Rk,tu,rm){return function(fh){if(dO(fh)){var pz=Lo.ba?Lo.ba(fh):Lo.call(null,
fh);return null==pz?xe.ba([Jg(fh),"__auto__",t.ba(rm)].join("")):pz}return fh}}(ua,Ya,bc,yb,fc,Yb,Vd,dg,Df,Wg,$c,Ed,ye,Ba,w,z,F,u,q,a,c,d,e,d,e,f,h),Ed));ua+=1}else return!0}()?Qg(Sg(F),n(be(u))):Qg(Sg(F),null)}var H=J(u),G=H,N=E(G),O=J(N),U=K(N),ea=O,va=E(ea),xa=J(va),ya=K(va),Ta=xa,ka=ya,pa=U,Ca=xk(ka,e);return gf(HC(function(ua,Ba,Ya,bc,yb,fc,Yb,Vd,dg,Df,Wg,$c,Ed,ye,eg,Fd,ze,Gd,uq,br,Jo,cr){return function(yj){if(dO(yj)){var Ko=$c.ba?$c.ba(yj):$c.call(null,yj);return null==Ko?xe.ba([Jg(yj),"__auto__",
t.ba(cr)].join("")):Ko}return yj}}(G,N,O,U,ea,va,xa,ya,Ta,ka,pa,Ca,H,u,q,a,c,d,e,d,e,f,h),pa),n(Ee(u)))}return null}},null,null)}(h)}function PO(a,b){a=ai(function(c){var d=Q(c,0,null);c=Q(c,1,null);return D.aa(d,c)},Mh.ca(Ii,a,b));return new X(null,2,5,Z,[Mh.aa(J,a),Mh.aa(lf,a)],null)}
function QO(a,b){a=E(a);var c=J(a),d=K(a);return function h(f){return new Kg(null,function(){for(;;){var k=E(f);if(k){if(Hf(k)){var m=ae(k),n=M(m),q=Og(n);a:for(var u=0;;)if(u<n){var w=x(m,u),z=PO(d,w);w=Q(z,0,null);z=Q(z,1,null);w=new X(null,1,5,Z,[V.ea(new X(null,1,5,Z,[by],null),w,P([z]))],null);q.add(w);u+=1}else{m=!0;break a}return m?Qg(Sg(q),h(be(k))):Qg(Sg(q),null)}q=J(k);m=PO(d,q);q=Q(m,0,null);m=Q(m,1,null);return gf(new X(null,1,5,Z,[V.ea(new X(null,1,5,Z,[by],null),q,P([m]))],null),h(Ee(k)))}return null}},
null,null)}(B.aa(b,c))}function RO(a){var b=Dh(pf);HC(function(c){r(dO.ba?dO.ba(c):dO.call(null,c))&&Fh.ca(b,of,c);return c},a);return y(b)}function SO(a,b){function c(e){e=Q(e,0,null);e=E(e);J(e);e=K(e);return sh(d,e)}var d=uk(RO(a));return new X(null,2,5,Z,[$h(c,b),ai(c,b)],null)}
function TO(a,b){function c(fc){return th(function(Yb){return zf(wu.ba(Yb))},yw.ba(fc))}function d(fc,Yb){return v.ca(UO,fc,Yb)}for(var e=$h(dO,b),f=xk(e,Gk.ja()),h=new qf(null,new p(null,5,[So,pf,BA,a,lz,new X(null,1,5,Z,[b],null),uy,W,dz,W],null),null,1,null),k=new ZN(f,pf,null,null,null);;){var m=J(h);if(null==m)return k;var n=m,q=Ik(function(){return function(fc){return!MO(a,fc)}}(h,k,n,m,e,f,d,c),lz.ba(n)),u=Q(q,0,null),w=Q(q,1,null),z=E(w),F=J(z),H=K(z),G=F,N=H;if(null==G){b=d(BA.ba(n),u);b=
VO?VO(b,e):WO.call(null,b,e);var O=new ZN(f,b,null,null,null);b=K(h);O=hO(k,O);h=b;k=O}else{var U=G,ea=E(U),va=J(ea),xa=K(ea),ya=va,Ta=xa,ka=QO(G,uy.ba(n)),pa=SO(V.aa(So.ba(n),u),V.aa(ka,dz.ba(n))),Ca=Q(pa,0,null),ua=Q(pa,1,null);if(r(th(function(){return function(fc){return D.aa(fc,new X(null,1,5,Z,[Dg(by)],null))}}(h,k,U,ea,va,xa,ya,Ta,ka,pa,Ca,ua,q,u,w,z,F,H,G,N,n,m,e,f,d,c),Ca)))b=K(h),O=k,h=b,k=O;else{var Ba=V.aa(u,Ca),Ya=d(BA.ba(n),Ba);if(r(c(Ya)))b=K(h),O=k,h=b,k=O;else{var bc=R.ca(uy.ba(n),
ya,of.aa(B.ca(uy.ba(n),ya,pf),Ta)),yb=OO(G,a);b=V.aa(function(){return function(fc,Yb,Vd,dg,Df,Wg,$c,Ed,ye,eg,Fd,ze,Gd,uq,br,Jo,cr,yj,Ko,nz,dr,Lo,oz,er,fr,zj,gr,hr,Mo,su){return function Rk(Aj){return new Kg(null,function(tu,rm,fh,pz,SH,TH,aY,bY,cY,dY,eY,fY,gY,hY,iY,UH,jY,kY,lY,mY,nY,oY,pY,VH){return function(){for(;;){var No=E(Aj);if(No){if(Hf(No)){var vu=ae(No),WH=M(vu),jr=Og(WH);a:for(var qz=0;;)if(qz<WH){var rz=x(vu,qz);rz=new p(null,5,[So,SH,BA,TH,lz,bi.ca(pf,Al,P([rz,VH])),uy,fh,dz,UH],null);
jr.add(rz);qz+=1}else{vu=!0;break a}return vu?Qg(Sg(jr),Rk(be(No))):Qg(Sg(jr),null)}jr=J(No);return gf(new p(null,5,[So,SH,BA,TH,lz,bi.ca(pf,Al,P([jr,VH])),uy,fh,dz,UH],null),Rk(Ee(No)))}return null}}}(fc,Yb,Vd,dg,Df,Wg,$c,Ed,ye,eg,Fd,ze,Gd,uq,br,Jo,cr,yj,Ko,nz,dr,Lo,oz,er,fr,zj,gr,hr,Mo,su),null,null)}}(h,k,bc,yb,Ba,Ya,U,ea,va,xa,ya,Ta,ka,pa,Ca,ua,q,u,w,z,F,H,G,N,n,m,e,f,d,c)(yb)}(),K(h));O=k;h=b;k=O}}}}}
function XO(a,b){if(null!=a?l===a.Pg||(a.Ed?0:Bc(nK,a)):Bc(nK,a)){var c=Q(b,0,null),d=Q(b,1,null),e=Q(b,2,null),f=Q(b,3,null);return Ni(new X(null,4,5,Z,[r(function(){var h=fO(c);return r(h)?h:eO(c)}())?KK(a,c):c,d,r(function(){if(r(e)){if(eO(d)&&JK(a,d)){var h=fO(e);return r(h)?h:eO(e)}return!1}return e}())?KK(a,e):e,r(fO(f))?KK(a,f):f],null),0,M(b))}return b}
function YO(a,b){var c=Q(b,0,null),d=Q(b,1,null),e=Q(b,2,null);b=Q(b,3,null);c=dO(c)?of.aa(tk,c):tk;c=dO(b)?of.aa(c,b):c;return dO(e)&&!dO(d)&&JK(a,d)?of.aa(c,e):c}function ZO(a,b){return R.ca(a,yw,Bh(function(c){var d=nh(ok(Zt.ba(c),b));return null==d?null:R.ca(c,Zt,d)},yw.ba(a)))}function $O(a){return bi.aa(tk,Yh(function(b){return dj(Zt.ba(b))},P([yw.ba(a)])))}
function aP(a,b,c){if(LI(b,a))return null;a=JI.aa(uk(b),a);throw gm(["Insufficient bindings: ",hl.ea(P([a]))," not bound in ",hl.ea(P([c]))].join(""),new p(null,3,[Fp,Tr,yt,c,rs,a],null));}function bP(a,b,c){b=ci.aa(function(d){return JI.aa(uk(RO(d)),a)},b);if(r(hh(D,b)))return null;throw gm(["All clauses in 'or' must use same set of free vars, had ",hl.ea(P([b]))," in ",hl.ea(P([c]))].join(""),new p(null,3,[Fp,Tr,yt,c,rs,b],null));}
function cP(a,b,c){for(var d=uk(ai(a,b)),e=E(c),f=null,h=0,k=0;;)if(k<h){c=f.La(null,k);var m=nh(JI.aa(d,uk(RO(c))));if(null!=m)throw e=m,ll(P([c,a,b,d])),gm(["All clauses in 'or' must use same set of free vars, had ",hl.ea(P([e]))," not bound in ",hl.ea(P([c]))].join(""),new p(null,3,[Fp,Tr,yt,c,rs,e],null));k+=1}else if(c=E(e)){e=c;if(Hf(e))f=ae(e),e=be(e),c=f,h=M(f),f=c;else{c=J(e);f=nh(JI.aa(d,uk(RO(c))));if(null!=f)throw e=f,ll(P([c,a,b,d])),gm(["All clauses in 'or' must use same set of free vars, had ",
hl.ea(P([e]))," not bound in ",hl.ea(P([c]))].join(""),new p(null,3,[Fp,Tr,yt,c,rs,e],null));e=K(e);f=null;h=0}k=0}else return null}var UO=function UO(a){switch(arguments.length){case 2:return UO.aa(arguments[0],arguments[1]);case 3:return UO.ca(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.ba(arguments.length)].join(""));}};UO.aa=function(a,b){return UO.ca(a,b,b)};
UO.ca=function(a,b,c){for(;;){var d=bO,e=b;if(r(function(){var O=new X(null,1,5,Z,[new X(null,2,5,Z,[ue,Yx],null)],null),U=e;return d.aa?d.aa(O,U):d.call(null,O,U)}()))return aP($O(a),$h(dO,K(J(b))),b),KO(a,b);if(r(function(){var O=new X(null,2,5,Z,[new X(null,2,5,Z,[ue,Yx],null),sq],null),U=e;return d.aa?d.aa(O,U):d.call(null,O,U)}()))return aP($O(a),$h(dO,K(J(b))),b),LO(a,b);if(r(function(){var O=new X(null,2,5,Z,[cO,Yx],null),U=e;return d.aa?d.aa(O,U):d.call(null,O,U)}())){var f=E(b);c=J(f);f=
K(f);var h=vO;vO=B.aa(xx.ba(a),c);try{return UO.ca(a,f,b)}finally{vO=h}}else{if(r(function(){var O=new X(null,2,5,Z,[Cr,Yx],null),U=e;return d.aa?d.aa(O,U):d.call(null,O,U)}())){var k=b,m=E(k),n=J(m),q=K(m);f=n;h=q;var u=bP($O(a),h,b),w=Mh.aa(function(O){return function(U){return dP.aa?dP.aa(O,U):dP.call(null,O,U)}}(a,b,c,k,m,n,q,f,h,u,d,e),h);b=Mh.aa(function(){return function(O){return v.aa(zO,yw.ba(O))}}(a,b,c,k,m,n,q,f,h,u,w,d,e),w);return R.ca(J(w),yw,new X(null,1,5,Z,[v.aa(hO,b)],null))}if(r(function(){var O=
new X(null,3,5,Z,[xp,new X(null,2,5,Z,[new X(null,1,5,Z,[Yx],null),Yx],null),Yx],null),U=e;return d.aa?d.aa(O,U):d.call(null,O,U)}())){h=E(b);f=J(h);h=K(h);k=J(h);f=K(h);k=E(k);h=J(k);k=K(k);u=h;h=f;f=$O(a);aP(f,u,c);cP(f,k,h);c=Vg(xp,V.aa(u,k),h);f=b;b=c;c=f;continue}else{if(r(function(){var O=new X(null,3,5,Z,[xp,new X(null,1,5,Z,[Yx],null),Yx],null),U=e;return d.aa?d.aa(O,U):d.call(null,O,U)}())){n=b;q=E(n);var z=J(q),F=K(q);f=z;var H=J(F),G=K(F);k=H;h=G;var N=uk(k);u=cP($O(a),N,h);m=ZO(a,N);w=
Mh.aa(function(O,U,ea,va,xa,ya,Ta,ka,pa,Ca,ua,Ba,Ya,bc,yb){return function(fc){return ZO(dP.aa?dP.aa(yb,fc):dP.call(null,yb,fc),Ya)}}(a,b,c,n,q,z,F,f,H,G,k,h,N,u,m,d,e),h);b=Mh.aa(function(){return function(O){return v.aa(zO,yw.ba(O))}}(a,b,c,n,q,z,F,f,H,G,k,h,N,u,m,w,d,e),w);b=v.aa(hO,b);return ji.ka(a,yw,EO,b)}if(r(function(){var O=new X(null,2,5,Z,[jw,Yx],null),U=e;return d.aa?d.aa(O,U):d.call(null,O,U)}()))return c=E(b),b=J(c),c=K(c),f=b,b=c,v.ca(dP,a,b);if(r(function(){var O=new X(null,2,5,Z,
[jy,Yx],null),U=e;return d.aa?d.aa(O,U):d.call(null,O,U)}())){f=E(b);b=J(f);h=K(f);f=b;b=h;f=$O(a);h=uk(RO(b));if(zf(II.aa(f,h)))throw gm(["Insufficient bindings: none of ",hl.ea(P([h]))," is bound in ",hl.ea(P([c]))].join(""),new p(null,2,[Fp,Tr,yt,c],null));u=null;a=R.ca(a,yw,new X(null,1,5,Z,[v.aa(zO,yw.ba(a))],null));b=v.ca(dP,a,b);b=AO(J(yw.ba(a)),v.aa(zO,yw.ba(b)));return R.ca(a,yw,new X(null,1,5,Z,[b],null))}if(r(function(){var O=new X(null,3,5,Z,[Sq,new X(null,1,5,Z,[Yx],null),Yx],null),U=
e;return d.aa?d.aa(O,U):d.call(null,O,U)}()))return b=E(b),f=J(b),b=K(b),f=J(b),b=K(b),k=f,f=$O(a),u=aP(f,k,c),a=R.ca(a,yw,new X(null,1,5,Z,[v.aa(zO,yw.ba(a))],null)),m=ZO(a,k),b=ZO(v.ca(dP,m,b),k),b=AO(J(yw.ba(a)),v.aa(zO,yw.ba(b))),R.ca(a,yw,new X(null,1,5,Z,[b],null));if(r(function(){var O=new X(null,1,5,Z,[Yx],null),U=e;return d.aa?d.aa(O,U):d.call(null,O,U)}())){c=vO;b=XO(c,b);f=DO(c,b);h=uO;uO=(null!=c?l===c.Pg||(c.Ed?0:Bc(nK,c)):Bc(nK,c))?YO(c,b):uO;try{return ji.ka(a,yw,EO,f)}finally{uO=h}}else throw Error(["No matching clause: ",
t.ba(e)].join(""));}}break}};UO.ma=3;var dP=function dP(a,b){if(MO(a,b))if(cO(J(b))){var d=vO;vO=B.aa(xx.ba(a),J(b));try{var e=K(b);return dP.aa?dP.aa(a,e):dP.call(null,a,e)}finally{vO=d}}else return ji.ka(a,yw,EO,TO(a,b));else return UO.aa(a,b)};function eP(a,b){var c=vO;vO=B.aa(xx.ba(a),Rp);try{return v.ca(dP,a,b)}finally{vO=c}}
function WO(a){switch(arguments.length){case 2:return VO(arguments[0],arguments[1]);case 3:return fP(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.ba(arguments.length)].join(""));}}function VO(a,b){a=yw.ba(a);return fP(new X(null,1,5,Z,[Array(M(b))],null),a,b)}
function fP(a,b,c){for(;;){var d=J(b);if(null==d)return a;var e=d,f=ok(Zt.ba(e),c);if(zf(f)){var h=a,k=K(b),m=c;a=h;b=k;c=m}else{var n=Vf(Mh.aa(function(u,w,z,F){return function(H){return B.aa(F,H)}}(a,b,c,f,e,d),c)),q=M(c);h=function(){return function(u,w,z,F,H,G,N,O){return function va(ea){return new Kg(null,function(xa,ya,Ta,ka,pa,Ca,ua,Ba){return function(){for(var Ya=ea;;){var bc=E(Ya);if(bc){var yb=bc,fc=J(yb);if(bc=E(function(Yb,Vd,dg,Df,Wg,$c,Ed,ye,eg,Fd,ze,Gd){return function Jo(br){return new Kg(null,
function(cr,yj,Ko,nz,dr,Lo,oz,er,fr){return function(){for(;;){var zj=E(br);if(zj){if(Hf(zj)){var gr=ae(zj),hr=M(gr),Mo=Og(hr);return function(){for(var qm=0;;)if(qm<hr){for(var Aj=x(gr,qm),Rk=Mo,tu=Ic(dr),rm=0;;)if(rm<fr){var fh=er[rm];null!=fh&&(tu[rm]=Aj[fh]);rm+=1}else break;Rk.add(tu);qm+=1}else return!0}()?Qg(Sg(Mo),Jo(be(zj))):Qg(Sg(Mo),null)}var su=J(zj);return gf(function(){for(var qm=Ic(dr),Aj=0;;)if(Aj<fr){var Rk=er[Aj];null!=Rk&&(qm[Aj]=su[Rk]);Aj+=1}else break;return qm}(),Jo(Ee(zj)))}return null}}}(Yb,
Vd,dg,Df,Wg,$c,Ed,ye,eg,Fd,ze,Gd),null,null)}}(Ya,xa,ya,Ta,fc,yb,bc,ka,pa,Ca,ua,Ba)(wu.ba(ua))))return V.aa(bc,va(Ee(Ya)));Ya=Ee(Ya)}else return null}}}(u,w,z,F,H,G,N,O),null,null)}}(a,b,c,n,q,f,e,d)(a)}();k=K(b);m=c;a=h;b=k;c=m}}}function gP(a,b){return uk(Mh.aa(Zf,VO(a,b)))}
function hP(a,b){if(null!=a&&null!=a.Ce)a=a.Ce(a,b);else{var c=hP[oa(null==a?null:a)];if(null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else if(c=hP._,null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else throw Dc("IContextResolve.-context-resolve",a);}return a}JM.prototype.Ce=function(a,b){return GO(b,this.symbol)};LM.prototype.Ce=function(a,b){return fi(b,new X(null,2,5,Z,[xx,this.symbol],null))};PM.prototype.Ce=function(){var a=B.aa(oO,this.symbol);return r(a)?a:null};OM.prototype.Ce=function(){return this.value};
function iP(a,b,c){return ci.ka(function(d,e,f){if(qN(d)){e=hP(IA.ba(d),b);d=Mh.aa(function(k){return hP(k,b)},wk(JA.ba(d)));var h=Mh.aa(function(k){return af(k,f)},c);return hh(e,V.aa(d,new X(null,1,5,Z,[h],null)))}return e},a,J(c),Gk.ja())}function jP(a){var b=vh(qN);return ai(wc,Mh.ca(function(c,d){return r(b.ba?b.ba(c):b.call(null,c))?d:null},a,Gk.ja()))}
function kP(a,b,c){var d=jP(a);return function h(f){return new Kg(null,function(){for(;;){var k=E(f);if(k){if(Hf(k)){var m=ae(k),n=M(m),q=Og(n);a:for(var u=0;;)if(u<n){var w=x(m,u);Q(w,0,null);w=Q(w,1,null);w=iP(a,b,w);q.add(w);u+=1}else{m=!0;break a}return m?Qg(Sg(q),h(be(k))):Qg(Sg(q),null)}q=J(k);Q(q,0,null);q=Q(q,1,null);return gf(iP(a,b,q),h(Ee(k)))}return null}},null,null)}(Nl(function(f){return Mh.aa(function(h){return af(f,h)},d)},c))}
function lP(a,b){return v.ca(function(c,d){return of.aa(c,a.ba?a.ba(d):a.call(null,d))},rf(b),b)}function mP(a,b){var c=wy.ba(a),d=Gk.aa(0,M(c));return lP(function(e){return v.ca(function(f,h){return R.ca(f,af(c,h),af(e,h))},W,d)},b)}function nP(a,b,c){if(null!=a&&null!=a.De)a=a.De(a,b,c);else{var d=nP[oa(null==a?null:a)];if(null!=d)a=d.ca?d.ca(a,b,c):d.call(null,a,b,c);else if(d=nP._,null!=d)a=d.ca?d.ca(a,b,c):d.call(null,a,b,c);else throw Dc("IPostProcess.-post-process",a);}return a}
mN.prototype.De=function(a,b,c){return null==b?c:mP(b,c)};nN.prototype.De=function(a,b,c){return bi.ca(pf,Mh.ba(J),c)};oN.prototype.De=function(a,b,c){return mf(c)};pN.prototype.De=function(a,b,c){return null!=b?J(mP(b,new X(null,1,5,Z,[J(c)],null))):J(c)};
function oP(a,b,c){var d=function(){return function h(f){return new Kg(null,function(){for(;;){var k=E(f);if(k){if(Hf(k)){var m=ae(k),n=M(m),q=Og(n);a:for(var u=0;;)if(u<n){var w=x(m,u);w=rN(w)?new X(null,2,5,Z,[hP(ln.ba(w),b),KL(hP(PA.ba(w),b))],null):null;q.add(w);u+=1}else{m=!0;break a}return m?Qg(Sg(q),h(be(k))):Qg(Sg(q),null)}q=J(k);return gf(rN(q)?new X(null,2,5,Z,[hP(ln.ba(q),b),KL(hP(PA.ba(q),b))],null):null,h(Ee(k)))}return null}},null,null)}(a)}();return function h(f){return new Kg(null,
function(){for(;;){var k=E(f);if(k){var m=k;if(Hf(m)){var n=ae(m),q=M(n),u=Og(q);return function(){for(var z=0;;)if(z<q){var F=x(n,z);Rg(u,ci.ca(function(){return function(H,G){if(r(H)){var N=Q(H,0,null);H=Q(H,1,null);return fM(N,H,new X(null,1,5,Z,[G],null))}return G}}(z,F,n,q,u,m,k,d),d,F));z+=1}else return!0}()?Qg(Sg(u),h(be(m))):Qg(Sg(u),null)}var w=J(m);return gf(ci.ca(function(){return function(z,F){if(r(z)){var H=Q(z,0,null);z=Q(z,1,null);return fM(H,z,new X(null,1,5,Z,[F],null))}return F}}(w,
m,k,d),d,w),h(Ee(m)))}return null}},null,null)}(c)}var pP=Ih(iM(W,function(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new I(b.slice(0),0,null):null;a:for(b=E(b),d=hk;;)if(b)c=K(K(b)),d=R.ca(d,J(b),lf(b)),b=c;else break a;return d}(),W,0,100));function qP(a){var b=B.ca(y(pP),a,null);return null==b?(b=XN(a),pP.Rc(null,R.ca(pP.tb(null),a,b)),b):b}
function PE(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new I(b.slice(1),0,null):null;return rP(arguments[0],b)}function rP(a,b){var c=qP(a),d=Oq.ba(c),e=lN(d),f=Yh(iN,P([lN(d)])),h=M(e),k=NA.ba(c);f=V.aa(f,Mh.aa(nx,k));a=Cf(a)?UN(a):a;k=sp.ba(a);b=tO(new YN(pf,W,W,null,null,null),Qy.ba(c),b);f=gP(eP(b,k),f);f=r(HB.ba(a))?ci.aa(function(m){return Zf(Ni(m,0,h))},f):f;f=r(th(qN,e))?kP(e,b,f):f;e=r(th(rN,e))?oP(e,b,f):f;return nP(d,Sw.ba(c),e)};function sP(a,b){var c=Dh(null);Fh.aa(a,function(d){var e=gL;d=new p(null,5,[lo,d,Pu,d,js,pf,DC,W,Ro,null],null);var f=S.ea(d,lo,P([Pu,js,DC,Ro]));f=Ff(d)?bi.aa(W,f):f;d=new LK(lo.ba(d),Pu.ba(d),js.ba(d),DC.ba(d),Ro.ba(d),null,nh(f),null);e=e(d,b);Eh(c,e);return Pu.ba(e)});return y(c)}
function tP(a){var b=OE;a=sP(b,a);b=xu.ba(xf(b));b=null==b?null:y(b);b=E(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.La(null,e);Q(f,0,null);f=Q(f,1,null);f.ba?f.ba(a):f.call(null,a);e+=1}else if(b=E(b))Hf(b)?(d=ae(b),b=be(b),c=d,d=M(d)):(c=J(b),Q(c,0,null),c=Q(c,1,null),c.ba?c.ba(a):c.call(null,a),b=K(b),c=null,d=0),e=0;else break;return a}function uP(a){var b=OE,c=Ll.ja();Fh.ka(xu.ba(xf(b)),R,c,a)}
for(var vP=E(new p(null,2,[tt,function(a){return hh(FJ,a)},Wv,function(a){var b=null!=a&&(a.ha&64||l===a.Ea)?hh(ik,a):a;a=B.aa(b,is);b=B.aa(b,Xq);return FK(Mh.aa(function(c){var d=Q(c,0,null),e=Q(c,1,null),f=Q(c,2,null);c=Q(c,3,null);return FJ.ka(d,e,f,c)},b),a)}],null)),wP=null,xP=0,yP=0;;)if(yP<xP){var zP=wP.La(null,yP),AP=Q(zP,0,null),BP=Q(zP,1,null),HG=AP,IG=BP;B.aa(y(FI),HG);Fh.ka(FI,R,HG,IG);yP+=1}else{var EP=E(vP);if(EP){var FP=EP;if(Hf(FP)){var GP=ae(FP),HP=be(FP),IP=GP,JP=M(GP);vP=HP;wP=
IP;xP=JP}else{var KP=J(FP),LP=Q(KP,0,null),MP=Q(KP,1,null),CP=LP,DP=MP;B.aa(y(FI),CP);Fh.ka(FI,R,CP,DP);vP=K(FP);wP=null;xP=0}yP=0}else break};var OE,JG=new p(null,3,[lC,new p(null,1,[Gm,Ez],null),gy,new p(null,2,[jB,aA,zu,Hy],null),aq,new p(null,2,[jB,aA,zu,EB],null)],null),XG=vK?vK(JG):wK.call(null,JG),YG=P([sc,new p(null,1,[xu,Dh(W)],null)]),ZG=null!=YG&&(YG.ha&64||l===YG.Ea)?hh(ik,YG):YG,$G=B.aa(ZG,sc),aH=B.aa(ZG,Et);OE=new Ch(XG,$G,aH);function VP(a){return tP(new X(null,1,5,Z,[new X(null,2,5,Z,[bq,a],null)],null))};pD(lC,Io,function(a){return"string"==typeof a});pD(ct,new rk(null,new p(null,7,[Xp,"null",Kp,"null",oq,"null",Rv,"null",nv,"null",zo,"null",Vq,"null"],null),null),new rk(null,new p(null,7,[Xp,null,Kp,null,oq,null,Rv,null,nv,null,zo,null,Vq,null],null),null));
pD($q,Dg(bw,Bx,new X(null,2,5,Z,[lC,ct],null)),function WP(a){var c=null!=a&&(a.ha&64||l===a.Ea)?hh(ik,a):a,d=B.aa(c,aC),e=B.aa(c,Rs),f=B.aa(c,Vo),h=B.aa(c,ov),k=B.aa(c,zw),m=B.aa(c,Qv),n=B.aa(c,XA),q=B.aa(c,Kx),u=B.aa(c,Bx),w=B.aa(c,BB),z=B.aa(c,uw),F=B.aa(c,Zu),H=xk(V.aa(w,n),V.aa(q,z)),G=em();if("undefined"===typeof gc||"undefined"===typeof IC||"undefined"===typeof TC||"undefined"===typeof UC)UC=function(N,O,U,ea,va,xa,ya,Ta,ka,pa,Ca,ua,Ba,Ya,bc,yb,fc,Yb,Vd){this.lf=N;this.Di=O;this.Si=U;this.Gi=
ea;this.di=va;this.Qd=xa;this.Ji=ya;this.mf=Ta;this.yg=ka;this.Ei=pa;this.Ri=Ca;this.Hi=ua;this.req=Ba;this.id=Ya;this.Qi=bc;this.Fi=yb;this.Zh=fc;this.Ki=Yb;this.ji=Vd;this.ha=393216;this.na=0},UC.prototype.ta=function(N,O){return new UC(this.lf,this.Di,this.Si,this.Gi,this.di,this.Qd,this.Ji,this.mf,this.yg,this.Ei,this.Ri,this.Hi,this.req,this.id,this.Qi,this.Fi,this.Zh,this.Ki,O)},UC.prototype.sa=function(){return this.ji},UC.prototype.Fd=function(){return this},UC.prototype.Gd=function(){return this},
UC.prototype.bf=l,UC.prototype.we=function(N,O){if(r(this.mf.ba?this.mf.ba(O):this.mf.call(null,O))){N=y($C);var U=E(O),ea=J(U);K(U);Q(ea,0,null);Q(ea,1,null);for(ea=U=O;;){O=U;var va=ea;ea=E(va);U=J(ea);var xa=K(ea);ea=U;U=Q(ea,0,null);ea=Q(ea,1,null);if(r(va))if(va=this.lf.ba?this.lf.ba(U):this.lf.call(null,U),va=B.aa(N,va),r(va)){var ya=ea;va=YC(nD.ba(va),ya);if(T(Nt,va))return Nt;O=va===ea?O:R.ca(O,U,va);ea=xa;U=O}else ea=xa,U=O;else return O}}else return Nt},UC.prototype.xe=function(N,O){N=R.ca(this.yg,
ov,O);return WP.ba?WP.ba(N):WP.call(null,N)},UC.Fb=!0,UC.yb="cljs.spec.alpha/t_cljs$spec$alpha21905",UC.Ib=function(N){return Kd(N,"cljs.spec.alpha/t_cljs$spec$alpha21905")};return new UC(function(N){var O=H.ba?H.ba(N):H.call(null,N);return r(O)?O:N},d,e,f,c,h,k,m,c,n,q,a,u,G,w,z,H,F,W)}(Pj([Rs,Vo,ov,zw,Qv,XA,Kx,Bx,BB,uw,Zu,aC],[null,null,null,new X(null,3,5,Z,[function(a){return Ef(a)},function(a){return Of(a,lC)},function(a){return Of(a,ct)}],null),function(a){return Ef(a)&&Of(a,lC)&&Of(a,ct)},
pf,new X(null,2,5,Z,[lC,ct],null),new X(null,2,5,Z,[lC,ct],null),new X(null,2,5,Z,[lC,ct],null),pf,new X(null,3,5,Z,[Dg(rn,new X(null,1,5,Z,[xt],null),Dg(Yr,xt)),Dg(rn,new X(null,1,5,Z,[xt],null),Dg(px,xt,lC)),Dg(rn,new X(null,1,5,Z,[xt],null),Dg(px,xt,ct))],null),null])));pD(Nv,Dg(nr,$q),uD($q,$q,new p(null,4,[In,null,ns,function(a){return Af(a)},yC,!0,Nz,Dg(nr,$q)],null),null));var XP={},YP,ZP,$P,aQ={};function bQ(a,b){if(null!=a&&null!=a.Qf)a=a.Qf(a,b);else{var c=bQ[oa(null==a?null:a)];if(null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else if(c=bQ._,null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else throw Dc("ReadPort.take!",a);}return a}
function cQ(a,b,c){if(null!=a&&null!=a.af)a=a.af(a,b,c);else{var d=cQ[oa(null==a?null:a)];if(null!=d)a=d.ca?d.ca(a,b,c):d.call(null,a,b,c);else if(d=cQ._,null!=d)a=d.ca?d.ca(a,b,c):d.call(null,a,b,c);else throw Dc("WritePort.put!",a);}return a}function dQ(a){if(null!=a&&null!=a.ue)a=a.ue(a);else{var b=dQ[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=dQ._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("Channel.close!",a);}return a}
function eQ(a){if(null!=a&&null!=a.nc)a=a.nc(a);else{var b=eQ[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=eQ._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("Handler.active?",a);}return a}function fQ(a){if(null!=a&&null!=a.ec)a=a.ec(a);else{var b=fQ[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=fQ._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("Handler.commit",a);}return a}
function gQ(a,b){if(null!=a&&null!=a.Pf)a=a.Pf(a,b);else{var c=gQ[oa(null==a?null:a)];if(null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else if(c=gQ._,null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else throw Dc("Buffer.add!*",a);}return a}var hQ=function hQ(a){switch(arguments.length){case 1:return hQ.ba(arguments[0]);case 2:return hQ.aa(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.ba(arguments.length)].join(""));}};hQ.ba=function(a){return a};hQ.aa=function(a,b){return gQ(a,b)};
hQ.ma=2;function iQ(a,b,c,d,e){for(var f=0;;)if(f<e)c[d+f]=a[b+f],f+=1;else break}function jQ(a){this.length=this.tail=this.head=0;this.ia=a}g=jQ.prototype;g.pop=function(){if(0===this.length)return null;var a=this.ia[this.tail];this.ia[this.tail]=null;this.tail=(this.tail+1)%this.ia.length;--this.length;return a};g.unshift=function(a){this.ia[this.head]=a;this.head=(this.head+1)%this.ia.length;this.length+=1;return null};g.unbounded_unshift=function(a){this.length+1===this.ia.length&&this.resize();return this.unshift(a)};
g.resize=function(){var a=Array(2*this.ia.length);return this.tail<this.head?(iQ(this.ia,this.tail,a,0,this.length),this.tail=0,this.head=this.length,this.ia=a):this.tail>this.head?(iQ(this.ia,this.tail,a,0,this.ia.length-this.tail),iQ(this.ia,0,a,this.ia.length-this.tail,this.head),this.tail=0,this.head=this.length,this.ia=a):this.tail===this.head?(this.head=this.tail=0,this.ia=a):null};
g.cleanup=function(a){for(var b=this.length,c=0;;)if(c<b){var d=this.pop();(a.ba?a.ba(d):a.call(null,d))&&this.unshift(d);c+=1}else return null};function kQ(a){return new jQ(Array(a))}function lQ(a,b){this.buf=a;this.n=b;this.ha=2;this.na=0}lQ.prototype.$e=function(){return this.buf.length>=this.n};lQ.prototype.Pf=function(a,b){this.buf.unbounded_unshift(b);return this};lQ.prototype.xa=function(){return this.buf.length};function mQ(a,b){this.buf=a;this.n=b;this.ha=2;this.na=0}mQ.prototype.$e=function(){return!1};
mQ.prototype.Pf=function(a,b){this.buf.length===this.n&&this.buf.pop();this.buf.unshift(b);return this};mQ.prototype.xa=function(){return this.buf.length};function nQ(a){return new mQ(kQ(a),a)};function oQ(){return Gb("iPhone")&&!Gb("iPod")&&!Gb("iPad")};var pQ=Gb("Opera"),qQ=Gb("Trident")||Gb("MSIE"),rQ=Gb("Edge"),sQ=Gb("Gecko")&&!(zb("WebKit")&&!Gb("Edge"))&&!(Gb("Trident")||Gb("MSIE"))&&!Gb("Edge"),tQ=zb("WebKit")&&!Gb("Edge");tQ&&Gb("Mobile");Gb("Macintosh");Gb("Windows");Gb("Linux")||Gb("CrOS");var rH=ma.navigator||null;rH&&(rH.appVersion||"").indexOf("X11");Gb("Android");oQ();Gb("iPad");Gb("iPod");oQ()||Gb("iPad")||Gb("iPod");zb("KaiOS");zb("GAFP");function vQ(){var a=ma.document;return a?a.documentMode:void 0}var wQ;
a:{var sH="",tH=function(){var a=Ab;if(sQ)return/rv:([^\);]+)(\)|;)/.exec(a);if(rQ)return/Edge\/([\d\.]+)/.exec(a);if(qQ)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(tQ)return/WebKit\/(\S+)/.exec(a);if(pQ)return/(?:Version)[ \/]?(\S+)/.exec(a)}();tH&&(sH=tH?tH[1]:"");if(qQ){var uH=vQ();if(null!=uH&&uH>parseFloat(sH)){wQ=String(uH);break a}}wQ=sH}var La={};
function AQ(a){return Ka(a,function(){{var b=0;const e=xb(String(wQ)).split("."),f=xb(String(a)).split("."),h=Math.max(e.length,f.length);for(let k=0;0==b&&k<h;k++){var c=e[k]||"",d=f[k]||"";do{c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""];d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""];if(0==c[0].length&&0==d[0].length)break;b=Bb(0==c[1].length?0:parseInt(c[1],10),0==d[1].length?0:parseInt(d[1],10))||Bb(0==c[2].length,0==d[2].length)||Bb(c[2],d[2]);c=c[3];d=d[3]}while(0==b)}}return 0<=b})}var BQ;
BQ=ma.document&&qQ?vQ():void 0;try{(new self.OffscreenCanvas(0,0)).getContext("2d")}catch(a){}!sQ&&!qQ||qQ&&9<=Number(BQ)||sQ&&AQ("1.9.1");qQ&&AQ("9");function CQ(a){var b=document;a=String(a);"application/xhtml+xml"===b.contentType&&(a=a.toLowerCase());return b.createElement(a)};var DQ;
function EQ(){var a=ma.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!Gb("Presto")&&(a=function(){var e=CQ(eb);e.style.display="none";Lb(e);document.documentElement.appendChild(e);var f=e.contentWindow;e=f.document;e.open();e.write(Jb());e.close();var h="callImmediate"+Math.random(),k="file:"==f.location.protocol?"*":f.location.protocol+"//"+f.location.host;e=Fa(function(m){if(("*"==k||m.origin==k)&&m.data==h)this.port1.onmessage()},this);
f.addEventListener("message",e,!1);this.port1={};this.port2={postMessage:function(){f.postMessage(h,k)}}});if("undefined"!==typeof a&&!Gb("Trident")&&!Gb("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var e=c.ke;c.ke=null;e()}};return function(e){d.next={ke:e};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in CQ(fb)?function(e){var f=CQ(fb);f.onreadystatechange=function(){f.onreadystatechange=null;f.parentNode.removeChild(f);
f=null;e();e=null};document.documentElement.appendChild(f)}:function(e){ma.setTimeout(e,0)}};var FQ=kQ(32),GQ=!1,HQ=!1;function IQ(){GQ=!0;HQ=!1;for(var a=0;;){var b=FQ.pop();if(null!=b&&(b.ja?b.ja():b.call(null),1024>a)){a+=1;continue}break}GQ=!1;return 0<FQ.length?JQ.ja?JQ.ja():JQ.call(null):null}function JQ(){if(HQ&&GQ)return null;HQ=!0;!sa(ma.setImmediate)||ma.Window&&ma.Window.prototype&&!Gb("Edge")&&ma.Window.prototype.setImmediate==ma.setImmediate?(DQ||(DQ=EQ()),DQ(IQ)):ma.setImmediate(IQ)}function KQ(a){FQ.unbounded_unshift(a);JQ()}function LQ(a,b){setTimeout(a,b)};var MQ={},NQ;
function OQ(a){if("undefined"===typeof gc||"undefined"===typeof hc||"undefined"===typeof XP||"undefined"===typeof aQ||"undefined"===typeof MQ||"undefined"===typeof NQ)NQ=function(b,c){this.val=b;this.ti=c;this.ha=425984;this.na=0},NQ.prototype.ta=function(b,c){return new NQ(this.val,c)},NQ.prototype.sa=function(){return this.ti},NQ.prototype.tb=function(){return this.val},NQ.Fb=!0,NQ.yb="cljs.core.async.impl.channels/t_cljs$core$async$impl$channels25167",NQ.Ib=function(b){return Kd(b,"cljs.core.async.impl.channels/t_cljs$core$async$impl$channels25167")};
return new NQ(a,W)}function PQ(a,b){this.handler=a;this.val=b}function QQ(a){return eQ(a.handler)}function RQ(a,b,c,d){this.fe=a;this.hf=0;this.ud=b;this.gf=0;this.buf=c;this.closed=!1;this.Bc=d}function SQ(a){for(;;){var b=a.ud.pop();if(null!=b){var c=b.handler,d=b.val;if(c.nc(null)){var e=c.ec(null);KQ(function(f){return function(){return f.ba?f.ba(!0):f.call(null,!0)}}(e,c,d,b,a))}else continue}break}a.ud.cleanup(wh(!1));a.ue(null)}
RQ.prototype.af=function(a,b,c){var d=this,e=this,f=d.closed;if(f||!c.nc(null))return OQ(!f);if(r(function(){var u=d.buf;return r(u)?zc(d.buf.$e()):u}())){c.ec(null);var h=Qe(d.Bc.aa?d.Bc.aa(d.buf,b):d.Bc.call(null,d.buf,b));c=function(){for(var u=pf;;)if(0<d.fe.length&&0<M(d.buf)){var w=d.fe.pop();if(w.nc(null)){var z=w.ec(null),F=d.buf.buf.pop();u=of.aa(u,function(H,G,N){return function(){return G.ba?G.ba(N):G.call(null,N)}}(u,z,F,w,h,f,e))}}else return u}();h&&SQ(e);if(E(c)){c=E(c);a=null;for(var k=
0,m=0;;)if(m<k){var n=a.La(null,m);KQ(n);m+=1}else if(c=E(c))a=c,Hf(a)?(c=ae(a),m=be(a),a=c,k=M(c),c=m):(c=J(a),KQ(c),c=K(a),a=null,k=0),m=0;else break}return OQ(!0)}a=function(){for(;;){var u=d.fe.pop();if(r(u)){if(r(u.nc(null)))return u}else return null}}();if(r(a)){var q=a.ec(null);c.ec(null);KQ(function(){return q.ba?q.ba(b):q.call(null,b)});return OQ(!0)}64<d.gf?(d.gf=0,d.ud.cleanup(QQ)):d.gf+=1;r(c.ve())&&d.ud.unbounded_unshift(new PQ(c,b));return null};
RQ.prototype.Qf=function(a,b){var c=this;if(b.nc(null)){if(null!=c.buf&&0<M(c.buf)){a=b.ec(null);if(r(a)){var d=c.buf.buf.pop(),e=zc(c.buf.$e())&&0<c.ud.length?function(){for(var H=pf;;){var G=c.ud.pop(),N=G.handler;G=G.val;N=N.nc(null)?N.ec(null):!1;H=r(N)?of.aa(H,N):H;G=r(N)?Qe(c.Bc.aa?c.Bc.aa(c.buf,G):c.Bc.call(null,c.buf,G)):null;if(!(zc(G)&&zc(c.buf.$e())&&0<c.ud.length))return new X(null,2,5,Z,[G,H],null)}}():null,f=Q(e,0,null),h=Q(e,1,null);r(f)&&SQ(this);for(var k=E(h),m=null,n=0,q=0;;)if(q<
n){var u=m.La(null,q);KQ(function(H,G,N,O,U){return function(){return U.ba?U.ba(!0):U.call(null,!0)}}(k,m,n,q,u,d,e,f,h,a,a,this));q+=1}else{var w=E(k);if(w){u=w;if(Hf(u))k=ae(u),q=be(u),m=k,n=M(k),k=q;else{var z=J(u);KQ(function(H,G,N,O,U){return function(){return U.ba?U.ba(!0):U.call(null,!0)}}(k,m,n,q,z,u,w,d,e,f,h,a,a,this));k=K(u);m=null;n=0}q=0}else break}return OQ(d)}return null}a=function(){for(;;){var H=c.ud.pop();if(r(H)){if(eQ(H.handler))return H}else return null}}();if(r(a)){var F=fQ(a.handler);
b.ec(null);KQ(function(){return F.ba?F.ba(!0):F.call(null,!0)});return OQ(a.val)}if(r(c.closed))return r(c.buf)&&(c.Bc.ba?c.Bc.ba(c.buf):c.Bc.call(null,c.buf)),r(function(){var H=b.nc(null);return r(H)?b.ec(null):H}())?(a=function(){var H=c.buf;return r(H)?0<M(c.buf):H}(),d=r(a)?c.buf.buf.pop():null,OQ(d)):null;64<c.hf?(c.hf=0,c.fe.cleanup(eQ)):c.hf+=1;r(b.ve())&&c.fe.unbounded_unshift(b)}return null};
RQ.prototype.ue=function(){var a=this;if(!a.closed)for(a.closed=!0,r(function(){var e=a.buf;return r(e)?0===a.ud.length:e}())&&(a.Bc.ba?a.Bc.ba(a.buf):a.Bc.call(null,a.buf));;){var b=a.fe.pop();if(null!=b){if(b.nc(null)){var c=b.ec(null),d=r(function(){var e=a.buf;return r(e)?0<M(a.buf):e}())?a.buf.buf.pop():null;KQ(function(e,f){return function(){return e.ba?e.ba(f):e.call(null,f)}}(c,d,b,this))}}else break}return null};function TQ(a){console.log(a);return null}
function UQ(a,b){var c=r(null)?null:TQ;b=c.ba?c.ba(b):c.call(null,b);return null==b?a:hQ.aa(a,b)}
function VQ(a,b){return new RQ(kQ(32),kQ(32),a,function(){var c=r(b)?b.ba?b.ba(hQ):b.call(null,hQ):hQ;return function(){function d(h,k){try{return c.aa?c.aa(h,k):c.call(null,h,k)}catch(m){return UQ(h,m)}}function e(h){try{return c.ba?c.ba(h):c.call(null,h)}catch(k){return UQ(h,k)}}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return d.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.ba=e;f.aa=d;return f}()}())};function WQ(a,b,c){this.key=a;this.val=b;this.forward=c;this.ha=2155872256;this.na=0}WQ.prototype.va=function(){return new qf(null,this.key,new qf(null,this.val,null,1,null),2,null)};WQ.prototype.ua=function(a,b,c){return Tk(b,al,"["," ","]",c,this)};function XQ(a,b,c){c=Array(c+1);for(var d=0;;)if(d<c.length)c[d]=null,d+=1;else break;return new WQ(a,b,c)}
function YQ(a,b,c,d){for(;;){if(0>c)return a;a:for(;;){var e=c<a.forward.length?a.forward[c]:null;if(r(e))if(e.key<b)a=e;else break a;else break a}null!=d&&(d[c]=a);--c}}function ZQ(){this.header=XQ(null,null,0);this.level=0;this.ha=2155872256;this.na=0}g=ZQ.prototype;
g.put=function(a,b){var c=Array(15),d=YQ(this.header,a,this.level,c).forward[0];if(null!=d&&d.key===a)return d.val=b;a:for(d=0;;)if(.5>Math.random()&&15>d)d+=1;else break a;if(d>this.level){for(var e=this.level+1;;)if(e<=d+1)c[e]=this.header,e+=1;else break;this.level=d}a=XQ(a,b,Array(d));for(b=0;;)if(b<=this.level)d=c[b].forward,a.forward[b]=d[b],d[b]=a,b+=1;else return null};
g.remove=function(a){var b=Array(15),c=YQ(this.header,a,this.level,b);c=0===c.forward.length?null:c.forward[0];if(null!=c&&c.key===a){for(a=0;;)if(a<=this.level){var d=b[a].forward;c===(a<d.length?d[a]:null)&&(d[a]=c.forward[a]);a+=1}else break;for(;;)if(0<this.level&&this.level<this.header.forward.length&&null==this.header.forward[this.level])--this.level;else return null}else return null};
g.ceilingEntry=function(a){for(var b=this.header,c=this.level;;){if(0>c)return D.aa(b.key,a)?b:b.forward[0];var d;a:for(d=b;;){var e=c<d.forward.length?d.forward[c]:null;if(null!=e){if(e.key>a)break a;d=e}else{d=0===c?d:null;break a}}r(d)?(--c,b=d):--c}};g.floorEntry=function(a){for(var b=this.header,c=this.level;;){if(0>c)return b===this.header?null:b;var d;a:for(d=b;;){var e=c<d.forward.length?d.forward[c]:null;if(null!=e){if(e.key>a)break a;d=e}else{d=0===c?d:null;break a}}r(d)?(--c,b=d):--c}};
g.va=function(){return function c(b){return new Kg(null,function(){return null==b?null:gf(new X(null,2,5,Z,[b.key,b.val],null),c(b.forward[0]))},null,null)}(this.header.forward[0])};g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"{",", ","}",c,this)};var $Q=new ZQ;function aR(a){var b=(new Date).valueOf()+a,c=$Q.ceilingEntry(b);c=r(r(c)?c.key<b+10:c)?c.val:null;if(r(c))return c;var d=VQ(null,null);$Q.put(b,d);LQ(function(){$Q.remove(b);return dQ(d)},a);return d};var bR={},cR;
function dR(a){if("undefined"===typeof gc||"undefined"===typeof hc||"undefined"===typeof XP||"undefined"===typeof aQ||"undefined"===typeof bR||"undefined"===typeof cR)cR=function(b,c){this.f=b;this.ui=c;this.ha=393216;this.na=0},cR.prototype.ta=function(b,c){return new cR(this.f,c)},cR.prototype.sa=function(){return this.ui},cR.prototype.nc=function(){return!0},cR.prototype.ve=function(){return!0},cR.prototype.ec=function(){return this.f},cR.Fb=!0,cR.yb="cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers29395",cR.Ib=
function(b){return Kd(b,"cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers29395")};return new cR(a,W)}function eR(a){try{var b=a[0];return b.ba?b.ba(a):b.call(null,a)}catch(c){if(c instanceof Object)throw b=c,a[6].ue(null),b;throw c;}}function fR(a,b,c){c=c.Qf(null,dR(function(d){a[2]=d;a[1]=b;return eR(a)}));return r(c)?(a[2]=y(c),a[1]=b,Gn):null}function gR(a,b,c){b=b.af(null,c,dR(function(d){a[2]=d;a[1]=11;return eR(a)}));return r(b)?(a[2]=y(b),a[1]=11,Gn):null}
function hR(a,b){a=a[6];null!=b&&a.af(null,b,dR(function(){return null}));a.ue(null);return a};function iR(a,b){return jR(a,b)}function jR(a,b){a=D.aa(a,0)?null:a;return VQ("number"===typeof a?new lQ(kQ(a),a):a,b)}
var kR=function(a){if("undefined"===typeof gc||"undefined"===typeof hc||"undefined"===typeof XP||"undefined"===typeof YP)YP=function(b,c,d){this.f=b;this.Cg=c;this.vi=d;this.ha=393216;this.na=0},YP.prototype.ta=function(b,c){return new YP(this.f,this.Cg,c)},YP.prototype.sa=function(){return this.vi},YP.prototype.nc=function(){return!0},YP.prototype.ve=function(){return this.Cg},YP.prototype.ec=function(){return this.f},YP.Fb=!0,YP.yb="cljs.core.async/t_cljs$core$async29766",YP.Ib=function(b){return Kd(b,
"cljs.core.async/t_cljs$core$async29766")};return new YP(a,!0,W)}(function(){return null});function lR(a,b){a=cQ(a,b,kR);return r(a)?y(a):!0}function mR(a){for(var b=Array(a),c=0;;)if(c<a)b[c]=c,c+=1;else break;cb(b);return b}
function nR(){var a=Dh(!0);if("undefined"===typeof gc||"undefined"===typeof hc||"undefined"===typeof XP||"undefined"===typeof ZP)ZP=function(b,c){this.Pd=b;this.wi=c;this.ha=393216;this.na=0},ZP.prototype.ta=function(b,c){return new ZP(this.Pd,c)},ZP.prototype.sa=function(){return this.wi},ZP.prototype.nc=function(){return y(this.Pd)},ZP.prototype.ve=function(){return!0},ZP.prototype.ec=function(){Eh(this.Pd,null);return!0},ZP.Fb=!0,ZP.yb="cljs.core.async/t_cljs$core$async29850",ZP.Ib=function(b){return Kd(b,
"cljs.core.async/t_cljs$core$async29850")};return new ZP(a,W)}
function oR(a,b){if("undefined"===typeof gc||"undefined"===typeof hc||"undefined"===typeof XP||"undefined"===typeof $P)$P=function(c,d,e){this.Pd=c;this.ke=d;this.xi=e;this.ha=393216;this.na=0},$P.prototype.ta=function(c,d){return new $P(this.Pd,this.ke,d)},$P.prototype.sa=function(){return this.xi},$P.prototype.nc=function(){return eQ(this.Pd)},$P.prototype.ve=function(){return!0},$P.prototype.ec=function(){fQ(this.Pd);return this.ke},$P.Fb=!0,$P.yb="cljs.core.async/t_cljs$core$async29861",$P.Ib=
function(c){return Kd(c,"cljs.core.async/t_cljs$core$async29861")};return new $P(a,b,W)}
function pR(a,b,c){var d=nR(),e=M(b),f=mR(e),h=SA.ba(c),k=function(){for(var m=0;;)if(m<e){var n=r(h)?m:f[m],q=af(b,n),u=Gf(q)?q.ba?q.ba(0):q.call(null,0):null,w=r(u)?function(){var z=q.ba?q.ba(1):q.call(null,1);return cQ(u,z,oR(d,function(F,H,G,N,O){return function(U){U=new X(null,2,5,Z,[U,O],null);return a.ba?a.ba(U):a.call(null,U)}}(m,z,n,q,u,d,e,f,h)))}():bQ(q,oR(d,function(z,F,H){return function(G){G=new X(null,2,5,Z,[G,H],null);return a.ba?a.ba(G):a.call(null,G)}}(m,n,q,u,d,e,f,h)));if(r(w))return OQ(new X(null,
2,5,Z,[y(w),function(){var z=u;return r(z)?z:q}()],null));m+=1}else return null}();return r(k)?k:Of(c,bm)?(k=function(){var m=d.nc(null);return r(m)?d.ec(null):m}(),r(k)?OQ(new X(null,2,5,Z,[bm.ba(c),bm],null)):null):null}
function qR(a,b){var c=jR(1,null);KQ(function(){var d=function(){function f(h){var k=h[1];return 7===k?(h[2]=h[2],h[1]=3,Gn):1===k?(h[2]=null,h[1]=2,Gn):4===k?(k=h[2],h[7]=k,h[1]=r(null==k)?5:6,Gn):13===k?(h[2]=null,h[1]=14,Gn):6===k?(k=h[7],gR(h,b,k)):3===k?hR(h,h[2]):12===k?(h[2]=null,h[1]=2,Gn):2===k?fR(h,4,a):11===k?(h[1]=r(h[2])?12:13,Gn):9===k?(h[2]=null,h[1]=10,Gn):5===k?(h[1]=r(!0)?8:9,Gn):14===k||10===k?(h[2]=h[2],h[1]=7,Gn):8===k?(k=dQ(b),h[2]=k,h[1]=10,Gn):null}return function(){function h(n){for(;;){a:try{for(;;){var q=
f(n);if(!T(q,Gn)){var u=q;break a}}}catch(w){u=w;n[2]=u;if(E(n[4]))n[1]=J(n[4]);else throw u;u=Gn}if(!T(u,Gn))return u}}function k(){var n=[null,null,null,null,null,null,null,null];n[0]=m;n[1]=1;return n}var m=null;m=function(n){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,n)}throw Error("Invalid arity: "+arguments.length);};m.ja=k;m.ba=h;return m}()}(),e=function(){var f=d();f[6]=c;return f}();return eR(e)})}
function rR(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=3<b.length?new I(b.slice(3),0,null):null;return sR(arguments[0],arguments[1],arguments[2],b)}function sR(a,b,c,d){d=null!=d&&(d.ha&64||l===d.Ea)?hh(ik,d):d;a[1]=b;b=pR(function(e){a[2]=e;return eR(a)},c,d);return r(b)?(a[2]=y(b),Gn):null}
function tR(a,b){var c=jR(b,null),d=jR(1,null);KQ(function(){var e=function(){function h(k){var m=k[1];if(7===m){var n=k[7];m=k[2];n=Q(m,0,null);var q=Q(m,1,null);k[7]=n;k[9]=q;k[8]=m;k[1]=r(null==n)?8:9;return Gn}return 1===m?(m=Zf(a),k[10]=m,k[2]=null,k[1]=2,Gn):4===m?(m=k[10],rR(k,7,m)):6===m?(k[2]=k[2],k[1]=3,Gn):3===m?hR(k,k[2]):2===m?(m=k[10],m=0<M(m),k[1]=r(m)?4:5,Gn):11===m?(m=k[10],n=k[2],k[10]=m,k[11]=n,k[2]=null,k[1]=2,Gn):9===m?(n=k[7],gR(k,c,n)):5===m?(m=dQ(c),k[2]=m,k[1]=6,Gn):10===
m?(k[2]=k[2],k[1]=6,Gn):8===m?(m=k[10],n=k[7],q=k[9],m=di(function(){var u=q;return function(w){return mh.aa(u,w)}}(),m),k[10]=m,k[2]=null,k[1]=2,Gn):null}return function(){function k(q){for(;;){a:try{for(;;){var u=h(q);if(!T(u,Gn)){var w=u;break a}}}catch(z){w=z;q[2]=w;if(E(q[4]))q[1]=J(q[4]);else throw w;w=Gn}if(!T(w,Gn))return w}}function m(){var q=[null,null,null,null,null,null,null,null,null,null,null,null];q[0]=n;q[1]=1;return q}var n=null;n=function(q){switch(arguments.length){case 0:return m.call(this);
case 1:return k.call(this,q)}throw Error("Invalid arity: "+arguments.length);};n.ja=m;n.ba=k;return n}()}(),f=function(){var h=e();h[6]=d;return h}();return eR(f)});return c};function uR(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");return d.replace(/%([0\- \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(e,f,h,k,m,n,q,u){if("%"==n)return"%";var w=c.shift();if("undefined"==typeof w)throw Error("[goog.string.format] Not enough arguments");arguments[0]=w;return uR.qd[n].apply(null,arguments)})}uR.qd={};
uR.qd.s=function(a,b,c){return isNaN(c)||""==c||a.length>=Number(c)?a:a=-1<b.indexOf("-",0)?a+Nb(" ",Number(c)-a.length):Nb(" ",Number(c)-a.length)+a};
uR.qd.f=function(a,b,c,d,e){d=a.toString();isNaN(e)||""==e||(d=parseFloat(a).toFixed(e));var f=0>Number(a)?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=Number(a)&&(d=f+d);if(isNaN(c)||d.length>=Number(c))return d;d=isNaN(e)?Math.abs(Number(a)).toString():Math.abs(Number(a)).toFixed(e);a=Number(c)-d.length-f.length;0<=b.indexOf("-",0)?d=f+d+Nb(" ",a):(b=0<=b.indexOf("0",0)?"0":" ",d=f+Nb(b,a)+d);return d};uR.qd.d=function(a,b,c,d,e,f,h,k){return uR.qd.f(parseInt(a,10),b,c,d,0,f,h,k)};
uR.qd.i=uR.qd.d;uR.qd.u=uR.qd.d;var vR=!qQ||9<=Number(BQ),wR=qQ&&!AQ("9");!tQ||AQ("528");sQ&&AQ("1.9b")||qQ&&AQ("8")||pQ&&AQ("9.5")||tQ&&AQ("528");sQ&&!AQ("8")||qQ&&AQ("9");var xR=function(){if(!ma.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{ma.addEventListener("test",na,b),ma.removeEventListener("test",na,b)}catch(c){}return a}();function yR(){0!=zR&&(AR[wa(this)]=this);this.$d=this.$d;this.de=this.de}var zR=0,AR={};yR.prototype.$d=!1;yR.prototype.dispose=function(){if(!this.$d&&(this.$d=!0,this.disposeInternal(),0!=zR)){var a=wa(this);if(0!=zR&&this.de&&0<this.de.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete AR[a]}};yR.prototype.disposeInternal=function(){if(this.de)for(;this.de.length;)this.de.shift()()};function BR(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.Ud=!1;this.nh=!0}BR.prototype.stopPropagation=function(){this.Ud=!0};BR.prototype.preventDefault=function(){this.defaultPrevented=!0;this.nh=!1};function CR(a,b){BR.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.Ee=null;a&&this.init(a,b)}Ia(CR,BR);var DR={2:"touch",3:"pen",4:"mouse"};
CR.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(sQ){a:{try{Ja(b.nodeName);var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=
d.screenY||0):(this.offsetX=tQ||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=tQ||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.pointerId=
a.pointerId||0;this.pointerType="string"===typeof a.pointerType?a.pointerType:DR[a.pointerType]||"";this.state=a.state;this.Ee=a;a.defaultPrevented&&this.preventDefault()};CR.prototype.stopPropagation=function(){CR.wd.stopPropagation.call(this);this.Ee.stopPropagation?this.Ee.stopPropagation():this.Ee.cancelBubble=!0};
CR.prototype.preventDefault=function(){CR.wd.preventDefault.call(this);var a=this.Ee;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,wR)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var ER="closure_listenable_"+(1E6*Math.random()|0),FR=0;function GR(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.handler=e;this.key=++FR;this.removed=this.Ue=!1}function HR(a){a.removed=!0;a.listener=null;a.proxy=null;a.src=null;a.handler=null};function IR(a){this.src=a;this.listeners={};this.Oe=0}g=IR.prototype;g.add=function(a,b,c,d,e){var f=a.toString();a=this.listeners[f];a||(a=this.listeners[f]=[],this.Oe++);var h=JR(a,b,d,e);-1<h?(b=a[h],c||(b.Ue=!1)):(b=new GR(b,this.src,f,!!d,e),b.Ue=c,a.push(b));return b};g.remove=function(a,b,c,d){a=a.toString();if(!(a in this.listeners))return!1;var e=this.listeners[a];b=JR(e,b,c,d);return-1<b?(HR(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.listeners[a],this.Oe--),!0):!1};
function KR(a,b){var c=b.type;if(!(c in a.listeners))return!1;var d=Wa(a.listeners[c],b);d&&(HR(b),0==a.listeners[c].length&&(delete a.listeners[c],a.Oe--));return d}g.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.listeners)if(!a||c==a){for(var d=this.listeners[c],e=0;e<d.length;e++)++b,HR(d[e]);delete this.listeners[c];this.Oe--}return b};g.getListeners=function(a,b){a=this.listeners[a.toString()];var c=[];if(a)for(var d=0;d<a.length;++d){var e=a[d];e.capture==b&&c.push(e)}return c};
g.Xf=function(a,b,c,d){a=this.listeners[a.toString()];var e=-1;a&&(e=JR(a,b,c,d));return-1<e?a[e]:null};g.hasListener=function(a,b){var c=void 0!==a,d=c?a.toString():"",e=void 0!==b;return gb(this.listeners,function(f){for(var h=0;h<f.length;++h)if(!(c&&f[h].type!=d||e&&f[h].capture!=b))return!0;return!1})};function JR(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.listener==b&&f.capture==!!c&&f.handler==d)return e}return-1};var LR="closure_lm_"+(1E6*Math.random()|0),MR={},NR=0;function OR(a,b,c,d,e){if(d&&d.once)return PR(a,b,c,d,e);if(qa(b)){for(var f=0;f<b.length;f++)OR(a,b[f],c,d,e);return null}c=QR(c);return a&&a[ER]?a.listen(b,c,ta(d)?!!d.capture:!!d,e):RR(a,b,c,!1,d,e)}
function RR(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var h=ta(e)?!!e.capture:!!e,k=SR(a);k||(a[LR]=k=new IR(a));c=k.add(b,c,d,h,f);if(c.proxy)return c;d=TR();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)xR||(e=h),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(UR(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");NR++;return c}
function TR(){var a=VR,b=vR?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function PR(a,b,c,d,e){if(qa(b)){for(var f=0;f<b.length;f++)PR(a,b[f],c,d,e);return null}c=QR(c);return a&&a[ER]?a.listenOnce(b,c,ta(d)?!!d.capture:!!d,e):RR(a,b,c,!0,d,e)}
function WR(a,b,c,d,e){if(qa(b))for(var f=0;f<b.length;f++)WR(a,b[f],c,d,e);else d=ta(d)?!!d.capture:!!d,c=QR(c),a&&a[ER]?a.bd.remove(String(b),c,d,e):a&&(a=SR(a))&&(b=a.Xf(b,c,d,e))&&YR(b)}
function YR(a){if("number"!==typeof a&&a&&!a.removed){var b=a.src;if(b&&b[ER])b.unlistenByKey(a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(UR(c),d):b.addListener&&b.removeListener&&b.removeListener(d);NR--;(c=SR(b))?(KR(c,a),0==c.Oe&&(c.src=null,b[LR]=null)):HR(a)}}}function UR(a){return a in MR?MR[a]:MR[a]="on"+a}
function ZR(a,b,c,d){var e=!0;if(a=SR(a))if(b=a.listeners[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.removed&&(f=$R(f,d),e=e&&!1!==f)}return e}function $R(a,b){var c=a.listener,d=a.handler||a.src;a.Ue&&YR(a);return c.call(d,b)}
function VR(a,b){if(a.removed)return!0;if(!vR){if(!b)a:{b=["window","event"];for(var c=ma,d=0;d<b.length;d++)if(c=c[b[d]],null==c){b=null;break a}b=c}d=b;b=new CR(d,this);c=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var e=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(h){e=!0}if(e||void 0==d.returnValue)d.returnValue=!0}d=[];for(e=b.currentTarget;e;e=e.parentNode)d.push(e);a=a.type;for(e=d.length-1;!b.Ud&&0<=e;e--){b.currentTarget=d[e];var f=ZR(d[e],a,!0,b);c=c&&f}for(e=0;!b.Ud&&e<d.length;e++)b.currentTarget=
d[e],f=ZR(d[e],a,!1,b),c=c&&f}return c}return $R(a,new CR(b,this))}function SR(a){a=a[LR];return a instanceof IR?a:null}var aS="__closure_events_fn_"+(1E9*Math.random()>>>0);function QR(a){if(sa(a))return a;a[aS]||(a[aS]=function(b){return a.handleEvent(b)});return a[aS]};function bS(){yR.call(this);this.bd=new IR(this);this.xh=this;this.ng=null}Ia(bS,yR);bS.prototype[ER]=!0;g=bS.prototype;g.addEventListener=function(a,b,c,d){OR(this,a,b,c,d)};g.removeEventListener=function(a,b,c,d){WR(this,a,b,c,d)};
g.dispatchEvent=function(a){var b,c=this.ng;if(c)for(b=[];c;c=c.ng)b.push(c);c=this.xh;var d=a.type||a;if("string"===typeof a)a=new BR(a,c);else if(a instanceof BR)a.target=a.target||c;else{var e=a;a=new BR(d,c);mb(a,e)}e=!0;if(b)for(var f=b.length-1;!a.Ud&&0<=f;f--){var h=a.currentTarget=b[f];e=cS(h,d,!0,a)&&e}a.Ud||(h=a.currentTarget=c,e=cS(h,d,!0,a)&&e,a.Ud||(e=cS(h,d,!1,a)&&e));if(b)for(f=0;!a.Ud&&f<b.length;f++)h=a.currentTarget=b[f],e=cS(h,d,!1,a)&&e;return e};
g.disposeInternal=function(){bS.wd.disposeInternal.call(this);this.removeAllListeners();this.ng=null};g.listen=function(a,b,c,d){return this.bd.add(String(a),b,!1,c,d)};g.listenOnce=function(a,b,c,d){return this.bd.add(String(a),b,!0,c,d)};g.unlistenByKey=function(a){return KR(this.bd,a)};g.removeAllListeners=function(a){return this.bd?this.bd.removeAll(a):0};
function cS(a,b,c,d){b=a.bd.listeners[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var h=b[f];if(h&&!h.removed&&h.capture==c){var k=h.listener,m=h.handler||h.src;h.Ue&&a.unlistenByKey(h);e=!1!==k.call(m,d)&&e}}return e&&0!=d.nh}g.getListeners=function(a,b){return this.bd.getListeners(String(a),b)};g.Xf=function(a,b,c,d){return this.bd.Xf(String(a),b,c,d)};g.hasListener=function(a,b){return this.bd.hasListener(void 0!==a?String(a):void 0,b)};function dS(a,b,c){if(sa(a))c&&(a=Fa(a,c));else if(a&&"function"==typeof a.handleEvent)a=Fa(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:ma.setTimeout(a,b||0)};function eS(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};function fS(){}fS.prototype.Dg=null;fS.prototype.getOptions=function(){var a;(a=this.Dg)||(a={},gS(this)&&(a[0]=!0,a[1]=!0),a=this.Dg=a);return a};var hS;function iS(){}Ia(iS,fS);function jS(a){return(a=gS(a))?new ActiveXObject(a):new XMLHttpRequest}function gS(a){if(!a.Yg&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Yg=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.Yg}hS=new iS;function kS(a){bS.call(this);this.headers=new Ub;this.xf=a||null;this.zd=!1;this.wf=this.Ta=null;this.cg="";this.ce=0;this.Rd=this.Zf=this.kf=this.Wf=!1;this.uf=0;this.timeoutId_=null;this.mh=lS;this.tg=this.hh=this.Pe=!1}Ia(kS,bS);var lS="",mS=/^https?$/i,nS=["POST","PUT"];g=kS.prototype;g.setWithCredentials=function(a){this.Pe=a};
g.send=function(a,b,c,d){if(this.Ta)throw Error("[goog.net.XhrIo] Object is active with another request\x3d"+this.cg+"; newUri\x3d"+a);b=b?b.toUpperCase():"GET";this.cg=a;this.ce=0;this.Wf=!1;this.zd=!0;this.Ta=this.xf?jS(this.xf):jS(hS);this.wf=this.xf?this.xf.getOptions():hS.getOptions();this.Ta.onreadystatechange=Fa(this.eh,this);this.hh&&"onprogress"in this.Ta&&(this.Ta.onprogress=Fa(function(f){this.dh(f,!0)},this),this.Ta.upload&&(this.Ta.upload.onprogress=Fa(this.dh,this)));try{this.Zf=!0,
this.Ta.open(b,String(a),!0),this.Zf=!1}catch(f){this.error_(5,f);return}a=c||"";var e=this.headers.clone();d&&Sb(d,function(f,h){e.set(h,f)});d=Sa(e.getKeys());c=ma.FormData&&a instanceof ma.FormData;!(0<=Na(nS,b))||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset\x3dutf-8");e.forEach(function(f,h){this.Ta.setRequestHeader(h,f)},this);this.mh&&(this.Ta.responseType=this.mh);"withCredentials"in this.Ta&&this.Ta.withCredentials!==this.Pe&&(this.Ta.withCredentials=this.Pe);try{oS(this),
0<this.uf&&((this.tg=pS(this.Ta))?(this.Ta.timeout=this.uf,this.Ta.ontimeout=Fa(this.timeout_,this)):this.timeoutId_=dS(this.timeout_,this.uf,this)),this.kf=!0,this.Ta.send(a),this.kf=!1}catch(f){this.error_(5,f)}};function pS(a){return qQ&&AQ(9)&&"number"===typeof a.timeout&&void 0!==a.ontimeout}function Ua(a){return"content-type"==a.toLowerCase()}g.timeout_=function(){"undefined"!=typeof la&&this.Ta&&(this.ce=8,this.dispatchEvent("timeout"),this.abort(8))};
g.error_=function(a){this.zd=!1;this.Ta&&(this.Rd=!0,this.Ta.abort(),this.Rd=!1);this.ce=a;qS(this);rS(this)};function qS(a){a.Wf||(a.Wf=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}g.abort=function(a){this.Ta&&this.zd&&(this.zd=!1,this.Rd=!0,this.Ta.abort(),this.Rd=!1,this.ce=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),rS(this))};g.disposeInternal=function(){this.Ta&&(this.zd&&(this.zd=!1,this.Rd=!0,this.Ta.abort(),this.Rd=!1),rS(this,!0));kS.wd.disposeInternal.call(this)};
g.eh=function(){this.$d||(this.Zf||this.kf||this.Rd?sS(this):this.Bi())};g.Bi=function(){sS(this)};function sS(a){if(a.zd&&"undefined"!=typeof la&&(!a.wf[1]||4!=tS(a)||2!=uS(a)))if(a.kf&&4==tS(a))dS(a.eh,0,a);else if(a.dispatchEvent("readystatechange"),4==tS(a)){a.zd=!1;try{vS(a)?(a.dispatchEvent("complete"),a.dispatchEvent("success")):(a.ce=6,qS(a))}finally{rS(a)}}}g.dh=function(a,b){this.dispatchEvent(wS(a,"progress"));this.dispatchEvent(wS(a,b?"downloadprogress":"uploadprogress"))};
function wS(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}}function rS(a,b){if(a.Ta){oS(a);var c=a.Ta,d=a.wf[0]?na:null;a.Ta=null;a.wf=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){}}}function oS(a){a.Ta&&a.tg&&(a.Ta.ontimeout=null);a.timeoutId_&&(ma.clearTimeout(a.timeoutId_),a.timeoutId_=null)}
function vS(a){var b=uS(a);a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break a;default:c=!1}if(!c){if(b=0===b)a=String(a.cg).match(Zb)[1]||null,!a&&ma.self&&ma.self.location&&(a=ma.self.location.protocol,a=a.substr(0,a.length-1)),b=!mS.test(a?a.toLowerCase():"");c=b}return c}function tS(a){return a.Ta?a.Ta.readyState:0}function uS(a){try{return 2<tS(a)?a.Ta.status:-1}catch(b){return-1}}
function xS(a){try{return a.Ta?a.Ta.responseText:""}catch(b){return""}}g.getResponseHeader=function(a){if(this.Ta&&4==tS(this))return a=this.Ta.getResponseHeader(a),null===a?void 0:a};g.getAllResponseHeaders=function(){return this.Ta&&4==tS(this)?this.Ta.getAllResponseHeaders()||"":""};function yS(){this.Ic=[];this.Yc=[]}function zS(a){0==a.Ic.length&&(a.Ic=a.Yc,a.Ic.reverse(),a.Yc=[])}g=yS.prototype;g.enqueue=function(a){this.Yc.push(a)};g.dequeue=function(){zS(this);return this.Ic.pop()};g.peek=function(){zS(this);var a=this.Ic;return a[a.length-1]};g.getCount=function(){return this.Ic.length+this.Yc.length};g.isEmpty=function(){return 0==this.Ic.length&&0==this.Yc.length};g.clear=function(){this.Ic=[];this.Yc=[]};
g.contains=function(a){return 0<=Na(this.Ic,a)||0<=Na(this.Yc,a)};g.remove=function(a){var b=this.Ic;var c=Oa(b,a);0<=c?(Array.prototype.splice.call(b,c,1),b=!0):b=!1;return b||Wa(this.Yc,a)};g.getValues=function(){for(var a=[],b=this.Ic.length-1;0<=b;--b)a.push(this.Ic[b]);var c=this.Yc.length;for(b=0;b<c;++b)a.push(this.Yc[b]);return a};function AS(a){this.map_=new Ub;a&&this.addAll(a)}function BS(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+wa(a):b.substr(0,1)+a}g=AS.prototype;g.getCount=function(){return this.map_.getCount()};g.add=function(a){this.map_.set(BS(a),a)};g.addAll=function(a){a=Qb(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};g.removeAll=function(a){a=Qb(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};g.remove=function(a){return this.map_.remove(BS(a))};g.clear=function(){this.map_.clear()};
g.isEmpty=function(){return this.map_.isEmpty()};g.contains=function(a){return this.map_.containsKey(BS(a))};g.intersection=function(a){var b=new AS;a=Qb(a);for(var c=0;c<a.length;c++){var d=a[c];this.contains(d)&&b.add(d)}return b};g.difference=function(a){var b=this.clone();b.removeAll(a);return b};g.getValues=function(){return this.map_.getValues()};g.clone=function(){return new AS(this)};g.equals=function(a){return this.getCount()==Pb(a)&&CS(this,a)};
function CS(a,b){var c=Pb(b);if(a.getCount()>c)return!1;!(b instanceof AS)&&5<c&&(b=new AS(b));return Tb(a,function(d){var e=b;if(e.contains&&"function"==typeof e.contains)d=e.contains(d);else if(e.ze&&"function"==typeof e.ze)d=e.ze(d);else if(ra(e)||"string"===typeof e)d=0<=Na(e,d);else a:{for(const f in e)if(e[f]==d){d=!0;break a}d=!1}return d})};function DS(a,b){yR.call(this);this.ah=a||0;this.nf=b||10;if(this.ah>this.nf)throw Error(ES);this.cd=new yS;this.Id=new AS;this.delay=0;this.ag=null;this.Qe()}Ia(DS,yR);var ES="[goog.structs.Pool] Min can not be greater than max";g=DS.prototype;g.jf=function(){var a=Ga();if(!(null!=this.ag&&a-this.ag<this.delay)){for(var b;0<this.cd.getCount()&&(b=this.cd.dequeue(),!this.mg(b));)this.Qe();!b&&this.getCount()<this.nf&&(b=this.Vf());b&&(this.ag=a,this.Id.add(b));return b}};
function FS(a,b){return a.Id.remove(b)?(a.zf(b),!0):!1}g.zf=function(a){this.Id.remove(a);this.mg(a)&&this.getCount()<this.nf?this.cd.enqueue(a):GS(a)};g.Qe=function(){for(var a=this.cd;this.getCount()<this.ah;)a.enqueue(this.Vf());for(;this.getCount()>this.nf&&0<this.cd.getCount();)GS(a.dequeue())};g.Vf=function(){return{}};function GS(a){if("function"==typeof a.dispose)a.dispose();else for(var b in a)a[b]=null}g.mg=function(a){return"function"==typeof a.zh?a.zh():!0};
g.contains=function(a){return this.cd.contains(a)||this.Id.contains(a)};g.getCount=function(){return this.cd.getCount()+this.Id.getCount()};g.isEmpty=function(){return this.cd.isEmpty()&&this.Id.isEmpty()};g.disposeInternal=function(){DS.wd.disposeInternal.call(this);if(0<this.Id.getCount())throw Error("[goog.structs.Pool] Objects not released");delete this.Id;for(var a=this.cd;!a.isEmpty();)GS(a.dequeue());delete this.cd};function HS(a,b){this.key_=a;this.value_=b}HS.prototype.getKey=function(){return this.key_};HS.prototype.getValue=function(){return this.value_};HS.prototype.clone=function(){return new HS(this.key_,this.value_)};function IS(a){this.xc=[];if(a)a:{if(a instanceof IS){var b=a.getKeys();a=a.getValues();if(0>=this.getCount()){for(var c=this.xc,d=0;d<b.length;d++)c.push(new HS(b[d],a[d]));break a}}else b=ib(a),a=hb(a);for(d=0;d<b.length;d++)this.insert(b[d],a[d])}}g=IS.prototype;g.insert=function(a,b){var c=this.xc;c.push(new HS(a,b));a=c.length-1;b=this.xc;for(c=b[a];0<a;){var d=this.getParentIndex_(a);if(b[d].getKey()>c.getKey())b[a]=b[d],a=d;else break}b[a]=c};
g.remove=function(){var a=this.xc,b=a.length,c=a[0];if(!(0>=b)){if(1==b)Va(a);else{a[0]=a.pop();a=0;b=this.xc;for(var d=b.length,e=b[a];a<d>>1;){var f=this.getLeftChildIndex_(a),h=this.getRightChildIndex_(a);f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};g.peek=function(){var a=this.xc;if(0!=a.length)return a[0].getValue()};g.getLeftChildIndex_=function(a){return 2*a+1};g.getRightChildIndex_=function(a){return 2*a+2};
g.getParentIndex_=function(a){return a-1>>1};g.getValues=function(){for(var a=this.xc,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getValue());return b};g.getKeys=function(){for(var a=this.xc,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getKey());return b};g.ze=function(a){return Qa(this.xc,function(b){return b.getValue()==a})};g.containsKey=function(a){return Qa(this.xc,function(b){return b.getKey()==a})};g.clone=function(){return new IS(this)};g.getCount=function(){return this.xc.length};
g.isEmpty=function(){return 0==this.xc.length};g.clear=function(){Va(this.xc)};function JS(){IS.call(this)}Ia(JS,IS);JS.prototype.enqueue=function(a,b){this.insert(a,b)};JS.prototype.dequeue=function(){return this.remove()};function KS(a,b){this.Tg=void 0;this.pg=new JS;DS.call(this,a,b)}Ia(KS,DS);g=KS.prototype;g.jf=function(){var a=KS.wd.jf.call(this);a&&this.delay&&(this.Tg=ma.setTimeout(Fa(this.Yf,this),this.delay));return a};g.Yf=function(){for(var a=this.pg;0<a.getCount();){var b=this.jf();if(b)a.dequeue().apply(this,[b]);else break}};g.zf=function(a){KS.wd.zf.call(this,a);this.Yf()};g.Qe=function(){KS.wd.Qe.call(this);this.Yf()};
g.disposeInternal=function(){KS.wd.disposeInternal.call(this);ma.clearTimeout(this.Tg);this.pg.clear();this.pg=null};function LS(a,b,c,d){this.Xh=a;this.Pe=!!d;KS.call(this,b,c)}Ia(LS,KS);LS.prototype.Vf=function(){var a=new kS,b=this.Xh;b&&b.forEach(function(c,d){a.headers.set(d,c)});this.Pe&&a.setWithCredentials(!0);return a};LS.prototype.mg=function(a){return!a.$d&&!a.Ta};function MS(a){a=y(a);throw gm(y(WA.ba(a)),S.aa(a,WA));}var NS={};
function OS(a,b,c,d){if(r(MS)){var e=new ul(function(){var f=new Date,h=r(a)?a:"?",k=t.ba(b),m=null==c?"\x3ctruss/nil\x3e":hl.ea(P([c])),n=NS===d?null:d,q=new ul(function(){var w=r(n)?t.ba(n):null;var z=["Invariant violation in `",t.ba(ja),":",t.ba(h),"`. Test form `",t.ba(k),"` failed against input val `",t.ba(m),"`."].join("");return zc(n)?z:[z," An error was thrown while evaluating test form: [",w,"]."].join("")}),u=function(){if(r(null))try{return null.ja?null.ja():null.call(null)}catch(w){if(w instanceof
Error)return new p(null,1,[nm,w],null);throw w;}else return null}();return Pj([Nn,WA,Cs,nB,pl,hu,iv,hq,RB,Eu,Sv,Rm],[null,q,null,f,c,ja,Cc(c),n,!0,u,a,k])});return MS.ba?MS.ba(e):MS.call(null,e)}return null};var PS=new X(null,3,5,Z,[3,1,0],null);function QS(a){if(null==a||""===a)return null;if("string"===typeof a){var b=B.ca(null,Dm,kp),c=B.ca(null,bm,kp);r(T.aa?T.aa(b,kp):T.call(null,b,kp))&&(b=y(FI),b=RS.aa?RS.aa(xe,b):RS.call(null,xe,b));c=r(T.aa?T.aa(c,kp):T.call(null,c,kp))?y(EI):c;c=R.ea(null,Dm,b,P([bm,c]));return yI(c,a)}throw gm("`read-edn` attempt against non-nil, non-string arg",new p(null,2,[cw,a,qq,Cc(a)],null));}
function SS(a){if(null!=a&&(a.na&4096||l===a.Gf)){var b=Jg(a);a=Gg(a);return r(a)?[a,"/",b].join(""):b}return"string"===typeof a?a:null}function TS(a){return"string"===typeof a?D.aa(a,"")?null:a:null}function US(a){return"number"===typeof a?tg(a):"string"===typeof a?(a=parseInt(a,10),r(isNaN(a))?null:a):null}function VS(a){var b=SS(a);if(!r(b))throw gm(["`as-",Jg(rp),"` failed against: `",hl.ea(P([a])),"`"].join(""),new p(null,2,[cw,a,qq,Cc(a)],null));return b}
function WS(a,b,c){return hg(Ak(),fg(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return a.ca?a.ca(d,f,e):a.call(null,d,f,e)},cg),b,c)}function XS(a,b){return v.ca(function(c,d){c=a.ba?a.ba(d):a.call(null,d);return r(c)?Pe(c):null},null,b)}
function YS(){var a=Ih(-1);return function(){function b(e){return a.Rc(null,a.tb(null)+e)}function c(){return a.Rc(null,a.tb(null)+1)}var d=null;d=function(e){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,e)}throw Error("Invalid arity: "+arguments.length);};d.ja=c;d.ba=b;return d}()}
var ZS=function ZS(a){switch(arguments.length){case 1:return ZS.ba(arguments[0]);case 2:return ZS.aa(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.ba(arguments.length)].join(""));}};ZS.ba=function(a){return ZS.aa(a,null)};ZS.aa=function(a,b){var c=null!=b&&(b.ha&64||l===b.Ea)?hh(ik,b):b,d=B.aa(c,oB);b=B.aa(c,cz);c=B.ca(c,$m,1E3);a=Math.pow(2,36<a?36:a);a=tg(.5*(a+Ll.ba(a))*c);d=tg(r(d)?a<d?d:a:a);return tg(r(b)?d>b?b:d:d)};ZS.ma=2;D.aa("default","nodejs");
var $S="undefined"!==typeof window?window:null;function aT(a){a=RC(t.ba(a),/-/,2);var b=Q(a,0,null);a=Q(a,1,null);b=Qk(/\d+/,b);b=r(b)?ci.aa(US,b):null;return new p(null,2,[tn,b,yy,r(a)?a.toLowerCase():null],null)}
function bT(a){var b=Q(PS,0,null),c=Q(PS,1,null),d=Q(PS,2,null),e=Gf(a)?a:tn.ba(aT(a));a=Q(e,0,null);var f=Q(e,1,null);e=Q(e,2,null);e=ci.aa(function(h){return r(h)?h:0},new X(null,3,5,Z,[a,f,e],null));a=Q(e,0,null);f=Q(e,1,null);e=Q(e,2,null);if(!(b>a||D.aa(b,a)&&(c>f||D.aa(c,f)&&d>=e)))throw gm("Insufficient `com.taoensso/encore` version, you may have a dependency conflict: see http://goo.gl/qBbLvC for solutions.",new p(null,2,[Yu,NC(".",new X(null,3,5,Z,[a,f,e],null)),Br,NC(".",new X(null,3,5,
Z,[b,c,d],null))],null));}function cT(a,b){return jb(a,Jg(b),null)}function dT(a,b){return null==b?null==a?W:a:R.ca(a,"x-requested-with",b)}var eT=function eT(a){switch(arguments.length){case 3:return eT.ca(arguments[0],arguments[1],arguments[2]);case 2:return eT.aa(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(3),0,null);return eT.ea(arguments[0],arguments[1],arguments[2],c)}};
eT.ca=function(a,b,c){return Of(a,b)?a:R.ca(a,b,c)};eT.ea=function(a,b,c,d){return WS(eT,eT.ca(a,b,c),d)};eT.pa=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);d=K(d);return this.ea(b,a,c,d)};eT.aa=function(a,b){return bg(function(c,d,e){return Of(c,d)?c:R.ca(c,d,e)},null==a?W:a,b)};eT.ma=3;
var fT=function fT(a){switch(arguments.length){case 2:return fT.aa(arguments[0],arguments[1]);case 3:return fT.ca(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.ba(arguments.length)].join(""));}};fT.aa=function(a,b){b=0>b?0:b;var c=M(a);return b>=c?pf:Ni(a,b,c)};fT.ca=function(a,b,c){b=0>b?0:b;var d=tg(M(a));c=c>d?d:c;return b>=c?pf:Ni(a,b,c)};fT.ma=3;
var gT=function gT(a){switch(arguments.length){case 2:return gT.aa(arguments[0],arguments[1]);case 3:return gT.ca(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.ba(arguments.length)].join(""));}};gT.aa=function(a,b){var c=M(a);return 0>b?(b+=c,Ni(a,0>b?0:b,c)):b>=c?pf:Ni(a,b,c)};gT.ca=function(a,b,c){if(0>=c)return pf;var d=tg(M(a));if(0>b)return b+=d,b=0>b?0:b,c=b+c,Ni(a,b,c>d?d:c);c=b+c;d=c>d?d:c;return b>=d?pf:Ni(a,b,d)};gT.ma=3;
function hT(a,b){for(var c=pf;;){var d=E(b);b=J(d);if(d=K(d))c=of.aa(c,b),b=d;else return a.aa?a.aa(c,b):a.call(null,c,b)}}yh.aa(v,V);function RS(a,b){b=bg(function(c,d,e){return $g.ca(c,a.ba?a.ba(d):a.call(null,d),e)},Xg.ba?Xg.ba(W):Xg.call(null,W),b);return Yg.ba?Yg.ba(b):Yg.call(null,b)}function iT(a,b){b=uk(dj(b));a=Bf(a)?a:uk(a);return MI(b,a)}
function jT(a,b,c,d){var e=E(b);if(e){b=af(b,0);if(e=K(e))return R.ca(a,b,jT(B.aa(a,b),e,c,d));if(r(T.aa?T.aa(d,JB):T.call(null,d,JB)))return S.aa(a,b);c=B.ca(a,b,c);d=d.ba?d.ba(c):d.call(null,c);return r(T.aa?T.aa(d,JB):T.call(null,d,JB))?S.aa(a,b):R.ca(a,b,d)}return d.ba?d.ba(a):d.call(null,a)}function kT(a,b,c){return jT(a,b,null,function(d){return S.aa(d,c)})}var lT={};
function mT(a,b){return v.ca(function(c,d){return null==d?c:bg(function m(f,h,k){var n=B.ca(f,h,lT);if(n===lT)return R.ca(f,h,k);if(r(T.aa?T.aa(k,JB):T.call(null,k,JB)))return S.aa(f,h);if(r(r(!1)?Ef(k)&&Ef(n):!1))return R.ca(f,h,bg(m,n,k));k=a.aa?a.aa(n,k):a.call(null,n,k);return r(T.aa?T.aa(k,JB):T.call(null,k,JB))?S.aa(f,h):R.ca(f,h,k)},r(c)?c:W,d)},null,b)}function nT(a){return mT(function(b,c){return c},a)}function oT(a,b){this.lg=a;this.qg=b}
function pT(a,b,c){for(;;){var d=y(b);c=c.ba?c.ba(d):c.call(null,d);var e=c instanceof oT,f=e?c.lg:c;Eh(b,f);return e?c.qg:a.aa?a.aa(d,f):a.call(null,d,f)}}
function qT(a,b,c,d){if(r(T.aa?T.aa(d,JB):T.call(null,d,JB)))for(;;){var e=y(b);d=S.aa(e,c);Eh(b,d);b=B.ca(e,c,null);c=JB;return a.aa?a.aa(b,c):a.call(null,b,c)}else for(;;){e=y(b);var f=B.ca(e,c,null),h=d.ba?d.ba(f):d.call(null,f),k=h instanceof oT,m=k?h.lg:h;d=r(T.aa?T.aa(m,JB):T.call(null,m,JB))?S.aa(e,c):R.ca(e,c,m);Eh(b,d);return k?h.qg:a.aa?a.aa(f,m):a.call(null,f,m)}}
function rT(a,b,c){var d=sT,e=E(b);if(e)if(K(e))if(r(T.aa?T.aa(c,JB):T.call(null,c,JB)))for(;;){var f=y(a);e=hT(function(n){return function(q,u){return kT(n,q,u)}}(f,e,e),b);Eh(a,e);a=gi(f,b,null);b=JB;return d.aa?d.aa(a,b):d.call(null,a,b)}else for(;;){f=y(a);var h=gi(f,b,null);c=c.ba?c.ba(h):c.call(null,h);var k=c instanceof oT,m=k?c.lg:c;e=r(T.aa?T.aa(m,JB):T.call(null,m,JB))?hT(function(n){return function(q,u){return kT(n,q,u)}}(f,h,c,k,m,e,e),b):hi(f,b,m);Eh(a,e);return k?c.qg:d.aa?d.aa(h,m):
d.call(null,h,m)}else return qT(d,a,af(b,0),c);else return pT(d,a,c)}function sT(a,b){return b}function tT(a,b){return pT(sT,a,b)}function uT(a,b,c){return rT(a,b,c)}function vT(a){return a}
function wT(a,b,c){a:{var d=E(b);if(d)if(K(d))for(;;){d=y(a);var e=hi(d,b,c);Eh(a,e);a=gi(d,b,null);vT.aa?vT.aa(a,c):vT.call(null,a,c);break a}else b:for(b=af(b,0);;){d=y(a);e=R.ca(d,b,c);Eh(a,e);a=B.ca(d,b,null);vT.aa?vT.aa(a,c):vT.call(null,a,c);break b}else b:for(;;){b=y(a);Eh(a,c);vT.aa?vT.aa(b,c):vT.call(null,b,c);break b}}}function xT(){return(new Date).getTime()}
(function(){var a=cT($S,"performance");if(r(a)){var b=function(){var c=cT(a,"now");if(r(c))return c;c=cT(a,"mozNow");if(r(c))return c;c=cT(a,"msNow");if(r(c))return c;c=cT(a,"oNow");return r(c)?c:cT(a,"webkitNow")}();return r(b)?function(){return 1E6*tg(b.call(a))}:function(){return 1E6*(new Date).getTime()}}return function(){return 1E6*(new Date).getTime()}})();
function yT(a){var b=Ih(W),c={};return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+0],++h;h=new I(k,0,null)}return e.call(this,h)}function e(f){var h=J(f);if(r(T.aa?T.aa(h,nt):T.call(null,h,nt)))return f=K(f),h=J(f),r(T.aa?T.aa(h,Uo):T.call(null,h,Uo))?he(b,W):b.Rc(null,S.aa(b.tb(null),f)),null;if(r(T.aa?T.aa(h,lA):T.call(null,h,lA)))return f=K(f),h=hh(a,f),b.Rc(null,R.ca(b.tb(null),f,h)),h;h=B.ca(y(b),f,c);return h===
c?(h=hh(a,f),b.Rc(null,R.ca(b.tb(null),f,h)),h):h}d.ma=0;d.pa=function(f){f=E(f);return e(f)};d.ea=e;return d}()}function zT(a,b){this.n=a;this.kg=b}function AT(a,b){this.n=a;this.sg=b}function BT(a,b,c){this.m=a;this.th=b;this.vg=c}
function CT(a){if(Ef(a))return bg(function(c,d,e){var f=Q(e,0,null);e=Q(e,1,null);return R.ca(c,d,new zT(f,e))},W,a);if(Gf(a)){var b=Ih(-1);return v.ca(function(c,d){var e=Q(d,0,null),f=Q(d,1,null);d=Q(d,2,null);return R.ca(c,r(d)?d:b.Rc(null,b.tb(null)+1),new zT(e,f))},W,a)}throw gm("No matching `encore/cond!` clause",W);}
function DT(a){function b(f,h){var k=(new Date).getTime();zc(h)&&6.25E-5>=Math.random()&&(Eh(c,null),Fh.aa(d,function(u){return Ud(bg(function(w,z,F){F=bg(function(H,G,N){var O=B.aa(e,G);return r(O)?k>=N.sg+O.kg?S.aa(H,G):H:S.aa(H,G)},F,F);return zf(F)?Xd(w,z):$g.ca(w,z,F)},Sd(r(u)?u:W),u))}));for(;;){var m=y(d),n=B.aa(m,f),q=null==n?null:bg(function(u,w,z,F,H,G){return function(N,O,U){var ea=B.aa(G,O);if(r(ea)){if(U.n<ea.n)return N;U=U.sg+ea.kg-z;return 0>=U?N:null==N?new BT(tf([O,U]),O,U):U>N.vg?
new BT(R.ca(N.m,O,U),O,U):new BT(R.ca(N.m,O,U),N.th,N.vg)}return N}}(m,n,k,c,d,e),null,n);if(r(r(h)?h:q))return h=q,r(h)?(f=h,new X(null,3,5,Z,[f.th,f.vg,f.m],null)):null;h=y(c);r(h)||(n=bg(function(u,w,z,F,H){return function(G,N,O){return R.ca(G,N,function(){var U=B.aa(z,N);if(r(U)){var ea=U.sg;return H>=ea+O.kg?new AT(1,H):new AT(U.n+1,ea)}return new AT(1,H)}())}}(h,m,n,q,k,c,d,e),n,e),Eh(d,R.ca(m,f,n)));return null}}if(zf(a))return new X(null,2,5,Z,[null,wh(null)],null);var c=Dh(null),d=Dh(null),
e=CT(a);return new X(null,2,5,Z,[d,function(){function f(n,q){if(r(T.aa?T.aa(n,Yw):T.call(null,n,Yw)))return r(T.aa?T.aa(q,Kt):T.call(null,q,Kt))?Eh(d,null):Fh.ca(d,S,q),null;if(r(T.aa?T.aa(n,Zx):T.call(null,n,Zx)))return b(q,!0);throw gm("Unrecognized rate limiter command",new p(null,2,[cw,n,hs,q],null));}function h(n){return b(n,!1)}function k(){return b(null,!1)}var m=null;m=function(n,q){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,n);case 2:return f.call(this,
n,q)}throw Error("Invalid arity: "+arguments.length);};m.ja=k;m.ba=h;m.aa=f;return m}()],null)}
var ET=function(){function a(d){return new ec(d)}function b(){return new ec}var c=null;c=function(d){switch(arguments.length){case 0:return b.call(this);case 1:return a.call(this,d)}throw Error("Invalid arity: "+arguments.length);};c.ja=b;c.ba=a;return c}(),FT=function(){function a(e,f){e=e instanceof ec?e:ET.ba(t.ba(e));f=t.ba(f);return e.append(f)}function b(e){return e instanceof ec?e:ET.ba(t.ba(e))}function c(){return ET.ja()}var d=null;d=function(e,f){switch(arguments.length){case 0:return c.call(this);
case 1:return b.call(this,e);case 2:return a.call(this,e,f)}throw Error("Invalid arity: "+arguments.length);};d.ja=c;d.ba=b;d.aa=a;return d}();function GT(a,b){if(r(r(" ")?mh.aa(" ",""):" ")){var c=Xh(),d=fg(FT,t);return r(a)?gg(xh.aa(a,c),d,b):gg(c,d,b)}return r(a)?gg(a,fg(FT,t),b):t.ba(v.aa(FT,b))}
var HT=function HT(a){switch(arguments.length){case 2:return HT.aa(arguments[0],arguments[1]);case 3:return HT.ca(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.ba(arguments.length)].join(""));}};HT.aa=function(a,b){return a.substring(b)};HT.ca=function(a,b,c){return b>=c?"":a.substring(b,c)};HT.ma=3;
var IT=function IT(a){switch(arguments.length){case 2:return IT.aa(arguments[0],arguments[1]);case 3:return IT.ca(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.ba(arguments.length)].join(""));}};IT.aa=function(a,b){return TS(a.substr(b))};IT.ca=function(a,b,c){return TS(a.substr(b,c))};IT.ma=3;function JT(a){return void 0===a||null==a?"nil":a}
function KT(a){if(SC("/"))return t.ba(v.ca(FT,"",a));var b=Ih(!1),c=Ih(!0);return t.ba(v.ca(function(d,e){e=t.ba(e);var f=D.aa(e,""),h=0===e.indexOf("/");var k=e.length;k=1<=k?mh.aa(-1,e.indexOf("/",k-1)):null;var m=y(b),n=y(c);he(b,k);r(n)&&he(c,f);if(r(m))return h?(e=e.substring(1),d=d.append(e)):d=d.append(e),d;h||r(r(n)?n:f)||d.append("/");return d.append(e)},ET.ja(),a))}
function LT(){function a(){return Ml(16).toString(16)}var b=(8|3&Ml(16)).toString(16);return[t.ba(a()),t.ba(a()),t.ba(a()),t.ba(a()),t.ba(a()),t.ba(a()),t.ba(a()),t.ba(a()),"-",t.ba(a()),t.ba(a()),t.ba(a()),t.ba(a()),"-4",t.ba(a()),t.ba(a()),t.ba(a()),"-",t.ba(b),t.ba(a()),t.ba(a()),t.ba(a()),"-",t.ba(a()),t.ba(a()),t.ba(a()),t.ba(a()),t.ba(a()),t.ba(a()),t.ba(a()),t.ba(a()),t.ba(a()),t.ba(a()),t.ba(a()),t.ba(a())].join("")}ci.aa(t,"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_");
var MT=function MT(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new I(c.slice(0),0,null):null;return MT.ea(c)};
MT.ea=function(a){var b=null!=a&&(a.ha&64||l===a.Ea)?hh(ik,a):a;a=B.aa(b,Am);var c=B.aa(b,FB),d=B.aa(b,sC),e=B.aa(b,au),f=B.aa(b,ys),h=B.aa(b,Av),k=B.aa(b,zn),m=B.aa(b,$u);b=B.aa(b,pv);return Math.round((r(b)?31536E6*b:0)+(r(e)?2551392E3*e:0)+(r(c)?6048E5*c:0)+(r(k)?864E5*k:0)+(r(m)?36E5*m:0)+(r(h)?6E4*h:0)+(r(f)?1E3*f:0)+(r(d)?d:0)+(r(a)?a:0))};MT.ma=0;MT.pa=function(a){return this.ea(E(a))};xh.aa(function(a){return vg(tg(a),1E3)},MT);var NT=new ul(function(){return new LS});
function OT(){var a=y(NT).jf();return void 0===a?null:a}
var PT="undefined"!==typeof FormData?function(a){return a instanceof FormData}:function(){return null},QT="undefined"!==typeof File?function(a){return a instanceof File}:function(){return null},RT=function(){function a(c,d){if(r(PT(d)))return new X(null,2,5,Z,[c,d],null);if(r("undefined"!==typeof FormData?XS(QT,ej(d)):!1)){var e=new FormData;d=E(d);for(var f=null,h=0,k=0;;)if(k<h){var m=f.La(null,k),n=Q(m,0,null);m=Q(m,1,null);e.append(Jg(n),m);k+=1}else if(d=E(d))Hf(d)?(h=ae(d),d=be(d),f=h,h=M(h)):
(h=J(d),f=Q(h,0,null),h=Q(h,1,null),e.append(Jg(f),h),d=K(d),f=null,h=0),k=0;else break;return new X(null,2,5,Z,[c,e],null)}return new X(null,2,5,Z,[c,b(d)],null)}var b=function(){function c(f,h){h=e.ba(h);f=SC(h)?f:[t.ba(f),"?",t.ba(h)].join("");return new X(null,2,5,Z,[f,null],null)}function d(f){if(E(f)){var h=El(f);f=Rb(h);if("undefined"==typeof f)throw Error("Keys are undefined");var k=new ac(null,void 0);h=Qb(h);for(var m=0;m<f.length;m++){var n=f[m],q=h[m];if(qa(q)){var u=k;u.remove(n);0<q.length&&
(u.Hc=null,u.xb.set(dc(u,n),Za(q)),u.count_+=q.length)}else k.add(n,q)}f=k.toString()}else f=null;return f}var e=null;e=function(f,h){switch(arguments.length){case 1:return d.call(this,f);case 2:return c.call(this,f,h)}throw Error("Invalid arity: "+arguments.length);};e.ba=d;e.aa=c;return e}();return function(c,d,e){d=d instanceof C?d.Ba:null;switch(d){case "get":return b(c,e);case "post":return a(c,e);case "put":return a(c,e);default:throw Error(["No matching clause: ",t.ba(d)].join(""));}}}();
function ST(a,b,c){var d=null!=b&&(b.ha&64||l===b.Ea)?hh(ik,b):b,e=B.ca(d,hv,ev);b=B.aa(d,uu);var f=B.aa(d,Wm),h=B.ca(d,Yn,1E4),k=B.ca(d,DB,tr),m=B.aa(d,MB),n=OT();if(r(n))try{var q=function(){var N=Su.ba(d);return r(N)?N:h}(),u=function(){var N=e instanceof C?e.Ba:null;switch(N){case "get":return"GET";case "post":return"POST";case "put":return"PUT";default:throw Error(["No matching clause: ",t.ba(N)].join(""));}}(),w=RT(a,e,b),z=Q(w,0,null),F=Q(w,1,null),H=function(){var N=RS(function(O){return Jg(O).toLowerCase()},
f);N=dT(N,B.ca(N,"x-requested-with","XMLHTTPRequest"));return El(N)}(),G=function(){var N=Ut.ba(d);return r(N)?(n.hh=!0,OR(n,"progress",function(O){var U=O.lengthComputable,ea=O.loaded,va=O.total,xa=r(r(U)?mh.aa(va,0):U)?ea/va:null;O=new p(null,5,[yB,xa,Ct,U,Lu,ea,rt,va,ZA,O],null);return N.ba?N.ba(O):N.call(null,O)})):null}();PR(n,"ready",function(){return FS(y(NT),n)});PR(n,"complete",function(N){var O=vS(n),U=uS(n),ea=mh.aa(U,-1)?function(){var ya=n.getResponseHeader("content-type"),Ta=function(){if(mh.aa(k,
tr))var ka=k;else null==ya?ka=fu:(ka=t.ba(ya).toLowerCase(),ka=mh.aa(-1,ka.indexOf("/edn"))?Pv:mh.aa(-1,ka.indexOf("/json"))?Hs:mh.aa(-1,ka.indexOf("/xml"))?mw:fu);try{var pa=ka instanceof C?ka.Ba:null;switch(pa){case "edn":return QS(xS(n));case "json":if(n.Ta){b:{var Ca=n.Ta.responseText;if(ma.JSON)try{var ua=ma.JSON.parse(Ca);break b}catch(bc){}ua=eS(Ca)}var Ba=ua}else Ba=void 0;return Ba;case "xml":try{var Ya=n.Ta?n.Ta.responseXML:null}catch(bc){Ya=null}return Ya;case "text":return xS(n);default:throw Error(["No matching clause: ",
t.ba(pa)].join(""));}}catch(bc){return new p(null,2,[Oo,ka,FA,xS(n)],null)}}();return new X(null,3,5,Z,[U,ya,Ta],null)}():null,va=Q(ea,0,null),xa=Q(ea,1,null);ea=Q(ea,2,null);r(G)&&YR(G);N=new p(null,7,[uA,N,yv,n,Fz,O,qn,va,dB,xa,vt,ea,lq,r(O)?null:r(va)?va:B.ca(tf([0,null,5,Ao,6,Gy,7,jn,8,Su]),n.ce,ny)],null);return c.ba?c.ba(N):c.call(null,N)});n.uf=Math.max(0,r(q)?q:0);r(m)&&n.setWithCredentials(!0);n.send(z,u,F,H);return n}catch(N){return a=N,FS(y(NT),n),a=new p(null,1,[lq,a],null),c.ba?c.ba(a):
c.call(null,a),null}else return a=new p(null,1,[lq,Gp],null),c.ba?c.ba(a):c.call(null,a),null}function TT(a){return r(a)?LC(encodeURIComponent(t.ba(a),a),"*","%2A"):null}function UT(a,b){Q(b,0,null);return r(a)?decodeURIComponent(t.ba(a)):null}
function VT(a){function b(c,d){return[TT(VS(c)),"\x3d",TT(function(){var e=SS(d);return r(e)?e:t.ba(d)}())].join("")}return zf(a)?"":NC("\x26",function(){return function e(d){return new Kg(null,function(){for(var f=d;;)if(f=E(f)){if(Hf(f)){var h=ae(f),k=M(h),m=Og(k);return function(){for(var w=0;;)if(w<k){var z=x(h,w),F=Q(z,0,null),H=Q(z,1,null);null!=H&&Rg(m,Cf(H)?NC("\x26",ci.aa(yh.aa(b,F),function(){var G=E(H);return G?G:new X(null,1,5,Z,[""],null)}())):b(F,H));w+=1}else return!0}()?Qg(Sg(m),e(be(f))):
Qg(Sg(m),null)}var n=J(f),q=Q(n,0,null),u=Q(n,1,null);if(null!=u)return gf(Cf(u)?NC("\x26",ci.aa(yh.aa(b,q),function(){var w=E(u);return w?w:new X(null,1,5,Z,[""],null)}())):b(q,u),e(Ee(f)));f=Ee(f)}else return null},null,null)}(a)}())}function WT(a,b,c){return R.ca(a,b,function(){var d=B.aa(a,b);return r(d)?Gf(d)?of.aa(d,c):new X(null,2,5,Z,[d,c],null):c}())}
function XT(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new I(b.slice(1),0,null):null;return YT(arguments[0],b)}function YT(a,b){var c=Q(b,0,null),d=Q(b,1,null);if(SC(a)||!mh.aa(-1,a.indexOf("\x3d")))return W;a=0===a.indexOf("?")?zg.aa(a,1):a;a=v.ca(function(e,f){var h=RC(f,/=/,2);return r(h)?(f=Q(h,0,null),h=Q(h,1,null),WT(e,UT(f,P([d])),UT(h,P([d])))):e},W,QC(a,/&/));return r(c)?RS(Ig,a):a}
function ZT(a,b){var c=RC(t.ba(a),/\?/,2);a=Q(c,0,null);c=Q(c,1,null);b=nT(P([r(c)?RS(Ig,XT(c)):null,RS(Ig,b)]));b=VT(b);b="string"===typeof b?SC(b)?null:b:null;return r(b)?[t.ba(a),"?",b].join(""):a}function $T(){return!0}function aU(){return!1}function bU(a){return mh.aa(-1,a.indexOf("*"))?Sk(LC(LC(["^",t.ba(a),"$"].join(""),".","\\."),"*","(.*)")):null}
function cU(a,b){for(;;){if(r(function(){var n=new rk(null,new p(null,2,["*",null,ss,null],null),null);return n.ba?n.ba(a):n.call(null,a)}()))return $T;if(r(function(){var n=Qf([pf,tk,rq]);return n.ba?n.ba(a):n.call(null,a)}()))return aU;if(a instanceof RegExp)return function(n){return function(q){return Ok(n,q)}}(a,b,$T,aU,bU);if("string"===typeof a){var c=bU(a);if(r(c)){var d=b;a=c;b=d}else return function(n){return function(q){return D.aa(q,n)}}(a,b,c,$T,aU,bU)}else if(Gf(a)||Bf(a)){if(r(function(){var n=
uk(a);return n.ba?n.ba("*"):n.call(null,"*")}()))return $T;if(D.aa(M(a),1))c=J(a),d=b,a=c,b=d;else{var e=v.ca(function(n,q,u,w,z){return function(F,H){var G=Q(F,0,null);F=Q(F,1,null);var N=H instanceof RegExp?H:z(H);return r(N)?new X(null,2,5,Z,[G,of.aa(F,N)],null):new X(null,2,5,Z,[of.aa(G,H),F],null)}}(a,b,$T,aU,bU),new X(null,2,5,Z,[tk,pf],null),a),f=Q(e,0,null),h=Q(e,1,null),k=nh(f),m=function(){var n=nh(h);return r(n)?(n=function(q,u,w,z,F,H,G,N,O,U,ea){return function(va){return XS(function(){return function(xa){return Ok(xa,
va)}}(q,u,w,z,F,H,G,N,O,U,ea),w)}}(a,b,n,n,e,f,h,k,$T,aU,bU),r(b)?Kl(n):n):null}();if(r(function(){var n=k;return r(n)?m:n}()))return function(n,q,u,w,z,F,H){return function(G){var N=F.ba?F.ba(G):F.call(null,G);return r(N)?N:H.ba?H.ba(G):H.call(null,G)}}(a,b,e,f,h,k,m,$T,aU,bU);if(r(k))return k;if(r(m))return m;throw gm("No matching `encore/cond!` clause",W);}}else throw gm("Unexpected compile spec type",new p(null,2,[cw,a,qq,Cc(a)],null));}}
function dU(a){for(;;){if(Ef(a)){var b=B.aa(a,Ds),c=function(){var h=B.aa(a,kn);return r(h)?h:B.aa(a,BC)}(),d=function(){var h=B.aa(a,Tq);return r(h)?h:B.aa(a,ho)}(),e=function(){var h=c;return r(h)?cU(h,b):null}(),f=function(){var h=d;return r(h)?cU(h,b):null}();if(D.aa(f,$T)||D.aa(e,aU))return aU;if(r(function(){var h=e;return r(h)?f:h}()))return function(h,k,m,n,q,u){return function(w){w=t.ba(w);return r(q.ba?q.ba(w):q.call(null,w))?r(u.ba?u.ba(w):u.call(null,w))?!1:!0:!1}}(a,b,c,d,e,f,$T,aU,bU,
cU);if(r(e))return D.aa(e,$T)?$T:function(h,k,m,n,q){return function(u){u=t.ba(u);u=q.ba?q.ba(u):q.call(null,u);return r(u)?!0:!1}}(a,b,c,d,e,f,$T,aU,bU,cU);if(r(f))return D.aa(f,aU)?$T:function(h,k,m,n,q,u){return function(w){w=t.ba(w);w=u.ba?u.ba(w):u.call(null,w);return r(w)?!0:!1}}(a,b,c,d,e,f,$T,aU,bU,cU);throw gm("compile-str-filter: `allow-spec` and `deny-spec` cannot both be nil",new p(null,2,[Is,c,Kn,d],null));}a=new p(null,2,[kn,a,Tq,null],null)}}xh.aa(nh,fT);xh.aa(nh,gT);xh.aa(TS,HT);
xh.aa(TS,IT);function eU(a){return Of(Qf([null,pf,tk]),a)}var fU=function fU(a){switch(arguments.length){case 1:return fU.ba(arguments[0]);case 2:return fU.aa(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.ba(arguments.length)].join(""));}};fU.ba=function(a){return fU.aa(a,null)};fU.aa=function(a,b){return eU(a)&&eU(b)?function(){return!0}:dU(new p(null,2,[kn,a,Tq,b],null))};fU.ma=2;function gU(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new I(b.slice(0),0,null):null;return hU(b)}
function hU(a){Q(a,0,null);return new p(null,6,[zx,!0,Hq,!1,hB,null,yr,null,kt,UA,IA,"undefined"!==typeof console?function(){function b(c){var d=function(){var e=c instanceof C?c.Ba:null;switch(e){case "trace":return console.trace;case "debug":return console.debug;case "info":return console.info;case "warn":return console.warn;case "error":return console.error;case "fatal":return console.error;case "report":return console.info;default:throw Error(["No matching clause: ",t.ba(e)].join(""));}}();return r(d)?
d:console.log}return function(c){var d=b(wm.ba(c));if(r(d)){if(r(function(){var h=xo.ba(c);return r(h)?h:fi(c,new X(null,2,5,Z,[Vz,xo],null))}())){var e=function(){var h=R.ea(c,WA,"",P([hq,null])),k=kt.ba(c);return k.ba?k.ba(h):k.call(null,h)}(),f=function(){var h=Yz.ba(c),k=hq.ba(c);return r(k)?gf(e,gf(k,h)):gf(e,h)}();return d.apply(console,Jc(f))}return d.call(console,yl($B.ba(c)))}return null}}():function(){return null}],null)};Gf(PS)?bT(new X(null,3,5,Z,[2,87,0],null)):bT(2.87);var iU=function iU(a){switch(arguments.length){case 1:return iU.ba(arguments[0]);case 2:return iU.aa(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.ba(arguments.length)].join(""));}};iU.ba=function(a){return iU.aa(null,a)};
iU.aa=function(a,b){var c=null!=a&&(a.ha&64||l===a.Ea)?hh(ik,a):a,d=B.aa(c,Kq);B.aa(c,cA);var e=null!=b&&(b.ha&64||l===b.Ea)?hh(ik,b):b;b=B.aa(e,wm);c=B.aa(e,hq);var f=B.aa(e,WA),h=B.aa(e,Fr),k=B.aa(e,Ny);B.aa(e,Cv);B.aa(e,EA);e=B.aa(e,Sv);return[Jg(b).toUpperCase()," [",t.ba(r(h)?h:r(k)?k:"?"),":",t.ba(r(e)?e:"?"),"] - ",t.ba(yl(f)),r(d)?null:r(c)?["\n",t.ba(jU?jU(c,a):kU.call(null,c,a))].join(""):null].join("")};iU.ma=2;
var lU=new p(null,6,[wm,Ix,An,pf,fq,pf,sx,pf,kt,iU,Wx,new p(null,1,[$A,gU.ba?gU.ba(W):gU.call(null,W)],null)],null),mU=uk(new X(null,7,5,Z,[Vw,Ix,jt,dA,Fp,wr,wn],null)),nU=xk(new X(null,7,5,Z,[Vw,Ix,jt,dA,Fp,wr,wn],null),K(Gk.ja()));function oU(a){var b=mU.ba?mU.ba(a):mU.call(null,a);if(r(b))return b;throw gm("Invalid Timbre logging level",new p(null,1,[cw,a],null));}
function pU(a,b){return function(){var c=oU(a);return nU.ba?nU.ba(c):nU.call(null,c)}()>=function(){var c=oU(b);return nU.ba?nU.ba(c):nU.call(null,c)}()}var qU=yT(fU),rU=yT(function(a,b,c){a=qU(a,b);return a.ba?a.ba(c):a.call(null,c)});function sU(a){var b=B.ca(lU,wm,wn);return pU(a,b)&&Lf(rU(B.aa(lU,An),B.aa(lU,fq),ja))&&!0}function tU(a){return GT(Mh.ba(function(b){b=JT(b);return Ff(b)?hl.ea(P([b])):b}),a)}var uU=yT(function(a,b){a=DT(b);Q(a,0,null);return Q(a,1,null)});
function vU(a){return 1<M(a)?Ni(a,1,M(a)):pf}function wU(a){var b=T.aa?T.aa(tr,tr):T.call(null,tr,tr),c=T.aa?T.aa(Uw,Uw):T.call(null,Uw,Uw),d=Q(a,0,null);if(r(r(b)?d instanceof Error:b)){b=d;d=null;var e=vU(a);a=r(c)?Q(e,0,null):null;c=r(c)?vU(e):e;return new X(null,4,5,Z,[b,d,a,c],null)}d=r(Ef(d)?sc.ba(xf(d)):!1)?d:null;e=lr.ba(d);b=r(e)?e:r(b)?null:tr;d=S.aa(d,lr);e=r(d)?vU(a):a;a=r(c)?Q(e,0,null):null;c=r(c)?vU(e):e;return new X(null,4,5,Z,[b,d,a,c],null)}
function xU(a,b,c,d){if(sU(a)){var e=new Date;c=y(c);c=wU(c);var f=Q(c,0,null),h=Q(c,1,null),k=Q(c,2,null);c=Q(c,3,null);e=of.aa(r(null)?null:W,Pj([$r,eC,Yz,Ny,Iu,Fr,wm,hq,rA,Sv,zm,Vz,Iv],[e,lU,c,null,function(){var u=new rk(null,new p(null,2,[wr,null,Fp,null],null),null);return u.ba?u.ba(a):u.call(null,a)}(),ja,a,f,null,b,new ul(function(){return f}),h,k]));e=v.ca(function(u,w){u=w.ba?w.ba(u):w.call(null,u);return null==u?Pe(null):u},e,sx.ba(lU));if(r(e)){c=null!=e&&(e.ha&64||l===e.Ea)?hh(ik,e):
e;var m=B.aa(c,Yz);e=R.ca(e,so,new ul(function(){return m}));var n=eT.ea(e,WA,new ul(function(){if(D.aa(null,Uw))return"";if(D.aa(hx,Uw))return tU(m);if(D.aa(Uw,Uw)){if("string"!==typeof k)throw gm("Timbre format-style logging call without a format pattern (string)",new p(null,2,[wm,a,lw,[t.ba(r(ja)?ja:r(null)?null:"?"),":",t.ba(r(b)?b:"?")].join("")],null));var u=r(k)?k:"",w=ci.aa(JT,m);return ih(uR,u,w)}throw Error(["No matching clause: ",t.ba(Uw)].join(""));}),P([Fy,new ul(function(){return te(new X(null,
3,5,Z,[d,k,B.ca(h,bB,m)],null))})])),q=yT(B.ca(lU,kt,iU));bg(function(u,w,z){if(r(function(){var O=zx.ba(z);r(O)&&(O=hB.ba(z),O=pU(a,r(O)?O:Vw));return O}())&&r(rU(An.ba(z),fq.ba(z),ja))){var F=yr.ba(z);if(function(){var O=zf(F);if(O)return O;O=uU(w,F);var U=yl(Fy.ba(n));O=O.ba?O.ba(U):O.call(null,U);return zc(O)}()){var H=null!=z&&(z.ha&64||l===z.Ea)?hh(ik,z):z;u=B.aa(H,IA);B.aa(H,Hq);var G=function(){var O=kt.ba(z);var U=(U=null==O)?U:T.aa?T.aa(O,UA):T.call(null,O,UA);return r(U)?q:O}(),N=of.aa(n,
new p(null,4,[Wn,w,gA,z,kt,G,$B,new ul(function(){return G.ba?G.ba(n):G.call(null,n)})],null));H=function(){var O=Bm.ba(z);return r(O)?O.ba?O.ba(N):O.call(null,N):N}();return r(H)?u.ba?u.ba(H):u.call(null,H):null}}return null},null,Wx.ba(lU))}}return null}function kU(a){switch(arguments.length){case 1:return jU(arguments[0],null);case 2:return jU(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.ba(arguments.length)].join(""));}}function jU(a){return t.ba(a)};function yU(a,b){if(null!=a&&null!=a.qh)a=a.qh(a,b);else{var c=yU[oa(null==a?null:a)];if(null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else if(c=yU._,null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else throw Dc("IPacker.pack",a);}return a}function zU(a,b){if(null!=a&&null!=a.rh)a=a.rh(a,b);else{var c=zU[oa(null==a?null:a)];if(null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else if(c=zU._,null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else throw Dc("IPacker.unpack",a);}return a};Gf(PS)?bT(new X(null,3,5,Z,[2,105,0],null)):bT(2.105);var AU=D.aa("default","nodejs"),BU=Dh(!1);function CU(a,b){return new p(null,2,[km,a,Ip,new p(null,2,[qq,Cc(b),vx,b],null)],null)}
function DU(a){if(Gf(a)){var b=M(a);var c=new rk(null,new p(null,2,[1,null,2,null],null),null);b=c.ba?c.ba(b):c.call(null,b);if(zc(b))return new p(null,1,[ww,CU(new rk(null,new p(null,2,[1,null,2,null],null),null),a)],null);b=Q(a,0,null);Q(a,1,null);return b instanceof C?zc(Gg(b))?new p(null,1,[Gt,CU(Ar,b)],null):null:new p(null,1,[ep,CU(AC,b)],null)}return new p(null,1,[Mx,CU(Jx,a)],null)}function EU(a){var b=DU(a);if(r(b))throw gm("Invalid event",new p(null,2,[cw,a,EC,b],null));}
function FU(a,b){var c=0===b.indexOf("+"),d=zg.aa(b,1),e=function(){try{return zU(a,d)}catch(m){var k=m;xU(Ix,215,new ul(function(){return new X(null,3,5,Z,["Bad package: %s (%s)",d,k],null)}),-1037732976);return new X(null,2,5,Z,[By,d],null)}}();c=c?e:new X(null,2,5,Z,[e,null],null);var f=Q(c,0,null);c=Q(c,1,null);var h=D.aa(0,c)?$w:c;xU(Vw,221,new ul(function(){return new X(null,3,5,Z,["Unpacking: %s -\x3e %s",b,new X(null,2,5,Z,[f,h],null)],null)}),1568952141);return new X(null,2,5,Z,[f,h],null)}
function GU(a,b,c){c=D.aa(c,$w)?0:c;var d=r(c)?new X(null,2,5,Z,[b,c],null):new X(null,1,5,Z,[b],null),e=["+",t.ba(yU(a,d))].join("");xU(Vw,237,new ul(function(){return new X(null,3,5,Z,["Packing (wrapped): %s -\x3e %s",d,e],null)}),-1735795820);return e}function HU(){}HU.prototype.qh=function(a,b){a:{a=oc;var c=nc;nc=oc=null;try{var d=hl.ea(P([b]));break a}finally{nc=c,oc=a}d=void 0}return d};HU.prototype.rh=function(a,b){return QS(b)};var IU=new HU;function JU(a){return D.aa(a,Pv)?IU:a}YS.ja&&YS.ja();
function KU(a){if(null!=a&&null!=a.ge)a=a.ge(a);else{var b=KU[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=KU._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("IChSocket.-chsk-connect!",a);}return a}function LU(a,b){if(null!=a&&null!=a.tf)a=a.tf(a,b);else{var c=LU[oa(null==a?null:a)];if(null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else if(c=LU._,null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else throw Dc("IChSocket.-chsk-disconnect!",a);}return a}
function MU(a,b,c){if(null!=a&&null!=a.Ne)a=a.Ne(a,b,c);else{var d=MU[oa(null==a?null:a)];if(null!=d)a=d.ca?d.ca(a,b,c):d.call(null,a,b,c);else if(d=MU._,null!=d)a=d.ca?d.ca(a,b,c):d.call(null,a,b,c);else throw Dc("IChSocket.-chsk-send!",a);}return a}
var NU=function NU(a){switch(arguments.length){case 2:return NU.aa(arguments[0],arguments[1]);case 4:return NU.ka(arguments[0],arguments[1],arguments[2],arguments[3]);case 3:return NU.ca(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.ba(arguments.length)].join(""));}};NU.aa=function(a,b){return NU.ca(a,b,W)};NU.ka=function(a,b,c,d){return NU.ca(a,b,new p(null,2,[Yn,c,IB,d],null))};
NU.ca=function(a,b,c){xU(Vw,877,new ul(function(){return new X(null,3,5,Z,["Chsk send: (%s) %s",R.ca(c,IB,Lf(IB.ba(c))),b],null)}),683411028);return MU(a,b,c)};NU.ma=4;function OU(a){xU(dA,881,new ul(function(){return new X(null,1,5,Z,["Chsk send against closed chsk."],null)}),89549079);r(a)&&(a.ba?a.ba(rC):a.call(null,rC));return!1}function PU(a,b){return r(b)?uT(a,new X(null,1,5,Z,[b],null),function(c){return new oT(JB,c)}):null}
function QU(a,b){var c=tT(zz.ba(a),function(e){var f=b.ba?b.ba(e):b.call(null,e);f=r(Wo.ba(e))?R.ca(f,Wo,!1):f;f=r(Uy.ba(f))?S.aa(f,iw):f;return new oT(f,new X(null,2,5,Z,[e,f],null))}),d=Q(c,0,null);c=Q(c,1,null);return mh.aa(d,c)?(d=new X(null,2,5,Z,[d,c],null),lR(fi(a,new X(null,2,5,Z,[Gx,jo],null)),new X(null,2,5,Z,[ps,d],null)),d):null}function RU(a,b){var c=Uy.ba(a);c=r(c)?c:mh.aa(b,Bs);return r(c)?R.ea(S.aa(a,iw),Uy,!1,P([fx,new p(null,2,[Tn,xT(),bC,b],null)])):a}
function SU(a,b){if(null==a||Mf(a))return a;EU(b);var c=Q(b,0,null);Q(b,1,null);return function(d){return lR(a,new X(null,2,5,Z,[Ig.ba([VS(c),".cb"].join("")),d],null))}}
function TU(a,b){xU(Vw,955,new ul(function(){return new X(null,2,5,Z,["receive-buffered-evs!: %s",b],null)}),-45050428);for(var c=E(b),d=null,e=0,f=0;;)if(f<e){var h=d.La(null,f);EU(h);Q(h,0,null);lR(qr.ba(a),h);f+=1}else if(c=E(c))d=c,Hf(d)?(c=ae(d),e=be(d),d=c,h=M(c),c=e,e=h):(h=J(d),EU(h),Q(h,0,null),lR(qr.ba(a),h),c=K(d),d=null,e=0),f=0;else return null}function UU(a){return Gf(a)?(a=Q(a,0,null),D.aa(a,LB)):!1}
function VU(a,b,c){xU(Vw,970,new ul(function(){return new X(null,3,5,Z,["receive-handshake! (%s): %s",a,c],null)}),1363644940);Q(c,0,null);var d=Q(c,1,null),e=Q(d,0,null);Q(d,1,null);var f=Q(d,2,null),h=null!=b&&(b.ha&64||l===b.Ea)?hh(ik,b):b;d=B.aa(h,Gx);h=B.aa(h,uz);h=Gh(h);var k=new p(null,6,[qq,a,Uy,!0,Lt,!0,mp,e,Op,f,Wo,h],null);e=new X(null,2,5,Z,[LB,new X(null,4,5,Z,[e,null,f,h],null)],null);EU(e);QU(b,function(m){return mk.ea(P([m,k]))});lR(ds.ba(d),e)}
var WU=function(){var a="undefined"!==typeof require?require:wh(Ks);return new ul(function(){if(AU&&"undefined"!==typeof require)try{var b=[t.ba("web"),"socket"].join("");return a.ba?a.ba(b):a.call(null,b)}catch(c){return null}else return null})}();
function XU(a){a=null!=a&&(a.ha&64||l===a.Ea)?hh(ik,a):a;B.aa(a,xv);B.aa(a,kq);B.aa(a,hC);B.aa(a,Pr);B.aa(a,Wm);var b=null!=a&&(a.ha&64||l===a.Ea)?hh(ik,a):a;a=B.aa(b,xv);var c=B.aa(b,kq),d=B.aa(b,hC),e=B.aa(b,Pr);B.aa(b,Wm);b=cT(ma,"WebSocket");r(b)||(b=cT(ma,"MozWebSocket"),b=r(b)?b:cT(y(WU),"w3cwebsocket"));r(b)?(e=new b(e),e.onerror=a,e.onmessage=c,e.onclose=d,a=e):a=null;return a}
function YU(a,b,c,d,e,f,h,k,m,n,q,u,w,z,F,H,G,N){this.Sa=a;this.Ra=b;this.params=c;this.headers=d;this.Qa=e;this.url=f;this.wb=h;this.state_=k;this.Oa=m;this.qb=n;this.Ua=q;this.Pa=u;this.lb=w;this.nb=z;this.ob=F;this.fa=H;this.da=G;this.ga=N;this.ha=2230716170;this.na=139264}g=YU.prototype;g.Aa=function(a,b){return this.la(null,b,null)};
g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "client-id":return this.Sa;case "chs":return this.Ra;case "params":return this.params;case "headers":return this.headers;case "packer":return this.Qa;case "url":return this.url;case "ws-kalive-ms":return this.wb;case "state_":return this.state_;case "instance-handle_":return this.Oa;case "retry-count_":return this.qb;case "ever-opened?_":return this.Ua;case "backoff-ms-fn":return this.Pa;case "cbs-waiting_":return this.lb;case "socket_":return this.nb;
case "udt-last-comms_":return this.ob;default:return B.ca(this.da,b,c)}};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};
g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#taoensso.sente.ChWebSocket{",", ","}",c,V.aa(new X(null,15,5,Z,[new X(null,2,5,Z,[Yt,this.Sa],null),new X(null,2,5,Z,[Gx,this.Ra],null),new X(null,2,5,Z,[uu,this.params],null),new X(null,2,5,Z,[Wm,this.headers],null),new X(null,2,5,Z,[Dz,this.Qa],null),new X(null,2,5,Z,[hz,this.url],null),new X(null,2,5,Z,[cy,this.wb],null),new X(null,2,5,Z,[zz,this.state_],null),new X(null,2,5,Z,[Rr,this.Oa],null),new X(null,2,5,Z,[yu,
this.qb],null),new X(null,2,5,Z,[uz,this.Ua],null),new X(null,2,5,Z,[qA,this.Pa],null),new X(null,2,5,Z,[Cy,this.lb],null),new X(null,2,5,Z,[GA,this.nb],null),new X(null,2,5,Z,[ju,this.ob],null)],null),this.da))};g.Ca=function(){return new Yi(this,15,new X(null,15,5,Z,[Yt,Gx,uu,Wm,Dz,hz,cy,zz,Rr,yu,uz,qA,Cy,GA,ju],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 15+M(this.da)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=1998688700^Le(this)};
g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.Sa,b.Sa)&&D.aa(this.Ra,b.Ra)&&D.aa(this.params,b.params)&&D.aa(this.headers,b.headers)&&D.aa(this.Qa,b.Qa)&&D.aa(this.url,b.url)&&D.aa(this.wb,b.wb)&&D.aa(this.state_,b.state_)&&D.aa(this.Oa,b.Oa)&&D.aa(this.qb,b.qb)&&D.aa(this.Ua,b.Ua)&&D.aa(this.Pa,b.Pa)&&D.aa(this.lb,b.lb)&&D.aa(this.nb,b.nb)&&D.aa(this.ob,b.ob)&&D.aa(this.da,b.da)};
g.Ka=function(a,b){return Of(new rk(null,new p(null,15,[cy,null,uz,null,Yt,null,Dz,null,Gx,null,ju,null,uu,null,yu,null,Wm,null,qA,null,GA,null,hz,null,Rr,null,Cy,null,zz,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new YU(this.Sa,this.Ra,this.params,this.headers,this.Qa,this.url,this.wb,this.state_,this.Oa,this.qb,this.Ua,this.Pa,this.lb,this.nb,this.ob,this.fa,nh(S.aa(this.da,b)),null)};
g.ra=function(a,b,c){return r(T.aa?T.aa(Yt,b):T.call(null,Yt,b))?new YU(c,this.Ra,this.params,this.headers,this.Qa,this.url,this.wb,this.state_,this.Oa,this.qb,this.Ua,this.Pa,this.lb,this.nb,this.ob,this.fa,this.da,null):r(T.aa?T.aa(Gx,b):T.call(null,Gx,b))?new YU(this.Sa,c,this.params,this.headers,this.Qa,this.url,this.wb,this.state_,this.Oa,this.qb,this.Ua,this.Pa,this.lb,this.nb,this.ob,this.fa,this.da,null):r(T.aa?T.aa(uu,b):T.call(null,uu,b))?new YU(this.Sa,this.Ra,c,this.headers,this.Qa,this.url,
this.wb,this.state_,this.Oa,this.qb,this.Ua,this.Pa,this.lb,this.nb,this.ob,this.fa,this.da,null):r(T.aa?T.aa(Wm,b):T.call(null,Wm,b))?new YU(this.Sa,this.Ra,this.params,c,this.Qa,this.url,this.wb,this.state_,this.Oa,this.qb,this.Ua,this.Pa,this.lb,this.nb,this.ob,this.fa,this.da,null):r(T.aa?T.aa(Dz,b):T.call(null,Dz,b))?new YU(this.Sa,this.Ra,this.params,this.headers,c,this.url,this.wb,this.state_,this.Oa,this.qb,this.Ua,this.Pa,this.lb,this.nb,this.ob,this.fa,this.da,null):r(T.aa?T.aa(hz,b):T.call(null,
hz,b))?new YU(this.Sa,this.Ra,this.params,this.headers,this.Qa,c,this.wb,this.state_,this.Oa,this.qb,this.Ua,this.Pa,this.lb,this.nb,this.ob,this.fa,this.da,null):r(T.aa?T.aa(cy,b):T.call(null,cy,b))?new YU(this.Sa,this.Ra,this.params,this.headers,this.Qa,this.url,c,this.state_,this.Oa,this.qb,this.Ua,this.Pa,this.lb,this.nb,this.ob,this.fa,this.da,null):r(T.aa?T.aa(zz,b):T.call(null,zz,b))?new YU(this.Sa,this.Ra,this.params,this.headers,this.Qa,this.url,this.wb,c,this.Oa,this.qb,this.Ua,this.Pa,
this.lb,this.nb,this.ob,this.fa,this.da,null):r(T.aa?T.aa(Rr,b):T.call(null,Rr,b))?new YU(this.Sa,this.Ra,this.params,this.headers,this.Qa,this.url,this.wb,this.state_,c,this.qb,this.Ua,this.Pa,this.lb,this.nb,this.ob,this.fa,this.da,null):r(T.aa?T.aa(yu,b):T.call(null,yu,b))?new YU(this.Sa,this.Ra,this.params,this.headers,this.Qa,this.url,this.wb,this.state_,this.Oa,c,this.Ua,this.Pa,this.lb,this.nb,this.ob,this.fa,this.da,null):r(T.aa?T.aa(uz,b):T.call(null,uz,b))?new YU(this.Sa,this.Ra,this.params,
this.headers,this.Qa,this.url,this.wb,this.state_,this.Oa,this.qb,c,this.Pa,this.lb,this.nb,this.ob,this.fa,this.da,null):r(T.aa?T.aa(qA,b):T.call(null,qA,b))?new YU(this.Sa,this.Ra,this.params,this.headers,this.Qa,this.url,this.wb,this.state_,this.Oa,this.qb,this.Ua,c,this.lb,this.nb,this.ob,this.fa,this.da,null):r(T.aa?T.aa(Cy,b):T.call(null,Cy,b))?new YU(this.Sa,this.Ra,this.params,this.headers,this.Qa,this.url,this.wb,this.state_,this.Oa,this.qb,this.Ua,this.Pa,c,this.nb,this.ob,this.fa,this.da,
null):r(T.aa?T.aa(GA,b):T.call(null,GA,b))?new YU(this.Sa,this.Ra,this.params,this.headers,this.Qa,this.url,this.wb,this.state_,this.Oa,this.qb,this.Ua,this.Pa,this.lb,c,this.ob,this.fa,this.da,null):r(T.aa?T.aa(ju,b):T.call(null,ju,b))?new YU(this.Sa,this.Ra,this.params,this.headers,this.Qa,this.url,this.wb,this.state_,this.Oa,this.qb,this.Ua,this.Pa,this.lb,this.nb,c,this.fa,this.da,null):new YU(this.Sa,this.Ra,this.params,this.headers,this.Qa,this.url,this.wb,this.state_,this.Oa,this.qb,this.Ua,
this.Pa,this.lb,this.nb,this.ob,this.fa,R.ca(this.da,b,c),null)};g.va=function(){return E(V.aa(new X(null,15,5,Z,[new Y(Yt,this.Sa),new Y(Gx,this.Ra),new Y(uu,this.params),new Y(Wm,this.headers),new Y(Dz,this.Qa),new Y(hz,this.url),new Y(cy,this.wb),new Y(zz,this.state_),new Y(Rr,this.Oa),new Y(yu,this.qb),new Y(uz,this.Ua),new Y(qA,this.Pa),new Y(Cy,this.lb),new Y(GA,this.nb),new Y(ju,this.ob)],null),this.da))};
g.ta=function(a,b){return new YU(this.Sa,this.Ra,this.params,this.headers,this.Qa,this.url,this.wb,this.state_,this.Oa,this.qb,this.Ua,this.Pa,this.lb,this.nb,this.ob,b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};g.tf=function(a,b){Eh(this.Oa,null);QU(this,function(c){return RU(c,b)});a=y(this.nb);return r(a)?a.close(1E3,"CLOSE_NORMAL"):null};
g.Ne=function(a,b,c){var d=this;a=null!=c&&(c.ha&64||l===c.Ea)?hh(ik,c):c;var e=B.aa(a,Yn);c=B.aa(a,IB);B.aa(a,vp);EU(b);var f=SU(c,b);if(zc(Uy.ba(y(d.state_))))return OU(f);var h=r(f)?IT.ca(LT(),0,6):null;b=GU(d.Qa,b,h);if(r(h)&&(wT(d.lb,new X(null,1,5,Z,[h],null),f),r(e))){var k=jR(1,null);KQ(function(){var n=function(){function u(w){var z=w[1];if(1===z)return z=aR(e),fR(w,2,z);if(2===z){z=w[2];var F=PU(d.lb,h);w[8]=z;w[7]=F;w[1]=r(F)?3:4;return Gn}return 3===z?(z=w[7],z=z.ba?z.ba(Mn):z.call(null,
Mn),w[2]=z,w[1]=5,Gn):4===z?(w[2]=null,w[1]=5,Gn):5===z?hR(w,w[2]):null}return function(){function w(H){for(;;){a:try{for(;;){var G=u(H);if(!T(G,Gn)){var N=G;break a}}}catch(O){N=O;H[2]=N;if(E(H[4]))H[1]=J(H[4]);else throw N;N=Gn}if(!T(N,Gn))return N}}function z(){var H=[null,null,null,null,null,null,null,null,null];H[0]=F;H[1]=1;return H}var F=null;F=function(H){switch(arguments.length){case 0:return z.call(this);case 1:return w.call(this,H)}throw Error("Invalid arity: "+arguments.length);};F.ja=
z;F.ba=w;return F}()}(),q=function(){var u=n();u[6]=k;return u}();return eR(q)})}try{return y(d.nb).send(b),Eh(d.ob,xT()),om}catch(n){var m=n;xU(Fp,1128,new ul(function(){return new X(null,2,5,Z,[m,"Chsk send error"],null)}),326322504);r(h)&&(b=function(){var q=PU(d.lb,h);return r(q)?q:f}(),b.ba?b.ba(sm):b.call(null,sm));return!1}};
g.ge=function(){function a(){return D.aa(y(b.Oa),d)}var b=this,c=this,d=Eh(b.Oa,LT()),e=b.wb;if(r(e)){var f=jR(1,null);KQ(function(){var h=function(){function m(n){var q=n[1];if(7===q)return n[2]=n[2],n[1]=3,Gn;if(1===q)return n[2]=null,n[1]=2,Gn;if(4===q){q=n[2];var u=a();n[7]=q;n[1]=u?5:6;return Gn}return 6===q?(n[2]=null,n[1]=7,Gn):3===q?hR(n,n[2]):2===q?(q=y(b.ob),u=aR(e),n[8]=q,fR(n,4,u)):9===q?(n[2]=null,n[1]=10,Gn):5===q?(q=n[8],u=y(b.ob),q=D.aa(q,u),n[1]=q?8:9,Gn):10===q?(n[9]=n[2],n[2]=null,
n[1]=2,Gn):8===q?(q=new X(null,1,5,Z,[Xo],null),u=Pj([vp],[!0]),q=c.Ne(null,q,u),n[2]=q,n[1]=10,Gn):null}return function(){function n(w){for(;;){a:try{for(;;){var z=m(w);if(!T(z,Gn)){var F=z;break a}}}catch(H){F=H;w[2]=F;if(E(w[4]))w[1]=J(w[4]);else throw F;F=Gn}if(!T(F,Gn))return F}}function q(){var w=[null,null,null,null,null,null,null,null,null,null];w[0]=u;w[1]=1;return w}var u=null;u=function(w){switch(arguments.length){case 0:return q.call(this);case 1:return n.call(this,w)}throw Error("Invalid arity: "+
arguments.length);};u.ja=q;u.ba=n;return u}()}(),k=function(){var m=h();m[6]=f;return m}();return eR(k)})}Eh(b.qb,0);(function k(){if(a()){var m=function(){if(a()){var F=Fh.aa(b.qb,Ne),H=b.Pa.ba?b.Pa.ba(F):b.Pa.call(null,F),G=xT()+H;xU(dA,1147,new ul(function(){return new X(null,3,5,Z,["Chsk is closed: will try reconnect attempt (%s) in %s ms",F,H],null)}),-1018952170);ma.setTimeout(k,H);return QU(c,function(N){return R.ca(N,iw,G)})}return null},n=function(F){xU(Fp,1160,new ul(function(){var H=Z;
try{var G=Il(F)}catch(N){G=F}return new X(null,2,5,H,["WebSocket error: %s",G],null)}),1887953783);return QU(c,function(H){return R.ca(H,gs,new p(null,2,[Tn,xT(),ZA,F],null))})},q=function(F){F=cT(F,"data");F=FU(b.Qa,F);var H=Q(F,0,null);F=Q(F,1,null);Eh(b.ob,xT());if(UU(H)){VU(Eq,c,H);Eh(b.qb,0);var G=Ep}else G=null;if(r(G))return G;D.aa(H,Xo)?(lR(qr.ba(b.Ra),new X(null,1,5,Z,[Xo],null)),G=Lp):G=null;return r(G)?G:r(F)?(F=PU(b.lb,F),r(F)?F.ba?F.ba(H):F.call(null,H):xU(dA,1204,new ul(function(){return new X(null,
2,5,Z,["Cb reply w/o local cb-fn: %s",H],null)}),-685908237)):TU(b.Ra,H)},u=function(F){var H=new p(null,5,[Tn,xT(),ZA,F,Qo,cT(F,"wasClean"),Lq,cT(F,"code"),bC,cT(F,"reason")],null);if(r(Qo.ba(H)))return xU(Ix,1230,new ul(function(){return new X(null,1,5,Z,["Clean WebSocket close, will not attempt reconnect"],null)}),-983441997),QU(c,function(G){return R.ca(G,ez,H)});QU(c,function(G){return R.ca(RU(G,Bs),ez,H)});return m()},w=function(){try{return XU(new p(null,5,[xv,n,kq,q,hC,u,Wm,b.headers,Pr,ZT(b.url,
mk.ea(P([b.params,new p(null,2,[Yt,b.Sa,ms,ms.ba(y(b.state_))],null)])))],null))}catch(H){var F=H;xU(Fp,1253,new ul(function(){return new X(null,2,5,Z,[F,"WebSocket error"],null)}),-1417062494);return null}}();if(zc(w))return m();var z=y(b.nb);r(z)&&z.close();return Eh(b.nb,w)}return null})();return c};
function ZU(a,b){a=mk.ea(P([new p(null,7,[zz,Dh(new p(null,4,[qq,Eq,Uy,!1,Lt,!1,ms,b],null)),Rr,Dh(null),yu,Dh(0),uz,Dh(!1),Cy,Dh(W),GA,Dh(null),ju,Dh(null)],null),a]));b=S.ea(a,Yt,P([Gx,uu,Wm,Dz,hz,cy,zz,Rr,yu,uz,qA,Cy,GA,ju]));b=Ff(a)?bi.aa(W,b):b;return new YU(Yt.ba(a),Gx.ba(a),uu.ba(a),Wm.ba(a),Dz.ba(a),hz.ba(a),cy.ba(a),zz.ba(a),Rr.ba(a),yu.ba(a),uz.ba(a),qA.ba(a),Cy.ba(a),GA.ba(a),ju.ba(a),null,nh(b),null)}var $U=MT.ea(P([ys,60]));
function aV(a,b,c,d,e,f,h,k,m,n,q,u,w,z){this.Sa=a;this.Ra=b;this.params=c;this.Qa=d;this.url=e;this.state_=f;this.Oa=h;this.Ua=k;this.Pa=m;this.sb=n;this.zb=q;this.fa=u;this.da=w;this.ga=z;this.ha=2230716170;this.na=139264}g=aV.prototype;g.Aa=function(a,b){return this.la(null,b,null)};
g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "client-id":return this.Sa;case "chs":return this.Ra;case "params":return this.params;case "packer":return this.Qa;case "url":return this.url;case "state_":return this.state_;case "instance-handle_":return this.Oa;case "ever-opened?_":return this.Ua;case "backoff-ms-fn":return this.Pa;case "ajax-opts":return this.sb;case "curr-xhr_":return this.zb;default:return B.ca(this.da,b,c)}};
g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};
g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#taoensso.sente.ChAjaxSocket{",", ","}",c,V.aa(new X(null,11,5,Z,[new X(null,2,5,Z,[Yt,this.Sa],null),new X(null,2,5,Z,[Gx,this.Ra],null),new X(null,2,5,Z,[uu,this.params],null),new X(null,2,5,Z,[Dz,this.Qa],null),new X(null,2,5,Z,[hz,this.url],null),new X(null,2,5,Z,[zz,this.state_],null),new X(null,2,5,Z,[Rr,this.Oa],null),new X(null,2,5,Z,[uz,this.Ua],null),new X(null,2,5,Z,[qA,this.Pa],null),new X(null,2,5,Z,[oC,this.sb],
null),new X(null,2,5,Z,[PB,this.zb],null)],null),this.da))};g.Ca=function(){return new Yi(this,11,new X(null,11,5,Z,[Yt,Gx,uu,Dz,hz,zz,Rr,uz,qA,oC,PB],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 11+M(this.da)};g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=-266770752^Le(this)};
g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.Sa,b.Sa)&&D.aa(this.Ra,b.Ra)&&D.aa(this.params,b.params)&&D.aa(this.Qa,b.Qa)&&D.aa(this.url,b.url)&&D.aa(this.state_,b.state_)&&D.aa(this.Oa,b.Oa)&&D.aa(this.Ua,b.Ua)&&D.aa(this.Pa,b.Pa)&&D.aa(this.sb,b.sb)&&D.aa(this.zb,b.zb)&&D.aa(this.da,b.da)};
g.Ka=function(a,b){return Of(new rk(null,new p(null,11,[PB,null,uz,null,Yt,null,Dz,null,Gx,null,uu,null,qA,null,hz,null,Rr,null,oC,null,zz,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new aV(this.Sa,this.Ra,this.params,this.Qa,this.url,this.state_,this.Oa,this.Ua,this.Pa,this.sb,this.zb,this.fa,nh(S.aa(this.da,b)),null)};
g.ra=function(a,b,c){return r(T.aa?T.aa(Yt,b):T.call(null,Yt,b))?new aV(c,this.Ra,this.params,this.Qa,this.url,this.state_,this.Oa,this.Ua,this.Pa,this.sb,this.zb,this.fa,this.da,null):r(T.aa?T.aa(Gx,b):T.call(null,Gx,b))?new aV(this.Sa,c,this.params,this.Qa,this.url,this.state_,this.Oa,this.Ua,this.Pa,this.sb,this.zb,this.fa,this.da,null):r(T.aa?T.aa(uu,b):T.call(null,uu,b))?new aV(this.Sa,this.Ra,c,this.Qa,this.url,this.state_,this.Oa,this.Ua,this.Pa,this.sb,this.zb,this.fa,this.da,null):r(T.aa?
T.aa(Dz,b):T.call(null,Dz,b))?new aV(this.Sa,this.Ra,this.params,c,this.url,this.state_,this.Oa,this.Ua,this.Pa,this.sb,this.zb,this.fa,this.da,null):r(T.aa?T.aa(hz,b):T.call(null,hz,b))?new aV(this.Sa,this.Ra,this.params,this.Qa,c,this.state_,this.Oa,this.Ua,this.Pa,this.sb,this.zb,this.fa,this.da,null):r(T.aa?T.aa(zz,b):T.call(null,zz,b))?new aV(this.Sa,this.Ra,this.params,this.Qa,this.url,c,this.Oa,this.Ua,this.Pa,this.sb,this.zb,this.fa,this.da,null):r(T.aa?T.aa(Rr,b):T.call(null,Rr,b))?new aV(this.Sa,
this.Ra,this.params,this.Qa,this.url,this.state_,c,this.Ua,this.Pa,this.sb,this.zb,this.fa,this.da,null):r(T.aa?T.aa(uz,b):T.call(null,uz,b))?new aV(this.Sa,this.Ra,this.params,this.Qa,this.url,this.state_,this.Oa,c,this.Pa,this.sb,this.zb,this.fa,this.da,null):r(T.aa?T.aa(qA,b):T.call(null,qA,b))?new aV(this.Sa,this.Ra,this.params,this.Qa,this.url,this.state_,this.Oa,this.Ua,c,this.sb,this.zb,this.fa,this.da,null):r(T.aa?T.aa(oC,b):T.call(null,oC,b))?new aV(this.Sa,this.Ra,this.params,this.Qa,this.url,
this.state_,this.Oa,this.Ua,this.Pa,c,this.zb,this.fa,this.da,null):r(T.aa?T.aa(PB,b):T.call(null,PB,b))?new aV(this.Sa,this.Ra,this.params,this.Qa,this.url,this.state_,this.Oa,this.Ua,this.Pa,this.sb,c,this.fa,this.da,null):new aV(this.Sa,this.Ra,this.params,this.Qa,this.url,this.state_,this.Oa,this.Ua,this.Pa,this.sb,this.zb,this.fa,R.ca(this.da,b,c),null)};
g.va=function(){return E(V.aa(new X(null,11,5,Z,[new Y(Yt,this.Sa),new Y(Gx,this.Ra),new Y(uu,this.params),new Y(Dz,this.Qa),new Y(hz,this.url),new Y(zz,this.state_),new Y(Rr,this.Oa),new Y(uz,this.Ua),new Y(qA,this.Pa),new Y(oC,this.sb),new Y(PB,this.zb)],null),this.da))};g.ta=function(a,b){return new aV(this.Sa,this.Ra,this.params,this.Qa,this.url,this.state_,this.Oa,this.Ua,this.Pa,this.sb,this.zb,b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};
g.tf=function(a,b){Eh(this.Oa,null);QU(this,function(c){return RU(c,b)});a=y(this.zb);return r(a)?a.abort():null};
g.Ne=function(a,b,c){function d(n){var q=null!=n&&(n.ha&64||l===n.Ea)?hh(ik,n):n;n=B.aa(q,lq);q=B.aa(q,vt);if(r(n)){if(D.aa(n,Su))return r(k)?k.ba?k.ba(Mn):k.call(null,Mn):null;QU(f,function(w){return RU(w,Bs)});return r(k)?k.ba?k.ba(sm):k.call(null,sm):null}n=FU(e.Qa,q);var u=Q(n,0,null);Q(n,1,null);r(k)?k.ba?k.ba(u):k.call(null,u):mh.aa(u,SB)&&xU(dA,1377,new ul(function(){return new X(null,2,5,Z,["Cb reply w/o local cb-fn: %s",u],null)}),473323175);return QU(f,function(w){return R.ca(w,Uy,!0)})}
var e=this,f=this;a=null!=c&&(c.ha&64||l===c.Ea)?hh(ik,c):c;var h=B.aa(a,Yn);c=B.aa(a,IB);B.aa(a,vp);EU(b);var k=SU(c,b);if(zc(Uy.ba(y(e.state_))))return OU(k);var m=ms.ba(y(e.state_));a=e.url;c=mk.ea(P([e.sb,new p(null,5,[hv,eB,Yn,function(){if(r(h))return h;var n=Yn.ba(e.sb);return r(n)?n:$U}(),DB,fu,Wm,mk.ea(P([Wm.ba(e.sb),new p(null,1,[qy,m],null)])),uu,function(){var n=GU(e.Qa,b,r(k)?$w:null);return mk.ea(P([e.params,new p(null,4,[Tn,xT(),ms,m,Yt,e.Sa,KB,n],null)]))}()],null)]));ST.ca?ST.ca(a,
c,d):ST.call(null,a,c,d);return om};
g.ge=function(){var a=this,b=this,c=Eh(a.Oa,LT());(function f(e){xU(Vw,1387,new ul(function(){return new X(null,1,5,Z,["async-poll-for-update!"],null)}),-1248812223);if(D.aa(y(a.Oa),c)){var h=function(){if(D.aa(y(a.Oa),c)){var k=e+1,m=a.Pa.ba?a.Pa.ba(k):a.Pa.call(null,k),n=xT()+m;xU(dA,1395,new ul(function(){return new X(null,3,5,Z,["Chsk is closed: will try reconnect attempt (%s) in %s ms",k,m],null)}),-725675920);ma.setTimeout(function(){return f(k)},m);return QU(b,function(q){return R.ca(q,iw,
n)})}return null};return Eh(a.zb,function(){function k(q){var u=null!=q&&(q.ha&64||l===q.Ea)?hh(ik,q):q;q=B.aa(u,lq);u=B.aa(u,vt);if(r(q)){if(D.aa(q,Su))return f(0);QU(b,function(w){return RU(w,Bs)});return h()}q=FU(a.Qa,u);q=Q(q,0,null);(u=UU(q))&&VU(mA,b,q);QU(b,function(w){return R.ca(w,Uy,!0)});f(0);if(u)return null;D.aa(q,Mn)?(r(y(BU))&&TU(a.Ra,new X(null,1,5,Z,[new X(null,1,5,Z,[Zo],null)],null)),u=Lp):u=null;return r(u)?u:TU(a.Ra,q)}var m=a.url,n=mk.ea(P([a.sb,new p(null,5,[hv,ev,Yn,function(){var q=
Yn.ba(a.sb);return r(q)?q:$U}(),DB,fu,uu,mk.ea(P([a.params,new p(null,2,[Tn,xT(),Yt,a.Sa],null),r(Uy.ba(y(a.state_)))?null:new p(null,1,[yp,!0],null)])),Wm,mk.ea(P([Wm.ba(a.sb),new p(null,1,[qy,ms.ba(y(a.state_))],null)]))],null)]));return ST.ca?ST.ca(m,n,k):ST.call(null,m,n,k)}())}return null})(0);return b};
function bV(a,b){a=mk.ea(P([new p(null,4,[zz,Dh(new p(null,4,[qq,mA,Uy,!1,Lt,!1,ms,b],null)),Rr,Dh(null),uz,Dh(!1),PB,Dh(null)],null),a]));b=S.ea(a,Yt,P([Gx,uu,Dz,hz,zz,Rr,uz,qA,oC,PB]));b=Ff(a)?bi.aa(W,b):b;return new aV(Yt.ba(a),Gx.ba(a),uu.ba(a),Dz.ba(a),hz.ba(a),zz.ba(a),Rr.ba(a),uz.ba(a),qA.ba(a),oC.ba(a),PB.ba(a),null,nh(b),null)}function cV(a,b,c,d,e,f,h){this.Nc=a;this.Cc=b;this.state_=c;this.hc=d;this.fa=e;this.da=f;this.ga=h;this.ha=2230716170;this.na=139264}g=cV.prototype;
g.Aa=function(a,b){return this.la(null,b,null)};g.la=function(a,b,c){switch(b instanceof C?b.Ba:null){case "ws-chsk-opts":return this.Nc;case "ajax-chsk-opts":return this.Cc;case "state_":return this.state_;case "impl_":return this.hc;default:return B.ca(this.da,b,c)}};g.Ja=function(a,b,c){return v.ca(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.ca?b.ca(d,f,e):b.call(null,d,f,e)},c,this)};
g.ua=function(a,b,c){return Tk(b,function(d){return Tk(b,al,""," ","",c,d)},"#taoensso.sente.ChAutoSocket{",", ","}",c,V.aa(new X(null,4,5,Z,[new X(null,2,5,Z,[wx,this.Nc],null),new X(null,2,5,Z,[Sn,this.Cc],null),new X(null,2,5,Z,[zz,this.state_],null),new X(null,2,5,Z,[vq,this.hc],null)],null),this.da))};g.Ca=function(){return new Yi(this,4,new X(null,4,5,Z,[wx,Sn,zz,vq],null),r(this.da)?je(this.da):oh())};g.sa=function(){return this.fa};g.xa=function(){return 4+M(this.da)};
g.wa=function(){var a=this.ga;return null!=a?a:this.ga=a=-1193508708^Le(this)};g.qa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.aa(this.Nc,b.Nc)&&D.aa(this.Cc,b.Cc)&&D.aa(this.state_,b.state_)&&D.aa(this.hc,b.hc)&&D.aa(this.da,b.da)};g.Ka=function(a,b){return Of(new rk(null,new p(null,4,[vq,null,wx,null,zz,null,Sn,null],null),null),b)?S.aa(sd(bi.aa(W,this),this.fa),b):new cV(this.Nc,this.Cc,this.state_,this.hc,this.fa,nh(S.aa(this.da,b)),null)};
g.ra=function(a,b,c){return r(T.aa?T.aa(wx,b):T.call(null,wx,b))?new cV(c,this.Cc,this.state_,this.hc,this.fa,this.da,null):r(T.aa?T.aa(Sn,b):T.call(null,Sn,b))?new cV(this.Nc,c,this.state_,this.hc,this.fa,this.da,null):r(T.aa?T.aa(zz,b):T.call(null,zz,b))?new cV(this.Nc,this.Cc,c,this.hc,this.fa,this.da,null):r(T.aa?T.aa(vq,b):T.call(null,vq,b))?new cV(this.Nc,this.Cc,this.state_,c,this.fa,this.da,null):new cV(this.Nc,this.Cc,this.state_,this.hc,this.fa,R.ca(this.da,b,c),null)};
g.va=function(){return E(V.aa(new X(null,4,5,Z,[new Y(wx,this.Nc),new Y(Sn,this.Cc),new Y(zz,this.state_),new Y(vq,this.hc)],null),this.da))};g.ta=function(a,b){return new cV(this.Nc,this.Cc,this.state_,this.hc,b,this.da,this.ga)};g.za=function(a,b){return Gf(b)?this.ra(null,x(b,0),x(b,1)):v.ca(Sc,this,b)};g.tf=function(a,b){a=y(this.hc);return r(a)?LU(a,b):null};g.Ne=function(a,b,c){a=y(this.hc);if(r(a))return MU(a,b,c);c=null!=c&&(c.ha&64||l===c.Ea)?hh(ik,c):c;c=B.aa(c,IB);b=SU(c,b);return OU(b)};
g.ge=function(){function a(){var f=Dh(!1);ql(c.state_,function(h,k,m,n){h=y(c.hc);if(r(h)&&(k=uz.ba(h),r(k))){if(r(y(k)))return null;if(r(gs.ba(n))&&Gh(f))return xU(dA,1528,new ul(function(){return new X(null,1,5,Z,["Permanently downgrading :auto chsk -\x3e :ajax"],null)}),1580228096),LU(h,co),Eh(c.hc,b())}return null});return ZU(e,ms.ba(y(c.state_))).ge(null)}function b(){Rd(c.state_,rl);return bV(d,ms.ba(y(c.state_))).ge(null)}var c=this,d=R.ca(c.Cc,zz,c.state_),e=R.ca(c.Nc,zz,c.state_);Eh(c.hc,
function(){var f=a();return r(f)?f:b()}());return this};
function dV(a,b,c,d){var e=function(){switch(a instanceof C?a.Ba:null){case "http":return"http:";case "https":return"https:";default:return a}}(),f=function(){var h=d instanceof C?d.Ba:null;switch(h){case "ajax":return e;case "ws":switch(e){case "https:":return"wss:";case "http:":return"ws:";default:throw Error(["No matching clause: ",t.ba(e)].join(""));}default:throw Error(["No matching clause: ",t.ba(h)].join(""));}}();return[t.ba(f),"//",KT(P([b,c]))].join("")}
function eV(a,b,c){function d(n){return n.ja?n.ja():n.call(null)}var e=zc(to);c=null!=c&&(c.ha&64||l===c.Ea)?hh(ik,c):c;var f=B.aa(c,av),h=B.aa(c,St);B.aa(c,fB);var k=jR(null,null),m=jR(1,null);KQ(function(){var n=function(){function u(w){var z=w[1];if(7===z)return w[2]=w[2],w[1]=3,Gn;if(1===z)return w[2]=null,w[1]=2,Gn;if(4===z){z=w[8];z=w[2];var F=Q(z,0,null),H=Q(z,1,null),G=D.aa(H,k)||null==F;w[7]=H;w[8]=F;w[9]=z;w[10]=G;w[1]=r(G)?5:6;return Gn}if(15===z)return z=w[8],w[2]=z,w[1]=16,Gn;if(13===
z)return w[2]=w[2],w[1]=10,Gn;if(6===z)return z=w[8],w[1]=zc(null==z)?8:9,Gn;if(3===z)return hR(w,w[2]);if(12===z)return w[2]=!1,w[1]=13,Gn;if(2===z)return rR(w,4,new X(null,2,5,Z,[a,k],null));if(11===z)return w[2]=!0,w[1]=13,Gn;if(9===z)return w[2]=!1,w[1]=10,Gn;if(5===z)return w[2]=null,w[1]=7,Gn;if(14===z)return z=w[8],z=hh(ik,z),w[2]=z,w[1]=16,Gn;if(16===z){z=w[8];var N=w[2],O=B.aa(N,Jp);z=d(function(){return function(){try{r(f)&&xU(Vw,1727,new ul(function(){return new X(null,2,5,Z,["Pre-handler event: %s",
O],null)}),-806476594);var U=r(e)?function(){try{if(Ef(N)&&iT(new rk(null,new p(null,11,[rw,null,Kr,null,Yt,null,Nx,null,mp,null,Jp,null,fC,null,qt,null,Ku,null,Eu,null,du,null],null),null),N)){var xa=null!=N&&(N.ha&64||l===N.Ea)?hh(ik,N):N,ya=B.aa(xa,Kr),Ta=B.aa(xa,du),ka=B.aa(xa,Nx),pa=B.aa(xa,qt),Ca=B.aa(xa,Ku),ua=B.aa(xa,Yt),Ba=B.aa(xa,Jp),Ya=B.aa(xa,rw);var bc=ya instanceof RQ&&Mf(Ta)&&ka instanceof Ch&&pa instanceof Ch&&Ef(Ca)&&"string"===typeof ua&&!SC(ua)&&null==DU(Ba)&&(null==Ya||Mf(Ya))}else bc=
!1;var yb=bc?null:NS}catch(fc){if(fc instanceof Error)yb=fc;else throw fc;}return null==yb?N:OS(1730,"(server-event-msg? event-msg)",N,yb)}():function(){try{if(Ef(N)&&iT(new rk(null,new p(null,6,[Kr,null,jo,null,Jp,null,fC,null,Eu,null,du,null],null),null),N)){var xa=null!=N&&(N.ha&64||l===N.Ea)?hh(ik,N):N,ya=B.aa(xa,Kr),Ta=B.aa(xa,du),ka=B.aa(xa,jo),pa=B.aa(xa,Jp);var Ca=ya instanceof RQ&&Mf(Ta)&&ka instanceof Ch&&null==DU(pa)}else Ca=!1;var ua=Ca?null:NS}catch(Ba){if(Ba instanceof Error)ua=Ba;else throw Ba;
}return null==ua?N:OS(1731,"(client-event-msg? event-msg)",N,ua)}();return b.ba?b.ba(U):b.call(null,U)}catch(xa){var ea=xa;try{return r(h)?h.aa?h.aa(ea,N):h.call(null,ea,N):xU(Fp,1736,new ul(function(){return new X(null,3,5,Z,[ea,"Chsk router `event-msg-handler` error: %s",O],null)}),249005455)}catch(ya){var va=ya;return xU(Fp,1737,new ul(function(){return new X(null,3,5,Z,[va,"Chsk router `error-handler` error: %s",O],null)}),895256714)}}}}());w[11]=z;w[2]=null;w[1]=2;return Gn}return 10===z?(w[1]=
r(w[2])?14:15,Gn):8===z?(z=w[8],F=l===z.Ea,w[1]=r(z.ha&64||F)?11:12,Gn):null}return function(){function w(H){for(;;){a:try{for(;;){var G=u(H);if(!T(G,Gn)){var N=G;break a}}}catch(O){N=O;H[2]=N;if(E(H[4]))H[1]=J(H[4]);else throw N;N=Gn}if(!T(N,Gn))return N}}function z(){var H=[null,null,null,null,null,null,null,null,null,null,null,null];H[0]=F;H[1]=1;return H}var F=null;F=function(H){switch(arguments.length){case 0:return z.call(this);case 1:return w.call(this,H)}throw Error("Invalid arity: "+arguments.length);
};F.ja=z;F.ba=w;return F}()}(),q=function(){var u=n();u[6]=m;return u}();return eR(q)});return function(){return dQ(k)}}function fV(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;d=2<b.length?new I(b.slice(2),0,null):null;b=arguments[0];c=arguments[1];d=Q(d,0,null);d=null!=d&&(d.ha&64||l===d.Ea)?hh(ik,d):d;B.aa(d,av);B.aa(d,St);return eV(b,c,d)};var gV={},hV={},iV=[];function jV(a,b){var c=hV[a];if(void 0!==c)return c;try{iV.push(a);var d=gV[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};gV[a]=d}if(e){delete shadow$provide[a];try{e.call(d,ma,jV,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),h;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{iV.pop()}return d.exports}jV.cache={};jV.resolve=function(a){return a};var lV=jV(5,{});Ha("React",lV);var mV=jV(14,{});lV.DOM=mV;Ha("ReactDOM",mV);var nV=Ih(W);function oV(a){if(a instanceof C||"string"===typeof a||a instanceof A){var b=B.aa(y(nV),a);if(r(b))return b;if("string"===typeof a)b=a;else{b=Jg(a).split("-");var c=E(b);b=J(c);c=K(c);b=zf(c)||D.aa("aria",b)||D.aa("data",b)?a:Ig.ba(MC(of.aa(Mh.aa(OC,c),b)))}nV.Rc(null,R.ca(nV.tb(null),a,b));return b}return a}var pV=function pV(a){return Ef(a)?(a=Ud(bg(function(c,d,e){return $g.ca(c,oV(d),e)},Sd(W),a)),Ef(tq.ba(a))?ji.ca(a,tq,pV):a):a};
function qV(a){return Gf(a)&&Q(a,0,null)instanceof C};function rV(a){return"string"===typeof a?a:a instanceof C?Jg(a):a}function sV(a){return Ag(a)&&J(a)instanceof C}function tV(a){return null==a?null:sV(a)?new X(null,1,5,Z,[a],null):Ag(a)?J(a)instanceof A?new X(null,1,5,Z,[a],null):Mh.aa(rV,a):a instanceof A?new X(null,1,5,Z,[a],null):"string"===typeof a?new X(null,1,5,Z,[a],null):a instanceof C?new X(null,1,5,Z,[rV(a)],null):(Bf(a)||Cf(a))&&sh(function(b){return b instanceof C||"string"===typeof b},a)?ci.aa(rV,a):Bf(a)||Cf(a)?ci.aa(rV,a):a}
function uV(a){return r(Cz.ba(a))?ji.ca(a,Cz,tV):a}function vV(a){return r(a)?LC(a,/^[.#]/,""):null}
function wV(a){var b=Qk(/[#.]?[^#.]+/,Jg(a));if(zf(b))throw gm(["Can't match CSS tag: ",t.ba(a)].join(""),new p(null,1,[Bv,a],null));b=Of(new rk(null,new p(null,2,["#",null,".",null],null),null),mf(b))?new X(null,2,5,Z,["div",b],null):new X(null,2,5,Z,[J(b),Ee(b)],null);a=Q(b,0,null);b=Q(b,1,null);return new X(null,3,5,Z,[a,vV(th(function(c){return D.aa("#",J(c))?c:null},b)),bi.ca(pf,Ah(function(c){return D.aa(".",J(c))?vV(c):null}),b)],null)}
var xV=function xV(a){null==a?a=Fe:"string"===typeof a?a=new qf(null,a,null,1,null):qV(a)?a=new qf(null,a,null,1,null):Ag(a)&&J(a)instanceof A?a=new qf(null,a,null,1,null):Ag(a)||(Cf(a)&&D.aa(M(a),1)&&Cf(J(a))&&"string"!==typeof J(a)&&!qV(J(a))?(a=J(a),a=xV.ba?xV.ba(a):xV.call(null,a)):a=Cf(a)?a:new qf(null,a,null,1,null));return ai(wc,a)};function yV(a){return v.ca(function(b,c){b.push(zV.ba?zV.ba(c):zV.call(null,c));return b},[],a)}
function zV(a){if(Gf(a))if(qV(a)){a=E(a);var b=J(a);a=K(a);if(!(b instanceof C||b instanceof A||"string"===typeof b))throw gm([t.ba(b)," is not a valid element name."].join(""),new p(null,2,[Bv,b,Ju,a],null));var c=wV(b);b=Q(c,0,null);var d=Q(c,1,null);c=Q(c,2,null);d=zf(d)?W:R.ca(W,fC,d);c=zf(c)?d:R.ca(d,Cz,c);var e=J(a);Ef(e)?(d=Z,e=Mh.aa(uV,P([c,e])),c=Yh(Cz,P([e])),E(e)?(e=v.ca(bi,W,e),c=zf(c)?e:R.ca(e,Cz,Zf(c))):c=null,a=new X(null,3,5,d,[b,c,xV(K(a))],null)):a=new X(null,3,5,Z,[b,uV(c),xV(a)],
null);b=a;a=Q(b,0,null);d=Q(b,1,null);b=Q(b,2,null);d=El(KI(pV(d)));r(d)?(c=d.className,c=xc(c)?NC(" ",c):c,SC(c)?delete d.className:d.className=c):d=null;b=yV(b);a=React.createElement.apply(null,[a,d].concat(b))}else a=yV(a);else a=Kf(a)?yV(a):a;return a};function AV(a,b){return b?React.createElement.apply(null,["div",a].concat(b)):React.createElement("div",a)};function BV(a,b){return bi.ca(pf,Ah(function(c){return B.aa(c,a)}),b)}function CV(a,b){return bi.ca(pf,xh.aa(Mh.ba(function(c){return Bh(function(d){return B.aa(c,d)},a)}),Al),b)}function DV(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=2<b.length?new I(b.slice(2),0,null):null;return EV(arguments[0],arguments[1],b)}function EV(a,b,c){return v.ca(function(d,e){return ih(e,d,c)},a,b)};function FV(a){return jb(a.state,":rum/state")}function GV(a,b){b=E(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.La(null,e),h=Q(f,0,null);f=Q(f,1,null);null!=f&&(h=Jg(h),f=El(f),a[h]=f);e+=1}else if(b=E(b))Hf(b)?(d=ae(b),b=be(b),c=d,d=M(d)):(c=J(b),h=Q(c,0,null),f=Q(c,1,null),null!=f&&(c=Jg(h),d=El(f),a[c]=d),b=K(b),c=null,d=0),e=0;else break}
function HV(a,b,c){function d(G){this.state={":rum/state":Ih(EV(R.ca(jb(G,":rum/initial-state"),Bo,this),e,P([G])))};return React.Component.call(this,G)}uk(Yh(dj,P([b])));var e=BV(Ws,b),f=CV(new X(null,2,5,Z,[bz,ow],null),b),h=BV(Uq,b),k=v.ca(function(G,N){return N.ba?N.ba(G):N.call(null,G)},a,h),m=CV(new X(null,2,5,Z,[AA,xs],null),b),n=BV(dw,b),q=BV(DA,b),u=CV(new X(null,2,5,Z,[os,ow],null),b),w=CV(new X(null,2,5,Z,[cn,xs],null),b),z=BV(gw,b),F=BV(us,b),H=BV(On,b);a=v.aa(mk,BV(Cm,b));b=v.aa(mk,BV(tz,
b));Ia(d,React.Component);h=jb(d,"prototype");zf(f)||kb(h,"componentWillMount",function(){return he(FV(this),DV(y(FV(this)),f))});zf(m)||kb(h,"componentDidMount",function(){return he(FV(this),DV(y(FV(this)),m))});kb(h,"componentWillReceiveProps",function(G){var N=y(FV(this));G=mk.ea(P([N,jb(G,":rum/initial-state")]));G=v.ca(function(O,U){return U.aa?U.aa(N,O):U.call(null,N,O)},G,n);return this.setState({":rum/state":Ih(G)})});zf(q)||kb(h,"shouldComponentUpdate",function(G,N){var O=y(FV(this)),U=y(jb(N,
":rum/state"));G=th(function(ea){return ea.aa?ea.aa(O,U):ea.call(null,O,U)},q);return r(G)?G:!1});zf(u)||kb(h,"componentWillUpdate",function(G,N){G=jb(N,":rum/state");return he(G,DV(y(G),u))});kb(h,"render",function(){var G=FV(this),N=y(G);var O=k.ba?k.ba(N):k.call(null,N);N=Q(O,0,null);O=Q(O,1,null);he(G,O);return N});zf(w)||kb(h,"componentDidUpdate",function(){return he(FV(this),DV(y(FV(this)),w))});zf(z)||kb(h,"componentDidCatch",function(G,N){he(FV(this),EV(y(FV(this)),z,P([G,new p(null,1,[Az,
jb(N,"componentStack")],null)])));return this.forceUpdate()});kb(h,"componentWillUnmount",function(){zf(F)||he(FV(this),DV(y(FV(this)),F));this[":rum/unmounted?"]=!0});zf(H)||kb(h,"getChildContext",function(){var G=y(FV(this));return El(hg(Mh.ba(function(N){return N.ba?N.ba(G):N.call(null,G)}),mk,W,H))});GV(h,a);d.displayName=c;GV(d,b);return d}
function IV(a){function b(){var c=a.ja?a.ja():a.call(null);return c.apply(c,arguments)}b.pe=l;b.sa=function(){return xf(a.ja?a.ja():a.call(null))};return b}function JV(a,b,c){var d=KV;return IV(Ma(function(){return d.ca?d.ca(a,b,c):d.call(null,a,b,c)}))}
function LV(a,b,c){var d=HV(a,b,c),e=J(BV(iA,b));return wf(null!=e?function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new I(n,0,null)}return h.call(this,m)}function h(k){k={":rum/initial-state":new p(null,1,[Cw,k],null),key:hh(e,k)};return React.createElement(d,k)}f.ma=0;f.pa=function(k){k=E(k);return h(k)};f.ea=h;return f}():function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-
0);m<n.length;)n[m]=arguments[m+0],++m;m=new I(n,0,null)}return h.call(this,m)}function h(k){return React.createElement(d,{":rum/initial-state":new p(null,1,[Cw,k],null)})}f.ma=0;f.pa=function(k){k=E(k);return h(k)};f.ea=h;return f}(),new p(null,1,[bt,d],null))}function MV(a,b){return D.aa(a[":rum/args"],b[":rum/args"])}function NV(a){var b=React.memo;return null==b?a:b.aa?b.aa(a,MV):b.call(null,a,MV)}
function KV(a,b,c){if(D.aa(b,new X(null,1,5,Z,[OV],null))){var d=function(f){return hh(a,f[":rum/args"])};d.displayName=c;var e=NV(d);b=function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new I(n,0,null)}return h.call(this,m)}function h(k){return React.createElement(e,{":rum/args":k})}f.ma=0;f.pa=function(k){k=E(k);return h(k)};f.ea=h;return f}();return wf(b,new p(null,1,[bt,e],null))}return zf(b)?(d=function(f){return hh(a,
f[":rum/args"])},d.displayName=c,b=function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new I(n,0,null)}return h.call(this,m)}function h(k){return React.createElement(d,{":rum/args":k})}f.ma=0;f.pa=function(k){k=E(k);return h(k)};f.ea=h;return f}(),wf(b,new p(null,1,[bt,d],null))):LV(function(f){return new X(null,2,5,Z,[hh(a,Cw.ba(f)),f],null)},b,c)}
var OV=new p(null,1,[DA,function(a,b){return mh.aa(Cw.ba(a),Cw.ba(b))}],null);var PV={};var QV={},RV="undefined"!==typeof window&&null!=window.document,SV=new rk(null,new p(null,2,["aria",null,"data",null],null),null);function TV(a){return 2>M(a)?a.toUpperCase():[zg.ca(a,0,1).toUpperCase(),zg.aa(a,1)].join("")}function UV(a){if("string"===typeof a)return a;a=Jg(a);var b=QC(a,/-/),c=E(b);b=J(c);c=K(c);return r(SV.ba?SV.ba(b):SV.call(null,b))?a:ih(t,b,Mh.aa(TV,c))}
function VV(a){var b=function(){if(uf(a)){var c=a.displayName;r(c)||(c=a.name,c="string"===typeof c&&E(c)?c:null)}else c=!1;if(r(c))return c;c=null!=a&&(a.na&4096||l===a.Gf)?Jg(a):!1;if(r(c))return c;c=xf(a);return Ef(c)?Wz.ba(c):null}();return r(b)?LC(t.ba(b),"$","."):null}function WV(a){return a instanceof C||a instanceof A}
var XV=function XV(a){switch(arguments.length){case 0:return XV.ja();case 1:return XV.ba(arguments[0]);case 2:return XV.aa(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return XV.ea(arguments[0],arguments[1],c)}};XV.ja=function(){return null};XV.ba=function(a){return Af(a)?(a=Bh(function(b){return r(b)?WV(b)?Jg(b):b:null},a),E(a)?NC(" ",a):null):WV(a)?Jg(a):a};
XV.aa=function(a,b){return r(a)?r(b)?[t.ba(XV.ba(a))," ",t.ba(XV.ba(b))].join(""):XV.ba(a):XV.ba(b)};XV.ea=function(a,b,c){return v.ca(XV,XV.aa(a,b),c)};XV.pa=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.ea(b,a,c)};XV.ma=2;var YV=!1;function ZV(a){if(Ef(a))try{var b=B.aa(a,sB)}catch(c){b=null}else b=null;return b}
function $V(a){var b=sB.ba(xf(a));if(r(b))return b;b=ZV(Q(a,1,null));if(r(b))return b;b=Q(a,0,null);switch(b instanceof C?b.Ba:null){case "\x3e":case "f\x3e":return ZV(Q(a,2,null));case "r\x3e":return a=Q(a,2,null),null==a?null:a.key;default:return null}};var aW=0;function bW(a){return setTimeout(a,16)}var cW=RV?function(){var a=window;return function(){var b=a.requestAnimationFrame;if(r(b))return b;b=a.webkitRequestAnimationFrame;if(r(b))return b;b=a.mozRequestAnimationFrame;if(r(b))return b;b=a.msRequestAnimationFrame;return r(b)?b:bW}().bind(a)}():bW;function dW(a,b){return a.Tf-b.Tf}function eW(){return null}function fW(a){for(var b=a.length,c=0;;)if(c<b){var d=a[c];d.ja?d.ja():d.call(null);c+=1}else return null}
function gW(a,b,c){b.push(c);return a.schedule()}function hW(){this.sf=!1}g=hW.prototype;g.flush_after_render=function(){var a=this.Re;if(null==a)return null;this.Re=null;return fW(a)};g.queue_render=function(a){null==this.df&&(this.df=[]);return gW(this,this.df,a)};g.schedule=function(){function a(){return b.run_queues()}var b=this;if(this.sf)return null;this.sf=!0;return cW.ba?cW.ba(a):cW.call(null,a)};g.flush_before_flush=function(){var a=this.Se;if(null==a)return null;this.Se=null;return fW(a)};
g.flush_queues=function(){this.flush_before_flush();eW();this.flush_render();return this.flush_after_render()};g.run_queues=function(){this.sf=!1;return this.flush_queues()};g.add_before_flush=function(a){null==this.Se&&(this.Se=[]);return gW(this,this.Se,a)};g.add_after_render=function(a){null==this.Re&&(this.Re=[]);return gW(this,this.Re,a)};
g.flush_render=function(){var a=this.df;if(null==a)return null;this.df=null;a:{a.sort(dW);for(var b=a.length,c=0;;)if(c<b){var d=a[c];!0===d.cljsIsDirty&&d.forceUpdate();c+=1}else break a}return null};var iW=new hW;function jW(a){if(r(a.cljsIsDirty))return null;a.cljsIsDirty=!0;return iW.queue_render(a)};function kW(a){if(null!=a&&null!=a.Ni)a=a.id;else{var b=kW[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=kW._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("Compiler.get-id",a);}return a}function lW(a,b){if(null!=a&&null!=a.jh)a=a.jh(a,b);else{var c=lW[oa(null==a?null:a)];if(null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else if(c=lW._,null!=c)a=c.aa?c.aa(a,b):c.call(null,a,b);else throw Dc("Compiler.as-element",a);}return a}
function mW(a,b,c,d,e){if(null!=a&&null!=a.kh)a=a.kh(a,b,c,d,e);else{var f=mW[oa(null==a?null:a)];if(null!=f)a=f.ya?f.ya(a,b,c,d,e):f.call(null,a,b,c,d,e);else if(f=mW._,null!=f)a=f.ya?f.ya(a,b,c,d,e):f.call(null,a,b,c,d,e);else throw Dc("Compiler.make-element",a);}return a};var nW;function oW(a,b){b.captured=null;a:{var c=nW;nW=b;try{var d=a.ja?a.ja():a.call(null);break a}finally{nW=c}d=void 0}a=b.captured;b.Hd=!1;a:{c=b.Yd;var e=null==a?0:a.length;if(e===(null==c?0:c.length))for(var f=0;;){var h=f===e;if(h){c=h;break a}if(a[f]===c[f])f+=1;else{c=!1;break a}}else c=!1}c||b._update_watching(a);return d}function pW(a){var b=nW;if(null!=b){var c=b.captured;null==c?b.captured=[a]:c.push(a)}}function qW(a,b,c){a.Hb=R.ca(a.Hb,b,c);return a.ug=null}
function rW(a,b){a.Hb=S.aa(a.Hb,b);return a.ug=null}function sW(a,b,c){var d=a.ug;d=null==d?a.ug=bg(function(m,n,q){m.push(n);m.push(q);return m},[],a.Hb):d;for(var e=d.length,f=0;;)if(f<e){var h=d[f],k=d[f+1];k.ka?k.ka(h,a,b,c):k.call(null,h,a,b,c);f=2+f}else break}function tW(a,b,c,d){Kd(a,["#object[reagent.ratom.",t.ba(c)," "].join(""));a:{c=nW;nW=null;try{var e=d;break a}finally{nW=c}e=void 0}al(e,a,b);return Kd(a,"]")}var uW=null;
function vW(a,b,c,d){this.state=a;this.meta=b;this.validator=c;this.Hb=d;this.ha=2154201088;this.na=114690}g=vW.prototype;g.ua=function(a,b,c){return tW(b,c,"RAtom",new p(null,1,[pl,this.tb(null)],null))};g.sa=function(){return this.meta};g.wa=function(){return wa(this)};g.qa=function(a,b){return this===b};g.Pc=function(a,b){a=this.state;this.state=b;null!=this.Hb&&sW(this,a,b);return b};g.Jf=function(a,b){return this.Pc(null,b.ba?b.ba(this.state):b.call(null,this.state))};
g.Kf=function(a,b,c){return this.Pc(null,b.aa?b.aa(this.state,c):b.call(null,this.state,c))};g.Lf=function(a,b,c,d){return this.Pc(null,b.ca?b.ca(this.state,c,d):b.call(null,this.state,c,d))};g.Mf=function(a,b,c,d,e){return this.Pc(null,kh(b,this.state,c,d,e))};g.Of=function(a,b){sW(this,a,b)};g.Ye=function(a,b,c){return qW(this,b,c)};g.Ze=function(a,b){return rW(this,b)};g.ta=function(a,b){return new vW(this.state,b,this.validator,this.Hb)};g.tb=function(){pW(this);return this.state};
var wW=function wW(a){switch(arguments.length){case 1:return wW.ba(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(1),0,null);return wW.ea(arguments[0],c)}};wW.ba=function(a){return new vW(a,null,null,null)};wW.ea=function(a,b){var c=null!=b&&(b.ha&64||l===b.Ea)?hh(ik,b):b;b=B.aa(c,sc);c=B.aa(c,Et);return new vW(a,b,c,null)};wW.pa=function(a){var b=J(a);a=K(a);return this.ea(b,a)};wW.ma=1;
function xW(a){if(null!=a&&null!=a.og)a=a.og(a);else{var b=xW[oa(null==a?null:a)];if(null!=b)a=b.ba?b.ba(a):b.call(null,a);else if(b=xW._,null!=b)a=b.ba?b.ba(a):b.call(null,a);else throw Dc("IDisposable.dispose!",a);}return a}function yW(a,b,c,d){return a._handle_change(b,c,d)}function zW(a){this.f=a;this.state=null;this.Hd=!0;this.bh=!1;this.Bf=this.Xc=this.Hb=this.Yd=null;this.ha=2153807872;this.na=114690}g=zW.prototype;
g._peek_at=function(){var a=nW;nW=null;try{return this.tb(null)}finally{nW=a}};g._handle_change=function(a,b,c){return b===c||this.Hd?null:null==this.Xc?(this.Hd=!0,null==uW&&(uW=[],!1===iW.sf&&iW.schedule()),uW.push(this)):!0===this.Xc?this._run(!1):this.Xc.ba?this.Xc.ba(this):this.Xc.call(null,this)};
g._update_watching=function(a){var b=uk(a),c=uk(this.Yd);this.Yd=a;a=E(JI.aa(b,c));for(var d=null,e=0,f=0;;)if(f<e){var h=d.La(null,f);Qd(h,this,yW);f+=1}else if(a=E(a))d=a,Hf(d)?(a=ae(d),f=be(d),d=a,e=M(a),a=f):(a=J(d),Qd(a,this,yW),a=K(d),d=null,e=0),f=0;else break;b=E(JI.aa(c,b));c=null;for(e=d=0;;)if(e<d)a=c.La(null,e),Rd(a,this),e+=1;else if(b=E(b))c=b,Hf(c)?(b=ae(c),d=be(c),c=b,a=M(b),b=d,d=a):(a=J(c),Rd(a,this),b=K(c),c=null,d=0),e=0;else return null};
g._queued_run=function(){return this.Hd&&null!=this.Yd?this._run(!0):null};g._try_capture=function(a){try{return this.Bf=null,oW(a,this)}catch(b){return this.Bf=this.state=a=b,this.Hd=!1}};g._run=function(a){var b=this.state;a=r(a)?this._try_capture(this.f):oW(this.f,this);this.bh||(this.state=a,null==this.Hb||D.aa(b,a)||sW(this,b,a));return a};
g._set_opts=function(a){var b=null!=a&&(a.ha&64||l===a.Ea)?hh(ik,a):a;a=B.aa(b,Xu);var c=B.aa(b,nA),d=B.aa(b,Pm);b=B.aa(b,qo);null!=a&&(this.Xc=a);null!=c&&(this.Ci=c);null!=d&&(this.fh=d);return null!=b?this.bh=b:null};g.ua=function(a,b,c){return tW(b,c,"Reaction",new p(null,1,[pl,this.tb(null)],null))};g.wa=function(){return wa(this)};g.qa=function(a,b){return this===b};
g.og=function(){var a=this.state,b=this.Yd;this.Xc=this.state=this.Yd=null;this.Hd=!0;b=E(uk(b));for(var c=null,d=0,e=0;;)if(e<d){var f=c.La(null,e);Rd(f,this);e+=1}else if(b=E(b))c=b,Hf(c)?(b=ae(c),e=be(c),c=b,d=M(b),b=e):(b=J(c),Rd(b,this),b=K(c),c=null,d=0),e=0;else break;null!=this.fh&&this.fh(a);a=this.lj;if(null==a)return null;b=a.length;for(c=0;;)if(c<b)d=a[c],d.ba?d.ba(this):d.call(null,this),c+=1;else return null};g.Pc=function(a,b){a=this.state;this.state=b;this.Ci(a,b);sW(this,a,b);return b};
g.Jf=function(a,b){var c=this;return c.Pc(null,function(){var d=c._peek_at();return b.ba?b.ba(d):b.call(null,d)}())};g.Kf=function(a,b,c){var d=this;return d.Pc(null,function(){var e=d._peek_at();return b.aa?b.aa(e,c):b.call(null,e,c)}())};g.Lf=function(a,b,c,d){var e=this;return e.Pc(null,function(){var f=e._peek_at();return b.ca?b.ca(f,c,d):b.call(null,f,c,d)}())};g.Mf=function(a,b,c,d,e){return this.Pc(null,kh(b,this._peek_at(),c,d,e))};g.Of=function(a,b){sW(this,a,b)};
g.Ye=function(a,b,c){return qW(this,b,c)};g.Ze=function(a,b){a=zf(this.Hb);rW(this,b);return!a&&zf(this.Hb)&&null==this.Xc?this.og(null):null};g.tb=function(){var a=this.Bf;if(null!=a)throw a;(a=null==nW)&&(AW.ja?AW.ja():AW.call(null));a&&null==this.Xc?this.Hd&&(a=this.state,this.state=this.f.ja?this.f.ja():this.f.call(null),null==this.Hb||D.aa(a,this.state)||sW(this,a,this.state)):(pW(this),this.Hd&&this._run(!1));return this.state};
function AW(){for(;;){var a=uW;if(null==a)return null;uW=null;for(var b=a.length,c=0;;)if(c<b)a[c]._queued_run(),c+=1;else break}}eW=AW;function BW(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=1<b.length?new I(b.slice(1),0,null):null;b=arguments[0];var e=null!=c&&(c.ha&64||l===c.Ea)?hh(ik,c):c;c=B.aa(e,Xu);d=B.aa(e,nA);e=B.aa(e,Pm);b=new zW(b);b._set_opts(new p(null,3,[Xu,c,nA,d,Pm,e],null));return b}var CW=BW(null);
function DW(a,b){var c=EW,d=CW,e=oW(a,d);null!=d.Yd&&(CW=BW(null),d._set_opts(c),d.f=a,d.Xc=function(){return jW.ba?jW.ba(b):jW.call(null,b)},b.cljsRatom=d);return e};var FW;function GW(a,b){var c=b.argv;if(null==c){c=Z;a=a.constructor;a:for(var d=ib(b),e=d.length,f=W,h=0;;)if(h<e){var k=d[h];f=R.ca(f,Ig.ba(k),jb(b,k));h+=1}else break a;b=new X(null,2,5,c,[a,f],null)}else b=c;return b}function HW(a){var b;if(b=uf(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.Jd);return b}
function IW(a,b){for(;;){var c=a.Jd,d=!0===a.Lh?c.call(a,a):function(){var e=GW(a,a.props);switch(M(e)){case 1:return c.call(a);case 2:return c.call(a,af(e,1));case 3:return c.call(a,af(e,1),af(e,2));case 4:return c.call(a,af(e,1),af(e,2),af(e,3));case 5:return c.call(a,af(e,1),af(e,2),af(e,3),af(e,4));default:return c.apply(a,Jc(e).slice(1))}}();if(Gf(d))return lW(b,d);if(Mf(d))d=HW(d)?function(e,f,h,k,m){return function(){function n(u){var w=null;if(0<arguments.length){w=0;for(var z=Array(arguments.length-
0);w<z.length;)z[w]=arguments[w+0],++w;w=new I(z,0,null)}return q.call(this,w)}function q(u){return lW(f,ih(Ii,m,u))}n.ma=0;n.pa=function(u){u=E(u);return q(u)};n.ea=q;return n}()}(a,b,c,null,d):d,a.Jd=d;else return d}}var EW=new p(null,1,[qo,!0],null);
function JW(a,b){switch(a instanceof C?a.Ba:null){case "getDefaultProps":throw Error("getDefaultProps not supported");case "getDerivedStateFromProps":return function(c,d){return b.call(null,function(){var e=c.argv;null==e?e=c:(e=Q(e,1,null),e=Ef(e)?e:null);return e}(),d)};case "getInitialState":return function(c){var d=c.Nh;d=null!=d?d:c.Nh=wW.ba(null);return Eh(d,b.call(c,c))};case "getSnapshotBeforeUpdate":return function(c,d){return b.call(this,this,GW(this,c),d)};case "componentWillReceiveProps":return function(c){return b.call(this,
this,GW(this,c))};case "UNSAFE_componentWillReceiveProps":return function(c){return b.call(this,this,GW(this,c))};case "shouldComponentUpdate":return function(c){var d=YV;if(r(d))return d;d=this.props.argv;var e=c.argv,f=null==d||null==e;if(null==b){if(f)return f;try{return mh.aa(d,e)}catch(h){return!1}}else return f?b.call(this,this,GW(this,this.props),GW(this,c)):b.call(this,this,d,e)};case "componentWillUpdate":return function(c,d){return b.call(this,this,GW(this,c),d)};case "UNSAFE_componentWillUpdate":return function(c,
d){return b.call(this,this,GW(this,c),d)};case "componentDidUpdate":return function(c,d,e){return b.call(this,this,GW(this,c),d,e)};case "componentWillMount":return function(){return b.call(this,this)};case "UNSAFE_componentWillMount":return function(){return b.call(this,this)};case "componentDidMount":return function(){return b.call(this,this)};case "componentWillUnmount":return function(){var c=jb(this,"cljsRatom");null!=c&&xW(c);this.cljsIsDirty=!1;return null==b?null:b.call(this,this)};case "componentDidCatch":return function(c,
d){return b.call(this,this,c,d)};default:return null}}function KW(a,b){a=JW(a,b);return r(a)?a:b}var LW=new p(null,2,[cC,null,ix,null],null),MW=function(a){var b=Dh(W);return function(c){var d=B.aa(y(b),c);if(null!=d)return d;d=a.ba?a.ba(c):a.call(null,c);Fh.ka(b,R,c,d);return d}}(function(a){if("string"===typeof a)return a;a=Jg(a);a=LC(a,/(unsafe|UNSAFE)[-_]/,"UNSAFE_");a=QC(a,/-/);var b=E(a);a=J(b);b=K(b);return ih(t,a,Mh.aa(TV,b))});
function NW(a){return bg(function(b,c,d){return R.ca(b,Ig.ba(MW(c)),d)},W,a)}
function OW(a,b){var c=function(){var h=es.ba(a);return r(h)?h:Qu.ba(a)}(),d=null==es.ba(a),e=function(){var h=Ky.ba(a);if(r(h))return h;h=VV(c);return r(h)?h:t.ba(tl("reagent"))}(),f=bg(function(h,k,m){return R.ca(h,k,KW(k,m))},W,a);return R.ea(f,Ky,e,P([Xr,d,es,c,Qu,function(){var h=this,k=jb(h,"cljsRatom");h.cljsIsDirty=!1;return null==k?DW(function(){a:{var m=FW;FW=h;try{var n=IW(h,b);break a}finally{FW=m}n=void 0}return n},h):k._run(!1)}]))}
function PW(a){return bg(function(b,c,d){c=Jg(c);b[c]=d;return b},{},a)}function QW(a,b){return OW(mk.ea(P([LW,NW(a)])),b)}var RW=new X(null,5,5,Z,[vv,Pt,lx,tx,Yy],null);
function SW(a,b){function c(k,m,n){lV.Component.call(this,k,m,n);r(h)&&(h.aa?h.aa(this,k):h.call(null,this,k));r(f)&&(this.state=f.ba?f.ba(this):f.call(null,this));this.Tf=aW+=1;return this}a=QW(a,b);b=PW(lh(S,a,Ky,Zn,uv,P([Qu,es,RW])));var d=PW(ok(a,RW)),e=Ky.ba(a),f=Zn.ba(a),h=uv.ba(a);mb(c.prototype,lV.Component.prototype,b);r(Qu.ba(a))&&(c.prototype.render=Qu.ba(a));r(es.ba(a))&&(c.prototype.Jd=es.ba(a));r(Xr.ba(a))&&(c.prototype.Lh=Xr.ba(a));mb(c,lV.Component,d);r(e)&&(c.displayName=e,c.yb=e,
c.Ib=function(k){return Kd(k,e)});c.Fb=!0;return c.prototype.constructor=c}function TW(a,b,c){a=kW(a);return b[a]=c}
function UW(a,b){for(;;){var c=b.Jd,d=b.argv,e=hh(c,d);if(Gf(e))return lW(a,e);if(Mf(e))c=HW(e)?function(f,h,k,m,n,q){return function(){function u(z){var F=null;if(0<arguments.length){F=0;for(var H=Array(arguments.length-0);F<H.length;)H[F]=arguments[F+0],++F;F=new I(H,0,null)}return w.call(this,F)}function w(z){return lW(f,ih(Ii,q,z))}u.ma=0;u.pa=function(z){z=E(z);return w(z)};u.ea=w;return u}()}(a,b,c,null,d,e):e,b.Jd=c;else return e}}
function VW(a,b){var c=b.argv,d=b.Jd;b=lV.useState(0);Q(b,0,null);var e=Q(b,1,null),f=lV.useRef();r(f.current)||function(){var k={forceUpdate:function(){return e.ba?e.ba(Ne):e.call(null,Ne)}};k.Tf=aW+=1;k.constructor=d;k.Jd=d;return f.current=k}();var h=f.current;b=jb(h,"cljsRatom");lV.useEffect(function(){return function(){var k=jb(h,"cljsRatom");return null==k?null:xW(k)}},[]);h.argv=c;h.cljsIsDirty=!1;return null==b?DW(function(){a:{var k=FW;FW=h;try{var m=UW(a,h);break a}finally{FW=k}m=void 0}return m},
h):b._run(!1)}function WW(a,b){a=a.argv;b=b.argv;if(!1===YV)try{return D.aa(a,b)}catch(c){return!1}else return!1}function XW(a,b){function c(e){return VW(a,e)}var d=jb(b,kW(a));if(r(d))return d;c.displayName=VV(b);d=lV.memo(c,WW);TW(a,b,d);return d};var YW=new rk(null,new p(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null);
function ZW(a,b,c,d){var e=W;e=null!=e&&(e.ha&64||l===e.Ea)?hh(ik,e):e;e=B.aa(e,ft);if(a===document.activeElement&&Of(YW,a.type)&&"string"===typeof b&&"string"===typeof c){var f=a.value;if(mh.aa(f,c))return iW.add_after_render(function(){return $W.ba?$W.ba(d):$W.call(null,d)});c=M(f)-a.selectionStart;c=M(b)-c;d.cf=b;a.value=b;uf(e)&&(e.ba?e.ba(b):e.call(null,b));a.selectionStart=c;return a.selectionEnd=c}d.cf=b;a.value=b;return uf(e)?e.ba?e.ba(b):e.call(null,b):null}
function $W(a){if(r(a.Sf)){a.Ng=!1;var b=a.Mh,c=a.cf,d=a.$f;return mh.aa(b,c)?ZW(d,b,c,a):null}return null}function aX(a,b,c){a.cf=c.target.value;r(a.Ng)||(a.Ng=!0,iW.add_after_render(function(){return $W(a)}));return b.ba?b.ba(c):b.call(null,c)}
function bX(a){var b=FW;if(r(null!=a?function(){var f=a.hasOwnProperty("onChange");return r(f)?a.hasOwnProperty("value"):f}():!1)){var c=a.value;c=null==c?"":c;var d=a.onChange,e=a.ref;r(b.Sf)||(b.Sf=!0,b.cf=c);r(b.lh)||(b.lh=uf(e)?function(f){b.$f=f;return e.ba?e.ba(f):e.call(null,f)}:r(r(e)?e.hasOwnProperty("current"):e)?function(f){b.$f=f;return e.current=f}:function(f){return b.$f=f});b.Mh=c;delete a.value;a.defaultValue=c;a.onChange=function(f){return aX(b,d,f)};a.ref=b.lh}}
var cX=new p(null,4,[yx,"ReagentInput",VA,$W,cq,function(a){return a.Sf=null},Iw,function(a,b,c,d,e){bX(c);return mW(e,a,b,c,d)}],null);var dX={},eX,fX=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/,gX={"class":"className","for":"htmlFor",charset:"charSet"};function hX(a,b){return a.hasOwnProperty(b)?jb(a,b):null}function iX(a,b,c){if(WV(b)){var d=hX(gX,Jg(b));null==d?(d=UV(b),b=Jg(b),b=gX[b]=d):b=d}c=jX.ba?jX.ba(c):jX.call(null,c);a[b]=c;return a}
function jX(a){return"object"!==oa(a)?a:WV(a)?Jg(a):Ef(a)?bg(iX,{},a):Af(a)?El(a):Mf(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new I(f,0,null)}return c.call(this,e)}function c(d){return hh(a,d)}b.ma=0;b.pa=function(d){d=E(d);return c(d)};b.ea=c;return b}():El(a)}var kX={};function lX(a,b,c){if(WV(b)){var d=hX(kX,Jg(b));null==d?(d=UV(b),b=Jg(b),b=kX[b]=d):b=d}c=jX(c);a[b]=c;return a}
function mX(a){return"object"!==oa(a)?a:WV(a)?Jg(a):Ef(a)?bg(lX,{},a):Af(a)?El(a):Mf(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new I(f,0,null)}return c.call(this,e)}function c(d){return hh(a,d)}b.ma=0;b.pa=function(d){d=E(d);return c(d)};b.ea=c;return b}():El(a)}
function nX(a,b){var c=b.id;b=b.className;c=null!=c&&null==fC.ba(a)?R.ca(a,fC,c):a;return r(b)?R.ca(c,Cz,XV.aa(b,function(){var d=Cz.ba(a);return r(d)?d:Qx.ba(a)}())):c}function oX(a,b,c,d,e){switch(M(b)-e){case 0:return lV.createElement(c,d);case 1:return lV.createElement(c,d,lW(a,Q(b,e,null)));default:return lV.createElement.apply(null,bg(function(f,h,k){h>=e&&f.push(lW(a,k));return f},[c,d],b))}}function pX(a,b,c,d){this.tag=a;this.id=b;this.className=c;this.Qh=d}
function qX(a,b,c){var d=jb(a,kW(c));null==d?HW(a)?a=TW(c,a,a):(d=xf(a),d=R.ca(d,Iw,a),d=SW(d,c),a=TW(c,a,d)):a=d;c={};c.argv=b;b=$V(b);null!=b&&(c.key=b);return lV.createElement(a,c)}function rX(a,b,c,d){var e={};e.Jd=a;e.argv=Ni(b,c,M(b));b=$V(b);null!=b&&(e.key=b);return lV.createElement(XW(d,a),e)}function sX(a,b,c){var d;if(d=uf(a))d=null==a?null:a.prototype,d=null!=(null==d?null:d.render);return d?qX(a,b,c):rX(a,b,1,c)}var tX={};
function uX(a,b,c,d){var e=a.tag,f=Q(b,c,null),h=null==f||Ef(f),k=function(){var n=h?f:null;var q=Cz.ba(n);n=nX(r(q)?R.ca(n,Cz,XV.ba(q)):n,a);n=r(a.Qh)?mX(n):jX(n);return r(n)?n:{}}();c+=h?1:0;a:switch(e){case "input":case "textarea":var m=!0;break a;default:m=!1}if(m)return m=function(){var n=d.Oi;if(r(n))return n;n=SW(cX,d);return d.Oi=n}(),lW(d,wf(new X(null,6,5,Z,[m,b,e,k,c,d],null),xf(b)));m=ZV(xf(b));null!=m&&(k.key=m);return mW(d,b,e,k,c)}
function vX(a,b){return Jc(Mh.aa(function(c){return lW(b,c)},a))}
function wX(a,b,c){null==b&&console.error("vec-to-elem",hl.ea(P([a])));var d=Q(a,0,null);switch(d instanceof C?d.Ba:null){case "\x3e":return c=Q(a,1,null),uX(new pX(c,null,null,null),a,2,b);case "r\x3e":c=Q(a,1,null);d=Q(a,2,null);d=r(d)?d:{};var e=ZV(xf(a));null!=e&&(d.key=e);return mW(b,a,c,d,3);case "f\x3e":return rX(Q(a,1,null),a,2,b);case "\x3c\x3e":return d=Q(a,1,null),c=null==d||Ef(d),d=jX(c?d:null),d=r(d)?d:{},c=1+(c?1:0),e=$V(a),null!=e&&(d.key=e),mW(b,a,lV.Fragment,d,c);default:if(WV(d)||
"string"===typeof d)a:for(;;)switch(c=Q(a,0,null),c=Jg(c),d=c.indexOf("\x3e"),d){case -1:d=hX(tX,c);if(null==d){var f=K(Nk(fX,Jg(c)));d=Q(f,0,null);e=Q(f,1,null);f=Q(f,2,null);f=null==f?null:LC(f,/\./," ");var h=mh.aa(-1,d.indexOf("-"));d=new pX(d,e,f,h);c=tX[c]=d}else c=d;a=uX(c,a,1,b);break a;case 0:a=null;break a;default:a=wf(new X(null,2,5,Z,[zg.ca(c,0,d),R.ca(wf(a,null),0,zg.aa(c,d+1))],null),xf(a))}else a=c.ca?c.ca(d,a,b):c.call(null,d,a,b);return a}}
var xX=function(a){var b=tl("G__"),c=r(op.ba(a))?sX:qX;if("undefined"===typeof PV||"undefined"===typeof QV||"undefined"===typeof dX||"undefined"===typeof eX)eX=function(d,e,f,h){this.mc=d;this.id=e;this.Vg=f;this.yi=h;this.ha=393216;this.na=0},eX.prototype.ta=function(d,e){return new eX(this.mc,this.id,this.Vg,e)},eX.prototype.sa=function(){return this.yi},eX.prototype.Ni=function(){return this.id},eX.prototype.jh=function(d,e){d=this.Vg;return"object"!==oa(e)?e:Gf(e)?wX(e,this,d):Kf(e)?vX(e,this):
WV(e)?Jg(e):(null!=e?e.ha&2147483648||l===e.Wa||(e.ha?0:Bc(Md,e)):Bc(Md,e))?hl.ea(P([e])):e},eX.prototype.kh=function(d,e,f,h,k){return oX(this,e,f,h,k)},eX.Fb=!0,eX.yb="reagent.impl.template/t_reagent$impl$template41893",eX.Ib=function(d){return Kd(d,"reagent.impl.template/t_reagent$impl$template41893")};return new eX(a,b,c,W)}(W);var yX=Dh(W);function zX(a,b,c){var d=YV;YV=!0;try{return mV.render(a.ja?a.ja():a.call(null),b,function(){var e=YV;YV=!1;try{return Fh.ka(yX,R,b,a),iW.flush_after_render(),null!=c?c.ja?c.ja():c.call(null):null}finally{YV=e}})}finally{YV=d}}function AX(a){var b=document.getElementById("app");AW();var c=uf(xX)?new X(null,2,5,Z,[xX,xX],null):new X(null,2,5,Z,[xX,xq.ba(xX)],null),d=Q(c,0,null);c=Q(c,1,null);return zX(function(){return lW(d,uf(a)?a.ja?a.ja():a.call(null):a)},b,c)};var BX=jV(15,{});var CX=jV(68,{});var EX=jV(69,{});jV(70,{});var FX=jV(153,{});var module$node_modules$ol$Map=jV(250,{});var GX=jV(254,{});var HX=jV(312,{});var IX=jV(347,{});var vH=function(a,b,c){var d=Q(c,0,null),e=null!=d&&(d.ha&64||l===d.Ea)?hh(ik,d):d,f=B.aa(e,oC),h=B.ca(e,cy,MT.ea(P([ys,20]))),k=B.ca(e,Yt,function(){var ka=ts.ba(e);return r(ka)?ka:LT()}()),m=B.aa(e,OB),n=B.ca(e,Dz,Pv),q=B.aa(e,uu),u=B.ca(e,qq,tr),w=B.aa(e,Ln),z=B.aa(e,Wm),F=B.aa(e,kr);d=B.ca(e,wC,nQ(2048));var H=B.ca(e,qA,ZS),G=B.ca(e,Hw,!0);null!=Q(c,1,null)&&xU(dA,1594,new ul(function(){return new X(null,1,5,Z,["`make-channel-socket-client!` fn signature CHANGED with Sente v0.10.0."],null)}),
345134606);Of(e,Lm)&&xU(dA,1595,new ul(function(){return new X(null,1,5,Z,[":lp-timeout opt has CHANGED; please use :lp-timout-ms."],null)}),-2126070423);("string"!==typeof b||SC(b))&&xU(dA,1598,new ul(function(){return new X(null,1,5,Z,["WARNING: no CSRF token provided. Connections will FAIL if server-side CSRF check is enabled (as it is by default)."],null)}),61279393);var N=JU(n);n=function(){if(r($S)){var ka=$S.location;var pa=r(ka)?new p(null,7,[mq,ka.href,OB,ka.protocol,Bu,ka.hostname,kr,ka.host,
Zp,ka.pathname,Yq,ka.search,bB,ka.hash],null):null}else pa=null;ka=r(a)?a:Zp.ba(pa);var Ca=sA.ba(e);if(r(Ca))return new X(null,2,5,Z,[Ca.ca?Ca.ca(ka,pa,Eq):Ca.call(null,ka,pa,Eq),Ca.ca?Ca.ca(ka,pa,mA):Ca.call(null,ka,pa,mA)],null);r(m)?Ca=m:(Ca=OB.ba(pa),Ca=r(Ca)?Ca:Pn);pa=r(F)?r(w)?[t.ba(F),":",t.ba(w)].join(""):F:r(w)?[t.ba(Bu.ba(pa)),":",t.ba(w)].join(""):kr.ba(pa);return new X(null,2,5,Z,[dV(Ca,pa,ka,Eq),dV(Ca,pa,ka,mA)],null)}();c=Q(n,0,null);var O=Q(n,1,null);n=new p(null,3,[ds,jR(nQ(128),null),
jo,jR(nQ(10),null),qr,function(){var ka=nQ(512);return r(G)?iR(ka,Mh.ba(function(pa){return new X(null,2,5,Z,[uB,pa],null)})):jR(ka,null)}()],null);h=new p(null,6,[Yt,k,Gx,n,uu,q,Wm,z,Dz,N,cy,h],null);var U=mk.ea(P([h,new p(null,2,[hz,c,qA,H],null)])),ea=mk.ea(P([h,new p(null,3,[hz,O,oC,f,qA,H],null)])),va=new p(null,2,[wx,U,Sn,ea],null);f=KU(function(){var ka=u instanceof C?u.Ba:null;switch(ka){case "ws":return ZU(U,b);case "ajax":return bV(ea,b);case "auto":ka=mk.ea(P([new p(null,2,[zz,Dh(new p(null,
4,[qq,tr,Uy,!1,Lt,!1,ms,b],null)),vq,Dh(null)],null),va]));var pa=S.ea(ka,wx,P([Sn,zz,vq]));pa=Ff(ka)?bi.aa(W,pa):pa;return new cV(wx.ba(ka),Sn.ba(ka),zz.ba(ka),vq.ba(ka),null,nh(pa),null);default:throw Error(["No matching clause: ",t.ba(ka)].join(""));}}());if(r(f)){var xa=zz.ba(f),ya=ds.ba(n),Ta=yh.aa(NU,f);d=tR(new X(null,3,5,Z,[ds.ba(n),jo.ba(n),qr.ba(n)],null),d);H=iR(1,Mh.ba(function(ka){var pa=DU(ka);ka=r(pa)?new X(null,2,5,Z,[Zz,ka],null):ka;pa=Q(ka,0,null);var Ca=Q(ka,1,null);return new p(null,
6,[Kr,ya,du,Ta,jo,xa,Jp,ka,fC,pa,Eu,Ca],null)}));qR(d,H);return new p(null,4,[Qt,f,Kr,H,du,Ta,jo,zz.ba(f)],null)}return xU(dA,1700,new ul(function(){return new X(null,1,5,Z,["Failed to create channel socket"],null)}),-1336758438)}("/chsk",null,P([new p(null,1,[qq,tr],null)])),NP=null!=vH&&(vH.ha&64||l===vH.Ea)?hh(ik,vH):vH;B.aa(NP,Qt);var OP=B.aa(NP,Kr);B.aa(NP,du);B.aa(NP,jo);
var MX=Dh(function(){return null}),NX=JV(function(){return AV({className:"w-full"},null)},new X(null,1,5,Z,[new p(null,1,[AA,function(a){var b=J(Cw.ba(a));b=null!=b&&(b.ha&64||l===b.Ea)?hh(ik,b):b;b=B.aa(b,Gq);EX(ReactDOM.findDOMNode(Bo.ba(a)),{value:b,mode:"clojure",lineNumbers:!1});return a}],null)],null),"literate.app/Code"),OX=JV(function(){return AV(null,null)},new X(null,1,5,Z,[new p(null,1,[AA,function(a){var b=J(Cw.ba(a));b=null!=b&&(b.ha&64||l===b.Ea)?hh(ik,b):b;b=B.aa(b,VB);CX(ReactDOM.findDOMNode(Bo.ba(a)),
El(b));return a}],null)],null),"literate.app/VegaLite");function PX(a){return new X(null,2,5,Z,[Dp,new p(null,1,[Ux,new p(null,1,[Qz,BX(Pz.ba(a))],null)],null)],null)}function QX(a){return new X(null,2,5,Z,[mm,new p(null,1,[Ux,new p(null,1,[Qz,Xt.ba(a)],null)],null)],null)}
function RX(a){a=null!=a&&(a.ha&64||l===a.Ea)?hh(ik,a):a;var b=B.aa(a,Gr),c=B.aa(a,ty),d=B.aa(a,Tz),e=B.aa(a,Jm);return new X(null,2,5,Z,[wt,new p(null,2,[tq,new p(null,1,[Cx,r(b)?b:"500px"],null),ux,function(f){if(r(f)){var h=(new GX.default).readFeature(c,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"});return new module$node_modules$ol$Map.default({target:f,layers:[new IX.Tile({source:new HX.OSM}),new IX.Vector({source:new HX.Vector({features:[h]})})],view:new FX.default({center:El(d),
zoom:r(e)?e:4})})}return null}],null)],null)}
var VX=JV(function(a){return AV({className:"flex flex-1 space-x-2"},[Jc(function(){return function d(c){return new Kg(null,function(){for(;;){var e=E(c);if(e){if(Hf(e)){var f=ae(e),h=M(f),k=Og(h);a:for(var m=0;;)if(m<h){var n=x(f,m);n=AV({key:lC.ba(n),className:"flex-1"},[zV(UX.ba?UX.ba(n):UX.call(null,n))]);k.add(n);m+=1}else{f=!0;break a}return f?Qg(Sg(k),d(be(e))):Qg(Sg(k),null)}k=J(e);return gf(AV({key:lC.ba(k),className:"flex-1"},[zV(UX.ba?UX.ba(k):UX.call(null,k))]),d(Ee(e)))}return null}},
null,null)}(aq.ba(a))}())])},null,"literate.app/Row"),WX=JV(function(a){return AV({className:"flex flex-col flex-1 space-y-2"},[Jc(function(){return function d(c){return new Kg(null,function(){for(;;){var e=E(c);if(e){if(Hf(e)){var f=ae(e),h=M(f),k=Og(h);a:for(var m=0;;)if(m<h){var n=x(f,m);n=AV({key:lC.ba(n),className:"flex-1"},[zV(UX.ba?UX.ba(n):UX.call(null,n))]);k.add(n);m+=1}else{f=!0;break a}return f?Qg(Sg(k),d(be(e))):Qg(Sg(k),null)}k=J(e);return gf(AV({key:lC.ba(k),className:"flex-1"},[zV(UX.ba?
UX.ba(k):UX.call(null,k))]),d(Ee(e)))}return null}},null,null)}(aq.ba(a))}())])},null,"literate.app/Column");
function UX(a){var b=null!=a&&(a.ha&64||l===a.Ea)?hh(ik,a):a,c=B.aa(b,lC),d=B.aa(b,ct);b=function(){switch(d instanceof C?d.Ba:null){case "widget.type/html":return QX;case "widget.type/row":return VX;case "widget.type/column":return WX;case "widget.type/vega-lite":return OX;case "widget.type/code":return NX;case "widget.type/markdown":return PX;case "widget.type/geoplot":return RX;default:return new X(null,2,5,Z,[QA,new X(null,3,5,Z,[Fq,"Unknown Widget type ",new X(null,2,5,Z,[Lq,t.ba(d)],null)],
null)],null)}}();console.log("Render",Jg(d));return wf(new X(null,2,5,Z,[b,a],null),new p(null,1,[sB,c],null))}
function XX(a){return new X(null,4,5,Z,[Uu,new X(null,3,5,Z,[yq,new p(null,1,[tq,new p(null,1,[qw,"Cinzel"],null)],null),"Literate"],null),function(){return function d(c){return new Kg(null,function(){for(;;){var e=E(c);if(e){var f=e;if(Hf(f)){var h=ae(f),k=M(h),m=Og(k);return function(){for(var z=0;;)if(z<k){var F=x(h,z),H=null!=F&&(F.ha&64||l===F.Ea)?hh(ik,F):F,G=H,N=B.aa(H,Xf);Rg(m,new X(null,4,5,Z,[Zq,new p(null,1,[sB,N],null),new X(null,3,5,Z,[Mm,new p(null,1,[Fn,function(O,U,ea,va,xa){return function(){return VP(xa)}}(z,
F,H,G,N,h,k,m,f,e)],null),new X(null,1,5,Z,[Wt],null)],null),new X(null,2,5,Z,[MA,UX(G)],null)],null));z+=1}else return!0}()?Qg(Sg(m),d(be(f))):Qg(Sg(m),null)}var n=J(f),q=null!=n&&(n.ha&64||l===n.Ea)?hh(ik,n):n,u=q,w=B.aa(q,Xf);return gf(new X(null,4,5,Z,[Zq,new p(null,1,[sB,w],null),new X(null,3,5,Z,[Mm,new p(null,1,[Fn,function(z,F,H,G){return function(){return VP(G)}}(n,q,u,w,f,e)],null),new X(null,1,5,Z,[Wt],null)],null),new X(null,2,5,Z,[MA,UX(u)],null)],null),d(Ee(f)))}return null}},null,null)}(a)}(),
new X(null,2,5,Z,[$z,new X(null,3,5,Z,[Ey,new p(null,1,[Fn,function(){return tP(new X(null,1,5,Z,[new p(null,3,[lC,t.ba(em()),ct,nv,Gq,function(){var b=new ec,c=lc,d=kc;lc=!0;kc=function(e){return b.append(e)};try{NE()}finally{kc=d,lc=c}return t.ba(b)}()],null)],null))}],null),new X(null,1,5,Z,[Py],null)],null)],null)],null)}
function YX(a){a=null!=a&&(a.ha&64||l===a.Ea)?hh(ik,a):a;var b=B.aa(a,Eu),c=Q(b,0,null);b=Q(b,1,null);console.group("Sente");console.log(ok(a,new X(null,2,5,Z,[fC,Eu],null)));console.groupEnd();return D.aa(pB,c)?tP(b):null}
function ZX(){var a=new X(null,7,5,Z,[ur,new X(null,2,5,Z,[Dg(Zw,gC,new X(null,2,5,Z,[Gs,new p(null,1,[aq,new X(null,1,5,Z,[Yx],null)],null)],null)),tv],null),XB,Rp,sp,new X(null,2,5,Z,[gC,lC],null),new X(null,1,5,Z,[Dg(Wr,Rp,gC,gy)],null)],null);var b=y(OE);a=PE.aa?PE.aa(a,b):PE.call(null,a,b);a=Wf(a);return AX(new X(null,2,5,Z,[XX,a],null))}function $X(){Eh(MX,fV(OP,YX));uP(function(){console.log("Will re-render...");return ZX()});return ZX()}Ha("literate.app.init",$X);try{$X()}catch(a){throw console.error("An error occurred when calling (literate.app/init)"),a;};
}).call(this);